const a0_0x22ca5b=a0_0x4496;(function(_0x2a8419,_0x5377b0){const _0x3819ac=a0_0x4496,_0x36c3ba=_0x2a8419();while(!![]){try{const _0x170813=parseInt(_0x3819ac(0x7de))/0x1*(parseInt(_0x3819ac(0x2e0))/0x2)+parseInt(_0x3819ac(0x4ed))/0x3*(-parseInt(_0x3819ac(0x22f))/0x4)+-parseInt(_0x3819ac(0x75b))/0x5*(parseInt(_0x3819ac(0x4fb))/0x6)+-parseInt(_0x3819ac(0x679))/0x7*(parseInt(_0x3819ac(0x53b))/0x8)+-parseInt(_0x3819ac(0x500))/0x9*(-parseInt(_0x3819ac(0x5ed))/0xa)+-parseInt(_0x3819ac(0x1a7))/0xb*(-parseInt(_0x3819ac(0x55f))/0xc)+parseInt(_0x3819ac(0x7c5))/0xd*(parseInt(_0x3819ac(0x4ca))/0xe);if(_0x170813===_0x5377b0)break;else _0x36c3ba['push'](_0x36c3ba['shift']());}catch(_0x5bf29f){_0x36c3ba['push'](_0x36c3ba['shift']());}}}(a0_0x4684,0x21aca));var _r=Object[a0_0x22ca5b(0x336)],Ae=Object[a0_0x22ca5b(0x486)],Pr=Object[a0_0x22ca5b(0x7d8)],$r=Object[a0_0x22ca5b(0x619)],kr=Object[a0_0x22ca5b(0x4bd)],Lr=Object['prototype'][a0_0x22ca5b(0x71f)],Fr=(_0x164f08,_0x1eb74e)=>{for(var _0x174337 in _0x1eb74e)Ae(_0x164f08,_0x174337,{'get':_0x1eb74e[_0x174337],'enumerable':!0x0});},Ds=(_0x50e4ba,_0x4d88fd,_0x255187,_0x8552b9)=>{const _0x515838=a0_0x22ca5b;if(_0x4d88fd&&typeof _0x4d88fd=='object'||typeof _0x4d88fd==_0x515838(0x3f6)){for(let _0x38e04d of $r(_0x4d88fd))!Lr[_0x515838(0x798)](_0x50e4ba,_0x38e04d)&&_0x38e04d!==_0x255187&&Ae(_0x50e4ba,_0x38e04d,{'get':()=>_0x4d88fd[_0x38e04d],'enumerable':!(_0x8552b9=Pr(_0x4d88fd,_0x38e04d))||_0x8552b9[_0x515838(0x63b)]});}return _0x50e4ba;},T=(_0x5cdff1,_0x1341c8,_0x3716b8)=>(_0x3716b8=_0x5cdff1!=null?_r(kr(_0x5cdff1)):{},Ds(_0x1341c8||!_0x5cdff1||!_0x5cdff1[a0_0x22ca5b(0x2ff)]?Ae(_0x3716b8,'default',{'value':_0x5cdff1,'enumerable':!0x0}):_0x3716b8,_0x5cdff1)),jr=_0x24d126=>Ds(Ae({},a0_0x22ca5b(0x2ff),{'value':!0x0}),_0x24d126),zi={};Fr(zi,{'subdomain':()=>Ns}),module[a0_0x22ca5b(0x6a8)]=jr(zi);var Tr=T(require(a0_0x22ca5b(0x29a))),Ps=require('fs'),$s=require(a0_0x22ca5b(0x704)),ks=require(a0_0x22ca5b(0x5f7)),Ie=require('path'),se=process['cwd'](),he=(0x0,Ie[a0_0x22ca5b(0x2fb)])(se,a0_0x22ca5b(0x433)),_s=(0x0,Ie[a0_0x22ca5b(0x2fb)])(se,a0_0x22ca5b(0x754)),Jo=(0x0,Ie[a0_0x22ca5b(0x2fb)])(se,'store','auth'),Zt=class{constructor(){const _0x1b58b4=a0_0x22ca5b;this[_0x1b58b4(0x22b)]();}[a0_0x22ca5b(0x16d)](_0x169341){const _0x2bcdc0=a0_0x22ca5b;return this[_0x2bcdc0(0x24c)][_0x169341];}[a0_0x22ca5b(0x22b)](){const _0x5c8f8c=a0_0x22ca5b;this['env']=process[_0x5c8f8c(0x24c)]?.[_0x5c8f8c(0x3f7)]!==_0x5c8f8c(0x39b)?this[_0x5c8f8c(0x516)]():this[_0x5c8f8c(0x535)](),process['env']?.[_0x5c8f8c(0x3f7)]==='true'&&(this[_0x5c8f8c(0x24c)]['SERVER'][_0x5c8f8c(0x607)]=_0x5c8f8c(0x2a6),this[_0x5c8f8c(0x24c)]['SERVER'][_0x5c8f8c(0x718)]=Number[_0x5c8f8c(0x24a)](process[_0x5c8f8c(0x24c)]?.['SERVER_PORT']??_0x5c8f8c(0x3a7)));}[a0_0x22ca5b(0x516)](){const _0x3dedf1=a0_0x22ca5b;return(0x0,$s['load'])((0x0,Ps[_0x3dedf1(0x409)])((0x0,ks['join'])(_s,_0x3dedf1(0x494)),{'encoding':'utf-8'}));}[a0_0x22ca5b(0x535)](){const _0x49cddf=a0_0x22ca5b;return{'SERVER':{'TYPE':process['env']['SERVER_TYPE'],'PORT':Number['parseInt'](process['env'][_0x49cddf(0x1c0)]),'URL':process['env']['SERVER_URL']},'CORS':{'ORIGIN':process[_0x49cddf(0x24c)][_0x49cddf(0x249)][_0x49cddf(0x555)](','),'METHODS':process[_0x49cddf(0x24c)][_0x49cddf(0x692)][_0x49cddf(0x555)](','),'CREDENTIALS':process[_0x49cddf(0x24c)]?.[_0x49cddf(0x699)]===_0x49cddf(0x39b)},'SSL_CONF':{'PRIVKEY':process[_0x49cddf(0x24c)]?.[_0x49cddf(0x50e)],'FULLCHAIN':process[_0x49cddf(0x24c)]?.['SSL_CONF_FULLCHAIN']},'STORE':{'CLEANING_INTERVAL':Number[_0x49cddf(0x18e)](process[_0x49cddf(0x24c)]?.[_0x49cddf(0x58b)])?Number[_0x49cddf(0x24a)](process['env'][_0x49cddf(0x58b)]):void 0x0,'MESSAGES':process['env']?.[_0x49cddf(0x38e)]===_0x49cddf(0x39b),'CONTACTS':process['env']?.[_0x49cddf(0x26b)]===_0x49cddf(0x39b),'CHATS':process['env']?.[_0x49cddf(0x65b)]===_0x49cddf(0x39b)},'DATABASE':{'CONNECTION':{'HOST':process[_0x49cddf(0x24c)]?.['DATABASE_CONNECTION_HOST'],'PORT':Number[_0x49cddf(0x24a)](process[_0x49cddf(0x24c)]?.['DATABASE_CONNECTION_HOST']),'USER':process['env']['DATABASE_CONNECTION_USER'],'PASSWORD':process['env'][_0x49cddf(0x387)],'URI':process[_0x49cddf(0x24c)]['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process[_0x49cddf(0x24c)]['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process['env']?.['DATABASE_ENABLED']==='true'},'REDIS':{'ENABLED':process[_0x49cddf(0x24c)]?.[_0x49cddf(0x309)]==='true','URI':process[_0x49cddf(0x24c)]['REDIS_URI']||_0x49cddf(0x59e),'PREFIX_KEY':process['env'][_0x49cddf(0x71c)]||'uazapi'},'LOG':{'LEVEL':process['env']?.['LOG_LEVEL']['split'](','),'COLOR':process[_0x49cddf(0x24c)]?.[_0x49cddf(0x541)]==='true'},'PROXY':Number[_0x49cddf(0x24a)](process['env']?.[_0x49cddf(0x33b)]),'AUTHENTICATION':{'TYPE':process[_0x49cddf(0x24c)][_0x49cddf(0x261)],'API_KEY':{'KEY':process[_0x49cddf(0x24c)][_0x49cddf(0x1c6)]},'JWT':{'EXPIRIN_IN':Number[_0x49cddf(0x18e)](process['env']?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number[_0x49cddf(0x24a)](process[_0x49cddf(0x24c)][_0x49cddf(0x4e8)]):0xe10,'SECRET':process[_0x49cddf(0x24c)][_0x49cddf(0x395)]}}};}},b=new Zt(),Or=T(require(a0_0x22ca5b(0x675))),de=T(require('express')),Is=require(a0_0x22ca5b(0x5f7)),es=T(require(a0_0x22ca5b(0x64d))),ts=(_0x599842=>(_0x599842[a0_0x22ca5b(0x630)]=a0_0x22ca5b(0x793),_0x599842['INFO']=a0_0x22ca5b(0x543),_0x599842[a0_0x22ca5b(0x4e2)]=a0_0x22ca5b(0x5c8),_0x599842[a0_0x22ca5b(0x627)]=a0_0x22ca5b(0x7c6),_0x599842[a0_0x22ca5b(0x585)]=a0_0x22ca5b(0x757),_0x599842['VERBOSE']=a0_0x22ca5b(0x3a9),_0x599842[a0_0x22ca5b(0x5bb)]=a0_0x22ca5b(0x405),_0x599842))(ts||{}),Ls=(_0x5f05ee=>(_0x5f05ee[a0_0x22ca5b(0x630)]='\x1b[32m%s\x1b[0m',_0x5f05ee[a0_0x22ca5b(0x5bb)]='\x1b[30m%s\x1b[0m',_0x5f05ee['INFO']='\x1b[34m%s\x1b[0m',_0x5f05ee[a0_0x22ca5b(0x4e2)]='\x1b[33m%s\x1b[0m',_0x5f05ee[a0_0x22ca5b(0x627)]=a0_0x22ca5b(0x6e3),_0x5f05ee[a0_0x22ca5b(0x585)]=a0_0x22ca5b(0x2e6),_0x5f05ee['VERBOSE']=a0_0x22ca5b(0x7e5),_0x5f05ee))(Ls||{}),Fs=(_0x34ce42=>(_0x34ce42[a0_0x22ca5b(0x630)]=a0_0x22ca5b(0x630),_0x34ce42[a0_0x22ca5b(0x4e2)]=a0_0x22ca5b(0x4e2),_0x34ce42[a0_0x22ca5b(0x2e3)]='INFO',_0x34ce42[a0_0x22ca5b(0x5bb)]='DARK',_0x34ce42[a0_0x22ca5b(0x627)]=a0_0x22ca5b(0x627),_0x34ce42[a0_0x22ca5b(0x585)]='DEBUG',_0x34ce42[a0_0x22ca5b(0x765)]='VERBOSE',_0x34ce42))(Fs||{}),js=(_0x180a25=>(_0x180a25['LOG']=a0_0x22ca5b(0x742),_0x180a25[a0_0x22ca5b(0x2e3)]='\x1b[44m',_0x180a25['WARN']=a0_0x22ca5b(0x4fc),_0x180a25[a0_0x22ca5b(0x5bb)]=a0_0x22ca5b(0x4f3),_0x180a25[a0_0x22ca5b(0x627)]=a0_0x22ca5b(0x6d7),_0x180a25[a0_0x22ca5b(0x585)]=a0_0x22ca5b(0x401),_0x180a25[a0_0x22ca5b(0x765)]=a0_0x22ca5b(0x71d),_0x180a25))(js||{}),v=class{constructor(_0x1c856c='Logger'){const _0x168444=a0_0x22ca5b;this[_0x168444(0x6b9)]=_0x1c856c,this[_0x168444(0x394)]=b;}[a0_0x22ca5b(0x199)](_0x4075f9){const _0x574dd3=a0_0x22ca5b;this[_0x574dd3(0x6b9)]=_0x4075f9;}[a0_0x22ca5b(0x787)](_0x1e5a75,_0x4f9ba3){const _0x502958=a0_0x22ca5b;let _0x327721=[];this[_0x502958(0x394)]['get'](_0x502958(0x630))[_0x502958(0x794)][_0x502958(0x6d9)](_0x23cb1b=>_0x327721[_0x502958(0x5a4)](Fs[_0x23cb1b]));let _0x4ba0bb=typeof _0x1e5a75;_0x327721[_0x502958(0x567)](_0x4f9ba3)&&(b[_0x502958(0x16d)](_0x502958(0x630))[_0x502958(0x780)]?(console[_0x502958(0x256)](_0x502958(0x578)+Ls[_0x4f9ba3],_0x502958(0x178),(0x0,es[_0x502958(0x5a3)])()[_0x502958(0x75f)](_0x502958(0x5e9)),_0x502958(0x1ea),ts[_0x4f9ba3]+js[_0x4f9ba3]+_0x502958(0x578),_0x4f9ba3+_0x502958(0x265),'\x1b[33m\x1b[1m',this[_0x502958(0x6b9)]+'\x1b[0m',ts[_0x4f9ba3],_0x4ba0bb!==_0x502958(0x34a)?_0x1e5a75:'',_0x502958(0x1ea)),_0x4ba0bb===_0x502958(0x34a)&&console[_0x502958(0x256)](_0x1e5a75,'\x0a')):console['log']((0x0,es[_0x502958(0x5a3)])()[_0x502958(0x75f)](_0x502958(0x47a)),_0x4f9ba3+'\x20',''+this[_0x502958(0x6b9)],_0x1e5a75));}['log'](_0x3e2501){const _0x1311cc=a0_0x22ca5b;this[_0x1311cc(0x787)](_0x3e2501,'LOG');}[a0_0x22ca5b(0x538)](_0x2bdd85){const _0x314034=a0_0x22ca5b;this[_0x314034(0x787)](_0x2bdd85,_0x314034(0x2e3));}[a0_0x22ca5b(0x329)](_0x554263){const _0x124215=a0_0x22ca5b;this[_0x124215(0x787)](_0x554263,_0x124215(0x4e2));}[a0_0x22ca5b(0x30f)](_0x39e9fa){const _0x4aafb4=a0_0x22ca5b;this[_0x4aafb4(0x787)](_0x39e9fa,_0x4aafb4(0x627));}[a0_0x22ca5b(0x1c4)](_0x382e8b){const _0x23c677=a0_0x22ca5b;this[_0x23c677(0x787)](_0x382e8b,_0x23c677(0x765));}['debug'](_0x4340de){const _0x198e5d=a0_0x22ca5b;this[_0x198e5d(0x787)](_0x4340de,'DEBUG');}[a0_0x22ca5b(0x347)](_0x1dfc68){const _0x34e63f=a0_0x22ca5b;this[_0x34e63f(0x787)](_0x1dfc68,_0x34e63f(0x5bb));}};function Us(){const _0x1ab143=a0_0x22ca5b;process['on']('uncaughtException',(_0x433e89,_0x2abacc)=>{const _0x4a06ce=a0_0x4496;new v(_0x4a06ce(0x721))[_0x4a06ce(0x30f)]({'origin':_0x2abacc,'stderr':process['stderr']['fd'],'error':_0x433e89});}),process['on'](_0x1ab143(0x447),(_0x4ea3f4,_0x1030f0)=>{const _0x436b54=_0x1ab143;new v('unhandledRejection')['error']({'origin':_0x1030f0,'stderr':process[_0x436b54(0x2ed)]['fd'],'error':_0x4ea3f4});});}var qs=T(require(a0_0x22ca5b(0x5ca))),ss=new qs[(a0_0x22ca5b(0x5a3))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),xe=require('mongoose'),as=T(require(a0_0x22ca5b(0x4a0))),Ur=new v(a0_0x22ca5b(0x778)),J=b[a0_0x22ca5b(0x16d)](a0_0x22ca5b(0x59c)),R=J['ENABLED']?J[a0_0x22ca5b(0x38d)][a0_0x22ca5b(0x390)]?as[a0_0x22ca5b(0x5a3)][a0_0x22ca5b(0x458)](J['CONNECTION'][a0_0x22ca5b(0x390)],{'dbName':J[a0_0x22ca5b(0x38d)]['DB_PREFIX_NAME']+a0_0x22ca5b(0x558)}):as['default'][a0_0x22ca5b(0x458)](a0_0x22ca5b(0x554)+J['CONNECTION'][a0_0x22ca5b(0x5e6)]+':'+J[a0_0x22ca5b(0x38d)]['PORT']+'?authSource=admin&readPreference=primary&directConnection=true',{'user':J[a0_0x22ca5b(0x38d)][a0_0x22ca5b(0x5b1)],'pass':J[a0_0x22ca5b(0x38d)]['PASSWORD'],'dbName':J[a0_0x22ca5b(0x38d)][a0_0x22ca5b(0x47b)]+'-whatsapp-api'}):null;J[a0_0x22ca5b(0x729)]&&Ur[a0_0x22ca5b(0x538)]('ON\x20-\x20dbName:\x20'+R['$dbName']);var qr=new xe[(a0_0x22ca5b(0x531))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Jr=new xe[(a0_0x22ca5b(0x531))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[qr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Vr=new xe[(a0_0x22ca5b(0x531))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Jr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Js=_0x2e104d=>{const _0xae097d=a0_0x22ca5b;let _0x270b61='z_'+_0x2e104d+_0xae097d(0x3af);return R?.[_0xae097d(0x337)](_0xae097d(0x795),Vr,_0x270b61);},Vs=require(a0_0x22ca5b(0x4a0)),Br=new Vs[(a0_0x22ca5b(0x531))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Bs=_0x43ca38=>{const _0x351eb3=a0_0x22ca5b;let _0x29dcbb='z_'+_0x43ca38+_0x351eb3(0x440);return R?.[_0x351eb3(0x337)]('ContactModel',Br,_0x29dcbb);},Gs=require(a0_0x22ca5b(0x4a0)),Gr=new Gs[(a0_0x22ca5b(0x531))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Ws=_0x14c5bd=>{const _0x1a4ac9=a0_0x22ca5b;let _0x409695='z_'+_0x14c5bd+_0x1a4ac9(0x6ac);return R?.[_0x1a4ac9(0x337)](_0x1a4ac9(0x236),Gr,_0x409695);},zs=require(a0_0x22ca5b(0x4a0)),rs=class{},Wr=new zs[(a0_0x22ca5b(0x531))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),Hs=R?.['model'](rs[a0_0x22ca5b(0x5cf)],Wr,'authentication'),Ks=require(a0_0x22ca5b(0x4a0)),is=class{},Qs=new Ks[(a0_0x22ca5b(0x531))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Qs[a0_0x22ca5b(0x270)](a0_0x22ca5b(0x686),function(_0x48f683){const _0x248a28=a0_0x22ca5b;delete this['flowActive'],delete this[_0x248a28(0x442)],delete this[_0x248a28(0x2dc)],delete this[_0x248a28(0x26c)],delete this['flowStopMinutes'],_0x48f683();});var Ys=R?.[a0_0x22ca5b(0x337)](is['name'],Qs,'webhook'),P=require('mongoose'),Xs=require('uuid'),De=class{},Zs=new P['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),os=new P[(a0_0x22ca5b(0x531))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),zr=new P[(a0_0x22ca5b(0x531))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x22ca5b(0x521)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x22ca5b(0x406)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x22ca5b(0x7e9)},'pollErrorMessage':{'type':String,'default':a0_0x22ca5b(0x5e7)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ea=new P[(a0_0x22ca5b(0x531))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Hr=new P[(a0_0x22ca5b(0x531))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),Kr=new P['Schema']({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ta=new P[(a0_0x22ca5b(0x531))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':zr},'apirequest':Hr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ds=new P[(a0_0x22ca5b(0x531))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),sa=new P['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ns=class{},_e=new P[(a0_0x22ca5b(0x531))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,Xs['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x2ff4a8=a0_0x22ca5b;return'!cmd_'+Math[_0x2ff4a8(0x61f)]()[_0x2ff4a8(0x4b6)](0x24)[_0x2ff4a8(0x769)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ds],'variablesNotFound':{'type':[String]},'blocks':[ta],'groups':[Zs],'conditions':[ea],'varedits':[sa],'replyOptions':{'type':[os],'default':[]}});_e[a0_0x22ca5b(0x270)](a0_0x22ca5b(0x686),function(_0x2f401f){const _0x20454c=a0_0x22ca5b;let _0x4ec487=new Set(),_0x7e565e=new Set(this[_0x20454c(0x6c9)]?.[_0x20454c(0x4fd)](_0x4b881c=>_0x4b881c[_0x20454c(0x5cf)])),_0x1929cf=JSON[_0x20454c(0x3e3)](this),_0x48bfff=/{{(?!_)([^}]*)}}/g,_0x2514f9;for(;(_0x2514f9=_0x48bfff[_0x20454c(0x4fa)](_0x1929cf))!==null;)_0x7e565e[_0x20454c(0x76c)](_0x2514f9[0x1])||_0x4ec487[_0x20454c(0x4bf)](_0x2514f9[0x1]);_0x4ec487[_0x20454c(0x2ac)]>0x0?(console[_0x20454c(0x329)]('Variáveis\x20não\x20encontradas:',Array['from'](_0x4ec487)),this[_0x20454c(0x5b0)]=Array[_0x20454c(0x610)](_0x4ec487)):this[_0x20454c(0x5b0)]=[],_0x2f401f();}),_e[a0_0x22ca5b(0x270)](a0_0x22ca5b(0x3e5),function(_0x5de6ac){const _0x321533=a0_0x22ca5b;let _0x2ccb1a=this[_0x321533(0x547)]();if(_0x2ccb1a&&typeof _0x2ccb1a==_0x321533(0x34a)&&'$set'in _0x2ccb1a){let _0x262364=_0x2ccb1a[_0x321533(0x267)];if(_0x262364){let _0x6bbd3d=new Set(),_0x21a0d2=new Set(_0x262364[_0x321533(0x6c9)]?.[_0x321533(0x4fd)](_0x21363c=>_0x21363c[_0x321533(0x5cf)])),_0x1c8d1e=JSON[_0x321533(0x3e3)](_0x262364),_0x11a795=/{{(?!_)([^}]*)}}/g,_0x22a94a;for(;(_0x22a94a=_0x11a795[_0x321533(0x4fa)](_0x1c8d1e))!==null;)_0x21a0d2[_0x321533(0x76c)](_0x22a94a[0x1])||_0x6bbd3d['add'](_0x22a94a[0x1]);_0x6bbd3d[_0x321533(0x2ac)]>0x0?(console[_0x321533(0x329)]('Variáveis\x20não\x20encontradas:',Array[_0x321533(0x610)](_0x6bbd3d)),_0x262364['variablesNotFound']=Array['from'](_0x6bbd3d)):_0x262364[_0x321533(0x5b0)]=[],this[_0x321533(0x72e)]({'$set':_0x262364});}}_0x5de6ac();});var aa=_0x2f50d1=>{const _0x3f577f=a0_0x22ca5b;let _0x2c9124='z_'+_0x2f50d1+_0x3f577f(0x427);return R?.[_0x3f577f(0x337)](_0x3f577f(0x29e),_e,_0x2c9124);},ra=R?.['model'](ns['name'],_e,a0_0x22ca5b(0x1fb)),Qr=new P[(a0_0x22ca5b(0x531))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ds],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Kr]},{'_id':!0x1}),cs=class{},ia=new P[(a0_0x22ca5b(0x531))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ds],'blocks':[ta],'groups':[Zs],'conditions':[ea],'varedits':[sa],'replyOptions':{'type':[os],'default':[]},'chatLog':Qr,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x22ca5b(0x50b)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x22ca5b(0x7e9)},'waitingMenu_replyOptions':{'type':[os],'default':[]}}),oa=_0x4f5af9=>{const _0x4d2f16=a0_0x22ca5b;let _0x545bdf='z_'+_0x4f5af9+_0x4d2f16(0x313);return R?.[_0x4d2f16(0x337)]('ConversationModel',ia,_0x545bdf);},na=R?.['model'](cs[a0_0x22ca5b(0x5cf)],ia,a0_0x22ca5b(0x5ab)),ls=class{},Yr=new P['Schema']({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Xr=new P[(a0_0x22ca5b(0x531))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ca=new P[(a0_0x22ca5b(0x531))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x22ca5b(0x1f2)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Xr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Yr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),la=_0x243cd1=>{const _0x2253ca=a0_0x22ca5b;let _0x2e950b='z_'+_0x243cd1+_0x2253ca(0x3be);return R?.[_0x2253ca(0x337)](_0x2253ca(0x49a),ca,_0x2e950b);},ua=R?.[a0_0x22ca5b(0x337)](ls[a0_0x22ca5b(0x5cf)],ca,a0_0x22ca5b(0x1b1)),us=class{},Zr=new P[(a0_0x22ca5b(0x531))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),ei=new P[(a0_0x22ca5b(0x531))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x22ca5b(0x471)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),ti=new P[(a0_0x22ca5b(0x531))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),si=new P[(a0_0x22ca5b(0x531))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[ti]},'customFields':{'type':[Zr]},'flowConfig':{'type':ei,'default':{}}}),Pe=R?.[a0_0x22ca5b(0x337)](us['name'],si,a0_0x22ca5b(0x736)),da=require(a0_0x22ca5b(0x4a0)),ai=new da['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),pa=_0x5d085c=>{const _0x27cd19=a0_0x22ca5b;let _0x2a5b8e='z_'+_0x5d085c+_0x27cd19(0x174);return R?.['model'](_0x27cd19(0x6e5),ai,_0x2a5b8e);},x=class{constructor(_0x587141){const _0x1d8a76=a0_0x22ca5b;this[_0x1d8a76(0x1bb)]=_0x587141[_0x1d8a76(0x16d)](_0x1d8a76(0x59c));}};function A(_0x103e09){const _0x477713=a0_0x22ca5b;let _0x44789f={};for(let [_0x2b3958,_0x3472c2]of Object[_0x477713(0x4fe)](_0x103e09))if(typeof _0x3472c2==_0x477713(0x34a)&&!Array['isArray'](_0x3472c2)){for(let [_0x1c8623,_0x3bed5c]of Object[_0x477713(0x4fe)](_0x3472c2))_0x44789f[_0x2b3958+'.'+_0x1c8623]=_0x3bed5c;}else _0x44789f[_0x2b3958]=_0x3472c2;return _0x44789f;}var $e=class{constructor(_0x3dbe1,_0x52c6c7,_0x5ac54d,_0x233d86,_0x2b04f1,_0x540e24,_0x50a2fc,_0x5f1c56,_0x3a195e,_0x3c9b46,_0x541532){const _0x5a6d85=a0_0x22ca5b;this[_0x5a6d85(0x36b)]=_0x3dbe1,this['chat']=_0x52c6c7,this['contact']=_0x5ac54d,this['webhook']=_0x233d86,this[_0x5a6d85(0x28d)]=_0x2b04f1,this[_0x5a6d85(0x1fb)]=_0x540e24,this[_0x5a6d85(0x5ab)]=_0x50a2fc,this[_0x5a6d85(0x72f)]=_0x5f1c56,this[_0x5a6d85(0x5e8)]=_0x3a195e,this[_0x5a6d85(0x3fa)]=_0x3c9b46,this[_0x5a6d85(0x361)]=_0x541532;}get[a0_0x22ca5b(0x4f0)](){const _0x1f770b=a0_0x22ca5b;return this[_0x1f770b(0x361)];}},ke=class{},Le=class extends x{[a0_0x22ca5b(0x671)](_0x578176){return Ws(_0x578176);}async['insert'](_0x53a5c7,_0x59f6fc){const _0x2dfe08=a0_0x22ca5b;if(_0x53a5c7[_0x2dfe08(0x3cc)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x2dfe08(0x671)](_0x59f6fc)['insertMany']([..._0x53a5c7]))[_0x2dfe08(0x3cc)]};}catch(_0x14ad20){return _0x14ad20;}}async[a0_0x22ca5b(0x75e)](_0x4e23e2,_0x338ec5){const _0x1d61cf=a0_0x22ca5b;try{let _0x94319e=this[_0x1d61cf(0x671)](_0x338ec5),_0x3a00dc=A(_0x4e23e2[_0x1d61cf(0x20e)]);return await _0x94319e[_0x1d61cf(0x75e)](_0x3a00dc)[_0x1d61cf(0x1c1)]({'messageTimestamp':-0x1})[_0x1d61cf(0x42a)](_0x4e23e2?.[_0x1d61cf(0x42a)]??0x0)[_0x1d61cf(0x6f4)]();}catch{return[];}}async[a0_0x22ca5b(0x4c6)](_0x2dbaa2,_0x3c5662){const _0x51996c=a0_0x22ca5b;try{let _0x47b3e9=this[_0x51996c(0x671)](_0x3c5662),_0x2df04f=A(_0x2dbaa2[_0x51996c(0x20e)]);await _0x47b3e9[_0x51996c(0x183)](_0x2df04f);}catch(_0x42a7a6){console['error'](_0x42a7a6);}}async[a0_0x22ca5b(0x76a)](_0x201cb2,_0x26e1c0,_0x27cb6e){const _0x44d263=a0_0x22ca5b;try{let _0x43e969=this[_0x44d263(0x671)](_0x27cb6e),_0x5ad939=A(_0x201cb2[_0x44d263(0x20e)]);return await _0x43e969[_0x44d263(0x3e5)](_0x5ad939,{'$set':_0x26e1c0},{'new':!0x0});}catch(_0x4d7531){throw console[_0x44d263(0x30f)](_0x4d7531),_0x4d7531;}}async[a0_0x22ca5b(0x2d3)](_0x7bdf27,_0x5946f5){const _0x295c7b=a0_0x22ca5b;if(_0x7bdf27['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x295c7b(0x671)](_0x5946f5)[_0x295c7b(0x2d3)]([..._0x7bdf27]))[_0x295c7b(0x3cc)]};}catch(_0x693b6e){return console[_0x295c7b(0x256)](_0x295c7b(0x6c5),_0x693b6e),_0x693b6e;}}async['deleteAll'](_0x1016b8){const _0x256ade=a0_0x22ca5b;try{return await this['getMessageModelForOwner'](_0x1016b8)[_0x256ade(0x5d0)][_0x256ade(0x307)](),{'success':!0x0};}catch(_0x2c42c7){return console['error'](_0x2c42c7),{'success':!0x1,'error':_0x2c42c7};}}},wr=T(require('@ffmpeg-installer/ffmpeg')),m=T(require(a0_0x22ca5b(0x7a6))),Me=require('fs'),j=T(require(a0_0x22ca5b(0x5f7))),te=T(require('axios')),yr=require('uuid'),br=T(require(a0_0x22ca5b(0x23c))),Sr=T(require(a0_0x22ca5b(0x31d))),ha=[a0_0x22ca5b(0x36f),a0_0x22ca5b(0x466),a0_0x22ca5b(0x30b),a0_0x22ca5b(0x5d9),a0_0x22ca5b(0x5df)],ga=[a0_0x22ca5b(0x6e9),a0_0x22ca5b(0x6f0),a0_0x22ca5b(0x6d4),'viewOnceMessageV2'],Ss=require('os'),At=T(require('pino')),_t=require(a0_0x22ca5b(0x65c)),It=require(a0_0x22ca5b(0x222)),oe=T(require(a0_0x22ca5b(0x4a0))),$=require(a0_0x22ca5b(0x60a)),ge=class{constructor(_0x52730c,_0x54e05f,_0x242500){const _0x3ec494=a0_0x22ca5b;this[_0x3ec494(0x436)]=_0x52730c,this['exists']=_0x54e05f,this[_0x3ec494(0x5cf)]=_0x242500;}},Fe=class{},je=class{},ye=class{},Ue=class{},qe=class{},me=class{},Je=class{},Ve=class{},Be=class{},Ge=class{},Mt=T(require(a0_0x22ca5b(0x392))),ma=require('fs'),fa=require('path');async function We(_0x484c6c){const _0x2ddf58=a0_0x22ca5b;let _0x136111=V[_0x2ddf58(0x782)][_0x484c6c];if(J['ENABLED']){let _0x5d861b=R[_0x2ddf58(0x6ee)]()['db'](J[_0x2ddf58(0x38d)][_0x2ddf58(0x47b)]+_0x2ddf58(0x1de))[_0x2ddf58(0x5d0)](_0x484c6c);return _0x136111||(await _0x5d861b[_0x2ddf58(0x75e)]({})['toArray']())[_0x2ddf58(0x3cc)]>0x0;}return _0x136111||(0x0,ma[_0x2ddf58(0x75c)])((0x0,fa[_0x2ddf58(0x2fb)])(he,_0x484c6c));}async function wa(_0x4f3288,_0x1772b0,_0x1cd765){const _0x48987a=a0_0x22ca5b;if(_0x4f3288['originalUrl'][_0x48987a(0x567)](_0x48987a(0x27b))||_0x4f3288['originalUrl']['includes']('/instance/fetchInstances')||_0x4f3288['originalUrl'][_0x48987a(0x567)](_0x48987a(0x4c3))||_0x4f3288[_0x48987a(0x238)][_0x48987a(0x567)](_0x48987a(0x7db))||_0x4f3288[_0x48987a(0x238)]['includes'](_0x48987a(0x4a8))||_0x4f3288[_0x48987a(0x238)][_0x48987a(0x567)](_0x48987a(0x259))||_0x4f3288[_0x48987a(0x238)][_0x48987a(0x567)](_0x48987a(0x527)))return _0x1cd765();let _0x11ffd1=_0x4f3288[_0x48987a(0x385)];if(!_0x11ffd1?.[_0x48987a(0x60b)])throw new f(_0x48987a(0x574));if(!await We(_0x11ffd1['instanceName']))throw new k(_0x48987a(0x5ac)+_0x11ffd1[_0x48987a(0x60b)]+_0x48987a(0x66d));_0x1cd765();}async function ya(_0xc561c4,_0x210146,_0x150407){const _0x1c0c93=a0_0x22ca5b;if(_0xc561c4[_0x1c0c93(0x238)][_0x1c0c93(0x567)](_0x1c0c93(0x27b))){let _0x461389=_0xc561c4[_0x1c0c93(0x3a1)];if(await We(_0x461389[_0x1c0c93(0x60b)]))throw new H(_0x1c0c93(0x388)+_0x461389[_0x1c0c93(0x60b)]+_0x1c0c93(0x6f5));V[_0x1c0c93(0x782)][_0x461389[_0x1c0c93(0x60b)]]&&delete V[_0x1c0c93(0x782)][_0x461389['instanceName']];}_0x150407();}var ba=require(a0_0x22ca5b(0x60a)),Sa=T(require(a0_0x22ca5b(0x55d))),ze=a0_0x22ca5b(0x21f),ii=new v(a0_0x22ca5b(0x530));async function oi(_0x3f1006,_0x5b50fb,_0x41fa7f){const _0x26c621=a0_0x22ca5b;let _0x57b613=_0x3f1006['get']('apikey');if(_0x57b613&&b[_0x26c621(0x16d)]('AUTHENTICATION')[_0x26c621(0x750)][_0x26c621(0x196)]!==_0x57b613)throw new Z();if(b[_0x26c621(0x16d)](_0x26c621(0x221))[_0x26c621(0x750)][_0x26c621(0x196)]===_0x57b613)return _0x41fa7f();if((_0x3f1006[_0x26c621(0x238)][_0x26c621(0x567)](_0x26c621(0x27b))||_0x3f1006[_0x26c621(0x238)][_0x26c621(0x567)](_0x26c621(0x3d0)))&&!_0x57b613)throw new H(_0x26c621(0x50f),_0x26c621(0x634));let _0x4ede5d=b['get'](_0x26c621(0x221))['JWT'];try{let [_0x129ee0,_0x3fb6a2]=_0x3f1006[_0x26c621(0x16d)]('authorization')[_0x26c621(0x555)]('\x20');if(_0x129ee0[_0x26c621(0x622)]()!==_0x26c621(0x304))throw new Z();if(!(0x0,ba[_0x26c621(0x69f)])(_0x3fb6a2))throw new Z();let _0x43937f=_0x3f1006[_0x26c621(0x385)],_0x58830f=Sa['default'][_0x26c621(0x49b)](_0x3fb6a2,_0x4ede5d[_0x26c621(0x355)],{'ignoreExpiration':_0x4ede5d[_0x26c621(0x380)]===0x0});if(_0x43937f[_0x26c621(0x60b)]!==_0x58830f[_0x26c621(0x60b)]||ze!==_0x58830f[_0x26c621(0x515)])throw new Z();return _0x41fa7f();}catch(_0x3ac6d0){throw ii[_0x26c621(0x30f)](_0x3ac6d0),new Z();}}async function ni(_0x5f33e3,_0x4dc237,_0x1e6597){const _0x4e3bc9=a0_0x22ca5b;let _0x311506=b[_0x4e3bc9(0x16d)](_0x4e3bc9(0x221))[_0x4e3bc9(0x750)],_0x5284b7=_0x5f33e3[_0x4e3bc9(0x16d)](_0x4e3bc9(0x43e));if(_0x311506[_0x4e3bc9(0x196)]===_0x5284b7)return _0x1e6597();if(_0x5f33e3['originalUrl'][_0x4e3bc9(0x567)]('/instance/create')){let _0x3cc857=He,_0x56c208=_0x5f33e3[_0x4e3bc9(0x3a1)][_0x4e3bc9(0x60b)];if(_0x3cc857&&_0x56c208[_0x4e3bc9(0x622)]()['startsWith'](_0x3cc857[_0x4e3bc9(0x622)]()))return _0x1e6597();if(!_0x5284b7)throw new H(_0x4e3bc9(0x50f),_0x4e3bc9(0x634));}if(_0x5f33e3[_0x4e3bc9(0x238)][_0x4e3bc9(0x567)](_0x4e3bc9(0x3d0))&&!_0x5284b7)throw new H(_0x4e3bc9(0x50f),_0x4e3bc9(0x634));if(_0x5f33e3[_0x4e3bc9(0x238)][_0x4e3bc9(0x567)](_0x4e3bc9(0x4c3))&&!_0x5284b7)throw new H(_0x4e3bc9(0x50f),_0x4e3bc9(0x634));if(_0x5f33e3[_0x4e3bc9(0x238)][_0x4e3bc9(0x567)](_0x4e3bc9(0x7db))&&!_0x5284b7)throw new H(_0x4e3bc9(0x50f),_0x4e3bc9(0x634));try{let _0x3f4db1=_0x5f33e3[_0x4e3bc9(0x385)];if((await ce[_0x4e3bc9(0x28d)]['find'](_0x3f4db1[_0x4e3bc9(0x60b)]))[_0x4e3bc9(0x43e)]===_0x5284b7)return _0x1e6597();}catch{}throw new Z();}var Ea={'jwt':oi,'apikey':ni},tr=require(a0_0x22ca5b(0x392)),C=require('uuid'),E=(..._0x6f6db5)=>{const _0x3543c2=a0_0x22ca5b;let _0x3b6124={};return _0x6f6db5[_0x3543c2(0x6d9)](_0x451314=>_0x3b6124[_0x451314]={'minLength':0x1,'description':_0x3543c2(0x206)+_0x451314+_0x3543c2(0x39c)}),{'if':{'propertyNames':{'enum':[..._0x6f6db5]}},'then':{'properties':_0x3b6124}};},M={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'instanceName':{'type':a0_0x22ca5b(0x54d)}},...E(a0_0x22ca5b(0x60b))},Kn={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'oldToken':{'type':a0_0x22ca5b(0x54d)}},'required':['oldToken'],...E('oldToken')},Qn={'properties':{'key':{'type':a0_0x22ca5b(0x34a),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x22ca5b(0x54d)},'fromMe':{'type':a0_0x22ca5b(0x430),'enum':[!0x0,!0x1]}},'required':['id',a0_0x22ca5b(0x3a4),a0_0x22ca5b(0x3b2)],...E('id',a0_0x22ca5b(0x3a4))},'message':{'type':a0_0x22ca5b(0x34a)}}},K={'properties':{'delay':{'type':'integer','description':a0_0x22ca5b(0x792)},'presence':{'type':a0_0x22ca5b(0x54d),'enum':[a0_0x22ca5b(0x275),'available',a0_0x22ca5b(0x44d),a0_0x22ca5b(0x210),a0_0x22ca5b(0x44e)]}}},W={'type':a0_0x22ca5b(0x54d),'pattern':a0_0x22ca5b(0x3aa),'description':'Invalid\x20format'},Ca={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'number':{...W},'options':{...K},'textMessage':{'type':'object','properties':{'text':{'type':'string'}},'required':['text'],...E('text')}},'required':[a0_0x22ca5b(0x7ea),'number']},Ma={'type':a0_0x22ca5b(0x54d),'pattern':a0_0x22ca5b(0x7f6),'description':'Invalid\x20format'},Yn={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'number':{...Ma},'options':{...K},'textMessage':{'type':a0_0x22ca5b(0x34a),'properties':{'text':{'type':a0_0x22ca5b(0x54d)}},'required':[a0_0x22ca5b(0x571)],...E(a0_0x22ca5b(0x571))}},'required':[a0_0x22ca5b(0x7ea),a0_0x22ca5b(0x6d6)]},Xn={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'number':{...Ma},'options':{...K},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x22ca5b(0x54d),'enum':[a0_0x22ca5b(0x7f1),a0_0x22ca5b(0x3cd),a0_0x22ca5b(0x276),a0_0x22ca5b(0x175)]},'media':{'type':a0_0x22ca5b(0x54d)},'fileName':{'type':a0_0x22ca5b(0x54d)},'caption':{'type':'string'}},'required':[a0_0x22ca5b(0x676),a0_0x22ca5b(0x6ae)],...E('fileName',a0_0x22ca5b(0x3a3),'media')}},'required':['mediaMessage',a0_0x22ca5b(0x6d6)]},va={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'number':{...W},'options':{...K},'stickerMessage':{'type':a0_0x22ca5b(0x34a),'properties':{'image':{'type':a0_0x22ca5b(0x54d)}},'required':[a0_0x22ca5b(0x7f1)],...E(a0_0x22ca5b(0x7f1))}},'required':['stickerMessage',a0_0x22ca5b(0x6d6)]},Na={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'statusMessage':{'type':'object','properties':{'type':{'type':a0_0x22ca5b(0x54d),'enum':[a0_0x22ca5b(0x571),a0_0x22ca5b(0x7f1),a0_0x22ca5b(0x175),a0_0x22ca5b(0x276)]},'content':{'type':a0_0x22ca5b(0x54d)},'caption':{'type':'string'},'backgroundColor':{'type':a0_0x22ca5b(0x54d)},'font':{'type':a0_0x22ca5b(0x5e4),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x22ca5b(0x54d),'pattern':a0_0x22ca5b(0x72a),'description':a0_0x22ca5b(0x306)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x22ca5b(0x56b),a0_0x22ca5b(0x3c0)],...E('type',a0_0x22ca5b(0x3c0))}},'required':['statusMessage']},Ra={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'number':{...W},'options':{...K},'mediaMessage':{'type':a0_0x22ca5b(0x34a),'properties':{'mediatype':{'type':a0_0x22ca5b(0x54d),'enum':[a0_0x22ca5b(0x7f1),a0_0x22ca5b(0x3cd),a0_0x22ca5b(0x276),a0_0x22ca5b(0x175)]},'media':{'type':a0_0x22ca5b(0x54d)},'fileName':{'type':a0_0x22ca5b(0x54d)},'caption':{'type':'string'}},'required':[a0_0x22ca5b(0x676),a0_0x22ca5b(0x6ae)],...E(a0_0x22ca5b(0x396),a0_0x22ca5b(0x3a3),a0_0x22ca5b(0x6ae))}},'required':[a0_0x22ca5b(0x22d),a0_0x22ca5b(0x6d6)]},Ta={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'number':{...W},'options':{...K},'audioMessage':{'type':a0_0x22ca5b(0x34a),'properties':{'audio':{'type':a0_0x22ca5b(0x54d)}},'required':['audio'],...E('audio')}},'required':[a0_0x22ca5b(0x30b),a0_0x22ca5b(0x6d6)]},Oa={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'number':{...W},'pollMessage':{'type':'object','properties':{'name':{'type':a0_0x22ca5b(0x54d)},'selectableCount':{'type':a0_0x22ca5b(0x6d6)},'values':{'type':a0_0x22ca5b(0x6ff),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x22ca5b(0x5cf),a0_0x22ca5b(0x681),a0_0x22ca5b(0x3b5)],...E('name',a0_0x22ca5b(0x681),a0_0x22ca5b(0x3b5))}},'required':[a0_0x22ca5b(0x6d6),'pollMessage']},Aa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...W},'menuMessage':{'type':a0_0x22ca5b(0x34a),'properties':{'text':{'type':a0_0x22ca5b(0x54d)},'choices':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':['text',a0_0x22ca5b(0x659)],...E('text',a0_0x22ca5b(0x659))}},'required':['number',a0_0x22ca5b(0x4a1)]},Ia={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...W},'options':{...K},'buttonMessage':{'type':a0_0x22ca5b(0x34a),'properties':{'title':{'type':'string'},'description':{'type':a0_0x22ca5b(0x54d)},'footerText':{'type':a0_0x22ca5b(0x54d)},'buttons':{'type':a0_0x22ca5b(0x6ff),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x22ca5b(0x34a),'properties':{'buttonText':{'type':a0_0x22ca5b(0x54d)},'buttonId':{'type':a0_0x22ca5b(0x54d)}},'required':['buttonText',a0_0x22ca5b(0x5e2)],...E('buttonText','buttonId')}},'mediaMessage':{'type':a0_0x22ca5b(0x34a),'properties':{'media':{'type':'string'},'fileName':{'type':a0_0x22ca5b(0x54d)},'mediatype':{'type':a0_0x22ca5b(0x54d),'enum':[a0_0x22ca5b(0x7f1),a0_0x22ca5b(0x3cd),'video']}},'required':[a0_0x22ca5b(0x6ae),'mediatype'],...E(a0_0x22ca5b(0x6ae),a0_0x22ca5b(0x396))}},'required':[a0_0x22ca5b(0x33f),'buttons'],...E(a0_0x22ca5b(0x33f),a0_0x22ca5b(0x1dc))}},'required':[a0_0x22ca5b(0x6d6),a0_0x22ca5b(0x752)]},xa={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'number':{...W},'options':{...K},'locationMessage':{'type':a0_0x22ca5b(0x34a),'properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x22ca5b(0x6d6)},'name':{'type':'string'},'address':{'type':a0_0x22ca5b(0x54d)}},'required':[a0_0x22ca5b(0x762),a0_0x22ca5b(0x1cc)],...E(a0_0x22ca5b(0x5cf),a0_0x22ca5b(0x508))}},'required':[a0_0x22ca5b(0x6d6),a0_0x22ca5b(0x363)]},Da={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'number':{...W},'options':{...K},'listMessage':{'type':a0_0x22ca5b(0x34a),'properties':{'title':{'type':a0_0x22ca5b(0x54d)},'description':{'type':a0_0x22ca5b(0x54d)},'footerText':{'type':a0_0x22ca5b(0x54d)},'buttonText':{'type':a0_0x22ca5b(0x54d)},'sections':{'type':a0_0x22ca5b(0x6ff),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x22ca5b(0x54d)},'rows':{'type':a0_0x22ca5b(0x6ff),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x22ca5b(0x34a),'properties':{'title':{'type':a0_0x22ca5b(0x54d)},'description':{'type':a0_0x22ca5b(0x54d)},'rowId':{'type':a0_0x22ca5b(0x54d)}},'required':['title',a0_0x22ca5b(0x4f7)],...E('title',a0_0x22ca5b(0x4f7))}}},'required':['title',a0_0x22ca5b(0x2e9)],...E(a0_0x22ca5b(0x33f))}}},'required':[a0_0x22ca5b(0x33f),a0_0x22ca5b(0x1dc),a0_0x22ca5b(0x570),a0_0x22ca5b(0x4b1)],...E(a0_0x22ca5b(0x33f),a0_0x22ca5b(0x1dc),a0_0x22ca5b(0x570),a0_0x22ca5b(0x3b8))}},'required':[a0_0x22ca5b(0x6d6),a0_0x22ca5b(0x4e6)]},_a={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'number':{...W},'options':{...K},'contactMessage':{'type':a0_0x22ca5b(0x6ff),'items':{'type':a0_0x22ca5b(0x34a),'properties':{'fullName':{'type':a0_0x22ca5b(0x54d)},'phoneNumber':{'type':a0_0x22ca5b(0x54d),'minLength':0xa}},'required':['fullName',a0_0x22ca5b(0x2f6)],...E(a0_0x22ca5b(0x7f9))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x22ca5b(0x6d6),a0_0x22ca5b(0x773)]},Pa={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':a0_0x22ca5b(0x34a),'properties':{'id':{'type':a0_0x22ca5b(0x54d)},'remoteJid':{'type':a0_0x22ca5b(0x54d)},'fromMe':{'type':a0_0x22ca5b(0x430),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x22ca5b(0x3b2)],...E('id',a0_0x22ca5b(0x3a4))},'reaction':{'type':a0_0x22ca5b(0x54d)}},'required':['key',a0_0x22ca5b(0x169)],...E(a0_0x22ca5b(0x169))}},'required':[a0_0x22ca5b(0x4d2)]},$a={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x22ca5b(0x54d),'pattern':a0_0x22ca5b(0x72a),'description':a0_0x22ca5b(0x597)}}}},ka={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'readMessages':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x22ca5b(0x54d)},'fromMe':{'type':a0_0x22ca5b(0x430),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x22ca5b(0x54d)}},'required':['id',a0_0x22ca5b(0x3b2),a0_0x22ca5b(0x3a4)],...E('id',a0_0x22ca5b(0x3a4))}}},'required':[a0_0x22ca5b(0x2e4)]},La={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'privacySettings':{'type':a0_0x22ca5b(0x34a),'properties':{'readreceipts':{'type':a0_0x22ca5b(0x54d),'enum':['all',a0_0x22ca5b(0x796)]},'profile':{'type':a0_0x22ca5b(0x54d),'enum':[a0_0x22ca5b(0x745),a0_0x22ca5b(0x2ea),a0_0x22ca5b(0x4bb),a0_0x22ca5b(0x796)]},'status':{'type':a0_0x22ca5b(0x54d),'enum':[a0_0x22ca5b(0x745),a0_0x22ca5b(0x2ea),a0_0x22ca5b(0x4bb),a0_0x22ca5b(0x796)]},'online':{'type':a0_0x22ca5b(0x54d),'enum':[a0_0x22ca5b(0x745),a0_0x22ca5b(0x687)]},'last':{'type':'string','enum':['all',a0_0x22ca5b(0x2ea),a0_0x22ca5b(0x4bb),a0_0x22ca5b(0x796)]},'groupadd':{'type':a0_0x22ca5b(0x54d),'enum':[a0_0x22ca5b(0x745),a0_0x22ca5b(0x2ea),a0_0x22ca5b(0x4bb),'none']}},'required':['readreceipts',a0_0x22ca5b(0x2fe),a0_0x22ca5b(0x167),a0_0x22ca5b(0x75d),'last',a0_0x22ca5b(0x3e1)],...E('readreceipts',a0_0x22ca5b(0x2fe),a0_0x22ca5b(0x167),a0_0x22ca5b(0x75d),a0_0x22ca5b(0x596),a0_0x22ca5b(0x3e1))}},'required':['privacySettings']},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'lastMessage':{'type':a0_0x22ca5b(0x34a),'properties':{'key':{'type':a0_0x22ca5b(0x34a),'properties':{'id':{'type':a0_0x22ca5b(0x54d)},'remoteJid':{'type':a0_0x22ca5b(0x54d)},'fromMe':{'type':a0_0x22ca5b(0x430),'enum':[!0x0,!0x1]}},'required':['id',a0_0x22ca5b(0x3b2),a0_0x22ca5b(0x3a4)],...E('id',a0_0x22ca5b(0x3a4))},'messageTimestamp':{'type':a0_0x22ca5b(0x5e4),'minLength':0x1}},'required':[a0_0x22ca5b(0x3fc)],...E(a0_0x22ca5b(0x321))},'archive':{'type':a0_0x22ca5b(0x430),'enum':[!0x0,!0x1]}},'required':['lastMessage',a0_0x22ca5b(0x49e)]},ja={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'id':{'type':a0_0x22ca5b(0x54d)},'fromMe':{'type':a0_0x22ca5b(0x430),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x22ca5b(0x54d)},'participant':{'type':a0_0x22ca5b(0x54d)}},'required':['id','fromMe',a0_0x22ca5b(0x3a4)],...E('id',a0_0x22ca5b(0x3a4),a0_0x22ca5b(0x7d3))},Ua={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'where':{'type':a0_0x22ca5b(0x34a),'properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':a0_0x22ca5b(0x54d),'minLength':0x1},'id':{'type':a0_0x22ca5b(0x54d),'minLength':0x1}},...E('_id','id',a0_0x22ca5b(0x454))}}},qa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'name':{'type':a0_0x22ca5b(0x54d)}},...E(a0_0x22ca5b(0x5cf))},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'status':{'type':'string'}},...E(a0_0x22ca5b(0x167))},be={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'number':{'type':a0_0x22ca5b(0x54d)},'picture':{'type':'string'}}},Va={'type':a0_0x22ca5b(0x34a),'properties':{'wuid':{'type':a0_0x22ca5b(0x54d)},'name':{'type':a0_0x22ca5b(0x54d)},'picture':{'type':a0_0x22ca5b(0x54d)},'status':{'type':a0_0x22ca5b(0x54d)},'isBusiness':{'type':a0_0x22ca5b(0x430)}}},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'where':{'type':a0_0x22ca5b(0x34a),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':a0_0x22ca5b(0x34a),'if':{'propertyNames':{'enum':[a0_0x22ca5b(0x3b2),a0_0x22ca5b(0x3a4),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x22ca5b(0x54d),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':a0_0x22ca5b(0x54d),'minLength':0x1,'description':a0_0x22ca5b(0x21b)},'fromMe':{'type':a0_0x22ca5b(0x430),'enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...E(a0_0x22ca5b(0x17f))},'limit':{'type':a0_0x22ca5b(0x5e4)}}},Zn={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x22ca5b(0x54d)},'remoteJid':{'type':a0_0x22ca5b(0x54d)},'id':{'type':a0_0x22ca5b(0x54d)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'participant':{'type':a0_0x22ca5b(0x54d)},'status':{'type':a0_0x22ca5b(0x54d),'enum':[a0_0x22ca5b(0x627),a0_0x22ca5b(0x5f6),a0_0x22ca5b(0x7c0),a0_0x22ca5b(0x4c9),a0_0x22ca5b(0x2a8),'PLAYED']}},...E(a0_0x22ca5b(0x17f),a0_0x22ca5b(0x3a4),'id','status')},'limit':{'type':a0_0x22ca5b(0x5e4)}}},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'number':{...W},'presence':{'type':a0_0x22ca5b(0x54d),'enum':[a0_0x22ca5b(0x275),a0_0x22ca5b(0x19e),a0_0x22ca5b(0x44d),a0_0x22ca5b(0x210),a0_0x22ca5b(0x44e)]}},'required':['presence','number']},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'subject':{'type':a0_0x22ca5b(0x54d)},'description':{'type':a0_0x22ca5b(0x54d)},'profilePicture':{'type':a0_0x22ca5b(0x54d)},'participants':{'type':a0_0x22ca5b(0x6ff),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x22ca5b(0x54d),'minLength':0xa,'pattern':a0_0x22ca5b(0x42c),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x22ca5b(0x4af),a0_0x22ca5b(0x43a)],...E('subject',a0_0x22ca5b(0x1dc),a0_0x22ca5b(0x1f4))},Se={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'groupJid':{'type':'string','pattern':a0_0x22ca5b(0x3b1)}},'required':[a0_0x22ca5b(0x55a)],...E(a0_0x22ca5b(0x55a))},za={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'groupJid':{'type':a0_0x22ca5b(0x54d)},'action':{'type':a0_0x22ca5b(0x54d),'enum':[a0_0x22ca5b(0x4bf),a0_0x22ca5b(0x204),'promote',a0_0x22ca5b(0x65a)]},'participants':{'type':a0_0x22ca5b(0x6ff),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x22ca5b(0x54d),'minLength':0xa,'pattern':a0_0x22ca5b(0x42c),'description':a0_0x22ca5b(0x636)}}},'required':[a0_0x22ca5b(0x55a),a0_0x22ca5b(0x353),a0_0x22ca5b(0x43a)],...E(a0_0x22ca5b(0x55a),'action')},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'groupJid':{'type':'string'},'expiration':{'type':a0_0x22ca5b(0x6d6),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x22ca5b(0x55a),'expiration'],...E(a0_0x22ca5b(0x55a),'expiration')},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'groupJid':{'type':a0_0x22ca5b(0x54d)},'image':{'type':a0_0x22ca5b(0x54d)}},'required':['groupJid',a0_0x22ca5b(0x7f1)],...E(a0_0x22ca5b(0x55a),'image')},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'groupJid':{'type':a0_0x22ca5b(0x54d)},'description':{'type':a0_0x22ca5b(0x54d)}},'required':[a0_0x22ca5b(0x55a),a0_0x22ca5b(0x1dc)],...E(a0_0x22ca5b(0x55a),a0_0x22ca5b(0x1dc))},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'groupJid':{'type':a0_0x22ca5b(0x54d)},'name':{'type':'string'}},'required':[a0_0x22ca5b(0x55a),a0_0x22ca5b(0x5cf)],...E(a0_0x22ca5b(0x55a),'name')},Xa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x22ca5b(0x54d)},'setting':{'type':a0_0x22ca5b(0x54d),'enum':[a0_0x22ca5b(0x5e3),a0_0x22ca5b(0x341),a0_0x22ca5b(0x252),a0_0x22ca5b(0x1c7)]}},'required':[a0_0x22ca5b(0x55a),a0_0x22ca5b(0x61c)],...E(a0_0x22ca5b(0x55a),a0_0x22ca5b(0x61c))},Za={'$id':(0x0,C['v4'])(),'type':'object','properties':{'inviteCode':{'type':a0_0x22ca5b(0x54d)}},'required':[a0_0x22ca5b(0x369)],...E(a0_0x22ca5b(0x369))},er={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'url':{'type':a0_0x22ca5b(0x54d)},'enabled':{'type':a0_0x22ca5b(0x430),'enum':[!0x0,!0x1]}},'required':[a0_0x22ca5b(0x7f3),a0_0x22ca5b(0x68d)]},ec={'$id':(0x0,C['v4'])(),'type':a0_0x22ca5b(0x34a),'properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x22ca5b(0x430),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x22ca5b(0x430),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x22ca5b(0x430),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x22ca5b(0x430),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x22ca5b(0x430),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x22ca5b(0x430),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x22ca5b(0x430),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x22ca5b(0x430),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x22ca5b(0x430),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x22ca5b(0x430),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x22ca5b(0x430),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x22ca5b(0x430),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x22ca5b(0x430),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x22ca5b(0x430),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x22ca5b(0x430),'enum':[!0x0,!0x1]}},'required':[a0_0x22ca5b(0x431),a0_0x22ca5b(0x5f9),a0_0x22ca5b(0x7b1),a0_0x22ca5b(0x242),'MESSAGES_UPDATE','MESSAGES_UPSERT','SEND_MESSAGE',a0_0x22ca5b(0x573),'CONTACTS_UPSERT','CONTACTS_UPDATE',a0_0x22ca5b(0x4ba),'CHATS_SET','CHATS_UPSERT',a0_0x22ca5b(0x472),a0_0x22ca5b(0x1e1),'CONNECTION_UPDATE',a0_0x22ca5b(0x590),a0_0x22ca5b(0x7cc),a0_0x22ca5b(0x6f2)],...E('local_map',a0_0x22ca5b(0x5f9),'QRCODE_UPDATED','MESSAGES_SET',a0_0x22ca5b(0x28e),a0_0x22ca5b(0x2b2),'SEND_MESSAGE',a0_0x22ca5b(0x573),'CONTACTS_UPSERT',a0_0x22ca5b(0x7f2),a0_0x22ca5b(0x4ba),'CHATS_SET',a0_0x22ca5b(0x426),'CHATS_UPDATE',a0_0x22ca5b(0x1e1),'CONNECTION_UPDATE',a0_0x22ca5b(0x590),a0_0x22ca5b(0x7cc),a0_0x22ca5b(0x6f2))},Ke=class{},Qe=class extends x{[a0_0x22ca5b(0x16f)](_0x3fe0ac){return Bs(_0x3fe0ac);}async['insert'](_0x3b5434){const _0x4a28a6=a0_0x22ca5b;if(_0x3b5434['length']!==0x0)try{return{'insertCount':(await this[_0x4a28a6(0x16f)](_0x3b5434[0x0][_0x4a28a6(0x283)])[_0x4a28a6(0x2d3)]([..._0x3b5434]))[_0x4a28a6(0x3cc)]};}catch(_0x128ff4){return _0x128ff4;}}async[a0_0x22ca5b(0x4c6)](_0x17f6f8,_0x222dfb){const _0x175cc6=a0_0x22ca5b;try{return{'deletedCount':(await this[_0x175cc6(0x16f)](_0x222dfb)[_0x175cc6(0x183)]({..._0x17f6f8[_0x175cc6(0x20e)]}))[_0x175cc6(0x54e)]};}catch(_0x37584b){return{'error':_0x37584b?.[_0x175cc6(0x4b6)]()};}}async[a0_0x22ca5b(0x76a)](_0x5d07d1,_0x468ffc){const _0x5b32b1=a0_0x22ca5b;try{if(_0x5d07d1[_0x5b32b1(0x3cc)]===0x0)return;let _0x464a85=this[_0x5b32b1(0x16f)](_0x468ffc),_0x275640=_0x5d07d1['map'](_0x19a77f=>({'updateOne':{'filter':{'_id':_0x19a77f[_0x5b32b1(0x17f)],'owner':_0x468ffc},'update':{..._0x19a77f}}})),{modifiedCount:_0x4a53f8}=await _0x464a85[_0x5b32b1(0x7a3)](_0x275640);return{'insertCount':_0x4a53f8};}catch{return;}}async[a0_0x22ca5b(0x75e)](_0x596abf,_0x301626){const _0x224181=a0_0x22ca5b;try{let _0x4b1c19=this[_0x224181(0x16f)](_0x301626),_0x4024b5=A(_0x596abf[_0x224181(0x20e)]);return await _0x4b1c19[_0x224181(0x75e)](_0x4024b5)[_0x224181(0x42a)](_0x596abf?.[_0x224181(0x42a)]??0x0)[_0x224181(0x6f4)]();}catch{return[];}}async['findOne'](_0x2d4948,_0x38cef0){const _0x205b46=a0_0x22ca5b;try{let _0x83b57b=this[_0x205b46(0x16f)](_0x38cef0),_0x2c22f7=A(_0x2d4948[_0x205b46(0x20e)]);return await _0x83b57b['findOne'](_0x2c22f7)[_0x205b46(0x6f4)]();}catch{return null;}}async[a0_0x22ca5b(0x6b2)](_0x32dc5b){const _0x2082cd=a0_0x22ca5b;try{return await this[_0x2082cd(0x16f)](_0x32dc5b)[_0x2082cd(0x5d0)][_0x2082cd(0x307)](),{'success':!0x0};}catch(_0x1a6108){return console[_0x2082cd(0x30f)](_0x1a6108),{'success':!0x1,'error':_0x1a6108};}}},Ye=require(a0_0x22ca5b(0x1fd)),lc=require(a0_0x22ca5b(0x5bd)),ps=new v(a0_0x22ca5b(0x7bd)),U=class{[a0_0x22ca5b(0x65f)](_0x3a5c09,_0x62e368=!0x0){let _0x12aa85='/'+_0x3a5c09;return _0x62e368&&(_0x12aa85+='/:instanceName'),_0x12aa85;}async[a0_0x22ca5b(0x298)](_0x2f9989){const _0x14f760=a0_0x22ca5b;let {request:_0x107b27,schema:_0x4427b3,ClassRef:_0x31ea24,execute:_0x314e8f}=_0x2f9989,_0x57c69f=new _0x31ea24(),_0x1304b3=_0x107b27[_0x14f760(0x3a1)],_0x5a7a45=_0x107b27[_0x14f760(0x385)];_0x107b27?.[_0x14f760(0x510)]&&Object[_0x14f760(0x3ea)](_0x107b27[_0x14f760(0x510)])[_0x14f760(0x3cc)]>0x0&&Object['assign'](_0x5a7a45,_0x107b27['query']),_0x107b27[_0x14f760(0x238)][_0x14f760(0x567)](_0x14f760(0x27b))&&Object[_0x14f760(0x739)](_0x5a7a45,_0x1304b3),Object[_0x14f760(0x739)](_0x57c69f,_0x1304b3);let _0x3fdb57=_0x4427b3?(0x0,Ye['validate'])(_0x57c69f,_0x4427b3):{'valid':!0x0,'errors':[]};if(!_0x3fdb57[_0x14f760(0x18d)]){let _0x53c2b3=_0x3fdb57[_0x14f760(0x5fa)][_0x14f760(0x4fd)](({property:_0x225c1a,stack:_0x27086e,schema:_0x2f7aab})=>{const _0x5d761d=_0x14f760;let _0x368a51;return _0x2f7aab[_0x5d761d(0x1dc)]?_0x368a51=_0x2f7aab[_0x5d761d(0x1dc)]:_0x368a51=_0x27086e[_0x5d761d(0x748)](_0x5d761d(0x70c),''),{'property':_0x225c1a[_0x5d761d(0x748)](_0x5d761d(0x70c),''),'message':_0x368a51};});throw ps['error']([..._0x53c2b3]),new f(..._0x53c2b3);}return await _0x314e8f(_0x5a7a45,_0x57c69f);}async[a0_0x22ca5b(0x415)](_0x94ec9e){const _0x14d3f5=a0_0x22ca5b;let {request:_0x2f9241,ClassRef:_0x33a66a,schema:_0x1a392d,execute:_0x29291a}=_0x94ec9e,_0x3425af=_0x2f9241['query'];if(!_0x3425af?.[_0x14d3f5(0x55a)])throw new f(_0x14d3f5(0x407),_0x14d3f5(0x3ec));let _0x4ef9b8=_0x2f9241[_0x14d3f5(0x385)],_0x4174d9=_0x2f9241['body'],_0x4c5c26=new _0x33a66a();Object[_0x14d3f5(0x739)](_0x4174d9,_0x3425af),Object[_0x14d3f5(0x739)](_0x4c5c26,_0x4174d9);let _0x329f5d=(0x0,Ye[_0x14d3f5(0x3ab)])(_0x4c5c26,_0x1a392d);if(!_0x329f5d[_0x14d3f5(0x18d)]){let _0x286e3e=_0x329f5d['errors']['map'](({property:_0x1f38c6,stack:_0x41d703,schema:_0xfc7f0c})=>{const _0x28b097=_0x14d3f5;let _0x380919;return _0xfc7f0c[_0x28b097(0x1dc)]?_0x380919=_0xfc7f0c[_0x28b097(0x1dc)]:_0x380919=_0x41d703[_0x28b097(0x748)](_0x28b097(0x70c),''),{'property':_0x1f38c6[_0x28b097(0x748)](_0x28b097(0x70c),''),'message':_0x380919};});throw ps[_0x14d3f5(0x30f)]([..._0x286e3e]),new f(..._0x286e3e);}return await _0x29291a(_0x4ef9b8,_0x4c5c26);}async['joinGroupValidate'](_0x450f9d){const _0x2080e5=a0_0x22ca5b;let {request:_0x162b99,ClassRef:_0x2aaea5,schema:_0x2e7345,execute:_0x214eb2}=_0x450f9d,_0x313827=_0x162b99[_0x2080e5(0x3a1)];if(!_0x313827?.[_0x2080e5(0x369)])throw new f(_0x2080e5(0x5c7),'ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22');let _0x11858b=_0x162b99[_0x2080e5(0x385)],_0x184403=_0x162b99[_0x2080e5(0x3a1)],_0x2831c4=new _0x2aaea5();Object[_0x2080e5(0x739)](_0x184403,_0x313827),Object[_0x2080e5(0x739)](_0x2831c4,_0x184403);let _0x2961b=(0x0,Ye[_0x2080e5(0x3ab)])(_0x2831c4,_0x2e7345);if(!_0x2961b['valid']){let _0x949e43=_0x2961b['errors'][_0x2080e5(0x4fd)](({property:_0x5b6716,stack:_0x482fe8,schema:_0x899de1})=>{const _0x45bbde=_0x2080e5;let _0x2da0ce;return _0x899de1[_0x45bbde(0x1dc)]?_0x2da0ce=_0x899de1[_0x45bbde(0x1dc)]:_0x2da0ce=_0x482fe8[_0x45bbde(0x748)]('instance.',''),{'property':_0x5b6716[_0x45bbde(0x748)](_0x45bbde(0x70c),''),'message':_0x2da0ce};});throw ps[_0x2080e5(0x30f)]([..._0x949e43]),new f(..._0x949e43);}return await _0x214eb2(_0x11858b,_0x2831c4);}},S=class{},vc=new v(a0_0x22ca5b(0x5f0)),Xe=class extends U{constructor(..._0x19935a){const _0x1a8900=a0_0x22ca5b;super(),this['router']=(0x0,tr[_0x1a8900(0x657)])(),this['router'][_0x1a8900(0x588)](this[_0x1a8900(0x65f)](_0x1a8900(0x76f)),..._0x19935a,async(_0x1215cd,_0x2ab56)=>{const _0x41a30b=_0x1a8900;let _0x170e7f=await this['dataValidate']({'request':_0x1215cd,'schema':Ga,'ClassRef':Fe,'execute':(_0x1d948a,_0x118818)=>D['updatePresence'](_0x1d948a,_0x118818)});return _0x2ab56[_0x41a30b(0x167)](0xc9)['json'](_0x170e7f);})[_0x1a8900(0x588)](this[_0x1a8900(0x65f)]('whatsappNumbers'),..._0x19935a,async(_0x3223b1,_0x54c966)=>{const _0x4255eb=_0x1a8900;let _0x41c43b=await this[_0x4255eb(0x298)]({'request':_0x3223b1,'schema':$a,'ClassRef':je,'execute':(_0x3e38a5,_0x1a7edf)=>D[_0x4255eb(0x1d1)](_0x3e38a5,_0x1a7edf)});return _0x54c966[_0x4255eb(0x167)](0xc9)[_0x4255eb(0x4d5)](_0x41c43b);})[_0x1a8900(0x588)](this[_0x1a8900(0x65f)](_0x1a8900(0x1b4)),..._0x19935a,async(_0x826de8,_0x4e6e46)=>{const _0x1d7f09=_0x1a8900;let _0x2abfca=await this[_0x1d7f09(0x298)]({'request':_0x826de8,'schema':M,'ClassRef':S,'execute':(_0x5d027f,_0x47f0c6)=>D['editChat'](_0x5d027f,_0x47f0c6)});return _0x4e6e46[_0x1d7f09(0x167)](0xc9)[_0x1d7f09(0x4d5)](_0x2abfca);})[_0x1a8900(0x599)](this[_0x1a8900(0x65f)]('markMessageAsRead'),..._0x19935a,async(_0x530910,_0x39a537)=>{const _0x5062ef=_0x1a8900;let _0x35a181=await this[_0x5062ef(0x298)]({'request':_0x530910,'schema':ka,'ClassRef':Je,'execute':(_0x188c2c,_0x1aaa5b)=>D[_0x5062ef(0x621)](_0x188c2c,_0x1aaa5b)});return _0x39a537[_0x5062ef(0x167)](0xc9)[_0x5062ef(0x4d5)](_0x35a181);})[_0x1a8900(0x599)](this[_0x1a8900(0x65f)](_0x1a8900(0x34b)),..._0x19935a,async(_0xa13e4f,_0x300536)=>{const _0x52faf3=_0x1a8900;let _0x24bfba=await this[_0x52faf3(0x298)]({'request':_0xa13e4f,'schema':Fa,'ClassRef':Ve,'execute':(_0x100105,_0x57f8b8)=>D[_0x52faf3(0x34b)](_0x100105,_0x57f8b8)});return _0x300536[_0x52faf3(0x167)](0xc9)['json'](_0x24bfba);})['delete'](this['routerPath'](_0x1a8900(0x75a)),..._0x19935a,async(_0x31d8fb,_0x40f38a)=>{const _0x51d6bd=_0x1a8900;let _0x5372fb=await this['dataValidate']({'request':_0x31d8fb,'schema':ja,'ClassRef':Ge,'execute':(_0x12c419,_0x209de0)=>D[_0x51d6bd(0x7ef)](_0x12c419,_0x209de0)});return _0x40f38a['status'](0xc9)[_0x51d6bd(0x4d5)](_0x5372fb);})['post'](this[_0x1a8900(0x65f)](_0x1a8900(0x561)),..._0x19935a,async(_0x2ffcd5,_0x150f5e)=>{const _0x132837=_0x1a8900;let _0x22613f=await this[_0x132837(0x298)]({'request':_0x2ffcd5,'schema':be,'ClassRef':ye,'execute':(_0x55d0b1,_0x3467c4)=>D[_0x132837(0x507)](_0x55d0b1,_0x3467c4)});return _0x150f5e[_0x132837(0x167)](0xc8)[_0x132837(0x4d5)](_0x22613f);})[_0x1a8900(0x588)](this[_0x1a8900(0x65f)](_0x1a8900(0x589)),..._0x19935a,async(_0x5113c3,_0x304b62)=>{const _0x4f2258=_0x1a8900;let _0x3b1d85=await this[_0x4f2258(0x298)]({'request':_0x5113c3,'schema':Va,'ClassRef':ye,'execute':(_0x5f5be6,_0x2b98b6)=>D[_0x4f2258(0x589)](_0x5f5be6,_0x2b98b6)});return _0x304b62[_0x4f2258(0x167)](0xc8)[_0x4f2258(0x4d5)](_0x3b1d85);})[_0x1a8900(0x588)](this[_0x1a8900(0x65f)]('findContacts'),..._0x19935a,async(_0x4f3e6f,_0x340f78)=>{const _0x3e4d2e=_0x1a8900;let _0x1f3c93=await this['dataValidate']({'request':_0x4f3e6f,'schema':Ua,'ClassRef':Ke,'execute':(_0x513e2d,_0x4a146f)=>D[_0x3e4d2e(0x6a1)](_0x513e2d,_0x4a146f)});return _0x340f78[_0x3e4d2e(0x167)](0xc8)[_0x3e4d2e(0x4d5)](_0x1f3c93);})[_0x1a8900(0x588)](this[_0x1a8900(0x65f)]('getBase64FromMediaMessage'),..._0x19935a,async(_0x378936,_0x1505d9)=>{const _0x31351e=_0x1a8900;let _0x5ca642=await this['dataValidate']({'request':_0x378936,'schema':null,'ClassRef':Object,'execute':(_0x18fc62,_0xcf7eb9)=>D[_0x31351e(0x182)](_0x18fc62,_0xcf7eb9)});return _0x1505d9[_0x31351e(0x167)](0xc9)[_0x31351e(0x4d5)](_0x5ca642);})[_0x1a8900(0x588)](this[_0x1a8900(0x65f)](_0x1a8900(0x2f1)),..._0x19935a,async(_0xdd149f,_0x54363c)=>{const _0x455fa9=_0x1a8900;let _0x2fe907=await this[_0x455fa9(0x298)]({'request':_0xdd149f,'schema':Ba,'ClassRef':ke,'execute':(_0x4c8c25,_0x3172fb)=>D['fetchMessages'](_0x4c8c25,_0x3172fb)});return _0x54363c[_0x455fa9(0x167)](0xc8)[_0x455fa9(0x4d5)](_0x2fe907);})[_0x1a8900(0x16d)](this['routerPath'](_0x1a8900(0x764)),..._0x19935a,async(_0x22ba41,_0x5ef3a8)=>{const _0xe51dbb=_0x1a8900;let _0x35a53b=await this[_0xe51dbb(0x298)]({'request':_0x22ba41,'schema':null,'ClassRef':S,'execute':_0x2c76d3=>D[_0xe51dbb(0x201)](_0x2c76d3)});return _0x5ef3a8['status'](0xc8)[_0xe51dbb(0x4d5)](_0x35a53b);})[_0x1a8900(0x16d)](this[_0x1a8900(0x65f)](_0x1a8900(0x536)),..._0x19935a,async(_0x44c368,_0x3af3dd)=>{const _0x5d0164=_0x1a8900;let _0xaebe7=await this['dataValidate']({'request':_0x44c368,'schema':null,'ClassRef':S,'execute':_0xc2cf2a=>D[_0x5d0164(0x4a5)](_0xc2cf2a)});return _0x3af3dd[_0x5d0164(0x167)](0xc8)[_0x5d0164(0x4d5)](_0xaebe7);})[_0x1a8900(0x599)](this[_0x1a8900(0x65f)](_0x1a8900(0x2bd)),..._0x19935a,async(_0x294d8e,_0x29715a)=>{const _0x34d7c7=_0x1a8900;let _0x57e168=await this['dataValidate']({'request':_0x294d8e,'schema':null,'ClassRef':Array,'execute':(_0xa2cc86,_0x54d128)=>D[_0x34d7c7(0x2bd)](_0xa2cc86,_0x54d128)});return _0x29715a[_0x34d7c7(0x167)](0xc8)[_0x34d7c7(0x4d5)](_0x57e168);})[_0x1a8900(0x16d)](this[_0x1a8900(0x65f)]('fetchPrivacySettings'),..._0x19935a,async(_0x41309d,_0xe13889)=>{const _0x338a55=_0x1a8900;let _0x328f44=await this['dataValidate']({'request':_0x41309d,'schema':null,'ClassRef':S,'execute':_0xd9a1fb=>D[_0x338a55(0x569)](_0xd9a1fb)});return _0xe13889[_0x338a55(0x167)](0xc8)['json'](_0x328f44);})[_0x1a8900(0x599)](this[_0x1a8900(0x65f)]('updatePrivacySettings'),..._0x19935a,async(_0x1d9cf0,_0x1d4663)=>{const _0x57ea9d=_0x1a8900;let _0x110984=await this[_0x57ea9d(0x298)]({'request':_0x1d9cf0,'schema':La,'ClassRef':Be,'execute':(_0x145050,_0x31765f)=>D['updatePrivacySettings'](_0x145050,_0x31765f)});return _0x1d4663['status'](0xc9)[_0x57ea9d(0x4d5)](_0x110984);})[_0x1a8900(0x588)](this[_0x1a8900(0x65f)](_0x1a8900(0x2cb)),..._0x19935a,async(_0x18cf4d,_0x355e89)=>{const _0x1d6f8c=_0x1a8900;let _0x45cfeb=await this[_0x1d6f8c(0x298)]({'request':_0x18cf4d,'schema':be,'ClassRef':me,'execute':(_0x2b5ac3,_0x110803)=>D[_0x1d6f8c(0x2cb)](_0x2b5ac3,_0x110803)});return _0x355e89[_0x1d6f8c(0x167)](0xc8)[_0x1d6f8c(0x4d5)](_0x45cfeb);})[_0x1a8900(0x588)](this[_0x1a8900(0x65f)](_0x1a8900(0x468)),..._0x19935a,async(_0x2d5527,_0x9a68a0)=>{const _0x5e994c=_0x1a8900;let _0x163e45=await this[_0x5e994c(0x298)]({'request':_0x2d5527,'schema':qa,'ClassRef':Ue,'execute':(_0x2def2c,_0x54ca97)=>D['updateProfileName'](_0x2def2c,_0x54ca97)});return _0x9a68a0[_0x5e994c(0x167)](0xc8)['json'](_0x163e45);})[_0x1a8900(0x588)](this[_0x1a8900(0x65f)](_0x1a8900(0x419)),..._0x19935a,async(_0x1071c2,_0x3fa7a2)=>{const _0x2a18f4=_0x1a8900;let _0x573957=await this['dataValidate']({'request':_0x1071c2,'schema':Ja,'ClassRef':qe,'execute':(_0x43d35a,_0x360db6)=>D[_0x2a18f4(0x419)](_0x43d35a,_0x360db6)});return _0x3fa7a2['status'](0xc8)[_0x2a18f4(0x4d5)](_0x573957);})[_0x1a8900(0x599)](this[_0x1a8900(0x65f)]('updateProfilePicture'),..._0x19935a,async(_0x532e02,_0x3be126)=>{const _0x31025f=_0x1a8900;let _0x49ef29=await this[_0x31025f(0x298)]({'request':_0x532e02,'schema':be,'ClassRef':me,'execute':(_0x20746a,_0x4d6042)=>D[_0x31025f(0x64f)](_0x20746a,_0x4d6042)});return _0x3be126[_0x31025f(0x167)](0xc8)[_0x31025f(0x4d5)](_0x49ef29);})[_0x1a8900(0x4c6)](this[_0x1a8900(0x65f)](_0x1a8900(0x27a)),..._0x19935a,async(_0x1afd11,_0x1081e5)=>{const _0x423ed4=_0x1a8900;let _0x5bd7fe=await this[_0x423ed4(0x298)]({'request':_0x1afd11,'schema':be,'ClassRef':me,'execute':(_0x513e9a,_0x5453c6)=>D[_0x423ed4(0x27a)](_0x513e9a,_0x5453c6)});return _0x1081e5[_0x423ed4(0x167)](0xc8)[_0x423ed4(0x4d5)](_0x5bd7fe);});}},sr=require(a0_0x22ca5b(0x392)),Ze=class{},et=class{},tt=class{},st=class{},at=class{},Q=class{},rt=class{},it=class extends Q{},ot=class extends Q{},nt=class extends U{constructor(..._0xb74256){const _0x402c4c=a0_0x22ca5b;super(),this[_0x402c4c(0x6b6)]=(0x0,sr[_0x402c4c(0x657)])(),this[_0x402c4c(0x6b6)]['post'](this[_0x402c4c(0x65f)](_0x402c4c(0x336)),..._0xb74256,async(_0x584e91,_0x5ebf0a)=>{const _0x3557da=_0x402c4c;let _0x52c2b1=await this[_0x3557da(0x298)]({'request':_0x584e91,'schema':Wa,'ClassRef':Ze,'execute':(_0x324f22,_0x543acd)=>F[_0x3557da(0x506)](_0x324f22,_0x543acd)});_0x5ebf0a[_0x3557da(0x167)](0xc9)[_0x3557da(0x4d5)](_0x52c2b1);})[_0x402c4c(0x599)](this[_0x402c4c(0x65f)](_0x402c4c(0x3f5)),..._0xb74256,async(_0x2c749c,_0x5e586c)=>{const _0x159e8b=_0x402c4c;let _0x2847ac=await this[_0x159e8b(0x415)]({'request':_0x2c749c,'schema':Ka,'ClassRef':et,'execute':(_0x558e9b,_0x10781d)=>F['updateGroupPicture'](_0x558e9b,_0x10781d)});_0x5e586c[_0x159e8b(0x167)](0xc9)[_0x159e8b(0x4d5)](_0x2847ac);})[_0x402c4c(0x599)](this['routerPath']('groupDesc'),..._0xb74256,async(_0x1b48a3,_0x2c9714)=>{const _0x4f3cad=_0x402c4c;let _0xdfdf47=await this[_0x4f3cad(0x415)]({'request':_0x1b48a3,'schema':Qa,'ClassRef':tt,'execute':(_0x42abe4,_0x4041f9)=>F[_0x4f3cad(0x373)](_0x42abe4,_0x4041f9)});_0x2c9714[_0x4f3cad(0x167)](0xc9)['json'](_0xdfdf47);})[_0x402c4c(0x599)](this[_0x402c4c(0x65f)](_0x402c4c(0x23b)),..._0xb74256,async(_0x4426c1,_0x379f33)=>{const _0x4cb8dc=_0x402c4c;let _0x208397=await this[_0x4cb8dc(0x415)]({'request':_0x4426c1,'schema':Ya,'ClassRef':st,'execute':(_0x536ba6,_0x2efad3)=>F['groupName'](_0x536ba6,_0x2efad3)});_0x379f33[_0x4cb8dc(0x167)](0xc9)[_0x4cb8dc(0x4d5)](_0x208397);})[_0x402c4c(0x599)](this[_0x402c4c(0x65f)](_0x402c4c(0x2da)),..._0xb74256,async(_0x39ef2b,_0x13ec0e)=>{const _0xbe2dda=_0x402c4c;let _0x510270=await this[_0xbe2dda(0x415)]({'request':_0x39ef2b,'schema':Xa,'ClassRef':at,'execute':(_0x4d9e72,_0x314e29)=>F[_0xbe2dda(0x2da)](_0x4d9e72,_0x314e29)});_0x13ec0e['status'](0xc9)['json'](_0x510270);})[_0x402c4c(0x599)](this[_0x402c4c(0x65f)](_0x402c4c(0x475)),..._0xb74256,async(_0x50fe51,_0xe74465)=>{const _0x36a97e=_0x402c4c;let _0x18fb4a=await this[_0x36a97e(0x415)]({'request':_0x50fe51,'schema':Ha,'ClassRef':ot,'execute':(_0x234059,_0x48f50a)=>F[_0x36a97e(0x475)](_0x234059,_0x48f50a)});_0xe74465[_0x36a97e(0x167)](0xc9)[_0x36a97e(0x4d5)](_0x18fb4a);})[_0x402c4c(0x16d)](this['routerPath'](_0x402c4c(0x4ab)),..._0xb74256,async(_0x1df4ae,_0x1d1eaa)=>{const _0x5df6b8=_0x402c4c;let _0x557fa7=await this['groupValidate']({'request':_0x1df4ae,'schema':Se,'ClassRef':Q,'execute':(_0x3c7594,_0x3656de)=>F['findGroupInfo'](_0x3c7594,_0x3656de)});_0x1d1eaa[_0x5df6b8(0x167)](0xc8)['json'](_0x557fa7);})['get'](this[_0x402c4c(0x65f)](_0x402c4c(0x354)),..._0xb74256,async(_0x1b699e,_0x48993b)=>{const _0x2eb7ea=_0x402c4c;let _0x451ed4=await this[_0x2eb7ea(0x298)]({'request':_0x1b699e,'schema':M,'ClassRef':S,'execute':_0x475cd3=>F[_0x2eb7ea(0x354)](_0x475cd3)});_0x48993b[_0x2eb7ea(0x167)](0xc8)[_0x2eb7ea(0x4d5)](_0x451ed4);})[_0x402c4c(0x16d)](this[_0x402c4c(0x65f)](_0x402c4c(0x43a)),..._0xb74256,async(_0x4cee99,_0x3435c2)=>{const _0x49938f=_0x402c4c;let _0x472ea1=await this[_0x49938f(0x415)]({'request':_0x4cee99,'schema':Se,'ClassRef':Q,'execute':(_0x4bccb9,_0x4203e7)=>F['findParticipants'](_0x4bccb9,_0x4203e7)});_0x3435c2[_0x49938f(0x167)](0xc8)['json'](_0x472ea1);})[_0x402c4c(0x16d)](this[_0x402c4c(0x65f)](_0x402c4c(0x369)),..._0xb74256,async(_0x23b72b,_0x380d96)=>{const _0x424ea=_0x402c4c;let _0x543041=await this[_0x424ea(0x415)]({'request':_0x23b72b,'schema':Se,'ClassRef':Q,'execute':(_0x3e9c36,_0x532378)=>F[_0x424ea(0x369)](_0x3e9c36,_0x532378)});_0x380d96[_0x424ea(0x167)](0xc8)[_0x424ea(0x4d5)](_0x543041);})[_0x402c4c(0x599)](this[_0x402c4c(0x65f)]('joinGroup'),..._0xb74256,async(_0x2553c2,_0x41d0cf)=>{const _0x41cbdf=_0x402c4c;let _0xb60f5a=await this[_0x41cbdf(0x37e)]({'request':_0x2553c2,'schema':Za,'ClassRef':rt,'execute':(_0x648885,_0x51df31)=>F[_0x41cbdf(0x6a9)](_0x648885,_0x51df31)});_0x41d0cf[_0x41cbdf(0x167)](0xc9)[_0x41cbdf(0x4d5)](_0xb60f5a);})[_0x402c4c(0x599)](this[_0x402c4c(0x65f)](_0x402c4c(0x3bf)),..._0xb74256,async(_0x48af48,_0x2cf9b0)=>{const _0x58a1ed=_0x402c4c;let _0x4c3d40=await this[_0x58a1ed(0x415)]({'request':_0x48af48,'schema':Se,'ClassRef':Q,'execute':(_0x25c9ab,_0x11ace9)=>F[_0x58a1ed(0x3bf)](_0x25c9ab,_0x11ace9)});_0x2cf9b0[_0x58a1ed(0x167)](0xc9)['json'](_0x4c3d40);})[_0x402c4c(0x599)](this[_0x402c4c(0x65f)](_0x402c4c(0x2b7)),..._0xb74256,async(_0x7285e6,_0xc97d6d)=>{const _0x38b1ca=_0x402c4c;let _0x1113bf=await this[_0x38b1ca(0x415)]({'request':_0x7285e6,'schema':za,'ClassRef':it,'execute':(_0x4e755d,_0x1a804b)=>F[_0x38b1ca(0x753)](_0x4e755d,_0x1a804b)});_0xc97d6d[_0x38b1ca(0x167)](0xc9)[_0x38b1ca(0x4d5)](_0x1113bf);})[_0x402c4c(0x4c6)](this[_0x402c4c(0x65f)](_0x402c4c(0x5e0)),..._0xb74256,async(_0x4a80f9,_0xbbcfce)=>{const _0xff0e5d=_0x402c4c;let _0x39b312=await this[_0xff0e5d(0x415)]({'request':_0x4a80f9,'schema':{},'ClassRef':Q,'execute':(_0x71f2aa,_0x3b26d0)=>F[_0xff0e5d(0x5e0)](_0x71f2aa,_0x3b26d0)});_0xbbcfce[_0xff0e5d(0x167)](0xc8)[_0xff0e5d(0x4d5)](_0x39b312);});}},ar=require(a0_0x22ca5b(0x392)),ct=class extends U{constructor(_0x52d608,..._0x351fa6){const _0x4a830f=a0_0x22ca5b;super(),this[_0x4a830f(0x394)]=_0x52d608,this['router']=(0x0,ar[_0x4a830f(0x657)])();let _0x473be8=_0x52d608['get'](_0x4a830f(0x221));this[_0x4a830f(0x6b6)][_0x4a830f(0x588)](_0x4a830f(0x322),..._0x351fa6,async(_0x1301a5,_0x4e7aa7)=>{const _0x5784b1=_0x4a830f;let {instanceName:_0x44472d,apikey:_0x55e488,number:_0x4d7bbb}=_0x1301a5[_0x5784b1(0x3a1)],_0x1b9bc9=await ae[_0x5784b1(0x63a)]({'instanceName':_0x44472d,'apikey':_0x55e488,'number':_0x4d7bbb});return _0x4e7aa7['status'](0xc9)['json'](_0x1b9bc9);})['put'](this[_0x4a830f(0x65f)](_0x4a830f(0x381)),..._0x351fa6,async(_0x1583e4,_0x2216dc)=>{const _0x338486=_0x4a830f;let _0x1b3c8b=await this[_0x338486(0x298)]({'request':_0x1583e4,'schema':M,'ClassRef':S,'execute':_0x566856=>ae['restartInstance'](_0x566856)});return _0x2216dc[_0x338486(0x167)](0xc8)[_0x338486(0x4d5)](_0x1b3c8b);})[_0x4a830f(0x16d)](this['routerPath'](_0x4a830f(0x71a)),..._0x351fa6,async(_0x5f4b9e,_0x1282c5)=>{const _0x2dc8ad=_0x4a830f;let _0x12bb93=await this['dataValidate']({'request':_0x5f4b9e,'schema':M,'ClassRef':S,'execute':_0x4e5105=>ae[_0x2dc8ad(0x19a)](_0x4e5105)});return _0x1282c5[_0x2dc8ad(0x167)](0xc8)[_0x2dc8ad(0x4d5)](_0x12bb93);})[_0x4a830f(0x16d)](this[_0x4a830f(0x65f)](_0x4a830f(0x477)),..._0x351fa6,async(_0x1b7c79,_0x157f2b)=>{const _0x106c3c=_0x4a830f;let _0x5748c5=await this[_0x106c3c(0x298)]({'request':_0x1b7c79,'schema':M,'ClassRef':S,'execute':_0x33229b=>ae[_0x106c3c(0x477)](_0x33229b)});return _0x157f2b[_0x106c3c(0x167)](0xc8)['json'](_0x5748c5);})['get'](this['routerPath'](_0x4a830f(0x348),!0x1),..._0x351fa6,async(_0x5f03a8,_0x254b77)=>{const _0x222796=_0x4a830f;let _0x3f6c10=await this[_0x222796(0x298)]({'request':_0x5f03a8,'schema':null,'ClassRef':S,'execute':_0x4b895a=>ae[_0x222796(0x348)](_0x4b895a)});return _0x254b77['status'](0xc8)['json'](_0x3f6c10);})['delete'](this['routerPath'](_0x4a830f(0x683)),..._0x351fa6,async(_0x2d2022,_0x42b53f)=>{const _0x4b42bb=_0x4a830f;let _0x302009=await this[_0x4b42bb(0x298)]({'request':_0x2d2022,'schema':M,'ClassRef':S,'execute':_0x51971f=>ae[_0x4b42bb(0x683)](_0x51971f)});return _0x42b53f[_0x4b42bb(0x167)](0xc8)[_0x4b42bb(0x4d5)](_0x302009);})[_0x4a830f(0x4c6)](this['routerPath']('delete'),..._0x351fa6,async(_0x5e1e85,_0x4756b9)=>{const _0x5efc97=_0x4a830f;let _0x2a5444=await this[_0x5efc97(0x298)]({'request':_0x5e1e85,'schema':M,'ClassRef':S,'execute':_0x15f6aa=>ae[_0x5efc97(0x73a)](_0x15f6aa)});return _0x4756b9['status'](0xc8)[_0x5efc97(0x4d5)](_0x2a5444);});}},rr=require('express'),hs=class{},G=class extends hs{},lt=class extends G{},ut=class extends G{},dt=class extends G{},pt=class extends G{},Ee=class extends G{},ht=class extends G{},gt=class extends G{},mt=class extends G{},ft=class extends G{},wt=class extends G{},yt=class{},bt=class extends U{constructor(..._0x4a8309){const _0x41772c=a0_0x22ca5b;super(),this['router']=(0x0,rr[_0x41772c(0x657)])(),this['router'][_0x41772c(0x588)](this[_0x41772c(0x65f)]('sendText'),..._0x4a8309,async(_0x340acf,_0x222691)=>{const _0x48e50f=_0x41772c;let _0x108ce0=await this[_0x48e50f(0x298)]({'request':_0x340acf,'schema':Ca,'ClassRef':lt,'execute':(_0x3f352f,_0x19779c)=>B['sendText'](_0x3f352f,_0x19779c)});return _0x222691[_0x48e50f(0x167)](0xc9)[_0x48e50f(0x4d5)](_0x108ce0);})[_0x41772c(0x588)](this[_0x41772c(0x65f)](_0x41772c(0x772)),..._0x4a8309,async(_0x4f3db1,_0x53f0e8)=>{const _0x59947c=_0x41772c;let _0x227f6f=await this[_0x59947c(0x298)]({'request':_0x4f3db1,'schema':Ra,'ClassRef':Ee,'execute':(_0x5483b8,_0x1c3005)=>B[_0x59947c(0x772)](_0x5483b8,_0x1c3005)});return _0x53f0e8[_0x59947c(0x167)](0xc9)[_0x59947c(0x4d5)](_0x227f6f);})[_0x41772c(0x588)](this[_0x41772c(0x65f)]('sendMenu'),..._0x4a8309,async(_0x461ed9,_0x49e05d)=>{const _0xccecfb=_0x41772c;let _0x14103b=await this[_0xccecfb(0x298)]({'request':_0x461ed9,'schema':Aa,'ClassRef':pt,'execute':(_0x19b23c,_0x4e56d2)=>B[_0xccecfb(0x789)](_0x19b23c,_0x4e56d2)});return _0x49e05d['status'](0xc9)[_0xccecfb(0x4d5)](_0x14103b);})['post'](this['routerPath'](_0x41772c(0x3dc)),..._0x4a8309,async(_0x372f23,_0x1be532)=>{const _0x22ed77=_0x41772c;let _0x501a4f=await this['dataValidate']({'request':_0x372f23,'schema':Ta,'ClassRef':Ee,'execute':(_0x216ca9,_0xe2a42e)=>B[_0x22ed77(0x3dc)](_0x216ca9,_0xe2a42e)});return _0x1be532[_0x22ed77(0x167)](0xc9)['json'](_0x501a4f);})[_0x41772c(0x588)](this[_0x41772c(0x65f)](_0x41772c(0x38a)),..._0x4a8309,async(_0x54f246,_0x170071)=>{const _0x20fbdb=_0x41772c;let _0x1858c7=await this['dataValidate']({'request':_0x54f246,'schema':Ia,'ClassRef':gt,'execute':(_0x5ccf34,_0x214384)=>B[_0x20fbdb(0x38a)](_0x5ccf34,_0x214384)});return _0x170071[_0x20fbdb(0x167)](0xc9)[_0x20fbdb(0x4d5)](_0x1858c7);})[_0x41772c(0x588)](this[_0x41772c(0x65f)]('sendLocation'),..._0x4a8309,async(_0x3cda8c,_0x2a32d8)=>{const _0x2a724d=_0x41772c;let _0x1f1922=await this['dataValidate']({'request':_0x3cda8c,'schema':xa,'ClassRef':mt,'execute':(_0x22f1cd,_0x337b72)=>B[_0x2a724d(0x4cb)](_0x22f1cd,_0x337b72)});return _0x2a32d8[_0x2a724d(0x167)](0xc9)[_0x2a724d(0x4d5)](_0x1f1922);})[_0x41772c(0x588)](this[_0x41772c(0x65f)]('sendList'),..._0x4a8309,async(_0x4ff6b7,_0x2d1747)=>{const _0x120a5d=_0x41772c;let _0xa5efd9=await this['dataValidate']({'request':_0x4ff6b7,'schema':Da,'ClassRef':ft,'execute':(_0x1cb734,_0x335a1f)=>B['sendList'](_0x1cb734,_0x335a1f)});return _0x2d1747[_0x120a5d(0x167)](0xc9)[_0x120a5d(0x4d5)](_0xa5efd9);})[_0x41772c(0x588)](this[_0x41772c(0x65f)](_0x41772c(0x257)),..._0x4a8309,async(_0x79845e,_0x11718e)=>{const _0x426e66=_0x41772c;let _0x505347=await this[_0x426e66(0x298)]({'request':_0x79845e,'schema':_a,'ClassRef':wt,'execute':(_0x187f77,_0x4bfc5f)=>B[_0x426e66(0x257)](_0x187f77,_0x4bfc5f)});return _0x11718e[_0x426e66(0x167)](0xc9)[_0x426e66(0x4d5)](_0x505347);})[_0x41772c(0x588)](this[_0x41772c(0x65f)](_0x41772c(0x6af)),..._0x4a8309,async(_0x2a0c0b,_0x5a47d1)=>{const _0x5a0458=_0x41772c;let _0x386bd8=await this['dataValidate']({'request':_0x2a0c0b,'schema':Pa,'ClassRef':yt,'execute':(_0x43f908,_0x5238a6)=>B['sendReaction'](_0x43f908,_0x5238a6)});return _0x5a47d1[_0x5a0458(0x167)](0xc9)[_0x5a0458(0x4d5)](_0x386bd8);})[_0x41772c(0x588)](this['routerPath'](_0x41772c(0x3eb)),..._0x4a8309,async(_0x317ada,_0x206798)=>{const _0x21481b=_0x41772c;let _0x15d5fa=await this[_0x21481b(0x298)]({'request':_0x317ada,'schema':Oa,'ClassRef':dt,'execute':(_0x5b76d1,_0x4435af)=>B['sendPoll'](_0x5b76d1,_0x4435af)});return _0x206798['status'](0xc9)['json'](_0x15d5fa);})[_0x41772c(0x588)](this[_0x41772c(0x65f)](_0x41772c(0x533)),..._0x4a8309,async(_0x2efd2c,_0x4bb217)=>{const _0x24db60=_0x41772c;let _0x1faa1b=await this[_0x24db60(0x298)]({'request':_0x2efd2c,'schema':Na,'ClassRef':ut,'execute':(_0x4328dd,_0x1a7427)=>B[_0x24db60(0x533)](_0x4328dd,_0x1a7427)});return _0x4bb217[_0x24db60(0x167)](0xc9)[_0x24db60(0x4d5)](_0x1faa1b);})[_0x41772c(0x588)](this['routerPath']('sendSticker'),..._0x4a8309,async(_0x32efda,_0x1679b4)=>{const _0x3fe032=_0x41772c;let _0x28aff2=await this[_0x3fe032(0x298)]({'request':_0x32efda,'schema':va,'ClassRef':ht,'execute':(_0x3ef29b,_0x2918e3)=>B[_0x3fe032(0x6ea)](_0x3ef29b,_0x2918e3)});return _0x1679b4[_0x3fe032(0x167)](0xc9)[_0x3fe032(0x4d5)](_0x28aff2);});}},ir=require(a0_0x22ca5b(0x392)),St=class{},Et=class extends U{constructor(..._0xbfcd5c){const _0x116d04=a0_0x22ca5b;super(),this[_0x116d04(0x6b6)]=(0x0,ir[_0x116d04(0x657)])(),this['router'][_0x116d04(0x588)](this[_0x116d04(0x65f)](_0x116d04(0x277)),..._0xbfcd5c,async(_0x27d1ef,_0xbe9da5)=>{const _0x5acd38=_0x116d04;let _0x40a9d3=await this[_0x5acd38(0x298)]({'request':_0x27d1ef,'schema':er,'ClassRef':St,'execute':(_0x545c48,_0x575315)=>gs[_0x5acd38(0x4f4)](_0x545c48,_0x575315)});_0xbe9da5['status'](0xc9)['json'](_0x40a9d3);})[_0x116d04(0x16d)](this['routerPath']('find'),..._0xbfcd5c,async(_0xfedeff,_0x44be74)=>{const _0x176d4a=_0x116d04;let _0x5da2a8=await this[_0x176d4a(0x298)]({'request':_0xfedeff,'schema':M,'ClassRef':S,'execute':_0x52dc79=>gs[_0x176d4a(0x4bc)](_0x52dc79)});_0x44be74['status'](0xc8)[_0x176d4a(0x4d5)](_0x5da2a8);});}},or=require(a0_0x22ca5b(0x392)),y=new v(a0_0x22ca5b(0x3ef)),Ct=class extends U{constructor(..._0x111b42){const _0x542676=a0_0x22ca5b;super(),this['router']=(0x0,or[_0x542676(0x657)])(),this[_0x542676(0x6b6)]['post'](this[_0x542676(0x65f)](_0x542676(0x5e8)),..._0x111b42,async(_0x3d6529,_0x153117)=>{const _0x369603=_0x542676;let _0x54292d=_0x3d6529[_0x369603(0x3a1)];y['verbose'](_0x369603(0x2f3)),y[_0x369603(0x1c4)](_0x369603(0x478)),y[_0x369603(0x1c4)](_0x3d6529['body']);let _0x5ad227=await this['dataValidate']({'request':_0x3d6529,'schema':M,'ClassRef':S,'execute':_0x37f812=>O[_0x369603(0x7df)](_0x37f812,_0x54292d)});_0x153117[_0x369603(0x167)](0xc8)[_0x369603(0x4d5)](_0x5ad227);})[_0x542676(0x16d)](this[_0x542676(0x65f)](_0x542676(0x5e8)),..._0x111b42,async(_0x44aa0b,_0x4a9128)=>{const _0x33d049=_0x542676;let _0x4806e4=await this['dataValidate']({'request':_0x44aa0b,'schema':M,'ClassRef':S,'execute':_0x3962e8=>O[_0x33d049(0x20f)](_0x3962e8)});_0x4a9128['status'](0xc8)['json'](_0x4806e4);})[_0x542676(0x4c6)](this['routerPath'](_0x542676(0x34f)),..._0x111b42,async(_0x5e1bd3,_0x1133ad)=>{const _0x53726d=_0x542676;y[_0x53726d(0x1c4)](_0x53726d(0x301));let _0x437e52=await this[_0x53726d(0x298)]({'request':_0x5e1bd3,'schema':M,'ClassRef':S,'execute':_0x457f67=>O[_0x53726d(0x34f)](_0x457f67)});_0x1133ad[_0x53726d(0x167)](0xc8)[_0x53726d(0x4d5)](_0x437e52);})[_0x542676(0x588)](this['routerPath'](_0x542676(0x465)),..._0x111b42,async(_0x3edd02,_0x2bc919)=>{const _0x1dac2b=_0x542676;let _0x1f8e05=_0x3edd02[_0x1dac2b(0x3a1)];y[_0x1dac2b(0x1c4)](_0x1dac2b(0x705)),y[_0x1dac2b(0x1c4)]('request\x20body:\x20'),y[_0x1dac2b(0x1c4)](_0x3edd02[_0x1dac2b(0x3a1)]);let _0x474849=await this[_0x1dac2b(0x298)]({'request':_0x3edd02,'schema':M,'ClassRef':S,'execute':_0x23b322=>O[_0x1dac2b(0x465)](_0x23b322,_0x1f8e05)});_0x2bc919['status'](0xc8)[_0x1dac2b(0x4d5)](_0x474849);})[_0x542676(0x16d)](this['routerPath']('getAutomateSystem'),..._0x111b42,async(_0x580cf5,_0x31fbb)=>{const _0x1ff5f1=_0x542676;y[_0x1ff5f1(0x1c4)]('request\x20received\x20in\x20getAutomateSystem');let _0x6b361a=await this[_0x1ff5f1(0x298)]({'request':_0x580cf5,'schema':M,'ClassRef':S,'execute':_0x25089a=>O[_0x1ff5f1(0x652)](_0x25089a)});_0x31fbb[_0x1ff5f1(0x167)](0xc8)[_0x1ff5f1(0x4d5)](_0x6b361a);})['get'](this[_0x542676(0x65f)](_0x542676(0x540)),..._0x111b42,async(_0x3804a0,_0x1b58dc)=>{const _0x1f9f17=_0x542676;y[_0x1f9f17(0x1c4)](_0x1f9f17(0x2b0));let _0xdf6f48=await this[_0x1f9f17(0x298)]({'request':_0x3804a0,'schema':M,'ClassRef':S,'execute':_0x4b8d85=>O[_0x1f9f17(0x652)](_0x4b8d85)});_0x1b58dc[_0x1f9f17(0x167)](0xc8)[_0x1f9f17(0x4d5)](_0xdf6f48);})['post'](this[_0x542676(0x65f)](_0x542676(0x2a2)),..._0x111b42,async(_0xae4a78,_0x1cbc86)=>{const _0xf295b9=_0x542676;let _0x5b8020=_0xae4a78[_0xf295b9(0x3a1)];y[_0xf295b9(0x1c4)](_0xf295b9(0x325)),y[_0xf295b9(0x1c4)](_0xf295b9(0x478)),y['verbose'](_0xae4a78[_0xf295b9(0x3a1)]);let _0x3e27c6=await this['dataValidate']({'request':_0xae4a78,'schema':M,'ClassRef':S,'execute':_0x3e0cc8=>O[_0xf295b9(0x2a2)](_0x3e0cc8,_0x5b8020)});_0x1cbc86['status'](0xc8)[_0xf295b9(0x4d5)](_0x3e27c6);})[_0x542676(0x588)](this[_0x542676(0x65f)](_0x542676(0x503)),..._0x111b42,async(_0xab4a67,_0x1844cf)=>{const _0x3bacbc=_0x542676;let _0x4c9e5b=_0xab4a67['body'];y[_0x3bacbc(0x1c4)](_0x3bacbc(0x49c)),y[_0x3bacbc(0x1c4)](_0x3bacbc(0x478)),y[_0x3bacbc(0x1c4)](_0xab4a67['body']);let _0x2e2fde=await this[_0x3bacbc(0x298)]({'request':_0xab4a67,'schema':M,'ClassRef':S,'execute':_0x325d87=>O['updateCustomFields'](_0x325d87,_0x4c9e5b)});_0x1844cf[_0x3bacbc(0x167)](0xc8)[_0x3bacbc(0x4d5)](_0x2e2fde);})['post'](this[_0x542676(0x65f)](_0x542676(0x5b7)),..._0x111b42,async(_0x2818df,_0x4e1cae)=>{const _0xd976f6=_0x542676;let _0x1a4a7b=_0x2818df['body'];y['verbose']('request\x20received\x20in\x20updateFlowConfig'),y[_0xd976f6(0x1c4)](_0xd976f6(0x478)),y[_0xd976f6(0x1c4)](_0x2818df[_0xd976f6(0x3a1)]);let _0x27b59e=await this[_0xd976f6(0x298)]({'request':_0x2818df,'schema':M,'ClassRef':S,'execute':_0x1287ae=>O[_0xd976f6(0x5b7)](_0x1287ae,_0x1a4a7b)});_0x4e1cae[_0xd976f6(0x167)](0xc8)[_0xd976f6(0x4d5)](_0x27b59e);})['post'](this[_0x542676(0x65f)](_0x542676(0x47c)),..._0x111b42,async(_0x1fbd75,_0x62525e)=>{const _0x28c837=_0x542676;let _0x3a02a5=_0x1fbd75['body'];y[_0x28c837(0x1c4)](_0x28c837(0x7a8)),y['verbose'](_0x28c837(0x478)),y[_0x28c837(0x1c4)](_0x1fbd75[_0x28c837(0x3a1)]);let _0x314b72=await this[_0x28c837(0x298)]({'request':_0x1fbd75,'schema':M,'ClassRef':S,'execute':_0x353637=>O[_0x28c837(0x47c)](_0x353637,_0x3a02a5)});_0x62525e[_0x28c837(0x167)](0xc8)[_0x28c837(0x4d5)](_0x314b72);})[_0x542676(0x588)](this[_0x542676(0x65f)](_0x542676(0x273)),..._0x111b42,async(_0x2f4e3b,_0x5e4e0d)=>{const _0x7ad57=_0x542676;let _0x2217ba=_0x2f4e3b['body'];y['verbose'](_0x7ad57(0x429)),y['verbose'](_0x7ad57(0x478)),y[_0x7ad57(0x1c4)](_0x2f4e3b[_0x7ad57(0x3a1)]);let _0x4fe94d=await this['dataValidate']({'request':_0x2f4e3b,'schema':M,'ClassRef':S,'execute':_0x501ce8=>O['fetchConversation'](_0x501ce8,_0x2217ba)});_0x5e4e0d[_0x7ad57(0x167)](0xc8)['json'](_0x4fe94d);})[_0x542676(0x588)](this['routerPath']('editConversation'),..._0x111b42,async(_0x4eacdd,_0x2ff79a)=>{const _0x4266d=_0x542676;let _0x22608c=_0x4eacdd['body'];y['verbose'](_0x4266d(0x1c8)),y['verbose'](_0x4266d(0x478)),y[_0x4266d(0x1c4)](_0x4eacdd[_0x4266d(0x3a1)]);let _0x302498=await this[_0x4266d(0x298)]({'request':_0x4eacdd,'schema':M,'ClassRef':S,'execute':_0x452629=>O[_0x4266d(0x4de)](_0x452629,_0x22608c)});_0x2ff79a[_0x4266d(0x167)](0xc8)[_0x4266d(0x4d5)](_0x302498);})[_0x542676(0x4c6)](this[_0x542676(0x65f)](_0x542676(0x53f)),..._0x111b42,async(_0x41787e,_0x21902c)=>{const _0x474546=_0x542676;let _0x5593d1=_0x41787e['body'];y[_0x474546(0x1c4)](_0x474546(0x617)),y['verbose'](_0x474546(0x478)),y['verbose'](_0x41787e[_0x474546(0x3a1)]);let _0x4b2a7b=await this['dataValidate']({'request':_0x41787e,'schema':M,'ClassRef':S,'execute':_0x5817cc=>O[_0x474546(0x53f)](_0x5817cc,_0x5593d1)});_0x21902c[_0x474546(0x167)](0xc8)[_0x474546(0x4d5)](_0x4b2a7b);})[_0x542676(0x588)](this[_0x542676(0x65f)](_0x542676(0x716)),..._0x111b42,async(_0x77c7de,_0x125b66)=>{const _0x5258f6=_0x542676;let _0x102727=_0x77c7de[_0x5258f6(0x3a1)];y[_0x5258f6(0x1c4)](_0x5258f6(0x78a)),y[_0x5258f6(0x1c4)](_0x5258f6(0x478)),y['verbose'](_0x77c7de[_0x5258f6(0x3a1)]);let _0x43bea2=await this['dataValidate']({'request':_0x77c7de,'schema':M,'ClassRef':S,'execute':_0x475a3c=>O['createFlow'](_0x475a3c,_0x102727)});_0x125b66['status'](0xc8)['json'](_0x43bea2);})[_0x542676(0x588)](this['routerPath']('editflow'),..._0x111b42,async(_0x4081ec,_0x3162da)=>{const _0x2954b3=_0x542676;let _0x244de5=_0x4081ec[_0x2954b3(0x3a1)];y[_0x2954b3(0x1c4)](_0x2954b3(0x650)),y['verbose']('request\x20body:\x20'),y['verbose'](_0x4081ec['body']),delete _0x244de5[_0x2954b3(0x29b)],delete _0x244de5[_0x2954b3(0x6c9)],delete _0x244de5[_0x2954b3(0x225)],delete _0x244de5[_0x2954b3(0x68f)];let _0x5c244d=await this[_0x2954b3(0x298)]({'request':_0x4081ec,'schema':M,'ClassRef':S,'execute':_0x692c79=>O[_0x2954b3(0x5f4)](_0x692c79,_0x244de5)});_0x3162da['status'](0xc8)['json'](_0x5c244d);})['post'](this['routerPath']('editflowblock'),..._0x111b42,async(_0x2c9fa7,_0x42e7ab)=>{const _0x2e35d5=_0x542676;let _0x41b5b4=_0x2c9fa7[_0x2e35d5(0x3a1)];y['verbose'](_0x2e35d5(0x650)),y[_0x2e35d5(0x1c4)]('request\x20body:\x20'),y[_0x2e35d5(0x1c4)](_0x2c9fa7[_0x2e35d5(0x3a1)]);let _0x69f451=await this['dataValidate']({'request':_0x2c9fa7,'schema':M,'ClassRef':S,'execute':_0x53eaae=>O[_0x2e35d5(0x3de)](_0x53eaae,_0x41b5b4)});_0x42e7ab[_0x2e35d5(0x167)](0xc8)[_0x2e35d5(0x4d5)](_0x69f451);})[_0x542676(0x588)](this[_0x542676(0x65f)](_0x542676(0x4a9)),..._0x111b42,async(_0x277a3f,_0x533508)=>{const _0xa6c9c8=_0x542676;let _0xdf6443=_0x277a3f[_0xa6c9c8(0x3a1)];y[_0xa6c9c8(0x1c4)](_0xa6c9c8(0x650)),y['verbose'](_0xa6c9c8(0x478)),y['verbose'](_0x277a3f['body']);let _0x1365f0=await this[_0xa6c9c8(0x298)]({'request':_0x277a3f,'schema':M,'ClassRef':S,'execute':_0x113ad6=>O[_0xa6c9c8(0x37c)](_0x113ad6,_0xdf6443)});_0x533508[_0xa6c9c8(0x167)](0xc8)[_0xa6c9c8(0x4d5)](_0x1365f0);})[_0x542676(0x588)](this['routerPath'](_0x542676(0x6cb)),..._0x111b42,async(_0x3aa2c7,_0x281ddb)=>{const _0x503af3=_0x542676;let _0x436185=_0x3aa2c7[_0x503af3(0x3a1)];y[_0x503af3(0x1c4)](_0x503af3(0x650)),y['verbose'](_0x503af3(0x478)),y[_0x503af3(0x1c4)](_0x3aa2c7[_0x503af3(0x3a1)]);let _0x3a6505=await this[_0x503af3(0x298)]({'request':_0x3aa2c7,'schema':M,'ClassRef':S,'execute':_0x2cacca=>O[_0x503af3(0x670)](_0x2cacca,_0x436185)});_0x281ddb[_0x503af3(0x167)](0xc8)[_0x503af3(0x4d5)](_0x3a6505);})['post'](this[_0x542676(0x65f)](_0x542676(0x33d)),..._0x111b42,async(_0x36d477,_0x4618d1)=>{const _0x2bea60=_0x542676;let _0x433859=_0x36d477[_0x2bea60(0x3a1)];y['verbose'](_0x2bea60(0x297)),y[_0x2bea60(0x1c4)](_0x2bea60(0x478)),y['verbose'](_0x36d477[_0x2bea60(0x3a1)]);let _0xcd7b59=await this[_0x2bea60(0x298)]({'request':_0x36d477,'schema':M,'ClassRef':S,'execute':_0x397dfa=>O['editFlowGroup'](_0x397dfa,_0x433859)});_0x4618d1[_0x2bea60(0x167)](0xc8)['json'](_0xcd7b59);})[_0x542676(0x588)](this[_0x542676(0x65f)](_0x542676(0x220)),..._0x111b42,async(_0x2bbda0,_0x312848)=>{const _0x30b3de=_0x542676;let _0x5ef9a2=_0x2bbda0[_0x30b3de(0x3a1)];y[_0x30b3de(0x1c4)](_0x30b3de(0x50c)),y[_0x30b3de(0x1c4)](_0x30b3de(0x478)),y['verbose'](_0x2bbda0[_0x30b3de(0x3a1)]);let _0x402429=await this[_0x30b3de(0x298)]({'request':_0x2bbda0,'schema':M,'ClassRef':S,'execute':_0x1beaf2=>O['editFlowCondition'](_0x1beaf2,_0x5ef9a2)});_0x312848['status'](0xc8)[_0x30b3de(0x4d5)](_0x402429);})[_0x542676(0x588)](this[_0x542676(0x65f)](_0x542676(0x2eb)),..._0x111b42,async(_0x993549,_0x179c89)=>{const _0x280ba6=_0x542676;let _0x5890cc=_0x993549[_0x280ba6(0x3a1)];y[_0x280ba6(0x1c4)](_0x280ba6(0x6ce)),y[_0x280ba6(0x1c4)](_0x280ba6(0x478)),y[_0x280ba6(0x1c4)](_0x993549[_0x280ba6(0x3a1)]);let _0x8e7abb=await this[_0x280ba6(0x298)]({'request':_0x993549,'schema':M,'ClassRef':S,'execute':_0x293285=>O[_0x280ba6(0x2c2)](_0x293285,_0x5890cc)});_0x179c89['status'](0xc8)['json'](_0x8e7abb);})[_0x542676(0x588)](this['routerPath'](_0x542676(0x1e4)),..._0x111b42,async(_0x1c5120,_0x301de1)=>{const _0x18e614=_0x542676;let _0x361901=_0x1c5120[_0x18e614(0x3a1)];y[_0x18e614(0x1c4)](_0x18e614(0x665)),y[_0x18e614(0x1c4)]('request\x20body:\x20'),y[_0x18e614(0x1c4)](_0x1c5120[_0x18e614(0x3a1)]);let _0xc39407=await this[_0x18e614(0x298)]({'request':_0x1c5120,'schema':M,'ClassRef':S,'execute':_0x2170c9=>O[_0x18e614(0x50d)](_0x2170c9,_0x361901)});_0x301de1['status'](0xc8)[_0x18e614(0x4d5)](_0xc39407);})[_0x542676(0x4c6)](this[_0x542676(0x65f)]('deleteflow'),..._0x111b42,async(_0x518356,_0x51c30d)=>{const _0x467fca=_0x542676;let _0x475660=_0x518356['body'];y[_0x467fca(0x1c4)](_0x467fca(0x6a4)),y[_0x467fca(0x1c4)](_0x467fca(0x478)),y[_0x467fca(0x1c4)](_0x518356['body']);let _0x47bd8d=await this['dataValidate']({'request':_0x518356,'schema':M,'ClassRef':S,'execute':_0x36376e=>O[_0x467fca(0x5f2)](_0x36376e,_0x475660)});_0x51c30d['status'](0xc8)['json'](_0x47bd8d);})[_0x542676(0x16d)](this[_0x542676(0x65f)](_0x542676(0x5c6)),..._0x111b42,async(_0x273a91,_0x455d26)=>{const _0x46981d=_0x542676;y[_0x46981d(0x1c4)](_0x46981d(0x444));let _0x250e0d=await this[_0x46981d(0x298)]({'request':_0x273a91,'schema':M,'ClassRef':S,'execute':_0x3c98b1=>O[_0x46981d(0x6ef)](_0x3c98b1)});_0x455d26['status'](0xc8)['json'](_0x250e0d);});}},ur=T(require(a0_0x22ca5b(0x5f7))),Y={};function nr(_0x14e2af,_0x43728d,_0x3c3622,_0x2289b6){Y[_0x14e2af]||(Y[_0x14e2af]={}),Y[_0x14e2af][_0x43728d]={'id':_0x43728d,'response':_0x3c3622,'events':_0x2289b6};}function cr(_0x33f8e9,_0x4f138e){!Y[_0x33f8e9]||!Y[_0x33f8e9][_0x4f138e]||delete Y[_0x33f8e9][_0x4f138e];}function q(_0x2e49e2,_0x5709cd,_0xf6af7b){const _0x2fa16b=a0_0x22ca5b;if(!Y[_0x2e49e2])return;let _0x307a69=_0x2fa16b(0x4e3)+JSON[_0x2fa16b(0x3e3)](_0xf6af7b)+'\x0a\x0a';Object['values'](Y[_0x2e49e2])['forEach'](_0x418f9d=>{const _0x201ba4=_0x2fa16b;_0x418f9d[_0x201ba4(0x672)][_0x201ba4(0x567)](_0x5709cd)&&_0x418f9d['response'][_0x201ba4(0x5ff)](_0x307a69);});}function lr(){const _0x2f530a=a0_0x22ca5b;let _0x5bed5f={};for(let _0x50a85d in Y)_0x5bed5f[_0x50a85d]=Object[_0x2f530a(0x3b5)](Y[_0x50a85d])[_0x2f530a(0x4fd)](_0x5f05e5=>({'id':_0x5f05e5['id'],'events':_0x5f05e5[_0x2f530a(0x672)]}));return _0x5bed5f;}var dr=require('uuid'),fs=require(a0_0x22ca5b(0x4a0)),ms=class{},ci=new fs['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),li=new fs[(a0_0x22ca5b(0x531))]({'_id':{'type':String,'default':'config'},'WebhookGlobal':{'type':ci},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),fe=R?.[a0_0x22ca5b(0x337)](ms[a0_0x22ca5b(0x5cf)],li,a0_0x22ca5b(0x208)),ui=ur[a0_0x22ca5b(0x5a3)][a0_0x22ca5b(0x2fb)](__dirname,a0_0x22ca5b(0x6d0)),vt=(0x0,Mt['Router'])(),di=b[a0_0x22ca5b(0x16d)](a0_0x22ca5b(0x221))['TYPE'],ee=[wa,ya,Ea[di]];vt[a0_0x22ca5b(0x662)]('/media',Mt[a0_0x22ca5b(0x5a3)]['static'](ui))['get']('/events/:instance',async(_0xfccd02,_0x42e899)=>{const _0x342f00=a0_0x22ca5b;console[_0x342f00(0x256)](_0x342f00(0x186));let _0x5222d0=_0xfccd02[_0x342f00(0x385)]['instance'],_0x2383f1=(_0xfccd02[_0x342f00(0x510)][_0x342f00(0x672)]||'')[_0x342f00(0x555)](','),_0x389743=(0x0,dr['v4'])();console[_0x342f00(0x256)](_0x342f00(0x78b),_0x5222d0),console[_0x342f00(0x256)](_0x342f00(0x5cd),_0x2383f1);let _0x49648e=b[_0x342f00(0x16d)](_0x342f00(0x221))[_0x342f00(0x750)],_0x55f70f=_0xfccd02['query'][_0x342f00(0x43e)];if(console[_0x342f00(0x256)](_0x342f00(0x1a1),_0x55f70f),_0x49648e[_0x342f00(0x196)]!==_0x55f70f){console['log']('env.KEY\x20!==\x20key');try{let _0x22720b=await ce['auth'][_0x342f00(0x75e)](_0x5222d0);if(console[_0x342f00(0x256)](_0x342f00(0x677),_0x22720b),!_0x22720b||_0x22720b[_0x342f00(0x43e)]!==_0x55f70f)return console[_0x342f00(0x256)](_0x342f00(0x537)),_0x42e899[_0x342f00(0x167)](0x191)[_0x342f00(0x284)](_0x342f00(0x3b6));}catch(_0x35b034){return console[_0x342f00(0x30f)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x35b034),_0x42e899['status'](0x191)['send'](_0x342f00(0x6b3));}}if(!await We(_0x5222d0))return _0x42e899[_0x342f00(0x167)](0x194)[_0x342f00(0x284)]('Instância\x20não\x20encontrada.');_0x42e899[_0x342f00(0x31a)](_0x342f00(0x505),'text/event-stream'),_0x42e899[_0x342f00(0x31a)](_0x342f00(0x1ce),'no-cache'),_0x42e899[_0x342f00(0x31a)](_0x342f00(0x54c),'keep-alive'),_0x42e899['flushHeaders']();let _0x9d468f=_0x342f00(0x4e3)+JSON[_0x342f00(0x3e3)]({'info':_0x342f00(0x6de)})+'\x0a\x0a';_0x42e899[_0x342f00(0x5ff)](_0x9d468f),nr(_0x5222d0,_0x389743,_0x42e899,_0x2383f1),_0xfccd02['on'](_0x342f00(0x382),()=>{const _0xc00ac4=_0x342f00;console['log'](_0xc00ac4(0x4d6)+_0x5222d0),cr(_0x5222d0,_0x389743);});}),vt[a0_0x22ca5b(0x16d)](a0_0x22ca5b(0x4ac),(_0x257bea,_0x487417)=>{const _0x1cf436=a0_0x22ca5b;let _0x59e733=lr();_0x487417[_0x1cf436(0x4d5)](_0x59e733);})[a0_0x22ca5b(0x16d)]('/',(_0x5668dc,_0xc64b8c)=>{const _0x2af4ef=a0_0x22ca5b;let _0x52c7fe=b[_0x2af4ef(0x16d)](_0x2af4ef(0x452))[_0x2af4ef(0x1b8)];if(_0x52c7fe){let _0x449482=encodeURIComponent(''+_0x52c7fe);_0xc64b8c[_0x2af4ef(0x4b7)](_0x2af4ef(0x411)+_0x449482);return;}let _0x3c8e28=b[_0x2af4ef(0x16d)](_0x2af4ef(0x623)),_0x4fe09d=_0x3c8e28&&_0x3c8e28[_0x2af4ef(0x6bf)][_0x2af4ef(0x555)]('/')[0x4];if(_0x4fe09d){let _0xe444ec=encodeURIComponent(_0x2af4ef(0x4f2)+_0x4fe09d);_0xc64b8c['redirect']('https://uazapi-plugin.bubbleapps.io/?url='+_0xe444ec);}else _0xc64b8c[_0x2af4ef(0x4b7)](_0x2af4ef(0x702));})['put'](a0_0x22ca5b(0x4c3),...ee,async(_0x3b27c8,_0x348cbe)=>{const _0x542287=a0_0x22ca5b;try{console[_0x542287(0x256)](_0x542287(0x2e7)),_0x348cbe['status'](0xc8)[_0x542287(0x4d5)]({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x348cbe['on'](_0x542287(0x6dc),()=>process[_0x542287(0x2aa)](0x0));}catch(_0x5390db){console[_0x542287(0x30f)](_0x542287(0x726),_0x5390db),_0x348cbe[_0x542287(0x167)](0x1f4)[_0x542287(0x4d5)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})['put'](a0_0x22ca5b(0x7db),...ee,async(_0x49cf23,_0x2a9842)=>{const _0x11d28f=a0_0x22ca5b;try{let _0x4023a8=_0x49cf23[_0x11d28f(0x3a1)];await fe[_0x11d28f(0x6f3)]({},{'$set':_0x4023a8},{'upsert':!0x0});let _0x44bfd7=await fe[_0x11d28f(0x3c6)]();_0x2a9842[_0x11d28f(0x4d5)](_0x44bfd7);}catch(_0x3fbf4e){_0x2a9842[_0x11d28f(0x167)](0x190)[_0x11d28f(0x284)](_0x3fbf4e[_0x11d28f(0x36b)]);}})[a0_0x22ca5b(0x16d)]('/config',...ee,async(_0x4c4ab0,_0x256e67)=>{const _0x653a3=a0_0x22ca5b;try{let _0x37019b=await fe['findOne']();if(!_0x37019b)return _0x256e67[_0x653a3(0x4d5)]({});_0x256e67['json'](_0x37019b);}catch(_0x565736){_0x256e67['status'](0x1f4)[_0x653a3(0x284)](_0x565736[_0x653a3(0x36b)]);}})[a0_0x22ca5b(0x662)](a0_0x22ca5b(0x32b),new ct(b,...ee)['router'])['use'](a0_0x22ca5b(0x21e),new bt(...ee)[a0_0x22ca5b(0x6b6)])[a0_0x22ca5b(0x662)](a0_0x22ca5b(0x497),new Xe(...ee)[a0_0x22ca5b(0x6b6)])['use'](a0_0x22ca5b(0x6bb),new nt(...ee)[a0_0x22ca5b(0x6b6)])[a0_0x22ca5b(0x662)](a0_0x22ca5b(0x5c3),new Et(...ee)[a0_0x22ca5b(0x6b6)])[a0_0x22ca5b(0x662)]('/automate',new Ct(...ee)[a0_0x22ca5b(0x6b6)]);var f=class{constructor(..._0x525333){const _0x18929a=a0_0x22ca5b;throw{'status':0x190,'error':_0x18929a(0x391),'message':_0x525333[_0x18929a(0x3cc)]>0x0?_0x525333:void 0x0};}},Z=class{constructor(..._0x5e523e){const _0x425405=a0_0x22ca5b;throw{'status':0x191,'error':_0x425405(0x499),'message':_0x5e523e[_0x425405(0x3cc)]>0x0?_0x5e523e:void 0x0};}},H=class{constructor(..._0x42b635){const _0x44c88f=a0_0x22ca5b;throw{'status':0x193,'error':'Forbidden','message':_0x42b635[_0x44c88f(0x3cc)]>0x0?_0x42b635:void 0x0};}},k=class{constructor(..._0x93f6ac){const _0x135ac9=a0_0x22ca5b;throw{'status':0x194,'error':_0x135ac9(0x7b3),'message':_0x93f6ac[_0x135ac9(0x3cc)]>0x0?_0x93f6ac:void 0x0};}},I=class{constructor(..._0x2488d9){const _0x28df35=a0_0x22ca5b;throw{'status':0x1f4,'error':_0x28df35(0x2b6),'message':_0x2488d9[_0x28df35(0x3cc)]>0x0?_0x2488d9:void 0x0};}},le=require(a0_0x22ca5b(0x7a6));async function ws(_0x253220){const _0x3d092e=a0_0x22ca5b;let _0xd6be09=new v(ws['name']),_0x1ccb9c=R[_0x3d092e(0x6ee)](),_0x153519=_0x1ccb9c['db'](b[_0x3d092e(0x16d)]('DATABASE')[_0x3d092e(0x38d)]['DB_PREFIX_NAME']+'-instances')[_0x3d092e(0x5d0)](_0x253220),_0x5e0b82=async(_0x29814a,_0x532848)=>{const _0x3bf5f6=_0x3d092e;try{return await _0x1ccb9c[_0x3bf5f6(0x71a)](),await _0x153519[_0x3bf5f6(0x674)]({'_id':_0x532848},JSON[_0x3bf5f6(0x3db)](JSON[_0x3bf5f6(0x3e3)](_0x29814a,le[_0x3bf5f6(0x24b)]['replacer'])),{'upsert':!0x0});}catch{}},_0x474254=async _0x4d84c1=>{const _0x482cfb=_0x3d092e;try{await _0x1ccb9c['connect']();let _0x13d054=await _0x153519[_0x482cfb(0x3c6)]({'_id':_0x4d84c1}),_0x459fa3=JSON[_0x482cfb(0x3e3)](_0x13d054);return JSON['parse'](_0x459fa3,le[_0x482cfb(0x24b)][_0x482cfb(0x5d5)]);}catch{}},_0x1edc9c=async _0x25a80f=>{const _0x161062=_0x3d092e;try{return await _0x1ccb9c[_0x161062(0x71a)](),await _0x153519[_0x161062(0x4c5)]({'_id':_0x25a80f});}catch{}},_0x226250=await _0x474254(_0x3d092e(0x428))||(0x0,le[_0x3d092e(0x1d8)])();return{'state':{'creds':_0x226250,'keys':{'get':async(_0x52cc66,_0x502f5a)=>{const _0x11dfeb=_0x3d092e;let _0x5af771={};return await Promise[_0x11dfeb(0x745)](_0x502f5a[_0x11dfeb(0x4fd)](async _0xde0230=>{const _0x5b1f45=_0x11dfeb;let _0x281a46=await _0x474254(_0x52cc66+'-'+_0xde0230);_0x52cc66===_0x5b1f45(0x58e)&&_0x281a46&&(_0x281a46=le['proto'][_0x5b1f45(0x6e8)]['AppStateSyncKeyData'][_0x5b1f45(0x775)](_0x281a46)),_0x5af771[_0xde0230]=_0x281a46;})),_0x5af771;},'set':async _0x156b1f=>{const _0x47a34d=_0x3d092e;let _0x498d59=[];for(let _0x264fb6 in _0x156b1f)for(let _0x8b107a in _0x156b1f[_0x264fb6]){let _0x3cbf5c=_0x156b1f[_0x264fb6][_0x8b107a],_0x338999=_0x264fb6+'-'+_0x8b107a;_0x498d59[_0x47a34d(0x5a4)](_0x3cbf5c?_0x5e0b82(_0x3cbf5c,_0x338999):_0x1edc9c(_0x338999));}await Promise[_0x47a34d(0x745)](_0x498d59);}}},'saveCreds':async()=>_0x5e0b82(_0x226250,_0x3d092e(0x428))};}function a0_0x4684(){const _0x12397b=['\x20horas\x20e\x20','AutomateSystem','Desconectado,\x20parando\x20execução.','/wa-contacts','assign','deleteInstance','userDevicesCache','no.connection','formatBRNumber','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','editOperator','unreadCount','):\x20Comando\x20desconhecido:\x20','\x1b[42m','notas','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','all','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','Erro\x20ao\x20aplicar\x20varedit:\x20','replace','createFlow','sendMessage','\x20de\x20conectar\x20com\x20IP\x20extra.','capitalizedWords','leadInfo.desativadoFluxoAte','Safari\x20(MacOS)','Error\x20fetching\x20group','API_KEY','readFile','buttonMessage','updateGParticipate','src','getMIMEType','):\x20Criando\x20fluxo\x20compartilhado...','\x1b[36m','#ff9484','Erro\x20ao\x20editar\x20a\x20conversa:\x20','deleteMessageForEveryone','545djdEyG','existsSync','online','find','format','):\x20Iniciando\x20bot...','Error\x20creating\x20group','latitude','minutesToClose','findChats','VERBOSE','mentions','#01d0e2','vote','slice','update','processgoToFlow','has','writeFileSync','\x20não\x20encontrado\x20para\x20cópia','updatePresence','sendMessageWithTyping','filter','sendMedia','contactMessage','modifiedCount','fromObject','address','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','Db\x20Connection','Certbot\x20executado\x20com\x20sucesso.','#d8e651','not\x20loaded','findById','waitingMenu_ExpiredMessage','notEmpty','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','COLOR','[messages.upsert]\x20Mensagem\x20não\x20descriptografada\x20detectada:\x20ID\x20=\x20','waInstances',':\x20IP\x20configurado:\x20','https://api.openai.com/v1/audio/speech','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','console','Last\x20message\x20not\x20found','sendMenu','request\x20received\x20in\x20createFlow','Instance\x20ID:','match','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...',',\x20Expiration\x20Time:\x20','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','remoteJidsRemaining','.webp','Enter\x20a\x20value\x20in\x20milliseconds','\x1b[32m','LEVEL','ChatModel','none','stopWhenYouSendMsg','call','created','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','option','.jpg','badSession','unknown\x20operation\x20type\x20[','privacySettings','listResponseMessage','_activatedCount','bulkWrite','Error\x20while\x20deleting\x20message\x20for\x20everyone','leadInfo.etiquetas','@whiskeysockets/baileys','.jwt','request\x20received\x20in\x20getConversation','Imagem\x20não\x20encontrada','uazapiSendLocation','eventHandler','Parando\x20aplicação...','saveTextReply','firstValue','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','sha256','QRCODE_UPDATED','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','Not\x20Found','\x20}\x0a','updateMessage','messageSecret','Falta\x20informação\x20para\x20a\x20chamada\x20API','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','Instance\x20\x22','padEnd','Error\x20change\x20group\x20name','currency','Validate','pairingCode','\x0aFN:','SERVER_ACK','nextBlock:','checkAndRestartProcess','loadWebhook','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','13oAiNkI','\x1b[31m','\x22,\x20valor\x20a\x20substituir:\x20\x22','Fluxos\x20não\x20estão\x20ativados','application/json','message_normalized','restartInstance','GROUPS_UPDATE','):\x20Deletando\x20mensagem','groupRevokeInvite','}}\x20->\x20\x22','Read\x20messages','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','messaging-history.set','participant','Erro\x20ao\x20copiar\x20dados:','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','isURL','@s.whatsapp.net','getOwnPropertyDescriptor','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','createSectionsFromValues','/config','toLocaleString','):\x20Erro\x20ao\x20editar\x20agentes:\x20','21QVDArt','editScheduleMessage','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','evaluateCondition','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','Image\x20is\x20base64','groupHandler','\x1b[37m%s\x1b[0m','creation','loadInstance','conversationTimestamp','Esse\x20fluxo\x20expirou','textMessage','pollUpdateMessage','):\x20Mensagem\x20já\x20enviada\x20para\x20','.pptx','):\x20Conversa\x20está\x20expirada','deleteMessage','Certbot:\x20','image','CONTACTS_UPDATE','url','):\x20Conversa\x20atualizada\x20em\x20memória','less','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','allContacts','Erro\x20de\x20reinicialização:\x20','fullName','Deleted\x20','Error\x20in\x20converting\x20audio','status','selectedOptions','reaction','\x20saindo\x20da\x20função','sendDataWebhook','toBRL','get',',\x20lastCondition:\x20','getContactModelForOwner','findAll','Erro\x20ao\x20editar\x20o\x20chat:\x20','height','https-proxy-agent','_Labels','audio','PRODUCT_LIST','onTime','\x1b[1m\x1b[37m','/wa-qrcode','writeData','presence.update','test','):\x20Conversas\x20encontradas:','truncatedto','_id','maxActives','spawn','getBase64FromMediaMessage','deleteMany','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','bateu\x20events','waMonitor','createSharedFlow','pollCreationMessage','chats.update','label_jid','.error','valid','isInteger','Last\x20message\x20not\x20found\x20for\x20number:','updateReplyOption','Erro\x20ao\x20deletar\x20chat:','webhookModel','labelId','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','Contacts\x20not\x20found','KEY','updateAll','processvaredits','setContext','connectToWhatsappController','Fetching\x20business\x20profile','Log\x20out\x20instance:\x20','Error\x20change\x20group\x20setting','available','crypto','groupId','API\x20Key\x20from\x20Request:','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','send.message','):\x20Limpando\x20AutomateSystem','addReplyOption','status@broadcast','2266946qxZasG','@broadcast','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','notContains','\x20minutos\x20verificará\x20novas\x20mensagens','sendText','Chrome','updateMissingCustomFields','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','newStoppedUntil','scheduleMessages','uazapiDeleteMessage','https','editChat','Atualização:\x20','getMessage','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','URL','https://api.ipify.org?format=json','http://icanhazip.com/','dbSettings','/media/','Erro\x20ao\x20buscar\x20conversa:\x20','):\x20Ler\x20mensagem','chatModify','SERVER_PORT','sort','Getting\x20image\x20from\x20url','namespace','verbose','updateMissingEtiquetas','AUTHENTICATION_API_KEY','locked','request\x20received\x20in\x20editConversation','Error\x20updating\x20participants','createJid','https://api.openai.com/v1/images/generations','longitude','normalizeMessage','Cache-Control','\x20com\x20sucesso.','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','whatsappNumber','role','instanceCount','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','):\x20transformedCustomFieldVariables','picture','code','initAuthCreds','PLAYED',',\x20Minutes\x20to\x20Close:\x20','.TEL;waid=','description','menuExpiredMessage','-instances','connectionUpdate','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','CHATS_DELETE','https://jsonip.com','Error\x20in\x20chatModify\x20for\x20number\x20','getflow','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','stanzaId','Erro\x20ao\x20remover\x20instâncias\x20antigas:','groups.upsert','updateMany','\x1b[0m','exists','enviado\x20para','ignoreGroups','execSync','stopConversation','evaluateConditionTest','Error\x20fetching\x20and\x20updating\x20profile:\x20','scheduled','messageHandle','profilePicture','Erro\x20ao\x20atualizar\x20o\x20fluxo:','chats','CORS','Image\x20created','fileLength','#ffc5c7','flow','messagesSend','jsonschema','groupInviteCode','isJidGroup','qrCode','fetchChats','updateLastSeenPrivacy','messages','remove','pollCreationMessageV3','The\x20\x22','getProfileName','All_Instances_Config',',\x20pairCode:\x20','formatStatusMessage','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','audioWhatsapp','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','where','getScheduleMessage','recording','):\x20Usando\x20extensão\x20padrão:\x20','contactHandle','createConversationforStartFlow','audio/mpeg','SendScheduleMessage','waUploadToServer','):\x20Buscando\x20conversas...','findParticipants','numbers','replaceVariablesInReplyOptions','The\x20property\x20cannot\x20be\x20empty','uazapiSendContact','emit','/message','uazapi','editflowcondition','AUTHENTICATION','node-mime-types','fileUrl','getLabelModelForOwner','groups','deleteBlock','removeInstance','updateBlock','):\x20Enviando\x20contato','Erro\x20ao\x20normalizar\x20a\x20mensagem:','loadEnv','expression','mediaMessage','statusMessage','932JXJNTR','WA\x20MODULE','toNumber','decryptPollVote','):\x20Falha\x20ao\x20deletar\x20mensagem.','linkPreview','Erro\x20ao\x20atualizar\x20o\x20flow.','MessageModel','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','originalUrl','Audio\x20processed','updateMissingShareOwners','groupName','qrcode','Cannot\x20','):\x20conversation.waitingMenu_name','REDIS','Content\x20is\x20required','leadInfo.','MESSAGES_SET','headerString','prepareWAMessageMedia','CONNECTION_UPDATE','delayChatLabel_RETRY_DELAY_MS','creds.json','groupAcceptInvite','CORS_ORIGIN','parseInt','BufferJSON','env','unlinkSync','urlOrBase64','Erro:','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','Chat\x20com\x20ID\x20','unlocked','extractRegex','saveConversationToDatabase','Flow\x20não\x20encontrado','log','sendContact','remove.instance','/instance/connectionState','refused','and','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','readData','updatePrivacySettings','deleteChat','AUTHENTICATION_TYPE','Erro\x20ao\x20atualizar\x20AutomateSystem:','_error','updateGroupsAddPrivacy','\x20\x1b[0m','Temp\x20image\x20deleted','$set','removeData','):\x20Visualizando\x20AutomateSystem','env.yml','STORE_CONTACTS','flowStopConversation','.xlsx','):\x20nextBlock.uazapi.name','qrcode.updated','pre','labels.edit','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','fetchConversation','):\x20Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','unavailable','video','set','):\x20updateResult:','END:VCARD','removeProfilePicture','/instance/create','isArray','CLEANING_INTERVAL','notEqual','Audio\x20converted\x20and\x20stored\x20in\x20cache','No\x20join\x20group\x20invite\x20code\x20or\x20url','delayChatLabel_MAX_RETRIES','responsavelid','owner','send','stopIfLastReturnedError','uazapiSendText','SEND_MESSAGE','chats.set','etiquetas','base64','findOrCreate','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','auth','MESSAGES_UPDATE','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','HeaderType','buttons','msgRetryCounterCache','arrayUnique','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','request\x20received\x20in\x20editFlowgroup','dataValidate','/*.json','compression','blocks','\x20minutos...','processingScheduleMessageId','FlowModel','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','\x20-i\x20','order','updateAgent','mediaKey','webhookMap','gifPlayback','http','/wa-message','READ','Read\x20messages\x20fail','exit','mimetype','size','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','):\x20Enviando\x20áudio','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','\x20minutos','MESSAGES_UPSERT','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','Error\x20updating\x20profile\x20picture','application/octet-stream','Internal\x20Server\x20Error','updateParticipant','.ogv','options','getScheduleMessageModelForOwner','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','leadInfo','importChats','out','response','max','isConnected','editFlowVariable','):\x20Editando\x20edição\x20do\x20fluxo...','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','buffer','PREFIX_KEY','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','method','Types','storePath','fetchBusinessProfile','Primeiro\x20Valor:\x20','last_update','instancias:\x20','contactname',',\x20Comparador:\x20','editFlowGroup','):\x20Buscando\x20flow...','insertMany','archived','scheduleSendText','chat','):\x20Going\x20to\x20','replaceVariablesLogs','isJidUser','groupSetting','uazapiSendMedia','flowPrefixCommand','AutomateFunctions','Background\x20color\x20is\x20required','#fed428','76WyBBqn','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','INFO','readMessages','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','\x1b[36m%s\x1b[0m','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','Início','rows','contacts','editflowvariable','#ffae04','stderr','dbInstance',',\x20resultado:\x20','website','findMessages','#dfaef0','request\x20received\x20in\x20scheduleMessage','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','phoneNumber','):\x20Editando\x20variável\x20do\x20fluxo...','updateReadReceiptsPrivacy','replyOption','flowConfig','join','notify','$pull','profile','__esModule','charAt','request\x20received\x20in\x20deleteDoneMessages','createServer','mongodb','bearer','email','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','drop','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','REDIS_ENABLED','updateProfilePicturePrivacy','audioMessage','shift','delayMessage','uazapiSendMenu','error','resetReconnectionVariables','mkdirSync','stateConnection','_FlowHistorico','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','convert','NO_IP','toDataURL','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','setHeader','saveVariable','state','qrcode-terminal','silent','logger','editedMessage','messageTimestamp','/create','\x0aitem','https://api.elevenlabs.io/v1/text-to-speech/','request\x20received\x20in\x20updateAgent','generate','certonly','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','warn','loggedOut','/instance','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','getHours','copy','statusJidList','reference','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','pollCreationMessageKey','processApiRequest','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','min','create','model','Label\x20','licenca','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','PROXY','RECONNECT_TIME_FRAME','editflowgroup','contact','title','round','not_announcement','.webm','ORG:','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','notMatchRegex','groupUpdateSubject','dark','fetchInstances','isListOfNumbers','object','archiveChat','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','sectionsToString','CONECTADO\x20À\x20UAZAPI','deleteDoneMessages','uuid','Rótulo\x20inválido\x20ou\x20sem\x20ID.','DisconnectReason','action','findGroups','SECRET','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','removeOlderDisconnectedInstances','audio/ogg','metadata','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','lastmsg','Archiving\x20chat','endsWith','CONFIGURAÇÃO\x20GERAL:','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','Erro\x20ao\x20adicionar\x20label\x20','dbClient','scheduleSendAudio','locationMessage','pt-BR','\x22\x20-\x20REMOVED','chats.delete','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','Authentication\x20error','inviteCode','http://myexternalip.com/raw','message','Button\x20IDs\x20cannot\x20be\x20repeated.','Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','prefixCommand','imageMessage','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','\x20chats\x20de\x20','updateOneById','groupDesc','http://ifconfig.me/ip','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','contentText','success','Erro\x20ao\x20atualizar\x20conversa:\x20','\x20removido\x20do\x20chat\x20','/wa-groups','flowname:\x20','editFlowReply','lastInteraction','joinGroupValidate','now','EXPIRIN_IN','restart','close','updateMissingTags','):\x20Ignoring\x20group\x20messages.','params','copyBlock','DATABASE_CONNECTION_PASSWORD','This\x20name\x20','hbs','sendButtons','authState','generateWAMessageFromContent','CONNECTION','STORE_MESSAGE','):\x20Dados\x20migrados\x20com\x20sucesso','URI','Bad\x20Request','express','verifiedName','configService','AUTHENTICATION_JWT_SECRET','fileName','):\x20Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','messages.upsert','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','presenceSubscribe','true','\x22\x20cannot\x20be\x20empty','segundos','next_groupId','stdout','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','body','):\x20Enviando\x20mídia','caption','remoteJid','startsWith','imagechat','8080','pollMessageOnDelete','\x1b[37m','^\x5cd+[\x5c.@\x5cw-]+','validate','):\x20Buscando\x20todos\x20os\x20fluxos...','):\x20Procurando\x20mensagens\x20para\x20envio','\x20->\x20NÃO\x20CORRESPONDE.','_Chats','findIndex','^\x5cd+([-]\x5cd+)*@g.us$','fromMe','prototype','urlencoded','values','API\x20Key\x20inválida.','flowName','footerText','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','sendPresenceUpdate','extractMessageContent','value','fetchStatus','_ScheduleMessages','revokeInviteCode','content','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','quoted','findAndReplaceRegex','PRIVKEY','):\x20Alterando\x20fluxo...','findOne','authService','getDelay','groups_ignore','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','Erro\x20ao\x20sincronizar\x20fluxos:\x20','length','document','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','No\x20participants','/instance/fetchInstances','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','fetchProfile2','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','realVariables','.uazapi.dev','mentioned','):\x20Editando\x20replyOption...',',\x20qrcodeCount:\x20','defineAuthState','--standalone','parse','sendWhatsAppAudio',':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...','editFlowBlock','LICENSE_INVALID','bodyString','groupadd','):\x20Bloco\x20com\x20ID\x20','stringify','HttpsProxyAgent','findOneAndUpdate','repository','font','requestPairingCode','isLong','keys','sendPoll','ex:\x20\x22groupJid=120362@g.us\x22','Error\x20updating\x20privacy\x20settings','sending','FlowRouter','):\x20Deletando\x20conversa...','Getting\x20profile\x20with\x20jid:\x20','audio/mp4','):\x20Query\x20params:','@g.us','updateGroupPicture','function','DOCKER_ENV','webp','#ffffff','automateSystem','Button\x20texts\x20cannot\x20be\x20repeated','key','URL:','block','#d3a91f','username','\x1b[46m','menuType','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','blockId','\x1b[30m','Selecione','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','synchronizeFlows','readFileSync','getChatModelForOwner','greater','messages.set','app','lastReceivedMessage','groupUpdateDescription','makeCacheableSignalKeyStore','https://uazapi-plugin.bubbleapps.io/?url=','\x20adicionado\x20ao\x20chat\x20','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','groupValidate','jpegThumbnail','isBusiness','vcard','updateProfileStatus','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','Sending\x20audio\x20whatsapp','):\x20Flow\x20não\x20encontrado','findAndReplace','equal','contacts.upsert','CREDENTIALS','findFlow','tags','Sistema\x20atualizado\x20com\x20sucesso!','):\x20','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','CHATS_UPSERT','_Flows','creds','request\x20received\x20in\x20fetchConversation','limit','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','\x5cd+','protocol','client','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','boolean','local_map','updateChatWithMessage','instances','data','varedit','jid','addBlock','):\x20Error\x20processing\x20conditions:\x20','):\x20Bloco\x20original\x20para\x20cópia:\x20','participants','):\x20Procurando\x20conversa','):\x20Conversa\x20está\x20expirada\x20-\x20voto','newValue','apikey','redisEnv','_Contacts','updateConversation','flowIgnoreGroups','group\x20ignored','request\x20received\x20in\x20allFlows','wuid','when','unhandledRejection','Instance\x20logged\x20out','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','?timestamp=','trim','CONTACTS_UPSERT','composing','paused','Business\x20profile\x20fetched','TEXT','menuIgnoreNonVotes','SERVER','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','pushName','#000000','The\x20instance\x20needs\x20to\x20be\x20disconnected','Database\x20is\x20not\x20enabled','createConnection','):\x20Erro\x20ao\x20buscar\x20conversas\x20','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','convertaudio','#9ba6ff','sleep','updateOnlinePrivacy','repeat','Converted\x20image\x20deleted','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','\x20do\x20chat\x20','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','setRestartTimer','startFlow','documentMessage','port','updateProfileName','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','readMessageBot','chatHandle','birthtime','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','group-participants.update','.png','instanceInfo','!stop','CHATS_UPDATE','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','isBase64','toggleEphemeral','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','connectionState','request\x20body:\x20','/wa-connection-update','HH:mm:ss','DB_PREFIX_NAME','getConversation','Cached\x20audio\x20found,\x20returning\x20existing\x20file','Type\x20defined\x20as\x20audio','matchRegex','substring','\x20-y','Não\x20respondeu\x20com\x20a\x20enquete.','upsertedCount','rm\x20-rf\x20','scheduleSendMedia','defineProperty','BRL','optionName','status.instance','stopped','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','statSync',':\x20IP\x20funcionando!','copyDataToNewModel','conversation','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','--agree-tos','Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','../env.yml','\x20inseridos\x20no\x20banco\x20de\x20dados...','Rótulo\x20atualizado:','/chat','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','Unauthorized','ScheduleMessageModel','verify','request\x20received\x20in\x20updateCustomFields','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','archive','start','mongoose','menuMessage','lastDisconnect','http://ipecho.net/plain',':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...','fetchLabels','onWhatsApp','messages.update','/instance/connect','editflowreply','connectToWhatsapp','findGroupInfos','/clients-info','.ppt','ObjectId','subject','\x0a{\x20instance:\x20','sections','password','pollOnReplyDelete','indexOf','nomecompleto','toString','redirect','Output\x20path:\x20','\x20minutos.\x20Será\x20às\x20','PRESENCE_UPDATE','contact_blacklist','findWebhook','getPrototypeOf','reorderReplyOptions','add','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','toFile','some','/exit','deleted','deleteOne','delete','importChatsAntigo','Error\x20updating\x20message\x20status:','DELIVERY_ACK','5061294oNMZeX','sendLocation','saveCreds','presence','saveMediaToFile','#fe9dfe','convertToWebP','displayName','reactionMessage','command','messageId','json','Connection\x20closed\x20for\x20instance:\x20','stopMinutes','\x20-\x20retornado:\x20','#f64847','Fluxo\x20não\x20encontrado','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','SUCCESS','groupLeave','editConversation','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','Bloco\x20com\x20ID\x20','WARN','data:\x20','):\x20Deletando\x20fluxo...','reorderBlocks','listMessage','authModel','AUTHENTICATION_JWT_EXPIRIN_IN','createRegularFlow','.mp4','mediaSticker','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','3405OFWDts','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','processConditionsTest','dbServer','):\x20this.processingScheduleMessageId:\x20','https://','\x1b[40m','createWebhook','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','Hash\x20to\x20image\x20name:\x20','rowId','Revoke\x20error','Image\x20path:\x20','exec','4326BrAMmW','\x1b[43m','map','entries','contacts.update','1576233tvjfGv','delaySecMax','replaceVariablesChat','updateCustomFields','goNextblock','Content-Type','createGroup','fetchProfilePicture','addresss','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','open','request\x20received\x20in\x20editFlowcondition','getFlow','SSL_CONF_PRIVKEY','Missing\x20global\x20api\x20key','query','webhook','processConditions','announce','):\x20newFirstValue\x20após\x20replaceVariables:','apiName','envYaml','ini','groups.update','\x20segundos','lowerCase','https://ipinfo.io/json','DELETED','reconnectTimestamps','https://github.com/uazapi/uazapi.git','InstancesAsDisconnectedX',',\x20fará\x20nova\x20verificação\x20em\x20','list',':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20','#b4ebff','Resultado\x20da\x20atualização:','count','):\x20Query\x20params:\x20','/instance/delete','Erro\x20ao\x20importar\x20chats:','getContentType','getDevice','getConversationModelForOwner','convertedOptions','):\x20Criando\x20fluxo\x20regular...','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','Erro\x20inesperado\x20em\x20processvaredits:\x20','GUARD','Schema','proto','sendStatus','scheduleNextCheck','envProcess','findLabels','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','info','createConversationforgoToFlow','unreadcount','32dZsahG','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','):\x20alterando\x20this.AutomateSystem','remote\x20\x22origin\x22','deleteConversation','getTicketSystem','LOG_COLOR','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','\x1b[34m','):\x20atualização\x20chat:\x20','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','end','getUpdate','delayChatLabel','NextBlock','checkAndUpdateChatStatus','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','Connection','string','deletedCount','content-type','Deletion\x20failed','release','isRunning','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','mongodb://','split','variablesToObject','createClient','-whatsapp-api','insert','groupJid','Message\x20not\x20found','http://ip-api.com/json','jsonwebtoken','Error\x20updating\x20profile\x20name','12dEnNvs','Conversa\x20deletada\x20com\x20sucesso.','fetchProfilePictureUrl','lastCondition','contextInfo','pollMessage','cpf','Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome','includes','):\x20não\x20encontrou','fetchPrivacySettings','\x20ao\x20chat\x20','type','deleteReplyOption','loadproxy','):\x20Editando\x20grupo\x20do\x20fluxo...','delay','buttonText','text','):\x20Fluxos\x20não\x20estão\x20ativados','CONTACTS_SET','instanceName\x20not\x20provided.',',\x20saindo.','findGroup','statusCode','\x1b[1m','.svg','Trying\x20to\x20get\x20business\x20profile','variable','\x22\x20-\x20NOT\x20CONNECTION','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','useMultiFileAuthState','getVariablesChat','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','lastSend','updateStopChat','getRandomText','DEBUG','updateMediaMessage','ReplyOption\x20com\x20ID\x20','post','fetchProfile','#9568cf','STORE_CLEANING_TERMINAL','prepareMediaMessage','utf-8','app-state-sync-key','):\x20Conversa\x20inserida\x20com\x20sucesso.','GROUPS_UPSERT','updateMissingLabels','inner','splice',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','last','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Flow\x20iniciado\x20com\x20','put','applyvaredit','Erro\x20ao\x20buscar\x20conversas:\x20','DATABASE','ms\x20(Attempt\x20','redis://127.0.0.1:6379','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','groupMetadata','varedits','stopMinutesMaxActives','default','push','collections','Error\x20in\x20markMessageAsRead:','removed','Valor\x20de\x20find\x20ou\x20replace\x20ausente','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','Nenhum\x20chat\x20encontrado\x20para\x20editar.','flowConversation','The\x20','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','processUazapi','del','variablesNotFound','USER','addChatLabel','creds.update','Instância:\x20','g.us','fone','updateFlowConfig','agents',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','CHATS_SET','DARK','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','express-async-errors','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','}}\x20->\x20valor\x20não\x20encontrado','noConnection','):\x20customFieldVariables','atendimentoAberto','/webhook','fetchMessages','digest','allflows','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','\x1b[33m','\x20foi\x20interrompido\x20pelo\x20usuário.','eventemitter2','Error\x20writing\x20file:\x20','messageContextInfo','Subscribed\x20Events:','cwd','name','collection','\x0a*Você\x20respondeu*:\x0a','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','closeExistingConversations','.xls','reviver','restrict','setNewValue','Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','videoMessage','\x20não\x20encontrado','testProxy','):\x20Enviando\x20localização','webhookService','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','stickerMessage','leaveGroup','Group\x20not\x20found','buttonId','announcement','integer','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','HOST','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','scheduleMessage','DD/MM\x20HH:mm:ss','ephemeralExpiration','flattenObject','profilePictureUrl','10EwIDHf','getAllData','nome','ChatRouter','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','deleteFlow','updateStatusPrivacy','editFlow','Valor\x20inicial:\x20\x22','PENDING','path','OrAnd','STATUS_INSTANCE','errors','headers','Error\x20in\x20scheduleNextCheck:\x20','):\x20Bloco\x20copiado:\x20','Variável\x20não\x20encontrada!','write','lastBlockId','desativadoFluxoAte','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','):\x20delete\x20=\x20true','Font\x20is\x20required','encoding','instanceKeys','TYPE','RemoveChatLabel','Error\x20removing\x20profile\x20picture','class-validator','instanceName','host','):\x20Current\x20Time:\x20','):\x20Erro\x20durante\x20a\x20atualização:\x20','trimmed','from','generateHash',',\x20valor\x20a\x20encontrar:\x20\x22','subdomain','ids','secondValue','Erro\x20ao\x20deletar\x20mensagens:','request\x20received\x20in\x20deleteConversation','Error\x20updating\x20profile\x20status','getOwnPropertyNames','certbot','://','setting','findByIdAndUpdate','hex','random','uazapiSendAudio','readMessage','toLowerCase','SSL_CONF','AddChatLabel','ButtonsMessage','blockLogs','ERROR','SERVER_OFFLINE','backgroundColor','.txt','StatusJidList\x20is\x20required','replaceVariables','long','waitingForReplyMenu','readdirSync','LOG','redis','padStart','/wa-chats','The\x20global\x20api\x20key\x20must\x20be\x20set','apply','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','createAndSave','sharePass','Erro\x20de\x20atualização:\x20','createInstance','enumerable','output','pollCreationMessageV2','Message\x20absent\x20from\x20node','delAll','error_log','goToFlow','Error\x20occurred\x20while\x20archiving\x20chat:\x20','URL\x20limpa:\x20','imported','/wa-message-update','):\x20teve\x20mudanças\x20chat.displayName:\x20','instance','):\x20Error\x20processing\x20the\x20block:\x20','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','DaysToDelete','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','dayjs','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','updateProfilePicture','request\x20received\x20in\x20editFlow','FlowController','getAutomateSystem','<subdomain>','messageType','\x20-\x20ON:\x20','connectedClient','Router','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','choices','demote','STORE_CHATS','child_process','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','routerPath','cache','EMAIL:','use','cleaningUp','):\x20isVote:\x20','request\x20received\x20in\x20getFlow','ListMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','Getting\x20profile\x20info','Not\x20allowed\x20by\x20CORS','InstancesAlterarTodas','removeChatLabel','done','\x20instance\x20does\x20not\x20exist','):\x20leadInfoVariables','Close\x20connection','editFlowVaredit','getMessageModelForOwner','events','throwAndLogError','replaceOne','cors','mediatype','Instance\x20Key\x20from\x20DB:','everyOne','459494QKtLLe','):\x20enviado\x20para\x20[','downloadMediaMessage','localWebhook','\x20inseridas\x20no\x20banco\x20de\x20dados...','):\x20Flow\x20desativado','poll','arraybuffer','selectableCount','closed','logout','Chat\x20','preview','save','match_last_seen','ListType','AppStateSyncKeyData','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','markMessageAsRead','oldValue','enabled','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','conditions','findGroupInfo','waitingMenu_replyOptions','CORS_METHODS','ip:\x20','shareOwners','contactsArrayMessage','setWebhook','moreLogs','Erro\x20ao\x20iniciar\x20fluxo:\x20','CORS_CREDENTIALS','condition','connectedName','WebhookGlobal','axios','eventEmitter','isJWT','/wa-presence','fetchContacts','importChatsBatch','hDel','request\x20received\x20in\x20deleteFlow','saveChatVariables','upsertChats','#6f7bcf','exports','joinGroup','header','STORE','_Messages','listType','media','sendReaction','temp-','getLastMessage','deleteAll','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','chatLog','editFlowCondition','router','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','senderKeyDistributionMessage','context','Mensagem\x20não\x20suportada','/group','#83e421','timerId','utf8','FULLCHAIN','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','detail','reconnectAttempts','MAX_RECONNECT_ATTEMPTS','ERROR:\x20','File\x20written\x20to\x20path:\x20','endSession','Failed\x20to\x20find\x20chat\x20','variables','):\x20group\x20ignored','editflowvaredit','labels.association','Reinicialização\x20iniciada:\x20','request\x20received\x20in\x20editFlowvariable','replyOptions','downloads','formatVCard','.mp3','):\x20conversation.status:\x20','viewOnceMessage','customFields','number','\x1b[41m','chatId','forEach','getStatus','floor','finish','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','Conexão\x20estabelecida','replaceVariablesInObject','):\x20Entrou\x20na\x20função\x20stop','findConversation','optionDescription','\x1b[31m%s\x1b[0m','chats.upsert','LabelModel','waitingMenu_text','views','Message','ephemeralMessage','sendSticker','organization','video-cover.png','changeVariables','getClient','allFlows','documentWithCaptionMessage','jwt','GROUP_PARTICIPANTS_UPDATE','updateOne','lean','\x20is\x20already\x20in\x20use.','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','connecting','updateGParticipant','normalizeMessageContent','):\x20lastBlockId:\x20','getTime','createNewConversation','user','fetchLatestBaileysVersion','array',':\x20Erro\x20durante\x20loadproxy\x20-\x20','Converting\x20image\x20to\x20WebP\x20to\x20sticker','https://uazapi-plugin.bubbleapps.io/','error\x20get\x20vote','js-yaml','request\x20received\x20in\x20starFlow','hSet','lastSendMessage','color','connection.update','\x20não\x20encontrado\x20para\x20atualização.','toUpperCase','instance.','):\x20Criada\x20conversa\x20nova\x20(gotoflow)',']\x20(','/events','Image\x20converted\x20to\x20WebP','waitingMenu_id','protocolMessage','Tentando\x20reconectar...','group','):\x20tem\x20blocks','createflow','g-t','PORT','insertCount','connect','messageStubType','REDIS_PREFIX_KEY','\x1b[47m','apiResponse','hasOwnProperty','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','uncaughtException','connectionStatus','processblock','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','apirequest','):\x20Entrou\x20na\x20função\x20goToFlow','ENABLED','^\x5cd+','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','abs','setUpdate','label','Instance\x20deleted','node-cache','augusto.fcs@gmail.com','contains','getFlowModelForOwner'];a0_0x4684=function(){return _0x12397b;};return a0_0x4684();}var Es=T(require(a0_0x22ca5b(0x62d))),Cs=T(require(a0_0x22ca5b(0x731))),Tt=require('@whiskeysockets/baileys'),pr=require('@redis/client'),Rt=require(a0_0x22ca5b(0x7a6)),Nt;function pi(_0x2cf503){const _0x4efaa2=a0_0x22ca5b;return Nt||(Nt=(0x0,pr[_0x4efaa2(0x557)])({'url':_0x2cf503[_0x4efaa2(0x390)]}),Nt[_0x4efaa2(0x71a)]()),Nt;}var re=class c{constructor(_0x44501b,_0x35713e){const _0x255fda=a0_0x22ca5b;this[_0x255fda(0x43f)]=_0x44501b,this[_0x255fda(0x60b)]=_0x35713e,this[_0x255fda(0x31f)]=new v(c['name']),this[_0x255fda(0x42e)]=pi(_0x44501b);}set[a0_0x22ca5b(0x330)](_0x2f7de4){const _0x3c2bb8=a0_0x22ca5b;this[_0x3c2bb8(0x60b)]=_0x2f7de4;}async['instanceKeys'](){const _0x5a2d16=a0_0x22ca5b;try{return await this['client']['sendCommand']([_0x5a2d16(0x3ea),this[_0x5a2d16(0x43f)]['PREFIX_KEY']+':*']);}catch(_0x39ec47){this[_0x5a2d16(0x31f)][_0x5a2d16(0x30f)](_0x39ec47);}}async[a0_0x22ca5b(0x17a)](_0x1445b1,_0x23d3b6){const _0x573480=a0_0x22ca5b;try{let _0x3677ba=JSON[_0x573480(0x3e3)](_0x23d3b6,Rt[_0x573480(0x24b)]['replacer']);return await this[_0x573480(0x42e)][_0x573480(0x706)](this[_0x573480(0x43f)][_0x573480(0x2c6)]+':'+this['instanceName'],_0x1445b1,_0x3677ba);}catch(_0x934f2b){this[_0x573480(0x31f)][_0x573480(0x30f)](_0x934f2b);}}async[a0_0x22ca5b(0x5ee)](){const _0x321ce6=a0_0x22ca5b;try{let _0x244c91=await this['client']['hGetAll'](this[_0x321ce6(0x43f)][_0x321ce6(0x2c6)]+':'+this[_0x321ce6(0x60b)]);if(_0x244c91){for(let _0x56ce10 in _0x244c91)Object[_0x321ce6(0x3b3)][_0x321ce6(0x71f)]['call'](_0x244c91,_0x56ce10)&&(_0x244c91[_0x56ce10]=JSON[_0x321ce6(0x3db)](_0x244c91[_0x56ce10],Rt['BufferJSON'][_0x321ce6(0x5d5)]));return _0x244c91;}}catch(_0xef281a){this[_0x321ce6(0x31f)][_0x321ce6(0x30f)](_0xef281a);}}async[a0_0x22ca5b(0x25e)](_0xc3c9fe){const _0x54b22a=a0_0x22ca5b;try{let _0x411563=await this[_0x54b22a(0x42e)]['hGet'](this[_0x54b22a(0x43f)][_0x54b22a(0x2c6)]+':'+this[_0x54b22a(0x60b)],_0xc3c9fe);if(_0x411563)return JSON[_0x54b22a(0x3db)](_0x411563,Rt[_0x54b22a(0x24b)][_0x54b22a(0x5d5)]);}catch(_0x20ae32){this['logger'][_0x54b22a(0x30f)](_0x20ae32);}}async[a0_0x22ca5b(0x268)](_0x2101cc){const _0x263e3e=a0_0x22ca5b;try{return await this[_0x263e3e(0x42e)][_0x263e3e(0x6a3)](this[_0x263e3e(0x43f)]['PREFIX_KEY']+':'+this[_0x263e3e(0x60b)],_0x2101cc);}catch(_0x108aea){this[_0x263e3e(0x31f)]['error'](_0x108aea);}}async[a0_0x22ca5b(0x63f)](_0x2f9307){const _0x2db1c2=a0_0x22ca5b;try{return await this[_0x2db1c2(0x42e)][_0x2db1c2(0x5af)](_0x2f9307||this[_0x2db1c2(0x43f)][_0x2db1c2(0x2c6)]+':'+this[_0x2db1c2(0x60b)]);}catch(_0x1969f9){this[_0x2db1c2(0x31f)][_0x2db1c2(0x30f)](_0x1969f9);}}};async function ys(_0x362dc6,_0x1aa9f4){const _0x2003fb=a0_0x22ca5b;let _0x4c93d3=new v(ys[_0x2003fb(0x5cf)]),_0x567d32=new re(_0x362dc6,_0x1aa9f4),_0x336d0c=async(_0x264c15,_0x2acc1b)=>{const _0x491b71=_0x2003fb;try{return await _0x567d32['writeData'](_0x2acc1b,_0x264c15);}catch(_0x4c5a06){return _0x4c93d3[_0x491b71(0x30f)]({'localError':_0x491b71(0x17a),'error':_0x4c5a06});}},_0x22807e=async _0x50b500=>{const _0x1280c1=_0x2003fb;try{return await _0x567d32[_0x1280c1(0x25e)](_0x50b500);}catch(_0x513ae2){_0x4c93d3[_0x1280c1(0x30f)]({'readData':_0x1280c1(0x17a),'error':_0x513ae2});return;}},_0x54e7f3=async _0x6716a6=>{const _0x515f89=_0x2003fb;try{return await _0x567d32['removeData'](_0x6716a6);}catch(_0x5735c2){_0x4c93d3[_0x515f89(0x30f)]({'readData':_0x515f89(0x268),'error':_0x5735c2});}},_0x4dd8f3=await _0x22807e(_0x2003fb(0x428))||(0x0,Tt[_0x2003fb(0x1d8)])();return{'state':{'creds':_0x4dd8f3,'keys':{'get':async(_0x554f56,_0x3325fd)=>{const _0x4647af=_0x2003fb;let _0x517283={};return await Promise['all'](_0x3325fd[_0x4647af(0x4fd)](async _0x23000c=>{const _0xc21f4a=_0x4647af;let _0x58b376=await _0x22807e(_0x554f56+'-'+_0x23000c);_0x554f56===_0xc21f4a(0x58e)&&_0x58b376&&(_0x58b376=Tt[_0xc21f4a(0x532)]['Message'][_0xc21f4a(0x689)][_0xc21f4a(0x775)](_0x58b376)),_0x517283[_0x23000c]=_0x58b376;})),_0x517283;},'set':async _0x2d1d7c=>{const _0x28f604=_0x2003fb;let _0x46eb62=[];for(let _0x36c659 in _0x2d1d7c)for(let _0x4eca34 in _0x2d1d7c[_0x36c659]){let _0x2418be=_0x2d1d7c[_0x36c659][_0x4eca34],_0x342e19=_0x36c659+'-'+_0x4eca34;_0x46eb62[_0x28f604(0x5a4)](_0x2418be?await _0x336d0c(_0x2418be,_0x342e19):await _0x54e7f3(_0x342e19));}await Promise[_0x28f604(0x745)](_0x46eb62);}}},'saveCreds':async()=>await _0x336d0c(_0x4dd8f3,'creds')};}var L=T(require('fs')),Ce=require(a0_0x22ca5b(0x350)),xt=T(require('sharp')),Dt=require(a0_0x22ca5b(0x173)),hi=a0_0x22ca5b(0x786)[a0_0x22ca5b(0x44b)](),Ot=hi['split']('\x0a')['map'](_0x13bb5f=>{const _0x12fc24=a0_0x22ca5b;let _0x4b306d=_0x13bb5f['split'](':'),_0x1670f4={'host':_0x4b306d[0x0],'port':_0x4b306d[0x1],'protocol':_0x12fc24(0x2a6)};return _0x4b306d['length']===0x4&&(_0x1670f4[_0x12fc24(0x400)]=_0x4b306d[0x2],_0x1670f4[_0x12fc24(0x4b2)]=_0x4b306d[0x3]),_0x1670f4;});function hr(_0x86baa6){const _0x176f07=a0_0x22ca5b;return Ot['find'](_0x1ddbfa=>_0x1ddbfa[_0x176f07(0x60c)]===_0x86baa6)||null;}function gr(){const _0x53af04=a0_0x22ca5b;if(Ot[_0x53af04(0x3cc)]===0x0)return null;let _0x5d2c0a=Math[_0x53af04(0x6db)](Math[_0x53af04(0x61f)]()*Ot[_0x53af04(0x3cc)]);return Ot[_0x5d2c0a];}function bs(_0xe72e65){const _0x500b9c=a0_0x22ca5b;let _0x545e92=_0x2c0fca=>typeof _0x2c0fca=='string'&&_0x2c0fca['length']>0x0,_0x33a164=_0x3b2d78=>{let _0x2acf39=parseInt(_0x3b2d78,0xa);return!isNaN(_0x2acf39)&&_0x2acf39>0x0&&_0x2acf39<=0xffff;},_0x9f6e4f=_0x58522a=>typeof _0x58522a=='string'&&_0x58522a['length']>0x0;return _0xe72e65&&_0x545e92(_0xe72e65[_0x500b9c(0x60c)])&&_0x33a164(_0xe72e65[_0x500b9c(0x467)])&&(!_0xe72e65[_0x500b9c(0x400)]||_0x9f6e4f(_0xe72e65['username']))&&(!_0xe72e65[_0x500b9c(0x4b2)]||_0x9f6e4f(_0xe72e65[_0x500b9c(0x4b2)]))&&(_0xe72e65['protocol']==='http'||_0xe72e65[_0x500b9c(0x42d)]===_0x500b9c(0x1b3));}var Ms=require(a0_0x22ca5b(0x19f)),Er=a0_0x22ca5b(0x74e),vs,ie=null,mr=null,He=null,gi=0x3,mi=null;async function fi(){const _0x4898a5=a0_0x22ca5b;let _0x5c3606=await fe[_0x4898a5(0x3c6)]();ie=_0x5c3606?.[_0x4898a5(0x69c)]??null,mi=_0x5c3606?.[_0x4898a5(0x64b)]??null,Er=_0x5c3606?.[_0x4898a5(0x656)]??_0x4898a5(0x1ad),vs=_0x5c3606?.[_0x4898a5(0x69b)]??Ns??_0x4898a5(0x21f),console[_0x4898a5(0x256)](_0x4898a5(0x35e)),console[_0x4898a5(0x256)](_0x5c3606);}async function wi(){await fi();}wi();var fr={},we=class c{constructor(_0x295e3c,_0x5244ef,_0x502f7e){const _0x50c137=a0_0x22ca5b;this[_0x50c137(0x394)]=_0x295e3c,this[_0x50c137(0x69e)]=_0x5244ef,this[_0x50c137(0x3e6)]=_0x502f7e,this[_0x50c137(0x736)]=null,this[_0x50c137(0x31f)]=new v(c[_0x50c137(0x5cf)]),this['instance']={},this['localWebhook']={},this[_0x50c137(0x312)]={'state':'close'},this['storePath']=(0x0,j[_0x50c137(0x2fb)])(se,_0x50c137(0x6d0)),this[_0x50c137(0x294)]=new Cs[(_0x50c137(0x5a3))](),this['userDevicesCache']=new Cs[(_0x50c137(0x5a3))](),this[_0x50c137(0x6c7)]=!0x1,this[_0x50c137(0x2a4)]={'status.instance':'/wa-connection-update','qrcode.updated':_0x50c137(0x179),'messages.upsert':_0x50c137(0x2a7),'messages.update':_0x50c137(0x645),'send.message':'/wa-message','group.upsert':'/wa-groups','group.update':_0x50c137(0x37a),'group-participants.update':'/wa-groups','connection.update':_0x50c137(0x479),'messages.set':_0x50c137(0x2a7),'contacts.set':_0x50c137(0x738),'contacts.upsert':'/wa-contacts','contacts.update':'/wa-contacts','presence.update':_0x50c137(0x6a0),'chats.set':'/wa-chats','chats.update':_0x50c137(0x633),'chats.upsert':_0x50c137(0x633),'chats.delete':_0x50c137(0x633)},this[_0x50c137(0x6c3)]=0x0,this[_0x50c137(0x51d)]=[],this[_0x50c137(0x6c4)]=0xa,this[_0x50c137(0x33c)]=0xea60,this[_0x50c137(0x552)]=!0x1,this[_0x50c137(0x46b)]={'chats.upsert':async(_0x487558,_0x23f0b6)=>{const _0x562d99=_0x50c137;let _0x54b390=[];for await(let _0x242b23 of _0x487558)_0x54b390[_0x562d99(0x5a4)]({'_id':_0x242b23['id'],'owner':this[_0x562d99(0x647)][_0x562d99(0x445)],'group':_0x242b23['id'][_0x562d99(0x35d)]('@g.us'),'name':_0x242b23[_0x562d99(0x5cf)]||_0x242b23[_0x562d99(0x4d1)]||null,'contactname':null,'lastmsg':_0x242b23[_0x562d99(0x7e8)]&&_0x242b23[_0x562d99(0x7e8)][_0x562d99(0x4b6)]()[_0x562d99(0x3cc)]<0xd?_0x242b23[_0x562d99(0x7e8)]*0x3e8:_0x242b23[_0x562d99(0x7e8)]||null,'archived':_0x242b23['archived']||!0x1,'unreadcount':_0x242b23[_0x562d99(0x740)]||0x0});this[_0x562d99(0x16b)](_0x562d99(0x6e4),_0x54b390);},'chats.update':async(_0x5e2ee4,_0x5531f9)=>{const _0x421bb5=_0x50c137;for(let _0x1a1bf3 of _0x5e2ee4){let _0x32af1e={'_id':_0x1a1bf3['id'],'owner':this[_0x421bb5(0x647)][_0x421bb5(0x445)],'group':_0x1a1bf3['id'][_0x421bb5(0x35d)]('@g.us'),'name':_0x1a1bf3[_0x421bb5(0x5cf)]||_0x1a1bf3['displayName'],'archived':_0x1a1bf3[_0x421bb5(0x2d4)],'ephemeralExpiration':_0x1a1bf3[_0x421bb5(0x5ea)]},_0x577f95=!0x1,_0x23dda7={};_0x32af1e['archived']!=null&&(this['logger'][_0x421bb5(0x1c4)](this[_0x421bb5(0x60b)]+'\x20('+this[_0x421bb5(0x647)]['wuid']+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x1a1bf3[_0x421bb5(0x2d4)]),_0x577f95=!0x0,_0x23dda7[_0x421bb5(0x2d4)]=_0x1a1bf3['archived']),_0x1a1bf3[_0x421bb5(0x5cf)]!=null&&(this['logger'][_0x421bb5(0x1c4)](this[_0x421bb5(0x60b)]+'\x20('+this[_0x421bb5(0x647)][_0x421bb5(0x445)]+'):\x20teve\x20mudanças\x20chat.name:\x20'+_0x1a1bf3[_0x421bb5(0x5cf)]),_0x577f95=!0x0,_0x23dda7[_0x421bb5(0x5cf)]=_0x1a1bf3[_0x421bb5(0x5cf)]),_0x1a1bf3[_0x421bb5(0x4d1)]!=null&&(this['logger'][_0x421bb5(0x1c4)](this[_0x421bb5(0x60b)]+'\x20('+this[_0x421bb5(0x647)][_0x421bb5(0x445)]+_0x421bb5(0x646)+_0x1a1bf3[_0x421bb5(0x4d1)]),_0x577f95=!0x0,_0x23dda7[_0x421bb5(0x5cf)]=_0x1a1bf3[_0x421bb5(0x4d1)]);let _0xfd3172;_0x577f95&&(_0xfd3172=await this[_0x421bb5(0x3e6)][_0x421bb5(0x2d6)][_0x421bb5(0x6f3)]({'where':{'_id':_0x1a1bf3['id']}},_0x23dda7,this[_0x421bb5(0x647)]['wuid'])),_0xfd3172&&q(this[_0x421bb5(0x60b)],_0x421bb5(0x1f6),{'chat':_0xfd3172});}},'chats.delete':async _0x24ffcf=>{const _0x5957c0=_0x50c137;this[_0x5957c0(0x16b)](_0x5957c0(0x366),[..._0x24ffcf]);}},this['contactHandle']={'contacts.upsert':async(_0x4880c3,_0x3565a9)=>{const _0x1e294d=_0x50c137;let _0x46c7e9=await this[_0x1e294d(0x3e6)][_0x1e294d(0x33e)][_0x1e294d(0x75e)]({'where':{}},this['instance']['wuid']),_0x421f23=[];for await(let _0x132a80 of _0x4880c3)_0x46c7e9[_0x1e294d(0x75e)](_0x2586e5=>_0x2586e5[_0x1e294d(0x17f)]===_0x132a80['id'])||_0x421f23[_0x1e294d(0x5a4)]({'_id':_0x132a80['id'],'pushName':_0x132a80?.[_0x1e294d(0x5cf)]||_0x132a80?.['verifiedName'],'owner':this[_0x1e294d(0x647)][_0x1e294d(0x445)]});this[_0x1e294d(0x16b)](_0x1e294d(0x41f),_0x421f23),await this['repository'][_0x1e294d(0x33e)][_0x1e294d(0x559)](_0x421f23);},'contacts.update':async(_0x3c330d,_0x178421)=>{const _0x49813a=_0x50c137;let _0x4b9c8d=[];for await(let _0x5dcf80 of _0x3c330d)_0x4b9c8d[_0x49813a(0x5a4)]({'_id':_0x5dcf80['id'],'pushName':_0x5dcf80?.[_0x49813a(0x5cf)]??_0x5dcf80?.[_0x49813a(0x393)],'owner':this[_0x49813a(0x647)][_0x49813a(0x445)]});this[_0x49813a(0x16b)](_0x49813a(0x4ff),_0x4b9c8d);}},this[_0x50c137(0x1f3)]={'messaging-history.set':async({messages:_0x436d67,chats:_0x2033b9,isLatest:_0x52ca61},_0x2e61e5)=>{const _0x33b747=_0x50c137;if(_0x52ca61){let _0x555a6f=await Promise[_0x33b747(0x745)](_0x2033b9[_0x33b747(0x4fd)](async _0x56fd0a=>({'_id':_0x56fd0a['id'],'owner':this[_0x33b747(0x647)]['wuid'],'group':_0x56fd0a['id'][_0x33b747(0x35d)](_0x33b747(0x3f4)),'name':_0x56fd0a[_0x33b747(0x5cf)]||_0x56fd0a['displayName']||null,'contactname':null,'lastmsg':_0x56fd0a[_0x33b747(0x7e8)]&&_0x56fd0a['conversationTimestamp']['toString']()[_0x33b747(0x3cc)]<0xd?_0x56fd0a[_0x33b747(0x7e8)]*0x3e8:_0x56fd0a[_0x33b747(0x7e8)]||null,'archived':_0x56fd0a[_0x33b747(0x2d4)]||!0x1,'unreadcount':_0x56fd0a['unreadCount']||0x0})));this[_0x33b747(0x16b)](_0x33b747(0x288),_0x555a6f),await this[_0x33b747(0x6a6)](_0x555a6f,_0x2e61e5);}let _0x22a51c=[],_0xe0425c=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0xde79de]of Object[_0x33b747(0x4fe)](_0x436d67)){if(_0xde79de[_0x33b747(0x36b)]?.[_0x33b747(0x712)]||_0xde79de[_0x33b747(0x36b)]?.[_0x33b747(0x6b8)]||!_0xde79de[_0x33b747(0x36b)]||_0xde79de['key'][_0x33b747(0x3a4)]===_0x33b747(0x1a6)||(Es[_0x33b747(0x5a3)][_0x33b747(0x3e9)](_0xde79de?.[_0x33b747(0x321)])&&(_0xde79de[_0x33b747(0x321)]=_0xde79de[_0x33b747(0x321)]?.[_0x33b747(0x231)]()),_0xde79de['messageTimestamp']&&_0xde79de[_0x33b747(0x321)][_0x33b747(0x4b6)]()['length']<0xd&&(_0xde79de[_0x33b747(0x321)]=_0xde79de[_0x33b747(0x321)]*0x3e8),_0xde79de[_0x33b747(0x321)]<_0xe0425c))continue;let _0x1384c2=(0x0,m['normalizeMessageContent'])(_0xde79de[_0x33b747(0x36b)]),_0x7e0271=(0x0,m[_0x33b747(0x529)])(_0x1384c2),{message_normalized:_0x1dde48}=this[_0x33b747(0x1cd)](_0x1384c2,_0x7e0271,null);Object[_0x33b747(0x3ea)](_0x1dde48)[_0x33b747(0x3cc)]>0x0&&_0x22a51c[_0x33b747(0x5a4)]({'_id':_0xde79de[_0x33b747(0x3fc)]['id'],'key':_0xde79de[_0x33b747(0x3fc)],'pushName':_0xde79de['pushName'],'participant':_0xde79de[_0x33b747(0x7d3)],'message':_0x1384c2,'messageType':_0x7e0271,'message_normalized':{'key':_0xde79de[_0x33b747(0x3fc)],'pushName':_0xde79de[_0x33b747(0x454)],'messageTimestamp':_0xde79de[_0x33b747(0x321)],..._0x1dde48},'messageTimestamp':_0xde79de[_0x33b747(0x321)],'owner':this['instance'][_0x33b747(0x445)]});}_0x2e61e5[_0x33b747(0x729)]&&_0x22a51c[_0x33b747(0x3cc)]>0x0&&(this[_0x33b747(0x31f)]['verbose'](this[_0x33b747(0x60b)]+'\x20('+this[_0x33b747(0x647)]['wuid']+_0x33b747(0x424)+_0x22a51c[_0x33b747(0x3cc)]+'\x20mensagens\x20de\x20'+this[_0x33b747(0x647)][_0x33b747(0x445)]+_0x33b747(0x67d)),await this['repository'][_0x33b747(0x36b)][_0x33b747(0x559)]([..._0x22a51c],this[_0x33b747(0x647)][_0x33b747(0x445)])),this[_0x33b747(0x16b)](_0x33b747(0x40c),[..._0x22a51c]),_0x436d67=void 0x0;},'messages.upsert':async({messages:_0x2960ca,type:_0x47668c},_0x445c2e)=>{const _0x460e06=_0x50c137;let _0x48d4b7=_0x2960ca[0x0],_0x550827=_0x48d4b7[_0x460e06(0x3fc)]['id'];if(_0x48d4b7[_0x460e06(0x71b)]===0x2&&_0x48d4b7['messageStubParameters'][_0x460e06(0x567)](_0x460e06(0x63e))&&(this[_0x460e06(0x31f)]['error'](_0x460e06(0x781)+_0x550827),this[_0x460e06(0x31f)]['error'](_0x48d4b7)),_0x47668c!==_0x460e06(0x2fc)||!_0x48d4b7?.[_0x460e06(0x36b)]||_0x48d4b7[_0x460e06(0x36b)]?.[_0x460e06(0x712)]||_0x48d4b7[_0x460e06(0x36b)][_0x460e06(0x6b8)]||_0x48d4b7['key']['remoteJid']===_0x460e06(0x1a6))return;let _0x3b06c4=null,_0x299a8f=null;try{_0x3b06c4=await this['processPollUpdateMessage'](_0x48d4b7),_0x299a8f=_0x3b06c4?_0x3b06c4[_0x460e06(0x2fb)](','):null;}catch(_0x151e38){this[_0x460e06(0x31f)]['verbose'](this[_0x460e06(0x60b)]+'\x20('+this[_0x460e06(0x647)][_0x460e06(0x445)]+_0x460e06(0x424)+(_0x151e38 instanceof Error?_0x151e38[_0x460e06(0x36b)]:JSON[_0x460e06(0x3e3)](_0x151e38,null,0x2))),_0x299a8f=_0x460e06(0x703);}if(this['client'][_0x460e06(0x3ba)](_0x460e06(0x275)),Es[_0x460e06(0x5a3)][_0x460e06(0x3e9)](_0x48d4b7[_0x460e06(0x321)])&&(_0x48d4b7[_0x460e06(0x321)]=_0x48d4b7['messageTimestamp']?.[_0x460e06(0x231)]()),this[_0x460e06(0x67c)]?.['groups_ignore']&&_0x48d4b7['key']['remoteJid'][_0x460e06(0x567)](_0x460e06(0x3f4))){this[_0x460e06(0x31f)][_0x460e06(0x1c4)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x460e06(0x6ca));return;}_0x48d4b7[_0x460e06(0x321)]&&_0x48d4b7[_0x460e06(0x321)]['toString']()[_0x460e06(0x3cc)]<0xd&&(_0x48d4b7[_0x460e06(0x321)]=_0x48d4b7['messageTimestamp']*0x3e8);let _0x2d8c31=_0x48d4b7[_0x460e06(0x36b)],_0x13284a=(0x0,m[_0x460e06(0x6f9)])(_0x2d8c31),_0x4a4ae5=(0x0,m['getContentType'])(_0x13284a),{messageContent:_0x53d09a,message_normalized:_0x58cac0}=this[_0x460e06(0x1cd)](_0x13284a,_0x4a4ae5,_0x299a8f);_0x4a4ae5==='protocolMessage'&&_0x53d09a?.[_0x460e06(0x320)]&&(_0x4a4ae5=_0x460e06(0x320));let _0x1da57a={'_id':_0x48d4b7[_0x460e06(0x3fc)]['id'],'key':_0x48d4b7[_0x460e06(0x3fc)],'pushName':_0x48d4b7[_0x460e06(0x454)],'message':_0x13284a,'messageType':_0x4a4ae5,'message_normalized':{'key':_0x48d4b7['key'],'pushName':_0x48d4b7[_0x460e06(0x454)],'messageTimestamp':_0x48d4b7[_0x460e06(0x321)],'source':(0x0,m[_0x460e06(0x52a)])(_0x48d4b7[_0x460e06(0x3fc)]['id']),..._0x58cac0},'messageTimestamp':_0x48d4b7['messageTimestamp'],'owner':this[_0x460e06(0x647)]['wuid'],'source':(0x0,m['getDevice'])(_0x48d4b7[_0x460e06(0x3fc)]['id'])};_0x53d09a||(console[_0x460e06(0x30f)](_0x460e06(0x6ba)),this[_0x460e06(0x31f)]['log'](_0x1da57a)),this[_0x460e06(0x31f)][_0x460e06(0x256)](this[_0x460e06(0x60b)]+'\x20('+this[_0x460e06(0x647)][_0x460e06(0x445)]+_0x460e06(0x424)+(_0x1da57a[_0x460e06(0x3fc)]?.[_0x460e06(0x3b2)]?_0x460e06(0x1ec):'recebido\x20de')+'\x20['+_0x1da57a[_0x460e06(0x3fc)]?.[_0x460e06(0x3a4)][_0x460e06(0x748)](_0x460e06(0x7d7),'')+_0x460e06(0x70e)+_0x1da57a[_0x460e06(0x654)]+')'),_0x1da57a[_0x460e06(0x7ca)]?.[_0x460e06(0x571)]&&this[_0x460e06(0x31f)][_0x460e06(0x256)](_0x1da57a['message_normalized']?.[_0x460e06(0x571)]),await this[_0x460e06(0x3e6)][_0x460e06(0x36b)][_0x460e06(0x559)]([_0x1da57a],this['instance']['wuid']),this[_0x460e06(0x16b)]('messages.upsert',_0x1da57a),q(this[_0x460e06(0x60b)],_0x460e06(0x203),{'message':_0x1da57a}),_0x48d4b7[_0x460e06(0x3fc)]['remoteJid']!==_0x460e06(0x1a6)&&await this[_0x460e06(0x432)](_0x445c2e,_0x1da57a,'MESSAGES_UPSERT');},'messages.update':async(_0x75fdfd,_0x224544)=>{const _0x115695=_0x50c137;let _0x2700e0={0x0:'ERROR',0x1:_0x115695(0x5f6),0x2:_0x115695(0x7c0),0x3:_0x115695(0x4c9),0x4:_0x115695(0x2a8),0x5:_0x115695(0x1d9)};for await(let {key:_0x542c52,update:_0xd11af3}of _0x75fdfd){if(this['localWebhook']?.['groups_ignore']&&_0x542c52[_0x115695(0x3a4)][_0x115695(0x567)](_0x115695(0x3f4))){this['logger'][_0x115695(0x1c4)](_0x115695(0x443));return;}if(_0x542c52['remoteJid']!=='status@broadcast'){let _0x2c57e9=Date[_0x115695(0x37f)](),_0x4fbeea;_0xd11af3[_0x115695(0x36b)]===null&&_0xd11af3[_0x115695(0x167)]===void 0x0?_0x4fbeea=_0x115695(0x51c):_0x4fbeea=_0x2700e0[_0xd11af3[_0x115695(0x167)]];let _0x84fef8=_0x542c52[_0x115695(0x3a4)]['replace'](/:\d{1,2}@/g,'@'),_0x3431a7={..._0x542c52,'remoteJid':_0x84fef8,'status':_0x4fbeea,'datetime':_0x2c57e9,'owner':this[_0x115695(0x647)]['wuid']};this[_0x115695(0x16b)](_0x115695(0x4a7),_0x3431a7),await this[_0x115695(0x7b5)](_0x542c52,_0x3431a7);}}},'labels.association':async({type:_0x56be30,association:_0x10085e})=>{const _0x325c1c=_0x50c137;if(_0x10085e[_0x325c1c(0x56b)]===_0x325c1c(0x18b)){let _0x5b96b9,_0x4014d1=0x0;for(;!_0x5b96b9&&_0x4014d1<this[_0x325c1c(0x281)];)_0x5b96b9=await this['repository']['chat'][_0x325c1c(0x3c6)]({'where':{'_id':_0x10085e[_0x325c1c(0x6d8)]}},this[_0x325c1c(0x647)]['wuid']),_0x5b96b9||(_0x4014d1++,console['log'](_0x325c1c(0x684)+_0x10085e['chatId']+'\x20not\x20found,\x20retrying\x20in\x20'+this['delayChatLabel_RETRY_DELAY_MS']+_0x325c1c(0x59d)+_0x4014d1+'/'+this[_0x325c1c(0x281)]+')'),await this[_0x325c1c(0x548)](this[_0x325c1c(0x246)]));if(!_0x5b96b9){console[_0x325c1c(0x30f)](_0x325c1c(0x6c8)+_0x10085e['chatId']+'\x20after\x20'+this[_0x325c1c(0x281)]+'\x20attempts.');return;}switch(_0x56be30){case _0x325c1c(0x4bf):console['log'](_0x10085e),await this[_0x325c1c(0x3e6)][_0x325c1c(0x2d6)][_0x325c1c(0x6f3)]({'where':{'_id':_0x10085e[_0x325c1c(0x6d8)]}},{'leadInfo.etiquetas':_0x10085e[_0x325c1c(0x193)]},this['instance'][_0x325c1c(0x445)],void 0x0,'$addToSet');break;case'remove':console['log'](_0x10085e),await this['repository'][_0x325c1c(0x2d6)][_0x325c1c(0x6f3)]({'where':{'_id':_0x10085e['chatId']}},{'leadInfo.etiquetas':_0x10085e[_0x325c1c(0x193)]},this[_0x325c1c(0x647)][_0x325c1c(0x445)],void 0x0,_0x325c1c(0x2fd));break;default:console[_0x325c1c(0x30f)](_0x325c1c(0x79f)+_0x56be30+']');}}},'labels.edit':async _0x18dcae=>{const _0x2a9de4=_0x50c137;if(!_0x18dcae||!_0x18dcae['id']){console[_0x2a9de4(0x30f)](_0x2a9de4(0x351));return;}if(!_0x18dcae[_0x2a9de4(0x4c4)]){let _0x424cb7=[_0x2a9de4(0x758),'#64c4ff',_0x2a9de4(0x2df),_0x2a9de4(0x2f2),'#9ab6c1','#56ccb4',_0x2a9de4(0x4cf),_0x2a9de4(0x3ff),_0x2a9de4(0x6a7),_0x2a9de4(0x77a),_0x2a9de4(0x767),_0x2a9de4(0x1fa),'#92ceac',_0x2a9de4(0x4d9),'#00a1f2',_0x2a9de4(0x6bc),_0x2a9de4(0x2ec),_0x2a9de4(0x523),_0x2a9de4(0x45c),_0x2a9de4(0x58a)],_0x1532cf;typeof _0x18dcae[_0x2a9de4(0x708)]==_0x2a9de4(0x6d6)&&_0x18dcae[_0x2a9de4(0x708)]>=0x0&&_0x18dcae[_0x2a9de4(0x708)]<_0x424cb7['length']?_0x1532cf=_0x424cb7[_0x18dcae[_0x2a9de4(0x708)]]:(console[_0x2a9de4(0x30f)](_0x2a9de4(0x57d),_0x18dcae[_0x2a9de4(0x708)]),_0x1532cf=_0x2a9de4(0x455));let _0x22470b={'_id':_0x18dcae['id'],'colorHex':_0x1532cf,'color':_0x18dcae?.[_0x2a9de4(0x708)],'name':_0x18dcae?.[_0x2a9de4(0x5cf)],'owner':this['instance']['wuid']};await this[_0x2a9de4(0x3e6)][_0x2a9de4(0x72f)][_0x2a9de4(0x6f3)]({'where':{'_id':_0x18dcae['id']}},_0x22470b,this[_0x2a9de4(0x647)][_0x2a9de4(0x445)]),console[_0x2a9de4(0x256)](_0x2a9de4(0x496),_0x18dcae);}_0x18dcae[_0x2a9de4(0x4c4)]&&(await this[_0x2a9de4(0x3e6)][_0x2a9de4(0x72f)][_0x2a9de4(0x4c6)]({'where':{'_id':_0x18dcae['id']}},this['instance'][_0x2a9de4(0x445)]),console['log']('Rótulo\x20deletado:',_0x18dcae['id']));}},this['groupHandler']={'groups.upsert':_0x10150f=>{const _0x397015=_0x50c137;this[_0x397015(0x16b)](_0x397015(0x1e8),_0x10150f);},'groups.update':_0x3695af=>{const _0xd6b26c=_0x50c137;this['sendDataWebhook'](_0xd6b26c(0x518),_0x3695af);},'group-participants.update':_0x515e6b=>{const _0x2dabb2=_0x50c137;this[_0x2dabb2(0x16b)](_0x2dabb2(0x46e),_0x515e6b);}},this[_0x50c137(0x281)]=0x5,this[_0x50c137(0x246)]=0x1388,this['processPollUpdateMessage']=async _0x33c4b7=>{const _0x5573e4=_0x50c137;if(_0x33c4b7[_0x5573e4(0x36b)]?.['pollUpdateMessage']){let _0x3451e2=await this[_0x5573e4(0x1b6)](_0x33c4b7[_0x5573e4(0x36b)][_0x5573e4(0x7eb)]['pollCreationMessageKey'],!0x0);if(_0x3451e2){let _0x1c23ca=_0x3451e2['key']['fromMe']?this[_0x5573e4(0x647)][_0x5573e4(0x445)]+_0x5573e4(0x7d7):_0x3451e2[_0x5573e4(0x3fc)]['participant']||_0x3451e2[_0x5573e4(0x3fc)][_0x5573e4(0x3a4)],_0x5d6fee=_0x3451e2[_0x5573e4(0x3fc)]['id'],_0x22e392=_0x3451e2['message'],_0x53a227=Buffer[_0x5573e4(0x610)](_0x22e392[_0x5573e4(0x5cc)][_0x5573e4(0x7b6)][_0x5573e4(0x4b6)]('hex'),_0x5573e4(0x61e)),_0x8c62f7=(0x0,m[_0x5573e4(0x232)])(_0x33c4b7[_0x5573e4(0x36b)][_0x5573e4(0x7eb)]['vote'],{'pollCreatorJid':_0x1c23ca,'pollMsgId':_0x5d6fee,'pollEncKey':_0x53a227,'voterJid':_0x33c4b7[_0x5573e4(0x3fc)]['fromMe']?this[_0x5573e4(0x647)][_0x5573e4(0x445)]+_0x5573e4(0x7d7):_0x33c4b7['key'][_0x5573e4(0x3a4)][_0x5573e4(0x35d)](_0x5573e4(0x5b5))?_0x33c4b7[_0x5573e4(0x3fc)][_0x5573e4(0x7d3)]:_0x33c4b7[_0x5573e4(0x3fc)][_0x5573e4(0x3a4)]}),_0x2523af=[],_0x37a2d8=_0x8c62f7[_0x5573e4(0x168)]['map'](_0x3648d6=>Buffer[_0x5573e4(0x610)](_0x3648d6)[_0x5573e4(0x4b6)](_0x5573e4(0x61e)));for(let {optionName:_0x61d2b}of _0x22e392[_0x5573e4(0x189)]?.[_0x5573e4(0x2b9)]||_0x22e392['pollCreationMessageV3']?.['options']||_0x22e392['pollCreationMessageV2']?.[_0x5573e4(0x2b9)])_0x37a2d8[_0x5573e4(0x4b4)]((0x0,m[_0x5573e4(0x7b0)])(Buffer['from'](_0x61d2b))['toString'](_0x5573e4(0x61e)))>-0x1&&_0x2523af[_0x5573e4(0x5a4)](_0x61d2b);return _0x2523af;}}return null;},this[_0x50c137(0x1cd)]=(_0x7fdf0a,_0x1b8422,_0x374fb0)=>{const _0x455388=_0x50c137;try{let _0x5a0e61=_0x7fdf0a?(0x0,m[_0x455388(0x3bb)])(_0x7fdf0a)[_0x1b8422]:void 0x0,_0x2b7763={},_0x3c7f9c=null,_0x3f66c8=null,_0x596f96=null;_0x1b8422==='protocolMessage'&&_0x5a0e61?.[_0x455388(0x320)]&&(_0x1b8422=(0x0,m[_0x455388(0x529)])(_0x5a0e61[_0x455388(0x320)]),_0x3c7f9c=_0x7fdf0a[_0x455388(0x712)][_0x455388(0x3fc)]['id'],_0x5a0e61=_0x7fdf0a[_0x455388(0x712)]['editedMessage'][_0x1b8422]),_0x7fdf0a[_0x1b8422]?.[_0x455388(0x563)]?.[_0x455388(0x1e6)]&&_0x7fdf0a[_0x1b8422]?.['contextInfo']?.['quotedMessage']&&(_0x3f66c8=_0x7fdf0a[_0x1b8422][_0x455388(0x563)][_0x455388(0x1e6)]),_0x7fdf0a[_0x455388(0x4d2)]&&(_0x596f96=_0x7fdf0a['reactionMessage'][_0x455388(0x3fc)]['id']);let _0x5a9d15;if(_0x5a0e61&&typeof _0x5a0e61==_0x455388(0x34a)&&'pollCreationMessageKey'in _0x5a0e61&&({pollCreationMessageKey:_0x5a9d15}=_0x5a0e61),_0x1b8422===_0x455388(0x189)||_0x1b8422===_0x455388(0x63d)||_0x1b8422==='pollCreationMessageV3'){let _0x51b10d=_0x5a0e61[_0x455388(0x2b9)][_0x455388(0x4fd)](_0xb1c73d=>_0xb1c73d[_0x455388(0x488)])['join']('|');_0x2b7763['convertedOptions']=_0x51b10d;}let _0x5b7733='';if(_0x5a0e61&&(_0x5b7733+=_0x5a0e61['name']?_0x5a0e61[_0x455388(0x5cf)]:'',_0x5b7733+=_0x5a0e61['caption']?'\x20'+_0x5a0e61[_0x455388(0x3a3)]:'',_0x5b7733+=_0x5a0e61[_0x455388(0x48f)]?'\x20'+_0x5a0e61[_0x455388(0x48f)]:'',_0x5b7733+=_0x5a0e61[_0x455388(0x4d1)]?'\x20'+_0x5a0e61[_0x455388(0x4d1)]:''),_0x1b8422===_0x455388(0x4e6)){_0x5b7733=(_0x5a0e61[_0x455388(0x33f)]||'')+'\x0a'+(_0x5a0e61['description']||'')+'\x0a'+(_0x5a0e61['footerText']||'');let _0xb47c84=this[_0x455388(0x34d)](_0x5a0e61[_0x455388(0x4b1)]);_0x2b7763[_0x455388(0x52c)]=_0xb47c84;}if(_0x1b8422===_0x455388(0x7a1)&&(_0x374fb0=_0x5a0e61['title']),_0x5a0e61&&_0x5a0e61[_0x455388(0x418)]){let _0x4be5b2=this[_0x455388(0x6d1)](JSON[_0x455388(0x3e3)](_0x5a0e61[_0x455388(0x418)],null,0x2));_0x5b7733=_0x5b7733+'\x0a'+_0x4be5b2;}if(_0x5a0e61){let {sections:_0x4932af,listType:_0x110940,displayName:_0x18d6fe,vcard:_0x580648,contactVcard:_0x36a5f4,name:_0x5a818e,caption:_0x4f2369,conversation:_0x8d90f5,pollCreationMessageKey:_0x35dde1,footerText:_0x3e46cd,contentText:_0x376d57,pageCount:_0x3b9e56,headerType:_0x4b1079,isAvatar:_0x55b03e,isAnimated:_0x18dffb,fallbackLc:_0x5bba49,fallbackLg:_0x3f2b9f,namespace:_0x46886c,elementName:_0x41cb32,localizableParams:_0x178c93,viewOnce:_0x5c4a8f,height:_0x390a0d,width:_0x4db4bc,key:_0x5c2972,firstScanLength:_0xdd245a,firstScanSidecar:_0x544be4,gifPlayback:_0xe8397a,gifAttribution:_0x28e2a2,midQualityFileSha256:_0x3dfb81,scansSidecar:_0x454f10,streamingSidecar:_0x12ebc0,thumbnailHeight:_0x3ad4d7,thumbnailWidth:_0x25f63e,thumbnailEncSha256:_0x1bd5b8,thumbnailDirectPath:_0xf59a76,canonicalUrl:_0x11813c,matchedText:_0x24420c,previewType:_0x16929f,thumbnailSha256:_0x53f44b,deviceListMetadataVersion:_0x4e6d10,inviteLinkGroupTypeV2:_0x55fbdc,interactiveAnnotations:_0x31e915,scanLengths:_0x5819df,jpegThumbnail:_0x22a78c,url:_0x261d2c,mediaKeyTimestamp:_0xaf4ac3,waveform:_0x4cfad8,stickerSentTs:_0x56cadf,firstFrameLength:_0x29026a,fileEncSha256:_0x5e68c5,contextInfo:_0x9706c4,firstFrameSidecar:_0x5c4dd1,directPath:_0x170d8b,fileSha256:_0x4171c8,mediaKey:_0x44d385,senderTimestampMs:_0x4c4887,..._0x6f1582}=_0x5a0e61;(_0x1b8422===_0x455388(0x4e6)||_0x1b8422===_0x455388(0x7a1))&&(delete _0x6f1582[_0x455388(0x33f)],delete _0x6f1582['description']),typeof _0x5a0e61==_0x455388(0x54d)?_0x2b7763={'text':_0x5a0e61,'type':_0x1b8422||_0x455388(0x48f),..._0x3c7f9c&&{'edited':_0x3c7f9c},..._0x3f66c8&&{'quoted':_0x3f66c8},..._0x596f96&&{'reaction':_0x596f96}}:_0x2b7763={'text':_0x5b7733,..._0x6f1582,..._0x1b8422==='pollUpdateMessage'?{'poll_id':_0x5a0e61[_0x455388(0x332)]['id'],'quoted':_0x5a0e61[_0x455388(0x332)]['id'],'vote':_0x374fb0}:{},..._0x1b8422===_0x455388(0x7a1)?{'vote':_0x374fb0}:{},'type':_0x1b8422,..._0x3c7f9c&&{'edited':_0x3c7f9c},..._0x3f66c8&&{'quoted':_0x3f66c8},..._0x596f96&&{'reaction':_0x596f96},...(_0x1b8422===_0x455388(0x189)||_0x1b8422===_0x455388(0x63d)||_0x1b8422===_0x455388(0x205)||_0x1b8422===_0x455388(0x4e6))&&{'convertedOptions':_0x2b7763[_0x455388(0x52c)]}};}return{'messageType':_0x1b8422,'messageContent':_0x5a0e61,'message_normalized':_0x2b7763};}catch(_0x321f5d){return console['error'](_0x455388(0x22a),_0x321f5d),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this['processingScheduleMessageId']=null,this[_0x50c137(0x582)]=0x0,this[_0x50c137(0x6bd)]=null,(this['cleanStore'](),this['instance'][_0x50c137(0x23c)]={'count':0x0});}set[a0_0x22ca5b(0x60b)](_0x1bb9e4){const _0x408410=a0_0x22ca5b;if(!_0x1bb9e4){this['instance'][_0x408410(0x5cf)]=(0x0,yr['v4'])();return;}this[_0x408410(0x647)][_0x408410(0x5cf)]=_0x1bb9e4,this[_0x408410(0x16b)](_0x408410(0x489),{'instance':this[_0x408410(0x647)]['name'],'status':'created'});}get[a0_0x22ca5b(0x60b)](){const _0x4db3aa=a0_0x22ca5b;return this['instance'][_0x4db3aa(0x5cf)];}get[a0_0x22ca5b(0x445)](){const _0x2334fb=a0_0x22ca5b;return this[_0x2334fb(0x647)][_0x2334fb(0x445)];}async[a0_0x22ca5b(0x207)](){const _0x3a2694=a0_0x22ca5b;let _0x5e80f1=this[_0x3a2694(0x42e)]['user']?.[_0x3a2694(0x5cf)]??this[_0x3a2694(0x42e)][_0x3a2694(0x6fd)]?.[_0x3a2694(0x393)];if(!_0x5e80f1){if(this[_0x3a2694(0x394)][_0x3a2694(0x16d)](_0x3a2694(0x59c))[_0x3a2694(0x729)]){let _0x17f4a0=await R[_0x3a2694(0x6ee)]()['db'](this[_0x3a2694(0x394)][_0x3a2694(0x16d)](_0x3a2694(0x59c))[_0x3a2694(0x38d)][_0x3a2694(0x47b)]+'-instances')[_0x3a2694(0x5d0)](this[_0x3a2694(0x60b)])[_0x3a2694(0x3c6)]({'_id':_0x3a2694(0x428)});if(_0x17f4a0){let _0x19bd76=JSON[_0x3a2694(0x3db)](JSON[_0x3a2694(0x3e3)](_0x17f4a0),m['BufferJSON'][_0x3a2694(0x5d5)]);_0x5e80f1=_0x19bd76['me']?.[_0x3a2694(0x5cf)]||_0x19bd76['me']?.[_0x3a2694(0x393)];}}else{if((0x0,Me['existsSync'])((0x0,j[_0x3a2694(0x2fb)])(he,this['instanceName'],_0x3a2694(0x247)))){let _0xf20276=JSON[_0x3a2694(0x3db)]((0x0,Me['readFileSync'])((0x0,j[_0x3a2694(0x2fb)])(he,this[_0x3a2694(0x60b)],_0x3a2694(0x247)),{'encoding':_0x3a2694(0x58d)}));_0x5e80f1=_0xf20276['me']?.[_0x3a2694(0x5cf)]||_0xf20276['me']?.[_0x3a2694(0x393)];}}}return _0x5e80f1;}get[a0_0x22ca5b(0x5ec)](){const _0x5d1d75=a0_0x22ca5b;return this[_0x5d1d75(0x647)][_0x5d1d75(0x5ec)];}get[a0_0x22ca5b(0x200)](){const _0x54b82a=a0_0x22ca5b;return{'pairingCode':this[_0x54b82a(0x647)][_0x54b82a(0x23c)]?.[_0x54b82a(0x7be)],'code':this[_0x54b82a(0x647)][_0x54b82a(0x23c)]?.['code'],'base64':this[_0x54b82a(0x647)][_0x54b82a(0x23c)]?.['base64']};}async[a0_0x22ca5b(0x7c3)](){const _0x5f43f3=a0_0x22ca5b;let _0xa2c63c=await this[_0x5f43f3(0x3e6)][_0x5f43f3(0x511)][_0x5f43f3(0x75e)](this['instanceName']);this[_0x5f43f3(0x67c)][_0x5f43f3(0x7f3)]=_0xa2c63c?.[_0x5f43f3(0x7f3)],this[_0x5f43f3(0x67c)][_0x5f43f3(0x68d)]=_0xa2c63c?.[_0x5f43f3(0x68d)],this[_0x5f43f3(0x67c)][_0x5f43f3(0x431)]=_0xa2c63c?.[_0x5f43f3(0x431)],this['localWebhook']['STATUS_INSTANCE']=_0xa2c63c?.[_0x5f43f3(0x5f9)],this[_0x5f43f3(0x67c)]['QRCODE_UPDATED']=_0xa2c63c?.[_0x5f43f3(0x7b1)],this[_0x5f43f3(0x67c)][_0x5f43f3(0x287)]=_0xa2c63c?.['SEND_MESSAGE'],this[_0x5f43f3(0x67c)]['MESSAGES_UPSERT']=_0xa2c63c?.[_0x5f43f3(0x2b2)],this[_0x5f43f3(0x67c)][_0x5f43f3(0x28e)]=_0xa2c63c?.[_0x5f43f3(0x28e)],this['localWebhook'][_0x5f43f3(0x590)]=_0xa2c63c?.[_0x5f43f3(0x590)],this['localWebhook'][_0x5f43f3(0x7cc)]=_0xa2c63c?.[_0x5f43f3(0x7cc)],this[_0x5f43f3(0x67c)][_0x5f43f3(0x6f2)]=_0xa2c63c?.[_0x5f43f3(0x6f2)],this[_0x5f43f3(0x67c)][_0x5f43f3(0x5ba)]=_0xa2c63c?.[_0x5f43f3(0x5ba)],this[_0x5f43f3(0x67c)]['CHATS_UPSERT']=_0xa2c63c?.[_0x5f43f3(0x426)],this[_0x5f43f3(0x67c)][_0x5f43f3(0x472)]=_0xa2c63c?.[_0x5f43f3(0x472)],this[_0x5f43f3(0x67c)][_0x5f43f3(0x1e1)]=_0xa2c63c?.[_0x5f43f3(0x1e1)],this[_0x5f43f3(0x67c)][_0x5f43f3(0x573)]=_0xa2c63c?.[_0x5f43f3(0x573)],this[_0x5f43f3(0x67c)]['CONTACTS_UPSERT']=_0xa2c63c?.[_0x5f43f3(0x44c)],this['localWebhook'][_0x5f43f3(0x7f2)]=_0xa2c63c?.['CONTACTS_UPDATE'],this[_0x5f43f3(0x67c)][_0x5f43f3(0x4ba)]=_0xa2c63c?.[_0x5f43f3(0x4ba)],this[_0x5f43f3(0x67c)][_0x5f43f3(0x242)]=_0xa2c63c?.[_0x5f43f3(0x242)],this[_0x5f43f3(0x67c)][_0x5f43f3(0x245)]=_0xa2c63c?.[_0x5f43f3(0x245)],this[_0x5f43f3(0x67c)][_0x5f43f3(0x3c9)]=_0xa2c63c?.[_0x5f43f3(0x3c9)];}async[a0_0x22ca5b(0x696)](_0x1f3d89){const _0x35bbef=a0_0x22ca5b;let _0x3b91ce=['_id',_0x35bbef(0x7f3),_0x35bbef(0x68d),'local_map','STATUS_INSTANCE',_0x35bbef(0x7b1),_0x35bbef(0x28e),_0x35bbef(0x2b2),'SEND_MESSAGE',_0x35bbef(0x590),_0x35bbef(0x7cc),_0x35bbef(0x6f2),_0x35bbef(0x5ba),_0x35bbef(0x426),_0x35bbef(0x472),_0x35bbef(0x1e1),_0x35bbef(0x573),_0x35bbef(0x44c),_0x35bbef(0x7f2),'PRESENCE_UPDATE',_0x35bbef(0x242),'CONNECTION_UPDATE','groups_ignore'],_0x57fbc1={};return _0x3b91ce['forEach'](_0x5e6594=>{_0x1f3d89[_0x5e6594]!==void 0x0&&(_0x57fbc1[_0x5e6594]=_0x1f3d89[_0x5e6594]);}),await this[_0x35bbef(0x3e6)][_0x35bbef(0x511)][_0x35bbef(0x336)](_0x57fbc1,this[_0x35bbef(0x60b)]),Object['assign'](this[_0x35bbef(0x67c)],_0x57fbc1),await this['repository'][_0x35bbef(0x511)]['find'](this[_0x35bbef(0x60b)]);}async[a0_0x22ca5b(0x4bc)](){const _0x4c3346=a0_0x22ca5b;return await this[_0x4c3346(0x3e6)][_0x4c3346(0x511)][_0x4c3346(0x75e)](this[_0x4c3346(0x60b)]);}async[a0_0x22ca5b(0x16b)](_0xaeaabe,_0x3329e8){const _0x58c03c=a0_0x22ca5b;let _0x2a2920=_0xaeaabe['replace'](/[\.-]/gm,'_')[_0x58c03c(0x70b)](),_0x5d24ea=this[_0x58c03c(0x67c)][_0x58c03c(0x68d)]&&(0x0,$['isURL'])(this[_0x58c03c(0x67c)][_0x58c03c(0x7f3)])?this['localWebhook'][_0x58c03c(0x7f3)]+(this[_0x58c03c(0x67c)]['local_map']?this[_0x58c03c(0x2a4)][_0xaeaabe]:''):null,_0x1675e5=this[_0x58c03c(0x67c)][_0x2a2920],_0x5ea6d3=ie&&ie[_0x58c03c(0x68d)]&&(0x0,$['isURL'])(ie[_0x58c03c(0x7f3)])?ie['url']+(ie[_0x58c03c(0x431)]?this[_0x58c03c(0x2a4)][_0xaeaabe]:''):null,_0x404aba=ie?ie[_0x2a2920]:null;if(_0x1675e5&&_0x5d24ea)try{await te['default'][_0x58c03c(0x336)]({'baseURL':_0x5d24ea})[_0x58c03c(0x588)]('',{'event':_0xaeaabe,'instance':this[_0x58c03c(0x647)][_0x58c03c(0x5cf)],'apikey':this[_0x58c03c(0x647)][_0x58c03c(0x43e)],'data':_0x3329e8}),this[_0x58c03c(0x31f)]['log'](this[_0x58c03c(0x60b)]+'\x20('+this[_0x58c03c(0x647)][_0x58c03c(0x445)]+'):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0xaeaabe+':\x20'+_0x5d24ea);}catch{this[_0x58c03c(0x31f)][_0x58c03c(0x30f)](this[_0x58c03c(0x60b)]+'\x20('+this[_0x58c03c(0x647)][_0x58c03c(0x445)]+_0x58c03c(0x545)+_0xaeaabe+':\x20'+_0x5d24ea);}if(_0x404aba&&_0x5ea6d3)try{await te[_0x58c03c(0x5a3)][_0x58c03c(0x336)]({'baseURL':_0x5ea6d3})[_0x58c03c(0x588)]('',{'event':_0xaeaabe,'instance':this[_0x58c03c(0x647)][_0x58c03c(0x5cf)],'apikey':this[_0x58c03c(0x647)][_0x58c03c(0x43e)],'data':_0x3329e8}),this['logger'][_0x58c03c(0x256)](this[_0x58c03c(0x60b)]+'\x20('+this[_0x58c03c(0x647)]['wuid']+_0x58c03c(0x185)+_0xaeaabe+':\x20'+_0x5ea6d3);}catch{this['logger'][_0x58c03c(0x30f)](this[_0x58c03c(0x60b)]+'\x20('+this[_0x58c03c(0x647)][_0x58c03c(0x445)]+_0x58c03c(0x2f4)+_0xaeaabe+':\x20'+_0x5ea6d3);}}async['connectionUpdate']({qr:_0x10fbce,connection:_0xdb7056,lastDisconnect:_0x4d9335}){const _0x337958=a0_0x22ca5b;if(_0x10fbce){if(this[_0x337958(0x647)]['qrcode'][_0x337958(0x525)]===gi)return this[_0x337958(0x16b)](_0x337958(0x26f),{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':m[_0x337958(0x352)][_0x337958(0x79e)]}),this['stateConnection']={'state':_0x337958(0x25a),'statusReason':m['DisconnectReason']['connectionClosed']},this[_0x337958(0x16b)]('connection.update',{'instance':this[_0x337958(0x647)][_0x337958(0x5cf)],...this[_0x337958(0x312)]}),this['sendDataWebhook']('status.instance',{'instance':this[_0x337958(0x647)][_0x337958(0x5cf)],'status':_0x337958(0x5a7)}),this[_0x337958(0x3e6)][_0x337958(0x28d)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0x337958(0x37f)]()},this[_0x337958(0x647)][_0x337958(0x5cf)]),this['endSession']=!0x0,this['eventEmitter'][_0x337958(0x21d)](_0x337958(0x73c),this['instance'][_0x337958(0x5cf)]);this[_0x337958(0x647)][_0x337958(0x23c)][_0x337958(0x525)]++;let _0x4262a0={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x337958(0x3f9),'dark':_0x337958(0x455)}};br[_0x337958(0x5a3)][_0x337958(0x317)](_0x10fbce,_0x4262a0,(_0x38ddfa,_0x53556f)=>{const _0x291784=_0x337958;if(_0x38ddfa){this[_0x291784(0x31f)][_0x291784(0x30f)](this[_0x291784(0x60b)]+'\x20('+this[_0x291784(0x647)][_0x291784(0x445)]+_0x291784(0x65e)+(_0x38ddfa instanceof Error?_0x38ddfa['message']:JSON[_0x291784(0x3e3)](_0x38ddfa,null,0x2)));return;}this[_0x291784(0x647)][_0x291784(0x23c)][_0x291784(0x28a)]=_0x53556f,this[_0x291784(0x647)]['qrcode'][_0x291784(0x1d7)]=_0x10fbce,this[_0x291784(0x16b)](_0x291784(0x26f),{'qrcode':{'instance':this[_0x291784(0x647)]['name'],'pairingCode':this[_0x291784(0x647)][_0x291784(0x23c)][_0x291784(0x7be)],'code':_0x10fbce,'base64':_0x53556f}});}),this[_0x337958(0x2f6)]?(await(0x0,m[_0x337958(0x56f)])(0x7d0),this[_0x337958(0x647)][_0x337958(0x23c)][_0x337958(0x7be)]=await this[_0x337958(0x42e)][_0x337958(0x3e8)](this[_0x337958(0x2f6)])):this[_0x337958(0x647)][_0x337958(0x23c)]['pairingCode']=null,Sr[_0x337958(0x5a3)][_0x337958(0x326)](_0x10fbce,{'small':!0x0},_0x342c80=>this[_0x337958(0x31f)]['log'](_0x337958(0x4b0)+this[_0x337958(0x647)][_0x337958(0x5cf)]+_0x337958(0x3d8)+this['instance']['qrcode'][_0x337958(0x525)]+_0x337958(0x209)+this[_0x337958(0x647)][_0x337958(0x23c)][_0x337958(0x7be)]+_0x337958(0x7b4)+_0x342c80));}if(_0xdb7056&&(this[_0x337958(0x312)]={'state':_0xdb7056,'statusReason':_0x4d9335?.[_0x337958(0x30f)]?.[_0x337958(0x63c)]?.[_0x337958(0x577)]??0xc8},this[_0x337958(0x16b)](_0x337958(0x709),{'instance':this[_0x337958(0x647)]['name'],...this[_0x337958(0x312)]})),_0xdb7056===_0x337958(0x382)){if(this[_0x337958(0x6c3)]++,this[_0x337958(0x51d)][_0x337958(0x5a4)](Date['now']()),this[_0x337958(0x51d)]=this[_0x337958(0x51d)][_0x337958(0x771)](_0x1e2a8e=>Date[_0x337958(0x37f)]()-_0x1e2a8e<this['RECONNECT_TIME_FRAME']),_0x4d9335['error']?.[_0x337958(0x63c)]?.['statusCode']!==m[_0x337958(0x352)][_0x337958(0x32a)]&&this[_0x337958(0x51d)][_0x337958(0x3cc)]<=this[_0x337958(0x6c4)])console[_0x337958(0x256)](this['instanceName']+'\x20Tentativa\x20de\x20reconexão\x20'+this[_0x337958(0x6c3)]+'/'+this[_0x337958(0x6c4)]+'.\x20Aguardando\x20antes\x20de\x20reconectar...'),console['log'](_0x337958(0x713)),await this['connectToWhatsapp']();else{this[_0x337958(0x16b)](_0x337958(0x489),{'instance':this[_0x337958(0x647)][_0x337958(0x5cf)],'status':'removed'}),this['isConnected']=!0x1,this[_0x337958(0x3e6)]['webhook'][_0x337958(0x4c6)](this[_0x337958(0x60b)]),this['repository'][_0x337958(0x28d)][_0x337958(0x336)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x337958(0x37f)]()},this[_0x337958(0x647)][_0x337958(0x5cf)]);try{this[_0x337958(0x31f)][_0x337958(0x1c4)](this[_0x337958(0x60b)]+'\x20('+this[_0x337958(0x647)][_0x337958(0x445)]+_0x337958(0x2f5));let _0x60e31c=await this[_0x337958(0x3e6)][_0x337958(0x36b)][_0x337958(0x6b2)](this['instance'][_0x337958(0x445)]);_0x60e31c[_0x337958(0x377)]?this['logger'][_0x337958(0x1c4)](this['instanceName']+'\x20('+this[_0x337958(0x647)][_0x337958(0x445)]+'):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.'):console[_0x337958(0x30f)](_0x337958(0x7d1),_0x60e31c[_0x337958(0x30f)]);}catch(_0x19fd12){console['error']('Falha\x20ao\x20deletar\x20mensagens\x20antigas:',_0x19fd12);}this['delayMessage']!==null&&(this['logger'][_0x337958(0x1c4)](this[_0x337958(0x60b)]+'\x20('+this['instance'][_0x337958(0x445)]+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x337958(0x30d)]),this[_0x337958(0x30d)]=null),this[_0x337958(0x31f)][_0x337958(0x1c4)](this['instanceName']+'\x20('+this[_0x337958(0x647)][_0x337958(0x445)]+_0x337958(0x1a4)),this[_0x337958(0x736)]=null,this['eventEmitter']['emit'](_0x337958(0x258),this[_0x337958(0x647)]['name'],'inner'),this[_0x337958(0x42e)]?.['ws']?.['close'](),this[_0x337958(0x42e)][_0x337958(0x546)](new Error(_0x337958(0x66f)));}}if(_0xdb7056===_0x337958(0x50b)){this['client']['ev']['flush'](),this[_0x337958(0x310)],this[_0x337958(0x647)]['wuid']=this[_0x337958(0x42e)]['user']['id'][_0x337958(0x748)](/:\d+/,'')[_0x337958(0x748)](_0x337958(0x7d7),''),this[_0x337958(0x647)][_0x337958(0x5ec)]=(await this['profilePicture'](this[_0x337958(0x647)][_0x337958(0x445)]+_0x337958(0x7d7)))['profilePictureUrl'],this[_0x337958(0x3e6)]['auth']['create']({'online':!0x0,'owner':this[_0x337958(0x647)][_0x337958(0x445)],'lastDisconnect':null},this['instance']['name']);let _0x581396='Número:\x20'+this[_0x337958(0x647)][_0x337958(0x445)],_0x3466aa=0x28,_0x2fc142=Math['floor']((_0x3466aa-_0x581396['length'])/0x2),_0x21c119='\x20'[_0x337958(0x45f)](_0x2fc142),_0x67bf2f=_0x337958(0x34e),_0x3c1f1b=_0x337958(0x5b4)+this[_0x337958(0x647)]['name'],_0x56c84f=(''+_0x21c119+_0x581396+_0x21c119)[_0x337958(0x7ba)](_0x3466aa,'\x20'),_0xc52811=(''+_0x21c119+_0x67bf2f+_0x21c119)[_0x337958(0x7ba)](_0x3466aa,'\x20'),_0x367008=(''+_0x21c119+_0x3c1f1b+_0x21c119)[_0x337958(0x7ba)](_0x3466aa,'\x20'),_0x2cd370=Math[_0x337958(0x2c0)](_0x56c84f['length'],_0xc52811[_0x337958(0x3cc)],_0x367008[_0x337958(0x3cc)]),_0x47a2b8=_0x56c84f['padEnd'](_0x2cd370,'\x20'),_0x55a2be=_0xc52811[_0x337958(0x7ba)](_0x2cd370,'\x20'),_0x4cc30d=_0x367008[_0x337958(0x7ba)](_0x2cd370,'\x20');this[_0x337958(0x31f)][_0x337958(0x538)]((_0x337958(0x59f)+'─'['repeat'](_0x2cd370)+_0x337958(0x2ad)+_0x55a2be+_0x337958(0x2bb)+_0x4cc30d+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x47a2b8+_0x337958(0x6c0)+'─'['repeat'](_0x2cd370)+'┘')[_0x337958(0x748)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0x337958(0x2c1)]=!0x0;}}['resetReconnectionVariables'](){const _0x39ba4a=a0_0x22ca5b;this['reconnectAttempts']=0x0,this[_0x39ba4a(0x51d)]=[];}async[a0_0x22ca5b(0x1b6)](_0x3cff97,_0x224c93=!0x1){const _0x2d0c34=a0_0x22ca5b;try{let _0x4482ae=await this[_0x2d0c34(0x3e6)][_0x2d0c34(0x36b)][_0x2d0c34(0x75e)]({'where':{'_id':_0x3cff97['id']}},this['instance'][_0x2d0c34(0x445)]);return _0x224c93?_0x4482ae[0x0]:_0x4482ae[0x0]['message'];}catch{return{'conversation':''};}}['cleanStore'](){const _0x12cdfe=a0_0x22ca5b;let _0x33ff91=this[_0x12cdfe(0x394)][_0x12cdfe(0x16d)](_0x12cdfe(0x6ab)),_0x2a1009=this[_0x12cdfe(0x394)][_0x12cdfe(0x16d)](_0x12cdfe(0x59c));_0x33ff91?.[_0x12cdfe(0x27d)]&&!_0x2a1009[_0x12cdfe(0x729)]&&setInterval(()=>{const _0x1043cd=_0x12cdfe;try{for(let [_0x43a237,_0x683c4a]of Object[_0x1043cd(0x4fe)](_0x33ff91))_0x683c4a===!0x0&&(0x0,_t[_0x1043cd(0x1ee)])(_0x1043cd(0x484)+(0x0,j[_0x1043cd(0x2fb)])(this[_0x1043cd(0x2ca)],_0x43a237[_0x1043cd(0x622)](),this[_0x1043cd(0x647)][_0x1043cd(0x445)])+_0x1043cd(0x299));}catch{}},(_0x33ff91?.[_0x12cdfe(0x27d)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x153ed8=a0_0x22ca5b;let _0xcc2bfb=this['configService'][_0x153ed8(0x16d)](_0x153ed8(0x59c)),_0x52e6ca=this[_0x153ed8(0x394)][_0x153ed8(0x16d)](_0x153ed8(0x23f));return _0x52e6ca?.[_0x153ed8(0x729)]?await ys(_0x52e6ca,this[_0x153ed8(0x647)]['name']):_0xcc2bfb[_0x153ed8(0x729)]?await ws(this[_0x153ed8(0x647)][_0x153ed8(0x5cf)]):await(0x0,m[_0x153ed8(0x57e)])((0x0,j[_0x153ed8(0x2fb)])(he,this[_0x153ed8(0x647)][_0x153ed8(0x5cf)]));}async[a0_0x22ca5b(0x2dd)](){const _0x4dfca2=a0_0x22ca5b;let _0xa84e43=()=>Math[_0x4dfca2(0x6db)](Math['random']()*0x2711)+0x7d0,_0x418f13=async()=>{const _0x518d00=_0x4dfca2;if(!this['isConnected']){this[_0x518d00(0x31f)][_0x518d00(0x1c4)](_0x518d00(0x737)),this[_0x518d00(0x552)]=!0x1;return;}if(this[_0x518d00(0x647)][_0x518d00(0x445)]&&this[_0x518d00(0x736)]&&this[_0x518d00(0x30d)]!==null&&this[_0x518d00(0x30d)]!==void 0x0){let _0xf052da=Math[_0x518d00(0x340)](this[_0x518d00(0x30d)]/0xea60);this[_0x518d00(0x31f)][_0x518d00(0x1c4)](this['instanceName']+'\x20('+this[_0x518d00(0x647)][_0x518d00(0x445)]+_0x518d00(0x184)+_0xf052da+_0x518d00(0x1ab)),this[_0x518d00(0x552)]=!0x1;return;}else this[_0x518d00(0x647)][_0x518d00(0x445)]&&(this[_0x518d00(0x31f)][_0x518d00(0x1c4)](this[_0x518d00(0x60b)]+'\x20('+this[_0x518d00(0x647)][_0x518d00(0x445)]+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this[_0x518d00(0x31f)]['verbose'](this['instanceName']+'\x20('+this[_0x518d00(0x647)][_0x518d00(0x445)]+_0x518d00(0x38f)),this[_0x518d00(0x736)]||await this[_0x518d00(0x652)](),(this[_0x518d00(0x30d)]===null||this[_0x518d00(0x30d)]===void 0x0)&&await this[_0x518d00(0x534)]());if(this[_0x518d00(0x552)]){let _0x204268=_0xa84e43();this[_0x518d00(0x31f)][_0x518d00(0x1c4)](this[_0x518d00(0x60b)]+_0x518d00(0x5b9)+_0x204268/0x3e8+_0x518d00(0x519)),setTimeout(_0x418f13,_0x204268);}};if(this[_0x4dfca2(0x552)])return;this[_0x4dfca2(0x552)]=!0x0;let _0x3588ed=_0xa84e43();setTimeout(_0x418f13,_0x3588ed);}async[a0_0x22ca5b(0x56d)](_0x3e4c5e=0x0,_0x19b529=!0x1){const _0x2ef98f=a0_0x22ca5b;try{let _0x33df79=this[_0x2ef98f(0x394)]['get'](_0x2ef98f(0x33b));if(_0x33df79!==0x1||typeof _0x33df79>'u'||_0x3e4c5e>=0x5)return this[_0x2ef98f(0x31f)]['warn'](_0x2ef98f(0x194)),this['repository'][_0x2ef98f(0x28d)][_0x2ef98f(0x336)]({'ip':null},this['instance'][_0x2ef98f(0x5cf)]),{};this[_0x2ef98f(0x31f)][_0x2ef98f(0x1c4)](this[_0x2ef98f(0x60b)]+':\x20Tentativa\x20'+(_0x3e4c5e+0x1)+_0x2ef98f(0x74b));let _0x41ee6d;if(!_0x19b529){let _0x3d5962=await this[_0x2ef98f(0x3e6)][_0x2ef98f(0x28d)][_0x2ef98f(0x75e)](this[_0x2ef98f(0x60b)]);_0x3d5962&&_0x3d5962['ip']&&(_0x41ee6d=hr(_0x3d5962['ip']));}if((!_0x41ee6d||!bs(_0x41ee6d))&&(this[_0x2ef98f(0x31f)][_0x2ef98f(0x329)](this[_0x2ef98f(0x60b)]+_0x2ef98f(0x594)),_0x41ee6d=gr()),_0x41ee6d&&bs(_0x41ee6d)){let _0x3731d1=_0x41ee6d['username']&&_0x41ee6d[_0x2ef98f(0x4b2)]?_0x41ee6d['protocol']+_0x2ef98f(0x61b)+_0x41ee6d[_0x2ef98f(0x400)]+':'+_0x41ee6d[_0x2ef98f(0x4b2)]+'@'+_0x41ee6d[_0x2ef98f(0x60c)]+':'+_0x41ee6d[_0x2ef98f(0x467)]:_0x41ee6d[_0x2ef98f(0x42d)]+_0x2ef98f(0x61b)+_0x41ee6d['host']+':'+_0x41ee6d[_0x2ef98f(0x467)];return await this[_0x2ef98f(0x5db)](_0x3731d1,_0x41ee6d[_0x2ef98f(0x60c)])?(this['logger'][_0x2ef98f(0x1c4)](this[_0x2ef98f(0x60b)]+_0x2ef98f(0x48d)),this[_0x2ef98f(0x3e6)][_0x2ef98f(0x28d)][_0x2ef98f(0x336)]({'ip':_0x41ee6d[_0x2ef98f(0x60c)]},this['instance']['name']),{'agent':new Dt[(_0x2ef98f(0x3e4))](_0x3731d1),'fetchAgent':new Dt[(_0x2ef98f(0x3e4))](_0x3731d1)}):(this['logger'][_0x2ef98f(0x329)](this[_0x2ef98f(0x60b)]+_0x2ef98f(0x3dd)),await(0x0,m[_0x2ef98f(0x56f)])(0xc8),this[_0x2ef98f(0x56d)](_0x3e4c5e+0x1,!0x0));}else return this[_0x2ef98f(0x31f)][_0x2ef98f(0x329)](this[_0x2ef98f(0x60b)]+_0x2ef98f(0x4a4)),await(0x0,m[_0x2ef98f(0x56f)])(0xc8),this[_0x2ef98f(0x56d)](_0x3e4c5e+0x1,!0x0);}catch(_0x4177d6){return this['logger'][_0x2ef98f(0x30f)](this[_0x2ef98f(0x60b)]+_0x2ef98f(0x700)+_0x4177d6[_0x2ef98f(0x36b)]),{};}}async[a0_0x22ca5b(0x5db)](_0x237440,_0x3faf18){const _0x1f3cb6=a0_0x22ca5b;let _0xc2750=new Dt[(_0x1f3cb6(0x3e4))](_0x237440),_0x5624f4=0x1388,_0x58bc0a=[{'url':'https://jsonip.com','parse':_0x4bc0cb=>_0x4bc0cb['ip']},{'url':_0x1f3cb6(0x1b9),'parse':_0x29e585=>_0x29e585['ip']},{'url':'http://checkip.dyndns.org','parse':_0x554446=>_0x554446[_0x1f3cb6(0x78c)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x1f3cb6(0x51b),'parse':_0x87d326=>_0x87d326['ip']},{'url':_0x1f3cb6(0x374),'parse':_0x108b94=>_0x108b94[_0x1f3cb6(0x44b)]()},{'url':_0x1f3cb6(0x4a3),'parse':_0x216ab1=>_0x216ab1[_0x1f3cb6(0x44b)]()},{'url':_0x1f3cb6(0x55c),'parse':_0x29f9c2=>_0x29f9c2[_0x1f3cb6(0x510)]},{'url':_0x1f3cb6(0x36a),'parse':_0x4172d=>_0x4172d[_0x1f3cb6(0x44b)]()},{'url':_0x1f3cb6(0x1ba),'parse':_0x6bf2f7=>_0x6bf2f7[_0x1f3cb6(0x44b)]()}],_0x4102fe=_0x58bc0a[Math['floor'](Math[_0x1f3cb6(0x61f)]()*_0x58bc0a[_0x1f3cb6(0x3cc)])];try{let _0x392be7=await te[_0x1f3cb6(0x5a3)]['get'](_0x4102fe[_0x1f3cb6(0x7f3)],{'httpsAgent':_0xc2750,'timeout':_0x5624f4}),_0x407e59=_0x4102fe['parse'](_0x392be7['data']);return _0x407e59===_0x3faf18?(this[_0x1f3cb6(0x31f)][_0x1f3cb6(0x1c4)](this[_0x1f3cb6(0x60b)]+_0x1f3cb6(0x783)+_0x3faf18+_0x1f3cb6(0x4d8)+_0x407e59+'\x20->\x20CONFIRMADO.'),!0x0):(this[_0x1f3cb6(0x31f)]['error'](this[_0x1f3cb6(0x60b)]+_0x1f3cb6(0x783)+_0x3faf18+'\x20-\x20retornado:\x20'+_0x407e59+_0x1f3cb6(0x3ae)),!0x1);}catch(_0x2da178){return this[_0x1f3cb6(0x31f)][_0x1f3cb6(0x30f)](this[_0x1f3cb6(0x60b)]+_0x1f3cb6(0x522)+_0x4102fe[_0x1f3cb6(0x7f3)]+':\x20'+_0x2da178[_0x1f3cb6(0x36b)]),!0x1;}}async[a0_0x22ca5b(0x4aa)](_0x4f50d0){const _0x5edc17=a0_0x22ca5b;try{let _0x37db2f=await this['loadproxy']();this[_0x5edc17(0x7c3)](),this['instance'][_0x5edc17(0x43e)]=(await this[_0x5edc17(0x3e6)]['auth']['find'](this[_0x5edc17(0x647)][_0x5edc17(0x5cf)]))[_0x5edc17(0x43e)],this[_0x5edc17(0x647)]['authState']=await this[_0x5edc17(0x3d9)]();let {version:_0x3e4edf}=await(0x0,m[_0x5edc17(0x6fe)])(),_0x13b21c=[vs,Er,(0x0,Ss[_0x5edc17(0x551)])()],_0x21a264={..._0x37db2f,'auth':{'creds':this['instance']['authState'][_0x5edc17(0x31c)][_0x5edc17(0x428)],'keys':(0x0,m[_0x5edc17(0x410)])(this[_0x5edc17(0x647)][_0x5edc17(0x38b)][_0x5edc17(0x31c)][_0x5edc17(0x3ea)],(0x0,At[_0x5edc17(0x5a3)])({'level':'error'}))},'logger':(0x0,At[_0x5edc17(0x5a3)])({'level':_0x5edc17(0x30f)}),'printQRInTerminal':!0x1,'browser':_0x4f50d0?['Safari\x20(MacOS)',vs,(0x0,Ss[_0x5edc17(0x551)])()]:_0x13b21c,'version':_0x3e4edf,'retryRequestDelayMs':0xfa,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x481a81=>{const _0x56b1c9=_0x5edc17;let _0x81f349=_0x481a81[_0x56b1c9(0x35d)]('@newsletter'),_0x56db97=_0x481a81['endsWith'](_0x56b1c9(0x1a8));return _0x81f349||_0x56db97;},'msgRetryCounterCache':this[_0x5edc17(0x294)],'getMessage':async _0x5cfbcf=>await this['getMessage'](_0x5cfbcf),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x5edc17(0x73b)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x20d8a5=>(_0x20d8a5[_0x5edc17(0x4e6)]?.[_0x5edc17(0x6ad)]==m[_0x5edc17(0x532)][_0x5edc17(0x6e8)][_0x5edc17(0x666)]['ListType'][_0x5edc17(0x176)]&&(_0x20d8a5=JSON['parse'](JSON[_0x5edc17(0x3e3)](_0x20d8a5)),_0x20d8a5[_0x5edc17(0x4e6)][_0x5edc17(0x6ad)]=m[_0x5edc17(0x532)][_0x5edc17(0x6e8)][_0x5edc17(0x666)][_0x5edc17(0x688)]['SINGLE_SELECT']),_0x20d8a5)};return this[_0x5edc17(0x6c7)]=!0x1,this['client']=(0x0,m['default'])(_0x21a264),this[_0x5edc17(0x7ab)](),this[_0x5edc17(0x2f6)]=_0x4f50d0,this[_0x5edc17(0x42e)];}catch(_0xcfe64f){throw this[_0x5edc17(0x31f)][_0x5edc17(0x30f)](this[_0x5edc17(0x60b)]+'\x20('+this[_0x5edc17(0x647)]['wuid']+'):\x20'+(_0xcfe64f instanceof Error?_0xcfe64f[_0x5edc17(0x36b)]:JSON['stringify'](_0xcfe64f,null,0x2))),new I(_0xcfe64f?.[_0x5edc17(0x4b6)]());}}['eventHandler'](){this['client']['ev']['process'](_0x4e346d=>{const _0x124385=a0_0x4496;if(!this[_0x124385(0x6c7)]){let _0x9d67eb=this[_0x124385(0x394)][_0x124385(0x16d)](_0x124385(0x59c));if(_0x4e346d[_0x124385(0x271)]){let _0x1eab5f=_0x4e346d[_0x124385(0x271)];this[_0x124385(0x1f3)]['labels.edit'](_0x1eab5f);}if(_0x4e346d['labels.association']){let _0x45de8c=_0x4e346d[_0x124385(0x6cc)];this['messageHandle']['labels.association'](_0x45de8c);}if(_0x4e346d[_0x124385(0x709)]&&this[_0x124385(0x1df)](_0x4e346d[_0x124385(0x709)]),_0x4e346d[_0x124385(0x5b3)]&&this[_0x124385(0x647)]['authState'][_0x124385(0x4cc)](),_0x4e346d[_0x124385(0x7d2)]){let _0x48ceff=_0x4e346d[_0x124385(0x7d2)];this[_0x124385(0x1f3)][_0x124385(0x7d2)](_0x48ceff,_0x9d67eb);}if(_0x4e346d['messages.upsert']){let _0x379835=_0x4e346d[_0x124385(0x398)];this[_0x124385(0x1f3)]['messages.upsert'](_0x379835,_0x9d67eb);}if(_0x4e346d[_0x124385(0x4a7)]){let _0x217734=_0x4e346d[_0x124385(0x4a7)];_0x217734[_0x124385(0x6d9)](_0x4d2a5d=>{const _0x26a377=_0x124385;if(fr[_0x4d2a5d[_0x26a377(0x3fc)]['id']]){this['client']['ev'][_0x26a377(0x21d)]('messages.upsert',{'messages':[_0x4d2a5d],'type':_0x26a377(0x2fc)}),delete fr[_0x4d2a5d[_0x26a377(0x3fc)]['id']];return;}}),this[_0x124385(0x1f3)][_0x124385(0x4a7)](_0x217734,_0x9d67eb);}if(_0x4e346d[_0x124385(0x17b)]){let _0x3e265f=_0x4e346d['presence.update'];if(this[_0x124385(0x67c)]?.[_0x124385(0x3c9)]&&_0x3e265f['id'][_0x124385(0x567)](_0x124385(0x3f4)))return;this[_0x124385(0x16b)]('presence.update',_0x3e265f);}if(!this[_0x124385(0x67c)]?.['groups_ignore']){if(_0x4e346d[_0x124385(0x1e8)]){let _0x585666=_0x4e346d[_0x124385(0x1e8)];this[_0x124385(0x7e4)]['groups.upsert'](_0x585666);}if(_0x4e346d['groups.update']){let _0xfac911=_0x4e346d[_0x124385(0x518)];this['groupHandler'][_0x124385(0x518)](_0xfac911);}if(_0x4e346d['group-participants.update']){let _0x4829f7=_0x4e346d[_0x124385(0x46e)];this[_0x124385(0x7e4)]['group-participants.update'](_0x4829f7);}}if(_0x4e346d['chats.upsert']){let _0x4afb99=_0x4e346d['chats.upsert'];this['chatHandle']['chats.upsert'](_0x4afb99,_0x9d67eb);}if(_0x4e346d[_0x124385(0x18a)]){let _0x1cff89=_0x4e346d[_0x124385(0x18a)];this[_0x124385(0x46b)][_0x124385(0x18a)](_0x1cff89,_0x9d67eb);}if(_0x4e346d[_0x124385(0x366)]){let _0x2cc6eb=_0x4e346d[_0x124385(0x366)];this['chatHandle'][_0x124385(0x366)](_0x2cc6eb);}if(_0x4e346d[_0x124385(0x41f)]){let _0x56939b=_0x4e346d[_0x124385(0x41f)];this[_0x124385(0x212)][_0x124385(0x41f)](_0x56939b,_0x9d67eb);}if(_0x4e346d['contacts.update']){let _0x391907=_0x4e346d[_0x124385(0x4ff)];this[_0x124385(0x212)][_0x124385(0x4ff)](_0x391907,_0x9d67eb);}}});}[a0_0x22ca5b(0x548)](_0x550c46){return new Promise(_0x239061=>setTimeout(_0x239061,_0x550c46));}[a0_0x22ca5b(0x73d)](_0x416eb6){const _0x47321d=a0_0x22ca5b;let _0x5494d0=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x47321d(0x4fa)](_0x416eb6);if(_0x5494d0&&_0x5494d0[0x1]==='55'){let _0x2a7447=_0x5494d0[0x2],_0x2ab0c6=_0x5494d0[0x3],_0x8d23b8=_0x5494d0[0x4];if(_0x2a7447>='31'&&_0x2ab0c6==='9')return _0x5494d0[0x1]+_0x2a7447+_0x8d23b8;}return _0x416eb6;}[a0_0x22ca5b(0x1ca)](_0x375d40){const _0x364e80=a0_0x22ca5b;return _0x375d40[_0x364e80(0x567)](_0x364e80(0x3f4))||_0x375d40[_0x364e80(0x567)]('@s.whatsapp.net')||_0x375d40[_0x364e80(0x567)](_0x364e80(0x1a8))?_0x375d40:(_0x375d40=_0x375d40?.[_0x364e80(0x748)](/\s/g,'')['replace'](/\+/g,'')[_0x364e80(0x748)](/\(/g,'')[_0x364e80(0x748)](/\)/g,'')[_0x364e80(0x555)](/\:/)[0x0][_0x364e80(0x555)]('@')[0x0],_0x375d40[_0x364e80(0x3cc)]>=0x12?(_0x375d40=_0x375d40[_0x364e80(0x748)](/[^\d-]/g,''),_0x375d40+'@g.us'):(_0x375d40=_0x375d40[_0x364e80(0x748)](/\D/g,''),this[_0x364e80(0x73d)](_0x375d40)+_0x364e80(0x7d7)));}async['updatePresence'](_0x2b71f8){const _0x3cf602=a0_0x22ca5b;let _0x3efdad=this[_0x3cf602(0x1ca)](_0x2b71f8[_0x3cf602(0x6d6)]),_0x408b57=(await this[_0x3cf602(0x1d1)]({'numbers':[_0x3efdad]}))[0x0];if(!_0x408b57[_0x3cf602(0x1eb)]&&!(0x0,m[_0x3cf602(0x1ff)])(_0x408b57[_0x3cf602(0x436)]))throw new f(_0x408b57);let _0x278a58=(0x0,m['isJidGroup'])(_0x3efdad)?_0x3efdad:_0x408b57[_0x3cf602(0x436)];if((0x0,m['isJidGroup'])(_0x278a58))try{await this[_0x3cf602(0x42e)][_0x3cf602(0x5a0)](_0x278a58);}catch{throw new k('Group\x20not\x20found');}try{return await this[_0x3cf602(0x42e)]['presenceSubscribe'](_0x278a58),await this[_0x3cf602(0x42e)][_0x3cf602(0x3ba)](_0x2b71f8[_0x3cf602(0x4cd)],_0x3efdad),{'status':0xc8,'presence':_0x2b71f8[_0x3cf602(0x4cd)]};}catch(_0x28759d){throw new f(_0x28759d[_0x3cf602(0x4b6)]());}}async[a0_0x22ca5b(0x1f4)](_0x507e24){const _0x223df8=a0_0x22ca5b;let _0x5d45a0=this[_0x223df8(0x1ca)](_0x507e24);try{return{'wuid':_0x5d45a0,'profilePictureUrl':await this[_0x223df8(0x42e)][_0x223df8(0x5ec)](_0x5d45a0,_0x223df8(0x7f1))};}catch{return{'wuid':_0x5d45a0,'profilePictureUrl':null};}}async[a0_0x22ca5b(0x770)](_0x1424fb,_0x1019c5,_0x288b00){const _0x26c859=a0_0x22ca5b;_0x288b00||(_0x288b00={});let _0x207a74=(await this['whatsappNumber']({'numbers':[_0x1424fb]}))[0x0];if(!_0x207a74[_0x26c859(0x1eb)]&&!(0x0,m['isJidGroup'])(_0x207a74[_0x26c859(0x436)])&&!_0x207a74[_0x26c859(0x436)]['includes']('@broadcast'))throw new f(_0x207a74);let _0x4e84b2=_0x207a74[_0x26c859(0x436)];try{_0x288b00?.[_0x26c859(0x56f)]&&(await this[_0x26c859(0x42e)][_0x26c859(0x39a)](_0x4e84b2),await this[_0x26c859(0x42e)][_0x26c859(0x3ba)](_0x288b00?.[_0x26c859(0x4cd)]??_0x26c859(0x44d),_0x4e84b2),await(0x0,m['delay'])(_0x288b00[_0x26c859(0x56f)]),await this['client'][_0x26c859(0x3ba)](_0x26c859(0x44e),_0x4e84b2));let _0x4f2bf4=_0x288b00?.[_0x26c859(0x234)]!=!0x1?void 0x0:!0x1,_0x46440b;if(_0x288b00?.['quoted']){let _0x224991=_0x288b00?.[_0x26c859(0x3c2)],_0x37fc7e=_0x224991?.[_0x26c859(0x36b)]?_0x224991:await this['getMessage'](_0x224991[_0x26c859(0x3fc)],!0x0);if(!_0x37fc7e)throw _0x26c859(0x55b);_0x46440b=_0x37fc7e;}let _0x15caf9;if((0x0,m[_0x26c859(0x1ff)])(_0x4e84b2))try{let _0x5dfee6=await this['client'][_0x26c859(0x5a0)](_0x4e84b2);if(!_0x5dfee6)throw new k(_0x26c859(0x5e1));_0x288b00?.[_0x26c859(0x766)]&&(_0x288b00[_0x26c859(0x766)]?.[_0x26c859(0x678)]?_0x15caf9=_0x5dfee6[_0x26c859(0x43a)]['map'](_0x4a1898=>_0x4a1898['id']):_0x288b00['mentions']?.[_0x26c859(0x3d6)]?.[_0x26c859(0x3cc)]&&(_0x15caf9=_0x288b00[_0x26c859(0x766)][_0x26c859(0x3d6)]['map'](_0x573e9f=>{const _0x26635b=_0x26c859;let _0x14726e=this[_0x26635b(0x1ca)](_0x573e9f);return(0x0,m[_0x26635b(0x1ff)])(_0x14726e)?null:_0x14726e;})));}catch{throw new k('Group\x20not\x20found');}let _0x47eb75=await((async()=>{const _0x3968b4=_0x26c859;let _0x27bcfe={'quoted':_0x46440b};if(!_0x1019c5[_0x3968b4(0x175)]&&!_0x1019c5[_0x3968b4(0x67f)]&&!_0x1019c5['sticker']&&!_0x1019c5[_0x3968b4(0x48f)]&&_0x4e84b2!==_0x3968b4(0x1a6)&&!_0x1019c5['audio'])return await this[_0x3968b4(0x42e)][_0x3968b4(0x74a)](_0x4e84b2,{'forward':{'key':{'remoteJid':this[_0x3968b4(0x647)][_0x3968b4(0x445)],'fromMe':!0x0},'message':_0x1019c5},'mentions':_0x15caf9},_0x27bcfe);if(_0x1019c5['reactionMessage'])return await this[_0x3968b4(0x42e)]['sendMessage'](_0x4e84b2,{'react':{'text':_0x1019c5[_0x3968b4(0x4d2)]['text'],'key':_0x1019c5[_0x3968b4(0x4d2)][_0x3968b4(0x3fc)]}},_0x27bcfe);if(_0x1019c5['conversation']){let _0x546698=_0x1019c5[_0x3968b4(0x48f)];return _0x288b00?.[_0x3968b4(0x6ed)]&&(_0x546698=await this['replaceVariablesChat'](_0x546698,_0x4e84b2)),await this[_0x3968b4(0x42e)][_0x3968b4(0x74a)](_0x4e84b2,{'text':_0x546698,'mentions':_0x15caf9,'linkPreview':_0x4f2bf4},_0x27bcfe);}return _0x4e84b2==='status@broadcast'?await this[_0x3968b4(0x42e)][_0x3968b4(0x74a)](_0x4e84b2,_0x1019c5[_0x3968b4(0x167)][_0x3968b4(0x3c0)],{'backgroundColor':_0x1019c5[_0x3968b4(0x167)][_0x3968b4(0x79c)][_0x3968b4(0x629)],'font':_0x1019c5['status'][_0x3968b4(0x79c)][_0x3968b4(0x3e7)],'statusJidList':_0x1019c5[_0x3968b4(0x167)][_0x3968b4(0x79c)][_0x3968b4(0x32f)]}):await this['client'][_0x3968b4(0x74a)](_0x4e84b2,_0x1019c5,_0x27bcfe);})()),_0x1c8136=(0x0,m['normalizeMessageContent'])(_0x47eb75['message']),_0x1c6eda=(0x0,m[_0x26c859(0x529)])(_0x1c8136),{message_normalized:_0x73fddc}=this[_0x26c859(0x1cd)](_0x1c8136,_0x1c6eda,null),_0x149f57={'_id':_0x47eb75[_0x26c859(0x3fc)]['id'],'key':_0x47eb75[_0x26c859(0x3fc)],'pushName':_0x47eb75[_0x26c859(0x454)],'message':_0x1c8136,'messageType':_0x1c6eda,'message_normalized':{'key':_0x47eb75[_0x26c859(0x3fc)],'pushName':_0x47eb75['pushName'],'messageTimestamp':_0x47eb75[_0x26c859(0x321)]&&_0x47eb75['messageTimestamp']['toString']()[_0x26c859(0x3cc)]<0xd?_0x47eb75['messageTimestamp']*0x3e8:_0x47eb75[_0x26c859(0x321)]||null,'source':(0x0,m['getDevice'])(_0x47eb75[_0x26c859(0x3fc)]['id']),..._0x73fddc},'messageTimestamp':_0x47eb75[_0x26c859(0x321)]&&_0x47eb75[_0x26c859(0x321)][_0x26c859(0x4b6)]()['length']<0xd?_0x47eb75['messageTimestamp']*0x3e8:_0x47eb75[_0x26c859(0x321)]||null,'owner':this['instance'][_0x26c859(0x445)],'source':(0x0,m[_0x26c859(0x52a)])(_0x47eb75[_0x26c859(0x3fc)]['id'])};return this[_0x26c859(0x31f)][_0x26c859(0x329)](this[_0x26c859(0x60b)]+'\x20('+this[_0x26c859(0x647)][_0x26c859(0x445)]+_0x26c859(0x67a)+_0x149f57['key']?.['remoteJid']['replace'](_0x26c859(0x7d7),'')+']\x20('+_0x149f57['messageType']+')'),_0x149f57[_0x26c859(0x7ca)]?.[_0x26c859(0x571)]&&this[_0x26c859(0x31f)][_0x26c859(0x329)](_0x149f57[_0x26c859(0x7ca)]?.[_0x26c859(0x571)]),this['sendDataWebhook'](_0x26c859(0x1a3),_0x149f57),q(this['instanceName'],'messages',{'message':_0x149f57}),this[_0x26c859(0x432)](this['configService'][_0x26c859(0x16d)](_0x26c859(0x59c)),_0x149f57,_0x26c859(0x287)),await this[_0x26c859(0x3e6)][_0x26c859(0x36b)]['insert']([_0x149f57],this[_0x26c859(0x647)][_0x26c859(0x445)]),_0x47eb75;}catch(_0x4e667e){throw this[_0x26c859(0x31f)][_0x26c859(0x30f)](this[_0x26c859(0x60b)]+'\x20('+this['instance'][_0x26c859(0x445)]+'):\x20'+_0x4e667e[_0x26c859(0x4b6)]()),new f(_0x4e667e[_0x26c859(0x4b6)]());}}get['connectionStatus'](){const _0x24db5a=a0_0x22ca5b;return this[_0x24db5a(0x312)];}async[a0_0x22ca5b(0x7ea)](_0x398287){const _0xfa1f57=a0_0x22ca5b;let _0x55b012=mr,_0x59358b=He;return _0x59358b&&this[_0xfa1f57(0x60b)]['toLowerCase']()[_0xfa1f57(0x567)](_0x59358b[_0xfa1f57(0x622)]())&&(_0x398287['textMessage'][_0xfa1f57(0x571)]+='\x0a\x0a'+_0x55b012),await this[_0xfa1f57(0x770)](_0x398287[_0xfa1f57(0x6d6)],{'conversation':_0x398287[_0xfa1f57(0x7ea)]['text']},_0x398287?.[_0xfa1f57(0x2b9)]);}async[a0_0x22ca5b(0x20a)](_0x32e5d9){const _0x2314d5=a0_0x22ca5b;if(!_0x32e5d9[_0x2314d5(0x56b)])throw new f('Type\x20is\x20required');if(!_0x32e5d9[_0x2314d5(0x3c0)])throw new f(_0x2314d5(0x240));if(_0x32e5d9[_0x2314d5(0x7f7)]){let _0x27ec44=await this[_0x2314d5(0x3e6)][_0x2314d5(0x33e)][_0x2314d5(0x75e)]({'where':{}},this[_0x2314d5(0x647)]['wuid']);if(!_0x27ec44[_0x2314d5(0x3cc)])throw new f(_0x2314d5(0x195));_0x32e5d9['statusJidList']=_0x27ec44[_0x2314d5(0x771)](_0xeb318d=>_0xeb318d['pushName'])['map'](_0x4b9fab=>_0x4b9fab[_0x2314d5(0x17f)]);}if(!_0x32e5d9['statusJidList']?.[_0x2314d5(0x3cc)]&&!_0x32e5d9['allContacts'])throw new f(_0x2314d5(0x62b));if(_0x32e5d9[_0x2314d5(0x56b)]==='text'){if(!_0x32e5d9[_0x2314d5(0x629)])throw new f(_0x2314d5(0x2de));if(!_0x32e5d9[_0x2314d5(0x3e7)])throw new f(_0x2314d5(0x604));return{'content':{'text':_0x32e5d9[_0x2314d5(0x3c0)]},'option':{'backgroundColor':_0x32e5d9['backgroundColor'],'font':_0x32e5d9[_0x2314d5(0x3e7)],'statusJidList':_0x32e5d9[_0x2314d5(0x32f)]}};}if(_0x32e5d9[_0x2314d5(0x56b)]===_0x2314d5(0x7f1))return{'content':{'image':{'url':_0x32e5d9['content']},'caption':_0x32e5d9[_0x2314d5(0x3a3)]},'option':{'statusJidList':_0x32e5d9[_0x2314d5(0x32f)]}};if(_0x32e5d9[_0x2314d5(0x56b)]===_0x2314d5(0x276))return{'content':{'video':{'url':_0x32e5d9[_0x2314d5(0x3c0)]},'caption':_0x32e5d9['caption']},'option':{'statusJidList':_0x32e5d9[_0x2314d5(0x32f)]}};if(_0x32e5d9[_0x2314d5(0x56b)]===_0x2314d5(0x175)){this[_0x2314d5(0x31f)][_0x2314d5(0x1c4)](_0x2314d5(0x47e)),this['logger'][_0x2314d5(0x1c4)]('Processing\x20audio');let _0x35ddcf=await this[_0x2314d5(0x45b)](_0x32e5d9[_0x2314d5(0x3c0)]);if(typeof _0x35ddcf==_0x2314d5(0x54d)){this['logger'][_0x2314d5(0x1c4)](_0x2314d5(0x239));let _0x2815f0=L[_0x2314d5(0x409)](_0x35ddcf)[_0x2314d5(0x4b6)](_0x2314d5(0x28a));return{'content':{'audio':Buffer['from'](_0x2815f0,_0x2314d5(0x28a)),'ptt':!0x0,'mimetype':_0x2314d5(0x3f2)},'option':{'statusJidList':_0x32e5d9[_0x2314d5(0x32f)]}};}else throw new I(_0x35ddcf);}throw new f('Type\x20not\x20found');}async[a0_0x22ca5b(0x22e)](_0x29c08a){const _0xa44393=a0_0x22ca5b;return await this[_0xa44393(0x770)](_0xa44393(0x1a6),{'status':await this['formatStatusMessage'](_0x29c08a['statusMessage'])});}async[a0_0x22ca5b(0x58c)](_0x41c6d9){const _0x4796d6=a0_0x22ca5b;try{let _0x51b1b6=await(0x0,m[_0x4796d6(0x244)])({[_0x41c6d9[_0x4796d6(0x676)]]:(0x0,$[_0x4796d6(0x7d6)])(_0x41c6d9[_0x4796d6(0x6ae)])?{'url':_0x41c6d9[_0x4796d6(0x6ae)]}:Buffer['from'](_0x41c6d9[_0x4796d6(0x6ae)],_0x4796d6(0x28a))},{'upload':this[_0x4796d6(0x42e)][_0x4796d6(0x216)]}),_0x2cbe90=_0x41c6d9[_0x4796d6(0x676)]+'Message';if(_0x41c6d9[_0x4796d6(0x676)]===_0x4796d6(0x3cd)&&!_0x41c6d9[_0x4796d6(0x396)]){let _0x294b02=new RegExp(/.*\/(.+?)\./)['exec'](_0x41c6d9['media']);_0x41c6d9[_0x4796d6(0x396)]=_0x294b02?_0x294b02[0x1]:null;}let _0x2443b9=(0x0,$['isURL'])(_0x41c6d9['media'])?_0x41c6d9[_0x4796d6(0x6ae)][_0x4796d6(0x555)]('?')[0x0]:_0x41c6d9['media'];this[_0x4796d6(0x31f)][_0x4796d6(0x1c4)](_0x4796d6(0x643)+_0x2443b9);let _0xf40bad;(0x0,$[_0x4796d6(0x7d6)])(_0x41c6d9['media'])?_0xf40bad=(0x0,It[_0x4796d6(0x755)])(_0x2443b9):_0x41c6d9[_0x4796d6(0x396)]&&_0x41c6d9[_0x4796d6(0x396)][_0x4796d6(0x567)]('.')?_0xf40bad=(0x0,It[_0x4796d6(0x755)])(_0x41c6d9[_0x4796d6(0x396)]):_0xf40bad=(0x0,It['getMIMEType'])(_0x41c6d9[_0x4796d6(0x6ae)]);let _0x382242=mr,_0x7ab72b=He;return _0x7ab72b&&this[_0x4796d6(0x60b)][_0x4796d6(0x622)]()[_0x4796d6(0x567)](_0x7ab72b[_0x4796d6(0x622)]())&&(_0x41c6d9[_0x4796d6(0x3a3)]+='\x0a\x0a'+_0x382242),_0x51b1b6[_0x2cbe90]['caption']=_0x41c6d9?.[_0x4796d6(0x3a3)],_0x51b1b6[_0x2cbe90]['mimetype']=_0xf40bad,_0x51b1b6[_0x2cbe90][_0x4796d6(0x396)]=_0x41c6d9[_0x4796d6(0x396)],_0x41c6d9[_0x4796d6(0x676)]===_0x4796d6(0x276)&&(_0x51b1b6[_0x2cbe90][_0x4796d6(0x416)]=Uint8Array[_0x4796d6(0x610)]((0x0,Me[_0x4796d6(0x409)])((0x0,j['join'])(process[_0x4796d6(0x5ce)](),_0x4796d6(0x6ec)))),_0x51b1b6[_0x2cbe90][_0x4796d6(0x2a5)]=!0x1),(0x0,m[_0x4796d6(0x38c)])('',{[_0x2cbe90]:{..._0x51b1b6[_0x2cbe90]}},{'userJid':this[_0x4796d6(0x647)][_0x4796d6(0x445)]});}catch(_0x268c34){throw this[_0x4796d6(0x31f)]['error'](this['instanceName']+'\x20('+this['instance'][_0x4796d6(0x445)]+'):\x20'+(_0x268c34 instanceof Error?_0x268c34[_0x4796d6(0x36b)]:JSON[_0x4796d6(0x3e3)](_0x268c34,null,0x2))),new I(_0x268c34?.['toString']()||_0x268c34);}}async[a0_0x22ca5b(0x22d)](_0x13f2d8){const _0xf0321b=a0_0x22ca5b;let _0x2ed1d8=await this['prepareMediaMessage'](_0x13f2d8['mediaMessage']);return await this[_0xf0321b(0x770)](_0x13f2d8[_0xf0321b(0x6d6)],{..._0x2ed1d8[_0xf0321b(0x36b)]},_0x13f2d8?.[_0xf0321b(0x2b9)]);}async[a0_0x22ca5b(0x4d0)](_0x568dd6,_0x216352){const _0x1f9712=a0_0x22ca5b;try{this[_0x1f9712(0x31f)][_0x1f9712(0x1c4)](_0x1f9712(0x701));let _0x3913c2,_0x3a034d=_0x216352+'-'+new Date()['getTime']();this[_0x1f9712(0x31f)]['verbose'](_0x1f9712(0x4f6)+_0x3a034d);let _0x40ac82=''+(0x0,j[_0x1f9712(0x2fb)])(this['storePath'],_0x3a034d+_0x1f9712(0x791));if(this[_0x1f9712(0x31f)]['verbose'](_0x1f9712(0x4b8)+_0x40ac82),(0x0,$[_0x1f9712(0x474)])(_0x568dd6)){this['logger'][_0x1f9712(0x1c4)](_0x1f9712(0x7e3));let _0x17a199=_0x568dd6[_0x1f9712(0x748)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x24d095=Buffer['from'](_0x17a199,_0x1f9712(0x28a));_0x3913c2=''+(0x0,j['join'])(this[_0x1f9712(0x2ca)],_0x1f9712(0x6b0)+_0x3a034d+_0x1f9712(0x46f)),this[_0x1f9712(0x31f)][_0x1f9712(0x1c4)](_0x1f9712(0x4f9)+_0x3913c2),await(0x0,xt['default'])(_0x24d095)[_0x1f9712(0x4c1)](_0x3913c2),this[_0x1f9712(0x31f)][_0x1f9712(0x1c4)](_0x1f9712(0x1f8));}else{this[_0x1f9712(0x31f)]['verbose']('Image\x20is\x20url');let _0xc390c3=new Date()[_0x1f9712(0x6fb)](),_0x2d4500=_0x568dd6+_0x1f9712(0x44a)+_0xc390c3;this[_0x1f9712(0x31f)][_0x1f9712(0x1c4)]('including\x20timestamp\x20in\x20url:\x20'+_0x2d4500);let _0x519d10=await te[_0x1f9712(0x5a3)][_0x1f9712(0x16d)](_0x2d4500,{'responseType':_0x1f9712(0x680)});this[_0x1f9712(0x31f)]['verbose'](_0x1f9712(0x1c2));let _0x864bcc=Buffer['from'](_0x519d10['data'],'binary');_0x3913c2=''+(0x0,j[_0x1f9712(0x2fb)])(this['storePath'],'temp-'+_0x3a034d+_0x1f9712(0x46f)),this[_0x1f9712(0x31f)][_0x1f9712(0x1c4)]('Image\x20path:\x20'+_0x3913c2),await(0x0,xt[_0x1f9712(0x5a3)])(_0x864bcc)['toFile'](_0x3913c2),this['logger'][_0x1f9712(0x1c4)](_0x1f9712(0x1f8));}return await(0x0,xt[_0x1f9712(0x5a3)])(_0x3913c2)[_0x1f9712(0x3f8)]()[_0x1f9712(0x4c1)](_0x40ac82),this['logger'][_0x1f9712(0x1c4)](_0x1f9712(0x710)),L[_0x1f9712(0x24d)](_0x3913c2),this[_0x1f9712(0x31f)][_0x1f9712(0x1c4)](_0x1f9712(0x266)),_0x40ac82;}catch(_0x54020b){console[_0x1f9712(0x30f)](_0x1f9712(0x3a0),_0x54020b instanceof Error?_0x54020b[_0x1f9712(0x36b)]:JSON[_0x1f9712(0x3e3)](_0x54020b,null,0x2));}}async['mediaSticker'](_0x1ae684){const _0x40ff03=a0_0x22ca5b;let _0x172f0f=await this['convertToWebP'](_0x1ae684[_0x40ff03(0x5df)][_0x40ff03(0x7f1)],_0x1ae684[_0x40ff03(0x6d6)]),_0x24597e=await this[_0x40ff03(0x770)](_0x1ae684[_0x40ff03(0x6d6)],{'sticker':{'url':_0x172f0f}},_0x1ae684?.[_0x40ff03(0x2b9)]);return L['unlinkSync'](_0x172f0f),this[_0x40ff03(0x31f)][_0x40ff03(0x1c4)](_0x40ff03(0x460)),_0x24597e;}async['audioWhatsapp'](_0xba47a6){const _0x2bb6e9=a0_0x22ca5b;if(this['logger'][_0x2bb6e9(0x1c4)](_0x2bb6e9(0x41b)),!_0xba47a6[_0x2bb6e9(0x2b9)]?.[_0x2bb6e9(0x605)]&&_0xba47a6[_0x2bb6e9(0x2b9)]?.['encoding']!==!0x1&&(_0xba47a6[_0x2bb6e9(0x2b9)][_0x2bb6e9(0x605)]=!0x0),_0xba47a6[_0x2bb6e9(0x2b9)]?.[_0x2bb6e9(0x605)]){let _0x2bc1eb=await this['convertaudio'](_0xba47a6[_0x2bb6e9(0x30b)][_0x2bb6e9(0x175)]);if(typeof _0x2bc1eb=='string'){let _0xaaa059=L['readFileSync'](_0x2bc1eb)[_0x2bb6e9(0x4b6)](_0x2bb6e9(0x28a)),_0x1689c6=this[_0x2bb6e9(0x770)](_0xba47a6['number'],{'audio':Buffer[_0x2bb6e9(0x610)](_0xaaa059,'base64'),'ptt':!0x0,'mimetype':'audio/mp4'},{'presence':'recording','delay':_0xba47a6?.[_0x2bb6e9(0x2b9)]?.[_0x2bb6e9(0x56f)]});return this['logger'][_0x2bb6e9(0x1c4)]('Converted\x20audio\x20deleted'),_0x1689c6;}else throw new I(_0x2bc1eb);}return await this[_0x2bb6e9(0x770)](_0xba47a6[_0x2bb6e9(0x6d6)],{'audio':(0x0,$[_0x2bb6e9(0x7d6)])(_0xba47a6[_0x2bb6e9(0x30b)]['audio'])?{'url':_0xba47a6[_0x2bb6e9(0x30b)][_0x2bb6e9(0x175)]}:Buffer[_0x2bb6e9(0x610)](_0xba47a6[_0x2bb6e9(0x30b)][_0x2bb6e9(0x175)],_0x2bb6e9(0x28a)),'ptt':!0x0,'mimetype':_0x2bb6e9(0x214)},{'presence':_0x2bb6e9(0x210),'delay':_0xba47a6?.['options']?.[_0x2bb6e9(0x56f)]});}async[a0_0x22ca5b(0x45b)](_0x7bd8ae){const _0x360562=a0_0x22ca5b;this[_0x360562(0x31f)][_0x360562(0x1c4)]('Processing\x20audio');let _0x4ca0e9=(0x0,$[_0x360562(0x7d6)])(_0x7bd8ae)?(0x0,Ms['createHash'])('sha256')['update'](_0x7bd8ae)[_0x360562(0x5c5)]('hex'):(0x0,Ms['createHash'])('sha256')[_0x360562(0x76a)](_0x7bd8ae)[_0x360562(0x5c5)](_0x360562(0x61e)),_0x1506e6=''+(0x0,j[_0x360562(0x2fb)])(this[_0x360562(0x2ca)],_0x4ca0e9+_0x360562(0x4ea));if(L[_0x360562(0x75c)](_0x1506e6))return this[_0x360562(0x31f)][_0x360562(0x1c4)](_0x360562(0x47d)),_0x1506e6;let _0x48c6e1=''+(0x0,j['join'])(this[_0x360562(0x2ca)],'temp-'+(0x0,Ce['v4'])()+_0x360562(0x6d2));if((0x0,$['isURL'])(_0x7bd8ae)){let _0x510efe=new Date()[_0x360562(0x6fb)](),_0xd27648=_0x7bd8ae+_0x360562(0x44a)+_0x510efe,_0xed149c=await te[_0x360562(0x5a3)][_0x360562(0x16d)](_0xd27648,{'responseType':'arraybuffer'});L[_0x360562(0x76d)](_0x48c6e1,_0xed149c['data']);}else{let _0x3ef637=Buffer[_0x360562(0x610)](_0x7bd8ae,_0x360562(0x28a));L['writeFileSync'](_0x48c6e1,_0x3ef637);}return new Promise((_0x376269,_0x6fd86b)=>{const _0x115284=_0x360562;(0x0,_t['exec'])(wr[_0x115284(0x5a3)][_0x115284(0x5f7)]+_0x115284(0x2a0)+_0x48c6e1+_0x115284(0x473)+_0x1506e6+_0x115284(0x481),_0x164c3a=>{const _0x4aefc5=_0x115284;if(L['unlinkSync'](_0x48c6e1),_0x164c3a){this['logger']['verbose'](_0x4aefc5(0x7fb)),_0x6fd86b(_0x164c3a);return;}this[_0x4aefc5(0x31f)][_0x4aefc5(0x1c4)](_0x4aefc5(0x27f)),_0x376269(_0x1506e6);});});}async[a0_0x22ca5b(0x752)](_0x4bb5a6){const _0xbb0164=a0_0x22ca5b;let _0x168033={},_0x3b8e61=_0xbb0164(0x450);if(_0x4bb5a6[_0xbb0164(0x752)]?.[_0xbb0164(0x22d)]){_0x3b8e61=_0x4bb5a6['buttonMessage'][_0xbb0164(0x22d)]?.[_0xbb0164(0x676)][_0xbb0164(0x70b)]()??_0xbb0164(0x450),_0x168033[_0xbb0164(0x2a3)]=_0x3b8e61[_0xbb0164(0x622)]()+'Message';let _0x574570=await this[_0xbb0164(0x58c)](_0x4bb5a6[_0xbb0164(0x752)][_0xbb0164(0x22d)]);_0x168033['message']=_0x574570[_0xbb0164(0x36b)][_0x168033['mediaKey']],_0x168033[_0xbb0164(0x376)]='*'+_0x4bb5a6[_0xbb0164(0x752)][_0xbb0164(0x33f)]+'*\x0a\x0a'+_0x4bb5a6[_0xbb0164(0x752)][_0xbb0164(0x1dc)];}let _0x488419={'text':_0x4bb5a6[_0xbb0164(0x752)][_0xbb0164(0x293)][_0xbb0164(0x4fd)](_0x3b24dc=>_0x3b24dc[_0xbb0164(0x570)]),'ids':_0x4bb5a6['buttonMessage'][_0xbb0164(0x293)]['map'](_0xe3789e=>_0xe3789e[_0xbb0164(0x5e2)])};if(!(0x0,$[_0xbb0164(0x295)])(_0x488419[_0xbb0164(0x571)])||!(0x0,$[_0xbb0164(0x295)])(_0x488419[_0xbb0164(0x614)]))throw new f(_0xbb0164(0x3fb),_0xbb0164(0x36c));return await this[_0xbb0164(0x770)](_0x4bb5a6[_0xbb0164(0x6d6)],{'buttonsMessage':{'text':_0x168033?.[_0xbb0164(0x2a3)]?void 0x0:_0x4bb5a6[_0xbb0164(0x752)][_0xbb0164(0x33f)],'contentText':_0x168033?.['contentText']??_0x4bb5a6[_0xbb0164(0x752)][_0xbb0164(0x1dc)],'footerText':_0x4bb5a6['buttonMessage']?.[_0xbb0164(0x3b8)],'buttons':_0x4bb5a6[_0xbb0164(0x752)][_0xbb0164(0x293)][_0xbb0164(0x4fd)](_0x5e5ee4=>({'buttonText':{'displayText':_0x5e5ee4['buttonText']},'buttonId':_0x5e5ee4[_0xbb0164(0x5e2)],'type':0x1})),'headerType':m[_0xbb0164(0x532)][_0xbb0164(0x6e8)][_0xbb0164(0x625)][_0xbb0164(0x292)][_0x3b8e61],[_0x168033?.[_0xbb0164(0x2a3)]]:_0x168033?.[_0xbb0164(0x36b)]}},_0x4bb5a6?.[_0xbb0164(0x2b9)]);}async[a0_0x22ca5b(0x363)](_0x30ba1a){const _0x38d94b=a0_0x22ca5b;return await this['sendMessageWithTyping'](_0x30ba1a[_0x38d94b(0x6d6)],{'locationMessage':{'degreesLatitude':_0x30ba1a[_0x38d94b(0x363)]['latitude'],'degreesLongitude':_0x30ba1a[_0x38d94b(0x363)][_0x38d94b(0x1cc)],'name':_0x30ba1a[_0x38d94b(0x363)]?.['name'],'address':_0x30ba1a['locationMessage']?.[_0x38d94b(0x776)]}},_0x30ba1a?.[_0x38d94b(0x2b9)]);}async['contactMessage'](_0x51ee45){const _0x565d47=a0_0x22ca5b;let _0x1a944f={},_0x18f4fb=_0x518cd3=>{const _0x50e540=a0_0x4496;let _0x1f1dc3=_0x50e540(0x1e5)+_0x518cd3[_0x50e540(0x7f9)]+_0x50e540(0x7bf)+_0x518cd3[_0x50e540(0x7f9)]+'\x0a';_0x518cd3[_0x50e540(0x6eb)]&&(_0x1f1dc3+=_0x50e540(0x343)+_0x518cd3[_0x50e540(0x6eb)]+';\x0a'),_0x518cd3[_0x50e540(0x305)]&&(_0x1f1dc3+=_0x50e540(0x661)+_0x518cd3[_0x50e540(0x305)]+'\x0a'),_0x518cd3['url']&&(_0x1f1dc3+=_0x50e540(0x3fd)+_0x518cd3[_0x50e540(0x7f3)]+'\x0a');let _0xa37e59='';return _0x518cd3[_0x50e540(0x2f6)]&&_0x518cd3[_0x50e540(0x2f6)]['split']('|')[_0x50e540(0x6d9)]((_0x48cf90,_0x10cde6)=>{const _0x30ab1b=_0x50e540;let _0x479cdc=this[_0x30ab1b(0x1ca)](_0x48cf90)['replace'](_0x30ab1b(0x7d7),'');_0xa37e59+='item'+(_0x10cde6+0x1)+_0x30ab1b(0x1db)+_0x479cdc+':'+_0x48cf90+_0x30ab1b(0x323)+(_0x10cde6+0x1)+'.X-ABLabel:Celular\x0a';}),_0x1f1dc3+=_0xa37e59+_0x50e540(0x279),_0x1f1dc3;};return _0x51ee45[_0x565d47(0x773)][_0x565d47(0x3cc)]===0x1?_0x1a944f[_0x565d47(0x773)]={'displayName':_0x51ee45[_0x565d47(0x773)][0x0]['fullName'],'vcard':_0x18f4fb(_0x51ee45[_0x565d47(0x773)][0x0])}:_0x1a944f[_0x565d47(0x695)]={'displayName':_0x51ee45[_0x565d47(0x773)][_0x565d47(0x3cc)]+'\x20contacts','contacts':_0x51ee45[_0x565d47(0x773)][_0x565d47(0x4fd)](_0x219020=>({'displayName':_0x219020[_0x565d47(0x7f9)],'vcard':_0x18f4fb(_0x219020)}))},await this[_0x565d47(0x770)](_0x51ee45['number'],{..._0x1a944f},_0x51ee45?.['options']);}async['reactionMessage'](_0x39b631){const _0x3e98e2=a0_0x22ca5b;return await this['sendMessageWithTyping'](_0x39b631[_0x3e98e2(0x4d2)]['key'][_0x3e98e2(0x3a4)],{'reactionMessage':{'key':_0x39b631[_0x3e98e2(0x4d2)][_0x3e98e2(0x3fc)],'text':_0x39b631[_0x3e98e2(0x4d2)][_0x3e98e2(0x169)]}});}async[a0_0x22ca5b(0x1d1)](_0x5bbdde){const _0x37655a=a0_0x22ca5b;let _0x17a367=[];for await(let _0x40b82d of _0x5bbdde[_0x37655a(0x219)]){let _0x190d16=this[_0x37655a(0x1ca)](_0x40b82d),_0x27baf6=!0x1;try{if((0x0,m[_0x37655a(0x1ff)])(_0x190d16)){let _0x2a0146=await this['findGroup']({'groupJid':_0x190d16},'inner');_0x17a367[_0x37655a(0x5a4)](new ge(_0x2a0146[_0x37655a(0x359)]['id'],!!_0x2a0146?.[_0x37655a(0x359)]['id'],_0x2a0146?.[_0x37655a(0x359)][_0x37655a(0x4af)])),_0x27baf6=!!_0x2a0146?.[_0x37655a(0x359)]['id'];}else{let _0x1a1f81=(await this[_0x37655a(0x42e)][_0x37655a(0x4a6)](_0x190d16))[0x0];_0x17a367['push'](new ge(_0x1a1f81[_0x37655a(0x436)],_0x1a1f81[_0x37655a(0x1eb)])),_0x27baf6=_0x1a1f81[_0x37655a(0x1eb)];}}catch{await this[_0x37655a(0x54a)](_0x190d16,_0x27baf6),_0x17a367['push'](new ge(_0x40b82d,!0x1));}}return _0x17a367;}async[a0_0x22ca5b(0x54a)](_0x19b720,_0x3d695a){const _0x2dd838=a0_0x22ca5b;try{await this[_0x2dd838(0x3e6)]['chat'][_0x2dd838(0x3c6)]({'where':{'_id':_0x19b720,'imported':!0x0}},this['instance'][_0x2dd838(0x445)])&&(_0x3d695a||(await this[_0x2dd838(0x3e6)]['chat'][_0x2dd838(0x260)](_0x19b720,this[_0x2dd838(0x647)][_0x2dd838(0x445)]),console['log'](_0x2dd838(0x251)+_0x19b720+'\x20foi\x20removido\x20por\x20não\x20ser\x20válido.')));}catch(_0x2d0359){console[_0x2dd838(0x30f)]('Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:',_0x2d0359);}}async['markMessageAsRead'](_0x3a0725){const _0x44eb85=a0_0x22ca5b;try{let _0x4081c8=_0x3a0725['readMessages']['filter'](_0x19d026=>(0x0,m['isJidGroup'])(_0x19d026[_0x44eb85(0x3a4)])||(0x0,m[_0x44eb85(0x2d9)])(_0x19d026[_0x44eb85(0x3a4)]))[_0x44eb85(0x4fd)](_0x5e0ca2=>({'remoteJid':_0x5e0ca2[_0x44eb85(0x3a4)],'fromMe':_0x5e0ca2['fromMe'],'id':_0x5e0ca2['id']}));await this[_0x44eb85(0x42e)][_0x44eb85(0x2e4)](_0x4081c8);let _0x130c99=_0x4081c8['map'](_0x5aa498=>this['updateMessage'](_0x5aa498,{'status':'READ','owner':this[_0x44eb85(0x647)][_0x44eb85(0x445)]})),_0x25c295=_0x4081c8[_0x44eb85(0x4fd)](_0x528905=>this[_0x44eb85(0x3e6)][_0x44eb85(0x2d6)]['updateOne']({'where':{'_id':_0x528905[_0x44eb85(0x3a4)]}},{'unreadcount':0x0},this[_0x44eb85(0x647)][_0x44eb85(0x445)])),[_0x351309,_0x597a04]=await Promise['all']([Promise[_0x44eb85(0x745)](_0x130c99),Promise['all'](_0x25c295)]);return _0x597a04[_0x44eb85(0x771)](_0x1f8fbb=>_0x1f8fbb!==null)['forEach'](_0x454401=>{const _0xfa7d57=_0x44eb85;q(this['instanceName'],_0xfa7d57(0x1f6),{'chat':_0x454401});}),{'message':_0x44eb85(0x7d0),'read':'success'};}catch(_0x11721){throw console[_0x44eb85(0x30f)](_0x44eb85(0x5a6),_0x11721),new I(_0x44eb85(0x2a9),_0x11721[_0x44eb85(0x4b6)]());}}async[a0_0x22ca5b(0x6b1)](_0x1cd38e){const _0x4ad257=a0_0x22ca5b;let _0x8b3a5f={'where':{'key':{'remoteJid':_0x1cd38e}},'limit':0x1},_0x4267f3=await this[_0x4ad257(0x5c4)](_0x8b3a5f);return _0x4267f3||(console[_0x4ad257(0x30f)](_0x4ad257(0x18f),_0x1cd38e),null);}async[a0_0x22ca5b(0x34b)](_0x4cdd21){const _0x40e74a=a0_0x22ca5b;this['logger'][_0x40e74a(0x1c4)](_0x40e74a(0x35c));try{let _0x4cc368=_0x4cdd21['lastMessage'],_0x4f45b4=_0x4cdd21[_0x40e74a(0x2d6)];if(!_0x4cc368&&_0x4f45b4?_0x4cc368=await this[_0x40e74a(0x6b1)](_0x4f45b4):(_0x4cc368=_0x4cdd21['lastMessage'],_0x4cc368[_0x40e74a(0x321)]=_0x4cc368?.[_0x40e74a(0x321)]??Date[_0x40e74a(0x37f)](),_0x4f45b4=_0x4cc368?.[_0x40e74a(0x3fc)]?.['remoteJid']),!_0x4cc368||Object[_0x40e74a(0x3ea)](_0x4cc368)['length']===0x0)throw new k(_0x40e74a(0x788));this[_0x40e74a(0x31f)][_0x40e74a(0x1c4)]('Archiving\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x4f45b4);try{await this[_0x40e74a(0x42e)][_0x40e74a(0x1bf)]({'archive':_0x4cdd21[_0x40e74a(0x49e)],'lastMessages':[_0x4cc368]},this['createJid'](_0x4f45b4));}catch(_0x4f7cfb){this['logger'][_0x40e74a(0x30f)](_0x40e74a(0x1e3)+_0x4f45b4+':\x20'+_0x4f7cfb[_0x40e74a(0x4b6)]());}this[_0x40e74a(0x31f)][_0x40e74a(0x1c4)]('Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x4f45b4);let _0x5517e1=await this[_0x40e74a(0x3e6)][_0x40e74a(0x2d6)][_0x40e74a(0x6f3)]({'where':{'_id':_0x4cc368?.['key']?.[_0x40e74a(0x3a4)]}},{'archived':_0x4cdd21['archive']},this[_0x40e74a(0x647)][_0x40e74a(0x445)]);return _0x5517e1?(this[_0x40e74a(0x31f)][_0x40e74a(0x1c4)]('Notifying\x20clients\x20for\x20chat:\x20'+JSON[_0x40e74a(0x3e3)](_0x5517e1)),q(this['instanceName'],'chats',{'chat':_0x5517e1})):this[_0x40e74a(0x31f)]['error'](_0x40e74a(0x64c)+_0x4f45b4),{'chatId':_0x4f45b4,'archived':_0x4cdd21['archive']};}catch(_0xd0626f){throw this['logger'][_0x40e74a(0x30f)](_0x40e74a(0x642)+_0xd0626f[_0x40e74a(0x4b6)]()),new I({'archived':!0x1,'message':[_0x40e74a(0x746),_0xd0626f[_0x40e74a(0x4b6)]()]});}}async['deleteMessage'](_0x31780c){const _0x3deb35=a0_0x22ca5b;try{let _0x1dcfd2=await this[_0x3deb35(0x42e)][_0x3deb35(0x74a)](_0x31780c['remoteJid'],{'delete':_0x31780c});try{let _0xf690a5=await this[_0x3deb35(0x7b5)](_0x31780c,{'status':_0x3deb35(0x51c),'owner':this[_0x3deb35(0x647)][_0x3deb35(0x445)]});this[_0x3deb35(0x31f)][_0x3deb35(0x1c4)](this[_0x3deb35(0x60b)]+'\x20('+this[_0x3deb35(0x647)][_0x3deb35(0x445)]+_0x3deb35(0x278)+_0xf690a5);}catch(_0x53f0f5){console[_0x3deb35(0x30f)](_0x3deb35(0x4c8),_0x53f0f5);}return _0x1dcfd2;}catch(_0x82f67){throw new I(_0x3deb35(0x7a4),_0x82f67?.[_0x3deb35(0x4b6)]());}}async['getBase64FromMediaMessage'](_0x4fe2b6){const _0x5e9255=a0_0x22ca5b;try{let _0x307d8c=_0x4fe2b6?.[_0x5e9255(0x36b)]?_0x4fe2b6:await this[_0x5e9255(0x1b6)](_0x4fe2b6[_0x5e9255(0x3fc)],!0x0);for(let _0xb95af3 of ga)_0x307d8c[_0x5e9255(0x36b)][_0xb95af3]&&(_0x307d8c['message']=_0x307d8c[_0x5e9255(0x36b)][_0xb95af3][_0x5e9255(0x36b)]);let _0x21c514,_0x19f0be;for(let _0xf30f3a of ha)if(_0x21c514=_0x307d8c[_0x5e9255(0x36b)][_0xf30f3a],_0x21c514){_0x19f0be=_0xf30f3a;break;}if(!_0x21c514)throw _0x5e9255(0x1a2);typeof _0x21c514['mediaKey']==_0x5e9255(0x34a)&&(_0x307d8c[_0x5e9255(0x36b)]=JSON[_0x5e9255(0x3db)](JSON[_0x5e9255(0x3e3)](_0x307d8c['message'])));let _0x384916=await(0x0,m[_0x5e9255(0x67b)])({'key':_0x307d8c?.[_0x5e9255(0x3fc)],'message':_0x307d8c?.['message']},_0x5e9255(0x2c5),{},{'logger':(0x0,At[_0x5e9255(0x5a3)])({'level':_0x5e9255(0x31e)}),'reuploadRequest':this[_0x5e9255(0x42e)][_0x5e9255(0x586)]});if(!(_0x384916 instanceof Buffer))throw new Error(_0x5e9255(0x2ae));let _0x2c9fab=this[_0x5e9255(0x394)][_0x5e9255(0x16d)](_0x5e9255(0x59c)),_0x372cda,_0x5ebbbf;if(_0x21c514[_0x5e9255(0x396)])_0x372cda=_0x21c514[_0x5e9255(0x396)];else{let _0x476d2a=_0x21c514[_0x5e9255(0x2ab)]?.[_0x5e9255(0x78c)](/\/(\w+)/),_0x25b873=_0x476d2a?_0x476d2a[0x1]:null;if(!_0x25b873)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0x372cda=(0x0,Ce['v4'])()+'.'+_0x25b873;}_0x19f0be===_0x5e9255(0x30b)&&_0x21c514[_0x5e9255(0x2ab)]===_0x5e9255(0x358)?(_0x372cda=(0x0,Ce['v4'])()+'.ogg',_0x5ebbbf=_0x5e9255(0x1bc)+await this[_0x5e9255(0x45b)](_0x384916['toString'](_0x5e9255(0x28a)))):(await this[_0x5e9255(0x4ce)](_0x384916,_0x372cda),_0x5ebbbf='/media/'+_0x372cda);let _0x10b6ab=this['configService'][_0x5e9255(0x16d)](_0x5e9255(0x452))['URL'];if(!_0x10b6ab){let _0x4611c4=this[_0x5e9255(0x394)][_0x5e9255(0x16d)](_0x5e9255(0x623));_0x10b6ab=_0x5e9255(0x4f2)+(_0x4611c4&&_0x4611c4[_0x5e9255(0x6bf)]['split']('/')[0x4]);}_0x5ebbbf=''+_0x10b6ab+_0x5ebbbf;let _0x25c696=0xc*0x3c*0x3c*0x3e8,_0xb49146={'where':{'_id':_0x307d8c['key']['id']}},_0x162bcc={'message_normalized.fileUrl':_0x5ebbbf,'message_normalized.expires_fileUrl':Date[_0x5e9255(0x37f)]()+_0x25c696};try{let _0x4e4e4d=await this[_0x5e9255(0x3e6)][_0x5e9255(0x36b)][_0x5e9255(0x76a)](_0xb49146,_0x162bcc,this[_0x5e9255(0x647)][_0x5e9255(0x445)]);_0x4e4e4d&&q(this[_0x5e9255(0x60b)],_0x5e9255(0x203),{'message':_0x4e4e4d});}catch(_0x2ad70b){this[_0x5e9255(0x31f)][_0x5e9255(0x30f)](this['instanceName']+'\x20('+this[_0x5e9255(0x647)][_0x5e9255(0x445)]+_0x5e9255(0x424)+(_0x2ad70b instanceof Error?_0x2ad70b[_0x5e9255(0x36b)]:JSON[_0x5e9255(0x3e3)](_0x2ad70b,null,0x2)));}return{'mediaType':_0x19f0be,'fileName':_0x21c514[_0x5e9255(0x396)],'caption':_0x21c514[_0x5e9255(0x3a3)],'size':{'fileLength':_0x21c514[_0x5e9255(0x1f9)],'height':_0x21c514[_0x5e9255(0x172)],'width':_0x21c514['width']},'mimetype':_0x21c514[_0x5e9255(0x2ab)],'base64':_0x384916[_0x5e9255(0x4b6)]('base64'),'fileUrl':_0x5ebbbf,'expires_fileUrl':Date[_0x5e9255(0x37f)]()+_0x25c696};}catch(_0x13dd77){throw this['logger']['error'](this[_0x5e9255(0x60b)]+'\x20('+this['instance'][_0x5e9255(0x445)]+_0x5e9255(0x424)+(_0x13dd77 instanceof Error?_0x13dd77[_0x5e9255(0x36b)]:JSON['stringify'](_0x13dd77,null,0x2))),new f(_0x13dd77['toString']());}}async[a0_0x22ca5b(0x4ce)](_0x267c6e,_0x14b2fb){const _0x34ad89=a0_0x22ca5b;let _0x535382=j[_0x34ad89(0x5a3)][_0x34ad89(0x2fb)](__dirname,_0x34ad89(0x6d0));L[_0x34ad89(0x75c)](_0x535382)||L[_0x34ad89(0x311)](_0x535382,{'recursive':!0x0});let _0x5becff=j['default'][_0x34ad89(0x2fb)](_0x535382,_0x14b2fb);return new Promise((_0x3c7252,_0x4b24d3)=>{L['writeFile'](_0x5becff,_0x267c6e,_0x22cf6d=>{const _0x1d628f=a0_0x4496;_0x22cf6d?(this['logger'][_0x1d628f(0x30f)](_0x1d628f(0x5cb)+(_0x22cf6d instanceof Error?_0x22cf6d[_0x1d628f(0x36b)]:JSON[_0x1d628f(0x3e3)](_0x22cf6d,null,0x2))),_0x4b24d3(_0x22cf6d)):(this['logger'][_0x1d628f(0x256)](_0x1d628f(0x6c6)+_0x5becff),_0x3c7252(_0x5becff));});});}async[a0_0x22ca5b(0x6a1)](_0xe8dbb2){const _0x243406=a0_0x22ca5b;return await this['repository'][_0x243406(0x33e)][_0x243406(0x75e)](_0xe8dbb2,this[_0x243406(0x647)][_0x243406(0x445)]);}async[a0_0x22ca5b(0x4a5)](){const _0x1216ac=a0_0x22ca5b;return await this[_0x1216ac(0x3e6)][_0x1216ac(0x72f)][_0x1216ac(0x75e)]({'where':{}},this[_0x1216ac(0x647)]['wuid']);}async[a0_0x22ca5b(0x5c4)](_0x442f08){const _0x25ed40=a0_0x22ca5b;return await this['repository'][_0x25ed40(0x36b)][_0x25ed40(0x75e)](_0x442f08,this[_0x25ed40(0x647)]['wuid']);}async[a0_0x22ca5b(0x201)](){const _0x11858d=a0_0x22ca5b;return this[_0x11858d(0x3e6)][_0x11858d(0x2d6)][_0x11858d(0x591)](this[_0x11858d(0x647)][_0x11858d(0x445)]),this['repository'][_0x11858d(0x2d6)][_0x11858d(0x1c5)](this['instance'][_0x11858d(0x445)]),this[_0x11858d(0x3e6)][_0x11858d(0x2d6)][_0x11858d(0x383)](this[_0x11858d(0x647)][_0x11858d(0x445)]),this['repository'][_0x11858d(0x2d6)][_0x11858d(0x1ae)](this[_0x11858d(0x647)][_0x11858d(0x445)]),await this['repository'][_0x11858d(0x2d6)]['find']({'where':{}},this['instance'][_0x11858d(0x445)]);}async[a0_0x22ca5b(0x4c7)](_0x483ad3){const _0x3ca7ad=a0_0x22ca5b;try{if(!Array[_0x3ca7ad(0x27c)](_0x483ad3)||_0x483ad3[_0x3ca7ad(0x3cc)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x297fd0=[],_0x58ba77=[];for(let _0x2ca5 of _0x483ad3){if(_0x2ca5['_id'])_0x2ca5[_0x3ca7ad(0x17f)]=this[_0x3ca7ad(0x1ca)](_0x2ca5['_id']);else continue;await this[_0x3ca7ad(0x3e6)][_0x3ca7ad(0x2d6)]['findOne']({'where':{'_id':_0x2ca5[_0x3ca7ad(0x17f)]}},this[_0x3ca7ad(0x647)][_0x3ca7ad(0x445)])?_0x58ba77['push']({'_id':_0x2ca5[_0x3ca7ad(0x17f)],'leadInfo':_0x2ca5[_0x3ca7ad(0x2bc)],'owner':this[_0x3ca7ad(0x647)][_0x3ca7ad(0x445)]}):_0x297fd0[_0x3ca7ad(0x5a4)]({'_id':_0x2ca5['_id'],'owner':this[_0x3ca7ad(0x647)][_0x3ca7ad(0x445)],'leadInfo':_0x2ca5[_0x3ca7ad(0x2bc)],'imported':!0x0});}return _0x58ba77[_0x3ca7ad(0x3cc)]>0x0&&await this[_0x3ca7ad(0x3e6)][_0x3ca7ad(0x2d6)]['updateMany'](_0x58ba77['map'](_0x7e702c=>({'query':{'where':{'_id':_0x7e702c[_0x3ca7ad(0x17f)],'owner':this['instance'][_0x3ca7ad(0x445)]}},'update':_0x7e702c}))),_0x297fd0[_0x3ca7ad(0x3cc)]>0x0&&await this['repository'][_0x3ca7ad(0x2d6)][_0x3ca7ad(0x2d3)](_0x297fd0,this['instance'][_0x3ca7ad(0x445)]),{'updated':_0x58ba77[_0x3ca7ad(0x3cc)],'inserted':_0x297fd0[_0x3ca7ad(0x3cc)]};}catch(_0x29eb37){throw console[_0x3ca7ad(0x30f)](_0x3ca7ad(0x528),_0x29eb37),_0x29eb37;}}async['importChats'](_0x4fb5a0){const _0x110894=a0_0x22ca5b;try{if(!Array['isArray'](_0x4fb5a0)||_0x4fb5a0[_0x110894(0x3cc)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x49bbc5=0x64,_0x36a72e=0x0;for(let _0x1285fe=0x0;_0x1285fe<_0x4fb5a0[_0x110894(0x3cc)];_0x1285fe+=_0x49bbc5){let _0x5c8219=_0x4fb5a0[_0x110894(0x769)](_0x1285fe,_0x1285fe+_0x49bbc5),{updated:_0x4fb878}=await this[_0x110894(0x6a2)](_0x5c8219);_0x36a72e+=_0x4fb878;}return{'updated':_0x36a72e};}catch(_0x58db71){throw console[_0x110894(0x30f)](_0x110894(0x528),_0x58db71),_0x58db71;}}async[a0_0x22ca5b(0x6a2)](_0xde523){const _0x50fd04=a0_0x22ca5b;try{let _0x4b15b8=await this['repository'][_0x50fd04(0x72f)][_0x50fd04(0x75e)]({'where':{}},this['instance'][_0x50fd04(0x445)]),_0xfeaf46=new Set(_0x4b15b8[_0x50fd04(0x4fd)](_0x5f03c3=>_0x5f03c3[_0x50fd04(0x17f)])),_0x420b39=[],_0x8db014=[];for(let _0x306070 of _0xde523){if(!_0x306070[_0x50fd04(0x17f)])continue;_0x306070[_0x50fd04(0x17f)]=this[_0x50fd04(0x1ca)](_0x306070[_0x50fd04(0x17f)]);let _0x1afbe8=await this[_0x50fd04(0x3e6)][_0x50fd04(0x2d6)]['findOne']({'where':{'_id':_0x306070[_0x50fd04(0x17f)]}},this[_0x50fd04(0x647)][_0x50fd04(0x445)]),_0x491ddf={};if(Object[_0x50fd04(0x4fe)](_0x306070[_0x50fd04(0x2bc)])[_0x50fd04(0x6d9)](([_0x48f2a6,_0x5d9898])=>{const _0xcc57b2=_0x50fd04;_0x491ddf[_0xcc57b2(0x241)+_0x48f2a6]=_0x5d9898;}),_0x1afbe8&&!_0x1afbe8['imported']){let _0xfeb092=(_0x306070['leadInfo']['etiquetas']||[])[_0x50fd04(0x771)](_0x3da92e=>_0xfeaf46[_0x50fd04(0x76c)](_0x3da92e)),_0x3917de=new Set(_0x1afbe8[_0x50fd04(0x2bc)][_0x50fd04(0x289)]||[]),_0x48550a=_0xfeb092[_0x50fd04(0x771)](_0x3948f1=>!_0x3917de[_0x50fd04(0x76c)](_0x3948f1)),_0xc28f4d=[..._0x3917de][_0x50fd04(0x771)](_0xedb0da=>!_0xfeb092['includes'](_0xedb0da));_0x8db014[_0x50fd04(0x5a4)](..._0x48550a[_0x50fd04(0x4fd)](_0x24290e=>this[_0x50fd04(0x624)](_0x24290e,_0x306070[_0x50fd04(0x17f)]))),_0x8db014[_0x50fd04(0x5a4)](..._0xc28f4d[_0x50fd04(0x4fd)](_0x4e966b=>this[_0x50fd04(0x608)](_0x4e966b,_0x306070[_0x50fd04(0x17f)]))),_0x306070[_0x50fd04(0x2bc)][_0x50fd04(0x289)]=_0xfeb092,_0x420b39[_0x50fd04(0x5a4)]({'query':{'where':{'_id':_0x306070['_id'],'owner':this[_0x50fd04(0x647)]['wuid']}},'update':_0x491ddf});}else _0x491ddf[_0x50fd04(0x644)]=!0x0,_0x420b39[_0x50fd04(0x5a4)]({'query':{'where':{'_id':_0x306070[_0x50fd04(0x17f)],'owner':this[_0x50fd04(0x647)]['wuid']}},'update':_0x491ddf});}let _0x281fad=await this[_0x50fd04(0x3e6)][_0x50fd04(0x2d6)][_0x50fd04(0x1e9)](_0x420b39);return await Promise['all'](_0x8db014),{'updated':_0x281fad};}catch(_0x454597){throw console['error']('Erro\x20ao\x20importar\x20chats:',_0x454597),_0x454597;}}async[a0_0x22ca5b(0x569)](){const _0x4f71e6=a0_0x22ca5b;return await this[_0x4f71e6(0x42e)]['fetchPrivacySettings']();}async[a0_0x22ca5b(0x25f)](_0x27c0f7){const _0x50e110=a0_0x22ca5b;try{return await this['client'][_0x50e110(0x2f8)](_0x27c0f7[_0x50e110(0x7a0)]['readreceipts']),await this['client'][_0x50e110(0x30a)](_0x27c0f7[_0x50e110(0x7a0)][_0x50e110(0x2fe)]),await this['client'][_0x50e110(0x5f3)](_0x27c0f7[_0x50e110(0x7a0)]['status']),await this[_0x50e110(0x42e)][_0x50e110(0x45e)](_0x27c0f7['privacySettings'][_0x50e110(0x75d)]),await this[_0x50e110(0x42e)][_0x50e110(0x202)](_0x27c0f7[_0x50e110(0x7a0)][_0x50e110(0x596)]),await this['client'][_0x50e110(0x264)](_0x27c0f7['privacySettings'][_0x50e110(0x3e1)]),this[_0x50e110(0x42e)]?.['ws']?.[_0x50e110(0x382)](),{'update':_0x50e110(0x377),'data':{'readreceipts':_0x27c0f7[_0x50e110(0x7a0)]['readreceipts'],'profile':_0x27c0f7['privacySettings']['profile'],'status':_0x27c0f7[_0x50e110(0x7a0)][_0x50e110(0x167)],'online':_0x27c0f7['privacySettings']['online'],'last':_0x27c0f7['privacySettings']['last'],'groupadd':_0x27c0f7[_0x50e110(0x7a0)][_0x50e110(0x3e1)]}};}catch(_0xcb8fdc){throw new I(_0x50e110(0x3ed),_0xcb8fdc[_0x50e110(0x4b6)]());}}async[a0_0x22ca5b(0x3d2)](_0xd0d354){const _0x5491a8=a0_0x22ca5b;let _0x25fd0d=_0xd0d354?this[_0x5491a8(0x1ca)](_0xd0d354):this[_0x5491a8(0x42e)]?.[_0x5491a8(0x6fd)]?.['id'];this[_0x5491a8(0x31f)][_0x5491a8(0x1c4)](_0x5491a8(0x3f1)+_0x25fd0d);try{if(this[_0x5491a8(0x31f)]['verbose'](_0x5491a8(0x668)),_0xd0d354){let _0x4d098f=(await this[_0x5491a8(0x1d1)]({'numbers':[_0x25fd0d]}))?.[_0x5491a8(0x30c)](),_0x3792b5=await this[_0x5491a8(0x1f4)](_0x4d098f?.[_0x5491a8(0x436)]),_0x4ef609=await this['getStatus'](_0x4d098f?.['jid']),_0x2c7dff=await this[_0x5491a8(0x2cb)](_0x4d098f?.[_0x5491a8(0x436)]);return{'wuid':_0x4d098f?.[_0x5491a8(0x436)]||_0x25fd0d,'name':_0x4d098f?.['name'],'numberExists':_0x4d098f?.[_0x5491a8(0x1eb)],'picture':_0x3792b5?.['profilePictureUrl'],'status':_0x4ef609?.[_0x5491a8(0x167)],'isBusiness':_0x2c7dff['isBusiness'],'email':_0x2c7dff?.[_0x5491a8(0x305)],'description':_0x2c7dff?.[_0x5491a8(0x1dc)],'website':_0x2c7dff?.[_0x5491a8(0x2f0)]?.[_0x5491a8(0x30c)]()};}}catch{return this[_0x5491a8(0x31f)][_0x5491a8(0x1c4)]('Profile\x20not\x20found'),{'wuid':_0x25fd0d,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x22ca5b(0x589)](_0x163a27){const _0x21ea14=a0_0x22ca5b;let _0x2815de=(_0x163a27?this[_0x21ea14(0x1ca)](_0x163a27):this[_0x21ea14(0x42e)]?.[_0x21ea14(0x6fd)]?.['id'])[_0x21ea14(0x748)](/:\d{1,2}@/g,'@');this['logger'][_0x21ea14(0x1c4)](_0x21ea14(0x602)+_0x2815de);let _0xc7f8bb=await this[_0x21ea14(0x3e6)][_0x21ea14(0x33e)][_0x21ea14(0x3c6)]({'where':{'_id':_0x2815de}},this[_0x21ea14(0x647)][_0x21ea14(0x445)]),_0x32e636=_0xc7f8bb?_0xc7f8bb['pushName']:null;try{let _0x4cae2e=(await this[_0x21ea14(0x1d1)]({'numbers':[_0x2815de]}))?.['shift'](),_0x5793cb=await this[_0x21ea14(0x1f4)](_0x4cae2e?.['jid']),_0x55670a=await this['getStatus'](_0x4cae2e?.['jid']),_0x11d6a7=await this[_0x21ea14(0x2cb)](_0x4cae2e?.[_0x21ea14(0x436)]),_0x37f4d0=await this[_0x21ea14(0x3e6)][_0x21ea14(0x2d6)]['findOne']({'where':{'_id':_0x2815de}},this['instance'][_0x21ea14(0x445)]),_0x2b46db={'imagechat':_0x5793cb?.[_0x21ea14(0x5ec)],'contactname':_0x32e636||null,'status':_0x55670a?.['status'],'isBusiness':_0x11d6a7[_0x21ea14(0x417)],'email':_0x11d6a7?.['email'],'description':_0x11d6a7?.['description'],'website':_0x11d6a7?.['website']?.[_0x21ea14(0x30c)](),'lastcache':Date[_0x21ea14(0x37f)](),'imported':!_0x37f4d0},_0x405804=await this[_0x21ea14(0x3e6)][_0x21ea14(0x2d6)]['updateOne']({'where':{'_id':_0x2815de}},_0x2b46db,this[_0x21ea14(0x647)]['wuid']),_0x1b93b8={'owner':this[_0x21ea14(0x647)]['wuid'],'_id':_0x2815de,'profilePictureUrl':_0x5793cb?.[_0x21ea14(0x5ec)],'status':_0x55670a?.['status']};return this[_0x21ea14(0x3e6)]['contact'][_0x21ea14(0x76a)]([_0x1b93b8],this[_0x21ea14(0x647)][_0x21ea14(0x445)]),_0x405804&&q(this['instanceName'],_0x21ea14(0x1f6),{'chat':_0x405804}),{'wuid':_0x4cae2e?.['jid']||_0x2815de,'name':_0x4cae2e?.[_0x21ea14(0x5cf)],'numberExists':_0x4cae2e?.[_0x21ea14(0x1eb)],'picture':_0x5793cb?.[_0x21ea14(0x5ec)],'status':_0x55670a?.[_0x21ea14(0x167)],'isBusiness':_0x11d6a7[_0x21ea14(0x417)],'email':_0x11d6a7?.[_0x21ea14(0x305)],'description':_0x11d6a7?.[_0x21ea14(0x1dc)],'website':_0x11d6a7?.['website']?.[_0x21ea14(0x30c)]()};}catch(_0x42c796){return this[_0x21ea14(0x31f)]['error'](_0x21ea14(0x1f1)+(_0x42c796 instanceof Error?_0x42c796['message']:JSON[_0x21ea14(0x3e3)](_0x42c796,null,0x2))),{};}}async[a0_0x22ca5b(0x2cb)](_0x5d2aaf){const _0x120e58=a0_0x22ca5b;this[_0x120e58(0x31f)][_0x120e58(0x1c4)](_0x120e58(0x19b));try{let _0x3069b8=_0x5d2aaf?this[_0x120e58(0x1ca)](_0x5d2aaf):this['instance'][_0x120e58(0x445)],_0x4862cf=await this['client']['getBusinessProfile'](_0x3069b8);return this['logger']['verbose'](_0x120e58(0x57a)),_0x4862cf?(this[_0x120e58(0x31f)][_0x120e58(0x1c4)](_0x120e58(0x44f)),{'isBusiness':!0x0,..._0x4862cf}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this['whatsappNumber']({'numbers':[_0x3069b8]}))?.[_0x120e58(0x30c)]()};}catch(_0x57a109){throw new I('Error\x20updating\x20profile\x20name',_0x57a109[_0x120e58(0x4b6)]());}}async[a0_0x22ca5b(0x6da)](_0x1aa113){const _0x23fd09=a0_0x22ca5b;let _0x243d0f=this[_0x23fd09(0x1ca)](_0x1aa113);try{return{'wuid':_0x243d0f,'status':(await this[_0x23fd09(0x42e)][_0x23fd09(0x3bd)](_0x243d0f))?.[_0x23fd09(0x167)]};}catch{return{'wuid':_0x243d0f,'status':null};}}async[a0_0x22ca5b(0x468)](_0x569bd3){const _0x51c5f0=a0_0x22ca5b;try{return await this['client'][_0x51c5f0(0x468)](_0x569bd3),{'update':_0x51c5f0(0x377)};}catch(_0x310489){throw new I(_0x51c5f0(0x55e),_0x310489[_0x51c5f0(0x4b6)]());}}async[a0_0x22ca5b(0x419)](_0x3899e2){const _0x8fdf03=a0_0x22ca5b;try{return await this[_0x8fdf03(0x42e)][_0x8fdf03(0x419)](_0x3899e2),{'update':_0x8fdf03(0x377)};}catch(_0x5c9ed8){throw new I(_0x8fdf03(0x618),_0x5c9ed8[_0x8fdf03(0x4b6)]());}}async['updateProfilePicture'](_0x578947){const _0x2ac795=a0_0x22ca5b;try{let _0x49627e;if((0x0,$[_0x2ac795(0x7d6)])(_0x578947)){let _0x20c0c5=new Date()['getTime'](),_0x4a7d3d=_0x578947+'?timestamp='+_0x20c0c5;_0x49627e=(await te[_0x2ac795(0x5a3)][_0x2ac795(0x16d)](_0x4a7d3d,{'responseType':_0x2ac795(0x680)}))[_0x2ac795(0x434)];}else{if((0x0,$[_0x2ac795(0x474)])(_0x578947))_0x49627e=Buffer[_0x2ac795(0x610)](_0x578947,_0x2ac795(0x28a));else throw new f('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x2ac795(0x42e)][_0x2ac795(0x64f)](this[_0x2ac795(0x647)][_0x2ac795(0x445)],_0x49627e),{'update':_0x2ac795(0x377)};}catch(_0x1c528b){throw new I(_0x2ac795(0x2b4),_0x1c528b[_0x2ac795(0x4b6)]());}}async[a0_0x22ca5b(0x27a)](){const _0x367f3d=a0_0x22ca5b;try{return await this[_0x367f3d(0x42e)]['removeProfilePicture'](this[_0x367f3d(0x647)][_0x367f3d(0x445)]),{'update':_0x367f3d(0x377)};}catch(_0x49c861){throw new I(_0x367f3d(0x609),_0x49c861[_0x367f3d(0x4b6)]());}}async[a0_0x22ca5b(0x506)](_0x5d9509){const _0x225c9b=a0_0x22ca5b;try{let _0x461af1=_0x5d9509[_0x225c9b(0x43a)][_0x225c9b(0x4fd)](_0x2d3ab1=>this[_0x225c9b(0x1ca)](_0x2d3ab1)),{id:_0xb1e348}=await this[_0x225c9b(0x42e)]['groupCreate'](_0x5d9509[_0x225c9b(0x4af)],_0x461af1);return _0x5d9509?.[_0x225c9b(0x1dc)]&&await this[_0x225c9b(0x42e)][_0x225c9b(0x40f)](_0xb1e348,_0x5d9509[_0x225c9b(0x1dc)]),{'metadata':await this[_0x225c9b(0x42e)][_0x225c9b(0x5a0)](_0xb1e348)};}catch(_0x5165b5){throw this[_0x225c9b(0x31f)][_0x225c9b(0x30f)](this[_0x225c9b(0x60b)]+'\x20('+this[_0x225c9b(0x647)]['wuid']+'):\x20'+(_0x5165b5 instanceof Error?_0x5165b5['message']:JSON[_0x225c9b(0x3e3)](_0x5165b5,null,0x2))),new I(_0x225c9b(0x761),_0x5165b5[_0x225c9b(0x4b6)]());}}async[a0_0x22ca5b(0x3f5)](_0x34012b){const _0x29e222=a0_0x22ca5b;try{let _0x3a180a;if((0x0,$[_0x29e222(0x7d6)])(_0x34012b[_0x29e222(0x7f1)])){let _0x4f48e6=new Date()[_0x29e222(0x6fb)](),_0x4f6e69=_0x34012b[_0x29e222(0x7f1)]+'?timestamp='+_0x4f48e6;_0x3a180a=(await te['default'][_0x29e222(0x16d)](_0x4f6e69,{'responseType':_0x29e222(0x680)}))['data'];}else{if((0x0,$[_0x29e222(0x474)])(_0x34012b[_0x29e222(0x7f1)]))_0x3a180a=Buffer['from'](_0x34012b[_0x29e222(0x7f1)],'base64');else throw new f(_0x29e222(0x5e5));}return await this[_0x29e222(0x42e)][_0x29e222(0x64f)](_0x34012b['groupJid'],_0x3a180a),{'update':_0x29e222(0x377)};}catch(_0x6f5d27){throw new I('Error\x20update\x20group\x20picture',_0x6f5d27[_0x29e222(0x4b6)]());}}async['findGroup'](_0x1e24a1,_0x458d7b=a0_0x22ca5b(0x2be)){const _0x5513fd=a0_0x22ca5b;try{let _0x4529fd=await this[_0x5513fd(0x42e)]['groupMetadata'](_0x1e24a1[_0x5513fd(0x55a)]),_0x51a8c4=null;try{_0x51a8c4=(await this[_0x5513fd(0x1f4)](_0x1e24a1[_0x5513fd(0x55a)]))[_0x5513fd(0x5ec)];}catch(_0x2708a9){this[_0x5513fd(0x31f)][_0x5513fd(0x1c4)](this[_0x5513fd(0x60b)]+'\x20('+this[_0x5513fd(0x647)][_0x5513fd(0x445)]+_0x5513fd(0x20d)+_0x1e24a1[_0x5513fd(0x55a)]+':\x20'+(_0x2708a9 instanceof Error?_0x2708a9[_0x5513fd(0x36b)]:JSON[_0x5513fd(0x3e3)](_0x2708a9,null,0x2)));}let _0x3defba=await this['repository'][_0x5513fd(0x2d6)][_0x5513fd(0x6f3)]({'where':{'_id':_0x1e24a1[_0x5513fd(0x55a)]}},{'imagechat':_0x51a8c4,'name':_0x4529fd['subject'],'group_size':_0x4529fd['size'],'group_announce':_0x4529fd[_0x5513fd(0x513)],'lastcache':Date[_0x5513fd(0x37f)]()},this[_0x5513fd(0x647)]['wuid']);return _0x3defba&&q(this['instanceName'],_0x5513fd(0x1f6),{'chat':_0x3defba}),{'metadata':_0x4529fd,'image':_0x51a8c4};}catch(_0x25a6ea){if(_0x458d7b===_0x5513fd(0x592))return;throw new k(_0x5513fd(0x74f),_0x25a6ea[_0x5513fd(0x4b6)]());}}async['groupDesc'](_0x5d62a8){const _0x1a7b67=a0_0x22ca5b;try{return await this[_0x1a7b67(0x42e)]['groupUpdateDescription'](_0x5d62a8[_0x1a7b67(0x55a)],_0x5d62a8[_0x1a7b67(0x1dc)]),{'update':_0x1a7b67(0x377)};}catch(_0x25b750){throw new I('Error\x20change\x20group\x20description',_0x25b750[_0x1a7b67(0x4b6)]());}}async[a0_0x22ca5b(0x23b)](_0x2a2bc6){const _0x37dc86=a0_0x22ca5b;try{return await this[_0x37dc86(0x42e)][_0x37dc86(0x346)](_0x2a2bc6[_0x37dc86(0x55a)],_0x2a2bc6[_0x37dc86(0x5cf)]),{'update':_0x37dc86(0x377)};}catch(_0x542bf9){throw new I(_0x37dc86(0x7bb),_0x542bf9[_0x37dc86(0x4b6)]());}}async[a0_0x22ca5b(0x2da)](_0xd0f944){const _0x26ee10=a0_0x22ca5b;try{return await this[_0x26ee10(0x42e)]['groupSettingUpdate'](_0xd0f944[_0x26ee10(0x55a)],_0xd0f944[_0x26ee10(0x61c)]),{'update':_0x26ee10(0x377)};}catch(_0x44d1a9){throw new I(_0x26ee10(0x19d),_0x44d1a9[_0x26ee10(0x4b6)]());}}async[a0_0x22ca5b(0x354)](){const _0x3d33b8=a0_0x22ca5b;try{let _0x141079=[],_0x3c636b=await this[_0x3d33b8(0x42e)]['groupFetchAllParticipating'](),_0x31818d=Object['values'](_0x3c636b),_0x19d8ee=_0x31818d[_0x3d33b8(0x771)](_0x51c393=>(0x0,m[_0x3d33b8(0x1ff)])(_0x51c393?.['id']))[_0x3d33b8(0x4fd)](async _0x27f12f=>{const _0x5e0edf=_0x3d33b8;try{return await this[_0x5e0edf(0x42e)][_0x5e0edf(0x5ec)](_0x27f12f['id'],_0x5e0edf(0x685));}catch(_0x5b2033){return this['logger'][_0x5e0edf(0x1c4)](this[_0x5e0edf(0x60b)]+'\x20('+this['instance']['wuid']+_0x5e0edf(0x20d)+_0x27f12f['id']+':\x20'+(_0x5b2033 instanceof Error?_0x5b2033[_0x5e0edf(0x36b)]:JSON[_0x5e0edf(0x3e3)](_0x5b2033,null,0x2))),null;}}),_0x1894ed=await Promise[_0x3d33b8(0x745)](_0x19d8ee);for(let _0x328e80=0x0;_0x328e80<_0x31818d[_0x3d33b8(0x3cc)];_0x328e80++){let _0x38b3f0=_0x31818d[_0x328e80];(0x0,m[_0x3d33b8(0x1ff)])(_0x38b3f0?.['id'])&&_0x141079['push']({'groupJid':_0x38b3f0?.['id'],'subject':_0x38b3f0?.[_0x3d33b8(0x4af)],'subjectOwner':_0x38b3f0?.['subjectOwner']?.[_0x3d33b8(0x555)]('@')[0x0],'subjectTime':_0x38b3f0?.['subjectTime'],'size':_0x38b3f0?.[_0x3d33b8(0x43a)]?.[_0x3d33b8(0x3cc)],'owner':_0x38b3f0?.[_0x3d33b8(0x283)]?.[_0x3d33b8(0x555)]('@')[0x0],'creation':_0x38b3f0?.[_0x3d33b8(0x7e6)],'desc':_0x38b3f0?.['desc'],'restrict':_0x38b3f0?.[_0x3d33b8(0x5d6)],'announce':_0x38b3f0?.[_0x3d33b8(0x513)],'image':_0x1894ed[_0x328e80]});}return _0x141079;}catch(_0x58e92f){throw new k(_0x3d33b8(0x74f),_0x58e92f[_0x3d33b8(0x4b6)]());}}async[a0_0x22ca5b(0x369)](_0x18dd56){const _0x9af5a3=a0_0x22ca5b;try{let _0x415f46=await this['client'][_0x9af5a3(0x1fe)](_0x18dd56[_0x9af5a3(0x55a)]);return{'inviteUrl':'https://chat.whatsapp.com/'+_0x415f46,'inviteCode':_0x415f46};}catch(_0x1ab0e5){throw new k('No\x20invite\x20code',_0x1ab0e5[_0x9af5a3(0x4b6)]());}}async[a0_0x22ca5b(0x3bf)](_0x181a2e){const _0x284ad1=a0_0x22ca5b;try{let _0x3b2a63=await this[_0x284ad1(0x42e)][_0x284ad1(0x7ce)](_0x181a2e[_0x284ad1(0x55a)]);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x3b2a63,'inviteCode':_0x3b2a63};}catch(_0x4ac34e){throw new k(_0x284ad1(0x4f8),_0x4ac34e[_0x284ad1(0x4b6)]());}}async[a0_0x22ca5b(0x6a9)](_0x598016){const _0x3e3893=a0_0x22ca5b;try{if((0x0,$[_0x3e3893(0x7d6)])(_0x598016[_0x3e3893(0x369)]))var _0x385790=_0x598016['inviteCode'][_0x3e3893(0x555)]('/')[0x3];else var _0x385790=_0x598016[_0x3e3893(0x369)];let _0x5b820b=await this['client'][_0x3e3893(0x248)](_0x385790);return this[_0x3e3893(0x31f)][_0x3e3893(0x1c4)](this[_0x3e3893(0x60b)]+'\x20('+this[_0x3e3893(0x647)][_0x3e3893(0x445)]+'):\x20'+_0x5b820b),{'join':!0x0,'inviteCode':_0x385790,'groupJid':_0x5b820b};}catch(_0xb27cfc){throw new k(_0x3e3893(0x280),_0xb27cfc['toString']());}}async['findParticipants'](_0x30f649){const _0x5e3a20=a0_0x22ca5b;try{return{'participants':(await this[_0x5e3a20(0x42e)][_0x5e3a20(0x5a0)](_0x30f649[_0x5e3a20(0x55a)]))['participants']};}catch(_0x1c9325){throw new k(_0x5e3a20(0x3cf),_0x1c9325['toString']());}}async['updateGParticipant'](_0x2afa38){const _0x3e25f0=a0_0x22ca5b;try{let _0x5a2d2c=_0x2afa38[_0x3e25f0(0x43a)][_0x3e25f0(0x4fd)](_0x2405e6=>this['createJid'](_0x2405e6));return{'updateParticipants':await this[_0x3e25f0(0x42e)]['groupParticipantsUpdate'](_0x2afa38[_0x3e25f0(0x55a)],_0x5a2d2c,_0x2afa38[_0x3e25f0(0x353)])};}catch(_0x38ae5d){throw new f(_0x3e25f0(0x1c9),_0x38ae5d[_0x3e25f0(0x4b6)]());}}async[a0_0x22ca5b(0x475)](_0x3112f0){const _0x5b402c=a0_0x22ca5b;try{let _0x255693=await this[_0x5b402c(0x42e)]['groupToggleEphemeral'](_0x3112f0[_0x5b402c(0x55a)],_0x3112f0['expiration']);return{'success':!0x0};}catch(_0x59830b){throw new f('Error\x20updating\x20setting',_0x59830b[_0x5b402c(0x4b6)]());}}async['leaveGroup'](_0x1fcb64){const _0x50c74e=a0_0x22ca5b;try{return await this['client'][_0x50c74e(0x4dd)](_0x1fcb64[_0x50c74e(0x55a)]),{'groupJid':_0x1fcb64['groupJid'],'leave':!0x0};}catch(_0x614b2a){throw new f('Unable\x20to\x20leave\x20the\x20group',_0x614b2a[_0x50c74e(0x4b6)]());}}async[a0_0x22ca5b(0x564)](_0x54c077){const _0xa19419=a0_0x22ca5b;return await this[_0xa19419(0x770)](_0x54c077['number'],{'poll':{'name':_0x54c077[_0xa19419(0x564)]?.[_0xa19419(0x5cf)],'selectableCount':_0x54c077[_0xa19419(0x564)][_0xa19419(0x681)],'values':_0x54c077[_0xa19419(0x564)][_0xa19419(0x3b5)]}},_0x54c077?.[_0xa19419(0x2b9)]);}async['listMessage'](_0x302eb8){const _0x4c1cab=a0_0x22ca5b;return await this['sendMessageWithTyping'](_0x302eb8[_0x4c1cab(0x6d6)],{'listMessage':{'title':_0x302eb8[_0x4c1cab(0x4e6)][_0x4c1cab(0x33f)],'description':_0x302eb8[_0x4c1cab(0x4e6)][_0x4c1cab(0x1dc)],'buttonText':_0x302eb8[_0x4c1cab(0x4e6)]?.['buttonText'],'footerText':_0x302eb8[_0x4c1cab(0x4e6)]?.[_0x4c1cab(0x3b8)],'sections':_0x302eb8[_0x4c1cab(0x4e6)][_0x4c1cab(0x4b1)],'listType':0x2}},_0x302eb8?.[_0x4c1cab(0x2b9)]);}async[a0_0x22ca5b(0x4a1)](_0x35f601){const _0x5d29c9=a0_0x22ca5b;let _0x114ae2;if(_0x35f601[_0x5d29c9(0x4a1)]['type']==='list'){let _0x5686df=_0x35f601[_0x5d29c9(0x4a1)][_0x5d29c9(0x571)][_0x5d29c9(0x4b4)]('\x0a'),_0x12396f='',_0x46cf7b='';_0x5686df!==-0x1?(_0x12396f=_0x35f601[_0x5d29c9(0x4a1)][_0x5d29c9(0x571)][_0x5d29c9(0x480)](0x0,_0x5686df)['trim'](),_0x46cf7b=_0x35f601[_0x5d29c9(0x4a1)][_0x5d29c9(0x571)][_0x5d29c9(0x480)](_0x5686df+0x1)):_0x46cf7b=_0x35f601[_0x5d29c9(0x4a1)][_0x5d29c9(0x571)];let _0x5c9ca1=this['createSectionsFromValues'](_0x35f601[_0x5d29c9(0x4a1)][_0x5d29c9(0x659)]);_0x114ae2={'listMessage':{'title':_0x12396f,'description':_0x46cf7b,'buttonText':_0x35f601[_0x5d29c9(0x4a1)]['buttonText']||'Selecione','footerText':_0x35f601[_0x5d29c9(0x4a1)][_0x5d29c9(0x3b8)],'sections':_0x5c9ca1,'listType':0x2}};}else{if(_0x35f601[_0x5d29c9(0x4a1)][_0x5d29c9(0x56b)]===_0x5d29c9(0x67f)){let _0x4a2ee2=_0x35f601[_0x5d29c9(0x4a1)][_0x5d29c9(0x659)]['filter'](_0x2321c9=>!(_0x2321c9[_0x5d29c9(0x3a5)]('[')&&_0x2321c9[_0x5d29c9(0x35d)](']')))['map'](_0xa7865e=>_0xa7865e[_0x5d29c9(0x555)]('\x0a')[0x0]);_0x114ae2={'poll':{'name':_0x35f601['menuMessage'][_0x5d29c9(0x571)],'selectableCount':_0x35f601[_0x5d29c9(0x4a1)][_0x5d29c9(0x681)]||0x1,'values':_0x4a2ee2}};}}return await this[_0x5d29c9(0x770)](_0x35f601[_0x5d29c9(0x6d6)],_0x114ae2,_0x35f601?.[_0x5d29c9(0x2b9)]);}[a0_0x22ca5b(0x7da)](_0x575eba){const _0x3bd860=a0_0x22ca5b;let _0x38b213=[],_0x5f052d={'rows':[]};return _0x575eba[_0x3bd860(0x6d9)](_0x3fa0c3=>{const _0x25c5bb=_0x3bd860;if(_0x3fa0c3[_0x25c5bb(0x3a5)]('[')&&_0x3fa0c3['endsWith'](']'))_0x5f052d['rows'][_0x25c5bb(0x3cc)]>0x0&&_0x38b213[_0x25c5bb(0x5a4)](_0x5f052d),_0x5f052d={'title':_0x3fa0c3['slice'](0x1,-0x1),'rows':[]};else{let _0x41ccf5=_0x3fa0c3[_0x25c5bb(0x555)]('\x0a')[_0x25c5bb(0x4fd)](_0x7664a5=>_0x7664a5['trim']()),_0x3c582b=_0x41ccf5[0x0],_0x2d4619=_0x41ccf5[0x1]||null,_0x5c47be=_0x41ccf5[0x2]||_0x3c582b;_0x5f052d[_0x25c5bb(0x2e9)][_0x25c5bb(0x5a4)]({'title':_0x3c582b,'description':_0x2d4619,'rowId':_0x5c47be});}}),_0x5f052d[_0x3bd860(0x2e9)]['length']>0x0&&_0x38b213[_0x3bd860(0x5a4)](_0x5f052d),_0x38b213;}async[a0_0x22ca5b(0x7b5)](_0x2634d9,_0x33263a){const _0x583f2b=a0_0x22ca5b;if(await this['getMessage'](_0x2634d9,!0x0)){let _0x5ab32a={'where':{'_id':_0x2634d9['id']}},_0x186a74={'status':[_0x33263a['status']][0x0]};try{let _0xc3f63e=await this[_0x583f2b(0x3e6)]['message']['update'](_0x5ab32a,_0x186a74,this['instance']['wuid']);_0xc3f63e&&q(this['instanceName'],'messages',{'message':_0xc3f63e});}catch{}}}[a0_0x22ca5b(0x34d)](_0x7954d1){const _0x7ca0de=a0_0x22ca5b;let _0xdfc2c8=[];return _0x7954d1[_0x7ca0de(0x6d9)](_0xc7b118=>{const _0x15f7b3=_0x7ca0de;_0xc7b118['title']&&_0xdfc2c8[_0x15f7b3(0x5a4)]('['+_0xc7b118['title']+']'),_0xc7b118[_0x15f7b3(0x2e9)][_0x15f7b3(0x6d9)](_0x4f6f24=>{_0xdfc2c8['push'](_0x4f6f24['title']);});}),_0xdfc2c8[_0x7ca0de(0x2fb)]('|');}['formatVCard'](_0x56d21b){const _0x18e038=a0_0x22ca5b;let _0x2b4d88=_0x56d21b[_0x18e038(0x748)](/\\n/g,'\x0a')[_0x18e038(0x555)]('\x0a')['filter'](_0x5e9007=>_0x5e9007['includes']('TEL')||_0x5e9007[_0x18e038(0x567)]('EMAIL')),_0x560c90='';return _0x2b4d88[_0x18e038(0x6d9)](_0x5563f3=>{const _0xa88768=_0x18e038;let _0x124188=/TEL(?:.*):(.+)/,_0x417207=/EMAIL(?:.*):(.+)/,_0x5708ee=_0x5563f3[_0xa88768(0x78c)](_0x124188),_0x5cfe38=_0x5563f3[_0xa88768(0x78c)](_0x417207);if(_0x5708ee){let _0x396c21=_0x5708ee[0x1][_0xa88768(0x748)](/-| |\+|\(|\)/g,'')['trim']();_0x560c90+='Telefone:\x20'+_0x396c21+'\x0a';}else{if(_0x5cfe38){let _0x46ec78=_0x5cfe38[0x1][_0xa88768(0x44b)]();_0x560c90+='E-mail:\x20'+_0x46ec78+'\x0a';}}}),_0x560c90[_0x18e038(0x44b)]();}async['updateChatWithMessage'](_0x2da035,_0x47bc6a,_0x1793ab){const _0x3a7909=a0_0x22ca5b;if(!_0x2da035['ENABLED'])return;let _0x4cc1be=_0x47bc6a[_0x3a7909(0x3fc)][_0x3a7909(0x3a4)][_0x3a7909(0x748)](/:\d{1,2}@/g,'@'),_0x3af447=_0x47bc6a[_0x3a7909(0x3fc)]['fromMe'],_0x7e5c8e=_0x4cc1be[_0x3a7909(0x35d)](_0x3a7909(0x3f4)),_0xabc78f=_0x47bc6a[_0x3a7909(0x7ca)]?.['text']||_0x47bc6a[_0x3a7909(0x7ca)]?.[_0x3a7909(0x3a3)]||_0x47bc6a[_0x3a7909(0x7ca)]?.['vote']||_0x47bc6a[_0x3a7909(0x7ca)]?.[_0x3a7909(0x5cf)],_0x43137c={'lastmsg':_0x47bc6a[_0x3a7909(0x321)]||Date[_0x3a7909(0x37f)](),'unreadcount':_0x3af447?0x0:0x1,..._0x3af447||_0x7e5c8e?{}:{'name':_0x47bc6a['pushName']},..._0x7e5c8e?{'group':_0x7e5c8e}:{}},_0x2cd854=await this['repository'][_0x3a7909(0x2d6)][_0x3a7909(0x6f3)]({'where':{'_id':_0x4cc1be}},_0x43137c,this[_0x3a7909(0x647)][_0x3a7909(0x445)],{'new':!0x0,'upsert':!0x0});if(_0x2cd854[_0x3a7909(0x644)]){let _0x452ae3=await this[_0x3a7909(0x3e6)][_0x3a7909(0x72f)]['find']({'where':{}},this['instance']['wuid']),_0x4f843f=new Set(_0x452ae3[_0x3a7909(0x4fd)](_0x2dacd1=>_0x2dacd1[_0x3a7909(0x17f)])),_0x18feeb=(_0x2cd854[_0x3a7909(0x2bc)]?.[_0x3a7909(0x289)]||[])['filter'](_0x58733c=>_0x4f843f[_0x3a7909(0x76c)](_0x58733c)),_0x3dd8b9={'leadInfo.etiquetas':_0x18feeb,'imported':!0x1};_0x2cd854=await this[_0x3a7909(0x3e6)][_0x3a7909(0x2d6)][_0x3a7909(0x6f3)]({'where':{'_id':_0x4cc1be}},_0x3dd8b9,this[_0x3a7909(0x647)][_0x3a7909(0x445)]);for(let _0x5cb2e5 of _0x18feeb)await this[_0x3a7909(0x624)](_0x5cb2e5,_0x4cc1be);}if(!_0x7e5c8e&&(!_0x2cd854?.[_0x3a7909(0x2bc)]||!_0x2cd854[_0x3a7909(0x2bc)]['nome'])&&_0x47bc6a[_0x3a7909(0x454)]&&!_0x3af447&&(_0x2cd854=await this[_0x3a7909(0x3e6)][_0x3a7909(0x2d6)][_0x3a7909(0x6f3)]({'where':{'_id':_0x4cc1be}},{'leadInfo.nome':_0x47bc6a['pushName']},this['instance'][_0x3a7909(0x445)],{'new':!0x0,'upsert':!0x0})),_0x1793ab===_0x3a7909(0x2b2)&&_0x3af447&&this[_0x3a7909(0x736)]?.['flowConfig'][_0x3a7909(0x68d)]&&!_0xabc78f[_0x3a7909(0x3a5)](this[_0x3a7909(0x736)]?.[_0x3a7909(0x2fa)][_0x3a7909(0x36e)])){let _0x561072=(this[_0x3a7909(0x736)]?.[_0x3a7909(0x2fa)][_0x3a7909(0x797)]||0x5)*0xea60,_0x51676f=Date[_0x3a7909(0x37f)]()+_0x561072;_0x2cd854?.[_0x3a7909(0x2bc)]?.[_0x3a7909(0x601)]===0x0||(await this['repository'][_0x3a7909(0x2d6)][_0x3a7909(0x6f3)]({'where':{'_id':_0x4cc1be}},{'leadInfo.desativadoFluxoAte':_0x51676f},this['instance'][_0x3a7909(0x445)],{'new':!0x0,'upsert':!0x1}),this[_0x3a7909(0x31f)]['verbose'](this[_0x3a7909(0x60b)]+'\x20('+this[_0x3a7909(0x647)][_0x3a7909(0x445)]+_0x3a7909(0x399)+_0x51676f+'.'));}if(_0x2cd854)q(this[_0x3a7909(0x60b)],'chats',{'chat':_0x2cd854});else{this[_0x3a7909(0x31f)]['error'](this[_0x3a7909(0x60b)]+'\x20('+this['instance'][_0x3a7909(0x445)]+_0x3a7909(0x7af));return;}if(!this[_0x3a7909(0x736)]?.[_0x3a7909(0x2fa)][_0x3a7909(0x68d)])return this[_0x3a7909(0x31f)][_0x3a7909(0x1c4)](this[_0x3a7909(0x60b)]+'\x20('+this[_0x3a7909(0x647)][_0x3a7909(0x445)]+_0x3a7909(0x67e)),null;if(_0x2cd854[_0x3a7909(0x17f)][_0x3a7909(0x567)](_0x3a7909(0x3f4))&&this[_0x3a7909(0x736)]?.['flowConfig'][_0x3a7909(0x1ed)]===!0x0)return this[_0x3a7909(0x31f)][_0x3a7909(0x1c4)](this['instanceName']+'\x20('+this[_0x3a7909(0x647)][_0x3a7909(0x445)]+_0x3a7909(0x384)),null;if(_0x2cd854[_0x3a7909(0x2bc)]){if(_0x2cd854[_0x3a7909(0x2bc)][_0x3a7909(0x601)]===0x0||_0x2cd854[_0x3a7909(0x2bc)][_0x3a7909(0x5c2)])return this[_0x3a7909(0x31f)][_0x3a7909(0x1c4)](this[_0x3a7909(0x60b)]+'\x20('+this[_0x3a7909(0x647)][_0x3a7909(0x445)]+_0x3a7909(0x777)+_0x4cc1be+',\x20saindo.'),null;if(_0x2cd854['leadInfo'][_0x3a7909(0x601)]>Date[_0x3a7909(0x37f)]()&&!_0x47bc6a[_0x3a7909(0x7ca)]?.[_0x3a7909(0x768)])return this[_0x3a7909(0x31f)][_0x3a7909(0x1c4)](this[_0x3a7909(0x60b)]+'\x20('+this[_0x3a7909(0x647)]['wuid']+_0x3a7909(0x7d9)+new Date(_0x2cd854['leadInfo'][_0x3a7909(0x601)])[_0x3a7909(0x7dc)]()+_0x3a7909(0x575)),null;}this[_0x3a7909(0x31f)][_0x3a7909(0x1c4)](this[_0x3a7909(0x60b)]+'\x20('+this[_0x3a7909(0x647)][_0x3a7909(0x445)]+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this['StartBot'](_0x1793ab,_0x47bc6a);}async[a0_0x22ca5b(0x6a6)](_0xc9df55,_0x34df30){const _0x43e0fc=a0_0x22ca5b;if(_0x34df30[_0x43e0fc(0x729)]){let _0x1c101f=_0xc9df55['map'](async _0x3bcd2a=>{const _0x284253=_0x43e0fc;try{let _0x5588da={'_id':_0x3bcd2a[_0x284253(0x17f)],'owner':_0x3bcd2a[_0x284253(0x283)],'lastcache':0x0};if(_0x3bcd2a['group']!==null&&(_0x5588da[_0x284253(0x714)]=_0x3bcd2a[_0x284253(0x714)]),_0x3bcd2a[_0x284253(0x5cf)]!==null&&(_0x5588da['name']=_0x3bcd2a[_0x284253(0x5cf)]),_0x3bcd2a[_0x284253(0x2cf)]!==null&&(_0x5588da[_0x284253(0x2cf)]=_0x3bcd2a[_0x284253(0x2cf)]),_0x3bcd2a[_0x284253(0x3a6)]!==null&&(_0x5588da['imagechat']=_0x3bcd2a[_0x284253(0x3a6)]),_0x3bcd2a['imagechat']===null&&(_0x5588da[_0x284253(0x3a6)]=_0x284253(0x7a9)),_0x3bcd2a[_0x284253(0x35b)]!==null&&(_0x5588da['lastmsg']=_0x3bcd2a[_0x284253(0x35b)]),_0x3bcd2a[_0x284253(0x2d4)]!==null&&(_0x5588da[_0x284253(0x2d4)]=_0x3bcd2a[_0x284253(0x2d4)]),_0x3bcd2a[_0x284253(0x53a)]!==null&&(_0x5588da[_0x284253(0x53a)]=_0x3bcd2a[_0x284253(0x53a)]),Object['keys'](_0x5588da)['length']>0x0)return await this['repository'][_0x284253(0x2d6)][_0x284253(0x6f3)]({'where':{'_id':_0x3bcd2a['_id']}},_0x5588da,this[_0x284253(0x647)][_0x284253(0x445)]);}catch(_0x3eebe8){return console[_0x284253(0x30f)](_0x284253(0x2c7)+_0x3bcd2a[_0x284253(0x17f)]+':',_0x3eebe8),null;}}),_0xa37059=(await Promise[_0x43e0fc(0x745)](_0x1c101f))['filter'](_0x3a6199=>_0x3a6199!==null)[_0x43e0fc(0x3cc)];this[_0x43e0fc(0x31f)][_0x43e0fc(0x1c4)](this[_0x43e0fc(0x60b)]+'\x20('+this[_0x43e0fc(0x647)][_0x43e0fc(0x445)]+_0x43e0fc(0x424)+_0xa37059+_0x43e0fc(0x371)+this[_0x43e0fc(0x647)][_0x43e0fc(0x445)]+_0x43e0fc(0x495));}}async[a0_0x22ca5b(0x46a)](_0x4dc5c2){const _0x3088f1=a0_0x22ca5b;this[_0x3088f1(0x31f)][_0x3088f1(0x1c4)](this['instanceName']+'\x20('+this[_0x3088f1(0x647)][_0x3088f1(0x445)]+_0x3088f1(0x1be));let _0x49ec53={'readMessages':[{'remoteJid':_0x4dc5c2['chatLog']['lastReceivedMessage'][_0x3088f1(0x3fc)][_0x3088f1(0x3a4)],'fromMe':_0x4dc5c2['chatLog'][_0x3088f1(0x40e)][_0x3088f1(0x3fc)][_0x3088f1(0x3b2)],'id':_0x4dc5c2[_0x3088f1(0x6b4)][_0x3088f1(0x40e)]['key']['id']}]};await this[_0x3088f1(0x68b)](_0x49ec53);}async['StartBot'](_0x4b7c7f,_0x2abbaa){const _0x417201=a0_0x22ca5b;try{let {key:_0x4f16f1,message_normalized:_0xacc577}=_0x2abbaa,_0x33b847=_0xacc577,_0x431a44=_0xacc577['text']||_0xacc577['caption']||_0xacc577[_0x417201(0x768)]||_0xacc577[_0x417201(0x5cf)],_0x322f5c=_0x4f16f1[_0x417201(0x3a4)],_0x246f17;if(_0x33b847[_0x417201(0x3fc)]['fromMe']&&_0x431a44[_0x417201(0x44b)]()!==this['AutomateSystem']?.['flowConfig'][_0x417201(0x1ef)][_0x417201(0x44b)]())return this['logger'][_0x417201(0x1c4)](this[_0x417201(0x60b)]+'\x20('+this['instance'][_0x417201(0x445)]+_0x417201(0x2e1)),null;if(_0x33b847[_0x417201(0x3fc)][_0x417201(0x3b2)]&&_0x431a44[_0x417201(0x44b)]()===this['AutomateSystem']?.[_0x417201(0x2fa)]['stopConversation'][_0x417201(0x44b)]()){this[_0x417201(0x31f)]['verbose'](this[_0x417201(0x60b)]+'\x20('+this['instance'][_0x417201(0x445)]+_0x417201(0x7e0));let _0x155eee=await this[_0x417201(0x3e6)][_0x417201(0x5ab)][_0x417201(0x75e)]({'remoteJid':_0x322f5c,'status':_0x417201(0x50b)},this[_0x417201(0x647)][_0x417201(0x445)]);this[_0x417201(0x31f)][_0x417201(0x1c4)](this[_0x417201(0x60b)]+'\x20('+this[_0x417201(0x647)]['wuid']+_0x417201(0x17d)+_0x155eee);let _0x45fbfe=Date['now'](),_0x2f12cb;return this[_0x417201(0x736)]?.[_0x417201(0x2fa)][_0x417201(0x4d7)]===0x0?_0x2f12cb={'stoppedUntil':_0x45fbfe+0x7591f6200}:_0x2f12cb={'stoppedUntil':_0x45fbfe+this[_0x417201(0x736)]?.[_0x417201(0x2fa)][_0x417201(0x4d7)]*0x3c*0x3e8},this[_0x417201(0x31f)][_0x417201(0x1c4)](this[_0x417201(0x60b)]+'\x20('+this[_0x417201(0x647)][_0x417201(0x445)]+'):\x20Campos\x20a\x20serem\x20atualizados:'+_0x2f12cb),this[_0x417201(0x583)](_0x246f17,_0x2f12cb['stoppedUntil']),null;}if(_0x431a44&&_0x431a44[_0x417201(0x3a5)](this[_0x417201(0x736)]?.[_0x417201(0x2fa)][_0x417201(0x36e)])&&_0x431a44[_0x417201(0x3cc)]>0x4){let _0x19cd0e=await this[_0x417201(0x3e6)][_0x417201(0x1fb)][_0x417201(0x3c6)]({'where':{'startCommandWord':_0x431a44}},this['instance']['wuid']);if(this[_0x417201(0x31f)]['verbose'](this[_0x417201(0x60b)]+'\x20('+this[_0x417201(0x647)][_0x417201(0x445)]+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x19cd0e)_0x246f17=await this[_0x417201(0x6fc)](_0x19cd0e,_0x33b847['key'],_0x33b847);else return this[_0x417201(0x31f)][_0x417201(0x1c4)](this['instanceName']+'\x20('+this[_0x417201(0x647)]['wuid']+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand'),null;}else _0x246f17=await this[_0x417201(0x6e1)](_0x322f5c,_0x33b847);if(_0x246f17){this[_0x417201(0x31f)][_0x417201(0x1c4)](this[_0x417201(0x60b)]+'\x20('+this[_0x417201(0x647)][_0x417201(0x445)]+_0x417201(0x414)),!_0x4f16f1[_0x417201(0x3b2)]&&_0x246f17[_0x417201(0x2e4)]&&this[_0x417201(0x46a)](_0x246f17);let _0x1b50bf=await this[_0x417201(0x549)](_0x246f17);_0x1b50bf&&await this[_0x417201(0x723)](_0x246f17,_0x1b50bf);}}catch(_0xff3184){this[_0x417201(0x31f)][_0x417201(0x30f)](this[_0x417201(0x60b)]+'\x20('+this['instance'][_0x417201(0x445)]+_0x417201(0x79a)+(_0xff3184 instanceof Error?_0xff3184[_0x417201(0x36b)]:JSON['stringify'](_0xff3184,null,0x2)));}}[a0_0x22ca5b(0x5eb)](_0x117e0d,_0x2f8708='',_0x471e31={},_0x453c42=!0x0){for(let _0x5003b2 in _0x117e0d){let _0x174379=_0x453c42?'_'+_0x5003b2:''+_0x2f8708+_0x5003b2;typeof _0x117e0d[_0x5003b2]=='object'&&_0x117e0d[_0x5003b2]!==null?this['flattenObject'](_0x117e0d[_0x5003b2],_0x174379+'.',_0x471e31,!0x1):_0x471e31[_0x174379]=String(_0x117e0d[_0x5003b2]);}return _0x471e31;}[a0_0x22ca5b(0x556)](_0x50d146){const _0x561d0e=a0_0x22ca5b;let _0xa9b44a={};for(let _0x39ca32 of _0x50d146)typeof _0x39ca32['name']==_0x561d0e(0x54d)&&typeof _0x39ca32[_0x561d0e(0x3bc)]==_0x561d0e(0x54d)&&(_0xa9b44a[_0x39ca32[_0x561d0e(0x5cf)]]=_0x39ca32[_0x561d0e(0x3bc)]);return _0xa9b44a;}async[a0_0x22ca5b(0x549)](_0x1fb814){const _0x366a29=a0_0x22ca5b;if(!this[_0x366a29(0x736)]?.[_0x366a29(0x2fa)][_0x366a29(0x68d)]||_0x1fb814[_0x366a29(0x167)]!==_0x366a29(0x50b)&&_0x1fb814[_0x366a29(0x711)]==='')return null;let _0x57118c=_0x1fb814[_0x366a29(0x6b4)][_0x366a29(0x600)]||_0x366a29(0x49f);typeof _0x1fb814['chatLog']['lastCondition']>'u'&&(_0x1fb814[_0x366a29(0x6b4)][_0x366a29(0x562)]=!0x0);let _0x2df3bb=_0x1fb814[_0x366a29(0x6b4)][_0x366a29(0x562)];this[_0x366a29(0x31f)][_0x366a29(0x1c4)](this[_0x366a29(0x60b)]+'\x20('+this[_0x366a29(0x647)][_0x366a29(0x445)]+_0x366a29(0x6fa)+_0x57118c+_0x366a29(0x16e)+_0x2df3bb);let _0x4c2c8c=_0x57118c===_0x366a29(0x49f)?_0x1fb814[_0x366a29(0x29b)][_0x366a29(0x75e)](_0x19e9c4=>_0x19e9c4['type']===_0x366a29(0x49f)):_0x1fb814['blocks']['find'](_0x553591=>_0x553591[_0x366a29(0x17f)][_0x366a29(0x4b6)]()===_0x57118c[_0x366a29(0x4b6)]());if(!_0x4c2c8c)return this[_0x366a29(0x31f)][_0x366a29(0x30f)](this[_0x366a29(0x60b)]+'\x20('+this['instance'][_0x366a29(0x445)]+_0x366a29(0x2b3)+_0x57118c),null;let _0x10bc84={'_pushName':_0x1fb814['chatLog'][_0x366a29(0x40e)]['pushName'],..._0x1fb814[_0x366a29(0x6b4)][_0x366a29(0x3d4)]},_0x53b1be=null;if(_0x1fb814[_0x366a29(0x711)]){let _0x1b20fd=_0x1fb814[_0x366a29(0x6b4)][_0x366a29(0x40e)][_0x366a29(0x768)],_0x17f596=_0x1fb814['waitingMenu_replyOptions']['find'](_0x41f848=>_0x41f848[_0x366a29(0x79c)]===_0x1b20fd);if(_0x17f596){let _0x26fc77=_0x17f596['next_groupId'];if(_0x53b1be=_0x1fb814[_0x366a29(0x29b)]['find'](_0x5ba672=>_0x5ba672['groupId']===_0x26fc77&&_0x5ba672[_0x366a29(0x2a1)]===0x1),_0x4c2c8c[_0x366a29(0x21f)][_0x366a29(0x4b3)]){let _0x1e6dc3={'id':_0x1fb814[_0x366a29(0x711)],'remoteJid':_0x1fb814['remoteJid'],'fromMe':!0x0};await this[_0x366a29(0x7ef)](_0x1e6dc3);}if(_0x4c2c8c[_0x366a29(0x21f)][_0x366a29(0x4b3)]&&_0x4c2c8c['uazapi'][_0x366a29(0x3a8)]&&_0x4c2c8c['uazapi'][_0x366a29(0x402)]===_0x366a29(0x67f)){let _0x5efa41={'number':_0x1fb814['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x1fb814['waitingMenu_text']+_0x366a29(0x5d1)+_0x1b20fd}};await this[_0x366a29(0x7ea)](_0x5efa41);}_0x1fb814['status']=_0x366a29(0x50b),_0x1fb814[_0x366a29(0x711)]='',_0x1fb814[_0x366a29(0x6e6)]='',_0x1fb814[_0x366a29(0x691)]=[];}else{this[_0x366a29(0x31f)]['verbose'](this['instanceName']+'\x20('+this[_0x366a29(0x647)][_0x366a29(0x445)]+_0x366a29(0x4ee));let _0x17ce55={'activatedCount':_0x1fb814[_0x366a29(0x6b4)][_0x366a29(0x626)][_0x366a29(0x771)](_0x1b4a26=>String(_0x1b4a26[_0x366a29(0x404)])===String(_0x57118c))['length'],'moreLogs':[_0x366a29(0x482)]};if(_0x4c2c8c[_0x366a29(0x21f)]['pollErrorMessage']){let _0x318fa7={'number':_0x1fb814['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x4c2c8c[_0x366a29(0x21f)]['pollErrorMessage']}};await this[_0x366a29(0x7ea)](_0x318fa7);}if(_0x4c2c8c[_0x366a29(0x180)]!==void 0x0&&_0x17ce55['activatedCount']>=_0x4c2c8c[_0x366a29(0x180)]){let _0x2c234f=Date[_0x366a29(0x37f)](),_0x1cc2d3=_0x4c2c8c[_0x366a29(0x5a2)]??0xa;isNaN(_0x1cc2d3)&&(_0x1cc2d3=0xa);let _0x4a4b01=_0x2c234f+_0x1cc2d3*0x3c*0x3e8;_0x17ce55[_0x366a29(0x1b0)]=_0x4a4b01,_0x17ce55[_0x366a29(0x697)][_0x366a29(0x5a4)](_0x366a29(0x413)),this[_0x366a29(0x583)](_0x1fb814,_0x4a4b01),_0x1fb814[_0x366a29(0x711)]='',_0x1fb814[_0x366a29(0x6e6)]='',_0x1fb814[_0x366a29(0x691)]=[];}return this[_0x366a29(0x441)](_0x1fb814,_0x4c2c8c,_0x17ce55,!0x0),null;}}if(_0x2df3bb&&_0x4c2c8c['next_groupId']&&!_0x1fb814[_0x366a29(0x711)]){let _0x454029=_0x1fb814['blocks'][_0x366a29(0x771)](_0x5e5cbc=>_0x5e5cbc[_0x366a29(0x1a0)]['toString']()===_0x4c2c8c[_0x366a29(0x39e)][_0x366a29(0x4b6)]())[_0x366a29(0x1c1)]((_0x722dba,_0x1c40ba)=>_0x722dba[_0x366a29(0x2a1)]-_0x1c40ba[_0x366a29(0x2a1)]);_0x454029[_0x366a29(0x3cc)]>0x0&&(_0x53b1be=_0x454029[0x0]);}if(!_0x53b1be){let _0x499714=_0x4c2c8c[_0x366a29(0x1a0)],_0xa18dab=_0x1fb814[_0x366a29(0x29b)][_0x366a29(0x771)](_0x2a47ca=>_0x2a47ca[_0x366a29(0x1a0)]===_0x499714&&_0x2a47ca[_0x366a29(0x2a1)]>_0x4c2c8c[_0x366a29(0x2a1)])[_0x366a29(0x1c1)]((_0x46f873,_0x4af0e9)=>_0x46f873[_0x366a29(0x2a1)]-_0x4af0e9['order']);_0xa18dab[_0x366a29(0x3cc)]>0x0&&(_0x53b1be=_0xa18dab[0x0]);}if(!_0x53b1be)return _0x1fb814[_0x366a29(0x167)]=_0x366a29(0x682),null;_0x1fb814['chatLog'][_0x366a29(0x3d4)]=_0x10bc84;let _0x382abf=JSON['parse'](JSON[_0x366a29(0x3e3)](_0x53b1be));return this['replaceVariablesInObject'](_0x382abf,_0x1fb814[_0x366a29(0x6b4)][_0x366a29(0x3d4)]),_0x1fb814[_0x366a29(0x6b4)][_0x366a29(0x600)]=_0x382abf[_0x366a29(0x17f)],_0x1fb814[_0x366a29(0x6b4)]['lastCondition']=!0x0,_0x382abf;}[a0_0x22ca5b(0x62c)](_0x41e2db,_0x5285bb){return _0x41e2db['replace'](/\{\{([^}]+)\}\}/g,(_0x4e84f2,_0x3613d7)=>_0x5285bb[_0x3613d7]||'');}[a0_0x22ca5b(0x6df)](_0x5eb761,_0x5c980f){const _0x1d7fa3=a0_0x22ca5b;for(let _0x10dcef in _0x5eb761)typeof _0x5eb761[_0x10dcef]==_0x1d7fa3(0x54d)?_0x5eb761[_0x10dcef]=this['replaceVariables'](_0x5eb761[_0x10dcef],_0x5c980f):typeof _0x5eb761[_0x10dcef]==_0x1d7fa3(0x34a)&&this[_0x1d7fa3(0x6df)](_0x5eb761[_0x10dcef],_0x5c980f);}async[a0_0x22ca5b(0x504)](_0x3dcfdf,_0x15ecf7){const _0x4e4323=a0_0x22ca5b;let _0x6f6f47=_0x15ecf7[_0x4e4323(0x17f)];if(_0x3dcfdf['chatLog']&&_0x3dcfdf[_0x4e4323(0x6b4)][_0x4e4323(0x626)]){let _0x16325c=_0x3dcfdf[_0x4e4323(0x6b4)]['blockLogs']['filter'](_0x1953b2=>String(_0x1953b2[_0x4e4323(0x404)])===String(_0x6f6f47))['pop']();if(_0x16325c&&_0x16325c[_0x4e4323(0x30f)]&&_0x15ecf7[_0x4e4323(0x285)])return _0x3dcfdf[_0x4e4323(0x167)]='closed',await this['saveConversationToDatabase'](_0x3dcfdf),null;}if(_0x15ecf7[_0x4e4323(0x56b)]===_0x4e4323(0x21f)&&_0x15ecf7['uazapi']['command']===_0x4e4323(0x3eb)&&_0x3dcfdf[_0x4e4323(0x711)])return _0x3dcfdf[_0x4e4323(0x6b4)][_0x4e4323(0x600)]=_0x6f6f47,await this[_0x4e4323(0x254)](_0x3dcfdf),null;let _0x13ff02=await this[_0x4e4323(0x549)](_0x3dcfdf);if(_0x3dcfdf[_0x4e4323(0x6b4)]&&_0x3dcfdf[_0x4e4323(0x6b4)]['blockLogs']){let _0x24db7c=_0x3dcfdf[_0x4e4323(0x6b4)][_0x4e4323(0x626)][_0x4e4323(0x771)](_0x2f2746=>String(_0x2f2746[_0x4e4323(0x404)])===String(_0x6f6f47))[_0x4e4323(0x3cc)];if(_0x15ecf7[_0x4e4323(0x180)]!==void 0x0&&_0x24db7c>=_0x15ecf7[_0x4e4323(0x180)]){let _0x573657=Date[_0x4e4323(0x37f)](),_0x5ca35d=_0x15ecf7[_0x4e4323(0x5a2)]??0xa;isNaN(_0x5ca35d)&&(_0x5ca35d=0xa);let _0x22ffd9=_0x573657+_0x5ca35d*0x3c*0x3e8,_0x4ea965={'newStoppedUntil':_0x22ffd9};return this[_0x4e4323(0x583)](_0x3dcfdf,_0x22ffd9),this[_0x4e4323(0x441)](_0x3dcfdf,_0x15ecf7,_0x4ea965,!0x0),null;}}_0x13ff02&&_0x13ff02[_0x4e4323(0x56b)]!=='save'&&await this[_0x4e4323(0x723)](_0x3dcfdf,_0x13ff02),_0x13ff02||await this['saveConversationToDatabase'](_0x3dcfdf),_0x13ff02&&_0x13ff02[_0x4e4323(0x56b)]==='save'&&(_0x3dcfdf[_0x4e4323(0x6b4)]['lastBlockId']=_0x6f6f47,await this[_0x4e4323(0x254)](_0x3dcfdf));}async[a0_0x22ca5b(0x723)](_0x2e0ea9,_0x349407){const _0x38c796=a0_0x22ca5b;try{let _0x4b8906=_0x349407[_0x38c796(0x56b)];this[_0x38c796(0x31f)][_0x38c796(0x1c4)](this[_0x38c796(0x60b)]+'\x20('+this[_0x38c796(0x647)][_0x38c796(0x445)]+_0x38c796(0x2d7)+_0x4b8906);let _0x217d90={'uazapi':()=>this['processUazapi'](_0x2e0ea9,_0x349407),'save':()=>this[_0x38c796(0x7ad)](_0x2e0ea9,_0x349407),'stop':()=>this[_0x38c796(0x1ef)](_0x2e0ea9,_0x349407),'condition':()=>this['processConditions'](_0x2e0ea9,_0x349407),'varedit':()=>this[_0x38c796(0x198)](_0x2e0ea9,_0x349407),'apirequest':()=>this[_0x38c796(0x333)](_0x2e0ea9,_0x349407),'goToFlow':()=>this[_0x38c796(0x76b)](_0x2e0ea9,_0x349407)}[_0x4b8906];_0x217d90&&await _0x217d90();}catch(_0x5a2ebb){this['logger'][_0x38c796(0x30f)](this['instanceName']+'\x20('+this[_0x38c796(0x647)]['wuid']+_0x38c796(0x648)+(_0x5a2ebb instanceof Error?_0x5a2ebb[_0x38c796(0x36b)]:JSON[_0x38c796(0x3e3)](_0x5a2ebb,null,0x2)));}}async[a0_0x22ca5b(0x76b)](_0x30a1d5,_0xe2573a){const _0x4a9e0d=a0_0x22ca5b;if(this['logger'][_0x4a9e0d(0x1c4)](this[_0x4a9e0d(0x60b)]+'\x20('+this['instance'][_0x4a9e0d(0x445)]+_0x4a9e0d(0x728)),!_0x30a1d5||!_0xe2573a)return this[_0x4a9e0d(0x31f)][_0x4a9e0d(0x30f)](this['instanceName']+'\x20('+this[_0x4a9e0d(0x647)][_0x4a9e0d(0x445)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this[_0x4a9e0d(0x441)](_0x30a1d5,_0xe2573a,{},!0x0,!0x0),console[_0x4a9e0d(0x256)](_0x4a9e0d(0x7c1)),console[_0x4a9e0d(0x256)](_0xe2573a);let _0x4eabc2=_0xe2573a[_0x4a9e0d(0x641)];console[_0x4a9e0d(0x256)](_0x4a9e0d(0x37b),_0x4eabc2),_0x30a1d5=await this[_0x4a9e0d(0x539)](_0x4eabc2,_0x30a1d5[_0x4a9e0d(0x3a4)],_0x30a1d5[_0x4a9e0d(0x6b4)]['realVariables']),this[_0x4a9e0d(0x31f)][_0x4a9e0d(0x1c4)](this[_0x4a9e0d(0x60b)]+'\x20('+this['instance'][_0x4a9e0d(0x445)]+_0x4a9e0d(0x70d));let _0x1dbf37=await this[_0x4a9e0d(0x549)](_0x30a1d5);_0x1dbf37&&await this[_0x4a9e0d(0x723)](_0x30a1d5,_0x1dbf37);}async[a0_0x22ca5b(0x539)](_0x48e859,_0xef13c7,_0x1cfa05){const _0x156fb4=a0_0x22ca5b;this[_0x156fb4(0x31f)][_0x156fb4(0x1c4)](this['instanceName']+'\x20('+this['instance'][_0x156fb4(0x445)]+_0x156fb4(0x5d2));try{if(_0x48e859=await this[_0x156fb4(0x3e6)][_0x156fb4(0x1fb)][_0x156fb4(0x3c6)]({'where':{'name':_0x48e859}},this[_0x156fb4(0x647)][_0x156fb4(0x445)]),!_0x48e859)return this[_0x156fb4(0x31f)][_0x156fb4(0x30f)](this['instanceName']+'\x20('+this[_0x156fb4(0x647)][_0x156fb4(0x445)]+_0x156fb4(0x41c)),null;let _0xa53f8b=require(_0x156fb4(0x303))[_0x156fb4(0x4ae)],_0x8ff6c1=Date[_0x156fb4(0x37f)](),_0xfe8798=_0x156fb4(0x49f),_0x51d54d={},_0xac4ff5={},_0x1e5abb={..._0x48e859,'chatLog':null},_0x15212d={'lastReceivedMessage':_0x51d54d,'lastSendMessage':_0xac4ff5,'lastBlockId':_0xfe8798,'lastCondition':!0x0,'realVariables':_0x1cfa05};_0x1e5abb['chatLog']=_0x15212d,_0x1e5abb[_0x156fb4(0x6b4)]['realVariables']={..._0x1cfa05},delete _0x1e5abb[_0x156fb4(0x17f)],_0x1e5abb[_0x156fb4(0x17f)]=new _0xa53f8b(),_0x1e5abb[_0x156fb4(0x37d)]=_0x8ff6c1,_0x1e5abb['status']=_0x156fb4(0x50b),_0x1e5abb[_0x156fb4(0x3a4)]=_0xef13c7;let _0x3b5d89=await this[_0x156fb4(0x3e6)][_0x156fb4(0x5ab)][_0x156fb4(0x6f3)](_0x1e5abb[_0x156fb4(0x17f)],_0x1e5abb,this['instance'][_0x156fb4(0x445)]);return this['logger'][_0x156fb4(0x1c4)](this[_0x156fb4(0x60b)]+'\x20('+this[_0x156fb4(0x647)]['wuid']+_0x156fb4(0x58f)),_0x3b5d89?_0x1e5abb:null;}catch(_0x4815a6){throw this[_0x156fb4(0x31f)][_0x156fb4(0x30f)](this[_0x156fb4(0x60b)]+'\x20('+this[_0x156fb4(0x647)][_0x156fb4(0x445)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x4815a6 instanceof Error?_0x4815a6[_0x156fb4(0x36b)]:JSON[_0x156fb4(0x3e3)](_0x4815a6,null,0x2))),new f(_0x4815a6[_0x156fb4(0x36b)]);}}async[a0_0x22ca5b(0x333)](_0x5de4a6,_0x48d80a){const _0x48a0be=a0_0x22ca5b;let _0x370eb1,_0x25dee5;try{let _0x4c653e=_0x48d80a[_0x48a0be(0x727)];if(!_0x4c653e||!_0x4c653e['url']||!_0x4c653e['method'])throw new Error(_0x48a0be(0x7b7));let _0x2581e2;([_0x48a0be(0x784),_0x48a0be(0x1cb),_0x48a0be(0x324)][_0x48a0be(0x4c2)](_0x27040a=>_0x4c653e[_0x48a0be(0x7f3)][_0x48a0be(0x567)](_0x27040a))||_0x4c653e['requestFile'])&&(_0x2581e2='arraybuffer');let _0x1f6bb6={'method':_0x4c653e[_0x48a0be(0x2c8)],'url':_0x4c653e['url'],'headers':_0x4c653e[_0x48a0be(0x6aa)]||{},'data':_0x4c653e[_0x48a0be(0x3a1)]||{},..._0x2581e2&&{'responseType':_0x2581e2}},_0x39c4c9=await(0x0,te[_0x48a0be(0x5a3)])(_0x1f6bb6),_0x1062b0=_0x39c4c9[_0x48a0be(0x5fb)][_0x48a0be(0x54f)];if(_0x1062b0&&_0x1062b0['includes'](_0x48a0be(0x7c9))){_0x370eb1=_0x39c4c9['data'];let _0x1e48ca=_0x5de4a6['chatLog'][_0x48a0be(0x3d4)],_0x18d962=this['flattenObject'](_0x370eb1);return Object[_0x48a0be(0x739)](_0x1e48ca,_0x18d962),_0x5de4a6[_0x48a0be(0x6b4)][_0x48a0be(0x3d4)]=_0x1e48ca,_0x25dee5={'error':!0x1,'apiResponse':_0x370eb1},this['updateConversation'](_0x5de4a6,_0x48d80a,_0x25dee5),_0x370eb1;}if(_0x1062b0&&(_0x1062b0[_0x48a0be(0x567)](_0x48a0be(0x2b5))||_0x1062b0[_0x48a0be(0x567)](_0x48a0be(0x7f1))||_0x1062b0[_0x48a0be(0x567)](_0x48a0be(0x175))||_0x1062b0[_0x48a0be(0x567)]('video'))){this['logger']['verbose'](this[_0x48a0be(0x60b)]+'\x20('+this['instance'][_0x48a0be(0x445)]+_0x48a0be(0x5bc)+_0x1062b0);let _0x475726=(0x0,Ce['v4'])(),_0x10aa74='',_0x3c38a3={'image/jpeg':_0x48a0be(0x79d),'image/png':_0x48a0be(0x46f),'image/gif':'.gif','image/webp':'.webp','image/svg+xml':_0x48a0be(0x579),'audio/mpeg':_0x48a0be(0x6d2),'audio/ogg':'.ogg','audio/wav':'.wav','video/mp4':_0x48a0be(0x4ea),'video/webm':_0x48a0be(0x342),'video/ogg':_0x48a0be(0x2b8),'text/plain':_0x48a0be(0x62a),'application/pdf':'.pdf','application/msword':'.doc','application/vnd.openxmlformats-officedocument.wordprocessingml.document':'.docx','application/vnd.ms-excel':_0x48a0be(0x5d4),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x48a0be(0x26d),'application/vnd.ms-powerpoint':_0x48a0be(0x4ad),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x48a0be(0x7ed)};_0x3c38a3[_0x1062b0]?(_0x10aa74=_0x3c38a3[_0x1062b0],this[_0x48a0be(0x31f)]['verbose'](this[_0x48a0be(0x60b)]+'\x20('+this['instance'][_0x48a0be(0x445)]+_0x48a0be(0x1e0)+_0x10aa74)):(_0x10aa74=_0x48a0be(0x18c),this[_0x48a0be(0x31f)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x48a0be(0x445)]+_0x48a0be(0x211)+_0x10aa74)),_0x475726+=_0x10aa74,this['logger'][_0x48a0be(0x1c4)](this[_0x48a0be(0x60b)]+'\x20('+this[_0x48a0be(0x647)][_0x48a0be(0x445)]+_0x48a0be(0x73e)+_0x475726);let _0x228d2c=this[_0x48a0be(0x394)][_0x48a0be(0x16d)]('SERVER')[_0x48a0be(0x1b8)];if(!_0x228d2c){let _0x363dde=this[_0x48a0be(0x394)][_0x48a0be(0x16d)](_0x48a0be(0x623));_0x228d2c=_0x48a0be(0x4f2)+(_0x363dde&&_0x363dde[_0x48a0be(0x6bf)][_0x48a0be(0x555)]('/')[0x4]);}let _0x3acf5f=Buffer['from'](_0x39c4c9[_0x48a0be(0x434)]);await this[_0x48a0be(0x4ce)](_0x3acf5f,_0x475726);let _0x380de7=_0x48a0be(0x1bc)+_0x475726;_0x380de7=''+_0x228d2c+_0x380de7,_0x370eb1={'fileUrl':_0x380de7},_0x5de4a6[_0x48a0be(0x6b4)][_0x48a0be(0x3d4)][_0x48a0be(0x223)]=_0x380de7;let _0x50b151=_0x5de4a6[_0x48a0be(0x6b4)]['realVariables'],_0x1ea115=this[_0x48a0be(0x5eb)](_0x370eb1);return Object[_0x48a0be(0x739)](_0x50b151,_0x1ea115),_0x5de4a6[_0x48a0be(0x6b4)]['realVariables']=_0x50b151,_0x25dee5={'error':!0x1,'apiResponse':{'fileUrl':_0x380de7}},this[_0x48a0be(0x441)](_0x5de4a6,_0x48d80a,_0x25dee5),_0x370eb1;}}catch(_0x1bbb68){console[_0x48a0be(0x30f)](_0x48a0be(0x367),_0x1bbb68),_0x1bbb68[_0x48a0be(0x2bf)]&&(_0x370eb1=_0x1bbb68[_0x48a0be(0x2bf)][_0x48a0be(0x434)]);let _0x1f1284=_0x5de4a6[_0x48a0be(0x6b4)][_0x48a0be(0x3d4)],_0x366606=this['flattenObject'](_0x370eb1);return Object[_0x48a0be(0x739)](_0x1f1284,_0x366606),_0x5de4a6['chatLog'][_0x48a0be(0x3d4)]=_0x1f1284,_0x25dee5={'error':!0x0,'errorLog':_0x1bbb68['toString'](),'apiResponse':_0x370eb1},this['updateConversation'](_0x5de4a6,_0x48d80a,_0x25dee5),{'success':!0x1};}}[a0_0x22ca5b(0x59a)](_0x5f22cf,_0x4598a9){const _0x23fcb0=a0_0x22ca5b;let _0x503fe9=_0x2d0748=>{const _0x3b4466=a0_0x4496;let _0x2220db=_0x2d0748['replace'](/[^0-9.,-]/g,'')[_0x3b4466(0x748)](',','.'),_0x32802c=parseFloat(_0x2220db);return isNaN(_0x32802c)?null:_0x32802c;},_0xc98e94=_0x4598a9['firstValue'],_0x4a173f=_0x4598a9['secondValue'];typeof _0xc98e94=='string'&&(_0xc98e94=this[_0x23fcb0(0x62c)](_0xc98e94,_0x5f22cf[_0x23fcb0(0x6b4)][_0x23fcb0(0x3d4)])??''),typeof _0x4a173f==_0x23fcb0(0x54d)&&(_0x4a173f=this['replaceVariables'](_0x4a173f,_0x5f22cf['chatLog'][_0x23fcb0(0x3d4)])??'');let _0x5704cb=null;if(!_0x4598a9[_0x23fcb0(0x73f)])return null;switch(this[_0x23fcb0(0x31f)]['verbose'](this[_0x23fcb0(0x60b)]+'\x20('+this[_0x23fcb0(0x647)][_0x23fcb0(0x445)]+_0x23fcb0(0x514)+_0xc98e94),this[_0x23fcb0(0x31f)]['verbose'](this[_0x23fcb0(0x60b)]+'\x20('+this[_0x23fcb0(0x647)]['wuid']+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x4a173f),_0x4598a9[_0x23fcb0(0x73f)]){case'+':case'-':case'*':case'/':let _0x9c0f08=_0x503fe9(_0xc98e94||'0'),_0x467c85=_0x503fe9(_0x4a173f||'0');if(_0x9c0f08===null)return null;switch(_0x4598a9['editOperator']){case'+':_0x5704cb=_0x9c0f08+(_0x467c85??0x0);break;case'-':_0x5704cb=_0x9c0f08-(_0x467c85??0x0);break;case'*':_0x5704cb=_0x9c0f08*(_0x467c85??0x1);break;case'/':_0x467c85!==0x0&&(_0x5704cb=_0x9c0f08/(_0x467c85??0x1));break;}break;case'findAndReplace':case _0x23fcb0(0x3c3):let _0x1d04af=_0x4a173f,_0x36d4c1=_0x4598a9['replaceValue'];if(typeof _0x36d4c1==_0x23fcb0(0x54d)&&(_0x36d4c1=this[_0x23fcb0(0x62c)](_0x36d4c1,_0x5f22cf[_0x23fcb0(0x6b4)][_0x23fcb0(0x3d4)])??''),_0x1d04af&&_0x36d4c1!==void 0x0){let _0x24517b=_0x4598a9[_0x23fcb0(0x73f)]===_0x23fcb0(0x41d)?new RegExp(_0x1d04af['replace'](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x1d04af,'g');_0x5704cb=_0xc98e94[_0x23fcb0(0x748)](_0x24517b,_0x36d4c1);}else console[_0x23fcb0(0x329)](_0x23fcb0(0x5a8));break;case _0x23fcb0(0x5d7):_0x5704cb=_0x4a173f;break;case _0x23fcb0(0x253):let _0x1840e4=_0xc98e94[_0x23fcb0(0x78c)](new RegExp(_0x4a173f||''));_0x5704cb=_0x1840e4?_0x1840e4[0x0]:'';break;case _0x23fcb0(0x17e):_0x5704cb=_0xc98e94[_0x23fcb0(0x769)](0x0,parseInt(_0x4a173f||'0'));break;case'truncatedtoEnd':let _0x4cdfe5=parseInt(_0x4a173f||'0');_0x5704cb=_0xc98e94[_0x23fcb0(0x769)](_0xc98e94['length']-_0x4cdfe5);break;case'toBrazilianNumberFormat':let _0x1b68c8=_0x503fe9(_0xc98e94),_0x2ab1b0=parseInt(_0x4a173f||'0');_0x2ab1b0=Math[_0x23fcb0(0x72d)](_0x2ab1b0),_0x1b68c8!==null?_0x5704cb=_0x1b68c8['toLocaleString']('pt-BR',{'minimumFractionDigits':_0x2ab1b0,'maximumFractionDigits':_0x2ab1b0}):(console['warn'](_0x23fcb0(0x2e5)+_0xc98e94),_0x5704cb=null);break;case _0x23fcb0(0x16c):let _0xe9da7c=_0x503fe9(_0xc98e94);_0xe9da7c!==null?_0x5704cb=_0xe9da7c[_0x23fcb0(0x7dc)](_0x23fcb0(0x364),{'style':_0x23fcb0(0x7bc),'currency':_0x23fcb0(0x487)}):(console['warn']('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0xc98e94),_0x5704cb=null);break;case'upperCase':_0x5704cb=_0xc98e94['toUpperCase']();break;case _0x23fcb0(0x51a):_0x5704cb=_0xc98e94[_0x23fcb0(0x622)]();break;case _0x23fcb0(0x74c):_0x5704cb=_0xc98e94[_0x23fcb0(0x555)]('\x20')[_0x23fcb0(0x4fd)](_0x33ab31=>_0x33ab31[_0x23fcb0(0x300)](0x0)[_0x23fcb0(0x70b)]()+_0x33ab31['slice'](0x1)[_0x23fcb0(0x622)]())['join']('\x20');break;case _0x23fcb0(0x60f):_0x5704cb=_0xc98e94['trim']();break;default:_0x5704cb=_0xc98e94;}return _0x5704cb!==null?_0x5704cb[_0x23fcb0(0x4b6)]():null;}async[a0_0x22ca5b(0x198)](_0xe3bb76,_0x3b7817){const _0x55b249=a0_0x22ca5b;try{let _0x496a18=_0xe3bb76['varedits']?.[_0x55b249(0x771)](_0x4ded0e=>_0x4ded0e[_0x55b249(0x404)]===_0x3b7817[_0x55b249(0x17f)]?.[_0x55b249(0x4b6)]())||[],_0x201742=_0x3b7817[_0x55b249(0x31b)],_0x2cb393=null,_0xfa71e0=[],_0x43a570=_0xe3bb76[_0x55b249(0x6b4)][_0x55b249(0x3d4)][_0x201742];_0xfa71e0['push'](_0x55b249(0x5f5)+_0x43a570+'\x22');for(let _0x28cb31 of _0x496a18){_0x28cb31['firstValue']=_0x43a570,_0x2cb393=_0x28cb31['firstValue'];let _0x4900e5;try{_0x4900e5=this['applyvaredit'](_0xe3bb76,_0x28cb31);}catch(_0x487d3c){console[_0x55b249(0x30f)](_0x55b249(0x747)+_0x487d3c[_0x55b249(0x36b)]);continue;}if(_0x4900e5!==null){let _0x47c32f='Operador:\x20\x22'+_0x28cb31['editOperator']+'\x22',_0x3d8b8f=['toBRL','upperCase',_0x55b249(0x51a),'capitalizedWords',_0x55b249(0x60f)];_0x28cb31[_0x55b249(0x73f)]==='findAndReplace'||_0x28cb31['editOperator']===_0x55b249(0x3c3)?_0x47c32f+=_0x55b249(0x612)+_0x28cb31['secondValue']+_0x55b249(0x7c7)+_0x28cb31['replaceValue']+'\x22':!_0x3d8b8f[_0x55b249(0x567)](_0x28cb31[_0x55b249(0x73f)])&&_0x28cb31[_0x55b249(0x615)]!==null&&_0x28cb31['secondValue']!==void 0x0&&(_0x47c32f+=',\x20valor\x20passado:\x20\x22'+_0x28cb31[_0x55b249(0x615)]+'\x22'),_0x47c32f+=_0x55b249(0x2ef)+_0x4900e5+'.',_0xfa71e0[_0x55b249(0x5a4)](_0x47c32f);}_0x4900e5!==null&&(_0x43a570=_0x4900e5);}if(_0xe3bb76['chatLog'][_0x55b249(0x3d4)]&&_0x3b7817[_0x55b249(0x31b)]){_0xe3bb76[_0x55b249(0x6b4)][_0x55b249(0x3d4)][_0x3b7817['saveVariable']]=_0x43a570;let _0x409dde={'variable':_0x3b7817[_0x55b249(0x31b)],'oldValue':_0x2cb393,'newValue':_0x43a570,'moreLogs':_0xfa71e0};try{this[_0x55b249(0x441)](_0xe3bb76,_0x3b7817,_0x409dde);}catch(_0x34dee9){console[_0x55b249(0x30f)](_0x55b249(0x378)+_0x34dee9['message']);}}return _0x201742;}catch(_0x4b201a){return console[_0x55b249(0x30f)](_0x55b249(0x52f)+_0x4b201a[_0x55b249(0x36b)]),null;}}async[a0_0x22ca5b(0x512)](_0x1567eb,_0x1dc5ff){const _0x389353=a0_0x22ca5b;try{let _0x2471d3=[],_0x222fbc=_0x1567eb[_0x389353(0x68f)][_0x389353(0x771)](_0x36f841=>_0x36f841[_0x389353(0x404)]===_0x1dc5ff[_0x389353(0x17f)][_0x389353(0x4b6)]()),_0x306f8d=null,_0x2552c0=!0x1;for(let _0x63333f of _0x222fbc){let _0xe32896=this[_0x389353(0x7e1)](_0x1567eb,_0x63333f);_0x2471d3['push'](_0x389353(0x2cc)+_0x63333f['firstValue']+_0x389353(0x2d0)+_0x63333f['expression']+',\x20Segundo\x20Valor:\x20'+_0x63333f[_0x389353(0x615)]+',\x20Resultado:\x20'+_0xe32896),_0x306f8d===null?_0x306f8d=_0xe32896:_0x63333f[_0x389353(0x5f8)]===_0x389353(0x25b)?(_0x306f8d=_0x306f8d&&_0xe32896,_0xe32896||(_0x2552c0=!0x0)):_0x63333f[_0x389353(0x5f8)]==='or'&&(_0x2552c0||(_0x306f8d=_0x306f8d||_0xe32896));}_0x306f8d===null&&(_0x306f8d=!0x0);let _0x4d0bd3={'moreLogs':_0x2471d3};_0x1567eb[_0x389353(0x6b4)][_0x389353(0x562)]=_0x306f8d,await this['updateConversation'](_0x1567eb,_0x1dc5ff,_0x4d0bd3);}catch(_0x524036){this[_0x389353(0x31f)][_0x389353(0x30f)](this[_0x389353(0x60b)]+'\x20('+this[_0x389353(0x647)][_0x389353(0x445)]+_0x389353(0x438)+(_0x524036 instanceof Error?_0x524036[_0x389353(0x36b)]:JSON['stringify'](_0x524036,null,0x2)));}}[a0_0x22ca5b(0x7e1)](_0x43f145,_0x52ca8d){const _0x38491d=a0_0x22ca5b;let _0x1edf91=_0x52ca8d[_0x38491d(0x7ae)],_0x857237=_0x52ca8d[_0x38491d(0x615)];typeof _0x1edf91==_0x38491d(0x54d)&&(_0x1edf91=this[_0x38491d(0x62c)](_0x1edf91,_0x43f145['chatLog'][_0x38491d(0x3d4)])??''),typeof _0x857237==_0x38491d(0x54d)&&(_0x857237=this[_0x38491d(0x62c)](_0x857237,_0x43f145[_0x38491d(0x6b4)][_0x38491d(0x3d4)])??'');try{switch(_0x52ca8d[_0x38491d(0x22c)]){case _0x38491d(0x41e):return _0x1edf91===_0x857237;case'notEqual':return _0x1edf91!==_0x857237;case _0x38491d(0x733):return this[_0x38491d(0x733)](_0x1edf91,_0x857237);case _0x38491d(0x1aa):return!this[_0x38491d(0x733)](_0x1edf91,_0x857237);case _0x38491d(0x40b):return parseFloat(_0x1edf91)>parseFloat(_0x857237);case'less':return parseFloat(_0x1edf91)<parseFloat(_0x857237);case _0x38491d(0x77e):return _0x1edf91!=='';case'empty':return _0x1edf91==='';case _0x38491d(0x47f):return new RegExp(_0x857237)[_0x38491d(0x17c)](_0x1edf91);case _0x38491d(0x345):return!new RegExp(_0x857237)[_0x38491d(0x17c)](_0x1edf91);default:return!0x1;}}catch(_0x104076){return console[_0x38491d(0x30f)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x104076),!0x1;}}['contains'](_0x130b59,_0x51c97e){const _0x4e8351=a0_0x22ca5b;if(_0x130b59===_0x51c97e&&/^\d+$/['test'](_0x130b59))return!0x0;if(this[_0x4e8351(0x349)](_0x130b59)&&/^\d+$/[_0x4e8351(0x17c)](_0x51c97e)){let _0x45dd57=_0x130b59[_0x4e8351(0x555)](',')[_0x4e8351(0x4fd)](_0x37dfab=>parseInt(_0x37dfab['trim']())),_0x5ed253=parseInt(_0x51c97e);return _0x45dd57['includes'](_0x5ed253);}return _0x130b59[_0x4e8351(0x567)](_0x51c97e);}[a0_0x22ca5b(0x349)](_0x423569){return/^\d+(,\d+)*$/['test'](_0x423569);}[a0_0x22ca5b(0x4ef)](_0x50f031){const _0x2e88cf=a0_0x22ca5b;let _0x2cab83=!0x0,_0x2dd374=null;for(let _0x1fc6d9 of _0x50f031){let _0x512767=this[_0x2e88cf(0x1f0)](_0x1fc6d9);if(_0x2dd374==='or'&&_0x512767){_0x2cab83=!0x0;break;}if(_0x2dd374===_0x2e88cf(0x25b)&&!_0x512767){_0x2cab83=!0x1;break;}_0x2dd374=_0x1fc6d9[_0x2e88cf(0x5f8)];}return _0x2cab83;}[a0_0x22ca5b(0x1f0)](_0x503892){const _0x850b74=a0_0x22ca5b;let _0x55e5e6=_0x503892[_0x850b74(0x7ae)],_0x44c0cd=_0x503892[_0x850b74(0x615)];try{switch(_0x503892[_0x850b74(0x22c)]){case _0x850b74(0x41e):return String(_0x55e5e6)===String(_0x44c0cd);case _0x850b74(0x27e):return String(_0x55e5e6)!==String(_0x44c0cd);case _0x850b74(0x733):return String(_0x55e5e6)['includes'](String(_0x44c0cd));case _0x850b74(0x1aa):return!String(_0x55e5e6)[_0x850b74(0x567)](String(_0x44c0cd));case'greater':return parseFloat(String(_0x55e5e6))>parseFloat(String(_0x44c0cd));case _0x850b74(0x7f5):return parseFloat(String(_0x55e5e6))<parseFloat(String(_0x44c0cd));case _0x850b74(0x77e):return String(_0x55e5e6)!=='';case'empty':return String(_0x55e5e6)==='';case _0x850b74(0x47f):return new RegExp(String(_0x44c0cd))['test'](String(_0x55e5e6));case _0x850b74(0x345):return!new RegExp(String(_0x44c0cd))[_0x850b74(0x17c)](String(_0x55e5e6));default:return!0x1;}}catch(_0x5e8907){return console[_0x850b74(0x30f)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x5e8907),!0x1;}}async['saveTextReply'](_0x848a3f,_0x44b779){const _0x20d390=a0_0x22ca5b;if(this['logger'][_0x20d390(0x1c4)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x848a3f||!_0x44b779)return this[_0x20d390(0x31f)][_0x20d390(0x30f)](this[_0x20d390(0x60b)]+'\x20('+this['instance'][_0x20d390(0x445)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x401ee5=_0x44b779[_0x20d390(0x31b)],_0x3a37a5=_0x848a3f['chatLog'][_0x20d390(0x40e)][_0x20d390(0x571)]||_0x848a3f[_0x20d390(0x6b4)][_0x20d390(0x40e)]['caption']||_0x848a3f[_0x20d390(0x6b4)][_0x20d390(0x40e)]['vote'];try{_0x848a3f[_0x20d390(0x6b4)][_0x20d390(0x3d4)]||(_0x848a3f['chatLog'][_0x20d390(0x3d4)]={});let _0x532b47=_0x848a3f[_0x20d390(0x6b4)][_0x20d390(0x3d4)][_0x401ee5];_0x848a3f['chatLog'][_0x20d390(0x3d4)][_0x401ee5]=_0x3a37a5;let _0x56383b={'variable':_0x401ee5,'oldValue':_0x532b47,'newValue':_0x3a37a5};this[_0x20d390(0x441)](_0x848a3f,_0x44b779,_0x56383b),this[_0x20d390(0x31f)]['verbose'](this[_0x20d390(0x60b)]+'\x20('+this[_0x20d390(0x647)][_0x20d390(0x445)]+_0x20d390(0x7f4));}catch(_0x25fb84){let _0xf36ca5={'error':!0x0,'errorLog':_0x25fb84[_0x20d390(0x4b6)]()};return this[_0x20d390(0x441)](_0x848a3f,_0x44b779,_0xf36ca5),this[_0x20d390(0x31f)][_0x20d390(0x30f)](this[_0x20d390(0x60b)]+'\x20('+this['instance'][_0x20d390(0x445)]+_0x20d390(0x60e)+(_0x25fb84 instanceof Error?_0x25fb84[_0x20d390(0x36b)]:JSON[_0x20d390(0x3e3)](_0x25fb84,null,0x2))),null;}}async[a0_0x22ca5b(0x1ef)](_0x491295,_0x230877){const _0x107c55=a0_0x22ca5b;if(this[_0x107c55(0x31f)][_0x107c55(0x1c4)](this['instanceName']+'\x20('+this['instance'][_0x107c55(0x445)]+_0x107c55(0x6e0)),!_0x491295||!_0x230877)return this[_0x107c55(0x31f)]['error'](this[_0x107c55(0x60b)]+'\x20('+this[_0x107c55(0x647)]['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x4163bc=Date['now'](),_0x2d4cfd=parseInt(_0x230877[_0x107c55(0x4d7)],0xa);if(isNaN(_0x2d4cfd))return this[_0x107c55(0x31f)]['error'](this[_0x107c55(0x60b)]+'\x20('+this['instance'][_0x107c55(0x445)]+_0x107c55(0x25d)),null;let _0x24ce1b={'newStoppedUntil':_0x4163bc+_0x2d4cfd*0x3c*0x3e8};return await this[_0x107c55(0x441)](_0x491295,_0x230877,_0x24ce1b,!0x0),null;}async[a0_0x22ca5b(0x5ae)](_0x361177,_0x4c09da){const _0x573448=a0_0x22ca5b;try{switch(_0x4c09da['uazapi'][_0x573448(0x4d3)]){case _0x573448(0x1ac):await this[_0x573448(0x286)](_0x361177,_0x4c09da);break;case _0x573448(0x772):await this['uazapiSendMedia'](_0x361177,_0x4c09da);break;case'sendLocation':await this[_0x573448(0x7aa)](_0x361177,_0x4c09da);break;case'sendAudio':await this[_0x573448(0x620)](_0x361177,_0x4c09da);break;case'sendContact':await this[_0x573448(0x21c)](_0x361177,_0x4c09da);break;case _0x573448(0x3eb):await this[_0x573448(0x30e)](_0x361177,_0x4c09da);break;case _0x573448(0x789):await this[_0x573448(0x30e)](_0x361177,_0x4c09da);break;case _0x573448(0x7ef):await this[_0x573448(0x1b2)](_0x361177,_0x4c09da);break;default:this[_0x573448(0x31f)][_0x573448(0x30f)](this[_0x573448(0x60b)]+'\x20('+this[_0x573448(0x647)][_0x573448(0x445)]+_0x573448(0x741)+_0x4c09da[_0x573448(0x21f)][_0x573448(0x4d3)]);}}catch(_0x36c08d){this[_0x573448(0x31f)]['error'](this['instanceName']+'\x20('+this[_0x573448(0x647)][_0x573448(0x445)]+_0x573448(0x4db)+(_0x36c08d instanceof Error?_0x36c08d[_0x573448(0x36b)]:JSON[_0x573448(0x3e3)](_0x36c08d,null,0x2)));}}async[a0_0x22ca5b(0x441)](_0x410307,_0x426f19,_0x57d1cd,_0x620b77=!0x1,_0x1f5a7a=!0x1){const _0x4d8efc=a0_0x22ca5b;_0x410307[_0x4d8efc(0x6b4)][_0x4d8efc(0x626)]||(_0x410307['chatLog']['blockLogs']=[]);let _0x438b89=(_0x410307[_0x4d8efc(0x6b4)][_0x4d8efc(0x626)]?.['length']??0x0)+0x1,_0x2925ac=_0x410307[_0x4d8efc(0x6b4)][_0x4d8efc(0x626)][_0x4d8efc(0x771)](_0x596eb8=>String(_0x596eb8[_0x4d8efc(0x404)])===String(_0x426f19['_id']))[_0x4d8efc(0x3cc)]+0x1,_0x5c5d0a=_0x57d1cd?.[_0x4d8efc(0x177)]??Date[_0x4d8efc(0x37f)](),_0xaef094=_0x57d1cd?.[_0x4d8efc(0x30f)]?_0x57d1cd['errorLog']??_0x57d1cd['error'][_0x4d8efc(0x4b6)]():void 0x0,_0xd089c3={'onTime':_0x5c5d0a,'blockId':_0x426f19[_0x4d8efc(0x17f)],'order':_0x438b89,'activatedCount':_0x2925ac,'error':_0x57d1cd?.['error']??!0x1,'messageId':_0x57d1cd?.[_0x4d8efc(0x4d4)],'apiResponse':_0x57d1cd?.[_0x4d8efc(0x71e)],'apiResponseString':_0x57d1cd?.['apiResponse']?JSON[_0x4d8efc(0x3e3)](_0x57d1cd?.[_0x4d8efc(0x71e)]):void 0x0,'variable':_0x57d1cd?.[_0x4d8efc(0x57b)],'oldValue':_0x57d1cd?.[_0x4d8efc(0x68c)],'newValue':_0x57d1cd?.[_0x4d8efc(0x43d)],'newStoppedUntil':_0x57d1cd?.[_0x4d8efc(0x1b0)],'moreLogs':_0x57d1cd?.[_0x4d8efc(0x697)],'errorLog':_0xaef094};if(_0x57d1cd[_0x4d8efc(0x697)]&&_0x57d1cd[_0x4d8efc(0x697)][_0x4d8efc(0x3cc)]>0x0){let _0x1a6bdd=_0x57d1cd[_0x4d8efc(0x697)][_0x4d8efc(0x4fd)](_0x592f41=>this[_0x4d8efc(0x2d8)](_0x592f41,_0x410307[_0x4d8efc(0x6b4)]['realVariables']));_0xd089c3[_0x4d8efc(0x697)]=_0x1a6bdd;}_0x410307[_0x4d8efc(0x6b4)]['realVariables']||(_0x410307[_0x4d8efc(0x6b4)][_0x4d8efc(0x3d4)]={}),_0x410307[_0x4d8efc(0x6b4)][_0x4d8efc(0x3d4)][_0x4d8efc(0x7a2)]=String(_0x2925ac),_0x410307[_0x4d8efc(0x6b4)][_0x4d8efc(0x3d4)][_0x4d8efc(0x263)]=String(_0x57d1cd[_0x4d8efc(0x30f)]??!0x1),_0x410307[_0x4d8efc(0x6b4)][_0x4d8efc(0x626)][_0x4d8efc(0x5a4)](_0xd089c3),_0x410307['chatLog'][_0x4d8efc(0x600)]=_0x426f19[_0x4d8efc(0x17f)][_0x4d8efc(0x4b6)](),_0x410307[_0x4d8efc(0x6b4)]['lastSendMessage']&&(_0x410307[_0x4d8efc(0x6b4)]['lastSendMessage']=_0x410307[_0x4d8efc(0x6b4)][_0x4d8efc(0x707)]),_0x410307[_0x4d8efc(0x6b4)][_0x4d8efc(0x40e)]&&(_0x410307[_0x4d8efc(0x6b4)][_0x4d8efc(0x40e)]=_0x410307[_0x4d8efc(0x6b4)][_0x4d8efc(0x40e)]),_0x410307[_0x4d8efc(0x6b4)][_0x4d8efc(0x562)]&&(_0x410307[_0x4d8efc(0x6b4)]['lastCondition']=_0x410307[_0x4d8efc(0x6b4)][_0x4d8efc(0x562)]),_0x1f5a7a&&(_0x410307[_0x4d8efc(0x167)]=_0x4d8efc(0x682)),_0x620b77?this[_0x4d8efc(0x254)](_0x410307):this['goNextblock'](_0x410307,_0x426f19);}[a0_0x22ca5b(0x2d8)](_0xf615d1,_0x160763){const _0x202eff=a0_0x22ca5b;return _0xf615d1['replace'](/\{\{([^}]+)\}\}/g,(_0x2e494c,_0x22eb7d)=>_0x160763[_0x22eb7d]?'{{'+_0x22eb7d+_0x202eff(0x7cf)+_0x160763[_0x22eb7d]+'\x22':'{{'+_0x22eb7d+_0x202eff(0x5bf));}async[a0_0x22ca5b(0x254)](_0xa42058){const _0x451d38=a0_0x22ca5b;try{let _0x3de4da=Object['entries'](_0xa42058[_0x451d38(0x6b4)][_0x451d38(0x3d4)])[_0x451d38(0x4fd)](([_0xa184b1,_0x5d63fc])=>({'name':_0xa184b1,'value':_0x5d63fc})),_0x3bd664={'status':_0xa42058['status'],'blocks':_0xa42058['blocks'],'waitingMenu_id':_0xa42058['waitingMenu_id'],'waitingMenu_text':_0xa42058[_0x451d38(0x6e6)],'waitingMenu_replyOptions':_0xa42058['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0xa42058[_0x451d38(0x6b4)][_0x451d38(0x600)],'lastSendMessage':_0xa42058[_0x451d38(0x6b4)]['lastSendMessage'],'lastReceivedMessage':_0xa42058[_0x451d38(0x6b4)][_0x451d38(0x40e)],'lastCondition':_0xa42058['chatLog'][_0x451d38(0x562)],'chatVariables':_0x3de4da,'realVariables':_0xa42058['chatLog']['realVariables'],'blockLogs':_0xa42058[_0x451d38(0x6b4)]['blockLogs']}},_0x476e51=await this[_0x451d38(0x3e6)][_0x451d38(0x5ab)][_0x451d38(0x6f3)](_0xa42058[_0x451d38(0x17f)],_0x3bd664,this[_0x451d38(0x647)][_0x451d38(0x445)]);if(_0x476e51){this[_0x451d38(0x31f)][_0x451d38(0x1c4)](this[_0x451d38(0x60b)]+'\x20('+this['instance']['wuid']+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x476e51['_id']);try{let _0xb9a1c=[_0x451d38(0x5ef),_0x451d38(0x4b5),_0x451d38(0x305),_0x451d38(0x565),_0x451d38(0x167),_0x451d38(0x743),_0x451d38(0x282),_0x451d38(0x422),_0x451d38(0x289)];if(!this[_0x451d38(0x736)]&&(await this[_0x451d38(0x652)](),!this[_0x451d38(0x736)]))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x5e2431=this[_0x451d38(0x736)]?.['customFields'][_0x451d38(0x4fd)](_0x29125c=>_0x29125c['name']),_0x32343f={};Object[_0x451d38(0x4fe)](_0xa42058[_0x451d38(0x6b4)][_0x451d38(0x3d4)])['forEach'](([_0x455d3d,_0x20a4ad])=>{const _0x2b8a01=_0x451d38;_0xb9a1c[_0x2b8a01(0x567)](_0x455d3d)&&(_0x455d3d===_0x2b8a01(0x422)&&typeof _0x20a4ad==_0x2b8a01(0x54d)?_0x32343f[_0x455d3d]=_0x20a4ad[_0x2b8a01(0x555)](',')[_0x2b8a01(0x4fd)](_0x191a0e=>_0x191a0e['trim']())['filter'](_0x1ee5fd=>_0x1ee5fd!==''):_0x455d3d===_0x2b8a01(0x289)&&typeof _0x20a4ad=='string'?_0x32343f[_0x455d3d]=_0x20a4ad[_0x2b8a01(0x555)](',')[_0x2b8a01(0x4fd)](_0xdf26f0=>_0xdf26f0[_0x2b8a01(0x44b)]())[_0x2b8a01(0x771)](_0x38bcf9=>_0x38bcf9!==''):_0x32343f[_0x455d3d]=_0x20a4ad);});let _0x422443=_0xa42058['chatLog']['blockLogs'][_0xa42058[_0x451d38(0x6b4)][_0x451d38(0x626)][_0x451d38(0x3cc)]-0x1];if(_0x422443){let _0x19e635=_0x422443[_0x451d38(0x1b0)];_0x19e635!==void 0x0&&(_0x32343f[_0x451d38(0x601)]=_0x19e635[_0x451d38(0x4b6)]());}let _0xa1babe=_0x3de4da[_0x451d38(0x771)](_0x49789c=>_0x5e2431[_0x451d38(0x567)](_0x49789c[_0x451d38(0x5cf)]));this[_0x451d38(0x31f)]['verbose'](this[_0x451d38(0x60b)]+'\x20('+this['instance'][_0x451d38(0x445)]+_0x451d38(0x66e)),this[_0x451d38(0x31f)][_0x451d38(0x1c4)](_0x32343f),this['logger'][_0x451d38(0x1c4)](this[_0x451d38(0x60b)]+'\x20('+this['instance'][_0x451d38(0x445)]+_0x451d38(0x5c1)),this[_0x451d38(0x31f)][_0x451d38(0x1c4)](_0xa1babe);let _0x552ee3=_0xa1babe[_0x451d38(0x4fd)](_0x528c99=>{const _0x445787=_0x451d38;let _0x4184a9=this[_0x445787(0x736)]?.['customFields'][_0x445787(0x75e)](_0x2e2b8e=>_0x2e2b8e[_0x445787(0x5cf)]===_0x528c99[_0x445787(0x5cf)]);if(!_0x4184a9)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x528c99['name']);return{'_id':_0x4184a9[_0x445787(0x17f)],'value':_0x528c99[_0x445787(0x3bc)]};});this[_0x451d38(0x31f)][_0x451d38(0x1c4)](this[_0x451d38(0x60b)]+'\x20('+this[_0x451d38(0x647)][_0x451d38(0x445)]+_0x451d38(0x1d5)),this[_0x451d38(0x31f)][_0x451d38(0x1c4)](_0x552ee3),await this[_0x451d38(0x6a5)](_0xa42058[_0x451d38(0x3a4)],_0x32343f,_0x552ee3);}catch(_0x4e49c0){this[_0x451d38(0x31f)][_0x451d38(0x30f)](this[_0x451d38(0x60b)]+'\x20('+this[_0x451d38(0x647)][_0x451d38(0x445)]+'):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20'+(_0x4e49c0 instanceof Error?_0x4e49c0[_0x451d38(0x36b)]:JSON['stringify'](_0x4e49c0,null,0x2)));}}else this[_0x451d38(0x31f)][_0x451d38(0x30f)](this['instanceName']+'\x20('+this[_0x451d38(0x647)][_0x451d38(0x445)]+_0x451d38(0x553));}catch(_0x51c824){this[_0x451d38(0x31f)][_0x451d38(0x30f)](this[_0x451d38(0x60b)]+'\x20('+this[_0x451d38(0x647)][_0x451d38(0x445)]+_0x451d38(0x370)+(_0x51c824 instanceof Error?_0x51c824['message']:JSON[_0x451d38(0x3e3)](_0x51c824,null,0x2)));}}async[a0_0x22ca5b(0x6a5)](_0x72fed4,_0x2723f6,_0x2f5572){const _0x49ca74=a0_0x22ca5b;try{let _0x3a14f8={'leadInfo.leadnome':_0x2723f6[_0x49ca74(0x5ef)],'leadInfo.nomecompleto':_0x2723f6[_0x49ca74(0x4b5)],'leadInfo.email':_0x2723f6[_0x49ca74(0x305)],'leadInfo.cpf':_0x2723f6['cpf'],'leadInfo.status':_0x2723f6[_0x49ca74(0x167)],'leadInfo.notas':_0x2723f6['notas'],'leadInfo.responsavelid':_0x2723f6[_0x49ca74(0x282)],'leadInfo.tags':_0x2723f6[_0x49ca74(0x422)],'leadInfo.etiquetas':_0x2723f6[_0x49ca74(0x289)],'leadInfo.customFields':_0x2f5572},_0x30b6e3=await this[_0x49ca74(0x3e6)][_0x49ca74(0x2d6)][_0x49ca74(0x3c6)]({'where':{'_id':_0x72fed4}},this[_0x49ca74(0x647)][_0x49ca74(0x445)]),_0x2cca6c=new Set(_0x30b6e3['leadInfo'][_0x49ca74(0x289)]||[]),_0x450351=new Set(_0x2723f6[_0x49ca74(0x289)]||[]),_0x5c00a0=await this[_0x49ca74(0x3e6)][_0x49ca74(0x72f)][_0x49ca74(0x75e)]({'where':{}},this[_0x49ca74(0x647)]['wuid']),_0x393739=new Set(_0x5c00a0['map'](_0x593cb0=>_0x593cb0[_0x49ca74(0x17f)])),_0x2dabcf=[..._0x450351][_0x49ca74(0x771)](_0x58ed0b=>!_0x2cca6c[_0x49ca74(0x76c)](_0x58ed0b)&&_0x393739[_0x49ca74(0x76c)](_0x58ed0b)),_0x2de4b0=[..._0x2cca6c]['filter'](_0x34e25a=>!_0x450351[_0x49ca74(0x76c)](_0x34e25a));for(let _0x14bb17 of _0x2dabcf)await this['AddChatLabel'](_0x14bb17,_0x30b6e3[_0x49ca74(0x17f)]),_0x2cca6c['add'](_0x14bb17);for(let _0x4b38d0 of _0x2de4b0)await this['RemoveChatLabel'](_0x4b38d0,_0x30b6e3['_id']),_0x2cca6c[_0x49ca74(0x4c6)](_0x4b38d0);if(_0x49ca74(0x601)in _0x2723f6){let _0x4dfd8e=_0x2723f6[_0x49ca74(0x601)];_0x3a14f8[_0x49ca74(0x74d)]=_0x4dfd8e?Number(_0x4dfd8e):null;}let _0x5dea57=await this['repository']['chat'][_0x49ca74(0x6f3)]({'where':{'_id':_0x72fed4}},_0x3a14f8,this['instance'][_0x49ca74(0x445)]);_0x5dea57?(this[_0x49ca74(0x31f)]['verbose'](this[_0x49ca74(0x60b)]+'\x20('+this[_0x49ca74(0x647)][_0x49ca74(0x445)]+_0x49ca74(0x296)+_0x5dea57['_id']),q(this['instanceName'],'chats',{'chat':_0x5dea57})):this['logger'][_0x49ca74(0x30f)](this[_0x49ca74(0x60b)]+'\x20('+this['instance'][_0x49ca74(0x445)]+_0x49ca74(0x35a));}catch(_0x1ce423){this[_0x49ca74(0x31f)][_0x49ca74(0x30f)](this[_0x49ca74(0x60b)]+'\x20('+this[_0x49ca74(0x647)][_0x49ca74(0x445)]+_0x49ca74(0x375)+(_0x1ce423 instanceof Error?_0x1ce423[_0x49ca74(0x36b)]:JSON['stringify'](_0x1ce423,null,0x2)));}}async['updateStopChat'](_0x164239,_0x24334b){const _0x143442=a0_0x22ca5b;this[_0x143442(0x31f)]['verbose'](this[_0x143442(0x60b)]+'\x20('+this['instance']['wuid']+_0x143442(0x544)+_0x24334b);try{let _0x26c772=await this[_0x143442(0x3e6)][_0x143442(0x2d6)]['updateOne']({'where':{'_id':_0x164239[_0x143442(0x3a4)]}},{'leadInfo.desativadoFluxoAte':_0x24334b},this['instance'][_0x143442(0x445)]);this[_0x143442(0x31f)][_0x143442(0x1c4)](this[_0x143442(0x60b)]+'\x20('+this[_0x143442(0x647)][_0x143442(0x445)]+_0x143442(0x3ca)+_0x164239['_id']),this[_0x143442(0x31f)][_0x143442(0x1c4)](this[_0x143442(0x60b)]+'\x20('+this[_0x143442(0x647)][_0x143442(0x445)]+'):\x20atualização\x20chat:\x20'+JSON['stringify'](_0x26c772,null,0x2)),_0x26c772&&q(this[_0x143442(0x60b)],_0x143442(0x1f6),{'chat':_0x26c772});}catch(_0x2840ce){this['logger']['error'](this[_0x143442(0x60b)]+'\x20('+this['instance'][_0x143442(0x445)]+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0x2840ce instanceof Error?_0x2840ce[_0x143442(0x36b)]:JSON['stringify'](_0x2840ce,null,0x2)));}}async['findFlow'](_0x2d1709){const _0x1c3b57=a0_0x22ca5b;try{this[_0x1c3b57(0x31f)][_0x1c3b57(0x1c4)](this[_0x1c3b57(0x60b)]+'\x20('+this[_0x1c3b57(0x647)]['wuid']+_0x1c3b57(0x2d2));let _0x2cda63=_0x2d1709['replace'](/\D/g,''),_0x5ff8bc=await this[_0x1c3b57(0x3e6)]['flow'][_0x1c3b57(0x3c6)]({'where':{'testingWith':_0x2cda63}},this['instance'][_0x1c3b57(0x445)]);return _0x5ff8bc||(this[_0x1c3b57(0x31f)][_0x1c3b57(0x1c4)](this[_0x1c3b57(0x60b)]+'\x20('+this[_0x1c3b57(0x647)][_0x1c3b57(0x445)]+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0x5ff8bc=await this[_0x1c3b57(0x3e6)][_0x1c3b57(0x1fb)][_0x1c3b57(0x3c6)]({'where':{'default':!0x0}},this[_0x1c3b57(0x647)][_0x1c3b57(0x445)])),_0x5ff8bc||(this['logger'][_0x1c3b57(0x1c4)](this[_0x1c3b57(0x60b)]+'\x20('+this[_0x1c3b57(0x647)][_0x1c3b57(0x445)]+'):\x20Não\x20achou\x20nenhum\x20flow'),null);}catch(_0x39861c){return this[_0x1c3b57(0x31f)][_0x1c3b57(0x30f)](this[_0x1c3b57(0x60b)]+'\x20('+this[_0x1c3b57(0x647)][_0x1c3b57(0x445)]+_0x1c3b57(0x52e)+(_0x39861c instanceof Error?_0x39861c[_0x1c3b57(0x36b)]:JSON[_0x1c3b57(0x3e3)](_0x39861c,null,0x2))),null;}}async['findConversation'](_0x58c462,_0x133d36){const _0x263925=a0_0x22ca5b;try{let _0x43ac5f=!!_0x133d36[_0x263925(0x768)],_0x35b186=_0x133d36[_0x263925(0x3c2)],_0x163b0a=null;if(this[_0x263925(0x31f)]['verbose'](this[_0x263925(0x60b)]+'\x20('+this[_0x263925(0x647)][_0x263925(0x445)]+_0x263925(0x664)+_0x43ac5f+'\x20quoted:\x20'+_0x35b186),_0x43ac5f){this[_0x263925(0x31f)][_0x263925(0x1c4)](this[_0x263925(0x60b)]+'\x20('+this[_0x263925(0x647)][_0x263925(0x445)]+_0x263925(0x331));let _0x460b05={'where':{'remoteJid':_0x58c462,'waitingMenu_id':_0x35b186}};if(_0x163b0a=await this[_0x263925(0x3e6)]['flowConversation'][_0x263925(0x3c6)](_0x460b05,this[_0x263925(0x647)][_0x263925(0x445)]),!_0x163b0a)return this[_0x263925(0x31f)][_0x263925(0x1c4)](this[_0x263925(0x60b)]+'\x20('+this[_0x263925(0x647)][_0x263925(0x445)]+_0x263925(0x568)),null;let _0x49adb6=Date[_0x263925(0x37f)](),_0x349097=_0x163b0a?.[_0x263925(0x763)]||0x0,_0x4cbbf8=_0x49adb6-_0x349097*0x3c*0x3e8;if(_0x163b0a[_0x263925(0x37d)]<_0x4cbbf8){this['logger'][_0x263925(0x1c4)](this[_0x263925(0x60b)]+'\x20('+this['instance'][_0x263925(0x445)]+_0x263925(0x43c));let _0x4e2f3f={'number':_0x163b0a[_0x263925(0x3a4)],'options':{'delay':0x0},'textMessage':{'text':_0x163b0a[_0x263925(0x77d)]}};await this[_0x263925(0x7ea)](_0x4e2f3f);let _0x27c4a4={'status':_0x263925(0x682),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x263925(0x3e6)][_0x263925(0x5ab)][_0x263925(0x6f3)](_0x163b0a[_0x263925(0x17f)],_0x27c4a4,this[_0x263925(0x647)][_0x263925(0x445)]),null;}return _0x163b0a[_0x263925(0x37d)]=Date[_0x263925(0x37f)](),_0x163b0a['chatLog'][_0x263925(0x40e)]=_0x133d36,_0x163b0a;}else{this[_0x263925(0x31f)]['verbose'](this[_0x263925(0x60b)]+'\x20('+this[_0x263925(0x647)]['wuid']+_0x263925(0x424)+this[_0x263925(0x647)][_0x263925(0x445)]+_0x263925(0x785)),this['logger'][_0x263925(0x1c4)](this[_0x263925(0x60b)]+'\x20('+this[_0x263925(0x647)]['wuid']+_0x263925(0x43b));let _0x114097={'where':{'remoteJid':_0x58c462,'status':'open'}};if(_0x163b0a=await this[_0x263925(0x3e6)][_0x263925(0x5ab)]['findOne'](_0x114097,this[_0x263925(0x647)][_0x263925(0x445)]),!_0x163b0a){let _0x16c828=await this[_0x263925(0x421)](_0x58c462);if(_0x16c828&&(_0x163b0a=await this[_0x263925(0x6fc)](_0x16c828,_0x133d36['key'],_0x133d36)),!_0x163b0a)return null;}let _0xea075c=Date['now'](),_0x2119da=_0x163b0a?.['minutesToClose']||0x0,_0x5ae2e0=_0xea075c-_0x2119da*0x3c*0x3e8;if(this[_0x263925(0x31f)]['verbose'](this[_0x263925(0x60b)]+'\x20('+this[_0x263925(0x647)][_0x263925(0x445)]+_0x263925(0x60d)+_0xea075c+_0x263925(0x1da)+_0x2119da+_0x263925(0x78e)+_0x5ae2e0),this[_0x263925(0x31f)][_0x263925(0x1c4)](this[_0x263925(0x60b)]+'\x20('+this[_0x263925(0x647)]['wuid']+_0x263925(0x3b9)),this['logger'][_0x263925(0x1c4)](this['instanceName']+'\x20('+this[_0x263925(0x647)][_0x263925(0x445)]+'):\x20conversation.lastInteraction:\x20'+_0x163b0a['lastInteraction']),this[_0x263925(0x31f)]['verbose'](this[_0x263925(0x60b)]+'\x20('+this[_0x263925(0x647)][_0x263925(0x445)]+'):\x20expirationTime:\x20'+_0x5ae2e0),_0x163b0a['lastInteraction']<_0x5ae2e0){this[_0x263925(0x31f)][_0x263925(0x1c4)](this[_0x263925(0x60b)]+'\x20('+this[_0x263925(0x647)][_0x263925(0x445)]+_0x263925(0x7ee));let _0x445b8f=await this[_0x263925(0x421)](_0x58c462);if(_0x445b8f===null)return null;_0x163b0a&&await this['repository'][_0x263925(0x5ab)][_0x263925(0x6f3)](_0x163b0a[_0x263925(0x17f)],{'status':'closed'},this[_0x263925(0x647)][_0x263925(0x445)]),_0x163b0a=await this['createNewConversation'](_0x445b8f,_0x133d36[_0x263925(0x3fc)],_0x133d36);}return _0x163b0a['lastInteraction']=_0xea075c,_0x163b0a[_0x263925(0x6b4)][_0x263925(0x40e)]=_0x133d36,_0x163b0a;}}catch(_0x4b9406){return this[_0x263925(0x31f)]['error'](this[_0x263925(0x60b)]+'\x20('+this[_0x263925(0x647)][_0x263925(0x445)]+_0x263925(0x6b7)+(_0x4b9406 instanceof Error?_0x4b9406[_0x263925(0x36b)]:JSON['stringify'](_0x4b9406,null,0x2))),null;}}async['createNewConversation'](_0x19f22c,_0x22b9a7,_0x1b1cb1){const _0x1df716=a0_0x22ca5b;this[_0x1df716(0x31f)][_0x1df716(0x1c4)](this['instanceName']+'\x20('+this[_0x1df716(0x647)][_0x1df716(0x445)]+'):\x20Criando\x20nova\x20conversa[createNewConversation]');try{let _0x1341e7=require(_0x1df716(0x303))[_0x1df716(0x4ae)],_0x31cae5=Date['now'](),_0x5ddf82=_0x1df716(0x49f),_0x1cdbef=_0x22b9a7[_0x1df716(0x3b2)]?null:_0x1b1cb1,_0x4948d9=_0x22b9a7['fromMe']?_0x1b1cb1:null,_0x30049f=_0x22b9a7[_0x1df716(0x3a4)];await this[_0x1df716(0x5d3)](_0x30049f);let _0x138017={..._0x19f22c,'chatLog':null},_0x2571ee=await this[_0x1df716(0x556)](_0x138017[_0x1df716(0x6c9)]),_0x50d558=await this['getVariablesChat'](_0x30049f),_0x42493d={..._0x2571ee,..._0x50d558,'_remoteJid':_0x30049f},_0x206b2a={'lastReceivedMessage':_0x1cdbef,'lastSendMessage':_0x4948d9,'lastBlockId':_0x5ddf82,'lastCondition':!0x0,'realVariables':_0x42493d};_0x138017[_0x1df716(0x6b4)]=_0x206b2a,delete _0x138017[_0x1df716(0x17f)],_0x138017[_0x1df716(0x17f)]=new _0x1341e7(),_0x138017[_0x1df716(0x37d)]=_0x31cae5,_0x138017[_0x1df716(0x167)]='open',_0x138017[_0x1df716(0x3a4)]=_0x30049f;let _0x46c3d5=await this[_0x1df716(0x3e6)][_0x1df716(0x5ab)][_0x1df716(0x6f3)](_0x138017[_0x1df716(0x17f)],_0x138017,this[_0x1df716(0x647)][_0x1df716(0x445)]);return this['logger'][_0x1df716(0x1c4)](this['instanceName']+'\x20('+this[_0x1df716(0x647)]['wuid']+_0x1df716(0x58f)),_0x46c3d5?_0x138017:null;}catch(_0x375ce3){return this[_0x1df716(0x31f)][_0x1df716(0x30f)](this[_0x1df716(0x60b)]+'\x20('+this['instance']['wuid']+_0x1df716(0x6dd)+(_0x375ce3 instanceof Error?_0x375ce3['message']:JSON[_0x1df716(0x3e3)](_0x375ce3,null,0x2))),_0x375ce3;}}async['uazapiSendText'](_0x118854,_0x3e4090){const _0x15e77c=a0_0x22ca5b;let _0x5bc0ce=_0x118854[_0x15e77c(0x3a4)];_0x3e4090[_0x15e77c(0x21f)][_0x15e77c(0x3a4)]&&_0x3e4090['uazapi'][_0x15e77c(0x3a4)]['trim']()!==''&&(_0x5bc0ce=_0x3e4090[_0x15e77c(0x21f)][_0x15e77c(0x3a4)][_0x15e77c(0x44b)]()),this[_0x15e77c(0x31f)][_0x15e77c(0x1c4)](this[_0x15e77c(0x60b)]+'\x20('+this[_0x15e77c(0x647)][_0x15e77c(0x445)]+'):\x20Enviando\x20texto');let _0x92fdeb={'number':_0x5bc0ce,'options':{'delay':_0x3e4090['uazapi']['delay']},'textMessage':{'text':_0x3e4090[_0x15e77c(0x21f)]['text']}};try{let _0x19ce0e=await this['textMessage'](_0x92fdeb);if(_0x19ce0e){let _0x17d20f={'_id':_0x19ce0e[_0x15e77c(0x3fc)]['id'],'_fromMe':_0x19ce0e[_0x15e77c(0x3fc)][_0x15e77c(0x3b2)],'_remoteJid':_0x19ce0e[_0x15e77c(0x3fc)][_0x15e77c(0x3a4)]},_0x2b23a1=(0x0,m['normalizeMessageContent'])(_0x19ce0e[_0x15e77c(0x36b)]),_0x186b61=(0x0,m[_0x15e77c(0x529)])(_0x2b23a1);_0x118854[_0x15e77c(0x6b4)]['lastBlockId']=_0x3e4090[_0x15e77c(0x17f)][_0x15e77c(0x4b6)]();let {message_normalized:_0x23c8bf}=this[_0x15e77c(0x1cd)](_0x2b23a1,_0x186b61,null);_0x118854[_0x15e77c(0x6b4)][_0x15e77c(0x707)]=await _0x23c8bf;let _0x5b9377={'messageId':_0x19ce0e[_0x15e77c(0x3fc)]['id']},_0x3fb943=_0x118854[_0x15e77c(0x6b4)][_0x15e77c(0x3d4)];Object['assign'](_0x3fb943,_0x17d20f),_0x118854[_0x15e77c(0x6b4)][_0x15e77c(0x3d4)]=_0x3fb943,this[_0x15e77c(0x441)](_0x118854,_0x3e4090,_0x5b9377);}else{let _0x361c92={'error':!0x0};this[_0x15e77c(0x441)](_0x118854,_0x3e4090,_0x361c92),this[_0x15e77c(0x31f)][_0x15e77c(0x30f)](this[_0x15e77c(0x60b)]+'\x20('+this[_0x15e77c(0x647)][_0x15e77c(0x445)]+_0x15e77c(0x272));}}catch(_0x2a6b88){let _0x1e2625={'error':!0x0,'errorLog':_0x2a6b88[_0x15e77c(0x4b6)]()};this[_0x15e77c(0x441)](_0x118854,_0x3e4090,_0x1e2625),this[_0x15e77c(0x31f)]['error'](this[_0x15e77c(0x60b)]+'\x20('+this[_0x15e77c(0x647)]['wuid']+_0x15e77c(0x49d)+(_0x2a6b88 instanceof Error?_0x2a6b88[_0x15e77c(0x36b)]:JSON['stringify'](_0x2a6b88,null,0x2)));}}async[a0_0x22ca5b(0x2db)](_0x19b730,_0x60d96d){const _0x1a541c=a0_0x22ca5b;let _0x5c8dbf=_0x19b730['remoteJid'];_0x60d96d[_0x1a541c(0x21f)][_0x1a541c(0x3a4)]&&_0x60d96d[_0x1a541c(0x21f)]['remoteJid']['trim']()!==''&&(_0x5c8dbf=_0x60d96d[_0x1a541c(0x21f)][_0x1a541c(0x3a4)]['trim']()),this['logger'][_0x1a541c(0x1c4)](this[_0x1a541c(0x60b)]+'\x20('+this[_0x1a541c(0x647)][_0x1a541c(0x445)]+'):\x20Enviando\x20mídia');let _0x2f3125={'number':_0x5c8dbf,'options':{'delay':_0x60d96d[_0x1a541c(0x21f)][_0x1a541c(0x56f)]},'mediaMessage':{'mediatype':_0x60d96d['uazapi'][_0x1a541c(0x676)],'caption':_0x60d96d[_0x1a541c(0x21f)][_0x1a541c(0x3a3)],'media':_0x60d96d['uazapi'][_0x1a541c(0x6ae)],'fileName':_0x60d96d['uazapi'][_0x1a541c(0x396)]}};try{let _0x20dea8=await this[_0x1a541c(0x22d)](_0x2f3125);if(_0x20dea8){let _0x70639b={'_id':_0x20dea8[_0x1a541c(0x3fc)]['id'],'_fromMe':_0x20dea8['key'][_0x1a541c(0x3b2)],'_remoteJid':_0x20dea8[_0x1a541c(0x3fc)]['remoteJid']},_0x512023=(0x0,m[_0x1a541c(0x6f9)])(_0x20dea8[_0x1a541c(0x36b)]),_0x41b44c=(0x0,m[_0x1a541c(0x529)])(_0x512023);_0x19b730[_0x1a541c(0x6b4)]['lastBlockId']=_0x60d96d[_0x1a541c(0x17f)][_0x1a541c(0x4b6)]();let {message_normalized:_0x159bd7}=this[_0x1a541c(0x1cd)](_0x512023,_0x41b44c,null);_0x19b730[_0x1a541c(0x6b4)][_0x1a541c(0x707)]=await _0x159bd7;let _0x4107bc={'messageId':_0x20dea8[_0x1a541c(0x3fc)]['id']},_0x1235be=_0x19b730[_0x1a541c(0x6b4)]['realVariables'];Object[_0x1a541c(0x739)](_0x1235be,_0x70639b),_0x19b730[_0x1a541c(0x6b4)]['realVariables']=_0x1235be,this[_0x1a541c(0x441)](_0x19b730,_0x60d96d,_0x4107bc);}else{let _0x4fcd46={'error':!0x0};this[_0x1a541c(0x441)](_0x19b730,_0x60d96d,_0x4fcd46),this[_0x1a541c(0x31f)][_0x1a541c(0x30f)](this[_0x1a541c(0x60b)]+'\x20('+this[_0x1a541c(0x647)][_0x1a541c(0x445)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x39ca35){let _0x3b4e11={'error':!0x0,'errorLog':_0x39ca35['toString']()};this[_0x1a541c(0x441)](_0x19b730,_0x60d96d,_0x3b4e11),this['logger'][_0x1a541c(0x30f)](this['instanceName']+'\x20('+this[_0x1a541c(0x647)][_0x1a541c(0x445)]+_0x1a541c(0x72b)+(_0x39ca35 instanceof Error?_0x39ca35[_0x1a541c(0x36b)]:JSON['stringify'](_0x39ca35,null,0x2)));}}async[a0_0x22ca5b(0x7aa)](_0x2da260,_0x410928){const _0x56f5af=a0_0x22ca5b;let _0x13faef=_0x2da260[_0x56f5af(0x3a4)];_0x410928[_0x56f5af(0x21f)][_0x56f5af(0x3a4)]&&_0x410928['uazapi']['remoteJid']['trim']()!==''&&(_0x13faef=_0x410928[_0x56f5af(0x21f)]['remoteJid']['trim']()),this[_0x56f5af(0x31f)]['verbose'](this[_0x56f5af(0x60b)]+'\x20('+this[_0x56f5af(0x647)][_0x56f5af(0x445)]+_0x56f5af(0x5dc));let _0x176d74={'number':_0x13faef,'options':{'delay':_0x410928[_0x56f5af(0x21f)][_0x56f5af(0x56f)]},'locationMessage':{'name':_0x410928[_0x56f5af(0x21f)][_0x56f5af(0x5cf)],'address':_0x410928['uazapi'][_0x56f5af(0x776)],'latitude':_0x410928[_0x56f5af(0x21f)][_0x56f5af(0x762)],'longitude':_0x410928[_0x56f5af(0x21f)][_0x56f5af(0x1cc)]}};try{let _0x403316=await this[_0x56f5af(0x363)](_0x176d74);if(_0x403316){let _0x3aae08={'_id':_0x403316[_0x56f5af(0x3fc)]['id'],'_fromMe':_0x403316[_0x56f5af(0x3fc)]['fromMe'],'_remoteJid':_0x403316[_0x56f5af(0x3fc)][_0x56f5af(0x3a4)]},_0x3502b4=(0x0,m[_0x56f5af(0x6f9)])(_0x403316[_0x56f5af(0x36b)]),_0x185dfd=(0x0,m[_0x56f5af(0x529)])(_0x3502b4);_0x2da260['chatLog']['lastBlockId']=_0x410928['_id'][_0x56f5af(0x4b6)]();let {message_normalized:_0x21728f}=this[_0x56f5af(0x1cd)](_0x3502b4,_0x185dfd,null);_0x2da260[_0x56f5af(0x6b4)]['lastSendMessage']=await _0x21728f;let _0x36db05={'messageId':_0x403316[_0x56f5af(0x3fc)]['id']},_0x1574a5=_0x2da260[_0x56f5af(0x6b4)]['realVariables'];Object[_0x56f5af(0x739)](_0x1574a5,_0x3aae08),_0x2da260['chatLog']['realVariables']=_0x1574a5,this[_0x56f5af(0x441)](_0x2da260,_0x410928,_0x36db05);}else{let _0x394c07={'error':!0x0};this[_0x56f5af(0x441)](_0x2da260,_0x410928,_0x394c07),this['logger']['error'](this['instanceName']+'\x20('+this[_0x56f5af(0x647)][_0x56f5af(0x445)]+_0x56f5af(0x1af));}}catch(_0x340411){let _0x1a1059={'error':!0x0,'errorLog':_0x340411[_0x56f5af(0x4b6)]()};this[_0x56f5af(0x441)](_0x2da260,_0x410928,_0x1a1059),this[_0x56f5af(0x31f)][_0x56f5af(0x30f)](this['instanceName']+'\x20('+this['instance'][_0x56f5af(0x445)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20'+(_0x340411 instanceof Error?_0x340411[_0x56f5af(0x36b)]:JSON[_0x56f5af(0x3e3)](_0x340411,null,0x2)));}}async[a0_0x22ca5b(0x620)](_0x225790,_0x5ab113){const _0x4ac101=a0_0x22ca5b;let _0xad799d=_0x225790[_0x4ac101(0x3a4)];_0x5ab113[_0x4ac101(0x21f)]['remoteJid']&&_0x5ab113[_0x4ac101(0x21f)][_0x4ac101(0x3a4)][_0x4ac101(0x44b)]()!==''&&(_0xad799d=_0x5ab113[_0x4ac101(0x21f)]['remoteJid'][_0x4ac101(0x44b)]()),this['logger'][_0x4ac101(0x1c4)](this['instanceName']+'\x20('+this[_0x4ac101(0x647)][_0x4ac101(0x445)]+_0x4ac101(0x2af));let _0x47c829={'number':_0xad799d,'options':{'delay':_0x5ab113[_0x4ac101(0x21f)][_0x4ac101(0x56f)]},'audioMessage':{'audio':_0x5ab113[_0x4ac101(0x21f)][_0x4ac101(0x175)]}};try{let _0x43de07=await this[_0x4ac101(0x20c)](_0x47c829);if(_0x43de07){let _0x1c4f63={'_id':_0x43de07['key']['id'],'_fromMe':_0x43de07[_0x4ac101(0x3fc)][_0x4ac101(0x3b2)],'_remoteJid':_0x43de07[_0x4ac101(0x3fc)]['remoteJid']},_0x47e114=(0x0,m['normalizeMessageContent'])(_0x43de07[_0x4ac101(0x36b)]),_0x633ea2=(0x0,m[_0x4ac101(0x529)])(_0x47e114);_0x225790[_0x4ac101(0x6b4)]['lastBlockId']=_0x5ab113[_0x4ac101(0x17f)][_0x4ac101(0x4b6)]();let {message_normalized:_0x5e4a7c}=this['normalizeMessage'](_0x47e114,_0x633ea2,null);_0x225790[_0x4ac101(0x6b4)][_0x4ac101(0x707)]=await _0x5e4a7c;let _0x4e4052={'messageId':_0x43de07['key']['id']},_0x1311fd=_0x225790[_0x4ac101(0x6b4)][_0x4ac101(0x3d4)];Object[_0x4ac101(0x739)](_0x1311fd,_0x1c4f63),_0x225790['chatLog']['realVariables']=_0x1311fd,this['updateConversation'](_0x225790,_0x5ab113,_0x4e4052);}else{let _0x132665={'error':!0x0};this['updateConversation'](_0x225790,_0x5ab113,_0x132665),this[_0x4ac101(0x31f)][_0x4ac101(0x30f)](this[_0x4ac101(0x60b)]+'\x20('+this['instance'][_0x4ac101(0x445)]+_0x4ac101(0x667));}}catch(_0x545401){let _0x2d3078={'error':!0x0,'errorLog':_0x545401['toString']()};this[_0x4ac101(0x441)](_0x225790,_0x5ab113,_0x2d3078),this[_0x4ac101(0x31f)][_0x4ac101(0x30f)](this[_0x4ac101(0x60b)]+'\x20('+this[_0x4ac101(0x647)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+(_0x545401 instanceof Error?_0x545401['message']:JSON[_0x4ac101(0x3e3)](_0x545401,null,0x2)));}}async[a0_0x22ca5b(0x21c)](_0x107b2f,_0x3fd330){const _0x467230=a0_0x22ca5b;let _0x5c50d7=_0x107b2f[_0x467230(0x3a4)];_0x3fd330[_0x467230(0x21f)]['remoteJid']&&_0x3fd330['uazapi'][_0x467230(0x3a4)][_0x467230(0x44b)]()!==''&&(_0x5c50d7=_0x3fd330[_0x467230(0x21f)]['remoteJid'][_0x467230(0x44b)]()),this[_0x467230(0x31f)][_0x467230(0x1c4)](this[_0x467230(0x60b)]+'\x20('+this[_0x467230(0x647)][_0x467230(0x445)]+_0x467230(0x229));let _0x41e9f6={'number':_0x5c50d7,'options':{'delay':_0x3fd330['uazapi'][_0x467230(0x56f)]},'contactMessage':[{'fullName':_0x3fd330[_0x467230(0x21f)]['fullName'],'phoneNumber':_0x3fd330[_0x467230(0x21f)]['phoneNumber']}]};try{let _0x14165c=await this[_0x467230(0x773)](_0x41e9f6);if(_0x14165c){let _0x5e2b63={'_id':_0x14165c['key']['id'],'_fromMe':_0x14165c[_0x467230(0x3fc)][_0x467230(0x3b2)],'_remoteJid':_0x14165c[_0x467230(0x3fc)][_0x467230(0x3a4)]},_0x40206b=(0x0,m['normalizeMessageContent'])(_0x14165c[_0x467230(0x36b)]),_0x3e0588=(0x0,m['getContentType'])(_0x40206b);_0x107b2f[_0x467230(0x6b4)][_0x467230(0x600)]=_0x3fd330[_0x467230(0x17f)][_0x467230(0x4b6)]();let {message_normalized:_0x1645f1}=this[_0x467230(0x1cd)](_0x40206b,_0x3e0588,null);_0x107b2f['chatLog'][_0x467230(0x707)]=await _0x1645f1;let _0x16c4c9={'messageId':_0x14165c[_0x467230(0x3fc)]['id']},_0xc4a8f7=_0x107b2f[_0x467230(0x6b4)]['realVariables'];Object[_0x467230(0x739)](_0xc4a8f7,_0x5e2b63),_0x107b2f[_0x467230(0x6b4)][_0x467230(0x3d4)]=_0xc4a8f7,this[_0x467230(0x441)](_0x107b2f,_0x3fd330,_0x16c4c9);}else{let _0x366e27={'error':!0x0};this[_0x467230(0x441)](_0x107b2f,_0x3fd330,_0x366e27),this[_0x467230(0x31f)]['error'](this[_0x467230(0x60b)]+'\x20('+this[_0x467230(0x647)][_0x467230(0x445)]+_0x467230(0x356));}}catch(_0xc5a5fd){let _0x4b7850={'error':!0x0,'errorLog':_0xc5a5fd[_0x467230(0x4b6)]()};this['updateConversation'](_0x107b2f,_0x3fd330,_0x4b7850),this['logger'][_0x467230(0x30f)](this[_0x467230(0x60b)]+'\x20('+this[_0x467230(0x647)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+(_0xc5a5fd instanceof Error?_0xc5a5fd[_0x467230(0x36b)]:JSON['stringify'](_0xc5a5fd,null,0x2)));}}[a0_0x22ca5b(0x21a)](_0xead175,_0x14987c){const _0x28ba05=a0_0x22ca5b;for(let _0x51ef7a of _0xead175)_0x51ef7a['option']&&(_0x51ef7a[_0x28ba05(0x79c)]=this['replaceVariables'](_0x51ef7a[_0x28ba05(0x79c)],_0x14987c)),_0x51ef7a['optionDescription']&&(_0x51ef7a[_0x28ba05(0x6e2)]=this[_0x28ba05(0x62c)](_0x51ef7a[_0x28ba05(0x6e2)],_0x14987c));}async[a0_0x22ca5b(0x30e)](_0x1c4d7c,_0x12b655){const _0x40c4b1=a0_0x22ca5b;let _0x49a64d=_0x1c4d7c[_0x40c4b1(0x3a4)];_0x12b655['uazapi'][_0x40c4b1(0x3a4)]&&_0x12b655[_0x40c4b1(0x21f)][_0x40c4b1(0x3a4)]['trim']()!==''&&(_0x49a64d=_0x12b655[_0x40c4b1(0x21f)][_0x40c4b1(0x3a4)][_0x40c4b1(0x44b)]()),this['logger']['verbose'](this[_0x40c4b1(0x60b)]+'\x20('+this[_0x40c4b1(0x647)]['wuid']+'):\x20Enviando\x20enquete');let _0x38ac12=_0x1c4d7c[_0x40c4b1(0x6cf)][_0x40c4b1(0x771)](_0x4a29fd=>_0x4a29fd['blockId']===_0x12b655[_0x40c4b1(0x17f)])[_0x40c4b1(0x1c1)]((_0x1fa5c8,_0x900f8d)=>_0x1fa5c8[_0x40c4b1(0x2a1)]-_0x900f8d['order']);this[_0x40c4b1(0x21a)](_0x38ac12,_0x1c4d7c[_0x40c4b1(0x6b4)]['realVariables']);let _0x2696f0=_0x38ac12[_0x40c4b1(0x4fd)](_0x298231=>_0x298231[_0x40c4b1(0x79c)]),_0x14dee3={'number':_0x49a64d,'menuMessage':{'type':_0x12b655[_0x40c4b1(0x21f)][_0x40c4b1(0x402)]||_0x40c4b1(0x67f),'text':_0x12b655['uazapi'][_0x40c4b1(0x571)]||_0x12b655[_0x40c4b1(0x21f)][_0x40c4b1(0x5cf)],'footerText':_0x12b655[_0x40c4b1(0x21f)][_0x40c4b1(0x3b8)],'buttonText':_0x12b655[_0x40c4b1(0x21f)][_0x40c4b1(0x570)],'selectableCount':0x1,'choices':_0x2696f0},'options':{'delay':_0x12b655[_0x40c4b1(0x21f)][_0x40c4b1(0x56f)]}};try{let _0x42ba81=await this['menuMessage'](_0x14dee3);if(_0x42ba81){let _0x275615={'_id':_0x42ba81[_0x40c4b1(0x3fc)]['id'],'_fromMe':_0x42ba81[_0x40c4b1(0x3fc)][_0x40c4b1(0x3b2)],'_remoteJid':_0x42ba81[_0x40c4b1(0x3fc)][_0x40c4b1(0x3a4)]};_0x12b655[_0x40c4b1(0x21f)][_0x40c4b1(0x451)]===!0x0&&(_0x1c4d7c[_0x40c4b1(0x167)]=_0x40c4b1(0x62e),this[_0x40c4b1(0x31f)][_0x40c4b1(0x1c4)](this[_0x40c4b1(0x60b)]+'\x20('+this[_0x40c4b1(0x647)]['wuid']+_0x40c4b1(0x6d3)+_0x1c4d7c[_0x40c4b1(0x167)])),this[_0x40c4b1(0x31f)][_0x40c4b1(0x1c4)](this[_0x40c4b1(0x60b)]+'\x20('+this['instance'][_0x40c4b1(0x445)]+_0x40c4b1(0x26e)+(_0x12b655[_0x40c4b1(0x21f)][_0x40c4b1(0x5cf)]||_0x12b655[_0x40c4b1(0x21f)][_0x40c4b1(0x571)])),_0x1c4d7c[_0x40c4b1(0x711)]=_0x42ba81[_0x40c4b1(0x3fc)]['id'],_0x1c4d7c[_0x40c4b1(0x6e6)]=_0x12b655[_0x40c4b1(0x21f)]['name']||_0x12b655[_0x40c4b1(0x21f)][_0x40c4b1(0x571)],_0x1c4d7c[_0x40c4b1(0x691)]=_0x38ac12,_0x12b655[_0x40c4b1(0x21f)][_0x40c4b1(0x1dd)]&&(_0x1c4d7c[_0x40c4b1(0x77d)]=_0x12b655['uazapi'][_0x40c4b1(0x1dd)]),this[_0x40c4b1(0x31f)][_0x40c4b1(0x1c4)](this[_0x40c4b1(0x60b)]+'\x20('+this[_0x40c4b1(0x647)][_0x40c4b1(0x445)]+_0x40c4b1(0x23e)+_0x1c4d7c['waitingMenu_text']);let _0x3dd346=(0x0,m[_0x40c4b1(0x6f9)])(_0x42ba81[_0x40c4b1(0x36b)]),_0x37cc1e=(0x0,m[_0x40c4b1(0x529)])(_0x3dd346);_0x1c4d7c['chatLog'][_0x40c4b1(0x600)]=_0x12b655[_0x40c4b1(0x17f)][_0x40c4b1(0x4b6)]();let {message_normalized:_0x3e69f6}=this[_0x40c4b1(0x1cd)](_0x3dd346,_0x37cc1e,null);_0x1c4d7c['chatLog']['lastSendMessage']=await _0x3e69f6;let _0x4be69e={'messageId':_0x42ba81[_0x40c4b1(0x3fc)]['id']},_0x39ab81=_0x1c4d7c[_0x40c4b1(0x6b4)][_0x40c4b1(0x3d4)];Object[_0x40c4b1(0x739)](_0x39ab81,_0x275615),_0x1c4d7c[_0x40c4b1(0x6b4)][_0x40c4b1(0x3d4)]=_0x39ab81,this[_0x40c4b1(0x441)](_0x1c4d7c,_0x12b655,_0x4be69e);}else{let _0x57e9e1={'error':!0x0};this['updateConversation'](_0x1c4d7c,_0x12b655,_0x57e9e1),this[_0x40c4b1(0x31f)][_0x40c4b1(0x30f)](this[_0x40c4b1(0x60b)]+'\x20('+this[_0x40c4b1(0x647)][_0x40c4b1(0x445)]+_0x40c4b1(0x32c));}}catch(_0x2a4136){let _0x59a2b8={'error':!0x0,'errorLog':_0x2a4136 instanceof Error?_0x2a4136[_0x40c4b1(0x36b)]:JSON[_0x40c4b1(0x3e3)](_0x2a4136,null,0x2)};this[_0x40c4b1(0x441)](_0x1c4d7c,_0x12b655,_0x59a2b8),this[_0x40c4b1(0x31f)][_0x40c4b1(0x30f)](this[_0x40c4b1(0x60b)]+'\x20('+this['instance'][_0x40c4b1(0x445)]+_0x40c4b1(0x54b)+(_0x2a4136 instanceof Error?_0x2a4136[_0x40c4b1(0x36b)]:JSON[_0x40c4b1(0x3e3)](_0x2a4136,null,0x2)));}}async[a0_0x22ca5b(0x1b2)](_0x190acb,_0x444bfb){const _0x5b5161=a0_0x22ca5b;this[_0x5b5161(0x31f)][_0x5b5161(0x1c4)](this[_0x5b5161(0x60b)]+'\x20('+this[_0x5b5161(0x647)]['wuid']+_0x5b5161(0x7cd));let _0xe580ab=_0x190acb[_0x5b5161(0x6b4)][_0x5b5161(0x626)][_0x5b5161(0x75e)](_0x2923a8=>_0x2923a8[_0x5b5161(0x404)]['toString']()===_0x444bfb[_0x5b5161(0x21f)][_0x5b5161(0x404)][_0x5b5161(0x4b6)]()),_0x5b3a4c={'id':_0xe580ab[_0x5b5161(0x4d4)],'remoteJid':_0xe580ab[_0x5b5161(0x3a4)],'fromMe':_0xe580ab[_0x5b5161(0x3b2)]};try{let _0x466cbf=await this['deleteMessage'](_0x5b3a4c);if(_0x466cbf){let _0x25a6c7=(0x0,m['normalizeMessageContent'])(_0x466cbf['message']),_0x58eea3=(0x0,m[_0x5b5161(0x529)])(_0x25a6c7);_0x190acb[_0x5b5161(0x6b4)][_0x5b5161(0x600)]=_0x444bfb[_0x5b5161(0x17f)][_0x5b5161(0x4b6)]();let {message_normalized:_0x3fd653}=this[_0x5b5161(0x1cd)](_0x25a6c7,_0x58eea3,null);_0x190acb[_0x5b5161(0x6b4)][_0x5b5161(0x707)]=await _0x3fd653;let _0x92feef={};this[_0x5b5161(0x441)](_0x190acb,_0x444bfb,_0x92feef);}else{let _0xeca3e={'error':!0x0};this[_0x5b5161(0x441)](_0x190acb,_0x444bfb,_0xeca3e),this['logger'][_0x5b5161(0x30f)](this[_0x5b5161(0x60b)]+'\x20('+this[_0x5b5161(0x647)][_0x5b5161(0x445)]+_0x5b5161(0x233));}}catch(_0x10acf5){let _0x3d4093={'error':!0x0,'errorLog':_0x10acf5 instanceof Error?_0x10acf5[_0x5b5161(0x36b)]:JSON['stringify'](_0x10acf5,null,0x2)};this[_0x5b5161(0x441)](_0x190acb,_0x444bfb,_0x3d4093),this[_0x5b5161(0x31f)][_0x5b5161(0x30f)](this[_0x5b5161(0x60b)]+'\x20('+this[_0x5b5161(0x647)][_0x5b5161(0x445)]+_0x5b5161(0x5a9)+(_0x10acf5 instanceof Error?_0x10acf5[_0x5b5161(0x36b)]:JSON[_0x5b5161(0x3e3)](_0x10acf5,null,0x2)));}}async[a0_0x22ca5b(0x749)](_0x7a5fd5){const _0x5b59e8=a0_0x22ca5b;if(!_0x7a5fd5[_0x5b59e8(0x5cf)])throw new f(_0x5b59e8(0x649));if(await this[_0x5b59e8(0x3e6)][_0x5b59e8(0x1fb)][_0x5b59e8(0x3c6)]({'where':{'name':_0x7a5fd5[_0x5b59e8(0x5cf)]}},this[_0x5b59e8(0x647)][_0x5b59e8(0x445)]))throw new f(_0x5b59e8(0x566));return'name'in _0x7a5fd5&&'sharePass'in _0x7a5fd5&&'owner'in _0x7a5fd5&&Object[_0x5b59e8(0x3ea)](_0x7a5fd5)['length']===0x3?this[_0x5b59e8(0x188)](_0x7a5fd5[_0x5b59e8(0x283)],_0x7a5fd5[_0x5b59e8(0x638)],_0x7a5fd5[_0x5b59e8(0x5cf)]):this[_0x5b59e8(0x4e9)](_0x7a5fd5);}async['createSharedFlow'](_0x50f26a,_0x5b3363,_0x4c93a2){const _0x307fea=a0_0x22ca5b;try{this[_0x307fea(0x31f)][_0x307fea(0x1c4)](this[_0x307fea(0x60b)]+'\x20('+this['instance'][_0x307fea(0x445)]+_0x307fea(0x756));let _0x4d84a9=await this['repository'][_0x307fea(0x1fb)]['findOne']({'where':{'name':_0x4c93a2,'sharePass':_0x5b3363}},_0x50f26a);if(!_0x4d84a9)throw new f(_0x307fea(0x328));let _0x566991={..._0x4d84a9};return _0x566991[_0x307fea(0x283)]=this['instance']['wuid'],_0x566991[_0x307fea(0x694)]=Array[_0x307fea(0x610)](new Set([..._0x4d84a9[_0x307fea(0x694)]||[],_0x4d84a9['owner'],this[_0x307fea(0x647)]['wuid']])),_0x4d84a9[_0x307fea(0x694)]=_0x566991['shareOwners'],await this[_0x307fea(0x3e6)][_0x307fea(0x1fb)][_0x307fea(0x6f3)](_0x4d84a9['_id'],{'shareOwners':_0x4d84a9['shareOwners']},_0x4d84a9[_0x307fea(0x283)]),_0x4d84a9[_0x307fea(0x5a3)]===!0x0&&await this['repository'][_0x307fea(0x1fb)]['updateMany']({},{'default':!0x1},this[_0x307fea(0x647)][_0x307fea(0x445)]),await this[_0x307fea(0x3e6)][_0x307fea(0x1fb)][_0x307fea(0x637)](_0x566991,this[_0x307fea(0x647)]['wuid']);}catch(_0x4836f2){throw this[_0x307fea(0x31f)][_0x307fea(0x30f)](this[_0x307fea(0x60b)]+'\x20('+this[_0x307fea(0x647)][_0x307fea(0x445)]+_0x307fea(0x274)+_0x4836f2),new f(_0x307fea(0x492)+_0x4836f2);}}async[a0_0x22ca5b(0x4e9)](_0x58e434){const _0x16e14e=a0_0x22ca5b;try{this[_0x16e14e(0x31f)]['verbose'](this[_0x16e14e(0x60b)]+'\x20('+this[_0x16e14e(0x647)][_0x16e14e(0x445)]+_0x16e14e(0x52d)),delete _0x58e434[_0x16e14e(0x694)],delete _0x58e434[_0x16e14e(0x638)],delete _0x58e434[_0x16e14e(0x283)],_0x58e434[_0x16e14e(0x5a3)]===!0x0&&await this[_0x16e14e(0x3e6)][_0x16e14e(0x1fb)]['updateMany']({},{'default':!0x1},this[_0x16e14e(0x647)][_0x16e14e(0x445)]);let _0x54600e=new oe[(_0x16e14e(0x2c9))][(_0x16e14e(0x4ae))](),_0x1e1c01={'_id':_0x54600e,'default':!0x0,'title':_0x16e14e(0x2e8),'x':0x0,'y':0x0},_0xa78f13={'_id':new oe['Types']['ObjectId'](),'order':0x1,'groupId':_0x54600e[_0x16e14e(0x4b6)](),'type':_0x16e14e(0x49f)},_0x3e7a32={'_id':new oe[(_0x16e14e(0x2c9))][(_0x16e14e(0x4ae))](),'owner':this[_0x16e14e(0x647)][_0x16e14e(0x445)],'name':_0x58e434[_0x16e14e(0x5cf)],'groups':[_0x1e1c01],'blocks':[_0xa78f13],..._0x58e434};return await this['repository'][_0x16e14e(0x1fb)][_0x16e14e(0x637)](_0x3e7a32,this['instance'][_0x16e14e(0x445)]);}catch(_0x54b788){throw this[_0x16e14e(0x31f)][_0x16e14e(0x30f)](this[_0x16e14e(0x60b)]+'\x20('+this['instance'][_0x16e14e(0x445)]+_0x16e14e(0x397)+_0x54b788),new f(_0x16e14e(0x5d8)+_0x54b788);}}async[a0_0x22ca5b(0x408)](_0x5ad5c3,_0x470055){const _0x48ea4d=a0_0x22ca5b;try{let _0x29ca66=await this['repository'][_0x48ea4d(0x1fb)][_0x48ea4d(0x3c6)]({'where':{'_id':_0x5ad5c3}},_0x470055);if(_0x29ca66&&_0x29ca66[_0x48ea4d(0x694)]){for(let _0x3b0cfc of _0x29ca66[_0x48ea4d(0x694)])if(_0x3b0cfc!==_0x470055){let _0x4de89c={..._0x29ca66,'owner':_0x3b0cfc};await this[_0x48ea4d(0x3e6)]['flow'][_0x48ea4d(0x674)](_0x5ad5c3,_0x4de89c,_0x3b0cfc);}}}catch(_0x284f7a){this[_0x48ea4d(0x31f)][_0x48ea4d(0x30f)](_0x48ea4d(0x3cb)+_0x284f7a);}}async[a0_0x22ca5b(0x5f2)](_0x33b279){const _0x547ccd=a0_0x22ca5b;try{this[_0x547ccd(0x31f)]['verbose'](this[_0x547ccd(0x60b)]+'\x20('+this[_0x547ccd(0x647)]['wuid']+_0x547ccd(0x4e4));let _0x4b8425=await this[_0x547ccd(0x3e6)][_0x547ccd(0x1fb)]['findOne']({'where':{'name':_0x33b279}},this[_0x547ccd(0x647)][_0x547ccd(0x445)]);if(_0x4b8425&&_0x4b8425[_0x547ccd(0x694)]&&_0x4b8425[_0x547ccd(0x694)][_0x547ccd(0x3cc)]>0x1){for(let _0x3b8417 of _0x4b8425[_0x547ccd(0x694)])if(_0x3b8417!==this[_0x547ccd(0x647)][_0x547ccd(0x445)]){let _0x512011=await this[_0x547ccd(0x3e6)][_0x547ccd(0x1fb)][_0x547ccd(0x3c6)]({'where':{'sharePass':_0x4b8425[_0x547ccd(0x638)]}},_0x3b8417);_0x512011&&(_0x512011[_0x547ccd(0x694)]=_0x512011['shareOwners'][_0x547ccd(0x771)](_0x26b515=>_0x26b515!==_0x4b8425['owner']),await this[_0x547ccd(0x3e6)][_0x547ccd(0x1fb)]['updateOne'](_0x512011[_0x547ccd(0x17f)],{'shareOwners':_0x512011['shareOwners']},_0x3b8417));}}return await this[_0x547ccd(0x3e6)][_0x547ccd(0x1fb)][_0x547ccd(0x4c5)]({'where':{'name':_0x33b279}},this[_0x547ccd(0x647)]['wuid']);}catch(_0x186757){return this['logger'][_0x547ccd(0x30f)](this[_0x547ccd(0x60b)]+'\x20('+this['instance'][_0x547ccd(0x445)]+_0x547ccd(0x724)+(_0x186757 instanceof Error?_0x186757[_0x547ccd(0x36b)]:JSON['stringify'](_0x186757,null,0x2))),{'message':_0x547ccd(0x1d0)+_0x186757};}}async['getFlow'](_0x1e25cf){const _0x3ba83c=a0_0x22ca5b;try{this[_0x3ba83c(0x31f)][_0x3ba83c(0x1c4)](this[_0x3ba83c(0x60b)]+'\x20('+this[_0x3ba83c(0x647)]['wuid']+_0x3ba83c(0x2d2));let _0x111728=await this['repository'][_0x3ba83c(0x1fb)][_0x3ba83c(0x3c6)]({'where':{'name':_0x1e25cf}},this[_0x3ba83c(0x647)]['wuid']);if(!_0x111728)throw new Error(_0x3ba83c(0x255));if(!this[_0x3ba83c(0x736)]&&(await this[_0x3ba83c(0x652)](),!this[_0x3ba83c(0x736)]))return null;let _0x217da2=this['AutomateSystem']?.[_0x3ba83c(0x6d5)][_0x3ba83c(0x4fd)](_0x1edf3f=>_0x1edf3f['name']),_0xebd879=[_0x3ba83c(0x5ef),_0x3ba83c(0x4b5),_0x3ba83c(0x305),_0x3ba83c(0x565),_0x3ba83c(0x167),_0x3ba83c(0x743),_0x3ba83c(0x282),_0x3ba83c(0x422),_0x3ba83c(0x289)];_0x111728[_0x3ba83c(0x6c9)]=_0x111728[_0x3ba83c(0x6c9)][_0x3ba83c(0x771)](_0x3ed182=>!(_0x3ed182['folder']===_0x3ba83c(0x2bc)||_0x3ed182[_0x3ba83c(0x2bc)])),_0xebd879[_0x3ba83c(0x6d9)](_0x4912fc=>{const _0x123b9d=_0x3ba83c;_0x111728[_0x123b9d(0x6c9)][_0x123b9d(0x5a4)]({'folder':_0x123b9d(0x2bc),'name':_0x4912fc,'value':'','doc':'','leadInfo':!0x0});}),_0x217da2[_0x3ba83c(0x6d9)](_0x3e9c8e=>{const _0x22d037=_0x3ba83c;let _0x5153e1=_0x111728[_0x22d037(0x6c9)][_0x22d037(0x3b0)](_0x49983b=>_0x49983b[_0x22d037(0x5cf)]===_0x3e9c8e);_0x5153e1===-0x1?_0x111728[_0x22d037(0x6c9)][_0x22d037(0x5a4)]({'folder':_0x22d037(0x2bc),'name':_0x3e9c8e,'value':'','doc':'','leadInfo':!0x0}):(_0x111728[_0x22d037(0x6c9)][_0x5153e1]['folder']='leadInfo',_0x111728[_0x22d037(0x6c9)][_0x5153e1][_0x22d037(0x2bc)]=!0x0);}),_0x111728[_0x3ba83c(0x29b)]&&_0x111728[_0x3ba83c(0x29b)][_0x3ba83c(0x3cc)]>0x0&&_0x111728[_0x3ba83c(0x29b)][_0x3ba83c(0x6d9)](_0x5a96dc=>{const _0x101bbd=_0x3ba83c;_0x5a96dc['groupId']&&_0x5a96dc[_0x101bbd(0x39e)]&&_0x5a96dc['groupId']===_0x5a96dc['next_groupId']&&(_0x5a96dc[_0x101bbd(0x39e)]=null);});let _0x23c8b3=await this[_0x3ba83c(0x3e6)][_0x3ba83c(0x1fb)]['updateOne'](_0x111728[_0x3ba83c(0x17f)],_0x111728,this[_0x3ba83c(0x647)]['wuid']);if(!_0x23c8b3)throw new Error(_0x3ba83c(0x235));return _0x23c8b3;}catch(_0x2914c8){throw this['logger'][_0x3ba83c(0x30f)](this['instanceName']+'\x20('+this[_0x3ba83c(0x647)]['wuid']+_0x3ba83c(0x308)+(_0x2914c8 instanceof Error?_0x2914c8[_0x3ba83c(0x36b)]:JSON[_0x3ba83c(0x3e3)](_0x2914c8,null,0x2))),new f('Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+_0x2914c8);}}async[a0_0x22ca5b(0x6ef)](){const _0x1c5c99=a0_0x22ca5b;try{return this[_0x1c5c99(0x31f)][_0x1c5c99(0x1c4)](this[_0x1c5c99(0x60b)]+'\x20('+this[_0x1c5c99(0x647)][_0x1c5c99(0x445)]+_0x1c5c99(0x3ac)),await this['repository'][_0x1c5c99(0x1fb)][_0x1c5c99(0x23a)](this[_0x1c5c99(0x647)][_0x1c5c99(0x445)]),await this[_0x1c5c99(0x3e6)]['flow'][_0x1c5c99(0x170)]({'where':{}},this[_0x1c5c99(0x647)][_0x1c5c99(0x445)]);}catch(_0x47bda4){return this[_0x1c5c99(0x31f)]['error'](this['instanceName']+'\x20('+this[_0x1c5c99(0x647)]['wuid']+_0x1c5c99(0x4c0)+(_0x47bda4 instanceof Error?_0x47bda4[_0x1c5c99(0x36b)]:JSON[_0x1c5c99(0x3e3)](_0x47bda4,null,0x2))),{'message':_0x1c5c99(0x3c1)+_0x47bda4};}}async['editFlow'](_0x28ba89){const _0x9a489d=a0_0x22ca5b;try{this[_0x9a489d(0x31f)][_0x9a489d(0x1c4)](this[_0x9a489d(0x60b)]+'\x20('+this[_0x9a489d(0x647)][_0x9a489d(0x445)]+_0x9a489d(0x3c5));let _0x388926=await this[_0x9a489d(0x3e6)][_0x9a489d(0x1fb)][_0x9a489d(0x3c6)]({'where':{'name':_0x28ba89[_0x9a489d(0x5cf)]}},this[_0x9a489d(0x647)][_0x9a489d(0x445)]);if(!_0x388926)return{'message':_0x9a489d(0x4da)};_0x28ba89[_0x9a489d(0x5a3)]===!0x0&&await this[_0x9a489d(0x3e6)][_0x9a489d(0x1fb)][_0x9a489d(0x1e9)]({},{'default':!0x1},this['instance'][_0x9a489d(0x445)]),delete _0x28ba89['shareOwners'],delete _0x28ba89[_0x9a489d(0x638)];let _0x3be70b=await this['repository'][_0x9a489d(0x1fb)][_0x9a489d(0x6f3)](_0x388926['_id'],_0x28ba89,this[_0x9a489d(0x647)][_0x9a489d(0x445)]);return _0x3be70b&&_0x3be70b[_0x9a489d(0x694)]&&_0x3be70b['shareOwners'][_0x9a489d(0x3cc)]>0x1&&this['synchronizeFlows'](_0x3be70b[_0x9a489d(0x17f)],this[_0x9a489d(0x647)]['wuid']),_0x3be70b;}catch(_0x2a5cf9){throw this['logger'][_0x9a489d(0x30f)](this['instanceName']+'\x20('+this[_0x9a489d(0x647)]['wuid']+'):\x20Erro\x20ao\x20alterar\x20fluxo:\x20'+(_0x2a5cf9 instanceof Error?_0x2a5cf9[_0x9a489d(0x36b)]:JSON[_0x9a489d(0x3e3)](_0x2a5cf9,null,0x2))),new f('Erro\x20ao\x20alterar\x20o\x20fluxo:\x20'+(_0x2a5cf9 instanceof Error?_0x2a5cf9[_0x9a489d(0x36b)]:JSON[_0x9a489d(0x3e3)](_0x2a5cf9,null,0x2)));}}async[a0_0x22ca5b(0x3de)](_0x1a462f){const _0x2f13f2=a0_0x22ca5b;try{this['logger']['verbose'](this[_0x2f13f2(0x60b)]+'\x20('+this[_0x2f13f2(0x647)][_0x2f13f2(0x445)]+'):\x20Editando\x20bloco...');let _0x410fa7=await this['repository'][_0x2f13f2(0x1fb)][_0x2f13f2(0x3c6)]({'where':{'name':_0x1a462f[_0x2f13f2(0x5cf)]}},this['instance']['wuid']);_0x410fa7||this[_0x2f13f2(0x673)]('Flow\x20não\x20encontrado');let {block:_0x532df0}=_0x1a462f;_0x532df0?.[_0x2f13f2(0x32e)]?this['copyBlock'](_0x410fa7,_0x1a462f):_0x532df0?.[_0x2f13f2(0x4c6)]?this[_0x2f13f2(0x226)](_0x410fa7,_0x1a462f):_0x532df0[_0x2f13f2(0x17f)]?await this['updateBlock'](_0x410fa7,_0x1a462f):this[_0x2f13f2(0x437)](_0x410fa7,_0x1a462f);let _0x315d6c=await this['repository'][_0x2f13f2(0x1fb)]['updateOne'](_0x410fa7[_0x2f13f2(0x17f)],_0x410fa7,this['instance']['wuid']);if(_0x315d6c&&_0x315d6c[_0x2f13f2(0x694)]&&_0x315d6c['shareOwners'][_0x2f13f2(0x3cc)]>0x1&&this[_0x2f13f2(0x408)](_0x315d6c[_0x2f13f2(0x17f)],this[_0x2f13f2(0x647)]['wuid']),!_0x315d6c)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x315d6c;}catch(_0x468227){this['throwAndLogError']('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x468227);}}async[a0_0x22ca5b(0x386)](_0x5505e8,_0x3eaeeb){const _0x48a4e1=a0_0x22ca5b;let _0x20bda2=_0x3eaeeb[_0x48a4e1(0x3fe)][_0x48a4e1(0x17f)],_0x904840=_0x5505e8[_0x48a4e1(0x29b)][_0x48a4e1(0x75e)](_0x38cfc8=>_0x38cfc8['_id'][_0x48a4e1(0x4b6)]()===_0x20bda2);if(!_0x904840){this[_0x48a4e1(0x31f)][_0x48a4e1(0x30f)](this['instanceName']+'\x20('+this[_0x48a4e1(0x647)]['wuid']+_0x48a4e1(0x3e2)+_0x20bda2+_0x48a4e1(0x76e));return;}this[_0x48a4e1(0x31f)][_0x48a4e1(0x1c4)](this['instanceName']+'\x20('+this[_0x48a4e1(0x647)][_0x48a4e1(0x445)]+_0x48a4e1(0x439)+JSON[_0x48a4e1(0x3e3)](_0x904840));let _0xc79b2d=JSON[_0x48a4e1(0x3db)](JSON['stringify'](_0x904840));_0xc79b2d[_0x48a4e1(0x17f)]=new oe[(_0x48a4e1(0x5a3))]['Types'][(_0x48a4e1(0x4ae))](),this[_0x48a4e1(0x31f)][_0x48a4e1(0x1c4)](this[_0x48a4e1(0x60b)]+'\x20('+this[_0x48a4e1(0x647)][_0x48a4e1(0x445)]+_0x48a4e1(0x5fd)+JSON[_0x48a4e1(0x3e3)](_0xc79b2d)),_0x5505e8[_0x48a4e1(0x29b)]['push'](_0xc79b2d),this['reorderBlocks'](_0x5505e8[_0x48a4e1(0x29b)],_0xc79b2d[_0x48a4e1(0x1a0)]);}[a0_0x22ca5b(0x673)](_0xf3b871){const _0x1507b4=a0_0x22ca5b;throw this['logger'][_0x1507b4(0x30f)](this[_0x1507b4(0x60b)]+'\x20('+this[_0x1507b4(0x647)][_0x1507b4(0x445)]+'):\x20'+_0xf3b871),new f(_0xf3b871);}['deleteBlock'](_0x5a6ca5,_0x31a400){const _0x4fb174=a0_0x22ca5b;let {block:_0x314118}=_0x31a400;if(_0x314118['type']===_0x4fb174(0x49f)){this['throwAndLogError'](_0x4fb174(0x580));return;}if(!_0x314118['_id']){this['throwAndLogError'](_0x4fb174(0x4df));return;}let _0xaf6ab8=_0x5a6ca5[_0x4fb174(0x29b)]['find'](_0x246b30=>_0x246b30[_0x4fb174(0x17f)][_0x4fb174(0x4b6)]()===_0x31a400[_0x4fb174(0x3fe)][_0x4fb174(0x17f)][_0x4fb174(0x4b6)]());if(!_0xaf6ab8){this[_0x4fb174(0x673)]('Bloco\x20com\x20ID\x20'+_0x314118[_0x4fb174(0x17f)]+_0x4fb174(0x5da));return;}_0x5a6ca5[_0x4fb174(0x29b)]=_0x5a6ca5['blocks'][_0x4fb174(0x771)](_0x49a1f4=>_0x49a1f4[_0x4fb174(0x17f)]['toString']()!==_0x31a400[_0x4fb174(0x3fe)][_0x4fb174(0x17f)][_0x4fb174(0x4b6)]()),_0x5a6ca5[_0x4fb174(0x68f)]=_0x5a6ca5['conditions']['filter'](_0xaa8906=>_0xaa8906[_0x4fb174(0x404)]!==_0x314118[_0x4fb174(0x17f)][_0x4fb174(0x4b6)]()),_0x5a6ca5[_0x4fb174(0x5a1)]=_0x5a6ca5[_0x4fb174(0x5a1)][_0x4fb174(0x771)](_0x45fd15=>_0x45fd15['blockId']!==_0x314118['_id'][_0x4fb174(0x4b6)]()),_0x5a6ca5['replyOptions']=_0x5a6ca5[_0x4fb174(0x6cf)]['filter'](_0x43ccad=>_0x43ccad[_0x4fb174(0x404)]!==_0x314118['_id'][_0x4fb174(0x4b6)]()),this[_0x4fb174(0x4e5)](_0x5a6ca5[_0x4fb174(0x29b)],_0xaf6ab8[_0x4fb174(0x1a0)]);}async[a0_0x22ca5b(0x228)](_0x233c45,_0x344fd1){const _0x50a003=a0_0x22ca5b;let _0x36b381=_0x233c45['blocks'][_0x50a003(0x3b0)](_0x4f1007=>_0x4f1007[_0x50a003(0x17f)][_0x50a003(0x4b6)]()===_0x344fd1[_0x50a003(0x3fe)][_0x50a003(0x17f)]['toString']());if(this[_0x50a003(0x31f)]['verbose'](this[_0x50a003(0x60b)]+'\x20('+this['instance'][_0x50a003(0x445)]+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x36b381),_0x36b381===-0x1){this['logger'][_0x50a003(0x1c4)](_0x50a003(0x4e1)+_0x344fd1[_0x50a003(0x3fe)][_0x50a003(0x17f)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}if(_0x233c45[_0x50a003(0x29b)][_0x36b381][_0x50a003(0x56b)]===_0x50a003(0x49f)){let _0x51b982=Object[_0x50a003(0x3ea)](_0x344fd1[_0x50a003(0x3fe)]);if(_0x51b982[_0x50a003(0x3cc)]>0x2||_0x51b982[_0x50a003(0x3cc)]===0x2&&!_0x51b982['includes'](_0x50a003(0x39e))){this[_0x50a003(0x673)](_0x50a003(0x46d));return;}}let _0x456397=_0x233c45['blocks'][_0x36b381][_0x50a003(0x1a0)];for(let _0x43a517 in _0x344fd1[_0x50a003(0x3fe)])_0x344fd1[_0x50a003(0x3fe)]['hasOwnProperty'](_0x43a517)&&(_0x233c45[_0x50a003(0x29b)][_0x36b381][_0x43a517]=_0x344fd1[_0x50a003(0x3fe)][_0x43a517]);if(this[_0x50a003(0x31f)][_0x50a003(0x1c4)](this['instanceName']+'\x20('+this[_0x50a003(0x647)][_0x50a003(0x445)]+_0x50a003(0x33a)+JSON['stringify'](_0x233c45[_0x50a003(0x29b)][_0x36b381])),_0x233c45[_0x50a003(0x29b)][_0x36b381][_0x50a003(0x727)]&&'header'in _0x233c45['blocks'][_0x36b381]['apirequest']){this[_0x50a003(0x31f)]['verbose'](this[_0x50a003(0x60b)]+'\x20('+this['instance'][_0x50a003(0x445)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x5b90d3=JSON[_0x50a003(0x3e3)](_0x233c45[_0x50a003(0x29b)][_0x36b381][_0x50a003(0x727)][_0x50a003(0x6aa)],null,0x1);_0x5b90d3['length']>0x2&&(_0x5b90d3=_0x5b90d3[_0x50a003(0x480)](0x1,_0x5b90d3['length']-0x1)[_0x50a003(0x44b)]()),_0x233c45[_0x50a003(0x29b)][_0x36b381][_0x50a003(0x727)]['headerString']=_0x5b90d3;}if(_0x233c45[_0x50a003(0x29b)][_0x36b381][_0x50a003(0x727)]&&_0x50a003(0x3a1)in _0x233c45[_0x50a003(0x29b)][_0x36b381][_0x50a003(0x727)]){this[_0x50a003(0x31f)][_0x50a003(0x1c4)](this[_0x50a003(0x60b)]+'\x20('+this[_0x50a003(0x647)][_0x50a003(0x445)]+_0x50a003(0x7d5));let _0x16b84c=JSON[_0x50a003(0x3e3)](_0x233c45[_0x50a003(0x29b)][_0x36b381][_0x50a003(0x727)][_0x50a003(0x3a1)],null,0x1);_0x16b84c[_0x50a003(0x3cc)]>0x2&&(_0x16b84c=_0x16b84c[_0x50a003(0x480)](0x1,_0x16b84c[_0x50a003(0x3cc)]-0x1)[_0x50a003(0x44b)]()),_0x233c45[_0x50a003(0x29b)][_0x36b381][_0x50a003(0x727)][_0x50a003(0x3e0)]=_0x16b84c;}let _0x10921a=_0x233c45['blocks'][_0x36b381][_0x50a003(0x1a0)];_0x456397!==_0x10921a?(this[_0x50a003(0x4e5)](_0x233c45['blocks'],_0x456397),this[_0x50a003(0x4e5)](_0x233c45[_0x50a003(0x29b)],_0x10921a)):this[_0x50a003(0x4e5)](_0x233c45[_0x50a003(0x29b)],_0x456397);}[a0_0x22ca5b(0x437)](_0x3e8737,_0x43bab7){const _0x3c4421=a0_0x22ca5b;if(_0x43bab7[_0x3c4421(0x3fe)]['type']===_0x3c4421(0x49f)){this[_0x3c4421(0x673)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x43bab7[_0x3c4421(0x3fe)]['apirequest']&&_0x3c4421(0x6aa)in _0x43bab7['block']['apirequest']){this[_0x3c4421(0x31f)][_0x3c4421(0x1c4)](this[_0x3c4421(0x60b)]+'\x20('+this[_0x3c4421(0x647)][_0x3c4421(0x445)]+_0x3c4421(0x68a));let _0x46698f=JSON['stringify'](_0x43bab7[_0x3c4421(0x3fe)][_0x3c4421(0x727)][_0x3c4421(0x6aa)],null,0x1);_0x46698f['length']>0x2&&(_0x46698f=_0x46698f[_0x3c4421(0x480)](0x1,_0x46698f['length']-0x1)['trim']()),_0x43bab7['block'][_0x3c4421(0x727)][_0x3c4421(0x243)]=_0x46698f;}_0x43bab7['block']['apirequest']&&_0x3c4421(0x3a1)in _0x43bab7[_0x3c4421(0x3fe)]['apirequest']&&(this[_0x3c4421(0x31f)]['verbose'](this[_0x3c4421(0x60b)]+'\x20('+this[_0x3c4421(0x647)][_0x3c4421(0x445)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x43bab7['block']['apirequest'][_0x3c4421(0x3e0)]=JSON[_0x3c4421(0x3e3)](_0x43bab7['block'][_0x3c4421(0x727)][_0x3c4421(0x3a1)],null,0x1)[_0x3c4421(0x44b)]()),_0x3e8737[_0x3c4421(0x29b)][_0x3c4421(0x5a4)](_0x43bab7[_0x3c4421(0x3fe)]),this['reorderBlocks'](_0x3e8737[_0x3c4421(0x29b)],_0x43bab7['block']['groupId']);}['reorderBlocks'](_0x5a9566,_0x4cb3e2){const _0x5dd333=a0_0x22ca5b;let _0x24d540=_0x5a9566[_0x5dd333(0x771)](_0x412292=>_0x412292[_0x5dd333(0x1a0)]===_0x4cb3e2);_0x24d540[_0x5dd333(0x1c1)]((_0x3d7938,_0x256f92)=>_0x3d7938[_0x5dd333(0x2a1)]-_0x256f92['order']),_0x24d540['forEach']((_0x127a7b,_0x30b3d3)=>_0x127a7b['order']=_0x30b3d3+0x1);}async['editFlowReply'](_0x26a177){const _0x114447=a0_0x22ca5b;try{if(this[_0x114447(0x31f)]['verbose'](this[_0x114447(0x60b)]+'\x20('+this[_0x114447(0x647)][_0x114447(0x445)]+_0x114447(0x3d7)),!_0x26a177||!_0x26a177[_0x114447(0x2f9)]){this[_0x114447(0x673)]('Data\x20inválida\x20fornecida');return;}let _0x3d239a=await this['repository'][_0x114447(0x1fb)]['findOne']({'where':{'name':_0x26a177[_0x114447(0x5cf)]}},this[_0x114447(0x647)]['wuid']);_0x3d239a||this[_0x114447(0x673)]('Flow\x20não\x20encontrado');let {replyOption:_0x4297e5}=_0x26a177;_0x4297e5?.[_0x114447(0x4c6)]?(this[_0x114447(0x56c)](_0x3d239a,_0x26a177),this['reorderReplyOptions'](_0x3d239a[_0x114447(0x6cf)],_0x26a177[_0x114447(0x2f9)][_0x114447(0x404)])):_0x4297e5[_0x114447(0x17f)]?(await this[_0x114447(0x190)](_0x3d239a,_0x26a177),this['reorderReplyOptions'](_0x3d239a[_0x114447(0x6cf)],_0x26a177[_0x114447(0x2f9)][_0x114447(0x404)])):(this[_0x114447(0x1a5)](_0x3d239a,_0x26a177),this[_0x114447(0x4be)](_0x3d239a[_0x114447(0x6cf)],_0x26a177[_0x114447(0x2f9)][_0x114447(0x404)]));let _0x3276c9=await this['repository'][_0x114447(0x1fb)][_0x114447(0x6f3)](_0x3d239a[_0x114447(0x17f)],_0x3d239a,this[_0x114447(0x647)][_0x114447(0x445)]);if(_0x3276c9&&_0x3276c9[_0x114447(0x694)]&&_0x3276c9[_0x114447(0x694)][_0x114447(0x3cc)]>0x1&&this['synchronizeFlows'](_0x3276c9[_0x114447(0x17f)],this[_0x114447(0x647)]['wuid']),!_0x3276c9)throw new Error(_0x114447(0x235));return _0x3276c9;}catch(_0x523833){this['throwAndLogError']('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x523833);}}[a0_0x22ca5b(0x4be)](_0x3bc094,_0x1cd017){const _0x438a69=a0_0x22ca5b;console[_0x438a69(0x256)](_0x438a69(0x3d1),_0x1cd017),_0x3bc094[_0x438a69(0x6d9)](_0x2018d4=>{const _0x1a596d=_0x438a69;_0x2018d4[_0x1a596d(0x404)]===_0x1cd017&&_0x2018d4[_0x1a596d(0x2a1)]===void 0x0&&(_0x2018d4[_0x1a596d(0x2a1)]=0x270f);});let _0x20bf63=_0x3bc094[_0x438a69(0x771)](_0x78149f=>_0x78149f[_0x438a69(0x404)]===_0x1cd017);_0x20bf63[_0x438a69(0x1c1)]((_0x379fe0,_0x152d27)=>_0x379fe0[_0x438a69(0x2a1)]-_0x152d27[_0x438a69(0x2a1)]),_0x20bf63[_0x438a69(0x6d9)]((_0x468835,_0x4537e0)=>{const _0x173398=_0x438a69;_0x468835[_0x173398(0x2a1)]=_0x4537e0+0x1;}),_0x3bc094[_0x438a69(0x6d9)](_0xc93a22=>{const _0x167c3c=_0x438a69;if(_0xc93a22[_0x167c3c(0x404)]===_0x1cd017){let _0xbfef7f=_0x20bf63[_0x167c3c(0x75e)](_0x2d58d0=>_0x2d58d0[_0x167c3c(0x17f)]&&_0xc93a22[_0x167c3c(0x17f)]&&_0x2d58d0[_0x167c3c(0x17f)][_0x167c3c(0x4b6)]()===_0xc93a22[_0x167c3c(0x17f)][_0x167c3c(0x4b6)]());_0xbfef7f&&(_0xc93a22['order']=_0xbfef7f['order']);}}),console[_0x438a69(0x256)]('ReplyOptions\x20finais\x20após\x20reordenação:',_0x3bc094);}['deleteReplyOption'](_0x3367b5,_0x367ca2){const _0x878d0c=a0_0x22ca5b;let {replyOption:_0x2eed63}=_0x367ca2;if(!_0x2eed63[_0x878d0c(0x17f)]){this[_0x878d0c(0x673)](_0x878d0c(0x6f6));return;}if(!_0x3367b5[_0x878d0c(0x6cf)][_0x878d0c(0x75e)](_0xd7489e=>_0xd7489e[_0x878d0c(0x17f)][_0x878d0c(0x4b6)]()===_0x367ca2[_0x878d0c(0x2f9)]['_id'][_0x878d0c(0x4b6)]())){this[_0x878d0c(0x673)](_0x878d0c(0x587)+_0x2eed63['_id']+_0x878d0c(0x5da));return;}_0x3367b5[_0x878d0c(0x6cf)]=_0x3367b5[_0x878d0c(0x6cf)][_0x878d0c(0x771)](_0x2cdf86=>_0x2cdf86['_id'][_0x878d0c(0x4b6)]()!==_0x367ca2[_0x878d0c(0x2f9)][_0x878d0c(0x17f)][_0x878d0c(0x4b6)]());}async[a0_0x22ca5b(0x190)](_0x1fc223,_0x3a4870){const _0x12ffde=a0_0x22ca5b;let _0x9754eb=_0x1fc223[_0x12ffde(0x6cf)][_0x12ffde(0x3b0)](_0x463d01=>_0x463d01[_0x12ffde(0x17f)]['toString']()===_0x3a4870['replyOption'][_0x12ffde(0x17f)]['toString']());if(_0x9754eb===-0x1){this[_0x12ffde(0x673)]('ReplyOption\x20com\x20ID\x20'+_0x3a4870[_0x12ffde(0x2f9)]['_id']+_0x12ffde(0x70a));return;}for(let _0xdeeb68 in _0x3a4870[_0x12ffde(0x2f9)])_0x3a4870[_0x12ffde(0x2f9)][_0x12ffde(0x71f)](_0xdeeb68)&&(_0x1fc223['replyOptions'][_0x9754eb][_0xdeeb68]=_0x3a4870['replyOption'][_0xdeeb68]);}['addReplyOption'](_0x4d4477,_0x11ce60){const _0x118ead=a0_0x22ca5b;_0x4d4477['replyOptions'][_0x118ead(0x5a4)](_0x11ce60[_0x118ead(0x2f9)]);}async[a0_0x22ca5b(0x2d1)](_0x529b04){const _0x1c0759=a0_0x22ca5b;this[_0x1c0759(0x31f)]['verbose'](this[_0x1c0759(0x60b)]+'\x20('+this['instance'][_0x1c0759(0x445)]+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup:'+_0x529b04);try{this['logger']['verbose'](this[_0x1c0759(0x60b)]+'\x20('+this['instance'][_0x1c0759(0x445)]+_0x1c0759(0x56e));let _0xaeddd3=await this[_0x1c0759(0x3e6)][_0x1c0759(0x1fb)]['findOne']({'where':{'name':_0x529b04['name']}},this[_0x1c0759(0x647)][_0x1c0759(0x445)]);if(!_0xaeddd3)throw new Error('Flow\x20não\x20encontrado');if(_0x529b04['group']&&_0x529b04['group']?.[_0x1c0759(0x4c6)]===!0x0){if(this[_0x1c0759(0x31f)]['verbose'](this['instanceName']+'\x20('+this[_0x1c0759(0x647)][_0x1c0759(0x445)]+_0x1c0759(0x603)),_0x529b04[_0x1c0759(0x714)]['default']===!0x0)return{'message':_0x1c0759(0x77f)};if(_0xaeddd3[_0x1c0759(0x29b)][_0x1c0759(0x4c2)](_0x3e18d4=>_0x3e18d4['groupId'][_0x1c0759(0x4b6)]()===_0x529b04[_0x1c0759(0x714)][_0x1c0759(0x17f)]))return this[_0x1c0759(0x31f)][_0x1c0759(0x1c4)](this['instanceName']+'\x20('+this[_0x1c0759(0x647)]['wuid']+_0x1c0759(0x715)),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0xaeddd3[_0x1c0759(0x225)]=_0xaeddd3[_0x1c0759(0x225)][_0x1c0759(0x771)](_0xa05ea8=>_0xa05ea8['_id'][_0x1c0759(0x4b6)]()!==_0x529b04['group'][_0x1c0759(0x17f)]);}else{if(_0x529b04['group']){if(_0x529b04[_0x1c0759(0x714)][_0x1c0759(0x5a3)]===!0x0)return{'message':_0x1c0759(0x237)};if(_0x529b04[_0x1c0759(0x714)]['_id']){let _0x2a6426=_0xaeddd3[_0x1c0759(0x225)][_0x1c0759(0x75e)](_0x5124ea=>_0x5124ea[_0x1c0759(0x17f)][_0x1c0759(0x4b6)]()===_0x529b04[_0x1c0759(0x714)]['_id']);_0x2a6426&&(_0x529b04[_0x1c0759(0x714)]['x']<0x0&&(_0x529b04['group']['x']=0x0),_0x529b04[_0x1c0759(0x714)]['y']<0x0&&(_0x529b04[_0x1c0759(0x714)]['y']=0x0),Object[_0x1c0759(0x739)](_0x2a6426,_0x529b04[_0x1c0759(0x714)]));}else _0xaeddd3[_0x1c0759(0x225)]['push'](_0x529b04['group']);}}let _0x4a2c78=await this[_0x1c0759(0x3e6)][_0x1c0759(0x1fb)][_0x1c0759(0x6f3)](_0xaeddd3[_0x1c0759(0x17f)],_0xaeddd3,this['instance'][_0x1c0759(0x445)]);if(_0x4a2c78&&_0x4a2c78[_0x1c0759(0x694)]&&_0x4a2c78[_0x1c0759(0x694)][_0x1c0759(0x3cc)]>0x1&&this[_0x1c0759(0x408)](_0x4a2c78[_0x1c0759(0x17f)],this[_0x1c0759(0x647)][_0x1c0759(0x445)]),!_0x4a2c78)throw new Error(_0x1c0759(0x235));return _0x4a2c78;}catch(_0x4cda25){throw this['logger'][_0x1c0759(0x30f)](this[_0x1c0759(0x60b)]+'\x20('+this['instance'][_0x1c0759(0x445)]+_0x1c0759(0x72c)+(_0x4cda25 instanceof Error?_0x4cda25['message']:JSON[_0x1c0759(0x3e3)](_0x4cda25,null,0x2))),new f('Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+(_0x4cda25 instanceof Error?_0x4cda25[_0x1c0759(0x36b)]:JSON['stringify'](_0x4cda25,null,0x2)));}}async[a0_0x22ca5b(0x6b5)](_0x5021fe){const _0x5045ec=a0_0x22ca5b;try{this[_0x5045ec(0x31f)][_0x5045ec(0x1c4)](this[_0x5045ec(0x60b)]+'\x20('+this[_0x5045ec(0x647)][_0x5045ec(0x445)]+'):\x20Editando\x20condição\x20do\x20fluxo...');let _0x18e5a5=await this['repository'][_0x5045ec(0x1fb)][_0x5045ec(0x3c6)]({'where':{'name':_0x5021fe['name']}},this[_0x5045ec(0x647)][_0x5045ec(0x445)]);if(!_0x18e5a5)throw new Error('Flow\x20não\x20encontrado');let _0x4e16d9=!0x1;if(_0x5021fe['condition']?.[_0x5045ec(0x4c6)]===!0x0)_0x18e5a5['conditions']=_0x18e5a5[_0x5045ec(0x68f)][_0x5045ec(0x771)](_0x40dc27=>_0x40dc27&&_0x5021fe['condition']&&_0x40dc27[_0x5045ec(0x17f)]&&_0x5021fe[_0x5045ec(0x69a)][_0x5045ec(0x17f)]&&_0x40dc27['_id'][_0x5045ec(0x4b6)]()!==_0x5021fe[_0x5045ec(0x69a)][_0x5045ec(0x17f)][_0x5045ec(0x4b6)]()),_0x4e16d9=!0x0;else{let _0x2014db=_0x18e5a5[_0x5045ec(0x68f)][_0x5045ec(0x75e)](_0x2cf45e=>_0x2cf45e&&_0x5021fe[_0x5045ec(0x69a)]&&_0x2cf45e['_id']&&_0x5021fe['condition']['_id']&&_0x2cf45e[_0x5045ec(0x17f)]['toString']()===_0x5021fe['condition']['_id'][_0x5045ec(0x4b6)]());_0x2014db?(_0x4e16d9=_0x2014db[_0x5045ec(0x2a1)]!==_0x5021fe['condition'][_0x5045ec(0x2a1)],Object[_0x5045ec(0x739)](_0x2014db,_0x5021fe[_0x5045ec(0x69a)])):(_0x18e5a5[_0x5045ec(0x68f)][_0x5045ec(0x5a4)](_0x5021fe['condition']),_0x4e16d9=!0x0);}if(_0x4e16d9){_0x18e5a5[_0x5045ec(0x68f)][_0x5045ec(0x1c1)]((_0x247eb0,_0x430d5a)=>_0x247eb0['order']>_0x430d5a[_0x5045ec(0x2a1)]?0x1:_0x430d5a[_0x5045ec(0x2a1)]>_0x247eb0[_0x5045ec(0x2a1)]?-0x1:0x0);for(let _0x2dc27b=0x0;_0x2dc27b<_0x18e5a5['conditions'][_0x5045ec(0x3cc)];_0x2dc27b++)_0x18e5a5[_0x5045ec(0x68f)][_0x2dc27b][_0x5045ec(0x2a1)]=_0x2dc27b+0x1;_0x18e5a5[_0x5045ec(0x68f)][_0x5045ec(0x3cc)]>0x0&&(_0x18e5a5[_0x5045ec(0x68f)][0x0][_0x5045ec(0x5f8)]='and');}let _0x2e533b=await this[_0x5045ec(0x3e6)][_0x5045ec(0x1fb)][_0x5045ec(0x6f3)](_0x18e5a5[_0x5045ec(0x17f)],_0x18e5a5,this[_0x5045ec(0x647)]['wuid']);if(_0x2e533b&&_0x2e533b[_0x5045ec(0x694)]&&_0x2e533b[_0x5045ec(0x694)][_0x5045ec(0x3cc)]>0x1&&this['synchronizeFlows'](_0x2e533b['_id'],this[_0x5045ec(0x647)][_0x5045ec(0x445)]),!_0x2e533b)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x2e533b;}catch(_0x437346){throw this['logger'][_0x5045ec(0x30f)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5045ec(0x7b2)+(_0x437346 instanceof Error?_0x437346[_0x5045ec(0x36b)]:JSON['stringify'](_0x437346,null,0x2))),new Error('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x437346 instanceof Error?_0x437346['message']:JSON[_0x5045ec(0x3e3)](_0x437346,null,0x2)));}}async[a0_0x22ca5b(0x670)](_0x317938){const _0x90d990=a0_0x22ca5b;try{this[_0x90d990(0x31f)][_0x90d990(0x1c4)](this[_0x90d990(0x60b)]+'\x20('+this[_0x90d990(0x647)][_0x90d990(0x445)]+_0x90d990(0x2c3));let _0x38dbfb=await this['repository']['flow'][_0x90d990(0x3c6)]({'where':{'name':_0x317938['name']}},this['instance'][_0x90d990(0x445)]);if(!_0x38dbfb)throw new Error('Flow\x20não\x20encontrado');let _0x22393f=!0x1;if(_0x317938[_0x90d990(0x435)]?.[_0x90d990(0x4c6)]===!0x0)_0x38dbfb[_0x90d990(0x5a1)]=_0x38dbfb[_0x90d990(0x5a1)]['filter'](_0x3873f0=>_0x3873f0&&_0x317938[_0x90d990(0x435)]&&_0x3873f0[_0x90d990(0x17f)]&&_0x317938[_0x90d990(0x435)][_0x90d990(0x17f)]&&_0x3873f0[_0x90d990(0x17f)][_0x90d990(0x4b6)]()!==_0x317938[_0x90d990(0x435)][_0x90d990(0x17f)][_0x90d990(0x4b6)]()),_0x22393f=!0x0;else{let _0x55b531=_0x38dbfb[_0x90d990(0x5a1)][_0x90d990(0x75e)](_0x3fa2b1=>_0x3fa2b1&&_0x317938['varedit']&&_0x3fa2b1[_0x90d990(0x17f)]&&_0x317938['varedit'][_0x90d990(0x17f)]&&_0x3fa2b1['_id'][_0x90d990(0x4b6)]()===_0x317938[_0x90d990(0x435)]['_id'][_0x90d990(0x4b6)]());_0x55b531?(_0x22393f=_0x55b531[_0x90d990(0x2a1)]!==_0x317938[_0x90d990(0x435)][_0x90d990(0x2a1)],Object['assign'](_0x55b531,_0x317938['varedit'])):(_0x38dbfb[_0x90d990(0x5a1)][_0x90d990(0x5a4)](_0x317938[_0x90d990(0x435)]),_0x22393f=!0x0);}if(_0x22393f){_0x38dbfb['varedits']['sort']((_0x1dcfdd,_0x3f79bd)=>_0x1dcfdd[_0x90d990(0x2a1)]>_0x3f79bd[_0x90d990(0x2a1)]?0x1:_0x3f79bd[_0x90d990(0x2a1)]>_0x1dcfdd[_0x90d990(0x2a1)]?-0x1:0x0);for(let _0x3c8cf6=0x0;_0x3c8cf6<_0x38dbfb[_0x90d990(0x5a1)][_0x90d990(0x3cc)];_0x3c8cf6++)_0x38dbfb[_0x90d990(0x5a1)][_0x3c8cf6][_0x90d990(0x2a1)]=_0x3c8cf6+0x1;}let _0x2ae4c1=await this[_0x90d990(0x3e6)][_0x90d990(0x1fb)][_0x90d990(0x6f3)](_0x38dbfb[_0x90d990(0x17f)],_0x38dbfb,this[_0x90d990(0x647)][_0x90d990(0x445)]);if(_0x2ae4c1&&_0x2ae4c1[_0x90d990(0x694)]&&_0x2ae4c1[_0x90d990(0x694)][_0x90d990(0x3cc)]>0x1&&this[_0x90d990(0x408)](_0x2ae4c1[_0x90d990(0x17f)],this[_0x90d990(0x647)][_0x90d990(0x445)]),!_0x2ae4c1)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x2ae4c1;}catch(_0x203ec6){throw this[_0x90d990(0x31f)][_0x90d990(0x30f)](this[_0x90d990(0x60b)]+'\x20('+this['instance'][_0x90d990(0x445)]+_0x90d990(0x7b2)+(_0x203ec6 instanceof Error?_0x203ec6[_0x90d990(0x36b)]:JSON[_0x90d990(0x3e3)](_0x203ec6,null,0x2))),new f(_0x90d990(0x463)+(_0x203ec6 instanceof Error?_0x203ec6[_0x90d990(0x36b)]:JSON[_0x90d990(0x3e3)](_0x203ec6,null,0x2)));}}async['editFlowVariable'](_0x3e7c51){const _0x3ab198=a0_0x22ca5b;try{this['logger'][_0x3ab198(0x1c4)](this[_0x3ab198(0x60b)]+'\x20('+this[_0x3ab198(0x647)][_0x3ab198(0x445)]+_0x3ab198(0x2f7));let _0xef759e=await this[_0x3ab198(0x3e6)][_0x3ab198(0x1fb)]['findOne']({'where':{'name':_0x3e7c51[_0x3ab198(0x5cf)]}},this[_0x3ab198(0x647)][_0x3ab198(0x445)]);if(!_0xef759e)throw new Error(_0x3ab198(0x255));_0x3e7c51[_0x3ab198(0x57b)][_0x3ab198(0x5cf)]=_0x3e7c51[_0x3ab198(0x57b)][_0x3ab198(0x5cf)][_0x3ab198(0x44b)](),_0x3e7c51[_0x3ab198(0x57b)][_0x3ab198(0x5cf)][_0x3ab198(0x3a5)]('_')&&(_0x3e7c51[_0x3ab198(0x57b)][_0x3ab198(0x5cf)]=_0x3e7c51[_0x3ab198(0x57b)][_0x3ab198(0x5cf)][_0x3ab198(0x480)](0x1)),_0x3e7c51[_0x3ab198(0x57b)][_0x3ab198(0x5cf)]=_0x3e7c51[_0x3ab198(0x57b)][_0x3ab198(0x5cf)][_0x3ab198(0x44b)]();let _0x59d03a=_0xef759e[_0x3ab198(0x6c9)][_0x3ab198(0x75e)](_0x43b4ff=>_0x43b4ff[_0x3ab198(0x5cf)]===_0x3e7c51['variable'][_0x3ab198(0x5cf)]);if(_0x59d03a?.[_0x3ab198(0x2bc)]===!0x0)throw new Error(_0x3ab198(0x334));if(_0x3e7c51[_0x3ab198(0x57b)]?.[_0x3ab198(0x4c6)]===!0x0){if(!_0x59d03a)return{'message':_0x3ab198(0x5fe)};_0xef759e['variables']=_0xef759e[_0x3ab198(0x6c9)][_0x3ab198(0x771)](_0x26f069=>_0x26f069[_0x3ab198(0x5cf)]!==_0x3e7c51[_0x3ab198(0x57b)][_0x3ab198(0x5cf)]);}else _0x59d03a?Object['assign'](_0x59d03a,_0x3e7c51[_0x3ab198(0x57b)]):_0xef759e[_0x3ab198(0x6c9)][_0x3ab198(0x5a4)](_0x3e7c51[_0x3ab198(0x57b)]);let _0x3a9086=await this['repository'][_0x3ab198(0x1fb)][_0x3ab198(0x6f3)](_0xef759e['_id'],_0xef759e,this['instance'][_0x3ab198(0x445)]);if(_0x3a9086&&_0x3a9086[_0x3ab198(0x694)]&&_0x3a9086[_0x3ab198(0x694)][_0x3ab198(0x3cc)]>0x1&&this[_0x3ab198(0x408)](_0x3a9086[_0x3ab198(0x17f)],this[_0x3ab198(0x647)][_0x3ab198(0x445)]),!_0x3a9086)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x3a9086;}catch(_0x2c9d27){throw this['logger'][_0x3ab198(0x30f)](this['instanceName']+'\x20('+this[_0x3ab198(0x647)]['wuid']+_0x3ab198(0x493)+(_0x2c9d27 instanceof Error?_0x2c9d27[_0x3ab198(0x36b)]:JSON[_0x3ab198(0x3e3)](_0x2c9d27,null,0x2))),new f(_0x3ab198(0x5ad)+(_0x2c9d27 instanceof Error?_0x2c9d27[_0x3ab198(0x36b)]:JSON[_0x3ab198(0x3e3)](_0x2c9d27,null,0x2)));}}async[a0_0x22ca5b(0x465)](_0x3863df){const _0x4014c3=a0_0x22ca5b;let _0x44226d=null;try{if(!this[_0x4014c3(0x736)]?.['flowConfig']['enabled'])throw new f(_0x4014c3(0x7c8));this[_0x4014c3(0x31f)]['verbose'](this['instanceName']+'\x20('+this[_0x4014c3(0x647)][_0x4014c3(0x445)]+_0x4014c3(0x760));let _0x5bb6a0=(await this[_0x4014c3(0x1d1)]({'numbers':[_0x3863df['remoteJid']]}))[0x0];if(!_0x5bb6a0[_0x4014c3(0x1eb)]&&!(0x0,m['isJidGroup'])(_0x5bb6a0[_0x4014c3(0x436)])&&!_0x5bb6a0[_0x4014c3(0x436)]['includes'](_0x4014c3(0x1a8)))throw _0x44226d=JSON['stringify'](_0x5bb6a0,null,0x2),new f(_0x5bb6a0);let _0x23eb0c=await this[_0x4014c3(0x3e6)][_0x4014c3(0x1fb)][_0x4014c3(0x3c6)]({'where':{'name':_0x3863df['name']}},this[_0x4014c3(0x647)]['wuid']);if(!_0x23eb0c)return this[_0x4014c3(0x31f)]['error'](this['instanceName']+'\x20('+this[_0x4014c3(0x647)][_0x4014c3(0x445)]+_0x4014c3(0x41c)),{'message':_0x4014c3(0x255)};let _0x102c6c=await this[_0x4014c3(0x213)](_0x23eb0c,_0x5bb6a0[_0x4014c3(0x436)],_0x3863df[_0x4014c3(0x6ed)]);if(_0x102c6c){this[_0x4014c3(0x31f)][_0x4014c3(0x1c4)](this['instanceName']+'\x20('+this[_0x4014c3(0x647)][_0x4014c3(0x445)]+'):\x20Criou\x20conversa\x20no\x20startFlow:');let _0x4782c6=await this[_0x4014c3(0x549)](_0x102c6c);return _0x4782c6&&await this['processblock'](_0x102c6c,_0x4782c6),{'message':_0x4014c3(0x598)+_0x3863df[_0x4014c3(0x3a4)]};}}catch(_0x3f49fb){if(this[_0x4014c3(0x31f)][_0x4014c3(0x30f)](this[_0x4014c3(0x60b)]+'\x20('+this[_0x4014c3(0x647)][_0x4014c3(0x445)]+_0x4014c3(0x2e2)+(_0x3f49fb instanceof Error?_0x3f49fb[_0x4014c3(0x36b)]:JSON[_0x4014c3(0x3e3)](_0x3f49fb,null,0x2))),_0x44226d=_0x3f49fb instanceof Error?_0x3f49fb['message']:JSON['stringify'](_0x3f49fb,null,0x2),_0x44226d)throw new f(_0x4014c3(0x698)+_0x44226d);}}async[a0_0x22ca5b(0x5d3)](_0x60021a){const _0x33cad9=a0_0x22ca5b;try{let _0x12756b={'remoteJid':_0x60021a,'status':_0x33cad9(0x50b)},_0x190fc5={'status':'closed'},_0x1f9873=await this['repository'][_0x33cad9(0x5ab)]['updateMany'](_0x12756b,_0x190fc5,this[_0x33cad9(0x647)][_0x33cad9(0x445)]);return this['logger'][_0x33cad9(0x1c4)](this[_0x33cad9(0x60b)]+'\x20('+this[_0x33cad9(0x647)]['wuid']+_0x33cad9(0x6c1)),_0x1f9873;}catch(_0x2c25d8){throw this[_0x33cad9(0x31f)][_0x33cad9(0x30f)](this[_0x33cad9(0x60b)]+'\x20('+this[_0x33cad9(0x647)][_0x33cad9(0x445)]+_0x33cad9(0x581)+_0x2c25d8['message']),_0x2c25d8;}}async[a0_0x22ca5b(0x213)](_0x3d0eae,_0x4bf098,_0x2fb0e6){const _0x4bbca1=a0_0x22ca5b;this[_0x4bbca1(0x31f)][_0x4bbca1(0x1c4)](this['instanceName']+'\x20('+this[_0x4bbca1(0x647)][_0x4bbca1(0x445)]+_0x4bbca1(0x3ce)),await this[_0x4bbca1(0x5d3)](_0x4bf098);try{let _0x4b25af=require(_0x4bbca1(0x303))[_0x4bbca1(0x4ae)],_0x59f714=Date[_0x4bbca1(0x37f)](),_0x5d9348=_0x4bbca1(0x49f),_0x1d540e={},_0x39c8ad={},_0x5aae2a={..._0x3d0eae,'chatLog':null},_0x261745=await this[_0x4bbca1(0x556)](_0x5aae2a['variables']),_0x2ded85=await this[_0x4bbca1(0x57f)](_0x4bf098),_0x2f0d2e={..._0x261745,..._0x2ded85,'_remoteJid':_0x4bf098},_0x44a014={'lastReceivedMessage':_0x1d540e,'lastSendMessage':_0x39c8ad,'lastBlockId':_0x5d9348,'lastCondition':!0x0,'realVariables':_0x2f0d2e};_0x5aae2a[_0x4bbca1(0x6b4)]=_0x44a014,_0x5aae2a[_0x4bbca1(0x6b4)][_0x4bbca1(0x3d4)]={..._0x2f0d2e,..._0x2fb0e6},delete _0x5aae2a['_id'],_0x5aae2a[_0x4bbca1(0x17f)]=new _0x4b25af(),_0x5aae2a[_0x4bbca1(0x37d)]=_0x59f714,_0x5aae2a[_0x4bbca1(0x167)]=_0x4bbca1(0x50b),_0x5aae2a['remoteJid']=_0x4bf098;let _0x3e19bc=await this[_0x4bbca1(0x3e6)]['flowConversation']['updateOne'](_0x5aae2a['_id'],_0x5aae2a,this[_0x4bbca1(0x647)]['wuid']);return this[_0x4bbca1(0x31f)]['verbose'](this[_0x4bbca1(0x60b)]+'\x20('+this[_0x4bbca1(0x647)][_0x4bbca1(0x445)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x3e19bc?_0x5aae2a:null;}catch(_0x475784){throw this[_0x4bbca1(0x31f)][_0x4bbca1(0x30f)](this[_0x4bbca1(0x60b)]+'\x20('+this['instance'][_0x4bbca1(0x445)]+_0x4bbca1(0x6dd)+(_0x475784 instanceof Error?_0x475784[_0x4bbca1(0x36b)]:JSON[_0x4bbca1(0x3e3)](_0x475784,null,0x2))),new f(_0x475784[_0x4bbca1(0x36b)]);}}async[a0_0x22ca5b(0x47c)](_0x34facc){const _0x583bc7=a0_0x22ca5b;try{this[_0x583bc7(0x31f)][_0x583bc7(0x1c4)](this['instanceName']+'\x20('+this[_0x583bc7(0x647)][_0x583bc7(0x445)]+'):\x20Buscando\x20conversa...'),this[_0x583bc7(0x31f)][_0x583bc7(0x1c4)](this[_0x583bc7(0x60b)]+'\x20('+this[_0x583bc7(0x647)][_0x583bc7(0x445)]+_0x583bc7(0x526)+_0x34facc);let _0x3c76b1={'where':{'_id':_0x34facc}};return await this['repository'][_0x583bc7(0x5ab)][_0x583bc7(0x3c6)](_0x3c76b1,this['instance']['wuid']);}catch(_0x4630f4){throw this[_0x583bc7(0x31f)][_0x583bc7(0x30f)](this[_0x583bc7(0x60b)]+'\x20('+this[_0x583bc7(0x647)]['wuid']+_0x583bc7(0x65d)+(_0x4630f4 instanceof Error?_0x4630f4['message']:JSON[_0x583bc7(0x3e3)](_0x4630f4,null,0x2))),new f(_0x583bc7(0x1bd)+_0x4630f4[_0x583bc7(0x36b)]);}}async[a0_0x22ca5b(0x273)](_0x3d1e33){const _0x54ef89=a0_0x22ca5b;try{return this[_0x54ef89(0x31f)][_0x54ef89(0x1c4)](this[_0x54ef89(0x60b)]+'\x20('+this[_0x54ef89(0x647)][_0x54ef89(0x445)]+_0x54ef89(0x217)),await this[_0x54ef89(0x3e6)][_0x54ef89(0x5ab)]['find'](_0x3d1e33,this[_0x54ef89(0x647)][_0x54ef89(0x445)]);}catch(_0x57c8ba){throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x54ef89(0x647)][_0x54ef89(0x445)]+_0x54ef89(0x459)+(_0x57c8ba instanceof Error?_0x57c8ba['message']:JSON[_0x54ef89(0x3e3)](_0x57c8ba,null,0x2))),new f(_0x54ef89(0x59b)+_0x57c8ba['message']);}}async[a0_0x22ca5b(0x53f)](_0x147734){const _0x17f04a=a0_0x22ca5b;try{return this['logger'][_0x17f04a(0x1c4)](this[_0x17f04a(0x60b)]+'\x20('+this[_0x17f04a(0x647)][_0x17f04a(0x445)]+_0x17f04a(0x3f0)),this[_0x17f04a(0x31f)][_0x17f04a(0x1c4)](this[_0x17f04a(0x60b)]+'\x20('+this[_0x17f04a(0x647)][_0x17f04a(0x445)]+_0x17f04a(0x3f3)+_0x147734),(await this[_0x17f04a(0x3e6)][_0x17f04a(0x5ab)]['deleteOne']({'where':{'_id':_0x147734}},this['instance'][_0x17f04a(0x445)]))[_0x17f04a(0x54e)]===0x0?{'message':_0x17f04a(0x658)}:{'message':_0x17f04a(0x560)};}catch(_0x267e34){throw this[_0x17f04a(0x31f)][_0x17f04a(0x30f)](this[_0x17f04a(0x60b)]+'\x20('+this[_0x17f04a(0x647)][_0x17f04a(0x445)]+_0x17f04a(0x41a)+(_0x267e34 instanceof Error?_0x267e34['message']:JSON[_0x17f04a(0x3e3)](_0x267e34,null,0x2))),new f(_0x17f04a(0x319)+_0x267e34['message']);}}async[a0_0x22ca5b(0x4de)](_0x5bc0d6){const _0x35ac44=a0_0x22ca5b;try{let {_id:_0x2686cb,chatLog:_0x57760c,status:_0x33b523}=_0x5bc0d6;if(!_0x2686cb)return{'message':_0x35ac44(0x318)};let _0x4ecd3c={};if(_0x33b523!==void 0x0&&(_0x4ecd3c[_0x35ac44(0x167)]=_0x33b523),Object[_0x35ac44(0x3ea)](_0x4ecd3c)[_0x35ac44(0x3cc)]===0x0)return{'message':_0x35ac44(0x4f5)};let _0x57fe2e=await this[_0x35ac44(0x3e6)][_0x35ac44(0x5ab)]['updateOne'](_0x2686cb,_0x4ecd3c,this[_0x35ac44(0x647)][_0x35ac44(0x445)]);return _0x57fe2e||{'message':_0x35ac44(0x42b)};}catch(_0x3ac7d7){throw this[_0x35ac44(0x31f)][_0x35ac44(0x30f)](this['instanceName']+'\x20('+this[_0x35ac44(0x647)][_0x35ac44(0x445)]+_0x35ac44(0x48b)+(_0x3ac7d7 instanceof Error?_0x3ac7d7['message']:JSON['stringify'](_0x3ac7d7,null,0x2))),new f(_0x35ac44(0x759)+_0x3ac7d7[_0x35ac44(0x36b)]);}}async[a0_0x22ca5b(0x1b4)](_0x1b9575){const _0x560016=a0_0x22ca5b;let _0x3bfd5f=await this[_0x560016(0x3e6)][_0x560016(0x2d6)][_0x560016(0x3c6)]({'where':{'_id':_0x1b9575[_0x560016(0x17f)]}},this[_0x560016(0x647)][_0x560016(0x445)]);if(!_0x3bfd5f)throw new f(_0x560016(0x50a));console[_0x560016(0x256)](_0x1b9575);try{_0x1b9575[_0x560016(0x17f)]=this[_0x560016(0x1ca)](_0x1b9575['_id']);let {_id:_0x5824ee,leadInfo:_0x288bab}=_0x1b9575;if(!_0x5824ee)throw new Error(_0x560016(0x29f));let _0x2e8db1=(_0x314d46,_0x203d7d,_0x327416)=>{const _0x3fe92a=_0x560016;_0x314d46&&_0x327416[_0x3fe92a(0x6d9)](_0x2bb98f=>{const _0x44467f=_0x3fe92a;_0x314d46[_0x2bb98f]!==void 0x0&&(_0x203d7d[_0x44467f(0x241)+_0x2bb98f]=_0x314d46[_0x2bb98f]);});},_0x565c92={};if(_0x288bab&&(_0x2e8db1(_0x288bab,_0x565c92,['nome',_0x560016(0x4b5),_0x560016(0x305),_0x560016(0x565),'status',_0x560016(0x743),'tags','atendimentoAberto',_0x560016(0x282),_0x560016(0x289)]),Array[_0x560016(0x27c)](_0x288bab[_0x560016(0x6d5)])&&(_0x565c92['leadInfo.customFields']=_0x288bab[_0x560016(0x6d5)][_0x560016(0x4fd)](_0x43f97e=>({'_id':_0x43f97e[_0x560016(0x17f)],'value':_0x43f97e['value']}))),_0x1b9575[_0x560016(0x2bc)][_0x560016(0x289)]!==void 0x0)){let _0x5bde2c=await this[_0x560016(0x3e6)][_0x560016(0x72f)][_0x560016(0x75e)]({'where':{}},this[_0x560016(0x647)]['wuid']),_0x38b693=new Set(_0x1b9575[_0x560016(0x2bc)][_0x560016(0x289)]||[]),_0x10776e=new Set(_0x1b9575['leadInfo'][_0x560016(0x289)]),_0x5492cf=new Set(_0x5bde2c[_0x560016(0x4fd)](_0xc6ac1d=>_0xc6ac1d['_id'])),_0x795823=[..._0x10776e]['filter'](_0xf5e20a=>!_0x38b693['has'](_0xf5e20a)&&_0x5492cf[_0x560016(0x76c)](_0xf5e20a)),_0x3e6eda=[..._0x38b693][_0x560016(0x771)](_0x5b2a6d=>!_0x10776e[_0x560016(0x76c)](_0x5b2a6d));if(_0x565c92[_0x560016(0x7a5)]=[..._0x38b693],_0x3bfd5f&&!_0x3bfd5f[_0x560016(0x644)]){for(let _0x1fa1db of _0x795823)await this[_0x560016(0x624)](_0x1fa1db,_0x1b9575['_id']),_0x38b693['add'](_0x1fa1db);for(let _0x311ea8 of _0x3e6eda)await this['RemoveChatLabel'](_0x311ea8,_0x1b9575[_0x560016(0x17f)]),_0x38b693[_0x560016(0x4c6)](_0x311ea8);}}if(_0x1b9575[_0x560016(0x53a)]!==void 0x0&&(_0x565c92[_0x560016(0x53a)]=Number(_0x1b9575[_0x560016(0x53a)])),Object[_0x560016(0x3ea)](_0x565c92)[_0x560016(0x3cc)]===0x0)throw new Error(_0x560016(0x4f5));let _0x2f9983=await this[_0x560016(0x3e6)]['chat']['updateOne']({'where':{'_id':_0x1b9575[_0x560016(0x17f)]}},_0x565c92,this[_0x560016(0x647)][_0x560016(0x445)]);return _0x2f9983&&q(this['instanceName'],'chats',{'chat':_0x2f9983}),_0x2f9983?(this[_0x560016(0x31f)][_0x560016(0x1c4)](this[_0x560016(0x60b)]+'\x20('+this['instance'][_0x560016(0x445)]+'):\x20'+JSON[_0x560016(0x3e3)](_0x2f9983,null,0x2)),_0x2f9983):{'message':_0x560016(0x5aa)};}catch(_0x9cec06){throw this[_0x560016(0x31f)][_0x560016(0x30f)](this[_0x560016(0x60b)]+'\x20('+this['instance'][_0x560016(0x445)]+_0x560016(0x291)+(_0x9cec06 instanceof Error?_0x9cec06[_0x560016(0x36b)]:JSON[_0x560016(0x3e3)](_0x9cec06,null,0x2))),new f(_0x560016(0x171)+_0x9cec06[_0x560016(0x36b)]);}}async[a0_0x22ca5b(0x624)](_0x26eed3,_0xc98eaf){const _0x429407=a0_0x22ca5b;try{await this[_0x429407(0x42e)][_0x429407(0x5b2)](_0xc98eaf,_0x26eed3),console[_0x429407(0x256)]('Label\x20'+_0x26eed3+_0x429407(0x412)+_0xc98eaf+_0x429407(0x1cf));}catch(_0x41c1f2){console[_0x429407(0x30f)](_0x429407(0x360)+_0x26eed3+_0x429407(0x56a)+_0xc98eaf+':',_0x41c1f2);}}async[a0_0x22ca5b(0x608)](_0x3c8c32,_0x16135a){const _0x5e71f8=a0_0x22ca5b;try{await this[_0x5e71f8(0x42e)][_0x5e71f8(0x66b)](_0x16135a,_0x3c8c32),console[_0x5e71f8(0x256)](_0x5e71f8(0x338)+_0x3c8c32+_0x5e71f8(0x379)+_0x16135a+_0x5e71f8(0x1cf));}catch(_0x23aafd){console[_0x5e71f8(0x30f)]('Erro\x20ao\x20remover\x20label\x20'+_0x3c8c32+_0x5e71f8(0x462)+_0x16135a+':',_0x23aafd);}}async[a0_0x22ca5b(0x2a2)](_0x599787){const _0x175074=a0_0x22ca5b;try{let _0x488f21=await this[_0x175074(0x3e6)][_0x175074(0x3fa)][_0x175074(0x28b)](this[_0x175074(0x647)]['wuid']),_0x33ec7f=_0x599787[_0x175074(0x17f)]?_0x488f21[_0x175074(0x5b8)]['findIndex'](_0x12485b=>_0x12485b[_0x175074(0x17f)]===_0x599787[_0x175074(0x17f)]):-0x1;if(_0x599787[_0x175074(0x4c6)]&&_0x33ec7f>-0x1)_0x488f21['agents'][_0x175074(0x593)](_0x33ec7f,0x1);else{if(_0x33ec7f>-0x1){let _0x19e149=_0x488f21['agents'][_0x33ec7f];_0x599787[_0x175074(0x5b6)]&&(_0x19e149[_0x175074(0x5b6)]=_0x599787[_0x175074(0x5b6)]),_0x599787['name']&&(_0x19e149['name']=_0x599787['name']),_0x599787['email']&&(_0x19e149[_0x175074(0x305)]=_0x599787[_0x175074(0x305)]),_0x599787['role']&&(_0x19e149[_0x175074(0x1d2)]=_0x599787[_0x175074(0x1d2)]);}else _0x488f21[_0x175074(0x5b8)][_0x175074(0x5a4)]({'_id':_0x599787[_0x175074(0x17f)]||new oe['default'][(_0x175074(0x2c9))][(_0x175074(0x4ae))]()[_0x175074(0x4b6)](),'fone':_0x599787[_0x175074(0x5b6)],'name':_0x599787[_0x175074(0x5cf)],'email':_0x599787[_0x175074(0x305)],'role':_0x599787[_0x175074(0x1d2)]});}let _0x155102={'agents':_0x488f21['agents']},_0xc5cf22=await this[_0x175074(0x3e6)][_0x175074(0x3fa)][_0x175074(0x76a)](_0x155102,this[_0x175074(0x647)][_0x175074(0x445)]);return this['AutomateSystem']=_0xc5cf22,this[_0x175074(0x31f)][_0x175074(0x1c4)](this[_0x175074(0x60b)]+'\x20('+this[_0x175074(0x647)][_0x175074(0x445)]+_0x175074(0x53d)),this['logger'][_0x175074(0x1c4)](this['instanceName']+'\x20('+this[_0x175074(0x647)][_0x175074(0x445)]+_0x175074(0x424)+this[_0x175074(0x736)]),_0xc5cf22;}catch(_0xae592){throw this['logger'][_0x175074(0x30f)](this[_0x175074(0x60b)]+'\x20('+this[_0x175074(0x647)][_0x175074(0x445)]+_0x175074(0x7dd)+(_0xae592 instanceof Error?_0xae592[_0x175074(0x36b)]:JSON[_0x175074(0x3e3)](_0xae592,null,0x2))),new f('Erro\x20ao\x20editar\x20agentes:\x20'+_0xae592[_0x175074(0x36b)]);}}async[a0_0x22ca5b(0x503)](_0x4511cf){const _0x574003=a0_0x22ca5b;try{let _0x4aa633=await this['repository']['automateSystem']['findOrCreate'](this[_0x574003(0x647)][_0x574003(0x445)]),_0x159529=_0x4511cf[_0x574003(0x17f)]?_0x4aa633[_0x574003(0x6d5)]['findIndex'](_0x208b2f=>_0x208b2f[_0x574003(0x17f)]===_0x4511cf[_0x574003(0x17f)]):-0x1,_0x2de60e=!0x1,_0x42ddb1=_0x4aa633[_0x574003(0x6d5)]['some'](_0x47fe55=>_0x47fe55[_0x574003(0x2a1)]===_0x4511cf['order']);if(_0x4511cf[_0x574003(0x4c6)]&&_0x159529>-0x1)_0x4aa633[_0x574003(0x6d5)][_0x574003(0x593)](_0x159529,0x1),_0x2de60e=!0x0;else{if(_0x159529>-0x1){if(_0x4aa633['customFields']['some'](_0x211e0f=>_0x211e0f[_0x574003(0x5cf)]===_0x4511cf['name']&&_0x211e0f['_id']!==_0x4511cf[_0x574003(0x17f)]))throw new Error(_0x574003(0x68e));let _0x2d4fa2=_0x4aa633[_0x574003(0x6d5)][_0x159529];_0x4511cf[_0x574003(0x2a1)]&&(_0x42ddb1||!Number[_0x574003(0x18e)](_0x4511cf[_0x574003(0x2a1)]))&&(_0x2d4fa2[_0x574003(0x2a1)]=_0x4511cf[_0x574003(0x2a1)],_0x2de60e=!0x0),_0x4511cf[_0x574003(0x5cf)]&&(_0x2d4fa2['name']=_0x4511cf[_0x574003(0x5cf)]);}else{if(_0x4aa633[_0x574003(0x6d5)][_0x574003(0x4c2)](_0x340dfa=>_0x340dfa[_0x574003(0x5cf)]===_0x4511cf[_0x574003(0x5cf)]&&_0x340dfa['_id']!==_0x4511cf[_0x574003(0x17f)]))throw new Error(_0x574003(0x68e));_0x4aa633[_0x574003(0x6d5)][_0x574003(0x5a4)]({'_id':_0x4511cf[_0x574003(0x17f)]||new oe['default'][(_0x574003(0x2c9))][(_0x574003(0x4ae))]()[_0x574003(0x4b6)](),'order':_0x4511cf[_0x574003(0x2a1)],'name':_0x4511cf[_0x574003(0x5cf)]}),_0x2de60e=!0x0;}}if(_0x2de60e){_0x4aa633[_0x574003(0x6d5)][_0x574003(0x1c1)]((_0x341a48,_0xf801b)=>_0x341a48[_0x574003(0x2a1)]>_0xf801b[_0x574003(0x2a1)]?0x1:_0xf801b[_0x574003(0x2a1)]>_0x341a48[_0x574003(0x2a1)]?-0x1:0x0);for(let _0x238571=0x0;_0x238571<_0x4aa633[_0x574003(0x6d5)][_0x574003(0x3cc)];_0x238571++)_0x4aa633[_0x574003(0x6d5)][_0x238571][_0x574003(0x2a1)]=_0x238571+0x1;}let _0x40efb1=await this[_0x574003(0x3e6)][_0x574003(0x3fa)][_0x574003(0x76a)](_0x4aa633,this['instance'][_0x574003(0x445)]);return this[_0x574003(0x736)]=_0x40efb1,this[_0x574003(0x31f)][_0x574003(0x1c4)](this[_0x574003(0x60b)]+'\x20('+this[_0x574003(0x647)][_0x574003(0x445)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x574003(0x31f)][_0x574003(0x1c4)](this[_0x574003(0x60b)]+'\x20('+this[_0x574003(0x647)]['wuid']+_0x574003(0x424)+this['AutomateSystem']),_0x40efb1;}catch(_0x13dc99){throw this['logger']['error'](this[_0x574003(0x60b)]+'\x20('+this[_0x574003(0x647)][_0x574003(0x445)]+_0x574003(0x425)+(_0x13dc99 instanceof Error?_0x13dc99[_0x574003(0x36b)]:JSON[_0x574003(0x3e3)](_0x13dc99,null,0x2))),new f('Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+_0x13dc99['message']);}}async['updateFlowConfig'](_0x445c01){const _0x466b44=a0_0x22ca5b;try{let _0x1c9e8f=await this[_0x466b44(0x3e6)][_0x466b44(0x3fa)][_0x466b44(0x28b)](this['instance'][_0x466b44(0x445)]);if(!_0x1c9e8f)throw new Error('Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.');let _0x22dd3a={'_id':_0x1c9e8f[_0x466b44(0x17f)],'flowConfig':{'enabled':_0x445c01[_0x466b44(0x68d)]??_0x1c9e8f[_0x466b44(0x2fa)][_0x466b44(0x68d)],'ignoreGroups':_0x445c01[_0x466b44(0x1ed)]??_0x1c9e8f[_0x466b44(0x2fa)][_0x466b44(0x1ed)],'prefixCommand':_0x445c01[_0x466b44(0x36e)]??_0x1c9e8f[_0x466b44(0x2fa)][_0x466b44(0x36e)],'stopConversation':_0x445c01['stopConversation']??_0x1c9e8f['flowConfig'][_0x466b44(0x1ef)],'stopMinutes':_0x445c01[_0x466b44(0x4d7)]??_0x1c9e8f[_0x466b44(0x2fa)]['stopMinutes'],'stopWhenYouSendMsg':_0x445c01['stopWhenYouSendMsg']??_0x1c9e8f['flowConfig'][_0x466b44(0x797)]}},_0x35db4e=await this[_0x466b44(0x3e6)][_0x466b44(0x3fa)]['update'](_0x22dd3a,this[_0x466b44(0x647)]['wuid']);return this['AutomateSystem']=_0x35db4e,this[_0x466b44(0x31f)][_0x466b44(0x1c4)](this[_0x466b44(0x60b)]+'\x20('+this[_0x466b44(0x647)][_0x466b44(0x445)]+_0x466b44(0x53d)),this[_0x466b44(0x31f)]['verbose'](this[_0x466b44(0x60b)]+'\x20('+this[_0x466b44(0x647)][_0x466b44(0x445)]+_0x466b44(0x424)+this['AutomateSystem']),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x35db4e;}catch(_0x2cfff0){throw this[_0x466b44(0x31f)]['error'](this[_0x466b44(0x60b)]+'\x20('+this[_0x466b44(0x647)]['wuid']+_0x466b44(0x28c)+(_0x2cfff0 instanceof Error?_0x2cfff0['message']:JSON[_0x466b44(0x3e3)](_0x2cfff0,null,0x2))),new f(_0x466b44(0x78f)+_0x2cfff0['message']);}}async[a0_0x22ca5b(0x652)](){const _0x4f5f58=a0_0x22ca5b;try{let _0xeefed3=await this[_0x4f5f58(0x3e6)][_0x4f5f58(0x3fa)]['findOrCreate'](this[_0x4f5f58(0x647)]['wuid']);return this['AutomateSystem']=_0xeefed3,this[_0x4f5f58(0x31f)]['verbose'](this[_0x4f5f58(0x60b)]+'\x20('+this[_0x4f5f58(0x647)][_0x4f5f58(0x445)]+_0x4f5f58(0x269)),this[_0x4f5f58(0x31f)][_0x4f5f58(0x1c4)](this[_0x4f5f58(0x736)]),_0xeefed3;}catch(_0x5c5d37){throw this[_0x4f5f58(0x31f)]['error'](this[_0x4f5f58(0x60b)]+'\x20('+this['instance'][_0x4f5f58(0x445)]+'):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+(_0x5c5d37 instanceof Error?_0x5c5d37[_0x4f5f58(0x36b)]:JSON[_0x4f5f58(0x3e3)](_0x5c5d37,null,0x2))),new f(_0x4f5f58(0x449)+_0x5c5d37[_0x4f5f58(0x36b)]);}}async[a0_0x22ca5b(0x464)](){const _0x3c45d2=a0_0x22ca5b;this['timerId']&&clearTimeout(this['timerId']),this[_0x3c45d2(0x6bd)]=setTimeout(()=>{const _0x578762=_0x3c45d2;this[_0x578762(0x7c2)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x22ca5b(0x7c2)](){const _0x162f9f=a0_0x22ca5b;Date['now']()-this[_0x162f9f(0x582)]>=0x1d4c0&&(this['logger'][_0x162f9f(0x1c4)](this[_0x162f9f(0x60b)]+'\x20('+this[_0x162f9f(0x647)][_0x162f9f(0x445)]+_0x162f9f(0x20b)),this['processingScheduleMessageId']=null,this[_0x162f9f(0x582)]=0x0,this[_0x162f9f(0x30d)]=0x0,await this[_0x162f9f(0x534)]());}async[a0_0x22ca5b(0x534)](){const _0x28dfb1=a0_0x22ca5b;let _0x3f3e45=()=>{const _0x9ed8c1=a0_0x4496;this[_0x9ed8c1(0x31f)]['verbose'](this[_0x9ed8c1(0x60b)]+'\x20('+this['instance'][_0x9ed8c1(0x445)]+_0x9ed8c1(0x4f1)+this[_0x9ed8c1(0x29d)]+_0x9ed8c1(0x16a));},_0x5f5cce=async()=>{const _0xe7390=a0_0x4496;this[_0xe7390(0x31f)][_0xe7390(0x1c4)](this[_0xe7390(0x60b)]+'\x20('+this[_0xe7390(0x647)][_0xe7390(0x445)]+_0xe7390(0x3ad));let _0xbd6ec8=Date[_0xe7390(0x37f)]()-0xc*0x3c*0x3c*0x3e8,_0x43b47c={'where':{'status':{'$in':[_0xe7390(0x1f2),'sending']},'$or':[{'when':{'$lte':Date[_0xe7390(0x37f)](),'$gte':_0xbd6ec8}},{'when':0x0}]}};return await this[_0xe7390(0x3e6)][_0xe7390(0x5e8)][_0xe7390(0x75e)](_0x43b47c,this[_0xe7390(0x647)][_0xe7390(0x445)]);},_0x58596a=async _0x577799=>{const _0x521564=a0_0x4496;for(let _0x3d991a of _0x577799){let _0x297f52={'_id':_0x3d991a[_0x521564(0x17f)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date['now']()-0x1770}}]},_0x4c2d38={'startSend':Date['now']()};if(!await this['repository'][_0x521564(0x5e8)]['updateOne'](_0x297f52,_0x4c2d38,this[_0x521564(0x647)]['wuid']))return;if(!this[_0x521564(0x2c1)]){this[_0x521564(0x31f)][_0x521564(0x1c4)](this[_0x521564(0x60b)]+'\x20('+this[_0x521564(0x647)][_0x521564(0x445)]+'):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected');break;}if(_0x3d991a[_0x521564(0x56b)]===_0x521564(0x1fb)&&!this[_0x521564(0x736)]?.[_0x521564(0x2fa)]['enabled']){this[_0x521564(0x31f)]['error'](this[_0x521564(0x60b)]+'\x20('+this['instance'][_0x521564(0x445)]+_0x521564(0x79b));continue;}(!_0x3d991a[_0x521564(0x790)]||_0x3d991a['remoteJidsRemaining'][_0x521564(0x3cc)]===0x0)&&(_0x3d991a=await this[_0x521564(0x3e6)]['scheduleMessage'][_0x521564(0x372)](_0x3d991a[_0x521564(0x17f)],{'status':_0x521564(0x3ee),'remoteJidsRemaining':[..._0x3d991a['remoteJids']]},this[_0x521564(0x647)][_0x521564(0x445)]));for(let _0x15418e of _0x3d991a[_0x521564(0x790)]){if(await this[_0x521564(0x464)](),this[_0x521564(0x582)]=Date[_0x521564(0x37f)](),_0x3d991a[_0x521564(0x1fc)][_0x521564(0x4c2)](_0x2d7544=>_0x2d7544[_0x521564(0x3a4)]===_0x15418e)){this[_0x521564(0x31f)][_0x521564(0x1c4)](this['instanceName']+'\x20('+this['instance'][_0x521564(0x445)]+_0x521564(0x7ec)+_0x15418e+'.\x20Pulando.');continue;}if(!this['isConnected']){this['logger']['verbose'](this[_0x521564(0x60b)]+'\x20('+this[_0x521564(0x647)]['wuid']+_0x521564(0x344));break;}if(!this['processingScheduleMessageId']){this[_0x521564(0x31f)][_0x521564(0x1c4)](this['instanceName']+'\x20('+this[_0x521564(0x647)][_0x521564(0x445)]+_0x521564(0x35f)+_0x3d991a['_id']+_0x521564(0x5c9));break;}if(_0x3d991a[_0x521564(0x56b)]==='flow'&&!this[_0x521564(0x736)]?.[_0x521564(0x2fa)][_0x521564(0x68d)]){this[_0x521564(0x31f)]['error'](this['instanceName']+'\x20('+this[_0x521564(0x647)][_0x521564(0x445)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');break;}let _0x37198f={'remoteJid':_0x15418e,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x521564(0x37f)]()},_0x514f5e=null;try{let _0x51b352=await this['SendScheduleMessage'](_0x15418e,_0x3d991a);_0x37198f[_0x521564(0x30f)]=_0x51b352['error'],_0x37198f['id']=_0x51b352[_0x521564(0x30f)]?null:_0x51b352['id'],_0x37198f[_0x521564(0x640)]=_0x51b352[_0x521564(0x30f)]?_0x51b352[_0x521564(0x6c2)]?_0x51b352['detail'][_0x521564(0x4b6)]():'':null;let _0x124b2c={'$push':{'messagesSend':_0x37198f},'$pull':{'remoteJidsRemaining':_0x15418e}},_0x414747=_0x3d991a[_0x521564(0x17f)];if(_0x514f5e=await this[_0x521564(0x3e6)]['scheduleMessage'][_0x521564(0x372)](_0x414747,_0x124b2c,this[_0x521564(0x647)][_0x521564(0x445)]),_0x51b352['error'])continue;let _0x1159c5=this[_0x521564(0x3c8)](_0x3d991a['delaySecMin'],_0x3d991a[_0x521564(0x501)]);await this['sleep'](_0x1159c5);}catch(_0x34c0af){this['logger'][_0x521564(0x30f)](this['instanceName']+'\x20('+this[_0x521564(0x647)][_0x521564(0x445)]+_0x521564(0x64e)+_0x15418e+':\x20'+(_0x34c0af instanceof Error?_0x34c0af[_0x521564(0x36b)]:JSON[_0x521564(0x3e3)](_0x34c0af,null,0x2))),_0x37198f['error']=!0x0,_0x37198f[_0x521564(0x640)]=_0x34c0af[_0x521564(0x36b)];let _0x75e9b9={'$push':{'messagesSend':_0x37198f},'$pull':{'remoteJidsRemaining':_0x15418e}},_0x4e98e8=_0x3d991a['_id'];_0x514f5e=await this[_0x521564(0x3e6)][_0x521564(0x5e8)][_0x521564(0x372)](_0x4e98e8,_0x75e9b9,this['instance'][_0x521564(0x445)]);}finally{if(_0x514f5e&&_0x514f5e[_0x521564(0x167)]===_0x521564(0x48a)){this[_0x521564(0x31f)][_0x521564(0x1c4)](this['instanceName']+'\x20('+this['instance'][_0x521564(0x445)]+_0x521564(0x35f)+_0x3d991a[_0x521564(0x17f)]+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}}}let _0x4a3c5d=await this[_0x521564(0x3e6)][_0x521564(0x5e8)][_0x521564(0x77c)](_0x3d991a[_0x521564(0x17f)],this[_0x521564(0x647)]['wuid']);if(_0x4a3c5d['remoteJidsRemaining'][_0x521564(0x3cc)]===0x0&&_0x4a3c5d[_0x521564(0x167)]!==_0x521564(0x48a)){let _0x3844b5={'$set':{'status':_0x521564(0x66c)}},_0x46bd45=_0x4a3c5d[_0x521564(0x17f)];await this[_0x521564(0x3e6)]['scheduleMessage'][_0x521564(0x372)](_0x46bd45,_0x3844b5,this[_0x521564(0x647)][_0x521564(0x445)]);}await new Promise(_0x14ae5c=>setTimeout(_0x14ae5c,0x1388));}},_0x1341d2=async()=>{const _0x3fc7a1=a0_0x4496;let _0x5ea5e7={'where':{'status':_0x3fc7a1(0x1f2),'when':{'$gt':Date[_0x3fc7a1(0x37f)]()}}},_0x58e0fb=await this[_0x3fc7a1(0x3e6)][_0x3fc7a1(0x5e8)][_0x3fc7a1(0x3c6)](_0x5ea5e7,this[_0x3fc7a1(0x647)][_0x3fc7a1(0x445)]);_0x58e0fb&&_0x58e0fb['when']-Date[_0x3fc7a1(0x37f)]()<=0x5265c00?this['delayMessage']=_0x58e0fb[_0x3fc7a1(0x446)]-Date[_0x3fc7a1(0x37f)]():this['delayMessage']=(0x3c+Math[_0x3fc7a1(0x6db)](Math['random']()*0x3c))*0x3c*0x3e8,this[_0x3fc7a1(0x30d)]=Math[_0x3fc7a1(0x2c0)](this[_0x3fc7a1(0x30d)],0x7d0);let _0x3b6805=Math['round'](this[_0x3fc7a1(0x30d)]/0xea60);if(_0x58e0fb){let _0x4031a7=new Date(_0x58e0fb['when'])[_0x3fc7a1(0x7dc)]();this[_0x3fc7a1(0x31f)][_0x3fc7a1(0x1c4)](this[_0x3fc7a1(0x60b)]+'\x20('+this[_0x3fc7a1(0x647)][_0x3fc7a1(0x445)]+_0x3fc7a1(0x461)+_0x4031a7+_0x3fc7a1(0x520)+_0x3b6805+'\x20minutos');}else this[_0x3fc7a1(0x31f)][_0x3fc7a1(0x1c4)](this[_0x3fc7a1(0x60b)]+'\x20('+this[_0x3fc7a1(0x647)]['wuid']+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x3b6805+_0x3fc7a1(0x2b1));setTimeout(()=>this[_0x3fc7a1(0x534)](),this[_0x3fc7a1(0x30d)]);};if(this['processingScheduleMessageId']){await this[_0x28dfb1(0x464)](),_0x3f3e45();return;}if(!this['isConnected']){this[_0x28dfb1(0x31f)][_0x28dfb1(0x1c4)](this[_0x28dfb1(0x60b)]+'\x20('+this[_0x28dfb1(0x647)]['wuid']+_0x28dfb1(0x25c)),this[_0x28dfb1(0x29d)]=null,this['lastSend']=0x0,this[_0x28dfb1(0x30d)]=0x0;return;}try{let _0xf322e=await _0x5f5cce();_0xf322e[_0x28dfb1(0x3cc)]===0x0?this[_0x28dfb1(0x31f)]['verbose'](this[_0x28dfb1(0x60b)]+'\x20('+this[_0x28dfb1(0x647)][_0x28dfb1(0x445)]+_0x28dfb1(0x476)):(this[_0x28dfb1(0x29d)]=_0xf322e[0x0][_0x28dfb1(0x17f)],await _0x58596a(_0xf322e)),await _0x1341d2(),this[_0x28dfb1(0x29d)]=null;}catch(_0x11e3aa){this['logger'][_0x28dfb1(0x30f)](_0x28dfb1(0x5fc)+(_0x11e3aa instanceof Error?_0x11e3aa[_0x28dfb1(0x36b)]:JSON[_0x28dfb1(0x3e3)](_0x11e3aa,null,0x2)));}}[a0_0x22ca5b(0x3c8)](_0x52e3d2,_0x190bf1){const _0x11740a=a0_0x22ca5b;return _0x52e3d2=Math[_0x11740a(0x2c0)](0.5,_0x52e3d2),_0x190bf1=Math[_0x11740a(0x335)](Math[_0x11740a(0x2c0)](0x3,_0x190bf1),0x78),Math[_0x11740a(0x6db)](Math['random']()*(_0x190bf1-_0x52e3d2+0x1)+_0x52e3d2)*0x3e8;}[a0_0x22ca5b(0x45d)](_0x4c51bc){return new Promise(_0xc948ed=>setTimeout(_0xc948ed,_0x4c51bc));}async['getVariablesChat'](_0x33962f){const _0x2421dc=a0_0x22ca5b;if(!this[_0x2421dc(0x736)]&&(await this[_0x2421dc(0x652)](),!this[_0x2421dc(0x736)]))return null;_0x33962f=this['createJid'](_0x33962f);let _0x5f1613=await this['repository']['chat'][_0x2421dc(0x3c6)]({'where':{'_id':_0x33962f}},this['instance'][_0x2421dc(0x445)]),_0xecc819={};if(_0x5f1613&&_0x5f1613[_0x2421dc(0x2bc)]){let _0x5c3974=_0x5f1613[_0x2421dc(0x2bc)];typeof _0x5c3974[_0x2421dc(0x5ef)]==_0x2421dc(0x54d)&&(_0xecc819['nome']=_0x5c3974[_0x2421dc(0x5ef)]),typeof _0x5c3974[_0x2421dc(0x4b5)]==_0x2421dc(0x54d)&&(_0xecc819[_0x2421dc(0x4b5)]=_0x5c3974[_0x2421dc(0x4b5)]),typeof _0x5c3974[_0x2421dc(0x305)]==_0x2421dc(0x54d)&&(_0xecc819[_0x2421dc(0x305)]=_0x5c3974[_0x2421dc(0x305)]),typeof _0x5c3974[_0x2421dc(0x565)]=='string'&&(_0xecc819[_0x2421dc(0x565)]=_0x5c3974['cpf']),typeof _0x5c3974[_0x2421dc(0x167)]==_0x2421dc(0x54d)&&(_0xecc819[_0x2421dc(0x167)]=_0x5c3974[_0x2421dc(0x167)]),typeof _0x5c3974['notas']=='string'&&(_0xecc819[_0x2421dc(0x743)]=_0x5c3974[_0x2421dc(0x743)]),typeof _0x5c3974['responsavelid']==_0x2421dc(0x54d)&&(_0xecc819['responsavelid']=_0x5c3974[_0x2421dc(0x282)]),Array['isArray'](_0x5c3974['tags'])&&(_0xecc819[_0x2421dc(0x422)]=_0x5c3974[_0x2421dc(0x422)][_0x2421dc(0x2fb)](',\x20')),Array[_0x2421dc(0x27c)](_0x5c3974[_0x2421dc(0x289)])&&(_0xecc819[_0x2421dc(0x289)]=_0x5c3974[_0x2421dc(0x289)]['join'](',\x20'));}return _0x5f1613&&_0x5f1613[_0x2421dc(0x2bc)]&&_0x5f1613[_0x2421dc(0x2bc)]['customFields']&&_0x5f1613[_0x2421dc(0x2bc)][_0x2421dc(0x6d5)]['forEach'](_0x2b04b2=>{const _0xf0a6e6=_0x2421dc;let _0x3b066d=this[_0xf0a6e6(0x736)]?.[_0xf0a6e6(0x6d5)][_0xf0a6e6(0x75e)](_0x3e9c33=>_0x3e9c33[_0xf0a6e6(0x17f)]===_0x2b04b2[_0xf0a6e6(0x17f)]);_0x3b066d&&(_0xecc819[_0x3b066d['name']]=_0x2b04b2['value']);}),_0xecc819;}async[a0_0x22ca5b(0x502)](_0x1d1857,_0x1ac30c){const _0x161438=a0_0x22ca5b;let _0xf5f1f9=await this[_0x161438(0x57f)](_0x1ac30c);return this[_0x161438(0x62c)](_0x1d1857,_0xf5f1f9);}async[a0_0x22ca5b(0x7df)](_0x3bfdc5){const _0x2a0a1c=a0_0x22ca5b;try{if(this[_0x2a0a1c(0x31f)][_0x2a0a1c(0x1c4)](this[_0x2a0a1c(0x60b)]+'\x20('+this[_0x2a0a1c(0x647)][_0x2a0a1c(0x445)]+'):\x20Edit\x20schedule\x20message...'),_0x3bfdc5[_0x2a0a1c(0x4c6)]&&_0x3bfdc5[_0x2a0a1c(0x17f)]){if(this[_0x2a0a1c(0x29d)]===_0x3bfdc5['_id']['toString']())throw new Error(_0x2a0a1c(0x490));let _0x21e930=await this[_0x2a0a1c(0x3e6)][_0x2a0a1c(0x5e8)][_0x2a0a1c(0x4c5)](_0x3bfdc5[_0x2a0a1c(0x17f)],this[_0x2a0a1c(0x647)][_0x2a0a1c(0x445)]);return setTimeout(()=>this[_0x2a0a1c(0x534)](),0x7d0),_0x21e930;}let _0x5764c3;if(_0x3bfdc5['_id']&&(_0x5764c3=await this['repository'][_0x2a0a1c(0x5e8)][_0x2a0a1c(0x77c)](_0x3bfdc5['_id'],this[_0x2a0a1c(0x647)][_0x2a0a1c(0x445)])),_0x5764c3){let _0x1f8051;if(this['processingScheduleMessageId']===_0x5764c3[_0x2a0a1c(0x17f)]['toString']())_0x1f8051={'$set':{'status':_0x3bfdc5['status']}};else{let {_id:_0x3f9277,..._0x6552c6}=_0x3bfdc5;_0x1f8051={'$set':_0x6552c6};}let _0x2d9ac4=await this[_0x2a0a1c(0x3e6)][_0x2a0a1c(0x5e8)][_0x2a0a1c(0x372)](_0x3bfdc5[_0x2a0a1c(0x17f)],_0x1f8051,this[_0x2a0a1c(0x647)]['wuid']);return setTimeout(()=>this[_0x2a0a1c(0x534)](),0x7d0),_0x2d9ac4;}else{_0x3bfdc5[_0x2a0a1c(0x283)]=this[_0x2a0a1c(0x647)][_0x2a0a1c(0x445)];let _0x372508=await this[_0x2a0a1c(0x3e6)][_0x2a0a1c(0x5e8)][_0x2a0a1c(0x637)](_0x3bfdc5,this[_0x2a0a1c(0x647)]['wuid']);return setTimeout(()=>this[_0x2a0a1c(0x534)](),0x7d0),_0x372508;}}catch(_0x2a5d57){throw this[_0x2a0a1c(0x31f)][_0x2a0a1c(0x30f)](this['instanceName']+'\x20('+this[_0x2a0a1c(0x647)]['wuid']+_0x2a0a1c(0x542)+(_0x2a5d57 instanceof Error?_0x2a5d57['message']:JSON['stringify'](_0x2a5d57,null,0x2))),new f(_0x2a0a1c(0x24f)+_0x2a5d57[_0x2a0a1c(0x36b)]);}}async['getScheduleMessage'](){const _0x4e0ce7=a0_0x22ca5b;try{return await this[_0x4e0ce7(0x3e6)]['scheduleMessage']['find']({'where':{}},this[_0x4e0ce7(0x647)][_0x4e0ce7(0x445)]);}catch(_0x175991){throw this[_0x4e0ce7(0x31f)][_0x4e0ce7(0x30f)](this[_0x4e0ce7(0x60b)]+'\x20('+this[_0x4e0ce7(0x647)][_0x4e0ce7(0x445)]+_0x4e0ce7(0x720)+(_0x175991 instanceof Error?_0x175991[_0x4e0ce7(0x36b)]:JSON[_0x4e0ce7(0x3e3)](_0x175991,null,0x2))),new f(_0x4e0ce7(0x24f)+_0x175991[_0x4e0ce7(0x36b)]);}}async[a0_0x22ca5b(0x34f)](){const _0x388cc1=a0_0x22ca5b;try{let _0x2bb34e={'status':'done'},_0x4ea986=await this[_0x388cc1(0x3e6)]['scheduleMessage'][_0x388cc1(0x183)](_0x2bb34e,this[_0x388cc1(0x647)][_0x388cc1(0x445)]);if(!_0x4ea986[_0x388cc1(0x30f)])this[_0x388cc1(0x31f)]['verbose'](this[_0x388cc1(0x60b)]+'\x20('+this[_0x388cc1(0x647)][_0x388cc1(0x445)]+_0x388cc1(0x45a));else throw new Error(_0x4ea986[_0x388cc1(0x30f)][_0x388cc1(0x36b)]||_0x388cc1(0x7b8));return this[_0x388cc1(0x20f)]();}catch(_0x66ec48){throw this['logger']['error'](this[_0x388cc1(0x60b)]+'\x20('+this[_0x388cc1(0x647)]['wuid']+_0x388cc1(0x725)+(_0x66ec48 instanceof Error?_0x66ec48[_0x388cc1(0x36b)]:JSON[_0x388cc1(0x3e3)](_0x66ec48,null,0x2))),new f('Erro:'+_0x66ec48['message']);}}async[a0_0x22ca5b(0x215)](_0x128cd7,_0x583fec){const _0x434877=a0_0x22ca5b;try{if(_0x583fec[_0x434877(0x56b)]===_0x434877(0x1fb)&&!this['AutomateSystem']?.[_0x434877(0x2fa)][_0x434877(0x68d)])return this['logger']['error'](this[_0x434877(0x60b)]+'\x20('+this[_0x434877(0x647)][_0x434877(0x445)]+_0x434877(0x572)),{'error':!0x0,'detail':_0x434877(0x7c8)};switch(_0x583fec[_0x434877(0x56b)]){case _0x434877(0x571):return await this[_0x434877(0x2d5)](_0x583fec,_0x128cd7);case _0x434877(0x6ae):return await this[_0x434877(0x485)](_0x583fec,_0x128cd7);case _0x434877(0x175):return await this['scheduleSendAudio'](_0x583fec,_0x128cd7);case _0x434877(0x1fb):let _0x2a5a45=new De();return _0x2a5a45[_0x434877(0x5cf)]=_0x583fec[_0x434877(0x3b7)],_0x2a5a45['remoteJid']=_0x128cd7,await this[_0x434877(0x465)](_0x2a5a45);break;default:return this[_0x434877(0x31f)][_0x434877(0x30f)](this[_0x434877(0x60b)]+'\x20('+this[_0x434877(0x647)][_0x434877(0x445)]+_0x434877(0x741)+_0x583fec['type']),{'error':!0x0,'detail':'Comando\x20desconhecido'};}}catch(_0x52283a){return this['logger'][_0x434877(0x30f)](this[_0x434877(0x60b)]+'\x20('+this['instance'][_0x434877(0x445)]+_0x434877(0x42f)+(_0x52283a instanceof Error?_0x52283a['message']:JSON[_0x434877(0x3e3)](_0x52283a,null,0x2))),{'error':!0x0,'detail':_0x52283a['message']};}}['getRandomText'](_0x3cb252){const _0x55b151=a0_0x22ca5b;let _0x2bd0cd=_0x3cb252[_0x55b151(0x555)]('|'),_0x200767=Math[_0x55b151(0x6db)](Math[_0x55b151(0x61f)]()*_0x2bd0cd[_0x55b151(0x3cc)]);return _0x2bd0cd[_0x200767][_0x55b151(0x44b)]();}async['scheduleSendText'](_0x16627f,_0x59413c){const _0x6a5c17=a0_0x22ca5b;if(this[_0x6a5c17(0x31f)][_0x6a5c17(0x1c4)](this[_0x6a5c17(0x60b)]+'\x20('+this[_0x6a5c17(0x647)]['wuid']+'):\x20Enviando\x20texto'),!_0x16627f[_0x6a5c17(0x36b)][_0x6a5c17(0x571)]||_0x16627f[_0x6a5c17(0x36b)][_0x6a5c17(0x571)]['length']===0x0)return{'error':!0x0,'detail':'sem\x20texto\x20na\x20mensagem'};let _0x510d63=this[_0x6a5c17(0x584)](_0x16627f[_0x6a5c17(0x36b)][_0x6a5c17(0x571)]),_0x317f23=await this[_0x6a5c17(0x502)](_0x510d63,_0x59413c),_0x5beb9a={'number':_0x59413c,'options':{'delay':_0x16627f[_0x6a5c17(0x36b)]['delay']},'textMessage':{'text':_0x317f23}},_0x21c690=null;try{let _0x507562=await this[_0x6a5c17(0x7ea)](_0x5beb9a);if(_0x507562&&_0x507562[_0x6a5c17(0x167)])return{'error':!0x1,'id':_0x507562[_0x6a5c17(0x3fc)]['id']};_0x21c690=JSON[_0x6a5c17(0x3e3)](_0x507562),this['logger']['verbose'](this[_0x6a5c17(0x60b)]+'\x20('+this[_0x6a5c17(0x647)][_0x6a5c17(0x445)]+_0x6a5c17(0x424)+_0x21c690);}catch(_0x569f42){this[_0x6a5c17(0x31f)][_0x6a5c17(0x30f)](this[_0x6a5c17(0x60b)]+'\x20('+this[_0x6a5c17(0x647)]['wuid']+_0x6a5c17(0x744)+(_0x569f42 instanceof Error?_0x569f42[_0x6a5c17(0x36b)]:JSON['stringify'](_0x569f42,null,0x2))),_0x21c690=_0x569f42['message'];}if(_0x21c690)return{'error':!0x0,'detail':(typeof _0x21c690=='object'?JSON[_0x6a5c17(0x3e3)](_0x21c690,null,0x2):_0x21c690)[_0x6a5c17(0x748)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x22ca5b(0x485)](_0x45cc56,_0x726f7d){const _0x3902c6=a0_0x22ca5b;this[_0x3902c6(0x31f)][_0x3902c6(0x1c4)](this[_0x3902c6(0x60b)]+'\x20('+this[_0x3902c6(0x647)][_0x3902c6(0x445)]+_0x3902c6(0x3a2));let _0x3c7891;if(_0x45cc56[_0x3902c6(0x36b)]['text']&&_0x45cc56['message'][_0x3902c6(0x571)][_0x3902c6(0x3cc)]>0x0){let _0x2e8dc7=this['getRandomText'](_0x45cc56[_0x3902c6(0x36b)][_0x3902c6(0x571)]);_0x3c7891=await this['replaceVariablesChat'](_0x2e8dc7,_0x726f7d);}let _0xe16650={'number':_0x726f7d,'options':{'delay':_0x45cc56[_0x3902c6(0x36b)][_0x3902c6(0x56f)]},'mediaMessage':{'mediatype':_0x45cc56[_0x3902c6(0x36b)][_0x3902c6(0x676)],'caption':_0x3c7891,'media':_0x45cc56['message'][_0x3902c6(0x24e)]}},_0x3f1646=null;try{let _0x109755=await this[_0x3902c6(0x22d)](_0xe16650);if(_0x109755&&_0x109755['status'])return{'error':!0x1,'id':_0x109755[_0x3902c6(0x3fc)]['id']};_0x3f1646=JSON['stringify'](_0x109755),this[_0x3902c6(0x31f)][_0x3902c6(0x1c4)](this['instanceName']+'\x20('+this['instance'][_0x3902c6(0x445)]+_0x3902c6(0x424)+_0x3f1646);}catch(_0x79d55f){this[_0x3902c6(0x31f)][_0x3902c6(0x30f)](this[_0x3902c6(0x60b)]+'\x20('+this['instance'][_0x3902c6(0x445)]+_0x3902c6(0x5de)+(_0x79d55f instanceof Error?_0x79d55f[_0x3902c6(0x36b)]:JSON[_0x3902c6(0x3e3)](_0x79d55f,null,0x2))),_0x3f1646=_0x79d55f[_0x3902c6(0x36b)];}if(_0x3f1646)return{'error':!0x0,'detail':(typeof _0x3f1646=='object'?JSON[_0x3902c6(0x3e3)](_0x3f1646,null,0x2):_0x3f1646)[_0x3902c6(0x748)](/[\[\]{}\n]/g,'\x20')[_0x3902c6(0x748)](/  +/g,'\x20')};}async[a0_0x22ca5b(0x362)](_0x430183,_0x2a77ac){const _0x14f3a0=a0_0x22ca5b;this['logger'][_0x14f3a0(0x1c4)](this[_0x14f3a0(0x60b)]+'\x20('+this[_0x14f3a0(0x647)][_0x14f3a0(0x445)]+_0x14f3a0(0x2af));let _0x535bb9={'number':_0x2a77ac,'options':{'delay':_0x430183[_0x14f3a0(0x36b)][_0x14f3a0(0x56f)]},'audioMessage':{'audio':_0x430183[_0x14f3a0(0x36b)][_0x14f3a0(0x24e)]}},_0xcbf8ac=null;try{let _0x484194=await this[_0x14f3a0(0x20c)](_0x535bb9);if(_0x484194&&_0x484194['status'])return{'error':!0x1,'id':_0x484194[_0x14f3a0(0x3fc)]['id']};_0xcbf8ac=JSON[_0x14f3a0(0x3e3)](_0x484194),this[_0x14f3a0(0x31f)][_0x14f3a0(0x1c4)](this['instanceName']+'\x20('+this[_0x14f3a0(0x647)]['wuid']+'):\x20'+_0xcbf8ac);}catch(_0x186399){this[_0x14f3a0(0x31f)][_0x14f3a0(0x30f)](this[_0x14f3a0(0x60b)]+'\x20('+this[_0x14f3a0(0x647)][_0x14f3a0(0x445)]+_0x14f3a0(0x469)+(_0x186399 instanceof Error?_0x186399[_0x14f3a0(0x36b)]:JSON[_0x14f3a0(0x3e3)](_0x186399,null,0x2))),_0xcbf8ac=_0x186399[_0x14f3a0(0x36b)];}if(_0xcbf8ac)return{'error':!0x0,'detail':(typeof _0xcbf8ac==_0x14f3a0(0x34a)?JSON[_0x14f3a0(0x3e3)](_0xcbf8ac,null,0x2):_0xcbf8ac)[_0x14f3a0(0x748)](/[\[\]{}\n]/g,'\x20')[_0x14f3a0(0x748)](/  +/g,'\x20')};}},Pt=class c{constructor(_0x286b2f,_0x536f58,_0x2573bd){const _0x4bea73=a0_0x22ca5b;this[_0x4bea73(0x69e)]=_0x286b2f,this[_0x4bea73(0x394)]=_0x536f58,this[_0x4bea73(0x3e6)]=_0x2573bd,this['db']={},this[_0x4bea73(0x631)]={},this['logger']=new v(c[_0x4bea73(0x5cf)]),this[_0x4bea73(0x782)]={},(this['removeInstance'](),this[_0x4bea73(0x5c0)](),Object[_0x4bea73(0x739)](this['db'],_0x536f58[_0x4bea73(0x16d)](_0x4bea73(0x59c))),Object['assign'](this['redis'],_0x536f58[_0x4bea73(0x16d)](_0x4bea73(0x23f))),this[_0x4bea73(0x2ee)]=this['db']['ENABLED']?this[_0x4bea73(0x3e6)][_0x4bea73(0x4f0)]?.['db'](this['db'][_0x4bea73(0x38d)]['DB_PREFIX_NAME']+_0x4bea73(0x1de)):void 0x0,this['cache']=this[_0x4bea73(0x631)]['ENABLED']?new re(this[_0x4bea73(0x631)]):void 0x0);}async['instanceInfo'](_0x3bfc3b){const _0x1a3830=a0_0x22ca5b;if(_0x3bfc3b&&!this[_0x1a3830(0x782)][_0x3bfc3b])throw new k(_0x1a3830(0x7b9)+_0x3bfc3b+'\x22\x20not\x20found');let _0x3ca8d7=[];for await(let [_0x3bf509,_0x23a15f]of Object[_0x1a3830(0x4fe)](this[_0x1a3830(0x782)]))if(_0x23a15f&&_0x23a15f[_0x1a3830(0x722)][_0x1a3830(0x31c)]===_0x1a3830(0x50b)){let _0x1de90b=await this[_0x1a3830(0x3e6)][_0x1a3830(0x28d)]['find'](_0x3bf509);_0x3ca8d7[_0x1a3830(0x5a4)]({'instance':{'instanceName':_0x3bf509,'apikey':_0x1de90b[_0x1a3830(0x43e)],'owner':_0x23a15f['wuid'],'profileName':await _0x23a15f['getProfileName']()||_0x1a3830(0x77b),'profilePictureUrl':_0x23a15f[_0x1a3830(0x5ec)]}});}return _0x3ca8d7[_0x1a3830(0x75e)](_0x4d13d0=>_0x4d13d0[_0x1a3830(0x647)][_0x1a3830(0x60b)]===_0x3bfc3b)??_0x3ca8d7;}async[a0_0x22ca5b(0x663)](_0x2eaa91){const _0x37e6f7=a0_0x22ca5b;if(this['db'][_0x37e6f7(0x729)]&&(await this[_0x37e6f7(0x3e6)][_0x37e6f7(0x4f0)][_0x37e6f7(0x71a)](),(await this[_0x37e6f7(0x2ee)][_0x37e6f7(0x5a5)]())[_0x37e6f7(0x3cc)]>0x0&&await this[_0x37e6f7(0x2ee)]['dropCollection'](_0x2eaa91)),this[_0x37e6f7(0x631)]['ENABLED']){this[_0x37e6f7(0x660)][_0x37e6f7(0x330)]=_0x2eaa91,await this[_0x37e6f7(0x660)]['delAll']();return;}}async['loadInstance'](){const _0x638d9c=a0_0x22ca5b;await this[_0x638d9c(0x66a)]();let _0x3e5bfa=async _0x570ab5=>{const _0x3b8955=_0x638d9c;let _0x1e07aa=new we(this[_0x3b8955(0x394)],this['eventEmitter'],this[_0x3b8955(0x3e6)]);_0x1e07aa[_0x3b8955(0x60b)]=_0x570ab5,await _0x1e07aa[_0x3b8955(0x4aa)](),this['waInstances'][_0x570ab5]=_0x1e07aa;};try{if(this['redis'][_0x638d9c(0x729)]){let _0x24d3a1=await this['cache'][_0x638d9c(0x606)]();_0x24d3a1?.[_0x638d9c(0x3cc)]>0x0&&_0x24d3a1[_0x638d9c(0x6d9)](async _0xaa73a8=>await _0x3e5bfa(_0xaa73a8['split'](':')[0x1]));return;}if(this['db']['ENABLED']){await this[_0x638d9c(0x3e6)][_0x638d9c(0x4f0)][_0x638d9c(0x71a)]();let _0x33a720=await this['dbInstance'][_0x638d9c(0x5a5)]();_0x33a720[_0x638d9c(0x3cc)]>0x0&&_0x33a720[_0x638d9c(0x6d9)](async _0x5dee20=>await _0x3e5bfa(_0x5dee20[_0x638d9c(0x1c3)][_0x638d9c(0x748)](/^[\w-]+\./,'')));return;}}catch(_0x592852){this[_0x638d9c(0x31f)][_0x638d9c(0x30f)](_0x592852);}}async[a0_0x22ca5b(0x51f)](){const _0x1cabc1=a0_0x22ca5b;let _0x45d30f=await this['repository'][_0x1cabc1(0x28d)][_0x1cabc1(0x170)](),_0x26cf2d=_0x45d30f[_0x1cabc1(0x771)](_0x35ca61=>!this['waInstances'][_0x35ca61[_0x1cabc1(0x17f)]]&&(_0x35ca61[_0x1cabc1(0x75d)]||typeof _0x35ca61[_0x1cabc1(0x75d)]>'u'));_0x26cf2d['length']>0x0&&await Promise['all'](_0x26cf2d['map'](async _0x518554=>{const _0x576fcc=_0x1cabc1;let _0x20d102={'online':!0x1,'lastDisconnect':Date[_0x576fcc(0x37f)]()};await this[_0x576fcc(0x3e6)][_0x576fcc(0x28d)][_0x576fcc(0x336)](_0x20d102,_0x518554[_0x576fcc(0x17f)]);}));let _0x58de47=Date[_0x1cabc1(0x37f)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x4415ac=_0x45d30f[_0x1cabc1(0x771)](_0x53c631=>!this[_0x1cabc1(0x782)][_0x53c631[_0x1cabc1(0x17f)]]&&typeof _0x53c631[_0x1cabc1(0x4a2)]<'u'&&_0x53c631['lastDisconnect']<_0x58de47);_0x4415ac[_0x1cabc1(0x3cc)]>0x0&&await Promise[_0x1cabc1(0x745)](_0x4415ac[_0x1cabc1(0x4fd)](async _0xde9ded=>{}));}async[a0_0x22ca5b(0x66a)](){const _0x37d69c=a0_0x22ca5b;try{let _0x45c91d={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x322bc9={'online':!0x1,'lastDisconnect':Date[_0x37d69c(0x37f)]()},_0x13e5c3=await this['repository'][_0x37d69c(0x28d)][_0x37d69c(0x197)](_0x45c91d,_0x322bc9);console[_0x37d69c(0x256)](_0x37d69c(0x64a)+_0x13e5c3[_0x37d69c(0x719)]),await this[_0x37d69c(0x357)]();}catch(_0x570046){console[_0x37d69c(0x30f)](_0x37d69c(0x4ec),_0x570046);}}async[a0_0x22ca5b(0x357)](){const _0x18be9f=a0_0x22ca5b;try{let _0x3c0ba2={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x10c3a2=await this[_0x18be9f(0x3e6)]['auth'][_0x18be9f(0x183)](_0x3c0ba2);console[_0x18be9f(0x256)](_0x18be9f(0x1a9)+_0x10c3a2[_0x18be9f(0x719)]);}catch(_0x57d302){console[_0x18be9f(0x30f)](_0x18be9f(0x1e7),_0x57d302);}}[a0_0x22ca5b(0x227)](){const _0x3be8e5=a0_0x22ca5b;this[_0x3be8e5(0x69e)]['on']('remove.instance',async _0x2f89ce=>{const _0x3cbc7=_0x3be8e5;try{this[_0x3cbc7(0x782)][_0x2f89ce]=void 0x0;}catch{}try{this[_0x3cbc7(0x663)](_0x2f89ce);}finally{this[_0x3cbc7(0x31f)]['warn']('Instance\x20\x22'+_0x2f89ce+_0x3cbc7(0x365));}});}[a0_0x22ca5b(0x5c0)](){const _0x1a7b10=a0_0x22ca5b;this[_0x1a7b10(0x69e)]['on'](_0x1a7b10(0x73c),async _0xd8e257=>{const _0x5f611f=_0x1a7b10;try{this[_0x5f611f(0x782)][_0xd8e257]=void 0x0;}catch{}try{this['cleaningUp'](_0xd8e257);}finally{this[_0x5f611f(0x31f)][_0x5f611f(0x329)](_0x5f611f(0x7b9)+_0xd8e257+_0x5f611f(0x57c));}});}},$t=class extends x{[a0_0x22ca5b(0x40a)](_0x775fdf){return Js(_0x775fdf);}async[a0_0x22ca5b(0x559)](_0x5a00e0){const _0x4554bd=a0_0x22ca5b;if(_0x5a00e0[_0x4554bd(0x3cc)]!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x5a00e0[0x0][_0x4554bd(0x283)])['insertMany']([..._0x5a00e0]))['length']};}catch(_0x2d31d3){return _0x2d31d3;}}async['find'](_0xeda1cc,_0x7f03c6){const _0x4e8023=a0_0x22ca5b;try{let _0x3d8771=this['getChatModelForOwner'](_0x7f03c6),_0x472bd1=A(_0xeda1cc['where']);return await _0x3d8771[_0x4e8023(0x75e)](_0x472bd1)[_0x4e8023(0x1c1)]({'lastmsg':-0x1})[_0x4e8023(0x42a)](_0xeda1cc?.[_0x4e8023(0x42a)]??0x0)[_0x4e8023(0x6f4)]();}catch{return[];}}async[a0_0x22ca5b(0x6b2)](_0x362725,_0x2c43d8){const _0x174dbd=a0_0x22ca5b;try{return await this[_0x174dbd(0x40a)](_0x2c43d8)[_0x174dbd(0x183)]({..._0x362725[_0x174dbd(0x20e)]}),[];}catch(_0x52ef87){return{'error':_0x52ef87?.['toString']()};}}async[a0_0x22ca5b(0x3c6)](_0x5da69c,_0x2b4fc2){const _0x7064b1=a0_0x22ca5b;try{let _0x264403=this[_0x7064b1(0x40a)](_0x2b4fc2),_0x1b8589=A(_0x5da69c[_0x7064b1(0x20e)]);return await _0x264403[_0x7064b1(0x3c6)](_0x1b8589)[_0x7064b1(0x6f4)]();}catch{return null;}}async[a0_0x22ca5b(0x6f3)](_0x5259ff,_0x12b755,_0x40c1d7,_0x5ebf7b,_0x432db9='$set'){const _0x2fcf50=a0_0x22ca5b;try{let _0x23ab54={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x5ebf7b},_0xd7c819=this[_0x2fcf50(0x40a)](_0x40c1d7),_0x4381f4=A(_0x5259ff['where']);Object[_0x2fcf50(0x3ea)](_0x12b755)['forEach'](_0x56e192=>{_0x12b755[_0x56e192]==null&&delete _0x12b755[_0x56e192];});let _0x471d6e={};return _0x471d6e[_0x432db9]=_0x12b755,await _0xd7c819['findOneAndUpdate'](_0x4381f4,_0x471d6e,_0x23ab54);}catch(_0x378009){return console['error'](_0x378009),null;}}async[a0_0x22ca5b(0x1e9)](_0x2b2d47){const _0x2159b0=a0_0x22ca5b;try{let _0x2c53d7=this[_0x2159b0(0x40a)](_0x2b2d47[0x0][_0x2159b0(0x510)][_0x2159b0(0x20e)][_0x2159b0(0x283)]),_0x278355=_0x2b2d47[_0x2159b0(0x4fd)](_0x4bf72c=>({'updateOne':{'filter':{..._0x4bf72c['query']['where']},'update':{'$set':_0x4bf72c[_0x2159b0(0x76a)]},'upsert':!0x0}})),_0x434b7a=await _0x2c53d7[_0x2159b0(0x7a3)](_0x278355);return _0x434b7a['modifiedCount']+_0x434b7a[_0x2159b0(0x483)];}catch(_0x12698c){return console[_0x2159b0(0x30f)](_0x12698c),0x0;}}async[a0_0x22ca5b(0x591)](_0x555aa2){const _0x316b75=a0_0x22ca5b;try{let _0x389995=this[_0x316b75(0x40a)](_0x555aa2),_0x421840={'labels':{'$exists':!0x0}},_0xb5dbc6={'$unset':{'labels':''}};return(await _0x389995[_0x316b75(0x1e9)](_0x421840,_0xb5dbc6))['modifiedCount'];}catch(_0x4ccf2e){return console[_0x316b75(0x30f)](_0x4ccf2e),0x0;}}async[a0_0x22ca5b(0x1c5)](_0x4c0a6b){const _0xe11172=a0_0x22ca5b;try{let _0x49569c=this[_0xe11172(0x40a)](_0x4c0a6b),_0x372b28={'leadInfo.etiquetas':{'$exists':!0x1}},_0x32189c={'$set':{'leadInfo.etiquetas':[]}};return(await _0x49569c[_0xe11172(0x1e9)](_0x372b28,_0x32189c))[_0xe11172(0x774)];}catch(_0x1e7d44){return console[_0xe11172(0x30f)](_0x1e7d44),0x0;}}async[a0_0x22ca5b(0x383)](_0x521adf){const _0x156af0=a0_0x22ca5b;try{let _0x33c13e=this[_0x156af0(0x40a)](_0x521adf),_0x58c508={'leadInfo.tags':{'$exists':!0x1}},_0x50c00f={'$set':{'leadInfo.tags':[]}};return(await _0x33c13e[_0x156af0(0x1e9)](_0x58c508,_0x50c00f))[_0x156af0(0x774)];}catch(_0x28f820){return console[_0x156af0(0x30f)](_0x28f820),0x0;}}async[a0_0x22ca5b(0x1ae)](_0x4766ce){const _0x1d7f73=a0_0x22ca5b;try{let _0x40df35=this[_0x1d7f73(0x40a)](_0x4766ce),_0x558fec={'leadInfo.customFields':{'$exists':!0x1}},_0x4e6ab2={'$set':{'leadInfo.customFields':[]}};return(await _0x40df35[_0x1d7f73(0x1e9)](_0x558fec,_0x4e6ab2))[_0x1d7f73(0x774)];}catch(_0x180a59){return console[_0x1d7f73(0x30f)](_0x180a59),0x0;}}async['insertMany'](_0x37a09a,_0x2853db){const _0x3184e2=a0_0x22ca5b;if(!Array['isArray'](_0x37a09a)||_0x37a09a[_0x3184e2(0x3cc)]===0x0)throw new Error(_0x3184e2(0x595));try{return(await this[_0x3184e2(0x40a)](_0x2853db)[_0x3184e2(0x2d3)](_0x37a09a))[_0x3184e2(0x3cc)];}catch(_0x56dd98){throw console[_0x3184e2(0x30f)]('Erro\x20ao\x20inserir\x20chats:',_0x56dd98),_0x56dd98;}}async[a0_0x22ca5b(0x260)](_0x2697be,_0x36a4a6){const _0xbe98cd=a0_0x22ca5b;try{await this[_0xbe98cd(0x40a)](_0x36a4a6)['deleteOne']({'_id':_0x2697be});}catch(_0x21d165){throw console['error'](_0xbe98cd(0x191),_0x21d165),_0x21d165;}}},kt=class extends x{[a0_0x22ca5b(0x224)](_0x490f9b){return pa(_0x490f9b);}async[a0_0x22ca5b(0x6f3)](_0x488a4b,_0x25212d,_0x41f30d,_0x372b01){const _0x2baf8a=a0_0x22ca5b;try{let _0x3cfab0={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x372b01},_0x52539b=this['getLabelModelForOwner'](_0x41f30d),_0x1f220e=A(_0x488a4b['where']);return await _0x52539b[_0x2baf8a(0x3e5)](_0x1f220e,{'$set':_0x25212d},_0x3cfab0);}catch(_0x1fc83e){return console[_0x2baf8a(0x30f)](_0x1fc83e),null;}}async['find'](_0x76aa0f,_0x4fb68c){try{let _0x390e3f=this['getLabelModelForOwner'](_0x4fb68c),_0x48b683=A(_0x76aa0f['where']);return await _0x390e3f['find'](_0x48b683);}catch(_0x3b9971){console['error'](_0x3b9971);}}async['delete'](_0x18a653,_0x3010ba){const _0xb0ab09=a0_0x22ca5b;try{let _0x44ee5a=this[_0xb0ab09(0x224)](_0x3010ba),_0x381e19=A(_0x18a653[_0xb0ab09(0x20e)]);await _0x44ee5a[_0xb0ab09(0x183)](_0x381e19);}catch(_0x12ba13){console[_0xb0ab09(0x30f)](_0x12ba13);}}async[a0_0x22ca5b(0x6b2)](_0x563ce5){const _0x1efb0a=a0_0x22ca5b;try{return await this[_0x1efb0a(0x224)](_0x563ce5)[_0x1efb0a(0x5d0)][_0x1efb0a(0x307)](),{'success':!0x0};}catch(_0x5c7f25){return console[_0x1efb0a(0x30f)](_0x5c7f25),{'success':!0x1,'error':_0x5c7f25};}}},Lt=class{constructor(_0x18f259){const _0x26f341=a0_0x22ca5b;this[_0x26f341(0x187)]=_0x18f259;}async[a0_0x22ca5b(0x1b4)]({instanceName:_0x111389},_0x532ed7){const _0x2a9aca=a0_0x22ca5b;return await this[_0x2a9aca(0x187)]['waInstances'][_0x111389][_0x2a9aca(0x1b4)](_0x532ed7);}async[a0_0x22ca5b(0x1d1)]({instanceName:_0x4c0269},_0xc97329){const _0x28ac88=a0_0x22ca5b;return await this[_0x28ac88(0x187)]['waInstances'][_0x4c0269][_0x28ac88(0x1d1)](_0xc97329);}async['importChats']({instanceName:_0x47f78f},_0x1553b9){const _0x55f846=a0_0x22ca5b;return await this[_0x55f846(0x187)]['waInstances'][_0x47f78f][_0x55f846(0x2bd)](_0x1553b9);}async[a0_0x22ca5b(0x621)]({instanceName:_0xbb5ac0},_0x1ff74a){const _0x2efcdc=a0_0x22ca5b;return await this[_0x2efcdc(0x187)][_0x2efcdc(0x782)][_0xbb5ac0]['markMessageAsRead'](_0x1ff74a);}async[a0_0x22ca5b(0x34b)]({instanceName:_0x4596d7},_0x3b0385){const _0x72e474=a0_0x22ca5b;return await this['waMonitor'][_0x72e474(0x782)][_0x4596d7][_0x72e474(0x34b)](_0x3b0385);}async['deleteMessage']({instanceName:_0x2edc9f},_0x41e0a6){const _0x4490c1=a0_0x22ca5b;return await this['waMonitor']['waInstances'][_0x2edc9f][_0x4490c1(0x7ef)](_0x41e0a6);}async[a0_0x22ca5b(0x507)]({instanceName:_0x50c62f},_0x4b5b7a){const _0x5218b7=a0_0x22ca5b;return await this[_0x5218b7(0x187)][_0x5218b7(0x782)][_0x50c62f]['profilePicture'](_0x4b5b7a[_0x5218b7(0x6d6)]);}async['fetchProfile']({instanceName:_0x135092},_0x18a50f){const _0x23d491=a0_0x22ca5b;return await this[_0x23d491(0x187)][_0x23d491(0x782)][_0x135092][_0x23d491(0x589)](_0x18a50f[_0x23d491(0x6d6)]);}async['updatePresence']({instanceName:_0x4e9452},_0x430883){const _0xa2c6a7=a0_0x22ca5b;return await this[_0xa2c6a7(0x187)][_0xa2c6a7(0x782)][_0x4e9452][_0xa2c6a7(0x76f)](_0x430883);}async['fetchContacts']({instanceName:_0x24f3c9},_0x46a95a){const _0x1485aa=a0_0x22ca5b;return await this['waMonitor'][_0x1485aa(0x782)][_0x24f3c9][_0x1485aa(0x6a1)](_0x46a95a);}async[a0_0x22ca5b(0x182)]({instanceName:_0x16710e},_0x8fe53a){const _0x9f8a1a=a0_0x22ca5b;return await this[_0x9f8a1a(0x187)][_0x9f8a1a(0x782)][_0x16710e][_0x9f8a1a(0x182)](_0x8fe53a);}async[a0_0x22ca5b(0x5c4)]({instanceName:_0x319a3c},_0x33bc81){const _0x1878ff=a0_0x22ca5b;return await this[_0x1878ff(0x187)][_0x1878ff(0x782)][_0x319a3c][_0x1878ff(0x5c4)](_0x33bc81);}async[a0_0x22ca5b(0x4a5)]({instanceName:_0x1ada64}){const _0x1861cb=a0_0x22ca5b;return await this['waMonitor'][_0x1861cb(0x782)][_0x1ada64][_0x1861cb(0x4a5)]();}async[a0_0x22ca5b(0x201)]({instanceName:_0x580c09}){const _0x5e83c3=a0_0x22ca5b;return await this[_0x5e83c3(0x187)][_0x5e83c3(0x782)][_0x580c09][_0x5e83c3(0x201)]();}async[a0_0x22ca5b(0x569)]({instanceName:_0x439d4b}){const _0x103cce=a0_0x22ca5b;return await this[_0x103cce(0x187)][_0x103cce(0x782)][_0x439d4b][_0x103cce(0x569)]();}async[a0_0x22ca5b(0x25f)]({instanceName:_0x5040cf},_0x5aa94f){const _0x532a8b=a0_0x22ca5b;return await this[_0x532a8b(0x187)][_0x532a8b(0x782)][_0x5040cf][_0x532a8b(0x25f)](_0x5aa94f);}async['fetchBusinessProfile']({instanceName:_0x5dcc86},_0x5e641e){const _0xa0fc5=a0_0x22ca5b;return await this['waMonitor']['waInstances'][_0x5dcc86][_0xa0fc5(0x2cb)](_0x5e641e[_0xa0fc5(0x6d6)]);}async[a0_0x22ca5b(0x468)]({instanceName:_0x255e03},_0x14e8bc){const _0x3093f8=a0_0x22ca5b;return await this['waMonitor'][_0x3093f8(0x782)][_0x255e03][_0x3093f8(0x468)](_0x14e8bc[_0x3093f8(0x5cf)]);}async[a0_0x22ca5b(0x419)]({instanceName:_0x1e4ea8},_0x5a3aec){const _0x1569bd=a0_0x22ca5b;return await this[_0x1569bd(0x187)][_0x1569bd(0x782)][_0x1e4ea8][_0x1569bd(0x419)](_0x5a3aec['status']);}async[a0_0x22ca5b(0x64f)]({instanceName:_0xb80560},_0x38d82f){const _0x11fc2a=a0_0x22ca5b;return await this['waMonitor'][_0x11fc2a(0x782)][_0xb80560][_0x11fc2a(0x64f)](_0x38d82f[_0x11fc2a(0x1d6)]);}async[a0_0x22ca5b(0x27a)]({instanceName:_0x3c7133},_0x255513){const _0xbe9b52=a0_0x22ca5b;return await this[_0xbe9b52(0x187)]['waInstances'][_0x3c7133][_0xbe9b52(0x27a)]();}},Rs=require(a0_0x22ca5b(0x7a6)),Ft=class c{constructor(_0x3fe7eb,_0x53508e,_0x51da26,_0x175ce2,_0x5463a6){const _0x385cb0=a0_0x22ca5b;this[_0x385cb0(0x187)]=_0x3fe7eb,this['configService']=_0x53508e,this['repository']=_0x51da26,this['eventEmitter']=_0x175ce2,this[_0x385cb0(0x3c7)]=_0x5463a6,this['logger']=new v(c[_0x385cb0(0x5cf)]);}async['createInstance']({instanceName:_0x3a191a,apikey:_0x3e3ac7,number:_0x1a4341,proxy:_0x445dc1=!0x0}){const _0x2871cb=a0_0x22ca5b;try{let _0x511872=new we(this['configService'],this['eventEmitter'],this[_0x2871cb(0x3e6)]);_0x511872[_0x2871cb(0x60b)]=_0x3a191a,this[_0x2871cb(0x187)][_0x2871cb(0x782)][_0x511872[_0x2871cb(0x60b)]]=_0x511872;let _0x4f3cd7={};_0x3e3ac7?(await this[_0x2871cb(0x3e6)][_0x2871cb(0x28d)][_0x2871cb(0x336)]({'apikey':_0x3e3ac7},_0x3a191a),_0x4f3cd7['apikey']=_0x3e3ac7):_0x4f3cd7=await this[_0x2871cb(0x3c7)][_0x2871cb(0x611)]({'instanceName':_0x511872[_0x2871cb(0x60b)]});let _0x3d947c;return await _0x511872['connectToWhatsapp'](_0x1a4341),await(0x0,Rs[_0x2871cb(0x56f)])(0x7d0),_0x3d947c=_0x511872[_0x2871cb(0x200)],{'instance':{'instanceName':_0x511872[_0x2871cb(0x60b)],'status':_0x2871cb(0x799)},'hash':_0x4f3cd7,'qrcode':_0x3d947c};}catch(_0x349e0c){this[_0x2871cb(0x31f)]['error'](_0x349e0c);}}async['connectToWhatsappController']({instanceName:_0x3eec43,number:_0x21a29a=null}){const _0x207180=a0_0x22ca5b;try{let _0x5a9830=this[_0x207180(0x187)]['waInstances'][_0x3eec43];switch(_0x5a9830?.[_0x207180(0x722)]?.[_0x207180(0x31c)]){case _0x207180(0x382):return await _0x5a9830[_0x207180(0x4aa)](_0x21a29a),await(0x0,Rs[_0x207180(0x56f)])(0x7d0),_0x5a9830['qrCode'];case _0x207180(0x6f7):return _0x5a9830['qrCode'];default:return await this[_0x207180(0x477)]({'instanceName':_0x3eec43});}}catch(_0x23070e){this[_0x207180(0x31f)]['log'](_0x23070e);}}async[a0_0x22ca5b(0x477)]({instanceName:_0x2638b6}){const _0x15b4a8=a0_0x22ca5b;let _0x4c80dd=this[_0x15b4a8(0x187)][_0x15b4a8(0x782)][_0x2638b6][_0x15b4a8(0x722)],_0x25597c=null;_0x4c80dd[_0x15b4a8(0x31c)]===_0x15b4a8(0x50b)&&_0x2638b6&&(_0x25597c=await this[_0x15b4a8(0x187)][_0x15b4a8(0x470)](_0x2638b6));let _0x2f0438=null;return _0x4c80dd[_0x15b4a8(0x31c)]==='connecting'&&_0x2638b6&&(_0x2f0438=this[_0x15b4a8(0x187)][_0x15b4a8(0x782)][_0x2638b6][_0x15b4a8(0x200)]),{'instance':_0x2638b6,'connectionStatus':_0x4c80dd,'instanceInfo':_0x25597c,'qrcode':_0x2f0438};}async[a0_0x22ca5b(0x7cb)]({instanceName:_0x58e3ad}){const _0x4f8c10=a0_0x22ca5b;try{return this[_0x4f8c10(0x187)][_0x4f8c10(0x782)][_0x58e3ad]?.[_0x4f8c10(0x42e)]?.['ws']?.[_0x4f8c10(0x382)](),{'status':_0x4f8c10(0x4dc),'error':!0x1,'response':{'message':'Instance\x20restarted'}};}catch(_0x3c27ce){this['logger'][_0x4f8c10(0x30f)](_0x3c27ce);}}async[a0_0x22ca5b(0x348)]({instanceName:_0x350ac2}){const _0x4fe446=a0_0x22ca5b;return _0x350ac2?this[_0x4fe446(0x187)][_0x4fe446(0x470)](_0x350ac2):this[_0x4fe446(0x187)][_0x4fe446(0x470)]();}async['logout']({instanceName:_0x10abcf}){const _0x3c8504=a0_0x22ca5b;try{return await this[_0x3c8504(0x187)][_0x3c8504(0x782)][_0x10abcf]?.[_0x3c8504(0x42e)]?.[_0x3c8504(0x683)](_0x3c8504(0x19c)+_0x10abcf),{'error':!0x1,'message':_0x3c8504(0x448)};}catch(_0x47fa5f){throw new I(_0x47fa5f[_0x3c8504(0x4b6)]());}}async[a0_0x22ca5b(0x73a)]({instanceName:_0x196ebe}){const _0x123907=a0_0x22ca5b;if((await this[_0x123907(0x477)]({'instanceName':_0x196ebe}))[_0x123907(0x722)][_0x123907(0x31c)]==='open')throw new f([_0x123907(0x550),_0x123907(0x456)]);try{return delete this[_0x123907(0x187)][_0x123907(0x782)][_0x196ebe],{'error':!0x1,'message':_0x123907(0x730)};}catch(_0xd98b1b){throw new f(_0xd98b1b['toString']());}}},X=require(a0_0x22ca5b(0x60a)),jt=class{constructor(_0x27808e){const _0x12a2c9=a0_0x22ca5b;this[_0x12a2c9(0x187)]=_0x27808e;}async[a0_0x22ca5b(0x1ac)]({instanceName:_0x46a228},_0x75ae49){const _0x18569e=a0_0x22ca5b;return await this[_0x18569e(0x187)][_0x18569e(0x782)][_0x46a228][_0x18569e(0x7ea)](_0x75ae49);}async['sendMenu']({instanceName:_0x3d2385},_0xfde1a4){const _0x4fa52c=a0_0x22ca5b;return await this[_0x4fa52c(0x187)][_0x4fa52c(0x782)][_0x3d2385][_0x4fa52c(0x4a1)](_0xfde1a4);}async[a0_0x22ca5b(0x772)]({instanceName:_0x21324d},_0x3162ad){const _0x10083a=a0_0x22ca5b;if((0x0,X['isBase64'])(_0x3162ad?.[_0x10083a(0x22d)]?.['media'])&&!_0x3162ad?.[_0x10083a(0x22d)]?.[_0x10083a(0x396)])throw new f('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,X[_0x10083a(0x7d6)])(_0x3162ad?.[_0x10083a(0x22d)]?.['media'])||(0x0,X[_0x10083a(0x474)])(_0x3162ad?.['mediaMessage']?.[_0x10083a(0x6ae)]))return await this[_0x10083a(0x187)][_0x10083a(0x782)][_0x21324d]['mediaMessage'](_0x3162ad);throw new f(_0x10083a(0x290));}async['sendSticker']({instanceName:_0x4037c2},_0xcbe0c7){const _0x1ba3de=a0_0x22ca5b;if((0x0,X[_0x1ba3de(0x7d6)])(_0xcbe0c7['stickerMessage']['image'])||(0x0,X[_0x1ba3de(0x474)])(_0xcbe0c7[_0x1ba3de(0x5df)][_0x1ba3de(0x7f1)]))return await this[_0x1ba3de(0x187)][_0x1ba3de(0x782)][_0x4037c2][_0x1ba3de(0x4eb)](_0xcbe0c7);throw new f(_0x1ba3de(0x290));}async[a0_0x22ca5b(0x3dc)]({instanceName:_0x2065b2},_0x491d90){const _0x1157c1=a0_0x22ca5b;if((0x0,X[_0x1157c1(0x7d6)])(_0x491d90[_0x1157c1(0x30b)]['audio'])||(0x0,X['isBase64'])(_0x491d90[_0x1157c1(0x30b)][_0x1157c1(0x175)]))return await this[_0x1157c1(0x187)][_0x1157c1(0x782)][_0x2065b2][_0x1157c1(0x20c)](_0x491d90);throw new f(_0x1157c1(0x290));}async[a0_0x22ca5b(0x38a)]({instanceName:_0x339bd8},_0xbe9973){const _0x243ac8=a0_0x22ca5b;if((0x0,X[_0x243ac8(0x474)])(_0xbe9973['buttonMessage']['mediaMessage']?.['media'])&&!_0xbe9973[_0x243ac8(0x752)][_0x243ac8(0x22d)]?.[_0x243ac8(0x396)])throw new f(_0x243ac8(0x250));return await this[_0x243ac8(0x187)][_0x243ac8(0x782)][_0x339bd8][_0x243ac8(0x752)](_0xbe9973);}async['sendLocation']({instanceName:_0x597c9a},_0x150ef4){const _0x76b916=a0_0x22ca5b;return await this[_0x76b916(0x187)]['waInstances'][_0x597c9a]['locationMessage'](_0x150ef4);}async[a0_0x22ca5b(0x3eb)]({instanceName:_0xa33e6e},_0x92caad){const _0x31f301=a0_0x22ca5b;return await this[_0x31f301(0x187)][_0x31f301(0x782)][_0xa33e6e][_0x31f301(0x564)](_0x92caad);}async['sendList']({instanceName:_0x1071a7},_0x4f5d0e){const _0x511897=a0_0x22ca5b;return await this[_0x511897(0x187)]['waInstances'][_0x1071a7][_0x511897(0x4e6)](_0x4f5d0e);}async[a0_0x22ca5b(0x257)]({instanceName:_0x489e0d},_0x246002){const _0x10ff92=a0_0x22ca5b;return await this[_0x10ff92(0x187)][_0x10ff92(0x782)][_0x489e0d]['contactMessage'](_0x246002);}async['sendReaction']({instanceName:_0x42bb7c},_0x68c3ca){const _0x3bc393=a0_0x22ca5b;if(!_0x68c3ca[_0x3bc393(0x4d2)][_0x3bc393(0x169)][_0x3bc393(0x78c)](/[^\(\)\w\sà-ú"-\+]+/))throw new f('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this[_0x3bc393(0x187)]['waInstances'][_0x42bb7c]['reactionMessage'](_0x68c3ca);}async[a0_0x22ca5b(0x533)]({instanceName:_0x31bbd7},_0x30ebf9){return await this['waMonitor']['waInstances'][_0x31bbd7]['statusMessage'](_0x30ebf9);}},Cr=require('jsonwebtoken'),Ts=require(a0_0x22ca5b(0x350)),Ut=class c{constructor(_0x251cef,_0x1adf34,_0x5525c7){const _0x2f4966=a0_0x22ca5b;this[_0x2f4966(0x394)]=_0x251cef,this[_0x2f4966(0x187)]=_0x1adf34,this[_0x2f4966(0x3e6)]=_0x5525c7,this[_0x2f4966(0x31f)]=new v(c[_0x2f4966(0x5cf)]);}async[a0_0x22ca5b(0x6f1)](_0x2d473c){const _0xf6221a=a0_0x22ca5b;let _0x3e3c57=this[_0xf6221a(0x394)][_0xf6221a(0x16d)](_0xf6221a(0x221))['JWT'],_0x4ae4eb=(0x0,Cr['sign'])({'instanceName':_0x2d473c[_0xf6221a(0x60b)],'apiName':ze,'tokenId':(0x0,Ts['v4'])()},_0x3e3c57['SECRET'],{'expiresIn':_0x3e3c57[_0xf6221a(0x380)],'encoding':_0xf6221a(0x6be),'subject':_0xf6221a(0x717)}),_0x11ca1d=await this[_0xf6221a(0x3e6)][_0xf6221a(0x28d)]['create']({'jwt':_0x4ae4eb},_0x2d473c[_0xf6221a(0x60b)]);if(_0x11ca1d[_0xf6221a(0x30f)])throw this[_0xf6221a(0x31f)][_0xf6221a(0x30f)]({'localError':c[_0xf6221a(0x5cf)]+_0xf6221a(0x7a7),'error':_0x11ca1d[_0xf6221a(0x30f)]}),new f(_0xf6221a(0x368),_0x11ca1d[_0xf6221a(0x30f)]?.[_0xf6221a(0x4b6)]());return{'jwt':_0x4ae4eb};}async[a0_0x22ca5b(0x43e)](_0x3f3bfb){const _0x220782=a0_0x22ca5b;let _0xca8819=(0x0,Ts['v4'])()[_0x220782(0x70b)](),_0x3e68f8=await this[_0x220782(0x3e6)][_0x220782(0x28d)]['create']({'apikey':_0xca8819},_0x3f3bfb[_0x220782(0x60b)]);if(_0x3e68f8[_0x220782(0x30f)])throw this[_0x220782(0x31f)][_0x220782(0x30f)]({'localError':c[_0x220782(0x5cf)]+_0x220782(0x7a7),'error':_0x3e68f8[_0x220782(0x30f)]}),new f('Authentication\x20error',_0x3e68f8[_0x220782(0x30f)]?.[_0x220782(0x4b6)]());return{'apikey':_0xca8819};}async['generateHash'](_0x153d85){const _0x140bc6=a0_0x22ca5b;let _0x5cdd65=this[_0x140bc6(0x394)][_0x140bc6(0x16d)](_0x140bc6(0x221));return await this[_0x5cdd65[_0x140bc6(0x607)]](_0x153d85);}},qt=class{constructor(_0x2a44ed){const _0x44c0c5=a0_0x22ca5b;this[_0x44c0c5(0x187)]=_0x2a44ed;}async[a0_0x22ca5b(0x506)](_0x4e8c2b,_0xd0c384){const _0x45de18=a0_0x22ca5b;return await this[_0x45de18(0x187)]['waInstances'][_0x4e8c2b[_0x45de18(0x60b)]][_0x45de18(0x506)](_0xd0c384);}async[a0_0x22ca5b(0x3f5)](_0xd0bb8b,_0x1aca9b){const _0x581ad5=a0_0x22ca5b;return await this[_0x581ad5(0x187)]['waInstances'][_0xd0bb8b[_0x581ad5(0x60b)]][_0x581ad5(0x3f5)](_0x1aca9b);}async[a0_0x22ca5b(0x373)](_0x16fcb0,_0x3b7456){const _0x7bdcaa=a0_0x22ca5b;return await this['waMonitor'][_0x7bdcaa(0x782)][_0x16fcb0[_0x7bdcaa(0x60b)]][_0x7bdcaa(0x373)](_0x3b7456);}async[a0_0x22ca5b(0x23b)](_0x19d55b,_0x2b9d51){const _0x31da78=a0_0x22ca5b;return await this[_0x31da78(0x187)][_0x31da78(0x782)][_0x19d55b['instanceName']]['groupName'](_0x2b9d51);}async['groupSetting'](_0x33659e,_0x922870){const _0x31293e=a0_0x22ca5b;return await this[_0x31293e(0x187)][_0x31293e(0x782)][_0x33659e[_0x31293e(0x60b)]]['groupSetting'](_0x922870);}async[a0_0x22ca5b(0x690)](_0xf5a821,_0x3b368c){const _0x4020df=a0_0x22ca5b;return await this['waMonitor'][_0x4020df(0x782)][_0xf5a821[_0x4020df(0x60b)]][_0x4020df(0x576)](_0x3b368c);}async[a0_0x22ca5b(0x354)](_0x5dd9dd){const _0x56c99a=a0_0x22ca5b;return await this[_0x56c99a(0x187)][_0x56c99a(0x782)][_0x5dd9dd['instanceName']][_0x56c99a(0x354)]();}async[a0_0x22ca5b(0x369)](_0x4a30b7,_0x159718){const _0x25da4a=a0_0x22ca5b;return await this[_0x25da4a(0x187)][_0x25da4a(0x782)][_0x4a30b7[_0x25da4a(0x60b)]][_0x25da4a(0x369)](_0x159718);}async[a0_0x22ca5b(0x6a9)](_0x191cc1,_0x272b77){const _0x4d48a0=a0_0x22ca5b;return await this[_0x4d48a0(0x187)][_0x4d48a0(0x782)][_0x191cc1[_0x4d48a0(0x60b)]]['joinGroup'](_0x272b77);}async[a0_0x22ca5b(0x3bf)](_0x4bf692,_0x161233){const _0x5a5626=a0_0x22ca5b;return await this[_0x5a5626(0x187)][_0x5a5626(0x782)][_0x4bf692['instanceName']][_0x5a5626(0x3bf)](_0x161233);}async[a0_0x22ca5b(0x218)](_0x54c8c9,_0x374041){const _0x561a62=a0_0x22ca5b;return await this[_0x561a62(0x187)]['waInstances'][_0x54c8c9[_0x561a62(0x60b)]]['findParticipants'](_0x374041);}async[a0_0x22ca5b(0x753)](_0x5c888f,_0x636eff){const _0x2c8fa9=a0_0x22ca5b;return await this[_0x2c8fa9(0x187)][_0x2c8fa9(0x782)][_0x5c888f[_0x2c8fa9(0x60b)]][_0x2c8fa9(0x6f8)](_0x636eff);}async[a0_0x22ca5b(0x475)](_0x33b7f1,_0x3d2e38){const _0x1dbe61=a0_0x22ca5b;return await this[_0x1dbe61(0x187)]['waInstances'][_0x33b7f1[_0x1dbe61(0x60b)]]['toggleEphemeral'](_0x3d2e38);}async[a0_0x22ca5b(0x5e0)](_0x1ec657,_0x3a5e41){const _0xdb1329=a0_0x22ca5b;return await this['waMonitor'][_0xdb1329(0x782)][_0x1ec657[_0xdb1329(0x60b)]][_0xdb1329(0x5e0)](_0x3a5e41);}},Jt=class{constructor(_0xcfa8dc){this['waMonitor']=_0xcfa8dc;}[a0_0x22ca5b(0x336)](_0x36adef,_0x29120e){const _0x19926b=a0_0x22ca5b;return this[_0x19926b(0x187)][_0x19926b(0x782)][_0x36adef[_0x19926b(0x60b)]][_0x19926b(0x696)](_0x29120e);}async[a0_0x22ca5b(0x75e)](_0x53edf3){const _0x3b7e87=a0_0x22ca5b;try{return await this['waMonitor'][_0x3b7e87(0x782)][_0x53edf3[_0x3b7e87(0x60b)]][_0x3b7e87(0x4bc)]();}catch{return{'enabled':null,'url':''};}}},Xd=new v(a0_0x22ca5b(0x651)),Vt=class{constructor(_0x33cd16){this['waMonitor']=_0x33cd16;}async[a0_0x22ca5b(0x7df)](_0xcc70af,_0x443fa0){const _0x329ffe=a0_0x22ca5b;return await this['waMonitor'][_0x329ffe(0x782)][_0xcc70af['instanceName']][_0x329ffe(0x7df)](_0x443fa0);}async[a0_0x22ca5b(0x20f)](_0x3bf1e9){const _0x2f8b86=a0_0x22ca5b;return await this['waMonitor'][_0x2f8b86(0x782)][_0x3bf1e9[_0x2f8b86(0x60b)]]['getScheduleMessage']();}async[a0_0x22ca5b(0x34f)](_0x33f733){const _0x45c9bc=a0_0x22ca5b;return await this[_0x45c9bc(0x187)][_0x45c9bc(0x782)][_0x33f733[_0x45c9bc(0x60b)]]['deleteDoneMessages']();}async['getAutomateSystem'](_0xde675c){const _0x2505c0=a0_0x22ca5b;return await this[_0x2505c0(0x187)]['waInstances'][_0xde675c[_0x2505c0(0x60b)]][_0x2505c0(0x652)]();}async[a0_0x22ca5b(0x2a2)](_0x2300b0,_0x50b905){const _0x3b8685=a0_0x22ca5b;return await this['waMonitor'][_0x3b8685(0x782)][_0x2300b0[_0x3b8685(0x60b)]][_0x3b8685(0x2a2)](_0x50b905);}async[a0_0x22ca5b(0x503)](_0x3a913d,_0x5ef3cd){const _0x370c30=a0_0x22ca5b;return await this[_0x370c30(0x187)]['waInstances'][_0x3a913d[_0x370c30(0x60b)]][_0x370c30(0x503)](_0x5ef3cd);}async['updateFlowConfig'](_0x21e3f3,_0x1ee75e){const _0x537079=a0_0x22ca5b;return await this['waMonitor']['waInstances'][_0x21e3f3[_0x537079(0x60b)]][_0x537079(0x5b7)](_0x1ee75e);}async[a0_0x22ca5b(0x465)](_0x9a9ff2,_0x50a79b){const _0x5a3171=a0_0x22ca5b;return await this[_0x5a3171(0x187)]['waInstances'][_0x9a9ff2['instanceName']][_0x5a3171(0x465)](_0x50a79b);}async[a0_0x22ca5b(0x47c)](_0x3ac43e,_0x37aac9){const _0x20d34f=a0_0x22ca5b;return await this[_0x20d34f(0x187)][_0x20d34f(0x782)][_0x3ac43e['instanceName']][_0x20d34f(0x47c)](_0x37aac9);}async['fetchConversation'](_0x5c4c0d,_0x31e676){const _0x57042c=a0_0x22ca5b;return await this['waMonitor'][_0x57042c(0x782)][_0x5c4c0d[_0x57042c(0x60b)]][_0x57042c(0x273)](_0x31e676);}async[a0_0x22ca5b(0x4de)](_0x563e40,_0x129050){const _0x440d02=a0_0x22ca5b;return await this[_0x440d02(0x187)]['waInstances'][_0x563e40[_0x440d02(0x60b)]][_0x440d02(0x4de)](_0x129050);}async[a0_0x22ca5b(0x53f)](_0x32fe72,_0xe57f0a){const _0x1e6fdf=a0_0x22ca5b;return await this[_0x1e6fdf(0x187)]['waInstances'][_0x32fe72[_0x1e6fdf(0x60b)]][_0x1e6fdf(0x53f)](_0xe57f0a);}async[a0_0x22ca5b(0x50d)](_0x2881ea,_0x4de850){const _0x51db51=a0_0x22ca5b;return await this[_0x51db51(0x187)][_0x51db51(0x782)][_0x2881ea[_0x51db51(0x60b)]]['getFlow'](_0x4de850['name']);}async[a0_0x22ca5b(0x749)](_0x3710c9,_0x531d8c){const _0x5bf71b=a0_0x22ca5b;return await this[_0x5bf71b(0x187)][_0x5bf71b(0x782)][_0x3710c9[_0x5bf71b(0x60b)]]['createFlow'](_0x531d8c);}async[a0_0x22ca5b(0x5f4)](_0x5eeda4,_0x2bb88a){const _0x5e16ce=a0_0x22ca5b;return await this[_0x5e16ce(0x187)][_0x5e16ce(0x782)][_0x5eeda4[_0x5e16ce(0x60b)]][_0x5e16ce(0x5f4)](_0x2bb88a);}async[a0_0x22ca5b(0x3de)](_0x4d2b7c,_0x4ad89a){const _0x283c69=a0_0x22ca5b;return await this[_0x283c69(0x187)][_0x283c69(0x782)][_0x4d2b7c[_0x283c69(0x60b)]][_0x283c69(0x3de)](_0x4ad89a);}async[a0_0x22ca5b(0x37c)](_0x2489d0,_0x3bf918){const _0x1b9fdf=a0_0x22ca5b;return await this[_0x1b9fdf(0x187)][_0x1b9fdf(0x782)][_0x2489d0[_0x1b9fdf(0x60b)]][_0x1b9fdf(0x37c)](_0x3bf918);}async[a0_0x22ca5b(0x2d1)](_0x514c98,_0x58641b){const _0x32dfca=a0_0x22ca5b;return await this[_0x32dfca(0x187)][_0x32dfca(0x782)][_0x514c98['instanceName']]['editFlowGroup'](_0x58641b);}async['editFlowCondition'](_0x477da1,_0xe44a3d){const _0x363b50=a0_0x22ca5b;return await this[_0x363b50(0x187)][_0x363b50(0x782)][_0x477da1[_0x363b50(0x60b)]][_0x363b50(0x6b5)](_0xe44a3d);}async[a0_0x22ca5b(0x670)](_0x4b6d54,_0x5f2e62){const _0x4dcb15=a0_0x22ca5b;return await this[_0x4dcb15(0x187)][_0x4dcb15(0x782)][_0x4b6d54[_0x4dcb15(0x60b)]][_0x4dcb15(0x670)](_0x5f2e62);}async['editFlowVariable'](_0xe70ec6,_0x144e8c){const _0x3312a9=a0_0x22ca5b;return await this['waMonitor'][_0x3312a9(0x782)][_0xe70ec6[_0x3312a9(0x60b)]][_0x3312a9(0x2c2)](_0x144e8c);}async[a0_0x22ca5b(0x5f2)](_0x382b33,_0x3fba12){const _0x34037a=a0_0x22ca5b;return await this[_0x34037a(0x187)][_0x34037a(0x782)][_0x382b33['instanceName']][_0x34037a(0x5f2)](_0x3fba12[_0x34037a(0x5cf)]);}async[a0_0x22ca5b(0x6ef)](_0xcdf6a6){const _0x33a18c=a0_0x22ca5b;return await this[_0x33a18c(0x187)]['waInstances'][_0xcdf6a6[_0x33a18c(0x60b)]][_0x33a18c(0x6ef)]();}},Bt=class{constructor(_0x3989a1){const _0xe11096=a0_0x22ca5b;this[_0xe11096(0x5dd)]=_0x3989a1;}async[a0_0x22ca5b(0x4f4)](_0x3c0e15,_0x1b94af){const _0x323e99=a0_0x22ca5b;return this['webhookService'][_0x323e99(0x336)](_0x3c0e15,_0x1b94af);}async[a0_0x22ca5b(0x4bc)](_0x42b41c){return this['webhookService']['find'](_0x42b41c);}},Gt=class extends x{constructor(_0x730a88,_0x17ebec){super(_0x17ebec),this['webhookModel']=_0x730a88,this['configService']=_0x17ebec;}async[a0_0x22ca5b(0x336)](_0x47e8fe,_0x36fd1d){const _0x3bd256=a0_0x22ca5b;try{return this['dbSettings'][_0x3bd256(0x729)]?{'insertCount':(await this[_0x3bd256(0x192)]['replaceOne']({'_id':_0x36fd1d},{..._0x47e8fe},{'upsert':!0x0}))[_0x3bd256(0x774)]}:{'insertCount':0x1};}catch(_0xe968ec){return _0xe968ec;}}async['delete'](_0x243dd0){const _0xbfd480=a0_0x22ca5b;try{if(this[_0xbfd480(0x1bb)][_0xbfd480(0x729)]){await this[_0xbfd480(0x192)]['deleteOne']({'_id':_0x243dd0});return;}}catch(_0x18d493){return{'error':_0x18d493};}}async[a0_0x22ca5b(0x75e)](_0x3670b6){const _0x5b4bbb=a0_0x22ca5b;try{if(this[_0x5b4bbb(0x1bb)]['ENABLED'])return await this[_0x5b4bbb(0x192)][_0x5b4bbb(0x3c6)]({'_id':_0x3670b6});}catch{return{};}}},Wt=class extends x{constructor(_0x11dbf9,_0x323c91){const _0x46741a=a0_0x22ca5b;super(_0x323c91),this['authModel']=_0x11dbf9,this[_0x46741a(0x394)]=_0x323c91,this[_0x46741a(0x28d)]=_0x323c91[_0x46741a(0x16d)](_0x46741a(0x221));}async[a0_0x22ca5b(0x336)](_0x2c4e4a,_0x326e91){const _0x483f0f=a0_0x22ca5b;try{if(this[_0x483f0f(0x1bb)][_0x483f0f(0x729)])return{'insertCount':(await this[_0x483f0f(0x4e7)][_0x483f0f(0x6f3)]({'_id':_0x326e91},{'$set':{..._0x2c4e4a}},{'upsert':!0x0}))[_0x483f0f(0x774)]};}catch(_0x58b7c2){return{'error':_0x58b7c2};}}async['updateAll'](_0x146535,_0x11de0b){const _0x798674=a0_0x22ca5b;try{if(this[_0x798674(0x1bb)][_0x798674(0x729)])return{'insertCount':(await this[_0x798674(0x4e7)][_0x798674(0x1e9)](_0x146535,{'$set':_0x11de0b},{'upsert':!0x1}))[_0x798674(0x774)]};throw new Error(_0x798674(0x457));}catch(_0x1fefbb){return{'error':_0x1fefbb};}}async[a0_0x22ca5b(0x183)](_0x575683){const _0x56235a=a0_0x22ca5b;try{if(this['dbSettings'][_0x56235a(0x729)])return{'insertCount':(await this['authModel'][_0x56235a(0x183)](_0x575683))[_0x56235a(0x54e)]};throw new Error(_0x56235a(0x457));}catch(_0x4f79ea){return{'error':_0x4f79ea};}}async[a0_0x22ca5b(0x4c6)](_0x3851f1){const _0x45e971=a0_0x22ca5b;try{if(this[_0x45e971(0x1bb)][_0x45e971(0x729)]){await this[_0x45e971(0x4e7)][_0x45e971(0x4c5)]({'_id':_0x3851f1});return;}}catch(_0x5f5506){return{'error':_0x5f5506};}}async[a0_0x22ca5b(0x75e)](_0x20b25b){const _0x371ccc=a0_0x22ca5b;try{if(this[_0x371ccc(0x1bb)]['ENABLED'])return await this[_0x371ccc(0x4e7)]['findOne']({'_id':_0x20b25b});}catch{return{};}}async[a0_0x22ca5b(0x170)](){const _0x2da6ee=a0_0x22ca5b;try{if(this[_0x2da6ee(0x1bb)][_0x2da6ee(0x729)])return await this[_0x2da6ee(0x4e7)][_0x2da6ee(0x75e)]();}catch{return[];}}},zt=class extends x{['getFlowModelForOwner'](_0x3a2f2e){return aa(_0x3a2f2e);}async[a0_0x22ca5b(0x48e)](_0x1140ee){const _0x1b31a3=a0_0x22ca5b;try{let _0x5b94b7=ra,_0x19ebe2=this['getFlowModelForOwner'](_0x1140ee),_0x18ac81=await _0x5b94b7[_0x1b31a3(0x75e)]({'owner':_0x1140ee})[_0x1b31a3(0x6f4)](),_0x2c80a7=[],_0x404419=[];for(let _0x5e650a of _0x18ac81)await _0x19ebe2[_0x1b31a3(0x77c)](_0x5e650a[_0x1b31a3(0x17f)])[_0x1b31a3(0x6f4)]()||(_0x2c80a7[_0x1b31a3(0x5a4)](_0x5e650a),_0x404419[_0x1b31a3(0x5a4)](_0x5e650a[_0x1b31a3(0x17f)]));return _0x2c80a7[_0x1b31a3(0x3cc)]>0x0&&await _0x19ebe2[_0x1b31a3(0x2d3)](_0x2c80a7,{'ordered':!0x1}),{'success':!0x0};}catch(_0x2d8a16){return console[_0x1b31a3(0x30f)](_0x1b31a3(0x7d4),_0x2d8a16),{'success':!0x1,'error':_0x2d8a16};}}async[a0_0x22ca5b(0x4c6)](_0x46a1ce,_0x6ba30d){const _0x515f33=a0_0x22ca5b;try{let _0x5bc8c1=this['getFlowModelForOwner'](_0x6ba30d),_0x33615f=A(_0x46a1ce['where']);return{'deletedCount':(await _0x5bc8c1[_0x515f33(0x183)](_0x33615f))[_0x515f33(0x54e)]};}catch(_0x38acf1){return{'error':_0x38acf1?.['toString']()};}}async[a0_0x22ca5b(0x4c5)](_0x337cf7,_0x46257d){const _0x4fcd7f=a0_0x22ca5b;try{let _0x1c8468=this[_0x4fcd7f(0x734)](_0x46257d),_0x53d634=A(_0x337cf7['where']);return{'deletedCount':(await _0x1c8468[_0x4fcd7f(0x4c5)](_0x53d634))[_0x4fcd7f(0x54e)]};}catch(_0x55d176){return{'error':_0x55d176?.[_0x4fcd7f(0x4b6)]()};}}async[a0_0x22ca5b(0x674)](_0xa160cc,_0x395ecb,_0x395012){const _0x24bea3=a0_0x22ca5b;try{let _0x3521fd=await this[_0x24bea3(0x734)](_0x395012)[_0x24bea3(0x61d)](_0xa160cc,_0x395ecb,{'overwrite':!0x0,'new':!0x0});return _0x3521fd||(console[_0x24bea3(0x30f)](_0x24bea3(0x36d),_0xa160cc),null);}catch(_0x5b5dda){return console[_0x24bea3(0x30f)](_0x24bea3(0x1f5),_0x5b5dda),null;}}async[a0_0x22ca5b(0x6f3)](_0x1487a2,_0x5273ad,_0x2d8bc2){const _0x2999f1=a0_0x22ca5b;try{let _0x2b620f=await this[_0x2999f1(0x734)](_0x2d8bc2)[_0x2999f1(0x77c)](_0x1487a2);return _0x2b620f?(Object[_0x2999f1(0x739)](_0x2b620f,_0x5273ad),await _0x2b620f['save']()):(console['error']('Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:',_0x1487a2),null);}catch(_0x19a1ca){return console[_0x2999f1(0x30f)](_0x2999f1(0x1f5),_0x19a1ca),null;}}async[a0_0x22ca5b(0x23a)](_0x1e828d){const _0x302c27=a0_0x22ca5b;try{let _0x51dc44=this[_0x302c27(0x734)](_0x1e828d),_0x3e0c5e={'shareOwners':{'$exists':!0x1}},_0x5f00d7={'$set':{'shareOwners':[]}};return(await _0x51dc44[_0x302c27(0x1e9)](_0x3e0c5e,_0x5f00d7))[_0x302c27(0x774)];}catch(_0x595ce8){return console[_0x302c27(0x30f)](_0x595ce8),0x0;}}async[a0_0x22ca5b(0x637)](_0x7d91cf,_0x763a75){const _0xb617cb=a0_0x22ca5b;try{let _0x4d6ac4=this[_0xb617cb(0x734)](_0x763a75);return await new _0x4d6ac4(_0x7d91cf)[_0xb617cb(0x686)]();}catch(_0xed4a40){return console[_0xb617cb(0x30f)]('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0xed4a40),null;}}async[a0_0x22ca5b(0x1e9)](_0x49ff70,_0x3bfb39,_0x2fc9a2){const _0x175b9a=a0_0x22ca5b;try{return{'modifiedCount':(await this[_0x175b9a(0x734)](_0x2fc9a2)[_0x175b9a(0x1e9)](_0x49ff70,{'$set':_0x3bfb39}))[_0x175b9a(0x774)]};}catch(_0x2bb577){return console[_0x175b9a(0x30f)](_0x175b9a(0x498),_0x2bb577),{'error':_0x2bb577};}}async['findAll'](_0x21969b,_0x32f10b){const _0x3cef98=a0_0x22ca5b;try{let _0xc56c5a=this[_0x3cef98(0x734)](_0x32f10b),_0x4b1bad=A(_0x21969b['where']);return await _0xc56c5a['find'](_0x4b1bad)[_0x3cef98(0x42a)](_0x21969b?.['limit']??0x0)[_0x3cef98(0x6f4)]();}catch{return[];}}async[a0_0x22ca5b(0x3c6)](_0x3c5a66,_0x322b5c){const _0x27c872=a0_0x22ca5b;try{let _0x74b75d=this[_0x27c872(0x734)](_0x322b5c),_0x355682=A(_0x3c5a66[_0x27c872(0x20e)]);return await _0x74b75d['findOne'](_0x355682)[_0x27c872(0x6f4)]();}catch{return null;}}async[a0_0x22ca5b(0x6b2)](_0x1ea0bb){const _0x46edf2=a0_0x22ca5b;try{return await this['getFlowModelForOwner'](_0x1ea0bb)[_0x46edf2(0x5d0)][_0x46edf2(0x307)](),{'success':!0x0};}catch(_0x3e7a0d){return console[_0x46edf2(0x30f)](_0x3e7a0d),{'success':!0x1,'error':_0x3e7a0d};}}},Ht=class extends x{[a0_0x22ca5b(0x52b)](_0x218c2d){return oa(_0x218c2d);}async['copyDataToNewModel'](_0x9b05d4){const _0x114946=a0_0x22ca5b;try{let _0x24c170=na,_0x4c9edc=this[_0x114946(0x52b)](_0x9b05d4),_0x4852bb=await _0x24c170[_0x114946(0x75e)]({'owner':_0x9b05d4})['lean'](),_0x2c1c7=[],_0x40cbed=[];for(let _0x26717d of _0x4852bb)await _0x4c9edc[_0x114946(0x77c)](_0x26717d[_0x114946(0x17f)])[_0x114946(0x6f4)]()||(_0x2c1c7['push'](_0x26717d),_0x40cbed[_0x114946(0x5a4)](_0x26717d[_0x114946(0x17f)]));return _0x2c1c7[_0x114946(0x3cc)]>0x0&&await _0x4c9edc[_0x114946(0x2d3)](_0x2c1c7,{'ordered':!0x1}),{'success':!0x0};}catch(_0x368689){return console[_0x114946(0x30f)](_0x114946(0x7d4),_0x368689),{'success':!0x1,'error':_0x368689};}}async[a0_0x22ca5b(0x559)](_0x24bc4c){const _0x422dc3=a0_0x22ca5b;if(_0x24bc4c[_0x422dc3(0x3cc)]!==0x0)try{return{'insertCount':(await this[_0x422dc3(0x52b)](_0x24bc4c[0x0]['owner'])[_0x422dc3(0x2d3)]([..._0x24bc4c]))[_0x422dc3(0x3cc)]};}catch(_0x3e63ec){return _0x3e63ec;}}async[a0_0x22ca5b(0x4c6)](_0x4fe993,_0x4188f3){const _0x33540f=a0_0x22ca5b;try{let _0x57d90f=this[_0x33540f(0x52b)](_0x4188f3),_0x57aabe=A(_0x4fe993[_0x33540f(0x20e)]);return{'deletedCount':(await _0x57d90f[_0x33540f(0x183)](_0x57aabe))[_0x33540f(0x54e)]};}catch(_0x22e806){return{'error':_0x22e806?.[_0x33540f(0x4b6)]()};}}async[a0_0x22ca5b(0x4c5)](_0x48577e,_0x4c5f6b){const _0x305c57=a0_0x22ca5b;try{let _0x249cf7=this[_0x305c57(0x52b)](_0x4c5f6b),_0x74dcb2=A(_0x48577e[_0x305c57(0x20e)]);return{'deletedCount':(await _0x249cf7[_0x305c57(0x4c5)](_0x74dcb2))[_0x305c57(0x54e)]};}catch(_0x253262){return{'error':_0x253262?.[_0x305c57(0x4b6)]()};}}async[a0_0x22ca5b(0x76a)](_0x23d851,_0x408d38){const _0x1c23a6=a0_0x22ca5b;try{if(_0x23d851[_0x1c23a6(0x3cc)]===0x0)return;let _0x4cb711=this[_0x1c23a6(0x52b)](_0x408d38),_0x435462=_0x23d851[_0x1c23a6(0x4fd)](_0x37d60e=>({'updateOne':{'filter':{'name':_0x37d60e['name'],'owner':_0x408d38},'update':{..._0x37d60e}}})),{modifiedCount:_0x90412e}=await _0x4cb711[_0x1c23a6(0x7a3)](_0x435462);return{'insertCount':_0x90412e};}catch{return;}}async['updateMany'](_0x4242e8,_0x47dcc0,_0x102fa7){const _0x15c2ad=a0_0x22ca5b;try{return{'modifiedCount':(await this[_0x15c2ad(0x52b)](_0x102fa7)[_0x15c2ad(0x1e9)](_0x4242e8,{'$set':_0x47dcc0}))[_0x15c2ad(0x774)]};}catch(_0x27b0b6){return console['error']('Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:',_0x27b0b6),{'error':_0x27b0b6};}}async[a0_0x22ca5b(0x6f3)](_0x24ceec,_0x378220,_0x4783f3){const _0x1582c2=a0_0x22ca5b;try{return await this[_0x1582c2(0x52b)](_0x4783f3)[_0x1582c2(0x3e5)]({'_id':_0x24ceec},{'$set':_0x378220},{'new':!0x0,'upsert':!0x0})[_0x1582c2(0x6f4)]();}catch(_0x359875){return console[_0x1582c2(0x30f)](_0x359875),null;}}async[a0_0x22ca5b(0x75e)](_0x33c074,_0x215784){const _0x29f02c=a0_0x22ca5b;try{return await this[_0x29f02c(0x52b)](_0x215784)[_0x29f02c(0x75e)](_0x33c074)[_0x29f02c(0x1c1)]({'lastInteraction':-0x1})[_0x29f02c(0x6f4)]();}catch{return[];}}async['findOne'](_0x230ea3,_0x372a53){const _0x18a3a7=a0_0x22ca5b;try{return await this['getConversationModelForOwner'](_0x372a53)[_0x18a3a7(0x3c6)]({..._0x230ea3[_0x18a3a7(0x20e)]})['lean']();}catch{return null;}}async['deleteAll'](_0x3efd63){const _0x524366=a0_0x22ca5b;try{return await this[_0x524366(0x52b)](_0x3efd63)[_0x524366(0x5d0)][_0x524366(0x307)](),{'success':!0x0};}catch(_0x2357ef){return console[_0x524366(0x30f)](_0x2357ef),{'success':!0x1,'error':_0x2357ef};}}},Kt=class extends x{[a0_0x22ca5b(0x2ba)](_0x1fcc0f){return la(_0x1fcc0f);}async[a0_0x22ca5b(0x48e)](_0x361c9f){const _0x46f25a=a0_0x22ca5b;try{let _0x5549d1=ua,_0x39136f=this[_0x46f25a(0x2ba)](_0x361c9f),_0x25e45f=await _0x5549d1[_0x46f25a(0x75e)]({'owner':_0x361c9f})['lean'](),_0x24e99d=[],_0x424f53=[];for(let _0x14186d of _0x25e45f)await _0x39136f[_0x46f25a(0x77c)](_0x14186d[_0x46f25a(0x17f)])[_0x46f25a(0x6f4)]()||(_0x24e99d['push'](_0x14186d),_0x424f53[_0x46f25a(0x5a4)](_0x14186d[_0x46f25a(0x17f)]));return _0x24e99d[_0x46f25a(0x3cc)]>0x0&&await _0x39136f[_0x46f25a(0x2d3)](_0x24e99d,{'ordered':!0x1}),{'success':!0x0};}catch(_0x152c2d){return console['error']('Erro\x20ao\x20copiar\x20dados:',_0x152c2d),{'success':!0x1,'error':_0x152c2d};}}async[a0_0x22ca5b(0x637)](_0x5d0f3e,_0x548790){const _0x13b6c1=a0_0x22ca5b;try{let _0x4688ec=this[_0x13b6c1(0x2ba)](_0x548790);return await new _0x4688ec(_0x5d0f3e)[_0x13b6c1(0x686)]();}catch(_0x2e40f6){return console[_0x13b6c1(0x30f)](_0x13b6c1(0x5f1),_0x2e40f6),null;}}async[a0_0x22ca5b(0x4c5)](_0x2c5d8f,_0x2bcb5e){const _0x5eaa44=a0_0x22ca5b;try{return await this[_0x5eaa44(0x2ba)](_0x2bcb5e)['findByIdAndDelete'](_0x2c5d8f),{};}catch(_0x45247b){return{'error':_0x45247b?.[_0x5eaa44(0x4b6)]()};}}async['updateOne'](_0x5301ee,_0x42b577,_0x59e23c){const _0x273a60=a0_0x22ca5b;try{return await this['getScheduleMessageModelForOwner'](_0x59e23c)[_0x273a60(0x3e5)](_0x5301ee,{'$set':_0x42b577},{'new':!0x0})[_0x273a60(0x6f4)]();}catch(_0x3ee03c){return console['error'](_0x273a60(0x5be),_0x3ee03c),null;}}async[a0_0x22ca5b(0x372)](_0x28341f,_0x662ef4,_0x4488b8){const _0x3dec88=a0_0x22ca5b;try{return await this['getScheduleMessageModelForOwner'](_0x4488b8)[_0x3dec88(0x61d)](_0x28341f,_0x662ef4,{'new':!0x0})[_0x3dec88(0x6f4)]();}catch(_0x301bb3){return console['error'](_0x3dec88(0x5be),_0x301bb3),null;}}async[a0_0x22ca5b(0x75e)](_0x52243d,_0x5f3b7b){const _0x3a0b58=a0_0x22ca5b;try{return await this['getScheduleMessageModelForOwner'](_0x5f3b7b)['find'](_0x52243d['where'])['limit'](_0x52243d?.[_0x3a0b58(0x42a)]??0x0)['sort']({'when':0x1})['lean']();}catch{return[];}}async[a0_0x22ca5b(0x3c6)](_0x15912c,_0x1e9d1d){const _0x5bf136=a0_0x22ca5b;try{return await this[_0x5bf136(0x2ba)](_0x1e9d1d)[_0x5bf136(0x3c6)](_0x15912c['where'])['sort']({'when':0x1})[_0x5bf136(0x6f4)]();}catch{return null;}}async[a0_0x22ca5b(0x77c)](_0x1ba3c2,_0xd3448e){const _0x577b76=a0_0x22ca5b;try{return await this[_0x577b76(0x2ba)](_0xd3448e)['findById'](_0x1ba3c2)[_0x577b76(0x6f4)]();}catch{return null;}}async[a0_0x22ca5b(0x183)](_0x4f2958,_0x35aea0){const _0x3daab0=a0_0x22ca5b;try{return{'deletedCount':(await this[_0x3daab0(0x2ba)](_0x35aea0)[_0x3daab0(0x183)](_0x4f2958))['deletedCount']};}catch(_0x14ab50){return console[_0x3daab0(0x30f)](_0x3daab0(0x616),_0x14ab50),{'error':_0x14ab50};}}async['deleteAll'](_0x4d4a9a){const _0x290d5f=a0_0x22ca5b;try{return await this['getScheduleMessageModelForOwner'](_0x4d4a9a)[_0x290d5f(0x5d0)]['drop'](),{'success':!0x0};}catch(_0x313bed){return console['error'](_0x313bed),{'success':!0x1,'error':_0x313bed};}}},Qt=class extends x{async[a0_0x22ca5b(0x76a)](_0x33582f,_0x1e8b75){const _0x3096e6=a0_0x22ca5b;try{if(this[_0x3096e6(0x1bb)][_0x3096e6(0x729)]){let _0x5efd6c=await Pe[_0x3096e6(0x3e5)]({'_id':_0x1e8b75},{'$set':_0x33582f},{'new':!0x0});return console[_0x3096e6(0x256)](_0x3096e6(0x524),_0x5efd6c),_0x5efd6c;}}catch(_0x53ae09){throw console[_0x3096e6(0x30f)](_0x3096e6(0x262),_0x53ae09),_0x53ae09;}}async[a0_0x22ca5b(0x28b)](_0x2c0884){const _0x5d8783=a0_0x22ca5b;try{let _0x562d0a=await Pe[_0x5d8783(0x77c)](_0x2c0884);return _0x562d0a||(_0x562d0a=new Pe({'_id':_0x2c0884}),await _0x562d0a[_0x5d8783(0x686)]()),_0x562d0a;}catch(_0x25ab7a){return console[_0x5d8783(0x30f)](_0x5d8783(0x28f),_0x25ab7a),null;}}},yi=new v(a0_0x22ca5b(0x230)),bi=new Le(b),Si=new $t(b),Ei=new Qe(b),Ci=new Gt(Ys,b),Mi=new Wt(Hs,b),vi=new zt(b),Ni=new kt(b),Ri=new Ht(b),Ti=new Kt(b),Oi=new Qt(b),ce=new $e(bi,Si,Ei,Ci,Mi,vi,Ri,Ni,Ti,Oi,R?.[a0_0x22ca5b(0x6ee)]()),V=new Pt(ss,b,ce),Ai=new Ut(b,V,ce),Ii=new Jt(V),gs=new Bt(Ii),O=new Vt(V),ae=new Ft(V,b,ce,ss,Ai),B=new jt(V),D=new Lt(V),F=new qt(V);yi[a0_0x22ca5b(0x538)]('Module\x20-\x20ON');var gh=require(a0_0x22ca5b(0x5bd)),Os=require('fs'),Mr=T(require('https')),vr=T(require(a0_0x22ca5b(0x2a6))),ve=class c{static #e;static set[a0_0x22ca5b(0x40d)](_0x15a331){this.#e=_0x15a331;}static get['https'](){const _0x1970bc=a0_0x22ca5b;let {FULLCHAIN:_0x36d421,PRIVKEY:_0x9795a6}=b[_0x1970bc(0x16d)](_0x1970bc(0x623));return Mr['createServer']({'cert':(0x0,Os[_0x1970bc(0x409)])(_0x36d421),'key':(0x0,Os[_0x1970bc(0x409)])(_0x9795a6)},c.#e);}static get[a0_0x22ca5b(0x2a6)](){const _0x14f4bd=a0_0x22ca5b;return vr[_0x14f4bd(0x302)](c.#e);}},ue=T(require('fs')),Ir=T(require(a0_0x22ca5b(0x517))),Ne=T(require(a0_0x22ca5b(0x69d))),Te=T(require('path')),Oe=require(a0_0x22ca5b(0x65c));function xi(){const _0x40a027=a0_0x22ca5b;V[_0x40a027(0x7e7)]();let _0x38c3d8=Te[_0x40a027(0x5a3)][_0x40a027(0x2fb)](__dirname,_0x40a027(0x6d0));Ar(_0x38c3d8);}var Ar=_0xb78238=>{const _0x38244c=a0_0x22ca5b;let _0xe80acd=ue[_0x38244c(0x5a3)][_0x38244c(0x62f)](_0xb78238),_0x212a1c=0xc*0x3c*0x3c*0x3e8,_0x4e60a6=0x2*0x3c*0x3c*0x3e8,_0x58c76b=new Date()[_0x38244c(0x6fb)]();_0xe80acd[_0x38244c(0x6d9)](_0x2249d0=>{const _0xd4446d=_0x38244c;let _0x44ddb8=Te[_0xd4446d(0x5a3)][_0xd4446d(0x2fb)](_0xb78238,_0x2249d0),_0x3abe84=ue[_0xd4446d(0x5a3)][_0xd4446d(0x48c)](_0x44ddb8)[_0xd4446d(0x46c)]['getTime']();_0x58c76b-_0x3abe84>_0x212a1c&&(ue[_0xd4446d(0x5a3)]['unlinkSync'](_0x44ddb8),console['log'](_0xd4446d(0x7fa)+_0x2249d0));}),setTimeout(()=>Ar(_0xb78238),_0x4e60a6);};function Di(){const _0x5edc77=a0_0x22ca5b;let _0x2220b3=new v(_0x5edc77(0x452)),_0x43e1b1=(0x0,de['default'])();_0x43e1b1['use']((0x0,Or['default'])({'origin'(_0x1256cb,_0x2a22df){const _0x267d88=_0x5edc77;let {ORIGIN:_0x2fde1c}=b['get']('CORS');return _0x1256cb||(_0x1256cb='*'),_0x2fde1c[_0x267d88(0x4b4)]('*')!==-0x1||_0x2fde1c[_0x267d88(0x4b4)](_0x1256cb)!==-0x1?_0x2a22df(null,!0x0):_0x2a22df(new Error(_0x267d88(0x669)));},'methods':[...b[_0x5edc77(0x16d)](_0x5edc77(0x1f7))['METHODS']],'credentials':b[_0x5edc77(0x16d)](_0x5edc77(0x1f7))[_0x5edc77(0x420)]}),(0x0,de[_0x5edc77(0x3b4)])({'extended':!0x0,'limit':'50mb'}),(0x0,de['json'])({'limit':'50mb'})),_0x43e1b1[_0x5edc77(0x662)]((_0x5e4840,_0x59d0d7,_0xc6eaa)=>{const _0xd42c28=_0x5edc77;_0x5e4840['path']['startsWith'](_0xd42c28(0x70f))?_0xc6eaa():(0x0,Tr[_0xd42c28(0x5a3)])()(_0x5e4840,_0x59d0d7,_0xc6eaa);}),_0x43e1b1[_0x5edc77(0x277)]('view\x20engine',_0x5edc77(0x389)),_0x43e1b1['set'](_0x5edc77(0x6e7),(0x0,Is['join'])(se,_0x5edc77(0x6e7))),_0x43e1b1[_0x5edc77(0x662)](de[_0x5edc77(0x5a3)]['static']((0x0,Is[_0x5edc77(0x2fb)])(se,'public'))),_0x43e1b1[_0x5edc77(0x662)]((_0x5b9872,_0x43dc67,_0x3aa6bb)=>{const _0x2bc250=_0x5edc77;let _0x12c60c=_0x43dc67[_0x2bc250(0x284)];_0x43dc67['send']=function(_0x23d6ee){const _0x3149ee=_0x2bc250;if(_0x5b9872[_0x3149ee(0x510)][_0x3149ee(0x315)]===_0x3149ee(0x39b)||_0x5b9872['headers']['uazapi']===_0x3149ee(0x39b)){let _0x190a02=JSON['parse'](_0x23d6ee);_0x23d6ee=JSON[_0x3149ee(0x3e3)](_0x513020(_0x190a02));}return _0x12c60c[_0x3149ee(0x635)](_0x43dc67,[_0x23d6ee]);},_0x3aa6bb();}),_0x43e1b1[_0x5edc77(0x662)]('/',vt),_0x43e1b1[_0x5edc77(0x662)]((_0x5c1fc4,_0x5205f3,_0x20d484,_0x1760b3)=>{const _0x5a4bec=_0x5edc77;if(_0x5c1fc4)return _0x20d484['status'](_0x5c1fc4[_0x5a4bec(0x167)]||0x1f4)[_0x5a4bec(0x4d5)](_0x5c1fc4);},(_0xa8a908,_0x542bf3,_0x568d9f)=>{const _0x4c826e=_0x5edc77;let {method:_0x57bbef,url:_0x500bfc}=_0xa8a908;_0x542bf3[_0x4c826e(0x167)](0x194)[_0x4c826e(0x4d5)]({'status':0x194,'message':_0x4c826e(0x23d)+_0x57bbef[_0x4c826e(0x70b)]()+'\x20'+_0x500bfc,'error':_0x4c826e(0x7b3)}),_0x568d9f();});let _0x513020=(_0x8d2c52,_0xb3a959='_p_')=>{const _0x36a932=_0x5edc77;let _0x529ecc=(_0x5299a5,_0x36b953=null,_0x28499a=!0x1)=>{const _0x9f7fea=a0_0x4496;let _0x248d74={};return Object[_0x9f7fea(0x3ea)](_0x5299a5)['forEach'](_0x540bde=>{const _0x52f9f3=_0x9f7fea;let _0x473926=_0x5299a5[_0x540bde],_0x358ca6=''+_0xb3a959+_0x540bde;_0x36b953&&!_0x28499a&&(_0x358ca6=_0x36b953+'.'+_0x540bde),!_0x473926&&_0x473926!==0x0&&_0x473926!==!0x1||typeof _0x473926>'u'?_0x248d74[_0x358ca6]=null:typeof _0x473926!=_0x52f9f3(0x34a)&&!Array[_0x52f9f3(0x27c)](_0x473926)?_0x248d74[_0x358ca6]=_0x473926:typeof _0x473926=='object'&&!Array[_0x52f9f3(0x27c)](_0x473926)?_0x248d74=Object[_0x52f9f3(0x739)](_0x248d74,_0x529ecc(_0x473926,_0x358ca6)):Array['isArray'](_0x473926)&&(typeof _0x473926[0x0]==_0x52f9f3(0x34a)?(_0x248d74[_0x358ca6]=[],_0x473926[_0x52f9f3(0x6d9)](_0x27ccc8=>{const _0x526984=_0x52f9f3;_0x248d74[_0x358ca6][_0x526984(0x5a4)](_0x529ecc(_0x27ccc8,_0x358ca6,!0x0));})):_0x248d74[_0x358ca6]=_0x473926);}),_0x248d74;};return Array['isArray'](_0x8d2c52)?_0x8d2c52[_0x36a932(0x4fd)](_0x499668=>_0x529ecc(_0x499668)):typeof _0x8d2c52==_0x36a932(0x34a)&&_0x8d2c52!==null?_0x529ecc(_0x8d2c52):{};},_0x205ed4=b[_0x5edc77(0x16d)](_0x5edc77(0x452));ve[_0x5edc77(0x40d)]=_0x43e1b1;let _0xac2f30=ve[_0x205ed4[_0x5edc77(0x607)]],_0x54d32d=_0x5edc77(0x53c);_0xac2f30['listen'](_0x205ed4[_0x5edc77(0x718)],()=>{const _0x21059f=_0x5edc77;_0x2220b3['log'](_0x54d32d),_0x2220b3['log'](_0x205ed4[_0x21059f(0x607)][_0x21059f(0x70b)]()+_0x21059f(0x655)+_0x205ed4[_0x21059f(0x718)]);}),xi(),Us();}var _i=a0_0x22ca5b(0x51e),Pi=Te[a0_0x22ca5b(0x5a3)]['join'](__dirname,'./.git/config'),Re=null;function $i(){return new Promise((_0x31630d,_0x48c031)=>{const _0x57d6de=a0_0x4496;ue[_0x57d6de(0x5a3)][_0x57d6de(0x751)](Pi,_0x57d6de(0x58d),(_0xe0f660,_0x160d03)=>{const _0xeecc11=_0x57d6de;if(_0xe0f660){Re=_0xe0f660,_0x31630d();return;}Ir[_0xeecc11(0x5a3)][_0xeecc11(0x3db)](_0x160d03)[_0xeecc11(0x53e)][_0xeecc11(0x7f3)]===_i?(Re=null,_0x31630d()):(Re=new Error(_0xeecc11(0x509)),_0x31630d());});});}function a0_0x4496(_0x5a4924,_0xba723b){const _0x468429=a0_0x4684();return a0_0x4496=function(_0x449616,_0x2eec2d){_0x449616=_0x449616-0x167;let _0x17459f=_0x468429[_0x449616];return _0x17459f;},a0_0x4496(_0x5a4924,_0xba723b);}async function ki(){const _0x415d1a=a0_0x22ca5b;try{await $i(),await xs();}catch(_0x14285e){console['error'](_0x415d1a(0x4e0)+_0x14285e),process[_0x415d1a(0x2aa)](0x1);}}ki();async function xr(){const _0x4bfa69=a0_0x22ca5b;let _0x3a9360;try{_0x3a9360=(await Ne[_0x4bfa69(0x5a3)][_0x4bfa69(0x16d)](_0x4bfa69(0x1e2)))[_0x4bfa69(0x434)]['ip'];}catch(_0x565ad6){console['error'](_0x565ad6);try{_0x3a9360=(await Ne[_0x4bfa69(0x5a3)][_0x4bfa69(0x16d)](_0x4bfa69(0x1b9)))[_0x4bfa69(0x434)]['ip'];}catch(_0x2a6108){console[_0x4bfa69(0x30f)](_0x2a6108);try{_0x3a9360=(await Ne['default']['get']('http://checkip.dyndns.org'))[_0x4bfa69(0x434)][_0x4bfa69(0x78c)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x47b7bd){return console[_0x4bfa69(0x30f)](_0x47b7bd),!0x1;}}}return _0x3a9360;}var Nr=0x0;async function Li(){const _0x483c8c=a0_0x22ca5b;let _0x4258bf=await new re(b[_0x483c8c(0x16d)](_0x483c8c(0x23f)))[_0x483c8c(0x606)]();return console['log'](_0x483c8c(0x2ce),_0x4258bf[_0x483c8c(0x3cc)]),_0x4258bf[_0x483c8c(0x3cc)];}function Fi(_0x5c55cd){const _0x3626c7=a0_0x22ca5b;let _0x29d1f4=_0x5c55cd[_0x3626c7(0x16d)]('SERVER')[_0x3626c7(0x1b8)],_0x3484e9=_0x5c55cd[_0x3626c7(0x16d)](_0x3626c7(0x623)),_0x3f88f2;if(_0x29d1f4){let _0x637978=_0x29d1f4[_0x3626c7(0x78c)](/\/\/(.*?)\./);_0x637978&&_0x637978[0x1]&&(_0x3f88f2=_0x637978[0x1]);}if(!_0x3f88f2&&_0x3484e9&&_0x3484e9[_0x3626c7(0x6bf)]){let _0x3e4398=_0x3484e9[_0x3626c7(0x6bf)][_0x3626c7(0x555)]('/'),_0x21cbc8=_0x3e4398[_0x3e4398[_0x3626c7(0x3cc)]-0x2];if(_0x21cbc8){let _0x3a1fb7=_0x21cbc8['split']('.');_0x3a1fb7['length']>0x2&&(_0x3f88f2=_0x3a1fb7[0x0]);}}return _0x3f88f2;}var Ns=Fi(b);async function ji(){const _0x3e0d0c=a0_0x22ca5b;let _0x2313ac=b['get'](_0x3e0d0c(0x23f)),_0x3c8966=b['get'](_0x3e0d0c(0x221))[_0x3e0d0c(0x750)][_0x3e0d0c(0x196)],_0x567f8a=b[_0x3e0d0c(0x16d)](_0x3e0d0c(0x623)),_0x24e73f=await xr(),_0x59dbd8=b[_0x3e0d0c(0x16d)](_0x3e0d0c(0x452))['PORT'],_0x3cb193=b[_0x3e0d0c(0x16d)](_0x3e0d0c(0x452))['URL'];try{let _0x58fa36={'ip':_0x24e73f||null,'redis_enable':_0x2313ac?.['ENABLED']||null,'apikey':_0x3c8966||null,'ssl':_0x567f8a?.['PRIVKEY']||null,'lastupdate':Dr||null,'port':_0x59dbd8||null,'gitInstallError':Re?.[_0x3e0d0c(0x36b)]||null,'url':_0x3cb193||null};if(console[_0x3e0d0c(0x256)](_0x3e0d0c(0x693),_0x58fa36['ip']),_0x2313ac&&_0x2313ac[_0x3e0d0c(0x729)]){let _0x236c0d=await Li();_0x58fa36[_0x3e0d0c(0x1d3)]=_0x236c0d||null;}for(let _0x503ea7 in _0x58fa36)_0x58fa36['hasOwnProperty'](_0x503ea7)&&_0x503ea7!=='ip'&&(_0x58fa36[_0x503ea7]=JSON[_0x3e0d0c(0x3e3)](_0x58fa36[_0x503ea7]));return(await Ne[_0x3e0d0c(0x5a3)][_0x3e0d0c(0x588)](_0x3e0d0c(0x7e2),_0x58fa36))[_0x3e0d0c(0x434)];}catch(_0x28c300){return console[_0x3e0d0c(0x30f)](_0x28c300),!0x1;}}var As=!0x1,Dr=0x228,Ui=0x3,Rr=0x1b7740;async function xs(){const _0x5d918a=a0_0x22ca5b;if(!await xr())return console[_0x5d918a(0x30f)](_0x5d918a(0x1d4)),_0x5d918a(0x316);let _0xd49282=await ji();if(_0xd49282){if(_0xd49282[_0x5d918a(0x2bf)][_0x5d918a(0x339)]===!0x0){let _0xf28068=b['get']('SSL_CONF'),_0x4b991d=b[_0x5d918a(0x16d)](_0x5d918a(0x452))[_0x5d918a(0x1b8)];_0xf28068&&_0xf28068?.[_0x5d918a(0x3c4)]?.[_0x5d918a(0x567)](_0x5d918a(0x653))&&_0xd49282[_0x5d918a(0x2bf)][_0x5d918a(0x613)]&&!_0x4b991d&&(await Vi(_0xd49282[_0x5d918a(0x2bf)][_0x5d918a(0x613)],Ji),await Bi(_0x5d918a(0x732),_0xd49282['response'][_0x5d918a(0x613)]),console[_0x5d918a(0x256)](_0x5d918a(0x78d)),setTimeout(()=>Wi(),0x2710)),Re===null&&_0xd49282['response'][_0x5d918a(0x2cd)]-Dr>0x0&&await qi(),As||(As=!0x0,Di());let _0x20ce00=0x24*0x3c*0x3c,_0x417779=_0xd49282[_0x5d918a(0x2bf)][_0x5d918a(0x39d)]>_0x20ce00?_0x20ce00:_0xd49282['response'][_0x5d918a(0x39d)],_0x3c491c=Number(_0x417779);if(isNaN(_0x3c491c)){console['error']('interval\x20não\x20é\x20um\x20número');return;}let _0x294acc=Math[_0x5d918a(0x6db)](_0x3c491c/0xe10),_0x3f5f65=Math[_0x5d918a(0x6db)](_0x3c491c%0xe10/0x3c),_0x34dfb0=new Date(Date[_0x5d918a(0x37f)]()+_0x3c491c*0x3e8);setTimeout(xs,_0x3c491c*0x3e8);let _0x171dfe=_0x504b79=>_0x504b79[_0x5d918a(0x4b6)]()[_0x5d918a(0x632)](0x2,'0'),_0x16f00f='Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20'+_0x171dfe(_0x294acc)+_0x5d918a(0x735)+_0x171dfe(_0x3f5f65)+_0x5d918a(0x4b9)+_0x171dfe(_0x34dfb0[_0x5d918a(0x32d)]())+':'+_0x171dfe(_0x34dfb0['getMinutes']())+'.';console[_0x5d918a(0x256)](_0x16f00f);}else return console[_0x5d918a(0x256)](_0x5d918a(0x7c4)),As&&(console[_0x5d918a(0x256)](_0x5d918a(0x314)),process[_0x5d918a(0x2aa)]()),_0x5d918a(0x3df);}else{if(Nr++,Nr<Ui)console[_0x5d918a(0x256)](_0x5d918a(0x1b7)+Rr/0xea60+_0x5d918a(0x29c)),setTimeout(xs,Rr);else return console[_0x5d918a(0x30f)](_0x5d918a(0x3d3)),_0x5d918a(0x628);}}async function qi(){const _0xb92061=a0_0x22ca5b;console[_0xb92061(0x256)]('Parando\x20aplicação,\x20atualização\x20recebida');let _0x548200=(0x0,Oe[_0xb92061(0x181)])(_0xb92061(0x403),{'shell':!0x0});_0x548200[_0xb92061(0x39f)]['on'](_0xb92061(0x434),_0x5c9920=>{const _0x43801b=_0xb92061;console[_0x43801b(0x256)](_0x43801b(0x1b5)+_0x5c9920);}),_0x548200['stderr']['on']('data',_0x4fab74=>{const _0x15d4a7=_0xb92061;console[_0x15d4a7(0x30f)](_0x15d4a7(0x639)+_0x4fab74);}),_0x548200['on']('exit',_0x3215aa=>{const _0x4b2943=_0xb92061;_0x3215aa!==0x0?console['error']('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x3215aa):console[_0x4b2943(0x256)](_0x4b2943(0x423)),console[_0x4b2943(0x256)](_0x4b2943(0x7ac)),setTimeout(()=>process[_0x4b2943(0x2aa)](),0x2710);});}var Ji=Te['default']['join'](__dirname,a0_0x22ca5b(0x26a));async function Vi(_0x545ce5,_0x5de59d){const _0x192688=a0_0x22ca5b;let _0x2fd8a6=Gi();_0x545ce5=_0x545ce5[_0x192688(0x748)](_0x192688(0x3d5),'');try{let _0x815fff=ue[_0x192688(0x5a3)][_0x192688(0x409)](_0x5de59d,_0x192688(0x6be));_0x815fff=_0x815fff[_0x192688(0x748)](/<apikey>/,_0x2fd8a6),_0x815fff=_0x815fff[_0x192688(0x748)](/<subdomain>/g,_0x545ce5),ue[_0x192688(0x5a3)][_0x192688(0x76d)](_0x5de59d,_0x815fff,'utf8'),console['log']('Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.');}catch(_0x5b64fc){console[_0x192688(0x30f)](_0x192688(0x453),_0x5b64fc);}}function Bi(_0x2b7219,_0x5a83f0){return new Promise((_0x48da5e,_0x17a3ee)=>{const _0x1871f4=a0_0x4496;let _0x225218=(0x0,Oe['spawn'])(_0x1871f4(0x61a),[_0x1871f4(0x327),_0x1871f4(0x3da),'-m',_0x2b7219,_0x1871f4(0x491),'-d',_0x5a83f0]);_0x225218[_0x1871f4(0x39f)]['on']('data',_0x5395fe=>{const _0x10ea93=_0x1871f4;console[_0x10ea93(0x256)](_0x10ea93(0x7f0)+_0x5395fe[_0x10ea93(0x4b6)]());}),_0x225218[_0x1871f4(0x2ed)]['on'](_0x1871f4(0x434),_0x423747=>{const _0x3720b4=_0x1871f4;console['error']('Erro\x20do\x20Certbot:\x20'+_0x423747[_0x3720b4(0x4b6)]());}),_0x225218['on'](_0x1871f4(0x382),_0x214c9d=>{const _0xb4c815=_0x1871f4;_0x214c9d!==0x0?(console['error'](_0xb4c815(0x34c)+_0x214c9d),_0x17a3ee('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x214c9d)):(console['log'](_0xb4c815(0x779)),_0x48da5e());});});}function Gi(_0x40e5f2=0x32){const _0x448bdb=a0_0x22ca5b;let _0x45e7d5=_0x448bdb(0x2c4),_0x52b560='';for(let _0x3007b3=0x0;_0x3007b3<_0x40e5f2;_0x3007b3++)_0x52b560+=_0x45e7d5[_0x448bdb(0x300)](Math['floor'](Math['random']()*_0x45e7d5['length']));return _0x52b560;}function Wi(){const _0x5aa8bd=a0_0x22ca5b;(0x0,Oe[_0x5aa8bd(0x4fa)])('shutdown\x20-r\x20now',(_0xa202f4,_0x52fbae,_0x437450)=>{const _0x24432e=_0x5aa8bd;if(_0xa202f4){console[_0x24432e(0x30f)]('Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20'+_0xa202f4);return;}if(_0x437450){console[_0x24432e(0x30f)](_0x24432e(0x7f8)+_0x437450);return;}console[_0x24432e(0x256)](_0x24432e(0x6cd)+_0x52fbae);});}0x0&&(module[a0_0x22ca5b(0x6a8)]={'subdomain':subdomain});