const a0_0x28b734=a0_0x4163;(function(_0x1d9675,_0x18f497){const _0x291a71=a0_0x4163,_0x458b08=_0x1d9675();while(!![]){try{const _0x33f404=-parseInt(_0x291a71(0x7bf))/0x1+parseInt(_0x291a71(0x46c))/0x2*(parseInt(_0x291a71(0x48a))/0x3)+-parseInt(_0x291a71(0x721))/0x4*(-parseInt(_0x291a71(0x20f))/0x5)+-parseInt(_0x291a71(0x35e))/0x6*(-parseInt(_0x291a71(0x7c9))/0x7)+-parseInt(_0x291a71(0x550))/0x8*(parseInt(_0x291a71(0x1c7))/0x9)+-parseInt(_0x291a71(0x2f8))/0xa*(-parseInt(_0x291a71(0x77f))/0xb)+-parseInt(_0x291a71(0x77a))/0xc;if(_0x33f404===_0x18f497)break;else _0x458b08['push'](_0x458b08['shift']());}catch(_0x45b609){_0x458b08['push'](_0x458b08['shift']());}}}(a0_0x1bdc,0x7e263));var Pr=Object['create'],Ie=Object['defineProperty'],$r=Object[a0_0x28b734(0x59f)],kr=Object['getOwnPropertyNames'],Lr=Object[a0_0x28b734(0x593)],Fr=Object[a0_0x28b734(0x46f)]['hasOwnProperty'],jr=(_0x5b19ae,_0x7b67ee)=>{for(var _0x5d30f5 in _0x7b67ee)Ie(_0x5b19ae,_0x5d30f5,{'get':_0x7b67ee[_0x5d30f5],'enumerable':!0x0});},_s=(_0x52dc61,_0x2bf8aa,_0x5ead0e,_0x304a07)=>{const _0x3a06c2=a0_0x28b734;if(_0x2bf8aa&&typeof _0x2bf8aa==_0x3a06c2(0x7c0)||typeof _0x2bf8aa=='function'){for(let _0x439ac1 of kr(_0x2bf8aa))!Fr[_0x3a06c2(0x5cb)](_0x52dc61,_0x439ac1)&&_0x439ac1!==_0x5ead0e&&Ie(_0x52dc61,_0x439ac1,{'get':()=>_0x2bf8aa[_0x439ac1],'enumerable':!(_0x304a07=$r(_0x2bf8aa,_0x439ac1))||_0x304a07[_0x3a06c2(0x662)]});}return _0x52dc61;},T=(_0x4cd274,_0x322595,_0x3287db)=>(_0x3287db=_0x4cd274!=null?Pr(Lr(_0x4cd274)):{},_s(_0x322595||!_0x4cd274||!_0x4cd274[a0_0x28b734(0x3b8)]?Ie(_0x3287db,'default',{'value':_0x4cd274,'enumerable':!0x0}):_0x3287db,_0x4cd274)),Ur=_0x2289e4=>_s(Ie({},'__esModule',{'value':!0x0}),_0x2289e4),Hi={};jr(Hi,{'subdomain':()=>Rs}),module['exports']=Ur(Hi);var Or=T(require(a0_0x28b734(0x4f2))),$s=require('fs'),ks=require(a0_0x28b734(0x388)),Ls=require(a0_0x28b734(0x1c0)),xe=require('path'),se=process[a0_0x28b734(0x5b3)](),ge=(0x0,xe[a0_0x28b734(0x67e)])(se,a0_0x28b734(0x3e1)),Ps=(0x0,xe[a0_0x28b734(0x67e)])(se,'src'),Vo=(0x0,xe['join'])(se,a0_0x28b734(0x22c),a0_0x28b734(0x445)),es=class{constructor(){this['loadEnv']();}[a0_0x28b734(0x238)](_0x4f1b33){const _0x4fda1b=a0_0x28b734;return this[_0x4fda1b(0x498)][_0x4f1b33];}['loadEnv'](){const _0x414228=a0_0x28b734;this[_0x414228(0x498)]=process[_0x414228(0x498)]?.[_0x414228(0x278)]!==_0x414228(0x5de)?this[_0x414228(0x52e)]():this[_0x414228(0x513)](),process[_0x414228(0x498)]?.['DOCKER_ENV']===_0x414228(0x5de)&&(this['env'][_0x414228(0x57a)][_0x414228(0x226)]=_0x414228(0x602),this[_0x414228(0x498)][_0x414228(0x57a)][_0x414228(0x51e)]=Number[_0x414228(0x3e0)](process[_0x414228(0x498)]?.['SERVER_PORT']??'8080'));}['envYaml'](){const _0x5b94a7=a0_0x28b734;return(0x0,ks['load'])((0x0,$s[_0x5b94a7(0x290)])((0x0,Ls[_0x5b94a7(0x67e)])(Ps,_0x5b94a7(0x52b)),{'encoding':'utf-8'}));}[a0_0x28b734(0x513)](){const _0x5c9d9d=a0_0x28b734;return{'SERVER':{'TYPE':process['env'][_0x5c9d9d(0x227)],'PORT':Number[_0x5c9d9d(0x3e0)](process['env'][_0x5c9d9d(0x275)]),'URL':process[_0x5c9d9d(0x498)][_0x5c9d9d(0x35f)]},'CORS':{'ORIGIN':process['env'][_0x5c9d9d(0x5da)][_0x5c9d9d(0x5ac)](','),'METHODS':process[_0x5c9d9d(0x498)]['CORS_METHODS'][_0x5c9d9d(0x5ac)](','),'CREDENTIALS':process[_0x5c9d9d(0x498)]?.[_0x5c9d9d(0x424)]===_0x5c9d9d(0x5de)},'SSL_CONF':{'PRIVKEY':process[_0x5c9d9d(0x498)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0x5c9d9d(0x498)]?.[_0x5c9d9d(0x245)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process['env']?.[_0x5c9d9d(0x340)])?Number[_0x5c9d9d(0x3e0)](process['env'][_0x5c9d9d(0x340)]):void 0x0,'MESSAGES':process[_0x5c9d9d(0x498)]?.[_0x5c9d9d(0x47d)]===_0x5c9d9d(0x5de),'CONTACTS':process[_0x5c9d9d(0x498)]?.[_0x5c9d9d(0x7d8)]==='true','CHATS':process[_0x5c9d9d(0x498)]?.['STORE_CHATS']==='true'},'DATABASE':{'CONNECTION':{'HOST':process['env']?.[_0x5c9d9d(0x528)],'PORT':Number['parseInt'](process[_0x5c9d9d(0x498)]?.[_0x5c9d9d(0x528)]),'USER':process[_0x5c9d9d(0x498)]['DATABASE_CONNECTION_USER'],'PASSWORD':process[_0x5c9d9d(0x498)][_0x5c9d9d(0x209)],'URI':process[_0x5c9d9d(0x498)][_0x5c9d9d(0x7f2)],'DB_PREFIX_NAME':process['env'][_0x5c9d9d(0x648)]},'ENABLED':process[_0x5c9d9d(0x498)]?.[_0x5c9d9d(0x25d)]===_0x5c9d9d(0x5de)},'REDIS':{'ENABLED':process[_0x5c9d9d(0x498)]?.[_0x5c9d9d(0x5a4)]===_0x5c9d9d(0x5de),'URI':process[_0x5c9d9d(0x498)][_0x5c9d9d(0x3a7)]||_0x5c9d9d(0x7de),'PREFIX_KEY':process[_0x5c9d9d(0x498)][_0x5c9d9d(0x73c)]||_0x5c9d9d(0x254)},'LOG':{'LEVEL':process[_0x5c9d9d(0x498)]?.[_0x5c9d9d(0x6e8)][_0x5c9d9d(0x5ac)](','),'COLOR':process[_0x5c9d9d(0x498)]?.[_0x5c9d9d(0x494)]===_0x5c9d9d(0x5de)},'PROXY':Number[_0x5c9d9d(0x3e0)](process[_0x5c9d9d(0x498)]?.[_0x5c9d9d(0x3c9)]),'AUTHENTICATION':{'TYPE':process['env'][_0x5c9d9d(0x7cb)],'API_KEY':{'KEY':process[_0x5c9d9d(0x498)]['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number['isInteger'](process[_0x5c9d9d(0x498)]?.[_0x5c9d9d(0x211)])?Number['parseInt'](process[_0x5c9d9d(0x498)][_0x5c9d9d(0x211)]):0xe10,'SECRET':process[_0x5c9d9d(0x498)][_0x5c9d9d(0x3b7)]}}};}},b=new es(),Ar=T(require(a0_0x28b734(0x2ab))),pe=T(require(a0_0x28b734(0x310))),xs=require('path'),ts=T(require(a0_0x28b734(0x47b))),ss=(_0x31882d=>(_0x31882d[a0_0x28b734(0x2a9)]=a0_0x28b734(0x330),_0x31882d[a0_0x28b734(0x314)]=a0_0x28b734(0x63f),_0x31882d[a0_0x28b734(0x1ed)]=a0_0x28b734(0x3de),_0x31882d['ERROR']=a0_0x28b734(0x573),_0x31882d['DEBUG']=a0_0x28b734(0x44f),_0x31882d[a0_0x28b734(0x624)]=a0_0x28b734(0x1ff),_0x31882d[a0_0x28b734(0x5b6)]='\x1b[30m',_0x31882d))(ss||{}),Fs=(_0x5b9ddf=>(_0x5b9ddf[a0_0x28b734(0x2a9)]=a0_0x28b734(0x1fa),_0x5b9ddf[a0_0x28b734(0x5b6)]=a0_0x28b734(0x67c),_0x5b9ddf['INFO']=a0_0x28b734(0x4f5),_0x5b9ddf[a0_0x28b734(0x1ed)]=a0_0x28b734(0x26b),_0x5b9ddf['ERROR']=a0_0x28b734(0x682),_0x5b9ddf[a0_0x28b734(0x1a5)]='\x1b[36m%s\x1b[0m',_0x5b9ddf[a0_0x28b734(0x624)]=a0_0x28b734(0x240),_0x5b9ddf))(Fs||{}),js=(_0x46bb39=>(_0x46bb39[a0_0x28b734(0x2a9)]='LOG',_0x46bb39[a0_0x28b734(0x1ed)]=a0_0x28b734(0x1ed),_0x46bb39[a0_0x28b734(0x314)]=a0_0x28b734(0x314),_0x46bb39['DARK']=a0_0x28b734(0x5b6),_0x46bb39[a0_0x28b734(0x469)]=a0_0x28b734(0x469),_0x46bb39[a0_0x28b734(0x1a5)]=a0_0x28b734(0x1a5),_0x46bb39[a0_0x28b734(0x624)]='VERBOSE',_0x46bb39))(js||{}),Us=(_0x5b3d66=>(_0x5b3d66['LOG']=a0_0x28b734(0x5e9),_0x5b3d66[a0_0x28b734(0x314)]=a0_0x28b734(0x224),_0x5b3d66[a0_0x28b734(0x1ed)]=a0_0x28b734(0x3d9),_0x5b3d66[a0_0x28b734(0x5b6)]=a0_0x28b734(0x610),_0x5b3d66[a0_0x28b734(0x469)]='\x1b[41m',_0x5b3d66['DEBUG']='\x1b[46m',_0x5b3d66[a0_0x28b734(0x624)]='\x1b[47m',_0x5b3d66))(Us||{}),v=class{constructor(_0x3d6a78=a0_0x28b734(0x37e)){const _0x486b71=a0_0x28b734;this[_0x486b71(0x1c1)]=_0x3d6a78,this[_0x486b71(0x78a)]=b;}[a0_0x28b734(0x32a)](_0x24fa93){this['context']=_0x24fa93;}[a0_0x28b734(0x1e5)](_0x10968f,_0x4e738a){const _0x1711e0=a0_0x28b734;let _0x12422d=[];this[_0x1711e0(0x78a)][_0x1711e0(0x238)]('LOG')['LEVEL']['forEach'](_0x2c0967=>_0x12422d[_0x1711e0(0x758)](js[_0x2c0967]));let _0x4d8f21=typeof _0x10968f;_0x12422d[_0x1711e0(0x6c9)](_0x4e738a)&&(b[_0x1711e0(0x238)](_0x1711e0(0x2a9))['COLOR']?(console[_0x1711e0(0x38a)](_0x1711e0(0x5a9)+Fs[_0x4e738a],_0x1711e0(0x43e),(0x0,ts[_0x1711e0(0x4d7)])()['format'](_0x1711e0(0x56b)),_0x1711e0(0x353),ss[_0x4e738a]+Us[_0x4e738a]+_0x1711e0(0x5a9),_0x4e738a+'\x20\x1b[0m','\x1b[33m\x1b[1m',this[_0x1711e0(0x1c1)]+_0x1711e0(0x353),ss[_0x4e738a],_0x4d8f21!=='object'?_0x10968f:'','\x1b[0m'),_0x4d8f21===_0x1711e0(0x7c0)&&console[_0x1711e0(0x38a)](_0x10968f,'\x0a')):console[_0x1711e0(0x38a)]((0x0,ts[_0x1711e0(0x4d7)])()[_0x1711e0(0x72c)](_0x1711e0(0x623)),_0x4e738a+'\x20',''+this['context'],_0x10968f));}[a0_0x28b734(0x38a)](_0x14ed25){const _0x2b7409=a0_0x28b734;this[_0x2b7409(0x1e5)](_0x14ed25,'LOG');}[a0_0x28b734(0x6cc)](_0xc60fda){const _0x2703fe=a0_0x28b734;this[_0x2703fe(0x1e5)](_0xc60fda,_0x2703fe(0x314));}['warn'](_0xa8b50d){const _0x579b84=a0_0x28b734;this[_0x579b84(0x1e5)](_0xa8b50d,_0x579b84(0x1ed));}[a0_0x28b734(0x6f1)](_0x422acb){const _0xc65c50=a0_0x28b734;this[_0xc65c50(0x1e5)](_0x422acb,_0xc65c50(0x469));}[a0_0x28b734(0x62f)](_0x397b75){const _0x4efb55=a0_0x28b734;this[_0x4efb55(0x1e5)](_0x397b75,_0x4efb55(0x624));}[a0_0x28b734(0x1e4)](_0x23e069){const _0x4cd9b5=a0_0x28b734;this[_0x4cd9b5(0x1e5)](_0x23e069,_0x4cd9b5(0x1a5));}[a0_0x28b734(0x1b1)](_0x50e435){const _0x2d648a=a0_0x28b734;this[_0x2d648a(0x1e5)](_0x50e435,_0x2d648a(0x5b6));}};function qs(){const _0xebd0a4=a0_0x28b734;process['on'](_0xebd0a4(0x2f9),(_0x2acf9c,_0x2cedcd)=>{new v('uncaughtException')['error']({'origin':_0x2cedcd,'stderr':process['stderr']['fd'],'error':_0x2acf9c});}),process['on'](_0xebd0a4(0x7a7),(_0x345e2d,_0x3e8281)=>{const _0x2dc005=_0xebd0a4;new v('unhandledRejection')[_0x2dc005(0x6f1)]({'origin':_0x3e8281,'stderr':process[_0x2dc005(0x295)]['fd'],'error':_0x345e2d});});}var Js=T(require(a0_0x28b734(0x746))),as=new Js[(a0_0x28b734(0x4d7))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),De=require('mongoose'),rs=T(require(a0_0x28b734(0x675))),qr=new v('Db\x20Connection'),J=b['get'](a0_0x28b734(0x64b)),R=J['ENABLED']?J[a0_0x28b734(0x81b)]['URI']?rs[a0_0x28b734(0x4d7)]['createConnection'](J['CONNECTION'][a0_0x28b734(0x6c5)],{'dbName':J['CONNECTION']['DB_PREFIX_NAME']+a0_0x28b734(0x2e1)}):rs[a0_0x28b734(0x4d7)][a0_0x28b734(0x430)](a0_0x28b734(0x26a)+J[a0_0x28b734(0x81b)][a0_0x28b734(0x207)]+':'+J[a0_0x28b734(0x81b)]['PORT']+a0_0x28b734(0x5f1),{'user':J[a0_0x28b734(0x81b)][a0_0x28b734(0x493)],'pass':J[a0_0x28b734(0x81b)][a0_0x28b734(0x549)],'dbName':J[a0_0x28b734(0x81b)]['DB_PREFIX_NAME']+a0_0x28b734(0x2e1)}):null;J[a0_0x28b734(0x7d2)]&&qr['info'](a0_0x28b734(0x776)+R[a0_0x28b734(0x205)]);var Jr=new De[(a0_0x28b734(0x318))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Vr=new De['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Jr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Br=new De[(a0_0x28b734(0x318))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Vr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Vs=_0x1761ac=>{const _0x32f36a=a0_0x28b734;let _0xbb65c5='z_'+_0x1761ac+_0x32f36a(0x19d);return R?.[_0x32f36a(0x45e)](_0x32f36a(0x3ba),Br,_0xbb65c5);},Bs=require(a0_0x28b734(0x675)),Gr=new Bs[(a0_0x28b734(0x318))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Gs=_0x5e9df9=>{const _0x1bbad4=a0_0x28b734;let _0xe2c463='z_'+_0x5e9df9+_0x1bbad4(0x282);return R?.[_0x1bbad4(0x45e)]('ContactModel',Gr,_0xe2c463);},Ws=require(a0_0x28b734(0x675)),Wr=new Ws[(a0_0x28b734(0x318))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),zs=_0x2ee85c=>{const _0x2d24ba=a0_0x28b734;let _0x3d8114='z_'+_0x2ee85c+_0x2d24ba(0x27f);return R?.[_0x2d24ba(0x45e)]('MessageModel',Wr,_0x3d8114);},Hs=require(a0_0x28b734(0x675)),is=class{},zr=new Hs[(a0_0x28b734(0x318))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),Ks=R?.['model'](is[a0_0x28b734(0x69a)],zr,a0_0x28b734(0x3d1)),Qs=require(a0_0x28b734(0x675)),os=class{},Ys=new Qs[(a0_0x28b734(0x318))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Ys[a0_0x28b734(0x2a2)]('save',function(_0x527d6a){const _0x180614=a0_0x28b734;delete this[_0x180614(0x634)],delete this[_0x180614(0x73b)],delete this[_0x180614(0x640)],delete this[_0x180614(0x62b)],delete this[_0x180614(0x74d)],_0x527d6a();});var Xs=R?.['model'](os[a0_0x28b734(0x69a)],Ys,a0_0x28b734(0x2c6)),P=require(a0_0x28b734(0x675)),Zs=require(a0_0x28b734(0x5ae)),_e=class{},ea=new P[(a0_0x28b734(0x318))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ns=new P[(a0_0x28b734(0x318))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Hr=new P['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x28b734(0x437)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x28b734(0x787)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x28b734(0x467)},'pollErrorMessage':{'type':String,'default':a0_0x28b734(0x487)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ta=new P['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Kr=new P[(a0_0x28b734(0x318))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),Qr=new P[(a0_0x28b734(0x318))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),sa=new P['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Hr},'apirequest':Kr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ps=new P[(a0_0x28b734(0x318))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),aa=new P[(a0_0x28b734(0x318))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),cs=class{},Pe=new P[(a0_0x28b734(0x318))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,Zs['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x1ccd65=a0_0x28b734;return _0x1ccd65(0x720)+Math[_0x1ccd65(0x576)]()[_0x1ccd65(0x448)](0x24)[_0x1ccd65(0x2b2)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ps],'variablesNotFound':{'type':[String]},'blocks':[sa],'groups':[ea],'conditions':[ta],'varedits':[aa],'replyOptions':{'type':[ns],'default':[]}});Pe[a0_0x28b734(0x2a2)](a0_0x28b734(0x7cf),function(_0x5e971a){const _0x412b26=a0_0x28b734;let _0x26b5ee=new Set(),_0x107556=new Set(this['variables']?.[_0x412b26(0x7df)](_0x1564f9=>_0x1564f9['name'])),_0x1744d8=JSON[_0x412b26(0x463)](this),_0x5701b5=/{{(?!_)([^}]*)}}/g,_0x360c75;for(;(_0x360c75=_0x5701b5[_0x412b26(0x1c9)](_0x1744d8))!==null;)_0x107556[_0x412b26(0x22f)](_0x360c75[0x1])||_0x26b5ee[_0x412b26(0x289)](_0x360c75[0x1]);_0x26b5ee['size']>0x0?(console[_0x412b26(0x272)](_0x412b26(0x385),Array[_0x412b26(0x325)](_0x26b5ee)),this['variablesNotFound']=Array[_0x412b26(0x325)](_0x26b5ee)):this[_0x412b26(0x29c)]=[],_0x5e971a();}),Pe['pre'](a0_0x28b734(0x724),function(_0x252a9b){const _0x2dd8b1=a0_0x28b734;let _0x280cf7=this['getUpdate']();if(_0x280cf7&&typeof _0x280cf7==_0x2dd8b1(0x7c0)&&_0x2dd8b1(0x2ff)in _0x280cf7){let _0x551b2a=_0x280cf7[_0x2dd8b1(0x2ff)];if(_0x551b2a){let _0x1420f8=new Set(),_0x1e6fab=new Set(_0x551b2a[_0x2dd8b1(0x329)]?.[_0x2dd8b1(0x7df)](_0x1069db=>_0x1069db['name'])),_0x2c0f03=JSON['stringify'](_0x551b2a),_0x344661=/{{(?!_)([^}]*)}}/g,_0x4c1400;for(;(_0x4c1400=_0x344661[_0x2dd8b1(0x1c9)](_0x2c0f03))!==null;)_0x1e6fab[_0x2dd8b1(0x22f)](_0x4c1400[0x1])||_0x1420f8[_0x2dd8b1(0x289)](_0x4c1400[0x1]);_0x1420f8[_0x2dd8b1(0x676)]>0x0?(console[_0x2dd8b1(0x272)]('Variáveis\x20não\x20encontradas:',Array[_0x2dd8b1(0x325)](_0x1420f8)),_0x551b2a[_0x2dd8b1(0x29c)]=Array[_0x2dd8b1(0x325)](_0x1420f8)):_0x551b2a['variablesNotFound']=[],this[_0x2dd8b1(0x3ff)]({'$set':_0x551b2a});}}_0x252a9b();});function a0_0x4163(_0x48ce71,_0xaa20e1){const _0x1bdc16=a0_0x1bdc();return a0_0x4163=function(_0x41630e,_0x16ad8f){_0x41630e=_0x41630e-0x18d;let _0x1ecd66=_0x1bdc16[_0x41630e];return _0x1ecd66;},a0_0x4163(_0x48ce71,_0xaa20e1);}var ra=_0x5a70d9=>{const _0x2acb0c=a0_0x28b734;let _0x2dac0b='z_'+_0x5a70d9+_0x2acb0c(0x64c);return R?.[_0x2acb0c(0x45e)](_0x2acb0c(0x61f),Pe,_0x2dac0b);},ia=R?.[a0_0x28b734(0x45e)](cs[a0_0x28b734(0x69a)],Pe,a0_0x28b734(0x3f5)),Yr=new P[(a0_0x28b734(0x318))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ps],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Qr]},{'_id':!0x1}),ls=class{},oa=new P[(a0_0x28b734(0x318))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ps],'blocks':[sa],'groups':[ea],'conditions':[ta],'varedits':[aa],'replyOptions':{'type':[ns],'default':[]},'chatLog':Yr,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x28b734(0x428)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'waitingMenu_replyOptions':{'type':[ns],'default':[]}}),na=_0x2314aa=>{const _0x4d7f34=a0_0x28b734;let _0x5b6904='z_'+_0x2314aa+'_FlowHistorico';return R?.[_0x4d7f34(0x45e)]('ConversationModel',oa,_0x5b6904);},ca=R?.[a0_0x28b734(0x45e)](ls[a0_0x28b734(0x69a)],oa,a0_0x28b734(0x619)),us=class{},Xr=new P[(a0_0x28b734(0x318))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Zr=new P[(a0_0x28b734(0x318))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),la=new P[(a0_0x28b734(0x318))]({'owner':{'type':String},'status':{'type':String,'default':'scheduled'},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Zr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Xr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ua=_0x3db6d3=>{const _0x48762f=a0_0x28b734;let _0x5964c1='z_'+_0x3db6d3+'_ScheduleMessages';return R?.[_0x48762f(0x45e)]('ScheduleMessageModel',la,_0x5964c1);},da=R?.[a0_0x28b734(0x45e)](us[a0_0x28b734(0x69a)],la,a0_0x28b734(0x485)),ds=class{},ei=new P[(a0_0x28b734(0x318))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),ti=new P[(a0_0x28b734(0x318))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x28b734(0x54e)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),si=new P[(a0_0x28b734(0x318))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),ai=new P[(a0_0x28b734(0x318))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[si]},'customFields':{'type':[ei]},'flowConfig':{'type':ti,'default':{}}}),$e=R?.[a0_0x28b734(0x45e)](ds[a0_0x28b734(0x69a)],ai,a0_0x28b734(0x44b)),pa=require(a0_0x28b734(0x675)),ri=new pa[(a0_0x28b734(0x318))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ha=_0x3d51db=>{const _0x443eb4=a0_0x28b734;let _0xcc5cc3='z_'+_0x3d51db+_0x443eb4(0x715);return R?.[_0x443eb4(0x45e)](_0x443eb4(0x4bd),ri,_0xcc5cc3);},x=class{constructor(_0x390e93){const _0x57311f=a0_0x28b734;this[_0x57311f(0x29a)]=_0x390e93['get'](_0x57311f(0x64b));}};function A(_0x4ab4e5){const _0x2006d3=a0_0x28b734;let _0x57d4d0={};for(let [_0x10d758,_0x3c9a68]of Object[_0x2006d3(0x2b5)](_0x4ab4e5))if(typeof _0x3c9a68==_0x2006d3(0x7c0)&&!Array[_0x2006d3(0x292)](_0x3c9a68)){for(let [_0xf1385b,_0x818daf]of Object['entries'](_0x3c9a68))_0x57d4d0[_0x10d758+'.'+_0xf1385b]=_0x818daf;}else _0x57d4d0[_0x10d758]=_0x3c9a68;return _0x57d4d0;}var ke=class{constructor(_0x21eda9,_0x5070a3,_0x1906ef,_0xe7ae43,_0x4500c6,_0x492786,_0xb812d,_0x5b3952,_0x2003f0,_0x31caf6,_0x4081bd){const _0x255a6e=a0_0x28b734;this[_0x255a6e(0x638)]=_0x21eda9,this[_0x255a6e(0x2fb)]=_0x5070a3,this[_0x255a6e(0x1ba)]=_0x1906ef,this[_0x255a6e(0x2c6)]=_0xe7ae43,this[_0x255a6e(0x445)]=_0x4500c6,this[_0x255a6e(0x3f5)]=_0x492786,this[_0x255a6e(0x619)]=_0xb812d,this[_0x255a6e(0x60a)]=_0x5b3952,this[_0x255a6e(0x712)]=_0x2003f0,this[_0x255a6e(0x35a)]=_0x31caf6,this[_0x255a6e(0x6ff)]=_0x4081bd;}get[a0_0x28b734(0x741)](){return this['dbClient'];}},Le=class{},Fe=class extends x{['getMessageModelForOwner'](_0x55bae7){return zs(_0x55bae7);}async['insert'](_0x394181,_0x3bf65f){const _0x5eafc2=a0_0x28b734;if(_0x394181[_0x5eafc2(0x2f0)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x5eafc2(0x4e0)](_0x3bf65f)['insertMany']([..._0x394181]))[_0x5eafc2(0x2f0)]};}catch(_0xb282d2){return _0xb282d2;}}async[a0_0x28b734(0x79e)](_0x1d150c,_0x74425d){const _0x5b56ba=a0_0x28b734;try{let _0x2aa968=this[_0x5b56ba(0x4e0)](_0x74425d),_0x4e493d=A(_0x1d150c[_0x5b56ba(0x6da)]);return await _0x2aa968[_0x5b56ba(0x79e)](_0x4e493d)[_0x5b56ba(0x447)]({'messageTimestamp':-0x1})[_0x5b56ba(0x3fa)](_0x1d150c?.['limit']??0x0)[_0x5b56ba(0x78c)]();}catch{return[];}}async[a0_0x28b734(0x606)](_0x37a047,_0xe3ae64){const _0x13f358=a0_0x28b734;try{let _0xa24870=this[_0x13f358(0x4e0)](_0xe3ae64),_0x31441a=A(_0x37a047['where']);await _0xa24870['deleteMany'](_0x31441a);}catch(_0x243b0f){console[_0x13f358(0x6f1)](_0x243b0f);}}async[a0_0x28b734(0x19a)](_0x38d3b1,_0x5f5501,_0x4eec83){const _0x3e0c0c=a0_0x28b734;try{let _0x860d11=this[_0x3e0c0c(0x4e0)](_0x4eec83),_0x4e06b9=A(_0x38d3b1[_0x3e0c0c(0x6da)]);return await _0x860d11[_0x3e0c0c(0x724)](_0x4e06b9,{'$set':_0x5f5501},{'new':!0x0});}catch(_0x3b0bad){throw console[_0x3e0c0c(0x6f1)](_0x3b0bad),_0x3b0bad;}}async['insertMany'](_0x3b3fec,_0x4a687f){const _0x369076=a0_0x28b734;if(_0x3b3fec[_0x369076(0x2f0)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x369076(0x4e0)](_0x4a687f)['insertMany']([..._0x3b3fec]))[_0x369076(0x2f0)]};}catch(_0x5eb590){return console[_0x369076(0x38a)](_0x369076(0x372),_0x5eb590),_0x5eb590;}}async['deleteAll'](_0x927f9b){const _0x543e6c=a0_0x28b734;try{return await this[_0x543e6c(0x4e0)](_0x927f9b)['collection'][_0x543e6c(0x597)](),{'success':!0x0};}catch(_0x3795d9){return console[_0x543e6c(0x6f1)](_0x3795d9),{'success':!0x1,'error':_0x3795d9};}}},yr=T(require(a0_0x28b734(0x4cc))),m=T(require(a0_0x28b734(0x3c2))),ve=require('fs'),j=T(require(a0_0x28b734(0x1c0))),te=T(require('axios')),br=require(a0_0x28b734(0x5ae)),Sr=T(require('qrcode')),Er=T(require('qrcode-terminal')),ga=[a0_0x28b734(0x2fc),a0_0x28b734(0x7ae),a0_0x28b734(0x728),a0_0x28b734(0x500),a0_0x28b734(0x2f6)],ma=['ephemeralMessage',a0_0x28b734(0x6b8),'viewOnceMessage',a0_0x28b734(0x3f1)],Es=require('os'),It=T(require('pino')),Pt=require(a0_0x28b734(0x703)),xt=require(a0_0x28b734(0x603)),oe=T(require(a0_0x28b734(0x675))),$=require(a0_0x28b734(0x5b4)),me=class{constructor(_0x465c5a,_0x231431,_0x34b812){const _0x660074=a0_0x28b734;this[_0x660074(0x441)]=_0x465c5a,this['exists']=_0x231431,this[_0x660074(0x69a)]=_0x34b812;}},je=class{},Ue=class{},be=class{},qe=class{},Je=class{},fe=class{},Ve=class{},Be=class{},Ge=class{},We=class{},vt=T(require(a0_0x28b734(0x310))),fa=require('fs'),wa=require(a0_0x28b734(0x1c0));async function ze(_0x518e08){const _0x17a3a2=a0_0x28b734;let _0x149010=V[_0x17a3a2(0x410)][_0x518e08];if(J[_0x17a3a2(0x7d2)]){let _0x928140=R[_0x17a3a2(0x46e)]()['db'](J['CONNECTION'][_0x17a3a2(0x804)]+'-instances')[_0x17a3a2(0x818)](_0x518e08);return _0x149010||(await _0x928140[_0x17a3a2(0x79e)]({})[_0x17a3a2(0x2bf)]())[_0x17a3a2(0x2f0)]>0x0;}return _0x149010||(0x0,fa[_0x17a3a2(0x80b)])((0x0,wa[_0x17a3a2(0x67e)])(ge,_0x518e08));}async function ya(_0x1358d9,_0x205bf8,_0x27aeaa){const _0x5cba85=a0_0x28b734;if(_0x1358d9[_0x5cba85(0x665)]['includes'](_0x5cba85(0x5d7))||_0x1358d9[_0x5cba85(0x665)][_0x5cba85(0x6c9)]('/instance/fetchInstances')||_0x1358d9[_0x5cba85(0x665)][_0x5cba85(0x6c9)](_0x5cba85(0x2f4))||_0x1358d9[_0x5cba85(0x665)]['includes'](_0x5cba85(0x2eb))||_0x1358d9[_0x5cba85(0x665)]['includes'](_0x5cba85(0x680))||_0x1358d9[_0x5cba85(0x665)][_0x5cba85(0x6c9)](_0x5cba85(0x286))||_0x1358d9['originalUrl'][_0x5cba85(0x6c9)](_0x5cba85(0x4e7)))return _0x27aeaa();let _0x249875=_0x1358d9[_0x5cba85(0x7ba)];if(!_0x249875?.[_0x5cba85(0x554)])throw new w(_0x5cba85(0x2f2));if(!await ze(_0x249875[_0x5cba85(0x554)]))throw new k('The\x20'+_0x249875[_0x5cba85(0x554)]+_0x5cba85(0x402));_0x27aeaa();}async function ba(_0x563331,_0x4fff0e,_0x180599){const _0x4ee1ae=a0_0x28b734;if(_0x563331[_0x4ee1ae(0x665)][_0x4ee1ae(0x6c9)](_0x4ee1ae(0x5d7))){let _0x1f3187=_0x563331['body'];if(await ze(_0x1f3187['instanceName']))throw new H(_0x4ee1ae(0x763)+_0x1f3187[_0x4ee1ae(0x554)]+_0x4ee1ae(0x50a));V[_0x4ee1ae(0x410)][_0x1f3187['instanceName']]&&delete V['waInstances'][_0x1f3187[_0x4ee1ae(0x554)]];}_0x180599();}var Sa=require('class-validator'),Ea=T(require('jsonwebtoken')),He=a0_0x28b734(0x254),oi=new v('GUARD');async function ni(_0x4af439,_0x56327a,_0x10abbf){const _0x5e43ca=a0_0x28b734;let _0x541ba5=_0x4af439[_0x5e43ca(0x238)](_0x5e43ca(0x384));if(_0x541ba5&&b[_0x5e43ca(0x238)](_0x5e43ca(0x577))[_0x5e43ca(0x3db)][_0x5e43ca(0x794)]!==_0x541ba5)throw new Z();if(b['get'](_0x5e43ca(0x577))[_0x5e43ca(0x3db)]['KEY']===_0x541ba5)return _0x10abbf();if((_0x4af439[_0x5e43ca(0x665)][_0x5e43ca(0x6c9)](_0x5e43ca(0x5d7))||_0x4af439[_0x5e43ca(0x665)][_0x5e43ca(0x6c9)](_0x5e43ca(0x7ac)))&&!_0x541ba5)throw new H(_0x5e43ca(0x214),_0x5e43ca(0x625));let _0x8a1296=b['get'](_0x5e43ca(0x577))[_0x5e43ca(0x7db)];try{let [_0x4d2294,_0x156cbd]=_0x4af439[_0x5e43ca(0x238)](_0x5e43ca(0x7f4))[_0x5e43ca(0x5ac)]('\x20');if(_0x4d2294[_0x5e43ca(0x7a6)]()!=='bearer')throw new Z();if(!(0x0,Sa[_0x5e43ca(0x7d5)])(_0x156cbd))throw new Z();let _0x1c7f1b=_0x4af439['params'],_0x347a4b=Ea[_0x5e43ca(0x4d7)]['verify'](_0x156cbd,_0x8a1296[_0x5e43ca(0x2ed)],{'ignoreExpiration':_0x8a1296[_0x5e43ca(0x279)]===0x0});if(_0x1c7f1b[_0x5e43ca(0x554)]!==_0x347a4b[_0x5e43ca(0x554)]||He!==_0x347a4b[_0x5e43ca(0x7ea)])throw new Z();return _0x10abbf();}catch(_0xfc4393){throw oi[_0x5e43ca(0x6f1)](_0xfc4393),new Z();}}async function ci(_0x4a8bfa,_0x4cec73,_0x4fb9ca){const _0x3f4a76=a0_0x28b734;let _0xc67f6f=b[_0x3f4a76(0x238)](_0x3f4a76(0x577))['API_KEY'],_0x381088=_0x4a8bfa[_0x3f4a76(0x238)](_0x3f4a76(0x384));if(_0xc67f6f[_0x3f4a76(0x794)]===_0x381088)return _0x4fb9ca();if(_0x4a8bfa[_0x3f4a76(0x665)]['includes'](_0x3f4a76(0x5d7))){let _0xfc7e72=Ke,_0x12be11=_0x4a8bfa[_0x3f4a76(0x1c3)][_0x3f4a76(0x554)];if(_0xfc7e72&&_0x12be11[_0x3f4a76(0x7a6)]()['startsWith'](_0xfc7e72[_0x3f4a76(0x7a6)]()))return _0x4fb9ca();if(!_0x381088)throw new H(_0x3f4a76(0x214),_0x3f4a76(0x625));}if(_0x4a8bfa['originalUrl']['includes']('/instance/fetchInstances')&&!_0x381088)throw new H(_0x3f4a76(0x214),_0x3f4a76(0x625));if(_0x4a8bfa[_0x3f4a76(0x665)][_0x3f4a76(0x6c9)]('/exit')&&!_0x381088)throw new H(_0x3f4a76(0x214),_0x3f4a76(0x625));if(_0x4a8bfa[_0x3f4a76(0x665)][_0x3f4a76(0x6c9)](_0x3f4a76(0x2eb))&&!_0x381088)throw new H(_0x3f4a76(0x214),'The\x20global\x20api\x20key\x20must\x20be\x20set');try{let _0xe894fa=_0x4a8bfa['params'];if((await ce[_0x3f4a76(0x445)][_0x3f4a76(0x79e)](_0xe894fa['instanceName']))[_0x3f4a76(0x384)]===_0x381088)return _0x4fb9ca();}catch{}throw new Z();}var Ca={'jwt':ni,'apikey':ci},sr=require(a0_0x28b734(0x310)),C=require(a0_0x28b734(0x5ae)),E=(..._0x5012c1)=>{const _0x1a0603=a0_0x28b734;let _0x279177={};return _0x5012c1['forEach'](_0x44a9db=>_0x279177[_0x44a9db]={'minLength':0x1,'description':_0x1a0603(0x309)+_0x44a9db+_0x1a0603(0x358)}),{'if':{'propertyNames':{'enum':[..._0x5012c1]}},'then':{'properties':_0x279177}};},M={'$id':(0x0,C['v4'])(),'type':a0_0x28b734(0x7c0),'properties':{'instanceName':{'type':a0_0x28b734(0x18e)}},...E('instanceName')},Qn={'$id':(0x0,C['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x28b734(0x18e)}},'required':[a0_0x28b734(0x276)],...E('oldToken')},Yn={'properties':{'key':{'type':a0_0x28b734(0x7c0),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x28b734(0x18e)},'fromMe':{'type':a0_0x28b734(0x792),'enum':[!0x0,!0x1]}},'required':['id',a0_0x28b734(0x26f),a0_0x28b734(0x3e2)],...E('id',a0_0x28b734(0x26f))},'message':{'type':a0_0x28b734(0x7c0)}}},K={'properties':{'delay':{'type':'integer','description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':a0_0x28b734(0x18e),'enum':[a0_0x28b734(0x34d),'available',a0_0x28b734(0x77c),a0_0x28b734(0x53e),a0_0x28b734(0x569)]}}},W={'type':a0_0x28b734(0x18e),'pattern':a0_0x28b734(0x2f5),'description':a0_0x28b734(0x32f)},Ma={'$id':(0x0,C['v4'])(),'type':a0_0x28b734(0x7c0),'properties':{'number':{...W},'options':{...K},'textMessage':{'type':a0_0x28b734(0x7c0),'properties':{'text':{'type':a0_0x28b734(0x18e)}},'required':['text'],...E(a0_0x28b734(0x27e))}},'required':[a0_0x28b734(0x5be),a0_0x28b734(0x517)]},va={'type':a0_0x28b734(0x18e),'pattern':a0_0x28b734(0x239),'description':a0_0x28b734(0x32f)},Xn={'$id':(0x0,C['v4'])(),'type':a0_0x28b734(0x7c0),'properties':{'number':{...va},'options':{...K},'textMessage':{'type':a0_0x28b734(0x7c0),'properties':{'text':{'type':a0_0x28b734(0x18e)}},'required':[a0_0x28b734(0x27e)],...E(a0_0x28b734(0x27e))}},'required':[a0_0x28b734(0x5be),a0_0x28b734(0x517)]},Zn={'$id':(0x0,C['v4'])(),'type':a0_0x28b734(0x7c0),'properties':{'number':{...va},'options':{...K},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x28b734(0x18e),'enum':[a0_0x28b734(0x24c),a0_0x28b734(0x4e9),a0_0x28b734(0x453),a0_0x28b734(0x611)]},'media':{'type':a0_0x28b734(0x18e)},'fileName':{'type':a0_0x28b734(0x18e)},'caption':{'type':a0_0x28b734(0x18e)}},'required':[a0_0x28b734(0x51d),'media'],...E(a0_0x28b734(0x382),a0_0x28b734(0x291),a0_0x28b734(0x337))}},'required':[a0_0x28b734(0x514),a0_0x28b734(0x517)]},Na={'$id':(0x0,C['v4'])(),'type':a0_0x28b734(0x7c0),'properties':{'number':{...W},'options':{...K},'stickerMessage':{'type':a0_0x28b734(0x7c0),'properties':{'image':{'type':a0_0x28b734(0x18e)}},'required':['image'],...E(a0_0x28b734(0x24c))}},'required':[a0_0x28b734(0x2f6),a0_0x28b734(0x517)]},Ra={'$id':(0x0,C['v4'])(),'type':'object','properties':{'statusMessage':{'type':a0_0x28b734(0x7c0),'properties':{'type':{'type':'string','enum':[a0_0x28b734(0x27e),'image',a0_0x28b734(0x611),a0_0x28b734(0x453)]},'content':{'type':a0_0x28b734(0x18e)},'caption':{'type':a0_0x28b734(0x18e)},'backgroundColor':{'type':'string'},'font':{'type':'integer','minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x28b734(0x18e),'pattern':a0_0x28b734(0x65a),'description':a0_0x28b734(0x2b7)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x28b734(0x2bd),'content'],...E(a0_0x28b734(0x2bd),a0_0x28b734(0x346))}},'required':[a0_0x28b734(0x247)]},Ta={'$id':(0x0,C['v4'])(),'type':a0_0x28b734(0x7c0),'properties':{'number':{...W},'options':{...K},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x28b734(0x18e),'enum':[a0_0x28b734(0x24c),a0_0x28b734(0x4e9),a0_0x28b734(0x453),a0_0x28b734(0x611)]},'media':{'type':'string'},'fileName':{'type':a0_0x28b734(0x18e)},'caption':{'type':a0_0x28b734(0x18e)}},'required':[a0_0x28b734(0x51d),a0_0x28b734(0x337)],...E(a0_0x28b734(0x382),a0_0x28b734(0x291),a0_0x28b734(0x337))}},'required':[a0_0x28b734(0x514),a0_0x28b734(0x517)]},Oa={'$id':(0x0,C['v4'])(),'type':a0_0x28b734(0x7c0),'properties':{'number':{...W},'options':{...K},'audioMessage':{'type':a0_0x28b734(0x7c0),'properties':{'audio':{'type':a0_0x28b734(0x18e)}},'required':[a0_0x28b734(0x611)],...E(a0_0x28b734(0x611))}},'required':[a0_0x28b734(0x728),'number']},Aa={'$id':(0x0,C['v4'])(),'type':a0_0x28b734(0x7c0),'properties':{'number':{...W},'pollMessage':{'type':'object','properties':{'name':{'type':a0_0x28b734(0x18e)},'selectableCount':{'type':a0_0x28b734(0x517)},'values':{'type':a0_0x28b734(0x7aa),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x28b734(0x69a),a0_0x28b734(0x51b),a0_0x28b734(0x54d)],...E(a0_0x28b734(0x69a),a0_0x28b734(0x51b),'values')}},'required':[a0_0x28b734(0x517),a0_0x28b734(0x2dc)]},Ia={'$id':(0x0,C['v4'])(),'type':a0_0x28b734(0x7c0),'properties':{'number':{...W},'menuMessage':{'type':'object','properties':{'text':{'type':a0_0x28b734(0x18e)},'choices':{'type':a0_0x28b734(0x7aa),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x28b734(0x27e),a0_0x28b734(0x2bb)],...E(a0_0x28b734(0x27e),'choices')}},'required':[a0_0x28b734(0x517),'menuMessage']},xa={'$id':(0x0,C['v4'])(),'type':a0_0x28b734(0x7c0),'properties':{'number':{...W},'options':{...K},'buttonMessage':{'type':a0_0x28b734(0x7c0),'properties':{'title':{'type':a0_0x28b734(0x18e)},'description':{'type':a0_0x28b734(0x18e)},'footerText':{'type':a0_0x28b734(0x18e)},'buttons':{'type':a0_0x28b734(0x7aa),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x28b734(0x7c0),'properties':{'buttonText':{'type':a0_0x28b734(0x18e)},'buttonId':{'type':a0_0x28b734(0x18e)}},'required':['buttonText','buttonId'],...E(a0_0x28b734(0x490),a0_0x28b734(0x3f3))}},'mediaMessage':{'type':a0_0x28b734(0x7c0),'properties':{'media':{'type':a0_0x28b734(0x18e)},'fileName':{'type':a0_0x28b734(0x18e)},'mediatype':{'type':a0_0x28b734(0x18e),'enum':['image',a0_0x28b734(0x4e9),a0_0x28b734(0x453)]}},'required':['media',a0_0x28b734(0x51d)],...E('media',a0_0x28b734(0x382))}},'required':[a0_0x28b734(0x679),a0_0x28b734(0x71d)],...E(a0_0x28b734(0x679),a0_0x28b734(0x2e7))}},'required':[a0_0x28b734(0x517),'buttonMessage']},Da={'$id':(0x0,C['v4'])(),'type':a0_0x28b734(0x7c0),'properties':{'number':{...W},'options':{...K},'locationMessage':{'type':a0_0x28b734(0x7c0),'properties':{'latitude':{'type':a0_0x28b734(0x517)},'longitude':{'type':a0_0x28b734(0x517)},'name':{'type':a0_0x28b734(0x18e)},'address':{'type':a0_0x28b734(0x18e)}},'required':['latitude','longitude'],...E(a0_0x28b734(0x69a),a0_0x28b734(0x827))}},'required':[a0_0x28b734(0x517),a0_0x28b734(0x3b6)]},_a={'$id':(0x0,C['v4'])(),'type':a0_0x28b734(0x7c0),'properties':{'number':{...W},'options':{...K},'listMessage':{'type':a0_0x28b734(0x7c0),'properties':{'title':{'type':a0_0x28b734(0x18e)},'description':{'type':a0_0x28b734(0x18e)},'footerText':{'type':'string'},'buttonText':{'type':a0_0x28b734(0x18e)},'sections':{'type':a0_0x28b734(0x7aa),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x28b734(0x7c0),'properties':{'title':{'type':a0_0x28b734(0x18e)},'rows':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x28b734(0x18e)},'description':{'type':a0_0x28b734(0x18e)},'rowId':{'type':a0_0x28b734(0x18e)}},'required':['title','rowId'],...E(a0_0x28b734(0x679),a0_0x28b734(0x53b))}}},'required':[a0_0x28b734(0x679),a0_0x28b734(0x659)],...E(a0_0x28b734(0x679))}}},'required':[a0_0x28b734(0x679),a0_0x28b734(0x2e7),'buttonText','sections'],...E('title','description','buttonText',a0_0x28b734(0x29d))}},'required':[a0_0x28b734(0x517),'listMessage']},Pa={'$id':(0x0,C['v4'])(),'type':a0_0x28b734(0x7c0),'properties':{'number':{...W},'options':{...K},'contactMessage':{'type':a0_0x28b734(0x7aa),'items':{'type':'object','properties':{'fullName':{'type':a0_0x28b734(0x18e)},'phoneNumber':{'type':a0_0x28b734(0x18e),'minLength':0xa}},'required':[a0_0x28b734(0x644),a0_0x28b734(0x2ee)],...E(a0_0x28b734(0x644))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x28b734(0x517),'contactMessage']},$a={'$id':(0x0,C['v4'])(),'type':'object','properties':{'reactionMessage':{'type':a0_0x28b734(0x7c0),'properties':{'key':{'type':a0_0x28b734(0x7c0),'properties':{'id':{'type':a0_0x28b734(0x18e)},'remoteJid':{'type':a0_0x28b734(0x18e)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x28b734(0x26f),a0_0x28b734(0x3e2)],...E('id',a0_0x28b734(0x26f))},'reaction':{'type':'string'}},'required':[a0_0x28b734(0x670),a0_0x28b734(0x3cf)],...E(a0_0x28b734(0x3cf))}},'required':['reactionMessage']},ka={'$id':(0x0,C['v4'])(),'type':a0_0x28b734(0x7c0),'properties':{'numbers':{'type':a0_0x28b734(0x7aa),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x28b734(0x65a),'description':'\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}}},La={'$id':(0x0,C['v4'])(),'type':a0_0x28b734(0x7c0),'properties':{'readMessages':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x28b734(0x18e)},'fromMe':{'type':a0_0x28b734(0x792),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x28b734(0x18e)}},'required':['id',a0_0x28b734(0x3e2),a0_0x28b734(0x26f)],...E('id',a0_0x28b734(0x26f))}}},'required':[a0_0x28b734(0x28d)]},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x28b734(0x7c0),'properties':{'privacySettings':{'type':a0_0x28b734(0x7c0),'properties':{'readreceipts':{'type':'string','enum':[a0_0x28b734(0x600),a0_0x28b734(0x1d8)]},'profile':{'type':a0_0x28b734(0x18e),'enum':[a0_0x28b734(0x600),a0_0x28b734(0x1ca),a0_0x28b734(0x27b),'none']},'status':{'type':a0_0x28b734(0x18e),'enum':[a0_0x28b734(0x600),a0_0x28b734(0x1ca),a0_0x28b734(0x27b),a0_0x28b734(0x1d8)]},'online':{'type':a0_0x28b734(0x18e),'enum':['all','match_last_seen']},'last':{'type':a0_0x28b734(0x18e),'enum':[a0_0x28b734(0x600),'contacts',a0_0x28b734(0x27b),a0_0x28b734(0x1d8)]},'groupadd':{'type':a0_0x28b734(0x18e),'enum':[a0_0x28b734(0x600),a0_0x28b734(0x1ca),a0_0x28b734(0x27b),a0_0x28b734(0x1d8)]}},'required':['readreceipts',a0_0x28b734(0x401),a0_0x28b734(0x6e9),a0_0x28b734(0x367),a0_0x28b734(0x6ee),a0_0x28b734(0x6fa)],...E(a0_0x28b734(0x3f4),'profile','status',a0_0x28b734(0x367),a0_0x28b734(0x6ee),a0_0x28b734(0x6fa))}},'required':[a0_0x28b734(0x484)]},ja={'$id':(0x0,C['v4'])(),'type':a0_0x28b734(0x7c0),'properties':{'lastMessage':{'type':a0_0x28b734(0x7c0),'properties':{'key':{'type':'object','properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x28b734(0x18e)},'fromMe':{'type':a0_0x28b734(0x792),'enum':[!0x0,!0x1]}},'required':['id',a0_0x28b734(0x3e2),a0_0x28b734(0x26f)],...E('id',a0_0x28b734(0x26f))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x28b734(0x670)],...E(a0_0x28b734(0x5a6))},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x28b734(0x6c6),'archive']},Ua={'$id':(0x0,C['v4'])(),'type':a0_0x28b734(0x7c0),'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x28b734(0x792),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':a0_0x28b734(0x18e)}},'required':['id',a0_0x28b734(0x3e2),a0_0x28b734(0x26f)],...E('id',a0_0x28b734(0x26f),'participant')},qa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':a0_0x28b734(0x7c0),'properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':a0_0x28b734(0x18e),'minLength':0x1},'id':{'type':a0_0x28b734(0x18e),'minLength':0x1}},...E(a0_0x28b734(0x4fb),'id',a0_0x28b734(0x7f7))}}},Ja={'$id':(0x0,C['v4'])(),'type':'object','properties':{'name':{'type':'string'}},...E(a0_0x28b734(0x69a))},Va={'$id':(0x0,C['v4'])(),'type':a0_0x28b734(0x7c0),'properties':{'status':{'type':a0_0x28b734(0x18e)}},...E(a0_0x28b734(0x6e9))},Se={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{'type':'string'},'picture':{'type':'string'}}},Ba={'type':'object','properties':{'wuid':{'type':a0_0x28b734(0x18e)},'name':{'type':a0_0x28b734(0x18e)},'picture':{'type':a0_0x28b734(0x18e)},'status':{'type':a0_0x28b734(0x18e)},'isBusiness':{'type':a0_0x28b734(0x792)}}},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x28b734(0x7c0),'properties':{'where':{'type':a0_0x28b734(0x7c0),'properties':{'_id':{'type':a0_0x28b734(0x18e),'minLength':0x1},'key':{'type':a0_0x28b734(0x7c0),'if':{'propertyNames':{'enum':[a0_0x28b734(0x3e2),a0_0x28b734(0x26f),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x28b734(0x18e),'minLength':0x1,'description':a0_0x28b734(0x29b)},'id':{'type':a0_0x28b734(0x18e),'minLength':0x1,'description':a0_0x28b734(0x29b)},'fromMe':{'type':a0_0x28b734(0x792),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x28b734(0x7c0)}},...E(a0_0x28b734(0x4fb))},'limit':{'type':a0_0x28b734(0x37f)}}},ec={'$id':(0x0,C['v4'])(),'type':a0_0x28b734(0x7c0),'properties':{'where':{'type':a0_0x28b734(0x7c0),'properties':{'_id':{'type':a0_0x28b734(0x18e)},'remoteJid':{'type':a0_0x28b734(0x18e)},'id':{'type':a0_0x28b734(0x18e)},'fromMe':{'type':a0_0x28b734(0x792),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x28b734(0x18e)},'status':{'type':a0_0x28b734(0x18e),'enum':[a0_0x28b734(0x469),a0_0x28b734(0x7ee),a0_0x28b734(0x52f),'DELIVERY_ACK',a0_0x28b734(0x1e3),a0_0x28b734(0x6bc)]}},...E(a0_0x28b734(0x4fb),'remoteJid','id',a0_0x28b734(0x6e9))},'limit':{'type':a0_0x28b734(0x37f)}}},Wa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...W},'presence':{'type':a0_0x28b734(0x18e),'enum':[a0_0x28b734(0x34d),a0_0x28b734(0x6a6),a0_0x28b734(0x77c),a0_0x28b734(0x53e),a0_0x28b734(0x569)]}},'required':[a0_0x28b734(0x72b),'number']},za={'$id':(0x0,C['v4'])(),'type':a0_0x28b734(0x7c0),'properties':{'subject':{'type':a0_0x28b734(0x18e)},'description':{'type':a0_0x28b734(0x18e)},'profilePicture':{'type':'string'},'participants':{'type':a0_0x28b734(0x7aa),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x28b734(0x18e),'minLength':0xa,'pattern':a0_0x28b734(0x323),'description':a0_0x28b734(0x57b)}}},'required':[a0_0x28b734(0x49b),a0_0x28b734(0x1cd)],...E('subject','description',a0_0x28b734(0x24e))},Ee={'$id':(0x0,C['v4'])(),'type':a0_0x28b734(0x7c0),'properties':{'groupJid':{'type':a0_0x28b734(0x18e),'pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':[a0_0x28b734(0x7cd)],...E(a0_0x28b734(0x7cd))},Ha={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x28b734(0x18e)},'action':{'type':a0_0x28b734(0x18e),'enum':[a0_0x28b734(0x289),a0_0x28b734(0x252),a0_0x28b734(0x75a),a0_0x28b734(0x43d)]},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x28b734(0x18e),'minLength':0xa,'pattern':a0_0x28b734(0x323),'description':a0_0x28b734(0x57b)}}},'required':[a0_0x28b734(0x7cd),a0_0x28b734(0x2b8),a0_0x28b734(0x1cd)],...E('groupJid',a0_0x28b734(0x2b8))},Ka={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x28b734(0x18e)},'expiration':{'type':a0_0x28b734(0x517),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid',a0_0x28b734(0x7d1)],...E(a0_0x28b734(0x7cd),'expiration')},Qa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x28b734(0x18e)},'image':{'type':a0_0x28b734(0x18e)}},'required':[a0_0x28b734(0x7cd),'image'],...E(a0_0x28b734(0x7cd),'image')},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x28b734(0x7c0),'properties':{'groupJid':{'type':a0_0x28b734(0x18e)},'description':{'type':a0_0x28b734(0x18e)}},'required':[a0_0x28b734(0x7cd),a0_0x28b734(0x2e7)],...E(a0_0x28b734(0x7cd),a0_0x28b734(0x2e7))},Xa={'$id':(0x0,C['v4'])(),'type':a0_0x28b734(0x7c0),'properties':{'groupJid':{'type':a0_0x28b734(0x18e)},'name':{'type':'string'}},'required':[a0_0x28b734(0x7cd),'name'],...E(a0_0x28b734(0x7cd),'name')},Za={'$id':(0x0,C['v4'])(),'type':a0_0x28b734(0x7c0),'properties':{'groupJid':{'type':a0_0x28b734(0x18e)},'setting':{'type':'string','enum':['announcement',a0_0x28b734(0x4fd),'unlocked',a0_0x28b734(0x220)]}},'required':[a0_0x28b734(0x7cd),a0_0x28b734(0x6b1)],...E('groupJid','setting')},er={'$id':(0x0,C['v4'])(),'type':'object','properties':{'inviteCode':{'type':a0_0x28b734(0x18e)}},'required':[a0_0x28b734(0x28f)],...E(a0_0x28b734(0x28f))},tr={'$id':(0x0,C['v4'])(),'type':a0_0x28b734(0x7c0),'properties':{'url':{'type':a0_0x28b734(0x18e)},'enabled':{'type':a0_0x28b734(0x792),'enum':[!0x0,!0x1]}},'required':['url','enabled']},tc={'$id':(0x0,C['v4'])(),'type':a0_0x28b734(0x7c0),'properties':{'local_map':{'type':a0_0x28b734(0x792),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x28b734(0x792),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x28b734(0x792),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x28b734(0x792),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x28b734(0x792),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x28b734(0x792),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x28b734(0x792),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x28b734(0x792),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x28b734(0x792),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x28b734(0x792),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x28b734(0x792),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x28b734(0x792),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x28b734(0x792),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x28b734(0x6a2),'STATUS_INSTANCE',a0_0x28b734(0x5a3),a0_0x28b734(0x622),a0_0x28b734(0x5d4),a0_0x28b734(0x512),a0_0x28b734(0x33d),a0_0x28b734(0x5cf),a0_0x28b734(0x7d9),a0_0x28b734(0x436),a0_0x28b734(0x7b6),a0_0x28b734(0x618),a0_0x28b734(0x5aa),a0_0x28b734(0x6f3),a0_0x28b734(0x3fc),'CONNECTION_UPDATE',a0_0x28b734(0x2a7),a0_0x28b734(0x5f0),'GROUP_PARTICIPANTS_UPDATE'],...E('local_map','STATUS_INSTANCE','QRCODE_UPDATED',a0_0x28b734(0x622),a0_0x28b734(0x5d4),a0_0x28b734(0x512),a0_0x28b734(0x33d),'CONTACTS_SET',a0_0x28b734(0x7d9),'CONTACTS_UPDATE',a0_0x28b734(0x7b6),a0_0x28b734(0x618),a0_0x28b734(0x5aa),'CHATS_UPDATE',a0_0x28b734(0x3fc),a0_0x28b734(0x627),a0_0x28b734(0x2a7),a0_0x28b734(0x5f0),a0_0x28b734(0x6ba))},Qe=class{},Ye=class extends x{[a0_0x28b734(0x541)](_0x43037f){return Gs(_0x43037f);}async[a0_0x28b734(0x7a8)](_0x71e134){const _0x431898=a0_0x28b734;if(_0x71e134['length']!==0x0)try{return{'insertCount':(await this[_0x431898(0x541)](_0x71e134[0x0][_0x431898(0x2e5)])[_0x431898(0x652)]([..._0x71e134]))['length']};}catch(_0x488863){return _0x488863;}}async['delete'](_0x2503f1,_0x3feadf){const _0x358252=a0_0x28b734;try{return{'deletedCount':(await this[_0x358252(0x541)](_0x3feadf)[_0x358252(0x607)]({..._0x2503f1['where']}))[_0x358252(0x5b7)]};}catch(_0xa70e07){return{'error':_0xa70e07?.['toString']()};}}async[a0_0x28b734(0x19a)](_0x454215,_0x5a8b57){const _0x32301a=a0_0x28b734;try{if(_0x454215[_0x32301a(0x2f0)]===0x0)return;let _0x279eff=this[_0x32301a(0x541)](_0x5a8b57),_0x1e5215=_0x454215[_0x32301a(0x7df)](_0x262f25=>({'updateOne':{'filter':{'_id':_0x262f25[_0x32301a(0x4fb)],'owner':_0x5a8b57},'update':{..._0x262f25}}})),{modifiedCount:_0x526f18}=await _0x279eff[_0x32301a(0x71e)](_0x1e5215);return{'insertCount':_0x526f18};}catch{return;}}async[a0_0x28b734(0x79e)](_0x5538a3,_0x46b27e){const _0x139a65=a0_0x28b734;try{let _0x1bc21f=this['getContactModelForOwner'](_0x46b27e),_0x4eed1f=A(_0x5538a3[_0x139a65(0x6da)]);return await _0x1bc21f[_0x139a65(0x79e)](_0x4eed1f)[_0x139a65(0x3fa)](_0x5538a3?.['limit']??0x0)[_0x139a65(0x78c)]();}catch{return[];}}async[a0_0x28b734(0x5a7)](_0x4551c4,_0x57d10a){const _0x32f23e=a0_0x28b734;try{let _0x34a5f9=this[_0x32f23e(0x541)](_0x57d10a),_0x45b1f0=A(_0x4551c4[_0x32f23e(0x6da)]);return await _0x34a5f9['findOne'](_0x45b1f0)[_0x32f23e(0x78c)]();}catch{return null;}}async[a0_0x28b734(0x2d1)](_0xc791b3){const _0x12baa6=a0_0x28b734;try{return await this[_0x12baa6(0x541)](_0xc791b3)[_0x12baa6(0x818)][_0x12baa6(0x597)](),{'success':!0x0};}catch(_0x1f1d74){return console['error'](_0x1f1d74),{'success':!0x1,'error':_0x1f1d74};}}},Xe=require(a0_0x28b734(0x3e6)),uc=require(a0_0x28b734(0x4e2)),hs=new v(a0_0x28b734(0x480)),U=class{['routerPath'](_0x5d27df,_0x915def=!0x0){const _0x898cc3=a0_0x28b734;let _0x1671e5='/'+_0x5d27df;return _0x915def&&(_0x1671e5+=_0x898cc3(0x684)),_0x1671e5;}async['dataValidate'](_0x2199b8){const _0x57ff12=a0_0x28b734;let {request:_0x565278,schema:_0x4ecc03,ClassRef:_0x2bf44e,execute:_0x16e1f1}=_0x2199b8,_0x4e8415=new _0x2bf44e(),_0x54546a=_0x565278[_0x57ff12(0x1c3)],_0x4021b9=_0x565278[_0x57ff12(0x7ba)];_0x565278?.[_0x57ff12(0x1ae)]&&Object['keys'](_0x565278[_0x57ff12(0x1ae)])[_0x57ff12(0x2f0)]>0x0&&Object[_0x57ff12(0x81f)](_0x4021b9,_0x565278[_0x57ff12(0x1ae)]),_0x565278[_0x57ff12(0x665)][_0x57ff12(0x6c9)]('/instance/create')&&Object[_0x57ff12(0x81f)](_0x4021b9,_0x54546a),Object[_0x57ff12(0x81f)](_0x4e8415,_0x54546a);let _0x2b3922=_0x4ecc03?(0x0,Xe[_0x57ff12(0x223)])(_0x4e8415,_0x4ecc03):{'valid':!0x0,'errors':[]};if(!_0x2b3922[_0x57ff12(0x563)]){let _0x3d0407=_0x2b3922[_0x57ff12(0x568)]['map'](({property:_0x34fd19,stack:_0x3bd3b8,schema:_0x5c7ffe})=>{const _0x2171af=_0x57ff12;let _0x197e6d;return _0x5c7ffe[_0x2171af(0x2e7)]?_0x197e6d=_0x5c7ffe[_0x2171af(0x2e7)]:_0x197e6d=_0x3bd3b8[_0x2171af(0x7c4)](_0x2171af(0x4d1),''),{'property':_0x34fd19[_0x2171af(0x7c4)](_0x2171af(0x4d1),''),'message':_0x197e6d};});throw hs[_0x57ff12(0x6f1)]([..._0x3d0407]),new w(..._0x3d0407);}return await _0x16e1f1(_0x4021b9,_0x4e8415);}async[a0_0x28b734(0x365)](_0x1a0c70){const _0xd1376=a0_0x28b734;let {request:_0x547928,ClassRef:_0x2b5150,schema:_0x210a4c,execute:_0x28683f}=_0x1a0c70,_0xb08a70=_0x547928[_0xd1376(0x1ae)];if(!_0xb08a70?.['groupJid'])throw new w(_0xd1376(0x66d),_0xd1376(0x1da));let _0x20941b=_0x547928[_0xd1376(0x7ba)],_0x44ef68=_0x547928['body'],_0x14632d=new _0x2b5150();Object[_0xd1376(0x81f)](_0x44ef68,_0xb08a70),Object[_0xd1376(0x81f)](_0x14632d,_0x44ef68);let _0x5e66c3=(0x0,Xe[_0xd1376(0x223)])(_0x14632d,_0x210a4c);if(!_0x5e66c3[_0xd1376(0x563)]){let _0x5ba532=_0x5e66c3['errors'][_0xd1376(0x7df)](({property:_0x5b208b,stack:_0x3e4be1,schema:_0x1b3c41})=>{const _0x524138=_0xd1376;let _0x1db7f7;return _0x1b3c41[_0x524138(0x2e7)]?_0x1db7f7=_0x1b3c41[_0x524138(0x2e7)]:_0x1db7f7=_0x3e4be1[_0x524138(0x7c4)](_0x524138(0x4d1),''),{'property':_0x5b208b[_0x524138(0x7c4)](_0x524138(0x4d1),''),'message':_0x1db7f7};});throw hs[_0xd1376(0x6f1)]([..._0x5ba532]),new w(..._0x5ba532);}return await _0x28683f(_0x20941b,_0x14632d);}async[a0_0x28b734(0x4c2)](_0x4ddba7){const _0x46342b=a0_0x28b734;let {request:_0x131bd8,ClassRef:_0x33e48f,schema:_0x27aa1e,execute:_0x3c5fa9}=_0x4ddba7,_0x29e3cc=_0x131bd8['body'];if(!_0x29e3cc?.[_0x46342b(0x28f)])throw new w(_0x46342b(0x672),_0x46342b(0x5db));let _0x342888=_0x131bd8['params'],_0x2ead57=_0x131bd8['body'],_0x4e089c=new _0x33e48f();Object[_0x46342b(0x81f)](_0x2ead57,_0x29e3cc),Object[_0x46342b(0x81f)](_0x4e089c,_0x2ead57);let _0x20c7a6=(0x0,Xe[_0x46342b(0x223)])(_0x4e089c,_0x27aa1e);if(!_0x20c7a6[_0x46342b(0x563)]){let _0x38a359=_0x20c7a6[_0x46342b(0x568)][_0x46342b(0x7df)](({property:_0x32486a,stack:_0x591ce9,schema:_0x33a442})=>{const _0x3e729d=_0x46342b;let _0x2b8546;return _0x33a442[_0x3e729d(0x2e7)]?_0x2b8546=_0x33a442[_0x3e729d(0x2e7)]:_0x2b8546=_0x591ce9[_0x3e729d(0x7c4)](_0x3e729d(0x4d1),''),{'property':_0x32486a['replace']('instance.',''),'message':_0x2b8546};});throw hs[_0x46342b(0x6f1)]([..._0x38a359]),new w(..._0x38a359);}return await _0x3c5fa9(_0x342888,_0x4e089c);}},S=class{},Nc=new v(a0_0x28b734(0x2d4)),Ze=class extends U{constructor(..._0x2e9476){const _0x3c3371=a0_0x28b734;super(),this['router']=(0x0,sr[_0x3c3371(0x476)])(),this[_0x3c3371(0x4b3)][_0x3c3371(0x820)](this[_0x3c3371(0x66c)]('updatePresence'),..._0x2e9476,async(_0x242356,_0x5cdcb7)=>{const _0x4810cb=_0x3c3371;let _0x55dca5=await this[_0x4810cb(0x2c0)]({'request':_0x242356,'schema':Wa,'ClassRef':je,'execute':(_0x467410,_0x41fcaa)=>D['updatePresence'](_0x467410,_0x41fcaa)});return _0x5cdcb7['status'](0xc9)['json'](_0x55dca5);})[_0x3c3371(0x820)](this[_0x3c3371(0x66c)]('whatsappNumbers'),..._0x2e9476,async(_0x584d49,_0x4e7034)=>{const _0x4c56e3=_0x3c3371;let _0x324afc=await this[_0x4c56e3(0x2c0)]({'request':_0x584d49,'schema':ka,'ClassRef':Ue,'execute':(_0x2d5a44,_0x463a26)=>D[_0x4c56e3(0x4a7)](_0x2d5a44,_0x463a26)});return _0x4e7034[_0x4c56e3(0x6e9)](0xc9)[_0x4c56e3(0x60d)](_0x324afc);})[_0x3c3371(0x820)](this[_0x3c3371(0x66c)](_0x3c3371(0x1f5)),..._0x2e9476,async(_0x2d2a51,_0x2310c1)=>{const _0x22a7a7=_0x3c3371;let _0x3b2a43=await this[_0x22a7a7(0x2c0)]({'request':_0x2d2a51,'schema':M,'ClassRef':S,'execute':(_0x3d0a1e,_0x1c7232)=>D[_0x22a7a7(0x1f5)](_0x3d0a1e,_0x1c7232)});return _0x2310c1[_0x22a7a7(0x6e9)](0xc9)[_0x22a7a7(0x60d)](_0x3b2a43);})[_0x3c3371(0x233)](this[_0x3c3371(0x66c)](_0x3c3371(0x5cd)),..._0x2e9476,async(_0x4978a0,_0x1c02d9)=>{const _0x3d95e5=_0x3c3371;let _0x390295=await this[_0x3d95e5(0x2c0)]({'request':_0x4978a0,'schema':La,'ClassRef':Ve,'execute':(_0x1e4db8,_0x207bef)=>D[_0x3d95e5(0x7a5)](_0x1e4db8,_0x207bef)});return _0x1c02d9[_0x3d95e5(0x6e9)](0xc9)['json'](_0x390295);})[_0x3c3371(0x233)](this[_0x3c3371(0x66c)](_0x3c3371(0x49d)),..._0x2e9476,async(_0x56740c,_0x283f55)=>{const _0x482ac9=_0x3c3371;let _0xbdfc41=await this[_0x482ac9(0x2c0)]({'request':_0x56740c,'schema':ja,'ClassRef':Be,'execute':(_0x54bfb5,_0x2932cc)=>D['archiveChat'](_0x54bfb5,_0x2932cc)});return _0x283f55['status'](0xc9)[_0x482ac9(0x60d)](_0xbdfc41);})[_0x3c3371(0x606)](this[_0x3c3371(0x66c)](_0x3c3371(0x800)),..._0x2e9476,async(_0x3c94d3,_0x3b9442)=>{const _0x39acda=_0x3c3371;let _0x507a0e=await this[_0x39acda(0x2c0)]({'request':_0x3c94d3,'schema':Ua,'ClassRef':We,'execute':(_0x2a4d65,_0x140845)=>D['deleteMessage'](_0x2a4d65,_0x140845)});return _0x3b9442[_0x39acda(0x6e9)](0xc9)[_0x39acda(0x60d)](_0x507a0e);})[_0x3c3371(0x820)](this[_0x3c3371(0x66c)](_0x3c3371(0x7e3)),..._0x2e9476,async(_0x384c6e,_0x4d18f6)=>{const _0x4925d9=_0x3c3371;let _0x1ad38e=await this['dataValidate']({'request':_0x384c6e,'schema':Se,'ClassRef':be,'execute':(_0x22467e,_0x2e54a4)=>D[_0x4925d9(0x1d4)](_0x22467e,_0x2e54a4)});return _0x4d18f6[_0x4925d9(0x6e9)](0xc8)[_0x4925d9(0x60d)](_0x1ad38e);})[_0x3c3371(0x820)](this[_0x3c3371(0x66c)](_0x3c3371(0x677)),..._0x2e9476,async(_0xf6deb0,_0x43f7d1)=>{const _0x55ff2e=_0x3c3371;let _0xc93906=await this[_0x55ff2e(0x2c0)]({'request':_0xf6deb0,'schema':Ba,'ClassRef':be,'execute':(_0x22cc3c,_0x5af4d8)=>D[_0x55ff2e(0x677)](_0x22cc3c,_0x5af4d8)});return _0x43f7d1[_0x55ff2e(0x6e9)](0xc8)[_0x55ff2e(0x60d)](_0xc93906);})[_0x3c3371(0x820)](this[_0x3c3371(0x66c)](_0x3c3371(0x3da)),..._0x2e9476,async(_0x501e6d,_0x48bd9e)=>{const _0xc8d7fb=_0x3c3371;let _0x4bfc98=await this[_0xc8d7fb(0x2c0)]({'request':_0x501e6d,'schema':qa,'ClassRef':Qe,'execute':(_0x4bc054,_0x178705)=>D['fetchContacts'](_0x4bc054,_0x178705)});return _0x48bd9e[_0xc8d7fb(0x6e9)](0xc8)['json'](_0x4bfc98);})['post'](this[_0x3c3371(0x66c)](_0x3c3371(0x55b)),..._0x2e9476,async(_0x52945d,_0x67fffa)=>{const _0x5e9338=_0x3c3371;let _0x3cea41=await this[_0x5e9338(0x2c0)]({'request':_0x52945d,'schema':null,'ClassRef':Object,'execute':(_0x3b2a73,_0x366bff)=>D[_0x5e9338(0x55b)](_0x3b2a73,_0x366bff)});return _0x67fffa[_0x5e9338(0x6e9)](0xc9)[_0x5e9338(0x60d)](_0x3cea41);})[_0x3c3371(0x820)](this[_0x3c3371(0x66c)](_0x3c3371(0x6b9)),..._0x2e9476,async(_0x362b32,_0x233b2a)=>{const _0x4f0852=_0x3c3371;let _0x419596=await this[_0x4f0852(0x2c0)]({'request':_0x362b32,'schema':Ga,'ClassRef':Le,'execute':(_0x2abfa0,_0x17ca99)=>D[_0x4f0852(0x7b7)](_0x2abfa0,_0x17ca99)});return _0x233b2a['status'](0xc8)[_0x4f0852(0x60d)](_0x419596);})[_0x3c3371(0x238)](this[_0x3c3371(0x66c)](_0x3c3371(0x6b7)),..._0x2e9476,async(_0x16d81e,_0x3955ed)=>{const _0x37ccd2=_0x3c3371;let _0x2436eb=await this['dataValidate']({'request':_0x16d81e,'schema':null,'ClassRef':S,'execute':_0x31e939=>D[_0x37ccd2(0x3c6)](_0x31e939)});return _0x3955ed['status'](0xc8)[_0x37ccd2(0x60d)](_0x2436eb);})[_0x3c3371(0x238)](this[_0x3c3371(0x66c)](_0x3c3371(0x335)),..._0x2e9476,async(_0x137f74,_0x3d443a)=>{const _0x488390=_0x3c3371;let _0x50d1dc=await this[_0x488390(0x2c0)]({'request':_0x137f74,'schema':null,'ClassRef':S,'execute':_0x2c9117=>D[_0x488390(0x2ca)](_0x2c9117)});return _0x3d443a[_0x488390(0x6e9)](0xc8)['json'](_0x50d1dc);})['put'](this[_0x3c3371(0x66c)](_0x3c3371(0x4f1)),..._0x2e9476,async(_0x269c98,_0x1a41aa)=>{const _0x3e939b=_0x3c3371;let _0x4d7860=await this[_0x3e939b(0x2c0)]({'request':_0x269c98,'schema':null,'ClassRef':Array,'execute':(_0x11b723,_0x2b2ebc)=>D['importChats'](_0x11b723,_0x2b2ebc)});return _0x1a41aa['status'](0xc8)[_0x3e939b(0x60d)](_0x4d7860);})[_0x3c3371(0x238)](this[_0x3c3371(0x66c)](_0x3c3371(0x3a1)),..._0x2e9476,async(_0x102dee,_0x59674e)=>{const _0x56dbf7=_0x3c3371;let _0x31ee22=await this[_0x56dbf7(0x2c0)]({'request':_0x102dee,'schema':null,'ClassRef':S,'execute':_0xd4bdca=>D['fetchPrivacySettings'](_0xd4bdca)});return _0x59674e[_0x56dbf7(0x6e9)](0xc8)[_0x56dbf7(0x60d)](_0x31ee22);})[_0x3c3371(0x233)](this['routerPath'](_0x3c3371(0x636)),..._0x2e9476,async(_0x1c7eca,_0x34b3d0)=>{const _0x1982f6=_0x3c3371;let _0x19bb85=await this[_0x1982f6(0x2c0)]({'request':_0x1c7eca,'schema':Fa,'ClassRef':Ge,'execute':(_0x1cc8fb,_0x383584)=>D['updatePrivacySettings'](_0x1cc8fb,_0x383584)});return _0x34b3d0['status'](0xc9)['json'](_0x19bb85);})[_0x3c3371(0x820)](this[_0x3c3371(0x66c)](_0x3c3371(0x454)),..._0x2e9476,async(_0x218b9b,_0x59eb70)=>{const _0x22262f=_0x3c3371;let _0x143258=await this[_0x22262f(0x2c0)]({'request':_0x218b9b,'schema':Se,'ClassRef':fe,'execute':(_0x599bb6,_0x3a5067)=>D[_0x22262f(0x454)](_0x599bb6,_0x3a5067)});return _0x59eb70[_0x22262f(0x6e9)](0xc8)[_0x22262f(0x60d)](_0x143258);})[_0x3c3371(0x820)](this[_0x3c3371(0x66c)](_0x3c3371(0x23e)),..._0x2e9476,async(_0xd96a7,_0x4f402e)=>{const _0x2badef=_0x3c3371;let _0x488ecb=await this[_0x2badef(0x2c0)]({'request':_0xd96a7,'schema':Ja,'ClassRef':qe,'execute':(_0x126c52,_0x23de14)=>D[_0x2badef(0x23e)](_0x126c52,_0x23de14)});return _0x4f402e['status'](0xc8)[_0x2badef(0x60d)](_0x488ecb);})['post'](this[_0x3c3371(0x66c)](_0x3c3371(0x501)),..._0x2e9476,async(_0x2b9435,_0x4fad16)=>{const _0x1ec57e=_0x3c3371;let _0x2f88c0=await this[_0x1ec57e(0x2c0)]({'request':_0x2b9435,'schema':Va,'ClassRef':Je,'execute':(_0x1a00ff,_0x5106e8)=>D[_0x1ec57e(0x501)](_0x1a00ff,_0x5106e8)});return _0x4fad16['status'](0xc8)[_0x1ec57e(0x60d)](_0x2f88c0);})['put'](this[_0x3c3371(0x66c)](_0x3c3371(0x47c)),..._0x2e9476,async(_0x4fbc31,_0x3f34a3)=>{const _0x30ac39=_0x3c3371;let _0x16b30b=await this[_0x30ac39(0x2c0)]({'request':_0x4fbc31,'schema':Se,'ClassRef':fe,'execute':(_0x2ac3e7,_0x33edf7)=>D[_0x30ac39(0x47c)](_0x2ac3e7,_0x33edf7)});return _0x3f34a3[_0x30ac39(0x6e9)](0xc8)[_0x30ac39(0x60d)](_0x16b30b);})[_0x3c3371(0x606)](this[_0x3c3371(0x66c)](_0x3c3371(0x19e)),..._0x2e9476,async(_0x2f5927,_0x4bdc1a)=>{const _0x264de1=_0x3c3371;let _0x381ca8=await this[_0x264de1(0x2c0)]({'request':_0x2f5927,'schema':Se,'ClassRef':fe,'execute':(_0x351cf4,_0xee7a44)=>D[_0x264de1(0x19e)](_0x351cf4,_0xee7a44)});return _0x4bdc1a[_0x264de1(0x6e9)](0xc8)['json'](_0x381ca8);});}},ar=require('express'),et=class{},tt=class{},st=class{},at=class{},rt=class{},Q=class{},it=class{},ot=class extends Q{},nt=class extends Q{},ct=class extends U{constructor(..._0x30b5f4){const _0x20da3a=a0_0x28b734;super(),this[_0x20da3a(0x4b3)]=(0x0,ar[_0x20da3a(0x476)])(),this[_0x20da3a(0x4b3)]['post'](this[_0x20da3a(0x66c)]('create'),..._0x30b5f4,async(_0x36ce96,_0x186164)=>{const _0x5b0248=_0x20da3a;let _0x4e3285=await this['dataValidate']({'request':_0x36ce96,'schema':za,'ClassRef':et,'execute':(_0x5b8466,_0x9c33cd)=>F['createGroup'](_0x5b8466,_0x9c33cd)});_0x186164[_0x5b0248(0x6e9)](0xc9)['json'](_0x4e3285);})['put'](this[_0x20da3a(0x66c)](_0x20da3a(0x66a)),..._0x30b5f4,async(_0x5e3b8d,_0x1fc15d)=>{const _0x288abe=_0x20da3a;let _0x1ffcc4=await this[_0x288abe(0x365)]({'request':_0x5e3b8d,'schema':Qa,'ClassRef':tt,'execute':(_0x37061e,_0x3063d2)=>F[_0x288abe(0x66a)](_0x37061e,_0x3063d2)});_0x1fc15d[_0x288abe(0x6e9)](0xc9)[_0x288abe(0x60d)](_0x1ffcc4);})['put'](this[_0x20da3a(0x66c)](_0x20da3a(0x58c)),..._0x30b5f4,async(_0x387598,_0x388a1d)=>{const _0x2c92ff=_0x20da3a;let _0x842fc3=await this[_0x2c92ff(0x365)]({'request':_0x387598,'schema':Ya,'ClassRef':st,'execute':(_0x5cbd6f,_0x61f62b)=>F[_0x2c92ff(0x58c)](_0x5cbd6f,_0x61f62b)});_0x388a1d[_0x2c92ff(0x6e9)](0xc9)['json'](_0x842fc3);})[_0x20da3a(0x233)](this[_0x20da3a(0x66c)](_0x20da3a(0x25a)),..._0x30b5f4,async(_0x279d51,_0x5483c8)=>{const _0x10fce2=_0x20da3a;let _0x2560f9=await this['groupValidate']({'request':_0x279d51,'schema':Xa,'ClassRef':at,'execute':(_0x1dcf4b,_0x52f16d)=>F[_0x10fce2(0x25a)](_0x1dcf4b,_0x52f16d)});_0x5483c8['status'](0xc9)['json'](_0x2560f9);})[_0x20da3a(0x233)](this[_0x20da3a(0x66c)](_0x20da3a(0x62e)),..._0x30b5f4,async(_0x225801,_0x1b52b6)=>{const _0xdf5bf8=_0x20da3a;let _0x2a8b93=await this[_0xdf5bf8(0x365)]({'request':_0x225801,'schema':Za,'ClassRef':rt,'execute':(_0x5aebd3,_0x1df8bc)=>F[_0xdf5bf8(0x62e)](_0x5aebd3,_0x1df8bc)});_0x1b52b6[_0xdf5bf8(0x6e9)](0xc9)[_0xdf5bf8(0x60d)](_0x2a8b93);})[_0x20da3a(0x233)](this[_0x20da3a(0x66c)]('toggleEphemeral'),..._0x30b5f4,async(_0x2f717d,_0x3f8954)=>{const _0x45defc=_0x20da3a;let _0x49adde=await this['groupValidate']({'request':_0x2f717d,'schema':Ka,'ClassRef':nt,'execute':(_0x1b59af,_0x1b3571)=>F[_0x45defc(0x3d2)](_0x1b59af,_0x1b3571)});_0x3f8954[_0x45defc(0x6e9)](0xc9)[_0x45defc(0x60d)](_0x49adde);})[_0x20da3a(0x238)](this[_0x20da3a(0x66c)](_0x20da3a(0x80d)),..._0x30b5f4,async(_0x402044,_0x27be6c)=>{const _0x62d386=_0x20da3a;let _0x46bf64=await this[_0x62d386(0x365)]({'request':_0x402044,'schema':Ee,'ClassRef':Q,'execute':(_0x25ca4c,_0x106bf8)=>F['findGroupInfo'](_0x25ca4c,_0x106bf8)});_0x27be6c[_0x62d386(0x6e9)](0xc8)['json'](_0x46bf64);})['get'](this[_0x20da3a(0x66c)]('findGroups'),..._0x30b5f4,async(_0x9c0c79,_0x5748e2)=>{const _0x52e5b5=_0x20da3a;let _0x1e4013=await this[_0x52e5b5(0x2c0)]({'request':_0x9c0c79,'schema':M,'ClassRef':S,'execute':_0x4f38af=>F[_0x52e5b5(0x1b9)](_0x4f38af)});_0x5748e2[_0x52e5b5(0x6e9)](0xc8)['json'](_0x1e4013);})[_0x20da3a(0x238)](this['routerPath'](_0x20da3a(0x1cd)),..._0x30b5f4,async(_0x407b6e,_0x2ef1c7)=>{const _0x30a160=_0x20da3a;let _0x12869a=await this[_0x30a160(0x365)]({'request':_0x407b6e,'schema':Ee,'ClassRef':Q,'execute':(_0x205e91,_0x43e7f4)=>F['findParticipants'](_0x205e91,_0x43e7f4)});_0x2ef1c7[_0x30a160(0x6e9)](0xc8)[_0x30a160(0x60d)](_0x12869a);})['get'](this['routerPath'](_0x20da3a(0x28f)),..._0x30b5f4,async(_0xbff550,_0x1c6567)=>{const _0x60ab43=_0x20da3a;let _0x2c8265=await this[_0x60ab43(0x365)]({'request':_0xbff550,'schema':Ee,'ClassRef':Q,'execute':(_0x40be8a,_0x59e8f0)=>F['inviteCode'](_0x40be8a,_0x59e8f0)});_0x1c6567[_0x60ab43(0x6e9)](0xc8)['json'](_0x2c8265);})[_0x20da3a(0x233)](this['routerPath'](_0x20da3a(0x575)),..._0x30b5f4,async(_0xb4f6c5,_0x2a51e9)=>{const _0x23d368=_0x20da3a;let _0x42d6c3=await this['joinGroupValidate']({'request':_0xb4f6c5,'schema':er,'ClassRef':it,'execute':(_0x4636f7,_0x18b8be)=>F[_0x23d368(0x575)](_0x4636f7,_0x18b8be)});_0x2a51e9[_0x23d368(0x6e9)](0xc9)[_0x23d368(0x60d)](_0x42d6c3);})[_0x20da3a(0x233)](this['routerPath']('revokeInviteCode'),..._0x30b5f4,async(_0xe9fbaa,_0x19f994)=>{const _0x16e67e=_0x20da3a;let _0x3194d6=await this[_0x16e67e(0x365)]({'request':_0xe9fbaa,'schema':Ee,'ClassRef':Q,'execute':(_0x2ba5ff,_0x2b8241)=>F[_0x16e67e(0x4af)](_0x2ba5ff,_0x2b8241)});_0x19f994[_0x16e67e(0x6e9)](0xc9)[_0x16e67e(0x60d)](_0x3194d6);})[_0x20da3a(0x233)](this[_0x20da3a(0x66c)](_0x20da3a(0x317)),..._0x30b5f4,async(_0x4b29ee,_0x294e7e)=>{const _0xc19149=_0x20da3a;let _0x5683bc=await this['groupValidate']({'request':_0x4b29ee,'schema':Ha,'ClassRef':ot,'execute':(_0x4c8125,_0x297e10)=>F[_0xc19149(0x4df)](_0x4c8125,_0x297e10)});_0x294e7e[_0xc19149(0x6e9)](0xc9)['json'](_0x5683bc);})['delete'](this[_0x20da3a(0x66c)](_0x20da3a(0x284)),..._0x30b5f4,async(_0x42ec64,_0x164806)=>{const _0x58075d=_0x20da3a;let _0x4fe3a3=await this['groupValidate']({'request':_0x42ec64,'schema':{},'ClassRef':Q,'execute':(_0x2e4c5a,_0x29df11)=>F[_0x58075d(0x284)](_0x2e4c5a,_0x29df11)});_0x164806[_0x58075d(0x6e9)](0xc8)['json'](_0x4fe3a3);});}},rr=require(a0_0x28b734(0x310)),lt=class extends U{constructor(_0x4ea211,..._0x5259a5){const _0x343bea=a0_0x28b734;super(),this['configService']=_0x4ea211,this['router']=(0x0,rr['Router'])();let _0x197882=_0x4ea211[_0x343bea(0x238)](_0x343bea(0x577));this['router']['post'](_0x343bea(0x3df),..._0x5259a5,async(_0x208b4d,_0xe4cf65)=>{const _0x445f92=_0x343bea;let {instanceName:_0x447a16,apikey:_0x41b6f8,number:_0x1abd17}=_0x208b4d['body'],_0x3da38c=await ae['createInstance']({'instanceName':_0x447a16,'apikey':_0x41b6f8,'number':_0x1abd17});return _0xe4cf65[_0x445f92(0x6e9)](0xc9)[_0x445f92(0x60d)](_0x3da38c);})[_0x343bea(0x233)](this['routerPath'](_0x343bea(0x6c8)),..._0x5259a5,async(_0x18612d,_0x90a18f)=>{const _0x5dd44b=_0x343bea;let _0x10ca04=await this[_0x5dd44b(0x2c0)]({'request':_0x18612d,'schema':M,'ClassRef':S,'execute':_0x58c833=>ae[_0x5dd44b(0x637)](_0x58c833)});return _0x90a18f[_0x5dd44b(0x6e9)](0xc8)[_0x5dd44b(0x60d)](_0x10ca04);})[_0x343bea(0x238)](this[_0x343bea(0x66c)](_0x343bea(0x61d)),..._0x5259a5,async(_0x2f6df4,_0x57a1a7)=>{const _0x28a045=_0x343bea;let _0x450be2=await this[_0x28a045(0x2c0)]({'request':_0x2f6df4,'schema':M,'ClassRef':S,'execute':_0xa73f71=>ae['connectToWhatsappController'](_0xa73f71)});return _0x57a1a7[_0x28a045(0x6e9)](0xc8)[_0x28a045(0x60d)](_0x450be2);})[_0x343bea(0x238)](this['routerPath']('connectionState'),..._0x5259a5,async(_0x58de1e,_0x18e4f1)=>{const _0x10c9ba=_0x343bea;let _0x55a7a9=await this[_0x10c9ba(0x2c0)]({'request':_0x58de1e,'schema':M,'ClassRef':S,'execute':_0x3c808e=>ae[_0x10c9ba(0x692)](_0x3c808e)});return _0x18e4f1[_0x10c9ba(0x6e9)](0xc8)[_0x10c9ba(0x60d)](_0x55a7a9);})[_0x343bea(0x238)](this['routerPath'](_0x343bea(0x613),!0x1),..._0x5259a5,async(_0x3e7eb0,_0x162fbe)=>{const _0x2712d5=_0x343bea;let _0x21b90f=await this['dataValidate']({'request':_0x3e7eb0,'schema':null,'ClassRef':S,'execute':_0x201380=>ae[_0x2712d5(0x613)](_0x201380)});return _0x162fbe[_0x2712d5(0x6e9)](0xc8)['json'](_0x21b90f);})[_0x343bea(0x606)](this['routerPath']('logout'),..._0x5259a5,async(_0x242a48,_0x2fa251)=>{const _0x1938db=_0x343bea;let _0x6c66b0=await this[_0x1938db(0x2c0)]({'request':_0x242a48,'schema':M,'ClassRef':S,'execute':_0x3e7adf=>ae[_0x1938db(0x416)](_0x3e7adf)});return _0x2fa251['status'](0xc8)[_0x1938db(0x60d)](_0x6c66b0);})[_0x343bea(0x606)](this[_0x343bea(0x66c)](_0x343bea(0x606)),..._0x5259a5,async(_0x379442,_0x5db6f5)=>{const _0x50f142=_0x343bea;let _0x4c8699=await this['dataValidate']({'request':_0x379442,'schema':M,'ClassRef':S,'execute':_0x44ef3d=>ae[_0x50f142(0x68f)](_0x44ef3d)});return _0x5db6f5[_0x50f142(0x6e9)](0xc8)['json'](_0x4c8699);});}},ir=require('express'),gs=class{},G=class extends gs{},ut=class extends G{},dt=class extends G{},pt=class extends G{},ht=class extends G{},Ce=class extends G{},gt=class extends G{},mt=class extends G{},ft=class extends G{},wt=class extends G{},yt=class extends G{},bt=class{},St=class extends U{constructor(..._0x2196e0){const _0x25212d=a0_0x28b734;super(),this[_0x25212d(0x4b3)]=(0x0,ir[_0x25212d(0x476)])(),this[_0x25212d(0x4b3)][_0x25212d(0x820)](this['routerPath'](_0x25212d(0x562)),..._0x2196e0,async(_0x566235,_0x41c702)=>{const _0x359064=_0x25212d;let _0x460085=await this[_0x359064(0x2c0)]({'request':_0x566235,'schema':Ma,'ClassRef':ut,'execute':(_0x4eb193,_0x192659)=>B[_0x359064(0x562)](_0x4eb193,_0x192659)});return _0x41c702[_0x359064(0x6e9)](0xc9)[_0x359064(0x60d)](_0x460085);})['post'](this[_0x25212d(0x66c)](_0x25212d(0x772)),..._0x2196e0,async(_0x16f94d,_0x21ee7b)=>{const _0x364024=_0x25212d;let _0x19a504=await this[_0x364024(0x2c0)]({'request':_0x16f94d,'schema':Ta,'ClassRef':Ce,'execute':(_0x175900,_0xecac16)=>B[_0x364024(0x772)](_0x175900,_0xecac16)});return _0x21ee7b[_0x364024(0x6e9)](0xc9)['json'](_0x19a504);})[_0x25212d(0x820)](this[_0x25212d(0x66c)]('sendMenu'),..._0x2196e0,async(_0x320e5e,_0x3c5b41)=>{const _0x1050a5=_0x25212d;let _0x439324=await this[_0x1050a5(0x2c0)]({'request':_0x320e5e,'schema':Ia,'ClassRef':ht,'execute':(_0x7f71e2,_0x2a27f0)=>B[_0x1050a5(0x1f7)](_0x7f71e2,_0x2a27f0)});return _0x3c5b41[_0x1050a5(0x6e9)](0xc9)[_0x1050a5(0x60d)](_0x439324);})[_0x25212d(0x820)](this[_0x25212d(0x66c)](_0x25212d(0x515)),..._0x2196e0,async(_0x3a980e,_0xf11176)=>{const _0x3d53b8=_0x25212d;let _0x362707=await this[_0x3d53b8(0x2c0)]({'request':_0x3a980e,'schema':Oa,'ClassRef':Ce,'execute':(_0x56a660,_0x3f5084)=>B['sendWhatsAppAudio'](_0x56a660,_0x3f5084)});return _0xf11176[_0x3d53b8(0x6e9)](0xc9)['json'](_0x362707);})[_0x25212d(0x820)](this[_0x25212d(0x66c)](_0x25212d(0x7a4)),..._0x2196e0,async(_0x4faca7,_0x1023f0)=>{const _0x2d123c=_0x25212d;let _0x51e5b8=await this[_0x2d123c(0x2c0)]({'request':_0x4faca7,'schema':xa,'ClassRef':mt,'execute':(_0x2dc0b2,_0x457d94)=>B['sendButtons'](_0x2dc0b2,_0x457d94)});return _0x1023f0[_0x2d123c(0x6e9)](0xc9)['json'](_0x51e5b8);})[_0x25212d(0x820)](this['routerPath'](_0x25212d(0x3d4)),..._0x2196e0,async(_0x51bcfc,_0x419d1a)=>{const _0x4a0dd2=_0x25212d;let _0x107a2d=await this[_0x4a0dd2(0x2c0)]({'request':_0x51bcfc,'schema':Da,'ClassRef':ft,'execute':(_0x4a9e96,_0x39c26d)=>B['sendLocation'](_0x4a9e96,_0x39c26d)});return _0x419d1a['status'](0xc9)[_0x4a0dd2(0x60d)](_0x107a2d);})['post'](this[_0x25212d(0x66c)](_0x25212d(0x3f0)),..._0x2196e0,async(_0x40a5d3,_0x29d651)=>{const _0x2075f9=_0x25212d;let _0x4b10ff=await this[_0x2075f9(0x2c0)]({'request':_0x40a5d3,'schema':_a,'ClassRef':wt,'execute':(_0x43ffb1,_0x563653)=>B[_0x2075f9(0x3f0)](_0x43ffb1,_0x563653)});return _0x29d651[_0x2075f9(0x6e9)](0xc9)[_0x2075f9(0x60d)](_0x4b10ff);})['post'](this[_0x25212d(0x66c)](_0x25212d(0x334)),..._0x2196e0,async(_0x2f8bbc,_0x161d02)=>{const _0x2dde46=_0x25212d;let _0x4d18bb=await this[_0x2dde46(0x2c0)]({'request':_0x2f8bbc,'schema':Pa,'ClassRef':yt,'execute':(_0x177520,_0xf67ee8)=>B[_0x2dde46(0x334)](_0x177520,_0xf67ee8)});return _0x161d02[_0x2dde46(0x6e9)](0xc9)['json'](_0x4d18bb);})[_0x25212d(0x820)](this[_0x25212d(0x66c)](_0x25212d(0x219)),..._0x2196e0,async(_0x31281a,_0x4339cf)=>{const _0x596834=_0x25212d;let _0x567a1e=await this[_0x596834(0x2c0)]({'request':_0x31281a,'schema':$a,'ClassRef':bt,'execute':(_0x24fa75,_0x5ee807)=>B[_0x596834(0x219)](_0x24fa75,_0x5ee807)});return _0x4339cf[_0x596834(0x6e9)](0xc9)[_0x596834(0x60d)](_0x567a1e);})[_0x25212d(0x820)](this[_0x25212d(0x66c)](_0x25212d(0x3a5)),..._0x2196e0,async(_0x4b8617,_0x510cca)=>{const _0x1bd195=_0x25212d;let _0x1b5468=await this[_0x1bd195(0x2c0)]({'request':_0x4b8617,'schema':Aa,'ClassRef':pt,'execute':(_0x15e876,_0x1d123c)=>B[_0x1bd195(0x3a5)](_0x15e876,_0x1d123c)});return _0x510cca['status'](0xc9)[_0x1bd195(0x60d)](_0x1b5468);})[_0x25212d(0x820)](this['routerPath'](_0x25212d(0x509)),..._0x2196e0,async(_0x12f826,_0x458448)=>{const _0xacaa7b=_0x25212d;let _0x2dc947=await this['dataValidate']({'request':_0x12f826,'schema':Ra,'ClassRef':dt,'execute':(_0x2ed339,_0x49cccd)=>B[_0xacaa7b(0x509)](_0x2ed339,_0x49cccd)});return _0x458448[_0xacaa7b(0x6e9)](0xc9)['json'](_0x2dc947);})[_0x25212d(0x820)](this[_0x25212d(0x66c)](_0x25212d(0x63b)),..._0x2196e0,async(_0xbadc86,_0x4a989c)=>{const _0x533384=_0x25212d;let _0x4e2a4a=await this[_0x533384(0x2c0)]({'request':_0xbadc86,'schema':Na,'ClassRef':gt,'execute':(_0x2f4082,_0x26dcbe)=>B[_0x533384(0x63b)](_0x2f4082,_0x26dcbe)});return _0x4a989c['status'](0xc9)[_0x533384(0x60d)](_0x4e2a4a);});}},or=require('express'),Et=class{},Ct=class extends U{constructor(..._0x4e12de){const _0x1767ea=a0_0x28b734;super(),this[_0x1767ea(0x4b3)]=(0x0,or['Router'])(),this[_0x1767ea(0x4b3)][_0x1767ea(0x820)](this[_0x1767ea(0x66c)](_0x1767ea(0x67b)),..._0x4e12de,async(_0x39d57c,_0x269a7d)=>{const _0x406252=_0x1767ea;let _0x4a981a=await this['dataValidate']({'request':_0x39d57c,'schema':tr,'ClassRef':Et,'execute':(_0x235a91,_0x1c49b9)=>ms[_0x406252(0x342)](_0x235a91,_0x1c49b9)});_0x269a7d[_0x406252(0x6e9)](0xc9)[_0x406252(0x60d)](_0x4a981a);})['get'](this[_0x1767ea(0x66c)](_0x1767ea(0x79e)),..._0x4e12de,async(_0x1b8d14,_0x21c8cd)=>{const _0x3f783f=_0x1767ea;let _0x2012df=await this['dataValidate']({'request':_0x1b8d14,'schema':M,'ClassRef':S,'execute':_0x343fe7=>ms[_0x3f783f(0x7e4)](_0x343fe7)});_0x21c8cd[_0x3f783f(0x6e9)](0xc8)['json'](_0x2012df);});}},nr=require('express'),y=new v(a0_0x28b734(0x798)),Mt=class extends U{constructor(..._0x3cd17c){const _0x5eaa92=a0_0x28b734;super(),this[_0x5eaa92(0x4b3)]=(0x0,nr['Router'])(),this[_0x5eaa92(0x4b3)][_0x5eaa92(0x820)](this[_0x5eaa92(0x66c)]('scheduleMessage'),..._0x3cd17c,async(_0x5b3200,_0x16a7fc)=>{const _0xd337bc=_0x5eaa92;let _0x37f9e5=_0x5b3200[_0xd337bc(0x1c3)];y['verbose'](_0xd337bc(0x1d5)),y[_0xd337bc(0x62f)](_0xd337bc(0x75d)),y[_0xd337bc(0x62f)](_0x5b3200[_0xd337bc(0x1c3)]);let _0x1a4d3e=await this[_0xd337bc(0x2c0)]({'request':_0x5b3200,'schema':M,'ClassRef':S,'execute':_0xc301d5=>O[_0xd337bc(0x581)](_0xc301d5,_0x37f9e5)});_0x16a7fc[_0xd337bc(0x6e9)](0xc8)['json'](_0x1a4d3e);})['get'](this[_0x5eaa92(0x66c)](_0x5eaa92(0x712)),..._0x3cd17c,async(_0x47039a,_0x37c055)=>{const _0x41c24b=_0x5eaa92;let _0x52a09a=await this[_0x41c24b(0x2c0)]({'request':_0x47039a,'schema':M,'ClassRef':S,'execute':_0x1a90f4=>O[_0x41c24b(0x1ac)](_0x1a90f4)});_0x37c055[_0x41c24b(0x6e9)](0xc8)[_0x41c24b(0x60d)](_0x52a09a);})[_0x5eaa92(0x606)](this[_0x5eaa92(0x66c)](_0x5eaa92(0x5e8)),..._0x3cd17c,async(_0x249cf6,_0x5af222)=>{const _0x196fef=_0x5eaa92;y[_0x196fef(0x62f)](_0x196fef(0x7b2));let _0x2873a7=await this[_0x196fef(0x2c0)]({'request':_0x249cf6,'schema':M,'ClassRef':S,'execute':_0x1784ad=>O['deleteDoneMessages'](_0x1784ad)});_0x5af222[_0x196fef(0x6e9)](0xc8)[_0x196fef(0x60d)](_0x2873a7);})['post'](this['routerPath']('startFlow'),..._0x3cd17c,async(_0x4f1d98,_0x20c03b)=>{const _0x318c0f=_0x5eaa92;let _0x378a40=_0x4f1d98[_0x318c0f(0x1c3)];y[_0x318c0f(0x62f)](_0x318c0f(0x22d)),y[_0x318c0f(0x62f)]('request\x20body:\x20'),y['verbose'](_0x4f1d98[_0x318c0f(0x1c3)]);let _0x3948d5=await this['dataValidate']({'request':_0x4f1d98,'schema':M,'ClassRef':S,'execute':_0x806753=>O[_0x318c0f(0x7d6)](_0x806753,_0x378a40)});_0x20c03b[_0x318c0f(0x6e9)](0xc8)['json'](_0x3948d5);})[_0x5eaa92(0x238)](this[_0x5eaa92(0x66c)]('getAutomateSystem'),..._0x3cd17c,async(_0x1e10f0,_0x1be54d)=>{const _0x5606b0=_0x5eaa92;y[_0x5606b0(0x62f)](_0x5606b0(0x2b4));let _0xcfe3d3=await this['dataValidate']({'request':_0x1e10f0,'schema':M,'ClassRef':S,'execute':_0x84308f=>O['getAutomateSystem'](_0x84308f)});_0x1be54d[_0x5606b0(0x6e9)](0xc8)[_0x5606b0(0x60d)](_0xcfe3d3);})[_0x5eaa92(0x238)](this['routerPath'](_0x5eaa92(0x4ad)),..._0x3cd17c,async(_0x57f1f5,_0x2e535d)=>{const _0x23bc5d=_0x5eaa92;y['verbose']('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0x91c08f=await this['dataValidate']({'request':_0x57f1f5,'schema':M,'ClassRef':S,'execute':_0x31a6d2=>O[_0x23bc5d(0x3b5)](_0x31a6d2)});_0x2e535d[_0x23bc5d(0x6e9)](0xc8)[_0x23bc5d(0x60d)](_0x91c08f);})[_0x5eaa92(0x820)](this[_0x5eaa92(0x66c)](_0x5eaa92(0x80e)),..._0x3cd17c,async(_0x5906a6,_0x1cfaa6)=>{const _0x1fbcf4=_0x5eaa92;let _0x58a4dd=_0x5906a6[_0x1fbcf4(0x1c3)];y[_0x1fbcf4(0x62f)](_0x1fbcf4(0x7ec)),y[_0x1fbcf4(0x62f)](_0x1fbcf4(0x75d)),y[_0x1fbcf4(0x62f)](_0x5906a6[_0x1fbcf4(0x1c3)]);let _0x9241c2=await this[_0x1fbcf4(0x2c0)]({'request':_0x5906a6,'schema':M,'ClassRef':S,'execute':_0x5959e6=>O[_0x1fbcf4(0x80e)](_0x5959e6,_0x58a4dd)});_0x1cfaa6[_0x1fbcf4(0x6e9)](0xc8)[_0x1fbcf4(0x60d)](_0x9241c2);})['post'](this[_0x5eaa92(0x66c)](_0x5eaa92(0x45c)),..._0x3cd17c,async(_0x150218,_0x84f9a7)=>{const _0x5b8f00=_0x5eaa92;let _0x275a85=_0x150218['body'];y[_0x5b8f00(0x62f)](_0x5b8f00(0x2aa)),y[_0x5b8f00(0x62f)](_0x5b8f00(0x75d)),y[_0x5b8f00(0x62f)](_0x150218[_0x5b8f00(0x1c3)]);let _0x55f410=await this[_0x5b8f00(0x2c0)]({'request':_0x150218,'schema':M,'ClassRef':S,'execute':_0x3cfdf6=>O[_0x5b8f00(0x45c)](_0x3cfdf6,_0x275a85)});_0x84f9a7['status'](0xc8)[_0x5b8f00(0x60d)](_0x55f410);})['post'](this[_0x5eaa92(0x66c)](_0x5eaa92(0x42e)),..._0x3cd17c,async(_0x58cc31,_0x30c26f)=>{const _0x5800e8=_0x5eaa92;let _0x428f3c=_0x58cc31[_0x5800e8(0x1c3)];y[_0x5800e8(0x62f)](_0x5800e8(0x673)),y['verbose'](_0x5800e8(0x75d)),y['verbose'](_0x58cc31[_0x5800e8(0x1c3)]);let _0x435e24=await this[_0x5800e8(0x2c0)]({'request':_0x58cc31,'schema':M,'ClassRef':S,'execute':_0x2d4bd3=>O['updateFlowConfig'](_0x2d4bd3,_0x428f3c)});_0x30c26f['status'](0xc8)[_0x5800e8(0x60d)](_0x435e24);})[_0x5eaa92(0x820)](this[_0x5eaa92(0x66c)](_0x5eaa92(0x5bb)),..._0x3cd17c,async(_0x48c103,_0x174d22)=>{const _0x50c4d4=_0x5eaa92;let _0x32f8c5=_0x48c103[_0x50c4d4(0x1c3)];y['verbose']('request\x20received\x20in\x20getConversation'),y[_0x50c4d4(0x62f)](_0x50c4d4(0x75d)),y[_0x50c4d4(0x62f)](_0x48c103[_0x50c4d4(0x1c3)]);let _0xb4fb0b=await this[_0x50c4d4(0x2c0)]({'request':_0x48c103,'schema':M,'ClassRef':S,'execute':_0x4203b7=>O[_0x50c4d4(0x5bb)](_0x4203b7,_0x32f8c5)});_0x174d22[_0x50c4d4(0x6e9)](0xc8)[_0x50c4d4(0x60d)](_0xb4fb0b);})[_0x5eaa92(0x820)](this[_0x5eaa92(0x66c)](_0x5eaa92(0x730)),..._0x3cd17c,async(_0x3f9109,_0x117670)=>{const _0x602219=_0x5eaa92;let _0x54f315=_0x3f9109['body'];y[_0x602219(0x62f)](_0x602219(0x799)),y[_0x602219(0x62f)](_0x602219(0x75d)),y['verbose'](_0x3f9109[_0x602219(0x1c3)]);let _0x241846=await this[_0x602219(0x2c0)]({'request':_0x3f9109,'schema':M,'ClassRef':S,'execute':_0x44136c=>O['fetchConversation'](_0x44136c,_0x54f315)});_0x117670[_0x602219(0x6e9)](0xc8)[_0x602219(0x60d)](_0x241846);})[_0x5eaa92(0x820)](this[_0x5eaa92(0x66c)]('editConversation'),..._0x3cd17c,async(_0x2cec02,_0x1ad377)=>{const _0x2746cb=_0x5eaa92;let _0x18cbb3=_0x2cec02['body'];y[_0x2746cb(0x62f)](_0x2746cb(0x5c9)),y[_0x2746cb(0x62f)](_0x2746cb(0x75d)),y['verbose'](_0x2cec02[_0x2746cb(0x1c3)]);let _0x41a054=await this[_0x2746cb(0x2c0)]({'request':_0x2cec02,'schema':M,'ClassRef':S,'execute':_0x3cbaef=>O[_0x2746cb(0x6b2)](_0x3cbaef,_0x18cbb3)});_0x1ad377[_0x2746cb(0x6e9)](0xc8)['json'](_0x41a054);})['delete'](this[_0x5eaa92(0x66c)](_0x5eaa92(0x766)),..._0x3cd17c,async(_0x3068e9,_0x4323f2)=>{const _0xc2f50b=_0x5eaa92;let _0x51a1b7=_0x3068e9['body'];y[_0xc2f50b(0x62f)]('request\x20received\x20in\x20deleteConversation'),y[_0xc2f50b(0x62f)]('request\x20body:\x20'),y['verbose'](_0x3068e9['body']);let _0xc5e26=await this['dataValidate']({'request':_0x3068e9,'schema':M,'ClassRef':S,'execute':_0x50ca61=>O[_0xc2f50b(0x766)](_0x50ca61,_0x51a1b7)});_0x4323f2[_0xc2f50b(0x6e9)](0xc8)[_0xc2f50b(0x60d)](_0xc5e26);})[_0x5eaa92(0x820)](this[_0x5eaa92(0x66c)](_0x5eaa92(0x4f0)),..._0x3cd17c,async(_0x267213,_0x32faea)=>{const _0x6c526f=_0x5eaa92;let _0x4b30cd=_0x267213[_0x6c526f(0x1c3)];y[_0x6c526f(0x62f)]('request\x20received\x20in\x20createFlow'),y[_0x6c526f(0x62f)]('request\x20body:\x20'),y[_0x6c526f(0x62f)](_0x267213['body']);let _0x45213a=await this[_0x6c526f(0x2c0)]({'request':_0x267213,'schema':M,'ClassRef':S,'execute':_0x5dc63b=>O[_0x6c526f(0x326)](_0x5dc63b,_0x4b30cd)});_0x32faea[_0x6c526f(0x6e9)](0xc8)[_0x6c526f(0x60d)](_0x45213a);})[_0x5eaa92(0x820)](this[_0x5eaa92(0x66c)]('editflow'),..._0x3cd17c,async(_0x3cea02,_0x5be43f)=>{const _0x542162=_0x5eaa92;let _0x574954=_0x3cea02[_0x542162(0x1c3)];y[_0x542162(0x62f)]('request\x20received\x20in\x20editFlow'),y[_0x542162(0x62f)]('request\x20body:\x20'),y[_0x542162(0x62f)](_0x3cea02[_0x542162(0x1c3)]),delete _0x574954[_0x542162(0x511)],delete _0x574954['variables'],delete _0x574954[_0x542162(0x5ea)],delete _0x574954[_0x542162(0x55e)];let _0x536758=await this['dataValidate']({'request':_0x3cea02,'schema':M,'ClassRef':S,'execute':_0x5861cf=>O[_0x542162(0x450)](_0x5861cf,_0x574954)});_0x5be43f[_0x542162(0x6e9)](0xc8)[_0x542162(0x60d)](_0x536758);})['post'](this[_0x5eaa92(0x66c)](_0x5eaa92(0x474)),..._0x3cd17c,async(_0x1512d0,_0x5872d6)=>{const _0x2e1aa8=_0x5eaa92;let _0x245e11=_0x1512d0[_0x2e1aa8(0x1c3)];y['verbose'](_0x2e1aa8(0x417)),y[_0x2e1aa8(0x62f)](_0x2e1aa8(0x75d)),y[_0x2e1aa8(0x62f)](_0x1512d0[_0x2e1aa8(0x1c3)]);let _0x466e99=await this[_0x2e1aa8(0x2c0)]({'request':_0x1512d0,'schema':M,'ClassRef':S,'execute':_0x4f31d9=>O[_0x2e1aa8(0x75f)](_0x4f31d9,_0x245e11)});_0x5872d6[_0x2e1aa8(0x6e9)](0xc8)[_0x2e1aa8(0x60d)](_0x466e99);})[_0x5eaa92(0x820)](this[_0x5eaa92(0x66c)](_0x5eaa92(0x5d8)),..._0x3cd17c,async(_0x5a06cd,_0x43a184)=>{const _0xeaf09e=_0x5eaa92;let _0x124025=_0x5a06cd[_0xeaf09e(0x1c3)];y[_0xeaf09e(0x62f)](_0xeaf09e(0x417)),y[_0xeaf09e(0x62f)](_0xeaf09e(0x75d)),y[_0xeaf09e(0x62f)](_0x5a06cd['body']);let _0x12c80d=await this['dataValidate']({'request':_0x5a06cd,'schema':M,'ClassRef':S,'execute':_0xd05b2f=>O[_0xeaf09e(0x4a2)](_0xd05b2f,_0x124025)});_0x43a184[_0xeaf09e(0x6e9)](0xc8)['json'](_0x12c80d);})[_0x5eaa92(0x820)](this[_0x5eaa92(0x66c)]('editflowvaredit'),..._0x3cd17c,async(_0x1dffee,_0x3827c8)=>{const _0x17d3ef=_0x5eaa92;let _0x4c2ad9=_0x1dffee['body'];y['verbose'](_0x17d3ef(0x417)),y[_0x17d3ef(0x62f)](_0x17d3ef(0x75d)),y[_0x17d3ef(0x62f)](_0x1dffee[_0x17d3ef(0x1c3)]);let _0x576e81=await this[_0x17d3ef(0x2c0)]({'request':_0x1dffee,'schema':M,'ClassRef':S,'execute':_0xcb9efc=>O['editFlowVaredit'](_0xcb9efc,_0x4c2ad9)});_0x3827c8['status'](0xc8)[_0x17d3ef(0x60d)](_0x576e81);})[_0x5eaa92(0x820)](this[_0x5eaa92(0x66c)](_0x5eaa92(0x19f)),..._0x3cd17c,async(_0x253f5a,_0x59d75d)=>{const _0x435c8e=_0x5eaa92;let _0x209fef=_0x253f5a[_0x435c8e(0x1c3)];y[_0x435c8e(0x62f)](_0x435c8e(0x709)),y['verbose']('request\x20body:\x20'),y[_0x435c8e(0x62f)](_0x253f5a[_0x435c8e(0x1c3)]);let _0x574fe9=await this['dataValidate']({'request':_0x253f5a,'schema':M,'ClassRef':S,'execute':_0x3be3e4=>O['editFlowGroup'](_0x3be3e4,_0x209fef)});_0x59d75d[_0x435c8e(0x6e9)](0xc8)[_0x435c8e(0x60d)](_0x574fe9);})[_0x5eaa92(0x820)](this['routerPath'](_0x5eaa92(0x764)),..._0x3cd17c,async(_0x3daa92,_0x12ed17)=>{const _0x25a65c=_0x5eaa92;let _0x3b5a25=_0x3daa92['body'];y[_0x25a65c(0x62f)](_0x25a65c(0x6f4)),y[_0x25a65c(0x62f)](_0x25a65c(0x75d)),y[_0x25a65c(0x62f)](_0x3daa92[_0x25a65c(0x1c3)]);let _0xc5d7dc=await this[_0x25a65c(0x2c0)]({'request':_0x3daa92,'schema':M,'ClassRef':S,'execute':_0x2ae73a=>O['editFlowCondition'](_0x2ae73a,_0x3b5a25)});_0x12ed17['status'](0xc8)[_0x25a65c(0x60d)](_0xc5d7dc);})[_0x5eaa92(0x820)](this[_0x5eaa92(0x66c)]('editflowvariable'),..._0x3cd17c,async(_0x27d75b,_0x33dd1e)=>{const _0x3df239=_0x5eaa92;let _0x3dbbff=_0x27d75b['body'];y['verbose'](_0x3df239(0x4ce)),y['verbose']('request\x20body:\x20'),y[_0x3df239(0x62f)](_0x27d75b[_0x3df239(0x1c3)]);let _0x506d47=await this['dataValidate']({'request':_0x27d75b,'schema':M,'ClassRef':S,'execute':_0x3f05ec=>O[_0x3df239(0x62c)](_0x3f05ec,_0x3dbbff)});_0x33dd1e[_0x3df239(0x6e9)](0xc8)['json'](_0x506d47);})[_0x5eaa92(0x820)](this[_0x5eaa92(0x66c)]('getflow'),..._0x3cd17c,async(_0x3a644c,_0x523e5c)=>{const _0x4b2d65=_0x5eaa92;let _0x12d71c=_0x3a644c[_0x4b2d65(0x1c3)];y[_0x4b2d65(0x62f)]('request\x20received\x20in\x20getFlow'),y[_0x4b2d65(0x62f)]('request\x20body:\x20'),y[_0x4b2d65(0x62f)](_0x3a644c['body']);let _0x31a87a=await this[_0x4b2d65(0x2c0)]({'request':_0x3a644c,'schema':M,'ClassRef':S,'execute':_0x4b3cbf=>O[_0x4b2d65(0x5f9)](_0x4b3cbf,_0x12d71c)});_0x523e5c[_0x4b2d65(0x6e9)](0xc8)[_0x4b2d65(0x60d)](_0x31a87a);})['delete'](this['routerPath'](_0x5eaa92(0x1f4)),..._0x3cd17c,async(_0x258b36,_0x5fc049)=>{const _0x23f444=_0x5eaa92;let _0x4d40b3=_0x258b36[_0x23f444(0x1c3)];y[_0x23f444(0x62f)](_0x23f444(0x45d)),y[_0x23f444(0x62f)](_0x23f444(0x75d)),y[_0x23f444(0x62f)](_0x258b36[_0x23f444(0x1c3)]);let _0xd21726=await this[_0x23f444(0x2c0)]({'request':_0x258b36,'schema':M,'ClassRef':S,'execute':_0x1084e1=>O['deleteFlow'](_0x1084e1,_0x4d40b3)});_0x5fc049[_0x23f444(0x6e9)](0xc8)[_0x23f444(0x60d)](_0xd21726);})[_0x5eaa92(0x238)](this[_0x5eaa92(0x66c)](_0x5eaa92(0x80a)),..._0x3cd17c,async(_0x3df05c,_0x13aef7)=>{const _0x2304f9=_0x5eaa92;y[_0x2304f9(0x62f)](_0x2304f9(0x3f2));let _0x57ff6c=await this['dataValidate']({'request':_0x3df05c,'schema':M,'ClassRef':S,'execute':_0x20403a=>O['allFlows'](_0x20403a)});_0x13aef7['status'](0xc8)['json'](_0x57ff6c);});}},dr=T(require(a0_0x28b734(0x1c0))),Y={};function cr(_0x417d66,_0x189c72,_0x14fb5d,_0x313e74){Y[_0x417d66]||(Y[_0x417d66]={}),Y[_0x417d66][_0x189c72]={'id':_0x189c72,'response':_0x14fb5d,'events':_0x313e74};}function lr(_0x3509d1,_0x35552b){!Y[_0x3509d1]||!Y[_0x3509d1][_0x35552b]||delete Y[_0x3509d1][_0x35552b];}function q(_0x3c9157,_0x48bcc4,_0x516b10){const _0x14fb7e=a0_0x28b734;if(!Y[_0x3c9157])return;let _0x1a7e34=_0x14fb7e(0x67f)+JSON['stringify'](_0x516b10)+'\x0a\x0a';Object[_0x14fb7e(0x54d)](Y[_0x3c9157])[_0x14fb7e(0x757)](_0x12e9f6=>{const _0x46ca66=_0x14fb7e;_0x12e9f6[_0x46ca66(0x73a)]['includes'](_0x48bcc4)&&_0x12e9f6[_0x46ca66(0x6ab)][_0x46ca66(0x3cb)](_0x1a7e34);});}function ur(){const _0x4005e3=a0_0x28b734;let _0x4fa537={};for(let _0xdb9303 in Y)_0x4fa537[_0xdb9303]=Object[_0x4005e3(0x54d)](Y[_0xdb9303])['map'](_0x3b584d=>({'id':_0x3b584d['id'],'events':_0x3b584d['events']}));return _0x4fa537;}var pr=require(a0_0x28b734(0x5ae)),ws=require(a0_0x28b734(0x675)),fs=class{},li=new ws[(a0_0x28b734(0x318))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),ui=new ws[(a0_0x28b734(0x318))]({'_id':{'type':String,'default':a0_0x28b734(0x26c)},'WebhookGlobal':{'type':li},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),we=R?.[a0_0x28b734(0x45e)](fs[a0_0x28b734(0x69a)],ui,a0_0x28b734(0x46b)),di=dr[a0_0x28b734(0x4d7)][a0_0x28b734(0x67e)](__dirname,a0_0x28b734(0x4a8)),Nt=(0x0,vt[a0_0x28b734(0x476)])(),pi=b[a0_0x28b734(0x238)](a0_0x28b734(0x577))[a0_0x28b734(0x226)],ee=[ya,ba,Ca[pi]];Nt[a0_0x28b734(0x508)](a0_0x28b734(0x2de),vt[a0_0x28b734(0x4d7)][a0_0x28b734(0x1cc)](di))['get'](a0_0x28b734(0x248),async(_0x332f1c,_0x3b678c)=>{const _0x36ff00=a0_0x28b734;console['log'](_0x36ff00(0x3c7));let _0x1c8a9b=_0x332f1c[_0x36ff00(0x7ba)][_0x36ff00(0x362)],_0x4c61f2=(_0x332f1c[_0x36ff00(0x1ae)][_0x36ff00(0x73a)]||'')[_0x36ff00(0x5ac)](','),_0x349df6=(0x0,pr['v4'])();console[_0x36ff00(0x38a)](_0x36ff00(0x20c),_0x1c8a9b),console[_0x36ff00(0x38a)]('Subscribed\x20Events:',_0x4c61f2);let _0x653e88=b['get'](_0x36ff00(0x577))[_0x36ff00(0x3db)],_0x20112e=_0x332f1c[_0x36ff00(0x1ae)][_0x36ff00(0x384)];if(console[_0x36ff00(0x38a)]('API\x20Key\x20from\x20Request:',_0x20112e),_0x653e88['KEY']!==_0x20112e){console['log'](_0x36ff00(0x812));try{let _0x34d4d9=await ce[_0x36ff00(0x445)][_0x36ff00(0x79e)](_0x1c8a9b);if(console[_0x36ff00(0x38a)]('Instance\x20Key\x20from\x20DB:',_0x34d4d9),!_0x34d4d9||_0x34d4d9[_0x36ff00(0x384)]!==_0x20112e)return console[_0x36ff00(0x38a)](_0x36ff00(0x431)),_0x3b678c[_0x36ff00(0x6e9)](0x191)[_0x36ff00(0x5ce)](_0x36ff00(0x1ad));}catch(_0x2c0361){return console[_0x36ff00(0x6f1)](_0x36ff00(0x3f8),_0x2c0361),_0x3b678c['status'](0x191)[_0x36ff00(0x5ce)](_0x36ff00(0x6b4));}}if(!await ze(_0x1c8a9b))return _0x3b678c[_0x36ff00(0x6e9)](0x194)['send'](_0x36ff00(0x393));_0x3b678c[_0x36ff00(0x1db)](_0x36ff00(0x281),_0x36ff00(0x7ed)),_0x3b678c[_0x36ff00(0x1db)](_0x36ff00(0x2c9),'no-cache'),_0x3b678c['setHeader'](_0x36ff00(0x258),'keep-alive'),_0x3b678c[_0x36ff00(0x510)]();let _0x22dd59='data:\x20'+JSON[_0x36ff00(0x463)]({'info':_0x36ff00(0x386)})+'\x0a\x0a';_0x3b678c[_0x36ff00(0x3cb)](_0x22dd59),cr(_0x1c8a9b,_0x349df6,_0x3b678c,_0x4c61f2),_0x332f1c['on'](_0x36ff00(0x5f4),()=>{const _0x38362a=_0x36ff00;console['log'](_0x38362a(0x57d)+_0x1c8a9b),lr(_0x1c8a9b,_0x349df6);});}),Nt[a0_0x28b734(0x238)](a0_0x28b734(0x570),(_0xef1353,_0x37c076)=>{let _0x26a2cf=ur();_0x37c076['json'](_0x26a2cf);})[a0_0x28b734(0x238)]('/',(_0x36ed5b,_0x35e0b5)=>{const _0x1f7d40=a0_0x28b734;let _0x44c781=b['get'](_0x1f7d40(0x57a))[_0x1f7d40(0x584)];if(_0x44c781){let _0x42621a=encodeURIComponent(''+_0x44c781);_0x35e0b5['redirect'](_0x1f7d40(0x4f9)+_0x42621a);return;}let _0xf12a79=b['get']('SSL_CONF'),_0x2bc94e=_0xf12a79&&_0xf12a79[_0x1f7d40(0x7b5)][_0x1f7d40(0x5ac)]('/')[0x4];if(_0x2bc94e){let _0x311d50=encodeURIComponent(_0x1f7d40(0x31a)+_0x2bc94e);_0x35e0b5[_0x1f7d40(0x4ff)](_0x1f7d40(0x4f9)+_0x311d50);}else _0x35e0b5[_0x1f7d40(0x4ff)](_0x1f7d40(0x3f7));})['put'](a0_0x28b734(0x2f4),...ee,async(_0x5cc577,_0x2fc456)=>{const _0x2a001b=a0_0x28b734;try{console['log']('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x2fc456[_0x2a001b(0x6e9)](0xc8)[_0x2a001b(0x60d)]({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x2fc456['on']('finish',()=>process['exit'](0x0));}catch(_0xdbefad){console[_0x2a001b(0x6f1)]('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0xdbefad),_0x2fc456[_0x2a001b(0x6e9)](0x1f4)['json']({'message':_0x2a001b(0x811)});}})[a0_0x28b734(0x233)]('/config',...ee,async(_0x31c1ef,_0x4a7d73)=>{const _0x3fa2b4=a0_0x28b734;try{let _0x4d6430=_0x31c1ef[_0x3fa2b4(0x1c3)];await we[_0x3fa2b4(0x49f)]({},{'$set':_0x4d6430},{'upsert':!0x0});let _0x4fcde6=await we[_0x3fa2b4(0x5a7)]();_0x4a7d73[_0x3fa2b4(0x60d)](_0x4fcde6);}catch(_0xf7d198){_0x4a7d73[_0x3fa2b4(0x6e9)](0x190)['send'](_0xf7d198[_0x3fa2b4(0x638)]);}})[a0_0x28b734(0x238)]('/config',...ee,async(_0x1436d9,_0x471cd1)=>{const _0x1a8dfb=a0_0x28b734;try{let _0x300fd3=await we[_0x1a8dfb(0x5a7)]();if(!_0x300fd3)return _0x471cd1['json']({});_0x471cd1['json'](_0x300fd3);}catch(_0x1930f8){_0x471cd1[_0x1a8dfb(0x6e9)](0x1f4)[_0x1a8dfb(0x5ce)](_0x1930f8[_0x1a8dfb(0x638)]);}})[a0_0x28b734(0x508)](a0_0x28b734(0x244),new lt(b,...ee)[a0_0x28b734(0x4b3)])[a0_0x28b734(0x508)]('/message',new St(...ee)[a0_0x28b734(0x4b3)])[a0_0x28b734(0x508)](a0_0x28b734(0x33a),new Ze(...ee)[a0_0x28b734(0x4b3)])[a0_0x28b734(0x508)]('/group',new ct(...ee)[a0_0x28b734(0x4b3)])[a0_0x28b734(0x508)](a0_0x28b734(0x7fc),new Ct(...ee)['router'])[a0_0x28b734(0x508)](a0_0x28b734(0x1f1),new Mt(...ee)[a0_0x28b734(0x4b3)]);var w=class{constructor(..._0x1b37da){const _0x5809b2=a0_0x28b734;throw{'status':0x190,'error':_0x5809b2(0x698),'message':_0x1b37da['length']>0x0?_0x1b37da:void 0x0};}},Z=class{constructor(..._0x5ee351){const _0x29f904=a0_0x28b734;throw{'status':0x191,'error':'Unauthorized','message':_0x5ee351[_0x29f904(0x2f0)]>0x0?_0x5ee351:void 0x0};}},H=class{constructor(..._0x79a4b){const _0x42470f=a0_0x28b734;throw{'status':0x193,'error':_0x42470f(0x2b1),'message':_0x79a4b[_0x42470f(0x2f0)]>0x0?_0x79a4b:void 0x0};}},k=class{constructor(..._0xb36df8){const _0x4aa1c5=a0_0x28b734;throw{'status':0x194,'error':_0x4aa1c5(0x40f),'message':_0xb36df8[_0x4aa1c5(0x2f0)]>0x0?_0xb36df8:void 0x0};}},I=class{constructor(..._0x2bedc2){const _0x43fd9a=a0_0x28b734;throw{'status':0x1f4,'error':_0x43fd9a(0x3d6),'message':_0x2bedc2[_0x43fd9a(0x2f0)]>0x0?_0x2bedc2:void 0x0};}},le=require(a0_0x28b734(0x3c2));async function ys(_0x1112e4){const _0x3c62d7=a0_0x28b734;let _0x3b3c80=new v(ys['name']),_0x498f0e=R[_0x3c62d7(0x46e)](),_0x1199b7=_0x498f0e['db'](b['get']('DATABASE')[_0x3c62d7(0x81b)][_0x3c62d7(0x804)]+_0x3c62d7(0x4b1))[_0x3c62d7(0x818)](_0x1112e4),_0xfef46b=async(_0x6136f4,_0x475c)=>{const _0x4d8cd5=_0x3c62d7;try{return await _0x498f0e[_0x4d8cd5(0x61d)](),await _0x1199b7[_0x4d8cd5(0x475)]({'_id':_0x475c},JSON['parse'](JSON[_0x4d8cd5(0x463)](_0x6136f4,le[_0x4d8cd5(0x4dd)]['replacer'])),{'upsert':!0x0});}catch{}},_0x1d0d36=async _0x1d66b5=>{const _0x2ff622=_0x3c62d7;try{await _0x498f0e[_0x2ff622(0x61d)]();let _0x3bf873=await _0x1199b7['findOne']({'_id':_0x1d66b5}),_0x944fc8=JSON[_0x2ff622(0x463)](_0x3bf873);return JSON[_0x2ff622(0x678)](_0x944fc8,le[_0x2ff622(0x4dd)][_0x2ff622(0x548)]);}catch{}},_0x11d4cc=async _0x9d7186=>{const _0x586e7e=_0x3c62d7;try{return await _0x498f0e[_0x586e7e(0x61d)](),await _0x1199b7['deleteOne']({'_id':_0x9d7186});}catch{}},_0x52e2d3=await _0x1d0d36(_0x3c62d7(0x30a))||(0x0,le[_0x3c62d7(0x710)])();return{'state':{'creds':_0x52e2d3,'keys':{'get':async(_0x3d182b,_0x25a56a)=>{const _0x5e8356=_0x3c62d7;let _0x59f5da={};return await Promise[_0x5e8356(0x600)](_0x25a56a[_0x5e8356(0x7df)](async _0x1ca6b1=>{const _0x2610ca=_0x5e8356;let _0x19f581=await _0x1d0d36(_0x3d182b+'-'+_0x1ca6b1);_0x3d182b===_0x2610ca(0x7b3)&&_0x19f581&&(_0x19f581=le[_0x2610ca(0x4fc)][_0x2610ca(0x5bf)][_0x2610ca(0x578)]['fromObject'](_0x19f581)),_0x59f5da[_0x1ca6b1]=_0x19f581;})),_0x59f5da;},'set':async _0x526642=>{const _0x178ca6=_0x3c62d7;let _0xb98bcb=[];for(let _0x171b7d in _0x526642)for(let _0x1ce901 in _0x526642[_0x171b7d]){let _0x2d2eef=_0x526642[_0x171b7d][_0x1ce901],_0x40b58d=_0x171b7d+'-'+_0x1ce901;_0xb98bcb[_0x178ca6(0x758)](_0x2d2eef?_0xfef46b(_0x2d2eef,_0x40b58d):_0x11d4cc(_0x40b58d));}await Promise[_0x178ca6(0x600)](_0xb98bcb);}}},'saveCreds':async()=>_0xfef46b(_0x52e2d3,'creds')};}var Cs=T(require(a0_0x28b734(0x7e7))),Ms=T(require(a0_0x28b734(0x5a8))),Ot=require(a0_0x28b734(0x3c2)),hr=require(a0_0x28b734(0x614)),Tt=require(a0_0x28b734(0x3c2)),Rt;function hi(_0x35da9b){const _0x161b95=a0_0x28b734;return Rt||(Rt=(0x0,hr['createClient'])({'url':_0x35da9b[_0x161b95(0x6c5)]}),Rt['connect']()),Rt;}var re=class c{constructor(_0x44f601,_0x1ee281){const _0x166594=a0_0x28b734;this['redisEnv']=_0x44f601,this[_0x166594(0x554)]=_0x1ee281,this[_0x166594(0x780)]=new v(c[_0x166594(0x69a)]),this[_0x166594(0x395)]=hi(_0x44f601);}set[a0_0x28b734(0x7ad)](_0x1e53a6){const _0x5c5c37=a0_0x28b734;this[_0x5c5c37(0x554)]=_0x1e53a6;}async[a0_0x28b734(0x6f7)](){const _0x59f6f9=a0_0x28b734;try{return await this[_0x59f6f9(0x395)][_0x59f6f9(0x599)]([_0x59f6f9(0x732),this[_0x59f6f9(0x4ac)][_0x59f6f9(0x59a)]+':*']);}catch(_0x170819){this['logger']['error'](_0x170819);}}async[a0_0x28b734(0x3a2)](_0x16f5c7,_0x15b11d){const _0x350b4b=a0_0x28b734;try{let _0x4055ee=JSON[_0x350b4b(0x463)](_0x15b11d,Tt['BufferJSON'][_0x350b4b(0x47e)]);return await this['client'][_0x350b4b(0x2c3)](this[_0x350b4b(0x4ac)][_0x350b4b(0x59a)]+':'+this[_0x350b4b(0x554)],_0x16f5c7,_0x4055ee);}catch(_0x461b4c){this[_0x350b4b(0x780)][_0x350b4b(0x6f1)](_0x461b4c);}}async[a0_0x28b734(0x71b)](){const _0x2bf773=a0_0x28b734;try{let _0x2131a6=await this[_0x2bf773(0x395)][_0x2bf773(0x53f)](this[_0x2bf773(0x4ac)][_0x2bf773(0x59a)]+':'+this[_0x2bf773(0x554)]);if(_0x2131a6){for(let _0x571f77 in _0x2131a6)Object[_0x2bf773(0x46f)][_0x2bf773(0x261)][_0x2bf773(0x5cb)](_0x2131a6,_0x571f77)&&(_0x2131a6[_0x571f77]=JSON[_0x2bf773(0x678)](_0x2131a6[_0x571f77],Tt[_0x2bf773(0x4dd)][_0x2bf773(0x548)]));return _0x2131a6;}}catch(_0x1e45c0){this[_0x2bf773(0x780)][_0x2bf773(0x6f1)](_0x1e45c0);}}async[a0_0x28b734(0x56c)](_0x5796b8){const _0x442306=a0_0x28b734;try{let _0x5a3cd1=await this[_0x442306(0x395)][_0x442306(0x452)](this[_0x442306(0x4ac)][_0x442306(0x59a)]+':'+this[_0x442306(0x554)],_0x5796b8);if(_0x5a3cd1)return JSON['parse'](_0x5a3cd1,Tt[_0x442306(0x4dd)]['reviver']);}catch(_0x358d13){this[_0x442306(0x780)]['error'](_0x358d13);}}async[a0_0x28b734(0x34c)](_0xb73a39){const _0x54f437=a0_0x28b734;try{return await this['client'][_0x54f437(0x2d3)](this[_0x54f437(0x4ac)]['PREFIX_KEY']+':'+this[_0x54f437(0x554)],_0xb73a39);}catch(_0x24ba15){this[_0x54f437(0x780)]['error'](_0x24ba15);}}async[a0_0x28b734(0x2cf)](_0x28b160){const _0x4aecad=a0_0x28b734;try{return await this[_0x4aecad(0x395)][_0x4aecad(0x702)](_0x28b160||this['redisEnv']['PREFIX_KEY']+':'+this[_0x4aecad(0x554)]);}catch(_0x3a325a){this[_0x4aecad(0x780)][_0x4aecad(0x6f1)](_0x3a325a);}}};async function bs(_0x491b8f,_0x3a6624){const _0x36f1bb=a0_0x28b734;let _0x1b10e6=new v(bs[_0x36f1bb(0x69a)]),_0x260385=new re(_0x491b8f,_0x3a6624),_0x3b4d16=async(_0x1dcd85,_0x2018c3)=>{const _0x1b3212=_0x36f1bb;try{return await _0x260385['writeData'](_0x2018c3,_0x1dcd85);}catch(_0x5485c3){return _0x1b10e6[_0x1b3212(0x6f1)]({'localError':_0x1b3212(0x3a2),'error':_0x5485c3});}},_0x7c244b=async _0x404db2=>{const _0xa42a30=_0x36f1bb;try{return await _0x260385[_0xa42a30(0x56c)](_0x404db2);}catch(_0x25b720){_0x1b10e6['error']({'readData':_0xa42a30(0x3a2),'error':_0x25b720});return;}},_0x2184c3=async _0x110e14=>{const _0x2008a3=_0x36f1bb;try{return await _0x260385[_0x2008a3(0x34c)](_0x110e14);}catch(_0x25e8dd){_0x1b10e6[_0x2008a3(0x6f1)]({'readData':_0x2008a3(0x34c),'error':_0x25e8dd});}},_0x336e85=await _0x7c244b(_0x36f1bb(0x30a))||(0x0,Ot[_0x36f1bb(0x710)])();return{'state':{'creds':_0x336e85,'keys':{'get':async(_0x2abca0,_0x696cfe)=>{const _0x1b7213=_0x36f1bb;let _0x2ddd5a={};return await Promise[_0x1b7213(0x600)](_0x696cfe[_0x1b7213(0x7df)](async _0x1122c2=>{const _0x3b0649=_0x1b7213;let _0x2a23e8=await _0x7c244b(_0x2abca0+'-'+_0x1122c2);_0x2abca0===_0x3b0649(0x7b3)&&_0x2a23e8&&(_0x2a23e8=Ot[_0x3b0649(0x4fc)][_0x3b0649(0x5bf)][_0x3b0649(0x578)][_0x3b0649(0x46a)](_0x2a23e8)),_0x2ddd5a[_0x1122c2]=_0x2a23e8;})),_0x2ddd5a;},'set':async _0x11806d=>{const _0x205450=_0x36f1bb;let _0x2bc8f3=[];for(let _0x1cd0af in _0x11806d)for(let _0x387fce in _0x11806d[_0x1cd0af]){let _0xa40073=_0x11806d[_0x1cd0af][_0x387fce],_0x1e8ba6=_0x1cd0af+'-'+_0x387fce;_0x2bc8f3[_0x205450(0x758)](_0xa40073?await _0x3b4d16(_0xa40073,_0x1e8ba6):await _0x2184c3(_0x1e8ba6));}await Promise[_0x205450(0x600)](_0x2bc8f3);}}},'saveCreds':async()=>await _0x3b4d16(_0x336e85,_0x36f1bb(0x30a))};}var L=T(require('fs')),Me=require(a0_0x28b734(0x5ae)),Dt=T(require(a0_0x28b734(0x785))),_t=require(a0_0x28b734(0x6e0)),gi=a0_0x28b734(0x704)[a0_0x28b734(0x68b)](),At=gi[a0_0x28b734(0x5ac)]('\x0a')[a0_0x28b734(0x7df)](_0x446865=>{const _0x5a5c3c=a0_0x28b734;let _0x57d690=_0x446865[_0x5a5c3c(0x5ac)](':'),_0x10e882={'host':_0x57d690[0x0],'port':_0x57d690[0x1],'protocol':_0x5a5c3c(0x602)};return _0x57d690[_0x5a5c3c(0x2f0)]===0x4&&(_0x10e882['username']=_0x57d690[0x2],_0x10e882['password']=_0x57d690[0x3]),_0x10e882;});function gr(_0x52c8eb){const _0x26af1d=a0_0x28b734;return At['find'](_0x115e8d=>_0x115e8d[_0x26af1d(0x3c0)]===_0x52c8eb)||null;}function mr(){const _0x3c412b=a0_0x28b734;if(At['length']===0x0)return null;let _0x5df86a=Math['floor'](Math[_0x3c412b(0x576)]()*At[_0x3c412b(0x2f0)]);return At[_0x5df86a];}function Ss(_0xbfa27f){const _0x439362=a0_0x28b734;let _0x4c3f6e=_0x26d333=>typeof _0x26d333=='string'&&_0x26d333['length']>0x0,_0x236132=_0x4e9d61=>{let _0x37965b=parseInt(_0x4e9d61,0xa);return!isNaN(_0x37965b)&&_0x37965b>0x0&&_0x37965b<=0xffff;},_0x4a21e4=_0x25c20c=>typeof _0x25c20c=='string'&&_0x25c20c['length']>0x0;return _0xbfa27f&&_0x4c3f6e(_0xbfa27f[_0x439362(0x3c0)])&&_0x236132(_0xbfa27f[_0x439362(0x302)])&&(!_0xbfa27f[_0x439362(0x782)]||_0x4a21e4(_0xbfa27f['username']))&&(!_0xbfa27f[_0x439362(0x2ba)]||_0x4a21e4(_0xbfa27f[_0x439362(0x2ba)]))&&(_0xbfa27f[_0x439362(0x4f8)]===_0x439362(0x602)||_0xbfa27f[_0x439362(0x4f8)]===_0x439362(0x285));}var vs=require(a0_0x28b734(0x5d3)),Cr=a0_0x28b734(0x70d),Ns,ie=null,fr=null,Ke=null,mi=0x3,fi=null;async function wi(){const _0x402c2c=a0_0x28b734;let _0x318646=await we[_0x402c2c(0x5a7)]();ie=_0x318646?.[_0x402c2c(0x687)]??null,fi=_0x318646?.[_0x402c2c(0x683)]??null,Cr=_0x318646?.[_0x402c2c(0x412)]??_0x402c2c(0x303),Ns=_0x318646?.[_0x402c2c(0x6e6)]??Rs??'uazapi',console[_0x402c2c(0x38a)](_0x402c2c(0x201)),console['log'](_0x318646);}async function yi(){await wi();}yi();var wr={},ue={},ye=class c{constructor(_0x15660f,_0x2592a0,_0x505f31){const _0x18baf2=a0_0x28b734;this['configService']=_0x15660f,this[_0x18baf2(0x422)]=_0x2592a0,this[_0x18baf2(0x769)]=_0x505f31,this[_0x18baf2(0x44b)]=null,this[_0x18baf2(0x780)]=new v(c[_0x18baf2(0x69a)]),this[_0x18baf2(0x362)]={},this[_0x18baf2(0x7b9)]={},this[_0x18baf2(0x20a)]={'state':_0x18baf2(0x5f4)},this[_0x18baf2(0x2a4)]=(0x0,j['join'])(se,_0x18baf2(0x4a8)),this[_0x18baf2(0x380)]=new Ms['default'](),this['userDevicesCache']=new Ms['default'](),this[_0x18baf2(0x2e2)]=!0x1,this[_0x18baf2(0x198)]={'status.instance':_0x18baf2(0x1a2),'qrcode.updated':_0x18baf2(0x6ea),'messages.upsert':'/wa-message','messages.update':_0x18baf2(0x407),'send.message':'/wa-message','group.upsert':'/wa-groups','group.update':'/wa-groups','group-participants.update':_0x18baf2(0x27d),'connection.update':_0x18baf2(0x1a2),'messages.set':_0x18baf2(0x4bf),'contacts.set':_0x18baf2(0x80c),'contacts.upsert':_0x18baf2(0x80c),'contacts.update':_0x18baf2(0x80c),'presence.update':'/wa-presence','chats.set':_0x18baf2(0x574),'chats.update':_0x18baf2(0x574),'chats.upsert':_0x18baf2(0x574),'chats.delete':_0x18baf2(0x574)},this['reconnectAttempts']=0x0,this[_0x18baf2(0x7e1)]=[],this[_0x18baf2(0x565)]=0xa,this[_0x18baf2(0x5ad)]=0xea60,this[_0x18baf2(0x389)]=!0x1,this[_0x18baf2(0x521)]={'chats.upsert':async(_0x17fbd6,_0x2a569f)=>{const _0x190685=_0x18baf2;let _0x2adcc2=[];for await(let _0x5aad4c of _0x17fbd6)_0x2adcc2[_0x190685(0x758)]({'_id':_0x5aad4c['id'],'owner':this['instance'][_0x190685(0x43f)],'group':_0x5aad4c['id']['endsWith'](_0x190685(0x608)),'name':_0x5aad4c['name']||_0x5aad4c[_0x190685(0x76b)]||null,'contactname':null,'lastmsg':_0x5aad4c['conversationTimestamp']&&_0x5aad4c[_0x190685(0x616)][_0x190685(0x448)]()[_0x190685(0x2f0)]<0xd?_0x5aad4c[_0x190685(0x616)]*0x3e8:_0x5aad4c[_0x190685(0x616)]||null,'archived':_0x5aad4c['archived']||!0x1,'unreadcount':_0x5aad4c[_0x190685(0x20d)]||0x0});this['sendDataWebhook'](_0x190685(0x464),_0x2adcc2);},'chats.update':async(_0x493edb,_0xa27c98)=>{const _0x4cbe22=_0x18baf2;for(let _0x4d6c7d of _0x493edb){let _0x27c811={'_id':_0x4d6c7d['id'],'owner':this['instance'][_0x4cbe22(0x43f)],'group':_0x4d6c7d['id'][_0x4cbe22(0x406)](_0x4cbe22(0x608)),'name':_0x4d6c7d[_0x4cbe22(0x69a)]||_0x4d6c7d[_0x4cbe22(0x76b)],'archived':_0x4d6c7d[_0x4cbe22(0x7e0)],'ephemeralExpiration':_0x4d6c7d[_0x4cbe22(0x22e)]},_0x4f9abf=!0x1,_0x5e535b={};_0x27c811[_0x4cbe22(0x7e0)]!=null&&(this[_0x4cbe22(0x780)]['verbose'](this[_0x4cbe22(0x554)]+'\x20('+this['instance'][_0x4cbe22(0x43f)]+_0x4cbe22(0x31b)+_0x4d6c7d[_0x4cbe22(0x7e0)]),_0x4f9abf=!0x0,_0x5e535b[_0x4cbe22(0x7e0)]=_0x4d6c7d[_0x4cbe22(0x7e0)]),_0x4d6c7d[_0x4cbe22(0x69a)]!=null&&(this[_0x4cbe22(0x780)][_0x4cbe22(0x62f)](this[_0x4cbe22(0x554)]+'\x20('+this[_0x4cbe22(0x362)][_0x4cbe22(0x43f)]+'):\x20teve\x20mudanças\x20chat.name:\x20'+_0x4d6c7d[_0x4cbe22(0x69a)]),_0x4f9abf=!0x0,_0x5e535b['name']=_0x4d6c7d['name']),_0x4d6c7d[_0x4cbe22(0x76b)]!=null&&(this['logger'][_0x4cbe22(0x62f)](this[_0x4cbe22(0x554)]+'\x20('+this[_0x4cbe22(0x362)][_0x4cbe22(0x43f)]+'):\x20teve\x20mudanças\x20chat.displayName:\x20'+_0x4d6c7d[_0x4cbe22(0x76b)]),_0x4f9abf=!0x0,_0x5e535b['name']=_0x4d6c7d[_0x4cbe22(0x76b)]);let _0x74230;_0x4f9abf&&(_0x74230=await this[_0x4cbe22(0x769)][_0x4cbe22(0x2fb)]['updateOne']({'where':{'_id':_0x4d6c7d['id']}},_0x5e535b,this[_0x4cbe22(0x362)][_0x4cbe22(0x43f)])),_0x74230&&q(this[_0x4cbe22(0x554)],_0x4cbe22(0x3c5),{'chat':_0x74230});}},'chats.delete':async _0x286aa7=>{const _0x1538b=_0x18baf2;this[_0x1538b(0x1f6)](_0x1538b(0x7fe),[..._0x286aa7]);}},this['contactHandle']={'contacts.upsert':async(_0x4efc51,_0x165421)=>{const _0x2cf4d4=_0x18baf2;let _0x3749df=await this[_0x2cf4d4(0x769)][_0x2cf4d4(0x1ba)][_0x2cf4d4(0x79e)]({'where':{}},this[_0x2cf4d4(0x362)]['wuid']),_0x1ba11c=[];for await(let _0x53ded8 of _0x4efc51)_0x3749df['find'](_0x3f1341=>_0x3f1341[_0x2cf4d4(0x4fb)]===_0x53ded8['id'])||_0x1ba11c[_0x2cf4d4(0x758)]({'_id':_0x53ded8['id'],'pushName':_0x53ded8?.[_0x2cf4d4(0x69a)]||_0x53ded8?.['verifiedName'],'owner':this[_0x2cf4d4(0x362)][_0x2cf4d4(0x43f)]});this[_0x2cf4d4(0x1f6)](_0x2cf4d4(0x42c),_0x1ba11c),await this['repository']['contact']['insert'](_0x1ba11c);},'contacts.update':async(_0x490b35,_0x3f9884)=>{const _0x49aadf=_0x18baf2;let _0x1b05b2=[];for await(let _0x305b30 of _0x490b35)_0x1b05b2[_0x49aadf(0x758)]({'_id':_0x305b30['id'],'pushName':_0x305b30?.[_0x49aadf(0x69a)]??_0x305b30?.[_0x49aadf(0x5ff)],'owner':this[_0x49aadf(0x362)][_0x49aadf(0x43f)]});this[_0x49aadf(0x1f6)](_0x49aadf(0x4da),_0x1b05b2);}},this[_0x18baf2(0x5f3)]={'messaging-history.set':async({messages:_0xed811a,chats:_0x560aa3,isLatest:_0x5842df},_0x3faa2c)=>{const _0x22f88c=_0x18baf2;if(_0x5842df){let _0x4a86c6=await Promise[_0x22f88c(0x600)](_0x560aa3[_0x22f88c(0x7df)](async _0x5a0137=>({'_id':_0x5a0137['id'],'owner':this[_0x22f88c(0x362)][_0x22f88c(0x43f)],'group':_0x5a0137['id']['endsWith'](_0x22f88c(0x608)),'name':_0x5a0137['name']||_0x5a0137[_0x22f88c(0x76b)]||null,'contactname':null,'lastmsg':_0x5a0137['conversationTimestamp']&&_0x5a0137['conversationTimestamp'][_0x22f88c(0x448)]()[_0x22f88c(0x2f0)]<0xd?_0x5a0137[_0x22f88c(0x616)]*0x3e8:_0x5a0137[_0x22f88c(0x616)]||null,'archived':_0x5a0137[_0x22f88c(0x7e0)]||!0x1,'unreadcount':_0x5a0137['unreadCount']||0x0})));this['sendDataWebhook'](_0x22f88c(0x7dc),_0x4a86c6),await this['upsertChats'](_0x4a86c6,_0x3faa2c);}let _0x2469af=[],_0x4a40df=Date[_0x22f88c(0x420)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x3dee17]of Object[_0x22f88c(0x2b5)](_0xed811a)){if(_0x3dee17[_0x22f88c(0x638)]?.[_0x22f88c(0x4cd)]||_0x3dee17[_0x22f88c(0x638)]?.[_0x22f88c(0x2cb)]||!_0x3dee17[_0x22f88c(0x638)]||_0x3dee17[_0x22f88c(0x670)]['remoteJid']==='status@broadcast'||(Cs[_0x22f88c(0x4d7)][_0x22f88c(0x5ef)](_0x3dee17?.['messageTimestamp'])&&(_0x3dee17[_0x22f88c(0x5a6)]=_0x3dee17[_0x22f88c(0x5a6)]?.[_0x22f88c(0x21e)]()),_0x3dee17['messageTimestamp']&&_0x3dee17[_0x22f88c(0x5a6)][_0x22f88c(0x448)]()[_0x22f88c(0x2f0)]<0xd&&(_0x3dee17[_0x22f88c(0x5a6)]=_0x3dee17['messageTimestamp']*0x3e8),_0x3dee17['messageTimestamp']<_0x4a40df))continue;let _0x555aa2=(0x0,m['normalizeMessageContent'])(_0x3dee17[_0x22f88c(0x638)]),_0x2e7858=(0x0,m[_0x22f88c(0x520)])(_0x555aa2),{message_normalized:_0x432e45}=this['normalizeMessage'](_0x555aa2,_0x2e7858,null);Object['keys'](_0x432e45)[_0x22f88c(0x2f0)]>0x0&&_0x2469af['push']({'_id':_0x3dee17[_0x22f88c(0x670)]['id'],'key':_0x3dee17[_0x22f88c(0x670)],'pushName':_0x3dee17['pushName'],'participant':_0x3dee17[_0x22f88c(0x311)],'message':_0x555aa2,'messageType':_0x2e7858,'message_normalized':{'key':_0x3dee17['key'],'pushName':_0x3dee17[_0x22f88c(0x7f7)],'messageTimestamp':_0x3dee17[_0x22f88c(0x5a6)],..._0x432e45},'messageTimestamp':_0x3dee17[_0x22f88c(0x5a6)],'owner':this['instance']['wuid']});}_0x3faa2c[_0x22f88c(0x7d2)]&&_0x2469af['length']>0x0&&(this[_0x22f88c(0x780)][_0x22f88c(0x62f)](this[_0x22f88c(0x554)]+'\x20('+this[_0x22f88c(0x362)][_0x22f88c(0x43f)]+_0x22f88c(0x1b5)+_0x2469af[_0x22f88c(0x2f0)]+'\x20mensagens\x20de\x20'+this[_0x22f88c(0x362)][_0x22f88c(0x43f)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this['repository'][_0x22f88c(0x638)][_0x22f88c(0x7a8)]([..._0x2469af],this[_0x22f88c(0x362)][_0x22f88c(0x43f)])),this[_0x22f88c(0x1f6)](_0x22f88c(0x7f9),[..._0x2469af]),_0xed811a=void 0x0;},'messages.upsert':async({messages:_0x326056,type:_0x2f9300},_0x81b356)=>{const _0x38d219=_0x18baf2;let _0x48048d=_0x326056[0x0],_0x4ccfcd=_0x48048d['key']['id'];if(_0x48048d[_0x38d219(0x2c8)]===0x2&&_0x48048d[_0x38d219(0x3af)][_0x38d219(0x6c9)]('Message\x20absent\x20from\x20node')){if(console[_0x38d219(0x6f1)](_0x38d219(0x1c6)+_0x4ccfcd),console[_0x38d219(0x6f1)](_0x48048d),ue[_0x4ccfcd]||(ue[_0x4ccfcd]=0x0),ue[_0x4ccfcd]++,ue[_0x4ccfcd]>=this[_0x38d219(0x380)]){console[_0x38d219(0x6f1)](_0x38d219(0x529),_0x48048d);let _0x471fed={'key':{..._0x48048d[_0x38d219(0x670)]},'message':{'conversation':_0x38d219(0x7ff)}};this[_0x38d219(0x395)]['ev'][_0x38d219(0x363)](_0x38d219(0x533),{'messages':[_0x471fed],'type':_0x38d219(0x344)}),console[_0x38d219(0x6f1)](_0x38d219(0x7ff)),delete ue[_0x4ccfcd];}}else ue[_0x4ccfcd]&&(console[_0x38d219(0x6f1)](_0x38d219(0x4c5)+_0x4ccfcd),delete ue[_0x4ccfcd]);if(_0x2f9300!==_0x38d219(0x344)||!_0x48048d?.[_0x38d219(0x638)]||_0x48048d[_0x38d219(0x638)]?.[_0x38d219(0x4cd)]||_0x48048d['message'][_0x38d219(0x2cb)]||_0x48048d['key'][_0x38d219(0x26f)]==='status@broadcast')return;let _0x2d0a1d=null,_0x27b223=null;try{_0x2d0a1d=await this[_0x38d219(0x1fb)](_0x48048d),_0x27b223=_0x2d0a1d?_0x2d0a1d['join'](','):null;}catch(_0x365787){this[_0x38d219(0x780)][_0x38d219(0x62f)](this[_0x38d219(0x554)]+'\x20('+this[_0x38d219(0x362)]['wuid']+_0x38d219(0x1b5)+(_0x365787 instanceof Error?_0x365787[_0x38d219(0x638)]:JSON[_0x38d219(0x463)](_0x365787,null,0x2))),_0x27b223=_0x38d219(0x1a8);}if(this['client'][_0x38d219(0x34e)]('unavailable'),Cs[_0x38d219(0x4d7)]['isLong'](_0x48048d[_0x38d219(0x5a6)])&&(_0x48048d[_0x38d219(0x5a6)]=_0x48048d['messageTimestamp']?.[_0x38d219(0x21e)]()),this[_0x38d219(0x7b9)]?.['groups_ignore']&&_0x48048d[_0x38d219(0x670)]['remoteJid'][_0x38d219(0x6c9)](_0x38d219(0x608))){this[_0x38d219(0x780)][_0x38d219(0x62f)](this[_0x38d219(0x554)]+'\x20('+this[_0x38d219(0x362)]['wuid']+_0x38d219(0x199));return;}_0x48048d[_0x38d219(0x5a6)]&&_0x48048d[_0x38d219(0x5a6)]['toString']()['length']<0xd&&(_0x48048d[_0x38d219(0x5a6)]=_0x48048d[_0x38d219(0x5a6)]*0x3e8);let _0xd33513=_0x48048d['message'],_0x10c66b=(0x0,m[_0x38d219(0x6d9)])(_0xd33513),_0x24ad4f=(0x0,m['getContentType'])(_0x10c66b),{messageContent:_0x1a8b97,message_normalized:_0x1d5e6e}=this['normalizeMessage'](_0x10c66b,_0x24ad4f,_0x27b223);_0x24ad4f===_0x38d219(0x4cd)&&_0x1a8b97?.[_0x38d219(0x466)]&&(_0x24ad4f=_0x38d219(0x466));let _0x3a656b={'_id':_0x48048d[_0x38d219(0x670)]['id'],'key':_0x48048d['key'],'pushName':_0x48048d[_0x38d219(0x7f7)],'message':_0x10c66b,'messageType':_0x24ad4f,'message_normalized':{'key':_0x48048d['key'],'pushName':_0x48048d[_0x38d219(0x7f7)],'messageTimestamp':_0x48048d['messageTimestamp'],'source':(0x0,m[_0x38d219(0x598)])(_0x48048d[_0x38d219(0x670)]['id']),..._0x1d5e6e},'messageTimestamp':_0x48048d[_0x38d219(0x5a6)],'owner':this['instance'][_0x38d219(0x43f)],'source':(0x0,m[_0x38d219(0x598)])(_0x48048d[_0x38d219(0x670)]['id'])};_0x1a8b97||(console['error'](_0x38d219(0x25e)),this['logger'][_0x38d219(0x6f1)](_0x3a656b)),this[_0x38d219(0x780)][_0x38d219(0x38a)](this['instanceName']+'\x20('+this[_0x38d219(0x362)]['wuid']+'):\x20'+(_0x3a656b[_0x38d219(0x670)]?.[_0x38d219(0x3e2)]?_0x38d219(0x4bc):_0x38d219(0x525))+'\x20['+_0x3a656b[_0x38d219(0x670)]?.[_0x38d219(0x26f)][_0x38d219(0x7c4)](_0x38d219(0x5f8),'')+_0x38d219(0x737)+_0x3a656b['messageType']+')'),_0x3a656b[_0x38d219(0x53c)]?.[_0x38d219(0x27e)]&&this['logger'][_0x38d219(0x38a)](_0x3a656b['message_normalized']?.['text']),await this[_0x38d219(0x769)][_0x38d219(0x638)][_0x38d219(0x7a8)]([_0x3a656b],this[_0x38d219(0x362)][_0x38d219(0x43f)]),this[_0x38d219(0x1f6)](_0x38d219(0x533),_0x3a656b),q(this[_0x38d219(0x554)],_0x38d219(0x3c1),{'message':_0x3a656b}),_0x48048d['key']['remoteJid']!==_0x38d219(0x5ab)&&await this[_0x38d219(0x802)](_0x81b356,_0x3a656b,_0x38d219(0x512));},'messages.update':async(_0x94e4b2,_0x67aa5c)=>{const _0xf9827b=_0x18baf2;let _0x4118fd={0x0:_0xf9827b(0x469),0x1:'PENDING',0x2:_0xf9827b(0x52f),0x3:_0xf9827b(0x264),0x4:_0xf9827b(0x1e3),0x5:_0xf9827b(0x6bc)};for await(let {key:_0x51de27,update:_0x48e58e}of _0x94e4b2){if(this['localWebhook']?.[_0xf9827b(0x2ef)]&&_0x51de27[_0xf9827b(0x26f)][_0xf9827b(0x6c9)](_0xf9827b(0x608))){this[_0xf9827b(0x780)][_0xf9827b(0x62f)](_0xf9827b(0x806));return;}if(_0x51de27[_0xf9827b(0x26f)]!==_0xf9827b(0x5ab)){let _0x1588f1=Date[_0xf9827b(0x420)](),_0xaca538;_0x48e58e[_0xf9827b(0x638)]===null&&_0x48e58e['status']===void 0x0?_0xaca538=_0xf9827b(0x69b):_0xaca538=_0x4118fd[_0x48e58e[_0xf9827b(0x6e9)]];let _0x396122=_0x51de27[_0xf9827b(0x26f)][_0xf9827b(0x7c4)](/:\d{1,2}@/g,'@'),_0x182ffb={..._0x51de27,'remoteJid':_0x396122,'status':_0xaca538,'datetime':_0x1588f1,'owner':this[_0xf9827b(0x362)][_0xf9827b(0x43f)]};this[_0xf9827b(0x1f6)]('messages.update',_0x182ffb),await this[_0xf9827b(0x5e5)](_0x51de27,_0x182ffb);}}},'labels.association':async({type:_0x314587,association:_0x25a91d})=>{const _0x1744ea=_0x18baf2;if(_0x25a91d['type']==='label_jid'){let _0x356927,_0x30801a=0x0;for(;!_0x356927&&_0x30801a<this['delayChatLabel_MAX_RETRIES'];)_0x356927=await this[_0x1744ea(0x769)][_0x1744ea(0x2fb)][_0x1744ea(0x5a7)]({'where':{'_id':_0x25a91d[_0x1744ea(0x4e8)]}},this[_0x1744ea(0x362)][_0x1744ea(0x43f)]),_0x356927||(_0x30801a++,console['log'](_0x1744ea(0x706)+_0x25a91d[_0x1744ea(0x4e8)]+_0x1744ea(0x546)+this['delayChatLabel_RETRY_DELAY_MS']+_0x1744ea(0x5b2)+_0x30801a+'/'+this[_0x1744ea(0x4a5)]+')'),await this[_0x1744ea(0x3ad)](this[_0x1744ea(0x4a0)]));if(!_0x356927){console[_0x1744ea(0x6f1)](_0x1744ea(0x668)+_0x25a91d[_0x1744ea(0x4e8)]+_0x1744ea(0x628)+this[_0x1744ea(0x4a5)]+'\x20attempts.');return;}switch(_0x314587){case'add':console['log'](_0x25a91d),await this[_0x1744ea(0x769)][_0x1744ea(0x2fb)]['updateOne']({'where':{'_id':_0x25a91d[_0x1744ea(0x4e8)]}},{'leadInfo.etiquetas':_0x25a91d[_0x1744ea(0x44a)]},this[_0x1744ea(0x362)][_0x1744ea(0x43f)],void 0x0,_0x1744ea(0x341));break;case _0x1744ea(0x252):console['log'](_0x25a91d),await this['repository'][_0x1744ea(0x2fb)][_0x1744ea(0x49f)]({'where':{'_id':_0x25a91d['chatId']}},{'leadInfo.etiquetas':_0x25a91d[_0x1744ea(0x44a)]},this[_0x1744ea(0x362)][_0x1744ea(0x43f)],void 0x0,_0x1744ea(0x617));break;default:console['error'](_0x1744ea(0x718)+_0x314587+']');}}},'labels.edit':async _0x5d836c=>{const _0xbdba2f=_0x18baf2;if(!_0x5d836c||!_0x5d836c['id']){console[_0xbdba2f(0x6f1)](_0xbdba2f(0x6f0));return;}if(!_0x5d836c['deleted']){let _0x2df9dc=[_0xbdba2f(0x823),_0xbdba2f(0x50b),'#fed428',_0xbdba2f(0x56f),_0xbdba2f(0x6c7),_0xbdba2f(0x72f),'#fe9dfe','#d3a91f',_0xbdba2f(0x75c),_0xbdba2f(0x7eb),_0xbdba2f(0x4b4),_0xbdba2f(0x4c6),'#92ceac',_0xbdba2f(0x708),_0xbdba2f(0x5bc),'#83e421','#ffae04','#b4ebff','#9ba6ff',_0xbdba2f(0x6d4)],_0x47fbf7;typeof _0x5d836c[_0xbdba2f(0x3d0)]==_0xbdba2f(0x517)&&_0x5d836c[_0xbdba2f(0x3d0)]>=0x0&&_0x5d836c[_0xbdba2f(0x3d0)]<_0x2df9dc['length']?_0x47fbf7=_0x2df9dc[_0x5d836c[_0xbdba2f(0x3d0)]]:(console[_0xbdba2f(0x6f1)](_0xbdba2f(0x532),_0x5d836c[_0xbdba2f(0x3d0)]),_0x47fbf7=_0xbdba2f(0x3ab));let _0x276186={'_id':_0x5d836c['id'],'colorHex':_0x47fbf7,'color':_0x5d836c?.['color'],'name':_0x5d836c?.[_0xbdba2f(0x69a)],'owner':this[_0xbdba2f(0x362)]['wuid']};await this['repository'][_0xbdba2f(0x60a)][_0xbdba2f(0x49f)]({'where':{'_id':_0x5d836c['id']}},_0x276186,this[_0xbdba2f(0x362)]['wuid']),console['log'](_0xbdba2f(0x368),_0x5d836c);}_0x5d836c[_0xbdba2f(0x451)]&&(await this[_0xbdba2f(0x769)][_0xbdba2f(0x60a)][_0xbdba2f(0x606)]({'where':{'_id':_0x5d836c['id']}},this[_0xbdba2f(0x362)][_0xbdba2f(0x43f)]),console['log'](_0xbdba2f(0x294),_0x5d836c['id']));}},this['groupHandler']={'groups.upsert':_0x583a41=>{const _0x85e8b3=_0x18baf2;this[_0x85e8b3(0x1f6)](_0x85e8b3(0x6e1),_0x583a41);},'groups.update':_0x5a9808=>{const _0x4706b1=_0x18baf2;this[_0x4706b1(0x1f6)](_0x4706b1(0x210),_0x5a9808);},'group-participants.update':_0x3d8a78=>{const _0x390f35=_0x18baf2;this[_0x390f35(0x1f6)](_0x390f35(0x663),_0x3d8a78);}},this[_0x18baf2(0x4a5)]=0x5,this['delayChatLabel_RETRY_DELAY_MS']=0x1388,this['processPollUpdateMessage']=async _0x2e13c2=>{const _0x16c15e=_0x18baf2;if(_0x2e13c2[_0x16c15e(0x638)]?.[_0x16c15e(0x217)]){let _0x214cd2=await this[_0x16c15e(0x266)](_0x2e13c2[_0x16c15e(0x638)]['pollUpdateMessage'][_0x16c15e(0x5fb)],!0x0);if(_0x214cd2){let _0x65b58b=_0x214cd2[_0x16c15e(0x670)][_0x16c15e(0x3e2)]?this[_0x16c15e(0x362)][_0x16c15e(0x43f)]+_0x16c15e(0x5f8):_0x214cd2[_0x16c15e(0x670)][_0x16c15e(0x311)]||_0x214cd2[_0x16c15e(0x670)][_0x16c15e(0x26f)],_0x10e053=_0x214cd2[_0x16c15e(0x670)]['id'],_0x435001=_0x214cd2[_0x16c15e(0x638)],_0x227087=Buffer[_0x16c15e(0x325)](_0x435001[_0x16c15e(0x306)][_0x16c15e(0x225)]['toString'](_0x16c15e(0x79f)),_0x16c15e(0x79f)),_0x59aa54=(0x0,m[_0x16c15e(0x6b0)])(_0x2e13c2[_0x16c15e(0x638)][_0x16c15e(0x217)][_0x16c15e(0x74f)],{'pollCreatorJid':_0x65b58b,'pollMsgId':_0x10e053,'pollEncKey':_0x227087,'voterJid':_0x2e13c2[_0x16c15e(0x670)][_0x16c15e(0x3e2)]?this[_0x16c15e(0x362)][_0x16c15e(0x43f)]+'@s.whatsapp.net':_0x2e13c2[_0x16c15e(0x670)]['remoteJid']['endsWith'](_0x16c15e(0x1a9))?_0x2e13c2['key'][_0x16c15e(0x311)]:_0x2e13c2[_0x16c15e(0x670)][_0x16c15e(0x26f)]}),_0x56d02d=[],_0x25eed8=_0x59aa54['selectedOptions'][_0x16c15e(0x7df)](_0x1cca3e=>Buffer[_0x16c15e(0x325)](_0x1cca3e)[_0x16c15e(0x448)]('hex'));for(let {optionName:_0xe9c9d1}of _0x435001['pollCreationMessage']?.[_0x16c15e(0x37d)]||_0x435001[_0x16c15e(0x5f6)]?.[_0x16c15e(0x37d)]||_0x435001[_0x16c15e(0x738)]?.['options'])_0x25eed8[_0x16c15e(0x3e4)]((0x0,m[_0x16c15e(0x5fd)])(Buffer['from'](_0xe9c9d1))[_0x16c15e(0x448)]('hex'))>-0x1&&_0x56d02d['push'](_0xe9c9d1);return _0x56d02d;}}return null;},this[_0x18baf2(0x560)]=(_0x23c19c,_0x23c628,_0x4c23f9)=>{const _0x597baa=_0x18baf2;try{let _0x12dd58=_0x23c19c?(0x0,m[_0x597baa(0x48b)])(_0x23c19c)[_0x23c628]:void 0x0,_0x3ab4b9={},_0x5683b6=null,_0x52aa47=null,_0x151bd3=null;_0x23c628===_0x597baa(0x4cd)&&_0x12dd58?.[_0x597baa(0x466)]&&(_0x23c628=(0x0,m[_0x597baa(0x520)])(_0x12dd58['editedMessage']),_0x5683b6=_0x23c19c['protocolMessage'][_0x597baa(0x670)]['id'],_0x12dd58=_0x23c19c[_0x597baa(0x4cd)]['editedMessage'][_0x23c628]),_0x23c19c[_0x23c628]?.[_0x597baa(0x18d)]?.['stanzaId']&&_0x23c19c[_0x23c628]?.[_0x597baa(0x18d)]?.[_0x597baa(0x7ca)]&&(_0x52aa47=_0x23c19c[_0x23c628]['contextInfo'][_0x597baa(0x23a)]),_0x23c19c['reactionMessage']&&(_0x151bd3=_0x23c19c['reactionMessage'][_0x597baa(0x670)]['id']);let _0x21136e;if(_0x12dd58&&typeof _0x12dd58=='object'&&_0x597baa(0x5fb)in _0x12dd58&&({pollCreationMessageKey:_0x21136e}=_0x12dd58),_0x23c628===_0x597baa(0x1a0)||_0x23c628==='pollCreationMessageV2'||_0x23c628===_0x597baa(0x5f6)){let _0x4dc670=_0x12dd58[_0x597baa(0x37d)]['map'](_0xe71759=>_0xe71759['optionName'])[_0x597baa(0x67e)]('|');_0x3ab4b9['convertedOptions']=_0x4dc670;}let _0x352638='';if(_0x12dd58&&(_0x352638+=_0x12dd58[_0x597baa(0x69a)]?_0x12dd58[_0x597baa(0x69a)]:'',_0x352638+=_0x12dd58[_0x597baa(0x291)]?'\x20'+_0x12dd58[_0x597baa(0x291)]:'',_0x352638+=_0x12dd58[_0x597baa(0x816)]?'\x20'+_0x12dd58[_0x597baa(0x816)]:'',_0x352638+=_0x12dd58[_0x597baa(0x76b)]?'\x20'+_0x12dd58[_0x597baa(0x76b)]:''),_0x23c628===_0x597baa(0x55a)){_0x352638=(_0x12dd58[_0x597baa(0x679)]||'')+'\x0a'+(_0x12dd58[_0x597baa(0x2e7)]||'')+'\x0a'+(_0x12dd58[_0x597baa(0x29d)]||'');let _0x186234=this[_0x597baa(0x259)](_0x12dd58[_0x597baa(0x4d4)]);_0x3ab4b9['convertedOptions']=_0x186234;}if(_0x23c628===_0x597baa(0x255)&&(_0x4c23f9=_0x12dd58[_0x597baa(0x679)]),_0x12dd58&&_0x12dd58[_0x597baa(0x7fd)]){let _0x3ad0a1=this['formatVCard'](JSON[_0x597baa(0x463)](_0x12dd58['vcard'],null,0x2));_0x352638=_0x352638+'\x0a'+_0x3ad0a1;}if(_0x12dd58){let {sections:_0x2fe0cd,listType:_0x53f10d,displayName:_0x10afc7,vcard:_0x6c9d81,contactVcard:_0x3fbd42,name:_0xc8a196,caption:_0x251021,conversation:_0x5416e7,pollCreationMessageKey:_0x13b86e,footerText:_0x466f49,contentText:_0x799297,pageCount:_0x39d1c1,headerType:_0x5ddae9,isAvatar:_0x38dbae,isAnimated:_0x5599f3,fallbackLc:_0x559a9d,fallbackLg:_0x36b4ea,namespace:_0x228641,elementName:_0x439edb,localizableParams:_0x201306,viewOnce:_0x5a4fbd,height:_0x2c13b9,width:_0x3ad9d9,key:_0x53e211,firstScanLength:_0xcf380d,firstScanSidecar:_0x5316a4,gifPlayback:_0x49db8f,gifAttribution:_0x4c7429,midQualityFileSha256:_0x2e17a8,scansSidecar:_0x56e71a,streamingSidecar:_0x56695d,thumbnailHeight:_0x2c4f77,thumbnailWidth:_0x33eb52,thumbnailEncSha256:_0x55f88c,thumbnailDirectPath:_0x4f8daf,canonicalUrl:_0x499bb6,matchedText:_0x430286,previewType:_0x54627d,thumbnailSha256:_0x93f2a8,deviceListMetadataVersion:_0x456459,inviteLinkGroupTypeV2:_0x2c2258,interactiveAnnotations:_0x6ca846,scanLengths:_0x5a7bdc,jpegThumbnail:_0x8b8b53,url:_0x5271fc,mediaKeyTimestamp:_0x113efe,waveform:_0x4b5a75,stickerSentTs:_0x34b195,firstFrameLength:_0xa91d1b,fileEncSha256:_0x372642,contextInfo:_0x5f3800,firstFrameSidecar:_0xc530d7,directPath:_0xdbbfcc,fileSha256:_0x36fa4c,mediaKey:_0x105ae1,senderTimestampMs:_0x429a98,..._0x50998b}=_0x12dd58;(_0x23c628===_0x597baa(0x55a)||_0x23c628==='listResponseMessage')&&(delete _0x50998b[_0x597baa(0x679)],delete _0x50998b[_0x597baa(0x2e7)]),typeof _0x12dd58==_0x597baa(0x18e)?_0x3ab4b9={'text':_0x12dd58,'type':_0x23c628||_0x597baa(0x816),..._0x5683b6&&{'edited':_0x5683b6},..._0x52aa47&&{'quoted':_0x52aa47},..._0x151bd3&&{'reaction':_0x151bd3}}:_0x3ab4b9={'text':_0x352638,..._0x50998b,..._0x23c628===_0x597baa(0x217)?{'poll_id':_0x12dd58[_0x597baa(0x5fb)]['id'],'quoted':_0x12dd58[_0x597baa(0x5fb)]['id'],'vote':_0x4c23f9}:{},..._0x23c628==='listResponseMessage'?{'vote':_0x4c23f9}:{},'type':_0x23c628,..._0x5683b6&&{'edited':_0x5683b6},..._0x52aa47&&{'quoted':_0x52aa47},..._0x151bd3&&{'reaction':_0x151bd3},...(_0x23c628==='pollCreationMessage'||_0x23c628===_0x597baa(0x738)||_0x23c628===_0x597baa(0x5f6)||_0x23c628===_0x597baa(0x55a))&&{'convertedOptions':_0x3ab4b9['convertedOptions']}};}return{'messageType':_0x23c628,'messageContent':_0x12dd58,'message_normalized':_0x3ab4b9};}catch(_0x2f02b0){return console[_0x597baa(0x6f1)](_0x597baa(0x23f),_0x2f02b0),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this['processingScheduleMessageId']=null,this[_0x18baf2(0x355)]=0x0,this[_0x18baf2(0x7d3)]=null,(this[_0x18baf2(0x280)](),this['instance'][_0x18baf2(0x76f)]={'count':0x0});}set[a0_0x28b734(0x554)](_0x1aa99e){const _0x1b0a6a=a0_0x28b734;if(!_0x1aa99e){this['instance'][_0x1b0a6a(0x69a)]=(0x0,br['v4'])();return;}this[_0x1b0a6a(0x362)]['name']=_0x1aa99e,this[_0x1b0a6a(0x1f6)](_0x1b0a6a(0x604),{'instance':this[_0x1b0a6a(0x362)][_0x1b0a6a(0x69a)],'status':_0x1b0a6a(0x556)});}get['instanceName'](){const _0x2a3b6f=a0_0x28b734;return this['instance'][_0x2a3b6f(0x69a)];}get[a0_0x28b734(0x43f)](){const _0x4cda24=a0_0x28b734;return this[_0x4cda24(0x362)][_0x4cda24(0x43f)];}async['getProfileName'](){const _0x4a146f=a0_0x28b734;let _0x2478fe=this['client'][_0x4a146f(0x609)]?.[_0x4a146f(0x69a)]??this[_0x4a146f(0x395)][_0x4a146f(0x609)]?.[_0x4a146f(0x5ff)];if(!_0x2478fe){if(this[_0x4a146f(0x78a)][_0x4a146f(0x238)](_0x4a146f(0x64b))[_0x4a146f(0x7d2)]){let _0x2ec64c=await R[_0x4a146f(0x46e)]()['db'](this['configService']['get']('DATABASE')['CONNECTION'][_0x4a146f(0x804)]+_0x4a146f(0x4b1))[_0x4a146f(0x818)](this[_0x4a146f(0x554)])[_0x4a146f(0x5a7)]({'_id':_0x4a146f(0x30a)});if(_0x2ec64c){let _0x98936a=JSON[_0x4a146f(0x678)](JSON['stringify'](_0x2ec64c),m['BufferJSON'][_0x4a146f(0x548)]);_0x2478fe=_0x98936a['me']?.['name']||_0x98936a['me']?.[_0x4a146f(0x5ff)];}}else{if((0x0,ve[_0x4a146f(0x80b)])((0x0,j['join'])(ge,this[_0x4a146f(0x554)],_0x4a146f(0x5ca)))){let _0x726127=JSON[_0x4a146f(0x678)]((0x0,ve[_0x4a146f(0x290)])((0x0,j[_0x4a146f(0x67e)])(ge,this[_0x4a146f(0x554)],'creds.json'),{'encoding':_0x4a146f(0x79c)}));_0x2478fe=_0x726127['me']?.[_0x4a146f(0x69a)]||_0x726127['me']?.['verifiedName'];}}}return _0x2478fe;}get['profilePictureUrl'](){const _0x1f8973=a0_0x28b734;return this[_0x1f8973(0x362)][_0x1f8973(0x265)];}get[a0_0x28b734(0x5e4)](){const _0x43aaba=a0_0x28b734;return{'pairingCode':this[_0x43aaba(0x362)][_0x43aaba(0x76f)]?.['pairingCode'],'code':this['instance'][_0x43aaba(0x76f)]?.[_0x43aaba(0x2df)],'base64':this['instance'][_0x43aaba(0x76f)]?.['base64']};}async['loadWebhook'](){const _0x2db0b4=a0_0x28b734;let _0xafe02c=await this[_0x2db0b4(0x769)][_0x2db0b4(0x2c6)][_0x2db0b4(0x79e)](this[_0x2db0b4(0x554)]);this[_0x2db0b4(0x7b9)][_0x2db0b4(0x2d6)]=_0xafe02c?.[_0x2db0b4(0x2d6)],this[_0x2db0b4(0x7b9)]['enabled']=_0xafe02c?.[_0x2db0b4(0x2e6)],this[_0x2db0b4(0x7b9)][_0x2db0b4(0x6a2)]=_0xafe02c?.[_0x2db0b4(0x6a2)],this['localWebhook'][_0x2db0b4(0x36c)]=_0xafe02c?.['STATUS_INSTANCE'],this['localWebhook']['QRCODE_UPDATED']=_0xafe02c?.[_0x2db0b4(0x5a3)],this['localWebhook'][_0x2db0b4(0x33d)]=_0xafe02c?.[_0x2db0b4(0x33d)],this[_0x2db0b4(0x7b9)][_0x2db0b4(0x512)]=_0xafe02c?.[_0x2db0b4(0x512)],this[_0x2db0b4(0x7b9)][_0x2db0b4(0x5d4)]=_0xafe02c?.[_0x2db0b4(0x5d4)],this[_0x2db0b4(0x7b9)][_0x2db0b4(0x2a7)]=_0xafe02c?.[_0x2db0b4(0x2a7)],this[_0x2db0b4(0x7b9)]['GROUPS_UPDATE']=_0xafe02c?.['GROUPS_UPDATE'],this[_0x2db0b4(0x7b9)][_0x2db0b4(0x6ba)]=_0xafe02c?.[_0x2db0b4(0x6ba)],this[_0x2db0b4(0x7b9)]['CHATS_SET']=_0xafe02c?.[_0x2db0b4(0x618)],this['localWebhook']['CHATS_UPSERT']=_0xafe02c?.['CHATS_UPSERT'],this[_0x2db0b4(0x7b9)][_0x2db0b4(0x6f3)]=_0xafe02c?.[_0x2db0b4(0x6f3)],this[_0x2db0b4(0x7b9)]['CHATS_DELETE']=_0xafe02c?.['CHATS_DELETE'],this[_0x2db0b4(0x7b9)]['CONTACTS_SET']=_0xafe02c?.[_0x2db0b4(0x5cf)],this[_0x2db0b4(0x7b9)]['CONTACTS_UPSERT']=_0xafe02c?.['CONTACTS_UPSERT'],this[_0x2db0b4(0x7b9)][_0x2db0b4(0x436)]=_0xafe02c?.[_0x2db0b4(0x436)],this[_0x2db0b4(0x7b9)][_0x2db0b4(0x7b6)]=_0xafe02c?.['PRESENCE_UPDATE'],this[_0x2db0b4(0x7b9)]['MESSAGES_SET']=_0xafe02c?.[_0x2db0b4(0x622)],this[_0x2db0b4(0x7b9)]['CONNECTION_UPDATE']=_0xafe02c?.[_0x2db0b4(0x627)],this[_0x2db0b4(0x7b9)][_0x2db0b4(0x2ef)]=_0xafe02c?.[_0x2db0b4(0x2ef)];}async[a0_0x28b734(0x594)](_0x1c97b1){const _0x3aae67=a0_0x28b734;let _0x5de2c6=['_id',_0x3aae67(0x2d6),'enabled',_0x3aae67(0x6a2),_0x3aae67(0x36c),_0x3aae67(0x5a3),'MESSAGES_UPDATE',_0x3aae67(0x512),_0x3aae67(0x33d),_0x3aae67(0x2a7),_0x3aae67(0x5f0),_0x3aae67(0x6ba),_0x3aae67(0x618),_0x3aae67(0x5aa),_0x3aae67(0x6f3),'CHATS_DELETE','CONTACTS_SET',_0x3aae67(0x7d9),_0x3aae67(0x436),'PRESENCE_UPDATE',_0x3aae67(0x622),'CONNECTION_UPDATE',_0x3aae67(0x2ef)],_0x1ed50b={};return _0x5de2c6[_0x3aae67(0x757)](_0x4e5e71=>{_0x1c97b1[_0x4e5e71]!==void 0x0&&(_0x1ed50b[_0x4e5e71]=_0x1c97b1[_0x4e5e71]);}),await this[_0x3aae67(0x769)][_0x3aae67(0x2c6)][_0x3aae67(0x690)](_0x1ed50b,this[_0x3aae67(0x554)]),Object[_0x3aae67(0x81f)](this[_0x3aae67(0x7b9)],_0x1ed50b),await this[_0x3aae67(0x769)][_0x3aae67(0x2c6)][_0x3aae67(0x79e)](this[_0x3aae67(0x554)]);}async[a0_0x28b734(0x7e4)](){const _0x3b8c38=a0_0x28b734;return await this['repository'][_0x3b8c38(0x2c6)][_0x3b8c38(0x79e)](this[_0x3b8c38(0x554)]);}async[a0_0x28b734(0x1f6)](_0x4322fa,_0x3d6cb7){const _0x43d485=a0_0x28b734;let _0x1bbd2b=_0x4322fa[_0x43d485(0x7c4)](/[\.-]/gm,'_')['toUpperCase'](),_0x5261f0=this['localWebhook'][_0x43d485(0x2e6)]&&(0x0,$[_0x43d485(0x6a5)])(this[_0x43d485(0x7b9)]['url'])?this[_0x43d485(0x7b9)][_0x43d485(0x2d6)]+(this[_0x43d485(0x7b9)][_0x43d485(0x6a2)]?this[_0x43d485(0x198)][_0x4322fa]:''):null,_0x4def70=this[_0x43d485(0x7b9)][_0x1bbd2b],_0x1d652f=ie&&ie[_0x43d485(0x2e6)]&&(0x0,$[_0x43d485(0x6a5)])(ie[_0x43d485(0x2d6)])?ie['url']+(ie[_0x43d485(0x6a2)]?this[_0x43d485(0x198)][_0x4322fa]:''):null,_0x48b6ef=ie?ie[_0x1bbd2b]:null;if(_0x4def70&&_0x5261f0)try{await te[_0x43d485(0x4d7)]['create']({'baseURL':_0x5261f0})[_0x43d485(0x820)]('',{'event':_0x4322fa,'instance':this['instance']['name'],'apikey':this[_0x43d485(0x362)][_0x43d485(0x384)],'data':_0x3d6cb7}),this['logger']['log'](this[_0x43d485(0x554)]+'\x20('+this[_0x43d485(0x362)][_0x43d485(0x43f)]+_0x43d485(0x667)+_0x4322fa+':\x20'+_0x5261f0);}catch{this[_0x43d485(0x780)][_0x43d485(0x6f1)](this[_0x43d485(0x554)]+'\x20('+this[_0x43d485(0x362)][_0x43d485(0x43f)]+_0x43d485(0x2f1)+_0x4322fa+':\x20'+_0x5261f0);}if(_0x48b6ef&&_0x1d652f)try{await te[_0x43d485(0x4d7)][_0x43d485(0x690)]({'baseURL':_0x1d652f})['post']('',{'event':_0x4322fa,'instance':this[_0x43d485(0x362)][_0x43d485(0x69a)],'apikey':this[_0x43d485(0x362)]['apikey'],'data':_0x3d6cb7}),this[_0x43d485(0x780)][_0x43d485(0x38a)](this[_0x43d485(0x554)]+'\x20('+this['instance']['wuid']+_0x43d485(0x761)+_0x4322fa+':\x20'+_0x1d652f);}catch{this['logger']['error'](this[_0x43d485(0x554)]+'\x20('+this[_0x43d485(0x362)][_0x43d485(0x43f)]+_0x43d485(0x427)+_0x4322fa+':\x20'+_0x1d652f);}}async[a0_0x28b734(0x70b)]({qr:_0x1a8707,connection:_0x151b58,lastDisconnect:_0x53e16b}){const _0x148f80=a0_0x28b734;if(_0x1a8707){if(this[_0x148f80(0x362)]['qrcode'][_0x148f80(0x4a3)]===mi)return this[_0x148f80(0x1f6)](_0x148f80(0x4aa),{'message':_0x148f80(0x73d),'statusCode':m[_0x148f80(0x332)][_0x148f80(0x5d2)]}),this['stateConnection']={'state':'refused','statusReason':m[_0x148f80(0x332)]['connectionClosed']},this[_0x148f80(0x1f6)](_0x148f80(0x2c1),{'instance':this[_0x148f80(0x362)][_0x148f80(0x69a)],...this[_0x148f80(0x20a)]}),this['sendDataWebhook'](_0x148f80(0x604),{'instance':this[_0x148f80(0x362)][_0x148f80(0x69a)],'status':_0x148f80(0x34b)}),this[_0x148f80(0x769)][_0x148f80(0x445)][_0x148f80(0x690)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x148f80(0x420)]()},this[_0x148f80(0x362)][_0x148f80(0x69a)]),this[_0x148f80(0x2e2)]=!0x0,this[_0x148f80(0x422)][_0x148f80(0x363)](_0x148f80(0x641),this[_0x148f80(0x362)][_0x148f80(0x69a)]);this[_0x148f80(0x362)][_0x148f80(0x76f)][_0x148f80(0x4a3)]++;let _0x4507d8={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x148f80(0x208),'dark':_0x148f80(0x3ab)}};Sr[_0x148f80(0x4d7)][_0x148f80(0x3bc)](_0x1a8707,_0x4507d8,(_0x38bd33,_0x3af5c3)=>{const _0x3744e3=_0x148f80;if(_0x38bd33){this[_0x3744e3(0x780)][_0x3744e3(0x6f1)](this[_0x3744e3(0x554)]+'\x20('+this['instance'][_0x3744e3(0x43f)]+_0x3744e3(0x701)+(_0x38bd33 instanceof Error?_0x38bd33[_0x3744e3(0x638)]:JSON[_0x3744e3(0x463)](_0x38bd33,null,0x2)));return;}this[_0x3744e3(0x362)]['qrcode'][_0x3744e3(0x42d)]=_0x3af5c3,this[_0x3744e3(0x362)]['qrcode'][_0x3744e3(0x2df)]=_0x1a8707,this[_0x3744e3(0x1f6)](_0x3744e3(0x4aa),{'qrcode':{'instance':this[_0x3744e3(0x362)]['name'],'pairingCode':this['instance'][_0x3744e3(0x76f)][_0x3744e3(0x4db)],'code':_0x1a8707,'base64':_0x3af5c3}});}),this['phoneNumber']?(await(0x0,m[_0x148f80(0x4cb)])(0x7d0),this[_0x148f80(0x362)][_0x148f80(0x76f)][_0x148f80(0x4db)]=await this[_0x148f80(0x395)][_0x148f80(0x6f6)](this[_0x148f80(0x2ee)])):this[_0x148f80(0x362)]['qrcode'][_0x148f80(0x4db)]=null,Er[_0x148f80(0x4d7)][_0x148f80(0x1b0)](_0x1a8707,{'small':!0x0},_0x166a0b=>this['logger'][_0x148f80(0x38a)](_0x148f80(0x61c)+this[_0x148f80(0x362)][_0x148f80(0x69a)]+_0x148f80(0x376)+this['instance'][_0x148f80(0x76f)][_0x148f80(0x4a3)]+_0x148f80(0x43c)+this[_0x148f80(0x362)][_0x148f80(0x76f)]['pairingCode']+'\x20}\x0a'+_0x166a0b));}if(_0x151b58&&(this[_0x148f80(0x20a)]={'state':_0x151b58,'statusReason':_0x53e16b?.[_0x148f80(0x6f1)]?.['output']?.[_0x148f80(0x49c)]??0xc8},this[_0x148f80(0x1f6)](_0x148f80(0x2c1),{'instance':this[_0x148f80(0x362)]['name'],...this['stateConnection']})),_0x151b58===_0x148f80(0x5f4)){if(this[_0x148f80(0x45a)]++,this[_0x148f80(0x7e1)][_0x148f80(0x758)](Date['now']()),this[_0x148f80(0x7e1)]=this[_0x148f80(0x7e1)][_0x148f80(0x4d5)](_0xa895a3=>Date[_0x148f80(0x420)]()-_0xa895a3<this[_0x148f80(0x5ad)]),_0x53e16b[_0x148f80(0x6f1)]?.[_0x148f80(0x370)]?.[_0x148f80(0x49c)]!==m[_0x148f80(0x332)][_0x148f80(0x707)]&&this[_0x148f80(0x7e1)][_0x148f80(0x2f0)]<=this['MAX_RECONNECT_ATTEMPTS'])console['log'](this[_0x148f80(0x554)]+'\x20Tentativa\x20de\x20reconexão\x20'+this[_0x148f80(0x45a)]+'/'+this['MAX_RECONNECT_ATTEMPTS']+_0x148f80(0x781)),console[_0x148f80(0x38a)](_0x148f80(0x2ea)),await this[_0x148f80(0x5c4)]();else{this[_0x148f80(0x1f6)](_0x148f80(0x604),{'instance':this[_0x148f80(0x362)]['name'],'status':'removed'}),this[_0x148f80(0x7c2)]=!0x1,this[_0x148f80(0x769)]['webhook'][_0x148f80(0x606)](this[_0x148f80(0x554)]),this[_0x148f80(0x769)]['auth']['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0x148f80(0x420)]()},this[_0x148f80(0x362)][_0x148f80(0x69a)]);try{this[_0x148f80(0x780)]['verbose'](this[_0x148f80(0x554)]+'\x20('+this[_0x148f80(0x362)][_0x148f80(0x43f)]+_0x148f80(0x4bb));let _0x36916f=await this[_0x148f80(0x769)][_0x148f80(0x638)]['deleteAll'](this[_0x148f80(0x362)][_0x148f80(0x43f)]);_0x36916f[_0x148f80(0x57f)]?this['logger'][_0x148f80(0x62f)](this[_0x148f80(0x554)]+'\x20('+this['instance'][_0x148f80(0x43f)]+_0x148f80(0x3cd)):console['error'](_0x148f80(0x298),_0x36916f[_0x148f80(0x6f1)]);}catch(_0x13ec4b){console[_0x148f80(0x6f1)](_0x148f80(0x6bb),_0x13ec4b);}this[_0x148f80(0x784)]!==null&&(this[_0x148f80(0x780)][_0x148f80(0x62f)](this[_0x148f80(0x554)]+'\x20('+this[_0x148f80(0x362)]['wuid']+_0x148f80(0x5fe)),clearInterval(this['delayMessage']),this[_0x148f80(0x784)]=null),this[_0x148f80(0x780)][_0x148f80(0x62f)](this[_0x148f80(0x554)]+'\x20('+this[_0x148f80(0x362)][_0x148f80(0x43f)]+'):\x20Limpando\x20AutomateSystem'),this['AutomateSystem']=null,this['eventEmitter'][_0x148f80(0x363)](_0x148f80(0x54a),this[_0x148f80(0x362)][_0x148f80(0x69a)],_0x148f80(0x3a6)),this[_0x148f80(0x395)]?.['ws']?.[_0x148f80(0x5f4)](),this[_0x148f80(0x395)][_0x148f80(0x489)](new Error(_0x148f80(0x481)));}}if(_0x151b58===_0x148f80(0x428)){this[_0x148f80(0x395)]['ev'][_0x148f80(0x681)](),this[_0x148f80(0x243)],this['instance'][_0x148f80(0x43f)]=this[_0x148f80(0x395)][_0x148f80(0x609)]['id']['replace'](/:\d+/,'')[_0x148f80(0x7c4)]('@s.whatsapp.net',''),this[_0x148f80(0x362)][_0x148f80(0x265)]=(await this['profilePicture'](this['instance'][_0x148f80(0x43f)]+'@s.whatsapp.net'))['profilePictureUrl'],this[_0x148f80(0x769)][_0x148f80(0x445)][_0x148f80(0x690)]({'online':!0x0,'owner':this[_0x148f80(0x362)]['wuid'],'lastDisconnect':null},this['instance']['name']);let _0x15d6c8=_0x148f80(0x468)+this[_0x148f80(0x362)][_0x148f80(0x43f)],_0x5422b7=0x28,_0x41463e=Math[_0x148f80(0x56e)]((_0x5422b7-_0x15d6c8[_0x148f80(0x2f0)])/0x2),_0xc3ae7e='\x20'[_0x148f80(0x48e)](_0x41463e),_0x2b73d3=_0x148f80(0x523),_0x4597c4=_0x148f80(0x24f)+this['instance']['name'],_0x3881a9=(''+_0xc3ae7e+_0x15d6c8+_0xc3ae7e)[_0x148f80(0x421)](_0x5422b7,'\x20'),_0x1352a2=(''+_0xc3ae7e+_0x2b73d3+_0xc3ae7e)['padEnd'](_0x5422b7,'\x20'),_0x3e59dd=(''+_0xc3ae7e+_0x4597c4+_0xc3ae7e)[_0x148f80(0x421)](_0x5422b7,'\x20'),_0x14c33b=Math[_0x148f80(0x66b)](_0x3881a9[_0x148f80(0x2f0)],_0x1352a2[_0x148f80(0x2f0)],_0x3e59dd[_0x148f80(0x2f0)]),_0x1a3673=_0x3881a9[_0x148f80(0x421)](_0x14c33b,'\x20'),_0x4ff8e7=_0x1352a2[_0x148f80(0x421)](_0x14c33b,'\x20'),_0x6d526=_0x3e59dd['padEnd'](_0x14c33b,'\x20');this[_0x148f80(0x780)][_0x148f80(0x6cc)]((_0x148f80(0x70a)+'─'['repeat'](_0x14c33b)+_0x148f80(0x71a)+_0x4ff8e7+_0x148f80(0x69c)+_0x6d526+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x1a3673+_0x148f80(0x7a0)+'─'[_0x148f80(0x48e)](_0x14c33b)+'┘')[_0x148f80(0x7c4)](/^ +/gm,'\x20\x20')),this[_0x148f80(0x215)](),this['isConnected']=!0x0;}}[a0_0x28b734(0x243)](){const _0x2b60f7=a0_0x28b734;this[_0x2b60f7(0x45a)]=0x0,this[_0x2b60f7(0x7e1)]=[];}async['getMessage'](_0x508430,_0x5df2a6=!0x1){const _0x414ced=a0_0x28b734;try{let _0x2cb71b=await this[_0x414ced(0x769)][_0x414ced(0x638)][_0x414ced(0x79e)]({'where':{'_id':_0x508430['id']}},this['instance']['wuid']);return _0x5df2a6?_0x2cb71b[0x0]:_0x2cb71b[0x0][_0x414ced(0x638)];}catch{return{'conversation':''};}}[a0_0x28b734(0x280)](){const _0x38c04c=a0_0x28b734;let _0x49e4c2=this[_0x38c04c(0x78a)][_0x38c04c(0x238)]('STORE'),_0x4ce18f=this[_0x38c04c(0x78a)]['get']('DATABASE');_0x49e4c2?.[_0x38c04c(0x304)]&&!_0x4ce18f[_0x38c04c(0x7d2)]&&setInterval(()=>{const _0x381cf2=_0x38c04c;try{for(let [_0x3f8d11,_0x38bbe8]of Object[_0x381cf2(0x2b5)](_0x49e4c2))_0x38bbe8===!0x0&&(0x0,Pt['execSync'])(_0x381cf2(0x55c)+(0x0,j['join'])(this[_0x381cf2(0x2a4)],_0x3f8d11['toLowerCase'](),this[_0x381cf2(0x362)][_0x381cf2(0x43f)])+_0x381cf2(0x3a8));}catch{}},(_0x49e4c2?.[_0x38c04c(0x304)]??0xe10)*0x3e8);}async[a0_0x28b734(0x825)](){const _0x9d9c1e=a0_0x28b734;let _0x2fe3e8=this[_0x9d9c1e(0x78a)][_0x9d9c1e(0x238)](_0x9d9c1e(0x64b)),_0x272016=this[_0x9d9c1e(0x78a)]['get'](_0x9d9c1e(0x442));return _0x272016?.[_0x9d9c1e(0x7d2)]?await bs(_0x272016,this[_0x9d9c1e(0x362)][_0x9d9c1e(0x69a)]):_0x2fe3e8[_0x9d9c1e(0x7d2)]?await ys(this['instance']['name']):await(0x0,m[_0x9d9c1e(0x5c1)])((0x0,j[_0x9d9c1e(0x67e)])(ge,this['instance'][_0x9d9c1e(0x69a)]));}async[a0_0x28b734(0x215)](){const _0x1ad05e=a0_0x28b734;let _0x4b3ba9=()=>Math[_0x1ad05e(0x56e)](Math[_0x1ad05e(0x576)]()*0x2711)+0x7d0,_0x576c91=async()=>{const _0x21fefb=_0x1ad05e;if(!this[_0x21fefb(0x7c2)]){this[_0x21fefb(0x780)]['verbose'](_0x21fefb(0x539)),this[_0x21fefb(0x389)]=!0x1;return;}if(this[_0x21fefb(0x362)][_0x21fefb(0x43f)]&&this['AutomateSystem']&&this[_0x21fefb(0x784)]!==null&&this['delayMessage']!==void 0x0){let _0x2c7c52=Math[_0x21fefb(0x1fe)](this[_0x21fefb(0x784)]/0xea60);this[_0x21fefb(0x780)][_0x21fefb(0x62f)](this[_0x21fefb(0x554)]+'\x20('+this[_0x21fefb(0x362)][_0x21fefb(0x43f)]+'):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20'+_0x2c7c52+_0x21fefb(0x257)),this[_0x21fefb(0x389)]=!0x1;return;}else this[_0x21fefb(0x362)][_0x21fefb(0x43f)]&&(this[_0x21fefb(0x780)][_0x21fefb(0x62f)](this[_0x21fefb(0x554)]+'\x20('+this['instance'][_0x21fefb(0x43f)]+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this[_0x21fefb(0x780)]['verbose'](this[_0x21fefb(0x554)]+'\x20('+this[_0x21fefb(0x362)]['wuid']+_0x21fefb(0x2cd)),this['AutomateSystem']||await this[_0x21fefb(0x3b5)](),(this[_0x21fefb(0x784)]===null||this[_0x21fefb(0x784)]===void 0x0)&&await this['scheduleNextCheck']());if(this[_0x21fefb(0x389)]){let _0x311921=_0x4b3ba9();this[_0x21fefb(0x780)][_0x21fefb(0x62f)](this[_0x21fefb(0x554)]+_0x21fefb(0x7ef)+_0x311921/0x3e8+'\x20segundos'),setTimeout(_0x576c91,_0x311921);}};if(this['isRunning'])return;this[_0x1ad05e(0x389)]=!0x0;let _0x369996=_0x4b3ba9();setTimeout(_0x576c91,_0x369996);}async[a0_0x28b734(0x321)](_0x1df2b9=0x0,_0x141380=!0x1){const _0x43db6c=a0_0x28b734;try{let _0x46b926=this[_0x43db6c(0x78a)][_0x43db6c(0x238)](_0x43db6c(0x3c9));if(_0x46b926!==0x1||typeof _0x46b926>'u'||_0x1df2b9>=0x5)return this[_0x43db6c(0x780)][_0x43db6c(0x272)](_0x43db6c(0x297)),this[_0x43db6c(0x769)][_0x43db6c(0x445)][_0x43db6c(0x690)]({'ip':null},this[_0x43db6c(0x362)][_0x43db6c(0x69a)]),{};this['logger'][_0x43db6c(0x62f)](this[_0x43db6c(0x554)]+_0x43db6c(0x79d)+(_0x1df2b9+0x1)+'\x20de\x20conectar\x20com\x20IP\x20extra.');let _0xcfd725;if(!_0x141380){let _0x2cbe93=await this['repository'][_0x43db6c(0x445)][_0x43db6c(0x79e)](this[_0x43db6c(0x554)]);_0x2cbe93&&_0x2cbe93['ip']&&(_0xcfd725=gr(_0x2cbe93['ip']));}if((!_0xcfd725||!Ss(_0xcfd725))&&(this[_0x43db6c(0x780)]['warn'](this[_0x43db6c(0x554)]+_0x43db6c(0x5af)),_0xcfd725=mr()),_0xcfd725&&Ss(_0xcfd725)){let _0x2ff68f=_0xcfd725[_0x43db6c(0x782)]&&_0xcfd725[_0x43db6c(0x2ba)]?_0xcfd725[_0x43db6c(0x4f8)]+'://'+_0xcfd725[_0x43db6c(0x782)]+':'+_0xcfd725[_0x43db6c(0x2ba)]+'@'+_0xcfd725['host']+':'+_0xcfd725[_0x43db6c(0x302)]:_0xcfd725[_0x43db6c(0x4f8)]+_0x43db6c(0x1cf)+_0xcfd725[_0x43db6c(0x3c0)]+':'+_0xcfd725['port'];return await this[_0x43db6c(0x455)](_0x2ff68f,_0xcfd725[_0x43db6c(0x3c0)])?(this[_0x43db6c(0x780)]['verbose'](this['instanceName']+_0x43db6c(0x413)),this[_0x43db6c(0x769)][_0x43db6c(0x445)][_0x43db6c(0x690)]({'ip':_0xcfd725[_0x43db6c(0x3c0)]},this[_0x43db6c(0x362)][_0x43db6c(0x69a)]),{'agent':new _t[(_0x43db6c(0x7cc))](_0x2ff68f),'fetchAgent':new _t['HttpsProxyAgent'](_0x2ff68f)}):(this[_0x43db6c(0x780)][_0x43db6c(0x272)](this[_0x43db6c(0x554)]+':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...'),await(0x0,m[_0x43db6c(0x4cb)])(0xc8),this[_0x43db6c(0x321)](_0x1df2b9+0x1,!0x0));}else return this[_0x43db6c(0x780)][_0x43db6c(0x272)](this['instanceName']+_0x43db6c(0x79b)),await(0x0,m[_0x43db6c(0x4cb)])(0xc8),this[_0x43db6c(0x321)](_0x1df2b9+0x1,!0x0);}catch(_0x512aa9){return this['logger'][_0x43db6c(0x6f1)](this[_0x43db6c(0x554)]+_0x43db6c(0x203)+_0x512aa9['message']),{};}}async[a0_0x28b734(0x455)](_0x5e06c5,_0x8c4660){const _0x4d94d1=a0_0x28b734;let _0x1d3f07=new _t['HttpsProxyAgent'](_0x5e06c5),_0x4d5225=0x1388,_0x550c30=[{'url':'https://jsonip.com','parse':_0x248dbc=>_0x248dbc['ip']},{'url':_0x4d94d1(0x1f8),'parse':_0x422968=>_0x422968['ip']},{'url':_0x4d94d1(0x3c4),'parse':_0x581a7c=>_0x581a7c[_0x4d94d1(0x42a)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x4d94d1(0x6e4),'parse':_0x410de7=>_0x410de7['ip']},{'url':'http://ifconfig.me/ip','parse':_0x4bd9ab=>_0x4bd9ab[_0x4d94d1(0x68b)]()},{'url':_0x4d94d1(0x6d1),'parse':_0x1b4626=>_0x1b4626['trim']()},{'url':_0x4d94d1(0x404),'parse':_0x5a6104=>_0x5a6104[_0x4d94d1(0x1ae)]},{'url':_0x4d94d1(0x552),'parse':_0x527352=>_0x527352[_0x4d94d1(0x68b)]()},{'url':'http://icanhazip.com/','parse':_0x15e8b2=>_0x15e8b2[_0x4d94d1(0x68b)]()}],_0x5eb334=_0x550c30[Math[_0x4d94d1(0x56e)](Math[_0x4d94d1(0x576)]()*_0x550c30[_0x4d94d1(0x2f0)])];try{let _0x1fd3f7=await te['default'][_0x4d94d1(0x238)](_0x5eb334[_0x4d94d1(0x2d6)],{'httpsAgent':_0x1d3f07,'timeout':_0x4d5225}),_0x516a51=_0x5eb334[_0x4d94d1(0x678)](_0x1fd3f7[_0x4d94d1(0x7f3)]);return _0x516a51===_0x8c4660?(this[_0x4d94d1(0x780)][_0x4d94d1(0x62f)](this[_0x4d94d1(0x554)]+':\x20IP\x20configurado:\x20'+_0x8c4660+_0x4d94d1(0x24b)+_0x516a51+'\x20->\x20CONFIRMADO.'),!0x0):(this[_0x4d94d1(0x780)][_0x4d94d1(0x6f1)](this['instanceName']+':\x20IP\x20configurado:\x20'+_0x8c4660+_0x4d94d1(0x24b)+_0x516a51+_0x4d94d1(0x479)),!0x1);}catch(_0x5a853c){return this['logger'][_0x4d94d1(0x6f1)](this['instanceName']+_0x4d94d1(0x7ce)+_0x5eb334[_0x4d94d1(0x2d6)]+':\x20'+_0x5a853c['message']),!0x1;}}async[a0_0x28b734(0x5c4)](_0x34b084){const _0x588262=a0_0x28b734;try{let _0x26a8e1=await this[_0x588262(0x321)]();this[_0x588262(0x30e)](),this[_0x588262(0x362)][_0x588262(0x384)]=(await this[_0x588262(0x769)][_0x588262(0x445)][_0x588262(0x79e)](this['instance']['name']))[_0x588262(0x384)],this[_0x588262(0x362)][_0x588262(0x4e4)]=await this[_0x588262(0x825)]();let {version:_0xeae02e}=await(0x0,m[_0x588262(0x58a)])(),_0x240f26=[Ns,Cr,(0x0,Es[_0x588262(0x507)])()],_0x345ebf={..._0x26a8e1,'auth':{'creds':this['instance'][_0x588262(0x4e4)][_0x588262(0x44d)][_0x588262(0x30a)],'keys':(0x0,m[_0x588262(0x5fc)])(this[_0x588262(0x362)]['authState'][_0x588262(0x44d)][_0x588262(0x732)],(0x0,It[_0x588262(0x4d7)])({'level':_0x588262(0x6f1)}))},'logger':(0x0,It['default'])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x34b084?[_0x588262(0x70d),Ns,(0x0,Es[_0x588262(0x507)])()]:_0x240f26,'version':_0xeae02e,'retryRequestDelayMs':0xfa,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x15b66b=>{const _0x34f656=_0x588262;let _0xafceb4=_0x15b66b[_0x34f656(0x406)](_0x34f656(0x2e3)),_0x3ea797=_0x15b66b['endsWith'](_0x34f656(0x352));return _0xafceb4||_0x3ea797;},'msgRetryCounterCache':this[_0x588262(0x380)],'getMessage':async _0x2fe953=>await this['getMessage'](_0x2fe953),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x588262(0x30b)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x5b9cfc=>(_0x5b9cfc[_0x588262(0x55a)]?.['listType']==m[_0x588262(0x4fc)][_0x588262(0x5bf)][_0x588262(0x713)][_0x588262(0x671)][_0x588262(0x531)]&&(_0x5b9cfc=JSON['parse'](JSON[_0x588262(0x463)](_0x5b9cfc)),_0x5b9cfc[_0x588262(0x55a)][_0x588262(0x5a0)]=m[_0x588262(0x4fc)][_0x588262(0x5bf)][_0x588262(0x713)]['ListType'][_0x588262(0x5dc)]),_0x5b9cfc)};return this[_0x588262(0x2e2)]=!0x1,this[_0x588262(0x395)]=(0x0,m['default'])(_0x345ebf),this[_0x588262(0x61a)](),this['phoneNumber']=_0x34b084,this['client'];}catch(_0x262923){throw this[_0x588262(0x780)][_0x588262(0x6f1)](this[_0x588262(0x554)]+'\x20('+this[_0x588262(0x362)][_0x588262(0x43f)]+_0x588262(0x1b5)+(_0x262923 instanceof Error?_0x262923[_0x588262(0x638)]:JSON[_0x588262(0x463)](_0x262923,null,0x2))),new I(_0x262923?.[_0x588262(0x448)]());}}[a0_0x28b734(0x61a)](){const _0x2ec6be=a0_0x28b734;this[_0x2ec6be(0x395)]['ev'][_0x2ec6be(0x3b2)](_0x4bcf36=>{const _0x47fe46=_0x2ec6be;if(!this[_0x47fe46(0x2e2)]){let _0x41e0f2=this[_0x47fe46(0x78a)][_0x47fe46(0x238)](_0x47fe46(0x64b));if(_0x4bcf36[_0x47fe46(0x213)]){let _0x399861=_0x4bcf36[_0x47fe46(0x213)];this[_0x47fe46(0x5f3)][_0x47fe46(0x213)](_0x399861);}if(_0x4bcf36[_0x47fe46(0x28b)]){let _0x4075f1=_0x4bcf36[_0x47fe46(0x28b)];this['messageHandle'][_0x47fe46(0x28b)](_0x4075f1);}if(_0x4bcf36['connection.update']&&this['connectionUpdate'](_0x4bcf36['connection.update']),_0x4bcf36[_0x47fe46(0x301)]&&this[_0x47fe46(0x362)][_0x47fe46(0x4e4)][_0x47fe46(0x7c8)](),_0x4bcf36['messaging-history.set']){let _0x535841=_0x4bcf36[_0x47fe46(0x7e2)];this['messageHandle']['messaging-history.set'](_0x535841,_0x41e0f2);}if(_0x4bcf36[_0x47fe46(0x533)]){let _0x56f134=_0x4bcf36[_0x47fe46(0x533)];this[_0x47fe46(0x5f3)][_0x47fe46(0x533)](_0x56f134,_0x41e0f2);}if(_0x4bcf36['messages.update']){let _0x366a0c=_0x4bcf36[_0x47fe46(0x5c5)];_0x366a0c['forEach'](_0xb1a925=>{const _0x3c2743=_0x47fe46;if(wr[_0xb1a925[_0x3c2743(0x670)]['id']]){this[_0x3c2743(0x395)]['ev'][_0x3c2743(0x363)](_0x3c2743(0x533),{'messages':[_0xb1a925],'type':_0x3c2743(0x344)}),delete wr[_0xb1a925['key']['id']];return;}}),this[_0x47fe46(0x5f3)]['messages.update'](_0x366a0c,_0x41e0f2);}if(_0x4bcf36[_0x47fe46(0x42f)]){let _0x1ac235=_0x4bcf36['presence.update'];if(this[_0x47fe46(0x7b9)]?.[_0x47fe46(0x2ef)]&&_0x1ac235['id'][_0x47fe46(0x6c9)](_0x47fe46(0x608)))return;this['sendDataWebhook']('presence.update',_0x1ac235);}if(!this[_0x47fe46(0x7b9)]?.[_0x47fe46(0x2ef)]){if(_0x4bcf36[_0x47fe46(0x6e1)]){let _0x1afaf4=_0x4bcf36[_0x47fe46(0x6e1)];this['groupHandler'][_0x47fe46(0x6e1)](_0x1afaf4);}if(_0x4bcf36[_0x47fe46(0x210)]){let _0x405120=_0x4bcf36[_0x47fe46(0x210)];this[_0x47fe46(0x465)][_0x47fe46(0x210)](_0x405120);}if(_0x4bcf36[_0x47fe46(0x663)]){let _0x58f1cb=_0x4bcf36[_0x47fe46(0x663)];this[_0x47fe46(0x465)][_0x47fe46(0x663)](_0x58f1cb);}}if(_0x4bcf36[_0x47fe46(0x464)]){let _0x3ead49=_0x4bcf36['chats.upsert'];this['chatHandle'][_0x47fe46(0x464)](_0x3ead49,_0x41e0f2);}if(_0x4bcf36[_0x47fe46(0x381)]){let _0xc16ebe=_0x4bcf36[_0x47fe46(0x381)];this[_0x47fe46(0x521)][_0x47fe46(0x381)](_0xc16ebe,_0x41e0f2);}if(_0x4bcf36[_0x47fe46(0x7fe)]){let _0x3b9f0b=_0x4bcf36[_0x47fe46(0x7fe)];this[_0x47fe46(0x521)][_0x47fe46(0x7fe)](_0x3b9f0b);}if(_0x4bcf36[_0x47fe46(0x42c)]){let _0x2ea619=_0x4bcf36[_0x47fe46(0x42c)];this['contactHandle'][_0x47fe46(0x42c)](_0x2ea619,_0x41e0f2);}if(_0x4bcf36['contacts.update']){let _0x45318d=_0x4bcf36[_0x47fe46(0x4da)];this[_0x47fe46(0x5c2)][_0x47fe46(0x4da)](_0x45318d,_0x41e0f2);}}});}[a0_0x28b734(0x3ad)](_0x4481e5){return new Promise(_0x48caa5=>setTimeout(_0x48caa5,_0x4481e5));}[a0_0x28b734(0x4eb)](_0x5a7e6f){let _0x452b75=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x5a7e6f);if(_0x452b75&&_0x452b75[0x1]==='55'){let _0x5883af=_0x452b75[0x2],_0x59ee64=_0x452b75[0x3],_0x52bcef=_0x452b75[0x4];if(_0x5883af>='31'&&_0x59ee64==='9')return _0x452b75[0x1]+_0x5883af+_0x52bcef;}return _0x5a7e6f;}[a0_0x28b734(0x1aa)](_0x452d2b){const _0x1de161=a0_0x28b734;return _0x452d2b[_0x1de161(0x6c9)](_0x1de161(0x608))||_0x452d2b[_0x1de161(0x6c9)]('@s.whatsapp.net')||_0x452d2b[_0x1de161(0x6c9)]('@broadcast')?_0x452d2b:(_0x452d2b=_0x452d2b?.[_0x1de161(0x7c4)](/\s/g,'')[_0x1de161(0x7c4)](/\+/g,'')[_0x1de161(0x7c4)](/\(/g,'')[_0x1de161(0x7c4)](/\)/g,'')[_0x1de161(0x5ac)](/\:/)[0x0][_0x1de161(0x5ac)]('@')[0x0],_0x452d2b[_0x1de161(0x2f0)]>=0x12?(_0x452d2b=_0x452d2b['replace'](/[^\d-]/g,''),_0x452d2b+'@g.us'):(_0x452d2b=_0x452d2b['replace'](/\D/g,''),this[_0x1de161(0x4eb)](_0x452d2b)+_0x1de161(0x5f8)));}async['updatePresence'](_0x296edf){const _0x1ed65b=a0_0x28b734;let _0x551c2b=this[_0x1ed65b(0x1aa)](_0x296edf[_0x1ed65b(0x517)]),_0x5867b5=(await this[_0x1ed65b(0x4a7)]({'numbers':[_0x551c2b]}))[0x0];if(!_0x5867b5[_0x1ed65b(0x68a)]&&!(0x0,m['isJidGroup'])(_0x5867b5[_0x1ed65b(0x441)]))throw new w(_0x5867b5);let _0x5243fb=(0x0,m[_0x1ed65b(0x5a5)])(_0x551c2b)?_0x551c2b:_0x5867b5[_0x1ed65b(0x441)];if((0x0,m[_0x1ed65b(0x5a5)])(_0x5243fb))try{await this[_0x1ed65b(0x395)][_0x1ed65b(0x733)](_0x5243fb);}catch{throw new k('Group\x20not\x20found');}try{return await this[_0x1ed65b(0x395)][_0x1ed65b(0x2b9)](_0x5243fb),await this[_0x1ed65b(0x395)]['sendPresenceUpdate'](_0x296edf[_0x1ed65b(0x72b)],_0x551c2b),{'status':0xc8,'presence':_0x296edf[_0x1ed65b(0x72b)]};}catch(_0x4d403e){throw new w(_0x4d403e[_0x1ed65b(0x448)]());}}async[a0_0x28b734(0x24e)](_0x35b9b0){const _0x10c938=a0_0x28b734;let _0x444de4=this[_0x10c938(0x1aa)](_0x35b9b0);try{return{'wuid':_0x444de4,'profilePictureUrl':await this[_0x10c938(0x395)][_0x10c938(0x265)](_0x444de4,_0x10c938(0x24c))};}catch{return{'wuid':_0x444de4,'profilePictureUrl':null};}}async['sendMessageWithTyping'](_0x4c2dfe,_0x1764e0,_0x3c20b7){const _0x158fea=a0_0x28b734;_0x3c20b7||(_0x3c20b7={});let _0x33ec44=(await this[_0x158fea(0x4a7)]({'numbers':[_0x4c2dfe]}))[0x0];if(!_0x33ec44[_0x158fea(0x68a)]&&!(0x0,m[_0x158fea(0x5a5)])(_0x33ec44[_0x158fea(0x441)])&&!_0x33ec44['jid']['includes'](_0x158fea(0x352)))throw new w(_0x33ec44);let _0x1255ed=_0x33ec44[_0x158fea(0x441)];try{_0x3c20b7?.[_0x158fea(0x4cb)]&&(await this['client'][_0x158fea(0x2b9)](_0x1255ed),await this[_0x158fea(0x395)][_0x158fea(0x34e)](_0x3c20b7?.[_0x158fea(0x72b)]??'composing',_0x1255ed),await(0x0,m[_0x158fea(0x4cb)])(_0x3c20b7['delay']),await this[_0x158fea(0x395)][_0x158fea(0x34e)](_0x158fea(0x569),_0x1255ed));let _0x4461e1=_0x3c20b7?.[_0x158fea(0x76e)]!=!0x1?void 0x0:!0x1,_0x3a0376;if(_0x3c20b7?.[_0x158fea(0x504)]){let _0x37cbab=_0x3c20b7?.[_0x158fea(0x504)],_0x23cc80=_0x37cbab?.['message']?_0x37cbab:await this['getMessage'](_0x37cbab['key'],!0x0);if(!_0x23cc80)throw'Message\x20not\x20found';_0x3a0376=_0x23cc80;}let _0x43805c;if((0x0,m[_0x158fea(0x5a5)])(_0x1255ed))try{let _0x44d99e=await this[_0x158fea(0x395)][_0x158fea(0x733)](_0x1255ed);if(!_0x44d99e)throw new k(_0x158fea(0x390));_0x3c20b7?.[_0x158fea(0x307)]&&(_0x3c20b7[_0x158fea(0x307)]?.[_0x158fea(0x64d)]?_0x43805c=_0x44d99e[_0x158fea(0x1cd)][_0x158fea(0x7df)](_0x140a67=>_0x140a67['id']):_0x3c20b7[_0x158fea(0x307)]?.['mentioned']?.['length']&&(_0x43805c=_0x3c20b7[_0x158fea(0x307)]['mentioned']['map'](_0xd4be0e=>{const _0x57cd8d=_0x158fea;let _0x3a26df=this['createJid'](_0xd4be0e);return(0x0,m[_0x57cd8d(0x5a5)])(_0x3a26df)?null:_0x3a26df;})));}catch{throw new k(_0x158fea(0x390));}let _0x2b56fc=await((async()=>{const _0x2c2771=_0x158fea;let _0x4125ec={'quoted':_0x3a0376};if(!_0x1764e0[_0x2c2771(0x611)]&&!_0x1764e0[_0x2c2771(0x524)]&&!_0x1764e0['sticker']&&!_0x1764e0['conversation']&&_0x1255ed!==_0x2c2771(0x5ab)&&!_0x1764e0[_0x2c2771(0x611)])return await this[_0x2c2771(0x395)]['sendMessage'](_0x1255ed,{'forward':{'key':{'remoteJid':this[_0x2c2771(0x362)][_0x2c2771(0x43f)],'fromMe':!0x0},'message':_0x1764e0},'mentions':_0x43805c},_0x4125ec);if(_0x1764e0[_0x2c2771(0x3a0)])return await this[_0x2c2771(0x395)]['sendMessage'](_0x1255ed,{'react':{'text':_0x1764e0[_0x2c2771(0x3a0)][_0x2c2771(0x27e)],'key':_0x1764e0[_0x2c2771(0x3a0)][_0x2c2771(0x670)]}},_0x4125ec);if(_0x1764e0['conversation']){let _0x5c8ec9=_0x1764e0[_0x2c2771(0x816)];return _0x3c20b7?.[_0x2c2771(0x234)]&&(_0x5c8ec9=await this['replaceVariablesChat'](_0x5c8ec9,_0x1255ed)),await this[_0x2c2771(0x395)][_0x2c2771(0x62d)](_0x1255ed,{'text':_0x5c8ec9,'mentions':_0x43805c,'linkPreview':_0x4461e1},_0x4125ec);}return _0x1255ed===_0x2c2771(0x5ab)?await this['client']['sendMessage'](_0x1255ed,_0x1764e0[_0x2c2771(0x6e9)][_0x2c2771(0x346)],{'backgroundColor':_0x1764e0[_0x2c2771(0x6e9)][_0x2c2771(0x700)][_0x2c2771(0x1f0)],'font':_0x1764e0[_0x2c2771(0x6e9)][_0x2c2771(0x700)][_0x2c2771(0x540)],'statusJidList':_0x1764e0[_0x2c2771(0x6e9)][_0x2c2771(0x700)][_0x2c2771(0x1a7)]}):await this[_0x2c2771(0x395)][_0x2c2771(0x62d)](_0x1255ed,_0x1764e0,_0x4125ec);})()),_0x1c32b0=(0x0,m['normalizeMessageContent'])(_0x2b56fc[_0x158fea(0x638)]),_0x530824=(0x0,m[_0x158fea(0x520)])(_0x1c32b0),{message_normalized:_0x8310f0}=this['normalizeMessage'](_0x1c32b0,_0x530824,null),_0x32b9bf={'_id':_0x2b56fc[_0x158fea(0x670)]['id'],'key':_0x2b56fc['key'],'pushName':_0x2b56fc[_0x158fea(0x7f7)],'message':_0x1c32b0,'messageType':_0x530824,'message_normalized':{'key':_0x2b56fc['key'],'pushName':_0x2b56fc[_0x158fea(0x7f7)],'messageTimestamp':_0x2b56fc[_0x158fea(0x5a6)]&&_0x2b56fc[_0x158fea(0x5a6)][_0x158fea(0x448)]()['length']<0xd?_0x2b56fc['messageTimestamp']*0x3e8:_0x2b56fc['messageTimestamp']||null,'source':(0x0,m[_0x158fea(0x598)])(_0x2b56fc[_0x158fea(0x670)]['id']),..._0x8310f0},'messageTimestamp':_0x2b56fc[_0x158fea(0x5a6)]&&_0x2b56fc[_0x158fea(0x5a6)][_0x158fea(0x448)]()[_0x158fea(0x2f0)]<0xd?_0x2b56fc[_0x158fea(0x5a6)]*0x3e8:_0x2b56fc[_0x158fea(0x5a6)]||null,'owner':this[_0x158fea(0x362)]['wuid'],'source':(0x0,m[_0x158fea(0x598)])(_0x2b56fc[_0x158fea(0x670)]['id'])};return this[_0x158fea(0x780)][_0x158fea(0x272)](this[_0x158fea(0x554)]+'\x20('+this[_0x158fea(0x362)][_0x158fea(0x43f)]+'):\x20enviado\x20para\x20['+_0x32b9bf[_0x158fea(0x670)]?.[_0x158fea(0x26f)]['replace'](_0x158fea(0x5f8),'')+_0x158fea(0x737)+_0x32b9bf[_0x158fea(0x1a1)]+')'),_0x32b9bf[_0x158fea(0x53c)]?.[_0x158fea(0x27e)]&&this[_0x158fea(0x780)]['warn'](_0x32b9bf['message_normalized']?.[_0x158fea(0x27e)]),this['sendDataWebhook']('send.message',_0x32b9bf),q(this[_0x158fea(0x554)],_0x158fea(0x3c1),{'message':_0x32b9bf}),this[_0x158fea(0x802)](this[_0x158fea(0x78a)][_0x158fea(0x238)](_0x158fea(0x64b)),_0x32b9bf,_0x158fea(0x33d)),await this['repository']['message'][_0x158fea(0x7a8)]([_0x32b9bf],this[_0x158fea(0x362)][_0x158fea(0x43f)]),_0x2b56fc;}catch(_0x131b8c){throw this['logger'][_0x158fea(0x6f1)](this[_0x158fea(0x554)]+'\x20('+this[_0x158fea(0x362)][_0x158fea(0x43f)]+_0x158fea(0x1b5)+_0x131b8c['toString']()),new w(_0x131b8c[_0x158fea(0x448)]());}}get['connectionStatus'](){const _0xecbab8=a0_0x28b734;return this[_0xecbab8(0x20a)];}async[a0_0x28b734(0x5be)](_0x464430){const _0x5a78dd=a0_0x28b734;let _0x98a455=fr,_0x17ce13=Ke;return _0x17ce13&&this['instanceName'][_0x5a78dd(0x7a6)]()[_0x5a78dd(0x6c9)](_0x17ce13[_0x5a78dd(0x7a6)]())&&(_0x464430[_0x5a78dd(0x5be)]['text']+='\x0a\x0a'+_0x98a455),await this[_0x5a78dd(0x30c)](_0x464430[_0x5a78dd(0x517)],{'conversation':_0x464430[_0x5a78dd(0x5be)]['text']},_0x464430?.[_0x5a78dd(0x37d)]);}async[a0_0x28b734(0x35d)](_0x38767a){const _0x1d355e=a0_0x28b734;if(!_0x38767a[_0x1d355e(0x2bd)])throw new w(_0x1d355e(0x2c7));if(!_0x38767a[_0x1d355e(0x346)])throw new w(_0x1d355e(0x559));if(_0x38767a['allContacts']){let _0x4a51ca=await this['repository'][_0x1d355e(0x1ba)][_0x1d355e(0x79e)]({'where':{}},this[_0x1d355e(0x362)][_0x1d355e(0x43f)]);if(!_0x4a51ca['length'])throw new w(_0x1d355e(0x7b1));_0x38767a[_0x1d355e(0x1a7)]=_0x4a51ca[_0x1d355e(0x4d5)](_0x150553=>_0x150553[_0x1d355e(0x7f7)])[_0x1d355e(0x7df)](_0x29cd07=>_0x29cd07[_0x1d355e(0x4fb)]);}if(!_0x38767a[_0x1d355e(0x1a7)]?.[_0x1d355e(0x2f0)]&&!_0x38767a[_0x1d355e(0x37c)])throw new w('StatusJidList\x20is\x20required');if(_0x38767a[_0x1d355e(0x2bd)]===_0x1d355e(0x27e)){if(!_0x38767a['backgroundColor'])throw new w('Background\x20color\x20is\x20required');if(!_0x38767a[_0x1d355e(0x540)])throw new w(_0x1d355e(0x270));return{'content':{'text':_0x38767a[_0x1d355e(0x346)]},'option':{'backgroundColor':_0x38767a[_0x1d355e(0x1f0)],'font':_0x38767a[_0x1d355e(0x540)],'statusJidList':_0x38767a[_0x1d355e(0x1a7)]}};}if(_0x38767a[_0x1d355e(0x2bd)]==='image')return{'content':{'image':{'url':_0x38767a['content']},'caption':_0x38767a[_0x1d355e(0x291)]},'option':{'statusJidList':_0x38767a['statusJidList']}};if(_0x38767a[_0x1d355e(0x2bd)]===_0x1d355e(0x453))return{'content':{'video':{'url':_0x38767a['content']},'caption':_0x38767a['caption']},'option':{'statusJidList':_0x38767a['statusJidList']}};if(_0x38767a[_0x1d355e(0x2bd)]===_0x1d355e(0x611)){this['logger'][_0x1d355e(0x62f)](_0x1d355e(0x1d1)),this[_0x1d355e(0x780)][_0x1d355e(0x62f)](_0x1d355e(0x1a3));let _0x178807=await this[_0x1d355e(0x7a3)](_0x38767a[_0x1d355e(0x346)]);if(typeof _0x178807=='string'){this[_0x1d355e(0x780)][_0x1d355e(0x62f)]('Audio\x20processed');let _0x3fd8ff=L[_0x1d355e(0x290)](_0x178807)[_0x1d355e(0x448)](_0x1d355e(0x42d));return{'content':{'audio':Buffer[_0x1d355e(0x325)](_0x3fd8ff,_0x1d355e(0x42d)),'ptt':!0x0,'mimetype':'audio/mp4'},'option':{'statusJidList':_0x38767a[_0x1d355e(0x1a7)]}};}else throw new I(_0x178807);}throw new w(_0x1d355e(0x815));}async[a0_0x28b734(0x247)](_0x41459d){const _0x429476=a0_0x28b734;return await this[_0x429476(0x30c)]('status@broadcast',{'status':await this[_0x429476(0x35d)](_0x41459d[_0x429476(0x247)])});}async[a0_0x28b734(0x5ba)](_0xda98de){const _0x5dd6b1=a0_0x28b734;try{let _0x422d59=await(0x0,m['prepareWAMessageMedia'])({[_0xda98de['mediatype']]:(0x0,$[_0x5dd6b1(0x6a5)])(_0xda98de[_0x5dd6b1(0x337)])?{'url':_0xda98de['media']}:Buffer[_0x5dd6b1(0x325)](_0xda98de['media'],'base64')},{'upload':this[_0x5dd6b1(0x395)][_0x5dd6b1(0x425)]}),_0x2d71e9=_0xda98de[_0x5dd6b1(0x51d)]+_0x5dd6b1(0x5bf);if(_0xda98de[_0x5dd6b1(0x51d)]==='document'&&!_0xda98de[_0x5dd6b1(0x382)]){let _0x6b97d3=new RegExp(/.*\/(.+?)\./)[_0x5dd6b1(0x1c9)](_0xda98de[_0x5dd6b1(0x337)]);_0xda98de['fileName']=_0x6b97d3?_0x6b97d3[0x1]:null;}let _0x399ee8=(0x0,$['isURL'])(_0xda98de[_0x5dd6b1(0x337)])?_0xda98de[_0x5dd6b1(0x337)][_0x5dd6b1(0x5ac)]('?')[0x0]:_0xda98de[_0x5dd6b1(0x337)];this[_0x5dd6b1(0x780)]['verbose'](_0x5dd6b1(0x64e)+_0x399ee8);let _0x51f394;(0x0,$['isURL'])(_0xda98de[_0x5dd6b1(0x337)])?_0x51f394=(0x0,xt[_0x5dd6b1(0x4b6)])(_0x399ee8):_0xda98de[_0x5dd6b1(0x382)]&&_0xda98de['fileName']['includes']('.')?_0x51f394=(0x0,xt[_0x5dd6b1(0x4b6)])(_0xda98de['fileName']):_0x51f394=(0x0,xt[_0x5dd6b1(0x4b6)])(_0xda98de['media']);let _0x3532ea=fr,_0x2a9e65=Ke;return _0x2a9e65&&this[_0x5dd6b1(0x554)][_0x5dd6b1(0x7a6)]()[_0x5dd6b1(0x6c9)](_0x2a9e65[_0x5dd6b1(0x7a6)]())&&(_0xda98de['caption']+='\x0a\x0a'+_0x3532ea),_0x422d59[_0x2d71e9][_0x5dd6b1(0x291)]=_0xda98de?.[_0x5dd6b1(0x291)],_0x422d59[_0x2d71e9]['mimetype']=_0x51f394,_0x422d59[_0x2d71e9][_0x5dd6b1(0x382)]=_0xda98de['fileName'],_0xda98de[_0x5dd6b1(0x51d)]===_0x5dd6b1(0x453)&&(_0x422d59[_0x2d71e9][_0x5dd6b1(0x2d8)]=Uint8Array[_0x5dd6b1(0x325)]((0x0,ve[_0x5dd6b1(0x290)])((0x0,j[_0x5dd6b1(0x67e)])(process['cwd'](),_0x5dd6b1(0x3c8)))),_0x422d59[_0x2d71e9]['gifPlayback']=!0x1),(0x0,m[_0x5dd6b1(0x28a)])('',{[_0x2d71e9]:{..._0x422d59[_0x2d71e9]}},{'userJid':this[_0x5dd6b1(0x362)]['wuid']});}catch(_0x533492){throw this['logger'][_0x5dd6b1(0x6f1)](this[_0x5dd6b1(0x554)]+'\x20('+this[_0x5dd6b1(0x362)][_0x5dd6b1(0x43f)]+_0x5dd6b1(0x1b5)+(_0x533492 instanceof Error?_0x533492[_0x5dd6b1(0x638)]:JSON[_0x5dd6b1(0x463)](_0x533492,null,0x2))),new I(_0x533492?.[_0x5dd6b1(0x448)]()||_0x533492);}}async[a0_0x28b734(0x514)](_0x931b6){const _0x2a66cb=a0_0x28b734;let _0x3c44f1=await this['prepareMediaMessage'](_0x931b6[_0x2a66cb(0x514)]);return await this[_0x2a66cb(0x30c)](_0x931b6[_0x2a66cb(0x517)],{..._0x3c44f1[_0x2a66cb(0x638)]},_0x931b6?.['options']);}async[a0_0x28b734(0x4be)](_0x1b0b40,_0x586d57){const _0x416209=a0_0x28b734;try{this[_0x416209(0x780)][_0x416209(0x62f)](_0x416209(0x391));let _0x4ded7d,_0x4ff7f1=_0x586d57+'-'+new Date()[_0x416209(0x6bd)]();this[_0x416209(0x780)][_0x416209(0x62f)](_0x416209(0x538)+_0x4ff7f1);let _0xf37f32=''+(0x0,j[_0x416209(0x67e)])(this[_0x416209(0x2a4)],_0x4ff7f1+_0x416209(0x75b));if(this[_0x416209(0x780)]['verbose'](_0x416209(0x496)+_0xf37f32),(0x0,$['isBase64'])(_0x1b0b40)){this['logger'][_0x416209(0x62f)]('Image\x20is\x20base64');let _0x68cbbe=_0x1b0b40[_0x416209(0x7c4)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x5492a9=Buffer['from'](_0x68cbbe,_0x416209(0x42d));_0x4ded7d=''+(0x0,j[_0x416209(0x67e)])(this['storePath'],_0x416209(0x736)+_0x4ff7f1+_0x416209(0x2b6)),this[_0x416209(0x780)]['verbose'](_0x416209(0x48c)+_0x4ded7d),await(0x0,Dt[_0x416209(0x4d7)])(_0x5492a9)[_0x416209(0x705)](_0x4ded7d),this[_0x416209(0x780)][_0x416209(0x62f)]('Image\x20created');}else{this[_0x416209(0x780)][_0x416209(0x62f)]('Image\x20is\x20url');let _0x3ded5b=new Date()[_0x416209(0x6bd)](),_0x572481=_0x1b0b40+_0x416209(0x5dd)+_0x3ded5b;this[_0x416209(0x780)][_0x416209(0x62f)](_0x416209(0x605)+_0x572481);let _0x1c67d5=await te[_0x416209(0x4d7)][_0x416209(0x238)](_0x572481,{'responseType':_0x416209(0x59b)});this[_0x416209(0x780)][_0x416209(0x62f)](_0x416209(0x274));let _0x1d602c=Buffer['from'](_0x1c67d5[_0x416209(0x7f3)],_0x416209(0x492));_0x4ded7d=''+(0x0,j['join'])(this[_0x416209(0x2a4)],_0x416209(0x736)+_0x4ff7f1+_0x416209(0x2b6)),this[_0x416209(0x780)]['verbose']('Image\x20path:\x20'+_0x4ded7d),await(0x0,Dt[_0x416209(0x4d7)])(_0x1d602c)[_0x416209(0x705)](_0x4ded7d),this[_0x416209(0x780)][_0x416209(0x62f)](_0x416209(0x2ce));}return await(0x0,Dt[_0x416209(0x4d7)])(_0x4ded7d)[_0x416209(0x65f)]()[_0x416209(0x705)](_0xf37f32),this[_0x416209(0x780)]['verbose'](_0x416209(0x277)),L['unlinkSync'](_0x4ded7d),this['logger'][_0x416209(0x62f)]('Temp\x20image\x20deleted'),_0xf37f32;}catch(_0x5eae41){console['error'](_0x416209(0x58d),_0x5eae41 instanceof Error?_0x5eae41[_0x416209(0x638)]:JSON[_0x416209(0x463)](_0x5eae41,null,0x2));}}async[a0_0x28b734(0x6d0)](_0x264586){const _0x10b781=a0_0x28b734;let _0x4d7e28=await this[_0x10b781(0x4be)](_0x264586[_0x10b781(0x2f6)][_0x10b781(0x24c)],_0x264586[_0x10b781(0x517)]),_0x5162a9=await this[_0x10b781(0x30c)](_0x264586[_0x10b781(0x517)],{'sticker':{'url':_0x4d7e28}},_0x264586?.[_0x10b781(0x37d)]);return L[_0x10b781(0x288)](_0x4d7e28),this[_0x10b781(0x780)][_0x10b781(0x62f)]('Converted\x20image\x20deleted'),_0x5162a9;}async[a0_0x28b734(0x4c3)](_0x8f10d4){const _0x127105=a0_0x28b734;if(this[_0x127105(0x780)]['verbose']('Sending\x20audio\x20whatsapp'),!_0x8f10d4[_0x127105(0x37d)]?.['encoding']&&_0x8f10d4[_0x127105(0x37d)]?.['encoding']!==!0x1&&(_0x8f10d4['options'][_0x127105(0x433)]=!0x0),_0x8f10d4[_0x127105(0x37d)]?.[_0x127105(0x433)]){let _0x4a48c3=await this[_0x127105(0x7a3)](_0x8f10d4['audioMessage'][_0x127105(0x611)]);if(typeof _0x4a48c3==_0x127105(0x18e)){let _0xd414e3=L[_0x127105(0x290)](_0x4a48c3)[_0x127105(0x448)](_0x127105(0x42d)),_0x5e8d44=this['sendMessageWithTyping'](_0x8f10d4['number'],{'audio':Buffer[_0x127105(0x325)](_0xd414e3,_0x127105(0x42d)),'ptt':!0x0,'mimetype':_0x127105(0x369)},{'presence':_0x127105(0x53e),'delay':_0x8f10d4?.[_0x127105(0x37d)]?.[_0x127105(0x4cb)]});return this['logger'][_0x127105(0x62f)]('Converted\x20audio\x20deleted'),_0x5e8d44;}else throw new I(_0x4a48c3);}return await this[_0x127105(0x30c)](_0x8f10d4[_0x127105(0x517)],{'audio':(0x0,$[_0x127105(0x6a5)])(_0x8f10d4[_0x127105(0x728)][_0x127105(0x611)])?{'url':_0x8f10d4[_0x127105(0x728)]['audio']}:Buffer[_0x127105(0x325)](_0x8f10d4['audioMessage'][_0x127105(0x611)],'base64'),'ptt':!0x0,'mimetype':_0x127105(0x666)},{'presence':_0x127105(0x53e),'delay':_0x8f10d4?.[_0x127105(0x37d)]?.['delay']});}async['convertaudio'](_0x565a8e){const _0x47692b=a0_0x28b734;this[_0x47692b(0x780)][_0x47692b(0x62f)](_0x47692b(0x1a3));let _0x5b29ff=(0x0,$['isURL'])(_0x565a8e)?(0x0,vs[_0x47692b(0x6fd)])(_0x47692b(0x5fd))[_0x47692b(0x19a)](_0x565a8e)['digest']('hex'):(0x0,vs[_0x47692b(0x6fd)])(_0x47692b(0x5fd))[_0x47692b(0x19a)](_0x565a8e)['digest']('hex'),_0x4c60cf=''+(0x0,j[_0x47692b(0x67e)])(this[_0x47692b(0x2a4)],_0x5b29ff+_0x47692b(0x1d2));if(L[_0x47692b(0x80b)](_0x4c60cf))return this[_0x47692b(0x780)][_0x47692b(0x62f)](_0x47692b(0x2fd)),_0x4c60cf;let _0x2f5c22=''+(0x0,j[_0x47692b(0x67e)])(this[_0x47692b(0x2a4)],_0x47692b(0x736)+(0x0,Me['v4'])()+_0x47692b(0x375));if((0x0,$[_0x47692b(0x6a5)])(_0x565a8e)){let _0x3a5328=new Date()[_0x47692b(0x6bd)](),_0x283ce0=_0x565a8e+_0x47692b(0x5dd)+_0x3a5328,_0x11e436=await te[_0x47692b(0x4d7)][_0x47692b(0x238)](_0x283ce0,{'responseType':_0x47692b(0x59b)});L[_0x47692b(0x483)](_0x2f5c22,_0x11e436[_0x47692b(0x7f3)]);}else{let _0x324cca=Buffer['from'](_0x565a8e,'base64');L[_0x47692b(0x483)](_0x2f5c22,_0x324cca);}return new Promise((_0x16c040,_0xfd5a9e)=>{const _0x413579=_0x47692b;(0x0,Pt[_0x413579(0x1c9)])(yr[_0x413579(0x4d7)][_0x413579(0x1c0)]+'\x20-i\x20'+_0x2f5c22+_0x413579(0x46d)+_0x4c60cf+_0x413579(0x429),_0x149fdf=>{const _0x154108=_0x413579;if(L[_0x154108(0x288)](_0x2f5c22),_0x149fdf){this['logger'][_0x154108(0x62f)](_0x154108(0x650)),_0xfd5a9e(_0x149fdf);return;}this[_0x154108(0x780)]['verbose'](_0x154108(0x39b)),_0x16c040(_0x4c60cf);});});}async[a0_0x28b734(0x456)](_0x3578f1){const _0x45c681=a0_0x28b734;let _0x312cb6={},_0x471943=_0x45c681(0x1dc);if(_0x3578f1[_0x45c681(0x456)]?.[_0x45c681(0x514)]){_0x471943=_0x3578f1[_0x45c681(0x456)][_0x45c681(0x514)]?.[_0x45c681(0x51d)][_0x45c681(0x797)]()??_0x45c681(0x1dc),_0x312cb6[_0x45c681(0x57e)]=_0x471943[_0x45c681(0x7a6)]()+'Message';let _0x19685b=await this[_0x45c681(0x5ba)](_0x3578f1['buttonMessage'][_0x45c681(0x514)]);_0x312cb6[_0x45c681(0x638)]=_0x19685b['message'][_0x312cb6[_0x45c681(0x57e)]],_0x312cb6[_0x45c681(0x32b)]='*'+_0x3578f1[_0x45c681(0x456)][_0x45c681(0x679)]+'*\x0a\x0a'+_0x3578f1[_0x45c681(0x456)][_0x45c681(0x2e7)];}let _0xa80079={'text':_0x3578f1['buttonMessage'][_0x45c681(0x71d)]['map'](_0x408c5f=>_0x408c5f['buttonText']),'ids':_0x3578f1[_0x45c681(0x456)][_0x45c681(0x71d)][_0x45c681(0x7df)](_0x536461=>_0x536461[_0x45c681(0x3f3)])};if(!(0x0,$['arrayUnique'])(_0xa80079[_0x45c681(0x27e)])||!(0x0,$['arrayUnique'])(_0xa80079['ids']))throw new w(_0x45c681(0x1d6),_0x45c681(0x6f9));return await this[_0x45c681(0x30c)](_0x3578f1[_0x45c681(0x517)],{'buttonsMessage':{'text':_0x312cb6?.[_0x45c681(0x57e)]?void 0x0:_0x3578f1[_0x45c681(0x456)]['title'],'contentText':_0x312cb6?.['contentText']??_0x3578f1[_0x45c681(0x456)][_0x45c681(0x2e7)],'footerText':_0x3578f1['buttonMessage']?.[_0x45c681(0x29d)],'buttons':_0x3578f1[_0x45c681(0x456)][_0x45c681(0x71d)][_0x45c681(0x7df)](_0x197804=>({'buttonText':{'displayText':_0x197804[_0x45c681(0x490)]},'buttonId':_0x197804[_0x45c681(0x3f3)],'type':0x1})),'headerType':m['proto'][_0x45c681(0x5bf)]['ButtonsMessage']['HeaderType'][_0x471943],[_0x312cb6?.[_0x45c681(0x57e)]]:_0x312cb6?.['message']}},_0x3578f1?.['options']);}async[a0_0x28b734(0x3b6)](_0x1b4bc0){const _0x1f0d58=a0_0x28b734;return await this['sendMessageWithTyping'](_0x1b4bc0['number'],{'locationMessage':{'degreesLatitude':_0x1b4bc0[_0x1f0d58(0x3b6)]['latitude'],'degreesLongitude':_0x1b4bc0['locationMessage']['longitude'],'name':_0x1b4bc0[_0x1f0d58(0x3b6)]?.[_0x1f0d58(0x69a)],'address':_0x1b4bc0['locationMessage']?.[_0x1f0d58(0x505)]}},_0x1b4bc0?.['options']);}async[a0_0x28b734(0x1e6)](_0x1eb868){const _0x311dd2=a0_0x28b734;let _0x6e380c={},_0x36b6de=_0x4af9a8=>{const _0x56e47f=a0_0x4163;let _0x341b2f=_0x56e47f(0x5b9)+_0x4af9a8['fullName']+_0x56e47f(0x7e5)+_0x4af9a8[_0x56e47f(0x644)]+'\x0a';_0x4af9a8['organization']&&(_0x341b2f+=_0x56e47f(0x773)+_0x4af9a8[_0x56e47f(0x1ef)]+';\x0a'),_0x4af9a8[_0x56e47f(0x55f)]&&(_0x341b2f+=_0x56e47f(0x28e)+_0x4af9a8[_0x56e47f(0x55f)]+'\x0a'),_0x4af9a8[_0x56e47f(0x2d6)]&&(_0x341b2f+=_0x56e47f(0x743)+_0x4af9a8[_0x56e47f(0x2d6)]+'\x0a');let _0x251ff3='';return _0x4af9a8['phoneNumber']&&_0x4af9a8[_0x56e47f(0x2ee)][_0x56e47f(0x5ac)]('|')['forEach']((_0x47c0c9,_0x50c770)=>{const _0x3acd7b=_0x56e47f;let _0x10821f=this[_0x3acd7b(0x1aa)](_0x47c0c9)['replace']('@s.whatsapp.net','');_0x251ff3+=_0x3acd7b(0x591)+(_0x50c770+0x1)+_0x3acd7b(0x7c5)+_0x10821f+':'+_0x47c0c9+_0x3acd7b(0x3ca)+(_0x50c770+0x1)+_0x3acd7b(0x739);}),_0x341b2f+=_0x251ff3+'END:VCARD',_0x341b2f;};return _0x1eb868['contactMessage']['length']===0x1?_0x6e380c['contactMessage']={'displayName':_0x1eb868['contactMessage'][0x0][_0x311dd2(0x644)],'vcard':_0x36b6de(_0x1eb868[_0x311dd2(0x1e6)][0x0])}:_0x6e380c[_0x311dd2(0x488)]={'displayName':_0x1eb868[_0x311dd2(0x1e6)][_0x311dd2(0x2f0)]+_0x311dd2(0x7b4),'contacts':_0x1eb868[_0x311dd2(0x1e6)][_0x311dd2(0x7df)](_0x7dfe89=>({'displayName':_0x7dfe89[_0x311dd2(0x644)],'vcard':_0x36b6de(_0x7dfe89)}))},await this['sendMessageWithTyping'](_0x1eb868[_0x311dd2(0x517)],{..._0x6e380c},_0x1eb868?.[_0x311dd2(0x37d)]);}async['reactionMessage'](_0x26b0fc){const _0x3f2ddc=a0_0x28b734;return await this[_0x3f2ddc(0x30c)](_0x26b0fc[_0x3f2ddc(0x3a0)][_0x3f2ddc(0x670)][_0x3f2ddc(0x26f)],{'reactionMessage':{'key':_0x26b0fc[_0x3f2ddc(0x3a0)][_0x3f2ddc(0x670)],'text':_0x26b0fc['reactionMessage'][_0x3f2ddc(0x3cf)]}});}async[a0_0x28b734(0x4a7)](_0x57e731){const _0x30680c=a0_0x28b734;let _0x5bd5d9=[];for await(let _0x20836e of _0x57e731[_0x30680c(0x3b0)]){let _0x846d75=this[_0x30680c(0x1aa)](_0x20836e),_0x42ad1a=!0x1;try{if((0x0,m[_0x30680c(0x5a5)])(_0x846d75)){let _0x3a3ec6=await this[_0x30680c(0x6d6)]({'groupJid':_0x846d75},_0x30680c(0x3a6));_0x5bd5d9[_0x30680c(0x758)](new me(_0x3a3ec6[_0x30680c(0x22b)]['id'],!!_0x3a3ec6?.[_0x30680c(0x22b)]['id'],_0x3a3ec6?.[_0x30680c(0x22b)][_0x30680c(0x49b)])),_0x42ad1a=!!_0x3a3ec6?.[_0x30680c(0x22b)]['id'];}else{let _0x2da97c=(await this[_0x30680c(0x395)][_0x30680c(0x242)](_0x846d75))[0x0];_0x5bd5d9[_0x30680c(0x758)](new me(_0x2da97c['jid'],_0x2da97c[_0x30680c(0x68a)])),_0x42ad1a=_0x2da97c[_0x30680c(0x68a)];}}catch{await this[_0x30680c(0x6b5)](_0x846d75,_0x42ad1a),_0x5bd5d9[_0x30680c(0x758)](new me(_0x20836e,!0x1));}}return _0x5bd5d9;}async[a0_0x28b734(0x6b5)](_0x1c259a,_0x233af2){const _0xe4588b=a0_0x28b734;try{await this[_0xe4588b(0x769)]['chat']['findOne']({'where':{'_id':_0x1c259a,'imported':!0x0}},this[_0xe4588b(0x362)][_0xe4588b(0x43f)])&&(_0x233af2||(await this[_0xe4588b(0x769)][_0xe4588b(0x2fb)][_0xe4588b(0x51f)](_0x1c259a,this['instance']['wuid']),console[_0xe4588b(0x38a)](_0xe4588b(0x3d7)+_0x1c259a+'\x20foi\x20removido\x20por\x20não\x20ser\x20válido.')));}catch(_0x14c2f7){console[_0xe4588b(0x6f1)](_0xe4588b(0x324),_0x14c2f7);}}async[a0_0x28b734(0x5cd)](_0x354f54){const _0x29c258=a0_0x28b734;try{let _0x4d02f3=_0x354f54[_0x29c258(0x28d)][_0x29c258(0x4d5)](_0x2cd6ec=>(0x0,m['isJidGroup'])(_0x2cd6ec[_0x29c258(0x26f)])||(0x0,m[_0x29c258(0x4c4)])(_0x2cd6ec[_0x29c258(0x26f)]))[_0x29c258(0x7df)](_0x1983bc=>({'remoteJid':_0x1983bc[_0x29c258(0x26f)],'fromMe':_0x1983bc[_0x29c258(0x3e2)],'id':_0x1983bc['id']}));await this[_0x29c258(0x395)]['readMessages'](_0x4d02f3);let _0x36e9f4=_0x4d02f3['map'](_0x3cbd65=>this['updateMessage'](_0x3cbd65,{'status':_0x29c258(0x1e3),'owner':this[_0x29c258(0x362)][_0x29c258(0x43f)]})),_0x3415a5=_0x4d02f3[_0x29c258(0x7df)](_0x2a56d8=>this['repository'][_0x29c258(0x2fb)]['updateOne']({'where':{'_id':_0x2a56d8[_0x29c258(0x26f)]}},{'unreadcount':0x0},this[_0x29c258(0x362)][_0x29c258(0x43f)])),[_0x21ef66,_0x4e626b]=await Promise[_0x29c258(0x600)]([Promise[_0x29c258(0x600)](_0x36e9f4),Promise['all'](_0x3415a5)]);return _0x4e626b[_0x29c258(0x4d5)](_0x160733=>_0x160733!==null)[_0x29c258(0x757)](_0x4c707c=>{const _0x1b65e0=_0x29c258;q(this[_0x1b65e0(0x554)],_0x1b65e0(0x3c5),{'chat':_0x4c707c});}),{'message':_0x29c258(0x3be),'read':'success'};}catch(_0x4b63e5){throw console[_0x29c258(0x6f1)](_0x29c258(0x583),_0x4b63e5),new I(_0x29c258(0x2ad),_0x4b63e5[_0x29c258(0x448)]());}}async[a0_0x28b734(0x76c)](_0x121ad2){const _0x2faae0=a0_0x28b734;let _0x1b86cb={'where':{'key':{'remoteJid':_0x121ad2}},'limit':0x1},_0x4f0021=await this[_0x2faae0(0x7b7)](_0x1b86cb);return _0x4f0021||(console[_0x2faae0(0x6f1)](_0x2faae0(0x49a),_0x121ad2),null);}async[a0_0x28b734(0x49d)](_0x5299b3){const _0x215407=a0_0x28b734;this[_0x215407(0x780)]['verbose'](_0x215407(0x5d6));try{let _0x17efb2=_0x5299b3[_0x215407(0x6c6)],_0x412966=_0x5299b3['chat'];if(!_0x17efb2&&_0x412966?_0x17efb2=await this[_0x215407(0x76c)](_0x412966):(_0x17efb2=_0x5299b3[_0x215407(0x6c6)],_0x17efb2[_0x215407(0x5a6)]=_0x17efb2?.[_0x215407(0x5a6)]??Date[_0x215407(0x420)](),_0x412966=_0x17efb2?.['key']?.[_0x215407(0x26f)]),!_0x17efb2||Object[_0x215407(0x732)](_0x17efb2)[_0x215407(0x2f0)]===0x0)throw new k(_0x215407(0x377));this[_0x215407(0x780)][_0x215407(0x62f)](_0x215407(0x693)+_0x412966);try{await this['client'][_0x215407(0x40c)]({'archive':_0x5299b3[_0x215407(0x20b)],'lastMessages':[_0x17efb2]},this[_0x215407(0x1aa)](_0x412966));}catch(_0x9ff241){this[_0x215407(0x780)][_0x215407(0x6f1)]('Error\x20in\x20chatModify\x20for\x20number\x20'+_0x412966+':\x20'+_0x9ff241[_0x215407(0x448)]());}this['logger']['verbose'](_0x215407(0x727)+_0x412966);let _0x39a1a3=await this['repository'][_0x215407(0x2fb)][_0x215407(0x49f)]({'where':{'_id':_0x17efb2?.[_0x215407(0x670)]?.['remoteJid']}},{'archived':_0x5299b3[_0x215407(0x20b)]},this[_0x215407(0x362)][_0x215407(0x43f)]);return _0x39a1a3?(this[_0x215407(0x780)][_0x215407(0x62f)](_0x215407(0x3ae)+JSON[_0x215407(0x463)](_0x39a1a3)),q(this[_0x215407(0x554)],'chats',{'chat':_0x39a1a3})):this[_0x215407(0x780)]['error'](_0x215407(0x78e)+_0x412966),{'chatId':_0x412966,'archived':_0x5299b3[_0x215407(0x20b)]};}catch(_0x5db8a1){throw this[_0x215407(0x780)][_0x215407(0x6f1)](_0x215407(0x260)+_0x5db8a1[_0x215407(0x448)]()),new I({'archived':!0x1,'message':[_0x215407(0x5b5),_0x5db8a1['toString']()]});}}async[a0_0x28b734(0x7a1)](_0x1d5ea4){const _0x4e90d1=a0_0x28b734;try{let _0xf97843=await this[_0x4e90d1(0x395)][_0x4e90d1(0x62d)](_0x1d5ea4[_0x4e90d1(0x26f)],{'delete':_0x1d5ea4});try{let _0x3875dd=await this[_0x4e90d1(0x5e5)](_0x1d5ea4,{'status':_0x4e90d1(0x69b),'owner':this[_0x4e90d1(0x362)][_0x4e90d1(0x43f)]});this[_0x4e90d1(0x780)][_0x4e90d1(0x62f)](this[_0x4e90d1(0x554)]+'\x20('+this[_0x4e90d1(0x362)]['wuid']+_0x4e90d1(0x60c)+_0x3875dd);}catch(_0x302a17){console[_0x4e90d1(0x6f1)]('Error\x20updating\x20message\x20status:',_0x302a17);}return _0xf97843;}catch(_0xea387e){throw new I(_0x4e90d1(0x50c),_0xea387e?.[_0x4e90d1(0x448)]());}}async['getBase64FromMediaMessage'](_0x2d2c0c){const _0x420849=a0_0x28b734;try{let _0x135a77=_0x2d2c0c?.[_0x420849(0x638)]?_0x2d2c0c:await this['getMessage'](_0x2d2c0c['key'],!0x0);for(let _0xfe869f of ma)_0x135a77[_0x420849(0x638)][_0xfe869f]&&(_0x135a77[_0x420849(0x638)]=_0x135a77[_0x420849(0x638)][_0xfe869f][_0x420849(0x638)]);let _0x7086e9,_0x3f093f;for(let _0x2d81d8 of ga)if(_0x7086e9=_0x135a77['message'][_0x2d81d8],_0x7086e9){_0x3f093f=_0x2d81d8;break;}if(!_0x7086e9)throw _0x420849(0x744);typeof _0x7086e9[_0x420849(0x57e)]==_0x420849(0x7c0)&&(_0x135a77[_0x420849(0x638)]=JSON[_0x420849(0x678)](JSON[_0x420849(0x463)](_0x135a77[_0x420849(0x638)])));let _0x3124ff=await(0x0,m['downloadMediaMessage'])({'key':_0x135a77?.['key'],'message':_0x135a77?.['message']},_0x420849(0x564),{},{'logger':(0x0,It[_0x420849(0x4d7)])({'level':_0x420849(0x230)}),'reuploadRequest':this[_0x420849(0x395)][_0x420849(0x555)]});if(!(_0x3124ff instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x554c23=this[_0x420849(0x78a)][_0x420849(0x238)]('DATABASE'),_0x41bf44,_0x2a23f5;if(_0x7086e9[_0x420849(0x382)])_0x41bf44=_0x7086e9[_0x420849(0x382)];else{let _0x519040=_0x7086e9[_0x420849(0x53d)]?.[_0x420849(0x42a)](/\/(\w+)/),_0x391ced=_0x519040?_0x519040[0x1]:null;if(!_0x391ced)throw new Error(_0x420849(0x7da));_0x41bf44=(0x0,Me['v4'])()+'.'+_0x391ced;}_0x3f093f==='audioMessage'&&_0x7086e9['mimetype']===_0x420849(0x6fc)?(_0x41bf44=(0x0,Me['v4'])()+_0x420849(0x312),_0x2a23f5=_0x420849(0x48d)+await this[_0x420849(0x7a3)](_0x3124ff[_0x420849(0x448)](_0x420849(0x42d)))):(await this[_0x420849(0x3e5)](_0x3124ff,_0x41bf44),_0x2a23f5=_0x420849(0x48d)+_0x41bf44);let _0x38cf57=this[_0x420849(0x78a)][_0x420849(0x238)](_0x420849(0x57a))[_0x420849(0x584)];if(!_0x38cf57){let _0x143ef=this[_0x420849(0x78a)][_0x420849(0x238)](_0x420849(0x4b5));_0x38cf57=_0x420849(0x31a)+(_0x143ef&&_0x143ef[_0x420849(0x7b5)][_0x420849(0x5ac)]('/')[0x4]);}_0x2a23f5=''+_0x38cf57+_0x2a23f5;let _0x5ac2fc=0xc*0x3c*0x3c*0x3e8,_0x8d4535={'where':{'_id':_0x135a77['key']['id']}},_0x414595={'message_normalized.fileUrl':_0x2a23f5,'message_normalized.expires_fileUrl':Date['now']()+_0x5ac2fc};try{let _0x59e091=await this[_0x420849(0x769)][_0x420849(0x638)]['update'](_0x8d4535,_0x414595,this['instance'][_0x420849(0x43f)]);_0x59e091&&q(this[_0x420849(0x554)],_0x420849(0x3c1),{'message':_0x59e091});}catch(_0x3a0cb3){this['logger'][_0x420849(0x6f1)](this[_0x420849(0x554)]+'\x20('+this['instance'][_0x420849(0x43f)]+'):\x20'+(_0x3a0cb3 instanceof Error?_0x3a0cb3[_0x420849(0x638)]:JSON[_0x420849(0x463)](_0x3a0cb3,null,0x2)));}return{'mediaType':_0x3f093f,'fileName':_0x7086e9['fileName'],'caption':_0x7086e9[_0x420849(0x291)],'size':{'fileLength':_0x7086e9['fileLength'],'height':_0x7086e9[_0x420849(0x1e1)],'width':_0x7086e9['width']},'mimetype':_0x7086e9['mimetype'],'base64':_0x3124ff[_0x420849(0x448)]('base64'),'fileUrl':_0x2a23f5,'expires_fileUrl':Date[_0x420849(0x420)]()+_0x5ac2fc};}catch(_0x5b7fd7){throw this[_0x420849(0x780)][_0x420849(0x6f1)](this['instanceName']+'\x20('+this[_0x420849(0x362)][_0x420849(0x43f)]+_0x420849(0x1b5)+(_0x5b7fd7 instanceof Error?_0x5b7fd7[_0x420849(0x638)]:JSON[_0x420849(0x463)](_0x5b7fd7,null,0x2))),new w(_0x5b7fd7[_0x420849(0x448)]());}}async['saveMediaToFile'](_0x4c7da1,_0x57da39){const _0x22232e=a0_0x28b734;let _0x8ab6e6=j[_0x22232e(0x4d7)][_0x22232e(0x67e)](__dirname,'downloads');L['existsSync'](_0x8ab6e6)||L[_0x22232e(0x1a6)](_0x8ab6e6,{'recursive':!0x0});let _0x249c98=j['default'][_0x22232e(0x67e)](_0x8ab6e6,_0x57da39);return new Promise((_0x1b8598,_0xd4a514)=>{const _0x4ab46c=_0x22232e;L[_0x4ab46c(0x313)](_0x249c98,_0x4c7da1,_0x2c62e1=>{const _0x19dfaf=_0x4ab46c;_0x2c62e1?(this[_0x19dfaf(0x780)]['error']('Error\x20writing\x20file:\x20'+(_0x2c62e1 instanceof Error?_0x2c62e1['message']:JSON[_0x19dfaf(0x463)](_0x2c62e1,null,0x2))),_0xd4a514(_0x2c62e1)):(this[_0x19dfaf(0x780)][_0x19dfaf(0x38a)](_0x19dfaf(0x1f3)+_0x249c98),_0x1b8598(_0x249c98));});});}async[a0_0x28b734(0x592)](_0x1de8d7){const _0x3346f9=a0_0x28b734;return await this[_0x3346f9(0x769)][_0x3346f9(0x1ba)][_0x3346f9(0x79e)](_0x1de8d7,this['instance']['wuid']);}async[a0_0x28b734(0x2ca)](){const _0x3338bb=a0_0x28b734;return await this['repository'][_0x3338bb(0x60a)][_0x3338bb(0x79e)]({'where':{}},this[_0x3338bb(0x362)][_0x3338bb(0x43f)]);}async[a0_0x28b734(0x7b7)](_0x122e11){const _0x4c8980=a0_0x28b734;return await this[_0x4c8980(0x769)]['message'][_0x4c8980(0x79e)](_0x122e11,this[_0x4c8980(0x362)][_0x4c8980(0x43f)]);}async[a0_0x28b734(0x3c6)](){const _0x407db2=a0_0x28b734;return this[_0x407db2(0x769)][_0x407db2(0x2fb)][_0x407db2(0x1ee)](this['instance'][_0x407db2(0x43f)]),this[_0x407db2(0x769)][_0x407db2(0x2fb)][_0x407db2(0x6c2)](this[_0x407db2(0x362)]['wuid']),this[_0x407db2(0x769)][_0x407db2(0x2fb)]['updateMissingTags'](this[_0x407db2(0x362)][_0x407db2(0x43f)]),this['repository'][_0x407db2(0x2fb)][_0x407db2(0x432)](this['instance']['wuid']),await this[_0x407db2(0x769)][_0x407db2(0x2fb)][_0x407db2(0x79e)]({'where':{}},this[_0x407db2(0x362)][_0x407db2(0x43f)]);}async['importChatsAntigo'](_0x4f92c4){const _0x2dfd51=a0_0x28b734;try{if(!Array[_0x2dfd51(0x292)](_0x4f92c4)||_0x4f92c4['length']===0x0)throw new Error(_0x2dfd51(0x2a0));let _0x2442b1=[],_0x411af5=[];for(let _0xf1ad55 of _0x4f92c4){if(_0xf1ad55[_0x2dfd51(0x4fb)])_0xf1ad55[_0x2dfd51(0x4fb)]=this[_0x2dfd51(0x1aa)](_0xf1ad55[_0x2dfd51(0x4fb)]);else continue;await this[_0x2dfd51(0x769)][_0x2dfd51(0x2fb)][_0x2dfd51(0x5a7)]({'where':{'_id':_0xf1ad55[_0x2dfd51(0x4fb)]}},this[_0x2dfd51(0x362)][_0x2dfd51(0x43f)])?_0x411af5[_0x2dfd51(0x758)]({'_id':_0xf1ad55[_0x2dfd51(0x4fb)],'leadInfo':_0xf1ad55[_0x2dfd51(0x1e0)],'owner':this['instance'][_0x2dfd51(0x43f)]}):_0x2442b1[_0x2dfd51(0x758)]({'_id':_0xf1ad55[_0x2dfd51(0x4fb)],'owner':this[_0x2dfd51(0x362)][_0x2dfd51(0x43f)],'leadInfo':_0xf1ad55['leadInfo'],'imported':!0x0});}return _0x411af5[_0x2dfd51(0x2f0)]>0x0&&await this[_0x2dfd51(0x769)]['chat'][_0x2dfd51(0x7e9)](_0x411af5[_0x2dfd51(0x7df)](_0x82b33c=>({'query':{'where':{'_id':_0x82b33c[_0x2dfd51(0x4fb)],'owner':this[_0x2dfd51(0x362)]['wuid']}},'update':_0x82b33c}))),_0x2442b1[_0x2dfd51(0x2f0)]>0x0&&await this[_0x2dfd51(0x769)][_0x2dfd51(0x2fb)][_0x2dfd51(0x652)](_0x2442b1,this['instance'][_0x2dfd51(0x43f)]),{'updated':_0x411af5[_0x2dfd51(0x2f0)],'inserted':_0x2442b1['length']};}catch(_0x5de3a5){throw console['error']('Erro\x20ao\x20importar\x20chats:',_0x5de3a5),_0x5de3a5;}}async[a0_0x28b734(0x4f1)](_0x552c58){const _0x1c21f7=a0_0x28b734;try{if(!Array[_0x1c21f7(0x292)](_0x552c58)||_0x552c58[_0x1c21f7(0x2f0)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x2adddb=0x64,_0x1bf092=0x0;for(let _0x3a728c=0x0;_0x3a728c<_0x552c58['length'];_0x3a728c+=_0x2adddb){let _0x401d98=_0x552c58[_0x1c21f7(0x2b2)](_0x3a728c,_0x3a728c+_0x2adddb),{updated:_0x4f1e74}=await this[_0x1c21f7(0x38c)](_0x401d98);_0x1bf092+=_0x4f1e74;}return{'updated':_0x1bf092};}catch(_0x9f5144){throw console['error']('Erro\x20ao\x20importar\x20chats:',_0x9f5144),_0x9f5144;}}async[a0_0x28b734(0x38c)](_0x70dfc2){const _0x805a88=a0_0x28b734;try{let _0x256266=await this[_0x805a88(0x769)][_0x805a88(0x60a)][_0x805a88(0x79e)]({'where':{}},this[_0x805a88(0x362)]['wuid']),_0x5ba222=new Set(_0x256266[_0x805a88(0x7df)](_0x167d87=>_0x167d87[_0x805a88(0x4fb)])),_0x442874=[],_0x30e9a9=[];for(let _0x5bfc48 of _0x70dfc2){if(!_0x5bfc48['_id'])continue;_0x5bfc48[_0x805a88(0x4fb)]=this[_0x805a88(0x1aa)](_0x5bfc48['_id']);let _0x2b731c=await this[_0x805a88(0x769)][_0x805a88(0x2fb)]['findOne']({'where':{'_id':_0x5bfc48[_0x805a88(0x4fb)]}},this[_0x805a88(0x362)]['wuid']),_0x2cd165={};if(Object['entries'](_0x5bfc48[_0x805a88(0x1e0)])[_0x805a88(0x757)](([_0x18ccc4,_0x44a9ec])=>{const _0x57e48e=_0x805a88;_0x2cd165[_0x57e48e(0x41c)+_0x18ccc4]=_0x44a9ec;}),_0x2b731c&&!_0x2b731c[_0x805a88(0x5d9)]){let _0x972787=(_0x5bfc48[_0x805a88(0x1e0)][_0x805a88(0x801)]||[])[_0x805a88(0x4d5)](_0xb19a53=>_0x5ba222['has'](_0xb19a53)),_0x54aa9c=new Set(_0x2b731c['leadInfo']['etiquetas']||[]),_0x157b49=_0x972787[_0x805a88(0x4d5)](_0x17265c=>!_0x54aa9c[_0x805a88(0x22f)](_0x17265c)),_0x8277b8=[..._0x54aa9c][_0x805a88(0x4d5)](_0x2a277b=>!_0x972787[_0x805a88(0x6c9)](_0x2a277b));_0x30e9a9[_0x805a88(0x758)](..._0x157b49[_0x805a88(0x7df)](_0x15b92a=>this[_0x805a88(0x669)](_0x15b92a,_0x5bfc48['_id']))),_0x30e9a9[_0x805a88(0x758)](..._0x8277b8['map'](_0x16b441=>this[_0x805a88(0x364)](_0x16b441,_0x5bfc48[_0x805a88(0x4fb)]))),_0x5bfc48['leadInfo'][_0x805a88(0x801)]=_0x972787,_0x442874[_0x805a88(0x758)]({'query':{'where':{'_id':_0x5bfc48[_0x805a88(0x4fb)],'owner':this[_0x805a88(0x362)][_0x805a88(0x43f)]}},'update':_0x2cd165});}else _0x2cd165[_0x805a88(0x5d9)]=!0x0,_0x442874[_0x805a88(0x758)]({'query':{'where':{'_id':_0x5bfc48[_0x805a88(0x4fb)],'owner':this[_0x805a88(0x362)][_0x805a88(0x43f)]}},'update':_0x2cd165});}let _0x2114fc=await this[_0x805a88(0x769)][_0x805a88(0x2fb)][_0x805a88(0x7e9)](_0x442874);return await Promise[_0x805a88(0x600)](_0x30e9a9),{'updated':_0x2114fc};}catch(_0x17819a){throw console[_0x805a88(0x6f1)](_0x805a88(0x645),_0x17819a),_0x17819a;}}async[a0_0x28b734(0x3a1)](){const _0x5ae8a4=a0_0x28b734;return await this['client'][_0x5ae8a4(0x3a1)]();}async[a0_0x28b734(0x636)](_0x692972){const _0xb3284b=a0_0x28b734;try{return await this[_0xb3284b(0x395)][_0xb3284b(0x630)](_0x692972['privacySettings']['readreceipts']),await this[_0xb3284b(0x395)][_0xb3284b(0x719)](_0x692972[_0xb3284b(0x484)]['profile']),await this[_0xb3284b(0x395)][_0xb3284b(0x204)](_0x692972[_0xb3284b(0x484)][_0xb3284b(0x6e9)]),await this['client'][_0xb3284b(0x193)](_0x692972['privacySettings']['online']),await this[_0xb3284b(0x395)][_0xb3284b(0x1fc)](_0x692972[_0xb3284b(0x484)]['last']),await this[_0xb3284b(0x395)][_0xb3284b(0x461)](_0x692972[_0xb3284b(0x484)][_0xb3284b(0x6fa)]),this[_0xb3284b(0x395)]?.['ws']?.[_0xb3284b(0x5f4)](),{'update':_0xb3284b(0x57f),'data':{'readreceipts':_0x692972['privacySettings']['readreceipts'],'profile':_0x692972[_0xb3284b(0x484)][_0xb3284b(0x401)],'status':_0x692972[_0xb3284b(0x484)][_0xb3284b(0x6e9)],'online':_0x692972[_0xb3284b(0x484)][_0xb3284b(0x367)],'last':_0x692972[_0xb3284b(0x484)][_0xb3284b(0x6ee)],'groupadd':_0x692972[_0xb3284b(0x484)][_0xb3284b(0x6fa)]}};}catch(_0x3228f4){throw new I(_0xb3284b(0x6ae),_0x3228f4['toString']());}}async[a0_0x28b734(0x7c7)](_0x5307d1){const _0x516d72=a0_0x28b734;let _0x4168ae=_0x5307d1?this[_0x516d72(0x1aa)](_0x5307d1):this['client']?.[_0x516d72(0x609)]?.['id'];this[_0x516d72(0x780)][_0x516d72(0x62f)](_0x516d72(0x366)+_0x4168ae);try{if(this[_0x516d72(0x780)]['verbose'](_0x516d72(0x74b)),_0x5307d1){let _0x3d1e0f=(await this[_0x516d72(0x4a7)]({'numbers':[_0x4168ae]}))?.['shift'](),_0x2e3b3d=await this['profilePicture'](_0x3d1e0f?.[_0x516d72(0x441)]),_0xf77f66=await this['getStatus'](_0x3d1e0f?.[_0x516d72(0x441)]),_0x1821ed=await this['fetchBusinessProfile'](_0x3d1e0f?.[_0x516d72(0x441)]);return{'wuid':_0x3d1e0f?.['jid']||_0x4168ae,'name':_0x3d1e0f?.[_0x516d72(0x69a)],'numberExists':_0x3d1e0f?.[_0x516d72(0x68a)],'picture':_0x2e3b3d?.[_0x516d72(0x265)],'status':_0xf77f66?.[_0x516d72(0x6e9)],'isBusiness':_0x1821ed[_0x516d72(0x7dd)],'email':_0x1821ed?.[_0x516d72(0x55f)],'description':_0x1821ed?.[_0x516d72(0x2e7)],'website':_0x1821ed?.['website']?.[_0x516d72(0x3a9)]()};}}catch{return this['logger'][_0x516d72(0x62f)](_0x516d72(0x653)),{'wuid':_0x4168ae,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async['fetchProfile'](_0x5eee0c){const _0x26893a=a0_0x28b734;let _0x3e7e40=(_0x5eee0c?this[_0x26893a(0x1aa)](_0x5eee0c):this[_0x26893a(0x395)]?.[_0x26893a(0x609)]?.['id'])[_0x26893a(0x7c4)](/:\d{1,2}@/g,'@');this[_0x26893a(0x780)][_0x26893a(0x62f)](_0x26893a(0x33e)+_0x3e7e40);let _0x1c1457=await this[_0x26893a(0x769)][_0x26893a(0x1ba)][_0x26893a(0x5a7)]({'where':{'_id':_0x3e7e40}},this[_0x26893a(0x362)]['wuid']),_0x546c09=_0x1c1457?_0x1c1457[_0x26893a(0x7f7)]:null;try{let _0x434a40=(await this[_0x26893a(0x4a7)]({'numbers':[_0x3e7e40]}))?.[_0x26893a(0x3a9)](),_0x195baf=await this['profilePicture'](_0x434a40?.[_0x26893a(0x441)]),_0x204ca3=await this[_0x26893a(0x459)](_0x434a40?.[_0x26893a(0x441)]),_0x15cd1b=await this[_0x26893a(0x454)](_0x434a40?.[_0x26893a(0x441)]),_0x48d936=await this[_0x26893a(0x769)][_0x26893a(0x2fb)][_0x26893a(0x5a7)]({'where':{'_id':_0x3e7e40}},this[_0x26893a(0x362)]['wuid']),_0x213621={'imagechat':_0x195baf?.['profilePictureUrl'],'contactname':_0x546c09||null,'status':_0x204ca3?.['status'],'isBusiness':_0x15cd1b[_0x26893a(0x7dd)],'email':_0x15cd1b?.[_0x26893a(0x55f)],'description':_0x15cd1b?.['description'],'website':_0x15cd1b?.[_0x26893a(0x378)]?.[_0x26893a(0x3a9)](),'lastcache':Date['now'](),'imported':!_0x48d936},_0x2fe741=await this[_0x26893a(0x769)]['chat'][_0x26893a(0x49f)]({'where':{'_id':_0x3e7e40}},_0x213621,this['instance']['wuid']),_0xc268fa={'owner':this[_0x26893a(0x362)][_0x26893a(0x43f)],'_id':_0x3e7e40,'profilePictureUrl':_0x195baf?.['profilePictureUrl'],'status':_0x204ca3?.[_0x26893a(0x6e9)]};return this[_0x26893a(0x769)][_0x26893a(0x1ba)]['update']([_0xc268fa],this[_0x26893a(0x362)][_0x26893a(0x43f)]),_0x2fe741&&q(this[_0x26893a(0x554)],_0x26893a(0x3c5),{'chat':_0x2fe741}),{'wuid':_0x434a40?.[_0x26893a(0x441)]||_0x3e7e40,'name':_0x434a40?.[_0x26893a(0x69a)],'numberExists':_0x434a40?.[_0x26893a(0x68a)],'picture':_0x195baf?.[_0x26893a(0x265)],'status':_0x204ca3?.['status'],'isBusiness':_0x15cd1b[_0x26893a(0x7dd)],'email':_0x15cd1b?.[_0x26893a(0x55f)],'description':_0x15cd1b?.['description'],'website':_0x15cd1b?.[_0x26893a(0x378)]?.[_0x26893a(0x3a9)]()};}catch(_0x169b1e){return this[_0x26893a(0x780)][_0x26893a(0x6f1)](_0x26893a(0x561)+(_0x169b1e instanceof Error?_0x169b1e[_0x26893a(0x638)]:JSON[_0x26893a(0x463)](_0x169b1e,null,0x2))),{};}}async[a0_0x28b734(0x454)](_0x29f726){const _0x5216a3=a0_0x28b734;this[_0x5216a3(0x780)][_0x5216a3(0x62f)]('Fetching\x20business\x20profile');try{let _0xb415f4=_0x29f726?this[_0x5216a3(0x1aa)](_0x29f726):this[_0x5216a3(0x362)][_0x5216a3(0x43f)],_0x4302b9=await this[_0x5216a3(0x395)][_0x5216a3(0x755)](_0xb415f4);return this[_0x5216a3(0x780)][_0x5216a3(0x62f)](_0x5216a3(0x536)),_0x4302b9?(this['logger'][_0x5216a3(0x62f)](_0x5216a3(0x749)),{'isBusiness':!0x0,..._0x4302b9}):{'isBusiness':!0x1,'message':_0x5216a3(0x585),...(await this[_0x5216a3(0x4a7)]({'numbers':[_0xb415f4]}))?.[_0x5216a3(0x3a9)]()};}catch(_0x26af5f){throw new I(_0x5216a3(0x31f),_0x26af5f['toString']());}}async[a0_0x28b734(0x459)](_0x42078d){const _0x33972b=a0_0x28b734;let _0x251165=this['createJid'](_0x42078d);try{return{'wuid':_0x251165,'status':(await this[_0x33972b(0x395)][_0x33972b(0x44c)](_0x251165))?.['status']};}catch{return{'wuid':_0x251165,'status':null};}}async[a0_0x28b734(0x23e)](_0x3a9579){const _0x2ff7cf=a0_0x28b734;try{return await this[_0x2ff7cf(0x395)][_0x2ff7cf(0x23e)](_0x3a9579),{'update':'success'};}catch(_0x32d948){throw new I('Error\x20updating\x20profile\x20name',_0x32d948[_0x2ff7cf(0x448)]());}}async['updateProfileStatus'](_0xe34662){const _0x38bf24=a0_0x28b734;try{return await this[_0x38bf24(0x395)][_0x38bf24(0x501)](_0xe34662),{'update':_0x38bf24(0x57f)};}catch(_0x3a23e0){throw new I(_0x38bf24(0x742),_0x3a23e0['toString']());}}async['updateProfilePicture'](_0x5650af){const _0x162dbb=a0_0x28b734;try{let _0x3d45a1;if((0x0,$[_0x162dbb(0x6a5)])(_0x5650af)){let _0x1c1c75=new Date()[_0x162dbb(0x6bd)](),_0xd6e085=_0x5650af+_0x162dbb(0x5dd)+_0x1c1c75;_0x3d45a1=(await te[_0x162dbb(0x4d7)]['get'](_0xd6e085,{'responseType':'arraybuffer'}))[_0x162dbb(0x7f3)];}else{if((0x0,$[_0x162dbb(0x1e2)])(_0x5650af))_0x3d45a1=Buffer['from'](_0x5650af,_0x162dbb(0x42d));else throw new w(_0x162dbb(0x771));}return await this[_0x162dbb(0x395)]['updateProfilePicture'](this[_0x162dbb(0x362)]['wuid'],_0x3d45a1),{'update':_0x162dbb(0x57f)};}catch(_0x20014c){throw new I(_0x162dbb(0x438),_0x20014c[_0x162dbb(0x448)]());}}async[a0_0x28b734(0x19e)](){const _0x42bf67=a0_0x28b734;try{return await this['client'][_0x42bf67(0x19e)](this[_0x42bf67(0x362)][_0x42bf67(0x43f)]),{'update':_0x42bf67(0x57f)};}catch(_0x356558){throw new I(_0x42bf67(0x3fb),_0x356558[_0x42bf67(0x448)]());}}async[a0_0x28b734(0x495)](_0x5cbcb3){const _0x2fad63=a0_0x28b734;try{let _0x1c8125=_0x5cbcb3[_0x2fad63(0x1cd)][_0x2fad63(0x7df)](_0x4e97da=>this[_0x2fad63(0x1aa)](_0x4e97da)),{id:_0x581384}=await this[_0x2fad63(0x395)]['groupCreate'](_0x5cbcb3[_0x2fad63(0x49b)],_0x1c8125);return _0x5cbcb3?.['description']&&await this[_0x2fad63(0x395)]['groupUpdateDescription'](_0x581384,_0x5cbcb3['description']),{'metadata':await this[_0x2fad63(0x395)][_0x2fad63(0x733)](_0x581384)};}catch(_0x45079e){throw this[_0x2fad63(0x780)][_0x2fad63(0x6f1)](this[_0x2fad63(0x554)]+'\x20('+this['instance']['wuid']+_0x2fad63(0x1b5)+(_0x45079e instanceof Error?_0x45079e[_0x2fad63(0x638)]:JSON['stringify'](_0x45079e,null,0x2))),new I(_0x2fad63(0x6a0),_0x45079e[_0x2fad63(0x448)]());}}async['updateGroupPicture'](_0x30d9a8){const _0x25f9d6=a0_0x28b734;try{let _0x52d5bc;if((0x0,$[_0x25f9d6(0x6a5)])(_0x30d9a8['image'])){let _0x1ab469=new Date()[_0x25f9d6(0x6bd)](),_0x2eaa4f=_0x30d9a8[_0x25f9d6(0x24c)]+'?timestamp='+_0x1ab469;_0x52d5bc=(await te[_0x25f9d6(0x4d7)]['get'](_0x2eaa4f,{'responseType':_0x25f9d6(0x59b)}))[_0x25f9d6(0x7f3)];}else{if((0x0,$[_0x25f9d6(0x1e2)])(_0x30d9a8['image']))_0x52d5bc=Buffer[_0x25f9d6(0x325)](_0x30d9a8[_0x25f9d6(0x24c)],_0x25f9d6(0x42d));else throw new w(_0x25f9d6(0x771));}return await this['client'][_0x25f9d6(0x47c)](_0x30d9a8['groupJid'],_0x52d5bc),{'update':_0x25f9d6(0x57f)};}catch(_0x239d86){throw new I(_0x25f9d6(0x331),_0x239d86[_0x25f9d6(0x448)]());}}async[a0_0x28b734(0x6d6)](_0x131178,_0x7f28ea='out'){const _0x2b69b9=a0_0x28b734;try{let _0x3d27dc=await this[_0x2b69b9(0x395)][_0x2b69b9(0x733)](_0x131178[_0x2b69b9(0x7cd)]),_0x2bb2ef=null;try{_0x2bb2ef=(await this[_0x2b69b9(0x24e)](_0x131178[_0x2b69b9(0x7cd)]))[_0x2b69b9(0x265)];}catch(_0x517539){this['logger'][_0x2b69b9(0x62f)](this[_0x2b69b9(0x554)]+'\x20('+this[_0x2b69b9(0x362)][_0x2b69b9(0x43f)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x131178[_0x2b69b9(0x7cd)]+':\x20'+(_0x517539 instanceof Error?_0x517539[_0x2b69b9(0x638)]:JSON[_0x2b69b9(0x463)](_0x517539,null,0x2)));}let _0x98e205=await this[_0x2b69b9(0x769)][_0x2b69b9(0x2fb)][_0x2b69b9(0x49f)]({'where':{'_id':_0x131178['groupJid']}},{'imagechat':_0x2bb2ef,'name':_0x3d27dc['subject'],'group_size':_0x3d27dc['size'],'group_announce':_0x3d27dc[_0x2b69b9(0x699)],'lastcache':Date[_0x2b69b9(0x420)]()},this[_0x2b69b9(0x362)][_0x2b69b9(0x43f)]);return _0x98e205&&q(this['instanceName'],_0x2b69b9(0x3c5),{'chat':_0x98e205}),{'metadata':_0x3d27dc,'image':_0x2bb2ef};}catch(_0x252623){if(_0x7f28ea===_0x2b69b9(0x3a6))return;throw new k('Error\x20fetching\x20group',_0x252623['toString']());}}async[a0_0x28b734(0x58c)](_0x2b0548){const _0x91638c=a0_0x28b734;try{return await this['client'][_0x91638c(0x6fe)](_0x2b0548['groupJid'],_0x2b0548[_0x91638c(0x2e7)]),{'update':_0x91638c(0x57f)};}catch(_0x340191){throw new I(_0x91638c(0x6f2),_0x340191[_0x91638c(0x448)]());}}async[a0_0x28b734(0x25a)](_0xd05a88){const _0x5d74f3=a0_0x28b734;try{return await this[_0x5d74f3(0x395)]['groupUpdateSubject'](_0xd05a88[_0x5d74f3(0x7cd)],_0xd05a88[_0x5d74f3(0x69a)]),{'update':_0x5d74f3(0x57f)};}catch(_0x392482){throw new I(_0x5d74f3(0x6c3),_0x392482[_0x5d74f3(0x448)]());}}async[a0_0x28b734(0x62e)](_0xa71a53){const _0x562ae7=a0_0x28b734;try{return await this[_0x562ae7(0x395)]['groupSettingUpdate'](_0xa71a53[_0x562ae7(0x7cd)],_0xa71a53[_0x562ae7(0x6b1)]),{'update':_0x562ae7(0x57f)};}catch(_0x40af8c){throw new I(_0x562ae7(0x23b),_0x40af8c['toString']());}}async['findGroups'](){const _0x3183e9=a0_0x28b734;try{let _0x1b88fe=[],_0x113706=await this['client']['groupFetchAllParticipating'](),_0x1c1690=Object[_0x3183e9(0x54d)](_0x113706),_0x4d20ea=_0x1c1690[_0x3183e9(0x4d5)](_0x51f2fb=>(0x0,m[_0x3183e9(0x5a5)])(_0x51f2fb?.['id']))['map'](async _0x14278f=>{const _0x4f0a74=_0x3183e9;try{return await this[_0x4f0a74(0x395)][_0x4f0a74(0x265)](_0x14278f['id'],_0x4f0a74(0x5e1));}catch(_0x4d3ec3){return this[_0x4f0a74(0x780)][_0x4f0a74(0x62f)](this['instanceName']+'\x20('+this['instance'][_0x4f0a74(0x43f)]+_0x4f0a74(0x750)+_0x14278f['id']+':\x20'+(_0x4d3ec3 instanceof Error?_0x4d3ec3[_0x4f0a74(0x638)]:JSON['stringify'](_0x4d3ec3,null,0x2))),null;}}),_0x573041=await Promise[_0x3183e9(0x600)](_0x4d20ea);for(let _0x54fd8d=0x0;_0x54fd8d<_0x1c1690[_0x3183e9(0x2f0)];_0x54fd8d++){let _0x3695f0=_0x1c1690[_0x54fd8d];(0x0,m['isJidGroup'])(_0x3695f0?.['id'])&&_0x1b88fe[_0x3183e9(0x758)]({'groupJid':_0x3695f0?.['id'],'subject':_0x3695f0?.['subject'],'subjectOwner':_0x3695f0?.[_0x3183e9(0x197)]?.[_0x3183e9(0x5ac)]('@')[0x0],'subjectTime':_0x3695f0?.[_0x3183e9(0x58b)],'size':_0x3695f0?.[_0x3183e9(0x1cd)]?.['length'],'owner':_0x3695f0?.[_0x3183e9(0x2e5)]?.[_0x3183e9(0x5ac)]('@')[0x0],'creation':_0x3695f0?.[_0x3183e9(0x269)],'desc':_0x3695f0?.['desc'],'restrict':_0x3695f0?.[_0x3183e9(0x21d)],'announce':_0x3695f0?.[_0x3183e9(0x699)],'image':_0x573041[_0x54fd8d]});}return _0x1b88fe;}catch(_0x5dabef){throw new k('Error\x20fetching\x20group',_0x5dabef[_0x3183e9(0x448)]());}}async[a0_0x28b734(0x28f)](_0x4a352e){const _0x1abc67=a0_0x28b734;try{let _0x1d179d=await this[_0x1abc67(0x395)]['groupInviteCode'](_0x4a352e[_0x1abc67(0x7cd)]);return{'inviteUrl':_0x1abc67(0x4d2)+_0x1d179d,'inviteCode':_0x1d179d};}catch(_0x2d922b){throw new k('No\x20invite\x20code',_0x2d922b['toString']());}}async[a0_0x28b734(0x4af)](_0x1a952d){const _0x5549d0=a0_0x28b734;try{let _0x47bfab=await this[_0x5549d0(0x395)][_0x5549d0(0x36e)](_0x1a952d['groupJid']);return{'revoked':!0x0,'inviteUrl':_0x5549d0(0x4d2)+_0x47bfab,'inviteCode':_0x47bfab};}catch(_0x2ec8f4){throw new k(_0x5549d0(0x28c),_0x2ec8f4[_0x5549d0(0x448)]());}}async[a0_0x28b734(0x575)](_0x30417f){const _0x18c26c=a0_0x28b734;try{if((0x0,$[_0x18c26c(0x6a5)])(_0x30417f[_0x18c26c(0x28f)]))var _0x1faa92=_0x30417f[_0x18c26c(0x28f)][_0x18c26c(0x5ac)]('/')[0x3];else var _0x1faa92=_0x30417f['inviteCode'];let _0x4f593c=await this['client'][_0x18c26c(0x685)](_0x1faa92);return this[_0x18c26c(0x780)]['verbose'](this[_0x18c26c(0x554)]+'\x20('+this[_0x18c26c(0x362)]['wuid']+_0x18c26c(0x1b5)+_0x4f593c),{'join':!0x0,'inviteCode':_0x1faa92,'groupJid':_0x4f593c};}catch(_0x5db374){throw new k(_0x18c26c(0x24d),_0x5db374['toString']());}}async[a0_0x28b734(0x6a8)](_0x5d78f8){const _0x243651=a0_0x28b734;try{return{'participants':(await this[_0x243651(0x395)][_0x243651(0x733)](_0x5d78f8['groupJid']))[_0x243651(0x1cd)]};}catch(_0x140cfe){throw new k(_0x243651(0x374),_0x140cfe[_0x243651(0x448)]());}}async[a0_0x28b734(0x580)](_0x67e5ff){const _0x5337b8=a0_0x28b734;try{let _0x53a9c0=_0x67e5ff[_0x5337b8(0x1cd)][_0x5337b8(0x7df)](_0x5dbe63=>this[_0x5337b8(0x1aa)](_0x5dbe63));return{'updateParticipants':await this[_0x5337b8(0x395)][_0x5337b8(0x6db)](_0x67e5ff[_0x5337b8(0x7cd)],_0x53a9c0,_0x67e5ff[_0x5337b8(0x2b8)])};}catch(_0x3fbdc3){throw new w(_0x5337b8(0x7b0),_0x3fbdc3[_0x5337b8(0x448)]());}}async[a0_0x28b734(0x3d2)](_0x5a21d7){const _0xdd2784=a0_0x28b734;try{let _0x22fd18=await this[_0xdd2784(0x395)][_0xdd2784(0x222)](_0x5a21d7[_0xdd2784(0x7cd)],_0x5a21d7[_0xdd2784(0x7d1)]);return{'success':!0x0};}catch(_0x538d34){throw new w(_0xdd2784(0x21c),_0x538d34['toString']());}}async[a0_0x28b734(0x284)](_0x5a18e8){const _0x1a47f4=a0_0x28b734;try{return await this[_0x1a47f4(0x395)][_0x1a47f4(0x579)](_0x5a18e8[_0x1a47f4(0x7cd)]),{'groupJid':_0x5a18e8[_0x1a47f4(0x7cd)],'leave':!0x0};}catch(_0x4a2a49){throw new w('Unable\x20to\x20leave\x20the\x20group',_0x4a2a49[_0x1a47f4(0x448)]());}}async['pollMessage'](_0x2d5f3f){const _0x35fd9c=a0_0x28b734;return await this[_0x35fd9c(0x30c)](_0x2d5f3f[_0x35fd9c(0x517)],{'poll':{'name':_0x2d5f3f[_0x35fd9c(0x2dc)]?.[_0x35fd9c(0x69a)],'selectableCount':_0x2d5f3f['pollMessage'][_0x35fd9c(0x51b)],'values':_0x2d5f3f[_0x35fd9c(0x2dc)][_0x35fd9c(0x54d)]}},_0x2d5f3f?.[_0x35fd9c(0x37d)]);}async[a0_0x28b734(0x55a)](_0x4f922e){const _0x3cf397=a0_0x28b734;return await this[_0x3cf397(0x30c)](_0x4f922e[_0x3cf397(0x517)],{'listMessage':{'title':_0x4f922e[_0x3cf397(0x55a)]['title'],'description':_0x4f922e[_0x3cf397(0x55a)][_0x3cf397(0x2e7)],'buttonText':_0x4f922e[_0x3cf397(0x55a)]?.[_0x3cf397(0x490)],'footerText':_0x4f922e[_0x3cf397(0x55a)]?.[_0x3cf397(0x29d)],'sections':_0x4f922e[_0x3cf397(0x55a)][_0x3cf397(0x4d4)],'listType':0x2}},_0x4f922e?.[_0x3cf397(0x37d)]);}async[a0_0x28b734(0x716)](_0x429b71){const _0x5eabf5=a0_0x28b734;let _0x5092be;if(_0x429b71[_0x5eabf5(0x716)][_0x5eabf5(0x2bd)]===_0x5eabf5(0x437)){let _0xaf0fc=_0x429b71['menuMessage'][_0x5eabf5(0x27e)][_0x5eabf5(0x3e4)]('\x0a'),_0x153106='',_0x337846='';_0xaf0fc!==-0x1?(_0x153106=_0x429b71[_0x5eabf5(0x716)][_0x5eabf5(0x27e)][_0x5eabf5(0x387)](0x0,_0xaf0fc)[_0x5eabf5(0x68b)](),_0x337846=_0x429b71[_0x5eabf5(0x716)][_0x5eabf5(0x27e)][_0x5eabf5(0x387)](_0xaf0fc+0x1)):_0x337846=_0x429b71[_0x5eabf5(0x716)]['text'];let _0x55bb52=this[_0x5eabf5(0x2b0)](_0x429b71[_0x5eabf5(0x716)]['choices']);_0x5092be={'listMessage':{'title':_0x153106,'description':_0x337846,'buttonText':_0x429b71[_0x5eabf5(0x716)][_0x5eabf5(0x490)]||'Selecione','footerText':_0x429b71[_0x5eabf5(0x716)][_0x5eabf5(0x29d)],'sections':_0x55bb52,'listType':0x2}};}else{if(_0x429b71[_0x5eabf5(0x716)][_0x5eabf5(0x2bd)]===_0x5eabf5(0x524)){let _0x2025d7=_0x429b71[_0x5eabf5(0x716)][_0x5eabf5(0x2bb)][_0x5eabf5(0x4d5)](_0x34e3e0=>!(_0x34e3e0['startsWith']('[')&&_0x34e3e0[_0x5eabf5(0x406)](']')))[_0x5eabf5(0x7df)](_0xf01ed6=>_0xf01ed6['split']('\x0a')[0x0]);_0x5092be={'poll':{'name':_0x429b71[_0x5eabf5(0x716)][_0x5eabf5(0x27e)],'selectableCount':_0x429b71[_0x5eabf5(0x716)][_0x5eabf5(0x51b)]||0x1,'values':_0x2025d7}};}}return await this[_0x5eabf5(0x30c)](_0x429b71['number'],_0x5092be,_0x429b71?.[_0x5eabf5(0x37d)]);}['createSectionsFromValues'](_0x555d2c){const _0x3298a1=a0_0x28b734;let _0x484a5c=[],_0x2ecd40={'rows':[]};return _0x555d2c['forEach'](_0x150d06=>{const _0x1dea45=a0_0x4163;if(_0x150d06[_0x1dea45(0x18f)]('[')&&_0x150d06[_0x1dea45(0x406)](']'))_0x2ecd40[_0x1dea45(0x659)]['length']>0x0&&_0x484a5c[_0x1dea45(0x758)](_0x2ecd40),_0x2ecd40={'title':_0x150d06[_0x1dea45(0x2b2)](0x1,-0x1),'rows':[]};else{let _0x47baf2=_0x150d06[_0x1dea45(0x5ac)]('\x0a')[_0x1dea45(0x7df)](_0x3b1c16=>_0x3b1c16['trim']()),_0x2ad8e3=_0x47baf2[0x0],_0x68ee15=_0x47baf2[0x1]||null,_0x1f5686=_0x47baf2[0x2]||_0x2ad8e3;_0x2ecd40[_0x1dea45(0x659)][_0x1dea45(0x758)]({'title':_0x2ad8e3,'description':_0x68ee15,'rowId':_0x1f5686});}}),_0x2ecd40[_0x3298a1(0x659)]['length']>0x0&&_0x484a5c['push'](_0x2ecd40),_0x484a5c;}async['updateMessage'](_0x240d6f,_0x4e7b84){const _0x343d69=a0_0x28b734;if(await this['getMessage'](_0x240d6f,!0x0)){let _0x1835ac={'where':{'_id':_0x240d6f['id']}},_0x5e6776={'status':[_0x4e7b84['status']][0x0]};try{let _0x320f1d=await this[_0x343d69(0x769)][_0x343d69(0x638)]['update'](_0x1835ac,_0x5e6776,this[_0x343d69(0x362)]['wuid']);_0x320f1d&&q(this[_0x343d69(0x554)],_0x343d69(0x3c1),{'message':_0x320f1d});}catch{}}}[a0_0x28b734(0x259)](_0x2e61dd){const _0x4626bc=a0_0x28b734;let _0x203d80=[];return _0x2e61dd[_0x4626bc(0x757)](_0x5615c5=>{const _0x11af80=_0x4626bc;_0x5615c5[_0x11af80(0x679)]&&_0x203d80[_0x11af80(0x758)]('['+_0x5615c5[_0x11af80(0x679)]+']'),_0x5615c5[_0x11af80(0x659)][_0x11af80(0x757)](_0x46ae90=>{const _0x58114a=_0x11af80;_0x203d80[_0x58114a(0x758)](_0x46ae90[_0x58114a(0x679)]);});}),_0x203d80[_0x4626bc(0x67e)]('|');}[a0_0x28b734(0x4a6)](_0x197773){const _0x3cda33=a0_0x28b734;let _0x4b9ea2=_0x197773[_0x3cda33(0x7c4)](/\\n/g,'\x0a')['split']('\x0a')[_0x3cda33(0x4d5)](_0x488fd6=>_0x488fd6[_0x3cda33(0x6c9)](_0x3cda33(0x40a))||_0x488fd6[_0x3cda33(0x6c9)](_0x3cda33(0x3cc))),_0x589b02='';return _0x4b9ea2[_0x3cda33(0x757)](_0xc276ac=>{const _0x1f6f38=_0x3cda33;let _0x2b4242=/TEL(?:.*):(.+)/,_0x47df0f=/EMAIL(?:.*):(.+)/,_0x327ffb=_0xc276ac['match'](_0x2b4242),_0xb97aa2=_0xc276ac[_0x1f6f38(0x42a)](_0x47df0f);if(_0x327ffb){let _0x95f941=_0x327ffb[0x1][_0x1f6f38(0x7c4)](/-| |\+|\(|\)/g,'')[_0x1f6f38(0x68b)]();_0x589b02+=_0x1f6f38(0x273)+_0x95f941+'\x0a';}else{if(_0xb97aa2){let _0x5ba763=_0xb97aa2[0x1][_0x1f6f38(0x68b)]();_0x589b02+=_0x1f6f38(0x354)+_0x5ba763+'\x0a';}}}),_0x589b02[_0x3cda33(0x68b)]();}async[a0_0x28b734(0x802)](_0x5b233e,_0x2e6f53,_0x226171){const _0x2f621b=a0_0x28b734;if(!_0x5b233e[_0x2f621b(0x7d2)])return;let _0x4d5ad7=_0x2e6f53[_0x2f621b(0x670)][_0x2f621b(0x26f)][_0x2f621b(0x7c4)](/:\d{1,2}@/g,'@'),_0x124730=_0x2e6f53[_0x2f621b(0x670)][_0x2f621b(0x3e2)],_0x23cb00=_0x4d5ad7[_0x2f621b(0x406)](_0x2f621b(0x608)),_0x1520ec=_0x2e6f53[_0x2f621b(0x53c)]?.[_0x2f621b(0x27e)]||_0x2e6f53['message_normalized']?.[_0x2f621b(0x291)]||_0x2e6f53[_0x2f621b(0x53c)]?.[_0x2f621b(0x74f)]||_0x2e6f53[_0x2f621b(0x53c)]?.[_0x2f621b(0x69a)],_0x385d43={'lastmsg':_0x2e6f53['messageTimestamp']||Date[_0x2f621b(0x420)](),'unreadcount':_0x124730?0x0:0x1,..._0x124730||_0x23cb00?{}:{'name':_0x2e6f53['pushName']},..._0x23cb00?{'group':_0x23cb00}:{}},_0x266c37=await this[_0x2f621b(0x769)][_0x2f621b(0x2fb)][_0x2f621b(0x49f)]({'where':{'_id':_0x4d5ad7}},_0x385d43,this[_0x2f621b(0x362)]['wuid'],{'new':!0x0,'upsert':!0x0});if(_0x266c37['imported']){let _0x3d9265=await this[_0x2f621b(0x769)]['label']['find']({'where':{}},this[_0x2f621b(0x362)][_0x2f621b(0x43f)]),_0x501f3f=new Set(_0x3d9265[_0x2f621b(0x7df)](_0x3b16aa=>_0x3b16aa[_0x2f621b(0x4fb)])),_0x23b846=(_0x266c37[_0x2f621b(0x1e0)]?.['etiquetas']||[])[_0x2f621b(0x4d5)](_0x5942f5=>_0x501f3f[_0x2f621b(0x22f)](_0x5942f5)),_0x30dfd4={'leadInfo.etiquetas':_0x23b846,'imported':!0x1};_0x266c37=await this[_0x2f621b(0x769)][_0x2f621b(0x2fb)][_0x2f621b(0x49f)]({'where':{'_id':_0x4d5ad7}},_0x30dfd4,this[_0x2f621b(0x362)][_0x2f621b(0x43f)]);for(let _0x31042d of _0x23b846)await this[_0x2f621b(0x669)](_0x31042d,_0x4d5ad7);}if(!_0x23cb00&&(!_0x266c37?.[_0x2f621b(0x1e0)]||!_0x266c37[_0x2f621b(0x1e0)][_0x2f621b(0x5e2)])&&_0x2e6f53['pushName']&&!_0x124730&&(_0x266c37=await this[_0x2f621b(0x769)]['chat'][_0x2f621b(0x49f)]({'where':{'_id':_0x4d5ad7}},{'leadInfo.nome':_0x2e6f53[_0x2f621b(0x7f7)]},this[_0x2f621b(0x362)][_0x2f621b(0x43f)],{'new':!0x0,'upsert':!0x0})),_0x226171===_0x2f621b(0x512)&&_0x124730&&this['AutomateSystem']?.[_0x2f621b(0x3dd)][_0x2f621b(0x2e6)]&&!_0x1520ec[_0x2f621b(0x18f)](this[_0x2f621b(0x44b)]?.[_0x2f621b(0x3dd)][_0x2f621b(0x216)])){let _0x15a804=(this['AutomateSystem']?.['flowConfig'][_0x2f621b(0x2d9)]||0x5)*0xea60,_0x431c00=Date[_0x2f621b(0x420)]()+_0x15a804;_0x266c37?.[_0x2f621b(0x1e0)]?.[_0x2f621b(0x1bf)]===0x0||(await this[_0x2f621b(0x769)][_0x2f621b(0x2fb)][_0x2f621b(0x49f)]({'where':{'_id':_0x4d5ad7}},{'leadInfo.desativadoFluxoAte':_0x431c00},this[_0x2f621b(0x362)][_0x2f621b(0x43f)],{'new':!0x0,'upsert':!0x1}),this[_0x2f621b(0x780)][_0x2f621b(0x62f)](this[_0x2f621b(0x554)]+'\x20('+this[_0x2f621b(0x362)][_0x2f621b(0x43f)]+_0x2f621b(0x674)+_0x431c00+'.'));}if(_0x266c37)q(this[_0x2f621b(0x554)],_0x2f621b(0x3c5),{'chat':_0x266c37});else{this[_0x2f621b(0x780)][_0x2f621b(0x6f1)](this[_0x2f621b(0x554)]+'\x20('+this[_0x2f621b(0x362)]['wuid']+_0x2f621b(0x2e8));return;}if(!this[_0x2f621b(0x44b)]?.['flowConfig'][_0x2f621b(0x2e6)])return this['logger'][_0x2f621b(0x62f)](this['instanceName']+'\x20('+this[_0x2f621b(0x362)][_0x2f621b(0x43f)]+_0x2f621b(0x1b7)),null;if(_0x266c37[_0x2f621b(0x4fb)][_0x2f621b(0x6c9)]('@g.us')&&this[_0x2f621b(0x44b)]?.[_0x2f621b(0x3dd)]['ignoreGroups']===!0x0)return this[_0x2f621b(0x780)][_0x2f621b(0x62f)](this['instanceName']+'\x20('+this[_0x2f621b(0x362)]['wuid']+_0x2f621b(0x19c)),null;if(_0x266c37['leadInfo']){if(_0x266c37[_0x2f621b(0x1e0)][_0x2f621b(0x1bf)]===0x0||_0x266c37[_0x2f621b(0x1e0)][_0x2f621b(0x287)])return this['logger'][_0x2f621b(0x62f)](this[_0x2f621b(0x554)]+'\x20('+this['instance'][_0x2f621b(0x43f)]+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x4d5ad7+_0x2f621b(0x339)),null;if(_0x266c37[_0x2f621b(0x1e0)][_0x2f621b(0x1bf)]>Date['now']()&&!_0x2e6f53[_0x2f621b(0x53c)]?.[_0x2f621b(0x74f)])return this[_0x2f621b(0x780)][_0x2f621b(0x62f)](this[_0x2f621b(0x554)]+'\x20('+this['instance'][_0x2f621b(0x43f)]+_0x2f621b(0x646)+new Date(_0x266c37['leadInfo']['desativadoFluxoAte'])[_0x2f621b(0x3d5)]()+',\x20saindo.'),null;}this[_0x2f621b(0x780)][_0x2f621b(0x62f)](this[_0x2f621b(0x554)]+'\x20('+this[_0x2f621b(0x362)][_0x2f621b(0x43f)]+_0x2f621b(0x783)),this[_0x2f621b(0x3fd)](_0x226171,_0x2e6f53);}async['upsertChats'](_0x20decf,_0x2dbb70){const _0x4655ad=a0_0x28b734;if(_0x2dbb70['ENABLED']){let _0x1e6013=_0x20decf[_0x4655ad(0x7df)](async _0x2095d9=>{const _0x5743c1=_0x4655ad;try{let _0xd12f14={'_id':_0x2095d9[_0x5743c1(0x4fb)],'owner':_0x2095d9[_0x5743c1(0x2e5)],'lastcache':0x0};if(_0x2095d9['group']!==null&&(_0xd12f14[_0x5743c1(0x32e)]=_0x2095d9['group']),_0x2095d9[_0x5743c1(0x69a)]!==null&&(_0xd12f14[_0x5743c1(0x69a)]=_0x2095d9[_0x5743c1(0x69a)]),_0x2095d9['contactname']!==null&&(_0xd12f14[_0x5743c1(0x7d7)]=_0x2095d9['contactname']),_0x2095d9[_0x5743c1(0x48f)]!==null&&(_0xd12f14['imagechat']=_0x2095d9[_0x5743c1(0x48f)]),_0x2095d9['imagechat']===null&&(_0xd12f14[_0x5743c1(0x48f)]='Imagem\x20não\x20encontrada'),_0x2095d9['lastmsg']!==null&&(_0xd12f14[_0x5743c1(0x725)]=_0x2095d9[_0x5743c1(0x725)]),_0x2095d9[_0x5743c1(0x7e0)]!==null&&(_0xd12f14[_0x5743c1(0x7e0)]=_0x2095d9[_0x5743c1(0x7e0)]),_0x2095d9[_0x5743c1(0x426)]!==null&&(_0xd12f14['unreadcount']=_0x2095d9['unreadcount']),Object[_0x5743c1(0x732)](_0xd12f14)['length']>0x0)return await this[_0x5743c1(0x769)][_0x5743c1(0x2fb)][_0x5743c1(0x49f)]({'where':{'_id':_0x2095d9[_0x5743c1(0x4fb)]}},_0xd12f14,this[_0x5743c1(0x362)][_0x5743c1(0x43f)]);}catch(_0x1827f9){return console[_0x5743c1(0x6f1)]('Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x2095d9['_id']+':',_0x1827f9),null;}}),_0x350ece=(await Promise['all'](_0x1e6013))[_0x4655ad(0x4d5)](_0x2591bd=>_0x2591bd!==null)[_0x4655ad(0x2f0)];this[_0x4655ad(0x780)][_0x4655ad(0x62f)](this[_0x4655ad(0x554)]+'\x20('+this[_0x4655ad(0x362)][_0x4655ad(0x43f)]+_0x4655ad(0x1b5)+_0x350ece+'\x20chats\x20de\x20'+this['instance'][_0x4655ad(0x43f)]+_0x4655ad(0x336));}}async[a0_0x28b734(0x5a2)](_0x3ff8a4){const _0x49ebe2=a0_0x28b734;this[_0x49ebe2(0x780)][_0x49ebe2(0x62f)](this[_0x49ebe2(0x554)]+'\x20('+this[_0x49ebe2(0x362)]['wuid']+_0x49ebe2(0x51c));let _0x418775={'readMessages':[{'remoteJid':_0x3ff8a4['chatLog']['lastReceivedMessage'][_0x49ebe2(0x670)][_0x49ebe2(0x26f)],'fromMe':_0x3ff8a4[_0x49ebe2(0x1c5)][_0x49ebe2(0x506)][_0x49ebe2(0x670)][_0x49ebe2(0x3e2)],'id':_0x3ff8a4[_0x49ebe2(0x1c5)][_0x49ebe2(0x506)][_0x49ebe2(0x670)]['id']}]};await this[_0x49ebe2(0x5cd)](_0x418775);}async[a0_0x28b734(0x3fd)](_0x14fa4b,_0x563118){const _0x26de96=a0_0x28b734;try{let {key:_0x357e41,message_normalized:_0x2745fb}=_0x563118,_0x449bc0=_0x2745fb,_0x303b58=_0x2745fb['text']||_0x2745fb[_0x26de96(0x291)]||_0x2745fb[_0x26de96(0x74f)]||_0x2745fb['name'],_0x3c9c9a=_0x357e41['remoteJid'],_0x1c20ca;if(_0x449bc0[_0x26de96(0x670)][_0x26de96(0x3e2)]&&_0x303b58['trim']()!==this[_0x26de96(0x44b)]?.[_0x26de96(0x3dd)]['stopConversation']['trim']())return this[_0x26de96(0x780)][_0x26de96(0x62f)](this[_0x26de96(0x554)]+'\x20('+this[_0x26de96(0x362)][_0x26de96(0x43f)]+_0x26de96(0x1f9)),null;if(_0x449bc0[_0x26de96(0x670)]['fromMe']&&_0x303b58[_0x26de96(0x68b)]()===this[_0x26de96(0x44b)]?.['flowConfig'][_0x26de96(0x71f)][_0x26de96(0x68b)]()){this[_0x26de96(0x780)][_0x26de96(0x62f)](this[_0x26de96(0x554)]+'\x20('+this[_0x26de96(0x362)][_0x26de96(0x43f)]+_0x26de96(0x7f5));let _0x2eee17=await this[_0x26de96(0x769)][_0x26de96(0x619)][_0x26de96(0x79e)]({'remoteJid':_0x3c9c9a,'status':_0x26de96(0x428)},this[_0x26de96(0x362)][_0x26de96(0x43f)]);this[_0x26de96(0x780)]['verbose'](this[_0x26de96(0x554)]+'\x20('+this[_0x26de96(0x362)][_0x26de96(0x43f)]+_0x26de96(0x2be)+_0x2eee17);let _0x28a092=Date[_0x26de96(0x420)](),_0x5d0eb5;return this[_0x26de96(0x44b)]?.[_0x26de96(0x3dd)][_0x26de96(0x305)]===0x0?_0x5d0eb5={'stoppedUntil':_0x28a092+0x7591f6200}:_0x5d0eb5={'stoppedUntil':_0x28a092+this['AutomateSystem']?.[_0x26de96(0x3dd)][_0x26de96(0x305)]*0x3c*0x3e8},this[_0x26de96(0x780)]['verbose'](this[_0x26de96(0x554)]+'\x20('+this[_0x26de96(0x362)]['wuid']+_0x26de96(0x4b7)+_0x5d0eb5),this[_0x26de96(0x36f)](_0x1c20ca,_0x5d0eb5['stoppedUntil']),null;}if(_0x303b58&&_0x303b58['startsWith'](this['AutomateSystem']?.['flowConfig'][_0x26de96(0x216)])&&_0x303b58[_0x26de96(0x2f0)]>0x4){let _0x48e86b=await this[_0x26de96(0x769)][_0x26de96(0x3f5)]['findOne']({'where':{'startCommandWord':_0x303b58}},this[_0x26de96(0x362)][_0x26de96(0x43f)]);if(this['logger']['verbose'](this[_0x26de96(0x554)]+'\x20('+this[_0x26de96(0x362)][_0x26de96(0x43f)]+_0x26de96(0x660)),_0x48e86b)_0x1c20ca=await this[_0x26de96(0x791)](_0x48e86b,_0x449bc0[_0x26de96(0x670)],_0x449bc0);else return this[_0x26de96(0x780)][_0x26de96(0x62f)](this['instanceName']+'\x20('+this[_0x26de96(0x362)]['wuid']+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand'),null;}else _0x1c20ca=await this['findConversation'](_0x3c9c9a,_0x449bc0);if(_0x1c20ca){this[_0x26de96(0x780)][_0x26de96(0x62f)](this[_0x26de96(0x554)]+'\x20('+this[_0x26de96(0x362)][_0x26de96(0x43f)]+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x357e41['fromMe']&&_0x1c20ca[_0x26de96(0x28d)]&&this[_0x26de96(0x5a2)](_0x1c20ca);let _0x27cc35=await this[_0x26de96(0x43b)](_0x1c20ca);_0x27cc35&&await this['processblock'](_0x1c20ca,_0x27cc35);}}catch(_0xf5e004){this[_0x26de96(0x780)]['error'](this[_0x26de96(0x554)]+'\x20('+this[_0x26de96(0x362)][_0x26de96(0x43f)]+_0x26de96(0x221)+(_0xf5e004 instanceof Error?_0xf5e004[_0x26de96(0x638)]:JSON['stringify'](_0xf5e004,null,0x2)));}}[a0_0x28b734(0x3bf)](_0x30e27a,_0x4392a2='',_0x3f33d7={},_0x45e111=!0x0){const _0x1c8afb=a0_0x28b734;for(let _0x27e164 in _0x30e27a){let _0x100dc6=_0x45e111?'_'+_0x27e164:''+_0x4392a2+_0x27e164;typeof _0x30e27a[_0x27e164]==_0x1c8afb(0x7c0)&&_0x30e27a[_0x27e164]!==null?this['flattenObject'](_0x30e27a[_0x27e164],_0x100dc6+'.',_0x3f33d7,!0x1):_0x3f33d7[_0x100dc6]=String(_0x30e27a[_0x27e164]);}return _0x3f33d7;}[a0_0x28b734(0x5df)](_0x4196db){const _0x3de633=a0_0x28b734;let _0x57c10e={};for(let _0x27cc98 of _0x4196db)typeof _0x27cc98['name']==_0x3de633(0x18e)&&typeof _0x27cc98['value']=='string'&&(_0x57c10e[_0x27cc98['name']]=_0x27cc98[_0x3de633(0x664)]);return _0x57c10e;}async[a0_0x28b734(0x43b)](_0x34ebf0){const _0x10bc90=a0_0x28b734;if(!this['AutomateSystem']?.[_0x10bc90(0x3dd)][_0x10bc90(0x2e6)]||_0x34ebf0[_0x10bc90(0x6e9)]!=='open'&&_0x34ebf0[_0x10bc90(0x503)]==='')return null;let _0x1844db=_0x34ebf0[_0x10bc90(0x1c5)][_0x10bc90(0x5a1)]||_0x10bc90(0x322);typeof _0x34ebf0[_0x10bc90(0x1c5)][_0x10bc90(0x54f)]>'u'&&(_0x34ebf0[_0x10bc90(0x1c5)][_0x10bc90(0x54f)]=!0x0);let _0x1b233e=_0x34ebf0['chatLog'][_0x10bc90(0x54f)];this['logger']['verbose'](this[_0x10bc90(0x554)]+'\x20('+this['instance'][_0x10bc90(0x43f)]+'):\x20lastBlockId:\x20'+_0x1844db+_0x10bc90(0x65b)+_0x1b233e);let _0x933190=_0x1844db===_0x10bc90(0x322)?_0x34ebf0[_0x10bc90(0x511)][_0x10bc90(0x79e)](_0x17c515=>_0x17c515['type']===_0x10bc90(0x322)):_0x34ebf0[_0x10bc90(0x511)][_0x10bc90(0x79e)](_0x101526=>_0x101526[_0x10bc90(0x4fb)][_0x10bc90(0x448)]()===_0x1844db[_0x10bc90(0x448)]());if(!_0x933190)return this[_0x10bc90(0x780)][_0x10bc90(0x6f1)](this[_0x10bc90(0x554)]+'\x20('+this[_0x10bc90(0x362)]['wuid']+_0x10bc90(0x73f)+_0x1844db),null;let _0x16f2c1={'_pushName':_0x34ebf0[_0x10bc90(0x1c5)][_0x10bc90(0x506)][_0x10bc90(0x7f7)],..._0x34ebf0[_0x10bc90(0x1c5)][_0x10bc90(0x37b)]},_0x398e4e=null;if(_0x34ebf0[_0x10bc90(0x503)]){let _0x58ff5e=_0x34ebf0['chatLog'][_0x10bc90(0x506)][_0x10bc90(0x74f)],_0x35af02=_0x34ebf0[_0x10bc90(0x661)][_0x10bc90(0x79e)](_0x58af3f=>_0x58af3f['option']===_0x58ff5e);if(_0x35af02){let _0x4685df=_0x35af02[_0x10bc90(0x1bc)];if(_0x398e4e=_0x34ebf0[_0x10bc90(0x511)][_0x10bc90(0x79e)](_0x74e712=>_0x74e712[_0x10bc90(0x731)]===_0x4685df&&_0x74e712['order']===0x1),_0x933190[_0x10bc90(0x254)]['pollOnReplyDelete']){let _0x4f399c={'id':_0x34ebf0['waitingMenu_id'],'remoteJid':_0x34ebf0[_0x10bc90(0x26f)],'fromMe':!0x0};await this['deleteMessage'](_0x4f399c);}if(_0x933190[_0x10bc90(0x254)]['pollOnReplyDelete']&&_0x933190['uazapi'][_0x10bc90(0x6a7)]&&_0x933190[_0x10bc90(0x254)]['menuType']===_0x10bc90(0x524)){let _0xc3e352={'number':_0x34ebf0[_0x10bc90(0x26f)],'options':{'delay':0x0},'textMessage':{'text':_0x10bc90(0x822)+_0x34ebf0[_0x10bc90(0x4d3)]+_0x10bc90(0x2a8)+_0x58ff5e}};await this[_0x10bc90(0x5be)](_0xc3e352);}_0x34ebf0[_0x10bc90(0x6e9)]=_0x10bc90(0x428),_0x34ebf0[_0x10bc90(0x503)]='',_0x34ebf0[_0x10bc90(0x4d3)]='',_0x34ebf0[_0x10bc90(0x661)]=[];}else{this[_0x10bc90(0x780)]['verbose'](this[_0x10bc90(0x554)]+'\x20('+this[_0x10bc90(0x362)][_0x10bc90(0x43f)]+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x1a56f3={'activatedCount':_0x34ebf0['chatLog']['blockLogs'][_0x10bc90(0x4d5)](_0x5ae645=>String(_0x5ae645['blockId'])===String(_0x1844db))[_0x10bc90(0x2f0)],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x933190['uazapi']['pollErrorMessage']){let _0x2a46e0={'number':_0x34ebf0['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x933190[_0x10bc90(0x254)]['pollErrorMessage']}};await this[_0x10bc90(0x5be)](_0x2a46e0);}if(_0x933190[_0x10bc90(0x3dc)]!==void 0x0&&_0x1a56f3[_0x10bc90(0x446)]>=_0x933190['maxActives']){let _0x348d4d=Date[_0x10bc90(0x420)](),_0x39280a=_0x933190[_0x10bc90(0x36a)]??0xa;isNaN(_0x39280a)&&(_0x39280a=0xa);let _0x58fc55=_0x348d4d+_0x39280a*0x3c*0x3e8;_0x1a56f3[_0x10bc90(0x2b3)]=_0x58fc55,_0x1a56f3[_0x10bc90(0x6ad)]['push'](_0x10bc90(0x6bf)),this[_0x10bc90(0x36f)](_0x34ebf0,_0x58fc55),_0x34ebf0['waitingMenu_id']='',_0x34ebf0[_0x10bc90(0x4d3)]='',_0x34ebf0[_0x10bc90(0x661)]=[];}return this[_0x10bc90(0x6ef)](_0x34ebf0,_0x933190,_0x1a56f3,!0x0),null;}}if(_0x1b233e&&_0x933190[_0x10bc90(0x1bc)]&&!_0x34ebf0[_0x10bc90(0x503)]){let _0x2961e2=_0x34ebf0[_0x10bc90(0x511)]['filter'](_0xee2ae0=>_0xee2ae0[_0x10bc90(0x731)][_0x10bc90(0x448)]()===_0x933190['next_groupId'][_0x10bc90(0x448)]())[_0x10bc90(0x447)]((_0x25175a,_0x45c589)=>_0x25175a[_0x10bc90(0x361)]-_0x45c589[_0x10bc90(0x361)]);_0x2961e2[_0x10bc90(0x2f0)]>0x0&&(_0x398e4e=_0x2961e2[0x0]);}if(!_0x398e4e){let _0xedb89c=_0x933190[_0x10bc90(0x731)],_0x29fc5a=_0x34ebf0[_0x10bc90(0x511)][_0x10bc90(0x4d5)](_0xcf463e=>_0xcf463e[_0x10bc90(0x731)]===_0xedb89c&&_0xcf463e[_0x10bc90(0x361)]>_0x933190[_0x10bc90(0x361)])[_0x10bc90(0x447)]((_0x49bcea,_0x2aa9fe)=>_0x49bcea[_0x10bc90(0x361)]-_0x2aa9fe[_0x10bc90(0x361)]);_0x29fc5a[_0x10bc90(0x2f0)]>0x0&&(_0x398e4e=_0x29fc5a[0x0]);}if(!_0x398e4e)return _0x34ebf0[_0x10bc90(0x6e9)]=_0x10bc90(0x419),null;_0x34ebf0[_0x10bc90(0x1c5)][_0x10bc90(0x37b)]=_0x16f2c1;let _0x36a96d=JSON[_0x10bc90(0x678)](JSON['stringify'](_0x398e4e));return this['replaceVariablesInObject'](_0x36a96d,_0x34ebf0['chatLog']['realVariables']),_0x34ebf0[_0x10bc90(0x1c5)]['lastBlockId']=_0x36a96d[_0x10bc90(0x4fb)],_0x34ebf0[_0x10bc90(0x1c5)][_0x10bc90(0x54f)]=!0x0,_0x36a96d;}[a0_0x28b734(0x78b)](_0xd36099,_0x36cf48){const _0x2cb87b=a0_0x28b734;return _0xd36099[_0x2cb87b(0x7c4)](/\{\{([^}]+)\}\}/g,(_0x48c6e7,_0x28c6a4)=>_0x36cf48[_0x28c6a4]||'');}[a0_0x28b734(0x3a3)](_0x5ae262,_0x5d8756){for(let _0x578c64 in _0x5ae262)typeof _0x5ae262[_0x578c64]=='string'?_0x5ae262[_0x578c64]=this['replaceVariables'](_0x5ae262[_0x578c64],_0x5d8756):typeof _0x5ae262[_0x578c64]=='object'&&this['replaceVariablesInObject'](_0x5ae262[_0x578c64],_0x5d8756);}async[a0_0x28b734(0x6e2)](_0x3785e3,_0x39c46b){const _0x4a9446=a0_0x28b734;let _0x20c9dd=_0x39c46b[_0x4a9446(0x4fb)];if(_0x3785e3['chatLog']&&_0x3785e3[_0x4a9446(0x1c5)]['blockLogs']){let _0x6dc277=_0x3785e3[_0x4a9446(0x1c5)][_0x4a9446(0x60e)]['filter'](_0x289cf3=>String(_0x289cf3[_0x4a9446(0x38b)])===String(_0x20c9dd))['pop']();if(_0x6dc277&&_0x6dc277[_0x4a9446(0x6f1)]&&_0x39c46b[_0x4a9446(0x415)])return _0x3785e3[_0x4a9446(0x6e9)]=_0x4a9446(0x419),await this[_0x4a9446(0x293)](_0x3785e3),null;}if(_0x39c46b[_0x4a9446(0x2bd)]===_0x4a9446(0x254)&&_0x39c46b[_0x4a9446(0x254)][_0x4a9446(0x3e7)]===_0x4a9446(0x3a5)&&_0x3785e3['waitingMenu_id'])return _0x3785e3[_0x4a9446(0x1c5)][_0x4a9446(0x5a1)]=_0x20c9dd,await this[_0x4a9446(0x293)](_0x3785e3),null;let _0x3fbd6a=await this[_0x4a9446(0x43b)](_0x3785e3);if(_0x3785e3[_0x4a9446(0x1c5)]&&_0x3785e3[_0x4a9446(0x1c5)][_0x4a9446(0x60e)]){let _0x991dae=_0x3785e3[_0x4a9446(0x1c5)][_0x4a9446(0x60e)][_0x4a9446(0x4d5)](_0x4e126d=>String(_0x4e126d[_0x4a9446(0x38b)])===String(_0x20c9dd))[_0x4a9446(0x2f0)];if(_0x39c46b['maxActives']!==void 0x0&&_0x991dae>=_0x39c46b[_0x4a9446(0x3dc)]){let _0x2df0eb=Date['now'](),_0x260318=_0x39c46b['stopMinutesMaxActives']??0xa;isNaN(_0x260318)&&(_0x260318=0xa);let _0x53f23c=_0x2df0eb+_0x260318*0x3c*0x3e8,_0x5bc5c7={'newStoppedUntil':_0x53f23c};return this[_0x4a9446(0x36f)](_0x3785e3,_0x53f23c),this[_0x4a9446(0x6ef)](_0x3785e3,_0x39c46b,_0x5bc5c7,!0x0),null;}}_0x3fbd6a&&_0x3fbd6a[_0x4a9446(0x2bd)]!=='save'&&await this[_0x4a9446(0x656)](_0x3785e3,_0x3fbd6a),_0x3fbd6a||await this[_0x4a9446(0x293)](_0x3785e3),_0x3fbd6a&&_0x3fbd6a['type']===_0x4a9446(0x7cf)&&(_0x3785e3[_0x4a9446(0x1c5)][_0x4a9446(0x5a1)]=_0x20c9dd,await this[_0x4a9446(0x293)](_0x3785e3));}async[a0_0x28b734(0x656)](_0x212ee5,_0x2cb66e){const _0x49e31f=a0_0x28b734;try{let _0x54c26c=_0x2cb66e[_0x49e31f(0x2bd)];this[_0x49e31f(0x780)][_0x49e31f(0x62f)](this['instanceName']+'\x20('+this[_0x49e31f(0x362)][_0x49e31f(0x43f)]+'):\x20Going\x20to\x20'+_0x54c26c);let _0x28cd19={'uazapi':()=>this[_0x49e31f(0x1b8)](_0x212ee5,_0x2cb66e),'save':()=>this['saveTextReply'](_0x212ee5,_0x2cb66e),'stop':()=>this[_0x49e31f(0x71f)](_0x212ee5,_0x2cb66e),'condition':()=>this[_0x49e31f(0x3b9)](_0x212ee5,_0x2cb66e),'varedit':()=>this[_0x49e31f(0x7c3)](_0x212ee5,_0x2cb66e),'apirequest':()=>this[_0x49e31f(0x65e)](_0x212ee5,_0x2cb66e),'goToFlow':()=>this['processgoToFlow'](_0x212ee5,_0x2cb66e)}[_0x54c26c];_0x28cd19&&await _0x28cd19();}catch(_0x341415){this[_0x49e31f(0x780)][_0x49e31f(0x6f1)](this[_0x49e31f(0x554)]+'\x20('+this['instance'][_0x49e31f(0x43f)]+_0x49e31f(0x558)+(_0x341415 instanceof Error?_0x341415['message']:JSON['stringify'](_0x341415,null,0x2)));}}async['processgoToFlow'](_0x53eca6,_0x4c40dd){const _0x28aa2d=a0_0x28b734;if(this[_0x28aa2d(0x780)][_0x28aa2d(0x62f)](this[_0x28aa2d(0x554)]+'\x20('+this['instance'][_0x28aa2d(0x43f)]+_0x28aa2d(0x5c8)),!_0x53eca6||!_0x4c40dd)return this[_0x28aa2d(0x780)][_0x28aa2d(0x6f1)](this['instanceName']+'\x20('+this[_0x28aa2d(0x362)][_0x28aa2d(0x43f)]+_0x28aa2d(0x63a)),null;await this[_0x28aa2d(0x6ef)](_0x53eca6,_0x4c40dd,{},!0x0,!0x0),console['log'](_0x28aa2d(0x535)),console[_0x28aa2d(0x38a)](_0x4c40dd);let _0x4329d1=_0x4c40dd[_0x28aa2d(0x588)];console['log'](_0x28aa2d(0x63e),_0x4329d1),_0x53eca6=await this[_0x28aa2d(0x271)](_0x4329d1,_0x53eca6[_0x28aa2d(0x26f)],_0x53eca6[_0x28aa2d(0x1c5)][_0x28aa2d(0x37b)]),this[_0x28aa2d(0x780)]['verbose'](this[_0x28aa2d(0x554)]+'\x20('+this['instance'][_0x28aa2d(0x43f)]+_0x28aa2d(0x723));let _0x2935c1=await this[_0x28aa2d(0x43b)](_0x53eca6);_0x2935c1&&await this[_0x28aa2d(0x656)](_0x53eca6,_0x2935c1);}async[a0_0x28b734(0x271)](_0xa47af8,_0x5c3f26,_0x4a8ae4){const _0x3ca91d=a0_0x28b734;this[_0x3ca91d(0x780)][_0x3ca91d(0x62f)](this[_0x3ca91d(0x554)]+'\x20('+this[_0x3ca91d(0x362)][_0x3ca91d(0x43f)]+_0x3ca91d(0x69f));try{if(_0xa47af8=await this[_0x3ca91d(0x769)]['flow'][_0x3ca91d(0x5a7)]({'where':{'name':_0xa47af8}},this[_0x3ca91d(0x362)][_0x3ca91d(0x43f)]),!_0xa47af8)return this[_0x3ca91d(0x780)][_0x3ca91d(0x6f1)](this[_0x3ca91d(0x554)]+'\x20('+this[_0x3ca91d(0x362)][_0x3ca91d(0x43f)]+_0x3ca91d(0x423)),null;let _0x979cb8=require(_0x3ca91d(0x5b8))[_0x3ca91d(0x194)],_0x26fbbf=Date[_0x3ca91d(0x420)](),_0x3bb7c5=_0x3ca91d(0x322),_0x65d44d={},_0x1954dc={},_0x908c0={..._0xa47af8,'chatLog':null},_0x48f4e8={'lastReceivedMessage':_0x65d44d,'lastSendMessage':_0x1954dc,'lastBlockId':_0x3bb7c5,'lastCondition':!0x0,'realVariables':_0x4a8ae4};_0x908c0['chatLog']=_0x48f4e8,_0x908c0[_0x3ca91d(0x1c5)][_0x3ca91d(0x37b)]={..._0x4a8ae4},delete _0x908c0[_0x3ca91d(0x4fb)],_0x908c0[_0x3ca91d(0x4fb)]=new _0x979cb8(),_0x908c0[_0x3ca91d(0x5d5)]=_0x26fbbf,_0x908c0['status']=_0x3ca91d(0x428),_0x908c0[_0x3ca91d(0x26f)]=_0x5c3f26;let _0x2995bf=await this[_0x3ca91d(0x769)][_0x3ca91d(0x619)][_0x3ca91d(0x49f)](_0x908c0[_0x3ca91d(0x4fb)],_0x908c0,this[_0x3ca91d(0x362)][_0x3ca91d(0x43f)]);return this['logger'][_0x3ca91d(0x62f)](this[_0x3ca91d(0x554)]+'\x20('+this[_0x3ca91d(0x362)][_0x3ca91d(0x43f)]+_0x3ca91d(0x756)),_0x2995bf?_0x908c0:null;}catch(_0x423dd8){throw this[_0x3ca91d(0x780)][_0x3ca91d(0x6f1)](this[_0x3ca91d(0x554)]+'\x20('+this[_0x3ca91d(0x362)][_0x3ca91d(0x43f)]+_0x3ca91d(0x819)+(_0x423dd8 instanceof Error?_0x423dd8['message']:JSON[_0x3ca91d(0x463)](_0x423dd8,null,0x2))),new w(_0x423dd8[_0x3ca91d(0x638)]);}}async[a0_0x28b734(0x65e)](_0x404489,_0x1f7cae){const _0x88c608=a0_0x28b734;let _0x445c1c,_0x1b3f06;try{let _0x146117=_0x1f7cae[_0x88c608(0x6ac)];if(!_0x146117||!_0x146117[_0x88c608(0x2d6)]||!_0x146117['method'])throw new Error(_0x88c608(0x7a9));let _0x3ae00b;([_0x88c608(0x803),_0x88c608(0x2fe),_0x88c608(0x3b4)][_0x88c608(0x2a6)](_0x16932c=>_0x146117[_0x88c608(0x2d6)][_0x88c608(0x6c9)](_0x16932c))||_0x146117[_0x88c608(0x626)])&&(_0x3ae00b=_0x88c608(0x59b));let _0x9021a2={'method':_0x146117[_0x88c608(0x50d)],'url':_0x146117[_0x88c608(0x2d6)],'headers':_0x146117[_0x88c608(0x770)]||{},'data':_0x146117[_0x88c608(0x1c3)]||{},..._0x3ae00b&&{'responseType':_0x3ae00b}},_0x8168a9=await(0x0,te[_0x88c608(0x4d7)])(_0x9021a2),_0x1c294f=_0x8168a9[_0x88c608(0x796)]['content-type'];if(_0x1c294f&&_0x1c294f[_0x88c608(0x6c9)](_0x88c608(0x3ec))){_0x445c1c=_0x8168a9[_0x88c608(0x7f3)];let _0x26984f=_0x404489['chatLog'][_0x88c608(0x37b)],_0x1847cb=this[_0x88c608(0x3bf)](_0x445c1c);return Object[_0x88c608(0x81f)](_0x26984f,_0x1847cb),_0x404489[_0x88c608(0x1c5)]['realVariables']=_0x26984f,_0x1b3f06={'error':!0x1,'apiResponse':_0x445c1c},this[_0x88c608(0x6ef)](_0x404489,_0x1f7cae,_0x1b3f06),_0x445c1c;}if(_0x1c294f&&(_0x1c294f[_0x88c608(0x6c9)](_0x88c608(0x54b))||_0x1c294f[_0x88c608(0x6c9)](_0x88c608(0x24c))||_0x1c294f['includes'](_0x88c608(0x611))||_0x1c294f[_0x88c608(0x6c9)]('video'))){this[_0x88c608(0x780)][_0x88c608(0x62f)](this['instanceName']+'\x20('+this[_0x88c608(0x362)]['wuid']+_0x88c608(0x473)+_0x1c294f);let _0x250b1a=(0x0,Me['v4'])(),_0x59a723='',_0x10daca={'image/jpeg':_0x88c608(0x566),'image/png':'.png','image/gif':'.gif','image/webp':_0x88c608(0x75b),'image/svg+xml':_0x88c608(0x4d8),'audio/mpeg':_0x88c608(0x375),'audio/ogg':_0x88c608(0x312),'audio/wav':_0x88c608(0x1d7),'video/mp4':'.mp4','video/webm':_0x88c608(0x1b6),'video/ogg':_0x88c608(0x25c),'text/plain':_0x88c608(0x714),'application/pdf':_0x88c608(0x52c),'application/msword':_0x88c608(0x694),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x88c608(0x620),'application/vnd.ms-excel':_0x88c608(0x689),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x88c608(0x68c),'application/vnd.ms-powerpoint':_0x88c608(0x2a3),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x88c608(0x218)};_0x10daca[_0x1c294f]?(_0x59a723=_0x10daca[_0x1c294f],this[_0x88c608(0x780)][_0x88c608(0x62f)](this[_0x88c608(0x554)]+'\x20('+this['instance'][_0x88c608(0x43f)]+_0x88c608(0x5b0)+_0x59a723)):(_0x59a723='.error',this[_0x88c608(0x780)][_0x88c608(0x62f)](this[_0x88c608(0x554)]+'\x20('+this[_0x88c608(0x362)][_0x88c608(0x43f)]+_0x88c608(0x3eb)+_0x59a723)),_0x250b1a+=_0x59a723,this['logger'][_0x88c608(0x62f)](this['instanceName']+'\x20('+this['instance'][_0x88c608(0x43f)]+'):\x20Nome\x20do\x20arquivo\x20gerado:\x20'+_0x250b1a);let _0x29c3cb=this['configService']['get'](_0x88c608(0x57a))['URL'];if(!_0x29c3cb){let _0x8e2109=this[_0x88c608(0x78a)]['get'](_0x88c608(0x4b5));_0x29c3cb=_0x88c608(0x31a)+(_0x8e2109&&_0x8e2109[_0x88c608(0x7b5)][_0x88c608(0x5ac)]('/')[0x4]);}let _0x1b8e01=Buffer[_0x88c608(0x325)](_0x8168a9[_0x88c608(0x7f3)]);await this['saveMediaToFile'](_0x1b8e01,_0x250b1a);let _0x1ea71c=_0x88c608(0x48d)+_0x250b1a;_0x1ea71c=''+_0x29c3cb+_0x1ea71c,_0x445c1c={'fileUrl':_0x1ea71c},_0x404489[_0x88c608(0x1c5)]['realVariables'][_0x88c608(0x383)]=_0x1ea71c;let _0x4c2240=_0x404489[_0x88c608(0x1c5)]['realVariables'],_0x4852c9=this[_0x88c608(0x3bf)](_0x445c1c);return Object['assign'](_0x4c2240,_0x4852c9),_0x404489[_0x88c608(0x1c5)][_0x88c608(0x37b)]=_0x4c2240,_0x1b3f06={'error':!0x1,'apiResponse':{'fileUrl':_0x1ea71c}},this[_0x88c608(0x6ef)](_0x404489,_0x1f7cae,_0x1b3f06),_0x445c1c;}}catch(_0x30f6c5){console[_0x88c608(0x6f1)](_0x88c608(0x4f4),_0x30f6c5),_0x30f6c5['response']&&(_0x445c1c=_0x30f6c5[_0x88c608(0x6ab)]['data']);let _0x22fc67=_0x404489[_0x88c608(0x1c5)][_0x88c608(0x37b)],_0x367493=this[_0x88c608(0x3bf)](_0x445c1c);return Object[_0x88c608(0x81f)](_0x22fc67,_0x367493),_0x404489['chatLog'][_0x88c608(0x37b)]=_0x22fc67,_0x1b3f06={'error':!0x0,'errorLog':_0x30f6c5[_0x88c608(0x448)](),'apiResponse':_0x445c1c},this[_0x88c608(0x6ef)](_0x404489,_0x1f7cae,_0x1b3f06),{'success':!0x1};}}[a0_0x28b734(0x39e)](_0xaef6a8,_0x44eb86){const _0x28695e=a0_0x28b734;let _0xb13a12=_0xd0457c=>{const _0x32f11a=a0_0x4163;let _0x5eb67d=_0xd0457c[_0x32f11a(0x7c4)](/[^0-9.,-]/g,'')[_0x32f11a(0x7c4)](',','.'),_0x528d11=parseFloat(_0x5eb67d);return isNaN(_0x528d11)?null:_0x528d11;},_0x4bc817=_0x44eb86['firstValue'],_0x3464de=_0x44eb86['secondValue'];typeof _0x4bc817==_0x28695e(0x18e)&&(_0x4bc817=this['replaceVariables'](_0x4bc817,_0xaef6a8[_0x28695e(0x1c5)][_0x28695e(0x37b)])??''),typeof _0x3464de=='string'&&(_0x3464de=this[_0x28695e(0x78b)](_0x3464de,_0xaef6a8['chatLog'][_0x28695e(0x37b)])??'');let _0x479e24=null;if(!_0x44eb86[_0x28695e(0x444)])return null;switch(this[_0x28695e(0x780)]['verbose'](this[_0x28695e(0x554)]+'\x20('+this[_0x28695e(0x362)][_0x28695e(0x43f)]+_0x28695e(0x349)+_0x4bc817),this['logger'][_0x28695e(0x62f)](this[_0x28695e(0x554)]+'\x20('+this['instance'][_0x28695e(0x43f)]+_0x28695e(0x7c1)+_0x3464de),_0x44eb86[_0x28695e(0x444)]){case'+':case'-':case'*':case'/':let _0x28aa7b=_0xb13a12(_0x4bc817||'0'),_0x200b60=_0xb13a12(_0x3464de||'0');if(_0x28aa7b===null)return null;switch(_0x44eb86[_0x28695e(0x444)]){case'+':_0x479e24=_0x28aa7b+(_0x200b60??0x0);break;case'-':_0x479e24=_0x28aa7b-(_0x200b60??0x0);break;case'*':_0x479e24=_0x28aa7b*(_0x200b60??0x1);break;case'/':_0x200b60!==0x0&&(_0x479e24=_0x28aa7b/(_0x200b60??0x1));break;}break;case _0x28695e(0x1e7):case _0x28695e(0x253):let _0x5e8c79=_0x3464de,_0x1f33da=_0x44eb86[_0x28695e(0x6cd)];if(typeof _0x1f33da==_0x28695e(0x18e)&&(_0x1f33da=this[_0x28695e(0x78b)](_0x1f33da,_0xaef6a8[_0x28695e(0x1c5)][_0x28695e(0x37b)])??''),_0x5e8c79&&_0x1f33da!==void 0x0){let _0x1bb0e3=_0x44eb86[_0x28695e(0x444)]===_0x28695e(0x1e7)?new RegExp(_0x5e8c79[_0x28695e(0x7c4)](/[-\/\\^$*+?.()|[\]{}]/g,_0x28695e(0x75e)),'g'):new RegExp(_0x5e8c79,'g');_0x479e24=_0x4bc817[_0x28695e(0x7c4)](_0x1bb0e3,_0x1f33da);}else console[_0x28695e(0x272)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case'setNewValue':_0x479e24=_0x3464de;break;case _0x28695e(0x236):let _0x292de5=_0x4bc817[_0x28695e(0x42a)](new RegExp(_0x3464de||''));_0x479e24=_0x292de5?_0x292de5[0x0]:'';break;case'truncatedto':_0x479e24=_0x4bc817[_0x28695e(0x2b2)](0x0,parseInt(_0x3464de||'0'));break;case _0x28695e(0x6a9):let _0x1633fe=parseInt(_0x3464de||'0');_0x479e24=_0x4bc817[_0x28695e(0x2b2)](_0x4bc817[_0x28695e(0x2f0)]-_0x1633fe);break;case _0x28695e(0x44e):let _0x59ccf9=_0xb13a12(_0x4bc817),_0x178b09=parseInt(_0x3464de||'0');_0x178b09=Math[_0x28695e(0x26e)](_0x178b09),_0x59ccf9!==null?_0x479e24=_0x59ccf9[_0x28695e(0x3d5)](_0x28695e(0x582),{'minimumFractionDigits':_0x178b09,'maximumFractionDigits':_0x178b09}):(console[_0x28695e(0x272)](_0x28695e(0x740)+_0x4bc817),_0x479e24=null);break;case _0x28695e(0x320):let _0x5f52f6=_0xb13a12(_0x4bc817);_0x5f52f6!==null?_0x479e24=_0x5f52f6[_0x28695e(0x3d5)](_0x28695e(0x582),{'style':_0x28695e(0x786),'currency':_0x28695e(0x7d4)}):(console['warn'](_0x28695e(0x2db)+_0x4bc817),_0x479e24=null);break;case _0x28695e(0x1fd):_0x479e24=_0x4bc817[_0x28695e(0x797)]();break;case'lowerCase':_0x479e24=_0x4bc817[_0x28695e(0x7a6)]();break;case _0x28695e(0x768):_0x479e24=_0x4bc817[_0x28695e(0x5ac)]('\x20')[_0x28695e(0x7df)](_0x3bd570=>_0x3bd570[_0x28695e(0x27a)](0x0)['toUpperCase']()+_0x3bd570[_0x28695e(0x2b2)](0x1)[_0x28695e(0x7a6)]())[_0x28695e(0x67e)]('\x20');break;case _0x28695e(0x2f3):_0x479e24=_0x4bc817[_0x28695e(0x68b)]();break;default:_0x479e24=_0x4bc817;}return _0x479e24!==null?_0x479e24[_0x28695e(0x448)]():null;}async[a0_0x28b734(0x7c3)](_0x1b6d0e,_0x145608){const _0x48d076=a0_0x28b734;try{let _0x4b155e=_0x1b6d0e[_0x48d076(0x29e)]?.['filter'](_0x2eca83=>_0x2eca83[_0x48d076(0x38b)]===_0x145608[_0x48d076(0x4fb)]?.['toString']())||[],_0xda49e2=_0x145608[_0x48d076(0x778)],_0x2bd91c=null,_0x2c7187=[],_0x39c42d=_0x1b6d0e[_0x48d076(0x1c5)]['realVariables'][_0xda49e2];_0x2c7187[_0x48d076(0x758)]('Valor\x20inicial:\x20\x22'+_0x39c42d+'\x22');for(let _0x40816e of _0x4b155e){_0x40816e[_0x48d076(0x37a)]=_0x39c42d,_0x2bd91c=_0x40816e[_0x48d076(0x37a)];let _0x444177;try{_0x444177=this['applyvaredit'](_0x1b6d0e,_0x40816e);}catch(_0x1f66b9){console[_0x48d076(0x6f1)](_0x48d076(0x497)+_0x1f66b9[_0x48d076(0x638)]);continue;}if(_0x444177!==null){let _0x1e3a4c=_0x48d076(0x241)+_0x40816e[_0x48d076(0x444)]+'\x22',_0x2e012e=[_0x48d076(0x320),_0x48d076(0x1fd),_0x48d076(0x4e5),_0x48d076(0x768),_0x48d076(0x2f3)];_0x40816e[_0x48d076(0x444)]===_0x48d076(0x1e7)||_0x40816e[_0x48d076(0x444)]===_0x48d076(0x253)?_0x1e3a4c+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x40816e[_0x48d076(0x635)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x40816e['replaceValue']+'\x22':!_0x2e012e[_0x48d076(0x6c9)](_0x40816e['editOperator'])&&_0x40816e[_0x48d076(0x635)]!==null&&_0x40816e[_0x48d076(0x635)]!==void 0x0&&(_0x1e3a4c+=_0x48d076(0x319)+_0x40816e['secondValue']+'\x22'),_0x1e3a4c+=',\x20resultado:\x20'+_0x444177+'.',_0x2c7187[_0x48d076(0x758)](_0x1e3a4c);}_0x444177!==null&&(_0x39c42d=_0x444177);}if(_0x1b6d0e[_0x48d076(0x1c5)][_0x48d076(0x37b)]&&_0x145608['saveVariable']){_0x1b6d0e[_0x48d076(0x1c5)][_0x48d076(0x37b)][_0x145608[_0x48d076(0x778)]]=_0x39c42d;let _0x10df19={'variable':_0x145608[_0x48d076(0x778)],'oldValue':_0x2bd91c,'newValue':_0x39c42d,'moreLogs':_0x2c7187};try{this[_0x48d076(0x6ef)](_0x1b6d0e,_0x145608,_0x10df19);}catch(_0x4f4404){console[_0x48d076(0x6f1)]('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x4f4404[_0x48d076(0x638)]);}}return _0xda49e2;}catch(_0x41a828){return console[_0x48d076(0x6f1)](_0x48d076(0x212)+_0x41a828[_0x48d076(0x638)]),null;}}async[a0_0x28b734(0x3b9)](_0xda0ab8,_0x4c3a22){const _0x2235b5=a0_0x28b734;try{let _0x32bce6=[],_0x283760=_0xda0ab8[_0x2235b5(0x55e)][_0x2235b5(0x4d5)](_0x349695=>_0x349695[_0x2235b5(0x38b)]===_0x4c3a22['_id'][_0x2235b5(0x448)]()),_0xf443cf=null,_0x4bcc6f=!0x1;for(let _0x21cd1f of _0x283760){let _0x460c46=this[_0x2235b5(0x397)](_0xda0ab8,_0x21cd1f);_0x32bce6['push'](_0x2235b5(0x58e)+_0x21cd1f[_0x2235b5(0x37a)]+_0x2235b5(0x534)+_0x21cd1f['expression']+_0x2235b5(0x5e6)+_0x21cd1f[_0x2235b5(0x635)]+_0x2235b5(0x343)+_0x460c46),_0xf443cf===null?_0xf443cf=_0x460c46:_0x21cd1f[_0x2235b5(0x642)]===_0x2235b5(0x2e0)?(_0xf443cf=_0xf443cf&&_0x460c46,_0x460c46||(_0x4bcc6f=!0x0)):_0x21cd1f[_0x2235b5(0x642)]==='or'&&(_0x4bcc6f||(_0xf443cf=_0xf443cf||_0x460c46));}_0xf443cf===null&&(_0xf443cf=!0x0);let _0x5bf0a1={'moreLogs':_0x32bce6};_0xda0ab8[_0x2235b5(0x1c5)][_0x2235b5(0x54f)]=_0xf443cf,await this[_0x2235b5(0x6ef)](_0xda0ab8,_0x4c3a22,_0x5bf0a1);}catch(_0x40f8fb){this[_0x2235b5(0x780)]['error'](this['instanceName']+'\x20('+this[_0x2235b5(0x362)][_0x2235b5(0x43f)]+_0x2235b5(0x61b)+(_0x40f8fb instanceof Error?_0x40f8fb[_0x2235b5(0x638)]:JSON['stringify'](_0x40f8fb,null,0x2)));}}[a0_0x28b734(0x397)](_0x2bfc5c,_0x21e3e9){const _0x5a3a7d=a0_0x28b734;let _0x46a770=_0x21e3e9[_0x5a3a7d(0x37a)],_0x53c99f=_0x21e3e9[_0x5a3a7d(0x635)];typeof _0x46a770==_0x5a3a7d(0x18e)&&(_0x46a770=this[_0x5a3a7d(0x78b)](_0x46a770,_0x2bfc5c[_0x5a3a7d(0x1c5)]['realVariables'])??''),typeof _0x53c99f==_0x5a3a7d(0x18e)&&(_0x53c99f=this[_0x5a3a7d(0x78b)](_0x53c99f,_0x2bfc5c[_0x5a3a7d(0x1c5)][_0x5a3a7d(0x37b)])??'');try{switch(_0x21e3e9[_0x5a3a7d(0x3d3)]){case _0x5a3a7d(0x2a5):return _0x46a770===_0x53c99f;case _0x5a3a7d(0x76d):return _0x46a770!==_0x53c99f;case _0x5a3a7d(0x686):return this[_0x5a3a7d(0x686)](_0x46a770,_0x53c99f);case _0x5a3a7d(0x4ee):return!this['contains'](_0x46a770,_0x53c99f);case _0x5a3a7d(0x589):return parseFloat(_0x46a770)>parseFloat(_0x53c99f);case _0x5a3a7d(0x751):return parseFloat(_0x46a770)<parseFloat(_0x53c99f);case _0x5a3a7d(0x41b):return _0x46a770!=='';case _0x5a3a7d(0x3ce):return _0x46a770==='';case _0x5a3a7d(0x5d0):return new RegExp(_0x53c99f)[_0x5a3a7d(0x70f)](_0x46a770);case _0x5a3a7d(0x696):return!new RegExp(_0x53c99f)[_0x5a3a7d(0x70f)](_0x46a770);default:return!0x1;}}catch(_0x46583f){return console[_0x5a3a7d(0x6f1)](_0x5a3a7d(0x631)+_0x46583f),!0x1;}}[a0_0x28b734(0x686)](_0x28e704,_0x368274){const _0x3c5b22=a0_0x28b734;if(_0x28e704===_0x368274&&/^\d+$/['test'](_0x28e704))return!0x0;if(this[_0x3c5b22(0x38d)](_0x28e704)&&/^\d+$/[_0x3c5b22(0x70f)](_0x368274)){let _0x4273fc=_0x28e704[_0x3c5b22(0x5ac)](',')['map'](_0x4b2576=>parseInt(_0x4b2576['trim']())),_0x5dc565=parseInt(_0x368274);return _0x4273fc['includes'](_0x5dc565);}return _0x28e704['includes'](_0x368274);}[a0_0x28b734(0x38d)](_0x1f8a52){const _0x21f734=a0_0x28b734;return/^\d+(,\d+)*$/[_0x21f734(0x70f)](_0x1f8a52);}[a0_0x28b734(0x4f6)](_0x347996){const _0x4a572d=a0_0x28b734;let _0x2b69c8=!0x0,_0x360104=null;for(let _0x42be69 of _0x347996){let _0x4b53c5=this[_0x4a572d(0x26d)](_0x42be69);if(_0x360104==='or'&&_0x4b53c5){_0x2b69c8=!0x0;break;}if(_0x360104==='and'&&!_0x4b53c5){_0x2b69c8=!0x1;break;}_0x360104=_0x42be69['OrAnd'];}return _0x2b69c8;}['evaluateConditionTest'](_0x2c9445){const _0x1aa1cd=a0_0x28b734;let _0x22dd91=_0x2c9445['firstValue'],_0x577622=_0x2c9445[_0x1aa1cd(0x635)];try{switch(_0x2c9445['expression']){case _0x1aa1cd(0x2a5):return String(_0x22dd91)===String(_0x577622);case _0x1aa1cd(0x76d):return String(_0x22dd91)!==String(_0x577622);case'contains':return String(_0x22dd91)['includes'](String(_0x577622));case _0x1aa1cd(0x4ee):return!String(_0x22dd91)[_0x1aa1cd(0x6c9)](String(_0x577622));case _0x1aa1cd(0x589):return parseFloat(String(_0x22dd91))>parseFloat(String(_0x577622));case'less':return parseFloat(String(_0x22dd91))<parseFloat(String(_0x577622));case _0x1aa1cd(0x41b):return String(_0x22dd91)!=='';case _0x1aa1cd(0x3ce):return String(_0x22dd91)==='';case _0x1aa1cd(0x5d0):return new RegExp(String(_0x577622))[_0x1aa1cd(0x70f)](String(_0x22dd91));case _0x1aa1cd(0x696):return!new RegExp(String(_0x577622))['test'](String(_0x22dd91));default:return!0x1;}}catch(_0x24aab2){return console['error'](_0x1aa1cd(0x631)+_0x24aab2),!0x1;}}async[a0_0x28b734(0x586)](_0x2ad46b,_0x1989bb){const _0x1701ae=a0_0x28b734;if(this['logger'][_0x1701ae(0x62f)](this[_0x1701ae(0x554)]+'\x20('+this['instance'][_0x1701ae(0x43f)]+_0x1701ae(0x4d9)),!_0x2ad46b||!_0x1989bb)return this['logger'][_0x1701ae(0x6f1)](this[_0x1701ae(0x554)]+'\x20('+this['instance'][_0x1701ae(0x43f)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x37e15e=_0x1989bb[_0x1701ae(0x778)],_0x5ddcc8=_0x2ad46b[_0x1701ae(0x1c5)][_0x1701ae(0x506)][_0x1701ae(0x27e)]||_0x2ad46b[_0x1701ae(0x1c5)][_0x1701ae(0x506)][_0x1701ae(0x291)]||_0x2ad46b['chatLog']['lastReceivedMessage'][_0x1701ae(0x74f)];try{_0x2ad46b[_0x1701ae(0x1c5)][_0x1701ae(0x37b)]||(_0x2ad46b[_0x1701ae(0x1c5)][_0x1701ae(0x37b)]={});let _0x4c5b79=_0x2ad46b['chatLog']['realVariables'][_0x37e15e];_0x2ad46b[_0x1701ae(0x1c5)][_0x1701ae(0x37b)][_0x37e15e]=_0x5ddcc8;let _0x47c02d={'variable':_0x37e15e,'oldValue':_0x4c5b79,'newValue':_0x5ddcc8};this['updateConversation'](_0x2ad46b,_0x1989bb,_0x47c02d),this[_0x1701ae(0x780)][_0x1701ae(0x62f)](this['instanceName']+'\x20('+this[_0x1701ae(0x362)][_0x1701ae(0x43f)]+'):\x20Conversa\x20atualizada\x20em\x20memória');}catch(_0x3dbdf7){let _0x252750={'error':!0x0,'errorLog':_0x3dbdf7[_0x1701ae(0x448)]()};return this[_0x1701ae(0x6ef)](_0x2ad46b,_0x1989bb,_0x252750),this[_0x1701ae(0x780)]['error'](this[_0x1701ae(0x554)]+'\x20('+this['instance'][_0x1701ae(0x43f)]+_0x1701ae(0x53a)+(_0x3dbdf7 instanceof Error?_0x3dbdf7[_0x1701ae(0x638)]:JSON[_0x1701ae(0x463)](_0x3dbdf7,null,0x2))),null;}}async[a0_0x28b734(0x71f)](_0x36461e,_0x5df09a){const _0x4c8791=a0_0x28b734;if(this[_0x4c8791(0x780)][_0x4c8791(0x62f)](this[_0x4c8791(0x554)]+'\x20('+this[_0x4c8791(0x362)]['wuid']+_0x4c8791(0x351)),!_0x36461e||!_0x5df09a)return this[_0x4c8791(0x780)]['error'](this[_0x4c8791(0x554)]+'\x20('+this['instance'][_0x4c8791(0x43f)]+_0x4c8791(0x63a)),null;let _0x41e266=Date[_0x4c8791(0x420)](),_0x2acb8f=parseInt(_0x5df09a['stopMinutes'],0xa);if(isNaN(_0x2acb8f))return this[_0x4c8791(0x780)][_0x4c8791(0x6f1)](this['instanceName']+'\x20('+this[_0x4c8791(0x362)][_0x4c8791(0x43f)]+_0x4c8791(0x649)),null;let _0x37e8f2={'newStoppedUntil':_0x41e266+_0x2acb8f*0x3c*0x3e8};return await this[_0x4c8791(0x6ef)](_0x36461e,_0x5df09a,_0x37e8f2,!0x0),null;}async[a0_0x28b734(0x1b8)](_0x249220,_0x2a8fd0){const _0x224cda=a0_0x28b734;try{switch(_0x2a8fd0['uazapi'][_0x224cda(0x3e7)]){case'sendText':await this[_0x224cda(0x1eb)](_0x249220,_0x2a8fd0);break;case _0x224cda(0x772):await this[_0x224cda(0x396)](_0x249220,_0x2a8fd0);break;case _0x224cda(0x3d4):await this[_0x224cda(0x2d2)](_0x249220,_0x2a8fd0);break;case _0x224cda(0x590):await this[_0x224cda(0x41f)](_0x249220,_0x2a8fd0);break;case _0x224cda(0x334):await this[_0x224cda(0x350)](_0x249220,_0x2a8fd0);break;case _0x224cda(0x3a5):await this[_0x224cda(0x754)](_0x249220,_0x2a8fd0);break;case _0x224cda(0x1f7):await this[_0x224cda(0x754)](_0x249220,_0x2a8fd0);break;case'deleteMessage':await this['uazapiDeleteMessage'](_0x249220,_0x2a8fd0);break;default:this[_0x224cda(0x780)][_0x224cda(0x6f1)](this[_0x224cda(0x554)]+'\x20('+this[_0x224cda(0x362)][_0x224cda(0x43f)]+_0x224cda(0x360)+_0x2a8fd0[_0x224cda(0x254)][_0x224cda(0x3e7)]);}}catch(_0x398ed2){this[_0x224cda(0x780)][_0x224cda(0x6f1)](this['instanceName']+'\x20('+this[_0x224cda(0x362)][_0x224cda(0x43f)]+_0x224cda(0x4c7)+(_0x398ed2 instanceof Error?_0x398ed2[_0x224cda(0x638)]:JSON['stringify'](_0x398ed2,null,0x2)));}}async['updateConversation'](_0x2a7471,_0x376529,_0x47cde2,_0x352215=!0x1,_0x3d8ab2=!0x1){const _0xe7e0e4=a0_0x28b734;_0x2a7471[_0xe7e0e4(0x1c5)][_0xe7e0e4(0x60e)]||(_0x2a7471[_0xe7e0e4(0x1c5)]['blockLogs']=[]);let _0xf51a4=(_0x2a7471[_0xe7e0e4(0x1c5)]['blockLogs']?.[_0xe7e0e4(0x2f0)]??0x0)+0x1,_0x10a5c4=_0x2a7471[_0xe7e0e4(0x1c5)][_0xe7e0e4(0x60e)][_0xe7e0e4(0x4d5)](_0xf383db=>String(_0xf383db[_0xe7e0e4(0x38b)])===String(_0x376529[_0xe7e0e4(0x4fb)]))[_0xe7e0e4(0x2f0)]+0x1,_0x5c215f=_0x47cde2?.[_0xe7e0e4(0x2ac)]??Date['now'](),_0xa7aea7=_0x47cde2?.[_0xe7e0e4(0x6f1)]?_0x47cde2[_0xe7e0e4(0x1dd)]??_0x47cde2[_0xe7e0e4(0x6f1)]['toString']():void 0x0,_0x424fbe={'onTime':_0x5c215f,'blockId':_0x376529[_0xe7e0e4(0x4fb)],'order':_0xf51a4,'activatedCount':_0x10a5c4,'error':_0x47cde2?.[_0xe7e0e4(0x6f1)]??!0x1,'messageId':_0x47cde2?.[_0xe7e0e4(0x72a)],'apiResponse':_0x47cde2?.[_0xe7e0e4(0x31d)],'apiResponseString':_0x47cde2?.['apiResponse']?JSON[_0xe7e0e4(0x463)](_0x47cde2?.[_0xe7e0e4(0x31d)]):void 0x0,'variable':_0x47cde2?.[_0xe7e0e4(0x449)],'oldValue':_0x47cde2?.[_0xe7e0e4(0x726)],'newValue':_0x47cde2?.[_0xe7e0e4(0x38f)],'newStoppedUntil':_0x47cde2?.[_0xe7e0e4(0x2b3)],'moreLogs':_0x47cde2?.['moreLogs'],'errorLog':_0xa7aea7};if(_0x47cde2[_0xe7e0e4(0x6ad)]&&_0x47cde2[_0xe7e0e4(0x6ad)][_0xe7e0e4(0x2f0)]>0x0){let _0x6d9aa6=_0x47cde2[_0xe7e0e4(0x6ad)][_0xe7e0e4(0x7df)](_0x2b3f50=>this[_0xe7e0e4(0x3aa)](_0x2b3f50,_0x2a7471[_0xe7e0e4(0x1c5)][_0xe7e0e4(0x37b)]));_0x424fbe[_0xe7e0e4(0x6ad)]=_0x6d9aa6;}_0x2a7471['chatLog']['realVariables']||(_0x2a7471[_0xe7e0e4(0x1c5)][_0xe7e0e4(0x37b)]={}),_0x2a7471[_0xe7e0e4(0x1c5)][_0xe7e0e4(0x37b)][_0xe7e0e4(0x56d)]=String(_0x10a5c4),_0x2a7471[_0xe7e0e4(0x1c5)][_0xe7e0e4(0x37b)]['_error']=String(_0x47cde2['error']??!0x1),_0x2a7471[_0xe7e0e4(0x1c5)][_0xe7e0e4(0x60e)][_0xe7e0e4(0x758)](_0x424fbe),_0x2a7471[_0xe7e0e4(0x1c5)][_0xe7e0e4(0x5a1)]=_0x376529[_0xe7e0e4(0x4fb)][_0xe7e0e4(0x448)](),_0x2a7471['chatLog'][_0xe7e0e4(0x77d)]&&(_0x2a7471['chatLog']['lastSendMessage']=_0x2a7471[_0xe7e0e4(0x1c5)][_0xe7e0e4(0x77d)]),_0x2a7471[_0xe7e0e4(0x1c5)]['lastReceivedMessage']&&(_0x2a7471['chatLog']['lastReceivedMessage']=_0x2a7471[_0xe7e0e4(0x1c5)][_0xe7e0e4(0x506)]),_0x2a7471['chatLog'][_0xe7e0e4(0x54f)]&&(_0x2a7471[_0xe7e0e4(0x1c5)][_0xe7e0e4(0x54f)]=_0x2a7471[_0xe7e0e4(0x1c5)][_0xe7e0e4(0x54f)]),_0x3d8ab2&&(_0x2a7471[_0xe7e0e4(0x6e9)]=_0xe7e0e4(0x419)),_0x352215?this[_0xe7e0e4(0x293)](_0x2a7471):this[_0xe7e0e4(0x6e2)](_0x2a7471,_0x376529);}['replaceVariablesLogs'](_0x42ded6,_0xc4646a){const _0x342b12=a0_0x28b734;return _0x42ded6['replace'](/\{\{([^}]+)\}\}/g,(_0x8ec255,_0x4c1ea8)=>_0xc4646a[_0x4c1ea8]?'{{'+_0x4c1ea8+_0x342b12(0x4ba)+_0xc4646a[_0x4c1ea8]+'\x22':'{{'+_0x4c1ea8+_0x342b12(0x47f));}async[a0_0x28b734(0x293)](_0x21fe84){const _0x20536d=a0_0x28b734;try{let _0xc9a657=Object[_0x20536d(0x2b5)](_0x21fe84['chatLog'][_0x20536d(0x37b)])[_0x20536d(0x7df)](([_0x4624aa,_0xbb316a])=>({'name':_0x4624aa,'value':_0xbb316a})),_0x844c2c={'status':_0x21fe84[_0x20536d(0x6e9)],'blocks':_0x21fe84[_0x20536d(0x511)],'waitingMenu_id':_0x21fe84[_0x20536d(0x503)],'waitingMenu_text':_0x21fe84[_0x20536d(0x4d3)],'waitingMenu_replyOptions':_0x21fe84[_0x20536d(0x661)],'chatLog':{'lastBlockId':_0x21fe84[_0x20536d(0x1c5)][_0x20536d(0x5a1)],'lastSendMessage':_0x21fe84[_0x20536d(0x1c5)][_0x20536d(0x77d)],'lastReceivedMessage':_0x21fe84[_0x20536d(0x1c5)][_0x20536d(0x506)],'lastCondition':_0x21fe84[_0x20536d(0x1c5)][_0x20536d(0x54f)],'chatVariables':_0xc9a657,'realVariables':_0x21fe84['chatLog'][_0x20536d(0x37b)],'blockLogs':_0x21fe84[_0x20536d(0x1c5)]['blockLogs']}},_0x2ff913=await this['repository'][_0x20536d(0x619)][_0x20536d(0x49f)](_0x21fe84[_0x20536d(0x4fb)],_0x844c2c,this[_0x20536d(0x362)][_0x20536d(0x43f)]);if(_0x2ff913){this[_0x20536d(0x780)][_0x20536d(0x62f)](this['instanceName']+'\x20('+this['instance'][_0x20536d(0x43f)]+_0x20536d(0x760)+_0x2ff913[_0x20536d(0x4fb)]);try{let _0x516ee1=[_0x20536d(0x5e2),'nomecompleto',_0x20536d(0x55f),_0x20536d(0x530),'status',_0x20536d(0x4b9),_0x20536d(0x808),'tags',_0x20536d(0x801)];if(!this[_0x20536d(0x44b)]&&(await this[_0x20536d(0x3b5)](),!this[_0x20536d(0x44b)]))throw new Error(_0x20536d(0x63d));let _0x3e240b=this[_0x20536d(0x44b)]?.['customFields'][_0x20536d(0x7df)](_0x52a061=>_0x52a061['name']),_0x372d70={};Object[_0x20536d(0x2b5)](_0x21fe84[_0x20536d(0x1c5)][_0x20536d(0x37b)])['forEach'](([_0x407f4c,_0x85f471])=>{const _0x455d78=_0x20536d;_0x516ee1[_0x455d78(0x6c9)](_0x407f4c)&&(_0x407f4c===_0x455d78(0x729)&&typeof _0x85f471==_0x455d78(0x18e)?_0x372d70[_0x407f4c]=_0x85f471['split'](',')[_0x455d78(0x7df)](_0x2b065b=>_0x2b065b[_0x455d78(0x68b)]())[_0x455d78(0x4d5)](_0x3f1dcb=>_0x3f1dcb!==''):_0x407f4c===_0x455d78(0x801)&&typeof _0x85f471=='string'?_0x372d70[_0x407f4c]=_0x85f471[_0x455d78(0x5ac)](',')[_0x455d78(0x7df)](_0x162502=>_0x162502['trim']())['filter'](_0x2361fb=>_0x2361fb!==''):_0x372d70[_0x407f4c]=_0x85f471);});let _0x45d62f=_0x21fe84['chatLog']['blockLogs'][_0x21fe84['chatLog'][_0x20536d(0x60e)][_0x20536d(0x2f0)]-0x1];if(_0x45d62f){let _0x26acba=_0x45d62f[_0x20536d(0x2b3)];_0x26acba!==void 0x0&&(_0x372d70[_0x20536d(0x1bf)]=_0x26acba[_0x20536d(0x448)]());}let _0x5bd503=_0xc9a657[_0x20536d(0x4d5)](_0x241f2d=>_0x3e240b['includes'](_0x241f2d[_0x20536d(0x69a)]));this[_0x20536d(0x780)][_0x20536d(0x62f)](this[_0x20536d(0x554)]+'\x20('+this[_0x20536d(0x362)][_0x20536d(0x43f)]+'):\x20leadInfoVariables'),this['logger'][_0x20536d(0x62f)](_0x372d70),this[_0x20536d(0x780)]['verbose'](this[_0x20536d(0x554)]+'\x20('+this[_0x20536d(0x362)]['wuid']+_0x20536d(0x1c8)),this[_0x20536d(0x780)][_0x20536d(0x62f)](_0x5bd503);let _0x44a6d1=_0x5bd503['map'](_0x63d2d=>{const _0x97348d=_0x20536d;let _0x3c64be=this[_0x97348d(0x44b)]?.['customFields'][_0x97348d(0x79e)](_0x48ebfb=>_0x48ebfb[_0x97348d(0x69a)]===_0x63d2d[_0x97348d(0x69a)]);if(!_0x3c64be)throw new Error(_0x97348d(0x2c4)+_0x63d2d[_0x97348d(0x69a)]);return{'_id':_0x3c64be[_0x97348d(0x4fb)],'value':_0x63d2d[_0x97348d(0x664)]};});this[_0x20536d(0x780)][_0x20536d(0x62f)](this['instanceName']+'\x20('+this[_0x20536d(0x362)][_0x20536d(0x43f)]+_0x20536d(0x62a)),this[_0x20536d(0x780)][_0x20536d(0x62f)](_0x44a6d1),await this['saveChatVariables'](_0x21fe84[_0x20536d(0x26f)],_0x372d70,_0x44a6d1);}catch(_0x3fe1b4){this['logger'][_0x20536d(0x6f1)](this[_0x20536d(0x554)]+'\x20('+this[_0x20536d(0x362)][_0x20536d(0x43f)]+_0x20536d(0x633)+(_0x3fe1b4 instanceof Error?_0x3fe1b4[_0x20536d(0x638)]:JSON[_0x20536d(0x463)](_0x3fe1b4,null,0x2)));}}else this[_0x20536d(0x780)][_0x20536d(0x6f1)](this[_0x20536d(0x554)]+'\x20('+this[_0x20536d(0x362)][_0x20536d(0x43f)]+'):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida');}catch(_0x3056bd){this['logger'][_0x20536d(0x6f1)](this[_0x20536d(0x554)]+'\x20('+this[_0x20536d(0x362)][_0x20536d(0x43f)]+'):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20'+(_0x3056bd instanceof Error?_0x3056bd['message']:JSON['stringify'](_0x3056bd,null,0x2)));}}async['saveChatVariables'](_0x18f724,_0xa88525,_0x35ee5a){const _0x40f481=a0_0x28b734;try{let _0x268330={'leadInfo.leadnome':_0xa88525[_0x40f481(0x5e2)],'leadInfo.nomecompleto':_0xa88525[_0x40f481(0x345)],'leadInfo.email':_0xa88525['email'],'leadInfo.cpf':_0xa88525[_0x40f481(0x530)],'leadInfo.status':_0xa88525['status'],'leadInfo.notas':_0xa88525[_0x40f481(0x4b9)],'leadInfo.responsavelid':_0xa88525[_0x40f481(0x808)],'leadInfo.tags':_0xa88525[_0x40f481(0x729)],'leadInfo.etiquetas':_0xa88525[_0x40f481(0x801)],'leadInfo.customFields':_0x35ee5a},_0x5d5f04=await this[_0x40f481(0x769)][_0x40f481(0x2fb)][_0x40f481(0x5a7)]({'where':{'_id':_0x18f724}},this[_0x40f481(0x362)][_0x40f481(0x43f)]),_0x14cd93=new Set(_0x5d5f04[_0x40f481(0x1e0)][_0x40f481(0x801)]||[]),_0x37d54d=new Set(_0xa88525[_0x40f481(0x801)]||[]),_0x2fd1b3=await this[_0x40f481(0x769)][_0x40f481(0x60a)][_0x40f481(0x79e)]({'where':{}},this[_0x40f481(0x362)][_0x40f481(0x43f)]),_0x260ca9=new Set(_0x2fd1b3[_0x40f481(0x7df)](_0x23890a=>_0x23890a[_0x40f481(0x4fb)])),_0x3dcbb1=[..._0x37d54d][_0x40f481(0x4d5)](_0x3c960f=>!_0x14cd93[_0x40f481(0x22f)](_0x3c960f)&&_0x260ca9[_0x40f481(0x22f)](_0x3c960f)),_0xfa8318=[..._0x14cd93][_0x40f481(0x4d5)](_0x57d80e=>!_0x37d54d[_0x40f481(0x22f)](_0x57d80e));for(let _0x37b6da of _0x3dcbb1)await this[_0x40f481(0x669)](_0x37b6da,_0x5d5f04[_0x40f481(0x4fb)]),_0x14cd93[_0x40f481(0x289)](_0x37b6da);for(let _0x5091b8 of _0xfa8318)await this['RemoveChatLabel'](_0x5091b8,_0x5d5f04[_0x40f481(0x4fb)]),_0x14cd93[_0x40f481(0x606)](_0x5091b8);if(_0x40f481(0x1bf)in _0xa88525){let _0x1866c9=_0xa88525[_0x40f481(0x1bf)];_0x268330[_0x40f481(0x1ec)]=_0x1866c9?Number(_0x1866c9):null;}let _0x16818a=await this[_0x40f481(0x769)][_0x40f481(0x2fb)][_0x40f481(0x49f)]({'where':{'_id':_0x18f724}},_0x268330,this[_0x40f481(0x362)]['wuid']);_0x16818a?(this['logger'][_0x40f481(0x62f)](this[_0x40f481(0x554)]+'\x20('+this[_0x40f481(0x362)][_0x40f481(0x43f)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20'+_0x16818a['_id']),q(this[_0x40f481(0x554)],_0x40f481(0x3c5),{'chat':_0x16818a})):this[_0x40f481(0x780)][_0x40f481(0x6f1)](this[_0x40f481(0x554)]+'\x20('+this['instance'][_0x40f481(0x43f)]+_0x40f481(0x4fe));}catch(_0x798d76){this['logger'][_0x40f481(0x6f1)](this[_0x40f481(0x554)]+'\x20('+this['instance'][_0x40f481(0x43f)]+_0x40f481(0x5ed)+(_0x798d76 instanceof Error?_0x798d76[_0x40f481(0x638)]:JSON[_0x40f481(0x463)](_0x798d76,null,0x2)));}}async[a0_0x28b734(0x36f)](_0x20cea4,_0xdd1570){const _0x13f8b3=a0_0x28b734;this['logger'][_0x13f8b3(0x62f)](this['instanceName']+'\x20('+this[_0x13f8b3(0x362)][_0x13f8b3(0x43f)]+_0x13f8b3(0x408)+_0xdd1570);try{let _0x16790a=await this[_0x13f8b3(0x769)][_0x13f8b3(0x2fb)]['updateOne']({'where':{'_id':_0x20cea4[_0x13f8b3(0x26f)]}},{'leadInfo.desativadoFluxoAte':_0xdd1570},this[_0x13f8b3(0x362)][_0x13f8b3(0x43f)]);this[_0x13f8b3(0x780)][_0x13f8b3(0x62f)](this[_0x13f8b3(0x554)]+'\x20('+this[_0x13f8b3(0x362)][_0x13f8b3(0x43f)]+_0x13f8b3(0x3d8)+_0x20cea4[_0x13f8b3(0x4fb)]),this[_0x13f8b3(0x780)][_0x13f8b3(0x62f)](this['instanceName']+'\x20('+this[_0x13f8b3(0x362)][_0x13f8b3(0x43f)]+_0x13f8b3(0x408)+JSON['stringify'](_0x16790a,null,0x2)),_0x16790a&&q(this[_0x13f8b3(0x554)],_0x13f8b3(0x3c5),{'chat':_0x16790a});}catch(_0x15c7bc){this[_0x13f8b3(0x780)][_0x13f8b3(0x6f1)](this[_0x13f8b3(0x554)]+'\x20('+this[_0x13f8b3(0x362)]['wuid']+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0x15c7bc instanceof Error?_0x15c7bc[_0x13f8b3(0x638)]:JSON[_0x13f8b3(0x463)](_0x15c7bc,null,0x2)));}}async[a0_0x28b734(0x519)](_0x253139){const _0x651c54=a0_0x28b734;try{this[_0x651c54(0x780)][_0x651c54(0x62f)](this[_0x651c54(0x554)]+'\x20('+this['instance'][_0x651c54(0x43f)]+_0x651c54(0x24a));let _0xe57a39=_0x253139[_0x651c54(0x7c4)](/\D/g,''),_0x4b48b6=await this['repository'][_0x651c54(0x3f5)]['findOne']({'where':{'testingWith':_0xe57a39}},this['instance'][_0x651c54(0x43f)]);return _0x4b48b6||(this[_0x651c54(0x780)][_0x651c54(0x62f)](this[_0x651c54(0x554)]+'\x20('+this[_0x651c54(0x362)][_0x651c54(0x43f)]+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0x4b48b6=await this[_0x651c54(0x769)][_0x651c54(0x3f5)]['findOne']({'where':{'default':!0x0}},this[_0x651c54(0x362)]['wuid'])),_0x4b48b6||(this[_0x651c54(0x780)][_0x651c54(0x62f)](this[_0x651c54(0x554)]+'\x20('+this[_0x651c54(0x362)][_0x651c54(0x43f)]+_0x651c54(0x4ea)),null);}catch(_0x3d6a5f){return this[_0x651c54(0x780)][_0x651c54(0x6f1)](this['instanceName']+'\x20('+this[_0x651c54(0x362)][_0x651c54(0x43f)]+_0x651c54(0x20e)+(_0x3d6a5f instanceof Error?_0x3d6a5f[_0x651c54(0x638)]:JSON[_0x651c54(0x463)](_0x3d6a5f,null,0x2))),null;}}async['findConversation'](_0x46a99a,_0x543b77){const _0x5e81ab=a0_0x28b734;try{let _0x32218e=!!_0x543b77[_0x5e81ab(0x74f)],_0x1d189a=_0x543b77[_0x5e81ab(0x504)],_0x37d0dd=null;if(this[_0x5e81ab(0x780)][_0x5e81ab(0x62f)](this[_0x5e81ab(0x554)]+'\x20('+this[_0x5e81ab(0x362)][_0x5e81ab(0x43f)]+_0x5e81ab(0x826)+_0x32218e+_0x5e81ab(0x817)+_0x1d189a),_0x32218e){this[_0x5e81ab(0x780)][_0x5e81ab(0x62f)](this[_0x5e81ab(0x554)]+'\x20('+this['instance']['wuid']+_0x5e81ab(0x59c));let _0x2038eb={'where':{'remoteJid':_0x46a99a,'waitingMenu_id':_0x1d189a}};if(_0x37d0dd=await this['repository'][_0x5e81ab(0x619)][_0x5e81ab(0x5a7)](_0x2038eb,this[_0x5e81ab(0x362)]['wuid']),!_0x37d0dd)return this['logger']['verbose'](this[_0x5e81ab(0x554)]+'\x20('+this['instance']['wuid']+_0x5e81ab(0x4f3)),null;let _0x682d0e=Date[_0x5e81ab(0x420)](),_0x261e35=_0x37d0dd?.[_0x5e81ab(0x2f7)]||0x0,_0x2b96ad=_0x682d0e-_0x261e35*0x3c*0x3e8;if(_0x37d0dd[_0x5e81ab(0x5d5)]<_0x2b96ad){this[_0x5e81ab(0x780)]['verbose'](this[_0x5e81ab(0x554)]+'\x20('+this[_0x5e81ab(0x362)][_0x5e81ab(0x43f)]+_0x5e81ab(0x51a));let _0x28185c={'number':_0x37d0dd[_0x5e81ab(0x26f)],'options':{'delay':0x0},'textMessage':{'text':_0x37d0dd[_0x5e81ab(0x6d2)]}};await this['textMessage'](_0x28185c);let _0x365aad={'status':_0x5e81ab(0x419),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x5e81ab(0x769)][_0x5e81ab(0x619)][_0x5e81ab(0x49f)](_0x37d0dd['_id'],_0x365aad,this[_0x5e81ab(0x362)]['wuid']),null;}return _0x37d0dd['lastInteraction']=Date[_0x5e81ab(0x420)](),_0x37d0dd[_0x5e81ab(0x1c5)]['lastReceivedMessage']=_0x543b77,_0x37d0dd;}else{this[_0x5e81ab(0x780)]['verbose'](this[_0x5e81ab(0x554)]+'\x20('+this[_0x5e81ab(0x362)][_0x5e81ab(0x43f)]+_0x5e81ab(0x1b5)+this[_0x5e81ab(0x362)][_0x5e81ab(0x43f)]+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x5e81ab(0x362)][_0x5e81ab(0x43f)]+'):\x20Procurando\x20conversa');let _0x3d0ec7={'where':{'remoteJid':_0x46a99a,'status':_0x5e81ab(0x428)}};if(_0x37d0dd=await this['repository'][_0x5e81ab(0x619)]['findOne'](_0x3d0ec7,this[_0x5e81ab(0x362)][_0x5e81ab(0x43f)]),!_0x37d0dd){let _0x196b36=await this['findFlow'](_0x46a99a);if(_0x196b36&&(_0x37d0dd=await this[_0x5e81ab(0x791)](_0x196b36,_0x543b77[_0x5e81ab(0x670)],_0x543b77)),!_0x37d0dd)return null;}let _0x5c52a3=Date[_0x5e81ab(0x420)](),_0x11051b=_0x37d0dd?.[_0x5e81ab(0x2f7)]||0x0,_0x542074=_0x5c52a3-_0x11051b*0x3c*0x3e8;if(this[_0x5e81ab(0x780)]['verbose'](this[_0x5e81ab(0x554)]+'\x20('+this[_0x5e81ab(0x362)][_0x5e81ab(0x43f)]+_0x5e81ab(0x74c)+_0x5c52a3+',\x20Minutes\x20to\x20Close:\x20'+_0x11051b+_0x5e81ab(0x80f)+_0x542074),this['logger'][_0x5e81ab(0x62f)](this[_0x5e81ab(0x554)]+'\x20('+this['instance'][_0x5e81ab(0x43f)]+_0x5e81ab(0x299)),this[_0x5e81ab(0x780)][_0x5e81ab(0x62f)](this[_0x5e81ab(0x554)]+'\x20('+this[_0x5e81ab(0x362)]['wuid']+_0x5e81ab(0x228)+_0x37d0dd[_0x5e81ab(0x5d5)]),this[_0x5e81ab(0x780)][_0x5e81ab(0x62f)](this[_0x5e81ab(0x554)]+'\x20('+this[_0x5e81ab(0x362)]['wuid']+'):\x20expirationTime:\x20'+_0x542074),_0x37d0dd[_0x5e81ab(0x5d5)]<_0x542074){this[_0x5e81ab(0x780)][_0x5e81ab(0x62f)](this[_0x5e81ab(0x554)]+'\x20('+this['instance'][_0x5e81ab(0x43f)]+_0x5e81ab(0x60b));let _0x4fb049=await this['findFlow'](_0x46a99a);if(_0x4fb049===null)return null;_0x37d0dd&&await this[_0x5e81ab(0x769)][_0x5e81ab(0x619)][_0x5e81ab(0x49f)](_0x37d0dd[_0x5e81ab(0x4fb)],{'status':_0x5e81ab(0x419)},this['instance']['wuid']),_0x37d0dd=await this[_0x5e81ab(0x791)](_0x4fb049,_0x543b77[_0x5e81ab(0x670)],_0x543b77);}return _0x37d0dd[_0x5e81ab(0x5d5)]=_0x5c52a3,_0x37d0dd[_0x5e81ab(0x1c5)][_0x5e81ab(0x506)]=_0x543b77,_0x37d0dd;}}catch(_0x6d119){return this[_0x5e81ab(0x780)][_0x5e81ab(0x6f1)](this[_0x5e81ab(0x554)]+'\x20('+this[_0x5e81ab(0x362)][_0x5e81ab(0x43f)]+_0x5e81ab(0x527)+(_0x6d119 instanceof Error?_0x6d119[_0x5e81ab(0x638)]:JSON[_0x5e81ab(0x463)](_0x6d119,null,0x2))),null;}}async[a0_0x28b734(0x791)](_0x4b3b03,_0x21057f,_0x1c0820){const _0x2ec308=a0_0x28b734;this[_0x2ec308(0x780)][_0x2ec308(0x62f)](this['instanceName']+'\x20('+this[_0x2ec308(0x362)][_0x2ec308(0x43f)]+_0x2ec308(0x70e));try{let _0x9e6257=require('mongodb')['ObjectId'],_0xa744f2=Date[_0x2ec308(0x420)](),_0x174a32=_0x2ec308(0x322),_0x24d4ce=_0x21057f['fromMe']?null:_0x1c0820,_0x517321=_0x21057f[_0x2ec308(0x3e2)]?_0x1c0820:null,_0x3f74be=_0x21057f[_0x2ec308(0x26f)];await this[_0x2ec308(0x403)](_0x3f74be);let _0x435144={..._0x4b3b03,'chatLog':null},_0x41522b=await this[_0x2ec308(0x5df)](_0x435144[_0x2ec308(0x329)]),_0x312a04=await this['getVariablesChat'](_0x3f74be),_0x241445={..._0x41522b,..._0x312a04,'_remoteJid':_0x3f74be},_0x5872f8={'lastReceivedMessage':_0x24d4ce,'lastSendMessage':_0x517321,'lastBlockId':_0x174a32,'lastCondition':!0x0,'realVariables':_0x241445};_0x435144['chatLog']=_0x5872f8,delete _0x435144['_id'],_0x435144[_0x2ec308(0x4fb)]=new _0x9e6257(),_0x435144[_0x2ec308(0x5d5)]=_0xa744f2,_0x435144[_0x2ec308(0x6e9)]=_0x2ec308(0x428),_0x435144[_0x2ec308(0x26f)]=_0x3f74be;let _0x28b762=await this[_0x2ec308(0x769)][_0x2ec308(0x619)][_0x2ec308(0x49f)](_0x435144['_id'],_0x435144,this['instance']['wuid']);return this[_0x2ec308(0x780)][_0x2ec308(0x62f)](this['instanceName']+'\x20('+this[_0x2ec308(0x362)][_0x2ec308(0x43f)]+_0x2ec308(0x756)),_0x28b762?_0x435144:null;}catch(_0x250548){return this[_0x2ec308(0x780)][_0x2ec308(0x6f1)](this[_0x2ec308(0x554)]+'\x20('+this[_0x2ec308(0x362)][_0x2ec308(0x43f)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x250548 instanceof Error?_0x250548[_0x2ec308(0x638)]:JSON[_0x2ec308(0x463)](_0x250548,null,0x2))),_0x250548;}}async[a0_0x28b734(0x1eb)](_0x4250e6,_0x1d7d95){const _0x5df4e6=a0_0x28b734;let _0x39a7b9=_0x4250e6[_0x5df4e6(0x26f)];_0x1d7d95['uazapi'][_0x5df4e6(0x26f)]&&_0x1d7d95[_0x5df4e6(0x254)][_0x5df4e6(0x26f)][_0x5df4e6(0x68b)]()!==''&&(_0x39a7b9=_0x1d7d95[_0x5df4e6(0x254)]['remoteJid'][_0x5df4e6(0x68b)]()),this[_0x5df4e6(0x780)][_0x5df4e6(0x62f)](this[_0x5df4e6(0x554)]+'\x20('+this[_0x5df4e6(0x362)][_0x5df4e6(0x43f)]+'):\x20Enviando\x20texto');let _0x1c4d38={'number':_0x39a7b9,'options':{'delay':_0x1d7d95['uazapi'][_0x5df4e6(0x4cb)]},'textMessage':{'text':_0x1d7d95[_0x5df4e6(0x254)][_0x5df4e6(0x27e)]}};try{let _0x3a4a69=await this[_0x5df4e6(0x5be)](_0x1c4d38);if(_0x3a4a69){let _0x1750e6={'_id':_0x3a4a69[_0x5df4e6(0x670)]['id'],'_fromMe':_0x3a4a69['key'][_0x5df4e6(0x3e2)],'_remoteJid':_0x3a4a69[_0x5df4e6(0x670)][_0x5df4e6(0x26f)]},_0x2e2334=(0x0,m[_0x5df4e6(0x6d9)])(_0x3a4a69[_0x5df4e6(0x638)]),_0x39226f=(0x0,m[_0x5df4e6(0x520)])(_0x2e2334);_0x4250e6[_0x5df4e6(0x1c5)][_0x5df4e6(0x5a1)]=_0x1d7d95[_0x5df4e6(0x4fb)][_0x5df4e6(0x448)]();let {message_normalized:_0x1e9889}=this[_0x5df4e6(0x560)](_0x2e2334,_0x39226f,null);_0x4250e6[_0x5df4e6(0x1c5)][_0x5df4e6(0x77d)]=await _0x1e9889;let _0x202ced={'messageId':_0x3a4a69[_0x5df4e6(0x670)]['id']},_0x1e83b1=_0x4250e6[_0x5df4e6(0x1c5)][_0x5df4e6(0x37b)];Object[_0x5df4e6(0x81f)](_0x1e83b1,_0x1750e6),_0x4250e6[_0x5df4e6(0x1c5)][_0x5df4e6(0x37b)]=_0x1e83b1,this[_0x5df4e6(0x6ef)](_0x4250e6,_0x1d7d95,_0x202ced);}else{let _0x32e8ce={'error':!0x0};this['updateConversation'](_0x4250e6,_0x1d7d95,_0x32e8ce),this[_0x5df4e6(0x780)]['error'](this[_0x5df4e6(0x554)]+'\x20('+this[_0x5df4e6(0x362)]['wuid']+_0x5df4e6(0x315));}}catch(_0x11bf2a){let _0x3b1046={'error':!0x0,'errorLog':_0x11bf2a['toString']()};this[_0x5df4e6(0x6ef)](_0x4250e6,_0x1d7d95,_0x3b1046),this[_0x5df4e6(0x780)][_0x5df4e6(0x6f1)](this[_0x5df4e6(0x554)]+'\x20('+this[_0x5df4e6(0x362)][_0x5df4e6(0x43f)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x11bf2a instanceof Error?_0x11bf2a[_0x5df4e6(0x638)]:JSON[_0x5df4e6(0x463)](_0x11bf2a,null,0x2)));}}async[a0_0x28b734(0x396)](_0x3d4104,_0x33ec2d){const _0x2ca1d0=a0_0x28b734;let _0x18ea08=_0x3d4104[_0x2ca1d0(0x26f)];_0x33ec2d[_0x2ca1d0(0x254)][_0x2ca1d0(0x26f)]&&_0x33ec2d[_0x2ca1d0(0x254)][_0x2ca1d0(0x26f)]['trim']()!==''&&(_0x18ea08=_0x33ec2d[_0x2ca1d0(0x254)][_0x2ca1d0(0x26f)][_0x2ca1d0(0x68b)]()),this[_0x2ca1d0(0x780)][_0x2ca1d0(0x62f)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Enviando\x20mídia');let _0x12c753={'number':_0x18ea08,'options':{'delay':_0x33ec2d['uazapi'][_0x2ca1d0(0x4cb)]},'mediaMessage':{'mediatype':_0x33ec2d['uazapi']['mediatype'],'caption':_0x33ec2d[_0x2ca1d0(0x254)][_0x2ca1d0(0x291)],'media':_0x33ec2d[_0x2ca1d0(0x254)]['media'],'fileName':_0x33ec2d[_0x2ca1d0(0x254)][_0x2ca1d0(0x382)]}};try{let _0x4c9a1e=await this[_0x2ca1d0(0x514)](_0x12c753);if(_0x4c9a1e){let _0x30dd17={'_id':_0x4c9a1e['key']['id'],'_fromMe':_0x4c9a1e[_0x2ca1d0(0x670)][_0x2ca1d0(0x3e2)],'_remoteJid':_0x4c9a1e[_0x2ca1d0(0x670)][_0x2ca1d0(0x26f)]},_0x4cef12=(0x0,m[_0x2ca1d0(0x6d9)])(_0x4c9a1e['message']),_0x2e999c=(0x0,m['getContentType'])(_0x4cef12);_0x3d4104['chatLog']['lastBlockId']=_0x33ec2d[_0x2ca1d0(0x4fb)][_0x2ca1d0(0x448)]();let {message_normalized:_0x5a0b15}=this['normalizeMessage'](_0x4cef12,_0x2e999c,null);_0x3d4104['chatLog']['lastSendMessage']=await _0x5a0b15;let _0x4e2e48={'messageId':_0x4c9a1e[_0x2ca1d0(0x670)]['id']},_0x570b35=_0x3d4104[_0x2ca1d0(0x1c5)]['realVariables'];Object[_0x2ca1d0(0x81f)](_0x570b35,_0x30dd17),_0x3d4104[_0x2ca1d0(0x1c5)][_0x2ca1d0(0x37b)]=_0x570b35,this[_0x2ca1d0(0x6ef)](_0x3d4104,_0x33ec2d,_0x4e2e48);}else{let _0x361586={'error':!0x0};this[_0x2ca1d0(0x6ef)](_0x3d4104,_0x33ec2d,_0x361586),this['logger']['error'](this[_0x2ca1d0(0x554)]+'\x20('+this[_0x2ca1d0(0x362)]['wuid']+_0x2ca1d0(0x596));}}catch(_0x5a47b8){let _0x4e7ff1={'error':!0x0,'errorLog':_0x5a47b8[_0x2ca1d0(0x448)]()};this['updateConversation'](_0x3d4104,_0x33ec2d,_0x4e7ff1),this[_0x2ca1d0(0x780)][_0x2ca1d0(0x6f1)](this[_0x2ca1d0(0x554)]+'\x20('+this['instance'][_0x2ca1d0(0x43f)]+_0x2ca1d0(0x60f)+(_0x5a47b8 instanceof Error?_0x5a47b8['message']:JSON[_0x2ca1d0(0x463)](_0x5a47b8,null,0x2)));}}async[a0_0x28b734(0x2d2)](_0x3f1d84,_0x2596e8){const _0x440cde=a0_0x28b734;let _0x2dd9b9=_0x3f1d84['remoteJid'];_0x2596e8[_0x440cde(0x254)][_0x440cde(0x26f)]&&_0x2596e8['uazapi'][_0x440cde(0x26f)][_0x440cde(0x68b)]()!==''&&(_0x2dd9b9=_0x2596e8['uazapi'][_0x440cde(0x26f)][_0x440cde(0x68b)]()),this[_0x440cde(0x780)]['verbose'](this[_0x440cde(0x554)]+'\x20('+this[_0x440cde(0x362)][_0x440cde(0x43f)]+_0x440cde(0x6b6));let _0x30b9d0={'number':_0x2dd9b9,'options':{'delay':_0x2596e8[_0x440cde(0x254)][_0x440cde(0x4cb)]},'locationMessage':{'name':_0x2596e8['uazapi']['name'],'address':_0x2596e8['uazapi']['address'],'latitude':_0x2596e8[_0x440cde(0x254)][_0x440cde(0x795)],'longitude':_0x2596e8[_0x440cde(0x254)]['longitude']}};try{let _0x4b9494=await this[_0x440cde(0x3b6)](_0x30b9d0);if(_0x4b9494){let _0x2e305f={'_id':_0x4b9494['key']['id'],'_fromMe':_0x4b9494['key'][_0x440cde(0x3e2)],'_remoteJid':_0x4b9494['key'][_0x440cde(0x26f)]},_0x22e4ea=(0x0,m[_0x440cde(0x6d9)])(_0x4b9494[_0x440cde(0x638)]),_0x2d9ee0=(0x0,m[_0x440cde(0x520)])(_0x22e4ea);_0x3f1d84['chatLog']['lastBlockId']=_0x2596e8[_0x440cde(0x4fb)][_0x440cde(0x448)]();let {message_normalized:_0x54a6d4}=this[_0x440cde(0x560)](_0x22e4ea,_0x2d9ee0,null);_0x3f1d84['chatLog']['lastSendMessage']=await _0x54a6d4;let _0x38fb8f={'messageId':_0x4b9494['key']['id']},_0x19313b=_0x3f1d84[_0x440cde(0x1c5)][_0x440cde(0x37b)];Object[_0x440cde(0x81f)](_0x19313b,_0x2e305f),_0x3f1d84[_0x440cde(0x1c5)][_0x440cde(0x37b)]=_0x19313b,this[_0x440cde(0x6ef)](_0x3f1d84,_0x2596e8,_0x38fb8f);}else{let _0x466d10={'error':!0x0};this['updateConversation'](_0x3f1d84,_0x2596e8,_0x466d10),this[_0x440cde(0x780)]['error'](this[_0x440cde(0x554)]+'\x20('+this['instance'][_0x440cde(0x43f)]+_0x440cde(0x6af));}}catch(_0x48920e){let _0x3d0ea5={'error':!0x0,'errorLog':_0x48920e[_0x440cde(0x448)]()};this['updateConversation'](_0x3f1d84,_0x2596e8,_0x3d0ea5),this[_0x440cde(0x780)][_0x440cde(0x6f1)](this[_0x440cde(0x554)]+'\x20('+this[_0x440cde(0x362)]['wuid']+_0x440cde(0x3b3)+(_0x48920e instanceof Error?_0x48920e['message']:JSON[_0x440cde(0x463)](_0x48920e,null,0x2)));}}async[a0_0x28b734(0x41f)](_0x38c683,_0x47927e){const _0x38680f=a0_0x28b734;let _0x483ac8=_0x38c683[_0x38680f(0x26f)];_0x47927e['uazapi']['remoteJid']&&_0x47927e[_0x38680f(0x254)][_0x38680f(0x26f)][_0x38680f(0x68b)]()!==''&&(_0x483ac8=_0x47927e['uazapi'][_0x38680f(0x26f)][_0x38680f(0x68b)]()),this[_0x38680f(0x780)][_0x38680f(0x62f)](this[_0x38680f(0x554)]+'\x20('+this[_0x38680f(0x362)][_0x38680f(0x43f)]+_0x38680f(0x6cf));let _0x482612={'number':_0x483ac8,'options':{'delay':_0x47927e[_0x38680f(0x254)][_0x38680f(0x4cb)]},'audioMessage':{'audio':_0x47927e['uazapi'][_0x38680f(0x611)]}};try{let _0x15ec0b=await this[_0x38680f(0x4c3)](_0x482612);if(_0x15ec0b){let _0x341c14={'_id':_0x15ec0b[_0x38680f(0x670)]['id'],'_fromMe':_0x15ec0b[_0x38680f(0x670)][_0x38680f(0x3e2)],'_remoteJid':_0x15ec0b[_0x38680f(0x670)]['remoteJid']},_0x4e437c=(0x0,m[_0x38680f(0x6d9)])(_0x15ec0b[_0x38680f(0x638)]),_0x1dc86f=(0x0,m[_0x38680f(0x520)])(_0x4e437c);_0x38c683['chatLog'][_0x38680f(0x5a1)]=_0x47927e['_id']['toString']();let {message_normalized:_0x52cdb2}=this[_0x38680f(0x560)](_0x4e437c,_0x1dc86f,null);_0x38c683['chatLog'][_0x38680f(0x77d)]=await _0x52cdb2;let _0x425013={'messageId':_0x15ec0b[_0x38680f(0x670)]['id']},_0x4b12b4=_0x38c683[_0x38680f(0x1c5)][_0x38680f(0x37b)];Object[_0x38680f(0x81f)](_0x4b12b4,_0x341c14),_0x38c683[_0x38680f(0x1c5)][_0x38680f(0x37b)]=_0x4b12b4,this['updateConversation'](_0x38c683,_0x47927e,_0x425013);}else{let _0x229b6e={'error':!0x0};this['updateConversation'](_0x38c683,_0x47927e,_0x229b6e),this[_0x38680f(0x780)]['error'](this['instanceName']+'\x20('+this['instance'][_0x38680f(0x43f)]+_0x38680f(0x22a));}}catch(_0x22f576){let _0x187092={'error':!0x0,'errorLog':_0x22f576[_0x38680f(0x448)]()};this[_0x38680f(0x6ef)](_0x38c683,_0x47927e,_0x187092),this[_0x38680f(0x780)][_0x38680f(0x6f1)](this['instanceName']+'\x20('+this[_0x38680f(0x362)][_0x38680f(0x43f)]+_0x38680f(0x3fe)+(_0x22f576 instanceof Error?_0x22f576[_0x38680f(0x638)]:JSON[_0x38680f(0x463)](_0x22f576,null,0x2)));}}async[a0_0x28b734(0x350)](_0x478657,_0x47a1d9){const _0x1a83d6=a0_0x28b734;let _0x240ab4=_0x478657[_0x1a83d6(0x26f)];_0x47a1d9[_0x1a83d6(0x254)][_0x1a83d6(0x26f)]&&_0x47a1d9['uazapi'][_0x1a83d6(0x26f)][_0x1a83d6(0x68b)]()!==''&&(_0x240ab4=_0x47a1d9['uazapi'][_0x1a83d6(0x26f)][_0x1a83d6(0x68b)]()),this[_0x1a83d6(0x780)][_0x1a83d6(0x62f)](this[_0x1a83d6(0x554)]+'\x20('+this[_0x1a83d6(0x362)][_0x1a83d6(0x43f)]+'):\x20Enviando\x20contato');let _0x4829d3={'number':_0x240ab4,'options':{'delay':_0x47a1d9[_0x1a83d6(0x254)][_0x1a83d6(0x4cb)]},'contactMessage':[{'fullName':_0x47a1d9['uazapi'][_0x1a83d6(0x644)],'phoneNumber':_0x47a1d9['uazapi'][_0x1a83d6(0x2ee)]}]};try{let _0x33721d=await this['contactMessage'](_0x4829d3);if(_0x33721d){let _0x1c9639={'_id':_0x33721d['key']['id'],'_fromMe':_0x33721d['key']['fromMe'],'_remoteJid':_0x33721d[_0x1a83d6(0x670)][_0x1a83d6(0x26f)]},_0x305c96=(0x0,m[_0x1a83d6(0x6d9)])(_0x33721d[_0x1a83d6(0x638)]),_0x95f335=(0x0,m['getContentType'])(_0x305c96);_0x478657[_0x1a83d6(0x1c5)][_0x1a83d6(0x5a1)]=_0x47a1d9['_id']['toString']();let {message_normalized:_0x38fb15}=this['normalizeMessage'](_0x305c96,_0x95f335,null);_0x478657[_0x1a83d6(0x1c5)][_0x1a83d6(0x77d)]=await _0x38fb15;let _0x3c20dc={'messageId':_0x33721d['key']['id']},_0x5b79a4=_0x478657[_0x1a83d6(0x1c5)][_0x1a83d6(0x37b)];Object[_0x1a83d6(0x81f)](_0x5b79a4,_0x1c9639),_0x478657[_0x1a83d6(0x1c5)][_0x1a83d6(0x37b)]=_0x5b79a4,this[_0x1a83d6(0x6ef)](_0x478657,_0x47a1d9,_0x3c20dc);}else{let _0x3a5a92={'error':!0x0};this[_0x1a83d6(0x6ef)](_0x478657,_0x47a1d9,_0x3a5a92),this['logger']['error'](this[_0x1a83d6(0x554)]+'\x20('+this['instance'][_0x1a83d6(0x43f)]+_0x1a83d6(0x81d));}}catch(_0xd646b3){let _0x1f4d47={'error':!0x0,'errorLog':_0xd646b3['toString']()};this[_0x1a83d6(0x6ef)](_0x478657,_0x47a1d9,_0x1f4d47),this['logger'][_0x1a83d6(0x6f1)](this[_0x1a83d6(0x554)]+'\x20('+this['instance'][_0x1a83d6(0x43f)]+_0x1a83d6(0x460)+(_0xd646b3 instanceof Error?_0xd646b3[_0x1a83d6(0x638)]:JSON[_0x1a83d6(0x463)](_0xd646b3,null,0x2)));}}[a0_0x28b734(0x6c1)](_0x4852ad,_0x4bb03f){const _0x3f3ef7=a0_0x28b734;for(let _0x4a27bb of _0x4852ad)_0x4a27bb[_0x3f3ef7(0x700)]&&(_0x4a27bb['option']=this['replaceVariables'](_0x4a27bb[_0x3f3ef7(0x700)],_0x4bb03f)),_0x4a27bb[_0x3f3ef7(0x52d)]&&(_0x4a27bb['optionDescription']=this['replaceVariables'](_0x4a27bb[_0x3f3ef7(0x52d)],_0x4bb03f));}async[a0_0x28b734(0x754)](_0xbd9f77,_0x10ed1a){const _0xc9574c=a0_0x28b734;let _0x5ba4fa=_0xbd9f77[_0xc9574c(0x26f)];_0x10ed1a[_0xc9574c(0x254)][_0xc9574c(0x26f)]&&_0x10ed1a[_0xc9574c(0x254)][_0xc9574c(0x26f)][_0xc9574c(0x68b)]()!==''&&(_0x5ba4fa=_0x10ed1a[_0xc9574c(0x254)][_0xc9574c(0x26f)]['trim']()),this[_0xc9574c(0x780)][_0xc9574c(0x62f)](this[_0xc9574c(0x554)]+'\x20('+this['instance']['wuid']+'):\x20Enviando\x20enquete');let _0xcd9504=_0xbd9f77[_0xc9574c(0x45b)][_0xc9574c(0x4d5)](_0x38d05e=>_0x38d05e[_0xc9574c(0x38b)]===_0x10ed1a[_0xc9574c(0x4fb)])[_0xc9574c(0x447)]((_0x511361,_0xe1e8c5)=>_0x511361[_0xc9574c(0x361)]-_0xe1e8c5[_0xc9574c(0x361)]);this['replaceVariablesInReplyOptions'](_0xcd9504,_0xbd9f77[_0xc9574c(0x1c5)]['realVariables']);let _0x2f8345=_0xcd9504[_0xc9574c(0x7df)](_0x3b744f=>_0x3b744f[_0xc9574c(0x700)]),_0x1acc52={'number':_0x5ba4fa,'menuMessage':{'type':_0x10ed1a[_0xc9574c(0x254)][_0xc9574c(0x4d6)]||_0xc9574c(0x524),'text':_0x10ed1a[_0xc9574c(0x254)][_0xc9574c(0x27e)]||_0x10ed1a[_0xc9574c(0x254)][_0xc9574c(0x69a)],'footerText':_0x10ed1a['uazapi'][_0xc9574c(0x29d)],'buttonText':_0x10ed1a['uazapi'][_0xc9574c(0x490)],'selectableCount':0x1,'choices':_0x2f8345},'options':{'delay':_0x10ed1a['uazapi']['delay']}};try{let _0x2a3579=await this[_0xc9574c(0x716)](_0x1acc52);if(_0x2a3579){let _0x44e488={'_id':_0x2a3579[_0xc9574c(0x670)]['id'],'_fromMe':_0x2a3579['key'][_0xc9574c(0x3e2)],'_remoteJid':_0x2a3579[_0xc9574c(0x670)][_0xc9574c(0x26f)]};_0x10ed1a[_0xc9574c(0x254)][_0xc9574c(0x3f9)]===!0x0&&(_0xbd9f77[_0xc9574c(0x6e9)]=_0xc9574c(0x19b),this['logger'][_0xc9574c(0x62f)](this[_0xc9574c(0x554)]+'\x20('+this[_0xc9574c(0x362)]['wuid']+_0xc9574c(0x49e)+_0xbd9f77[_0xc9574c(0x6e9)])),this[_0xc9574c(0x780)][_0xc9574c(0x62f)](this[_0xc9574c(0x554)]+'\x20('+this[_0xc9574c(0x362)]['wuid']+_0xc9574c(0x327)+(_0x10ed1a[_0xc9574c(0x254)]['name']||_0x10ed1a[_0xc9574c(0x254)]['text'])),_0xbd9f77[_0xc9574c(0x503)]=_0x2a3579[_0xc9574c(0x670)]['id'],_0xbd9f77['waitingMenu_text']=_0x10ed1a[_0xc9574c(0x254)][_0xc9574c(0x69a)]||_0x10ed1a[_0xc9574c(0x254)]['text'],_0xbd9f77['waitingMenu_replyOptions']=_0xcd9504,_0x10ed1a['uazapi']['menuExpiredMessage']&&(_0xbd9f77[_0xc9574c(0x6d2)]=_0x10ed1a['uazapi'][_0xc9574c(0x775)]),this[_0xc9574c(0x780)][_0xc9574c(0x62f)](this[_0xc9574c(0x554)]+'\x20('+this[_0xc9574c(0x362)][_0xc9574c(0x43f)]+_0xc9574c(0x35b)+_0xbd9f77['waitingMenu_text']);let _0xdbb6b1=(0x0,m[_0xc9574c(0x6d9)])(_0x2a3579[_0xc9574c(0x638)]),_0x132645=(0x0,m[_0xc9574c(0x520)])(_0xdbb6b1);_0xbd9f77['chatLog'][_0xc9574c(0x5a1)]=_0x10ed1a[_0xc9574c(0x4fb)][_0xc9574c(0x448)]();let {message_normalized:_0x3f8484}=this[_0xc9574c(0x560)](_0xdbb6b1,_0x132645,null);_0xbd9f77['chatLog'][_0xc9574c(0x77d)]=await _0x3f8484;let _0x3c2191={'messageId':_0x2a3579[_0xc9574c(0x670)]['id']},_0xb78264=_0xbd9f77['chatLog'][_0xc9574c(0x37b)];Object['assign'](_0xb78264,_0x44e488),_0xbd9f77[_0xc9574c(0x1c5)][_0xc9574c(0x37b)]=_0xb78264,this[_0xc9574c(0x6ef)](_0xbd9f77,_0x10ed1a,_0x3c2191);}else{let _0xf45685={'error':!0x0};this['updateConversation'](_0xbd9f77,_0x10ed1a,_0xf45685),this[_0xc9574c(0x780)][_0xc9574c(0x6f1)](this[_0xc9574c(0x554)]+'\x20('+this['instance'][_0xc9574c(0x43f)]+_0xc9574c(0x753));}}catch(_0xee6e9e){let _0x3f2c95={'error':!0x0,'errorLog':_0xee6e9e instanceof Error?_0xee6e9e[_0xc9574c(0x638)]:JSON[_0xc9574c(0x463)](_0xee6e9e,null,0x2)};this[_0xc9574c(0x6ef)](_0xbd9f77,_0x10ed1a,_0x3f2c95),this[_0xc9574c(0x780)][_0xc9574c(0x6f1)](this['instanceName']+'\x20('+this[_0xc9574c(0x362)][_0xc9574c(0x43f)]+_0xc9574c(0x7d0)+(_0xee6e9e instanceof Error?_0xee6e9e['message']:JSON[_0xc9574c(0x463)](_0xee6e9e,null,0x2)));}}async[a0_0x28b734(0x21a)](_0x2b6936,_0x12b6d8){const _0x198bf8=a0_0x28b734;this[_0x198bf8(0x780)]['verbose'](this[_0x198bf8(0x554)]+'\x20('+this[_0x198bf8(0x362)]['wuid']+_0x198bf8(0x6df));let _0xccff4=_0x2b6936[_0x198bf8(0x1c5)][_0x198bf8(0x60e)][_0x198bf8(0x79e)](_0x919490=>_0x919490['blockId'][_0x198bf8(0x448)]()===_0x12b6d8[_0x198bf8(0x254)][_0x198bf8(0x38b)][_0x198bf8(0x448)]()),_0x37696={'id':_0xccff4[_0x198bf8(0x72a)],'remoteJid':_0xccff4[_0x198bf8(0x26f)],'fromMe':_0xccff4[_0x198bf8(0x3e2)]};try{let _0x501e46=await this[_0x198bf8(0x7a1)](_0x37696);if(_0x501e46){let _0x3c96ab=(0x0,m[_0x198bf8(0x6d9)])(_0x501e46[_0x198bf8(0x638)]),_0x2ae3a7=(0x0,m[_0x198bf8(0x520)])(_0x3c96ab);_0x2b6936[_0x198bf8(0x1c5)]['lastBlockId']=_0x12b6d8[_0x198bf8(0x4fb)][_0x198bf8(0x448)]();let {message_normalized:_0x2db56c}=this[_0x198bf8(0x560)](_0x3c96ab,_0x2ae3a7,null);_0x2b6936['chatLog'][_0x198bf8(0x77d)]=await _0x2db56c;let _0x50c535={};this[_0x198bf8(0x6ef)](_0x2b6936,_0x12b6d8,_0x50c535);}else{let _0x11351d={'error':!0x0};this[_0x198bf8(0x6ef)](_0x2b6936,_0x12b6d8,_0x11351d),this[_0x198bf8(0x780)][_0x198bf8(0x6f1)](this[_0x198bf8(0x554)]+'\x20('+this[_0x198bf8(0x362)][_0x198bf8(0x43f)]+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x4a2474){let _0x56cbc2={'error':!0x0,'errorLog':_0x4a2474 instanceof Error?_0x4a2474['message']:JSON['stringify'](_0x4a2474,null,0x2)};this[_0x198bf8(0x6ef)](_0x2b6936,_0x12b6d8,_0x56cbc2),this[_0x198bf8(0x780)][_0x198bf8(0x6f1)](this['instanceName']+'\x20('+this['instance'][_0x198bf8(0x43f)]+_0x198bf8(0x78d)+(_0x4a2474 instanceof Error?_0x4a2474['message']:JSON[_0x198bf8(0x463)](_0x4a2474,null,0x2)));}}async[a0_0x28b734(0x326)](_0x23aa6e){const _0x3884f2=a0_0x28b734;if(!_0x23aa6e[_0x3884f2(0x69a)])throw new w(_0x3884f2(0x5d1));if(await this[_0x3884f2(0x769)][_0x3884f2(0x3f5)][_0x3884f2(0x5a7)]({'where':{'name':_0x23aa6e[_0x3884f2(0x69a)]}},this[_0x3884f2(0x362)][_0x3884f2(0x43f)]))throw new w('Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome');return _0x3884f2(0x69a)in _0x23aa6e&&_0x3884f2(0x809)in _0x23aa6e&&_0x3884f2(0x2e5)in _0x23aa6e&&Object[_0x3884f2(0x732)](_0x23aa6e)[_0x3884f2(0x2f0)]===0x3?this[_0x3884f2(0x69d)](_0x23aa6e[_0x3884f2(0x2e5)],_0x23aa6e[_0x3884f2(0x809)],_0x23aa6e['name']):this[_0x3884f2(0x76a)](_0x23aa6e);}async[a0_0x28b734(0x69d)](_0x4c3ba9,_0x101de7,_0x169b55){const _0x85eec2=a0_0x28b734;try{this[_0x85eec2(0x780)][_0x85eec2(0x62f)](this['instanceName']+'\x20('+this[_0x85eec2(0x362)][_0x85eec2(0x43f)]+_0x85eec2(0x595));let _0x53773e=await this['repository']['flow'][_0x85eec2(0x5a7)]({'where':{'name':_0x169b55,'sharePass':_0x101de7}},_0x4c3ba9);if(!_0x53773e)throw new w(_0x85eec2(0x2fa));let _0x5d04ff={..._0x53773e};return _0x5d04ff['owner']=this[_0x85eec2(0x362)][_0x85eec2(0x43f)],_0x5d04ff['shareOwners']=Array[_0x85eec2(0x325)](new Set([..._0x53773e[_0x85eec2(0x1b4)]||[],_0x53773e[_0x85eec2(0x2e5)],this[_0x85eec2(0x362)]['wuid']])),_0x53773e[_0x85eec2(0x1b4)]=_0x5d04ff[_0x85eec2(0x1b4)],await this[_0x85eec2(0x769)]['flow'][_0x85eec2(0x49f)](_0x53773e[_0x85eec2(0x4fb)],{'shareOwners':_0x53773e[_0x85eec2(0x1b4)]},_0x53773e[_0x85eec2(0x2e5)]),_0x53773e[_0x85eec2(0x4d7)]===!0x0&&await this[_0x85eec2(0x769)][_0x85eec2(0x3f5)][_0x85eec2(0x7e9)]({},{'default':!0x1},this[_0x85eec2(0x362)]['wuid']),await this[_0x85eec2(0x769)]['flow']['createAndSave'](_0x5d04ff,this[_0x85eec2(0x362)][_0x85eec2(0x43f)]);}catch(_0x5edad8){throw this[_0x85eec2(0x780)][_0x85eec2(0x6f1)](this[_0x85eec2(0x554)]+'\x20('+this[_0x85eec2(0x362)][_0x85eec2(0x43f)]+_0x85eec2(0x283)+_0x5edad8),new w(_0x85eec2(0x7f0)+_0x5edad8);}}async[a0_0x28b734(0x76a)](_0x14fa11){const _0x501f27=a0_0x28b734;try{this[_0x501f27(0x780)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x501f27(0x43f)]+_0x501f27(0x655)),delete _0x14fa11['shareOwners'],delete _0x14fa11['sharePass'],delete _0x14fa11[_0x501f27(0x2e5)],_0x14fa11['default']===!0x0&&await this['repository']['flow'][_0x501f27(0x7e9)]({},{'default':!0x1},this[_0x501f27(0x362)][_0x501f27(0x43f)]);let _0x5884f1=new oe[(_0x501f27(0x70c))][(_0x501f27(0x194))](),_0x2744a4={'_id':_0x5884f1,'default':!0x0,'title':_0x501f27(0x52a),'x':0x0,'y':0x0},_0xc92703={'_id':new oe['Types']['ObjectId'](),'order':0x1,'groupId':_0x5884f1[_0x501f27(0x448)](),'type':_0x501f27(0x322)},_0x3d4c35={'_id':new oe[(_0x501f27(0x70c))][(_0x501f27(0x194))](),'owner':this[_0x501f27(0x362)][_0x501f27(0x43f)],'name':_0x14fa11[_0x501f27(0x69a)],'groups':[_0x2744a4],'blocks':[_0xc92703],..._0x14fa11};return await this[_0x501f27(0x769)][_0x501f27(0x3f5)][_0x501f27(0x443)](_0x3d4c35,this['instance'][_0x501f27(0x43f)]);}catch(_0x2b9b2e){throw this[_0x501f27(0x780)][_0x501f27(0x6f1)](this[_0x501f27(0x554)]+'\x20('+this[_0x501f27(0x362)]['wuid']+'):\x20Erro\x20ao\x20criar\x20fluxo\x20regular:\x20'+_0x2b9b2e),new w(_0x501f27(0x73e)+_0x2b9b2e);}}async[a0_0x28b734(0x34f)](_0x411aaa,_0x3fc39a){const _0x339ddb=a0_0x28b734;try{let _0x4ae13a=await this[_0x339ddb(0x769)][_0x339ddb(0x3f5)]['findOne']({'where':{'_id':_0x411aaa}},_0x3fc39a);if(_0x4ae13a&&_0x4ae13a['shareOwners']){for(let _0x570d32 of _0x4ae13a[_0x339ddb(0x1b4)])if(_0x570d32!==_0x3fc39a){let _0x490a58={..._0x4ae13a,'owner':_0x570d32};await this['repository'][_0x339ddb(0x3f5)][_0x339ddb(0x475)](_0x411aaa,_0x490a58,_0x570d32);}}}catch(_0x601887){this[_0x339ddb(0x780)]['error'](_0x339ddb(0x29f)+_0x601887);}}async['deleteFlow'](_0x5c6805){const _0x363c72=a0_0x28b734;try{this[_0x363c72(0x780)][_0x363c72(0x62f)](this[_0x363c72(0x554)]+'\x20('+this['instance']['wuid']+_0x363c72(0x38e));let _0x14a446=await this[_0x363c72(0x769)][_0x363c72(0x3f5)][_0x363c72(0x5a7)]({'where':{'name':_0x5c6805}},this[_0x363c72(0x362)]['wuid']);if(_0x14a446&&_0x14a446[_0x363c72(0x1b4)]&&_0x14a446[_0x363c72(0x1b4)][_0x363c72(0x2f0)]>0x1){for(let _0x590ebd of _0x14a446[_0x363c72(0x1b4)])if(_0x590ebd!==this[_0x363c72(0x362)][_0x363c72(0x43f)]){let _0x3d7ab0=await this[_0x363c72(0x769)]['flow'][_0x363c72(0x5a7)]({'where':{'sharePass':_0x14a446['sharePass']}},_0x590ebd);_0x3d7ab0&&(_0x3d7ab0[_0x363c72(0x1b4)]=_0x3d7ab0[_0x363c72(0x1b4)][_0x363c72(0x4d5)](_0x476960=>_0x476960!==_0x14a446['owner']),await this[_0x363c72(0x769)]['flow'][_0x363c72(0x49f)](_0x3d7ab0[_0x363c72(0x4fb)],{'shareOwners':_0x3d7ab0[_0x363c72(0x1b4)]},_0x590ebd));}}return await this[_0x363c72(0x769)][_0x363c72(0x3f5)]['deleteOne']({'where':{'name':_0x5c6805}},this[_0x363c72(0x362)][_0x363c72(0x43f)]);}catch(_0xc8ba50){return this[_0x363c72(0x780)][_0x363c72(0x6f1)](this['instanceName']+'\x20('+this[_0x363c72(0x362)]['wuid']+_0x363c72(0x64f)+(_0xc8ba50 instanceof Error?_0xc8ba50['message']:JSON[_0x363c72(0x463)](_0xc8ba50,null,0x2))),{'message':'Erro\x20ao\x20deletar\x20o\x20fluxo:\x20'+_0xc8ba50};}}async['getFlow'](_0x48b55f){const _0x45033a=a0_0x28b734;try{this[_0x45033a(0x780)]['verbose'](this[_0x45033a(0x554)]+'\x20('+this[_0x45033a(0x362)]['wuid']+_0x45033a(0x24a));let _0x341edd=await this[_0x45033a(0x769)]['flow'][_0x45033a(0x5a7)]({'where':{'name':_0x48b55f}},this[_0x45033a(0x362)]['wuid']);if(!_0x341edd)throw new Error(_0x45033a(0x762));if(!this[_0x45033a(0x44b)]&&(await this[_0x45033a(0x3b5)](),!this[_0x45033a(0x44b)]))return null;let _0x1f9b12=this['AutomateSystem']?.[_0x45033a(0x5e7)][_0x45033a(0x7df)](_0x247996=>_0x247996['name']),_0x11bca8=[_0x45033a(0x5e2),_0x45033a(0x345),_0x45033a(0x55f),_0x45033a(0x530),_0x45033a(0x6e9),_0x45033a(0x4b9),_0x45033a(0x808),_0x45033a(0x729),'etiquetas'];_0x341edd['variables']=_0x341edd[_0x45033a(0x329)]['filter'](_0x356b4a=>!(_0x356b4a[_0x45033a(0x195)]==='leadInfo'||_0x356b4a[_0x45033a(0x1e0)])),_0x11bca8[_0x45033a(0x757)](_0x36fa47=>{const _0x5778d7=_0x45033a;_0x341edd[_0x5778d7(0x329)][_0x5778d7(0x758)]({'folder':'leadInfo','name':_0x36fa47,'value':'','doc':'','leadInfo':!0x0});}),_0x1f9b12[_0x45033a(0x757)](_0x2cdc6e=>{const _0x5aaf45=_0x45033a;let _0x58c899=_0x341edd['variables'][_0x5aaf45(0x697)](_0x57973c=>_0x57973c[_0x5aaf45(0x69a)]===_0x2cdc6e);_0x58c899===-0x1?_0x341edd[_0x5aaf45(0x329)][_0x5aaf45(0x758)]({'folder':'leadInfo','name':_0x2cdc6e,'value':'','doc':'','leadInfo':!0x0}):(_0x341edd[_0x5aaf45(0x329)][_0x58c899][_0x5aaf45(0x195)]=_0x5aaf45(0x1e0),_0x341edd[_0x5aaf45(0x329)][_0x58c899]['leadInfo']=!0x0);}),_0x341edd['blocks']&&_0x341edd[_0x45033a(0x511)]['length']>0x0&&_0x341edd['blocks'][_0x45033a(0x757)](_0x54998a=>{const _0x3ffb18=_0x45033a;_0x54998a[_0x3ffb18(0x731)]&&_0x54998a[_0x3ffb18(0x1bc)]&&_0x54998a[_0x3ffb18(0x731)]===_0x54998a[_0x3ffb18(0x1bc)]&&(_0x54998a['next_groupId']=null);});let _0xce4dc7=await this[_0x45033a(0x769)][_0x45033a(0x3f5)][_0x45033a(0x49f)](_0x341edd[_0x45033a(0x4fb)],_0x341edd,this[_0x45033a(0x362)]['wuid']);if(!_0xce4dc7)throw new Error(_0x45033a(0x300));return _0xce4dc7;}catch(_0x3648ad){throw this[_0x45033a(0x780)][_0x45033a(0x6f1)](this[_0x45033a(0x554)]+'\x20('+this[_0x45033a(0x362)][_0x45033a(0x43f)]+_0x45033a(0x1df)+(_0x3648ad instanceof Error?_0x3648ad[_0x45033a(0x638)]:JSON[_0x45033a(0x463)](_0x3648ad,null,0x2))),new w(_0x45033a(0x4c9)+_0x3648ad);}}async[a0_0x28b734(0x398)](){const _0x44c7ef=a0_0x28b734;try{return this[_0x44c7ef(0x780)]['verbose'](this[_0x44c7ef(0x554)]+'\x20('+this[_0x44c7ef(0x362)][_0x44c7ef(0x43f)]+_0x44c7ef(0x810)),await this[_0x44c7ef(0x769)][_0x44c7ef(0x3f5)][_0x44c7ef(0x232)](this[_0x44c7ef(0x362)][_0x44c7ef(0x43f)]),await this[_0x44c7ef(0x769)][_0x44c7ef(0x3f5)][_0x44c7ef(0x711)]({'where':{}},this[_0x44c7ef(0x362)][_0x44c7ef(0x43f)]);}catch(_0x2e7a16){return this[_0x44c7ef(0x780)][_0x44c7ef(0x6f1)](this[_0x44c7ef(0x554)]+'\x20('+this[_0x44c7ef(0x362)][_0x44c7ef(0x43f)]+_0x44c7ef(0x66e)+(_0x2e7a16 instanceof Error?_0x2e7a16['message']:JSON[_0x44c7ef(0x463)](_0x2e7a16,null,0x2))),{'message':_0x44c7ef(0x629)+_0x2e7a16};}}async[a0_0x28b734(0x450)](_0x384fcc){const _0x460cc4=a0_0x28b734;try{this[_0x460cc4(0x780)]['verbose'](this[_0x460cc4(0x554)]+'\x20('+this[_0x460cc4(0x362)][_0x460cc4(0x43f)]+_0x460cc4(0x27c));let _0x3ea8ee=await this[_0x460cc4(0x769)][_0x460cc4(0x3f5)][_0x460cc4(0x5a7)]({'where':{'name':_0x384fcc[_0x460cc4(0x69a)]}},this[_0x460cc4(0x362)][_0x460cc4(0x43f)]);if(!_0x3ea8ee)return{'message':_0x460cc4(0x1bd)};_0x384fcc[_0x460cc4(0x4d7)]===!0x0&&await this[_0x460cc4(0x769)][_0x460cc4(0x3f5)]['updateMany']({},{'default':!0x1},this[_0x460cc4(0x362)][_0x460cc4(0x43f)]),delete _0x384fcc[_0x460cc4(0x1b4)],delete _0x384fcc[_0x460cc4(0x809)];let _0x469f65=await this['repository'][_0x460cc4(0x3f5)][_0x460cc4(0x49f)](_0x3ea8ee['_id'],_0x384fcc,this[_0x460cc4(0x362)][_0x460cc4(0x43f)]);return _0x469f65&&_0x469f65['shareOwners']&&_0x469f65[_0x460cc4(0x1b4)]['length']>0x1&&this[_0x460cc4(0x34f)](_0x469f65[_0x460cc4(0x4fb)],this[_0x460cc4(0x362)][_0x460cc4(0x43f)]),_0x469f65;}catch(_0x5d00eb){throw this[_0x460cc4(0x780)]['error'](this[_0x460cc4(0x554)]+'\x20('+this[_0x460cc4(0x362)]['wuid']+_0x460cc4(0x639)+(_0x5d00eb instanceof Error?_0x5d00eb[_0x460cc4(0x638)]:JSON[_0x460cc4(0x463)](_0x5d00eb,null,0x2))),new w(_0x460cc4(0x439)+(_0x5d00eb instanceof Error?_0x5d00eb[_0x460cc4(0x638)]:JSON['stringify'](_0x5d00eb,null,0x2)));}}async[a0_0x28b734(0x75f)](_0x5018b9){const _0xa20b3c=a0_0x28b734;try{this[_0xa20b3c(0x780)][_0xa20b3c(0x62f)](this['instanceName']+'\x20('+this[_0xa20b3c(0x362)]['wuid']+_0xa20b3c(0x31e));let _0x340c9b=await this[_0xa20b3c(0x769)]['flow'][_0xa20b3c(0x5a7)]({'where':{'name':_0x5018b9[_0xa20b3c(0x69a)]}},this[_0xa20b3c(0x362)][_0xa20b3c(0x43f)]);_0x340c9b||this['throwAndLogError'](_0xa20b3c(0x762));let {block:_0xa0a9ab}=_0x5018b9;_0xa0a9ab?.[_0xa20b3c(0x4f7)]?this[_0xa20b3c(0x824)](_0x340c9b,_0x5018b9):_0xa0a9ab?.[_0xa20b3c(0x606)]?this[_0xa20b3c(0x4c1)](_0x340c9b,_0x5018b9):_0xa0a9ab[_0xa20b3c(0x4fb)]?await this[_0xa20b3c(0x462)](_0x340c9b,_0x5018b9):this['addBlock'](_0x340c9b,_0x5018b9);let _0x312974=await this[_0xa20b3c(0x769)]['flow'][_0xa20b3c(0x49f)](_0x340c9b[_0xa20b3c(0x4fb)],_0x340c9b,this['instance'][_0xa20b3c(0x43f)]);if(_0x312974&&_0x312974[_0xa20b3c(0x1b4)]&&_0x312974[_0xa20b3c(0x1b4)][_0xa20b3c(0x2f0)]>0x1&&this[_0xa20b3c(0x34f)](_0x312974[_0xa20b3c(0x4fb)],this[_0xa20b3c(0x362)][_0xa20b3c(0x43f)]),!_0x312974)throw new Error(_0xa20b3c(0x300));return _0x312974;}catch(_0x4c2232){this[_0xa20b3c(0x61e)](_0xa20b3c(0x267)+_0x4c2232);}}async[a0_0x28b734(0x824)](_0x2e53ca,_0x46217d){const _0x3001c8=a0_0x28b734;let _0x25837f=_0x46217d['block']['_id'],_0x280254=_0x2e53ca['blocks'][_0x3001c8(0x79e)](_0x2dd99b=>_0x2dd99b[_0x3001c8(0x4fb)][_0x3001c8(0x448)]()===_0x25837f);if(!_0x280254){this[_0x3001c8(0x780)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3001c8(0x6ec)+_0x25837f+'\x20não\x20encontrado\x20para\x20cópia');return;}this[_0x3001c8(0x780)][_0x3001c8(0x62f)](this[_0x3001c8(0x554)]+'\x20('+this[_0x3001c8(0x362)]['wuid']+_0x3001c8(0x251)+JSON[_0x3001c8(0x463)](_0x280254));let _0x4924ce=JSON['parse'](JSON['stringify'](_0x280254));_0x4924ce[_0x3001c8(0x4fb)]=new oe[(_0x3001c8(0x4d7))]['Types']['ObjectId'](),this[_0x3001c8(0x780)][_0x3001c8(0x62f)](this['instanceName']+'\x20('+this[_0x3001c8(0x362)]['wuid']+_0x3001c8(0x400)+JSON['stringify'](_0x4924ce)),_0x2e53ca['blocks']['push'](_0x4924ce),this['reorderBlocks'](_0x2e53ca[_0x3001c8(0x511)],_0x4924ce[_0x3001c8(0x731)]);}['throwAndLogError'](_0xce4379){const _0x5c2928=a0_0x28b734;throw this[_0x5c2928(0x780)][_0x5c2928(0x6f1)](this[_0x5c2928(0x554)]+'\x20('+this['instance'][_0x5c2928(0x43f)]+'):\x20'+_0xce4379),new w(_0xce4379);}[a0_0x28b734(0x4c1)](_0x2092e4,_0x56967c){const _0x10639b=a0_0x28b734;let {block:_0x249831}=_0x56967c;if(_0x249831[_0x10639b(0x2bd)]===_0x10639b(0x322)){this[_0x10639b(0x61e)](_0x10639b(0x6ce));return;}if(!_0x249831['_id']){this[_0x10639b(0x61e)](_0x10639b(0x821));return;}let _0x2741d0=_0x2092e4['blocks'][_0x10639b(0x79e)](_0x2adab3=>_0x2adab3[_0x10639b(0x4fb)][_0x10639b(0x448)]()===_0x56967c[_0x10639b(0x7bc)][_0x10639b(0x4fb)][_0x10639b(0x448)]());if(!_0x2741d0){this[_0x10639b(0x61e)](_0x10639b(0x458)+_0x249831[_0x10639b(0x4fb)]+_0x10639b(0x526));return;}_0x2092e4[_0x10639b(0x511)]=_0x2092e4[_0x10639b(0x511)]['filter'](_0x5efa56=>_0x5efa56[_0x10639b(0x4fb)][_0x10639b(0x448)]()!==_0x56967c[_0x10639b(0x7bc)][_0x10639b(0x4fb)]['toString']()),_0x2092e4[_0x10639b(0x55e)]=_0x2092e4[_0x10639b(0x55e)][_0x10639b(0x4d5)](_0x5c0a98=>_0x5c0a98[_0x10639b(0x38b)]!==_0x249831[_0x10639b(0x4fb)][_0x10639b(0x448)]()),_0x2092e4[_0x10639b(0x29e)]=_0x2092e4[_0x10639b(0x29e)][_0x10639b(0x4d5)](_0x71d5ff=>_0x71d5ff[_0x10639b(0x38b)]!==_0x249831[_0x10639b(0x4fb)][_0x10639b(0x448)]()),_0x2092e4[_0x10639b(0x45b)]=_0x2092e4[_0x10639b(0x45b)][_0x10639b(0x4d5)](_0xc6c3ee=>_0xc6c3ee['blockId']!==_0x249831['_id'][_0x10639b(0x448)]()),this[_0x10639b(0x81c)](_0x2092e4[_0x10639b(0x511)],_0x2741d0['groupId']);}async[a0_0x28b734(0x462)](_0x5353e1,_0x28ddcf){const _0x1f0030=a0_0x28b734;let _0x11206c=_0x5353e1[_0x1f0030(0x511)][_0x1f0030(0x697)](_0x8234a3=>_0x8234a3[_0x1f0030(0x4fb)][_0x1f0030(0x448)]()===_0x28ddcf[_0x1f0030(0x7bc)]['_id'][_0x1f0030(0x448)]());if(this[_0x1f0030(0x780)]['verbose'](this[_0x1f0030(0x554)]+'\x20('+this['instance'][_0x1f0030(0x43f)]+_0x1f0030(0x717)+_0x11206c),_0x11206c===-0x1){this[_0x1f0030(0x780)][_0x1f0030(0x62f)](_0x1f0030(0x458)+_0x28ddcf[_0x1f0030(0x7bc)][_0x1f0030(0x4fb)]+_0x1f0030(0x7bb));return;}if(_0x5353e1['blocks'][_0x11206c][_0x1f0030(0x2bd)]===_0x1f0030(0x322)){let _0x2b28af=Object[_0x1f0030(0x732)](_0x28ddcf[_0x1f0030(0x7bc)]);if(_0x2b28af['length']>0x2||_0x2b28af[_0x1f0030(0x2f0)]===0x2&&!_0x2b28af['includes']('next_groupId')){this['throwAndLogError'](_0x1f0030(0x5f5));return;}}let _0x3ff894=_0x5353e1[_0x1f0030(0x511)][_0x11206c][_0x1f0030(0x731)];for(let _0x4b0bf6 in _0x28ddcf[_0x1f0030(0x7bc)])_0x28ddcf[_0x1f0030(0x7bc)][_0x1f0030(0x261)](_0x4b0bf6)&&(_0x5353e1[_0x1f0030(0x511)][_0x11206c][_0x4b0bf6]=_0x28ddcf[_0x1f0030(0x7bc)][_0x4b0bf6]);if(this[_0x1f0030(0x780)][_0x1f0030(0x62f)](this[_0x1f0030(0x554)]+'\x20('+this['instance'][_0x1f0030(0x43f)]+_0x1f0030(0x414)+JSON[_0x1f0030(0x463)](_0x5353e1[_0x1f0030(0x511)][_0x11206c])),_0x5353e1['blocks'][_0x11206c][_0x1f0030(0x6ac)]&&'header'in _0x5353e1[_0x1f0030(0x511)][_0x11206c][_0x1f0030(0x6ac)]){this['logger'][_0x1f0030(0x62f)](this[_0x1f0030(0x554)]+'\x20('+this[_0x1f0030(0x362)][_0x1f0030(0x43f)]+_0x1f0030(0x5c0));let _0x4413f7=JSON[_0x1f0030(0x463)](_0x5353e1['blocks'][_0x11206c][_0x1f0030(0x6ac)]['header'],null,0x1);_0x4413f7[_0x1f0030(0x2f0)]>0x2&&(_0x4413f7=_0x4413f7[_0x1f0030(0x387)](0x1,_0x4413f7['length']-0x1)['trim']()),_0x5353e1[_0x1f0030(0x511)][_0x11206c]['apirequest']['headerString']=_0x4413f7;}if(_0x5353e1[_0x1f0030(0x511)][_0x11206c][_0x1f0030(0x6ac)]&&_0x1f0030(0x1c3)in _0x5353e1[_0x1f0030(0x511)][_0x11206c]['apirequest']){this[_0x1f0030(0x780)][_0x1f0030(0x62f)](this[_0x1f0030(0x554)]+'\x20('+this[_0x1f0030(0x362)][_0x1f0030(0x43f)]+_0x1f0030(0x25f));let _0x24e198=JSON[_0x1f0030(0x463)](_0x5353e1[_0x1f0030(0x511)][_0x11206c][_0x1f0030(0x6ac)][_0x1f0030(0x1c3)],null,0x1);_0x24e198[_0x1f0030(0x2f0)]>0x2&&(_0x24e198=_0x24e198['substring'](0x1,_0x24e198[_0x1f0030(0x2f0)]-0x1)[_0x1f0030(0x68b)]()),_0x5353e1[_0x1f0030(0x511)][_0x11206c]['apirequest'][_0x1f0030(0x7f8)]=_0x24e198;}let _0x5195f2=_0x5353e1[_0x1f0030(0x511)][_0x11206c][_0x1f0030(0x731)];_0x3ff894!==_0x5195f2?(this[_0x1f0030(0x81c)](_0x5353e1[_0x1f0030(0x511)],_0x3ff894),this[_0x1f0030(0x81c)](_0x5353e1['blocks'],_0x5195f2)):this['reorderBlocks'](_0x5353e1['blocks'],_0x3ff894);}['addBlock'](_0x3bee2,_0x4969c6){const _0x3a79df=a0_0x28b734;if(_0x4969c6[_0x3a79df(0x7bc)]['type']===_0x3a79df(0x322)){this['throwAndLogError'](_0x3a79df(0x4b8));return;}if(_0x4969c6['block'][_0x3a79df(0x6ac)]&&'header'in _0x4969c6[_0x3a79df(0x7bc)]['apirequest']){this[_0x3a79df(0x780)][_0x3a79df(0x62f)](this[_0x3a79df(0x554)]+'\x20('+this[_0x3a79df(0x362)][_0x3a79df(0x43f)]+_0x3a79df(0x5c0));let _0x516118=JSON[_0x3a79df(0x463)](_0x4969c6[_0x3a79df(0x7bc)][_0x3a79df(0x6ac)][_0x3a79df(0x770)],null,0x1);_0x516118[_0x3a79df(0x2f0)]>0x2&&(_0x516118=_0x516118['substring'](0x1,_0x516118[_0x3a79df(0x2f0)]-0x1)[_0x3a79df(0x68b)]()),_0x4969c6[_0x3a79df(0x7bc)][_0x3a79df(0x6ac)][_0x3a79df(0x571)]=_0x516118;}_0x4969c6['block']['apirequest']&&_0x3a79df(0x1c3)in _0x4969c6[_0x3a79df(0x7bc)][_0x3a79df(0x6ac)]&&(this['logger'][_0x3a79df(0x62f)](this[_0x3a79df(0x554)]+'\x20('+this[_0x3a79df(0x362)][_0x3a79df(0x43f)]+_0x3a79df(0x25f)),_0x4969c6['block']['apirequest']['bodyString']=JSON[_0x3a79df(0x463)](_0x4969c6[_0x3a79df(0x7bc)][_0x3a79df(0x6ac)][_0x3a79df(0x1c3)],null,0x1)[_0x3a79df(0x68b)]()),_0x3bee2[_0x3a79df(0x511)][_0x3a79df(0x758)](_0x4969c6[_0x3a79df(0x7bc)]),this[_0x3a79df(0x81c)](_0x3bee2[_0x3a79df(0x511)],_0x4969c6['block'][_0x3a79df(0x731)]);}[a0_0x28b734(0x81c)](_0xf306e8,_0x5f5e02){const _0xc0b4b0=a0_0x28b734;let _0x11b273=_0xf306e8['filter'](_0x331f03=>_0x331f03[_0xc0b4b0(0x731)]===_0x5f5e02);_0x11b273[_0xc0b4b0(0x447)]((_0x30a5f6,_0x5459ed)=>_0x30a5f6[_0xc0b4b0(0x361)]-_0x5459ed[_0xc0b4b0(0x361)]),_0x11b273[_0xc0b4b0(0x757)]((_0x3c8b01,_0x373a26)=>_0x3c8b01[_0xc0b4b0(0x361)]=_0x373a26+0x1);}async[a0_0x28b734(0x4a2)](_0x5edf04){const _0x99c83e=a0_0x28b734;try{if(this[_0x99c83e(0x780)]['verbose'](this['instanceName']+'\x20('+this[_0x99c83e(0x362)][_0x99c83e(0x43f)]+'):\x20Editando\x20replyOption...'),!_0x5edf04||!_0x5edf04[_0x99c83e(0x486)]){this[_0x99c83e(0x61e)](_0x99c83e(0x4a4));return;}let _0x133a57=await this[_0x99c83e(0x769)]['flow'][_0x99c83e(0x5a7)]({'where':{'name':_0x5edf04[_0x99c83e(0x69a)]}},this[_0x99c83e(0x362)][_0x99c83e(0x43f)]);_0x133a57||this[_0x99c83e(0x61e)](_0x99c83e(0x762));let {replyOption:_0x4e56fc}=_0x5edf04;_0x4e56fc?.['delete']?(this[_0x99c83e(0x5ee)](_0x133a57,_0x5edf04),this[_0x99c83e(0x1af)](_0x133a57[_0x99c83e(0x45b)],_0x5edf04['replyOption'][_0x99c83e(0x38b)])):_0x4e56fc[_0x99c83e(0x4fb)]?(await this['updateReplyOption'](_0x133a57,_0x5edf04),this[_0x99c83e(0x1af)](_0x133a57[_0x99c83e(0x45b)],_0x5edf04[_0x99c83e(0x486)]['blockId'])):(this[_0x99c83e(0x64a)](_0x133a57,_0x5edf04),this[_0x99c83e(0x1af)](_0x133a57['replyOptions'],_0x5edf04[_0x99c83e(0x486)][_0x99c83e(0x38b)]));let _0x387fa6=await this[_0x99c83e(0x769)][_0x99c83e(0x3f5)]['updateOne'](_0x133a57[_0x99c83e(0x4fb)],_0x133a57,this[_0x99c83e(0x362)]['wuid']);if(_0x387fa6&&_0x387fa6[_0x99c83e(0x1b4)]&&_0x387fa6[_0x99c83e(0x1b4)]['length']>0x1&&this[_0x99c83e(0x34f)](_0x387fa6[_0x99c83e(0x4fb)],this[_0x99c83e(0x362)][_0x99c83e(0x43f)]),!_0x387fa6)throw new Error(_0x99c83e(0x300));return _0x387fa6;}catch(_0x4796f9){this['throwAndLogError'](_0x99c83e(0x813)+_0x4796f9);}}[a0_0x28b734(0x1af)](_0x242448,_0x31029e){const _0xcf4073=a0_0x28b734;console[_0xcf4073(0x38a)](_0xcf4073(0x409),_0x31029e),_0x242448['forEach'](_0x430de4=>{const _0x54c5d1=_0xcf4073;_0x430de4[_0x54c5d1(0x38b)]===_0x31029e&&_0x430de4[_0x54c5d1(0x361)]===void 0x0&&(_0x430de4[_0x54c5d1(0x361)]=0x270f);});let _0x488715=_0x242448[_0xcf4073(0x4d5)](_0x22a7c8=>_0x22a7c8['blockId']===_0x31029e);_0x488715[_0xcf4073(0x447)]((_0x1bf636,_0x3df41d)=>_0x1bf636[_0xcf4073(0x361)]-_0x3df41d[_0xcf4073(0x361)]),_0x488715[_0xcf4073(0x757)]((_0x12817c,_0x258f5c)=>{const _0x27d0b9=_0xcf4073;_0x12817c[_0x27d0b9(0x361)]=_0x258f5c+0x1;}),_0x242448[_0xcf4073(0x757)](_0x18d945=>{const _0xe3c4d9=_0xcf4073;if(_0x18d945[_0xe3c4d9(0x38b)]===_0x31029e){let _0x3a99ec=_0x488715['find'](_0x389290=>_0x389290['_id']&&_0x18d945[_0xe3c4d9(0x4fb)]&&_0x389290[_0xe3c4d9(0x4fb)]['toString']()===_0x18d945[_0xe3c4d9(0x4fb)][_0xe3c4d9(0x448)]());_0x3a99ec&&(_0x18d945[_0xe3c4d9(0x361)]=_0x3a99ec['order']);}}),console[_0xcf4073(0x38a)]('ReplyOptions\x20finais\x20após\x20reordenação:',_0x242448);}[a0_0x28b734(0x5ee)](_0x4d603a,_0x710a91){const _0x274001=a0_0x28b734;let {replyOption:_0x335765}=_0x710a91;if(!_0x335765['_id']){this[_0x274001(0x61e)](_0x274001(0x4a9));return;}if(!_0x4d603a['replyOptions'][_0x274001(0x79e)](_0xc62d4f=>_0xc62d4f['_id']['toString']()===_0x710a91[_0x274001(0x486)][_0x274001(0x4fb)]['toString']())){this[_0x274001(0x61e)](_0x274001(0x5bd)+_0x335765['_id']+_0x274001(0x526));return;}_0x4d603a[_0x274001(0x45b)]=_0x4d603a[_0x274001(0x45b)][_0x274001(0x4d5)](_0x60179f=>_0x60179f[_0x274001(0x4fb)][_0x274001(0x448)]()!==_0x710a91[_0x274001(0x486)][_0x274001(0x4fb)]['toString']());}async['updateReplyOption'](_0xf45d26,_0x43ddc6){const _0x28afac=a0_0x28b734;let _0x4e5458=_0xf45d26[_0x28afac(0x45b)]['findIndex'](_0x47d1cd=>_0x47d1cd[_0x28afac(0x4fb)][_0x28afac(0x448)]()===_0x43ddc6[_0x28afac(0x486)][_0x28afac(0x4fb)]['toString']());if(_0x4e5458===-0x1){this[_0x28afac(0x61e)](_0x28afac(0x5bd)+_0x43ddc6[_0x28afac(0x486)][_0x28afac(0x4fb)]+_0x28afac(0x7bb));return;}for(let _0x158e17 in _0x43ddc6[_0x28afac(0x486)])_0x43ddc6[_0x28afac(0x486)]['hasOwnProperty'](_0x158e17)&&(_0xf45d26[_0x28afac(0x45b)][_0x4e5458][_0x158e17]=_0x43ddc6['replyOption'][_0x158e17]);}[a0_0x28b734(0x64a)](_0x147d3a,_0x34903b){const _0x17e45f=a0_0x28b734;_0x147d3a[_0x17e45f(0x45b)][_0x17e45f(0x758)](_0x34903b[_0x17e45f(0x486)]);}async[a0_0x28b734(0x237)](_0x5799e5){const _0x4cfbd5=a0_0x28b734;this[_0x4cfbd5(0x780)][_0x4cfbd5(0x62f)](this['instanceName']+'\x20('+this[_0x4cfbd5(0x362)][_0x4cfbd5(0x43f)]+_0x4cfbd5(0x1b3)+_0x5799e5);try{this[_0x4cfbd5(0x780)][_0x4cfbd5(0x62f)](this[_0x4cfbd5(0x554)]+'\x20('+this[_0x4cfbd5(0x362)][_0x4cfbd5(0x43f)]+_0x4cfbd5(0x6a3));let _0x54b5b8=await this[_0x4cfbd5(0x769)][_0x4cfbd5(0x3f5)][_0x4cfbd5(0x5a7)]({'where':{'name':_0x5799e5['name']}},this[_0x4cfbd5(0x362)][_0x4cfbd5(0x43f)]);if(!_0x54b5b8)throw new Error(_0x4cfbd5(0x762));if(_0x5799e5[_0x4cfbd5(0x32e)]&&_0x5799e5[_0x4cfbd5(0x32e)]?.[_0x4cfbd5(0x606)]===!0x0){if(this[_0x4cfbd5(0x780)]['verbose'](this[_0x4cfbd5(0x554)]+'\x20('+this['instance'][_0x4cfbd5(0x43f)]+_0x4cfbd5(0x440)),_0x5799e5[_0x4cfbd5(0x32e)][_0x4cfbd5(0x4d7)]===!0x0)return{'message':_0x4cfbd5(0x7ab)};if(_0x54b5b8[_0x4cfbd5(0x511)][_0x4cfbd5(0x2a6)](_0xfd04fe=>_0xfd04fe['groupId']['toString']()===_0x5799e5[_0x4cfbd5(0x32e)][_0x4cfbd5(0x4fb)]))return this[_0x4cfbd5(0x780)]['verbose'](this[_0x4cfbd5(0x554)]+'\x20('+this['instance'][_0x4cfbd5(0x43f)]+_0x4cfbd5(0x779)),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x54b5b8['groups']=_0x54b5b8[_0x4cfbd5(0x5ea)][_0x4cfbd5(0x4d5)](_0x205c03=>_0x205c03[_0x4cfbd5(0x4fb)]['toString']()!==_0x5799e5[_0x4cfbd5(0x32e)]['_id']);}else{if(_0x5799e5[_0x4cfbd5(0x32e)]){if(_0x5799e5[_0x4cfbd5(0x32e)]['default']===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x5799e5[_0x4cfbd5(0x32e)][_0x4cfbd5(0x4fb)]){let _0x179248=_0x54b5b8['groups']['find'](_0x467800=>_0x467800['_id'][_0x4cfbd5(0x448)]()===_0x5799e5[_0x4cfbd5(0x32e)][_0x4cfbd5(0x4fb)]);_0x179248&&(_0x5799e5[_0x4cfbd5(0x32e)]['x']<0x0&&(_0x5799e5['group']['x']=0x0),_0x5799e5['group']['y']<0x0&&(_0x5799e5[_0x4cfbd5(0x32e)]['y']=0x0),Object[_0x4cfbd5(0x81f)](_0x179248,_0x5799e5[_0x4cfbd5(0x32e)]));}else _0x54b5b8[_0x4cfbd5(0x5ea)][_0x4cfbd5(0x758)](_0x5799e5[_0x4cfbd5(0x32e)]);}}let _0x2dbbec=await this[_0x4cfbd5(0x769)][_0x4cfbd5(0x3f5)]['updateOne'](_0x54b5b8[_0x4cfbd5(0x4fb)],_0x54b5b8,this['instance'][_0x4cfbd5(0x43f)]);if(_0x2dbbec&&_0x2dbbec[_0x4cfbd5(0x1b4)]&&_0x2dbbec['shareOwners'][_0x4cfbd5(0x2f0)]>0x1&&this[_0x4cfbd5(0x34f)](_0x2dbbec[_0x4cfbd5(0x4fb)],this[_0x4cfbd5(0x362)]['wuid']),!_0x2dbbec)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x2dbbec;}catch(_0x7313de){throw this[_0x4cfbd5(0x780)][_0x4cfbd5(0x6f1)](this[_0x4cfbd5(0x554)]+'\x20('+this[_0x4cfbd5(0x362)]['wuid']+_0x4cfbd5(0x7af)+(_0x7313de instanceof Error?_0x7313de[_0x4cfbd5(0x638)]:JSON[_0x4cfbd5(0x463)](_0x7313de,null,0x2))),new w(_0x4cfbd5(0x7c6)+(_0x7313de instanceof Error?_0x7313de[_0x4cfbd5(0x638)]:JSON[_0x4cfbd5(0x463)](_0x7313de,null,0x2)));}}async[a0_0x28b734(0x472)](_0xd77b85){const _0x1d5e85=a0_0x28b734;try{this[_0x1d5e85(0x780)][_0x1d5e85(0x62f)](this['instanceName']+'\x20('+this[_0x1d5e85(0x362)]['wuid']+_0x1d5e85(0x67d));let _0xe4aee1=await this[_0x1d5e85(0x769)][_0x1d5e85(0x3f5)][_0x1d5e85(0x5a7)]({'where':{'name':_0xd77b85[_0x1d5e85(0x69a)]}},this[_0x1d5e85(0x362)]['wuid']);if(!_0xe4aee1)throw new Error(_0x1d5e85(0x762));let _0x5c7604=!0x1;if(_0xd77b85['condition']?.[_0x1d5e85(0x606)]===!0x0)_0xe4aee1[_0x1d5e85(0x55e)]=_0xe4aee1['conditions'][_0x1d5e85(0x4d5)](_0x3f11e3=>_0x3f11e3&&_0xd77b85[_0x1d5e85(0x4e3)]&&_0x3f11e3['_id']&&_0xd77b85[_0x1d5e85(0x4e3)][_0x1d5e85(0x4fb)]&&_0x3f11e3[_0x1d5e85(0x4fb)][_0x1d5e85(0x448)]()!==_0xd77b85[_0x1d5e85(0x4e3)][_0x1d5e85(0x4fb)][_0x1d5e85(0x448)]()),_0x5c7604=!0x0;else{let _0x5e9138=_0xe4aee1[_0x1d5e85(0x55e)][_0x1d5e85(0x79e)](_0x4eca57=>_0x4eca57&&_0xd77b85[_0x1d5e85(0x4e3)]&&_0x4eca57[_0x1d5e85(0x4fb)]&&_0xd77b85[_0x1d5e85(0x4e3)][_0x1d5e85(0x4fb)]&&_0x4eca57[_0x1d5e85(0x4fb)][_0x1d5e85(0x448)]()===_0xd77b85[_0x1d5e85(0x4e3)][_0x1d5e85(0x4fb)]['toString']());_0x5e9138?(_0x5c7604=_0x5e9138[_0x1d5e85(0x361)]!==_0xd77b85['condition']['order'],Object[_0x1d5e85(0x81f)](_0x5e9138,_0xd77b85[_0x1d5e85(0x4e3)])):(_0xe4aee1['conditions']['push'](_0xd77b85['condition']),_0x5c7604=!0x0);}if(_0x5c7604){_0xe4aee1[_0x1d5e85(0x55e)][_0x1d5e85(0x447)]((_0x42dd3d,_0x4cb29c)=>_0x42dd3d['order']>_0x4cb29c['order']?0x1:_0x4cb29c[_0x1d5e85(0x361)]>_0x42dd3d[_0x1d5e85(0x361)]?-0x1:0x0);for(let _0xba1872=0x0;_0xba1872<_0xe4aee1[_0x1d5e85(0x55e)][_0x1d5e85(0x2f0)];_0xba1872++)_0xe4aee1[_0x1d5e85(0x55e)][_0xba1872][_0x1d5e85(0x361)]=_0xba1872+0x1;_0xe4aee1[_0x1d5e85(0x55e)][_0x1d5e85(0x2f0)]>0x0&&(_0xe4aee1[_0x1d5e85(0x55e)][0x0][_0x1d5e85(0x642)]=_0x1d5e85(0x2e0));}let _0x4a2aa1=await this[_0x1d5e85(0x769)][_0x1d5e85(0x3f5)]['updateOne'](_0xe4aee1[_0x1d5e85(0x4fb)],_0xe4aee1,this[_0x1d5e85(0x362)][_0x1d5e85(0x43f)]);if(_0x4a2aa1&&_0x4a2aa1[_0x1d5e85(0x1b4)]&&_0x4a2aa1[_0x1d5e85(0x1b4)][_0x1d5e85(0x2f0)]>0x1&&this['synchronizeFlows'](_0x4a2aa1[_0x1d5e85(0x4fb)],this[_0x1d5e85(0x362)][_0x1d5e85(0x43f)]),!_0x4a2aa1)throw new Error(_0x1d5e85(0x300));return _0x4a2aa1;}catch(_0x49bf15){throw this['logger'][_0x1d5e85(0x6f1)](this[_0x1d5e85(0x554)]+'\x20('+this[_0x1d5e85(0x362)]['wuid']+_0x1d5e85(0x632)+(_0x49bf15 instanceof Error?_0x49bf15[_0x1d5e85(0x638)]:JSON[_0x1d5e85(0x463)](_0x49bf15,null,0x2))),new Error('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x49bf15 instanceof Error?_0x49bf15[_0x1d5e85(0x638)]:JSON[_0x1d5e85(0x463)](_0x49bf15,null,0x2)));}}async[a0_0x28b734(0x2ae)](_0x5aa090){const _0x5392db=a0_0x28b734;try{this[_0x5392db(0x780)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x5392db(0x43f)]+_0x5392db(0x2d7));let _0x476e17=await this['repository'][_0x5392db(0x3f5)][_0x5392db(0x5a7)]({'where':{'name':_0x5aa090[_0x5392db(0x69a)]}},this[_0x5392db(0x362)][_0x5392db(0x43f)]);if(!_0x476e17)throw new Error('Flow\x20não\x20encontrado');let _0x57fc41=!0x1;if(_0x5aa090['varedit']?.[_0x5392db(0x606)]===!0x0)_0x476e17['varedits']=_0x476e17['varedits'][_0x5392db(0x4d5)](_0x326117=>_0x326117&&_0x5aa090[_0x5392db(0x1c2)]&&_0x326117[_0x5392db(0x4fb)]&&_0x5aa090[_0x5392db(0x1c2)][_0x5392db(0x4fb)]&&_0x326117[_0x5392db(0x4fb)][_0x5392db(0x448)]()!==_0x5aa090['varedit'][_0x5392db(0x4fb)]['toString']()),_0x57fc41=!0x0;else{let _0x341a6b=_0x476e17[_0x5392db(0x29e)][_0x5392db(0x79e)](_0x5cf6c1=>_0x5cf6c1&&_0x5aa090[_0x5392db(0x1c2)]&&_0x5cf6c1[_0x5392db(0x4fb)]&&_0x5aa090[_0x5392db(0x1c2)][_0x5392db(0x4fb)]&&_0x5cf6c1[_0x5392db(0x4fb)][_0x5392db(0x448)]()===_0x5aa090['varedit'][_0x5392db(0x4fb)][_0x5392db(0x448)]());_0x341a6b?(_0x57fc41=_0x341a6b[_0x5392db(0x361)]!==_0x5aa090['varedit'][_0x5392db(0x361)],Object[_0x5392db(0x81f)](_0x341a6b,_0x5aa090[_0x5392db(0x1c2)])):(_0x476e17['varedits'][_0x5392db(0x758)](_0x5aa090[_0x5392db(0x1c2)]),_0x57fc41=!0x0);}if(_0x57fc41){_0x476e17['varedits'][_0x5392db(0x447)]((_0x170eff,_0x4032e9)=>_0x170eff[_0x5392db(0x361)]>_0x4032e9['order']?0x1:_0x4032e9[_0x5392db(0x361)]>_0x170eff[_0x5392db(0x361)]?-0x1:0x0);for(let _0x453cee=0x0;_0x453cee<_0x476e17[_0x5392db(0x29e)]['length'];_0x453cee++)_0x476e17[_0x5392db(0x29e)][_0x453cee]['order']=_0x453cee+0x1;}let _0x4bd622=await this['repository'][_0x5392db(0x3f5)][_0x5392db(0x49f)](_0x476e17[_0x5392db(0x4fb)],_0x476e17,this['instance'][_0x5392db(0x43f)]);if(_0x4bd622&&_0x4bd622[_0x5392db(0x1b4)]&&_0x4bd622[_0x5392db(0x1b4)][_0x5392db(0x2f0)]>0x1&&this[_0x5392db(0x34f)](_0x4bd622[_0x5392db(0x4fb)],this[_0x5392db(0x362)][_0x5392db(0x43f)]),!_0x4bd622)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x4bd622;}catch(_0x3f8417){throw this[_0x5392db(0x780)][_0x5392db(0x6f1)](this[_0x5392db(0x554)]+'\x20('+this[_0x5392db(0x362)]['wuid']+_0x5392db(0x632)+(_0x3f8417 instanceof Error?_0x3f8417[_0x5392db(0x638)]:JSON[_0x5392db(0x463)](_0x3f8417,null,0x2))),new w(_0x5392db(0x6e3)+(_0x3f8417 instanceof Error?_0x3f8417['message']:JSON['stringify'](_0x3f8417,null,0x2)));}}async[a0_0x28b734(0x62c)](_0x1f2301){const _0x2318be=a0_0x28b734;try{this[_0x2318be(0x780)]['verbose'](this[_0x2318be(0x554)]+'\x20('+this[_0x2318be(0x362)][_0x2318be(0x43f)]+_0x2318be(0x1c4));let _0x584889=await this['repository'][_0x2318be(0x3f5)][_0x2318be(0x5a7)]({'where':{'name':_0x1f2301[_0x2318be(0x69a)]}},this[_0x2318be(0x362)][_0x2318be(0x43f)]);if(!_0x584889)throw new Error(_0x2318be(0x762));_0x1f2301[_0x2318be(0x449)]['name']=_0x1f2301['variable'][_0x2318be(0x69a)]['trim'](),_0x1f2301[_0x2318be(0x449)][_0x2318be(0x69a)][_0x2318be(0x18f)]('_')&&(_0x1f2301['variable'][_0x2318be(0x69a)]=_0x1f2301[_0x2318be(0x449)]['name'][_0x2318be(0x387)](0x1)),_0x1f2301['variable'][_0x2318be(0x69a)]=_0x1f2301[_0x2318be(0x449)][_0x2318be(0x69a)][_0x2318be(0x68b)]();let _0x312662=_0x584889[_0x2318be(0x329)][_0x2318be(0x79e)](_0x22cc11=>_0x22cc11[_0x2318be(0x69a)]===_0x1f2301[_0x2318be(0x449)][_0x2318be(0x69a)]);if(_0x312662?.['leadInfo']===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x1f2301[_0x2318be(0x449)]?.[_0x2318be(0x606)]===!0x0){if(!_0x312662)return{'message':'Variável\x20não\x20encontrada!'};_0x584889[_0x2318be(0x329)]=_0x584889['variables'][_0x2318be(0x4d5)](_0x124d99=>_0x124d99[_0x2318be(0x69a)]!==_0x1f2301[_0x2318be(0x449)]['name']);}else _0x312662?Object['assign'](_0x312662,_0x1f2301['variable']):_0x584889[_0x2318be(0x329)]['push'](_0x1f2301[_0x2318be(0x449)]);let _0x514298=await this[_0x2318be(0x769)][_0x2318be(0x3f5)][_0x2318be(0x49f)](_0x584889['_id'],_0x584889,this[_0x2318be(0x362)][_0x2318be(0x43f)]);if(_0x514298&&_0x514298[_0x2318be(0x1b4)]&&_0x514298[_0x2318be(0x1b4)][_0x2318be(0x2f0)]>0x1&&this[_0x2318be(0x34f)](_0x514298[_0x2318be(0x4fb)],this[_0x2318be(0x362)][_0x2318be(0x43f)]),!_0x514298)throw new Error(_0x2318be(0x300));return _0x514298;}catch(_0x4706a5){throw this[_0x2318be(0x780)][_0x2318be(0x6f1)](this['instanceName']+'\x20('+this[_0x2318be(0x362)][_0x2318be(0x43f)]+'):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20'+(_0x4706a5 instanceof Error?_0x4706a5[_0x2318be(0x638)]:JSON['stringify'](_0x4706a5,null,0x2))),new w(_0x2318be(0x2af)+(_0x4706a5 instanceof Error?_0x4706a5['message']:JSON['stringify'](_0x4706a5,null,0x2)));}}async[a0_0x28b734(0x7d6)](_0x153dfa){const _0x2ee855=a0_0x28b734;let _0x5d9d5c=null;try{if(!this[_0x2ee855(0x44b)]?.['flowConfig'][_0x2ee855(0x2e6)])throw new w('Fluxos\x20não\x20estão\x20ativados');this[_0x2ee855(0x780)][_0x2ee855(0x62f)](this['instanceName']+'\x20('+this[_0x2ee855(0x362)][_0x2ee855(0x43f)]+_0x2ee855(0x572));let _0x63fcf3=(await this[_0x2ee855(0x4a7)]({'numbers':[_0x153dfa[_0x2ee855(0x26f)]]}))[0x0];if(!_0x63fcf3['exists']&&!(0x0,m[_0x2ee855(0x5a5)])(_0x63fcf3['jid'])&&!_0x63fcf3[_0x2ee855(0x441)][_0x2ee855(0x6c9)]('@broadcast'))throw _0x5d9d5c=JSON['stringify'](_0x63fcf3,null,0x2),new w(_0x63fcf3);let _0x1f3f9a=await this[_0x2ee855(0x769)]['flow']['findOne']({'where':{'name':_0x153dfa[_0x2ee855(0x69a)]}},this[_0x2ee855(0x362)][_0x2ee855(0x43f)]);if(!_0x1f3f9a)return this[_0x2ee855(0x780)][_0x2ee855(0x6f1)](this['instanceName']+'\x20('+this['instance'][_0x2ee855(0x43f)]+_0x2ee855(0x423)),{'message':_0x2ee855(0x762)};let _0x56598d=await this[_0x2ee855(0x23c)](_0x1f3f9a,_0x63fcf3[_0x2ee855(0x441)],_0x153dfa['changeVariables']);if(_0x56598d){this[_0x2ee855(0x780)][_0x2ee855(0x62f)](this['instanceName']+'\x20('+this[_0x2ee855(0x362)][_0x2ee855(0x43f)]+'):\x20Criou\x20conversa\x20no\x20startFlow:');let _0x335e0d=await this[_0x2ee855(0x43b)](_0x56598d);return _0x335e0d&&await this[_0x2ee855(0x656)](_0x56598d,_0x335e0d),{'message':_0x2ee855(0x6f5)+_0x153dfa[_0x2ee855(0x26f)]};}}catch(_0xe39de4){if(this[_0x2ee855(0x780)][_0x2ee855(0x6f1)](this[_0x2ee855(0x554)]+'\x20('+this[_0x2ee855(0x362)][_0x2ee855(0x43f)]+_0x2ee855(0x399)+(_0xe39de4 instanceof Error?_0xe39de4[_0x2ee855(0x638)]:JSON[_0x2ee855(0x463)](_0xe39de4,null,0x2))),_0x5d9d5c=_0xe39de4 instanceof Error?_0xe39de4[_0x2ee855(0x638)]:JSON[_0x2ee855(0x463)](_0xe39de4,null,0x2),_0x5d9d5c)throw new w(_0x2ee855(0x2e9)+_0x5d9d5c);}}async[a0_0x28b734(0x403)](_0x4bbdfe){const _0x4a5385=a0_0x28b734;try{let _0x1b8b41={'remoteJid':_0x4bbdfe,'status':_0x4a5385(0x428)},_0x1d2a48={'status':'closed'},_0xe56ef5=await this[_0x4a5385(0x769)][_0x4a5385(0x619)]['updateMany'](_0x1b8b41,_0x1d2a48,this[_0x4a5385(0x362)][_0x4a5385(0x43f)]);return this[_0x4a5385(0x780)][_0x4a5385(0x62f)](this[_0x4a5385(0x554)]+'\x20('+this[_0x4a5385(0x362)]['wuid']+_0x4a5385(0x356)),_0xe56ef5;}catch(_0x582284){throw this[_0x4a5385(0x780)][_0x4a5385(0x6f1)](this[_0x4a5385(0x554)]+'\x20('+this[_0x4a5385(0x362)][_0x4a5385(0x43f)]+_0x4a5385(0x2bc)+_0x582284[_0x4a5385(0x638)]),_0x582284;}}async['createConversationforStartFlow'](_0x1e320a,_0x53f056,_0x189333){const _0x340a7a=a0_0x28b734;this[_0x340a7a(0x780)][_0x340a7a(0x62f)](this[_0x340a7a(0x554)]+'\x20('+this['instance'][_0x340a7a(0x43f)]+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this['closeExistingConversations'](_0x53f056);try{let _0x3e2126=require(_0x340a7a(0x5b8))[_0x340a7a(0x194)],_0x4cb899=Date[_0x340a7a(0x420)](),_0x53816c=_0x340a7a(0x322),_0x4479bb={},_0x15f0c2={},_0x411a50={..._0x1e320a,'chatLog':null},_0x3c71e5=await this[_0x340a7a(0x5df)](_0x411a50[_0x340a7a(0x329)]),_0x4c2c11=await this['getVariablesChat'](_0x53f056),_0x147485={..._0x3c71e5,..._0x4c2c11,'_remoteJid':_0x53f056},_0x13cf4f={'lastReceivedMessage':_0x4479bb,'lastSendMessage':_0x15f0c2,'lastBlockId':_0x53816c,'lastCondition':!0x0,'realVariables':_0x147485};_0x411a50[_0x340a7a(0x1c5)]=_0x13cf4f,_0x411a50['chatLog']['realVariables']={..._0x147485,..._0x189333},delete _0x411a50[_0x340a7a(0x4fb)],_0x411a50['_id']=new _0x3e2126(),_0x411a50[_0x340a7a(0x5d5)]=_0x4cb899,_0x411a50[_0x340a7a(0x6e9)]=_0x340a7a(0x428),_0x411a50['remoteJid']=_0x53f056;let _0x3a5a5f=await this[_0x340a7a(0x769)][_0x340a7a(0x619)][_0x340a7a(0x49f)](_0x411a50[_0x340a7a(0x4fb)],_0x411a50,this[_0x340a7a(0x362)][_0x340a7a(0x43f)]);return this['logger'][_0x340a7a(0x62f)](this[_0x340a7a(0x554)]+'\x20('+this[_0x340a7a(0x362)]['wuid']+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x3a5a5f?_0x411a50:null;}catch(_0x480314){throw this[_0x340a7a(0x780)][_0x340a7a(0x6f1)](this[_0x340a7a(0x554)]+'\x20('+this[_0x340a7a(0x362)]['wuid']+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x480314 instanceof Error?_0x480314[_0x340a7a(0x638)]:JSON['stringify'](_0x480314,null,0x2))),new w(_0x480314[_0x340a7a(0x638)]);}}async[a0_0x28b734(0x5bb)](_0x18f64d){const _0x5d1152=a0_0x28b734;try{this[_0x5d1152(0x780)][_0x5d1152(0x62f)](this['instanceName']+'\x20('+this[_0x5d1152(0x362)][_0x5d1152(0x43f)]+_0x5d1152(0x41a)),this[_0x5d1152(0x780)][_0x5d1152(0x62f)](this[_0x5d1152(0x554)]+'\x20('+this[_0x5d1152(0x362)][_0x5d1152(0x43f)]+_0x5d1152(0x411)+_0x18f64d);let _0x971c9c={'where':{'_id':_0x18f64d}};return await this['repository']['flowConversation']['findOne'](_0x971c9c,this['instance'][_0x5d1152(0x43f)]);}catch(_0x21e576){throw this[_0x5d1152(0x780)][_0x5d1152(0x6f1)](this[_0x5d1152(0x554)]+'\x20('+this[_0x5d1152(0x362)]['wuid']+_0x5d1152(0x6dd)+(_0x21e576 instanceof Error?_0x21e576[_0x5d1152(0x638)]:JSON['stringify'](_0x21e576,null,0x2))),new w(_0x5d1152(0x6ed)+_0x21e576[_0x5d1152(0x638)]);}}async[a0_0x28b734(0x730)](_0x329139){const _0x1c9a2d=a0_0x28b734;try{return this[_0x1c9a2d(0x780)][_0x1c9a2d(0x62f)](this[_0x1c9a2d(0x554)]+'\x20('+this[_0x1c9a2d(0x362)][_0x1c9a2d(0x43f)]+_0x1c9a2d(0x348)),await this[_0x1c9a2d(0x769)][_0x1c9a2d(0x619)][_0x1c9a2d(0x79e)](_0x329139,this['instance'][_0x1c9a2d(0x43f)]);}catch(_0x2298ca){throw this[_0x1c9a2d(0x780)][_0x1c9a2d(0x6f1)](this['instanceName']+'\x20('+this[_0x1c9a2d(0x362)]['wuid']+_0x1c9a2d(0x6d5)+(_0x2298ca instanceof Error?_0x2298ca[_0x1c9a2d(0x638)]:JSON[_0x1c9a2d(0x463)](_0x2298ca,null,0x2))),new w(_0x1c9a2d(0x55d)+_0x2298ca[_0x1c9a2d(0x638)]);}}async[a0_0x28b734(0x766)](_0x93a00e){const _0x411b89=a0_0x28b734;try{return this['logger'][_0x411b89(0x62f)](this[_0x411b89(0x554)]+'\x20('+this[_0x411b89(0x362)][_0x411b89(0x43f)]+'):\x20Deletando\x20conversa...'),this[_0x411b89(0x780)][_0x411b89(0x62f)](this[_0x411b89(0x554)]+'\x20('+this[_0x411b89(0x362)][_0x411b89(0x43f)]+_0x411b89(0x435)+_0x93a00e),(await this[_0x411b89(0x769)][_0x411b89(0x619)][_0x411b89(0x71c)]({'where':{'_id':_0x93a00e}},this['instance'][_0x411b89(0x43f)]))[_0x411b89(0x5b7)]===0x0?{'message':_0x411b89(0x767)}:{'message':_0x411b89(0x647)};}catch(_0x23c471){throw this['logger'][_0x411b89(0x6f1)](this[_0x411b89(0x554)]+'\x20('+this[_0x411b89(0x362)]['wuid']+'):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20'+(_0x23c471 instanceof Error?_0x23c471[_0x411b89(0x638)]:JSON['stringify'](_0x23c471,null,0x2))),new w('Erro\x20ao\x20deletar\x20a\x20conversa:\x20'+_0x23c471[_0x411b89(0x638)]);}}async[a0_0x28b734(0x6b2)](_0x1d2b3b){const _0x53bfb7=a0_0x28b734;try{let {_id:_0x28780d,chatLog:_0x93e880,status:_0x478318}=_0x1d2b3b;if(!_0x28780d)return{'message':_0x53bfb7(0x2a1)};let _0x21778d={};if(_0x478318!==void 0x0&&(_0x21778d[_0x53bfb7(0x6e9)]=_0x478318),Object[_0x53bfb7(0x732)](_0x21778d)['length']===0x0)return{'message':_0x53bfb7(0x3ef)};let _0x1ab5b7=await this['repository'][_0x53bfb7(0x619)]['updateOne'](_0x28780d,_0x21778d,this['instance']['wuid']);return _0x1ab5b7||{'message':_0x53bfb7(0x316)};}catch(_0x238d2b){throw this[_0x53bfb7(0x780)][_0x53bfb7(0x6f1)](this[_0x53bfb7(0x554)]+'\x20('+this[_0x53bfb7(0x362)][_0x53bfb7(0x43f)]+_0x53bfb7(0x2e4)+(_0x238d2b instanceof Error?_0x238d2b['message']:JSON[_0x53bfb7(0x463)](_0x238d2b,null,0x2))),new w(_0x53bfb7(0x4dc)+_0x238d2b[_0x53bfb7(0x638)]);}}async[a0_0x28b734(0x1f5)](_0x54f63c){const _0x163477=a0_0x28b734;let _0x36aa82=await this[_0x163477(0x769)]['chat'][_0x163477(0x5a7)]({'where':{'_id':_0x54f63c[_0x163477(0x4fb)]}},this[_0x163477(0x362)][_0x163477(0x43f)]);if(!_0x36aa82)throw new w(_0x163477(0x268));console['log'](_0x54f63c);try{_0x54f63c[_0x163477(0x4fb)]=this['createJid'](_0x54f63c['_id']);let {_id:_0x3e5d98,leadInfo:_0x46b38a}=_0x54f63c;if(!_0x3e5d98)throw new Error(_0x163477(0x5c7));let _0x773a84=(_0x1a9280,_0x9afb40,_0x5d4fbf)=>{const _0x4c7af3=_0x163477;_0x1a9280&&_0x5d4fbf[_0x4c7af3(0x757)](_0x3aa1f6=>{const _0x319e5a=_0x4c7af3;_0x1a9280[_0x3aa1f6]!==void 0x0&&(_0x9afb40[_0x319e5a(0x41c)+_0x3aa1f6]=_0x1a9280[_0x3aa1f6]);});},_0x13e892={};if(_0x46b38a&&(_0x773a84(_0x46b38a,_0x13e892,[_0x163477(0x5e2),_0x163477(0x345),_0x163477(0x55f),_0x163477(0x530),_0x163477(0x6e9),'notas',_0x163477(0x729),_0x163477(0x287),'responsavelid',_0x163477(0x801)]),Array[_0x163477(0x292)](_0x46b38a['customFields'])&&(_0x13e892[_0x163477(0x3bd)]=_0x46b38a[_0x163477(0x5e7)][_0x163477(0x7df)](_0x4ab12a=>({'_id':_0x4ab12a['_id'],'value':_0x4ab12a[_0x163477(0x664)]}))),_0x54f63c['leadInfo'][_0x163477(0x801)]!==void 0x0)){let _0x1114da=await this[_0x163477(0x769)][_0x163477(0x60a)]['find']({'where':{}},this['instance']['wuid']),_0x440534=new Set(_0x54f63c[_0x163477(0x1e0)][_0x163477(0x801)]||[]),_0x2831ea=new Set(_0x54f63c[_0x163477(0x1e0)][_0x163477(0x801)]),_0x39115a=new Set(_0x1114da['map'](_0x451abd=>_0x451abd['_id'])),_0x2ff19e=[..._0x2831ea][_0x163477(0x4d5)](_0x4221ca=>!_0x440534[_0x163477(0x22f)](_0x4221ca)&&_0x39115a[_0x163477(0x22f)](_0x4221ca)),_0x36aad8=[..._0x440534][_0x163477(0x4d5)](_0x7b468d=>!_0x2831ea[_0x163477(0x22f)](_0x7b468d));if(_0x13e892[_0x163477(0x657)]=[..._0x440534],_0x36aa82&&!_0x36aa82[_0x163477(0x5d9)]){for(let _0x4f0549 of _0x2ff19e)await this[_0x163477(0x669)](_0x4f0549,_0x54f63c[_0x163477(0x4fb)]),_0x440534['add'](_0x4f0549);for(let _0x40d5e9 of _0x36aad8)await this['RemoveChatLabel'](_0x40d5e9,_0x54f63c[_0x163477(0x4fb)]),_0x440534[_0x163477(0x606)](_0x40d5e9);}}if(_0x54f63c[_0x163477(0x426)]!==void 0x0&&(_0x13e892['unreadcount']=Number(_0x54f63c[_0x163477(0x426)])),Object[_0x163477(0x732)](_0x13e892)['length']===0x0)throw new Error(_0x163477(0x3ef));let _0x5727fd=await this[_0x163477(0x769)][_0x163477(0x2fb)][_0x163477(0x49f)]({'where':{'_id':_0x54f63c['_id']}},_0x13e892,this[_0x163477(0x362)]['wuid']);return _0x5727fd&&q(this[_0x163477(0x554)],'chats',{'chat':_0x5727fd}),_0x5727fd?(this[_0x163477(0x780)]['verbose'](this[_0x163477(0x554)]+'\x20('+this['instance'][_0x163477(0x43f)]+'):\x20'+JSON[_0x163477(0x463)](_0x5727fd,null,0x2)),_0x5727fd):{'message':_0x163477(0x5c6)};}catch(_0x51d83c){throw this['logger'][_0x163477(0x6f1)](this['instanceName']+'\x20('+this['instance'][_0x163477(0x43f)]+_0x163477(0x544)+(_0x51d83c instanceof Error?_0x51d83c['message']:JSON[_0x163477(0x463)](_0x51d83c,null,0x2))),new w(_0x163477(0x25b)+_0x51d83c['message']);}}async[a0_0x28b734(0x669)](_0x438559,_0x48776d){const _0x4633f9=a0_0x28b734;try{await this[_0x4633f9(0x395)][_0x4633f9(0x3e8)](_0x48776d,_0x438559),console[_0x4633f9(0x38a)](_0x4633f9(0x5b1)+_0x438559+_0x4633f9(0x4e1)+_0x48776d+'\x20com\x20sucesso.');}catch(_0x3c647e){console[_0x4633f9(0x6f1)]('Erro\x20ao\x20adicionar\x20label\x20'+_0x438559+'\x20ao\x20chat\x20'+_0x48776d+':',_0x3c647e);}}async[a0_0x28b734(0x364)](_0x1a30d5,_0x590967){const _0x4eaf3b=a0_0x28b734;try{await this['client'][_0x4eaf3b(0x4ec)](_0x590967,_0x1a30d5),console[_0x4eaf3b(0x38a)]('Label\x20'+_0x1a30d5+_0x4eaf3b(0x7f1)+_0x590967+_0x4eaf3b(0x6e7));}catch(_0x3f11a3){console[_0x4eaf3b(0x6f1)](_0x4eaf3b(0x249)+_0x1a30d5+'\x20do\x20chat\x20'+_0x590967+':',_0x3f11a3);}}async[a0_0x28b734(0x80e)](_0x279ff5){const _0x532623=a0_0x28b734;try{let _0x61b622=await this[_0x532623(0x769)][_0x532623(0x35a)][_0x532623(0x54c)](this[_0x532623(0x362)][_0x532623(0x43f)]),_0x5bd33f=_0x279ff5[_0x532623(0x4fb)]?_0x61b622['agents'][_0x532623(0x697)](_0x3917e9=>_0x3917e9['_id']===_0x279ff5['_id']):-0x1;if(_0x279ff5[_0x532623(0x606)]&&_0x5bd33f>-0x1)_0x61b622[_0x532623(0x482)]['splice'](_0x5bd33f,0x1);else{if(_0x5bd33f>-0x1){let _0x59d29f=_0x61b622[_0x532623(0x482)][_0x5bd33f];_0x279ff5[_0x532623(0x7fa)]&&(_0x59d29f['fone']=_0x279ff5[_0x532623(0x7fa)]),_0x279ff5[_0x532623(0x69a)]&&(_0x59d29f[_0x532623(0x69a)]=_0x279ff5[_0x532623(0x69a)]),_0x279ff5[_0x532623(0x55f)]&&(_0x59d29f[_0x532623(0x55f)]=_0x279ff5[_0x532623(0x55f)]),_0x279ff5[_0x532623(0x50f)]&&(_0x59d29f[_0x532623(0x50f)]=_0x279ff5[_0x532623(0x50f)]);}else _0x61b622[_0x532623(0x482)]['push']({'_id':_0x279ff5[_0x532623(0x4fb)]||new oe[(_0x532623(0x4d7))][(_0x532623(0x70c))]['ObjectId']()['toString'](),'fone':_0x279ff5[_0x532623(0x7fa)],'name':_0x279ff5[_0x532623(0x69a)],'email':_0x279ff5[_0x532623(0x55f)],'role':_0x279ff5[_0x532623(0x50f)]});}let _0x230201={'agents':_0x61b622[_0x532623(0x482)]},_0x50c6d2=await this[_0x532623(0x769)][_0x532623(0x35a)]['update'](_0x230201,this['instance'][_0x532623(0x43f)]);return this[_0x532623(0x44b)]=_0x50c6d2,this[_0x532623(0x780)]['verbose'](this[_0x532623(0x554)]+'\x20('+this[_0x532623(0x362)][_0x532623(0x43f)]+_0x532623(0x58f)),this[_0x532623(0x780)]['verbose'](this['instanceName']+'\x20('+this[_0x532623(0x362)]['wuid']+_0x532623(0x1b5)+this[_0x532623(0x44b)]),_0x50c6d2;}catch(_0x154bd5){throw this[_0x532623(0x780)][_0x532623(0x6f1)](this['instanceName']+'\x20('+this[_0x532623(0x362)]['wuid']+_0x532623(0x359)+(_0x154bd5 instanceof Error?_0x154bd5[_0x532623(0x638)]:JSON[_0x532623(0x463)](_0x154bd5,null,0x2))),new w(_0x532623(0x6eb)+_0x154bd5[_0x532623(0x638)]);}}async[a0_0x28b734(0x45c)](_0x102b42){const _0x52b373=a0_0x28b734;try{let _0x377e8b=await this[_0x52b373(0x769)][_0x52b373(0x35a)][_0x52b373(0x54c)](this[_0x52b373(0x362)][_0x52b373(0x43f)]),_0x162296=_0x102b42[_0x52b373(0x4fb)]?_0x377e8b[_0x52b373(0x5e7)]['findIndex'](_0x52f232=>_0x52f232[_0x52b373(0x4fb)]===_0x102b42[_0x52b373(0x4fb)]):-0x1,_0x46d582=!0x1,_0x28f470=_0x377e8b[_0x52b373(0x5e7)][_0x52b373(0x2a6)](_0x3a70ca=>_0x3a70ca['order']===_0x102b42[_0x52b373(0x361)]);if(_0x102b42[_0x52b373(0x606)]&&_0x162296>-0x1)_0x377e8b[_0x52b373(0x5e7)]['splice'](_0x162296,0x1),_0x46d582=!0x0;else{if(_0x162296>-0x1){if(_0x377e8b['customFields'][_0x52b373(0x2a6)](_0x4424bf=>_0x4424bf[_0x52b373(0x69a)]===_0x102b42[_0x52b373(0x69a)]&&_0x4424bf[_0x52b373(0x4fb)]!==_0x102b42[_0x52b373(0x4fb)]))throw new Error(_0x52b373(0x2c5));let _0x57f6bc=_0x377e8b[_0x52b373(0x5e7)][_0x162296];_0x102b42[_0x52b373(0x361)]&&(_0x28f470||!Number[_0x52b373(0x296)](_0x102b42[_0x52b373(0x361)]))&&(_0x57f6bc[_0x52b373(0x361)]=_0x102b42[_0x52b373(0x361)],_0x46d582=!0x0),_0x102b42[_0x52b373(0x69a)]&&(_0x57f6bc['name']=_0x102b42['name']);}else{if(_0x377e8b[_0x52b373(0x5e7)][_0x52b373(0x2a6)](_0x3e7734=>_0x3e7734[_0x52b373(0x69a)]===_0x102b42[_0x52b373(0x69a)]&&_0x3e7734[_0x52b373(0x4fb)]!==_0x102b42[_0x52b373(0x4fb)]))throw new Error(_0x52b373(0x2c5));_0x377e8b[_0x52b373(0x5e7)][_0x52b373(0x758)]({'_id':_0x102b42[_0x52b373(0x4fb)]||new oe[(_0x52b373(0x4d7))][(_0x52b373(0x70c))][(_0x52b373(0x194))]()[_0x52b373(0x448)](),'order':_0x102b42[_0x52b373(0x361)],'name':_0x102b42['name']}),_0x46d582=!0x0;}}if(_0x46d582){_0x377e8b[_0x52b373(0x5e7)]['sort']((_0x4db987,_0x3152b7)=>_0x4db987[_0x52b373(0x361)]>_0x3152b7[_0x52b373(0x361)]?0x1:_0x3152b7[_0x52b373(0x361)]>_0x4db987[_0x52b373(0x361)]?-0x1:0x0);for(let _0x296a3a=0x0;_0x296a3a<_0x377e8b['customFields'][_0x52b373(0x2f0)];_0x296a3a++)_0x377e8b[_0x52b373(0x5e7)][_0x296a3a]['order']=_0x296a3a+0x1;}let _0x986c4a=await this[_0x52b373(0x769)][_0x52b373(0x35a)][_0x52b373(0x19a)](_0x377e8b,this['instance'][_0x52b373(0x43f)]);return this[_0x52b373(0x44b)]=_0x986c4a,this[_0x52b373(0x780)]['verbose'](this[_0x52b373(0x554)]+'\x20('+this[_0x52b373(0x362)][_0x52b373(0x43f)]+_0x52b373(0x33f)),this[_0x52b373(0x780)][_0x52b373(0x62f)](this[_0x52b373(0x554)]+'\x20('+this[_0x52b373(0x362)][_0x52b373(0x43f)]+_0x52b373(0x1b5)+this[_0x52b373(0x44b)]),_0x986c4a;}catch(_0x4fe76f){throw this[_0x52b373(0x780)]['error'](this['instanceName']+'\x20('+this[_0x52b373(0x362)][_0x52b373(0x43f)]+'):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+(_0x4fe76f instanceof Error?_0x4fe76f[_0x52b373(0x638)]:JSON[_0x52b373(0x463)](_0x4fe76f,null,0x2))),new w(_0x52b373(0x191)+_0x4fe76f[_0x52b373(0x638)]);}}async[a0_0x28b734(0x42e)](_0x5af0b0){const _0x390789=a0_0x28b734;try{let _0x20fca5=await this[_0x390789(0x769)]['automateSystem'][_0x390789(0x54c)](this[_0x390789(0x362)][_0x390789(0x43f)]);if(!_0x20fca5)throw new Error(_0x390789(0x4ed));let _0x5717b7={'_id':_0x20fca5[_0x390789(0x4fb)],'flowConfig':{'enabled':_0x5af0b0['enabled']??_0x20fca5[_0x390789(0x3dd)][_0x390789(0x2e6)],'ignoreGroups':_0x5af0b0['ignoreGroups']??_0x20fca5[_0x390789(0x3dd)][_0x390789(0x695)],'prefixCommand':_0x5af0b0[_0x390789(0x216)]??_0x20fca5['flowConfig']['prefixCommand'],'stopConversation':_0x5af0b0[_0x390789(0x71f)]??_0x20fca5[_0x390789(0x3dd)]['stopConversation'],'stopMinutes':_0x5af0b0[_0x390789(0x305)]??_0x20fca5[_0x390789(0x3dd)][_0x390789(0x305)],'stopWhenYouSendMsg':_0x5af0b0[_0x390789(0x2d9)]??_0x20fca5[_0x390789(0x3dd)][_0x390789(0x2d9)]}},_0x26caf8=await this[_0x390789(0x769)][_0x390789(0x35a)][_0x390789(0x19a)](_0x5717b7,this['instance']['wuid']);return this['AutomateSystem']=_0x26caf8,this['logger']['verbose'](this[_0x390789(0x554)]+'\x20('+this[_0x390789(0x362)][_0x390789(0x43f)]+_0x390789(0x58f)),this[_0x390789(0x780)][_0x390789(0x62f)](this[_0x390789(0x554)]+'\x20('+this[_0x390789(0x362)]['wuid']+_0x390789(0x1b5)+this[_0x390789(0x44b)]),setTimeout(()=>this[_0x390789(0x516)](),0x7d0),_0x26caf8;}catch(_0x2210fe){throw this[_0x390789(0x780)][_0x390789(0x6f1)](this[_0x390789(0x554)]+'\x20('+this[_0x390789(0x362)][_0x390789(0x43f)]+_0x390789(0x774)+(_0x2210fe instanceof Error?_0x2210fe[_0x390789(0x638)]:JSON[_0x390789(0x463)](_0x2210fe,null,0x2))),new w(_0x390789(0x68d)+_0x2210fe[_0x390789(0x638)]);}}async[a0_0x28b734(0x3b5)](){const _0x1e20cd=a0_0x28b734;try{let _0x68a462=await this[_0x1e20cd(0x769)][_0x1e20cd(0x35a)][_0x1e20cd(0x54c)](this[_0x1e20cd(0x362)][_0x1e20cd(0x43f)]);return this[_0x1e20cd(0x44b)]=_0x68a462,this[_0x1e20cd(0x780)][_0x1e20cd(0x62f)](this[_0x1e20cd(0x554)]+'\x20('+this[_0x1e20cd(0x362)][_0x1e20cd(0x43f)]+'):\x20Visualizando\x20AutomateSystem'),this[_0x1e20cd(0x780)][_0x1e20cd(0x62f)](this['AutomateSystem']),_0x68a462;}catch(_0x1f11d1){throw this[_0x1e20cd(0x780)][_0x1e20cd(0x6f1)](this[_0x1e20cd(0x554)]+'\x20('+this[_0x1e20cd(0x362)][_0x1e20cd(0x43f)]+_0x1e20cd(0x1ce)+(_0x1f11d1 instanceof Error?_0x1f11d1[_0x1e20cd(0x638)]:JSON['stringify'](_0x1f11d1,null,0x2))),new w(_0x1e20cd(0x66f)+_0x1f11d1['message']);}}async[a0_0x28b734(0x65d)](){const _0x53023a=a0_0x28b734;this[_0x53023a(0x7d3)]&&clearTimeout(this[_0x53023a(0x7d3)]),this[_0x53023a(0x7d3)]=setTimeout(()=>{const _0x1250c8=_0x53023a;this[_0x1250c8(0x30d)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async['checkAndRestartProcess'](){const _0x49490d=a0_0x28b734;Date[_0x49490d(0x420)]()-this['lastSend']>=0x1d4c0&&(this[_0x49490d(0x780)]['verbose'](this[_0x49490d(0x554)]+'\x20('+this[_0x49490d(0x362)][_0x49490d(0x43f)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this['processingScheduleMessageId']=null,this[_0x49490d(0x355)]=0x0,this[_0x49490d(0x784)]=0x0,await this['scheduleNextCheck']());}async[a0_0x28b734(0x516)](){const _0x3e91a9=a0_0x28b734;let _0x3f2d26=()=>{const _0x34c5e8=a0_0x4163;this[_0x34c5e8(0x780)][_0x34c5e8(0x62f)](this[_0x34c5e8(0x554)]+'\x20('+this['instance']['wuid']+_0x34c5e8(0x587)+this[_0x34c5e8(0x567)]+'\x20saindo\x20da\x20função');},_0x3654ec=async()=>{const _0x964151=a0_0x4163;this[_0x964151(0x780)][_0x964151(0x62f)](this[_0x964151(0x554)]+'\x20('+this[_0x964151(0x362)][_0x964151(0x43f)]+_0x964151(0x5ec));let _0x169a6d=Date[_0x964151(0x420)]()-0xc*0x3c*0x3c*0x3e8,_0x5dfcc4={'where':{'status':{'$in':[_0x964151(0x256),_0x964151(0x23d)]},'$or':[{'when':{'$lte':Date[_0x964151(0x420)](),'$gte':_0x169a6d}},{'when':0x0}]}};return await this[_0x964151(0x769)]['scheduleMessage'][_0x964151(0x79e)](_0x5dfcc4,this['instance'][_0x964151(0x43f)]);},_0x13cb3d=async _0x3a2176=>{const _0x1196e9=a0_0x4163;for(let _0x406fc8 of _0x3a2176){let _0x4ee5d0={'_id':_0x406fc8[_0x1196e9(0x4fb)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x1196e9(0x420)]()-0x1770}}]},_0x343f20={'startSend':Date[_0x1196e9(0x420)]()};if(!await this[_0x1196e9(0x769)][_0x1196e9(0x712)][_0x1196e9(0x49f)](_0x4ee5d0,_0x343f20,this[_0x1196e9(0x362)][_0x1196e9(0x43f)]))return;if(!this[_0x1196e9(0x7c2)]){this[_0x1196e9(0x780)][_0x1196e9(0x62f)](this[_0x1196e9(0x554)]+'\x20('+this[_0x1196e9(0x362)][_0x1196e9(0x43f)]+'):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected');break;}if(_0x406fc8[_0x1196e9(0x2bd)]==='flow'&&!this[_0x1196e9(0x44b)]?.['flowConfig'][_0x1196e9(0x2e6)]){this[_0x1196e9(0x780)]['error'](this[_0x1196e9(0x554)]+'\x20('+this[_0x1196e9(0x362)]['wuid']+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');continue;}(!_0x406fc8[_0x1196e9(0x41d)]||_0x406fc8[_0x1196e9(0x41d)]['length']===0x0)&&(_0x406fc8=await this[_0x1196e9(0x769)]['scheduleMessage']['updateOneById'](_0x406fc8['_id'],{'status':_0x1196e9(0x23d),'remoteJidsRemaining':[..._0x406fc8[_0x1196e9(0x72d)]]},this['instance'][_0x1196e9(0x43f)]));for(let _0x5eb649 of _0x406fc8[_0x1196e9(0x41d)]){if(await this[_0x1196e9(0x65d)](),this[_0x1196e9(0x355)]=Date['now'](),_0x406fc8['messagesSend'][_0x1196e9(0x2a6)](_0x441594=>_0x441594[_0x1196e9(0x26f)]===_0x5eb649)){this['logger'][_0x1196e9(0x62f)](this[_0x1196e9(0x554)]+'\x20('+this[_0x1196e9(0x362)]['wuid']+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x5eb649+_0x1196e9(0x6aa));continue;}if(!this[_0x1196e9(0x7c2)]){this['logger'][_0x1196e9(0x62f)](this[_0x1196e9(0x554)]+'\x20('+this[_0x1196e9(0x362)][_0x1196e9(0x43f)]+_0x1196e9(0x1d9));break;}if(!this[_0x1196e9(0x567)]){this[_0x1196e9(0x780)][_0x1196e9(0x62f)](this[_0x1196e9(0x554)]+'\x20('+this[_0x1196e9(0x362)][_0x1196e9(0x43f)]+_0x1196e9(0x7a2)+_0x406fc8[_0x1196e9(0x4fb)]+_0x1196e9(0x42b));break;}if(_0x406fc8[_0x1196e9(0x2bd)]===_0x1196e9(0x3f5)&&!this[_0x1196e9(0x44b)]?.[_0x1196e9(0x3dd)][_0x1196e9(0x2e6)]){this[_0x1196e9(0x780)]['error'](this[_0x1196e9(0x554)]+'\x20('+this[_0x1196e9(0x362)][_0x1196e9(0x43f)]+_0x1196e9(0x235));break;}let _0x3a3035={'remoteJid':_0x5eb649,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date['now']()},_0x265460=null;try{let _0x38aa8e=await this[_0x1196e9(0x1bb)](_0x5eb649,_0x406fc8);_0x3a3035['error']=_0x38aa8e[_0x1196e9(0x6f1)],_0x3a3035['id']=_0x38aa8e['error']?null:_0x38aa8e['id'],_0x3a3035[_0x1196e9(0x7bd)]=_0x38aa8e['error']?_0x38aa8e['detail']?_0x38aa8e[_0x1196e9(0x6de)][_0x1196e9(0x448)]():'':null;let _0x169db8={'$push':{'messagesSend':_0x3a3035},'$pull':{'remoteJidsRemaining':_0x5eb649}},_0x4a83cd=_0x406fc8['_id'];if(_0x265460=await this[_0x1196e9(0x769)][_0x1196e9(0x712)]['updateOneById'](_0x4a83cd,_0x169db8,this[_0x1196e9(0x362)][_0x1196e9(0x43f)]),_0x38aa8e[_0x1196e9(0x6f1)])continue;let _0x504335=this[_0x1196e9(0x5e0)](_0x406fc8[_0x1196e9(0x4ae)],_0x406fc8[_0x1196e9(0x78f)]);await this['sleep'](_0x504335);}catch(_0x515725){this['logger'][_0x1196e9(0x6f1)](this[_0x1196e9(0x554)]+'\x20('+this[_0x1196e9(0x362)]['wuid']+_0x1196e9(0x3bb)+_0x5eb649+':\x20'+(_0x515725 instanceof Error?_0x515725[_0x1196e9(0x638)]:JSON['stringify'](_0x515725,null,0x2))),_0x3a3035[_0x1196e9(0x6f1)]=!0x0,_0x3a3035[_0x1196e9(0x7bd)]=_0x515725[_0x1196e9(0x638)];let _0x3273bb={'$push':{'messagesSend':_0x3a3035},'$pull':{'remoteJidsRemaining':_0x5eb649}},_0x7f8fd3=_0x406fc8[_0x1196e9(0x4fb)];_0x265460=await this[_0x1196e9(0x769)][_0x1196e9(0x712)]['updateOneById'](_0x7f8fd3,_0x3273bb,this[_0x1196e9(0x362)][_0x1196e9(0x43f)]);}finally{if(_0x265460&&_0x265460[_0x1196e9(0x6e9)]===_0x1196e9(0x30f)){this[_0x1196e9(0x780)]['verbose'](this[_0x1196e9(0x554)]+'\x20('+this[_0x1196e9(0x362)][_0x1196e9(0x43f)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x406fc8[_0x1196e9(0x4fb)]+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}}}let _0x4fc8ba=await this[_0x1196e9(0x769)][_0x1196e9(0x712)][_0x1196e9(0x418)](_0x406fc8[_0x1196e9(0x4fb)],this[_0x1196e9(0x362)][_0x1196e9(0x43f)]);if(_0x4fc8ba[_0x1196e9(0x41d)][_0x1196e9(0x2f0)]===0x0&&_0x4fc8ba[_0x1196e9(0x6e9)]!=='stopped'){let _0x41c16a={'$set':{'status':_0x1196e9(0x32d)}},_0x27724c=_0x4fc8ba[_0x1196e9(0x4fb)];await this['repository']['scheduleMessage'][_0x1196e9(0x34a)](_0x27724c,_0x41c16a,this['instance']['wuid']);}await new Promise(_0xa24a28=>setTimeout(_0xa24a28,0x1388));}},_0x3811e1=async()=>{const _0x492160=a0_0x4163;let _0x5a75a6={'where':{'status':'scheduled','when':{'$gt':Date[_0x492160(0x420)]()}}},_0x45d084=await this[_0x492160(0x769)][_0x492160(0x712)][_0x492160(0x5a7)](_0x5a75a6,this['instance'][_0x492160(0x43f)]);_0x45d084&&_0x45d084[_0x492160(0x59e)]-Date['now']()<=0x5265c00?this[_0x492160(0x784)]=_0x45d084[_0x492160(0x59e)]-Date['now']():this[_0x492160(0x784)]=(0x3c+Math['floor'](Math['random']()*0x3c))*0x3c*0x3e8,this[_0x492160(0x784)]=Math[_0x492160(0x66b)](this[_0x492160(0x784)],0x7d0);let _0x23fc1e=Math[_0x492160(0x1fe)](this['delayMessage']/0xea60);if(_0x45d084){let _0x45e816=new Date(_0x45d084['when'])[_0x492160(0x3d5)]();this[_0x492160(0x780)][_0x492160(0x62f)](this[_0x492160(0x554)]+'\x20('+this[_0x492160(0x362)]['wuid']+'):\x20encontrado\x20próxima\x20mensagem\x20para\x20'+_0x45e816+',\x20fará\x20nova\x20verificação\x20em\x20'+_0x23fc1e+'\x20minutos');}else this['logger'][_0x492160(0x62f)](this['instanceName']+'\x20('+this[_0x492160(0x362)][_0x492160(0x43f)]+_0x492160(0x1de)+_0x23fc1e+_0x492160(0x81e));setTimeout(()=>this[_0x492160(0x516)](),this['delayMessage']);};if(this[_0x3e91a9(0x567)]){await this[_0x3e91a9(0x65d)](),_0x3f2d26();return;}if(!this['isConnected']){this[_0x3e91a9(0x780)][_0x3e91a9(0x62f)](this[_0x3e91a9(0x554)]+'\x20('+this[_0x3e91a9(0x362)][_0x3e91a9(0x43f)]+_0x3e91a9(0x4e6)),this[_0x3e91a9(0x567)]=null,this[_0x3e91a9(0x355)]=0x0,this[_0x3e91a9(0x784)]=0x0;return;}try{let _0x3d13cf=await _0x3654ec();_0x3d13cf[_0x3e91a9(0x2f0)]===0x0?this[_0x3e91a9(0x780)][_0x3e91a9(0x62f)](this[_0x3e91a9(0x554)]+'\x20('+this['instance'][_0x3e91a9(0x43f)]+_0x3e91a9(0x1d3)):(this[_0x3e91a9(0x567)]=_0x3d13cf[0x0][_0x3e91a9(0x4fb)],await _0x13cb3d(_0x3d13cf)),await _0x3811e1(),this['processingScheduleMessageId']=null;}catch(_0x4ce6f5){this['logger'][_0x3e91a9(0x6f1)]('Error\x20in\x20scheduleNextCheck:\x20'+(_0x4ce6f5 instanceof Error?_0x4ce6f5[_0x3e91a9(0x638)]:JSON['stringify'](_0x4ce6f5,null,0x2)));}}[a0_0x28b734(0x5e0)](_0x1ededb,_0x3d4b60){const _0x787067=a0_0x28b734;return _0x1ededb=Math['max'](0.5,_0x1ededb),_0x3d4b60=Math[_0x787067(0x2c2)](Math[_0x787067(0x66b)](0x3,_0x3d4b60),0x78),Math['floor'](Math[_0x787067(0x576)]()*(_0x3d4b60-_0x1ededb+0x1)+_0x1ededb)*0x3e8;}[a0_0x28b734(0x405)](_0x4e27f6){return new Promise(_0x32d911=>setTimeout(_0x32d911,_0x4e27f6));}async['getVariablesChat'](_0x381cac){const _0x2825f1=a0_0x28b734;if(!this[_0x2825f1(0x44b)]&&(await this['getAutomateSystem'](),!this[_0x2825f1(0x44b)]))return null;_0x381cac=this[_0x2825f1(0x1aa)](_0x381cac);let _0x4d6cce=await this['repository'][_0x2825f1(0x2fb)]['findOne']({'where':{'_id':_0x381cac}},this['instance']['wuid']),_0x2afc89={};if(_0x4d6cce&&_0x4d6cce[_0x2825f1(0x1e0)]){let _0x2e6265=_0x4d6cce[_0x2825f1(0x1e0)];typeof _0x2e6265['nome']==_0x2825f1(0x18e)&&(_0x2afc89[_0x2825f1(0x5e2)]=_0x2e6265[_0x2825f1(0x5e2)]),typeof _0x2e6265[_0x2825f1(0x345)]==_0x2825f1(0x18e)&&(_0x2afc89['nomecompleto']=_0x2e6265[_0x2825f1(0x345)]),typeof _0x2e6265[_0x2825f1(0x55f)]==_0x2825f1(0x18e)&&(_0x2afc89[_0x2825f1(0x55f)]=_0x2e6265[_0x2825f1(0x55f)]),typeof _0x2e6265[_0x2825f1(0x530)]==_0x2825f1(0x18e)&&(_0x2afc89[_0x2825f1(0x530)]=_0x2e6265[_0x2825f1(0x530)]),typeof _0x2e6265[_0x2825f1(0x6e9)]==_0x2825f1(0x18e)&&(_0x2afc89[_0x2825f1(0x6e9)]=_0x2e6265[_0x2825f1(0x6e9)]),typeof _0x2e6265[_0x2825f1(0x4b9)]==_0x2825f1(0x18e)&&(_0x2afc89[_0x2825f1(0x4b9)]=_0x2e6265[_0x2825f1(0x4b9)]),typeof _0x2e6265[_0x2825f1(0x808)]==_0x2825f1(0x18e)&&(_0x2afc89[_0x2825f1(0x808)]=_0x2e6265['responsavelid']),Array[_0x2825f1(0x292)](_0x2e6265[_0x2825f1(0x729)])&&(_0x2afc89[_0x2825f1(0x729)]=_0x2e6265[_0x2825f1(0x729)][_0x2825f1(0x67e)](',\x20')),Array[_0x2825f1(0x292)](_0x2e6265['etiquetas'])&&(_0x2afc89[_0x2825f1(0x801)]=_0x2e6265[_0x2825f1(0x801)][_0x2825f1(0x67e)](',\x20'));}return _0x4d6cce&&_0x4d6cce[_0x2825f1(0x1e0)]&&_0x4d6cce[_0x2825f1(0x1e0)]['customFields']&&_0x4d6cce['leadInfo'][_0x2825f1(0x5e7)][_0x2825f1(0x757)](_0x1d35a0=>{const _0xba9743=_0x2825f1;let _0x15ec89=this['AutomateSystem']?.[_0xba9743(0x5e7)][_0xba9743(0x79e)](_0x5f3eb2=>_0x5f3eb2[_0xba9743(0x4fb)]===_0x1d35a0[_0xba9743(0x4fb)]);_0x15ec89&&(_0x2afc89[_0x15ec89[_0xba9743(0x69a)]]=_0x1d35a0[_0xba9743(0x664)]);}),_0x2afc89;}async[a0_0x28b734(0x1f2)](_0x4c4faf,_0x5f4ada){const _0x4f857a=a0_0x28b734;let _0x5d23f8=await this['getVariablesChat'](_0x5f4ada);return this[_0x4f857a(0x78b)](_0x4c4faf,_0x5d23f8);}async[a0_0x28b734(0x581)](_0x3debe2){const _0x3366a1=a0_0x28b734;try{if(this[_0x3366a1(0x780)][_0x3366a1(0x62f)](this[_0x3366a1(0x554)]+'\x20('+this['instance'][_0x3366a1(0x43f)]+_0x3366a1(0x765)),_0x3debe2['delete']&&_0x3debe2[_0x3366a1(0x4fb)]){if(this[_0x3366a1(0x567)]===_0x3debe2[_0x3366a1(0x4fb)][_0x3366a1(0x448)]())throw new Error(_0x3366a1(0x5f2));let _0x239409=await this[_0x3366a1(0x769)][_0x3366a1(0x712)]['deleteOne'](_0x3debe2[_0x3366a1(0x4fb)],this[_0x3366a1(0x362)][_0x3366a1(0x43f)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x239409;}let _0x210d11;if(_0x3debe2[_0x3366a1(0x4fb)]&&(_0x210d11=await this['repository'][_0x3366a1(0x712)][_0x3366a1(0x418)](_0x3debe2['_id'],this[_0x3366a1(0x362)][_0x3366a1(0x43f)])),_0x210d11){let _0x216fd1;if(this['processingScheduleMessageId']===_0x210d11[_0x3366a1(0x4fb)][_0x3366a1(0x448)]())_0x216fd1={'$set':{'status':_0x3debe2['status']}};else{let {_id:_0x4e0f4e,..._0x43004f}=_0x3debe2;_0x216fd1={'$set':_0x43004f};}let _0x19e142=await this['repository'][_0x3366a1(0x712)][_0x3366a1(0x34a)](_0x3debe2[_0x3366a1(0x4fb)],_0x216fd1,this['instance'][_0x3366a1(0x43f)]);return setTimeout(()=>this[_0x3366a1(0x516)](),0x7d0),_0x19e142;}else{_0x3debe2[_0x3366a1(0x2e5)]=this[_0x3366a1(0x362)]['wuid'];let _0x34dc9c=await this[_0x3366a1(0x769)]['scheduleMessage']['createAndSave'](_0x3debe2,this[_0x3366a1(0x362)][_0x3366a1(0x43f)]);return setTimeout(()=>this[_0x3366a1(0x516)](),0x7d0),_0x34dc9c;}}catch(_0x5d3971){throw this[_0x3366a1(0x780)][_0x3366a1(0x6f1)](this['instanceName']+'\x20('+this['instance'][_0x3366a1(0x43f)]+_0x3366a1(0x457)+(_0x5d3971 instanceof Error?_0x5d3971[_0x3366a1(0x638)]:JSON[_0x3366a1(0x463)](_0x5d3971,null,0x2))),new w(_0x3366a1(0x688)+_0x5d3971['message']);}}async[a0_0x28b734(0x1ac)](){const _0x16a6e5=a0_0x28b734;try{return await this[_0x16a6e5(0x769)][_0x16a6e5(0x712)]['find']({'where':{}},this[_0x16a6e5(0x362)]['wuid']);}catch(_0x1a6e1f){throw this['logger'][_0x16a6e5(0x6f1)](this[_0x16a6e5(0x554)]+'\x20('+this[_0x16a6e5(0x362)][_0x16a6e5(0x43f)]+_0x16a6e5(0x3b1)+(_0x1a6e1f instanceof Error?_0x1a6e1f[_0x16a6e5(0x638)]:JSON[_0x16a6e5(0x463)](_0x1a6e1f,null,0x2))),new w(_0x16a6e5(0x688)+_0x1a6e1f[_0x16a6e5(0x638)]);}}async[a0_0x28b734(0x5e8)](){const _0x5899cd=a0_0x28b734;try{let _0x518422={'status':_0x5899cd(0x32d)},_0x1a5ac0=await this[_0x5899cd(0x769)][_0x5899cd(0x712)][_0x5899cd(0x607)](_0x518422,this[_0x5899cd(0x362)]['wuid']);if(!_0x1a5ac0[_0x5899cd(0x6f1)])this['logger'][_0x5899cd(0x62f)](this[_0x5899cd(0x554)]+'\x20('+this['instance'][_0x5899cd(0x43f)]+'):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.');else throw new Error(_0x1a5ac0['error']['message']||_0x5899cd(0x2dd));return this[_0x5899cd(0x1ac)]();}catch(_0x5aee64){throw this[_0x5899cd(0x780)][_0x5899cd(0x6f1)](this[_0x5899cd(0x554)]+'\x20('+this[_0x5899cd(0x362)]['wuid']+'):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:'+(_0x5aee64 instanceof Error?_0x5aee64[_0x5899cd(0x638)]:JSON['stringify'](_0x5aee64,null,0x2))),new w(_0x5899cd(0x688)+_0x5aee64[_0x5899cd(0x638)]);}}async[a0_0x28b734(0x1bb)](_0x24ff87,_0x207c83){const _0x34d7c9=a0_0x28b734;try{if(_0x207c83[_0x34d7c9(0x2bd)]===_0x34d7c9(0x3f5)&&!this[_0x34d7c9(0x44b)]?.[_0x34d7c9(0x3dd)][_0x34d7c9(0x2e6)])return this[_0x34d7c9(0x780)][_0x34d7c9(0x6f1)](this[_0x34d7c9(0x554)]+'\x20('+this['instance'][_0x34d7c9(0x43f)]+'):\x20Fluxos\x20não\x20estão\x20ativados'),{'error':!0x0,'detail':_0x34d7c9(0x21f)};switch(_0x207c83[_0x34d7c9(0x2bd)]){case _0x34d7c9(0x27e):return await this[_0x34d7c9(0x7e6)](_0x207c83,_0x24ff87);case _0x34d7c9(0x337):return await this[_0x34d7c9(0x246)](_0x207c83,_0x24ff87);case'audio':return await this[_0x34d7c9(0x553)](_0x207c83,_0x24ff87);case _0x34d7c9(0x3f5):let _0x203c40=new _e();return _0x203c40[_0x34d7c9(0x69a)]=_0x207c83[_0x34d7c9(0x347)],_0x203c40['remoteJid']=_0x24ff87,await this[_0x34d7c9(0x7d6)](_0x203c40);break;default:return this['logger'][_0x34d7c9(0x6f1)](this[_0x34d7c9(0x554)]+'\x20('+this['instance']['wuid']+_0x34d7c9(0x360)+_0x207c83[_0x34d7c9(0x2bd)]),{'error':!0x0,'detail':_0x34d7c9(0x196)};}}catch(_0xeaf07a){return this[_0x34d7c9(0x780)]['error'](this[_0x34d7c9(0x554)]+'\x20('+this[_0x34d7c9(0x362)][_0x34d7c9(0x43f)]+_0x34d7c9(0x6a1)+(_0xeaf07a instanceof Error?_0xeaf07a[_0x34d7c9(0x638)]:JSON[_0x34d7c9(0x463)](_0xeaf07a,null,0x2))),{'error':!0x0,'detail':_0xeaf07a[_0x34d7c9(0x638)]};}}[a0_0x28b734(0x333)](_0x4a68e4){const _0x4b5074=a0_0x28b734;let _0x280b38=_0x4a68e4[_0x4b5074(0x5ac)]('|'),_0x53ff2a=Math[_0x4b5074(0x56e)](Math[_0x4b5074(0x576)]()*_0x280b38['length']);return _0x280b38[_0x53ff2a][_0x4b5074(0x68b)]();}async[a0_0x28b734(0x7e6)](_0x4b04f6,_0x540a85){const _0x3e9381=a0_0x28b734;if(this['logger'][_0x3e9381(0x62f)](this[_0x3e9381(0x554)]+'\x20('+this['instance'][_0x3e9381(0x43f)]+_0x3e9381(0x1e8)),!_0x4b04f6[_0x3e9381(0x638)][_0x3e9381(0x27e)]||_0x4b04f6[_0x3e9381(0x638)][_0x3e9381(0x27e)][_0x3e9381(0x2f0)]===0x0)return{'error':!0x0,'detail':_0x3e9381(0x41e)};let _0x20f739=this[_0x3e9381(0x333)](_0x4b04f6[_0x3e9381(0x638)]['text']),_0x2e4c6e=await this[_0x3e9381(0x1f2)](_0x20f739,_0x540a85),_0x515c0a={'number':_0x540a85,'options':{'delay':_0x4b04f6[_0x3e9381(0x638)]['delay']},'textMessage':{'text':_0x2e4c6e}},_0x1194db=null;try{let _0x2efbe6=await this[_0x3e9381(0x5be)](_0x515c0a);if(_0x2efbe6&&_0x2efbe6[_0x3e9381(0x6e9)])return{'error':!0x1,'id':_0x2efbe6['key']['id']};_0x1194db=JSON['stringify'](_0x2efbe6),this[_0x3e9381(0x780)][_0x3e9381(0x62f)](this[_0x3e9381(0x554)]+'\x20('+this[_0x3e9381(0x362)][_0x3e9381(0x43f)]+'):\x20'+_0x1194db);}catch(_0x5ad507){this[_0x3e9381(0x780)][_0x3e9381(0x6f1)](this[_0x3e9381(0x554)]+'\x20('+this[_0x3e9381(0x362)]['wuid']+_0x3e9381(0x72e)+(_0x5ad507 instanceof Error?_0x5ad507[_0x3e9381(0x638)]:JSON[_0x3e9381(0x463)](_0x5ad507,null,0x2))),_0x1194db=_0x5ad507[_0x3e9381(0x638)];}if(_0x1194db)return{'error':!0x0,'detail':(typeof _0x1194db==_0x3e9381(0x7c0)?JSON[_0x3e9381(0x463)](_0x1194db,null,0x2):_0x1194db)[_0x3e9381(0x7c4)](/[\[\]{}\n]/g,'\x20')[_0x3e9381(0x7c4)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x4d697b,_0x5de267){const _0x28e232=a0_0x28b734;this[_0x28e232(0x780)][_0x28e232(0x62f)](this['instanceName']+'\x20('+this[_0x28e232(0x362)]['wuid']+_0x28e232(0x658));let _0xb8757d;if(_0x4d697b[_0x28e232(0x638)][_0x28e232(0x27e)]&&_0x4d697b[_0x28e232(0x638)][_0x28e232(0x27e)][_0x28e232(0x2f0)]>0x0){let _0xd76886=this[_0x28e232(0x333)](_0x4d697b[_0x28e232(0x638)][_0x28e232(0x27e)]);_0xb8757d=await this[_0x28e232(0x1f2)](_0xd76886,_0x5de267);}let _0x439cdd={'number':_0x5de267,'options':{'delay':_0x4d697b[_0x28e232(0x638)][_0x28e232(0x4cb)]},'mediaMessage':{'mediatype':_0x4d697b[_0x28e232(0x638)][_0x28e232(0x51d)],'caption':_0xb8757d,'media':_0x4d697b[_0x28e232(0x638)][_0x28e232(0x39a)]}},_0x241b70=null;try{let _0x291820=await this[_0x28e232(0x514)](_0x439cdd);if(_0x291820&&_0x291820[_0x28e232(0x6e9)])return{'error':!0x1,'id':_0x291820[_0x28e232(0x670)]['id']};_0x241b70=JSON[_0x28e232(0x463)](_0x291820),this[_0x28e232(0x780)]['verbose'](this['instanceName']+'\x20('+this[_0x28e232(0x362)][_0x28e232(0x43f)]+_0x28e232(0x1b5)+_0x241b70);}catch(_0x1e50e3){this['logger'][_0x28e232(0x6f1)](this[_0x28e232(0x554)]+'\x20('+this[_0x28e232(0x362)][_0x28e232(0x43f)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x1e50e3 instanceof Error?_0x1e50e3[_0x28e232(0x638)]:JSON[_0x28e232(0x463)](_0x1e50e3,null,0x2))),_0x241b70=_0x1e50e3[_0x28e232(0x638)];}if(_0x241b70)return{'error':!0x0,'detail':(typeof _0x241b70=='object'?JSON[_0x28e232(0x463)](_0x241b70,null,0x2):_0x241b70)[_0x28e232(0x7c4)](/[\[\]{}\n]/g,'\x20')[_0x28e232(0x7c4)](/  +/g,'\x20')};}async[a0_0x28b734(0x553)](_0x4358fb,_0x3ff7ba){const _0x1bd29c=a0_0x28b734;this[_0x1bd29c(0x780)]['verbose'](this[_0x1bd29c(0x554)]+'\x20('+this[_0x1bd29c(0x362)][_0x1bd29c(0x43f)]+_0x1bd29c(0x6cf));let _0x268ab2={'number':_0x3ff7ba,'options':{'delay':_0x4358fb[_0x1bd29c(0x638)][_0x1bd29c(0x4cb)]},'audioMessage':{'audio':_0x4358fb[_0x1bd29c(0x638)]['urlOrBase64']}},_0x1917e1=null;try{let _0x1773f7=await this['audioWhatsapp'](_0x268ab2);if(_0x1773f7&&_0x1773f7[_0x1bd29c(0x6e9)])return{'error':!0x1,'id':_0x1773f7[_0x1bd29c(0x670)]['id']};_0x1917e1=JSON['stringify'](_0x1773f7),this[_0x1bd29c(0x780)][_0x1bd29c(0x62f)](this[_0x1bd29c(0x554)]+'\x20('+this['instance'][_0x1bd29c(0x43f)]+_0x1bd29c(0x1b5)+_0x1917e1);}catch(_0x8200f7){this[_0x1bd29c(0x780)][_0x1bd29c(0x6f1)](this[_0x1bd29c(0x554)]+'\x20('+this['instance']['wuid']+_0x1bd29c(0x4d0)+(_0x8200f7 instanceof Error?_0x8200f7[_0x1bd29c(0x638)]:JSON[_0x1bd29c(0x463)](_0x8200f7,null,0x2))),_0x1917e1=_0x8200f7[_0x1bd29c(0x638)];}if(_0x1917e1)return{'error':!0x0,'detail':(typeof _0x1917e1==_0x1bd29c(0x7c0)?JSON[_0x1bd29c(0x463)](_0x1917e1,null,0x2):_0x1917e1)[_0x1bd29c(0x7c4)](/[\[\]{}\n]/g,'\x20')[_0x1bd29c(0x7c4)](/  +/g,'\x20')};}},$t=class c{constructor(_0x40b36c,_0x2498e0,_0x26cad2){const _0x280c70=a0_0x28b734;this['eventEmitter']=_0x40b36c,this[_0x280c70(0x78a)]=_0x2498e0,this['repository']=_0x26cad2,this['db']={},this['redis']={},this[_0x280c70(0x780)]=new v(c[_0x280c70(0x69a)]),this[_0x280c70(0x410)]={},(this[_0x280c70(0x2d5)](),this[_0x280c70(0x1be)](),Object['assign'](this['db'],_0x2498e0[_0x280c70(0x238)](_0x280c70(0x64b))),Object[_0x280c70(0x81f)](this['redis'],_0x2498e0['get'](_0x280c70(0x442))),this[_0x280c70(0x3ed)]=this['db'][_0x280c70(0x7d2)]?this[_0x280c70(0x769)][_0x280c70(0x741)]?.['db'](this['db'][_0x280c70(0x81b)][_0x280c70(0x804)]+'-instances'):void 0x0,this['cache']=this['redis']['ENABLED']?new re(this[_0x280c70(0x6a4)]):void 0x0);}async[a0_0x28b734(0x545)](_0x382a36){const _0x24193a=a0_0x28b734;if(_0x382a36&&!this[_0x24193a(0x410)][_0x382a36])throw new k(_0x24193a(0x477)+_0x382a36+_0x24193a(0x547));let _0x5479fe=[];for await(let [_0x5c6711,_0x42383c]of Object[_0x24193a(0x2b5)](this[_0x24193a(0x410)]))if(_0x42383c&&_0x42383c['connectionStatus'][_0x24193a(0x44d)]===_0x24193a(0x428)){let _0x4d4b0f=await this[_0x24193a(0x769)][_0x24193a(0x445)][_0x24193a(0x79e)](_0x5c6711);_0x5479fe['push']({'instance':{'instanceName':_0x5c6711,'apikey':_0x4d4b0f[_0x24193a(0x384)],'owner':_0x42383c[_0x24193a(0x43f)],'profileName':await _0x42383c['getProfileName']()||_0x24193a(0x735),'profilePictureUrl':_0x42383c[_0x24193a(0x265)]}});}return _0x5479fe[_0x24193a(0x79e)](_0x1202ad=>_0x1202ad[_0x24193a(0x362)][_0x24193a(0x554)]===_0x382a36)??_0x5479fe;}async['cleaningUp'](_0x3d0fd2){const _0x13cdaf=a0_0x28b734;if(this['db'][_0x13cdaf(0x7d2)]&&(await this['repository']['dbServer'][_0x13cdaf(0x61d)](),(await this[_0x13cdaf(0x3ed)][_0x13cdaf(0x748)]())[_0x13cdaf(0x2f0)]>0x0&&await this[_0x13cdaf(0x3ed)][_0x13cdaf(0x31c)](_0x3d0fd2)),this['redis'][_0x13cdaf(0x7d2)]){this[_0x13cdaf(0x807)][_0x13cdaf(0x7ad)]=_0x3d0fd2,await this[_0x13cdaf(0x807)][_0x13cdaf(0x2cf)]();return;}}async[a0_0x28b734(0x33c)](){const _0x5dfacb=a0_0x28b734;await this['InstancesAlterarTodas']();let _0x2a2547=async _0x1017ab=>{const _0xf179a3=a0_0x4163;let _0xe0e0b6=new ye(this[_0xf179a3(0x78a)],this['eventEmitter'],this[_0xf179a3(0x769)]);_0xe0e0b6[_0xf179a3(0x554)]=_0x1017ab,await _0xe0e0b6[_0xf179a3(0x5c4)](),this[_0xf179a3(0x410)][_0x1017ab]=_0xe0e0b6;};try{if(this[_0x5dfacb(0x6a4)][_0x5dfacb(0x7d2)]){let _0x37202e=await this[_0x5dfacb(0x807)][_0x5dfacb(0x6f7)]();_0x37202e?.['length']>0x0&&_0x37202e[_0x5dfacb(0x757)](async _0x4de62f=>await _0x2a2547(_0x4de62f['split'](':')[0x1]));return;}if(this['db']['ENABLED']){await this[_0x5dfacb(0x769)][_0x5dfacb(0x741)]['connect']();let _0x2127c4=await this[_0x5dfacb(0x3ed)][_0x5dfacb(0x748)]();_0x2127c4[_0x5dfacb(0x2f0)]>0x0&&_0x2127c4[_0x5dfacb(0x757)](async _0x2e067c=>await _0x2a2547(_0x2e067c['namespace']['replace'](/^[\w-]+\./,'')));return;}}catch(_0x580d7f){this[_0x5dfacb(0x780)][_0x5dfacb(0x6f1)](_0x580d7f);}}async[a0_0x28b734(0x36d)](){const _0x3a1b83=a0_0x28b734;let _0x56b75f=await this['repository'][_0x3a1b83(0x445)][_0x3a1b83(0x711)](),_0x3585f9=_0x56b75f[_0x3a1b83(0x4d5)](_0x5c81f4=>!this[_0x3a1b83(0x410)][_0x5c81f4['_id']]&&(_0x5c81f4[_0x3a1b83(0x367)]||typeof _0x5c81f4['online']>'u'));_0x3585f9[_0x3a1b83(0x2f0)]>0x0&&await Promise['all'](_0x3585f9['map'](async _0x53a42e=>{const _0x35aca2=_0x3a1b83;let _0x49075a={'online':!0x1,'lastDisconnect':Date[_0x35aca2(0x420)]()};await this[_0x35aca2(0x769)][_0x35aca2(0x445)][_0x35aca2(0x690)](_0x49075a,_0x53a42e[_0x35aca2(0x4fb)]);}));let _0x1c838e=Date['now']()-0xa*0x18*0x3c*0x3c*0x3e8,_0x5517d3=_0x56b75f[_0x3a1b83(0x4d5)](_0x1bbb77=>!this[_0x3a1b83(0x410)][_0x1bbb77['_id']]&&typeof _0x1bbb77[_0x3a1b83(0x522)]<'u'&&_0x1bbb77['lastDisconnect']<_0x1c838e);_0x5517d3[_0x3a1b83(0x2f0)]>0x0&&await Promise[_0x3a1b83(0x600)](_0x5517d3[_0x3a1b83(0x7df)](async _0x35892a=>{}));}async[a0_0x28b734(0x691)](){const _0x38d8ad=a0_0x28b734;try{let _0x1d52c1={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x1071a6={'online':!0x1,'lastDisconnect':Date['now']()},_0x5c1ad7=await this[_0x38d8ad(0x769)][_0x38d8ad(0x445)][_0x38d8ad(0x6d3)](_0x1d52c1,_0x1071a6);console[_0x38d8ad(0x38a)](_0x38d8ad(0x357)+_0x5c1ad7[_0x38d8ad(0x229)]),await this[_0x38d8ad(0x3f6)]();}catch(_0x4cf35b){console[_0x38d8ad(0x6f1)](_0x38d8ad(0x1b2),_0x4cf35b);}}async['removeOlderDisconnectedInstances'](){const _0x4da5b1=a0_0x28b734;try{let _0x4929e6={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x5c7489=await this[_0x4da5b1(0x769)][_0x4da5b1(0x445)][_0x4da5b1(0x607)](_0x4929e6);console['log']('Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20'+_0x5c7489[_0x4da5b1(0x229)]);}catch(_0x3a203f){console[_0x4da5b1(0x6f1)](_0x4da5b1(0x2d0),_0x3a203f);}}[a0_0x28b734(0x2d5)](){const _0x23d939=a0_0x28b734;this[_0x23d939(0x422)]['on'](_0x23d939(0x54a),async _0x4611f6=>{const _0x2075dd=_0x23d939;try{this[_0x2075dd(0x410)][_0x4611f6]=void 0x0;}catch{}try{this['cleaningUp'](_0x4611f6);}finally{this[_0x2075dd(0x780)][_0x2075dd(0x272)](_0x2075dd(0x477)+_0x4611f6+_0x2075dd(0x7f6));}});}['noConnection'](){const _0x2e5d9b=a0_0x28b734;this[_0x2e5d9b(0x422)]['on'](_0x2e5d9b(0x641),async _0x113191=>{const _0x45c274=_0x2e5d9b;try{this['waInstances'][_0x113191]=void 0x0;}catch{}try{this[_0x45c274(0x394)](_0x113191);}finally{this['logger'][_0x45c274(0x272)](_0x45c274(0x477)+_0x113191+_0x45c274(0x35c));}});}},kt=class extends x{[a0_0x28b734(0x328)](_0x500bb9){return Vs(_0x500bb9);}async[a0_0x28b734(0x7a8)](_0x53950e){const _0x120ac8=a0_0x28b734;if(_0x53950e[_0x120ac8(0x2f0)]!==0x0)try{return{'insertCount':(await this[_0x120ac8(0x328)](_0x53950e[0x0][_0x120ac8(0x2e5)])[_0x120ac8(0x652)]([..._0x53950e]))[_0x120ac8(0x2f0)]};}catch(_0xe184ab){return _0xe184ab;}}async[a0_0x28b734(0x79e)](_0x2cdabe,_0x48dfb9){const _0x5dd96c=a0_0x28b734;try{let _0x20fcf2=this[_0x5dd96c(0x328)](_0x48dfb9),_0x2f06e2=A(_0x2cdabe['where']);return await _0x20fcf2[_0x5dd96c(0x79e)](_0x2f06e2)[_0x5dd96c(0x447)]({'lastmsg':-0x1})[_0x5dd96c(0x3fa)](_0x2cdabe?.[_0x5dd96c(0x3fa)]??0x0)['lean']();}catch{return[];}}async[a0_0x28b734(0x2d1)](_0x297117,_0x4e1b38){const _0x1a8f19=a0_0x28b734;try{return await this[_0x1a8f19(0x328)](_0x4e1b38)[_0x1a8f19(0x607)]({..._0x297117[_0x1a8f19(0x6da)]}),[];}catch(_0x1ee113){return{'error':_0x1ee113?.[_0x1a8f19(0x448)]()};}}async['findOne'](_0x2f7862,_0x483d7b){const _0x306f8f=a0_0x28b734;try{let _0xc6777a=this[_0x306f8f(0x328)](_0x483d7b),_0x1f9c1c=A(_0x2f7862[_0x306f8f(0x6da)]);return await _0xc6777a['findOne'](_0x1f9c1c)[_0x306f8f(0x78c)]();}catch{return null;}}async['updateOne'](_0x502cee,_0xe69888,_0x20357e,_0x397d70,_0x28fa08=a0_0x28b734(0x2ff)){const _0x264f78=a0_0x28b734;try{let _0x4bf502={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x397d70},_0x1c6983=this[_0x264f78(0x328)](_0x20357e),_0x1e8b07=A(_0x502cee[_0x264f78(0x6da)]);Object[_0x264f78(0x732)](_0xe69888)[_0x264f78(0x757)](_0x3948d2=>{_0xe69888[_0x3948d2]==null&&delete _0xe69888[_0x3948d2];});let _0x433ac1={};return _0x433ac1[_0x28fa08]=_0xe69888,await _0x1c6983['findOneAndUpdate'](_0x1e8b07,_0x433ac1,_0x4bf502);}catch(_0x558a33){return console[_0x264f78(0x6f1)](_0x558a33),null;}}async['updateMany'](_0x1a9418){const _0x1554b=a0_0x28b734;try{let _0x3f5c86=this[_0x1554b(0x328)](_0x1a9418[0x0][_0x1554b(0x1ae)][_0x1554b(0x6da)][_0x1554b(0x2e5)]),_0x42bd9c=_0x1a9418['map'](_0x1432e3=>({'updateOne':{'filter':{..._0x1432e3[_0x1554b(0x1ae)][_0x1554b(0x6da)]},'update':{'$set':_0x1432e3[_0x1554b(0x19a)]},'upsert':!0x0}})),_0x284958=await _0x3f5c86[_0x1554b(0x71e)](_0x42bd9c);return _0x284958[_0x1554b(0x36b)]+_0x284958[_0x1554b(0x5fa)];}catch(_0x34fb81){return console[_0x1554b(0x6f1)](_0x34fb81),0x0;}}async['updateMissingLabels'](_0x407c0e){const _0x1aefae=a0_0x28b734;try{let _0x5e2282=this[_0x1aefae(0x328)](_0x407c0e),_0x5f4450={'labels':{'$exists':!0x0}},_0xdb736f={'$unset':{'labels':''}};return(await _0x5e2282[_0x1aefae(0x7e9)](_0x5f4450,_0xdb736f))['modifiedCount'];}catch(_0xf5b81){return console['error'](_0xf5b81),0x0;}}async['updateMissingEtiquetas'](_0x1d9c83){const _0x2e8def=a0_0x28b734;try{let _0x453ee8=this[_0x2e8def(0x328)](_0x1d9c83),_0x433198={'leadInfo.etiquetas':{'$exists':!0x1}},_0x292595={'$set':{'leadInfo.etiquetas':[]}};return(await _0x453ee8['updateMany'](_0x433198,_0x292595))[_0x2e8def(0x36b)];}catch(_0x48acc7){return console[_0x2e8def(0x6f1)](_0x48acc7),0x0;}}async['updateMissingTags'](_0x299a65){const _0x4114a3=a0_0x28b734;try{let _0x326578=this['getChatModelForOwner'](_0x299a65),_0x337b56={'leadInfo.tags':{'$exists':!0x1}},_0x31ff6e={'$set':{'leadInfo.tags':[]}};return(await _0x326578['updateMany'](_0x337b56,_0x31ff6e))[_0x4114a3(0x36b)];}catch(_0x36a964){return console[_0x4114a3(0x6f1)](_0x36a964),0x0;}}async[a0_0x28b734(0x432)](_0x7f584a){const _0x34549e=a0_0x28b734;try{let _0x1a4793=this['getChatModelForOwner'](_0x7f584a),_0x5057ee={'leadInfo.customFields':{'$exists':!0x1}},_0x38da25={'$set':{'leadInfo.customFields':[]}};return(await _0x1a4793['updateMany'](_0x5057ee,_0x38da25))[_0x34549e(0x36b)];}catch(_0x1fb2f4){return console[_0x34549e(0x6f1)](_0x1fb2f4),0x0;}}async[a0_0x28b734(0x652)](_0x320302,_0x3a5425){const _0x12ad59=a0_0x28b734;if(!Array['isArray'](_0x320302)||_0x320302[_0x12ad59(0x2f0)]===0x0)throw new Error(_0x12ad59(0x470));try{return(await this[_0x12ad59(0x328)](_0x3a5425)[_0x12ad59(0x652)](_0x320302))[_0x12ad59(0x2f0)];}catch(_0x2e939d){throw console[_0x12ad59(0x6f1)](_0x12ad59(0x7b8),_0x2e939d),_0x2e939d;}}async['deleteChat'](_0x440ef5,_0x207b37){const _0x235495=a0_0x28b734;try{await this[_0x235495(0x328)](_0x207b37)[_0x235495(0x71c)]({'_id':_0x440ef5});}catch(_0x6425ad){throw console[_0x235495(0x6f1)](_0x235495(0x4a1),_0x6425ad),_0x6425ad;}}},Lt=class extends x{[a0_0x28b734(0x557)](_0xdca958){return ha(_0xdca958);}async['updateOne'](_0x4925d4,_0x599135,_0x5a7df5,_0x4e26b7){const _0x4662bc=a0_0x28b734;try{let _0x11fe06={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x4e26b7},_0x4d7b4f=this['getLabelModelForOwner'](_0x5a7df5),_0x118845=A(_0x4925d4[_0x4662bc(0x6da)]);return await _0x4d7b4f[_0x4662bc(0x724)](_0x118845,{'$set':_0x599135},_0x11fe06);}catch(_0x304e4f){return console[_0x4662bc(0x6f1)](_0x304e4f),null;}}async[a0_0x28b734(0x79e)](_0x506627,_0xdc1147){const _0x270637=a0_0x28b734;try{let _0x11b1b1=this[_0x270637(0x557)](_0xdc1147),_0x540242=A(_0x506627[_0x270637(0x6da)]);return await _0x11b1b1[_0x270637(0x79e)](_0x540242);}catch(_0x11b073){console[_0x270637(0x6f1)](_0x11b073);}}async[a0_0x28b734(0x606)](_0x5836a7,_0x45155b){const _0x44d61b=a0_0x28b734;try{let _0x2f83da=this[_0x44d61b(0x557)](_0x45155b),_0x30ab31=A(_0x5836a7[_0x44d61b(0x6da)]);await _0x2f83da[_0x44d61b(0x607)](_0x30ab31);}catch(_0x4a1fcb){console[_0x44d61b(0x6f1)](_0x4a1fcb);}}async['deleteAll'](_0x2ce86e){const _0x2b2f72=a0_0x28b734;try{return await this[_0x2b2f72(0x557)](_0x2ce86e)['collection'][_0x2b2f72(0x597)](),{'success':!0x0};}catch(_0x167c2a){return console[_0x2b2f72(0x6f1)](_0x167c2a),{'success':!0x1,'error':_0x167c2a};}}},Ft=class{constructor(_0x566585){const _0x2a9be5=a0_0x28b734;this[_0x2a9be5(0x502)]=_0x566585;}async[a0_0x28b734(0x1f5)]({instanceName:_0x4ea4d3},_0x346b48){const _0x4c3291=a0_0x28b734;return await this[_0x4c3291(0x502)]['waInstances'][_0x4ea4d3][_0x4c3291(0x1f5)](_0x346b48);}async[a0_0x28b734(0x4a7)]({instanceName:_0x21c629},_0x2becb7){const _0x9baaef=a0_0x28b734;return await this[_0x9baaef(0x502)][_0x9baaef(0x410)][_0x21c629][_0x9baaef(0x4a7)](_0x2becb7);}async[a0_0x28b734(0x4f1)]({instanceName:_0x20e4ea},_0x26c2e1){const _0x54a3c2=a0_0x28b734;return await this[_0x54a3c2(0x502)]['waInstances'][_0x20e4ea][_0x54a3c2(0x4f1)](_0x26c2e1);}async[a0_0x28b734(0x7a5)]({instanceName:_0x2727ef},_0x3bba47){const _0x35bf15=a0_0x28b734;return await this['waMonitor'][_0x35bf15(0x410)][_0x2727ef][_0x35bf15(0x5cd)](_0x3bba47);}async[a0_0x28b734(0x49d)]({instanceName:_0x4cd12e},_0x273159){const _0x5ddd31=a0_0x28b734;return await this[_0x5ddd31(0x502)][_0x5ddd31(0x410)][_0x4cd12e]['archiveChat'](_0x273159);}async[a0_0x28b734(0x7a1)]({instanceName:_0x4a1e13},_0x2aec85){const _0x29f842=a0_0x28b734;return await this[_0x29f842(0x502)][_0x29f842(0x410)][_0x4a1e13][_0x29f842(0x7a1)](_0x2aec85);}async[a0_0x28b734(0x1d4)]({instanceName:_0x597317},_0x744658){const _0x9793f0=a0_0x28b734;return await this[_0x9793f0(0x502)][_0x9793f0(0x410)][_0x597317][_0x9793f0(0x24e)](_0x744658[_0x9793f0(0x517)]);}async[a0_0x28b734(0x677)]({instanceName:_0xc0601},_0x3f0183){const _0x467206=a0_0x28b734;return await this[_0x467206(0x502)]['waInstances'][_0xc0601][_0x467206(0x677)](_0x3f0183['number']);}async['updatePresence']({instanceName:_0x1e9eaa},_0x42c332){const _0x3cc7b6=a0_0x28b734;return await this['waMonitor'][_0x3cc7b6(0x410)][_0x1e9eaa]['updatePresence'](_0x42c332);}async['fetchContacts']({instanceName:_0x11a8df},_0x466318){const _0xa7980a=a0_0x28b734;return await this[_0xa7980a(0x502)][_0xa7980a(0x410)][_0x11a8df][_0xa7980a(0x592)](_0x466318);}async[a0_0x28b734(0x55b)]({instanceName:_0x4748c2},_0x5e654f){const _0x3589e3=a0_0x28b734;return await this['waMonitor'][_0x3589e3(0x410)][_0x4748c2][_0x3589e3(0x55b)](_0x5e654f);}async['fetchMessages']({instanceName:_0x36b031},_0x5304d9){const _0x37fd9c=a0_0x28b734;return await this[_0x37fd9c(0x502)][_0x37fd9c(0x410)][_0x36b031][_0x37fd9c(0x7b7)](_0x5304d9);}async['fetchLabels']({instanceName:_0x264914}){const _0x69fb1d=a0_0x28b734;return await this[_0x69fb1d(0x502)][_0x69fb1d(0x410)][_0x264914][_0x69fb1d(0x2ca)]();}async['fetchChats']({instanceName:_0x2a59be}){const _0x1996db=a0_0x28b734;return await this['waMonitor']['waInstances'][_0x2a59be][_0x1996db(0x3c6)]();}async[a0_0x28b734(0x3a1)]({instanceName:_0x8466c8}){const _0x7a6248=a0_0x28b734;return await this[_0x7a6248(0x502)]['waInstances'][_0x8466c8]['fetchPrivacySettings']();}async[a0_0x28b734(0x636)]({instanceName:_0x32b906},_0x204bdc){const _0x13b2e3=a0_0x28b734;return await this['waMonitor']['waInstances'][_0x32b906][_0x13b2e3(0x636)](_0x204bdc);}async[a0_0x28b734(0x454)]({instanceName:_0x197e1a},_0x247189){const _0x177e6a=a0_0x28b734;return await this[_0x177e6a(0x502)][_0x177e6a(0x410)][_0x197e1a][_0x177e6a(0x454)](_0x247189[_0x177e6a(0x517)]);}async['updateProfileName']({instanceName:_0x5e760e},_0x527c77){const _0x349e94=a0_0x28b734;return await this[_0x349e94(0x502)][_0x349e94(0x410)][_0x5e760e][_0x349e94(0x23e)](_0x527c77[_0x349e94(0x69a)]);}async['updateProfileStatus']({instanceName:_0x470870},_0x42d1b8){const _0x3cbbe7=a0_0x28b734;return await this['waMonitor'][_0x3cbbe7(0x410)][_0x470870][_0x3cbbe7(0x501)](_0x42d1b8[_0x3cbbe7(0x6e9)]);}async[a0_0x28b734(0x47c)]({instanceName:_0x1cfc8b},_0x53821a){const _0x1a4fc4=a0_0x28b734;return await this[_0x1a4fc4(0x502)][_0x1a4fc4(0x410)][_0x1cfc8b][_0x1a4fc4(0x47c)](_0x53821a[_0x1a4fc4(0x2cc)]);}async[a0_0x28b734(0x19e)]({instanceName:_0x29408a},_0x3b3a88){const _0x42f354=a0_0x28b734;return await this[_0x42f354(0x502)][_0x42f354(0x410)][_0x29408a][_0x42f354(0x19e)]();}},Ts=require('@whiskeysockets/baileys'),jt=class c{constructor(_0x4eb370,_0x5e36f9,_0x3006b0,_0x306a3d,_0x28b94d){const _0x35d48c=a0_0x28b734;this['waMonitor']=_0x4eb370,this[_0x35d48c(0x78a)]=_0x5e36f9,this[_0x35d48c(0x769)]=_0x3006b0,this[_0x35d48c(0x422)]=_0x306a3d,this[_0x35d48c(0x747)]=_0x28b94d,this[_0x35d48c(0x780)]=new v(c[_0x35d48c(0x69a)]);}async[a0_0x28b734(0x2da)]({instanceName:_0x3ce8f7,apikey:_0xfd3b6b,number:_0x394cf1,proxy:_0xf272e9=!0x0}){const _0x2542eb=a0_0x28b734;try{let _0x5dd5bc=new ye(this[_0x2542eb(0x78a)],this['eventEmitter'],this[_0x2542eb(0x769)]);_0x5dd5bc[_0x2542eb(0x554)]=_0x3ce8f7,this[_0x2542eb(0x502)][_0x2542eb(0x410)][_0x5dd5bc[_0x2542eb(0x554)]]=_0x5dd5bc;let _0x8513d1={};_0xfd3b6b?(await this['repository'][_0x2542eb(0x445)][_0x2542eb(0x690)]({'apikey':_0xfd3b6b},_0x3ce8f7),_0x8513d1['apikey']=_0xfd3b6b):_0x8513d1=await this['authService'][_0x2542eb(0x615)]({'instanceName':_0x5dd5bc['instanceName']});let _0x4c1f59;return await _0x5dd5bc[_0x2542eb(0x5c4)](_0x394cf1),await(0x0,Ts[_0x2542eb(0x4cb)])(0x7d0),_0x4c1f59=_0x5dd5bc[_0x2542eb(0x5e4)],{'instance':{'instanceName':_0x5dd5bc[_0x2542eb(0x554)],'status':_0x2542eb(0x556)},'hash':_0x8513d1,'qrcode':_0x4c1f59};}catch(_0x11a0b1){this['logger'][_0x2542eb(0x6f1)](_0x11a0b1);}}async[a0_0x28b734(0x788)]({instanceName:_0x357ef3,number:_0x15fa58=null}){const _0x1df2bd=a0_0x28b734;try{let _0x184dc6=this[_0x1df2bd(0x502)][_0x1df2bd(0x410)][_0x357ef3];switch(_0x184dc6?.[_0x1df2bd(0x57c)]?.[_0x1df2bd(0x44d)]){case'close':return await _0x184dc6[_0x1df2bd(0x5c4)](_0x15fa58),await(0x0,Ts['delay'])(0x7d0),_0x184dc6['qrCode'];case _0x1df2bd(0x5cc):return _0x184dc6['qrCode'];default:return await this[_0x1df2bd(0x692)]({'instanceName':_0x357ef3});}}catch(_0x4839f6){this['logger'][_0x1df2bd(0x38a)](_0x4839f6);}}async[a0_0x28b734(0x692)]({instanceName:_0x51d082}){const _0x53c80d=a0_0x28b734;let _0x708a17=this[_0x53c80d(0x502)][_0x53c80d(0x410)][_0x51d082]['connectionStatus'],_0x2bb872=null;_0x708a17[_0x53c80d(0x44d)]==='open'&&_0x51d082&&(_0x2bb872=await this[_0x53c80d(0x502)]['instanceInfo'](_0x51d082));let _0x1a4f5e=null;return _0x708a17['state']===_0x53c80d(0x5cc)&&_0x51d082&&(_0x1a4f5e=this[_0x53c80d(0x502)][_0x53c80d(0x410)][_0x51d082][_0x53c80d(0x5e4)]),{'instance':_0x51d082,'connectionStatus':_0x708a17,'instanceInfo':_0x2bb872,'qrcode':_0x1a4f5e};}async[a0_0x28b734(0x637)]({instanceName:_0x4718ae}){const _0x1df7e3=a0_0x28b734;try{return this[_0x1df7e3(0x502)][_0x1df7e3(0x410)][_0x4718ae]?.['client']?.['ws']?.[_0x1df7e3(0x5f4)](),{'status':_0x1df7e3(0x601),'error':!0x1,'response':{'message':_0x1df7e3(0x206)}};}catch(_0x438cf4){this[_0x1df7e3(0x780)]['error'](_0x438cf4);}}async['fetchInstances']({instanceName:_0x58a14b}){const _0x583e40=a0_0x28b734;return _0x58a14b?this[_0x583e40(0x502)]['instanceInfo'](_0x58a14b):this[_0x583e40(0x502)][_0x583e40(0x545)]();}async[a0_0x28b734(0x416)]({instanceName:_0x1b7459}){const _0x2cb929=a0_0x28b734;try{return await this[_0x2cb929(0x502)][_0x2cb929(0x410)][_0x1b7459]?.[_0x2cb929(0x395)]?.[_0x2cb929(0x416)](_0x2cb929(0x793)+_0x1b7459),{'error':!0x1,'message':_0x2cb929(0x518)};}catch(_0x5a9f6f){throw new I(_0x5a9f6f[_0x2cb929(0x448)]());}}async[a0_0x28b734(0x68f)]({instanceName:_0xcad2f2}){const _0x1645f4=a0_0x28b734;if((await this['connectionState']({'instanceName':_0xcad2f2}))[_0x1645f4(0x57c)]['state']===_0x1645f4(0x428))throw new w([_0x1645f4(0x6dc),'The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this['waMonitor']['waInstances'][_0xcad2f2],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x466834){throw new w(_0x466834['toString']());}}},X=require('class-validator'),Ut=class{constructor(_0xdc6195){const _0x2fd798=a0_0x28b734;this[_0x2fd798(0x502)]=_0xdc6195;}async[a0_0x28b734(0x562)]({instanceName:_0x2b25cd},_0x2181ed){const _0x4cc334=a0_0x28b734;return await this[_0x4cc334(0x502)][_0x4cc334(0x410)][_0x2b25cd]['textMessage'](_0x2181ed);}async[a0_0x28b734(0x1f7)]({instanceName:_0x71353e},_0x526426){const _0x13147e=a0_0x28b734;return await this['waMonitor'][_0x13147e(0x410)][_0x71353e][_0x13147e(0x716)](_0x526426);}async[a0_0x28b734(0x772)]({instanceName:_0x1b11ff},_0x2dff98){const _0x412a9d=a0_0x28b734;if((0x0,X[_0x412a9d(0x1e2)])(_0x2dff98?.[_0x412a9d(0x514)]?.[_0x412a9d(0x337)])&&!_0x2dff98?.[_0x412a9d(0x514)]?.[_0x412a9d(0x382)])throw new w(_0x412a9d(0x4fa));if((0x0,X[_0x412a9d(0x6a5)])(_0x2dff98?.[_0x412a9d(0x514)]?.[_0x412a9d(0x337)])||(0x0,X[_0x412a9d(0x1e2)])(_0x2dff98?.[_0x412a9d(0x514)]?.[_0x412a9d(0x337)]))return await this[_0x412a9d(0x502)]['waInstances'][_0x1b11ff][_0x412a9d(0x514)](_0x2dff98);throw new w(_0x412a9d(0x190));}async[a0_0x28b734(0x63b)]({instanceName:_0x44503b},_0x2ea15e){const _0x363cb6=a0_0x28b734;if((0x0,X[_0x363cb6(0x6a5)])(_0x2ea15e[_0x363cb6(0x2f6)]['image'])||(0x0,X[_0x363cb6(0x1e2)])(_0x2ea15e[_0x363cb6(0x2f6)][_0x363cb6(0x24c)]))return await this[_0x363cb6(0x502)][_0x363cb6(0x410)][_0x44503b][_0x363cb6(0x6d0)](_0x2ea15e);throw new w('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x28b734(0x515)]({instanceName:_0x26b41f},_0x39b8cc){const _0x39e604=a0_0x28b734;if((0x0,X[_0x39e604(0x6a5)])(_0x39b8cc['audioMessage'][_0x39e604(0x611)])||(0x0,X['isBase64'])(_0x39b8cc[_0x39e604(0x728)][_0x39e604(0x611)]))return await this[_0x39e604(0x502)][_0x39e604(0x410)][_0x26b41f][_0x39e604(0x4c3)](_0x39b8cc);throw new w('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x28b734(0x7a4)]({instanceName:_0x2f6901},_0x45e8e6){const _0x338500=a0_0x28b734;if((0x0,X[_0x338500(0x1e2)])(_0x45e8e6[_0x338500(0x456)][_0x338500(0x514)]?.[_0x338500(0x337)])&&!_0x45e8e6[_0x338500(0x456)][_0x338500(0x514)]?.[_0x338500(0x382)])throw new w(_0x338500(0x4fa));return await this[_0x338500(0x502)][_0x338500(0x410)][_0x2f6901][_0x338500(0x456)](_0x45e8e6);}async[a0_0x28b734(0x3d4)]({instanceName:_0x46e98f},_0x33ab08){const _0x12b453=a0_0x28b734;return await this[_0x12b453(0x502)][_0x12b453(0x410)][_0x46e98f][_0x12b453(0x3b6)](_0x33ab08);}async[a0_0x28b734(0x3a5)]({instanceName:_0x59d3da},_0x5a857a){const _0x25ad96=a0_0x28b734;return await this['waMonitor'][_0x25ad96(0x410)][_0x59d3da]['pollMessage'](_0x5a857a);}async[a0_0x28b734(0x3f0)]({instanceName:_0x29b27d},_0x51ed6e){const _0x5dc5c7=a0_0x28b734;return await this[_0x5dc5c7(0x502)]['waInstances'][_0x29b27d][_0x5dc5c7(0x55a)](_0x51ed6e);}async['sendContact']({instanceName:_0x32ea2b},_0x181b09){const _0x413dff=a0_0x28b734;return await this[_0x413dff(0x502)][_0x413dff(0x410)][_0x32ea2b][_0x413dff(0x1e6)](_0x181b09);}async[a0_0x28b734(0x219)]({instanceName:_0xcb3d1f},_0x4750a3){const _0x5db832=a0_0x28b734;if(!_0x4750a3[_0x5db832(0x3a0)][_0x5db832(0x3cf)][_0x5db832(0x42a)](/[^\(\)\w\sà-ú"-\+]+/))throw new w(_0x5db832(0x4ab));return await this['waMonitor'][_0x5db832(0x410)][_0xcb3d1f][_0x5db832(0x3a0)](_0x4750a3);}async[a0_0x28b734(0x509)]({instanceName:_0x438992},_0x2cdb01){const _0x5a41df=a0_0x28b734;return await this[_0x5a41df(0x502)][_0x5a41df(0x410)][_0x438992][_0x5a41df(0x247)](_0x2cdb01);}},Mr=require(a0_0x28b734(0x79a)),Os=require(a0_0x28b734(0x5ae)),qt=class c{constructor(_0x1286c1,_0x17f462,_0x2798b3){const _0x4018c8=a0_0x28b734;this[_0x4018c8(0x78a)]=_0x1286c1,this[_0x4018c8(0x502)]=_0x17f462,this['repository']=_0x2798b3,this[_0x4018c8(0x780)]=new v(c[_0x4018c8(0x69a)]);}async[a0_0x28b734(0x7fb)](_0x7257cc){const _0x3c9263=a0_0x28b734;let _0x133a59=this['configService'][_0x3c9263(0x238)](_0x3c9263(0x577))[_0x3c9263(0x7db)],_0x52aa64=(0x0,Mr[_0x3c9263(0x63c)])({'instanceName':_0x7257cc[_0x3c9263(0x554)],'apiName':He,'tokenId':(0x0,Os['v4'])()},_0x133a59[_0x3c9263(0x2ed)],{'expiresIn':_0x133a59[_0x3c9263(0x279)],'encoding':_0x3c9263(0x542),'subject':'g-t'}),_0x4a3866=await this[_0x3c9263(0x769)][_0x3c9263(0x445)][_0x3c9263(0x690)]({'jwt':_0x52aa64},_0x7257cc[_0x3c9263(0x554)]);if(_0x4a3866['error'])throw this[_0x3c9263(0x780)][_0x3c9263(0x6f1)]({'localError':c['name']+_0x3c9263(0x5e3),'error':_0x4a3866[_0x3c9263(0x6f1)]}),new w(_0x3c9263(0x6d7),_0x4a3866[_0x3c9263(0x6f1)]?.[_0x3c9263(0x448)]());return{'jwt':_0x52aa64};}async[a0_0x28b734(0x384)](_0x1886d7){const _0x242bbd=a0_0x28b734;let _0x562f3d=(0x0,Os['v4'])()[_0x242bbd(0x797)](),_0x275dea=await this[_0x242bbd(0x769)][_0x242bbd(0x445)][_0x242bbd(0x690)]({'apikey':_0x562f3d},_0x1886d7['instanceName']);if(_0x275dea['error'])throw this[_0x242bbd(0x780)][_0x242bbd(0x6f1)]({'localError':c[_0x242bbd(0x69a)]+_0x242bbd(0x5e3),'error':_0x275dea[_0x242bbd(0x6f1)]}),new w(_0x242bbd(0x6d7),_0x275dea[_0x242bbd(0x6f1)]?.['toString']());return{'apikey':_0x562f3d};}async[a0_0x28b734(0x615)](_0x46266a){const _0x523812=a0_0x28b734;let _0x2cd2ca=this[_0x523812(0x78a)][_0x523812(0x238)](_0x523812(0x577));return await this[_0x2cd2ca[_0x523812(0x226)]](_0x46266a);}},Jt=class{constructor(_0xb37d46){const _0x33eb0f=a0_0x28b734;this[_0x33eb0f(0x502)]=_0xb37d46;}async[a0_0x28b734(0x495)](_0x2de1d5,_0x1f5903){const _0x30b554=a0_0x28b734;return await this[_0x30b554(0x502)][_0x30b554(0x410)][_0x2de1d5['instanceName']][_0x30b554(0x495)](_0x1f5903);}async[a0_0x28b734(0x66a)](_0x272910,_0x1e7b8d){const _0x3dd3fb=a0_0x28b734;return await this[_0x3dd3fb(0x502)][_0x3dd3fb(0x410)][_0x272910[_0x3dd3fb(0x554)]]['updateGroupPicture'](_0x1e7b8d);}async[a0_0x28b734(0x58c)](_0xdc201,_0x5e0bb3){const _0x3665d5=a0_0x28b734;return await this[_0x3665d5(0x502)][_0x3665d5(0x410)][_0xdc201[_0x3665d5(0x554)]][_0x3665d5(0x58c)](_0x5e0bb3);}async[a0_0x28b734(0x25a)](_0x21dff,_0x34e1c5){const _0x42d857=a0_0x28b734;return await this[_0x42d857(0x502)][_0x42d857(0x410)][_0x21dff['instanceName']]['groupName'](_0x34e1c5);}async[a0_0x28b734(0x62e)](_0x2eafff,_0x419d89){const _0x498797=a0_0x28b734;return await this[_0x498797(0x502)][_0x498797(0x410)][_0x2eafff[_0x498797(0x554)]][_0x498797(0x62e)](_0x419d89);}async['findGroupInfo'](_0x37bd8e,_0x30d2c9){const _0x59c374=a0_0x28b734;return await this[_0x59c374(0x502)][_0x59c374(0x410)][_0x37bd8e['instanceName']][_0x59c374(0x6d6)](_0x30d2c9);}async[a0_0x28b734(0x1b9)](_0x47a5bd){const _0x1b0b4a=a0_0x28b734;return await this[_0x1b0b4a(0x502)]['waInstances'][_0x47a5bd['instanceName']][_0x1b0b4a(0x1b9)]();}async[a0_0x28b734(0x28f)](_0x48d5a1,_0x1b0cb2){const _0x4d1082=a0_0x28b734;return await this[_0x4d1082(0x502)][_0x4d1082(0x410)][_0x48d5a1['instanceName']][_0x4d1082(0x28f)](_0x1b0cb2);}async[a0_0x28b734(0x575)](_0x38feea,_0x23ee3c){const _0x5ecd62=a0_0x28b734;return await this[_0x5ecd62(0x502)][_0x5ecd62(0x410)][_0x38feea['instanceName']][_0x5ecd62(0x575)](_0x23ee3c);}async['revokeInviteCode'](_0x5a51bf,_0x267e7d){const _0x391805=a0_0x28b734;return await this[_0x391805(0x502)][_0x391805(0x410)][_0x5a51bf[_0x391805(0x554)]][_0x391805(0x4af)](_0x267e7d);}async['findParticipants'](_0x2772f5,_0xfaee23){const _0x540acd=a0_0x28b734;return await this['waMonitor'][_0x540acd(0x410)][_0x2772f5[_0x540acd(0x554)]][_0x540acd(0x6a8)](_0xfaee23);}async[a0_0x28b734(0x4df)](_0x137bc1,_0x79439d){const _0x3f58cc=a0_0x28b734;return await this['waMonitor']['waInstances'][_0x137bc1[_0x3f58cc(0x554)]][_0x3f58cc(0x580)](_0x79439d);}async['toggleEphemeral'](_0x201915,_0x5919d2){const _0x2a9850=a0_0x28b734;return await this['waMonitor']['waInstances'][_0x201915[_0x2a9850(0x554)]][_0x2a9850(0x3d2)](_0x5919d2);}async['leaveGroup'](_0x3e4733,_0x353b00){const _0x353f0d=a0_0x28b734;return await this['waMonitor'][_0x353f0d(0x410)][_0x3e4733[_0x353f0d(0x554)]][_0x353f0d(0x284)](_0x353b00);}},Vt=class{constructor(_0x564222){const _0x4fb208=a0_0x28b734;this[_0x4fb208(0x502)]=_0x564222;}[a0_0x28b734(0x690)](_0x41b54e,_0x36009c){const _0x1e0cc6=a0_0x28b734;return this[_0x1e0cc6(0x502)][_0x1e0cc6(0x410)][_0x41b54e[_0x1e0cc6(0x554)]]['setWebhook'](_0x36009c);}async['find'](_0x5c0b0d){const _0x56f509=a0_0x28b734;try{return await this[_0x56f509(0x502)][_0x56f509(0x410)][_0x5c0b0d[_0x56f509(0x554)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},Zd=new v(a0_0x28b734(0x4b2)),Bt=class{constructor(_0x5994e8){this['waMonitor']=_0x5994e8;}async['editScheduleMessage'](_0x564fbe,_0x196729){const _0x5d24a4=a0_0x28b734;return await this[_0x5d24a4(0x502)][_0x5d24a4(0x410)][_0x564fbe[_0x5d24a4(0x554)]][_0x5d24a4(0x581)](_0x196729);}async[a0_0x28b734(0x1ac)](_0x1c8d32){const _0x32fc5e=a0_0x28b734;return await this['waMonitor'][_0x32fc5e(0x410)][_0x1c8d32[_0x32fc5e(0x554)]][_0x32fc5e(0x1ac)]();}async['deleteDoneMessages'](_0x5567de){const _0x3e1f19=a0_0x28b734;return await this[_0x3e1f19(0x502)][_0x3e1f19(0x410)][_0x5567de['instanceName']][_0x3e1f19(0x5e8)]();}async[a0_0x28b734(0x3b5)](_0x10fb78){const _0x1ca2b1=a0_0x28b734;return await this[_0x1ca2b1(0x502)][_0x1ca2b1(0x410)][_0x10fb78['instanceName']]['getAutomateSystem']();}async[a0_0x28b734(0x80e)](_0x533b2c,_0x4a436c){const _0x19e3fd=a0_0x28b734;return await this['waMonitor']['waInstances'][_0x533b2c[_0x19e3fd(0x554)]]['updateAgent'](_0x4a436c);}async[a0_0x28b734(0x45c)](_0x1ee8a9,_0x2e5faf){const _0xd3e888=a0_0x28b734;return await this['waMonitor'][_0xd3e888(0x410)][_0x1ee8a9[_0xd3e888(0x554)]]['updateCustomFields'](_0x2e5faf);}async[a0_0x28b734(0x42e)](_0x4cb49a,_0x118fc3){const _0x2fc314=a0_0x28b734;return await this[_0x2fc314(0x502)]['waInstances'][_0x4cb49a[_0x2fc314(0x554)]]['updateFlowConfig'](_0x118fc3);}async[a0_0x28b734(0x7d6)](_0xb34c70,_0x8f3de9){const _0x63be92=a0_0x28b734;return await this[_0x63be92(0x502)][_0x63be92(0x410)][_0xb34c70[_0x63be92(0x554)]][_0x63be92(0x7d6)](_0x8f3de9);}async[a0_0x28b734(0x5bb)](_0x1cae73,_0x4a7ff7){const _0x5d3e71=a0_0x28b734;return await this['waMonitor'][_0x5d3e71(0x410)][_0x1cae73[_0x5d3e71(0x554)]][_0x5d3e71(0x5bb)](_0x4a7ff7);}async[a0_0x28b734(0x730)](_0x44d783,_0x54bab1){const _0x3be7be=a0_0x28b734;return await this[_0x3be7be(0x502)][_0x3be7be(0x410)][_0x44d783['instanceName']][_0x3be7be(0x730)](_0x54bab1);}async[a0_0x28b734(0x6b2)](_0x2d583f,_0x491e3e){const _0x3a0b85=a0_0x28b734;return await this[_0x3a0b85(0x502)][_0x3a0b85(0x410)][_0x2d583f['instanceName']][_0x3a0b85(0x6b2)](_0x491e3e);}async[a0_0x28b734(0x766)](_0x56727f,_0x290b38){const _0x375b7d=a0_0x28b734;return await this[_0x375b7d(0x502)]['waInstances'][_0x56727f[_0x375b7d(0x554)]][_0x375b7d(0x766)](_0x290b38);}async[a0_0x28b734(0x5f9)](_0x3af73e,_0x61ee7b){const _0x4bc0f7=a0_0x28b734;return await this[_0x4bc0f7(0x502)][_0x4bc0f7(0x410)][_0x3af73e[_0x4bc0f7(0x554)]]['getFlow'](_0x61ee7b[_0x4bc0f7(0x69a)]);}async[a0_0x28b734(0x326)](_0x375def,_0x1d4f1e){const _0x1740e6=a0_0x28b734;return await this[_0x1740e6(0x502)][_0x1740e6(0x410)][_0x375def['instanceName']][_0x1740e6(0x326)](_0x1d4f1e);}async[a0_0x28b734(0x450)](_0x90ffd1,_0x3b5a88){const _0xd7ae05=a0_0x28b734;return await this[_0xd7ae05(0x502)][_0xd7ae05(0x410)][_0x90ffd1['instanceName']][_0xd7ae05(0x450)](_0x3b5a88);}async[a0_0x28b734(0x75f)](_0x5562dc,_0x2c5ca9){const _0x167beb=a0_0x28b734;return await this[_0x167beb(0x502)][_0x167beb(0x410)][_0x5562dc[_0x167beb(0x554)]][_0x167beb(0x75f)](_0x2c5ca9);}async[a0_0x28b734(0x4a2)](_0xa0ddb7,_0x42367b){const _0x2bc199=a0_0x28b734;return await this[_0x2bc199(0x502)][_0x2bc199(0x410)][_0xa0ddb7[_0x2bc199(0x554)]][_0x2bc199(0x4a2)](_0x42367b);}async[a0_0x28b734(0x237)](_0x2efb73,_0x3e463e){const _0x4ac5a9=a0_0x28b734;return await this[_0x4ac5a9(0x502)][_0x4ac5a9(0x410)][_0x2efb73['instanceName']]['editFlowGroup'](_0x3e463e);}async[a0_0x28b734(0x472)](_0x2aee53,_0x44fa16){const _0x52755e=a0_0x28b734;return await this['waMonitor'][_0x52755e(0x410)][_0x2aee53['instanceName']]['editFlowCondition'](_0x44fa16);}async[a0_0x28b734(0x2ae)](_0x3ab7ca,_0x2c808d){const _0x382c60=a0_0x28b734;return await this['waMonitor'][_0x382c60(0x410)][_0x3ab7ca[_0x382c60(0x554)]][_0x382c60(0x2ae)](_0x2c808d);}async[a0_0x28b734(0x62c)](_0x486d31,_0x32fdac){const _0xfbf036=a0_0x28b734;return await this[_0xfbf036(0x502)][_0xfbf036(0x410)][_0x486d31[_0xfbf036(0x554)]][_0xfbf036(0x62c)](_0x32fdac);}async[a0_0x28b734(0x6cb)](_0x550fb0,_0x15debc){const _0x203f90=a0_0x28b734;return await this[_0x203f90(0x502)]['waInstances'][_0x550fb0[_0x203f90(0x554)]][_0x203f90(0x6cb)](_0x15debc[_0x203f90(0x69a)]);}async[a0_0x28b734(0x398)](_0x3ba9af){const _0x5ae810=a0_0x28b734;return await this[_0x5ae810(0x502)][_0x5ae810(0x410)][_0x3ba9af[_0x5ae810(0x554)]][_0x5ae810(0x398)]();}},Gt=class{constructor(_0x3e31c2){const _0x2b113f=a0_0x28b734;this[_0x2b113f(0x263)]=_0x3e31c2;}async['createWebhook'](_0x446f22,_0x5cec14){const _0x12a90c=a0_0x28b734;return this['webhookService'][_0x12a90c(0x690)](_0x446f22,_0x5cec14);}async['findWebhook'](_0x4fc361){const _0x427a77=a0_0x28b734;return this['webhookService'][_0x427a77(0x79e)](_0x4fc361);}},Wt=class extends x{constructor(_0x47328f,_0x1d83c0){const _0x39e49f=a0_0x28b734;super(_0x1d83c0),this['webhookModel']=_0x47328f,this[_0x39e49f(0x78a)]=_0x1d83c0;}async[a0_0x28b734(0x690)](_0x197c10,_0x5dff0a){const _0xd24f70=a0_0x28b734;try{return this[_0xd24f70(0x29a)][_0xd24f70(0x7d2)]?{'insertCount':(await this[_0xd24f70(0x202)][_0xd24f70(0x475)]({'_id':_0x5dff0a},{..._0x197c10},{'upsert':!0x0}))[_0xd24f70(0x36b)]}:{'insertCount':0x1};}catch(_0x1f850c){return _0x1f850c;}}async[a0_0x28b734(0x606)](_0x49271d){const _0x3e443d=a0_0x28b734;try{if(this[_0x3e443d(0x29a)][_0x3e443d(0x7d2)]){await this[_0x3e443d(0x202)][_0x3e443d(0x71c)]({'_id':_0x49271d});return;}}catch(_0x27ccb9){return{'error':_0x27ccb9};}}async[a0_0x28b734(0x79e)](_0x79f0bb){const _0x30cd2f=a0_0x28b734;try{if(this['dbSettings'][_0x30cd2f(0x7d2)])return await this[_0x30cd2f(0x202)][_0x30cd2f(0x5a7)]({'_id':_0x79f0bb});}catch{return{};}}},zt=class extends x{constructor(_0x535710,_0x214c9c){const _0x48bcb=a0_0x28b734;super(_0x214c9c),this[_0x48bcb(0x3e9)]=_0x535710,this['configService']=_0x214c9c,this[_0x48bcb(0x445)]=_0x214c9c[_0x48bcb(0x238)](_0x48bcb(0x577));}async[a0_0x28b734(0x690)](_0x2a4c52,_0x41afaa){const _0x4b77cb=a0_0x28b734;try{if(this[_0x4b77cb(0x29a)][_0x4b77cb(0x7d2)])return{'insertCount':(await this[_0x4b77cb(0x3e9)]['updateOne']({'_id':_0x41afaa},{'$set':{..._0x2a4c52}},{'upsert':!0x0}))[_0x4b77cb(0x36b)]};}catch(_0x1c9628){return{'error':_0x1c9628};}}async['updateAll'](_0x78f82a,_0x35f007){const _0x54d711=a0_0x28b734;try{if(this[_0x54d711(0x29a)]['ENABLED'])return{'insertCount':(await this['authModel'][_0x54d711(0x7e9)](_0x78f82a,{'$set':_0x35f007},{'upsert':!0x1}))[_0x54d711(0x36b)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x47a44f){return{'error':_0x47a44f};}}async['deleteMany'](_0x2136eb){const _0x57b984=a0_0x28b734;try{if(this[_0x57b984(0x29a)][_0x57b984(0x7d2)])return{'insertCount':(await this['authModel'][_0x57b984(0x607)](_0x2136eb))['deletedCount']};throw new Error(_0x57b984(0x69e));}catch(_0x5556eb){return{'error':_0x5556eb};}}async['delete'](_0x381477){const _0x53467c=a0_0x28b734;try{if(this[_0x53467c(0x29a)]['ENABLED']){await this['authModel'][_0x53467c(0x71c)]({'_id':_0x381477});return;}}catch(_0x39b92d){return{'error':_0x39b92d};}}async[a0_0x28b734(0x79e)](_0x433721){const _0x994fcd=a0_0x28b734;try{if(this['dbSettings'][_0x994fcd(0x7d2)])return await this[_0x994fcd(0x3e9)][_0x994fcd(0x5a7)]({'_id':_0x433721});}catch{return{};}}async[a0_0x28b734(0x711)](){const _0x5e5416=a0_0x28b734;try{if(this[_0x5e5416(0x29a)][_0x5e5416(0x7d2)])return await this[_0x5e5416(0x3e9)][_0x5e5416(0x79e)]();}catch{return[];}}},Ht=class extends x{['getFlowModelForOwner'](_0x12fa32){return ra(_0x12fa32);}async[a0_0x28b734(0x6f8)](_0x3fa422){const _0x25ee54=a0_0x28b734;try{let _0x500fc9=ia,_0x255924=this['getFlowModelForOwner'](_0x3fa422),_0x573a73=await _0x500fc9[_0x25ee54(0x79e)]({'owner':_0x3fa422})[_0x25ee54(0x78c)](),_0x47ef1c=[],_0x4f51c3=[];for(let _0x40a487 of _0x573a73)await _0x255924[_0x25ee54(0x418)](_0x40a487[_0x25ee54(0x4fb)])['lean']()||(_0x47ef1c['push'](_0x40a487),_0x4f51c3[_0x25ee54(0x758)](_0x40a487[_0x25ee54(0x4fb)]));return _0x47ef1c['length']>0x0&&await _0x255924[_0x25ee54(0x652)](_0x47ef1c,{'ordered':!0x1}),{'success':!0x0};}catch(_0x39e1a8){return console[_0x25ee54(0x6f1)](_0x25ee54(0x734),_0x39e1a8),{'success':!0x1,'error':_0x39e1a8};}}async[a0_0x28b734(0x606)](_0x54745b,_0x2f8717){const _0x4f793a=a0_0x28b734;try{let _0x2b9094=this[_0x4f793a(0x651)](_0x2f8717),_0x3d50d0=A(_0x54745b[_0x4f793a(0x6da)]);return{'deletedCount':(await _0x2b9094[_0x4f793a(0x607)](_0x3d50d0))[_0x4f793a(0x5b7)]};}catch(_0x55d3c0){return{'error':_0x55d3c0?.[_0x4f793a(0x448)]()};}}async[a0_0x28b734(0x71c)](_0x503ada,_0x42fb33){const _0x4f6da3=a0_0x28b734;try{let _0x3d5d23=this[_0x4f6da3(0x651)](_0x42fb33),_0x3a6530=A(_0x503ada['where']);return{'deletedCount':(await _0x3d5d23[_0x4f6da3(0x71c)](_0x3a6530))[_0x4f6da3(0x5b7)]};}catch(_0x432115){return{'error':_0x432115?.['toString']()};}}async['replaceOne'](_0x1a01fb,_0x168dc2,_0x30ec77){const _0x156b15=a0_0x28b734;try{let _0x52b6f2=await this['getFlowModelForOwner'](_0x30ec77)[_0x156b15(0x621)](_0x1a01fb,_0x168dc2,{'overwrite':!0x0,'new':!0x0});return _0x52b6f2||(console['error'](_0x156b15(0x6fb),_0x1a01fb),null);}catch(_0xa34f91){return console[_0x156b15(0x6f1)](_0x156b15(0x4ca),_0xa34f91),null;}}async[a0_0x28b734(0x49f)](_0x46f3ed,_0x2ea632,_0x17cdbb){const _0x22d86a=a0_0x28b734;try{let _0x32691b=await this[_0x22d86a(0x651)](_0x17cdbb)[_0x22d86a(0x418)](_0x46f3ed);return _0x32691b?(Object['assign'](_0x32691b,_0x2ea632),await _0x32691b[_0x22d86a(0x7cf)]()):(console['error'](_0x22d86a(0x21b),_0x46f3ed),null);}catch(_0x3b8e07){return console[_0x22d86a(0x6f1)](_0x22d86a(0x4ca),_0x3b8e07),null;}}async['updateMissingShareOwners'](_0x52c57e){const _0x5b98fc=a0_0x28b734;try{let _0x3a1f35=this[_0x5b98fc(0x651)](_0x52c57e),_0x2bef89={'shareOwners':{'$exists':!0x1}},_0x43c3ae={'$set':{'shareOwners':[]}};return(await _0x3a1f35[_0x5b98fc(0x7e9)](_0x2bef89,_0x43c3ae))[_0x5b98fc(0x36b)];}catch(_0x481663){return console[_0x5b98fc(0x6f1)](_0x481663),0x0;}}async[a0_0x28b734(0x443)](_0xb2eeba,_0x572584){const _0x425df5=a0_0x28b734;try{let _0x3a6211=this[_0x425df5(0x651)](_0x572584);return await new _0x3a6211(_0xb2eeba)[_0x425df5(0x7cf)]();}catch(_0x595ff8){return console[_0x425df5(0x6f1)]('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x595ff8),null;}}async[a0_0x28b734(0x7e9)](_0x158afb,_0x26881d,_0x2aab0f){const _0x56a6c3=a0_0x28b734;try{return{'modifiedCount':(await this[_0x56a6c3(0x651)](_0x2aab0f)[_0x56a6c3(0x7e9)](_0x158afb,{'$set':_0x26881d}))[_0x56a6c3(0x36b)]};}catch(_0x4c011c){return console['error'](_0x56a6c3(0x3ee),_0x4c011c),{'error':_0x4c011c};}}async[a0_0x28b734(0x711)](_0x5cb251,_0xcb204c){const _0x3d7b6e=a0_0x28b734;try{let _0x349902=this[_0x3d7b6e(0x651)](_0xcb204c),_0x3445c9=A(_0x5cb251['where']);return await _0x349902[_0x3d7b6e(0x79e)](_0x3445c9)[_0x3d7b6e(0x3fa)](_0x5cb251?.['limit']??0x0)[_0x3d7b6e(0x78c)]();}catch{return[];}}async[a0_0x28b734(0x5a7)](_0x343fd,_0x647d38){const _0x15a5d2=a0_0x28b734;try{let _0x21339b=this['getFlowModelForOwner'](_0x647d38),_0x1ea3ca=A(_0x343fd[_0x15a5d2(0x6da)]);return await _0x21339b[_0x15a5d2(0x5a7)](_0x1ea3ca)[_0x15a5d2(0x78c)]();}catch{return null;}}async['deleteAll'](_0x4d0e0b){const _0x38e21a=a0_0x28b734;try{return await this[_0x38e21a(0x651)](_0x4d0e0b)[_0x38e21a(0x818)]['drop'](),{'success':!0x0};}catch(_0x1f7731){return console[_0x38e21a(0x6f1)](_0x1f7731),{'success':!0x1,'error':_0x1f7731};}}},Kt=class extends x{['getConversationModelForOwner'](_0x5755c0){return na(_0x5755c0);}async[a0_0x28b734(0x6f8)](_0x2d0a9e){const _0xaa1a01=a0_0x28b734;try{let _0x5b73ae=ca,_0x248de0=this[_0xaa1a01(0x1a4)](_0x2d0a9e),_0x3acc32=await _0x5b73ae[_0xaa1a01(0x79e)]({'owner':_0x2d0a9e})[_0xaa1a01(0x78c)](),_0x467a30=[],_0x32fa07=[];for(let _0x5dc4fc of _0x3acc32)await _0x248de0['findById'](_0x5dc4fc['_id'])['lean']()||(_0x467a30[_0xaa1a01(0x758)](_0x5dc4fc),_0x32fa07[_0xaa1a01(0x758)](_0x5dc4fc[_0xaa1a01(0x4fb)]));return _0x467a30[_0xaa1a01(0x2f0)]>0x0&&await _0x248de0[_0xaa1a01(0x652)](_0x467a30,{'ordered':!0x1}),{'success':!0x0};}catch(_0x3b6f43){return console[_0xaa1a01(0x6f1)](_0xaa1a01(0x734),_0x3b6f43),{'success':!0x1,'error':_0x3b6f43};}}async[a0_0x28b734(0x7a8)](_0x19bff4){const _0xd5ba1a=a0_0x28b734;if(_0x19bff4[_0xd5ba1a(0x2f0)]!==0x0)try{return{'insertCount':(await this[_0xd5ba1a(0x1a4)](_0x19bff4[0x0][_0xd5ba1a(0x2e5)])[_0xd5ba1a(0x652)]([..._0x19bff4]))[_0xd5ba1a(0x2f0)]};}catch(_0x563e41){return _0x563e41;}}async['delete'](_0x1eda90,_0x9e4c0e){const _0x299f7c=a0_0x28b734;try{let _0x449e77=this[_0x299f7c(0x1a4)](_0x9e4c0e),_0x566d27=A(_0x1eda90[_0x299f7c(0x6da)]);return{'deletedCount':(await _0x449e77[_0x299f7c(0x607)](_0x566d27))[_0x299f7c(0x5b7)]};}catch(_0x2df510){return{'error':_0x2df510?.[_0x299f7c(0x448)]()};}}async[a0_0x28b734(0x71c)](_0x2c1aae,_0x2cc245){const _0x4c9471=a0_0x28b734;try{let _0xfc092c=this['getConversationModelForOwner'](_0x2cc245),_0x1fde96=A(_0x2c1aae[_0x4c9471(0x6da)]);return{'deletedCount':(await _0xfc092c[_0x4c9471(0x71c)](_0x1fde96))[_0x4c9471(0x5b7)]};}catch(_0x20199f){return{'error':_0x20199f?.[_0x4c9471(0x448)]()};}}async[a0_0x28b734(0x19a)](_0x4dd8d2,_0x5eba3b){const _0xcd1dae=a0_0x28b734;try{if(_0x4dd8d2[_0xcd1dae(0x2f0)]===0x0)return;let _0x370516=this[_0xcd1dae(0x1a4)](_0x5eba3b),_0x33d647=_0x4dd8d2[_0xcd1dae(0x7df)](_0x5e0fc0=>({'updateOne':{'filter':{'name':_0x5e0fc0[_0xcd1dae(0x69a)],'owner':_0x5eba3b},'update':{..._0x5e0fc0}}})),{modifiedCount:_0x356988}=await _0x370516[_0xcd1dae(0x71e)](_0x33d647);return{'insertCount':_0x356988};}catch{return;}}async[a0_0x28b734(0x7e9)](_0x3d79da,_0x59e7a0,_0x19c598){const _0x1f767a=a0_0x28b734;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x19c598)[_0x1f767a(0x7e9)](_0x3d79da,{'$set':_0x59e7a0}))[_0x1f767a(0x36b)]};}catch(_0x3275c8){return console[_0x1f767a(0x6f1)](_0x1f767a(0x499),_0x3275c8),{'error':_0x3275c8};}}async[a0_0x28b734(0x49f)](_0x3d9639,_0x1cfb7e,_0x2ce4f8){const _0x2638ea=a0_0x28b734;try{return await this[_0x2638ea(0x1a4)](_0x2ce4f8)[_0x2638ea(0x724)]({'_id':_0x3d9639},{'$set':_0x1cfb7e},{'new':!0x0,'upsert':!0x0})[_0x2638ea(0x78c)]();}catch(_0x29a083){return console[_0x2638ea(0x6f1)](_0x29a083),null;}}async[a0_0x28b734(0x79e)](_0x1423e4,_0x1c27e9){const _0x5e9b99=a0_0x28b734;try{return await this[_0x5e9b99(0x1a4)](_0x1c27e9)[_0x5e9b99(0x79e)](_0x1423e4)['sort']({'lastInteraction':-0x1})['lean']();}catch{return[];}}async[a0_0x28b734(0x5a7)](_0x278cb2,_0x303beb){const _0xe4238a=a0_0x28b734;try{return await this['getConversationModelForOwner'](_0x303beb)[_0xe4238a(0x5a7)]({..._0x278cb2[_0xe4238a(0x6da)]})[_0xe4238a(0x78c)]();}catch{return null;}}async[a0_0x28b734(0x2d1)](_0x3b79f9){const _0xd8ef4a=a0_0x28b734;try{return await this[_0xd8ef4a(0x1a4)](_0x3b79f9)[_0xd8ef4a(0x818)][_0xd8ef4a(0x597)](),{'success':!0x0};}catch(_0x4fd5f0){return console[_0xd8ef4a(0x6f1)](_0x4fd5f0),{'success':!0x1,'error':_0x4fd5f0};}}},Qt=class extends x{[a0_0x28b734(0x3c3)](_0x3e51ed){return ua(_0x3e51ed);}async[a0_0x28b734(0x6f8)](_0x2b3006){const _0x41d2db=a0_0x28b734;try{let _0x2706ca=da,_0x3d0e78=this['getScheduleMessageModelForOwner'](_0x2b3006),_0x4a06e1=await _0x2706ca[_0x41d2db(0x79e)]({'owner':_0x2b3006})[_0x41d2db(0x78c)](),_0x51fa90=[],_0x46bf02=[];for(let _0x1dad77 of _0x4a06e1)await _0x3d0e78[_0x41d2db(0x418)](_0x1dad77[_0x41d2db(0x4fb)])[_0x41d2db(0x78c)]()||(_0x51fa90[_0x41d2db(0x758)](_0x1dad77),_0x46bf02[_0x41d2db(0x758)](_0x1dad77['_id']));return _0x51fa90[_0x41d2db(0x2f0)]>0x0&&await _0x3d0e78['insertMany'](_0x51fa90,{'ordered':!0x1}),{'success':!0x0};}catch(_0x4c86fa){return console[_0x41d2db(0x6f1)](_0x41d2db(0x734),_0x4c86fa),{'success':!0x1,'error':_0x4c86fa};}}async[a0_0x28b734(0x443)](_0x5ba16d,_0x58f4b2){const _0x497e57=a0_0x28b734;try{let _0x457ea0=this['getScheduleMessageModelForOwner'](_0x58f4b2);return await new _0x457ea0(_0x5ba16d)[_0x497e57(0x7cf)]();}catch(_0x2f5f3c){return console['error'](_0x497e57(0x33b),_0x2f5f3c),null;}}async[a0_0x28b734(0x71c)](_0x3a30b6,_0x1e401a){const _0x21cd6c=a0_0x28b734;try{return await this[_0x21cd6c(0x3c3)](_0x1e401a)[_0x21cd6c(0x39f)](_0x3a30b6),{};}catch(_0x3f0442){return{'error':_0x3f0442?.['toString']()};}}async['updateOne'](_0x141bfb,_0x1b38e1,_0xbcf401){const _0x277301=a0_0x28b734;try{return await this[_0x277301(0x3c3)](_0xbcf401)['findOneAndUpdate'](_0x141bfb,{'$set':_0x1b38e1},{'new':!0x0})[_0x277301(0x78c)]();}catch(_0x108786){return console['error']('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x108786),null;}}async[a0_0x28b734(0x34a)](_0x33165d,_0x53d4e2,_0x42fada){const _0x120f1c=a0_0x28b734;try{return await this[_0x120f1c(0x3c3)](_0x42fada)['findByIdAndUpdate'](_0x33165d,_0x53d4e2,{'new':!0x0})[_0x120f1c(0x78c)]();}catch(_0x2bcf02){return console[_0x120f1c(0x6f1)](_0x120f1c(0x789),_0x2bcf02),null;}}async[a0_0x28b734(0x79e)](_0x194085,_0x496dd2){const _0x3f25c5=a0_0x28b734;try{return await this[_0x3f25c5(0x3c3)](_0x496dd2)['find'](_0x194085[_0x3f25c5(0x6da)])[_0x3f25c5(0x3fa)](_0x194085?.[_0x3f25c5(0x3fa)]??0x0)[_0x3f25c5(0x447)]({'when':0x1})[_0x3f25c5(0x78c)]();}catch{return[];}}async[a0_0x28b734(0x5a7)](_0x4fe7e2,_0x138477){const _0x594c50=a0_0x28b734;try{return await this['getScheduleMessageModelForOwner'](_0x138477)['findOne'](_0x4fe7e2[_0x594c50(0x6da)])[_0x594c50(0x447)]({'when':0x1})[_0x594c50(0x78c)]();}catch{return null;}}async[a0_0x28b734(0x418)](_0x228136,_0xf5aaa1){const _0x457ae6=a0_0x28b734;try{return await this[_0x457ae6(0x3c3)](_0xf5aaa1)[_0x457ae6(0x418)](_0x228136)[_0x457ae6(0x78c)]();}catch{return null;}}async[a0_0x28b734(0x607)](_0xcfab09,_0x3e607d){const _0x332e79=a0_0x28b734;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x3e607d)[_0x332e79(0x607)](_0xcfab09))[_0x332e79(0x5b7)]};}catch(_0x2c7637){return console[_0x332e79(0x6f1)](_0x332e79(0x5eb),_0x2c7637),{'error':_0x2c7637};}}async[a0_0x28b734(0x2d1)](_0x135f6d){const _0x346763=a0_0x28b734;try{return await this[_0x346763(0x3c3)](_0x135f6d)[_0x346763(0x818)]['drop'](),{'success':!0x0};}catch(_0x5b0891){return console[_0x346763(0x6f1)](_0x5b0891),{'success':!0x1,'error':_0x5b0891};}}},Yt=class extends x{async[a0_0x28b734(0x19a)](_0x1e725f,_0x457516){const _0x773f6b=a0_0x28b734;try{if(this[_0x773f6b(0x29a)][_0x773f6b(0x7d2)]){let _0x2f450c=await $e[_0x773f6b(0x724)]({'_id':_0x457516},{'$set':_0x1e725f},{'new':!0x0});return console[_0x773f6b(0x38a)]('Resultado\x20da\x20atualização:',_0x2f450c),_0x2f450c;}}catch(_0x5ea76f){throw console['error'](_0x773f6b(0x3a4),_0x5ea76f),_0x5ea76f;}}async['findOrCreate'](_0x35ba3b){const _0xb23dc5=a0_0x28b734;try{let _0x10fa73=await $e['findById'](_0x35ba3b);return _0x10fa73||(_0x10fa73=new $e({'_id':_0x35ba3b}),await _0x10fa73[_0xb23dc5(0x7cf)]()),_0x10fa73;}catch(_0x54afa8){return console[_0xb23dc5(0x6f1)]('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x54afa8),null;}}},bi=new v(a0_0x28b734(0x40d)),Si=new Fe(b),Ei=new kt(b),Ci=new Ye(b),Mi=new Wt(Xs,b),vi=new zt(Ks,b),Ni=new Ht(b),Ri=new Lt(b),Ti=new Kt(b),Oi=new Qt(b),Ai=new Yt(b),ce=new ke(Si,Ei,Ci,Mi,vi,Ni,Ti,Ri,Oi,Ai,R?.[a0_0x28b734(0x46e)]()),V=new $t(as,b,ce),Ii=new qt(b,V,ce),xi=new Vt(V),ms=new Gt(xi),O=new Bt(V),ae=new jt(V,b,ce,as,Ii),B=new Ut(V),D=new Ft(V),F=new Jt(V);bi[a0_0x28b734(0x6cc)](a0_0x28b734(0x777));var mh=require(a0_0x28b734(0x4e2)),As=require('fs'),vr=T(require(a0_0x28b734(0x285))),Nr=T(require('http')),Ne=class c{static #e;static set[a0_0x28b734(0x77b)](_0x369afa){this.#e=_0x369afa;}static get['https'](){const _0x33b75a=a0_0x28b734;let {FULLCHAIN:_0xe5481a,PRIVKEY:_0x519f78}=b[_0x33b75a(0x238)](_0x33b75a(0x4b5));return vr[_0x33b75a(0x50e)]({'cert':(0x0,As[_0x33b75a(0x290)])(_0xe5481a),'key':(0x0,As[_0x33b75a(0x290)])(_0x519f78)},c.#e);}static get[a0_0x28b734(0x602)](){const _0x3560b5=a0_0x28b734;return Nr[_0x3560b5(0x50e)](c.#e);}},de=T(require('fs')),xr=T(require(a0_0x28b734(0x308))),Re=T(require(a0_0x28b734(0x1ea))),Oe=T(require(a0_0x28b734(0x1c0))),Ae=require(a0_0x28b734(0x703));function Di(){const _0x4fce0f=a0_0x28b734;V[_0x4fce0f(0x33c)]();let _0x454979=Oe[_0x4fce0f(0x4d7)][_0x4fce0f(0x67e)](__dirname,_0x4fce0f(0x4a8));Ir(_0x454979);}var Ir=_0x316e0a=>{const _0x3d2162=a0_0x28b734;let _0x31438b=de[_0x3d2162(0x4d7)][_0x3d2162(0x6e5)](_0x316e0a),_0x57f891=0xc*0x3c*0x3c*0x3e8,_0x45f7ed=0x2*0x3c*0x3c*0x3e8,_0x387fb1=new Date()[_0x3d2162(0x6bd)]();_0x31438b[_0x3d2162(0x757)](_0x63ddd8=>{const _0x58535a=_0x3d2162;let _0x21dd52=Oe[_0x58535a(0x4d7)][_0x58535a(0x67e)](_0x316e0a,_0x63ddd8),_0x58de53=de['default'][_0x58535a(0x371)](_0x21dd52)[_0x58535a(0x3e3)][_0x58535a(0x6bd)]();_0x387fb1-_0x58de53>_0x57f891&&(de[_0x58535a(0x4d7)][_0x58535a(0x288)](_0x21dd52),console[_0x58535a(0x38a)](_0x58535a(0x491)+_0x63ddd8));}),setTimeout(()=>Ir(_0x316e0a),_0x45f7ed);};function _i(){const _0x38a349=a0_0x28b734;let _0x49597e=new v(_0x38a349(0x57a)),_0x312513=(0x0,pe[_0x38a349(0x4d7)])();_0x312513[_0x38a349(0x508)]((0x0,Ar[_0x38a349(0x4d7)])({'origin'(_0x23ebb9,_0x5cd975){const _0x3ae4e7=_0x38a349;let {ORIGIN:_0x36a358}=b[_0x3ae4e7(0x238)]('CORS');return _0x23ebb9||(_0x23ebb9='*'),_0x36a358[_0x3ae4e7(0x3e4)]('*')!==-0x1||_0x36a358['indexOf'](_0x23ebb9)!==-0x1?_0x5cd975(null,!0x0):_0x5cd975(new Error(_0x3ae4e7(0x551)));},'methods':[...b[_0x38a349(0x238)]('CORS')[_0x38a349(0x81a)]],'credentials':b[_0x38a349(0x238)](_0x38a349(0x231))[_0x38a349(0x654)]}),(0x0,pe[_0x38a349(0x47a)])({'extended':!0x0,'limit':_0x38a349(0x805)}),(0x0,pe[_0x38a349(0x60d)])({'limit':_0x38a349(0x805)})),_0x312513[_0x38a349(0x508)]((_0x4e6a94,_0x524b03,_0x3f5d78)=>{const _0x579731=_0x38a349;_0x4e6a94[_0x579731(0x1c0)][_0x579731(0x18f)](_0x579731(0x3ac))?_0x3f5d78():(0x0,Or[_0x579731(0x4d7)])()(_0x4e6a94,_0x524b03,_0x3f5d78);}),_0x312513[_0x38a349(0x67b)](_0x38a349(0x338),_0x38a349(0x392)),_0x312513[_0x38a349(0x67b)](_0x38a349(0x192),(0x0,xs['join'])(se,_0x38a349(0x192))),_0x312513[_0x38a349(0x508)](pe['default'][_0x38a349(0x1cc)]((0x0,xs[_0x38a349(0x67e)])(se,'public'))),_0x312513[_0x38a349(0x508)]((_0x395445,_0x9e891b,_0x4e88e4)=>{let _0xc309ff=_0x9e891b['send'];_0x9e891b['send']=function(_0x1d4479){const _0x496d07=a0_0x4163;if(_0x395445[_0x496d07(0x1ae)]['convert']==='true'||_0x395445[_0x496d07(0x796)][_0x496d07(0x254)]===_0x496d07(0x5de)){let _0x4c5d9b=JSON[_0x496d07(0x678)](_0x1d4479);_0x1d4479=JSON['stringify'](_0x4e38a2(_0x4c5d9b));}return _0xc309ff[_0x496d07(0x4b0)](_0x9e891b,[_0x1d4479]);},_0x4e88e4();}),_0x312513[_0x38a349(0x508)]('/',Nt),_0x312513[_0x38a349(0x508)]((_0x9769da,_0x22b408,_0x33dceb,_0xfa2539)=>{const _0x3362a4=_0x38a349;if(_0x9769da)return _0x33dceb[_0x3362a4(0x6e9)](_0x9769da[_0x3362a4(0x6e9)]||0x1f4)[_0x3362a4(0x60d)](_0x9769da);},(_0xffee5d,_0x3ed7dd,_0x12f1bf)=>{const _0x4fb251=_0x38a349;let {method:_0x56463c,url:_0x5d06e8}=_0xffee5d;_0x3ed7dd[_0x4fb251(0x6e9)](0x194)[_0x4fb251(0x60d)]({'status':0x194,'message':'Cannot\x20'+_0x56463c[_0x4fb251(0x797)]()+'\x20'+_0x5d06e8,'error':_0x4fb251(0x40f)}),_0x12f1bf();});let _0x4e38a2=(_0x434375,_0x3b6486=_0x38a349(0x1e9))=>{const _0x24ca92=_0x38a349;let _0x4eeb8d=(_0x26bfd2,_0xa3f2af=null,_0x1d600a=!0x1)=>{const _0x2b1452=a0_0x4163;let _0x32ed4c={};return Object[_0x2b1452(0x732)](_0x26bfd2)[_0x2b1452(0x757)](_0x5899c3=>{const _0x40a8d4=_0x2b1452;let _0x3ae9a0=_0x26bfd2[_0x5899c3],_0x3c71f6=''+_0x3b6486+_0x5899c3;_0xa3f2af&&!_0x1d600a&&(_0x3c71f6=_0xa3f2af+'.'+_0x5899c3),!_0x3ae9a0&&_0x3ae9a0!==0x0&&_0x3ae9a0!==!0x1||typeof _0x3ae9a0>'u'?_0x32ed4c[_0x3c71f6]=null:typeof _0x3ae9a0!='object'&&!Array[_0x40a8d4(0x292)](_0x3ae9a0)?_0x32ed4c[_0x3c71f6]=_0x3ae9a0:typeof _0x3ae9a0==_0x40a8d4(0x7c0)&&!Array[_0x40a8d4(0x292)](_0x3ae9a0)?_0x32ed4c=Object['assign'](_0x32ed4c,_0x4eeb8d(_0x3ae9a0,_0x3c71f6)):Array[_0x40a8d4(0x292)](_0x3ae9a0)&&(typeof _0x3ae9a0[0x0]==_0x40a8d4(0x7c0)?(_0x32ed4c[_0x3c71f6]=[],_0x3ae9a0[_0x40a8d4(0x757)](_0x33c39a=>{const _0x1b681f=_0x40a8d4;_0x32ed4c[_0x3c71f6][_0x1b681f(0x758)](_0x4eeb8d(_0x33c39a,_0x3c71f6,!0x0));})):_0x32ed4c[_0x3c71f6]=_0x3ae9a0);}),_0x32ed4c;};return Array['isArray'](_0x434375)?_0x434375['map'](_0x505a5b=>_0x4eeb8d(_0x505a5b)):typeof _0x434375==_0x24ca92(0x7c0)&&_0x434375!==null?_0x4eeb8d(_0x434375):{};},_0x1a386b=b[_0x38a349(0x238)](_0x38a349(0x57a));Ne[_0x38a349(0x77b)]=_0x312513;let _0x403794=Ne[_0x1a386b['TYPE']],_0x5ae7b3='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x403794['listen'](_0x1a386b['PORT'],()=>{const _0x317610=_0x38a349;_0x49597e[_0x317610(0x38a)](_0x5ae7b3),_0x49597e[_0x317610(0x38a)](_0x1a386b[_0x317610(0x226)][_0x317610(0x797)]()+_0x317610(0x790)+_0x1a386b[_0x317610(0x51e)]);}),Di(),qs();}var Pi='https://github.com/uazapi/uazapi.git',$i=Oe['default']['join'](__dirname,a0_0x28b734(0x4ef)),Te=null;function ki(){return new Promise((_0x2f4bbf,_0x10a069)=>{const _0x2e02cd=a0_0x4163;de[_0x2e02cd(0x4d7)][_0x2e02cd(0x478)]($i,_0x2e02cd(0x79c),(_0x891441,_0x3cb270)=>{const _0x4f53d6=_0x2e02cd;if(_0x891441){Te=_0x891441,_0x2f4bbf();return;}xr[_0x4f53d6(0x4d7)][_0x4f53d6(0x678)](_0x3cb270)[_0x4f53d6(0x543)][_0x4f53d6(0x2d6)]===Pi?(Te=null,_0x2f4bbf()):(Te=new Error(_0x4f53d6(0x643)),_0x2f4bbf());});});}async function Li(){const _0x3e0f15=a0_0x28b734;try{await ki(),await Ds();}catch(_0x3eec69){console['error'](_0x3e0f15(0x65c)+_0x3eec69),process[_0x3e0f15(0x40b)](0x1);}}Li();async function Dr(){const _0x385705=a0_0x28b734;let _0x478831;try{_0x478831=(await Re[_0x385705(0x4d7)][_0x385705(0x238)](_0x385705(0x379)))['data']['ip'];}catch(_0xec89a6){console[_0x385705(0x6f1)](_0xec89a6);try{_0x478831=(await Re['default'][_0x385705(0x238)](_0x385705(0x1f8)))[_0x385705(0x7f3)]['ip'];}catch(_0xd1baf3){console[_0x385705(0x6f1)](_0xd1baf3);try{_0x478831=(await Re['default'][_0x385705(0x238)](_0x385705(0x3c4)))[_0x385705(0x7f3)]['match'](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x4a8b50){return console[_0x385705(0x6f1)](_0x4a8b50),!0x1;}}}return _0x478831;}var Rr=0x0;async function Fi(){const _0x249a6b=a0_0x28b734;let _0x1d39a8=await new re(b[_0x249a6b(0x238)]('REDIS'))[_0x249a6b(0x6f7)]();return console[_0x249a6b(0x38a)](_0x249a6b(0x67a),_0x1d39a8[_0x249a6b(0x2f0)]),_0x1d39a8['length'];}function ji(_0x2578e2){const _0x29bd00=a0_0x28b734;let _0x3184b1=_0x2578e2[_0x29bd00(0x238)](_0x29bd00(0x57a))[_0x29bd00(0x584)],_0x13c578=_0x2578e2[_0x29bd00(0x238)](_0x29bd00(0x4b5)),_0x462644;if(_0x3184b1){let _0xe512d9=_0x3184b1[_0x29bd00(0x42a)](/\/\/(.*?)\./);_0xe512d9&&_0xe512d9[0x1]&&(_0x462644=_0xe512d9[0x1]);}if(!_0x462644&&_0x13c578&&_0x13c578['FULLCHAIN']){let _0x327963=_0x13c578['FULLCHAIN'][_0x29bd00(0x5ac)]('/'),_0x32f252=_0x327963[_0x327963[_0x29bd00(0x2f0)]-0x2];if(_0x32f252){let _0x3ee11c=_0x32f252[_0x29bd00(0x5ac)]('.');_0x3ee11c['length']>0x2&&(_0x462644=_0x3ee11c[0x0]);}}return _0x462644;}var Rs=ji(b);async function Ui(){const _0x45d098=a0_0x28b734;let _0x3edfff=b[_0x45d098(0x238)](_0x45d098(0x442)),_0x6e6e8a=b['get'](_0x45d098(0x577))['API_KEY']['KEY'],_0x31dfc7=b[_0x45d098(0x238)](_0x45d098(0x4b5)),_0x4d3c21=await Dr(),_0x46ce28=b['get']('SERVER')[_0x45d098(0x51e)],_0x53a0f2=b['get'](_0x45d098(0x57a))[_0x45d098(0x584)];try{let _0x13e382={'ip':_0x4d3c21||null,'redis_enable':_0x3edfff?.[_0x45d098(0x7d2)]||null,'apikey':_0x6e6e8a||null,'ssl':_0x31dfc7?.[_0x45d098(0x6be)]||null,'lastupdate':_r||null,'port':_0x46ce28||null,'gitInstallError':Te?.[_0x45d098(0x638)]||null,'url':_0x53a0f2||null};if(console[_0x45d098(0x38a)](_0x45d098(0x2ec),_0x13e382['ip']),_0x3edfff&&_0x3edfff['ENABLED']){let _0x483a15=await Fi();_0x13e382['instanceCount']=_0x483a15||null;}for(let _0x2894db in _0x13e382)_0x13e382[_0x45d098(0x261)](_0x2894db)&&_0x2894db!=='ip'&&(_0x13e382[_0x2894db]=JSON['stringify'](_0x13e382[_0x2894db]));return(await Re[_0x45d098(0x4d7)][_0x45d098(0x820)](_0x45d098(0x74a),_0x13e382))[_0x45d098(0x7f3)];}catch(_0x3dd8ec){return console['error'](_0x3dd8ec),!0x1;}}var Is=!0x1,_r=0x228,qi=0x3,Tr=0x1b7740;function a0_0x1bdc(){const _0x3e366f=['mongoose','size','fetchProfile','parse','title','instancias:\x20','set','\x1b[30m%s\x1b[0m','):\x20Editando\x20condição\x20do\x20fluxo...','join','data:\x20','/instance/connect','flush','\x1b[31m%s\x1b[0m','DaysToDelete','/:instanceName','groupAcceptInvite','contains','WebhookGlobal','Erro:','.xls','exists','trim','.xlsx','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','deleteInstance','create','InstancesAlterarTodas','connectionState','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','.doc','ignoreGroups','notMatchRegex','findIndex','Bad\x20Request','announce','name','DELETED','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','createSharedFlow','Database\x20is\x20not\x20enabled','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','Error\x20creating\x20group','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','local_map','):\x20Editando\x20grupo\x20do\x20fluxo...','redis','isURL','available','pollMessageOnDelete','findParticipants','truncatedtoEnd','.\x20Pulando.','response','apirequest','moreLogs','Error\x20updating\x20privacy\x20settings','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','decryptPollVote','setting','editConversation','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','checkAndUpdateChatStatus','):\x20Enviando\x20localização','findChats','documentWithCaptionMessage','findMessages','GROUP_PARTICIPANTS_UPDATE','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','PLAYED','getTime','PRIVKEY','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','env.yml','replaceVariablesInReplyOptions','updateMissingEtiquetas','Error\x20change\x20group\x20name','Erro\x20de\x20atualização:\x20','URI','lastMessage','#9ab6c1','restart','includes','shutdown\x20-r\x20now','deleteFlow','info','replaceValue','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','):\x20Enviando\x20áudio','mediaSticker','http://ipecho.net/plain','waitingMenu_ExpiredMessage','updateAll','#9568cf','):\x20Erro\x20ao\x20buscar\x20conversas\x20','findGroup','Authentication\x20error','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','normalizeMessageContent','where','groupParticipantsUpdate','Deletion\x20failed','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','detail','):\x20Deletando\x20mensagem','https-proxy-agent','groups.upsert','goNextblock','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','https://ipinfo.io/json','readdirSync','connectedName','\x20com\x20sucesso.','LOG_LEVEL','status','/wa-qrcode','Erro\x20ao\x20editar\x20agentes:\x20','):\x20Bloco\x20com\x20ID\x20','Erro\x20ao\x20buscar\x20conversa:\x20','last','updateConversation','Rótulo\x20inválido\x20ou\x20sem\x20ID.','error','Error\x20change\x20group\x20description','CHATS_UPDATE','request\x20received\x20in\x20editFlowcondition','Flow\x20iniciado\x20com\x20','requestPairingCode','instanceKeys','copyDataToNewModel','Button\x20IDs\x20cannot\x20be\x20repeated.','groupadd','Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','audio/ogg','createHash','groupUpdateDescription','dbClient','option','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','del','child_process','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','toFile','Chat\x20','loggedOut','#f64847','request\x20received\x20in\x20editFlowgroup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','connectionUpdate','Types','Safari\x20(MacOS)','):\x20Criando\x20nova\x20conversa[createNewConversation]','test','initAuthCreds','findAll','scheduleMessage','ListMessage','.txt','_Labels','menuMessage','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','unknown\x20operation\x20type\x20[','updateProfilePicturePrivacy','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','getAllData','deleteOne','buttons','bulkWrite','stopConversation','!cmd_','101212UjPqjT','Parando\x20aplicação,\x20atualização\x20recebida','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','findOneAndUpdate','lastmsg','oldValue','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','audioMessage','tags','messageId','presence','format','remoteJids','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','#56ccb4','fetchConversation','groupId','keys','groupMetadata','Erro\x20ao\x20copiar\x20dados:','not\x20loaded','temp-',']\x20(','pollCreationMessageV2','.X-ABLabel:Celular\x0a','events','flowIgnoreGroups','REDIS_PREFIX_KEY','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','dbServer','Error\x20updating\x20profile\x20status','URL:','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','Parando\x20aplicação...','eventemitter2','authService','collections','Business\x20profile\x20fetched','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','Getting\x20profile\x20info','):\x20Current\x20Time:\x20','flowStopMinutes','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','vote','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','less','segundos','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','uazapiSendMenu','getBusinessProfile','):\x20Conversa\x20inserida\x20com\x20sucesso.','forEach','push','--agree-tos','promote','.webp','#6f7bcf','request\x20body:\x20','\x5c$&','editFlowBlock','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','Flow\x20não\x20encontrado','This\x20name\x20','editflowcondition','):\x20Edit\x20schedule\x20message...','deleteConversation','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','capitalizedWords','repository','createRegularFlow','displayName','getLastMessage','notEqual','linkPreview','qrcode','header','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','sendMedia','ORG:','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','menuExpiredMessage','ON\x20-\x20dbName:\x20','Module\x20-\x20ON','saveVariable','):\x20tem\x20blocks','11708412RMdiTl','app','composing','lastSendMessage','LICENSE_INVALID','605oCsiwz','logger','.\x20Aguardando\x20antes\x20de\x20reconectar...','username','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','delayMessage','sharp','currency','Selecione','connectToWhatsappController','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','configService','replaceVariables','lean','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','delaySecMax','\x20-\x20ON:\x20','createNewConversation','boolean','Log\x20out\x20instance:\x20','KEY','latitude','headers','toUpperCase','FlowRouter','request\x20received\x20in\x20fetchConversation','jsonwebtoken',':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...','utf-8',':\x20Tentativa\x20','find','hex','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','deleteMessage','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','convertaudio','sendButtons','readMessage','toLowerCase','unhandledRejection','insert','Falta\x20informação\x20para\x20a\x20chamada\x20API','array','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','/instance/fetchInstances','reference','documentMessage','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','Error\x20updating\x20participants','Contacts\x20not\x20found','request\x20received\x20in\x20deleteDoneMessages','app-state-sync-key','\x20contacts','FULLCHAIN','PRESENCE_UPDATE','fetchMessages','Erro\x20ao\x20inserir\x20chats:','localWebhook','params','\x20não\x20encontrado\x20para\x20atualização.','block','error_log','SERVER_OFFLINE','47047EhyFxU','object','):\x20newSecondValue\x20após\x20replaceVariables:','isConnected','processvaredits','replace','.TEL;waid=','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','fetchProfile2','saveCreds','217xbSdBT','quotedMessage','AUTHENTICATION_TYPE','HttpsProxyAgent','groupJid',':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20','save','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','expiration','ENABLED','timerId','BRL','isJWT','startFlow','contactname','STORE_CONTACTS','CONTACTS_UPSERT','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','JWT','chats.set','isBusiness','redis://127.0.0.1:6379','map','archived','reconnectTimestamps','messaging-history.set','fetchProfilePictureUrl','findWebhook','\x0aFN:','scheduleSendText','long','getMinutes','updateMany','apiName','#d8e651','request\x20received\x20in\x20updateAgent','text/event-stream','PENDING',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','\x20removido\x20do\x20chat\x20','DATABASE_CONNECTION_URI','data','authorization','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','\x22\x20-\x20REMOVED','pushName','bodyString','messages.set','fone','jwt','/webhook','vcard','chats.delete','[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.','deleteMessageForEveryone','etiquetas','updateChatWithMessage','https://api.openai.com/v1/audio/speech','DB_PREFIX_NAME','50mb','group\x20ignored','cache','responsavelid','sharePass','allflows','existsSync','/wa-contacts','findGroupInfos','updateAgent',',\x20Expiration\x20Time:\x20','):\x20Buscando\x20todos\x20os\x20fluxos...','Erro\x20ao\x20encerrar\x20a\x20API','env.KEY\x20!==\x20key','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','certonly','Type\x20not\x20found','conversation','\x20quoted:\x20','collection','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','METHODS','CONNECTION','reorderBlocks','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','\x20minutos','assign','post','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','*Pergunta*:\x20\x0a','#ff9484','copyBlock','defineAuthState','):\x20isVote:\x20','addresss','contextInfo','string','startsWith','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','views','updateOnlinePrivacy','ObjectId','folder','Comando\x20desconhecido','subjectOwner','webhookMap','):\x20group\x20ignored','update','waitingForReplyMenu','):\x20Ignoring\x20group\x20messages.','_Chats','removeProfilePicture','editflowgroup','pollCreationMessage','messageType','/wa-connection-update','Processing\x20audio','getConversationModelForOwner','DEBUG','mkdirSync','statusJidList','error\x20get\x20vote','g.us','createJid','Erro\x20de\x20reinicialização:\x20','getScheduleMessage','API\x20Key\x20inválida.','query','reorderReplyOptions','generate','dark','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','shareOwners','):\x20','.webm','):\x20Flow\x20desativado','processUazapi','findGroups','contact','SendScheduleMessage','next_groupId','Fluxo\x20não\x20encontrado','noConnection','desativadoFluxoAte','path','context','varedit','body','):\x20Editando\x20variável\x20do\x20fluxo...','chatLog','[messages.upsert]\x20Mensagem\x20não\x20descriptografada\x20detectada:\x20ID\x20=\x20','479655vuDMSg','):\x20customFieldVariables','exec','contacts','certbot','static','participants','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','://','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','Type\x20defined\x20as\x20audio','.mp4','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','fetchProfilePicture','request\x20received\x20in\x20scheduleMessage','Button\x20texts\x20cannot\x20be\x20repeated','.wav','none','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','ex:\x20\x22groupJid=120362@g.us\x22','setHeader','TEXT','errorLog','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','leadInfo','height','isBase64','READ','debug','console','contactMessage','findAndReplace','):\x20Enviando\x20texto','_p_','axios','uazapiSendText','leadInfo.desativadoFluxoAte','WARN','updateMissingLabels','organization','backgroundColor','/automate','replaceVariablesChat','File\x20written\x20to\x20path:\x20','deleteflow','editChat','sendDataWebhook','sendMenu','https://api.ipify.org?format=json','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','\x1b[32m%s\x1b[0m','processPollUpdateMessage','updateLastSeenPrivacy','upperCase','round','\x1b[37m','Reinicialização\x20iniciada:\x20','CONFIGURAÇÃO\x20GERAL:','webhookModel',':\x20Erro\x20durante\x20loadproxy\x20-\x20','updateStatusPrivacy','$dbName','Instance\x20restarted','HOST','#ffffff','DATABASE_CONNECTION_PASSWORD','stateConnection','archive','Instance\x20ID:','unreadCount','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','125izGXix','groups.update','AUTHENTICATION_JWT_EXPIRIN_IN','Erro\x20inesperado\x20em\x20processvaredits:\x20','labels.edit','Missing\x20global\x20api\x20key','AutomateFunctions','prefixCommand','pollUpdateMessage','.pptx','sendReaction','uazapiDeleteMessage','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','Error\x20updating\x20setting','restrict','toNumber','Fluxos\x20não\x20estão\x20ativados','locked','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','groupToggleEphemeral','validate','\x1b[44m','messageSecret','TYPE','SERVER_TYPE','):\x20conversation.lastInteraction:\x20','insertCount','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','metadata','store','request\x20received\x20in\x20starFlow','ephemeralExpiration','has','silent','CORS','updateMissingShareOwners','put','changeVariables','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','extractRegex','editFlowGroup','get','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','stanzaId','Error\x20change\x20group\x20setting','createConversationforStartFlow','sending','updateProfileName','Erro\x20ao\x20normalizar\x20a\x20mensagem:','\x1b[37m%s\x1b[0m','Operador:\x20\x22','onWhatsApp','resetReconnectionVariables','/instance','SSL_CONF_FULLCHAIN','scheduleSendMedia','statusMessage','/events/:instance','Erro\x20ao\x20remover\x20label\x20','):\x20Buscando\x20flow...','\x20-\x20retornado:\x20','image','No\x20join\x20group\x20invite\x20code\x20or\x20url','profilePicture','Instância:\x20','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','):\x20Bloco\x20original\x20para\x20cópia:\x20','remove','findAndReplaceRegex','uazapi','listResponseMessage','scheduled','\x20minutos\x20verificará\x20novas\x20mensagens','Connection','sectionsToString','groupName','Erro\x20ao\x20editar\x20o\x20chat:\x20','.ogv','DATABASE_ENABLED','Mensagem\x20não\x20suportada','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','Error\x20occurred\x20while\x20archiving\x20chat:\x20','hasOwnProperty','exports','webhookService','DELIVERY_ACK','profilePictureUrl','getMessage','Erro\x20ao\x20editar\x20o\x20bloco:\x20','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','creation','mongodb://','\x1b[33m%s\x1b[0m','config','evaluateConditionTest','abs','remoteJid','Font\x20is\x20required','createConversationforgoToFlow','warn','Telefone:\x20','Getting\x20image\x20from\x20url','SERVER_PORT','oldToken','Image\x20converted\x20to\x20WebP','DOCKER_ENV','EXPIRIN_IN','charAt','contact_blacklist','):\x20Alterando\x20fluxo...','/wa-groups','text','_Messages','cleanStore','Content-Type','_Contacts','):\x20Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','leaveGroup','https','/instance/connectionState','atendimentoAberto','unlinkSync','add','generateWAMessageFromContent','labels.association','Revoke\x20error','readMessages','EMAIL:','inviteCode','readFileSync','caption','isArray','saveConversationToDatabase','Rótulo\x20deletado:','stderr','isInteger','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','dbSettings','The\x20property\x20cannot\x20be\x20empty','variablesNotFound','footerText','varedits','Erro\x20ao\x20sincronizar\x20fluxos:\x20','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','pre','.ppt','storePath','equal','some','GROUPS_UPSERT','\x0a*Você\x20respondeu*:\x0a','LOG','request\x20received\x20in\x20updateCustomFields','cors','onTime','Read\x20messages\x20fail','editFlowVaredit','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','createSectionsFromValues','Forbidden','slice','newStoppedUntil','request\x20received\x20in\x20getAutomateSystem','entries','.png','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','action','presenceSubscribe','password','choices','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','type','):\x20Conversas\x20encontradas:','toArray','dataValidate','connection.update','min','hSet','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','webhook','Type\x20is\x20required','messageStubType','Cache-Control','fetchLabels','senderKeyDistributionMessage','picture','):\x20Dados\x20migrados\x20com\x20sucesso','Image\x20created','delAll','Erro\x20ao\x20remover\x20instâncias\x20antigas:','deleteAll','uazapiSendLocation','hDel','ChatRouter','removeInstance','url','):\x20Editando\x20edição\x20do\x20fluxo...','jpegThumbnail','stopWhenYouSendMsg','createInstance','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','pollMessage','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','/media','code','and','-whatsapp-api','endSession','@newsletter','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','owner','enabled','description','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','Erro\x20ao\x20iniciar\x20fluxo:\x20','Tentando\x20reconectar...','/config','ip:\x20','SECRET','phoneNumber','groups_ignore','length','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','instanceName\x20not\x20provided.','trimmed','/exit','^\x5cd+[\x5c.@\x5cw-]+','stickerMessage','minutesToClose','69910rDmkDL','uncaughtException','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','chat','imageMessage','Cached\x20audio\x20found,\x20returning\x20existing\x20file','https://api.openai.com/v1/images/generations','$set','Erro\x20ao\x20atualizar\x20o\x20flow.','creds.update','port','Chrome','CLEANING_INTERVAL','stopMinutes','messageContextInfo','mentions','ini','The\x20\x22','creds','userDevicesCache','sendMessageWithTyping','checkAndRestartProcess','loadWebhook','stopped','express','participant','.ogg','writeFile','INFO','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','updateParticipant','Schema',',\x20valor\x20passado:\x20\x22','https://','):\x20teve\x20mudanças\x20chat.archived:\x20','dropCollection','apiResponse','):\x20Editando\x20bloco...','Error\x20updating\x20profile\x20name','toBRL','loadproxy','start','\x5cd+','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','from','createFlow','):\x20nextBlock.uazapi.name','getChatModelForOwner','variables','setContext','contentText','NO_IP','done','group','Invalid\x20format','\x1b[32m','Error\x20update\x20group\x20picture','DisconnectReason','getRandomText','sendContact','findLabels','\x20inseridos\x20no\x20banco\x20de\x20dados...','media','view\x20engine',',\x20saindo.','/chat','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','loadInstance','SEND_MESSAGE','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','):\x20debug\x20alterando\x20this.AutomateSystem','STORE_CLEANING_TERMINAL','$addToSet','createWebhook',',\x20Resultado:\x20','notify','nomecompleto','content','flowName','):\x20Buscando\x20conversas...','):\x20newFirstValue\x20após\x20replaceVariables:','updateOneById','removed','removeData','unavailable','sendPresenceUpdate','synchronizeFlows','uazapiSendContact','):\x20Entrou\x20na\x20função\x20stop','@broadcast','\x1b[0m','E-mail:\x20','lastSend','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','\x22\x20cannot\x20be\x20empty','):\x20Erro\x20ao\x20editar\x20agentes:\x20','automateSystem','):\x20conversation.waitingMenu_name','\x22\x20-\x20NOT\x20CONNECTION','formatStatusMessage','8628jnWqZQ','SERVER_URL','):\x20Comando\x20desconhecido:\x20','order','instance','emit','RemoveChatLabel','groupValidate','Getting\x20profile\x20with\x20jid:\x20','online','Rótulo\x20atualizado:','audio/mp4','stopMinutesMaxActives','modifiedCount','STATUS_INSTANCE','InstancesAsDisconnectedX','groupRevokeInvite','updateStopChat','output','statSync','ERROR:\x20','spawn','No\x20participants','.mp3',',\x20qrcodeCount:\x20','Last\x20message\x20not\x20found','website','https://jsonip.com','firstValue','realVariables','allContacts','options','Logger','integer','msgRetryCounterCache','chats.update','fileName','fileUrl','apikey','Variáveis\x20não\x20encontradas:','Conexão\x20estabelecida','substring','js-yaml','isRunning','log','blockId','importChatsBatch','isListOfNumbers','):\x20Deletando\x20fluxo...','newValue','Group\x20not\x20found','Converting\x20image\x20to\x20WebP\x20to\x20sticker','hbs','Instância\x20não\x20encontrada.','cleaningUp','client','uazapiSendMedia','evaluateCondition','allFlows','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','urlOrBase64','Audio\x20converted\x20and\x20stored\x20in\x20cache','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','padStart','applyvaredit','findByIdAndDelete','reactionMessage','fetchPrivacySettings','writeData','replaceVariablesInObject','Erro\x20ao\x20atualizar\x20AutomateSystem:','sendPoll','inner','REDIS_URI','/*.json','shift','replaceVariablesLogs','#000000','/events','delayChatLabel','Notifying\x20clients\x20for\x20chat:\x20','messageStubParameters','numbers','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','process','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','https://api.elevenlabs.io/v1/text-to-speech/','getAutomateSystem','locationMessage','AUTHENTICATION_JWT_SECRET','__esModule','processConditions','ChatModel','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','toDataURL','leadInfo.customFields','Read\x20messages','flattenObject','host','messages','@whiskeysockets/baileys','getScheduleMessageModelForOwner','http://checkip.dyndns.org','chats','fetchChats','bateu\x20events','video-cover.png','PROXY','\x0aitem','write','EMAIL','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','empty','reaction','color','authentication','toggleEphemeral','expression','sendLocation','toLocaleString','Internal\x20Server\x20Error','Chat\x20com\x20ID\x20','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','\x1b[43m','findContacts','API_KEY','maxActives','flowConfig','\x1b[33m','/create','parseInt','instances','fromMe','birthtime','indexOf','saveMediaToFile','jsonschema','command','addChatLabel','authModel','\x20horas\x20e\x20','):\x20Usando\x20extensão\x20padrão:\x20','application/json','dbInstance','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','sendList','viewOnceMessageV2','request\x20received\x20in\x20allFlows','buttonId','readreceipts','flow','removeOlderDisconnectedInstances','https://uazapi-plugin.bubbleapps.io/','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','menuIgnoreNonVotes','limit','Error\x20removing\x20profile\x20picture','CHATS_DELETE','StartBot','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','setUpdate','):\x20Bloco\x20copiado:\x20','profile','\x20instance\x20does\x20not\x20exist','closeExistingConversations','http://ip-api.com/json','sleep','endsWith','/wa-message-update','):\x20atualização\x20chat:\x20','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','TEL','exit','chatModify','WA\x20MODULE','subdomain','Not\x20Found','waInstances','):\x20Query\x20params:\x20','connectedClient',':\x20IP\x20funcionando!','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','stopIfLastReturnedError','logout','request\x20received\x20in\x20editFlow','findById','closed','):\x20Buscando\x20conversa...','notEmpty','leadInfo.','remoteJidsRemaining','sem\x20texto\x20na\x20mensagem','uazapiSendAudio','now','padEnd','eventEmitter','):\x20Flow\x20não\x20encontrado','CORS_CREDENTIALS','waUploadToServer','unreadcount','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','open','\x20-y','match','\x20foi\x20interrompido\x20pelo\x20usuário.','contacts.upsert','base64','updateFlowConfig','presence.update','createConnection','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','updateMissingCustomFields','encoding','stdout','):\x20Query\x20params:','CONTACTS_UPDATE','list','Error\x20updating\x20profile\x20picture','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','NextBlock',',\x20pairCode:\x20','demote','\x1b[1m\x1b[37m','wuid','):\x20delete\x20=\x20true','jid','REDIS','createAndSave','editOperator','auth','activatedCount','sort','toString','variable','labelId','AutomateSystem','fetchStatus','state','toBrazilianNumberFormat','\x1b[36m','editFlow','deleted','hGet','video','fetchBusinessProfile','testProxy','buttonMessage','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','Bloco\x20com\x20ID\x20','getStatus','reconnectAttempts','replyOptions','updateCustomFields','request\x20received\x20in\x20deleteFlow','model','Atualização:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','updateGroupsAddPrivacy','updateBlock','stringify','chats.upsert','groupHandler','editedMessage','Esse\x20fluxo\x20expirou','Número:\x20','ERROR','fromObject','All_Instances_Config','2okBzfq','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','getClient','prototype','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','editFlowCondition','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','editflowblock','replaceOne','Router','Instance\x20\x22','readFile','\x20->\x20NÃO\x20CORRESPONDE.','urlencoded','dayjs','updateProfilePicture','STORE_MESSAGE','replacer','}}\x20->\x20valor\x20não\x20encontrado','Validate','Close\x20connection','agents','writeFileSync','privacySettings','scheduleMessages','replyOption','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','contactsArrayMessage','end','2392701RJVJRp','extractMessageContent','Image\x20path:\x20','/media/','repeat','imagechat','buttonText','Deleted\x20','binary','USER','LOG_COLOR','createGroup','Output\x20path:\x20','Erro\x20ao\x20aplicar\x20varedit:\x20','env','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','Last\x20message\x20not\x20found\x20for\x20number:','subject','statusCode','archiveChat','):\x20conversation.status:\x20','updateOne','delayChatLabel_RETRY_DELAY_MS','Erro\x20ao\x20deletar\x20chat:','editFlowReply','count','Data\x20inválida\x20fornecida','delayChatLabel_MAX_RETRIES','formatVCard','whatsappNumber','downloads','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','qrcode.updated','\x22reaction\x22\x20must\x20be\x20an\x20emoji','redisEnv','getTicketSystem','delaySecMin','revokeInviteCode','apply','-instances','FlowController','router','#01d0e2','SSL_CONF','getMIMEType','):\x20Campos\x20a\x20serem\x20atualizados:','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','notas','}}\x20->\x20\x22','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','enviado\x20para','LabelModel','convertToWebP','/wa-message','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','deleteBlock','joinGroupValidate','audioWhatsapp','isJidUser','[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada:\x20ID\x20=\x20','#ffc5c7','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','<subdomain>','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','Erro\x20ao\x20atualizar\x20o\x20fluxo:','delay','@ffmpeg-installer/ffmpeg','protocolMessage','request\x20received\x20in\x20editFlowvariable','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','instance.','https://chat.whatsapp.com/','waitingMenu_text','sections','filter','menuType','default','.svg','):\x20Entrou\x20na\x20função\x20saveReply','contacts.update','pairingCode','Erro\x20ao\x20editar\x20a\x20conversa:\x20','BufferJSON','interval\x20não\x20é\x20um\x20número','updateGParticipate','getMessageModelForOwner','\x20adicionado\x20ao\x20chat\x20','express-async-errors','condition','authState','lowerCase','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','/instance/delete','chatId','document','):\x20Não\x20achou\x20nenhum\x20flow','formatBRNumber','removeChatLabel','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','notContains','./.git/config','createflow','importChats','compression','):\x20não\x20encontrou','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','\x1b[34m%s\x1b[0m','processConditionsTest','copy','protocol','https://uazapi-plugin.bubbleapps.io/?url=','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','_id','proto','not_announcement','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','redirect','videoMessage','updateProfileStatus','waMonitor','waitingMenu_id','quoted','address','lastReceivedMessage','release','use','sendStatus','\x20is\x20already\x20in\x20use.','#64c4ff','Error\x20while\x20deleting\x20message\x20for\x20everyone','method','createServer','role','flushHeaders','blocks','MESSAGES_UPSERT','envProcess','mediaMessage','sendWhatsAppAudio','scheduleNextCheck','number','Instance\x20logged\x20out','findFlow','):\x20Conversa\x20está\x20expirada\x20-\x20voto','selectableCount','):\x20Ler\x20mensagem','mediatype','PORT','deleteChat','getContentType','chatHandle','lastDisconnect','CONECTADO\x20À\x20UAZAPI','poll','recebido\x20de','\x20não\x20encontrado','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','DATABASE_CONNECTION_HOST','Última\x20tentativa\x20de\x20recuperação\x20para\x20a\x20mensagem:','Início','../env.yml','.pdf','optionDescription','envYaml','SERVER_ACK','cpf','PRODUCT_LIST','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','messages.upsert',',\x20Comparador:\x20','nextBlock:','Trying\x20to\x20get\x20business\x20profile','licenca','Hash\x20to\x20image\x20name:\x20','Desconectado,\x20parando\x20execução.','):\x20Erro\x20durante\x20a\x20atualização:\x20','rowId','message_normalized','mimetype','recording','hGetAll','font','getContactModelForOwner','utf8','remote\x20\x22origin\x22','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','instanceInfo','\x20not\x20found,\x20retrying\x20in\x20','\x22\x20not\x20found','reviver','PASSWORD','remove.instance','application/octet-stream','findOrCreate','values','!stop','lastCondition','48SMIKjW','Not\x20allowed\x20by\x20CORS','http://myexternalip.com/raw','scheduleSendAudio','instanceName','updateMediaMessage','created','getLabelModelForOwner','):\x20Error\x20processing\x20the\x20block:\x20','Content\x20is\x20required','listMessage','getBase64FromMediaMessage','rm\x20-rf\x20','Erro\x20ao\x20buscar\x20conversas:\x20','conditions','email','normalizeMessage','Error\x20fetching\x20and\x20updating\x20profile:\x20','sendText','valid','buffer','MAX_RECONNECT_ATTEMPTS','.jpg','processingScheduleMessageId','errors','paused','Sistema\x20atualizado\x20com\x20sucesso!','DD/MM\x20HH:mm:ss','readData','_activatedCount','floor','#dfaef0','/clients-info','headerString','):\x20Iniciando\x20bot...','\x1b[31m','/wa-chats','joinGroup','random','AUTHENTICATION','AppStateSyncKeyData','groupLeave','SERVER','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','connectionStatus','Connection\x20closed\x20for\x20instance:\x20','mediaKey','success','updateGParticipant','editScheduleMessage','pt-BR','Error\x20in\x20markMessageAsRead:','URL','Not\x20is\x20business\x20profile','saveTextReply','):\x20this.processingScheduleMessageId:\x20','goToFlow','greater','fetchLatestBaileysVersion','subjectTime','groupDesc','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','Primeiro\x20Valor:\x20','):\x20alterando\x20this.AutomateSystem','sendAudio','item','fetchContacts','getPrototypeOf','setWebhook','):\x20Criando\x20fluxo\x20compartilhado...','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','drop','getDevice','sendCommand','PREFIX_KEY','arraybuffer','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','when','getOwnPropertyDescriptor','listType','lastBlockId','readMessageBot','QRCODE_UPDATED','REDIS_ENABLED','isJidGroup','messageTimestamp','findOne','node-cache','\x1b[1m','CHATS_UPSERT','status@broadcast','split','RECONNECT_TIME_FRAME','uuid',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','Label\x20','ms\x20(Attempt\x20','cwd','class-validator','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','DARK','deletedCount','mongodb','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','prepareMediaMessage','getConversation','#00a1f2','ReplyOption\x20com\x20ID\x20','textMessage','Message','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','useMultiFileAuthState','contactHandle','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','connectToWhatsapp','messages.update','Nenhum\x20chat\x20encontrado\x20para\x20editar.','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','):\x20Entrou\x20na\x20função\x20goToFlow','request\x20received\x20in\x20editConversation','creds.json','call','connecting','markMessageAsRead','send','CONTACTS_SET','matchRegex','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','badSession','crypto','MESSAGES_UPDATE','lastInteraction','Archiving\x20chat','/instance/create','editflowreply','imported','CORS_ORIGIN','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','SINGLE_SELECT','?timestamp=','true','variablesToObject','getDelay','preview','nome','.jwt','qrCode','updateMessage',',\x20Segundo\x20Valor:\x20','customFields','deleteDoneMessages','\x1b[42m','groups','Erro\x20ao\x20deletar\x20mensagens:','):\x20Procurando\x20mensagens\x20para\x20envio','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','deleteReplyOption','isLong','GROUPS_UPDATE','?authSource=admin&readPreference=primary&directConnection=true','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','messageHandle','close','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','pollCreationMessageV3','augusto.fcs@gmail.com','@s.whatsapp.net','getFlow','upsertedCount','pollCreationMessageKey','makeCacheableSignalKeyStore','sha256','):\x20Limpando\x20delayMessage','verifiedName','all','SUCCESS','http','node-mime-types','status.instance','including\x20timestamp\x20in\x20url:\x20','delete','deleteMany','@g.us','user','label','):\x20Conversa\x20está\x20expirada','):\x20updateResult:','json','blockLogs','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','\x1b[40m','audio','getHours','fetchInstances','@redis/client','generateHash','conversationTimestamp','$pull','CHATS_SET','flowConversation','eventHandler','):\x20Error\x20processing\x20conditions:\x20','\x0a{\x20instance:\x20','connect','throwAndLogError','FlowModel','.docx','findByIdAndUpdate','MESSAGES_SET','HH:mm:ss','VERBOSE','The\x20global\x20api\x20key\x20must\x20be\x20set','requestFile','CONNECTION_UPDATE','\x20after\x20','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','):\x20transformedCustomFieldVariables','flowStopConversation','editFlowVariable','sendMessage','groupSetting','verbose','updateReadReceiptsPrivacy','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','flowActive','secondValue','updatePrivacySettings','restartInstance','message','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','sendSticker','sign','AutomateSystem\x20não\x20foi\x20inicializado','flowname:\x20','\x1b[34m','flowPrefixCommand','no.connection','OrAnd','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','fullName','Erro\x20ao\x20importar\x20chats:','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','Conversa\x20deletada\x20com\x20sucesso.','DATABASE_CONNECTION_DB_PREFIX_NAME','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','addReplyOption','DATABASE','_Flows','everyOne','URL\x20limpa:\x20','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','Error\x20in\x20converting\x20audio','getFlowModelForOwner','insertMany','Profile\x20not\x20found','CREDENTIALS','):\x20Criando\x20fluxo\x20regular...','processblock','leadInfo.etiquetas','):\x20Enviando\x20mídia','rows','^\x5cd+',',\x20lastCondition:\x20','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','setRestartTimer','processApiRequest','webp','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','waitingMenu_replyOptions','enumerable','group-participants.update','value','originalUrl','audio/mpeg','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','Failed\x20to\x20find\x20chat\x20','AddChatLabel','updateGroupPicture','max','routerPath','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','key','ListType','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','request\x20received\x20in\x20updateFlowConfig','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20'];a0_0x1bdc=function(){return _0x3e366f;};return a0_0x1bdc();}async function Ds(){const _0xe358ce=a0_0x28b734;if(!await Dr())return console[_0xe358ce(0x6f1)](_0xe358ce(0x6b3)),_0xe358ce(0x32c);let _0x54f031=await Ui();if(_0x54f031){if(_0x54f031[_0xe358ce(0x6ab)][_0xe358ce(0x537)]===!0x0){let _0xbb4c14=b[_0xe358ce(0x238)](_0xe358ce(0x4b5)),_0x8acb32=b['get']('SERVER')[_0xe358ce(0x584)];_0xbb4c14&&_0xbb4c14?.['PRIVKEY']?.['includes'](_0xe358ce(0x4c8))&&_0x54f031[_0xe358ce(0x6ab)][_0xe358ce(0x40e)]&&!_0x8acb32&&(await Bi(_0x54f031[_0xe358ce(0x6ab)][_0xe358ce(0x40e)],Vi),await Gi(_0xe358ce(0x5f7),_0x54f031['response'][_0xe358ce(0x40e)]),console[_0xe358ce(0x38a)](_0xe358ce(0x5c3)),setTimeout(()=>zi(),0x2710)),Te===null&&_0x54f031[_0xe358ce(0x6ab)]['last_update']-_r>0x0&&await Ji(),Is||(Is=!0x0,_i());let _0x3b381d=0x24*0x3c*0x3c,_0x4826e7=_0x54f031[_0xe358ce(0x6ab)]['segundos']>_0x3b381d?_0x3b381d:_0x54f031[_0xe358ce(0x6ab)][_0xe358ce(0x752)],_0x3d956a=Number(_0x4826e7);if(isNaN(_0x3d956a)){console['error'](_0xe358ce(0x4de));return;}let _0xe30ec9=Math['floor'](_0x3d956a/0xe10),_0x5f5df0=Math['floor'](_0x3d956a%0xe10/0x3c),_0x123cb1=new Date(Date[_0xe358ce(0x420)]()+_0x3d956a*0x3e8);setTimeout(Ds,_0x3d956a*0x3e8);let _0x40dede=_0xd50b62=>_0xd50b62[_0xe358ce(0x448)]()[_0xe358ce(0x39d)](0x2,'0'),_0x147869=_0xe358ce(0x59d)+_0x40dede(_0xe30ec9)+_0xe358ce(0x3ea)+_0x40dede(_0x5f5df0)+'\x20minutos.\x20Será\x20às\x20'+_0x40dede(_0x123cb1[_0xe358ce(0x612)]())+':'+_0x40dede(_0x123cb1[_0xe358ce(0x7e8)]())+'.';console[_0xe358ce(0x38a)](_0x147869);}else return console[_0xe358ce(0x38a)](_0xe358ce(0x68e)),Is&&(console['log'](_0xe358ce(0x43a)),process['exit']()),_0xe358ce(0x77e);}else{if(Rr++,Rr<qi)console[_0xe358ce(0x38a)](_0xe358ce(0x4cf)+Tr/0xea60+'\x20minutos...'),setTimeout(Ds,Tr);else return console['error'](_0xe358ce(0x471)),_0xe358ce(0x7be);}}async function Ji(){const _0x7ecd57=a0_0x28b734;console[_0x7ecd57(0x38a)](_0x7ecd57(0x722));let _0x43f0ef=(0x0,Ae[_0x7ecd57(0x373)])(_0x7ecd57(0x250),{'shell':!0x0});_0x43f0ef[_0x7ecd57(0x434)]['on'](_0x7ecd57(0x7f3),_0x3a7460=>{const _0x652a4=_0x7ecd57;console[_0x652a4(0x38a)](_0x652a4(0x45f)+_0x3a7460);}),_0x43f0ef['stderr']['on'](_0x7ecd57(0x7f3),_0x3b9144=>{const _0x5efce5=_0x7ecd57;console[_0x5efce5(0x6f1)](_0x5efce5(0x6c4)+_0x3b9144);}),_0x43f0ef['on']('exit',_0xcf8dce=>{const _0xa9c97a=_0x7ecd57;_0xcf8dce!==0x0?console[_0xa9c97a(0x6f1)](_0xa9c97a(0x4c0)+_0xcf8dce):console[_0xa9c97a(0x38a)](_0xa9c97a(0x56a)),console['log'](_0xa9c97a(0x745)),setTimeout(()=>process['exit'](),0x2710);});}var Vi=Oe[a0_0x28b734(0x4d7)]['join'](__dirname,a0_0x28b734(0x6c0));async function Bi(_0xe1c213,_0x2b245d){const _0x2943f6=a0_0x28b734;let _0x554534=Wi();_0xe1c213=_0xe1c213['replace']('.uazapi.dev','');try{let _0x3b93cd=de[_0x2943f6(0x4d7)][_0x2943f6(0x290)](_0x2b245d,'utf8');_0x3b93cd=_0x3b93cd[_0x2943f6(0x7c4)](/<apikey>/,_0x554534),_0x3b93cd=_0x3b93cd[_0x2943f6(0x7c4)](/<subdomain>/g,_0xe1c213),de[_0x2943f6(0x4d7)][_0x2943f6(0x483)](_0x2b245d,_0x3b93cd,_0x2943f6(0x542)),console['log'](_0x2943f6(0x6d8));}catch(_0x184d1f){console['error'](_0x2943f6(0x1d0),_0x184d1f);}}function Gi(_0x592023,_0x2309ab){return new Promise((_0x567197,_0x3bb3f7)=>{const _0x310363=a0_0x4163;let _0x577d63=(0x0,Ae[_0x310363(0x373)])(_0x310363(0x1cb),[_0x310363(0x814),'--standalone','-m',_0x592023,_0x310363(0x759),'-d',_0x2309ab]);_0x577d63[_0x310363(0x434)]['on'](_0x310363(0x7f3),_0x245e0d=>{const _0x55eced=_0x310363;console[_0x55eced(0x38a)]('Certbot:\x20'+_0x245e0d[_0x55eced(0x448)]());}),_0x577d63['stderr']['on'](_0x310363(0x7f3),_0x5e3f3f=>{const _0x186897=_0x310363;console[_0x186897(0x6f1)]('Erro\x20do\x20Certbot:\x20'+_0x5e3f3f['toString']());}),_0x577d63['on']('close',_0x3ea255=>{const _0x56617a=_0x310363;_0x3ea255!==0x0?(console['error'](_0x56617a(0x74e)+_0x3ea255),_0x3bb3f7(_0x56617a(0x74e)+_0x3ea255)):(console[_0x56617a(0x38a)]('Certbot\x20executado\x20com\x20sucesso.'),_0x567197());});});}function Wi(_0x4cff51=0x32){const _0xf863c7=a0_0x28b734;let _0x4947b5='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x5d7627='';for(let _0x8a3869=0x0;_0x8a3869<_0x4cff51;_0x8a3869++)_0x5d7627+=_0x4947b5[_0xf863c7(0x27a)](Math[_0xf863c7(0x56e)](Math[_0xf863c7(0x576)]()*_0x4947b5[_0xf863c7(0x2f0)]));return _0x5d7627;}function zi(){const _0x27d798=a0_0x28b734;(0x0,Ae[_0x27d798(0x1c9)])(_0x27d798(0x6ca),(_0x552571,_0x7ad4c0,_0x221f40)=>{const _0x8065b2=_0x27d798;if(_0x552571){console['error'](_0x8065b2(0x39c)+_0x552571);return;}if(_0x221f40){console[_0x8065b2(0x6f1)](_0x8065b2(0x1ab)+_0x221f40);return;}console[_0x8065b2(0x38a)](_0x8065b2(0x200)+_0x7ad4c0);});}0x0&&(module[a0_0x28b734(0x262)]={'subdomain':subdomain});