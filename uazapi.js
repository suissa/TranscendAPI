const a0_0x4fa287=a0_0x5643;(function(_0x3938f5,_0x9f6c60){const _0x4b7cdd=a0_0x5643,_0x59ee9d=_0x3938f5();while(!![]){try{const _0x2cdae0=-parseInt(_0x4b7cdd(0x2c3))/0x1*(parseInt(_0x4b7cdd(0x846))/0x2)+-parseInt(_0x4b7cdd(0x44e))/0x3*(parseInt(_0x4b7cdd(0x5c3))/0x4)+parseInt(_0x4b7cdd(0x42a))/0x5+parseInt(_0x4b7cdd(0x82d))/0x6*(parseInt(_0x4b7cdd(0x7d8))/0x7)+-parseInt(_0x4b7cdd(0x637))/0x8*(-parseInt(_0x4b7cdd(0x826))/0x9)+parseInt(_0x4b7cdd(0x603))/0xa+-parseInt(_0x4b7cdd(0x54d))/0xb*(parseInt(_0x4b7cdd(0x7f6))/0xc);if(_0x2cdae0===_0x9f6c60)break;else _0x59ee9d['push'](_0x59ee9d['shift']());}catch(_0x4a6aa9){_0x59ee9d['push'](_0x59ee9d['shift']());}}}(a0_0x5f27,0xa3893));var Hi=Object[a0_0x4fa287(0x220)],We=Object[a0_0x4fa287(0x70b)],Ki=Object[a0_0x4fa287(0x631)],Qi=Object['getOwnPropertyNames'],Yi=Object[a0_0x4fa287(0x625)],Xi=Object[a0_0x4fa287(0x31a)][a0_0x4fa287(0x756)],Zi=(_0x3a3772,_0x52e8a9)=>{for(var _0x3b0554 in _0x52e8a9)We(_0x3a3772,_0x3b0554,{'get':_0x52e8a9[_0x3b0554],'enumerable':!0x0});},zs=(_0x2fc359,_0x31bef9,_0x21a31e,_0x513a4c)=>{const _0x124baa=a0_0x4fa287;if(_0x31bef9&&typeof _0x31bef9==_0x124baa(0x2e5)||typeof _0x31bef9==_0x124baa(0x1e7)){for(let _0x24fd31 of Qi(_0x31bef9))!Xi['call'](_0x2fc359,_0x24fd31)&&_0x24fd31!==_0x21a31e&&We(_0x2fc359,_0x24fd31,{'get':()=>_0x31bef9[_0x24fd31],'enumerable':!(_0x513a4c=Ki(_0x31bef9,_0x24fd31))||_0x513a4c['enumerable']});}return _0x2fc359;},A=(_0x51c632,_0x5d1b11,_0x3788ab)=>(_0x3788ab=_0x51c632!=null?Hi(Yi(_0x51c632)):{},zs(_0x5d1b11||!_0x51c632||!_0x51c632[a0_0x4fa287(0x717)]?We(_0x3788ab,a0_0x4fa287(0x796),{'value':_0x51c632,'enumerable':!0x0}):_0x3788ab,_0x51c632)),eo=_0x107632=>zs(We({},a0_0x4fa287(0x717),{'value':!0x0}),_0x107632),gr={};Zi(gr,{'fullURL':()=>Bs,'subdomain':()=>K}),module['exports']=eo(gr);var qi=A(require('compression')),Ks=require('fs'),Qs=require('js-yaml'),Ys=require(a0_0x4fa287(0x2de)),ze=require(a0_0x4fa287(0x2de)),ue=process[a0_0x4fa287(0x391)](),Me=(0x0,ze['join'])(ue,a0_0x4fa287(0x6b5)),Hs=(0x0,ze[a0_0x4fa287(0x82f)])(ue,a0_0x4fa287(0x33d)),sn=(0x0,ze['join'])(ue,a0_0x4fa287(0x373),a0_0x4fa287(0x29f)),hs=class{constructor(){this['loadEnv']();}['get'](_0x2cd2ea){const _0x375a08=a0_0x4fa287;return this[_0x375a08(0x838)][_0x2cd2ea];}[a0_0x4fa287(0x3d8)](){const _0x4a4029=a0_0x4fa287;this[_0x4a4029(0x838)]=process[_0x4a4029(0x838)]?.[_0x4a4029(0x319)]!==_0x4a4029(0x3fd)?this[_0x4a4029(0x64f)]():this['envProcess'](),process[_0x4a4029(0x838)]?.[_0x4a4029(0x319)]==='true'&&(this[_0x4a4029(0x838)]['SERVER'][_0x4a4029(0x333)]=_0x4a4029(0x895),this[_0x4a4029(0x838)][_0x4a4029(0x671)][_0x4a4029(0x696)]=Number[_0x4a4029(0x1f3)](process[_0x4a4029(0x838)]?.['SERVER_PORT']??_0x4a4029(0x81f)));}['envYaml'](){const _0x6b501e=a0_0x4fa287;return(0x0,Qs['load'])((0x0,Ks[_0x6b501e(0x51b)])((0x0,Ys[_0x6b501e(0x82f)])(Hs,'../env.yml'),{'encoding':'utf-8'}));}['envProcess'](){const _0x52bdde=a0_0x4fa287;return{'SERVER':{'TYPE':process[_0x52bdde(0x838)]['SERVER_TYPE'],'PORT':Number[_0x52bdde(0x1f3)](process['env'][_0x52bdde(0x1fe)]),'URL':process[_0x52bdde(0x838)][_0x52bdde(0x710)]},'CORS':{'ORIGIN':process['env'][_0x52bdde(0x776)][_0x52bdde(0x916)](','),'METHODS':process[_0x52bdde(0x838)][_0x52bdde(0x492)][_0x52bdde(0x916)](','),'CREDENTIALS':process[_0x52bdde(0x838)]?.[_0x52bdde(0x4a3)]==='true'},'SSL_CONF':{'PRIVKEY':process[_0x52bdde(0x838)]?.[_0x52bdde(0x316)],'FULLCHAIN':process['env']?.['SSL_CONF_FULLCHAIN']},'STORE':{'CLEANING_INTERVAL':Number[_0x52bdde(0x4e7)](process[_0x52bdde(0x838)]?.[_0x52bdde(0x785)])?Number[_0x52bdde(0x1f3)](process['env']['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process[_0x52bdde(0x838)]?.[_0x52bdde(0x58a)]===_0x52bdde(0x3fd),'CONTACTS':process[_0x52bdde(0x838)]?.[_0x52bdde(0x3fe)]===_0x52bdde(0x3fd),'CHATS':process[_0x52bdde(0x838)]?.['STORE_CHATS']==='true'},'DATABASE':{'CONNECTION':{'HOST':process[_0x52bdde(0x838)]?.[_0x52bdde(0x77c)],'PORT':Number[_0x52bdde(0x1f3)](process[_0x52bdde(0x838)]?.[_0x52bdde(0x77c)]),'USER':process[_0x52bdde(0x838)]['DATABASE_CONNECTION_USER'],'PASSWORD':process[_0x52bdde(0x838)][_0x52bdde(0x4a6)],'URI':process[_0x52bdde(0x838)][_0x52bdde(0x915)],'DB_PREFIX_NAME':process[_0x52bdde(0x838)]['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process[_0x52bdde(0x838)]?.[_0x52bdde(0x2db)]===_0x52bdde(0x3fd)},'REDIS':{'ENABLED':process[_0x52bdde(0x838)]?.[_0x52bdde(0x2d1)]===_0x52bdde(0x3fd),'URI':process[_0x52bdde(0x838)]['REDIS_URI']||_0x52bdde(0x55d),'PREFIX_KEY':process['env'][_0x52bdde(0x61e)]||_0x52bdde(0x78e)},'LOG':{'LEVEL':process['env']?.[_0x52bdde(0x5b3)]['split'](','),'COLOR':process[_0x52bdde(0x838)]?.[_0x52bdde(0x72f)]===_0x52bdde(0x3fd)},'PROXY':process[_0x52bdde(0x838)]?.[_0x52bdde(0x672)]===_0x52bdde(0x3fd),'AUTHENTICATION':{'TYPE':process[_0x52bdde(0x838)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process['env'][_0x52bdde(0x4bf)]},'JWT':{'EXPIRIN_IN':Number[_0x52bdde(0x4e7)](process[_0x52bdde(0x838)]?.[_0x52bdde(0x441)])?Number['parseInt'](process[_0x52bdde(0x838)][_0x52bdde(0x441)]):0xe10,'SECRET':process['env'][_0x52bdde(0x508)]}}};}},b=new hs(),Vi=A(require(a0_0x4fa287(0x779))),be=A(require(a0_0x4fa287(0x61b))),Vs=require('path'),gs=A(require(a0_0x4fa287(0x7b9))),ms=(_0x42692c=>(_0x42692c[a0_0x4fa287(0x4e0)]=a0_0x4fa287(0x8ed),_0x42692c['INFO']=a0_0x4fa287(0x6b7),_0x42692c[a0_0x4fa287(0x83f)]='\x1b[33m',_0x42692c['ERROR']=a0_0x4fa287(0x89f),_0x42692c[a0_0x4fa287(0x1fb)]=a0_0x4fa287(0x2a6),_0x42692c[a0_0x4fa287(0x5af)]=a0_0x4fa287(0x8ff),_0x42692c['DARK']=a0_0x4fa287(0x3c4),_0x42692c))(ms||{}),Xs=(_0x12565b=>(_0x12565b[a0_0x4fa287(0x4e0)]=a0_0x4fa287(0x2af),_0x12565b[a0_0x4fa287(0x419)]='\x1b[30m%s\x1b[0m',_0x12565b[a0_0x4fa287(0x519)]='\x1b[34m%s\x1b[0m',_0x12565b[a0_0x4fa287(0x83f)]=a0_0x4fa287(0x55c),_0x12565b[a0_0x4fa287(0x680)]=a0_0x4fa287(0x7c2),_0x12565b['DEBUG']=a0_0x4fa287(0x87d),_0x12565b['VERBOSE']='\x1b[37m%s\x1b[0m',_0x12565b))(Xs||{}),Zs=(_0x2e166f=>(_0x2e166f['LOG']=a0_0x4fa287(0x4e0),_0x2e166f['WARN']=a0_0x4fa287(0x83f),_0x2e166f[a0_0x4fa287(0x519)]='INFO',_0x2e166f[a0_0x4fa287(0x419)]=a0_0x4fa287(0x419),_0x2e166f[a0_0x4fa287(0x680)]=a0_0x4fa287(0x680),_0x2e166f[a0_0x4fa287(0x1fb)]=a0_0x4fa287(0x1fb),_0x2e166f[a0_0x4fa287(0x5af)]='VERBOSE',_0x2e166f))(Zs||{}),ea=(_0x362cd6=>(_0x362cd6[a0_0x4fa287(0x4e0)]='\x1b[42m',_0x362cd6['INFO']=a0_0x4fa287(0x7e6),_0x362cd6['WARN']=a0_0x4fa287(0x841),_0x362cd6[a0_0x4fa287(0x419)]=a0_0x4fa287(0x59d),_0x362cd6['ERROR']=a0_0x4fa287(0x255),_0x362cd6[a0_0x4fa287(0x1fb)]=a0_0x4fa287(0x7ef),_0x362cd6[a0_0x4fa287(0x5af)]=a0_0x4fa287(0x272),_0x362cd6))(ea||{}),$=class{constructor(_0x43bf6f=a0_0x4fa287(0x4df)){const _0x34fbb7=a0_0x4fa287;this[_0x34fbb7(0x7d5)]=_0x43bf6f,this[_0x34fbb7(0x5ca)]=b;}[a0_0x4fa287(0x6ba)](_0x43db93){const _0x3721a8=a0_0x4fa287;this[_0x3721a8(0x7d5)]=_0x43db93;}['console'](_0xde9a64,_0x266989){const _0x33d08f=a0_0x4fa287;let _0x46dd7a=[];this[_0x33d08f(0x5ca)]['get'](_0x33d08f(0x4e0))[_0x33d08f(0x7ec)]['forEach'](_0x33f836=>_0x46dd7a['push'](Zs[_0x33f836]));let _0x5c32be=typeof _0xde9a64;_0x46dd7a[_0x33d08f(0x7f1)](_0x266989)&&(b[_0x33d08f(0x37b)](_0x33d08f(0x4e0))[_0x33d08f(0x7c7)]?(console['log'](_0x33d08f(0x8ec)+Xs[_0x266989],_0x33d08f(0x277),(0x0,gs[_0x33d08f(0x796)])()['format'](_0x33d08f(0x2b9)),_0x33d08f(0x8d8),ms[_0x266989]+ea[_0x266989]+_0x33d08f(0x8ec),_0x266989+_0x33d08f(0x49e),_0x33d08f(0x4c6),this[_0x33d08f(0x7d5)]+_0x33d08f(0x8d8),ms[_0x266989],_0x5c32be!==_0x33d08f(0x2e5)?_0xde9a64:'','\x1b[0m'),_0x5c32be==='object'&&console[_0x33d08f(0x848)](_0xde9a64,'\x0a')):console[_0x33d08f(0x848)]((0x0,gs[_0x33d08f(0x796)])()[_0x33d08f(0x34e)]('HH:mm:ss'),_0x266989+'\x20',''+this[_0x33d08f(0x7d5)],_0xde9a64));}[a0_0x4fa287(0x848)](_0x39ddd2){const _0x42bbbf=a0_0x4fa287;this[_0x42bbbf(0x618)](_0x39ddd2,'LOG');}[a0_0x4fa287(0x558)](_0x41c389){const _0x2a3f0e=a0_0x4fa287;this[_0x2a3f0e(0x618)](_0x41c389,_0x2a3f0e(0x519));}[a0_0x4fa287(0x27c)](_0x3b7e36){const _0xf09dba=a0_0x4fa287;this[_0xf09dba(0x618)](_0x3b7e36,'WARN');}[a0_0x4fa287(0x91c)](_0x214cab){const _0x482a9c=a0_0x4fa287;this[_0x482a9c(0x618)](_0x214cab,'ERROR');}['verbose'](_0x5ad177){const _0x43e7cb=a0_0x4fa287;this['console'](_0x5ad177,_0x43e7cb(0x5af));}[a0_0x4fa287(0x49c)](_0x38d26a){const _0x137f02=a0_0x4fa287;this[_0x137f02(0x618)](_0x38d26a,_0x137f02(0x1fb));}[a0_0x4fa287(0x7a9)](_0xe27c1c){const _0x2c30d3=a0_0x4fa287;this['console'](_0xe27c1c,_0x2c30d3(0x419));}};function ta(){const _0x51c535=a0_0x4fa287;process['on'](_0x51c535(0x69d),(_0xbe7ba8,_0x507014)=>{const _0x27dc6c=_0x51c535;new $(_0x27dc6c(0x69d))[_0x27dc6c(0x91c)]({'origin':_0x507014,'stderr':process[_0x27dc6c(0x7a6)]['fd'],'error':_0xbe7ba8});}),process['on']('unhandledRejection',(_0x248692,_0x46ac5e)=>{const _0xcc06ef=_0x51c535;new $(_0xcc06ef(0x1de))['error']({'origin':_0x46ac5e,'stderr':process[_0xcc06ef(0x7a6)]['fd'],'error':_0x248692});});}var sa=A(require(a0_0x4fa287(0x79b))),fs=new sa[(a0_0x4fa287(0x796))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Ce=require('mongoose'),Te=A(require(a0_0x4fa287(0x68e))),He=new $(a0_0x4fa287(0x62a)),U=b[a0_0x4fa287(0x37b)](a0_0x4fa287(0x614)),R=U[a0_0x4fa287(0x729)]?U[a0_0x4fa287(0x632)]['URI']?Te[a0_0x4fa287(0x796)][a0_0x4fa287(0x75c)](U['CONNECTION']['URI'],{'dbName':U[a0_0x4fa287(0x632)][a0_0x4fa287(0x89e)]+'-whatsapp-api'}):Te[a0_0x4fa287(0x796)][a0_0x4fa287(0x75c)]('mongodb://'+U['CONNECTION'][a0_0x4fa287(0x512)]+':'+U[a0_0x4fa287(0x632)][a0_0x4fa287(0x696)]+a0_0x4fa287(0x520),{'user':U[a0_0x4fa287(0x632)]['USER'],'pass':U[a0_0x4fa287(0x632)]['PASSWORD'],'dbName':U[a0_0x4fa287(0x632)][a0_0x4fa287(0x89e)]+a0_0x4fa287(0x795)}):null;U['ENABLED']&&He['info'](a0_0x4fa287(0x280)+R[a0_0x4fa287(0x585)]);function a0_0x5f27(){const _0x49df29=['MessageModel','flowActive','floor','ipv6Prefix','uazapiSendLocation','\x20com\x20sucesso.','creds','Falha\x20ao\x20recriar\x20IPv6.','findContacts','):Image\x20created','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','archiveChat','NextBlock','pictureUrl','):Output\x20path:\x20','CORS_ORIGIN','URL','!cmd_','cors','):\x20Comando\x20desconhecido:\x20','width','DATABASE_CONNECTION_HOST','.\x20Pulando.','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','Cache-Control','deleteflow','The\x20property\x20cannot\x20be\x20empty','[all]','AddChatLabel','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','STORE_CLEANING_TERMINAL','readData','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','The\x20global\x20api\x20key\x20must\x20be\x20set','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','when','/automate','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','loggedOut','uazapi','#d8e651','vir','some','chatLog','stopped','Sistema\x20atualizado\x20com\x20sucesso!','-whatsapp-api','default','./.git/config','cpf','ephemeralMessage','options','eventemitter2','where','.jwt','response','contact_blacklist','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','PLAYED','createNewConversation','Request\x20Body:','leadInfo.','stderr','inet6','contacts.update','dark','ex:\x20\x22groupJid=120362@g.us\x22','groups','varedits','\x22\x20-\x20REMOVED','chats.delete','--------------------------------------','STORE','chats','findMessages','dbSettings','):\x20Label\x20','\x22,\x20valor\x20a\x20substituir:\x20\x22','Erro\x20ao\x20buscar\x20fluxos:','promote','this.reconnectAttempts:\x20','dayjs','CacheContacts\x20database\x20connection\x20closed.','isJidBroadcast','updateGParticipate','deleted','presence.update','sendMenu','end','groupRequestParticipantsUpdate','\x1b[31m%s\x1b[0m','API\x20Key\x20inválida.','indexOf','url','https://','COLOR','from','revokeInviteCode','URL\x20completa:','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','setting','SINGLE_SELECT','editFlowReply','groupRevokeInvite','CHATS_UPSERT','Mensagens\x20deletadas\x20com\x20sucesso.','allFlows','groupadd','request\x20received\x20in\x20editFlow','context','groupValidate','label_jid','10591bTABJs','toArray',',\x20Expiration\x20Time:\x20','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','getMessage','senderKeyDistributionMessage','lean','writeData','jwt','startCommand','awaitingApproval','STATUS_INSTANCE','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','getValidWhatsAppNumbers','\x1b[44m','editflowvaredit','evaluateCondition','initializeQueue','firstValue','deleteReplyOption','LEVEL','retrySendMessage','chat\x20não\x20encontrado','\x1b[46m','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','includes','WA\x20MODULE','):\x20Entrou\x20na\x20função\x20scheduleFlow','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','Erro\x20ao\x20copiar\x20o\x20documento','132aWhUdi','deviceSentMessage','DisconnectReason','getMessageModelForOwner','proxy:\x20','READ','recording','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','localWebhook','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','currency','readMessage','menuMessage','Erro\x20ao\x20tentar\x20updateCustomFields','authentication','lowerCase','profilePictureUrl','Fluxo\x20agendado\x20pelo\x20fluxo\x20','updateParticipant','CLEANING_INTERVAL','rowId','https://github.com/uazapi/uazapi.git','Falta\x20informação\x20para\x20a\x20chamada\x20API','remoteJids','Não\x20respondeu\x20com\x20a\x20enquete.','reject','mediaSticker','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','createSectionsFromValues','Fluxos\x20não\x20estão\x20ativados','findGroupInfo','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','stopMinutes','_id','sendContact','keyPattern','option','use','groupRequestParticipantsList','joinApprovalMode','chats.upsert','8080','copyBlock','cacheInstanceRepository','\x20do\x20chat\x20',',\x20qrcodeCount:\x20','status.instance','.doc','18774XAyZGl','fromMe','silent','evaluateConditionTest','Instance\x20\x22','/media','Types','114JSpefY','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','join','repository','Usando\x20IP\x20existente:\x20','replaceVariablesInReplyOptions','msgRetryCounterCache','last','\x20tentativas.','GROUPS_UPSERT','processConditions','env','):\x20sender\x20=\x20number:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','findAndReplaceRegex','stopConversation','*Pergunta*:\x20\x0a','CONTACTS_UPSERT','WARN','):\x20Conversa\x20inserida\x20com\x20sucesso.','\x1b[43m','has','groupdata.participants','events','exit','2lOgKex','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','log','order','shareFlow','):Getting\x20image\x20from\x20url','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','messages','randomBytes','updateGroupWebhook','Filtered\x20network\x20interfaces:\x20','data:\x20','updateMessage','mentions','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','method','JWT','updateChatWithMessage','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','goToFlow','hSet','apply','editflowvariable','GET','readMessages','owner','writeFile','addBlock','processUUID','processawaitSeconds','updateGroupsAddPrivacy','caption','):\x20Buscando\x20flow...','mediaMessage','reconnectTimestamps','insertMany','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','fetchConversation','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','scheduleSendAudio','instanceName','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','getAllData','Flow\x20\x27','Erro\x20ao\x20criar\x20fluxo','equal','messageType','length','insertCount','pollOnReplyDelete','getTime','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','/64\x20dev\x20','cleaningUp','\x1b[36m%s\x1b[0m','audioMessage','customFields','groupGetInviteInfo','findChats','padStart','apirequest','messageSecret','startID','DaysToDelete','Garbage\x20collection\x20não\x20está\x20disponível.','\x20horas\x20e\x20','abs','):Type\x20defined\x20as\x20audio','#83e421','string','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','getScheduleMessage','Error\x20updating\x20message\x20status:','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','_activedCount','setHeader','getUpdate','vote','http','find','https://jsonip.com','closed','request_method','goNextblock','KEY','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','DB_PREFIX_NAME','\x1b[31m','*\x0a\x0a','normalizeMessage','buttons','):\x20Criou\x20conversa\x20no\x20startFlow','groupSetting','endsWith','address','messages.update','All_Instances_Config','Error\x20updating\x20cache\x20contact:','):Audio\x20converted\x20and\x20stored\x20in\x20cache','/wa-connection-update','content','variablesNotFound','getDelay','):\x20Buscando\x20conversa...','findByIdAndDelete','open','selectedOptions','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','labels.association','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','deletedCount','findManyByIds','.ogv','muteEndTime','IPv6\x20addresses\x20detected:\x20','messageContextInfo','#f64847','Mac\x20OS','Erro\x20ao\x20encerrar\x20a\x20API','URL\x20não\x20disponível','Conversa\x20deletada\x20com\x20sucesso.','):\x20Deletando\x20mensagem','pushName','Module\x20-\x20ON','available','ip\x20-6\x20addr\x20del\x20','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','vcard','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','groupMemberAddMode','waitingMenu_id','^\x5cd+([-]\x5cd+)*@g.us$','ip6eui','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','[AUTH]\x20Database\x20is\x20not\x20enabled','):\x20Ler\x20mensagem','Error\x20in\x20scheduleNextCheck:\x20','fileUrl','greater','videoMessage','Stack\x20trace:','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','listResponseMessage','groupUpdateSubject','\x1b[0m','https://uazapi-plugin.bubbleapps.io/','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','):\x20Alterando\x20fluxo...','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','optionDescription','Erro\x20ao\x20aplicar\x20varedit:\x20','#fe9dfe','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','ScheduleMessageModel','lastUpdate','noConnection','blockId','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','Missing\x20global\x20api\x20key','Erro\x20ao\x20normalizar\x20a\x20mensagem:','imagechat','demote','keep-alive','\x1b[1m','\x1b[32m','redisEnv','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','mediatype','sleep','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','unlinkSync','getConversationModelForOwner','contentText','rows','#92ceac','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','IPv6\x20address\x20configured:\x20','addReplyOption','deleteMany','code','request\x20received\x20in\x20starFlow','):\x20','\x1b[37m','flowName','Falhou\x20ao\x20encontrar\x20chat\x20','IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.','out','random','arraybuffer','capitalizedWords','\x5c$&','email','delete','connectedName','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','toBRL','choices','):Trying\x20to\x20get\x20business\x20profile','\x20}\x0a','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','groups.upsert','updateStopChat','DATABASE_CONNECTION_URI','split','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','OrAnd','updatePrivacySettings','\x20inseridas\x20no\x20banco\x20de\x20dados...','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','error','cleanDisconnectedInstances','prepareMediaMessage','Type\x20is\x20required','CONNECTION_UPDATE',',\x20valor\x20passado:\x20\x22','pendingMessages','extractMessageContent','3EB0','markMessageAsRead','admin_add','getFlow','leadInfo.etiquetas','\x20minutos','#00a1f2','.gif','}}\x20->\x20valor\x20não\x20encontrado','getClient','subject','MESSAGES_SET','truncatedto','instanceKeys','request\x20received\x20in\x20deleteDoneMessages','delayChatLabel_RETRY_DELAY_MS','Nenhum\x20participante\x20válido\x20encontrado.','resetReconnectionVariables','AutomateSystem','ignoreGroups','imported','Not\x20Found','not_announcement','description','groupAcceptInvite','):\x20[messages.update]\x20group\x20ignored','lastSendMessage','approve','unhandledRejection','WebhookGlobal','readreceipts','):\x20Editando\x20edição\x20do\x20fluxo...','etiquetas','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','unlocked','minutesToClose','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','function','groupLeave','then','Instance\x20Key\x20from\x20DB:','downloads','ChatRouter','view\x20engine','createConversationforgoToFlow','Novo\x20IP\x20criado:\x20','/media/','):\x20Procurando\x20conversa','/instance/connect','parseInt','awaitSeconds','generateRandomIPv6','presenceSubscribe','groups.update','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','maxActives','temp-','DEBUG','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','authorization','SERVER_PORT','isAdmin','webhook','checkAndRestartProcess','messageId','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','):\x20Mensagens\x20prontas\x20para\x20envio\x20encontradas:\x20','unreadCount','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','#ffae04','/*.json','exists','buffer','editFlowBlock','_activatedCount','/events/:instance','onTime','Connection','downloadMediaMessage','):\x20whoCanEdit\x20after\x20validation:\x20','connect','Esse\x20fluxo\x20expirou','uazapiSendText','scheduleSendMedia','BRL','/wa-groups','removeIPv6','https','pt-BR','jsonwebtoken','processvaredits','_ScheduleMessages','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','findAndReplace','create','):\x20whoCanUse\x20before\x20validation:\x20','uazapiSendAudio','ScheduleMessage','remoteJid','\x20segundos\x20antes\x20de\x20reconectar...',',\x20Resultado:\x20','organization','replyOption','):\x20transformedCustomFieldVariables','startFlowWebhook','processblock','local_map','util','GUARD','sectionsToString','stickerMessage','listen','):\x20Error\x20processing\x20the\x20block:\x20','):\x20Query\x20params:\x20','leadInfo.customFields','exports','text','\x20contacts','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','Error\x20finding\x20many\x20contacts:','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','connectToWhatsappController','DELETED','Rótulo\x20deletado:\x27,\x20','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','close','lastSend','uazapiSendMenu','convert','redirect',',\x20saindo.','color','CHATS_DELETE','Instance\x20ID:','):\x20Criando\x20fluxo\x20compartilhado...','updateProfilePicture','request\x20received\x20in\x20deleteConversation','):\x20error:\x20','request\x20received\x20in\x20deleteFlow','textMessage','getBase64FromMediaMessage','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','toLowerCase','):\x20lastBlockId:\x20','):\x20Current\x20Time:\x20','):Processing\x20audio','groupToggleEphemeral','\x1b[41m','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','updateProfilePicturePrivacy','tags','scheduleFlow','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','variables','messages.set','):\x20Buscando\x20flow,\x20id:\x20','arrayUnique','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','_error','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','save','put','sort','groupName','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','verifiedName','getTicketSystem','video','updateProfileStatus','fetchChats','fetchPrivacySettings','\x20chats\x20de\x20','findGroupInfos','Erro\x20ao\x20atualizar\x20conversa:\x20','):\x20Editando\x20replyOption...','Error\x20in\x20chatModify\x20for\x20number\x20','\x1b[47m','headerString','/group','):\x20Editando\x20bloco...','replyOptions','\x1b[1m\x1b[37m','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','AppStateSyncKeyData','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','key','warn','_Messages','addresss','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','ON\x20-\x20dbName:\x20','hGet','upperCase','getMIMEType','Log\x20out\x20instance:\x20','unavailable','enabled','sendWhatsAppAudio','#9568cf','drop','dropCollection','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','done','stanzaId','ephemeralDuration','globalShow',',\x20canSendMessage:\x20','whoCanUse','\x22\x20cannot\x20be\x20empty','editFlow','Erro\x20ao\x20remover\x20label\x20','toUpperCase','authService','testingWith','cacheInstanceModel','Erro\x20ao\x20atualizar\x20agendamento\x20','empty','app-state-sync-key','flow','spawn','auth','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens','):\x20this.client.authState.creds?.myAppStateKeyId:\x20','paused','AddUserFlow','connectionState','stack','\x1b[36m','action','This\x20name\x20','replace','.extension','inviteCode','add','.pdf','.\x20Aguardando\x20','\x1b[32m%s\x1b[0m','stringify','superadmin','base64','isCommunityAnnounce','online','digest','waitingMenu_replyOptions','queue','Contacts\x20not\x20found','DD/MM\x20HH:mm:ss','promisify','saveVariable','webhookService','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','updateAutoCompleteMessages','replaceVariablesLogs','):\x20Editando\x20mensagens\x20no\x20grupo...','https://v6.ident.me','body','112414lUPfMM','Erro\x20ao\x20editar\x20o\x20bloco:\x20','rm\x20-rf\x20','editflow','Bad\x20Request','match_last_seen','Fluxo\x20não\x20encontrado\x20na\x20memória.','Erro\x20ao\x20atualizar\x20AutomateSystem:','config','findLabels','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','viewOnceMessage',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','Database\x20update\x20result:','REDIS_ENABLED','Erro\x20ao\x20importar\x20chats','dataValidate','URI','CORS','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','fone','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','METHODS','updateAgent','DATABASE_ENABLED','):\x20Usando\x20extensão\x20padrão:\x20','findGroup','path','ButtonsMessage','pop','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','user','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','menuExpiredMessage','object','reconnectAttempts','routerPath','createGroup','conversationTimestamp','validate','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','Erro\x20ao\x20editar\x20o\x20chat','):\x20Enviando\x20texto','chat','getflow','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','unreadcount','stateConnection','END:VCARD','):\x20[messages.upsert]\x20group\x20ignored','Database\x20connection\x20closed.','truncatedtoEnd','Cannot\x20','findOrCreate','):\x20Rótulo\x20atualizado:\x20','Instance\x20restarted','push','addMessagesToGroup','urlOrBase64','GROUP_PARTICIPANTS_UPDATE','Content-Type','Error\x20parsing\x20JSON:','replaceValue','getBusinessProfile','/create','The\x20\x22','Erro\x20ao\x20iniciar\x20fluxo:\x20','hDel','):\x20Enviando\x20áudio','node-mime-types','Flow\x20iniciado\x20com\x20','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','statusCode','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','less','updateMissingCustomFields','TEXT','atendimentoAberto','webhookMap','canSendMessage','filter','updateCustomFields','SSL_CONF_PRIVKEY','stopMinutesMaxActives','):Desconectado,\x20parando\x20execução.','DOCKER_ENV','prototype','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','FlowController','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','autoCompleteMessages.command_1','getLastMessage','removeUnusedChatFields','request\x20body:\x20','poll','exec','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','\x20:\x20','sendSticker','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','!stop','/instance/create','https://api.elevenlabs.io/v1/text-to-speech/','):\x20Enviando\x20mídia','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','#b4ebff','Instância\x20não\x20encontrada.','delAll','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','writeFileSync','Error\x20adding\x20IPv6\x20address:\x20','TYPE','.type','sign','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','font','ContactModel','mongodb','mimetype','getContentType','contextInfo','src','Group\x20not\x20found','):\x20Atualizando\x20status\x20da\x20mensagem\x20','Falha\x20ao\x20processar\x20fetchBusinessProfile','fetchBusinessProfile','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','timeout','\x22reaction\x22\x20must\x20be\x20an\x20emoji','findOneAndUpdate','splice','/clients-info','title','updateProfileName','Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','verifyWhatsAppNumber','instanceName\x20not\x20provided.','format','Resultado\x20da\x20correspondência\x20de\x20URL:','.TEL;waid=','messages.upsert','File\x20written\x20to\x20path:\x20','#fed428','50mb','flattenObject','Erro\x20ao\x20buscar\x20a\x20conversa','processPollUpdateMessage','presence','flowConfig','no.connection','group-participants.update','toDataURL','setNewValue','fetchProfilePicture','jid','output','):\x20Envio\x20interrompido\x20devido\x20a\x20UUID\x20de\x20processo\x20não\x20corresponder.','editflowcondition','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','deleteInstance','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','sendList',',\x20global:\x20','proto','/startFlow/:instance/:startID','ListType','\x20minutos...','/wa-message-update','joinGroupValidate','MESSAGES_UPDATE','status','backgroundColor','linkPreview','store','Limpando\x20logs\x20do\x20PM2...','):Archiving\x20chat','documentWithCaptionMessage','beautifyWithPlaceholders','name','saveMediaToFile','The\x20','get','startCommandWord','pollCreationMessageV3','@s.whatsapp.net','#56ccb4','application/octet-stream','instance.','flush','convertaudioMP3','extractRegex','updateMany','createServer','model','error_log','rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys','):\x20Enviando\x20localização','initAuthCreds','request\x20received\x20in\x20allFlows','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','copy','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.','sendMessageAck','cwd','bodyStringErrorParse','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','deleteMessageForEveryone','flows','storePath','isRunning','.ogg','client','PRESENCE_UPDATE','removeChatLabel','clearVariables','EXPIRIN_IN','findGroupsEspecial','Erro\x20ao\x20tentar\x20autoCompleteMessages','):\x20atualização\x20chat:\x20','contacts.upsert','createJid','updateFlowConfig','pre','convertaudio','pollMessage','):\x20Bloco\x20copiado:\x20','notEmpty','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','Partes\x20do\x20domínio:','):\x20Mensagem\x20já\x20enviada\x20para\x20','createWebhook','isCommunity','):\x20Entrou\x20na\x20função\x20goToFlow','):Converted\x20image\x20deleted','chatModify','\x20Tentativa\x20de\x20reconexão\x20','):\x20conversation.waitingMenu_name','updateOne','findMany','MESSAGES_UPSERT','participants','profile','chatId','leadInfo','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','scheduleMessage','):\x20newFirstValue\x20após\x20replaceVariables:','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','.X-ABLabel:Celular\x0a','messageTimestamp','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','substring','@g.us','Parando\x20aplicação,\x20atualização\x20recebida','\x1b[30m','Partes\x20do\x20caminho\x20FULLCHAIN:','\x20instance\x20does\x20not\x20exist','number','detail','delayChatLabel_MAX_RETRIES','#01d0e2','):\x20updateResult:','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','GROUPS_UPDATE','request\x20received\x20in\x20editFlowvariable','assign','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','replaceOne','displayName','idSchedule','sendAudio','StatusJidList\x20is\x20required','instanceInfo','all','loadEnv','Erro\x20na\x20função\x20updateChatWithMessage:\x20','sendPoll','text/event-stream','https://ipv6.jsonip.com','fetchMessages','loadInstance','scheduleNextCheck','):Error\x20in\x20converting\x20audio','Erro\x20ao\x20executar\x20bulkWrite:','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','saveConversationToDatabase','_Contacts','generateHash','contactHandle','\x27\x20não\x20encontrado','isArray','fetchStatus','enviado\x20para','groupSettingUpdate','#ffffff','processclearVariables','global','):\x20\x27Enviando\x20texto\x20para\x20\x27','reaction','triedToSend','flowPrefixCommand','processConditionsTest','modifiedCount','E-mail:\x20','removeProfilePicture','CONECTADO\x20À\x20UAZAPI','delaySecMin','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','ObjectId','):\x20Fluxo\x20\x27','Variáveis\x20não\x20encontradas:','true','STORE_CONTACTS','USER','header','.ppt','audio','delayMessage','connectedClient','repeat','groups_ignore','createConversationforStartFlow','deleteFlow','/wa-chats','sendMessageWithTyping','\x20não\x20encontrado\x20para\x20atualização.','group','memberAddMode','selectableCount','statusJidList','processScheduleFlow','\x20-i\x20','g.us','sendDataWebhook','createFlow','Erro\x20ao\x20arquivar\x20chat','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','saveCreds','message','DARK','limit','removeData','AutomateFunctions','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','joinGroup','query','buttonId','Retornando\x20grupos\x20SEM\x20cache','redis','insert','isJWT','editedMessage','Read\x20messages','@ffmpeg-installer/ffmpeg','sending','type','5900215rKhdZu','@redis/client',',\x20pairCode:\x20','isBase64','):\x20Conversa\x20está\x20expirada','longitude','https://ifconfig.me/ip','findAll','Not\x20allowed\x20by\x20CORS','leaveGroup','updateConversation','ff:fe','sendLocation','sendMedia','isBusiness','formatStatusMessage','activatedCount','basename','scheduled','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','createHash','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','editflowgroup','AUTHENTICATION_JWT_EXPIRIN_IN','forEach','env.KEY\x20!==\x20key','IPv6\x20Prefix\x20detected:\x20','\x20-y','pow','creation','pm2\x20flush','Retornando\x20grupos\x20COM\x20cache','updateLastSeenPrivacy','setRestartTimeout','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','Erro\x20ao\x20buscar\x20o\x20fluxo','12eaWmoj','updateAll','cacheContactModel','phoneNumber','InstancesAlterarTodas','Erro\x20ao\x20inserir\x20chats:','lastCondition','findWebhook','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','Error\x20fetching\x20group','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','leadInfo.atendimentoAberto','item','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','contacts','logger','isValidAndUniqueIPv6','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','valid','\x0aitem','editFlowVariable','Font\x20is\x20required','deleteImportedChat','map','):\x20Bloco\x20original\x20para\x20cópia:\x20','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20','connectionUpdate','):\x20Enviando\x20enquete','sections','getVariablesChat','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','replacer','secondValue','CHATS_SET','#d3a91f','updatePresence','Instância:\x20','reorderReplyOptions','findParticipants','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','quotedMessage','deleteDoneMessages','Forbidden','slice','remove.instance','notify','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','/message','Deleted\x20','reorderBlocks','isValidIPv6Config','):Hash\x20to\x20image\x20name:\x20','fetchContacts','LICENSE_INVALID','flushHeaders','min','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','\x27\x20não\x20encontrado\x20na\x20memória','whatsappNumber','segundos','write','update','TEL','off','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','sendReaction','CORS_METHODS','):Audio\x20processed','hbs','long','Network\x20interfaces\x20detected:\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','userDevicesCache','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','mongodb://','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','debug','):\x20Entrou\x20na\x20função\x20processawaitSeconds','\x20\x1b[0m','qrcode.updated','RemoveChatLabel','deleteChat','QRCODE_UPDATED','CORS_CREDENTIALS','webhookModel','extractPhoneNumber','DATABASE_CONNECTION_PASSWORD','importChatsBatch','groupInviteCode','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','boolean','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','dbClient','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','Router','updateMediaMessage','myAppStateKeyId',',\x20fará\x20nova\x20verificação\x20em\x20',',\x20lastCondition:\x20','FULLCHAIN','editFlowVaredit','request\x20received\x20in\x20updateCustomFields','execSync','Invalid\x20format','):\x20Fluxos\x20não\x20estão\x20ativados','$pull','subjectOwner','ConversationModel','value','varedit','Falha\x20ao\x20processar\x20a\x20solicitação','AUTHENTICATION_API_KEY','Selecione','/instance/delete','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','state','removed','getAutomateSystem','\x1b[33m\x1b[1m','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','connecting','):Temp\x20image\x20deleted','request\x20received\x20in\x20editFlowgroup','processingGroup','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','):\x20enviado\x20para\x20[','descId','StartBot','):\x20Grupo\x20','\x20inseridos\x20no\x20banco\x20de\x20dados...','findIndex','height','beforeExit','replaceVariablesChat','SECRET','CONTACTS_SET','.png','The\x20instance\x20needs\x20to\x20be\x20disconnected','fetchProfile','makeCacheableSignalKeyStore','mentioned','router','ms\x20(tentativa\x20','Logger','LOG','IP\x20mismatch:\x20configured\x20','waUploadToServer','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','request\x20received\x20in\x20editFlowcondition','next_groupId','):Notifying\x20clients\x20for\x20chat:\x20','isInteger','shift','message_normalized','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','/:instanceName','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','PRODUCT_LIST','condition','\x27...','pollCreationMessageV2','scheduleSendText','createIPv6','Safari','):\x20isVote:\x20','^\x5cd+','):including\x20timestamp\x20in\x20url:\x20','):\x20Bloco\x20com\x20ID\x20','findByIdAndUpdate','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','editMessagesInGroup','fromObject','):\x20\x27Enviando\x20audio\x20para\x20\x27','saveTextReply','telefone','readMessageBot','FlowRouter','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','REDIS','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','headers','AUTHENTICATION_JWT_SECRET','qrcode-terminal','):\x20Adicionando\x20\x27','updateReplyOption','locked','getChatModelForOwner','generateWAMessageFromContent','listMessage','getDevice','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','HOST','updateBlock','.wav','image','collection','replaceVariablesInObject','command','INFO','http://checkip.dyndns.org','readFileSync','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','\x0a*Você\x20respondeu*:\x0a','Conexão\x20estabelecida','announce','?authSource=admin&readPreference=primary&directConnection=true','Rótulo\x20inválido\x20ou\x20sem\x20ID.','toFile','pollMessageOnDelete','menuType','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','Authentication\x20error','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','synchronizeAndMapFlows','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','\x0aFN:','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','isURL','automateSystem','):Image\x20path:\x20','#000000','pairingCode','}}\x20->\x20\x22','integer','class-validator','findConversation','label','nome','processUazapi','):\x20whoCanUse\x20after\x20validation:\x20','/wa-qrcode','Error\x20fetching\x20and\x20updating\x20profile:\x20','username','cachedContacts-whatsapp','encoding','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','toLocaleString','LabelModel','SendScheduleMessage','getConversation','Parando\x20aplicação...','document','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','lastReceivedMessage','):Sending\x20audio\x20whatsapp','addChatLabel','Número\x20não\x20possui\x20WhatsApp.','Instâncias\x20removidas:\x20','toBrazilianNumberFormat','186395FDLiVc','contactsArrayMessage','/instance/fetchInstances','\x20depois\x20','):\x20alterando\x20this.AutomateSystem','qrcode','remote\x20\x22origin\x22','):\x20Buscando\x20conversas...','delayChatLabel','#dfaef0','):\x20Erro\x20durante\x20a\x20atualização:\x20','info','createInstance','logout','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','\x1b[33m%s\x1b[0m','redis://127.0.0.1:6379','SSL_CONF','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','uazapiSendContact','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','.webp','Atualização:\x20','):\x20Iniciando\x20bot...','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','.docx','charAt','oldToken','Primeiro\x20Valor:\x20','menuIgnoreNonVotes','flowConversation','every','json','request\x20received\x20in\x20updateFlowConfig','footerText','connectionStatus','count','Content\x20is\x20required','AutomateSystem\x20não\x20foi\x20inicializado','buttonMessage','/exit','):\x20\x27Enviando\x20mídia\x20para\x20\x27','):\x20Entrou\x20na\x20função\x20clearVariables','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','remove','\x20and\x20data:','request\x20received\x20in\x20editConversation','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','\x20minutos\x20verificará\x20novas\x20mensagens','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','):Image\x20is\x20base64','messaging-history.set','uazapiDeleteMessage','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','originalUrl','$dbName','wuid','moreLogs','isLong','connection.update','STORE_MESSAGE','MAX_SAFE_INTEGER','Erro\x20ao\x20atualizar\x20cacheInstance:','convertToWebP','editChat','flowStopMinutes','inviteUrl','ListMessage','listType','padEnd','Erro\x20inesperado\x20em\x20processvaredits:\x20','lastBlockId','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','endSession','sendMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','@whiskeysockets/baileys','CONTACTS_UPDATE','.url','\x1b[40m','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','editflowreply','jsonschema','PREFIX_KEY','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','Erro\x20de\x20atualização:\x20','conversation','):\x20\x27Deletando\x20fluxo,\x20id:\x20','_p_','?timestamp=','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','dbConnection','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','blockLogs','quoted','del','groupHandler','VERBOSE','authModel','findById','processApiRequest','LOG_LEVEL','isJidGroup','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','interval\x20não\x20é\x20um\x20número','entries','conditions','test','#64c4ff','normalizeMessageContent','/events','composing','start','contact','editScheduleMessage','defineAuthState','1235552dxTnhW','Erro\x20ao\x20buscar\x20conversas','ip\x20-6\x20addr\x20show\x20dev\x20','participant','contains','):\x20Editando\x20condição\x20do\x20fluxo...','):\x20Limpando\x20AutomateSystem','configService','editOperator','request\x20received\x20in\x20getConversation','documentMessage','creds.json','picture','SEND_MESSAGE','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','\x20não\x20encontrado\x20para\x20cópia','reactionMessage','Configuração\x20SSL\x20recuperada:','set','created','waMonitor','utf-8','/wa-contacts','chatHandle','Instance\x20Name:','):\x20ev.flush\x20realizado','instancias:\x20','reorderMessages','):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!','request\x20received\x20in\x20getAutomateSystem',',\x20isAdmin:\x20','Last\x20message\x20not\x20found','eventEmitter','importChats','webp','sendStatus',',\x20Comparador:\x20','createflow','):\x20nextBlock.uazapi.name','buttonText','connectToWhatsapp','request\x20received\x20in\x20fetchConversation','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar','data','\x20não\x20encontrado','existsSync','waitingMenu_ExpiredMessage','/config','nomecompleto','media','updateOneById','No\x20suitable\x20network\x20interface\x20found','refused','Erro\x20ao\x20atualizar\x20o\x20flow.','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','Button\x20texts\x20cannot\x20be\x20repeated','notContains','):\x20Deletando\x20conversa...','Erro\x20ao\x20alterar\x20fluxo','Not\x20is\x20business\x20profile','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','send.message','StartID:','trim','963480VrsGnm','):\x20customFieldVariables','inviteCodeDetails','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','groupdata','@broadcast','ContactsAndGroups','locationMessage','last_update','):\x20conversation.lastInteraction:\x20','isJidUser','request\x20received\x20in\x20updateAgent','instance','restrict','uuid','autoCompleteMessages','createOrUpdate','DATABASE','ephemeralExpiration','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','pollCreationMessage','console','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','startsWith','express','DELIVERY_ACK','fileName','REDIS_PREFIX_KEY','groupJid','sendPresenceUpdate','eventHandler','success','params','deleteConversation','getPrototypeOf','toNumber','saveChatVariables','):\x20Editando\x20grupo\x20do\x20fluxo...','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','Db\x20Connection','statusMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','post','sha256','lastFetchAwaitingApproval','.mp3','getOwnPropertyDescriptor','CONNECTION','child_process','badSession','convertedOptions','):\x20debug\x20alterando\x20this.AutomateSystem','3448khAXqb','groupId','dbInstance','uazapiSendMedia','agents','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','lastRealGroupsFetch','toggleEphemeral','values','no-cache','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','sharp','BufferJSON','toString','setWebhook','docker','keys','RECONNECT_TIME_FRAME','apikey','call','stopIfLastReturnedError','sendText','):\x20Flow\x20\x27','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','envYaml','waInstances','pollCreationMessageKey','audio/ogg;\x20codecs=opus','applyvaredit','Schema','urlencoded','website',']\x20(','array','):\x20teve\x20mudanças\x20chat.archived:\x20','profilePicture','cleanStore','preview','bodyString','express-async-errors','updateGroupParticipantsWebhook','changeVariables','reviver','delay','subjectTime','\x20saindo\x20da\x20função','match','getScheduleMessageModelForOwner','setUpdate','block','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','inner','labels.edit','\x20segundos','errorLog','_Chats','\x5cd+','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','SERVER','PROXY','whoCanEdit','.pptx','):\x20Falha\x20ao\x20deletar\x20mensagem.','\x20mensagens\x20de\x20','fetchInstances','formatBRNumber','$set','g-t','qrCode','notMatchRegex','updateGParticipant','messageStubParameters','cachedContact','ERROR','Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.','messageHandle','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','Operador:\x20\x22','archive','):\x20Going\x20to\x20','timeInMinutes','formatVCard','processgoToFlow','SERVER_ACK','yes','-instances','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','mongoose','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20','):\x20mediaMessageInfoId\x20:\x20','updateGroupPicture','notEqual','status@broadcast','cacheContact','groupParticipantsUpdate','PORT','ChatModel','sendButtons','editFlowCondition','fullName','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','Erro\x20ao\x20atualizar\x20o\x20fluxo:','uncaughtException','deleteMessage','expiration','sendCommand','contactMessage','axios','Error\x20removing\x20IPv6\x20address:\x20','list','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','#ff9484','allContacts','detectIPv6PrefixAndInterface','throwAndLogError','pollUpdateMessage','\x20quoted:\x20','pollErrorMessage','deleteOne','ids','randomMac','now','https://chat.whatsapp.com/','groupJoinApprovalMode','collections','everyOne','instances','verbose','\x1b[34m','Falha\x20ao\x20criar\x20IPv6.','groupBetterSetting','setContext','static','findOne','cache','shareOwners','expression','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','Message','#ffc5c7','restartInstance','updateMissingTags','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','networkInterface','variablesToObject','and','groupDesc','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','archived','findRealGroups','mediaKey','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','cachedData-whatsapp','latitude','https://uazapi-plugin.bubbleapps.io/?url=','importChatsAntigo','\x20is\x20already\x20in\x20use.','all_member_add','https://api64.ipify.org?format=json','dbServer','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','Erro\x20ao\x20editar\x20agentes','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','audioWhatsapp','Subdomínio\x20extraído\x20da\x20URL:','lastInteraction','Erro\x20ao\x20editar\x20a\x20conversa','gifPlayback','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','deleteAll','):\x20não\x20encontrou','isConnected','autoCompleteMessages.command','_FlowHistorico','closeExistingConversations','PENDING','getContactModelForOwner','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','Instance\x20deleted','XX:XX:XX:XX:XX:XX','Network\x20Interface\x20detected:\x20','not\x20loaded','getProfileName','):\x20Procurando\x20mensagens\x20para\x20envio','result','Button\x20IDs\x20cannot\x20be\x20repeated.','API_KEY','Deletion\x20failed','send','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','Erro\x20ao\x20deletar\x20chat:','app','Data\x20inválida\x20fornecida','.fileUrl','variable','Pausado\x20por\x20','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','max','admin','Cache\x20instance\x20update\x20result:\x20','errors','leadInfo.desativadoFluxoAte','.svg','role','.mimetype','):\x20Removendo\x20\x27','):\x20Criando\x20fluxo...','content-type','):\x20Chat\x20','defineProperty','Flow\x20iniciado','/chat','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','waitingMenu_text','SERVER_URL','release','hex','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','Subdomínio\x20não\x20encontrado','\x20removido\x20do\x20chat\x20','bulkWrite','__esModule','removeInstance','editFlowGroup','ERROR:\x20','stopWhenYouSendMsg','realVariables','Número:\x20','ip\x20-br\x20link\x20show','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','views','iniciando\x20fluxo\x20router','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','round','parse','matchRegex','loadWebhook','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','desativadoFluxoAte','ENABLED','Valor\x20inicial:\x20\x22','):\x20this.processingGroup._id:\x20','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','):Business\x20profile\x20fetched','):\x20delete\x20=\x20true','LOG_COLOR','startFlow','stdout','none','privacySettings','):\x20Criando\x20nova\x20conversa[createNewConversation]','findAndUpdateCacheContact','AUTHENTICATION','notas','authState','Removidas\x20as\x20variáveis:\x20','fetchLabels','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','protocolMessage','Error\x20writing\x20file:\x20','getLabelModelForOwner','mkdirSync','announcement','Erro\x20ao\x20buscar\x20Schedule\x20Messages','\x0a{\x20instance:\x20','groupUpdateDescription','blocks','editConversation','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','Bloco\x20com\x20ID\x20','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','imageMessage','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','removeIPv6ById','Erro\x20ao\x20deletar\x20mensagens:','newStoppedUntil','/wa-all-message','Comando\x20desconhecido','CHATS_UPDATE','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','configureIPv6','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','\x27\x20do\x20banco\x20de\x20dados...','Close\x20connection','hasOwnProperty','_remoteJid','Instance\x20logged\x20out','transformScheduledMessagesByType','lastMessage','node-cache','createConnection','deleteBlock','responsavelid','replaceVariables','newValue','findGroups','hGetAll','findFlow','request\x20received\x20in\x20getFlow','request\x20received\x20in\x20updateAutoCompleteMessages'];a0_0x5f27=function(){return _0x49df29;};return a0_0x5f27();}var de=U[a0_0x4fa287(0x729)]?U[a0_0x4fa287(0x632)]['URI']?Te[a0_0x4fa287(0x796)]['createConnection'](U[a0_0x4fa287(0x632)]['URI'],{'dbName':a0_0x4fa287(0x6d2)}):Te['default'][a0_0x4fa287(0x75c)](a0_0x4fa287(0x49a)+U[a0_0x4fa287(0x632)][a0_0x4fa287(0x512)]+':'+U[a0_0x4fa287(0x632)][a0_0x4fa287(0x696)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':U[a0_0x4fa287(0x632)][a0_0x4fa287(0x3ff)],'pass':U['CONNECTION']['PASSWORD'],'dbName':a0_0x4fa287(0x53c)}):null;de&&He[a0_0x4fa287(0x558)]('ON\x20-\x20dbName:\x20'+de[a0_0x4fa287(0x585)]),process['on'](a0_0x4fa287(0x4d4),()=>{const _0x4df060=a0_0x4fa287;R&&R['close'](()=>{const _0x476ff2=a0_0x5643;He[_0x476ff2(0x558)](_0x476ff2(0x2f6));}),de&&de[_0x4df060(0x23f)](()=>{const _0x4f6b05=_0x4df060;He[_0x4f6b05(0x558)](_0x4f6b05(0x7ba));});});var to=new Ce[(a0_0x4fa287(0x654))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),so=new Ce[(a0_0x4fa287(0x654))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),ao=new Ce[(a0_0x4fa287(0x654))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),io=new Ce[(a0_0x4fa287(0x654))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[to],'default':[]}},{'_id':!0x1}),oo=new Ce[(a0_0x4fa287(0x654))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':io,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':so},'groupdata':{'type':ao,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),aa=_0x35cdef=>{const _0x28f9b7=a0_0x4fa287;let _0x4feabe='z_'+_0x35cdef+_0x28f9b7(0x66e);return R?.['model'](_0x28f9b7(0x697),oo,_0x4feabe);},ia=require(a0_0x4fa287(0x68e)),ro=new ia['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),oa=_0x52b316=>{const _0x385006=a0_0x4fa287;let _0x4dd3d9='z_'+_0x52b316+_0x385006(0x3e4);return R?.[_0x385006(0x387)](_0x385006(0x338),ro,_0x4dd3d9);},ra=require('mongoose'),ws=class{},no=new ra[(a0_0x4fa287(0x654))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),na=de?.[a0_0x4fa287(0x387)](ws[a0_0x4fa287(0x378)],no,a0_0x4fa287(0x609)),ca=require(a0_0x4fa287(0x68e)),ys=class{},co=new ca[(a0_0x4fa287(0x654))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),Ke=de?.[a0_0x4fa287(0x387)](ys[a0_0x4fa287(0x378)],co,a0_0x4fa287(0x6b5)),la=require(a0_0x4fa287(0x68e)),lo=new la['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),ua=_0x1230aa=>{const _0x2aa9b1=a0_0x4fa287;let _0x3eb050='z_'+_0x1230aa+_0x2aa9b1(0x27d);return R?.['model'](_0x2aa9b1(0x766),lo,_0x3eb050);},da=require(a0_0x4fa287(0x68e)),bs=class{},uo=new da[(a0_0x4fa287(0x654))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),pa=R?.[a0_0x4fa287(0x387)](bs[a0_0x4fa287(0x378)],uo,a0_0x4fa287(0x804)),ha=require(a0_0x4fa287(0x68e)),Ss=class{},ga=new ha['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ga[a0_0x4fa287(0x3a4)]('save',function(_0x4a9a7c){const _0xc5ddbe=a0_0x4fa287;delete this[_0xc5ddbe(0x767)],delete this['flowIgnoreGroups'],delete this[_0xc5ddbe(0x3f2)],delete this['flowStopConversation'],delete this[_0xc5ddbe(0x58f)],_0x4a9a7c();});var ma=R?.[a0_0x4fa287(0x387)](Ss['name'],ga,a0_0x4fa287(0x200)),P=require(a0_0x4fa287(0x68e)),Ms=require(a0_0x4fa287(0x611)),Qe=class{},wa=new P[(a0_0x4fa287(0x654))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Cs=new P['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),po=new P['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x4fa287(0x6a4)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x4fa287(0x4c0)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x4fa287(0x213)},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ya=new P[(a0_0x4fa287(0x654))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ho=new P[(a0_0x4fa287(0x654))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),go=new P[(a0_0x4fa287(0x654))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Ns=new P[(a0_0x4fa287(0x654))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),mo=new P[(a0_0x4fa287(0x654))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),ba=new P[(a0_0x4fa287(0x654))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':po},'apirequest':ho,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':mo,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),Sa=new P[(a0_0x4fa287(0x654))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),Es=class{},Ma=new P[(a0_0x4fa287(0x654))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[Ns],'blocks':[ba],'groups':[wa],'conditions':[ya],'varedits':[Sa],'replyOptions':{'type':[Cs],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x95864d=a0_0x4fa287;return _0x95864d(0x778)+Math[_0x95864d(0x904)]()['toString'](0x24)[_0x95864d(0x479)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':'false'},'startID':{'type':String,'default':()=>(0x0,Ms['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ms['v4'])()},'shareOwners':{'type':[String],'default':[]}});Ma[a0_0x4fa287(0x3a4)](a0_0x4fa287(0x345),function(_0xa36173){const _0x266c18=a0_0x4fa287;let _0x24b0a4=this[_0x266c18(0x893)]();if(_0x24b0a4&&typeof _0x24b0a4==_0x266c18(0x2e5)&&_0x266c18(0x679)in _0x24b0a4){let _0x5431ed=_0x24b0a4[_0x266c18(0x679)];if(_0x5431ed){let _0x4389dd=new Set(),_0x3534c3=new Set(_0x5431ed[_0x266c18(0x25b)]?.[_0x266c18(0x465)](_0x42e5c7=>_0x42e5c7['name'])),_0x1528b=JSON['stringify'](_0x5431ed),_0x1adbcc=/{{(?!_)([^}]*)}}/g,_0x4785e4;for(;(_0x4785e4=_0x1adbcc['exec'](_0x1528b))!==null;)_0x3534c3['has'](_0x4785e4[0x1])||_0x4389dd[_0x266c18(0x2ac)](_0x4785e4[0x1]);_0x4389dd['size']>0x0?(console[_0x266c18(0x27c)](_0x266c18(0x3fc),Array[_0x266c18(0x7c8)](_0x4389dd)),_0x5431ed['variablesNotFound']=Array[_0x266c18(0x7c8)](_0x4389dd)):_0x5431ed[_0x266c18(0x8ad)]=[],this[_0x266c18(0x667)]({'$set':_0x5431ed});}}_0xa36173();});var Ee=R?.[a0_0x4fa287(0x387)](Es[a0_0x4fa287(0x378)],Ma,a0_0x4fa287(0x7d2)),fo=new P[(a0_0x4fa287(0x654))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[Ns],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[go]},{'_id':!0x1}),wo=new P[(a0_0x4fa287(0x654))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[Ns],'blocks':[ba],'groups':[wa],'conditions':[ya],'varedits':[Sa],'replyOptions':{'type':[Cs],'default':[]},'chatLog':fo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x4fa287(0x8b1)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'waitingMenu_replyOptions':{'type':[Cs],'default':[]}}),Ca=_0x4862d1=>{const _0x3c80fd=a0_0x4fa287;let _0x1469ab='z_'+_0x4862d1+_0x3c80fd(0x6e7);return R?.[_0x3c80fd(0x387)](_0x3c80fd(0x4bb),wo,_0x1469ab);},yo=new P[(a0_0x4fa287(0x654))]({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),fa=new P[(a0_0x4fa287(0x654))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),bo=new P[(a0_0x4fa287(0x654))]({'_id':{'type':String,'_id':!0x0},'messages':{'type':[fa],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':'scheduled'},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[yo],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':fa,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),Ea=_0x39d8a6=>{const _0xbe6f8f=a0_0x4fa287;let _0x62bdb6='z_'+_0x39d8a6+_0xbe6f8f(0x21d);return R?.[_0xbe6f8f(0x387)](_0xbe6f8f(0x8e2),bo,_0x62bdb6);},vs=class{},So=new P['Schema']({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),Mo=new P['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),Co=new P['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Eo=new P[(a0_0x4fa287(0x654))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x4fa287(0x328)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),vo=new P[(a0_0x4fa287(0x654))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),No=new P['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[vo]},'customFields':{'type':[Co]},'flowConfig':{'type':Eo,'default':{}},'flows':{'type':[Mo],'default':[]},'autoCompleteMessages':{'type':[So],'default':[]}}),Oe=R?.[a0_0x4fa287(0x387)](vs[a0_0x4fa287(0x378)],No,a0_0x4fa287(0x1d4)),va=require(a0_0x4fa287(0x68e)),$o=new va[(a0_0x4fa287(0x654))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Na=_0x427c15=>{const _0xb6e40e=a0_0x4fa287;let _0x2a0b63='z_'+_0x427c15+'_Labels';return R?.[_0xb6e40e(0x387)](_0xb6e40e(0x541),$o,_0x2a0b63);},_=class{constructor(_0xa1e400){const _0x3e6feb=a0_0x4fa287;this[_0x3e6feb(0x7b3)]=_0xa1e400[_0x3e6feb(0x37b)]('DATABASE');}};function a0_0x5643(_0x2ef166,_0xaaaad3){const _0x5f275a=a0_0x5f27();return a0_0x5643=function(_0x5643b6,_0x4c984c){_0x5643b6=_0x5643b6-0x1c6;let _0x889420=_0x5f275a[_0x5643b6];return _0x889420;},a0_0x5643(_0x2ef166,_0xaaaad3);}function I(_0x1fb7e4){const _0x3f204b=a0_0x4fa287;let _0xa0b4ac={};for(let [_0x5e2e91,_0x54cd4a]of Object[_0x3f204b(0x5b8)](_0x1fb7e4))if(typeof _0x54cd4a==_0x3f204b(0x2e5)&&!Array[_0x3f204b(0x3e8)](_0x54cd4a)){for(let [_0x298673,_0xba58d]of Object[_0x3f204b(0x5b8)](_0x54cd4a))_0xa0b4ac[_0x5e2e91+'.'+_0x298673]=_0xba58d;}else _0xa0b4ac[_0x5e2e91]=_0x54cd4a;return _0xa0b4ac;}var Ye=class{constructor(_0x1aaf2d,_0x88b88c,_0x4f5d8b,_0x31013b,_0x32129b,_0x8bd158,_0x1e465a,_0x5c9b50,_0x136900,_0x3b2166,_0x23fc5f,_0x54fda2,_0x16b919){const _0x368caf=a0_0x4fa287;this['message']=_0x1aaf2d,this['chat']=_0x88b88c,this[_0x368caf(0x5c0)]=_0x4f5d8b,this[_0x368caf(0x694)]=_0x31013b,this[_0x368caf(0x200)]=_0x32129b,this[_0x368caf(0x29f)]=_0x8bd158,this['instance']=_0x1e465a,this[_0x368caf(0x29d)]=_0x5c9b50,this[_0x368caf(0x56c)]=_0x136900,this[_0x368caf(0x535)]=_0x3b2166,this[_0x368caf(0x3bb)]=_0x23fc5f,this[_0x368caf(0x52d)]=_0x54fda2,this[_0x368caf(0x4ac)]=_0x16b919;}get[a0_0x4fa287(0x6d9)](){const _0x3088fb=a0_0x4fa287;return this[_0x3088fb(0x4ac)];}},Xe=class{},Ze=class extends _{[a0_0x4fa287(0x7f9)](_0x522a00){return ua(_0x522a00);}async[a0_0x4fa287(0x423)](_0x3c552d,_0x183dd8){const _0x1dd06a=a0_0x4fa287;if(_0x3c552d[_0x1dd06a(0x875)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x1dd06a(0x7f9)](_0x183dd8)[_0x1dd06a(0x869)]([..._0x3c552d]))[_0x1dd06a(0x875)]};}catch(_0x2957cc){return _0x2957cc;}}async[a0_0x4fa287(0x896)](_0x5f1c90,_0x2ddb6a){const _0x3de81d=a0_0x4fa287;try{let _0x51b56f=this[_0x3de81d(0x7f9)](_0x2ddb6a),_0x1ec968=I(_0x5f1c90[_0x3de81d(0x79c)]);return await _0x51b56f[_0x3de81d(0x896)](_0x1ec968)['sort']({'messageTimestamp':-0x1})[_0x3de81d(0x41a)](_0x5f1c90?.[_0x3de81d(0x41a)]??0x0)['lean']();}catch{return[];}}async[a0_0x4fa287(0x909)](_0x45abb9,_0x3a326f){const _0x475326=a0_0x4fa287;try{let _0x2fc970=this[_0x475326(0x7f9)](_0x3a326f),_0x53b076=I(_0x45abb9[_0x475326(0x79c)]);await _0x2fc970['deleteMany'](_0x53b076);}catch(_0xcadeb4){console[_0x475326(0x91c)](_0xcadeb4);}}async['update'](_0x58b0a2,_0x434b33,_0x12c49e){const _0x2736de=a0_0x4fa287;try{let _0x4533ef=this[_0x2736de(0x7f9)](_0x12c49e),_0x53a6f8=I(_0x58b0a2[_0x2736de(0x79c)]);return await _0x4533ef[_0x2736de(0x345)](_0x53a6f8,{'$set':_0x434b33},{'new':!0x0});}catch(_0x5c7a38){throw console[_0x2736de(0x91c)](_0x5c7a38),_0x5c7a38;}}async[a0_0x4fa287(0x869)](_0x50a81c,_0x412521){const _0x53c13f=a0_0x4fa287;if(_0x50a81c[_0x53c13f(0x875)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x53c13f(0x7f9)](_0x412521)[_0x53c13f(0x869)]([..._0x50a81c]))['length']};}catch(_0x13e939){return console[_0x53c13f(0x848)](_0x53c13f(0x71a),_0x13e939),_0x13e939;}}async[a0_0x4fa287(0x6e3)](_0x4c97a5){const _0x3c8f99=a0_0x4fa287;try{return await this[_0x3c8f99(0x7f9)](_0x4c97a5)['collection']['drop'](),{'success':!0x0};}catch(_0x10422b){return console[_0x3c8f99(0x91c)](_0x10422b),{'success':!0x1,'error':_0x10422b};}}},Ps=A(require(a0_0x4fa287(0x427))),w=A(require(a0_0x4fa287(0x59a))),Ue=require('fs'),j=A(require(a0_0x4fa287(0x2de))),te=A(require(a0_0x4fa287(0x6a2))),_i=require(a0_0x4fa287(0x611)),xi=A(require(a0_0x4fa287(0x552))),Di=A(require(a0_0x4fa287(0x509))),$a=[a0_0x4fa287(0x749),a0_0x4fa287(0x5cd),a0_0x4fa287(0x87e),a0_0x4fa287(0x8d3),a0_0x4fa287(0x230)],Ra=[a0_0x4fa287(0x799),a0_0x4fa287(0x376),a0_0x4fa287(0x2ce),'viewOnceMessageV2'],ks=require('os'),Vt=A(require('pino')),je=require('child_process'),Pi=require(a0_0x4fa287(0x309)),fe=A(require(a0_0x4fa287(0x68e))),L=require(a0_0x4fa287(0x533)),pe=class{constructor(_0xea727a,_0x35de63,_0x3fb01e){const _0x210f6a=a0_0x4fa287;this[_0x210f6a(0x35f)]=_0xea727a,this[_0x210f6a(0x209)]=_0x35de63,this[_0x210f6a(0x378)]=_0x3fb01e;}},et=class{},tt=class{},_e=class{},st=class{},at=class{},ve=class{},it=class{},ot=class{},rt=class{},nt=class{},Lt=A(require(a0_0x4fa287(0x61b))),Aa=require('fs'),Ia=require(a0_0x4fa287(0x2de));async function xe(_0x5ab38e){const _0x5cb43b=a0_0x4fa287;let _0xe4b69c=z[_0x5cb43b(0x650)][_0x5ab38e];if(U['ENABLED']){let _0x2386c1=R['getClient']()['db'](U['CONNECTION']['DB_PREFIX_NAME']+_0x5cb43b(0x68c))[_0x5cb43b(0x516)](_0x5ab38e);return _0xe4b69c||(await _0x2386c1['find']({})[_0x5cb43b(0x7d9)]())[_0x5cb43b(0x875)]>0x0;}return _0xe4b69c||(0x0,Aa['existsSync'])((0x0,Ia[_0x5cb43b(0x82f)])(Me,_0x5ab38e));}async function Ta(_0x20f840,_0x53eda0,_0x128a60){const _0x1ec84b=a0_0x4fa287;if(_0x20f840[_0x1ec84b(0x584)][_0x1ec84b(0x7f1)](_0x1ec84b(0x329))||_0x20f840[_0x1ec84b(0x584)][_0x1ec84b(0x7f1)](_0x1ec84b(0x54f))||_0x20f840[_0x1ec84b(0x584)][_0x1ec84b(0x7f1)](_0x1ec84b(0x576))||_0x20f840[_0x1ec84b(0x584)]['includes']('/config')||_0x20f840[_0x1ec84b(0x584)][_0x1ec84b(0x7f1)](_0x1ec84b(0x1f2))||_0x20f840[_0x1ec84b(0x584)]['includes']('/instance/connectionState')||_0x20f840[_0x1ec84b(0x584)][_0x1ec84b(0x7f1)](_0x1ec84b(0x4c1)))return _0x128a60();let _0x3afca2=_0x20f840[_0x1ec84b(0x623)];if(!_0x3afca2?.[_0x1ec84b(0x86e)])throw new m(_0x1ec84b(0x34d));if(!await xe(_0x3afca2[_0x1ec84b(0x86e)]))throw new J(_0x1ec84b(0x37a)+_0x3afca2['instanceName']+_0x1ec84b(0x3c6));_0x128a60();}async function Oa(_0x3567f6,_0x21bb9e,_0x236985){const _0x3f19fc=a0_0x4fa287;if(_0x3567f6['originalUrl']['includes'](_0x3f19fc(0x329))){let _0x4c5daa=_0x3567f6['body'];if(await xe(_0x4c5daa[_0x3f19fc(0x86e)]))throw new se(_0x3f19fc(0x2a8)+_0x4c5daa[_0x3f19fc(0x86e)]+_0x3f19fc(0x6d6));z[_0x3f19fc(0x650)][_0x4c5daa[_0x3f19fc(0x86e)]]&&delete z['waInstances'][_0x4c5daa['instanceName']];}_0x236985();}var _a=require(a0_0x4fa287(0x533)),xa=A(require(a0_0x4fa287(0x21b))),ct=a0_0x4fa287(0x78e),Ao=new $(a0_0x4fa287(0x22e));async function Io(_0x4de733,_0x5c4891,_0x2e47ae){const _0x210d17=a0_0x4fa287;let _0x2c36f1=_0x4de733[_0x210d17(0x37b)](_0x210d17(0x649));if(_0x2c36f1&&b[_0x210d17(0x37b)](_0x210d17(0x736))[_0x210d17(0x6f4)][_0x210d17(0x89b)]!==_0x2c36f1)throw new ce();if(b[_0x210d17(0x37b)]('AUTHENTICATION')[_0x210d17(0x6f4)][_0x210d17(0x89b)]===_0x2c36f1)return _0x2e47ae();if((_0x4de733[_0x210d17(0x584)][_0x210d17(0x7f1)](_0x210d17(0x329))||_0x4de733[_0x210d17(0x584)][_0x210d17(0x7f1)](_0x210d17(0x54f)))&&!_0x2c36f1)throw new se('Missing\x20global\x20api\x20key',_0x210d17(0x788));let _0x3e984a=b[_0x210d17(0x37b)]('AUTHENTICATION')[_0x210d17(0x856)];try{let [_0x375373,_0x3be527]=_0x4de733['get'](_0x210d17(0x1fd))[_0x210d17(0x916)]('\x20');if(_0x375373[_0x210d17(0x250)]()!=='bearer')throw new ce();if(!(0x0,_a[_0x210d17(0x424)])(_0x3be527))throw new ce();let _0x5dd07b=_0x4de733[_0x210d17(0x623)],_0x1abe3d=xa[_0x210d17(0x796)]['verify'](_0x3be527,_0x3e984a['SECRET'],{'ignoreExpiration':_0x3e984a[_0x210d17(0x39d)]===0x0});if(_0x5dd07b[_0x210d17(0x86e)]!==_0x1abe3d[_0x210d17(0x86e)]||ct!==_0x1abe3d['apiName'])throw new ce();return _0x2e47ae();}catch(_0x24419d){throw Ao[_0x210d17(0x91c)](_0x24419d),new ce();}}async function To(_0x4fc70f,_0x23a3c7,_0x198b28){const _0x16ed20=a0_0x4fa287;let _0x4a6f68=b[_0x16ed20(0x37b)](_0x16ed20(0x736))[_0x16ed20(0x6f4)],_0x32ca92=_0x4fc70f[_0x16ed20(0x37b)](_0x16ed20(0x649));if(_0x4a6f68[_0x16ed20(0x89b)]===_0x32ca92)return _0x198b28();if(_0x4fc70f[_0x16ed20(0x584)][_0x16ed20(0x7f1)]('/instance/create')){let _0x1ce8be=Pa,_0x354721=_0x4fc70f[_0x16ed20(0x2c2)][_0x16ed20(0x86e)];if(_0x1ce8be&&_0x354721[_0x16ed20(0x250)]()[_0x16ed20(0x61a)](_0x1ce8be['toLowerCase']()))return _0x198b28();if(!_0x32ca92)throw new se(_0x16ed20(0x8e7),_0x16ed20(0x788));}if(_0x4fc70f[_0x16ed20(0x584)]['includes'](_0x16ed20(0x54f))&&!_0x32ca92)throw new se('Missing\x20global\x20api\x20key',_0x16ed20(0x788));if(_0x4fc70f[_0x16ed20(0x584)][_0x16ed20(0x7f1)](_0x16ed20(0x576))&&!_0x32ca92)throw new se(_0x16ed20(0x8e7),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x4fc70f[_0x16ed20(0x584)][_0x16ed20(0x7f1)](_0x16ed20(0x5f2))&&!_0x32ca92)throw new se(_0x16ed20(0x8e7),_0x16ed20(0x788));try{let _0x457f5f=_0x4fc70f['params'],_0x395521=await we[_0x16ed20(0x29f)]['find'](_0x457f5f[_0x16ed20(0x86e)]);if(_0x395521&&_0x395521[_0x16ed20(0x649)]===_0x32ca92)return _0x198b28();}catch{}throw new ce();}var Da={'jwt':Io,'apikey':To},mi=require('express'),E=require('uuid'),C=(..._0x4dd50f)=>{const _0x44a7bd=a0_0x4fa287;let _0x22e916={};return _0x4dd50f['forEach'](_0x51f8a3=>_0x22e916[_0x51f8a3]={'minLength':0x1,'description':_0x44a7bd(0x305)+_0x51f8a3+_0x44a7bd(0x293)}),{'if':{'propertyNames':{'enum':[..._0x4dd50f]}},'then':{'properties':_0x22e916}};},v={'$id':(0x0,E['v4'])(),'type':'object','properties':{'instanceName':{'type':a0_0x4fa287(0x88c)}},...C(a0_0x4fa287(0x86e))},mc={'$id':(0x0,E['v4'])(),'type':a0_0x4fa287(0x2e5),'properties':{'oldToken':{'type':a0_0x4fa287(0x88c)}},'required':[a0_0x4fa287(0x569)],...C(a0_0x4fa287(0x569))},fc={'properties':{'key':{'type':a0_0x4fa287(0x2e5),'properties':{'id':{'type':a0_0x4fa287(0x88c)},'remoteJid':{'type':a0_0x4fa287(0x88c)},'fromMe':{'type':a0_0x4fa287(0x4aa),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x4fa287(0x827)],...C('id',a0_0x4fa287(0x224))},'message':{'type':'object'}}},ae={'properties':{'delay':{'type':'integer','description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':a0_0x4fa287(0x88c),'enum':[a0_0x4fa287(0x285),a0_0x4fa287(0x8c4),a0_0x4fa287(0x5be),'recording',a0_0x4fa287(0x2a2)]}}},Z={'type':a0_0x4fa287(0x88c),'description':a0_0x4fa287(0x4b7)},ka={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'textMessage':{'type':a0_0x4fa287(0x2e5),'properties':{'text':{'type':'string'}},'required':[a0_0x4fa287(0x236)],...C(a0_0x4fa287(0x236))}},'required':[a0_0x4fa287(0x24d),a0_0x4fa287(0x3c7)]},La={'type':a0_0x4fa287(0x88c),'pattern':a0_0x4fa287(0x8dc),'description':'Invalid\x20format'},wc={'$id':(0x0,E['v4'])(),'type':a0_0x4fa287(0x2e5),'properties':{'number':{...La},'options':{...ae},'textMessage':{'type':a0_0x4fa287(0x2e5),'properties':{'text':{'type':a0_0x4fa287(0x88c)}},'required':[a0_0x4fa287(0x236)],...C(a0_0x4fa287(0x236))}},'required':['textMessage',a0_0x4fa287(0x3c7)]},yc={'$id':(0x0,E['v4'])(),'type':a0_0x4fa287(0x2e5),'properties':{'number':{...La},'options':{...ae},'mediaMessage':{'type':a0_0x4fa287(0x2e5),'properties':{'mediatype':{'type':a0_0x4fa287(0x88c),'enum':[a0_0x4fa287(0x515),a0_0x4fa287(0x545),a0_0x4fa287(0x269),a0_0x4fa287(0x402)]},'media':{'type':a0_0x4fa287(0x88c)},'fileName':{'type':a0_0x4fa287(0x88c)},'caption':{'type':a0_0x4fa287(0x88c)}},'required':[a0_0x4fa287(0x8f0),a0_0x4fa287(0x5f4)],...C(a0_0x4fa287(0x61d),'caption','media')}},'required':[a0_0x4fa287(0x867),'number']},Fa={'$id':(0x0,E['v4'])(),'type':a0_0x4fa287(0x2e5),'properties':{'number':{...Z},'options':{...ae},'stickerMessage':{'type':a0_0x4fa287(0x2e5),'properties':{'image':{'type':'string'}},'required':[a0_0x4fa287(0x515)],...C(a0_0x4fa287(0x515))}},'required':['stickerMessage',a0_0x4fa287(0x3c7)]},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x4fa287(0x2e5),'properties':{'statusMessage':{'type':a0_0x4fa287(0x2e5),'properties':{'type':{'type':'string','enum':[a0_0x4fa287(0x236),a0_0x4fa287(0x515),a0_0x4fa287(0x402),'video']},'content':{'type':a0_0x4fa287(0x88c)},'caption':{'type':a0_0x4fa287(0x88c)},'backgroundColor':{'type':a0_0x4fa287(0x88c)},'font':{'type':a0_0x4fa287(0x532),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4fa287(0x88c),'pattern':a0_0x4fa287(0x4f7),'description':a0_0x4fa287(0x669)}},'allContacts':{'type':a0_0x4fa287(0x4aa),'enum':[!0x0,!0x1]}},'required':[a0_0x4fa287(0x429),a0_0x4fa287(0x8ac)],...C(a0_0x4fa287(0x429),a0_0x4fa287(0x8ac))}},'required':['statusMessage']},ja={'$id':(0x0,E['v4'])(),'type':a0_0x4fa287(0x2e5),'properties':{'number':{...Z},'options':{...ae},'mediaMessage':{'type':a0_0x4fa287(0x2e5),'properties':{'mediatype':{'type':'string','enum':['image',a0_0x4fa287(0x545),a0_0x4fa287(0x269),a0_0x4fa287(0x402)]},'media':{'type':a0_0x4fa287(0x88c)},'fileName':{'type':a0_0x4fa287(0x88c)},'caption':{'type':'string'}},'required':[a0_0x4fa287(0x8f0),a0_0x4fa287(0x5f4)],...C(a0_0x4fa287(0x61d),a0_0x4fa287(0x865),a0_0x4fa287(0x5f4))}},'required':[a0_0x4fa287(0x867),'number']},Ja={'$id':(0x0,E['v4'])(),'type':a0_0x4fa287(0x2e5),'properties':{'number':{...Z},'options':{...ae},'audioMessage':{'type':a0_0x4fa287(0x2e5),'properties':{'audio':{'type':a0_0x4fa287(0x88c)}},'required':[a0_0x4fa287(0x402)],...C(a0_0x4fa287(0x402))}},'required':[a0_0x4fa287(0x87e),a0_0x4fa287(0x3c7)]},qa={'$id':(0x0,E['v4'])(),'type':a0_0x4fa287(0x2e5),'properties':{'number':{...Z},'pollMessage':{'type':a0_0x4fa287(0x2e5),'properties':{'name':{'type':a0_0x4fa287(0x88c)},'selectableCount':{'type':'number'},'values':{'type':a0_0x4fa287(0x658),'minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x4fa287(0x40e),a0_0x4fa287(0x63f)],...C('name',a0_0x4fa287(0x40e),'values')}},'required':['number','pollMessage']},Va={'$id':(0x0,E['v4'])(),'type':a0_0x4fa287(0x2e5),'properties':{'number':{...Z},'menuMessage':{'type':a0_0x4fa287(0x2e5),'properties':{'text':{'type':a0_0x4fa287(0x88c)},'choices':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x4fa287(0x236),a0_0x4fa287(0x90d)],...C('text',a0_0x4fa287(0x90d))}},'required':[a0_0x4fa287(0x3c7),a0_0x4fa287(0x802)]},Ga={'$id':(0x0,E['v4'])(),'type':a0_0x4fa287(0x2e5),'properties':{'number':{...Z},'options':{...ae},'buttonMessage':{'type':a0_0x4fa287(0x2e5),'properties':{'title':{'type':a0_0x4fa287(0x88c)},'description':{'type':a0_0x4fa287(0x88c)},'footerText':{'type':a0_0x4fa287(0x88c)},'buttons':{'type':a0_0x4fa287(0x658),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4fa287(0x2e5),'properties':{'buttonText':{'type':a0_0x4fa287(0x88c)},'buttonId':{'type':a0_0x4fa287(0x88c)}},'required':[a0_0x4fa287(0x5ea),a0_0x4fa287(0x420)],...C(a0_0x4fa287(0x5ea),a0_0x4fa287(0x420))}},'mediaMessage':{'type':a0_0x4fa287(0x2e5),'properties':{'media':{'type':a0_0x4fa287(0x88c)},'fileName':{'type':a0_0x4fa287(0x88c)},'mediatype':{'type':a0_0x4fa287(0x88c),'enum':['image',a0_0x4fa287(0x545),a0_0x4fa287(0x269)]}},'required':['media',a0_0x4fa287(0x8f0)],...C(a0_0x4fa287(0x5f4),'fileName')}},'required':[a0_0x4fa287(0x348),a0_0x4fa287(0x8a2)],...C(a0_0x4fa287(0x348),a0_0x4fa287(0x1d9))}},'required':['number',a0_0x4fa287(0x575)]},Ba={'$id':(0x0,E['v4'])(),'type':a0_0x4fa287(0x2e5),'properties':{'number':{...Z},'options':{...ae},'locationMessage':{'type':a0_0x4fa287(0x2e5),'properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x4fa287(0x3c7)},'name':{'type':a0_0x4fa287(0x88c)},'address':{'type':a0_0x4fa287(0x88c)}},'required':['latitude',a0_0x4fa287(0x42f)],...C(a0_0x4fa287(0x378),a0_0x4fa287(0x27e))}},'required':[a0_0x4fa287(0x3c7),a0_0x4fa287(0x60a)]},Wa={'$id':(0x0,E['v4'])(),'type':a0_0x4fa287(0x2e5),'properties':{'number':{...Z},'options':{...ae},'listMessage':{'type':a0_0x4fa287(0x2e5),'properties':{'title':{'type':'string'},'description':{'type':a0_0x4fa287(0x88c)},'footerText':{'type':a0_0x4fa287(0x88c)},'buttonText':{'type':a0_0x4fa287(0x88c)},'sections':{'type':a0_0x4fa287(0x658),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4fa287(0x2e5),'properties':{'title':{'type':a0_0x4fa287(0x88c)},'rows':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4fa287(0x2e5),'properties':{'title':{'type':'string'},'description':{'type':a0_0x4fa287(0x88c)},'rowId':{'type':a0_0x4fa287(0x88c)}},'required':[a0_0x4fa287(0x348),'rowId'],...C(a0_0x4fa287(0x348),a0_0x4fa287(0x80a))}}},'required':['title','rows'],...C('title')}}},'required':[a0_0x4fa287(0x348),'description',a0_0x4fa287(0x5ea),a0_0x4fa287(0x46a)],...C(a0_0x4fa287(0x348),'description',a0_0x4fa287(0x5ea),a0_0x4fa287(0x570))}},'required':[a0_0x4fa287(0x3c7),'listMessage']},za={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'contactMessage':{'type':a0_0x4fa287(0x658),'items':{'type':a0_0x4fa287(0x2e5),'properties':{'fullName':{'type':a0_0x4fa287(0x88c)},'phoneNumber':{'type':a0_0x4fa287(0x88c),'minLength':0xa}},'required':[a0_0x4fa287(0x69a),'phoneNumber'],...C(a0_0x4fa287(0x69a))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x4fa287(0x3c7),'contactMessage']},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x4fa287(0x2e5),'properties':{'reactionMessage':{'type':a0_0x4fa287(0x2e5),'properties':{'key':{'type':a0_0x4fa287(0x2e5),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x4fa287(0x88c)},'fromMe':{'type':a0_0x4fa287(0x4aa),'enum':[!0x0,!0x1]}},'required':['id',a0_0x4fa287(0x224),a0_0x4fa287(0x827)],...C('id',a0_0x4fa287(0x224))},'reaction':{'type':a0_0x4fa287(0x88c)}},'required':[a0_0x4fa287(0x27b),a0_0x4fa287(0x3f0)],...C('reaction')}},'required':[a0_0x4fa287(0x5d3)]},Ka={'$id':(0x0,E['v4'])(),'type':'object','properties':{'numbers':{'type':a0_0x4fa287(0x658),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4fa287(0x88c),'pattern':a0_0x4fa287(0x4f7),'description':a0_0x4fa287(0x88d)}}}},Qa={'$id':(0x0,E['v4'])(),'type':a0_0x4fa287(0x2e5),'properties':{'readMessages':{'type':a0_0x4fa287(0x658),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x4fa287(0x88c)}},'required':['id',a0_0x4fa287(0x827),a0_0x4fa287(0x224)],...C('id',a0_0x4fa287(0x224))}}},'required':[a0_0x4fa287(0x85e)]},Ya={'$id':(0x0,E['v4'])(),'type':a0_0x4fa287(0x2e5),'properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':'string','enum':[a0_0x4fa287(0x3d7),a0_0x4fa287(0x732)]},'profile':{'type':'string','enum':['all',a0_0x4fa287(0x45c),a0_0x4fa287(0x79f),a0_0x4fa287(0x732)]},'status':{'type':a0_0x4fa287(0x88c),'enum':['all',a0_0x4fa287(0x45c),a0_0x4fa287(0x79f),a0_0x4fa287(0x732)]},'online':{'type':a0_0x4fa287(0x88c),'enum':['all',a0_0x4fa287(0x2c8)]},'last':{'type':a0_0x4fa287(0x88c),'enum':[a0_0x4fa287(0x3d7),a0_0x4fa287(0x45c),a0_0x4fa287(0x79f),a0_0x4fa287(0x732)]},'groupadd':{'type':a0_0x4fa287(0x88c),'enum':[a0_0x4fa287(0x3d7),'contacts',a0_0x4fa287(0x79f),a0_0x4fa287(0x732)]}},'required':[a0_0x4fa287(0x1e0),a0_0x4fa287(0x3b7),a0_0x4fa287(0x370),a0_0x4fa287(0x2b4),a0_0x4fa287(0x834),a0_0x4fa287(0x7d3)],...C(a0_0x4fa287(0x1e0),'profile',a0_0x4fa287(0x370),'online',a0_0x4fa287(0x834),a0_0x4fa287(0x7d3))}},'required':[a0_0x4fa287(0x733)]},Xa={'$id':(0x0,E['v4'])(),'type':a0_0x4fa287(0x2e5),'properties':{'lastMessage':{'type':'object','properties':{'key':{'type':a0_0x4fa287(0x2e5),'properties':{'id':{'type':a0_0x4fa287(0x88c)},'remoteJid':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0x4fa287(0x224)],...C('id',a0_0x4fa287(0x224))},'messageTimestamp':{'type':a0_0x4fa287(0x532),'minLength':0x1}},'required':['key'],...C(a0_0x4fa287(0x3bf))},'archive':{'type':a0_0x4fa287(0x4aa),'enum':[!0x0,!0x1]}},'required':[a0_0x4fa287(0x75a),a0_0x4fa287(0x685)]},Za={'$id':(0x0,E['v4'])(),'type':'object','properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x4fa287(0x4aa),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':a0_0x4fa287(0x88c)}},'required':['id','fromMe',a0_0x4fa287(0x224)],...C('id',a0_0x4fa287(0x224),a0_0x4fa287(0x5c6))},ei={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':a0_0x4fa287(0x2e5),'properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':a0_0x4fa287(0x88c),'minLength':0x1},'id':{'type':a0_0x4fa287(0x88c),'minLength':0x1}},...C('_id','id',a0_0x4fa287(0x8c2))}}},ti={'$id':(0x0,E['v4'])(),'type':a0_0x4fa287(0x2e5),'properties':{'name':{'type':a0_0x4fa287(0x88c)}},...C(a0_0x4fa287(0x378))},si={'$id':(0x0,E['v4'])(),'type':a0_0x4fa287(0x2e5),'properties':{'status':{'type':a0_0x4fa287(0x88c)}},...C(a0_0x4fa287(0x370))},De={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{'type':'string'},'picture':{'type':a0_0x4fa287(0x88c)}}},ai={'type':a0_0x4fa287(0x2e5),'properties':{'wuid':{'type':a0_0x4fa287(0x88c)},'name':{'type':a0_0x4fa287(0x88c)},'picture':{'type':a0_0x4fa287(0x88c)},'status':{'type':'string'},'isBusiness':{'type':a0_0x4fa287(0x4aa)}}},ii={'$id':(0x0,E['v4'])(),'type':a0_0x4fa287(0x2e5),'properties':{'where':{'type':a0_0x4fa287(0x2e5),'properties':{'_id':{'type':a0_0x4fa287(0x88c),'minLength':0x1},'key':{'type':a0_0x4fa287(0x2e5),'if':{'propertyNames':{'enum':[a0_0x4fa287(0x827),a0_0x4fa287(0x224),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x4fa287(0x88c),'minLength':0x1,'description':a0_0x4fa287(0x781)},'id':{'type':'string','minLength':0x1,'description':a0_0x4fa287(0x781)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x4fa287(0x2e5)}},...C(a0_0x4fa287(0x817))},'limit':{'type':'integer'}}},bc={'$id':(0x0,E['v4'])(),'type':a0_0x4fa287(0x2e5),'properties':{'where':{'type':a0_0x4fa287(0x2e5),'properties':{'_id':{'type':'string'},'remoteJid':{'type':a0_0x4fa287(0x88c)},'id':{'type':a0_0x4fa287(0x88c)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'participant':{'type':a0_0x4fa287(0x88c)},'status':{'type':a0_0x4fa287(0x88c),'enum':['ERROR',a0_0x4fa287(0x6e9),'SERVER_ACK','DELIVERY_ACK','READ',a0_0x4fa287(0x7a2)]}},...C(a0_0x4fa287(0x817),a0_0x4fa287(0x224),'id','status')},'limit':{'type':'integer'}}},oi={'$id':(0x0,E['v4'])(),'type':a0_0x4fa287(0x2e5),'properties':{'number':{...Z},'presence':{'type':a0_0x4fa287(0x88c),'enum':[a0_0x4fa287(0x285),a0_0x4fa287(0x8c4),a0_0x4fa287(0x5be),'recording',a0_0x4fa287(0x2a2)]}},'required':['presence',a0_0x4fa287(0x3c7)]},ri={'$id':(0x0,E['v4'])(),'type':a0_0x4fa287(0x2e5),'properties':{'subject':{'type':a0_0x4fa287(0x88c)},'description':{'type':'string'},'profilePicture':{'type':a0_0x4fa287(0x88c)},'participants':{'type':a0_0x4fa287(0x658),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x4fa287(0x66f),'description':a0_0x4fa287(0x91b)}}},'required':[a0_0x4fa287(0x1cc),a0_0x4fa287(0x3b6)],...C(a0_0x4fa287(0x1cc),a0_0x4fa287(0x1d9),'profilePicture')},Pe={'$id':(0x0,E['v4'])(),'type':a0_0x4fa287(0x2e5),'properties':{'groupJid':{'type':a0_0x4fa287(0x88c),'pattern':a0_0x4fa287(0x8cb)}},'required':['groupJid'],...C(a0_0x4fa287(0x61f))},ni={'$id':(0x0,E['v4'])(),'type':a0_0x4fa287(0x2e5),'properties':{'groupJid':{'type':a0_0x4fa287(0x88c)},'action':{'type':a0_0x4fa287(0x88c),'enum':['add',a0_0x4fa287(0x57a),a0_0x4fa287(0x7b7),a0_0x4fa287(0x8ea),a0_0x4fa287(0x80f),a0_0x4fa287(0x1dd)]},'participants':{'type':a0_0x4fa287(0x658),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4fa287(0x88c),'minLength':0xa,'pattern':a0_0x4fa287(0x66f),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x4fa287(0x61f),'action',a0_0x4fa287(0x3b6)],...C('groupJid','action')},ci={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x4fa287(0x88c)},'expiration':{'type':a0_0x4fa287(0x3c7),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x4fa287(0x61f),a0_0x4fa287(0x69f)],...C(a0_0x4fa287(0x61f),'expiration')},li={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'image':{'type':'string'}},'required':[a0_0x4fa287(0x61f),a0_0x4fa287(0x515)],...C(a0_0x4fa287(0x61f),'image')},ui={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x4fa287(0x88c)},'description':{'type':a0_0x4fa287(0x88c)}},'required':[a0_0x4fa287(0x61f),a0_0x4fa287(0x1d9)],...C(a0_0x4fa287(0x61f),a0_0x4fa287(0x1d9))},di={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x4fa287(0x88c)},'name':{'type':a0_0x4fa287(0x88c)}},'required':[a0_0x4fa287(0x61f),a0_0x4fa287(0x378)],...C(a0_0x4fa287(0x61f),a0_0x4fa287(0x378))},pi={'$id':(0x0,E['v4'])(),'type':a0_0x4fa287(0x2e5),'properties':{'groupJid':{'type':a0_0x4fa287(0x88c)},'setting':{'type':a0_0x4fa287(0x88c),'enum':[a0_0x4fa287(0x740),a0_0x4fa287(0x1d8),a0_0x4fa287(0x1e4),a0_0x4fa287(0x50c)]}},'required':[a0_0x4fa287(0x61f),a0_0x4fa287(0x7cc)],...C(a0_0x4fa287(0x61f),a0_0x4fa287(0x7cc))},hi={'$id':(0x0,E['v4'])(),'type':a0_0x4fa287(0x2e5),'properties':{'groupJid':{'type':a0_0x4fa287(0x88c)},'restrict':{'type':a0_0x4fa287(0x4aa)},'announce':{'type':'boolean'},'memberAddMode':{'type':a0_0x4fa287(0x4aa)},'joinApprovalMode':{'type':a0_0x4fa287(0x4aa)},'expiration':{'type':'integer','enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x4fa287(0x88c)},'description':{'type':'string'},'image':{'type':a0_0x4fa287(0x88c)}}},$s={'$id':(0x0,E['v4'])(),'type':a0_0x4fa287(0x2e5),'properties':{'inviteCode':{'type':a0_0x4fa287(0x88c)}},'required':['inviteCode'],...C('inviteCode')},gi={'$id':(0x0,E['v4'])(),'type':a0_0x4fa287(0x2e5),'properties':{'url':{'type':a0_0x4fa287(0x88c)},'enabled':{'type':a0_0x4fa287(0x4aa),'enum':[!0x0,!0x1]}},'required':['url','enabled']},Sc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'local_map':{'type':a0_0x4fa287(0x4aa),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x4fa287(0x4aa),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x4fa287(0x4aa),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x4fa287(0x4aa),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x4fa287(0x4aa),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x4fa287(0x4aa),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x4fa287(0x4aa),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x4fa287(0x4aa),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x4fa287(0x4aa),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x4fa287(0x4aa),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x4fa287(0x4aa),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x4fa287(0x4aa),'enum':[!0x0,!0x1]}},'required':[a0_0x4fa287(0x22c),a0_0x4fa287(0x7e3),a0_0x4fa287(0x4a2),a0_0x4fa287(0x1cd),a0_0x4fa287(0x36f),a0_0x4fa287(0x3b5),a0_0x4fa287(0x5d0),a0_0x4fa287(0x4d7),'CONTACTS_UPSERT','CONTACTS_UPDATE','PRESENCE_UPDATE',a0_0x4fa287(0x46f),a0_0x4fa287(0x7d0),a0_0x4fa287(0x750),a0_0x4fa287(0x246),'CONNECTION_UPDATE',a0_0x4fa287(0x836),a0_0x4fa287(0x3cd),a0_0x4fa287(0x2ff)],...C(a0_0x4fa287(0x22c),a0_0x4fa287(0x7e3),a0_0x4fa287(0x4a2),a0_0x4fa287(0x1cd),a0_0x4fa287(0x36f),'MESSAGES_UPSERT',a0_0x4fa287(0x5d0),'CONTACTS_SET','CONTACTS_UPSERT','CONTACTS_UPDATE',a0_0x4fa287(0x39a),'CHATS_SET',a0_0x4fa287(0x7d0),a0_0x4fa287(0x750),'CHATS_DELETE','CONNECTION_UPDATE',a0_0x4fa287(0x836),a0_0x4fa287(0x3cd),a0_0x4fa287(0x2ff))},lt=class{},ut=class extends _{[a0_0x4fa287(0x6ea)](_0x4feeaa){return oa(_0x4feeaa);}async[a0_0x4fa287(0x423)](_0x268f49){const _0x1b2360=a0_0x4fa287;if(_0x268f49[_0x1b2360(0x875)]!==0x0)try{return{'insertCount':(await this[_0x1b2360(0x6ea)](_0x268f49[0x0][_0x1b2360(0x85f)])[_0x1b2360(0x869)]([..._0x268f49]))['length']};}catch(_0x30d0da){return _0x30d0da;}}async[a0_0x4fa287(0x909)](_0xa2fd61,_0xe02dcb){const _0x11e2d5=a0_0x4fa287;try{return{'deletedCount':(await this[_0x11e2d5(0x6ea)](_0xe02dcb)[_0x11e2d5(0x8fb)]({..._0xa2fd61[_0x11e2d5(0x79c)]}))[_0x11e2d5(0x8b6)]};}catch(_0x312b32){return{'error':_0x312b32?.[_0x11e2d5(0x644)]()};}}async['update'](_0xede426,_0x347768){const _0x219b76=a0_0x4fa287;try{if(_0xede426['length']===0x0)return;let _0x37fce9=this[_0x219b76(0x6ea)](_0x347768),_0x242c80=_0xede426['map'](_0x573e7e=>({'updateOne':{'filter':{'_id':_0x573e7e['_id'],'owner':_0x347768},'update':{..._0x573e7e}}})),{modifiedCount:_0x17023d}=await _0x37fce9[_0x219b76(0x716)](_0x242c80);return{'insertCount':_0x17023d};}catch{return;}}async[a0_0x4fa287(0x896)](_0x48ae0a,_0x3d951e){const _0x4c0b4f=a0_0x4fa287;try{let _0x4da995=this[_0x4c0b4f(0x6ea)](_0x3d951e),_0xbc5d0=I(_0x48ae0a['where']);return await _0x4da995['find'](_0xbc5d0)[_0x4c0b4f(0x41a)](_0x48ae0a?.[_0x4c0b4f(0x41a)]??0x0)[_0x4c0b4f(0x7de)]();}catch{return[];}}async[a0_0x4fa287(0x6bc)](_0x5899b7,_0x333b1b){const _0x3cc350=a0_0x4fa287;try{let _0x2365ee=this[_0x3cc350(0x6ea)](_0x333b1b),_0x37eb56=I(_0x5899b7[_0x3cc350(0x79c)]);return await _0x2365ee['findOne'](_0x37eb56)[_0x3cc350(0x7de)]();}catch{return null;}}async[a0_0x4fa287(0x6e3)](_0x1b91c1){const _0x5eae89=a0_0x4fa287;try{return await this[_0x5eae89(0x6ea)](_0x1b91c1)[_0x5eae89(0x516)][_0x5eae89(0x289)](),{'success':!0x0};}catch(_0x27c131){return console[_0x5eae89(0x91c)](_0x27c131),{'success':!0x1,'error':_0x27c131};}}},dt=require(a0_0x4fa287(0x5a0)),Ic=require(a0_0x4fa287(0x65e)),Rs=new $('Validate'),G=class{['routerPath'](_0x446b90,_0x4ca860=!0x0){const _0xe43581=a0_0x4fa287;let _0x1fa8ab='/'+_0x446b90;return _0x4ca860&&(_0x1fa8ab+=_0xe43581(0x4ec)),_0x1fa8ab;}async[a0_0x4fa287(0x2d3)](_0xd29d4c){const _0x562acc=a0_0x4fa287;let {request:_0x5b0954,schema:_0x1cb879,ClassRef:_0x58290d,execute:_0x1ffcea}=_0xd29d4c,_0x24a2fa=new _0x58290d(),_0x39e815=_0x5b0954[_0x562acc(0x2c2)],_0x21540d=_0x5b0954['params'];_0x5b0954?.['query']&&Object[_0x562acc(0x647)](_0x5b0954[_0x562acc(0x41f)])[_0x562acc(0x875)]>0x0&&Object['assign'](_0x21540d,_0x5b0954[_0x562acc(0x41f)]),_0x5b0954['originalUrl'][_0x562acc(0x7f1)]('/instance/create')&&Object[_0x562acc(0x3cf)](_0x21540d,_0x39e815),Object['assign'](_0x24a2fa,_0x39e815);let _0xe323dc=_0x1cb879?(0x0,dt['validate'])(_0x24a2fa,_0x1cb879):{'valid':!0x0,'errors':[]};if(!_0xe323dc[_0x562acc(0x460)]){let _0x36163a=_0xe323dc[_0x562acc(0x702)][_0x562acc(0x465)](({property:_0x4423c4,stack:_0x180b34,schema:_0xf63e4f})=>{const _0x326650=_0x562acc;let _0xf77155;return _0xf63e4f[_0x326650(0x1d9)]?_0xf77155=_0xf63e4f['description']:_0xf77155=_0x180b34['replace'](_0x326650(0x381),''),{'property':_0x4423c4[_0x326650(0x2a9)]('instance.',''),'message':_0xf77155};});throw Rs[_0x562acc(0x91c)]([..._0x36163a]),new m(..._0x36163a);}return await _0x1ffcea(_0x21540d,_0x24a2fa);}async[a0_0x4fa287(0x7d6)](_0x599c84){const _0x4c6888=a0_0x4fa287;let {request:_0x453cdd,ClassRef:_0xc9b9f9,schema:_0x16a75c,execute:_0x187b3d}=_0x599c84,_0xc884a2=_0x453cdd[_0x4c6888(0x41f)];if(!_0xc884a2?.[_0x4c6888(0x61f)])throw new m(_0x4c6888(0x458),_0x4c6888(0x7aa));let _0x410849=_0x453cdd[_0x4c6888(0x623)],_0x478813=_0x453cdd[_0x4c6888(0x2c2)],_0x169b50=new _0xc9b9f9();Object['assign'](_0x478813,_0xc884a2),Object[_0x4c6888(0x3cf)](_0x169b50,_0x478813);let _0x274b20=(0x0,dt[_0x4c6888(0x2ea)])(_0x169b50,_0x16a75c);if(!_0x274b20[_0x4c6888(0x460)]){let _0xb40e69=_0x274b20[_0x4c6888(0x702)][_0x4c6888(0x465)](({property:_0x53a2df,stack:_0x5e5607,schema:_0x5be59d})=>{const _0x3f9179=_0x4c6888;let _0x1e9aee;return _0x5be59d[_0x3f9179(0x1d9)]?_0x1e9aee=_0x5be59d[_0x3f9179(0x1d9)]:_0x1e9aee=_0x5e5607[_0x3f9179(0x2a9)](_0x3f9179(0x381),''),{'property':_0x53a2df[_0x3f9179(0x2a9)](_0x3f9179(0x381),''),'message':_0x1e9aee};});throw Rs[_0x4c6888(0x91c)]([..._0xb40e69]),new m(..._0xb40e69);}return await _0x187b3d(_0x410849,_0x169b50);}async[a0_0x4fa287(0x36e)](_0x2cd703){const _0x271f57=a0_0x4fa287;let {request:_0x12f5f5,ClassRef:_0x35b682,schema:_0xd6c6c4,execute:_0x2afe34}=_0x2cd703,_0x51b8e5=_0x12f5f5[_0x271f57(0x2c2)];if(!_0x51b8e5?.[_0x271f57(0x2ab)])throw new m(_0x271f57(0x583),_0x271f57(0x6d0));let _0x12b3b4=_0x12f5f5[_0x271f57(0x623)],_0x33058=_0x12f5f5['body'],_0x132411=new _0x35b682();Object[_0x271f57(0x3cf)](_0x33058,_0x51b8e5),Object['assign'](_0x132411,_0x33058);let _0x3d2e0a=(0x0,dt['validate'])(_0x132411,_0xd6c6c4);if(!_0x3d2e0a['valid']){let _0xa60234=_0x3d2e0a[_0x271f57(0x702)][_0x271f57(0x465)](({property:_0x32d15c,stack:_0x33ed52,schema:_0x12e18c})=>{const _0x35b2e9=_0x271f57;let _0x505239;return _0x12e18c[_0x35b2e9(0x1d9)]?_0x505239=_0x12e18c[_0x35b2e9(0x1d9)]:_0x505239=_0x33ed52[_0x35b2e9(0x2a9)](_0x35b2e9(0x381),''),{'property':_0x32d15c[_0x35b2e9(0x2a9)]('instance.',''),'message':_0x505239};});throw Rs['error']([..._0xa60234]),new m(..._0xa60234);}return await _0x2afe34(_0x12b3b4,_0x132411);}},M=class{},Gc=new $(a0_0x4fa287(0x1ec)),pt=class extends G{constructor(..._0x5d3cde){const _0x2dd5e5=a0_0x4fa287;super(),this['router']=(0x0,mi['Router'])(),this[_0x2dd5e5(0x4dd)]['post'](this[_0x2dd5e5(0x2e7)](_0x2dd5e5(0x471)),..._0x5d3cde,async(_0x5451e3,_0x391a79)=>{const _0x4f0cea=_0x2dd5e5;let _0x166d80=await this[_0x4f0cea(0x2d3)]({'request':_0x5451e3,'schema':oi,'ClassRef':et,'execute':(_0x2bc1f0,_0x31b89a)=>k[_0x4f0cea(0x471)](_0x2bc1f0,_0x31b89a)});return _0x391a79[_0x4f0cea(0x370)](0xc9)[_0x4f0cea(0x56e)](_0x166d80);})['post'](this['routerPath']('whatsappNumbers'),..._0x5d3cde,async(_0xe769f,_0x560477)=>{const _0x581b20=_0x2dd5e5;let _0x2c99e7=await this[_0x581b20(0x2d3)]({'request':_0xe769f,'schema':Ka,'ClassRef':tt,'execute':(_0x2d08c5,_0x54b21f)=>k[_0x581b20(0x488)](_0x2d08c5,_0x54b21f)});return _0x560477[_0x581b20(0x370)](0xc9)[_0x581b20(0x56e)](_0x2c99e7);})[_0x2dd5e5(0x62d)](this[_0x2dd5e5(0x2e7)](_0x2dd5e5(0x58e)),..._0x5d3cde,async(_0x2162a5,_0x31636c)=>{const _0x502af1=_0x2dd5e5;let _0x5162a8=await this[_0x502af1(0x2d3)]({'request':_0x2162a5,'schema':v,'ClassRef':M,'execute':(_0x2de92e,_0x460ce1)=>k[_0x502af1(0x58e)](_0x2de92e,_0x460ce1)});return _0x31636c[_0x502af1(0x370)](0xc9)[_0x502af1(0x56e)](_0x5162a8);})[_0x2dd5e5(0x263)](this[_0x2dd5e5(0x2e7)](_0x2dd5e5(0x925)),..._0x5d3cde,async(_0x4d57e4,_0x2ce743)=>{const _0x3e9759=_0x2dd5e5;let _0x5e8ca1=await this[_0x3e9759(0x2d3)]({'request':_0x4d57e4,'schema':Qa,'ClassRef':it,'execute':(_0x2ebf63,_0x14307c)=>k[_0x3e9759(0x801)](_0x2ebf63,_0x14307c)});return _0x2ce743['status'](0xc9)[_0x3e9759(0x56e)](_0x5e8ca1);})[_0x2dd5e5(0x263)](this[_0x2dd5e5(0x2e7)](_0x2dd5e5(0x772)),..._0x5d3cde,async(_0x339b5e,_0x3d4fd2)=>{const _0x286254=_0x2dd5e5;let _0x142163=await this[_0x286254(0x2d3)]({'request':_0x339b5e,'schema':Xa,'ClassRef':ot,'execute':(_0x1d2bbf,_0x3452d6)=>k[_0x286254(0x772)](_0x1d2bbf,_0x3452d6)});return _0x3d4fd2[_0x286254(0x370)](0xc9)[_0x286254(0x56e)](_0x142163);})[_0x2dd5e5(0x909)](this['routerPath'](_0x2dd5e5(0x394)),..._0x5d3cde,async(_0x146a58,_0x6c3510)=>{const _0x42b282=_0x2dd5e5;let _0x95fa60=await this[_0x42b282(0x2d3)]({'request':_0x146a58,'schema':Za,'ClassRef':nt,'execute':(_0x130b37,_0x35b905)=>k['deleteMessage'](_0x130b37,_0x35b905)});return _0x6c3510[_0x42b282(0x370)](0xc9)[_0x42b282(0x56e)](_0x95fa60);})[_0x2dd5e5(0x62d)](this[_0x2dd5e5(0x2e7)]('fetchProfilePictureUrl'),..._0x5d3cde,async(_0x234f5c,_0x1eb545)=>{const _0x2cfa11=_0x2dd5e5;let _0x57a6fd=await this[_0x2cfa11(0x2d3)]({'request':_0x234f5c,'schema':De,'ClassRef':_e,'execute':(_0x245f42,_0x46d226)=>k[_0x2cfa11(0x35e)](_0x245f42,_0x46d226)});return _0x1eb545[_0x2cfa11(0x370)](0xc8)[_0x2cfa11(0x56e)](_0x57a6fd);})[_0x2dd5e5(0x62d)](this[_0x2dd5e5(0x2e7)](_0x2dd5e5(0x4da)),..._0x5d3cde,async(_0x4a79bc,_0x116466)=>{const _0x3838c1=_0x2dd5e5;let _0x4b8a7d=await this[_0x3838c1(0x2d3)]({'request':_0x4a79bc,'schema':ai,'ClassRef':_e,'execute':(_0x237441,_0x57b5d6)=>k[_0x3838c1(0x4da)](_0x237441,_0x57b5d6)});return _0x116466[_0x3838c1(0x370)](0xc8)[_0x3838c1(0x56e)](_0x4b8a7d);})['post'](this[_0x2dd5e5(0x2e7)](_0x2dd5e5(0x76e)),..._0x5d3cde,async(_0x2df1b6,_0x4aebc0)=>{const _0x246a95=_0x2dd5e5;let _0x1ef68b=await this[_0x246a95(0x2d3)]({'request':_0x2df1b6,'schema':ei,'ClassRef':lt,'execute':(_0x16584d,_0x17f698)=>k[_0x246a95(0x482)](_0x16584d,_0x17f698)});return _0x4aebc0[_0x246a95(0x370)](0xc8)[_0x246a95(0x56e)](_0x1ef68b);})[_0x2dd5e5(0x62d)](this['routerPath'](_0x2dd5e5(0x24e)),..._0x5d3cde,async(_0x437273,_0x22b662)=>{const _0x53368d=_0x2dd5e5;let _0x10ad60=await this['dataValidate']({'request':_0x437273,'schema':null,'ClassRef':Object,'execute':(_0x4a665a,_0x1baf8c)=>k[_0x53368d(0x24e)](_0x4a665a,_0x1baf8c)});return _0x22b662[_0x53368d(0x370)](0xc9)['json'](_0x10ad60);})[_0x2dd5e5(0x62d)](this[_0x2dd5e5(0x2e7)](_0x2dd5e5(0x7b2)),..._0x5d3cde,async(_0x24ea9d,_0x3aa4f1)=>{const _0x40d4ff=_0x2dd5e5;let _0x4df319=await this[_0x40d4ff(0x2d3)]({'request':_0x24ea9d,'schema':ii,'ClassRef':Xe,'execute':(_0x39bec7,_0x2cae37)=>k[_0x40d4ff(0x3dd)](_0x39bec7,_0x2cae37)});return _0x3aa4f1['status'](0xc8)['json'](_0x4df319);})[_0x2dd5e5(0x37b)](this[_0x2dd5e5(0x2e7)](_0x2dd5e5(0x881)),..._0x5d3cde,async(_0x4ff1df,_0x2d2fde)=>{const _0x1cf0ba=_0x2dd5e5;let _0x1a5d73=await this[_0x1cf0ba(0x2d3)]({'request':_0x4ff1df,'schema':null,'ClassRef':M,'execute':_0x34ea4b=>k[_0x1cf0ba(0x26b)](_0x34ea4b)});return _0x2d2fde[_0x1cf0ba(0x370)](0xc8)[_0x1cf0ba(0x56e)](_0x1a5d73);})[_0x2dd5e5(0x37b)](this['routerPath'](_0x2dd5e5(0x2cc)),..._0x5d3cde,async(_0x25ae97,_0x26984a)=>{const _0xc88bc7=_0x2dd5e5;let _0x1f46d6=await this[_0xc88bc7(0x2d3)]({'request':_0x25ae97,'schema':null,'ClassRef':M,'execute':_0x550aa2=>k['fetchLabels'](_0x550aa2)});return _0x26984a['status'](0xc8)['json'](_0x1f46d6);})[_0x2dd5e5(0x263)](this[_0x2dd5e5(0x2e7)]('importChats'),..._0x5d3cde,async(_0x4be5c7,_0x2a8bfa)=>{const _0x1c0128=_0x2dd5e5;let _0x5519ac=await this['dataValidate']({'request':_0x4be5c7,'schema':null,'ClassRef':Array,'execute':(_0xdd9f45,_0x86282d)=>k['importChats'](_0xdd9f45,_0x86282d)});return _0x2a8bfa['status'](0xc8)[_0x1c0128(0x56e)](_0x5519ac);})[_0x2dd5e5(0x37b)](this[_0x2dd5e5(0x2e7)](_0x2dd5e5(0x26c)),..._0x5d3cde,async(_0x499711,_0x3bca5b)=>{const _0xe88dcf=_0x2dd5e5;let _0x129371=await this[_0xe88dcf(0x2d3)]({'request':_0x499711,'schema':null,'ClassRef':M,'execute':_0x16f593=>k[_0xe88dcf(0x26c)](_0x16f593)});return _0x3bca5b[_0xe88dcf(0x370)](0xc8)[_0xe88dcf(0x56e)](_0x129371);})['put'](this[_0x2dd5e5(0x2e7)](_0x2dd5e5(0x919)),..._0x5d3cde,async(_0x476d19,_0x31e5ad)=>{const _0x4d04b1=_0x2dd5e5;let _0x3fb0ea=await this['dataValidate']({'request':_0x476d19,'schema':Ya,'ClassRef':rt,'execute':(_0x1579c1,_0x81540c)=>k[_0x4d04b1(0x919)](_0x1579c1,_0x81540c)});return _0x31e5ad[_0x4d04b1(0x370)](0xc9)[_0x4d04b1(0x56e)](_0x3fb0ea);})[_0x2dd5e5(0x62d)](this[_0x2dd5e5(0x2e7)]('fetchBusinessProfile'),..._0x5d3cde,async(_0x8a8268,_0x2d1d68)=>{const _0x342ada=_0x2dd5e5;let _0x52a344=await this[_0x342ada(0x2d3)]({'request':_0x8a8268,'schema':De,'ClassRef':ve,'execute':(_0x5e2a87,_0x230c15)=>k['fetchBusinessProfile'](_0x5e2a87,_0x230c15)});return _0x2d1d68[_0x342ada(0x370)](0xc8)[_0x342ada(0x56e)](_0x52a344);})[_0x2dd5e5(0x62d)](this[_0x2dd5e5(0x2e7)](_0x2dd5e5(0x349)),..._0x5d3cde,async(_0x133edb,_0x28da22)=>{const _0x52596e=_0x2dd5e5;let _0x3f7b09=await this[_0x52596e(0x2d3)]({'request':_0x133edb,'schema':ti,'ClassRef':st,'execute':(_0x5eaf92,_0x4d767c)=>k[_0x52596e(0x349)](_0x5eaf92,_0x4d767c)});return _0x28da22[_0x52596e(0x370)](0xc8)[_0x52596e(0x56e)](_0x3f7b09);})['post'](this['routerPath'](_0x2dd5e5(0x26a)),..._0x5d3cde,async(_0x57c9c1,_0x414003)=>{const _0x1d4c7c=_0x2dd5e5;let _0x5f0b8e=await this[_0x1d4c7c(0x2d3)]({'request':_0x57c9c1,'schema':si,'ClassRef':at,'execute':(_0x25a583,_0x37fa9a)=>k[_0x1d4c7c(0x26a)](_0x25a583,_0x37fa9a)});return _0x414003['status'](0xc8)[_0x1d4c7c(0x56e)](_0x5f0b8e);})['put'](this[_0x2dd5e5(0x2e7)]('updateProfilePicture'),..._0x5d3cde,async(_0x1d58e7,_0x4aee93)=>{const _0x1e653c=_0x2dd5e5;let _0x41d53b=await this[_0x1e653c(0x2d3)]({'request':_0x1d58e7,'schema':De,'ClassRef':ve,'execute':(_0x57f739,_0x57e948)=>k[_0x1e653c(0x249)](_0x57f739,_0x57e948)});return _0x4aee93[_0x1e653c(0x370)](0xc8)[_0x1e653c(0x56e)](_0x41d53b);})['delete'](this[_0x2dd5e5(0x2e7)]('removeProfilePicture'),..._0x5d3cde,async(_0x5635e8,_0x497321)=>{const _0x347bea=_0x2dd5e5;let _0x9ef6f0=await this[_0x347bea(0x2d3)]({'request':_0x5635e8,'schema':De,'ClassRef':ve,'execute':(_0x10e76f,_0x3d4d4a)=>k[_0x347bea(0x3f6)](_0x10e76f,_0x3d4d4a)});return _0x497321['status'](0xc8)[_0x347bea(0x56e)](_0x9ef6f0);});}},fi=require(a0_0x4fa287(0x61b)),ht=class{},gt=class{},mt=class{},ft=class{},wt=class{},yt=class{},ie=class{},ke=class{},bt=class extends ie{},St=class extends ie{},Mt=class extends G{constructor(..._0x237e4a){const _0x1c67e1=a0_0x4fa287;super(),this['router']=(0x0,fi[_0x1c67e1(0x4ae)])(),this[_0x1c67e1(0x4dd)][_0x1c67e1(0x62d)](this[_0x1c67e1(0x2e7)](_0x1c67e1(0x220)),..._0x237e4a,async(_0x486e87,_0x2238c7)=>{const _0x169a29=_0x1c67e1;let _0x41a4f6=await this[_0x169a29(0x2d3)]({'request':_0x486e87,'schema':ri,'ClassRef':ht,'execute':(_0x2417f4,_0x2ae4cd)=>V['createGroup'](_0x2417f4,_0x2ae4cd)});_0x2238c7['status'](0xc9)[_0x169a29(0x56e)](_0x41a4f6);})[_0x1c67e1(0x263)](this['routerPath'](_0x1c67e1(0x691)),..._0x237e4a,async(_0x20e14b,_0x515b26)=>{const _0x82860d=_0x1c67e1;let _0x4a4e0e=await this['groupValidate']({'request':_0x20e14b,'schema':li,'ClassRef':gt,'execute':(_0x52a893,_0x1733ba)=>V[_0x82860d(0x691)](_0x52a893,_0x1733ba)});_0x515b26[_0x82860d(0x370)](0xc9)[_0x82860d(0x56e)](_0x4a4e0e);})[_0x1c67e1(0x263)](this[_0x1c67e1(0x2e7)](_0x1c67e1(0x6ca)),..._0x237e4a,async(_0x2f56bd,_0x2b8566)=>{const _0xd5050b=_0x1c67e1;let _0x33d884=await this[_0xd5050b(0x7d6)]({'request':_0x2f56bd,'schema':ui,'ClassRef':mt,'execute':(_0x4d89f0,_0x1574b8)=>V[_0xd5050b(0x6ca)](_0x4d89f0,_0x1574b8)});_0x2b8566['status'](0xc9)['json'](_0x33d884);})[_0x1c67e1(0x263)](this[_0x1c67e1(0x2e7)](_0x1c67e1(0x265)),..._0x237e4a,async(_0x2da71a,_0x8fc9e7)=>{const _0x1b9315=_0x1c67e1;let _0x42cc2e=await this[_0x1b9315(0x7d6)]({'request':_0x2da71a,'schema':di,'ClassRef':ft,'execute':(_0x376353,_0x534e38)=>V[_0x1b9315(0x265)](_0x376353,_0x534e38)});_0x8fc9e7[_0x1b9315(0x370)](0xc9)[_0x1b9315(0x56e)](_0x42cc2e);})['put'](this[_0x1c67e1(0x2e7)](_0x1c67e1(0x6b9)),..._0x237e4a,async(_0x3d44da,_0x1e4ab7)=>{const _0x5a1dee=_0x1c67e1;let _0x292ca4=await this['groupValidate']({'request':_0x3d44da,'schema':hi,'ClassRef':yt,'execute':(_0xfa29ff,_0xaa8fa)=>V[_0x5a1dee(0x6b9)](_0xfa29ff,_0xaa8fa)});_0x1e4ab7[_0x5a1dee(0x370)](0xc9)['json'](_0x292ca4);})[_0x1c67e1(0x263)](this[_0x1c67e1(0x2e7)](_0x1c67e1(0x8a4)),..._0x237e4a,async(_0x404ff8,_0x2f77f4)=>{const _0xb83a94=_0x1c67e1;let _0x22be8a=await this[_0xb83a94(0x7d6)]({'request':_0x404ff8,'schema':pi,'ClassRef':wt,'execute':(_0xe67843,_0x4ba397)=>V['groupSetting'](_0xe67843,_0x4ba397)});_0x2f77f4['status'](0xc9)[_0xb83a94(0x56e)](_0x22be8a);})[_0x1c67e1(0x263)](this[_0x1c67e1(0x2e7)](_0x1c67e1(0x63e)),..._0x237e4a,async(_0x2069c4,_0x2b1235)=>{const _0x15f1fa=_0x1c67e1;let _0x175158=await this['groupValidate']({'request':_0x2069c4,'schema':ci,'ClassRef':St,'execute':(_0x35f31b,_0x56ebff)=>V[_0x15f1fa(0x63e)](_0x35f31b,_0x56ebff)});_0x2b1235['status'](0xc9)[_0x15f1fa(0x56e)](_0x175158);})[_0x1c67e1(0x37b)](this[_0x1c67e1(0x2e7)](_0x1c67e1(0x26e)),..._0x237e4a,async(_0x3ab30d,_0x3f6f29)=>{const _0x12608d=_0x1c67e1;let _0x25aa5f=await this['groupValidate']({'request':_0x3ab30d,'schema':Pe,'ClassRef':ie,'execute':(_0xb1476a,_0x791ab6)=>V[_0x12608d(0x814)](_0xb1476a,_0x791ab6)});_0x3f6f29['status'](0xc8)['json'](_0x25aa5f);})[_0x1c67e1(0x37b)](this[_0x1c67e1(0x2e7)](_0x1c67e1(0x761)),..._0x237e4a,async(_0x2044ee,_0x11a785)=>{const _0x402541=_0x1c67e1;let _0x590c14=await this[_0x402541(0x2d3)]({'request':_0x2044ee,'schema':v,'ClassRef':M,'execute':_0x58f41c=>V[_0x402541(0x761)](_0x58f41c)});_0x11a785['status'](0xc8)[_0x402541(0x56e)](_0x590c14);})[_0x1c67e1(0x37b)](this[_0x1c67e1(0x2e7)](_0x1c67e1(0x3b6)),..._0x237e4a,async(_0x1977c2,_0x3c91de)=>{const _0x57233d=_0x1c67e1;let _0x227282=await this[_0x57233d(0x7d6)]({'request':_0x1977c2,'schema':Pe,'ClassRef':ie,'execute':(_0x57dcd7,_0x433e8c)=>V[_0x57233d(0x474)](_0x57dcd7,_0x433e8c)});_0x3c91de[_0x57233d(0x370)](0xc8)['json'](_0x227282);})[_0x1c67e1(0x37b)](this['routerPath'](_0x1c67e1(0x2ab)),..._0x237e4a,async(_0x3d7ec2,_0x7440b9)=>{const _0x371d1a=_0x1c67e1;let _0x26e78b=await this[_0x371d1a(0x7d6)]({'request':_0x3d7ec2,'schema':Pe,'ClassRef':ie,'execute':(_0x69647f,_0x26721f)=>V['inviteCode'](_0x69647f,_0x26721f)});_0x7440b9[_0x371d1a(0x370)](0xc8)[_0x371d1a(0x56e)](_0x26e78b);})[_0x1c67e1(0x62d)](this['routerPath'](_0x1c67e1(0x605)),..._0x237e4a,async(_0x560c8b,_0x19c330)=>{const _0x44105b=_0x1c67e1;let _0x1366c1=await this[_0x44105b(0x36e)]({'request':_0x560c8b,'schema':$s,'ClassRef':ke,'execute':(_0x3e80b2,_0x1974c4)=>V['groupGetInviteInfo'](_0x3e80b2,_0x1974c4)});_0x19c330['status'](0xc9)['json'](_0x1366c1);})[_0x1c67e1(0x263)](this['routerPath'](_0x1c67e1(0x41e)),..._0x237e4a,async(_0x742cb,_0x46c3e3)=>{const _0x351acc=_0x1c67e1;let _0x44a5e4=await this['joinGroupValidate']({'request':_0x742cb,'schema':$s,'ClassRef':ke,'execute':(_0x5647eb,_0x43d0f)=>V[_0x351acc(0x41e)](_0x5647eb,_0x43d0f)});_0x46c3e3['status'](0xc9)[_0x351acc(0x56e)](_0x44a5e4);})['put'](this[_0x1c67e1(0x2e7)](_0x1c67e1(0x7c9)),..._0x237e4a,async(_0x87ed69,_0x536a77)=>{const _0x10ba39=_0x1c67e1;let _0x4f151a=await this[_0x10ba39(0x7d6)]({'request':_0x87ed69,'schema':Pe,'ClassRef':ie,'execute':(_0x384247,_0x26a7d5)=>V[_0x10ba39(0x7c9)](_0x384247,_0x26a7d5)});_0x536a77[_0x10ba39(0x370)](0xc9)['json'](_0x4f151a);})[_0x1c67e1(0x263)](this[_0x1c67e1(0x2e7)](_0x1c67e1(0x808)),..._0x237e4a,async(_0x185474,_0x45c346)=>{const _0x13defb=_0x1c67e1;let _0x3f1d28=await this[_0x13defb(0x7d6)]({'request':_0x185474,'schema':ni,'ClassRef':bt,'execute':(_0x41a837,_0x343e0e)=>V[_0x13defb(0x7bc)](_0x41a837,_0x343e0e)});_0x45c346[_0x13defb(0x370)](0xc9)[_0x13defb(0x56e)](_0x3f1d28);})[_0x1c67e1(0x909)](this[_0x1c67e1(0x2e7)](_0x1c67e1(0x433)),..._0x237e4a,async(_0x18d2e8,_0x1df907)=>{const _0x1da651=_0x1c67e1;let _0x18f1de=await this['groupValidate']({'request':_0x18d2e8,'schema':{},'ClassRef':ie,'execute':(_0x206489,_0x2fc403)=>V[_0x1da651(0x433)](_0x206489,_0x2fc403)});_0x1df907[_0x1da651(0x370)](0xc8)[_0x1da651(0x56e)](_0x18f1de);});}},wi=require(a0_0x4fa287(0x61b)),Ct=class extends G{constructor(_0x3aa672,..._0x353b67){const _0x3fd729=a0_0x4fa287;super(),this['configService']=_0x3aa672,this['router']=(0x0,wi[_0x3fd729(0x4ae)])();let _0x38c89=_0x3aa672[_0x3fd729(0x37b)]('AUTHENTICATION');this[_0x3fd729(0x4dd)][_0x3fd729(0x62d)](_0x3fd729(0x304),..._0x353b67,async(_0xf03b07,_0x13552d)=>{const _0x257519=_0x3fd729;let {instanceName:_0x29bbc4,apikey:_0x421e63,number:_0x504e97}=_0xf03b07[_0x257519(0x2c2)],_0x289e72=await he[_0x257519(0x559)]({'instanceName':_0x29bbc4,'apikey':_0x421e63,'number':_0x504e97});return _0x13552d[_0x257519(0x370)](0xc9)['json'](_0x289e72);})[_0x3fd729(0x263)](this[_0x3fd729(0x2e7)]('restart'),..._0x353b67,async(_0xbca72c,_0x2339a2)=>{const _0x223ec3=_0x3fd729;let _0x2b61e4=await this[_0x223ec3(0x2d3)]({'request':_0xbca72c,'schema':v,'ClassRef':M,'execute':_0x4ae09c=>he[_0x223ec3(0x6c3)](_0x4ae09c)});return _0x2339a2[_0x223ec3(0x370)](0xc8)[_0x223ec3(0x56e)](_0x2b61e4);})['get'](this[_0x3fd729(0x2e7)](_0x3fd729(0x212)),..._0x353b67,async(_0x15201a,_0x85b7e)=>{const _0x3ed6b3=_0x3fd729;let _0x199e7f=await this[_0x3ed6b3(0x2d3)]({'request':_0x15201a,'schema':v,'ClassRef':M,'execute':_0x55efb7=>he[_0x3ed6b3(0x23b)](_0x55efb7)});return _0x85b7e[_0x3ed6b3(0x370)](0xc8)[_0x3ed6b3(0x56e)](_0x199e7f);})[_0x3fd729(0x37b)](this[_0x3fd729(0x2e7)](_0x3fd729(0x2a4)),..._0x353b67,async(_0x1d1869,_0x43de6a)=>{const _0xdf3bbb=_0x3fd729;let _0x4cd807=await this['dataValidate']({'request':_0x1d1869,'schema':v,'ClassRef':M,'execute':_0x172d78=>he[_0xdf3bbb(0x2a4)](_0x172d78)});return _0x43de6a[_0xdf3bbb(0x370)](0xc8)['json'](_0x4cd807);})[_0x3fd729(0x37b)](this[_0x3fd729(0x2e7)]('fetchInstances',!0x1),..._0x353b67,async(_0x2270f8,_0x27d123)=>{const _0x5e45ec=_0x3fd729;let _0x894e42=await this[_0x5e45ec(0x2d3)]({'request':_0x2270f8,'schema':null,'ClassRef':M,'execute':_0x2cf1f3=>he[_0x5e45ec(0x677)](_0x2cf1f3)});return _0x27d123[_0x5e45ec(0x370)](0xc8)[_0x5e45ec(0x56e)](_0x894e42);})[_0x3fd729(0x909)](this[_0x3fd729(0x2e7)](_0x3fd729(0x55a)),..._0x353b67,async(_0x437e53,_0x5b6176)=>{const _0x1d5cf0=_0x3fd729;let _0x24f52f=await this[_0x1d5cf0(0x2d3)]({'request':_0x437e53,'schema':v,'ClassRef':M,'execute':_0x414847=>he[_0x1d5cf0(0x55a)](_0x414847)});return _0x5b6176[_0x1d5cf0(0x370)](0xc8)['json'](_0x24f52f);})[_0x3fd729(0x909)](this[_0x3fd729(0x2e7)](_0x3fd729(0x909)),..._0x353b67,async(_0x1f863d,_0x5be786)=>{const _0x339ae3=_0x3fd729;let _0x1aa30f=await this['dataValidate']({'request':_0x1f863d,'schema':v,'ClassRef':M,'execute':_0x5d752d=>he[_0x339ae3(0x365)](_0x5d752d)});return _0x5be786[_0x339ae3(0x370)](0xc8)[_0x339ae3(0x56e)](_0x1aa30f);});}},yi=require(a0_0x4fa287(0x61b)),As=class{},Y=class extends As{},Et=class extends Y{},vt=class extends Y{},Nt=class extends Y{},$t=class extends Y{},Le=class extends Y{},Rt=class extends Y{},At=class extends Y{},It=class extends Y{},Tt=class extends Y{},Ot=class extends Y{},_t=class{},xt=class extends G{constructor(..._0xf44ca){const _0xe88cf6=a0_0x4fa287;super(),this['router']=(0x0,yi['Router'])(),this[_0xe88cf6(0x4dd)][_0xe88cf6(0x62d)](this['routerPath']('sendText'),..._0xf44ca,async(_0x1b7778,_0x27773f)=>{const _0x5d1136=_0xe88cf6;let _0x356670=await this['dataValidate']({'request':_0x1b7778,'schema':ka,'ClassRef':Et,'execute':(_0x2a0c1f,_0x491061)=>H[_0x5d1136(0x64c)](_0x2a0c1f,_0x491061)});return _0x27773f['status'](0xc9)[_0x5d1136(0x56e)](_0x356670);})[_0xe88cf6(0x62d)](this[_0xe88cf6(0x2e7)]('sendMedia'),..._0xf44ca,async(_0x46ee8e,_0xaa24bf)=>{const _0x55e394=_0xe88cf6;let _0x1e55f9=await this[_0x55e394(0x2d3)]({'request':_0x46ee8e,'schema':ja,'ClassRef':Le,'execute':(_0x26823f,_0x4394bf)=>H[_0x55e394(0x437)](_0x26823f,_0x4394bf)});return _0xaa24bf[_0x55e394(0x370)](0xc9)[_0x55e394(0x56e)](_0x1e55f9);})[_0xe88cf6(0x62d)](this[_0xe88cf6(0x2e7)]('sendMenu'),..._0xf44ca,async(_0x205062,_0x5289f4)=>{const _0x5e144c=_0xe88cf6;let _0x293c08=await this['dataValidate']({'request':_0x205062,'schema':Va,'ClassRef':$t,'execute':(_0x11e431,_0x512ba5)=>H['sendMenu'](_0x11e431,_0x512ba5)});return _0x5289f4[_0x5e144c(0x370)](0xc9)['json'](_0x293c08);})['post'](this['routerPath'](_0xe88cf6(0x287)),..._0xf44ca,async(_0x5659c7,_0x3352db)=>{const _0x5dad8e=_0xe88cf6;let _0xfce70a=await this[_0x5dad8e(0x2d3)]({'request':_0x5659c7,'schema':Ja,'ClassRef':Le,'execute':(_0x2be74a,_0x29a686)=>H['sendWhatsAppAudio'](_0x2be74a,_0x29a686)});return _0x3352db[_0x5dad8e(0x370)](0xc9)[_0x5dad8e(0x56e)](_0xfce70a);})[_0xe88cf6(0x62d)](this[_0xe88cf6(0x2e7)]('sendButtons'),..._0xf44ca,async(_0x352002,_0x14a2e4)=>{const _0x5cbb58=_0xe88cf6;let _0x1502d3=await this[_0x5cbb58(0x2d3)]({'request':_0x352002,'schema':Ga,'ClassRef':At,'execute':(_0x360272,_0x1e3a42)=>H[_0x5cbb58(0x698)](_0x360272,_0x1e3a42)});return _0x14a2e4['status'](0xc9)['json'](_0x1502d3);})[_0xe88cf6(0x62d)](this['routerPath']('sendLocation'),..._0xf44ca,async(_0x3ea291,_0x3d9e7e)=>{const _0xe1deab=_0xe88cf6;let _0x2b34ab=await this['dataValidate']({'request':_0x3ea291,'schema':Ba,'ClassRef':It,'execute':(_0x36b572,_0x12e4eb)=>H[_0xe1deab(0x436)](_0x36b572,_0x12e4eb)});return _0x3d9e7e[_0xe1deab(0x370)](0xc9)[_0xe1deab(0x56e)](_0x2b34ab);})[_0xe88cf6(0x62d)](this[_0xe88cf6(0x2e7)](_0xe88cf6(0x367)),..._0xf44ca,async(_0x83e9b4,_0x459a36)=>{const _0x497a89=_0xe88cf6;let _0x35b0e2=await this[_0x497a89(0x2d3)]({'request':_0x83e9b4,'schema':Wa,'ClassRef':Tt,'execute':(_0x72d29b,_0xf68e81)=>H[_0x497a89(0x367)](_0x72d29b,_0xf68e81)});return _0x459a36[_0x497a89(0x370)](0xc9)[_0x497a89(0x56e)](_0x35b0e2);})[_0xe88cf6(0x62d)](this[_0xe88cf6(0x2e7)]('sendContact'),..._0xf44ca,async(_0x616c95,_0x3d9370)=>{const _0x3fbb9d=_0xe88cf6;let _0x24af65=await this[_0x3fbb9d(0x2d3)]({'request':_0x616c95,'schema':za,'ClassRef':Ot,'execute':(_0x4a31a7,_0x440ebb)=>H[_0x3fbb9d(0x818)](_0x4a31a7,_0x440ebb)});return _0x3d9370[_0x3fbb9d(0x370)](0xc9)[_0x3fbb9d(0x56e)](_0x24af65);})[_0xe88cf6(0x62d)](this[_0xe88cf6(0x2e7)]('sendReaction'),..._0xf44ca,async(_0x1774ec,_0x44275e)=>{const _0x2cd60c=_0xe88cf6;let _0x258950=await this[_0x2cd60c(0x2d3)]({'request':_0x1774ec,'schema':Ha,'ClassRef':_t,'execute':(_0x403405,_0x9c85ac)=>H[_0x2cd60c(0x491)](_0x403405,_0x9c85ac)});return _0x44275e[_0x2cd60c(0x370)](0xc9)['json'](_0x258950);})[_0xe88cf6(0x62d)](this[_0xe88cf6(0x2e7)](_0xe88cf6(0x3da)),..._0xf44ca,async(_0x5e14ef,_0x2e5e6f)=>{const _0x1547eb=_0xe88cf6;let _0x120d77=await this[_0x1547eb(0x2d3)]({'request':_0x5e14ef,'schema':qa,'ClassRef':Nt,'execute':(_0x178dff,_0x65f2fb)=>H[_0x1547eb(0x3da)](_0x178dff,_0x65f2fb)});return _0x2e5e6f[_0x1547eb(0x370)](0xc9)['json'](_0x120d77);})[_0xe88cf6(0x62d)](this[_0xe88cf6(0x2e7)](_0xe88cf6(0x5e6)),..._0xf44ca,async(_0x2cc571,_0x4d798d)=>{const _0x38be81=_0xe88cf6;let _0x3bd1cb=await this['dataValidate']({'request':_0x2cc571,'schema':Ua,'ClassRef':vt,'execute':(_0x3ede70,_0x535ab6)=>H[_0x38be81(0x5e6)](_0x3ede70,_0x535ab6)});return _0x4d798d[_0x38be81(0x370)](0xc9)['json'](_0x3bd1cb);})[_0xe88cf6(0x62d)](this[_0xe88cf6(0x2e7)](_0xe88cf6(0x326)),..._0xf44ca,async(_0x3151f9,_0x342d18)=>{const _0x298f8f=_0xe88cf6;let _0x293f15=await this[_0x298f8f(0x2d3)]({'request':_0x3151f9,'schema':Fa,'ClassRef':Rt,'execute':(_0x2fb1ee,_0x46b39a)=>H[_0x298f8f(0x326)](_0x2fb1ee,_0x46b39a)});return _0x342d18['status'](0xc9)[_0x298f8f(0x56e)](_0x293f15);});}},bi=require(a0_0x4fa287(0x61b)),Dt=class{},Pt=class extends G{constructor(..._0x5a2dfc){const _0x221695=a0_0x4fa287;super(),this[_0x221695(0x4dd)]=(0x0,bi[_0x221695(0x4ae)])(),this[_0x221695(0x4dd)][_0x221695(0x62d)](this[_0x221695(0x2e7)](_0x221695(0x5d5)),..._0x5a2dfc,async(_0x573179,_0x4eb769)=>{const _0x61f30f=_0x221695;let _0x54f9b3=await this[_0x61f30f(0x2d3)]({'request':_0x573179,'schema':gi,'ClassRef':Dt,'execute':(_0x3d1370,_0x1745e1)=>Is[_0x61f30f(0x3ac)](_0x3d1370,_0x1745e1)});_0x4eb769[_0x61f30f(0x370)](0xc9)[_0x61f30f(0x56e)](_0x54f9b3);})['get'](this[_0x221695(0x2e7)](_0x221695(0x896)),..._0x5a2dfc,async(_0x29c6f7,_0x14251e)=>{const _0x7c459d=_0x221695;let _0x7b8b93=await this['dataValidate']({'request':_0x29c6f7,'schema':v,'ClassRef':M,'execute':_0x1ee913=>Is['findWebhook'](_0x1ee913)});_0x14251e['status'](0xc8)[_0x7c459d(0x56e)](_0x7b8b93);});}},Si=require(a0_0x4fa287(0x61b)),y=new $(a0_0x4fa287(0x502)),kt=class extends G{constructor(..._0x22fb69){const _0x2e75af=a0_0x4fa287;super(),this[_0x2e75af(0x4dd)]=(0x0,Si[_0x2e75af(0x4ae)])(),this[_0x2e75af(0x4dd)][_0x2e75af(0x62d)](this[_0x2e75af(0x2e7)](_0x2e75af(0x3bb)),..._0x22fb69,async(_0x338e77,_0x1a92d8)=>{const _0x2fa559=_0x2e75af;let _0x2f45ec=_0x338e77['body'];y[_0x2fa559(0x6b6)]('request\x20received\x20in\x20scheduleMessage'),y[_0x2fa559(0x6b6)](_0x2fa559(0x321)),y[_0x2fa559(0x6b6)](_0x338e77[_0x2fa559(0x2c2)]);let _0x3674ff=await this[_0x2fa559(0x2d3)]({'request':_0x338e77,'schema':v,'ClassRef':M,'execute':_0x2fb505=>T[_0x2fa559(0x5c1)](_0x2fb505,_0x2f45ec)});_0x1a92d8[_0x2fa559(0x370)](0xc8)[_0x2fa559(0x56e)](_0x3674ff);})[_0x2e75af(0x37b)](this[_0x2e75af(0x2e7)]('scheduleMessage'),..._0x22fb69,async(_0x2a708e,_0xd1cf70)=>{const _0x5ab794=_0x2e75af;let _0xa651a7=await this[_0x5ab794(0x2d3)]({'request':_0x2a708e,'schema':v,'ClassRef':M,'execute':_0x479a69=>T['getScheduleMessage'](_0x479a69)});_0xd1cf70[_0x5ab794(0x370)](0xc8)[_0x5ab794(0x56e)](_0xa651a7);})[_0x2e75af(0x909)](this[_0x2e75af(0x2e7)]('deleteDoneMessages'),..._0x22fb69,async(_0x490404,_0x366847)=>{const _0x552e38=_0x2e75af;y[_0x552e38(0x6b6)](_0x552e38(0x1d0));let _0x28180e=await this[_0x552e38(0x2d3)]({'request':_0x490404,'schema':v,'ClassRef':M,'execute':_0x3faac3=>T[_0x552e38(0x477)](_0x3faac3)});_0x366847[_0x552e38(0x370)](0xc8)[_0x552e38(0x56e)](_0x28180e);})[_0x2e75af(0x62d)](this[_0x2e75af(0x2e7)](_0x2e75af(0x730)),..._0x22fb69,async(_0x2e66a6,_0x3619bd)=>{const _0xb7e11a=_0x2e75af;let _0x2f6d9f=_0x2e66a6[_0xb7e11a(0x2c2)];y['verbose'](_0xb7e11a(0x8fd)),y[_0xb7e11a(0x6b6)](_0xb7e11a(0x321)),y[_0xb7e11a(0x6b6)](_0x2e66a6[_0xb7e11a(0x2c2)]);let _0x2f94b2=await this['dataValidate']({'request':_0x2e66a6,'schema':v,'ClassRef':M,'execute':_0x34329f=>T['startFlow'](_0x34329f,_0x2f6d9f)});_0x3619bd[_0xb7e11a(0x370)](0xc8)['json'](_0x2f94b2);})[_0x2e75af(0x37b)](this[_0x2e75af(0x2e7)](_0x2e75af(0x4c5)),..._0x22fb69,async(_0x23d49b,_0x1b6283)=>{const _0x5a39de=_0x2e75af;y[_0x5a39de(0x6b6)](_0x5a39de(0x5e0));let _0x57bda5=await this[_0x5a39de(0x2d3)]({'request':_0x23d49b,'schema':v,'ClassRef':M,'execute':_0x590b7b=>T[_0x5a39de(0x4c5)](_0x590b7b)});_0x1b6283[_0x5a39de(0x370)](0xc8)['json'](_0x57bda5);})[_0x2e75af(0x37b)](this[_0x2e75af(0x2e7)](_0x2e75af(0x268)),..._0x22fb69,async(_0x21c179,_0x1d59de)=>{const _0x2b22e0=_0x2e75af;y[_0x2b22e0(0x6b6)](_0x2b22e0(0x31d));let _0xdf855a=await this[_0x2b22e0(0x2d3)]({'request':_0x21c179,'schema':v,'ClassRef':M,'execute':_0x4efa77=>T[_0x2b22e0(0x4c5)](_0x4efa77)});_0x1d59de[_0x2b22e0(0x370)](0xc8)['json'](_0xdf855a);})[_0x2e75af(0x62d)](this['routerPath']('updateAgent'),..._0x22fb69,async(_0x57f6fb,_0x332313)=>{const _0x4660d1=_0x2e75af;let _0x1eba2a=_0x57f6fb[_0x4660d1(0x2c2)];y['verbose'](_0x4660d1(0x60e)),y[_0x4660d1(0x6b6)](_0x4660d1(0x321)),y['verbose'](_0x57f6fb[_0x4660d1(0x2c2)]);let _0x57e8b9=await this[_0x4660d1(0x2d3)]({'request':_0x57f6fb,'schema':v,'ClassRef':M,'execute':_0x1a532e=>T[_0x4660d1(0x2da)](_0x1a532e,_0x1eba2a)});_0x332313['status'](0xc8)[_0x4660d1(0x56e)](_0x57e8b9);})['post'](this['routerPath'](_0x2e75af(0x315)),..._0x22fb69,async(_0x1f4789,_0x22a818)=>{const _0x15790d=_0x2e75af;let _0x115fdd=_0x1f4789[_0x15790d(0x2c2)];y['verbose'](_0x15790d(0x4b5)),y['verbose'](_0x15790d(0x321)),y['verbose'](_0x1f4789[_0x15790d(0x2c2)]);let _0x39e548=await this[_0x15790d(0x2d3)]({'request':_0x1f4789,'schema':v,'ClassRef':M,'execute':_0x4c95b0=>T['updateCustomFields'](_0x4c95b0,_0x115fdd)});_0x22a818[_0x15790d(0x370)](0xc8)['json'](_0x39e548);})[_0x2e75af(0x62d)](this[_0x2e75af(0x2e7)](_0x2e75af(0x2be)),..._0x22fb69,async(_0x1d2cc0,_0x37e9df)=>{const _0x2fc2f7=_0x2e75af;let _0x2db012=_0x1d2cc0['body'];y[_0x2fc2f7(0x6b6)](_0x2fc2f7(0x765)),y[_0x2fc2f7(0x6b6)](_0x2fc2f7(0x321)),y[_0x2fc2f7(0x6b6)](_0x1d2cc0['body']);let _0x4aff23=await this[_0x2fc2f7(0x2d3)]({'request':_0x1d2cc0,'schema':v,'ClassRef':M,'execute':_0x272355=>T[_0x2fc2f7(0x2be)](_0x272355,_0x2db012)});_0x37e9df[_0x2fc2f7(0x370)](0xc8)[_0x2fc2f7(0x56e)](_0x4aff23);})[_0x2e75af(0x62d)](this[_0x2e75af(0x2e7)]('updateFlowConfig'),..._0x22fb69,async(_0x5aebad,_0x1bec3d)=>{const _0x5318b0=_0x2e75af;let _0x32f3de=_0x5aebad[_0x5318b0(0x2c2)];y['verbose'](_0x5318b0(0x56f)),y[_0x5318b0(0x6b6)](_0x5318b0(0x321)),y[_0x5318b0(0x6b6)](_0x5aebad['body']);let _0x444fb2=await this['dataValidate']({'request':_0x5aebad,'schema':v,'ClassRef':M,'execute':_0x3a63ef=>T[_0x5318b0(0x3a3)](_0x3a63ef,_0x32f3de)});_0x1bec3d['status'](0xc8)[_0x5318b0(0x56e)](_0x444fb2);})[_0x2e75af(0x62d)](this[_0x2e75af(0x2e7)](_0x2e75af(0x543)),..._0x22fb69,async(_0x496602,_0x3f9fbd)=>{const _0x5a2f9c=_0x2e75af;let _0x19dc69=_0x496602[_0x5a2f9c(0x2c2)];y[_0x5a2f9c(0x6b6)](_0x5a2f9c(0x5cc)),y['verbose'](_0x5a2f9c(0x321)),y[_0x5a2f9c(0x6b6)](_0x496602['body']);let _0x436832=await this[_0x5a2f9c(0x2d3)]({'request':_0x496602,'schema':v,'ClassRef':M,'execute':_0x7aa47=>T[_0x5a2f9c(0x543)](_0x7aa47,_0x19dc69)});_0x3f9fbd[_0x5a2f9c(0x370)](0xc8)['json'](_0x436832);})[_0x2e75af(0x62d)](this[_0x2e75af(0x2e7)]('fetchConversation'),..._0x22fb69,async(_0x165fc5,_0x102979)=>{const _0x2d217c=_0x2e75af;let _0x3a8dc2=_0x165fc5[_0x2d217c(0x2c2)];y[_0x2d217c(0x6b6)](_0x2d217c(0x5ec)),y[_0x2d217c(0x6b6)](_0x2d217c(0x321)),y[_0x2d217c(0x6b6)](_0x165fc5[_0x2d217c(0x2c2)]);let _0x47c25e=await this['dataValidate']({'request':_0x165fc5,'schema':v,'ClassRef':M,'execute':_0x1fcc89=>T[_0x2d217c(0x86b)](_0x1fcc89,_0x3a8dc2)});_0x102979[_0x2d217c(0x370)](0xc8)['json'](_0x47c25e);})[_0x2e75af(0x62d)](this['routerPath']('editConversation'),..._0x22fb69,async(_0x892532,_0x272b89)=>{const _0x29974b=_0x2e75af;let _0x1193f6=_0x892532['body'];y['verbose'](_0x29974b(0x57c)),y[_0x29974b(0x6b6)](_0x29974b(0x321)),y[_0x29974b(0x6b6)](_0x892532[_0x29974b(0x2c2)]);let _0x24c1e0=await this['dataValidate']({'request':_0x892532,'schema':v,'ClassRef':M,'execute':_0x6dc8e5=>T[_0x29974b(0x745)](_0x6dc8e5,_0x1193f6)});_0x272b89[_0x29974b(0x370)](0xc8)['json'](_0x24c1e0);})[_0x2e75af(0x909)](this[_0x2e75af(0x2e7)](_0x2e75af(0x624)),..._0x22fb69,async(_0x247d42,_0x5d21f4)=>{const _0x1eac87=_0x2e75af;let _0x287cd4=_0x247d42[_0x1eac87(0x2c2)];y['verbose'](_0x1eac87(0x24a)),y[_0x1eac87(0x6b6)](_0x1eac87(0x321)),y[_0x1eac87(0x6b6)](_0x247d42[_0x1eac87(0x2c2)]);let _0x1b913a=await this['dataValidate']({'request':_0x247d42,'schema':v,'ClassRef':M,'execute':_0x34b2b8=>T[_0x1eac87(0x624)](_0x34b2b8,_0x287cd4)});_0x5d21f4[_0x1eac87(0x370)](0xc8)[_0x1eac87(0x56e)](_0x1b913a);})[_0x2e75af(0x62d)](this['routerPath'](_0x2e75af(0x5e8)),..._0x22fb69,async(_0x41764f,_0x3c44e6)=>{const _0x707f2e=_0x2e75af;let _0x1e301a=_0x41764f[_0x707f2e(0x2c2)],_0x32c20e=_0x41764f[_0x707f2e(0x507)]['apikey'];y[_0x707f2e(0x6b6)]('request\x20received\x20in\x20createFlow'),y[_0x707f2e(0x6b6)]('request\x20body:\x20'),y[_0x707f2e(0x6b6)](_0x41764f['body']);let _0x561d17=await this[_0x707f2e(0x2d3)]({'request':_0x41764f,'schema':v,'ClassRef':M,'execute':_0xe935e=>T[_0x707f2e(0x414)](_0xe935e,_0x1e301a,_0x32c20e)});_0x3c44e6[_0x707f2e(0x370)](0xc8)[_0x707f2e(0x56e)](_0x561d17);})[_0x2e75af(0x62d)](this[_0x2e75af(0x2e7)](_0x2e75af(0x2c6)),..._0x22fb69,async(_0x2cde0c,_0x4a7586)=>{const _0x526e9f=_0x2e75af;let _0xc9ba9f=_0x2cde0c[_0x526e9f(0x2c2)],_0x54ab72=_0x2cde0c[_0x526e9f(0x507)]['apikey'];y[_0x526e9f(0x6b6)](_0x526e9f(0x7d4)),y['verbose'](_0x526e9f(0x321)),y[_0x526e9f(0x6b6)](_0x2cde0c[_0x526e9f(0x2c2)]),delete _0xc9ba9f[_0x526e9f(0x744)],delete _0xc9ba9f['variables'],delete _0xc9ba9f[_0x526e9f(0x7ab)],delete _0xc9ba9f['conditions'];let _0x47bd23=await this[_0x526e9f(0x2d3)]({'request':_0x2cde0c,'schema':v,'ClassRef':M,'execute':_0x49d191=>T[_0x526e9f(0x294)](_0x49d191,_0xc9ba9f,_0x54ab72)});_0x4a7586[_0x526e9f(0x370)](0xc8)[_0x526e9f(0x56e)](_0x47bd23);})[_0x2e75af(0x62d)](this[_0x2e75af(0x2e7)]('editflowblock'),..._0x22fb69,async(_0x530537,_0x24923f)=>{const _0x36af9d=_0x2e75af;let _0x27ba61=_0x530537[_0x36af9d(0x2c2)];y[_0x36af9d(0x6b6)](_0x36af9d(0x7d4)),y['verbose'](_0x36af9d(0x321)),y[_0x36af9d(0x6b6)](_0x530537[_0x36af9d(0x2c2)]);let _0x158be5=await this[_0x36af9d(0x2d3)]({'request':_0x530537,'schema':v,'ClassRef':M,'execute':_0x89b920=>T[_0x36af9d(0x20b)](_0x89b920,_0x27ba61)});_0x24923f[_0x36af9d(0x370)](0xc8)[_0x36af9d(0x56e)](_0x158be5);})[_0x2e75af(0x62d)](this[_0x2e75af(0x2e7)](_0x2e75af(0x59f)),..._0x22fb69,async(_0x19125b,_0xf94aba)=>{const _0x299f18=_0x2e75af;let _0x1b7420=_0x19125b[_0x299f18(0x2c2)];y[_0x299f18(0x6b6)](_0x299f18(0x7d4)),y[_0x299f18(0x6b6)](_0x299f18(0x321)),y[_0x299f18(0x6b6)](_0x19125b[_0x299f18(0x2c2)]);let _0x39060c=await this['dataValidate']({'request':_0x19125b,'schema':v,'ClassRef':M,'execute':_0x26edf8=>T['editFlowReply'](_0x26edf8,_0x1b7420)});_0xf94aba[_0x299f18(0x370)](0xc8)[_0x299f18(0x56e)](_0x39060c);})['post'](this[_0x2e75af(0x2e7)](_0x2e75af(0x7e7)),..._0x22fb69,async(_0x32665f,_0x2d63c9)=>{const _0x50b192=_0x2e75af;let _0x14c3e4=_0x32665f[_0x50b192(0x2c2)];y['verbose'](_0x50b192(0x7d4)),y[_0x50b192(0x6b6)](_0x50b192(0x321)),y[_0x50b192(0x6b6)](_0x32665f[_0x50b192(0x2c2)]);let _0x6ffe5c=await this[_0x50b192(0x2d3)]({'request':_0x32665f,'schema':v,'ClassRef':M,'execute':_0x42e2e8=>T[_0x50b192(0x4b4)](_0x42e2e8,_0x14c3e4)});_0x2d63c9['status'](0xc8)[_0x50b192(0x56e)](_0x6ffe5c);})['post'](this[_0x2e75af(0x2e7)](_0x2e75af(0x440)),..._0x22fb69,async(_0x16df5a,_0x46f9e0)=>{const _0x231c0a=_0x2e75af;let _0x4050d5=_0x16df5a[_0x231c0a(0x2c2)];y[_0x231c0a(0x6b6)](_0x231c0a(0x4ca)),y[_0x231c0a(0x6b6)](_0x231c0a(0x321)),y['verbose'](_0x16df5a[_0x231c0a(0x2c2)]);let _0x3cd580=await this[_0x231c0a(0x2d3)]({'request':_0x16df5a,'schema':v,'ClassRef':M,'execute':_0x9fc940=>T[_0x231c0a(0x719)](_0x9fc940,_0x4050d5)});_0x46f9e0[_0x231c0a(0x370)](0xc8)['json'](_0x3cd580);})[_0x2e75af(0x62d)](this[_0x2e75af(0x2e7)](_0x2e75af(0x362)),..._0x22fb69,async(_0x114549,_0xf052c1)=>{const _0x190b1e=_0x2e75af;let _0xc7fd9c=_0x114549['body'];y[_0x190b1e(0x6b6)](_0x190b1e(0x4e4)),y['verbose'](_0x190b1e(0x321)),y[_0x190b1e(0x6b6)](_0x114549['body']);let _0x44ca47=await this[_0x190b1e(0x2d3)]({'request':_0x114549,'schema':v,'ClassRef':M,'execute':_0xcf1d5f=>T['editFlowCondition'](_0xcf1d5f,_0xc7fd9c)});_0xf052c1[_0x190b1e(0x370)](0xc8)[_0x190b1e(0x56e)](_0x44ca47);})[_0x2e75af(0x62d)](this[_0x2e75af(0x2e7)](_0x2e75af(0x85c)),..._0x22fb69,async(_0x532a60,_0x1bb53e)=>{const _0x2b83d7=_0x2e75af;let _0x5c7d02=_0x532a60[_0x2b83d7(0x2c2)];y['verbose'](_0x2b83d7(0x3ce)),y[_0x2b83d7(0x6b6)](_0x2b83d7(0x321)),y[_0x2b83d7(0x6b6)](_0x532a60[_0x2b83d7(0x2c2)]);let _0x3df9ad=await this[_0x2b83d7(0x2d3)]({'request':_0x532a60,'schema':v,'ClassRef':M,'execute':_0x516510=>T[_0x2b83d7(0x462)](_0x516510,_0x5c7d02)});_0x1bb53e[_0x2b83d7(0x370)](0xc8)[_0x2b83d7(0x56e)](_0x3df9ad);})[_0x2e75af(0x62d)](this[_0x2e75af(0x2e7)](_0x2e75af(0x2f0)),..._0x22fb69,async(_0x4ae8e4,_0x4919d7)=>{const _0xc2c029=_0x2e75af;let _0x3c5027=_0x4ae8e4[_0xc2c029(0x2c2)];y['verbose'](_0xc2c029(0x764)),y[_0xc2c029(0x6b6)](_0xc2c029(0x321)),y[_0xc2c029(0x6b6)](_0x4ae8e4[_0xc2c029(0x2c2)]);let _0x393ca5=await this[_0xc2c029(0x2d3)]({'request':_0x4ae8e4,'schema':v,'ClassRef':M,'execute':_0x2d4097=>T['getFlow'](_0x2d4097,_0x3c5027)});_0x4919d7[_0xc2c029(0x370)](0xc8)['json'](_0x393ca5);})['delete'](this[_0x2e75af(0x2e7)](_0x2e75af(0x780)),..._0x22fb69,async(_0x4414fd,_0x40615b)=>{const _0x4c1974=_0x2e75af;let _0x4bf90b=_0x4414fd['body'];y[_0x4c1974(0x6b6)](_0x4c1974(0x24c)),y[_0x4c1974(0x6b6)](_0x4c1974(0x321)),y['verbose'](_0x4414fd['body']);let _0xadc52=await this[_0x4c1974(0x2d3)]({'request':_0x4414fd,'schema':v,'ClassRef':M,'execute':_0x59f595=>T[_0x4c1974(0x408)](_0x59f595,_0x4bf90b)});_0x40615b[_0x4c1974(0x370)](0xc8)['json'](_0xadc52);})[_0x2e75af(0x37b)](this[_0x2e75af(0x2e7)]('allflows'),..._0x22fb69,async(_0x5a9040,_0xa224c7)=>{const _0x3e8264=_0x2e75af;y[_0x3e8264(0x6b6)](_0x3e8264(0x38c));let _0x3088c5=await this['dataValidate']({'request':_0x5a9040,'schema':v,'ClassRef':M,'execute':_0x30ff39=>T[_0x3e8264(0x7d2)](_0x30ff39)});_0xa224c7[_0x3e8264(0x370)](0xc8)[_0x3e8264(0x56e)](_0x3088c5);});}},vi=A(require(a0_0x4fa287(0x2de))),oe={};function Mi(_0x25b284,_0x24b2ee,_0x37fadf,_0x3f9542){oe[_0x25b284]||(oe[_0x25b284]={}),oe[_0x25b284][_0x24b2ee]={'id':_0x24b2ee,'response':_0x37fadf,'events':_0x3f9542};}function Ci(_0xd5b04e,_0x20590f){!oe[_0xd5b04e]||!oe[_0xd5b04e][_0x20590f]||delete oe[_0xd5b04e][_0x20590f];}function q(_0x4a2117,_0x4498ab,_0x46b7d2){const _0x463e2f=a0_0x4fa287;if(!oe[_0x4a2117])return;let _0x1e1f95='data:\x20'+JSON[_0x463e2f(0x2b0)](_0x46b7d2)+'\x0a\x0a';Object[_0x463e2f(0x63f)](oe[_0x4a2117])[_0x463e2f(0x442)](_0x5dca49=>{const _0x292d99=_0x463e2f;_0x5dca49[_0x292d99(0x844)]['includes'](_0x4498ab)&&_0x5dca49[_0x292d99(0x79e)]['write'](_0x1e1f95);});}function Ei(){const _0x394f03=a0_0x4fa287;let _0x156539={};for(let _0x42774b in oe)_0x156539[_0x42774b]=Object[_0x394f03(0x63f)](oe[_0x42774b])[_0x394f03(0x465)](_0x511d17=>({'id':_0x511d17['id'],'events':_0x511d17[_0x394f03(0x844)]}));return _0x156539;}var Ni=require(a0_0x4fa287(0x611)),Os=require(a0_0x4fa287(0x68e)),Ts=class{},Oo=new Os[(a0_0x4fa287(0x654))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),_o=new Os[(a0_0x4fa287(0x654))]({'_id':{'type':String,'default':a0_0x4fa287(0x2cb)},'WebhookGlobal':{'type':Oo},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Ne=R?.['model'](Ts['name'],_o,a0_0x4fa287(0x8a8)),xo=vi[a0_0x4fa287(0x796)][a0_0x4fa287(0x82f)](__dirname,a0_0x4fa287(0x1eb)),Fe=(0x0,Lt[a0_0x4fa287(0x4ae)])(),Do=b[a0_0x4fa287(0x37b)](a0_0x4fa287(0x736))[a0_0x4fa287(0x333)],le=[Ta,Oa,Da[Do]];Fe['use'](a0_0x4fa287(0x82b),Lt[a0_0x4fa287(0x796)]['static'](xo))['get'](a0_0x4fa287(0x20d),async(_0x2acda8,_0x2d29c1)=>{const _0x2853a1=a0_0x4fa287;console['log']('bateu\x20events');let _0x4fffa9=_0x2acda8[_0x2853a1(0x623)][_0x2853a1(0x60f)],_0xbbce33=(_0x2acda8[_0x2853a1(0x41f)][_0x2853a1(0x844)]||'')[_0x2853a1(0x916)](','),_0x305018=(0x0,Ni['v4'])();console[_0x2853a1(0x848)](_0x2853a1(0x247),_0x4fffa9),console['log']('Subscribed\x20Events:',_0xbbce33);let _0x71ff57=b['get'](_0x2853a1(0x736))[_0x2853a1(0x6f4)],_0x3df175=_0x2acda8[_0x2853a1(0x41f)][_0x2853a1(0x649)];if(console[_0x2853a1(0x848)]('API\x20Key\x20from\x20Request:',_0x3df175),_0x71ff57['KEY']!==_0x3df175){console[_0x2853a1(0x848)](_0x2853a1(0x443));try{let _0x250594=await we[_0x2853a1(0x29f)][_0x2853a1(0x896)](_0x4fffa9);if(console[_0x2853a1(0x848)](_0x2853a1(0x1ea),_0x250594),!_0x250594||_0x250594[_0x2853a1(0x649)]!==_0x3df175)return console[_0x2853a1(0x848)](_0x2853a1(0x73b)),_0x2d29c1[_0x2853a1(0x370)](0x191)[_0x2853a1(0x6f6)](_0x2853a1(0x7c3));}catch(_0x128a65){return console[_0x2853a1(0x91c)](_0x2853a1(0x475),_0x128a65),_0x2d29c1[_0x2853a1(0x370)](0x191)['send']('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await xe(_0x4fffa9))return _0x2d29c1[_0x2853a1(0x370)](0x194)[_0x2853a1(0x6f6)](_0x2853a1(0x32e));_0x2d29c1[_0x2853a1(0x892)](_0x2853a1(0x300),_0x2853a1(0x3db)),_0x2d29c1[_0x2853a1(0x892)](_0x2853a1(0x77f),_0x2853a1(0x640)),_0x2d29c1['setHeader'](_0x2853a1(0x20f),_0x2853a1(0x8eb)),_0x2d29c1[_0x2853a1(0x484)]();let _0x1d4d44=_0x2853a1(0x851)+JSON[_0x2853a1(0x2b0)]({'info':_0x2853a1(0x51e)})+'\x0a\x0a';_0x2d29c1[_0x2853a1(0x48a)](_0x1d4d44),Mi(_0x4fffa9,_0x305018,_0x2d29c1,_0xbbce33),_0x2acda8['on'](_0x2853a1(0x23f),()=>{const _0x4f8c36=_0x2853a1;console[_0x4f8c36(0x848)]('Connection\x20closed\x20for\x20instance:\x20'+_0x4fffa9),Ci(_0x4fffa9,_0x305018);});}),Fe['post'](a0_0x4fa287(0x36a),async(_0x14b07e,_0x2ce58a)=>{const _0x227d1c=a0_0x4fa287;console[_0x227d1c(0x848)](_0x227d1c(0x721));let _0x568640=_0x14b07e[_0x227d1c(0x623)][_0x227d1c(0x60f)],_0x4c4902=_0x14b07e[_0x227d1c(0x623)][_0x227d1c(0x885)],_0x15e04f=_0x14b07e['query'][_0x227d1c(0x224)]||'',_0x99aef6=_0x14b07e[_0x227d1c(0x2c2)];console['log'](_0x227d1c(0x5db),_0x568640),console[_0x227d1c(0x848)](_0x227d1c(0x601),_0x4c4902),console[_0x227d1c(0x848)]('RemoteJid:',_0x15e04f),console['log'](_0x227d1c(0x7a4),_0x99aef6);try{if(!await xe(_0x568640))return _0x2ce58a[_0x227d1c(0x370)](0x194)[_0x227d1c(0x6f6)](_0x227d1c(0x32e));let _0x545710=await T[_0x227d1c(0x22a)](_0x568640,_0x4c4902,_0x15e04f,_0x99aef6);_0x2ce58a[_0x227d1c(0x6f6)](_0x545710);}catch(_0x47ada5){console[_0x227d1c(0x91c)](_0x47ada5),_0x2ce58a[_0x227d1c(0x370)](0x1f4)[_0x227d1c(0x6f6)]('Erro\x20ao\x20iniciar\x20o\x20fluxo.');}}),Fe['get'](a0_0x4fa287(0x347),(_0x12e292,_0x359b0b)=>{const _0x15802d=a0_0x4fa287;let _0x5ad02f=Ei();_0x359b0b[_0x15802d(0x56e)](_0x5ad02f);})['get']('/',(_0x204b45,_0x26673d)=>{const _0x3150a7=a0_0x4fa287;let _0x5af61d=b[_0x3150a7(0x37b)](_0x3150a7(0x671))['URL'];if(_0x5af61d){let _0x4b7c2d=encodeURIComponent(''+_0x5af61d);_0x26673d['redirect'](_0x3150a7(0x6d4)+_0x4b7c2d);return;}let _0x1f8a9d=b['get']('SSL_CONF'),_0x1a3ce7=_0x1f8a9d&&_0x1f8a9d[_0x3150a7(0x4b3)][_0x3150a7(0x916)]('/')[0x4];if(_0x1a3ce7){let _0x3fa099=encodeURIComponent('https://'+_0x1a3ce7);_0x26673d[_0x3150a7(0x243)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x3fa099);}else _0x26673d['redirect'](_0x3150a7(0x8d9));})[a0_0x4fa287(0x263)](a0_0x4fa287(0x576),...le,async(_0x17c2d4,_0x27f4ba)=>{const _0x122804=a0_0x4fa287;try{console[_0x122804(0x848)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x27f4ba['status'](0xc8)[_0x122804(0x56e)]({'message':_0x122804(0x854)}),_0x27f4ba['on']('finish',()=>process['exit'](0x0));}catch(_0x31e3b6){console[_0x122804(0x91c)]('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x31e3b6),_0x27f4ba[_0x122804(0x370)](0x1f4)[_0x122804(0x56e)]({'message':_0x122804(0x8be)});}})['put'](a0_0x4fa287(0x5f2),...le,async(_0x215f39,_0x6cd5bd)=>{const _0x4b3c04=a0_0x4fa287;try{let _0x2486e8=_0x215f39[_0x4b3c04(0x2c2)];await Ne[_0x4b3c04(0x3b3)]({},{'$set':_0x2486e8},{'upsert':!0x0});let _0x535fc8=await Ne[_0x4b3c04(0x6bc)]();_0x6cd5bd[_0x4b3c04(0x56e)](_0x535fc8);}catch(_0x584b72){_0x6cd5bd['status'](0x190)[_0x4b3c04(0x6f6)](_0x584b72[_0x4b3c04(0x418)]);}})[a0_0x4fa287(0x37b)](a0_0x4fa287(0x5f2),...le,async(_0x3ffafd,_0x41d2d2)=>{const _0x2e4abd=a0_0x4fa287;try{let _0x1fb723=await Ne[_0x2e4abd(0x6bc)]();if(!_0x1fb723)return _0x41d2d2[_0x2e4abd(0x56e)]({});_0x41d2d2['json'](_0x1fb723);}catch(_0xf1216b){_0x41d2d2[_0x2e4abd(0x370)](0x1f4)[_0x2e4abd(0x6f6)](_0xf1216b[_0x2e4abd(0x418)]);}})['use']('/instance',new Ct(b,...le)['router'])[a0_0x4fa287(0x81b)](a0_0x4fa287(0x47d),new xt(...le)[a0_0x4fa287(0x4dd)])[a0_0x4fa287(0x81b)](a0_0x4fa287(0x70d),new pt(...le)[a0_0x4fa287(0x4dd)])[a0_0x4fa287(0x81b)](a0_0x4fa287(0x274),new Mt(...le)['router'])[a0_0x4fa287(0x81b)]('/webhook',new Pt(...le)[a0_0x4fa287(0x4dd)])[a0_0x4fa287(0x81b)](a0_0x4fa287(0x78b),new kt(...le)[a0_0x4fa287(0x4dd)]);var m=class{constructor(..._0x489ff3){const _0x2a9114=a0_0x4fa287;throw{'status':0x190,'error':_0x2a9114(0x2c7),'message':_0x489ff3[_0x2a9114(0x875)]>0x0?_0x489ff3:void 0x0};}},ce=class{constructor(..._0x38215b){throw{'status':0x191,'error':'Unauthorized','message':_0x38215b['length']>0x0?_0x38215b:void 0x0};}},se=class{constructor(..._0x52e159){const _0x5f28b0=a0_0x4fa287;throw{'status':0x193,'error':_0x5f28b0(0x478),'message':_0x52e159['length']>0x0?_0x52e159:void 0x0};}},J=class{constructor(..._0x36977e){const _0x4156b4=a0_0x4fa287;throw{'status':0x194,'error':'Not\x20Found','message':_0x36977e[_0x4156b4(0x875)]>0x0?_0x36977e:void 0x0};}},x=class{constructor(..._0x4fe160){throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x4fe160['length']>0x0?_0x4fe160:void 0x0};}},ye=require(a0_0x4fa287(0x59a));async function _s(_0x320d29){const _0x5b5fb9=a0_0x4fa287;let _0x6d270=new $(_s['name']),_0x68acc6=R['getClient'](),_0x24389b=_0x68acc6['db'](b['get'](_0x5b5fb9(0x614))[_0x5b5fb9(0x632)][_0x5b5fb9(0x89e)]+_0x5b5fb9(0x68c))[_0x5b5fb9(0x516)](_0x320d29),_0x4ce063=async(_0x2ad277,_0x2a4fb8)=>{const _0x4e833e=_0x5b5fb9;try{return await _0x68acc6[_0x4e833e(0x212)](),await _0x24389b[_0x4e833e(0x3d1)]({'_id':_0x2a4fb8},JSON[_0x4e833e(0x724)](JSON['stringify'](_0x2ad277,ye[_0x4e833e(0x643)][_0x4e833e(0x46d)])),{'upsert':!0x0});}catch{}},_0x29e650=async _0x4e798b=>{const _0x2965ae=_0x5b5fb9;try{await _0x68acc6['connect']();let _0x322df5=await _0x24389b[_0x2965ae(0x6bc)]({'_id':_0x4e798b}),_0x444c59=JSON[_0x2965ae(0x2b0)](_0x322df5);return JSON[_0x2965ae(0x724)](_0x444c59,ye[_0x2965ae(0x643)][_0x2965ae(0x661)]);}catch{}},_0x3aa67b=async _0x122cce=>{const _0x15dbd8=_0x5b5fb9;try{return await _0x68acc6['connect'](),await _0x24389b[_0x15dbd8(0x6ad)]({'_id':_0x122cce});}catch{}},_0x27fa7d=await _0x29e650(_0x5b5fb9(0x76c))||(0x0,ye[_0x5b5fb9(0x38b)])();return{'state':{'creds':_0x27fa7d,'keys':{'get':async(_0x9085e8,_0x4913a6)=>{const _0x274e58=_0x5b5fb9;let _0x241303={};return await Promise[_0x274e58(0x3d7)](_0x4913a6[_0x274e58(0x465)](async _0x48e61c=>{const _0x24b3d3=_0x274e58;let _0x2ddcd8=await _0x29e650(_0x9085e8+'-'+_0x48e61c);_0x9085e8==='app-state-sync-key'&&_0x2ddcd8&&(_0x2ddcd8=ye[_0x24b3d3(0x369)][_0x24b3d3(0x6c1)][_0x24b3d3(0x279)][_0x24b3d3(0x4fd)](_0x2ddcd8)),_0x241303[_0x48e61c]=_0x2ddcd8;})),_0x241303;},'set':async _0x5d3afd=>{const _0x5e0ccd=_0x5b5fb9;let _0x316b0a=[];for(let _0x54f06f in _0x5d3afd)for(let _0x4fbe2c in _0x5d3afd[_0x54f06f]){let _0x3a1146=_0x5d3afd[_0x54f06f][_0x4fbe2c],_0x2071b1=_0x54f06f+'-'+_0x4fbe2c;_0x316b0a[_0x5e0ccd(0x2fc)](_0x3a1146?_0x4ce063(_0x3a1146,_0x2071b1):_0x3aa67b(_0x2071b1));}await Promise[_0x5e0ccd(0x3d7)](_0x316b0a);}}},'saveCreds':async()=>_0x4ce063(_0x27fa7d,_0x5b5fb9(0x76c))};}var Ls=A(require(a0_0x4fa287(0x495))),Fs=A(require(a0_0x4fa287(0x75b))),jt=require(a0_0x4fa287(0x59a)),$i=require(a0_0x4fa287(0x42b)),Ut=require('@whiskeysockets/baileys'),Ft;function Po(_0x354ab4){const _0xb72f6a=a0_0x4fa287;return Ft||(Ft=(0x0,$i['createClient'])({'url':_0x354ab4[_0xb72f6a(0x2d4)]}),Ft[_0xb72f6a(0x212)]()),Ft;}var ge=class u{constructor(_0x261e43,_0x353a26){const _0x200cf3=a0_0x4fa287;this[_0x200cf3(0x8ee)]=_0x261e43,this['instanceName']=_0x353a26,this[_0x200cf3(0x45d)]=new $(u[_0x200cf3(0x378)]),this['client']=Po(_0x261e43);}set['reference'](_0x1f083c){const _0x1523c1=a0_0x4fa287;this[_0x1523c1(0x86e)]=_0x1f083c;}async[a0_0x4fa287(0x1cf)](){const _0x39875a=a0_0x4fa287;try{return await this[_0x39875a(0x399)][_0x39875a(0x6a0)]([_0x39875a(0x647),this['redisEnv'][_0x39875a(0x5a1)]+':*']);}catch(_0x1697b3){this[_0x39875a(0x45d)][_0x39875a(0x91c)](_0x1697b3);}}async[a0_0x4fa287(0x7df)](_0xafc892,_0x3400b5){const _0x508275=a0_0x4fa287;try{let _0x5c900f=JSON['stringify'](_0x3400b5,Ut[_0x508275(0x643)][_0x508275(0x46d)]);return await this[_0x508275(0x399)][_0x508275(0x85a)](this[_0x508275(0x8ee)][_0x508275(0x5a1)]+':'+this[_0x508275(0x86e)],_0xafc892,_0x5c900f);}catch(_0x3dbaa3){this[_0x508275(0x45d)]['error'](_0x3dbaa3);}}async[a0_0x4fa287(0x870)](){const _0x381124=a0_0x4fa287;try{let _0xc15034=await this['client'][_0x381124(0x762)](this[_0x381124(0x8ee)][_0x381124(0x5a1)]+':'+this[_0x381124(0x86e)]);if(_0xc15034){for(let _0x249971 in _0xc15034)Object[_0x381124(0x31a)][_0x381124(0x756)][_0x381124(0x64a)](_0xc15034,_0x249971)&&(_0xc15034[_0x249971]=JSON[_0x381124(0x724)](_0xc15034[_0x249971],Ut[_0x381124(0x643)][_0x381124(0x661)]));return _0xc15034;}}catch(_0x30793d){this['logger'][_0x381124(0x91c)](_0x30793d);}}async[a0_0x4fa287(0x786)](_0x862879){const _0x4ae348=a0_0x4fa287;try{let _0x34cc50=await this[_0x4ae348(0x399)][_0x4ae348(0x281)](this[_0x4ae348(0x8ee)][_0x4ae348(0x5a1)]+':'+this['instanceName'],_0x862879);if(_0x34cc50)return JSON['parse'](_0x34cc50,Ut[_0x4ae348(0x643)]['reviver']);}catch(_0x49b177){this[_0x4ae348(0x45d)][_0x4ae348(0x91c)](_0x49b177);}}async['removeData'](_0x3b3d94){const _0xa335d4=a0_0x4fa287;try{return await this['client'][_0xa335d4(0x307)](this['redisEnv'][_0xa335d4(0x5a1)]+':'+this[_0xa335d4(0x86e)],_0x3b3d94);}catch(_0x331c6f){this[_0xa335d4(0x45d)][_0xa335d4(0x91c)](_0x331c6f);}}async[a0_0x4fa287(0x32f)](_0x2abe10){const _0x1bd89d=a0_0x4fa287;try{return await this[_0x1bd89d(0x399)][_0x1bd89d(0x5ad)](_0x2abe10||this['redisEnv'][_0x1bd89d(0x5a1)]+':'+this[_0x1bd89d(0x86e)]);}catch(_0x8ca403){this[_0x1bd89d(0x45d)][_0x1bd89d(0x91c)](_0x8ca403);}}};async function xs(_0x4e1c83,_0x97048c){const _0x63cbfe=a0_0x4fa287;let _0x528030=new $(xs['name']),_0x1c385d=new ge(_0x4e1c83,_0x97048c),_0x42a37f=async(_0x340113,_0x3473f0)=>{const _0x31cb6b=a0_0x5643;try{return await _0x1c385d[_0x31cb6b(0x7df)](_0x3473f0,_0x340113);}catch(_0xa8b314){return _0x528030[_0x31cb6b(0x91c)]({'localError':_0x31cb6b(0x7df),'error':_0xa8b314});}},_0x5e86ac=async _0x2a7dab=>{const _0x396475=a0_0x5643;try{return await _0x1c385d[_0x396475(0x786)](_0x2a7dab);}catch(_0x30e31a){_0x528030[_0x396475(0x91c)]({'readData':'writeData','error':_0x30e31a});return;}},_0x5830a4=async _0x10677e=>{const _0x4781f=a0_0x5643;try{return await _0x1c385d[_0x4781f(0x41b)](_0x10677e);}catch(_0x28b968){_0x528030[_0x4781f(0x91c)]({'readData':_0x4781f(0x41b),'error':_0x28b968});}},_0x3cabf8=await _0x5e86ac(_0x63cbfe(0x76c))||(0x0,jt[_0x63cbfe(0x38b)])();return{'state':{'creds':_0x3cabf8,'keys':{'get':async(_0xa3ec7b,_0x40ebea)=>{const _0x185247=_0x63cbfe;let _0x5ea741={};return await Promise[_0x185247(0x3d7)](_0x40ebea[_0x185247(0x465)](async _0x9d336b=>{const _0x598ca5=_0x185247;let _0x138fa1=await _0x5e86ac(_0xa3ec7b+'-'+_0x9d336b);_0xa3ec7b===_0x598ca5(0x29c)&&_0x138fa1&&(_0x138fa1=jt[_0x598ca5(0x369)][_0x598ca5(0x6c1)][_0x598ca5(0x279)][_0x598ca5(0x4fd)](_0x138fa1)),_0x5ea741[_0x9d336b]=_0x138fa1;})),_0x5ea741;},'set':async _0xe22b2c=>{const _0x237f89=_0x63cbfe;let _0x2e744e=[];for(let _0x13e3d2 in _0xe22b2c)for(let _0x5b7a7d in _0xe22b2c[_0x13e3d2]){let _0xb6638c=_0xe22b2c[_0x13e3d2][_0x5b7a7d],_0x32bf3a=_0x13e3d2+'-'+_0x5b7a7d;_0x2e744e['push'](_0xb6638c?await _0x42a37f(_0xb6638c,_0x32bf3a):await _0x5830a4(_0x32bf3a));}await Promise[_0x237f89(0x3d7)](_0x2e744e);}}},'saveCreds':async()=>await _0x42a37f(_0x3cabf8,_0x63cbfe(0x76c))};}var F=A(require('fs')),X=require(a0_0x4fa287(0x611)),Gt=A(require(a0_0x4fa287(0x642))),Re=require('crypto'),Ri=require(a0_0x4fa287(0x633)),Ai=require(a0_0x4fa287(0x22d)),Ii=A(require(a0_0x4fa287(0x6a2))),$e=class extends _{constructor(_0x29d14c,_0xbf457e,_0x3ed7c8){const _0x52f3f9=a0_0x4fa287;super(_0xbf457e),this[_0x52f3f9(0x299)]=_0x29d14c,this['configService']=_0xbf457e,this[_0x52f3f9(0x5a9)]=_0x3ed7c8;}async[a0_0x4fa287(0x613)](_0x50950c,_0x3179d0){const _0x35f415=a0_0x4fa287;try{if(this[_0x35f415(0x7b3)][_0x35f415(0x729)]){console[_0x35f415(0x848)](_0x35f415(0x24f)+_0x3179d0+_0x35f415(0x57b),_0x50950c);let _0x5dc277=await this[_0x35f415(0x299)][_0x35f415(0x345)]({'_id':_0x3179d0},{'$set':_0x50950c},{'new':!0x0,'upsert':!0x0});return console['log'](_0x35f415(0x2d0),_0x5dc277),_0x5dc277;}}catch(_0x3926b3){throw console[_0x35f415(0x91c)](_0x35f415(0x58c),_0x3926b3),_0x3926b3;}return null;}async[a0_0x4fa287(0x6ad)](_0x16acb6){const _0x158578=a0_0x4fa287;try{let _0x3c6c96=I(_0x16acb6[_0x158578(0x79c)]);return{'deletedCount':(await this[_0x158578(0x299)]['deleteOne'](_0x3c6c96))[_0x158578(0x8b6)]};}catch(_0x3d8e14){return{'error':_0x3d8e14?.['toString']()};}}async[a0_0x4fa287(0x6bc)](_0x6e6491){const _0x26d6e6=a0_0x4fa287;try{let _0x36b4b0=I(_0x6e6491[_0x26d6e6(0x79c)]);return await this[_0x26d6e6(0x299)][_0x26d6e6(0x6bc)](_0x36b4b0)[_0x26d6e6(0x7de)]();}catch{return null;}}},Jt=(0x0,Ai[a0_0x4fa287(0x2ba)])(Ri[a0_0x4fa287(0x323)]),ko=b[a0_0x4fa287(0x37b)](a0_0x4fa287(0x672)),Ds=class{constructor(){const _0x1e775d=a0_0x4fa287;this['cacheInstanceRepository']=new $e(Ke,b),(!this[_0x1e775d(0x769)]||!this[_0x1e775d(0x6c7)])&&ko&&this['detectIPv6PrefixAndInterface']()[_0x1e775d(0x1e9)](()=>{const _0x2ffd70=_0x1e775d;console[_0x2ffd70(0x848)](_0x2ffd70(0x444)+this['ipv6Prefix']),console['log'](_0x2ffd70(0x6ee)+this['networkInterface']);})['catch'](_0x5fe8fc=>{const _0x149b8e=_0x1e775d;console['error'](_0x149b8e(0x330)+_0x5fe8fc[_0x149b8e(0x418)]);});}async[a0_0x4fa287(0x6a8)](){const _0x5c2348=a0_0x4fa287;try{let {stdout:_0x155665}=await Jt(_0x5c2348(0x71e));console[_0x5c2348(0x848)](_0x5c2348(0x496)+_0x155665);let _0x491e4a=_0x155665[_0x5c2348(0x916)]('\x0a')['map'](_0x1848ec=>_0x1848ec['split']('\x20')[0x0])[_0x5c2348(0x314)](_0x4f5236=>!_0x4f5236['includes']('lo')&&!_0x4f5236[_0x5c2348(0x7f1)](_0x5c2348(0x646))&&!_0x4f5236[_0x5c2348(0x7f1)](_0x5c2348(0x790))&&!_0x4f5236['includes']('wl')&&!_0x4f5236[_0x5c2348(0x7f1)]('@'));if(console[_0x5c2348(0x848)](_0x5c2348(0x850)+_0x491e4a),_0x491e4a['length']===0x0)throw new Error(_0x5c2348(0x5f6));this[_0x5c2348(0x6c7)]=_0x491e4a[0x0];let {stdout:_0xd7aded}=await Jt(_0x5c2348(0x5c5)+this['networkInterface']);console[_0x5c2348(0x848)](_0x5c2348(0x8ba)+_0xd7aded);let _0x493c1b=_0xd7aded['split']('\x0a')[_0x5c2348(0x896)](_0x2188c7=>_0x2188c7[_0x5c2348(0x7f1)](_0x5c2348(0x7a7))&&_0x2188c7[_0x5c2348(0x7f1)](_0x5c2348(0x3ee)));if(!_0x493c1b)throw new Error('No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface');let _0x5a42d9=_0x493c1b[_0x5c2348(0x665)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x5a42d9)throw new Error(_0x5c2348(0x41d));let [_0x585f4c,_0x2913f2,_0x3531f5]=_0x5a42d9,_0x266a6e=Math[_0x5c2348(0x768)](Number(_0x3531f5)/0x10),_0x1f24c3=Number(_0x3531f5)%0x10,_0xe6bca4=_0x2913f2[_0x5c2348(0x916)](':')['slice'](0x0,_0x266a6e)[_0x5c2348(0x82f)](':');if(_0x1f24c3>0x0){let _0x4824c2=_0x2913f2[_0x5c2348(0x916)](':')[_0x266a6e],_0x265902=0xffff<<0x10-_0x1f24c3&0xffff,_0x4bf539=(parseInt(_0x4824c2,0x10)&_0x265902)[_0x5c2348(0x644)](0x10)[_0x5c2348(0x882)](0x4,'0');_0xe6bca4+=':'+_0x4bf539;}this[_0x5c2348(0x769)]=_0xe6bca4+':';}catch(_0x32196d){console[_0x5c2348(0x91c)](_0x5c2348(0x917),_0x32196d);}}async[a0_0x4fa287(0x752)](_0x317757){const _0x56d570=a0_0x4fa287;let _0x457d1b='ip\x20-6\x20addr\x20add\x20'+_0x317757+_0x56d570(0x87b)+this[_0x56d570(0x6c7)];try{await Jt(_0x457d1b),console['log'](_0x56d570(0x8f9)+_0x317757);}catch(_0x364399){console[_0x56d570(0x91c)](_0x56d570(0x332)+_0x364399);}}async[a0_0x4fa287(0x218)](_0x426588){const _0x631e01=a0_0x4fa287;let _0x4d5069=_0x631e01(0x8c5)+_0x426588+_0x631e01(0x87b)+this[_0x631e01(0x6c7)];try{await Jt(_0x4d5069),console[_0x631e01(0x848)]('IPv6\x20address\x20removed:\x20'+_0x426588);}catch(_0x1110a4){console[_0x631e01(0x91c)](_0x631e01(0x6a3)+_0x1110a4);}}[a0_0x4fa287(0x6af)](){const _0x57a881=a0_0x4fa287;return _0x57a881(0x6ed)['replace'](/X/g,()=>'0123456789ABCDEF'[_0x57a881(0x568)](Math['floor'](Math[_0x57a881(0x904)]()*0x10)));}['ip6eui'](_0x3c15f4,_0x28d7e4){const _0x4e754a=a0_0x4fa287;let _0x2c7b44=_0x28d7e4[_0x4e754a(0x916)](':');return _0x2c7b44[0x0]=(parseInt(_0x2c7b44[0x0],0x10)^0x2)[_0x4e754a(0x644)](0x10)['padStart'](0x2,'0'),''+_0x3c15f4+_0x2c7b44[0x0]+_0x2c7b44[0x1]+':'+_0x2c7b44[0x2]+_0x4e754a(0x435)+_0x2c7b44[0x3]+':'+_0x2c7b44[0x4]+_0x2c7b44[0x5];}[a0_0x4fa287(0x1f5)](){const _0x46e000=a0_0x4fa287;let _0xe8298c=this[_0x46e000(0x769)];_0xe8298c[_0x46e000(0x8a5)](':')||(_0xe8298c+=':');let _0x489fb3=this[_0x46e000(0x6af)]();return this[_0x46e000(0x8cc)](_0xe8298c,_0x489fb3);}[a0_0x4fa287(0x480)](_0x567fe4){const _0x121124=a0_0x4fa287;return new RegExp(_0x121124(0x6a5))[_0x121124(0x5ba)](_0x567fe4);}async['testIPv6'](_0x582124){const _0x3ced13=a0_0x4fa287;let _0x4f9650=[{'url':_0x3ced13(0x3dc),'parse':_0x18d6d7=>_0x18d6d7['ip']},{'url':_0x3ced13(0x6d8),'parse':_0x50ad14=>_0x50ad14['ip']},{'url':_0x3ced13(0x430),'parse':_0x3f37ee=>_0x3f37ee[_0x3ced13(0x602)]()},{'url':_0x3ced13(0x2c1),'parse':_0x44c9c1=>_0x44c9c1[_0x3ced13(0x602)]()}],_0x216ccf=_0x4f9650[Math[_0x3ced13(0x768)](Math[_0x3ced13(0x904)]()*_0x4f9650[_0x3ced13(0x875)])];try{let _0x20459e=await Ii['default'][_0x3ced13(0x37b)](_0x216ccf[_0x3ced13(0x7c5)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x582124}}),_0xa98061=_0x216ccf[_0x3ced13(0x724)](_0x20459e[_0x3ced13(0x5ee)]);return _0xa98061[_0x3ced13(0x250)]()===_0x582124[_0x3ced13(0x250)]()?(console[_0x3ced13(0x848)]('IP\x20confirmed:\x20'+_0x582124),!0x0):(console[_0x3ced13(0x91c)](_0x3ced13(0x4e1)+_0x582124+',\x20received\x20'+_0xa98061),!0x1);}catch(_0x479c08){return console[_0x3ced13(0x91c)]('Error\x20testing\x20IP\x20with\x20'+_0x216ccf[_0x3ced13(0x7c5)]+':\x20'+_0x479c08[_0x3ced13(0x418)]),!0x1;}}async[a0_0x4fa287(0x4f4)](_0x5f2e0a,_0x2a5b34){const _0x582856=a0_0x4fa287;if(!this[_0x582856(0x769)]||!this[_0x582856(0x6c7)])return console['error'](_0x582856(0x683)),null;let _0x25dfdf;do _0x25dfdf=this[_0x582856(0x1f5)](),console[_0x582856(0x848)]('Generated\x20IPv6:\x20'+_0x25dfdf);while(!await this[_0x582856(0x45e)](_0x25dfdf));await this[_0x582856(0x752)](_0x25dfdf),console[_0x582856(0x848)]('Configured\x20IPv6:\x20'+_0x25dfdf);let _0x2cdf55={'_id':_0x5f2e0a+'-'+_0x2a5b34,'ip':_0x25dfdf},_0x4afa8b=await this[_0x582856(0x821)]['createOrUpdate'](_0x2cdf55,_0x2cdf55[_0x582856(0x817)]);return console[_0x582856(0x848)](_0x582856(0x701)+_0x4afa8b),_0x25dfdf;}async[a0_0x4fa287(0x45e)](_0x4e89a6){const _0x25083b=a0_0x4fa287;return this[_0x25083b(0x480)](_0x4e89a6)?!await this[_0x25083b(0x821)][_0x25083b(0x6bc)]({'where':{'ip':_0x4e89a6}}):!0x1;}async[a0_0x4fa287(0x74b)](_0x57e82c,_0x4b71be){const _0x371e09=a0_0x4fa287;let _0x31f9f9=_0x57e82c+'-'+_0x4b71be,_0x5cfeda=await this['cacheInstanceRepository']['findOne']({'where':{'_id':_0x31f9f9}});_0x5cfeda&&_0x5cfeda['ip']&&(await this['removeIPv6'](_0x5cfeda['ip']),await this[_0x371e09(0x821)][_0x371e09(0x6ad)]({'where':{'_id':_0x31f9f9}}));}},Lo=new Ds(),re=Lo,Us=a0_0x4fa287(0x4f5),ki,me=null,Pa=null,Fo=0x3,Uo=null,Ti=b[a0_0x4fa287(0x37b)](a0_0x4fa287(0x736))['API_KEY'][a0_0x4fa287(0x89b)],Oi=b[a0_0x4fa287(0x37b)](a0_0x4fa287(0x672));async function jo(){const _0x5a7f73=a0_0x4fa287;let _0x1b7e6c=await Ne['findOne']();me=_0x1b7e6c?.[_0x5a7f73(0x1df)]??null,Uo=_0x1b7e6c?.[_0x5a7f73(0x886)]??null,Us=_0x1b7e6c?.[_0x5a7f73(0x404)]??'Safari',ki=_0x1b7e6c?.[_0x5a7f73(0x90a)]??K??_0x5a7f73(0x78e);}async function Jo(){await jo();}Jo();var qt={},Ae=class u{constructor(_0x45827f,_0x16205e,_0x5f49b7){const _0x2f4535=a0_0x4fa287;this['configService']=_0x45827f,this[_0x2f4535(0x5e3)]=_0x16205e,this[_0x2f4535(0x830)]=_0x5f49b7,this[_0x2f4535(0x1d4)]=null,this[_0x2f4535(0x45d)]=new $(u['name']),this[_0x2f4535(0x60f)]={},this['localWebhook']={},this[_0x2f4535(0x2f3)]={'state':_0x2f4535(0x23f)},this[_0x2f4535(0x396)]=(0x0,j[_0x2f4535(0x82f)])(ue,_0x2f4535(0x1eb)),this[_0x2f4535(0x833)]=new Fs[(_0x2f4535(0x796))](),this[_0x2f4535(0x498)]=new Fs[(_0x2f4535(0x796))](),this[_0x2f4535(0x597)]=!0x1,this[_0x2f4535(0x312)]={'status.instance':'/wa-connection-update','connection.update':_0x2f4535(0x8ab),'qrcode.updated':_0x2f4535(0x539),'messages.upsert':'/wa-message','send.message':'/wa-message','messages.update':_0x2f4535(0x36d),'group.upsert':_0x2f4535(0x217),'group.update':_0x2f4535(0x217),'group-participants.update':_0x2f4535(0x217),'messages.set':_0x2f4535(0x74e),'contacts.set':'/wa-contacts','contacts.upsert':_0x2f4535(0x5d9),'contacts.update':_0x2f4535(0x5d9),'presence.update':'/wa-presence','chats.set':'/wa-chats','chats.update':_0x2f4535(0x409),'chats.upsert':'/wa-chats','chats.delete':_0x2f4535(0x409)},this[_0x2f4535(0x2e6)]=0x0,this[_0x2f4535(0x868)]=[],this[_0x2f4535(0x648)]=0xea60,this[_0x2f4535(0x397)]=!0x1,this['chatHandle']={'chats.upsert':async(_0x9e61ad,_0x4b96c0)=>{const _0x3dec9f=_0x2f4535;let _0x88ed22=[];for await(let _0x1bd943 of _0x9e61ad)_0x88ed22[_0x3dec9f(0x2fc)]({'_id':_0x1bd943['id'],'owner':this['instance'][_0x3dec9f(0x586)],'group':_0x1bd943['id'][_0x3dec9f(0x8a5)](_0x3dec9f(0x3c2)),'name':_0x1bd943[_0x3dec9f(0x378)]||_0x1bd943[_0x3dec9f(0x3d2)]||null,'contactname':null,'lastmsg':_0x1bd943[_0x3dec9f(0x2e9)]&&_0x1bd943['conversationTimestamp'][_0x3dec9f(0x644)]()[_0x3dec9f(0x875)]<0xd?_0x1bd943[_0x3dec9f(0x2e9)]*0x3e8:_0x1bd943[_0x3dec9f(0x2e9)]||null,'archived':_0x1bd943['archived']||!0x1,'unreadcount':_0x1bd943[_0x3dec9f(0x205)]||0x0,'ephemeralExpiration':_0x1bd943[_0x3dec9f(0x615)]||0x0});this[_0x3dec9f(0x413)](_0x3dec9f(0x81e),_0x88ed22);},'chats.update':async(_0x557f39,_0x1d0965)=>{const _0x17d94c=_0x2f4535;for(let _0x1787fd of _0x557f39){let _0x2d36ac={'_id':_0x1787fd['id'],'owner':this[_0x17d94c(0x60f)][_0x17d94c(0x586)],'archived':_0x1787fd['archived'],'muteEndTime':_0x1787fd['muteEndTime'],'ephemeralExpiration':_0x1787fd['ephemeralExpiration']},_0x477ea1=!0x1,_0x4fb947={};_0x2d36ac[_0x17d94c(0x6cc)]!=null&&(this[_0x17d94c(0x45d)][_0x17d94c(0x6b6)](this['instanceName']+'\x20('+this[_0x17d94c(0x60f)][_0x17d94c(0x586)]+_0x17d94c(0x659)+_0x1787fd['id']+_0x17d94c(0x325)+_0x1787fd[_0x17d94c(0x6cc)]),_0x477ea1=!0x0,_0x4fb947[_0x17d94c(0x6cc)]=_0x1787fd[_0x17d94c(0x6cc)]),_0x17d94c(0x8b9)in _0x1787fd&&(this[_0x17d94c(0x45d)][_0x17d94c(0x6b6)](this[_0x17d94c(0x86e)]+'\x20('+this['instance'][_0x17d94c(0x586)]+_0x17d94c(0x77e)+_0x1787fd['id']+_0x17d94c(0x325)+(_0x1787fd[_0x17d94c(0x8b9)]??'0')),_0x477ea1=!0x0,_0x4fb947[_0x17d94c(0x8b9)]=_0x1787fd[_0x17d94c(0x8b9)]??0x0),_0x17d94c(0x615)in _0x1787fd&&(this[_0x17d94c(0x45d)]['verbose'](this['instanceName']+'\x20('+this[_0x17d94c(0x60f)]['wuid']+'):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20'+_0x1787fd['id']+'\x20:\x20'+(_0x1787fd[_0x17d94c(0x615)]!==void 0x0?_0x1787fd[_0x17d94c(0x615)]:'undefined')),_0x4fb947[_0x17d94c(0x615)]=_0x1787fd[_0x17d94c(0x615)]===null?0x0:_0x1787fd[_0x17d94c(0x615)],_0x477ea1=!0x0);let _0x1c4715;_0x477ea1&&(_0x1c4715=await this[_0x17d94c(0x830)][_0x17d94c(0x2ef)][_0x17d94c(0x3b3)]({'where':{'_id':_0x1787fd['id']}},_0x4fb947,this['instance'][_0x17d94c(0x586)])),_0x1c4715&&q(this[_0x17d94c(0x86e)],'chats',{'chat':_0x1c4715});}},'chats.delete':async _0x56fd40=>{const _0x37eac1=_0x2f4535;for(let _0x15bccd of _0x56fd40)if(_0x15bccd[_0x37eac1(0x8a5)](_0x37eac1(0x3c2))){await this[_0x37eac1(0x830)][_0x37eac1(0x2ef)][_0x37eac1(0x909)]({'where':{'_id':_0x15bccd}},this[_0x37eac1(0x60f)]['wuid']);let _0x16a6df={'where':{'key':{'remoteJid':_0x15bccd}}};await this[_0x37eac1(0x830)][_0x37eac1(0x418)]['delete'](_0x16a6df,this[_0x37eac1(0x60f)][_0x37eac1(0x586)]);}else{await this[_0x37eac1(0x830)][_0x37eac1(0x2ef)][_0x37eac1(0x3b3)]({'where':{'_id':_0x15bccd}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x37eac1(0x60f)][_0x37eac1(0x586)]);let _0x47349a={'where':{'key':{'remoteJid':_0x15bccd}}};await this[_0x37eac1(0x830)]['message'][_0x37eac1(0x909)](_0x47349a,this[_0x37eac1(0x60f)][_0x37eac1(0x586)]);}this[_0x37eac1(0x413)](_0x37eac1(0x7ae),[..._0x56fd40]);}},this[_0x2f4535(0x3e6)]={'contacts.upsert':async(_0x146ea2,_0x18c73b)=>{const _0x5250a7=_0x2f4535;let _0x2acaae=await this[_0x5250a7(0x830)][_0x5250a7(0x5c0)]['find']({'where':{}},this[_0x5250a7(0x60f)][_0x5250a7(0x586)]),_0x506cd2=[];for await(let _0x419735 of _0x146ea2)_0x2acaae[_0x5250a7(0x896)](_0x5d1780=>_0x5d1780[_0x5250a7(0x817)]===_0x419735['id'])||_0x506cd2['push']({'_id':_0x419735['id'],'pushName':_0x419735?.['name']||_0x419735?.['verifiedName'],'owner':this[_0x5250a7(0x60f)][_0x5250a7(0x586)]});this['sendDataWebhook'](_0x5250a7(0x3a1),_0x506cd2),await this[_0x5250a7(0x830)][_0x5250a7(0x5c0)][_0x5250a7(0x423)](_0x506cd2);},'contacts.update':async(_0x423dae,_0x283d67)=>{const _0x3a36cc=_0x2f4535;let _0x6985e4=[];for await(let _0x2cc496 of _0x423dae)_0x6985e4[_0x3a36cc(0x2fc)]({'_id':_0x2cc496['id'],'pushName':_0x2cc496?.[_0x3a36cc(0x378)]??_0x2cc496?.[_0x3a36cc(0x267)],'owner':this[_0x3a36cc(0x60f)]['wuid']});this[_0x3a36cc(0x413)](_0x3a36cc(0x7a8),_0x6985e4);}},this[_0x2f4535(0x682)]={'messaging-history.set':async({messages:_0x5aba8c,chats:_0x1becff,isLatest:_0x361e03},_0x309d8b)=>{const _0x1eefc4=_0x2f4535;if(_0x361e03){let _0x3e480f=await Promise[_0x1eefc4(0x3d7)](_0x1becff[_0x1eefc4(0x465)](async _0x311673=>({'_id':_0x311673['id'],'owner':this[_0x1eefc4(0x60f)]['wuid'],'group':_0x311673['id']['endsWith']('@g.us'),'name':_0x311673[_0x1eefc4(0x378)]||_0x311673[_0x1eefc4(0x3d2)]||_0x311673[_0x1eefc4(0x53b)]||null,'contactname':null,'lastmsg':_0x311673['conversationTimestamp']&&_0x311673[_0x1eefc4(0x2e9)]['toString']()[_0x1eefc4(0x875)]<0xd?_0x311673[_0x1eefc4(0x2e9)]*0x3e8:_0x311673['conversationTimestamp']||null,'archived':_0x311673[_0x1eefc4(0x6cc)]||!0x1,'unreadcount':_0x311673[_0x1eefc4(0x205)]||0x0,'ephemeralExpiration':_0x311673[_0x1eefc4(0x615)]||0x0,'muteEndTime':_0x311673[_0x1eefc4(0x8b9)]||0x0})));this[_0x1eefc4(0x413)]('chats.set',_0x3e480f),await this['upsertChats'](_0x3e480f,_0x309d8b);}let _0x4bd9be=[],_0x3821c1=Date[_0x1eefc4(0x6b0)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x12a653]of Object[_0x1eefc4(0x5b8)](_0x5aba8c)){if(_0x12a653[_0x1eefc4(0x418)]?.['protocolMessage']||_0x12a653[_0x1eefc4(0x418)]?.[_0x1eefc4(0x7dd)]||!_0x12a653[_0x1eefc4(0x418)]||_0x12a653['key'][_0x1eefc4(0x224)]===_0x1eefc4(0x693)||(Ls[_0x1eefc4(0x796)][_0x1eefc4(0x588)](_0x12a653?.[_0x1eefc4(0x3bf)])&&(_0x12a653[_0x1eefc4(0x3bf)]=_0x12a653[_0x1eefc4(0x3bf)]?.[_0x1eefc4(0x626)]()),_0x12a653[_0x1eefc4(0x3bf)]&&_0x12a653[_0x1eefc4(0x3bf)][_0x1eefc4(0x644)]()['length']<0xd&&(_0x12a653[_0x1eefc4(0x3bf)]=_0x12a653[_0x1eefc4(0x3bf)]*0x3e8),_0x12a653[_0x1eefc4(0x3bf)]<_0x3821c1))continue;let _0x51f804=(0x0,w['normalizeMessageContent'])(_0x12a653['message']),_0x533877=(0x0,w['getContentType'])(_0x51f804),{message_normalized:_0xa778dc}=this[_0x1eefc4(0x8a1)](_0x51f804,_0x533877,null);Object['keys'](_0xa778dc)[_0x1eefc4(0x875)]>0x0&&_0x4bd9be[_0x1eefc4(0x2fc)]({'_id':_0x12a653[_0x1eefc4(0x27b)]['id'],'key':_0x12a653['key'],'pushName':_0x12a653['pushName'],'participant':_0x12a653['participant'],'message':_0x51f804,'messageType':_0x533877,'message_normalized':{'key':_0x12a653[_0x1eefc4(0x27b)],'pushName':_0x12a653[_0x1eefc4(0x8c2)],'messageTimestamp':_0x12a653[_0x1eefc4(0x3bf)],..._0xa778dc},'messageTimestamp':_0x12a653[_0x1eefc4(0x3bf)],'owner':this[_0x1eefc4(0x60f)][_0x1eefc4(0x586)]});}_0x309d8b[_0x1eefc4(0x729)]&&_0x4bd9be[_0x1eefc4(0x875)]>0x0&&(this['logger'][_0x1eefc4(0x6b6)](this[_0x1eefc4(0x86e)]+'\x20('+this[_0x1eefc4(0x60f)][_0x1eefc4(0x586)]+_0x1eefc4(0x8fe)+_0x4bd9be['length']+_0x1eefc4(0x676)+this[_0x1eefc4(0x60f)]['wuid']+_0x1eefc4(0x91a)),await this[_0x1eefc4(0x830)][_0x1eefc4(0x418)][_0x1eefc4(0x423)]([..._0x4bd9be],this[_0x1eefc4(0x60f)][_0x1eefc4(0x586)])),this['sendDataWebhook'](_0x1eefc4(0x25c),[..._0x4bd9be]),_0x5aba8c=void 0x0;},'messages.upsert':async({messages:_0x27af23,type:_0x173e84},_0x420b41)=>{const _0x3b3c47=_0x2f4535;for(let _0x47e4a4 of _0x27af23){if(this[_0x3b3c47(0x7fe)]?.[_0x3b3c47(0x406)]&&_0x47e4a4[_0x3b3c47(0x27b)][_0x3b3c47(0x224)][_0x3b3c47(0x7f1)]('@g.us')){this[_0x3b3c47(0x45d)][_0x3b3c47(0x6b6)](this[_0x3b3c47(0x86e)]+'\x20('+this[_0x3b3c47(0x60f)]['wuid']+_0x3b3c47(0x2f5));return;}if(_0x173e84!==_0x3b3c47(0x47b)||!_0x47e4a4?.[_0x3b3c47(0x418)]||_0x47e4a4['message']?.['protocolMessage']||_0x47e4a4[_0x3b3c47(0x418)][_0x3b3c47(0x7dd)]||_0x47e4a4[_0x3b3c47(0x27b)][_0x3b3c47(0x224)]===_0x3b3c47(0x693))return;let _0x28e96d=null,_0x3a796b=null;if(_0x47e4a4[_0x3b3c47(0x67e)]&&_0x47e4a4[_0x3b3c47(0x67e)][0x0]==='Message\x20absent\x20from\x20node'){console[_0x3b3c47(0x91c)]('[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação'),qt[_0x47e4a4[_0x3b3c47(0x27b)]['id']]=_0x47e4a4,this[_0x3b3c47(0x7ed)](_0x47e4a4,0x0);return;}qt[_0x47e4a4[_0x3b3c47(0x27b)]['id']]&&(console[_0x3b3c47(0x91c)](_0x3b3c47(0x911)),delete qt[_0x47e4a4[_0x3b3c47(0x27b)]['id']]);try{_0x28e96d=await this[_0x3b3c47(0x357)](_0x47e4a4),_0x3a796b=_0x28e96d?_0x28e96d[_0x3b3c47(0x82f)](','):null;}catch(_0x1eb471){this[_0x3b3c47(0x45d)][_0x3b3c47(0x6b6)](this[_0x3b3c47(0x86e)]+'\x20('+this[_0x3b3c47(0x60f)]['wuid']+'):\x20'+(_0x1eb471 instanceof Error?_0x1eb471['message']:JSON[_0x3b3c47(0x2b0)](_0x1eb471,null,0x2))),_0x3a796b='error\x20get\x20vote';}this[_0x3b3c47(0x399)][_0x3b3c47(0x620)]('unavailable'),Ls[_0x3b3c47(0x796)][_0x3b3c47(0x588)](_0x47e4a4['messageTimestamp'])&&(_0x47e4a4[_0x3b3c47(0x3bf)]=_0x47e4a4[_0x3b3c47(0x3bf)]?.[_0x3b3c47(0x626)]()),_0x47e4a4[_0x3b3c47(0x3bf)]&&_0x47e4a4[_0x3b3c47(0x3bf)][_0x3b3c47(0x644)]()[_0x3b3c47(0x875)]<0xd&&(_0x47e4a4[_0x3b3c47(0x3bf)]=_0x47e4a4['messageTimestamp']*0x3e8);let _0x103a15=_0x47e4a4['message'],_0xfb1d1b=(0x0,w[_0x3b3c47(0x5bc)])(_0x103a15),_0xf85bb4=(0x0,w[_0x3b3c47(0x33b)])(_0xfb1d1b),{messageContent:_0x14e641,message_normalized:_0x3791e4}=this[_0x3b3c47(0x8a1)](_0xfb1d1b,_0xf85bb4,_0x3a796b);_0xf85bb4===_0x3b3c47(0x73c)&&_0x14e641?.[_0x3b3c47(0x425)]&&(_0xf85bb4=_0x3b3c47(0x425));let _0x20d305,_0x1430af=_0x47e4a4[_0x3b3c47(0x27b)][_0x3b3c47(0x224)][_0x3b3c47(0x8a5)]('@g.us');if(_0x47e4a4[_0x3b3c47(0x27b)][_0x3b3c47(0x827)])_0x20d305=this['instance']['profilePictureUrl'];else{let _0x390d79=_0x1430af?_0x47e4a4[_0x3b3c47(0x27b)][_0x3b3c47(0x5c6)]:_0x47e4a4[_0x3b3c47(0x27b)]['remoteJid'];_0x20d305=(await this[_0x3b3c47(0x735)](_0x390d79,_0x47e4a4[_0x3b3c47(0x8c2)],!0x1))[_0x3b3c47(0x67f)][_0x3b3c47(0x774)];}let _0x42e398={'_id':_0x47e4a4[_0x3b3c47(0x27b)]['id'],'key':_0x47e4a4['key'],'isGroup':_0x1430af,'profilePictureUrl':_0x20d305,'pushName':_0x47e4a4[_0x3b3c47(0x8c2)],'message':_0xfb1d1b,'messageType':_0xf85bb4,'message_normalized':{'key':_0x47e4a4[_0x3b3c47(0x27b)],'pushName':_0x47e4a4['pushName'],'messageTimestamp':_0x47e4a4[_0x3b3c47(0x3bf)],'source':(0x0,w['getDevice'])(_0x47e4a4['key']['id']),..._0x3791e4},'messageTimestamp':_0x47e4a4[_0x3b3c47(0x3bf)],'owner':this['instance'][_0x3b3c47(0x586)],'source':(0x0,w['getDevice'])(_0x47e4a4[_0x3b3c47(0x27b)]['id']),'expiration':_0x14e641?.[_0x3b3c47(0x33c)]?.[_0x3b3c47(0x69f)]||0x0};_0x14e641||(this[_0x3b3c47(0x45d)][_0x3b3c47(0x91c)]('Mensagem\x20não\x20suportada'),this[_0x3b3c47(0x45d)][_0x3b3c47(0x91c)](_0x42e398)),this[_0x3b3c47(0x45d)][_0x3b3c47(0x848)](this[_0x3b3c47(0x86e)]+'\x20('+this['instance'][_0x3b3c47(0x586)]+_0x3b3c47(0x8fe)+(_0x42e398[_0x3b3c47(0x27b)]?.[_0x3b3c47(0x827)]?_0x3b3c47(0x3ea):'recebido\x20de')+'\x20['+_0x42e398['key']?.[_0x3b3c47(0x224)][_0x3b3c47(0x2a9)](_0x3b3c47(0x37e),'')+_0x3b3c47(0x657)+_0x42e398['messageType']+')'),_0x42e398[_0x3b3c47(0x4e9)]?.[_0x3b3c47(0x236)]&&this[_0x3b3c47(0x45d)][_0x3b3c47(0x848)](_0x47e4a4[_0x3b3c47(0x27b)]['id']+':\x20'+_0x42e398[_0x3b3c47(0x4e9)]?.['text']),await this[_0x3b3c47(0x830)]['message'][_0x3b3c47(0x423)]([_0x42e398],this[_0x3b3c47(0x60f)]['wuid']),this[_0x3b3c47(0x413)](_0x3b3c47(0x351),_0x42e398),q(this[_0x3b3c47(0x86e)],_0x3b3c47(0x84d),{'message':_0x42e398}),_0x47e4a4['key'][_0x3b3c47(0x224)]!==_0x3b3c47(0x693)&&await this[_0x3b3c47(0x857)](_0x420b41,_0x42e398,_0x3b3c47(0x3b5));}},'messages.update':async(_0xfb6712,_0x451f1f)=>{const _0x35ec9e=_0x2f4535;let _0x572b12={0x0:'ERROR',0x1:_0x35ec9e(0x6e9),0x2:_0x35ec9e(0x68a),0x3:_0x35ec9e(0x61c),0x4:_0x35ec9e(0x7fb),0x5:_0x35ec9e(0x7a2)};for await(let {key:_0x4841ff,update:_0x4b2a2c}of _0xfb6712){if(this['localWebhook']?.[_0x35ec9e(0x406)]&&_0x4841ff['remoteJid'][_0x35ec9e(0x7f1)](_0x35ec9e(0x3c2))){this[_0x35ec9e(0x45d)][_0x35ec9e(0x6b6)](this['instanceName']+'\x20('+this[_0x35ec9e(0x60f)][_0x35ec9e(0x586)]+_0x35ec9e(0x1db));return;}if(_0x4841ff[_0x35ec9e(0x224)]!==_0x35ec9e(0x693)){let _0x371a7e=Date[_0x35ec9e(0x6b0)](),_0x1d4896;_0x4b2a2c['message']===null&&_0x4b2a2c['status']===void 0x0?_0x1d4896=_0x35ec9e(0x23c):_0x1d4896=_0x572b12[_0x4b2a2c[_0x35ec9e(0x370)]];let _0x3285bf=_0x4841ff['remoteJid']['replace'](/:\d{1,2}@/g,'@'),_0x19a949={..._0x4841ff,'remoteJid':_0x3285bf,'status':_0x1d4896,'datetime':_0x371a7e,'owner':this['instance'][_0x35ec9e(0x586)]};this[_0x35ec9e(0x413)](_0x35ec9e(0x8a7),_0x19a949),await this[_0x35ec9e(0x852)](_0x4841ff,_0x19a949);}}},'labels.association':async({type:_0x1fb34f,association:_0x202d34})=>{const _0x53442c=_0x2f4535;if(_0x202d34[_0x53442c(0x429)]===_0x53442c(0x7d7)){let _0x50259a,_0x31374f=0x0;for(;!_0x50259a&&_0x31374f<this[_0x53442c(0x3c9)];)_0x50259a=await this['repository'][_0x53442c(0x2ef)][_0x53442c(0x6bc)]({'where':{'_id':_0x202d34[_0x53442c(0x3b8)]}},this[_0x53442c(0x60f)][_0x53442c(0x586)]),_0x50259a||(_0x31374f++,this[_0x53442c(0x45d)]['info'](this[_0x53442c(0x86e)]+'\x20('+this[_0x53442c(0x60f)][_0x53442c(0x586)]+_0x53442c(0x70a)+_0x202d34[_0x53442c(0x3b8)]+_0x53442c(0x7ff)+this[_0x53442c(0x1d1)]+_0x53442c(0x4de)+_0x31374f+'/'+this[_0x53442c(0x3c9)]+')'),await this[_0x53442c(0x555)](this[_0x53442c(0x1d1)]));if(!_0x50259a){this[_0x53442c(0x45d)][_0x53442c(0x91c)](_0x53442c(0x901)+_0x202d34[_0x53442c(0x3b8)]+_0x53442c(0x550)+this['delayChatLabel_MAX_RETRIES']+_0x53442c(0x835));return;}switch(_0x1fb34f){case _0x53442c(0x2ac):console[_0x53442c(0x848)](_0x202d34),await this[_0x53442c(0x830)][_0x53442c(0x2ef)]['updateOne']({'where':{'_id':_0x202d34[_0x53442c(0x3b8)]}},{'leadInfo.etiquetas':_0x202d34['labelId']},this[_0x53442c(0x60f)]['wuid'],void 0x0,'$addToSet');break;case _0x53442c(0x57a):console[_0x53442c(0x848)](_0x202d34),await this[_0x53442c(0x830)][_0x53442c(0x2ef)][_0x53442c(0x3b3)]({'where':{'_id':_0x202d34['chatId']}},{'leadInfo.etiquetas':_0x202d34['labelId']},this[_0x53442c(0x60f)][_0x53442c(0x586)],void 0x0,_0x53442c(0x4b9));break;default:this[_0x53442c(0x45d)]['error']('unknown\x20operation\x20type\x20['+_0x1fb34f+']');}}},'labels.edit':async _0x307c29=>{const _0x149667=_0x2f4535;if(!_0x307c29||!_0x307c29['id']){this['logger'][_0x149667(0x91c)](_0x149667(0x521));return;}if(!_0x307c29[_0x149667(0x7bd)]){let _0x1bb101=[_0x149667(0x6a6),_0x149667(0x5bb),_0x149667(0x353),_0x149667(0x556),'#9ab6c1',_0x149667(0x37f),_0x149667(0x8df),_0x149667(0x470),'#6f7bcf',_0x149667(0x78f),_0x149667(0x3ca),_0x149667(0x6c2),_0x149667(0x8f7),_0x149667(0x8bc),_0x149667(0x1c8),_0x149667(0x88b),_0x149667(0x207),_0x149667(0x32d),'#9ba6ff',_0x149667(0x288)],_0x90786e;typeof _0x307c29['color']==_0x149667(0x3c7)&&_0x307c29['color']>=0x0&&_0x307c29['color']<_0x1bb101['length']?_0x90786e=_0x1bb101[_0x307c29[_0x149667(0x245)]]:(this[_0x149667(0x45d)]['error'](_0x149667(0x68f)+_0x307c29[_0x149667(0x245)]),_0x90786e=_0x149667(0x52f));let _0x5d65f8={'_id':_0x307c29['id'],'colorHex':_0x90786e,'color':_0x307c29?.[_0x149667(0x245)],'name':_0x307c29?.[_0x149667(0x378)],'owner':this[_0x149667(0x60f)][_0x149667(0x586)]};await this[_0x149667(0x830)]['label'][_0x149667(0x3b3)]({'where':{'_id':_0x307c29['id']}},_0x5d65f8,this['instance'][_0x149667(0x586)]),this['logger'][_0x149667(0x558)](this[_0x149667(0x86e)]+'\x20('+this[_0x149667(0x60f)][_0x149667(0x586)]+_0x149667(0x2fa)+_0x307c29);}_0x307c29[_0x149667(0x7bd)]&&(await this['repository']['label']['delete']({'where':{'_id':_0x307c29['id']}},this[_0x149667(0x60f)][_0x149667(0x586)]),this[_0x149667(0x45d)][_0x149667(0x558)](_0x149667(0x23d)+_0x307c29['id']));}},this[_0x2f4535(0x5ae)]={'groups.upsert':async _0x313b4f=>{const _0x1957c5=_0x2f4535;this[_0x1957c5(0x7fe)]?.['groups_ignore']||this[_0x1957c5(0x413)](_0x1957c5(0x913),_0x313b4f);for(let _0x2bc6a1 of _0x313b4f)await this[_0x1957c5(0x84f)](_0x2bc6a1);},'groups.update':async _0x2857fe=>{const _0x382c48=_0x2f4535;this[_0x382c48(0x7fe)]?.['groups_ignore']||this['sendDataWebhook'](_0x382c48(0x1f7),_0x2857fe);for(let _0xe63440 of _0x2857fe)await this['updateGroupWebhook'](_0xe63440);},'group-participants.update':async _0xc27226=>{const _0x22a4a8=_0x2f4535;this[_0x22a4a8(0x7fe)]?.[_0x22a4a8(0x406)]||this['sendDataWebhook'](_0x22a4a8(0x35b),_0xc27226),await this[_0x22a4a8(0x65f)](_0xc27226);}},this[_0x2f4535(0x3c9)]=0x5,this[_0x2f4535(0x1d1)]=0x1388,this[_0x2f4535(0x63d)]=0x0,this[_0x2f4535(0x357)]=async _0x572d8a=>{const _0x373088=_0x2f4535;if(_0x572d8a[_0x373088(0x418)]?.[_0x373088(0x6aa)]){let _0x3e9137=await this[_0x373088(0x7dc)](_0x572d8a[_0x373088(0x418)][_0x373088(0x6aa)][_0x373088(0x651)],!0x0);if(_0x3e9137){let _0x22077b=_0x3e9137[_0x373088(0x27b)][_0x373088(0x827)]?this[_0x373088(0x60f)][_0x373088(0x586)]+_0x373088(0x37e):_0x3e9137[_0x373088(0x27b)][_0x373088(0x5c6)]||_0x3e9137[_0x373088(0x27b)]['remoteJid'],_0x31c9f7=_0x3e9137[_0x373088(0x27b)]['id'],_0x14fb9c=_0x3e9137[_0x373088(0x418)],_0x63c32e=Buffer[_0x373088(0x7c8)](_0x14fb9c[_0x373088(0x8bb)][_0x373088(0x884)]['toString'](_0x373088(0x712)),_0x373088(0x712)),_0x1a691b=(0x0,w['decryptPollVote'])(_0x572d8a[_0x373088(0x418)]['pollUpdateMessage'][_0x373088(0x894)],{'pollCreatorJid':_0x22077b,'pollMsgId':_0x31c9f7,'pollEncKey':_0x63c32e,'voterJid':_0x572d8a[_0x373088(0x27b)]['fromMe']?this['instance'][_0x373088(0x586)]+'@s.whatsapp.net':_0x572d8a[_0x373088(0x27b)][_0x373088(0x224)][_0x373088(0x8a5)](_0x373088(0x412))?_0x572d8a[_0x373088(0x27b)][_0x373088(0x5c6)]:_0x572d8a[_0x373088(0x27b)][_0x373088(0x224)]}),_0x1150b8=[],_0x540d03=_0x1a691b[_0x373088(0x8b2)][_0x373088(0x465)](_0x4fd579=>Buffer[_0x373088(0x7c8)](_0x4fd579)[_0x373088(0x644)](_0x373088(0x712)));for(let {optionName:_0x447e66}of _0x14fb9c[_0x373088(0x617)]?.[_0x373088(0x79a)]||_0x14fb9c[_0x373088(0x37d)]?.['options']||_0x14fb9c[_0x373088(0x4f2)]?.[_0x373088(0x79a)])_0x540d03[_0x373088(0x7c4)]((0x0,w['sha256'])(Buffer[_0x373088(0x7c8)](_0x447e66))['toString'](_0x373088(0x712)))>-0x1&&_0x1150b8['push'](_0x447e66);return _0x1150b8;}}return null;},this[_0x2f4535(0x8a1)]=(_0x43827c,_0x50180f,_0x3fabe9)=>{const _0x10f45d=_0x2f4535;try{let _0x5cbfba=_0x43827c?(0x0,w[_0x10f45d(0x923)])(_0x43827c)[_0x50180f]:void 0x0,_0x2cb7d4={},_0x214546=null,_0x208131=null,_0x3a1782=null;_0x50180f==='protocolMessage'&&_0x5cbfba?.[_0x10f45d(0x425)]&&(_0x50180f=(0x0,w[_0x10f45d(0x33b)])(_0x5cbfba[_0x10f45d(0x425)]),_0x214546=_0x43827c['protocolMessage'][_0x10f45d(0x27b)]['id'],_0x5cbfba=_0x43827c[_0x10f45d(0x73c)][_0x10f45d(0x425)][_0x50180f]),_0x43827c[_0x50180f]?.[_0x10f45d(0x33c)]?.[_0x10f45d(0x28e)]&&_0x43827c[_0x50180f]?.['contextInfo']?.[_0x10f45d(0x476)]&&(_0x208131=_0x43827c[_0x50180f][_0x10f45d(0x33c)][_0x10f45d(0x28e)]),_0x43827c[_0x10f45d(0x5d3)]&&(_0x3a1782=_0x43827c[_0x10f45d(0x5d3)][_0x10f45d(0x27b)]['id']);let _0x294165;if(_0x5cbfba&&typeof _0x5cbfba==_0x10f45d(0x2e5)&&_0x10f45d(0x651)in _0x5cbfba&&({pollCreationMessageKey:_0x294165}=_0x5cbfba),_0x50180f===_0x10f45d(0x617)||_0x50180f===_0x10f45d(0x4f2)||_0x50180f===_0x10f45d(0x37d)){let _0x3e9b1c=_0x5cbfba['options']['map'](_0x4e9805=>_0x4e9805['optionName'])['join']('|');_0x2cb7d4[_0x10f45d(0x635)]=_0x3e9b1c;}let _0x2615ee='';if(_0x5cbfba&&(_0x2615ee+=_0x5cbfba[_0x10f45d(0x378)]?_0x5cbfba['name']:'',_0x2615ee+=_0x5cbfba[_0x10f45d(0x865)]?'\x20'+_0x5cbfba[_0x10f45d(0x865)]:'',_0x2615ee+=_0x5cbfba['conversation']?'\x20'+_0x5cbfba[_0x10f45d(0x5a4)]:'',_0x2615ee+=_0x5cbfba['displayName']?'\x20'+_0x5cbfba[_0x10f45d(0x3d2)]:''),_0x50180f===_0x10f45d(0x50f)){_0x2615ee=(_0x5cbfba[_0x10f45d(0x348)]||'')+'\x0a'+(_0x5cbfba[_0x10f45d(0x1d9)]||'')+'\x0a'+(_0x5cbfba[_0x10f45d(0x570)]||'');let _0x51c25a=this[_0x10f45d(0x22f)](_0x5cbfba[_0x10f45d(0x46a)]);_0x2cb7d4[_0x10f45d(0x635)]=_0x51c25a;}if(_0x50180f===_0x10f45d(0x8d6)&&(_0x3fabe9=_0x5cbfba[_0x10f45d(0x348)]),_0x5cbfba&&_0x5cbfba[_0x10f45d(0x8c7)]){let _0x521a7a=this[_0x10f45d(0x688)](JSON['stringify'](_0x5cbfba[_0x10f45d(0x8c7)],null,0x2));_0x2615ee=_0x2615ee+'\x0a'+_0x521a7a;}if(_0x5cbfba){let {sections:_0x31d4db,listType:_0x46cdad,displayName:_0x37ffc8,vcard:_0x504729,contactVcard:_0x494add,name:_0x4c000c,caption:_0x62fe7b,conversation:_0x458050,pollCreationMessageKey:_0x5b2cca,footerText:_0x3c9d78,contentText:_0x45ea2c,pageCount:_0x10f0b9,headerType:_0x36afc6,isAvatar:_0x458f74,isAnimated:_0x3ee612,fallbackLc:_0x23a1e4,fallbackLg:_0x2e8bab,namespace:_0x18bb0e,elementName:_0x159e87,localizableParams:_0x3a5460,viewOnce:_0x1cd52f,height:_0x5cc8eb,width:_0x710511,key:_0x401ed8,firstScanLength:_0x2555bc,firstScanSidecar:_0x30de5d,gifPlayback:_0x34c41a,gifAttribution:_0x3d9986,midQualityFileSha256:_0x4701f4,scansSidecar:_0x5a6185,streamingSidecar:_0x5c21b0,thumbnailHeight:_0x4e9b29,thumbnailWidth:_0x27adc9,thumbnailEncSha256:_0x4b07cb,thumbnailDirectPath:_0x513234,canonicalUrl:_0x892b35,matchedText:_0x311a2e,previewType:_0x2c92d2,thumbnailSha256:_0x2ac77c,deviceListMetadataVersion:_0x3552a4,inviteLinkGroupTypeV2:_0x505f0a,interactiveAnnotations:_0x59e274,scanLengths:_0x357545,jpegThumbnail:_0x751e96,url:_0x42286c,mediaKeyTimestamp:_0x27f67e,waveform:_0x2ca40c,stickerSentTs:_0x2264ba,firstFrameLength:_0x32ff3a,fileEncSha256:_0x1416cb,contextInfo:_0x2097d6,firstFrameSidecar:_0x3a96f5,directPath:_0x202cab,fileSha256:_0x8aaa7b,mediaKey:_0x488384,senderTimestampMs:_0x32f961,..._0x5c1896}=_0x5cbfba;(_0x50180f===_0x10f45d(0x50f)||_0x50180f===_0x10f45d(0x8d6))&&(delete _0x5c1896[_0x10f45d(0x348)],delete _0x5c1896[_0x10f45d(0x1d9)]),typeof _0x5cbfba=='string'?_0x2cb7d4={'text':_0x5cbfba,'type':_0x50180f||_0x10f45d(0x5a4),..._0x214546&&{'edited':_0x214546},..._0x208131&&{'quoted':_0x208131},..._0x3a1782&&{'reaction':_0x3a1782}}:_0x2cb7d4={'text':_0x2615ee,..._0x5c1896,..._0x50180f===_0x10f45d(0x6aa)?{'poll_id':_0x5cbfba[_0x10f45d(0x651)]['id'],'quoted':_0x5cbfba[_0x10f45d(0x651)]['id'],'vote':_0x3fabe9}:{},..._0x50180f===_0x10f45d(0x8d6)?{'vote':_0x3fabe9}:{},'type':_0x50180f,..._0x214546&&{'edited':_0x214546},..._0x208131&&{'quoted':_0x208131},..._0x3a1782&&{'reaction':_0x3a1782},...(_0x50180f===_0x10f45d(0x617)||_0x50180f===_0x10f45d(0x4f2)||_0x50180f==='pollCreationMessageV3'||_0x50180f===_0x10f45d(0x50f))&&{'convertedOptions':_0x2cb7d4[_0x10f45d(0x635)]}};}return{'messageType':_0x50180f,'messageContent':_0x5cbfba,'message_normalized':_0x2cb7d4};}catch(_0x841639){return this[_0x10f45d(0x45d)][_0x10f45d(0x91c)](_0x10f45d(0x8e8)+_0x841639),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this['processUUID']=null,this[_0x2f4535(0x922)]=[],(this[_0x2f4535(0x65b)](),this[_0x2f4535(0x7e9)](),this['instance'][_0x2f4535(0x552)]={'count':0x0},this['instance'][_0x2f4535(0x223)]={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}set['instanceName'](_0x582aa5){const _0x57a5ce=a0_0x4fa287;if(!_0x582aa5){this[_0x57a5ce(0x60f)][_0x57a5ce(0x378)]=(0x0,_i['v4'])();return;}this[_0x57a5ce(0x60f)][_0x57a5ce(0x378)]=_0x582aa5,this[_0x57a5ce(0x413)]('status.instance',{'instance':this[_0x57a5ce(0x60f)][_0x57a5ce(0x378)],'status':_0x57a5ce(0x5d6)});}get[a0_0x4fa287(0x86e)](){const _0x2e0827=a0_0x4fa287;return this[_0x2e0827(0x60f)][_0x2e0827(0x378)];}get[a0_0x4fa287(0x586)](){const _0x2459db=a0_0x4fa287;return this[_0x2459db(0x60f)]['wuid'];}async[a0_0x4fa287(0x6f0)](){const _0x4cbff9=a0_0x4fa287;let _0x2fe6af=this[_0x4cbff9(0x399)]['user']?.[_0x4cbff9(0x378)]??this[_0x4cbff9(0x399)]['user']?.[_0x4cbff9(0x267)];if(!_0x2fe6af){if(this['configService'][_0x4cbff9(0x37b)](_0x4cbff9(0x614))[_0x4cbff9(0x729)]){let _0x859b79=await R[_0x4cbff9(0x1cb)]()['db'](this[_0x4cbff9(0x5ca)]['get'](_0x4cbff9(0x614))[_0x4cbff9(0x632)]['DB_PREFIX_NAME']+_0x4cbff9(0x68c))[_0x4cbff9(0x516)](this[_0x4cbff9(0x86e)])[_0x4cbff9(0x6bc)]({'_id':_0x4cbff9(0x76c)});if(_0x859b79){let _0x22c93e=JSON[_0x4cbff9(0x724)](JSON[_0x4cbff9(0x2b0)](_0x859b79),w[_0x4cbff9(0x643)][_0x4cbff9(0x661)]);_0x2fe6af=_0x22c93e['me']?.[_0x4cbff9(0x378)]||_0x22c93e['me']?.[_0x4cbff9(0x267)];}}else{if((0x0,Ue['existsSync'])((0x0,j['join'])(Me,this[_0x4cbff9(0x86e)],_0x4cbff9(0x5ce)))){let _0x488a7b=JSON[_0x4cbff9(0x724)]((0x0,Ue[_0x4cbff9(0x51b)])((0x0,j[_0x4cbff9(0x82f)])(Me,this['instanceName'],_0x4cbff9(0x5ce)),{'encoding':_0x4cbff9(0x5d8)}));_0x2fe6af=_0x488a7b['me']?.[_0x4cbff9(0x378)]||_0x488a7b['me']?.[_0x4cbff9(0x267)];}}}return _0x2fe6af;}get[a0_0x4fa287(0x806)](){const _0x292bf2=a0_0x4fa287;return this[_0x292bf2(0x60f)][_0x292bf2(0x806)];}get[a0_0x4fa287(0x67b)](){const _0x31cc7d=a0_0x4fa287;return this['instance'][_0x31cc7d(0x552)]?.[_0x31cc7d(0x530)]?{'pairingCode':this[_0x31cc7d(0x60f)][_0x31cc7d(0x552)]?.[_0x31cc7d(0x530)]}:{'code':this[_0x31cc7d(0x60f)][_0x31cc7d(0x552)]?.[_0x31cc7d(0x8fc)],'base64':this[_0x31cc7d(0x60f)]['qrcode']?.[_0x31cc7d(0x2b2)]};}async[a0_0x4fa287(0x726)](){const _0xe1aee4=a0_0x4fa287;let _0x3064df=await this[_0xe1aee4(0x830)][_0xe1aee4(0x200)][_0xe1aee4(0x896)](this[_0xe1aee4(0x86e)]);this[_0xe1aee4(0x7fe)][_0xe1aee4(0x7c5)]=_0x3064df?.[_0xe1aee4(0x7c5)],this[_0xe1aee4(0x7fe)]['enabled']=_0x3064df?.[_0xe1aee4(0x286)],this['localWebhook'][_0xe1aee4(0x22c)]=_0x3064df?.[_0xe1aee4(0x22c)],this[_0xe1aee4(0x7fe)][_0xe1aee4(0x7e3)]=_0x3064df?.[_0xe1aee4(0x7e3)],this['localWebhook'][_0xe1aee4(0x4a2)]=_0x3064df?.[_0xe1aee4(0x4a2)],this['localWebhook']['SEND_MESSAGE']=_0x3064df?.[_0xe1aee4(0x5d0)],this[_0xe1aee4(0x7fe)][_0xe1aee4(0x3b5)]=_0x3064df?.[_0xe1aee4(0x3b5)],this[_0xe1aee4(0x7fe)][_0xe1aee4(0x36f)]=_0x3064df?.[_0xe1aee4(0x36f)],this[_0xe1aee4(0x7fe)][_0xe1aee4(0x836)]=_0x3064df?.['GROUPS_UPSERT'],this['localWebhook'][_0xe1aee4(0x3cd)]=_0x3064df?.[_0xe1aee4(0x3cd)],this[_0xe1aee4(0x7fe)][_0xe1aee4(0x2ff)]=_0x3064df?.['GROUP_PARTICIPANTS_UPDATE'],this[_0xe1aee4(0x7fe)]['CHATS_SET']=_0x3064df?.[_0xe1aee4(0x46f)],this[_0xe1aee4(0x7fe)][_0xe1aee4(0x7d0)]=_0x3064df?.[_0xe1aee4(0x7d0)],this['localWebhook'][_0xe1aee4(0x750)]=_0x3064df?.[_0xe1aee4(0x750)],this[_0xe1aee4(0x7fe)][_0xe1aee4(0x246)]=_0x3064df?.['CHATS_DELETE'],this[_0xe1aee4(0x7fe)][_0xe1aee4(0x4d7)]=_0x3064df?.[_0xe1aee4(0x4d7)],this['localWebhook'][_0xe1aee4(0x83e)]=_0x3064df?.[_0xe1aee4(0x83e)],this['localWebhook'][_0xe1aee4(0x59b)]=_0x3064df?.[_0xe1aee4(0x59b)],this[_0xe1aee4(0x7fe)][_0xe1aee4(0x39a)]=_0x3064df?.[_0xe1aee4(0x39a)],this[_0xe1aee4(0x7fe)]['MESSAGES_SET']=_0x3064df?.['MESSAGES_SET'],this[_0xe1aee4(0x7fe)][_0xe1aee4(0x920)]=_0x3064df?.['CONNECTION_UPDATE'],this[_0xe1aee4(0x7fe)][_0xe1aee4(0x406)]=_0x3064df?.['groups_ignore'];}async[a0_0x4fa287(0x645)](_0x48d6e3){const _0x5d76b3=a0_0x4fa287;let _0x209a6e=[_0x5d76b3(0x817),_0x5d76b3(0x7c5),'enabled',_0x5d76b3(0x22c),_0x5d76b3(0x7e3),'QRCODE_UPDATED','MESSAGES_UPDATE','MESSAGES_UPSERT',_0x5d76b3(0x5d0),_0x5d76b3(0x836),_0x5d76b3(0x3cd),'GROUP_PARTICIPANTS_UPDATE',_0x5d76b3(0x46f),_0x5d76b3(0x7d0),_0x5d76b3(0x750),'CHATS_DELETE','CONTACTS_SET',_0x5d76b3(0x83e),_0x5d76b3(0x59b),_0x5d76b3(0x39a),_0x5d76b3(0x1cd),_0x5d76b3(0x920),_0x5d76b3(0x406)],_0x22a63b={};return _0x209a6e[_0x5d76b3(0x442)](_0x56a2b5=>{_0x48d6e3[_0x56a2b5]!==void 0x0&&(_0x22a63b[_0x56a2b5]=_0x48d6e3[_0x56a2b5]);}),_0x22a63b['url']&&(_0x22a63b[_0x5d76b3(0x7c5)]=_0x22a63b[_0x5d76b3(0x7c5)][_0x5d76b3(0x602)]()),await this[_0x5d76b3(0x830)]['webhook'][_0x5d76b3(0x220)](_0x22a63b,this['instanceName']),Object[_0x5d76b3(0x3cf)](this[_0x5d76b3(0x7fe)],_0x22a63b),await this[_0x5d76b3(0x830)][_0x5d76b3(0x200)][_0x5d76b3(0x896)](this['instanceName']);}async[a0_0x4fa287(0x455)](){const _0x28113a=a0_0x4fa287;return await this[_0x28113a(0x830)][_0x28113a(0x200)][_0x28113a(0x896)](this[_0x28113a(0x86e)]);}async[a0_0x4fa287(0x413)](_0x43f48f,_0x3efbd1){const _0x2843d0=a0_0x4fa287;let _0x217a23=_0x43f48f[_0x2843d0(0x2a9)](/[\.-]/gm,'_')[_0x2843d0(0x296)](),_0x25fa92=this[_0x2843d0(0x7fe)][_0x2843d0(0x286)]&&(0x0,L['isURL'])(this[_0x2843d0(0x7fe)][_0x2843d0(0x7c5)])?this[_0x2843d0(0x7fe)]['url']+(this[_0x2843d0(0x7fe)][_0x2843d0(0x22c)]?this['webhookMap'][_0x43f48f]:''):null,_0xde3a79=this[_0x2843d0(0x7fe)][_0x217a23],_0x296ea5=me&&me['enabled']&&(0x0,L[_0x2843d0(0x52c)])(me[_0x2843d0(0x7c5)])?me[_0x2843d0(0x7c5)]+(me['local_map']?this[_0x2843d0(0x312)][_0x43f48f]:''):null,_0x4dfbb1=me?me[_0x217a23]:null;if(_0xde3a79&&_0x25fa92)try{await te[_0x2843d0(0x796)]['create']({'baseURL':_0x25fa92})[_0x2843d0(0x62d)]('',{'event':_0x43f48f,'instance':this[_0x2843d0(0x60f)]['name'],'apikey':this[_0x2843d0(0x60f)][_0x2843d0(0x649)],'data':_0x3efbd1}),this['logger']['log'](this[_0x2843d0(0x86e)]+'\x20('+this[_0x2843d0(0x60f)]['wuid']+'):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x43f48f+':\x20'+_0x25fa92);}catch{this[_0x2843d0(0x45d)]['error'](this[_0x2843d0(0x86e)]+'\x20('+this[_0x2843d0(0x60f)]['wuid']+_0x2843d0(0x6eb)+_0x43f48f+':\x20'+_0x25fa92);}if(_0x4dfbb1&&_0x296ea5)try{await te[_0x2843d0(0x796)][_0x2843d0(0x220)]({'baseURL':_0x296ea5})[_0x2843d0(0x62d)]('',{'event':_0x43f48f,'instance':this[_0x2843d0(0x60f)][_0x2843d0(0x378)],'apikey':this[_0x2843d0(0x60f)][_0x2843d0(0x649)],'data':_0x3efbd1}),this[_0x2843d0(0x45d)][_0x2843d0(0x848)](this['instanceName']+'\x20('+this[_0x2843d0(0x60f)][_0x2843d0(0x586)]+_0x2843d0(0x529)+_0x43f48f+':\x20'+_0x296ea5);}catch{this[_0x2843d0(0x45d)][_0x2843d0(0x91c)](this['instanceName']+'\x20('+this[_0x2843d0(0x60f)][_0x2843d0(0x586)]+_0x2843d0(0x28b)+_0x43f48f+':\x20'+_0x296ea5);}}async[a0_0x4fa287(0x468)]({qr:_0x58d7b6,connection:_0x179953,lastDisconnect:_0x58a3bf}){const _0x977a55=a0_0x4fa287;if(_0x58d7b6){if(this[_0x977a55(0x60f)][_0x977a55(0x552)][_0x977a55(0x572)]===Fo)return this['sendDataWebhook'](_0x977a55(0x49f),{'message':_0x977a55(0x27f),'statusCode':w['DisconnectReason'][_0x977a55(0x634)]}),this[_0x977a55(0x2f3)]={'state':_0x977a55(0x5f7),'statusReason':w[_0x977a55(0x7f8)]['connectionClosed']},this[_0x977a55(0x413)]('connection.update',{'instance':this[_0x977a55(0x60f)][_0x977a55(0x378)],...this[_0x977a55(0x2f3)]}),this[_0x977a55(0x413)](_0x977a55(0x824),{'instance':this[_0x977a55(0x60f)][_0x977a55(0x378)],'status':_0x977a55(0x4c4)}),this[_0x977a55(0x830)][_0x977a55(0x29f)][_0x977a55(0x909)](this[_0x977a55(0x60f)][_0x977a55(0x378)]),this['endSession']=!0x0,re[_0x977a55(0x74b)](K,this[_0x977a55(0x60f)][_0x977a55(0x378)]),this[_0x977a55(0x5e3)]['emit'](_0x977a55(0x35a),this[_0x977a55(0x60f)][_0x977a55(0x378)]);this['instance']['qrcode'][_0x977a55(0x572)]++;let _0x1b3b18={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x977a55(0x3ec),'dark':'#000000'}};xi[_0x977a55(0x796)][_0x977a55(0x35c)](_0x58d7b6,_0x1b3b18,(_0xbed2e0,_0x42ee06)=>{const _0xcd5dd2=_0x977a55;if(_0xbed2e0){this[_0xcd5dd2(0x45d)]['error'](this['instanceName']+'\x20('+this[_0xcd5dd2(0x60f)]['wuid']+_0xcd5dd2(0x789)+(_0xbed2e0 instanceof Error?_0xbed2e0[_0xcd5dd2(0x418)]:JSON['stringify'](_0xbed2e0,null,0x2)));return;}this[_0xcd5dd2(0x60f)][_0xcd5dd2(0x552)][_0xcd5dd2(0x2b2)]=_0x42ee06,this['instance'][_0xcd5dd2(0x552)]['code']=_0x58d7b6,!this['phoneNumber']&&this[_0xcd5dd2(0x413)](_0xcd5dd2(0x49f),{'qrcode':{'instance':this[_0xcd5dd2(0x60f)][_0xcd5dd2(0x378)],'pairingCode':this[_0xcd5dd2(0x60f)]['qrcode'][_0xcd5dd2(0x530)],'code':_0x58d7b6,'base64':_0x42ee06}});}),this[_0x977a55(0x451)]?this[_0x977a55(0x60f)][_0x977a55(0x552)][_0x977a55(0x530)]||(await(0x0,w['delay'])(0x7d0),this['instance'][_0x977a55(0x552)][_0x977a55(0x530)]=await this[_0x977a55(0x399)]['requestPairingCode'](this['phoneNumber'])):this[_0x977a55(0x60f)][_0x977a55(0x552)][_0x977a55(0x530)]=null,Di[_0x977a55(0x796)]['generate'](_0x58d7b6,{'small':!0x0},_0x216c06=>this['logger'][_0x977a55(0x848)](_0x977a55(0x742)+this['instance'][_0x977a55(0x378)]+_0x977a55(0x823)+this[_0x977a55(0x60f)][_0x977a55(0x552)]['count']+_0x977a55(0x42c)+this[_0x977a55(0x60f)]['qrcode'][_0x977a55(0x530)]+_0x977a55(0x90f)+_0x216c06));}if(_0x179953&&(this['stateConnection']={'state':_0x179953,'statusReason':_0x58a3bf?.['error']?.['output']?.[_0x977a55(0x30c)]??0xc8},this[_0x977a55(0x413)](_0x977a55(0x589),{'instance':this['instance'][_0x977a55(0x378)],...this[_0x977a55(0x2f3)]})),_0x179953==='close'){if(this['reconnectAttempts']++,this['reconnectTimestamps'][_0x977a55(0x2fc)](Date['now']()),this[_0x977a55(0x868)]=this['reconnectTimestamps'][_0x977a55(0x314)](_0x1a18b0=>Date[_0x977a55(0x6b0)]()-_0x1a18b0<this[_0x977a55(0x648)]),_0x58a3bf[_0x977a55(0x91c)]?.[_0x977a55(0x360)]?.['statusCode']!==w[_0x977a55(0x7f8)][_0x977a55(0x78d)]){let _0x2cc521=this['reconnectAttempts']<=0x1?0x0:Math[_0x977a55(0x485)](Math[_0x977a55(0x446)](0x2,this[_0x977a55(0x2e6)]-0x1)*0x3e8,0x493e0);console[_0x977a55(0x848)](this[_0x977a55(0x86e)]+_0x977a55(0x3b1)+this[_0x977a55(0x2e6)]+_0x977a55(0x2ae)+_0x2cc521/0x3e8+_0x977a55(0x225)),await new Promise(_0x424d3d=>setTimeout(_0x424d3d,_0x2cc521)),console[_0x977a55(0x848)]('Tentando\x20reconectar...'),await this[_0x977a55(0x5eb)]();}else{this[_0x977a55(0x413)](_0x977a55(0x824),{'instance':this[_0x977a55(0x60f)][_0x977a55(0x378)],'status':'removed'}),this[_0x977a55(0x60f)][_0x977a55(0x223)][_0x977a55(0x6e5)]=!0x1,this['repository'][_0x977a55(0x200)]['delete'](this['instanceName']),this[_0x977a55(0x830)][_0x977a55(0x29f)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0x977a55(0x6b0)]()},this['instance'][_0x977a55(0x378)]),re[_0x977a55(0x74b)](K,this[_0x977a55(0x60f)][_0x977a55(0x378)]);try{this[_0x977a55(0x45d)][_0x977a55(0x6b6)](this[_0x977a55(0x86e)]+'\x20('+this['instance'][_0x977a55(0x586)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x24bba4=await this['repository']['message'][_0x977a55(0x6e3)](this['instance'][_0x977a55(0x586)]);_0x24bba4[_0x977a55(0x622)]?this[_0x977a55(0x45d)][_0x977a55(0x6b6)](this['instanceName']+'\x20('+this[_0x977a55(0x60f)][_0x977a55(0x586)]+_0x977a55(0x3ba)):this[_0x977a55(0x45d)][_0x977a55(0x91c)](_0x977a55(0x467)+_0x24bba4[_0x977a55(0x91c)]);}catch(_0x29a594){this[_0x977a55(0x45d)][_0x977a55(0x91c)](_0x977a55(0x238)+_0x29a594[_0x977a55(0x418)]);}this[_0x977a55(0x60f)][_0x977a55(0x223)][_0x977a55(0x403)]!==null&&(this['logger'][_0x977a55(0x6b6)](this['instanceName']+'\x20('+this[_0x977a55(0x60f)][_0x977a55(0x586)]+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x977a55(0x60f)][_0x977a55(0x223)][_0x977a55(0x403)]),this['instance'][_0x977a55(0x223)][_0x977a55(0x403)]=null),this['logger'][_0x977a55(0x6b6)](this[_0x977a55(0x86e)]+'\x20('+this[_0x977a55(0x60f)][_0x977a55(0x586)]+_0x977a55(0x5c9)),this[_0x977a55(0x1d4)]=null,this[_0x977a55(0x5e3)]['emit'](_0x977a55(0x47a),this[_0x977a55(0x60f)][_0x977a55(0x378)],'inner'),this[_0x977a55(0x399)]?.['ws']?.[_0x977a55(0x23f)](),this[_0x977a55(0x399)][_0x977a55(0x7c0)](new Error(_0x977a55(0x755)));}}if(_0x179953===_0x977a55(0x8b1)){this[_0x977a55(0x45d)][_0x977a55(0x27c)](this[_0x977a55(0x86e)]+'\x20('+this['instance'][_0x977a55(0x586)]+_0x977a55(0x2a1)+this[_0x977a55(0x399)]['authState']['creds']?.[_0x977a55(0x4b0)]),this[_0x977a55(0x399)][_0x977a55(0x738)][_0x977a55(0x76c)]?.[_0x977a55(0x4b0)]||(this[_0x977a55(0x45d)][_0x977a55(0x27c)](this[_0x977a55(0x86e)]+'\x20('+this['instance'][_0x977a55(0x586)]+_0x977a55(0x5dc)),this[_0x977a55(0x399)]['ev'][_0x977a55(0x382)]()),this[_0x977a55(0x1d3)],this[_0x977a55(0x60f)][_0x977a55(0x586)]=this['client'][_0x977a55(0x2e2)]['id'][_0x977a55(0x2a9)](/:\d+/,'')[_0x977a55(0x2a9)](_0x977a55(0x37e),''),this['instance']['profilePictureUrl']=(await this['profilePicture'](this[_0x977a55(0x60f)][_0x977a55(0x586)]+_0x977a55(0x37e)))[_0x977a55(0x806)],this[_0x977a55(0x830)]['auth'][_0x977a55(0x220)]({'online':!0x0,'owner':this[_0x977a55(0x60f)]['wuid'],'lastDisconnect':null},this[_0x977a55(0x60f)][_0x977a55(0x378)]);let _0x8f1fec=_0x977a55(0x71d)+this[_0x977a55(0x60f)][_0x977a55(0x586)],_0x576cba=0x28,_0x4c19d2=Math[_0x977a55(0x768)]((_0x576cba-_0x8f1fec[_0x977a55(0x875)])/0x2),_0x41324d='\x20'[_0x977a55(0x405)](_0x4c19d2),_0x594652=_0x977a55(0x3f7),_0x569301=_0x977a55(0x472)+this[_0x977a55(0x60f)][_0x977a55(0x378)],_0x8e5d91=(''+_0x41324d+_0x8f1fec+_0x41324d)[_0x977a55(0x593)](_0x576cba,'\x20'),_0x12c493=(''+_0x41324d+_0x594652+_0x41324d)[_0x977a55(0x593)](_0x576cba,'\x20'),_0x34cfb7=(''+_0x41324d+_0x569301+_0x41324d)['padEnd'](_0x576cba,'\x20'),_0x21b8b3=Math[_0x977a55(0x6ff)](_0x8e5d91[_0x977a55(0x875)],_0x12c493['length'],_0x34cfb7['length']),_0x1f7a26=_0x8e5d91['padEnd'](_0x21b8b3,'\x20'),_0x2ea9b5=_0x12c493[_0x977a55(0x593)](_0x21b8b3,'\x20'),_0x3ff0ed=_0x34cfb7['padEnd'](_0x21b8b3,'\x20');this[_0x977a55(0x45d)][_0x977a55(0x558)]((_0x977a55(0x912)+'─'[_0x977a55(0x405)](_0x21b8b3)+_0x977a55(0x713)+_0x2ea9b5+_0x977a55(0x7db)+_0x3ff0ed+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x1f7a26+_0x977a55(0x546)+'─'[_0x977a55(0x405)](_0x21b8b3)+'┘')[_0x977a55(0x2a9)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0x977a55(0x60f)]['ScheduleMessage'][_0x977a55(0x6e5)]=!0x0;}}[a0_0x4fa287(0x1d3)](){const _0x3d3e2c=a0_0x4fa287;this[_0x3d3e2c(0x2e6)]=0x0,this[_0x3d3e2c(0x868)]=[];}async[a0_0x4fa287(0x7dc)](_0x578461,_0x7a5f4d=!0x1){const _0x30caa9=a0_0x4fa287;try{let _0x2632dd=await this['repository'][_0x30caa9(0x418)][_0x30caa9(0x896)]({'where':{'_id':_0x578461['id']}},this['instance'][_0x30caa9(0x586)]);return _0x7a5f4d?_0x2632dd[0x0]:_0x2632dd[0x0][_0x30caa9(0x418)];}catch{return{'conversation':''};}}[a0_0x4fa287(0x65b)](){const _0x39c895=a0_0x4fa287;let _0x415f92=this[_0x39c895(0x5ca)][_0x39c895(0x37b)](_0x39c895(0x7b0)),_0x3901ad=this[_0x39c895(0x5ca)]['get'](_0x39c895(0x614));_0x415f92?.[_0x39c895(0x809)]&&!_0x3901ad[_0x39c895(0x729)]&&setInterval(()=>{const _0x54be76=_0x39c895;try{for(let [_0x33c638,_0x308eef]of Object[_0x54be76(0x5b8)](_0x415f92))_0x308eef===!0x0&&(0x0,je[_0x54be76(0x4b6)])(_0x54be76(0x2c5)+(0x0,j[_0x54be76(0x82f)])(this[_0x54be76(0x396)],_0x33c638[_0x54be76(0x250)](),this[_0x54be76(0x60f)][_0x54be76(0x586)])+_0x54be76(0x208));}catch{}},(_0x415f92?.[_0x39c895(0x809)]??0xe10)*0x3e8);}async[a0_0x4fa287(0x5c2)](){const _0x218487=a0_0x4fa287;let _0x36503f=this['configService']['get'](_0x218487(0x614)),_0x1e84e1=this[_0x218487(0x5ca)][_0x218487(0x37b)](_0x218487(0x505));return _0x1e84e1?.[_0x218487(0x729)]?await xs(_0x1e84e1,this['instance']['name']):_0x36503f[_0x218487(0x729)]?await _s(this['instance'][_0x218487(0x378)]):await(0x0,w['useMultiFileAuthState'])((0x0,j[_0x218487(0x82f)])(Me,this[_0x218487(0x60f)][_0x218487(0x378)]));}async[a0_0x4fa287(0x41c)](){const _0x54dabb=a0_0x4fa287;let _0x43f180=()=>Math[_0x54dabb(0x768)](Math[_0x54dabb(0x904)]()*0x4e21)+0x7d0,_0x226d39=async()=>{const _0x279552=_0x54dabb;if(!this[_0x279552(0x60f)]['ScheduleMessage']['isConnected']){this[_0x279552(0x45d)][_0x279552(0x6b6)](this[_0x279552(0x86e)]+'\x20('+this[_0x279552(0x60f)]['wuid']+_0x279552(0x318)),this[_0x279552(0x397)]=!0x1;return;}if(this['instance']['wuid']&&this[_0x279552(0x1d4)]&&this['instance'][_0x279552(0x223)]['delayMessage']!==null&&this[_0x279552(0x60f)][_0x279552(0x223)][_0x279552(0x403)]!==void 0x0){let _0x5000a9=Math[_0x279552(0x723)](this[_0x279552(0x60f)][_0x279552(0x223)]['delayMessage']/0xea60);this[_0x279552(0x45d)][_0x279552(0x6b6)](this[_0x279552(0x86e)]+'\x20('+this[_0x279552(0x60f)]['wuid']+_0x279552(0x53e)+_0x5000a9+_0x279552(0x57e)),this['isRunning']=!0x1;return;}else this[_0x279552(0x60f)][_0x279552(0x586)]&&(this[_0x279552(0x45d)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x279552(0x586)]+_0x279552(0x619)),this['AutomateSystem']||(await this[_0x279552(0x4c5)](),this[_0x279552(0x6cd)](),this[_0x279552(0x528)]()),(this['instance'][_0x279552(0x223)][_0x279552(0x403)]===null||this['instance'][_0x279552(0x223)][_0x279552(0x403)]===void 0x0)&&await this['scheduleNextCheck']());if(this[_0x279552(0x397)]){let _0x3ec683=_0x43f180();this[_0x279552(0x45d)]['verbose'](this[_0x279552(0x86e)]+_0x279552(0x2cf)+_0x3ec683/0x3e8+_0x279552(0x66c)),setTimeout(_0x226d39,_0x3ec683);}};if(this[_0x54dabb(0x397)])return;this[_0x54dabb(0x397)]=!0x0;let _0x5845c6=_0x43f180();setTimeout(_0x226d39,_0x5845c6);}async[a0_0x4fa287(0x528)](){const _0x5a7222=a0_0x4fa287;let _0x5ade50=this[_0x5a7222(0x60f)]['wuid'];try{let _0x53076d=await this['repository'][_0x5a7222(0x29d)][_0x5a7222(0x431)]({'where':{'$or':[{'owner':_0x5ade50},{'whoCanUse':{'$in':[_0x5ade50]}},{'shareOwners':{'$in':[_0x5ade50]}}]}}),_0x180e10=new Map(this[_0x5a7222(0x1d4)][_0x5a7222(0x395)]['map'](_0x24263b=>[_0x24263b[_0x5a7222(0x817)],_0x24263b])),_0x4d391a=_0x53076d['map'](_0x1a9792=>{const _0x57885c=_0x5a7222;let _0x2e9a97=_0x180e10['get'](_0x1a9792[_0x57885c(0x817)]?.[_0x57885c(0x644)]());return{'_id':_0x1a9792[_0x57885c(0x817)]?.[_0x57885c(0x644)](),'name':_0x2e9a97?.[_0x57885c(0x378)]??_0x1a9792[_0x57885c(0x378)],'default':_0x2e9a97?.[_0x57885c(0x796)]??_0x1a9792[_0x57885c(0x796)]??!0x1,'startCommand':_0x2e9a97?.[_0x57885c(0x7e1)]??_0x1a9792[_0x57885c(0x37c)],'minutesToClose':_0x2e9a97?.['minutesToClose']??_0x1a9792['minutesToClose']??0xa,'readMessages':_0x2e9a97?.['readMessages']??_0x1a9792[_0x57885c(0x85e)]??!0x1,'testingWith':_0x2e9a97?.[_0x57885c(0x298)]??_0x1a9792[_0x57885c(0x298)],'canEdit':_0x1a9792['owner']===_0x5ade50||(_0x1a9792[_0x57885c(0x673)]??[])[_0x57885c(0x7f1)](_0x5ade50),'usersCount':(_0x1a9792['shareOwners']??[])[_0x57885c(0x875)]??0x0};}),_0x283027=!0x1;_0x4d391a['forEach'](_0x2ff66c=>{const _0xd1c62e=_0x5a7222;_0x2ff66c[_0xd1c62e(0x796)]&&(_0x283027?_0x2ff66c['default']=!0x1:_0x283027=!0x0);}),this['AutomateSystem']['flows']=_0x4d391a;let _0x4ce762={'flows':_0x4d391a};return await this['repository'][_0x5a7222(0x52d)][_0x5a7222(0x48b)](_0x4ce762,_0x5ade50),this[_0x5a7222(0x45d)][_0x5a7222(0x6b6)](this[_0x5a7222(0x86e)]+'\x20('+_0x5ade50+_0x5a7222(0x2bd)),_0x4d391a[_0x5a7222(0x875)];}catch(_0x31585f){return this['logger'][_0x5a7222(0x91c)](this[_0x5a7222(0x86e)]+'\x20('+_0x5ade50+_0x5a7222(0x815)+(_0x31585f instanceof Error?_0x31585f[_0x5a7222(0x418)]:JSON['stringify'](_0x31585f,null,0x2))),{'message':_0x5a7222(0x6cb)+(_0x31585f instanceof Error?_0x31585f['message']:JSON[_0x5a7222(0x2b0)](_0x31585f,null,0x2))};}}async[a0_0x4fa287(0x5eb)](_0x158dff){const _0x59461e=a0_0x4fa287;try{let _0x538bff=await this['repository']['instance']['findOne']({'where':{'_id':K+'-'+this[_0x59461e(0x86e)]}}),_0x55b4c8,_0x20a2da=!re[_0x59461e(0x769)]||!re[_0x59461e(0x6c7)];console[_0x59461e(0x848)]('--------------------------------------'),console['log'](_0x59461e(0x7fa),Oi),console[_0x59461e(0x848)](_0x59461e(0x7b8),this[_0x59461e(0x2e6)]),console[_0x59461e(0x848)](_0x59461e(0x7af)),Oi&&!_0x20a2da&&(this[_0x59461e(0x2e6)]<0x4||!this['reconnectAttempts']?_0x538bff&&_0x538bff['ip']?(_0x55b4c8=_0x538bff['ip'],console[_0x59461e(0x848)](_0x59461e(0x831)+_0x55b4c8)):(_0x55b4c8=await re[_0x59461e(0x4f4)](K,this[_0x59461e(0x60f)]['name']),_0x55b4c8?(console[_0x59461e(0x848)](_0x59461e(0x1ef)+_0x55b4c8),await(0x0,w['delay'])(0x7d0)):console[_0x59461e(0x91c)](_0x59461e(0x6b8))):this['reconnectAttempts']<0x6&&(await re[_0x59461e(0x74b)](K,this[_0x59461e(0x60f)][_0x59461e(0x378)]),console['log'](_0x59461e(0x902)),_0x55b4c8=await re[_0x59461e(0x4f4)](K,this[_0x59461e(0x60f)][_0x59461e(0x378)]),_0x55b4c8?(console[_0x59461e(0x848)]('Novo\x20IP\x20criado:\x20'+_0x55b4c8),await(0x0,w[_0x59461e(0x662)])(0x7d0)):console['error'](_0x59461e(0x76d)))),this[_0x59461e(0x726)](),this['instance'][_0x59461e(0x649)]=(await this['repository'][_0x59461e(0x29f)][_0x59461e(0x896)](this['instance'][_0x59461e(0x378)]))[_0x59461e(0x649)],this[_0x59461e(0x60f)][_0x59461e(0x738)]=await this[_0x59461e(0x5c2)]();let {version:_0x3e91ca}=await(0x0,w['fetchLatestBaileysVersion'])(),_0x2211e0=[ki,Us,(0x0,ks[_0x59461e(0x711)])()],_0xba0e4a={'localAddress':_0x55b4c8,'auth':{'creds':this[_0x59461e(0x60f)][_0x59461e(0x738)][_0x59461e(0x4c3)]['creds'],'keys':(0x0,w[_0x59461e(0x4db)])(this[_0x59461e(0x60f)]['authState']['state'][_0x59461e(0x647)],(0x0,Vt[_0x59461e(0x796)])({'level':_0x59461e(0x91c)}))},'logger':(0x0,Vt['default'])({'level':_0x59461e(0x91c)}),'printQRInTerminal':!0x1,'browser':_0x158dff?[_0x59461e(0x8bd),Us,(0x0,ks['release'])()]:_0x2211e0,'version':_0x3e91ca,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x563ee9=>{const _0x32b110=_0x59461e;let _0x18cb73=this['localWebhook']?.[_0x32b110(0x406)]&&(0x0,w[_0x32b110(0x5b4)])(_0x563ee9);return(0x0,w[_0x32b110(0x7bb)])(_0x563ee9)||_0x18cb73;},'msgRetryCounterCache':this[_0x59461e(0x833)],'getMessage':async _0x43ba88=>await this[_0x59461e(0x7dc)](_0x43ba88),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x55de18){const _0x2b5e6b=_0x59461e;return _0x55de18[_0x2b5e6b(0x7f7)]?.[_0x2b5e6b(0x418)]?.[_0x2b5e6b(0x50f)]?.[_0x2b5e6b(0x592)]===w[_0x2b5e6b(0x369)][_0x2b5e6b(0x6c1)][_0x2b5e6b(0x591)][_0x2b5e6b(0x36b)][_0x2b5e6b(0x4ef)]&&(_0x55de18=JSON[_0x2b5e6b(0x724)](JSON[_0x2b5e6b(0x2b0)](_0x55de18)),_0x55de18['deviceSentMessage'][_0x2b5e6b(0x418)][_0x2b5e6b(0x50f)][_0x2b5e6b(0x592)]=w[_0x2b5e6b(0x369)][_0x2b5e6b(0x6c1)][_0x2b5e6b(0x591)][_0x2b5e6b(0x36b)][_0x2b5e6b(0x7cd)]),_0x55de18[_0x2b5e6b(0x50f)]?.['listType']==w[_0x2b5e6b(0x369)][_0x2b5e6b(0x6c1)][_0x2b5e6b(0x591)]['ListType'][_0x2b5e6b(0x4ef)]&&(_0x55de18=JSON[_0x2b5e6b(0x724)](JSON[_0x2b5e6b(0x2b0)](_0x55de18)),_0x55de18[_0x2b5e6b(0x50f)][_0x2b5e6b(0x592)]=w[_0x2b5e6b(0x369)]['Message']['ListMessage'][_0x2b5e6b(0x36b)][_0x2b5e6b(0x7cd)]),_0x55de18;}};return this[_0x59461e(0x597)]=!0x1,this[_0x59461e(0x399)]=(0x0,w['default'])(_0xba0e4a),this['eventHandler'](),this[_0x59461e(0x451)]=_0x158dff,this[_0x59461e(0x399)];}catch(_0x5ac874){let _0x43e1c8=_0x59461e(0x7cb),_0x4d7f2a=_0x5ac874 instanceof Error?_0x5ac874[_0x59461e(0x418)]:typeof _0x5ac874=='object'?JSON[_0x59461e(0x2b0)](_0x5ac874):_0x5ac874,_0x39985d=_0x43e1c8+':\x20'+_0x4d7f2a;throw this[_0x59461e(0x45d)][_0x59461e(0x91c)](this[_0x59461e(0x86e)]+'\x20('+this[_0x59461e(0x60f)][_0x59461e(0x586)]+_0x59461e(0x8fe)+_0x39985d),console[_0x59461e(0x91c)]('Detalhes\x20do\x20erro:',_0x5ac874),_0x5ac874 instanceof Error&&console[_0x59461e(0x91c)](_0x59461e(0x8d4),_0x5ac874[_0x59461e(0x2a5)]),new x(_0x39985d);}}[a0_0x4fa287(0x621)](){const _0x54cb77=a0_0x4fa287;this[_0x54cb77(0x399)]['ev']['process'](_0x6c80fc=>{const _0x50c749=_0x54cb77;if(!this[_0x50c749(0x597)]){let _0x5e33f7=this[_0x50c749(0x5ca)][_0x50c749(0x37b)](_0x50c749(0x614));if(_0x6c80fc[_0x50c749(0x66b)]){let _0x409768=_0x6c80fc[_0x50c749(0x66b)];this[_0x50c749(0x682)]['labels.edit'](_0x409768);}if(_0x6c80fc[_0x50c749(0x8b4)]){let _0xbb209b=_0x6c80fc[_0x50c749(0x8b4)];this[_0x50c749(0x682)][_0x50c749(0x8b4)](_0xbb209b);}if(_0x6c80fc[_0x50c749(0x589)]&&this[_0x50c749(0x468)](_0x6c80fc[_0x50c749(0x589)]),_0x6c80fc['creds.update']&&this[_0x50c749(0x60f)][_0x50c749(0x738)][_0x50c749(0x417)](),_0x6c80fc['messaging-history.set']){let _0x499331=_0x6c80fc[_0x50c749(0x581)];this[_0x50c749(0x682)][_0x50c749(0x581)](_0x499331,_0x5e33f7);}if(_0x6c80fc[_0x50c749(0x351)]){let _0x556955=_0x6c80fc[_0x50c749(0x351)];this[_0x50c749(0x682)][_0x50c749(0x351)](_0x556955,_0x5e33f7);}if(_0x6c80fc[_0x50c749(0x8a7)]){let _0x5cba74=_0x6c80fc[_0x50c749(0x8a7)];this[_0x50c749(0x682)][_0x50c749(0x8a7)](_0x5cba74,_0x5e33f7);}if(_0x6c80fc[_0x50c749(0x7be)]){let _0x3812df=_0x6c80fc[_0x50c749(0x7be)];if(this[_0x50c749(0x7fe)]?.[_0x50c749(0x406)]&&_0x3812df['id']['includes']('@g.us'))return;this[_0x50c749(0x413)](_0x50c749(0x7be),_0x3812df);}if(_0x6c80fc[_0x50c749(0x913)]){let _0x681e38=_0x6c80fc['groups.upsert'];this[_0x50c749(0x5ae)][_0x50c749(0x913)](_0x681e38);}if(_0x6c80fc[_0x50c749(0x1f7)]){let _0x3dff68=_0x6c80fc[_0x50c749(0x1f7)];this[_0x50c749(0x5ae)]['groups.update'](_0x3dff68);}if(_0x6c80fc['group-participants.update']){let _0x4f2acd=_0x6c80fc[_0x50c749(0x35b)];this[_0x50c749(0x5ae)][_0x50c749(0x35b)](_0x4f2acd);}if(_0x6c80fc[_0x50c749(0x81e)]){let _0x1ab155=_0x6c80fc[_0x50c749(0x81e)];this[_0x50c749(0x5da)][_0x50c749(0x81e)](_0x1ab155,_0x5e33f7);}if(_0x6c80fc['chats.update']){let _0x1b13be=_0x6c80fc['chats.update'];this[_0x50c749(0x5da)]['chats.update'](_0x1b13be,_0x5e33f7);}if(_0x6c80fc[_0x50c749(0x7ae)]){let _0x1d0df8=_0x6c80fc[_0x50c749(0x7ae)];this['chatHandle']['chats.delete'](_0x1d0df8);}if(_0x6c80fc[_0x50c749(0x3a1)]){let _0x21a032=_0x6c80fc[_0x50c749(0x3a1)];this['contactHandle'][_0x50c749(0x3a1)](_0x21a032,_0x5e33f7);}if(_0x6c80fc[_0x50c749(0x7a8)]){let _0x49701a=_0x6c80fc[_0x50c749(0x7a8)];this[_0x50c749(0x3e6)][_0x50c749(0x7a8)](_0x49701a,_0x5e33f7);}}});}async['retrySendMessage'](_0x541b7a,_0xacf0f6){const _0x4555da=a0_0x4fa287;if(_0xacf0f6>=0xa){console[_0x4555da(0x91c)](this['instanceName']+'\x20('+this[_0x4555da(0x60f)][_0x4555da(0x586)]+_0x4555da(0x5ed)),delete qt[_0x541b7a[_0x4555da(0x27b)]['id']];return;}try{console[_0x4555da(0x91c)](this['instanceName']+'\x20('+this[_0x4555da(0x60f)][_0x4555da(0x586)]+_0x4555da(0x31b)+(_0xacf0f6+0x1)),await this[_0x4555da(0x399)][_0x4555da(0x390)](JSON[_0x4555da(0x724)](_0x541b7a[_0x4555da(0x67e)][0x1],w[_0x4555da(0x643)]['reviver'])),console[_0x4555da(0x91c)]('[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso');}catch(_0x41f7b1){console[_0x4555da(0x91c)](this[_0x4555da(0x86e)]+'\x20('+this[_0x4555da(0x60f)][_0x4555da(0x586)]+'):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20'+_0x41f7b1),setTimeout(()=>this['retrySendMessage'](_0x541b7a,_0xacf0f6+0x1),Math[_0x4555da(0x446)](0x2,_0xacf0f6)*0x3e8);}}[a0_0x4fa287(0x555)](_0xb57d2c){return new Promise(_0x17a92a=>setTimeout(_0x17a92a,_0xb57d2c));}['formatBRNumber'](_0x590a87){const _0x12905a=a0_0x4fa287;_0x590a87=_0x590a87[_0x12905a(0x2a9)](/\D/g,'');let _0x467d1e=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x590a87);if(_0x467d1e&&_0x467d1e[0x1]==='55'){let _0x4020e0=_0x467d1e[0x2],_0xe8cf1=_0x467d1e[0x3],_0x10bf13=_0x467d1e[0x4];if(parseInt(_0x4020e0)>=0x1f&&_0xe8cf1==='9')return _0x467d1e[0x1]+_0x4020e0+_0x10bf13;}return _0x590a87;}['createJid'](_0x32cb1c){const _0x5a3f8c=a0_0x4fa287;return _0x32cb1c['includes'](_0x5a3f8c(0x3c2))||_0x32cb1c[_0x5a3f8c(0x7f1)](_0x5a3f8c(0x37e))||_0x32cb1c[_0x5a3f8c(0x7f1)]('@broadcast')?_0x32cb1c:(_0x32cb1c=_0x32cb1c?.['replace'](/\s/g,'')[_0x5a3f8c(0x2a9)](/\+/g,'')['replace'](/\(/g,'')[_0x5a3f8c(0x2a9)](/\)/g,'')[_0x5a3f8c(0x916)](/\:/)[0x0][_0x5a3f8c(0x916)]('@')[0x0],_0x32cb1c[_0x5a3f8c(0x875)]>=0x12?(_0x32cb1c=_0x32cb1c[_0x5a3f8c(0x2a9)](/[^\d-]/g,''),_0x32cb1c+_0x5a3f8c(0x3c2)):(_0x32cb1c=_0x32cb1c[_0x5a3f8c(0x2a9)](/\D/g,''),_0x32cb1c+_0x5a3f8c(0x37e)));}async['updatePresence'](_0x32ee67){const _0x11129d=a0_0x4fa287;let _0x11b1ed=(await this['whatsappNumber']({'numbers':[_0x32ee67['number']]}))[0x0];if(!_0x11b1ed[_0x11129d(0x209)]&&!(0x0,w[_0x11129d(0x5b4)])(_0x11b1ed[_0x11129d(0x35f)])&&!_0x11b1ed[_0x11129d(0x35f)]['includes'](_0x11129d(0x608)))throw new m(_0x11b1ed);let _0x119f6c=_0x11b1ed['jid'];try{return await this['client'][_0x11129d(0x1f6)](_0x119f6c),await this['client'][_0x11129d(0x620)](_0x32ee67[_0x11129d(0x358)],_0x119f6c),{'status':0xc8,'presence':_0x32ee67[_0x11129d(0x358)]};}catch(_0x2c6a69){let _0x957400='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence',_0x95816e=_0x2c6a69 instanceof Error?_0x2c6a69[_0x11129d(0x418)]:typeof _0x2c6a69==_0x11129d(0x2e5)?JSON[_0x11129d(0x2b0)](_0x2c6a69):_0x2c6a69,_0x39c9dc=_0x957400+':\x20'+_0x95816e;throw this[_0x11129d(0x45d)]['error'](this['instanceName']+'\x20('+this[_0x11129d(0x60f)][_0x11129d(0x586)]+_0x11129d(0x8fe)+_0x39c9dc),new m(_0x39c9dc);}}async[a0_0x4fa287(0x735)](_0x47b4ad,_0x48e7a1,_0x241e5d,_0x46c4c3=!0x0){const _0x58cd86=a0_0x4fa287;let _0x1d4a27=await this['repository'][_0x58cd86(0x694)][_0x58cd86(0x6bc)]({'where':{'_id':_0x47b4ad}});if(!_0x1d4a27&&!_0x46c4c3)return;let _0x2b10df={'lastUpdate':Date['now']()};if(_0x241e5d||!_0x1d4a27?.[_0x58cd86(0x8e3)]||Date[_0x58cd86(0x6b0)]()-_0x1d4a27[_0x58cd86(0x8e3)]>0x18*0x3c*0x3c*0x3e8)try{let _0x3b184a=(await this[_0x58cd86(0x65a)](_0x47b4ad))[_0x58cd86(0x806)];_0x2b10df[_0x58cd86(0x774)]=_0x3b184a;}catch(_0x37f398){let _0x5dc067=_0x58cd86(0x890),_0x2609c3=_0x37f398 instanceof Error?_0x37f398[_0x58cd86(0x418)]:typeof _0x37f398==_0x58cd86(0x2e5)?JSON[_0x58cd86(0x2b0)](_0x37f398):_0x37f398,_0x2987ce=_0x5dc067+':\x20'+_0x2609c3;throw this[_0x58cd86(0x45d)]['error'](this['instanceName']+'\x20('+this[_0x58cd86(0x60f)][_0x58cd86(0x586)]+_0x58cd86(0x8fe)+_0x2987ce),new m(_0x2987ce);}return _0x48e7a1&&_0x1d4a27?.[_0x58cd86(0x378)]!==_0x48e7a1&&(_0x2b10df[_0x58cd86(0x378)]=_0x48e7a1),Object[_0x58cd86(0x647)](_0x2b10df)[_0x58cd86(0x875)]>0x1&&(_0x1d4a27?await this[_0x58cd86(0x830)][_0x58cd86(0x694)][_0x58cd86(0x48b)]({'where':{'_id':_0x47b4ad}},_0x2b10df):await this['repository'][_0x58cd86(0x694)][_0x58cd86(0x423)]([{'_id':_0x47b4ad,..._0x2b10df}]),_0x1d4a27={..._0x1d4a27,..._0x2b10df}),{'cachedContact':_0x1d4a27};}async[a0_0x4fa287(0x65a)](_0x459141){const _0x36062c=a0_0x4fa287;let _0x2952a1=this[_0x36062c(0x3a2)](_0x459141);try{return{'wuid':_0x2952a1,'profilePictureUrl':await this['client'][_0x36062c(0x806)](_0x2952a1,_0x36062c(0x515))};}catch{return{'wuid':_0x2952a1,'profilePictureUrl':null};}}async[a0_0x4fa287(0x40a)](_0x516b43,_0xefa9dc,_0x5ab215){const _0x59f341=a0_0x4fa287;let _0x2e91ba;try{let _0x2f8c5d=(await this['whatsappNumber']({'numbers':[_0x516b43]}))?.[_0x59f341(0x4e8)]();if(!_0x2f8c5d[_0x59f341(0x209)]&&!(0x0,w['isJidGroup'])(_0x2f8c5d['jid'])&&!_0x2f8c5d['jid'][_0x59f341(0x7f1)](_0x59f341(0x608)))throw new m(_0x2f8c5d);_0x2e91ba=_0x2f8c5d[_0x59f341(0x35f)];}catch(_0x5de805){_0x2e91ba=_0x516b43,this[_0x59f341(0x45d)][_0x59f341(0x27c)](this[_0x59f341(0x86e)]+'\x20('+this[_0x59f341(0x60f)][_0x59f341(0x586)]+_0x59f341(0x24b)+_0x5de805[_0x59f341(0x418)]),this['logger'][_0x59f341(0x27c)](this[_0x59f341(0x86e)]+'\x20('+this[_0x59f341(0x60f)][_0x59f341(0x586)]+_0x59f341(0x839)+_0x2e91ba);}try{if(_0x2e91ba||(_0x2e91ba=_0x516b43,this['logger']['warn'](this[_0x59f341(0x86e)]+'\x20('+this[_0x59f341(0x60f)][_0x59f341(0x586)]+_0x59f341(0x5a8)+_0x2e91ba)),_0x5ab215||(_0x5ab215={}),_0x5ab215?.[_0x59f341(0x662)]){await this[_0x59f341(0x399)][_0x59f341(0x1f6)](_0x2e91ba),await this[_0x59f341(0x399)][_0x59f341(0x620)](_0x5ab215?.['presence']??_0x59f341(0x5be),_0x2e91ba);let _0x1c9404=Math['min'](_0x5ab215[_0x59f341(0x662)],0x2710);await(0x0,w[_0x59f341(0x662)])(_0x1c9404),await this[_0x59f341(0x399)][_0x59f341(0x620)](_0x59f341(0x2a2),_0x2e91ba);}let _0x1e15fc=_0x5ab215?.[_0x59f341(0x372)]!=!0x1?void 0x0:!0x1,_0xd46aae;if(_0x5ab215?.[_0x59f341(0x5ac)]){let _0x5f1624=_0x5ab215?.[_0x59f341(0x5ac)],_0x1bec04=_0x5f1624?.['message']?_0x5f1624:await this['getMessage'](_0x5f1624[_0x59f341(0x27b)],!0x0);_0x1bec04&&(_0xd46aae=_0x1bec04);}let _0x2194e1=await this[_0x59f341(0x830)][_0x59f341(0x2ef)][_0x59f341(0x6bc)]({'where':{'_id':_0x2e91ba}},this[_0x59f341(0x60f)]['wuid']),_0x4c8d9c,_0x1c95b3=null;if((0x0,w[_0x59f341(0x5b4)])(_0x2e91ba))try{if(_0x1c95b3=_0x2194e1[_0x59f341(0x607)],!_0x1c95b3)throw new J('Group\x20not\x20found');_0x5ab215?.[_0x59f341(0x853)]&&(_0x5ab215[_0x59f341(0x853)]?.[_0x59f341(0x6b4)]?_0x4c8d9c=_0x1c95b3[_0x59f341(0x3b6)][_0x59f341(0x465)](_0x4d300f=>_0x4d300f['id']):_0x5ab215[_0x59f341(0x853)]?.[_0x59f341(0x4dc)]?.[_0x59f341(0x875)]&&(_0x4c8d9c=_0x5ab215[_0x59f341(0x853)]['mentioned'][_0x59f341(0x465)](_0xe3435=>{const _0x32e406=_0x59f341;let _0x1297b5=this['createJid'](_0xe3435);return(0x0,w[_0x32e406(0x5b4)])(_0x1297b5)?null:_0x1297b5;})));}catch{throw new J(_0x59f341(0x33e));}let _0x4b2bf2=await((async()=>{const _0x4e07c9=_0x59f341;let _0x15cfea={'quoted':_0xd46aae,'ephemeralExpiration':_0x2194e1?.['ephemeralExpiration']??0x0,'messageId':_0x4e07c9(0x924)+(0x0,Re[_0x4e07c9(0x84e)])(0x12)[_0x4e07c9(0x644)](_0x4e07c9(0x712))[_0x4e07c9(0x296)]()};if(!_0xefa9dc[_0x4e07c9(0x402)]&&!_0xefa9dc[_0x4e07c9(0x322)]&&!_0xefa9dc['sticker']&&!_0xefa9dc[_0x4e07c9(0x5a4)]&&_0x2e91ba!=='status@broadcast'&&_0xefa9dc[_0x4e07c9(0x5d3)])return await this[_0x4e07c9(0x399)][_0x4e07c9(0x598)](_0x2e91ba,{'react':{'text':_0xefa9dc[_0x4e07c9(0x5d3)]['text'],'key':_0xefa9dc['reactionMessage'][_0x4e07c9(0x27b)]}},_0x15cfea);if(_0xefa9dc[_0x4e07c9(0x5a4)]){let _0x49dd4f=_0xefa9dc[_0x4e07c9(0x5a4)];return _0x5ab215?.[_0x4e07c9(0x660)]&&(_0x49dd4f=await this[_0x4e07c9(0x4d5)](_0x49dd4f,_0x2e91ba)),await this['client'][_0x4e07c9(0x598)](_0x2e91ba,{'text':_0x49dd4f,'mentions':_0x4c8d9c,'linkPreview':_0x1e15fc},_0x15cfea);}return!_0xefa9dc['audio']&&!_0xefa9dc['poll']&&_0x2e91ba!=_0x4e07c9(0x693)?await this[_0x4e07c9(0x399)][_0x4e07c9(0x598)](_0x2e91ba,{'forward':{'key':{'remoteJid':this[_0x4e07c9(0x60f)][_0x4e07c9(0x586)],'fromMe':!0x0},'message':_0xefa9dc},'mentions':_0x4c8d9c},_0x15cfea):_0x2e91ba==='status@broadcast'?await this['client']['sendMessage'](_0x2e91ba,_0xefa9dc[_0x4e07c9(0x370)][_0x4e07c9(0x8ac)],{'backgroundColor':_0xefa9dc[_0x4e07c9(0x370)][_0x4e07c9(0x81a)][_0x4e07c9(0x371)],'font':_0xefa9dc[_0x4e07c9(0x370)][_0x4e07c9(0x81a)][_0x4e07c9(0x337)],'statusJidList':_0xefa9dc[_0x4e07c9(0x370)]['option'][_0x4e07c9(0x40f)]}):await this[_0x4e07c9(0x399)][_0x4e07c9(0x598)](_0x2e91ba,_0xefa9dc,_0x15cfea);})()),_0x301c6b=(0x0,w[_0x59f341(0x5bc)])(_0x4b2bf2[_0x59f341(0x418)]),_0x40a3e5=(0x0,w['getContentType'])(_0x301c6b),{message_normalized:_0x43fdab}=this[_0x59f341(0x8a1)](_0x301c6b,_0x40a3e5,null),_0x12f21f={'_id':_0x4b2bf2[_0x59f341(0x27b)]['id'],'key':_0x4b2bf2[_0x59f341(0x27b)],'pushName':_0x4b2bf2[_0x59f341(0x8c2)],'isGroup':_0x4b2bf2[_0x59f341(0x27b)]['remoteJid'][_0x59f341(0x8a5)](_0x59f341(0x3c2)),'profilePictureUrl':this[_0x59f341(0x60f)]['profilePictureUrl'],'message':_0x301c6b,'messageType':_0x40a3e5,'message_normalized':{'key':_0x4b2bf2[_0x59f341(0x27b)],'pushName':_0x4b2bf2['pushName'],'messageTimestamp':_0x4b2bf2[_0x59f341(0x3bf)]&&_0x4b2bf2[_0x59f341(0x3bf)][_0x59f341(0x644)]()['length']<0xd?_0x4b2bf2[_0x59f341(0x3bf)]*0x3e8:_0x4b2bf2[_0x59f341(0x3bf)]||null,'source':(0x0,w[_0x59f341(0x510)])(_0x4b2bf2['key']['id']),..._0x43fdab},'messageTimestamp':_0x4b2bf2[_0x59f341(0x3bf)]&&_0x4b2bf2[_0x59f341(0x3bf)][_0x59f341(0x644)]()[_0x59f341(0x875)]<0xd?_0x4b2bf2[_0x59f341(0x3bf)]*0x3e8:_0x4b2bf2[_0x59f341(0x3bf)]||null,'owner':this['instance'][_0x59f341(0x586)],'source':(0x0,w['getDevice'])(_0x4b2bf2[_0x59f341(0x27b)]['id'])};return this[_0x59f341(0x45d)]['warn'](this[_0x59f341(0x86e)]+'\x20('+this['instance']['wuid']+_0x59f341(0x4cd)+_0x12f21f[_0x59f341(0x27b)]?.['remoteJid'][_0x59f341(0x2a9)](_0x59f341(0x37e),'')+_0x59f341(0x657)+_0x12f21f[_0x59f341(0x874)]+')'),_0x12f21f[_0x59f341(0x4e9)]?.[_0x59f341(0x236)]&&this[_0x59f341(0x45d)]['warn'](_0x12f21f[_0x59f341(0x4e9)]?.[_0x59f341(0x236)]),this['sendDataWebhook'](_0x59f341(0x600),_0x12f21f),q(this[_0x59f341(0x86e)],_0x59f341(0x84d),{'message':_0x12f21f}),this['updateChatWithMessage'](this['configService'][_0x59f341(0x37b)](_0x59f341(0x614)),_0x12f21f,_0x59f341(0x5d0),_0x2194e1),await this[_0x59f341(0x830)]['message'][_0x59f341(0x423)]([_0x12f21f],this[_0x59f341(0x60f)][_0x59f341(0x586)]),_0x4b2bf2;}catch(_0x50e428){let _0x3bf86d='Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20'+_0x2e91ba,_0x34e74d=_0x50e428 instanceof Error?_0x50e428[_0x59f341(0x418)]:typeof _0x50e428==_0x59f341(0x2e5)?JSON['stringify'](_0x50e428):_0x50e428,_0x412c5=_0x3bf86d+':\x20'+_0x34e74d;throw this['logger']['error'](this[_0x59f341(0x86e)]+'\x20('+this[_0x59f341(0x60f)]['wuid']+_0x59f341(0x8fe)+_0x412c5),new m(_0x412c5);}}get[a0_0x4fa287(0x571)](){const _0x1e8199=a0_0x4fa287;return this[_0x1e8199(0x2f3)];}async[a0_0x4fa287(0x24d)](_0xf586f5){const _0x24fb4a=a0_0x4fa287;return await this['sendMessageWithTyping'](_0xf586f5[_0x24fb4a(0x3c7)],{'conversation':_0xf586f5['textMessage']['text']},_0xf586f5?.[_0x24fb4a(0x79a)]);}async['formatStatusMessage'](_0x2e876d){const _0x1d6007=a0_0x4fa287;if(!_0x2e876d[_0x1d6007(0x429)])throw new m(_0x1d6007(0x91f));if(!_0x2e876d[_0x1d6007(0x8ac)])throw new m(_0x1d6007(0x573));if(_0x2e876d[_0x1d6007(0x6a7)]){let _0x3b96cb=await this[_0x1d6007(0x830)][_0x1d6007(0x5c0)][_0x1d6007(0x896)]({'where':{}},this['instance'][_0x1d6007(0x586)]);if(!_0x3b96cb[_0x1d6007(0x875)])throw new m(_0x1d6007(0x2b8));_0x2e876d[_0x1d6007(0x40f)]=_0x3b96cb[_0x1d6007(0x314)](_0x321bdb=>_0x321bdb['pushName'])[_0x1d6007(0x465)](_0x56911e=>_0x56911e[_0x1d6007(0x817)]);}if(!_0x2e876d['statusJidList']?.[_0x1d6007(0x875)]&&!_0x2e876d['allContacts'])throw new m(_0x1d6007(0x3d5));if(_0x2e876d['type']===_0x1d6007(0x236)){if(!_0x2e876d[_0x1d6007(0x371)])throw new m('Background\x20color\x20is\x20required');if(!_0x2e876d['font'])throw new m(_0x1d6007(0x463));return{'content':{'text':_0x2e876d[_0x1d6007(0x8ac)]},'option':{'backgroundColor':_0x2e876d[_0x1d6007(0x371)],'font':_0x2e876d[_0x1d6007(0x337)],'statusJidList':_0x2e876d[_0x1d6007(0x40f)]}};}if(_0x2e876d['type']==='image')return{'content':{'image':{'url':_0x2e876d[_0x1d6007(0x8ac)]},'caption':_0x2e876d[_0x1d6007(0x865)]},'option':{'statusJidList':_0x2e876d[_0x1d6007(0x40f)]}};if(_0x2e876d[_0x1d6007(0x429)]===_0x1d6007(0x269))return{'content':{'video':{'url':_0x2e876d[_0x1d6007(0x8ac)]},'caption':_0x2e876d[_0x1d6007(0x865)]},'option':{'statusJidList':_0x2e876d[_0x1d6007(0x40f)]}};if(_0x2e876d[_0x1d6007(0x429)]===_0x1d6007(0x402)){this[_0x1d6007(0x45d)][_0x1d6007(0x6b6)](this['instanceName']+'\x20('+this[_0x1d6007(0x60f)][_0x1d6007(0x586)]+_0x1d6007(0x88a)),this[_0x1d6007(0x45d)]['verbose'](this[_0x1d6007(0x86e)]+'\x20('+this[_0x1d6007(0x60f)][_0x1d6007(0x586)]+'):Processing\x20audio');let _0x12e1fa=await this[_0x1d6007(0x3a5)](_0x2e876d[_0x1d6007(0x8ac)]);if(typeof _0x12e1fa==_0x1d6007(0x88c)){this[_0x1d6007(0x45d)][_0x1d6007(0x6b6)](this[_0x1d6007(0x86e)]+'\x20('+this[_0x1d6007(0x60f)]['wuid']+_0x1d6007(0x493));let _0x34be92=F[_0x1d6007(0x51b)](_0x12e1fa)['toString'](_0x1d6007(0x2b2));return{'content':{'audio':Buffer['from'](_0x34be92,'base64'),'ptt':!0x0,'mimetype':'audio/ogg'},'option':{'statusJidList':_0x2e876d['statusJidList']}};}else throw new x(_0x12e1fa);}throw new m('Type\x20not\x20found');}async[a0_0x4fa287(0x62b)](_0xf313c7){const _0x56cce0=a0_0x4fa287;return await this[_0x56cce0(0x40a)]('status@broadcast',{'status':await this[_0x56cce0(0x439)](_0xf313c7[_0x56cce0(0x62b)])});}async[a0_0x4fa287(0x91e)](_0x46a6aa){const _0x4f4d28=a0_0x4fa287;try{let _0x18eb39=await(0x0,w['prepareWAMessageMedia'])({[_0x46a6aa[_0x4f4d28(0x8f0)]]:(0x0,L['isURL'])(_0x46a6aa[_0x4f4d28(0x5f4)])?{'url':_0x46a6aa['media']}:Buffer[_0x4f4d28(0x7c8)](_0x46a6aa[_0x4f4d28(0x5f4)],_0x4f4d28(0x2b2))},{'upload':this[_0x4f4d28(0x399)][_0x4f4d28(0x4e2)]}),_0x567186=_0x46a6aa[_0x4f4d28(0x8f0)]+_0x4f4d28(0x6c1);if(_0x46a6aa[_0x4f4d28(0x8f0)]===_0x4f4d28(0x545)&&!_0x46a6aa[_0x4f4d28(0x61d)]){let _0x29e7a6=new RegExp(/.*\/(.+?)\./)[_0x4f4d28(0x323)](_0x46a6aa[_0x4f4d28(0x5f4)]);_0x46a6aa[_0x4f4d28(0x61d)]=_0x29e7a6?_0x29e7a6[0x1]:null;}let _0x56273c;return(0x0,L[_0x4f4d28(0x52c)])(_0x46a6aa[_0x4f4d28(0x5f4)])?_0x56273c=(await te[_0x4f4d28(0x796)][_0x4f4d28(0x37b)](_0x46a6aa['media'],{'responseType':_0x4f4d28(0x905)}))[_0x4f4d28(0x507)][_0x4f4d28(0x709)]:_0x56273c=(0x0,Pi[_0x4f4d28(0x283)])(_0x46a6aa[_0x4f4d28(0x61d)]),_0x18eb39[_0x567186][_0x4f4d28(0x865)]=_0x46a6aa?.['caption'],_0x18eb39[_0x567186]['mimetype']=_0x56273c,_0x18eb39[_0x567186][_0x4f4d28(0x61d)]=_0x46a6aa[_0x4f4d28(0x61d)],_0x46a6aa[_0x4f4d28(0x8f0)]==='video'&&(_0x18eb39[_0x567186]['jpegThumbnail']=Uint8Array[_0x4f4d28(0x7c8)]((0x0,Ue[_0x4f4d28(0x51b)])((0x0,j['join'])(process[_0x4f4d28(0x391)](),'video-cover.png'))),_0x18eb39[_0x567186][_0x4f4d28(0x6e1)]=!0x1),(0x0,w[_0x4f4d28(0x50e)])('',{[_0x567186]:{..._0x18eb39[_0x567186]}},{'userJid':this[_0x4f4d28(0x60f)]['wuid']});}catch(_0x37ca76){let _0x1363df=_0x4f4d28(0x327),_0x431f87=_0x37ca76 instanceof Error?_0x37ca76[_0x4f4d28(0x418)]:typeof _0x37ca76==_0x4f4d28(0x2e5)?JSON[_0x4f4d28(0x2b0)](_0x37ca76):_0x37ca76,_0x706382=_0x1363df+':\x20'+_0x431f87;throw this[_0x4f4d28(0x45d)][_0x4f4d28(0x91c)](this[_0x4f4d28(0x86e)]+'\x20('+this[_0x4f4d28(0x60f)][_0x4f4d28(0x586)]+'):\x20'+_0x706382),new x(_0x706382);}}async['mediaMessage'](_0x567183){const _0x2c8c8f=a0_0x4fa287;let _0x1ba78c=await this[_0x2c8c8f(0x91e)](_0x567183[_0x2c8c8f(0x867)]);return await this[_0x2c8c8f(0x40a)](_0x567183[_0x2c8c8f(0x3c7)],{..._0x1ba78c[_0x2c8c8f(0x418)]},_0x567183?.[_0x2c8c8f(0x79a)]);}async[a0_0x4fa287(0x58d)](_0xa0cb4f,_0x47f029){const _0x244e82=a0_0x4fa287;try{this[_0x244e82(0x45d)][_0x244e82(0x6b6)](this['instanceName']+'\x20('+this[_0x244e82(0x60f)][_0x244e82(0x586)]+_0x244e82(0x6e2));let _0xa0aed9,_0x1108e8=_0x47f029+'-'+new Date()[_0x244e82(0x878)]();this[_0x244e82(0x45d)][_0x244e82(0x6b6)](this['instanceName']+'\x20('+this[_0x244e82(0x60f)][_0x244e82(0x586)]+_0x244e82(0x481)+_0x1108e8);let _0x102407=''+(0x0,j[_0x244e82(0x82f)])(this['storePath'],_0x1108e8+_0x244e82(0x563));if(this['logger'][_0x244e82(0x6b6)](this[_0x244e82(0x86e)]+'\x20('+this[_0x244e82(0x60f)][_0x244e82(0x586)]+_0x244e82(0x775)+_0x102407),(0x0,L[_0x244e82(0x42d)])(_0xa0cb4f)){this[_0x244e82(0x45d)][_0x244e82(0x6b6)](this[_0x244e82(0x86e)]+'\x20('+this[_0x244e82(0x60f)][_0x244e82(0x586)]+_0x244e82(0x580));let _0x207c50=_0xa0cb4f[_0x244e82(0x2a9)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x2425f6=Buffer[_0x244e82(0x7c8)](_0x207c50,_0x244e82(0x2b2));_0xa0aed9=''+(0x0,j[_0x244e82(0x82f)])(this[_0x244e82(0x396)],_0x244e82(0x1fa)+_0x1108e8+_0x244e82(0x4d8)),this['logger'][_0x244e82(0x6b6)](this[_0x244e82(0x86e)]+'\x20('+this[_0x244e82(0x60f)]['wuid']+_0x244e82(0x52e)+_0xa0aed9),await(0x0,Gt[_0x244e82(0x796)])(_0x2425f6)['toFile'](_0xa0aed9),this[_0x244e82(0x45d)][_0x244e82(0x6b6)](this['instanceName']+'\x20('+this[_0x244e82(0x60f)]['wuid']+'):Image\x20created');}else{this['logger']['verbose'](this[_0x244e82(0x86e)]+'\x20('+this[_0x244e82(0x60f)][_0x244e82(0x586)]+'):Image\x20is\x20url');let _0x14f689=new Date()[_0x244e82(0x878)](),_0x5c4352=_0xa0cb4f+_0x244e82(0x5a7)+_0x14f689;this['logger']['verbose'](this[_0x244e82(0x86e)]+'\x20('+this[_0x244e82(0x60f)][_0x244e82(0x586)]+_0x244e82(0x4f8)+_0x5c4352);let _0x2ea17d=await te[_0x244e82(0x796)][_0x244e82(0x37b)](_0x5c4352,{'responseType':_0x244e82(0x905)});this[_0x244e82(0x45d)][_0x244e82(0x6b6)](this['instanceName']+'\x20('+this[_0x244e82(0x60f)][_0x244e82(0x586)]+_0x244e82(0x84b));let _0x271db9=Buffer['from'](_0x2ea17d[_0x244e82(0x5ee)],'binary');_0xa0aed9=''+(0x0,j[_0x244e82(0x82f)])(this[_0x244e82(0x396)],_0x244e82(0x1fa)+_0x1108e8+_0x244e82(0x4d8)),this[_0x244e82(0x45d)][_0x244e82(0x6b6)](this[_0x244e82(0x86e)]+'\x20('+this['instance']['wuid']+_0x244e82(0x52e)+_0xa0aed9),await(0x0,Gt['default'])(_0x271db9)[_0x244e82(0x522)](_0xa0aed9),this[_0x244e82(0x45d)]['verbose'](this[_0x244e82(0x86e)]+'\x20('+this[_0x244e82(0x60f)][_0x244e82(0x586)]+_0x244e82(0x76f));}return await(0x0,Gt[_0x244e82(0x796)])(_0xa0aed9)[_0x244e82(0x5e5)]()[_0x244e82(0x522)](_0x102407),this['logger'][_0x244e82(0x6b6)](this[_0x244e82(0x86e)]+'\x20('+this[_0x244e82(0x60f)][_0x244e82(0x586)]+'):Image\x20converted\x20to\x20WebP'),F[_0x244e82(0x8f3)](_0xa0aed9),this[_0x244e82(0x45d)][_0x244e82(0x6b6)](this[_0x244e82(0x86e)]+'\x20('+this[_0x244e82(0x60f)][_0x244e82(0x586)]+_0x244e82(0x4c9)),_0x102407;}catch(_0x6fdf28){let _0x7232d3='Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP',_0x4ec7bf=_0x6fdf28 instanceof Error?_0x6fdf28[_0x244e82(0x418)]:typeof _0x6fdf28=='object'?JSON[_0x244e82(0x2b0)](_0x6fdf28):_0x6fdf28,_0x42cffc=_0x7232d3+':\x20'+_0x4ec7bf;this[_0x244e82(0x45d)][_0x244e82(0x91c)](this[_0x244e82(0x86e)]+'\x20('+this['instance']['wuid']+_0x244e82(0x8fe)+_0x42cffc);}}async['mediaSticker'](_0x411410){const _0x312b25=a0_0x4fa287;let _0x54fe9d=await this[_0x312b25(0x58d)](_0x411410[_0x312b25(0x230)][_0x312b25(0x515)],_0x411410[_0x312b25(0x3c7)]),_0x5dfb39=await this[_0x312b25(0x40a)](_0x411410[_0x312b25(0x3c7)],{'sticker':{'url':_0x54fe9d}},_0x411410?.[_0x312b25(0x79a)]);return F[_0x312b25(0x8f3)](_0x54fe9d),this[_0x312b25(0x45d)][_0x312b25(0x6b6)](this[_0x312b25(0x86e)]+'\x20('+this[_0x312b25(0x60f)][_0x312b25(0x586)]+_0x312b25(0x3af)),_0x5dfb39;}async[a0_0x4fa287(0x6dd)](_0x470df9){const _0x431850=a0_0x4fa287;if(this[_0x431850(0x45d)][_0x431850(0x6b6)](this[_0x431850(0x86e)]+'\x20('+this[_0x431850(0x60f)][_0x431850(0x586)]+_0x431850(0x548)),!_0x470df9[_0x431850(0x79a)]?.['encoding']&&_0x470df9[_0x431850(0x79a)]?.['encoding']!==!0x1&&(_0x470df9['options'][_0x431850(0x53d)]=!0x0),_0x470df9[_0x431850(0x79a)]?.[_0x431850(0x53d)]){let _0x7e8575=await this['convertaudio'](_0x470df9[_0x431850(0x87e)][_0x431850(0x402)]);if(typeof _0x7e8575==_0x431850(0x88c)){let _0x5eb256=F[_0x431850(0x51b)](_0x7e8575)[_0x431850(0x644)](_0x431850(0x2b2));return this['sendMessageWithTyping'](_0x470df9[_0x431850(0x3c7)],{'audio':Buffer['from'](_0x5eb256,_0x431850(0x2b2)),'ptt':!0x0,'mimetype':_0x431850(0x652)},{'presence':_0x431850(0x7fc),'delay':_0x470df9?.[_0x431850(0x79a)]?.['delay']});}else throw new x(_0x7e8575);}return await this['sendMessageWithTyping'](_0x470df9[_0x431850(0x3c7)],{'audio':(0x0,L['isURL'])(_0x470df9[_0x431850(0x87e)][_0x431850(0x402)])?{'url':_0x470df9['audioMessage'][_0x431850(0x402)]}:Buffer[_0x431850(0x7c8)](_0x470df9['audioMessage'][_0x431850(0x402)],_0x431850(0x2b2)),'ptt':!0x0,'mimetype':_0x431850(0x652)},{'presence':_0x431850(0x7fc),'delay':_0x470df9?.[_0x431850(0x79a)]?.[_0x431850(0x662)]});}async[a0_0x4fa287(0x3a5)](_0x518ac8){const _0x9af693=a0_0x4fa287;this[_0x9af693(0x45d)][_0x9af693(0x6b6)](this[_0x9af693(0x86e)]+'\x20('+this[_0x9af693(0x60f)]['wuid']+_0x9af693(0x253));let _0x841ea=(0x0,L[_0x9af693(0x52c)])(_0x518ac8)?(0x0,Re[_0x9af693(0x43e)])('sha256')[_0x9af693(0x48b)](_0x518ac8)[_0x9af693(0x2b5)](_0x9af693(0x712)):(0x0,Re['createHash'])(_0x9af693(0x62e))[_0x9af693(0x48b)](_0x518ac8)['digest']('hex'),_0x1a4196=''+(0x0,j[_0x9af693(0x82f)])(this[_0x9af693(0x396)],_0x841ea+'.ogg');if(F[_0x9af693(0x5f0)](_0x1a4196))return this['logger'][_0x9af693(0x6b6)](this['instanceName']+'\x20('+this[_0x9af693(0x60f)][_0x9af693(0x586)]+'):Cached\x20audio\x20found,\x20returning\x20existing\x20file'),_0x1a4196;let _0x31149b=''+(0x0,j['join'])(this[_0x9af693(0x396)],_0x9af693(0x1fa)+(0x0,X['v4'])()+_0x9af693(0x630));if((0x0,L[_0x9af693(0x52c)])(_0x518ac8)){let _0x3c4efa=new Date()[_0x9af693(0x878)](),_0x57905d=_0x518ac8+'?timestamp='+_0x3c4efa,_0x16df89=await te[_0x9af693(0x796)][_0x9af693(0x37b)](_0x57905d,{'responseType':'arraybuffer'});F[_0x9af693(0x331)](_0x31149b,_0x16df89[_0x9af693(0x5ee)]);}else{let _0x52daee=Buffer[_0x9af693(0x7c8)](_0x518ac8,_0x9af693(0x2b2));F[_0x9af693(0x331)](_0x31149b,_0x52daee);}return new Promise((_0x278233,_0x1408d5)=>{const _0x4c2248=_0x9af693;(0x0,je['exec'])(Ps[_0x4c2248(0x796)][_0x4c2248(0x2de)]+_0x4c2248(0x411)+_0x31149b+_0x4c2248(0x3f9)+_0x1a4196+_0x4c2248(0x445),_0x1fd676=>{const _0x363440=_0x4c2248;if(F[_0x363440(0x8f3)](_0x31149b),_0x1fd676){this[_0x363440(0x45d)][_0x363440(0x6b6)](this[_0x363440(0x86e)]+'\x20('+this[_0x363440(0x60f)][_0x363440(0x586)]+_0x363440(0x3e0)),_0x1408d5(_0x1fd676);return;}this[_0x363440(0x45d)][_0x363440(0x6b6)](this[_0x363440(0x86e)]+'\x20('+this['instance'][_0x363440(0x586)]+'):Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x278233(_0x1a4196);});});}async[a0_0x4fa287(0x383)](_0x246b0a){const _0x49193e=a0_0x4fa287;this[_0x49193e(0x45d)][_0x49193e(0x6b6)](this[_0x49193e(0x86e)]+'\x20('+this[_0x49193e(0x60f)][_0x49193e(0x586)]+'):Processing\x20audio');let _0xb1e882=(0x0,Re[_0x49193e(0x43e)])('sha256')['update'](_0x246b0a)[_0x49193e(0x2b5)](_0x49193e(0x712)),_0x1f0e3c=''+(0x0,j[_0x49193e(0x82f)])(this[_0x49193e(0x396)],_0xb1e882+'.mp3');if(F[_0x49193e(0x5f0)](_0x1f0e3c))return this[_0x49193e(0x45d)][_0x49193e(0x6b6)](this[_0x49193e(0x86e)]+'\x20('+this[_0x49193e(0x60f)][_0x49193e(0x586)]+_0x49193e(0x6da)),j[_0x49193e(0x796)]['basename'](_0x1f0e3c);let _0x2d49b5=''+(0x0,j[_0x49193e(0x82f)])(this[_0x49193e(0x396)],_0x49193e(0x1fa)+_0xb1e882+'.ogg');if((0x0,L[_0x49193e(0x52c)])(_0x246b0a)){let _0x24d10b=new Date()['getTime'](),_0x54db1b=_0x246b0a+_0x49193e(0x5a7)+_0x24d10b,_0x499ae5=await te[_0x49193e(0x796)][_0x49193e(0x37b)](_0x54db1b,{'responseType':'arraybuffer'});F[_0x49193e(0x331)](_0x2d49b5,_0x499ae5['data']);}else{let _0x265ba7=Buffer[_0x49193e(0x7c8)](_0x246b0a,_0x49193e(0x2b2));F[_0x49193e(0x331)](_0x2d49b5,_0x265ba7);}return new Promise((_0x524d25,_0x5a5a37)=>{const _0x227cf8=_0x49193e;(0x0,je[_0x227cf8(0x323)])(Ps[_0x227cf8(0x796)][_0x227cf8(0x2de)]+_0x227cf8(0x411)+_0x2d49b5+_0x227cf8(0x47c)+_0x1f0e3c+'\x20-y',_0x367eee=>{const _0x383fad=_0x227cf8;if(F[_0x383fad(0x8f3)](_0x2d49b5),_0x367eee){this[_0x383fad(0x45d)][_0x383fad(0x6b6)](this[_0x383fad(0x86e)]+'\x20('+this[_0x383fad(0x60f)]['wuid']+'):Error\x20in\x20converting\x20audio'),_0x5a5a37(_0x367eee);return;}this[_0x383fad(0x45d)][_0x383fad(0x6b6)](this[_0x383fad(0x86e)]+'\x20('+this[_0x383fad(0x60f)]['wuid']+_0x383fad(0x8aa)),_0x524d25(j[_0x383fad(0x796)][_0x383fad(0x43b)](_0x1f0e3c));});});}async[a0_0x4fa287(0x575)](_0x297f51){const _0xd9d407=a0_0x4fa287;let _0x3ab16e={},_0x200a2b=_0xd9d407(0x310);if(_0x297f51[_0xd9d407(0x575)]?.[_0xd9d407(0x867)]){_0x200a2b=_0x297f51['buttonMessage']['mediaMessage']?.[_0xd9d407(0x8f0)][_0xd9d407(0x296)]()??_0xd9d407(0x310),_0x3ab16e[_0xd9d407(0x6ce)]=_0x200a2b[_0xd9d407(0x250)]()+'Message';let _0x1ef96a=await this[_0xd9d407(0x91e)](_0x297f51[_0xd9d407(0x575)]['mediaMessage']);_0x3ab16e[_0xd9d407(0x418)]=_0x1ef96a[_0xd9d407(0x418)][_0x3ab16e[_0xd9d407(0x6ce)]],_0x3ab16e[_0xd9d407(0x8f5)]='*'+_0x297f51['buttonMessage'][_0xd9d407(0x348)]+_0xd9d407(0x8a0)+_0x297f51['buttonMessage'][_0xd9d407(0x1d9)];}let _0x35992e={'text':_0x297f51[_0xd9d407(0x575)][_0xd9d407(0x8a2)][_0xd9d407(0x465)](_0x4995dc=>_0x4995dc[_0xd9d407(0x5ea)]),'ids':_0x297f51['buttonMessage'][_0xd9d407(0x8a2)]['map'](_0x35a2dd=>_0x35a2dd[_0xd9d407(0x420)])};if(!(0x0,L[_0xd9d407(0x25e)])(_0x35992e[_0xd9d407(0x236)])||!(0x0,L[_0xd9d407(0x25e)])(_0x35992e[_0xd9d407(0x6ae)]))throw new m(_0xd9d407(0x5fa),_0xd9d407(0x6f3));return await this[_0xd9d407(0x40a)](_0x297f51[_0xd9d407(0x3c7)],{'buttonsMessage':{'text':_0x3ab16e?.['mediaKey']?void 0x0:_0x297f51[_0xd9d407(0x575)][_0xd9d407(0x348)],'contentText':_0x3ab16e?.['contentText']??_0x297f51['buttonMessage'][_0xd9d407(0x1d9)],'footerText':_0x297f51[_0xd9d407(0x575)]?.[_0xd9d407(0x570)],'buttons':_0x297f51[_0xd9d407(0x575)][_0xd9d407(0x8a2)][_0xd9d407(0x465)](_0x3e10d4=>({'buttonText':{'displayText':_0x3e10d4[_0xd9d407(0x5ea)]},'buttonId':_0x3e10d4['buttonId'],'type':0x1})),'headerType':w['proto'][_0xd9d407(0x6c1)][_0xd9d407(0x2df)]['HeaderType'][_0x200a2b],[_0x3ab16e?.['mediaKey']]:_0x3ab16e?.[_0xd9d407(0x418)]}},_0x297f51?.[_0xd9d407(0x79a)]);}async[a0_0x4fa287(0x60a)](_0x5de4dc){const _0x1ce615=a0_0x4fa287;return await this['sendMessageWithTyping'](_0x5de4dc[_0x1ce615(0x3c7)],{'locationMessage':{'degreesLatitude':_0x5de4dc[_0x1ce615(0x60a)][_0x1ce615(0x6d3)],'degreesLongitude':_0x5de4dc[_0x1ce615(0x60a)][_0x1ce615(0x42f)],'name':_0x5de4dc[_0x1ce615(0x60a)]?.['name'],'address':_0x5de4dc[_0x1ce615(0x60a)]?.[_0x1ce615(0x8a6)]}},_0x5de4dc?.[_0x1ce615(0x79a)]);}async['contactMessage'](_0x24feab){const _0x32fc74=a0_0x4fa287;let _0x22ffbd={},_0xc25a0e=async _0x18d198=>{const _0x1009f5=a0_0x5643;let _0x3f3360=_0x1009f5(0x28c)+_0x18d198[_0x1009f5(0x69a)]+_0x1009f5(0x52a)+_0x18d198['fullName']+'\x0a';_0x18d198[_0x1009f5(0x227)]&&(_0x3f3360+='ORG:'+_0x18d198['organization']+';\x0a'),_0x18d198['email']&&(_0x3f3360+='EMAIL:'+_0x18d198[_0x1009f5(0x908)]+'\x0a'),_0x18d198[_0x1009f5(0x7c5)]&&(_0x3f3360+='URL:'+_0x18d198[_0x1009f5(0x7c5)]+'\x0a');let _0x1c0a87='',_0x19abbe=0x1;if(_0x18d198[_0x1009f5(0x451)]){let _0x1cf713=_0x18d198[_0x1009f5(0x451)][_0x1009f5(0x916)]('|');for(let _0xb33305 of _0x1cf713){let _0x23abb2=await this[_0x1009f5(0x488)]({'numbers':[_0xb33305]}),_0x554f1f=(_0x23abb2[_0x1009f5(0x875)]>0x0?_0x23abb2[0x0]['jid']:this[_0x1009f5(0x3a2)](_0xb33305))[_0x1009f5(0x2a9)](_0x1009f5(0x37e),'');_0x1c0a87+=_0x1009f5(0x45a)+_0x19abbe+_0x1009f5(0x350)+_0x554f1f+':'+_0xb33305+_0x1009f5(0x461)+_0x19abbe+_0x1009f5(0x3be),_0x19abbe++;}}return _0x3f3360+=_0x1c0a87+_0x1009f5(0x2f4),_0x3f3360;};return _0x24feab[_0x32fc74(0x6a1)][_0x32fc74(0x875)]===0x1?_0x22ffbd[_0x32fc74(0x6a1)]={'displayName':_0x24feab[_0x32fc74(0x6a1)][0x0][_0x32fc74(0x69a)],'vcard':await _0xc25a0e(_0x24feab['contactMessage'][0x0])}:_0x22ffbd[_0x32fc74(0x54e)]={'displayName':_0x24feab[_0x32fc74(0x6a1)][_0x32fc74(0x875)]+_0x32fc74(0x237),'contacts':await Promise['all'](_0x24feab[_0x32fc74(0x6a1)][_0x32fc74(0x465)](async _0x1bebb7=>({'displayName':_0x1bebb7['fullName'],'vcard':await _0xc25a0e(_0x1bebb7)})))},await this[_0x32fc74(0x40a)](_0x24feab[_0x32fc74(0x3c7)],{..._0x22ffbd},_0x24feab?.[_0x32fc74(0x79a)]);}async[a0_0x4fa287(0x5d3)](_0x549916){const _0x3ca8e0=a0_0x4fa287;return await this[_0x3ca8e0(0x40a)](_0x549916[_0x3ca8e0(0x5d3)][_0x3ca8e0(0x27b)][_0x3ca8e0(0x224)],{'reactionMessage':{'key':_0x549916[_0x3ca8e0(0x5d3)][_0x3ca8e0(0x27b)],'text':_0x549916[_0x3ca8e0(0x5d3)][_0x3ca8e0(0x3f0)]}});}async[a0_0x4fa287(0x488)](_0x1c6cde){const _0x50aec8=a0_0x4fa287;let _0x1703d8=[];for await(let _0xe3dc9e of _0x1c6cde['numbers']){let _0xbaf2a9=this[_0x50aec8(0x3a2)](_0xe3dc9e),_0x1380a5=!0x1;try{if((0x0,w[_0x50aec8(0x5b4)])(_0xbaf2a9)){let _0x106453=(await this['repository'][_0x50aec8(0x2ef)][_0x50aec8(0x6bc)]({'where':{'_id':_0xbaf2a9}},this[_0x50aec8(0x60f)][_0x50aec8(0x586)]))[_0x50aec8(0x607)];_0x106453?(_0x1380a5=!0x0,_0x1703d8[_0x50aec8(0x2fc)](new pe(_0x106453['id'],_0x1380a5,_0x106453?.[_0x50aec8(0x1cc)]))):(_0x106453=await this[_0x50aec8(0x2dd)]({'groupJid':_0xbaf2a9},_0x50aec8(0x66a)),_0x1703d8[_0x50aec8(0x2fc)](new pe(_0x106453['id'],!!_0x106453?.['id'],_0x106453?.[_0x50aec8(0x1cc)])));}else{if(_0xbaf2a9[_0x50aec8(0x7f1)](_0x50aec8(0x608)))_0x1703d8[_0x50aec8(0x2fc)](new pe(_0xbaf2a9,!0x0));else{let _0xaefd17=(await this[_0x50aec8(0x399)]['onWhatsApp'](_0xbaf2a9))[0x0];_0x1703d8['push'](new pe(_0xaefd17[_0x50aec8(0x35f)],_0xaefd17[_0x50aec8(0x209)]));}}}catch{(0x0,w[_0x50aec8(0x5b4)])(_0xbaf2a9)||await this[_0x50aec8(0x464)](_0xbaf2a9),_0x1703d8[_0x50aec8(0x2fc)](new pe(_0xe3dc9e,!0x1));}}return _0x1703d8;}async['deleteImportedChat'](_0xcad7a0){const _0x5919e9=a0_0x4fa287;try{await this['repository']['chat'][_0x5919e9(0x6bc)]({'where':{'_id':_0xcad7a0,'imported':!0x0}},this[_0x5919e9(0x60f)][_0x5919e9(0x586)])&&(await this['repository'][_0x5919e9(0x2ef)][_0x5919e9(0x4a1)](_0xcad7a0,this[_0x5919e9(0x60f)][_0x5919e9(0x586)]),this[_0x5919e9(0x45d)][_0x5919e9(0x558)]('Chat\x20com\x20ID\x20'+_0xcad7a0+'\x20foi\x20removido\x20por\x20não\x20ser\x20válido.'));}catch(_0x1d89c8){let _0x1fe919='Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat',_0x26c87b=_0x1d89c8 instanceof Error?_0x1d89c8[_0x5919e9(0x418)]:typeof _0x1d89c8==_0x5919e9(0x2e5)?JSON[_0x5919e9(0x2b0)](_0x1d89c8):_0x1d89c8,_0x35efdb=_0x1fe919+':\x20'+_0x26c87b;this[_0x5919e9(0x45d)][_0x5919e9(0x91c)](this[_0x5919e9(0x86e)]+'\x20('+this[_0x5919e9(0x60f)][_0x5919e9(0x586)]+_0x5919e9(0x8fe)+_0x35efdb);}}async['markMessageAsRead'](_0x335bde){const _0x2f15d9=a0_0x4fa287;try{let _0x9b3730=_0x335bde[_0x2f15d9(0x85e)][_0x2f15d9(0x314)](_0x58d8d2=>(0x0,w['isJidGroup'])(_0x58d8d2[_0x2f15d9(0x224)])||(0x0,w[_0x2f15d9(0x60d)])(_0x58d8d2[_0x2f15d9(0x224)]))[_0x2f15d9(0x465)](_0x157bd=>({'remoteJid':_0x157bd['remoteJid'],'fromMe':_0x157bd[_0x2f15d9(0x827)],'id':_0x157bd['id']}));await this[_0x2f15d9(0x399)][_0x2f15d9(0x85e)](_0x9b3730);let _0x4cb85e=_0x9b3730[_0x2f15d9(0x465)](_0x1a72bc=>this['updateMessage'](_0x1a72bc,{'status':'READ','owner':this[_0x2f15d9(0x60f)][_0x2f15d9(0x586)]})),_0x55a139=_0x9b3730['map'](_0x484ffa=>this['repository']['chat'][_0x2f15d9(0x3b3)]({'where':{'_id':_0x484ffa[_0x2f15d9(0x224)]}},{'unreadcount':0x0},this[_0x2f15d9(0x60f)][_0x2f15d9(0x586)])),[_0x11cfdf,_0x4043b1]=await Promise[_0x2f15d9(0x3d7)]([Promise[_0x2f15d9(0x3d7)](_0x4cb85e),Promise[_0x2f15d9(0x3d7)](_0x55a139)]);return _0x4043b1['filter'](_0x2a177c=>_0x2a177c!==null)[_0x2f15d9(0x442)](_0x4a81b0=>{const _0x437cd2=_0x2f15d9;q(this['instanceName'],_0x437cd2(0x7b1),{'chat':_0x4a81b0});}),{'message':_0x2f15d9(0x426),'read':_0x2f15d9(0x622)};}catch(_0x3b077d){let _0x7a34a5=_0x2f15d9(0x5b6),_0x222ac8=_0x3b077d instanceof Error?_0x3b077d[_0x2f15d9(0x418)]:typeof _0x3b077d==_0x2f15d9(0x2e5)?JSON['stringify'](_0x3b077d):_0x3b077d,_0x2754c1=_0x7a34a5+':\x20'+_0x222ac8;throw this[_0x2f15d9(0x45d)][_0x2f15d9(0x91c)](this[_0x2f15d9(0x86e)]+'\x20('+this['instance'][_0x2f15d9(0x586)]+_0x2f15d9(0x8fe)+_0x2754c1),new x(_0x2754c1);}}async[a0_0x4fa287(0x31f)](_0x38293b){const _0x16f611=a0_0x4fa287;let _0x2072c7={'where':{'key':{'remoteJid':_0x38293b}},'limit':0x1},_0x8add84=await this[_0x16f611(0x3dd)](_0x2072c7);return _0x8add84||(this[_0x16f611(0x45d)][_0x16f611(0x91c)]('Last\x20message\x20not\x20found\x20for\x20number:\x20'+_0x38293b),null);}async[a0_0x4fa287(0x772)](_0xda9e19){const _0x2059c0=a0_0x4fa287;this['logger'][_0x2059c0(0x6b6)](this['instanceName']+'\x20('+this[_0x2059c0(0x60f)][_0x2059c0(0x586)]+_0x2059c0(0x375));try{let _0x2071c6=_0xda9e19[_0x2059c0(0x75a)],_0x15ce1e=_0xda9e19['chat'];if(!_0x2071c6&&_0x15ce1e?_0x2071c6=await this['getLastMessage'](_0x15ce1e):(_0x2071c6=_0xda9e19[_0x2059c0(0x75a)],_0x2071c6[_0x2059c0(0x3bf)]=_0x2071c6?.['messageTimestamp']??Date[_0x2059c0(0x6b0)](),_0x15ce1e=_0x2071c6?.[_0x2059c0(0x27b)]?.['remoteJid']),!_0x2071c6||Object['keys'](_0x2071c6)['length']===0x0)throw new J('Last\x20message\x20not\x20found');this[_0x2059c0(0x45d)][_0x2059c0(0x6b6)](this[_0x2059c0(0x86e)]+'\x20('+this[_0x2059c0(0x60f)][_0x2059c0(0x586)]+_0x2059c0(0x5f9)+_0x15ce1e);try{await this['client'][_0x2059c0(0x3b0)]({'archive':_0xda9e19[_0x2059c0(0x685)],'lastMessages':[_0x2071c6]},this['createJid'](_0x15ce1e));}catch(_0x187076){let _0x5d0529='Error\x20in\x20chatModify\x20for\x20number\x20'+_0x15ce1e,_0x217f09=_0x187076 instanceof Error?_0x187076[_0x2059c0(0x418)]:typeof _0x187076==_0x2059c0(0x2e5)?JSON[_0x2059c0(0x2b0)](_0x187076):_0x187076,_0x1bf681=_0x5d0529+':\x20'+_0x217f09;this[_0x2059c0(0x45d)][_0x2059c0(0x91c)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2059c0(0x8fe)+_0x1bf681);}this['logger'][_0x2059c0(0x6b6)](this['instanceName']+'\x20('+this[_0x2059c0(0x60f)][_0x2059c0(0x586)]+_0x2059c0(0x3e2)+_0x15ce1e);let _0x43c42f=await this[_0x2059c0(0x830)][_0x2059c0(0x2ef)][_0x2059c0(0x3b3)]({'where':{'_id':_0x2071c6?.[_0x2059c0(0x27b)]?.['remoteJid']}},{'archived':_0xda9e19[_0x2059c0(0x685)]},this[_0x2059c0(0x60f)][_0x2059c0(0x586)]);return _0x43c42f?(this[_0x2059c0(0x45d)][_0x2059c0(0x6b6)](this['instanceName']+'\x20('+this[_0x2059c0(0x60f)]['wuid']+_0x2059c0(0x4e6)+JSON[_0x2059c0(0x2b0)](_0x43c42f)),q(this[_0x2059c0(0x86e)],_0x2059c0(0x7b1),{'chat':_0x43c42f})):this[_0x2059c0(0x45d)][_0x2059c0(0x91c)](this[_0x2059c0(0x86e)]+'\x20('+this[_0x2059c0(0x60f)][_0x2059c0(0x586)]+_0x2059c0(0x511)+_0x15ce1e),{'chatId':_0x15ce1e,'archived':_0xda9e19['archive']};}catch(_0x4ebb1f){let _0x2ef5af=_0x2059c0(0x415),_0x27f31c=_0x4ebb1f instanceof Error?_0x4ebb1f[_0x2059c0(0x418)]:typeof _0x4ebb1f==_0x2059c0(0x2e5)?JSON['stringify'](_0x4ebb1f):_0x4ebb1f,_0x2f7623=_0x2ef5af+':\x20'+_0x27f31c;throw this['logger'][_0x2059c0(0x91c)](this[_0x2059c0(0x86e)]+'\x20('+this[_0x2059c0(0x60f)][_0x2059c0(0x586)]+_0x2059c0(0x8fe)+_0x2f7623),new x(_0x2f7623);}}async[a0_0x4fa287(0x4a1)](_0x572991){const _0x42b91c=a0_0x4fa287;this[_0x42b91c(0x45d)][_0x42b91c(0x6b6)](this[_0x42b91c(0x86e)]+'\x20('+this[_0x42b91c(0x60f)][_0x42b91c(0x586)]+'):Delete\x20chat');try{let _0x3fdc80=await this[_0x42b91c(0x31f)](_0x572991);if(!_0x3fdc80||Object[_0x42b91c(0x647)](_0x3fdc80)[_0x42b91c(0x875)]===0x0)throw new J(_0x42b91c(0x5e2));let _0x5df036=_0x3fdc80[0x0];this['logger']['verbose'](this[_0x42b91c(0x86e)]+'\x20('+this[_0x42b91c(0x60f)]['wuid']+_0x42b91c(0x784)+_0x572991);try{await this[_0x42b91c(0x399)]['chatModify']({'delete':!0x0,'lastMessages':[{'key':_0x5df036[_0x42b91c(0x27b)],'messageTimestamp':_0x5df036[_0x42b91c(0x3bf)]}]},this[_0x42b91c(0x3a2)](_0x572991));}catch(_0x3fb2f5){this[_0x42b91c(0x45d)]['error'](_0x42b91c(0x271)+_0x572991+':\x20'+_0x3fb2f5[_0x42b91c(0x644)]());}this[_0x42b91c(0x45d)]['verbose'](this[_0x42b91c(0x86e)]+'\x20('+this[_0x42b91c(0x60f)]['wuid']+_0x42b91c(0x3e2)+_0x572991);return;}catch(_0x4bb063){throw this[_0x42b91c(0x45d)][_0x42b91c(0x91c)](this[_0x42b91c(0x86e)]+'\x20('+this[_0x42b91c(0x60f)][_0x42b91c(0x586)]+_0x42b91c(0x1f8)+_0x4bb063[_0x42b91c(0x644)]()),new x({'archived':!0x1,'message':[_0x42b91c(0x68d),_0x4bb063['toString']()]});}}async[a0_0x4fa287(0x69e)](_0xa28d9a){const _0x3df6d2=a0_0x4fa287;try{let _0xb0499f=await this['client'][_0x3df6d2(0x598)](_0xa28d9a[_0x3df6d2(0x224)],{'delete':_0xa28d9a});try{let _0x5a8ad6=await this[_0x3df6d2(0x852)](_0xa28d9a,{'status':_0x3df6d2(0x23c),'owner':this['instance'][_0x3df6d2(0x586)]});this[_0x3df6d2(0x45d)]['verbose'](this[_0x3df6d2(0x86e)]+'\x20('+this[_0x3df6d2(0x60f)][_0x3df6d2(0x586)]+_0x3df6d2(0x3cb)+_0x5a8ad6);}catch(_0x21f6fd){this[_0x3df6d2(0x45d)][_0x3df6d2(0x91c)](_0x3df6d2(0x88f)+_0x21f6fd);}return _0xb0499f;}catch(_0x42de80){throw new x('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x42de80?.[_0x3df6d2(0x644)]());}}async['getBase64FromMediaMessage'](_0x583bb8){const _0x29c541=a0_0x4fa287;try{let _0x812e9a=_0x583bb8?.[_0x29c541(0x418)]?_0x583bb8:await this[_0x29c541(0x7dc)](_0x583bb8['key'],!0x0);for(let _0x4825d5 of Ra)_0x812e9a[_0x29c541(0x418)][_0x4825d5]&&(_0x812e9a[_0x29c541(0x418)]=_0x812e9a[_0x29c541(0x418)][_0x4825d5][_0x29c541(0x418)]);let _0x3621de,_0x14bfb4;for(let _0x5257c0 of $a)if(_0x3621de=_0x812e9a[_0x29c541(0x418)][_0x5257c0],_0x3621de){_0x14bfb4=_0x5257c0;break;}if(!_0x3621de)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x3621de[_0x29c541(0x6ce)]==_0x29c541(0x2e5)&&(_0x812e9a[_0x29c541(0x418)]=JSON[_0x29c541(0x724)](JSON[_0x29c541(0x2b0)](_0x812e9a[_0x29c541(0x418)])));let _0x3f97bf=await(0x0,w[_0x29c541(0x210)])({'key':_0x812e9a?.['key'],'message':_0x812e9a?.[_0x29c541(0x418)]},_0x29c541(0x20a),{},{'logger':(0x0,Vt['default'])({'level':_0x29c541(0x828)}),'reuploadRequest':this[_0x29c541(0x399)][_0x29c541(0x4af)]});if(!(_0x3f97bf instanceof Buffer))throw new Error(_0x29c541(0x2cd));let _0x3b0b74=this['configService']['get'](_0x29c541(0x614)),_0xd0f7e9,_0x4bd9f0;if(_0x3621de[_0x29c541(0x61d)])_0xd0f7e9=_0x3621de[_0x29c541(0x61d)];else{let _0x164cc2=_0x3621de[_0x29c541(0x33a)]?.[_0x29c541(0x665)](/\/(\w+)/),_0x126aa2=_0x164cc2?_0x164cc2[0x1]:null;if(!_0x126aa2)throw new Error(_0x29c541(0x49b));_0xd0f7e9=(0x0,X['v4'])()+'.'+_0x126aa2;}_0x14bfb4===_0x29c541(0x87e)?_0x4bd9f0=_0x29c541(0x1f0)+await this['convertaudioMP3'](_0x3f97bf[_0x29c541(0x644)](_0x29c541(0x2b2))):(await this[_0x29c541(0x379)](_0x3f97bf,_0xd0f7e9),_0x4bd9f0='/media/'+_0xd0f7e9);let _0x336a9e=this[_0x29c541(0x5ca)][_0x29c541(0x37b)](_0x29c541(0x671))[_0x29c541(0x777)];if(!_0x336a9e){let _0x5e0f16=this[_0x29c541(0x5ca)][_0x29c541(0x37b)](_0x29c541(0x55e));_0x336a9e=_0x29c541(0x7c6)+(_0x5e0f16&&_0x5e0f16['FULLCHAIN'][_0x29c541(0x916)]('/')[0x4]);}_0x4bd9f0=''+_0x336a9e+_0x4bd9f0;let _0x461196=0xc*0x3c*0x3c*0x3e8,_0xafe8b0={'where':{'_id':_0x812e9a[_0x29c541(0x27b)]['id']}},_0x4161b9={'message_normalized.fileUrl':_0x4bd9f0,'message_normalized.expires_fileUrl':Date[_0x29c541(0x6b0)]()+_0x461196};try{let _0x448c1c=await this[_0x29c541(0x830)][_0x29c541(0x418)][_0x29c541(0x48b)](_0xafe8b0,_0x4161b9,this[_0x29c541(0x60f)][_0x29c541(0x586)]);_0x448c1c&&q(this[_0x29c541(0x86e)],_0x29c541(0x84d),{'message':_0x448c1c});}catch(_0x688ff7){let _0xfcc184='Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage',_0x256959=_0x688ff7 instanceof Error?_0x688ff7[_0x29c541(0x418)]:typeof _0x688ff7==_0x29c541(0x2e5)?JSON['stringify'](_0x688ff7):_0x688ff7,_0x17ab40=_0xfcc184+':\x20'+_0x256959;this[_0x29c541(0x45d)][_0x29c541(0x91c)](this[_0x29c541(0x86e)]+'\x20('+this['instance'][_0x29c541(0x586)]+_0x29c541(0x8fe)+_0x17ab40);}return{'mediaType':_0x14bfb4,'fileName':_0x3621de[_0x29c541(0x61d)],'caption':_0x3621de[_0x29c541(0x865)],'size':{'fileLength':_0x3621de['fileLength'],'height':_0x3621de[_0x29c541(0x4d3)],'width':_0x3621de[_0x29c541(0x77b)]},'mimetype':_0x3621de[_0x29c541(0x33a)],'base64':_0x3f97bf[_0x29c541(0x644)](_0x29c541(0x2b2)),'fileUrl':_0x4bd9f0,'expires_fileUrl':Date[_0x29c541(0x6b0)]()+_0x461196};}catch(_0x2aae11){let _0x3a5821=_0x29c541(0x4be),_0x21b05a=_0x2aae11 instanceof Error?_0x2aae11['message']:typeof _0x2aae11==_0x29c541(0x2e5)?JSON[_0x29c541(0x2b0)](_0x2aae11):_0x2aae11,_0xb0384b=_0x3a5821+':\x20'+_0x21b05a;throw this[_0x29c541(0x45d)][_0x29c541(0x91c)](this['instanceName']+'\x20('+this[_0x29c541(0x60f)][_0x29c541(0x586)]+'):\x20'+_0xb0384b),new m(_0xb0384b);}}async[a0_0x4fa287(0x379)](_0x17188e,_0x498ef8){const _0x11e707=a0_0x4fa287;let _0x5246ea=j['default'][_0x11e707(0x82f)](__dirname,_0x11e707(0x1eb));F[_0x11e707(0x5f0)](_0x5246ea)||F[_0x11e707(0x73f)](_0x5246ea,{'recursive':!0x0});let _0x2bc895=j[_0x11e707(0x796)][_0x11e707(0x82f)](_0x5246ea,_0x498ef8);return new Promise((_0x290b26,_0x9bfa05)=>{const _0x7d02e5=_0x11e707;F[_0x7d02e5(0x860)](_0x2bc895,_0x17188e,_0x583e9a=>{const _0x412045=_0x7d02e5;_0x583e9a?(this[_0x412045(0x45d)]['error'](_0x412045(0x73d)+(_0x583e9a instanceof Error?_0x583e9a[_0x412045(0x418)]:JSON[_0x412045(0x2b0)](_0x583e9a,null,0x2))),_0x9bfa05(_0x583e9a)):(this['logger'][_0x412045(0x848)](_0x412045(0x352)+_0x2bc895),_0x290b26(_0x2bc895));});});}async['fetchContacts'](_0x289829){const _0x13a684=a0_0x4fa287;return await this[_0x13a684(0x830)]['contact'][_0x13a684(0x896)](_0x289829,this[_0x13a684(0x60f)][_0x13a684(0x586)]);}async[a0_0x4fa287(0x73a)](){const _0x26d6b2=a0_0x4fa287;return await this[_0x26d6b2(0x830)][_0x26d6b2(0x535)]['find']({'where':{}},this['instance'][_0x26d6b2(0x586)]);}async['fetchMessages'](_0x40a40f){const _0xe0813e=a0_0x4fa287;return await this[_0xe0813e(0x830)]['message'][_0xe0813e(0x896)](_0x40a40f,this['instance']['wuid']);}async[a0_0x4fa287(0x26b)](){const _0x5f4b06=a0_0x4fa287;return this[_0x5f4b06(0x830)][_0x5f4b06(0x2ef)][_0x5f4b06(0x320)](this[_0x5f4b06(0x60f)]['wuid']),this[_0x5f4b06(0x830)][_0x5f4b06(0x2ef)]['updateMissingEtiquetas'](this[_0x5f4b06(0x60f)][_0x5f4b06(0x586)]),this[_0x5f4b06(0x830)]['chat'][_0x5f4b06(0x6c4)](this[_0x5f4b06(0x60f)][_0x5f4b06(0x586)]),this[_0x5f4b06(0x830)][_0x5f4b06(0x2ef)][_0x5f4b06(0x30f)](this[_0x5f4b06(0x60f)]['wuid']),await this[_0x5f4b06(0x830)][_0x5f4b06(0x2ef)][_0x5f4b06(0x896)]({'where':{}},this[_0x5f4b06(0x60f)][_0x5f4b06(0x586)]);}async[a0_0x4fa287(0x6d5)](_0x2e519f){const _0x294d31=a0_0x4fa287;try{if(!Array[_0x294d31(0x3e8)](_0x2e519f)||_0x2e519f[_0x294d31(0x875)]===0x0)throw new Error(_0x294d31(0x4eb));let _0x3a512c=[],_0x3d3d34=[];for(let _0x2a6ac2 of _0x2e519f){if(_0x2a6ac2[_0x294d31(0x817)])_0x2a6ac2['_id']=this[_0x294d31(0x3a2)](_0x2a6ac2[_0x294d31(0x817)]);else continue;await this[_0x294d31(0x830)][_0x294d31(0x2ef)][_0x294d31(0x6bc)]({'where':{'_id':_0x2a6ac2[_0x294d31(0x817)]}},this[_0x294d31(0x60f)][_0x294d31(0x586)])?_0x3d3d34[_0x294d31(0x2fc)]({'_id':_0x2a6ac2[_0x294d31(0x817)],'leadInfo':_0x2a6ac2[_0x294d31(0x3b9)],'owner':this[_0x294d31(0x60f)][_0x294d31(0x586)]}):_0x3a512c[_0x294d31(0x2fc)]({'_id':_0x2a6ac2[_0x294d31(0x817)],'owner':this[_0x294d31(0x60f)][_0x294d31(0x586)],'leadInfo':_0x2a6ac2[_0x294d31(0x3b9)],'imported':!0x0});}return _0x3d3d34[_0x294d31(0x875)]>0x0&&await this[_0x294d31(0x830)][_0x294d31(0x2ef)][_0x294d31(0x385)](_0x3d3d34[_0x294d31(0x465)](_0x330116=>({'query':{'where':{'_id':_0x330116[_0x294d31(0x817)],'owner':this[_0x294d31(0x60f)][_0x294d31(0x586)]}},'update':_0x330116}))),_0x3a512c[_0x294d31(0x875)]>0x0&&await this[_0x294d31(0x830)]['chat'][_0x294d31(0x869)](_0x3a512c,this[_0x294d31(0x60f)][_0x294d31(0x586)]),{'updated':_0x3d3d34[_0x294d31(0x875)],'inserted':_0x3a512c['length']};}catch(_0x12101b){let _0x33e96e=_0x294d31(0x2d2),_0x52b2a4=_0x12101b instanceof Error?_0x12101b[_0x294d31(0x418)]:typeof _0x12101b==_0x294d31(0x2e5)?JSON['stringify'](_0x12101b):_0x12101b,_0x452542=_0x33e96e+':\x20'+_0x52b2a4;throw this[_0x294d31(0x45d)][_0x294d31(0x91c)](this[_0x294d31(0x86e)]+'\x20('+this['instance'][_0x294d31(0x586)]+_0x294d31(0x8fe)+_0x452542),new m(_0x452542);}}async['importChats'](_0xc9763){const _0xb67281=a0_0x4fa287;try{if(!Array[_0xb67281(0x3e8)](_0xc9763)||_0xc9763['length']===0x0)throw new Error(_0xb67281(0x4eb));let _0x2f8ee3=0x64,_0x2cefa6=0x0;for(let _0x15d9ce=0x0;_0x15d9ce<_0xc9763[_0xb67281(0x875)];_0x15d9ce+=_0x2f8ee3){let _0x3cbac3=_0xc9763[_0xb67281(0x479)](_0x15d9ce,_0x15d9ce+_0x2f8ee3),{updated:_0x859ada}=await this[_0xb67281(0x4a7)](_0x3cbac3);_0x2cefa6+=_0x859ada;}return{'updated':_0x2cefa6};}catch(_0x5e4785){let _0x16899f='Erro\x20ao\x20importar\x20chats',_0xe9ffd=_0x5e4785 instanceof Error?_0x5e4785['message']:typeof _0x5e4785==_0xb67281(0x2e5)?JSON[_0xb67281(0x2b0)](_0x5e4785):_0x5e4785,_0x51c95a=_0x16899f+':\x20'+_0xe9ffd;throw this[_0xb67281(0x45d)][_0xb67281(0x91c)](this[_0xb67281(0x86e)]+'\x20('+this[_0xb67281(0x60f)][_0xb67281(0x586)]+_0xb67281(0x8fe)+_0x51c95a),new m(_0x51c95a);}}async[a0_0x4fa287(0x4a7)](_0x1ba9d7){const _0x49eea7=a0_0x4fa287;try{let _0x8c0c0=await this[_0x49eea7(0x830)][_0x49eea7(0x535)][_0x49eea7(0x896)]({'where':{}},this[_0x49eea7(0x60f)][_0x49eea7(0x586)]),_0x55090e=new Set(_0x8c0c0[_0x49eea7(0x465)](_0x447b35=>_0x447b35[_0x49eea7(0x817)])),_0x27157d=[],_0x6e96a8=[];for(let _0x4cb9f6 of _0x1ba9d7){if(!_0x4cb9f6['_id'])continue;_0x4cb9f6[_0x49eea7(0x817)]=this[_0x49eea7(0x3a2)](_0x4cb9f6['_id']);let _0x4fcad1=await this[_0x49eea7(0x830)][_0x49eea7(0x2ef)][_0x49eea7(0x6bc)]({'where':{'_id':_0x4cb9f6[_0x49eea7(0x817)]}},this['instance'][_0x49eea7(0x586)]),_0x2c1463={};if(Object['entries'](_0x4cb9f6[_0x49eea7(0x3b9)])[_0x49eea7(0x442)](([_0x719f21,_0x27d27d])=>{const _0x4cbe0e=_0x49eea7;_0x2c1463[_0x4cbe0e(0x7a5)+_0x719f21]=_0x27d27d;}),_0x4fcad1&&!_0x4fcad1[_0x49eea7(0x1d6)]){let _0x2a889f=(_0x4cb9f6[_0x49eea7(0x3b9)][_0x49eea7(0x1e2)]||[])[_0x49eea7(0x314)](_0x535b38=>_0x55090e['has'](_0x535b38)),_0x17b123=new Set(_0x4fcad1['leadInfo'][_0x49eea7(0x1e2)]||[]),_0x2a4044=_0x2a889f[_0x49eea7(0x314)](_0x37ede3=>!_0x17b123['has'](_0x37ede3)),_0x1d3acf=[..._0x17b123][_0x49eea7(0x314)](_0x57fad0=>!_0x2a889f[_0x49eea7(0x7f1)](_0x57fad0));_0x6e96a8['push'](..._0x2a4044[_0x49eea7(0x465)](_0x146909=>this['AddChatLabel'](_0x146909,_0x4cb9f6[_0x49eea7(0x817)]))),_0x6e96a8[_0x49eea7(0x2fc)](..._0x1d3acf[_0x49eea7(0x465)](_0x552fbd=>this[_0x49eea7(0x4a0)](_0x552fbd,_0x4cb9f6['_id']))),_0x4cb9f6[_0x49eea7(0x3b9)][_0x49eea7(0x1e2)]=_0x2a889f,_0x27157d[_0x49eea7(0x2fc)]({'query':{'where':{'_id':_0x4cb9f6[_0x49eea7(0x817)],'owner':this[_0x49eea7(0x60f)][_0x49eea7(0x586)]}},'update':_0x2c1463});}else _0x2c1463[_0x49eea7(0x1d6)]=!0x0,_0x27157d[_0x49eea7(0x2fc)]({'query':{'where':{'_id':_0x4cb9f6['_id'],'owner':this[_0x49eea7(0x60f)][_0x49eea7(0x586)]}},'update':_0x2c1463});}let _0x5318c6=await this['repository']['chat']['updateMany'](_0x27157d);return await Promise[_0x49eea7(0x3d7)](_0x6e96a8),{'updated':_0x5318c6};}catch(_0x6ec687){let _0x166693=_0x49eea7(0x2d2),_0x26f692=_0x6ec687 instanceof Error?_0x6ec687['message']:typeof _0x6ec687=='object'?JSON[_0x49eea7(0x2b0)](_0x6ec687):_0x6ec687,_0x133988=_0x166693+':\x20'+_0x26f692;throw this['logger'][_0x49eea7(0x91c)](this['instanceName']+'\x20('+this[_0x49eea7(0x60f)][_0x49eea7(0x586)]+'):\x20'+_0x133988),new m(_0x133988);}}async[a0_0x4fa287(0x26c)](){const _0x53d762=a0_0x4fa287;return await this[_0x53d762(0x399)][_0x53d762(0x26c)]();}async[a0_0x4fa287(0x919)](_0x47ee5c){const _0x2ab907=a0_0x4fa287;try{return await this['client']['updateReadReceiptsPrivacy'](_0x47ee5c['privacySettings'][_0x2ab907(0x1e0)]),await this[_0x2ab907(0x399)][_0x2ab907(0x257)](_0x47ee5c['privacySettings'][_0x2ab907(0x3b7)]),await this[_0x2ab907(0x399)]['updateStatusPrivacy'](_0x47ee5c[_0x2ab907(0x733)][_0x2ab907(0x370)]),await this['client']['updateOnlinePrivacy'](_0x47ee5c[_0x2ab907(0x733)][_0x2ab907(0x2b4)]),await this[_0x2ab907(0x399)][_0x2ab907(0x44a)](_0x47ee5c['privacySettings'][_0x2ab907(0x834)]),await this['client'][_0x2ab907(0x864)](_0x47ee5c[_0x2ab907(0x733)][_0x2ab907(0x7d3)]),this[_0x2ab907(0x399)]?.['ws']?.[_0x2ab907(0x23f)](),{'update':'success','data':{'readreceipts':_0x47ee5c[_0x2ab907(0x733)][_0x2ab907(0x1e0)],'profile':_0x47ee5c['privacySettings'][_0x2ab907(0x3b7)],'status':_0x47ee5c[_0x2ab907(0x733)][_0x2ab907(0x370)],'online':_0x47ee5c[_0x2ab907(0x733)]['online'],'last':_0x47ee5c[_0x2ab907(0x733)][_0x2ab907(0x834)],'groupadd':_0x47ee5c[_0x2ab907(0x733)][_0x2ab907(0x7d3)]}};}catch(_0x218a72){let _0x4a4205='Erro\x20ao\x20alterar\x20privacidade',_0x29eb03=_0x218a72 instanceof Error?_0x218a72[_0x2ab907(0x418)]:typeof _0x218a72=='object'?JSON[_0x2ab907(0x2b0)](_0x218a72):_0x218a72,_0x437470=_0x4a4205+':\x20'+_0x29eb03;throw this['logger'][_0x2ab907(0x91c)](this[_0x2ab907(0x86e)]+'\x20('+this[_0x2ab907(0x60f)][_0x2ab907(0x586)]+_0x2ab907(0x8fe)+_0x437470),new m(_0x437470);}}async[a0_0x4fa287(0x4da)](_0x3eff88){const _0x589db1=a0_0x4fa287;let _0x121466=(_0x3eff88?this[_0x589db1(0x3a2)](_0x3eff88):this['client']?.[_0x589db1(0x2e2)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0x589db1(0x45d)][_0x589db1(0x6b6)](this[_0x589db1(0x86e)]+'\x20('+this['instance'][_0x589db1(0x586)]+_0x589db1(0x787)+_0x121466);let _0x1a1327=await this[_0x589db1(0x830)][_0x589db1(0x5c0)]['findOne']({'where':{'_id':_0x121466}},this['instance']['wuid']),_0x28e1e0=_0x1a1327?_0x1a1327[_0x589db1(0x8c2)]:null;try{let _0x49e9c8=(await this[_0x589db1(0x488)]({'numbers':[_0x121466]}))?.[_0x589db1(0x4e8)](),_0x5eaf97=(await this[_0x589db1(0x735)](_0x121466,null,!0x1))['cachedContact'][_0x589db1(0x774)],_0x4b7887=await this['getStatus'](_0x49e9c8?.[_0x589db1(0x35f)]),_0x2b1105=await this['fetchBusinessProfile'](_0x49e9c8?.[_0x589db1(0x35f)]),_0x988047=(await this[_0x589db1(0x735)](_0x121466,null,!0x1))[_0x589db1(0x67f)][_0x589db1(0x378)],_0x217231=await this['repository'][_0x589db1(0x2ef)][_0x589db1(0x6bc)]({'where':{'_id':_0x121466}},this['instance'][_0x589db1(0x586)]),_0x2f6c67={'imagechat':_0x5eaf97,'contactname':_0x28e1e0||null,'pushName':_0x988047,'status':_0x4b7887?.[_0x589db1(0x370)],'isBusiness':_0x2b1105[_0x589db1(0x438)],'email':_0x2b1105?.[_0x589db1(0x908)],'description':_0x2b1105?.[_0x589db1(0x1d9)],'website':_0x2b1105?.['website']?.[_0x589db1(0x4e8)](),'lastcache':Date['now'](),'imported':!_0x217231},_0x5f3169=await this[_0x589db1(0x830)][_0x589db1(0x2ef)][_0x589db1(0x3b3)]({'where':{'_id':_0x121466}},_0x2f6c67,this[_0x589db1(0x60f)][_0x589db1(0x586)]),_0x2a34af={'owner':this[_0x589db1(0x60f)][_0x589db1(0x586)],'_id':_0x121466,'profilePictureUrl':_0x5eaf97,'status':_0x4b7887?.['status']};return this[_0x589db1(0x830)][_0x589db1(0x5c0)][_0x589db1(0x48b)]([_0x2a34af],this[_0x589db1(0x60f)][_0x589db1(0x586)]),_0x5f3169&&q(this['instanceName'],'chats',{'chat':_0x5f3169}),{'wuid':_0x49e9c8?.[_0x589db1(0x35f)]||_0x121466,'name':_0x49e9c8?.[_0x589db1(0x378)],'pushName':_0x988047,'numberExists':_0x49e9c8?.[_0x589db1(0x209)],'picture':_0x5eaf97,'status':_0x4b7887?.[_0x589db1(0x370)],'isBusiness':_0x2b1105['isBusiness'],'email':_0x2b1105?.[_0x589db1(0x908)],'description':_0x2b1105?.[_0x589db1(0x1d9)],'website':_0x2b1105?.[_0x589db1(0x656)]?.[_0x589db1(0x4e8)]()};}catch(_0x287a42){return this['logger'][_0x589db1(0x91c)](_0x589db1(0x53a)+(_0x287a42 instanceof Error?_0x287a42[_0x589db1(0x418)]:JSON[_0x589db1(0x2b0)](_0x287a42,null,0x2))),{};}}async[a0_0x4fa287(0x341)](_0x297cda){const _0x15fd2a=a0_0x4fa287;this[_0x15fd2a(0x45d)][_0x15fd2a(0x6b6)](this['instanceName']+'\x20('+this['instance'][_0x15fd2a(0x586)]+'):Fetching\x20business\x20profile');try{let _0x294543=_0x297cda?this['createJid'](_0x297cda):this[_0x15fd2a(0x60f)]['wuid'],_0x4143bd=await this[_0x15fd2a(0x399)][_0x15fd2a(0x303)](_0x294543);return this[_0x15fd2a(0x45d)][_0x15fd2a(0x6b6)](this[_0x15fd2a(0x86e)]+'\x20('+this['instance']['wuid']+_0x15fd2a(0x90e)),_0x4143bd?(this[_0x15fd2a(0x45d)]['verbose'](this[_0x15fd2a(0x86e)]+'\x20('+this[_0x15fd2a(0x60f)][_0x15fd2a(0x586)]+_0x15fd2a(0x72d)),{'isBusiness':!0x0,..._0x4143bd}):{'isBusiness':!0x1,'message':_0x15fd2a(0x5fe),...(await this[_0x15fd2a(0x488)]({'numbers':[_0x294543]}))?.[_0x15fd2a(0x4e8)]()};}catch(_0x42ae7){let _0x5a665b=_0x15fd2a(0x340),_0x56a64f=_0x42ae7 instanceof Error?_0x42ae7[_0x15fd2a(0x418)]:typeof _0x42ae7==_0x15fd2a(0x2e5)?JSON['stringify'](_0x42ae7):_0x42ae7,_0x511f3d=_0x5a665b+':\x20'+_0x56a64f;throw this[_0x15fd2a(0x45d)][_0x15fd2a(0x91c)](this[_0x15fd2a(0x86e)]+'\x20('+this['instance'][_0x15fd2a(0x586)]+_0x15fd2a(0x8fe)+_0x511f3d),new x(_0x511f3d);}}async['getStatus'](_0x4a1b83){const _0x61b70e=a0_0x4fa287;let _0x5c7708=this['createJid'](_0x4a1b83);try{return{'wuid':_0x5c7708,'status':(await this['client'][_0x61b70e(0x3e9)](_0x5c7708))[0x0]?.[_0x61b70e(0x370)]};}catch{return{'wuid':_0x5c7708,'status':null};}}async[a0_0x4fa287(0x349)](_0x277ff6){const _0x47ce68=a0_0x4fa287;try{return await this[_0x47ce68(0x399)][_0x47ce68(0x349)](_0x277ff6),{'update':'success'};}catch(_0x3056b3){let _0x14ceb0=_0x47ce68(0x3cc),_0x59c61b=_0x3056b3 instanceof Error?_0x3056b3[_0x47ce68(0x418)]:typeof _0x3056b3==_0x47ce68(0x2e5)?JSON[_0x47ce68(0x2b0)](_0x3056b3):_0x3056b3,_0x52e7af=_0x14ceb0+':\x20'+_0x59c61b;throw this[_0x47ce68(0x45d)][_0x47ce68(0x91c)](this['instanceName']+'\x20('+this[_0x47ce68(0x60f)][_0x47ce68(0x586)]+'):\x20'+_0x52e7af),new x(_0x52e7af);}}async[a0_0x4fa287(0x26a)](_0x52f569){const _0x3c7824=a0_0x4fa287;try{return await this[_0x3c7824(0x399)][_0x3c7824(0x26a)](_0x52f569),{'update':_0x3c7824(0x622)};}catch(_0x2d66f6){let _0xfdf5ed=_0x3c7824(0x8e6),_0xebd090=_0x2d66f6 instanceof Error?_0x2d66f6['message']:typeof _0x2d66f6==_0x3c7824(0x2e5)?JSON[_0x3c7824(0x2b0)](_0x2d66f6):_0x2d66f6,_0x10f50b=_0xfdf5ed+':\x20'+_0xebd090;throw this[_0x3c7824(0x45d)][_0x3c7824(0x91c)](this[_0x3c7824(0x86e)]+'\x20('+this[_0x3c7824(0x60f)][_0x3c7824(0x586)]+_0x3c7824(0x8fe)+_0x10f50b),new x(_0x10f50b);}}async['updateProfilePicture'](_0x3b40cd){const _0x3004db=a0_0x4fa287;try{let _0x5c5724;if((0x0,L[_0x3004db(0x52c)])(_0x3b40cd)){let _0x5e8805=new Date()[_0x3004db(0x878)](),_0x1e4680=_0x3b40cd+_0x3004db(0x5a7)+_0x5e8805;_0x5c5724=(await te[_0x3004db(0x796)][_0x3004db(0x37b)](_0x1e4680,{'responseType':_0x3004db(0x905)}))[_0x3004db(0x5ee)];}else{if((0x0,L[_0x3004db(0x42d)])(_0x3b40cd))_0x5c5724=Buffer[_0x3004db(0x7c8)](_0x3b40cd,_0x3004db(0x2b2));else throw new m(_0x3004db(0x456));}return await this[_0x3004db(0x399)][_0x3004db(0x249)](this['instance'][_0x3004db(0x586)],_0x5c5724),{'update':'success'};}catch(_0x2dde6b){let _0x41b036='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture',_0x3ba5d8=_0x2dde6b instanceof Error?_0x2dde6b['message']:typeof _0x2dde6b==_0x3004db(0x2e5)?JSON['stringify'](_0x2dde6b):_0x2dde6b,_0x61640b=_0x41b036+':\x20'+_0x3ba5d8;throw this['logger'][_0x3004db(0x91c)](this[_0x3004db(0x86e)]+'\x20('+this[_0x3004db(0x60f)][_0x3004db(0x586)]+_0x3004db(0x8fe)+_0x61640b),new x(_0x61640b);}}async[a0_0x4fa287(0x3f6)](){const _0x5323ce=a0_0x4fa287;try{return await this[_0x5323ce(0x399)][_0x5323ce(0x3f6)](this[_0x5323ce(0x60f)]['wuid']),{'update':_0x5323ce(0x622)};}catch(_0x51bc74){let _0x331977='Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture',_0x1560f4=_0x51bc74 instanceof Error?_0x51bc74[_0x5323ce(0x418)]:typeof _0x51bc74==_0x5323ce(0x2e5)?JSON[_0x5323ce(0x2b0)](_0x51bc74):_0x51bc74,_0x20d3dc=_0x331977+':\x20'+_0x1560f4;throw this[_0x5323ce(0x45d)]['error'](this[_0x5323ce(0x86e)]+'\x20('+this[_0x5323ce(0x60f)][_0x5323ce(0x586)]+'):\x20'+_0x20d3dc),new x(_0x20d3dc);}}async[a0_0x4fa287(0x2e8)](_0x58e13a){const _0x45da2f=a0_0x4fa287;try{let _0x1ad704=(await this['whatsappNumber']({'numbers':_0x58e13a[_0x45da2f(0x3b6)]}))['filter'](_0x30672a=>_0x30672a['exists'])['map'](_0x237bb7=>_0x237bb7['jid']),{id:_0x3075a1}=await this[_0x45da2f(0x399)]['groupCreate'](_0x58e13a[_0x45da2f(0x1cc)],_0x1ad704);_0x58e13a?.[_0x45da2f(0x1d9)]&&await this[_0x45da2f(0x399)][_0x45da2f(0x743)](_0x3075a1,_0x58e13a['description']);let _0x420d3a=await this[_0x45da2f(0x399)]['groupMetadata'](_0x3075a1);return _0x420d3a[_0x45da2f(0x7e2)]=[],{'metadata':_0x420d3a};}catch(_0x11e69a){let _0x296d5c=_0x45da2f(0x69b),_0x3ba56d=_0x11e69a instanceof Error?_0x11e69a[_0x45da2f(0x418)]:typeof _0x11e69a==_0x45da2f(0x2e5)?JSON[_0x45da2f(0x2b0)](_0x11e69a):_0x11e69a,_0xd118d4=_0x296d5c+':\x20'+_0x3ba56d;throw this[_0x45da2f(0x45d)][_0x45da2f(0x91c)](this[_0x45da2f(0x86e)]+'\x20('+this[_0x45da2f(0x60f)][_0x45da2f(0x586)]+_0x45da2f(0x8fe)+_0xd118d4),new x(_0xd118d4);}}async[a0_0x4fa287(0x6b9)](_0x27298f){const _0xdc1cb5=a0_0x4fa287;try{if(_0x27298f[_0xdc1cb5(0x610)]===!0x0&&await this[_0xdc1cb5(0x399)]['groupSettingUpdate'](_0x27298f[_0xdc1cb5(0x61f)],_0xdc1cb5(0x50c)),_0x27298f[_0xdc1cb5(0x610)]===!0x1&&await this[_0xdc1cb5(0x399)][_0xdc1cb5(0x3eb)](_0x27298f[_0xdc1cb5(0x61f)],'unlocked'),_0x27298f[_0xdc1cb5(0x51f)]===!0x0&&await this[_0xdc1cb5(0x399)]['groupSettingUpdate'](_0x27298f[_0xdc1cb5(0x61f)],_0xdc1cb5(0x740)),_0x27298f[_0xdc1cb5(0x51f)]===!0x1&&await this[_0xdc1cb5(0x399)][_0xdc1cb5(0x3eb)](_0x27298f[_0xdc1cb5(0x61f)],_0xdc1cb5(0x1d8)),_0x27298f[_0xdc1cb5(0x40d)]===!0x0&&await this[_0xdc1cb5(0x399)][_0xdc1cb5(0x8c9)](_0x27298f[_0xdc1cb5(0x61f)],_0xdc1cb5(0x6d7)),_0x27298f[_0xdc1cb5(0x40d)]===!0x1&&await this[_0xdc1cb5(0x399)]['groupMemberAddMode'](_0x27298f[_0xdc1cb5(0x61f)],_0xdc1cb5(0x926)),_0x27298f[_0xdc1cb5(0x81d)]===!0x0&&await this[_0xdc1cb5(0x399)][_0xdc1cb5(0x6b2)](_0x27298f[_0xdc1cb5(0x61f)],'on'),_0x27298f[_0xdc1cb5(0x81d)]===!0x1&&await this[_0xdc1cb5(0x399)][_0xdc1cb5(0x6b2)](_0x27298f[_0xdc1cb5(0x61f)],_0xdc1cb5(0x48d)),typeof _0x27298f[_0xdc1cb5(0x69f)]<'u'&&_0x27298f[_0xdc1cb5(0x69f)]!==null&&await this[_0xdc1cb5(0x399)][_0xdc1cb5(0x254)](_0x27298f[_0xdc1cb5(0x61f)],_0x27298f[_0xdc1cb5(0x69f)]),_0x27298f[_0xdc1cb5(0x378)]&&await this['client'][_0xdc1cb5(0x8d7)](_0x27298f[_0xdc1cb5(0x61f)],_0x27298f[_0xdc1cb5(0x378)]),_0x27298f[_0xdc1cb5(0x1d9)]&&await this['client']['groupUpdateDescription'](_0x27298f[_0xdc1cb5(0x61f)],_0x27298f['description']),_0x27298f['image']){let _0x8ad029;if((0x0,L[_0xdc1cb5(0x52c)])(_0x27298f[_0xdc1cb5(0x515)])){let _0x517068=new Date()[_0xdc1cb5(0x878)](),_0x48bd39=_0x27298f[_0xdc1cb5(0x515)]+_0xdc1cb5(0x5a7)+_0x517068;_0x8ad029=(await te[_0xdc1cb5(0x796)][_0xdc1cb5(0x37b)](_0x48bd39,{'responseType':_0xdc1cb5(0x905)}))[_0xdc1cb5(0x5ee)];}else{if((0x0,L['isBase64'])(_0x27298f[_0xdc1cb5(0x515)]))_0x8ad029=Buffer[_0xdc1cb5(0x7c8)](_0x27298f[_0xdc1cb5(0x515)],_0xdc1cb5(0x2b2));else throw new m(_0xdc1cb5(0x456));}await this[_0xdc1cb5(0x399)][_0xdc1cb5(0x249)](_0x27298f['groupJid'],_0x8ad029);}return await this[_0xdc1cb5(0x2dd)]({'groupJid':_0x27298f[_0xdc1cb5(0x61f)]});}catch(_0x24dc6b){let _0x52e72d=_0xdc1cb5(0x599),_0x1aa3d5=_0x24dc6b instanceof Error?_0x24dc6b['message']:typeof _0x24dc6b==_0xdc1cb5(0x2e5)?JSON[_0xdc1cb5(0x2b0)](_0x24dc6b):_0x24dc6b,_0x129c75=_0x52e72d+':\x20'+_0x1aa3d5;throw this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0xdc1cb5(0x586)]+_0xdc1cb5(0x8fe)+_0x129c75),new x(_0x129c75);}}async[a0_0x4fa287(0x67d)](_0xad8f60){const _0x3e433d=a0_0x4fa287;try{if(_0xad8f60[_0x3e433d(0x2a7)]===_0x3e433d(0x1dd)||_0xad8f60[_0x3e433d(0x2a7)]===_0x3e433d(0x80f)){let _0x1bd34a=_0xad8f60[_0x3e433d(0x3b6)][_0x3e433d(0x465)](_0x19ea65=>this[_0x3e433d(0x3a2)](_0x19ea65));await this['client'][_0x3e433d(0x7c1)](_0xad8f60[_0x3e433d(0x61f)],_0x1bd34a,_0xad8f60['action']);}else{if(_0xad8f60['action']==='add'){let _0xf7a89e=(await this[_0x3e433d(0x488)]({'numbers':_0xad8f60[_0x3e433d(0x3b6)]}))[_0x3e433d(0x314)](_0x2823c2=>_0x2823c2[_0x3e433d(0x209)])[_0x3e433d(0x465)](_0x30f535=>this[_0x3e433d(0x3a2)](_0x30f535[_0x3e433d(0x35f)]));if(_0xf7a89e[_0x3e433d(0x875)]===0x0)throw new m(_0x3e433d(0x1d2));await this[_0x3e433d(0x399)][_0x3e433d(0x695)](_0xad8f60[_0x3e433d(0x61f)],_0xf7a89e,_0x3e433d(0x2ac));}else{let _0x3fa0db=_0xad8f60[_0x3e433d(0x3b6)][_0x3e433d(0x465)](_0x4dd5fb=>this[_0x3e433d(0x3a2)](_0x4dd5fb));await this[_0x3e433d(0x399)][_0x3e433d(0x695)](_0xad8f60['groupJid'],_0x3fa0db,_0xad8f60[_0x3e433d(0x2a7)]);}}return await this[_0x3e433d(0x2dd)]({'groupJid':_0xad8f60[_0x3e433d(0x61f)]});}catch(_0xd06ddd){let _0x27741a=_0x3e433d(0x4ea),_0x80012b=_0xd06ddd instanceof Error?_0xd06ddd[_0x3e433d(0x418)]:typeof _0xd06ddd==_0x3e433d(0x2e5)?JSON[_0x3e433d(0x2b0)](_0xd06ddd):_0xd06ddd,_0x4b00a0=_0x27741a+':\x20'+_0x80012b;throw this[_0x3e433d(0x45d)]['error'](this[_0x3e433d(0x86e)]+'\x20('+this[_0x3e433d(0x60f)][_0x3e433d(0x586)]+'):\x20'+_0x4b00a0),new m(_0x4b00a0);}}async[a0_0x4fa287(0x880)](_0x18578a){const _0x28c442=a0_0x4fa287;try{return await this['client'][_0x28c442(0x880)](_0x18578a[_0x28c442(0x2ab)]);}catch(_0x26327c){let _0x311aa1=_0x28c442(0x55b),_0x385058=_0x26327c instanceof Error?_0x26327c['message']:typeof _0x26327c==_0x28c442(0x2e5)?JSON[_0x28c442(0x2b0)](_0x26327c):_0x26327c,_0x59a03c=_0x311aa1+':\x20'+_0x385058;throw this[_0x28c442(0x45d)][_0x28c442(0x91c)](this['instanceName']+'\x20('+this['instance'][_0x28c442(0x586)]+_0x28c442(0x8fe)+_0x59a03c),new m(_0x59a03c);}}async[a0_0x4fa287(0x2dd)](_0x5f059d,_0x4e4ed0=a0_0x4fa287(0x903)){const _0x547eaa=a0_0x4fa287;try{let _0x3b0fe0=await this[_0x547eaa(0x830)][_0x547eaa(0x2ef)]['findOne']({'where':{'_id':_0x5f059d[_0x547eaa(0x61f)]}},this[_0x547eaa(0x60f)][_0x547eaa(0x586)]),_0x10b3a6=_0x3b0fe0?_0x3b0fe0['groupdata']:null,_0x313934=0x18*0x3c*0x3c*0x3e8;if(!_0x10b3a6||_0x10b3a6[_0x547eaa(0x8e3)]&&Date[_0x547eaa(0x6b0)]()-_0x10b3a6[_0x547eaa(0x8e3)]>_0x313934){let _0xb13259=await this[_0x547eaa(0x399)]['groupMetadata'](_0x5f059d[_0x547eaa(0x61f)]);if(_0xb13259['subjectTime']=_0xb13259?.[_0x547eaa(0x663)]&&_0xb13259['subjectTime'][_0x547eaa(0x644)]()[_0x547eaa(0x875)]<0xd?_0xb13259?.[_0x547eaa(0x663)]*0x3e8:_0xb13259?.[_0x547eaa(0x663)]||null,_0xb13259[_0x547eaa(0x447)]=_0xb13259?.[_0x547eaa(0x447)]&&_0xb13259['creation']['toString']()[_0x547eaa(0x875)]<0xd?_0xb13259?.['creation']*0x3e8:_0xb13259?.['creation']||null,_0x10b3a6={..._0xb13259,'lastUpdate':Date['now']()},!_0xb13259)return;}let _0x431282=_0x10b3a6['participants'][_0x547eaa(0x791)](_0x32a669=>_0x32a669['id']===this[_0x547eaa(0x60f)]['wuid']+_0x547eaa(0x37e)&&_0x32a669['admin']!=null);!_0x10b3a6[_0x547eaa(0x2ab)]&&_0x431282&&(_0x10b3a6[_0x547eaa(0x2ab)]=(await this[_0x547eaa(0x2ab)](_0x5f059d,!0x1))[_0x547eaa(0x590)]);let _0x4adaa4=(!_0x10b3a6[_0x547eaa(0x51f)]||_0x431282)&&(!_0x10b3a6[_0x547eaa(0x3ad)]||_0x10b3a6['isCommunity']&&_0x10b3a6['isCommunityAnnounce']&&_0x431282);_0x10b3a6[_0x547eaa(0x1ff)]=_0x431282,_0x10b3a6['canSendMessage']=_0x4adaa4;let _0x4a5345=[];if(_0x431282&&_0x10b3a6[_0x547eaa(0x81d)])try{_0x4a5345=await this[_0x547eaa(0x399)][_0x547eaa(0x81c)](_0x5f059d[_0x547eaa(0x61f)]),_0x10b3a6[_0x547eaa(0x62f)]=Date[_0x547eaa(0x6b0)]();}catch(_0x55c980){this[_0x547eaa(0x45d)][_0x547eaa(0x6b6)](this[_0x547eaa(0x86e)]+'\x20('+this[_0x547eaa(0x60f)][_0x547eaa(0x586)]+_0x547eaa(0x561)+_0x5f059d[_0x547eaa(0x61f)]+':\x20'+(_0x55c980 instanceof Error?_0x55c980[_0x547eaa(0x418)]:JSON['stringify'](_0x55c980,null,0x2)));}try{_0x10b3a6[_0x547eaa(0x515)]=(await this['findAndUpdateCacheContact'](_0x5f059d['groupJid'],null,!0x0))[_0x547eaa(0x67f)]['pictureUrl'];}catch(_0x438403){this['logger'][_0x547eaa(0x6b6)](this[_0x547eaa(0x86e)]+'\x20('+this[_0x547eaa(0x60f)][_0x547eaa(0x586)]+_0x547eaa(0x6c5)+_0x5f059d['groupJid']+':\x20'+(_0x438403 instanceof Error?_0x438403[_0x547eaa(0x418)]:JSON['stringify'](_0x438403,null,0x2)));}let _0x1e0f6e=_0x10b3a6[_0x547eaa(0x3b6)][_0x547eaa(0x465)](_0x5a6e9a=>_0x5a6e9a['id']),_0x48705a=_0x4a5345[_0x547eaa(0x465)](_0x1e5147=>_0x1e5147[_0x547eaa(0x35f)]),_0x22349a=await this[_0x547eaa(0x830)][_0x547eaa(0x694)][_0x547eaa(0x8b7)]([..._0x1e0f6e,..._0x48705a]);_0x10b3a6[_0x547eaa(0x3b6)]=_0x10b3a6[_0x547eaa(0x3b6)][_0x547eaa(0x465)](_0x2a2e3e=>{const _0x48a599=_0x547eaa;let _0x188e72=_0x22349a[_0x48a599(0x896)](_0x14d7ae=>_0x14d7ae[_0x48a599(0x817)]===_0x2a2e3e['id']);return{'id':_0x2a2e3e['id'],'isAdmin':[_0x48a599(0x700),_0x48a599(0x2b1)]['includes'](_0x2a2e3e['admin']),'admin':_0x2a2e3e[_0x48a599(0x700)],'pushName':_0x188e72?.[_0x48a599(0x378)],'profilePictureUrl':_0x188e72?.['pictureUrl']};}),_0x10b3a6['awaitingApproval']=_0x4a5345[_0x547eaa(0x465)](_0x2d46aa=>{const _0x5c5b08=_0x547eaa;let _0x3d57e8=_0x22349a[_0x5c5b08(0x896)](_0x4bc86f=>_0x4bc86f[_0x5c5b08(0x817)]===_0x2d46aa[_0x5c5b08(0x35f)]);return{'id':_0x2d46aa[_0x5c5b08(0x35f)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x3d57e8?.[_0x5c5b08(0x378)],'profilePictureUrl':_0x3d57e8?.[_0x5c5b08(0x774)],'request_method':_0x2d46aa[_0x5c5b08(0x899)],'request_time':_0x2d46aa['request_time']};});let _0xea0a3=await this[_0x547eaa(0x830)][_0x547eaa(0x2ef)]['updateOne']({'where':{'_id':_0x5f059d[_0x547eaa(0x61f)]}},{'imagechat':_0x10b3a6[_0x547eaa(0x515)],'name':_0x10b3a6['subject'],'lastcache':Date[_0x547eaa(0x6b0)](),'groupdata':_0x10b3a6},this['instance']['wuid']);return q(this[_0x547eaa(0x86e)],'chats',{'chat':_0xea0a3}),{'metadata':_0x10b3a6};}catch(_0x45cad4){if(_0x4e4ed0===_0x547eaa(0x66a))return;throw new J(_0x547eaa(0x457),_0x45cad4[_0x547eaa(0x418)][_0x547eaa(0x644)]());}}async[a0_0x4fa287(0x761)](){const _0x21f0e5=a0_0x4fa287;try{this[_0x21f0e5(0x45d)]['info'](_0x21f0e5(0x449));let _0x4c5faa=Date[_0x21f0e5(0x6b0)](),_0x5bbba1=0x3*0x3c*0x3c*0x3e8;return _0x4c5faa-this[_0x21f0e5(0x63d)]>_0x5bbba1&&(this[_0x21f0e5(0x6cd)](),this['lastRealGroupsFetch']=_0x4c5faa),(await this['repository'][_0x21f0e5(0x2ef)][_0x21f0e5(0x39e)]({'where':{'group':!0x0}},this[_0x21f0e5(0x60f)][_0x21f0e5(0x586)]))[_0x21f0e5(0x465)](_0x31166a=>({..._0x31166a[_0x21f0e5(0x607)],'groupJid':_0x31166a?.[_0x21f0e5(0x817)],'participants':_0x31166a?.[_0x21f0e5(0x607)]?.[_0x21f0e5(0x3b6)]||[],'awaitingApproval':_0x31166a?.['groupdata']?.['awaitingApproval']||[],'image':_0x31166a?.[_0x21f0e5(0x8e9)]}));}catch(_0x9375ed){let _0x2e260e=_0x21f0e5(0x8e0),_0x168ef2=_0x9375ed instanceof Error?_0x9375ed[_0x21f0e5(0x418)]:typeof _0x9375ed=='object'?JSON[_0x21f0e5(0x2b0)](_0x9375ed):_0x9375ed,_0x2fad91=_0x2e260e+':\x20'+_0x168ef2;throw this['logger']['error'](this[_0x21f0e5(0x86e)]+'\x20('+this[_0x21f0e5(0x60f)][_0x21f0e5(0x586)]+_0x21f0e5(0x8fe)+_0x2fad91),new J(_0x2fad91);}}async[a0_0x4fa287(0x6cd)](){const _0x577d3c=a0_0x4fa287;try{this['logger'][_0x577d3c(0x558)](_0x577d3c(0x421));let _0x1ab279=[],_0x49dcb8=await this[_0x577d3c(0x399)]['groupFetchAllParticipating'](),_0x58a640=Object[_0x577d3c(0x63f)](_0x49dcb8),_0x56e584=_0x58a640[_0x577d3c(0x314)](_0x4faa1b=>(0x0,w[_0x577d3c(0x5b4)])(_0x4faa1b?.['id']))['map'](async _0x15620f=>{const _0x3a6bbd=_0x577d3c;try{return await this[_0x3a6bbd(0x399)][_0x3a6bbd(0x806)](_0x15620f['id'],_0x3a6bbd(0x65c));}catch(_0x5857bf){return this[_0x3a6bbd(0x45d)][_0x3a6bbd(0x6b6)](this[_0x3a6bbd(0x86e)]+'\x20('+this[_0x3a6bbd(0x60f)][_0x3a6bbd(0x586)]+_0x3a6bbd(0x6c5)+_0x15620f['id']+':\x20'+(_0x5857bf instanceof Error?_0x5857bf[_0x3a6bbd(0x418)]:JSON[_0x3a6bbd(0x2b0)](_0x5857bf,null,0x2))),null;}}),_0xabb2b=await Promise['all'](_0x56e584);for(let _0x3fb343=0x0;_0x3fb343<_0x58a640[_0x577d3c(0x875)];_0x3fb343++){let _0x68dc9b=_0x58a640[_0x3fb343];(0x0,w[_0x577d3c(0x5b4)])(_0x68dc9b?.['id'])&&(_0x1ab279['push']({'groupJid':_0x68dc9b?.['id'],'subject':_0x68dc9b?.[_0x577d3c(0x1cc)],'subjectOwner':_0x68dc9b?.[_0x577d3c(0x4ba)]?.[_0x577d3c(0x916)]('@')[0x0],'subjectTime':_0x68dc9b?.[_0x577d3c(0x663)],'creation':_0x68dc9b?.[_0x577d3c(0x447)],'size':_0x68dc9b?.[_0x577d3c(0x3b6)]?.[_0x577d3c(0x875)],'owner':_0x68dc9b?.[_0x577d3c(0x85f)]?.['split']('@')[0x0],'desc':_0x68dc9b?.['desc'],'restrict':_0x68dc9b?.[_0x577d3c(0x610)],'announce':_0x68dc9b?.[_0x577d3c(0x51f)],'image':_0xabb2b[_0x3fb343],'isCommunity':_0x68dc9b?.['isCommunity'],'joinApprovalMode':_0x68dc9b?.['joinApprovalMode'],'memberCanAddParticipant':_0x68dc9b?.['memberAddMode'],'participants':_0x68dc9b?.[_0x577d3c(0x3b6)],'descOwner':_0x68dc9b?.['descOwner'],'descId':_0x68dc9b?.[_0x577d3c(0x4ce)],'memberAddMode':_0x68dc9b?.[_0x577d3c(0x40d)],'isCommunityAnnounce':_0x68dc9b?.[_0x577d3c(0x2b3)],'ephemeralDuration':_0x68dc9b?.[_0x577d3c(0x28f)]||0x0,'author':_0x68dc9b?.['author']}),this['updateChatGroupData'](_0x58a640[_0x3fb343]));}return _0x1ab279;}catch(_0x30a223){let _0x24af0d=_0x577d3c(0x7f4),_0x176f50=_0x30a223 instanceof Error?_0x30a223[_0x577d3c(0x418)]:typeof _0x30a223==_0x577d3c(0x2e5)?JSON[_0x577d3c(0x2b0)](_0x30a223):_0x30a223,_0x2e190f=_0x24af0d+':\x20'+_0x176f50;throw this[_0x577d3c(0x45d)][_0x577d3c(0x91c)](this['instanceName']+'\x20('+this[_0x577d3c(0x60f)][_0x577d3c(0x586)]+'):\x20'+_0x2e190f),new J(_0x2e190f);}}async['updateChatGroupData'](_0x150829){const _0x4f50aa=a0_0x4fa287;let _0x166973=await this[_0x4f50aa(0x830)]['chat'][_0x4f50aa(0x6bc)]({'where':{'_id':_0x150829['id']}},this[_0x4f50aa(0x60f)]['wuid']);_0x150829['subjectTime']=_0x150829?.[_0x4f50aa(0x663)]&&_0x150829[_0x4f50aa(0x663)][_0x4f50aa(0x644)]()[_0x4f50aa(0x875)]<0xd?_0x150829?.[_0x4f50aa(0x663)]*0x3e8:_0x150829?.['subjectTime']||null,_0x150829[_0x4f50aa(0x447)]=_0x150829?.['creation']&&_0x150829['creation'][_0x4f50aa(0x644)]()[_0x4f50aa(0x875)]<0xd?_0x150829?.[_0x4f50aa(0x447)]*0x3e8:_0x150829?.[_0x4f50aa(0x447)]||null;let _0x521d33=_0x166973?.[_0x4f50aa(0x607)]?.[_0x4f50aa(0x7e2)]||[],_0x1d55e8=_0x166973?.[_0x4f50aa(0x607)]?.[_0x4f50aa(0x62f)],_0x12d04b=_0x150829[_0x4f50aa(0x3b6)][_0x4f50aa(0x465)](_0x43031a=>{const _0x72e40e=_0x4f50aa;let _0x5036ea=_0x166973?.[_0x72e40e(0x607)]?.[_0x72e40e(0x3b6)][_0x72e40e(0x896)](_0x406f8c=>_0x406f8c['id']===_0x43031a['id']);return{..._0x43031a,'isAdmin':[_0x72e40e(0x700),'superadmin'][_0x72e40e(0x7f1)](_0x43031a[_0x72e40e(0x700)]),'admin':_0x43031a[_0x72e40e(0x700)],'name':_0x5036ea?.[_0x72e40e(0x378)]||_0x43031a['name'],'imgUrl':_0x5036ea?.['imgUrl']||_0x43031a['imgUrl']};}),_0x36ca2c=_0x12d04b[_0x4f50aa(0x791)](_0x4b0063=>_0x4b0063['id']===this['instance'][_0x4f50aa(0x586)]+_0x4f50aa(0x37e)&&_0x4b0063[_0x4f50aa(0x1ff)]),_0x850850=(!_0x150829[_0x4f50aa(0x51f)]||_0x36ca2c)&&(!_0x150829['isCommunity']||_0x150829[_0x4f50aa(0x3ad)]&&_0x150829[_0x4f50aa(0x2b3)]&&_0x36ca2c),_0x109a3a={..._0x150829,'participants':_0x12d04b,'awaitingApproval':_0x521d33,'lastFetchAwaitingApproval':_0x1d55e8,'isAdmin':_0x36ca2c,'canSendMessage':_0x850850,'lastUpdate':Date[_0x4f50aa(0x6b0)]()};await this[_0x4f50aa(0x830)][_0x4f50aa(0x2ef)][_0x4f50aa(0x3b3)]({'where':{'_id':_0x150829['id']}},{'name':_0x150829[_0x4f50aa(0x1cc)],'group':!0x0,'groupdata':_0x109a3a,'lastcache':Date[_0x4f50aa(0x6b0)]()},this[_0x4f50aa(0x60f)][_0x4f50aa(0x586)]),q(this[_0x4f50aa(0x86e)],_0x4f50aa(0x7b1),{'chat':_0x150829});}async[a0_0x4fa287(0x84f)](_0x470485){const _0x86a682=a0_0x4fa287;let _0x1dc238=await this[_0x86a682(0x830)][_0x86a682(0x2ef)]['findOne']({'where':{'_id':_0x470485['id']}},this[_0x86a682(0x60f)][_0x86a682(0x586)]);_0x470485['subjectTime']=_0x470485?.[_0x86a682(0x663)]&&_0x470485[_0x86a682(0x663)]['toString']()[_0x86a682(0x875)]<0xd?_0x470485?.[_0x86a682(0x663)]*0x3e8:_0x470485?.[_0x86a682(0x663)]||null,_0x470485[_0x86a682(0x447)]=_0x470485?.[_0x86a682(0x447)]&&_0x470485['creation']['toString']()[_0x86a682(0x875)]<0xd?_0x470485?.[_0x86a682(0x447)]*0x3e8:_0x470485?.['creation']||null,_0x470485[_0x86a682(0x2ab)]&&(_0x470485[_0x86a682(0x2ab)]='https://chat.whatsapp.com/'+_0x470485[_0x86a682(0x2ab)]);let _0x1d3394=_0x1dc238?.[_0x86a682(0x607)]?{..._0x1dc238[_0x86a682(0x607)]}:{};Object[_0x86a682(0x647)](_0x470485)[_0x86a682(0x442)](_0x53cc4b=>{_0x53cc4b!=='id'&&(_0x1d3394[_0x53cc4b]=_0x470485[_0x53cc4b]);});let _0x1abd54=_0x1d3394[_0x86a682(0x3b6)]?.[_0x86a682(0x791)](_0x1b3988=>_0x1b3988['id']===this[_0x86a682(0x60f)][_0x86a682(0x586)]+'@s.whatsapp.net'&&_0x1b3988[_0x86a682(0x1ff)])||!0x1;_0x1d3394[_0x86a682(0x1ff)]=_0x1abd54;let _0x5e15da=(!_0x1d3394[_0x86a682(0x51f)]||_0x1abd54)&&(!_0x1d3394[_0x86a682(0x3ad)]||_0x1d3394['isCommunity']&&_0x1d3394[_0x86a682(0x2b3)]&&_0x1abd54);_0x1d3394[_0x86a682(0x313)]=_0x5e15da;let _0x15b880={'group':!0x0,'groupdata':_0x1d3394};_0x470485[_0x86a682(0x1cc)]&&(_0x15b880[_0x86a682(0x378)]=_0x470485[_0x86a682(0x1cc)]),await this[_0x86a682(0x830)][_0x86a682(0x2ef)][_0x86a682(0x3b3)]({'where':{'_id':_0x470485['id']}},_0x15b880,this[_0x86a682(0x60f)][_0x86a682(0x586)],{'upsert':!0x0}),q(this['instanceName'],_0x86a682(0x7b1),{'chat':_0x15b880});}async[a0_0x4fa287(0x65f)](_0x144f3e){const _0x47d057=a0_0x4fa287;let _0x338ff8=await this[_0x47d057(0x830)][_0x47d057(0x2ef)][_0x47d057(0x6bc)]({'where':{'_id':_0x144f3e['id']}},this[_0x47d057(0x60f)][_0x47d057(0x586)]);if(!_0x338ff8||!_0x338ff8['groupdata']){this[_0x47d057(0x45d)]['info'](this[_0x47d057(0x86e)]+'\x20('+this[_0x47d057(0x60f)]['wuid']+_0x47d057(0x490)+_0x144f3e['id']);return;}let _0x33d5e4=await this[_0x47d057(0x830)][_0x47d057(0x694)][_0x47d057(0x8b7)](_0x144f3e[_0x47d057(0x3b6)]),_0x319273=[..._0x338ff8[_0x47d057(0x607)]?.['participants']];switch(_0x144f3e[_0x47d057(0x2a7)]){case _0x47d057(0x2ac):let _0x3200c6=_0x33d5e4['map'](_0x5ddcc0=>({'id':_0x5ddcc0['_id'],'isAdmin':!0x1,'name':_0x5ddcc0[_0x47d057(0x378)],'imgUrl':_0x5ddcc0[_0x47d057(0x774)]}));_0x319273=[..._0x319273,..._0x3200c6];break;case _0x47d057(0x57a):_0x319273=_0x319273[_0x47d057(0x314)](_0x1e16d4=>!_0x144f3e[_0x47d057(0x3b6)][_0x47d057(0x7f1)](_0x1e16d4['id']));break;case'promote':case'demote':_0x319273=_0x319273[_0x47d057(0x465)](_0x422e57=>_0x144f3e['participants'][_0x47d057(0x7f1)](_0x422e57['id'])?{..._0x422e57,'isAdmin':_0x144f3e[_0x47d057(0x2a7)]===_0x47d057(0x7b7)}:_0x422e57);break;}let _0x248e47=_0x319273[_0x47d057(0x875)],_0x113bde=_0x319273[_0x47d057(0x791)](_0xa32fee=>_0xa32fee['id']===this['instance'][_0x47d057(0x586)]+_0x47d057(0x37e)),_0x261868=_0x113bde&&_0x319273[_0x47d057(0x791)](_0x30a504=>_0x30a504['id']===this[_0x47d057(0x60f)][_0x47d057(0x586)]+_0x47d057(0x37e)&&_0x30a504[_0x47d057(0x1ff)]),_0x584bd4=_0x113bde&&(!_0x338ff8[_0x47d057(0x607)][_0x47d057(0x51f)]||_0x261868)&&(!_0x338ff8[_0x47d057(0x607)][_0x47d057(0x3ad)]||_0x338ff8[_0x47d057(0x607)]['isCommunity']&&_0x261868);await this[_0x47d057(0x830)][_0x47d057(0x2ef)][_0x47d057(0x3b3)]({'where':{'_id':_0x144f3e['id']}},{'groupdata':{..._0x338ff8['groupdata'],'participants':_0x319273,'size':_0x248e47,'isAdmin':_0x261868,'canSendMessage':_0x584bd4}},this['instance'][_0x47d057(0x586)]),this[_0x47d057(0x45d)]['info'](this[_0x47d057(0x86e)]+'\x20('+this['instance'][_0x47d057(0x586)]+_0x47d057(0x4d0)+_0x144f3e['id']+_0x47d057(0x30d)+_0x144f3e[_0x47d057(0x2a7)]+',\x20Novo\x20tamanho:\x20'+_0x248e47+_0x47d057(0x5e1)+_0x261868+_0x47d057(0x291)+_0x584bd4);}async[a0_0x4fa287(0x2ab)](_0x217e9b,_0x5324fd=!0x0){const _0x3c3164=a0_0x4fa287;try{let _0x35b8a7=await this['client'][_0x3c3164(0x4a8)](_0x217e9b['groupJid']),_0x21fe6e={'groupdata.inviteCode':_0x3c3164(0x6b1)+_0x35b8a7};if(_0x5324fd){let _0x39f5a6=await this[_0x3c3164(0x830)]['chat'][_0x3c3164(0x3b3)]({'where':{'_id':_0x217e9b['groupJid']}},_0x21fe6e,this['instance'][_0x3c3164(0x586)]);}return{'inviteUrl':'https://chat.whatsapp.com/'+_0x35b8a7,'inviteCode':_0x35b8a7};}catch(_0x433433){let _0x5b9453=_0x3c3164(0x6c0),_0x2c315d=_0x433433 instanceof Error?_0x433433[_0x3c3164(0x418)]:typeof _0x433433=='object'?JSON[_0x3c3164(0x2b0)](_0x433433):_0x433433,_0x4d9880=_0x5b9453+':\x20'+_0x2c315d;throw this['logger'][_0x3c3164(0x91c)](this[_0x3c3164(0x86e)]+'\x20('+this[_0x3c3164(0x60f)][_0x3c3164(0x586)]+_0x3c3164(0x8fe)+_0x4d9880),new J(_0x4d9880);}}async[a0_0x4fa287(0x7c9)](_0x382988){const _0x3c58e6=a0_0x4fa287;try{let _0x4fbec1=await this[_0x3c58e6(0x399)][_0x3c58e6(0x7cf)](_0x382988['groupJid']);return{'revoked':!0x0,'inviteUrl':_0x3c58e6(0x6b1)+_0x4fbec1,'inviteCode':_0x4fbec1};}catch(_0x11b53d){let _0x47a425=_0x3c58e6(0x6dc),_0x517a9b=_0x11b53d instanceof Error?_0x11b53d[_0x3c58e6(0x418)]:typeof _0x11b53d==_0x3c58e6(0x2e5)?JSON[_0x3c58e6(0x2b0)](_0x11b53d):_0x11b53d,_0x4979f5=_0x47a425+':\x20'+_0x517a9b;throw this[_0x3c58e6(0x45d)][_0x3c58e6(0x91c)](this[_0x3c58e6(0x86e)]+'\x20('+this[_0x3c58e6(0x60f)]['wuid']+_0x3c58e6(0x8fe)+_0x4979f5),new J(_0x4979f5);}}async[a0_0x4fa287(0x41e)](_0x4d5ad6){const _0x5b4173=a0_0x4fa287;try{if((0x0,L[_0x5b4173(0x52c)])(_0x4d5ad6['inviteCode']))var _0x538ff1=_0x4d5ad6[_0x5b4173(0x2ab)][_0x5b4173(0x916)]('/')[0x3];else var _0x538ff1=_0x4d5ad6[_0x5b4173(0x2ab)];let _0x5bc9fc=await this[_0x5b4173(0x399)][_0x5b4173(0x1da)](_0x538ff1);return this[_0x5b4173(0x45d)]['verbose'](this[_0x5b4173(0x86e)]+'\x20('+this[_0x5b4173(0x60f)][_0x5b4173(0x586)]+_0x5b4173(0x8fe)+_0x5bc9fc),{'join':!0x0,'inviteCode':_0x538ff1,'groupJid':_0x5bc9fc};}catch(_0x94ee1e){let _0x5ecc02=_0x5b4173(0x78c),_0x7eb96c=_0x94ee1e instanceof Error?_0x94ee1e['message']:typeof _0x94ee1e==_0x5b4173(0x2e5)?JSON[_0x5b4173(0x2b0)](_0x94ee1e):_0x94ee1e,_0xe715fe=_0x5ecc02+':\x20'+_0x7eb96c;throw this[_0x5b4173(0x45d)][_0x5b4173(0x91c)](this[_0x5b4173(0x86e)]+'\x20('+this[_0x5b4173(0x60f)]['wuid']+'):\x20'+_0xe715fe),new J(_0xe715fe);}}async['findParticipants'](_0x49d22c){const _0x48e8f4=a0_0x4fa287;try{return{'participants':(await this[_0x48e8f4(0x830)][_0x48e8f4(0x2ef)][_0x48e8f4(0x6bc)]({'where':{'_id':_0x49d22c['groupJid']}},this['instance']['wuid']))['groupdata']['participants']};}catch(_0x3e241e){let _0x59b28b=_0x48e8f4(0x5d1),_0xb03f83=_0x3e241e instanceof Error?_0x3e241e[_0x48e8f4(0x418)]:typeof _0x3e241e==_0x48e8f4(0x2e5)?JSON[_0x48e8f4(0x2b0)](_0x3e241e):_0x3e241e,_0x2ec13a=_0x59b28b+':\x20'+_0xb03f83;throw this[_0x48e8f4(0x45d)]['error'](this[_0x48e8f4(0x86e)]+'\x20('+this[_0x48e8f4(0x60f)][_0x48e8f4(0x586)]+_0x48e8f4(0x8fe)+_0x2ec13a),new J(_0x2ec13a);}}async[a0_0x4fa287(0x433)](_0x3761fe){const _0x167625=a0_0x4fa287;try{return await this['client'][_0x167625(0x1e8)](_0x3761fe[_0x167625(0x61f)]),{'groupJid':_0x3761fe['groupJid'],'leave':!0x0};}catch(_0x145e47){let _0x394e91=_0x167625(0x86a),_0x2acd6b=_0x145e47 instanceof Error?_0x145e47['message']:typeof _0x145e47=='object'?JSON[_0x167625(0x2b0)](_0x145e47):_0x145e47,_0x545789=_0x394e91+':\x20'+_0x2acd6b;throw this[_0x167625(0x45d)][_0x167625(0x91c)](this[_0x167625(0x86e)]+'\x20('+this[_0x167625(0x60f)]['wuid']+'):\x20'+_0x545789),new m(_0x545789);}}async[a0_0x4fa287(0x3a6)](_0x4ccd21){const _0x50f142=a0_0x4fa287;return await this[_0x50f142(0x40a)](_0x4ccd21[_0x50f142(0x3c7)],{'poll':{'name':_0x4ccd21[_0x50f142(0x3a6)]?.['name'],'selectableCount':_0x4ccd21[_0x50f142(0x3a6)][_0x50f142(0x40e)],'values':_0x4ccd21['pollMessage']['values']}},_0x4ccd21?.[_0x50f142(0x79a)]);}async['listMessage'](_0x1b9002){const _0x337215=a0_0x4fa287;return await this[_0x337215(0x40a)](_0x1b9002['number'],{'listMessage':{'title':_0x1b9002[_0x337215(0x50f)][_0x337215(0x348)],'description':_0x1b9002[_0x337215(0x50f)][_0x337215(0x1d9)],'buttonText':_0x1b9002[_0x337215(0x50f)]?.[_0x337215(0x5ea)],'footerText':_0x1b9002['listMessage']?.[_0x337215(0x570)],'sections':_0x1b9002[_0x337215(0x50f)][_0x337215(0x46a)],'listType':0x2}},_0x1b9002?.[_0x337215(0x79a)]);}async['menuMessage'](_0x40cd22){const _0x3d30db=a0_0x4fa287;let _0x2b8804;if(_0x40cd22[_0x3d30db(0x802)][_0x3d30db(0x429)]===_0x3d30db(0x6a4)){let _0x64c7a4=_0x40cd22[_0x3d30db(0x802)][_0x3d30db(0x236)]['indexOf']('\x0a'),_0x14f26f='',_0x59b3c3='';_0x64c7a4!==-0x1?(_0x14f26f=_0x40cd22[_0x3d30db(0x802)][_0x3d30db(0x236)][_0x3d30db(0x3c1)](0x0,_0x64c7a4)[_0x3d30db(0x602)](),_0x59b3c3=_0x40cd22[_0x3d30db(0x802)][_0x3d30db(0x236)]['substring'](_0x64c7a4+0x1)):_0x59b3c3=_0x40cd22[_0x3d30db(0x802)][_0x3d30db(0x236)];let _0x404f1f=_0x40cd22['menuMessage'][_0x3d30db(0x90d)][_0x3d30db(0x314)](_0x2c4fa1=>_0x2c4fa1[_0x3d30db(0x602)]()!==''),_0x32e4a3=this[_0x3d30db(0x812)](_0x404f1f);_0x2b8804={'listMessage':{'title':_0x14f26f,'description':_0x59b3c3,'buttonText':_0x40cd22['menuMessage'][_0x3d30db(0x5ea)]||_0x3d30db(0x4c0),'footerText':_0x40cd22[_0x3d30db(0x802)][_0x3d30db(0x570)],'sections':_0x32e4a3,'listType':0x2}};}else{if(_0x40cd22[_0x3d30db(0x802)][_0x3d30db(0x429)]==='poll'){let _0x2a6050=_0x40cd22[_0x3d30db(0x802)][_0x3d30db(0x90d)][_0x3d30db(0x314)](_0x137e85=>!(_0x137e85[_0x3d30db(0x61a)]('[')&&_0x137e85[_0x3d30db(0x8a5)](']'))&&_0x137e85['trim']()!=='')[_0x3d30db(0x465)](_0x41a57e=>_0x41a57e['split']('\x0a')[0x0]);_0x2b8804={'poll':{'name':_0x40cd22[_0x3d30db(0x802)][_0x3d30db(0x236)],'selectableCount':_0x40cd22['menuMessage'][_0x3d30db(0x40e)]||0x1,'values':_0x2a6050}};}}return await this['sendMessageWithTyping'](_0x40cd22[_0x3d30db(0x3c7)],_0x2b8804,_0x40cd22?.[_0x3d30db(0x79a)]);}[a0_0x4fa287(0x812)](_0x20c404){const _0x5552ff=a0_0x4fa287;let _0xf13066=[],_0xf03287={'rows':[]};return _0x20c404[_0x5552ff(0x442)](_0x524307=>{const _0x40aa35=_0x5552ff;if(_0x524307['startsWith']('[')&&_0x524307[_0x40aa35(0x8a5)](']'))_0xf03287['rows'][_0x40aa35(0x875)]>0x0&&_0xf13066[_0x40aa35(0x2fc)](_0xf03287),_0xf03287={'title':_0x524307[_0x40aa35(0x479)](0x1,-0x1),'rows':[]};else{let _0x2ce051=_0x524307[_0x40aa35(0x916)]('\x0a')['map'](_0x354808=>_0x354808['trim']()),_0x4378b0=_0x2ce051[0x0],_0xd83576=_0x2ce051[0x1]||null,_0x71963f=_0x2ce051[0x2]||_0x4378b0;_0xf03287[_0x40aa35(0x8f6)]['push']({'title':_0x4378b0,'description':_0xd83576,'rowId':_0x71963f});}}),_0xf03287[_0x5552ff(0x8f6)][_0x5552ff(0x875)]>0x0&&_0xf13066[_0x5552ff(0x2fc)](_0xf03287),_0xf13066;}async['updateMessage'](_0x489be5,_0x3fd2e){const _0x1876ae=a0_0x4fa287;if(await this[_0x1876ae(0x7dc)](_0x489be5,!0x0)){let _0x58d0aa={'where':{'_id':_0x489be5['id']}},_0x546fe5={'status':[_0x3fd2e[_0x1876ae(0x370)]][0x0]};try{let _0x273e97=await this['repository'][_0x1876ae(0x418)][_0x1876ae(0x48b)](_0x58d0aa,_0x546fe5,this[_0x1876ae(0x60f)][_0x1876ae(0x586)]);_0x273e97&&q(this[_0x1876ae(0x86e)],_0x1876ae(0x84d),{'message':_0x273e97});}catch{}}}['sectionsToString'](_0x5c3086){const _0x3b1ea8=a0_0x4fa287;let _0x3219f3=[];return _0x5c3086[_0x3b1ea8(0x442)](_0x228010=>{const _0xf59812=_0x3b1ea8;_0x228010[_0xf59812(0x348)]&&_0x3219f3[_0xf59812(0x2fc)]('['+_0x228010[_0xf59812(0x348)]+']'),_0x228010[_0xf59812(0x8f6)][_0xf59812(0x442)](_0x15dd65=>{const _0x231773=_0xf59812;_0x3219f3[_0x231773(0x2fc)](_0x15dd65['title']);});}),_0x3219f3['join']('|');}[a0_0x4fa287(0x688)](_0x27d8d4){const _0x32b50c=a0_0x4fa287;let _0x5e84fa=_0x27d8d4[_0x32b50c(0x2a9)](/\\n/g,'\x0a')[_0x32b50c(0x916)]('\x0a')[_0x32b50c(0x314)](_0x573ee4=>_0x573ee4['includes'](_0x32b50c(0x48c))||_0x573ee4[_0x32b50c(0x7f1)]('EMAIL')),_0x38f182='';return _0x5e84fa[_0x32b50c(0x442)](_0x4f8824=>{const _0x270edd=_0x32b50c;let _0xcc1169=/TEL(?:.*):(.+)/,_0x52363c=/EMAIL(?:.*):(.+)/,_0x5657d4=_0x4f8824[_0x270edd(0x665)](_0xcc1169),_0x4cdd9b=_0x4f8824[_0x270edd(0x665)](_0x52363c);if(_0x5657d4){let _0x1bd6cd=_0x5657d4[0x1][_0x270edd(0x2a9)](/-| |\+|\(|\)/g,'')[_0x270edd(0x602)]();_0x38f182+='Telefone:\x20'+_0x1bd6cd+'\x0a';}else{if(_0x4cdd9b){let _0x15dde2=_0x4cdd9b[0x1]['trim']();_0x38f182+=_0x270edd(0x3f5)+_0x15dde2+'\x0a';}}}),_0x38f182[_0x32b50c(0x602)]();}async[a0_0x4fa287(0x857)](_0x2c7bdd,_0x40dd83,_0x4556d1,_0x325a27=null){const _0x3f6c02=a0_0x4fa287;if(_0x2c7bdd[_0x3f6c02(0x729)])try{let _0x4b285e=_0x40dd83[_0x3f6c02(0x27b)][_0x3f6c02(0x224)][_0x3f6c02(0x2a9)](/:\d{1,2}@/g,'@'),_0x29d86d=_0x40dd83[_0x3f6c02(0x27b)][_0x3f6c02(0x827)],_0x33299e=_0x4b285e[_0x3f6c02(0x8a5)](_0x3f6c02(0x3c2)),_0x587d57=_0x40dd83['participant']?.['replace'](/:\d{1,2}@/g,'@')||'',_0x584b68=_0x40dd83['message_normalized']?.[_0x3f6c02(0x236)]||_0x40dd83[_0x3f6c02(0x4e9)]?.[_0x3f6c02(0x865)]||_0x40dd83[_0x3f6c02(0x4e9)]?.[_0x3f6c02(0x894)]||_0x40dd83[_0x3f6c02(0x4e9)]?.[_0x3f6c02(0x378)]||'',_0x32f612={'_id':_0x40dd83['_id'],'remoteJid':_0x29d86d?this[_0x3f6c02(0x60f)][_0x3f6c02(0x586)]:_0x33299e?_0x587d57:_0x4b285e,'pushName':_0x29d86d?this['instance']['profileName']||'Eu':_0x40dd83['pushName'],'text':_0x584b68,'type':_0x40dd83[_0x3f6c02(0x874)],'when':_0x40dd83[_0x3f6c02(0x3bf)]||Date['now']()};_0x325a27||(_0x325a27=await this[_0x3f6c02(0x830)][_0x3f6c02(0x2ef)][_0x3f6c02(0x6bc)]({'where':{'_id':_0x4b285e}},this[_0x3f6c02(0x60f)][_0x3f6c02(0x586)]));let _0x397a5c=_0x325a27?_0x29d86d?_0x325a27[_0x3f6c02(0x2f2)]:(_0x325a27['unreadcount']||0x0)+0x1:_0x29d86d?0x0:0x1,_0x1781d6={'lastmsg':_0x40dd83[_0x3f6c02(0x3bf)]||Date[_0x3f6c02(0x6b0)](),'ephemeralExpiration':_0x40dd83[_0x3f6c02(0x69f)],'lastMessage':_0x32f612,'unreadcount':_0x397a5c,..._0x29d86d||_0x33299e?{}:{'name':_0x40dd83[_0x3f6c02(0x8c2)]},..._0x33299e?{'group':_0x33299e}:{},...!_0x29d86d&&!_0x33299e&&_0x40dd83[_0x3f6c02(0x806)]?{'imagechat':_0x40dd83[_0x3f6c02(0x806)]}:{}};if(!_0x33299e&&(!_0x325a27?.[_0x3f6c02(0x3b9)]||!_0x325a27[_0x3f6c02(0x3b9)][_0x3f6c02(0x536)])&&_0x40dd83[_0x3f6c02(0x8c2)]&&!_0x29d86d&&(_0x1781d6={..._0x1781d6,'leadInfo.nome':_0x40dd83[_0x3f6c02(0x8c2)]}),_0x325a27?.[_0x3f6c02(0x3b9)][_0x3f6c02(0x1e2)]||(_0x1781d6={..._0x1781d6,'leadInfo.etiquetas':[]}),_0x325a27?.[_0x3f6c02(0x3b9)][_0x3f6c02(0x87f)]||(_0x1781d6={..._0x1781d6,'leadInfo.customFields':[]}),_0x325a27?.[_0x3f6c02(0x3b9)][_0x3f6c02(0x258)]||(_0x1781d6={..._0x1781d6,'leadInfo.tags':[]}),_0x325a27&&_0x325a27?.[_0x3f6c02(0x1d6)]){let _0x32f08f=await this[_0x3f6c02(0x830)][_0x3f6c02(0x535)][_0x3f6c02(0x896)]({'where':{}},this[_0x3f6c02(0x60f)][_0x3f6c02(0x586)]),_0x29d4b6=new Set(_0x32f08f[_0x3f6c02(0x465)](_0x73d61d=>_0x73d61d[_0x3f6c02(0x817)])),_0x19ce53=(_0x325a27[_0x3f6c02(0x3b9)]?.[_0x3f6c02(0x1e2)]||[])[_0x3f6c02(0x314)](_0x58d686=>_0x29d4b6[_0x3f6c02(0x842)](_0x58d686));_0x1781d6={..._0x1781d6,'imported':!0x1,'leadInfo.etiquetas':_0x19ce53};for(let _0x158672 of _0x19ce53)await this[_0x3f6c02(0x783)](_0x158672,_0x4b285e);}if(!this['AutomateSystem'][_0x3f6c02(0x395)][_0x3f6c02(0x896)](_0x3a94fe=>_0x3a94fe[_0x3f6c02(0x7e1)]&&_0x584b68['includes'](_0x3a94fe[_0x3f6c02(0x7e1)]))&&_0x4556d1===_0x3f6c02(0x3b5)&&_0x29d86d&&this[_0x3f6c02(0x1d4)]?.[_0x3f6c02(0x359)][_0x3f6c02(0x286)]&&_0x584b68[_0x3f6c02(0x602)]()!==this[_0x3f6c02(0x1d4)]?.[_0x3f6c02(0x359)]['stopConversation'][_0x3f6c02(0x602)]()){let _0x8ea43c=(this['AutomateSystem']?.[_0x3f6c02(0x359)][_0x3f6c02(0x71b)]||0x0)*0xea60,_0x1ebc01=Date[_0x3f6c02(0x6b0)]()+_0x8ea43c;_0x325a27?.[_0x3f6c02(0x3b9)]?.[_0x3f6c02(0x728)]===0x0||(_0x1781d6={..._0x1781d6,'leadInfo.desativadoFluxoAte':_0x1ebc01},this[_0x3f6c02(0x45d)][_0x3f6c02(0x6b6)](this[_0x3f6c02(0x86e)]+'\x20('+this['instance'][_0x3f6c02(0x586)]+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20'+_0x1ebc01+'.'));}if(_0x584b68[_0x3f6c02(0x602)]()===this[_0x3f6c02(0x1d4)]?.[_0x3f6c02(0x359)]['stopConversation'][_0x3f6c02(0x602)]()){this[_0x3f6c02(0x45d)][_0x3f6c02(0x6b6)](this[_0x3f6c02(0x86e)]+'\x20('+this[_0x3f6c02(0x60f)][_0x3f6c02(0x586)]+_0x3f6c02(0x722)+_0x584b68);let _0x1e2c06=Date['now']();this['AutomateSystem']?.[_0x3f6c02(0x359)][_0x3f6c02(0x816)]===0x0?_0x1781d6={..._0x1781d6,'leadInfo.desativadoFluxoAte':_0x1e2c06+0x7591f6200}:_0x1781d6={..._0x1781d6,'leadInfo.desativadoFluxoAte':_0x1e2c06+this[_0x3f6c02(0x1d4)]?.['flowConfig'][_0x3f6c02(0x816)]*0x3c*0x3e8};}if(_0x325a27=await this['repository'][_0x3f6c02(0x2ef)][_0x3f6c02(0x3b3)]({'where':{'_id':_0x4b285e}},_0x1781d6,this[_0x3f6c02(0x60f)][_0x3f6c02(0x586)],{'new':!0x0,'upsert':!0x0}),_0x325a27)q(this[_0x3f6c02(0x86e)],_0x3f6c02(0x7b1),{'chat':_0x325a27});else{this[_0x3f6c02(0x45d)][_0x3f6c02(0x91c)](this[_0x3f6c02(0x86e)]+'\x20('+this[_0x3f6c02(0x60f)]['wuid']+_0x3f6c02(0x525));return;}if(_0x29d86d)return this[_0x3f6c02(0x45d)][_0x3f6c02(0x6b6)](this[_0x3f6c02(0x86e)]+'\x20('+this[_0x3f6c02(0x60f)][_0x3f6c02(0x586)]+'):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...'),null;if(!this['AutomateSystem']?.['flowConfig'][_0x3f6c02(0x286)])return this[_0x3f6c02(0x45d)][_0x3f6c02(0x6b6)](this[_0x3f6c02(0x86e)]+'\x20('+this['instance']['wuid']+'):\x20Flow\x20desativado'),null;if(_0x325a27['_id'][_0x3f6c02(0x7f1)](_0x3f6c02(0x3c2))&&this[_0x3f6c02(0x1d4)]?.['flowConfig']['ignoreGroups']===!0x0)return this['logger']['verbose'](this[_0x3f6c02(0x86e)]+'\x20('+this[_0x3f6c02(0x60f)]['wuid']+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x325a27[_0x3f6c02(0x3b9)]){if(_0x325a27[_0x3f6c02(0x3b9)][_0x3f6c02(0x728)]===0x0||_0x325a27[_0x3f6c02(0x3b9)]['atendimentoAberto'])return this[_0x3f6c02(0x45d)][_0x3f6c02(0x6b6)](this[_0x3f6c02(0x86e)]+'\x20('+this[_0x3f6c02(0x60f)][_0x3f6c02(0x586)]+_0x3f6c02(0x64e)+_0x4b285e+_0x3f6c02(0x244)),null;if(_0x325a27['leadInfo'][_0x3f6c02(0x728)]>Date['now']()&&!_0x40dd83[_0x3f6c02(0x4e9)]?.[_0x3f6c02(0x894)])return this[_0x3f6c02(0x45d)][_0x3f6c02(0x6b6)](this[_0x3f6c02(0x86e)]+'\x20('+this['instance'][_0x3f6c02(0x586)]+_0x3f6c02(0x366)+new Date(_0x325a27[_0x3f6c02(0x3b9)]['desativadoFluxoAte'])[_0x3f6c02(0x540)]()+_0x3f6c02(0x244)),null;}this[_0x3f6c02(0x45d)][_0x3f6c02(0x6b6)](this[_0x3f6c02(0x86e)]+'\x20('+this[_0x3f6c02(0x60f)][_0x3f6c02(0x586)]+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x3f6c02(0x4cf)](_0x40dd83,_0x4556d1);}catch(_0x165a95){let _0x5594c8=_0x3f6c02(0x3d9),_0x18ef92=_0x165a95 instanceof Error?_0x165a95[_0x3f6c02(0x418)]:typeof _0x165a95==_0x3f6c02(0x2e5)?JSON[_0x3f6c02(0x2b0)](_0x165a95):_0x165a95,_0x23ad83=_0x5594c8+':\x20'+_0x18ef92;return this[_0x3f6c02(0x45d)][_0x3f6c02(0x91c)](this[_0x3f6c02(0x86e)]+'\x20('+this['instance'][_0x3f6c02(0x586)]+_0x3f6c02(0x8fe)+_0x23ad83),null;}}async['upsertChats'](_0x47e755,_0xfa7495){const _0x5abb84=a0_0x4fa287;if(_0xfa7495[_0x5abb84(0x729)]){let _0x2f09b6=_0x47e755[_0x5abb84(0x465)](async _0x4ea6d2=>{const _0x2f0470=_0x5abb84;try{let _0x4524ff={'_id':_0x4ea6d2[_0x2f0470(0x817)],'owner':_0x4ea6d2['owner'],'lastcache':0x0};if(Object[_0x2f0470(0x647)](_0x4ea6d2)[_0x2f0470(0x442)](_0x25c450=>{_0x4ea6d2[_0x25c450]!==null&&(_0x4524ff[_0x25c450]=_0x4ea6d2[_0x25c450]);}),_0x4524ff[_0x2f0470(0x8e9)]===null&&(_0x4524ff['imagechat']='Imagem\x20não\x20encontrada'),Object[_0x2f0470(0x647)](_0x4524ff)[_0x2f0470(0x875)]>0x0)return await this[_0x2f0470(0x830)][_0x2f0470(0x2ef)][_0x2f0470(0x3b3)]({'where':{'_id':_0x4ea6d2[_0x2f0470(0x817)]}},_0x4524ff,this[_0x2f0470(0x60f)][_0x2f0470(0x586)]);}catch(_0x5f0f47){let _0x50680c='Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x4ea6d2['_id'],_0x301432=_0x5f0f47 instanceof Error?_0x5f0f47['message']:typeof _0x5f0f47==_0x2f0470(0x2e5)?JSON['stringify'](_0x5f0f47):_0x5f0f47,_0x18fd5e=_0x50680c+':\x20'+_0x301432;return this[_0x2f0470(0x45d)][_0x2f0470(0x91c)](this[_0x2f0470(0x86e)]+'\x20('+this[_0x2f0470(0x60f)]['wuid']+'):\x20'+_0x18fd5e),null;}}),_0x5701b4=(await Promise[_0x5abb84(0x3d7)](_0x2f09b6))['filter'](_0x583733=>_0x583733!==null)['length'];this[_0x5abb84(0x45d)][_0x5abb84(0x6b6)](this[_0x5abb84(0x86e)]+'\x20('+this[_0x5abb84(0x60f)][_0x5abb84(0x586)]+'):\x20'+_0x5701b4+_0x5abb84(0x26d)+this[_0x5abb84(0x60f)][_0x5abb84(0x586)]+_0x5abb84(0x4d1));}}async[a0_0x4fa287(0x501)](_0x28f626){const _0x87c3e0=a0_0x4fa287;this[_0x87c3e0(0x45d)]['verbose'](this[_0x87c3e0(0x86e)]+'\x20('+this[_0x87c3e0(0x60f)]['wuid']+_0x87c3e0(0x8cf));let _0x4ebc83={'readMessages':[{'remoteJid':_0x28f626[_0x87c3e0(0x792)]['lastReceivedMessage']['key'][_0x87c3e0(0x224)],'fromMe':_0x28f626[_0x87c3e0(0x792)][_0x87c3e0(0x547)][_0x87c3e0(0x27b)][_0x87c3e0(0x827)],'id':_0x28f626[_0x87c3e0(0x792)][_0x87c3e0(0x547)][_0x87c3e0(0x27b)]['id']}]};await this['markMessageAsRead'](_0x4ebc83);}async['StartBot'](_0x56b6ee,_0x563b63){const _0x20c47c=a0_0x4fa287;try{let {key:_0x1c80f7,message_normalized:_0x2f35fc}=_0x56b6ee,_0x5328c7=_0x2f35fc,_0x39995c=_0x2f35fc['text']||_0x2f35fc[_0x20c47c(0x865)]||_0x2f35fc[_0x20c47c(0x894)]||_0x2f35fc[_0x20c47c(0x378)]||'',_0x452229=_0x1c80f7[_0x20c47c(0x224)],_0x35d590=null,_0x262966=this['AutomateSystem'][_0x20c47c(0x395)][_0x20c47c(0x896)](_0x2e1149=>_0x2e1149[_0x20c47c(0x7e1)]&&_0x39995c[_0x20c47c(0x7f1)](_0x2e1149[_0x20c47c(0x7e1)]));if(_0x262966&&_0x563b63===_0x20c47c(0x3b5)){let _0x4bddfa=await this['repository'][_0x20c47c(0x29d)][_0x20c47c(0x6bc)]({'where':{'_id':_0x262966[_0x20c47c(0x817)]}});if(this['logger'][_0x20c47c(0x6b6)](this[_0x20c47c(0x86e)]+'\x20('+this['instance']['wuid']+_0x20c47c(0x89c)),_0x4bddfa&&_0x4bddfa[_0x20c47c(0x292)]?.[_0x20c47c(0x7f1)](this[_0x20c47c(0x60f)][_0x20c47c(0x586)]))_0x35d590=await this['createNewConversation'](_0x4bddfa,_0x1c80f7,_0x5328c7);else return this[_0x20c47c(0x45d)][_0x20c47c(0x6b6)](this[_0x20c47c(0x86e)]+'\x20('+this[_0x20c47c(0x60f)][_0x20c47c(0x586)]+_0x20c47c(0x8d5)),null;}else this[_0x20c47c(0x45d)][_0x20c47c(0x6b6)](this[_0x20c47c(0x86e)]+'\x20('+this['instance'][_0x20c47c(0x586)]+_0x20c47c(0x4ad));if(_0x35d590=await this['findConversation'](_0x452229,_0x5328c7),_0x35d590){this[_0x20c47c(0x45d)][_0x20c47c(0x6b6)](this[_0x20c47c(0x86e)]+'\x20('+this[_0x20c47c(0x60f)][_0x20c47c(0x586)]+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x1c80f7[_0x20c47c(0x827)]&&_0x35d590[_0x20c47c(0x85e)]&&this['readMessageBot'](_0x35d590);let _0x454826=await this[_0x20c47c(0x773)](_0x35d590);_0x454826&&await this[_0x20c47c(0x22b)](_0x35d590,_0x454826);}}catch(_0x39e4f5){this[_0x20c47c(0x45d)][_0x20c47c(0x91c)](this['instanceName']+'\x20('+this['instance'][_0x20c47c(0x586)]+_0x20c47c(0x86c)+(_0x39e4f5 instanceof Error?_0x39e4f5[_0x20c47c(0x418)]:JSON[_0x20c47c(0x2b0)](_0x39e4f5,null,0x2)));}}[a0_0x4fa287(0x355)](_0x3f05be,_0x5d9b96='',_0x1362ac={}){const _0x14c8f3=a0_0x4fa287;return typeof _0x3f05be!=_0x14c8f3(0x2e5)||_0x3f05be===null?(_0x5d9b96&&(_0x1362ac[_0x5d9b96]=_0x3f05be),_0x1362ac):(Object[_0x14c8f3(0x5b8)](_0x3f05be)[_0x14c8f3(0x442)](([_0x5a7204,_0x5002d8])=>{const _0x1226c2=_0x14c8f3;let _0x71c20=_0x5d9b96?_0x5d9b96+'.'+_0x5a7204:'_'+_0x5a7204;Array[_0x1226c2(0x3e8)](_0x5002d8)?_0x5002d8[_0x1226c2(0x442)]((_0x537c99,_0x4c14b5)=>{this['flattenObject'](_0x537c99,_0x71c20+'['+_0x4c14b5+']',_0x1362ac);}):typeof _0x5002d8=='object'&&_0x5002d8!==null?this[_0x1226c2(0x355)](_0x5002d8,_0x71c20,_0x1362ac):_0x1362ac[_0x71c20]=String(_0x5002d8);}),_0x1362ac);}[a0_0x4fa287(0x6c8)](_0x538e82){const _0x168dc3=a0_0x4fa287;let _0x14c4b4={};for(let _0x417270 of _0x538e82)typeof _0x417270[_0x168dc3(0x378)]==_0x168dc3(0x88c)&&typeof _0x417270[_0x168dc3(0x4bc)]==_0x168dc3(0x88c)&&(_0x14c4b4[_0x417270[_0x168dc3(0x378)]]=_0x417270[_0x168dc3(0x4bc)]);return _0x14c4b4;}async[a0_0x4fa287(0x773)](_0xe30b35){const _0x301d2c=a0_0x4fa287;if(!this['AutomateSystem']?.[_0x301d2c(0x359)][_0x301d2c(0x286)]||_0xe30b35[_0x301d2c(0x370)]!==_0x301d2c(0x8b1)&&_0xe30b35[_0x301d2c(0x8ca)]==='')return null;let _0x5f4590=_0xe30b35[_0x301d2c(0x792)][_0x301d2c(0x595)]||_0x301d2c(0x5bf);typeof _0xe30b35[_0x301d2c(0x792)][_0x301d2c(0x454)]>'u'&&(_0xe30b35[_0x301d2c(0x792)]['lastCondition']=!0x0);let _0xb54ba7=_0xe30b35[_0x301d2c(0x792)]['lastCondition'];this[_0x301d2c(0x45d)][_0x301d2c(0x6b6)](this[_0x301d2c(0x86e)]+'\x20('+this[_0x301d2c(0x60f)][_0x301d2c(0x586)]+_0x301d2c(0x251)+_0x5f4590+_0x301d2c(0x4b2)+_0xb54ba7);let _0xbfaf96=_0x5f4590===_0x301d2c(0x5bf)?_0xe30b35[_0x301d2c(0x744)][_0x301d2c(0x896)](_0x2dd1be=>_0x2dd1be[_0x301d2c(0x429)]===_0x301d2c(0x5bf)):_0xe30b35[_0x301d2c(0x744)][_0x301d2c(0x896)](_0x30b18f=>_0x30b18f[_0x301d2c(0x817)][_0x301d2c(0x644)]()===_0x5f4590[_0x301d2c(0x644)]());if(!_0xbfaf96)return this[_0x301d2c(0x45d)][_0x301d2c(0x91c)](this[_0x301d2c(0x86e)]+'\x20('+this[_0x301d2c(0x60f)]['wuid']+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x5f4590),null;let _0x459ef1={'_pushName':_0xe30b35?.[_0x301d2c(0x792)]?.[_0x301d2c(0x547)]?.['pushName']||'','_sender':this[_0x301d2c(0x60f)][_0x301d2c(0x586)]||'',..._0xe30b35['chatLog'][_0x301d2c(0x71c)]},_0x253918=null;if(_0xe30b35[_0x301d2c(0x8ca)]){let _0x30ae70=_0xe30b35[_0x301d2c(0x792)][_0x301d2c(0x547)][_0x301d2c(0x894)],_0xb27b5b=_0xe30b35[_0x301d2c(0x2b6)]['find'](_0x5dba41=>_0x5dba41[_0x301d2c(0x81a)]===_0x30ae70);if(_0xb27b5b){let _0x14501a=_0xb27b5b[_0x301d2c(0x4e5)];if(_0x253918=_0xe30b35[_0x301d2c(0x744)][_0x301d2c(0x896)](_0x4aafb7=>_0x4aafb7['groupId']===_0x14501a&&_0x4aafb7[_0x301d2c(0x849)]===0x1),_0xbfaf96[_0x301d2c(0x78e)][_0x301d2c(0x877)]){let _0x5db8d2={'id':_0xe30b35['waitingMenu_id'],'remoteJid':_0xe30b35[_0x301d2c(0x224)],'fromMe':!0x0};await this[_0x301d2c(0x69e)](_0x5db8d2);}if(_0xbfaf96['uazapi']['pollOnReplyDelete']&&_0xbfaf96[_0x301d2c(0x78e)][_0x301d2c(0x523)]&&_0xbfaf96[_0x301d2c(0x78e)][_0x301d2c(0x524)]===_0x301d2c(0x322)){let _0x4e4380={'number':_0xe30b35['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x301d2c(0x83d)+_0xe30b35[_0x301d2c(0x70f)]+_0x301d2c(0x51d)+_0x30ae70}};await this[_0x301d2c(0x24d)](_0x4e4380);}_0xe30b35[_0x301d2c(0x370)]='open',_0xe30b35[_0x301d2c(0x8ca)]='',_0xe30b35[_0x301d2c(0x70f)]='',_0xe30b35[_0x301d2c(0x2b6)]=[];}else{this[_0x301d2c(0x45d)][_0x301d2c(0x6b6)](this[_0x301d2c(0x86e)]+'\x20('+this[_0x301d2c(0x60f)]['wuid']+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x1e1539={'activatedCount':_0xe30b35[_0x301d2c(0x792)][_0x301d2c(0x5ab)][_0x301d2c(0x314)](_0x43e735=>String(_0x43e735[_0x301d2c(0x8e5)])===String(_0x5f4590))[_0x301d2c(0x875)],'moreLogs':[_0x301d2c(0x80e)]};if(_0xbfaf96[_0x301d2c(0x78e)][_0x301d2c(0x6ac)]){let _0x2c82a3={'number':_0xe30b35[_0x301d2c(0x224)],'options':{'delay':0x0},'textMessage':{'text':_0xbfaf96[_0x301d2c(0x78e)]['pollErrorMessage']}};await this[_0x301d2c(0x24d)](_0x2c82a3);}if(_0xbfaf96[_0x301d2c(0x1f9)]!==void 0x0&&_0x1e1539[_0x301d2c(0x43a)]>=_0xbfaf96[_0x301d2c(0x1f9)]){let _0x354661=Date[_0x301d2c(0x6b0)](),_0x26b361=_0xbfaf96[_0x301d2c(0x317)]??0xa;isNaN(_0x26b361)&&(_0x26b361=0xa);let _0x597478=_0x354661+_0x26b361*0x3c*0x3e8;_0x1e1539[_0x301d2c(0x74d)]=_0x597478,_0x1e1539[_0x301d2c(0x587)][_0x301d2c(0x2fc)](_0x301d2c(0x847)),this['updateStopChat'](_0xe30b35,_0x597478),_0xe30b35[_0x301d2c(0x8ca)]='',_0xe30b35[_0x301d2c(0x70f)]='',_0xe30b35[_0x301d2c(0x2b6)]=[];}return this[_0x301d2c(0x434)](_0xe30b35,_0xbfaf96,_0x1e1539,!0x0),null;}}if(_0xb54ba7&&_0xbfaf96['next_groupId']&&!_0xe30b35[_0x301d2c(0x8ca)]){let _0x253bba=_0xe30b35[_0x301d2c(0x744)][_0x301d2c(0x314)](_0x3654c0=>_0x3654c0[_0x301d2c(0x638)]['toString']()===_0xbfaf96['next_groupId'][_0x301d2c(0x644)]())[_0x301d2c(0x264)]((_0x4c9fa2,_0x5538c9)=>_0x4c9fa2[_0x301d2c(0x849)]-_0x5538c9[_0x301d2c(0x849)]);_0x253bba[_0x301d2c(0x875)]>0x0&&(_0x253918=_0x253bba[0x0]);}if(!_0x253918){let _0x5833df=_0xbfaf96[_0x301d2c(0x638)],_0x3d2be8=_0xe30b35['blocks']['filter'](_0x4d52ed=>_0x4d52ed[_0x301d2c(0x638)]===_0x5833df&&_0x4d52ed[_0x301d2c(0x849)]>_0xbfaf96[_0x301d2c(0x849)])[_0x301d2c(0x264)]((_0x4da2df,_0x34540b)=>_0x4da2df[_0x301d2c(0x849)]-_0x34540b['order']);_0x3d2be8['length']>0x0&&(_0x253918=_0x3d2be8[0x0]);}if(!_0x253918)return _0xe30b35['status']=_0x301d2c(0x898),null;_0xe30b35[_0x301d2c(0x792)][_0x301d2c(0x71c)]=_0x459ef1;let _0x673e11=JSON[_0x301d2c(0x724)](JSON[_0x301d2c(0x2b0)](_0x253918));return this[_0x301d2c(0x517)](_0x673e11,_0xe30b35['chatLog'][_0x301d2c(0x71c)]),_0xe30b35[_0x301d2c(0x792)][_0x301d2c(0x595)]=_0x673e11[_0x301d2c(0x817)],_0xe30b35[_0x301d2c(0x792)][_0x301d2c(0x454)]=!0x0,_0x673e11;}[a0_0x4fa287(0x75f)](_0x480609,_0x516264){const _0x48fc30=a0_0x4fa287;return _0x480609[_0x48fc30(0x2a9)](/\{\{([^}]+)\}\}/g,(_0x41ea4b,_0x3beb47)=>_0x516264[_0x3beb47]||'');}['replaceVariablesInObject'](_0x4b4ecd,_0x5e4af0){const _0x70eceb=a0_0x4fa287;for(let _0x73153e in _0x4b4ecd)typeof _0x4b4ecd[_0x73153e]=='string'?_0x4b4ecd[_0x73153e]=this[_0x70eceb(0x75f)](_0x4b4ecd[_0x73153e],_0x5e4af0):typeof _0x4b4ecd[_0x73153e]==_0x70eceb(0x2e5)&&this[_0x70eceb(0x517)](_0x4b4ecd[_0x73153e],_0x5e4af0);}async['goNextblock'](_0x1f97c4,_0x32849f){const _0x51643e=a0_0x4fa287;let _0x2a275d=_0x32849f[_0x51643e(0x817)];if(_0x1f97c4[_0x51643e(0x792)]&&_0x1f97c4['chatLog'][_0x51643e(0x5ab)]){let _0x15f596=_0x1f97c4['chatLog'][_0x51643e(0x5ab)]['filter'](_0x1929b0=>String(_0x1929b0[_0x51643e(0x8e5)])===String(_0x2a275d))[_0x51643e(0x2e0)]();if(_0x15f596&&_0x15f596[_0x51643e(0x91c)]&&_0x32849f[_0x51643e(0x64b)])return _0x1f97c4[_0x51643e(0x370)]=_0x51643e(0x898),await this[_0x51643e(0x3e3)](_0x1f97c4),null;}if(_0x32849f[_0x51643e(0x429)]===_0x51643e(0x78e)&&_0x32849f['uazapi'][_0x51643e(0x518)]===_0x51643e(0x3da)&&_0x1f97c4['waitingMenu_id'])return _0x1f97c4['chatLog'][_0x51643e(0x595)]=_0x2a275d,await this['saveConversationToDatabase'](_0x1f97c4),null;let _0x5926d1=await this[_0x51643e(0x773)](_0x1f97c4);if(_0x1f97c4[_0x51643e(0x792)]&&_0x1f97c4[_0x51643e(0x792)]['blockLogs']){let _0x1b2ec8=_0x1f97c4['chatLog'][_0x51643e(0x5ab)][_0x51643e(0x314)](_0x2a2628=>String(_0x2a2628[_0x51643e(0x8e5)])===String(_0x2a275d))['length'];if(_0x32849f[_0x51643e(0x1f9)]!==void 0x0&&_0x1b2ec8>=_0x32849f['maxActives']){let _0x483d64=Date[_0x51643e(0x6b0)](),_0x470870=_0x32849f[_0x51643e(0x317)]??0xa;isNaN(_0x470870)&&(_0x470870=0xa);let _0x455611=_0x483d64+_0x470870*0x3c*0x3e8,_0xf4911f={'newStoppedUntil':_0x455611};return this[_0x51643e(0x914)](_0x1f97c4,_0x455611),this[_0x51643e(0x434)](_0x1f97c4,_0x32849f,_0xf4911f,!0x0),null;}}_0x5926d1&&_0x5926d1[_0x51643e(0x429)]!==_0x51643e(0x262)&&await this[_0x51643e(0x22b)](_0x1f97c4,_0x5926d1),_0x5926d1||await this[_0x51643e(0x3e3)](_0x1f97c4),_0x5926d1&&_0x5926d1['type']===_0x51643e(0x262)&&(_0x1f97c4[_0x51643e(0x792)][_0x51643e(0x595)]=_0x2a275d,await this[_0x51643e(0x3e3)](_0x1f97c4));}async[a0_0x4fa287(0x22b)](_0x60e1b2,_0x587a0b){const _0x230723=a0_0x4fa287;try{let _0x3de702=_0x587a0b[_0x230723(0x429)];this[_0x230723(0x45d)][_0x230723(0x6b6)](this['instanceName']+'\x20('+this[_0x230723(0x60f)][_0x230723(0x586)]+_0x230723(0x686)+_0x3de702);let _0x507931={'uazapi':()=>this['processUazapi'](_0x60e1b2,_0x587a0b),'save':()=>this[_0x230723(0x4ff)](_0x60e1b2,_0x587a0b),'stop':()=>this['stopConversation'](_0x60e1b2,_0x587a0b),'condition':()=>this[_0x230723(0x837)](_0x60e1b2,_0x587a0b),'varedit':()=>this[_0x230723(0x21c)](_0x60e1b2,_0x587a0b),'apirequest':()=>this[_0x230723(0x5b2)](_0x60e1b2,_0x587a0b),'goToFlow':()=>this[_0x230723(0x689)](_0x60e1b2,_0x587a0b),'scheduleFlow':()=>this['processScheduleFlow'](_0x60e1b2,_0x587a0b),'awaitSeconds':()=>this[_0x230723(0x863)](_0x60e1b2,_0x587a0b),'clearVariables':()=>this[_0x230723(0x3ed)](_0x60e1b2,_0x587a0b)}[_0x3de702];_0x507931&&await _0x507931();}catch(_0x5af30b){this[_0x230723(0x45d)][_0x230723(0x91c)](this[_0x230723(0x86e)]+'\x20('+this[_0x230723(0x60f)][_0x230723(0x586)]+_0x230723(0x232)+(_0x5af30b instanceof Error?_0x5af30b['message']:JSON[_0x230723(0x2b0)](_0x5af30b,null,0x2)));}}async[a0_0x4fa287(0x863)](_0x29caf7,_0x5c0f1b){const _0x486da3=a0_0x4fa287;if(this[_0x486da3(0x45d)][_0x486da3(0x6b6)](this[_0x486da3(0x86e)]+'\x20('+this[_0x486da3(0x60f)][_0x486da3(0x586)]+_0x486da3(0x49d)),!_0x29caf7||!_0x5c0f1b)return this[_0x486da3(0x45d)]['error'](this[_0x486da3(0x86e)]+'\x20('+this[_0x486da3(0x60f)][_0x486da3(0x586)]+_0x486da3(0x4c2)),null;let _0x3564d9=+_0x5c0f1b[_0x486da3(0x1f4)];isNaN(_0x3564d9)&&(_0x3564d9=0x0),_0x3564d9=Math[_0x486da3(0x485)](_0x3564d9,0x3c),await(0x0,w[_0x486da3(0x662)])(_0x3564d9*0x3e8);let _0x43f844={'moreLogs':[_0x486da3(0x6fd)+_0x3564d9+_0x486da3(0x66c)]};return await this['updateConversation'](_0x29caf7,_0x5c0f1b,_0x43f844),_0x3564d9;}async[a0_0x4fa287(0x3ed)](_0x45e3a8,_0x1ad6f3){const _0x431fc1=a0_0x4fa287;if(this[_0x431fc1(0x45d)][_0x431fc1(0x6b6)](this[_0x431fc1(0x86e)]+'\x20('+this[_0x431fc1(0x60f)][_0x431fc1(0x586)]+_0x431fc1(0x578)),!_0x45e3a8||!_0x1ad6f3)return this[_0x431fc1(0x45d)][_0x431fc1(0x91c)](this['instanceName']+'\x20('+this[_0x431fc1(0x60f)]['wuid']+_0x431fc1(0x4c2)),null;let _0x154f86=[];if(_0x1ad6f3[_0x431fc1(0x39c)][_0x431fc1(0x602)]()===_0x431fc1(0x782)){let _0x45c107=['_sender','_pushName','_error',_0x431fc1(0x891),_0x431fc1(0x757),'_id','_fromMe'];_0x154f86=Object[_0x431fc1(0x647)](_0x45e3a8[_0x431fc1(0x792)][_0x431fc1(0x71c)])[_0x431fc1(0x314)](_0x2aef03=>_0x2aef03[_0x431fc1(0x61a)]('_')&&!_0x45c107[_0x431fc1(0x7f1)](_0x2aef03));}else _0x154f86=_0x1ad6f3['clearVariables'][_0x431fc1(0x916)]('|')['map'](_0x131f32=>(_0x131f32=_0x131f32[_0x431fc1(0x2a9)](/[{}]/g,'')[_0x431fc1(0x602)](),_0x131f32['startsWith']('_')?_0x131f32:'_'+_0x131f32));let _0x5ac8eb=[];_0x154f86['forEach'](_0x160fbe=>{const _0x2ae260=_0x431fc1;_0x160fbe in _0x45e3a8[_0x2ae260(0x792)][_0x2ae260(0x71c)]&&(delete _0x45e3a8[_0x2ae260(0x792)]['realVariables'][_0x160fbe],_0x5ac8eb['push'](_0x160fbe));}),_0x5ac8eb[_0x431fc1(0x875)]>0x0?this['logger'][_0x431fc1(0x6b6)](this['instanceName']+'\x20('+this[_0x431fc1(0x60f)][_0x431fc1(0x586)]+'):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20'+_0x5ac8eb[_0x431fc1(0x82f)](',\x20')):this[_0x431fc1(0x45d)][_0x431fc1(0x6b6)](this['instanceName']+'\x20('+this[_0x431fc1(0x60f)][_0x431fc1(0x586)]+'):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção');let _0x1a31fa={'moreLogs':[_0x431fc1(0x739)+_0x5ac8eb[_0x431fc1(0x82f)](',\x20')]};return await this[_0x431fc1(0x434)](_0x45e3a8,_0x1ad6f3,_0x1a31fa),null;}async[a0_0x4fa287(0x410)](_0x35b307,_0x1f498e){const _0xcaa1d5=a0_0x4fa287;if(this[_0xcaa1d5(0x45d)][_0xcaa1d5(0x6b6)](this[_0xcaa1d5(0x86e)]+'\x20('+this['instance'][_0xcaa1d5(0x586)]+_0xcaa1d5(0x7f3)),!_0x35b307||!_0x1f498e)return this[_0xcaa1d5(0x45d)][_0xcaa1d5(0x91c)](this[_0xcaa1d5(0x86e)]+'\x20('+this[_0xcaa1d5(0x60f)][_0xcaa1d5(0x586)]+_0xcaa1d5(0x4c2)),null;let _0x1a192f=_0x35b307['remoteJid'];_0x1f498e[_0xcaa1d5(0x259)][_0xcaa1d5(0x224)]&&_0x1f498e[_0xcaa1d5(0x259)][_0xcaa1d5(0x224)][_0xcaa1d5(0x602)]()!==''&&(_0x1a192f=_0x1f498e[_0xcaa1d5(0x78e)]['remoteJid'][_0xcaa1d5(0x602)]());let _0x501db4=_0x1f498e[_0xcaa1d5(0x259)][_0xcaa1d5(0x687)]*0xea60,_0x1ddc8b=Date[_0xcaa1d5(0x6b0)]()+_0x501db4,_0x3cf412={'status':_0xcaa1d5(0x43c),'info':_0xcaa1d5(0x807)+_0x35b307[_0xcaa1d5(0x378)],'remoteJids':[_0x1a192f],'when':_0x1ddc8b,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0xcaa1d5(0x29d),'flowName':_0x1f498e['scheduleFlow'][_0xcaa1d5(0x900)]};this[_0xcaa1d5(0x5c1)](_0x3cf412);let _0x1bfa47=await this['NextBlock'](_0x35b307);_0x1bfa47&&await this[_0xcaa1d5(0x22b)](_0x35b307,_0x1bfa47);}async[a0_0x4fa287(0x689)](_0x3fa213,_0x5c0b84){const _0x509059=a0_0x4fa287;if(this[_0x509059(0x45d)][_0x509059(0x6b6)](this[_0x509059(0x86e)]+'\x20('+this['instance'][_0x509059(0x586)]+_0x509059(0x3ae)),!_0x3fa213||!_0x5c0b84)return this['logger'][_0x509059(0x91c)](this[_0x509059(0x86e)]+'\x20('+this['instance'][_0x509059(0x586)]+_0x509059(0x4c2)),null;await this[_0x509059(0x434)](_0x3fa213,_0x5c0b84,{},!0x0,!0x0);let _0x470af7=_0x5c0b84[_0x509059(0x859)];_0x3fa213=await this[_0x509059(0x1ee)](_0x470af7,_0x3fa213[_0x509059(0x224)],_0x3fa213[_0x509059(0x792)][_0x509059(0x71c)]);let _0xc513ca=await this[_0x509059(0x773)](_0x3fa213);_0xc513ca&&await this['processblock'](_0x3fa213,_0xc513ca);}async[a0_0x4fa287(0x1ee)](_0x3bf32b,_0x1a2306,_0xfbedae){const _0x4e1143=a0_0x4fa287;this[_0x4e1143(0x45d)]['verbose'](this[_0x4e1143(0x86e)]+'\x20('+this['instance'][_0x4e1143(0x586)]+'):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]');try{let _0x1529e7=this[_0x4e1143(0x1d4)][_0x4e1143(0x395)][_0x4e1143(0x896)](_0xfdf8af=>_0xfdf8af[_0x4e1143(0x817)]===_0x3bf32b);_0x1529e7||this['logger'][_0x4e1143(0x91c)](this[_0x4e1143(0x86e)]+'\x20('+this[_0x4e1143(0x60f)]['wuid']+_0x4e1143(0x64d)+_0x3bf32b+_0x4e1143(0x487));let _0x1c9302=await this[_0x4e1143(0x830)][_0x4e1143(0x29d)][_0x4e1143(0x6bc)]({'where':{'_id':_0x1529e7[_0x4e1143(0x817)]}});if(!_0x1c9302||!_0x1c9302[_0x4e1143(0x292)]?.[_0x4e1143(0x7f1)](this[_0x4e1143(0x60f)][_0x4e1143(0x586)]))throw this['logger'][_0x4e1143(0x91c)](this[_0x4e1143(0x86e)]+'\x20('+this[_0x4e1143(0x60f)]['wuid']+'):\x20Flow\x20\x27'+_0x3bf32b+_0x4e1143(0x566)),new m(_0x4e1143(0x871)+_0x3bf32b+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x25f3c2=require(_0x4e1143(0x339))[_0x4e1143(0x3fa)],_0x57ed51=Date[_0x4e1143(0x6b0)](),_0x155738=_0x4e1143(0x5bf),_0x353f12={},_0x8e30aa={},_0x2f929d=this[_0x4e1143(0x1d4)][_0x4e1143(0x395)]['find'](_0x1a96c6=>_0x1a96c6[_0x4e1143(0x817)]===_0x1c9302['_id']?.[_0x4e1143(0x644)]()),_0x50b7c8=_0x2f929d?.[_0x4e1143(0x1e5)]??_0x1c9302[_0x4e1143(0x1e5)]??0x0,_0x4e720c=_0x2f929d?.[_0x4e1143(0x85e)]??_0x1c9302[_0x4e1143(0x85e)]??!0x1,_0x49d528={'flowId':_0x1529e7[_0x4e1143(0x817)],'readMessages':_0x1529e7[_0x4e1143(0x85e)],..._0x1c9302,'chatLog':null},_0x35c92b={'lastReceivedMessage':_0x353f12,'lastSendMessage':_0x8e30aa,'lastBlockId':_0x155738,'lastCondition':!0x0,'realVariables':_0xfbedae};_0x49d528[_0x4e1143(0x792)]=_0x35c92b,_0x49d528[_0x4e1143(0x792)][_0x4e1143(0x71c)]={..._0xfbedae},delete _0x49d528[_0x4e1143(0x817)],_0x49d528[_0x4e1143(0x817)]=new _0x25f3c2(),_0x49d528[_0x4e1143(0x6df)]=_0x57ed51,_0x49d528[_0x4e1143(0x370)]=_0x4e1143(0x8b1),_0x49d528[_0x4e1143(0x224)]=_0x1a2306,_0x49d528[_0x4e1143(0x1e5)]=_0x50b7c8,_0x49d528[_0x4e1143(0x85e)]=_0x4e720c;let _0x58c0d5=await this['repository'][_0x4e1143(0x56c)][_0x4e1143(0x3b3)](_0x49d528[_0x4e1143(0x817)],_0x49d528,this['instance'][_0x4e1143(0x586)]);return this['logger'][_0x4e1143(0x6b6)](this[_0x4e1143(0x86e)]+'\x20('+this[_0x4e1143(0x60f)][_0x4e1143(0x586)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x58c0d5?_0x49d528:null;}catch(_0x553f82){let _0xaa8917=_0x4e1143(0x7f5),_0x4329e2=_0x553f82 instanceof Error?_0x553f82[_0x4e1143(0x418)]:typeof _0x553f82==_0x4e1143(0x2e5)?JSON[_0x4e1143(0x2b0)](_0x553f82):_0x553f82,_0x4ce32a=_0xaa8917+':\x20'+_0x4329e2;throw this[_0x4e1143(0x45d)][_0x4e1143(0x91c)](this['instanceName']+'\x20('+this['instance'][_0x4e1143(0x586)]+'):\x20'+_0x4ce32a),new m(_0x4ce32a);}}async[a0_0x4fa287(0x5b2)](_0x5ce224,_0x956979){const _0x1a4680=a0_0x4fa287;let _0x4b8ca3,_0x9a364;try{let _0x334c76=_0x956979['apirequest'];if(!_0x334c76||!_0x334c76[_0x1a4680(0x7c5)]||!_0x334c76[_0x1a4680(0x855)])throw new Error(_0x1a4680(0x80c));let _0x219c99;(['https://api.openai.com/v1/audio/speech','https://api.openai.com/v1/images/generations',_0x1a4680(0x32a)][_0x1a4680(0x791)](_0x3fbe0c=>_0x334c76['url'][_0x1a4680(0x7f1)](_0x3fbe0c))||_0x334c76['requestFile'])&&(_0x219c99=_0x1a4680(0x905));let _0x165413='\u205f',_0x196be9;try{_0x196be9=JSON[_0x1a4680(0x724)](_0x334c76['bodyString'][_0x1a4680(0x2a9)](new RegExp(_0x165413,'g'),''));}catch(_0x22464d){throw _0x22464d;}let _0x6a5469={'method':_0x334c76[_0x1a4680(0x855)],'url':_0x334c76[_0x1a4680(0x7c5)],'headers':_0x334c76[_0x1a4680(0x400)]||{},..._0x334c76[_0x1a4680(0x855)][_0x1a4680(0x296)]()!==_0x1a4680(0x85d)&&_0x334c76['bodyString']?{'data':JSON[_0x1a4680(0x724)](_0x334c76[_0x1a4680(0x65d)]['replace'](new RegExp(_0x165413,'g'),''))}:{},..._0x219c99&&{'responseType':_0x219c99}},_0x11f2ff=await(0x0,te[_0x1a4680(0x796)])(_0x6a5469),_0x5e4e46=_0x11f2ff[_0x1a4680(0x507)][_0x1a4680(0x709)];if(_0x5e4e46&&_0x5e4e46[_0x1a4680(0x7f1)]('application/json')||typeof _0x11f2ff[_0x1a4680(0x5ee)]==_0x1a4680(0x88c)){if(typeof _0x11f2ff[_0x1a4680(0x5ee)]=='string'){let _0x4a7ef4=_0x11f2ff[_0x1a4680(0x5ee)]['replace'](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x1a4680(0x602)]();try{_0x4b8ca3=JSON[_0x1a4680(0x724)](_0x4a7ef4);}catch(_0x2437e1){this[_0x1a4680(0x45d)][_0x1a4680(0x91c)](_0x1a4680(0x84c)+_0x2437e1[_0x1a4680(0x418)]),_0x4b8ca3={'_apiResponse':_0x11f2ff[_0x1a4680(0x5ee)]};}}else _0x4b8ca3=_0x11f2ff[_0x1a4680(0x5ee)];let _0x38e8ef=_0x5ce224['chatLog']['realVariables'],_0x10c92c=this[_0x1a4680(0x355)](_0x4b8ca3);return Object['assign'](_0x38e8ef,_0x10c92c),_0x5ce224[_0x1a4680(0x792)][_0x1a4680(0x71c)]=_0x38e8ef,_0x9a364={'error':!0x1,'apiResponse':_0x4b8ca3},this[_0x1a4680(0x434)](_0x5ce224,_0x956979,_0x9a364),_0x4b8ca3;}if(_0x5e4e46&&(_0x5e4e46['includes'](_0x1a4680(0x380))||_0x5e4e46[_0x1a4680(0x7f1)]('image')||_0x5e4e46[_0x1a4680(0x7f1)]('audio')||_0x5e4e46[_0x1a4680(0x7f1)]('video'))){this[_0x1a4680(0x45d)][_0x1a4680(0x6b6)](this[_0x1a4680(0x86e)]+'\x20('+this[_0x1a4680(0x60f)][_0x1a4680(0x586)]+_0x1a4680(0x5b5)+_0x5e4e46);let _0x2dc7a7=(0x0,X['v4'])(),_0x3601ee='',_0xc03cfb={'image/jpeg':'.jpg','image/png':_0x1a4680(0x4d8),'image/gif':_0x1a4680(0x1c9),'image/webp':_0x1a4680(0x563),'image/svg+xml':_0x1a4680(0x704),'audio/mpeg':'.mp3','audio/ogg':_0x1a4680(0x398),'audio/wav':_0x1a4680(0x514),'video/mp4':'.mp4','video/webm':'.webm','video/ogg':_0x1a4680(0x8b8),'text/plain':'.txt','application/pdf':_0x1a4680(0x2ad),'application/msword':_0x1a4680(0x825),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x1a4680(0x567),'application/vnd.ms-excel':'.xls','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':'.xlsx','application/vnd.ms-powerpoint':_0x1a4680(0x401),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x1a4680(0x674)};_0xc03cfb[_0x5e4e46]?(_0x3601ee=_0xc03cfb[_0x5e4e46],this['logger']['verbose'](this[_0x1a4680(0x86e)]+'\x20('+this['instance'][_0x1a4680(0x586)]+'):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20'+_0x3601ee)):(_0x3601ee='.error',this['logger'][_0x1a4680(0x6b6)](this[_0x1a4680(0x86e)]+'\x20('+this['instance']['wuid']+_0x1a4680(0x2dc)+_0x3601ee)),_0x2dc7a7+=_0x3601ee,this[_0x1a4680(0x45d)]['verbose'](this[_0x1a4680(0x86e)]+'\x20('+this[_0x1a4680(0x60f)][_0x1a4680(0x586)]+_0x1a4680(0x5aa)+_0x2dc7a7);let _0xb4fb50=this['configService'][_0x1a4680(0x37b)](_0x1a4680(0x671))[_0x1a4680(0x777)];if(!_0xb4fb50){let _0x35e510=this[_0x1a4680(0x5ca)][_0x1a4680(0x37b)]('SSL_CONF');_0xb4fb50=_0x1a4680(0x7c6)+(_0x35e510&&_0x35e510['FULLCHAIN'][_0x1a4680(0x916)]('/')[0x4]);}let _0x504dd6=Buffer[_0x1a4680(0x7c8)](_0x11f2ff[_0x1a4680(0x5ee)]);await this[_0x1a4680(0x379)](_0x504dd6,_0x2dc7a7);let _0xd2b7dd=_0x1a4680(0x1f0)+_0x2dc7a7;_0xd2b7dd=''+_0xb4fb50+_0xd2b7dd,_0x4b8ca3={'fileUrl':_0xd2b7dd},_0x5ce224[_0x1a4680(0x792)][_0x1a4680(0x71c)]['fileUrl']=_0xd2b7dd;let _0x485418=_0x5ce224[_0x1a4680(0x792)][_0x1a4680(0x71c)],_0xa514af=this[_0x1a4680(0x355)](_0x4b8ca3);return Object[_0x1a4680(0x3cf)](_0x485418,_0xa514af),_0x5ce224[_0x1a4680(0x792)][_0x1a4680(0x71c)]=_0x485418,_0x9a364={'error':!0x1,'apiResponse':{'fileUrl':_0xd2b7dd}},this[_0x1a4680(0x434)](_0x5ce224,_0x956979,_0x9a364),_0x4b8ca3;}}catch(_0xb671fe){this[_0x1a4680(0x45d)]['error']('Erro\x20ao\x20processar\x20a\x20chamada\x20API:'+_0xb671fe['message']),_0xb671fe[_0x1a4680(0x79e)]&&(_0x4b8ca3=_0xb671fe[_0x1a4680(0x79e)][_0x1a4680(0x5ee)]);let _0x5df340=_0x5ce224[_0x1a4680(0x792)][_0x1a4680(0x71c)],_0x2debc2=this[_0x1a4680(0x355)](_0x4b8ca3);return Object['assign'](_0x5df340,_0x2debc2),_0x5ce224[_0x1a4680(0x792)]['realVariables']=_0x5df340,_0x9a364={'error':!0x0,'errorLog':_0xb671fe[_0x1a4680(0x644)](),'apiResponse':_0x4b8ca3},this[_0x1a4680(0x434)](_0x5ce224,_0x956979,_0x9a364),{'success':!0x1};}}[a0_0x4fa287(0x653)](_0x125efd,_0x35ba16){const _0x8696a4=a0_0x4fa287;let _0x15a64f=_0x1b00a4=>{const _0x8fc02d=a0_0x5643;let _0x2cb2d1=_0x1b00a4[_0x8fc02d(0x2a9)](/[^0-9.,-]/g,'')[_0x8fc02d(0x2a9)](',','.'),_0x52917c=parseFloat(_0x2cb2d1);return isNaN(_0x52917c)?null:_0x52917c;},_0x3148bc=_0x35ba16['firstValue'],_0x86aa64=_0x35ba16[_0x8696a4(0x46e)];typeof _0x3148bc=='string'&&(_0x3148bc=this[_0x8696a4(0x75f)](_0x3148bc,_0x125efd[_0x8696a4(0x792)][_0x8696a4(0x71c)])??''),typeof _0x86aa64=='string'&&(_0x86aa64=this[_0x8696a4(0x75f)](_0x86aa64,_0x125efd[_0x8696a4(0x792)][_0x8696a4(0x71c)])??'');let _0x139755=null;if(!_0x35ba16[_0x8696a4(0x5cb)])return null;switch(this['logger'][_0x8696a4(0x6b6)](this['instanceName']+'\x20('+this[_0x8696a4(0x60f)][_0x8696a4(0x586)]+_0x8696a4(0x3bc)+_0x3148bc),this[_0x8696a4(0x45d)][_0x8696a4(0x6b6)](this['instanceName']+'\x20('+this[_0x8696a4(0x60f)][_0x8696a4(0x586)]+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x86aa64),_0x35ba16[_0x8696a4(0x5cb)]){case'+':case'-':case'*':case'/':let _0x40a957=_0x15a64f(_0x3148bc||'0'),_0x410093=_0x15a64f(_0x86aa64||'0');if(_0x40a957===null)return null;switch(_0x35ba16[_0x8696a4(0x5cb)]){case'+':_0x139755=_0x40a957+(_0x410093??0x0);break;case'-':_0x139755=_0x40a957-(_0x410093??0x0);break;case'*':_0x139755=_0x40a957*(_0x410093??0x1);break;case'/':_0x410093!==0x0&&(_0x139755=_0x40a957/(_0x410093??0x1));break;}break;case _0x8696a4(0x21f):case _0x8696a4(0x83b):let _0xe3582e=_0x86aa64,_0x27462e=_0x35ba16[_0x8696a4(0x302)];if(typeof _0x27462e=='string'&&(_0x27462e=this[_0x8696a4(0x75f)](_0x27462e,_0x125efd[_0x8696a4(0x792)][_0x8696a4(0x71c)])??''),_0xe3582e&&_0x27462e!==void 0x0){let _0x345fb5=_0x35ba16[_0x8696a4(0x5cb)]===_0x8696a4(0x21f)?new RegExp(_0xe3582e['replace'](/[-\/\\^$*+?.()|[\]{}]/g,_0x8696a4(0x907)),'g'):new RegExp(_0xe3582e,'g');_0x139755=_0x3148bc[_0x8696a4(0x2a9)](_0x345fb5,_0x27462e);}else console['warn']('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case _0x8696a4(0x35d):_0x139755=_0x86aa64;break;case _0x8696a4(0x384):let _0x434196=_0x3148bc[_0x8696a4(0x665)](new RegExp(_0x86aa64||''));_0x139755=_0x434196?_0x434196[0x0]:'';break;case _0x8696a4(0x1ce):_0x139755=_0x3148bc[_0x8696a4(0x479)](0x0,parseInt(_0x86aa64||'0'));break;case _0x8696a4(0x2f7):let _0x402ce1=parseInt(_0x86aa64||'0');_0x139755=_0x3148bc[_0x8696a4(0x479)](_0x3148bc[_0x8696a4(0x875)]-_0x402ce1);break;case _0x8696a4(0x54c):let _0x242aa5=_0x15a64f(_0x3148bc),_0x3bf75a=parseInt(_0x86aa64||'0');_0x3bf75a=Math[_0x8696a4(0x889)](_0x3bf75a),_0x242aa5!==null?_0x139755=_0x242aa5[_0x8696a4(0x540)](_0x8696a4(0x21a),{'minimumFractionDigits':_0x3bf75a,'maximumFractionDigits':_0x3bf75a}):(console[_0x8696a4(0x27c)](_0x8696a4(0x748)+_0x3148bc),_0x139755=null);break;case _0x8696a4(0x90c):let _0x28f915=_0x15a64f(_0x3148bc);_0x28f915!==null?_0x139755=_0x28f915[_0x8696a4(0x540)](_0x8696a4(0x21a),{'style':_0x8696a4(0x800),'currency':_0x8696a4(0x216)}):(console['warn'](_0x8696a4(0x7e4)+_0x3148bc),_0x139755=null);break;case _0x8696a4(0x282):_0x139755=_0x3148bc[_0x8696a4(0x296)]();break;case _0x8696a4(0x805):_0x139755=_0x3148bc['toLowerCase']();break;case _0x8696a4(0x906):_0x139755=_0x3148bc[_0x8696a4(0x916)]('\x20')['map'](_0x5f99cd=>_0x5f99cd['charAt'](0x0)[_0x8696a4(0x296)]()+_0x5f99cd['slice'](0x1)[_0x8696a4(0x250)]())[_0x8696a4(0x82f)]('\x20');break;case'convertToString':_0x139755=JSON[_0x8696a4(0x2b0)](_0x3148bc);break;case'trimmed':_0x139755=_0x3148bc[_0x8696a4(0x602)]();break;default:_0x139755=_0x3148bc;}return _0x139755!==null?_0x139755['toString']():null;}async['processvaredits'](_0x3af807,_0x2bf753){const _0x581369=a0_0x4fa287;try{let _0x1ba995=_0x3af807[_0x581369(0x7ac)]?.[_0x581369(0x314)](_0x5450cd=>_0x5450cd[_0x581369(0x8e5)]===_0x2bf753[_0x581369(0x817)]?.[_0x581369(0x644)]())||[],_0x452dac=_0x2bf753['saveVariable'],_0xa786cf=null,_0x28ecd9=[],_0x2f2f40=_0x3af807[_0x581369(0x792)][_0x581369(0x71c)][_0x452dac];_0x28ecd9[_0x581369(0x2fc)](_0x581369(0x72a)+_0x2f2f40+'\x22');for(let _0x521e49 of _0x1ba995){_0x521e49[_0x581369(0x7ea)]=_0x2f2f40,_0xa786cf=_0x521e49['firstValue'];let _0x205841;try{_0x205841=this['applyvaredit'](_0x3af807,_0x521e49);}catch(_0x57a2e0){this[_0x581369(0x45d)][_0x581369(0x91c)](_0x581369(0x8de)+_0x57a2e0[_0x581369(0x418)]);continue;}if(_0x205841!==null){let _0x2cfce3=_0x581369(0x684)+_0x521e49[_0x581369(0x5cb)]+'\x22',_0x569b0b=[_0x581369(0x90c),_0x581369(0x282),_0x581369(0x805),_0x581369(0x906),'trimmed'];_0x521e49['editOperator']===_0x581369(0x21f)||_0x521e49['editOperator']===_0x581369(0x83b)?_0x2cfce3+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x521e49[_0x581369(0x46e)]+_0x581369(0x7b5)+_0x521e49['replaceValue']+'\x22':!_0x569b0b['includes'](_0x521e49[_0x581369(0x5cb)])&&_0x521e49[_0x581369(0x46e)]!==null&&_0x521e49[_0x581369(0x46e)]!==void 0x0&&(_0x2cfce3+=_0x581369(0x921)+_0x521e49[_0x581369(0x46e)]+'\x22'),_0x2cfce3+=',\x20resultado:\x20'+_0x205841+'.',_0x28ecd9[_0x581369(0x2fc)](_0x2cfce3);}_0x205841!==null&&(_0x2f2f40=_0x205841);}if(_0x3af807['chatLog'][_0x581369(0x71c)]&&_0x2bf753[_0x581369(0x2bb)]){_0x3af807[_0x581369(0x792)][_0x581369(0x71c)][_0x2bf753[_0x581369(0x2bb)]]=_0x2f2f40;let _0x5af9d6={'variable':_0x2bf753[_0x581369(0x2bb)],'oldValue':_0xa786cf,'newValue':_0x2f2f40,'moreLogs':_0x28ecd9};try{this['updateConversation'](_0x3af807,_0x2bf753,_0x5af9d6);}catch(_0x1a8e53){this[_0x581369(0x45d)][_0x581369(0x91c)](_0x581369(0x26f)+_0x1a8e53[_0x581369(0x418)]);}}return _0x452dac;}catch(_0x2e34ba){return this[_0x581369(0x45d)][_0x581369(0x91c)](_0x581369(0x594)+_0x2e34ba[_0x581369(0x418)]),null;}}async[a0_0x4fa287(0x837)](_0x256692,_0x3cdcc2){const _0x34170d=a0_0x4fa287;try{let _0x35280f=[],_0xdc33eb=_0x256692[_0x34170d(0x5b9)][_0x34170d(0x314)](_0x4a9bf5=>_0x4a9bf5[_0x34170d(0x8e5)]===_0x3cdcc2[_0x34170d(0x817)][_0x34170d(0x644)]()),_0x29eb24=null,_0x52f08d=!0x1;for(let _0x34e98c of _0xdc33eb){let _0x265bd5=this['evaluateCondition'](_0x256692,_0x34e98c);_0x35280f[_0x34170d(0x2fc)](_0x34170d(0x56a)+_0x34e98c[_0x34170d(0x7ea)]+_0x34170d(0x5e7)+_0x34e98c[_0x34170d(0x6bf)]+',\x20Segundo\x20Valor:\x20'+_0x34e98c[_0x34170d(0x46e)]+_0x34170d(0x226)+_0x265bd5),_0x29eb24===null?_0x29eb24=_0x265bd5:_0x34e98c[_0x34170d(0x918)]===_0x34170d(0x6c9)?(_0x29eb24=_0x29eb24&&_0x265bd5,_0x265bd5||(_0x52f08d=!0x0)):_0x34e98c['OrAnd']==='or'&&(_0x52f08d||(_0x29eb24=_0x29eb24||_0x265bd5));}_0x29eb24===null&&(_0x29eb24=!0x0);let _0x578b99={'moreLogs':_0x35280f};_0x256692[_0x34170d(0x792)][_0x34170d(0x454)]=_0x29eb24,await this['updateConversation'](_0x256692,_0x3cdcc2,_0x578b99);}catch(_0x21c4d3){this[_0x34170d(0x45d)]['error'](this[_0x34170d(0x86e)]+'\x20('+this[_0x34170d(0x60f)][_0x34170d(0x586)]+'):\x20Error\x20processing\x20conditions:\x20'+(_0x21c4d3 instanceof Error?_0x21c4d3['message']:JSON[_0x34170d(0x2b0)](_0x21c4d3,null,0x2)));}}[a0_0x4fa287(0x7e8)](_0x572c19,_0x195276){const _0x184d52=a0_0x4fa287;let _0x54df46=_0x195276[_0x184d52(0x7ea)],_0x282818=_0x195276['secondValue'];typeof _0x54df46==_0x184d52(0x88c)&&(_0x54df46=this[_0x184d52(0x75f)](_0x54df46,_0x572c19[_0x184d52(0x792)][_0x184d52(0x71c)])??''),typeof _0x282818=='string'&&(_0x282818=this[_0x184d52(0x75f)](_0x282818,_0x572c19[_0x184d52(0x792)][_0x184d52(0x71c)])??'');try{switch(_0x195276[_0x184d52(0x6bf)]){case _0x184d52(0x873):return _0x54df46===_0x282818;case _0x184d52(0x692):return _0x54df46!==_0x282818;case _0x184d52(0x5c7):return this[_0x184d52(0x5c7)](_0x54df46,_0x282818);case _0x184d52(0x5fb):return!this[_0x184d52(0x5c7)](_0x54df46,_0x282818);case _0x184d52(0x8d2):return parseFloat(_0x54df46)>parseFloat(_0x282818);case _0x184d52(0x30e):return parseFloat(_0x54df46)<parseFloat(_0x282818);case _0x184d52(0x3a8):return _0x54df46!=='';case _0x184d52(0x29b):return _0x54df46==='';case _0x184d52(0x725):return new RegExp(_0x282818)['test'](_0x54df46);case _0x184d52(0x67c):return!new RegExp(_0x282818)[_0x184d52(0x5ba)](_0x54df46);default:return!0x1;}}catch(_0x4ec14d){return this[_0x184d52(0x45d)][_0x184d52(0x91c)](_0x184d52(0x527)+_0x4ec14d),!0x1;}}[a0_0x4fa287(0x5c7)](_0x4e1578,_0x2cace2){const _0x4ecf12=a0_0x4fa287;if(_0x4e1578===_0x2cace2&&/^\d+$/['test'](_0x4e1578))return!0x0;if(this['isListOfNumbers'](_0x4e1578)&&/^\d+$/[_0x4ecf12(0x5ba)](_0x2cace2)){let _0x4b0baa=_0x4e1578['split'](',')[_0x4ecf12(0x465)](_0x12db99=>parseInt(_0x12db99[_0x4ecf12(0x602)]())),_0x478a66=parseInt(_0x2cace2);return _0x4b0baa[_0x4ecf12(0x7f1)](_0x478a66);}return _0x4e1578[_0x4ecf12(0x7f1)](_0x2cace2);}['isListOfNumbers'](_0xe3f8a){const _0x4a05c1=a0_0x4fa287;return/^\d+(,\d+)*$/[_0x4a05c1(0x5ba)](_0xe3f8a);}[a0_0x4fa287(0x3f3)](_0x81f57a){const _0x1d69eb=a0_0x4fa287;let _0xf7f10e=!0x0,_0x2d144a=null;for(let _0x59213b of _0x81f57a){let _0x2b8613=this[_0x1d69eb(0x829)](_0x59213b);if(_0x2d144a==='or'&&_0x2b8613){_0xf7f10e=!0x0;break;}if(_0x2d144a===_0x1d69eb(0x6c9)&&!_0x2b8613){_0xf7f10e=!0x1;break;}_0x2d144a=_0x59213b[_0x1d69eb(0x918)];}return _0xf7f10e;}[a0_0x4fa287(0x829)](_0x3f6d28){const _0x1e6fff=a0_0x4fa287;let _0x35356a=_0x3f6d28['firstValue'],_0x5ccaa0=_0x3f6d28[_0x1e6fff(0x46e)];try{switch(_0x3f6d28[_0x1e6fff(0x6bf)]){case'equal':return String(_0x35356a)===String(_0x5ccaa0);case _0x1e6fff(0x692):return String(_0x35356a)!==String(_0x5ccaa0);case _0x1e6fff(0x5c7):return String(_0x35356a)[_0x1e6fff(0x7f1)](String(_0x5ccaa0));case _0x1e6fff(0x5fb):return!String(_0x35356a)[_0x1e6fff(0x7f1)](String(_0x5ccaa0));case _0x1e6fff(0x8d2):return parseFloat(String(_0x35356a))>parseFloat(String(_0x5ccaa0));case'less':return parseFloat(String(_0x35356a))<parseFloat(String(_0x5ccaa0));case _0x1e6fff(0x3a8):return String(_0x35356a)!=='';case'empty':return String(_0x35356a)==='';case _0x1e6fff(0x725):return new RegExp(String(_0x5ccaa0))[_0x1e6fff(0x5ba)](String(_0x35356a));case'notMatchRegex':return!new RegExp(String(_0x5ccaa0))['test'](String(_0x35356a));default:return!0x1;}}catch(_0x460884){return this['logger'][_0x1e6fff(0x91c)](_0x1e6fff(0x527)+_0x460884),!0x1;}}async[a0_0x4fa287(0x4ff)](_0x2fcf6d,_0x5e97bc){const _0x5d454e=a0_0x4fa287;if(this[_0x5d454e(0x45d)][_0x5d454e(0x6b6)](this[_0x5d454e(0x86e)]+'\x20('+this['instance'][_0x5d454e(0x586)]+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x2fcf6d||!_0x5e97bc)return this[_0x5d454e(0x45d)]['error'](this[_0x5d454e(0x86e)]+'\x20('+this[_0x5d454e(0x60f)][_0x5d454e(0x586)]+_0x5d454e(0x4c2)),null;let _0x9d9b73=_0x2fcf6d[_0x5d454e(0x792)][_0x5d454e(0x547)][_0x5d454e(0x27b)]['id'];this[_0x5d454e(0x45d)][_0x5d454e(0x6b6)](this[_0x5d454e(0x86e)]+'\x20('+this[_0x5d454e(0x60f)][_0x5d454e(0x586)]+_0x5d454e(0x690)+_0x9d9b73);let _0x30b25e={'key':{'id':_0x9d9b73}},_0x33dd06=_0x5e97bc[_0x5d454e(0x2bb)];_0x2fcf6d['chatLog'][_0x5d454e(0x71c)]['_'+_0x33dd06+_0x5d454e(0x6fb)]=null,_0x2fcf6d['chatLog'][_0x5d454e(0x71c)]['_'+_0x33dd06+_0x5d454e(0x706)]=null,_0x2fcf6d[_0x5d454e(0x792)][_0x5d454e(0x71c)]['_'+_0x33dd06+_0x5d454e(0x2aa)]=null,_0x2fcf6d[_0x5d454e(0x792)][_0x5d454e(0x71c)]['_'+_0x33dd06+_0x5d454e(0x334)]=_0x2fcf6d[_0x5d454e(0x792)][_0x5d454e(0x547)][_0x5d454e(0x429)];try{let _0x2b2308=await this['getBase64FromMediaMessage'](_0x30b25e);this[_0x5d454e(0x45d)][_0x5d454e(0x6b6)](this[_0x5d454e(0x86e)]+'\x20('+this[_0x5d454e(0x60f)]['wuid']+'):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.'),_0x2fcf6d['chatLog'][_0x5d454e(0x71c)]['_'+_0x33dd06+_0x5d454e(0x59c)]=_0x2b2308[_0x5d454e(0x8d1)],_0x2fcf6d[_0x5d454e(0x792)]['realVariables']['_'+_0x33dd06+'.mimetype']=_0x2b2308[_0x5d454e(0x33a)];let _0x5993d4=_0x2b2308[_0x5d454e(0x33a)][_0x5d454e(0x665)](/\/(\w+)$/),_0xf2e04a=_0x5993d4?_0x5993d4[0x1]:null;_0x2fcf6d[_0x5d454e(0x792)]['realVariables']['_'+_0x33dd06+'.extension']=_0xf2e04a,this[_0x5d454e(0x45d)][_0x5d454e(0x6b6)](this[_0x5d454e(0x86e)]+'\x20('+this[_0x5d454e(0x60f)][_0x5d454e(0x586)]+'):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27'+_0x33dd06+'\x27.');}catch(_0x5842e9){this['logger']['error'](this[_0x5d454e(0x86e)]+'\x20('+this[_0x5d454e(0x60f)][_0x5d454e(0x586)]+_0x5d454e(0x579)+_0x5842e9[_0x5d454e(0x418)]);}let _0x25da40=_0x2fcf6d[_0x5d454e(0x792)][_0x5d454e(0x547)][_0x5d454e(0x236)]||_0x2fcf6d[_0x5d454e(0x792)][_0x5d454e(0x547)][_0x5d454e(0x865)]||_0x2fcf6d[_0x5d454e(0x792)]['lastReceivedMessage'][_0x5d454e(0x894)];try{_0x2fcf6d['chatLog'][_0x5d454e(0x71c)]||(_0x2fcf6d[_0x5d454e(0x792)]['realVariables']={});let _0x30fb51=_0x2fcf6d['chatLog'][_0x5d454e(0x71c)][_0x33dd06];_0x2fcf6d[_0x5d454e(0x792)][_0x5d454e(0x71c)][_0x33dd06]=_0x25da40;let _0x52252c={'variable':_0x33dd06,'oldValue':_0x30fb51,'newValue':_0x25da40};this[_0x5d454e(0x434)](_0x2fcf6d,_0x5e97bc,_0x52252c),this['logger'][_0x5d454e(0x6b6)](this[_0x5d454e(0x86e)]+'\x20('+this[_0x5d454e(0x60f)][_0x5d454e(0x586)]+'):\x20Conversa\x20atualizada\x20em\x20memória');}catch(_0x39a9d){let _0x1084c0={'error':!0x0,'errorLog':_0x39a9d[_0x5d454e(0x644)]()};return this[_0x5d454e(0x434)](_0x2fcf6d,_0x5e97bc,_0x1084c0),this['logger']['error'](this['instanceName']+'\x20('+this[_0x5d454e(0x60f)][_0x5d454e(0x586)]+_0x5d454e(0x557)+(_0x39a9d instanceof Error?_0x39a9d['message']:JSON['stringify'](_0x39a9d,null,0x2))),null;}}async[a0_0x4fa287(0x83c)](_0x43792e,_0x2ff1e1){const _0x520510=a0_0x4fa287;if(this[_0x520510(0x45d)][_0x520510(0x6b6)](this[_0x520510(0x86e)]+'\x20('+this[_0x520510(0x60f)][_0x520510(0x586)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0x43792e||!_0x2ff1e1)return this[_0x520510(0x45d)][_0x520510(0x91c)](this[_0x520510(0x86e)]+'\x20('+this[_0x520510(0x60f)][_0x520510(0x586)]+_0x520510(0x4c2)),null;let _0x170cb5=Date[_0x520510(0x6b0)](),_0x9412c3=parseInt(_0x2ff1e1[_0x520510(0x816)],0xa);if(isNaN(_0x9412c3))return this[_0x520510(0x45d)][_0x520510(0x91c)](this[_0x520510(0x86e)]+'\x20('+this[_0x520510(0x60f)][_0x520510(0x586)]+_0x520510(0x63c)),null;let _0x3153fe={'newStoppedUntil':_0x170cb5+_0x9412c3*0x3c*0x3e8};return await this[_0x520510(0x434)](_0x43792e,_0x2ff1e1,_0x3153fe,!0x0),null;}async[a0_0x4fa287(0x537)](_0x1eb415,_0x14c07f){const _0x150e1d=a0_0x4fa287;try{switch(_0x14c07f[_0x150e1d(0x78e)][_0x150e1d(0x518)]){case _0x150e1d(0x64c):await this[_0x150e1d(0x214)](_0x1eb415,_0x14c07f);break;case _0x150e1d(0x437):await this['uazapiSendMedia'](_0x1eb415,_0x14c07f);break;case _0x150e1d(0x436):await this[_0x150e1d(0x76a)](_0x1eb415,_0x14c07f);break;case _0x150e1d(0x3d4):await this[_0x150e1d(0x222)](_0x1eb415,_0x14c07f);break;case'sendContact':await this[_0x150e1d(0x560)](_0x1eb415,_0x14c07f);break;case'sendPoll':await this[_0x150e1d(0x241)](_0x1eb415,_0x14c07f);break;case _0x150e1d(0x7bf):await this[_0x150e1d(0x241)](_0x1eb415,_0x14c07f);break;case _0x150e1d(0x69e):await this['uazapiDeleteMessage'](_0x1eb415,_0x14c07f);break;default:this[_0x150e1d(0x45d)][_0x150e1d(0x91c)](this[_0x150e1d(0x86e)]+'\x20('+this[_0x150e1d(0x60f)][_0x150e1d(0x586)]+_0x150e1d(0x77a)+_0x14c07f[_0x150e1d(0x78e)][_0x150e1d(0x518)]);}}catch(_0x518008){this[_0x150e1d(0x45d)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x150e1d(0x206)+(_0x518008 instanceof Error?_0x518008[_0x150e1d(0x418)]:JSON[_0x150e1d(0x2b0)](_0x518008,null,0x2)));}}async[a0_0x4fa287(0x434)](_0x91e910,_0x23245e,_0x2a9fe1,_0x532ec3=!0x1,_0x55289a=!0x1){const _0x2978db=a0_0x4fa287;_0x91e910[_0x2978db(0x792)][_0x2978db(0x5ab)]||(_0x91e910[_0x2978db(0x792)][_0x2978db(0x5ab)]=[]);let _0x1538e2=(_0x91e910[_0x2978db(0x792)][_0x2978db(0x5ab)]?.[_0x2978db(0x875)]??0x0)+0x1,_0xfdb157=_0x91e910[_0x2978db(0x792)][_0x2978db(0x5ab)]['filter'](_0x41eeb7=>String(_0x41eeb7[_0x2978db(0x8e5)])===String(_0x23245e[_0x2978db(0x817)]))[_0x2978db(0x875)]+0x1,_0x3884b3=_0x2a9fe1?.[_0x2978db(0x20e)]??Date[_0x2978db(0x6b0)](),_0x4e8fe4=_0x2a9fe1?.[_0x2978db(0x91c)]?_0x2a9fe1[_0x2978db(0x66d)]??_0x2a9fe1['error'][_0x2978db(0x644)]():void 0x0,_0x2fc0d6={'onTime':_0x3884b3,'blockId':_0x23245e[_0x2978db(0x817)],'order':_0x1538e2,'activatedCount':_0xfdb157,'error':_0x2a9fe1?.['error']??!0x1,'messageId':_0x2a9fe1?.[_0x2978db(0x202)],'apiResponse':_0x2a9fe1?.['apiResponse'],'apiResponseString':_0x2a9fe1?.['apiResponse']?JSON[_0x2978db(0x2b0)](_0x2a9fe1?.['apiResponse']):void 0x0,'variable':_0x2a9fe1?.['variable'],'oldValue':_0x2a9fe1?.['oldValue'],'newValue':_0x2a9fe1?.[_0x2978db(0x760)],'newStoppedUntil':_0x2a9fe1?.[_0x2978db(0x74d)],'moreLogs':_0x2a9fe1?.['moreLogs'],'errorLog':_0x4e8fe4};if(_0x2a9fe1['moreLogs']&&_0x2a9fe1[_0x2978db(0x587)]['length']>0x0){let _0x430059=_0x2a9fe1['moreLogs']['map'](_0x1423f7=>this[_0x2978db(0x2bf)](_0x1423f7,_0x91e910[_0x2978db(0x792)][_0x2978db(0x71c)]));_0x2fc0d6[_0x2978db(0x587)]=_0x430059;}if(_0x91e910[_0x2978db(0x792)][_0x2978db(0x71c)]||(_0x91e910['chatLog'][_0x2978db(0x71c)]={}),_0x91e910['chatLog'][_0x2978db(0x71c)][_0x2978db(0x20c)]=String(_0xfdb157),_0x91e910[_0x2978db(0x792)][_0x2978db(0x71c)][_0x2978db(0x260)]=String(_0x2a9fe1[_0x2978db(0x91c)]??!0x1),_0x91e910[_0x2978db(0x792)][_0x2978db(0x5ab)][_0x2978db(0x2fc)](_0x2fc0d6),_0x91e910['chatLog'][_0x2978db(0x71c)][_0x2978db(0x500)]&&_0x91e910[_0x2978db(0x792)][_0x2978db(0x71c)][_0x2978db(0x500)]!==_0x91e910['remoteJid']){let _0x21a736=(await this[_0x2978db(0x488)]({'numbers':[_0x91e910[_0x2978db(0x792)][_0x2978db(0x71c)][_0x2978db(0x500)]]}))[0x0][_0x2978db(0x35f)];_0x91e910[_0x2978db(0x792)][_0x2978db(0x71c)][_0x2978db(0x500)]=_0x21a736,_0x91e910[_0x2978db(0x224)]=_0x21a736;try{let _0x57e6e6={'_id':{'$ne':_0x91e910['_id']},'remoteJid':_0x21a736,'status':'open'},_0x306319={'status':'closed'};await this[_0x2978db(0x830)][_0x2978db(0x56c)][_0x2978db(0x385)](_0x57e6e6,_0x306319,this[_0x2978db(0x60f)][_0x2978db(0x586)]),this[_0x2978db(0x45d)][_0x2978db(0x6b6)](this[_0x2978db(0x86e)]+'\x20('+this['instance'][_0x2978db(0x586)]+_0x2978db(0x90b));}catch(_0x4e4719){this[_0x2978db(0x45d)][_0x2978db(0x91c)](this[_0x2978db(0x86e)]+'\x20('+this['instance'][_0x2978db(0x586)]+_0x2978db(0x3a9)+_0x4e4719['message']);}try{let _0x30ab75=_0x91e910[_0x2978db(0x792)]['realVariables'],_0xe3623a=await this['getVariablesChat'](_0x21a736),_0x46d38d={..._0x30ab75,..._0xe3623a,'_remoteJid':_0x21a736};_0x91e910[_0x2978db(0x792)][_0x2978db(0x71c)]=_0x46d38d;}catch(_0x5d2b7d){this['logger'][_0x2978db(0x91c)](this[_0x2978db(0x86e)]+'\x20('+this[_0x2978db(0x60f)][_0x2978db(0x586)]+'):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20'+_0x5d2b7d[_0x2978db(0x418)]);}}_0x91e910[_0x2978db(0x792)][_0x2978db(0x595)]=_0x23245e['_id']['toString'](),_0x91e910['chatLog'][_0x2978db(0x1dc)]&&(_0x91e910[_0x2978db(0x792)][_0x2978db(0x1dc)]=_0x91e910[_0x2978db(0x792)]['lastSendMessage']),_0x91e910[_0x2978db(0x792)][_0x2978db(0x547)]&&(_0x91e910[_0x2978db(0x792)][_0x2978db(0x547)]=_0x91e910[_0x2978db(0x792)][_0x2978db(0x547)]),_0x91e910[_0x2978db(0x792)][_0x2978db(0x454)]&&(_0x91e910[_0x2978db(0x792)][_0x2978db(0x454)]=_0x91e910['chatLog'][_0x2978db(0x454)]),_0x55289a&&(_0x91e910[_0x2978db(0x370)]=_0x2978db(0x898)),_0x532ec3?this[_0x2978db(0x3e3)](_0x91e910):this[_0x2978db(0x89a)](_0x91e910,_0x23245e);}['replaceVariablesLogs'](_0x4ad664,_0x5309aa){const _0x5e7ef0=a0_0x4fa287;return _0x4ad664['replace'](/\{\{([^}]+)\}\}/g,(_0x922644,_0x496539)=>_0x5309aa[_0x496539]?'{{'+_0x496539+_0x5e7ef0(0x531)+_0x5309aa[_0x496539]+'\x22':'{{'+_0x496539+_0x5e7ef0(0x1ca));}async[a0_0x4fa287(0x3e3)](_0x5774e3){const _0x45805d=a0_0x4fa287;try{let _0x5a467c=Object['entries'](_0x5774e3['chatLog'][_0x45805d(0x71c)])[_0x45805d(0x465)](([_0x1131bf,_0xcff578])=>({'name':_0x1131bf,'value':_0xcff578})),_0x2c10ac={'status':_0x5774e3[_0x45805d(0x370)],'remoteJid':_0x5774e3[_0x45805d(0x224)],'blocks':_0x5774e3[_0x45805d(0x744)],'waitingMenu_id':_0x5774e3[_0x45805d(0x8ca)],'waitingMenu_text':_0x5774e3[_0x45805d(0x70f)],'waitingMenu_replyOptions':_0x5774e3[_0x45805d(0x2b6)],'chatLog':{'lastBlockId':_0x5774e3[_0x45805d(0x792)][_0x45805d(0x595)],'lastSendMessage':_0x5774e3[_0x45805d(0x792)]['lastSendMessage'],'lastReceivedMessage':_0x5774e3['chatLog']['lastReceivedMessage'],'lastCondition':_0x5774e3[_0x45805d(0x792)][_0x45805d(0x454)],'chatVariables':_0x5a467c,'realVariables':_0x5774e3['chatLog'][_0x45805d(0x71c)],'blockLogs':_0x5774e3[_0x45805d(0x792)]['blockLogs']}},_0x350564=await this[_0x45805d(0x830)]['flowConversation'][_0x45805d(0x3b3)](_0x5774e3['_id'],_0x2c10ac,this[_0x45805d(0x60f)]['wuid']);if(_0x350564){this[_0x45805d(0x45d)][_0x45805d(0x6b6)](this[_0x45805d(0x86e)]+'\x20('+this[_0x45805d(0x60f)][_0x45805d(0x586)]+_0x45805d(0x48e)+_0x350564['_id']);try{let _0x3caad8=['nome',_0x45805d(0x5f3),'email',_0x45805d(0x798),_0x45805d(0x370),_0x45805d(0x737),'responsavelid',_0x45805d(0x258),_0x45805d(0x1e2),_0x45805d(0x311)];if(!this[_0x45805d(0x1d4)]&&(await this['getAutomateSystem'](),!this[_0x45805d(0x1d4)]))throw new Error(_0x45805d(0x574));let _0x2d2511=this[_0x45805d(0x1d4)]?.['customFields']['map'](_0x49bae2=>_0x49bae2[_0x45805d(0x378)]),_0x137830={};Object[_0x45805d(0x5b8)](_0x5774e3[_0x45805d(0x792)][_0x45805d(0x71c)])[_0x45805d(0x442)](([_0x58d7ad,_0x10a795])=>{const _0x1302b5=_0x45805d;_0x3caad8[_0x1302b5(0x7f1)](_0x58d7ad)&&(_0x58d7ad===_0x1302b5(0x258)&&typeof _0x10a795==_0x1302b5(0x88c)?_0x137830[_0x58d7ad]=_0x10a795[_0x1302b5(0x916)](',')[_0x1302b5(0x465)](_0x3d4007=>_0x3d4007[_0x1302b5(0x602)]())[_0x1302b5(0x314)](_0x369a15=>_0x369a15!==''):_0x58d7ad===_0x1302b5(0x1e2)&&typeof _0x10a795=='string'?_0x137830[_0x58d7ad]=_0x10a795[_0x1302b5(0x916)](',')[_0x1302b5(0x465)](_0x4656a4=>_0x4656a4[_0x1302b5(0x602)]())[_0x1302b5(0x314)](_0x488bc8=>_0x488bc8!==''):_0x137830[_0x58d7ad]=_0x10a795);});let _0x580df0=_0x5774e3[_0x45805d(0x792)][_0x45805d(0x5ab)][_0x5774e3[_0x45805d(0x792)][_0x45805d(0x5ab)]['length']-0x1];if(_0x580df0){let _0x4bc03e=_0x580df0[_0x45805d(0x74d)];_0x4bc03e!==void 0x0&&(_0x137830['desativadoFluxoAte']=_0x4bc03e[_0x45805d(0x644)]());}let _0x447443=_0x5a467c[_0x45805d(0x314)](_0xa923e6=>_0x2d2511['includes'](_0xa923e6[_0x45805d(0x378)]));this[_0x45805d(0x45d)][_0x45805d(0x6b6)](this[_0x45805d(0x86e)]+'\x20('+this[_0x45805d(0x60f)][_0x45805d(0x586)]+'):\x20leadInfoVariables'),this[_0x45805d(0x45d)][_0x45805d(0x6b6)](_0x137830),this[_0x45805d(0x45d)][_0x45805d(0x6b6)](this['instanceName']+'\x20('+this[_0x45805d(0x60f)][_0x45805d(0x586)]+_0x45805d(0x604)),this[_0x45805d(0x45d)][_0x45805d(0x6b6)](_0x447443);let _0x6b81ab=_0x447443[_0x45805d(0x465)](_0x485e7d=>{const _0x2162bc=_0x45805d;let _0x386895=this[_0x2162bc(0x1d4)]?.[_0x2162bc(0x87f)]['find'](_0x197930=>_0x197930[_0x2162bc(0x378)]===_0x485e7d[_0x2162bc(0x378)]);if(!_0x386895)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x485e7d[_0x2162bc(0x378)]);return{'_id':_0x386895['_id'],'value':_0x485e7d['value']};});this['logger'][_0x45805d(0x6b6)](this['instanceName']+'\x20('+this['instance'][_0x45805d(0x586)]+_0x45805d(0x229)),this[_0x45805d(0x45d)][_0x45805d(0x6b6)](_0x6b81ab),await this['saveChatVariables'](_0x5774e3[_0x45805d(0x224)],_0x137830,_0x6b81ab);}catch(_0x104119){this[_0x45805d(0x45d)]['error'](this['instanceName']+'\x20('+this[_0x45805d(0x60f)][_0x45805d(0x586)]+_0x45805d(0x34b)+(_0x104119 instanceof Error?_0x104119['message']:JSON[_0x45805d(0x2b0)](_0x104119,null,0x2)));}}else this[_0x45805d(0x45d)][_0x45805d(0x91c)](this['instanceName']+'\x20('+this[_0x45805d(0x60f)][_0x45805d(0x586)]+_0x45805d(0x2eb));}catch(_0x349fda){this[_0x45805d(0x45d)][_0x45805d(0x91c)](this[_0x45805d(0x86e)]+'\x20('+this[_0x45805d(0x60f)]['wuid']+_0x45805d(0x72c)+(_0x349fda instanceof Error?_0x349fda[_0x45805d(0x418)]:JSON['stringify'](_0x349fda,null,0x2)));}}async[a0_0x4fa287(0x627)](_0x664781,_0x101329,_0x565ac3){const _0x26d84d=a0_0x4fa287;try{let _0x68f6be={'leadInfo.leadnome':_0x101329[_0x26d84d(0x536)],'leadInfo.nomecompleto':_0x101329['nomecompleto'],'leadInfo.email':_0x101329[_0x26d84d(0x908)],'leadInfo.cpf':_0x101329[_0x26d84d(0x798)],'leadInfo.status':_0x101329[_0x26d84d(0x370)],'leadInfo.notas':_0x101329[_0x26d84d(0x737)],'leadInfo.responsavelid':_0x101329[_0x26d84d(0x75e)],'leadInfo.tags':_0x101329[_0x26d84d(0x258)],'leadInfo.etiquetas':_0x101329[_0x26d84d(0x1e2)],'leadInfo.customFields':_0x565ac3,'leadInfo.atendimentoAberto':_0x101329['atendimentoAberto']},_0x9f3a70=await this[_0x26d84d(0x830)][_0x26d84d(0x2ef)][_0x26d84d(0x6bc)]({'where':{'_id':_0x664781}},this[_0x26d84d(0x60f)][_0x26d84d(0x586)]);if(!_0x9f3a70)return _0x26d84d(0x7ee);let _0x834005=new Set(_0x9f3a70['leadInfo'][_0x26d84d(0x1e2)]||[]),_0x1918e9=new Set(_0x101329[_0x26d84d(0x1e2)]||[]),_0x507235=await this['repository'][_0x26d84d(0x535)][_0x26d84d(0x896)]({'where':{}},this[_0x26d84d(0x60f)][_0x26d84d(0x586)]),_0x3ff2ef=new Set(_0x507235[_0x26d84d(0x465)](_0x268730=>_0x268730[_0x26d84d(0x817)])),_0x56a9ca=[..._0x1918e9][_0x26d84d(0x314)](_0x28d40a=>!_0x834005[_0x26d84d(0x842)](_0x28d40a)&&_0x3ff2ef[_0x26d84d(0x842)](_0x28d40a)),_0x2548c7=[..._0x834005]['filter'](_0x56b179=>!_0x1918e9[_0x26d84d(0x842)](_0x56b179));for(let _0x534bd0 of _0x56a9ca)await this['AddChatLabel'](_0x534bd0,_0x9f3a70[_0x26d84d(0x817)]),_0x834005['add'](_0x534bd0);for(let _0x61ba8 of _0x2548c7)await this[_0x26d84d(0x4a0)](_0x61ba8,_0x9f3a70[_0x26d84d(0x817)]),_0x834005['delete'](_0x61ba8);if(_0x26d84d(0x728)in _0x101329){let _0x1b16b5=_0x101329[_0x26d84d(0x728)];_0x68f6be[_0x26d84d(0x703)]=_0x1b16b5?Number(_0x1b16b5):null;}if(_0x26d84d(0x311)in _0x101329){let _0x44f112=_0x101329['atendimentoAberto'][_0x26d84d(0x250)]();_0x68f6be[_0x26d84d(0x459)]=_0x44f112===_0x26d84d(0x3fd)||_0x44f112==='1'||_0x44f112===_0x26d84d(0x68b)||_0x44f112==='sim';}let _0x5d8a07=await this[_0x26d84d(0x830)][_0x26d84d(0x2ef)][_0x26d84d(0x3b3)]({'where':{'_id':_0x664781}},_0x68f6be,this[_0x26d84d(0x60f)][_0x26d84d(0x586)]);_0x5d8a07?(this[_0x26d84d(0x45d)]['verbose'](this[_0x26d84d(0x86e)]+'\x20('+this[_0x26d84d(0x60f)][_0x26d84d(0x586)]+_0x26d84d(0x670)+_0x5d8a07[_0x26d84d(0x817)]),q(this[_0x26d84d(0x86e)],'chats',{'chat':_0x5d8a07})):this[_0x26d84d(0x45d)]['error'](this[_0x26d84d(0x86e)]+'\x20('+this['instance'][_0x26d84d(0x586)]+_0x26d84d(0x4c7));}catch(_0x4625c1){this[_0x26d84d(0x45d)]['error'](this[_0x26d84d(0x86e)]+'\x20('+this[_0x26d84d(0x60f)][_0x26d84d(0x586)]+_0x26d84d(0x86f)+(_0x4625c1 instanceof Error?_0x4625c1[_0x26d84d(0x418)]:JSON[_0x26d84d(0x2b0)](_0x4625c1,null,0x2)));}}async[a0_0x4fa287(0x914)](_0x426c89,_0x211883){const _0x92effb=a0_0x4fa287;this['logger'][_0x92effb(0x6b6)](this[_0x92effb(0x86e)]+'\x20('+this[_0x92effb(0x60f)][_0x92effb(0x586)]+_0x92effb(0x3a0)+_0x211883);try{let _0x8d0107=await this[_0x92effb(0x830)][_0x92effb(0x2ef)]['updateOne']({'where':{'_id':_0x426c89['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x211883},this['instance'][_0x92effb(0x586)]);this['logger'][_0x92effb(0x6b6)](this[_0x92effb(0x86e)]+'\x20('+this[_0x92effb(0x60f)][_0x92effb(0x586)]+_0x92effb(0x858)+_0x426c89[_0x92effb(0x817)]),this[_0x92effb(0x45d)][_0x92effb(0x6b6)](this[_0x92effb(0x86e)]+'\x20('+this['instance']['wuid']+_0x92effb(0x3a0)+JSON[_0x92effb(0x2b0)](_0x8d0107,null,0x2)),_0x8d0107&&q(this[_0x92effb(0x86e)],_0x92effb(0x7b1),{'chat':_0x8d0107});}catch(_0x3fae09){this[_0x92effb(0x45d)][_0x92effb(0x91c)](this[_0x92effb(0x86e)]+'\x20('+this[_0x92effb(0x60f)][_0x92effb(0x586)]+_0x92effb(0x3d0)+(_0x3fae09 instanceof Error?_0x3fae09['message']:JSON[_0x92effb(0x2b0)](_0x3fae09,null,0x2)));}}async[a0_0x4fa287(0x763)](_0x15f962){const _0x462b1d=a0_0x4fa287;try{this[_0x462b1d(0x45d)][_0x462b1d(0x6b6)](this[_0x462b1d(0x86e)]+'\x20('+this[_0x462b1d(0x60f)][_0x462b1d(0x586)]+_0x462b1d(0x866));let _0x33bb79=_0x15f962[_0x462b1d(0x2a9)](/\D/g,''),_0x47d691=this[_0x462b1d(0x1d4)][_0x462b1d(0x395)][_0x462b1d(0x896)](_0x543b58=>_0x543b58[_0x462b1d(0x298)]===_0x33bb79);if(_0x47d691||(this['logger'][_0x462b1d(0x6b6)](this[_0x462b1d(0x86e)]+'\x20('+this[_0x462b1d(0x60f)][_0x462b1d(0x586)]+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0x47d691=this['AutomateSystem']['flows'][_0x462b1d(0x896)](_0xecb266=>_0xecb266['default']===!0x0)),!_0x47d691)return this[_0x462b1d(0x45d)][_0x462b1d(0x6b6)](this[_0x462b1d(0x86e)]+'\x20('+this[_0x462b1d(0x60f)]['wuid']+'):\x20Não\x20achou\x20nenhum\x20flow'),null;let _0x54729b=await this['repository']['flow'][_0x462b1d(0x6bc)]({'where':{'_id':_0x47d691['_id']}});if(!_0x54729b||!_0x54729b[_0x462b1d(0x292)]?.[_0x462b1d(0x7f1)](this[_0x462b1d(0x60f)][_0x462b1d(0x586)]))throw this[_0x462b1d(0x45d)][_0x462b1d(0x91c)](this['instanceName']+'\x20('+this[_0x462b1d(0x60f)][_0x462b1d(0x586)]+_0x462b1d(0x64d)+_0x54729b[_0x462b1d(0x817)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x54729b['_id']+_0x462b1d(0x566));return _0x54729b;}catch(_0x90e12e){return this[_0x462b1d(0x45d)][_0x462b1d(0x91c)](this[_0x462b1d(0x86e)]+'\x20('+this[_0x462b1d(0x60f)][_0x462b1d(0x586)]+_0x462b1d(0x23a)+(_0x90e12e instanceof Error?_0x90e12e[_0x462b1d(0x418)]:JSON['stringify'](_0x90e12e,null,0x2))),null;}}async[a0_0x4fa287(0x534)](_0x2556cd,_0xbccac0){const _0x183276=a0_0x4fa287;try{let _0x3c0438=!!_0xbccac0[_0x183276(0x894)],_0x49f69d=_0xbccac0['quoted'],_0x3ec0f9=null;if(this[_0x183276(0x45d)][_0x183276(0x6b6)](this[_0x183276(0x86e)]+'\x20('+this['instance'][_0x183276(0x586)]+_0x183276(0x4f6)+_0x3c0438+_0x183276(0x6ab)+_0x49f69d),_0x3c0438){this[_0x183276(0x45d)]['verbose'](this[_0x183276(0x86e)]+'\x20('+this[_0x183276(0x60f)][_0x183276(0x586)]+_0x183276(0x8c8));let _0x48dba8={'where':{'remoteJid':_0x2556cd,'waitingMenu_id':_0x49f69d}};if(_0x3ec0f9=await this[_0x183276(0x830)]['flowConversation']['findOne'](_0x48dba8,this[_0x183276(0x60f)][_0x183276(0x586)]),!_0x3ec0f9)return this['logger'][_0x183276(0x6b6)](this[_0x183276(0x86e)]+'\x20('+this['instance']['wuid']+_0x183276(0x6e4)),null;let _0x2ef6c0=Date[_0x183276(0x6b0)](),_0x39a45f=_0x3ec0f9?.[_0x183276(0x1e5)]||0x0,_0x31788a=_0x2ef6c0-_0x39a45f*0x3c*0x3e8;if(_0x3ec0f9[_0x183276(0x6df)]<_0x31788a){this['logger'][_0x183276(0x6b6)](this[_0x183276(0x86e)]+'\x20('+this[_0x183276(0x60f)][_0x183276(0x586)]+'):\x20Conversa\x20está\x20expirada\x20-\x20voto');let _0x56b17f={'number':_0x3ec0f9[_0x183276(0x224)],'options':{'delay':0x0},'textMessage':{'text':_0x3ec0f9['waitingMenu_ExpiredMessage']}};await this['textMessage'](_0x56b17f);let _0x4e6dc1={'status':'closed','waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository'][_0x183276(0x56c)]['updateOne'](_0x3ec0f9[_0x183276(0x817)],_0x4e6dc1,this['instance'][_0x183276(0x586)]),null;}return _0x3ec0f9[_0x183276(0x6df)]=Date[_0x183276(0x6b0)](),_0x3ec0f9[_0x183276(0x792)]['lastReceivedMessage']=_0xbccac0,_0x3ec0f9;}else{this[_0x183276(0x45d)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x183276(0x586)]+'):\x20'+this[_0x183276(0x60f)][_0x183276(0x586)]+_0x183276(0x30b)),this['logger'][_0x183276(0x6b6)](this[_0x183276(0x86e)]+'\x20('+this[_0x183276(0x60f)][_0x183276(0x586)]+_0x183276(0x1f1));let _0x2fcc49={'where':{'remoteJid':_0x2556cd,'status':_0x183276(0x8b1)}};if(_0x3ec0f9=await this[_0x183276(0x830)][_0x183276(0x56c)]['findOne'](_0x2fcc49,this[_0x183276(0x60f)][_0x183276(0x586)]),!_0x3ec0f9){let _0xcfa224=await this[_0x183276(0x763)](_0x2556cd);if(_0xcfa224&&(_0x3ec0f9=await this[_0x183276(0x7a3)](_0xcfa224,_0xbccac0[_0x183276(0x27b)],_0xbccac0)),!_0x3ec0f9)return null;}let _0x267d3a=Date[_0x183276(0x6b0)](),_0x8a1a2a=_0x3ec0f9?.[_0x183276(0x1e5)]||0x0,_0x3d8264=_0x267d3a-_0x8a1a2a*0x3c*0x3e8;if(this[_0x183276(0x45d)][_0x183276(0x6b6)](this[_0x183276(0x86e)]+'\x20('+this[_0x183276(0x60f)][_0x183276(0x586)]+_0x183276(0x252)+_0x267d3a+',\x20Minutes\x20to\x20Close:\x20'+_0x8a1a2a+_0x183276(0x7da)+_0x3d8264),this[_0x183276(0x45d)][_0x183276(0x6b6)](this[_0x183276(0x86e)]+'\x20('+this[_0x183276(0x60f)]['wuid']+_0x183276(0x4ed)),this['logger']['verbose'](this[_0x183276(0x86e)]+'\x20('+this[_0x183276(0x60f)][_0x183276(0x586)]+_0x183276(0x60c)+_0x3ec0f9['lastInteraction']),this[_0x183276(0x45d)][_0x183276(0x6b6)](this[_0x183276(0x86e)]+'\x20('+this['instance'][_0x183276(0x586)]+'):\x20expirationTime:\x20'+_0x3d8264),_0x3ec0f9[_0x183276(0x6df)]<_0x3d8264){this['logger'][_0x183276(0x6b6)](this[_0x183276(0x86e)]+'\x20('+this[_0x183276(0x60f)]['wuid']+_0x183276(0x42e));let _0x135916=await this[_0x183276(0x763)](_0x2556cd);if(_0x135916===null)return null;_0x3ec0f9&&await this[_0x183276(0x830)]['flowConversation'][_0x183276(0x3b3)](_0x3ec0f9['_id'],{'status':'closed'},this[_0x183276(0x60f)][_0x183276(0x586)]),_0x3ec0f9=await this['createNewConversation'](_0x135916,_0xbccac0[_0x183276(0x27b)],_0xbccac0);}return _0x3ec0f9['lastInteraction']=_0x267d3a,_0x3ec0f9[_0x183276(0x792)]['lastReceivedMessage']=_0xbccac0,_0x3ec0f9;}}catch(_0x15a309){return this[_0x183276(0x45d)][_0x183276(0x91c)](this['instanceName']+'\x20('+this[_0x183276(0x60f)][_0x183276(0x586)]+_0x183276(0x811)+(_0x15a309 instanceof Error?_0x15a309[_0x183276(0x418)]:JSON[_0x183276(0x2b0)](_0x15a309,null,0x2))),null;}}async['createNewConversation'](_0x160395,_0x42bef1,_0x191b95){const _0x342851=a0_0x4fa287;this[_0x342851(0x45d)][_0x342851(0x6b6)](this[_0x342851(0x86e)]+'\x20('+this[_0x342851(0x60f)]['wuid']+_0x342851(0x734));try{let _0x272439=require(_0x342851(0x339))['ObjectId'],_0x5dae93=Date[_0x342851(0x6b0)](),_0x140b89=_0x342851(0x5bf),_0x35ee33=_0x42bef1['fromMe']?null:_0x191b95,_0xd98f8a=_0x42bef1[_0x342851(0x827)]?_0x191b95:null,_0x6b442c=_0x42bef1[_0x342851(0x224)],_0x263ce4=this[_0x342851(0x1d4)][_0x342851(0x395)][_0x342851(0x896)](_0xd98639=>_0xd98639[_0x342851(0x817)]===_0x160395[_0x342851(0x817)]?.[_0x342851(0x644)]()),_0x1a77fb=_0x263ce4?.['minutesToClose']??_0x160395[_0x342851(0x1e5)]??0x0,_0x173b26=_0x263ce4?.['readMessages']??_0x160395[_0x342851(0x85e)]??!0x1;await this['closeExistingConversations'](_0x6b442c);let _0xe5843a={'flowId':_0x160395[_0x342851(0x817)],..._0x160395,'chatLog':null},_0x58e007=await this[_0x342851(0x6c8)](_0xe5843a['variables']),_0xd695d6=await this[_0x342851(0x46b)](_0x6b442c),_0x508bb6={..._0x58e007,..._0xd695d6,'_remoteJid':_0x6b442c},_0x4a15a2={'lastReceivedMessage':_0x35ee33,'lastSendMessage':_0xd98f8a,'lastBlockId':_0x140b89,'lastCondition':!0x0,'realVariables':_0x508bb6};_0xe5843a[_0x342851(0x792)]=_0x4a15a2,delete _0xe5843a[_0x342851(0x817)],_0xe5843a[_0x342851(0x817)]=new _0x272439(),_0xe5843a[_0x342851(0x6df)]=_0x5dae93,_0xe5843a[_0x342851(0x370)]=_0x342851(0x8b1),_0xe5843a['remoteJid']=_0x6b442c,_0xe5843a[_0x342851(0x1e5)]=_0x1a77fb,_0xe5843a[_0x342851(0x85e)]=_0x173b26;let _0x1f5978=await this['repository'][_0x342851(0x56c)][_0x342851(0x3b3)](_0xe5843a[_0x342851(0x817)],_0xe5843a,this[_0x342851(0x60f)][_0x342851(0x586)]);return this[_0x342851(0x45d)][_0x342851(0x6b6)](this[_0x342851(0x86e)]+'\x20('+this[_0x342851(0x60f)][_0x342851(0x586)]+_0x342851(0x840)),_0x1f5978?_0xe5843a:null;}catch(_0x21e8e2){return this[_0x342851(0x45d)][_0x342851(0x91c)](this['instanceName']+'\x20('+this['instance'][_0x342851(0x586)]+_0x342851(0x8c6)+(_0x21e8e2 instanceof Error?_0x21e8e2[_0x342851(0x418)]:JSON[_0x342851(0x2b0)](_0x21e8e2,null,0x2))),_0x21e8e2;}}async[a0_0x4fa287(0x214)](_0x2c814b,_0x1235d1){const _0x55196b=a0_0x4fa287;let _0x1bf3a4=_0x2c814b['remoteJid'];_0x1235d1['uazapi'][_0x55196b(0x224)]&&_0x1235d1[_0x55196b(0x78e)][_0x55196b(0x224)][_0x55196b(0x602)]()!==''&&(_0x1bf3a4=_0x1235d1['uazapi'][_0x55196b(0x224)][_0x55196b(0x602)]()),this[_0x55196b(0x45d)]['verbose'](this[_0x55196b(0x86e)]+'\x20('+this[_0x55196b(0x60f)]['wuid']+_0x55196b(0x2ee));let _0x4a2878={'number':_0x1bf3a4,'options':{'delay':_0x1235d1['uazapi']['delay'],'linkPreview':_0x1235d1['uazapi'][_0x55196b(0x372)]},'textMessage':{'text':_0x1235d1[_0x55196b(0x78e)][_0x55196b(0x236)]}};try{let _0xd1a53f=await this[_0x55196b(0x24d)](_0x4a2878);if(_0xd1a53f){let _0x6bb2df={'_id':_0xd1a53f[_0x55196b(0x27b)]['id'],'_fromMe':_0xd1a53f['key'][_0x55196b(0x827)],'_remoteJid':_0xd1a53f[_0x55196b(0x27b)][_0x55196b(0x224)]},_0x20c4b8=(0x0,w[_0x55196b(0x5bc)])(_0xd1a53f[_0x55196b(0x418)]),_0x24b221=(0x0,w[_0x55196b(0x33b)])(_0x20c4b8);_0x2c814b['chatLog'][_0x55196b(0x595)]=_0x1235d1[_0x55196b(0x817)][_0x55196b(0x644)]();let {message_normalized:_0x4758d1}=this[_0x55196b(0x8a1)](_0x20c4b8,_0x24b221,null);_0x2c814b[_0x55196b(0x792)][_0x55196b(0x1dc)]=await _0x4758d1;let _0x22a3fb={'messageId':_0xd1a53f[_0x55196b(0x27b)]['id']},_0x1cb8ae=_0x2c814b['chatLog'][_0x55196b(0x71c)];Object['assign'](_0x1cb8ae,_0x6bb2df),_0x2c814b[_0x55196b(0x792)]['realVariables']=_0x1cb8ae,this[_0x55196b(0x434)](_0x2c814b,_0x1235d1,_0x22a3fb);}else{let _0x3f7b32={'error':!0x0};this['updateConversation'](_0x2c814b,_0x1235d1,_0x3f7b32),this[_0x55196b(0x45d)][_0x55196b(0x91c)](this['instanceName']+'\x20('+this[_0x55196b(0x60f)][_0x55196b(0x586)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x5ed30b){let _0x3cdd7a={'error':!0x0,'errorLog':_0x5ed30b[_0x55196b(0x644)]()};this[_0x55196b(0x434)](_0x2c814b,_0x1235d1,_0x3cdd7a),this[_0x55196b(0x45d)]['error'](this[_0x55196b(0x86e)]+'\x20('+this[_0x55196b(0x60f)][_0x55196b(0x586)]+_0x55196b(0x87a)+(_0x5ed30b instanceof Error?_0x5ed30b[_0x55196b(0x418)]:JSON[_0x55196b(0x2b0)](_0x5ed30b,null,0x2)));}}async[a0_0x4fa287(0x63a)](_0x19b90e,_0x18ac3b){const _0x516d3f=a0_0x4fa287;let _0x4bbd38=_0x19b90e[_0x516d3f(0x224)];_0x18ac3b['uazapi'][_0x516d3f(0x224)]&&_0x18ac3b[_0x516d3f(0x78e)][_0x516d3f(0x224)]['trim']()!==''&&(_0x4bbd38=_0x18ac3b[_0x516d3f(0x78e)][_0x516d3f(0x224)][_0x516d3f(0x602)]()),this['logger'][_0x516d3f(0x6b6)](this[_0x516d3f(0x86e)]+'\x20('+this['instance']['wuid']+_0x516d3f(0x32b));let _0xd1ce9b={'number':_0x4bbd38,'options':{'delay':_0x18ac3b[_0x516d3f(0x78e)][_0x516d3f(0x662)],'linkPreview':_0x18ac3b[_0x516d3f(0x78e)]['linkPreview']},'mediaMessage':{'mediatype':_0x18ac3b[_0x516d3f(0x78e)]['mediatype'],'caption':_0x18ac3b[_0x516d3f(0x78e)][_0x516d3f(0x865)],'media':_0x18ac3b['uazapi'][_0x516d3f(0x5f4)],'fileName':_0x18ac3b[_0x516d3f(0x78e)][_0x516d3f(0x61d)]}};try{let _0x434dfb=await this[_0x516d3f(0x867)](_0xd1ce9b);if(_0x434dfb){let _0x5c379c={'_id':_0x434dfb[_0x516d3f(0x27b)]['id'],'_fromMe':_0x434dfb[_0x516d3f(0x27b)][_0x516d3f(0x827)],'_remoteJid':_0x434dfb[_0x516d3f(0x27b)][_0x516d3f(0x224)]},_0x575b0f=(0x0,w[_0x516d3f(0x5bc)])(_0x434dfb['message']),_0xf97dcc=(0x0,w[_0x516d3f(0x33b)])(_0x575b0f);_0x19b90e[_0x516d3f(0x792)]['lastBlockId']=_0x18ac3b['_id']['toString']();let {message_normalized:_0xea8838}=this[_0x516d3f(0x8a1)](_0x575b0f,_0xf97dcc,null);_0x19b90e[_0x516d3f(0x792)][_0x516d3f(0x1dc)]=await _0xea8838;let _0x4b51ed={'messageId':_0x434dfb['key']['id']},_0x284429=_0x19b90e['chatLog']['realVariables'];Object[_0x516d3f(0x3cf)](_0x284429,_0x5c379c),_0x19b90e[_0x516d3f(0x792)]['realVariables']=_0x284429,this['updateConversation'](_0x19b90e,_0x18ac3b,_0x4b51ed);}else{let _0x1faa2f={'error':!0x0};this[_0x516d3f(0x434)](_0x19b90e,_0x18ac3b,_0x1faa2f),this[_0x516d3f(0x45d)][_0x516d3f(0x91c)](this[_0x516d3f(0x86e)]+'\x20('+this['instance'][_0x516d3f(0x586)]+_0x516d3f(0x641));}}catch(_0x24319e){let _0x67e238={'error':!0x0,'errorLog':_0x24319e['toString']()};this[_0x516d3f(0x434)](_0x19b90e,_0x18ac3b,_0x67e238),this[_0x516d3f(0x45d)][_0x516d3f(0x91c)](this[_0x516d3f(0x86e)]+'\x20('+this[_0x516d3f(0x60f)][_0x516d3f(0x586)]+_0x516d3f(0x727)+(_0x24319e instanceof Error?_0x24319e[_0x516d3f(0x418)]:JSON[_0x516d3f(0x2b0)](_0x24319e,null,0x2)));}}async[a0_0x4fa287(0x76a)](_0x51b5c6,_0x28dd03){const _0x504a52=a0_0x4fa287;let _0x5d9b9d=_0x51b5c6[_0x504a52(0x224)];_0x28dd03['uazapi'][_0x504a52(0x224)]&&_0x28dd03[_0x504a52(0x78e)][_0x504a52(0x224)][_0x504a52(0x602)]()!==''&&(_0x5d9b9d=_0x28dd03['uazapi'][_0x504a52(0x224)]['trim']()),this[_0x504a52(0x45d)][_0x504a52(0x6b6)](this['instanceName']+'\x20('+this[_0x504a52(0x60f)][_0x504a52(0x586)]+_0x504a52(0x38a));let _0x5cfc94={'number':_0x5d9b9d,'options':{'delay':_0x28dd03[_0x504a52(0x78e)][_0x504a52(0x662)]},'locationMessage':{'name':_0x28dd03[_0x504a52(0x78e)][_0x504a52(0x378)],'address':_0x28dd03[_0x504a52(0x78e)]['address'],'latitude':_0x28dd03[_0x504a52(0x78e)][_0x504a52(0x6d3)],'longitude':_0x28dd03[_0x504a52(0x78e)][_0x504a52(0x42f)]}};try{let _0x53630b=await this[_0x504a52(0x60a)](_0x5cfc94);if(_0x53630b){let _0x53607b={'_id':_0x53630b[_0x504a52(0x27b)]['id'],'_fromMe':_0x53630b[_0x504a52(0x27b)]['fromMe'],'_remoteJid':_0x53630b[_0x504a52(0x27b)][_0x504a52(0x224)]},_0x55ea38=(0x0,w['normalizeMessageContent'])(_0x53630b[_0x504a52(0x418)]),_0x382d79=(0x0,w[_0x504a52(0x33b)])(_0x55ea38);_0x51b5c6[_0x504a52(0x792)][_0x504a52(0x595)]=_0x28dd03['_id'][_0x504a52(0x644)]();let {message_normalized:_0x33534c}=this['normalizeMessage'](_0x55ea38,_0x382d79,null);_0x51b5c6[_0x504a52(0x792)][_0x504a52(0x1dc)]=await _0x33534c;let _0x7a1220={'messageId':_0x53630b[_0x504a52(0x27b)]['id']},_0x36c204=_0x51b5c6[_0x504a52(0x792)][_0x504a52(0x71c)];Object[_0x504a52(0x3cf)](_0x36c204,_0x53607b),_0x51b5c6[_0x504a52(0x792)][_0x504a52(0x71c)]=_0x36c204,this[_0x504a52(0x434)](_0x51b5c6,_0x28dd03,_0x7a1220);}else{let _0x10b2d6={'error':!0x0};this['updateConversation'](_0x51b5c6,_0x28dd03,_0x10b2d6),this[_0x504a52(0x45d)][_0x504a52(0x91c)](this['instanceName']+'\x20('+this[_0x504a52(0x60f)][_0x504a52(0x586)]+_0x504a52(0x336));}}catch(_0x39aa7e){let _0x5a5029={'error':!0x0,'errorLog':_0x39aa7e['toString']()};this[_0x504a52(0x434)](_0x51b5c6,_0x28dd03,_0x5a5029),this[_0x504a52(0x45d)]['error'](this[_0x504a52(0x86e)]+'\x20('+this[_0x504a52(0x60f)][_0x504a52(0x586)]+_0x504a52(0x6f7)+(_0x39aa7e instanceof Error?_0x39aa7e['message']:JSON[_0x504a52(0x2b0)](_0x39aa7e,null,0x2)));}}async['uazapiSendAudio'](_0x22dbba,_0x6023a5){const _0xf43c3d=a0_0x4fa287;let _0xbad4ff=_0x22dbba[_0xf43c3d(0x224)];_0x6023a5['uazapi'][_0xf43c3d(0x224)]&&_0x6023a5[_0xf43c3d(0x78e)][_0xf43c3d(0x224)][_0xf43c3d(0x602)]()!==''&&(_0xbad4ff=_0x6023a5[_0xf43c3d(0x78e)][_0xf43c3d(0x224)][_0xf43c3d(0x602)]()),this[_0xf43c3d(0x45d)][_0xf43c3d(0x6b6)](this[_0xf43c3d(0x86e)]+'\x20('+this[_0xf43c3d(0x60f)][_0xf43c3d(0x586)]+_0xf43c3d(0x308));let _0x2325f0={'number':_0xbad4ff,'options':{'delay':_0x6023a5[_0xf43c3d(0x78e)]['delay']},'audioMessage':{'audio':_0x6023a5[_0xf43c3d(0x78e)][_0xf43c3d(0x402)]}};try{let _0x28ef34=await this['audioWhatsapp'](_0x2325f0);if(_0x28ef34){let _0xcca2d2={'_id':_0x28ef34['key']['id'],'_fromMe':_0x28ef34['key'][_0xf43c3d(0x827)],'_remoteJid':_0x28ef34[_0xf43c3d(0x27b)][_0xf43c3d(0x224)]},_0x4374a0=(0x0,w['normalizeMessageContent'])(_0x28ef34[_0xf43c3d(0x418)]),_0x3b566b=(0x0,w[_0xf43c3d(0x33b)])(_0x4374a0);_0x22dbba[_0xf43c3d(0x792)]['lastBlockId']=_0x6023a5[_0xf43c3d(0x817)][_0xf43c3d(0x644)]();let {message_normalized:_0x4816d1}=this[_0xf43c3d(0x8a1)](_0x4374a0,_0x3b566b,null);_0x22dbba['chatLog']['lastSendMessage']=await _0x4816d1;let _0x2e0caf={'messageId':_0x28ef34['key']['id']},_0x1694f8=_0x22dbba[_0xf43c3d(0x792)][_0xf43c3d(0x71c)];Object[_0xf43c3d(0x3cf)](_0x1694f8,_0xcca2d2),_0x22dbba[_0xf43c3d(0x792)][_0xf43c3d(0x71c)]=_0x1694f8,this['updateConversation'](_0x22dbba,_0x6023a5,_0x2e0caf);}else{let _0x4f45b7={'error':!0x0};this[_0xf43c3d(0x434)](_0x22dbba,_0x6023a5,_0x4f45b7),this[_0xf43c3d(0x45d)][_0xf43c3d(0x91c)](this[_0xf43c3d(0x86e)]+'\x20('+this[_0xf43c3d(0x60f)][_0xf43c3d(0x586)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0xc86109){let _0x45389b={'error':!0x0,'errorLog':_0xc86109[_0xf43c3d(0x644)]()};this['updateConversation'](_0x22dbba,_0x6023a5,_0x45389b),this['logger'][_0xf43c3d(0x91c)](this[_0xf43c3d(0x86e)]+'\x20('+this[_0xf43c3d(0x60f)][_0xf43c3d(0x586)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+(_0xc86109 instanceof Error?_0xc86109['message']:JSON[_0xf43c3d(0x2b0)](_0xc86109,null,0x2)));}}async['uazapiSendContact'](_0x52cc84,_0xab79a3){const _0x4522f7=a0_0x4fa287;let _0x59d156=_0x52cc84[_0x4522f7(0x224)];_0xab79a3[_0x4522f7(0x78e)][_0x4522f7(0x224)]&&_0xab79a3['uazapi'][_0x4522f7(0x224)][_0x4522f7(0x602)]()!==''&&(_0x59d156=_0xab79a3[_0x4522f7(0x78e)][_0x4522f7(0x224)][_0x4522f7(0x602)]()),this[_0x4522f7(0x45d)][_0x4522f7(0x6b6)](this['instanceName']+'\x20('+this[_0x4522f7(0x60f)][_0x4522f7(0x586)]+'):\x20Enviando\x20contato');let _0x940f88={'number':_0x59d156,'options':{'delay':_0xab79a3[_0x4522f7(0x78e)][_0x4522f7(0x662)]},'contactMessage':[{'fullName':_0xab79a3[_0x4522f7(0x78e)]['fullName'],'phoneNumber':_0xab79a3['uazapi']['phoneNumber']}]};try{let _0x1430bd=await this[_0x4522f7(0x6a1)](_0x940f88);if(_0x1430bd){let _0x16f288={'_id':_0x1430bd[_0x4522f7(0x27b)]['id'],'_fromMe':_0x1430bd['key'][_0x4522f7(0x827)],'_remoteJid':_0x1430bd[_0x4522f7(0x27b)][_0x4522f7(0x224)]},_0x1804fa=(0x0,w[_0x4522f7(0x5bc)])(_0x1430bd[_0x4522f7(0x418)]),_0x69476e=(0x0,w[_0x4522f7(0x33b)])(_0x1804fa);_0x52cc84[_0x4522f7(0x792)][_0x4522f7(0x595)]=_0xab79a3[_0x4522f7(0x817)][_0x4522f7(0x644)]();let {message_normalized:_0x4f389f}=this[_0x4522f7(0x8a1)](_0x1804fa,_0x69476e,null);_0x52cc84[_0x4522f7(0x792)][_0x4522f7(0x1dc)]=await _0x4f389f;let _0x552b38={'messageId':_0x1430bd['key']['id']},_0x1b8efb=_0x52cc84[_0x4522f7(0x792)]['realVariables'];Object[_0x4522f7(0x3cf)](_0x1b8efb,_0x16f288),_0x52cc84[_0x4522f7(0x792)][_0x4522f7(0x71c)]=_0x1b8efb,this[_0x4522f7(0x434)](_0x52cc84,_0xab79a3,_0x552b38);}else{let _0x2ecbe2={'error':!0x0};this['updateConversation'](_0x52cc84,_0xab79a3,_0x2ecbe2),this['logger']['error'](this[_0x4522f7(0x86e)]+'\x20('+this[_0x4522f7(0x60f)][_0x4522f7(0x586)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x47544b){let _0x5d5bc3={'error':!0x0,'errorLog':_0x47544b[_0x4522f7(0x644)]()};this[_0x4522f7(0x434)](_0x52cc84,_0xab79a3,_0x5d5bc3),this[_0x4522f7(0x45d)][_0x4522f7(0x91c)](this[_0x4522f7(0x86e)]+'\x20('+this['instance'][_0x4522f7(0x586)]+_0x4522f7(0x62c)+(_0x47544b instanceof Error?_0x47544b[_0x4522f7(0x418)]:JSON[_0x4522f7(0x2b0)](_0x47544b,null,0x2)));}}[a0_0x4fa287(0x832)](_0x2cb7a7,_0x1c0705){const _0x14e1cf=a0_0x4fa287;for(let _0x21a7f2 of _0x2cb7a7)_0x21a7f2[_0x14e1cf(0x81a)]&&(_0x21a7f2[_0x14e1cf(0x81a)]=this['replaceVariables'](_0x21a7f2['option'],_0x1c0705)),_0x21a7f2[_0x14e1cf(0x8dd)]&&(_0x21a7f2[_0x14e1cf(0x8dd)]=this[_0x14e1cf(0x75f)](_0x21a7f2['optionDescription'],_0x1c0705));}async['uazapiSendMenu'](_0x36f795,_0xa6415){const _0x2f890a=a0_0x4fa287;let _0x3d4217=_0x36f795[_0x2f890a(0x224)];_0xa6415[_0x2f890a(0x78e)][_0x2f890a(0x224)]&&_0xa6415[_0x2f890a(0x78e)]['remoteJid'][_0x2f890a(0x602)]()!==''&&(_0x3d4217=_0xa6415[_0x2f890a(0x78e)][_0x2f890a(0x224)][_0x2f890a(0x602)]()),this['logger'][_0x2f890a(0x6b6)](this[_0x2f890a(0x86e)]+'\x20('+this[_0x2f890a(0x60f)][_0x2f890a(0x586)]+_0x2f890a(0x469));let _0x529e26=_0x36f795['replyOptions'][_0x2f890a(0x314)](_0x479902=>_0x479902[_0x2f890a(0x8e5)]===_0xa6415[_0x2f890a(0x817)])[_0x2f890a(0x264)]((_0x33c664,_0x504a1e)=>_0x33c664['order']-_0x504a1e[_0x2f890a(0x849)]);this[_0x2f890a(0x832)](_0x529e26,_0x36f795['chatLog'][_0x2f890a(0x71c)]);let _0xa4fb09=_0x529e26['map'](_0x164ffd=>_0x164ffd[_0x2f890a(0x81a)]),_0x1c1d1a={'number':_0x3d4217,'menuMessage':{'type':_0xa6415[_0x2f890a(0x78e)][_0x2f890a(0x524)]||'poll','text':_0xa6415[_0x2f890a(0x78e)][_0x2f890a(0x236)]||_0xa6415[_0x2f890a(0x78e)][_0x2f890a(0x378)],'footerText':_0xa6415[_0x2f890a(0x78e)][_0x2f890a(0x570)],'buttonText':_0xa6415[_0x2f890a(0x78e)][_0x2f890a(0x5ea)],'selectableCount':0x1,'choices':_0xa4fb09},'options':{'delay':_0xa6415[_0x2f890a(0x78e)][_0x2f890a(0x662)]}};try{let _0x53076=await this[_0x2f890a(0x802)](_0x1c1d1a);if(_0x53076){let _0x43ae33={'_id':_0x53076[_0x2f890a(0x27b)]['id'],'_fromMe':_0x53076[_0x2f890a(0x27b)][_0x2f890a(0x827)],'_remoteJid':_0x53076[_0x2f890a(0x27b)][_0x2f890a(0x224)]};_0xa6415['uazapi'][_0x2f890a(0x56b)]===!0x0&&(_0x36f795[_0x2f890a(0x370)]='waitingForReplyMenu',this['logger'][_0x2f890a(0x6b6)](this[_0x2f890a(0x86e)]+'\x20('+this[_0x2f890a(0x60f)][_0x2f890a(0x586)]+'):\x20conversation.status:\x20'+_0x36f795[_0x2f890a(0x370)])),this[_0x2f890a(0x45d)][_0x2f890a(0x6b6)](this['instanceName']+'\x20('+this[_0x2f890a(0x60f)][_0x2f890a(0x586)]+_0x2f890a(0x5e9)+(_0xa6415[_0x2f890a(0x78e)][_0x2f890a(0x378)]||_0xa6415['uazapi']['text'])),_0x36f795['waitingMenu_id']=_0x53076[_0x2f890a(0x27b)]['id'],_0x36f795[_0x2f890a(0x70f)]=_0xa6415[_0x2f890a(0x78e)][_0x2f890a(0x378)]||_0xa6415[_0x2f890a(0x78e)][_0x2f890a(0x236)],_0x36f795[_0x2f890a(0x2b6)]=_0x529e26,_0xa6415['uazapi'][_0x2f890a(0x2e4)]&&(_0x36f795[_0x2f890a(0x5f1)]=_0xa6415['uazapi']['menuExpiredMessage']),this['logger'][_0x2f890a(0x6b6)](this[_0x2f890a(0x86e)]+'\x20('+this[_0x2f890a(0x60f)]['wuid']+_0x2f890a(0x3b2)+_0x36f795[_0x2f890a(0x70f)]);let _0x512a59=(0x0,w[_0x2f890a(0x5bc)])(_0x53076['message']),_0x2ec64c=(0x0,w[_0x2f890a(0x33b)])(_0x512a59);_0x36f795[_0x2f890a(0x792)][_0x2f890a(0x595)]=_0xa6415['_id'][_0x2f890a(0x644)]();let {message_normalized:_0x545ee5}=this[_0x2f890a(0x8a1)](_0x512a59,_0x2ec64c,null);_0x36f795['chatLog'][_0x2f890a(0x1dc)]=await _0x545ee5;let _0x45187e={'messageId':_0x53076['key']['id']},_0x38bff2=_0x36f795[_0x2f890a(0x792)][_0x2f890a(0x71c)];Object[_0x2f890a(0x3cf)](_0x38bff2,_0x43ae33),_0x36f795['chatLog']['realVariables']=_0x38bff2,this[_0x2f890a(0x434)](_0x36f795,_0xa6415,_0x45187e);}else{let _0xf8eb5d={'error':!0x0};this[_0x2f890a(0x434)](_0x36f795,_0xa6415,_0xf8eb5d),this['logger']['error'](this[_0x2f890a(0x86e)]+'\x20('+this['instance'][_0x2f890a(0x586)]+_0x2f890a(0x416));}}catch(_0xe288b9){let _0x3a0e40={'error':!0x0,'errorLog':_0xe288b9 instanceof Error?_0xe288b9[_0x2f890a(0x418)]:JSON[_0x2f890a(0x2b0)](_0xe288b9,null,0x2)};this['updateConversation'](_0x36f795,_0xa6415,_0x3a0e40),this[_0x2f890a(0x45d)][_0x2f890a(0x91c)](this[_0x2f890a(0x86e)]+'\x20('+this[_0x2f890a(0x60f)][_0x2f890a(0x586)]+_0x2f890a(0x83a)+(_0xe288b9 instanceof Error?_0xe288b9[_0x2f890a(0x418)]:JSON[_0x2f890a(0x2b0)](_0xe288b9,null,0x2)));}}async[a0_0x4fa287(0x582)](_0x441d29,_0x962998){const _0x4b2a23=a0_0x4fa287;this[_0x4b2a23(0x45d)]['verbose'](this[_0x4b2a23(0x86e)]+'\x20('+this[_0x4b2a23(0x60f)][_0x4b2a23(0x586)]+_0x4b2a23(0x8c1));let _0x984250=_0x441d29[_0x4b2a23(0x792)][_0x4b2a23(0x5ab)][_0x4b2a23(0x896)](_0x38bc2e=>_0x38bc2e[_0x4b2a23(0x8e5)][_0x4b2a23(0x644)]()===_0x962998[_0x4b2a23(0x78e)]['blockId'][_0x4b2a23(0x644)]()),_0x28d74e={'id':_0x984250['messageId'],'remoteJid':_0x984250[_0x4b2a23(0x224)],'fromMe':_0x984250[_0x4b2a23(0x827)]};try{let _0xea464d=await this[_0x4b2a23(0x69e)](_0x28d74e);if(_0xea464d){let _0x1b0c6d=(0x0,w['normalizeMessageContent'])(_0xea464d[_0x4b2a23(0x418)]),_0x259459=(0x0,w['getContentType'])(_0x1b0c6d);_0x441d29['chatLog'][_0x4b2a23(0x595)]=_0x962998['_id'][_0x4b2a23(0x644)]();let {message_normalized:_0x293995}=this[_0x4b2a23(0x8a1)](_0x1b0c6d,_0x259459,null);_0x441d29[_0x4b2a23(0x792)][_0x4b2a23(0x1dc)]=await _0x293995;let _0x52b3e1={};this[_0x4b2a23(0x434)](_0x441d29,_0x962998,_0x52b3e1);}else{let _0x5a6bd1={'error':!0x0};this[_0x4b2a23(0x434)](_0x441d29,_0x962998,_0x5a6bd1),this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x4b2a23(0x586)]+_0x4b2a23(0x675));}}catch(_0x18fca6){let _0x17b8d2={'error':!0x0,'errorLog':_0x18fca6 instanceof Error?_0x18fca6[_0x4b2a23(0x418)]:JSON[_0x4b2a23(0x2b0)](_0x18fca6,null,0x2)};this[_0x4b2a23(0x434)](_0x441d29,_0x962998,_0x17b8d2),this[_0x4b2a23(0x45d)][_0x4b2a23(0x91c)](this[_0x4b2a23(0x86e)]+'\x20('+this[_0x4b2a23(0x60f)][_0x4b2a23(0x586)]+_0x4b2a23(0x45f)+(_0x18fca6 instanceof Error?_0x18fca6[_0x4b2a23(0x418)]:JSON[_0x4b2a23(0x2b0)](_0x18fca6,null,0x2)));}}async[a0_0x4fa287(0x414)](_0x3e7d27,_0x47dec8){const _0x3a51b1=a0_0x4fa287;if(_0x3e7d27['name']||(_0x3e7d27[_0x3a51b1(0x378)]=(0x0,X['v4'])()),_0x47dec8!==Ti&&_0x3e7d27?.[_0x3a51b1(0x290)])throw new m(_0x3a51b1(0x48f));if(_0x3a51b1(0x817)in _0x3e7d27&&'owner'in _0x3e7d27)return this[_0x3a51b1(0x2a3)](_0x3e7d27[_0x3a51b1(0x85f)],_0x3e7d27['_id']);this['logger'][_0x3a51b1(0x6b6)](this['instanceName']+'\x20('+this[_0x3a51b1(0x60f)][_0x3a51b1(0x586)]+_0x3a51b1(0x708));let _0xb06004=this['getUniqueFlowName'](_0x3e7d27[_0x3a51b1(0x378)]),_0x5c1e91=new fe[(_0x3a51b1(0x82c))][(_0x3a51b1(0x3fa))](),_0x1b5562={'_id':_0x5c1e91,'default':!0x0,'title':'Início','x':0x0,'y':0x0},_0x5eeba5={'_id':new fe['Types'][(_0x3a51b1(0x3fa))](),'order':0x1,'groupId':_0x5c1e91['toString'](),'type':_0x3a51b1(0x5bf)},_0x9a9a90=this[_0x3a51b1(0x60f)][_0x3a51b1(0x586)],_0x142a42={'_id':(0x0,X['v4'])(),'owner':_0x9a9a90,'name':_0xb06004,'whoCanEdit':[_0x9a9a90],'whoCanUse':[_0x9a9a90],'groups':[_0x1b5562],'blocks':[_0x5eeba5],..._0x3e7d27};try{let _0x3036f8=await this[_0x3a51b1(0x830)][_0x3a51b1(0x29d)]['createAndSave'](_0x142a42);return await this[_0x3a51b1(0x528)](),_0x3036f8;}catch(_0x284d84){let _0x2f1782=_0x3a51b1(0x872),_0x529bdf=_0x284d84 instanceof Error?_0x284d84[_0x3a51b1(0x418)]:typeof _0x284d84==_0x3a51b1(0x2e5)?JSON[_0x3a51b1(0x2b0)](_0x284d84):_0x284d84,_0x402c2e=_0x2f1782+':\x20'+_0x529bdf;throw this[_0x3a51b1(0x45d)][_0x3a51b1(0x91c)](this['instanceName']+'\x20('+this[_0x3a51b1(0x60f)]['wuid']+_0x3a51b1(0x8fe)+_0x402c2e),new m(_0x402c2e);}}async[a0_0x4fa287(0x2a3)](_0x5df6a9,_0x49bca8){const _0x4b1e6d=a0_0x4fa287;try{this['logger'][_0x4b1e6d(0x6b6)](this[_0x4b1e6d(0x86e)]+'\x20('+this[_0x4b1e6d(0x60f)][_0x4b1e6d(0x586)]+_0x4b1e6d(0x248));let _0x3ee84e=await this['repository'][_0x4b1e6d(0x29d)][_0x4b1e6d(0x6bc)]({'where':{'_id':_0x49bca8,'owner':_0x5df6a9}});if(!_0x3ee84e)throw new m('Nenhum\x20fluxo\x20correspondente\x20encontrado.');if(_0x3ee84e[_0x4b1e6d(0x84a)]===!0x1&&!_0x3ee84e['globalShow'])throw new m('Esse\x20fluxo\x20não\x20permite\x20importação.');let _0x34d197=new Set(_0x3ee84e[_0x4b1e6d(0x292)]??[]);_0x34d197['add'](this[_0x4b1e6d(0x60f)]['wuid']);let _0x106265=await this['repository']['flow'][_0x4b1e6d(0x3b3)](_0x49bca8,{..._0x3ee84e,'whoCanUse':Array[_0x4b1e6d(0x7c8)](_0x34d197)});return await this['synchronizeAndMapFlows'](),_0x106265;}catch(_0x59c861){let _0x3cf18d=_0x4b1e6d(0x629),_0x2e284e=_0x59c861 instanceof Error?_0x59c861[_0x4b1e6d(0x418)]:typeof _0x59c861=='object'?JSON[_0x4b1e6d(0x2b0)](_0x59c861):_0x59c861,_0x4d723f=_0x3cf18d+':\x20'+_0x2e284e;throw this['logger'][_0x4b1e6d(0x91c)](this[_0x4b1e6d(0x86e)]+'\x20('+this[_0x4b1e6d(0x60f)][_0x4b1e6d(0x586)]+_0x4b1e6d(0x8fe)+_0x4d723f),new m(_0x4d723f);}}['getUniqueFlowName'](_0x3d0f40){const _0x52f271=a0_0x4fa287;let _0x43ae23=_0x3d0f40,_0x2a3947=0x1;for(;this[_0x52f271(0x1d4)][_0x52f271(0x395)][_0x52f271(0x791)](_0x31b5db=>_0x31b5db[_0x52f271(0x378)]===_0x43ae23);)_0x2a3947++,_0x43ae23=_0x3d0f40+'\x20('+_0x2a3947+')';return _0x43ae23;}async[a0_0x4fa287(0x408)](_0xc99b72){const _0x1fea5d=a0_0x4fa287;try{if(this[_0x1fea5d(0x45d)]['verbose'](this[_0x1fea5d(0x86e)]+'\x20('+this[_0x1fea5d(0x60f)][_0x1fea5d(0x586)]+_0x1fea5d(0x5a5)+_0xc99b72[_0x1fea5d(0x817)]+_0x1fea5d(0x368)+_0xc99b72[_0x1fea5d(0x3ee)]),!this[_0x1fea5d(0x1d4)]['flows'][_0x1fea5d(0x896)](_0x1881bb=>_0x1881bb[_0x1fea5d(0x817)]===_0xc99b72['_id']))throw this[_0x1fea5d(0x45d)][_0x1fea5d(0x6b6)](this[_0x1fea5d(0x86e)]+'\x20('+this[_0x1fea5d(0x60f)]['wuid']+'):\x20Fluxo\x20\x27'+_0xc99b72[_0x1fea5d(0x817)]+_0x1fea5d(0x3e7)),new m(_0x1fea5d(0x2c9));let _0x5de2cf=await this[_0x1fea5d(0x830)][_0x1fea5d(0x29d)][_0x1fea5d(0x6bc)]({'where':{'_id':_0xc99b72['_id']}});if(!_0x5de2cf)throw new m(_0x1fea5d(0x753));if(this[_0x1fea5d(0x60f)][_0x1fea5d(0x586)]===_0x5de2cf[_0x1fea5d(0x85f)]){this[_0x1fea5d(0x45d)][_0x1fea5d(0x6b6)](this[_0x1fea5d(0x86e)]+'\x20('+this[_0x1fea5d(0x60f)][_0x1fea5d(0x586)]+'):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27'+_0xc99b72['_id']+_0x1fea5d(0x754));let _0x1f4b12=await this[_0x1fea5d(0x830)][_0x1fea5d(0x29d)]['deleteOne']({'where':{'_id':_0xc99b72['_id']}});return await this[_0x1fea5d(0x528)](),_0x1f4b12;}return this[_0x1fea5d(0x45d)][_0x1fea5d(0x6b6)](this[_0x1fea5d(0x86e)]+'\x20('+this[_0x1fea5d(0x60f)][_0x1fea5d(0x586)]+_0x1fea5d(0x707)+this['instance'][_0x1fea5d(0x586)]+_0x1fea5d(0x910)+_0xc99b72['_id']+'\x27...'),_0x5de2cf[_0x1fea5d(0x292)]=(_0x5de2cf['whoCanUse']??[])[_0x1fea5d(0x314)](_0x139266=>_0x139266!==this[_0x1fea5d(0x60f)][_0x1fea5d(0x586)]),_0x5de2cf['whoCanEdit']=(_0x5de2cf[_0x1fea5d(0x673)]??[])[_0x1fea5d(0x314)](_0x474620=>_0x474620!==this[_0x1fea5d(0x60f)][_0x1fea5d(0x586)]),_0x5de2cf[_0x1fea5d(0x673)][_0x1fea5d(0x875)]===0x0&&_0x5de2cf[_0x1fea5d(0x292)]['length']>0x0&&(_0x5de2cf[_0x1fea5d(0x673)][_0x1fea5d(0x2fc)](_0x5de2cf[_0x1fea5d(0x292)][0x0]),this[_0x1fea5d(0x45d)][_0x1fea5d(0x6b6)](this[_0x1fea5d(0x86e)]+'\x20('+this['instance'][_0x1fea5d(0x586)]+_0x1fea5d(0x50a)+_0x5de2cf[_0x1fea5d(0x292)][0x0]+'\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27'+_0xc99b72[_0x1fea5d(0x817)]+_0x1fea5d(0x4f1))),await this[_0x1fea5d(0x830)][_0x1fea5d(0x29d)]['updateOne'](_0x5de2cf[_0x1fea5d(0x817)],_0x5de2cf),await this[_0x1fea5d(0x528)](),{'message':'Fluxo\x20\x27'+_0xc99b72[_0x1fea5d(0x378)]+'\x27\x20removido\x20do\x20AutomateSystem.'};}catch(_0x1a88de){return this[_0x1fea5d(0x45d)]['error'](this[_0x1fea5d(0x86e)]+'\x20('+this['instance'][_0x1fea5d(0x586)]+'):\x20Erro\x20ao\x20deletar\x20fluxo\x20'+(_0x1a88de instanceof Error?_0x1a88de[_0x1fea5d(0x418)]:JSON[_0x1fea5d(0x2b0)](_0x1a88de,null,0x2))),{'message':_0x1fea5d(0x7fd)+(_0x1a88de instanceof Error?_0x1a88de[_0x1fea5d(0x418)]:JSON[_0x1fea5d(0x2b0)](_0x1a88de,null,0x2))};}}async[a0_0x4fa287(0x927)](_0xe25188){const _0x481792=a0_0x4fa287;try{if(this[_0x481792(0x45d)][_0x481792(0x558)](this['instanceName']+'\x20('+this[_0x481792(0x60f)][_0x481792(0x586)]+_0x481792(0x25d)+_0xe25188),!this[_0x481792(0x1d4)]&&(await this[_0x481792(0x4c5)](),!this[_0x481792(0x1d4)]))return null;let _0x8687f1=await this[_0x481792(0x830)][_0x481792(0x29d)]['findOne']({'where':{'_id':_0xe25188}});if(!_0x8687f1)throw new m('Fluxo\x20id\x20\x27'+_0xe25188+_0x481792(0x562));if(!(_0x8687f1[_0x481792(0x290)]||_0x8687f1[_0x481792(0x292)]?.[_0x481792(0x7f1)](this['instance'][_0x481792(0x586)])))throw new m(_0x481792(0x256)+name+'\x27');_0x8687f1['globalShow']&&!_0x8687f1[_0x481792(0x292)]?.['includes'](this['instance'][_0x481792(0x586)])&&(_0x8687f1[_0x481792(0x292)]=[..._0x8687f1[_0x481792(0x292)]??[],this[_0x481792(0x60f)][_0x481792(0x586)]],await this[_0x481792(0x830)][_0x481792(0x29d)]['updateOne'](_0x8687f1[_0x481792(0x817)],_0x8687f1),this[_0x481792(0x528)]());let _0x1b7fc6=this['AutomateSystem']?.[_0x481792(0x87f)][_0x481792(0x465)](_0x260a91=>_0x260a91[_0x481792(0x378)]),_0x25803a=['nome',_0x481792(0x5f3),_0x481792(0x908),_0x481792(0x798),'status',_0x481792(0x737),_0x481792(0x75e),_0x481792(0x258),_0x481792(0x1e2),_0x481792(0x500),_0x481792(0x311)];_0x8687f1[_0x481792(0x25b)]=_0x8687f1[_0x481792(0x25b)][_0x481792(0x314)](_0x1c0036=>!(_0x1c0036['folder']===_0x481792(0x3b9)||_0x1c0036['leadInfo'])),_0x25803a[_0x481792(0x442)](_0x1cdfef=>{const _0x595efc=_0x481792;_0x8687f1[_0x595efc(0x25b)]['push']({'folder':'leadInfo','name':_0x1cdfef,'value':'','doc':'','leadInfo':!0x0});}),_0x1b7fc6[_0x481792(0x442)](_0x51a255=>{const _0x24c5db=_0x481792;let _0x55fdff=_0x8687f1[_0x24c5db(0x25b)][_0x24c5db(0x4d2)](_0x2d11aa=>_0x2d11aa['name']===_0x51a255);_0x55fdff===-0x1?_0x8687f1[_0x24c5db(0x25b)][_0x24c5db(0x2fc)]({'folder':_0x24c5db(0x3b9),'name':_0x51a255,'value':'','doc':'','leadInfo':!0x0}):(_0x8687f1[_0x24c5db(0x25b)][_0x55fdff]['folder']=_0x24c5db(0x3b9),_0x8687f1[_0x24c5db(0x25b)][_0x55fdff][_0x24c5db(0x3b9)]=!0x0);}),_0x8687f1[_0x481792(0x744)]&&_0x8687f1[_0x481792(0x744)]['length']>0x0&&_0x8687f1['blocks']['forEach'](_0x388be5=>{const _0x3e3402=_0x481792;_0x388be5['groupId']&&_0x388be5['next_groupId']&&_0x388be5[_0x3e3402(0x638)]===_0x388be5[_0x3e3402(0x4e5)]&&(_0x388be5[_0x3e3402(0x4e5)]=null);});let _0x3d508a=await this[_0x481792(0x830)][_0x481792(0x29d)][_0x481792(0x3b3)](_0x8687f1[_0x481792(0x817)],_0x8687f1);if(!_0x3d508a)throw new Error(_0x481792(0x5f8));return _0x3d508a;}catch(_0x224759){let _0x2e3dc8=_0x481792(0x44d),_0xb08dd0=_0x224759 instanceof Error?_0x224759['message']:typeof _0x224759==_0x481792(0x2e5)?JSON[_0x481792(0x2b0)](_0x224759):_0x224759,_0x22770f=_0x2e3dc8+':\x20'+_0xb08dd0;throw this[_0x481792(0x45d)]['error'](this['instanceName']+'\x20('+this['instance'][_0x481792(0x586)]+_0x481792(0x8fe)+_0x22770f),new m(_0x22770f);}}async[a0_0x4fa287(0x7d2)](){const _0x1a2cfa=a0_0x4fa287;try{this[_0x1a2cfa(0x45d)]['verbose'](this[_0x1a2cfa(0x86e)]+'\x20('+this['instance'][_0x1a2cfa(0x586)]+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await this[_0x1a2cfa(0x528)]();let _0x1e1799=await this[_0x1a2cfa(0x830)][_0x1a2cfa(0x29d)]['findAll']({'where':{'globalShow':!0x0}});return[...this[_0x1a2cfa(0x1d4)][_0x1a2cfa(0x395)],..._0x1e1799];}catch(_0x245af0){return this[_0x1a2cfa(0x45d)]['error'](this[_0x1a2cfa(0x86e)]+'\x20('+this[_0x1a2cfa(0x60f)]['wuid']+_0x1a2cfa(0x74a)+(_0x245af0 instanceof Error?_0x245af0['message']:JSON[_0x1a2cfa(0x2b0)](_0x245af0,null,0x2))),{'message':_0x1a2cfa(0x46c)+(_0x245af0 instanceof Error?_0x245af0[_0x1a2cfa(0x418)]:String(_0x245af0))};}}async[a0_0x4fa287(0x294)](_0x1cf6d1,_0x221a26){const _0x5a3419=a0_0x4fa287;try{this[_0x5a3419(0x45d)][_0x5a3419(0x6b6)](this[_0x5a3419(0x86e)]+'\x20('+this[_0x5a3419(0x60f)]['wuid']+_0x5a3419(0x8db));let _0xab942a=this[_0x5a3419(0x1d4)]['flows']['find'](_0x450df3=>_0x450df3[_0x5a3419(0x817)]===_0x1cf6d1[_0x5a3419(0x817)]);if(!_0xab942a)throw this[_0x5a3419(0x45d)][_0x5a3419(0x6b6)](this['instanceName']+'\x20('+this[_0x5a3419(0x60f)][_0x5a3419(0x586)]+_0x5a3419(0x3fb)+_0x1cf6d1['_id']+_0x5a3419(0x3e7)),new m(_0x5a3419(0x2c9));let _0x37e2d2=await this[_0x5a3419(0x830)]['flow'][_0x5a3419(0x6bc)]({'where':{'_id':_0x1cf6d1[_0x5a3419(0x817)]}});if(!_0x37e2d2||!_0x37e2d2['whoCanUse']?.['includes'](this['instance'][_0x5a3419(0x586)]))throw this[_0x5a3419(0x45d)][_0x5a3419(0x91c)](this[_0x5a3419(0x86e)]+'\x20('+this[_0x5a3419(0x60f)][_0x5a3419(0x586)]+_0x5a3419(0x64d)+_0x1cf6d1[_0x5a3419(0x817)]+_0x5a3419(0x566)),new m(_0x5a3419(0x871)+_0x1cf6d1[_0x5a3419(0x817)]+_0x5a3419(0x566));let _0x7441d8=this[_0x5a3419(0x1d4)][_0x5a3419(0x395)][_0x5a3419(0x4d2)](_0x30f055=>_0x30f055[_0x5a3419(0x817)]===_0xab942a['_id']);if(_0x7441d8!==-0x1){let _0x4219ef=this[_0x5a3419(0x1d4)][_0x5a3419(0x395)][_0x7441d8];if(_0x4219ef['name']=_0x1cf6d1[_0x5a3419(0x378)]??_0x4219ef['name'],_0x4219ef[_0x5a3419(0x796)]=_0x1cf6d1[_0x5a3419(0x796)]??_0x4219ef['default'],_0x4219ef['testingWith']=_0x1cf6d1[_0x5a3419(0x298)]??_0x4219ef[_0x5a3419(0x298)],_0x4219ef[_0x5a3419(0x7e1)]=_0x1cf6d1[_0x5a3419(0x37c)]??_0x4219ef[_0x5a3419(0x7e1)],_0x4219ef[_0x5a3419(0x1e5)]=_0x1cf6d1[_0x5a3419(0x1e5)]??_0x4219ef[_0x5a3419(0x1e5)],_0x4219ef[_0x5a3419(0x85e)]=_0x1cf6d1[_0x5a3419(0x85e)]??_0x4219ef[_0x5a3419(0x85e)],_0x1cf6d1[_0x5a3419(0x796)]&&this[_0x5a3419(0x1d4)][_0x5a3419(0x395)][_0x5a3419(0x442)]((_0x32b022,_0x17c533)=>{const _0x189223=_0x5a3419;_0x17c533!==_0x7441d8&&(_0x32b022[_0x189223(0x796)]=!0x1);}),this[_0x5a3419(0x1d4)][_0x5a3419(0x395)][_0x7441d8]=_0x4219ef,!await this[_0x5a3419(0x830)][_0x5a3419(0x52d)][_0x5a3419(0x48b)]({'flows':this[_0x5a3419(0x1d4)]['flows']},this['instance'][_0x5a3419(0x586)]))throw new m(_0x5a3419(0x4ee));}let _0x25df19=[_0x5a3419(0x3ee),_0x5a3419(0x885),'sharePass',_0x5a3419(0x6be)];for(let _0x7df79c of _0x25df19)delete _0x1cf6d1[_0x7df79c];if(_0x37e2d2['whoCanEdit']?.[_0x5a3419(0x7f1)](this['instance']['wuid'])||(_0x1cf6d1={'_id':_0x1cf6d1[_0x5a3419(0x817)]}),_0x221a26!==Ti&&_0x1cf6d1?.[_0x5a3419(0x290)]&&!_0x37e2d2?.[_0x5a3419(0x290)])throw new m(_0x5a3419(0x681));let _0x184b93=new Set(_0x1cf6d1[_0x5a3419(0x673)]??_0x37e2d2[_0x5a3419(0x673)]);_0x184b93[_0x5a3419(0x2ac)](_0x37e2d2[_0x5a3419(0x85f)]);let _0x512a97=new Set(_0x1cf6d1[_0x5a3419(0x292)]??_0x37e2d2['whoCanUse']??[]);_0x184b93[_0x5a3419(0x442)](_0x35e06c=>_0x512a97[_0x5a3419(0x2ac)](_0x35e06c)),_0x512a97['add'](_0x37e2d2[_0x5a3419(0x85f)]),this[_0x5a3419(0x45d)]['verbose'](this[_0x5a3419(0x86e)]+'\x20('+this['instance'][_0x5a3419(0x586)]+'):\x20whoCanEdit\x20before\x20validation:\x20'+Array[_0x5a3419(0x7c8)](_0x184b93)),this['logger']['verbose'](this[_0x5a3419(0x86e)]+'\x20('+this[_0x5a3419(0x60f)][_0x5a3419(0x586)]+_0x5a3419(0x221)+Array['from'](_0x512a97));let _0x8d958e=await this['getValidWhatsAppNumbers'](Array['from'](_0x512a97)),_0x39579c=Array[_0x5a3419(0x7c8)](_0x184b93)[_0x5a3419(0x314)](_0x4322f7=>_0x8d958e['includes'](_0x4322f7)),_0x3f416f=Array[_0x5a3419(0x7c8)](_0x512a97)[_0x5a3419(0x314)](_0xbe1856=>_0x8d958e[_0x5a3419(0x7f1)](_0xbe1856));this['logger'][_0x5a3419(0x6b6)](this[_0x5a3419(0x86e)]+'\x20('+this[_0x5a3419(0x60f)][_0x5a3419(0x586)]+_0x5a3419(0x211)+_0x39579c),this[_0x5a3419(0x45d)][_0x5a3419(0x6b6)](this[_0x5a3419(0x86e)]+'\x20('+this[_0x5a3419(0x60f)][_0x5a3419(0x586)]+_0x5a3419(0x538)+_0x3f416f);let _0x540396={..._0x37e2d2,..._0x1cf6d1,'whoCanEdit':_0x39579c,'whoCanUse':_0x3f416f},_0xaf7e53=await this['repository']['flow'][_0x5a3419(0x3b3)](_0x37e2d2['_id'],_0x540396);return await this[_0x5a3419(0x528)](),_0xaf7e53;}catch(_0xcdd27f){let _0x581666=_0x5a3419(0x5fd),_0x28daf1=_0xcdd27f instanceof Error?_0xcdd27f['message']:typeof _0xcdd27f==_0x5a3419(0x2e5)?JSON['stringify'](_0xcdd27f):_0xcdd27f,_0x10f8e0=_0x581666+':\x20'+_0x28daf1;throw this[_0x5a3419(0x45d)][_0x5a3419(0x91c)](this[_0x5a3419(0x86e)]+'\x20('+this[_0x5a3419(0x60f)]['wuid']+_0x5a3419(0x8fe)+_0x10f8e0),new m(_0x10f8e0);}}async[a0_0x4fa287(0x7e5)](_0x5b73a3){const _0xa537e8=a0_0x4fa287;let _0x117f4b={'numbers':_0x5b73a3};return(await this[_0xa537e8(0x488)](_0x117f4b))['filter'](_0xd9312b=>_0xd9312b[_0xa537e8(0x209)])[_0xa537e8(0x465)](_0x53b957=>_0x53b957[_0xa537e8(0x35f)])['map'](_0x27a0e7=>this[_0xa537e8(0x4a5)](_0x27a0e7));}['extractPhoneNumber'](_0x35b05e){const _0x2779e5=a0_0x4fa287;let _0x34735f=_0x35b05e[_0x2779e5(0x665)](/\d+/);return _0x34735f?_0x34735f[0x0]:'';}async[a0_0x4fa287(0x20b)](_0x45a095){const _0x373954=a0_0x4fa287;try{if(this[_0x373954(0x45d)][_0x373954(0x6b6)](this[_0x373954(0x86e)]+'\x20('+this['instance'][_0x373954(0x586)]+_0x373954(0x275)),!this['AutomateSystem'][_0x373954(0x395)][_0x373954(0x896)](_0x514f44=>_0x514f44['_id']===_0x45a095['_id']))throw this[_0x373954(0x45d)][_0x373954(0x6b6)](this[_0x373954(0x86e)]+'\x20('+this['instance'][_0x373954(0x586)]+'):\x20Fluxo\x20\x27'+_0x45a095[_0x373954(0x817)]+_0x373954(0x3e7)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x5516f5=await this['repository']['flow'][_0x373954(0x6bc)]({'where':{'_id':_0x45a095[_0x373954(0x817)]}});if(!_0x5516f5||!_0x5516f5[_0x373954(0x292)]?.[_0x373954(0x7f1)](this[_0x373954(0x60f)][_0x373954(0x586)]))throw this[_0x373954(0x45d)][_0x373954(0x91c)](this[_0x373954(0x86e)]+'\x20('+this[_0x373954(0x60f)]['wuid']+'):\x20Flow\x20\x27'+_0x45a095['_id']+_0x373954(0x566)),new m(_0x373954(0x871)+_0x45a095[_0x373954(0x817)]+_0x373954(0x566));if(!_0x5516f5[_0x373954(0x673)]?.[_0x373954(0x7f1)](this[_0x373954(0x60f)][_0x373954(0x586)]))throw new m(_0x373954(0x25a));let {block:_0x5e2298}=_0x45a095;_0x5e2298?.[_0x373954(0x38e)]?this[_0x373954(0x820)](_0x5516f5,_0x45a095):_0x5e2298?.[_0x373954(0x909)]?this[_0x373954(0x75d)](_0x5516f5,_0x45a095):_0x5e2298['_id']?await this[_0x373954(0x513)](_0x5516f5,_0x45a095):this['addBlock'](_0x5516f5,_0x45a095);let _0x1a8330=await this['repository'][_0x373954(0x29d)][_0x373954(0x3b3)](_0x5516f5[_0x373954(0x817)],_0x5516f5);if(!_0x1a8330)throw new Error(_0x373954(0x5f8));return _0x1a8330;}catch(_0x37545b){this[_0x373954(0x6a9)](_0x373954(0x2c4)+_0x37545b[_0x373954(0x418)]);}}async[a0_0x4fa287(0x820)](_0x43d97b,_0x5383c2){const _0x14095a=a0_0x4fa287;let _0x239543=_0x5383c2[_0x14095a(0x668)][_0x14095a(0x817)],_0x4b434b=_0x43d97b[_0x14095a(0x744)]['find'](_0x4b6040=>_0x4b6040[_0x14095a(0x817)][_0x14095a(0x644)]()===_0x239543);if(!_0x4b434b){this[_0x14095a(0x45d)][_0x14095a(0x91c)](this[_0x14095a(0x86e)]+'\x20('+this[_0x14095a(0x60f)][_0x14095a(0x586)]+_0x14095a(0x4f9)+_0x239543+_0x14095a(0x5d2));return;}this[_0x14095a(0x45d)][_0x14095a(0x6b6)](this['instanceName']+'\x20('+this[_0x14095a(0x60f)][_0x14095a(0x586)]+_0x14095a(0x466)+JSON[_0x14095a(0x2b0)](_0x4b434b));let _0x142182=JSON[_0x14095a(0x724)](JSON['stringify'](_0x4b434b));_0x142182[_0x14095a(0x817)]=new fe[(_0x14095a(0x796))][(_0x14095a(0x82c))]['ObjectId'](),this[_0x14095a(0x45d)]['verbose'](this[_0x14095a(0x86e)]+'\x20('+this['instance']['wuid']+_0x14095a(0x3a7)+JSON[_0x14095a(0x2b0)](_0x142182)),_0x43d97b[_0x14095a(0x744)][_0x14095a(0x2fc)](_0x142182),this[_0x14095a(0x47f)](_0x43d97b['blocks'],_0x142182[_0x14095a(0x638)]);}[a0_0x4fa287(0x6a9)](_0x32dcf4){const _0x2a0f6f=a0_0x4fa287;throw this[_0x2a0f6f(0x45d)][_0x2a0f6f(0x91c)](this[_0x2a0f6f(0x86e)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x32dcf4),new m(_0x32dcf4);}[a0_0x4fa287(0x75d)](_0x4ca3e5,_0x2b199a){const _0x46b1ee=a0_0x4fa287;let {block:_0x308b9b}=_0x2b199a;if(_0x308b9b[_0x46b1ee(0x429)]===_0x46b1ee(0x5bf)){this[_0x46b1ee(0x6a9)](_0x46b1ee(0x89d));return;}if(!_0x308b9b[_0x46b1ee(0x817)]){this[_0x46b1ee(0x6a9)](_0x46b1ee(0x8da));return;}let _0x5232fe=_0x4ca3e5[_0x46b1ee(0x744)]['find'](_0x57c491=>_0x57c491['_id'][_0x46b1ee(0x644)]()===_0x2b199a[_0x46b1ee(0x668)][_0x46b1ee(0x817)]['toString']());if(!_0x5232fe){this[_0x46b1ee(0x6a9)](_0x46b1ee(0x747)+_0x308b9b[_0x46b1ee(0x817)]+'\x20não\x20encontrado');return;}_0x4ca3e5[_0x46b1ee(0x744)]=_0x4ca3e5['blocks'][_0x46b1ee(0x314)](_0x4d9353=>_0x4d9353[_0x46b1ee(0x817)][_0x46b1ee(0x644)]()!==_0x2b199a['block'][_0x46b1ee(0x817)]['toString']()),_0x4ca3e5[_0x46b1ee(0x5b9)]=_0x4ca3e5['conditions']['filter'](_0x2b51f9=>_0x2b51f9[_0x46b1ee(0x8e5)]!==_0x308b9b[_0x46b1ee(0x817)][_0x46b1ee(0x644)]()),_0x4ca3e5[_0x46b1ee(0x7ac)]=_0x4ca3e5['varedits'][_0x46b1ee(0x314)](_0x46fa6d=>_0x46fa6d['blockId']!==_0x308b9b[_0x46b1ee(0x817)][_0x46b1ee(0x644)]()),_0x4ca3e5['replyOptions']=_0x4ca3e5[_0x46b1ee(0x276)][_0x46b1ee(0x314)](_0x48cac0=>_0x48cac0[_0x46b1ee(0x8e5)]!==_0x308b9b[_0x46b1ee(0x817)][_0x46b1ee(0x644)]()),this['reorderBlocks'](_0x4ca3e5['blocks'],_0x5232fe[_0x46b1ee(0x638)]);}async[a0_0x4fa287(0x513)](_0x3b6d87,_0x109c41){const _0x4f10fe=a0_0x4fa287;let _0x325e71=_0x3b6d87[_0x4f10fe(0x744)][_0x4f10fe(0x4d2)](_0x52d346=>_0x52d346[_0x4f10fe(0x817)]['toString']()===_0x109c41[_0x4f10fe(0x668)][_0x4f10fe(0x817)][_0x4f10fe(0x644)]());if(this['logger'][_0x4f10fe(0x6b6)](this[_0x4f10fe(0x86e)]+'\x20('+this['instance']['wuid']+_0x4f10fe(0x3bd)+_0x325e71),_0x325e71===-0x1){this['logger'][_0x4f10fe(0x6b6)](_0x4f10fe(0x747)+_0x109c41[_0x4f10fe(0x668)][_0x4f10fe(0x817)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}if(_0x3b6d87[_0x4f10fe(0x744)][_0x325e71][_0x4f10fe(0x429)]==='start'){let _0x5cd811=Object['keys'](_0x109c41[_0x4f10fe(0x668)]);if(_0x5cd811[_0x4f10fe(0x875)]>0x2||_0x5cd811[_0x4f10fe(0x875)]===0x2&&!_0x5cd811[_0x4f10fe(0x7f1)](_0x4f10fe(0x4e5))){this['throwAndLogError'](_0x4f10fe(0x8b3));return;}}let _0x188a75=_0x3b6d87[_0x4f10fe(0x744)][_0x325e71]['groupId'];for(let _0xe394df in _0x109c41[_0x4f10fe(0x668)])_0x109c41['block']['hasOwnProperty'](_0xe394df)&&(_0x3b6d87['blocks'][_0x325e71][_0xe394df]=_0x109c41[_0x4f10fe(0x668)][_0xe394df]);if(this['logger'][_0x4f10fe(0x6b6)](this[_0x4f10fe(0x86e)]+'\x20('+this[_0x4f10fe(0x60f)]['wuid']+_0x4f10fe(0x44c)+JSON['stringify'](_0x3b6d87['blocks'][_0x325e71])),_0x3b6d87[_0x4f10fe(0x744)][_0x325e71][_0x4f10fe(0x883)]&&_0x4f10fe(0x400)in _0x3b6d87[_0x4f10fe(0x744)][_0x325e71]['apirequest']){this[_0x4f10fe(0x45d)][_0x4f10fe(0x6b6)](this[_0x4f10fe(0x86e)]+'\x20('+this[_0x4f10fe(0x60f)]['wuid']+_0x4f10fe(0x8e1));let _0x2f7100=JSON[_0x4f10fe(0x2b0)](_0x3b6d87['blocks'][_0x325e71][_0x4f10fe(0x883)]['header'],null,0x1);_0x2f7100['length']>0x2&&(_0x2f7100=_0x2f7100[_0x4f10fe(0x3c1)](0x1,_0x2f7100[_0x4f10fe(0x875)]-0x1)[_0x4f10fe(0x602)]()),_0x3b6d87[_0x4f10fe(0x744)][_0x325e71][_0x4f10fe(0x883)]['headerString']=_0x2f7100;}if(_0x3b6d87[_0x4f10fe(0x744)][_0x325e71][_0x4f10fe(0x883)]&&'body'in _0x3b6d87[_0x4f10fe(0x744)][_0x325e71]['apirequest']&&!(_0x4f10fe(0x65d)in _0x3b6d87[_0x4f10fe(0x744)][_0x325e71][_0x4f10fe(0x883)])){this['logger'][_0x4f10fe(0x6b6)](this[_0x4f10fe(0x86e)]+'\x20('+this[_0x4f10fe(0x60f)][_0x4f10fe(0x586)]+_0x4f10fe(0x59e)),_0x3b6d87['blocks'][_0x325e71][_0x4f10fe(0x883)][_0x4f10fe(0x392)]=!0x1;let _0x4d9758=JSON[_0x4f10fe(0x2b0)](_0x3b6d87[_0x4f10fe(0x744)][_0x325e71]['apirequest'][_0x4f10fe(0x2c2)],null,0x2);_0x3b6d87[_0x4f10fe(0x744)][_0x325e71]['apirequest'][_0x4f10fe(0x65d)]=_0x4d9758;}if(_0x3b6d87[_0x4f10fe(0x744)][_0x325e71]['apirequest']&&_0x4f10fe(0x65d)in _0x3b6d87[_0x4f10fe(0x744)][_0x325e71]['apirequest']){_0x3b6d87[_0x4f10fe(0x744)][_0x325e71][_0x4f10fe(0x883)][_0x4f10fe(0x392)]=!0x1;let _0x30444a=_0x3b6d87[_0x4f10fe(0x744)][_0x325e71][_0x4f10fe(0x883)][_0x4f10fe(0x65d)],_0x330fa6=this['beautifyWithPlaceholders'](_0x30444a);_0x3b6d87[_0x4f10fe(0x744)][_0x325e71]['apirequest'][_0x4f10fe(0x65d)]=_0x330fa6[_0x4f10fe(0x6f2)],_0x3b6d87[_0x4f10fe(0x744)][_0x325e71][_0x4f10fe(0x883)][_0x4f10fe(0x392)]=_0x330fa6[_0x4f10fe(0x91c)];}let _0xfd1d6e=_0x3b6d87['blocks'][_0x325e71][_0x4f10fe(0x638)];_0x188a75!==_0xfd1d6e?(this[_0x4f10fe(0x47f)](_0x3b6d87[_0x4f10fe(0x744)],_0x188a75),this[_0x4f10fe(0x47f)](_0x3b6d87['blocks'],_0xfd1d6e)):this[_0x4f10fe(0x47f)](_0x3b6d87['blocks'],_0x188a75);}[a0_0x4fa287(0x377)](_0x5a8f9d){const _0x23e440=a0_0x4fa287;let _0x129975='\u205f',_0x3aec24=!0x1,_0x13e458='';for(let _0xbf55ba=0x0;_0xbf55ba<_0x5a8f9d[_0x23e440(0x875)];_0xbf55ba++){let _0x19c079=_0x5a8f9d[_0xbf55ba];_0x19c079==='\x22'&&(_0xbf55ba===0x0||_0x5a8f9d[_0xbf55ba-0x1]!=='\x5c')&&(_0x3aec24=!_0x3aec24),!(!_0x3aec24&&(_0x19c079==='\x0a'||_0x19c079==='\x20'||_0x19c079===_0x129975))&&(_0x13e458+=_0x19c079);}let _0x5affc8={},_0x322cba=9876543210.1234,_0x21b242=_0x13e458[_0x23e440(0x2a9)](/\{\{([^}]+)\}\}/g,_0x2e33f7=>{let _0x119b87=_0x2e33f7,_0x589a54=''+_0x322cba;return _0x5affc8[_0x589a54]=_0x119b87,_0x322cba+=0.0001,_0x589a54;}),_0x4125c8='',_0xddd787=!0x1;try{let _0x29e9bb=JSON['parse'](_0x21b242);_0x4125c8=JSON[_0x23e440(0x2b0)](_0x29e9bb,null,0x2),_0x4125c8=_0x4125c8[_0x23e440(0x2a9)](/\n( +)/g,(_0xfc953d,_0x57e615)=>{const _0x1d246f=_0x23e440;let _0xdde148=_0x57e615[_0x1d246f(0x875)];return'\x0a'+_0x129975[_0x1d246f(0x405)](_0xdde148*0x2);}),_0x4125c8=_0x4125c8[_0x23e440(0x2a9)](/(\d{10,}\.\d+)/g,_0x2f760d=>_0x5affc8[_0x2f760d]||_0x2f760d);}catch(_0x114432){this[_0x23e440(0x45d)][_0x23e440(0x91c)](_0x23e440(0x301)+_0x114432),_0x4125c8=_0x5a8f9d,_0xddd787=!0x0;}return{'result':_0x4125c8,'error':_0xddd787};}[a0_0x4fa287(0x861)](_0x310ac1,_0x1a2bd6){const _0x3e87a3=a0_0x4fa287;if(_0x1a2bd6[_0x3e87a3(0x668)][_0x3e87a3(0x429)]===_0x3e87a3(0x5bf)){this[_0x3e87a3(0x6a9)](_0x3e87a3(0x4ab));return;}if(_0x1a2bd6[_0x3e87a3(0x668)][_0x3e87a3(0x883)]&&'header'in _0x1a2bd6['block'][_0x3e87a3(0x883)]){this[_0x3e87a3(0x45d)]['verbose'](this[_0x3e87a3(0x86e)]+'\x20('+this[_0x3e87a3(0x60f)][_0x3e87a3(0x586)]+_0x3e87a3(0x8e1));let _0x387538=JSON[_0x3e87a3(0x2b0)](_0x1a2bd6['block'][_0x3e87a3(0x883)]['header'],null,0x1);_0x387538['length']>0x2&&(_0x387538=_0x387538[_0x3e87a3(0x3c1)](0x1,_0x387538[_0x3e87a3(0x875)]-0x1)[_0x3e87a3(0x602)]()),_0x1a2bd6[_0x3e87a3(0x668)][_0x3e87a3(0x883)][_0x3e87a3(0x273)]=_0x387538;}_0x1a2bd6[_0x3e87a3(0x668)][_0x3e87a3(0x883)]&&_0x3e87a3(0x2c2)in _0x1a2bd6[_0x3e87a3(0x668)][_0x3e87a3(0x883)]&&(this[_0x3e87a3(0x45d)][_0x3e87a3(0x6b6)](this[_0x3e87a3(0x86e)]+'\x20('+this[_0x3e87a3(0x60f)][_0x3e87a3(0x586)]+_0x3e87a3(0x59e)),_0x1a2bd6[_0x3e87a3(0x668)][_0x3e87a3(0x883)][_0x3e87a3(0x65d)]=JSON[_0x3e87a3(0x2b0)](_0x1a2bd6[_0x3e87a3(0x668)][_0x3e87a3(0x883)]['body'],null,0x1)[_0x3e87a3(0x602)]()),_0x310ac1[_0x3e87a3(0x744)][_0x3e87a3(0x2fc)](_0x1a2bd6[_0x3e87a3(0x668)]),this[_0x3e87a3(0x47f)](_0x310ac1[_0x3e87a3(0x744)],_0x1a2bd6[_0x3e87a3(0x668)]['groupId']);}[a0_0x4fa287(0x47f)](_0x17ffc2,_0x1d1643){const _0x489ea2=a0_0x4fa287;let _0x4d021a=_0x17ffc2[_0x489ea2(0x314)](_0x2b2f89=>_0x2b2f89[_0x489ea2(0x638)]===_0x1d1643);_0x4d021a['sort']((_0x4aa3df,_0x460a16)=>_0x4aa3df[_0x489ea2(0x849)]-_0x460a16['order']),_0x4d021a[_0x489ea2(0x442)]((_0x255dc6,_0x51f304)=>_0x255dc6[_0x489ea2(0x849)]=_0x51f304+0x1);}async[a0_0x4fa287(0x7ce)](_0x31d77e){const _0x33b4ce=a0_0x4fa287;try{if(this[_0x33b4ce(0x45d)][_0x33b4ce(0x6b6)](this['instanceName']+'\x20('+this[_0x33b4ce(0x60f)]['wuid']+_0x33b4ce(0x270)),!_0x31d77e||!_0x31d77e[_0x33b4ce(0x228)]){this['throwAndLogError'](_0x33b4ce(0x6fa));return;}if(!this['AutomateSystem'][_0x33b4ce(0x395)][_0x33b4ce(0x896)](_0x5b0d27=>_0x5b0d27[_0x33b4ce(0x817)]===_0x31d77e[_0x33b4ce(0x817)]))throw this[_0x33b4ce(0x45d)][_0x33b4ce(0x6b6)](this[_0x33b4ce(0x86e)]+'\x20('+this['instance']['wuid']+_0x33b4ce(0x3fb)+_0x31d77e[_0x33b4ce(0x817)]+_0x33b4ce(0x3e7)),new m(_0x33b4ce(0x2c9));let _0x1b5345=await this['repository'][_0x33b4ce(0x29d)]['findOne']({'where':{'_id':_0x31d77e[_0x33b4ce(0x817)]}});if(!_0x1b5345||!_0x1b5345[_0x33b4ce(0x292)]?.[_0x33b4ce(0x7f1)](this[_0x33b4ce(0x60f)][_0x33b4ce(0x586)]))throw this[_0x33b4ce(0x45d)]['error'](this[_0x33b4ce(0x86e)]+'\x20('+this[_0x33b4ce(0x60f)][_0x33b4ce(0x586)]+'):\x20Flow\x20\x27'+_0x31d77e[_0x33b4ce(0x817)]+_0x33b4ce(0x566)),new m(_0x33b4ce(0x871)+_0x31d77e['_id']+_0x33b4ce(0x566));if(!_0x1b5345['whoCanEdit']?.[_0x33b4ce(0x7f1)](this[_0x33b4ce(0x60f)][_0x33b4ce(0x586)]))throw new m(_0x33b4ce(0x25a));let {replyOption:_0x2ea989}=_0x31d77e;_0x2ea989?.['delete']?(this[_0x33b4ce(0x7eb)](_0x1b5345,_0x31d77e),this['reorderReplyOptions'](_0x1b5345['replyOptions'],_0x31d77e[_0x33b4ce(0x228)][_0x33b4ce(0x8e5)])):_0x2ea989[_0x33b4ce(0x817)]?(await this[_0x33b4ce(0x50b)](_0x1b5345,_0x31d77e),this[_0x33b4ce(0x473)](_0x1b5345[_0x33b4ce(0x276)],_0x31d77e[_0x33b4ce(0x228)][_0x33b4ce(0x8e5)])):(this[_0x33b4ce(0x8fa)](_0x1b5345,_0x31d77e),this[_0x33b4ce(0x473)](_0x1b5345['replyOptions'],_0x31d77e[_0x33b4ce(0x228)]['blockId']));let _0x1c0ff3=await this[_0x33b4ce(0x830)][_0x33b4ce(0x29d)][_0x33b4ce(0x3b3)](_0x1b5345[_0x33b4ce(0x817)],_0x1b5345);if(!_0x1c0ff3)throw new Error(_0x33b4ce(0x5f8));return _0x1c0ff3;}catch(_0x16b544){this[_0x33b4ce(0x6a9)](_0x33b4ce(0x7a0)+_0x16b544);}}[a0_0x4fa287(0x473)](_0x32b666,_0x111620){const _0x18098e=a0_0x4fa287;_0x32b666[_0x18098e(0x442)](_0x2228f0=>{_0x2228f0['blockId']===_0x111620&&_0x2228f0['order']===void 0x0&&(_0x2228f0['order']=0x270f);});let _0x5b3fe4=_0x32b666['filter'](_0xd6e717=>_0xd6e717['blockId']===_0x111620);_0x5b3fe4[_0x18098e(0x264)]((_0x545830,_0x262fc2)=>_0x545830[_0x18098e(0x849)]-_0x262fc2['order']),_0x5b3fe4[_0x18098e(0x442)]((_0x13ae20,_0x19ae09)=>{const _0x71c394=_0x18098e;_0x13ae20[_0x71c394(0x849)]=_0x19ae09+0x1;}),_0x32b666[_0x18098e(0x442)](_0x122036=>{const _0x4d1738=_0x18098e;if(_0x122036[_0x4d1738(0x8e5)]===_0x111620){let _0x39aeb6=_0x5b3fe4['find'](_0x1d23a1=>_0x1d23a1[_0x4d1738(0x817)]&&_0x122036[_0x4d1738(0x817)]&&_0x1d23a1[_0x4d1738(0x817)][_0x4d1738(0x644)]()===_0x122036[_0x4d1738(0x817)]['toString']());_0x39aeb6&&(_0x122036[_0x4d1738(0x849)]=_0x39aeb6[_0x4d1738(0x849)]);}});}[a0_0x4fa287(0x7eb)](_0x28d2d6,_0xedd2c4){const _0xd2258b=a0_0x4fa287;let {replyOption:_0x51d4bd}=_0xedd2c4;if(!_0x51d4bd['_id']){this[_0xd2258b(0x6a9)](_0xd2258b(0x770));return;}if(!_0x28d2d6[_0xd2258b(0x276)][_0xd2258b(0x896)](_0x11ebff=>_0x11ebff[_0xd2258b(0x817)][_0xd2258b(0x644)]()===_0xedd2c4['replyOption'][_0xd2258b(0x817)][_0xd2258b(0x644)]())){this[_0xd2258b(0x6a9)]('ReplyOption\x20com\x20ID\x20'+_0x51d4bd['_id']+_0xd2258b(0x5ef));return;}_0x28d2d6['replyOptions']=_0x28d2d6[_0xd2258b(0x276)][_0xd2258b(0x314)](_0x4906d2=>_0x4906d2[_0xd2258b(0x817)][_0xd2258b(0x644)]()!==_0xedd2c4[_0xd2258b(0x228)][_0xd2258b(0x817)][_0xd2258b(0x644)]());}async[a0_0x4fa287(0x50b)](_0xe35564,_0x4502c1){const _0xf64bc8=a0_0x4fa287;let _0x22ccc2=_0xe35564[_0xf64bc8(0x276)]['findIndex'](_0x3e69ef=>_0x3e69ef[_0xf64bc8(0x817)]['toString']()===_0x4502c1['replyOption'][_0xf64bc8(0x817)][_0xf64bc8(0x644)]());if(_0x22ccc2===-0x1){this[_0xf64bc8(0x6a9)]('ReplyOption\x20com\x20ID\x20'+_0x4502c1['replyOption']['_id']+_0xf64bc8(0x40b));return;}for(let _0x4891b9 in _0x4502c1[_0xf64bc8(0x228)])_0x4502c1[_0xf64bc8(0x228)][_0xf64bc8(0x756)](_0x4891b9)&&(_0xe35564[_0xf64bc8(0x276)][_0x22ccc2][_0x4891b9]=_0x4502c1[_0xf64bc8(0x228)][_0x4891b9]);}[a0_0x4fa287(0x8fa)](_0xa2be43,_0x133957){const _0x27d71f=a0_0x4fa287;_0xa2be43[_0x27d71f(0x276)]['push'](_0x133957[_0x27d71f(0x228)]);}async[a0_0x4fa287(0x719)](_0x47e7fe){const _0x3f5f00=a0_0x4fa287;this[_0x3f5f00(0x45d)]['verbose'](this[_0x3f5f00(0x86e)]+'\x20('+this[_0x3f5f00(0x60f)][_0x3f5f00(0x586)]+_0x3f5f00(0x503)+JSON[_0x3f5f00(0x2b0)](_0x47e7fe,null,0x2));try{if(this[_0x3f5f00(0x45d)][_0x3f5f00(0x6b6)](this[_0x3f5f00(0x86e)]+'\x20('+this[_0x3f5f00(0x60f)][_0x3f5f00(0x586)]+_0x3f5f00(0x628)),!this[_0x3f5f00(0x1d4)]['flows'][_0x3f5f00(0x896)](_0x36d8fb=>_0x36d8fb[_0x3f5f00(0x817)]===_0x47e7fe[_0x3f5f00(0x817)]))throw this['logger']['verbose'](this[_0x3f5f00(0x86e)]+'\x20('+this[_0x3f5f00(0x60f)]['wuid']+_0x3f5f00(0x3fb)+_0x47e7fe[_0x3f5f00(0x817)]+_0x3f5f00(0x3e7)),new m(_0x3f5f00(0x2c9));let _0x46b87a=await this[_0x3f5f00(0x830)][_0x3f5f00(0x29d)][_0x3f5f00(0x6bc)]({'where':{'_id':_0x47e7fe['_id']}});if(!_0x46b87a||!_0x46b87a[_0x3f5f00(0x292)]?.[_0x3f5f00(0x7f1)](this[_0x3f5f00(0x60f)]['wuid']))throw this[_0x3f5f00(0x45d)][_0x3f5f00(0x91c)](this[_0x3f5f00(0x86e)]+'\x20('+this[_0x3f5f00(0x60f)][_0x3f5f00(0x586)]+_0x3f5f00(0x64d)+_0x47e7fe[_0x3f5f00(0x817)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x3f5f00(0x871)+_0x47e7fe[_0x3f5f00(0x817)]+_0x3f5f00(0x566));if(!_0x46b87a['whoCanEdit']?.[_0x3f5f00(0x7f1)](this['instance']['wuid']))throw new m(_0x3f5f00(0x25a));if(_0x47e7fe[_0x3f5f00(0x40c)]&&_0x47e7fe['group']?.[_0x3f5f00(0x909)]===!0x0){if(this['logger'][_0x3f5f00(0x6b6)](this[_0x3f5f00(0x86e)]+'\x20('+this['instance']['wuid']+_0x3f5f00(0x72e)),_0x47e7fe['group'][_0x3f5f00(0x796)]===!0x0)return{'message':_0x3f5f00(0x363)};if(_0x46b87a[_0x3f5f00(0x744)]['some'](_0x33f154=>_0x33f154['groupId'][_0x3f5f00(0x644)]()===_0x47e7fe[_0x3f5f00(0x40c)][_0x3f5f00(0x817)]))return this[_0x3f5f00(0x45d)][_0x3f5f00(0x6b6)](this['instanceName']+'\x20('+this[_0x3f5f00(0x60f)][_0x3f5f00(0x586)]+'):\x20tem\x20blocks'),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x46b87a['groups']=_0x46b87a[_0x3f5f00(0x7ab)][_0x3f5f00(0x314)](_0x53c494=>_0x53c494[_0x3f5f00(0x817)][_0x3f5f00(0x644)]()!==_0x47e7fe[_0x3f5f00(0x40c)]['_id']);}else{if(_0x47e7fe[_0x3f5f00(0x40c)]){if(_0x47e7fe[_0x3f5f00(0x40c)][_0x3f5f00(0x796)]===!0x0)return{'message':_0x3f5f00(0x261)};if(_0x47e7fe[_0x3f5f00(0x40c)]['_id']){let _0x43f683=_0x46b87a[_0x3f5f00(0x7ab)][_0x3f5f00(0x896)](_0x315183=>_0x315183[_0x3f5f00(0x817)][_0x3f5f00(0x644)]()===_0x47e7fe[_0x3f5f00(0x40c)][_0x3f5f00(0x817)]);_0x43f683&&(_0x47e7fe[_0x3f5f00(0x40c)]['x']<0x0&&(_0x47e7fe[_0x3f5f00(0x40c)]['x']=0x0),_0x47e7fe[_0x3f5f00(0x40c)]['y']<0x0&&(_0x47e7fe[_0x3f5f00(0x40c)]['y']=0x0),Object[_0x3f5f00(0x3cf)](_0x43f683,_0x47e7fe[_0x3f5f00(0x40c)]));}else _0x46b87a[_0x3f5f00(0x7ab)][_0x3f5f00(0x2fc)](_0x47e7fe[_0x3f5f00(0x40c)]);}}let _0x3eba2b=await this['repository'][_0x3f5f00(0x29d)][_0x3f5f00(0x3b3)](_0x46b87a[_0x3f5f00(0x817)],_0x46b87a);if(!_0x3eba2b)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x3eba2b;}catch(_0x5a240a){let _0x1c5256=_0x3f5f00(0x879),_0x41c3db=_0x5a240a instanceof Error?_0x5a240a[_0x3f5f00(0x418)]:typeof _0x5a240a==_0x3f5f00(0x2e5)?JSON['stringify'](_0x5a240a):_0x5a240a,_0x3b5fe2=_0x1c5256+':\x20'+_0x41c3db;throw this['logger']['error'](this[_0x3f5f00(0x86e)]+'\x20('+this[_0x3f5f00(0x60f)][_0x3f5f00(0x586)]+_0x3f5f00(0x8fe)+_0x3b5fe2),new m(_0x3b5fe2);}}async[a0_0x4fa287(0x699)](_0x38d089){const _0x591e5b=a0_0x4fa287;try{if(this['logger'][_0x591e5b(0x6b6)](this[_0x591e5b(0x86e)]+'\x20('+this[_0x591e5b(0x60f)][_0x591e5b(0x586)]+_0x591e5b(0x5c8)),!this['AutomateSystem']['flows'][_0x591e5b(0x896)](_0x8b24f1=>_0x8b24f1[_0x591e5b(0x817)]===_0x38d089[_0x591e5b(0x817)]))throw this[_0x591e5b(0x45d)]['verbose'](this[_0x591e5b(0x86e)]+'\x20('+this[_0x591e5b(0x60f)][_0x591e5b(0x586)]+_0x591e5b(0x3fb)+_0x38d089[_0x591e5b(0x817)]+_0x591e5b(0x3e7)),new m(_0x591e5b(0x2c9));let _0x1087b2=await this[_0x591e5b(0x830)]['flow'][_0x591e5b(0x6bc)]({'where':{'_id':_0x38d089[_0x591e5b(0x817)]}});if(!_0x1087b2||!_0x1087b2[_0x591e5b(0x292)]?.[_0x591e5b(0x7f1)](this['instance'][_0x591e5b(0x586)]))throw this[_0x591e5b(0x45d)]['error'](this[_0x591e5b(0x86e)]+'\x20('+this[_0x591e5b(0x60f)][_0x591e5b(0x586)]+'):\x20Flow\x20\x27'+_0x38d089['_id']+_0x591e5b(0x566)),new m(_0x591e5b(0x871)+_0x38d089[_0x591e5b(0x817)]+_0x591e5b(0x566));if(!_0x1087b2['whoCanEdit']?.[_0x591e5b(0x7f1)](this[_0x591e5b(0x60f)][_0x591e5b(0x586)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let _0x2533c3=!0x1;if(_0x38d089[_0x591e5b(0x4f0)]?.['delete']===!0x0)_0x1087b2[_0x591e5b(0x5b9)]=_0x1087b2[_0x591e5b(0x5b9)][_0x591e5b(0x314)](_0x2aa029=>_0x2aa029&&_0x38d089[_0x591e5b(0x4f0)]&&_0x2aa029['_id']&&_0x38d089[_0x591e5b(0x4f0)][_0x591e5b(0x817)]&&_0x2aa029[_0x591e5b(0x817)][_0x591e5b(0x644)]()!==_0x38d089[_0x591e5b(0x4f0)][_0x591e5b(0x817)]['toString']()),_0x2533c3=!0x0;else{let _0x1efdfb=_0x1087b2[_0x591e5b(0x5b9)][_0x591e5b(0x896)](_0x59b1f3=>_0x59b1f3&&_0x38d089['condition']&&_0x59b1f3[_0x591e5b(0x817)]&&_0x38d089[_0x591e5b(0x4f0)]['_id']&&_0x59b1f3['_id'][_0x591e5b(0x644)]()===_0x38d089[_0x591e5b(0x4f0)]['_id']['toString']());_0x1efdfb?(_0x2533c3=_0x1efdfb[_0x591e5b(0x849)]!==_0x38d089[_0x591e5b(0x4f0)]['order'],Object['assign'](_0x1efdfb,_0x38d089['condition'])):(_0x1087b2[_0x591e5b(0x5b9)][_0x591e5b(0x2fc)](_0x38d089[_0x591e5b(0x4f0)]),_0x2533c3=!0x0);}if(_0x2533c3){_0x1087b2[_0x591e5b(0x5b9)][_0x591e5b(0x264)]((_0x550589,_0x333fe4)=>_0x550589['order']>_0x333fe4['order']?0x1:_0x333fe4[_0x591e5b(0x849)]>_0x550589[_0x591e5b(0x849)]?-0x1:0x0);for(let _0x436262=0x0;_0x436262<_0x1087b2['conditions']['length'];_0x436262++)_0x1087b2[_0x591e5b(0x5b9)][_0x436262][_0x591e5b(0x849)]=_0x436262+0x1;_0x1087b2[_0x591e5b(0x5b9)][_0x591e5b(0x875)]>0x0&&(_0x1087b2[_0x591e5b(0x5b9)][0x0][_0x591e5b(0x918)]=_0x591e5b(0x6c9));}let _0x7dc088=await this['repository']['flow'][_0x591e5b(0x3b3)](_0x1087b2[_0x591e5b(0x817)],_0x1087b2);if(!_0x7dc088)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x7dc088;}catch(_0x43961b){let _0x1984c4=_0x591e5b(0x8ef),_0x52904c=_0x43961b instanceof Error?_0x43961b[_0x591e5b(0x418)]:typeof _0x43961b==_0x591e5b(0x2e5)?JSON[_0x591e5b(0x2b0)](_0x43961b):_0x43961b,_0x11478a=_0x1984c4+':\x20'+_0x52904c;throw this[_0x591e5b(0x45d)][_0x591e5b(0x91c)](this[_0x591e5b(0x86e)]+'\x20('+this[_0x591e5b(0x60f)][_0x591e5b(0x586)]+_0x591e5b(0x8fe)+_0x11478a),new m(_0x11478a);}}async[a0_0x4fa287(0x4b4)](_0x1f42c9){const _0x2cbb9b=a0_0x4fa287;try{if(this[_0x2cbb9b(0x45d)]['verbose'](this[_0x2cbb9b(0x86e)]+'\x20('+this[_0x2cbb9b(0x60f)][_0x2cbb9b(0x586)]+_0x2cbb9b(0x1e1)),!this[_0x2cbb9b(0x1d4)][_0x2cbb9b(0x395)][_0x2cbb9b(0x896)](_0x124322=>_0x124322['_id']===_0x1f42c9[_0x2cbb9b(0x817)]))throw this[_0x2cbb9b(0x45d)][_0x2cbb9b(0x6b6)](this['instanceName']+'\x20('+this[_0x2cbb9b(0x60f)]['wuid']+_0x2cbb9b(0x3fb)+_0x1f42c9['_id']+_0x2cbb9b(0x3e7)),new m(_0x2cbb9b(0x2c9));let _0x26d9b7=await this[_0x2cbb9b(0x830)][_0x2cbb9b(0x29d)][_0x2cbb9b(0x6bc)]({'where':{'_id':_0x1f42c9['_id']}});if(!_0x26d9b7||!_0x26d9b7[_0x2cbb9b(0x292)]?.[_0x2cbb9b(0x7f1)](this['instance'][_0x2cbb9b(0x586)]))throw this[_0x2cbb9b(0x45d)]['error'](this['instanceName']+'\x20('+this[_0x2cbb9b(0x60f)][_0x2cbb9b(0x586)]+_0x2cbb9b(0x64d)+_0x1f42c9[_0x2cbb9b(0x817)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x1f42c9[_0x2cbb9b(0x817)]+_0x2cbb9b(0x566));if(!_0x26d9b7[_0x2cbb9b(0x673)]?.['includes'](this['instance'][_0x2cbb9b(0x586)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let _0xe5251e=!0x1;if(_0x1f42c9[_0x2cbb9b(0x4bd)]?.[_0x2cbb9b(0x909)]===!0x0)_0x26d9b7[_0x2cbb9b(0x7ac)]=_0x26d9b7[_0x2cbb9b(0x7ac)][_0x2cbb9b(0x314)](_0x529143=>_0x529143&&_0x1f42c9['varedit']&&_0x529143[_0x2cbb9b(0x817)]&&_0x1f42c9[_0x2cbb9b(0x4bd)][_0x2cbb9b(0x817)]&&_0x529143['_id'][_0x2cbb9b(0x644)]()!==_0x1f42c9[_0x2cbb9b(0x4bd)][_0x2cbb9b(0x817)]['toString']()),_0xe5251e=!0x0;else{let _0x511096=_0x26d9b7[_0x2cbb9b(0x7ac)][_0x2cbb9b(0x896)](_0x40948c=>_0x40948c&&_0x1f42c9[_0x2cbb9b(0x4bd)]&&_0x40948c[_0x2cbb9b(0x817)]&&_0x1f42c9['varedit'][_0x2cbb9b(0x817)]&&_0x40948c['_id']['toString']()===_0x1f42c9[_0x2cbb9b(0x4bd)][_0x2cbb9b(0x817)][_0x2cbb9b(0x644)]());_0x511096?(_0xe5251e=_0x511096['order']!==_0x1f42c9[_0x2cbb9b(0x4bd)][_0x2cbb9b(0x849)],Object[_0x2cbb9b(0x3cf)](_0x511096,_0x1f42c9[_0x2cbb9b(0x4bd)])):(_0x26d9b7[_0x2cbb9b(0x7ac)][_0x2cbb9b(0x2fc)](_0x1f42c9[_0x2cbb9b(0x4bd)]),_0xe5251e=!0x0);}if(_0xe5251e){_0x26d9b7[_0x2cbb9b(0x7ac)][_0x2cbb9b(0x264)]((_0x46b536,_0x2001cd)=>_0x46b536[_0x2cbb9b(0x849)]>_0x2001cd['order']?0x1:_0x2001cd[_0x2cbb9b(0x849)]>_0x46b536[_0x2cbb9b(0x849)]?-0x1:0x0);for(let _0x2ab6c3=0x0;_0x2ab6c3<_0x26d9b7[_0x2cbb9b(0x7ac)][_0x2cbb9b(0x875)];_0x2ab6c3++)_0x26d9b7[_0x2cbb9b(0x7ac)][_0x2ab6c3][_0x2cbb9b(0x849)]=_0x2ab6c3+0x1;}let _0x344aa5=await this[_0x2cbb9b(0x830)][_0x2cbb9b(0x29d)][_0x2cbb9b(0x3b3)](_0x26d9b7['_id'],_0x26d9b7);if(!_0x344aa5)throw new Error(_0x2cbb9b(0x5f8));return _0x344aa5;}catch(_0x4c870a){let _0x9caed8='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0x9c6301=_0x4c870a instanceof Error?_0x4c870a[_0x2cbb9b(0x418)]:typeof _0x4c870a==_0x2cbb9b(0x2e5)?JSON['stringify'](_0x4c870a):_0x4c870a,_0x7cfcbe=_0x9caed8+':\x20'+_0x9c6301;throw this[_0x2cbb9b(0x45d)][_0x2cbb9b(0x91c)](this[_0x2cbb9b(0x86e)]+'\x20('+this['instance'][_0x2cbb9b(0x586)]+_0x2cbb9b(0x8fe)+_0x7cfcbe),new m(_0x7cfcbe);}}async[a0_0x4fa287(0x462)](_0x3f2afe){const _0x3a77c1=a0_0x4fa287;try{if(this[_0x3a77c1(0x45d)][_0x3a77c1(0x6b6)](this[_0x3a77c1(0x86e)]+'\x20('+this['instance'][_0x3a77c1(0x586)]+'):\x20Editando\x20variável\x20do\x20fluxo...'),!this[_0x3a77c1(0x1d4)][_0x3a77c1(0x395)]['find'](_0x2d45cc=>_0x2d45cc[_0x3a77c1(0x817)]===_0x3f2afe[_0x3a77c1(0x817)]))throw this[_0x3a77c1(0x45d)][_0x3a77c1(0x6b6)](this[_0x3a77c1(0x86e)]+'\x20('+this[_0x3a77c1(0x60f)][_0x3a77c1(0x586)]+_0x3a77c1(0x3fb)+_0x3f2afe[_0x3a77c1(0x817)]+'\x27\x20não\x20encontrado'),new m(_0x3a77c1(0x2c9));let _0x1a6287=await this['repository'][_0x3a77c1(0x29d)][_0x3a77c1(0x6bc)]({'where':{'_id':_0x3f2afe[_0x3a77c1(0x817)]}});if(!_0x1a6287||!_0x1a6287['whoCanUse']?.[_0x3a77c1(0x7f1)](this[_0x3a77c1(0x60f)][_0x3a77c1(0x586)]))throw this['logger'][_0x3a77c1(0x91c)](this['instanceName']+'\x20('+this[_0x3a77c1(0x60f)]['wuid']+'):\x20Flow\x20\x27'+_0x3f2afe['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x3a77c1(0x871)+_0x3f2afe[_0x3a77c1(0x817)]+_0x3a77c1(0x566));if(!_0x1a6287[_0x3a77c1(0x673)]?.['includes'](this[_0x3a77c1(0x60f)][_0x3a77c1(0x586)]))throw new m(_0x3a77c1(0x25a));_0x3f2afe[_0x3a77c1(0x6fc)][_0x3a77c1(0x378)]=_0x3f2afe[_0x3a77c1(0x6fc)]['name']['trim'](),_0x3f2afe['variable']['name'][_0x3a77c1(0x61a)]('_')&&(_0x3f2afe['variable']['name']=_0x3f2afe[_0x3a77c1(0x6fc)][_0x3a77c1(0x378)]['substring'](0x1)),_0x3f2afe['variable'][_0x3a77c1(0x378)]=_0x3f2afe['variable']['name'][_0x3a77c1(0x602)]();let _0x466b37=_0x1a6287[_0x3a77c1(0x25b)]['find'](_0x50f7b3=>_0x50f7b3[_0x3a77c1(0x378)]===_0x3f2afe[_0x3a77c1(0x6fc)][_0x3a77c1(0x378)]);if(_0x466b37?.[_0x3a77c1(0x3b9)]===!0x0)throw new Error(_0x3a77c1(0x43f));if(_0x3f2afe['variable']?.[_0x3a77c1(0x909)]===!0x0){if(!_0x466b37)return{'message':'Variável\x20não\x20encontrada!'};_0x1a6287[_0x3a77c1(0x25b)]=_0x1a6287[_0x3a77c1(0x25b)][_0x3a77c1(0x314)](_0x2b0cf9=>_0x2b0cf9[_0x3a77c1(0x378)]!==_0x3f2afe[_0x3a77c1(0x6fc)][_0x3a77c1(0x378)]);}else _0x466b37?Object[_0x3a77c1(0x3cf)](_0x466b37,_0x3f2afe[_0x3a77c1(0x6fc)]):_0x1a6287[_0x3a77c1(0x25b)][_0x3a77c1(0x2fc)](_0x3f2afe[_0x3a77c1(0x6fc)]);let _0x3dd0be=await this[_0x3a77c1(0x830)]['flow']['updateOne'](_0x1a6287[_0x3a77c1(0x817)],_0x1a6287);if(!_0x3dd0be)throw new Error(_0x3a77c1(0x5f8));return _0x3dd0be;}catch(_0x17959e){let _0x1e5009='Erro\x20ao\x20editar\x20variável\x20do\x20fluxo',_0xf602e3=_0x17959e instanceof Error?_0x17959e[_0x3a77c1(0x418)]:typeof _0x17959e=='object'?JSON[_0x3a77c1(0x2b0)](_0x17959e):_0x17959e,_0x58ead3=_0x1e5009+':\x20'+_0xf602e3;throw this['logger'][_0x3a77c1(0x91c)](this['instanceName']+'\x20('+this[_0x3a77c1(0x60f)][_0x3a77c1(0x586)]+_0x3a77c1(0x8fe)+_0x58ead3),new m(_0x58ead3);}}async[a0_0x4fa287(0x730)](_0x309683){const _0x4bee65=a0_0x4fa287;let _0x3dd141=null;try{if(!this[_0x4bee65(0x1d4)]?.[_0x4bee65(0x359)]['enabled'])throw new m(_0x4bee65(0x813));this[_0x4bee65(0x45d)][_0x4bee65(0x6b6)](this['instanceName']+'\x20('+this[_0x4bee65(0x60f)][_0x4bee65(0x586)]+_0x4bee65(0x565));let _0x5af9fe=(await this['whatsappNumber']({'numbers':[_0x309683[_0x4bee65(0x224)]]}))[0x0];if(!_0x5af9fe[_0x4bee65(0x209)]&&!(0x0,w['isJidGroup'])(_0x5af9fe['jid'])&&!_0x5af9fe[_0x4bee65(0x35f)][_0x4bee65(0x7f1)]('@broadcast'))throw _0x3dd141=JSON[_0x4bee65(0x2b0)](_0x5af9fe,null,0x2),new m(_0x5af9fe);let _0x5f6c21;if(_0x309683['name'][_0x4bee65(0x875)]===0x24&&/^[0-9a-fA-F-]{36}$/[_0x4bee65(0x5ba)](_0x309683[_0x4bee65(0x378)])?_0x5f6c21=this[_0x4bee65(0x1d4)]['flows'][_0x4bee65(0x896)](_0x30bcc8=>_0x30bcc8[_0x4bee65(0x817)]===_0x309683[_0x4bee65(0x378)]):_0x5f6c21=this[_0x4bee65(0x1d4)]['flows']['find'](_0x271fec=>_0x271fec[_0x4bee65(0x378)]===_0x309683[_0x4bee65(0x378)]),!_0x5f6c21)throw this[_0x4bee65(0x45d)][_0x4bee65(0x6b6)](this['instanceName']+'\x20('+this[_0x4bee65(0x60f)][_0x4bee65(0x586)]+_0x4bee65(0x3fb)+_0x309683['name']+'\x27\x20não\x20encontrado'),new m(_0x4bee65(0x2c9));let _0x3be785=await this['repository'][_0x4bee65(0x29d)][_0x4bee65(0x6bc)]({'where':{'_id':_0x5f6c21[_0x4bee65(0x817)]}});if(!_0x3be785||!_0x3be785[_0x4bee65(0x292)]?.[_0x4bee65(0x7f1)](this[_0x4bee65(0x60f)][_0x4bee65(0x586)]))throw this[_0x4bee65(0x45d)]['error'](this[_0x4bee65(0x86e)]+'\x20('+this[_0x4bee65(0x60f)]['wuid']+_0x4bee65(0x64d)+_0x5f6c21[_0x4bee65(0x817)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),_0x3dd141='Flow\x20\x27'+_0x5f6c21['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo',new m(_0x3dd141);let _0x2be653=await this[_0x4bee65(0x407)](_0x3be785,_0x5af9fe['jid'],_0x309683['changeVariables']);if(_0x2be653){this['logger']['verbose'](this[_0x4bee65(0x86e)]+'\x20('+this[_0x4bee65(0x60f)]['wuid']+_0x4bee65(0x8a3));let _0x7e6957=await this[_0x4bee65(0x773)](_0x2be653);return _0x7e6957&&await this[_0x4bee65(0x22b)](_0x2be653,_0x7e6957),{'message':_0x4bee65(0x30a)+_0x309683[_0x4bee65(0x224)]};}}catch(_0x2d939c){if(this[_0x4bee65(0x45d)][_0x4bee65(0x91c)](this[_0x4bee65(0x86e)]+'\x20('+this[_0x4bee65(0x60f)]['wuid']+_0x4bee65(0x71f)+(_0x2d939c instanceof Error?_0x2d939c['message']:JSON[_0x4bee65(0x2b0)](_0x2d939c,null,0x2))),_0x3dd141=_0x2d939c instanceof Error?_0x2d939c['message']:JSON[_0x4bee65(0x2b0)](_0x2d939c,null,0x2),_0x3dd141)throw new m(_0x4bee65(0x306)+_0x3dd141);}}async[a0_0x4fa287(0x22a)](_0x3d63d6,_0x69df33,_0x15c08c){const _0x28f138=a0_0x4fa287;let _0x165e26=null;try{if(!this[_0x28f138(0x1d4)]?.['flowConfig'][_0x28f138(0x286)])throw new m(_0x28f138(0x813));if(this[_0x28f138(0x45d)][_0x28f138(0x6b6)](this[_0x28f138(0x86e)]+'\x20('+this[_0x28f138(0x60f)][_0x28f138(0x586)]+_0x28f138(0x565)),_0x69df33){let _0x257b87=(await this[_0x28f138(0x488)]({'numbers':[_0x69df33]}))[0x0];if(!_0x257b87[_0x28f138(0x209)]&&!(0x0,w[_0x28f138(0x5b4)])(_0x257b87[_0x28f138(0x35f)])&&!_0x257b87['jid'][_0x28f138(0x7f1)](_0x28f138(0x608)))throw _0x165e26=JSON[_0x28f138(0x2b0)](_0x257b87,null,0x2),new m(_0x257b87);_0x69df33=_0x257b87[_0x28f138(0x35f)];}else _0x69df33||(_0x69df33=(0x0,X['v4'])());let _0xc6db5c=await this[_0x28f138(0x830)][_0x28f138(0x29d)][_0x28f138(0x6bc)]({'where':{'_id':_0x3d63d6}});if(!_0xc6db5c||!_0xc6db5c[_0x28f138(0x292)]?.['includes'](this['instance'][_0x28f138(0x586)]))throw this[_0x28f138(0x45d)][_0x28f138(0x91c)](this[_0x28f138(0x86e)]+'\x20('+this[_0x28f138(0x60f)]['wuid']+_0x28f138(0x64d)+_0x3d63d6+_0x28f138(0x566)),new m(_0x28f138(0x871)+_0x3d63d6+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x4a2414=await this[_0x28f138(0x407)](_0xc6db5c,_0x69df33,null);if(_0x4a2414){this[_0x28f138(0x45d)]['verbose'](this['instanceName']+'\x20('+this[_0x28f138(0x60f)]['wuid']+_0x28f138(0x52b));let _0x158394;if(_0x15c08c){let _0x15ac64=_0x4a2414[_0x28f138(0x792)][_0x28f138(0x71c)],_0xdf9248=this[_0x28f138(0x355)](_0x15c08c);Object['assign'](_0x15ac64,_0xdf9248),_0x4a2414[_0x28f138(0x792)][_0x28f138(0x71c)]=_0x15ac64,_0x158394={'error':!0x1,'apiResponse':_0x15c08c};}let _0x2fe0e9=await this[_0x28f138(0x773)](_0x4a2414);return _0x2fe0e9&&await this[_0x28f138(0x22b)](_0x4a2414,_0x2fe0e9),{'message':_0x28f138(0x70c)};}}catch(_0x1ca24a){if(this['logger'][_0x28f138(0x91c)](this[_0x28f138(0x86e)]+'\x20('+this['instance'][_0x28f138(0x586)]+_0x28f138(0x71f)+(_0x1ca24a instanceof Error?_0x1ca24a['message']:JSON[_0x28f138(0x2b0)](_0x1ca24a,null,0x2))),_0x165e26=_0x1ca24a instanceof Error?_0x1ca24a[_0x28f138(0x418)]:JSON[_0x28f138(0x2b0)](_0x1ca24a,null,0x2),_0x165e26)throw new m(_0x28f138(0x306)+_0x165e26);}}async[a0_0x4fa287(0x6e8)](_0x51e31e){const _0x36e2b6=a0_0x4fa287;try{let _0x5b66a9={'remoteJid':_0x51e31e,'status':_0x36e2b6(0x8b1)},_0x53531f={'status':_0x36e2b6(0x898)},_0x96671e=await this[_0x36e2b6(0x830)][_0x36e2b6(0x56c)][_0x36e2b6(0x385)](_0x5b66a9,_0x53531f,this['instance'][_0x36e2b6(0x586)]);return this[_0x36e2b6(0x45d)][_0x36e2b6(0x6b6)](this['instanceName']+'\x20('+this[_0x36e2b6(0x60f)][_0x36e2b6(0x586)]+_0x36e2b6(0x90b)),_0x96671e;}catch(_0x108940){throw this['logger'][_0x36e2b6(0x91c)](this[_0x36e2b6(0x86e)]+'\x20('+this['instance'][_0x36e2b6(0x586)]+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x108940[_0x36e2b6(0x418)]),_0x108940;}}async[a0_0x4fa287(0x407)](_0x3d017f,_0x1e7376,_0x3f3cb7){const _0x41cd11=a0_0x4fa287;this[_0x41cd11(0x45d)]['verbose'](this[_0x41cd11(0x86e)]+'\x20('+this[_0x41cd11(0x60f)][_0x41cd11(0x586)]+_0x41cd11(0x751)),await this[_0x41cd11(0x6e8)](_0x1e7376);try{let _0x2d047b=require(_0x41cd11(0x339))[_0x41cd11(0x3fa)],_0x2414c7=Date[_0x41cd11(0x6b0)](),_0x3ae0cb='start',_0x241ddc={},_0x4d61b0={},_0x3a34f7=this[_0x41cd11(0x1d4)]['flows']['find'](_0x110729=>_0x110729[_0x41cd11(0x817)]===_0x3d017f[_0x41cd11(0x817)]?.[_0x41cd11(0x644)]()),_0x19faf6=_0x3a34f7?.[_0x41cd11(0x1e5)]??_0x3d017f[_0x41cd11(0x1e5)]??0x0,_0x396ccc=_0x3a34f7?.[_0x41cd11(0x85e)]??_0x3d017f[_0x41cd11(0x85e)]??!0x1,_0x510723={'flowId':_0x3d017f[_0x41cd11(0x817)],..._0x3d017f,'chatLog':null},_0x22f7b8=await this[_0x41cd11(0x6c8)](_0x510723[_0x41cd11(0x25b)]),_0x4fdf99=await this['getVariablesChat'](_0x1e7376),_0x1fb1bd={..._0x22f7b8,..._0x4fdf99,'_remoteJid':_0x1e7376},_0x5a722c={'lastReceivedMessage':_0x241ddc,'lastSendMessage':_0x4d61b0,'lastBlockId':_0x3ae0cb,'lastCondition':!0x0,'realVariables':_0x1fb1bd};_0x510723[_0x41cd11(0x792)]=_0x5a722c,_0x510723[_0x41cd11(0x792)][_0x41cd11(0x71c)]={..._0x1fb1bd,..._0x3f3cb7},delete _0x510723['_id'],_0x510723[_0x41cd11(0x817)]=new _0x2d047b(),_0x510723[_0x41cd11(0x6df)]=_0x2414c7,_0x510723[_0x41cd11(0x370)]=_0x41cd11(0x8b1),_0x510723[_0x41cd11(0x224)]=_0x1e7376,_0x510723[_0x41cd11(0x1e5)]=_0x19faf6,_0x510723[_0x41cd11(0x85e)]=_0x396ccc,_0x510723[_0x41cd11(0x817)]=_0x3d017f[_0x41cd11(0x817)];let _0x1e21c2=await this['repository'][_0x41cd11(0x56c)]['updateOne'](_0x510723[_0x41cd11(0x817)],_0x510723,this[_0x41cd11(0x60f)][_0x41cd11(0x586)]);return this[_0x41cd11(0x45d)][_0x41cd11(0x6b6)](this[_0x41cd11(0x86e)]+'\x20('+this[_0x41cd11(0x60f)][_0x41cd11(0x586)]+_0x41cd11(0x840)),_0x1e21c2?_0x510723:null;}catch(_0x56358f){let _0x5cd2e2=_0x41cd11(0x7f5),_0x509bc1=_0x56358f instanceof Error?_0x56358f[_0x41cd11(0x418)]:typeof _0x56358f==_0x41cd11(0x2e5)?JSON[_0x41cd11(0x2b0)](_0x56358f):_0x56358f,_0x3fd999=_0x5cd2e2+':\x20'+_0x509bc1;throw this[_0x41cd11(0x45d)][_0x41cd11(0x91c)](this['instanceName']+'\x20('+this['instance'][_0x41cd11(0x586)]+_0x41cd11(0x8fe)+_0x3fd999),new m(_0x3fd999);}}async[a0_0x4fa287(0x543)](_0x3945b0){const _0x4825fb=a0_0x4fa287;try{this[_0x4825fb(0x45d)][_0x4825fb(0x6b6)](this[_0x4825fb(0x86e)]+'\x20('+this[_0x4825fb(0x60f)][_0x4825fb(0x586)]+_0x4825fb(0x8af)),this[_0x4825fb(0x45d)][_0x4825fb(0x6b6)](this[_0x4825fb(0x86e)]+'\x20('+this[_0x4825fb(0x60f)][_0x4825fb(0x586)]+_0x4825fb(0x233)+_0x3945b0);let _0x29f76a={'where':{'_id':_0x3945b0}};return await this[_0x4825fb(0x830)][_0x4825fb(0x56c)]['findOne'](_0x29f76a,this['instance'][_0x4825fb(0x586)]);}catch(_0x26d212){let _0x6e1b85=_0x4825fb(0x356),_0x2dbf1d=_0x26d212 instanceof Error?_0x26d212[_0x4825fb(0x418)]:typeof _0x26d212==_0x4825fb(0x2e5)?JSON['stringify'](_0x26d212):_0x26d212,_0x46a232=_0x6e1b85+':\x20'+_0x2dbf1d;throw this['logger'][_0x4825fb(0x91c)](this['instanceName']+'\x20('+this['instance'][_0x4825fb(0x586)]+_0x4825fb(0x8fe)+_0x46a232),new m(_0x46a232);}}async[a0_0x4fa287(0x86b)](_0x251361){const _0x3e58e4=a0_0x4fa287;try{return this['logger'][_0x3e58e4(0x6b6)](this[_0x3e58e4(0x86e)]+'\x20('+this[_0x3e58e4(0x60f)]['wuid']+_0x3e58e4(0x554)),await this['repository'][_0x3e58e4(0x56c)]['find'](_0x251361,this[_0x3e58e4(0x60f)][_0x3e58e4(0x586)]);}catch(_0x3f9dee){let _0x18e3ba=_0x3e58e4(0x5c4),_0x45ad4a=_0x3f9dee instanceof Error?_0x3f9dee[_0x3e58e4(0x418)]:typeof _0x3f9dee==_0x3e58e4(0x2e5)?JSON[_0x3e58e4(0x2b0)](_0x3f9dee):_0x3f9dee,_0x3305dd=_0x18e3ba+':\x20'+_0x45ad4a;throw this[_0x3e58e4(0x45d)][_0x3e58e4(0x91c)](this[_0x3e58e4(0x86e)]+'\x20('+this[_0x3e58e4(0x60f)][_0x3e58e4(0x586)]+_0x3e58e4(0x8fe)+_0x3305dd),new m(_0x3305dd);}}async[a0_0x4fa287(0x624)](_0x141f24){const _0x5d1a7d=a0_0x4fa287;try{return this[_0x5d1a7d(0x45d)]['verbose'](this[_0x5d1a7d(0x86e)]+'\x20('+this[_0x5d1a7d(0x60f)][_0x5d1a7d(0x586)]+_0x5d1a7d(0x5fc)),this[_0x5d1a7d(0x45d)][_0x5d1a7d(0x6b6)](this[_0x5d1a7d(0x86e)]+'\x20('+this[_0x5d1a7d(0x60f)][_0x5d1a7d(0x586)]+'):\x20Query\x20params:'+_0x141f24),(await this[_0x5d1a7d(0x830)][_0x5d1a7d(0x56c)][_0x5d1a7d(0x6ad)]({'where':{'_id':_0x141f24[_0x5d1a7d(0x817)]}},this[_0x5d1a7d(0x60f)][_0x5d1a7d(0x586)]))[_0x5d1a7d(0x8b6)]===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':_0x5d1a7d(0x8c0)};}catch(_0x1c6292){let _0x14126c='Erro\x20ao\x20deletar\x20a\x20conversa',_0x4faaf1=_0x1c6292 instanceof Error?_0x1c6292[_0x5d1a7d(0x418)]:typeof _0x1c6292==_0x5d1a7d(0x2e5)?JSON[_0x5d1a7d(0x2b0)](_0x1c6292):_0x1c6292,_0x33d59e=_0x14126c+':\x20'+_0x4faaf1;throw this[_0x5d1a7d(0x45d)][_0x5d1a7d(0x91c)](this[_0x5d1a7d(0x86e)]+'\x20('+this[_0x5d1a7d(0x60f)]['wuid']+_0x5d1a7d(0x8fe)+_0x33d59e),new m(_0x33d59e);}}async[a0_0x4fa287(0x745)](_0x951a62){const _0x2208cd=a0_0x4fa287;try{let {_id:_0x277846,chatLog:_0x25e8a0,status:_0x3012b3}=_0x951a62;if(!_0x277846)return{'message':_0x2208cd(0x278)};let _0xa01122={};if(_0x3012b3!==void 0x0&&(_0xa01122[_0x2208cd(0x370)]=_0x3012b3),Object[_0x2208cd(0x647)](_0xa01122)[_0x2208cd(0x875)]===0x0)return{'message':_0x2208cd(0x43d)};let _0x4c9022=await this[_0x2208cd(0x830)][_0x2208cd(0x56c)]['updateOne'](_0x277846,_0xa01122,this['instance'][_0x2208cd(0x586)]);return _0x4c9022||{'message':_0x2208cd(0x6d1)};}catch(_0x262aa9){let _0x4ccdd7=_0x2208cd(0x6e0),_0x23487f=_0x262aa9 instanceof Error?_0x262aa9[_0x2208cd(0x418)]:typeof _0x262aa9==_0x2208cd(0x2e5)?JSON['stringify'](_0x262aa9):_0x262aa9,_0x485f02=_0x4ccdd7+':\x20'+_0x23487f;throw this[_0x2208cd(0x45d)][_0x2208cd(0x91c)](this[_0x2208cd(0x86e)]+'\x20('+this[_0x2208cd(0x60f)][_0x2208cd(0x586)]+'):\x20'+_0x485f02),new m(_0x485f02);}}async[a0_0x4fa287(0x58e)](_0x3c5dc7){const _0x51025a=a0_0x4fa287;try{_0x3c5dc7[_0x51025a(0x817)]=this[_0x51025a(0x3a2)](_0x3c5dc7[_0x51025a(0x817)]);let _0x569971=await this[_0x51025a(0x830)]['chat'][_0x51025a(0x6bc)]({'where':{'_id':_0x3c5dc7[_0x51025a(0x817)]}},this[_0x51025a(0x60f)]['wuid']);if(!_0x569971)throw new m(_0x51025a(0x2ec));let {_id:_0x37e64e,leadInfo:_0x556031}=_0x3c5dc7;if(!_0x37e64e)throw new Error(_0x51025a(0x8f8));if(_0x3c5dc7[_0x51025a(0x909)]===_0x51025a(0x3d7))return await this[_0x51025a(0x4a1)](_0x3c5dc7['_id']),await this[_0x51025a(0x830)][_0x51025a(0x2ef)][_0x51025a(0x909)]({'where':{'_id':_0x3c5dc7['_id']}},this[_0x51025a(0x60f)][_0x51025a(0x586)]),await this[_0x51025a(0x830)]['message'][_0x51025a(0x909)]({'where':{'key':{'remoteJid':_0x3c5dc7['_id']}}},this['instance'][_0x51025a(0x586)]),_0x3c5dc7=await this['repository'][_0x51025a(0x2ef)][_0x51025a(0x3b3)]({'where':{'_id':_0x3c5dc7[_0x51025a(0x817)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x51025a(0x60f)][_0x51025a(0x586)]),q(this['instanceName'],_0x51025a(0x7b1),{'chat':_0x3c5dc7}),{'message':_0x51025a(0x8f2)};if(_0x3c5dc7[_0x51025a(0x909)]===_0x51025a(0x84d))return await this[_0x51025a(0x830)][_0x51025a(0x418)][_0x51025a(0x909)]({'where':{'key':{'remoteJid':_0x3c5dc7[_0x51025a(0x817)]}}},this[_0x51025a(0x60f)][_0x51025a(0x586)]),_0x3c5dc7=await this['repository'][_0x51025a(0x2ef)][_0x51025a(0x3b3)]({'where':{'_id':_0x3c5dc7[_0x51025a(0x817)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x51025a(0x60f)][_0x51025a(0x586)]),q(this['instanceName'],'chats',{'chat':_0x3c5dc7}),{'message':_0x51025a(0x7d1)};let _0x3116b4=(_0x30f277,_0x59cc61,_0x337bce)=>{_0x30f277&&_0x337bce['forEach'](_0x1c5f8d=>{const _0x23692c=a0_0x5643;_0x30f277[_0x1c5f8d]!==void 0x0&&(_0x59cc61[_0x23692c(0x7a5)+_0x1c5f8d]=_0x30f277[_0x1c5f8d]);});},_0x32394b={};if(_0x51025a(0x8b9)in _0x3c5dc7&&(this[_0x51025a(0x45d)][_0x51025a(0x6b6)](this[_0x51025a(0x86e)]+'\x20('+this['instance']['wuid']+_0x51025a(0x6c6)+_0x3c5dc7['_id']),_0x3c5dc7[_0x51025a(0x8b9)]=_0x3c5dc7[_0x51025a(0x8b9)]===0x0?null:-0x1,await this[_0x51025a(0x399)]['chatModify']({'mute':_0x3c5dc7[_0x51025a(0x8b9)]},_0x3c5dc7[_0x51025a(0x817)]),_0x32394b[_0x51025a(0x8b9)]=Number(_0x3c5dc7[_0x51025a(0x8b9)])),_0x556031&&(_0x3116b4(_0x556031,_0x32394b,[_0x51025a(0x536),_0x51025a(0x5f3),_0x51025a(0x908),_0x51025a(0x798),_0x51025a(0x370),_0x51025a(0x737),_0x51025a(0x258),'atendimentoAberto',_0x51025a(0x75e),_0x51025a(0x1e2),_0x51025a(0x728)]),Array[_0x51025a(0x3e8)](_0x556031[_0x51025a(0x87f)])&&(_0x32394b[_0x51025a(0x234)]=_0x556031['customFields'][_0x51025a(0x465)](_0x34bd25=>({'_id':_0x34bd25[_0x51025a(0x817)],'value':_0x34bd25[_0x51025a(0x4bc)]}))),_0x3c5dc7[_0x51025a(0x3b9)]['etiquetas']!==void 0x0)){let _0x5c16a3=await this[_0x51025a(0x830)][_0x51025a(0x535)][_0x51025a(0x896)]({'where':{}},this['instance']['wuid']),_0x1568f7=new Set(_0x3c5dc7[_0x51025a(0x3b9)][_0x51025a(0x1e2)]||[]),_0x50c38c=new Set(_0x3c5dc7[_0x51025a(0x3b9)]['etiquetas']),_0x3307c8=new Set(_0x5c16a3['map'](_0x396e00=>_0x396e00[_0x51025a(0x817)])),_0x1b18a7=[..._0x50c38c]['filter'](_0xf60eb0=>!_0x1568f7[_0x51025a(0x842)](_0xf60eb0)&&_0x3307c8[_0x51025a(0x842)](_0xf60eb0)),_0x8636de=[..._0x1568f7]['filter'](_0x417933=>!_0x50c38c[_0x51025a(0x842)](_0x417933));if(_0x32394b[_0x51025a(0x1c6)]=[..._0x1568f7],_0x569971&&!_0x569971[_0x51025a(0x1d6)]){for(let _0x1178d8 of _0x1b18a7)await this[_0x51025a(0x783)](_0x1178d8,_0x3c5dc7[_0x51025a(0x817)]),_0x1568f7[_0x51025a(0x2ac)](_0x1178d8);for(let _0x4121c9 of _0x8636de)await this[_0x51025a(0x4a0)](_0x4121c9,_0x3c5dc7['_id']),_0x1568f7[_0x51025a(0x909)](_0x4121c9);}}if(_0x3c5dc7[_0x51025a(0x2f2)]!==void 0x0&&(_0x32394b[_0x51025a(0x2f2)]=Number(_0x3c5dc7['unreadcount'])),Object[_0x51025a(0x647)](_0x32394b)[_0x51025a(0x875)]===0x0)throw new Error(_0x51025a(0x43d));let _0x5216c1=await this['repository'][_0x51025a(0x2ef)]['updateOne']({'where':{'_id':_0x3c5dc7[_0x51025a(0x817)]}},_0x32394b,this[_0x51025a(0x60f)][_0x51025a(0x586)]);return _0x5216c1&&q(this[_0x51025a(0x86e)],_0x51025a(0x7b1),{'chat':_0x5216c1}),_0x5216c1?(this['logger'][_0x51025a(0x6b6)](this[_0x51025a(0x86e)]+'\x20('+this[_0x51025a(0x60f)][_0x51025a(0x586)]+'):\x20'+JSON[_0x51025a(0x2b0)](_0x5216c1,null,0x2)),_0x5216c1):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0xb27c2d){let _0x3543bc=_0x51025a(0x2ed),_0x10e5b9=_0xb27c2d instanceof Error?_0xb27c2d['message']:typeof _0xb27c2d==_0x51025a(0x2e5)?JSON['stringify'](_0xb27c2d):_0xb27c2d,_0x36e778=_0x3543bc+':\x20'+_0x10e5b9;throw this['logger'][_0x51025a(0x91c)](this[_0x51025a(0x86e)]+'\x20('+this['instance']['wuid']+_0x51025a(0x8fe)+_0x36e778),new m(_0x36e778);}}async[a0_0x4fa287(0x783)](_0x30385d,_0x5644b5){const _0x214082=a0_0x4fa287;try{await this['client'][_0x214082(0x549)](_0x5644b5,_0x30385d),this[_0x214082(0x45d)][_0x214082(0x558)](this['instanceName']+'\x20('+this['instance'][_0x214082(0x586)]+_0x214082(0x7b4)+_0x30385d+'\x20adicionado\x20ao\x20chat\x20'+_0x5644b5+_0x214082(0x76b));}catch(_0x2f3552){this[_0x214082(0x45d)][_0x214082(0x91c)]('Erro\x20ao\x20adicionar\x20label\x20'+_0x30385d+'\x20ao\x20chat\x20'+_0x5644b5+':\x20'+_0x2f3552);}}async[a0_0x4fa287(0x4a0)](_0x40181d,_0x31e05d){const _0x52f154=a0_0x4fa287;try{await this[_0x52f154(0x399)][_0x52f154(0x39b)](_0x31e05d,_0x40181d),this[_0x52f154(0x45d)][_0x52f154(0x558)](this['instanceName']+'\x20('+this[_0x52f154(0x60f)][_0x52f154(0x586)]+_0x52f154(0x7b4)+_0x40181d+_0x52f154(0x715)+_0x31e05d+_0x52f154(0x76b));}catch(_0x53eca1){this[_0x52f154(0x45d)]['error'](_0x52f154(0x295)+_0x40181d+_0x52f154(0x822)+_0x31e05d+':\x20'+_0x53eca1);}}async['updateAgent'](_0x37474e){const _0x3f21fd=a0_0x4fa287;try{let _0x150818=await this['repository']['automateSystem'][_0x3f21fd(0x2f9)](this[_0x3f21fd(0x60f)][_0x3f21fd(0x586)]),_0x2b8ecd=_0x37474e['_id']?_0x150818['agents'][_0x3f21fd(0x4d2)](_0x4b7c02=>_0x4b7c02[_0x3f21fd(0x817)]===_0x37474e[_0x3f21fd(0x817)]):-0x1;if(_0x37474e['delete']&&_0x2b8ecd>-0x1)_0x150818[_0x3f21fd(0x63b)][_0x3f21fd(0x346)](_0x2b8ecd,0x1);else{if(_0x2b8ecd>-0x1){let _0x102f3b=_0x150818[_0x3f21fd(0x63b)][_0x2b8ecd];_0x37474e[_0x3f21fd(0x2d7)]&&(_0x102f3b[_0x3f21fd(0x2d7)]=_0x37474e[_0x3f21fd(0x2d7)]),_0x37474e[_0x3f21fd(0x378)]&&(_0x102f3b[_0x3f21fd(0x378)]=_0x37474e['name']),_0x37474e[_0x3f21fd(0x908)]&&(_0x102f3b[_0x3f21fd(0x908)]=_0x37474e['email']),_0x37474e[_0x3f21fd(0x705)]&&(_0x102f3b[_0x3f21fd(0x705)]=_0x37474e[_0x3f21fd(0x705)]);}else _0x150818['agents'][_0x3f21fd(0x2fc)]({'_id':_0x37474e[_0x3f21fd(0x817)]||new fe[(_0x3f21fd(0x796))][(_0x3f21fd(0x82c))][(_0x3f21fd(0x3fa))]()['toString'](),'fone':_0x37474e['fone'],'name':_0x37474e[_0x3f21fd(0x378)],'email':_0x37474e[_0x3f21fd(0x908)],'role':_0x37474e[_0x3f21fd(0x705)]});}let _0x6c2e17={'agents':_0x150818[_0x3f21fd(0x63b)]},_0x271dca=await this[_0x3f21fd(0x830)][_0x3f21fd(0x52d)][_0x3f21fd(0x48b)](_0x6c2e17,this[_0x3f21fd(0x60f)][_0x3f21fd(0x586)]);return this[_0x3f21fd(0x1d4)]=_0x271dca,this['logger']['verbose'](this[_0x3f21fd(0x86e)]+'\x20('+this[_0x3f21fd(0x60f)][_0x3f21fd(0x586)]+_0x3f21fd(0x551)),this[_0x3f21fd(0x45d)][_0x3f21fd(0x6b6)](this['instanceName']+'\x20('+this['instance'][_0x3f21fd(0x586)]+_0x3f21fd(0x8fe)+this[_0x3f21fd(0x1d4)]),_0x271dca;}catch(_0x5b288c){let _0x2476f9=_0x3f21fd(0x6db),_0x3d9856=_0x5b288c instanceof Error?_0x5b288c[_0x3f21fd(0x418)]:typeof _0x5b288c==_0x3f21fd(0x2e5)?JSON[_0x3f21fd(0x2b0)](_0x5b288c):_0x5b288c,_0x28a549=_0x2476f9+':\x20'+_0x3d9856;throw this[_0x3f21fd(0x45d)]['error'](this[_0x3f21fd(0x86e)]+'\x20('+this[_0x3f21fd(0x60f)][_0x3f21fd(0x586)]+_0x3f21fd(0x8fe)+_0x28a549),new m(_0x28a549);}}async[a0_0x4fa287(0x315)](_0x1be344){const _0x527e6d=a0_0x4fa287;try{let _0x14cf71=await this[_0x527e6d(0x830)][_0x527e6d(0x52d)][_0x527e6d(0x2f9)](this[_0x527e6d(0x60f)][_0x527e6d(0x586)]),_0x1080b9=_0x1be344['_id']?_0x14cf71[_0x527e6d(0x87f)]['findIndex'](_0x5bdadc=>_0x5bdadc[_0x527e6d(0x817)]===_0x1be344[_0x527e6d(0x817)]):-0x1,_0x433279=!0x1,_0x4b18e0=_0x14cf71['customFields'][_0x527e6d(0x791)](_0x1809be=>_0x1809be[_0x527e6d(0x849)]===_0x1be344[_0x527e6d(0x849)]);if(_0x1be344[_0x527e6d(0x909)]&&_0x1080b9>-0x1)_0x14cf71[_0x527e6d(0x87f)][_0x527e6d(0x346)](_0x1080b9,0x1),_0x433279=!0x0;else{if(_0x1080b9>-0x1){if(_0x14cf71[_0x527e6d(0x87f)][_0x527e6d(0x791)](_0x6ef2fa=>_0x6ef2fa[_0x527e6d(0x378)]===_0x1be344[_0x527e6d(0x378)]&&_0x6ef2fa[_0x527e6d(0x817)]!==_0x1be344[_0x527e6d(0x817)]))throw new Error(_0x527e6d(0x2e1));let _0x5337b1=_0x14cf71[_0x527e6d(0x87f)][_0x1080b9];_0x1be344[_0x527e6d(0x849)]&&(_0x4b18e0||!Number[_0x527e6d(0x4e7)](_0x1be344[_0x527e6d(0x849)]))&&(_0x5337b1['order']=_0x1be344[_0x527e6d(0x849)],_0x433279=!0x0),_0x1be344[_0x527e6d(0x378)]&&(_0x5337b1['name']=_0x1be344['name']);}else{if(_0x14cf71['customFields'][_0x527e6d(0x791)](_0x2c0996=>_0x2c0996['name']===_0x1be344[_0x527e6d(0x378)]&&_0x2c0996[_0x527e6d(0x817)]!==_0x1be344[_0x527e6d(0x817)]))throw new Error(_0x527e6d(0x2e1));_0x14cf71[_0x527e6d(0x87f)][_0x527e6d(0x2fc)]({'_id':_0x1be344['_id']||new fe['default'][(_0x527e6d(0x82c))]['ObjectId']()[_0x527e6d(0x644)](),'order':_0x1be344[_0x527e6d(0x849)],'name':_0x1be344[_0x527e6d(0x378)]}),_0x433279=!0x0;}}if(_0x433279){_0x14cf71[_0x527e6d(0x87f)][_0x527e6d(0x264)]((_0x27719a,_0x22ebb1)=>_0x27719a['order']>_0x22ebb1[_0x527e6d(0x849)]?0x1:_0x22ebb1[_0x527e6d(0x849)]>_0x27719a[_0x527e6d(0x849)]?-0x1:0x0);for(let _0x54f9b5=0x0;_0x54f9b5<_0x14cf71['customFields'][_0x527e6d(0x875)];_0x54f9b5++)_0x14cf71[_0x527e6d(0x87f)][_0x54f9b5]['order']=_0x54f9b5+0x1;}let _0x1110f0=await this['repository'][_0x527e6d(0x52d)][_0x527e6d(0x48b)](_0x14cf71,this['instance'][_0x527e6d(0x586)]);return this[_0x527e6d(0x1d4)]=_0x1110f0,this[_0x527e6d(0x45d)]['verbose'](this[_0x527e6d(0x86e)]+'\x20('+this[_0x527e6d(0x60f)][_0x527e6d(0x586)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x527e6d(0x45d)][_0x527e6d(0x6b6)](this[_0x527e6d(0x86e)]+'\x20('+this[_0x527e6d(0x60f)][_0x527e6d(0x586)]+_0x527e6d(0x8fe)+this['AutomateSystem']),_0x1110f0;}catch(_0x32d8d6){let _0x5a9455=_0x527e6d(0x803),_0x41ca84=_0x32d8d6 instanceof Error?_0x32d8d6[_0x527e6d(0x418)]:typeof _0x32d8d6==_0x527e6d(0x2e5)?JSON[_0x527e6d(0x2b0)](_0x32d8d6):_0x32d8d6,_0x45af26=_0x5a9455+':\x20'+_0x41ca84;throw this[_0x527e6d(0x45d)][_0x527e6d(0x91c)](this[_0x527e6d(0x86e)]+'\x20('+this['instance'][_0x527e6d(0x586)]+'):\x20'+_0x45af26),new m(_0x45af26);}}async['updateAutoCompleteMessages'](_0x100222){const _0x1f0180=a0_0x4fa287;try{let _0x1d904d=await this['repository'][_0x1f0180(0x52d)][_0x1f0180(0x2f9)](this[_0x1f0180(0x60f)][_0x1f0180(0x586)]),_0x5e16d3=_0x1d904d?.['autoCompleteMessages']?.[_0x1f0180(0x4d2)](_0x2c1c44=>_0x2c1c44[_0x1f0180(0x817)]===_0x100222?.[_0x1f0180(0x817)]);if(_0x100222?.[_0x1f0180(0x909)])_0x5e16d3>-0x1&&_0x1d904d?.[_0x1f0180(0x612)]?.[_0x1f0180(0x346)](_0x5e16d3,0x1);else{if(_0x5e16d3>-0x1){let _0x495cd4=_0x1d904d[_0x1f0180(0x612)][_0x5e16d3];_0x495cd4['order']=_0x100222?.[_0x1f0180(0x849)]||_0x495cd4[_0x1f0180(0x849)],_0x495cd4[_0x1f0180(0x518)]=_0x100222?.[_0x1f0180(0x518)]||_0x495cd4[_0x1f0180(0x518)],_0x495cd4[_0x1f0180(0x418)]=_0x100222?.['message']||_0x495cd4[_0x1f0180(0x418)];}else{let _0x30210d={'_id':_0x100222?.[_0x1f0180(0x817)]||new fe[(_0x1f0180(0x796))][(_0x1f0180(0x82c))][(_0x1f0180(0x3fa))]()[_0x1f0180(0x644)](),'order':_0x100222?.[_0x1f0180(0x849)],'command':_0x100222?.['command'],'message':_0x100222?.[_0x1f0180(0x418)]};_0x1d904d?.[_0x1f0180(0x612)]?.['push'](_0x30210d);}}_0x1d904d?.[_0x1f0180(0x612)]?.[_0x1f0180(0x264)]((_0x14633c,_0x490f7b)=>_0x14633c[_0x1f0180(0x849)]-_0x490f7b[_0x1f0180(0x849)]);let _0x5b8f3f=await this[_0x1f0180(0x830)]['automateSystem']['update'](_0x1d904d,this[_0x1f0180(0x60f)][_0x1f0180(0x586)]);return this[_0x1f0180(0x1d4)]=_0x5b8f3f,this[_0x1f0180(0x45d)][_0x1f0180(0x6b6)](this[_0x1f0180(0x86e)]+'\x20('+this[_0x1f0180(0x60f)][_0x1f0180(0x586)]+_0x1f0180(0x636)),_0x5b8f3f;}catch(_0x1f864a){let _0x3e304a=_0x1f0180(0x39f),_0x199473=_0x1f864a instanceof Error?_0x1f864a[_0x1f0180(0x418)]:typeof _0x1f864a==_0x1f0180(0x2e5)?JSON['stringify'](_0x1f864a):_0x1f864a,_0x28001f=_0x3e304a+':\x20'+_0x199473;throw this[_0x1f0180(0x45d)][_0x1f0180(0x91c)](this['instanceName']+'\x20('+this[_0x1f0180(0x60f)][_0x1f0180(0x586)]+_0x1f0180(0x8fe)+_0x28001f),new m(_0x28001f);}}async[a0_0x4fa287(0x3a3)](_0x3a0245){const _0x185fc7=a0_0x4fa287;try{let _0x32c671=await this[_0x185fc7(0x830)][_0x185fc7(0x52d)][_0x185fc7(0x2f9)](this[_0x185fc7(0x60f)][_0x185fc7(0x586)]);if(!_0x32c671)throw new Error(_0x185fc7(0x57f));let _0x4eeb70={'_id':_0x32c671[_0x185fc7(0x817)],'flowConfig':{'enabled':_0x3a0245[_0x185fc7(0x286)]??_0x32c671['flowConfig'][_0x185fc7(0x286)],'ignoreGroups':_0x3a0245['ignoreGroups']??_0x32c671['flowConfig'][_0x185fc7(0x1d5)],'stopConversation':_0x3a0245[_0x185fc7(0x83c)][_0x185fc7(0x602)]()??_0x32c671[_0x185fc7(0x359)][_0x185fc7(0x83c)]['trim'](),'stopMinutes':_0x3a0245[_0x185fc7(0x816)]??_0x32c671[_0x185fc7(0x359)][_0x185fc7(0x816)],'stopWhenYouSendMsg':_0x3a0245[_0x185fc7(0x71b)]??_0x32c671['flowConfig'][_0x185fc7(0x71b)]}},_0x5e12e4=await this['repository']['automateSystem'][_0x185fc7(0x48b)](_0x4eeb70,this[_0x185fc7(0x60f)][_0x185fc7(0x586)]);return this[_0x185fc7(0x1d4)]=_0x5e12e4,this[_0x185fc7(0x45d)][_0x185fc7(0x6b6)](this[_0x185fc7(0x86e)]+'\x20('+this[_0x185fc7(0x60f)][_0x185fc7(0x586)]+_0x185fc7(0x551)),this['logger'][_0x185fc7(0x6b6)](this[_0x185fc7(0x86e)]+'\x20('+this[_0x185fc7(0x60f)][_0x185fc7(0x586)]+'):\x20'+this[_0x185fc7(0x1d4)]),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x5e12e4;}catch(_0x1bd21c){let _0x138bfe=_0x185fc7(0x57d),_0x501e15=_0x1bd21c instanceof Error?_0x1bd21c[_0x185fc7(0x418)]:typeof _0x1bd21c=='object'?JSON['stringify'](_0x1bd21c):_0x1bd21c,_0x4cab1e=_0x138bfe+':\x20'+_0x501e15;throw this[_0x185fc7(0x45d)][_0x185fc7(0x91c)](this[_0x185fc7(0x86e)]+'\x20('+this['instance']['wuid']+_0x185fc7(0x8fe)+_0x4cab1e),new m(_0x4cab1e);}}async['getAutomateSystem'](){const _0x4ff1b1=a0_0x4fa287;try{let _0xaf67c7=await this[_0x4ff1b1(0x830)][_0x4ff1b1(0x52d)][_0x4ff1b1(0x2f9)](this['instance'][_0x4ff1b1(0x586)]);return this[_0x4ff1b1(0x1d4)]=_0xaf67c7,_0xaf67c7;}catch(_0x157ea1){let _0x8dc0aa=_0x4ff1b1(0x596),_0x2043c2=_0x157ea1 instanceof Error?_0x157ea1[_0x4ff1b1(0x418)]:typeof _0x157ea1==_0x4ff1b1(0x2e5)?JSON[_0x4ff1b1(0x2b0)](_0x157ea1):_0x157ea1,_0x50c891=_0x8dc0aa+':\x20'+_0x2043c2;throw this[_0x4ff1b1(0x45d)]['error'](this[_0x4ff1b1(0x86e)]+'\x20('+this[_0x4ff1b1(0x60f)][_0x4ff1b1(0x586)]+_0x4ff1b1(0x8fe)+_0x50c891),new m(_0x50c891);}}async[a0_0x4fa287(0x7e9)](){const _0x27a879=a0_0x4fa287;let _0x4a7867=(await import('p-queue'))[_0x27a879(0x796)];this[_0x27a879(0x2b7)]=new _0x4a7867({'concurrency':0x1});}async[a0_0x4fa287(0x44b)](){const _0x2f25d8=a0_0x4fa287;this[_0x2f25d8(0x60f)][_0x2f25d8(0x223)][_0x2f25d8(0x343)]&&clearTimeout(this[_0x2f25d8(0x60f)][_0x2f25d8(0x223)][_0x2f25d8(0x343)]),this[_0x2f25d8(0x60f)][_0x2f25d8(0x223)][_0x2f25d8(0x343)]=setTimeout(()=>{const _0x1752dc=_0x2f25d8;this[_0x1752dc(0x201)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x4fa287(0x201)](){const _0x5009b3=a0_0x4fa287;Date[_0x5009b3(0x6b0)]()-this[_0x5009b3(0x60f)]['ScheduleMessage'][_0x5009b3(0x240)]>=0x1d4c0&&(this[_0x5009b3(0x45d)][_0x5009b3(0x6b6)](this['instanceName']+'\x20('+this[_0x5009b3(0x60f)][_0x5009b3(0x586)]+_0x5009b3(0x82e)),this[_0x5009b3(0x60f)][_0x5009b3(0x223)][_0x5009b3(0x4cb)]=null,this['instance']['ScheduleMessage'][_0x5009b3(0x240)]=0x0,this['instance'][_0x5009b3(0x223)]['delayMessage']=0x0,this[_0x5009b3(0x2b7)][_0x5009b3(0x2ac)](()=>this['scheduleNextCheck']()));}async[a0_0x4fa287(0x3df)](){const _0x5c9859=a0_0x4fa287;let _0x137682=!0x1;this['pendingMessages']=[],this[_0x5c9859(0x862)]=(0x0,X['v4'])(),await this[_0x5c9859(0x759)]();let _0xe95c22=()=>{const _0xbf895a=_0x5c9859;this['logger'][_0xbf895a(0x27c)](this['instanceName']+'\x20('+this[_0xbf895a(0x60f)][_0xbf895a(0x586)]+_0xbf895a(0x72b)+this['instance'][_0xbf895a(0x223)]['processingGroup']?.[_0xbf895a(0x817)]+_0xbf895a(0x664));},_0x4b18c3=async()=>{const _0x5bd1cb=_0x5c9859;this[_0x5bd1cb(0x45d)]['warn'](this[_0x5bd1cb(0x86e)]+'\x20('+this[_0x5bd1cb(0x60f)][_0x5bd1cb(0x586)]+_0x5bd1cb(0x6f1));let _0x4822fc=new Date(Date[_0x5bd1cb(0x6b0)]()-0xc*0x3c*0x3c*0x3e8),_0x15720e={'where':{'status':{'$in':['scheduled',_0x5bd1cb(0x428)]},'$or':[{'when':{'$lte':Date[_0x5bd1cb(0x6b0)](),'$gte':_0x4822fc}},{'when':0x0}]}},_0x5858cb=await this['repository'][_0x5bd1cb(0x3bb)][_0x5bd1cb(0x896)](_0x15720e,this[_0x5bd1cb(0x60f)][_0x5bd1cb(0x586)]);return this['logger'][_0x5bd1cb(0x27c)](this[_0x5bd1cb(0x86e)]+'\x20('+this[_0x5bd1cb(0x60f)][_0x5bd1cb(0x586)]+_0x5bd1cb(0x204)+_0x5858cb[_0x5bd1cb(0x875)]),_0x5858cb;},_0x23ef62=()=>this[_0x5c9859(0x922)][_0x5c9859(0x875)]===0x0?null:this[_0x5c9859(0x922)]['reduce']((_0x3428e0,_0x119854)=>(_0x3428e0[_0x5c9859(0x849)]??Number[_0x5c9859(0x58b)])<(_0x119854[_0x5c9859(0x849)]??Number[_0x5c9859(0x58b)])?_0x3428e0:_0x119854,this['pendingMessages'][0x0]),_0xf7afe8=async _0x314363=>{const _0x16c982=_0x5c9859;let _0x16df48=Math[_0x16c982(0x768)](Math[_0x16c982(0x904)]()*0x1389)+0xbb8;for(let _0x29d880 of _0x314363){let _0x2953e0={'_id':_0x29d880[_0x16c982(0x817)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x16c982(0x6b0)]()-0xbb8}}]},_0x11ce18={'startSend':Date['now'](),'status':_0x16c982(0x428),'processUUID':this[_0x16c982(0x862)]};if(!await this['repository']['scheduleMessage'][_0x16c982(0x3b3)](_0x2953e0,_0x11ce18,this[_0x16c982(0x60f)][_0x16c982(0x586)]))return;if(!this[_0x16c982(0x60f)][_0x16c982(0x223)]['isConnected']){this[_0x16c982(0x45d)][_0x16c982(0x27c)](this['instanceName']+'\x20('+this[_0x16c982(0x60f)][_0x16c982(0x586)]+_0x16c982(0x324));break;}for(this[_0x16c982(0x922)]=_0x29d880[_0x16c982(0x84d)][_0x16c982(0x314)](_0x4a8354=>!_0x4a8354[_0x16c982(0x3f1)]);this[_0x16c982(0x922)][_0x16c982(0x875)]>0x0||!_0x137682;){await this[_0x16c982(0x44b)]();let _0xdcd4cf=_0x23ef62();if(!_0xdcd4cf){_0x137682=!0x0;break;}let _0x48e21a=_0x29d880[_0x16c982(0x84d)][_0x16c982(0x896)](_0x47e98f=>_0x47e98f[_0x16c982(0x817)]===_0xdcd4cf[_0x16c982(0x817)]);if(!_0x48e21a){_0x137682=!0x0;break;}if(this[_0x16c982(0x60f)][_0x16c982(0x223)][_0x16c982(0x240)]=Date[_0x16c982(0x6b0)](),_0x48e21a[_0x16c982(0x3f1)]){this[_0x16c982(0x45d)][_0x16c982(0x27c)](this[_0x16c982(0x86e)]+'\x20('+this[_0x16c982(0x60f)][_0x16c982(0x586)]+_0x16c982(0x3ab)+_0x48e21a[_0x16c982(0x224)]+_0x16c982(0x77d)),this['pendingMessages']=this['pendingMessages'][_0x16c982(0x314)](_0x5240ba=>_0x5240ba[_0x16c982(0x817)]!==_0x48e21a[_0x16c982(0x817)]);break;}if(!this['instance'][_0x16c982(0x223)][_0x16c982(0x6e5)]){this[_0x16c982(0x45d)]['warn'](this[_0x16c982(0x86e)]+'\x20('+this[_0x16c982(0x60f)][_0x16c982(0x586)]+_0x16c982(0x7f0));break;}if(!this['instance']['ScheduleMessage']['processingGroup']){this[_0x16c982(0x45d)][_0x16c982(0x27c)](this[_0x16c982(0x86e)]+'\x20('+this[_0x16c982(0x60f)][_0x16c982(0x586)]+_0x16c982(0x8cd)+_0x29d880['_id']+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}let _0x51ebc7={'idControl':_0x48e21a['_id'],'remoteJid':_0x48e21a[_0x16c982(0x224)],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x16c982(0x6b0)]()},_0x250a3f=null;try{this[_0x16c982(0x45d)][_0x16c982(0x27c)](this[_0x16c982(0x86e)]+'\x20('+this['instance'][_0x16c982(0x586)]+'):\x20Enviando\x20mensagem\x20para\x20'+_0x48e21a[_0x16c982(0x224)]);let _0x968ad1=await this['SendScheduleMessage'](_0x48e21a['remoteJid'],_0x48e21a);_0x51ebc7['error']=_0x968ad1[_0x16c982(0x91c)],_0x51ebc7['id']=_0x968ad1[_0x16c982(0x91c)]?null:_0x968ad1['id'],_0x51ebc7['error_log']=_0x968ad1['error']?_0x968ad1[_0x16c982(0x3c8)]?_0x968ad1[_0x16c982(0x3c8)][_0x16c982(0x644)]():'':null;let _0x533e7e=_0x29d880['messages'][_0x16c982(0x4d2)](_0x3cf738=>_0x3cf738[_0x16c982(0x817)]===_0x48e21a[_0x16c982(0x817)]);_0x533e7e!==-0x1&&(_0x29d880[_0x16c982(0x84d)][_0x533e7e][_0x16c982(0x3f1)]=!0x0);let _0x3b8afe={'$push':{'messagesSend':_0x51ebc7},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x195e53=[{'elem._id':_0x48e21a[_0x16c982(0x817)]}];if(this['logger'][_0x16c982(0x27c)](this[_0x16c982(0x86e)]+'\x20('+this[_0x16c982(0x60f)][_0x16c982(0x586)]+_0x16c982(0x33f)+_0x48e21a[_0x16c982(0x817)]),_0x250a3f=await this[_0x16c982(0x830)][_0x16c982(0x3bb)]['updateOne']({'_id':_0x29d880['_id']},_0x3b8afe,this[_0x16c982(0x60f)][_0x16c982(0x586)],{'arrayFilters':_0x195e53}),_0x968ad1['error']){this[_0x16c982(0x45d)][_0x16c982(0x91c)](this[_0x16c982(0x86e)]+'\x20('+this[_0x16c982(0x60f)][_0x16c982(0x586)]+_0x16c982(0x6cf)+_0x968ad1[_0x16c982(0x3c8)]);continue;}let _0x409883=this[_0x16c982(0x8ae)](_0x29d880[_0x16c982(0x3f8)],_0x29d880['delaySecMax']);await this[_0x16c982(0x8f1)](_0x409883);}catch(_0x2f27c8){this[_0x16c982(0x45d)]['error'](this['instanceName']+'\x20('+this[_0x16c982(0x60f)][_0x16c982(0x586)]+_0x16c982(0x3c0)+_0x48e21a[_0x16c982(0x224)]+':\x20'+(_0x2f27c8 instanceof Error?_0x2f27c8[_0x16c982(0x418)]:JSON[_0x16c982(0x2b0)](_0x2f27c8,null,0x2))),_0x51ebc7[_0x16c982(0x91c)]=!0x0,_0x51ebc7[_0x16c982(0x388)]=_0x2f27c8[_0x16c982(0x418)];let _0x5ee4e4=_0x29d880[_0x16c982(0x84d)]['findIndex'](_0x403a3a=>_0x403a3a[_0x16c982(0x817)]===_0x48e21a['_id']);_0x5ee4e4!==-0x1&&(_0x29d880[_0x16c982(0x84d)][_0x5ee4e4][_0x16c982(0x3f1)]=!0x0);let _0x3815d1={'$push':{'messagesSend':_0x51ebc7},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x5080fc=[{'elem._id':_0x48e21a[_0x16c982(0x817)]}];this[_0x16c982(0x45d)]['warn'](this['instanceName']+'\x20('+this[_0x16c982(0x60f)][_0x16c982(0x586)]+_0x16c982(0x4a9)+_0x48e21a[_0x16c982(0x817)]),_0x250a3f=await this[_0x16c982(0x830)][_0x16c982(0x3bb)][_0x16c982(0x3b3)]({'_id':_0x29d880['_id']},_0x3815d1,this['instance'][_0x16c982(0x586)],{'arrayFilters':_0x5080fc});}finally{if(_0x250a3f&&_0x250a3f[_0x16c982(0x370)]==='stopped'){this[_0x16c982(0x45d)]['warn'](this['instanceName']+'\x20('+this[_0x16c982(0x60f)][_0x16c982(0x586)]+_0x16c982(0x8cd)+_0x48e21a[_0x16c982(0x817)]+_0x16c982(0x23e));break;}let _0x9b4f63=_0x250a3f[_0x16c982(0x84d)][_0x16c982(0x896)](_0x34ef86=>_0x34ef86[_0x16c982(0x817)]===_0x48e21a[_0x16c982(0x817)]);if(_0x9b4f63&&!_0x9b4f63['triedToSend']){let _0xfdad30={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x23b612=[{'elem._id':_0x48e21a[_0x16c982(0x817)]}];await this[_0x16c982(0x830)]['scheduleMessage'][_0x16c982(0x3b3)]({'_id':_0x250a3f[_0x16c982(0x817)]},_0xfdad30,this[_0x16c982(0x60f)][_0x16c982(0x586)],{'arrayFilters':_0x23b612});}if(this['pendingMessages']=_0x250a3f[_0x16c982(0x84d)][_0x16c982(0x314)](_0x467fe1=>!_0x467fe1[_0x16c982(0x3f1)]),_0x137682=this['pendingMessages'][_0x16c982(0x875)]===0x0,_0x250a3f[_0x16c982(0x862)]!==this[_0x16c982(0x862)]){this['logger']['warn'](this[_0x16c982(0x86e)]+'\x20('+this[_0x16c982(0x60f)]['wuid']+_0x16c982(0x361));return;}this[_0x16c982(0x60f)][_0x16c982(0x223)][_0x16c982(0x4cb)]=_0x250a3f;}}this['pendingMessages']=[];let _0x1b7b56=await this[_0x16c982(0x830)][_0x16c982(0x3bb)][_0x16c982(0x5b1)](_0x29d880[_0x16c982(0x817)],this[_0x16c982(0x60f)]['wuid']);if(_0x137682=_0x1b7b56[_0x16c982(0x84d)][_0x16c982(0x56d)](_0x34d104=>_0x34d104['triedToSend']),_0x137682&&_0x1b7b56[_0x16c982(0x370)]!==_0x16c982(0x793)){let _0x595c60={'$set':{'status':_0x16c982(0x28d)}};await this[_0x16c982(0x830)][_0x16c982(0x3bb)]['updateOneById'](_0x1b7b56[_0x16c982(0x817)],_0x595c60,this[_0x16c982(0x60f)][_0x16c982(0x586)]);}await new Promise(_0x59e8cf=>setTimeout(_0x59e8cf,_0x16df48)),global['gc']?global['gc']():console[_0x16c982(0x27c)](_0x16c982(0x887));}this[_0x16c982(0x862)]=null;},_0x46a3db=async()=>{const _0x30db24=_0x5c9859;this[_0x30db24(0x45d)][_0x30db24(0x27c)](this[_0x30db24(0x86e)]+'\x20('+this[_0x30db24(0x60f)]['wuid']+_0x30db24(0x6f1));let _0x3738dd={'where':{'status':_0x30db24(0x43c),'when':{'$gt':Date[_0x30db24(0x6b0)]()}}},_0x312aaa=await this[_0x30db24(0x830)][_0x30db24(0x3bb)][_0x30db24(0x6bc)](_0x3738dd,this['instance']['wuid']);_0x312aaa&&_0x312aaa[_0x30db24(0x78a)]-Date['now']()<=0x6ddd00?this['instance'][_0x30db24(0x223)]['delayMessage']=_0x312aaa['when']-Date[_0x30db24(0x6b0)]():this['instance'][_0x30db24(0x223)][_0x30db24(0x403)]=(0x3c+Math[_0x30db24(0x768)](Math['random']()*0x3c))*0x3c*0x3e8,this['instance']['ScheduleMessage'][_0x30db24(0x403)]=Math[_0x30db24(0x6ff)](this[_0x30db24(0x60f)][_0x30db24(0x223)][_0x30db24(0x403)],0x1*0x2*0x3e8);let _0x179f4d=Math[_0x30db24(0x723)](this[_0x30db24(0x60f)][_0x30db24(0x223)]['delayMessage']/0xea60);if(_0x312aaa){let _0x96415d=new Date(_0x312aaa[_0x30db24(0x78a)])['toLocaleString']();this[_0x30db24(0x45d)][_0x30db24(0x27c)](this[_0x30db24(0x86e)]+'\x20('+this[_0x30db24(0x60f)]['wuid']+_0x30db24(0x203)+_0x96415d+_0x30db24(0x4b1)+_0x179f4d+_0x30db24(0x1c7));}else this['logger'][_0x30db24(0x27c)](this[_0x30db24(0x86e)]+'\x20('+this[_0x30db24(0x60f)]['wuid']+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x179f4d+_0x30db24(0x1c7));setTimeout(()=>this[_0x30db24(0x3df)](),this[_0x30db24(0x60f)][_0x30db24(0x223)][_0x30db24(0x403)]);};if(this[_0x5c9859(0x60f)][_0x5c9859(0x223)][_0x5c9859(0x4cb)]){await this[_0x5c9859(0x44b)](),_0xe95c22();return;}if(!this['instance'][_0x5c9859(0x223)]['isConnected']){this[_0x5c9859(0x45d)][_0x5c9859(0x27c)](this[_0x5c9859(0x86e)]+'\x20('+this['instance'][_0x5c9859(0x586)]+_0x5c9859(0x393)),this[_0x5c9859(0x60f)][_0x5c9859(0x223)][_0x5c9859(0x4cb)]=null,this[_0x5c9859(0x60f)][_0x5c9859(0x223)][_0x5c9859(0x240)]=0x0,this['instance']['ScheduleMessage'][_0x5c9859(0x403)]=0x0;return;}try{let _0x4889dc=await _0x4b18c3();_0x4889dc[_0x5c9859(0x875)]===0x0?this['logger'][_0x5c9859(0x27c)](this['instanceName']+'\x20('+this[_0x5c9859(0x60f)][_0x5c9859(0x586)]+_0x5c9859(0x4e3)):(this[_0x5c9859(0x60f)][_0x5c9859(0x223)][_0x5c9859(0x4cb)]=_0x4889dc[0x0],await _0xf7afe8(_0x4889dc)),await _0x46a3db(),this[_0x5c9859(0x60f)]['ScheduleMessage'][_0x5c9859(0x4cb)]=null;}catch(_0x3da106){this['logger']['error'](_0x5c9859(0x8d0)+(_0x3da106 instanceof Error?_0x3da106[_0x5c9859(0x418)]:JSON[_0x5c9859(0x2b0)](_0x3da106,null,0x2)));}}['getDelay'](_0xc64c6,_0x378582){const _0x3c641e=a0_0x4fa287;return _0xc64c6=Math[_0x3c641e(0x6ff)](0.5,_0xc64c6),_0x378582=Math['min'](Math[_0x3c641e(0x6ff)](0x3,_0x378582),0x78),Math[_0x3c641e(0x768)](Math[_0x3c641e(0x904)]()*(_0x378582-_0xc64c6+0x1)+_0xc64c6)*0x3e8;}[a0_0x4fa287(0x8f1)](_0x637bc6){return new Promise(_0x4db125=>setTimeout(_0x4db125,_0x637bc6));}async['getVariablesChat'](_0x17262e){const _0x1594db=a0_0x4fa287;if(!this[_0x1594db(0x1d4)]&&(await this[_0x1594db(0x4c5)](),!this[_0x1594db(0x1d4)]))return null;_0x17262e=this[_0x1594db(0x3a2)](_0x17262e);let _0x8fe857=await this[_0x1594db(0x830)][_0x1594db(0x2ef)][_0x1594db(0x6bc)]({'where':{'_id':_0x17262e}},this[_0x1594db(0x60f)]['wuid']),_0x5e0fbf={};if(_0x8fe857&&_0x8fe857[_0x1594db(0x3b9)]){let _0x4da7c4=_0x8fe857[_0x1594db(0x3b9)];typeof _0x4da7c4['nome']==_0x1594db(0x88c)&&(_0x5e0fbf[_0x1594db(0x536)]=_0x4da7c4['nome']),typeof _0x4da7c4[_0x1594db(0x5f3)]==_0x1594db(0x88c)&&(_0x5e0fbf[_0x1594db(0x5f3)]=_0x4da7c4[_0x1594db(0x5f3)]),typeof _0x4da7c4[_0x1594db(0x908)]==_0x1594db(0x88c)&&(_0x5e0fbf[_0x1594db(0x908)]=_0x4da7c4['email']),typeof _0x4da7c4[_0x1594db(0x798)]=='string'&&(_0x5e0fbf[_0x1594db(0x798)]=_0x4da7c4['cpf']),typeof _0x4da7c4[_0x1594db(0x370)]==_0x1594db(0x88c)&&(_0x5e0fbf[_0x1594db(0x370)]=_0x4da7c4[_0x1594db(0x370)]),typeof _0x4da7c4[_0x1594db(0x737)]==_0x1594db(0x88c)&&(_0x5e0fbf[_0x1594db(0x737)]=_0x4da7c4['notas']),typeof _0x4da7c4[_0x1594db(0x75e)]==_0x1594db(0x88c)&&(_0x5e0fbf['responsavelid']=_0x4da7c4['responsavelid']),Array[_0x1594db(0x3e8)](_0x4da7c4[_0x1594db(0x258)])&&(_0x5e0fbf[_0x1594db(0x258)]=_0x4da7c4['tags'][_0x1594db(0x82f)](',\x20')),Array[_0x1594db(0x3e8)](_0x4da7c4[_0x1594db(0x1e2)])&&(_0x5e0fbf[_0x1594db(0x1e2)]=_0x4da7c4['etiquetas'][_0x1594db(0x82f)](',\x20'));}return _0x8fe857&&_0x8fe857['leadInfo']&&_0x8fe857[_0x1594db(0x3b9)]['customFields']&&_0x8fe857[_0x1594db(0x3b9)][_0x1594db(0x87f)]['forEach'](_0x377b96=>{const _0x37f513=_0x1594db;let _0x45d605=this[_0x37f513(0x1d4)]?.['customFields'][_0x37f513(0x896)](_0xd6b7a5=>_0xd6b7a5[_0x37f513(0x817)]===_0x377b96['_id']);_0x45d605&&(_0x5e0fbf[_0x45d605[_0x37f513(0x378)]]=_0x377b96[_0x37f513(0x4bc)]);}),_0x5e0fbf;}async[a0_0x4fa287(0x4d5)](_0x2e1d50,_0x5952fb){const _0x4ab5ad=a0_0x4fa287;try{let _0x354ef1=await this[_0x4ab5ad(0x46b)](_0x5952fb);return this[_0x4ab5ad(0x75f)](_0x2e1d50,_0x354ef1);}catch(_0x33399a){return this[_0x4ab5ad(0x45d)][_0x4ab5ad(0x91c)](_0x4ab5ad(0x51c)+_0x5952fb+':\x20'+_0x33399a),_0x2e1d50;}}async['transformScheduledMessagesByType'](){const _0x2c76d5=a0_0x4fa287;let _0xb6dbe6=async(_0x3134ef,_0x1cd8e7)=>{const _0x44176e=a0_0x5643;let _0x34a267=(await this[_0x44176e(0x830)][_0x44176e(0x3bb)]['find']({'where':{'type':_0x3134ef}},this[_0x44176e(0x60f)][_0x44176e(0x586)]))[_0x44176e(0x465)](async _0x225268=>{const _0x376662=_0x44176e;let _0xb28a57=_0x1cd8e7(_0x225268),_0x12afd5=_0x376e71=>/^\d+$/[_0x376662(0x5ba)](_0x376e71),_0x29fc5b=_0x225268[_0x376662(0x80d)][_0x376662(0x314)](_0x168f55=>_0x168f55['endsWith'](_0x376662(0x37e))?_0x168f55[_0x376662(0x875)]>0x19:_0x168f55[_0x376662(0x8a5)](_0x376662(0x3c2))?_0x168f55['length']>0xf:_0x12afd5(_0x168f55)?_0x168f55[_0x376662(0x875)]>=0xb:!0x1)['map'](_0x5a7da4=>({'_id':(0x0,X['v4'])(),'idSchedule':_0x225268[_0x376662(0x817)],'type':_0xb28a57,'remoteJid':_0x5a7da4,'flow':_0x225268[_0x376662(0x900)],'text':_0x225268[_0x376662(0x418)]?.['text'],'delay':_0x225268['message']?.['delay'],'urlOrBase64':_0x225268[_0x376662(0x418)]?.[_0x376662(0x2fe)],'linkPreview':_0x225268[_0x376662(0x418)]?.[_0x376662(0x372)],'fileName':_0x225268['message']?.['fileName'],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0x376662(0x830)][_0x376662(0x3bb)][_0x376662(0x5f5)](_0x225268[_0x376662(0x817)],{'$set':{'messages':_0x29fc5b},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x376662(0x60f)][_0x376662(0x586)]);}catch(_0x1d1adf){console['error'](_0x376662(0x29a)+_0x225268[_0x376662(0x817)]+':',_0x1d1adf);}});await Promise[_0x44176e(0x3d7)](_0x34a267);};await _0xb6dbe6('text',_0x1b559b=>_0x2c76d5(0x236)),await _0xb6dbe6('media',_0x8f4b22=>_0x8f4b22['message']?.[_0x2c76d5(0x8f0)]||_0x2c76d5(0x5f4)),await _0xb6dbe6(_0x2c76d5(0x402),_0x53926a=>_0x2c76d5(0x402)),await _0xb6dbe6(_0x2c76d5(0x29d),_0x39e19b=>_0x2c76d5(0x29d)),await _0xb6dbe6(_0x2c76d5(0x515),_0x489771=>_0x2c76d5(0x515)),await _0xb6dbe6('video',_0x381432=>_0x2c76d5(0x269)),await _0xb6dbe6('document',_0x27ae7f=>'document'),this[_0x2c76d5(0x45d)]['warn'](this['instanceName']+'\x20('+this[_0x2c76d5(0x60f)]['wuid']+_0x2c76d5(0x5df));}async['editScheduleMessage'](_0x151afb){const _0x25ca33=a0_0x4fa287;try{if(this['logger'][_0x25ca33(0x27c)](this[_0x25ca33(0x86e)]+'\x20('+this[_0x25ca33(0x60f)][_0x25ca33(0x586)]+_0x25ca33(0x5ff)),_0x151afb[_0x25ca33(0x817)]||(_0x151afb[_0x25ca33(0x817)]=(0x0,X['v4'])()),this[_0x25ca33(0x60f)][_0x25ca33(0x223)][_0x25ca33(0x4cb)]?.[_0x25ca33(0x817)]===_0x151afb[_0x25ca33(0x817)]?.[_0x25ca33(0x644)]()){if(_0x151afb['status']===_0x25ca33(0x793))this['instance'][_0x25ca33(0x223)][_0x25ca33(0x4cb)]=null;else throw new Error(_0x25ca33(0x2d8));}if(_0x151afb[_0x25ca33(0x909)]&&_0x151afb[_0x25ca33(0x817)]){let _0x124985=await this['repository'][_0x25ca33(0x3bb)]['deleteOne'](_0x151afb[_0x25ca33(0x817)],this[_0x25ca33(0x60f)][_0x25ca33(0x586)]);return setTimeout(()=>this[_0x25ca33(0x3df)](),0x7d0),_0x124985;}let _0xbfc836=null;if(_0x151afb[_0x25ca33(0x817)]&&(_0xbfc836=await this[_0x25ca33(0x830)][_0x25ca33(0x3bb)]['findById'](_0x151afb['_id'],this[_0x25ca33(0x60f)][_0x25ca33(0x586)])),_0xbfc836){let {_id:_0x3e7da1,owner:_0x32c3c0,messages:_0x5e8926,..._0x4b4ff6}=_0x151afb;if(_0x5e8926){let _0x2032d0=_0x5e8926[_0x25ca33(0x314)](_0x2e5f03=>!_0x2e5f03[_0x25ca33(0x817)]),_0x2fbb7c=_0x5e8926[_0x25ca33(0x314)](_0x1c953f=>_0x1c953f['_id']&&!_0x1c953f['delete']),_0x22462c=_0x5e8926[_0x25ca33(0x314)](_0x18ec1e=>_0x18ec1e[_0x25ca33(0x817)]&&_0x18ec1e[_0x25ca33(0x909)]);if(_0x2032d0[_0x25ca33(0x875)]>0x0&&await this[_0x25ca33(0x2fd)](_0x151afb[_0x25ca33(0x817)],_0x2032d0),_0x2fbb7c[_0x25ca33(0x875)]>0x0&&await this[_0x25ca33(0x4fc)]({'_id':_0x151afb[_0x25ca33(0x817)],'messages':_0x2fbb7c}),_0x22462c['length']>0x0){let _0x3c82df=_0x22462c[_0x25ca33(0x465)](_0x57f4be=>({'updateOne':{'filter':{'_id':_0x151afb[_0x25ca33(0x817)]},'update':{'$pull':{'messages':{'_id':_0x57f4be[_0x25ca33(0x817)]}}}}}));await this[_0x25ca33(0x830)][_0x25ca33(0x3bb)][_0x25ca33(0x716)](_0x3c82df,this['instance']['wuid']);}}let _0x43927a={'$set':{..._0x4b4ff6,'status':_0x151afb[_0x25ca33(0x370)]||_0xbfc836[_0x25ca33(0x370)]}},_0x154961=await this[_0x25ca33(0x830)][_0x25ca33(0x3bb)][_0x25ca33(0x5f5)](_0x151afb[_0x25ca33(0x817)],_0x43927a,this[_0x25ca33(0x60f)][_0x25ca33(0x586)]);return _0x154961&&(this[_0x25ca33(0x5de)](_0x154961[_0x25ca33(0x84d)]),await this[_0x25ca33(0x830)][_0x25ca33(0x3bb)][_0x25ca33(0x5f5)](_0x154961['_id'],{'$set':{'messages':_0x154961[_0x25ca33(0x84d)]}},this['instance'][_0x25ca33(0x586)])),setTimeout(()=>this[_0x25ca33(0x3df)](),0x7d0),await this[_0x25ca33(0x759)](),_0x154961;}else{_0x151afb[_0x25ca33(0x85f)]=this['instance'][_0x25ca33(0x586)],_0x151afb[_0x25ca33(0x84d)]&&_0x151afb[_0x25ca33(0x84d)][_0x25ca33(0x442)](_0x1321d6=>{const _0x26991e=_0x25ca33;_0x1321d6[_0x26991e(0x817)]||(_0x1321d6[_0x26991e(0x817)]=(0x0,X['v4'])()),_0x1321d6[_0x26991e(0x3d3)]||(_0x1321d6[_0x26991e(0x3d3)]=_0x151afb['_id']),delete _0x1321d6[_0x26991e(0x3f1)];});let _0x4f5ca6=await this[_0x25ca33(0x830)][_0x25ca33(0x3bb)]['createAndSave'](_0x151afb,this[_0x25ca33(0x60f)][_0x25ca33(0x586)]);return _0x4f5ca6&&(this['reorderMessages'](_0x4f5ca6['messages']),await this[_0x25ca33(0x830)][_0x25ca33(0x3bb)]['updateOneById'](_0x4f5ca6[_0x25ca33(0x817)],{'$set':{'messages':_0x4f5ca6[_0x25ca33(0x84d)]}},this[_0x25ca33(0x60f)][_0x25ca33(0x586)])),setTimeout(()=>this[_0x25ca33(0x3df)](),0x7d0),_0x4f5ca6;}}catch(_0x545a85){let _0x59a69b=_0x25ca33(0x2a0),_0x15a06d=_0x545a85 instanceof Error?_0x545a85[_0x25ca33(0x418)]:typeof _0x545a85==_0x25ca33(0x2e5)?JSON[_0x25ca33(0x2b0)](_0x545a85):_0x545a85,_0x34986a=_0x59a69b+':\x20'+_0x15a06d;throw this[_0x25ca33(0x45d)][_0x25ca33(0x91c)](this[_0x25ca33(0x86e)]+'\x20('+this[_0x25ca33(0x60f)][_0x25ca33(0x586)]+_0x25ca33(0x8fe)+_0x34986a),new m(_0x34986a);}}async[a0_0x4fa287(0x2fd)](_0xb50c26,_0x4dac44){const _0x1089d1=a0_0x4fa287;try{this['logger'][_0x1089d1(0x6b6)](this[_0x1089d1(0x86e)]+'\x20('+this[_0x1089d1(0x60f)][_0x1089d1(0x586)]+'):\x20Adicionando\x20mensagens\x20ao\x20grupo...'),_0x4dac44[_0x1089d1(0x442)](_0x23d3ec=>{const _0xbab81d=_0x1089d1;_0x23d3ec[_0xbab81d(0x817)]||(_0x23d3ec[_0xbab81d(0x817)]=(0x0,X['v4'])()),_0x23d3ec['idSchedule']||(_0x23d3ec[_0xbab81d(0x3d3)]=_0xb50c26),delete _0x23d3ec[_0xbab81d(0x3f1)];});let _0x10e11c={'$push':{'messages':{'$each':_0x4dac44}}},_0x5e465e=await this[_0x1089d1(0x830)][_0x1089d1(0x3bb)][_0x1089d1(0x5f5)](_0xb50c26,_0x10e11c,this[_0x1089d1(0x60f)][_0x1089d1(0x586)]);return _0x5e465e&&(this['reorderMessages'](_0x5e465e['messages']),await this['repository'][_0x1089d1(0x3bb)][_0x1089d1(0x5f5)](_0x5e465e['_id'],{'$set':{'messages':_0x5e465e[_0x1089d1(0x84d)]}},this[_0x1089d1(0x60f)][_0x1089d1(0x586)])),_0x5e465e;}catch(_0x2369ca){let _0x30ce31='Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo',_0x502efe=_0x2369ca instanceof Error?_0x2369ca[_0x1089d1(0x418)]:typeof _0x2369ca==_0x1089d1(0x2e5)?JSON[_0x1089d1(0x2b0)](_0x2369ca):_0x2369ca,_0x1e9bdd=_0x30ce31+':\x20'+_0x502efe;throw this['logger'][_0x1089d1(0x91c)](this[_0x1089d1(0x86e)]+'\x20('+this['instance'][_0x1089d1(0x586)]+_0x1089d1(0x8fe)+_0x1e9bdd),new m(_0x1e9bdd);}}async['editMessagesInGroup'](_0x2bcd8b){const _0x36ae4d=a0_0x4fa287;try{if(this['logger'][_0x36ae4d(0x6b6)](this[_0x36ae4d(0x86e)]+'\x20('+this[_0x36ae4d(0x60f)][_0x36ae4d(0x586)]+_0x36ae4d(0x2c0)),!_0x2bcd8b[_0x36ae4d(0x817)]||!_0x2bcd8b[_0x36ae4d(0x84d)])throw new Error(_0x36ae4d(0x38f));let _0xf0ff38=_0x2bcd8b[_0x36ae4d(0x817)],_0x4e4805=_0x2bcd8b['messages'],_0x2a2b64=_0x4e4805['filter'](_0x483a29=>!_0x483a29[_0x36ae4d(0x909)])[_0x36ae4d(0x465)](_0x52086f=>{const _0x2f24a0=_0x36ae4d;let _0x75e8e5=_0x52086f[_0x2f24a0(0x817)];if(!_0x75e8e5)throw new Error('Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.');return _0x52086f['idSchedule']||(_0x52086f['idSchedule']=_0xf0ff38),delete _0x52086f[_0x2f24a0(0x3f1)],{'updateOne':{'filter':{'_id':_0xf0ff38,'messages._id':_0x75e8e5},'update':{'$set':{'messages.$[elem]':_0x52086f}},'arrayFilters':[{'elem._id':_0x75e8e5}]}};}),_0x217a91=_0x4e4805[_0x36ae4d(0x314)](_0x3e7519=>_0x3e7519[_0x36ae4d(0x909)])[_0x36ae4d(0x465)](_0xa2bedb=>{const _0x404b48=_0x36ae4d;let _0x1506c5=_0xa2bedb[_0x404b48(0x817)];if(!_0x1506c5)throw new Error('Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.');return{'updateOne':{'filter':{'_id':_0xf0ff38},'update':{'$pull':{'messages':{'_id':_0x1506c5}}}}};}),_0x44fd10=[..._0x2a2b64,..._0x217a91],_0x5c840d=await this[_0x36ae4d(0x830)][_0x36ae4d(0x3bb)][_0x36ae4d(0x716)](_0x44fd10,this[_0x36ae4d(0x60f)][_0x36ae4d(0x586)]),_0x52e855=await this[_0x36ae4d(0x830)]['scheduleMessage']['findById'](_0xf0ff38,this[_0x36ae4d(0x60f)]['wuid']);return _0x52e855&&(this['reorderMessages'](_0x52e855['messages']),await this[_0x36ae4d(0x830)][_0x36ae4d(0x3bb)][_0x36ae4d(0x5f5)](_0x52e855[_0x36ae4d(0x817)],{'$set':{'messages':_0x52e855[_0x36ae4d(0x84d)]}},this['instance'][_0x36ae4d(0x586)])),_0x52e855;}catch(_0x1d5eff){let _0x204e2e=_0x36ae4d(0x4fb),_0x4a5f24=_0x1d5eff instanceof Error?_0x1d5eff[_0x36ae4d(0x418)]:typeof _0x1d5eff==_0x36ae4d(0x2e5)?JSON[_0x36ae4d(0x2b0)](_0x1d5eff):_0x1d5eff,_0x333179=_0x204e2e+':\x20'+_0x4a5f24;throw this[_0x36ae4d(0x45d)][_0x36ae4d(0x91c)](this[_0x36ae4d(0x86e)]+'\x20('+this[_0x36ae4d(0x60f)]['wuid']+'):\x20'+_0x333179),new m(_0x333179);}}async[a0_0x4fa287(0x477)](){const _0x3cd40a=a0_0x4fa287;try{let _0x4af362={'status':_0x3cd40a(0x28d)},_0x4a445d=await this[_0x3cd40a(0x830)]['scheduleMessage']['deleteMany'](_0x4af362,this['instance'][_0x3cd40a(0x586)]);if(!_0x4a445d['error'])this[_0x3cd40a(0x45d)][_0x3cd40a(0x6b6)](this[_0x3cd40a(0x86e)]+'\x20('+this[_0x3cd40a(0x60f)][_0x3cd40a(0x586)]+'):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.');else throw new Error(_0x4a445d[_0x3cd40a(0x91c)][_0x3cd40a(0x418)]||'Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens');return this[_0x3cd40a(0x88e)]();}catch(_0x10ae2f){let _0x5cd07b='Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped',_0x1fc12c=_0x10ae2f instanceof Error?_0x10ae2f[_0x3cd40a(0x418)]:typeof _0x10ae2f==_0x3cd40a(0x2e5)?JSON[_0x3cd40a(0x2b0)](_0x10ae2f):_0x10ae2f,_0x5a9ea8=_0x5cd07b+':\x20'+_0x1fc12c;throw this[_0x3cd40a(0x45d)][_0x3cd40a(0x91c)](this[_0x3cd40a(0x86e)]+'\x20('+this[_0x3cd40a(0x60f)][_0x3cd40a(0x586)]+_0x3cd40a(0x8fe)+_0x5a9ea8),new m(_0x5a9ea8);}}async[a0_0x4fa287(0x88e)](){const _0x14d09a=a0_0x4fa287;try{return await this['repository'][_0x14d09a(0x3bb)][_0x14d09a(0x896)]({'where':{}},this[_0x14d09a(0x60f)][_0x14d09a(0x586)]);}catch(_0xe76d04){let _0x30d689=_0x14d09a(0x741),_0x32a1e7=_0xe76d04 instanceof Error?_0xe76d04[_0x14d09a(0x418)]:typeof _0xe76d04==_0x14d09a(0x2e5)?JSON[_0x14d09a(0x2b0)](_0xe76d04):_0xe76d04,_0x3dd00a=_0x30d689+':\x20'+_0x32a1e7;throw this[_0x14d09a(0x45d)][_0x14d09a(0x91c)](this[_0x14d09a(0x86e)]+'\x20('+this[_0x14d09a(0x60f)]['wuid']+'):\x20'+_0x3dd00a),new m(_0x3dd00a);}}[a0_0x4fa287(0x5de)](_0x1460f1){const _0x3105a5=a0_0x4fa287;_0x1460f1[_0x3105a5(0x264)]((_0x4014f9,_0x1a647c)=>_0x4014f9[_0x3105a5(0x849)]-_0x1a647c[_0x3105a5(0x849)]),_0x1460f1[_0x3105a5(0x442)]((_0x438958,_0x41614a)=>{const _0x53c819=_0x3105a5;_0x438958[_0x53c819(0x849)]=_0x41614a+0x1;});}async[a0_0x4fa287(0x542)](_0x31d2b2,_0x3f7855){const _0x2ca141=a0_0x4fa287;try{if(!_0x3f7855)return this[_0x2ca141(0x45d)][_0x2ca141(0x91c)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2ca141(0x364)),{'error':!0x0,'detail':_0x2ca141(0x6fe)};if(_0x3f7855['type']===_0x2ca141(0x29d)&&!this[_0x2ca141(0x1d4)]?.[_0x2ca141(0x359)][_0x2ca141(0x286)])return this['logger'][_0x2ca141(0x91c)](this['instanceName']+'\x20('+this[_0x2ca141(0x60f)][_0x2ca141(0x586)]+_0x2ca141(0x4b8)),{'error':!0x0,'detail':_0x2ca141(0x813)};switch(_0x3f7855['type']){case _0x2ca141(0x236):return await this['scheduleSendText'](_0x3f7855,_0x31d2b2);case'video':case _0x2ca141(0x515):case _0x2ca141(0x545):return await this[_0x2ca141(0x215)](_0x3f7855,_0x31d2b2);case _0x2ca141(0x402):return await this[_0x2ca141(0x86d)](_0x3f7855,_0x31d2b2);case _0x2ca141(0x29d):let _0x5fbade=new Qe();return _0x5fbade[_0x2ca141(0x378)]=_0x3f7855[_0x2ca141(0x29d)],_0x5fbade['remoteJid']=_0x31d2b2,await this[_0x2ca141(0x730)](_0x5fbade);default:return this[_0x2ca141(0x45d)][_0x2ca141(0x91c)](this[_0x2ca141(0x86e)]+'\x20('+this[_0x2ca141(0x60f)]['wuid']+'):\x20Comando\x20desconhecido:\x20'+_0x3f7855[_0x2ca141(0x429)]),{'error':!0x0,'detail':_0x2ca141(0x74f)};}}catch(_0x121158){return this['logger'][_0x2ca141(0x91c)](this[_0x2ca141(0x86e)]+'\x20('+this[_0x2ca141(0x60f)][_0x2ca141(0x586)]+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x121158 instanceof Error?_0x121158['message']:JSON['stringify'](_0x121158,null,0x2))),{'error':!0x0,'detail':_0x121158[_0x2ca141(0x418)]};}}async[a0_0x4fa287(0x4f3)](_0x5c1f84,_0x5426e0){const _0x3ef891=a0_0x4fa287;if(this[_0x3ef891(0x45d)]['verbose'](this[_0x3ef891(0x86e)]+'\x20('+this[_0x3ef891(0x60f)][_0x3ef891(0x586)]+_0x3ef891(0x3ef)+_0x5426e0+'\x27'),!_0x5c1f84[_0x3ef891(0x236)]||_0x5c1f84['text'][_0x3ef891(0x875)]===0x0)return{'error':!0x0,'detail':'sem\x20texto\x20na\x20mensagem'};let _0x42b6d4=await this[_0x3ef891(0x4d5)](_0x5c1f84['text'],_0x5426e0),_0x210816={'number':_0x5426e0,'options':{'delay':_0x5c1f84[_0x3ef891(0x662)],'linkPreview':_0x5c1f84[_0x3ef891(0x372)]},'textMessage':{'text':_0x42b6d4}},_0x15ee40=null;try{let _0x2f6f97=await this[_0x3ef891(0x24d)](_0x210816);if(_0x2f6f97&&_0x2f6f97['status'])return{'error':!0x1,'id':_0x2f6f97[_0x3ef891(0x27b)]['id']};_0x15ee40=JSON['stringify'](_0x2f6f97),this[_0x3ef891(0x45d)][_0x3ef891(0x6b6)](this[_0x3ef891(0x86e)]+'\x20('+this[_0x3ef891(0x60f)][_0x3ef891(0x586)]+_0x3ef891(0x8fe)+_0x15ee40);}catch(_0x91d379){this[_0x3ef891(0x45d)][_0x3ef891(0x91c)](this[_0x3ef891(0x86e)]+'\x20('+this[_0x3ef891(0x60f)][_0x3ef891(0x586)]+_0x3ef891(0x771)+(_0x91d379 instanceof Error?_0x91d379[_0x3ef891(0x418)]:JSON['stringify'](_0x91d379,null,0x2))),_0x15ee40=_0x91d379['message'];}if(_0x15ee40)return{'error':!0x0,'detail':(typeof _0x15ee40=='object'?JSON[_0x3ef891(0x2b0)](_0x15ee40,null,0x2):_0x15ee40)[_0x3ef891(0x2a9)](/[\[\]{}\n]/g,'\x20')[_0x3ef891(0x2a9)](/  +/g,'\x20')};}async[a0_0x4fa287(0x215)](_0x5a530e,_0x2fef8e){const _0x43a18d=a0_0x4fa287;this[_0x43a18d(0x45d)][_0x43a18d(0x6b6)](this[_0x43a18d(0x86e)]+'\x20('+this[_0x43a18d(0x60f)][_0x43a18d(0x586)]+_0x43a18d(0x577)+_0x2fef8e+'\x27');let _0x90cca2;_0x5a530e[_0x43a18d(0x236)]&&_0x5a530e[_0x43a18d(0x236)][_0x43a18d(0x875)]>0x0&&(_0x90cca2=await this[_0x43a18d(0x4d5)](_0x5a530e[_0x43a18d(0x236)],_0x2fef8e));let _0x36a563={'number':_0x2fef8e,'options':{'delay':_0x5a530e['delay'],'linkPreview':_0x5a530e[_0x43a18d(0x372)]},'mediaMessage':{'mediatype':_0x5a530e[_0x43a18d(0x429)],'caption':_0x90cca2,'media':_0x5a530e[_0x43a18d(0x2fe)]}},_0x2d0f58=null;try{let _0x3e3ed1=await this[_0x43a18d(0x867)](_0x36a563);if(_0x3e3ed1&&_0x3e3ed1['status'])return{'error':!0x1,'id':_0x3e3ed1[_0x43a18d(0x27b)]['id']};_0x2d0f58=JSON[_0x43a18d(0x2b0)](_0x3e3ed1),this[_0x43a18d(0x45d)][_0x43a18d(0x6b6)](this[_0x43a18d(0x86e)]+'\x20('+this[_0x43a18d(0x60f)]['wuid']+_0x43a18d(0x8fe)+_0x2d0f58);}catch(_0x2bc7b3){this['logger']['error'](this[_0x43a18d(0x86e)]+'\x20('+this[_0x43a18d(0x60f)]['wuid']+_0x43a18d(0x497)+(_0x2bc7b3 instanceof Error?_0x2bc7b3[_0x43a18d(0x418)]:JSON[_0x43a18d(0x2b0)](_0x2bc7b3,null,0x2))),_0x2d0f58=_0x2bc7b3['message'];}if(_0x2d0f58)return{'error':!0x0,'detail':(typeof _0x2d0f58==_0x43a18d(0x2e5)?JSON[_0x43a18d(0x2b0)](_0x2d0f58,null,0x2):_0x2d0f58)[_0x43a18d(0x2a9)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x4fa287(0x86d)](_0x18b575,_0x22f129){const _0x5dc78f=a0_0x4fa287;this[_0x5dc78f(0x45d)][_0x5dc78f(0x6b6)](this['instanceName']+'\x20('+this[_0x5dc78f(0x60f)][_0x5dc78f(0x586)]+_0x5dc78f(0x4fe)+_0x22f129+'\x27');let _0x206079={'number':_0x22f129,'options':{'delay':_0x18b575[_0x5dc78f(0x662)]},'audioMessage':{'audio':_0x18b575['urlOrBase64']}},_0x217f8a=null;try{let _0x391faf=await this['audioWhatsapp'](_0x206079);if(_0x391faf&&_0x391faf[_0x5dc78f(0x370)])return{'error':!0x1,'id':_0x391faf[_0x5dc78f(0x27b)]['id']};_0x217f8a=JSON[_0x5dc78f(0x2b0)](_0x391faf),this['logger'][_0x5dc78f(0x6b6)](this[_0x5dc78f(0x86e)]+'\x20('+this['instance'][_0x5dc78f(0x586)]+_0x5dc78f(0x8fe)+_0x217f8a);}catch(_0x164c77){this[_0x5dc78f(0x45d)]['error'](this[_0x5dc78f(0x86e)]+'\x20('+this[_0x5dc78f(0x60f)]['wuid']+_0x5dc78f(0x4cc)+(_0x164c77 instanceof Error?_0x164c77['message']:JSON[_0x5dc78f(0x2b0)](_0x164c77,null,0x2))),_0x217f8a=_0x164c77[_0x5dc78f(0x418)];}if(_0x217f8a)return{'error':!0x0,'detail':(typeof _0x217f8a==_0x5dc78f(0x2e5)?JSON['stringify'](_0x217f8a,null,0x2):_0x217f8a)[_0x5dc78f(0x2a9)](/[\[\]{}\n]/g,'\x20')[_0x5dc78f(0x2a9)](/  +/g,'\x20')};}async[a0_0x4fa287(0x6ca)](_0x3c8e39){const _0x1805b5=a0_0x4fa287;try{return await this[_0x1805b5(0x399)][_0x1805b5(0x743)](_0x3c8e39[_0x1805b5(0x61f)],_0x3c8e39[_0x1805b5(0x1d9)]),{'update':_0x1805b5(0x622)};}catch(_0x400a2b){let _0x3c060e=_0x1805b5(0x506),_0x513bf0=_0x400a2b instanceof Error?_0x400a2b[_0x1805b5(0x418)]:typeof _0x400a2b==_0x1805b5(0x2e5)?JSON[_0x1805b5(0x2b0)](_0x400a2b):_0x400a2b,_0x1d3d6c=_0x3c060e+':\x20'+_0x513bf0;throw this[_0x1805b5(0x45d)]['error'](this[_0x1805b5(0x86e)]+'\x20('+this['instance'][_0x1805b5(0x586)]+'):\x20'+_0x1d3d6c),new x(_0x1d3d6c);}}async[a0_0x4fa287(0x265)](_0x42e1d6){const _0x351ee3=a0_0x4fa287;try{return await this[_0x351ee3(0x399)][_0x351ee3(0x8d7)](_0x42e1d6[_0x351ee3(0x61f)],_0x42e1d6[_0x351ee3(0x378)]),{'update':_0x351ee3(0x622)};}catch(_0x31699c){let _0x2a75a8='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName',_0x21586c=_0x31699c instanceof Error?_0x31699c[_0x351ee3(0x418)]:typeof _0x31699c==_0x351ee3(0x2e5)?JSON[_0x351ee3(0x2b0)](_0x31699c):_0x31699c,_0x5c133e=_0x2a75a8+':\x20'+_0x21586c;throw this[_0x351ee3(0x45d)][_0x351ee3(0x91c)](this[_0x351ee3(0x86e)]+'\x20('+this[_0x351ee3(0x60f)]['wuid']+_0x351ee3(0x8fe)+_0x5c133e),new x(_0x5c133e);}}async[a0_0x4fa287(0x63e)](_0x232e85){const _0x236b21=a0_0x4fa287;try{let _0x325436=await this[_0x236b21(0x399)][_0x236b21(0x254)](_0x232e85[_0x236b21(0x61f)],_0x232e85['expiration']);return{'success':!0x0};}catch(_0x4aef6b){let _0xe56580=_0x236b21(0x2d6),_0x26414b=_0x4aef6b instanceof Error?_0x4aef6b['message']:typeof _0x4aef6b==_0x236b21(0x2e5)?JSON['stringify'](_0x4aef6b):_0x4aef6b,_0x5ac267=_0xe56580+':\x20'+_0x26414b;throw this[_0x236b21(0x45d)]['error'](this[_0x236b21(0x86e)]+'\x20('+this['instance'][_0x236b21(0x586)]+_0x236b21(0x8fe)+_0x5ac267),new x(_0x5ac267);}}async[a0_0x4fa287(0x8a4)](_0x246f00){const _0x1efb0e=a0_0x4fa287;try{return await this[_0x1efb0e(0x399)][_0x1efb0e(0x3eb)](_0x246f00[_0x1efb0e(0x61f)],_0x246f00['setting']),{'update':_0x1efb0e(0x622)};}catch(_0x3dff86){let _0x1c29cd='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting',_0x189949=_0x3dff86 instanceof Error?_0x3dff86['message']:typeof _0x3dff86==_0x1efb0e(0x2e5)?JSON[_0x1efb0e(0x2b0)](_0x3dff86):_0x3dff86,_0x2f5bde=_0x1c29cd+':\x20'+_0x189949;throw this[_0x1efb0e(0x45d)][_0x1efb0e(0x91c)](this[_0x1efb0e(0x86e)]+'\x20('+this['instance'][_0x1efb0e(0x586)]+_0x1efb0e(0x8fe)+_0x2f5bde),new x(_0x2f5bde);}}async[a0_0x4fa287(0x691)](_0x155a53){const _0x28047e=a0_0x4fa287;try{let _0x2f0044;if((0x0,L[_0x28047e(0x52c)])(_0x155a53['image'])){let _0x233291=new Date()[_0x28047e(0x878)](),_0x2aea4c=_0x155a53[_0x28047e(0x515)]+_0x28047e(0x5a7)+_0x233291;_0x2f0044=(await te[_0x28047e(0x796)][_0x28047e(0x37b)](_0x2aea4c,{'responseType':'arraybuffer'}))['data'];}else{if((0x0,L[_0x28047e(0x42d)])(_0x155a53[_0x28047e(0x515)]))_0x2f0044=Buffer[_0x28047e(0x7c8)](_0x155a53['image'],_0x28047e(0x2b2));else throw new m(_0x28047e(0x456));}return await this['client'][_0x28047e(0x249)](_0x155a53[_0x28047e(0x61f)],_0x2f0044),{'update':_0x28047e(0x622)};}catch(_0x48c499){let _0x12bdb6=_0x28047e(0x616),_0x210f3c=_0x48c499 instanceof Error?_0x48c499[_0x28047e(0x418)]:typeof _0x48c499=='object'?JSON[_0x28047e(0x2b0)](_0x48c499):_0x48c499,_0x176fac=_0x12bdb6+':\x20'+_0x210f3c;throw this[_0x28047e(0x45d)]['error'](this[_0x28047e(0x86e)]+'\x20('+this[_0x28047e(0x60f)][_0x28047e(0x586)]+'):\x20'+_0x176fac),new x(_0x176fac);}}},Bt=class u{constructor(_0x20e83f,_0x4926c1,_0x223d70){const _0x1807ae=a0_0x4fa287;this[_0x1807ae(0x5e3)]=_0x20e83f,this[_0x1807ae(0x5ca)]=_0x4926c1,this[_0x1807ae(0x830)]=_0x223d70,this['db']={},this['redis']={},this['logger']=new $(u['name']),this[_0x1807ae(0x650)]={},(this[_0x1807ae(0x718)](),this['noConnection'](),Object[_0x1807ae(0x3cf)](this['db'],_0x4926c1[_0x1807ae(0x37b)]('DATABASE')),Object[_0x1807ae(0x3cf)](this[_0x1807ae(0x422)],_0x4926c1['get']('REDIS')),this[_0x1807ae(0x639)]=this['db'][_0x1807ae(0x729)]?this[_0x1807ae(0x830)][_0x1807ae(0x6d9)]?.['db'](this['db'][_0x1807ae(0x632)][_0x1807ae(0x89e)]+_0x1807ae(0x68c)):void 0x0,this['cache']=this[_0x1807ae(0x422)]['ENABLED']?new ge(this['redis']):void 0x0);}async['instanceInfo'](_0x4e7f06){const _0x411a89=a0_0x4fa287;if(_0x4e7f06&&!this[_0x411a89(0x650)][_0x4e7f06])throw new J('Instance\x20\x22'+_0x4e7f06+'\x22\x20not\x20found');let _0x14db3c=[];for await(let [_0x2318b6,_0x215b29]of Object[_0x411a89(0x5b8)](this[_0x411a89(0x650)]))if(_0x215b29&&_0x215b29[_0x411a89(0x571)][_0x411a89(0x4c3)]===_0x411a89(0x8b1)){let _0x48d2aa=await this['repository'][_0x411a89(0x29f)]['find'](_0x2318b6);_0x14db3c['push']({'instance':{'instanceName':_0x2318b6,'apikey':_0x48d2aa[_0x411a89(0x649)],'owner':_0x215b29[_0x411a89(0x586)],'profileName':await _0x215b29[_0x411a89(0x6f0)]()||_0x411a89(0x6ef),'profilePictureUrl':_0x215b29[_0x411a89(0x806)]}});}return _0x14db3c[_0x411a89(0x896)](_0x3dea3f=>_0x3dea3f['instance'][_0x411a89(0x86e)]===_0x4e7f06)??_0x14db3c;}async['cleaningUp'](_0x4205e0){const _0x260073=a0_0x4fa287;if(this['db'][_0x260073(0x729)]&&(await this[_0x260073(0x830)][_0x260073(0x6d9)]['connect'](),(await this[_0x260073(0x639)][_0x260073(0x6b3)]())['length']>0x0&&await this[_0x260073(0x639)][_0x260073(0x28a)](_0x4205e0)),this[_0x260073(0x422)][_0x260073(0x729)]){this[_0x260073(0x6bd)]['reference']=_0x4205e0,await this[_0x260073(0x6bd)][_0x260073(0x32f)]();return;}}async[a0_0x4fa287(0x3de)](){const _0x5f0933=a0_0x4fa287;await this[_0x5f0933(0x452)]();let _0x34122e=async _0x21dfff=>{const _0x248249=_0x5f0933;let _0x2da7ad=new Ae(this[_0x248249(0x5ca)],this[_0x248249(0x5e3)],this[_0x248249(0x830)]);_0x2da7ad[_0x248249(0x86e)]=_0x21dfff,await _0x2da7ad[_0x248249(0x5eb)](),this[_0x248249(0x650)][_0x21dfff]=_0x2da7ad;};try{if(this['redis']['ENABLED']){let _0x1a1918=await this[_0x5f0933(0x6bd)][_0x5f0933(0x1cf)]();_0x1a1918?.['length']>0x0&&_0x1a1918[_0x5f0933(0x442)](async _0x11872c=>await _0x34122e(_0x11872c[_0x5f0933(0x916)](':')[0x1]));return;}if(this['db'][_0x5f0933(0x729)]){await this[_0x5f0933(0x830)][_0x5f0933(0x6d9)][_0x5f0933(0x212)]();let _0x110221=await this['dbInstance'][_0x5f0933(0x6b3)]();_0x110221['length']>0x0&&_0x110221[_0x5f0933(0x442)](async _0x423299=>await _0x34122e(_0x423299['namespace'][_0x5f0933(0x2a9)](/^[\w-]+\./,'')));return;}}catch(_0x2c9012){this['logger'][_0x5f0933(0x91c)](_0x2c9012);}}async[a0_0x4fa287(0x91d)](){const _0x2d7bba=a0_0x4fa287;try{let _0x16ec21=await this[_0x2d7bba(0x830)]['auth'][_0x2d7bba(0x3b4)]({'online':!0x1});for(let _0x20a0a8 of _0x16ec21){let _0x2d2773=_0x20a0a8[_0x2d7bba(0x817)];await re[_0x2d7bba(0x74b)](K,_0x2d2773);}console[_0x2d7bba(0x848)](_0x2d7bba(0x2e3)+_0x16ec21[_0x2d7bba(0x875)]);let _0x4d2474={'online':!0x1},_0x49cd8e=await this[_0x2d7bba(0x830)][_0x2d7bba(0x29f)][_0x2d7bba(0x8fb)](_0x4d2474);console[_0x2d7bba(0x848)](_0x2d7bba(0x54b)+_0x49cd8e[_0x2d7bba(0x876)]);}catch(_0x241ab2){console['error']('Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:',_0x241ab2);}}async['InstancesAlterarTodas'](){const _0x6aecf9=a0_0x4fa287;try{let _0x4e86a9={'online':!0x1},_0x172cb6={'online':!0x1,'lastDisconnect':Date[_0x6aecf9(0x6b0)]()},_0x25b333=await this[_0x6aecf9(0x830)][_0x6aecf9(0x29f)][_0x6aecf9(0x44f)](_0x4e86a9,_0x172cb6);await this[_0x6aecf9(0x91d)]();}catch(_0x319371){console[_0x6aecf9(0x91c)](_0x6aecf9(0x499),_0x319371);}}[a0_0x4fa287(0x718)](){const _0x436e14=a0_0x4fa287;this[_0x436e14(0x5e3)]['on']('remove.instance',async _0x4818b3=>{const _0x57fc6f=_0x436e14;try{this[_0x57fc6f(0x650)][_0x4818b3]=void 0x0;}catch{}try{this[_0x57fc6f(0x87c)](_0x4818b3);}finally{this[_0x57fc6f(0x45d)]['warn'](_0x57fc6f(0x82a)+_0x4818b3+_0x57fc6f(0x7ad));}});}[a0_0x4fa287(0x8e4)](){const _0x8522d9=a0_0x4fa287;this[_0x8522d9(0x5e3)]['on'](_0x8522d9(0x35a),async _0xd22d4=>{const _0x4a17cb=_0x8522d9;try{this['waInstances'][_0xd22d4]=void 0x0;}catch{}try{this[_0x4a17cb(0x87c)](_0xd22d4);}finally{this[_0x4a17cb(0x45d)][_0x4a17cb(0x27c)](_0x4a17cb(0x82a)+_0xd22d4+'\x22\x20-\x20NOT\x20CONNECTION');}});}},Wt=class extends _{[a0_0x4fa287(0x50d)](_0x2065b6){return aa(_0x2065b6);}async[a0_0x4fa287(0x423)](_0x3c7f04){const _0x20d81d=a0_0x4fa287;if(_0x3c7f04['length']!==0x0)try{return{'insertCount':(await this[_0x20d81d(0x50d)](_0x3c7f04[0x0][_0x20d81d(0x85f)])[_0x20d81d(0x869)]([..._0x3c7f04]))[_0x20d81d(0x875)]};}catch(_0x581180){return _0x581180;}}async[a0_0x4fa287(0x896)](_0x90fa8d,_0x1a4b67){const _0x251f57=a0_0x4fa287;try{let _0x40e341=this[_0x251f57(0x50d)](_0x1a4b67),_0x5b38ce=I(_0x90fa8d['where']);return await _0x40e341['find'](_0x5b38ce)[_0x251f57(0x264)]({'lastmsg':-0x1})[_0x251f57(0x41a)](_0x90fa8d?.[_0x251f57(0x41a)]??0x0)[_0x251f57(0x7de)]();}catch{return[];}}async[a0_0x4fa287(0x39e)](_0x53cbb4,_0x3761b0){const _0x2cdb23=a0_0x4fa287;try{let _0x349eb9=this[_0x2cdb23(0x50d)](_0x3761b0),_0x5d5c99=I(_0x53cbb4['where']);return _0x5d5c99[_0x2cdb23(0x843)]={'$ne':[]},await _0x349eb9['find'](_0x5d5c99)[_0x2cdb23(0x264)]({'lastmsg':-0x1})[_0x2cdb23(0x41a)](_0x53cbb4?.[_0x2cdb23(0x41a)]??0x0)['lean']();}catch{return[];}}async[a0_0x4fa287(0x909)](_0x32c57e,_0x3aee9e){const _0xf3b3bd=a0_0x4fa287;try{return{'deletedCount':(await this[_0xf3b3bd(0x50d)](_0x3aee9e)[_0xf3b3bd(0x8fb)]({..._0x32c57e['where']}))[_0xf3b3bd(0x8b6)]};}catch(_0x1469e9){return{'error':_0x1469e9?.[_0xf3b3bd(0x644)]()};}}async['deleteAll'](_0x2c843b,_0x1d7d55){const _0x29e87a=a0_0x4fa287;try{return await this[_0x29e87a(0x50d)](_0x1d7d55)[_0x29e87a(0x8fb)]({..._0x2c843b[_0x29e87a(0x79c)]}),[];}catch(_0x304bbf){return{'error':_0x304bbf?.[_0x29e87a(0x644)]()};}}async[a0_0x4fa287(0x6bc)](_0x173127,_0x25cb0c){const _0xc420d5=a0_0x4fa287;try{let _0x381a63=this[_0xc420d5(0x50d)](_0x25cb0c),_0x16fd22=I(_0x173127[_0xc420d5(0x79c)]);return await _0x381a63[_0xc420d5(0x6bc)](_0x16fd22)[_0xc420d5(0x7de)]();}catch{return null;}}async[a0_0x4fa287(0x3b3)](_0x4e656b,_0x658ea8,_0x550163,_0x4e116c,_0x3609b9='$set'){const _0x5bc814=a0_0x4fa287;try{let _0x1e3b42={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x4e116c},_0x58447e=this['getChatModelForOwner'](_0x550163),_0x235bd6=I(_0x4e656b[_0x5bc814(0x79c)]);Object['keys'](_0x658ea8)[_0x5bc814(0x442)](_0x3918c8=>{_0x658ea8[_0x3918c8]==null&&delete _0x658ea8[_0x3918c8];});let _0x3bee80={};return _0x3bee80[_0x3609b9]=_0x658ea8,await _0x58447e[_0x5bc814(0x345)](_0x235bd6,_0x3bee80,_0x1e3b42);}catch(_0x5d8a5a){return console['error'](_0x5d8a5a),null;}}async[a0_0x4fa287(0x385)](_0xcdd701){const _0x2180c9=a0_0x4fa287;try{let _0x43cdf6=this[_0x2180c9(0x50d)](_0xcdd701[0x0][_0x2180c9(0x41f)][_0x2180c9(0x79c)]['owner']),_0x325e30=_0xcdd701['map'](_0x78e16e=>({'updateOne':{'filter':{..._0x78e16e['query'][_0x2180c9(0x79c)]},'update':{'$set':_0x78e16e[_0x2180c9(0x48b)]},'upsert':!0x0}})),_0x3a0f38=await _0x43cdf6[_0x2180c9(0x716)](_0x325e30);return _0x3a0f38[_0x2180c9(0x3f4)]+_0x3a0f38['upsertedCount'];}catch(_0xddad24){return console[_0x2180c9(0x91c)](_0xddad24),0x0;}}async[a0_0x4fa287(0x320)](_0xa2e69f){const _0x8287bf=a0_0x4fa287;try{let _0x456043={'group_isCommunity':'','group_announce':'','group_size':''},_0x1c9518={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0xbf94e8={'$unset':_0x456043};return(await this[_0x8287bf(0x50d)](_0xa2e69f)[_0x8287bf(0x385)](_0x1c9518,_0xbf94e8))[_0x8287bf(0x3f4)];}catch(_0x412242){return console['error']('Error\x20removing\x20unused\x20chat\x20fields:',_0x412242),0x0;}}async['updateMissingEtiquetas'](_0xdb9178){const _0x28ce54=a0_0x4fa287;try{let _0x317ba8=this['getChatModelForOwner'](_0xdb9178),_0x37d38b={'leadInfo.etiquetas':{'$exists':!0x1}},_0x1c4dff={'$set':{'leadInfo.etiquetas':[]}};return(await _0x317ba8[_0x28ce54(0x385)](_0x37d38b,_0x1c4dff))[_0x28ce54(0x3f4)];}catch(_0x8bc3b0){return console[_0x28ce54(0x91c)](_0x8bc3b0),0x0;}}async[a0_0x4fa287(0x6c4)](_0x89ab8c){const _0x571755=a0_0x4fa287;try{let _0x44242f=this[_0x571755(0x50d)](_0x89ab8c),_0x4932d4={'leadInfo.tags':{'$exists':!0x1}},_0x2156fe={'$set':{'leadInfo.tags':[]}};return(await _0x44242f[_0x571755(0x385)](_0x4932d4,_0x2156fe))[_0x571755(0x3f4)];}catch(_0x3f1425){return console['error'](_0x3f1425),0x0;}}async['updateMissingCustomFields'](_0x21371f){const _0x4c8194=a0_0x4fa287;try{let _0x21e57b=this[_0x4c8194(0x50d)](_0x21371f),_0x196fee={'leadInfo.customFields':{'$exists':!0x1}},_0x378172={'$set':{'leadInfo.customFields':[]}};return(await _0x21e57b[_0x4c8194(0x385)](_0x196fee,_0x378172))[_0x4c8194(0x3f4)];}catch(_0x38429e){return console[_0x4c8194(0x91c)](_0x38429e),0x0;}}async[a0_0x4fa287(0x869)](_0x1c92a7,_0x4844b2){const _0x4fc2de=a0_0x4fa287;if(!Array[_0x4fc2de(0x3e8)](_0x1c92a7)||_0x1c92a7[_0x4fc2de(0x875)]===0x0)throw new Error('Nenhum\x20chat\x20fornecido\x20para\x20inserção.');try{return(await this['getChatModelForOwner'](_0x4844b2)[_0x4fc2de(0x869)](_0x1c92a7))[_0x4fc2de(0x875)];}catch(_0x52cfc7){throw console[_0x4fc2de(0x91c)](_0x4fc2de(0x453),_0x52cfc7),_0x52cfc7;}}async[a0_0x4fa287(0x4a1)](_0x4b08cd,_0x28ce59){const _0x46ef42=a0_0x4fa287;try{await this[_0x46ef42(0x50d)](_0x28ce59)['deleteOne']({'_id':_0x4b08cd});}catch(_0x2908ca){throw console['error'](_0x46ef42(0x6f8),_0x2908ca),_0x2908ca;}}},zt=class extends _{constructor(_0xb2b3c6,_0x379a6a,_0x348f0f){const _0x5b60cf=a0_0x4fa287;super(_0x379a6a),this[_0x5b60cf(0x450)]=_0xb2b3c6,this[_0x5b60cf(0x5ca)]=_0x379a6a,this['dbConnection']=_0x348f0f;}async[a0_0x4fa287(0x423)](_0x3c63ad){const _0x4f0d50=a0_0x4fa287;if(_0x3c63ad[_0x4f0d50(0x875)]!==0x0)try{return{'insertCount':(await this[_0x4f0d50(0x450)][_0x4f0d50(0x869)]([..._0x3c63ad]))['length']};}catch(_0x55ca9a){return _0x55ca9a;}}async[a0_0x4fa287(0x48b)](_0x4f99a8,_0x3e54f6){const _0x1d8ad3=a0_0x4fa287;try{let _0x5701e5=I(_0x4f99a8[_0x1d8ad3(0x79c)]);return{'updatedCount':(await this[_0x1d8ad3(0x450)][_0x1d8ad3(0x385)](_0x5701e5,{'$set':_0x3e54f6}))['modifiedCount']};}catch(_0x34062b){return console['error'](_0x1d8ad3(0x8a9),_0x34062b),{'error':_0x34062b[_0x1d8ad3(0x644)]()};}}async[a0_0x4fa287(0x8b7)](_0x25f15d){const _0x555a99=a0_0x4fa287;try{let _0x371d92={'_id':{'$in':_0x25f15d}};return await this[_0x555a99(0x450)][_0x555a99(0x896)](_0x371d92)[_0x555a99(0x7de)]();}catch(_0x209ff4){return console[_0x555a99(0x91c)](_0x555a99(0x239),_0x209ff4),[];}}async[a0_0x4fa287(0x909)](_0x185440){const _0x4be842=a0_0x4fa287;try{return{'deletedCount':(await this[_0x4be842(0x450)]['deleteMany']({..._0x185440[_0x4be842(0x79c)]}))[_0x4be842(0x8b6)]};}catch(_0x4deeab){return{'error':_0x4deeab?.[_0x4be842(0x644)]()};}}async['find'](_0x4f9487){const _0x41e3a7=a0_0x4fa287;try{let _0x139ef7=I(_0x4f9487[_0x41e3a7(0x79c)]);return await this[_0x41e3a7(0x450)]['find'](_0x139ef7)[_0x41e3a7(0x41a)](_0x4f9487?.[_0x41e3a7(0x41a)]??0x0)[_0x41e3a7(0x7de)]();}catch{return[];}}async[a0_0x4fa287(0x6bc)](_0xca7d83){const _0x95f6da=a0_0x4fa287;try{let _0xfd9ec2=I(_0xca7d83[_0x95f6da(0x79c)]);return await this[_0x95f6da(0x450)][_0x95f6da(0x6bc)](_0xfd9ec2)[_0x95f6da(0x7de)]();}catch{return null;}}},Ht=class extends _{[a0_0x4fa287(0x73e)](_0x5f1ffd){return Na(_0x5f1ffd);}async[a0_0x4fa287(0x3b3)](_0x34e7ab,_0x17311f,_0x4fb7a6,_0x58d9fc){const _0x845b43=a0_0x4fa287;try{let _0x2b9c92={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x58d9fc},_0xa3167a=this[_0x845b43(0x73e)](_0x4fb7a6),_0x1cc7f9=I(_0x34e7ab[_0x845b43(0x79c)]);return await _0xa3167a[_0x845b43(0x345)](_0x1cc7f9,{'$set':_0x17311f},_0x2b9c92);}catch(_0x1344ae){return console[_0x845b43(0x91c)](_0x1344ae),null;}}async[a0_0x4fa287(0x896)](_0x4bd8dd,_0x35f40a){const _0x51eaac=a0_0x4fa287;try{let _0x1f19a0=this[_0x51eaac(0x73e)](_0x35f40a),_0x1c3f87=I(_0x4bd8dd[_0x51eaac(0x79c)]);return await _0x1f19a0[_0x51eaac(0x896)](_0x1c3f87);}catch(_0x3b8e3d){console[_0x51eaac(0x91c)](_0x3b8e3d);}}async[a0_0x4fa287(0x909)](_0xb2fb0c,_0x4504b3){const _0x5e32ff=a0_0x4fa287;try{let _0x3f28b2=this[_0x5e32ff(0x73e)](_0x4504b3),_0x535f92=I(_0xb2fb0c[_0x5e32ff(0x79c)]);await _0x3f28b2[_0x5e32ff(0x8fb)](_0x535f92);}catch(_0x42f627){console['error'](_0x42f627);}}async['deleteAll'](_0x3f8fcc){const _0x5861da=a0_0x4fa287;try{return await this['getLabelModelForOwner'](_0x3f8fcc)[_0x5861da(0x516)][_0x5861da(0x289)](),{'success':!0x0};}catch(_0x266228){return console['error'](_0x266228),{'success':!0x1,'error':_0x266228};}}},Kt=class{constructor(_0x2b2d47){const _0x5bb149=a0_0x4fa287;this[_0x5bb149(0x5d7)]=_0x2b2d47;}async[a0_0x4fa287(0x58e)]({instanceName:_0x1c0da8},_0x283444){const _0x5278ef=a0_0x4fa287;return await this[_0x5278ef(0x5d7)][_0x5278ef(0x650)][_0x1c0da8][_0x5278ef(0x58e)](_0x283444);}async[a0_0x4fa287(0x488)]({instanceName:_0x54a195},_0x4d6891){const _0x46290=a0_0x4fa287;return await this[_0x46290(0x5d7)][_0x46290(0x650)][_0x54a195][_0x46290(0x488)](_0x4d6891);}async[a0_0x4fa287(0x5e4)]({instanceName:_0x376119},_0x3f4499){const _0xbe886=a0_0x4fa287;return await this[_0xbe886(0x5d7)][_0xbe886(0x650)][_0x376119][_0xbe886(0x5e4)](_0x3f4499);}async[a0_0x4fa287(0x801)]({instanceName:_0x2936dd},_0x2815f6){const _0x550052=a0_0x4fa287;return await this[_0x550052(0x5d7)]['waInstances'][_0x2936dd]['markMessageAsRead'](_0x2815f6);}async[a0_0x4fa287(0x772)]({instanceName:_0x230b65},_0x27cec3){const _0x17da6b=a0_0x4fa287;return await this[_0x17da6b(0x5d7)]['waInstances'][_0x230b65]['archiveChat'](_0x27cec3);}async['deleteMessage']({instanceName:_0x1c7de5},_0x5785de){const _0x132755=a0_0x4fa287;return await this[_0x132755(0x5d7)][_0x132755(0x650)][_0x1c7de5]['deleteMessage'](_0x5785de);}async['fetchProfilePicture']({instanceName:_0x6f343a},_0x1209db){const _0x6e41c8=a0_0x4fa287;return await this['waMonitor'][_0x6e41c8(0x650)][_0x6f343a]['profilePicture'](_0x1209db[_0x6e41c8(0x3c7)]);}async[a0_0x4fa287(0x4da)]({instanceName:_0x430bf8},_0x19213f){const _0x139bcb=a0_0x4fa287;return await this[_0x139bcb(0x5d7)]['waInstances'][_0x430bf8][_0x139bcb(0x4da)](_0x19213f[_0x139bcb(0x3c7)]);}async['updatePresence']({instanceName:_0x1429c8},_0x37481a){const _0x1f16bb=a0_0x4fa287;return await this[_0x1f16bb(0x5d7)]['waInstances'][_0x1429c8]['updatePresence'](_0x37481a);}async['fetchContacts']({instanceName:_0x47b0af},_0x316cdd){const _0x385126=a0_0x4fa287;return await this[_0x385126(0x5d7)][_0x385126(0x650)][_0x47b0af][_0x385126(0x482)](_0x316cdd);}async['getBase64FromMediaMessage']({instanceName:_0x4c02aa},_0x5bdde8){const _0x29a1e6=a0_0x4fa287;return await this['waMonitor'][_0x29a1e6(0x650)][_0x4c02aa]['getBase64FromMediaMessage'](_0x5bdde8);}async[a0_0x4fa287(0x3dd)]({instanceName:_0x1e0d93},_0x14936d){const _0x277d6c=a0_0x4fa287;return await this[_0x277d6c(0x5d7)]['waInstances'][_0x1e0d93][_0x277d6c(0x3dd)](_0x14936d);}async[a0_0x4fa287(0x73a)]({instanceName:_0xcc6134}){const _0x38f04a=a0_0x4fa287;return await this[_0x38f04a(0x5d7)][_0x38f04a(0x650)][_0xcc6134][_0x38f04a(0x73a)]();}async['fetchChats']({instanceName:_0x52ada2}){const _0x93acae=a0_0x4fa287;return await this[_0x93acae(0x5d7)]['waInstances'][_0x52ada2][_0x93acae(0x26b)]();}async[a0_0x4fa287(0x26c)]({instanceName:_0x2cd620}){const _0x54894f=a0_0x4fa287;return await this[_0x54894f(0x5d7)][_0x54894f(0x650)][_0x2cd620][_0x54894f(0x26c)]();}async['updatePrivacySettings']({instanceName:_0x5e9902},_0x21088d){const _0x163edf=a0_0x4fa287;return await this[_0x163edf(0x5d7)][_0x163edf(0x650)][_0x5e9902][_0x163edf(0x919)](_0x21088d);}async[a0_0x4fa287(0x341)]({instanceName:_0x5be785},_0xc12cb2){const _0xee345f=a0_0x4fa287;return await this[_0xee345f(0x5d7)][_0xee345f(0x650)][_0x5be785][_0xee345f(0x341)](_0xc12cb2[_0xee345f(0x3c7)]);}async['updateProfileName']({instanceName:_0x2821f8},_0x3df3dd){const _0x3d38a8=a0_0x4fa287;return await this[_0x3d38a8(0x5d7)][_0x3d38a8(0x650)][_0x2821f8][_0x3d38a8(0x349)](_0x3df3dd[_0x3d38a8(0x378)]);}async[a0_0x4fa287(0x26a)]({instanceName:_0x4acaa9},_0x4103f6){const _0x110f0c=a0_0x4fa287;return await this['waMonitor'][_0x110f0c(0x650)][_0x4acaa9][_0x110f0c(0x26a)](_0x4103f6[_0x110f0c(0x370)]);}async[a0_0x4fa287(0x249)]({instanceName:_0x88c057},_0x3e0183){const _0x4d8a5f=a0_0x4fa287;return await this[_0x4d8a5f(0x5d7)][_0x4d8a5f(0x650)][_0x88c057][_0x4d8a5f(0x249)](_0x3e0183[_0x4d8a5f(0x5cf)]);}async[a0_0x4fa287(0x3f6)]({instanceName:_0x18a10a},_0x2526c0){const _0x26ce89=a0_0x4fa287;return await this[_0x26ce89(0x5d7)][_0x26ce89(0x650)][_0x18a10a][_0x26ce89(0x3f6)]();}},Qt=require(a0_0x4fa287(0x59a)),Yt=class u{constructor(_0x2ec7cd,_0x248e31,_0x205cd2,_0x3a6663,_0x4eca74){const _0x10700a=a0_0x4fa287;this[_0x10700a(0x5d7)]=_0x2ec7cd,this[_0x10700a(0x5ca)]=_0x248e31,this[_0x10700a(0x830)]=_0x205cd2,this[_0x10700a(0x5e3)]=_0x3a6663,this[_0x10700a(0x297)]=_0x4eca74,this[_0x10700a(0x45d)]=new $(u[_0x10700a(0x378)]);}async[a0_0x4fa287(0x559)]({instanceName:_0x4ac4cf,apikey:_0x489ee7,number:_0x1e1649,proxy:_0x4d962c=!0x0}){const _0x5ba473=a0_0x4fa287;try{let _0x9b5d5e=new Ae(this['configService'],this[_0x5ba473(0x5e3)],this[_0x5ba473(0x830)]);_0x9b5d5e['instanceName']=_0x4ac4cf,this[_0x5ba473(0x5d7)][_0x5ba473(0x650)][_0x9b5d5e['instanceName']]=_0x9b5d5e;let _0x3b2cb4={};_0x489ee7?(await this[_0x5ba473(0x830)][_0x5ba473(0x29f)]['create']({'apikey':_0x489ee7},_0x4ac4cf),_0x3b2cb4[_0x5ba473(0x649)]=_0x489ee7):_0x3b2cb4=await this['authService'][_0x5ba473(0x3e5)]({'instanceName':_0x9b5d5e[_0x5ba473(0x86e)]});let _0x1f4610;if(_0x1e1649){if(_0x1f4610=await this[_0x5ba473(0x34c)](_0x1e1649),_0x1f4610[_0x5ba473(0x91c)])throw new x(_0x1f4610[_0x5ba473(0x91c)][_0x5ba473(0x644)]());_0x1e1649=_0x1f4610[_0x5ba473(0x3c7)];}let _0x5e8826;return await _0x9b5d5e[_0x5ba473(0x5eb)](_0x1e1649),await(0x0,Qt['delay'])(0xfa0),_0x1e1649&&await(0x0,Qt['delay'])(0xbb8),_0x5e8826=_0x9b5d5e['qrCode'],{'instance':{'instanceName':_0x9b5d5e[_0x5ba473(0x86e)],'status':_0x5ba473(0x5d6)},'hash':_0x3b2cb4,'qrcode':_0x5e8826};}catch(_0x4d724e){throw this[_0x5ba473(0x45d)][_0x5ba473(0x91c)](_0x4d724e),_0x4d724e;}}async[a0_0x4fa287(0x23b)]({instanceName:_0x5d5f22,number:_0x2cd00c=null}){const _0x47610f=a0_0x4fa287;try{let _0x34363b=this[_0x47610f(0x5d7)][_0x47610f(0x650)][_0x5d5f22];switch(_0x34363b?.['connectionStatus']?.[_0x47610f(0x4c3)]){case _0x47610f(0x23f):return await _0x34363b['connectToWhatsapp'](_0x2cd00c),await(0x0,Qt['delay'])(0x7d0),_0x34363b[_0x47610f(0x67b)];case'connecting':return _0x34363b[_0x47610f(0x67b)];default:return await this['connectionState']({'instanceName':_0x5d5f22});}}catch(_0x34b18d){this[_0x47610f(0x45d)][_0x47610f(0x848)](_0x34b18d);}}async['connectionState']({instanceName:_0xd45e6e}){const _0x210df7=a0_0x4fa287;let _0x4a9fc3=this[_0x210df7(0x5d7)][_0x210df7(0x650)][_0xd45e6e]['connectionStatus'],_0x2b950e=null;_0x4a9fc3[_0x210df7(0x4c3)]==='open'&&_0xd45e6e&&(_0x2b950e=await this[_0x210df7(0x5d7)][_0x210df7(0x3d6)](_0xd45e6e));let _0x24f44a=null;return _0x4a9fc3[_0x210df7(0x4c3)]===_0x210df7(0x4c8)&&_0xd45e6e&&(_0x24f44a=this[_0x210df7(0x5d7)][_0x210df7(0x650)][_0xd45e6e][_0x210df7(0x67b)]),{'instance':_0xd45e6e,'connectionStatus':_0x4a9fc3,'instanceInfo':_0x2b950e,'qrcode':_0x24f44a};}async[a0_0x4fa287(0x34c)](_0x219b22){const _0x5043bf=a0_0x4fa287;_0x219b22=_0x219b22[_0x5043bf(0x2a9)](/\D/g,'');let _0x284217=Object[_0x5043bf(0x647)](this['waMonitor'][_0x5043bf(0x650)])['filter'](_0x292d33=>{const _0xb2f4ec=_0x5043bf;let _0x2a2afe=this['waMonitor'][_0xb2f4ec(0x650)][_0x292d33];return _0x2a2afe&&_0x2a2afe['connectionStatus']&&_0x2a2afe[_0xb2f4ec(0x571)]['state']===_0xb2f4ec(0x8b1);});if(_0x284217['length']===0x0)return{'number':this[_0x5043bf(0x678)](_0x219b22)};let _0x2f1be3=Math[_0x5043bf(0x768)](Math[_0x5043bf(0x904)]()*_0x284217[_0x5043bf(0x875)]),_0x353b07=_0x284217[_0x2f1be3];try{let _0x110ff9=(await this[_0x5043bf(0x5d7)][_0x5043bf(0x650)][_0x353b07][_0x5043bf(0x488)]({'numbers':[_0x219b22]}))[_0x5043bf(0x4e8)]();return _0x110ff9[_0x5043bf(0x209)]?{'number':_0x110ff9[_0x5043bf(0x35f)][_0x5043bf(0x2a9)](_0x5043bf(0x37e),'')}:{'number':_0x219b22,'error':_0x5043bf(0x54a)};}catch(_0x2d191e){return this['logger']['error'](_0x5043bf(0x27a)+_0x2d191e),{'number':_0x219b22,'error':_0x5043bf(0x746)};}}[a0_0x4fa287(0x678)](_0x524583){const _0x112226=a0_0x4fa287;let _0xc74082=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x112226(0x323)](_0x524583);if(_0xc74082&&_0xc74082[0x1]==='55'){let _0x42ec35=_0xc74082[0x2],_0x1fd8cc=_0xc74082[0x3],_0x22e721=_0xc74082[0x4];if(parseInt(_0x42ec35)>=0x1f&&_0x1fd8cc==='9')return _0xc74082[0x1]+_0x42ec35+_0x22e721;}return _0x524583;}async[a0_0x4fa287(0x6c3)]({instanceName:_0x1921ef}){const _0x3aba9a=a0_0x4fa287;try{return this['waMonitor']['waInstances'][_0x1921ef]?.[_0x3aba9a(0x399)]?.['ws']?.['close'](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0x3aba9a(0x2fb)}};}catch(_0x35b44f){this[_0x3aba9a(0x45d)][_0x3aba9a(0x91c)](_0x35b44f);}}async['fetchInstances']({instanceName:_0x2fe602}){const _0x7e51b5=a0_0x4fa287;return _0x2fe602?this[_0x7e51b5(0x5d7)][_0x7e51b5(0x3d6)](_0x2fe602):this[_0x7e51b5(0x5d7)]['instanceInfo']();}async[a0_0x4fa287(0x55a)]({instanceName:_0x46b6c1}){const _0x51f0a9=a0_0x4fa287;try{return await this[_0x51f0a9(0x5d7)][_0x51f0a9(0x650)][_0x46b6c1]?.[_0x51f0a9(0x399)]?.[_0x51f0a9(0x55a)](_0x51f0a9(0x284)+_0x46b6c1),{'error':!0x1,'message':_0x51f0a9(0x758)};}catch(_0x542a87){throw new x(_0x542a87[_0x51f0a9(0x644)]());}}async[a0_0x4fa287(0x365)]({instanceName:_0x4159be}){const _0x3f1b45=a0_0x4fa287;if((await this[_0x3f1b45(0x2a4)]({'instanceName':_0x4159be}))[_0x3f1b45(0x571)]['state']==='open')throw new m([_0x3f1b45(0x6f5),_0x3f1b45(0x4d9)]);try{return delete this[_0x3f1b45(0x5d7)][_0x3f1b45(0x650)][_0x4159be],{'error':!0x1,'message':_0x3f1b45(0x6ec)};}catch(_0x169d41){throw new m(_0x169d41[_0x3f1b45(0x644)]());}}},ne=require('class-validator'),Xt=class{constructor(_0x506901){const _0xefe84a=a0_0x4fa287;this[_0xefe84a(0x5d7)]=_0x506901;}async[a0_0x4fa287(0x64c)]({instanceName:_0x223677},_0x3ca050){const _0x2d3cc8=a0_0x4fa287;return await this['waMonitor'][_0x2d3cc8(0x650)][_0x223677]['textMessage'](_0x3ca050);}async[a0_0x4fa287(0x7bf)]({instanceName:_0x3869b4},_0x59a842){const _0x27b5f2=a0_0x4fa287;return await this[_0x27b5f2(0x5d7)][_0x27b5f2(0x650)][_0x3869b4]['menuMessage'](_0x59a842);}async[a0_0x4fa287(0x437)]({instanceName:_0x249c06},_0x568d29){const _0xcfb87=a0_0x4fa287;if((0x0,ne[_0xcfb87(0x42d)])(_0x568d29?.['mediaMessage']?.['media'])&&!_0x568d29?.[_0xcfb87(0x867)]?.[_0xcfb87(0x61d)])throw new m(_0xcfb87(0x32c));if((0x0,ne[_0xcfb87(0x52c)])(_0x568d29?.[_0xcfb87(0x867)]?.[_0xcfb87(0x5f4)])||(0x0,ne[_0xcfb87(0x42d)])(_0x568d29?.[_0xcfb87(0x867)]?.['media']))return await this['waMonitor'][_0xcfb87(0x650)][_0x249c06][_0xcfb87(0x867)](_0x568d29);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x4fa287(0x326)]({instanceName:_0x15d305},_0x1282e5){const _0x4df171=a0_0x4fa287;if((0x0,ne['isURL'])(_0x1282e5[_0x4df171(0x230)][_0x4df171(0x515)])||(0x0,ne[_0x4df171(0x42d)])(_0x1282e5[_0x4df171(0x230)][_0x4df171(0x515)]))return await this[_0x4df171(0x5d7)][_0x4df171(0x650)][_0x15d305][_0x4df171(0x810)](_0x1282e5);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async['sendWhatsAppAudio']({instanceName:_0x5a8b90},_0x22086c){const _0x59569f=a0_0x4fa287;if((0x0,ne[_0x59569f(0x52c)])(_0x22086c[_0x59569f(0x87e)]['audio'])||(0x0,ne[_0x59569f(0x42d)])(_0x22086c[_0x59569f(0x87e)][_0x59569f(0x402)]))return await this['waMonitor'][_0x59569f(0x650)][_0x5a8b90]['audioWhatsapp'](_0x22086c);throw new m(_0x59569f(0x5a2));}async[a0_0x4fa287(0x698)]({instanceName:_0x4c9e07},_0xae4d9f){const _0x43b1dd=a0_0x4fa287;if((0x0,ne[_0x43b1dd(0x42d)])(_0xae4d9f[_0x43b1dd(0x575)]['mediaMessage']?.[_0x43b1dd(0x5f4)])&&!_0xae4d9f[_0x43b1dd(0x575)][_0x43b1dd(0x867)]?.['fileName'])throw new m(_0x43b1dd(0x32c));return await this[_0x43b1dd(0x5d7)][_0x43b1dd(0x650)][_0x4c9e07][_0x43b1dd(0x575)](_0xae4d9f);}async[a0_0x4fa287(0x436)]({instanceName:_0x2c33a5},_0x57d635){const _0x11cb9c=a0_0x4fa287;return await this['waMonitor'][_0x11cb9c(0x650)][_0x2c33a5][_0x11cb9c(0x60a)](_0x57d635);}async[a0_0x4fa287(0x3da)]({instanceName:_0x13215d},_0x547653){const _0x263876=a0_0x4fa287;return await this[_0x263876(0x5d7)][_0x263876(0x650)][_0x13215d][_0x263876(0x3a6)](_0x547653);}async[a0_0x4fa287(0x367)]({instanceName:_0x1d4a84},_0x302289){const _0x23c284=a0_0x4fa287;return await this[_0x23c284(0x5d7)][_0x23c284(0x650)][_0x1d4a84]['listMessage'](_0x302289);}async['sendContact']({instanceName:_0x169144},_0x30a909){const _0x2add93=a0_0x4fa287;return await this[_0x2add93(0x5d7)][_0x2add93(0x650)][_0x169144]['contactMessage'](_0x30a909);}async[a0_0x4fa287(0x491)]({instanceName:_0x1dd2f8},_0x196be1){const _0x29bf3e=a0_0x4fa287;if(!_0x196be1['reactionMessage'][_0x29bf3e(0x3f0)][_0x29bf3e(0x665)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x29bf3e(0x344));return await this['waMonitor'][_0x29bf3e(0x650)][_0x1dd2f8][_0x29bf3e(0x5d3)](_0x196be1);}async[a0_0x4fa287(0x5e6)]({instanceName:_0x5b58cd},_0x590386){const _0xf6e449=a0_0x4fa287;return await this[_0xf6e449(0x5d7)][_0xf6e449(0x650)][_0x5b58cd]['statusMessage'](_0x590386);}},Li=require(a0_0x4fa287(0x21b)),js=require(a0_0x4fa287(0x611)),Zt=class u{constructor(_0x236122,_0x2c0736,_0x195ae9){const _0x14ef11=a0_0x4fa287;this[_0x14ef11(0x5ca)]=_0x236122,this[_0x14ef11(0x5d7)]=_0x2c0736,this[_0x14ef11(0x830)]=_0x195ae9,this[_0x14ef11(0x45d)]=new $(u[_0x14ef11(0x378)]);}async[a0_0x4fa287(0x7e0)](_0x18f1dd){const _0x33a19a=a0_0x4fa287;let _0x346155=this[_0x33a19a(0x5ca)]['get'](_0x33a19a(0x736))['JWT'],_0x1b7df1=(0x0,Li[_0x33a19a(0x335)])({'instanceName':_0x18f1dd['instanceName'],'apiName':ct,'tokenId':(0x0,js['v4'])()},_0x346155[_0x33a19a(0x4d6)],{'expiresIn':_0x346155[_0x33a19a(0x39d)],'encoding':'utf8','subject':_0x33a19a(0x67a)}),_0x5237bc=await this[_0x33a19a(0x830)][_0x33a19a(0x29f)][_0x33a19a(0x220)]({'jwt':_0x1b7df1},_0x18f1dd[_0x33a19a(0x86e)]);if(_0x5237bc[_0x33a19a(0x91c)])throw this[_0x33a19a(0x45d)][_0x33a19a(0x91c)]({'localError':u[_0x33a19a(0x378)]+'.jwt','error':_0x5237bc[_0x33a19a(0x91c)]}),new m(_0x33a19a(0x526),_0x5237bc['error']?.['toString']());return{'jwt':_0x1b7df1};}async[a0_0x4fa287(0x649)](_0x2baf21){const _0x1c3b49=a0_0x4fa287;let _0xa65e77=(0x0,js['v4'])()['toUpperCase'](),_0x2157a9=await this['repository'][_0x1c3b49(0x29f)][_0x1c3b49(0x220)]({'apikey':_0xa65e77},_0x2baf21['instanceName']);if(_0x2157a9[_0x1c3b49(0x91c)])throw this[_0x1c3b49(0x45d)][_0x1c3b49(0x91c)]({'localError':u['name']+_0x1c3b49(0x79d),'error':_0x2157a9['error']}),new m(_0x1c3b49(0x526),_0x2157a9[_0x1c3b49(0x91c)]?.[_0x1c3b49(0x644)]());return{'apikey':_0xa65e77};}async[a0_0x4fa287(0x3e5)](_0x2039fd){const _0x27c9ab=a0_0x4fa287;let _0x4d5c7b=this[_0x27c9ab(0x5ca)][_0x27c9ab(0x37b)](_0x27c9ab(0x736));return await this[_0x4d5c7b[_0x27c9ab(0x333)]](_0x2039fd);}},es=class{constructor(_0x45b7fc){const _0x919402=a0_0x4fa287;this[_0x919402(0x5d7)]=_0x45b7fc;}async[a0_0x4fa287(0x2e8)](_0x4f680a,_0x495193){const _0x464ed7=a0_0x4fa287;return await this['waMonitor'][_0x464ed7(0x650)][_0x4f680a['instanceName']]['createGroup'](_0x495193);}async[a0_0x4fa287(0x691)](_0x569f46,_0xdad7bf){const _0x465b62=a0_0x4fa287;return await this[_0x465b62(0x5d7)][_0x465b62(0x650)][_0x569f46[_0x465b62(0x86e)]]['updateGroupPicture'](_0xdad7bf);}async[a0_0x4fa287(0x6ca)](_0x470702,_0x5b5b78){const _0xaa8350=a0_0x4fa287;return await this['waMonitor'][_0xaa8350(0x650)][_0x470702[_0xaa8350(0x86e)]][_0xaa8350(0x6ca)](_0x5b5b78);}async[a0_0x4fa287(0x265)](_0x3262c9,_0x247d27){const _0xd04d1d=a0_0x4fa287;return await this['waMonitor'][_0xd04d1d(0x650)][_0x3262c9['instanceName']]['groupName'](_0x247d27);}async[a0_0x4fa287(0x6b9)](_0x5abe08,_0x1ce30b){const _0x3eed7a=a0_0x4fa287;return await this[_0x3eed7a(0x5d7)][_0x3eed7a(0x650)][_0x5abe08[_0x3eed7a(0x86e)]][_0x3eed7a(0x6b9)](_0x1ce30b);}async[a0_0x4fa287(0x8a4)](_0x5205dd,_0x238df1){const _0xed5f37=a0_0x4fa287;return await this[_0xed5f37(0x5d7)][_0xed5f37(0x650)][_0x5205dd[_0xed5f37(0x86e)]][_0xed5f37(0x8a4)](_0x238df1);}async['findGroupInfo'](_0x404a63,_0x16d2f3){const _0x274377=a0_0x4fa287;return await this[_0x274377(0x5d7)][_0x274377(0x650)][_0x404a63[_0x274377(0x86e)]][_0x274377(0x2dd)](_0x16d2f3);}async['findGroups'](_0x41a970){const _0x4ae275=a0_0x4fa287;return await this[_0x4ae275(0x5d7)][_0x4ae275(0x650)][_0x41a970[_0x4ae275(0x86e)]][_0x4ae275(0x761)]();}async[a0_0x4fa287(0x2ab)](_0xfc6536,_0x3b1ed9){const _0x2924d7=a0_0x4fa287;return await this['waMonitor'][_0x2924d7(0x650)][_0xfc6536[_0x2924d7(0x86e)]][_0x2924d7(0x2ab)](_0x3b1ed9);}async[a0_0x4fa287(0x41e)](_0x22bc67,_0x576947){const _0x35b0d8=a0_0x4fa287;return await this[_0x35b0d8(0x5d7)]['waInstances'][_0x22bc67[_0x35b0d8(0x86e)]][_0x35b0d8(0x41e)](_0x576947);}async['groupGetInviteInfo'](_0x5495af,_0xfaa858){const _0x1be7e8=a0_0x4fa287;return await this[_0x1be7e8(0x5d7)][_0x1be7e8(0x650)][_0x5495af['instanceName']][_0x1be7e8(0x880)](_0xfaa858);}async[a0_0x4fa287(0x7c9)](_0x4a7a18,_0x21b34e){return await this['waMonitor']['waInstances'][_0x4a7a18['instanceName']]['revokeInviteCode'](_0x21b34e);}async['findParticipants'](_0x3134de,_0x5572dc){const _0x4c2f3e=a0_0x4fa287;return await this[_0x4c2f3e(0x5d7)][_0x4c2f3e(0x650)][_0x3134de[_0x4c2f3e(0x86e)]][_0x4c2f3e(0x474)](_0x5572dc);}async[a0_0x4fa287(0x7bc)](_0x5f214c,_0x6d343){const _0x346037=a0_0x4fa287;return await this[_0x346037(0x5d7)][_0x346037(0x650)][_0x5f214c[_0x346037(0x86e)]][_0x346037(0x67d)](_0x6d343);}async[a0_0x4fa287(0x63e)](_0x22fa27,_0x1c8b21){const _0x76de74=a0_0x4fa287;return await this[_0x76de74(0x5d7)]['waInstances'][_0x22fa27['instanceName']][_0x76de74(0x63e)](_0x1c8b21);}async[a0_0x4fa287(0x433)](_0x207e01,_0x5e3945){const _0x536ca5=a0_0x4fa287;return await this[_0x536ca5(0x5d7)][_0x536ca5(0x650)][_0x207e01[_0x536ca5(0x86e)]][_0x536ca5(0x433)](_0x5e3945);}},ts=class{constructor(_0x5187d3){const _0x1345d7=a0_0x4fa287;this[_0x1345d7(0x5d7)]=_0x5187d3;}[a0_0x4fa287(0x220)](_0x47609f,_0x3d0aa3){const _0x167035=a0_0x4fa287;return this[_0x167035(0x5d7)][_0x167035(0x650)][_0x47609f['instanceName']][_0x167035(0x645)](_0x3d0aa3);}async[a0_0x4fa287(0x896)](_0x2c22d7){const _0x4148fb=a0_0x4fa287;try{return await this[_0x4148fb(0x5d7)][_0x4148fb(0x650)][_0x2c22d7['instanceName']][_0x4148fb(0x455)]();}catch{return{'enabled':null,'url':''};}}},Vp=new $(a0_0x4fa287(0x31c)),ss=class{constructor(_0xe6e29){const _0xa6b8d8=a0_0x4fa287;this[_0xa6b8d8(0x5d7)]=_0xe6e29;}async[a0_0x4fa287(0x5c1)](_0x3e7e40,_0x45d668){const _0x5c3d25=a0_0x4fa287;return await this[_0x5c3d25(0x5d7)]['waInstances'][_0x3e7e40[_0x5c3d25(0x86e)]][_0x5c3d25(0x5c1)](_0x45d668);}async['getScheduleMessage'](_0x38c20a){const _0x4af64a=a0_0x4fa287;return await this[_0x4af64a(0x5d7)]['waInstances'][_0x38c20a['instanceName']]['getScheduleMessage']();}async['deleteDoneMessages'](_0x3732bf){const _0x32b203=a0_0x4fa287;return await this['waMonitor'][_0x32b203(0x650)][_0x3732bf['instanceName']][_0x32b203(0x477)]();}async[a0_0x4fa287(0x4c5)](_0x513fb3){const _0xc9f614=a0_0x4fa287;return await this[_0xc9f614(0x5d7)][_0xc9f614(0x650)][_0x513fb3[_0xc9f614(0x86e)]][_0xc9f614(0x4c5)]();}async[a0_0x4fa287(0x2da)](_0x53c8c0,_0xb6e41b){const _0x493e4e=a0_0x4fa287;return await this[_0x493e4e(0x5d7)]['waInstances'][_0x53c8c0[_0x493e4e(0x86e)]][_0x493e4e(0x2da)](_0xb6e41b);}async[a0_0x4fa287(0x315)](_0x3e2149,_0x1e5cf0){const _0x476dee=a0_0x4fa287;return await this[_0x476dee(0x5d7)][_0x476dee(0x650)][_0x3e2149['instanceName']]['updateCustomFields'](_0x1e5cf0);}async[a0_0x4fa287(0x2be)](_0x20b47c,_0x5fcf6c){const _0x359f2c=a0_0x4fa287;return await this[_0x359f2c(0x5d7)][_0x359f2c(0x650)][_0x20b47c[_0x359f2c(0x86e)]]['updateAutoCompleteMessages'](_0x5fcf6c);}async['updateFlowConfig'](_0x58164b,_0x5d84ff){const _0x187fd7=a0_0x4fa287;return await this[_0x187fd7(0x5d7)][_0x187fd7(0x650)][_0x58164b['instanceName']][_0x187fd7(0x3a3)](_0x5d84ff);}async[a0_0x4fa287(0x730)](_0x2d4d72,_0x3256d6){const _0x57713a=a0_0x4fa287;return await this['waMonitor'][_0x57713a(0x650)][_0x2d4d72[_0x57713a(0x86e)]][_0x57713a(0x730)](_0x3256d6);}async['startFlowWebhook'](_0xad9a7b,_0x1b8b39,_0x423bb9,_0xbbe068){const _0x69ed9f=a0_0x4fa287;return await this[_0x69ed9f(0x5d7)][_0x69ed9f(0x650)][_0xad9a7b][_0x69ed9f(0x22a)](_0x1b8b39,_0x423bb9,_0xbbe068);}async[a0_0x4fa287(0x543)](_0x4314b9,_0xfc2075){const _0x318bc8=a0_0x4fa287;return await this[_0x318bc8(0x5d7)][_0x318bc8(0x650)][_0x4314b9[_0x318bc8(0x86e)]]['getConversation'](_0xfc2075);}async[a0_0x4fa287(0x86b)](_0x870893,_0x561937){const _0x50d23b=a0_0x4fa287;return await this[_0x50d23b(0x5d7)]['waInstances'][_0x870893[_0x50d23b(0x86e)]][_0x50d23b(0x86b)](_0x561937);}async['editConversation'](_0x3c8d38,_0x2a668f){const _0x339338=a0_0x4fa287;return await this[_0x339338(0x5d7)][_0x339338(0x650)][_0x3c8d38[_0x339338(0x86e)]][_0x339338(0x745)](_0x2a668f);}async[a0_0x4fa287(0x624)](_0x44cef7,_0x13e3dc){const _0x5a56b0=a0_0x4fa287;return await this[_0x5a56b0(0x5d7)][_0x5a56b0(0x650)][_0x44cef7[_0x5a56b0(0x86e)]][_0x5a56b0(0x624)](_0x13e3dc);}async[a0_0x4fa287(0x927)](_0x40828a,_0x57f89f){const _0x31265b=a0_0x4fa287;return await this[_0x31265b(0x5d7)][_0x31265b(0x650)][_0x40828a[_0x31265b(0x86e)]][_0x31265b(0x927)](_0x57f89f[_0x31265b(0x817)]);}async['createFlow'](_0x1593f9,_0xca2f64,_0xe795a1){const _0x2dfcb7=a0_0x4fa287;return await this[_0x2dfcb7(0x5d7)][_0x2dfcb7(0x650)][_0x1593f9[_0x2dfcb7(0x86e)]][_0x2dfcb7(0x414)](_0xca2f64,_0xe795a1);}async[a0_0x4fa287(0x294)](_0x603285,_0x1ddedd,_0x52bf54){const _0x3448ce=a0_0x4fa287;return await this[_0x3448ce(0x5d7)][_0x3448ce(0x650)][_0x603285[_0x3448ce(0x86e)]][_0x3448ce(0x294)](_0x1ddedd,_0x52bf54);}async[a0_0x4fa287(0x20b)](_0x2d28ff,_0x9a4b5b){const _0x26e058=a0_0x4fa287;return await this[_0x26e058(0x5d7)]['waInstances'][_0x2d28ff['instanceName']]['editFlowBlock'](_0x9a4b5b);}async[a0_0x4fa287(0x7ce)](_0x288740,_0x92577d){const _0x2d6c87=a0_0x4fa287;return await this[_0x2d6c87(0x5d7)][_0x2d6c87(0x650)][_0x288740[_0x2d6c87(0x86e)]][_0x2d6c87(0x7ce)](_0x92577d);}async[a0_0x4fa287(0x719)](_0x32343a,_0x1cf684){const _0x2ae849=a0_0x4fa287;return await this[_0x2ae849(0x5d7)]['waInstances'][_0x32343a['instanceName']]['editFlowGroup'](_0x1cf684);}async[a0_0x4fa287(0x699)](_0x38b0de,_0x11cc15){const _0x48880a=a0_0x4fa287;return await this[_0x48880a(0x5d7)][_0x48880a(0x650)][_0x38b0de[_0x48880a(0x86e)]][_0x48880a(0x699)](_0x11cc15);}async[a0_0x4fa287(0x4b4)](_0x12b7ee,_0x473310){const _0x4dfd32=a0_0x4fa287;return await this['waMonitor'][_0x4dfd32(0x650)][_0x12b7ee['instanceName']][_0x4dfd32(0x4b4)](_0x473310);}async[a0_0x4fa287(0x462)](_0x572338,_0x337a7b){const _0x43b518=a0_0x4fa287;return await this['waMonitor'][_0x43b518(0x650)][_0x572338[_0x43b518(0x86e)]][_0x43b518(0x462)](_0x337a7b);}async[a0_0x4fa287(0x408)](_0x323571,_0x1e0e23){const _0x959bb7=a0_0x4fa287;return await this[_0x959bb7(0x5d7)][_0x959bb7(0x650)][_0x323571[_0x959bb7(0x86e)]][_0x959bb7(0x408)](_0x1e0e23);}async[a0_0x4fa287(0x7d2)](_0x1e4258){const _0x2c2b3f=a0_0x4fa287;return await this['waMonitor'][_0x2c2b3f(0x650)][_0x1e4258['instanceName']][_0x2c2b3f(0x7d2)]();}},as=class{constructor(_0x429c90){this['webhookService']=_0x429c90;}async[a0_0x4fa287(0x3ac)](_0x54982e,_0x321e02){const _0x1e6c35=a0_0x4fa287;return this[_0x1e6c35(0x2bc)][_0x1e6c35(0x220)](_0x54982e,_0x321e02);}async[a0_0x4fa287(0x455)](_0x2a7ff4){const _0x53a92b=a0_0x4fa287;return this[_0x53a92b(0x2bc)][_0x53a92b(0x896)](_0x2a7ff4);}},is=class extends _{constructor(_0x254c34,_0x570143){super(_0x570143),this['webhookModel']=_0x254c34,this['configService']=_0x570143;}async['create'](_0x5e30d3,_0x14f2fa){const _0xaca033=a0_0x4fa287;try{return this[_0xaca033(0x7b3)][_0xaca033(0x729)]?{'insertCount':(await this[_0xaca033(0x4a4)][_0xaca033(0x3d1)]({'_id':_0x14f2fa},{..._0x5e30d3},{'upsert':!0x0}))[_0xaca033(0x3f4)]}:{'insertCount':0x1};}catch(_0x464658){return _0x464658;}}async[a0_0x4fa287(0x909)](_0x50ce96){const _0x256b0f=a0_0x4fa287;try{if(this['dbSettings'][_0x256b0f(0x729)]){await this['webhookModel'][_0x256b0f(0x6ad)]({'_id':_0x50ce96});return;}}catch(_0x1dc270){return{'error':_0x1dc270};}}async[a0_0x4fa287(0x896)](_0xe917a3){const _0x37f404=a0_0x4fa287;try{if(this[_0x37f404(0x7b3)][_0x37f404(0x729)])return await this[_0x37f404(0x4a4)][_0x37f404(0x6bc)]({'_id':_0xe917a3});}catch{return{};}}},os=class extends _{constructor(_0x1ad5bc,_0x26cb4f){const _0x481d7e=a0_0x4fa287;super(_0x26cb4f),this[_0x481d7e(0x5b0)]=_0x1ad5bc,this[_0x481d7e(0x5ca)]=_0x26cb4f,this[_0x481d7e(0x29f)]=_0x26cb4f[_0x481d7e(0x37b)](_0x481d7e(0x736));}async['create'](_0x10e559,_0x49b488){const _0x1fb2fe=a0_0x4fa287;try{if(this[_0x1fb2fe(0x7b3)][_0x1fb2fe(0x729)])return{'insertCount':(await this[_0x1fb2fe(0x5b0)][_0x1fb2fe(0x3b3)]({'_id':_0x49b488},{'$set':{..._0x10e559}},{'upsert':!0x0}))[_0x1fb2fe(0x3f4)]};}catch(_0xc9e345){return{'error':_0xc9e345};}}async['updateAll'](_0x557418,_0x37aa5c){const _0x3a0c77=a0_0x4fa287;try{if(this[_0x3a0c77(0x7b3)][_0x3a0c77(0x729)])return{'insertCount':(await this[_0x3a0c77(0x5b0)][_0x3a0c77(0x385)](_0x557418,{'$set':_0x37aa5c},{'upsert':!0x1}))[_0x3a0c77(0x3f4)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x40dff9){return{'error':_0x40dff9};}}async[a0_0x4fa287(0x8fb)](_0x421fe3){const _0x53e3c5=a0_0x4fa287;try{if(this[_0x53e3c5(0x7b3)]['ENABLED'])return{'insertCount':(await this['authModel'][_0x53e3c5(0x8fb)](_0x421fe3))[_0x53e3c5(0x8b6)]};throw new Error(_0x53e3c5(0x8ce));}catch(_0x23ed05){return{'error':_0x23ed05};}}async[a0_0x4fa287(0x909)](_0x27fc51){const _0x490f50=a0_0x4fa287;try{if(this[_0x490f50(0x7b3)][_0x490f50(0x729)]){await this[_0x490f50(0x5b0)]['deleteOne']({'_id':_0x27fc51});return;}}catch(_0x4250ae){return{'error':_0x4250ae};}}async[a0_0x4fa287(0x896)](_0x41cd4f){const _0x56335e=a0_0x4fa287;try{if(this[_0x56335e(0x7b3)]['ENABLED'])return await this[_0x56335e(0x5b0)][_0x56335e(0x6bc)]({'_id':_0x41cd4f});}catch{return{};}}async[a0_0x4fa287(0x431)](){const _0x1022fc=a0_0x4fa287;try{if(this[_0x1022fc(0x7b3)][_0x1022fc(0x729)])return await this[_0x1022fc(0x5b0)][_0x1022fc(0x896)]();}catch{return[];}}async['findMany'](_0x2d8a95){const _0x4e4446=a0_0x4fa287;try{if(this[_0x4e4446(0x7b3)][_0x4e4446(0x729)])return await this[_0x4e4446(0x5b0)][_0x4e4446(0x896)](_0x2d8a95);}catch{return[];}}},rs=class extends _{async[a0_0x4fa287(0x6ad)](_0xc38f1d){const _0x1cf3c6=a0_0x4fa287;try{let _0x46e028=I(_0xc38f1d[_0x1cf3c6(0x79c)]);return{'deletedCount':(await Ee[_0x1cf3c6(0x6ad)](_0x46e028))['deletedCount']};}catch(_0x17f4eb){return{'error':_0x17f4eb?.[_0x1cf3c6(0x644)]()};}}async[a0_0x4fa287(0x3b3)](_0x1b4c71,_0x234b5d){const _0x8888de=a0_0x4fa287;try{let _0x1dba08=await Ee[_0x8888de(0x5b1)](_0x1b4c71);return _0x1dba08?(Object['assign'](_0x1dba08,_0x234b5d),await _0x1dba08[_0x8888de(0x262)]()):(console[_0x8888de(0x91c)]('Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:',_0x1b4c71),null);}catch(_0x207dd8){return console[_0x8888de(0x91c)](_0x8888de(0x69c),_0x207dd8),null;}}async['createAndSave'](_0xa90589){const _0x2d4764=a0_0x4fa287;try{return await new Ee(_0xa90589)[_0x2d4764(0x262)]();}catch(_0x2e01d7){return console[_0x2d4764(0x91c)]('Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:',_0x2e01d7),null;}}async[a0_0x4fa287(0x431)](_0x423fdb){const _0x3bca52=a0_0x4fa287;try{let _0x5556b9=_0x423fdb[_0x3bca52(0x79c)]??{};return await Ee[_0x3bca52(0x896)](_0x5556b9)[_0x3bca52(0x41a)](_0x423fdb[_0x3bca52(0x41a)]??0x0)[_0x3bca52(0x7de)]();}catch(_0x3841f0){return console[_0x3bca52(0x91c)](_0x3bca52(0x7b6),_0x3841f0),[];}}async[a0_0x4fa287(0x6bc)](_0x3bd944){const _0x22ada0=a0_0x4fa287;try{let _0xa04c92=I(_0x3bd944[_0x22ada0(0x79c)]);return await Ee['findOne'](_0xa04c92)[_0x22ada0(0x7de)]();}catch{return null;}}},ns=class extends _{[a0_0x4fa287(0x8f4)](_0x362f67){return Ca(_0x362f67);}async[a0_0x4fa287(0x423)](_0x2bd986){const _0x357077=a0_0x4fa287;if(_0x2bd986[_0x357077(0x875)]!==0x0)try{return{'insertCount':(await this['getConversationModelForOwner'](_0x2bd986[0x0][_0x357077(0x85f)])['insertMany']([..._0x2bd986]))[_0x357077(0x875)]};}catch(_0x288b2b){return _0x288b2b;}}async[a0_0x4fa287(0x909)](_0x3808d9,_0x1107ee){const _0x1d75c0=a0_0x4fa287;try{let _0x23b4f=this[_0x1d75c0(0x8f4)](_0x1107ee),_0x493092=I(_0x3808d9[_0x1d75c0(0x79c)]);return{'deletedCount':(await _0x23b4f['deleteMany'](_0x493092))[_0x1d75c0(0x8b6)]};}catch(_0x384f24){return{'error':_0x384f24?.[_0x1d75c0(0x644)]()};}}async[a0_0x4fa287(0x6ad)](_0x53f87c,_0x211513){const _0x3805ae=a0_0x4fa287;try{let _0x12cf3b=this[_0x3805ae(0x8f4)](_0x211513),_0x34e340=I(_0x53f87c[_0x3805ae(0x79c)]);return{'deletedCount':(await _0x12cf3b[_0x3805ae(0x6ad)](_0x34e340))[_0x3805ae(0x8b6)]};}catch(_0x18d538){return{'error':_0x18d538?.['toString']()};}}async['update'](_0x479706,_0x2ae51b){const _0x3375b9=a0_0x4fa287;try{if(_0x479706['length']===0x0)return;let _0x27b19f=this['getConversationModelForOwner'](_0x2ae51b),_0x35e25b=_0x479706['map'](_0x1d4ace=>({'updateOne':{'filter':{'name':_0x1d4ace[_0x3375b9(0x378)],'owner':_0x2ae51b},'update':{..._0x1d4ace}}})),{modifiedCount:_0x76986a}=await _0x27b19f[_0x3375b9(0x716)](_0x35e25b);return{'insertCount':_0x76986a};}catch{return;}}async[a0_0x4fa287(0x385)](_0x13bc4d,_0x224a49,_0x42dd81){const _0x152b98=a0_0x4fa287;try{return{'modifiedCount':(await this[_0x152b98(0x8f4)](_0x42dd81)[_0x152b98(0x385)](_0x13bc4d,{'$set':_0x224a49})[_0x152b98(0x323)]())[_0x152b98(0x3f4)]};}catch(_0x17e338){return console[_0x152b98(0x91c)](_0x152b98(0x606),_0x17e338),{'error':_0x17e338};}}async[a0_0x4fa287(0x3b3)](_0x1d4043,_0x2d27fe,_0x14c4d9){const _0x3dccdf=a0_0x4fa287;try{return await this[_0x3dccdf(0x8f4)](_0x14c4d9)[_0x3dccdf(0x345)]({'_id':_0x1d4043},{'$set':_0x2d27fe},{'new':!0x0,'upsert':!0x0})[_0x3dccdf(0x7de)]();}catch(_0x3f351a){return console[_0x3dccdf(0x91c)](_0x3f351a),null;}}async[a0_0x4fa287(0x896)](_0x1367e1,_0x1ad98e){const _0x3a3c10=a0_0x4fa287;try{return await this[_0x3a3c10(0x8f4)](_0x1ad98e)[_0x3a3c10(0x896)](_0x1367e1)[_0x3a3c10(0x264)]({'lastInteraction':-0x1})[_0x3a3c10(0x7de)]();}catch{return[];}}async[a0_0x4fa287(0x6bc)](_0x8643ff,_0x49a98a){const _0x57ba75=a0_0x4fa287;try{return await this[_0x57ba75(0x8f4)](_0x49a98a)[_0x57ba75(0x6bc)]({..._0x8643ff[_0x57ba75(0x79c)]})[_0x57ba75(0x7de)]();}catch{return null;}}async[a0_0x4fa287(0x6e3)](_0x21dd76){const _0x2da4cc=a0_0x4fa287;try{return await this[_0x2da4cc(0x8f4)](_0x21dd76)['collection'][_0x2da4cc(0x289)](),{'success':!0x0};}catch(_0x28144d){return console[_0x2da4cc(0x91c)](_0x28144d),{'success':!0x1,'error':_0x28144d};}}},cs=class extends _{[a0_0x4fa287(0x666)](_0x2ba319){return Ea(_0x2ba319);}async[a0_0x4fa287(0x716)](_0x56bcc9,_0x566342){const _0x560c4d=a0_0x4fa287;try{return await this[_0x560c4d(0x666)](_0x566342)[_0x560c4d(0x716)](_0x56bcc9);}catch(_0x50cdae){return console[_0x560c4d(0x91c)](_0x560c4d(0x3e1),_0x50cdae),null;}}async['createAndSave'](_0x3c2d3f,_0x307f30){try{let _0xe2b310=this['getScheduleMessageModelForOwner'](_0x307f30);return await new _0xe2b310(_0x3c2d3f)['save']();}catch(_0x2c0ebd){return console['error']('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x2c0ebd),null;}}async['deleteOne'](_0x47431e,_0x19ed6c){const _0x76293a=a0_0x4fa287;try{return await this[_0x76293a(0x666)](_0x19ed6c)[_0x76293a(0x8b0)](_0x47431e),{};}catch(_0x58872c){return{'error':_0x58872c?.[_0x76293a(0x644)]()};}}async[a0_0x4fa287(0x3b3)](_0x483572,_0x1d184d,_0x4d5222,_0xcf1a57={}){const _0x5686ef=a0_0x4fa287;try{return await this[_0x5686ef(0x666)](_0x4d5222)['findOneAndUpdate'](_0x483572,_0x1d184d,{..._0xcf1a57,'new':!0x0})['lean']();}catch(_0x53071a){return console[_0x5686ef(0x91c)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x53071a),null;}}async[a0_0x4fa287(0x5f5)](_0x49036f,_0x26ccb8,_0x1b22f7){const _0x49277d=a0_0x4fa287;try{return await this[_0x49277d(0x666)](_0x1b22f7)[_0x49277d(0x4fa)](_0x49036f,_0x26ccb8,{'new':!0x0})[_0x49277d(0x7de)]();}catch(_0x50de71){return console['error'](_0x49277d(0x7a1),_0x50de71),null;}}async[a0_0x4fa287(0x896)](_0x1db8a8,_0x54155b){const _0x2cdcff=a0_0x4fa287;try{return await this['getScheduleMessageModelForOwner'](_0x54155b)[_0x2cdcff(0x896)](_0x1db8a8[_0x2cdcff(0x79c)])[_0x2cdcff(0x41a)](_0x1db8a8?.[_0x2cdcff(0x41a)]??0x0)[_0x2cdcff(0x264)]({'when':0x1})[_0x2cdcff(0x7de)]();}catch{return[];}}async[a0_0x4fa287(0x6bc)](_0x57ccdd,_0xb89430){const _0xe9eed4=a0_0x4fa287;try{return await this[_0xe9eed4(0x666)](_0xb89430)[_0xe9eed4(0x6bc)](_0x57ccdd[_0xe9eed4(0x79c)])[_0xe9eed4(0x264)]({'when':0x1})['lean']();}catch{return null;}}async[a0_0x4fa287(0x5b1)](_0x5d1b35,_0x5d98a1){const _0x4cc631=a0_0x4fa287;try{return await this[_0x4cc631(0x666)](_0x5d98a1)[_0x4cc631(0x5b1)](_0x5d1b35)[_0x4cc631(0x7de)]();}catch{return null;}}async[a0_0x4fa287(0x8fb)](_0x12722f,_0xde7286){const _0x4b8918=a0_0x4fa287;try{return{'deletedCount':(await this[_0x4b8918(0x666)](_0xde7286)['deleteMany'](_0x12722f))[_0x4b8918(0x8b6)]};}catch(_0x2daa03){return console[_0x4b8918(0x91c)](_0x4b8918(0x74c),_0x2daa03),{'error':_0x2daa03};}}async[a0_0x4fa287(0x6e3)](_0x1f9c2d){const _0x2c30ae=a0_0x4fa287;try{return await this[_0x2c30ae(0x666)](_0x1f9c2d)[_0x2c30ae(0x516)][_0x2c30ae(0x289)](),{'success':!0x0};}catch(_0x3f9fae){return console[_0x2c30ae(0x91c)](_0x3f9fae),{'success':!0x1,'error':_0x3f9fae};}}},ls=class extends _{async[a0_0x4fa287(0x48b)](_0x452a23,_0x12a786){const _0x22f4ca=a0_0x4fa287;try{if(this['dbSettings']['ENABLED'])return await Oe[_0x22f4ca(0x345)]({'_id':_0x12a786},{'$set':_0x452a23},{'new':!0x0});}catch(_0x24a7ba){throw console['error'](_0x22f4ca(0x2ca),_0x24a7ba),_0x24a7ba;}}async['findOrCreate'](_0x5eb95d){const _0x1fdb83=a0_0x4fa287;try{let _0xf0c901=await Oe['findById'](_0x5eb95d);return _0xf0c901?_0xf0c901['autoCompleteMessages']||(_0xf0c901[_0x1fdb83(0x612)]=[],await _0xf0c901['save']()):(_0xf0c901=new Oe({'_id':_0x5eb95d,'autoCompleteMessages':[]}),await _0xf0c901[_0x1fdb83(0x262)]()),_0xf0c901;}catch(_0x4ed05c){return _0x4ed05c[_0x1fdb83(0x8fc)]===0x2af8&&_0x4ed05c[_0x1fdb83(0x819)]&&_0x4ed05c[_0x1fdb83(0x819)][_0x1fdb83(0x6e6)]?(console['error'](_0x1fdb83(0x45b)),await Oe['collection']['dropIndex'](_0x1fdb83(0x31e)),null):(console['error'](_0x1fdb83(0x266),_0x4ed05c),null);}}},qo=new $(a0_0x4fa287(0x7f2)),Vo=new Ze(b),Go=new Wt(b),Bo=new ut(b),Wo=new zt(na,b),zo=new is(ma,b),Ho=new os(pa,b),Ko=new $e(Ke,b),Qo=new rs(b),Yo=new Ht(b),Xo=new ns(b),Zo=new cs(b),er=new ls(b),we=new Ye(Vo,Go,Bo,Wo,zo,Ho,Ko,Qo,Xo,Yo,Zo,er,R?.['getClient']()),z=new Bt(fs,b,we),tr=new Zt(b,z,we),sr=new ts(z),Is=new as(sr),T=new ss(z),he=new Yt(z,b,we,fs,tr),H=new Xt(z),k=new Kt(z),V=new es(z);qo[a0_0x4fa287(0x558)](a0_0x4fa287(0x8c3));var rg=require(a0_0x4fa287(0x65e)),Js=require('fs'),Fi=A(require(a0_0x4fa287(0x219))),Ui=A(require(a0_0x4fa287(0x895))),Je=class u{static #e;static set[a0_0x4fa287(0x6f9)](_0x458ac9){this.#e=_0x458ac9;}static get['https'](){const _0x3cef44=a0_0x4fa287;let {FULLCHAIN:_0x26b444,PRIVKEY:_0xadb1d1}=b[_0x3cef44(0x37b)](_0x3cef44(0x55e));return Fi[_0x3cef44(0x386)]({'cert':(0x0,Js[_0x3cef44(0x51b)])(_0x26b444),'key':(0x0,Js['readFileSync'])(_0xadb1d1)},u.#e);}static get[a0_0x4fa287(0x895)](){const _0x3fae4e=a0_0x4fa287;return Ui[_0x3fae4e(0x386)](u.#e);}},qe=A(require('fs')),Bi=A(require('ini')),Ve=A(require(a0_0x4fa287(0x6a2))),ds=A(require(a0_0x4fa287(0x2de))),us=require(a0_0x4fa287(0x633));function ar(){const _0x847c2d=a0_0x4fa287;z[_0x847c2d(0x3de)]();let _0x2f8dbf=ds[_0x847c2d(0x796)][_0x847c2d(0x82f)](__dirname,'downloads');Gi(_0x2f8dbf);}var Gi=_0x36a1d9=>{const _0x492871=a0_0x4fa287;let _0x4ddbb8=qe[_0x492871(0x796)]['readdirSync'](_0x36a1d9),_0x5b9abb=0xc*0x3c*0x3c*0x3e8,_0x1b9c5c=0x2*0x3c*0x3c*0x3e8,_0x6caa92=new Date()[_0x492871(0x878)]();_0x4ddbb8[_0x492871(0x442)](_0x5643a8=>{const _0x123dba=_0x492871;let _0x3caf99=ds[_0x123dba(0x796)]['join'](_0x36a1d9,_0x5643a8),_0x49feb9=qe['default']['statSync'](_0x3caf99)['birthtime'][_0x123dba(0x878)]();_0x6caa92-_0x49feb9>_0x5b9abb&&(qe[_0x123dba(0x796)][_0x123dba(0x8f3)](_0x3caf99),console[_0x123dba(0x848)](_0x123dba(0x47e)+_0x5643a8));}),setTimeout(()=>Gi(_0x36a1d9),_0x1b9c5c);};function ir(){const _0x1032e7=a0_0x4fa287;let _0x3cf6e9=new $(_0x1032e7(0x671)),_0xc737c5=(0x0,be[_0x1032e7(0x796)])();_0xc737c5['use']((0x0,Vi['default'])({'origin'(_0x577eb4,_0x2b5b9d){const _0x4027cd=_0x1032e7;let {ORIGIN:_0x501aa6}=b[_0x4027cd(0x37b)](_0x4027cd(0x2d5));return _0x577eb4||(_0x577eb4='*'),_0x501aa6['indexOf']('*')!==-0x1||_0x501aa6[_0x4027cd(0x7c4)](_0x577eb4)!==-0x1?_0x2b5b9d(null,!0x0):_0x2b5b9d(new Error(_0x4027cd(0x432)));},'methods':[...b[_0x1032e7(0x37b)](_0x1032e7(0x2d5))[_0x1032e7(0x2d9)]],'credentials':b[_0x1032e7(0x37b)](_0x1032e7(0x2d5))['CREDENTIALS']}),(0x0,be[_0x1032e7(0x655)])({'extended':!0x0,'limit':'50mb'}),(0x0,be['json'])({'limit':_0x1032e7(0x354)})),_0xc737c5['use']((_0x119e60,_0x259362,_0xe66ef5)=>{const _0x26d8f8=_0x1032e7;_0x119e60['path'][_0x26d8f8(0x61a)](_0x26d8f8(0x5bd))?_0xe66ef5():(0x0,qi['default'])()(_0x119e60,_0x259362,_0xe66ef5);}),_0xc737c5[_0x1032e7(0x5d5)](_0x1032e7(0x1ed),_0x1032e7(0x494)),_0xc737c5[_0x1032e7(0x5d5)](_0x1032e7(0x720),(0x0,Vs[_0x1032e7(0x82f)])(ue,_0x1032e7(0x720))),_0xc737c5[_0x1032e7(0x81b)](be[_0x1032e7(0x796)][_0x1032e7(0x6bb)]((0x0,Vs['join'])(ue,'public'))),_0xc737c5[_0x1032e7(0x81b)]((_0x3a3fb9,_0x1fa963,_0x40adc6)=>{const _0x107d4a=_0x1032e7;let _0x1939d4=_0x1fa963[_0x107d4a(0x6f6)];_0x1fa963[_0x107d4a(0x6f6)]=function(_0x30a439){const _0x55cfcc=_0x107d4a;if(_0x3a3fb9['query'][_0x55cfcc(0x242)]===_0x55cfcc(0x3fd)||_0x3a3fb9[_0x55cfcc(0x507)][_0x55cfcc(0x78e)]===_0x55cfcc(0x3fd)){let _0x37fd4b=JSON[_0x55cfcc(0x724)](_0x30a439);_0x30a439=JSON['stringify'](_0x56c73f(_0x37fd4b));}return _0x1939d4[_0x55cfcc(0x85b)](_0x1fa963,[_0x30a439]);},_0x40adc6();}),_0xc737c5[_0x1032e7(0x81b)]('/',Fe),_0xc737c5[_0x1032e7(0x81b)]((_0x4ebc52,_0x1cd261,_0x309bbd,_0x23efc3)=>{const _0x34f64c=_0x1032e7;if(_0x4ebc52)return _0x309bbd[_0x34f64c(0x370)](_0x4ebc52[_0x34f64c(0x370)]||0x1f4)[_0x34f64c(0x56e)](_0x4ebc52);},(_0x42053f,_0x14b4ae,_0x3f0636)=>{const _0x4bea19=_0x1032e7;let {method:_0x2f1ef2,url:_0xf0943d}=_0x42053f;_0x14b4ae[_0x4bea19(0x370)](0x194)[_0x4bea19(0x56e)]({'status':0x194,'message':_0x4bea19(0x2f8)+_0x2f1ef2[_0x4bea19(0x296)]()+'\x20'+_0xf0943d,'error':_0x4bea19(0x1d7)}),_0x3f0636();});let _0x56c73f=(_0x4539c7,_0x4a5d10=_0x1032e7(0x5a6))=>{const _0x161b10=_0x1032e7;let _0x5a5fcc=(_0x11af16,_0x4b98c1=null,_0xf41179=!0x1)=>{const _0x22782f=a0_0x5643;let _0x4aa90f={};return Object[_0x22782f(0x647)](_0x11af16)[_0x22782f(0x442)](_0x2b8b53=>{const _0x96fb2d=_0x22782f;let _0x196d37=_0x11af16[_0x2b8b53],_0x37a2fb=''+_0x4a5d10+_0x2b8b53;_0x4b98c1&&!_0xf41179&&(_0x37a2fb=_0x4b98c1+'.'+_0x2b8b53),!_0x196d37&&_0x196d37!==0x0&&_0x196d37!==!0x1||typeof _0x196d37>'u'?_0x4aa90f[_0x37a2fb]=null:typeof _0x196d37!=_0x96fb2d(0x2e5)&&!Array[_0x96fb2d(0x3e8)](_0x196d37)?_0x4aa90f[_0x37a2fb]=_0x196d37:typeof _0x196d37==_0x96fb2d(0x2e5)&&!Array[_0x96fb2d(0x3e8)](_0x196d37)?_0x4aa90f=Object[_0x96fb2d(0x3cf)](_0x4aa90f,_0x5a5fcc(_0x196d37,_0x37a2fb)):Array['isArray'](_0x196d37)&&(typeof _0x196d37[0x0]==_0x96fb2d(0x2e5)?(_0x4aa90f[_0x37a2fb]=[],_0x196d37['forEach'](_0x3728ad=>{const _0xaaaaac=_0x96fb2d;_0x4aa90f[_0x37a2fb][_0xaaaaac(0x2fc)](_0x5a5fcc(_0x3728ad,_0x37a2fb,!0x0));})):_0x4aa90f[_0x37a2fb]=_0x196d37);}),_0x4aa90f;};return Array['isArray'](_0x4539c7)?_0x4539c7['map'](_0x2d8f65=>_0x5a5fcc(_0x2d8f65)):typeof _0x4539c7==_0x161b10(0x2e5)&&_0x4539c7!==null?_0x5a5fcc(_0x4539c7):{};},_0x320211=b[_0x1032e7(0x37b)]('SERVER');Je[_0x1032e7(0x6f9)]=_0xc737c5;let _0x4e4cca=Je[_0x320211[_0x1032e7(0x333)]],_0x566dea=_0x1032e7(0x2f1);_0x4e4cca[_0x1032e7(0x231)](_0x320211[_0x1032e7(0x696)],()=>{const _0x38c055=_0x1032e7;_0x3cf6e9[_0x38c055(0x848)](_0x566dea),_0x3cf6e9[_0x38c055(0x848)](_0x320211[_0x38c055(0x333)][_0x38c055(0x296)]()+'\x20-\x20ON:\x20'+_0x320211[_0x38c055(0x696)]);}),ar(),ta();}var or=a0_0x4fa287(0x80b),rr=ds['default'][a0_0x4fa287(0x82f)](__dirname,a0_0x4fa287(0x797)),Ie=null;function nr(){return new Promise((_0x44a35b,_0x12a8d6)=>{const _0x55afe6=a0_0x5643;qe[_0x55afe6(0x796)]['readFile'](rr,'utf-8',(_0x21c5fe,_0x46f3e6)=>{const _0x5575d5=_0x55afe6;if(_0x21c5fe){Ie=_0x21c5fe,_0x44a35b();return;}Bi[_0x5575d5(0x796)]['parse'](_0x46f3e6)[_0x5575d5(0x553)][_0x5575d5(0x7c5)]===or?(Ie=null,_0x44a35b()):(Ie=new Error(_0x5575d5(0x342)),_0x44a35b());});});}async function cr(){const _0x125e38=a0_0x4fa287;try{await nr(),await Gs();}catch(_0x3b39c7){console[_0x125e38(0x91c)]('Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20'+_0x3b39c7),process[_0x125e38(0x845)](0x1);}}cr();async function Wi(){const _0x1e8e14=a0_0x4fa287;let _0x38cd35;try{_0x38cd35=(await Ve[_0x1e8e14(0x796)][_0x1e8e14(0x37b)](_0x1e8e14(0x897)))['data']['ip'];}catch(_0x2c8aa9){console[_0x1e8e14(0x91c)](_0x2c8aa9);try{_0x38cd35=(await Ve[_0x1e8e14(0x796)]['get']('https://api.ipify.org?format=json'))[_0x1e8e14(0x5ee)]['ip'];}catch(_0x323b9c){console[_0x1e8e14(0x91c)](_0x323b9c);try{_0x38cd35=(await Ve[_0x1e8e14(0x796)]['get'](_0x1e8e14(0x51a)))[_0x1e8e14(0x5ee)][_0x1e8e14(0x665)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x1fb09d){return console[_0x1e8e14(0x91c)](_0x1fb09d),!0x1;}}}return _0x38cd35;}var ji=0x0;async function lr(){const _0x93ce6d=a0_0x4fa287;let _0x39588b=await new ge(b[_0x93ce6d(0x37b)](_0x93ce6d(0x505)))[_0x93ce6d(0x1cf)]();return console[_0x93ce6d(0x848)](_0x93ce6d(0x5dd),_0x39588b[_0x93ce6d(0x875)]),_0x39588b[_0x93ce6d(0x875)];}function ur(_0x809a11){const _0x3f6853=a0_0x4fa287;let _0x30f14b=_0x809a11['get'](_0x3f6853(0x671))[_0x3f6853(0x777)],_0x2ba169=_0x809a11[_0x3f6853(0x37b)](_0x3f6853(0x55e));console[_0x3f6853(0x848)]('Valor\x20da\x20URL\x20recuperada:',_0x30f14b),console[_0x3f6853(0x848)](_0x3f6853(0x5d4),_0x2ba169);let _0x5db356='',_0x2719ad=_0x30f14b||'';if(_0x30f14b){let _0x450306=_0x30f14b[_0x3f6853(0x665)](/\/\/(.*?)\./);console['log'](_0x3f6853(0x34f),_0x450306),_0x450306&&_0x450306[0x1]&&(_0x5db356=_0x450306[0x1],console['log'](_0x3f6853(0x6de),_0x5db356));}if(!_0x5db356&&_0x2ba169&&_0x2ba169[_0x3f6853(0x4b3)]){let _0x11ba4e=_0x2ba169[_0x3f6853(0x4b3)]['split']('/');console['log'](_0x3f6853(0x3c5),_0x11ba4e);let _0x23bd18=_0x11ba4e[_0x11ba4e['length']-0x2];if(console[_0x3f6853(0x848)](_0x3f6853(0x34a),_0x23bd18),_0x23bd18){let _0x509edb=_0x23bd18[_0x3f6853(0x916)]('.');console['log'](_0x3f6853(0x3aa),_0x509edb),_0x509edb['length']>0x2&&(_0x5db356=_0x509edb[0x0],console['log'](_0x3f6853(0x486),_0x5db356),_0x2719ad=''+_0x23bd18);}}return{'subdomain':_0x5db356||_0x3f6853(0x714),'fullURL':_0x2719ad||_0x3f6853(0x8bf)};}var {subdomain:K,fullURL:Bs}=ur(b);console[a0_0x4fa287(0x848)]('Subdomínio\x20final:',K),console[a0_0x4fa287(0x848)](a0_0x4fa287(0x7ca),Bs);async function dr(){const _0xf268e8=a0_0x4fa287;let _0x202ed6=b[_0xf268e8(0x37b)](_0xf268e8(0x505)),_0x47d689=b['get'](_0xf268e8(0x736))[_0xf268e8(0x6f4)][_0xf268e8(0x89b)],_0x501316=b[_0xf268e8(0x37b)](_0xf268e8(0x55e)),_0x200175=await Wi(),_0x4bea66=b[_0xf268e8(0x37b)](_0xf268e8(0x671))[_0xf268e8(0x696)],_0x3c6ddb=Bs;try{let _0x62283a={'ip':_0x200175||null,'redis_enable':_0x202ed6?.[_0xf268e8(0x729)]||null,'apikey':_0x47d689||null,'ssl':_0x501316?.['PRIVKEY']||null,'lastupdate':zi||null,'port':_0x4bea66||null,'gitInstallError':Ie?.['message']||null,'url':_0x3c6ddb||null,'subdomain':K};if(console[_0xf268e8(0x848)]('ip:\x20',_0x62283a['ip']),_0x202ed6&&_0x202ed6[_0xf268e8(0x729)]){let _0x5cb96d=await lr();_0x62283a['instanceCount']=_0x5cb96d||null;}for(let _0x2060c2 in _0x62283a)_0x62283a[_0xf268e8(0x756)](_0x2060c2)&&_0x2060c2!=='ip'&&(_0x62283a[_0x2060c2]=JSON['stringify'](_0x62283a[_0x2060c2]));return(await Ve[_0xf268e8(0x796)][_0xf268e8(0x62d)](_0xf268e8(0x70e),_0x62283a))[_0xf268e8(0x5ee)];}catch(_0x164c45){return console[_0xf268e8(0x91c)](_0x164c45),!0x1;}}var qs=!0x1,zi=0x264,pr=0x3,Ji=0x1b7740;async function Gs(){const _0x26abc9=a0_0x4fa287;let _0x3defaa='fora\x20do\x20git';Ie===null&&(_0x3defaa=await Wi());let _0x4978b0=await dr();if(_0x4978b0){if(_0x4978b0['response']['licenca']===!0x0){Ie===null&&_0x4978b0[_0x26abc9(0x79e)][_0x26abc9(0x60b)]-zi>0x0&&await hr(),qs||(qs=!0x0,ir());let _0x180e14=0x24*0x3c*0x3c,_0x6308b8=_0x4978b0[_0x26abc9(0x79e)][_0x26abc9(0x489)]>_0x180e14?_0x180e14:_0x4978b0[_0x26abc9(0x79e)]['segundos'],_0x52f802=Number(_0x6308b8);if(isNaN(_0x52f802)){console['error'](_0x26abc9(0x5b7));return;}let _0x227d96=Math[_0x26abc9(0x768)](_0x52f802/0xe10),_0x4fc4b3=Math[_0x26abc9(0x768)](_0x52f802%0xe10/0x3c),_0x3152c8=new Date(Date[_0x26abc9(0x6b0)]()+_0x52f802*0x3e8);setTimeout(Gs,_0x52f802*0x3e8);let _0x289737=_0x3b2e87=>_0x3b2e87[_0x26abc9(0x644)]()[_0x26abc9(0x882)](0x2,'0'),_0x1546e3=_0x26abc9(0x21e)+_0x289737(_0x227d96)+_0x26abc9(0x888)+_0x289737(_0x4fc4b3)+'\x20minutos.\x20Será\x20às\x20'+_0x289737(_0x3152c8['getHours']())+':'+_0x289737(_0x3152c8['getMinutes']())+'.';console[_0x26abc9(0x848)](_0x1546e3);}else return console[_0x26abc9(0x848)](_0x26abc9(0x55f)),qs&&(console[_0x26abc9(0x848)](_0x26abc9(0x25f)),process['exit']()),_0x26abc9(0x483);}else{if(ji++,ji<pr)console[_0x26abc9(0x848)](_0x26abc9(0x1e6)+Ji/0xea60+_0x26abc9(0x36c)),setTimeout(Gs,Ji);else return console['error'](_0x26abc9(0x8b5)),'SERVER_OFFLINE';}}async function hr(){const _0x232a3d=a0_0x4fa287;console[_0x232a3d(0x848)](_0x232a3d(0x3c3)),console[_0x232a3d(0x848)](_0x232a3d(0x374)),(0x0,us['spawn'])(_0x232a3d(0x448),{'shell':!0x0})['on'](_0x232a3d(0x23f),_0x316813=>{const _0x401cae=_0x232a3d;_0x316813!==0x0?console[_0x401cae(0x91c)](_0x401cae(0x53f)):(console[_0x401cae(0x848)]('Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.'),console[_0x401cae(0x848)](_0x401cae(0x1e3)),(0x0,us['spawn'])(_0x401cae(0x389),{'shell':!0x0})['on'](_0x401cae(0x23f),_0x356f5c=>{const _0x51b505=_0x401cae;if(_0x356f5c!==0x0)console['error'](_0x51b505(0x1fc));else{console[_0x51b505(0x848)](_0x51b505(0x38d));let _0x5e7fab=(0x0,us[_0x51b505(0x29e)])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x5e7fab[_0x51b505(0x731)]['on'](_0x51b505(0x5ee),_0xc6a8f4=>{const _0x112a8a=_0x51b505;console[_0x112a8a(0x848)](_0x112a8a(0x564)+_0xc6a8f4);}),_0x5e7fab['stderr']['on'](_0x51b505(0x5ee),_0x34fa84=>{const _0x24f19f=_0x51b505;console[_0x24f19f(0x91c)](_0x24f19f(0x5a3)+_0x34fa84);}),_0x5e7fab['on']('exit',_0x3e0370=>{const _0x4d3c82=_0x51b505;_0x3e0370!==0x0?console[_0x4d3c82(0x91c)](_0x4d3c82(0x504)+_0x3e0370):console[_0x4d3c82(0x848)](_0x4d3c82(0x794)),console['log'](_0x4d3c82(0x544)),setTimeout(()=>process[_0x4d3c82(0x845)](),0x2710);});}}));});}0x0&&(module[a0_0x4fa287(0x235)]={'fullURL':fullURL,'subdomain':subdomain});