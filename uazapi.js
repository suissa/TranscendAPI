const a0_0x57f064=a0_0x2175;(function(_0x2e9c93,_0xa6d225){const _0x5e1201=a0_0x2175,_0xe9d661=_0x2e9c93();while(!![]){try{const _0x318c87=parseInt(_0x5e1201(0x4b4))/0x1*(-parseInt(_0x5e1201(0x650))/0x2)+parseInt(_0x5e1201(0x41e))/0x3+parseInt(_0x5e1201(0x718))/0x4*(parseInt(_0x5e1201(0x156))/0x5)+parseInt(_0x5e1201(0x4ce))/0x6+-parseInt(_0x5e1201(0x4f9))/0x7+parseInt(_0x5e1201(0x719))/0x8+-parseInt(_0x5e1201(0x58c))/0x9;if(_0x318c87===_0xa6d225)break;else _0xe9d661['push'](_0xe9d661['shift']());}catch(_0x46f720){_0xe9d661['push'](_0xe9d661['shift']());}}}(a0_0x31ac,0x2d02e));var Jr=Object['create'],_e=Object['defineProperty'],Vr=Object['getOwnPropertyDescriptor'],Br=Object[a0_0x57f064(0x3bb)],Gr=Object['getPrototypeOf'],Wr=Object[a0_0x57f064(0x6d2)][a0_0x57f064(0x5c5)],zr=(_0x56b209,_0x29a3e7)=>{for(var _0x30b448 in _0x29a3e7)_e(_0x56b209,_0x30b448,{'get':_0x29a3e7[_0x30b448],'enumerable':!0x0});},Fs=(_0x3349c5,_0x509741,_0x38e737,_0x456c7a)=>{const _0x382a13=a0_0x57f064;if(_0x509741&&typeof _0x509741=='object'||typeof _0x509741==_0x382a13(0x21e)){for(let _0x4839ef of Br(_0x509741))!Wr[_0x382a13(0x61f)](_0x3349c5,_0x4839ef)&&_0x4839ef!==_0x38e737&&_e(_0x3349c5,_0x4839ef,{'get':()=>_0x509741[_0x4839ef],'enumerable':!(_0x456c7a=Vr(_0x509741,_0x4839ef))||_0x456c7a['enumerable']});}return _0x3349c5;},O=(_0x3847ff,_0xc257b7,_0x4f242d)=>(_0x4f242d=_0x3847ff!=null?Jr(Gr(_0x3847ff)):{},Fs(_0xc257b7||!_0x3847ff||!_0x3847ff[a0_0x57f064(0x2e1)]?_e(_0x4f242d,a0_0x57f064(0x25e),{'value':_0x3847ff,'enumerable':!0x0}):_0x4f242d,_0x3847ff)),Hr=_0x3b98f9=>Fs(_e({},a0_0x57f064(0x2e1),{'value':!0x0}),_0x3b98f9),ao={};zr(ao,{'subdomain':()=>Ds}),module['exports']=Hr(ao);var kr=O(require('compression')),qs=require('fs'),Js=require(a0_0x57f064(0x1da)),Vs=require(a0_0x57f064(0x39c)),Pe=require('path'),ie=process[a0_0x57f064(0x733)](),ge=(0x0,Pe['join'])(ie,a0_0x57f064(0x678)),Us=(0x0,Pe[a0_0x57f064(0x69e)])(ie,'src'),Xo=(0x0,Pe[a0_0x57f064(0x69e)])(ie,'store','auth'),is=class{constructor(){const _0x5dc94b=a0_0x57f064;this[_0x5dc94b(0x738)]();}[a0_0x57f064(0x136)](_0xc30404){return this['env'][_0xc30404];}[a0_0x57f064(0x738)](){const _0x305bc9=a0_0x57f064;this[_0x305bc9(0x73b)]=process[_0x305bc9(0x73b)]?.['DOCKER_ENV']!==_0x305bc9(0x30e)?this['envYaml']():this[_0x305bc9(0x230)](),process['env']?.[_0x305bc9(0x6dc)]==='true'&&(this[_0x305bc9(0x73b)]['SERVER'][_0x305bc9(0x298)]=_0x305bc9(0x6cc),this[_0x305bc9(0x73b)][_0x305bc9(0x145)]['PORT']=Number[_0x305bc9(0x6e8)](process['env']?.['SERVER_PORT']??'8080'));}[a0_0x57f064(0x411)](){const _0x40f723=a0_0x57f064;return(0x0,Js['load'])((0x0,qs['readFileSync'])((0x0,Vs[_0x40f723(0x69e)])(Us,_0x40f723(0x1ee)),{'encoding':_0x40f723(0x10a)}));}[a0_0x57f064(0x230)](){const _0x3efcff=a0_0x57f064;return{'SERVER':{'TYPE':process[_0x3efcff(0x73b)][_0x3efcff(0x3fa)],'PORT':Number['parseInt'](process[_0x3efcff(0x73b)][_0x3efcff(0x73f)]),'URL':process[_0x3efcff(0x73b)][_0x3efcff(0x56c)]},'CORS':{'ORIGIN':process[_0x3efcff(0x73b)]['CORS_ORIGIN']['split'](','),'METHODS':process[_0x3efcff(0x73b)][_0x3efcff(0x6c0)][_0x3efcff(0xc8)](','),'CREDENTIALS':process[_0x3efcff(0x73b)]?.[_0x3efcff(0x3f3)]==='true'},'SSL_CONF':{'PRIVKEY':process[_0x3efcff(0x73b)]?.[_0x3efcff(0x49f)],'FULLCHAIN':process[_0x3efcff(0x73b)]?.[_0x3efcff(0x371)]},'STORE':{'CLEANING_INTERVAL':Number[_0x3efcff(0x6d8)](process[_0x3efcff(0x73b)]?.[_0x3efcff(0x27f)])?Number['parseInt'](process[_0x3efcff(0x73b)]['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process[_0x3efcff(0x73b)]?.[_0x3efcff(0x563)]==='true','CONTACTS':process[_0x3efcff(0x73b)]?.[_0x3efcff(0x2f4)]==='true','CHATS':process[_0x3efcff(0x73b)]?.[_0x3efcff(0x167)]===_0x3efcff(0x30e)},'DATABASE':{'CONNECTION':{'HOST':process[_0x3efcff(0x73b)]?.[_0x3efcff(0x615)],'PORT':Number[_0x3efcff(0x6e8)](process['env']?.[_0x3efcff(0x615)]),'USER':process[_0x3efcff(0x73b)][_0x3efcff(0x1c2)],'PASSWORD':process['env'][_0x3efcff(0x4e1)],'URI':process['env'][_0x3efcff(0x3d9)],'DB_PREFIX_NAME':process[_0x3efcff(0x73b)][_0x3efcff(0x616)]},'ENABLED':process[_0x3efcff(0x73b)]?.[_0x3efcff(0xb3)]===_0x3efcff(0x30e)},'REDIS':{'ENABLED':process[_0x3efcff(0x73b)]?.[_0x3efcff(0x2b8)]===_0x3efcff(0x30e),'URI':process['env'][_0x3efcff(0x40e)]||_0x3efcff(0x3cc),'PREFIX_KEY':process[_0x3efcff(0x73b)]['REDIS_PREFIX_KEY']||_0x3efcff(0x25d)},'LOG':{'LEVEL':process[_0x3efcff(0x73b)]?.['LOG_LEVEL'][_0x3efcff(0xc8)](','),'COLOR':process[_0x3efcff(0x73b)]?.[_0x3efcff(0x36f)]===_0x3efcff(0x30e)},'PROXY':Number[_0x3efcff(0x6e8)](process['env']?.[_0x3efcff(0x1a4)]),'AUTHENTICATION':{'TYPE':process[_0x3efcff(0x73b)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process['env'][_0x3efcff(0x4d8)]},'JWT':{'EXPIRIN_IN':Number[_0x3efcff(0x6d8)](process[_0x3efcff(0x73b)]?.[_0x3efcff(0x3d2)])?Number['parseInt'](process[_0x3efcff(0x73b)][_0x3efcff(0x3d2)]):0xe10,'SECRET':process[_0x3efcff(0x73b)]['AUTHENTICATION_JWT_SECRET']}}};}},b=new is(),Lr=O(require(a0_0x57f064(0x39f))),he=O(require(a0_0x57f064(0x6f5))),Ls=require(a0_0x57f064(0x39c)),os=O(require(a0_0x57f064(0x5b5))),ns=(_0x1f95db=>(_0x1f95db['LOG']=a0_0x57f064(0x55d),_0x1f95db['INFO']=a0_0x57f064(0x5c2),_0x1f95db[a0_0x57f064(0x47a)]=a0_0x57f064(0x448),_0x1f95db[a0_0x57f064(0x2e2)]=a0_0x57f064(0x1f7),_0x1f95db[a0_0x57f064(0x540)]='\x1b[36m',_0x1f95db[a0_0x57f064(0x270)]=a0_0x57f064(0x573),_0x1f95db[a0_0x57f064(0x2b1)]=a0_0x57f064(0x264),_0x1f95db))(ns||{}),Bs=(_0x1232c1=>(_0x1232c1[a0_0x57f064(0x511)]=a0_0x57f064(0x12e),_0x1232c1[a0_0x57f064(0x2b1)]=a0_0x57f064(0x296),_0x1232c1[a0_0x57f064(0xac)]=a0_0x57f064(0x520),_0x1232c1['WARN']=a0_0x57f064(0x176),_0x1232c1['ERROR']=a0_0x57f064(0x469),_0x1232c1[a0_0x57f064(0x540)]=a0_0x57f064(0x268),_0x1232c1[a0_0x57f064(0x270)]=a0_0x57f064(0x348),_0x1232c1))(Bs||{}),Gs=(_0x3663fd=>(_0x3663fd['LOG']=a0_0x57f064(0x511),_0x3663fd['WARN']=a0_0x57f064(0x47a),_0x3663fd['INFO']=a0_0x57f064(0xac),_0x3663fd['DARK']='DARK',_0x3663fd[a0_0x57f064(0x2e2)]='ERROR',_0x3663fd[a0_0x57f064(0x540)]='DEBUG',_0x3663fd['VERBOSE']=a0_0x57f064(0x270),_0x3663fd))(Gs||{}),Ws=(_0x599831=>(_0x599831[a0_0x57f064(0x511)]=a0_0x57f064(0x23b),_0x599831[a0_0x57f064(0xac)]='\x1b[44m',_0x599831[a0_0x57f064(0x47a)]=a0_0x57f064(0x3fb),_0x599831[a0_0x57f064(0x2b1)]=a0_0x57f064(0x6d6),_0x599831[a0_0x57f064(0x2e2)]='\x1b[41m',_0x599831[a0_0x57f064(0x540)]=a0_0x57f064(0xd6),_0x599831['VERBOSE']=a0_0x57f064(0x5fa),_0x599831))(Ws||{}),v=class{constructor(_0x28bb48='Logger'){const _0x56989f=a0_0x57f064;this[_0x56989f(0x6e3)]=_0x28bb48,this[_0x56989f(0x228)]=b;}[a0_0x57f064(0x163)](_0xd8559c){this['context']=_0xd8559c;}['console'](_0x446afc,_0x406034){const _0x31fac9=a0_0x57f064;let _0x4ce9e2=[];this[_0x31fac9(0x228)]['get'](_0x31fac9(0x511))['LEVEL'][_0x31fac9(0x680)](_0x1fbf85=>_0x4ce9e2[_0x31fac9(0x1e9)](Gs[_0x1fbf85]));let _0x57a4d0=typeof _0x446afc;_0x4ce9e2['includes'](_0x406034)&&(b[_0x31fac9(0x136)]('LOG')['COLOR']?(console['log'](_0x31fac9(0x641)+Bs[_0x406034],_0x31fac9(0x35b),(0x0,os[_0x31fac9(0x25e)])()[_0x31fac9(0x3af)](_0x31fac9(0x705)),'\x1b[0m',ns[_0x406034]+Ws[_0x406034]+_0x31fac9(0x641),_0x406034+_0x31fac9(0x732),_0x31fac9(0x6a2),this[_0x31fac9(0x6e3)]+_0x31fac9(0x62a),ns[_0x406034],_0x57a4d0!==_0x31fac9(0x6c8)?_0x446afc:'','\x1b[0m'),_0x57a4d0==='object'&&console[_0x31fac9(0x71f)](_0x446afc,'\x0a')):console[_0x31fac9(0x71f)]((0x0,os[_0x31fac9(0x25e)])()[_0x31fac9(0x3af)](_0x31fac9(0x12d)),_0x406034+'\x20',''+this[_0x31fac9(0x6e3)],_0x446afc));}[a0_0x57f064(0x71f)](_0x3aeec9){const _0x338fbe=a0_0x57f064;this[_0x338fbe(0x1f5)](_0x3aeec9,_0x338fbe(0x511));}[a0_0x57f064(0x3e5)](_0x9c0b57){const _0x5a5c2d=a0_0x57f064;this['console'](_0x9c0b57,_0x5a5c2d(0xac));}[a0_0x57f064(0x704)](_0x4c972e){const _0x3232c7=a0_0x57f064;this[_0x3232c7(0x1f5)](_0x4c972e,_0x3232c7(0x47a));}['error'](_0x4bc7ae){const _0xb85a6c=a0_0x57f064;this[_0xb85a6c(0x1f5)](_0x4bc7ae,_0xb85a6c(0x2e2));}[a0_0x57f064(0xc2)](_0x419d46){const _0x132bbe=a0_0x57f064;this[_0x132bbe(0x1f5)](_0x419d46,'VERBOSE');}[a0_0x57f064(0xb4)](_0x3ce780){const _0x13df89=a0_0x57f064;this[_0x13df89(0x1f5)](_0x3ce780,'DEBUG');}[a0_0x57f064(0x43c)](_0x5805e8){const _0x1afb9c=a0_0x57f064;this[_0x1afb9c(0x1f5)](_0x5805e8,'DARK');}};function zs(){const _0x1fa3e6=a0_0x57f064;process['on'](_0x1fa3e6(0x6f8),(_0x2764c9,_0x470b70)=>{const _0x1830de=_0x1fa3e6;new v(_0x1830de(0x6f8))[_0x1830de(0x3e1)]({'origin':_0x470b70,'stderr':process[_0x1830de(0x605)]['fd'],'error':_0x2764c9});}),process['on'](_0x1fa3e6(0x663),(_0x381e9c,_0x18be50)=>{const _0x333ded=_0x1fa3e6;new v(_0x333ded(0x663))[_0x333ded(0x3e1)]({'origin':_0x18be50,'stderr':process[_0x333ded(0x605)]['fd'],'error':_0x381e9c});});}var Hs=O(require(a0_0x57f064(0x35f))),cs=new Hs['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),ke=require(a0_0x57f064(0x5e1)),Se=O(require(a0_0x57f064(0x5e1))),$e=new v(a0_0x57f064(0x132)),$=b['get'](a0_0x57f064(0x5d1)),T=$[a0_0x57f064(0x58d)]?$[a0_0x57f064(0x6d5)][a0_0x57f064(0x36b)]?Se[a0_0x57f064(0x25e)][a0_0x57f064(0x548)]($[a0_0x57f064(0x6d5)][a0_0x57f064(0x36b)],{'dbName':$[a0_0x57f064(0x6d5)][a0_0x57f064(0x5a6)]+'-whatsapp-api'}):Se['default']['createConnection'](a0_0x57f064(0x40b)+$['CONNECTION'][a0_0x57f064(0x6d1)]+':'+$['CONNECTION'][a0_0x57f064(0x694)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':$[a0_0x57f064(0x6d5)]['USER'],'pass':$[a0_0x57f064(0x6d5)]['PASSWORD'],'dbName':$[a0_0x57f064(0x6d5)][a0_0x57f064(0x5a6)]+a0_0x57f064(0x37e)}):null;$[a0_0x57f064(0x58d)]&&$e[a0_0x57f064(0x3e5)](a0_0x57f064(0x44e)+T[a0_0x57f064(0x3c4)]);var me=$[a0_0x57f064(0x58d)]?$[a0_0x57f064(0x6d5)][a0_0x57f064(0x36b)]?Se[a0_0x57f064(0x25e)][a0_0x57f064(0x548)]($[a0_0x57f064(0x6d5)]['URI'],{'dbName':a0_0x57f064(0x397)}):Se[a0_0x57f064(0x25e)]['createConnection']('mongodb://'+$['CONNECTION'][a0_0x57f064(0x6d1)]+':'+$[a0_0x57f064(0x6d5)][a0_0x57f064(0x694)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':$[a0_0x57f064(0x6d5)][a0_0x57f064(0x275)],'pass':$[a0_0x57f064(0x6d5)]['PASSWORD'],'dbName':a0_0x57f064(0x285)}):null;me&&$e[a0_0x57f064(0x3e5)](a0_0x57f064(0x44e)+me[a0_0x57f064(0x3c4)]),process['on'](a0_0x57f064(0x5a7),()=>{const _0x26421f=a0_0x57f064;T&&T['close'](()=>{const _0xcc63f9=a0_0x2175;$e['info'](_0xcc63f9(0x51b));}),me&&me[_0x26421f(0x1fd)](()=>{const _0x3e75c3=_0x26421f;$e['info'](_0x3e75c3(0x575));});});var Kr=new ke[(a0_0x57f064(0x102))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Qr=new ke['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Kr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Yr=new ke[(a0_0x57f064(0x102))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Qr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Ks=_0x217f16=>{const _0x3ce62c=a0_0x57f064;let _0x3bc946='z_'+_0x217f16+_0x3ce62c(0x495);return T?.['model']('ChatModel',Yr,_0x3bc946);},Qs=require(a0_0x57f064(0x5e1)),Xr=new Qs['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Ys=_0x44dec0=>{const _0x57cec4=a0_0x57f064;let _0x37cd6b='z_'+_0x44dec0+'_Contacts';return T?.[_0x57cec4(0x6a1)](_0x57cec4(0x2fe),Xr,_0x37cd6b);},Xs=require(a0_0x57f064(0x5e1)),ls=class{},Zr=new Xs[(a0_0x57f064(0x102))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Zs=me?.['model'](ls[a0_0x57f064(0x336)],Zr,a0_0x57f064(0x118)),ea=require(a0_0x57f064(0x5e1)),ei=new ea[(a0_0x57f064(0x102))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),ta=_0x1f76c4=>{const _0x90d77d=a0_0x57f064;let _0x39210d='z_'+_0x1f76c4+_0x90d77d(0x49a);return T?.['model'](_0x90d77d(0x110),ei,_0x39210d);},sa=require(a0_0x57f064(0x5e1)),us=class{},ti=new sa[(a0_0x57f064(0x102))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),aa=T?.[a0_0x57f064(0x6a1)](us[a0_0x57f064(0x336)],ti,'authentication'),ra=require(a0_0x57f064(0x5e1)),ds=class{},ia=new ra[(a0_0x57f064(0x102))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ia[a0_0x57f064(0x6e7)]('save',function(_0x2d69fa){const _0x332ed1=a0_0x57f064;delete this['flowActive'],delete this['flowIgnoreGroups'],delete this[_0x332ed1(0x20c)],delete this['flowStopConversation'],delete this[_0x332ed1(0x736)],_0x2d69fa();});var oa=T?.['model'](ds[a0_0x57f064(0x336)],ia,a0_0x57f064(0x558)),k=require('mongoose'),na=require(a0_0x57f064(0x415)),Le=class{},ca=new k[(a0_0x57f064(0x102))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ps=new k[(a0_0x57f064(0x102))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),si=new k[(a0_0x57f064(0x102))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x57f064(0x6ff)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x57f064(0x2ff)},'pollErrorMessage':{'type':String,'default':a0_0x57f064(0x669)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),la=new k[(a0_0x57f064(0x102))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ai=new k[(a0_0x57f064(0x102))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),ri=new k[(a0_0x57f064(0x102))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ua=new k[(a0_0x57f064(0x102))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':si},'apirequest':ai,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ws=new k[(a0_0x57f064(0x102))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),da=new k['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),hs=class{},je=new k[(a0_0x57f064(0x102))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,na['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x1ac07c=a0_0x57f064;return _0x1ac07c(0x306)+Math[_0x1ac07c(0x4b2)]()['toString'](0x24)[_0x1ac07c(0x5cd)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ws],'variablesNotFound':{'type':[String]},'blocks':[ua],'groups':[ca],'conditions':[la],'varedits':[da],'replyOptions':{'type':[ps],'default':[]}});je['pre'](a0_0x57f064(0x27d),function(_0x28cd22){const _0x446544=a0_0x57f064;let _0x21971c=new Set(),_0x4592ea=new Set(this['variables']?.[_0x446544(0x3b7)](_0x4e0cc4=>_0x4e0cc4['name'])),_0x492752=JSON[_0x446544(0x24b)](this),_0x38ff94=/{{(?!_)([^}]*)}}/g,_0x573196;for(;(_0x573196=_0x38ff94[_0x446544(0x424)](_0x492752))!==null;)_0x4592ea[_0x446544(0xdd)](_0x573196[0x1])||_0x21971c[_0x446544(0x57c)](_0x573196[0x1]);_0x21971c[_0x446544(0x4d7)]>0x0?(console[_0x446544(0x704)](_0x446544(0x115),Array[_0x446544(0x6aa)](_0x21971c)),this[_0x446544(0x377)]=Array[_0x446544(0x6aa)](_0x21971c)):this[_0x446544(0x377)]=[],_0x28cd22();}),je[a0_0x57f064(0x6e7)](a0_0x57f064(0x561),function(_0x422e50){const _0x1bd8ad=a0_0x57f064;let _0x3f438c=this['getUpdate']();if(_0x3f438c&&typeof _0x3f438c==_0x1bd8ad(0x6c8)&&_0x1bd8ad(0x727)in _0x3f438c){let _0x119435=_0x3f438c[_0x1bd8ad(0x727)];if(_0x119435){let _0x3217b9=new Set(),_0x415fcf=new Set(_0x119435[_0x1bd8ad(0x2e8)]?.[_0x1bd8ad(0x3b7)](_0xe6d138=>_0xe6d138[_0x1bd8ad(0x336)])),_0x14bd2c=JSON[_0x1bd8ad(0x24b)](_0x119435),_0x13760f=/{{(?!_)([^}]*)}}/g,_0x20779f;for(;(_0x20779f=_0x13760f[_0x1bd8ad(0x424)](_0x14bd2c))!==null;)_0x415fcf[_0x1bd8ad(0xdd)](_0x20779f[0x1])||_0x3217b9[_0x1bd8ad(0x57c)](_0x20779f[0x1]);_0x3217b9['size']>0x0?(console[_0x1bd8ad(0x704)]('Variáveis\x20não\x20encontradas:',Array[_0x1bd8ad(0x6aa)](_0x3217b9)),_0x119435[_0x1bd8ad(0x377)]=Array[_0x1bd8ad(0x6aa)](_0x3217b9)):_0x119435[_0x1bd8ad(0x377)]=[],this[_0x1bd8ad(0x103)]({'$set':_0x119435});}}_0x422e50();});var pa=_0x173117=>{const _0x12cd8e=a0_0x57f064;let _0x35fadc='z_'+_0x173117+_0x12cd8e(0x490);return T?.['model'](_0x12cd8e(0x427),je,_0x35fadc);},ha=T?.[a0_0x57f064(0x6a1)](hs[a0_0x57f064(0x336)],je,'flow'),ii=new k['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ws],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[ri]},{'_id':!0x1}),gs=class{},ga=new k['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ws],'blocks':[ua],'groups':[ca],'conditions':[la],'varedits':[da],'replyOptions':{'type':[ps],'default':[]},'chatLog':ii,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x57f064(0xf2)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x57f064(0x2ff)},'waitingMenu_replyOptions':{'type':[ps],'default':[]}}),ma=_0x22f689=>{const _0x53bcdd=a0_0x57f064;let _0x1f936e='z_'+_0x22f689+_0x53bcdd(0x10c);return T?.[_0x53bcdd(0x6a1)](_0x53bcdd(0x314),ga,_0x1f936e);},fa=T?.['model'](gs[a0_0x57f064(0x336)],ga,a0_0x57f064(0x4cb)),ms=class{},oi=new k[(a0_0x57f064(0x102))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ni=new k[(a0_0x57f064(0x102))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),wa=new k[(a0_0x57f064(0x102))]({'owner':{'type':String},'status':{'type':String,'default':'scheduled'},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':ni,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[oi],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ya=_0x3d90d3=>{const _0x5cb2c9=a0_0x57f064;let _0x5e8126='z_'+_0x3d90d3+_0x5cb2c9(0x53d);return T?.[_0x5cb2c9(0x6a1)](_0x5cb2c9(0x21b),wa,_0x5e8126);},ba=T?.['model'](ms[a0_0x57f064(0x336)],wa,a0_0x57f064(0x4ae)),fs=class{},ci=new k['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),li=new k[(a0_0x57f064(0x102))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x57f064(0x175)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),ui=new k[(a0_0x57f064(0x102))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),di=new k['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[ui]},'customFields':{'type':[ci]},'flowConfig':{'type':li,'default':{}}}),Fe=T?.[a0_0x57f064(0x6a1)](fs[a0_0x57f064(0x336)],di,a0_0x57f064(0x6ea)),Sa=require(a0_0x57f064(0x5e1)),pi=new Sa[(a0_0x57f064(0x102))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ca=_0x118a2c=>{const _0x54af39=a0_0x57f064;let _0x22062f='z_'+_0x118a2c+_0x54af39(0x4c1);return T?.['model']('LabelModel',pi,_0x22062f);},D=class{constructor(_0x4443f7){const _0x2ee3a2=a0_0x57f064;this[_0x2ee3a2(0x9a)]=_0x4443f7[_0x2ee3a2(0x136)]('DATABASE');}};function A(_0xee81bf){const _0x3fcebe=a0_0x57f064;let _0x24069e={};for(let [_0xb40af8,_0x53bc74]of Object[_0x3fcebe(0x252)](_0xee81bf))if(typeof _0x53bc74==_0x3fcebe(0x6c8)&&!Array[_0x3fcebe(0x184)](_0x53bc74)){for(let [_0xaccb6d,_0x5304b5]of Object['entries'](_0x53bc74))_0x24069e[_0xb40af8+'.'+_0xaccb6d]=_0x5304b5;}else _0x24069e[_0xb40af8]=_0x53bc74;return _0x24069e;}var Ue=class{constructor(_0x586ded,_0x2981cc,_0x5dee68,_0x254655,_0x5d3050,_0x3e5c8d,_0x255073,_0x127eae,_0x8e1c46,_0x2ea262,_0x408ce6,_0x212185){const _0x11e7d5=a0_0x57f064;this[_0x11e7d5(0x65a)]=_0x586ded,this[_0x11e7d5(0x206)]=_0x2981cc,this[_0x11e7d5(0x31f)]=_0x5dee68,this[_0x11e7d5(0x134)]=_0x254655,this[_0x11e7d5(0x558)]=_0x5d3050,this[_0x11e7d5(0x199)]=_0x3e5c8d,this[_0x11e7d5(0x525)]=_0x255073,this[_0x11e7d5(0x4cb)]=_0x127eae,this['label']=_0x8e1c46,this[_0x11e7d5(0x3ad)]=_0x2ea262,this[_0x11e7d5(0x36d)]=_0x408ce6,this[_0x11e7d5(0x50e)]=_0x212185;}get[a0_0x57f064(0x30f)](){const _0x57fb0a=a0_0x57f064;return this[_0x57fb0a(0x50e)];}},qe=class{},Je=class extends D{[a0_0x57f064(0xb2)](_0x1e9317){return ta(_0x1e9317);}async[a0_0x57f064(0x621)](_0x4377d1,_0x27ddab){const _0x325975=a0_0x57f064;if(_0x4377d1[_0x325975(0x611)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x325975(0xb2)](_0x27ddab)[_0x325975(0x153)]([..._0x4377d1]))['length']};}catch(_0x4dc205){return _0x4dc205;}}async[a0_0x57f064(0x5c8)](_0x36cede,_0x571442){const _0x37d786=a0_0x57f064;try{let _0x470d2f=this[_0x37d786(0xb2)](_0x571442),_0x133fa0=A(_0x36cede[_0x37d786(0x3bc)]);return await _0x470d2f[_0x37d786(0x5c8)](_0x133fa0)[_0x37d786(0x5fb)]({'messageTimestamp':-0x1})[_0x37d786(0x4cf)](_0x36cede?.[_0x37d786(0x4cf)]??0x0)['lean']();}catch{return[];}}async['delete'](_0x2c2b51,_0x21f6aa){const _0x2a8152=a0_0x57f064;try{let _0x5ce242=this[_0x2a8152(0xb2)](_0x21f6aa),_0x17eb93=A(_0x2c2b51[_0x2a8152(0x3bc)]);await _0x5ce242['deleteMany'](_0x17eb93);}catch(_0x5ee79b){console[_0x2a8152(0x3e1)](_0x5ee79b);}}async['update'](_0x326e80,_0x122e29,_0xee8b8f){const _0x2312bc=a0_0x57f064;try{let _0x3c8060=this['getMessageModelForOwner'](_0xee8b8f),_0x3806d5=A(_0x326e80[_0x2312bc(0x3bc)]);return await _0x3c8060['findOneAndUpdate'](_0x3806d5,{'$set':_0x122e29},{'new':!0x0});}catch(_0x3a6fd4){throw console[_0x2312bc(0x3e1)](_0x3a6fd4),_0x3a6fd4;}}async[a0_0x57f064(0x153)](_0x26cb8c,_0x443c76){const _0x1f0cf3=a0_0x57f064;if(_0x26cb8c[_0x1f0cf3(0x611)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x1f0cf3(0xb2)](_0x443c76)[_0x1f0cf3(0x153)]([..._0x26cb8c]))[_0x1f0cf3(0x611)]};}catch(_0x47f828){return console[_0x1f0cf3(0x71f)]('ERROR:\x20',_0x47f828),_0x47f828;}}async[a0_0x57f064(0x72b)](_0x1cc2c2){const _0x47157c=a0_0x57f064;try{return await this[_0x47157c(0xb2)](_0x1cc2c2)[_0x47157c(0x620)]['drop'](),{'success':!0x0};}catch(_0x2ca3e4){return console[_0x47157c(0x3e1)](_0x2ca3e4),{'success':!0x1,'error':_0x2ca3e4};}}},Rr=O(require(a0_0x57f064(0x42d))),m=O(require(a0_0x57f064(0x670))),Te=require('fs'),J=O(require('path')),Z=O(require(a0_0x57f064(0x280))),Tr=require(a0_0x57f064(0x415)),Or=O(require(a0_0x57f064(0x2ce))),Ar=O(require(a0_0x57f064(0x2bb))),Ea=[a0_0x57f064(0x189),a0_0x57f064(0x133),'audioMessage',a0_0x57f064(0x5bb),a0_0x57f064(0x272)],Ma=[a0_0x57f064(0x3e2),a0_0x57f064(0x63d),a0_0x57f064(0x1ad),a0_0x57f064(0x481)],Ts=require('os'),Pt=O(require(a0_0x57f064(0x1e6))),jt=require(a0_0x57f064(0x647)),$t=require(a0_0x57f064(0x9b)),le=O(require('mongoose')),P=require(a0_0x57f064(0x104)),fe=class{constructor(_0x1a8ef9,_0xf4c722,_0x5bf417){const _0x974a6b=a0_0x57f064;this['jid']=_0x1a8ef9,this['exists']=_0xf4c722,this[_0x974a6b(0x336)]=_0x5bf417;}},Ve=class{},Be=class{},Ce=class{},Ge=class{},We=class{},we=class{},ze=class{},He=class{},Ke=class{},Qe=class{},Ot=O(require(a0_0x57f064(0x6f5))),va=require('fs'),Na=require(a0_0x57f064(0x39c));async function Ye(_0x48e2e4){const _0x58160b=a0_0x57f064;let _0x1fa313=B[_0x58160b(0x5f0)][_0x48e2e4];if($[_0x58160b(0x58d)]){let _0x4650f6=T[_0x58160b(0x62b)]()['db']($[_0x58160b(0x6d5)]['DB_PREFIX_NAME']+_0x58160b(0x15c))[_0x58160b(0x620)](_0x48e2e4);return _0x1fa313||(await _0x4650f6['find']({})['toArray']())[_0x58160b(0x611)]>0x0;}return _0x1fa313||(0x0,va[_0x58160b(0x70f)])((0x0,Na[_0x58160b(0x69e)])(ge,_0x48e2e4));}async function Ra(_0x21120b,_0x1783ef,_0x47583f){const _0xa71e4c=a0_0x57f064;if(_0x21120b[_0xa71e4c(0x223)][_0xa71e4c(0x613)]('/instance/create')||_0x21120b[_0xa71e4c(0x223)][_0xa71e4c(0x613)](_0xa71e4c(0x594))||_0x21120b[_0xa71e4c(0x223)][_0xa71e4c(0x613)](_0xa71e4c(0x57e))||_0x21120b[_0xa71e4c(0x223)][_0xa71e4c(0x613)]('/config')||_0x21120b[_0xa71e4c(0x223)]['includes'](_0xa71e4c(0x553))||_0x21120b[_0xa71e4c(0x223)][_0xa71e4c(0x613)](_0xa71e4c(0x9f))||_0x21120b['originalUrl'][_0xa71e4c(0x613)](_0xa71e4c(0x63a)))return _0x47583f();let _0x371ace=_0x21120b[_0xa71e4c(0x1c9)];if(!_0x371ace?.[_0xa71e4c(0x45c)])throw new w(_0xa71e4c(0x1f4));if(!await Ye(_0x371ace[_0xa71e4c(0x45c)]))throw new L(_0xa71e4c(0x550)+_0x371ace[_0xa71e4c(0x45c)]+'\x20instance\x20does\x20not\x20exist');_0x47583f();}async function Ta(_0x452d68,_0x1cae3c,_0x491cf5){const _0x143e2f=a0_0x57f064;if(_0x452d68[_0x143e2f(0x223)][_0x143e2f(0x613)](_0x143e2f(0x532))){let _0x1c2f3c=_0x452d68[_0x143e2f(0x2b6)];if(await Ye(_0x1c2f3c['instanceName']))throw new K(_0x143e2f(0x6bb)+_0x1c2f3c['instanceName']+_0x143e2f(0xa4));B[_0x143e2f(0x5f0)][_0x1c2f3c[_0x143e2f(0x45c)]]&&delete B[_0x143e2f(0x5f0)][_0x1c2f3c[_0x143e2f(0x45c)]];}_0x491cf5();}function a0_0x2175(_0x23a5f0,_0x4b1e1e){const _0x31ac56=a0_0x31ac();return a0_0x2175=function(_0x2175ca,_0x70c45e){_0x2175ca=_0x2175ca-0x97;let _0x5314d0=_0x31ac56[_0x2175ca];return _0x5314d0;},a0_0x2175(_0x23a5f0,_0x4b1e1e);}var Oa=require(a0_0x57f064(0x104)),Aa=O(require(a0_0x57f064(0x6f9))),Xe='uazapi',gi=new v(a0_0x57f064(0x4c3));async function mi(_0x35b716,_0x52ac19,_0x6479e0){const _0x34dcb8=a0_0x57f064;let _0x47ee1d=_0x35b716[_0x34dcb8(0x136)](_0x34dcb8(0x68f));if(_0x47ee1d&&b[_0x34dcb8(0x136)]('AUTHENTICATION')[_0x34dcb8(0x149)][_0x34dcb8(0x55e)]!==_0x47ee1d)throw new te();if(b['get']('AUTHENTICATION')['API_KEY'][_0x34dcb8(0x55e)]===_0x47ee1d)return _0x6479e0();if((_0x35b716[_0x34dcb8(0x223)][_0x34dcb8(0x613)]('/instance/create')||_0x35b716[_0x34dcb8(0x223)]['includes']('/instance/fetchInstances'))&&!_0x47ee1d)throw new K(_0x34dcb8(0x724),_0x34dcb8(0x1cf));let _0x5de84a=b['get'](_0x34dcb8(0x60b))[_0x34dcb8(0x38e)];try{let [_0x574951,_0x4996c7]=_0x35b716[_0x34dcb8(0x136)]('authorization')[_0x34dcb8(0xc8)]('\x20');if(_0x574951[_0x34dcb8(0x1d4)]()!==_0x34dcb8(0x325))throw new te();if(!(0x0,Oa[_0x34dcb8(0xe5)])(_0x4996c7))throw new te();let _0x480312=_0x35b716[_0x34dcb8(0x1c9)],_0x56bfa4=Aa[_0x34dcb8(0x25e)][_0x34dcb8(0x56d)](_0x4996c7,_0x5de84a[_0x34dcb8(0x29b)],{'ignoreExpiration':_0x5de84a[_0x34dcb8(0xb7)]===0x0});if(_0x480312[_0x34dcb8(0x45c)]!==_0x56bfa4[_0x34dcb8(0x45c)]||Xe!==_0x56bfa4[_0x34dcb8(0x29f)])throw new te();return _0x6479e0();}catch(_0x46d390){throw gi[_0x34dcb8(0x3e1)](_0x46d390),new te();}}async function fi(_0x9949f,_0x5f474a,_0x5abc63){const _0x7314bb=a0_0x57f064;let _0x14277a=b['get']('AUTHENTICATION')['API_KEY'],_0xd9755c=_0x9949f['get'](_0x7314bb(0x68f));if(_0x14277a[_0x7314bb(0x55e)]===_0xd9755c)return _0x5abc63();if(_0x9949f[_0x7314bb(0x223)][_0x7314bb(0x613)](_0x7314bb(0x532))){let _0x1b111b=Ze,_0x365d85=_0x9949f['body']['instanceName'];if(_0x1b111b&&_0x365d85[_0x7314bb(0x1d4)]()['startsWith'](_0x1b111b[_0x7314bb(0x1d4)]()))return _0x5abc63();if(!_0xd9755c)throw new K(_0x7314bb(0x724),_0x7314bb(0x1cf));}if(_0x9949f['originalUrl'][_0x7314bb(0x613)](_0x7314bb(0x594))&&!_0xd9755c)throw new K(_0x7314bb(0x724),_0x7314bb(0x1cf));if(_0x9949f[_0x7314bb(0x223)][_0x7314bb(0x613)]('/exit')&&!_0xd9755c)throw new K('Missing\x20global\x20api\x20key',_0x7314bb(0x1cf));if(_0x9949f['originalUrl'][_0x7314bb(0x613)]('/config')&&!_0xd9755c)throw new K(_0x7314bb(0x724),_0x7314bb(0x1cf));try{let _0x389f86=_0x9949f[_0x7314bb(0x1c9)],_0x149b7c=await ue[_0x7314bb(0x199)][_0x7314bb(0x5c8)](_0x389f86[_0x7314bb(0x45c)]);if(_0x149b7c&&_0x149b7c[_0x7314bb(0x68f)]===_0xd9755c)return _0x5abc63();}catch{}throw new te();}var Ia={'jwt':mi,'apikey':fi},ur=require(a0_0x57f064(0x6f5)),E=require(a0_0x57f064(0x415)),C=(..._0x45747d)=>{const _0x5496e6=a0_0x57f064;let _0x3ccf66={};return _0x45747d['forEach'](_0x4d41f9=>_0x3ccf66[_0x4d41f9]={'minLength':0x1,'description':_0x5496e6(0x3fe)+_0x4d41f9+_0x5496e6(0x47d)}),{'if':{'propertyNames':{'enum':[..._0x45747d]}},'then':{'properties':_0x3ccf66}};},M={'$id':(0x0,E['v4'])(),'type':a0_0x57f064(0x6c8),'properties':{'instanceName':{'type':a0_0x57f064(0x72e)}},...C(a0_0x57f064(0x45c))},cc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x57f064(0x72e)}},'required':['oldToken'],...C(a0_0x57f064(0x4e0))},lc={'properties':{'key':{'type':a0_0x57f064(0x6c8),'properties':{'id':{'type':a0_0x57f064(0x72e)},'remoteJid':{'type':a0_0x57f064(0x72e)},'fromMe':{'type':a0_0x57f064(0x112),'enum':[!0x0,!0x1]}},'required':['id',a0_0x57f064(0x409),a0_0x57f064(0x3c1)],...C('id',a0_0x57f064(0x409))},'message':{'type':a0_0x57f064(0x6c8)}}},Q={'properties':{'delay':{'type':'integer','description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':'string','enum':[a0_0x57f064(0x462),a0_0x57f064(0x4b0),a0_0x57f064(0x35d),'recording','paused']}}},z={'type':a0_0x57f064(0x72e),'pattern':'^\x5cd+[\x5c.@\x5cw-]+','description':a0_0x57f064(0x40a)},xa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x57f064(0x72e)}},'required':[a0_0x57f064(0x435)],...C('text')}},'required':[a0_0x57f064(0x62c),a0_0x57f064(0x355)]},Da={'type':a0_0x57f064(0x72e),'pattern':a0_0x57f064(0x677),'description':a0_0x57f064(0x40a)},uc={'$id':(0x0,E['v4'])(),'type':a0_0x57f064(0x6c8),'properties':{'number':{...Da},'options':{...Q},'textMessage':{'type':a0_0x57f064(0x6c8),'properties':{'text':{'type':a0_0x57f064(0x72e)}},'required':[a0_0x57f064(0x435)],...C(a0_0x57f064(0x435))}},'required':['textMessage','number']},dc={'$id':(0x0,E['v4'])(),'type':a0_0x57f064(0x6c8),'properties':{'number':{...Da},'options':{...Q},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':'string','enum':[a0_0x57f064(0x581),a0_0x57f064(0x672),a0_0x57f064(0x432),a0_0x57f064(0x1aa)]},'media':{'type':a0_0x57f064(0x72e)},'fileName':{'type':a0_0x57f064(0x72e)},'caption':{'type':a0_0x57f064(0x72e)}},'required':['mediatype','media'],...C(a0_0x57f064(0x4bd),a0_0x57f064(0x6e5),a0_0x57f064(0x356))}},'required':['mediaMessage','number']},_a={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':a0_0x57f064(0x6c8),'properties':{'image':{'type':a0_0x57f064(0x72e)}},'required':['image'],...C(a0_0x57f064(0x581))}},'required':[a0_0x57f064(0x272),'number']},Pa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'statusMessage':{'type':a0_0x57f064(0x6c8),'properties':{'type':{'type':'string','enum':[a0_0x57f064(0x435),a0_0x57f064(0x581),a0_0x57f064(0x1aa),'video']},'content':{'type':a0_0x57f064(0x72e)},'caption':{'type':a0_0x57f064(0x72e)},'backgroundColor':{'type':'string'},'font':{'type':a0_0x57f064(0x6fc),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x57f064(0x72e),'pattern':'^\x5cd+','description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0x57f064(0x112),'enum':[!0x0,!0x1]}},'required':[a0_0x57f064(0x6eb),'content'],...C(a0_0x57f064(0x6eb),a0_0x57f064(0x508))}},'required':[a0_0x57f064(0x18b)]},$a={'$id':(0x0,E['v4'])(),'type':a0_0x57f064(0x6c8),'properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':a0_0x57f064(0x6c8),'properties':{'mediatype':{'type':a0_0x57f064(0x72e),'enum':[a0_0x57f064(0x581),a0_0x57f064(0x672),a0_0x57f064(0x432),'audio']},'media':{'type':a0_0x57f064(0x72e)},'fileName':{'type':'string'},'caption':{'type':'string'}},'required':[a0_0x57f064(0x1d1),a0_0x57f064(0x356)],...C(a0_0x57f064(0x4bd),a0_0x57f064(0x6e5),a0_0x57f064(0x356))}},'required':['mediaMessage',a0_0x57f064(0x355)]},ka={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':a0_0x57f064(0x6c8),'properties':{'audio':{'type':'string'}},'required':[a0_0x57f064(0x1aa)],...C(a0_0x57f064(0x1aa))}},'required':['audioMessage',a0_0x57f064(0x355)]},La={'$id':(0x0,E['v4'])(),'type':a0_0x57f064(0x6c8),'properties':{'number':{...z},'pollMessage':{'type':a0_0x57f064(0x6c8),'properties':{'name':{'type':'string'},'selectableCount':{'type':a0_0x57f064(0x355)},'values':{'type':a0_0x57f064(0x26f),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x57f064(0x336),a0_0x57f064(0x4e3),a0_0x57f064(0x3ce)],...C(a0_0x57f064(0x336),a0_0x57f064(0x4e3),a0_0x57f064(0x3ce))}},'required':['number','pollMessage']},ja={'$id':(0x0,E['v4'])(),'type':a0_0x57f064(0x6c8),'properties':{'number':{...z},'menuMessage':{'type':'object','properties':{'text':{'type':a0_0x57f064(0x72e)},'choices':{'type':a0_0x57f064(0x26f),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x57f064(0x435),a0_0x57f064(0x4eb)],...C('text',a0_0x57f064(0x4eb))}},'required':[a0_0x57f064(0x355),a0_0x57f064(0x99)]},Fa={'$id':(0x0,E['v4'])(),'type':a0_0x57f064(0x6c8),'properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':a0_0x57f064(0x6c8),'properties':{'title':{'type':a0_0x57f064(0x72e)},'description':{'type':a0_0x57f064(0x72e)},'footerText':{'type':'string'},'buttons':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x57f064(0x6c8),'properties':{'buttonText':{'type':'string'},'buttonId':{'type':a0_0x57f064(0x72e)}},'required':[a0_0x57f064(0x1ca),a0_0x57f064(0x65b)],...C('buttonText',a0_0x57f064(0x65b))}},'mediaMessage':{'type':a0_0x57f064(0x6c8),'properties':{'media':{'type':a0_0x57f064(0x72e)},'fileName':{'type':a0_0x57f064(0x72e)},'mediatype':{'type':a0_0x57f064(0x72e),'enum':[a0_0x57f064(0x581),a0_0x57f064(0x672),'video']}},'required':[a0_0x57f064(0x356),a0_0x57f064(0x1d1)],...C(a0_0x57f064(0x356),'fileName')}},'required':[a0_0x57f064(0x572),'buttons'],...C('title',a0_0x57f064(0x6be))}},'required':[a0_0x57f064(0x355),a0_0x57f064(0x376)]},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x57f064(0x6c8),'properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':a0_0x57f064(0x6c8),'properties':{'latitude':{'type':a0_0x57f064(0x355)},'longitude':{'type':a0_0x57f064(0x355)},'name':{'type':a0_0x57f064(0x72e)},'address':{'type':a0_0x57f064(0x72e)}},'required':[a0_0x57f064(0x71c),a0_0x57f064(0x165)],...C(a0_0x57f064(0x336),'addresss')}},'required':[a0_0x57f064(0x355),a0_0x57f064(0x453)]},qa={'$id':(0x0,E['v4'])(),'type':a0_0x57f064(0x6c8),'properties':{'number':{...z},'options':{...Q},'listMessage':{'type':a0_0x57f064(0x6c8),'properties':{'title':{'type':a0_0x57f064(0x72e)},'description':{'type':a0_0x57f064(0x72e)},'footerText':{'type':a0_0x57f064(0x72e)},'buttonText':{'type':'string'},'sections':{'type':a0_0x57f064(0x26f),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x57f064(0x6c8),'properties':{'title':{'type':a0_0x57f064(0x72e)},'rows':{'type':a0_0x57f064(0x26f),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x57f064(0x6c8),'properties':{'title':{'type':a0_0x57f064(0x72e)},'description':{'type':'string'},'rowId':{'type':'string'}},'required':[a0_0x57f064(0x572),a0_0x57f064(0x417)],...C('title','rowId')}}},'required':[a0_0x57f064(0x572),a0_0x57f064(0x1ce)],...C('title')}}},'required':['title',a0_0x57f064(0x6be),a0_0x57f064(0x1ca),a0_0x57f064(0x170)],...C(a0_0x57f064(0x572),a0_0x57f064(0x6be),a0_0x57f064(0x1ca),a0_0x57f064(0x227))}},'required':[a0_0x57f064(0x355),a0_0x57f064(0x433)]},Ja={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':a0_0x57f064(0x26f),'items':{'type':a0_0x57f064(0x6c8),'properties':{'fullName':{'type':a0_0x57f064(0x72e)},'phoneNumber':{'type':a0_0x57f064(0x72e),'minLength':0xa}},'required':[a0_0x57f064(0x47f),a0_0x57f064(0xcd)],...C('fullName')},'minItems':0x1,'uniqueItems':!0x0}},'required':['number','contactMessage']},Va={'$id':(0x0,E['v4'])(),'type':a0_0x57f064(0x6c8),'properties':{'reactionMessage':{'type':a0_0x57f064(0x6c8),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x57f064(0x72e)},'remoteJid':{'type':a0_0x57f064(0x72e)},'fromMe':{'type':a0_0x57f064(0x112),'enum':[!0x0,!0x1]}},'required':['id',a0_0x57f064(0x409),a0_0x57f064(0x3c1)],...C('id',a0_0x57f064(0x409))},'reaction':{'type':a0_0x57f064(0x72e)}},'required':[a0_0x57f064(0x501),a0_0x57f064(0x295)],...C(a0_0x57f064(0x295))}},'required':[a0_0x57f064(0x5d5)]},Ba={'$id':(0x0,E['v4'])(),'type':a0_0x57f064(0x6c8),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x57f064(0x72e),'pattern':a0_0x57f064(0x3df),'description':a0_0x57f064(0x200)}}}},Ga={'$id':(0x0,E['v4'])(),'type':a0_0x57f064(0x6c8),'properties':{'readMessages':{'type':a0_0x57f064(0x26f),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x57f064(0x72e)},'fromMe':{'type':a0_0x57f064(0x112),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x57f064(0x72e)}},'required':['id','fromMe',a0_0x57f064(0x409)],...C('id',a0_0x57f064(0x409))}}},'required':['readMessages']},Wa={'$id':(0x0,E['v4'])(),'type':a0_0x57f064(0x6c8),'properties':{'privacySettings':{'type':a0_0x57f064(0x6c8),'properties':{'readreceipts':{'type':a0_0x57f064(0x72e),'enum':['all','none']},'profile':{'type':a0_0x57f064(0x72e),'enum':[a0_0x57f064(0x360),a0_0x57f064(0x291),'contact_blacklist',a0_0x57f064(0x43e)]},'status':{'type':a0_0x57f064(0x72e),'enum':[a0_0x57f064(0x360),a0_0x57f064(0x291),a0_0x57f064(0x503),'none']},'online':{'type':a0_0x57f064(0x72e),'enum':[a0_0x57f064(0x360),a0_0x57f064(0x143)]},'last':{'type':a0_0x57f064(0x72e),'enum':[a0_0x57f064(0x360),'contacts',a0_0x57f064(0x503),a0_0x57f064(0x43e)]},'groupadd':{'type':a0_0x57f064(0x72e),'enum':[a0_0x57f064(0x360),a0_0x57f064(0x291),a0_0x57f064(0x503),'none']}},'required':['readreceipts','profile',a0_0x57f064(0x5c7),a0_0x57f064(0x39e),a0_0x57f064(0x16f),'groupadd'],...C(a0_0x57f064(0x137),'profile',a0_0x57f064(0x5c7),a0_0x57f064(0x39e),a0_0x57f064(0x16f),a0_0x57f064(0x4fd))}},'required':[a0_0x57f064(0x5bf)]},za={'$id':(0x0,E['v4'])(),'type':a0_0x57f064(0x6c8),'properties':{'lastMessage':{'type':a0_0x57f064(0x6c8),'properties':{'key':{'type':a0_0x57f064(0x6c8),'properties':{'id':{'type':a0_0x57f064(0x72e)},'remoteJid':{'type':a0_0x57f064(0x72e)},'fromMe':{'type':a0_0x57f064(0x112),'enum':[!0x0,!0x1]}},'required':['id',a0_0x57f064(0x3c1),a0_0x57f064(0x409)],...C('id',a0_0x57f064(0x409))},'messageTimestamp':{'type':a0_0x57f064(0x6fc),'minLength':0x1}},'required':['key'],...C(a0_0x57f064(0x4ef))},'archive':{'type':a0_0x57f064(0x112),'enum':[!0x0,!0x1]}},'required':['lastMessage',a0_0x57f064(0x4cc)]},Ha={'$id':(0x0,E['v4'])(),'type':'object','properties':{'id':{'type':a0_0x57f064(0x72e)},'fromMe':{'type':a0_0x57f064(0x112),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x57f064(0x72e)},'participant':{'type':'string'}},'required':['id','fromMe',a0_0x57f064(0x409)],...C('id',a0_0x57f064(0x409),'participant')},Ka={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':a0_0x57f064(0x6c8),'properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':a0_0x57f064(0x72e),'minLength':0x1},'id':{'type':a0_0x57f064(0x72e),'minLength':0x1}},...C(a0_0x57f064(0x447),'id',a0_0x57f064(0x28d))}}},Qa={'$id':(0x0,E['v4'])(),'type':a0_0x57f064(0x6c8),'properties':{'name':{'type':a0_0x57f064(0x72e)}},...C(a0_0x57f064(0x336))},Ya={'$id':(0x0,E['v4'])(),'type':'object','properties':{'status':{'type':a0_0x57f064(0x72e)}},...C('status')},Ee={'$id':(0x0,E['v4'])(),'type':a0_0x57f064(0x6c8),'properties':{'number':{'type':a0_0x57f064(0x72e)},'picture':{'type':a0_0x57f064(0x72e)}}},Xa={'type':a0_0x57f064(0x6c8),'properties':{'wuid':{'type':a0_0x57f064(0x72e)},'name':{'type':a0_0x57f064(0x72e)},'picture':{'type':a0_0x57f064(0x72e)},'status':{'type':a0_0x57f064(0x72e)},'isBusiness':{'type':a0_0x57f064(0x112)}}},Za={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':a0_0x57f064(0x6c8),'properties':{'_id':{'type':a0_0x57f064(0x72e),'minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x57f064(0x3c1),a0_0x57f064(0x409),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x57f064(0x72e),'minLength':0x1,'description':a0_0x57f064(0x3fd)},'id':{'type':a0_0x57f064(0x72e),'minLength':0x1,'description':a0_0x57f064(0x3fd)},'fromMe':{'type':a0_0x57f064(0x112),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x57f064(0x6c8)}},...C(a0_0x57f064(0x447))},'limit':{'type':a0_0x57f064(0x6fc)}}},pc={'$id':(0x0,E['v4'])(),'type':a0_0x57f064(0x6c8),'properties':{'where':{'type':a0_0x57f064(0x6c8),'properties':{'_id':{'type':'string'},'remoteJid':{'type':a0_0x57f064(0x72e)},'id':{'type':a0_0x57f064(0x72e)},'fromMe':{'type':a0_0x57f064(0x112),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':a0_0x57f064(0x72e),'enum':[a0_0x57f064(0x2e2),'PENDING',a0_0x57f064(0x6b1),a0_0x57f064(0x351),a0_0x57f064(0x405),'PLAYED']}},...C('_id',a0_0x57f064(0x409),'id',a0_0x57f064(0x5c7))},'limit':{'type':a0_0x57f064(0x6fc)}}},er={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'presence':{'type':a0_0x57f064(0x72e),'enum':['unavailable','available',a0_0x57f064(0x35d),a0_0x57f064(0x3d1),'paused']}},'required':[a0_0x57f064(0x46c),a0_0x57f064(0x355)]},tr={'$id':(0x0,E['v4'])(),'type':a0_0x57f064(0x6c8),'properties':{'subject':{'type':'string'},'description':{'type':a0_0x57f064(0x72e)},'profilePicture':{'type':a0_0x57f064(0x72e)},'participants':{'type':a0_0x57f064(0x26f),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x57f064(0x72e),'minLength':0xa,'pattern':a0_0x57f064(0x403),'description':a0_0x57f064(0xbf)}}},'required':[a0_0x57f064(0x154),a0_0x57f064(0x116)],...C(a0_0x57f064(0x154),a0_0x57f064(0x6be),a0_0x57f064(0xd1))},Me={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x57f064(0x72e),'pattern':a0_0x57f064(0x6c9)}},'required':[a0_0x57f064(0x5c6)],...C(a0_0x57f064(0x5c6))},sr={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x57f064(0x72e)},'action':{'type':a0_0x57f064(0x72e),'enum':[a0_0x57f064(0x57c),a0_0x57f064(0xab),a0_0x57f064(0x53e),'demote',a0_0x57f064(0x174),a0_0x57f064(0x555)]},'participants':{'type':a0_0x57f064(0x26f),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x57f064(0x72e),'minLength':0xa,'pattern':a0_0x57f064(0x403),'description':a0_0x57f064(0xbf)}}},'required':[a0_0x57f064(0x5c6),a0_0x57f064(0x5db),'participants'],...C('groupJid','action')},ar={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x57f064(0x72e)},'expiration':{'type':a0_0x57f064(0x355),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x57f064(0x5c6),a0_0x57f064(0x27e)],...C('groupJid',a0_0x57f064(0x27e))},rr={'$id':(0x0,E['v4'])(),'type':a0_0x57f064(0x6c8),'properties':{'groupJid':{'type':a0_0x57f064(0x72e)},'image':{'type':'string'}},'required':['groupJid',a0_0x57f064(0x581)],...C('groupJid',a0_0x57f064(0x581))},ir={'$id':(0x0,E['v4'])(),'type':a0_0x57f064(0x6c8),'properties':{'groupJid':{'type':'string'},'description':{'type':a0_0x57f064(0x72e)}},'required':[a0_0x57f064(0x5c6),a0_0x57f064(0x6be)],...C(a0_0x57f064(0x5c6),a0_0x57f064(0x6be))},or={'$id':(0x0,E['v4'])(),'type':a0_0x57f064(0x6c8),'properties':{'groupJid':{'type':'string'},'name':{'type':'string'}},'required':['groupJid','name'],...C('groupJid',a0_0x57f064(0x336))},nr={'$id':(0x0,E['v4'])(),'type':a0_0x57f064(0x6c8),'properties':{'groupJid':{'type':a0_0x57f064(0x72e)},'setting':{'type':'string','enum':[a0_0x57f064(0xfe),a0_0x57f064(0x3bd),a0_0x57f064(0x524),'locked']}},'required':[a0_0x57f064(0x5c6),a0_0x57f064(0x113)],...C(a0_0x57f064(0x5c6),a0_0x57f064(0x113))},cr={'$id':(0x0,E['v4'])(),'type':a0_0x57f064(0x6c8),'properties':{'groupJid':{'type':'string'},'restrict':{'type':a0_0x57f064(0x112)},'announce':{'type':a0_0x57f064(0x112)},'memberAddMode':{'type':a0_0x57f064(0x112)},'joinApprovalMode':{'type':a0_0x57f064(0x112)},'expiration':{'type':a0_0x57f064(0x6fc),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x57f064(0x72e)},'description':{'type':a0_0x57f064(0x72e)},'image':{'type':'string'}}},ys={'$id':(0x0,E['v4'])(),'type':a0_0x57f064(0x6c8),'properties':{'inviteCode':{'type':a0_0x57f064(0x72e)}},'required':[a0_0x57f064(0x37c)],...C(a0_0x57f064(0x37c))},lr={'$id':(0x0,E['v4'])(),'type':a0_0x57f064(0x6c8),'properties':{'url':{'type':a0_0x57f064(0x72e)},'enabled':{'type':a0_0x57f064(0x112),'enum':[!0x0,!0x1]}},'required':[a0_0x57f064(0x214),a0_0x57f064(0x5a9)]},hc={'$id':(0x0,E['v4'])(),'type':a0_0x57f064(0x6c8),'properties':{'local_map':{'type':a0_0x57f064(0x112),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x57f064(0x112),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x57f064(0x112),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x57f064(0x112),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x57f064(0x112),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x57f064(0x112),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x57f064(0x112),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x57f064(0x112),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x57f064(0x112),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x57f064(0x112),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x57f064(0x112),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x57f064(0x112),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x57f064(0x112),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x57f064(0x112),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x57f064(0x112),'enum':[!0x0,!0x1]}},'required':[a0_0x57f064(0x6a9),a0_0x57f064(0x590),'QRCODE_UPDATED',a0_0x57f064(0x691),a0_0x57f064(0x164),a0_0x57f064(0x6a6),a0_0x57f064(0x449),a0_0x57f064(0x459),a0_0x57f064(0x3f7),'CONTACTS_UPDATE','PRESENCE_UPDATE',a0_0x57f064(0x5b6),a0_0x57f064(0x4b8),a0_0x57f064(0x6bc),a0_0x57f064(0x5a0),'CONNECTION_UPDATE',a0_0x57f064(0x70c),a0_0x57f064(0x687),a0_0x57f064(0x576)],...C(a0_0x57f064(0x6a9),'STATUS_INSTANCE',a0_0x57f064(0x57b),'MESSAGES_SET',a0_0x57f064(0x164),a0_0x57f064(0x6a6),a0_0x57f064(0x449),a0_0x57f064(0x459),a0_0x57f064(0x3f7),'CONTACTS_UPDATE','PRESENCE_UPDATE','CHATS_SET','CHATS_UPSERT',a0_0x57f064(0x6bc),a0_0x57f064(0x5a0),'CONNECTION_UPDATE',a0_0x57f064(0x70c),a0_0x57f064(0x687),a0_0x57f064(0x576))},et=class{},tt=class extends D{['getContactModelForOwner'](_0x38b946){return Ys(_0x38b946);}async[a0_0x57f064(0x621)](_0x4a0b88){const _0x181bde=a0_0x57f064;if(_0x4a0b88[_0x181bde(0x611)]!==0x0)try{return{'insertCount':(await this[_0x181bde(0x4f8)](_0x4a0b88[0x0][_0x181bde(0x129)])[_0x181bde(0x153)]([..._0x4a0b88]))[_0x181bde(0x611)]};}catch(_0x54dd57){return _0x54dd57;}}async[a0_0x57f064(0x3b5)](_0x13e4a2,_0x2e63c9){const _0xff533d=a0_0x57f064;try{return{'deletedCount':(await this['getContactModelForOwner'](_0x2e63c9)[_0xff533d(0x4e2)]({..._0x13e4a2[_0xff533d(0x3bc)]}))[_0xff533d(0x4dd)]};}catch(_0x4e7d92){return{'error':_0x4e7d92?.[_0xff533d(0x1ef)]()};}}async[a0_0x57f064(0x712)](_0x186b87,_0x5549f6){const _0x4d7e2b=a0_0x57f064;try{if(_0x186b87['length']===0x0)return;let _0x31119c=this[_0x4d7e2b(0x4f8)](_0x5549f6),_0x4c430d=_0x186b87[_0x4d7e2b(0x3b7)](_0x422aff=>({'updateOne':{'filter':{'_id':_0x422aff[_0x4d7e2b(0x447)],'owner':_0x5549f6},'update':{..._0x422aff}}})),{modifiedCount:_0x1640c4}=await _0x31119c['bulkWrite'](_0x4c430d);return{'insertCount':_0x1640c4};}catch{return;}}async['find'](_0x2cca04,_0x3e5648){const _0xa0fc1=a0_0x57f064;try{let _0x1d57fd=this['getContactModelForOwner'](_0x3e5648),_0x83b6e2=A(_0x2cca04[_0xa0fc1(0x3bc)]);return await _0x1d57fd['find'](_0x83b6e2)[_0xa0fc1(0x4cf)](_0x2cca04?.[_0xa0fc1(0x4cf)]??0x0)[_0xa0fc1(0x5ca)]();}catch{return[];}}async[a0_0x57f064(0x5a2)](_0x2bdf86,_0xded8e9){const _0x4ac1ee=a0_0x57f064;try{let _0x179a38=this[_0x4ac1ee(0x4f8)](_0xded8e9),_0x4dd2e4=A(_0x2bdf86[_0x4ac1ee(0x3bc)]);return await _0x179a38['findOne'](_0x4dd2e4)[_0x4ac1ee(0x5ca)]();}catch{return null;}}async[a0_0x57f064(0x72b)](_0x4e75a7){const _0x11bf82=a0_0x57f064;try{return await this['getContactModelForOwner'](_0x4e75a7)[_0x11bf82(0x620)][_0x11bf82(0xc3)](),{'success':!0x0};}catch(_0x41dfca){return console[_0x11bf82(0x3e1)](_0x41dfca),{'success':!0x1,'error':_0x41dfca};}}},st=require(a0_0x57f064(0x69d)),Ec=require(a0_0x57f064(0x3ae)),bs=new v('Validate'),V=class{[a0_0x57f064(0x5e9)](_0x28f25f,_0x41a327=!0x0){const _0xccde9c=a0_0x57f064;let _0x4a306b='/'+_0x28f25f;return _0x41a327&&(_0x4a306b+=_0xccde9c(0x4b9)),_0x4a306b;}async['dataValidate'](_0x563eba){const _0x35e02a=a0_0x57f064;let {request:_0x4fbefe,schema:_0x1ff205,ClassRef:_0x3d0630,execute:_0x3e1cac}=_0x563eba,_0x116502=new _0x3d0630(),_0x34805b=_0x4fbefe[_0x35e02a(0x2b6)],_0xd9c22=_0x4fbefe[_0x35e02a(0x1c9)];_0x4fbefe?.[_0x35e02a(0x2c8)]&&Object['keys'](_0x4fbefe[_0x35e02a(0x2c8)])[_0x35e02a(0x611)]>0x0&&Object[_0x35e02a(0x4fe)](_0xd9c22,_0x4fbefe['query']),_0x4fbefe[_0x35e02a(0x223)][_0x35e02a(0x613)]('/instance/create')&&Object['assign'](_0xd9c22,_0x34805b),Object[_0x35e02a(0x4fe)](_0x116502,_0x34805b);let _0x18b265=_0x1ff205?(0x0,st['validate'])(_0x116502,_0x1ff205):{'valid':!0x0,'errors':[]};if(!_0x18b265[_0x35e02a(0x456)]){let _0xc4ab83=_0x18b265[_0x35e02a(0x5d2)]['map'](({property:_0x593e3a,stack:_0x31a295,schema:_0x3a3907})=>{const _0x1823c4=_0x35e02a;let _0x2dd8a6;return _0x3a3907[_0x1823c4(0x6be)]?_0x2dd8a6=_0x3a3907[_0x1823c4(0x6be)]:_0x2dd8a6=_0x31a295[_0x1823c4(0x5f7)](_0x1823c4(0x583),''),{'property':_0x593e3a[_0x1823c4(0x5f7)](_0x1823c4(0x583),''),'message':_0x2dd8a6};});throw bs[_0x35e02a(0x3e1)]([..._0xc4ab83]),new w(..._0xc4ab83);}return await _0x3e1cac(_0xd9c22,_0x116502);}async[a0_0x57f064(0x2c6)](_0x3fc654){const _0x518af2=a0_0x57f064;let {request:_0x1e5805,ClassRef:_0x3b3740,schema:_0x3b77dd,execute:_0x11dcda}=_0x3fc654,_0xc42af7=_0x1e5805['query'];if(!_0xc42af7?.[_0x518af2(0x5c6)])throw new w(_0x518af2(0x5e3),_0x518af2(0x1a5));let _0xf55180=_0x1e5805['params'],_0x389e30=_0x1e5805[_0x518af2(0x2b6)],_0x303e3f=new _0x3b3740();Object[_0x518af2(0x4fe)](_0x389e30,_0xc42af7),Object[_0x518af2(0x4fe)](_0x303e3f,_0x389e30);let _0x15f906=(0x0,st['validate'])(_0x303e3f,_0x3b77dd);if(!_0x15f906[_0x518af2(0x456)]){let _0x2394fb=_0x15f906[_0x518af2(0x5d2)][_0x518af2(0x3b7)](({property:_0x15171b,stack:_0x174aab,schema:_0x24569b})=>{const _0x3f1b8a=_0x518af2;let _0x4decec;return _0x24569b['description']?_0x4decec=_0x24569b[_0x3f1b8a(0x6be)]:_0x4decec=_0x174aab[_0x3f1b8a(0x5f7)](_0x3f1b8a(0x583),''),{'property':_0x15171b[_0x3f1b8a(0x5f7)](_0x3f1b8a(0x583),''),'message':_0x4decec};});throw bs['error']([..._0x2394fb]),new w(..._0x2394fb);}return await _0x11dcda(_0xf55180,_0x303e3f);}async['joinGroupValidate'](_0x5d344c){const _0x236dce=a0_0x57f064;let {request:_0xbe12ea,ClassRef:_0x35f55e,schema:_0x1fb2b3,execute:_0x568156}=_0x5d344c,_0x4ac523=_0xbe12ea[_0x236dce(0x2b6)];if(!_0x4ac523?.[_0x236dce(0x37c)])throw new w(_0x236dce(0x1dc),_0x236dce(0x660));let _0x355280=_0xbe12ea[_0x236dce(0x1c9)],_0x46aeea=_0xbe12ea[_0x236dce(0x2b6)],_0x19f69c=new _0x35f55e();Object[_0x236dce(0x4fe)](_0x46aeea,_0x4ac523),Object[_0x236dce(0x4fe)](_0x19f69c,_0x46aeea);let _0x4344fe=(0x0,st[_0x236dce(0x5ad)])(_0x19f69c,_0x1fb2b3);if(!_0x4344fe[_0x236dce(0x456)]){let _0x5be35a=_0x4344fe['errors'][_0x236dce(0x3b7)](({property:_0x19b239,stack:_0x2bbe80,schema:_0x4e6978})=>{const _0x4d18be=_0x236dce;let _0x4d6aa7;return _0x4e6978[_0x4d18be(0x6be)]?_0x4d6aa7=_0x4e6978['description']:_0x4d6aa7=_0x2bbe80['replace']('instance.',''),{'property':_0x19b239[_0x4d18be(0x5f7)](_0x4d18be(0x583),''),'message':_0x4d6aa7};});throw bs[_0x236dce(0x3e1)]([..._0x5be35a]),new w(..._0x5be35a);}return await _0x568156(_0x355280,_0x19f69c);}},S=class{},Lc=new v(a0_0x57f064(0x464)),at=class extends V{constructor(..._0x556275){const _0x35f7f5=a0_0x57f064;super(),this['router']=(0x0,ur[_0x35f7f5(0x3dd)])(),this[_0x35f7f5(0x146)][_0x35f7f5(0xf5)](this[_0x35f7f5(0x5e9)](_0x35f7f5(0x43d)),..._0x556275,async(_0x2eb883,_0x5b8ef7)=>{const _0x3100a8=_0x35f7f5;let _0x21c5af=await this['dataValidate']({'request':_0x2eb883,'schema':er,'ClassRef':Ve,'execute':(_0x518100,_0x12269c)=>_[_0x3100a8(0x43d)](_0x518100,_0x12269c)});return _0x5b8ef7[_0x3100a8(0x5c7)](0xc9)['json'](_0x21c5af);})[_0x35f7f5(0xf5)](this[_0x35f7f5(0x5e9)](_0x35f7f5(0x675)),..._0x556275,async(_0x2e2c5c,_0x135403)=>{const _0x45a4fa=_0x35f7f5;let _0x559ca0=await this[_0x45a4fa(0x1bc)]({'request':_0x2e2c5c,'schema':Ba,'ClassRef':Be,'execute':(_0x54480a,_0x274b9d)=>_[_0x45a4fa(0xd3)](_0x54480a,_0x274b9d)});return _0x135403[_0x45a4fa(0x5c7)](0xc9)[_0x45a4fa(0x125)](_0x559ca0);})[_0x35f7f5(0xf5)](this[_0x35f7f5(0x5e9)](_0x35f7f5(0x412)),..._0x556275,async(_0x322f16,_0x1106ff)=>{const _0x2ee18c=_0x35f7f5;let _0x586436=await this['dataValidate']({'request':_0x322f16,'schema':M,'ClassRef':S,'execute':(_0x5a70d9,_0xd92b5a)=>_[_0x2ee18c(0x412)](_0x5a70d9,_0xd92b5a)});return _0x1106ff[_0x2ee18c(0x5c7)](0xc9)['json'](_0x586436);})['put'](this[_0x35f7f5(0x5e9)](_0x35f7f5(0x3e6)),..._0x556275,async(_0x1413d3,_0x7923a2)=>{const _0xe54702=_0x35f7f5;let _0x147403=await this[_0xe54702(0x1bc)]({'request':_0x1413d3,'schema':Ga,'ClassRef':ze,'execute':(_0x55e56c,_0x3db06b)=>_[_0xe54702(0x26c)](_0x55e56c,_0x3db06b)});return _0x7923a2[_0xe54702(0x5c7)](0xc9)[_0xe54702(0x125)](_0x147403);})[_0x35f7f5(0x5c0)](this[_0x35f7f5(0x5e9)](_0x35f7f5(0x55a)),..._0x556275,async(_0x2747e7,_0x1991ba)=>{const _0x1ae6de=_0x35f7f5;let _0x5267f6=await this[_0x1ae6de(0x1bc)]({'request':_0x2747e7,'schema':za,'ClassRef':He,'execute':(_0x1ed7f7,_0x360696)=>_[_0x1ae6de(0x55a)](_0x1ed7f7,_0x360696)});return _0x1991ba[_0x1ae6de(0x5c7)](0xc9)[_0x1ae6de(0x125)](_0x5267f6);})[_0x35f7f5(0x3b5)](this[_0x35f7f5(0x5e9)](_0x35f7f5(0x29d)),..._0x556275,async(_0x12df06,_0x3136e0)=>{const _0x49b3b1=_0x35f7f5;let _0x33134f=await this[_0x49b3b1(0x1bc)]({'request':_0x12df06,'schema':Ha,'ClassRef':Qe,'execute':(_0x56cf77,_0x36e88e)=>_[_0x49b3b1(0xde)](_0x56cf77,_0x36e88e)});return _0x3136e0['status'](0xc9)['json'](_0x33134f);})[_0x35f7f5(0xf5)](this[_0x35f7f5(0x5e9)](_0x35f7f5(0x1ac)),..._0x556275,async(_0x4e7f0e,_0x149a7c)=>{const _0x191a1a=_0x35f7f5;let _0x449e3d=await this[_0x191a1a(0x1bc)]({'request':_0x4e7f0e,'schema':Ee,'ClassRef':Ce,'execute':(_0x1c6f51,_0x4c34ab)=>_[_0x191a1a(0x4ad)](_0x1c6f51,_0x4c34ab)});return _0x149a7c[_0x191a1a(0x5c7)](0xc8)[_0x191a1a(0x125)](_0x449e3d);})['post'](this[_0x35f7f5(0x5e9)]('fetchProfile'),..._0x556275,async(_0x2182f1,_0x4aa23d)=>{const _0x2f295a=_0x35f7f5;let _0x1518f1=await this[_0x2f295a(0x1bc)]({'request':_0x2182f1,'schema':Xa,'ClassRef':Ce,'execute':(_0xfe470a,_0x37ac05)=>_['fetchProfile'](_0xfe470a,_0x37ac05)});return _0x4aa23d[_0x2f295a(0x5c7)](0xc8)[_0x2f295a(0x125)](_0x1518f1);})['post'](this[_0x35f7f5(0x5e9)]('findContacts'),..._0x556275,async(_0x4cb553,_0x43352a)=>{const _0x487c42=_0x35f7f5;let _0x38502c=await this[_0x487c42(0x1bc)]({'request':_0x4cb553,'schema':Ka,'ClassRef':et,'execute':(_0x4ce6f1,_0x344894)=>_[_0x487c42(0x58e)](_0x4ce6f1,_0x344894)});return _0x43352a['status'](0xc8)[_0x487c42(0x125)](_0x38502c);})[_0x35f7f5(0xf5)](this[_0x35f7f5(0x5e9)](_0x35f7f5(0x68a)),..._0x556275,async(_0x5abd63,_0xc509ca)=>{const _0x5c4ce0=_0x35f7f5;let _0x948e88=await this[_0x5c4ce0(0x1bc)]({'request':_0x5abd63,'schema':null,'ClassRef':Object,'execute':(_0x408563,_0x4335c3)=>_[_0x5c4ce0(0x68a)](_0x408563,_0x4335c3)});return _0xc509ca[_0x5c4ce0(0x5c7)](0xc9)['json'](_0x948e88);})['post'](this[_0x35f7f5(0x5e9)](_0x35f7f5(0x313)),..._0x556275,async(_0x19668a,_0x51dd7a)=>{const _0x590991=_0x35f7f5;let _0x5f3a62=await this[_0x590991(0x1bc)]({'request':_0x19668a,'schema':Za,'ClassRef':qe,'execute':(_0x6a7de5,_0x27269a)=>_['fetchMessages'](_0x6a7de5,_0x27269a)});return _0x51dd7a[_0x590991(0x5c7)](0xc8)['json'](_0x5f3a62);})['get'](this[_0x35f7f5(0x5e9)](_0x35f7f5(0x695)),..._0x556275,async(_0x1bc1a6,_0xca3630)=>{const _0x346ea0=_0x35f7f5;let _0x457fcd=await this[_0x346ea0(0x1bc)]({'request':_0x1bc1a6,'schema':null,'ClassRef':S,'execute':_0x116eaa=>_[_0x346ea0(0xad)](_0x116eaa)});return _0xca3630[_0x346ea0(0x5c7)](0xc8)[_0x346ea0(0x125)](_0x457fcd);})['get'](this[_0x35f7f5(0x5e9)]('findLabels'),..._0x556275,async(_0x4f6652,_0xc23b6)=>{const _0x13e10e=_0x35f7f5;let _0x56badc=await this[_0x13e10e(0x1bc)]({'request':_0x4f6652,'schema':null,'ClassRef':S,'execute':_0x26aea3=>_[_0x13e10e(0x27a)](_0x26aea3)});return _0xc23b6['status'](0xc8)[_0x13e10e(0x125)](_0x56badc);})['put'](this['routerPath'](_0x35f7f5(0x630)),..._0x556275,async(_0x2d9983,_0x587351)=>{const _0x12091d=_0x35f7f5;let _0x325923=await this['dataValidate']({'request':_0x2d9983,'schema':null,'ClassRef':Array,'execute':(_0x282e43,_0x260294)=>_['importChats'](_0x282e43,_0x260294)});return _0x587351[_0x12091d(0x5c7)](0xc8)['json'](_0x325923);})[_0x35f7f5(0x136)](this[_0x35f7f5(0x5e9)](_0x35f7f5(0x406)),..._0x556275,async(_0x1d3fd2,_0x2d0f66)=>{const _0x490975=_0x35f7f5;let _0xd06d7b=await this[_0x490975(0x1bc)]({'request':_0x1d3fd2,'schema':null,'ClassRef':S,'execute':_0x32e3e4=>_[_0x490975(0x406)](_0x32e3e4)});return _0x2d0f66[_0x490975(0x5c7)](0xc8)[_0x490975(0x125)](_0xd06d7b);})[_0x35f7f5(0x5c0)](this[_0x35f7f5(0x5e9)]('updatePrivacySettings'),..._0x556275,async(_0x384232,_0x1c0f59)=>{const _0x3e78c9=_0x35f7f5;let _0x1d3147=await this[_0x3e78c9(0x1bc)]({'request':_0x384232,'schema':Wa,'ClassRef':Ke,'execute':(_0x12658f,_0x62ac6f)=>_['updatePrivacySettings'](_0x12658f,_0x62ac6f)});return _0x1c0f59['status'](0xc9)[_0x3e78c9(0x125)](_0x1d3147);})[_0x35f7f5(0xf5)](this[_0x35f7f5(0x5e9)](_0x35f7f5(0x1dd)),..._0x556275,async(_0x5a68c9,_0x30f2ec)=>{const _0x3f609c=_0x35f7f5;let _0x57cd6c=await this[_0x3f609c(0x1bc)]({'request':_0x5a68c9,'schema':Ee,'ClassRef':we,'execute':(_0x33a0a7,_0x52c6c3)=>_[_0x3f609c(0x1dd)](_0x33a0a7,_0x52c6c3)});return _0x30f2ec[_0x3f609c(0x5c7)](0xc8)[_0x3f609c(0x125)](_0x57cd6c);})[_0x35f7f5(0xf5)](this['routerPath'](_0x35f7f5(0x3aa)),..._0x556275,async(_0x463d09,_0xbc6f3c)=>{const _0x20b3bb=_0x35f7f5;let _0x33c5a6=await this[_0x20b3bb(0x1bc)]({'request':_0x463d09,'schema':Qa,'ClassRef':Ge,'execute':(_0x7aeb06,_0x23ebde)=>_[_0x20b3bb(0x3aa)](_0x7aeb06,_0x23ebde)});return _0xbc6f3c['status'](0xc8)[_0x20b3bb(0x125)](_0x33c5a6);})['post'](this[_0x35f7f5(0x5e9)]('updateProfileStatus'),..._0x556275,async(_0x16f57c,_0x2c4860)=>{const _0xacfd9e=_0x35f7f5;let _0xcf70d4=await this[_0xacfd9e(0x1bc)]({'request':_0x16f57c,'schema':Ya,'ClassRef':We,'execute':(_0x14d11b,_0x1ea24c)=>_[_0xacfd9e(0x52a)](_0x14d11b,_0x1ea24c)});return _0x2c4860[_0xacfd9e(0x5c7)](0xc8)[_0xacfd9e(0x125)](_0xcf70d4);})[_0x35f7f5(0x5c0)](this['routerPath'](_0x35f7f5(0x4d6)),..._0x556275,async(_0x2152b2,_0x1c624d)=>{const _0x14b7e2=_0x35f7f5;let _0x3cb53c=await this[_0x14b7e2(0x1bc)]({'request':_0x2152b2,'schema':Ee,'ClassRef':we,'execute':(_0xbe6fb9,_0x7752a5)=>_['updateProfilePicture'](_0xbe6fb9,_0x7752a5)});return _0x1c624d[_0x14b7e2(0x5c7)](0xc8)[_0x14b7e2(0x125)](_0x3cb53c);})[_0x35f7f5(0x3b5)](this[_0x35f7f5(0x5e9)](_0x35f7f5(0x2ed)),..._0x556275,async(_0x1a1c7e,_0x19a581)=>{const _0x1e7cfb=_0x35f7f5;let _0x21dd7d=await this[_0x1e7cfb(0x1bc)]({'request':_0x1a1c7e,'schema':Ee,'ClassRef':we,'execute':(_0x598fc3,_0x364813)=>_[_0x1e7cfb(0x2ed)](_0x598fc3,_0x364813)});return _0x19a581[_0x1e7cfb(0x5c7)](0xc8)[_0x1e7cfb(0x125)](_0x21dd7d);});}},dr=require(a0_0x57f064(0x6f5)),rt=class{},it=class{},ot=class{},nt=class{},ct=class{},lt=class{},Y=class{},ve=class{},ut=class extends Y{},dt=class extends Y{},pt=class extends V{constructor(..._0x381b69){const _0x4904ee=a0_0x57f064;super(),this[_0x4904ee(0x146)]=(0x0,dr[_0x4904ee(0x3dd)])(),this[_0x4904ee(0x146)][_0x4904ee(0xf5)](this[_0x4904ee(0x5e9)]('create'),..._0x381b69,async(_0x336b2b,_0x2cb594)=>{const _0x3afd60=_0x4904ee;let _0x463f63=await this[_0x3afd60(0x1bc)]({'request':_0x336b2b,'schema':tr,'ClassRef':rt,'execute':(_0x43ba5c,_0x2c230b)=>j[_0x3afd60(0x546)](_0x43ba5c,_0x2c230b)});_0x2cb594[_0x3afd60(0x5c7)](0xc9)['json'](_0x463f63);})['put'](this[_0x4904ee(0x5e9)](_0x4904ee(0x3c8)),..._0x381b69,async(_0x163767,_0x10cde2)=>{const _0x112f74=_0x4904ee;let _0x4a8c2c=await this[_0x112f74(0x2c6)]({'request':_0x163767,'schema':rr,'ClassRef':it,'execute':(_0x49587b,_0x4b8949)=>j[_0x112f74(0x3c8)](_0x49587b,_0x4b8949)});_0x10cde2[_0x112f74(0x5c7)](0xc9)['json'](_0x4a8c2c);})['put'](this[_0x4904ee(0x5e9)](_0x4904ee(0x4a7)),..._0x381b69,async(_0x4f37a6,_0x52962b)=>{const _0x571da6=_0x4904ee;let _0xf3792c=await this['groupValidate']({'request':_0x4f37a6,'schema':ir,'ClassRef':ot,'execute':(_0x4d7951,_0x4c411d)=>j['groupDesc'](_0x4d7951,_0x4c411d)});_0x52962b[_0x571da6(0x5c7)](0xc9)[_0x571da6(0x125)](_0xf3792c);})[_0x4904ee(0x5c0)](this[_0x4904ee(0x5e9)](_0x4904ee(0x3a8)),..._0x381b69,async(_0x3e52a0,_0x556b4b)=>{const _0x1da3f0=_0x4904ee;let _0x3ae3ca=await this['groupValidate']({'request':_0x3e52a0,'schema':or,'ClassRef':nt,'execute':(_0xac828e,_0x288c7e)=>j[_0x1da3f0(0x3a8)](_0xac828e,_0x288c7e)});_0x556b4b['status'](0xc9)[_0x1da3f0(0x125)](_0x3ae3ca);})['put'](this[_0x4904ee(0x5e9)](_0x4904ee(0x3f8)),..._0x381b69,async(_0x2a978a,_0x432e4b)=>{const _0x12e524=_0x4904ee;let _0x191bd5=await this[_0x12e524(0x2c6)]({'request':_0x2a978a,'schema':cr,'ClassRef':lt,'execute':(_0x323ef0,_0x2ad765)=>j[_0x12e524(0x3f8)](_0x323ef0,_0x2ad765)});_0x432e4b[_0x12e524(0x5c7)](0xc9)[_0x12e524(0x125)](_0x191bd5);})[_0x4904ee(0x5c0)](this[_0x4904ee(0x5e9)]('groupSetting'),..._0x381b69,async(_0x485ad0,_0x544de6)=>{const _0x29d2e0=_0x4904ee;let _0x4c3a10=await this['groupValidate']({'request':_0x485ad0,'schema':nr,'ClassRef':ct,'execute':(_0x3ca6be,_0x4adbc5)=>j[_0x29d2e0(0x191)](_0x3ca6be,_0x4adbc5)});_0x544de6[_0x29d2e0(0x5c7)](0xc9)[_0x29d2e0(0x125)](_0x4c3a10);})[_0x4904ee(0x5c0)](this[_0x4904ee(0x5e9)](_0x4904ee(0x6df)),..._0x381b69,async(_0x294825,_0x442e1b)=>{const _0x3bea9f=_0x4904ee;let _0x51bae2=await this['groupValidate']({'request':_0x294825,'schema':ar,'ClassRef':dt,'execute':(_0x2ac927,_0x3247f8)=>j[_0x3bea9f(0x6df)](_0x2ac927,_0x3247f8)});_0x442e1b['status'](0xc9)[_0x3bea9f(0x125)](_0x51bae2);})[_0x4904ee(0x136)](this[_0x4904ee(0x5e9)](_0x4904ee(0x2f3)),..._0x381b69,async(_0x2af9d7,_0x55c348)=>{const _0x3fff2e=_0x4904ee;let _0x56dd84=await this[_0x3fff2e(0x2c6)]({'request':_0x2af9d7,'schema':Me,'ClassRef':Y,'execute':(_0x44f4cb,_0x590f6e)=>j[_0x3fff2e(0x51c)](_0x44f4cb,_0x590f6e)});_0x55c348['status'](0xc8)[_0x3fff2e(0x125)](_0x56dd84);})[_0x4904ee(0x136)](this[_0x4904ee(0x5e9)](_0x4904ee(0x398)),..._0x381b69,async(_0xf1a894,_0x492aa0)=>{const _0x1cc1ff=_0x4904ee;let _0x39a696=await this[_0x1cc1ff(0x1bc)]({'request':_0xf1a894,'schema':M,'ClassRef':S,'execute':_0x46974e=>j[_0x1cc1ff(0x398)](_0x46974e)});_0x492aa0['status'](0xc8)[_0x1cc1ff(0x125)](_0x39a696);})[_0x4904ee(0x136)](this['routerPath'](_0x4904ee(0x116)),..._0x381b69,async(_0xe22a8e,_0x15c2de)=>{const _0x3435e9=_0x4904ee;let _0x42ee5f=await this[_0x3435e9(0x2c6)]({'request':_0xe22a8e,'schema':Me,'ClassRef':Y,'execute':(_0x6879ed,_0x21177b)=>j['findParticipants'](_0x6879ed,_0x21177b)});_0x15c2de[_0x3435e9(0x5c7)](0xc8)[_0x3435e9(0x125)](_0x42ee5f);})[_0x4904ee(0x136)](this['routerPath'](_0x4904ee(0x37c)),..._0x381b69,async(_0x26893c,_0x3add71)=>{const _0x3d1195=_0x4904ee;let _0x2bb438=await this[_0x3d1195(0x2c6)]({'request':_0x26893c,'schema':Me,'ClassRef':Y,'execute':(_0x59c614,_0x48637e)=>j['inviteCode'](_0x59c614,_0x48637e)});_0x3add71[_0x3d1195(0x5c7)](0xc8)[_0x3d1195(0x125)](_0x2bb438);})[_0x4904ee(0xf5)](this[_0x4904ee(0x5e9)]('inviteCodeDetails'),..._0x381b69,async(_0x5065ca,_0x343df9)=>{const _0x49d228=_0x4904ee;let _0x30cd32=await this[_0x49d228(0x65d)]({'request':_0x5065ca,'schema':ys,'ClassRef':ve,'execute':(_0x41ad7f,_0x5028e4)=>j[_0x49d228(0x239)](_0x41ad7f,_0x5028e4)});_0x343df9[_0x49d228(0x5c7)](0xc9)[_0x49d228(0x125)](_0x30cd32);})[_0x4904ee(0x5c0)](this[_0x4904ee(0x5e9)](_0x4904ee(0x30c)),..._0x381b69,async(_0x2a25fc,_0x44ff94)=>{const _0x2cb89a=_0x4904ee;let _0x5d7590=await this['joinGroupValidate']({'request':_0x2a25fc,'schema':ys,'ClassRef':ve,'execute':(_0x2fd63c,_0x3283e0)=>j[_0x2cb89a(0x30c)](_0x2fd63c,_0x3283e0)});_0x44ff94['status'](0xc9)[_0x2cb89a(0x125)](_0x5d7590);})[_0x4904ee(0x5c0)](this['routerPath']('revokeInviteCode'),..._0x381b69,async(_0x57c51a,_0x3d2925)=>{const _0x1118e8=_0x4904ee;let _0x28e6c6=await this[_0x1118e8(0x2c6)]({'request':_0x57c51a,'schema':Me,'ClassRef':Y,'execute':(_0x551455,_0xf239c2)=>j[_0x1118e8(0x475)](_0x551455,_0xf239c2)});_0x3d2925[_0x1118e8(0x5c7)](0xc9)[_0x1118e8(0x125)](_0x28e6c6);})[_0x4904ee(0x5c0)](this[_0x4904ee(0x5e9)](_0x4904ee(0x69a)),..._0x381b69,async(_0x46cb70,_0x510367)=>{const _0x4bba6f=_0x4904ee;let _0x3f4b80=await this[_0x4bba6f(0x2c6)]({'request':_0x46cb70,'schema':sr,'ClassRef':ut,'execute':(_0x5a2bb9,_0x5b9178)=>j[_0x4bba6f(0x729)](_0x5a2bb9,_0x5b9178)});_0x510367[_0x4bba6f(0x5c7)](0xc9)[_0x4bba6f(0x125)](_0x3f4b80);})[_0x4904ee(0x3b5)](this[_0x4904ee(0x5e9)]('leaveGroup'),..._0x381b69,async(_0x2b9772,_0x5021f4)=>{const _0x25b3e5=_0x4904ee;let _0x241e02=await this[_0x25b3e5(0x2c6)]({'request':_0x2b9772,'schema':{},'ClassRef':Y,'execute':(_0xda99b9,_0x4b8098)=>j[_0x25b3e5(0x349)](_0xda99b9,_0x4b8098)});_0x5021f4[_0x25b3e5(0x5c7)](0xc8)[_0x25b3e5(0x125)](_0x241e02);});}},pr=require(a0_0x57f064(0x6f5)),ht=class extends V{constructor(_0x354910,..._0x4e03d1){const _0x502ef4=a0_0x57f064;super(),this[_0x502ef4(0x228)]=_0x354910,this[_0x502ef4(0x146)]=(0x0,pr[_0x502ef4(0x3dd)])();let _0x358f86=_0x354910[_0x502ef4(0x136)](_0x502ef4(0x60b));this[_0x502ef4(0x146)][_0x502ef4(0xf5)](_0x502ef4(0x652),..._0x4e03d1,async(_0xa580a3,_0x581aee)=>{const _0x9c804e=_0x502ef4;let {instanceName:_0x470680,apikey:_0x3a41b5,number:_0x27a334}=_0xa580a3[_0x9c804e(0x2b6)],_0x1fc9e8=await oe[_0x9c804e(0x494)]({'instanceName':_0x470680,'apikey':_0x3a41b5,'number':_0x27a334});return _0x581aee[_0x9c804e(0x5c7)](0xc9)[_0x9c804e(0x125)](_0x1fc9e8);})[_0x502ef4(0x5c0)](this[_0x502ef4(0x5e9)](_0x502ef4(0x2ef)),..._0x4e03d1,async(_0x344ec6,_0x351fe0)=>{const _0x1f767e=_0x502ef4;let _0x41f46a=await this['dataValidate']({'request':_0x344ec6,'schema':M,'ClassRef':S,'execute':_0x11f5e2=>oe[_0x1f767e(0x3fc)](_0x11f5e2)});return _0x351fe0[_0x1f767e(0x5c7)](0xc8)[_0x1f767e(0x125)](_0x41f46a);})[_0x502ef4(0x136)](this[_0x502ef4(0x5e9)]('connect'),..._0x4e03d1,async(_0xf882ea,_0xdbc792)=>{const _0x3d45aa=_0x502ef4;let _0x4e5ae0=await this[_0x3d45aa(0x1bc)]({'request':_0xf882ea,'schema':M,'ClassRef':S,'execute':_0x143821=>oe['connectToWhatsappController'](_0x143821)});return _0xdbc792[_0x3d45aa(0x5c7)](0xc8)[_0x3d45aa(0x125)](_0x4e5ae0);})[_0x502ef4(0x136)](this[_0x502ef4(0x5e9)](_0x502ef4(0x17f)),..._0x4e03d1,async(_0x449a44,_0x3b7b01)=>{const _0x233959=_0x502ef4;let _0x18a98e=await this[_0x233959(0x1bc)]({'request':_0x449a44,'schema':M,'ClassRef':S,'execute':_0x51ebc2=>oe[_0x233959(0x17f)](_0x51ebc2)});return _0x3b7b01[_0x233959(0x5c7)](0xc8)['json'](_0x18a98e);})[_0x502ef4(0x136)](this[_0x502ef4(0x5e9)](_0x502ef4(0x48b),!0x1),..._0x4e03d1,async(_0x4db0be,_0x2be163)=>{const _0x1edbbf=_0x502ef4;let _0x17929f=await this[_0x1edbbf(0x1bc)]({'request':_0x4db0be,'schema':null,'ClassRef':S,'execute':_0x4831b0=>oe[_0x1edbbf(0x48b)](_0x4831b0)});return _0x2be163['status'](0xc8)['json'](_0x17929f);})['delete'](this[_0x502ef4(0x5e9)]('logout'),..._0x4e03d1,async(_0x1eae50,_0x276389)=>{const _0x1e6cfb=_0x502ef4;let _0x59ab21=await this[_0x1e6cfb(0x1bc)]({'request':_0x1eae50,'schema':M,'ClassRef':S,'execute':_0x2404bf=>oe['logout'](_0x2404bf)});return _0x276389[_0x1e6cfb(0x5c7)](0xc8)[_0x1e6cfb(0x125)](_0x59ab21);})[_0x502ef4(0x3b5)](this[_0x502ef4(0x5e9)](_0x502ef4(0x3b5)),..._0x4e03d1,async(_0x15ee4d,_0x120bc5)=>{const _0xd4ab80=_0x502ef4;let _0x2b45b0=await this['dataValidate']({'request':_0x15ee4d,'schema':M,'ClassRef':S,'execute':_0x4ea2f9=>oe[_0xd4ab80(0x3a3)](_0x4ea2f9)});return _0x120bc5[_0xd4ab80(0x5c7)](0xc8)[_0xd4ab80(0x125)](_0x2b45b0);});}},hr=require(a0_0x57f064(0x6f5)),Ss=class{},W=class extends Ss{},gt=class extends W{},mt=class extends W{},ft=class extends W{},wt=class extends W{},Ne=class extends W{},yt=class extends W{},bt=class extends W{},St=class extends W{},Ct=class extends W{},Et=class extends W{},Mt=class{},vt=class extends V{constructor(..._0x57492a){const _0x51f63b=a0_0x57f064;super(),this[_0x51f63b(0x146)]=(0x0,hr['Router'])(),this['router']['post'](this[_0x51f63b(0x5e9)](_0x51f63b(0x97)),..._0x57492a,async(_0x2352dc,_0x51ee84)=>{const _0x372e4b=_0x51f63b;let _0x5bdc31=await this[_0x372e4b(0x1bc)]({'request':_0x2352dc,'schema':xa,'ClassRef':gt,'execute':(_0x164514,_0x151fa5)=>G[_0x372e4b(0x97)](_0x164514,_0x151fa5)});return _0x51ee84[_0x372e4b(0x5c7)](0xc9)[_0x372e4b(0x125)](_0x5bdc31);})['post'](this['routerPath'](_0x51f63b(0xb0)),..._0x57492a,async(_0x407712,_0x2d8c3d)=>{const _0x264e8c=_0x51f63b;let _0x389595=await this[_0x264e8c(0x1bc)]({'request':_0x407712,'schema':$a,'ClassRef':Ne,'execute':(_0x7ee935,_0x5d7179)=>G['sendMedia'](_0x7ee935,_0x5d7179)});return _0x2d8c3d[_0x264e8c(0x5c7)](0xc9)['json'](_0x389595);})[_0x51f63b(0xf5)](this[_0x51f63b(0x5e9)](_0x51f63b(0x3db)),..._0x57492a,async(_0x3d96c9,_0x31532c)=>{const _0x4d4cb6=_0x51f63b;let _0x2d2e95=await this[_0x4d4cb6(0x1bc)]({'request':_0x3d96c9,'schema':ja,'ClassRef':wt,'execute':(_0x53509e,_0x51d654)=>G['sendMenu'](_0x53509e,_0x51d654)});return _0x31532c[_0x4d4cb6(0x5c7)](0xc9)[_0x4d4cb6(0x125)](_0x2d2e95);})['post'](this[_0x51f63b(0x5e9)](_0x51f63b(0xbd)),..._0x57492a,async(_0x1a3f43,_0x17f735)=>{const _0x14ba5d=_0x51f63b;let _0x1133b5=await this[_0x14ba5d(0x1bc)]({'request':_0x1a3f43,'schema':ka,'ClassRef':Ne,'execute':(_0x284d23,_0x2efc90)=>G['sendWhatsAppAudio'](_0x284d23,_0x2efc90)});return _0x17f735['status'](0xc9)[_0x14ba5d(0x125)](_0x1133b5);})[_0x51f63b(0xf5)](this[_0x51f63b(0x5e9)]('sendButtons'),..._0x57492a,async(_0x1b7d2f,_0x387499)=>{const _0x464082=_0x51f63b;let _0x343b69=await this[_0x464082(0x1bc)]({'request':_0x1b7d2f,'schema':Fa,'ClassRef':bt,'execute':(_0x1f31bc,_0x204b84)=>G['sendButtons'](_0x1f31bc,_0x204b84)});return _0x387499['status'](0xc9)[_0x464082(0x125)](_0x343b69);})[_0x51f63b(0xf5)](this[_0x51f63b(0x5e9)](_0x51f63b(0x591)),..._0x57492a,async(_0x550c08,_0x318b50)=>{const _0x4cd05f=_0x51f63b;let _0x202878=await this[_0x4cd05f(0x1bc)]({'request':_0x550c08,'schema':Ua,'ClassRef':St,'execute':(_0x1935c1,_0x35eb7a)=>G[_0x4cd05f(0x591)](_0x1935c1,_0x35eb7a)});return _0x318b50[_0x4cd05f(0x5c7)](0xc9)[_0x4cd05f(0x125)](_0x202878);})[_0x51f63b(0xf5)](this[_0x51f63b(0x5e9)](_0x51f63b(0x101)),..._0x57492a,async(_0x332e35,_0x2a3443)=>{const _0x4c44b4=_0x51f63b;let _0x222dce=await this[_0x4c44b4(0x1bc)]({'request':_0x332e35,'schema':qa,'ClassRef':Ct,'execute':(_0x3d6c22,_0x278124)=>G[_0x4c44b4(0x101)](_0x3d6c22,_0x278124)});return _0x2a3443[_0x4c44b4(0x5c7)](0xc9)[_0x4c44b4(0x125)](_0x222dce);})[_0x51f63b(0xf5)](this['routerPath'](_0x51f63b(0x497)),..._0x57492a,async(_0x410dc5,_0xbd0106)=>{const _0x44a305=_0x51f63b;let _0x1fe6eb=await this['dataValidate']({'request':_0x410dc5,'schema':Ja,'ClassRef':Et,'execute':(_0x55261b,_0x4e0468)=>G['sendContact'](_0x55261b,_0x4e0468)});return _0xbd0106[_0x44a305(0x5c7)](0xc9)[_0x44a305(0x125)](_0x1fe6eb);})[_0x51f63b(0xf5)](this['routerPath']('sendReaction'),..._0x57492a,async(_0x13b043,_0x459bf4)=>{const _0x5d13b5=_0x51f63b;let _0x227ff2=await this['dataValidate']({'request':_0x13b043,'schema':Va,'ClassRef':Mt,'execute':(_0x277349,_0x4e3bfc)=>G[_0x5d13b5(0x290)](_0x277349,_0x4e3bfc)});return _0x459bf4[_0x5d13b5(0x5c7)](0xc9)[_0x5d13b5(0x125)](_0x227ff2);})[_0x51f63b(0xf5)](this[_0x51f63b(0x5e9)](_0x51f63b(0x741)),..._0x57492a,async(_0x4be2a4,_0x28a4a7)=>{const _0x5a09dd=_0x51f63b;let _0x287d47=await this['dataValidate']({'request':_0x4be2a4,'schema':La,'ClassRef':ft,'execute':(_0x5d70d3,_0x4ece47)=>G[_0x5a09dd(0x741)](_0x5d70d3,_0x4ece47)});return _0x28a4a7[_0x5a09dd(0x5c7)](0xc9)[_0x5a09dd(0x125)](_0x287d47);})[_0x51f63b(0xf5)](this[_0x51f63b(0x5e9)](_0x51f63b(0xda)),..._0x57492a,async(_0x5cbed9,_0x235e08)=>{const _0x2d4bf0=_0x51f63b;let _0x1bbe0d=await this[_0x2d4bf0(0x1bc)]({'request':_0x5cbed9,'schema':Pa,'ClassRef':mt,'execute':(_0x29c75b,_0x1e2946)=>G[_0x2d4bf0(0xda)](_0x29c75b,_0x1e2946)});return _0x235e08['status'](0xc9)[_0x2d4bf0(0x125)](_0x1bbe0d);})[_0x51f63b(0xf5)](this[_0x51f63b(0x5e9)]('sendSticker'),..._0x57492a,async(_0x320336,_0x127706)=>{const _0x2ac19d=_0x51f63b;let _0x5763cb=await this[_0x2ac19d(0x1bc)]({'request':_0x320336,'schema':_a,'ClassRef':yt,'execute':(_0x12a050,_0x37e598)=>G[_0x2ac19d(0x2e4)](_0x12a050,_0x37e598)});return _0x127706[_0x2ac19d(0x5c7)](0xc9)[_0x2ac19d(0x125)](_0x5763cb);});}},gr=require('express'),Nt=class{},Rt=class extends V{constructor(..._0x383bf3){const _0x4ea8a2=a0_0x57f064;super(),this[_0x4ea8a2(0x146)]=(0x0,gr['Router'])(),this[_0x4ea8a2(0x146)][_0x4ea8a2(0xf5)](this[_0x4ea8a2(0x5e9)](_0x4ea8a2(0x3b2)),..._0x383bf3,async(_0x22510c,_0x37db38)=>{const _0x46551e=_0x4ea8a2;let _0x4d30b3=await this[_0x46551e(0x1bc)]({'request':_0x22510c,'schema':lr,'ClassRef':Nt,'execute':(_0x5c503b,_0x59eddd)=>Cs['createWebhook'](_0x5c503b,_0x59eddd)});_0x37db38[_0x46551e(0x5c7)](0xc9)[_0x46551e(0x125)](_0x4d30b3);})[_0x4ea8a2(0x136)](this[_0x4ea8a2(0x5e9)](_0x4ea8a2(0x5c8)),..._0x383bf3,async(_0x5efb9b,_0x9bf133)=>{const _0x48f991=_0x4ea8a2;let _0x16f00f=await this['dataValidate']({'request':_0x5efb9b,'schema':M,'ClassRef':S,'execute':_0x1366a0=>Cs[_0x48f991(0x364)](_0x1366a0)});_0x9bf133['status'](0xc8)['json'](_0x16f00f);});}},mr=require(a0_0x57f064(0x6f5)),y=new v(a0_0x57f064(0x6e2)),Tt=class extends V{constructor(..._0x3da577){const _0x2bf5ae=a0_0x57f064;super(),this[_0x2bf5ae(0x146)]=(0x0,mr['Router'])(),this[_0x2bf5ae(0x146)][_0x2bf5ae(0xf5)](this[_0x2bf5ae(0x5e9)](_0x2bf5ae(0x3ad)),..._0x3da577,async(_0x13c0b2,_0x2fd8e8)=>{const _0x777ae8=_0x2bf5ae;let _0x51d4a0=_0x13c0b2[_0x777ae8(0x2b6)];y[_0x777ae8(0xc2)](_0x777ae8(0xd7)),y[_0x777ae8(0xc2)](_0x777ae8(0x659)),y[_0x777ae8(0xc2)](_0x13c0b2[_0x777ae8(0x2b6)]);let _0x3ef485=await this[_0x777ae8(0x1bc)]({'request':_0x13c0b2,'schema':M,'ClassRef':S,'execute':_0x4e14d6=>x[_0x777ae8(0x692)](_0x4e14d6,_0x51d4a0)});_0x2fd8e8[_0x777ae8(0x5c7)](0xc8)[_0x777ae8(0x125)](_0x3ef485);})[_0x2bf5ae(0x136)](this[_0x2bf5ae(0x5e9)]('scheduleMessage'),..._0x3da577,async(_0x2f6f05,_0x2fdfa5)=>{const _0x36bf9b=_0x2bf5ae;let _0x42e651=await this[_0x36bf9b(0x1bc)]({'request':_0x2f6f05,'schema':M,'ClassRef':S,'execute':_0x5c6508=>x[_0x36bf9b(0xf1)](_0x5c6508)});_0x2fdfa5[_0x36bf9b(0x5c7)](0xc8)[_0x36bf9b(0x125)](_0x42e651);})[_0x2bf5ae(0x3b5)](this[_0x2bf5ae(0x5e9)]('deleteDoneMessages'),..._0x3da577,async(_0x2f7104,_0x3c67bf)=>{const _0x28e55e=_0x2bf5ae;y['verbose'](_0x28e55e(0x4d5));let _0x5f1005=await this['dataValidate']({'request':_0x2f7104,'schema':M,'ClassRef':S,'execute':_0x105ae2=>x[_0x28e55e(0x634)](_0x105ae2)});_0x3c67bf['status'](0xc8)[_0x28e55e(0x125)](_0x5f1005);})[_0x2bf5ae(0xf5)](this[_0x2bf5ae(0x5e9)]('startFlow'),..._0x3da577,async(_0x7ea050,_0x58b45c)=>{const _0x45f14f=_0x2bf5ae;let _0x221a26=_0x7ea050[_0x45f14f(0x2b6)];y[_0x45f14f(0xc2)]('request\x20received\x20in\x20starFlow'),y[_0x45f14f(0xc2)](_0x45f14f(0x659)),y[_0x45f14f(0xc2)](_0x7ea050['body']);let _0x592305=await this[_0x45f14f(0x1bc)]({'request':_0x7ea050,'schema':M,'ClassRef':S,'execute':_0x262a3c=>x[_0x45f14f(0x68d)](_0x262a3c,_0x221a26)});_0x58b45c[_0x45f14f(0x5c7)](0xc8)[_0x45f14f(0x125)](_0x592305);})['get'](this['routerPath'](_0x2bf5ae(0x5b2)),..._0x3da577,async(_0x441a96,_0x1a9ade)=>{const _0x455db7=_0x2bf5ae;y[_0x455db7(0xc2)](_0x455db7(0x22a));let _0x2291a3=await this[_0x455db7(0x1bc)]({'request':_0x441a96,'schema':M,'ClassRef':S,'execute':_0x230a38=>x[_0x455db7(0x5b2)](_0x230a38)});_0x1a9ade[_0x455db7(0x5c7)](0xc8)['json'](_0x2291a3);})[_0x2bf5ae(0x136)](this[_0x2bf5ae(0x5e9)](_0x2bf5ae(0x317)),..._0x3da577,async(_0x3ea93f,_0x250f2f)=>{const _0x3a2165=_0x2bf5ae;y[_0x3a2165(0xc2)]('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0x6c1400=await this[_0x3a2165(0x1bc)]({'request':_0x3ea93f,'schema':M,'ClassRef':S,'execute':_0x14f922=>x['getAutomateSystem'](_0x14f922)});_0x250f2f[_0x3a2165(0x5c7)](0xc8)[_0x3a2165(0x125)](_0x6c1400);})[_0x2bf5ae(0xf5)](this[_0x2bf5ae(0x5e9)](_0x2bf5ae(0x107)),..._0x3da577,async(_0x1d8c2,_0x469733)=>{const _0x3f1938=_0x2bf5ae;let _0x74059c=_0x1d8c2['body'];y[_0x3f1938(0xc2)]('request\x20received\x20in\x20updateAgent'),y[_0x3f1938(0xc2)](_0x3f1938(0x659)),y['verbose'](_0x1d8c2[_0x3f1938(0x2b6)]);let _0x2d771f=await this[_0x3f1938(0x1bc)]({'request':_0x1d8c2,'schema':M,'ClassRef':S,'execute':_0x22f4a2=>x['updateAgent'](_0x22f4a2,_0x74059c)});_0x469733[_0x3f1938(0x5c7)](0xc8)['json'](_0x2d771f);})['post'](this[_0x2bf5ae(0x5e9)](_0x2bf5ae(0x215)),..._0x3da577,async(_0x44043c,_0x36fdd5)=>{const _0x410275=_0x2bf5ae;let _0x3aff65=_0x44043c['body'];y[_0x410275(0xc2)](_0x410275(0x3cf)),y['verbose'](_0x410275(0x659)),y[_0x410275(0xc2)](_0x44043c['body']);let _0x2a609b=await this['dataValidate']({'request':_0x44043c,'schema':M,'ClassRef':S,'execute':_0x4721c7=>x[_0x410275(0x215)](_0x4721c7,_0x3aff65)});_0x36fdd5[_0x410275(0x5c7)](0xc8)[_0x410275(0x125)](_0x2a609b);})[_0x2bf5ae(0xf5)](this[_0x2bf5ae(0x5e9)](_0x2bf5ae(0x5da)),..._0x3da577,async(_0x5a9d09,_0x5f4aab)=>{const _0x1fc3af=_0x2bf5ae;let _0x2e413c=_0x5a9d09[_0x1fc3af(0x2b6)];y[_0x1fc3af(0xc2)](_0x1fc3af(0x4a9)),y[_0x1fc3af(0xc2)](_0x1fc3af(0x659)),y[_0x1fc3af(0xc2)](_0x5a9d09['body']);let _0x3c9a21=await this[_0x1fc3af(0x1bc)]({'request':_0x5a9d09,'schema':M,'ClassRef':S,'execute':_0x8d6881=>x[_0x1fc3af(0x5da)](_0x8d6881,_0x2e413c)});_0x5f4aab['status'](0xc8)[_0x1fc3af(0x125)](_0x3c9a21);})[_0x2bf5ae(0xf5)](this[_0x2bf5ae(0x5e9)]('getConversation'),..._0x3da577,async(_0x2598a1,_0x4b262d)=>{const _0x3b2cdf=_0x2bf5ae;let _0x4eac04=_0x2598a1[_0x3b2cdf(0x2b6)];y[_0x3b2cdf(0xc2)]('request\x20received\x20in\x20getConversation'),y['verbose']('request\x20body:\x20'),y[_0x3b2cdf(0xc2)](_0x2598a1['body']);let _0x3f922d=await this[_0x3b2cdf(0x1bc)]({'request':_0x2598a1,'schema':M,'ClassRef':S,'execute':_0x3399fb=>x[_0x3b2cdf(0x20d)](_0x3399fb,_0x4eac04)});_0x4b262d['status'](0xc8)[_0x3b2cdf(0x125)](_0x3f922d);})[_0x2bf5ae(0xf5)](this[_0x2bf5ae(0x5e9)](_0x2bf5ae(0x5f8)),..._0x3da577,async(_0x34f80f,_0x34cdd2)=>{const _0x134a7a=_0x2bf5ae;let _0x5ed9d4=_0x34f80f[_0x134a7a(0x2b6)];y['verbose'](_0x134a7a(0x232)),y[_0x134a7a(0xc2)](_0x134a7a(0x659)),y[_0x134a7a(0xc2)](_0x34f80f['body']);let _0xf2b1a=await this[_0x134a7a(0x1bc)]({'request':_0x34f80f,'schema':M,'ClassRef':S,'execute':_0xe33ffb=>x[_0x134a7a(0x5f8)](_0xe33ffb,_0x5ed9d4)});_0x34cdd2[_0x134a7a(0x5c7)](0xc8)[_0x134a7a(0x125)](_0xf2b1a);})[_0x2bf5ae(0xf5)](this[_0x2bf5ae(0x5e9)](_0x2bf5ae(0x5ec)),..._0x3da577,async(_0x38d521,_0x36e299)=>{const _0xb00251=_0x2bf5ae;let _0x16135a=_0x38d521[_0xb00251(0x2b6)];y[_0xb00251(0xc2)](_0xb00251(0x557)),y[_0xb00251(0xc2)](_0xb00251(0x659)),y[_0xb00251(0xc2)](_0x38d521[_0xb00251(0x2b6)]);let _0x2c3bcc=await this[_0xb00251(0x1bc)]({'request':_0x38d521,'schema':M,'ClassRef':S,'execute':_0x2ebb8e=>x[_0xb00251(0x5ec)](_0x2ebb8e,_0x16135a)});_0x36e299[_0xb00251(0x5c7)](0xc8)[_0xb00251(0x125)](_0x2c3bcc);})[_0x2bf5ae(0x3b5)](this[_0x2bf5ae(0x5e9)](_0x2bf5ae(0x1ec)),..._0x3da577,async(_0x112036,_0x88fa08)=>{const _0x1d61a2=_0x2bf5ae;let _0x3dd5e8=_0x112036[_0x1d61a2(0x2b6)];y[_0x1d61a2(0xc2)](_0x1d61a2(0x395)),y['verbose'](_0x1d61a2(0x659)),y['verbose'](_0x112036['body']);let _0x3a1fd0=await this[_0x1d61a2(0x1bc)]({'request':_0x112036,'schema':M,'ClassRef':S,'execute':_0x47546f=>x[_0x1d61a2(0x1ec)](_0x47546f,_0x3dd5e8)});_0x88fa08[_0x1d61a2(0x5c7)](0xc8)[_0x1d61a2(0x125)](_0x3a1fd0);})['post'](this[_0x2bf5ae(0x5e9)](_0x2bf5ae(0x26e)),..._0x3da577,async(_0x9782c,_0x27bd49)=>{const _0x52a679=_0x2bf5ae;let _0x930dec=_0x9782c['body'];y['verbose'](_0x52a679(0x44f)),y[_0x52a679(0xc2)](_0x52a679(0x659)),y[_0x52a679(0xc2)](_0x9782c[_0x52a679(0x2b6)]);let _0x22a9a8=await this[_0x52a679(0x1bc)]({'request':_0x9782c,'schema':M,'ClassRef':S,'execute':_0x472417=>x[_0x52a679(0x1cb)](_0x472417,_0x930dec)});_0x27bd49[_0x52a679(0x5c7)](0xc8)['json'](_0x22a9a8);})[_0x2bf5ae(0xf5)](this[_0x2bf5ae(0x5e9)]('editflow'),..._0x3da577,async(_0x3bd939,_0x20e628)=>{const _0x328652=_0x2bf5ae;let _0x1701bc=_0x3bd939[_0x328652(0x2b6)];y[_0x328652(0xc2)](_0x328652(0x66a)),y[_0x328652(0xc2)](_0x328652(0x659)),y[_0x328652(0xc2)](_0x3bd939[_0x328652(0x2b6)]),delete _0x1701bc['blocks'],delete _0x1701bc[_0x328652(0x2e8)],delete _0x1701bc[_0x328652(0x72f)],delete _0x1701bc[_0x328652(0x4ea)];let _0x35f94b=await this[_0x328652(0x1bc)]({'request':_0x3bd939,'schema':M,'ClassRef':S,'execute':_0x1bcca6=>x[_0x328652(0x1b5)](_0x1bcca6,_0x1701bc)});_0x20e628[_0x328652(0x5c7)](0xc8)[_0x328652(0x125)](_0x35f94b);})['post'](this[_0x2bf5ae(0x5e9)](_0x2bf5ae(0x24d)),..._0x3da577,async(_0x47c9dc,_0x175145)=>{const _0x2f4692=_0x2bf5ae;let _0x1c9292=_0x47c9dc[_0x2f4692(0x2b6)];y[_0x2f4692(0xc2)](_0x2f4692(0x66a)),y['verbose'](_0x2f4692(0x659)),y['verbose'](_0x47c9dc[_0x2f4692(0x2b6)]);let _0x27793f=await this[_0x2f4692(0x1bc)]({'request':_0x47c9dc,'schema':M,'ClassRef':S,'execute':_0x18ed38=>x['editFlowBlock'](_0x18ed38,_0x1c9292)});_0x175145[_0x2f4692(0x5c7)](0xc8)[_0x2f4692(0x125)](_0x27793f);})[_0x2bf5ae(0xf5)](this[_0x2bf5ae(0x5e9)](_0x2bf5ae(0x4ac)),..._0x3da577,async(_0x4727ee,_0x8ed638)=>{const _0x15c584=_0x2bf5ae;let _0x2ff7eb=_0x4727ee[_0x15c584(0x2b6)];y[_0x15c584(0xc2)](_0x15c584(0x66a)),y['verbose'](_0x15c584(0x659)),y[_0x15c584(0xc2)](_0x4727ee[_0x15c584(0x2b6)]);let _0x1d9494=await this[_0x15c584(0x1bc)]({'request':_0x4727ee,'schema':M,'ClassRef':S,'execute':_0x297425=>x[_0x15c584(0x5eb)](_0x297425,_0x2ff7eb)});_0x8ed638[_0x15c584(0x5c7)](0xc8)[_0x15c584(0x125)](_0x1d9494);})['post'](this['routerPath'](_0x2bf5ae(0xc1)),..._0x3da577,async(_0x2baf50,_0x462ad2)=>{const _0x1e7722=_0x2bf5ae;let _0x28186a=_0x2baf50[_0x1e7722(0x2b6)];y[_0x1e7722(0xc2)]('request\x20received\x20in\x20editFlow'),y[_0x1e7722(0xc2)]('request\x20body:\x20'),y[_0x1e7722(0xc2)](_0x2baf50[_0x1e7722(0x2b6)]);let _0x4af52e=await this[_0x1e7722(0x1bc)]({'request':_0x2baf50,'schema':M,'ClassRef':S,'execute':_0x144055=>x[_0x1e7722(0x639)](_0x144055,_0x28186a)});_0x462ad2[_0x1e7722(0x5c7)](0xc8)['json'](_0x4af52e);})[_0x2bf5ae(0xf5)](this['routerPath']('editflowgroup'),..._0x3da577,async(_0x1ebc27,_0x388434)=>{const _0x9269eb=_0x2bf5ae;let _0x4ae2e9=_0x1ebc27['body'];y['verbose'](_0x9269eb(0x3f2)),y['verbose'](_0x9269eb(0x659)),y[_0x9269eb(0xc2)](_0x1ebc27['body']);let _0x47e31d=await this['dataValidate']({'request':_0x1ebc27,'schema':M,'ClassRef':S,'execute':_0x45d034=>x['editFlowGroup'](_0x45d034,_0x4ae2e9)});_0x388434[_0x9269eb(0x5c7)](0xc8)['json'](_0x47e31d);})[_0x2bf5ae(0xf5)](this[_0x2bf5ae(0x5e9)](_0x2bf5ae(0x251)),..._0x3da577,async(_0x3b07a3,_0x593f73)=>{const _0x3bb01d=_0x2bf5ae;let _0x5cef67=_0x3b07a3['body'];y['verbose'](_0x3bb01d(0x609)),y['verbose'](_0x3bb01d(0x659)),y[_0x3bb01d(0xc2)](_0x3b07a3[_0x3bb01d(0x2b6)]);let _0x4558bc=await this['dataValidate']({'request':_0x3b07a3,'schema':M,'ClassRef':S,'execute':_0x2c425d=>x[_0x3bb01d(0x465)](_0x2c425d,_0x5cef67)});_0x593f73[_0x3bb01d(0x5c7)](0xc8)['json'](_0x4558bc);})['post'](this['routerPath'](_0x2bf5ae(0x582)),..._0x3da577,async(_0x4f0922,_0x3cbbd3)=>{const _0x58bd06=_0x2bf5ae;let _0x63e2bf=_0x4f0922['body'];y[_0x58bd06(0xc2)](_0x58bd06(0x633)),y['verbose'](_0x58bd06(0x659)),y[_0x58bd06(0xc2)](_0x4f0922['body']);let _0x45e9cf=await this[_0x58bd06(0x1bc)]({'request':_0x4f0922,'schema':M,'ClassRef':S,'execute':_0x5ed50a=>x[_0x58bd06(0x35c)](_0x5ed50a,_0x63e2bf)});_0x3cbbd3[_0x58bd06(0x5c7)](0xc8)[_0x58bd06(0x125)](_0x45e9cf);})[_0x2bf5ae(0xf5)](this[_0x2bf5ae(0x5e9)](_0x2bf5ae(0x245)),..._0x3da577,async(_0x56f429,_0x17aca5)=>{const _0x20461e=_0x2bf5ae;let _0xb75fb6=_0x56f429['body'];y[_0x20461e(0xc2)](_0x20461e(0x177)),y[_0x20461e(0xc2)](_0x20461e(0x659)),y['verbose'](_0x56f429[_0x20461e(0x2b6)]);let _0x4cbabe=await this[_0x20461e(0x1bc)]({'request':_0x56f429,'schema':M,'ClassRef':S,'execute':_0x83bef6=>x[_0x20461e(0x1db)](_0x83bef6,_0xb75fb6)});_0x17aca5[_0x20461e(0x5c7)](0xc8)[_0x20461e(0x125)](_0x4cbabe);})['delete'](this[_0x2bf5ae(0x5e9)](_0x2bf5ae(0x41c)),..._0x3da577,async(_0x39e7c1,_0x5058a3)=>{const _0xfb81cd=_0x2bf5ae;let _0x5cd3e0=_0x39e7c1[_0xfb81cd(0x2b6)];y[_0xfb81cd(0xc2)](_0xfb81cd(0x5f2)),y['verbose'](_0xfb81cd(0x659)),y[_0xfb81cd(0xc2)](_0x39e7c1[_0xfb81cd(0x2b6)]);let _0x3c38e1=await this['dataValidate']({'request':_0x39e7c1,'schema':M,'ClassRef':S,'execute':_0x2127e3=>x[_0xfb81cd(0x17e)](_0x2127e3,_0x5cd3e0)});_0x5058a3[_0xfb81cd(0x5c7)](0xc8)[_0xfb81cd(0x125)](_0x3c38e1);})[_0x2bf5ae(0x136)](this[_0x2bf5ae(0x5e9)]('allflows'),..._0x3da577,async(_0x572264,_0x19efe3)=>{const _0x2594ec=_0x2bf5ae;y[_0x2594ec(0xc2)](_0x2594ec(0x287));let _0x5175b1=await this['dataValidate']({'request':_0x572264,'schema':M,'ClassRef':S,'execute':_0x3c23c4=>x[_0x2594ec(0x2ae)](_0x3c23c4)});_0x19efe3['status'](0xc8)[_0x2594ec(0x125)](_0x5175b1);});}},br=O(require(a0_0x57f064(0x39c))),X={};function fr(_0x8e03cd,_0x5bf7ef,_0xf45d88,_0x221c5c){X[_0x8e03cd]||(X[_0x8e03cd]={}),X[_0x8e03cd][_0x5bf7ef]={'id':_0x5bf7ef,'response':_0xf45d88,'events':_0x221c5c};}function wr(_0x2da6ed,_0x23538a){!X[_0x2da6ed]||!X[_0x2da6ed][_0x23538a]||delete X[_0x2da6ed][_0x23538a];}function q(_0x49b058,_0x5a3022,_0x414742){const _0x13fcde=a0_0x57f064;if(!X[_0x49b058])return;let _0x23929f='data:\x20'+JSON['stringify'](_0x414742)+'\x0a\x0a';Object[_0x13fcde(0x3ce)](X[_0x49b058])['forEach'](_0x5b33fb=>{const _0x445f1a=_0x13fcde;_0x5b33fb[_0x445f1a(0x4c8)][_0x445f1a(0x613)](_0x5a3022)&&_0x5b33fb[_0x445f1a(0x17b)]['write'](_0x23929f);});}function yr(){const _0x1b36e4=a0_0x57f064;let _0x5e81c9={};for(let _0x4597da in X)_0x5e81c9[_0x4597da]=Object[_0x1b36e4(0x3ce)](X[_0x4597da])[_0x1b36e4(0x3b7)](_0x43cd58=>({'id':_0x43cd58['id'],'events':_0x43cd58[_0x1b36e4(0x4c8)]}));return _0x5e81c9;}var Sr=require('uuid'),Ms=require(a0_0x57f064(0x5e1)),Es=class{},wi=new Ms[(a0_0x57f064(0x102))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),yi=new Ms[(a0_0x57f064(0x102))]({'_id':{'type':String,'default':a0_0x57f064(0x374)},'WebhookGlobal':{'type':wi},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ye=T?.['model'](Es[a0_0x57f064(0x336)],yi,a0_0x57f064(0x169)),bi=br[a0_0x57f064(0x25e)][a0_0x57f064(0x69e)](__dirname,a0_0x57f064(0x1d9)),At=(0x0,Ot[a0_0x57f064(0x3dd)])(),Si=b['get'](a0_0x57f064(0x60b))[a0_0x57f064(0x298)],se=[Ra,Ta,Ia[Si]];At[a0_0x57f064(0xdf)]('/media',Ot[a0_0x57f064(0x25e)]['static'](bi))[a0_0x57f064(0x136)](a0_0x57f064(0x31c),async(_0x5b9c18,_0x597b6d)=>{const _0x3d2d66=a0_0x57f064;console[_0x3d2d66(0x71f)](_0x3d2d66(0x1fc));let _0x1fd6a2=_0x5b9c18[_0x3d2d66(0x1c9)][_0x3d2d66(0x5a4)],_0x171aea=(_0x5b9c18[_0x3d2d66(0x2c8)]['events']||'')[_0x3d2d66(0xc8)](','),_0x4b1d21=(0x0,Sr['v4'])();console['log'](_0x3d2d66(0x204),_0x1fd6a2),console['log'](_0x3d2d66(0x178),_0x171aea);let _0x120952=b[_0x3d2d66(0x136)](_0x3d2d66(0x60b))[_0x3d2d66(0x149)],_0x1bd6ef=_0x5b9c18['query'][_0x3d2d66(0x68f)];if(console[_0x3d2d66(0x71f)](_0x3d2d66(0x2bf),_0x1bd6ef),_0x120952[_0x3d2d66(0x55e)]!==_0x1bd6ef){console['log'](_0x3d2d66(0xb5));try{let _0x38345a=await ue[_0x3d2d66(0x199)][_0x3d2d66(0x5c8)](_0x1fd6a2);if(console[_0x3d2d66(0x71f)](_0x3d2d66(0x1c7),_0x38345a),!_0x38345a||_0x38345a['apikey']!==_0x1bd6ef)return console['log'](_0x3d2d66(0x2df)),_0x597b6d['status'](0x191)[_0x3d2d66(0x67e)](_0x3d2d66(0x671));}catch(_0x3fb374){return console[_0x3d2d66(0x3e1)](_0x3d2d66(0x434),_0x3fb374),_0x597b6d[_0x3d2d66(0x5c7)](0x191)[_0x3d2d66(0x67e)](_0x3d2d66(0x3a6));}}if(!await Ye(_0x1fd6a2))return _0x597b6d[_0x3d2d66(0x5c7)](0x194)[_0x3d2d66(0x67e)]('Instância\x20não\x20encontrada.');_0x597b6d['setHeader'](_0x3d2d66(0x2e9),_0x3d2d66(0xb9)),_0x597b6d['setHeader'](_0x3d2d66(0x6b7),_0x3d2d66(0x158)),_0x597b6d[_0x3d2d66(0x4d0)](_0x3d2d66(0x111),_0x3d2d66(0x2ac)),_0x597b6d[_0x3d2d66(0x2ec)]();let _0x3b1a56=_0x3d2d66(0x6ec)+JSON['stringify']({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x597b6d[_0x3d2d66(0x16d)](_0x3b1a56),fr(_0x1fd6a2,_0x4b1d21,_0x597b6d,_0x171aea),_0x5b9c18['on']('close',()=>{const _0x1424f8=_0x3d2d66;console[_0x1424f8(0x71f)](_0x1424f8(0x701)+_0x1fd6a2),wr(_0x1fd6a2,_0x4b1d21);});}),At[a0_0x57f064(0x136)]('/clients-info',(_0x36cbd8,_0x598306)=>{const _0xcd694=a0_0x57f064;let _0x634248=yr();_0x598306[_0xcd694(0x125)](_0x634248);})['get']('/',(_0x52c1aa,_0x296de6)=>{const _0xa5c81a=a0_0x57f064;let _0x58b7b9=b[_0xa5c81a(0x136)]('SERVER')['URL'];if(_0x58b7b9){let _0x590a38=encodeURIComponent(''+_0x58b7b9);_0x296de6[_0xa5c81a(0x5e6)](_0xa5c81a(0x3ec)+_0x590a38);return;}let _0x25a92c=b['get'](_0xa5c81a(0x4db)),_0x41f5a6=_0x25a92c&&_0x25a92c[_0xa5c81a(0x57d)][_0xa5c81a(0xc8)]('/')[0x4];if(_0x41f5a6){let _0x113914=encodeURIComponent(_0xa5c81a(0x33f)+_0x41f5a6);_0x296de6['redirect'](_0xa5c81a(0x3ec)+_0x113914);}else _0x296de6[_0xa5c81a(0x5e6)]('https://uazapi-plugin.bubbleapps.io/');})[a0_0x57f064(0x5c0)](a0_0x57f064(0x57e),...se,async(_0x14d6c0,_0x4e1b6e)=>{const _0x26d29b=a0_0x57f064;try{console[_0x26d29b(0x71f)](_0x26d29b(0x514)),_0x4e1b6e[_0x26d29b(0x5c7)](0xc8)['json']({'message':_0x26d29b(0x241)}),_0x4e1b6e['on']('finish',()=>process[_0x26d29b(0x195)](0x0));}catch(_0x3b2a1d){console[_0x26d29b(0x3e1)](_0x26d29b(0x5cf),_0x3b2a1d),_0x4e1b6e[_0x26d29b(0x5c7)](0x1f4)[_0x26d29b(0x125)]({'message':_0x26d29b(0x292)});}})[a0_0x57f064(0x5c0)]('/config',...se,async(_0x301073,_0x14c2c6)=>{const _0x550ac=a0_0x57f064;try{let _0x2e319e=_0x301073[_0x550ac(0x2b6)];await ye[_0x550ac(0x21a)]({},{'$set':_0x2e319e},{'upsert':!0x0});let _0x49804a=await ye[_0x550ac(0x5a2)]();_0x14c2c6[_0x550ac(0x125)](_0x49804a);}catch(_0x419853){_0x14c2c6[_0x550ac(0x5c7)](0x190)['send'](_0x419853[_0x550ac(0x65a)]);}})[a0_0x57f064(0x136)](a0_0x57f064(0x282),...se,async(_0x408eb1,_0x398b7d)=>{const _0x45ad7f=a0_0x57f064;try{let _0x2c687b=await ye[_0x45ad7f(0x5a2)]();if(!_0x2c687b)return _0x398b7d[_0x45ad7f(0x125)]({});_0x398b7d[_0x45ad7f(0x125)](_0x2c687b);}catch(_0x549a42){_0x398b7d[_0x45ad7f(0x5c7)](0x1f4)['send'](_0x549a42['message']);}})[a0_0x57f064(0xdf)](a0_0x57f064(0x467),new ht(b,...se)[a0_0x57f064(0x146)])['use']('/message',new vt(...se)[a0_0x57f064(0x146)])['use'](a0_0x57f064(0x1a0),new at(...se)[a0_0x57f064(0x146)])[a0_0x57f064(0xdf)](a0_0x57f064(0x49b),new pt(...se)[a0_0x57f064(0x146)])[a0_0x57f064(0xdf)](a0_0x57f064(0x15f),new Rt(...se)[a0_0x57f064(0x146)])['use'](a0_0x57f064(0x536),new Tt(...se)['router']);var w=class{constructor(..._0x198d09){const _0x4a4923=a0_0x57f064;throw{'status':0x190,'error':'Bad\x20Request','message':_0x198d09[_0x4a4923(0x611)]>0x0?_0x198d09:void 0x0};}},te=class{constructor(..._0x3fa012){const _0x202ac2=a0_0x57f064;throw{'status':0x191,'error':_0x202ac2(0x46e),'message':_0x3fa012['length']>0x0?_0x3fa012:void 0x0};}},K=class{constructor(..._0x3c916b){const _0x3854d5=a0_0x57f064;throw{'status':0x193,'error':_0x3854d5(0xbc),'message':_0x3c916b[_0x3854d5(0x611)]>0x0?_0x3c916b:void 0x0};}},L=class{constructor(..._0x4275d8){const _0x5ebc22=a0_0x57f064;throw{'status':0x194,'error':_0x5ebc22(0x4b6),'message':_0x4275d8[_0x5ebc22(0x611)]>0x0?_0x4275d8:void 0x0};}},I=class{constructor(..._0x149971){const _0x3f04cd=a0_0x57f064;throw{'status':0x1f4,'error':_0x3f04cd(0x6a5),'message':_0x149971[_0x3f04cd(0x611)]>0x0?_0x149971:void 0x0};}},de=require('@whiskeysockets/baileys');async function vs(_0x5e6e64){const _0x2e0395=a0_0x57f064;let _0x3eb561=new v(vs[_0x2e0395(0x336)]),_0x100d5d=T[_0x2e0395(0x62b)](),_0xc114b5=_0x100d5d['db'](b['get'](_0x2e0395(0x5d1))[_0x2e0395(0x6d5)][_0x2e0395(0x5a6)]+_0x2e0395(0x15c))[_0x2e0395(0x620)](_0x5e6e64),_0x2cf71d=async(_0x3d13db,_0xc20662)=>{const _0x18615f=_0x2e0395;try{return await _0x100d5d[_0x18615f(0x25b)](),await _0xc114b5[_0x18615f(0x628)]({'_id':_0xc20662},JSON[_0x18615f(0xb8)](JSON[_0x18615f(0x24b)](_0x3d13db,de[_0x18615f(0x28a)][_0x18615f(0x126)])),{'upsert':!0x0});}catch{}},_0x2c05e9=async _0x2a9781=>{const _0xca9de3=_0x2e0395;try{await _0x100d5d[_0xca9de3(0x25b)]();let _0x17fce6=await _0xc114b5[_0xca9de3(0x5a2)]({'_id':_0x2a9781}),_0x53144f=JSON[_0xca9de3(0x24b)](_0x17fce6);return JSON[_0xca9de3(0xb8)](_0x53144f,de[_0xca9de3(0x28a)][_0xca9de3(0x1c1)]);}catch{}},_0x1674f0=async _0x55dda4=>{const _0x444e4f=_0x2e0395;try{return await _0x100d5d[_0x444e4f(0x25b)](),await _0xc114b5['deleteOne']({'_id':_0x55dda4});}catch{}},_0x41ccb7=await _0x2c05e9(_0x2e0395(0x2a2))||(0x0,de[_0x2e0395(0x52c)])();return{'state':{'creds':_0x41ccb7,'keys':{'get':async(_0x4be2b5,_0x1e6e62)=>{const _0x216c69=_0x2e0395;let _0x2579d5={};return await Promise[_0x216c69(0x360)](_0x1e6e62['map'](async _0x2823ef=>{const _0xebe60a=_0x216c69;let _0x34f444=await _0x2c05e9(_0x4be2b5+'-'+_0x2823ef);_0x4be2b5===_0xebe60a(0x32b)&&_0x34f444&&(_0x34f444=de['proto'][_0xebe60a(0x2a0)]['AppStateSyncKeyData']['fromObject'](_0x34f444)),_0x2579d5[_0x2823ef]=_0x34f444;})),_0x2579d5;},'set':async _0x5e135c=>{const _0x1628cd=_0x2e0395;let _0x252fca=[];for(let _0x181330 in _0x5e135c)for(let _0x3909d1 in _0x5e135c[_0x181330]){let _0x3c86e2=_0x5e135c[_0x181330][_0x3909d1],_0x3a1b7c=_0x181330+'-'+_0x3909d1;_0x252fca['push'](_0x3c86e2?_0x2cf71d(_0x3c86e2,_0x3a1b7c):_0x1674f0(_0x3a1b7c));}await Promise[_0x1628cd(0x360)](_0x252fca);}}},'saveCreds':async()=>_0x2cf71d(_0x41ccb7,_0x2e0395(0x2a2))};}var Os=O(require(a0_0x57f064(0x6ca))),As=O(require(a0_0x57f064(0x507))),Dt=require(a0_0x57f064(0x670)),Cr=require(a0_0x57f064(0x60d)),xt=require(a0_0x57f064(0x670)),It;function Ci(_0x3d11d2){const _0xa894ac=a0_0x57f064;return It||(It=(0x0,Cr[_0xa894ac(0xfa)])({'url':_0x3d11d2[_0xa894ac(0x36b)]}),It[_0xa894ac(0x25b)]()),It;}var ne=class c{constructor(_0x18ac40,_0x5e02d7){const _0x56f2e6=a0_0x57f064;this[_0x56f2e6(0x11b)]=_0x18ac40,this[_0x56f2e6(0x45c)]=_0x5e02d7,this[_0x56f2e6(0xd4)]=new v(c['name']),this[_0x56f2e6(0xec)]=Ci(_0x18ac40);}set['reference'](_0x53f745){this['instanceName']=_0x53f745;}async['instanceKeys'](){const _0x53394d=a0_0x57f064;try{return await this[_0x53394d(0xec)]['sendCommand'](['keys',this[_0x53394d(0x11b)]['PREFIX_KEY']+':*']);}catch(_0x5eca32){this[_0x53394d(0xd4)][_0x53394d(0x3e1)](_0x5eca32);}}async['writeData'](_0x5469ce,_0x31aa8f){const _0x5cf20d=a0_0x57f064;try{let _0x1b1e74=JSON['stringify'](_0x31aa8f,xt[_0x5cf20d(0x28a)][_0x5cf20d(0x126)]);return await this[_0x5cf20d(0xec)][_0x5cf20d(0x67b)](this['redisEnv'][_0x5cf20d(0x600)]+':'+this['instanceName'],_0x5469ce,_0x1b1e74);}catch(_0x39d925){this[_0x5cf20d(0xd4)][_0x5cf20d(0x3e1)](_0x39d925);}}async['getAllData'](){const _0x3959af=a0_0x57f064;try{let _0x4e367d=await this[_0x3959af(0xec)][_0x3959af(0x1cc)](this[_0x3959af(0x11b)][_0x3959af(0x600)]+':'+this['instanceName']);if(_0x4e367d){for(let _0x43e8c0 in _0x4e367d)Object['prototype'][_0x3959af(0x5c5)][_0x3959af(0x61f)](_0x4e367d,_0x43e8c0)&&(_0x4e367d[_0x43e8c0]=JSON['parse'](_0x4e367d[_0x43e8c0],xt[_0x3959af(0x28a)][_0x3959af(0x1c1)]));return _0x4e367d;}}catch(_0x4f1f9d){this[_0x3959af(0xd4)][_0x3959af(0x3e1)](_0x4f1f9d);}}async['readData'](_0x23704b){const _0x143410=a0_0x57f064;try{let _0x545c5a=await this[_0x143410(0xec)][_0x143410(0x3c5)](this[_0x143410(0x11b)][_0x143410(0x600)]+':'+this['instanceName'],_0x23704b);if(_0x545c5a)return JSON['parse'](_0x545c5a,xt['BufferJSON'][_0x143410(0x1c1)]);}catch(_0x2c5806){this[_0x143410(0xd4)][_0x143410(0x3e1)](_0x2c5806);}}async['removeData'](_0x3a8db5){const _0x513ccd=a0_0x57f064;try{return await this[_0x513ccd(0xec)][_0x513ccd(0x489)](this[_0x513ccd(0x11b)][_0x513ccd(0x600)]+':'+this[_0x513ccd(0x45c)],_0x3a8db5);}catch(_0x98e270){this[_0x513ccd(0xd4)][_0x513ccd(0x3e1)](_0x98e270);}}async[a0_0x57f064(0x237)](_0x46c3a3){const _0x3b942c=a0_0x57f064;try{return await this[_0x3b942c(0xec)]['del'](_0x46c3a3||this[_0x3b942c(0x11b)]['PREFIX_KEY']+':'+this[_0x3b942c(0x45c)]);}catch(_0x1ae4cf){this[_0x3b942c(0xd4)][_0x3b942c(0x3e1)](_0x1ae4cf);}}};async function Ns(_0x4f8e3a,_0x1b1e91){const _0x2e7eca=a0_0x57f064;let _0x2919b7=new v(Ns['name']),_0x592fb2=new ne(_0x4f8e3a,_0x1b1e91),_0x28b321=async(_0x232b1d,_0x4a47eb)=>{const _0x19437f=a0_0x2175;try{return await _0x592fb2[_0x19437f(0x1e1)](_0x4a47eb,_0x232b1d);}catch(_0x218ca9){return _0x2919b7[_0x19437f(0x3e1)]({'localError':_0x19437f(0x1e1),'error':_0x218ca9});}},_0x3b6b1b=async _0x10fc05=>{const _0x4f0837=a0_0x2175;try{return await _0x592fb2[_0x4f0837(0x248)](_0x10fc05);}catch(_0x55ae7d){_0x2919b7[_0x4f0837(0x3e1)]({'readData':_0x4f0837(0x1e1),'error':_0x55ae7d});return;}},_0x55f656=async _0x2d88bc=>{const _0x51863c=a0_0x2175;try{return await _0x592fb2[_0x51863c(0x210)](_0x2d88bc);}catch(_0x3be8fe){_0x2919b7['error']({'readData':_0x51863c(0x210),'error':_0x3be8fe});}},_0x3556ec=await _0x3b6b1b(_0x2e7eca(0x2a2))||(0x0,Dt[_0x2e7eca(0x52c)])();return{'state':{'creds':_0x3556ec,'keys':{'get':async(_0x570480,_0x3e83de)=>{const _0xaac0ed=_0x2e7eca;let _0x55cca4={};return await Promise[_0xaac0ed(0x360)](_0x3e83de[_0xaac0ed(0x3b7)](async _0x5900ec=>{const _0x11105f=_0xaac0ed;let _0x270e7e=await _0x3b6b1b(_0x570480+'-'+_0x5900ec);_0x570480===_0x11105f(0x32b)&&_0x270e7e&&(_0x270e7e=Dt[_0x11105f(0x6b2)][_0x11105f(0x2a0)][_0x11105f(0x3ba)][_0x11105f(0x333)](_0x270e7e)),_0x55cca4[_0x5900ec]=_0x270e7e;})),_0x55cca4;},'set':async _0x584df6=>{const _0x1e3e88=_0x2e7eca;let _0x445228=[];for(let _0xf595b2 in _0x584df6)for(let _0x558e59 in _0x584df6[_0xf595b2]){let _0x32f899=_0x584df6[_0xf595b2][_0x558e59],_0x5c5fa1=_0xf595b2+'-'+_0x558e59;_0x445228[_0x1e3e88(0x1e9)](_0x32f899?await _0x28b321(_0x32f899,_0x5c5fa1):await _0x55f656(_0x5c5fa1));}await Promise[_0x1e3e88(0x360)](_0x445228);}}},'saveCreds':async()=>await _0x28b321(_0x3556ec,'creds')};}var F=O(require('fs')),Re=require(a0_0x57f064(0x415)),kt=O(require('sharp')),Lt=require('https-proxy-agent'),Ei=a0_0x57f064(0x565)[a0_0x57f064(0x4a0)](),_t=Ei[a0_0x57f064(0xc8)]('\x0a')['map'](_0x259a36=>{const _0x4c5296=a0_0x57f064;let _0x34d2ce=_0x259a36['split'](':'),_0x2b92c8={'host':_0x34d2ce[0x0],'port':_0x34d2ce[0x1],'protocol':'http'};return _0x34d2ce[_0x4c5296(0x611)]===0x4&&(_0x2b92c8[_0x4c5296(0x2a7)]=_0x34d2ce[0x2],_0x2b92c8[_0x4c5296(0x238)]=_0x34d2ce[0x3]),_0x2b92c8;});function Er(_0x45f032){const _0x1e7762=a0_0x57f064;return _t[_0x1e7762(0x5c8)](_0x408ad1=>_0x408ad1[_0x1e7762(0x1c8)]===_0x45f032)||null;}function Mr(){const _0x5e994a=a0_0x57f064;if(_t[_0x5e994a(0x611)]===0x0)return null;let _0x140460=Math[_0x5e994a(0x308)](Math['random']()*_t[_0x5e994a(0x611)]);return _t[_0x140460];}function Rs(_0x19c96c){const _0x1c99af=a0_0x57f064;let _0x4d6d6d=_0x8a6e77=>typeof _0x8a6e77==_0x1c99af(0x72e)&&_0x8a6e77[_0x1c99af(0x611)]>0x0,_0x1c0806=_0xa24853=>{let _0x24ae29=parseInt(_0xa24853,0xa);return!isNaN(_0x24ae29)&&_0x24ae29>0x0&&_0x24ae29<=0xffff;},_0x2de2a8=_0x3f1a08=>typeof _0x3f1a08=='string'&&_0x3f1a08[_0x1c99af(0x611)]>0x0;return _0x19c96c&&_0x4d6d6d(_0x19c96c[_0x1c99af(0x1c8)])&&_0x1c0806(_0x19c96c[_0x1c99af(0x16e)])&&(!_0x19c96c[_0x1c99af(0x2a7)]||_0x2de2a8(_0x19c96c[_0x1c99af(0x2a7)]))&&(!_0x19c96c[_0x1c99af(0x238)]||_0x2de2a8(_0x19c96c[_0x1c99af(0x238)]))&&(_0x19c96c['protocol']===_0x1c99af(0x6cc)||_0x19c96c[_0x1c99af(0x428)]===_0x1c99af(0x65f));}var Is=require('crypto'),xs=a0_0x57f064(0x318),Ir,ce=null,vr=null,Ze=null,Mi=0x3,vi=null;async function Ni(){const _0x40bab5=a0_0x57f064;let _0x2f0e1b=await ye[_0x40bab5(0x5a2)]();ce=_0x2f0e1b?.[_0x40bab5(0x1b1)]??null,vi=_0x2f0e1b?.['DaysToDelete']??null,xs=_0x2f0e1b?.[_0x40bab5(0x70e)]??'Safari',Ir=_0x2f0e1b?.['connectedName']??Ds??_0x40bab5(0x25d),console[_0x40bab5(0x71f)]('CONFIGURAÇÃO\x20GERAL:'),console[_0x40bab5(0x71f)](_0x2f0e1b);}async function Ri(){await Ni();}Ri();var Nr={},ae={},be=class c{constructor(_0x1522da,_0x1fb585,_0x2fe923){const _0x2bc562=a0_0x57f064;this[_0x2bc562(0x228)]=_0x1522da,this[_0x2bc562(0x734)]=_0x1fb585,this[_0x2bc562(0x402)]=_0x2fe923,this[_0x2bc562(0x6ea)]=null,this[_0x2bc562(0xd4)]=new v(c[_0x2bc562(0x336)]),this[_0x2bc562(0x5a4)]={},this[_0x2bc562(0x50c)]={},this[_0x2bc562(0x682)]={'state':_0x2bc562(0x1fd)},this[_0x2bc562(0x6d9)]=(0x0,J['join'])(ie,'downloads'),this[_0x2bc562(0x2fc)]=new As[(_0x2bc562(0x25e))](),this[_0x2bc562(0x4de)]=new As[(_0x2bc562(0x25e))](),this['endSession']=!0x1,this[_0x2bc562(0x5cb)]={'status.instance':_0x2bc562(0x3e9),'connection.update':_0x2bc562(0x3e9),'qrcode.updated':_0x2bc562(0x6c6),'messages.upsert':_0x2bc562(0x64e),'send.message':_0x2bc562(0x64e),'messages.update':_0x2bc562(0x250),'group.upsert':_0x2bc562(0x703),'group.update':_0x2bc562(0x703),'group-participants.update':'/wa-groups','messages.set':_0x2bc562(0x3e8),'contacts.set':_0x2bc562(0x302),'contacts.upsert':'/wa-contacts','contacts.update':_0x2bc562(0x302),'presence.update':'/wa-presence','chats.set':_0x2bc562(0x2f2),'chats.update':_0x2bc562(0x2f2),'chats.upsert':_0x2bc562(0x2f2),'chats.delete':_0x2bc562(0x2f2)},this['reconnectAttempts']=0x0,this['reconnectTimestamps']=[],this['MAX_RECONNECT_ATTEMPTS']=0xa,this[_0x2bc562(0x262)]=0xea60,this[_0x2bc562(0x515)]=!0x1,this[_0x2bc562(0x584)]={'chats.upsert':async(_0x57b30e,_0x48384a)=>{const _0x2af679=_0x2bc562;let _0x161b53=[];for await(let _0x221caa of _0x57b30e)_0x161b53['push']({'_id':_0x221caa['id'],'owner':this[_0x2af679(0x5a4)][_0x2af679(0x5aa)],'group':_0x221caa['id'][_0x2af679(0x4b7)](_0x2af679(0xe7)),'name':_0x221caa[_0x2af679(0x336)]||_0x221caa[_0x2af679(0x263)]||null,'contactname':null,'lastmsg':_0x221caa[_0x2af679(0x3f4)]&&_0x221caa[_0x2af679(0x3f4)][_0x2af679(0x1ef)]()[_0x2af679(0x611)]<0xd?_0x221caa[_0x2af679(0x3f4)]*0x3e8:_0x221caa[_0x2af679(0x3f4)]||null,'archived':_0x221caa[_0x2af679(0x693)]||!0x1,'unreadcount':_0x221caa[_0x2af679(0x463)]||0x0});this[_0x2af679(0x3a0)](_0x2af679(0x243),_0x161b53);},'chats.update':async(_0x514853,_0x5c2c54)=>{const _0x4b134b=_0x2bc562;for(let _0x57784c of _0x514853){let _0x35d1f4={'_id':_0x57784c['id'],'owner':this[_0x4b134b(0x5a4)][_0x4b134b(0x5aa)],'group':_0x57784c['id']['endsWith'](_0x4b134b(0xe7)),'name':_0x57784c[_0x4b134b(0x336)]||_0x57784c['displayName'],'archived':_0x57784c['archived'],'ephemeralExpiration':_0x57784c[_0x4b134b(0x50a)]},_0x500fe1=!0x1,_0x49977d={};_0x35d1f4['archived']!=null&&(this[_0x4b134b(0xd4)][_0x4b134b(0xc2)](this[_0x4b134b(0x45c)]+'\x20('+this[_0x4b134b(0x5a4)]['wuid']+_0x4b134b(0x39d)+_0x57784c[_0x4b134b(0x693)]),_0x500fe1=!0x0,_0x49977d[_0x4b134b(0x693)]=_0x57784c[_0x4b134b(0x693)]),_0x57784c[_0x4b134b(0x336)]!=null&&(this[_0x4b134b(0xd4)][_0x4b134b(0xc2)](this[_0x4b134b(0x45c)]+'\x20('+this[_0x4b134b(0x5a4)][_0x4b134b(0x5aa)]+_0x4b134b(0x45a)+_0x57784c[_0x4b134b(0x336)]),_0x500fe1=!0x0,_0x49977d['name']=_0x57784c['name']),_0x57784c['displayName']!=null&&(this[_0x4b134b(0xd4)][_0x4b134b(0xc2)](this[_0x4b134b(0x45c)]+'\x20('+this[_0x4b134b(0x5a4)]['wuid']+'):\x20teve\x20mudanças\x20chat.displayName:\x20'+_0x57784c['displayName']),_0x500fe1=!0x0,_0x49977d[_0x4b134b(0x336)]=_0x57784c[_0x4b134b(0x263)]);let _0xe9fe49;_0x500fe1&&(_0xe9fe49=await this[_0x4b134b(0x402)][_0x4b134b(0x206)][_0x4b134b(0x21a)]({'where':{'_id':_0x57784c['id']}},_0x49977d,this['instance'][_0x4b134b(0x5aa)])),_0xe9fe49&&q(this[_0x4b134b(0x45c)],_0x4b134b(0x5ee),{'chat':_0xe9fe49});}},'chats.delete':async _0x256a54=>{const _0x45f029=_0x2bc562;this[_0x45f029(0x3a0)]('chats.delete',[..._0x256a54]);}},this[_0x2bc562(0x183)]={'contacts.upsert':async(_0x216883,_0x224cc1)=>{const _0x44afe5=_0x2bc562;let _0x583f6d=await this[_0x44afe5(0x402)][_0x44afe5(0x31f)][_0x44afe5(0x5c8)]({'where':{}},this[_0x44afe5(0x5a4)][_0x44afe5(0x5aa)]),_0x2a9972=[];for await(let _0x35e72d of _0x216883)_0x583f6d[_0x44afe5(0x5c8)](_0x145311=>_0x145311[_0x44afe5(0x447)]===_0x35e72d['id'])||_0x2a9972[_0x44afe5(0x1e9)]({'_id':_0x35e72d['id'],'pushName':_0x35e72d?.['name']||_0x35e72d?.[_0x44afe5(0x2d2)],'owner':this[_0x44afe5(0x5a4)][_0x44afe5(0x5aa)]});this['sendDataWebhook'](_0x44afe5(0x4b1),_0x2a9972),await this['repository']['contact'][_0x44afe5(0x621)](_0x2a9972);},'contacts.update':async(_0x5e307a,_0x328dfd)=>{const _0x580236=_0x2bc562;let _0x584a83=[];for await(let _0x39623d of _0x5e307a)_0x584a83[_0x580236(0x1e9)]({'_id':_0x39623d['id'],'pushName':_0x39623d?.['name']??_0x39623d?.[_0x580236(0x2d2)],'owner':this[_0x580236(0x5a4)][_0x580236(0x5aa)]});this['sendDataWebhook']('contacts.update',_0x584a83);}},this[_0x2bc562(0x699)]={'messaging-history.set':async({messages:_0x244289,chats:_0x305ffc,isLatest:_0x4ad231},_0x88dbae)=>{const _0xfdcdd2=_0x2bc562;if(_0x4ad231){let _0x364e4f=await Promise[_0xfdcdd2(0x360)](_0x305ffc['map'](async _0x23a4f2=>({'_id':_0x23a4f2['id'],'owner':this[_0xfdcdd2(0x5a4)][_0xfdcdd2(0x5aa)],'group':_0x23a4f2['id'][_0xfdcdd2(0x4b7)](_0xfdcdd2(0xe7)),'name':_0x23a4f2[_0xfdcdd2(0x336)]||_0x23a4f2[_0xfdcdd2(0x263)]||null,'contactname':null,'lastmsg':_0x23a4f2[_0xfdcdd2(0x3f4)]&&_0x23a4f2[_0xfdcdd2(0x3f4)][_0xfdcdd2(0x1ef)]()[_0xfdcdd2(0x611)]<0xd?_0x23a4f2[_0xfdcdd2(0x3f4)]*0x3e8:_0x23a4f2[_0xfdcdd2(0x3f4)]||null,'archived':_0x23a4f2[_0xfdcdd2(0x693)]||!0x1,'unreadcount':_0x23a4f2[_0xfdcdd2(0x463)]||0x0})));this[_0xfdcdd2(0x3a0)](_0xfdcdd2(0x644),_0x364e4f),await this['upsertChats'](_0x364e4f,_0x88dbae);}let _0x24492c=[],_0x5999c0=Date[_0xfdcdd2(0xa0)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x258c60]of Object[_0xfdcdd2(0x252)](_0x244289)){if(_0x258c60[_0xfdcdd2(0x65a)]?.[_0xfdcdd2(0xbb)]||_0x258c60[_0xfdcdd2(0x65a)]?.[_0xfdcdd2(0x33c)]||!_0x258c60[_0xfdcdd2(0x65a)]||_0x258c60['key'][_0xfdcdd2(0x409)]==='status@broadcast'||(Os[_0xfdcdd2(0x25e)]['isLong'](_0x258c60?.[_0xfdcdd2(0x4ef)])&&(_0x258c60['messageTimestamp']=_0x258c60[_0xfdcdd2(0x4ef)]?.['toNumber']()),_0x258c60[_0xfdcdd2(0x4ef)]&&_0x258c60[_0xfdcdd2(0x4ef)][_0xfdcdd2(0x1ef)]()[_0xfdcdd2(0x611)]<0xd&&(_0x258c60[_0xfdcdd2(0x4ef)]=_0x258c60[_0xfdcdd2(0x4ef)]*0x3e8),_0x258c60[_0xfdcdd2(0x4ef)]<_0x5999c0))continue;let _0x171e51=(0x0,m['normalizeMessageContent'])(_0x258c60['message']),_0x398358=(0x0,m[_0xfdcdd2(0x3f1)])(_0x171e51),{message_normalized:_0x1aff71}=this['normalizeMessage'](_0x171e51,_0x398358,null);Object[_0xfdcdd2(0x571)](_0x1aff71)[_0xfdcdd2(0x611)]>0x0&&_0x24492c[_0xfdcdd2(0x1e9)]({'_id':_0x258c60['key']['id'],'key':_0x258c60[_0xfdcdd2(0x501)],'pushName':_0x258c60[_0xfdcdd2(0x28d)],'participant':_0x258c60[_0xfdcdd2(0x67c)],'message':_0x171e51,'messageType':_0x398358,'message_normalized':{'key':_0x258c60[_0xfdcdd2(0x501)],'pushName':_0x258c60[_0xfdcdd2(0x28d)],'messageTimestamp':_0x258c60[_0xfdcdd2(0x4ef)],..._0x1aff71},'messageTimestamp':_0x258c60[_0xfdcdd2(0x4ef)],'owner':this[_0xfdcdd2(0x5a4)][_0xfdcdd2(0x5aa)]});}_0x88dbae[_0xfdcdd2(0x58d)]&&_0x24492c[_0xfdcdd2(0x611)]>0x0&&(this[_0xfdcdd2(0xd4)]['verbose'](this['instanceName']+'\x20('+this[_0xfdcdd2(0x5a4)]['wuid']+'):\x20'+_0x24492c['length']+'\x20mensagens\x20de\x20'+this[_0xfdcdd2(0x5a4)]['wuid']+_0xfdcdd2(0x19f)),await this[_0xfdcdd2(0x402)][_0xfdcdd2(0x65a)]['insert']([..._0x24492c],this['instance']['wuid'])),this[_0xfdcdd2(0x3a0)]('messages.set',[..._0x24492c]),_0x244289=void 0x0;},'messages.upsert':async({messages:_0x347a2e,type:_0x5f8aa8},_0xd2f1e0)=>{const _0x3a11de=_0x2bc562;let _0x349efc=_0x347a2e[0x0],_0x4a6881=_0x349efc['key']['id'],_0x38f3bd=_0x349efc[_0x3a11de(0x59a)]===0x2,_0x31b2f6=0x6;if(this[_0x3a11de(0x50c)]?.[_0x3a11de(0x3de)]&&_0x349efc[_0x3a11de(0x501)]['remoteJid'][_0x3a11de(0x613)](_0x3a11de(0xe7))){this[_0x3a11de(0xd4)][_0x3a11de(0xc2)](this['instanceName']+'\x20('+this[_0x3a11de(0x5a4)][_0x3a11de(0x5aa)]+_0x3a11de(0x225));return;}if(_0x38f3bd){if(ae[_0x4a6881]||(ae[_0x4a6881]=0x0),ae[_0x4a6881]++,this[_0x3a11de(0xd4)][_0x3a11de(0x3e1)](this[_0x3a11de(0x45c)]+'\x20('+this[_0x3a11de(0x5a4)]['wuid']+'):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid='+_0x349efc['key'][_0x3a11de(0x409)]+'\x20e\x20ID='+_0x4a6881+':\x20'+ae[_0x4a6881]+'/'+_0x31b2f6),ae[_0x4a6881]>=_0x31b2f6){this[_0x3a11de(0xd4)]['error'](this[_0x3a11de(0x45c)]+'\x20('+this[_0x3a11de(0x5a4)][_0x3a11de(0x5aa)]+_0x3a11de(0x441)+_0x349efc[_0x3a11de(0x501)][_0x3a11de(0x409)]+'\x20e\x20ID='+_0x4a6881+'.');let _0x7cbfc3={'key':{..._0x349efc[_0x3a11de(0x501)]},'message':{'conversation':_0x3a11de(0x4c6)+_0x4a6881+_0x3a11de(0x28f)}};_0x349efc[_0x3a11de(0x501)][_0x3a11de(0x409)][_0x3a11de(0x613)]('@s.whatsapp.net')&&this[_0x3a11de(0xec)]['ev'][_0x3a11de(0x2d8)](_0x3a11de(0x1cd),{'messages':[_0x7cbfc3],'type':'notify'}),delete ae[_0x4a6881];}}else ae[_0x4a6881]&&(this[_0x3a11de(0xd4)][_0x3a11de(0x704)](_0x3a11de(0x50b)+ae[_0x4a6881]+_0x3a11de(0x151)+_0x349efc[_0x3a11de(0x501)][_0x3a11de(0x409)]+'\x20e\x20ID='+_0x4a6881),delete ae[_0x4a6881]);if(_0x5f8aa8!==_0x3a11de(0x36a)||!_0x349efc?.[_0x3a11de(0x65a)]||_0x349efc[_0x3a11de(0x65a)]?.[_0x3a11de(0xbb)]||_0x349efc[_0x3a11de(0x65a)][_0x3a11de(0x33c)]||_0x349efc[_0x3a11de(0x501)][_0x3a11de(0x409)]===_0x3a11de(0x2f0))return;let _0x3a520e=null,_0xaef6e5=null;try{_0x3a520e=await this['processPollUpdateMessage'](_0x349efc),_0xaef6e5=_0x3a520e?_0x3a520e['join'](','):null;}catch(_0x23e845){this['logger'][_0x3a11de(0xc2)](this[_0x3a11de(0x45c)]+'\x20('+this[_0x3a11de(0x5a4)][_0x3a11de(0x5aa)]+_0x3a11de(0x455)+(_0x23e845 instanceof Error?_0x23e845[_0x3a11de(0x65a)]:JSON[_0x3a11de(0x24b)](_0x23e845,null,0x2))),_0xaef6e5='error\x20get\x20vote';}this[_0x3a11de(0xec)][_0x3a11de(0x4b5)](_0x3a11de(0x462)),Os[_0x3a11de(0x25e)][_0x3a11de(0x5ed)](_0x349efc['messageTimestamp'])&&(_0x349efc[_0x3a11de(0x4ef)]=_0x349efc['messageTimestamp']?.[_0x3a11de(0x574)]()),_0x349efc['messageTimestamp']&&_0x349efc[_0x3a11de(0x4ef)][_0x3a11de(0x1ef)]()[_0x3a11de(0x611)]<0xd&&(_0x349efc['messageTimestamp']=_0x349efc[_0x3a11de(0x4ef)]*0x3e8);let _0x342f0e=_0x349efc['message'],_0x4317ea=(0x0,m[_0x3a11de(0x48a)])(_0x342f0e),_0xbeff29=(0x0,m[_0x3a11de(0x3f1)])(_0x4317ea),{messageContent:_0x34fbe0,message_normalized:_0x5ee684}=this[_0x3a11de(0x261)](_0x4317ea,_0xbeff29,_0xaef6e5);_0xbeff29===_0x3a11de(0xbb)&&_0x34fbe0?.['editedMessage']&&(_0xbeff29=_0x3a11de(0x218));let _0x4929f8,_0x3876af=_0x349efc[_0x3a11de(0x501)][_0x3a11de(0x409)][_0x3a11de(0x4b7)](_0x3a11de(0xe7));if(_0x349efc[_0x3a11de(0x501)][_0x3a11de(0x3c1)])_0x4929f8=this[_0x3a11de(0x5a4)][_0x3a11de(0x341)];else{let _0x4cc8e6=_0x3876af?_0x349efc[_0x3a11de(0x501)][_0x3a11de(0x67c)]:_0x349efc[_0x3a11de(0x501)][_0x3a11de(0x409)];_0x4929f8=(await this[_0x3a11de(0xcc)](_0x4cc8e6,_0x349efc[_0x3a11de(0x28d)],!0x1))[_0x3a11de(0x2eb)]['pictureUrl'];}let _0x4890bc={'_id':_0x349efc['key']['id'],'key':_0x349efc['key'],'isGroup':_0x3876af,'profilePictureUrl':_0x4929f8,'pushName':_0x349efc[_0x3a11de(0x28d)],'message':_0x4317ea,'messageType':_0xbeff29,'message_normalized':{'key':_0x349efc[_0x3a11de(0x501)],'pushName':_0x349efc[_0x3a11de(0x28d)],'messageTimestamp':_0x349efc[_0x3a11de(0x4ef)],'source':(0x0,m[_0x3a11de(0x211)])(_0x349efc[_0x3a11de(0x501)]['id']),..._0x5ee684},'messageTimestamp':_0x349efc[_0x3a11de(0x4ef)],'owner':this['instance'][_0x3a11de(0x5aa)],'source':(0x0,m['getDevice'])(_0x349efc[_0x3a11de(0x501)]['id'])};_0x34fbe0||(console[_0x3a11de(0x3e1)](_0x3a11de(0x2c9)),this['logger'][_0x3a11de(0x3e1)](_0x4890bc)),this[_0x3a11de(0xd4)]['log'](this[_0x3a11de(0x45c)]+'\x20('+this['instance'][_0x3a11de(0x5aa)]+'):\x20'+(_0x4890bc[_0x3a11de(0x501)]?.[_0x3a11de(0x3c1)]?_0x3a11de(0x723):_0x3a11de(0x6da))+'\x20['+_0x4890bc[_0x3a11de(0x501)]?.['remoteJid']['replace'](_0x3a11de(0x51f),'')+']\x20('+_0x4890bc[_0x3a11de(0x64a)]+')'),_0x4890bc[_0x3a11de(0xcf)]?.[_0x3a11de(0x435)]&&this[_0x3a11de(0xd4)][_0x3a11de(0x71f)](_0x4a6881+':\x20'+_0x4890bc['message_normalized']?.[_0x3a11de(0x435)]),await this['repository']['message'][_0x3a11de(0x621)]([_0x4890bc],this[_0x3a11de(0x5a4)][_0x3a11de(0x5aa)]),this[_0x3a11de(0x3a0)]('messages.upsert',_0x4890bc),q(this[_0x3a11de(0x45c)],_0x3a11de(0x5b8),{'message':_0x4890bc}),_0x349efc[_0x3a11de(0x501)][_0x3a11de(0x409)]!==_0x3a11de(0x2f0)&&await this[_0x3a11de(0x124)](_0xd2f1e0,_0x4890bc,_0x3a11de(0x6a6));},'messages.update':async(_0x3de753,_0x1aec01)=>{const _0xe2d6d5=_0x2bc562;let _0x2429df={0x0:_0xe2d6d5(0x2e2),0x1:_0xe2d6d5(0x309),0x2:_0xe2d6d5(0x6b1),0x3:_0xe2d6d5(0x351),0x4:'READ',0x5:'PLAYED'};for await(let {key:_0x5e4cb7,update:_0x28b7da}of _0x3de753){if(this[_0xe2d6d5(0x50c)]?.[_0xe2d6d5(0x3de)]&&_0x5e4cb7[_0xe2d6d5(0x409)][_0xe2d6d5(0x613)](_0xe2d6d5(0xe7))){this[_0xe2d6d5(0xd4)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20[messages.update]\x20group\x20ignored');return;}if(_0x5e4cb7[_0xe2d6d5(0x409)]!==_0xe2d6d5(0x2f0)){let _0x196c32=Date[_0xe2d6d5(0xa0)](),_0x5d8f72;_0x28b7da[_0xe2d6d5(0x65a)]===null&&_0x28b7da['status']===void 0x0?_0x5d8f72=_0xe2d6d5(0x6fe):_0x5d8f72=_0x2429df[_0x28b7da[_0xe2d6d5(0x5c7)]];let _0x331bde=_0x5e4cb7['remoteJid'][_0xe2d6d5(0x5f7)](/:\d{1,2}@/g,'@'),_0x53c4ff={..._0x5e4cb7,'remoteJid':_0x331bde,'status':_0x5d8f72,'datetime':_0x196c32,'owner':this[_0xe2d6d5(0x5a4)][_0xe2d6d5(0x5aa)]};this[_0xe2d6d5(0x3a0)]('messages.update',_0x53c4ff),await this[_0xe2d6d5(0x533)](_0x5e4cb7,_0x53c4ff);}}},'labels.association':async({type:_0x13722,association:_0x422338})=>{const _0x10bfa2=_0x2bc562;if(_0x422338['type']===_0x10bfa2(0x645)){let _0x3749ec,_0x12b7d8=0x0;for(;!_0x3749ec&&_0x12b7d8<this[_0x10bfa2(0x1b3)];)_0x3749ec=await this[_0x10bfa2(0x402)][_0x10bfa2(0x206)][_0x10bfa2(0x5a2)]({'where':{'_id':_0x422338['chatId']}},this[_0x10bfa2(0x5a4)]['wuid']),_0x3749ec||(_0x12b7d8++,console[_0x10bfa2(0x71f)](_0x10bfa2(0x446)+_0x422338[_0x10bfa2(0x131)]+_0x10bfa2(0x161)+this['delayChatLabel_RETRY_DELAY_MS']+_0x10bfa2(0xa9)+_0x12b7d8+'/'+this[_0x10bfa2(0x1b3)]+')'),await this[_0x10bfa2(0xf8)](this[_0x10bfa2(0x2e0)]));if(!_0x3749ec){console[_0x10bfa2(0x3e1)](_0x10bfa2(0x33a)+_0x422338[_0x10bfa2(0x131)]+_0x10bfa2(0x73c)+this[_0x10bfa2(0x1b3)]+_0x10bfa2(0x202));return;}switch(_0x13722){case _0x10bfa2(0x57c):console[_0x10bfa2(0x71f)](_0x422338),await this['repository']['chat']['updateOne']({'where':{'_id':_0x422338[_0x10bfa2(0x131)]}},{'leadInfo.etiquetas':_0x422338[_0x10bfa2(0x13a)]},this['instance'][_0x10bfa2(0x5aa)],void 0x0,'$addToSet');break;case _0x10bfa2(0xab):console[_0x10bfa2(0x71f)](_0x422338),await this[_0x10bfa2(0x402)][_0x10bfa2(0x206)]['updateOne']({'where':{'_id':_0x422338[_0x10bfa2(0x131)]}},{'leadInfo.etiquetas':_0x422338['labelId']},this[_0x10bfa2(0x5a4)][_0x10bfa2(0x5aa)],void 0x0,_0x10bfa2(0x6f7));break;default:console[_0x10bfa2(0x3e1)](_0x10bfa2(0x568)+_0x13722+']');}}},'labels.edit':async _0x5ef934=>{const _0x3c8d8d=_0x2bc562;if(!_0x5ef934||!_0x5ef934['id']){console[_0x3c8d8d(0x3e1)](_0x3c8d8d(0x445));return;}if(!_0x5ef934['deleted']){let _0x149353=[_0x3c8d8d(0x123),_0x3c8d8d(0x362),'#fed428','#dfaef0',_0x3c8d8d(0x3f9),_0x3c8d8d(0x690),'#fe9dfe',_0x3c8d8d(0x518),_0x3c8d8d(0x172),_0x3c8d8d(0x4bf),_0x3c8d8d(0x3a5),_0x3c8d8d(0x608),_0x3c8d8d(0x722),_0x3c8d8d(0x13d),_0x3c8d8d(0x587),_0x3c8d8d(0x60f),'#ffae04','#b4ebff',_0x3c8d8d(0x5fe),'#9568cf'],_0x3d880f;typeof _0x5ef934[_0x3c8d8d(0x301)]=='number'&&_0x5ef934[_0x3c8d8d(0x301)]>=0x0&&_0x5ef934[_0x3c8d8d(0x301)]<_0x149353[_0x3c8d8d(0x611)]?_0x3d880f=_0x149353[_0x5ef934[_0x3c8d8d(0x301)]]:(console[_0x3c8d8d(0x3e1)](_0x3c8d8d(0x491),_0x5ef934[_0x3c8d8d(0x301)]),_0x3d880f=_0x3c8d8d(0x34f));let _0x20464b={'_id':_0x5ef934['id'],'colorHex':_0x3d880f,'color':_0x5ef934?.[_0x3c8d8d(0x301)],'name':_0x5ef934?.['name'],'owner':this[_0x3c8d8d(0x5a4)][_0x3c8d8d(0x5aa)]};await this[_0x3c8d8d(0x402)][_0x3c8d8d(0x400)][_0x3c8d8d(0x21a)]({'where':{'_id':_0x5ef934['id']}},_0x20464b,this[_0x3c8d8d(0x5a4)][_0x3c8d8d(0x5aa)]),console[_0x3c8d8d(0x71f)]('Rótulo\x20atualizado:',_0x5ef934);}_0x5ef934[_0x3c8d8d(0x5a3)]&&(await this['repository'][_0x3c8d8d(0x400)][_0x3c8d8d(0x3b5)]({'where':{'_id':_0x5ef934['id']}},this[_0x3c8d8d(0x5a4)][_0x3c8d8d(0x5aa)]),console[_0x3c8d8d(0x71f)]('Rótulo\x20deletado:',_0x5ef934['id']));}},this['groupHandler']={'groups.upsert':_0x436710=>{const _0x38f4d7=_0x2bc562;this[_0x38f4d7(0x3a0)]('groups.upsert',_0x436710);},'groups.update':_0x1cc722=>{const _0x37843e=_0x2bc562;this[_0x37843e(0x3a0)](_0x37843e(0x444),_0x1cc722);},'group-participants.update':_0x32a5d6=>{const _0x541e50=_0x2bc562;this[_0x541e50(0x3a0)](_0x541e50(0x623),_0x32a5d6);}},this[_0x2bc562(0x1b3)]=0x5,this[_0x2bc562(0x2e0)]=0x1388,this[_0x2bc562(0x3e0)]=async _0x85a925=>{const _0x4ea0cf=_0x2bc562;if(_0x85a925[_0x4ea0cf(0x65a)]?.[_0x4ea0cf(0xaf)]){let _0x5b323c=await this['getMessage'](_0x85a925[_0x4ea0cf(0x65a)][_0x4ea0cf(0xaf)][_0x4ea0cf(0x706)],!0x0);if(_0x5b323c){let _0x53b85c=_0x5b323c['key'][_0x4ea0cf(0x3c1)]?this[_0x4ea0cf(0x5a4)][_0x4ea0cf(0x5aa)]+_0x4ea0cf(0x51f):_0x5b323c[_0x4ea0cf(0x501)][_0x4ea0cf(0x67c)]||_0x5b323c['key'][_0x4ea0cf(0x409)],_0x3d5484=_0x5b323c[_0x4ea0cf(0x501)]['id'],_0x1d9854=_0x5b323c[_0x4ea0cf(0x65a)],_0x5b491e=Buffer[_0x4ea0cf(0x6aa)](_0x1d9854['messageContextInfo'][_0x4ea0cf(0x316)][_0x4ea0cf(0x1ef)]('hex'),_0x4ea0cf(0x2d3)),_0x298978=(0x0,m['decryptPollVote'])(_0x85a925[_0x4ea0cf(0x65a)]['pollUpdateMessage'][_0x4ea0cf(0x51e)],{'pollCreatorJid':_0x53b85c,'pollMsgId':_0x3d5484,'pollEncKey':_0x5b491e,'voterJid':_0x85a925[_0x4ea0cf(0x501)]['fromMe']?this['instance'][_0x4ea0cf(0x5aa)]+'@s.whatsapp.net':_0x85a925[_0x4ea0cf(0x501)]['remoteJid'][_0x4ea0cf(0x4b7)](_0x4ea0cf(0xdc))?_0x85a925[_0x4ea0cf(0x501)][_0x4ea0cf(0x67c)]:_0x85a925['key'][_0x4ea0cf(0x409)]}),_0x24ae8b=[],_0x36f003=_0x298978[_0x4ea0cf(0x4f3)][_0x4ea0cf(0x3b7)](_0x440c83=>Buffer[_0x4ea0cf(0x6aa)](_0x440c83)[_0x4ea0cf(0x1ef)](_0x4ea0cf(0x2d3)));for(let {optionName:_0x200a18}of _0x1d9854['pollCreationMessage']?.[_0x4ea0cf(0x5ef)]||_0x1d9854[_0x4ea0cf(0x6d0)]?.[_0x4ea0cf(0x5ef)]||_0x1d9854[_0x4ea0cf(0x674)]?.[_0x4ea0cf(0x5ef)])_0x36f003[_0x4ea0cf(0x4d1)]((0x0,m[_0x4ea0cf(0x5a8)])(Buffer[_0x4ea0cf(0x6aa)](_0x200a18))[_0x4ea0cf(0x1ef)](_0x4ea0cf(0x2d3)))>-0x1&&_0x24ae8b[_0x4ea0cf(0x1e9)](_0x200a18);return _0x24ae8b;}}return null;},this[_0x2bc562(0x261)]=(_0x2afc40,_0x55e275,_0x21896f)=>{const _0x33204a=_0x2bc562;try{let _0x3b70fa=_0x2afc40?(0x0,m[_0x33204a(0x3f5)])(_0x2afc40)[_0x55e275]:void 0x0,_0x425b74={},_0x4f080e=null,_0x35d3fd=null,_0x28b32a=null;_0x55e275===_0x33204a(0xbb)&&_0x3b70fa?.['editedMessage']&&(_0x55e275=(0x0,m[_0x33204a(0x3f1)])(_0x3b70fa[_0x33204a(0x218)]),_0x4f080e=_0x2afc40[_0x33204a(0xbb)][_0x33204a(0x501)]['id'],_0x3b70fa=_0x2afc40['protocolMessage'][_0x33204a(0x218)][_0x55e275]),_0x2afc40[_0x55e275]?.[_0x33204a(0x168)]?.[_0x33204a(0x579)]&&_0x2afc40[_0x55e275]?.[_0x33204a(0x168)]?.['quotedMessage']&&(_0x35d3fd=_0x2afc40[_0x55e275]['contextInfo']['stanzaId']),_0x2afc40[_0x33204a(0x5d5)]&&(_0x28b32a=_0x2afc40['reactionMessage']['key']['id']);let _0x49ba0c;if(_0x3b70fa&&typeof _0x3b70fa==_0x33204a(0x6c8)&&_0x33204a(0x706)in _0x3b70fa&&({pollCreationMessageKey:_0x49ba0c}=_0x3b70fa),_0x55e275==='pollCreationMessage'||_0x55e275===_0x33204a(0x674)||_0x55e275===_0x33204a(0x6d0)){let _0x3fa26c=_0x3b70fa['options'][_0x33204a(0x3b7)](_0x3b2298=>_0x3b2298[_0x33204a(0x5f1)])[_0x33204a(0x69e)]('|');_0x425b74[_0x33204a(0x538)]=_0x3fa26c;}let _0x4926c2='';if(_0x3b70fa&&(_0x4926c2+=_0x3b70fa['name']?_0x3b70fa[_0x33204a(0x336)]:'',_0x4926c2+=_0x3b70fa[_0x33204a(0x6e5)]?'\x20'+_0x3b70fa[_0x33204a(0x6e5)]:'',_0x4926c2+=_0x3b70fa[_0x33204a(0x2de)]?'\x20'+_0x3b70fa[_0x33204a(0x2de)]:'',_0x4926c2+=_0x3b70fa[_0x33204a(0x263)]?'\x20'+_0x3b70fa[_0x33204a(0x263)]:''),_0x55e275===_0x33204a(0x433)){_0x4926c2=(_0x3b70fa[_0x33204a(0x572)]||'')+'\x0a'+(_0x3b70fa['description']||'')+'\x0a'+(_0x3b70fa[_0x33204a(0x227)]||'');let _0x3a745e=this[_0x33204a(0x2f5)](_0x3b70fa[_0x33204a(0x170)]);_0x425b74[_0x33204a(0x538)]=_0x3a745e;}if(_0x55e275===_0x33204a(0x30a)&&(_0x21896f=_0x3b70fa[_0x33204a(0x572)]),_0x3b70fa&&_0x3b70fa['vcard']){let _0x16ce8f=this[_0x33204a(0x1af)](JSON[_0x33204a(0x24b)](_0x3b70fa[_0x33204a(0x570)],null,0x2));_0x4926c2=_0x4926c2+'\x0a'+_0x16ce8f;}if(_0x3b70fa){let {sections:_0x652ce4,listType:_0x16a5f6,displayName:_0x81d40b,vcard:_0x47d2d8,contactVcard:_0x277579,name:_0xdde8fd,caption:_0x13b0d0,conversation:_0x3472a0,pollCreationMessageKey:_0x44b477,footerText:_0x17baaa,contentText:_0x4d7a8c,pageCount:_0x1318d2,headerType:_0x271061,isAvatar:_0x30f7a3,isAnimated:_0x361a28,fallbackLc:_0x1bb21e,fallbackLg:_0x211313,namespace:_0x4d615f,elementName:_0x448ab6,localizableParams:_0x1e7af4,viewOnce:_0x172b89,height:_0x115f17,width:_0x29c8dc,key:_0x11730a,firstScanLength:_0x2bf5a7,firstScanSidecar:_0x3b81dc,gifPlayback:_0x3698cb,gifAttribution:_0x587278,midQualityFileSha256:_0x1261e0,scansSidecar:_0x1916c9,streamingSidecar:_0x253050,thumbnailHeight:_0x5410bc,thumbnailWidth:_0x388a3d,thumbnailEncSha256:_0x3bdf0f,thumbnailDirectPath:_0x5911ac,canonicalUrl:_0x11044d,matchedText:_0x5532ca,previewType:_0x1ddcc2,thumbnailSha256:_0x417c57,deviceListMetadataVersion:_0x3d572b,inviteLinkGroupTypeV2:_0x562e48,interactiveAnnotations:_0xc1163,scanLengths:_0x3e11fa,jpegThumbnail:_0x1c0160,url:_0x163c09,mediaKeyTimestamp:_0x386a05,waveform:_0x1c5966,stickerSentTs:_0x3bb084,firstFrameLength:_0x2ac30b,fileEncSha256:_0x6ba17f,contextInfo:_0x56344c,firstFrameSidecar:_0x41b385,directPath:_0x2c9a69,fileSha256:_0x126622,mediaKey:_0x1f8e67,senderTimestampMs:_0x243c6a,..._0x391240}=_0x3b70fa;(_0x55e275==='listMessage'||_0x55e275===_0x33204a(0x30a))&&(delete _0x391240[_0x33204a(0x572)],delete _0x391240[_0x33204a(0x6be)]),typeof _0x3b70fa==_0x33204a(0x72e)?_0x425b74={'text':_0x3b70fa,'type':_0x55e275||_0x33204a(0x2de),..._0x4f080e&&{'edited':_0x4f080e},..._0x35d3fd&&{'quoted':_0x35d3fd},..._0x28b32a&&{'reaction':_0x28b32a}}:_0x425b74={'text':_0x4926c2,..._0x391240,..._0x55e275===_0x33204a(0xaf)?{'poll_id':_0x3b70fa[_0x33204a(0x706)]['id'],'quoted':_0x3b70fa[_0x33204a(0x706)]['id'],'vote':_0x21896f}:{},..._0x55e275===_0x33204a(0x30a)?{'vote':_0x21896f}:{},'type':_0x55e275,..._0x4f080e&&{'edited':_0x4f080e},..._0x35d3fd&&{'quoted':_0x35d3fd},..._0x28b32a&&{'reaction':_0x28b32a},...(_0x55e275===_0x33204a(0x330)||_0x55e275===_0x33204a(0x674)||_0x55e275===_0x33204a(0x6d0)||_0x55e275===_0x33204a(0x433))&&{'convertedOptions':_0x425b74[_0x33204a(0x538)]}};}return{'messageType':_0x55e275,'messageContent':_0x3b70fa,'message_normalized':_0x425b74};}catch(_0xc041a1){return console['error']('Erro\x20ao\x20normalizar\x20a\x20mensagem:',_0xc041a1),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x2bc562(0x294)](),this[_0x2bc562(0x5a4)][_0x2bc562(0x2ce)]={'count':0x0},this[_0x2bc562(0x5a4)][_0x2bc562(0x2cd)]={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0x57f064(0x45c)](_0x236ec5){const _0x5c3a5c=a0_0x57f064;if(!_0x236ec5){this[_0x5c3a5c(0x5a4)][_0x5c3a5c(0x336)]=(0x0,Tr['v4'])();return;}this[_0x5c3a5c(0x5a4)][_0x5c3a5c(0x336)]=_0x236ec5,this[_0x5c3a5c(0x3a0)]('status.instance',{'instance':this[_0x5c3a5c(0x5a4)][_0x5c3a5c(0x336)],'status':'created'});}get['instanceName'](){const _0x391347=a0_0x57f064;return this[_0x391347(0x5a4)][_0x391347(0x336)];}get[a0_0x57f064(0x5aa)](){const _0x36385d=a0_0x57f064;return this['instance'][_0x36385d(0x5aa)];}async[a0_0x57f064(0x260)](){const _0x1f7f37=a0_0x57f064;let _0x3c2221=this[_0x1f7f37(0xec)][_0x1f7f37(0x37f)]?.[_0x1f7f37(0x336)]??this['client']['user']?.['verifiedName'];if(!_0x3c2221){if(this['configService'][_0x1f7f37(0x136)](_0x1f7f37(0x5d1))['ENABLED']){let _0x3a82c4=await T[_0x1f7f37(0x62b)]()['db'](this[_0x1f7f37(0x228)][_0x1f7f37(0x136)](_0x1f7f37(0x5d1))['CONNECTION'][_0x1f7f37(0x5a6)]+'-instances')[_0x1f7f37(0x620)](this['instanceName'])['findOne']({'_id':'creds'});if(_0x3a82c4){let _0x272243=JSON['parse'](JSON[_0x1f7f37(0x24b)](_0x3a82c4),m[_0x1f7f37(0x28a)][_0x1f7f37(0x1c1)]);_0x3c2221=_0x272243['me']?.['name']||_0x272243['me']?.[_0x1f7f37(0x2d2)];}}else{if((0x0,Te[_0x1f7f37(0x70f)])((0x0,J[_0x1f7f37(0x69e)])(ge,this[_0x1f7f37(0x45c)],_0x1f7f37(0x2be)))){let _0x30a66d=JSON[_0x1f7f37(0xb8)]((0x0,Te[_0x1f7f37(0x725)])((0x0,J[_0x1f7f37(0x69e)])(ge,this['instanceName'],_0x1f7f37(0x2be)),{'encoding':_0x1f7f37(0x10a)}));_0x3c2221=_0x30a66d['me']?.['name']||_0x30a66d['me']?.['verifiedName'];}}}return _0x3c2221;}get[a0_0x57f064(0x341)](){const _0xbaf983=a0_0x57f064;return this[_0xbaf983(0x5a4)][_0xbaf983(0x341)];}get[a0_0x57f064(0x49c)](){const _0x374ae3=a0_0x57f064;return this[_0x374ae3(0x5a4)][_0x374ae3(0x2ce)]?.[_0x374ae3(0x3d7)]?{'pairingCode':this[_0x374ae3(0x5a4)]['qrcode']?.[_0x374ae3(0x3d7)]}:{'code':this[_0x374ae3(0x5a4)][_0x374ae3(0x2ce)]?.[_0x374ae3(0xd0)],'base64':this[_0x374ae3(0x5a4)]['qrcode']?.[_0x374ae3(0x322)]};}async['loadWebhook'](){const _0x360f89=a0_0x57f064;let _0x4594bc=await this['repository'][_0x360f89(0x558)]['find'](this[_0x360f89(0x45c)]);this[_0x360f89(0x50c)][_0x360f89(0x214)]=_0x4594bc?.['url'],this[_0x360f89(0x50c)][_0x360f89(0x5a9)]=_0x4594bc?.[_0x360f89(0x5a9)],this['localWebhook'][_0x360f89(0x6a9)]=_0x4594bc?.[_0x360f89(0x6a9)],this['localWebhook'][_0x360f89(0x590)]=_0x4594bc?.['STATUS_INSTANCE'],this[_0x360f89(0x50c)]['QRCODE_UPDATED']=_0x4594bc?.[_0x360f89(0x57b)],this['localWebhook'][_0x360f89(0x449)]=_0x4594bc?.['SEND_MESSAGE'],this[_0x360f89(0x50c)][_0x360f89(0x6a6)]=_0x4594bc?.[_0x360f89(0x6a6)],this[_0x360f89(0x50c)]['MESSAGES_UPDATE']=_0x4594bc?.['MESSAGES_UPDATE'],this[_0x360f89(0x50c)][_0x360f89(0x70c)]=_0x4594bc?.[_0x360f89(0x70c)],this['localWebhook']['GROUPS_UPDATE']=_0x4594bc?.[_0x360f89(0x687)],this[_0x360f89(0x50c)]['GROUP_PARTICIPANTS_UPDATE']=_0x4594bc?.['GROUP_PARTICIPANTS_UPDATE'],this[_0x360f89(0x50c)][_0x360f89(0x5b6)]=_0x4594bc?.[_0x360f89(0x5b6)],this[_0x360f89(0x50c)][_0x360f89(0x4b8)]=_0x4594bc?.['CHATS_UPSERT'],this[_0x360f89(0x50c)][_0x360f89(0x6bc)]=_0x4594bc?.[_0x360f89(0x6bc)],this[_0x360f89(0x50c)]['CHATS_DELETE']=_0x4594bc?.[_0x360f89(0x5a0)],this['localWebhook'][_0x360f89(0x459)]=_0x4594bc?.[_0x360f89(0x459)],this[_0x360f89(0x50c)][_0x360f89(0x3f7)]=_0x4594bc?.[_0x360f89(0x3f7)],this[_0x360f89(0x50c)][_0x360f89(0x22f)]=_0x4594bc?.[_0x360f89(0x22f)],this[_0x360f89(0x50c)]['PRESENCE_UPDATE']=_0x4594bc?.['PRESENCE_UPDATE'],this['localWebhook'][_0x360f89(0x691)]=_0x4594bc?.[_0x360f89(0x691)],this[_0x360f89(0x50c)][_0x360f89(0xf7)]=_0x4594bc?.['CONNECTION_UPDATE'],this['localWebhook'][_0x360f89(0x3de)]=_0x4594bc?.[_0x360f89(0x3de)];}async[a0_0x57f064(0x24f)](_0x10eca5){const _0x2868bc=a0_0x57f064;let _0x3f7e99=['_id',_0x2868bc(0x214),_0x2868bc(0x5a9),_0x2868bc(0x6a9),'STATUS_INSTANCE','QRCODE_UPDATED','MESSAGES_UPDATE',_0x2868bc(0x6a6),'SEND_MESSAGE',_0x2868bc(0x70c),_0x2868bc(0x687),_0x2868bc(0x576),_0x2868bc(0x5b6),_0x2868bc(0x4b8),_0x2868bc(0x6bc),'CHATS_DELETE','CONTACTS_SET',_0x2868bc(0x3f7),_0x2868bc(0x22f),'PRESENCE_UPDATE',_0x2868bc(0x691),_0x2868bc(0xf7),_0x2868bc(0x3de)],_0x1b2d4e={};return _0x3f7e99['forEach'](_0x2b6326=>{_0x10eca5[_0x2b6326]!==void 0x0&&(_0x1b2d4e[_0x2b6326]=_0x10eca5[_0x2b6326]);}),_0x1b2d4e[_0x2868bc(0x214)]&&(_0x1b2d4e['url']=_0x1b2d4e[_0x2868bc(0x214)][_0x2868bc(0x4a0)]()),await this['repository'][_0x2868bc(0x558)][_0x2868bc(0x642)](_0x1b2d4e,this[_0x2868bc(0x45c)]),Object[_0x2868bc(0x4fe)](this[_0x2868bc(0x50c)],_0x1b2d4e),await this[_0x2868bc(0x402)][_0x2868bc(0x558)][_0x2868bc(0x5c8)](this[_0x2868bc(0x45c)]);}async['findWebhook'](){const _0x47b6d5=a0_0x57f064;return await this['repository'][_0x47b6d5(0x558)][_0x47b6d5(0x5c8)](this[_0x47b6d5(0x45c)]);}async[a0_0x57f064(0x3a0)](_0x7af11a,_0x23ab0d){const _0x59685a=a0_0x57f064;let _0x48ea30=_0x7af11a[_0x59685a(0x5f7)](/[\.-]/gm,'_')[_0x59685a(0x68e)](),_0x888804=this[_0x59685a(0x50c)][_0x59685a(0x5a9)]&&(0x0,P[_0x59685a(0x1f9)])(this[_0x59685a(0x50c)]['url'])?this[_0x59685a(0x50c)][_0x59685a(0x214)]+(this[_0x59685a(0x50c)][_0x59685a(0x6a9)]?this[_0x59685a(0x5cb)][_0x7af11a]:''):null,_0x811621=this[_0x59685a(0x50c)][_0x48ea30],_0x4dd496=ce&&ce[_0x59685a(0x5a9)]&&(0x0,P[_0x59685a(0x1f9)])(ce[_0x59685a(0x214)])?ce[_0x59685a(0x214)]+(ce[_0x59685a(0x6a9)]?this[_0x59685a(0x5cb)][_0x7af11a]:''):null,_0x3889cc=ce?ce[_0x48ea30]:null;if(_0x811621&&_0x888804)try{await Z[_0x59685a(0x25e)][_0x59685a(0x642)]({'baseURL':_0x888804})[_0x59685a(0xf5)]('',{'event':_0x7af11a,'instance':this[_0x59685a(0x5a4)]['name'],'apikey':this['instance']['apikey'],'data':_0x23ab0d}),this[_0x59685a(0xd4)][_0x59685a(0x71f)](this['instanceName']+'\x20('+this[_0x59685a(0x5a4)][_0x59685a(0x5aa)]+_0x59685a(0x6b0)+_0x7af11a+':\x20'+_0x888804);}catch{this[_0x59685a(0xd4)]['error'](this[_0x59685a(0x45c)]+'\x20('+this[_0x59685a(0x5a4)][_0x59685a(0x5aa)]+_0x59685a(0x31d)+_0x7af11a+':\x20'+_0x888804);}if(_0x3889cc&&_0x4dd496)try{await Z[_0x59685a(0x25e)][_0x59685a(0x642)]({'baseURL':_0x4dd496})[_0x59685a(0xf5)]('',{'event':_0x7af11a,'instance':this[_0x59685a(0x5a4)][_0x59685a(0x336)],'apikey':this['instance'][_0x59685a(0x68f)],'data':_0x23ab0d}),this[_0x59685a(0xd4)][_0x59685a(0x71f)](this[_0x59685a(0x45c)]+'\x20('+this[_0x59685a(0x5a4)][_0x59685a(0x5aa)]+_0x59685a(0x51a)+_0x7af11a+':\x20'+_0x4dd496);}catch{this[_0x59685a(0xd4)][_0x59685a(0x3e1)](this[_0x59685a(0x45c)]+'\x20('+this[_0x59685a(0x5a4)][_0x59685a(0x5aa)]+_0x59685a(0x392)+_0x7af11a+':\x20'+_0x4dd496);}}async[a0_0x57f064(0x3a4)]({qr:_0x752836,connection:_0x2a919a,lastDisconnect:_0x4ed570}){const _0x2073ae=a0_0x57f064;if(_0x752836){if(this[_0x2073ae(0x5a4)][_0x2073ae(0x2ce)]['count']===Mi)return this[_0x2073ae(0x3a0)](_0x2073ae(0x676),{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':m['DisconnectReason'][_0x2073ae(0x54a)]}),this[_0x2073ae(0x682)]={'state':_0x2073ae(0x5de),'statusReason':m['DisconnectReason'][_0x2073ae(0x5e5)]},this['sendDataWebhook'](_0x2073ae(0x12c),{'instance':this[_0x2073ae(0x5a4)][_0x2073ae(0x336)],...this[_0x2073ae(0x682)]}),this['sendDataWebhook'](_0x2073ae(0x3ee),{'instance':this[_0x2073ae(0x5a4)][_0x2073ae(0x336)],'status':_0x2073ae(0x4ab)}),this[_0x2073ae(0x402)][_0x2073ae(0x199)][_0x2073ae(0x642)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x2073ae(0xa0)]()},this['instance'][_0x2073ae(0x336)]),this['endSession']=!0x0,this[_0x2073ae(0x734)][_0x2073ae(0x2d8)](_0x2073ae(0x2ba),this[_0x2073ae(0x5a4)][_0x2073ae(0x336)]);this[_0x2073ae(0x5a4)][_0x2073ae(0x2ce)][_0x2073ae(0x385)]++;let _0xdd909f={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x2073ae(0x2a8),'dark':_0x2073ae(0x34f)}};Or[_0x2073ae(0x25e)][_0x2073ae(0x480)](_0x752836,_0xdd909f,(_0x3f486f,_0x46a4d6)=>{const _0x52299b=_0x2073ae;if(_0x3f486f){this[_0x52299b(0xd4)][_0x52299b(0x3e1)](this[_0x52299b(0x45c)]+'\x20('+this['instance'][_0x52299b(0x5aa)]+_0x52299b(0x5f4)+(_0x3f486f instanceof Error?_0x3f486f['message']:JSON[_0x52299b(0x24b)](_0x3f486f,null,0x2)));return;}this[_0x52299b(0x5a4)][_0x52299b(0x2ce)][_0x52299b(0x322)]=_0x46a4d6,this['instance'][_0x52299b(0x2ce)][_0x52299b(0xd0)]=_0x752836,!this[_0x52299b(0xcd)]&&this['sendDataWebhook'](_0x52299b(0x676),{'qrcode':{'instance':this[_0x52299b(0x5a4)][_0x52299b(0x336)],'pairingCode':this['instance'][_0x52299b(0x2ce)][_0x52299b(0x3d7)],'code':_0x752836,'base64':_0x46a4d6}});}),this['phoneNumber']?this[_0x2073ae(0x5a4)][_0x2073ae(0x2ce)]['pairingCode']||(await(0x0,m[_0x2073ae(0xee)])(0x7d0),this['instance'][_0x2073ae(0x2ce)][_0x2073ae(0x3d7)]=await this[_0x2073ae(0xec)][_0x2073ae(0xfc)](this[_0x2073ae(0xcd)])):this[_0x2073ae(0x5a4)][_0x2073ae(0x2ce)]['pairingCode']=null,Ar[_0x2073ae(0x25e)][_0x2073ae(0xe9)](_0x752836,{'small':!0x0},_0x5e6c90=>this[_0x2073ae(0xd4)][_0x2073ae(0x71f)](_0x2073ae(0x49e)+this[_0x2073ae(0x5a4)][_0x2073ae(0x336)]+',\x20qrcodeCount:\x20'+this[_0x2073ae(0x5a4)]['qrcode']['count']+_0x2073ae(0x684)+this[_0x2073ae(0x5a4)]['qrcode'][_0x2073ae(0x3d7)]+_0x2073ae(0x48e)+_0x5e6c90));}if(_0x2a919a&&(this[_0x2073ae(0x682)]={'state':_0x2a919a,'statusReason':_0x4ed570?.['error']?.[_0x2073ae(0x2b0)]?.[_0x2073ae(0x421)]??0xc8},this[_0x2073ae(0x3a0)](_0x2073ae(0x12c),{'instance':this[_0x2073ae(0x5a4)][_0x2073ae(0x336)],...this[_0x2073ae(0x682)]})),_0x2a919a==='close'){if(this[_0x2073ae(0x2dc)]++,this[_0x2073ae(0x523)]['push'](Date[_0x2073ae(0xa0)]()),this[_0x2073ae(0x523)]=this[_0x2073ae(0x523)]['filter'](_0x35ee09=>Date['now']()-_0x35ee09<this['RECONNECT_TIME_FRAME']),_0x4ed570[_0x2073ae(0x3e1)]?.['output']?.['statusCode']!==m[_0x2073ae(0x598)][_0x2073ae(0x383)]&&this[_0x2073ae(0x523)][_0x2073ae(0x611)]<=this[_0x2073ae(0x18e)])console[_0x2073ae(0x71f)](this['instanceName']+'\x20Tentativa\x20de\x20reconexão\x20'+this['reconnectAttempts']+'/'+this['MAX_RECONNECT_ATTEMPTS']+'.\x20Aguardando\x20antes\x20de\x20reconectar...'),console[_0x2073ae(0x71f)](_0x2073ae(0x593)),await this[_0x2073ae(0x73d)]();else{this[_0x2073ae(0x3a0)](_0x2073ae(0x3ee),{'instance':this[_0x2073ae(0x5a4)]['name'],'status':_0x2073ae(0x4ab)}),this['instance'][_0x2073ae(0x2cd)]['isConnected']=!0x1,this[_0x2073ae(0x402)][_0x2073ae(0x558)]['delete'](this[_0x2073ae(0x45c)]),this[_0x2073ae(0x402)][_0x2073ae(0x199)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x2073ae(0x5a4)]['name']);try{this[_0x2073ae(0xd4)][_0x2073ae(0xc2)](this['instanceName']+'\x20('+this[_0x2073ae(0x5a4)][_0x2073ae(0x5aa)]+_0x2073ae(0x304));let _0x5e1ed0=await this[_0x2073ae(0x402)]['message'][_0x2073ae(0x72b)](this[_0x2073ae(0x5a4)][_0x2073ae(0x5aa)]);_0x5e1ed0[_0x2073ae(0x373)]?this[_0x2073ae(0xd4)][_0x2073ae(0xc2)](this[_0x2073ae(0x45c)]+'\x20('+this['instance'][_0x2073ae(0x5aa)]+_0x2073ae(0x51d)):console[_0x2073ae(0x3e1)](_0x2073ae(0x4c9),_0x5e1ed0['error']);}catch(_0x394d8a){console[_0x2073ae(0x3e1)]('Falha\x20ao\x20deletar\x20mensagens\x20antigas:',_0x394d8a);}this[_0x2073ae(0x5a4)][_0x2073ae(0x2cd)]['delayMessage']!==null&&(this[_0x2073ae(0xd4)][_0x2073ae(0xc2)](this[_0x2073ae(0x45c)]+'\x20('+this[_0x2073ae(0x5a4)][_0x2073ae(0x5aa)]+'):\x20Limpando\x20delayMessage'),clearInterval(this['instance'][_0x2073ae(0x2cd)][_0x2073ae(0x6c1)]),this[_0x2073ae(0x5a4)][_0x2073ae(0x2cd)][_0x2073ae(0x6c1)]=null),this[_0x2073ae(0xd4)]['verbose'](this[_0x2073ae(0x45c)]+'\x20('+this[_0x2073ae(0x5a4)][_0x2073ae(0x5aa)]+_0x2073ae(0x1b7)),this['AutomateSystem']=null,this[_0x2073ae(0x734)][_0x2073ae(0x2d8)](_0x2073ae(0x66e),this[_0x2073ae(0x5a4)][_0x2073ae(0x336)],_0x2073ae(0x6ce)),this[_0x2073ae(0xec)]?.['ws']?.['close'](),this[_0x2073ae(0xec)][_0x2073ae(0x359)](new Error(_0x2073ae(0x6d7)));}}if(_0x2a919a===_0x2073ae(0xf2)){this[_0x2073ae(0xec)]['ev']['flush'](),this[_0x2073ae(0x29c)],this[_0x2073ae(0x5a4)]['wuid']=this['client'][_0x2073ae(0x37f)]['id'][_0x2073ae(0x5f7)](/:\d+/,'')['replace'](_0x2073ae(0x51f),''),this[_0x2073ae(0x5a4)][_0x2073ae(0x341)]=(await this[_0x2073ae(0xd1)](this['instance'][_0x2073ae(0x5aa)]+'@s.whatsapp.net'))[_0x2073ae(0x341)],this[_0x2073ae(0x402)][_0x2073ae(0x199)]['create']({'online':!0x0,'owner':this[_0x2073ae(0x5a4)][_0x2073ae(0x5aa)],'lastDisconnect':null},this[_0x2073ae(0x5a4)]['name']);let _0x13e962='Número:\x20'+this['instance']['wuid'],_0x261933=0x28,_0x138408=Math[_0x2073ae(0x308)]((_0x261933-_0x13e962[_0x2073ae(0x611)])/0x2),_0x64ae42='\x20'[_0x2073ae(0x5b7)](_0x138408),_0x27315d=_0x2073ae(0x1c3),_0x531907=_0x2073ae(0x4c2)+this[_0x2073ae(0x5a4)][_0x2073ae(0x336)],_0x1b9fd2=(''+_0x64ae42+_0x13e962+_0x64ae42)[_0x2073ae(0x6a0)](_0x261933,'\x20'),_0x443e13=(''+_0x64ae42+_0x27315d+_0x64ae42)[_0x2073ae(0x6a0)](_0x261933,'\x20'),_0x51fefb=(''+_0x64ae42+_0x531907+_0x64ae42)[_0x2073ae(0x6a0)](_0x261933,'\x20'),_0x5ec0a3=Math[_0x2073ae(0x2f9)](_0x1b9fd2[_0x2073ae(0x611)],_0x443e13[_0x2073ae(0x611)],_0x51fefb[_0x2073ae(0x611)]),_0x28bc89=_0x1b9fd2[_0x2073ae(0x6a0)](_0x5ec0a3,'\x20'),_0x58f97d=_0x443e13[_0x2073ae(0x6a0)](_0x5ec0a3,'\x20'),_0x6abce8=_0x51fefb['padEnd'](_0x5ec0a3,'\x20');this['logger'][_0x2073ae(0x3e5)]((_0x2073ae(0x1ff)+'─'[_0x2073ae(0x5b7)](_0x5ec0a3)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x58f97d+_0x2073ae(0x643)+_0x6abce8+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x28bc89+_0x2073ae(0x6f6)+'─'[_0x2073ae(0x5b7)](_0x5ec0a3)+'┘')[_0x2073ae(0x5f7)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this['instance'][_0x2073ae(0x2cd)][_0x2073ae(0x23e)]=!0x0;}}[a0_0x57f064(0x29c)](){const _0x3b5495=a0_0x57f064;this['reconnectAttempts']=0x0,this[_0x3b5495(0x523)]=[];}async[a0_0x57f064(0x18a)](_0x3eef3c,_0x502bb6=!0x1){const _0x523578=a0_0x57f064;try{let _0x58c238=await this[_0x523578(0x402)][_0x523578(0x65a)]['find']({'where':{'_id':_0x3eef3c['id']}},this[_0x523578(0x5a4)][_0x523578(0x5aa)]);return _0x502bb6?_0x58c238[0x0]:_0x58c238[0x0][_0x523578(0x65a)];}catch{return{'conversation':''};}}[a0_0x57f064(0x294)](){const _0x1c5f28=a0_0x57f064;let _0x1bc2da=this['configService']['get'](_0x1c5f28(0x372)),_0x2877bb=this[_0x1c5f28(0x228)]['get']('DATABASE');_0x1bc2da?.[_0x1c5f28(0x190)]&&!_0x2877bb[_0x1c5f28(0x58d)]&&setInterval(()=>{const _0x59ad5d=_0x1c5f28;try{for(let [_0x351888,_0x503cc1]of Object[_0x59ad5d(0x252)](_0x1bc2da))_0x503cc1===!0x0&&(0x0,jt['execSync'])(_0x59ad5d(0x194)+(0x0,J['join'])(this[_0x59ad5d(0x6d9)],_0x351888[_0x59ad5d(0x1d4)](),this[_0x59ad5d(0x5a4)][_0x59ad5d(0x5aa)])+_0x59ad5d(0x52e));}catch{}},(_0x1bc2da?.[_0x1c5f28(0x190)]??0xe10)*0x3e8);}async[a0_0x57f064(0x5ea)](){const _0x1e4ce1=a0_0x57f064;let _0x3046b1=this[_0x1e4ce1(0x228)][_0x1e4ce1(0x136)](_0x1e4ce1(0x5d1)),_0x2f9548=this[_0x1e4ce1(0x228)][_0x1e4ce1(0x136)](_0x1e4ce1(0x3d6));return _0x2f9548?.['ENABLED']?await Ns(_0x2f9548,this[_0x1e4ce1(0x5a4)][_0x1e4ce1(0x336)]):_0x3046b1[_0x1e4ce1(0x58d)]?await vs(this['instance']['name']):await(0x0,m[_0x1e4ce1(0x3be)])((0x0,J[_0x1e4ce1(0x69e)])(ge,this[_0x1e4ce1(0x5a4)]['name']));}async['AutomateFunctions'](){const _0xcc5287=a0_0x57f064;let _0x2a8c7f=()=>Math[_0xcc5287(0x308)](Math[_0xcc5287(0x4b2)]()*0x2711)+0x7d0,_0x16c788=async()=>{const _0x1d3ce7=_0xcc5287;if(!this[_0x1d3ce7(0x5a4)][_0x1d3ce7(0x2cd)][_0x1d3ce7(0x23e)]){this['logger'][_0x1d3ce7(0xc2)](_0x1d3ce7(0x378)),this['isRunning']=!0x1;return;}if(this['instance'][_0x1d3ce7(0x5aa)]&&this[_0x1d3ce7(0x6ea)]&&this[_0x1d3ce7(0x5a4)]['ScheduleMessage'][_0x1d3ce7(0x6c1)]!==null&&this['instance']['ScheduleMessage'][_0x1d3ce7(0x6c1)]!==void 0x0){let _0x3215ae=Math[_0x1d3ce7(0x528)](this['instance']['ScheduleMessage']['delayMessage']/0xea60);this[_0x1d3ce7(0xd4)][_0x1d3ce7(0xc2)](this['instanceName']+'\x20('+this['instance'][_0x1d3ce7(0x5aa)]+'):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20'+_0x3215ae+_0x1d3ce7(0x50d)),this[_0x1d3ce7(0x515)]=!0x1;return;}else this[_0x1d3ce7(0x5a4)][_0x1d3ce7(0x5aa)]&&(this['logger'][_0x1d3ce7(0xc2)](this[_0x1d3ce7(0x45c)]+'\x20('+this[_0x1d3ce7(0x5a4)][_0x1d3ce7(0x5aa)]+_0x1d3ce7(0x3c6)),this[_0x1d3ce7(0x6ea)]||await this[_0x1d3ce7(0x5b2)](),(this[_0x1d3ce7(0x5a4)][_0x1d3ce7(0x2cd)]['delayMessage']===null||this[_0x1d3ce7(0x5a4)][_0x1d3ce7(0x2cd)][_0x1d3ce7(0x6c1)]===void 0x0)&&await this[_0x1d3ce7(0x4c4)]());if(this[_0x1d3ce7(0x515)]){let _0x42ea91=_0x2a8c7f();this[_0x1d3ce7(0xd4)][_0x1d3ce7(0xc2)](this[_0x1d3ce7(0x45c)]+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x42ea91/0x3e8+_0x1d3ce7(0x38d)),setTimeout(_0x16c788,_0x42ea91);}};if(this[_0xcc5287(0x515)])return;this[_0xcc5287(0x515)]=!0x0;let _0x233fc1=_0x2a8c7f();setTimeout(_0x16c788,_0x233fc1);}async['loadproxy'](_0x4e4492=0x0,_0x5d5a66=!0x1){const _0x22a6a2=a0_0x57f064;try{let _0x2a6992=this[_0x22a6a2(0x228)][_0x22a6a2(0x136)]('PROXY');if(_0x2a6992!==0x1||typeof _0x2a6992>'u'||_0x4e4492>=0x5)return this[_0x22a6a2(0xd4)][_0x22a6a2(0x704)](_0x22a6a2(0xea)),this[_0x22a6a2(0x402)]['auth']['create']({'ip':null},this[_0x22a6a2(0x5a4)][_0x22a6a2(0x336)]),{};this[_0x22a6a2(0xd4)][_0x22a6a2(0xc2)](this['instanceName']+_0x22a6a2(0xf3)+(_0x4e4492+0x1)+_0x22a6a2(0x4ff));let _0xb836bf;if(!_0x5d5a66){let _0x2c914e=await this['repository'][_0x22a6a2(0x199)]['find'](this[_0x22a6a2(0x45c)]);_0x2c914e&&_0x2c914e['ip']&&(_0xb836bf=Er(_0x2c914e['ip']));}if((!_0xb836bf||!Rs(_0xb836bf))&&(this[_0x22a6a2(0xd4)][_0x22a6a2(0x704)](this[_0x22a6a2(0x45c)]+_0x22a6a2(0x386)),_0xb836bf=Mr()),_0xb836bf&&Rs(_0xb836bf)){let _0x42d4b4=_0xb836bf[_0x22a6a2(0x2a7)]&&_0xb836bf[_0x22a6a2(0x238)]?_0xb836bf[_0x22a6a2(0x428)]+_0x22a6a2(0x3cb)+_0xb836bf['username']+':'+_0xb836bf[_0x22a6a2(0x238)]+'@'+_0xb836bf[_0x22a6a2(0x1c8)]+':'+_0xb836bf[_0x22a6a2(0x16e)]:_0xb836bf['protocol']+'://'+_0xb836bf[_0x22a6a2(0x1c8)]+':'+_0xb836bf[_0x22a6a2(0x16e)];return await this[_0x22a6a2(0x1be)](_0x42d4b4,_0xb836bf[_0x22a6a2(0x1c8)])?(this['logger'][_0x22a6a2(0xc2)](this[_0x22a6a2(0x45c)]+_0x22a6a2(0x363)),this['repository'][_0x22a6a2(0x199)]['create']({'ip':_0xb836bf[_0x22a6a2(0x1c8)]},this[_0x22a6a2(0x5a4)]['name']),{'agent':new Lt[(_0x22a6a2(0x40c))](_0x42d4b4),'fetchAgent':new Lt['HttpsProxyAgent'](_0x42d4b4)}):(this['logger'][_0x22a6a2(0x704)](this[_0x22a6a2(0x45c)]+':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...'),await(0x0,m['delay'])(0xc8),this[_0x22a6a2(0x661)](_0x4e4492+0x1,!0x0));}else return this['logger'][_0x22a6a2(0x704)](this[_0x22a6a2(0x45c)]+':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...'),await(0x0,m['delay'])(0xc8),this['loadproxy'](_0x4e4492+0x1,!0x0);}catch(_0x417065){return this['logger'][_0x22a6a2(0x3e1)](this[_0x22a6a2(0x45c)]+_0x22a6a2(0x5d0)+_0x417065[_0x22a6a2(0x65a)]),{};}}async[a0_0x57f064(0x1be)](_0x394315,_0x3503b0){const _0x2c7c58=a0_0x57f064;let _0x3df37f=new Lt[(_0x2c7c58(0x40c))](_0x394315),_0x3e108f=0x1388,_0x379e0a=[{'url':_0x2c7c58(0x128),'parse':_0xf0a052=>_0xf0a052['ip']},{'url':_0x2c7c58(0x67a),'parse':_0x3e5b27=>_0x3e5b27['ip']},{'url':_0x2c7c58(0x33b),'parse':_0x1ac932=>_0x1ac932[_0x2c7c58(0x431)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x2c7c58(0xc6),'parse':_0x199157=>_0x199157['ip']},{'url':_0x2c7c58(0x554),'parse':_0x4027b8=>_0x4027b8['trim']()},{'url':_0x2c7c58(0x458),'parse':_0x2fe926=>_0x2fe926[_0x2c7c58(0x4a0)]()},{'url':_0x2c7c58(0x20f),'parse':_0x5aedff=>_0x5aedff['query']},{'url':_0x2c7c58(0xe0),'parse':_0x4cfff9=>_0x4cfff9[_0x2c7c58(0x4a0)]()},{'url':_0x2c7c58(0x59e),'parse':_0x2b594c=>_0x2b594c[_0x2c7c58(0x4a0)]()}],_0x1b3d9b=_0x379e0a[Math[_0x2c7c58(0x308)](Math[_0x2c7c58(0x4b2)]()*_0x379e0a['length'])];try{let _0x4892be=await Z[_0x2c7c58(0x25e)]['get'](_0x1b3d9b['url'],{'httpsAgent':_0x3df37f,'timeout':_0x3e108f}),_0x3af0c6=_0x1b3d9b[_0x2c7c58(0xb8)](_0x4892be[_0x2c7c58(0x697)]);return _0x3af0c6===_0x3503b0?(this[_0x2c7c58(0xd4)][_0x2c7c58(0xc2)](this['instanceName']+_0x2c7c58(0x52f)+_0x3503b0+_0x2c7c58(0x18d)+_0x3af0c6+_0x2c7c58(0x556)),!0x0):(this['logger'][_0x2c7c58(0x3e1)](this[_0x2c7c58(0x45c)]+_0x2c7c58(0x52f)+_0x3503b0+_0x2c7c58(0x18d)+_0x3af0c6+_0x2c7c58(0x612)),!0x1);}catch(_0x325f91){return this[_0x2c7c58(0xd4)][_0x2c7c58(0x3e1)](this[_0x2c7c58(0x45c)]+_0x2c7c58(0x387)+_0x1b3d9b[_0x2c7c58(0x214)]+':\x20'+_0x325f91[_0x2c7c58(0x65a)]),!0x1;}}async[a0_0x57f064(0x73d)](_0x33141b){const _0x5a7d20=a0_0x57f064;try{let _0x445902=await this[_0x5a7d20(0x661)]();this[_0x5a7d20(0xca)](),this[_0x5a7d20(0x5a4)][_0x5a7d20(0x68f)]=(await this['repository'][_0x5a7d20(0x199)][_0x5a7d20(0x5c8)](this[_0x5a7d20(0x5a4)]['name']))[_0x5a7d20(0x68f)],this[_0x5a7d20(0x5a4)][_0x5a7d20(0x413)]=await this[_0x5a7d20(0x5ea)]();let {version:_0x544426}=await(0x0,m[_0x5a7d20(0x477)])(),_0x280d02=[Ir,xs,(0x0,Ts[_0x5a7d20(0x2cf)])()],_0x5ab12a={..._0x445902,'auth':{'creds':this['instance'][_0x5a7d20(0x413)]['state'][_0x5a7d20(0x2a2)],'keys':(0x0,m[_0x5a7d20(0x37d)])(this[_0x5a7d20(0x5a4)][_0x5a7d20(0x413)][_0x5a7d20(0x32a)]['keys'],(0x0,Pt[_0x5a7d20(0x25e)])({'level':_0x5a7d20(0x3e1)}))},'logger':(0x0,Pt['default'])({'level':_0x5a7d20(0x3e1)}),'printQRInTerminal':!0x1,'browser':_0x33141b?[_0x5a7d20(0xc0),xs,(0x0,Ts['release'])()]:_0x280d02,'version':_0x544426,'maxMsgRetryCount':0x5,'retryRequestDelayMs':0x1f4,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0xaded8b=>{const _0x2b1afc=_0x5a7d20;let _0x5c1759=_0xaded8b[_0x2b1afc(0x4b7)](_0x2b1afc(0x162)),_0x2d931c=this[_0x2b1afc(0x50c)]?.['groups_ignore']&&_0xaded8b[_0x2b1afc(0x4b7)](_0x2b1afc(0xe7));return _0x5c1759||(0x0,m['isJidBroadcast'])(_0xaded8b)||_0x2d931c;},'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x1e337d=>await this[_0x5a7d20(0x18a)](_0x1e337d),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x3c269d=>(_0x3c269d[_0x5a7d20(0x433)]?.[_0x5a7d20(0x59d)]==m['proto'][_0x5a7d20(0x2a0)][_0x5a7d20(0x135)][_0x5a7d20(0x5fd)]['PRODUCT_LIST']&&(_0x3c269d=JSON['parse'](JSON['stringify'](_0x3c269d)),_0x3c269d['listMessage'][_0x5a7d20(0x59d)]=m[_0x5a7d20(0x6b2)][_0x5a7d20(0x2a0)]['ListMessage']['ListType'][_0x5a7d20(0x12a)]),_0x3c269d)};return this[_0x5a7d20(0x58f)]=!0x1,this[_0x5a7d20(0xec)]=(0x0,m[_0x5a7d20(0x25e)])(_0x5ab12a),this[_0x5a7d20(0x4ed)](),this[_0x5a7d20(0xcd)]=_0x33141b,this[_0x5a7d20(0xec)];}catch(_0x76cc79){throw this[_0x5a7d20(0xd4)][_0x5a7d20(0x3e1)](this[_0x5a7d20(0x45c)]+'\x20('+this['instance']['wuid']+_0x5a7d20(0x455)+(_0x76cc79 instanceof Error?_0x76cc79[_0x5a7d20(0x65a)]:JSON['stringify'](_0x76cc79,null,0x2))),new I(_0x76cc79?.[_0x5a7d20(0x1ef)]());}}['eventHandler'](){const _0x3e1170=a0_0x57f064;this[_0x3e1170(0xec)]['ev'][_0x3e1170(0x484)](_0x5e4d7e=>{const _0x18ce9a=_0x3e1170;if(!this['endSession']){let _0x4b047e=this['configService'][_0x18ce9a(0x136)]('DATABASE');if(_0x5e4d7e[_0x18ce9a(0x2b2)]){let _0xdcd8bf=_0x5e4d7e['labels.edit'];this['messageHandle'][_0x18ce9a(0x2b2)](_0xdcd8bf);}if(_0x5e4d7e[_0x18ce9a(0x6c7)]){let _0x153c85=_0x5e4d7e[_0x18ce9a(0x6c7)];this[_0x18ce9a(0x699)][_0x18ce9a(0x6c7)](_0x153c85);}if(_0x5e4d7e[_0x18ce9a(0x12c)]&&this[_0x18ce9a(0x3a4)](_0x5e4d7e[_0x18ce9a(0x12c)]),_0x5e4d7e['creds.update']&&this['instance']['authState'][_0x18ce9a(0x20b)](),_0x5e4d7e['messaging-history.set']){let _0x4f0049=_0x5e4d7e[_0x18ce9a(0x625)];this['messageHandle'][_0x18ce9a(0x625)](_0x4f0049,_0x4b047e);}if(_0x5e4d7e[_0x18ce9a(0x1cd)]){let _0x3c2112=_0x5e4d7e[_0x18ce9a(0x1cd)];this['messageHandle'][_0x18ce9a(0x1cd)](_0x3c2112,_0x4b047e);}if(_0x5e4d7e[_0x18ce9a(0x1ba)]){let _0x5d58ba=_0x5e4d7e['messages.update'];_0x5d58ba[_0x18ce9a(0x680)](_0x9cae17=>{const _0x2a8832=_0x18ce9a;if(Nr[_0x9cae17[_0x2a8832(0x501)]['id']]){this[_0x2a8832(0xec)]['ev'][_0x2a8832(0x2d8)](_0x2a8832(0x1cd),{'messages':[_0x9cae17],'type':_0x2a8832(0x36a)}),delete Nr[_0x9cae17[_0x2a8832(0x501)]['id']];return;}}),this[_0x18ce9a(0x699)]['messages.update'](_0x5d58ba,_0x4b047e);}if(_0x5e4d7e['presence.update']){let _0x336d53=_0x5e4d7e['presence.update'];if(this[_0x18ce9a(0x50c)]?.[_0x18ce9a(0x3de)]&&_0x336d53['id']['includes'](_0x18ce9a(0xe7)))return;this[_0x18ce9a(0x3a0)](_0x18ce9a(0x130),_0x336d53);}if(!this[_0x18ce9a(0x50c)]?.[_0x18ce9a(0x3de)]){if(_0x5e4d7e[_0x18ce9a(0x23f)]){let _0x295ed4=_0x5e4d7e[_0x18ce9a(0x23f)];this['groupHandler'][_0x18ce9a(0x23f)](_0x295ed4);}if(_0x5e4d7e[_0x18ce9a(0x444)]){let _0x20d79f=_0x5e4d7e['groups.update'];this[_0x18ce9a(0x679)][_0x18ce9a(0x444)](_0x20d79f);}if(_0x5e4d7e[_0x18ce9a(0x623)]){let _0x241771=_0x5e4d7e[_0x18ce9a(0x623)];this[_0x18ce9a(0x679)][_0x18ce9a(0x623)](_0x241771);}}if(_0x5e4d7e[_0x18ce9a(0x243)]){let _0x236471=_0x5e4d7e[_0x18ce9a(0x243)];this[_0x18ce9a(0x584)][_0x18ce9a(0x243)](_0x236471,_0x4b047e);}if(_0x5e4d7e[_0x18ce9a(0x648)]){let _0xac6c84=_0x5e4d7e[_0x18ce9a(0x648)];this[_0x18ce9a(0x584)][_0x18ce9a(0x648)](_0xac6c84,_0x4b047e);}if(_0x5e4d7e['chats.delete']){let _0x1f1fdc=_0x5e4d7e['chats.delete'];this[_0x18ce9a(0x584)]['chats.delete'](_0x1f1fdc);}if(_0x5e4d7e[_0x18ce9a(0x4b1)]){let _0x3e824e=_0x5e4d7e[_0x18ce9a(0x4b1)];this[_0x18ce9a(0x183)][_0x18ce9a(0x4b1)](_0x3e824e,_0x4b047e);}if(_0x5e4d7e[_0x18ce9a(0x357)]){let _0x4a23e3=_0x5e4d7e[_0x18ce9a(0x357)];this[_0x18ce9a(0x183)]['contacts.update'](_0x4a23e3,_0x4b047e);}}});}[a0_0x57f064(0xf8)](_0x30d064){return new Promise(_0x3ade10=>setTimeout(_0x3ade10,_0x30d064));}[a0_0x57f064(0x589)](_0x59ad41){const _0x1443e0=a0_0x57f064;_0x59ad41=_0x59ad41['replace'](/\D/g,'');let _0x3d3729=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x1443e0(0x424)](_0x59ad41);if(_0x3d3729&&_0x3d3729[0x1]==='55'){let _0x34736f=_0x3d3729[0x2],_0xdc150b=_0x3d3729[0x3],_0x39d867=_0x3d3729[0x4];if(parseInt(_0x34736f)>=0x1f&&_0xdc150b==='9')return _0x3d3729[0x1]+_0x34736f+_0x39d867;}return _0x59ad41;}[a0_0x57f064(0x5dc)](_0x55e189){const _0x3c6115=a0_0x57f064;return _0x55e189[_0x3c6115(0x613)](_0x3c6115(0xe7))||_0x55e189[_0x3c6115(0x613)](_0x3c6115(0x51f))||_0x55e189[_0x3c6115(0x613)]('@broadcast')?_0x55e189:(_0x55e189=_0x55e189?.['replace'](/\s/g,'')[_0x3c6115(0x5f7)](/\+/g,'')[_0x3c6115(0x5f7)](/\(/g,'')[_0x3c6115(0x5f7)](/\)/g,'')[_0x3c6115(0xc8)](/\:/)[0x0][_0x3c6115(0xc8)]('@')[0x0],_0x55e189[_0x3c6115(0x611)]>=0x12?(_0x55e189=_0x55e189[_0x3c6115(0x5f7)](/[^\d-]/g,''),_0x55e189+'@g.us'):(_0x55e189=_0x55e189[_0x3c6115(0x5f7)](/\D/g,''),_0x55e189+'@s.whatsapp.net'));}async[a0_0x57f064(0x43d)](_0x2ce903){const _0x53bee1=a0_0x57f064;let _0x1c677e=this[_0x53bee1(0x5dc)](_0x2ce903[_0x53bee1(0x355)]),_0x227399=(await this[_0x53bee1(0xd3)]({'numbers':[_0x1c677e]}))[0x0];if(!_0x227399['exists']&&!(0x0,m['isJidGroup'])(_0x227399[_0x53bee1(0x726)]))throw new w(_0x227399);let _0xb5ae1b=(0x0,m[_0x53bee1(0x2f8)])(_0x1c677e)?_0x1c677e:_0x227399['jid'];if((0x0,m[_0x53bee1(0x2f8)])(_0xb5ae1b))try{await this[_0x53bee1(0xec)]['groupMetadata'](_0xb5ae1b);}catch{throw new L(_0x53bee1(0x653));}try{return await this['client']['presenceSubscribe'](_0xb5ae1b),await this['client'][_0x53bee1(0x4b5)](_0x2ce903['presence'],_0x1c677e),{'status':0xc8,'presence':_0x2ce903[_0x53bee1(0x46c)]};}catch(_0x5ac215){throw new w(_0x5ac215[_0x53bee1(0x1ef)]());}}async[a0_0x57f064(0xcc)](_0xca2523,_0x516b60,_0xce345d){const _0x3cad53=a0_0x57f064;let _0x783da4=await this[_0x3cad53(0x402)][_0x3cad53(0x134)][_0x3cad53(0x5a2)]({'where':{'_id':_0xca2523}}),_0x3234e1={'lastUpdate':Date[_0x3cad53(0xa0)]()};if(_0xce345d||!_0x783da4?.[_0x3cad53(0x5b9)]||Date[_0x3cad53(0xa0)]()-_0x783da4[_0x3cad53(0x5b9)]>0x18*0x3c*0x3c*0x3e8)try{let _0x53ca59=(await this[_0x3cad53(0xd1)](_0xca2523))[_0x3cad53(0x341)];_0x3234e1['pictureUrl']=_0x53ca59;}catch(_0x4d6dac){console[_0x3cad53(0x3e1)](_0x3cad53(0x40f),_0x4d6dac);}return _0x516b60&&_0x783da4?.['name']!==_0x516b60&&(_0x3234e1[_0x3cad53(0x336)]=_0x516b60),Object[_0x3cad53(0x571)](_0x3234e1)['length']>0x1&&(_0x783da4?await this[_0x3cad53(0x402)]['cacheContact']['update']({'where':{'_id':_0xca2523}},_0x3234e1):await this['repository'][_0x3cad53(0x134)][_0x3cad53(0x621)]([{'_id':_0xca2523,..._0x3234e1}]),_0x783da4={..._0x783da4,..._0x3234e1}),{'cachedContact':_0x783da4};}async[a0_0x57f064(0xd1)](_0x932a3f){const _0x4335a8=a0_0x57f064;let _0x3ccc5e=this[_0x4335a8(0x5dc)](_0x932a3f);try{return{'wuid':_0x3ccc5e,'profilePictureUrl':await this['client'][_0x4335a8(0x341)](_0x3ccc5e,_0x4335a8(0x581))};}catch{return{'wuid':_0x3ccc5e,'profilePictureUrl':null};}}async[a0_0x57f064(0x513)](_0x1dc8f4,_0x249454,_0x5052ea){const _0x1b35b9=a0_0x57f064;_0x5052ea||(_0x5052ea={});let _0x171655=(await this[_0x1b35b9(0xd3)]({'numbers':[_0x1dc8f4]}))[0x0];if(!_0x171655[_0x1b35b9(0x229)]&&!(0x0,m[_0x1b35b9(0x2f8)])(_0x171655[_0x1b35b9(0x726)])&&!_0x171655[_0x1b35b9(0x726)]['includes'](_0x1b35b9(0x1c5)))throw new w(_0x171655);let _0x3e4044=_0x171655[_0x1b35b9(0x726)];try{if(_0x5052ea?.[_0x1b35b9(0xee)]){await this[_0x1b35b9(0xec)][_0x1b35b9(0x5e4)](_0x3e4044),await this[_0x1b35b9(0xec)][_0x1b35b9(0x4b5)](_0x5052ea?.['presence']??_0x1b35b9(0x35d),_0x3e4044);let _0x40e453=Math[_0x1b35b9(0x6e9)](_0x5052ea[_0x1b35b9(0xee)],0x2710);await(0x0,m['delay'])(_0x40e453),await this[_0x1b35b9(0xec)]['sendPresenceUpdate']('paused',_0x3e4044);}let _0x2472d1=_0x5052ea?.[_0x1b35b9(0x6e4)]!=!0x1?void 0x0:!0x1,_0x141c9d;if(_0x5052ea?.[_0x1b35b9(0x54b)]){let _0x131422=_0x5052ea?.[_0x1b35b9(0x54b)],_0x5289f4=_0x131422?.[_0x1b35b9(0x65a)]?_0x131422:await this['getMessage'](_0x131422['key'],!0x0);if(!_0x5289f4)throw _0x1b35b9(0x3b8);_0x141c9d=_0x5289f4;}let _0x25cf68;if((0x0,m[_0x1b35b9(0x2f8)])(_0x3e4044))try{let _0x2032d2=await this[_0x1b35b9(0xec)][_0x1b35b9(0x534)](_0x3e4044);if(!_0x2032d2)throw new L('Group\x20not\x20found');_0x5052ea?.[_0x1b35b9(0x53a)]&&(_0x5052ea[_0x1b35b9(0x53a)]?.['everyOne']?_0x25cf68=_0x2032d2[_0x1b35b9(0x116)][_0x1b35b9(0x3b7)](_0x3596bb=>_0x3596bb['id']):_0x5052ea[_0x1b35b9(0x53a)]?.['mentioned']?.[_0x1b35b9(0x611)]&&(_0x25cf68=_0x5052ea[_0x1b35b9(0x53a)][_0x1b35b9(0x471)][_0x1b35b9(0x3b7)](_0x508a39=>{const _0x46e7fe=_0x1b35b9;let _0x421d25=this[_0x46e7fe(0x5dc)](_0x508a39);return(0x0,m[_0x46e7fe(0x2f8)])(_0x421d25)?null:_0x421d25;})));}catch{throw new L(_0x1b35b9(0x653));}let _0x17ea51=await((async()=>{const _0x25027d=_0x1b35b9;let _0x5df065={'quoted':_0x141c9d};if(!_0x249454[_0x25027d(0x1aa)]&&!_0x249454['poll']&&!_0x249454[_0x25027d(0x19e)]&&!_0x249454[_0x25027d(0x2de)]&&_0x3e4044!==_0x25027d(0x2f0)&&!_0x249454[_0x25027d(0x1aa)])return await this[_0x25027d(0xec)][_0x25027d(0xa3)](_0x3e4044,{'forward':{'key':{'remoteJid':this[_0x25027d(0x5a4)]['wuid'],'fromMe':!0x0},'message':_0x249454},'mentions':_0x25cf68},_0x5df065);if(_0x249454['reactionMessage'])return await this[_0x25027d(0xec)][_0x25027d(0xa3)](_0x3e4044,{'react':{'text':_0x249454[_0x25027d(0x5d5)][_0x25027d(0x435)],'key':_0x249454['reactionMessage'][_0x25027d(0x501)]}},_0x5df065);if(_0x249454[_0x25027d(0x2de)]){let _0x111501=_0x249454[_0x25027d(0x2de)];return _0x5052ea?.[_0x25027d(0x20e)]&&(_0x111501=await this[_0x25027d(0x36e)](_0x111501,_0x3e4044)),await this[_0x25027d(0xec)][_0x25027d(0xa3)](_0x3e4044,{'text':_0x111501,'mentions':_0x25cf68,'linkPreview':_0x2472d1},_0x5df065);}return _0x3e4044==='status@broadcast'?await this[_0x25027d(0xec)][_0x25027d(0xa3)](_0x3e4044,_0x249454[_0x25027d(0x5c7)]['content'],{'backgroundColor':_0x249454['status'][_0x25027d(0x4e6)]['backgroundColor'],'font':_0x249454[_0x25027d(0x5c7)][_0x25027d(0x4e6)]['font'],'statusJidList':_0x249454['status'][_0x25027d(0x4e6)][_0x25027d(0x4a5)]}):await this[_0x25027d(0xec)]['sendMessage'](_0x3e4044,_0x249454,_0x5df065);})()),_0x38e7c1=(0x0,m[_0x1b35b9(0x48a)])(_0x17ea51['message']),_0x537edf=(0x0,m[_0x1b35b9(0x3f1)])(_0x38e7c1),{message_normalized:_0x2af95c}=this['normalizeMessage'](_0x38e7c1,_0x537edf,null),_0x474d9e={'_id':_0x17ea51['key']['id'],'key':_0x17ea51['key'],'pushName':_0x17ea51[_0x1b35b9(0x28d)],'isGroup':_0x17ea51[_0x1b35b9(0x501)][_0x1b35b9(0x409)][_0x1b35b9(0x4b7)](_0x1b35b9(0xe7)),'profilePictureUrl':this['instance']['profilePictureUrl'],'message':_0x38e7c1,'messageType':_0x537edf,'message_normalized':{'key':_0x17ea51[_0x1b35b9(0x501)],'pushName':_0x17ea51[_0x1b35b9(0x28d)],'messageTimestamp':_0x17ea51[_0x1b35b9(0x4ef)]&&_0x17ea51[_0x1b35b9(0x4ef)][_0x1b35b9(0x1ef)]()[_0x1b35b9(0x611)]<0xd?_0x17ea51['messageTimestamp']*0x3e8:_0x17ea51[_0x1b35b9(0x4ef)]||null,'source':(0x0,m[_0x1b35b9(0x211)])(_0x17ea51[_0x1b35b9(0x501)]['id']),..._0x2af95c},'messageTimestamp':_0x17ea51['messageTimestamp']&&_0x17ea51['messageTimestamp'][_0x1b35b9(0x1ef)]()[_0x1b35b9(0x611)]<0xd?_0x17ea51[_0x1b35b9(0x4ef)]*0x3e8:_0x17ea51['messageTimestamp']||null,'owner':this[_0x1b35b9(0x5a4)][_0x1b35b9(0x5aa)],'source':(0x0,m[_0x1b35b9(0x211)])(_0x17ea51[_0x1b35b9(0x501)]['id'])};return this[_0x1b35b9(0xd4)][_0x1b35b9(0x704)](this[_0x1b35b9(0x45c)]+'\x20('+this[_0x1b35b9(0x5a4)]['wuid']+_0x1b35b9(0x6a3)+_0x474d9e[_0x1b35b9(0x501)]?.['remoteJid'][_0x1b35b9(0x5f7)]('@s.whatsapp.net','')+_0x1b35b9(0x6ac)+_0x474d9e[_0x1b35b9(0x64a)]+')'),_0x474d9e[_0x1b35b9(0xcf)]?.['text']&&this['logger'][_0x1b35b9(0x704)](_0x474d9e['message_normalized']?.[_0x1b35b9(0x435)]),this[_0x1b35b9(0x3a0)](_0x1b35b9(0x440),_0x474d9e),q(this[_0x1b35b9(0x45c)],_0x1b35b9(0x5b8),{'message':_0x474d9e}),this[_0x1b35b9(0x124)](this[_0x1b35b9(0x228)]['get'](_0x1b35b9(0x5d1)),_0x474d9e,'SEND_MESSAGE'),await this[_0x1b35b9(0x402)][_0x1b35b9(0x65a)]['insert']([_0x474d9e],this['instance'][_0x1b35b9(0x5aa)]),_0x17ea51;}catch(_0x64157a){throw this[_0x1b35b9(0xd4)][_0x1b35b9(0x3e1)](this[_0x1b35b9(0x45c)]+'\x20('+this[_0x1b35b9(0x5a4)][_0x1b35b9(0x5aa)]+_0x1b35b9(0x455)+_0x64157a[_0x1b35b9(0x1ef)]()),new w(_0x64157a['toString']());}}get[a0_0x57f064(0xe8)](){const _0x42e956=a0_0x57f064;return this[_0x42e956(0x682)];}async[a0_0x57f064(0x62c)](_0x590393){const _0x817f71=a0_0x57f064;let _0x2cc6e6=vr,_0x1700fa=Ze;return _0x1700fa&&this[_0x817f71(0x45c)]['toLowerCase']()[_0x817f71(0x613)](_0x1700fa['toLowerCase']())&&(_0x590393[_0x817f71(0x62c)]['text']+='\x0a\x0a'+_0x2cc6e6),await this[_0x817f71(0x513)](_0x590393[_0x817f71(0x355)],{'conversation':_0x590393['textMessage']['text']},_0x590393?.['options']);}async[a0_0x57f064(0x4fc)](_0x2d3ed0){const _0x58e4aa=a0_0x57f064;if(!_0x2d3ed0[_0x58e4aa(0x6eb)])throw new w(_0x58e4aa(0x60c));if(!_0x2d3ed0[_0x58e4aa(0x508)])throw new w(_0x58e4aa(0x2d1));if(_0x2d3ed0['allContacts']){let _0x2f0def=await this['repository'][_0x58e4aa(0x31f)][_0x58e4aa(0x5c8)]({'where':{}},this[_0x58e4aa(0x5a4)][_0x58e4aa(0x5aa)]);if(!_0x2f0def[_0x58e4aa(0x611)])throw new w(_0x58e4aa(0xd9));_0x2d3ed0[_0x58e4aa(0x4a5)]=_0x2f0def[_0x58e4aa(0x4e4)](_0x5bfaba=>_0x5bfaba[_0x58e4aa(0x28d)])[_0x58e4aa(0x3b7)](_0x2d6fc0=>_0x2d6fc0[_0x58e4aa(0x447)]);}if(!_0x2d3ed0[_0x58e4aa(0x4a5)]?.[_0x58e4aa(0x611)]&&!_0x2d3ed0['allContacts'])throw new w(_0x58e4aa(0xe3));if(_0x2d3ed0[_0x58e4aa(0x6eb)]===_0x58e4aa(0x435)){if(!_0x2d3ed0[_0x58e4aa(0x38f)])throw new w('Background\x20color\x20is\x20required');if(!_0x2d3ed0['font'])throw new w(_0x58e4aa(0x41a));return{'content':{'text':_0x2d3ed0[_0x58e4aa(0x508)]},'option':{'backgroundColor':_0x2d3ed0['backgroundColor'],'font':_0x2d3ed0['font'],'statusJidList':_0x2d3ed0[_0x58e4aa(0x4a5)]}};}if(_0x2d3ed0[_0x58e4aa(0x6eb)]===_0x58e4aa(0x581))return{'content':{'image':{'url':_0x2d3ed0[_0x58e4aa(0x508)]},'caption':_0x2d3ed0['caption']},'option':{'statusJidList':_0x2d3ed0[_0x58e4aa(0x4a5)]}};if(_0x2d3ed0[_0x58e4aa(0x6eb)]===_0x58e4aa(0x432))return{'content':{'video':{'url':_0x2d3ed0[_0x58e4aa(0x508)]},'caption':_0x2d3ed0[_0x58e4aa(0x6e5)]},'option':{'statusJidList':_0x2d3ed0[_0x58e4aa(0x4a5)]}};if(_0x2d3ed0[_0x58e4aa(0x6eb)]===_0x58e4aa(0x1aa)){this[_0x58e4aa(0xd4)]['verbose']('Type\x20defined\x20as\x20audio'),this[_0x58e4aa(0xd4)][_0x58e4aa(0xc2)](_0x58e4aa(0x6de));let _0x20d5a8=await this[_0x58e4aa(0x3e4)](_0x2d3ed0[_0x58e4aa(0x508)]);if(typeof _0x20d5a8==_0x58e4aa(0x72e)){this[_0x58e4aa(0xd4)]['verbose'](_0x58e4aa(0x541));let _0x130a37=F['readFileSync'](_0x20d5a8)[_0x58e4aa(0x1ef)]('base64');return{'content':{'audio':Buffer[_0x58e4aa(0x6aa)](_0x130a37,_0x58e4aa(0x322)),'ptt':!0x0,'mimetype':'audio/mp4'},'option':{'statusJidList':_0x2d3ed0[_0x58e4aa(0x4a5)]}};}else throw new I(_0x20d5a8);}throw new w(_0x58e4aa(0x4ba));}async[a0_0x57f064(0x18b)](_0x452056){const _0x27370e=a0_0x57f064;return await this[_0x27370e(0x513)](_0x27370e(0x2f0),{'status':await this[_0x27370e(0x4fc)](_0x452056[_0x27370e(0x18b)])});}async[a0_0x57f064(0x265)](_0x423b10){const _0x5bb570=a0_0x57f064;try{let _0x289a1d=await(0x0,m['prepareWAMessageMedia'])({[_0x423b10[_0x5bb570(0x1d1)]]:(0x0,P[_0x5bb570(0x1f9)])(_0x423b10[_0x5bb570(0x356)])?{'url':_0x423b10[_0x5bb570(0x356)]}:Buffer[_0x5bb570(0x6aa)](_0x423b10[_0x5bb570(0x356)],_0x5bb570(0x322))},{'upload':this[_0x5bb570(0xec)][_0x5bb570(0x2a9)]}),_0x34b90a=_0x423b10[_0x5bb570(0x1d1)]+'Message';if(_0x423b10[_0x5bb570(0x1d1)]===_0x5bb570(0x672)&&!_0x423b10[_0x5bb570(0x4bd)]){let _0x301181=new RegExp(/.*\/(.+?)\./)['exec'](_0x423b10[_0x5bb570(0x356)]);_0x423b10[_0x5bb570(0x4bd)]=_0x301181?_0x301181[0x1]:null;}let _0x3fab01=(0x0,P[_0x5bb570(0x1f9)])(_0x423b10['media'])?_0x423b10[_0x5bb570(0x356)]['split']('?')[0x0]:_0x423b10['media'];this['logger'][_0x5bb570(0xc2)](_0x5bb570(0x740)+_0x3fab01);let _0x2e30e2;(0x0,P[_0x5bb570(0x1f9)])(_0x423b10[_0x5bb570(0x356)])?_0x2e30e2=(0x0,$t[_0x5bb570(0x63f)])(_0x3fab01):_0x423b10[_0x5bb570(0x4bd)]&&_0x423b10[_0x5bb570(0x4bd)]['includes']('.')?_0x2e30e2=(0x0,$t['getMIMEType'])(_0x423b10[_0x5bb570(0x4bd)]):_0x2e30e2=(0x0,$t['getMIMEType'])(_0x423b10['media']);let _0x2e104d=vr,_0x21d4e2=Ze;return _0x21d4e2&&this['instanceName'][_0x5bb570(0x1d4)]()['includes'](_0x21d4e2[_0x5bb570(0x1d4)]())&&(_0x423b10[_0x5bb570(0x6e5)]+='\x0a\x0a'+_0x2e104d),_0x289a1d[_0x34b90a]['caption']=_0x423b10?.['caption'],_0x289a1d[_0x34b90a][_0x5bb570(0x4c7)]=_0x2e30e2,_0x289a1d[_0x34b90a][_0x5bb570(0x4bd)]=_0x423b10['fileName'],_0x423b10[_0x5bb570(0x1d1)]===_0x5bb570(0x432)&&(_0x289a1d[_0x34b90a]['jpegThumbnail']=Uint8Array[_0x5bb570(0x6aa)]((0x0,Te[_0x5bb570(0x725)])((0x0,J[_0x5bb570(0x69e)])(process['cwd'](),_0x5bb570(0x42e)))),_0x289a1d[_0x34b90a][_0x5bb570(0x2a5)]=!0x1),(0x0,m[_0x5bb570(0x354)])('',{[_0x34b90a]:{..._0x289a1d[_0x34b90a]}},{'userJid':this[_0x5bb570(0x5a4)][_0x5bb570(0x5aa)]});}catch(_0xd76b3a){throw this[_0x5bb570(0xd4)][_0x5bb570(0x3e1)](this['instanceName']+'\x20('+this[_0x5bb570(0x5a4)][_0x5bb570(0x5aa)]+_0x5bb570(0x455)+(_0xd76b3a instanceof Error?_0xd76b3a[_0x5bb570(0x65a)]:JSON[_0x5bb570(0x24b)](_0xd76b3a,null,0x2))),new I(_0xd76b3a?.[_0x5bb570(0x1ef)]()||_0xd76b3a);}}async[a0_0x57f064(0x35a)](_0x20e0ca){const _0xf588c7=a0_0x57f064;let _0x4fe776=await this[_0xf588c7(0x265)](_0x20e0ca[_0xf588c7(0x35a)]);return await this['sendMessageWithTyping'](_0x20e0ca['number'],{..._0x4fe776[_0xf588c7(0x65a)]},_0x20e0ca?.['options']);}async[a0_0x57f064(0x509)](_0x39daef,_0x956c6a){const _0x268dd7=a0_0x57f064;try{this[_0x268dd7(0xd4)][_0x268dd7(0xc2)](_0x268dd7(0x6c4));let _0x11b539,_0x4c7a42=_0x956c6a+'-'+new Date()[_0x268dd7(0x4e8)]();this[_0x268dd7(0xd4)][_0x268dd7(0xc2)](_0x268dd7(0x216)+_0x4c7a42);let _0x4406d6=''+(0x0,J[_0x268dd7(0x69e)])(this[_0x268dd7(0x6d9)],_0x4c7a42+_0x268dd7(0x60a));if(this[_0x268dd7(0xd4)][_0x268dd7(0xc2)](_0x268dd7(0x4ec)+_0x4406d6),(0x0,P[_0x268dd7(0x56a)])(_0x39daef)){this[_0x268dd7(0xd4)]['verbose'](_0x268dd7(0x26b));let _0x1436ed=_0x39daef['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x325c8a=Buffer['from'](_0x1436ed,_0x268dd7(0x322));_0x11b539=''+(0x0,J[_0x268dd7(0x69e)])(this[_0x268dd7(0x6d9)],_0x268dd7(0x2fa)+_0x4c7a42+'.png'),this[_0x268dd7(0xd4)][_0x268dd7(0xc2)](_0x268dd7(0x1bf)+_0x11b539),await(0x0,kt[_0x268dd7(0x25e)])(_0x325c8a)[_0x268dd7(0x28e)](_0x11b539),this[_0x268dd7(0xd4)][_0x268dd7(0xc2)](_0x268dd7(0x715));}else{this[_0x268dd7(0xd4)][_0x268dd7(0xc2)]('Image\x20is\x20url');let _0x33106a=new Date()[_0x268dd7(0x4e8)](),_0x349afa=_0x39daef+_0x268dd7(0x65c)+_0x33106a;this[_0x268dd7(0xd4)][_0x268dd7(0xc2)](_0x268dd7(0x6f3)+_0x349afa);let _0x3cc9e1=await Z[_0x268dd7(0x25e)][_0x268dd7(0x136)](_0x349afa,{'responseType':_0x268dd7(0x3ab)});this[_0x268dd7(0xd4)][_0x268dd7(0xc2)](_0x268dd7(0x3d0));let _0x37c1d7=Buffer[_0x268dd7(0x6aa)](_0x3cc9e1[_0x268dd7(0x697)],'binary');_0x11b539=''+(0x0,J[_0x268dd7(0x69e)])(this[_0x268dd7(0x6d9)],_0x268dd7(0x2fa)+_0x4c7a42+'.png'),this[_0x268dd7(0xd4)][_0x268dd7(0xc2)](_0x268dd7(0x1bf)+_0x11b539),await(0x0,kt[_0x268dd7(0x25e)])(_0x37c1d7)[_0x268dd7(0x28e)](_0x11b539),this[_0x268dd7(0xd4)][_0x268dd7(0xc2)](_0x268dd7(0x715));}return await(0x0,kt[_0x268dd7(0x25e)])(_0x11b539)[_0x268dd7(0x105)]()[_0x268dd7(0x28e)](_0x4406d6),this[_0x268dd7(0xd4)]['verbose'](_0x268dd7(0x117)),F['unlinkSync'](_0x11b539),this[_0x268dd7(0xd4)][_0x268dd7(0xc2)](_0x268dd7(0x502)),_0x4406d6;}catch(_0x2ae45a){console[_0x268dd7(0x3e1)](_0x268dd7(0xce),_0x2ae45a instanceof Error?_0x2ae45a['message']:JSON[_0x268dd7(0x24b)](_0x2ae45a,null,0x2));}}async['mediaSticker'](_0x3fb495){const _0x3a5db3=a0_0x57f064;let _0x50174e=await this[_0x3a5db3(0x509)](_0x3fb495[_0x3a5db3(0x272)]['image'],_0x3fb495['number']),_0x50246e=await this[_0x3a5db3(0x513)](_0x3fb495['number'],{'sticker':{'url':_0x50174e}},_0x3fb495?.['options']);return F[_0x3a5db3(0x498)](_0x50174e),this[_0x3a5db3(0xd4)][_0x3a5db3(0xc2)](_0x3a5db3(0x315)),_0x50246e;}async[a0_0x57f064(0x23c)](_0x49a882){const _0x16fb6c=a0_0x57f064;if(this[_0x16fb6c(0xd4)][_0x16fb6c(0xc2)](_0x16fb6c(0x2bc)),!_0x49a882[_0x16fb6c(0x5ef)]?.[_0x16fb6c(0x450)]&&_0x49a882['options']?.[_0x16fb6c(0x450)]!==!0x1&&(_0x49a882[_0x16fb6c(0x5ef)]['encoding']=!0x0),_0x49a882[_0x16fb6c(0x5ef)]?.[_0x16fb6c(0x450)]){let _0x17a375=await this[_0x16fb6c(0x3e4)](_0x49a882[_0x16fb6c(0x35e)][_0x16fb6c(0x1aa)]);if(typeof _0x17a375=='string'){let _0x45fcbc=F['readFileSync'](_0x17a375)[_0x16fb6c(0x1ef)](_0x16fb6c(0x322));return this[_0x16fb6c(0x513)](_0x49a882[_0x16fb6c(0x355)],{'audio':Buffer[_0x16fb6c(0x6aa)](_0x45fcbc,_0x16fb6c(0x322)),'ptt':!0x0,'mimetype':'audio/mp4'},{'presence':_0x16fb6c(0x3d1),'delay':_0x49a882?.[_0x16fb6c(0x5ef)]?.[_0x16fb6c(0xee)]});}else throw new I(_0x17a375);}return await this[_0x16fb6c(0x513)](_0x49a882[_0x16fb6c(0x355)],{'audio':(0x0,P[_0x16fb6c(0x1f9)])(_0x49a882['audioMessage'][_0x16fb6c(0x1aa)])?{'url':_0x49a882[_0x16fb6c(0x35e)]['audio']}:Buffer[_0x16fb6c(0x6aa)](_0x49a882[_0x16fb6c(0x35e)][_0x16fb6c(0x1aa)],'base64'),'ptt':!0x0,'mimetype':_0x16fb6c(0x66c)},{'presence':_0x16fb6c(0x3d1),'delay':_0x49a882?.['options']?.[_0x16fb6c(0xee)]});}async[a0_0x57f064(0x3e4)](_0x27d4a3){const _0x40944f=a0_0x57f064;this[_0x40944f(0xd4)]['verbose']('Processing\x20audio');let _0x485309=(0x0,P[_0x40944f(0x1f9)])(_0x27d4a3)?(0x0,Is[_0x40944f(0x5f3)])(_0x40944f(0x5a8))[_0x40944f(0x712)](_0x27d4a3)[_0x40944f(0x1e7)]('hex'):(0x0,Is[_0x40944f(0x5f3)])(_0x40944f(0x5a8))[_0x40944f(0x712)](_0x27d4a3)[_0x40944f(0x1e7)]('hex'),_0x5a61b1=''+(0x0,J[_0x40944f(0x69e)])(this[_0x40944f(0x6d9)],_0x485309+_0x40944f(0x58a));if(F[_0x40944f(0x70f)](_0x5a61b1))return this[_0x40944f(0xd4)]['verbose'](_0x40944f(0x13f)),_0x5a61b1;let _0x4699f0=''+(0x0,J['join'])(this[_0x40944f(0x6d9)],_0x40944f(0x2fa)+(0x0,Re['v4'])()+_0x40944f(0x4f4));if((0x0,P[_0x40944f(0x1f9)])(_0x27d4a3)){let _0x3f5d7b=new Date()[_0x40944f(0x4e8)](),_0x370edc=_0x27d4a3+_0x40944f(0x65c)+_0x3f5d7b,_0x34fa01=await Z[_0x40944f(0x25e)][_0x40944f(0x136)](_0x370edc,{'responseType':'arraybuffer'});F[_0x40944f(0x42b)](_0x4699f0,_0x34fa01[_0x40944f(0x697)]);}else{let _0x27dd03=Buffer['from'](_0x27d4a3,_0x40944f(0x322));F[_0x40944f(0x42b)](_0x4699f0,_0x27dd03);}return new Promise((_0x38e613,_0x163d73)=>{const _0x51d7e7=_0x40944f;(0x0,jt[_0x51d7e7(0x424)])(Rr[_0x51d7e7(0x25e)][_0x51d7e7(0x39c)]+_0x51d7e7(0x283)+_0x4699f0+_0x51d7e7(0x22e)+_0x5a61b1+_0x51d7e7(0xba),_0x554f71=>{const _0x3fe1c4=_0x51d7e7;if(F[_0x3fe1c4(0x498)](_0x4699f0),_0x554f71){this[_0x3fe1c4(0xd4)][_0x3fe1c4(0xc2)](_0x3fe1c4(0x60e)),_0x163d73(_0x554f71);return;}this['logger'][_0x3fe1c4(0xc2)](_0x3fe1c4(0x596)),_0x38e613(_0x5a61b1);});});}async[a0_0x57f064(0x376)](_0x39ea65){const _0x2be862=a0_0x57f064;let _0x5c74db={},_0x19cfde=_0x2be862(0xa1);if(_0x39ea65[_0x2be862(0x376)]?.[_0x2be862(0x35a)]){_0x19cfde=_0x39ea65[_0x2be862(0x376)][_0x2be862(0x35a)]?.[_0x2be862(0x1d1)][_0x2be862(0x68e)]()??'TEXT',_0x5c74db['mediaKey']=_0x19cfde[_0x2be862(0x1d4)]()+_0x2be862(0x2a0);let _0x51613f=await this[_0x2be862(0x265)](_0x39ea65[_0x2be862(0x376)][_0x2be862(0x35a)]);_0x5c74db[_0x2be862(0x65a)]=_0x51613f[_0x2be862(0x65a)][_0x5c74db[_0x2be862(0x5bd)]],_0x5c74db[_0x2be862(0x2a1)]='*'+_0x39ea65[_0x2be862(0x376)][_0x2be862(0x572)]+'*\x0a\x0a'+_0x39ea65[_0x2be862(0x376)][_0x2be862(0x6be)];}let _0x265f58={'text':_0x39ea65[_0x2be862(0x376)][_0x2be862(0x23d)]['map'](_0x2aee83=>_0x2aee83[_0x2be862(0x1ca)]),'ids':_0x39ea65['buttonMessage'][_0x2be862(0x23d)][_0x2be862(0x3b7)](_0x575609=>_0x575609['buttonId'])};if(!(0x0,P[_0x2be862(0x14d)])(_0x265f58[_0x2be862(0x435)])||!(0x0,P[_0x2be862(0x14d)])(_0x265f58[_0x2be862(0x2c5)]))throw new w(_0x2be862(0x562),_0x2be862(0x15b));return await this[_0x2be862(0x513)](_0x39ea65[_0x2be862(0x355)],{'buttonsMessage':{'text':_0x5c74db?.['mediaKey']?void 0x0:_0x39ea65[_0x2be862(0x376)][_0x2be862(0x572)],'contentText':_0x5c74db?.[_0x2be862(0x2a1)]??_0x39ea65[_0x2be862(0x376)][_0x2be862(0x6be)],'footerText':_0x39ea65[_0x2be862(0x376)]?.['footerText'],'buttons':_0x39ea65[_0x2be862(0x376)][_0x2be862(0x23d)]['map'](_0x2ef673=>({'buttonText':{'displayText':_0x2ef673[_0x2be862(0x1ca)]},'buttonId':_0x2ef673[_0x2be862(0x65b)],'type':0x1})),'headerType':m[_0x2be862(0x6b2)][_0x2be862(0x2a0)]['ButtonsMessage'][_0x2be862(0x108)][_0x19cfde],[_0x5c74db?.[_0x2be862(0x5bd)]]:_0x5c74db?.['message']}},_0x39ea65?.[_0x2be862(0x5ef)]);}async[a0_0x57f064(0x453)](_0x72def7){const _0x491a06=a0_0x57f064;return await this['sendMessageWithTyping'](_0x72def7[_0x491a06(0x355)],{'locationMessage':{'degreesLatitude':_0x72def7['locationMessage'][_0x491a06(0x71c)],'degreesLongitude':_0x72def7[_0x491a06(0x453)][_0x491a06(0x165)],'name':_0x72def7[_0x491a06(0x453)]?.[_0x491a06(0x336)],'address':_0x72def7[_0x491a06(0x453)]?.[_0x491a06(0x25c)]}},_0x72def7?.[_0x491a06(0x5ef)]);}async[a0_0x57f064(0x29a)](_0x1f1b19){const _0x39261f=a0_0x57f064;let _0x27eb3c={},_0x234245=_0x3eb04c=>{const _0x52d2a3=a0_0x2175;let _0x179bc2='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x3eb04c[_0x52d2a3(0x47f)]+'\x0aFN:'+_0x3eb04c[_0x52d2a3(0x47f)]+'\x0a';_0x3eb04c[_0x52d2a3(0x468)]&&(_0x179bc2+=_0x52d2a3(0x618)+_0x3eb04c[_0x52d2a3(0x468)]+';\x0a'),_0x3eb04c[_0x52d2a3(0x242)]&&(_0x179bc2+=_0x52d2a3(0x3d4)+_0x3eb04c['email']+'\x0a'),_0x3eb04c[_0x52d2a3(0x214)]&&(_0x179bc2+=_0x52d2a3(0x522)+_0x3eb04c['url']+'\x0a');let _0xfcebb8='';return _0x3eb04c['phoneNumber']&&_0x3eb04c['phoneNumber'][_0x52d2a3(0xc8)]('|')[_0x52d2a3(0x680)]((_0x41be90,_0x22c44a)=>{const _0x54f09a=_0x52d2a3;let _0x471714=this['createJid'](_0x41be90)[_0x54f09a(0x5f7)](_0x54f09a(0x51f),'');_0xfcebb8+=_0x54f09a(0x681)+(_0x22c44a+0x1)+_0x54f09a(0x6ef)+_0x471714+':'+_0x41be90+_0x54f09a(0x312)+(_0x22c44a+0x1)+_0x54f09a(0x2c3);}),_0x179bc2+=_0xfcebb8+_0x52d2a3(0x437),_0x179bc2;};return _0x1f1b19[_0x39261f(0x29a)][_0x39261f(0x611)]===0x1?_0x27eb3c[_0x39261f(0x29a)]={'displayName':_0x1f1b19[_0x39261f(0x29a)][0x0][_0x39261f(0x47f)],'vcard':_0x234245(_0x1f1b19[_0x39261f(0x29a)][0x0])}:_0x27eb3c[_0x39261f(0x73e)]={'displayName':_0x1f1b19[_0x39261f(0x29a)]['length']+_0x39261f(0x486),'contacts':_0x1f1b19[_0x39261f(0x29a)][_0x39261f(0x3b7)](_0x1b1ddc=>({'displayName':_0x1b1ddc[_0x39261f(0x47f)],'vcard':_0x234245(_0x1b1ddc)}))},await this['sendMessageWithTyping'](_0x1f1b19[_0x39261f(0x355)],{..._0x27eb3c},_0x1f1b19?.[_0x39261f(0x5ef)]);}async['reactionMessage'](_0x540fb5){const _0x1da989=a0_0x57f064;return await this[_0x1da989(0x513)](_0x540fb5[_0x1da989(0x5d5)][_0x1da989(0x501)][_0x1da989(0x409)],{'reactionMessage':{'key':_0x540fb5[_0x1da989(0x5d5)][_0x1da989(0x501)],'text':_0x540fb5[_0x1da989(0x5d5)][_0x1da989(0x295)]}});}async[a0_0x57f064(0xd3)](_0x25f4e0){const _0x395856=a0_0x57f064;let _0x41d58d=[];for await(let _0x1ce980 of _0x25f4e0[_0x395856(0x370)]){let _0x290391=this[_0x395856(0x5dc)](_0x1ce980),_0x248f3f=!0x1;try{if((0x0,m[_0x395856(0x2f8)])(_0x290391)){let _0x5f4a4d=await this['findGroup']({'groupJid':_0x290391},_0x395856(0x6ce));_0x41d58d[_0x395856(0x1e9)](new fe(_0x5f4a4d[_0x395856(0x273)]['id'],!!_0x5f4a4d?.[_0x395856(0x273)]['id'],_0x5f4a4d?.['metadata']['subject'])),_0x248f3f=!!_0x5f4a4d?.[_0x395856(0x273)]['id'];}else{let _0x44ed19=(await this[_0x395856(0xec)][_0x395856(0x640)](_0x290391))[0x0];_0x41d58d[_0x395856(0x1e9)](new fe(_0x44ed19[_0x395856(0x726)],_0x44ed19['exists'])),_0x248f3f=_0x44ed19[_0x395856(0x229)];}}catch{await this[_0x395856(0x423)](_0x290391,_0x248f3f),_0x41d58d[_0x395856(0x1e9)](new fe(_0x1ce980,!0x1));}}return _0x41d58d;}async[a0_0x57f064(0x423)](_0x444c4d,_0x467228){const _0x45ff7c=a0_0x57f064;try{await this[_0x45ff7c(0x402)]['chat']['findOne']({'where':{'_id':_0x444c4d,'imported':!0x0}},this[_0x45ff7c(0x5a4)][_0x45ff7c(0x5aa)])&&(_0x467228||(await this['repository'][_0x45ff7c(0x206)][_0x45ff7c(0x2a3)](_0x444c4d,this['instance'][_0x45ff7c(0x5aa)]),console[_0x45ff7c(0x71f)]('Chat\x20com\x20ID\x20'+_0x444c4d+_0x45ff7c(0x42a))));}catch(_0x2802c4){console[_0x45ff7c(0x3e1)](_0x45ff7c(0x3ca),_0x2802c4);}}async[a0_0x57f064(0x3e6)](_0x2c7a92){const _0xee0594=a0_0x57f064;try{let _0x20f5de=_0x2c7a92[_0xee0594(0x3f0)][_0xee0594(0x4e4)](_0x1a3f9b=>(0x0,m['isJidGroup'])(_0x1a3f9b['remoteJid'])||(0x0,m[_0xee0594(0x259)])(_0x1a3f9b[_0xee0594(0x409)]))[_0xee0594(0x3b7)](_0x2d1709=>({'remoteJid':_0x2d1709[_0xee0594(0x409)],'fromMe':_0x2d1709[_0xee0594(0x3c1)],'id':_0x2d1709['id']}));await this[_0xee0594(0xec)][_0xee0594(0x3f0)](_0x20f5de);let _0x305ab2=_0x20f5de[_0xee0594(0x3b7)](_0x288171=>this[_0xee0594(0x533)](_0x288171,{'status':_0xee0594(0x405),'owner':this[_0xee0594(0x5a4)][_0xee0594(0x5aa)]})),_0x43c58d=_0x20f5de[_0xee0594(0x3b7)](_0x11c0b0=>this['repository'][_0xee0594(0x206)]['updateOne']({'where':{'_id':_0x11c0b0['remoteJid']}},{'unreadcount':0x0},this[_0xee0594(0x5a4)][_0xee0594(0x5aa)])),[_0x27aed8,_0x47f47c]=await Promise[_0xee0594(0x360)]([Promise['all'](_0x305ab2),Promise['all'](_0x43c58d)]);return _0x47f47c[_0xee0594(0x4e4)](_0xe311dc=>_0xe311dc!==null)[_0xee0594(0x680)](_0x4e5456=>{const _0x1beb02=_0xee0594;q(this[_0x1beb02(0x45c)],_0x1beb02(0x5ee),{'chat':_0x4e5456});}),{'message':'Read\x20messages','read':'success'};}catch(_0x4b8b6b){throw console[_0xee0594(0x3e1)]('Error\x20in\x20markMessageAsRead:',_0x4b8b6b),new I('Read\x20messages\x20fail',_0x4b8b6b[_0xee0594(0x1ef)]());}}async[a0_0x57f064(0x4f2)](_0xb80a55){const _0x105f7b=a0_0x57f064;let _0x2e9e41={'where':{'key':{'remoteJid':_0xb80a55}},'limit':0x1},_0x2a13b2=await this[_0x105f7b(0x224)](_0x2e9e41);return _0x2a13b2||(console[_0x105f7b(0x3e1)](_0x105f7b(0x32f),_0xb80a55),null);}async[a0_0x57f064(0x55a)](_0x9db71c){const _0x9b4cf3=a0_0x57f064;this['logger'][_0x9b4cf3(0xc2)]('Archiving\x20chat');try{let _0xaa1d98=_0x9db71c['lastMessage'],_0x2d1f93=_0x9db71c[_0x9b4cf3(0x206)];if(!_0xaa1d98&&_0x2d1f93?_0xaa1d98=await this['getLastMessage'](_0x2d1f93):(_0xaa1d98=_0x9db71c[_0x9b4cf3(0x122)],_0xaa1d98[_0x9b4cf3(0x4ef)]=_0xaa1d98?.[_0x9b4cf3(0x4ef)]??Date['now'](),_0x2d1f93=_0xaa1d98?.[_0x9b4cf3(0x501)]?.['remoteJid']),!_0xaa1d98||Object[_0x9b4cf3(0x571)](_0xaa1d98)[_0x9b4cf3(0x611)]===0x0)throw new L(_0x9b4cf3(0xb6));this[_0x9b4cf3(0xd4)]['verbose'](_0x9b4cf3(0x439)+_0x2d1f93);try{await this['client'][_0x9b4cf3(0x1e4)]({'archive':_0x9db71c[_0x9b4cf3(0x4cc)],'lastMessages':[_0xaa1d98]},this[_0x9b4cf3(0x5dc)](_0x2d1f93));}catch(_0x6a3b5){this[_0x9b4cf3(0xd4)][_0x9b4cf3(0x3e1)]('Error\x20in\x20chatModify\x20for\x20number\x20'+_0x2d1f93+':\x20'+_0x6a3b5['toString']());}this['logger']['verbose'](_0x9b4cf3(0x253)+_0x2d1f93);let _0x2d67e4=await this['repository'][_0x9b4cf3(0x206)][_0x9b4cf3(0x21a)]({'where':{'_id':_0xaa1d98?.[_0x9b4cf3(0x501)]?.[_0x9b4cf3(0x409)]}},{'archived':_0x9db71c[_0x9b4cf3(0x4cc)]},this[_0x9b4cf3(0x5a4)][_0x9b4cf3(0x5aa)]);return _0x2d67e4?(this[_0x9b4cf3(0xd4)]['verbose'](_0x9b4cf3(0x530)+JSON[_0x9b4cf3(0x24b)](_0x2d67e4)),q(this[_0x9b4cf3(0x45c)],_0x9b4cf3(0x5ee),{'chat':_0x2d67e4})):this[_0x9b4cf3(0xd4)][_0x9b4cf3(0x3e1)]('Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x2d1f93),{'chatId':_0x2d1f93,'archived':_0x9db71c[_0x9b4cf3(0x4cc)]};}catch(_0x108067){throw this['logger'][_0x9b4cf3(0x3e1)]('Error\x20occurred\x20while\x20archiving\x20chat:\x20'+_0x108067[_0x9b4cf3(0x1ef)]()),new I({'archived':!0x1,'message':[_0x9b4cf3(0x41f),_0x108067['toString']()]});}}async[a0_0x57f064(0xde)](_0x3547cd){const _0x38aea3=a0_0x57f064;try{let _0x3f4ed8=await this['client'][_0x38aea3(0xa3)](_0x3547cd[_0x38aea3(0x409)],{'delete':_0x3547cd});try{let _0x57d218=await this[_0x38aea3(0x533)](_0x3547cd,{'status':_0x38aea3(0x6fe),'owner':this[_0x38aea3(0x5a4)][_0x38aea3(0x5aa)]});this[_0x38aea3(0xd4)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x38aea3(0x5aa)]+_0x38aea3(0xeb)+_0x57d218);}catch(_0x3a42e3){console['error'](_0x38aea3(0x631),_0x3a42e3);}return _0x3f4ed8;}catch(_0x21dc86){throw new I('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x21dc86?.[_0x38aea3(0x1ef)]());}}async[a0_0x57f064(0x68a)](_0x40d17f){const _0x22c1a7=a0_0x57f064;try{let _0x56073e=_0x40d17f?.[_0x22c1a7(0x65a)]?_0x40d17f:await this[_0x22c1a7(0x18a)](_0x40d17f[_0x22c1a7(0x501)],!0x0);for(let _0x53e48e of Ma)_0x56073e[_0x22c1a7(0x65a)][_0x53e48e]&&(_0x56073e[_0x22c1a7(0x65a)]=_0x56073e['message'][_0x53e48e][_0x22c1a7(0x65a)]);let _0x3bfbe8,_0x233c8b;for(let _0x42d47d of Ea)if(_0x3bfbe8=_0x56073e[_0x22c1a7(0x65a)][_0x42d47d],_0x3bfbe8){_0x233c8b=_0x42d47d;break;}if(!_0x3bfbe8)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x3bfbe8[_0x22c1a7(0x5bd)]==_0x22c1a7(0x6c8)&&(_0x56073e[_0x22c1a7(0x65a)]=JSON['parse'](JSON[_0x22c1a7(0x24b)](_0x56073e['message'])));let _0x38b324=await(0x0,m[_0x22c1a7(0x5af)])({'key':_0x56073e?.[_0x22c1a7(0x501)],'message':_0x56073e?.[_0x22c1a7(0x65a)]},_0x22c1a7(0x300),{},{'logger':(0x0,Pt[_0x22c1a7(0x25e)])({'level':_0x22c1a7(0x100)}),'reuploadRequest':this[_0x22c1a7(0xec)]['updateMediaMessage']});if(!(_0x38b324 instanceof Buffer))throw new Error(_0x22c1a7(0x731));let _0x523d60=this[_0x22c1a7(0x228)][_0x22c1a7(0x136)](_0x22c1a7(0x5d1)),_0x478158,_0x2c59c4;if(_0x3bfbe8[_0x22c1a7(0x4bd)])_0x478158=_0x3bfbe8['fileName'];else{let _0x3f078a=_0x3bfbe8[_0x22c1a7(0x4c7)]?.[_0x22c1a7(0x431)](/\/(\w+)/),_0xc6abb9=_0x3f078a?_0x3f078a[0x1]:null;if(!_0xc6abb9)throw new Error(_0x22c1a7(0x46d));_0x478158=(0x0,Re['v4'])()+'.'+_0xc6abb9;}_0x233c8b==='audioMessage'&&_0x3bfbe8[_0x22c1a7(0x4c7)]===_0x22c1a7(0x12f)?(_0x478158=(0x0,Re['v4'])()+_0x22c1a7(0x17c),_0x2c59c4=_0x22c1a7(0x2a4)+await this['convertaudio'](_0x38b324['toString']('base64'))):(await this[_0x22c1a7(0x48d)](_0x38b324,_0x478158),_0x2c59c4=_0x22c1a7(0x2a4)+_0x478158);let _0x5698d3=this[_0x22c1a7(0x228)][_0x22c1a7(0x136)](_0x22c1a7(0x145))[_0x22c1a7(0x4f7)];if(!_0x5698d3){let _0x1daf90=this[_0x22c1a7(0x228)][_0x22c1a7(0x136)](_0x22c1a7(0x4db));_0x5698d3=_0x22c1a7(0x33f)+(_0x1daf90&&_0x1daf90['FULLCHAIN'][_0x22c1a7(0xc8)]('/')[0x4]);}_0x2c59c4=''+_0x5698d3+_0x2c59c4;let _0xa845bb=0xc*0x3c*0x3c*0x3e8,_0x22324d={'where':{'_id':_0x56073e[_0x22c1a7(0x501)]['id']}},_0xf69aa3={'message_normalized.fileUrl':_0x2c59c4,'message_normalized.expires_fileUrl':Date[_0x22c1a7(0xa0)]()+_0xa845bb};try{let _0x119f1a=await this[_0x22c1a7(0x402)][_0x22c1a7(0x65a)][_0x22c1a7(0x712)](_0x22324d,_0xf69aa3,this[_0x22c1a7(0x5a4)]['wuid']);_0x119f1a&&q(this[_0x22c1a7(0x45c)],_0x22c1a7(0x5b8),{'message':_0x119f1a});}catch(_0x3fd6e0){this[_0x22c1a7(0xd4)][_0x22c1a7(0x3e1)](this[_0x22c1a7(0x45c)]+'\x20('+this[_0x22c1a7(0x5a4)][_0x22c1a7(0x5aa)]+_0x22c1a7(0x455)+(_0x3fd6e0 instanceof Error?_0x3fd6e0[_0x22c1a7(0x65a)]:JSON[_0x22c1a7(0x24b)](_0x3fd6e0,null,0x2)));}return{'mediaType':_0x233c8b,'fileName':_0x3bfbe8[_0x22c1a7(0x4bd)],'caption':_0x3bfbe8[_0x22c1a7(0x6e5)],'size':{'fileLength':_0x3bfbe8[_0x22c1a7(0x3e7)],'height':_0x3bfbe8[_0x22c1a7(0x22b)],'width':_0x3bfbe8[_0x22c1a7(0x66d)]},'mimetype':_0x3bfbe8['mimetype'],'base64':_0x38b324[_0x22c1a7(0x1ef)]('base64'),'fileUrl':_0x2c59c4,'expires_fileUrl':Date[_0x22c1a7(0xa0)]()+_0xa845bb};}catch(_0x581f83){throw this[_0x22c1a7(0xd4)]['error'](this[_0x22c1a7(0x45c)]+'\x20('+this[_0x22c1a7(0x5a4)][_0x22c1a7(0x5aa)]+_0x22c1a7(0x455)+(_0x581f83 instanceof Error?_0x581f83[_0x22c1a7(0x65a)]:JSON[_0x22c1a7(0x24b)](_0x581f83,null,0x2))),new w(_0x581f83[_0x22c1a7(0x1ef)]());}}async['saveMediaToFile'](_0xc2f234,_0x4adb62){const _0x5451b1=a0_0x57f064;let _0x2b9b41=J[_0x5451b1(0x25e)][_0x5451b1(0x69e)](__dirname,_0x5451b1(0x1d9));F['existsSync'](_0x2b9b41)||F[_0x5451b1(0x244)](_0x2b9b41,{'recursive':!0x0});let _0x139ab5=J['default'][_0x5451b1(0x69e)](_0x2b9b41,_0x4adb62);return new Promise((_0x57025e,_0x2d3ff8)=>{const _0x486268=_0x5451b1;F[_0x486268(0x70b)](_0x139ab5,_0xc2f234,_0x26b406=>{const _0x3b4726=_0x486268;_0x26b406?(this[_0x3b4726(0xd4)][_0x3b4726(0x3e1)]('Error\x20writing\x20file:\x20'+(_0x26b406 instanceof Error?_0x26b406[_0x3b4726(0x65a)]:JSON['stringify'](_0x26b406,null,0x2))),_0x2d3ff8(_0x26b406)):(this[_0x3b4726(0xd4)][_0x3b4726(0x71f)](_0x3b4726(0x201)+_0x139ab5),_0x57025e(_0x139ab5));});});}async[a0_0x57f064(0x58e)](_0x269305){const _0x7c7c3a=a0_0x57f064;return await this[_0x7c7c3a(0x402)]['contact'][_0x7c7c3a(0x5c8)](_0x269305,this[_0x7c7c3a(0x5a4)][_0x7c7c3a(0x5aa)]);}async[a0_0x57f064(0x27a)](){const _0x1fbf0b=a0_0x57f064;return await this[_0x1fbf0b(0x402)][_0x1fbf0b(0x400)]['find']({'where':{}},this[_0x1fbf0b(0x5a4)][_0x1fbf0b(0x5aa)]);}async[a0_0x57f064(0x224)](_0x3e0e3a){const _0x14d330=a0_0x57f064;return await this[_0x14d330(0x402)][_0x14d330(0x65a)][_0x14d330(0x5c8)](_0x3e0e3a,this[_0x14d330(0x5a4)][_0x14d330(0x5aa)]);}async['fetchChats'](){const _0x48bf0a=a0_0x57f064;return this[_0x48bf0a(0x402)][_0x48bf0a(0x206)][_0x48bf0a(0x42f)](this['instance']['wuid']),this[_0x48bf0a(0x402)][_0x48bf0a(0x206)]['updateMissingEtiquetas'](this['instance'][_0x48bf0a(0x5aa)]),this[_0x48bf0a(0x402)][_0x48bf0a(0x206)][_0x48bf0a(0x6b6)](this['instance'][_0x48bf0a(0x5aa)]),this[_0x48bf0a(0x402)][_0x48bf0a(0x206)]['updateMissingCustomFields'](this['instance'][_0x48bf0a(0x5aa)]),await this[_0x48bf0a(0x402)]['chat']['find']({'where':{}},this['instance'][_0x48bf0a(0x5aa)]);}async['importChatsAntigo'](_0x9f95aa){const _0x11b66c=a0_0x57f064;try{if(!Array[_0x11b66c(0x184)](_0x9f95aa)||_0x9f95aa[_0x11b66c(0x611)]===0x0)throw new Error(_0x11b66c(0x266));let _0x123b47=[],_0x21e8e0=[];for(let _0xe3d0f1 of _0x9f95aa){if(_0xe3d0f1[_0x11b66c(0x447)])_0xe3d0f1['_id']=this[_0x11b66c(0x5dc)](_0xe3d0f1[_0x11b66c(0x447)]);else continue;await this[_0x11b66c(0x402)][_0x11b66c(0x206)][_0x11b66c(0x5a2)]({'where':{'_id':_0xe3d0f1[_0x11b66c(0x447)]}},this[_0x11b66c(0x5a4)][_0x11b66c(0x5aa)])?_0x21e8e0[_0x11b66c(0x1e9)]({'_id':_0xe3d0f1[_0x11b66c(0x447)],'leadInfo':_0xe3d0f1['leadInfo'],'owner':this['instance']['wuid']}):_0x123b47[_0x11b66c(0x1e9)]({'_id':_0xe3d0f1['_id'],'owner':this['instance'][_0x11b66c(0x5aa)],'leadInfo':_0xe3d0f1[_0x11b66c(0x4f5)],'imported':!0x0});}return _0x21e8e0[_0x11b66c(0x611)]>0x0&&await this['repository'][_0x11b66c(0x206)][_0x11b66c(0x5f5)](_0x21e8e0['map'](_0xd16a90=>({'query':{'where':{'_id':_0xd16a90['_id'],'owner':this['instance'][_0x11b66c(0x5aa)]}},'update':_0xd16a90}))),_0x123b47[_0x11b66c(0x611)]>0x0&&await this[_0x11b66c(0x402)][_0x11b66c(0x206)]['insertMany'](_0x123b47,this['instance']['wuid']),{'updated':_0x21e8e0[_0x11b66c(0x611)],'inserted':_0x123b47[_0x11b66c(0x611)]};}catch(_0x5d403d){throw console[_0x11b66c(0x3e1)](_0x11b66c(0x6c3),_0x5d403d),_0x5d403d;}}async[a0_0x57f064(0x630)](_0x436992){const _0x531180=a0_0x57f064;try{if(!Array[_0x531180(0x184)](_0x436992)||_0x436992[_0x531180(0x611)]===0x0)throw new Error(_0x531180(0x266));let _0x2467eb=0x64,_0x4795f0=0x0;for(let _0x259bba=0x0;_0x259bba<_0x436992[_0x531180(0x611)];_0x259bba+=_0x2467eb){let _0x592b79=_0x436992[_0x531180(0x5cd)](_0x259bba,_0x259bba+_0x2467eb),{updated:_0x27b942}=await this[_0x531180(0x2ee)](_0x592b79);_0x4795f0+=_0x27b942;}return{'updated':_0x4795f0};}catch(_0x73eb96){throw console[_0x531180(0x3e1)](_0x531180(0x6c3),_0x73eb96),_0x73eb96;}}async['importChatsBatch'](_0x39b77d){const _0x5a36cd=a0_0x57f064;try{let _0xa064c=await this[_0x5a36cd(0x402)][_0x5a36cd(0x400)][_0x5a36cd(0x5c8)]({'where':{}},this[_0x5a36cd(0x5a4)][_0x5a36cd(0x5aa)]),_0x5adca9=new Set(_0xa064c['map'](_0x193957=>_0x193957[_0x5a36cd(0x447)])),_0x46c3df=[],_0x41793a=[];for(let _0x16144b of _0x39b77d){if(!_0x16144b['_id'])continue;_0x16144b[_0x5a36cd(0x447)]=this[_0x5a36cd(0x5dc)](_0x16144b[_0x5a36cd(0x447)]);let _0x247d37=await this[_0x5a36cd(0x402)][_0x5a36cd(0x206)][_0x5a36cd(0x5a2)]({'where':{'_id':_0x16144b['_id']}},this[_0x5a36cd(0x5a4)][_0x5a36cd(0x5aa)]),_0x5c807d={};if(Object[_0x5a36cd(0x252)](_0x16144b['leadInfo'])['forEach'](([_0x555b01,_0x38f97e])=>{const _0x19eff3=_0x5a36cd;_0x5c807d[_0x19eff3(0x3b4)+_0x555b01]=_0x38f97e;}),_0x247d37&&!_0x247d37[_0x5a36cd(0xbe)]){let _0x119700=(_0x16144b[_0x5a36cd(0x4f5)][_0x5a36cd(0x646)]||[])[_0x5a36cd(0x4e4)](_0x5cc042=>_0x5adca9[_0x5a36cd(0xdd)](_0x5cc042)),_0x5cb44d=new Set(_0x247d37[_0x5a36cd(0x4f5)][_0x5a36cd(0x646)]||[]),_0x16e0ac=_0x119700[_0x5a36cd(0x4e4)](_0x42401f=>!_0x5cb44d[_0x5a36cd(0xdd)](_0x42401f)),_0x503151=[..._0x5cb44d][_0x5a36cd(0x4e4)](_0x33e8e7=>!_0x119700[_0x5a36cd(0x613)](_0x33e8e7));_0x41793a['push'](..._0x16e0ac[_0x5a36cd(0x3b7)](_0x49fd32=>this[_0x5a36cd(0x619)](_0x49fd32,_0x16144b[_0x5a36cd(0x447)]))),_0x41793a[_0x5a36cd(0x1e9)](..._0x503151[_0x5a36cd(0x3b7)](_0x177c39=>this[_0x5a36cd(0xfb)](_0x177c39,_0x16144b[_0x5a36cd(0x447)]))),_0x16144b[_0x5a36cd(0x4f5)][_0x5a36cd(0x646)]=_0x119700,_0x46c3df[_0x5a36cd(0x1e9)]({'query':{'where':{'_id':_0x16144b[_0x5a36cd(0x447)],'owner':this[_0x5a36cd(0x5a4)][_0x5a36cd(0x5aa)]}},'update':_0x5c807d});}else _0x5c807d[_0x5a36cd(0xbe)]=!0x0,_0x46c3df[_0x5a36cd(0x1e9)]({'query':{'where':{'_id':_0x16144b['_id'],'owner':this[_0x5a36cd(0x5a4)][_0x5a36cd(0x5aa)]}},'update':_0x5c807d});}let _0x2e8c62=await this[_0x5a36cd(0x402)]['chat'][_0x5a36cd(0x5f5)](_0x46c3df);return await Promise[_0x5a36cd(0x360)](_0x41793a),{'updated':_0x2e8c62};}catch(_0x557bd8){throw console[_0x5a36cd(0x3e1)](_0x5a36cd(0x6c3),_0x557bd8),_0x557bd8;}}async[a0_0x57f064(0x406)](){const _0x565e9b=a0_0x57f064;return await this[_0x565e9b(0xec)][_0x565e9b(0x406)]();}async[a0_0x57f064(0x426)](_0x59c914){const _0x1c8501=a0_0x57f064;try{return await this['client']['updateReadReceiptsPrivacy'](_0x59c914[_0x1c8501(0x5bf)][_0x1c8501(0x137)]),await this[_0x1c8501(0xec)][_0x1c8501(0xc7)](_0x59c914[_0x1c8501(0x5bf)][_0x1c8501(0x1fe)]),await this[_0x1c8501(0xec)][_0x1c8501(0x41d)](_0x59c914[_0x1c8501(0x5bf)][_0x1c8501(0x5c7)]),await this[_0x1c8501(0xec)]['updateOnlinePrivacy'](_0x59c914['privacySettings'][_0x1c8501(0x39e)]),await this[_0x1c8501(0xec)][_0x1c8501(0x708)](_0x59c914[_0x1c8501(0x5bf)]['last']),await this['client'][_0x1c8501(0x472)](_0x59c914[_0x1c8501(0x5bf)][_0x1c8501(0x4fd)]),this['client']?.['ws']?.[_0x1c8501(0x1fd)](),{'update':_0x1c8501(0x373),'data':{'readreceipts':_0x59c914[_0x1c8501(0x5bf)][_0x1c8501(0x137)],'profile':_0x59c914[_0x1c8501(0x5bf)]['profile'],'status':_0x59c914[_0x1c8501(0x5bf)][_0x1c8501(0x5c7)],'online':_0x59c914[_0x1c8501(0x5bf)][_0x1c8501(0x39e)],'last':_0x59c914[_0x1c8501(0x5bf)][_0x1c8501(0x16f)],'groupadd':_0x59c914['privacySettings'][_0x1c8501(0x4fd)]}};}catch(_0x3a265c){throw new I(_0x1c8501(0x20a),_0x3a265c[_0x1c8501(0x1ef)]());}}async[a0_0x57f064(0x54e)](_0x134cf3){const _0x501a86=a0_0x57f064;let _0xb4af2a=(_0x134cf3?this[_0x501a86(0x5dc)](_0x134cf3):this['client']?.[_0x501a86(0x37f)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0x501a86(0xd4)][_0x501a86(0xc2)]('Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0xb4af2a);let _0x183b9e=await this[_0x501a86(0x402)][_0x501a86(0x31f)][_0x501a86(0x5a2)]({'where':{'_id':_0xb4af2a}},this[_0x501a86(0x5a4)][_0x501a86(0x5aa)]),_0x495e45=_0x183b9e?_0x183b9e[_0x501a86(0x28d)]:null;try{let _0x347c39=(await this['whatsappNumber']({'numbers':[_0xb4af2a]}))?.[_0x501a86(0x2f1)](),_0x1b7991=(await this['findAndUpdateCacheContact'](_0xb4af2a,null,!0x1))[_0x501a86(0x2eb)][_0x501a86(0x683)],_0x101ee5=await this[_0x501a86(0x5d3)](_0x347c39?.[_0x501a86(0x726)]),_0x364f0e=await this[_0x501a86(0x1dd)](_0x347c39?.[_0x501a86(0x726)]),_0x4eb7b3=(await this['findAndUpdateCacheContact'](_0xb4af2a,null,!0x1))[_0x501a86(0x2eb)]['name'],_0x482420=await this[_0x501a86(0x402)][_0x501a86(0x206)][_0x501a86(0x5a2)]({'where':{'_id':_0xb4af2a}},this['instance'][_0x501a86(0x5aa)]),_0x3c1f00={'imagechat':_0x1b7991,'contactname':_0x495e45||null,'pushName':_0x4eb7b3,'status':_0x101ee5?.[_0x501a86(0x5c7)],'isBusiness':_0x364f0e[_0x501a86(0x45f)],'email':_0x364f0e?.[_0x501a86(0x242)],'description':_0x364f0e?.[_0x501a86(0x6be)],'website':_0x364f0e?.[_0x501a86(0x496)]?.[_0x501a86(0x2f1)](),'lastcache':Date['now'](),'imported':!_0x482420},_0x5f08b8=await this[_0x501a86(0x402)][_0x501a86(0x206)][_0x501a86(0x21a)]({'where':{'_id':_0xb4af2a}},_0x3c1f00,this[_0x501a86(0x5a4)][_0x501a86(0x5aa)]),_0x1f74d3={'owner':this[_0x501a86(0x5a4)]['wuid'],'_id':_0xb4af2a,'profilePictureUrl':_0x1b7991,'status':_0x101ee5?.['status']};return this[_0x501a86(0x402)][_0x501a86(0x31f)][_0x501a86(0x712)]([_0x1f74d3],this[_0x501a86(0x5a4)]['wuid']),_0x5f08b8&&q(this[_0x501a86(0x45c)],_0x501a86(0x5ee),{'chat':_0x5f08b8}),{'wuid':_0x347c39?.[_0x501a86(0x726)]||_0xb4af2a,'name':_0x347c39?.['name'],'pushName':_0x4eb7b3,'numberExists':_0x347c39?.[_0x501a86(0x229)],'picture':_0x1b7991,'status':_0x101ee5?.[_0x501a86(0x5c7)],'isBusiness':_0x364f0e[_0x501a86(0x45f)],'email':_0x364f0e?.[_0x501a86(0x242)],'description':_0x364f0e?.[_0x501a86(0x6be)],'website':_0x364f0e?.[_0x501a86(0x496)]?.[_0x501a86(0x2f1)]()};}catch(_0x22b660){return this['logger'][_0x501a86(0x3e1)]('Error\x20fetching\x20and\x20updating\x20profile:\x20'+(_0x22b660 instanceof Error?_0x22b660[_0x501a86(0x65a)]:JSON[_0x501a86(0x24b)](_0x22b660,null,0x2))),{};}}async['fetchBusinessProfile'](_0x5d7636){const _0x56b5bd=a0_0x57f064;this[_0x56b5bd(0xd4)]['verbose'](_0x56b5bd(0x3b0));try{let _0x33f6fe=_0x5d7636?this['createJid'](_0x5d7636):this[_0x56b5bd(0x5a4)]['wuid'],_0x443f0a=await this[_0x56b5bd(0xec)][_0x56b5bd(0x114)](_0x33f6fe);return this[_0x56b5bd(0xd4)][_0x56b5bd(0xc2)](_0x56b5bd(0x585)),_0x443f0a?(this[_0x56b5bd(0xd4)]['verbose'](_0x56b5bd(0x65e)),{'isBusiness':!0x0,..._0x443f0a}):{'isBusiness':!0x1,'message':_0x56b5bd(0x4dc),...(await this[_0x56b5bd(0xd3)]({'numbers':[_0x33f6fe]}))?.['shift']()};}catch(_0x55d8a8){throw new I(_0x56b5bd(0x6b8),_0x55d8a8[_0x56b5bd(0x1ef)]());}}async['getStatus'](_0x2bfc9a){const _0x362793=a0_0x57f064;let _0x2ed4dd=this[_0x362793(0x5dc)](_0x2bfc9a);try{return{'wuid':_0x2ed4dd,'status':(await this[_0x362793(0xec)][_0x362793(0x311)](_0x2ed4dd))?.[_0x362793(0x5c7)]};}catch{return{'wuid':_0x2ed4dd,'status':null};}}async[a0_0x57f064(0x3aa)](_0x1081c0){const _0x1ceaf0=a0_0x57f064;try{return await this['client']['updateProfileName'](_0x1081c0),{'update':_0x1ceaf0(0x373)};}catch(_0x4760a7){throw new I('Error\x20updating\x20profile\x20name',_0x4760a7[_0x1ceaf0(0x1ef)]());}}async['updateProfileStatus'](_0x20a4e8){const _0x23562b=a0_0x57f064;try{return await this['client'][_0x23562b(0x52a)](_0x20a4e8),{'update':_0x23562b(0x373)};}catch(_0x23647e){throw new I('Error\x20updating\x20profile\x20status',_0x23647e[_0x23562b(0x1ef)]());}}async[a0_0x57f064(0x4d6)](_0x102913){const _0x15f227=a0_0x57f064;try{let _0x5ca21c;if((0x0,P[_0x15f227(0x1f9)])(_0x102913)){let _0x16997d=new Date()[_0x15f227(0x4e8)](),_0x52f1b0=_0x102913+_0x15f227(0x65c)+_0x16997d;_0x5ca21c=(await Z['default']['get'](_0x52f1b0,{'responseType':_0x15f227(0x3ab)}))[_0x15f227(0x697)];}else{if((0x0,P[_0x15f227(0x56a)])(_0x102913))_0x5ca21c=Buffer[_0x15f227(0x6aa)](_0x102913,_0x15f227(0x322));else throw new w(_0x15f227(0x179));}return await this['client'][_0x15f227(0x4d6)](this[_0x15f227(0x5a4)][_0x15f227(0x5aa)],_0x5ca21c),{'update':_0x15f227(0x373)};}catch(_0x108bf6){throw new I('Error\x20updating\x20profile\x20picture',_0x108bf6[_0x15f227(0x1ef)]());}}async[a0_0x57f064(0x2ed)](){const _0x95c9d7=a0_0x57f064;try{return await this[_0x95c9d7(0xec)][_0x95c9d7(0x2ed)](this[_0x95c9d7(0x5a4)][_0x95c9d7(0x5aa)]),{'update':_0x95c9d7(0x373)};}catch(_0x2abbc4){throw new I('Error\x20removing\x20profile\x20picture',_0x2abbc4[_0x95c9d7(0x1ef)]());}}async[a0_0x57f064(0x546)](_0xf73f63){const _0x2f4ed0=a0_0x57f064;try{let _0x20754f=_0xf73f63[_0x2f4ed0(0x116)][_0x2f4ed0(0x3b7)](_0x363fe4=>this[_0x2f4ed0(0x5dc)](_0x363fe4)),{id:_0x4db64c}=await this[_0x2f4ed0(0xec)][_0x2f4ed0(0x5e2)](_0xf73f63[_0x2f4ed0(0x154)],_0x20754f);return _0xf73f63?.[_0x2f4ed0(0x6be)]&&await this['client'][_0x2f4ed0(0x321)](_0x4db64c,_0xf73f63['description']),{'metadata':await this[_0x2f4ed0(0xec)][_0x2f4ed0(0x534)](_0x4db64c)};}catch(_0x85fe85){throw this[_0x2f4ed0(0xd4)][_0x2f4ed0(0x3e1)](this['instanceName']+'\x20('+this[_0x2f4ed0(0x5a4)][_0x2f4ed0(0x5aa)]+'):\x20'+(_0x85fe85 instanceof Error?_0x85fe85[_0x2f4ed0(0x65a)]:JSON[_0x2f4ed0(0x24b)](_0x85fe85,null,0x2))),new I(_0x2f4ed0(0x483),_0x85fe85[_0x2f4ed0(0x1ef)]());}}async[a0_0x57f064(0x3c8)](_0x74b313){const _0x4cb158=a0_0x57f064;try{let _0x4fcfe1;if((0x0,P[_0x4cb158(0x1f9)])(_0x74b313['image'])){let _0x38cb0c=new Date()[_0x4cb158(0x4e8)](),_0x4cc912=_0x74b313[_0x4cb158(0x581)]+_0x4cb158(0x65c)+_0x38cb0c;_0x4fcfe1=(await Z[_0x4cb158(0x25e)][_0x4cb158(0x136)](_0x4cc912,{'responseType':_0x4cb158(0x3ab)}))['data'];}else{if((0x0,P['isBase64'])(_0x74b313[_0x4cb158(0x581)]))_0x4fcfe1=Buffer[_0x4cb158(0x6aa)](_0x74b313[_0x4cb158(0x581)],_0x4cb158(0x322));else throw new w(_0x4cb158(0x179));}return await this[_0x4cb158(0xec)][_0x4cb158(0x4d6)](_0x74b313[_0x4cb158(0x5c6)],_0x4fcfe1),{'update':'success'};}catch(_0x1897b7){throw new I(_0x4cb158(0x157),_0x1897b7[_0x4cb158(0x1ef)]());}}async[a0_0x57f064(0x4a7)](_0x49dec4){const _0x4c4377=a0_0x57f064;try{return await this[_0x4c4377(0xec)][_0x4c4377(0x321)](_0x49dec4['groupJid'],_0x49dec4[_0x4c4377(0x6be)]),{'update':'success'};}catch(_0x44232c){throw new I(_0x4c4377(0x33d),_0x44232c[_0x4c4377(0x1ef)]());}}async[a0_0x57f064(0x3a8)](_0x5b35b2){const _0x2b4221=a0_0x57f064;try{return await this['client'][_0x2b4221(0x160)](_0x5b35b2[_0x2b4221(0x5c6)],_0x5b35b2[_0x2b4221(0x336)]),{'update':'success'};}catch(_0x44f635){throw new I(_0x2b4221(0x1d8),_0x44f635[_0x2b4221(0x1ef)]());}}async[a0_0x57f064(0x6df)](_0x3c1cb8){const _0x4029f6=a0_0x57f064;try{let _0x4416e9=await this[_0x4029f6(0xec)][_0x4029f6(0x739)](_0x3c1cb8[_0x4029f6(0x5c6)],_0x3c1cb8['expiration']);return{'success':!0x0};}catch(_0x58a0d9){throw new w(_0x4029f6(0x716),_0x58a0d9[_0x4029f6(0x1ef)]());}}async[a0_0x57f064(0x191)](_0x4108f5){const _0x331d51=a0_0x57f064;try{return await this[_0x331d51(0xec)][_0x331d51(0x234)](_0x4108f5[_0x331d51(0x5c6)],_0x4108f5[_0x331d51(0x113)]),{'update':_0x331d51(0x373)};}catch(_0x1db975){throw new I(_0x331d51(0x603),_0x1db975[_0x331d51(0x1ef)]());}}async[a0_0x57f064(0x3f8)](_0x5214c6){const _0x359585=a0_0x57f064;try{if(_0x5214c6[_0x359585(0x9e)]===!0x0&&await this[_0x359585(0xec)][_0x359585(0x234)](_0x5214c6[_0x359585(0x5c6)],_0x359585(0x5b1)),_0x5214c6['restrict']===!0x1&&await this[_0x359585(0xec)][_0x359585(0x234)](_0x5214c6[_0x359585(0x5c6)],_0x359585(0x524)),_0x5214c6[_0x359585(0xff)]===!0x0&&await this[_0x359585(0xec)][_0x359585(0x234)](_0x5214c6[_0x359585(0x5c6)],_0x359585(0xfe)),_0x5214c6[_0x359585(0xff)]===!0x1&&await this[_0x359585(0xec)]['groupSettingUpdate'](_0x5214c6[_0x359585(0x5c6)],_0x359585(0x3bd)),_0x5214c6[_0x359585(0x144)]===!0x0&&await this[_0x359585(0xec)][_0x359585(0x71a)](_0x5214c6[_0x359585(0x5c6)],'all_member_add'),_0x5214c6[_0x359585(0x144)]===!0x1&&await this[_0x359585(0xec)]['groupMemberAddMode'](_0x5214c6['groupJid'],'admin_add'),_0x5214c6[_0x359585(0x6e0)]===!0x0&&await this[_0x359585(0xec)][_0x359585(0x28c)](_0x5214c6[_0x359585(0x5c6)],'on'),_0x5214c6['joinApprovalMode']===!0x1&&await this['client'][_0x359585(0x28c)](_0x5214c6[_0x359585(0x5c6)],'off'),typeof _0x5214c6[_0x359585(0x27e)]<'u'&&_0x5214c6[_0x359585(0x27e)]!==null&&await this[_0x359585(0xec)][_0x359585(0x739)](_0x5214c6[_0x359585(0x5c6)],_0x5214c6[_0x359585(0x27e)]),_0x5214c6[_0x359585(0x336)]&&await this[_0x359585(0xec)][_0x359585(0x160)](_0x5214c6[_0x359585(0x5c6)],_0x5214c6[_0x359585(0x336)]),_0x5214c6[_0x359585(0x6be)]&&await this[_0x359585(0xec)]['groupUpdateDescription'](_0x5214c6['groupJid'],_0x5214c6['description']),_0x5214c6[_0x359585(0x581)]){let _0x29be69;if((0x0,P[_0x359585(0x1f9)])(_0x5214c6[_0x359585(0x581)])){let _0x2eb10f=new Date()['getTime'](),_0x53e5fb=_0x5214c6['image']+_0x359585(0x65c)+_0x2eb10f;_0x29be69=(await Z[_0x359585(0x25e)][_0x359585(0x136)](_0x53e5fb,{'responseType':_0x359585(0x3ab)}))['data'];}else{if((0x0,P['isBase64'])(_0x5214c6[_0x359585(0x581)]))_0x29be69=Buffer[_0x359585(0x6aa)](_0x5214c6[_0x359585(0x581)],_0x359585(0x322));else throw new w('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}await this[_0x359585(0xec)][_0x359585(0x4d6)](_0x5214c6[_0x359585(0x5c6)],_0x29be69);}return await this[_0x359585(0xaa)]({'groupJid':_0x5214c6[_0x359585(0x5c6)]},_0x359585(0x6ce));}catch(_0x13472c){throw new I(_0x359585(0x603),_0x13472c[_0x359585(0x1ef)]());}}async[a0_0x57f064(0x401)](_0x4003ca){const _0x485512=a0_0x57f064;try{if(_0x4003ca[_0x485512(0x5db)]===_0x485512(0x555)||_0x4003ca[_0x485512(0x5db)]===_0x485512(0x174)){let _0x26f061=_0x4003ca[_0x485512(0x116)][_0x485512(0x3b7)](_0x57151e=>this['createJid'](_0x57151e));await this[_0x485512(0xec)]['groupRequestParticipantsUpdate'](_0x4003ca[_0x485512(0x5c6)],_0x26f061,_0x4003ca[_0x485512(0x5db)]);}else{let _0x433809=_0x4003ca[_0x485512(0x116)][_0x485512(0x3b7)](_0x459558=>this[_0x485512(0x5dc)](_0x459558));await this[_0x485512(0xec)][_0x485512(0x492)](_0x4003ca[_0x485512(0x5c6)],_0x433809,_0x4003ca['action']);}return await this[_0x485512(0xaa)]({'groupJid':_0x4003ca[_0x485512(0x5c6)]},'inner');}catch(_0x523768){throw new w(_0x485512(0x717),_0x523768[_0x485512(0x1ef)]());}}async[a0_0x57f064(0x239)](_0x3a007){const _0x1c9ef5=a0_0x57f064;try{return await this['client'][_0x1c9ef5(0x239)](_0x3a007[_0x1c9ef5(0x37c)]);}catch(_0x347abc){throw new I('Error\x20getting\x20invite\x20code\x20info',_0x347abc[_0x1c9ef5(0x1ef)]());}}async[a0_0x57f064(0xaa)](_0x37a9cd,_0x3a0f4a=a0_0x57f064(0x63e)){const _0x5e95ca=a0_0x57f064;try{let _0x194ec3=await this[_0x5e95ca(0xec)]['groupMetadata'](_0x37a9cd[_0x5e95ca(0x5c6)]),_0x173f39=[];try{_0x173f39=await this[_0x5e95ca(0xec)][_0x5e95ca(0x544)](_0x37a9cd[_0x5e95ca(0x5c6)]);}catch(_0xd2a67b){this[_0x5e95ca(0xd4)][_0x5e95ca(0xc2)](this[_0x5e95ca(0x45c)]+'\x20('+this[_0x5e95ca(0x5a4)][_0x5e95ca(0x5aa)]+_0x5e95ca(0x5c1)+_0x37a9cd[_0x5e95ca(0x5c6)]+':\x20'+(_0xd2a67b instanceof Error?_0xd2a67b['message']:JSON[_0x5e95ca(0x24b)](_0xd2a67b,null,0x2)));}let _0x28e109=null;try{_0x28e109=(await this[_0x5e95ca(0xcc)](_0x37a9cd[_0x5e95ca(0x5c6)],null,!0x0))['cachedContact']['pictureUrl'];}catch(_0x4ba63b){this[_0x5e95ca(0xd4)][_0x5e95ca(0xc2)](this[_0x5e95ca(0x45c)]+'\x20('+this[_0x5e95ca(0x5a4)][_0x5e95ca(0x5aa)]+_0x5e95ca(0x71d)+_0x37a9cd[_0x5e95ca(0x5c6)]+':\x20'+(_0x4ba63b instanceof Error?_0x4ba63b[_0x5e95ca(0x65a)]:JSON[_0x5e95ca(0x24b)](_0x4ba63b,null,0x2)));}let _0x408e6b=_0x194ec3['participants']['map'](_0x3b6895=>_0x3b6895['id']),_0x562640=_0x173f39['map'](_0x11b42f=>_0x11b42f[_0x5e95ca(0x726)]),_0x462dd0=await this['repository'][_0x5e95ca(0x134)][_0x5e95ca(0xa7)]([..._0x408e6b,..._0x562640]),_0x5c008f=_0x194ec3['participants'][_0x5e95ca(0x3b7)](_0xf37486=>{const _0x5b24cd=_0x5e95ca;let _0x1c0403=_0x462dd0[_0x5b24cd(0x5c8)](_0x20d3fd=>_0x20d3fd['_id']===_0xf37486['id']);return{'id':_0xf37486['id'],'status':_0xf37486[_0x5b24cd(0x698)]?_0xf37486[_0x5b24cd(0x698)]:'normal','pushName':_0x1c0403?.[_0x5b24cd(0x336)],'profilePictureUrl':_0x1c0403?.[_0x5b24cd(0x683)]};}),_0x395d70=_0x173f39[_0x5e95ca(0x3b7)](_0x19e446=>{const _0x28b7b0=_0x5e95ca;let _0x2a05ed=_0x462dd0[_0x28b7b0(0x5c8)](_0x3b485b=>_0x3b485b[_0x28b7b0(0x447)]===_0x19e446[_0x28b7b0(0x726)]);return{'id':_0x19e446[_0x28b7b0(0x726)],'status':_0x28b7b0(0x3ed),'pushName':_0x2a05ed?.[_0x28b7b0(0x336)],'profilePictureUrl':_0x2a05ed?.[_0x28b7b0(0x683)],'request_method':_0x19e446[_0x28b7b0(0x299)],'request_time':_0x19e446[_0x28b7b0(0x626)]};}),_0x2a7e6d=[..._0x5c008f,..._0x395d70];_0x194ec3[_0x5e95ca(0x116)]=_0x2a7e6d;let _0x4753e9=await this[_0x5e95ca(0x402)][_0x5e95ca(0x206)][_0x5e95ca(0x21a)]({'where':{'_id':_0x37a9cd['groupJid']}},{'imagechat':_0x28e109,'name':_0x194ec3[_0x5e95ca(0x154)],'group_size':_0x194ec3[_0x5e95ca(0x4d7)],'group_announce':_0x194ec3['announce'],'group_isCommunity':_0x194ec3['isCommunity'],'lastcache':Date[_0x5e95ca(0xa0)]()},this[_0x5e95ca(0x5a4)]['wuid']);return _0x4753e9&&q(this[_0x5e95ca(0x45c)],_0x5e95ca(0x5ee),{'chat':_0x4753e9}),{'metadata':_0x194ec3,'image':_0x28e109};}catch(_0x189695){if(_0x3a0f4a===_0x5e95ca(0x6ce))return;throw new L(_0x5e95ca(0x6af),_0x189695[_0x5e95ca(0x1ef)]());}}async[a0_0x57f064(0x181)](){const _0x40ac5c=a0_0x57f064;try{let _0x3845ce=await this[_0x40ac5c(0xec)][_0x40ac5c(0x414)](),_0x15ab9f=Object[_0x40ac5c(0x3ce)](_0x3845ce)[_0x40ac5c(0x4e4)](_0x4bf7cd=>(0x0,m[_0x40ac5c(0x2f8)])(_0x4bf7cd?.['id']))[_0x40ac5c(0x3b7)](async _0x573073=>{const _0x430626=_0x40ac5c;try{let _0x403cb0=await this['client'][_0x430626(0x341)](_0x573073['id'],_0x430626(0x47b)),_0x2fad93=await this[_0x430626(0xcc)](_0x573073['id'],_0x573073['subject'],!0x1),_0x5a29f9=_0x2fad93[_0x430626(0x2eb)][_0x430626(0x683)],_0x300638={'groupJid':_0x573073?.['id'],'subject':_0x573073?.[_0x430626(0x154)],'subjectOwner':_0x573073?.[_0x430626(0x2cb)]?.[_0x430626(0xc8)]('@')[0x0],'subjectTime':_0x573073?.[_0x430626(0x350)],'size':_0x573073?.[_0x430626(0x116)]?.[_0x430626(0x611)],'owner':_0x573073?.['owner']?.[_0x430626(0xc8)]('@')[0x0],'creation':_0x573073?.['creation'],'desc':_0x573073?.['desc'],'restrict':_0x573073?.[_0x430626(0x9e)],'announce':_0x573073?.[_0x430626(0xff)],'image':_0x5a29f9,'isCommunity':_0x573073?.[_0x430626(0x62d)],'joinApprovalMode':_0x573073?.[_0x430626(0x6e0)],'memberCanAddParticipant':_0x573073?.['memberAddMode']},_0x4e6bc0=await this['repository'][_0x430626(0x206)][_0x430626(0x21a)]({'where':{'_id':_0x573073?.['id']}},{'imagechat':_0x2fad93[_0x430626(0x2eb)]['pictureUrl'],'name':_0x573073?.[_0x430626(0x154)],'group_size':_0x573073?.[_0x430626(0x4d7)],'group_announce':_0x573073?.[_0x430626(0xff)],'group_isCommunity':_0x573073?.[_0x430626(0x62d)],'lastcache':Date[_0x430626(0xa0)]()},this['instance']['wuid']);return _0x4e6bc0&&q(this[_0x430626(0x45c)],_0x430626(0x5ee),{'chat':_0x4e6bc0}),_0x300638;}catch(_0x236433){return this['logger']['verbose'](this[_0x430626(0x45c)]+'\x20('+this[_0x430626(0x5a4)]['wuid']+'):\x20Erro\x20ao\x20processar\x20o\x20grupo\x20'+_0x573073['id']+':\x20'+(_0x236433 instanceof Error?_0x236433[_0x430626(0x65a)]:JSON[_0x430626(0x24b)](_0x236433,null,0x2))),null;}}),_0xb15052=(await Promise[_0x40ac5c(0x360)](_0x15ab9f))[_0x40ac5c(0x4e4)](_0x5dc4c7=>_0x5dc4c7!==null);return console[_0x40ac5c(0x71f)](_0xb15052[_0x40ac5c(0x611)]+'\x20chats\x20foram\x20atualizados.'),_0xb15052;}catch(_0x2adfcd){throw new L('Error\x20fetching\x20group',_0x2adfcd[_0x40ac5c(0x1ef)]());}}async['findGroups'](){const _0x20a3ba=a0_0x57f064;try{let _0x484ad3=[],_0x2229c7=await this[_0x20a3ba(0xec)][_0x20a3ba(0x414)](),_0x5e827b=Object[_0x20a3ba(0x3ce)](_0x2229c7),_0x3f7b22=_0x5e827b[_0x20a3ba(0x4e4)](_0x20c4fb=>(0x0,m[_0x20a3ba(0x2f8)])(_0x20c4fb?.['id']))[_0x20a3ba(0x3b7)](async _0x2ab1b8=>{const _0xa1241=_0x20a3ba;try{return await this['client'][_0xa1241(0x341)](_0x2ab1b8['id'],_0xa1241(0x47b));}catch(_0x2d22ef){return this[_0xa1241(0xd4)][_0xa1241(0xc2)](this['instanceName']+'\x20('+this[_0xa1241(0x5a4)][_0xa1241(0x5aa)]+_0xa1241(0x71d)+_0x2ab1b8['id']+':\x20'+(_0x2d22ef instanceof Error?_0x2d22ef['message']:JSON[_0xa1241(0x24b)](_0x2d22ef,null,0x2))),null;}}),_0x1fa41a=await Promise['all'](_0x3f7b22);for(let _0x309e79=0x0;_0x309e79<_0x5e827b[_0x20a3ba(0x611)];_0x309e79++){let _0x3b4145=_0x5e827b[_0x309e79];if((0x0,m[_0x20a3ba(0x2f8)])(_0x3b4145?.['id'])){_0x484ad3['push']({'groupJid':_0x3b4145?.['id'],'subject':_0x3b4145?.[_0x20a3ba(0x154)],'subjectOwner':_0x3b4145?.[_0x20a3ba(0x2cb)]?.[_0x20a3ba(0xc8)]('@')[0x0],'subjectTime':_0x3b4145?.[_0x20a3ba(0x350)],'size':_0x3b4145?.[_0x20a3ba(0x116)]?.[_0x20a3ba(0x611)],'owner':_0x3b4145?.['owner']?.[_0x20a3ba(0xc8)]('@')[0x0],'creation':_0x3b4145?.[_0x20a3ba(0x5ab)],'desc':_0x3b4145?.[_0x20a3ba(0x5be)],'restrict':_0x3b4145?.[_0x20a3ba(0x9e)],'announce':_0x3b4145?.[_0x20a3ba(0xff)],'image':_0x1fa41a[_0x309e79],'isCommunity':_0x3b4145?.[_0x20a3ba(0x62d)],'joinApprovalMode':_0x3b4145?.[_0x20a3ba(0x6e0)],'memberCanAddParticipant':_0x3b4145?.['memberAddMode']});let _0x5b9ef2=await this[_0x20a3ba(0x402)][_0x20a3ba(0x206)][_0x20a3ba(0x21a)]({'where':{'_id':_0x3b4145?.['id']}},{'imagechat':_0x1fa41a[_0x309e79],'name':_0x3b4145?.[_0x20a3ba(0x154)],'group_size':_0x3b4145?.[_0x20a3ba(0x4d7)],'group_announce':_0x3b4145?.[_0x20a3ba(0xff)],'group_isCommunity':_0x3b4145?.['isCommunity'],'lastcache':Date[_0x20a3ba(0xa0)]()},this[_0x20a3ba(0x5a4)][_0x20a3ba(0x5aa)]);_0x5b9ef2&&q(this[_0x20a3ba(0x45c)],_0x20a3ba(0x5ee),{'chat':_0x5b9ef2});}}return _0x484ad3;}catch(_0x233c26){throw new L(_0x20a3ba(0x6af),_0x233c26[_0x20a3ba(0x1ef)]());}}async['inviteCode'](_0x2487a7){const _0x571701=a0_0x57f064;try{let _0xbb6e04=await this[_0x571701(0xec)]['groupInviteCode'](_0x2487a7['groupJid']);return{'inviteUrl':_0x571701(0x1b4)+_0xbb6e04,'inviteCode':_0xbb6e04};}catch(_0x58bc1a){throw new L('No\x20invite\x20code',_0x58bc1a['toString']());}}async[a0_0x57f064(0x475)](_0x2ee1d2){const _0x3f4834=a0_0x57f064;try{let _0x41bb52=await this[_0x3f4834(0xec)][_0x3f4834(0x1e0)](_0x2ee1d2[_0x3f4834(0x5c6)]);return{'revoked':!0x0,'inviteUrl':_0x3f4834(0x1b4)+_0x41bb52,'inviteCode':_0x41bb52};}catch(_0x15ce61){throw new L('Revoke\x20error',_0x15ce61[_0x3f4834(0x1ef)]());}}async[a0_0x57f064(0x30c)](_0x21dd2e){const _0x349b40=a0_0x57f064;try{if((0x0,P['isURL'])(_0x21dd2e[_0x349b40(0x37c)]))var _0x2b77ac=_0x21dd2e['inviteCode']['split']('/')[0x3];else var _0x2b77ac=_0x21dd2e[_0x349b40(0x37c)];let _0x21b72f=await this[_0x349b40(0xec)][_0x349b40(0x6b3)](_0x2b77ac);return this[_0x349b40(0xd4)][_0x349b40(0xc2)](this[_0x349b40(0x45c)]+'\x20('+this[_0x349b40(0x5a4)][_0x349b40(0x5aa)]+_0x349b40(0x455)+_0x21b72f),{'join':!0x0,'inviteCode':_0x2b77ac,'groupJid':_0x21b72f};}catch(_0x265d89){throw new L(_0x349b40(0x5f6),_0x265d89[_0x349b40(0x1ef)]());}}async['findParticipants'](_0x323422){const _0x126b0b=a0_0x57f064;try{return{'participants':(await this['client']['groupMetadata'](_0x323422[_0x126b0b(0x5c6)]))[_0x126b0b(0x116)]};}catch(_0x35d98a){throw new L(_0x126b0b(0x686),_0x35d98a[_0x126b0b(0x1ef)]());}}async[a0_0x57f064(0x349)](_0x18050c){const _0x3991bd=a0_0x57f064;try{return await this[_0x3991bd(0xec)]['groupLeave'](_0x18050c[_0x3991bd(0x5c6)]),{'groupJid':_0x18050c[_0x3991bd(0x5c6)],'leave':!0x0};}catch(_0x481e4c){throw new w(_0x3991bd(0x68c),_0x481e4c[_0x3991bd(0x1ef)]());}}async[a0_0x57f064(0x13e)](_0x4e8f95){const _0x300475=a0_0x57f064;return await this[_0x300475(0x513)](_0x4e8f95[_0x300475(0x355)],{'poll':{'name':_0x4e8f95[_0x300475(0x13e)]?.[_0x300475(0x336)],'selectableCount':_0x4e8f95['pollMessage'][_0x300475(0x4e3)],'values':_0x4e8f95[_0x300475(0x13e)]['values']}},_0x4e8f95?.[_0x300475(0x5ef)]);}async['listMessage'](_0x2d7f14){const _0x1ed440=a0_0x57f064;return await this[_0x1ed440(0x513)](_0x2d7f14['number'],{'listMessage':{'title':_0x2d7f14['listMessage'][_0x1ed440(0x572)],'description':_0x2d7f14['listMessage'][_0x1ed440(0x6be)],'buttonText':_0x2d7f14[_0x1ed440(0x433)]?.['buttonText'],'footerText':_0x2d7f14[_0x1ed440(0x433)]?.[_0x1ed440(0x227)],'sections':_0x2d7f14[_0x1ed440(0x433)][_0x1ed440(0x170)],'listType':0x2}},_0x2d7f14?.[_0x1ed440(0x5ef)]);}async[a0_0x57f064(0x99)](_0x260def){const _0x33127e=a0_0x57f064;let _0x572db5;if(_0x260def['menuMessage'][_0x33127e(0x6eb)]===_0x33127e(0x713)){let _0x4cf9df=_0x260def['menuMessage'][_0x33127e(0x435)]['indexOf']('\x0a'),_0x24fb03='',_0x342719='';_0x4cf9df!==-0x1?(_0x24fb03=_0x260def['menuMessage'][_0x33127e(0x435)][_0x33127e(0x1d5)](0x0,_0x4cf9df)[_0x33127e(0x4a0)](),_0x342719=_0x260def[_0x33127e(0x99)][_0x33127e(0x435)]['substring'](_0x4cf9df+0x1)):_0x342719=_0x260def[_0x33127e(0x99)]['text'];let _0x420fa9=_0x260def['menuMessage'][_0x33127e(0x4eb)][_0x33127e(0x4e4)](_0x424156=>_0x424156[_0x33127e(0x4a0)]()!==''),_0x24ae4e=this[_0x33127e(0x1a6)](_0x420fa9);_0x572db5={'listMessage':{'title':_0x24fb03,'description':_0x342719,'buttonText':_0x260def[_0x33127e(0x99)][_0x33127e(0x1ca)]||_0x33127e(0x6ff),'footerText':_0x260def[_0x33127e(0x99)][_0x33127e(0x227)],'sections':_0x24ae4e,'listType':0x2}};}else{if(_0x260def[_0x33127e(0x99)]['type']===_0x33127e(0x56e)){let _0x11493d=_0x260def[_0x33127e(0x99)][_0x33127e(0x4eb)][_0x33127e(0x4e4)](_0x54ffd3=>!(_0x54ffd3[_0x33127e(0x52b)]('[')&&_0x54ffd3['endsWith'](']'))&&_0x54ffd3['trim']()!=='')[_0x33127e(0x3b7)](_0x85750d=>_0x85750d[_0x33127e(0xc8)]('\x0a')[0x0]);_0x572db5={'poll':{'name':_0x260def['menuMessage'][_0x33127e(0x435)],'selectableCount':_0x260def[_0x33127e(0x99)]['selectableCount']||0x1,'values':_0x11493d}};}}return await this[_0x33127e(0x513)](_0x260def[_0x33127e(0x355)],_0x572db5,_0x260def?.[_0x33127e(0x5ef)]);}[a0_0x57f064(0x1a6)](_0x6a70d2){const _0x216ada=a0_0x57f064;let _0x1f5efb=[],_0x2feff4={'rows':[]};return _0x6a70d2['forEach'](_0x5f319e=>{const _0x961f25=a0_0x2175;if(_0x5f319e[_0x961f25(0x52b)]('[')&&_0x5f319e['endsWith'](']'))_0x2feff4[_0x961f25(0x1ce)]['length']>0x0&&_0x1f5efb[_0x961f25(0x1e9)](_0x2feff4),_0x2feff4={'title':_0x5f319e['slice'](0x1,-0x1),'rows':[]};else{let _0x2a5d0e=_0x5f319e[_0x961f25(0xc8)]('\x0a')[_0x961f25(0x3b7)](_0x178a09=>_0x178a09[_0x961f25(0x4a0)]()),_0x8d8d97=_0x2a5d0e[0x0],_0x4a8034=_0x2a5d0e[0x1]||null,_0x3e337d=_0x2a5d0e[0x2]||_0x8d8d97;_0x2feff4[_0x961f25(0x1ce)]['push']({'title':_0x8d8d97,'description':_0x4a8034,'rowId':_0x3e337d});}}),_0x2feff4['rows'][_0x216ada(0x611)]>0x0&&_0x1f5efb[_0x216ada(0x1e9)](_0x2feff4),_0x1f5efb;}async[a0_0x57f064(0x533)](_0x227607,_0x363916){const _0x1df670=a0_0x57f064;if(await this[_0x1df670(0x18a)](_0x227607,!0x0)){let _0x190bb9={'where':{'_id':_0x227607['id']}},_0x8564ee={'status':[_0x363916['status']][0x0]};try{let _0xc9fba4=await this[_0x1df670(0x402)][_0x1df670(0x65a)][_0x1df670(0x712)](_0x190bb9,_0x8564ee,this[_0x1df670(0x5a4)]['wuid']);_0xc9fba4&&q(this[_0x1df670(0x45c)],_0x1df670(0x5b8),{'message':_0xc9fba4});}catch{}}}['sectionsToString'](_0x4bb6ad){const _0x5d981f=a0_0x57f064;let _0x5c27fe=[];return _0x4bb6ad[_0x5d981f(0x680)](_0x235770=>{const _0x24e1c9=_0x5d981f;_0x235770[_0x24e1c9(0x572)]&&_0x5c27fe[_0x24e1c9(0x1e9)]('['+_0x235770['title']+']'),_0x235770[_0x24e1c9(0x1ce)][_0x24e1c9(0x680)](_0x402cf7=>{const _0x1d96c4=_0x24e1c9;_0x5c27fe[_0x1d96c4(0x1e9)](_0x402cf7[_0x1d96c4(0x572)]);});}),_0x5c27fe[_0x5d981f(0x69e)]('|');}['formatVCard'](_0x3f5209){const _0x2781ba=a0_0x57f064;let _0x40ab42=_0x3f5209[_0x2781ba(0x5f7)](/\\n/g,'\x0a')[_0x2781ba(0xc8)]('\x0a')[_0x2781ba(0x4e4)](_0x4da953=>_0x4da953[_0x2781ba(0x613)](_0x2781ba(0x6ee))||_0x4da953[_0x2781ba(0x613)](_0x2781ba(0x4a1))),_0x17cd0d='';return _0x40ab42['forEach'](_0x4c278b=>{const _0x332b95=_0x2781ba;let _0x4fd791=/TEL(?:.*):(.+)/,_0x5a8e82=/EMAIL(?:.*):(.+)/,_0x4bd01c=_0x4c278b[_0x332b95(0x431)](_0x4fd791),_0x56cbe6=_0x4c278b[_0x332b95(0x431)](_0x5a8e82);if(_0x4bd01c){let _0x2ab0fa=_0x4bd01c[0x1][_0x332b95(0x5f7)](/-| |\+|\(|\)/g,'')[_0x332b95(0x4a0)]();_0x17cd0d+=_0x332b95(0x55b)+_0x2ab0fa+'\x0a';}else{if(_0x56cbe6){let _0x3e0dbf=_0x56cbe6[0x1]['trim']();_0x17cd0d+='E-mail:\x20'+_0x3e0dbf+'\x0a';}}}),_0x17cd0d[_0x2781ba(0x4a0)]();}async[a0_0x57f064(0x124)](_0x199de9,_0x264d24,_0x65801f){const _0x34ffeb=a0_0x57f064;if(!_0x199de9['ENABLED'])return;let _0x29f625=_0x264d24[_0x34ffeb(0x501)][_0x34ffeb(0x409)]['replace'](/:\d{1,2}@/g,'@'),_0xdd77da=_0x264d24[_0x34ffeb(0x501)][_0x34ffeb(0x3c1)],_0x2d2b69=_0x29f625[_0x34ffeb(0x4b7)]('@g.us'),_0x598aef=_0x264d24['message_normalized']?.[_0x34ffeb(0x435)]||_0x264d24[_0x34ffeb(0xcf)]?.[_0x34ffeb(0x6e5)]||_0x264d24[_0x34ffeb(0xcf)]?.[_0x34ffeb(0x51e)]||_0x264d24['message_normalized']?.[_0x34ffeb(0x336)],_0x2f38ca={'lastmsg':_0x264d24[_0x34ffeb(0x4ef)]||Date['now'](),'unreadcount':_0xdd77da?0x0:0x1,..._0xdd77da||_0x2d2b69?{}:{'name':_0x264d24[_0x34ffeb(0x28d)]},..._0x2d2b69?{'group':_0x2d2b69}:{},...!_0xdd77da&&!_0x2d2b69&&_0x264d24[_0x34ffeb(0x341)]?{'imagechat':_0x264d24[_0x34ffeb(0x341)]}:{}},_0x6453c5=await this[_0x34ffeb(0x402)][_0x34ffeb(0x206)][_0x34ffeb(0x21a)]({'where':{'_id':_0x29f625}},_0x2f38ca,this[_0x34ffeb(0x5a4)][_0x34ffeb(0x5aa)],{'new':!0x0,'upsert':!0x0});if(_0x6453c5['imported']){let _0x3fa962=await this['repository'][_0x34ffeb(0x400)]['find']({'where':{}},this[_0x34ffeb(0x5a4)]['wuid']),_0x1b26b6=new Set(_0x3fa962[_0x34ffeb(0x3b7)](_0x5308ec=>_0x5308ec[_0x34ffeb(0x447)])),_0x3bf224=(_0x6453c5['leadInfo']?.[_0x34ffeb(0x646)]||[])['filter'](_0x54ff7a=>_0x1b26b6[_0x34ffeb(0xdd)](_0x54ff7a)),_0x23c08c={'leadInfo.etiquetas':_0x3bf224,'imported':!0x1};_0x6453c5=await this[_0x34ffeb(0x402)][_0x34ffeb(0x206)]['updateOne']({'where':{'_id':_0x29f625}},_0x23c08c,this[_0x34ffeb(0x5a4)][_0x34ffeb(0x5aa)]);for(let _0xaac257 of _0x3bf224)await this[_0x34ffeb(0x619)](_0xaac257,_0x29f625);}if(!_0x2d2b69&&(!_0x6453c5?.['leadInfo']||!_0x6453c5[_0x34ffeb(0x4f5)]['nome'])&&_0x264d24[_0x34ffeb(0x28d)]&&!_0xdd77da&&(_0x6453c5=await this[_0x34ffeb(0x402)]['chat'][_0x34ffeb(0x21a)]({'where':{'_id':_0x29f625}},{'leadInfo.nome':_0x264d24['pushName']},this[_0x34ffeb(0x5a4)][_0x34ffeb(0x5aa)],{'new':!0x0,'upsert':!0x0})),_0x65801f===_0x34ffeb(0x6a6)&&_0xdd77da&&this[_0x34ffeb(0x6ea)]?.[_0x34ffeb(0x46f)][_0x34ffeb(0x5a9)]&&!_0x598aef[_0x34ffeb(0x52b)](this['AutomateSystem']?.[_0x34ffeb(0x46f)][_0x34ffeb(0x281)])){let _0x43d1c4=(this[_0x34ffeb(0x6ea)]?.[_0x34ffeb(0x46f)][_0x34ffeb(0x3c0)]||0x5)*0xea60,_0x3305d3=Date[_0x34ffeb(0xa0)]()+_0x43d1c4;_0x6453c5?.['leadInfo']?.['desativadoFluxoAte']===0x0||(await this[_0x34ffeb(0x402)]['chat'][_0x34ffeb(0x21a)]({'where':{'_id':_0x29f625}},{'leadInfo.desativadoFluxoAte':_0x3305d3},this['instance'][_0x34ffeb(0x5aa)],{'new':!0x0,'upsert':!0x1}),this[_0x34ffeb(0xd4)][_0x34ffeb(0xc2)](this[_0x34ffeb(0x45c)]+'\x20('+this[_0x34ffeb(0x5a4)]['wuid']+_0x34ffeb(0x742)+_0x3305d3+'.'));}if(_0x6453c5)q(this[_0x34ffeb(0x45c)],'chats',{'chat':_0x6453c5});else{this[_0x34ffeb(0xd4)][_0x34ffeb(0x3e1)](this[_0x34ffeb(0x45c)]+'\x20('+this[_0x34ffeb(0x5a4)][_0x34ffeb(0x5aa)]+_0x34ffeb(0x54f));return;}if(!this[_0x34ffeb(0x6ea)]?.[_0x34ffeb(0x46f)][_0x34ffeb(0x5a9)])return this[_0x34ffeb(0xd4)]['verbose'](this[_0x34ffeb(0x45c)]+'\x20('+this[_0x34ffeb(0x5a4)]['wuid']+'):\x20Flow\x20desativado'),null;if(_0x6453c5['_id'][_0x34ffeb(0x613)](_0x34ffeb(0xe7))&&this[_0x34ffeb(0x6ea)]?.[_0x34ffeb(0x46f)][_0x34ffeb(0x391)]===!0x0)return this['logger']['verbose'](this[_0x34ffeb(0x45c)]+'\x20('+this['instance'][_0x34ffeb(0x5aa)]+_0x34ffeb(0x569)),null;if(_0x6453c5[_0x34ffeb(0x4f5)]){if(_0x6453c5[_0x34ffeb(0x4f5)][_0x34ffeb(0x57a)]===0x0||_0x6453c5['leadInfo'][_0x34ffeb(0x21c)])return this[_0x34ffeb(0xd4)][_0x34ffeb(0xc2)](this[_0x34ffeb(0x45c)]+'\x20('+this['instance']['wuid']+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x29f625+_0x34ffeb(0x2d7)),null;if(_0x6453c5[_0x34ffeb(0x4f5)][_0x34ffeb(0x57a)]>Date['now']()&&!_0x264d24[_0x34ffeb(0xcf)]?.[_0x34ffeb(0x51e)])return this['logger'][_0x34ffeb(0xc2)](this['instanceName']+'\x20('+this[_0x34ffeb(0x5a4)][_0x34ffeb(0x5aa)]+_0x34ffeb(0x109)+new Date(_0x6453c5[_0x34ffeb(0x4f5)][_0x34ffeb(0x57a)])[_0x34ffeb(0x667)]()+_0x34ffeb(0x2d7)),null;}this[_0x34ffeb(0xd4)][_0x34ffeb(0xc2)](this[_0x34ffeb(0x45c)]+'\x20('+this['instance'][_0x34ffeb(0x5aa)]+_0x34ffeb(0x27b)),this['StartBot'](_0x65801f,_0x264d24);}async[a0_0x57f064(0x45b)](_0x5ec2ef,_0x370b7a){const _0x4c9449=a0_0x57f064;if(_0x370b7a[_0x4c9449(0x58d)]){let _0x16ed53=_0x5ec2ef[_0x4c9449(0x3b7)](async _0x1bbb59=>{const _0x29dfcd=_0x4c9449;try{let _0x7a8513={'_id':_0x1bbb59['_id'],'owner':_0x1bbb59[_0x29dfcd(0x129)],'lastcache':0x0};if(_0x1bbb59[_0x29dfcd(0x217)]!==null&&(_0x7a8513[_0x29dfcd(0x217)]=_0x1bbb59[_0x29dfcd(0x217)]),_0x1bbb59['name']!==null&&(_0x7a8513[_0x29dfcd(0x336)]=_0x1bbb59['name']),_0x1bbb59[_0x29dfcd(0x389)]!==null&&(_0x7a8513['contactname']=_0x1bbb59['contactname']),_0x1bbb59[_0x29dfcd(0x14a)]!==null&&(_0x7a8513['imagechat']=_0x1bbb59[_0x29dfcd(0x14a)]),_0x1bbb59[_0x29dfcd(0x14a)]===null&&(_0x7a8513[_0x29dfcd(0x14a)]=_0x29dfcd(0x171)),_0x1bbb59[_0x29dfcd(0x2c1)]!==null&&(_0x7a8513[_0x29dfcd(0x2c1)]=_0x1bbb59[_0x29dfcd(0x2c1)]),_0x1bbb59[_0x29dfcd(0x693)]!==null&&(_0x7a8513['archived']=_0x1bbb59[_0x29dfcd(0x693)]),_0x1bbb59[_0x29dfcd(0x4e9)]!==null&&(_0x7a8513[_0x29dfcd(0x4e9)]=_0x1bbb59[_0x29dfcd(0x4e9)]),Object[_0x29dfcd(0x571)](_0x7a8513)[_0x29dfcd(0x611)]>0x0)return await this[_0x29dfcd(0x402)]['chat']['updateOne']({'where':{'_id':_0x1bbb59[_0x29dfcd(0x447)]}},_0x7a8513,this[_0x29dfcd(0x5a4)][_0x29dfcd(0x5aa)]);}catch(_0x588e23){return console[_0x29dfcd(0x3e1)](_0x29dfcd(0x543)+_0x1bbb59[_0x29dfcd(0x447)]+':',_0x588e23),null;}}),_0x55c94d=(await Promise['all'](_0x16ed53))['filter'](_0x21f1ea=>_0x21f1ea!==null)['length'];this[_0x4c9449(0xd4)][_0x4c9449(0xc2)](this[_0x4c9449(0x45c)]+'\x20('+this['instance'][_0x4c9449(0x5aa)]+_0x4c9449(0x455)+_0x55c94d+_0x4c9449(0x5df)+this[_0x4c9449(0x5a4)][_0x4c9449(0x5aa)]+_0x4c9449(0x3b3));}}async[a0_0x57f064(0x1c4)](_0x5ec7bc){const _0x2d85e7=a0_0x57f064;this['logger'][_0x2d85e7(0xc2)](this[_0x2d85e7(0x45c)]+'\x20('+this[_0x2d85e7(0x5a4)][_0x2d85e7(0x5aa)]+_0x2d85e7(0x2b7));let _0x4b8b6c={'readMessages':[{'remoteJid':_0x5ec7bc[_0x2d85e7(0x121)][_0x2d85e7(0x307)][_0x2d85e7(0x501)][_0x2d85e7(0x409)],'fromMe':_0x5ec7bc[_0x2d85e7(0x121)][_0x2d85e7(0x307)][_0x2d85e7(0x501)][_0x2d85e7(0x3c1)],'id':_0x5ec7bc[_0x2d85e7(0x121)][_0x2d85e7(0x307)][_0x2d85e7(0x501)]['id']}]};await this[_0x2d85e7(0x3e6)](_0x4b8b6c);}async['StartBot'](_0x555065,_0x130243){const _0x3c8477=a0_0x57f064;try{let {key:_0x49018d,message_normalized:_0x976de2}=_0x130243,_0x1a1b13=_0x976de2,_0x3da3b2=_0x976de2['text']||_0x976de2[_0x3c8477(0x6e5)]||_0x976de2[_0x3c8477(0x51e)]||_0x976de2['name'],_0x2573b1=_0x49018d['remoteJid'],_0x6a3e4e;if(_0x1a1b13[_0x3c8477(0x501)][_0x3c8477(0x3c1)]&&_0x3da3b2[_0x3c8477(0x4a0)]()!==this[_0x3c8477(0x6ea)]?.[_0x3c8477(0x46f)][_0x3c8477(0x5f9)][_0x3c8477(0x4a0)]())return this[_0x3c8477(0xd4)][_0x3c8477(0xc2)](this[_0x3c8477(0x45c)]+'\x20('+this[_0x3c8477(0x5a4)]['wuid']+_0x3c8477(0x68b)),null;if(_0x1a1b13['key'][_0x3c8477(0x3c1)]&&_0x3da3b2['trim']()===this['AutomateSystem']?.[_0x3c8477(0x46f)][_0x3c8477(0x5f9)][_0x3c8477(0x4a0)]()){this[_0x3c8477(0xd4)]['verbose'](this['instanceName']+'\x20('+this[_0x3c8477(0x5a4)][_0x3c8477(0x5aa)]+_0x3c8477(0x1b0));let _0x495599=await this[_0x3c8477(0x402)][_0x3c8477(0x4cb)][_0x3c8477(0x5c8)]({'remoteJid':_0x2573b1,'status':'open'},this['instance']['wuid']);this[_0x3c8477(0xd4)]['verbose'](this[_0x3c8477(0x45c)]+'\x20('+this[_0x3c8477(0x5a4)][_0x3c8477(0x5aa)]+_0x3c8477(0x473)+_0x495599);let _0x21021b=Date[_0x3c8477(0xa0)](),_0xe3dd4e;return this['AutomateSystem']?.[_0x3c8477(0x46f)][_0x3c8477(0x466)]===0x0?_0xe3dd4e={'stoppedUntil':_0x21021b+0x7591f6200}:_0xe3dd4e={'stoppedUntil':_0x21021b+this[_0x3c8477(0x6ea)]?.[_0x3c8477(0x46f)][_0x3c8477(0x466)]*0x3c*0x3e8},this['logger'][_0x3c8477(0xc2)](this['instanceName']+'\x20('+this[_0x3c8477(0x5a4)][_0x3c8477(0x5aa)]+_0x3c8477(0x4aa)+_0xe3dd4e),this[_0x3c8477(0x6e6)](_0x6a3e4e,_0xe3dd4e[_0x3c8477(0x310)]),null;}if(_0x3da3b2&&_0x3da3b2[_0x3c8477(0x52b)](this['AutomateSystem']?.['flowConfig'][_0x3c8477(0x281)])&&_0x3da3b2[_0x3c8477(0x611)]>0x4){let _0x524668=await this[_0x3c8477(0x402)][_0x3c8477(0x525)]['findOne']({'where':{'startCommandWord':_0x3da3b2}},this[_0x3c8477(0x5a4)][_0x3c8477(0x5aa)]);if(this[_0x3c8477(0xd4)][_0x3c8477(0xc2)](this[_0x3c8477(0x45c)]+'\x20('+this[_0x3c8477(0x5a4)][_0x3c8477(0x5aa)]+_0x3c8477(0x1a3)),_0x524668)_0x6a3e4e=await this['createNewConversation'](_0x524668,_0x1a1b13[_0x3c8477(0x501)],_0x1a1b13);else return this['logger']['verbose'](this[_0x3c8477(0x45c)]+'\x20('+this[_0x3c8477(0x5a4)]['wuid']+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand'),null;}else _0x6a3e4e=await this['findConversation'](_0x2573b1,_0x1a1b13);if(_0x6a3e4e){this[_0x3c8477(0xd4)][_0x3c8477(0xc2)](this[_0x3c8477(0x45c)]+'\x20('+this[_0x3c8477(0x5a4)][_0x3c8477(0x5aa)]+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x49018d['fromMe']&&_0x6a3e4e['readMessages']&&this[_0x3c8477(0x1c4)](_0x6a3e4e);let _0x491283=await this[_0x3c8477(0x26a)](_0x6a3e4e);_0x491283&&await this[_0x3c8477(0x34c)](_0x6a3e4e,_0x491283);}}catch(_0x362d9f){this[_0x3c8477(0xd4)]['error'](this[_0x3c8477(0x45c)]+'\x20('+this[_0x3c8477(0x5a4)][_0x3c8477(0x5aa)]+_0x3c8477(0x340)+(_0x362d9f instanceof Error?_0x362d9f['message']:JSON[_0x3c8477(0x24b)](_0x362d9f,null,0x2)));}}[a0_0x57f064(0x1f2)](_0x15d667,_0x21081f='',_0x121287={},_0x3e3df3=!0x0){const _0x1a1579=a0_0x57f064;for(let _0x2c2eb1 in _0x15d667){let _0x45eba6=_0x3e3df3?'_'+_0x2c2eb1:''+_0x21081f+_0x2c2eb1;typeof _0x15d667[_0x2c2eb1]=='object'&&_0x15d667[_0x2c2eb1]!==null?this[_0x1a1579(0x1f2)](_0x15d667[_0x2c2eb1],_0x45eba6+'.',_0x121287,!0x1):_0x121287[_0x45eba6]=String(_0x15d667[_0x2c2eb1]);}return _0x121287;}[a0_0x57f064(0x5dd)](_0x362a9d){const _0x24defe=a0_0x57f064;let _0x4fa5b3={};for(let _0x29f168 of _0x362a9d)typeof _0x29f168[_0x24defe(0x336)]=='string'&&typeof _0x29f168[_0x24defe(0x16b)]=='string'&&(_0x4fa5b3[_0x29f168[_0x24defe(0x336)]]=_0x29f168[_0x24defe(0x16b)]);return _0x4fa5b3;}async['NextBlock'](_0x573297){const _0x1d413f=a0_0x57f064;if(!this['AutomateSystem']?.[_0x1d413f(0x46f)][_0x1d413f(0x5a9)]||_0x573297['status']!==_0x1d413f(0xf2)&&_0x573297[_0x1d413f(0x720)]==='')return null;let _0x2e4608=_0x573297['chatLog'][_0x1d413f(0x73a)]||_0x1d413f(0x61d);typeof _0x573297[_0x1d413f(0x121)][_0x1d413f(0x658)]>'u'&&(_0x573297['chatLog']['lastCondition']=!0x0);let _0x2ae7ed=_0x573297[_0x1d413f(0x121)][_0x1d413f(0x658)];this[_0x1d413f(0xd4)][_0x1d413f(0xc2)](this[_0x1d413f(0x45c)]+'\x20('+this[_0x1d413f(0x5a4)][_0x1d413f(0x5aa)]+_0x1d413f(0x196)+_0x2e4608+_0x1d413f(0x5c3)+_0x2ae7ed);let _0x3a9522=_0x2e4608==='start'?_0x573297['blocks'][_0x1d413f(0x5c8)](_0x1a3254=>_0x1a3254[_0x1d413f(0x6eb)]===_0x1d413f(0x61d)):_0x573297['blocks'][_0x1d413f(0x5c8)](_0x13ae6f=>_0x13ae6f[_0x1d413f(0x447)][_0x1d413f(0x1ef)]()===_0x2e4608[_0x1d413f(0x1ef)]());if(!_0x3a9522)return this[_0x1d413f(0xd4)][_0x1d413f(0x3e1)](this[_0x1d413f(0x45c)]+'\x20('+this['instance'][_0x1d413f(0x5aa)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x2e4608),null;let _0x5c1f3b={'_pushName':_0x573297[_0x1d413f(0x121)][_0x1d413f(0x307)][_0x1d413f(0x28d)],..._0x573297[_0x1d413f(0x121)]['realVariables']},_0x271863=null;if(_0x573297[_0x1d413f(0x720)]){let _0x42af11=_0x573297[_0x1d413f(0x121)][_0x1d413f(0x307)]['vote'],_0x5ecd2c=_0x573297[_0x1d413f(0x152)]['find'](_0x5df30b=>_0x5df30b[_0x1d413f(0x4e6)]===_0x42af11);if(_0x5ecd2c){let _0x81f387=_0x5ecd2c[_0x1d413f(0x37b)];if(_0x271863=_0x573297['blocks'][_0x1d413f(0x5c8)](_0x6ec10=>_0x6ec10[_0x1d413f(0x3bf)]===_0x81f387&&_0x6ec10['order']===0x1),_0x3a9522['uazapi']['pollOnReplyDelete']){let _0x4a9126={'id':_0x573297[_0x1d413f(0x720)],'remoteJid':_0x573297['remoteJid'],'fromMe':!0x0};await this[_0x1d413f(0xde)](_0x4a9126);}if(_0x3a9522[_0x1d413f(0x25d)][_0x1d413f(0x443)]&&_0x3a9522[_0x1d413f(0x25d)][_0x1d413f(0x353)]&&_0x3a9522[_0x1d413f(0x25d)]['menuType']==='poll'){let _0x1686da={'number':_0x573297['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x1d413f(0x148)+_0x573297[_0x1d413f(0x53c)]+'\x0a*Você\x20respondeu*:\x0a'+_0x42af11}};await this['textMessage'](_0x1686da);}_0x573297[_0x1d413f(0x5c7)]='open',_0x573297[_0x1d413f(0x720)]='',_0x573297[_0x1d413f(0x53c)]='',_0x573297[_0x1d413f(0x152)]=[];}else{this[_0x1d413f(0xd4)]['verbose'](this[_0x1d413f(0x45c)]+'\x20('+this[_0x1d413f(0x5a4)]['wuid']+_0x1d413f(0x1e5));let _0x5c37d4={'activatedCount':_0x573297['chatLog'][_0x1d413f(0x5a5)][_0x1d413f(0x4e4)](_0x3ef647=>String(_0x3ef647[_0x1d413f(0x526)])===String(_0x2e4608))[_0x1d413f(0x611)],'moreLogs':[_0x1d413f(0x559)]};if(_0x3a9522[_0x1d413f(0x25d)][_0x1d413f(0xd8)]){let _0x104fc0={'number':_0x573297[_0x1d413f(0x409)],'options':{'delay':0x0},'textMessage':{'text':_0x3a9522[_0x1d413f(0x25d)][_0x1d413f(0xd8)]}};await this[_0x1d413f(0x62c)](_0x104fc0);}if(_0x3a9522[_0x1d413f(0x1f8)]!==void 0x0&&_0x5c37d4[_0x1d413f(0x637)]>=_0x3a9522[_0x1d413f(0x1f8)]){let _0x1a0a1d=Date[_0x1d413f(0xa0)](),_0xfb0ae8=_0x3a9522[_0x1d413f(0xc9)]??0xa;isNaN(_0xfb0ae8)&&(_0xfb0ae8=0xa);let _0x2d3f86=_0x1a0a1d+_0xfb0ae8*0x3c*0x3e8;_0x5c37d4[_0x1d413f(0x599)]=_0x2d3f86,_0x5c37d4[_0x1d413f(0x418)]['push'](_0x1d413f(0x46b)),this[_0x1d413f(0x6e6)](_0x573297,_0x2d3f86),_0x573297[_0x1d413f(0x720)]='',_0x573297[_0x1d413f(0x53c)]='',_0x573297['waitingMenu_replyOptions']=[];}return this[_0x1d413f(0x3da)](_0x573297,_0x3a9522,_0x5c37d4,!0x0),null;}}if(_0x2ae7ed&&_0x3a9522[_0x1d413f(0x37b)]&&!_0x573297[_0x1d413f(0x720)]){let _0x22297c=_0x573297['blocks'][_0x1d413f(0x4e4)](_0x3fbb11=>_0x3fbb11[_0x1d413f(0x3bf)][_0x1d413f(0x1ef)]()===_0x3a9522[_0x1d413f(0x37b)][_0x1d413f(0x1ef)]())['sort']((_0x3f1d0d,_0x1943e5)=>_0x3f1d0d[_0x1d413f(0x4e5)]-_0x1943e5[_0x1d413f(0x4e5)]);_0x22297c['length']>0x0&&(_0x271863=_0x22297c[0x0]);}if(!_0x271863){let _0x52a989=_0x3a9522[_0x1d413f(0x3bf)],_0x41b038=_0x573297['blocks'][_0x1d413f(0x4e4)](_0x201820=>_0x201820[_0x1d413f(0x3bf)]===_0x52a989&&_0x201820[_0x1d413f(0x4e5)]>_0x3a9522[_0x1d413f(0x4e5)])[_0x1d413f(0x5fb)]((_0x335b97,_0x384322)=>_0x335b97[_0x1d413f(0x4e5)]-_0x384322['order']);_0x41b038[_0x1d413f(0x611)]>0x0&&(_0x271863=_0x41b038[0x0]);}if(!_0x271863)return _0x573297[_0x1d413f(0x5c7)]='closed',null;_0x573297['chatLog'][_0x1d413f(0x4d9)]=_0x5c1f3b;let _0x55cc3c=JSON[_0x1d413f(0xb8)](JSON[_0x1d413f(0x24b)](_0x271863));return this['replaceVariablesInObject'](_0x55cc3c,_0x573297[_0x1d413f(0x121)]['realVariables']),_0x573297[_0x1d413f(0x121)][_0x1d413f(0x73a)]=_0x55cc3c['_id'],_0x573297[_0x1d413f(0x121)][_0x1d413f(0x658)]=!0x0,_0x55cc3c;}[a0_0x57f064(0x213)](_0x463f4b,_0x358230){const _0x3518c3=a0_0x57f064;return _0x463f4b[_0x3518c3(0x5f7)](/\{\{([^}]+)\}\}/g,(_0x5264bc,_0x2288fd)=>_0x358230[_0x2288fd]||'');}[a0_0x57f064(0x267)](_0x36202d,_0x422cc8){const _0x242999=a0_0x57f064;for(let _0x3b1e2e in _0x36202d)typeof _0x36202d[_0x3b1e2e]=='string'?_0x36202d[_0x3b1e2e]=this[_0x242999(0x213)](_0x36202d[_0x3b1e2e],_0x422cc8):typeof _0x36202d[_0x3b1e2e]==_0x242999(0x6c8)&&this[_0x242999(0x267)](_0x36202d[_0x3b1e2e],_0x422cc8);}async['goNextblock'](_0x3b543e,_0x4b7ecc){const _0x5633e4=a0_0x57f064;let _0xa71db0=_0x4b7ecc['_id'];if(_0x3b543e['chatLog']&&_0x3b543e['chatLog'][_0x5633e4(0x5a5)]){let _0x1cb068=_0x3b543e[_0x5633e4(0x121)][_0x5633e4(0x5a5)][_0x5633e4(0x4e4)](_0xc2d23a=>String(_0xc2d23a[_0x5633e4(0x526)])===String(_0xa71db0))[_0x5633e4(0xb1)]();if(_0x1cb068&&_0x1cb068[_0x5633e4(0x3e1)]&&_0x4b7ecc[_0x5633e4(0x6b4)])return _0x3b543e[_0x5633e4(0x5c7)]=_0x5633e4(0x55c),await this[_0x5633e4(0x614)](_0x3b543e),null;}if(_0x4b7ecc[_0x5633e4(0x6eb)]===_0x5633e4(0x25d)&&_0x4b7ecc[_0x5633e4(0x25d)][_0x5633e4(0x10e)]==='sendPoll'&&_0x3b543e['waitingMenu_id'])return _0x3b543e[_0x5633e4(0x121)][_0x5633e4(0x73a)]=_0xa71db0,await this[_0x5633e4(0x614)](_0x3b543e),null;let _0x2aeb63=await this[_0x5633e4(0x26a)](_0x3b543e);if(_0x3b543e[_0x5633e4(0x121)]&&_0x3b543e[_0x5633e4(0x121)][_0x5633e4(0x5a5)]){let _0x1c9ef0=_0x3b543e[_0x5633e4(0x121)][_0x5633e4(0x5a5)][_0x5633e4(0x4e4)](_0x2381df=>String(_0x2381df['blockId'])===String(_0xa71db0))['length'];if(_0x4b7ecc[_0x5633e4(0x1f8)]!==void 0x0&&_0x1c9ef0>=_0x4b7ecc[_0x5633e4(0x1f8)]){let _0x593d9b=Date[_0x5633e4(0xa0)](),_0x4018a2=_0x4b7ecc[_0x5633e4(0xc9)]??0xa;isNaN(_0x4018a2)&&(_0x4018a2=0xa);let _0x42d2af=_0x593d9b+_0x4018a2*0x3c*0x3e8,_0x573f0f={'newStoppedUntil':_0x42d2af};return this[_0x5633e4(0x6e6)](_0x3b543e,_0x42d2af),this[_0x5633e4(0x3da)](_0x3b543e,_0x4b7ecc,_0x573f0f,!0x0),null;}}_0x2aeb63&&_0x2aeb63[_0x5633e4(0x6eb)]!==_0x5633e4(0x27d)&&await this[_0x5633e4(0x34c)](_0x3b543e,_0x2aeb63),_0x2aeb63||await this['saveConversationToDatabase'](_0x3b543e),_0x2aeb63&&_0x2aeb63[_0x5633e4(0x6eb)]===_0x5633e4(0x27d)&&(_0x3b543e['chatLog'][_0x5633e4(0x73a)]=_0xa71db0,await this[_0x5633e4(0x614)](_0x3b543e));}async[a0_0x57f064(0x34c)](_0x4195a1,_0x185a00){const _0x39084d=a0_0x57f064;try{let _0x4dbc9b=_0x185a00['type'];this['logger'][_0x39084d(0xc2)](this[_0x39084d(0x45c)]+'\x20('+this[_0x39084d(0x5a4)][_0x39084d(0x5aa)]+_0x39084d(0x2da)+_0x4dbc9b);let _0x1b94f9={'uazapi':()=>this[_0x39084d(0xe1)](_0x4195a1,_0x185a00),'save':()=>this['saveTextReply'](_0x4195a1,_0x185a00),'stop':()=>this[_0x39084d(0x5f9)](_0x4195a1,_0x185a00),'condition':()=>this[_0x39084d(0x2d6)](_0x4195a1,_0x185a00),'varedit':()=>this['processvaredits'](_0x4195a1,_0x185a00),'apirequest':()=>this[_0x39084d(0x1f1)](_0x4195a1,_0x185a00),'goToFlow':()=>this[_0x39084d(0x6cd)](_0x4195a1,_0x185a00)}[_0x4dbc9b];_0x1b94f9&&await _0x1b94f9();}catch(_0x3e87d6){this['logger'][_0x39084d(0x3e1)](this[_0x39084d(0x45c)]+'\x20('+this[_0x39084d(0x5a4)][_0x39084d(0x5aa)]+'):\x20Error\x20processing\x20the\x20block:\x20'+(_0x3e87d6 instanceof Error?_0x3e87d6[_0x39084d(0x65a)]:JSON[_0x39084d(0x24b)](_0x3e87d6,null,0x2)));}}async[a0_0x57f064(0x6cd)](_0x18a550,_0x5c8b08){const _0x465b24=a0_0x57f064;if(this[_0x465b24(0xd4)]['verbose'](this[_0x465b24(0x45c)]+'\x20('+this['instance'][_0x465b24(0x5aa)]+_0x465b24(0x11c)),!_0x18a550||!_0x5c8b08)return this[_0x465b24(0xd4)]['error'](this[_0x465b24(0x45c)]+'\x20('+this['instance'][_0x465b24(0x5aa)]+_0x465b24(0x6ab)),null;await this[_0x465b24(0x3da)](_0x18a550,_0x5c8b08,{},!0x0,!0x0),console['log'](_0x465b24(0x604)),console['log'](_0x5c8b08);let _0x5a08ad=_0x5c8b08[_0x465b24(0x6a8)];console['log'](_0x465b24(0x1bd),_0x5a08ad),_0x18a550=await this['createConversationforgoToFlow'](_0x5a08ad,_0x18a550[_0x465b24(0x409)],_0x18a550[_0x465b24(0x121)]['realVariables']),this['logger'][_0x465b24(0xc2)](this[_0x465b24(0x45c)]+'\x20('+this[_0x465b24(0x5a4)]['wuid']+_0x465b24(0x58b));let _0x2e581c=await this['NextBlock'](_0x18a550);_0x2e581c&&await this[_0x465b24(0x34c)](_0x18a550,_0x2e581c);}async[a0_0x57f064(0x71e)](_0x2f38d2,_0x53c836,_0x3b782c){const _0xbf6200=a0_0x57f064;this['logger'][_0xbf6200(0xc2)](this['instanceName']+'\x20('+this[_0xbf6200(0x5a4)]['wuid']+_0xbf6200(0x19d));try{if(_0x2f38d2=await this['repository'][_0xbf6200(0x525)][_0xbf6200(0x5a2)]({'where':{'name':_0x2f38d2}},this[_0xbf6200(0x5a4)][_0xbf6200(0x5aa)]),!_0x2f38d2)return this[_0xbf6200(0xd4)][_0xbf6200(0x3e1)](this['instanceName']+'\x20('+this[_0xbf6200(0x5a4)][_0xbf6200(0x5aa)]+_0xbf6200(0x335)),null;let _0x543353=require(_0xbf6200(0x728))[_0xbf6200(0x730)],_0xe1cee2=Date[_0xbf6200(0xa0)](),_0x1ecfb6=_0xbf6200(0x61d),_0x5d308b={},_0x56be32={},_0x3f7292={..._0x2f38d2,'chatLog':null},_0x290fea={'lastReceivedMessage':_0x5d308b,'lastSendMessage':_0x56be32,'lastBlockId':_0x1ecfb6,'lastCondition':!0x0,'realVariables':_0x3b782c};_0x3f7292[_0xbf6200(0x121)]=_0x290fea,_0x3f7292[_0xbf6200(0x121)][_0xbf6200(0x4d9)]={..._0x3b782c},delete _0x3f7292[_0xbf6200(0x447)],_0x3f7292[_0xbf6200(0x447)]=new _0x543353(),_0x3f7292[_0xbf6200(0x34a)]=_0xe1cee2,_0x3f7292[_0xbf6200(0x5c7)]=_0xbf6200(0xf2),_0x3f7292[_0xbf6200(0x409)]=_0x53c836;let _0xcd5477=await this[_0xbf6200(0x402)][_0xbf6200(0x4cb)][_0xbf6200(0x21a)](_0x3f7292[_0xbf6200(0x447)],_0x3f7292,this[_0xbf6200(0x5a4)][_0xbf6200(0x5aa)]);return this[_0xbf6200(0xd4)][_0xbf6200(0xc2)](this[_0xbf6200(0x45c)]+'\x20('+this['instance']['wuid']+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0xcd5477?_0x3f7292:null;}catch(_0x11b697){throw this[_0xbf6200(0xd4)][_0xbf6200(0x3e1)](this['instanceName']+'\x20('+this[_0xbf6200(0x5a4)][_0xbf6200(0x5aa)]+_0xbf6200(0x193)+(_0x11b697 instanceof Error?_0x11b697[_0xbf6200(0x65a)]:JSON['stringify'](_0x11b697,null,0x2))),new w(_0x11b697[_0xbf6200(0x65a)]);}}async[a0_0x57f064(0x1f1)](_0x285405,_0x5f40c3){const _0x678b18=a0_0x57f064;let _0x12bd90,_0x24ffdf;try{let _0x21f6d9=_0x5f40c3['apirequest'];if(!_0x21f6d9||!_0x21f6d9[_0x678b18(0x214)]||!_0x21f6d9[_0x678b18(0x531)])throw new Error(_0x678b18(0x69c));let _0x1e551f;([_0x678b18(0x2ea),_0x678b18(0x461),_0x678b18(0x327)][_0x678b18(0x345)](_0x5d955a=>_0x21f6d9['url'][_0x678b18(0x613)](_0x5d955a))||_0x21f6d9['requestFile'])&&(_0x1e551f=_0x678b18(0x3ab));let _0x851d6={'method':_0x21f6d9[_0x678b18(0x531)],'url':_0x21f6d9[_0x678b18(0x214)],'headers':_0x21f6d9['header']||{},'data':_0x21f6d9[_0x678b18(0x2b6)]||{},..._0x1e551f&&{'responseType':_0x1e551f}},_0x3bdc8f=await(0x0,Z[_0x678b18(0x25e)])(_0x851d6),_0x4cc076=_0x3bdc8f['headers'][_0x678b18(0x15d)];if(_0x4cc076&&_0x4cc076[_0x678b18(0x613)](_0x678b18(0x506))){_0x12bd90=_0x3bdc8f['data'];let _0x3f5a7f=_0x285405[_0x678b18(0x121)]['realVariables'],_0x454c85=this[_0x678b18(0x1f2)](_0x12bd90);return Object[_0x678b18(0x4fe)](_0x3f5a7f,_0x454c85),_0x285405['chatLog'][_0x678b18(0x4d9)]=_0x3f5a7f,_0x24ffdf={'error':!0x1,'apiResponse':_0x12bd90},this[_0x678b18(0x3da)](_0x285405,_0x5f40c3,_0x24ffdf),_0x12bd90;}if(_0x4cc076&&(_0x4cc076[_0x678b18(0x613)](_0x678b18(0x743))||_0x4cc076[_0x678b18(0x613)](_0x678b18(0x581))||_0x4cc076[_0x678b18(0x613)](_0x678b18(0x1aa))||_0x4cc076[_0x678b18(0x613)]('video'))){this[_0x678b18(0xd4)]['verbose'](this[_0x678b18(0x45c)]+'\x20('+this[_0x678b18(0x5a4)][_0x678b18(0x5aa)]+_0x678b18(0x1f3)+_0x4cc076);let _0x323b53=(0x0,Re['v4'])(),_0x3ee210='',_0x197264={'image/jpeg':_0x678b18(0x1fa),'image/png':'.png','image/gif':_0x678b18(0x139),'image/webp':_0x678b18(0x60a),'image/svg+xml':_0x678b18(0x5ff),'audio/mpeg':_0x678b18(0x4f4),'audio/ogg':_0x678b18(0x17c),'audio/wav':_0x678b18(0x5ce),'video/mp4':_0x678b18(0x58a),'video/webm':_0x678b18(0x5d9),'video/ogg':_0x678b18(0x70d),'text/plain':'.txt','application/pdf':_0x678b18(0x617),'application/msword':_0x678b18(0x155),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x678b18(0xae),'application/vnd.ms-excel':_0x678b18(0x512),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x678b18(0x17d),'application/vnd.ms-powerpoint':_0x678b18(0x45e),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x678b18(0x9c)};_0x197264[_0x4cc076]?(_0x3ee210=_0x197264[_0x4cc076],this['logger'][_0x678b18(0xc2)](this[_0x678b18(0x45c)]+'\x20('+this['instance'][_0x678b18(0x5aa)]+_0x678b18(0x519)+_0x3ee210)):(_0x3ee210=_0x678b18(0x689),this[_0x678b18(0xd4)][_0x678b18(0xc2)](this[_0x678b18(0x45c)]+'\x20('+this[_0x678b18(0x5a4)][_0x678b18(0x5aa)]+_0x678b18(0x32d)+_0x3ee210)),_0x323b53+=_0x3ee210,this[_0x678b18(0xd4)][_0x678b18(0xc2)](this['instanceName']+'\x20('+this[_0x678b18(0x5a4)]['wuid']+_0x678b18(0x205)+_0x323b53);let _0xc86e8e=this['configService'][_0x678b18(0x136)](_0x678b18(0x145))[_0x678b18(0x4f7)];if(!_0xc86e8e){let _0x38aafe=this[_0x678b18(0x228)][_0x678b18(0x136)](_0x678b18(0x4db));_0xc86e8e=_0x678b18(0x33f)+(_0x38aafe&&_0x38aafe[_0x678b18(0x57d)]['split']('/')[0x4]);}let _0xfc0dc=Buffer[_0x678b18(0x6aa)](_0x3bdc8f[_0x678b18(0x697)]);await this['saveMediaToFile'](_0xfc0dc,_0x323b53);let _0x27ee5b='/media/'+_0x323b53;_0x27ee5b=''+_0xc86e8e+_0x27ee5b,_0x12bd90={'fileUrl':_0x27ee5b},_0x285405[_0x678b18(0x121)][_0x678b18(0x4d9)][_0x678b18(0x59c)]=_0x27ee5b;let _0x584cc6=_0x285405['chatLog']['realVariables'],_0x5acc8d=this[_0x678b18(0x1f2)](_0x12bd90);return Object[_0x678b18(0x4fe)](_0x584cc6,_0x5acc8d),_0x285405[_0x678b18(0x121)][_0x678b18(0x4d9)]=_0x584cc6,_0x24ffdf={'error':!0x1,'apiResponse':{'fileUrl':_0x27ee5b}},this[_0x678b18(0x3da)](_0x285405,_0x5f40c3,_0x24ffdf),_0x12bd90;}}catch(_0x261c22){console[_0x678b18(0x3e1)](_0x678b18(0x6cf),_0x261c22),_0x261c22[_0x678b18(0x17b)]&&(_0x12bd90=_0x261c22[_0x678b18(0x17b)][_0x678b18(0x697)]);let _0x5159f3=_0x285405[_0x678b18(0x121)]['realVariables'],_0x372d25=this[_0x678b18(0x1f2)](_0x12bd90);return Object[_0x678b18(0x4fe)](_0x5159f3,_0x372d25),_0x285405[_0x678b18(0x121)]['realVariables']=_0x5159f3,_0x24ffdf={'error':!0x0,'errorLog':_0x261c22[_0x678b18(0x1ef)](),'apiResponse':_0x12bd90},this['updateConversation'](_0x285405,_0x5f40c3,_0x24ffdf),{'success':!0x1};}}['applyvaredit'](_0x5811f9,_0x46dc28){const _0x29da06=a0_0x57f064;let _0x13b51a=_0x153759=>{const _0x546540=a0_0x2175;let _0x53b257=_0x153759['replace'](/[^0-9.,-]/g,'')[_0x546540(0x5f7)](',','.'),_0x506bec=parseFloat(_0x53b257);return isNaN(_0x506bec)?null:_0x506bec;},_0x3e8885=_0x46dc28[_0x29da06(0x24a)],_0x416abe=_0x46dc28[_0x29da06(0x3c7)];typeof _0x3e8885==_0x29da06(0x72e)&&(_0x3e8885=this[_0x29da06(0x213)](_0x3e8885,_0x5811f9[_0x29da06(0x121)]['realVariables'])??''),typeof _0x416abe==_0x29da06(0x72e)&&(_0x416abe=this[_0x29da06(0x213)](_0x416abe,_0x5811f9[_0x29da06(0x121)][_0x29da06(0x4d9)])??'');let _0x25978d=null;if(!_0x46dc28['editOperator'])return null;switch(this[_0x29da06(0xd4)][_0x29da06(0xc2)](this[_0x29da06(0x45c)]+'\x20('+this[_0x29da06(0x5a4)][_0x29da06(0x5aa)]+_0x29da06(0x6d4)+_0x3e8885),this['logger'][_0x29da06(0xc2)](this[_0x29da06(0x45c)]+'\x20('+this[_0x29da06(0x5a4)][_0x29da06(0x5aa)]+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x416abe),_0x46dc28[_0x29da06(0x504)]){case'+':case'-':case'*':case'/':let _0x12f7e3=_0x13b51a(_0x3e8885||'0'),_0x1f8234=_0x13b51a(_0x416abe||'0');if(_0x12f7e3===null)return null;switch(_0x46dc28['editOperator']){case'+':_0x25978d=_0x12f7e3+(_0x1f8234??0x0);break;case'-':_0x25978d=_0x12f7e3-(_0x1f8234??0x0);break;case'*':_0x25978d=_0x12f7e3*(_0x1f8234??0x1);break;case'/':_0x1f8234!==0x0&&(_0x25978d=_0x12f7e3/(_0x1f8234??0x1));break;}break;case'findAndReplace':case _0x29da06(0x3c2):let _0x4ce68d=_0x416abe,_0x48615d=_0x46dc28[_0x29da06(0x141)];if(typeof _0x48615d==_0x29da06(0x72e)&&(_0x48615d=this[_0x29da06(0x213)](_0x48615d,_0x5811f9[_0x29da06(0x121)][_0x29da06(0x4d9)])??''),_0x4ce68d&&_0x48615d!==void 0x0){let _0x3c54f6=_0x46dc28[_0x29da06(0x504)]==='findAndReplace'?new RegExp(_0x4ce68d[_0x29da06(0x5f7)](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x4ce68d,'g');_0x25978d=_0x3e8885['replace'](_0x3c54f6,_0x48615d);}else console[_0x29da06(0x704)](_0x29da06(0x70a));break;case _0x29da06(0x457):_0x25978d=_0x416abe;break;case'extractRegex':let _0x5545d4=_0x3e8885[_0x29da06(0x431)](new RegExp(_0x416abe||''));_0x25978d=_0x5545d4?_0x5545d4[0x0]:'';break;case _0x29da06(0x629):_0x25978d=_0x3e8885[_0x29da06(0x5cd)](0x0,parseInt(_0x416abe||'0'));break;case'truncatedtoEnd':let _0xd88965=parseInt(_0x416abe||'0');_0x25978d=_0x3e8885[_0x29da06(0x5cd)](_0x3e8885[_0x29da06(0x611)]-_0xd88965);break;case _0x29da06(0x375):let _0x35f3dc=_0x13b51a(_0x3e8885),_0x207f97=parseInt(_0x416abe||'0');_0x207f97=Math[_0x29da06(0x381)](_0x207f97),_0x35f3dc!==null?_0x25978d=_0x35f3dc[_0x29da06(0x667)](_0x29da06(0x6bf),{'minimumFractionDigits':_0x207f97,'maximumFractionDigits':_0x207f97}):(console[_0x29da06(0x704)]('Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20'+_0x3e8885),_0x25978d=null);break;case _0x29da06(0x138):let _0x4633a3=_0x13b51a(_0x3e8885);_0x4633a3!==null?_0x25978d=_0x4633a3[_0x29da06(0x667)](_0x29da06(0x6bf),{'style':_0x29da06(0x34b),'currency':_0x29da06(0x5ac)}):(console[_0x29da06(0x704)]('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x3e8885),_0x25978d=null);break;case'upperCase':_0x25978d=_0x3e8885[_0x29da06(0x68e)]();break;case'lowerCase':_0x25978d=_0x3e8885[_0x29da06(0x1d4)]();break;case _0x29da06(0x38a):_0x25978d=_0x3e8885[_0x29da06(0xc8)]('\x20')[_0x29da06(0x3b7)](_0x2b0326=>_0x2b0326[_0x29da06(0x21d)](0x0)[_0x29da06(0x68e)]()+_0x2b0326[_0x29da06(0x5cd)](0x1)[_0x29da06(0x1d4)]())['join']('\x20');break;case _0x29da06(0x15e):_0x25978d=_0x3e8885[_0x29da06(0x4a0)]();break;default:_0x25978d=_0x3e8885;}return _0x25978d!==null?_0x25978d[_0x29da06(0x1ef)]():null;}async[a0_0x57f064(0x1ab)](_0x1b2d52,_0x5ce325){const _0x2c2332=a0_0x57f064;try{let _0x48bb7f=_0x1b2d52[_0x2c2332(0x709)]?.[_0x2c2332(0x4e4)](_0x1263c5=>_0x1263c5[_0x2c2332(0x526)]===_0x5ce325[_0x2c2332(0x447)]?.[_0x2c2332(0x1ef)]())||[],_0x47645c=_0x5ce325[_0x2c2332(0x5d4)],_0x1af9b4=null,_0x1c7db6=[],_0xe45165=_0x1b2d52[_0x2c2332(0x121)][_0x2c2332(0x4d9)][_0x47645c];_0x1c7db6[_0x2c2332(0x1e9)]('Valor\x20inicial:\x20\x22'+_0xe45165+'\x22');for(let _0x110663 of _0x48bb7f){_0x110663['firstValue']=_0xe45165,_0x1af9b4=_0x110663[_0x2c2332(0x24a)];let _0x5b9bdf;try{_0x5b9bdf=this['applyvaredit'](_0x1b2d52,_0x110663);}catch(_0x510f33){console[_0x2c2332(0x3e1)](_0x2c2332(0x18c)+_0x510f33[_0x2c2332(0x65a)]);continue;}if(_0x5b9bdf!==null){let _0x848959=_0x2c2332(0x6f0)+_0x110663[_0x2c2332(0x504)]+'\x22',_0x186269=['toBRL',_0x2c2332(0x150),'lowerCase','capitalizedWords',_0x2c2332(0x15e)];_0x110663['editOperator']==='findAndReplace'||_0x110663[_0x2c2332(0x504)]==='findAndReplaceRegex'?_0x848959+=_0x2c2332(0x666)+_0x110663[_0x2c2332(0x3c7)]+_0x2c2332(0x15a)+_0x110663['replaceValue']+'\x22':!_0x186269['includes'](_0x110663[_0x2c2332(0x504)])&&_0x110663[_0x2c2332(0x3c7)]!==null&&_0x110663[_0x2c2332(0x3c7)]!==void 0x0&&(_0x848959+=',\x20valor\x20passado:\x20\x22'+_0x110663[_0x2c2332(0x3c7)]+'\x22'),_0x848959+=_0x2c2332(0x410)+_0x5b9bdf+'.',_0x1c7db6[_0x2c2332(0x1e9)](_0x848959);}_0x5b9bdf!==null&&(_0xe45165=_0x5b9bdf);}if(_0x1b2d52[_0x2c2332(0x121)][_0x2c2332(0x4d9)]&&_0x5ce325[_0x2c2332(0x5d4)]){_0x1b2d52[_0x2c2332(0x121)]['realVariables'][_0x5ce325['saveVariable']]=_0xe45165;let _0x31e1cd={'variable':_0x5ce325['saveVariable'],'oldValue':_0x1af9b4,'newValue':_0xe45165,'moreLogs':_0x1c7db6};try{this[_0x2c2332(0x3da)](_0x1b2d52,_0x5ce325,_0x31e1cd);}catch(_0x3983fa){console['error'](_0x2c2332(0x319)+_0x3983fa[_0x2c2332(0x65a)]);}}return _0x47645c;}catch(_0xe431b6){return console['error'](_0x2c2332(0x63b)+_0xe431b6[_0x2c2332(0x65a)]),null;}}async['processConditions'](_0xda73e1,_0x5339f8){const _0x5219d8=a0_0x57f064;try{let _0x44bf1d=[],_0x126353=_0xda73e1['conditions'][_0x5219d8(0x4e4)](_0x1f269d=>_0x1f269d[_0x5219d8(0x526)]===_0x5339f8[_0x5219d8(0x447)][_0x5219d8(0x1ef)]()),_0x274a4c=null,_0x577376=!0x1;for(let _0x351479 of _0x126353){let _0x4f5c6c=this['evaluateCondition'](_0xda73e1,_0x351479);_0x44bf1d[_0x5219d8(0x1e9)](_0x5219d8(0xfd)+_0x351479[_0x5219d8(0x24a)]+',\x20Comparador:\x20'+_0x351479[_0x5219d8(0x6ad)]+_0x5219d8(0x3d3)+_0x351479['secondValue']+_0x5219d8(0x5e0)+_0x4f5c6c),_0x274a4c===null?_0x274a4c=_0x4f5c6c:_0x351479[_0x5219d8(0x22c)]==='and'?(_0x274a4c=_0x274a4c&&_0x4f5c6c,_0x4f5c6c||(_0x577376=!0x0)):_0x351479[_0x5219d8(0x22c)]==='or'&&(_0x577376||(_0x274a4c=_0x274a4c||_0x4f5c6c));}_0x274a4c===null&&(_0x274a4c=!0x0);let _0x5f30ce={'moreLogs':_0x44bf1d};_0xda73e1['chatLog'][_0x5219d8(0x658)]=_0x274a4c,await this[_0x5219d8(0x3da)](_0xda73e1,_0x5339f8,_0x5f30ce);}catch(_0xe6244a){this[_0x5219d8(0xd4)][_0x5219d8(0x3e1)](this[_0x5219d8(0x45c)]+'\x20('+this[_0x5219d8(0x5a4)][_0x5219d8(0x5aa)]+'):\x20Error\x20processing\x20conditions:\x20'+(_0xe6244a instanceof Error?_0xe6244a[_0x5219d8(0x65a)]:JSON[_0x5219d8(0x24b)](_0xe6244a,null,0x2)));}}[a0_0x57f064(0x5a1)](_0x2a43a3,_0x1f3408){const _0x59da6c=a0_0x57f064;let _0x5b4c42=_0x1f3408[_0x59da6c(0x24a)],_0x40a4d1=_0x1f3408[_0x59da6c(0x3c7)];typeof _0x5b4c42==_0x59da6c(0x72e)&&(_0x5b4c42=this[_0x59da6c(0x213)](_0x5b4c42,_0x2a43a3[_0x59da6c(0x121)]['realVariables'])??''),typeof _0x40a4d1==_0x59da6c(0x72e)&&(_0x40a4d1=this[_0x59da6c(0x213)](_0x40a4d1,_0x2a43a3['chatLog']['realVariables'])??'');try{switch(_0x1f3408[_0x59da6c(0x6ad)]){case _0x59da6c(0x607):return _0x5b4c42===_0x40a4d1;case _0x59da6c(0xa6):return _0x5b4c42!==_0x40a4d1;case'contains':return this['contains'](_0x5b4c42,_0x40a4d1);case _0x59da6c(0x13c):return!this[_0x59da6c(0x187)](_0x5b4c42,_0x40a4d1);case'greater':return parseFloat(_0x5b4c42)>parseFloat(_0x40a4d1);case'less':return parseFloat(_0x5b4c42)<parseFloat(_0x40a4d1);case'notEmpty':return _0x5b4c42!=='';case'empty':return _0x5b4c42==='';case _0x59da6c(0x56b):return new RegExp(_0x40a4d1)['test'](_0x5b4c42);case _0x59da6c(0x67f):return!new RegExp(_0x40a4d1)[_0x59da6c(0x624)](_0x5b4c42);default:return!0x1;}}catch(_0x39aa3a){return console[_0x59da6c(0x3e1)](_0x59da6c(0x2c4)+_0x39aa3a),!0x1;}}[a0_0x57f064(0x187)](_0x3b4b28,_0x4cdde5){const _0x1110bc=a0_0x57f064;if(_0x3b4b28===_0x4cdde5&&/^\d+$/[_0x1110bc(0x624)](_0x3b4b28))return!0x0;if(this[_0x1110bc(0x6b5)](_0x3b4b28)&&/^\d+$/[_0x1110bc(0x624)](_0x4cdde5)){let _0x2471f3=_0x3b4b28['split'](',')[_0x1110bc(0x3b7)](_0x4af990=>parseInt(_0x4af990[_0x1110bc(0x4a0)]())),_0x2204b3=parseInt(_0x4cdde5);return _0x2471f3['includes'](_0x2204b3);}return _0x3b4b28[_0x1110bc(0x613)](_0x4cdde5);}[a0_0x57f064(0x6b5)](_0x3ab213){const _0x5595dd=a0_0x57f064;return/^\d+(,\d+)*$/[_0x5595dd(0x624)](_0x3ab213);}[a0_0x57f064(0x454)](_0x31277b){const _0x4519be=a0_0x57f064;let _0x580c32=!0x0,_0xf0e16d=null;for(let _0xeaca2e of _0x31277b){let _0x51629e=this[_0x4519be(0x231)](_0xeaca2e);if(_0xf0e16d==='or'&&_0x51629e){_0x580c32=!0x0;break;}if(_0xf0e16d===_0x4519be(0x6dd)&&!_0x51629e){_0x580c32=!0x1;break;}_0xf0e16d=_0xeaca2e['OrAnd'];}return _0x580c32;}['evaluateConditionTest'](_0x45320a){const _0x578838=a0_0x57f064;let _0x22964d=_0x45320a[_0x578838(0x24a)],_0x3faf25=_0x45320a['secondValue'];try{switch(_0x45320a[_0x578838(0x6ad)]){case'equal':return String(_0x22964d)===String(_0x3faf25);case'notEqual':return String(_0x22964d)!==String(_0x3faf25);case _0x578838(0x187):return String(_0x22964d)[_0x578838(0x613)](String(_0x3faf25));case _0x578838(0x13c):return!String(_0x22964d)[_0x578838(0x613)](String(_0x3faf25));case'greater':return parseFloat(String(_0x22964d))>parseFloat(String(_0x3faf25));case _0x578838(0x517):return parseFloat(String(_0x22964d))<parseFloat(String(_0x3faf25));case _0x578838(0x4df):return String(_0x22964d)!=='';case _0x578838(0x69b):return String(_0x22964d)==='';case _0x578838(0x56b):return new RegExp(String(_0x3faf25))[_0x578838(0x624)](String(_0x22964d));case'notMatchRegex':return!new RegExp(String(_0x3faf25))['test'](String(_0x22964d));default:return!0x1;}}catch(_0x4325b0){return console[_0x578838(0x3e1)](_0x578838(0x2c4)+_0x4325b0),!0x1;}}async[a0_0x57f064(0x627)](_0x353657,_0x2b529e){const _0x434214=a0_0x57f064;if(this[_0x434214(0xd4)][_0x434214(0xc2)](this[_0x434214(0x45c)]+'\x20('+this[_0x434214(0x5a4)][_0x434214(0x5aa)]+_0x434214(0x2d5)),!_0x353657||!_0x2b529e)return this['logger']['error'](this[_0x434214(0x45c)]+'\x20('+this[_0x434214(0x5a4)]['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x46c883=_0x2b529e['saveVariable'],_0x326f33=_0x353657[_0x434214(0x121)][_0x434214(0x307)][_0x434214(0x435)]||_0x353657['chatLog'][_0x434214(0x307)][_0x434214(0x6e5)]||_0x353657[_0x434214(0x121)][_0x434214(0x307)]['vote'];try{_0x353657[_0x434214(0x121)][_0x434214(0x4d9)]||(_0x353657[_0x434214(0x121)]['realVariables']={});let _0x316c89=_0x353657['chatLog'][_0x434214(0x4d9)][_0x46c883];_0x353657[_0x434214(0x121)][_0x434214(0x4d9)][_0x46c883]=_0x326f33;let _0x506500={'variable':_0x46c883,'oldValue':_0x316c89,'newValue':_0x326f33};this[_0x434214(0x3da)](_0x353657,_0x2b529e,_0x506500),this['logger'][_0x434214(0xc2)](this[_0x434214(0x45c)]+'\x20('+this['instance'][_0x434214(0x5aa)]+_0x434214(0x1d6));}catch(_0x2aa53c){let _0x14ea19={'error':!0x0,'errorLog':_0x2aa53c['toString']()};return this[_0x434214(0x3da)](_0x353657,_0x2b529e,_0x14ea19),this[_0x434214(0xd4)][_0x434214(0x3e1)](this[_0x434214(0x45c)]+'\x20('+this[_0x434214(0x5a4)]['wuid']+_0x434214(0x13b)+(_0x2aa53c instanceof Error?_0x2aa53c['message']:JSON[_0x434214(0x24b)](_0x2aa53c,null,0x2))),null;}}async[a0_0x57f064(0x5f9)](_0x3898a4,_0xe4627d){const _0x16dda9=a0_0x57f064;if(this[_0x16dda9(0xd4)]['verbose'](this[_0x16dda9(0x45c)]+'\x20('+this['instance'][_0x16dda9(0x5aa)]+_0x16dda9(0x1d2)),!_0x3898a4||!_0xe4627d)return this[_0x16dda9(0xd4)]['error'](this['instanceName']+'\x20('+this[_0x16dda9(0x5a4)]['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x2b25a7=Date[_0x16dda9(0xa0)](),_0x2decfd=parseInt(_0xe4627d[_0x16dda9(0x466)],0xa);if(isNaN(_0x2decfd))return this[_0x16dda9(0xd4)][_0x16dda9(0x3e1)](this[_0x16dda9(0x45c)]+'\x20('+this[_0x16dda9(0x5a4)][_0x16dda9(0x5aa)]+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número'),null;let _0x3e35f6={'newStoppedUntil':_0x2b25a7+_0x2decfd*0x3c*0x3e8};return await this[_0x16dda9(0x3da)](_0x3898a4,_0xe4627d,_0x3e35f6,!0x0),null;}async[a0_0x57f064(0xe1)](_0x56e9d9,_0x1d3c78){const _0x40f2cd=a0_0x57f064;try{switch(_0x1d3c78[_0x40f2cd(0x25d)][_0x40f2cd(0x10e)]){case _0x40f2cd(0x97):await this['uazapiSendText'](_0x56e9d9,_0x1d3c78);break;case _0x40f2cd(0xb0):await this[_0x40f2cd(0x1a1)](_0x56e9d9,_0x1d3c78);break;case'sendLocation':await this[_0x40f2cd(0x47e)](_0x56e9d9,_0x1d3c78);break;case'sendAudio':await this['uazapiSendAudio'](_0x56e9d9,_0x1d3c78);break;case _0x40f2cd(0x497):await this['uazapiSendContact'](_0x56e9d9,_0x1d3c78);break;case _0x40f2cd(0x741):await this[_0x40f2cd(0x43b)](_0x56e9d9,_0x1d3c78);break;case _0x40f2cd(0x3db):await this[_0x40f2cd(0x43b)](_0x56e9d9,_0x1d3c78);break;case'deleteMessage':await this[_0x40f2cd(0x656)](_0x56e9d9,_0x1d3c78);break;default:this['logger']['error'](this[_0x40f2cd(0x45c)]+'\x20('+this[_0x40f2cd(0x5a4)][_0x40f2cd(0x5aa)]+_0x40f2cd(0x222)+_0x1d3c78['uazapi'][_0x40f2cd(0x10e)]);}}catch(_0x55dc53){this[_0x40f2cd(0xd4)]['error'](this['instanceName']+'\x20('+this['instance'][_0x40f2cd(0x5aa)]+_0x40f2cd(0x6ba)+(_0x55dc53 instanceof Error?_0x55dc53['message']:JSON['stringify'](_0x55dc53,null,0x2)));}}async['updateConversation'](_0x268cc4,_0x2f2950,_0x5de301,_0x2a75a7=!0x1,_0x38185c=!0x1){const _0x2dfc29=a0_0x57f064;_0x268cc4[_0x2dfc29(0x121)]['blockLogs']||(_0x268cc4[_0x2dfc29(0x121)][_0x2dfc29(0x5a5)]=[]);let _0x4ecaf7=(_0x268cc4[_0x2dfc29(0x121)][_0x2dfc29(0x5a5)]?.[_0x2dfc29(0x611)]??0x0)+0x1,_0x1d0a9b=_0x268cc4[_0x2dfc29(0x121)][_0x2dfc29(0x5a5)]['filter'](_0x51f72b=>String(_0x51f72b['blockId'])===String(_0x2f2950[_0x2dfc29(0x447)]))[_0x2dfc29(0x611)]+0x1,_0x3e2029=_0x5de301?.[_0x2dfc29(0x442)]??Date[_0x2dfc29(0xa0)](),_0x4adab2=_0x5de301?.['error']?_0x5de301[_0x2dfc29(0x48f)]??_0x5de301[_0x2dfc29(0x3e1)]['toString']():void 0x0,_0x46bf72={'onTime':_0x3e2029,'blockId':_0x2f2950['_id'],'order':_0x4ecaf7,'activatedCount':_0x1d0a9b,'error':_0x5de301?.[_0x2dfc29(0x3e1)]??!0x1,'messageId':_0x5de301?.[_0x2dfc29(0x2fd)],'apiResponse':_0x5de301?.['apiResponse'],'apiResponseString':_0x5de301?.[_0x2dfc29(0x6f4)]?JSON['stringify'](_0x5de301?.[_0x2dfc29(0x6f4)]):void 0x0,'variable':_0x5de301?.['variable'],'oldValue':_0x5de301?.[_0x2dfc29(0x595)],'newValue':_0x5de301?.[_0x2dfc29(0x2b4)],'newStoppedUntil':_0x5de301?.['newStoppedUntil'],'moreLogs':_0x5de301?.[_0x2dfc29(0x418)],'errorLog':_0x4adab2};if(_0x5de301[_0x2dfc29(0x418)]&&_0x5de301['moreLogs'][_0x2dfc29(0x611)]>0x0){let _0x2608dd=_0x5de301[_0x2dfc29(0x418)][_0x2dfc29(0x3b7)](_0xb3f27a=>this[_0x2dfc29(0x62e)](_0xb3f27a,_0x268cc4[_0x2dfc29(0x121)][_0x2dfc29(0x4d9)]));_0x46bf72[_0x2dfc29(0x418)]=_0x2608dd;}_0x268cc4[_0x2dfc29(0x121)][_0x2dfc29(0x4d9)]||(_0x268cc4[_0x2dfc29(0x121)][_0x2dfc29(0x4d9)]={}),_0x268cc4['chatLog']['realVariables'][_0x2dfc29(0x46a)]=String(_0x1d0a9b),_0x268cc4[_0x2dfc29(0x121)][_0x2dfc29(0x4d9)][_0x2dfc29(0x98)]=String(_0x5de301['error']??!0x1),_0x268cc4[_0x2dfc29(0x121)]['blockLogs'][_0x2dfc29(0x1e9)](_0x46bf72),_0x268cc4[_0x2dfc29(0x121)][_0x2dfc29(0x73a)]=_0x2f2950[_0x2dfc29(0x447)][_0x2dfc29(0x1ef)](),_0x268cc4[_0x2dfc29(0x121)][_0x2dfc29(0x346)]&&(_0x268cc4[_0x2dfc29(0x121)][_0x2dfc29(0x346)]=_0x268cc4[_0x2dfc29(0x121)][_0x2dfc29(0x346)]),_0x268cc4[_0x2dfc29(0x121)]['lastReceivedMessage']&&(_0x268cc4['chatLog'][_0x2dfc29(0x307)]=_0x268cc4[_0x2dfc29(0x121)][_0x2dfc29(0x307)]),_0x268cc4[_0x2dfc29(0x121)][_0x2dfc29(0x658)]&&(_0x268cc4[_0x2dfc29(0x121)][_0x2dfc29(0x658)]=_0x268cc4[_0x2dfc29(0x121)]['lastCondition']),_0x38185c&&(_0x268cc4[_0x2dfc29(0x5c7)]=_0x2dfc29(0x55c)),_0x2a75a7?this[_0x2dfc29(0x614)](_0x268cc4):this[_0x2dfc29(0x4a4)](_0x268cc4,_0x2f2950);}[a0_0x57f064(0x62e)](_0x5680ad,_0x37db8d){const _0x3730ef=a0_0x57f064;return _0x5680ad[_0x3730ef(0x5f7)](/\{\{([^}]+)\}\}/g,(_0x1d10b7,_0x157dbd)=>_0x37db8d[_0x157dbd]?'{{'+_0x157dbd+_0x3730ef(0x606)+_0x37db8d[_0x157dbd]+'\x22':'{{'+_0x157dbd+_0x3730ef(0x352));}async['saveConversationToDatabase'](_0x51d792){const _0x1f4ef5=a0_0x57f064;try{let _0x5272bf=Object['entries'](_0x51d792['chatLog']['realVariables'])['map'](([_0x772244,_0x4faf4e])=>({'name':_0x772244,'value':_0x4faf4e})),_0x2aea12={'status':_0x51d792[_0x1f4ef5(0x5c7)],'blocks':_0x51d792[_0x1f4ef5(0x269)],'waitingMenu_id':_0x51d792[_0x1f4ef5(0x720)],'waitingMenu_text':_0x51d792[_0x1f4ef5(0x53c)],'waitingMenu_replyOptions':_0x51d792['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x51d792[_0x1f4ef5(0x121)][_0x1f4ef5(0x73a)],'lastSendMessage':_0x51d792[_0x1f4ef5(0x121)][_0x1f4ef5(0x346)],'lastReceivedMessage':_0x51d792['chatLog'][_0x1f4ef5(0x307)],'lastCondition':_0x51d792['chatLog']['lastCondition'],'chatVariables':_0x5272bf,'realVariables':_0x51d792[_0x1f4ef5(0x121)][_0x1f4ef5(0x4d9)],'blockLogs':_0x51d792[_0x1f4ef5(0x121)]['blockLogs']}},_0x5d7c0c=await this[_0x1f4ef5(0x402)][_0x1f4ef5(0x4cb)][_0x1f4ef5(0x21a)](_0x51d792[_0x1f4ef5(0x447)],_0x2aea12,this[_0x1f4ef5(0x5a4)][_0x1f4ef5(0x5aa)]);if(_0x5d7c0c){this[_0x1f4ef5(0xd4)][_0x1f4ef5(0xc2)](this[_0x1f4ef5(0x45c)]+'\x20('+this['instance']['wuid']+_0x1f4ef5(0x2d9)+_0x5d7c0c[_0x1f4ef5(0x447)]);try{let _0x4db552=['nome','nomecompleto','email',_0x1f4ef5(0x72c),_0x1f4ef5(0x5c7),_0x1f4ef5(0x43f),'responsavelid',_0x1f4ef5(0x485),'etiquetas'];if(!this['AutomateSystem']&&(await this[_0x1f4ef5(0x5b2)](),!this[_0x1f4ef5(0x6ea)]))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x59585b=this['AutomateSystem']?.[_0x1f4ef5(0xef)][_0x1f4ef5(0x3b7)](_0x1c92ae=>_0x1c92ae[_0x1f4ef5(0x336)]),_0x5ce801={};Object[_0x1f4ef5(0x252)](_0x51d792['chatLog'][_0x1f4ef5(0x4d9)])[_0x1f4ef5(0x680)](([_0x1d61d2,_0x5aa8ed])=>{const _0xf8193b=_0x1f4ef5;_0x4db552[_0xf8193b(0x613)](_0x1d61d2)&&(_0x1d61d2===_0xf8193b(0x485)&&typeof _0x5aa8ed=='string'?_0x5ce801[_0x1d61d2]=_0x5aa8ed['split'](',')['map'](_0x2fff96=>_0x2fff96[_0xf8193b(0x4a0)]())[_0xf8193b(0x4e4)](_0xa12570=>_0xa12570!==''):_0x1d61d2==='etiquetas'&&typeof _0x5aa8ed==_0xf8193b(0x72e)?_0x5ce801[_0x1d61d2]=_0x5aa8ed[_0xf8193b(0xc8)](',')[_0xf8193b(0x3b7)](_0x5bf15f=>_0x5bf15f[_0xf8193b(0x4a0)]())[_0xf8193b(0x4e4)](_0x39a07c=>_0x39a07c!==''):_0x5ce801[_0x1d61d2]=_0x5aa8ed);});let _0x3c9994=_0x51d792[_0x1f4ef5(0x121)][_0x1f4ef5(0x5a5)][_0x51d792[_0x1f4ef5(0x121)][_0x1f4ef5(0x5a5)][_0x1f4ef5(0x611)]-0x1];if(_0x3c9994){let _0x90367c=_0x3c9994[_0x1f4ef5(0x599)];_0x90367c!==void 0x0&&(_0x5ce801[_0x1f4ef5(0x57a)]=_0x90367c[_0x1f4ef5(0x1ef)]());}let _0x2fea8d=_0x5272bf[_0x1f4ef5(0x4e4)](_0x320f0c=>_0x59585b[_0x1f4ef5(0x613)](_0x320f0c[_0x1f4ef5(0x336)]));this[_0x1f4ef5(0xd4)]['verbose'](this['instanceName']+'\x20('+this[_0x1f4ef5(0x5a4)][_0x1f4ef5(0x5aa)]+_0x1f4ef5(0x120)),this[_0x1f4ef5(0xd4)][_0x1f4ef5(0xc2)](_0x5ce801),this['logger']['verbose'](this[_0x1f4ef5(0x45c)]+'\x20('+this[_0x1f4ef5(0x5a4)][_0x1f4ef5(0x5aa)]+_0x1f4ef5(0x655)),this['logger']['verbose'](_0x2fea8d);let _0x2c9955=_0x2fea8d[_0x1f4ef5(0x3b7)](_0x58112d=>{const _0x131d2a=_0x1f4ef5;let _0xa6c88b=this['AutomateSystem']?.[_0x131d2a(0xef)][_0x131d2a(0x5c8)](_0x5cbbe6=>_0x5cbbe6[_0x131d2a(0x336)]===_0x58112d[_0x131d2a(0x336)]);if(!_0xa6c88b)throw new Error(_0x131d2a(0x4da)+_0x58112d['name']);return{'_id':_0xa6c88b['_id'],'value':_0x58112d[_0x131d2a(0x16b)]};});this['logger'][_0x1f4ef5(0xc2)](this[_0x1f4ef5(0x45c)]+'\x20('+this['instance'][_0x1f4ef5(0x5aa)]+'):\x20transformedCustomFieldVariables'),this[_0x1f4ef5(0xd4)][_0x1f4ef5(0xc2)](_0x2c9955),await this['saveChatVariables'](_0x51d792[_0x1f4ef5(0x409)],_0x5ce801,_0x2c9955);}catch(_0x105289){this['logger'][_0x1f4ef5(0x3e1)](this[_0x1f4ef5(0x45c)]+'\x20('+this[_0x1f4ef5(0x5a4)][_0x1f4ef5(0x5aa)]+_0x1f4ef5(0x288)+(_0x105289 instanceof Error?_0x105289[_0x1f4ef5(0x65a)]:JSON[_0x1f4ef5(0x24b)](_0x105289,null,0x2)));}}else this[_0x1f4ef5(0xd4)][_0x1f4ef5(0x3e1)](this[_0x1f4ef5(0x45c)]+'\x20('+this[_0x1f4ef5(0x5a4)]['wuid']+_0x1f4ef5(0x4c0));}catch(_0x1199d0){this[_0x1f4ef5(0xd4)][_0x1f4ef5(0x3e1)](this[_0x1f4ef5(0x45c)]+'\x20('+this[_0x1f4ef5(0x5a4)][_0x1f4ef5(0x5aa)]+_0x1f4ef5(0xe4)+(_0x1199d0 instanceof Error?_0x1199d0[_0x1f4ef5(0x65a)]:JSON[_0x1f4ef5(0x24b)](_0x1199d0,null,0x2)));}}async[a0_0x57f064(0x28b)](_0x404415,_0x372b94,_0x566988){const _0x1c5dc0=a0_0x57f064;try{let _0x46098b={'leadInfo.leadnome':_0x372b94[_0x1c5dc0(0x539)],'leadInfo.nomecompleto':_0x372b94[_0x1c5dc0(0xd5)],'leadInfo.email':_0x372b94[_0x1c5dc0(0x242)],'leadInfo.cpf':_0x372b94[_0x1c5dc0(0x72c)],'leadInfo.status':_0x372b94[_0x1c5dc0(0x5c7)],'leadInfo.notas':_0x372b94['notas'],'leadInfo.responsavelid':_0x372b94['responsavelid'],'leadInfo.tags':_0x372b94[_0x1c5dc0(0x485)],'leadInfo.etiquetas':_0x372b94[_0x1c5dc0(0x646)],'leadInfo.customFields':_0x566988},_0x3a3763=await this[_0x1c5dc0(0x402)][_0x1c5dc0(0x206)][_0x1c5dc0(0x5a2)]({'where':{'_id':_0x404415}},this[_0x1c5dc0(0x5a4)][_0x1c5dc0(0x5aa)]),_0x38d54a=new Set(_0x3a3763['leadInfo'][_0x1c5dc0(0x646)]||[]),_0x54e0a5=new Set(_0x372b94[_0x1c5dc0(0x646)]||[]),_0x4e5ce0=await this[_0x1c5dc0(0x402)][_0x1c5dc0(0x400)][_0x1c5dc0(0x5c8)]({'where':{}},this[_0x1c5dc0(0x5a4)][_0x1c5dc0(0x5aa)]),_0x4bd99e=new Set(_0x4e5ce0[_0x1c5dc0(0x3b7)](_0x32334c=>_0x32334c[_0x1c5dc0(0x447)])),_0x11597b=[..._0x54e0a5][_0x1c5dc0(0x4e4)](_0x120b3e=>!_0x38d54a[_0x1c5dc0(0xdd)](_0x120b3e)&&_0x4bd99e[_0x1c5dc0(0xdd)](_0x120b3e)),_0x325501=[..._0x38d54a][_0x1c5dc0(0x4e4)](_0x184a33=>!_0x54e0a5[_0x1c5dc0(0xdd)](_0x184a33));for(let _0x1ae649 of _0x11597b)await this['AddChatLabel'](_0x1ae649,_0x3a3763['_id']),_0x38d54a[_0x1c5dc0(0x57c)](_0x1ae649);for(let _0x53fa59 of _0x325501)await this['RemoveChatLabel'](_0x53fa59,_0x3a3763[_0x1c5dc0(0x447)]),_0x38d54a['delete'](_0x53fa59);if(_0x1c5dc0(0x57a)in _0x372b94){let _0x378a06=_0x372b94['desativadoFluxoAte'];_0x46098b[_0x1c5dc0(0x23a)]=_0x378a06?Number(_0x378a06):null;}let _0x1f4dee=await this['repository'][_0x1c5dc0(0x206)][_0x1c5dc0(0x21a)]({'where':{'_id':_0x404415}},_0x46098b,this[_0x1c5dc0(0x5a4)][_0x1c5dc0(0x5aa)]);_0x1f4dee?(this[_0x1c5dc0(0xd4)]['verbose'](this[_0x1c5dc0(0x45c)]+'\x20('+this[_0x1c5dc0(0x5a4)][_0x1c5dc0(0x5aa)]+_0x1c5dc0(0x3a2)+_0x1f4dee[_0x1c5dc0(0x447)]),q(this[_0x1c5dc0(0x45c)],_0x1c5dc0(0x5ee),{'chat':_0x1f4dee})):this[_0x1c5dc0(0xd4)][_0x1c5dc0(0x3e1)](this[_0x1c5dc0(0x45c)]+'\x20('+this[_0x1c5dc0(0x5a4)][_0x1c5dc0(0x5aa)]+_0x1c5dc0(0x2a6));}catch(_0x5d3c78){this[_0x1c5dc0(0xd4)][_0x1c5dc0(0x3e1)](this[_0x1c5dc0(0x45c)]+'\x20('+this[_0x1c5dc0(0x5a4)][_0x1c5dc0(0x5aa)]+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x5d3c78 instanceof Error?_0x5d3c78['message']:JSON[_0x1c5dc0(0x24b)](_0x5d3c78,null,0x2)));}}async[a0_0x57f064(0x6e6)](_0x576251,_0x1973d1){const _0xc5de33=a0_0x57f064;this[_0xc5de33(0xd4)][_0xc5de33(0xc2)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xc5de33(0x52d)+_0x1973d1);try{let _0x236366=await this['repository']['chat'][_0xc5de33(0x21a)]({'where':{'_id':_0x576251[_0xc5de33(0x409)]}},{'leadInfo.desativadoFluxoAte':_0x1973d1},this[_0xc5de33(0x5a4)][_0xc5de33(0x5aa)]);this[_0xc5de33(0xd4)][_0xc5de33(0xc2)](this[_0xc5de33(0x45c)]+'\x20('+this[_0xc5de33(0x5a4)]['wuid']+_0xc5de33(0x2f6)+_0x576251['_id']),this['logger'][_0xc5de33(0xc2)](this[_0xc5de33(0x45c)]+'\x20('+this[_0xc5de33(0x5a4)][_0xc5de33(0x5aa)]+_0xc5de33(0x52d)+JSON[_0xc5de33(0x24b)](_0x236366,null,0x2)),_0x236366&&q(this[_0xc5de33(0x45c)],'chats',{'chat':_0x236366});}catch(_0x50689d){this[_0xc5de33(0xd4)][_0xc5de33(0x3e1)](this['instanceName']+'\x20('+this[_0xc5de33(0x5a4)]['wuid']+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0x50689d instanceof Error?_0x50689d[_0xc5de33(0x65a)]:JSON[_0xc5de33(0x24b)](_0x50689d,null,0x2)));}}async[a0_0x57f064(0x326)](_0x5c2c34){const _0x4c740c=a0_0x57f064;try{this['logger'][_0x4c740c(0xc2)](this[_0x4c740c(0x45c)]+'\x20('+this[_0x4c740c(0x5a4)][_0x4c740c(0x5aa)]+_0x4c740c(0x685));let _0x1b4836=_0x5c2c34[_0x4c740c(0x5f7)](/\D/g,''),_0xe239d5=await this[_0x4c740c(0x402)]['flow'][_0x4c740c(0x5a2)]({'where':{'testingWith':_0x1b4836}},this[_0x4c740c(0x5a4)][_0x4c740c(0x5aa)]);return _0xe239d5||(this[_0x4c740c(0xd4)]['verbose'](this['instanceName']+'\x20('+this[_0x4c740c(0x5a4)][_0x4c740c(0x5aa)]+_0x4c740c(0x45d)),_0xe239d5=await this['repository'][_0x4c740c(0x525)][_0x4c740c(0x5a2)]({'where':{'default':!0x0}},this[_0x4c740c(0x5a4)][_0x4c740c(0x5aa)])),_0xe239d5||(this['logger'][_0x4c740c(0xc2)](this['instanceName']+'\x20('+this[_0x4c740c(0x5a4)][_0x4c740c(0x5aa)]+_0x4c740c(0x3c3)),null);}catch(_0x3f3e3d){return this[_0x4c740c(0xd4)][_0x4c740c(0x3e1)](this[_0x4c740c(0x45c)]+'\x20('+this['instance'][_0x4c740c(0x5aa)]+_0x4c740c(0x2e5)+(_0x3f3e3d instanceof Error?_0x3f3e3d['message']:JSON[_0x4c740c(0x24b)](_0x3f3e3d,null,0x2))),null;}}async['findConversation'](_0x1e9eaf,_0x313249){const _0x6c9210=a0_0x57f064;try{let _0xfef474=!!_0x313249[_0x6c9210(0x51e)],_0x57a599=_0x313249[_0x6c9210(0x54b)],_0x27ff6a=null;if(this[_0x6c9210(0xd4)][_0x6c9210(0xc2)](this['instanceName']+'\x20('+this['instance'][_0x6c9210(0x5aa)]+'):\x20isVote:\x20'+_0xfef474+_0x6c9210(0x1b9)+_0x57a599),_0xfef474){this['logger'][_0x6c9210(0xc2)](this[_0x6c9210(0x45c)]+'\x20('+this[_0x6c9210(0x5a4)][_0x6c9210(0x5aa)]+_0x6c9210(0x63c));let _0x17de0b={'where':{'remoteJid':_0x1e9eaf,'waitingMenu_id':_0x57a599}};if(_0x27ff6a=await this['repository']['flowConversation'][_0x6c9210(0x5a2)](_0x17de0b,this[_0x6c9210(0x5a4)][_0x6c9210(0x5aa)]),!_0x27ff6a)return this[_0x6c9210(0xd4)][_0x6c9210(0xc2)](this[_0x6c9210(0x45c)]+'\x20('+this[_0x6c9210(0x5a4)]['wuid']+_0x6c9210(0x37a)),null;let _0x20aefd=Date[_0x6c9210(0xa0)](),_0x5497d9=_0x27ff6a?.[_0x6c9210(0xc5)]||0x0,_0x55dd30=_0x20aefd-_0x5497d9*0x3c*0x3e8;if(_0x27ff6a[_0x6c9210(0x34a)]<_0x55dd30){this[_0x6c9210(0xd4)][_0x6c9210(0xc2)](this[_0x6c9210(0x45c)]+'\x20('+this['instance'][_0x6c9210(0x5aa)]+'):\x20Conversa\x20está\x20expirada\x20-\x20voto');let _0x4eeb85={'number':_0x27ff6a[_0x6c9210(0x409)],'options':{'delay':0x0},'textMessage':{'text':_0x27ff6a[_0x6c9210(0x588)]}};await this[_0x6c9210(0x62c)](_0x4eeb85);let _0x5ad08a={'status':_0x6c9210(0x55c),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x6c9210(0x402)][_0x6c9210(0x4cb)][_0x6c9210(0x21a)](_0x27ff6a['_id'],_0x5ad08a,this['instance'][_0x6c9210(0x5aa)]),null;}return _0x27ff6a[_0x6c9210(0x34a)]=Date[_0x6c9210(0xa0)](),_0x27ff6a[_0x6c9210(0x121)][_0x6c9210(0x307)]=_0x313249,_0x27ff6a;}else{this[_0x6c9210(0xd4)][_0x6c9210(0xc2)](this['instanceName']+'\x20('+this[_0x6c9210(0x5a4)][_0x6c9210(0x5aa)]+_0x6c9210(0x455)+this[_0x6c9210(0x5a4)][_0x6c9210(0x5aa)]+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this[_0x6c9210(0xd4)][_0x6c9210(0xc2)](this[_0x6c9210(0x45c)]+'\x20('+this[_0x6c9210(0x5a4)][_0x6c9210(0x5aa)]+_0x6c9210(0x39b));let _0x28ce6b={'where':{'remoteJid':_0x1e9eaf,'status':_0x6c9210(0xf2)}};if(_0x27ff6a=await this[_0x6c9210(0x402)][_0x6c9210(0x4cb)][_0x6c9210(0x5a2)](_0x28ce6b,this[_0x6c9210(0x5a4)]['wuid']),!_0x27ff6a){let _0x291f3b=await this[_0x6c9210(0x326)](_0x1e9eaf);if(_0x291f3b&&(_0x27ff6a=await this['createNewConversation'](_0x291f3b,_0x313249[_0x6c9210(0x501)],_0x313249)),!_0x27ff6a)return null;}let _0x294454=Date[_0x6c9210(0xa0)](),_0x4dd46a=_0x27ff6a?.[_0x6c9210(0xc5)]||0x0,_0x58791c=_0x294454-_0x4dd46a*0x3c*0x3e8;if(this['logger'][_0x6c9210(0xc2)](this[_0x6c9210(0x45c)]+'\x20('+this[_0x6c9210(0x5a4)][_0x6c9210(0x5aa)]+_0x6c9210(0x657)+_0x294454+_0x6c9210(0xf6)+_0x4dd46a+_0x6c9210(0x279)+_0x58791c),this[_0x6c9210(0xd4)][_0x6c9210(0xc2)](this['instanceName']+'\x20('+this[_0x6c9210(0x5a4)]['wuid']+_0x6c9210(0x127)),this['logger'][_0x6c9210(0xc2)](this[_0x6c9210(0x45c)]+'\x20('+this[_0x6c9210(0x5a4)]['wuid']+'):\x20conversation.lastInteraction:\x20'+_0x27ff6a[_0x6c9210(0x34a)]),this[_0x6c9210(0xd4)][_0x6c9210(0xc2)](this[_0x6c9210(0x45c)]+'\x20('+this[_0x6c9210(0x5a4)][_0x6c9210(0x5aa)]+_0x6c9210(0x4f6)+_0x58791c),_0x27ff6a[_0x6c9210(0x34a)]<_0x58791c){this['logger'][_0x6c9210(0xc2)](this[_0x6c9210(0x45c)]+'\x20('+this[_0x6c9210(0x5a4)]['wuid']+_0x6c9210(0xed));let _0x3ec65d=await this[_0x6c9210(0x326)](_0x1e9eaf);if(_0x3ec65d===null)return null;_0x27ff6a&&await this['repository'][_0x6c9210(0x4cb)][_0x6c9210(0x21a)](_0x27ff6a[_0x6c9210(0x447)],{'status':_0x6c9210(0x55c)},this[_0x6c9210(0x5a4)][_0x6c9210(0x5aa)]),_0x27ff6a=await this['createNewConversation'](_0x3ec65d,_0x313249[_0x6c9210(0x501)],_0x313249);}return _0x27ff6a[_0x6c9210(0x34a)]=_0x294454,_0x27ff6a[_0x6c9210(0x121)][_0x6c9210(0x307)]=_0x313249,_0x27ff6a;}}catch(_0xd4041b){return this['logger'][_0x6c9210(0x3e1)](this[_0x6c9210(0x45c)]+'\x20('+this['instance'][_0x6c9210(0x5aa)]+_0x6c9210(0x1d3)+(_0xd4041b instanceof Error?_0xd4041b[_0x6c9210(0x65a)]:JSON[_0x6c9210(0x24b)](_0xd4041b,null,0x2))),null;}}async[a0_0x57f064(0x44b)](_0x2b865e,_0x480f46,_0xb6902b){const _0x2f79af=a0_0x57f064;this[_0x2f79af(0xd4)][_0x2f79af(0xc2)](this[_0x2f79af(0x45c)]+'\x20('+this['instance'][_0x2f79af(0x5aa)]+_0x2f79af(0x4d4));try{let _0x1abf90=require(_0x2f79af(0x728))['ObjectId'],_0xa1f29=Date[_0x2f79af(0xa0)](),_0x3fff6f=_0x2f79af(0x61d),_0x2f0200=_0x480f46[_0x2f79af(0x3c1)]?null:_0xb6902b,_0x4ab2eb=_0x480f46[_0x2f79af(0x3c1)]?_0xb6902b:null,_0x1338dc=_0x480f46[_0x2f79af(0x409)];await this[_0x2f79af(0x16a)](_0x1338dc);let _0x377440={..._0x2b865e,'chatLog':null},_0x46e3b8=await this['variablesToObject'](_0x377440['variables']),_0x504a6b=await this[_0x2f79af(0x651)](_0x1338dc),_0x43a748={..._0x46e3b8,..._0x504a6b,'_remoteJid':_0x1338dc},_0x53bcf4={'lastReceivedMessage':_0x2f0200,'lastSendMessage':_0x4ab2eb,'lastBlockId':_0x3fff6f,'lastCondition':!0x0,'realVariables':_0x43a748};_0x377440[_0x2f79af(0x121)]=_0x53bcf4,delete _0x377440[_0x2f79af(0x447)],_0x377440[_0x2f79af(0x447)]=new _0x1abf90(),_0x377440['lastInteraction']=_0xa1f29,_0x377440[_0x2f79af(0x5c7)]='open',_0x377440[_0x2f79af(0x409)]=_0x1338dc;let _0x19196e=await this[_0x2f79af(0x402)]['flowConversation']['updateOne'](_0x377440[_0x2f79af(0x447)],_0x377440,this[_0x2f79af(0x5a4)][_0x2f79af(0x5aa)]);return this[_0x2f79af(0xd4)][_0x2f79af(0xc2)](this[_0x2f79af(0x45c)]+'\x20('+this[_0x2f79af(0x5a4)][_0x2f79af(0x5aa)]+_0x2f79af(0x332)),_0x19196e?_0x377440:null;}catch(_0x52dad5){return this[_0x2f79af(0xd4)]['error'](this[_0x2f79af(0x45c)]+'\x20('+this[_0x2f79af(0x5a4)][_0x2f79af(0x5aa)]+_0x2f79af(0x193)+(_0x52dad5 instanceof Error?_0x52dad5[_0x2f79af(0x65a)]:JSON['stringify'](_0x52dad5,null,0x2))),_0x52dad5;}}async[a0_0x57f064(0x303)](_0x24349e,_0x10c26d){const _0x5d94ca=a0_0x57f064;let _0x49dbd0=_0x24349e[_0x5d94ca(0x409)];_0x10c26d[_0x5d94ca(0x25d)][_0x5d94ca(0x409)]&&_0x10c26d[_0x5d94ca(0x25d)]['remoteJid'][_0x5d94ca(0x4a0)]()!==''&&(_0x49dbd0=_0x10c26d['uazapi'][_0x5d94ca(0x409)][_0x5d94ca(0x4a0)]()),this[_0x5d94ca(0xd4)][_0x5d94ca(0xc2)](this[_0x5d94ca(0x45c)]+'\x20('+this[_0x5d94ca(0x5a4)]['wuid']+'):\x20Enviando\x20texto');let _0xdba49d={'number':_0x49dbd0,'options':{'delay':_0x10c26d[_0x5d94ca(0x25d)][_0x5d94ca(0xee)]},'textMessage':{'text':_0x10c26d[_0x5d94ca(0x25d)][_0x5d94ca(0x435)]}};try{let _0x296b44=await this[_0x5d94ca(0x62c)](_0xdba49d);if(_0x296b44){let _0x9a8dca={'_id':_0x296b44[_0x5d94ca(0x501)]['id'],'_fromMe':_0x296b44['key'][_0x5d94ca(0x3c1)],'_remoteJid':_0x296b44[_0x5d94ca(0x501)][_0x5d94ca(0x409)]},_0x4207ae=(0x0,m[_0x5d94ca(0x48a)])(_0x296b44['message']),_0xbf7441=(0x0,m[_0x5d94ca(0x3f1)])(_0x4207ae);_0x24349e[_0x5d94ca(0x121)]['lastBlockId']=_0x10c26d[_0x5d94ca(0x447)][_0x5d94ca(0x1ef)]();let {message_normalized:_0x1878ef}=this['normalizeMessage'](_0x4207ae,_0xbf7441,null);_0x24349e[_0x5d94ca(0x121)]['lastSendMessage']=await _0x1878ef;let _0x303337={'messageId':_0x296b44[_0x5d94ca(0x501)]['id']},_0x51ae02=_0x24349e[_0x5d94ca(0x121)][_0x5d94ca(0x4d9)];Object['assign'](_0x51ae02,_0x9a8dca),_0x24349e[_0x5d94ca(0x121)][_0x5d94ca(0x4d9)]=_0x51ae02,this[_0x5d94ca(0x3da)](_0x24349e,_0x10c26d,_0x303337);}else{let _0x4a328d={'error':!0x0};this[_0x5d94ca(0x3da)](_0x24349e,_0x10c26d,_0x4a328d),this['logger'][_0x5d94ca(0x3e1)](this[_0x5d94ca(0x45c)]+'\x20('+this[_0x5d94ca(0x5a4)][_0x5d94ca(0x5aa)]+_0x5d94ca(0x219));}}catch(_0x23abcd){let _0x2fbab0={'error':!0x0,'errorLog':_0x23abcd[_0x5d94ca(0x1ef)]()};this[_0x5d94ca(0x3da)](_0x24349e,_0x10c26d,_0x2fbab0),this['logger'][_0x5d94ca(0x3e1)](this[_0x5d94ca(0x45c)]+'\x20('+this['instance'][_0x5d94ca(0x5aa)]+_0x5d94ca(0x635)+(_0x23abcd instanceof Error?_0x23abcd['message']:JSON[_0x5d94ca(0x24b)](_0x23abcd,null,0x2)));}}async[a0_0x57f064(0x1a1)](_0x41d409,_0x11a92a){const _0x48a534=a0_0x57f064;let _0x4f2780=_0x41d409[_0x48a534(0x409)];_0x11a92a[_0x48a534(0x25d)][_0x48a534(0x409)]&&_0x11a92a[_0x48a534(0x25d)]['remoteJid'][_0x48a534(0x4a0)]()!==''&&(_0x4f2780=_0x11a92a[_0x48a534(0x25d)]['remoteJid'][_0x48a534(0x4a0)]()),this['logger']['verbose'](this[_0x48a534(0x45c)]+'\x20('+this[_0x48a534(0x5a4)][_0x48a534(0x5aa)]+_0x48a534(0xa2));let _0x1217f6={'number':_0x4f2780,'options':{'delay':_0x11a92a['uazapi']['delay']},'mediaMessage':{'mediatype':_0x11a92a[_0x48a534(0x25d)]['mediatype'],'caption':_0x11a92a[_0x48a534(0x25d)][_0x48a534(0x6e5)],'media':_0x11a92a['uazapi'][_0x48a534(0x356)],'fileName':_0x11a92a['uazapi'][_0x48a534(0x4bd)]}};try{let _0x135b53=await this[_0x48a534(0x35a)](_0x1217f6);if(_0x135b53){let _0x39199c={'_id':_0x135b53[_0x48a534(0x501)]['id'],'_fromMe':_0x135b53['key'][_0x48a534(0x3c1)],'_remoteJid':_0x135b53['key']['remoteJid']},_0x4ae926=(0x0,m[_0x48a534(0x48a)])(_0x135b53[_0x48a534(0x65a)]),_0x394869=(0x0,m['getContentType'])(_0x4ae926);_0x41d409[_0x48a534(0x121)][_0x48a534(0x73a)]=_0x11a92a[_0x48a534(0x447)][_0x48a534(0x1ef)]();let {message_normalized:_0x6e7e75}=this[_0x48a534(0x261)](_0x4ae926,_0x394869,null);_0x41d409[_0x48a534(0x121)][_0x48a534(0x346)]=await _0x6e7e75;let _0x34f710={'messageId':_0x135b53[_0x48a534(0x501)]['id']},_0x3fe91c=_0x41d409[_0x48a534(0x121)][_0x48a534(0x4d9)];Object['assign'](_0x3fe91c,_0x39199c),_0x41d409[_0x48a534(0x121)][_0x48a534(0x4d9)]=_0x3fe91c,this[_0x48a534(0x3da)](_0x41d409,_0x11a92a,_0x34f710);}else{let _0x5ea173={'error':!0x0};this[_0x48a534(0x3da)](_0x41d409,_0x11a92a,_0x5ea173),this[_0x48a534(0xd4)][_0x48a534(0x3e1)](this[_0x48a534(0x45c)]+'\x20('+this[_0x48a534(0x5a4)][_0x48a534(0x5aa)]+_0x48a534(0x482));}}catch(_0x3f4867){let _0x48d1b2={'error':!0x0,'errorLog':_0x3f4867[_0x48a534(0x1ef)]()};this['updateConversation'](_0x41d409,_0x11a92a,_0x48d1b2),this[_0x48a534(0xd4)][_0x48a534(0x3e1)](this[_0x48a534(0x45c)]+'\x20('+this['instance']['wuid']+_0x48a534(0x592)+(_0x3f4867 instanceof Error?_0x3f4867[_0x48a534(0x65a)]:JSON[_0x48a534(0x24b)](_0x3f4867,null,0x2)));}}async[a0_0x57f064(0x47e)](_0x69e1a7,_0x538166){const _0x43e097=a0_0x57f064;let _0x45215c=_0x69e1a7[_0x43e097(0x409)];_0x538166['uazapi'][_0x43e097(0x409)]&&_0x538166[_0x43e097(0x25d)]['remoteJid'][_0x43e097(0x4a0)]()!==''&&(_0x45215c=_0x538166[_0x43e097(0x25d)][_0x43e097(0x409)]['trim']()),this['logger']['verbose'](this[_0x43e097(0x45c)]+'\x20('+this['instance'][_0x43e097(0x5aa)]+'):\x20Enviando\x20localização');let _0x2f8c01={'number':_0x45215c,'options':{'delay':_0x538166['uazapi']['delay']},'locationMessage':{'name':_0x538166[_0x43e097(0x25d)][_0x43e097(0x336)],'address':_0x538166['uazapi']['address'],'latitude':_0x538166['uazapi'][_0x43e097(0x71c)],'longitude':_0x538166[_0x43e097(0x25d)]['longitude']}};try{let _0x26e630=await this[_0x43e097(0x453)](_0x2f8c01);if(_0x26e630){let _0x54a523={'_id':_0x26e630[_0x43e097(0x501)]['id'],'_fromMe':_0x26e630[_0x43e097(0x501)][_0x43e097(0x3c1)],'_remoteJid':_0x26e630[_0x43e097(0x501)][_0x43e097(0x409)]},_0x5a34af=(0x0,m[_0x43e097(0x48a)])(_0x26e630[_0x43e097(0x65a)]),_0x4e44a4=(0x0,m[_0x43e097(0x3f1)])(_0x5a34af);_0x69e1a7['chatLog'][_0x43e097(0x73a)]=_0x538166['_id'][_0x43e097(0x1ef)]();let {message_normalized:_0x5524c0}=this[_0x43e097(0x261)](_0x5a34af,_0x4e44a4,null);_0x69e1a7[_0x43e097(0x121)]['lastSendMessage']=await _0x5524c0;let _0x2663b0={'messageId':_0x26e630[_0x43e097(0x501)]['id']},_0x30ab29=_0x69e1a7[_0x43e097(0x121)]['realVariables'];Object[_0x43e097(0x4fe)](_0x30ab29,_0x54a523),_0x69e1a7[_0x43e097(0x121)]['realVariables']=_0x30ab29,this[_0x43e097(0x3da)](_0x69e1a7,_0x538166,_0x2663b0);}else{let _0x3255f5={'error':!0x0};this[_0x43e097(0x3da)](_0x69e1a7,_0x538166,_0x3255f5),this[_0x43e097(0xd4)][_0x43e097(0x3e1)](this[_0x43e097(0x45c)]+'\x20('+this[_0x43e097(0x5a4)][_0x43e097(0x5aa)]+_0x43e097(0x3dc));}}catch(_0x428700){let _0x51668e={'error':!0x0,'errorLog':_0x428700[_0x43e097(0x1ef)]()};this[_0x43e097(0x3da)](_0x69e1a7,_0x538166,_0x51668e),this[_0x43e097(0xd4)][_0x43e097(0x3e1)](this[_0x43e097(0x45c)]+'\x20('+this[_0x43e097(0x5a4)]['wuid']+_0x43e097(0x209)+(_0x428700 instanceof Error?_0x428700['message']:JSON['stringify'](_0x428700,null,0x2)));}}async[a0_0x57f064(0x390)](_0x493eb2,_0x4b974b){const _0x335863=a0_0x57f064;let _0x3fade6=_0x493eb2['remoteJid'];_0x4b974b['uazapi'][_0x335863(0x409)]&&_0x4b974b[_0x335863(0x25d)][_0x335863(0x409)][_0x335863(0x4a0)]()!==''&&(_0x3fade6=_0x4b974b['uazapi'][_0x335863(0x409)]['trim']()),this['logger'][_0x335863(0xc2)](this[_0x335863(0x45c)]+'\x20('+this[_0x335863(0x5a4)][_0x335863(0x5aa)]+_0x335863(0x452));let _0x58b5a2={'number':_0x3fade6,'options':{'delay':_0x4b974b[_0x335863(0x25d)][_0x335863(0xee)]},'audioMessage':{'audio':_0x4b974b[_0x335863(0x25d)][_0x335863(0x1aa)]}};try{let _0x16c992=await this['audioWhatsapp'](_0x58b5a2);if(_0x16c992){let _0xd5ecb5={'_id':_0x16c992['key']['id'],'_fromMe':_0x16c992[_0x335863(0x501)][_0x335863(0x3c1)],'_remoteJid':_0x16c992[_0x335863(0x501)][_0x335863(0x409)]},_0x473411=(0x0,m[_0x335863(0x48a)])(_0x16c992[_0x335863(0x65a)]),_0x5082a3=(0x0,m['getContentType'])(_0x473411);_0x493eb2[_0x335863(0x121)][_0x335863(0x73a)]=_0x4b974b[_0x335863(0x447)]['toString']();let {message_normalized:_0x323f03}=this[_0x335863(0x261)](_0x473411,_0x5082a3,null);_0x493eb2[_0x335863(0x121)]['lastSendMessage']=await _0x323f03;let _0x3d335d={'messageId':_0x16c992[_0x335863(0x501)]['id']},_0x462a25=_0x493eb2['chatLog'][_0x335863(0x4d9)];Object[_0x335863(0x4fe)](_0x462a25,_0xd5ecb5),_0x493eb2[_0x335863(0x121)]['realVariables']=_0x462a25,this[_0x335863(0x3da)](_0x493eb2,_0x4b974b,_0x3d335d);}else{let _0x45e1d8={'error':!0x0};this[_0x335863(0x3da)](_0x493eb2,_0x4b974b,_0x45e1d8),this[_0x335863(0xd4)][_0x335863(0x3e1)](this[_0x335863(0x45c)]+'\x20('+this[_0x335863(0x5a4)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0xef1515){let _0x296a53={'error':!0x0,'errorLog':_0xef1515[_0x335863(0x1ef)]()};this[_0x335863(0x3da)](_0x493eb2,_0x4b974b,_0x296a53),this[_0x335863(0xd4)]['error'](this[_0x335863(0x45c)]+'\x20('+this[_0x335863(0x5a4)][_0x335863(0x5aa)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+(_0xef1515 instanceof Error?_0xef1515[_0x335863(0x65a)]:JSON[_0x335863(0x24b)](_0xef1515,null,0x2)));}}async['uazapiSendContact'](_0x4902e4,_0x380b1e){const _0xfea057=a0_0x57f064;let _0x4ebb85=_0x4902e4['remoteJid'];_0x380b1e['uazapi'][_0xfea057(0x409)]&&_0x380b1e['uazapi'][_0xfea057(0x409)][_0xfea057(0x4a0)]()!==''&&(_0x4ebb85=_0x380b1e[_0xfea057(0x25d)][_0xfea057(0x409)][_0xfea057(0x4a0)]()),this['logger'][_0xfea057(0xc2)](this[_0xfea057(0x45c)]+'\x20('+this[_0xfea057(0x5a4)][_0xfea057(0x5aa)]+'):\x20Enviando\x20contato');let _0x3eb977={'number':_0x4ebb85,'options':{'delay':_0x380b1e[_0xfea057(0x25d)][_0xfea057(0xee)]},'contactMessage':[{'fullName':_0x380b1e['uazapi']['fullName'],'phoneNumber':_0x380b1e[_0xfea057(0x25d)]['phoneNumber']}]};try{let _0x2e34be=await this['contactMessage'](_0x3eb977);if(_0x2e34be){let _0x3aef2f={'_id':_0x2e34be[_0xfea057(0x501)]['id'],'_fromMe':_0x2e34be[_0xfea057(0x501)][_0xfea057(0x3c1)],'_remoteJid':_0x2e34be[_0xfea057(0x501)][_0xfea057(0x409)]},_0x4b753a=(0x0,m['normalizeMessageContent'])(_0x2e34be[_0xfea057(0x65a)]),_0x383157=(0x0,m[_0xfea057(0x3f1)])(_0x4b753a);_0x4902e4[_0xfea057(0x121)][_0xfea057(0x73a)]=_0x380b1e[_0xfea057(0x447)][_0xfea057(0x1ef)]();let {message_normalized:_0x354821}=this['normalizeMessage'](_0x4b753a,_0x383157,null);_0x4902e4[_0xfea057(0x121)][_0xfea057(0x346)]=await _0x354821;let _0x20441d={'messageId':_0x2e34be[_0xfea057(0x501)]['id']},_0x5590bd=_0x4902e4['chatLog'][_0xfea057(0x4d9)];Object[_0xfea057(0x4fe)](_0x5590bd,_0x3aef2f),_0x4902e4[_0xfea057(0x121)][_0xfea057(0x4d9)]=_0x5590bd,this[_0xfea057(0x3da)](_0x4902e4,_0x380b1e,_0x20441d);}else{let _0x1b28f1={'error':!0x0};this['updateConversation'](_0x4902e4,_0x380b1e,_0x1b28f1),this[_0xfea057(0xd4)]['error'](this[_0xfea057(0x45c)]+'\x20('+this[_0xfea057(0x5a4)][_0xfea057(0x5aa)]+_0xfea057(0x5cc));}}catch(_0x5a3490){let _0x537c71={'error':!0x0,'errorLog':_0x5a3490[_0xfea057(0x1ef)]()};this[_0xfea057(0x3da)](_0x4902e4,_0x380b1e,_0x537c71),this[_0xfea057(0xd4)][_0xfea057(0x3e1)](this[_0xfea057(0x45c)]+'\x20('+this[_0xfea057(0x5a4)]['wuid']+_0xfea057(0xe6)+(_0x5a3490 instanceof Error?_0x5a3490['message']:JSON[_0xfea057(0x24b)](_0x5a3490,null,0x2)));}}[a0_0x57f064(0x542)](_0x56041c,_0x3e5b09){const _0xb40e07=a0_0x57f064;for(let _0x38bbee of _0x56041c)_0x38bbee[_0xb40e07(0x4e6)]&&(_0x38bbee[_0xb40e07(0x4e6)]=this[_0xb40e07(0x213)](_0x38bbee[_0xb40e07(0x4e6)],_0x3e5b09)),_0x38bbee[_0xb40e07(0x2ca)]&&(_0x38bbee[_0xb40e07(0x2ca)]=this[_0xb40e07(0x213)](_0x38bbee[_0xb40e07(0x2ca)],_0x3e5b09));}async[a0_0x57f064(0x43b)](_0x141d7b,_0x592a18){const _0x3dcae8=a0_0x57f064;let _0x5cabbc=_0x141d7b[_0x3dcae8(0x409)];_0x592a18[_0x3dcae8(0x25d)][_0x3dcae8(0x409)]&&_0x592a18['uazapi'][_0x3dcae8(0x409)]['trim']()!==''&&(_0x5cabbc=_0x592a18['uazapi'][_0x3dcae8(0x409)][_0x3dcae8(0x4a0)]()),this[_0x3dcae8(0xd4)][_0x3dcae8(0xc2)](this[_0x3dcae8(0x45c)]+'\x20('+this[_0x3dcae8(0x5a4)][_0x3dcae8(0x5aa)]+_0x3dcae8(0x12b));let _0x501b6a=_0x141d7b[_0x3dcae8(0x6f2)][_0x3dcae8(0x4e4)](_0x137b26=>_0x137b26[_0x3dcae8(0x526)]===_0x592a18[_0x3dcae8(0x447)])[_0x3dcae8(0x5fb)]((_0x47df62,_0x33974f)=>_0x47df62[_0x3dcae8(0x4e5)]-_0x33974f[_0x3dcae8(0x4e5)]);this[_0x3dcae8(0x542)](_0x501b6a,_0x141d7b[_0x3dcae8(0x121)]['realVariables']);let _0x4128eb=_0x501b6a['map'](_0x15e1df=>_0x15e1df[_0x3dcae8(0x4e6)]),_0x3c7bee={'number':_0x5cabbc,'menuMessage':{'type':_0x592a18[_0x3dcae8(0x25d)][_0x3dcae8(0x42c)]||_0x3dcae8(0x56e),'text':_0x592a18[_0x3dcae8(0x25d)][_0x3dcae8(0x435)]||_0x592a18[_0x3dcae8(0x25d)][_0x3dcae8(0x336)],'footerText':_0x592a18[_0x3dcae8(0x25d)][_0x3dcae8(0x227)],'buttonText':_0x592a18[_0x3dcae8(0x25d)][_0x3dcae8(0x1ca)],'selectableCount':0x1,'choices':_0x4128eb},'options':{'delay':_0x592a18[_0x3dcae8(0x25d)][_0x3dcae8(0xee)]}};try{let _0xf2285b=await this[_0x3dcae8(0x99)](_0x3c7bee);if(_0xf2285b){let _0x102e46={'_id':_0xf2285b[_0x3dcae8(0x501)]['id'],'_fromMe':_0xf2285b['key'][_0x3dcae8(0x3c1)],'_remoteJid':_0xf2285b['key'][_0x3dcae8(0x409)]};_0x592a18[_0x3dcae8(0x25d)]['menuIgnoreNonVotes']===!0x0&&(_0x141d7b[_0x3dcae8(0x5c7)]='waitingForReplyMenu',this[_0x3dcae8(0xd4)][_0x3dcae8(0xc2)](this[_0x3dcae8(0x45c)]+'\x20('+this[_0x3dcae8(0x5a4)][_0x3dcae8(0x5aa)]+'):\x20conversation.status:\x20'+_0x141d7b['status'])),this[_0x3dcae8(0xd4)][_0x3dcae8(0xc2)](this[_0x3dcae8(0x45c)]+'\x20('+this['instance'][_0x3dcae8(0x5aa)]+_0x3dcae8(0x673)+(_0x592a18[_0x3dcae8(0x25d)][_0x3dcae8(0x336)]||_0x592a18['uazapi']['text'])),_0x141d7b[_0x3dcae8(0x720)]=_0xf2285b[_0x3dcae8(0x501)]['id'],_0x141d7b[_0x3dcae8(0x53c)]=_0x592a18['uazapi'][_0x3dcae8(0x336)]||_0x592a18[_0x3dcae8(0x25d)]['text'],_0x141d7b['waitingMenu_replyOptions']=_0x501b6a,_0x592a18[_0x3dcae8(0x25d)][_0x3dcae8(0x622)]&&(_0x141d7b[_0x3dcae8(0x588)]=_0x592a18['uazapi'][_0x3dcae8(0x622)]),this[_0x3dcae8(0xd4)][_0x3dcae8(0xc2)](this[_0x3dcae8(0x45c)]+'\x20('+this[_0x3dcae8(0x5a4)][_0x3dcae8(0x5aa)]+_0x3dcae8(0x2b5)+_0x141d7b[_0x3dcae8(0x53c)]);let _0x20451b=(0x0,m[_0x3dcae8(0x48a)])(_0xf2285b[_0x3dcae8(0x65a)]),_0x401135=(0x0,m[_0x3dcae8(0x3f1)])(_0x20451b);_0x141d7b['chatLog'][_0x3dcae8(0x73a)]=_0x592a18[_0x3dcae8(0x447)][_0x3dcae8(0x1ef)]();let {message_normalized:_0x3cdb23}=this[_0x3dcae8(0x261)](_0x20451b,_0x401135,null);_0x141d7b['chatLog'][_0x3dcae8(0x346)]=await _0x3cdb23;let _0x412802={'messageId':_0xf2285b[_0x3dcae8(0x501)]['id']},_0x1c1df0=_0x141d7b[_0x3dcae8(0x121)]['realVariables'];Object[_0x3dcae8(0x4fe)](_0x1c1df0,_0x102e46),_0x141d7b[_0x3dcae8(0x121)][_0x3dcae8(0x4d9)]=_0x1c1df0,this['updateConversation'](_0x141d7b,_0x592a18,_0x412802);}else{let _0x4c2da6={'error':!0x0};this['updateConversation'](_0x141d7b,_0x592a18,_0x4c2da6),this[_0x3dcae8(0xd4)][_0x3dcae8(0x3e1)](this[_0x3dcae8(0x45c)]+'\x20('+this['instance'][_0x3dcae8(0x5aa)]+_0x3dcae8(0x366));}}catch(_0x2573c1){let _0x55be09={'error':!0x0,'errorLog':_0x2573c1 instanceof Error?_0x2573c1[_0x3dcae8(0x65a)]:JSON[_0x3dcae8(0x24b)](_0x2573c1,null,0x2)};this['updateConversation'](_0x141d7b,_0x592a18,_0x55be09),this[_0x3dcae8(0xd4)][_0x3dcae8(0x3e1)](this[_0x3dcae8(0x45c)]+'\x20('+this[_0x3dcae8(0x5a4)][_0x3dcae8(0x5aa)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0x2573c1 instanceof Error?_0x2573c1[_0x3dcae8(0x65a)]:JSON[_0x3dcae8(0x24b)](_0x2573c1,null,0x2)));}}async[a0_0x57f064(0x656)](_0x1b730e,_0x3adfab){const _0x3b01b8=a0_0x57f064;this[_0x3b01b8(0xd4)][_0x3b01b8(0xc2)](this[_0x3b01b8(0x45c)]+'\x20('+this[_0x3b01b8(0x5a4)][_0x3b01b8(0x5aa)]+_0x3b01b8(0x14c));let _0x497d1d=_0x1b730e[_0x3b01b8(0x121)]['blockLogs']['find'](_0x555640=>_0x555640[_0x3b01b8(0x526)][_0x3b01b8(0x1ef)]()===_0x3adfab[_0x3b01b8(0x25d)][_0x3b01b8(0x526)]['toString']()),_0x278e18={'id':_0x497d1d['messageId'],'remoteJid':_0x497d1d['remoteJid'],'fromMe':_0x497d1d[_0x3b01b8(0x3c1)]};try{let _0x3ed3ae=await this[_0x3b01b8(0xde)](_0x278e18);if(_0x3ed3ae){let _0x3b1c3a=(0x0,m[_0x3b01b8(0x48a)])(_0x3ed3ae['message']),_0x5a83fd=(0x0,m[_0x3b01b8(0x3f1)])(_0x3b1c3a);_0x1b730e['chatLog'][_0x3b01b8(0x73a)]=_0x3adfab['_id'][_0x3b01b8(0x1ef)]();let {message_normalized:_0x5220d5}=this[_0x3b01b8(0x261)](_0x3b1c3a,_0x5a83fd,null);_0x1b730e[_0x3b01b8(0x121)]['lastSendMessage']=await _0x5220d5;let _0x3b5e97={};this['updateConversation'](_0x1b730e,_0x3adfab,_0x3b5e97);}else{let _0x1da98b={'error':!0x0};this[_0x3b01b8(0x3da)](_0x1b730e,_0x3adfab,_0x1da98b),this['logger']['error'](this[_0x3b01b8(0x45c)]+'\x20('+this[_0x3b01b8(0x5a4)][_0x3b01b8(0x5aa)]+_0x3b01b8(0x286));}}catch(_0x51a972){let _0x2cc16d={'error':!0x0,'errorLog':_0x51a972 instanceof Error?_0x51a972['message']:JSON[_0x3b01b8(0x24b)](_0x51a972,null,0x2)};this['updateConversation'](_0x1b730e,_0x3adfab,_0x2cc16d),this[_0x3b01b8(0xd4)][_0x3b01b8(0x3e1)](this[_0x3b01b8(0x45c)]+'\x20('+this[_0x3b01b8(0x5a4)][_0x3b01b8(0x5aa)]+_0x3b01b8(0x2aa)+(_0x51a972 instanceof Error?_0x51a972[_0x3b01b8(0x65a)]:JSON[_0x3b01b8(0x24b)](_0x51a972,null,0x2)));}}async[a0_0x57f064(0x1cb)](_0x47f6f9){const _0x2c18ca=a0_0x57f064;if(!_0x47f6f9[_0x2c18ca(0x336)])throw new w(_0x2c18ca(0x2bd));if(await this[_0x2c18ca(0x402)]['flow'][_0x2c18ca(0x5a2)]({'where':{'name':_0x47f6f9[_0x2c18ca(0x336)]}},this[_0x2c18ca(0x5a4)][_0x2c18ca(0x5aa)]))throw new w(_0x2c18ca(0x702));return'name'in _0x47f6f9&&_0x2c18ca(0x1f6)in _0x47f6f9&&'owner'in _0x47f6f9&&Object[_0x2c18ca(0x571)](_0x47f6f9)[_0x2c18ca(0x611)]===0x3?this[_0x2c18ca(0x578)](_0x47f6f9[_0x2c18ca(0x129)],_0x47f6f9['sharePass'],_0x47f6f9['name']):this[_0x2c18ca(0x2db)](_0x47f6f9);}async[a0_0x57f064(0x578)](_0x622a3d,_0x4714de,_0x415849){const _0x155258=a0_0x57f064;try{this[_0x155258(0xd4)]['verbose'](this[_0x155258(0x45c)]+'\x20('+this[_0x155258(0x5a4)][_0x155258(0x5aa)]+_0x155258(0x394));let _0x412632=await this[_0x155258(0x402)][_0x155258(0x525)]['findOne']({'where':{'name':_0x415849,'sharePass':_0x4714de}},_0x622a3d);if(!_0x412632)throw new w(_0x155258(0x17a));let _0x2c9dcb={..._0x412632};return _0x2c9dcb[_0x155258(0x129)]=this[_0x155258(0x5a4)][_0x155258(0x5aa)],_0x2c9dcb[_0x155258(0x18f)]=Array[_0x155258(0x6aa)](new Set([..._0x412632['shareOwners']||[],_0x412632['owner'],this[_0x155258(0x5a4)]['wuid']])),_0x412632[_0x155258(0x18f)]=_0x2c9dcb[_0x155258(0x18f)],await this[_0x155258(0x402)]['flow']['updateOne'](_0x412632[_0x155258(0x447)],{'shareOwners':_0x412632['shareOwners']},_0x412632[_0x155258(0x129)]),_0x412632[_0x155258(0x25e)]===!0x0&&await this[_0x155258(0x402)][_0x155258(0x525)][_0x155258(0x5f5)]({},{'default':!0x1},this[_0x155258(0x5a4)][_0x155258(0x5aa)]),await this[_0x155258(0x402)]['flow'][_0x155258(0x14b)](_0x2c9dcb,this[_0x155258(0x5a4)][_0x155258(0x5aa)]);}catch(_0x5a56c7){throw this[_0x155258(0xd4)]['error'](this[_0x155258(0x45c)]+'\x20('+this[_0x155258(0x5a4)][_0x155258(0x5aa)]+_0x155258(0x11d)+_0x5a56c7),new w(_0x155258(0x180)+_0x5a56c7);}}async['createRegularFlow'](_0x5a79cd){const _0x123a80=a0_0x57f064;try{this['logger'][_0x123a80(0xc2)](this[_0x123a80(0x45c)]+'\x20('+this['instance'][_0x123a80(0x5aa)]+'):\x20Criando\x20fluxo\x20regular...'),delete _0x5a79cd['shareOwners'],delete _0x5a79cd['sharePass'],delete _0x5a79cd[_0x123a80(0x129)],_0x5a79cd[_0x123a80(0x25e)]===!0x0&&await this[_0x123a80(0x402)][_0x123a80(0x525)][_0x123a80(0x5f5)]({},{'default':!0x1},this[_0x123a80(0x5a4)][_0x123a80(0x5aa)]);let _0x3283ec=new le[(_0x123a80(0x665))]['ObjectId'](),_0x161813={'_id':_0x3283ec,'default':!0x0,'title':'Início','x':0x0,'y':0x0},_0x234e86={'_id':new le['Types'][(_0x123a80(0x730))](),'order':0x1,'groupId':_0x3283ec[_0x123a80(0x1ef)](),'type':_0x123a80(0x61d)},_0x259df0={'_id':new le[(_0x123a80(0x665))]['ObjectId'](),'owner':this[_0x123a80(0x5a4)][_0x123a80(0x5aa)],'name':_0x5a79cd[_0x123a80(0x336)],'groups':[_0x161813],'blocks':[_0x234e86],..._0x5a79cd};return await this['repository'][_0x123a80(0x525)][_0x123a80(0x14b)](_0x259df0,this[_0x123a80(0x5a4)]['wuid']);}catch(_0x1750a0){throw this[_0x123a80(0xd4)][_0x123a80(0x3e1)](this[_0x123a80(0x45c)]+'\x20('+this['instance'][_0x123a80(0x5aa)]+_0x123a80(0x597)+_0x1750a0),new w(_0x123a80(0x5b0)+_0x1750a0);}}async[a0_0x57f064(0xa5)](_0x510435,_0x2516be){const _0x3eb6bb=a0_0x57f064;try{let _0x3bb200=await this[_0x3eb6bb(0x402)][_0x3eb6bb(0x525)][_0x3eb6bb(0x5a2)]({'where':{'_id':_0x510435}},_0x2516be);if(_0x3bb200&&_0x3bb200[_0x3eb6bb(0x18f)]){for(let _0x522161 of _0x3bb200[_0x3eb6bb(0x18f)])if(_0x522161!==_0x2516be){let _0x498b8c={..._0x3bb200,'owner':_0x522161};await this['repository'][_0x3eb6bb(0x525)]['replaceOne'](_0x510435,_0x498b8c,_0x522161);}}}catch(_0x487bd1){this[_0x3eb6bb(0xd4)][_0x3eb6bb(0x3e1)]('Erro\x20ao\x20sincronizar\x20fluxos:\x20'+_0x487bd1);}}async[a0_0x57f064(0x17e)](_0x14bc8c){const _0x4a3f4b=a0_0x57f064;try{this[_0x4a3f4b(0xd4)][_0x4a3f4b(0xc2)](this[_0x4a3f4b(0x45c)]+'\x20('+this[_0x4a3f4b(0x5a4)][_0x4a3f4b(0x5aa)]+_0x4a3f4b(0x4a3));let _0x4f0be0=await this[_0x4a3f4b(0x402)]['flow'][_0x4a3f4b(0x5a2)]({'where':{'name':_0x14bc8c}},this[_0x4a3f4b(0x5a4)][_0x4a3f4b(0x5aa)]);if(_0x4f0be0&&_0x4f0be0['shareOwners']&&_0x4f0be0[_0x4a3f4b(0x18f)][_0x4a3f4b(0x611)]>0x1){for(let _0x39b391 of _0x4f0be0[_0x4a3f4b(0x18f)])if(_0x39b391!==this[_0x4a3f4b(0x5a4)][_0x4a3f4b(0x5aa)]){let _0x47c50e=await this[_0x4a3f4b(0x402)][_0x4a3f4b(0x525)][_0x4a3f4b(0x5a2)]({'where':{'sharePass':_0x4f0be0[_0x4a3f4b(0x1f6)]}},_0x39b391);_0x47c50e&&(_0x47c50e['shareOwners']=_0x47c50e['shareOwners'][_0x4a3f4b(0x4e4)](_0x1d8e52=>_0x1d8e52!==_0x4f0be0[_0x4a3f4b(0x129)]),await this['repository'][_0x4a3f4b(0x525)][_0x4a3f4b(0x21a)](_0x47c50e[_0x4a3f4b(0x447)],{'shareOwners':_0x47c50e[_0x4a3f4b(0x18f)]},_0x39b391));}}return await this[_0x4a3f4b(0x402)]['flow'][_0x4a3f4b(0x3cd)]({'where':{'name':_0x14bc8c}},this[_0x4a3f4b(0x5a4)][_0x4a3f4b(0x5aa)]);}catch(_0x214823){return this[_0x4a3f4b(0xd4)][_0x4a3f4b(0x3e1)](this[_0x4a3f4b(0x45c)]+'\x20('+this['instance'][_0x4a3f4b(0x5aa)]+'):\x20Erro\x20ao\x20deletar\x20fluxo\x20'+(_0x214823 instanceof Error?_0x214823['message']:JSON[_0x4a3f4b(0x24b)](_0x214823,null,0x2))),{'message':_0x4a3f4b(0x1c0)+_0x214823};}}async[a0_0x57f064(0x1db)](_0x53d499){const _0x12bde7=a0_0x57f064;try{this[_0x12bde7(0xd4)][_0x12bde7(0xc2)](this['instanceName']+'\x20('+this[_0x12bde7(0x5a4)][_0x12bde7(0x5aa)]+_0x12bde7(0x685));let _0x347588=await this[_0x12bde7(0x402)][_0x12bde7(0x525)]['findOne']({'where':{'name':_0x53d499}},this[_0x12bde7(0x5a4)][_0x12bde7(0x5aa)]);if(!_0x347588)throw new Error('Flow\x20não\x20encontrado');if(!this[_0x12bde7(0x6ea)]&&(await this[_0x12bde7(0x5b2)](),!this['AutomateSystem']))return null;let _0x26eab8=this[_0x12bde7(0x6ea)]?.['customFields']['map'](_0xe0314c=>_0xe0314c[_0x12bde7(0x336)]),_0x36a42d=[_0x12bde7(0x539),_0x12bde7(0xd5),_0x12bde7(0x242),_0x12bde7(0x72c),_0x12bde7(0x5c7),_0x12bde7(0x43f),_0x12bde7(0x339),_0x12bde7(0x485),_0x12bde7(0x646)];_0x347588[_0x12bde7(0x2e8)]=_0x347588['variables'][_0x12bde7(0x4e4)](_0xcface7=>!(_0xcface7['folder']===_0x12bde7(0x4f5)||_0xcface7['leadInfo'])),_0x36a42d['forEach'](_0x3f2abb=>{const _0x2cac10=_0x12bde7;_0x347588['variables'][_0x2cac10(0x1e9)]({'folder':_0x2cac10(0x4f5),'name':_0x3f2abb,'value':'','doc':'','leadInfo':!0x0});}),_0x26eab8[_0x12bde7(0x680)](_0x3e50c4=>{const _0x21634e=_0x12bde7;let _0x540778=_0x347588[_0x21634e(0x2e8)][_0x21634e(0x2e3)](_0x2f4395=>_0x2f4395[_0x21634e(0x336)]===_0x3e50c4);_0x540778===-0x1?_0x347588[_0x21634e(0x2e8)][_0x21634e(0x1e9)]({'folder':_0x21634e(0x4f5),'name':_0x3e50c4,'value':'','doc':'','leadInfo':!0x0}):(_0x347588[_0x21634e(0x2e8)][_0x540778][_0x21634e(0x16c)]=_0x21634e(0x4f5),_0x347588['variables'][_0x540778][_0x21634e(0x4f5)]=!0x0);}),_0x347588[_0x12bde7(0x269)]&&_0x347588[_0x12bde7(0x269)]['length']>0x0&&_0x347588[_0x12bde7(0x269)][_0x12bde7(0x680)](_0x3a59a1=>{const _0x12efc7=_0x12bde7;_0x3a59a1['groupId']&&_0x3a59a1[_0x12efc7(0x37b)]&&_0x3a59a1['groupId']===_0x3a59a1[_0x12efc7(0x37b)]&&(_0x3a59a1[_0x12efc7(0x37b)]=null);});let _0x42ce35=await this[_0x12bde7(0x402)]['flow'][_0x12bde7(0x21a)](_0x347588[_0x12bde7(0x447)],_0x347588,this[_0x12bde7(0x5a4)][_0x12bde7(0x5aa)]);if(!_0x42ce35)throw new Error(_0x12bde7(0x62f));return _0x42ce35;}catch(_0x283b51){throw this[_0x12bde7(0xd4)][_0x12bde7(0x3e1)](this[_0x12bde7(0x45c)]+'\x20('+this[_0x12bde7(0x5a4)][_0x12bde7(0x5aa)]+_0x12bde7(0x19c)+(_0x283b51 instanceof Error?_0x283b51['message']:JSON[_0x12bde7(0x24b)](_0x283b51,null,0x2))),new w(_0x12bde7(0x140)+_0x283b51);}}async[a0_0x57f064(0x2ae)](){const _0x31f1f3=a0_0x57f064;try{return this[_0x31f1f3(0xd4)][_0x31f1f3(0xc2)](this[_0x31f1f3(0x45c)]+'\x20('+this[_0x31f1f3(0x5a4)]['wuid']+_0x31f1f3(0x5d8)),await this['repository']['flow']['updateMissingShareOwners'](this[_0x31f1f3(0x5a4)][_0x31f1f3(0x5aa)]),await this[_0x31f1f3(0x402)][_0x31f1f3(0x525)][_0x31f1f3(0x654)]({'where':{}},this[_0x31f1f3(0x5a4)][_0x31f1f3(0x5aa)]);}catch(_0xf7a09f){return this[_0x31f1f3(0xd4)]['error'](this[_0x31f1f3(0x45c)]+'\x20('+this[_0x31f1f3(0x5a4)]['wuid']+_0x31f1f3(0x567)+(_0xf7a09f instanceof Error?_0xf7a09f[_0x31f1f3(0x65a)]:JSON[_0x31f1f3(0x24b)](_0xf7a09f,null,0x2))),{'message':_0x31f1f3(0x3a1)+_0xf7a09f};}}async[a0_0x57f064(0x1b5)](_0x5d9370){const _0xbe8037=a0_0x57f064;try{this[_0xbe8037(0xd4)][_0xbe8037(0xc2)](this[_0xbe8037(0x45c)]+'\x20('+this[_0xbe8037(0x5a4)][_0xbe8037(0x5aa)]+_0xbe8037(0x192));let _0x22dc3a=await this['repository'][_0xbe8037(0x525)][_0xbe8037(0x5a2)]({'where':{'name':_0x5d9370['name']}},this[_0xbe8037(0x5a4)]['wuid']);if(!_0x22dc3a)return{'message':_0xbe8037(0xcb)};_0x5d9370[_0xbe8037(0x25e)]===!0x0&&await this[_0xbe8037(0x402)]['flow']['updateMany']({},{'default':!0x1},this['instance']['wuid']),delete _0x5d9370['shareOwners'],delete _0x5d9370[_0xbe8037(0x1f6)];let _0x2dc8f3=await this[_0xbe8037(0x402)][_0xbe8037(0x525)][_0xbe8037(0x21a)](_0x22dc3a[_0xbe8037(0x447)],_0x5d9370,this[_0xbe8037(0x5a4)][_0xbe8037(0x5aa)]);return _0x2dc8f3&&_0x2dc8f3[_0xbe8037(0x18f)]&&_0x2dc8f3[_0xbe8037(0x18f)]['length']>0x1&&this[_0xbe8037(0xa5)](_0x2dc8f3[_0xbe8037(0x447)],this['instance'][_0xbe8037(0x5aa)]),_0x2dc8f3;}catch(_0xe02d4a){throw this[_0xbe8037(0xd4)]['error'](this[_0xbe8037(0x45c)]+'\x20('+this[_0xbe8037(0x5a4)][_0xbe8037(0x5aa)]+'):\x20Erro\x20ao\x20alterar\x20fluxo:\x20'+(_0xe02d4a instanceof Error?_0xe02d4a[_0xbe8037(0x65a)]:JSON[_0xbe8037(0x24b)](_0xe02d4a,null,0x2))),new w(_0xbe8037(0x479)+(_0xe02d4a instanceof Error?_0xe02d4a[_0xbe8037(0x65a)]:JSON['stringify'](_0xe02d4a,null,0x2)));}}async[a0_0x57f064(0x5c9)](_0x3936c5){const _0x1c1c6e=a0_0x57f064;try{this['logger'][_0x1c1c6e(0xc2)](this[_0x1c1c6e(0x45c)]+'\x20('+this[_0x1c1c6e(0x5a4)]['wuid']+'):\x20Editando\x20bloco...');let _0x34bffc=await this[_0x1c1c6e(0x402)][_0x1c1c6e(0x525)]['findOne']({'where':{'name':_0x3936c5[_0x1c1c6e(0x336)]}},this['instance'][_0x1c1c6e(0x5aa)]);_0x34bffc||this[_0x1c1c6e(0x4d3)](_0x1c1c6e(0x66b));let {block:_0x48071b}=_0x3936c5;_0x48071b?.[_0x1c1c6e(0x636)]?this[_0x1c1c6e(0x478)](_0x34bffc,_0x3936c5):_0x48071b?.[_0x1c1c6e(0x3b5)]?this[_0x1c1c6e(0x57f)](_0x34bffc,_0x3936c5):_0x48071b[_0x1c1c6e(0x447)]?await this[_0x1c1c6e(0x274)](_0x34bffc,_0x3936c5):this[_0x1c1c6e(0x43a)](_0x34bffc,_0x3936c5);let _0x4d3b27=await this[_0x1c1c6e(0x402)][_0x1c1c6e(0x525)][_0x1c1c6e(0x21a)](_0x34bffc[_0x1c1c6e(0x447)],_0x34bffc,this[_0x1c1c6e(0x5a4)][_0x1c1c6e(0x5aa)]);if(_0x4d3b27&&_0x4d3b27[_0x1c1c6e(0x18f)]&&_0x4d3b27[_0x1c1c6e(0x18f)][_0x1c1c6e(0x611)]>0x1&&this[_0x1c1c6e(0xa5)](_0x4d3b27[_0x1c1c6e(0x447)],this[_0x1c1c6e(0x5a4)][_0x1c1c6e(0x5aa)]),!_0x4d3b27)throw new Error(_0x1c1c6e(0x62f));return _0x4d3b27;}catch(_0x5abb16){this[_0x1c1c6e(0x4d3)]('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x5abb16);}}async[a0_0x57f064(0x478)](_0x7b0984,_0x5d0c7c){const _0x2406c5=a0_0x57f064;let _0x30ddd9=_0x5d0c7c[_0x2406c5(0x38c)][_0x2406c5(0x447)],_0x2ff9f9=_0x7b0984['blocks']['find'](_0x544248=>_0x544248['_id']['toString']()===_0x30ddd9);if(!_0x2ff9f9){this[_0x2406c5(0xd4)]['error'](this['instanceName']+'\x20('+this[_0x2406c5(0x5a4)]['wuid']+_0x2406c5(0x271)+_0x30ddd9+_0x2406c5(0x2b3));return;}this[_0x2406c5(0xd4)][_0x2406c5(0xc2)](this['instanceName']+'\x20('+this[_0x2406c5(0x5a4)][_0x2406c5(0x5aa)]+_0x2406c5(0x2b9)+JSON['stringify'](_0x2ff9f9));let _0x54f399=JSON[_0x2406c5(0xb8)](JSON['stringify'](_0x2ff9f9));_0x54f399['_id']=new le['default'][(_0x2406c5(0x665))][(_0x2406c5(0x730))](),this[_0x2406c5(0xd4)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x2406c5(0x5aa)]+_0x2406c5(0x2c0)+JSON[_0x2406c5(0x24b)](_0x54f399)),_0x7b0984[_0x2406c5(0x269)][_0x2406c5(0x1e9)](_0x54f399),this['reorderBlocks'](_0x7b0984[_0x2406c5(0x269)],_0x54f399['groupId']);}[a0_0x57f064(0x4d3)](_0x19943c){const _0x15ea5d=a0_0x57f064;throw this[_0x15ea5d(0xd4)][_0x15ea5d(0x3e1)](this['instanceName']+'\x20('+this[_0x15ea5d(0x5a4)][_0x15ea5d(0x5aa)]+'):\x20'+_0x19943c),new w(_0x19943c);}[a0_0x57f064(0x57f)](_0x35eff7,_0x373d8c){const _0x471a08=a0_0x57f064;let {block:_0x4e4a4c}=_0x373d8c;if(_0x4e4a4c['type']===_0x471a08(0x61d)){this[_0x471a08(0x4d3)](_0x471a08(0x69f));return;}if(!_0x4e4a4c[_0x471a08(0x447)]){this[_0x471a08(0x4d3)](_0x471a08(0x3d5));return;}let _0x5b0a54=_0x35eff7[_0x471a08(0x269)][_0x471a08(0x5c8)](_0x16c8bb=>_0x16c8bb[_0x471a08(0x447)][_0x471a08(0x1ef)]()===_0x373d8c[_0x471a08(0x38c)][_0x471a08(0x447)][_0x471a08(0x1ef)]());if(!_0x5b0a54){this['throwAndLogError'](_0x471a08(0x696)+_0x4e4a4c[_0x471a08(0x447)]+_0x471a08(0x33e));return;}_0x35eff7[_0x471a08(0x269)]=_0x35eff7[_0x471a08(0x269)][_0x471a08(0x4e4)](_0x3a6df5=>_0x3a6df5['_id'][_0x471a08(0x1ef)]()!==_0x373d8c[_0x471a08(0x38c)][_0x471a08(0x447)]['toString']()),_0x35eff7[_0x471a08(0x4ea)]=_0x35eff7[_0x471a08(0x4ea)][_0x471a08(0x4e4)](_0x401b60=>_0x401b60['blockId']!==_0x4e4a4c['_id'][_0x471a08(0x1ef)]()),_0x35eff7[_0x471a08(0x709)]=_0x35eff7[_0x471a08(0x709)][_0x471a08(0x4e4)](_0x35755b=>_0x35755b[_0x471a08(0x526)]!==_0x4e4a4c['_id'][_0x471a08(0x1ef)]()),_0x35eff7[_0x471a08(0x6f2)]=_0x35eff7[_0x471a08(0x6f2)]['filter'](_0x3f118e=>_0x3f118e['blockId']!==_0x4e4a4c[_0x471a08(0x447)]['toString']()),this[_0x471a08(0x416)](_0x35eff7[_0x471a08(0x269)],_0x5b0a54[_0x471a08(0x3bf)]);}async[a0_0x57f064(0x274)](_0xa0d7a,_0x2c64f2){const _0x152532=a0_0x57f064;let _0x427037=_0xa0d7a[_0x152532(0x269)]['findIndex'](_0x1d1f91=>_0x1d1f91[_0x152532(0x447)][_0x152532(0x1ef)]()===_0x2c64f2[_0x152532(0x38c)][_0x152532(0x447)][_0x152532(0x1ef)]());if(this['logger']['verbose'](this[_0x152532(0x45c)]+'\x20('+this[_0x152532(0x5a4)][_0x152532(0x5aa)]+_0x152532(0x6bd)+_0x427037),_0x427037===-0x1){this[_0x152532(0xd4)][_0x152532(0xc2)](_0x152532(0x696)+_0x2c64f2[_0x152532(0x38c)][_0x152532(0x447)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}if(_0xa0d7a[_0x152532(0x269)][_0x427037][_0x152532(0x6eb)]==='start'){let _0x815d0c=Object[_0x152532(0x571)](_0x2c64f2[_0x152532(0x38c)]);if(_0x815d0c[_0x152532(0x611)]>0x2||_0x815d0c['length']===0x2&&!_0x815d0c[_0x152532(0x613)]('next_groupId')){this[_0x152532(0x4d3)](_0x152532(0x380));return;}}let _0x3eed52=_0xa0d7a['blocks'][_0x427037][_0x152532(0x3bf)];for(let _0x13c676 in _0x2c64f2[_0x152532(0x38c)])_0x2c64f2['block'][_0x152532(0x5c5)](_0x13c676)&&(_0xa0d7a[_0x152532(0x269)][_0x427037][_0x13c676]=_0x2c64f2[_0x152532(0x38c)][_0x13c676]);if(this['logger'][_0x152532(0xc2)](this[_0x152532(0x45c)]+'\x20('+this['instance'][_0x152532(0x5aa)]+_0x152532(0x358)+JSON[_0x152532(0x24b)](_0xa0d7a[_0x152532(0x269)][_0x427037])),_0xa0d7a[_0x152532(0x269)][_0x427037][_0x152532(0x4a8)]&&_0x152532(0x4af)in _0xa0d7a[_0x152532(0x269)][_0x427037]['apirequest']){this['logger'][_0x152532(0xc2)](this[_0x152532(0x45c)]+'\x20('+this[_0x152532(0x5a4)][_0x152532(0x5aa)]+_0x152532(0x3d8));let _0x31e79f=JSON[_0x152532(0x24b)](_0xa0d7a[_0x152532(0x269)][_0x427037][_0x152532(0x4a8)]['header'],null,0x1);_0x31e79f[_0x152532(0x611)]>0x2&&(_0x31e79f=_0x31e79f[_0x152532(0x1d5)](0x1,_0x31e79f['length']-0x1)['trim']()),_0xa0d7a[_0x152532(0x269)][_0x427037][_0x152532(0x4a8)][_0x152532(0x255)]=_0x31e79f;}if(_0xa0d7a['blocks'][_0x427037][_0x152532(0x4a8)]&&_0x152532(0x2b6)in _0xa0d7a['blocks'][_0x427037][_0x152532(0x4a8)]){this[_0x152532(0xd4)][_0x152532(0xc2)](this[_0x152532(0x45c)]+'\x20('+this['instance'][_0x152532(0x5aa)]+_0x152532(0x142));let _0x44fcb8=JSON['stringify'](_0xa0d7a[_0x152532(0x269)][_0x427037][_0x152532(0x4a8)][_0x152532(0x2b6)],null,0x1);_0x44fcb8[_0x152532(0x611)]>0x2&&(_0x44fcb8=_0x44fcb8[_0x152532(0x1d5)](0x1,_0x44fcb8['length']-0x1)['trim']()),_0xa0d7a['blocks'][_0x427037][_0x152532(0x4a8)]['bodyString']=_0x44fcb8;}let _0x3cc2e9=_0xa0d7a['blocks'][_0x427037][_0x152532(0x3bf)];_0x3eed52!==_0x3cc2e9?(this[_0x152532(0x416)](_0xa0d7a[_0x152532(0x269)],_0x3eed52),this[_0x152532(0x416)](_0xa0d7a[_0x152532(0x269)],_0x3cc2e9)):this['reorderBlocks'](_0xa0d7a[_0x152532(0x269)],_0x3eed52);}[a0_0x57f064(0x43a)](_0x1dcf0d,_0x174c62){const _0x2a5503=a0_0x57f064;if(_0x174c62['block'][_0x2a5503(0x6eb)]===_0x2a5503(0x61d)){this[_0x2a5503(0x4d3)](_0x2a5503(0x710));return;}if(_0x174c62[_0x2a5503(0x38c)][_0x2a5503(0x4a8)]&&_0x2a5503(0x4af)in _0x174c62[_0x2a5503(0x38c)][_0x2a5503(0x4a8)]){this[_0x2a5503(0xd4)][_0x2a5503(0xc2)](this[_0x2a5503(0x45c)]+'\x20('+this['instance'][_0x2a5503(0x5aa)]+_0x2a5503(0x3d8));let _0x17b7e7=JSON[_0x2a5503(0x24b)](_0x174c62['block'][_0x2a5503(0x4a8)][_0x2a5503(0x4af)],null,0x1);_0x17b7e7[_0x2a5503(0x611)]>0x2&&(_0x17b7e7=_0x17b7e7[_0x2a5503(0x1d5)](0x1,_0x17b7e7[_0x2a5503(0x611)]-0x1)[_0x2a5503(0x4a0)]()),_0x174c62[_0x2a5503(0x38c)][_0x2a5503(0x4a8)][_0x2a5503(0x255)]=_0x17b7e7;}_0x174c62[_0x2a5503(0x38c)][_0x2a5503(0x4a8)]&&'body'in _0x174c62[_0x2a5503(0x38c)]['apirequest']&&(this[_0x2a5503(0xd4)][_0x2a5503(0xc2)](this[_0x2a5503(0x45c)]+'\x20('+this[_0x2a5503(0x5a4)]['wuid']+_0x2a5503(0x142)),_0x174c62['block'][_0x2a5503(0x4a8)][_0x2a5503(0x235)]=JSON[_0x2a5503(0x24b)](_0x174c62[_0x2a5503(0x38c)][_0x2a5503(0x4a8)]['body'],null,0x1)[_0x2a5503(0x4a0)]()),_0x1dcf0d['blocks'][_0x2a5503(0x1e9)](_0x174c62[_0x2a5503(0x38c)]),this[_0x2a5503(0x416)](_0x1dcf0d[_0x2a5503(0x269)],_0x174c62[_0x2a5503(0x38c)][_0x2a5503(0x3bf)]);}['reorderBlocks'](_0x3defa8,_0x5e4c1e){const _0x5029fc=a0_0x57f064;let _0x481a86=_0x3defa8[_0x5029fc(0x4e4)](_0x5600c2=>_0x5600c2[_0x5029fc(0x3bf)]===_0x5e4c1e);_0x481a86[_0x5029fc(0x5fb)]((_0x45499e,_0x5c7386)=>_0x45499e[_0x5029fc(0x4e5)]-_0x5c7386['order']),_0x481a86['forEach']((_0x5357a1,_0x299092)=>_0x5357a1[_0x5029fc(0x4e5)]=_0x299092+0x1);}async[a0_0x57f064(0x5eb)](_0x303743){const _0x4bc910=a0_0x57f064;try{if(this[_0x4bc910(0xd4)]['verbose'](this[_0x4bc910(0x45c)]+'\x20('+this[_0x4bc910(0x5a4)][_0x4bc910(0x5aa)]+_0x4bc910(0x147)),!_0x303743||!_0x303743[_0x4bc910(0x24c)]){this[_0x4bc910(0x4d3)](_0x4bc910(0x6a7));return;}let _0x322130=await this[_0x4bc910(0x402)][_0x4bc910(0x525)][_0x4bc910(0x5a2)]({'where':{'name':_0x303743['name']}},this[_0x4bc910(0x5a4)][_0x4bc910(0x5aa)]);_0x322130||this['throwAndLogError'](_0x4bc910(0x66b));let {replyOption:_0x5408ea}=_0x303743;_0x5408ea?.[_0x4bc910(0x3b5)]?(this[_0x4bc910(0x26d)](_0x322130,_0x303743),this[_0x4bc910(0x6cb)](_0x322130[_0x4bc910(0x6f2)],_0x303743[_0x4bc910(0x24c)][_0x4bc910(0x526)])):_0x5408ea[_0x4bc910(0x447)]?(await this[_0x4bc910(0x4ca)](_0x322130,_0x303743),this[_0x4bc910(0x6cb)](_0x322130[_0x4bc910(0x6f2)],_0x303743['replyOption'][_0x4bc910(0x526)])):(this[_0x4bc910(0x324)](_0x322130,_0x303743),this[_0x4bc910(0x6cb)](_0x322130[_0x4bc910(0x6f2)],_0x303743['replyOption'][_0x4bc910(0x526)]));let _0x54a911=await this[_0x4bc910(0x402)]['flow']['updateOne'](_0x322130[_0x4bc910(0x447)],_0x322130,this[_0x4bc910(0x5a4)][_0x4bc910(0x5aa)]);if(_0x54a911&&_0x54a911[_0x4bc910(0x18f)]&&_0x54a911[_0x4bc910(0x18f)][_0x4bc910(0x611)]>0x1&&this[_0x4bc910(0xa5)](_0x54a911['_id'],this[_0x4bc910(0x5a4)][_0x4bc910(0x5aa)]),!_0x54a911)throw new Error(_0x4bc910(0x62f));return _0x54a911;}catch(_0x3f0d27){this[_0x4bc910(0x4d3)]('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x3f0d27);}}[a0_0x57f064(0x6cb)](_0x592ac8,_0x511577){const _0x596262=a0_0x57f064;console[_0x596262(0x71f)](_0x596262(0x106),_0x511577),_0x592ac8[_0x596262(0x680)](_0x3a093c=>{const _0x5f5639=_0x596262;_0x3a093c[_0x5f5639(0x526)]===_0x511577&&_0x3a093c[_0x5f5639(0x4e5)]===void 0x0&&(_0x3a093c[_0x5f5639(0x4e5)]=0x270f);});let _0x251164=_0x592ac8['filter'](_0x79cbc9=>_0x79cbc9[_0x596262(0x526)]===_0x511577);_0x251164[_0x596262(0x5fb)]((_0x53a98b,_0x5e4186)=>_0x53a98b['order']-_0x5e4186['order']),_0x251164[_0x596262(0x680)]((_0x33f21d,_0x494dbe)=>{_0x33f21d['order']=_0x494dbe+0x1;}),_0x592ac8['forEach'](_0x1762ac=>{const _0x1de14f=_0x596262;if(_0x1762ac['blockId']===_0x511577){let _0x54d64f=_0x251164[_0x1de14f(0x5c8)](_0x1a4ac4=>_0x1a4ac4[_0x1de14f(0x447)]&&_0x1762ac[_0x1de14f(0x447)]&&_0x1a4ac4[_0x1de14f(0x447)]['toString']()===_0x1762ac['_id'][_0x1de14f(0x1ef)]());_0x54d64f&&(_0x1762ac[_0x1de14f(0x4e5)]=_0x54d64f['order']);}}),console[_0x596262(0x71f)]('ReplyOptions\x20finais\x20após\x20reordenação:',_0x592ac8);}[a0_0x57f064(0x26d)](_0x23cb31,_0x1e7daf){const _0x4f305d=a0_0x57f064;let {replyOption:_0x8b6bcf}=_0x1e7daf;if(!_0x8b6bcf[_0x4f305d(0x447)]){this[_0x4f305d(0x4d3)](_0x4f305d(0x337));return;}if(!_0x23cb31['replyOptions']['find'](_0x3efe15=>_0x3efe15[_0x4f305d(0x447)]['toString']()===_0x1e7daf[_0x4f305d(0x24c)][_0x4f305d(0x447)]['toString']())){this['throwAndLogError'](_0x4f305d(0x438)+_0x8b6bcf['_id']+_0x4f305d(0x33e));return;}_0x23cb31[_0x4f305d(0x6f2)]=_0x23cb31['replyOptions'][_0x4f305d(0x4e4)](_0x1e2c41=>_0x1e2c41[_0x4f305d(0x447)]['toString']()!==_0x1e7daf['replyOption'][_0x4f305d(0x447)][_0x4f305d(0x1ef)]());}async[a0_0x57f064(0x4ca)](_0x3c14b8,_0x42dc4c){const _0x4fb953=a0_0x57f064;let _0x4731a9=_0x3c14b8[_0x4fb953(0x6f2)]['findIndex'](_0x21070e=>_0x21070e['_id'][_0x4fb953(0x1ef)]()===_0x42dc4c[_0x4fb953(0x24c)][_0x4fb953(0x447)][_0x4fb953(0x1ef)]());if(_0x4731a9===-0x1){this['throwAndLogError'](_0x4fb953(0x438)+_0x42dc4c[_0x4fb953(0x24c)][_0x4fb953(0x447)]+_0x4fb953(0x5d6));return;}for(let _0x36edf7 in _0x42dc4c['replyOption'])_0x42dc4c[_0x4fb953(0x24c)]['hasOwnProperty'](_0x36edf7)&&(_0x3c14b8[_0x4fb953(0x6f2)][_0x4731a9][_0x36edf7]=_0x42dc4c[_0x4fb953(0x24c)][_0x36edf7]);}['addReplyOption'](_0x2c9506,_0x533873){const _0x37b216=a0_0x57f064;_0x2c9506[_0x37b216(0x6f2)][_0x37b216(0x1e9)](_0x533873[_0x37b216(0x24c)]);}async[a0_0x57f064(0x119)](_0x2b9a36){const _0x1ac63a=a0_0x57f064;this[_0x1ac63a(0xd4)]['verbose'](this[_0x1ac63a(0x45c)]+'\x20('+this[_0x1ac63a(0x5a4)]['wuid']+_0x1ac63a(0x369)+_0x2b9a36);try{this[_0x1ac63a(0xd4)]['verbose'](this[_0x1ac63a(0x45c)]+'\x20('+this['instance'][_0x1ac63a(0x5aa)]+_0x1ac63a(0x1b2));let _0x53f63f=await this[_0x1ac63a(0x402)][_0x1ac63a(0x525)][_0x1ac63a(0x5a2)]({'where':{'name':_0x2b9a36[_0x1ac63a(0x336)]}},this[_0x1ac63a(0x5a4)][_0x1ac63a(0x5aa)]);if(!_0x53f63f)throw new Error(_0x1ac63a(0x66b));if(_0x2b9a36[_0x1ac63a(0x217)]&&_0x2b9a36[_0x1ac63a(0x217)]?.[_0x1ac63a(0x3b5)]===!0x0){if(this[_0x1ac63a(0xd4)][_0x1ac63a(0xc2)](this[_0x1ac63a(0x45c)]+'\x20('+this[_0x1ac63a(0x5a4)][_0x1ac63a(0x5aa)]+'):\x20delete\x20=\x20true'),_0x2b9a36[_0x1ac63a(0x217)][_0x1ac63a(0x25e)]===!0x0)return{'message':_0x1ac63a(0x66f)};if(_0x53f63f[_0x1ac63a(0x269)][_0x1ac63a(0x345)](_0x5cbb62=>_0x5cbb62[_0x1ac63a(0x3bf)][_0x1ac63a(0x1ef)]()===_0x2b9a36['group'][_0x1ac63a(0x447)]))return this[_0x1ac63a(0xd4)][_0x1ac63a(0xc2)](this[_0x1ac63a(0x45c)]+'\x20('+this[_0x1ac63a(0x5a4)][_0x1ac63a(0x5aa)]+'):\x20tem\x20blocks'),{'message':_0x1ac63a(0x50f)};_0x53f63f[_0x1ac63a(0x72f)]=_0x53f63f[_0x1ac63a(0x72f)]['filter'](_0x1d9124=>_0x1d9124[_0x1ac63a(0x447)][_0x1ac63a(0x1ef)]()!==_0x2b9a36[_0x1ac63a(0x217)][_0x1ac63a(0x447)]);}else{if(_0x2b9a36[_0x1ac63a(0x217)]){if(_0x2b9a36[_0x1ac63a(0x217)]['default']===!0x0)return{'message':_0x1ac63a(0x4e7)};if(_0x2b9a36[_0x1ac63a(0x217)][_0x1ac63a(0x447)]){let _0x50d94=_0x53f63f['groups'][_0x1ac63a(0x5c8)](_0x1b36af=>_0x1b36af[_0x1ac63a(0x447)][_0x1ac63a(0x1ef)]()===_0x2b9a36[_0x1ac63a(0x217)][_0x1ac63a(0x447)]);_0x50d94&&(_0x2b9a36[_0x1ac63a(0x217)]['x']<0x0&&(_0x2b9a36[_0x1ac63a(0x217)]['x']=0x0),_0x2b9a36[_0x1ac63a(0x217)]['y']<0x0&&(_0x2b9a36[_0x1ac63a(0x217)]['y']=0x0),Object[_0x1ac63a(0x4fe)](_0x50d94,_0x2b9a36[_0x1ac63a(0x217)]));}else _0x53f63f['groups']['push'](_0x2b9a36['group']);}}let _0x5c90a7=await this[_0x1ac63a(0x402)]['flow'][_0x1ac63a(0x21a)](_0x53f63f[_0x1ac63a(0x447)],_0x53f63f,this[_0x1ac63a(0x5a4)]['wuid']);if(_0x5c90a7&&_0x5c90a7[_0x1ac63a(0x18f)]&&_0x5c90a7['shareOwners'][_0x1ac63a(0x611)]>0x1&&this[_0x1ac63a(0xa5)](_0x5c90a7[_0x1ac63a(0x447)],this['instance'][_0x1ac63a(0x5aa)]),!_0x5c90a7)throw new Error(_0x1ac63a(0x62f));return _0x5c90a7;}catch(_0x7d316c){throw this[_0x1ac63a(0xd4)][_0x1ac63a(0x3e1)](this[_0x1ac63a(0x45c)]+'\x20('+this[_0x1ac63a(0x5a4)][_0x1ac63a(0x5aa)]+'):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+(_0x7d316c instanceof Error?_0x7d316c[_0x1ac63a(0x65a)]:JSON[_0x1ac63a(0x24b)](_0x7d316c,null,0x2))),new w(_0x1ac63a(0x39a)+(_0x7d316c instanceof Error?_0x7d316c['message']:JSON[_0x1ac63a(0x24b)](_0x7d316c,null,0x2)));}}async[a0_0x57f064(0x465)](_0x49eab1){const _0x117758=a0_0x57f064;try{this['logger'][_0x117758(0xc2)](this[_0x117758(0x45c)]+'\x20('+this[_0x117758(0x5a4)]['wuid']+_0x117758(0x564));let _0x1b6c07=await this[_0x117758(0x402)][_0x117758(0x525)][_0x117758(0x5a2)]({'where':{'name':_0x49eab1[_0x117758(0x336)]}},this[_0x117758(0x5a4)][_0x117758(0x5aa)]);if(!_0x1b6c07)throw new Error(_0x117758(0x66b));let _0x25203c=!0x1;if(_0x49eab1[_0x117758(0x5c4)]?.[_0x117758(0x3b5)]===!0x0)_0x1b6c07[_0x117758(0x4ea)]=_0x1b6c07[_0x117758(0x4ea)][_0x117758(0x4e4)](_0x45d652=>_0x45d652&&_0x49eab1[_0x117758(0x5c4)]&&_0x45d652[_0x117758(0x447)]&&_0x49eab1['condition'][_0x117758(0x447)]&&_0x45d652[_0x117758(0x447)][_0x117758(0x1ef)]()!==_0x49eab1[_0x117758(0x5c4)]['_id'][_0x117758(0x1ef)]()),_0x25203c=!0x0;else{let _0x2c4662=_0x1b6c07['conditions'][_0x117758(0x5c8)](_0x419d68=>_0x419d68&&_0x49eab1[_0x117758(0x5c4)]&&_0x419d68[_0x117758(0x447)]&&_0x49eab1[_0x117758(0x5c4)][_0x117758(0x447)]&&_0x419d68[_0x117758(0x447)][_0x117758(0x1ef)]()===_0x49eab1['condition'][_0x117758(0x447)][_0x117758(0x1ef)]());_0x2c4662?(_0x25203c=_0x2c4662[_0x117758(0x4e5)]!==_0x49eab1[_0x117758(0x5c4)]['order'],Object[_0x117758(0x4fe)](_0x2c4662,_0x49eab1['condition'])):(_0x1b6c07[_0x117758(0x4ea)][_0x117758(0x1e9)](_0x49eab1[_0x117758(0x5c4)]),_0x25203c=!0x0);}if(_0x25203c){_0x1b6c07[_0x117758(0x4ea)][_0x117758(0x5fb)]((_0x59f127,_0x3d0692)=>_0x59f127[_0x117758(0x4e5)]>_0x3d0692['order']?0x1:_0x3d0692[_0x117758(0x4e5)]>_0x59f127[_0x117758(0x4e5)]?-0x1:0x0);for(let _0xac80a0=0x0;_0xac80a0<_0x1b6c07['conditions']['length'];_0xac80a0++)_0x1b6c07[_0x117758(0x4ea)][_0xac80a0]['order']=_0xac80a0+0x1;_0x1b6c07[_0x117758(0x4ea)][_0x117758(0x611)]>0x0&&(_0x1b6c07[_0x117758(0x4ea)][0x0]['OrAnd']='and');}let _0x48d17f=await this['repository'][_0x117758(0x525)][_0x117758(0x21a)](_0x1b6c07[_0x117758(0x447)],_0x1b6c07,this['instance'][_0x117758(0x5aa)]);if(_0x48d17f&&_0x48d17f[_0x117758(0x18f)]&&_0x48d17f[_0x117758(0x18f)][_0x117758(0x611)]>0x1&&this[_0x117758(0xa5)](_0x48d17f['_id'],this[_0x117758(0x5a4)][_0x117758(0x5aa)]),!_0x48d17f)throw new Error(_0x117758(0x62f));return _0x48d17f;}catch(_0x2d26aa){throw this[_0x117758(0xd4)][_0x117758(0x3e1)](this[_0x117758(0x45c)]+'\x20('+this['instance'][_0x117758(0x5aa)]+_0x117758(0x2ad)+(_0x2d26aa instanceof Error?_0x2d26aa['message']:JSON[_0x117758(0x24b)](_0x2d26aa,null,0x2))),new Error(_0x117758(0x6e1)+(_0x2d26aa instanceof Error?_0x2d26aa[_0x117758(0x65a)]:JSON[_0x117758(0x24b)](_0x2d26aa,null,0x2)));}}async[a0_0x57f064(0x639)](_0x5075f8){const _0x36255e=a0_0x57f064;try{this[_0x36255e(0xd4)][_0x36255e(0xc2)](this[_0x36255e(0x45c)]+'\x20('+this[_0x36255e(0x5a4)][_0x36255e(0x5aa)]+'):\x20Editando\x20edição\x20do\x20fluxo...');let _0x5cb9df=await this[_0x36255e(0x402)][_0x36255e(0x525)][_0x36255e(0x5a2)]({'where':{'name':_0x5075f8[_0x36255e(0x336)]}},this['instance'][_0x36255e(0x5aa)]);if(!_0x5cb9df)throw new Error(_0x36255e(0x66b));let _0x43725c=!0x1;if(_0x5075f8[_0x36255e(0x707)]?.['delete']===!0x0)_0x5cb9df[_0x36255e(0x709)]=_0x5cb9df[_0x36255e(0x709)][_0x36255e(0x4e4)](_0x26386d=>_0x26386d&&_0x5075f8[_0x36255e(0x707)]&&_0x26386d[_0x36255e(0x447)]&&_0x5075f8[_0x36255e(0x707)]['_id']&&_0x26386d[_0x36255e(0x447)][_0x36255e(0x1ef)]()!==_0x5075f8[_0x36255e(0x707)][_0x36255e(0x447)][_0x36255e(0x1ef)]()),_0x43725c=!0x0;else{let _0x33785d=_0x5cb9df['varedits'][_0x36255e(0x5c8)](_0x254b04=>_0x254b04&&_0x5075f8[_0x36255e(0x707)]&&_0x254b04[_0x36255e(0x447)]&&_0x5075f8['varedit'][_0x36255e(0x447)]&&_0x254b04[_0x36255e(0x447)][_0x36255e(0x1ef)]()===_0x5075f8['varedit'][_0x36255e(0x447)]['toString']());_0x33785d?(_0x43725c=_0x33785d[_0x36255e(0x4e5)]!==_0x5075f8[_0x36255e(0x707)][_0x36255e(0x4e5)],Object['assign'](_0x33785d,_0x5075f8['varedit'])):(_0x5cb9df['varedits'][_0x36255e(0x1e9)](_0x5075f8['varedit']),_0x43725c=!0x0);}if(_0x43725c){_0x5cb9df['varedits'][_0x36255e(0x5fb)]((_0x499605,_0x12f821)=>_0x499605[_0x36255e(0x4e5)]>_0x12f821['order']?0x1:_0x12f821['order']>_0x499605[_0x36255e(0x4e5)]?-0x1:0x0);for(let _0x4f0b65=0x0;_0x4f0b65<_0x5cb9df['varedits']['length'];_0x4f0b65++)_0x5cb9df['varedits'][_0x4f0b65][_0x36255e(0x4e5)]=_0x4f0b65+0x1;}let _0x1b7159=await this['repository']['flow']['updateOne'](_0x5cb9df['_id'],_0x5cb9df,this['instance'][_0x36255e(0x5aa)]);if(_0x1b7159&&_0x1b7159['shareOwners']&&_0x1b7159['shareOwners']['length']>0x1&&this['synchronizeFlows'](_0x1b7159['_id'],this[_0x36255e(0x5a4)]['wuid']),!_0x1b7159)throw new Error(_0x36255e(0x62f));return _0x1b7159;}catch(_0x339bdb){throw this[_0x36255e(0xd4)][_0x36255e(0x3e1)](this[_0x36255e(0x45c)]+'\x20('+this[_0x36255e(0x5a4)][_0x36255e(0x5aa)]+_0x36255e(0x2ad)+(_0x339bdb instanceof Error?_0x339bdb[_0x36255e(0x65a)]:JSON[_0x36255e(0x24b)](_0x339bdb,null,0x2))),new w('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x339bdb instanceof Error?_0x339bdb['message']:JSON[_0x36255e(0x24b)](_0x339bdb,null,0x2)));}}async['editFlowVariable'](_0x6d7f9){const _0x110a1b=a0_0x57f064;try{this['logger'][_0x110a1b(0xc2)](this[_0x110a1b(0x45c)]+'\x20('+this['instance'][_0x110a1b(0x5aa)]+'):\x20Editando\x20variável\x20do\x20fluxo...');let _0x15ca49=await this['repository']['flow'][_0x110a1b(0x5a2)]({'where':{'name':_0x6d7f9[_0x110a1b(0x336)]}},this['instance'][_0x110a1b(0x5aa)]);if(!_0x15ca49)throw new Error(_0x110a1b(0x66b));_0x6d7f9['variable'][_0x110a1b(0x336)]=_0x6d7f9[_0x110a1b(0x22d)][_0x110a1b(0x336)][_0x110a1b(0x4a0)](),_0x6d7f9[_0x110a1b(0x22d)]['name'][_0x110a1b(0x52b)]('_')&&(_0x6d7f9[_0x110a1b(0x22d)][_0x110a1b(0x336)]=_0x6d7f9['variable'][_0x110a1b(0x336)][_0x110a1b(0x1d5)](0x1)),_0x6d7f9['variable'][_0x110a1b(0x336)]=_0x6d7f9['variable']['name'][_0x110a1b(0x4a0)]();let _0x25f31e=_0x15ca49[_0x110a1b(0x2e8)][_0x110a1b(0x5c8)](_0x3f410b=>_0x3f410b[_0x110a1b(0x336)]===_0x6d7f9['variable']['name']);if(_0x25f31e?.[_0x110a1b(0x4f5)]===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x6d7f9['variable']?.[_0x110a1b(0x3b5)]===!0x0){if(!_0x25f31e)return{'message':'Variável\x20não\x20encontrada!'};_0x15ca49[_0x110a1b(0x2e8)]=_0x15ca49[_0x110a1b(0x2e8)]['filter'](_0x50e9d6=>_0x50e9d6[_0x110a1b(0x336)]!==_0x6d7f9[_0x110a1b(0x22d)][_0x110a1b(0x336)]);}else _0x25f31e?Object[_0x110a1b(0x4fe)](_0x25f31e,_0x6d7f9[_0x110a1b(0x22d)]):_0x15ca49[_0x110a1b(0x2e8)][_0x110a1b(0x1e9)](_0x6d7f9[_0x110a1b(0x22d)]);let _0x518241=await this[_0x110a1b(0x402)][_0x110a1b(0x525)][_0x110a1b(0x21a)](_0x15ca49[_0x110a1b(0x447)],_0x15ca49,this['instance'][_0x110a1b(0x5aa)]);if(_0x518241&&_0x518241['shareOwners']&&_0x518241[_0x110a1b(0x18f)][_0x110a1b(0x611)]>0x1&&this[_0x110a1b(0xa5)](_0x518241[_0x110a1b(0x447)],this['instance'][_0x110a1b(0x5aa)]),!_0x518241)throw new Error(_0x110a1b(0x62f));return _0x518241;}catch(_0x54e99a){throw this[_0x110a1b(0xd4)][_0x110a1b(0x3e1)](this[_0x110a1b(0x45c)]+'\x20('+this['instance'][_0x110a1b(0x5aa)]+_0x110a1b(0x2e6)+(_0x54e99a instanceof Error?_0x54e99a[_0x110a1b(0x65a)]:JSON[_0x110a1b(0x24b)](_0x54e99a,null,0x2))),new w('Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20'+(_0x54e99a instanceof Error?_0x54e99a[_0x110a1b(0x65a)]:JSON[_0x110a1b(0x24b)](_0x54e99a,null,0x2)));}}async['startFlow'](_0x127e52){const _0x24d623=a0_0x57f064;let _0x332ddb=null;try{if(!this['AutomateSystem']?.[_0x24d623(0x46f)]['enabled'])throw new w(_0x24d623(0x700));this[_0x24d623(0xd4)][_0x24d623(0xc2)](this[_0x24d623(0x45c)]+'\x20('+this[_0x24d623(0x5a4)]['wuid']+_0x24d623(0x276));let _0x4668ef=(await this[_0x24d623(0xd3)]({'numbers':[_0x127e52[_0x24d623(0x409)]]}))[0x0];if(!_0x4668ef[_0x24d623(0x229)]&&!(0x0,m['isJidGroup'])(_0x4668ef['jid'])&&!_0x4668ef['jid'][_0x24d623(0x613)](_0x24d623(0x1c5)))throw _0x332ddb=JSON[_0x24d623(0x24b)](_0x4668ef,null,0x2),new w(_0x4668ef);let _0x54f86c=await this[_0x24d623(0x402)][_0x24d623(0x525)]['findOne']({'where':{'name':_0x127e52['name']}},this['instance']['wuid']);if(!_0x54f86c)return this[_0x24d623(0xd4)][_0x24d623(0x3e1)](this[_0x24d623(0x45c)]+'\x20('+this['instance']['wuid']+'):\x20Flow\x20não\x20encontrado'),{'message':'Flow\x20não\x20encontrado'};let _0x11a307=await this[_0x24d623(0x48c)](_0x54f86c,_0x4668ef[_0x24d623(0x726)],_0x127e52[_0x24d623(0x20e)]);if(_0x11a307){this[_0x24d623(0xd4)][_0x24d623(0xc2)](this[_0x24d623(0x45c)]+'\x20('+this[_0x24d623(0x5a4)][_0x24d623(0x5aa)]+_0x24d623(0x551));let _0x2ee575=await this['NextBlock'](_0x11a307);return _0x2ee575&&await this[_0x24d623(0x34c)](_0x11a307,_0x2ee575),{'message':'Flow\x20iniciado\x20com\x20'+_0x127e52[_0x24d623(0x409)]};}}catch(_0x212056){if(this[_0x24d623(0xd4)][_0x24d623(0x3e1)](this[_0x24d623(0x45c)]+'\x20('+this['instance'][_0x24d623(0x5aa)]+_0x24d623(0x4b3)+(_0x212056 instanceof Error?_0x212056[_0x24d623(0x65a)]:JSON[_0x24d623(0x24b)](_0x212056,null,0x2))),_0x332ddb=_0x212056 instanceof Error?_0x212056[_0x24d623(0x65a)]:JSON[_0x24d623(0x24b)](_0x212056,null,0x2),_0x332ddb)throw new w(_0x24d623(0x21f)+_0x332ddb);}}async[a0_0x57f064(0x16a)](_0x17978e){const _0x4b4e29=a0_0x57f064;try{let _0x3d7473={'remoteJid':_0x17978e,'status':_0x4b4e29(0xf2)},_0xf09fd6={'status':_0x4b4e29(0x55c)},_0x2f4149=await this[_0x4b4e29(0x402)][_0x4b4e29(0x4cb)][_0x4b4e29(0x5f5)](_0x3d7473,_0xf09fd6,this[_0x4b4e29(0x5a4)][_0x4b4e29(0x5aa)]);return this[_0x4b4e29(0xd4)][_0x4b4e29(0xc2)](this[_0x4b4e29(0x45c)]+'\x20('+this[_0x4b4e29(0x5a4)]['wuid']+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.'),_0x2f4149;}catch(_0x46a32f){throw this[_0x4b4e29(0xd4)][_0x4b4e29(0x3e1)](this[_0x4b4e29(0x45c)]+'\x20('+this[_0x4b4e29(0x5a4)][_0x4b4e29(0x5aa)]+_0x4b4e29(0x601)+_0x46a32f[_0x4b4e29(0x65a)]),_0x46a32f;}}async[a0_0x57f064(0x48c)](_0x1779ea,_0x28321e,_0x39514b){const _0x4a302d=a0_0x57f064;this[_0x4a302d(0xd4)]['verbose'](this[_0x4a302d(0x45c)]+'\x20('+this[_0x4a302d(0x5a4)][_0x4a302d(0x5aa)]+_0x4a302d(0x1d0)),await this['closeExistingConversations'](_0x28321e);try{let _0x474f16=require('mongodb')['ObjectId'],_0x3a6e5f=Date[_0x4a302d(0xa0)](),_0x7e863d=_0x4a302d(0x61d),_0x245381={},_0x21899f={},_0x149178={..._0x1779ea,'chatLog':null},_0x1ce488=await this[_0x4a302d(0x5dd)](_0x149178[_0x4a302d(0x2e8)]),_0x3b7a02=await this[_0x4a302d(0x651)](_0x28321e),_0x57f32a={..._0x1ce488,..._0x3b7a02,'_remoteJid':_0x28321e},_0x1fa2f2={'lastReceivedMessage':_0x245381,'lastSendMessage':_0x21899f,'lastBlockId':_0x7e863d,'lastCondition':!0x0,'realVariables':_0x57f32a};_0x149178[_0x4a302d(0x121)]=_0x1fa2f2,_0x149178['chatLog'][_0x4a302d(0x4d9)]={..._0x57f32a,..._0x39514b},delete _0x149178[_0x4a302d(0x447)],_0x149178[_0x4a302d(0x447)]=new _0x474f16(),_0x149178['lastInteraction']=_0x3a6e5f,_0x149178[_0x4a302d(0x5c7)]=_0x4a302d(0xf2),_0x149178['remoteJid']=_0x28321e;let _0x5d4cf0=await this[_0x4a302d(0x402)][_0x4a302d(0x4cb)]['updateOne'](_0x149178[_0x4a302d(0x447)],_0x149178,this[_0x4a302d(0x5a4)][_0x4a302d(0x5aa)]);return this[_0x4a302d(0xd4)][_0x4a302d(0xc2)](this[_0x4a302d(0x45c)]+'\x20('+this['instance'][_0x4a302d(0x5aa)]+_0x4a302d(0x332)),_0x5d4cf0?_0x149178:null;}catch(_0x2e5eb4){throw this[_0x4a302d(0xd4)]['error'](this[_0x4a302d(0x45c)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x2e5eb4 instanceof Error?_0x2e5eb4['message']:JSON[_0x4a302d(0x24b)](_0x2e5eb4,null,0x2))),new w(_0x2e5eb4[_0x4a302d(0x65a)]);}}async['getConversation'](_0xb80512){const _0x18c8fe=a0_0x57f064;try{this['logger'][_0x18c8fe(0xc2)](this['instanceName']+'\x20('+this[_0x18c8fe(0x5a4)][_0x18c8fe(0x5aa)]+'):\x20Buscando\x20conversa...'),this['logger'][_0x18c8fe(0xc2)](this['instanceName']+'\x20('+this[_0x18c8fe(0x5a4)][_0x18c8fe(0x5aa)]+_0x18c8fe(0x221)+_0xb80512);let _0x54433b={'where':{'_id':_0xb80512}};return await this['repository']['flowConversation'][_0x18c8fe(0x5a2)](_0x54433b,this[_0x18c8fe(0x5a4)][_0x18c8fe(0x5aa)]);}catch(_0x225508){throw this['logger'][_0x18c8fe(0x3e1)](this[_0x18c8fe(0x45c)]+'\x20('+this[_0x18c8fe(0x5a4)][_0x18c8fe(0x5aa)]+'):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20'+(_0x225508 instanceof Error?_0x225508[_0x18c8fe(0x65a)]:JSON[_0x18c8fe(0x24b)](_0x225508,null,0x2))),new w(_0x18c8fe(0x61c)+_0x225508[_0x18c8fe(0x65a)]);}}async[a0_0x57f064(0x5f8)](_0x293820){const _0x4328a3=a0_0x57f064;try{return this[_0x4328a3(0xd4)]['verbose'](this[_0x4328a3(0x45c)]+'\x20('+this[_0x4328a3(0x5a4)][_0x4328a3(0x5aa)]+'):\x20Buscando\x20conversas...'),await this[_0x4328a3(0x402)]['flowConversation'][_0x4328a3(0x5c8)](_0x293820,this['instance']['wuid']);}catch(_0x20093f){throw this[_0x4328a3(0xd4)][_0x4328a3(0x3e1)](this[_0x4328a3(0x45c)]+'\x20('+this['instance']['wuid']+_0x4328a3(0x64d)+(_0x20093f instanceof Error?_0x20093f[_0x4328a3(0x65a)]:JSON[_0x4328a3(0x24b)](_0x20093f,null,0x2))),new w(_0x4328a3(0x1fb)+_0x20093f[_0x4328a3(0x65a)]);}}async['deleteConversation'](_0x104111){const _0x2241df=a0_0x57f064;try{return this[_0x2241df(0xd4)][_0x2241df(0xc2)](this[_0x2241df(0x45c)]+'\x20('+this[_0x2241df(0x5a4)][_0x2241df(0x5aa)]+'):\x20Deletando\x20conversa...'),this['logger'][_0x2241df(0xc2)](this[_0x2241df(0x45c)]+'\x20('+this[_0x2241df(0x5a4)][_0x2241df(0x5aa)]+_0x2241df(0x721)+_0x104111),(await this[_0x2241df(0x402)][_0x2241df(0x4cb)][_0x2241df(0x3cd)]({'where':{'_id':_0x104111}},this[_0x2241df(0x5a4)]['wuid']))[_0x2241df(0x4dd)]===0x0?{'message':_0x2241df(0x59b)}:{'message':_0x2241df(0x5ae)};}catch(_0x2765c6){throw this['logger'][_0x2241df(0x3e1)](this[_0x2241df(0x45c)]+'\x20('+this[_0x2241df(0x5a4)][_0x2241df(0x5aa)]+'):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20'+(_0x2765c6 instanceof Error?_0x2765c6[_0x2241df(0x65a)]:JSON['stringify'](_0x2765c6,null,0x2))),new w(_0x2241df(0x3c9)+_0x2765c6[_0x2241df(0x65a)]);}}async[a0_0x57f064(0x5ec)](_0x2609ab){const _0x22d03e=a0_0x57f064;try{let {_id:_0x39ca09,chatLog:_0x380fee,status:_0x70db11}=_0x2609ab;if(!_0x39ca09)return{'message':_0x22d03e(0x474)};let _0x1a66f5={};if(_0x70db11!==void 0x0&&(_0x1a66f5[_0x22d03e(0x5c7)]=_0x70db11),Object[_0x22d03e(0x571)](_0x1a66f5)['length']===0x0)return{'message':_0x22d03e(0x3ef)};let _0x27b91c=await this[_0x22d03e(0x402)][_0x22d03e(0x4cb)][_0x22d03e(0x21a)](_0x39ca09,_0x1a66f5,this['instance'][_0x22d03e(0x5aa)]);return _0x27b91c||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0xa64cda){throw this[_0x22d03e(0xd4)][_0x22d03e(0x3e1)](this[_0x22d03e(0x45c)]+'\x20('+this['instance'][_0x22d03e(0x5aa)]+_0x22d03e(0x14f)+(_0xa64cda instanceof Error?_0xa64cda['message']:JSON[_0x22d03e(0x24b)](_0xa64cda,null,0x2))),new w(_0x22d03e(0x297)+_0xa64cda[_0x22d03e(0x65a)]);}}async[a0_0x57f064(0x412)](_0x374997){const _0x31d107=a0_0x57f064;let _0x2f7aab=await this[_0x31d107(0x402)][_0x31d107(0x206)][_0x31d107(0x5a2)]({'where':{'_id':_0x374997[_0x31d107(0x447)]}},this['instance'][_0x31d107(0x5aa)]);if(!_0x2f7aab)throw new w(_0x31d107(0x11a));console['log'](_0x374997);try{_0x374997['_id']=this['createJid'](_0x374997[_0x31d107(0x447)]);let {_id:_0x223a39,leadInfo:_0x216469}=_0x374997;if(!_0x223a39)throw new Error('O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.');let _0x2eb558=(_0xc4c3ff,_0x5a4089,_0x5c8351)=>{const _0xd18208=_0x31d107;_0xc4c3ff&&_0x5c8351[_0xd18208(0x680)](_0x130e2b=>{const _0x4831af=_0xd18208;_0xc4c3ff[_0x130e2b]!==void 0x0&&(_0x5a4089[_0x4831af(0x3b4)+_0x130e2b]=_0xc4c3ff[_0x130e2b]);});},_0x3c4a0e={};if(_0x216469&&(_0x2eb558(_0x216469,_0x3c4a0e,[_0x31d107(0x539),_0x31d107(0xd5),_0x31d107(0x242),_0x31d107(0x72c),'status',_0x31d107(0x43f),'tags',_0x31d107(0x21c),'responsavelid',_0x31d107(0x646)]),Array[_0x31d107(0x184)](_0x216469['customFields'])&&(_0x3c4a0e[_0x31d107(0x367)]=_0x216469[_0x31d107(0xef)][_0x31d107(0x3b7)](_0x5a889e=>({'_id':_0x5a889e['_id'],'value':_0x5a889e['value']}))),_0x374997[_0x31d107(0x4f5)][_0x31d107(0x646)]!==void 0x0)){let _0x24469f=await this[_0x31d107(0x402)][_0x31d107(0x400)][_0x31d107(0x5c8)]({'where':{}},this[_0x31d107(0x5a4)][_0x31d107(0x5aa)]),_0x3f5956=new Set(_0x374997[_0x31d107(0x4f5)][_0x31d107(0x646)]||[]),_0x39cf41=new Set(_0x374997[_0x31d107(0x4f5)][_0x31d107(0x646)]),_0x21ca1b=new Set(_0x24469f[_0x31d107(0x3b7)](_0x47e063=>_0x47e063['_id'])),_0x12c3c4=[..._0x39cf41][_0x31d107(0x4e4)](_0x3278d8=>!_0x3f5956[_0x31d107(0xdd)](_0x3278d8)&&_0x21ca1b['has'](_0x3278d8)),_0x361932=[..._0x3f5956][_0x31d107(0x4e4)](_0x454ab2=>!_0x39cf41[_0x31d107(0xdd)](_0x454ab2));if(_0x3c4a0e[_0x31d107(0x29e)]=[..._0x3f5956],_0x2f7aab&&!_0x2f7aab[_0x31d107(0xbe)]){for(let _0x2ad0d5 of _0x12c3c4)await this[_0x31d107(0x619)](_0x2ad0d5,_0x374997['_id']),_0x3f5956['add'](_0x2ad0d5);for(let _0x40ba02 of _0x361932)await this[_0x31d107(0xfb)](_0x40ba02,_0x374997[_0x31d107(0x447)]),_0x3f5956[_0x31d107(0x3b5)](_0x40ba02);}}if(_0x374997['unreadcount']!==void 0x0&&(_0x3c4a0e[_0x31d107(0x4e9)]=Number(_0x374997[_0x31d107(0x4e9)])),Object['keys'](_0x3c4a0e)[_0x31d107(0x611)]===0x0)throw new Error(_0x31d107(0x3ef));let _0x398f43=await this[_0x31d107(0x402)][_0x31d107(0x206)][_0x31d107(0x21a)]({'where':{'_id':_0x374997[_0x31d107(0x447)]}},_0x3c4a0e,this['instance'][_0x31d107(0x5aa)]);return _0x398f43&&q(this[_0x31d107(0x45c)],_0x31d107(0x5ee),{'chat':_0x398f43}),_0x398f43?(this[_0x31d107(0xd4)]['verbose'](this[_0x31d107(0x45c)]+'\x20('+this[_0x31d107(0x5a4)][_0x31d107(0x5aa)]+_0x31d107(0x455)+JSON[_0x31d107(0x24b)](_0x398f43,null,0x2)),_0x398f43):{'message':_0x31d107(0xe2)};}catch(_0x5106be){throw this['logger'][_0x31d107(0x3e1)](this[_0x31d107(0x45c)]+'\x20('+this[_0x31d107(0x5a4)]['wuid']+_0x31d107(0x27c)+(_0x5106be instanceof Error?_0x5106be[_0x31d107(0x65a)]:JSON[_0x31d107(0x24b)](_0x5106be,null,0x2))),new w(_0x31d107(0x393)+_0x5106be[_0x31d107(0x65a)]);}}async[a0_0x57f064(0x619)](_0x161d09,_0x100710){const _0x11e94a=a0_0x57f064;try{await this['client'][_0x11e94a(0x4be)](_0x100710,_0x161d09),console['log']('Label\x20'+_0x161d09+_0x11e94a(0x580)+_0x100710+_0x11e94a(0x25f));}catch(_0xb285c7){console['error'](_0x11e94a(0x6c5)+_0x161d09+_0x11e94a(0x3b9)+_0x100710+':',_0xb285c7);}}async['RemoveChatLabel'](_0x589c3a,_0x3c17f1){const _0x3f5af1=a0_0x57f064;try{await this[_0x3f5af1(0xec)][_0x3f5af1(0x384)](_0x3c17f1,_0x589c3a),console['log']('Label\x20'+_0x589c3a+'\x20removido\x20do\x20chat\x20'+_0x3c17f1+_0x3f5af1(0x25f));}catch(_0x1e827d){console[_0x3f5af1(0x3e1)](_0x3f5af1(0x11e)+_0x589c3a+_0x3f5af1(0x420)+_0x3c17f1+':',_0x1e827d);}}async['updateAgent'](_0x454e44){const _0x15d6ee=a0_0x57f064;try{let _0x40b7de=await this[_0x15d6ee(0x402)][_0x15d6ee(0x36d)][_0x15d6ee(0x3ac)](this['instance'][_0x15d6ee(0x5aa)]),_0x5a02cd=_0x454e44[_0x15d6ee(0x447)]?_0x40b7de['agents'][_0x15d6ee(0x2e3)](_0x1f62c7=>_0x1f62c7[_0x15d6ee(0x447)]===_0x454e44[_0x15d6ee(0x447)]):-0x1;if(_0x454e44['delete']&&_0x5a02cd>-0x1)_0x40b7de['agents'][_0x15d6ee(0x6db)](_0x5a02cd,0x1);else{if(_0x5a02cd>-0x1){let _0xf8175d=_0x40b7de[_0x15d6ee(0x343)][_0x5a02cd];_0x454e44[_0x15d6ee(0x552)]&&(_0xf8175d[_0x15d6ee(0x552)]=_0x454e44[_0x15d6ee(0x552)]),_0x454e44[_0x15d6ee(0x336)]&&(_0xf8175d[_0x15d6ee(0x336)]=_0x454e44['name']),_0x454e44[_0x15d6ee(0x242)]&&(_0xf8175d[_0x15d6ee(0x242)]=_0x454e44[_0x15d6ee(0x242)]),_0x454e44[_0x15d6ee(0x338)]&&(_0xf8175d[_0x15d6ee(0x338)]=_0x454e44[_0x15d6ee(0x338)]);}else _0x40b7de[_0x15d6ee(0x343)][_0x15d6ee(0x1e9)]({'_id':_0x454e44[_0x15d6ee(0x447)]||new le['default'][(_0x15d6ee(0x665))][(_0x15d6ee(0x730))]()['toString'](),'fone':_0x454e44['fone'],'name':_0x454e44['name'],'email':_0x454e44[_0x15d6ee(0x242)],'role':_0x454e44[_0x15d6ee(0x338)]});}let _0x39f06f={'agents':_0x40b7de[_0x15d6ee(0x343)]},_0x5f52fe=await this[_0x15d6ee(0x402)]['automateSystem'][_0x15d6ee(0x712)](_0x39f06f,this[_0x15d6ee(0x5a4)][_0x15d6ee(0x5aa)]);return this[_0x15d6ee(0x6ea)]=_0x5f52fe,this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x15d6ee(0x5a4)][_0x15d6ee(0x5aa)]+_0x15d6ee(0x5b4)),this[_0x15d6ee(0xd4)]['verbose'](this[_0x15d6ee(0x45c)]+'\x20('+this[_0x15d6ee(0x5a4)][_0x15d6ee(0x5aa)]+_0x15d6ee(0x455)+this[_0x15d6ee(0x6ea)]),_0x5f52fe;}catch(_0x59a7f8){throw this[_0x15d6ee(0xd4)][_0x15d6ee(0x3e1)](this['instanceName']+'\x20('+this['instance'][_0x15d6ee(0x5aa)]+_0x15d6ee(0x735)+(_0x59a7f8 instanceof Error?_0x59a7f8[_0x15d6ee(0x65a)]:JSON[_0x15d6ee(0x24b)](_0x59a7f8,null,0x2))),new w(_0x15d6ee(0x185)+_0x59a7f8[_0x15d6ee(0x65a)]);}}async[a0_0x57f064(0x215)](_0xc87f6e){const _0x16ae7f=a0_0x57f064;try{let _0x50be6d=await this['repository'][_0x16ae7f(0x36d)][_0x16ae7f(0x3ac)](this['instance'][_0x16ae7f(0x5aa)]),_0x4fd118=_0xc87f6e['_id']?_0x50be6d[_0x16ae7f(0xef)][_0x16ae7f(0x2e3)](_0x47bc86=>_0x47bc86[_0x16ae7f(0x447)]===_0xc87f6e['_id']):-0x1,_0x29d841=!0x1,_0x23fbe6=_0x50be6d['customFields'][_0x16ae7f(0x345)](_0x11a103=>_0x11a103['order']===_0xc87f6e['order']);if(_0xc87f6e[_0x16ae7f(0x3b5)]&&_0x4fd118>-0x1)_0x50be6d[_0x16ae7f(0xef)][_0x16ae7f(0x6db)](_0x4fd118,0x1),_0x29d841=!0x0;else{if(_0x4fd118>-0x1){if(_0x50be6d[_0x16ae7f(0xef)][_0x16ae7f(0x345)](_0x4a27d1=>_0x4a27d1['name']===_0xc87f6e[_0x16ae7f(0x336)]&&_0x4a27d1[_0x16ae7f(0x447)]!==_0xc87f6e[_0x16ae7f(0x447)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');let _0x836dfd=_0x50be6d['customFields'][_0x4fd118];_0xc87f6e[_0x16ae7f(0x4e5)]&&(_0x23fbe6||!Number['isInteger'](_0xc87f6e[_0x16ae7f(0x4e5)]))&&(_0x836dfd[_0x16ae7f(0x4e5)]=_0xc87f6e[_0x16ae7f(0x4e5)],_0x29d841=!0x0),_0xc87f6e[_0x16ae7f(0x336)]&&(_0x836dfd[_0x16ae7f(0x336)]=_0xc87f6e[_0x16ae7f(0x336)]);}else{if(_0x50be6d[_0x16ae7f(0xef)][_0x16ae7f(0x345)](_0x2409f2=>_0x2409f2[_0x16ae7f(0x336)]===_0xc87f6e[_0x16ae7f(0x336)]&&_0x2409f2['_id']!==_0xc87f6e[_0x16ae7f(0x447)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x50be6d[_0x16ae7f(0xef)][_0x16ae7f(0x1e9)]({'_id':_0xc87f6e[_0x16ae7f(0x447)]||new le[(_0x16ae7f(0x25e))][(_0x16ae7f(0x665))][(_0x16ae7f(0x730))]()[_0x16ae7f(0x1ef)](),'order':_0xc87f6e[_0x16ae7f(0x4e5)],'name':_0xc87f6e[_0x16ae7f(0x336)]}),_0x29d841=!0x0;}}if(_0x29d841){_0x50be6d[_0x16ae7f(0xef)]['sort']((_0x2713aa,_0x5887ca)=>_0x2713aa[_0x16ae7f(0x4e5)]>_0x5887ca[_0x16ae7f(0x4e5)]?0x1:_0x5887ca[_0x16ae7f(0x4e5)]>_0x2713aa[_0x16ae7f(0x4e5)]?-0x1:0x0);for(let _0x5e8ed0=0x0;_0x5e8ed0<_0x50be6d['customFields'][_0x16ae7f(0x611)];_0x5e8ed0++)_0x50be6d[_0x16ae7f(0xef)][_0x5e8ed0][_0x16ae7f(0x4e5)]=_0x5e8ed0+0x1;}let _0x5558c6=await this['repository'][_0x16ae7f(0x36d)]['update'](_0x50be6d,this[_0x16ae7f(0x5a4)][_0x16ae7f(0x5aa)]);return this[_0x16ae7f(0x6ea)]=_0x5558c6,this[_0x16ae7f(0xd4)][_0x16ae7f(0xc2)](this[_0x16ae7f(0x45c)]+'\x20('+this[_0x16ae7f(0x5a4)][_0x16ae7f(0x5aa)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x16ae7f(0xd4)][_0x16ae7f(0xc2)](this['instanceName']+'\x20('+this['instance'][_0x16ae7f(0x5aa)]+'):\x20'+this[_0x16ae7f(0x6ea)]),_0x5558c6;}catch(_0x4fdc79){throw this[_0x16ae7f(0xd4)][_0x16ae7f(0x3e1)](this[_0x16ae7f(0x45c)]+'\x20('+this[_0x16ae7f(0x5a4)][_0x16ae7f(0x5aa)]+_0x16ae7f(0x649)+(_0x4fdc79 instanceof Error?_0x4fdc79[_0x16ae7f(0x65a)]:JSON['stringify'](_0x4fdc79,null,0x2))),new w(_0x16ae7f(0x537)+_0x4fdc79['message']);}}async[a0_0x57f064(0x5da)](_0x110349){const _0x389e0a=a0_0x57f064;try{let _0x48e739=await this[_0x389e0a(0x402)][_0x389e0a(0x36d)]['findOrCreate'](this[_0x389e0a(0x5a4)][_0x389e0a(0x5aa)]);if(!_0x48e739)throw new Error(_0x389e0a(0x6ae));let _0x549173={'_id':_0x48e739[_0x389e0a(0x447)],'flowConfig':{'enabled':_0x110349[_0x389e0a(0x5a9)]??_0x48e739[_0x389e0a(0x46f)]['enabled'],'ignoreGroups':_0x110349[_0x389e0a(0x391)]??_0x48e739[_0x389e0a(0x46f)][_0x389e0a(0x391)],'prefixCommand':_0x110349[_0x389e0a(0x281)]??_0x48e739[_0x389e0a(0x46f)][_0x389e0a(0x281)],'stopConversation':_0x110349['stopConversation']??_0x48e739[_0x389e0a(0x46f)]['stopConversation'],'stopMinutes':_0x110349[_0x389e0a(0x466)]??_0x48e739['flowConfig']['stopMinutes'],'stopWhenYouSendMsg':_0x110349['stopWhenYouSendMsg']??_0x48e739[_0x389e0a(0x46f)][_0x389e0a(0x3c0)]}},_0x5063e1=await this[_0x389e0a(0x402)][_0x389e0a(0x36d)][_0x389e0a(0x712)](_0x549173,this['instance'][_0x389e0a(0x5aa)]);return this[_0x389e0a(0x6ea)]=_0x5063e1,this[_0x389e0a(0xd4)][_0x389e0a(0xc2)](this['instanceName']+'\x20('+this[_0x389e0a(0x5a4)][_0x389e0a(0x5aa)]+_0x389e0a(0x5b4)),this['logger']['verbose'](this[_0x389e0a(0x45c)]+'\x20('+this['instance'][_0x389e0a(0x5aa)]+'):\x20'+this[_0x389e0a(0x6ea)]),setTimeout(()=>this[_0x389e0a(0x4c4)](),0x7d0),_0x5063e1;}catch(_0x2629e5){throw this[_0x389e0a(0xd4)][_0x389e0a(0x3e1)](this['instanceName']+'\x20('+this[_0x389e0a(0x5a4)][_0x389e0a(0x5aa)]+_0x389e0a(0xf4)+(_0x2629e5 instanceof Error?_0x2629e5['message']:JSON[_0x389e0a(0x24b)](_0x2629e5,null,0x2))),new w(_0x389e0a(0x289)+_0x2629e5[_0x389e0a(0x65a)]);}}async[a0_0x57f064(0x5b2)](){const _0xcb32d9=a0_0x57f064;try{let _0x348194=await this[_0xcb32d9(0x402)]['automateSystem'][_0xcb32d9(0x3ac)](this[_0xcb32d9(0x5a4)][_0xcb32d9(0x5aa)]);return this[_0xcb32d9(0x6ea)]=_0x348194,this[_0xcb32d9(0xd4)][_0xcb32d9(0xc2)](this[_0xcb32d9(0x45c)]+'\x20('+this[_0xcb32d9(0x5a4)][_0xcb32d9(0x5aa)]+'):\x20Visualizando\x20AutomateSystem'),this[_0xcb32d9(0xd4)]['verbose'](this[_0xcb32d9(0x6ea)]),_0x348194;}catch(_0x1a4188){throw this[_0xcb32d9(0xd4)][_0xcb32d9(0x3e1)](this[_0xcb32d9(0x45c)]+'\x20('+this[_0xcb32d9(0x5a4)]['wuid']+_0xcb32d9(0x610)+(_0x1a4188 instanceof Error?_0x1a4188[_0xcb32d9(0x65a)]:JSON[_0xcb32d9(0x24b)](_0x1a4188,null,0x2))),new w(_0xcb32d9(0x258)+_0x1a4188[_0xcb32d9(0x65a)]);}}async[a0_0x57f064(0x38b)](){const _0x2d9da9=a0_0x57f064;this['instance'][_0x2d9da9(0x2cd)][_0x2d9da9(0x404)]&&clearTimeout(this[_0x2d9da9(0x5a4)]['ScheduleMessage'][_0x2d9da9(0x404)]),this[_0x2d9da9(0x5a4)][_0x2d9da9(0x2cd)][_0x2d9da9(0x404)]=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x57f064(0x429)](){const _0x2d0cb2=a0_0x57f064;Date[_0x2d0cb2(0xa0)]()-this[_0x2d0cb2(0x5a4)][_0x2d0cb2(0x2cd)][_0x2d0cb2(0x240)]>=0x1d4c0&&(this['logger'][_0x2d0cb2(0xc2)](this['instanceName']+'\x20('+this[_0x2d0cb2(0x5a4)][_0x2d0cb2(0x5aa)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this['instance'][_0x2d0cb2(0x2cd)][_0x2d0cb2(0x632)]=null,this[_0x2d0cb2(0x5a4)][_0x2d0cb2(0x2cd)][_0x2d0cb2(0x240)]=0x0,this[_0x2d0cb2(0x5a4)][_0x2d0cb2(0x2cd)][_0x2d0cb2(0x6c1)]=0x0,await this['scheduleNextCheck']());}async[a0_0x57f064(0x4c4)](){const _0x53f100=a0_0x57f064;let _0x2a9ab0=()=>{const _0x1fb670=a0_0x2175;this['logger'][_0x1fb670(0xc2)](this[_0x1fb670(0x45c)]+'\x20('+this[_0x1fb670(0x5a4)]['wuid']+_0x1fb670(0x602)+this['instance'][_0x1fb670(0x2cd)][_0x1fb670(0x632)]+_0x1fb670(0x344));},_0x37b4fc=async()=>{const _0x4c1f3e=a0_0x2175;this[_0x4c1f3e(0xd4)][_0x4c1f3e(0xc2)](this['instanceName']+'\x20('+this[_0x4c1f3e(0x5a4)]['wuid']+_0x4c1f3e(0x1e8));let _0x23fb49=Date[_0x4c1f3e(0xa0)]()-0xc*0x3c*0x3c*0x3e8,_0x413bb4={'where':{'status':{'$in':['scheduled',_0x4c1f3e(0x207)]},'$or':[{'when':{'$lte':Date[_0x4c1f3e(0xa0)](),'$gte':_0x23fb49}},{'when':0x0}]}};return await this['repository'][_0x4c1f3e(0x3ad)][_0x4c1f3e(0x5c8)](_0x413bb4,this[_0x4c1f3e(0x5a4)][_0x4c1f3e(0x5aa)]);},_0x3ea6c6=async _0x1cdf92=>{const _0x4aed96=a0_0x2175;for(let _0x2ba1c0 of _0x1cdf92){let _0x53e2dd={'_id':_0x2ba1c0[_0x4aed96(0x447)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x4aed96(0xa0)]()-0x1770}}]},_0x2f2695={'startSend':Date[_0x4aed96(0xa0)]()};if(!await this[_0x4aed96(0x402)][_0x4aed96(0x3ad)]['updateOne'](_0x53e2dd,_0x2f2695,this['instance'][_0x4aed96(0x5aa)]))return;if(!this[_0x4aed96(0x5a4)][_0x4aed96(0x2cd)][_0x4aed96(0x23e)]){this[_0x4aed96(0xd4)][_0x4aed96(0xc2)](this[_0x4aed96(0x45c)]+'\x20('+this[_0x4aed96(0x5a4)][_0x4aed96(0x5aa)]+'):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected');break;}if(_0x2ba1c0['type']==='flow'&&!this['AutomateSystem']?.[_0x4aed96(0x46f)][_0x4aed96(0x5a9)]){this[_0x4aed96(0xd4)][_0x4aed96(0x3e1)](this[_0x4aed96(0x45c)]+'\x20('+this[_0x4aed96(0x5a4)][_0x4aed96(0x5aa)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');continue;}(!_0x2ba1c0[_0x4aed96(0x545)]||_0x2ba1c0[_0x4aed96(0x545)][_0x4aed96(0x611)]===0x0)&&(_0x2ba1c0=await this[_0x4aed96(0x402)][_0x4aed96(0x3ad)][_0x4aed96(0x1b8)](_0x2ba1c0[_0x4aed96(0x447)],{'status':_0x4aed96(0x207),'remoteJidsRemaining':[..._0x2ba1c0['remoteJids']]},this[_0x4aed96(0x5a4)][_0x4aed96(0x5aa)]));for(let _0x1f4b6b of _0x2ba1c0[_0x4aed96(0x545)]){if(await this[_0x4aed96(0x38b)](),this[_0x4aed96(0x5a4)][_0x4aed96(0x2cd)]['lastSend']=Date[_0x4aed96(0xa0)](),this[_0x4aed96(0x5a4)]['ScheduleMessage'][_0x4aed96(0x365)]===_0x1f4b6b){this[_0x4aed96(0xd4)][_0x4aed96(0x3e1)](this['instanceName']+'\x20('+this[_0x4aed96(0x5a4)][_0x4aed96(0x5aa)]+_0x4aed96(0x44a)+_0x1f4b6b+'.\x20Removendo\x20da\x20lista\x20de\x20tentativas.');let _0x151695={'$push':{'messagesSend':{'remoteJid':_0x1f4b6b,'error':!0x0,'id':null,'error_log':_0x4aed96(0x55f),'log_timestamp':Date[_0x4aed96(0xa0)]()}},'$pull':{'remoteJidsRemaining':_0x1f4b6b}};await this[_0x4aed96(0x402)][_0x4aed96(0x3ad)][_0x4aed96(0x1b8)](_0x2ba1c0[_0x4aed96(0x447)],_0x151695,this[_0x4aed96(0x5a4)][_0x4aed96(0x5aa)]);continue;}if(this[_0x4aed96(0x5a4)][_0x4aed96(0x2cd)][_0x4aed96(0x365)]=_0x1f4b6b,_0x2ba1c0[_0x4aed96(0x2c7)]['some'](_0x117450=>_0x117450[_0x4aed96(0x409)]===_0x1f4b6b)){this['logger'][_0x4aed96(0xc2)](this[_0x4aed96(0x45c)]+'\x20('+this[_0x4aed96(0x5a4)]['wuid']+_0x4aed96(0x668)+_0x1f4b6b+_0x4aed96(0x220));continue;}if(!this[_0x4aed96(0x5a4)]['ScheduleMessage'][_0x4aed96(0x23e)]){this[_0x4aed96(0xd4)][_0x4aed96(0xc2)](this[_0x4aed96(0x45c)]+'\x20('+this['instance'][_0x4aed96(0x5aa)]+'):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.');break;}if(!this[_0x4aed96(0x5a4)]['ScheduleMessage'][_0x4aed96(0x632)]){this[_0x4aed96(0xd4)]['verbose'](this[_0x4aed96(0x45c)]+'\x20('+this[_0x4aed96(0x5a4)][_0x4aed96(0x5aa)]+_0x4aed96(0x334)+_0x2ba1c0['_id']+_0x4aed96(0x425));break;}if(_0x2ba1c0[_0x4aed96(0x6eb)]===_0x4aed96(0x525)&&!this['AutomateSystem']?.[_0x4aed96(0x46f)]['enabled']){this[_0x4aed96(0xd4)][_0x4aed96(0x3e1)](this['instanceName']+'\x20('+this[_0x4aed96(0x5a4)][_0x4aed96(0x5aa)]+_0x4aed96(0xf9));break;}let _0x48ea82={'remoteJid':_0x1f4b6b,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x4aed96(0xa0)]()},_0x3fc621=null;try{let _0x1c93fa=await this[_0x4aed96(0x182)](_0x1f4b6b,_0x2ba1c0);_0x48ea82[_0x4aed96(0x3e1)]=_0x1c93fa[_0x4aed96(0x3e1)],_0x48ea82['id']=_0x1c93fa['error']?null:_0x1c93fa['id'],_0x48ea82[_0x4aed96(0xf0)]=_0x1c93fa[_0x4aed96(0x3e1)]?_0x1c93fa[_0x4aed96(0x1d7)]?_0x1c93fa[_0x4aed96(0x1d7)][_0x4aed96(0x1ef)]():'':null;let _0x80cef1={'$push':{'messagesSend':_0x48ea82},'$pull':{'remoteJidsRemaining':_0x1f4b6b}},_0x30c215=_0x2ba1c0[_0x4aed96(0x447)];if(_0x3fc621=await this['repository']['scheduleMessage'][_0x4aed96(0x1b8)](_0x30c215,_0x80cef1,this[_0x4aed96(0x5a4)][_0x4aed96(0x5aa)]),_0x1c93fa[_0x4aed96(0x3e1)])continue;let _0x1b4eaf=this[_0x4aed96(0x396)](_0x2ba1c0[_0x4aed96(0x6a4)],_0x2ba1c0[_0x4aed96(0x347)]);await this[_0x4aed96(0x1b6)](_0x1b4eaf);}catch(_0x155ab2){this[_0x4aed96(0xd4)][_0x4aed96(0x3e1)](this[_0x4aed96(0x45c)]+'\x20('+this[_0x4aed96(0x5a4)][_0x4aed96(0x5aa)]+_0x4aed96(0x1f0)+_0x1f4b6b+':\x20'+(_0x155ab2 instanceof Error?_0x155ab2[_0x4aed96(0x65a)]:JSON[_0x4aed96(0x24b)](_0x155ab2,null,0x2))),_0x48ea82[_0x4aed96(0x3e1)]=!0x0,_0x48ea82[_0x4aed96(0xf0)]=_0x155ab2[_0x4aed96(0x65a)];let _0x5aaaae={'$push':{'messagesSend':_0x48ea82},'$pull':{'remoteJidsRemaining':_0x1f4b6b}},_0x31d09b=_0x2ba1c0[_0x4aed96(0x447)];_0x3fc621=await this[_0x4aed96(0x402)][_0x4aed96(0x3ad)][_0x4aed96(0x1b8)](_0x31d09b,_0x5aaaae,this[_0x4aed96(0x5a4)][_0x4aed96(0x5aa)]);}finally{if(_0x3fc621&&_0x3fc621[_0x4aed96(0x5c7)]==='stopped'){this['logger'][_0x4aed96(0xc2)](this[_0x4aed96(0x45c)]+'\x20('+this[_0x4aed96(0x5a4)][_0x4aed96(0x5aa)]+_0x4aed96(0x334)+_0x2ba1c0[_0x4aed96(0x447)]+_0x4aed96(0xc4));break;}}}let _0x3ff440=await this[_0x4aed96(0x402)][_0x4aed96(0x3ad)][_0x4aed96(0x64f)](_0x2ba1c0[_0x4aed96(0x447)],this[_0x4aed96(0x5a4)][_0x4aed96(0x5aa)]);if(_0x3ff440['remoteJidsRemaining'][_0x4aed96(0x611)]===0x0&&_0x3ff440[_0x4aed96(0x5c7)]!==_0x4aed96(0x31e)){let _0x25e1cf={'$set':{'status':_0x4aed96(0x9d)}},_0x28f07c=_0x3ff440[_0x4aed96(0x447)];await this[_0x4aed96(0x402)][_0x4aed96(0x3ad)]['updateOneById'](_0x28f07c,_0x25e1cf,this[_0x4aed96(0x5a4)][_0x4aed96(0x5aa)]);}await new Promise(_0x5f4a8f=>setTimeout(_0x5f4a8f,0x1388));}},_0x3407e0=async()=>{const _0x3d79bc=a0_0x2175;let _0x1725e1={'where':{'status':'scheduled','when':{'$gt':Date[_0x3d79bc(0xa0)]()}}},_0x1f808f=await this[_0x3d79bc(0x402)][_0x3d79bc(0x3ad)]['findOne'](_0x1725e1,this[_0x3d79bc(0x5a4)][_0x3d79bc(0x5aa)]);_0x1f808f&&_0x1f808f[_0x3d79bc(0x30b)]-Date[_0x3d79bc(0xa0)]()<=0x5265c00?this[_0x3d79bc(0x5a4)][_0x3d79bc(0x2cd)]['delayMessage']=_0x1f808f['when']-Date['now']():this[_0x3d79bc(0x5a4)][_0x3d79bc(0x2cd)][_0x3d79bc(0x6c1)]=(0x3c+Math['floor'](Math['random']()*0x3c))*0x3c*0x3e8,this[_0x3d79bc(0x5a4)][_0x3d79bc(0x2cd)]['delayMessage']=Math[_0x3d79bc(0x2f9)](this[_0x3d79bc(0x5a4)][_0x3d79bc(0x2cd)][_0x3d79bc(0x6c1)],0x7d0);let _0x418f57=Math[_0x3d79bc(0x528)](this[_0x3d79bc(0x5a4)][_0x3d79bc(0x2cd)]['delayMessage']/0xea60);if(_0x1f808f){let _0x328984=new Date(_0x1f808f['when'])[_0x3d79bc(0x667)]();this[_0x3d79bc(0xd4)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x3d79bc(0x5aa)]+_0x3d79bc(0x499)+_0x328984+_0x3d79bc(0x368)+_0x418f57+_0x3d79bc(0x277));}else this['logger'][_0x3d79bc(0xc2)](this[_0x3d79bc(0x45c)]+'\x20('+this[_0x3d79bc(0x5a4)][_0x3d79bc(0x5aa)]+_0x3d79bc(0x4ee)+_0x418f57+_0x3d79bc(0x277));setTimeout(()=>this['scheduleNextCheck'](),this[_0x3d79bc(0x5a4)][_0x3d79bc(0x2cd)][_0x3d79bc(0x6c1)]);};if(this['instance'][_0x53f100(0x2cd)]['processing_id']){await this[_0x53f100(0x38b)](),_0x2a9ab0();return;}if(!this[_0x53f100(0x5a4)]['ScheduleMessage'][_0x53f100(0x23e)]){this[_0x53f100(0xd4)][_0x53f100(0xc2)](this['instanceName']+'\x20('+this[_0x53f100(0x5a4)][_0x53f100(0x5aa)]+'):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado'),this[_0x53f100(0x5a4)][_0x53f100(0x2cd)]['processing_id']=null,this[_0x53f100(0x5a4)]['ScheduleMessage'][_0x53f100(0x240)]=0x0,this[_0x53f100(0x5a4)][_0x53f100(0x2cd)][_0x53f100(0x6c1)]=0x0,this[_0x53f100(0x5a4)]['ScheduleMessage'][_0x53f100(0x365)]=null;return;}try{let _0x3aaa65=await _0x37b4fc();_0x3aaa65[_0x53f100(0x611)]===0x0?this[_0x53f100(0xd4)]['verbose'](this[_0x53f100(0x45c)]+'\x20('+this[_0x53f100(0x5a4)][_0x53f100(0x5aa)]+'):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.'):(this['instance'][_0x53f100(0x2cd)][_0x53f100(0x632)]=_0x3aaa65[0x0][_0x53f100(0x447)],await _0x3ea6c6(_0x3aaa65)),await _0x3407e0(),this[_0x53f100(0x5a4)][_0x53f100(0x2cd)][_0x53f100(0x632)]=null,this[_0x53f100(0x5a4)][_0x53f100(0x2cd)][_0x53f100(0x365)]=null;}catch(_0x14009b){this['logger'][_0x53f100(0x3e1)](_0x53f100(0x430)+(_0x14009b instanceof Error?_0x14009b[_0x53f100(0x65a)]:JSON[_0x53f100(0x24b)](_0x14009b,null,0x2)));}}['getDelay'](_0x1341fd,_0x279ade){const _0x24ef36=a0_0x57f064;return _0x1341fd=Math[_0x24ef36(0x2f9)](0.5,_0x1341fd),_0x279ade=Math[_0x24ef36(0x6e9)](Math[_0x24ef36(0x2f9)](0x3,_0x279ade),0x78),Math[_0x24ef36(0x308)](Math[_0x24ef36(0x4b2)]()*(_0x279ade-_0x1341fd+0x1)+_0x1341fd)*0x3e8;}[a0_0x57f064(0x1b6)](_0xec2ba0){return new Promise(_0x5d8bee=>setTimeout(_0x5d8bee,_0xec2ba0));}async[a0_0x57f064(0x651)](_0x18a9a1){const _0x514b64=a0_0x57f064;if(!this['AutomateSystem']&&(await this['getAutomateSystem'](),!this[_0x514b64(0x6ea)]))return null;_0x18a9a1=this[_0x514b64(0x5dc)](_0x18a9a1);let _0x24fe3b=await this['repository'][_0x514b64(0x206)]['findOne']({'where':{'_id':_0x18a9a1}},this[_0x514b64(0x5a4)][_0x514b64(0x5aa)]),_0x2c3e44={};if(_0x24fe3b&&_0x24fe3b[_0x514b64(0x4f5)]){let _0x38d818=_0x24fe3b[_0x514b64(0x4f5)];typeof _0x38d818[_0x514b64(0x539)]==_0x514b64(0x72e)&&(_0x2c3e44[_0x514b64(0x539)]=_0x38d818[_0x514b64(0x539)]),typeof _0x38d818[_0x514b64(0xd5)]==_0x514b64(0x72e)&&(_0x2c3e44[_0x514b64(0xd5)]=_0x38d818['nomecompleto']),typeof _0x38d818[_0x514b64(0x242)]=='string'&&(_0x2c3e44[_0x514b64(0x242)]=_0x38d818[_0x514b64(0x242)]),typeof _0x38d818[_0x514b64(0x72c)]==_0x514b64(0x72e)&&(_0x2c3e44['cpf']=_0x38d818[_0x514b64(0x72c)]),typeof _0x38d818[_0x514b64(0x5c7)]==_0x514b64(0x72e)&&(_0x2c3e44[_0x514b64(0x5c7)]=_0x38d818['status']),typeof _0x38d818[_0x514b64(0x43f)]=='string'&&(_0x2c3e44[_0x514b64(0x43f)]=_0x38d818[_0x514b64(0x43f)]),typeof _0x38d818['responsavelid']==_0x514b64(0x72e)&&(_0x2c3e44[_0x514b64(0x339)]=_0x38d818[_0x514b64(0x339)]),Array[_0x514b64(0x184)](_0x38d818[_0x514b64(0x485)])&&(_0x2c3e44[_0x514b64(0x485)]=_0x38d818[_0x514b64(0x485)]['join'](',\x20')),Array[_0x514b64(0x184)](_0x38d818[_0x514b64(0x646)])&&(_0x2c3e44[_0x514b64(0x646)]=_0x38d818[_0x514b64(0x646)][_0x514b64(0x69e)](',\x20'));}return _0x24fe3b&&_0x24fe3b[_0x514b64(0x4f5)]&&_0x24fe3b[_0x514b64(0x4f5)][_0x514b64(0xef)]&&_0x24fe3b[_0x514b64(0x4f5)]['customFields']['forEach'](_0x1e22b9=>{const _0x46676d=_0x514b64;let _0x1010b3=this['AutomateSystem']?.[_0x46676d(0xef)][_0x46676d(0x5c8)](_0x5b3acc=>_0x5b3acc[_0x46676d(0x447)]===_0x1e22b9[_0x46676d(0x447)]);_0x1010b3&&(_0x2c3e44[_0x1010b3[_0x46676d(0x336)]]=_0x1e22b9[_0x46676d(0x16b)]);}),_0x2c3e44;}async[a0_0x57f064(0x36e)](_0x2154f2,_0x2f3664){const _0xf01f30=a0_0x57f064;let _0x1afb74=await this[_0xf01f30(0x651)](_0x2f3664);return this[_0xf01f30(0x213)](_0x2154f2,_0x1afb74);}async[a0_0x57f064(0x692)](_0x1bdc37){const _0x4aa331=a0_0x57f064;try{if(this[_0x4aa331(0xd4)][_0x4aa331(0xc2)](this[_0x4aa331(0x45c)]+'\x20('+this[_0x4aa331(0x5a4)]['wuid']+_0x4aa331(0x61e)),_0x1bdc37[_0x4aa331(0x3b5)]&&_0x1bdc37[_0x4aa331(0x447)]){if(this[_0x4aa331(0x5a4)][_0x4aa331(0x2cd)][_0x4aa331(0x632)]===_0x1bdc37['_id'][_0x4aa331(0x1ef)]())throw new Error('Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar');let _0x59b305=await this[_0x4aa331(0x402)][_0x4aa331(0x3ad)][_0x4aa331(0x3cd)](_0x1bdc37[_0x4aa331(0x447)],this[_0x4aa331(0x5a4)]['wuid']);return setTimeout(()=>this[_0x4aa331(0x4c4)](),0x7d0),_0x59b305;}let _0xf7b32c;if(_0x1bdc37[_0x4aa331(0x447)]&&(_0xf7b32c=await this[_0x4aa331(0x402)]['scheduleMessage'][_0x4aa331(0x64f)](_0x1bdc37[_0x4aa331(0x447)],this[_0x4aa331(0x5a4)][_0x4aa331(0x5aa)])),_0xf7b32c){let _0x188630;if(this[_0x4aa331(0x5a4)][_0x4aa331(0x2cd)][_0x4aa331(0x632)]===_0xf7b32c[_0x4aa331(0x447)][_0x4aa331(0x1ef)]())_0x188630={'$set':{'status':_0x1bdc37[_0x4aa331(0x5c7)]}};else{let {_id:_0x4db030,..._0x3446ce}=_0x1bdc37;_0x188630={'$set':_0x3446ce};}let _0x4e1a94=await this['repository'][_0x4aa331(0x3ad)][_0x4aa331(0x1b8)](_0x1bdc37['_id'],_0x188630,this[_0x4aa331(0x5a4)][_0x4aa331(0x5aa)]);return setTimeout(()=>this[_0x4aa331(0x4c4)](),0x7d0),_0x4e1a94;}else{_0x1bdc37[_0x4aa331(0x129)]=this[_0x4aa331(0x5a4)]['wuid'];let _0x626278=await this[_0x4aa331(0x402)][_0x4aa331(0x3ad)]['createAndSave'](_0x1bdc37,this[_0x4aa331(0x5a4)]['wuid']);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x626278;}}catch(_0x1ab53e){throw this[_0x4aa331(0xd4)][_0x4aa331(0x3e1)](this[_0x4aa331(0x45c)]+'\x20('+this[_0x4aa331(0x5a4)]['wuid']+_0x4aa331(0x549)+(_0x1ab53e instanceof Error?_0x1ab53e[_0x4aa331(0x65a)]:JSON[_0x4aa331(0x24b)](_0x1ab53e,null,0x2))),new w(_0x4aa331(0x30d)+_0x1ab53e[_0x4aa331(0x65a)]);}}async[a0_0x57f064(0xf1)](){const _0x94368d=a0_0x57f064;try{return await this['repository'][_0x94368d(0x3ad)][_0x94368d(0x5c8)]({'where':{}},this[_0x94368d(0x5a4)][_0x94368d(0x5aa)]);}catch(_0x550baf){throw this['logger']['error'](this[_0x94368d(0x45c)]+'\x20('+this[_0x94368d(0x5a4)][_0x94368d(0x5aa)]+'):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:'+(_0x550baf instanceof Error?_0x550baf['message']:JSON['stringify'](_0x550baf,null,0x2))),new w(_0x94368d(0x30d)+_0x550baf[_0x94368d(0x65a)]);}}async['deleteDoneMessages'](){const _0x5a95f5=a0_0x57f064;try{let _0x190bc4={'status':'done'},_0x2f7522=await this[_0x5a95f5(0x402)][_0x5a95f5(0x3ad)][_0x5a95f5(0x4e2)](_0x190bc4,this[_0x5a95f5(0x5a4)][_0x5a95f5(0x5aa)]);if(!_0x2f7522[_0x5a95f5(0x3e1)])this[_0x5a95f5(0xd4)][_0x5a95f5(0xc2)](this[_0x5a95f5(0x45c)]+'\x20('+this[_0x5a95f5(0x5a4)][_0x5a95f5(0x5aa)]+'):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.');else throw new Error(_0x2f7522[_0x5a95f5(0x3e1)][_0x5a95f5(0x65a)]||_0x5a95f5(0x2d0));return this['getScheduleMessage']();}catch(_0x35ebaf){throw this[_0x5a95f5(0xd4)]['error'](this[_0x5a95f5(0x45c)]+'\x20('+this[_0x5a95f5(0x5a4)][_0x5a95f5(0x5aa)]+'):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:'+(_0x35ebaf instanceof Error?_0x35ebaf[_0x5a95f5(0x65a)]:JSON['stringify'](_0x35ebaf,null,0x2))),new w('Erro:'+_0x35ebaf[_0x5a95f5(0x65a)]);}}async[a0_0x57f064(0x182)](_0x2df475,_0x345eb3){const _0x59217e=a0_0x57f064;try{if(_0x345eb3['type']===_0x59217e(0x525)&&!this[_0x59217e(0x6ea)]?.[_0x59217e(0x46f)][_0x59217e(0x5a9)])return this[_0x59217e(0xd4)][_0x59217e(0x3e1)](this[_0x59217e(0x45c)]+'\x20('+this['instance'][_0x59217e(0x5aa)]+'):\x20Fluxos\x20não\x20estão\x20ativados'),{'error':!0x0,'detail':_0x59217e(0x700)};switch(_0x345eb3[_0x59217e(0x6eb)]){case _0x59217e(0x435):return await this[_0x59217e(0x203)](_0x345eb3,_0x2df475);case _0x59217e(0x356):return await this[_0x59217e(0x1ea)](_0x345eb3,_0x2df475);case _0x59217e(0x1aa):return await this[_0x59217e(0x3a9)](_0x345eb3,_0x2df475);case _0x59217e(0x525):let _0x5f4d02=new Le();return _0x5f4d02[_0x59217e(0x336)]=_0x345eb3[_0x59217e(0x254)],_0x5f4d02[_0x59217e(0x409)]=_0x2df475,await this[_0x59217e(0x68d)](_0x5f4d02);break;default:return this[_0x59217e(0xd4)][_0x59217e(0x3e1)](this[_0x59217e(0x45c)]+'\x20('+this['instance']['wuid']+_0x59217e(0x222)+_0x345eb3[_0x59217e(0x6eb)]),{'error':!0x0,'detail':'Comando\x20desconhecido'};}}catch(_0x2ae328){return this[_0x59217e(0xd4)]['error'](this['instanceName']+'\x20('+this[_0x59217e(0x5a4)][_0x59217e(0x5aa)]+_0x59217e(0x4cd)+(_0x2ae328 instanceof Error?_0x2ae328[_0x59217e(0x65a)]:JSON[_0x59217e(0x24b)](_0x2ae328,null,0x2))),{'error':!0x0,'detail':_0x2ae328[_0x59217e(0x65a)]};}}[a0_0x57f064(0x6d3)](_0x135e14){const _0x90b751=a0_0x57f064;let _0x3dcd8b=_0x135e14['split']('|'),_0x426a4b=Math[_0x90b751(0x308)](Math['random']()*_0x3dcd8b[_0x90b751(0x611)]);return _0x3dcd8b[_0x426a4b][_0x90b751(0x4a0)]();}async['scheduleSendText'](_0x1496c0,_0x414c8a){const _0x38e4d8=a0_0x57f064;if(this[_0x38e4d8(0xd4)][_0x38e4d8(0xc2)](this['instanceName']+'\x20('+this[_0x38e4d8(0x5a4)][_0x38e4d8(0x5aa)]+_0x38e4d8(0x476)),!_0x1496c0[_0x38e4d8(0x65a)][_0x38e4d8(0x435)]||_0x1496c0[_0x38e4d8(0x65a)]['text']['length']===0x0)return{'error':!0x0,'detail':'sem\x20texto\x20na\x20mensagem'};let _0x57fead=this[_0x38e4d8(0x6d3)](_0x1496c0['message'][_0x38e4d8(0x435)]),_0x2816e6=await this[_0x38e4d8(0x36e)](_0x57fead,_0x414c8a),_0x518330={'number':_0x414c8a,'options':{'delay':_0x1496c0[_0x38e4d8(0x65a)][_0x38e4d8(0xee)]},'textMessage':{'text':_0x2816e6}},_0x5a2b27=null;try{let _0x4bcaea=await this[_0x38e4d8(0x62c)](_0x518330);if(_0x4bcaea&&_0x4bcaea[_0x38e4d8(0x5c7)])return{'error':!0x1,'id':_0x4bcaea[_0x38e4d8(0x501)]['id']};_0x5a2b27=JSON['stringify'](_0x4bcaea),this[_0x38e4d8(0xd4)][_0x38e4d8(0xc2)](this[_0x38e4d8(0x45c)]+'\x20('+this[_0x38e4d8(0x5a4)][_0x38e4d8(0x5aa)]+_0x38e4d8(0x455)+_0x5a2b27);}catch(_0x23f048){this['logger'][_0x38e4d8(0x3e1)](this[_0x38e4d8(0x45c)]+'\x20('+this[_0x38e4d8(0x5a4)][_0x38e4d8(0x5aa)]+_0x38e4d8(0xd2)+(_0x23f048 instanceof Error?_0x23f048[_0x38e4d8(0x65a)]:JSON[_0x38e4d8(0x24b)](_0x23f048,null,0x2))),_0x5a2b27=_0x23f048[_0x38e4d8(0x65a)];}if(_0x5a2b27)return{'error':!0x0,'detail':(typeof _0x5a2b27==_0x38e4d8(0x6c8)?JSON['stringify'](_0x5a2b27,null,0x2):_0x5a2b27)[_0x38e4d8(0x5f7)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x57f064(0x1ea)](_0x2ab857,_0x3ad101){const _0x1fe4b7=a0_0x57f064;this[_0x1fe4b7(0xd4)]['verbose'](this['instanceName']+'\x20('+this[_0x1fe4b7(0x5a4)][_0x1fe4b7(0x5aa)]+_0x1fe4b7(0xa2));let _0x420215;if(_0x2ab857[_0x1fe4b7(0x65a)][_0x1fe4b7(0x435)]&&_0x2ab857[_0x1fe4b7(0x65a)][_0x1fe4b7(0x435)][_0x1fe4b7(0x611)]>0x0){let _0x4bd589=this[_0x1fe4b7(0x6d3)](_0x2ab857[_0x1fe4b7(0x65a)][_0x1fe4b7(0x435)]);_0x420215=await this['replaceVariablesChat'](_0x4bd589,_0x3ad101);}let _0x217174={'number':_0x3ad101,'options':{'delay':_0x2ab857['message'][_0x1fe4b7(0xee)]},'mediaMessage':{'mediatype':_0x2ab857['message'][_0x1fe4b7(0x1d1)],'caption':_0x420215,'media':_0x2ab857[_0x1fe4b7(0x65a)]['urlOrBase64']}},_0x50ba3c=null;try{let _0x51e412=await this[_0x1fe4b7(0x35a)](_0x217174);if(_0x51e412&&_0x51e412[_0x1fe4b7(0x5c7)])return{'error':!0x1,'id':_0x51e412['key']['id']};_0x50ba3c=JSON['stringify'](_0x51e412),this[_0x1fe4b7(0xd4)]['verbose'](this[_0x1fe4b7(0x45c)]+'\x20('+this[_0x1fe4b7(0x5a4)][_0x1fe4b7(0x5aa)]+_0x1fe4b7(0x455)+_0x50ba3c);}catch(_0xd7f055){this[_0x1fe4b7(0xd4)][_0x1fe4b7(0x3e1)](this[_0x1fe4b7(0x45c)]+'\x20('+this[_0x1fe4b7(0x5a4)]['wuid']+_0x1fe4b7(0x388)+(_0xd7f055 instanceof Error?_0xd7f055[_0x1fe4b7(0x65a)]:JSON[_0x1fe4b7(0x24b)](_0xd7f055,null,0x2))),_0x50ba3c=_0xd7f055[_0x1fe4b7(0x65a)];}if(_0x50ba3c)return{'error':!0x0,'detail':(typeof _0x50ba3c==_0x1fe4b7(0x6c8)?JSON[_0x1fe4b7(0x24b)](_0x50ba3c,null,0x2):_0x50ba3c)[_0x1fe4b7(0x5f7)](/[\[\]{}\n]/g,'\x20')[_0x1fe4b7(0x5f7)](/  +/g,'\x20')};}async[a0_0x57f064(0x3a9)](_0x2a7a12,_0x298162){const _0x242c0e=a0_0x57f064;this[_0x242c0e(0xd4)]['verbose'](this[_0x242c0e(0x45c)]+'\x20('+this[_0x242c0e(0x5a4)]['wuid']+_0x242c0e(0x452));let _0x3280ff={'number':_0x298162,'options':{'delay':_0x2a7a12['message']['delay']},'audioMessage':{'audio':_0x2a7a12[_0x242c0e(0x65a)]['urlOrBase64']}},_0x3537a7=null;try{let _0x38cbd6=await this[_0x242c0e(0x23c)](_0x3280ff);if(_0x38cbd6&&_0x38cbd6[_0x242c0e(0x5c7)])return{'error':!0x1,'id':_0x38cbd6[_0x242c0e(0x501)]['id']};_0x3537a7=JSON[_0x242c0e(0x24b)](_0x38cbd6),this[_0x242c0e(0xd4)]['verbose'](this[_0x242c0e(0x45c)]+'\x20('+this[_0x242c0e(0x5a4)][_0x242c0e(0x5aa)]+'):\x20'+_0x3537a7);}catch(_0x372cfb){this[_0x242c0e(0xd4)][_0x242c0e(0x3e1)](this[_0x242c0e(0x45c)]+'\x20('+this[_0x242c0e(0x5a4)][_0x242c0e(0x5aa)]+_0x242c0e(0x331)+(_0x372cfb instanceof Error?_0x372cfb[_0x242c0e(0x65a)]:JSON['stringify'](_0x372cfb,null,0x2))),_0x3537a7=_0x372cfb[_0x242c0e(0x65a)];}if(_0x3537a7)return{'error':!0x0,'detail':(typeof _0x3537a7==_0x242c0e(0x6c8)?JSON[_0x242c0e(0x24b)](_0x3537a7,null,0x2):_0x3537a7)[_0x242c0e(0x5f7)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}},Ft=class c{constructor(_0x549daf,_0x3c118c,_0x594cdb){const _0x268778=a0_0x57f064;this['eventEmitter']=_0x549daf,this[_0x268778(0x228)]=_0x3c118c,this[_0x268778(0x402)]=_0x594cdb,this['db']={},this['redis']={},this[_0x268778(0xd4)]=new v(c[_0x268778(0x336)]),this[_0x268778(0x5f0)]={},(this[_0x268778(0x488)](),this[_0x268778(0x72d)](),Object[_0x268778(0x4fe)](this['db'],_0x3c118c['get'](_0x268778(0x5d1))),Object['assign'](this[_0x268778(0x3b1)],_0x3c118c[_0x268778(0x136)](_0x268778(0x3d6))),this[_0x268778(0x408)]=this['db']['ENABLED']?this[_0x268778(0x402)][_0x268778(0x30f)]?.['db'](this['db'][_0x268778(0x6d5)][_0x268778(0x5a6)]+_0x268778(0x15c)):void 0x0,this['cache']=this[_0x268778(0x3b1)]['ENABLED']?new ne(this['redis']):void 0x0);}async[a0_0x57f064(0x186)](_0x8138a8){const _0x5401fd=a0_0x57f064;if(_0x8138a8&&!this[_0x5401fd(0x5f0)][_0x8138a8])throw new L(_0x5401fd(0x4f1)+_0x8138a8+_0x5401fd(0x560));let _0x604001=[];for await(let [_0x4ba338,_0x24ce2e]of Object['entries'](this['waInstances']))if(_0x24ce2e&&_0x24ce2e[_0x5401fd(0xe8)][_0x5401fd(0x32a)]==='open'){let _0x3fede3=await this[_0x5401fd(0x402)][_0x5401fd(0x199)][_0x5401fd(0x5c8)](_0x4ba338);_0x604001[_0x5401fd(0x1e9)]({'instance':{'instanceName':_0x4ba338,'apikey':_0x3fede3[_0x5401fd(0x68f)],'owner':_0x24ce2e[_0x5401fd(0x5aa)],'profileName':await _0x24ce2e[_0x5401fd(0x260)]()||_0x5401fd(0x1a2),'profilePictureUrl':_0x24ce2e[_0x5401fd(0x341)]}});}return _0x604001[_0x5401fd(0x5c8)](_0x452265=>_0x452265[_0x5401fd(0x5a4)][_0x5401fd(0x45c)]===_0x8138a8)??_0x604001;}async['cleaningUp'](_0x22e2da){const _0x31779c=a0_0x57f064;if(this['db'][_0x31779c(0x58d)]&&(await this[_0x31779c(0x402)]['dbServer']['connect'](),(await this[_0x31779c(0x408)][_0x31779c(0x19a)]())[_0x31779c(0x611)]>0x0&&await this[_0x31779c(0x408)][_0x31779c(0x19b)](_0x22e2da)),this[_0x31779c(0x3b1)]['ENABLED']){this[_0x31779c(0x470)][_0x31779c(0x4a6)]=_0x22e2da,await this[_0x31779c(0x470)][_0x31779c(0x237)]();return;}}async[a0_0x57f064(0x1e3)](){const _0x5a80e1=a0_0x57f064;await this[_0x5a80e1(0x500)]();let _0x386481=async _0x4d8a3a=>{const _0x1b7948=_0x5a80e1;let _0x162bf0=new be(this[_0x1b7948(0x228)],this[_0x1b7948(0x734)],this['repository']);_0x162bf0[_0x1b7948(0x45c)]=_0x4d8a3a,await _0x162bf0['connectToWhatsapp'](),this[_0x1b7948(0x5f0)][_0x4d8a3a]=_0x162bf0;};try{if(this['redis'][_0x5a80e1(0x58d)]){let _0x5c4427=await this[_0x5a80e1(0x470)][_0x5a80e1(0x1eb)]();_0x5c4427?.['length']>0x0&&_0x5c4427[_0x5a80e1(0x680)](async _0x1cb3ee=>await _0x386481(_0x1cb3ee[_0x5a80e1(0xc8)](':')[0x1]));return;}if(this['db'][_0x5a80e1(0x58d)]){await this[_0x5a80e1(0x402)][_0x5a80e1(0x30f)][_0x5a80e1(0x25b)]();let _0x2c6814=await this[_0x5a80e1(0x408)]['collections']();_0x2c6814[_0x5a80e1(0x611)]>0x0&&_0x2c6814[_0x5a80e1(0x680)](async _0x12f57f=>await _0x386481(_0x12f57f['namespace'][_0x5a80e1(0x5f7)](/^[\w-]+\./,'')));return;}}catch(_0x2a85c2){this['logger'][_0x5a80e1(0x3e1)](_0x2a85c2);}}async[a0_0x57f064(0x5fc)](){const _0x515a14=a0_0x57f064;let _0x24f071=await this['repository'][_0x515a14(0x199)][_0x515a14(0x654)](),_0x3883b4=_0x24f071['filter'](_0x1f7853=>!this['waInstances'][_0x1f7853[_0x515a14(0x447)]]&&(_0x1f7853[_0x515a14(0x39e)]||typeof _0x1f7853[_0x515a14(0x39e)]>'u'));_0x3883b4[_0x515a14(0x611)]>0x0&&await Promise['all'](_0x3883b4[_0x515a14(0x3b7)](async _0x1064d5=>{const _0x3db63a=_0x515a14;let _0x862ede={'online':!0x1,'lastDisconnect':Date[_0x3db63a(0xa0)]()};await this[_0x3db63a(0x402)][_0x3db63a(0x199)][_0x3db63a(0x642)](_0x862ede,_0x1064d5[_0x3db63a(0x447)]);}));let _0x2f6e11=Date[_0x515a14(0xa0)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x323b27=_0x24f071[_0x515a14(0x4e4)](_0x32b56d=>!this[_0x515a14(0x5f0)][_0x32b56d[_0x515a14(0x447)]]&&typeof _0x32b56d[_0x515a14(0x6c2)]<'u'&&_0x32b56d[_0x515a14(0x6c2)]<_0x2f6e11);_0x323b27[_0x515a14(0x611)]>0x0&&await Promise[_0x515a14(0x360)](_0x323b27[_0x515a14(0x3b7)](async _0x477340=>{}));}async[a0_0x57f064(0x500)](){const _0xf3bc78=a0_0x57f064;try{let _0x40fcb3={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x4b02e0={'online':!0x1,'lastDisconnect':Date[_0xf3bc78(0xa0)]()},_0x54e9b3=await this[_0xf3bc78(0x402)][_0xf3bc78(0x199)][_0xf3bc78(0x32e)](_0x40fcb3,_0x4b02e0);console[_0xf3bc78(0x71f)](_0xf3bc78(0x422)+_0x54e9b3[_0xf3bc78(0x3b6)]),await this[_0xf3bc78(0x188)]();}catch(_0x1c15f2){console[_0xf3bc78(0x3e1)](_0xf3bc78(0x688),_0x1c15f2);}}async['removeOlderDisconnectedInstances'](){const _0x1400c7=a0_0x57f064;try{let _0x5c2cdd={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x228a03=await this['repository']['auth']['deleteMany'](_0x5c2cdd);console[_0x1400c7(0x71f)]('Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20'+_0x228a03[_0x1400c7(0x3b6)]);}catch(_0x14127a){console[_0x1400c7(0x3e1)](_0x1400c7(0x382),_0x14127a);}}['removeInstance'](){const _0x401a34=a0_0x57f064;this['eventEmitter']['on'](_0x401a34(0x66e),async _0x105808=>{const _0x470293=_0x401a34;try{this[_0x470293(0x5f0)][_0x105808]=void 0x0;}catch{}try{this[_0x470293(0x436)](_0x105808);}finally{this['logger']['warn'](_0x470293(0x4f1)+_0x105808+_0x470293(0x41b));}});}[a0_0x57f064(0x72d)](){this['eventEmitter']['on']('no.connection',async _0x2e2b2d=>{const _0x52fed8=a0_0x2175;try{this[_0x52fed8(0x5f0)][_0x2e2b2d]=void 0x0;}catch{}try{this['cleaningUp'](_0x2e2b2d);}finally{this['logger'][_0x52fed8(0x704)](_0x52fed8(0x4f1)+_0x2e2b2d+_0x52fed8(0x159));}});}},Ut=class extends D{[a0_0x57f064(0x64c)](_0xba5238){return Ks(_0xba5238);}async[a0_0x57f064(0x621)](_0x210df5){const _0x436075=a0_0x57f064;if(_0x210df5[_0x436075(0x611)]!==0x0)try{return{'insertCount':(await this[_0x436075(0x64c)](_0x210df5[0x0][_0x436075(0x129)])[_0x436075(0x153)]([..._0x210df5]))[_0x436075(0x611)]};}catch(_0x662191){return _0x662191;}}async['find'](_0x51204c,_0x3ddde6){const _0x264de9=a0_0x57f064;try{let _0x3329d5=this[_0x264de9(0x64c)](_0x3ddde6),_0x4ac5a4=A(_0x51204c[_0x264de9(0x3bc)]);return await _0x3329d5['find'](_0x4ac5a4)['sort']({'lastmsg':-0x1})['limit'](_0x51204c?.['limit']??0x0)[_0x264de9(0x5ca)]();}catch{return[];}}async[a0_0x57f064(0x72b)](_0x5d8f48,_0x3f3aa2){const _0x59d99a=a0_0x57f064;try{return await this[_0x59d99a(0x64c)](_0x3f3aa2)[_0x59d99a(0x4e2)]({..._0x5d8f48[_0x59d99a(0x3bc)]}),[];}catch(_0x297d0f){return{'error':_0x297d0f?.[_0x59d99a(0x1ef)]()};}}async[a0_0x57f064(0x5a2)](_0x3c4416,_0x24959f){const _0x1de66a=a0_0x57f064;try{let _0x297985=this['getChatModelForOwner'](_0x24959f),_0x4e5c15=A(_0x3c4416[_0x1de66a(0x3bc)]);return await _0x297985[_0x1de66a(0x5a2)](_0x4e5c15)[_0x1de66a(0x5ca)]();}catch{return null;}}async[a0_0x57f064(0x21a)](_0x3d4de3,_0x43fbaa,_0x66f5ca,_0x5d3afd,_0x2b45fc=a0_0x57f064(0x727)){const _0x56e3fa=a0_0x57f064;try{let _0x293f11={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x5d3afd},_0x56e56e=this[_0x56e3fa(0x64c)](_0x66f5ca),_0x2ac37d=A(_0x3d4de3['where']);Object[_0x56e3fa(0x571)](_0x43fbaa)[_0x56e3fa(0x680)](_0x228c42=>{_0x43fbaa[_0x228c42]==null&&delete _0x43fbaa[_0x228c42];});let _0x580f86={};return _0x580f86[_0x2b45fc]=_0x43fbaa,await _0x56e56e[_0x56e3fa(0x561)](_0x2ac37d,_0x580f86,_0x293f11);}catch(_0x170892){return console[_0x56e3fa(0x3e1)](_0x170892),null;}}async['updateMany'](_0x3079e4){const _0x4f4d6e=a0_0x57f064;try{let _0xf18a47=this[_0x4f4d6e(0x64c)](_0x3079e4[0x0][_0x4f4d6e(0x2c8)][_0x4f4d6e(0x3bc)][_0x4f4d6e(0x129)]),_0x189bc3=_0x3079e4[_0x4f4d6e(0x3b7)](_0x4af843=>({'updateOne':{'filter':{..._0x4af843[_0x4f4d6e(0x2c8)][_0x4f4d6e(0x3bc)]},'update':{'$set':_0x4af843[_0x4f4d6e(0x712)]},'upsert':!0x0}})),_0x1daaba=await _0xf18a47[_0x4f4d6e(0x31a)](_0x189bc3);return _0x1daaba[_0x4f4d6e(0x451)]+_0x1daaba[_0x4f4d6e(0x737)];}catch(_0x5c997a){return console[_0x4f4d6e(0x3e1)](_0x5c997a),0x0;}}async[a0_0x57f064(0x42f)](_0x3ecdab){const _0x2ca4cd=a0_0x57f064;try{let _0x1ffc2f=this[_0x2ca4cd(0x64c)](_0x3ecdab),_0x507d4a={'labels':{'$exists':!0x0}},_0x3f90c7={'$unset':{'labels':''}};return(await _0x1ffc2f[_0x2ca4cd(0x5f5)](_0x507d4a,_0x3f90c7))[_0x2ca4cd(0x451)];}catch(_0x2f3803){return console[_0x2ca4cd(0x3e1)](_0x2f3803),0x0;}}async[a0_0x57f064(0x1ae)](_0x4c0fb2){const _0x342acb=a0_0x57f064;try{let _0x4bef69=this[_0x342acb(0x64c)](_0x4c0fb2),_0x3ac20e={'leadInfo.etiquetas':{'$exists':!0x1}},_0x3b470f={'$set':{'leadInfo.etiquetas':[]}};return(await _0x4bef69[_0x342acb(0x5f5)](_0x3ac20e,_0x3b470f))[_0x342acb(0x451)];}catch(_0x414078){return console[_0x342acb(0x3e1)](_0x414078),0x0;}}async[a0_0x57f064(0x6b6)](_0x56e968){const _0x515015=a0_0x57f064;try{let _0x4f5361=this['getChatModelForOwner'](_0x56e968),_0x4f223e={'leadInfo.tags':{'$exists':!0x1}},_0x52d3c1={'$set':{'leadInfo.tags':[]}};return(await _0x4f5361[_0x515015(0x5f5)](_0x4f223e,_0x52d3c1))[_0x515015(0x451)];}catch(_0x57b107){return console[_0x515015(0x3e1)](_0x57b107),0x0;}}async[a0_0x57f064(0x197)](_0x3a1da5){const _0xa074af=a0_0x57f064;try{let _0x47f973=this[_0xa074af(0x64c)](_0x3a1da5),_0x48659f={'leadInfo.customFields':{'$exists':!0x1}},_0x2130fb={'$set':{'leadInfo.customFields':[]}};return(await _0x47f973[_0xa074af(0x5f5)](_0x48659f,_0x2130fb))['modifiedCount'];}catch(_0x1a87ac){return console[_0xa074af(0x3e1)](_0x1a87ac),0x0;}}async[a0_0x57f064(0x153)](_0x267431,_0x422fd6){const _0x4a792c=a0_0x57f064;if(!Array[_0x4a792c(0x184)](_0x267431)||_0x267431[_0x4a792c(0x611)]===0x0)throw new Error(_0x4a792c(0x3e3));try{return(await this[_0x4a792c(0x64c)](_0x422fd6)['insertMany'](_0x267431))['length'];}catch(_0x3422fd){throw console['error']('Erro\x20ao\x20inserir\x20chats:',_0x3422fd),_0x3422fd;}}async[a0_0x57f064(0x2a3)](_0x4c1c0c,_0x36b8eb){const _0x350bcf=a0_0x57f064;try{await this[_0x350bcf(0x64c)](_0x36b8eb)['deleteOne']({'_id':_0x4c1c0c});}catch(_0xea0fb4){throw console['error'](_0x350bcf(0x10b),_0xea0fb4),_0xea0fb4;}}},qt=class extends D{constructor(_0x21c6ee,_0x53a127,_0x530fa1){const _0x3b4df0=a0_0x57f064;super(_0x53a127),this[_0x3b4df0(0x284)]=_0x21c6ee,this[_0x3b4df0(0x228)]=_0x53a127,this[_0x3b4df0(0x342)]=_0x530fa1;}async[a0_0x57f064(0x621)](_0x4584c1){const _0xf5f582=a0_0x57f064;if(_0x4584c1[_0xf5f582(0x611)]!==0x0)try{return{'insertCount':(await this[_0xf5f582(0x284)][_0xf5f582(0x153)]([..._0x4584c1]))[_0xf5f582(0x611)]};}catch(_0x3f7965){return _0x3f7965;}}async[a0_0x57f064(0x712)](_0x301c30,_0x21c0bd){const _0x42dd97=a0_0x57f064;try{let _0x2eb70e=A(_0x301c30[_0x42dd97(0x3bc)]);return{'updatedCount':(await this[_0x42dd97(0x284)][_0x42dd97(0x5f5)](_0x2eb70e,{'$set':_0x21c0bd}))[_0x42dd97(0x451)]};}catch(_0x3be2ee){return console['error'](_0x42dd97(0x278),_0x3be2ee),{'error':_0x3be2ee['toString']()};}}async[a0_0x57f064(0xa7)](_0x4598fe){const _0x3f9ac9=a0_0x57f064;try{let _0x353fb2={'_id':{'$in':_0x4598fe}};return await this['cacheContactModel'][_0x3f9ac9(0x5c8)](_0x353fb2)[_0x3f9ac9(0x5ca)]();}catch(_0x24820d){return console[_0x3f9ac9(0x3e1)]('Error\x20finding\x20many\x20contacts:',_0x24820d),[];}}async[a0_0x57f064(0x3b5)](_0x5cfb58){const _0x14d016=a0_0x57f064;try{return{'deletedCount':(await this[_0x14d016(0x284)][_0x14d016(0x4e2)]({..._0x5cfb58[_0x14d016(0x3bc)]}))[_0x14d016(0x4dd)]};}catch(_0x188002){return{'error':_0x188002?.[_0x14d016(0x1ef)]()};}}async[a0_0x57f064(0x5c8)](_0x51e696){const _0x3c7ff9=a0_0x57f064;try{let _0x958fdf=A(_0x51e696['where']);return await this[_0x3c7ff9(0x284)][_0x3c7ff9(0x5c8)](_0x958fdf)['limit'](_0x51e696?.[_0x3c7ff9(0x4cf)]??0x0)[_0x3c7ff9(0x5ca)]();}catch{return[];}}async[a0_0x57f064(0x5a2)](_0x1429f5){const _0x48fc25=a0_0x57f064;try{let _0x1ebb7a=A(_0x1429f5[_0x48fc25(0x3bc)]);return await this[_0x48fc25(0x284)][_0x48fc25(0x5a2)](_0x1ebb7a)[_0x48fc25(0x5ca)]();}catch{return null;}}},Jt=class extends D{['getLabelModelForOwner'](_0x578d75){return Ca(_0x578d75);}async[a0_0x57f064(0x21a)](_0x1dcb6c,_0x3d7817,_0x139af7,_0x4e6171){const _0x310d3d=a0_0x57f064;try{let _0x26abf9={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x4e6171},_0x423d15=this['getLabelModelForOwner'](_0x139af7),_0x31b3ac=A(_0x1dcb6c['where']);return await _0x423d15[_0x310d3d(0x561)](_0x31b3ac,{'$set':_0x3d7817},_0x26abf9);}catch(_0x1d3c37){return console[_0x310d3d(0x3e1)](_0x1d3c37),null;}}async['find'](_0x5aa0bb,_0x124c69){const _0x143d4f=a0_0x57f064;try{let _0x326257=this[_0x143d4f(0x487)](_0x124c69),_0x3e5088=A(_0x5aa0bb['where']);return await _0x326257['find'](_0x3e5088);}catch(_0xf3771d){console[_0x143d4f(0x3e1)](_0xf3771d);}}async['delete'](_0x6ed8b2,_0x527662){const _0x26b2a8=a0_0x57f064;try{let _0x29d0b4=this[_0x26b2a8(0x487)](_0x527662),_0x3d6299=A(_0x6ed8b2[_0x26b2a8(0x3bc)]);await _0x29d0b4[_0x26b2a8(0x4e2)](_0x3d6299);}catch(_0x1b9cf0){console[_0x26b2a8(0x3e1)](_0x1b9cf0);}}async[a0_0x57f064(0x72b)](_0x56229d){const _0x41af39=a0_0x57f064;try{return await this[_0x41af39(0x487)](_0x56229d)[_0x41af39(0x620)][_0x41af39(0xc3)](),{'success':!0x0};}catch(_0x112a5b){return console[_0x41af39(0x3e1)](_0x112a5b),{'success':!0x1,'error':_0x112a5b};}}},Vt=class{constructor(_0x4951c5){const _0x1ce118=a0_0x57f064;this[_0x1ce118(0x714)]=_0x4951c5;}async[a0_0x57f064(0x412)]({instanceName:_0x1a0844},_0x4ee81f){const _0x42a2ed=a0_0x57f064;return await this[_0x42a2ed(0x714)][_0x42a2ed(0x5f0)][_0x1a0844][_0x42a2ed(0x412)](_0x4ee81f);}async[a0_0x57f064(0xd3)]({instanceName:_0x188da4},_0x11b439){const _0x526b88=a0_0x57f064;return await this['waMonitor'][_0x526b88(0x5f0)][_0x188da4][_0x526b88(0xd3)](_0x11b439);}async[a0_0x57f064(0x630)]({instanceName:_0x464766},_0x414736){const _0x6e6389=a0_0x57f064;return await this[_0x6e6389(0x714)][_0x6e6389(0x5f0)][_0x464766][_0x6e6389(0x630)](_0x414736);}async[a0_0x57f064(0x26c)]({instanceName:_0x233416},_0x35d7cc){const _0x5283cf=a0_0x57f064;return await this[_0x5283cf(0x714)][_0x5283cf(0x5f0)][_0x233416][_0x5283cf(0x3e6)](_0x35d7cc);}async[a0_0x57f064(0x55a)]({instanceName:_0x28b7e8},_0x4a38bb){const _0xeb82c3=a0_0x57f064;return await this[_0xeb82c3(0x714)]['waInstances'][_0x28b7e8][_0xeb82c3(0x55a)](_0x4a38bb);}async[a0_0x57f064(0xde)]({instanceName:_0x478daf},_0x5dc1b9){const _0x346a20=a0_0x57f064;return await this[_0x346a20(0x714)][_0x346a20(0x5f0)][_0x478daf][_0x346a20(0xde)](_0x5dc1b9);}async[a0_0x57f064(0x4ad)]({instanceName:_0x5c1e75},_0x2cb55b){const _0x13f2a3=a0_0x57f064;return await this[_0x13f2a3(0x714)]['waInstances'][_0x5c1e75][_0x13f2a3(0xd1)](_0x2cb55b[_0x13f2a3(0x355)]);}async[a0_0x57f064(0x54e)]({instanceName:_0x1627e3},_0x222045){const _0x2948be=a0_0x57f064;return await this[_0x2948be(0x714)][_0x2948be(0x5f0)][_0x1627e3][_0x2948be(0x54e)](_0x222045[_0x2948be(0x355)]);}async[a0_0x57f064(0x43d)]({instanceName:_0x4a6e04},_0x573d9a){const _0x2df1f2=a0_0x57f064;return await this[_0x2df1f2(0x714)][_0x2df1f2(0x5f0)][_0x4a6e04][_0x2df1f2(0x43d)](_0x573d9a);}async[a0_0x57f064(0x58e)]({instanceName:_0x76ba6c},_0x43a177){const _0x1632a0=a0_0x57f064;return await this[_0x1632a0(0x714)][_0x1632a0(0x5f0)][_0x76ba6c]['fetchContacts'](_0x43a177);}async[a0_0x57f064(0x68a)]({instanceName:_0x1dbb95},_0x496e1d){const _0x22d3e2=a0_0x57f064;return await this[_0x22d3e2(0x714)][_0x22d3e2(0x5f0)][_0x1dbb95][_0x22d3e2(0x68a)](_0x496e1d);}async[a0_0x57f064(0x224)]({instanceName:_0xbbfdf2},_0x12c63b){const _0x393ed4=a0_0x57f064;return await this['waMonitor']['waInstances'][_0xbbfdf2][_0x393ed4(0x224)](_0x12c63b);}async[a0_0x57f064(0x27a)]({instanceName:_0x563dae}){const _0x333447=a0_0x57f064;return await this[_0x333447(0x714)]['waInstances'][_0x563dae][_0x333447(0x27a)]();}async[a0_0x57f064(0xad)]({instanceName:_0x7fb3bb}){const _0x1dfdc1=a0_0x57f064;return await this[_0x1dfdc1(0x714)][_0x1dfdc1(0x5f0)][_0x7fb3bb][_0x1dfdc1(0xad)]();}async[a0_0x57f064(0x406)]({instanceName:_0x36d450}){const _0x4070b8=a0_0x57f064;return await this[_0x4070b8(0x714)][_0x4070b8(0x5f0)][_0x36d450][_0x4070b8(0x406)]();}async[a0_0x57f064(0x426)]({instanceName:_0x2c5495},_0x4059d3){const _0x716108=a0_0x57f064;return await this['waMonitor'][_0x716108(0x5f0)][_0x2c5495][_0x716108(0x426)](_0x4059d3);}async[a0_0x57f064(0x1dd)]({instanceName:_0x42e65c},_0x2c300d){const _0x11b4a3=a0_0x57f064;return await this['waMonitor'][_0x11b4a3(0x5f0)][_0x42e65c][_0x11b4a3(0x1dd)](_0x2c300d[_0x11b4a3(0x355)]);}async['updateProfileName']({instanceName:_0x55c3e1},_0x30994d){const _0x23b790=a0_0x57f064;return await this[_0x23b790(0x714)]['waInstances'][_0x55c3e1][_0x23b790(0x3aa)](_0x30994d[_0x23b790(0x336)]);}async[a0_0x57f064(0x52a)]({instanceName:_0x4fbd98},_0x26614a){const _0x8d5abb=a0_0x57f064;return await this[_0x8d5abb(0x714)][_0x8d5abb(0x5f0)][_0x4fbd98][_0x8d5abb(0x52a)](_0x26614a[_0x8d5abb(0x5c7)]);}async[a0_0x57f064(0x4d6)]({instanceName:_0x41365e},_0x3fac9e){const _0x3dd4ea=a0_0x57f064;return await this[_0x3dd4ea(0x714)][_0x3dd4ea(0x5f0)][_0x41365e][_0x3dd4ea(0x4d6)](_0x3fac9e['picture']);}async[a0_0x57f064(0x2ed)]({instanceName:_0x513b63},_0x41a12c){const _0x1e491f=a0_0x57f064;return await this[_0x1e491f(0x714)]['waInstances'][_0x513b63][_0x1e491f(0x2ed)]();}},_s=require('@whiskeysockets/baileys'),Bt=class c{constructor(_0x3b8f4f,_0x4e31b6,_0x4dc496,_0x24457e,_0x5ec884){const _0x28c4de=a0_0x57f064;this[_0x28c4de(0x714)]=_0x3b8f4f,this['configService']=_0x4e31b6,this[_0x28c4de(0x402)]=_0x4dc496,this[_0x28c4de(0x734)]=_0x24457e,this[_0x28c4de(0x547)]=_0x5ec884,this[_0x28c4de(0xd4)]=new v(c['name']);}async[a0_0x57f064(0x494)]({instanceName:_0x4d08ad,apikey:_0x33244f,number:_0x2434f5,proxy:_0x48ce83=!0x0}){const _0x500d8d=a0_0x57f064;try{let _0x57cca8=new be(this[_0x500d8d(0x228)],this[_0x500d8d(0x734)],this[_0x500d8d(0x402)]);_0x57cca8[_0x500d8d(0x45c)]=_0x4d08ad,this[_0x500d8d(0x714)][_0x500d8d(0x5f0)][_0x57cca8[_0x500d8d(0x45c)]]=_0x57cca8;let _0x41f629={};_0x33244f?(await this['repository'][_0x500d8d(0x199)]['create']({'apikey':_0x33244f},_0x4d08ad),_0x41f629['apikey']=_0x33244f):_0x41f629=await this[_0x500d8d(0x547)]['generateHash']({'instanceName':_0x57cca8[_0x500d8d(0x45c)]});let _0x2d4d7d;if(_0x2434f5){if(_0x2d4d7d=await this[_0x500d8d(0x505)](_0x2434f5),_0x2d4d7d[_0x500d8d(0x3e1)])throw new I(_0x2d4d7d[_0x500d8d(0x3e1)]['toString']());_0x2434f5=_0x2d4d7d[_0x500d8d(0x355)];}let _0x3e7061;return await _0x57cca8['connectToWhatsapp'](_0x2434f5),await(0x0,_s['delay'])(0x7d0),_0x3e7061=_0x57cca8['qrCode'],{'instance':{'instanceName':_0x57cca8[_0x500d8d(0x45c)],'status':'created'},'hash':_0x41f629,'qrcode':_0x3e7061};}catch(_0x51a33b){throw this[_0x500d8d(0xd4)][_0x500d8d(0x3e1)](_0x51a33b),_0x51a33b;}}async[a0_0x57f064(0x257)]({instanceName:_0x17c453,number:_0x11af78=null}){const _0x90b918=a0_0x57f064;try{let _0x4adbaa=this[_0x90b918(0x714)][_0x90b918(0x5f0)][_0x17c453];switch(_0x4adbaa?.[_0x90b918(0xe8)]?.['state']){case _0x90b918(0x1fd):return await _0x4adbaa[_0x90b918(0x73d)](_0x11af78),await(0x0,_s['delay'])(0x7d0),_0x4adbaa[_0x90b918(0x49c)];case _0x90b918(0x32c):return _0x4adbaa[_0x90b918(0x49c)];default:return await this[_0x90b918(0x17f)]({'instanceName':_0x17c453});}}catch(_0x3fbffc){this['logger'][_0x90b918(0x71f)](_0x3fbffc);}}async['connectionState']({instanceName:_0x3976e2}){const _0x4c9aba=a0_0x57f064;let _0x1f50d2=this[_0x4c9aba(0x714)][_0x4c9aba(0x5f0)][_0x3976e2]['connectionStatus'],_0x216c09=null;_0x1f50d2[_0x4c9aba(0x32a)]==='open'&&_0x3976e2&&(_0x216c09=await this[_0x4c9aba(0x714)][_0x4c9aba(0x186)](_0x3976e2));let _0x112eb2=null;return _0x1f50d2[_0x4c9aba(0x32a)]===_0x4c9aba(0x32c)&&_0x3976e2&&(_0x112eb2=this[_0x4c9aba(0x714)][_0x4c9aba(0x5f0)][_0x3976e2][_0x4c9aba(0x49c)]),{'instance':_0x3976e2,'connectionStatus':_0x1f50d2,'instanceInfo':_0x216c09,'qrcode':_0x112eb2};}async['verifyWhatsAppNumber'](_0x2759a3){const _0x5e3139=a0_0x57f064;_0x2759a3=_0x2759a3['replace'](/\D/g,'');let _0x967a67=Object['keys'](this[_0x5e3139(0x714)][_0x5e3139(0x5f0)])['filter'](_0x36bdb9=>{const _0x895dbc=_0x5e3139;let _0x5ac532=this[_0x895dbc(0x714)][_0x895dbc(0x5f0)][_0x36bdb9];return _0x5ac532&&_0x5ac532['connectionStatus']&&_0x5ac532[_0x895dbc(0xe8)][_0x895dbc(0x32a)]==='open';});if(_0x967a67[_0x5e3139(0x611)]===0x0)return{'number':this['formatBRNumber'](_0x2759a3)};let _0x1af913=Math['floor'](Math[_0x5e3139(0x4b2)]()*_0x967a67[_0x5e3139(0x611)]),_0x2351d6=_0x967a67[_0x1af913];try{let _0x10c610=(await this[_0x5e3139(0x714)][_0x5e3139(0x5f0)][_0x2351d6][_0x5e3139(0xd3)]({'numbers':[_0x2759a3]}))[_0x5e3139(0x2f1)]();return _0x10c610[_0x5e3139(0x229)]?{'number':_0x10c610[_0x5e3139(0x726)][_0x5e3139(0x5f7)](_0x5e3139(0x51f),'')}:{'number':_0x2759a3,'error':_0x5e3139(0x10d)};}catch(_0x2f0dfe){return this[_0x5e3139(0xd4)][_0x5e3139(0x3e1)](_0x5e3139(0x67d)+_0x2f0dfe),{'number':_0x2759a3,'error':_0x5e3139(0x4c5)};}}[a0_0x57f064(0x589)](_0x363e0d){const _0x1c3965=a0_0x57f064;let _0x3de4bd=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x1c3965(0x424)](_0x363e0d);if(_0x3de4bd&&_0x3de4bd[0x1]==='55'){let _0x938a3e=_0x3de4bd[0x2],_0x24a0e1=_0x3de4bd[0x3],_0x209e2a=_0x3de4bd[0x4];if(parseInt(_0x938a3e)>=0x1f&&_0x24a0e1==='9')return _0x3de4bd[0x1]+_0x938a3e+_0x209e2a;}return _0x363e0d;}async[a0_0x57f064(0x3fc)]({instanceName:_0x1f29d8}){const _0x5af290=a0_0x57f064;try{return this[_0x5af290(0x714)]['waInstances'][_0x1f29d8]?.[_0x5af290(0xec)]?.['ws']?.[_0x5af290(0x1fd)](),{'status':_0x5af290(0x4d2),'error':!0x1,'response':{'message':'Instance\x20restarted'}};}catch(_0x25433a){this['logger'][_0x5af290(0x3e1)](_0x25433a);}}async['fetchInstances']({instanceName:_0x450759}){const _0x371bb0=a0_0x57f064;return _0x450759?this[_0x371bb0(0x714)][_0x371bb0(0x186)](_0x450759):this[_0x371bb0(0x714)][_0x371bb0(0x186)]();}async[a0_0x57f064(0x4bb)]({instanceName:_0x34b21f}){const _0x18e8e6=a0_0x57f064;try{return await this['waMonitor']['waInstances'][_0x34b21f]?.[_0x18e8e6(0xec)]?.['logout']('Log\x20out\x20instance:\x20'+_0x34b21f),{'error':!0x1,'message':_0x18e8e6(0x6fa)};}catch(_0x1fe2b4){throw new I(_0x1fe2b4['toString']());}}async[a0_0x57f064(0x3a3)]({instanceName:_0x388179}){const _0x168b31=a0_0x57f064;if((await this[_0x168b31(0x17f)]({'instanceName':_0x388179}))[_0x168b31(0xe8)][_0x168b31(0x32a)]===_0x168b31(0xf2))throw new w(['Deletion\x20failed',_0x168b31(0x3f6)]);try{return delete this[_0x168b31(0x714)][_0x168b31(0x5f0)][_0x388179],{'error':!0x1,'message':_0x168b31(0x59f)};}catch(_0x3cf270){throw new w(_0x3cf270['toString']());}}},ee=require(a0_0x57f064(0x104)),Gt=class{constructor(_0x3537cd){const _0x4b01a2=a0_0x57f064;this[_0x4b01a2(0x714)]=_0x3537cd;}async['sendText']({instanceName:_0x6b3e96},_0xae41aa){const _0x53d685=a0_0x57f064;return await this[_0x53d685(0x714)][_0x53d685(0x5f0)][_0x6b3e96][_0x53d685(0x62c)](_0xae41aa);}async[a0_0x57f064(0x3db)]({instanceName:_0x2ae90f},_0x2d782f){const _0x451f4f=a0_0x57f064;return await this[_0x451f4f(0x714)][_0x451f4f(0x5f0)][_0x2ae90f]['menuMessage'](_0x2d782f);}async[a0_0x57f064(0xb0)]({instanceName:_0x49d469},_0x3e9675){const _0x3f95ec=a0_0x57f064;if((0x0,ee[_0x3f95ec(0x56a)])(_0x3e9675?.[_0x3f95ec(0x35a)]?.['media'])&&!_0x3e9675?.[_0x3f95ec(0x35a)]?.[_0x3f95ec(0x4bd)])throw new w(_0x3f95ec(0x14e));if((0x0,ee['isURL'])(_0x3e9675?.[_0x3f95ec(0x35a)]?.[_0x3f95ec(0x356)])||(0x0,ee[_0x3f95ec(0x56a)])(_0x3e9675?.[_0x3f95ec(0x35a)]?.['media']))return await this[_0x3f95ec(0x714)][_0x3f95ec(0x5f0)][_0x49d469][_0x3f95ec(0x35a)](_0x3e9675);throw new w(_0x3f95ec(0x247));}async[a0_0x57f064(0x2e4)]({instanceName:_0x1e892a},_0x40a092){const _0x167694=a0_0x57f064;if((0x0,ee[_0x167694(0x1f9)])(_0x40a092[_0x167694(0x272)][_0x167694(0x581)])||(0x0,ee[_0x167694(0x56a)])(_0x40a092[_0x167694(0x272)]['image']))return await this['waMonitor']['waInstances'][_0x1e892a]['mediaSticker'](_0x40a092);throw new w(_0x167694(0x247));}async['sendWhatsAppAudio']({instanceName:_0x1452a4},_0x28abb4){const _0x4c3aeb=a0_0x57f064;if((0x0,ee[_0x4c3aeb(0x1f9)])(_0x28abb4[_0x4c3aeb(0x35e)][_0x4c3aeb(0x1aa)])||(0x0,ee[_0x4c3aeb(0x56a)])(_0x28abb4['audioMessage'][_0x4c3aeb(0x1aa)]))return await this['waMonitor'][_0x4c3aeb(0x5f0)][_0x1452a4]['audioWhatsapp'](_0x28abb4);throw new w('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async['sendButtons']({instanceName:_0x24879b},_0x5ce5ec){const _0xb54325=a0_0x57f064;if((0x0,ee[_0xb54325(0x56a)])(_0x5ce5ec[_0xb54325(0x376)][_0xb54325(0x35a)]?.['media'])&&!_0x5ce5ec['buttonMessage']['mediaMessage']?.[_0xb54325(0x4bd)])throw new w(_0xb54325(0x14e));return await this[_0xb54325(0x714)]['waInstances'][_0x24879b]['buttonMessage'](_0x5ce5ec);}async[a0_0x57f064(0x591)]({instanceName:_0x2d451f},_0x222608){const _0x3ed8f8=a0_0x57f064;return await this['waMonitor']['waInstances'][_0x2d451f][_0x3ed8f8(0x453)](_0x222608);}async[a0_0x57f064(0x741)]({instanceName:_0x29efbb},_0x5e996a){const _0xc1000=a0_0x57f064;return await this[_0xc1000(0x714)]['waInstances'][_0x29efbb]['pollMessage'](_0x5e996a);}async[a0_0x57f064(0x101)]({instanceName:_0x156858},_0x404c61){return await this['waMonitor']['waInstances'][_0x156858]['listMessage'](_0x404c61);}async[a0_0x57f064(0x497)]({instanceName:_0x141bde},_0x59affa){const _0x45575c=a0_0x57f064;return await this[_0x45575c(0x714)]['waInstances'][_0x141bde]['contactMessage'](_0x59affa);}async[a0_0x57f064(0x290)]({instanceName:_0x5cfa7e},_0x1021c0){const _0x17c2bb=a0_0x57f064;if(!_0x1021c0[_0x17c2bb(0x5d5)][_0x17c2bb(0x295)][_0x17c2bb(0x431)](/[^\(\)\w\sà-ú"-\+]+/))throw new w(_0x17c2bb(0x5e8));return await this[_0x17c2bb(0x714)][_0x17c2bb(0x5f0)][_0x5cfa7e][_0x17c2bb(0x5d5)](_0x1021c0);}async[a0_0x57f064(0xda)]({instanceName:_0x44e531},_0x19aaa7){const _0x41ad82=a0_0x57f064;return await this[_0x41ad82(0x714)][_0x41ad82(0x5f0)][_0x44e531][_0x41ad82(0x18b)](_0x19aaa7);}},xr=require(a0_0x57f064(0x6f9)),Ps=require('uuid'),Wt=class c{constructor(_0x1d0ea8,_0x537bbf,_0x2d5b98){const _0x1d1443=a0_0x57f064;this[_0x1d1443(0x228)]=_0x1d0ea8,this[_0x1d1443(0x714)]=_0x537bbf,this[_0x1d1443(0x402)]=_0x2d5b98,this['logger']=new v(c[_0x1d1443(0x336)]);}async[a0_0x57f064(0x6fd)](_0xdeaed4){const _0x43dab1=a0_0x57f064;let _0x225e6d=this[_0x43dab1(0x228)]['get']('AUTHENTICATION')['JWT'],_0x2dc319=(0x0,xr[_0x43dab1(0x11f)])({'instanceName':_0xdeaed4['instanceName'],'apiName':Xe,'tokenId':(0x0,Ps['v4'])()},_0x225e6d[_0x43dab1(0x29b)],{'expiresIn':_0x225e6d[_0x43dab1(0xb7)],'encoding':_0x43dab1(0x493),'subject':_0x43dab1(0x305)}),_0x5d68f1=await this[_0x43dab1(0x402)][_0x43dab1(0x199)][_0x43dab1(0x642)]({'jwt':_0x2dc319},_0xdeaed4['instanceName']);if(_0x5d68f1['error'])throw this[_0x43dab1(0xd4)][_0x43dab1(0x3e1)]({'localError':c[_0x43dab1(0x336)]+_0x43dab1(0x1a9),'error':_0x5d68f1[_0x43dab1(0x3e1)]}),new w('Authentication\x20error',_0x5d68f1[_0x43dab1(0x3e1)]?.[_0x43dab1(0x1ef)]());return{'jwt':_0x2dc319};}async[a0_0x57f064(0x68f)](_0x47a5ec){const _0x4db320=a0_0x57f064;let _0x3b6785=(0x0,Ps['v4'])()[_0x4db320(0x68e)](),_0x4666bc=await this[_0x4db320(0x402)][_0x4db320(0x199)][_0x4db320(0x642)]({'apikey':_0x3b6785},_0x47a5ec[_0x4db320(0x45c)]);if(_0x4666bc[_0x4db320(0x3e1)])throw this[_0x4db320(0xd4)]['error']({'localError':c['name']+_0x4db320(0x1a9),'error':_0x4666bc[_0x4db320(0x3e1)]}),new w(_0x4db320(0x34d),_0x4666bc[_0x4db320(0x3e1)]?.[_0x4db320(0x1ef)]());return{'apikey':_0x3b6785};}async['generateHash'](_0x538a4d){const _0x2d2b38=a0_0x57f064;let _0xa36a71=this['configService'][_0x2d2b38(0x136)](_0x2d2b38(0x60b));return await this[_0xa36a71['TYPE']](_0x538a4d);}},zt=class{constructor(_0x31ef93){this['waMonitor']=_0x31ef93;}async['createGroup'](_0x304510,_0x2b2f82){const _0x2e8092=a0_0x57f064;return await this[_0x2e8092(0x714)]['waInstances'][_0x304510['instanceName']][_0x2e8092(0x546)](_0x2b2f82);}async[a0_0x57f064(0x3c8)](_0x536025,_0x5a284c){const _0x149bda=a0_0x57f064;return await this[_0x149bda(0x714)]['waInstances'][_0x536025['instanceName']][_0x149bda(0x3c8)](_0x5a284c);}async['groupDesc'](_0x493857,_0x1c7244){const _0x15e173=a0_0x57f064;return await this['waMonitor'][_0x15e173(0x5f0)][_0x493857[_0x15e173(0x45c)]]['groupDesc'](_0x1c7244);}async[a0_0x57f064(0x3a8)](_0x1781a2,_0x3024f9){const _0x52bc18=a0_0x57f064;return await this['waMonitor'][_0x52bc18(0x5f0)][_0x1781a2[_0x52bc18(0x45c)]]['groupName'](_0x3024f9);}async[a0_0x57f064(0x3f8)](_0xce8546,_0x2972a3){const _0x5d0909=a0_0x57f064;return await this['waMonitor'][_0x5d0909(0x5f0)][_0xce8546[_0x5d0909(0x45c)]]['groupBetterSetting'](_0x2972a3);}async[a0_0x57f064(0x191)](_0x36ab30,_0x24582d){const _0x1f507b=a0_0x57f064;return await this[_0x1f507b(0x714)][_0x1f507b(0x5f0)][_0x36ab30['instanceName']]['groupSetting'](_0x24582d);}async[a0_0x57f064(0x51c)](_0x469c5e,_0x58ea08){const _0x9ff883=a0_0x57f064;return await this['waMonitor']['waInstances'][_0x469c5e['instanceName']][_0x9ff883(0xaa)](_0x58ea08);}async[a0_0x57f064(0x398)](_0x3ae2c0){const _0x1f97fa=a0_0x57f064;return await this[_0x1f97fa(0x714)]['waInstances'][_0x3ae2c0['instanceName']][_0x1f97fa(0x398)]();}async[a0_0x57f064(0x37c)](_0x105ec0,_0x5331a0){const _0x29b36b=a0_0x57f064;return await this['waMonitor'][_0x29b36b(0x5f0)][_0x105ec0[_0x29b36b(0x45c)]][_0x29b36b(0x37c)](_0x5331a0);}async[a0_0x57f064(0x30c)](_0x31bbe3,_0x3ae2c8){const _0x4283de=a0_0x57f064;return await this['waMonitor']['waInstances'][_0x31bbe3[_0x4283de(0x45c)]][_0x4283de(0x30c)](_0x3ae2c8);}async[a0_0x57f064(0x239)](_0x570596,_0x2fe4fe){const _0x1da8f9=a0_0x57f064;return await this['waMonitor'][_0x1da8f9(0x5f0)][_0x570596[_0x1da8f9(0x45c)]]['groupGetInviteInfo'](_0x2fe4fe);}async[a0_0x57f064(0x475)](_0x29cc40,_0x2abb58){const _0x4bc4e9=a0_0x57f064;return await this[_0x4bc4e9(0x714)][_0x4bc4e9(0x5f0)][_0x29cc40[_0x4bc4e9(0x45c)]]['revokeInviteCode'](_0x2abb58);}async[a0_0x57f064(0x256)](_0x58cc58,_0x1dbdaf){const _0x3f054b=a0_0x57f064;return await this['waMonitor']['waInstances'][_0x58cc58[_0x3f054b(0x45c)]][_0x3f054b(0x256)](_0x1dbdaf);}async[a0_0x57f064(0x729)](_0x5e0385,_0x102826){const _0x498ba1=a0_0x57f064;return await this[_0x498ba1(0x714)][_0x498ba1(0x5f0)][_0x5e0385[_0x498ba1(0x45c)]][_0x498ba1(0x401)](_0x102826);}async[a0_0x57f064(0x6df)](_0x400afe,_0x391626){const _0x2986b9=a0_0x57f064;return await this['waMonitor'][_0x2986b9(0x5f0)][_0x400afe[_0x2986b9(0x45c)]]['toggleEphemeral'](_0x391626);}async[a0_0x57f064(0x349)](_0x15dcb1,_0xb602c7){const _0x153795=a0_0x57f064;return await this['waMonitor']['waInstances'][_0x15dcb1['instanceName']][_0x153795(0x349)](_0xb602c7);}},Ht=class{constructor(_0x346132){const _0x8e88f8=a0_0x57f064;this[_0x8e88f8(0x714)]=_0x346132;}['create'](_0xc1e405,_0x17c860){const _0x348846=a0_0x57f064;return this[_0x348846(0x714)][_0x348846(0x5f0)][_0xc1e405['instanceName']][_0x348846(0x24f)](_0x17c860);}async[a0_0x57f064(0x5c8)](_0x47f697){const _0x52a4be=a0_0x57f064;try{return await this[_0x52a4be(0x714)][_0x52a4be(0x5f0)][_0x47f697[_0x52a4be(0x45c)]][_0x52a4be(0x364)]();}catch{return{'enabled':null,'url':''};}}},fp=new v(a0_0x57f064(0x212)),Kt=class{constructor(_0x5ea3e3){const _0x4d372b=a0_0x57f064;this[_0x4d372b(0x714)]=_0x5ea3e3;}async['editScheduleMessage'](_0x41ad90,_0x14714d){const _0x5a18f4=a0_0x57f064;return await this[_0x5a18f4(0x714)][_0x5a18f4(0x5f0)][_0x41ad90[_0x5a18f4(0x45c)]][_0x5a18f4(0x692)](_0x14714d);}async['getScheduleMessage'](_0x470906){const _0x58676c=a0_0x57f064;return await this[_0x58676c(0x714)][_0x58676c(0x5f0)][_0x470906[_0x58676c(0x45c)]]['getScheduleMessage']();}async[a0_0x57f064(0x634)](_0x3ee666){const _0x2633cd=a0_0x57f064;return await this[_0x2633cd(0x714)]['waInstances'][_0x3ee666[_0x2633cd(0x45c)]][_0x2633cd(0x634)]();}async[a0_0x57f064(0x5b2)](_0x186517){const _0x142354=a0_0x57f064;return await this['waMonitor']['waInstances'][_0x186517[_0x142354(0x45c)]][_0x142354(0x5b2)]();}async['updateAgent'](_0x25f6a7,_0x1d5ce6){const _0x5ea515=a0_0x57f064;return await this['waMonitor'][_0x5ea515(0x5f0)][_0x25f6a7['instanceName']]['updateAgent'](_0x1d5ce6);}async[a0_0x57f064(0x215)](_0x34d610,_0x1acaf5){const _0x4fee35=a0_0x57f064;return await this[_0x4fee35(0x714)][_0x4fee35(0x5f0)][_0x34d610[_0x4fee35(0x45c)]]['updateCustomFields'](_0x1acaf5);}async[a0_0x57f064(0x5da)](_0x188b6f,_0x24f982){const _0x4f9c40=a0_0x57f064;return await this[_0x4f9c40(0x714)][_0x4f9c40(0x5f0)][_0x188b6f[_0x4f9c40(0x45c)]][_0x4f9c40(0x5da)](_0x24f982);}async[a0_0x57f064(0x68d)](_0x492e60,_0x590cd4){const _0x3b5524=a0_0x57f064;return await this['waMonitor'][_0x3b5524(0x5f0)][_0x492e60['instanceName']][_0x3b5524(0x68d)](_0x590cd4);}async[a0_0x57f064(0x20d)](_0x3a0929,_0x121f8b){const _0x1df4ad=a0_0x57f064;return await this[_0x1df4ad(0x714)][_0x1df4ad(0x5f0)][_0x3a0929['instanceName']]['getConversation'](_0x121f8b);}async['fetchConversation'](_0x4d9d8e,_0x4c8c4e){const _0x31f983=a0_0x57f064;return await this[_0x31f983(0x714)][_0x31f983(0x5f0)][_0x4d9d8e['instanceName']][_0x31f983(0x5f8)](_0x4c8c4e);}async[a0_0x57f064(0x5ec)](_0x56d219,_0x1ad62c){const _0x391dac=a0_0x57f064;return await this[_0x391dac(0x714)][_0x391dac(0x5f0)][_0x56d219[_0x391dac(0x45c)]][_0x391dac(0x5ec)](_0x1ad62c);}async['deleteConversation'](_0xd79cc9,_0x4fec46){const _0x46d773=a0_0x57f064;return await this['waMonitor'][_0x46d773(0x5f0)][_0xd79cc9[_0x46d773(0x45c)]][_0x46d773(0x1ec)](_0x4fec46);}async['getFlow'](_0xf5c69b,_0x550431){const _0x235373=a0_0x57f064;return await this['waMonitor']['waInstances'][_0xf5c69b[_0x235373(0x45c)]][_0x235373(0x1db)](_0x550431[_0x235373(0x336)]);}async[a0_0x57f064(0x1cb)](_0x3db682,_0x187276){const _0x121030=a0_0x57f064;return await this[_0x121030(0x714)][_0x121030(0x5f0)][_0x3db682[_0x121030(0x45c)]][_0x121030(0x1cb)](_0x187276);}async['editFlow'](_0x39b756,_0x55f596){const _0xc97c01=a0_0x57f064;return await this[_0xc97c01(0x714)][_0xc97c01(0x5f0)][_0x39b756['instanceName']]['editFlow'](_0x55f596);}async[a0_0x57f064(0x5c9)](_0x8379fd,_0x155aeb){const _0x3da521=a0_0x57f064;return await this[_0x3da521(0x714)][_0x3da521(0x5f0)][_0x8379fd['instanceName']][_0x3da521(0x5c9)](_0x155aeb);}async['editFlowReply'](_0x3e41b2,_0xda1b5b){const _0x167f8c=a0_0x57f064;return await this[_0x167f8c(0x714)][_0x167f8c(0x5f0)][_0x3e41b2[_0x167f8c(0x45c)]][_0x167f8c(0x5eb)](_0xda1b5b);}async[a0_0x57f064(0x119)](_0x1174e8,_0xd057ca){const _0x511a05=a0_0x57f064;return await this['waMonitor']['waInstances'][_0x1174e8['instanceName']][_0x511a05(0x119)](_0xd057ca);}async[a0_0x57f064(0x465)](_0x1d9ca4,_0xa688c7){const _0x1b38fa=a0_0x57f064;return await this['waMonitor'][_0x1b38fa(0x5f0)][_0x1d9ca4[_0x1b38fa(0x45c)]]['editFlowCondition'](_0xa688c7);}async[a0_0x57f064(0x639)](_0x4d2f3b,_0x317fb8){const _0x3f8e63=a0_0x57f064;return await this[_0x3f8e63(0x714)][_0x3f8e63(0x5f0)][_0x4d2f3b[_0x3f8e63(0x45c)]][_0x3f8e63(0x639)](_0x317fb8);}async[a0_0x57f064(0x35c)](_0x5ac705,_0x2be71f){const _0x26008=a0_0x57f064;return await this[_0x26008(0x714)]['waInstances'][_0x5ac705[_0x26008(0x45c)]]['editFlowVariable'](_0x2be71f);}async['deleteFlow'](_0x1bce44,_0x5d3c71){const _0x2f3d5c=a0_0x57f064;return await this[_0x2f3d5c(0x714)][_0x2f3d5c(0x5f0)][_0x1bce44[_0x2f3d5c(0x45c)]][_0x2f3d5c(0x17e)](_0x5d3c71[_0x2f3d5c(0x336)]);}async[a0_0x57f064(0x2ae)](_0x21c87c){const _0x10e2e8=a0_0x57f064;return await this['waMonitor'][_0x10e2e8(0x5f0)][_0x21c87c[_0x10e2e8(0x45c)]][_0x10e2e8(0x2ae)]();}},Qt=class{constructor(_0x12a0f4){const _0x2810e9=a0_0x57f064;this[_0x2810e9(0x226)]=_0x12a0f4;}async[a0_0x57f064(0x54c)](_0x5da58f,_0x184082){const _0x43e7cf=a0_0x57f064;return this['webhookService'][_0x43e7cf(0x642)](_0x5da58f,_0x184082);}async[a0_0x57f064(0x364)](_0xb597a5){const _0x1e22f0=a0_0x57f064;return this[_0x1e22f0(0x226)]['find'](_0xb597a5);}},Yt=class extends D{constructor(_0x606f38,_0x4e59d1){const _0x4fe2cd=a0_0x57f064;super(_0x4e59d1),this[_0x4fe2cd(0x527)]=_0x606f38,this[_0x4fe2cd(0x228)]=_0x4e59d1;}async[a0_0x57f064(0x642)](_0x1731b,_0x132869){const _0x10d72b=a0_0x57f064;try{return this[_0x10d72b(0x9a)][_0x10d72b(0x58d)]?{'insertCount':(await this['webhookModel'][_0x10d72b(0x628)]({'_id':_0x132869},{..._0x1731b},{'upsert':!0x0}))[_0x10d72b(0x451)]}:{'insertCount':0x1};}catch(_0x2505cb){return _0x2505cb;}}async[a0_0x57f064(0x3b5)](_0x300156){const _0x4e2363=a0_0x57f064;try{if(this[_0x4e2363(0x9a)][_0x4e2363(0x58d)]){await this[_0x4e2363(0x527)]['deleteOne']({'_id':_0x300156});return;}}catch(_0x1f9e01){return{'error':_0x1f9e01};}}async[a0_0x57f064(0x5c8)](_0x5f58bc){const _0xa8f862=a0_0x57f064;try{if(this['dbSettings'][_0xa8f862(0x58d)])return await this[_0xa8f862(0x527)][_0xa8f862(0x5a2)]({'_id':_0x5f58bc});}catch{return{};}}},Xt=class extends D{constructor(_0xb1c5ef,_0x2cb114){const _0x546763=a0_0x57f064;super(_0x2cb114),this[_0x546763(0x419)]=_0xb1c5ef,this['configService']=_0x2cb114,this[_0x546763(0x199)]=_0x2cb114['get'](_0x546763(0x60b));}async[a0_0x57f064(0x642)](_0x274154,_0x405035){const _0x4d554e=a0_0x57f064;try{if(this[_0x4d554e(0x9a)]['ENABLED'])return{'insertCount':(await this[_0x4d554e(0x419)]['updateOne']({'_id':_0x405035},{'$set':{..._0x274154}},{'upsert':!0x0}))[_0x4d554e(0x451)]};}catch(_0x12d2ef){return{'error':_0x12d2ef};}}async['updateAll'](_0x3a5167,_0x35189a){const _0x2c8c12=a0_0x57f064;try{if(this['dbSettings'][_0x2c8c12(0x58d)])return{'insertCount':(await this[_0x2c8c12(0x419)][_0x2c8c12(0x5f5)](_0x3a5167,{'$set':_0x35189a},{'upsert':!0x1}))[_0x2c8c12(0x451)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x276980){return{'error':_0x276980};}}async['deleteMany'](_0x482118){const _0x156e9b=a0_0x57f064;try{if(this[_0x156e9b(0x9a)][_0x156e9b(0x58d)])return{'insertCount':(await this[_0x156e9b(0x419)][_0x156e9b(0x4e2)](_0x482118))['deletedCount']};throw new Error(_0x156e9b(0x664));}catch(_0x4f7f03){return{'error':_0x4f7f03};}}async[a0_0x57f064(0x3b5)](_0x320a9a){const _0xc45742=a0_0x57f064;try{if(this[_0xc45742(0x9a)][_0xc45742(0x58d)]){await this['authModel'][_0xc45742(0x3cd)]({'_id':_0x320a9a});return;}}catch(_0xd2221d){return{'error':_0xd2221d};}}async[a0_0x57f064(0x5c8)](_0x51c124){const _0x1a57eb=a0_0x57f064;try{if(this[_0x1a57eb(0x9a)]['ENABLED'])return await this[_0x1a57eb(0x419)][_0x1a57eb(0x5a2)]({'_id':_0x51c124});}catch{return{};}}async['findAll'](){const _0x2710a1=a0_0x57f064;try{if(this['dbSettings'][_0x2710a1(0x58d)])return await this[_0x2710a1(0x419)][_0x2710a1(0x5c8)]();}catch{return[];}}},Zt=class extends D{['getFlowModelForOwner'](_0x4550fa){return pa(_0x4550fa);}async['copyDataToNewModel'](_0xd0e24a){const _0x3f4e7c=a0_0x57f064;try{let _0x404774=ha,_0x3a577b=this[_0x3f4e7c(0x56f)](_0xd0e24a),_0x42dda1=await _0x404774['find']({'owner':_0xd0e24a})[_0x3f4e7c(0x5ca)](),_0x4a3887=[],_0x430404=[];for(let _0x1f51c5 of _0x42dda1)await _0x3a577b[_0x3f4e7c(0x64f)](_0x1f51c5[_0x3f4e7c(0x447)])['lean']()||(_0x4a3887['push'](_0x1f51c5),_0x430404['push'](_0x1f51c5[_0x3f4e7c(0x447)]));return _0x4a3887[_0x3f4e7c(0x611)]>0x0&&await _0x3a577b[_0x3f4e7c(0x153)](_0x4a3887,{'ordered':!0x1}),{'success':!0x0};}catch(_0x209d86){return console[_0x3f4e7c(0x3e1)]('Erro\x20ao\x20copiar\x20dados:',_0x209d86),{'success':!0x1,'error':_0x209d86};}}async['delete'](_0x17c2ae,_0x3a360e){const _0x326745=a0_0x57f064;try{let _0x56a6fb=this[_0x326745(0x56f)](_0x3a360e),_0x25aab7=A(_0x17c2ae[_0x326745(0x3bc)]);return{'deletedCount':(await _0x56a6fb['deleteMany'](_0x25aab7))[_0x326745(0x4dd)]};}catch(_0x3b9702){return{'error':_0x3b9702?.[_0x326745(0x1ef)]()};}}async[a0_0x57f064(0x3cd)](_0x219ad2,_0x575705){const _0x46ee16=a0_0x57f064;try{let _0x33aec4=this[_0x46ee16(0x56f)](_0x575705),_0x1132db=A(_0x219ad2[_0x46ee16(0x3bc)]);return{'deletedCount':(await _0x33aec4[_0x46ee16(0x3cd)](_0x1132db))[_0x46ee16(0x4dd)]};}catch(_0x4d2f93){return{'error':_0x4d2f93?.[_0x46ee16(0x1ef)]()};}}async['replaceOne'](_0x2dd58b,_0x479140,_0x20bb42){const _0x465753=a0_0x57f064;try{let _0x4e303e=await this['getFlowModelForOwner'](_0x20bb42)['findByIdAndUpdate'](_0x2dd58b,_0x479140,{'overwrite':!0x0,'new':!0x0});return _0x4e303e||(console[_0x465753(0x3e1)](_0x465753(0x47c),_0x2dd58b),null);}catch(_0x3af094){return console['error'](_0x465753(0x6ed),_0x3af094),null;}}async['updateOne'](_0x3aebbb,_0x3c13a9,_0x5dc86a){const _0x27b01b=a0_0x57f064;try{let _0x458cf8=await this['getFlowModelForOwner'](_0x5dc86a)[_0x27b01b(0x64f)](_0x3aebbb);return _0x458cf8?(Object[_0x27b01b(0x4fe)](_0x458cf8,_0x3c13a9),await _0x458cf8[_0x27b01b(0x27d)]()):(console['error'](_0x27b01b(0x638),_0x3aebbb),null);}catch(_0x89c861){return console[_0x27b01b(0x3e1)]('Erro\x20ao\x20atualizar\x20o\x20fluxo:',_0x89c861),null;}}async['updateMissingShareOwners'](_0x49e56c){const _0x486c12=a0_0x57f064;try{let _0x45fff9=this[_0x486c12(0x56f)](_0x49e56c),_0x129b32={'shareOwners':{'$exists':!0x1}},_0x339f8a={'$set':{'shareOwners':[]}};return(await _0x45fff9[_0x486c12(0x5f5)](_0x129b32,_0x339f8a))[_0x486c12(0x451)];}catch(_0x29ea0d){return console['error'](_0x29ea0d),0x0;}}async['createAndSave'](_0x1afcfe,_0xd01d9b){const _0x34351e=a0_0x57f064;try{let _0x411832=this[_0x34351e(0x56f)](_0xd01d9b);return await new _0x411832(_0x1afcfe)[_0x34351e(0x27d)]();}catch(_0x351c95){return console['error'](_0x34351e(0x173),_0x351c95),null;}}async[a0_0x57f064(0x5f5)](_0x1b0a69,_0x3205ba,_0x9204fe){const _0x319fdc=a0_0x57f064;try{return{'modifiedCount':(await this[_0x319fdc(0x56f)](_0x9204fe)[_0x319fdc(0x5f5)](_0x1b0a69,{'$set':_0x3205ba}))['modifiedCount']};}catch(_0x35d6b7){return console[_0x319fdc(0x3e1)](_0x319fdc(0x44c),_0x35d6b7),{'error':_0x35d6b7};}}async[a0_0x57f064(0x654)](_0x342f76,_0x305c4c){const _0x3f9c41=a0_0x57f064;try{let _0x574747=this[_0x3f9c41(0x56f)](_0x305c4c),_0x58b25d=A(_0x342f76[_0x3f9c41(0x3bc)]);return await _0x574747[_0x3f9c41(0x5c8)](_0x58b25d)[_0x3f9c41(0x4cf)](_0x342f76?.['limit']??0x0)[_0x3f9c41(0x5ca)]();}catch{return[];}}async[a0_0x57f064(0x5a2)](_0x28d8bb,_0x1801bb){const _0x2a5bd1=a0_0x57f064;try{let _0x2a26af=this['getFlowModelForOwner'](_0x1801bb),_0x295dd0=A(_0x28d8bb[_0x2a5bd1(0x3bc)]);return await _0x2a26af['findOne'](_0x295dd0)['lean']();}catch{return null;}}async[a0_0x57f064(0x72b)](_0x315a4c){const _0x151f21=a0_0x57f064;try{return await this[_0x151f21(0x56f)](_0x315a4c)[_0x151f21(0x620)][_0x151f21(0xc3)](),{'success':!0x0};}catch(_0x21e6da){return console[_0x151f21(0x3e1)](_0x21e6da),{'success':!0x1,'error':_0x21e6da};}}},es=class extends D{[a0_0x57f064(0x1c6)](_0x4c44a5){return ma(_0x4c44a5);}async['copyDataToNewModel'](_0x278180){const _0x2c2ff0=a0_0x57f064;try{let _0x574f5f=fa,_0x2c3e22=this['getConversationModelForOwner'](_0x278180),_0xc53805=await _0x574f5f['find']({'owner':_0x278180})[_0x2c2ff0(0x5ca)](),_0x980bba=[],_0x3a9fb4=[];for(let _0x40d3cb of _0xc53805)await _0x2c3e22[_0x2c2ff0(0x64f)](_0x40d3cb[_0x2c2ff0(0x447)])[_0x2c2ff0(0x5ca)]()||(_0x980bba[_0x2c2ff0(0x1e9)](_0x40d3cb),_0x3a9fb4[_0x2c2ff0(0x1e9)](_0x40d3cb[_0x2c2ff0(0x447)]));return _0x980bba['length']>0x0&&await _0x2c3e22[_0x2c2ff0(0x153)](_0x980bba,{'ordered':!0x1}),{'success':!0x0};}catch(_0x49201f){return console[_0x2c2ff0(0x3e1)](_0x2c2ff0(0x24e),_0x49201f),{'success':!0x1,'error':_0x49201f};}}async[a0_0x57f064(0x621)](_0x59d556){const _0x1c90c1=a0_0x57f064;if(_0x59d556['length']!==0x0)try{return{'insertCount':(await this[_0x1c90c1(0x1c6)](_0x59d556[0x0][_0x1c90c1(0x129)])[_0x1c90c1(0x153)]([..._0x59d556]))[_0x1c90c1(0x611)]};}catch(_0x45bd4b){return _0x45bd4b;}}async[a0_0x57f064(0x3b5)](_0x2f2060,_0x17575e){const _0x3cf915=a0_0x57f064;try{let _0x115cbf=this[_0x3cf915(0x1c6)](_0x17575e),_0x50c9c4=A(_0x2f2060[_0x3cf915(0x3bc)]);return{'deletedCount':(await _0x115cbf['deleteMany'](_0x50c9c4))[_0x3cf915(0x4dd)]};}catch(_0x46329f){return{'error':_0x46329f?.['toString']()};}}async[a0_0x57f064(0x3cd)](_0x3547b0,_0x2ee630){const _0x23147c=a0_0x57f064;try{let _0x438f89=this[_0x23147c(0x1c6)](_0x2ee630),_0x113173=A(_0x3547b0[_0x23147c(0x3bc)]);return{'deletedCount':(await _0x438f89[_0x23147c(0x3cd)](_0x113173))['deletedCount']};}catch(_0x1da089){return{'error':_0x1da089?.[_0x23147c(0x1ef)]()};}}async[a0_0x57f064(0x712)](_0x43effd,_0x4e56b9){const _0x43ff1f=a0_0x57f064;try{if(_0x43effd[_0x43ff1f(0x611)]===0x0)return;let _0x490fc6=this[_0x43ff1f(0x1c6)](_0x4e56b9),_0x203c9d=_0x43effd['map'](_0x2077fa=>({'updateOne':{'filter':{'name':_0x2077fa[_0x43ff1f(0x336)],'owner':_0x4e56b9},'update':{..._0x2077fa}}})),{modifiedCount:_0x230e3a}=await _0x490fc6[_0x43ff1f(0x31a)](_0x203c9d);return{'insertCount':_0x230e3a};}catch{return;}}async[a0_0x57f064(0x5f5)](_0x5d9adc,_0x5b92b6,_0x22f18b){const _0x2a9e84=a0_0x57f064;try{return{'modifiedCount':(await this[_0x2a9e84(0x1c6)](_0x22f18b)[_0x2a9e84(0x5f5)](_0x5d9adc,{'$set':_0x5b92b6}))[_0x2a9e84(0x451)]};}catch(_0x544bfd){return console['error'](_0x2a9e84(0x5b3),_0x544bfd),{'error':_0x544bfd};}}async[a0_0x57f064(0x21a)](_0x2fc8c0,_0x165427,_0x53a9fb){const _0x4ef858=a0_0x57f064;try{return await this[_0x4ef858(0x1c6)](_0x53a9fb)[_0x4ef858(0x561)]({'_id':_0x2fc8c0},{'$set':_0x165427},{'new':!0x0,'upsert':!0x0})[_0x4ef858(0x5ca)]();}catch(_0x153d32){return console[_0x4ef858(0x3e1)](_0x153d32),null;}}async[a0_0x57f064(0x5c8)](_0x33f4cd,_0x250eb6){const _0x27b9cb=a0_0x57f064;try{return await this['getConversationModelForOwner'](_0x250eb6)[_0x27b9cb(0x5c8)](_0x33f4cd)[_0x27b9cb(0x5fb)]({'lastInteraction':-0x1})[_0x27b9cb(0x5ca)]();}catch{return[];}}async[a0_0x57f064(0x5a2)](_0x138b24,_0x40ddf6){const _0x31cace=a0_0x57f064;try{return await this[_0x31cace(0x1c6)](_0x40ddf6)['findOne']({..._0x138b24[_0x31cace(0x3bc)]})[_0x31cace(0x5ca)]();}catch{return null;}}async['deleteAll'](_0x40e961){const _0x4cc9c6=a0_0x57f064;try{return await this[_0x4cc9c6(0x1c6)](_0x40e961)[_0x4cc9c6(0x620)][_0x4cc9c6(0xc3)](),{'success':!0x0};}catch(_0x3818d1){return console[_0x4cc9c6(0x3e1)](_0x3818d1),{'success':!0x1,'error':_0x3818d1};}}},ts=class extends D{[a0_0x57f064(0x361)](_0xc22a12){return ya(_0xc22a12);}async[a0_0x57f064(0x34e)](_0x522a41){const _0x3f1d79=a0_0x57f064;try{let _0x3a2bd5=ba,_0x2aa999=this[_0x3f1d79(0x361)](_0x522a41),_0x2e922d=await _0x3a2bd5[_0x3f1d79(0x5c8)]({'owner':_0x522a41})['lean'](),_0x305dfd=[],_0x37a2db=[];for(let _0x49c785 of _0x2e922d)await _0x2aa999[_0x3f1d79(0x64f)](_0x49c785[_0x3f1d79(0x447)])[_0x3f1d79(0x5ca)]()||(_0x305dfd[_0x3f1d79(0x1e9)](_0x49c785),_0x37a2db[_0x3f1d79(0x1e9)](_0x49c785[_0x3f1d79(0x447)]));return _0x305dfd[_0x3f1d79(0x611)]>0x0&&await _0x2aa999['insertMany'](_0x305dfd,{'ordered':!0x1}),{'success':!0x0};}catch(_0x1d50bf){return console[_0x3f1d79(0x3e1)](_0x3f1d79(0x24e),_0x1d50bf),{'success':!0x1,'error':_0x1d50bf};}}async[a0_0x57f064(0x14b)](_0x17d3f0,_0x30b24b){const _0x153c6b=a0_0x57f064;try{let _0xb9ab1a=this[_0x153c6b(0x361)](_0x30b24b);return await new _0xb9ab1a(_0x17d3f0)[_0x153c6b(0x27d)]();}catch(_0x349ee6){return console[_0x153c6b(0x3e1)](_0x153c6b(0x173),_0x349ee6),null;}}async[a0_0x57f064(0x3cd)](_0x16a708,_0x1bc89e){const _0x3436aa=a0_0x57f064;try{return await this['getScheduleMessageModelForOwner'](_0x1bc89e)[_0x3436aa(0x61b)](_0x16a708),{};}catch(_0x29a6b3){return{'error':_0x29a6b3?.[_0x3436aa(0x1ef)]()};}}async['updateOne'](_0x19f5a8,_0xb338f1,_0x43b7c5){const _0x4515b1=a0_0x57f064;try{return await this[_0x4515b1(0x361)](_0x43b7c5)[_0x4515b1(0x561)](_0x19f5a8,{'$set':_0xb338f1},{'new':!0x0})[_0x4515b1(0x5ca)]();}catch(_0x51def2){return console[_0x4515b1(0x3e1)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x51def2),null;}}async[a0_0x57f064(0x1b8)](_0x227cb5,_0x3a883f,_0x40062d){const _0x29aa3f=a0_0x57f064;try{return await this[_0x29aa3f(0x361)](_0x40062d)[_0x29aa3f(0x577)](_0x227cb5,_0x3a883f,{'new':!0x0})[_0x29aa3f(0x5ca)]();}catch(_0x4c76c2){return console[_0x29aa3f(0x3e1)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x4c76c2),null;}}async[a0_0x57f064(0x5c8)](_0x991797,_0x350519){const _0x19b9e1=a0_0x57f064;try{return await this[_0x19b9e1(0x361)](_0x350519)[_0x19b9e1(0x5c8)](_0x991797[_0x19b9e1(0x3bc)])[_0x19b9e1(0x4cf)](_0x991797?.[_0x19b9e1(0x4cf)]??0x0)[_0x19b9e1(0x5fb)]({'when':0x1})[_0x19b9e1(0x5ca)]();}catch{return[];}}async[a0_0x57f064(0x5a2)](_0x14b8d1,_0x3fe0e3){const _0x4ebb8d=a0_0x57f064;try{return await this[_0x4ebb8d(0x361)](_0x3fe0e3)[_0x4ebb8d(0x5a2)](_0x14b8d1[_0x4ebb8d(0x3bc)])['sort']({'when':0x1})[_0x4ebb8d(0x5ca)]();}catch{return null;}}async[a0_0x57f064(0x64f)](_0x3275e4,_0x669e46){const _0x200dec=a0_0x57f064;try{return await this[_0x200dec(0x361)](_0x669e46)[_0x200dec(0x64f)](_0x3275e4)[_0x200dec(0x5ca)]();}catch{return null;}}async[a0_0x57f064(0x4e2)](_0x33998e,_0x1f4f38){const _0x8a2ebd=a0_0x57f064;try{return{'deletedCount':(await this[_0x8a2ebd(0x361)](_0x1f4f38)[_0x8a2ebd(0x4e2)](_0x33998e))[_0x8a2ebd(0x4dd)]};}catch(_0x2ad123){return console[_0x8a2ebd(0x3e1)](_0x8a2ebd(0x208),_0x2ad123),{'error':_0x2ad123};}}async[a0_0x57f064(0x72b)](_0x2fee3f){const _0x502229=a0_0x57f064;try{return await this[_0x502229(0x361)](_0x2fee3f)['collection']['drop'](),{'success':!0x0};}catch(_0x13016b){return console['error'](_0x13016b),{'success':!0x1,'error':_0x13016b};}}},ss=class extends D{async['update'](_0xb79ef,_0x50fd9c){const _0x35f38e=a0_0x57f064;try{if(this['dbSettings'][_0x35f38e(0x58d)]){let _0x227d88=await Fe[_0x35f38e(0x561)]({'_id':_0x50fd9c},{'$set':_0xb79ef},{'new':!0x0});return console[_0x35f38e(0x71f)](_0x35f38e(0x5d7),_0x227d88),_0x227d88;}}catch(_0x5ea258){throw console['error'](_0x35f38e(0x711),_0x5ea258),_0x5ea258;}}async[a0_0x57f064(0x3ac)](_0x42d448){const _0x37623a=a0_0x57f064;try{let _0x5ca6c7=await Fe[_0x37623a(0x64f)](_0x42d448);return _0x5ca6c7||(_0x5ca6c7=new Fe({'_id':_0x42d448}),await _0x5ca6c7[_0x37623a(0x27d)]()),_0x5ca6c7;}catch(_0x40bee5){return console[_0x37623a(0x3e1)](_0x37623a(0x460),_0x40bee5),null;}}},Ti=new v(a0_0x57f064(0x1df)),Oi=new Je(b),Ai=new Ut(b),Ii=new tt(b),xi=new qt(Zs,b),Di=new Yt(oa,b),_i=new Xt(aa,b),Pi=new Zt(b),$i=new Jt(b),ki=new es(b),Li=new ts(b),ji=new ss(b),ue=new Ue(Oi,Ai,Ii,xi,Di,_i,Pi,ki,$i,Li,ji,T?.[a0_0x57f064(0x62b)]()),B=new Ft(cs,b,ue),Fi=new Wt(b,B,ue),Ui=new Ht(B),Cs=new Qt(Ui),x=new Kt(B),oe=new Bt(B,b,ue,cs,Fi),G=new Gt(B),_=new Vt(B),j=new zt(B);Ti[a0_0x57f064(0x3e5)](a0_0x57f064(0xa8));var _h=require(a0_0x57f064(0x3ae)),$s=require('fs'),Dr=O(require(a0_0x57f064(0x65f))),_r=O(require(a0_0x57f064(0x6cc))),Oe=class c{static #e;static set[a0_0x57f064(0x6b9)](_0x587d1d){this.#e=_0x587d1d;}static get[a0_0x57f064(0x65f)](){const _0x2a9023=a0_0x57f064;let {FULLCHAIN:_0xa5f09f,PRIVKEY:_0x7bf66}=b[_0x2a9023(0x136)](_0x2a9023(0x4db));return Dr[_0x2a9023(0x529)]({'cert':(0x0,$s[_0x2a9023(0x725)])(_0xa5f09f),'key':(0x0,$s[_0x2a9023(0x725)])(_0x7bf66)},c.#e);}static get[a0_0x57f064(0x6cc)](){const _0x479987=a0_0x57f064;return _r[_0x479987(0x529)](c.#e);}},pe=O(require('fs')),Fr=O(require(a0_0x57f064(0x329))),Ae=O(require(a0_0x57f064(0x280))),xe=O(require(a0_0x57f064(0x39c))),De=require(a0_0x57f064(0x647));function qi(){const _0x30baef=a0_0x57f064;B[_0x30baef(0x1e3)]();let _0xcfe623=xe[_0x30baef(0x25e)][_0x30baef(0x69e)](__dirname,_0x30baef(0x1d9));jr(_0xcfe623);}var jr=_0x6f619d=>{const _0xc8ee5f=a0_0x57f064;let _0x3d15cd=pe['default']['readdirSync'](_0x6f619d),_0x2c13a4=0xc*0x3c*0x3c*0x3e8,_0x42c3e3=0x2*0x3c*0x3c*0x3e8,_0x422dce=new Date()[_0xc8ee5f(0x4e8)]();_0x3d15cd[_0xc8ee5f(0x680)](_0xf4c27d=>{const _0x95b2b4=_0xc8ee5f;let _0x8dc60=xe['default'][_0x95b2b4(0x69e)](_0x6f619d,_0xf4c27d),_0x372f50=pe['default'][_0x95b2b4(0x535)](_0x8dc60)[_0x95b2b4(0x521)][_0x95b2b4(0x4e8)]();_0x422dce-_0x372f50>_0x2c13a4&&(pe[_0x95b2b4(0x25e)][_0x95b2b4(0x498)](_0x8dc60),console[_0x95b2b4(0x71f)](_0x95b2b4(0x566)+_0xf4c27d));}),setTimeout(()=>jr(_0x6f619d),_0x42c3e3);};function Ji(){const _0x359c7b=a0_0x57f064;let _0x21f061=new v(_0x359c7b(0x145)),_0x15648e=(0x0,he[_0x359c7b(0x25e)])();_0x15648e[_0x359c7b(0xdf)]((0x0,Lr[_0x359c7b(0x25e)])({'origin'(_0x2f0372,_0x52c760){const _0x3f5c92=_0x359c7b;let {ORIGIN:_0x49a297}=b[_0x3f5c92(0x136)]('CORS');return _0x2f0372||(_0x2f0372='*'),_0x49a297[_0x3f5c92(0x4d1)]('*')!==-0x1||_0x49a297[_0x3f5c92(0x4d1)](_0x2f0372)!==-0x1?_0x52c760(null,!0x0):_0x52c760(new Error(_0x3f5c92(0x5bc)));},'methods':[...b[_0x359c7b(0x136)]('CORS')['METHODS']],'credentials':b[_0x359c7b(0x136)](_0x359c7b(0x4a2))['CREDENTIALS']}),(0x0,he[_0x359c7b(0x5e7)])({'extended':!0x0,'limit':_0x359c7b(0x2e7)}),(0x0,he[_0x359c7b(0x125)])({'limit':_0x359c7b(0x2e7)})),_0x15648e['use']((_0x1c18c8,_0x431fc0,_0x5d90f4)=>{const _0x465a8e=_0x359c7b;_0x1c18c8[_0x465a8e(0x39c)][_0x465a8e(0x52b)]('/events')?_0x5d90f4():(0x0,kr[_0x465a8e(0x25e)])()(_0x1c18c8,_0x431fc0,_0x5d90f4);}),_0x15648e[_0x359c7b(0x3b2)](_0x359c7b(0x2ab),_0x359c7b(0x4bc)),_0x15648e[_0x359c7b(0x3b2)](_0x359c7b(0x61a),(0x0,Ls[_0x359c7b(0x69e)])(ie,'views')),_0x15648e[_0x359c7b(0xdf)](he[_0x359c7b(0x25e)][_0x359c7b(0x2cc)]((0x0,Ls['join'])(ie,_0x359c7b(0x3ff)))),_0x15648e[_0x359c7b(0xdf)]((_0x94815b,_0x38c6c3,_0x503e6f)=>{let _0xbbba54=_0x38c6c3['send'];_0x38c6c3['send']=function(_0x6b4641){const _0x1c6146=a0_0x2175;if(_0x94815b[_0x1c6146(0x2c8)]['convert']===_0x1c6146(0x30e)||_0x94815b[_0x1c6146(0x320)][_0x1c6146(0x25d)]==='true'){let _0x11cd79=JSON[_0x1c6146(0xb8)](_0x6b4641);_0x6b4641=JSON['stringify'](_0x2e3418(_0x11cd79));}return _0xbbba54['apply'](_0x38c6c3,[_0x6b4641]);},_0x503e6f();}),_0x15648e[_0x359c7b(0xdf)]('/',At),_0x15648e['use']((_0x4a2765,_0x45723e,_0x49a336,_0x47c775)=>{const _0x733df5=_0x359c7b;if(_0x4a2765)return _0x49a336[_0x733df5(0x5c7)](_0x4a2765[_0x733df5(0x5c7)]||0x1f4)[_0x733df5(0x125)](_0x4a2765);},(_0x41e9aa,_0x39fce3,_0x888e68)=>{const _0x161d0c=_0x359c7b;let {method:_0x9b6b60,url:_0x219d02}=_0x41e9aa;_0x39fce3['status'](0x194)['json']({'status':0x194,'message':_0x161d0c(0x328)+_0x9b6b60[_0x161d0c(0x68e)]()+'\x20'+_0x219d02,'error':_0x161d0c(0x4b6)}),_0x888e68();});let _0x2e3418=(_0xe0b606,_0x824129=_0x359c7b(0x2c2))=>{const _0x4123d3=_0x359c7b;let _0x53b6b2=(_0x3f032c,_0x111110=null,_0x69192e=!0x1)=>{const _0x1d8ae0=a0_0x2175;let _0x5a6797={};return Object[_0x1d8ae0(0x571)](_0x3f032c)[_0x1d8ae0(0x680)](_0x373e66=>{const _0x371e55=_0x1d8ae0;let _0x44c6c6=_0x3f032c[_0x373e66],_0x1c9495=''+_0x824129+_0x373e66;_0x111110&&!_0x69192e&&(_0x1c9495=_0x111110+'.'+_0x373e66),!_0x44c6c6&&_0x44c6c6!==0x0&&_0x44c6c6!==!0x1||typeof _0x44c6c6>'u'?_0x5a6797[_0x1c9495]=null:typeof _0x44c6c6!=_0x371e55(0x6c8)&&!Array[_0x371e55(0x184)](_0x44c6c6)?_0x5a6797[_0x1c9495]=_0x44c6c6:typeof _0x44c6c6==_0x371e55(0x6c8)&&!Array['isArray'](_0x44c6c6)?_0x5a6797=Object[_0x371e55(0x4fe)](_0x5a6797,_0x53b6b2(_0x44c6c6,_0x1c9495)):Array[_0x371e55(0x184)](_0x44c6c6)&&(typeof _0x44c6c6[0x0]==_0x371e55(0x6c8)?(_0x5a6797[_0x1c9495]=[],_0x44c6c6[_0x371e55(0x680)](_0x150b31=>{const _0x190ccb=_0x371e55;_0x5a6797[_0x1c9495][_0x190ccb(0x1e9)](_0x53b6b2(_0x150b31,_0x1c9495,!0x0));})):_0x5a6797[_0x1c9495]=_0x44c6c6);}),_0x5a6797;};return Array[_0x4123d3(0x184)](_0xe0b606)?_0xe0b606[_0x4123d3(0x3b7)](_0x11776d=>_0x53b6b2(_0x11776d)):typeof _0xe0b606==_0x4123d3(0x6c8)&&_0xe0b606!==null?_0x53b6b2(_0xe0b606):{};},_0x4893b1=b[_0x359c7b(0x136)](_0x359c7b(0x145));Oe[_0x359c7b(0x6b9)]=_0x15648e;let _0x39013f=Oe[_0x4893b1[_0x359c7b(0x298)]],_0x1dc05e=_0x359c7b(0x1de);_0x39013f['listen'](_0x4893b1['PORT'],()=>{const _0x4d8491=_0x359c7b;_0x21f061[_0x4d8491(0x71f)](_0x1dc05e),_0x21f061[_0x4d8491(0x71f)](_0x4893b1['TYPE'][_0x4d8491(0x68e)]()+_0x4d8491(0x510)+_0x4893b1[_0x4d8491(0x694)]);}),qi(),zs();}var Vi=a0_0x57f064(0x233),Bi=xe[a0_0x57f064(0x25e)][a0_0x57f064(0x69e)](__dirname,a0_0x57f064(0x516)),Ie=null;function Gi(){return new Promise((_0x35755e,_0x46d297)=>{const _0xdf94bc=a0_0x2175;pe[_0xdf94bc(0x25e)][_0xdf94bc(0x2dd)](Bi,'utf-8',(_0x554840,_0x5fa423)=>{const _0x5f5173=_0xdf94bc;if(_0x554840){Ie=_0x554840,_0x35755e();return;}Fr[_0x5f5173(0x25e)][_0x5f5173(0xb8)](_0x5fa423)[_0x5f5173(0x40d)]['url']===Vi?(Ie=null,_0x35755e()):(Ie=new Error(_0x5f5173(0x49d)),_0x35755e());});});}async function Wi(){const _0xaccd89=a0_0x57f064;try{await Gi(),await js();}catch(_0x50027f){console[_0xaccd89(0x3e1)](_0xaccd89(0x6f1)+_0x50027f),process['exit'](0x1);}}Wi();function a0_0x31ac(){const _0x4af938=['Error\x20updating\x20message\x20status:','processing_id','request\x20received\x20in\x20editFlowvariable','deleteDoneMessages','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','copy','activatedCount','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','editFlowVaredit','/instance/delete','Erro\x20inesperado\x20em\x20processvaredits:\x20','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','documentWithCaptionMessage','out','getMIMEType','onWhatsApp','\x1b[1m','create','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','chats.set','label_jid','etiquetas','child_process','chats.update','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','messageType','\x20minutos.\x20Será\x20às\x20','getChatModelForOwner','):\x20Erro\x20ao\x20buscar\x20conversas\x20','/wa-message','findById','3772YeSjaQ','getVariablesChat','/create','Group\x20not\x20found','findAll','):\x20customFieldVariables','uazapiDeleteMessage','):\x20Current\x20Time:\x20','lastCondition','request\x20body:\x20','message','buttonId','?timestamp=','joinGroupValidate','Business\x20profile\x20fetched','https','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','loadproxy','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','unhandledRejection','Database\x20is\x20not\x20enabled','Types',',\x20valor\x20a\x20encontrar:\x20\x22','toLocaleString','):\x20Mensagem\x20já\x20enviada\x20para\x20','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','request\x20received\x20in\x20editFlow','Flow\x20não\x20encontrado','audio/mpeg','width','remove.instance','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','@whiskeysockets/baileys','API\x20Key\x20inválida.','document','):\x20nextBlock.uazapi.name','pollCreationMessageV2','whatsappNumbers','qrcode.updated','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','instances','groupHandler','https://api.ipify.org?format=json','hSet','participant','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','send','notMatchRegex','forEach','item','stateConnection','pictureUrl',',\x20pairCode:\x20','):\x20Buscando\x20flow...','No\x20participants','GROUPS_UPDATE','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','.error','getBase64FromMediaMessage','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','Unable\x20to\x20leave\x20the\x20group','startFlow','toUpperCase','apikey','#56ccb4','MESSAGES_SET','editScheduleMessage','archived','PORT','findChats','Bloco\x20com\x20ID\x20','data','admin','messageHandle','updateParticipant','empty','Falta\x20informação\x20para\x20a\x20chamada\x20API','jsonschema','join','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','padEnd','model','\x1b[33m\x1b[1m','):\x20enviado\x20para\x20[','delaySecMin','Internal\x20Server\x20Error','MESSAGES_UPSERT','Data\x20inválida\x20fornecida','goToFlow','local_map','from','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos',']\x20(','expression','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','Error\x20fetching\x20group','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','SERVER_ACK','proto','groupAcceptInvite','stopIfLastReturnedError','isListOfNumbers','updateMissingTags','Cache-Control','Error\x20updating\x20profile\x20name','app','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','This\x20name\x20','CHATS_UPDATE','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','description','pt-BR','CORS_METHODS','delayMessage','lastDisconnect','Erro\x20ao\x20importar\x20chats:','Converting\x20image\x20to\x20WebP\x20to\x20sticker','Erro\x20ao\x20adicionar\x20label\x20','/wa-qrcode','labels.association','object','^\x5cd+([-]\x5cd+)*@g.us$','long','reorderReplyOptions','http','processgoToFlow','inner','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','pollCreationMessageV3','HOST','prototype','getRandomText','):\x20newFirstValue\x20após\x20replaceVariables:','CONNECTION','\x1b[40m','Close\x20connection','isInteger','storePath','recebido\x20de','splice','DOCKER_ENV','and','Processing\x20audio','toggleEphemeral','joinApprovalMode','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','FlowRouter','context','linkPreview','caption','updateStopChat','pre','parseInt','min','AutomateSystem','type','data:\x20','Erro\x20ao\x20atualizar\x20o\x20fluxo:','TEL','.TEL;waid=','Operador:\x20\x22','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','replyOptions','including\x20timestamp\x20in\x20url:\x20','apiResponse','express','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','$pull','uncaughtException','jsonwebtoken','Instance\x20logged\x20out','ip:\x20','integer','jwt','DELETED','Selecione','Fluxos\x20não\x20estão\x20ativados','Connection\x20closed\x20for\x20instance:\x20','Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome','/wa-groups','warn','DD/MM\x20HH:mm:ss','pollCreationMessageKey','varedit','updateLastSeenPrivacy','varedits','Valor\x20de\x20find\x20ou\x20replace\x20ausente','writeFile','GROUPS_UPSERT','.ogv','connectedClient','existsSync','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','Erro\x20ao\x20atualizar\x20AutomateSystem:','update','list','waMonitor','Image\x20created','Error\x20updating\x20setting','Error\x20updating\x20participants','260xgGtVg','808216Bmgbca','groupMemberAddMode','getHours','latitude','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','createConversationforgoToFlow','log','waitingMenu_id','):\x20Query\x20params:','#92ceac','enviado\x20para','Missing\x20global\x20api\x20key','readFileSync','jid','$set','mongodb','updateGParticipate','subdomain','deleteAll','cpf','noConnection','string','groups','ObjectId','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','\x20\x1b[0m','cwd','eventEmitter','):\x20Erro\x20ao\x20editar\x20agentes:\x20','flowStopMinutes','upsertedCount','loadEnv','groupToggleEphemeral','lastBlockId','env','\x20after\x20','connectToWhatsapp','contactsArrayMessage','SERVER_PORT','URL\x20limpa:\x20','sendPoll','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','application/octet-stream','sendText','_error','menuMessage','dbSettings','node-mime-types','.pptx','done','restrict','/instance/connectionState','now','TEXT','):\x20Enviando\x20mídia','sendMessage','\x20is\x20already\x20in\x20use.','synchronizeFlows','notEqual','findManyByIds','Module\x20-\x20ON','ms\x20(Attempt\x20','findGroup','remove','INFO','fetchChats','.docx','pollUpdateMessage','sendMedia','pop','getMessageModelForOwner','DATABASE_ENABLED','debug','env.KEY\x20!==\x20key','Last\x20message\x20not\x20found','EXPIRIN_IN','parse','text/event-stream','\x20-y','protocolMessage','Forbidden','sendWhatsAppAudio','imported','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Mac\x20OS','editflowvaredit','verbose','drop','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','minutesToClose','https://ipinfo.io/json','updateProfilePicturePrivacy','split','stopMinutesMaxActives','loadWebhook','Fluxo\x20não\x20encontrado','findAndUpdateCacheContact','phoneNumber','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','message_normalized','code','profilePicture','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','whatsappNumber','logger','nomecompleto','\x1b[46m','request\x20received\x20in\x20scheduleMessage','pollErrorMessage','Contacts\x20not\x20found','sendStatus','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','g.us','has','deleteMessage','use','http://myexternalip.com/raw','processUazapi','Nenhum\x20chat\x20encontrado\x20para\x20editar.','StatusJidList\x20is\x20required','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','isJWT','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','@g.us','connectionStatus','generate','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','):\x20updateResult:','client','):\x20Conversa\x20está\x20expirada','delay','customFields','error_log','getScheduleMessage','open',':\x20Tentativa\x20','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','post',',\x20Minutes\x20to\x20Close:\x20','CONNECTION_UPDATE','delayChatLabel','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','createClient','RemoveChatLabel','requestPairingCode','Primeiro\x20Valor:\x20','announcement','announce','silent','sendList','Schema','setUpdate','class-validator','webp','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','updateAgent','HeaderType','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','utf-8','Erro\x20ao\x20deletar\x20chat:','_FlowHistorico','Número\x20não\x20possui\x20WhatsApp.','command','last_update','MessageModel','Connection','boolean','setting','getBusinessProfile','Variáveis\x20não\x20encontradas:','participants','Image\x20converted\x20to\x20WebP','ContactsAndGroups','editFlowGroup','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','redisEnv','):\x20Entrou\x20na\x20função\x20goToFlow','):\x20Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','Erro\x20ao\x20remover\x20label\x20','sign','):\x20leadInfoVariables','chatLog','lastMessage','#ff9484','updateChatWithMessage','json','replacer','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','https://jsonip.com','owner','SINGLE_SELECT','):\x20Enviando\x20enquete','connection.update','HH:mm:ss','\x1b[32m%s\x1b[0m','audio/ogg','presence.update','chatId','Db\x20Connection','documentMessage','cacheContact','ListMessage','get','readreceipts','toBRL','.gif','labelId','):\x20Erro\x20durante\x20a\x20atualização:\x20','notContains','#f64847','pollMessage','Cached\x20audio\x20found,\x20returning\x20existing\x20file','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','replaceValue','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','match_last_seen','memberAddMode','SERVER','router','):\x20Editando\x20replyOption...','*Pergunta*:\x20\x0a','API_KEY','imagechat','createAndSave','):\x20Deletando\x20mensagem','arrayUnique','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','upperCase','\x20tentativas:\x20remotejid=','waitingMenu_replyOptions','insertMany','subject','.doc','7670TPalwY','Error\x20update\x20group\x20picture','no-cache','\x22\x20-\x20NOT\x20CONNECTION','\x22,\x20valor\x20a\x20substituir:\x20\x22','Button\x20IDs\x20cannot\x20be\x20repeated.','-instances','content-type','trimmed','/webhook','groupUpdateSubject','\x20not\x20found,\x20retrying\x20in\x20','@newsletter','setContext','MESSAGES_UPDATE','longitude','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','STORE_CHATS','contextInfo','All_Instances_Config','closeExistingConversations','value','folder','write','port','last','sections','Imagem\x20não\x20encontrada','#6f7bcf','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','reject','!stop','\x1b[33m%s\x1b[0m','request\x20received\x20in\x20getFlow','Subscribed\x20Events:','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','response','.ogg','.xlsx','deleteFlow','connectionState','Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','findGroups2','SendScheduleMessage','contactHandle','isArray','Erro\x20ao\x20editar\x20agentes:\x20','instanceInfo','contains','removeOlderDisconnectedInstances','imageMessage','getMessage','statusMessage','Erro\x20ao\x20aplicar\x20varedit:\x20','\x20-\x20retornado:\x20','MAX_RECONNECT_ATTEMPTS','shareOwners','CLEANING_INTERVAL','groupSetting','):\x20Alterando\x20fluxo...','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','rm\x20-rf\x20','exit','):\x20lastBlockId:\x20','updateMissingCustomFields','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','auth','collections','dropCollection','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','sticker','\x20inseridas\x20no\x20banco\x20de\x20dados...','/chat','uazapiSendMedia','not\x20loaded','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','PROXY','ex:\x20\x22groupJid=120362@g.us\x22','createSectionsFromValues','<subdomain>','stdout','.jwt','audio','processvaredits','fetchProfilePictureUrl','viewOnceMessage','updateMissingEtiquetas','formatVCard','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','WebhookGlobal','):\x20Editando\x20grupo\x20do\x20fluxo...','delayChatLabel_MAX_RETRIES','https://chat.whatsapp.com/','editFlow','sleep','):\x20Limpando\x20AutomateSystem','updateOneById','\x20quoted:\x20','messages.update','exports','dataValidate','flowname:\x20','testProxy','Image\x20path:\x20','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','reviver','DATABASE_CONNECTION_USER','CONECTADO\x20À\x20UAZAPI','readMessageBot','@broadcast','getConversationModelForOwner','Instance\x20Key\x20from\x20DB:','host','params','buttonText','createFlow','hGetAll','messages.upsert','rows','The\x20global\x20api\x20key\x20must\x20be\x20set','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','mediatype','):\x20Entrou\x20na\x20função\x20stop','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','toLowerCase','substring','):\x20Conversa\x20atualizada\x20em\x20memória','detail','Error\x20change\x20group\x20name','downloads','js-yaml','getFlow','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','fetchBusinessProfile','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','WA\x20MODULE','groupRevokeInvite','writeData','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','loadInstance','chatModify','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','pino','digest','):\x20Procurando\x20mensagens\x20para\x20envio','push','scheduleSendMedia','instanceKeys','deleteConversation','env.yml','../env.yml','toString','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','processApiRequest','flattenObject','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','instanceName\x20not\x20provided.','console','sharePass','\x1b[31m','maxActives','isURL','.jpg','Erro\x20ao\x20buscar\x20conversas:\x20','bateu\x20events','close','profile','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','File\x20written\x20to\x20path:\x20','\x20attempts.','scheduleSendText','Instance\x20ID:','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','chat','sending','Erro\x20ao\x20deletar\x20mensagens:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','Error\x20updating\x20privacy\x20settings','saveCreds','flowPrefixCommand','getConversation','changeVariables','http://ip-api.com/json','removeData','getDevice','FlowController','replaceVariables','url','updateCustomFields','Hash\x20to\x20image\x20name:\x20','group','editedMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','updateOne','ScheduleMessageModel','atendimentoAberto','charAt','function','Erro\x20ao\x20iniciar\x20fluxo:\x20','.\x20Pulando.','):\x20Query\x20params:\x20','):\x20Comando\x20desconhecido:\x20','originalUrl','fetchMessages','):\x20[messages.upsert]\x20group\x20ignored','webhookService','footerText','configService','exists','request\x20received\x20in\x20getAutomateSystem','height','OrAnd','variable','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','CONTACTS_UPDATE','envProcess','evaluateConditionTest','request\x20received\x20in\x20fetchConversation','https://github.com/uazapi/uazapi.git','groupSettingUpdate','bodyString','instancias:\x20','delAll','password','groupGetInviteInfo','leadInfo.desativadoFluxoAte','\x1b[42m','audioWhatsapp','buttons','isConnected','groups.upsert','lastSend','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','email','chats.upsert','mkdirSync','getflow','Certbot\x20executado\x20com\x20sucesso.','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','readData','Atualização:\x20','firstValue','stringify','replyOption','editflowblock','Erro\x20ao\x20copiar\x20dados:','setWebhook','/wa-message-update','editflowcondition','entries','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','flowName','headerString','findParticipants','connectToWhatsappController','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','isJidUser','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','connect','address','uazapi','default','\x20com\x20sucesso.','getProfileName','normalizeMessage','RECONNECT_TIME_FRAME','displayName','\x1b[30m','prepareMediaMessage','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','replaceVariablesInObject','\x1b[36m%s\x1b[0m','blocks','NextBlock','Image\x20is\x20base64','readMessage','deleteReplyOption','createflow','array','VERBOSE','):\x20Bloco\x20com\x20ID\x20','stickerMessage','metadata','updateBlock','USER','):\x20Iniciando\x20bot...','\x20minutos','Error\x20updating\x20cache\x20contact:',',\x20Expiration\x20Time:\x20','fetchLabels','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','save','expiration','STORE_CLEANING_TERMINAL','axios','prefixCommand','/config','\x20-i\x20','cacheContactModel','cachedContacts-whatsapp','):\x20Falha\x20ao\x20deletar\x20mensagem.','request\x20received\x20in\x20allFlows','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','BufferJSON','saveChatVariables','groupJoinApprovalMode','pushName','toFile','\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.','sendReaction','contacts','Erro\x20ao\x20encerrar\x20a\x20API','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','cleanStore','reaction','\x1b[30m%s\x1b[0m','Erro\x20ao\x20editar\x20a\x20conversa:\x20','TYPE','request_method','contactMessage','SECRET','resetReconnectionVariables','deleteMessageForEveryone','leadInfo.etiquetas','apiName','Message','contentText','creds','deleteChat','/media/','gifPlayback','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','username','#ffffff','waUploadToServer','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','view\x20engine','keep-alive','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','allFlows','\x20minutos...','output','DARK','labels.edit','\x20não\x20encontrado\x20para\x20cópia','newValue','):\x20conversation.waitingMenu_name','body','):\x20Ler\x20mensagem','REDIS_ENABLED','):\x20Bloco\x20original\x20para\x20cópia:\x20','no.connection','qrcode-terminal','Sending\x20audio\x20whatsapp','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','creds.json','API\x20Key\x20from\x20Request:','):\x20Bloco\x20copiado:\x20','lastmsg','_p_','.X-ABLabel:Celular\x0a','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','ids','groupValidate','messagesSend','query','Mensagem\x20não\x20suportada','optionDescription','subjectOwner','static','ScheduleMessage','qrcode','release','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','Content\x20is\x20required','verifiedName','hex','padStart','):\x20Entrou\x20na\x20função\x20saveReply','processConditions',',\x20saindo.','emit','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','):\x20Going\x20to\x20','createRegularFlow','reconnectAttempts','readFile','conversation','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','delayChatLabel_RETRY_DELAY_MS','__esModule','ERROR','findIndex','sendSticker','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','50mb','variables','Content-Type','https://api.openai.com/v1/audio/speech','cachedContact','flushHeaders','removeProfilePicture','importChatsBatch','restart','status@broadcast','shift','/wa-chats','findGroupInfos','STORE_CONTACTS','sectionsToString','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','instanceCount','isJidGroup','max','temp-','Parando\x20aplicação,\x20atualização\x20recebida','msgRetryCounterCache','messageId','ContactModel','Esse\x20fluxo\x20expirou','buffer','color','/wa-contacts','uazapiSendText','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','g-t','!cmd_','lastReceivedMessage','floor','PENDING','listResponseMessage','when','joinGroup','Erro:','true','dbServer','stoppedUntil','fetchStatus','\x0aitem','findMessages','ConversationModel','Converted\x20image\x20deleted','messageSecret','getTicketSystem','Safari','Erro\x20ao\x20atualizar\x20conversa:\x20','bulkWrite','Erro\x20de\x20atualização:\x20','/events/:instance','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','stopped','contact','headers','groupUpdateDescription','base64','Erro\x20de\x20reinicialização:\x20','addReplyOption','bearer','findFlow','https://api.elevenlabs.io/v1/text-to-speech/','Cannot\x20','ini','state','app-state-sync-key','connecting','):\x20Usando\x20extensão\x20padrão:\x20','updateAll','Last\x20message\x20not\x20found\x20for\x20number:','pollCreationMessage','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','):\x20Conversa\x20inserida\x20com\x20sucesso.','fromObject','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','):\x20Flow\x20não\x20encontrado','name','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','role','responsavelid','Failed\x20to\x20find\x20chat\x20','http://checkip.dyndns.org','senderKeyDistributionMessage','Error\x20change\x20group\x20description','\x20não\x20encontrado','https://','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','profilePictureUrl','dbConnection','agents','\x20saindo\x20da\x20função','some','lastSendMessage','delaySecMax','\x1b[37m%s\x1b[0m','leaveGroup','lastInteraction','currency','processblock','Authentication\x20error','copyDataToNewModel','#000000','subjectTime','DELIVERY_ACK','}}\x20->\x20valor\x20não\x20encontrado','pollMessageOnDelete','generateWAMessageFromContent','number','media','contacts.update','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','end','mediaMessage','\x1b[1m\x1b[37m','editFlowVariable','composing','audioMessage','eventemitter2','all','getScheduleMessageModelForOwner','#64c4ff',':\x20IP\x20funcionando!','findWebhook','ultimaTentativaRemoteJid','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','leadInfo.customFields',',\x20fará\x20nova\x20verificação\x20em\x20','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','notify','URI','Sistema\x20atualizado\x20com\x20sucesso!','automateSystem','replaceVariablesChat','LOG_COLOR','numbers','SSL_CONF_FULLCHAIN','STORE','success','config','toBrazilianNumberFormat','buttonMessage','variablesNotFound','Desconectado,\x20parando\x20execução.','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','):\x20não\x20encontrou','next_groupId','inviteCode','makeCacheableSignalKeyStore','-whatsapp-api','user','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','abs','Erro\x20ao\x20remover\x20instâncias\x20antigas:','loggedOut','removeChatLabel','count',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.',':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','contactname','capitalizedWords','setRestartTimeout','block','\x20segundos','JWT','backgroundColor','uazapiSendAudio','ignoreGroups','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','Erro\x20ao\x20editar\x20o\x20chat:\x20','):\x20Criando\x20fluxo\x20compartilhado...','request\x20received\x20in\x20deleteConversation','getDelay','cachedData-whatsapp','findGroups','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','):\x20Procurando\x20conversa','path','):\x20teve\x20mudanças\x20chat.archived:\x20','online','cors','sendDataWebhook','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','deleteInstance','connectionUpdate','#01d0e2','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','\x20horas\x20e\x20','groupName','scheduleSendAudio','updateProfileName','arraybuffer','findOrCreate','scheduleMessage','express-async-errors','format','Fetching\x20business\x20profile','redis','set','\x20inseridos\x20no\x20banco\x20de\x20dados...','leadInfo.','delete','insertCount','map','Message\x20not\x20found','\x20ao\x20chat\x20','AppStateSyncKeyData','getOwnPropertyNames','where','not_announcement','useMultiFileAuthState','groupId','stopWhenYouSendMsg','fromMe','findAndReplaceRegex','):\x20Não\x20achou\x20nenhum\x20flow','$dbName','hGet','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','secondValue','updateGroupPicture','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','://','redis://127.0.0.1:6379','deleteOne','values','request\x20received\x20in\x20updateCustomFields','Getting\x20image\x20from\x20url','recording','AUTHENTICATION_JWT_EXPIRIN_IN',',\x20Segundo\x20Valor:\x20','EMAIL:','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','REDIS','pairingCode','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','DATABASE_CONNECTION_URI','updateConversation','sendMenu','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','Router','groups_ignore','^\x5cd+','processPollUpdateMessage','error','ephemeralMessage','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','convertaudio','info','markMessageAsRead','fileLength','/wa-all-message','/wa-connection-update','interval\x20não\x20é\x20um\x20número','spawn','https://uazapi-plugin.bubbleapps.io/?url=','awaitingApproval','status.instance','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','readMessages','getContentType','request\x20received\x20in\x20editFlowgroup','CORS_CREDENTIALS','conversationTimestamp','extractMessageContent','The\x20instance\x20needs\x20to\x20be\x20disconnected','CONTACTS_UPSERT','groupBetterSetting','#9ab6c1','SERVER_TYPE','\x1b[43m','restartInstance','The\x20property\x20cannot\x20be\x20empty','The\x20\x22','public','label','updateGParticipant','repository','\x5cd+','timeout','READ','fetchPrivacySettings','Reinicialização\x20iniciada:\x20','dbInstance','remoteJid','Invalid\x20format','mongodb://','HttpsProxyAgent','remote\x20\x22origin\x22','REDIS_URI','Failed\x20to\x20update\x20contact\x20profile\x20picture',',\x20resultado:\x20','envYaml','editChat','authState','groupFetchAllParticipating','uuid','reorderBlocks','rowId','moreLogs','authModel','Font\x20is\x20required','\x22\x20-\x20REMOVED','deleteflow','updateStatusPrivacy','363717sYgZQL','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','\x20do\x20chat\x20','statusCode','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','checkAndUpdateChatStatus','exec','\x20foi\x20interrompido\x20pelo\x20usuário.','updatePrivacySettings','FlowModel','protocol','checkAndRestartProcess','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','writeFileSync','menuType','@ffmpeg-installer/ffmpeg','video-cover.png','updateMissingLabels','Error\x20in\x20scheduleNextCheck:\x20','match','video','listMessage','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','text','cleaningUp','END:VCARD','ReplyOption\x20com\x20ID\x20','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','addBlock','uazapiSendMenu','dark','updatePresence','none','notas','send.message','):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid=','onTime','pollOnReplyDelete','groups.update','Rótulo\x20inválido\x20ou\x20sem\x20ID.','Chat\x20','_id','\x1b[33m','SEND_MESSAGE','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','createNewConversation','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','certonly','ON\x20-\x20dbName:\x20','request\x20received\x20in\x20createFlow','encoding','modifiedCount','):\x20Enviando\x20áudio','locationMessage','processConditionsTest','):\x20','valid','setNewValue','http://ipecho.net/plain','CONTACTS_SET','):\x20teve\x20mudanças\x20chat.name:\x20','upsertChats','instanceName','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','.ppt','isBusiness','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','https://api.openai.com/v1/images/generations','unavailable','unreadCount','ChatRouter','editFlowCondition','stopMinutes','/instance','organization','\x1b[31m%s\x1b[0m','_activatedCount','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','presence','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','Unauthorized','flowConfig','cache','mentioned','updateGroupsAddPrivacy','):\x20Conversas\x20encontradas:','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','revokeInviteCode','):\x20Enviando\x20texto','fetchLatestBaileysVersion','copyBlock','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','WARN','preview','Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','\x22\x20cannot\x20be\x20empty','uazapiSendLocation','fullName','toDataURL','viewOnceMessageV2','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','Error\x20creating\x20group','process','tags','\x20contacts','getLabelModelForOwner','removeInstance','hDel','normalizeMessageContent','fetchInstances','createConversationforStartFlow','saveMediaToFile','\x20}\x0a','errorLog','_Flows','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','groupParticipantsUpdate','utf8','createInstance','_Chats','website','sendContact','unlinkSync','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','_Messages','/group','qrCode','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','\x0a{\x20instance:\x20','SSL_CONF_PRIVKEY','trim','EMAIL','CORS','):\x20Deletando\x20fluxo...','goNextblock','statusJidList','reference','groupDesc','apirequest','request\x20received\x20in\x20updateFlowConfig','):\x20Campos\x20a\x20serem\x20atualizados:','removed','editflowreply','fetchProfilePicture','scheduleMessages','header','available','contacts.upsert','random','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','141mKfQkn','sendPresenceUpdate','Not\x20Found','endsWith','CHATS_UPSERT','/:instanceName','Type\x20not\x20found','logout','hbs','fileName','addChatLabel','#d8e651','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','_Labels','Instância:\x20','GUARD','scheduleNextCheck','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22','mimetype','events','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','updateReplyOption','flowConversation','archive','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','2163846mICbLK','limit','setHeader','indexOf','SUCCESS','throwAndLogError','):\x20Criando\x20nova\x20conversa[createNewConversation]','request\x20received\x20in\x20deleteDoneMessages','updateProfilePicture','size','AUTHENTICATION_API_KEY','realVariables','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','SSL_CONF','Not\x20is\x20business\x20profile','deletedCount','userDevicesCache','notEmpty','oldToken','DATABASE_CONNECTION_PASSWORD','deleteMany','selectableCount','filter','order','option','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','getTime','unreadcount','conditions','choices','Output\x20path:\x20','eventHandler','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','messageTimestamp','Erro\x20do\x20Certbot:\x20','Instance\x20\x22','getLastMessage','selectedOptions','.mp3','leadInfo','):\x20expirationTime:\x20','URL','getContactModelForOwner','1492295WhuEuS','--agree-tos','PRIVKEY','formatStatusMessage','groupadd','assign','\x20de\x20conectar\x20com\x20IP\x20extra.','InstancesAlterarTodas','key','Temp\x20image\x20deleted','contact_blacklist','editOperator','verifyWhatsAppNumber','application/json','node-cache','content','convertToWebP','ephemeralExpiration','[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20','localWebhook','\x20minutos\x20verificará\x20novas\x20mensagens','dbClient','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','\x20-\x20ON:\x20','LOG','.xls','sendMessageWithTyping','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','isRunning','./.git/config','less','#d3a91f','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','Database\x20connection\x20closed.','findGroupInfo','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','vote','@s.whatsapp.net','\x1b[34m%s\x1b[0m','birthtime','URL:','reconnectTimestamps','unlocked','flow','blockId','webhookModel','round','createServer','updateProfileStatus','startsWith','initAuthCreds','):\x20atualização\x20chat:\x20','/*.json',':\x20IP\x20configurado:\x20','Notifying\x20clients\x20for\x20chat:\x20','method','/instance/create','updateMessage','groupMetadata','statSync','/automate','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','convertedOptions','nome','mentions','segundos','waitingMenu_text','_ScheduleMessages','promote','Certbot:\x20','DEBUG','Audio\x20processed','replaceVariablesInReplyOptions','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','groupRequestParticipantsList','remoteJidsRemaining','createGroup','authService','createConnection','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','badSession','quoted','createWebhook','certbot','fetchProfile','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','The\x20','):\x20Criou\x20conversa\x20no\x20startFlow:','fone','/instance/connect','http://ifconfig.me/ip','approve','\x20->\x20CONFIRMADO.','request\x20received\x20in\x20editConversation','webhook','Não\x20respondeu\x20com\x20a\x20enquete.','archiveChat','Telefone:\x20','closed','\x1b[32m','KEY','Falha\x20após\x20várias\x20tentativas.','\x22\x20not\x20found','findOneAndUpdate','Button\x20texts\x20cannot\x20be\x20repeated','STORE_MESSAGE','):\x20Editando\x20condição\x20do\x20fluxo...','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','Deleted\x20','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','unknown\x20operation\x20type\x20[','):\x20Ignoring\x20group\x20messages.','isBase64','matchRegex','SERVER_URL','verify','poll','getFlowModelForOwner','vcard','keys','title','\x1b[37m','toNumber','CacheContacts\x20database\x20connection\x20closed.','GROUP_PARTICIPANTS_UPDATE','findByIdAndUpdate','createSharedFlow','stanzaId','desativadoFluxoAte','QRCODE_UPDATED','add','FULLCHAIN','/exit','deleteBlock','\x20adicionado\x20ao\x20chat\x20','image','editflowvariable','instance.','chatHandle','Trying\x20to\x20get\x20business\x20profile','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','#00a1f2','waitingMenu_ExpiredMessage','formatBRNumber','.mp4','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','172260CtWkOG','ENABLED','fetchContacts','endSession','STATUS_INSTANCE','sendLocation','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','Tentando\x20reconectar...','/instance/fetchInstances','oldValue','Audio\x20converted\x20and\x20stored\x20in\x20cache','):\x20Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','DisconnectReason','newStoppedUntil','messageStubType','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','fileUrl','listType','http://icanhazip.com/','Instance\x20deleted','CHATS_DELETE','evaluateCondition','findOne','deleted','instance','blockLogs','DB_PREFIX_NAME','beforeExit','sha256','enabled','wuid','creation','BRL','validate','Conversa\x20deletada\x20com\x20sucesso.','downloadMediaMessage','Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','locked','getAutomateSystem','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','):\x20alterando\x20this.AutomateSystem','dayjs','CHATS_SET','repeat','messages','lastUpdate','augusto.fcs@gmail.com','videoMessage','Not\x20allowed\x20by\x20CORS','mediaKey','desc','privacySettings','put','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','\x1b[34m',',\x20lastCondition:\x20','condition','hasOwnProperty','groupJid','status','find','editFlowBlock','lean','webhookMap','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','slice','.wav','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',':\x20Erro\x20durante\x20loadproxy\x20-\x20','DATABASE','errors','getStatus','saveVariable','reactionMessage','\x20não\x20encontrado\x20para\x20atualização.','Resultado\x20da\x20atualização:','):\x20Buscando\x20todos\x20os\x20fluxos...','.webm','updateFlowConfig','action','createJid','variablesToObject','refused','\x20chats\x20de\x20',',\x20Resultado:\x20','mongoose','groupCreate','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','presenceSubscribe','connectionClosed','redirect','urlencoded','\x22reaction\x22\x20must\x20be\x20an\x20emoji','routerPath','defineAuthState','editFlowReply','editConversation','isLong','chats','options','waInstances','optionName','request\x20received\x20in\x20deleteFlow','createHash','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','updateMany','No\x20join\x20group\x20invite\x20code\x20or\x20url','replace','fetchConversation','stopConversation','\x1b[47m','sort','InstancesAsDisconnectedX','ListType','#9ba6ff','.svg','PREFIX_KEY','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','):\x20this.processing_id:\x20','Error\x20change\x20group\x20setting','nextBlock:','stderr','}}\x20->\x20\x22','equal','#ffc5c7','request\x20received\x20in\x20editFlowcondition','.webp','AUTHENTICATION','Type\x20is\x20required','@redis/client','Error\x20in\x20converting\x20audio','#83e421','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','length','\x20->\x20NÃO\x20CORRESPONDE.','includes','saveConversationToDatabase','DATABASE_CONNECTION_HOST','DATABASE_CONNECTION_DB_PREFIX_NAME','.pdf','ORG:','AddChatLabel','views','findByIdAndDelete','Erro\x20ao\x20buscar\x20conversa:\x20','start','):\x20Edit\x20schedule\x20message...','call','collection','insert','menuExpiredMessage','group-participants.update','test','messaging-history.set','request_time','saveTextReply','replaceOne','truncatedto','\x1b[0m','getClient','textMessage','isCommunity','replaceVariablesLogs','Erro\x20ao\x20atualizar\x20o\x20flow.','importChats'];a0_0x31ac=function(){return _0x4af938;};return a0_0x31ac();}async function Ur(){const _0x44029e=a0_0x57f064;let _0x2c20d9;try{_0x2c20d9=(await Ae[_0x44029e(0x25e)][_0x44029e(0x136)](_0x44029e(0x128)))['data']['ip'];}catch(_0x25f484){console[_0x44029e(0x3e1)](_0x25f484);try{_0x2c20d9=(await Ae[_0x44029e(0x25e)]['get'](_0x44029e(0x67a)))[_0x44029e(0x697)]['ip'];}catch(_0x478ad7){console[_0x44029e(0x3e1)](_0x478ad7);try{_0x2c20d9=(await Ae['default']['get'](_0x44029e(0x33b)))[_0x44029e(0x697)][_0x44029e(0x431)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x41fe8a){return console[_0x44029e(0x3e1)](_0x41fe8a),!0x1;}}}return _0x2c20d9;}var Pr=0x0;async function zi(){const _0x3ade5e=a0_0x57f064;let _0x3e5587=await new ne(b[_0x3ade5e(0x136)]('REDIS'))['instanceKeys']();return console[_0x3ade5e(0x71f)](_0x3ade5e(0x236),_0x3e5587['length']),_0x3e5587[_0x3ade5e(0x611)];}function Hi(_0x3a2431){const _0x12a932=a0_0x57f064;let _0x530403=_0x3a2431[_0x12a932(0x136)](_0x12a932(0x145))[_0x12a932(0x4f7)],_0x2767cb=_0x3a2431[_0x12a932(0x136)](_0x12a932(0x4db)),_0x818d9b;if(_0x530403){let _0x326e8c=_0x530403[_0x12a932(0x431)](/\/\/(.*?)\./);_0x326e8c&&_0x326e8c[0x1]&&(_0x818d9b=_0x326e8c[0x1]);}if(!_0x818d9b&&_0x2767cb&&_0x2767cb[_0x12a932(0x57d)]){let _0x4403c4=_0x2767cb[_0x12a932(0x57d)][_0x12a932(0xc8)]('/'),_0x3276cb=_0x4403c4[_0x4403c4[_0x12a932(0x611)]-0x2];if(_0x3276cb){let _0x4d986e=_0x3276cb[_0x12a932(0xc8)]('.');_0x4d986e[_0x12a932(0x611)]>0x2&&(_0x818d9b=_0x4d986e[0x0]);}}return _0x818d9b;}var Ds=Hi(b);async function Ki(){const _0x11e117=a0_0x57f064;let _0x27cbdc=b['get']('REDIS'),_0x485f1d=b[_0x11e117(0x136)]('AUTHENTICATION')[_0x11e117(0x149)][_0x11e117(0x55e)],_0x16351e=b[_0x11e117(0x136)](_0x11e117(0x4db)),_0x4df479=await Ur(),_0x1b4a85=b[_0x11e117(0x136)](_0x11e117(0x145))[_0x11e117(0x694)],_0x1525af=b[_0x11e117(0x136)]('SERVER')[_0x11e117(0x4f7)];try{let _0xd56628={'ip':_0x4df479||null,'redis_enable':_0x27cbdc?.[_0x11e117(0x58d)]||null,'apikey':_0x485f1d||null,'ssl':_0x16351e?.[_0x11e117(0x4fb)]||null,'lastupdate':qr||null,'port':_0x1b4a85||null,'gitInstallError':Ie?.[_0x11e117(0x65a)]||null,'url':_0x1525af||null};if(console[_0x11e117(0x71f)](_0x11e117(0x6fb),_0xd56628['ip']),_0x27cbdc&&_0x27cbdc['ENABLED']){let _0x10503c=await zi();_0xd56628[_0x11e117(0x2f7)]=_0x10503c||null;}for(let _0x4a3057 in _0xd56628)_0xd56628[_0x11e117(0x5c5)](_0x4a3057)&&_0x4a3057!=='ip'&&(_0xd56628[_0x4a3057]=JSON['stringify'](_0xd56628[_0x4a3057]));return(await Ae['default'][_0x11e117(0xf5)]('https://uazapi.bubbleapps.io/api/1.1/wf/verificar/',_0xd56628))['data'];}catch(_0x4f4d97){return console[_0x11e117(0x3e1)](_0x4f4d97),!0x1;}}var ks=!0x1,qr=0x230,Qi=0x3,$r=0x1b7740;async function js(){const _0x3f3a31=a0_0x57f064;if(!await Ur())return console['error'](_0x3f3a31(0x586)),'NO_IP';let _0x41c2d0=await Ki();if(_0x41c2d0){if(_0x41c2d0[_0x3f3a31(0x17b)]['licenca']===!0x0){let _0xae65e2=b['get'](_0x3f3a31(0x4db)),_0x55e4b0=b[_0x3f3a31(0x136)](_0x3f3a31(0x145))[_0x3f3a31(0x4f7)];_0xae65e2&&_0xae65e2?.[_0x3f3a31(0x4fb)]?.[_0x3f3a31(0x613)](_0x3f3a31(0x1a7))&&_0x41c2d0['response'][_0x3f3a31(0x72a)]&&!_0x55e4b0&&(await Zi(_0x41c2d0[_0x3f3a31(0x17b)][_0x3f3a31(0x72a)],Xi),await eo(_0x3f3a31(0x5ba),_0x41c2d0[_0x3f3a31(0x17b)]['subdomain']),console['log'](_0x3f3a31(0x379)),setTimeout(()=>so(),0x2710)),Ie===null&&_0x41c2d0['response'][_0x3f3a31(0x10f)]-qr>0x0&&await Yi(),ks||(ks=!0x0,Ji());let _0x474675=0x24*0x3c*0x3c,_0x2d31fd=_0x41c2d0[_0x3f3a31(0x17b)][_0x3f3a31(0x53b)]>_0x474675?_0x474675:_0x41c2d0['response']['segundos'],_0x3e8a58=Number(_0x2d31fd);if(isNaN(_0x3e8a58)){console['error'](_0x3f3a31(0x3ea));return;}let _0x23c5be=Math[_0x3f3a31(0x308)](_0x3e8a58/0xe10),_0x2935d9=Math[_0x3f3a31(0x308)](_0x3e8a58%0xe10/0x3c),_0x49ee5e=new Date(Date['now']()+_0x3e8a58*0x3e8);setTimeout(js,_0x3e8a58*0x3e8);let _0x790893=_0x3d751a=>_0x3d751a['toString']()[_0x3f3a31(0x2d4)](0x2,'0'),_0x21ce30='Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20'+_0x790893(_0x23c5be)+_0x3f3a31(0x3a7)+_0x790893(_0x2935d9)+_0x3f3a31(0x64b)+_0x790893(_0x49ee5e[_0x3f3a31(0x71b)]())+':'+_0x790893(_0x49ee5e['getMinutes']())+'.';console[_0x3f3a31(0x71f)](_0x21ce30);}else return console['log']('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),ks&&(console[_0x3f3a31(0x71f)]('A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.'),process[_0x3f3a31(0x195)]()),'LICENSE_INVALID';}else{if(Pr++,Pr<Qi)console['log'](_0x3f3a31(0x662)+$r/0xea60+_0x3f3a31(0x2af)),setTimeout(js,$r);else return console[_0x3f3a31(0x3e1)](_0x3f3a31(0x198)),'SERVER_OFFLINE';}}async function Yi(){const _0x24abe0=a0_0x57f064;console['log'](_0x24abe0(0x2fb));let _0x3195b4=(0x0,De[_0x24abe0(0x3eb)])(_0x24abe0(0x25a),{'shell':!0x0});_0x3195b4[_0x24abe0(0x1a8)]['on'](_0x24abe0(0x697),_0x3a72c9=>{const _0x2bab5f=_0x24abe0;console[_0x2bab5f(0x71f)](_0x2bab5f(0x249)+_0x3a72c9);}),_0x3195b4['stderr']['on'](_0x24abe0(0x697),_0xf012f4=>{const _0x23a74f=_0x24abe0;console[_0x23a74f(0x3e1)](_0x23a74f(0x31b)+_0xf012f4);}),_0x3195b4['on'](_0x24abe0(0x195),_0x4b3e65=>{const _0x5cd0b5=_0x24abe0;_0x4b3e65!==0x0?console[_0x5cd0b5(0x3e1)](_0x5cd0b5(0x293)+_0x4b3e65):console['log'](_0x5cd0b5(0x36c)),console['log']('Parando\x20aplicação...'),setTimeout(()=>process[_0x5cd0b5(0x195)](),0x2710);});}var Xi=xe[a0_0x57f064(0x25e)]['join'](__dirname,a0_0x57f064(0x1ed));async function Zi(_0x561f7e,_0x3af5d1){const _0xa23ea3=a0_0x57f064;let _0x22eac4=to();_0x561f7e=_0x561f7e['replace']('.uazapi.dev','');try{let _0x3705d6=pe['default']['readFileSync'](_0x3af5d1,_0xa23ea3(0x493));_0x3705d6=_0x3705d6[_0xa23ea3(0x5f7)](/<apikey>/,_0x22eac4),_0x3705d6=_0x3705d6[_0xa23ea3(0x5f7)](/<subdomain>/g,_0x561f7e),pe[_0xa23ea3(0x25e)][_0xa23ea3(0x42b)](_0x3af5d1,_0x3705d6,_0xa23ea3(0x493)),console[_0xa23ea3(0x71f)](_0xa23ea3(0x1e2));}catch(_0x82cc8){console['error']('Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:',_0x82cc8);}}function eo(_0x5c1550,_0x2d37f8){return new Promise((_0x1b9f0f,_0x4a0244)=>{const _0x456dae=a0_0x2175;let _0x5d27e5=(0x0,De[_0x456dae(0x3eb)])(_0x456dae(0x54d),[_0x456dae(0x44d),'--standalone','-m',_0x5c1550,_0x456dae(0x4fa),'-d',_0x2d37f8]);_0x5d27e5[_0x456dae(0x1a8)]['on']('data',_0x30b076=>{const _0x499241=_0x456dae;console['log'](_0x499241(0x53f)+_0x30b076[_0x499241(0x1ef)]());}),_0x5d27e5['stderr']['on'](_0x456dae(0x697),_0x51eeea=>{const _0x47e5ef=_0x456dae;console[_0x47e5ef(0x3e1)](_0x47e5ef(0x4f0)+_0x51eeea['toString']());}),_0x5d27e5['on'](_0x456dae(0x1fd),_0x517ea1=>{const _0x1b0fc1=_0x456dae;_0x517ea1!==0x0?(console[_0x1b0fc1(0x3e1)](_0x1b0fc1(0x166)+_0x517ea1),_0x4a0244(_0x1b0fc1(0x166)+_0x517ea1)):(console[_0x1b0fc1(0x71f)](_0x1b0fc1(0x246)),_0x1b9f0f());});});}function to(_0x2b81a1=0x32){const _0x8dd5fd=a0_0x57f064;let _0x3bca6b=_0x8dd5fd(0x399),_0x3d5350='';for(let _0x3237aa=0x0;_0x3237aa<_0x2b81a1;_0x3237aa++)_0x3d5350+=_0x3bca6b[_0x8dd5fd(0x21d)](Math[_0x8dd5fd(0x308)](Math[_0x8dd5fd(0x4b2)]()*_0x3bca6b['length']));return _0x3d5350;}function so(){(0x0,De['exec'])('shutdown\x20-r\x20now',(_0xead714,_0x20129c,_0x51a2fe)=>{const _0x17da55=a0_0x2175;if(_0xead714){console[_0x17da55(0x3e1)](_0x17da55(0xdb)+_0xead714);return;}if(_0x51a2fe){console['error'](_0x17da55(0x323)+_0x51a2fe);return;}console[_0x17da55(0x71f)](_0x17da55(0x407)+_0x20129c);});}0x0&&(module[a0_0x57f064(0x1bb)]={'subdomain':subdomain});