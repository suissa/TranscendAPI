const a0_0x5a0e1e=a0_0xc548;(function(_0x160471,_0x551279){const _0x14e6db=a0_0xc548,_0x35be31=_0x160471();while(!![]){try{const _0x23504a=parseInt(_0x14e6db(0x80a))/0x1+-parseInt(_0x14e6db(0x10e))/0x2*(-parseInt(_0x14e6db(0x4ca))/0x3)+parseInt(_0x14e6db(0x1ea))/0x4*(-parseInt(_0x14e6db(0x3c0))/0x5)+parseInt(_0x14e6db(0x845))/0x6*(parseInt(_0x14e6db(0x530))/0x7)+-parseInt(_0x14e6db(0x70f))/0x8+-parseInt(_0x14e6db(0x3c8))/0x9*(-parseInt(_0x14e6db(0x589))/0xa)+parseInt(_0x14e6db(0x6b0))/0xb;if(_0x23504a===_0x551279)break;else _0x35be31['push'](_0x35be31['shift']());}catch(_0x361ed5){_0x35be31['push'](_0x35be31['shift']());}}}(a0_0x2985,0xe00f5));var Wi=Object[a0_0x5a0e1e(0x838)],Ve=Object[a0_0x5a0e1e(0xdc)],zi=Object[a0_0x5a0e1e(0x6dd)],Hi=Object[a0_0x5a0e1e(0x1e6)],Ki=Object[a0_0x5a0e1e(0x166)],Qi=Object[a0_0x5a0e1e(0x313)]['hasOwnProperty'],Yi=(_0x574f04,_0x878e60)=>{for(var _0x16ac1f in _0x878e60)Ve(_0x574f04,_0x16ac1f,{'get':_0x878e60[_0x16ac1f],'enumerable':!0x0});},Bs=(_0x6247d0,_0x2014bb,_0x4e9a2d,_0x40fe17)=>{const _0x5ec911=a0_0x5a0e1e;if(_0x2014bb&&typeof _0x2014bb==_0x5ec911(0x698)||typeof _0x2014bb=='function'){for(let _0x42017c of Hi(_0x2014bb))!Qi[_0x5ec911(0x473)](_0x6247d0,_0x42017c)&&_0x42017c!==_0x4e9a2d&&Ve(_0x6247d0,_0x42017c,{'get':()=>_0x2014bb[_0x42017c],'enumerable':!(_0x40fe17=zi(_0x2014bb,_0x42017c))||_0x40fe17[_0x5ec911(0x210)]});}return _0x6247d0;},I=(_0x29c581,_0x13cf29,_0x5eaf5e)=>(_0x5eaf5e=_0x29c581!=null?Wi(Ki(_0x29c581)):{},Bs(_0x13cf29||!_0x29c581||!_0x29c581['__esModule']?Ve(_0x5eaf5e,a0_0x5a0e1e(0x77c),{'value':_0x29c581,'enumerable':!0x0}):_0x5eaf5e,_0x29c581)),Xi=_0x7b76cd=>Bs(Ve({},a0_0x5a0e1e(0x686),{'value':!0x0}),_0x7b76cd),gr={};Yi(gr,{'fullURL':()=>Gs,'subdomain':()=>he}),module[a0_0x5a0e1e(0x623)]=Xi(gr);var Ui=I(require(a0_0x5a0e1e(0x357))),zs=require('fs'),Hs=require('js-yaml'),Ks=require(a0_0x5a0e1e(0x5c8)),Ge=require(a0_0x5a0e1e(0x5c8)),ne=process[a0_0x5a0e1e(0x5fe)](),be=(0x0,Ge[a0_0x5a0e1e(0x33d)])(ne,'instances'),Ws=(0x0,Ge[a0_0x5a0e1e(0x33d)])(ne,'src'),fn=(0x0,Ge[a0_0x5a0e1e(0x33d)])(ne,a0_0x5a0e1e(0x7aa),a0_0x5a0e1e(0x2a0)),us=class{constructor(){const _0x103390=a0_0x5a0e1e;this[_0x103390(0x24b)]();}['get'](_0x25a627){const _0x46a57a=a0_0x5a0e1e;return this[_0x46a57a(0x2c7)][_0x25a627];}['loadEnv'](){const _0x40ce41=a0_0x5a0e1e;this[_0x40ce41(0x2c7)]=process[_0x40ce41(0x2c7)]?.['DOCKER_ENV']!==_0x40ce41(0x153)?this['envYaml']():this[_0x40ce41(0x2f8)](),process[_0x40ce41(0x2c7)]?.[_0x40ce41(0x303)]===_0x40ce41(0x153)&&(this[_0x40ce41(0x2c7)][_0x40ce41(0x4bd)][_0x40ce41(0x6a1)]='http',this['env'][_0x40ce41(0x4bd)][_0x40ce41(0x7ba)]=Number[_0x40ce41(0x720)](process['env']?.['SERVER_PORT']??'8080'));}[a0_0x5a0e1e(0x68c)](){const _0x6e9ce9=a0_0x5a0e1e;return(0x0,Hs['load'])((0x0,zs[_0x6e9ce9(0x651)])((0x0,Ks[_0x6e9ce9(0x33d)])(Ws,_0x6e9ce9(0x546)),{'encoding':'utf-8'}));}[a0_0x5a0e1e(0x2f8)](){const _0x2e3252=a0_0x5a0e1e;return{'SERVER':{'TYPE':process[_0x2e3252(0x2c7)][_0x2e3252(0x2f4)],'PORT':Number[_0x2e3252(0x720)](process[_0x2e3252(0x2c7)][_0x2e3252(0x19e)]),'URL':process['env'][_0x2e3252(0x78b)]},'CORS':{'ORIGIN':process[_0x2e3252(0x2c7)][_0x2e3252(0x4d6)]['split'](','),'METHODS':process[_0x2e3252(0x2c7)][_0x2e3252(0x54a)][_0x2e3252(0x83d)](','),'CREDENTIALS':process[_0x2e3252(0x2c7)]?.['CORS_CREDENTIALS']==='true'},'SSL_CONF':{'PRIVKEY':process[_0x2e3252(0x2c7)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0x2e3252(0x2c7)]?.[_0x2e3252(0x591)]},'STORE':{'CLEANING_INTERVAL':Number[_0x2e3252(0x573)](process[_0x2e3252(0x2c7)]?.[_0x2e3252(0x726)])?Number['parseInt'](process[_0x2e3252(0x2c7)]['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process['env']?.[_0x2e3252(0x853)]===_0x2e3252(0x153),'CONTACTS':process[_0x2e3252(0x2c7)]?.[_0x2e3252(0xeb)]==='true','CHATS':process['env']?.[_0x2e3252(0x6c1)]===_0x2e3252(0x153)},'DATABASE':{'CONNECTION':{'HOST':process[_0x2e3252(0x2c7)]?.[_0x2e3252(0x84c)],'PORT':Number[_0x2e3252(0x720)](process[_0x2e3252(0x2c7)]?.[_0x2e3252(0x84c)]),'USER':process[_0x2e3252(0x2c7)][_0x2e3252(0x381)],'PASSWORD':process['env'][_0x2e3252(0x5cb)],'URI':process['env'][_0x2e3252(0x597)],'DB_PREFIX_NAME':process[_0x2e3252(0x2c7)][_0x2e3252(0x2e9)]},'ENABLED':process[_0x2e3252(0x2c7)]?.[_0x2e3252(0x132)]===_0x2e3252(0x153)},'REDIS':{'ENABLED':process[_0x2e3252(0x2c7)]?.[_0x2e3252(0xe3)]===_0x2e3252(0x153),'URI':process[_0x2e3252(0x2c7)][_0x2e3252(0x7f1)]||_0x2e3252(0x620),'PREFIX_KEY':process[_0x2e3252(0x2c7)][_0x2e3252(0x6d2)]||_0x2e3252(0x259)},'LOG':{'LEVEL':process[_0x2e3252(0x2c7)]?.[_0x2e3252(0x10f)][_0x2e3252(0x83d)](','),'COLOR':process['env']?.['LOG_COLOR']===_0x2e3252(0x153)},'PROXY':process['env']?.[_0x2e3252(0x70d)]===_0x2e3252(0x153),'AUTHENTICATION':{'TYPE':process[_0x2e3252(0x2c7)][_0x2e3252(0x332)],'API_KEY':{'KEY':process['env'][_0x2e3252(0x2fc)]},'JWT':{'EXPIRIN_IN':Number[_0x2e3252(0x573)](process[_0x2e3252(0x2c7)]?.[_0x2e3252(0x5b4)])?Number[_0x2e3252(0x720)](process[_0x2e3252(0x2c7)][_0x2e3252(0x5b4)]):0xe10,'SECRET':process[_0x2e3252(0x2c7)]['AUTHENTICATION_JWT_SECRET']}}};}},S=new us(),ji=I(require('cors')),we=I(require(a0_0x5a0e1e(0x398))),Vs=require('path'),ds=I(require(a0_0x5a0e1e(0x1fb))),ps=(_0x629b0b=>(_0x629b0b['LOG']=a0_0x5a0e1e(0x3b9),_0x629b0b[a0_0x5a0e1e(0x1e0)]=a0_0x5a0e1e(0x156),_0x629b0b['WARN']=a0_0x5a0e1e(0x6bd),_0x629b0b['ERROR']='\x1b[31m',_0x629b0b['DEBUG']=a0_0x5a0e1e(0x495),_0x629b0b['VERBOSE']=a0_0x5a0e1e(0x7dd),_0x629b0b['DARK']=a0_0x5a0e1e(0x32f),_0x629b0b))(ps||{}),Qs=(_0x15fc5f=>(_0x15fc5f[a0_0x5a0e1e(0xe1)]=a0_0x5a0e1e(0x48f),_0x15fc5f['DARK']=a0_0x5a0e1e(0x7a1),_0x15fc5f['INFO']=a0_0x5a0e1e(0x801),_0x15fc5f['WARN']=a0_0x5a0e1e(0x556),_0x15fc5f[a0_0x5a0e1e(0x681)]=a0_0x5a0e1e(0x75a),_0x15fc5f[a0_0x5a0e1e(0x1d0)]=a0_0x5a0e1e(0x7b7),_0x15fc5f[a0_0x5a0e1e(0x4d4)]=a0_0x5a0e1e(0x723),_0x15fc5f))(Qs||{}),Ys=(_0x7f7e4f=>(_0x7f7e4f['LOG']='LOG',_0x7f7e4f[a0_0x5a0e1e(0x365)]=a0_0x5a0e1e(0x365),_0x7f7e4f[a0_0x5a0e1e(0x1e0)]='INFO',_0x7f7e4f[a0_0x5a0e1e(0x18c)]='DARK',_0x7f7e4f['ERROR']='ERROR',_0x7f7e4f['DEBUG']=a0_0x5a0e1e(0x1d0),_0x7f7e4f[a0_0x5a0e1e(0x4d4)]=a0_0x5a0e1e(0x4d4),_0x7f7e4f))(Ys||{}),Xs=(_0x199f85=>(_0x199f85['LOG']=a0_0x5a0e1e(0x37c),_0x199f85[a0_0x5a0e1e(0x1e0)]=a0_0x5a0e1e(0x767),_0x199f85['WARN']=a0_0x5a0e1e(0x675),_0x199f85[a0_0x5a0e1e(0x18c)]=a0_0x5a0e1e(0x786),_0x199f85[a0_0x5a0e1e(0x681)]=a0_0x5a0e1e(0x6a2),_0x199f85[a0_0x5a0e1e(0x1d0)]='\x1b[46m',_0x199f85[a0_0x5a0e1e(0x4d4)]=a0_0x5a0e1e(0x2a1),_0x199f85))(Xs||{}),$=class{constructor(_0x4d23a7=a0_0x5a0e1e(0x502)){const _0x326f10=a0_0x5a0e1e;this['context']=_0x4d23a7,this[_0x326f10(0x1e5)]=S;}[a0_0x5a0e1e(0x819)](_0x49a4c1){this['context']=_0x49a4c1;}['console'](_0x1836c7,_0x3e33e7){const _0xd6e7ad=a0_0x5a0e1e;let _0x746660=[];this[_0xd6e7ad(0x1e5)][_0xd6e7ad(0x168)](_0xd6e7ad(0xe1))['LEVEL'][_0xd6e7ad(0x3a6)](_0x52ee0c=>_0x746660[_0xd6e7ad(0x212)](Ys[_0x52ee0c]));let _0x439c60=typeof _0x1836c7;_0x746660[_0xd6e7ad(0x402)](_0x3e33e7)&&(S[_0xd6e7ad(0x168)](_0xd6e7ad(0xe1))[_0xd6e7ad(0x3ee)]?(console['log'](_0xd6e7ad(0x32e)+Qs[_0x3e33e7],_0xd6e7ad(0x2b5),(0x0,ds['default'])()[_0xd6e7ad(0x410)](_0xd6e7ad(0x271)),'\x1b[0m',ps[_0x3e33e7]+Xs[_0x3e33e7]+_0xd6e7ad(0x32e),_0x3e33e7+_0xd6e7ad(0x567),_0xd6e7ad(0x3d8),this[_0xd6e7ad(0x3ca)]+_0xd6e7ad(0x3d9),ps[_0x3e33e7],_0x439c60!==_0xd6e7ad(0x698)?_0x1836c7:'',_0xd6e7ad(0x3d9)),_0x439c60===_0xd6e7ad(0x698)&&console['log'](_0x1836c7,'\x0a')):console['log']((0x0,ds[_0xd6e7ad(0x77c)])()[_0xd6e7ad(0x410)](_0xd6e7ad(0x2b4)),_0x3e33e7+'\x20',''+this['context'],_0x1836c7));}[a0_0x5a0e1e(0x6ec)](_0x5e2742){const _0x18ed07=a0_0x5a0e1e;this[_0x18ed07(0x28f)](_0x5e2742,_0x18ed07(0xe1));}['info'](_0x356a31){const _0x3d5f46=a0_0x5a0e1e;this['console'](_0x356a31,_0x3d5f46(0x1e0));}['warn'](_0xc0826e){this['console'](_0xc0826e,'WARN');}[a0_0x5a0e1e(0x685)](_0x146750){const _0x148065=a0_0x5a0e1e;this[_0x148065(0x28f)](_0x146750,_0x148065(0x681));}[a0_0x5a0e1e(0x2eb)](_0x157091){const _0x20d504=a0_0x5a0e1e;this[_0x20d504(0x28f)](_0x157091,'VERBOSE');}[a0_0x5a0e1e(0x182)](_0x43bb49){const _0x5cd6cb=a0_0x5a0e1e;this['console'](_0x43bb49,_0x5cd6cb(0x1d0));}[a0_0x5a0e1e(0x379)](_0x148677){const _0x4dc932=a0_0x5a0e1e;this[_0x4dc932(0x28f)](_0x148677,_0x4dc932(0x18c));}};function Zs(){const _0x5530d1=a0_0x5a0e1e;process['on']('uncaughtException',(_0x25246c,_0x164781)=>{const _0x8d6846=a0_0xc548;new $(_0x8d6846(0x335))[_0x8d6846(0x685)]({'origin':_0x164781,'stderr':process[_0x8d6846(0x716)]['fd'],'error':_0x25246c});}),process['on'](_0x5530d1(0x7ab),(_0x5ce9b7,_0x1c7084)=>{const _0x17075f=_0x5530d1;new $(_0x17075f(0x7ab))[_0x17075f(0x685)]({'origin':_0x1c7084,'stderr':process[_0x17075f(0x716)]['fd'],'error':_0x5ce9b7});});}var ea=I(require(a0_0x5a0e1e(0x65f))),hs=new ea[(a0_0x5a0e1e(0x77c))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Se=require(a0_0x5a0e1e(0x175)),Ae=I(require(a0_0x5a0e1e(0x175))),Be=new $(a0_0x5a0e1e(0x6d3)),L=S['get'](a0_0x5a0e1e(0x3ad)),T=L[a0_0x5a0e1e(0x160)]?L[a0_0x5a0e1e(0x1b5)]['URI']?Ae[a0_0x5a0e1e(0x77c)][a0_0x5a0e1e(0x298)](L[a0_0x5a0e1e(0x1b5)][a0_0x5a0e1e(0x612)],{'dbName':L[a0_0x5a0e1e(0x1b5)][a0_0x5a0e1e(0x668)]+a0_0x5a0e1e(0x3c6)}):Ae['default'][a0_0x5a0e1e(0x298)](a0_0x5a0e1e(0x28d)+L[a0_0x5a0e1e(0x1b5)][a0_0x5a0e1e(0x1c1)]+':'+L[a0_0x5a0e1e(0x1b5)]['PORT']+a0_0x5a0e1e(0x353),{'user':L[a0_0x5a0e1e(0x1b5)][a0_0x5a0e1e(0x4e6)],'pass':L[a0_0x5a0e1e(0x1b5)][a0_0x5a0e1e(0x7b6)],'dbName':L[a0_0x5a0e1e(0x1b5)]['DB_PREFIX_NAME']+a0_0x5a0e1e(0x3c6)}):null;L[a0_0x5a0e1e(0x160)]&&Be[a0_0x5a0e1e(0x531)](a0_0x5a0e1e(0x69b)+T[a0_0x5a0e1e(0x187)]);var Y=L[a0_0x5a0e1e(0x160)]?L['CONNECTION'][a0_0x5a0e1e(0x612)]?Ae[a0_0x5a0e1e(0x77c)][a0_0x5a0e1e(0x298)](L[a0_0x5a0e1e(0x1b5)][a0_0x5a0e1e(0x612)],{'dbName':a0_0x5a0e1e(0x452)}):Ae[a0_0x5a0e1e(0x77c)][a0_0x5a0e1e(0x298)](a0_0x5a0e1e(0x28d)+L[a0_0x5a0e1e(0x1b5)][a0_0x5a0e1e(0x1c1)]+':'+L[a0_0x5a0e1e(0x1b5)]['PORT']+a0_0x5a0e1e(0x353),{'user':L[a0_0x5a0e1e(0x1b5)]['USER'],'pass':L[a0_0x5a0e1e(0x1b5)]['PASSWORD'],'dbName':'cachedContacts-whatsapp'}):null;Y&&Be[a0_0x5a0e1e(0x531)](a0_0x5a0e1e(0x69b)+Y[a0_0x5a0e1e(0x187)]),process['on']('beforeExit',()=>{const _0x5e6f5c=a0_0x5a0e1e;T&&T[_0x5e6f5c(0x407)](()=>{const _0x1cd26a=_0x5e6f5c;Be[_0x1cd26a(0x531)](_0x1cd26a(0x31d));}),Y&&Y['close'](()=>{const _0xfc5c03=_0x5e6f5c;Be[_0xfc5c03(0x531)](_0xfc5c03(0x79f));});});var Zi=new Se['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),eo=new Se[(a0_0x5a0e1e(0x283))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),to=new Se[(a0_0x5a0e1e(0x283))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),so=new Se[(a0_0x5a0e1e(0x283))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Zi],'default':[]}},{'_id':!0x1}),ao=new Se[(a0_0x5a0e1e(0x283))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':so,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':eo},'groupdata':{'type':to,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),ta=_0x275691=>{const _0x41d448=a0_0x5a0e1e;let _0x3321a1='z_'+_0x275691+_0x41d448(0x2e0);return T?.[_0x41d448(0xd1)](_0x41d448(0x468),ao,_0x3321a1);},sa=require(a0_0x5a0e1e(0x175)),io=new sa['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),aa=_0x3d0663=>{const _0x52b581=a0_0x5a0e1e;let _0x4e40b3='z_'+_0x3d0663+_0x52b581(0xf8);return T?.['model'](_0x52b581(0x40a),io,_0x4e40b3);},ia=require(a0_0x5a0e1e(0x175)),gs=class{},oo=new ia[(a0_0x5a0e1e(0x283))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),oa=Y?.[a0_0x5a0e1e(0xd1)](gs[a0_0x5a0e1e(0x7e8)],oo,'ContactsAndGroups'),ra=require(a0_0x5a0e1e(0x175)),ms=class{},ro=new ra[(a0_0x5a0e1e(0x283))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),We=Y?.['model'](ms[a0_0x5a0e1e(0x7e8)],ro,a0_0x5a0e1e(0xca)),ws=require(a0_0x5a0e1e(0x175)),fs=class{},no=new ws[(a0_0x5a0e1e(0x283))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),co=new ws[(a0_0x5a0e1e(0x283))]({'_id':{'type':String},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),na=Y?.[a0_0x5a0e1e(0xd1)](fs[a0_0x5a0e1e(0x7e8)],co,'messagesLogs'),ca=_0x5a78ee=>{const _0xcdef68=a0_0x5a0e1e;let _0x2e5d5d='z_'+_0x5a78ee+_0xcdef68(0x65d);return T?.[_0xcdef68(0xd1)](_0xcdef68(0x742),no,_0x2e5d5d);},la=require(a0_0x5a0e1e(0x175)),ys=class{},lo=new la['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ua=T?.[a0_0x5a0e1e(0xd1)](ys['name'],lo,a0_0x5a0e1e(0x18b)),da=require(a0_0x5a0e1e(0x175)),bs=class{},pa=new da[(a0_0x5a0e1e(0x283))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});pa[a0_0x5a0e1e(0x4ad)](a0_0x5a0e1e(0x1a5),function(_0x5cea6d){const _0x2a3096=a0_0x5a0e1e;delete this['flowActive'],delete this[_0x2a3096(0x761)],delete this[_0x2a3096(0x1b6)],delete this[_0x2a3096(0x2c2)],delete this[_0x2a3096(0x2f7)],_0x5cea6d();});var ha=T?.[a0_0x5a0e1e(0xd1)](bs['name'],pa,'webhook'),P=require(a0_0x5a0e1e(0x175)),Ss=require(a0_0x5a0e1e(0x5ae)),ze=class{},Ms=class{},ma=new P[(a0_0x5a0e1e(0x283))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Cs=new P[(a0_0x5a0e1e(0x283))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),uo=new P['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x5a0e1e(0x635)},'footerText':{'type':String},'buttonText':{'type':String,'default':'Selecione'},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':a0_0x5a0e1e(0x1c6)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),fa=new P[(a0_0x5a0e1e(0x283))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),po=new P[(a0_0x5a0e1e(0x283))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),ho=new P[(a0_0x5a0e1e(0x283))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Es=new P['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),go=new P[(a0_0x5a0e1e(0x283))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),wa=new P[(a0_0x5a0e1e(0x283))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':uo},'apirequest':po,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':go,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ya=new P[(a0_0x5a0e1e(0x283))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ba=new P['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[Es],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x41871b=a0_0x5a0e1e;return'!cmd_'+Math['random']()[_0x41871b(0x6b5)](0x24)[_0x41871b(0xd0)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':'false'},'startID':{'type':String,'default':()=>(0x0,Ss['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ss['v4'])()},'shareOwners':{'type':[String],'default':[]}});ba[a0_0x5a0e1e(0x4ad)](a0_0x5a0e1e(0x2c1),function(_0x2d4e8c){const _0xc866a9=a0_0x5a0e1e;let _0x54ed8e=this[_0xc866a9(0x1b3)]();if(_0x54ed8e&&typeof _0x54ed8e==_0xc866a9(0x698)&&'$set'in _0x54ed8e){let _0x420ec9=_0x54ed8e[_0xc866a9(0x714)];if(_0x420ec9){let _0x460a82=new Set(),_0x3cd313=new Set(_0x420ec9[_0xc866a9(0x7e3)]?.[_0xc866a9(0x35d)](_0x251383=>_0x251383['name'])),_0x41728f=JSON[_0xc866a9(0x265)](_0x420ec9),_0x4e99b6=/{{(?!_)([^}]*)}}/g,_0x3e209b;for(;(_0x3e209b=_0x4e99b6[_0xc866a9(0x5c2)](_0x41728f))!==null;)_0x3cd313['has'](_0x3e209b[0x1])||_0x460a82[_0xc866a9(0x513)](_0x3e209b[0x1]);_0x460a82[_0xc866a9(0x5f5)]>0x0?(console[_0xc866a9(0x16e)](_0xc866a9(0x812),Array[_0xc866a9(0x6d0)](_0x460a82)),_0x420ec9[_0xc866a9(0x6b7)]=Array[_0xc866a9(0x6d0)](_0x460a82)):_0x420ec9[_0xc866a9(0x6b7)]=[],this[_0xc866a9(0x617)]({'$set':_0x420ec9});}}_0x2d4e8c();});var Me=T?.['model'](Ms[a0_0x5a0e1e(0x7e8)],ba,a0_0x5a0e1e(0x64d)),mo=new P[(a0_0x5a0e1e(0x283))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[Es],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[ho]},{'_id':!0x1}),fo=new P[(a0_0x5a0e1e(0x283))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[Es],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'chatLog':mo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x5a0e1e(0x4f8)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x5a0e1e(0x105)},'waitingMenu_replyOptions':{'type':[Cs],'default':[]}}),Sa=_0x1b0d0f=>{const _0x19f719=a0_0x5a0e1e;let _0x4f0f8e='z_'+_0x1b0d0f+_0x19f719(0x1ce);return T?.[_0x19f719(0xd1)]('ConversationModel',fo,_0x4f0f8e);},wo=new P['Schema']({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ga=new P['Schema']({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),yo=new P[(a0_0x5a0e1e(0x283))]({'_id':{'type':String,'_id':!0x0},'messages':{'type':[ga],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x5a0e1e(0x540)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[wo],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':ga,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),Ma=_0x469245=>{const _0x164dab=a0_0x5a0e1e;let _0x1fa36d='z_'+_0x469245+'_ScheduleMessages';return T?.[_0x164dab(0xd1)](_0x164dab(0x30b),yo,_0x1fa36d);},vs=class{},bo=new P[(a0_0x5a0e1e(0x283))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),So=new P['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),Mo=new P[(a0_0x5a0e1e(0x283))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Co=new P[(a0_0x5a0e1e(0x283))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x5a0e1e(0x2d0)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),vo=new P['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Eo=new P[(a0_0x5a0e1e(0x283))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[vo]},'customFields':{'type':[Mo]},'flowConfig':{'type':Co,'default':{}},'flows':{'type':[So],'default':[]},'autoCompleteMessages':{'type':[bo],'default':[]}}),Te=T?.['model'](vs[a0_0x5a0e1e(0x7e8)],Eo,a0_0x5a0e1e(0x1ec)),Ca=require(a0_0x5a0e1e(0x175)),No=new Ca[(a0_0x5a0e1e(0x283))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),va=_0x4eeab9=>{const _0x25973c=a0_0x5a0e1e;let _0x1101ae='z_'+_0x4eeab9+_0x25973c(0x1a2);return T?.[_0x25973c(0xd1)](_0x25973c(0x355),No,_0x1101ae);},O=class{constructor(_0x148f6f){const _0x1fe418=a0_0x5a0e1e;this[_0x1fe418(0x840)]=_0x148f6f[_0x1fe418(0x168)]('DATABASE');}};function A(_0x4ef5a0){const _0x3dbfb1=a0_0x5a0e1e;let _0x469568={};for(let [_0x27e6b9,_0x521c5f]of Object['entries'](_0x4ef5a0))if(typeof _0x521c5f==_0x3dbfb1(0x698)&&!Array[_0x3dbfb1(0x1ed)](_0x521c5f)){for(let [_0x18d1a7,_0x3c9b44]of Object[_0x3dbfb1(0x822)](_0x521c5f))_0x469568[_0x27e6b9+'.'+_0x18d1a7]=_0x3c9b44;}else _0x469568[_0x27e6b9]=_0x521c5f;return _0x469568;}var He=class{constructor(_0x5a4e5e,_0x17419c,_0x294c3e,_0x1d96c7,_0x113e84,_0x166a82,_0x3c73c5,_0xec267a,_0x3ba7f4,_0x4a1987,_0x140f7f,_0x50c7ef,_0x6e2718,_0x8d1e7e){const _0x2bdef6=a0_0x5a0e1e;this[_0x2bdef6(0x3d6)]=_0x5a4e5e,this[_0x2bdef6(0x6d7)]=_0x17419c,this['contact']=_0x294c3e,this[_0x2bdef6(0x6ef)]=_0x1d96c7,this['messageLogs']=_0x113e84,this[_0x2bdef6(0x3f4)]=_0x166a82,this[_0x2bdef6(0x2a0)]=_0x3c73c5,this[_0x2bdef6(0x1f6)]=_0xec267a,this[_0x2bdef6(0x7c6)]=_0x3ba7f4,this[_0x2bdef6(0x707)]=_0x4a1987,this[_0x2bdef6(0x4f9)]=_0x140f7f,this[_0x2bdef6(0x4a4)]=_0x50c7ef,this[_0x2bdef6(0x825)]=_0x6e2718,this[_0x2bdef6(0xd4)]=_0x8d1e7e;}get['dbServer'](){const _0xad9819=a0_0x5a0e1e;return this[_0xad9819(0xd4)];}},Ke=class{},Qe=class extends O{[a0_0x5a0e1e(0x829)](_0x4aea95){return ca(_0x4aea95);}async[a0_0x5a0e1e(0x49e)](_0x3d933c,_0x16fbf2){const _0x4c6771=a0_0x5a0e1e;if(_0x3d933c[_0x4c6771(0x106)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x4c6771(0x829)](_0x16fbf2)[_0x4c6771(0x3be)]([..._0x3d933c]))['length']};}catch(_0x2c408f){return _0x2c408f;}}async['find'](_0x2a90d7,_0x503a64){const _0x3a8123=a0_0x5a0e1e;try{let _0x124b48=this[_0x3a8123(0x829)](_0x503a64),_0x2326c0=A(_0x2a90d7[_0x3a8123(0x71f)]);return await _0x124b48[_0x3a8123(0x174)](_0x2326c0)[_0x3a8123(0x4a0)]({'messageTimestamp':-0x1})['limit'](_0x2a90d7?.[_0x3a8123(0x2f6)]??0x0)['lean']();}catch{return[];}}async[a0_0x5a0e1e(0x5ab)](_0x1cde3e,_0x28b637){const _0x50d795=a0_0x5a0e1e;try{let _0xaf9213=this[_0x50d795(0x829)](_0x28b637),_0x4113fa=A(_0x1cde3e[_0x50d795(0x71f)]);await _0xaf9213[_0x50d795(0x68b)](_0x4113fa);}catch(_0x5c8b6a){console[_0x50d795(0x685)](_0x5c8b6a);}}async['update'](_0x43bcb7,_0x35211e,_0x34c629){const _0xde4f82=a0_0x5a0e1e;try{let _0x3bad94=this['getMessageModelForOwner'](_0x34c629),_0x117ecd=A(_0x43bcb7[_0xde4f82(0x71f)]);return await _0x3bad94[_0xde4f82(0x2c1)](_0x117ecd,{'$set':_0x35211e},{'new':!0x0});}catch(_0x145dc9){throw console['error'](_0x145dc9),_0x145dc9;}}async['insertMany'](_0x4639a8,_0x207829){const _0x5a4077=a0_0x5a0e1e;if(_0x4639a8[_0x5a4077(0x106)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x5a4077(0x829)](_0x207829)[_0x5a4077(0x3be)]([..._0x4639a8]))[_0x5a4077(0x106)]};}catch(_0x4e4e80){return console[_0x5a4077(0x6ec)]('ERROR:\x20',_0x4e4e80),_0x4e4e80;}}async[a0_0x5a0e1e(0x847)](_0xdce86e){const _0x52c19b=a0_0x5a0e1e;try{return await this[_0x52c19b(0x829)](_0xdce86e)[_0x52c19b(0x36a)]['drop'](),{'success':!0x0};}catch(_0x360457){return console[_0x52c19b(0x685)](_0x360457),{'success':!0x1,'error':_0x360457};}}},Ds=I(require('@ffmpeg-installer/ffmpeg')),w=I(require(a0_0x5a0e1e(0x58a))),Fe=require('fs'),j=I(require('path')),K=I(require(a0_0x5a0e1e(0x7e4))),Ti=require(a0_0x5a0e1e(0x5ae)),Ii=I(require(a0_0x5a0e1e(0x1ae))),_i=I(require(a0_0x5a0e1e(0x1e1))),Ea=['imageMessage',a0_0x5a0e1e(0x1bf),'audioMessage',a0_0x5a0e1e(0x454),a0_0x5a0e1e(0x645)],Na=[a0_0x5a0e1e(0x2be),a0_0x5a0e1e(0x608),'viewOnceMessage',a0_0x5a0e1e(0x82e)],ks=require('os'),Ft=I(require(a0_0x5a0e1e(0x377))),Ue=require(a0_0x5a0e1e(0x70e)),Oi=require('node-mime-types'),pe=I(require(a0_0x5a0e1e(0x175))),J=require(a0_0x5a0e1e(0x5cc)),ce=class{constructor(_0x1eb497,_0x24aee4,_0x50322e){const _0x2a02cc=a0_0x5a0e1e;this[_0x2a02cc(0x3eb)]=_0x1eb497,this['exists']=_0x24aee4,this['name']=_0x50322e;}},Ye=class{},Xe=class{},Ie=class{},Ze=class{},et=class{},Ce=class{},tt=class{},st=class{},at=class{},it=class{},xt=I(require('express')),$a=require('fs'),Ra=require(a0_0x5a0e1e(0x5c8));async function _e(_0x47814a){const _0x3d0119=a0_0x5a0e1e;let _0xd53c1e=G[_0x3d0119(0x422)][_0x47814a];if(L[_0x3d0119(0x160)]){let _0x1051ec=T[_0x3d0119(0x44b)]()['db'](L['CONNECTION'][_0x3d0119(0x668)]+'-instances')['collection'](_0x47814a);return _0xd53c1e||(await _0x1051ec[_0x3d0119(0x174)]({})[_0x3d0119(0x102)]())[_0x3d0119(0x106)]>0x0;}return _0xd53c1e||(0x0,$a[_0x3d0119(0x82d)])((0x0,Ra[_0x3d0119(0x33d)])(be,_0x47814a));}async function Aa(_0x555a12,_0x5c11ca,_0x2958d9){const _0x2ebff5=a0_0x5a0e1e;if(_0x555a12[_0x2ebff5(0xd6)]['includes']('/instance/create')||_0x555a12['originalUrl'][_0x2ebff5(0x402)](_0x2ebff5(0x1cf))||_0x555a12[_0x2ebff5(0xd6)][_0x2ebff5(0x402)](_0x2ebff5(0x11d))||_0x555a12[_0x2ebff5(0xd6)]['includes'](_0x2ebff5(0x244))||_0x555a12[_0x2ebff5(0xd6)][_0x2ebff5(0x402)](_0x2ebff5(0x23c))||_0x555a12['originalUrl']['includes'](_0x2ebff5(0x1b1))||_0x555a12[_0x2ebff5(0xd6)][_0x2ebff5(0x402)](_0x2ebff5(0x727)))return _0x2958d9();let _0x4cbfae=_0x555a12[_0x2ebff5(0x514)];if(!_0x4cbfae?.[_0x2ebff5(0x225)])throw new m(_0x2ebff5(0x6de));if(!await _e(_0x4cbfae[_0x2ebff5(0x225)]))throw new U(_0x2ebff5(0x25e)+_0x4cbfae[_0x2ebff5(0x225)]+_0x2ebff5(0x4f1));_0x2958d9();}async function Ta(_0x1bd962,_0x37a5ee,_0x4dc217){const _0x25108a=a0_0x5a0e1e;if(_0x1bd962[_0x25108a(0xd6)][_0x25108a(0x402)](_0x25108a(0x274))){let _0x58d066=_0x1bd962['body'];if(await _e(_0x58d066['instanceName']))throw new X('This\x20name\x20'+_0x58d066[_0x25108a(0x225)]+'\x20is\x20already\x20in\x20use.');G[_0x25108a(0x422)][_0x58d066[_0x25108a(0x225)]]&&delete G[_0x25108a(0x422)][_0x58d066['instanceName']];}_0x4dc217();}var Ia=require('class-validator'),_a=I(require(a0_0x5a0e1e(0x15f))),ot=a0_0x5a0e1e(0x259),Ro=new $(a0_0x5a0e1e(0x35c));async function Ao(_0xca1640,_0xc4b310,_0x4869cd){const _0x3891e4=a0_0x5a0e1e;let _0x1cdc4e=_0xca1640['get'](_0x3891e4(0x4ed));if(_0x1cdc4e&&S['get'](_0x3891e4(0x1aa))[_0x3891e4(0x798)][_0x3891e4(0x78f)]!==_0x1cdc4e)throw new se();if(S[_0x3891e4(0x168)](_0x3891e4(0x1aa))['API_KEY'][_0x3891e4(0x78f)]===_0x1cdc4e)return _0x4869cd();if((_0xca1640[_0x3891e4(0xd6)][_0x3891e4(0x402)](_0x3891e4(0x274))||_0xca1640[_0x3891e4(0xd6)][_0x3891e4(0x402)]('/instance/fetchInstances'))&&!_0x1cdc4e)throw new X(_0x3891e4(0x419),_0x3891e4(0x7ce));let _0x3e657a=S[_0x3891e4(0x168)](_0x3891e4(0x1aa))['JWT'];try{let [_0x59d532,_0xefbb6]=_0xca1640[_0x3891e4(0x168)](_0x3891e4(0x79c))[_0x3891e4(0x83d)]('\x20');if(_0x59d532[_0x3891e4(0x6b3)]()!==_0x3891e4(0x626))throw new se();if(!(0x0,Ia[_0x3891e4(0x5f7)])(_0xefbb6))throw new se();let _0x11ee46=_0xca1640['params'],_0x15642a=_a[_0x3891e4(0x77c)]['verify'](_0xefbb6,_0x3e657a[_0x3891e4(0x566)],{'ignoreExpiration':_0x3e657a[_0x3891e4(0x574)]===0x0});if(_0x11ee46['instanceName']!==_0x15642a[_0x3891e4(0x225)]||ot!==_0x15642a[_0x3891e4(0x1fc)])throw new se();return _0x4869cd();}catch(_0x332a0d){throw Ro['error'](_0x332a0d),new se();}}async function To(_0x3d3abd,_0x53d642,_0x580d39){const _0xe01913=a0_0x5a0e1e;let _0x3a3063=S[_0xe01913(0x168)]('AUTHENTICATION')['API_KEY'],_0x3fb51f=_0x3d3abd[_0xe01913(0x168)](_0xe01913(0x4ed));if(_0x3a3063[_0xe01913(0x78f)]===_0x3fb51f)return _0x580d39();if(_0x3d3abd['originalUrl'][_0xe01913(0x402)]('/instance/create')){let _0x91ec7a=xa,_0x474414=_0x3d3abd[_0xe01913(0x3cc)][_0xe01913(0x225)];if(_0x91ec7a&&_0x474414[_0xe01913(0x6b3)]()[_0xe01913(0x393)](_0x91ec7a['toLowerCase']()))return _0x580d39();if(!_0x3fb51f)throw new X('Missing\x20global\x20api\x20key',_0xe01913(0x7ce));}if(_0x3d3abd['originalUrl'][_0xe01913(0x402)](_0xe01913(0x1cf))&&!_0x3fb51f)throw new X('Missing\x20global\x20api\x20key',_0xe01913(0x7ce));if(_0x3d3abd[_0xe01913(0xd6)]['includes'](_0xe01913(0x11d))&&!_0x3fb51f)throw new X(_0xe01913(0x419),_0xe01913(0x7ce));if(_0x3d3abd[_0xe01913(0xd6)][_0xe01913(0x402)](_0xe01913(0x244))&&!_0x3fb51f)throw new X(_0xe01913(0x419),_0xe01913(0x7ce));try{let _0x54f36a=_0x3d3abd[_0xe01913(0x514)],_0x4077e8=await me[_0xe01913(0x2a0)][_0xe01913(0x174)](_0x54f36a[_0xe01913(0x225)]);if(_0x4077e8&&_0x4077e8[_0xe01913(0x4ed)]===_0x3fb51f)return _0x580d39();}catch{}throw new se();}var Oa={'jwt':Ao,'apikey':To},pi=require('express'),C=require(a0_0x5a0e1e(0x5ae)),v=(..._0x12c86e)=>{const _0x5297ab=a0_0x5a0e1e;let _0x41e89={};return _0x12c86e['forEach'](_0x56ad0c=>_0x41e89[_0x56ad0c]={'minLength':0x1,'description':_0x5297ab(0x207)+_0x56ad0c+_0x5297ab(0x84b)}),{'if':{'propertyNames':{'enum':[..._0x12c86e]}},'then':{'properties':_0x41e89}};},E={'$id':(0x0,C['v4'])(),'type':'object','properties':{'instanceName':{'type':a0_0x5a0e1e(0x539)}},...v(a0_0x5a0e1e(0x225))},Tc={'$id':(0x0,C['v4'])(),'type':a0_0x5a0e1e(0x698),'properties':{'oldToken':{'type':a0_0x5a0e1e(0x539)}},'required':[a0_0x5a0e1e(0x7af)],...v(a0_0x5a0e1e(0x7af))},Ic={'properties':{'key':{'type':a0_0x5a0e1e(0x698),'properties':{'id':{'type':a0_0x5a0e1e(0x539)},'remoteJid':{'type':a0_0x5a0e1e(0x539)},'fromMe':{'type':a0_0x5a0e1e(0x687),'enum':[!0x0,!0x1]}},'required':['id',a0_0x5a0e1e(0x41b),a0_0x5a0e1e(0x24c)],...v('id',a0_0x5a0e1e(0x41b))},'message':{'type':a0_0x5a0e1e(0x698)}}},ae={'properties':{'delay':{'type':a0_0x5a0e1e(0x1e8),'description':a0_0x5a0e1e(0x2e4)},'presence':{'type':a0_0x5a0e1e(0x539),'enum':[a0_0x5a0e1e(0x615),a0_0x5a0e1e(0x21b),'composing','recording',a0_0x5a0e1e(0x18d)]}}},Z={'type':a0_0x5a0e1e(0x539),'description':a0_0x5a0e1e(0x44c)},Pa={'$id':(0x0,C['v4'])(),'type':a0_0x5a0e1e(0x698),'properties':{'number':{...Z},'options':{...ae},'textMessage':{'type':a0_0x5a0e1e(0x698),'properties':{'text':{'type':'string'}},'required':[a0_0x5a0e1e(0x80e)],...v('text')}},'required':[a0_0x5a0e1e(0x77f),a0_0x5a0e1e(0x12c)]},Da={'type':a0_0x5a0e1e(0x539),'pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0x5a0e1e(0x44c)},_c={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Da},'options':{...ae},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x5a0e1e(0x539)}},'required':[a0_0x5a0e1e(0x80e)],...v(a0_0x5a0e1e(0x80e))}},'required':[a0_0x5a0e1e(0x77f),'number']},Oc={'$id':(0x0,C['v4'])(),'type':a0_0x5a0e1e(0x698),'properties':{'number':{...Da},'options':{...ae},'mediaMessage':{'type':a0_0x5a0e1e(0x698),'properties':{'mediatype':{'type':a0_0x5a0e1e(0x539),'enum':['image',a0_0x5a0e1e(0x842),a0_0x5a0e1e(0x6aa),a0_0x5a0e1e(0x557)]},'media':{'type':a0_0x5a0e1e(0x539)},'fileName':{'type':a0_0x5a0e1e(0x539)},'caption':{'type':a0_0x5a0e1e(0x539)}},'required':[a0_0x5a0e1e(0xc4),a0_0x5a0e1e(0x445)],...v('fileName','caption',a0_0x5a0e1e(0x445))}},'required':['mediaMessage',a0_0x5a0e1e(0x12c)]},ka={'$id':(0x0,C['v4'])(),'type':a0_0x5a0e1e(0x698),'properties':{'number':{...Z},'options':{...ae},'stickerMessage':{'type':a0_0x5a0e1e(0x698),'properties':{'image':{'type':a0_0x5a0e1e(0x539)}},'required':[a0_0x5a0e1e(0x39b)],...v(a0_0x5a0e1e(0x39b))}},'required':[a0_0x5a0e1e(0x645),'number']},La={'$id':(0x0,C['v4'])(),'type':a0_0x5a0e1e(0x698),'properties':{'statusMessage':{'type':a0_0x5a0e1e(0x698),'properties':{'type':{'type':a0_0x5a0e1e(0x539),'enum':[a0_0x5a0e1e(0x80e),a0_0x5a0e1e(0x39b),a0_0x5a0e1e(0x557),a0_0x5a0e1e(0x6aa)]},'content':{'type':'string'},'caption':{'type':a0_0x5a0e1e(0x539)},'backgroundColor':{'type':a0_0x5a0e1e(0x539)},'font':{'type':a0_0x5a0e1e(0x1e8),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x5a0e1e(0xda),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':'^\x5cd+','description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0x5a0e1e(0x687),'enum':[!0x0,!0x1]}},'required':['type','content'],...v(a0_0x5a0e1e(0x13f),a0_0x5a0e1e(0x437))}},'required':['statusMessage']},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x5a0e1e(0x698),'properties':{'number':{...Z},'options':{...ae},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x5a0e1e(0x539),'enum':['image',a0_0x5a0e1e(0x842),a0_0x5a0e1e(0x6aa),a0_0x5a0e1e(0x557)]},'media':{'type':a0_0x5a0e1e(0x539)},'fileName':{'type':a0_0x5a0e1e(0x539)},'caption':{'type':a0_0x5a0e1e(0x539)}},'required':[a0_0x5a0e1e(0xc4),a0_0x5a0e1e(0x445)],...v('fileName','caption',a0_0x5a0e1e(0x445))}},'required':[a0_0x5a0e1e(0x670),a0_0x5a0e1e(0x12c)]},Ua={'$id':(0x0,C['v4'])(),'type':a0_0x5a0e1e(0x698),'properties':{'number':{...Z},'options':{...ae},'audioMessage':{'type':'object','properties':{'audio':{'type':a0_0x5a0e1e(0x539)}},'required':[a0_0x5a0e1e(0x557)],...v('audio')}},'required':[a0_0x5a0e1e(0x5e4),'number']},ja={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'pollMessage':{'type':a0_0x5a0e1e(0x698),'properties':{'name':{'type':a0_0x5a0e1e(0x539)},'selectableCount':{'type':a0_0x5a0e1e(0x12c)},'values':{'type':a0_0x5a0e1e(0xda),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x5a0e1e(0x7e8),a0_0x5a0e1e(0x5a9),a0_0x5a0e1e(0x191)],...v(a0_0x5a0e1e(0x7e8),a0_0x5a0e1e(0x5a9),'values')}},'required':['number',a0_0x5a0e1e(0x7d5)]},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x5a0e1e(0x698),'properties':{'number':{...Z},'menuMessage':{'type':a0_0x5a0e1e(0x698),'properties':{'text':{'type':a0_0x5a0e1e(0x539)},'choices':{'type':a0_0x5a0e1e(0xda),'uniqueItems':!0x0}},'required':[a0_0x5a0e1e(0x80e),a0_0x5a0e1e(0x342)],...v(a0_0x5a0e1e(0x80e),a0_0x5a0e1e(0x342))}},'required':[a0_0x5a0e1e(0x12c),a0_0x5a0e1e(0x607)]},qa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'locationMessage':{'type':a0_0x5a0e1e(0x698),'properties':{'latitude':{'type':a0_0x5a0e1e(0x12c)},'longitude':{'type':a0_0x5a0e1e(0x12c)},'name':{'type':a0_0x5a0e1e(0x539)},'address':{'type':a0_0x5a0e1e(0x539)}},'required':[a0_0x5a0e1e(0x1a3),a0_0x5a0e1e(0xe8)],...v(a0_0x5a0e1e(0x7e8),'addresss')}},'required':[a0_0x5a0e1e(0x12c),a0_0x5a0e1e(0x467)]},Va={'$id':(0x0,C['v4'])(),'type':a0_0x5a0e1e(0x698),'properties':{'number':{...Z},'options':{...ae},'listMessage':{'type':a0_0x5a0e1e(0x698),'properties':{'title':{'type':a0_0x5a0e1e(0x539)},'description':{'type':'string'},'footerText':{'type':a0_0x5a0e1e(0x539)},'buttonText':{'type':a0_0x5a0e1e(0x539)},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x5a0e1e(0x539)},'rows':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5a0e1e(0x698),'properties':{'title':{'type':a0_0x5a0e1e(0x539)},'description':{'type':a0_0x5a0e1e(0x539)},'rowId':{'type':a0_0x5a0e1e(0x539)}},'required':[a0_0x5a0e1e(0x41e),a0_0x5a0e1e(0x59e)],...v(a0_0x5a0e1e(0x41e),'rowId')}}},'required':['title',a0_0x5a0e1e(0x541)],...v(a0_0x5a0e1e(0x41e))}}},'required':[a0_0x5a0e1e(0x41e),a0_0x5a0e1e(0xc9),a0_0x5a0e1e(0x40d),a0_0x5a0e1e(0x7b8)],...v('title',a0_0x5a0e1e(0xc9),a0_0x5a0e1e(0x40d),a0_0x5a0e1e(0x391))}},'required':[a0_0x5a0e1e(0x12c),a0_0x5a0e1e(0x535)]},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x5a0e1e(0x698),'properties':{'number':{...Z},'options':{...ae},'contactMessage':{'type':a0_0x5a0e1e(0xda),'items':{'type':a0_0x5a0e1e(0x698),'properties':{'fullName':{'type':a0_0x5a0e1e(0x539)},'phoneNumber':{'type':a0_0x5a0e1e(0x539),'minLength':0xa}},'required':[a0_0x5a0e1e(0x39a),a0_0x5a0e1e(0x776)],...v(a0_0x5a0e1e(0x39a))},'minItems':0x1,'uniqueItems':!0x0}},'required':['number',a0_0x5a0e1e(0x26e)]},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x5a0e1e(0x698),'properties':{'reactionMessage':{'type':a0_0x5a0e1e(0x698),'properties':{'key':{'type':a0_0x5a0e1e(0x698),'properties':{'id':{'type':a0_0x5a0e1e(0x539)},'remoteJid':{'type':a0_0x5a0e1e(0x539)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x5a0e1e(0x41b),'fromMe'],...v('id',a0_0x5a0e1e(0x41b))},'reaction':{'type':'string'}},'required':['key',a0_0x5a0e1e(0xb9)],...v(a0_0x5a0e1e(0xb9))}},'required':[a0_0x5a0e1e(0x270)]},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x5a0e1e(0x698),'properties':{'numbers':{'type':a0_0x5a0e1e(0xda),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5a0e1e(0x539),'pattern':a0_0x5a0e1e(0x81f),'description':a0_0x5a0e1e(0x511)}}}},za={'$id':(0x0,C['v4'])(),'type':a0_0x5a0e1e(0x698),'properties':{'readMessages':{'type':a0_0x5a0e1e(0xda),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x5a0e1e(0x539)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x5a0e1e(0x539)}},'required':['id',a0_0x5a0e1e(0x24c),a0_0x5a0e1e(0x41b)],...v('id','remoteJid')}}},'required':[a0_0x5a0e1e(0x2df)]},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x5a0e1e(0x698),'properties':{'privacySettings':{'type':a0_0x5a0e1e(0x698),'properties':{'readreceipts':{'type':a0_0x5a0e1e(0x539),'enum':[a0_0x5a0e1e(0x722),'none']},'profile':{'type':a0_0x5a0e1e(0x539),'enum':[a0_0x5a0e1e(0x722),a0_0x5a0e1e(0x605),a0_0x5a0e1e(0x491),a0_0x5a0e1e(0x6da)]},'status':{'type':a0_0x5a0e1e(0x539),'enum':[a0_0x5a0e1e(0x722),'contacts',a0_0x5a0e1e(0x491),a0_0x5a0e1e(0x6da)]},'online':{'type':a0_0x5a0e1e(0x539),'enum':[a0_0x5a0e1e(0x722),a0_0x5a0e1e(0x784)]},'last':{'type':a0_0x5a0e1e(0x539),'enum':[a0_0x5a0e1e(0x722),a0_0x5a0e1e(0x605),a0_0x5a0e1e(0x491),'none']},'groupadd':{'type':a0_0x5a0e1e(0x539),'enum':[a0_0x5a0e1e(0x722),a0_0x5a0e1e(0x605),a0_0x5a0e1e(0x491),'none']}},'required':[a0_0x5a0e1e(0x13c),'profile',a0_0x5a0e1e(0x1cc),a0_0x5a0e1e(0x37e),a0_0x5a0e1e(0x619),a0_0x5a0e1e(0x656)],...v(a0_0x5a0e1e(0x13c),'profile',a0_0x5a0e1e(0x1cc),a0_0x5a0e1e(0x37e),a0_0x5a0e1e(0x619),'groupadd')}},'required':[a0_0x5a0e1e(0x36b)]},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x5a0e1e(0x698),'properties':{'lastMessage':{'type':'object','properties':{'key':{'type':a0_0x5a0e1e(0x698),'properties':{'id':{'type':a0_0x5a0e1e(0x539)},'remoteJid':{'type':a0_0x5a0e1e(0x539)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0x5a0e1e(0x41b)],...v('id','remoteJid')},'messageTimestamp':{'type':a0_0x5a0e1e(0x1e8),'minLength':0x1}},'required':['key'],...v(a0_0x5a0e1e(0x6e5))},'archive':{'type':a0_0x5a0e1e(0x687),'enum':[!0x0,!0x1]}},'required':['lastMessage',a0_0x5a0e1e(0x5a2)]},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x5a0e1e(0x698),'properties':{'id':{'type':a0_0x5a0e1e(0x539)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':a0_0x5a0e1e(0x539)}},'required':['id',a0_0x5a0e1e(0x24c),a0_0x5a0e1e(0x41b)],...v('id',a0_0x5a0e1e(0x41b),a0_0x5a0e1e(0x3ae))},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x5a0e1e(0x698),'properties':{'where':{'type':a0_0x5a0e1e(0x698),'properties':{'_id':{'type':a0_0x5a0e1e(0x539),'minLength':0x1},'pushName':{'type':a0_0x5a0e1e(0x539),'minLength':0x1},'id':{'type':'string','minLength':0x1}},...v(a0_0x5a0e1e(0x772),'id',a0_0x5a0e1e(0x489))}}},Xa={'$id':(0x0,C['v4'])(),'type':a0_0x5a0e1e(0x698),'properties':{'name':{'type':'string'}},...v(a0_0x5a0e1e(0x7e8))},Za={'$id':(0x0,C['v4'])(),'type':a0_0x5a0e1e(0x698),'properties':{'status':{'type':a0_0x5a0e1e(0x539)}},...v('status')},Oe={'$id':(0x0,C['v4'])(),'type':a0_0x5a0e1e(0x698),'properties':{'number':{'type':a0_0x5a0e1e(0x539)},'picture':{'type':'string'}}},ei={'type':a0_0x5a0e1e(0x698),'properties':{'wuid':{'type':a0_0x5a0e1e(0x539)},'name':{'type':a0_0x5a0e1e(0x539)},'picture':{'type':a0_0x5a0e1e(0x539)},'status':{'type':a0_0x5a0e1e(0x539)},'isBusiness':{'type':a0_0x5a0e1e(0x687)}}},ti={'$id':(0x0,C['v4'])(),'type':a0_0x5a0e1e(0x698),'properties':{'where':{'type':a0_0x5a0e1e(0x698),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':a0_0x5a0e1e(0x698),'if':{'propertyNames':{'enum':['fromMe',a0_0x5a0e1e(0x41b),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x5a0e1e(0x539),'minLength':0x1,'description':a0_0x5a0e1e(0x796)},'id':{'type':a0_0x5a0e1e(0x539),'minLength':0x1,'description':a0_0x5a0e1e(0x796)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x5a0e1e(0x698)}},...v(a0_0x5a0e1e(0x772))},'limit':{'type':a0_0x5a0e1e(0x1e8)}}},xc={'$id':(0x0,C['v4'])(),'type':a0_0x5a0e1e(0x698),'properties':{'where':{'type':a0_0x5a0e1e(0x698),'properties':{'_id':{'type':a0_0x5a0e1e(0x539)},'remoteJid':{'type':a0_0x5a0e1e(0x539)},'id':{'type':a0_0x5a0e1e(0x539)},'fromMe':{'type':a0_0x5a0e1e(0x687),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x5a0e1e(0x539)},'status':{'type':a0_0x5a0e1e(0x539),'enum':[a0_0x5a0e1e(0x681),a0_0x5a0e1e(0x356),'SERVER_ACK',a0_0x5a0e1e(0x76c),'READ',a0_0x5a0e1e(0xf1)]}},...v('_id',a0_0x5a0e1e(0x41b),'id',a0_0x5a0e1e(0x1cc))},'limit':{'type':a0_0x5a0e1e(0x1e8)}}},si={'$id':(0x0,C['v4'])(),'type':a0_0x5a0e1e(0x698),'properties':{'number':{...Z},'presence':{'type':a0_0x5a0e1e(0x539),'enum':[a0_0x5a0e1e(0x615),a0_0x5a0e1e(0x21b),'composing',a0_0x5a0e1e(0x24a),a0_0x5a0e1e(0x18d)]}},'required':[a0_0x5a0e1e(0x5b1),a0_0x5a0e1e(0x12c)]},ai={'$id':(0x0,C['v4'])(),'type':a0_0x5a0e1e(0x698),'properties':{'subject':{'type':a0_0x5a0e1e(0x539)},'description':{'type':a0_0x5a0e1e(0x539)},'profilePicture':{'type':'string'},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5a0e1e(0x539),'minLength':0xa,'pattern':a0_0x5a0e1e(0x50e),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x5a0e1e(0x3f3),a0_0x5a0e1e(0x338)],...v(a0_0x5a0e1e(0x3f3),a0_0x5a0e1e(0xc9),a0_0x5a0e1e(0xf7))},xe={'$id':(0x0,C['v4'])(),'type':a0_0x5a0e1e(0x698),'properties':{'groupJid':{'type':a0_0x5a0e1e(0x539),'pattern':a0_0x5a0e1e(0x1df)}},'required':[a0_0x5a0e1e(0x316)],...v(a0_0x5a0e1e(0x316))},ii={'$id':(0x0,C['v4'])(),'type':a0_0x5a0e1e(0x698),'properties':{'groupJid':{'type':a0_0x5a0e1e(0x539)},'action':{'type':'string','enum':[a0_0x5a0e1e(0x513),a0_0x5a0e1e(0x184),'promote',a0_0x5a0e1e(0x397),'reject',a0_0x5a0e1e(0x7f6)]},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5a0e1e(0x539),'minLength':0xa,'pattern':a0_0x5a0e1e(0x50e),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x5a0e1e(0x316),a0_0x5a0e1e(0x33a),a0_0x5a0e1e(0x338)],...v(a0_0x5a0e1e(0x316),'action')},oi={'$id':(0x0,C['v4'])(),'type':a0_0x5a0e1e(0x698),'properties':{'groupJid':{'type':a0_0x5a0e1e(0x539)},'expiration':{'type':a0_0x5a0e1e(0x12c),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x5a0e1e(0x316),a0_0x5a0e1e(0x6c4)],...v(a0_0x5a0e1e(0x316),a0_0x5a0e1e(0x6c4))},ri={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x5a0e1e(0x539)},'image':{'type':a0_0x5a0e1e(0x539)}},'required':['groupJid',a0_0x5a0e1e(0x39b)],...v(a0_0x5a0e1e(0x316),a0_0x5a0e1e(0x39b))},ni={'$id':(0x0,C['v4'])(),'type':a0_0x5a0e1e(0x698),'properties':{'groupJid':{'type':a0_0x5a0e1e(0x539)},'description':{'type':a0_0x5a0e1e(0x539)}},'required':[a0_0x5a0e1e(0x316),a0_0x5a0e1e(0xc9)],...v('groupJid','description')},ci={'$id':(0x0,C['v4'])(),'type':a0_0x5a0e1e(0x698),'properties':{'groupJid':{'type':a0_0x5a0e1e(0x539)},'name':{'type':'string'}},'required':[a0_0x5a0e1e(0x316),a0_0x5a0e1e(0x7e8)],...v(a0_0x5a0e1e(0x316),'name')},li={'$id':(0x0,C['v4'])(),'type':a0_0x5a0e1e(0x698),'properties':{'groupJid':{'type':a0_0x5a0e1e(0x539)},'setting':{'type':a0_0x5a0e1e(0x539),'enum':[a0_0x5a0e1e(0x385),'not_announcement',a0_0x5a0e1e(0x758),a0_0x5a0e1e(0x3af)]}},'required':[a0_0x5a0e1e(0x316),a0_0x5a0e1e(0x38b)],...v(a0_0x5a0e1e(0x316),a0_0x5a0e1e(0x38b))},ui={'$id':(0x0,C['v4'])(),'type':a0_0x5a0e1e(0x698),'properties':{'groupJid':{'type':a0_0x5a0e1e(0x539)},'restrict':{'type':a0_0x5a0e1e(0x687)},'announce':{'type':'boolean'},'memberAddMode':{'type':a0_0x5a0e1e(0x687)},'joinApprovalMode':{'type':a0_0x5a0e1e(0x687)},'expiration':{'type':a0_0x5a0e1e(0x1e8),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x5a0e1e(0x539)},'description':{'type':a0_0x5a0e1e(0x539)},'image':{'type':a0_0x5a0e1e(0x539)}}},Ns={'$id':(0x0,C['v4'])(),'type':'object','properties':{'inviteCode':{'type':'string'}},'required':[a0_0x5a0e1e(0x107)],...v(a0_0x5a0e1e(0x107))},di={'$id':(0x0,C['v4'])(),'type':'object','properties':{'url':{'type':a0_0x5a0e1e(0x539)},'enabled':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x5a0e1e(0x516),'enabled']},Pc={'$id':(0x0,C['v4'])(),'type':a0_0x5a0e1e(0x698),'properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x5a0e1e(0x687),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x5a0e1e(0x687),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x5a0e1e(0x687),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x5a0e1e(0x687),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x5a0e1e(0x687),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x5a0e1e(0x687),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x5a0e1e(0x687),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x5a0e1e(0x687),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x5a0e1e(0x687),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x5a0e1e(0x687),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x5a0e1e(0x687),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x5a0e1e(0x687),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x5a0e1e(0x687),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x5a0e1e(0x687),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x5a0e1e(0x687),'enum':[!0x0,!0x1]}},'required':[a0_0x5a0e1e(0x6fa),'STATUS_INSTANCE',a0_0x5a0e1e(0x2a6),a0_0x5a0e1e(0x527),a0_0x5a0e1e(0x121),'MESSAGES_UPSERT',a0_0x5a0e1e(0x472),'CONTACTS_SET',a0_0x5a0e1e(0xf4),a0_0x5a0e1e(0x625),a0_0x5a0e1e(0x657),a0_0x5a0e1e(0x314),a0_0x5a0e1e(0x2bc),a0_0x5a0e1e(0x199),a0_0x5a0e1e(0x6ed),a0_0x5a0e1e(0x4c5),a0_0x5a0e1e(0x444),a0_0x5a0e1e(0x4f2),'GROUP_PARTICIPANTS_UPDATE'],...v(a0_0x5a0e1e(0x6fa),a0_0x5a0e1e(0x783),a0_0x5a0e1e(0x2a6),a0_0x5a0e1e(0x527),a0_0x5a0e1e(0x121),a0_0x5a0e1e(0x6a5),a0_0x5a0e1e(0x472),a0_0x5a0e1e(0x66c),a0_0x5a0e1e(0xf4),a0_0x5a0e1e(0x625),a0_0x5a0e1e(0x657),a0_0x5a0e1e(0x314),a0_0x5a0e1e(0x2bc),a0_0x5a0e1e(0x199),a0_0x5a0e1e(0x6ed),'CONNECTION_UPDATE',a0_0x5a0e1e(0x444),a0_0x5a0e1e(0x4f2),'GROUP_PARTICIPANTS_UPDATE')},rt=class{},nt=class extends O{[a0_0x5a0e1e(0x6f0)](_0x3d9a7c){return aa(_0x3d9a7c);}async[a0_0x5a0e1e(0x49e)](_0x4fb69c){const _0x19903b=a0_0x5a0e1e;if(_0x4fb69c[_0x19903b(0x106)]!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x4fb69c[0x0]['owner'])[_0x19903b(0x3be)]([..._0x4fb69c]))[_0x19903b(0x106)]};}catch(_0x1fad2f){return _0x1fad2f;}}async[a0_0x5a0e1e(0x5ab)](_0x3d78b2,_0x377be4){const _0x4d1e8a=a0_0x5a0e1e;try{return{'deletedCount':(await this[_0x4d1e8a(0x6f0)](_0x377be4)[_0x4d1e8a(0x68b)]({..._0x3d78b2['where']}))['deletedCount']};}catch(_0x32bc4f){return{'error':_0x32bc4f?.[_0x4d1e8a(0x6b5)]()};}}async[a0_0x5a0e1e(0x15d)](_0x4b13d7,_0x43b1d9){const _0x2a9842=a0_0x5a0e1e;try{if(_0x4b13d7['length']===0x0)return;let _0x1611e0=this[_0x2a9842(0x6f0)](_0x43b1d9),_0x2cb2b6=_0x4b13d7[_0x2a9842(0x35d)](_0x285bf8=>({'updateOne':{'filter':{'_id':_0x285bf8[_0x2a9842(0x772)],'owner':_0x43b1d9},'update':{..._0x285bf8}}})),{modifiedCount:_0x5e8da2}=await _0x1611e0[_0x2a9842(0x36f)](_0x2cb2b6);return{'insertCount':_0x5e8da2};}catch{return;}}async[a0_0x5a0e1e(0x174)](_0x5660b7,_0x143efc){const _0x14586b=a0_0x5a0e1e;try{let _0xc9f23=this['getContactModelForOwner'](_0x143efc),_0x3d75ab=A(_0x5660b7[_0x14586b(0x71f)]);return await _0xc9f23[_0x14586b(0x174)](_0x3d75ab)[_0x14586b(0x2f6)](_0x5660b7?.[_0x14586b(0x2f6)]??0x0)[_0x14586b(0x47d)]();}catch{return[];}}async['findOne'](_0x2ffa6a,_0x387f3b){const _0x4ee296=a0_0x5a0e1e;try{let _0x27601a=this[_0x4ee296(0x6f0)](_0x387f3b),_0x33d7bf=A(_0x2ffa6a[_0x4ee296(0x71f)]);return await _0x27601a['findOne'](_0x33d7bf)[_0x4ee296(0x47d)]();}catch{return null;}}async[a0_0x5a0e1e(0x847)](_0xac3a1c){const _0x1b5520=a0_0x5a0e1e;try{return await this[_0x1b5520(0x6f0)](_0xac3a1c)[_0x1b5520(0x36a)][_0x1b5520(0x660)](),{'success':!0x0};}catch(_0x26a447){return console['error'](_0x26a447),{'success':!0x1,'error':_0x26a447};}}},ct=require(a0_0x5a0e1e(0x413)),Vc=require(a0_0x5a0e1e(0x51a)),$s=new $(a0_0x5a0e1e(0x7bf)),V=class{[a0_0x5a0e1e(0x198)](_0x4a60f9,_0x57a3cf=!0x0){const _0x591b19=a0_0x5a0e1e;let _0x2765b8='/'+_0x4a60f9;return _0x57a3cf&&(_0x2765b8+=_0x591b19(0x2d2)),_0x2765b8;}async['dataValidate'](_0xb1422b){const _0x59f11e=a0_0x5a0e1e;let {request:_0x341155,schema:_0x39950b,ClassRef:_0x5db5ea,execute:_0x3e42a7}=_0xb1422b,_0x3de7b3=new _0x5db5ea(),_0x4e4b11=_0x341155['body'],_0x27aea0=_0x341155[_0x59f11e(0x514)];_0x341155?.['query']&&Object[_0x59f11e(0x401)](_0x341155['query'])['length']>0x0&&Object['assign'](_0x27aea0,_0x341155[_0x59f11e(0x7f5)]),_0x341155[_0x59f11e(0xd6)]['includes'](_0x59f11e(0x274))&&Object['assign'](_0x27aea0,_0x4e4b11),Object[_0x59f11e(0xfe)](_0x3de7b3,_0x4e4b11);let _0x8f46a4=_0x39950b?(0x0,ct[_0x59f11e(0x58e)])(_0x3de7b3,_0x39950b):{'valid':!0x0,'errors':[]};if(!_0x8f46a4[_0x59f11e(0x4af)]){let _0x23dd41=_0x8f46a4[_0x59f11e(0x43a)]['map'](({property:_0x244d26,stack:_0x1a8fb3,schema:_0x26f5f0})=>{const _0x49e367=_0x59f11e;let _0x271843;return _0x26f5f0[_0x49e367(0xc9)]?_0x271843=_0x26f5f0[_0x49e367(0xc9)]:_0x271843=_0x1a8fb3[_0x49e367(0x186)](_0x49e367(0x40e),''),{'property':_0x244d26[_0x49e367(0x186)](_0x49e367(0x40e),''),'message':_0x271843};});throw $s[_0x59f11e(0x685)]([..._0x23dd41]),new m(..._0x23dd41);}return await _0x3e42a7(_0x27aea0,_0x3de7b3);}async['groupValidate'](_0xea3a4f){const _0x778dec=a0_0x5a0e1e;let {request:_0x1dc40f,ClassRef:_0x194e16,schema:_0x803700,execute:_0x25cf2d}=_0xea3a4f,_0x2895f8=_0x1dc40f['query'];if(!_0x2895f8?.[_0x778dec(0x316)])throw new m(_0x778dec(0x21c),_0x778dec(0x11b));let _0xcf07f1=_0x1dc40f[_0x778dec(0x514)],_0x27f6ab=_0x1dc40f[_0x778dec(0x3cc)],_0x451d7b=new _0x194e16();Object[_0x778dec(0xfe)](_0x27f6ab,_0x2895f8),Object[_0x778dec(0xfe)](_0x451d7b,_0x27f6ab);let _0x4adb6a=(0x0,ct['validate'])(_0x451d7b,_0x803700);if(!_0x4adb6a[_0x778dec(0x4af)]){let _0x565e1f=_0x4adb6a['errors'][_0x778dec(0x35d)](({property:_0x430673,stack:_0x164933,schema:_0x253045})=>{const _0x5c1e0a=_0x778dec;let _0x20261d;return _0x253045[_0x5c1e0a(0xc9)]?_0x20261d=_0x253045['description']:_0x20261d=_0x164933[_0x5c1e0a(0x186)](_0x5c1e0a(0x40e),''),{'property':_0x430673['replace'](_0x5c1e0a(0x40e),''),'message':_0x20261d};});throw $s['error']([..._0x565e1f]),new m(..._0x565e1f);}return await _0x25cf2d(_0xcf07f1,_0x451d7b);}async['joinGroupValidate'](_0x4fbd0f){const _0x3b73d1=a0_0x5a0e1e;let {request:_0x1d666a,ClassRef:_0x216ff6,schema:_0x5ed79a,execute:_0x5a846f}=_0x4fbd0f,_0x298444=_0x1d666a['body'];if(!_0x298444?.[_0x3b73d1(0x107)])throw new m(_0x3b73d1(0x5d2),_0x3b73d1(0x3e6));let _0x228132=_0x1d666a[_0x3b73d1(0x514)],_0x1a3595=_0x1d666a[_0x3b73d1(0x3cc)],_0x5f340a=new _0x216ff6();Object[_0x3b73d1(0xfe)](_0x1a3595,_0x298444),Object[_0x3b73d1(0xfe)](_0x5f340a,_0x1a3595);let _0x4a2ac1=(0x0,ct['validate'])(_0x5f340a,_0x5ed79a);if(!_0x4a2ac1['valid']){let _0x2c0ac1=_0x4a2ac1[_0x3b73d1(0x43a)][_0x3b73d1(0x35d)](({property:_0x58d425,stack:_0x494a6a,schema:_0x21a247})=>{const _0x5b6ffb=_0x3b73d1;let _0x26281e;return _0x21a247[_0x5b6ffb(0xc9)]?_0x26281e=_0x21a247[_0x5b6ffb(0xc9)]:_0x26281e=_0x494a6a[_0x5b6ffb(0x186)](_0x5b6ffb(0x40e),''),{'property':_0x58d425[_0x5b6ffb(0x186)]('instance.',''),'message':_0x26281e};});throw $s['error']([..._0x2c0ac1]),new m(..._0x2c0ac1);}return await _0x5a846f(_0x228132,_0x5f340a);}},M=class{},il=new $(a0_0x5a0e1e(0x494)),lt=class extends V{constructor(..._0x461544){const _0x4d5069=a0_0x5a0e1e;super(),this[_0x4d5069(0x702)]=(0x0,pi[_0x4d5069(0x644)])(),this['router'][_0x4d5069(0x7c3)](this[_0x4d5069(0x198)](_0x4d5069(0x32b)),..._0x461544,async(_0x5e7ab6,_0x2d2157)=>{const _0x58ca0c=_0x4d5069;let _0x475408=await this['dataValidate']({'request':_0x5e7ab6,'schema':si,'ClassRef':Ye,'execute':(_0x579151,_0x4fb49c)=>D[_0x58ca0c(0x32b)](_0x579151,_0x4fb49c)});return _0x2d2157[_0x58ca0c(0x1cc)](0xc9)[_0x58ca0c(0x7c0)](_0x475408);})[_0x4d5069(0x7c3)](this['routerPath'](_0x4d5069(0x351)),..._0x461544,async(_0x5bb8d3,_0x5b17ce)=>{const _0x4359ce=_0x4d5069;let _0x3ead4a=await this[_0x4359ce(0x388)]({'request':_0x5bb8d3,'schema':Wa,'ClassRef':Xe,'execute':(_0x131ecc,_0x2df0fd)=>D[_0x4359ce(0x425)](_0x131ecc,_0x2df0fd)});return _0x5b17ce[_0x4359ce(0x1cc)](0xc9)[_0x4359ce(0x7c0)](_0x3ead4a);})[_0x4d5069(0x7c3)](this[_0x4d5069(0x198)](_0x4d5069(0x289)),..._0x461544,async(_0x59dd02,_0x35f845)=>{const _0x2072bb=_0x4d5069;let _0xedaaaa=await this[_0x2072bb(0x388)]({'request':_0x59dd02,'schema':E,'ClassRef':M,'execute':(_0x1e4f6d,_0x4b6c2c)=>D[_0x2072bb(0x289)](_0x1e4f6d,_0x4b6c2c)});return _0x35f845[_0x2072bb(0x1cc)](0xc9)[_0x2072bb(0x7c0)](_0xedaaaa);})[_0x4d5069(0x2a2)](this[_0x4d5069(0x198)]('markMessageAsRead'),..._0x461544,async(_0x48c741,_0x300567)=>{const _0x2a0e10=_0x4d5069;let _0x44dc1b=await this[_0x2a0e10(0x388)]({'request':_0x48c741,'schema':za,'ClassRef':tt,'execute':(_0x4fe81b,_0x2414fd)=>D[_0x2a0e10(0x781)](_0x4fe81b,_0x2414fd)});return _0x300567[_0x2a0e10(0x1cc)](0xc9)[_0x2a0e10(0x7c0)](_0x44dc1b);})[_0x4d5069(0x2a2)](this['routerPath'](_0x4d5069(0x7ef)),..._0x461544,async(_0x28a713,_0x4b8bbf)=>{const _0x415e0a=_0x4d5069;let _0x12e02b=await this[_0x415e0a(0x388)]({'request':_0x28a713,'schema':Ka,'ClassRef':st,'execute':(_0x1e4ea6,_0x36105e)=>D[_0x415e0a(0x7ef)](_0x1e4ea6,_0x36105e)});return _0x4b8bbf[_0x415e0a(0x1cc)](0xc9)[_0x415e0a(0x7c0)](_0x12e02b);})['delete'](this[_0x4d5069(0x198)](_0x4d5069(0x3ec)),..._0x461544,async(_0x1033ea,_0xe95e4e)=>{const _0x346040=_0x4d5069;let _0x51c986=await this[_0x346040(0x388)]({'request':_0x1033ea,'schema':Qa,'ClassRef':it,'execute':(_0xe3c11d,_0x8893fd)=>D[_0x346040(0x2a4)](_0xe3c11d,_0x8893fd)});return _0xe95e4e[_0x346040(0x1cc)](0xc9)[_0x346040(0x7c0)](_0x51c986);})[_0x4d5069(0x7c3)](this['routerPath'](_0x4d5069(0x64f)),..._0x461544,async(_0x23e34a,_0x49e17f)=>{const _0x509440=_0x4d5069;let _0x26d334=await this[_0x509440(0x388)]({'request':_0x23e34a,'schema':Oe,'ClassRef':Ie,'execute':(_0x362ea5,_0x2cadcb)=>D['fetchProfilePicture'](_0x362ea5,_0x2cadcb)});return _0x49e17f[_0x509440(0x1cc)](0xc8)[_0x509440(0x7c0)](_0x26d334);})[_0x4d5069(0x7c3)](this[_0x4d5069(0x198)](_0x4d5069(0x395)),..._0x461544,async(_0xab4fc5,_0x281480)=>{const _0x1ed83e=_0x4d5069;let _0x292e2b=await this[_0x1ed83e(0x388)]({'request':_0xab4fc5,'schema':ei,'ClassRef':Ie,'execute':(_0xe9f0f,_0x311973)=>D[_0x1ed83e(0x395)](_0xe9f0f,_0x311973)});return _0x281480[_0x1ed83e(0x1cc)](0xc8)[_0x1ed83e(0x7c0)](_0x292e2b);})[_0x4d5069(0x7c3)](this[_0x4d5069(0x198)](_0x4d5069(0x331)),..._0x461544,async(_0x1ba62c,_0x4b39ce)=>{const _0x220eba=_0x4d5069;let _0x1eef3b=await this['dataValidate']({'request':_0x1ba62c,'schema':Ya,'ClassRef':rt,'execute':(_0x15cb48,_0x38f26f)=>D[_0x220eba(0x7a4)](_0x15cb48,_0x38f26f)});return _0x4b39ce[_0x220eba(0x1cc)](0xc8)[_0x220eba(0x7c0)](_0x1eef3b);})['post'](this['routerPath']('getBase64FromMediaMessage'),..._0x461544,async(_0x412743,_0x1cccdf)=>{const _0x45b440=_0x4d5069;let _0x49c426=await this[_0x45b440(0x388)]({'request':_0x412743,'schema':null,'ClassRef':Object,'execute':(_0x391120,_0x35c3f7)=>D[_0x45b440(0x56e)](_0x391120,_0x35c3f7)});return _0x1cccdf[_0x45b440(0x1cc)](0xc9)[_0x45b440(0x7c0)](_0x49c426);})[_0x4d5069(0x7c3)](this[_0x4d5069(0x198)](_0x4d5069(0x61b)),..._0x461544,async(_0x30d88b,_0x1a0d16)=>{const _0xf0db1d=_0x4d5069;let _0x106d26=await this[_0xf0db1d(0x388)]({'request':_0x30d88b,'schema':ti,'ClassRef':Ke,'execute':(_0x8c8fdd,_0x4e1522)=>D[_0xf0db1d(0x658)](_0x8c8fdd,_0x4e1522)});return _0x1a0d16[_0xf0db1d(0x1cc)](0xc8)[_0xf0db1d(0x7c0)](_0x106d26);})[_0x4d5069(0x168)](this[_0x4d5069(0x198)]('findChats'),..._0x461544,async(_0x25614f,_0x359c38)=>{const _0xc6c325=_0x4d5069;let _0xfa18a7=await this[_0xc6c325(0x388)]({'request':_0x25614f,'schema':null,'ClassRef':M,'execute':_0x53290f=>D[_0xc6c325(0x474)](_0x53290f)});return _0x359c38['status'](0xc8)[_0xc6c325(0x7c0)](_0xfa18a7);})[_0x4d5069(0x168)](this[_0x4d5069(0x198)](_0x4d5069(0x34d)),..._0x461544,async(_0x48b8e6,_0x558e98)=>{const _0x19bb15=_0x4d5069;let _0x1f70e9=await this[_0x19bb15(0x388)]({'request':_0x48b8e6,'schema':null,'ClassRef':M,'execute':_0x7bcecc=>D[_0x19bb15(0x1f0)](_0x7bcecc)});return _0x558e98[_0x19bb15(0x1cc)](0xc8)[_0x19bb15(0x7c0)](_0x1f70e9);})[_0x4d5069(0x2a2)](this[_0x4d5069(0x198)]('importChats'),..._0x461544,async(_0x282d19,_0x19d694)=>{const _0xf0417a=_0x4d5069;let _0x192033=await this[_0xf0417a(0x388)]({'request':_0x282d19,'schema':null,'ClassRef':Array,'execute':(_0x2847cf,_0x4e6723)=>D[_0xf0417a(0x64e)](_0x2847cf,_0x4e6723)});return _0x19d694['status'](0xc8)['json'](_0x192033);})[_0x4d5069(0x168)](this['routerPath'](_0x4d5069(0x703)),..._0x461544,async(_0x290e17,_0x37c005)=>{const _0x30adb1=_0x4d5069;let _0xf35fdb=await this[_0x30adb1(0x388)]({'request':_0x290e17,'schema':null,'ClassRef':M,'execute':_0x9127ef=>D['fetchPrivacySettings'](_0x9127ef)});return _0x37c005[_0x30adb1(0x1cc)](0xc8)[_0x30adb1(0x7c0)](_0xf35fdb);})['put'](this[_0x4d5069(0x198)](_0x4d5069(0x43e)),..._0x461544,async(_0xc145b1,_0x47722b)=>{const _0x395e33=_0x4d5069;let _0x177f73=await this['dataValidate']({'request':_0xc145b1,'schema':Ha,'ClassRef':at,'execute':(_0x1acbdb,_0x5ebb8c)=>D[_0x395e33(0x43e)](_0x1acbdb,_0x5ebb8c)});return _0x47722b[_0x395e33(0x1cc)](0xc9)[_0x395e33(0x7c0)](_0x177f73);})[_0x4d5069(0x7c3)](this[_0x4d5069(0x198)](_0x4d5069(0x1c2)),..._0x461544,async(_0x20cc6d,_0x203935)=>{const _0x22e488=_0x4d5069;let _0x163b0d=await this[_0x22e488(0x388)]({'request':_0x20cc6d,'schema':Oe,'ClassRef':Ce,'execute':(_0x1256d8,_0x378820)=>D[_0x22e488(0x1c2)](_0x1256d8,_0x378820)});return _0x203935['status'](0xc8)[_0x22e488(0x7c0)](_0x163b0d);})['post'](this[_0x4d5069(0x198)](_0x4d5069(0x66e)),..._0x461544,async(_0xd86821,_0x1fcf57)=>{const _0x58e882=_0x4d5069;let _0x151beb=await this['dataValidate']({'request':_0xd86821,'schema':Xa,'ClassRef':Ze,'execute':(_0x26a312,_0x3b333c)=>D['updateProfileName'](_0x26a312,_0x3b333c)});return _0x1fcf57[_0x58e882(0x1cc)](0xc8)['json'](_0x151beb);})[_0x4d5069(0x7c3)](this[_0x4d5069(0x198)](_0x4d5069(0x486)),..._0x461544,async(_0x51adcd,_0xcbe1c7)=>{const _0x2100aa=_0x4d5069;let _0x504bc5=await this[_0x2100aa(0x388)]({'request':_0x51adcd,'schema':Za,'ClassRef':et,'execute':(_0x3373f3,_0x28e968)=>D['updateProfileStatus'](_0x3373f3,_0x28e968)});return _0xcbe1c7[_0x2100aa(0x1cc)](0xc8)[_0x2100aa(0x7c0)](_0x504bc5);})[_0x4d5069(0x2a2)](this[_0x4d5069(0x198)](_0x4d5069(0x5f1)),..._0x461544,async(_0x22ee7d,_0x531b60)=>{const _0x1e46ea=_0x4d5069;let _0x752ced=await this['dataValidate']({'request':_0x22ee7d,'schema':Oe,'ClassRef':Ce,'execute':(_0x6fdeb0,_0x1accf2)=>D[_0x1e46ea(0x5f1)](_0x6fdeb0,_0x1accf2)});return _0x531b60[_0x1e46ea(0x1cc)](0xc8)[_0x1e46ea(0x7c0)](_0x752ced);})[_0x4d5069(0x5ab)](this[_0x4d5069(0x198)](_0x4d5069(0x689)),..._0x461544,async(_0x105e22,_0x5c2a89)=>{const _0x294bd7=_0x4d5069;let _0x2d26ee=await this[_0x294bd7(0x388)]({'request':_0x105e22,'schema':Oe,'ClassRef':Ce,'execute':(_0x1f0b5c,_0x2f3e7d)=>D[_0x294bd7(0x689)](_0x1f0b5c,_0x2f3e7d)});return _0x5c2a89[_0x294bd7(0x1cc)](0xc8)[_0x294bd7(0x7c0)](_0x2d26ee);});}},hi=require(a0_0x5a0e1e(0x398)),ut=class{},dt=class{},pt=class{},ht=class{},gt=class{},mt=class{},ee=class{},Pe=class{},ft=class extends ee{},wt=class extends ee{},yt=class extends V{constructor(..._0x364719){const _0x168bd6=a0_0x5a0e1e;super(),this[_0x168bd6(0x702)]=(0x0,hi[_0x168bd6(0x644)])(),this['router']['post'](this[_0x168bd6(0x198)]('create'),..._0x364719,async(_0x3ea278,_0x34c022)=>{const _0x3e1356=_0x168bd6;let _0x3be991=await this[_0x3e1356(0x388)]({'request':_0x3ea278,'schema':ai,'ClassRef':ut,'execute':(_0x3a1c5d,_0x26bc37)=>q[_0x3e1356(0x178)](_0x3a1c5d,_0x26bc37)});_0x34c022[_0x3e1356(0x1cc)](0xc9)[_0x3e1356(0x7c0)](_0x3be991);})[_0x168bd6(0x2a2)](this[_0x168bd6(0x198)](_0x168bd6(0x389)),..._0x364719,async(_0x78c80b,_0x1973c1)=>{const _0x5db089=_0x168bd6;let _0x4a4377=await this['groupValidate']({'request':_0x78c80b,'schema':ri,'ClassRef':dt,'execute':(_0x5c19d6,_0x1a0d3d)=>q[_0x5db089(0x389)](_0x5c19d6,_0x1a0d3d)});_0x1973c1[_0x5db089(0x1cc)](0xc9)['json'](_0x4a4377);})[_0x168bd6(0x2a2)](this['routerPath'](_0x168bd6(0x5c5)),..._0x364719,async(_0x1e415b,_0x548043)=>{const _0x97c82e=_0x168bd6;let _0x3b4a4b=await this[_0x97c82e(0x41d)]({'request':_0x1e415b,'schema':ni,'ClassRef':pt,'execute':(_0x4dd2a6,_0x45c6f2)=>q[_0x97c82e(0x5c5)](_0x4dd2a6,_0x45c6f2)});_0x548043[_0x97c82e(0x1cc)](0xc9)['json'](_0x3b4a4b);})['put'](this[_0x168bd6(0x198)]('groupName'),..._0x364719,async(_0xa5c822,_0x32829b)=>{const _0x4b1bee=_0x168bd6;let _0x237991=await this['groupValidate']({'request':_0xa5c822,'schema':ci,'ClassRef':ht,'execute':(_0x360650,_0x384ba8)=>q[_0x4b1bee(0x5bd)](_0x360650,_0x384ba8)});_0x32829b['status'](0xc9)[_0x4b1bee(0x7c0)](_0x237991);})['put'](this[_0x168bd6(0x198)](_0x168bd6(0xe6)),..._0x364719,async(_0x66b7b7,_0x581aa8)=>{const _0x2bc97a=_0x168bd6;let _0x5cb64b=await this[_0x2bc97a(0x41d)]({'request':_0x66b7b7,'schema':ui,'ClassRef':mt,'execute':(_0xa79591,_0x3c7429)=>q[_0x2bc97a(0xe6)](_0xa79591,_0x3c7429)});_0x581aa8[_0x2bc97a(0x1cc)](0xc9)[_0x2bc97a(0x7c0)](_0x5cb64b);})['put'](this[_0x168bd6(0x198)]('groupSetting'),..._0x364719,async(_0x33b9e4,_0x2fcaad)=>{const _0x471247=_0x168bd6;let _0x45ee06=await this[_0x471247(0x41d)]({'request':_0x33b9e4,'schema':li,'ClassRef':gt,'execute':(_0x304129,_0xc837f0)=>q[_0x471247(0x4a7)](_0x304129,_0xc837f0)});_0x2fcaad[_0x471247(0x1cc)](0xc9)[_0x471247(0x7c0)](_0x45ee06);})[_0x168bd6(0x2a2)](this[_0x168bd6(0x198)](_0x168bd6(0x7ca)),..._0x364719,async(_0x2c7e44,_0x2e37e6)=>{const _0x4f594b=_0x168bd6;let _0x27e0af=await this[_0x4f594b(0x41d)]({'request':_0x2c7e44,'schema':oi,'ClassRef':wt,'execute':(_0x45a963,_0x167087)=>q[_0x4f594b(0x7ca)](_0x45a963,_0x167087)});_0x2e37e6[_0x4f594b(0x1cc)](0xc9)['json'](_0x27e0af);})[_0x168bd6(0x168)](this[_0x168bd6(0x198)](_0x168bd6(0x526)),..._0x364719,async(_0x1be4fd,_0x15ca38)=>{const _0x1eacec=_0x168bd6;let _0x269057=await this[_0x1eacec(0x41d)]({'request':_0x1be4fd,'schema':xe,'ClassRef':ee,'execute':(_0x438567,_0x15e4ff)=>q[_0x1eacec(0x6d4)](_0x438567,_0x15e4ff)});_0x15ca38[_0x1eacec(0x1cc)](0xc8)['json'](_0x269057);})[_0x168bd6(0x168)](this['routerPath'](_0x168bd6(0x3ab)),..._0x364719,async(_0xede499,_0x3bf441)=>{const _0x3be45a=_0x168bd6;let _0x4475ec=await this['dataValidate']({'request':_0xede499,'schema':E,'ClassRef':M,'execute':_0x2cbcba=>q['findGroups'](_0x2cbcba)});_0x3bf441[_0x3be45a(0x1cc)](0xc8)[_0x3be45a(0x7c0)](_0x4475ec);})[_0x168bd6(0x168)](this[_0x168bd6(0x198)](_0x168bd6(0x338)),..._0x364719,async(_0xd795b5,_0x493964)=>{const _0x2d8566=_0x168bd6;let _0x388cde=await this['groupValidate']({'request':_0xd795b5,'schema':xe,'ClassRef':ee,'execute':(_0x2f01bb,_0x15a0f3)=>q[_0x2d8566(0x4d8)](_0x2f01bb,_0x15a0f3)});_0x493964[_0x2d8566(0x1cc)](0xc8)['json'](_0x388cde);})[_0x168bd6(0x168)](this[_0x168bd6(0x198)](_0x168bd6(0x107)),..._0x364719,async(_0x27cabb,_0xf2aa06)=>{const _0x45bc6c=_0x168bd6;let _0x51db5b=await this[_0x45bc6c(0x41d)]({'request':_0x27cabb,'schema':xe,'ClassRef':ee,'execute':(_0x5667a6,_0x73a8ab)=>q['inviteCode'](_0x5667a6,_0x73a8ab)});_0xf2aa06[_0x45bc6c(0x1cc)](0xc8)[_0x45bc6c(0x7c0)](_0x51db5b);})[_0x168bd6(0x7c3)](this[_0x168bd6(0x198)](_0x168bd6(0xe5)),..._0x364719,async(_0x324f8a,_0x2cea3c)=>{const _0x404891=_0x168bd6;let _0xfe1c22=await this[_0x404891(0x72b)]({'request':_0x324f8a,'schema':Ns,'ClassRef':Pe,'execute':(_0x15ada0,_0x3fb669)=>q[_0x404891(0x69e)](_0x15ada0,_0x3fb669)});_0x2cea3c[_0x404891(0x1cc)](0xc9)[_0x404891(0x7c0)](_0xfe1c22);})[_0x168bd6(0x2a2)](this[_0x168bd6(0x198)]('joinGroup'),..._0x364719,async(_0x2b08e9,_0x5d6516)=>{const _0x1ce31f=_0x168bd6;let _0x21282d=await this[_0x1ce31f(0x72b)]({'request':_0x2b08e9,'schema':Ns,'ClassRef':Pe,'execute':(_0x5801a9,_0x3287e2)=>q['joinGroup'](_0x5801a9,_0x3287e2)});_0x5d6516[_0x1ce31f(0x1cc)](0xc9)[_0x1ce31f(0x7c0)](_0x21282d);})[_0x168bd6(0x2a2)](this[_0x168bd6(0x198)]('revokeInviteCode'),..._0x364719,async(_0x19ddd4,_0x5d477d)=>{const _0x3455fc=_0x168bd6;let _0x48db2d=await this[_0x3455fc(0x41d)]({'request':_0x19ddd4,'schema':xe,'ClassRef':ee,'execute':(_0x183907,_0x4316c1)=>q[_0x3455fc(0x789)](_0x183907,_0x4316c1)});_0x5d477d[_0x3455fc(0x1cc)](0xc9)['json'](_0x48db2d);})[_0x168bd6(0x2a2)](this[_0x168bd6(0x198)](_0x168bd6(0x77d)),..._0x364719,async(_0xa74103,_0x35aabc)=>{const _0x16e9d0=_0x168bd6;let _0xfeec62=await this[_0x16e9d0(0x41d)]({'request':_0xa74103,'schema':ii,'ClassRef':ft,'execute':(_0x55f702,_0x618d7)=>q['updateGParticipate'](_0x55f702,_0x618d7)});_0x35aabc[_0x16e9d0(0x1cc)](0xc9)[_0x16e9d0(0x7c0)](_0xfeec62);})['delete'](this[_0x168bd6(0x198)]('leaveGroup'),..._0x364719,async(_0x198681,_0x4873ff)=>{const _0x331b89=_0x168bd6;let _0x3265eb=await this[_0x331b89(0x41d)]({'request':_0x198681,'schema':{},'ClassRef':ee,'execute':(_0x511fed,_0x46bd2d)=>q[_0x331b89(0x3fe)](_0x511fed,_0x46bd2d)});_0x4873ff[_0x331b89(0x1cc)](0xc8)[_0x331b89(0x7c0)](_0x3265eb);});}},gi=require('express'),bt=class extends V{constructor(_0x3fa47f,..._0x4877da){const _0x2ef175=a0_0x5a0e1e;super(),this['configService']=_0x3fa47f,this[_0x2ef175(0x702)]=(0x0,gi[_0x2ef175(0x644)])();let _0x16a3d9=_0x3fa47f[_0x2ef175(0x168)](_0x2ef175(0x1aa));this[_0x2ef175(0x702)][_0x2ef175(0x7c3)](_0x2ef175(0x470),..._0x4877da,async(_0x2663f9,_0x2f17c9)=>{const _0x3b7f0f=_0x2ef175;let {instanceName:_0x3b1430,apikey:_0x580c0b,number:_0x2375fb}=_0x2663f9[_0x3b7f0f(0x3cc)],_0x563e37=await le[_0x3b7f0f(0x552)]({'instanceName':_0x3b1430,'apikey':_0x580c0b,'number':_0x2375fb});return _0x2f17c9[_0x3b7f0f(0x1cc)](0xc9)[_0x3b7f0f(0x7c0)](_0x563e37);})[_0x2ef175(0x2a2)](this[_0x2ef175(0x198)](_0x2ef175(0x30d)),..._0x4877da,async(_0x425079,_0x471bbf)=>{const _0x13f53c=_0x2ef175;let _0x4621bc=await this[_0x13f53c(0x388)]({'request':_0x425079,'schema':E,'ClassRef':M,'execute':_0x8cde43=>le[_0x13f53c(0x462)](_0x8cde43)});return _0x471bbf[_0x13f53c(0x1cc)](0xc8)['json'](_0x4621bc);})[_0x2ef175(0x168)](this[_0x2ef175(0x198)]('connect'),..._0x4877da,async(_0xadbe43,_0x5d72ce)=>{const _0xcdc170=_0x2ef175;let _0x53cd57=await this[_0xcdc170(0x388)]({'request':_0xadbe43,'schema':E,'ClassRef':M,'execute':_0x31af28=>le['connectToWhatsappController'](_0x31af28)});return _0x5d72ce[_0xcdc170(0x1cc)](0xc8)[_0xcdc170(0x7c0)](_0x53cd57);})['get'](this[_0x2ef175(0x198)](_0x2ef175(0x814)),..._0x4877da,async(_0x14036a,_0x139a5a)=>{const _0x3d1219=_0x2ef175;let _0x4d36cb=await this[_0x3d1219(0x388)]({'request':_0x14036a,'schema':E,'ClassRef':M,'execute':_0x2e9387=>le['connectionState'](_0x2e9387)});return _0x139a5a[_0x3d1219(0x1cc)](0xc8)['json'](_0x4d36cb);})[_0x2ef175(0x168)](this[_0x2ef175(0x198)](_0x2ef175(0x463),!0x1),..._0x4877da,async(_0x3082d7,_0x42293d)=>{const _0xdf3830=_0x2ef175;let _0x4dfdf1=await this[_0xdf3830(0x388)]({'request':_0x3082d7,'schema':null,'ClassRef':M,'execute':_0x4e2344=>le[_0xdf3830(0x463)](_0x4e2344)});return _0x42293d['status'](0xc8)['json'](_0x4dfdf1);})[_0x2ef175(0x5ab)](this[_0x2ef175(0x198)](_0x2ef175(0x66b)),..._0x4877da,async(_0x416dac,_0x434a5b)=>{const _0x1a32ee=_0x2ef175;let _0x1c2a3d=await this['dataValidate']({'request':_0x416dac,'schema':E,'ClassRef':M,'execute':_0x4c745d=>le[_0x1a32ee(0x66b)](_0x4c745d)});return _0x434a5b[_0x1a32ee(0x1cc)](0xc8)[_0x1a32ee(0x7c0)](_0x1c2a3d);})['delete'](this[_0x2ef175(0x198)](_0x2ef175(0x5ab)),..._0x4877da,async(_0x356a3b,_0x400c06)=>{const _0x9428d4=_0x2ef175;let _0xd966d0=await this[_0x9428d4(0x388)]({'request':_0x356a3b,'schema':E,'ClassRef':M,'execute':_0x112d47=>le[_0x9428d4(0x809)](_0x112d47)});return _0x400c06[_0x9428d4(0x1cc)](0xc8)[_0x9428d4(0x7c0)](_0xd966d0);});}},mi=require(a0_0x5a0e1e(0x398)),Rs=class{},H=class extends Rs{},St=class extends H{},Mt=class extends H{},Ct=class extends H{},vt=class extends H{},De=class extends H{},Et=class extends H{},Nt=class extends H{},$t=class extends H{},Rt=class extends H{},At=class{},Tt=class extends V{constructor(..._0x53c941){const _0x386448=a0_0x5a0e1e;super(),this[_0x386448(0x702)]=(0x0,mi[_0x386448(0x644)])(),this[_0x386448(0x702)][_0x386448(0x7c3)](this[_0x386448(0x198)](_0x386448(0x38a)),..._0x53c941,async(_0x3bc06d,_0x116de9)=>{const _0x2fcfb6=_0x386448;let _0x1fc917=await this['dataValidate']({'request':_0x3bc06d,'schema':Pa,'ClassRef':St,'execute':(_0x4bedc5,_0x2838e6)=>B['sendText'](_0x4bedc5,_0x2838e6)});return _0x116de9[_0x2fcfb6(0x1cc)](0xc9)[_0x2fcfb6(0x7c0)](_0x1fc917);})['post'](this[_0x386448(0x198)](_0x386448(0x3cb)),..._0x53c941,async(_0x2ab40c,_0x467e54)=>{const _0x285d51=_0x386448;let _0x3c4d16=await this['dataValidate']({'request':_0x2ab40c,'schema':Fa,'ClassRef':De,'execute':(_0x3b227f,_0x369cf5)=>B[_0x285d51(0x3cb)](_0x3b227f,_0x369cf5)});return _0x467e54[_0x285d51(0x1cc)](0xc9)['json'](_0x3c4d16);})[_0x386448(0x7c3)](this[_0x386448(0x198)]('sendMenu'),..._0x53c941,async(_0x2114fd,_0x1d6174)=>{const _0x27f078=_0x386448;let _0x40a39d=await this[_0x27f078(0x388)]({'request':_0x2114fd,'schema':Ja,'ClassRef':vt,'execute':(_0x17fbbb,_0x223bb7)=>B['sendMenu'](_0x17fbbb,_0x223bb7)});return _0x1d6174['status'](0xc9)['json'](_0x40a39d);})[_0x386448(0x7c3)](this[_0x386448(0x198)]('sendWhatsAppAudio'),..._0x53c941,async(_0x593c90,_0x776a0e)=>{const _0x16310d=_0x386448;let _0x261a71=await this[_0x16310d(0x388)]({'request':_0x593c90,'schema':Ua,'ClassRef':De,'execute':(_0x1363f3,_0x5cb3c7)=>B[_0x16310d(0x415)](_0x1363f3,_0x5cb3c7)});return _0x776a0e['status'](0xc9)[_0x16310d(0x7c0)](_0x261a71);})['post'](this[_0x386448(0x198)](_0x386448(0x240)),..._0x53c941,async(_0x4ef51d,_0x42434b)=>{const _0x1077cc=_0x386448;let _0x8e188e=await this['dataValidate']({'request':_0x4ef51d,'schema':qa,'ClassRef':Nt,'execute':(_0x526a87,_0x1e3802)=>B['sendLocation'](_0x526a87,_0x1e3802)});return _0x42434b[_0x1077cc(0x1cc)](0xc9)[_0x1077cc(0x7c0)](_0x8e188e);})['post'](this['routerPath']('sendList'),..._0x53c941,async(_0x5c8ecd,_0x47a588)=>{const _0x199538=_0x386448;let _0x5dcfd6=await this[_0x199538(0x388)]({'request':_0x5c8ecd,'schema':Va,'ClassRef':$t,'execute':(_0x41e6d9,_0xc8014f)=>B[_0x199538(0xbe)](_0x41e6d9,_0xc8014f)});return _0x47a588[_0x199538(0x1cc)](0xc9)[_0x199538(0x7c0)](_0x5dcfd6);})[_0x386448(0x7c3)](this['routerPath'](_0x386448(0x609)),..._0x53c941,async(_0x160b6e,_0x486e84)=>{const _0x51aad2=_0x386448;let _0x28fbb6=await this[_0x51aad2(0x388)]({'request':_0x160b6e,'schema':Ga,'ClassRef':Rt,'execute':(_0x5ebd2f,_0x28c14e)=>B[_0x51aad2(0x609)](_0x5ebd2f,_0x28c14e)});return _0x486e84[_0x51aad2(0x1cc)](0xc9)[_0x51aad2(0x7c0)](_0x28fbb6);})['post'](this[_0x386448(0x198)](_0x386448(0x827)),..._0x53c941,async(_0x477b0d,_0x12507a)=>{const _0x313571=_0x386448;let _0x13e57d=await this['dataValidate']({'request':_0x477b0d,'schema':Ba,'ClassRef':At,'execute':(_0xdc003b,_0x13c9ab)=>B['sendReaction'](_0xdc003b,_0x13c9ab)});return _0x12507a[_0x313571(0x1cc)](0xc9)[_0x313571(0x7c0)](_0x13e57d);})[_0x386448(0x7c3)](this['routerPath'](_0x386448(0x5fb)),..._0x53c941,async(_0xe509c6,_0x486ffb)=>{const _0x14775b=_0x386448;let _0x4ff22c=await this[_0x14775b(0x388)]({'request':_0xe509c6,'schema':ja,'ClassRef':Ct,'execute':(_0x2e3103,_0x48e308)=>B['sendPoll'](_0x2e3103,_0x48e308)});return _0x486ffb[_0x14775b(0x1cc)](0xc9)['json'](_0x4ff22c);})[_0x386448(0x7c3)](this[_0x386448(0x198)]('sendStatus'),..._0x53c941,async(_0x3ec8f9,_0x4ad609)=>{const _0x7f79a6=_0x386448;let _0x39232b=await this[_0x7f79a6(0x388)]({'request':_0x3ec8f9,'schema':La,'ClassRef':Mt,'execute':(_0x152004,_0x3656bb)=>B[_0x7f79a6(0x408)](_0x152004,_0x3656bb)});return _0x4ad609['status'](0xc9)['json'](_0x39232b);})[_0x386448(0x7c3)](this[_0x386448(0x198)](_0x386448(0x116)),..._0x53c941,async(_0x51c2b3,_0x192c35)=>{const _0x18ba82=_0x386448;let _0x401b0d=await this['dataValidate']({'request':_0x51c2b3,'schema':ka,'ClassRef':Et,'execute':(_0x21a5c1,_0x334be3)=>B[_0x18ba82(0x116)](_0x21a5c1,_0x334be3)});return _0x192c35['status'](0xc9)[_0x18ba82(0x7c0)](_0x401b0d);});}},fi=require('express'),It=class{},_t=class extends V{constructor(..._0x378c25){const _0x43221a=a0_0x5a0e1e;super(),this[_0x43221a(0x702)]=(0x0,fi[_0x43221a(0x644)])(),this['router'][_0x43221a(0x7c3)](this[_0x43221a(0x198)](_0x43221a(0x5d9)),..._0x378c25,async(_0x320744,_0x3f2cd2)=>{const _0x3facbb=_0x43221a;let _0x389ffc=await this[_0x3facbb(0x388)]({'request':_0x320744,'schema':di,'ClassRef':It,'execute':(_0x229d19,_0x2d6795)=>As[_0x3facbb(0x554)](_0x229d19,_0x2d6795)});_0x3f2cd2[_0x3facbb(0x1cc)](0xc9)[_0x3facbb(0x7c0)](_0x389ffc);})[_0x43221a(0x168)](this[_0x43221a(0x198)](_0x43221a(0x174)),..._0x378c25,async(_0x5ca979,_0x95e96a)=>{const _0x24864a=_0x43221a;let _0x4270fc=await this['dataValidate']({'request':_0x5ca979,'schema':E,'ClassRef':M,'execute':_0x1d621f=>As[_0x24864a(0x843)](_0x1d621f)});_0x95e96a[_0x24864a(0x1cc)](0xc8)[_0x24864a(0x7c0)](_0x4270fc);});}},wi=require('express'),y=new $(a0_0x5a0e1e(0x6bc)),Ot=class extends V{constructor(..._0xafad45){const _0x31bd9f=a0_0x5a0e1e;super(),this['router']=(0x0,wi[_0x31bd9f(0x644)])(),this[_0x31bd9f(0x702)][_0x31bd9f(0x7c3)](this[_0x31bd9f(0x198)](_0x31bd9f(0x4a4)),..._0xafad45,async(_0x29e349,_0x1e93c7)=>{const _0x327a44=_0x31bd9f;let _0x2f53b6=_0x29e349[_0x327a44(0x3cc)];y[_0x327a44(0x2eb)](_0x327a44(0x560)),y['verbose'](_0x327a44(0x2bf)),y['verbose'](_0x29e349['body']);let _0xdbb67e=await this['dataValidate']({'request':_0x29e349,'schema':E,'ClassRef':M,'execute':_0x580955=>_[_0x327a44(0x582)](_0x580955,_0x2f53b6)});_0x1e93c7[_0x327a44(0x1cc)](0xc8)[_0x327a44(0x7c0)](_0xdbb67e);})[_0x31bd9f(0x168)](this[_0x31bd9f(0x198)]('scheduleMessage'),..._0xafad45,async(_0x298d4a,_0x5993f4)=>{const _0x3a4f65=_0x31bd9f;let _0x3b3010=await this[_0x3a4f65(0x388)]({'request':_0x298d4a,'schema':E,'ClassRef':M,'execute':_0x1941e4=>_['getScheduleMessage'](_0x1941e4)});_0x5993f4[_0x3a4f65(0x1cc)](0xc8)[_0x3a4f65(0x7c0)](_0x3b3010);})[_0x31bd9f(0x5ab)](this['routerPath'](_0x31bd9f(0x33b)),..._0xafad45,async(_0x2ebd38,_0x4d3d31)=>{const _0x1ae0dd=_0x31bd9f;y[_0x1ae0dd(0x2eb)]('request\x20received\x20in\x20deleteDoneMessages');let _0x308760=await this[_0x1ae0dd(0x388)]({'request':_0x2ebd38,'schema':E,'ClassRef':M,'execute':_0x10e9e5=>_[_0x1ae0dd(0x33b)](_0x10e9e5)});_0x4d3d31[_0x1ae0dd(0x1cc)](0xc8)[_0x1ae0dd(0x7c0)](_0x308760);})[_0x31bd9f(0x5ab)](this[_0x31bd9f(0x198)](_0x31bd9f(0x6be)),..._0xafad45,async(_0x4059ba,_0x51392c)=>{const _0x4075c8=_0x31bd9f;y['verbose'](_0x4075c8(0x2a7));let _0x30ed9b=await this[_0x4075c8(0x388)]({'request':_0x4059ba,'schema':E,'ClassRef':M,'execute':_0x2f23af=>_[_0x4075c8(0x6be)](_0x2f23af)});_0x51392c[_0x4075c8(0x1cc)](0xc8)[_0x4075c8(0x7c0)](_0x30ed9b);})[_0x31bd9f(0x7c3)](this[_0x31bd9f(0x198)]('startFlow'),..._0xafad45,async(_0x5dc3a8,_0x703e69)=>{const _0x4795b9=_0x31bd9f;let _0x48e10f=_0x5dc3a8[_0x4795b9(0x3cc)];y[_0x4795b9(0x2eb)](_0x4795b9(0x3b1)),y['verbose'](_0x4795b9(0x2bf)),y[_0x4795b9(0x2eb)](_0x5dc3a8[_0x4795b9(0x3cc)]);let _0xc10df5=await this['dataValidate']({'request':_0x5dc3a8,'schema':E,'ClassRef':M,'execute':_0x17ee64=>_['startFlow'](_0x17ee64,_0x48e10f)});_0x703e69['status'](0xc8)[_0x4795b9(0x7c0)](_0xc10df5);})[_0x31bd9f(0x168)](this[_0x31bd9f(0x198)](_0x31bd9f(0x7d4)),..._0xafad45,async(_0x4e3688,_0x1efbd9)=>{const _0x273697=_0x31bd9f;y[_0x273697(0x2eb)](_0x273697(0x322));let _0x410da4=await this[_0x273697(0x388)]({'request':_0x4e3688,'schema':E,'ClassRef':M,'execute':_0x231be9=>_[_0x273697(0x7d4)](_0x231be9)});_0x1efbd9[_0x273697(0x1cc)](0xc8)[_0x273697(0x7c0)](_0x410da4);})[_0x31bd9f(0x168)](this['routerPath'](_0x31bd9f(0x611)),..._0xafad45,async(_0x1550ab,_0x1faba8)=>{const _0x26758e=_0x31bd9f;y[_0x26758e(0x2eb)](_0x26758e(0x138));let _0x540427=await this[_0x26758e(0x388)]({'request':_0x1550ab,'schema':E,'ClassRef':M,'execute':_0x31c116=>_['getAutomateSystem'](_0x31c116)});_0x1faba8[_0x26758e(0x1cc)](0xc8)[_0x26758e(0x7c0)](_0x540427);})[_0x31bd9f(0x7c3)](this[_0x31bd9f(0x198)](_0x31bd9f(0x5a5)),..._0xafad45,async(_0x22e01e,_0x212c6d)=>{const _0x14bf59=_0x31bd9f;let _0x260148=_0x22e01e[_0x14bf59(0x3cc)];y[_0x14bf59(0x2eb)](_0x14bf59(0x818)),y['verbose'](_0x14bf59(0x2bf)),y[_0x14bf59(0x2eb)](_0x22e01e[_0x14bf59(0x3cc)]);let _0x1a46b6=await this[_0x14bf59(0x388)]({'request':_0x22e01e,'schema':E,'ClassRef':M,'execute':_0x599bcf=>_['updateAgent'](_0x599bcf,_0x260148)});_0x212c6d[_0x14bf59(0x1cc)](0xc8)[_0x14bf59(0x7c0)](_0x1a46b6);})['post'](this[_0x31bd9f(0x198)](_0x31bd9f(0xce)),..._0xafad45,async(_0x51b435,_0x2ceb9e)=>{const _0x2e1471=_0x31bd9f;let _0x380be3=_0x51b435['body'];y[_0x2e1471(0x2eb)](_0x2e1471(0x336)),y[_0x2e1471(0x2eb)](_0x2e1471(0x2bf)),y[_0x2e1471(0x2eb)](_0x51b435[_0x2e1471(0x3cc)]);let _0x4cb7c5=await this[_0x2e1471(0x388)]({'request':_0x51b435,'schema':E,'ClassRef':M,'execute':_0x26c4bc=>_[_0x2e1471(0xce)](_0x26c4bc,_0x380be3)});_0x2ceb9e[_0x2e1471(0x1cc)](0xc8)[_0x2e1471(0x7c0)](_0x4cb7c5);})[_0x31bd9f(0x7c3)](this[_0x31bd9f(0x198)](_0x31bd9f(0xf3)),..._0xafad45,async(_0x57a110,_0x54ed6a)=>{const _0x5b9974=_0x31bd9f;let _0x395c0b=_0x57a110['body'];y[_0x5b9974(0x2eb)](_0x5b9974(0x53e)),y[_0x5b9974(0x2eb)](_0x5b9974(0x2bf)),y['verbose'](_0x57a110[_0x5b9974(0x3cc)]);let _0x5669ce=await this[_0x5b9974(0x388)]({'request':_0x57a110,'schema':E,'ClassRef':M,'execute':_0x12eed8=>_[_0x5b9974(0xf3)](_0x12eed8,_0x395c0b)});_0x54ed6a[_0x5b9974(0x1cc)](0xc8)[_0x5b9974(0x7c0)](_0x5669ce);})[_0x31bd9f(0x7c3)](this['routerPath'](_0x31bd9f(0x704)),..._0xafad45,async(_0x4f40d9,_0x510c72)=>{const _0x430345=_0x31bd9f;let _0x49cb38=_0x4f40d9[_0x430345(0x3cc)];y[_0x430345(0x2eb)](_0x430345(0x1b8)),y[_0x430345(0x2eb)]('request\x20body:\x20'),y[_0x430345(0x2eb)](_0x4f40d9[_0x430345(0x3cc)]);let _0x1c168b=await this[_0x430345(0x388)]({'request':_0x4f40d9,'schema':E,'ClassRef':M,'execute':_0x865432=>_[_0x430345(0x704)](_0x865432,_0x49cb38)});_0x510c72[_0x430345(0x1cc)](0xc8)[_0x430345(0x7c0)](_0x1c168b);})[_0x31bd9f(0x7c3)](this[_0x31bd9f(0x198)]('getConversation'),..._0xafad45,async(_0x14b994,_0x12b63c)=>{const _0x307bdc=_0x31bd9f;let _0x7d70ed=_0x14b994[_0x307bdc(0x3cc)];y[_0x307bdc(0x2eb)](_0x307bdc(0x2d6)),y[_0x307bdc(0x2eb)](_0x307bdc(0x2bf)),y[_0x307bdc(0x2eb)](_0x14b994[_0x307bdc(0x3cc)]);let _0x1d4c54=await this['dataValidate']({'request':_0x14b994,'schema':E,'ClassRef':M,'execute':_0x32c254=>_['getConversation'](_0x32c254,_0x7d70ed)});_0x12b63c[_0x307bdc(0x1cc)](0xc8)[_0x307bdc(0x7c0)](_0x1d4c54);})[_0x31bd9f(0x7c3)](this[_0x31bd9f(0x198)](_0x31bd9f(0x7a9)),..._0xafad45,async(_0x13374f,_0x3dad75)=>{const _0x299a90=_0x31bd9f;let _0x547304=_0x13374f['body'];y[_0x299a90(0x2eb)](_0x299a90(0x1dd)),y[_0x299a90(0x2eb)](_0x299a90(0x2bf)),y[_0x299a90(0x2eb)](_0x13374f['body']);let _0x511fea=await this['dataValidate']({'request':_0x13374f,'schema':E,'ClassRef':M,'execute':_0x56a3ad=>_[_0x299a90(0x7a9)](_0x56a3ad,_0x547304)});_0x3dad75[_0x299a90(0x1cc)](0xc8)[_0x299a90(0x7c0)](_0x511fea);})[_0x31bd9f(0x7c3)](this[_0x31bd9f(0x198)](_0x31bd9f(0x575)),..._0xafad45,async(_0x457098,_0x3a34fa)=>{const _0xcdc4dd=_0x31bd9f;let _0x34d781=_0x457098['body'];y[_0xcdc4dd(0x2eb)](_0xcdc4dd(0x6f3)),y[_0xcdc4dd(0x2eb)](_0xcdc4dd(0x2bf)),y['verbose'](_0x457098[_0xcdc4dd(0x3cc)]);let _0x2bf278=await this[_0xcdc4dd(0x388)]({'request':_0x457098,'schema':E,'ClassRef':M,'execute':_0x454e02=>_[_0xcdc4dd(0x575)](_0x454e02,_0x34d781)});_0x3a34fa[_0xcdc4dd(0x1cc)](0xc8)[_0xcdc4dd(0x7c0)](_0x2bf278);})[_0x31bd9f(0x5ab)](this[_0x31bd9f(0x198)](_0x31bd9f(0x3ff)),..._0xafad45,async(_0xea743a,_0x404536)=>{const _0x1db8d3=_0x31bd9f;let _0x1a6cb4=_0xea743a['body'];y[_0x1db8d3(0x2eb)](_0x1db8d3(0x5db)),y[_0x1db8d3(0x2eb)](_0x1db8d3(0x2bf)),y[_0x1db8d3(0x2eb)](_0xea743a[_0x1db8d3(0x3cc)]);let _0x13edc1=await this[_0x1db8d3(0x388)]({'request':_0xea743a,'schema':E,'ClassRef':M,'execute':_0x48301b=>_['deleteConversation'](_0x48301b,_0x1a6cb4)});_0x404536[_0x1db8d3(0x1cc)](0xc8)[_0x1db8d3(0x7c0)](_0x13edc1);})['post'](this[_0x31bd9f(0x198)]('createflow'),..._0xafad45,async(_0x120633,_0x2d531a)=>{const _0x3f3199=_0x31bd9f;let _0x1ba2ff=_0x120633[_0x3f3199(0x3cc)],_0x331ecb=_0x120633['headers']['apikey'];y[_0x3f3199(0x2eb)](_0x3f3199(0x35b)),y[_0x3f3199(0x2eb)](_0x3f3199(0x2bf)),y[_0x3f3199(0x2eb)](_0x120633[_0x3f3199(0x3cc)]);let _0x457605=await this[_0x3f3199(0x388)]({'request':_0x120633,'schema':E,'ClassRef':M,'execute':_0x3d22f0=>_['createFlow'](_0x3d22f0,_0x1ba2ff,_0x331ecb)});_0x2d531a[_0x3f3199(0x1cc)](0xc8)['json'](_0x457605);})[_0x31bd9f(0x7c3)](this[_0x31bd9f(0x198)](_0x31bd9f(0x673)),..._0xafad45,async(_0x39394b,_0x131b0f)=>{const _0xde09a1=_0x31bd9f;let _0x15ad1e=_0x39394b[_0xde09a1(0x3cc)],_0x50146d=_0x39394b[_0xde09a1(0x2b6)][_0xde09a1(0x4ed)];y[_0xde09a1(0x2eb)](_0xde09a1(0x7f7)),y['verbose']('request\x20body:\x20'),y['verbose'](_0x39394b['body']),delete _0x15ad1e[_0xde09a1(0x42c)],delete _0x15ad1e[_0xde09a1(0x7e3)],delete _0x15ad1e[_0xde09a1(0x4fc)],delete _0x15ad1e[_0xde09a1(0x4b8)];let _0xf1dfe4=await this['dataValidate']({'request':_0x39394b,'schema':E,'ClassRef':M,'execute':_0x3febbb=>_[_0xde09a1(0x135)](_0x3febbb,_0x15ad1e,_0x50146d)});_0x131b0f[_0xde09a1(0x1cc)](0xc8)[_0xde09a1(0x7c0)](_0xf1dfe4);})[_0x31bd9f(0x7c3)](this[_0x31bd9f(0x198)](_0x31bd9f(0x728)),..._0xafad45,async(_0x1e58d2,_0x318c60)=>{const _0x5f0d6e=_0x31bd9f;let _0x57c61b=_0x1e58d2['body'];y['verbose'](_0x5f0d6e(0x7f7)),y['verbose'](_0x5f0d6e(0x2bf)),y[_0x5f0d6e(0x2eb)](_0x1e58d2['body']);let _0x2d8e77=await this[_0x5f0d6e(0x388)]({'request':_0x1e58d2,'schema':E,'ClassRef':M,'execute':_0x473ac0=>_[_0x5f0d6e(0x325)](_0x473ac0,_0x57c61b)});_0x318c60[_0x5f0d6e(0x1cc)](0xc8)[_0x5f0d6e(0x7c0)](_0x2d8e77);})[_0x31bd9f(0x7c3)](this[_0x31bd9f(0x198)]('editflowreply'),..._0xafad45,async(_0x5bd645,_0x15315b)=>{const _0x309d86=_0x31bd9f;let _0x525e73=_0x5bd645['body'];y[_0x309d86(0x2eb)](_0x309d86(0x7f7)),y[_0x309d86(0x2eb)](_0x309d86(0x2bf)),y[_0x309d86(0x2eb)](_0x5bd645[_0x309d86(0x3cc)]);let _0x2f2f1c=await this[_0x309d86(0x388)]({'request':_0x5bd645,'schema':E,'ClassRef':M,'execute':_0x27d41e=>_[_0x309d86(0x12e)](_0x27d41e,_0x525e73)});_0x15315b[_0x309d86(0x1cc)](0xc8)[_0x309d86(0x7c0)](_0x2f2f1c);})[_0x31bd9f(0x7c3)](this['routerPath']('editflowvaredit'),..._0xafad45,async(_0x1a6ddf,_0x4e8752)=>{const _0x197f0d=_0x31bd9f;let _0x251484=_0x1a6ddf[_0x197f0d(0x3cc)];y['verbose'](_0x197f0d(0x7f7)),y['verbose']('request\x20body:\x20'),y[_0x197f0d(0x2eb)](_0x1a6ddf[_0x197f0d(0x3cc)]);let _0x396cb4=await this['dataValidate']({'request':_0x1a6ddf,'schema':E,'ClassRef':M,'execute':_0x19adf5=>_['editFlowVaredit'](_0x19adf5,_0x251484)});_0x4e8752[_0x197f0d(0x1cc)](0xc8)[_0x197f0d(0x7c0)](_0x396cb4);})['post'](this[_0x31bd9f(0x198)](_0x31bd9f(0x435)),..._0xafad45,async(_0x195541,_0x474410)=>{const _0x2e164d=_0x31bd9f;let _0x595043=_0x195541['body'];y[_0x2e164d(0x2eb)](_0x2e164d(0x7ee)),y[_0x2e164d(0x2eb)](_0x2e164d(0x2bf)),y['verbose'](_0x195541[_0x2e164d(0x3cc)]);let _0x48533f=await this['dataValidate']({'request':_0x195541,'schema':E,'ClassRef':M,'execute':_0x7e99d2=>_[_0x2e164d(0x4a6)](_0x7e99d2,_0x595043)});_0x474410[_0x2e164d(0x1cc)](0xc8)[_0x2e164d(0x7c0)](_0x48533f);})[_0x31bd9f(0x7c3)](this[_0x31bd9f(0x198)](_0x31bd9f(0x629)),..._0xafad45,async(_0x29ae27,_0x2f697a)=>{const _0x33cd05=_0x31bd9f;let _0xccf68f=_0x29ae27['body'];y[_0x33cd05(0x2eb)]('request\x20received\x20in\x20editFlowcondition'),y[_0x33cd05(0x2eb)](_0x33cd05(0x2bf)),y[_0x33cd05(0x2eb)](_0x29ae27[_0x33cd05(0x3cc)]);let _0x58d8cc=await this[_0x33cd05(0x388)]({'request':_0x29ae27,'schema':E,'ClassRef':M,'execute':_0x14e082=>_[_0x33cd05(0x54c)](_0x14e082,_0xccf68f)});_0x2f697a[_0x33cd05(0x1cc)](0xc8)[_0x33cd05(0x7c0)](_0x58d8cc);})[_0x31bd9f(0x7c3)](this['routerPath'](_0x31bd9f(0x602)),..._0xafad45,async(_0x2a853c,_0x44a971)=>{const _0x38f473=_0x31bd9f;let _0x3c6b40=_0x2a853c[_0x38f473(0x3cc)];y[_0x38f473(0x2eb)]('request\x20received\x20in\x20editFlowvariable'),y['verbose'](_0x38f473(0x2bf)),y[_0x38f473(0x2eb)](_0x2a853c[_0x38f473(0x3cc)]);let _0x11a891=await this['dataValidate']({'request':_0x2a853c,'schema':E,'ClassRef':M,'execute':_0x5dc06b=>_['editFlowVariable'](_0x5dc06b,_0x3c6b40)});_0x44a971['status'](0xc8)[_0x38f473(0x7c0)](_0x11a891);})[_0x31bd9f(0x7c3)](this[_0x31bd9f(0x198)](_0x31bd9f(0x6cb)),..._0xafad45,async(_0x164b76,_0x59d9c7)=>{const _0x13e68f=_0x31bd9f;let _0x3c2d2e=_0x164b76[_0x13e68f(0x3cc)];y[_0x13e68f(0x2eb)](_0x13e68f(0x7a6)),y['verbose'](_0x13e68f(0x2bf)),y[_0x13e68f(0x2eb)](_0x164b76[_0x13e68f(0x3cc)]);let _0xd59d42=await this[_0x13e68f(0x388)]({'request':_0x164b76,'schema':E,'ClassRef':M,'execute':_0x364a4f=>_[_0x13e68f(0x233)](_0x364a4f,_0x3c2d2e)});_0x59d9c7[_0x13e68f(0x1cc)](0xc8)['json'](_0xd59d42);})[_0x31bd9f(0x5ab)](this[_0x31bd9f(0x198)]('deleteflow'),..._0xafad45,async(_0x47f04b,_0x1b6278)=>{const _0x59d431=_0x31bd9f;let _0x3d275a=_0x47f04b[_0x59d431(0x3cc)];y[_0x59d431(0x2eb)]('request\x20received\x20in\x20deleteFlow'),y[_0x59d431(0x2eb)](_0x59d431(0x2bf)),y[_0x59d431(0x2eb)](_0x47f04b[_0x59d431(0x3cc)]);let _0x37231c=await this[_0x59d431(0x388)]({'request':_0x47f04b,'schema':E,'ClassRef':M,'execute':_0x11bf4b=>_[_0x59d431(0x136)](_0x11bf4b,_0x3d275a)});_0x1b6278[_0x59d431(0x1cc)](0xc8)[_0x59d431(0x7c0)](_0x37231c);})[_0x31bd9f(0x168)](this['routerPath'](_0x31bd9f(0xa6)),..._0xafad45,async(_0x575843,_0x1b2acb)=>{const _0x2a9b09=_0x31bd9f;y[_0x2a9b09(0x2eb)](_0x2a9b09(0x504));let _0x244251=await this[_0x2a9b09(0x388)]({'request':_0x575843,'schema':E,'ClassRef':M,'execute':_0x4d053b=>_['allFlows'](_0x4d053b)});_0x1b2acb[_0x2a9b09(0x1cc)](0xc8)[_0x2a9b09(0x7c0)](_0x244251);});}},Mi=I(require(a0_0x5a0e1e(0x5c8))),te={};function yi(_0x59cd88,_0x57abd2,_0x32ae1e,_0x765650){te[_0x59cd88]||(te[_0x59cd88]={}),te[_0x59cd88][_0x57abd2]={'id':_0x57abd2,'response':_0x32ae1e,'events':_0x765650};}function bi(_0x23dcd9,_0x176824){!te[_0x23dcd9]||!te[_0x23dcd9][_0x176824]||delete te[_0x23dcd9][_0x176824];}function F(_0x2f7694,_0x2162ee,_0x5e6908){const _0x18b863=a0_0x5a0e1e;if(!te[_0x2f7694])return;let _0x8cc07a='data:\x20'+JSON[_0x18b863(0x265)](_0x5e6908)+'\x0a\x0a';Object[_0x18b863(0x191)](te[_0x2f7694])[_0x18b863(0x3a6)](_0x2a9dc1=>{const _0x1c2d95=_0x18b863;_0x2a9dc1[_0x1c2d95(0x358)][_0x1c2d95(0x402)](_0x2162ee)&&_0x2a9dc1[_0x1c2d95(0x248)][_0x1c2d95(0x13e)](_0x8cc07a);});}function Si(){const _0x20c25d=a0_0x5a0e1e;let _0x24cb1c={};for(let _0x53a0c2 in te)_0x24cb1c[_0x53a0c2]=Object[_0x20c25d(0x191)](te[_0x53a0c2])[_0x20c25d(0x35d)](_0x2c0cdc=>({'id':_0x2c0cdc['id'],'events':_0x2c0cdc[_0x20c25d(0x358)]}));return _0x24cb1c;}var Ci=require(a0_0x5a0e1e(0x5ae)),Is=require(a0_0x5a0e1e(0x175)),Ts=class{},Io=new Is[(a0_0x5a0e1e(0x283))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),_o=new Is[(a0_0x5a0e1e(0x283))]({'_id':{'type':String,'default':a0_0x5a0e1e(0xb7)},'WebhookGlobal':{'type':Io},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ve=T?.[a0_0x5a0e1e(0xd1)](Ts[a0_0x5a0e1e(0x7e8)],_o,a0_0x5a0e1e(0x1a4)),Oo=Mi['default']['join'](__dirname,a0_0x5a0e1e(0xaa)),ke=(0x0,xt[a0_0x5a0e1e(0x644)])(),xo=S[a0_0x5a0e1e(0x168)](a0_0x5a0e1e(0x1aa))['TYPE'],ie=[Aa,Ta,Oa[xo]];ke[a0_0x5a0e1e(0x3ba)](a0_0x5a0e1e(0x5f0),xt[a0_0x5a0e1e(0x77c)][a0_0x5a0e1e(0x4ee)](Oo))[a0_0x5a0e1e(0x168)](a0_0x5a0e1e(0x734),async(_0x1b17ae,_0x28b4c9)=>{const _0x82727a=a0_0x5a0e1e;console['log']('bateu\x20events');let _0x43f3ef=_0x1b17ae[_0x82727a(0x514)][_0x82727a(0x1f6)],_0x375c2d=(_0x1b17ae[_0x82727a(0x7f5)]['events']||'')['split'](','),_0x2135b4=(0x0,Ci['v4'])();console[_0x82727a(0x6ec)](_0x82727a(0x131),_0x43f3ef),console['log'](_0x82727a(0x32c),_0x375c2d);let _0x20c83b=S[_0x82727a(0x168)](_0x82727a(0x1aa))['API_KEY'],_0x46b76c=_0x1b17ae['query']['apikey'];if(console[_0x82727a(0x6ec)](_0x82727a(0x4d2),_0x46b76c),_0x20c83b[_0x82727a(0x78f)]!==_0x46b76c){console[_0x82727a(0x6ec)](_0x82727a(0xad));try{let _0x1ac8e3=await me[_0x82727a(0x2a0)]['find'](_0x43f3ef);if(console[_0x82727a(0x6ec)](_0x82727a(0x7c9),_0x1ac8e3),!_0x1ac8e3||_0x1ac8e3[_0x82727a(0x4ed)]!==_0x46b76c)return console[_0x82727a(0x6ec)]('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x28b4c9[_0x82727a(0x1cc)](0x191)[_0x82727a(0x3b8)]('API\x20Key\x20inválida.');}catch(_0x5a9050){return console['error']('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x5a9050),_0x28b4c9[_0x82727a(0x1cc)](0x191)['send'](_0x82727a(0x267));}}if(!await _e(_0x43f3ef))return _0x28b4c9[_0x82727a(0x1cc)](0x194)[_0x82727a(0x3b8)]('Instância\x20não\x20encontrada.');_0x28b4c9[_0x82727a(0x621)]('Content-Type',_0x82727a(0x631)),_0x28b4c9[_0x82727a(0x621)](_0x82727a(0x2b3),_0x82727a(0x572)),_0x28b4c9['setHeader'](_0x82727a(0x6fb),_0x82727a(0x255)),_0x28b4c9[_0x82727a(0x36d)]();let _0x72a35f=_0x82727a(0x5c4)+JSON[_0x82727a(0x265)]({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x28b4c9['write'](_0x72a35f),yi(_0x43f3ef,_0x2135b4,_0x28b4c9,_0x375c2d),_0x1b17ae['on']('close',()=>{const _0x10d130=_0x82727a;console[_0x10d130(0x6ec)](_0x10d130(0x855)+_0x43f3ef),bi(_0x43f3ef,_0x2135b4);});}),ke[a0_0x5a0e1e(0x7c3)](a0_0x5a0e1e(0x5e8),async(_0x2d4a1b,_0x176162)=>{const _0x3a7323=a0_0x5a0e1e;console[_0x3a7323(0x6ec)]('iniciando\x20fluxo\x20router');let _0x438da4=_0x2d4a1b['params'][_0x3a7323(0x1f6)],_0x3e8add=_0x2d4a1b['params']['startID'],_0x24d655=_0x2d4a1b[_0x3a7323(0x7f5)][_0x3a7323(0x41b)]||'',_0x5c493d=_0x2d4a1b[_0x3a7323(0x3cc)];console[_0x3a7323(0x6ec)](_0x3a7323(0x1a8),_0x438da4),console[_0x3a7323(0x6ec)](_0x3a7323(0x71b),_0x3e8add),console[_0x3a7323(0x6ec)](_0x3a7323(0x7c7),_0x24d655),console[_0x3a7323(0x6ec)](_0x3a7323(0x79d),_0x5c493d);try{if(!await _e(_0x438da4))return _0x176162[_0x3a7323(0x1cc)](0x194)[_0x3a7323(0x3b8)](_0x3a7323(0x113));let _0x162321=await _[_0x3a7323(0x82c)](_0x438da4,_0x3e8add,_0x24d655,_0x5c493d);_0x176162[_0x3a7323(0x3b8)](_0x162321);}catch(_0x242e6c){console['error'](_0x242e6c),_0x176162[_0x3a7323(0x1cc)](0x1f4)[_0x3a7323(0x3b8)](_0x3a7323(0x816));}}),ke[a0_0x5a0e1e(0x168)](a0_0x5a0e1e(0x38d),(_0x413591,_0x1d3b65)=>{const _0x4e4809=a0_0x5a0e1e;let _0x4cca42=Si();_0x1d3b65[_0x4e4809(0x7c0)](_0x4cca42);})['get']('/',(_0x4ec18c,_0x401b72)=>{const _0x420796=a0_0x5a0e1e;let _0x2d7ac1=S[_0x420796(0x168)](_0x420796(0x4bd))[_0x420796(0x1c3)];if(_0x2d7ac1){let _0x3fba4a=encodeURIComponent(''+_0x2d7ac1);_0x401b72[_0x420796(0x33e)](_0x420796(0x31f)+_0x3fba4a);return;}let _0x80e531=S[_0x420796(0x168)](_0x420796(0x7e2)),_0x41bee5=_0x80e531&&_0x80e531[_0x420796(0x756)]['split']('/')[0x4];if(_0x41bee5){let _0xc84d70=encodeURIComponent('https://'+_0x41bee5);_0x401b72[_0x420796(0x33e)]('https://uazapi-plugin.bubbleapps.io/?url='+_0xc84d70);}else _0x401b72[_0x420796(0x33e)](_0x420796(0x709));})[a0_0x5a0e1e(0x2a2)](a0_0x5a0e1e(0x11d),...ie,async(_0x4b8917,_0x1c6572)=>{const _0x434946=a0_0x5a0e1e;try{console['log']('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x1c6572[_0x434946(0x1cc)](0xc8)[_0x434946(0x7c0)]({'message':_0x434946(0x59b)}),_0x1c6572['on'](_0x434946(0x27c),()=>process[_0x434946(0x537)](0x0));}catch(_0x2f09f5){console[_0x434946(0x685)](_0x434946(0x26b),_0x2f09f5),_0x1c6572[_0x434946(0x1cc)](0x1f4)[_0x434946(0x7c0)]({'message':_0x434946(0x754)});}})['put'](a0_0x5a0e1e(0x244),...ie,async(_0x497185,_0x37d961)=>{const _0x38a25f=a0_0x5a0e1e;try{let _0x1b3ef5=_0x497185[_0x38a25f(0x3cc)];await ve[_0x38a25f(0xbb)]({},{'$set':_0x1b3ef5},{'upsert':!0x0});let _0x170107=await ve[_0x38a25f(0x524)]();_0x37d961['json'](_0x170107);}catch(_0x41710c){_0x37d961[_0x38a25f(0x1cc)](0x190)[_0x38a25f(0x3b8)](_0x41710c[_0x38a25f(0x3d6)]);}})['get'](a0_0x5a0e1e(0x244),...ie,async(_0x133581,_0x2c471a)=>{const _0x3dae26=a0_0x5a0e1e;try{let _0x13eace=await ve[_0x3dae26(0x524)]();if(!_0x13eace)return _0x2c471a['json']({});_0x2c471a[_0x3dae26(0x7c0)](_0x13eace);}catch(_0x5abb24){_0x2c471a['status'](0x1f4)[_0x3dae26(0x3b8)](_0x5abb24[_0x3dae26(0x3d6)]);}})[a0_0x5a0e1e(0x3ba)](a0_0x5a0e1e(0x161),new bt(S,...ie)[a0_0x5a0e1e(0x702)])['use']('/message',new Tt(...ie)['router'])[a0_0x5a0e1e(0x3ba)]('/chat',new lt(...ie)[a0_0x5a0e1e(0x702)])['use'](a0_0x5a0e1e(0x21f),new yt(...ie)[a0_0x5a0e1e(0x702)])[a0_0x5a0e1e(0x3ba)](a0_0x5a0e1e(0x2bd),new _t(...ie)[a0_0x5a0e1e(0x702)])['use'](a0_0x5a0e1e(0x262),new Ot(...ie)[a0_0x5a0e1e(0x702)]);var m=class{constructor(..._0x5ee708){const _0x4b8759=a0_0x5a0e1e;throw{'status':0x190,'error':'Bad\x20Request','message':_0x5ee708[_0x4b8759(0x106)]>0x0?_0x5ee708:void 0x0};}},se=class{constructor(..._0x5ed15f){throw{'status':0x191,'error':'Unauthorized','message':_0x5ed15f['length']>0x0?_0x5ed15f:void 0x0};}},X=class{constructor(..._0x1b6821){const _0x1dbf73=a0_0x5a0e1e;throw{'status':0x193,'error':_0x1dbf73(0x1f1),'message':_0x1b6821[_0x1dbf73(0x106)]>0x0?_0x1b6821:void 0x0};}},U=class{constructor(..._0x3d9de4){const _0x35a4dd=a0_0x5a0e1e;throw{'status':0x194,'error':_0x35a4dd(0x6cf),'message':_0x3d9de4['length']>0x0?_0x3d9de4:void 0x0};}},x=class{constructor(..._0x2be3f4){const _0x162c3b=a0_0x5a0e1e;throw{'status':0x1f4,'error':_0x162c3b(0x713),'message':_0x2be3f4[_0x162c3b(0x106)]>0x0?_0x2be3f4:void 0x0};}},fe=require('@whiskeysockets/baileys');async function _s(_0x651817){const _0x152735=a0_0x5a0e1e;let _0x1beab0=new $(_s[_0x152735(0x7e8)]),_0x1926d9=T[_0x152735(0x44b)](),_0x4ad7a0=_0x1926d9['db'](S[_0x152735(0x168)](_0x152735(0x3ad))[_0x152735(0x1b5)][_0x152735(0x668)]+_0x152735(0x6db))[_0x152735(0x36a)](_0x651817),_0x211be5=async(_0x5e1488,_0xa690ac)=>{const _0x23ea9b=_0x152735;try{return await _0x1926d9[_0x23ea9b(0x834)](),await _0x4ad7a0[_0x23ea9b(0x4c4)]({'_id':_0xa690ac},JSON[_0x23ea9b(0x7f0)](JSON[_0x23ea9b(0x265)](_0x5e1488,fe[_0x23ea9b(0x724)][_0x23ea9b(0x232)])),{'upsert':!0x0});}catch{}},_0x2306f3=async _0x27b750=>{const _0x2b9eb0=_0x152735;try{await _0x1926d9[_0x2b9eb0(0x834)]();let _0xe2fcb=await _0x4ad7a0[_0x2b9eb0(0x524)]({'_id':_0x27b750}),_0x20585e=JSON['stringify'](_0xe2fcb);return JSON[_0x2b9eb0(0x7f0)](_0x20585e,fe[_0x2b9eb0(0x724)][_0x2b9eb0(0xd5)]);}catch{}},_0x26d06e=async _0x29579b=>{const _0x369ee4=_0x152735;try{return await _0x1926d9[_0x369ee4(0x834)](),await _0x4ad7a0[_0x369ee4(0x3b2)]({'_id':_0x29579b});}catch{}},_0x48b0e1=await _0x2306f3(_0x152735(0x3ea))||(0x0,fe[_0x152735(0x14b)])();return{'state':{'creds':_0x48b0e1,'keys':{'get':async(_0x2836ef,_0x5d5b15)=>{const _0x396fb9=_0x152735;let _0x55f555={};return await Promise['all'](_0x5d5b15[_0x396fb9(0x35d)](async _0x3279bd=>{const _0x1f727d=_0x396fb9;let _0x35e74d=await _0x2306f3(_0x2836ef+'-'+_0x3279bd);_0x2836ef===_0x1f727d(0xae)&&_0x35e74d&&(_0x35e74d=fe[_0x1f727d(0x5b2)]['Message'][_0x1f727d(0x263)]['fromObject'](_0x35e74d)),_0x55f555[_0x3279bd]=_0x35e74d;})),_0x55f555;},'set':async _0x408811=>{const _0x4f4103=_0x152735;let _0x20f262=[];for(let _0x16be1b in _0x408811)for(let _0x20c99c in _0x408811[_0x16be1b]){let _0x5b08b9=_0x408811[_0x16be1b][_0x20c99c],_0x1d4832=_0x16be1b+'-'+_0x20c99c;_0x20f262[_0x4f4103(0x212)](_0x5b08b9?_0x211be5(_0x5b08b9,_0x1d4832):_0x26d06e(_0x1d4832));}await Promise['all'](_0x20f262);}}},'saveCreds':async()=>_0x211be5(_0x48b0e1,_0x152735(0x3ea))};}var Ls=I(require(a0_0x5a0e1e(0x7c8))),Fs=I(require(a0_0x5a0e1e(0x276))),kt=require('@whiskeysockets/baileys'),vi=require(a0_0x5a0e1e(0x672)),Dt=require(a0_0x5a0e1e(0x58a)),Pt;function Po(_0x6056fa){const _0x3f35f2=a0_0x5a0e1e;return Pt||(Pt=(0x0,vi['createClient'])({'url':_0x6056fa[_0x3f35f2(0x612)]}),Pt[_0x3f35f2(0x834)]()),Pt;}var ue=class u{constructor(_0x2f0766,_0x19b9cc){const _0x4da332=a0_0x5a0e1e;this[_0x4da332(0x114)]=_0x2f0766,this[_0x4da332(0x225)]=_0x19b9cc,this['logger']=new $(u[_0x4da332(0x7e8)]),this[_0x4da332(0x30c)]=Po(_0x2f0766);}set[a0_0x5a0e1e(0x5af)](_0x5ea8e7){const _0x35a803=a0_0x5a0e1e;this[_0x35a803(0x225)]=_0x5ea8e7;}async[a0_0x5a0e1e(0x52b)](){const _0x5ea1ab=a0_0x5a0e1e;try{return await this[_0x5ea1ab(0x30c)][_0x5ea1ab(0x699)](['keys',this[_0x5ea1ab(0x114)][_0x5ea1ab(0x2c5)]+':*']);}catch(_0x255b60){this[_0x5ea1ab(0x3c2)][_0x5ea1ab(0x685)](_0x255b60);}}async[a0_0x5a0e1e(0x4c0)](_0x5cc420,_0x1a2e6b){const _0x946197=a0_0x5a0e1e;try{let _0x4da7be=JSON[_0x946197(0x265)](_0x1a2e6b,Dt['BufferJSON']['replacer']);return await this[_0x946197(0x30c)][_0x946197(0x418)](this[_0x946197(0x114)][_0x946197(0x2c5)]+':'+this[_0x946197(0x225)],_0x5cc420,_0x4da7be);}catch(_0x3cc77d){this[_0x946197(0x3c2)][_0x946197(0x685)](_0x3cc77d);}}async['getAllData'](){const _0x362e2f=a0_0x5a0e1e;try{let _0x48308e=await this[_0x362e2f(0x30c)][_0x362e2f(0x1e7)](this['redisEnv'][_0x362e2f(0x2c5)]+':'+this[_0x362e2f(0x225)]);if(_0x48308e){for(let _0x48a7dd in _0x48308e)Object[_0x362e2f(0x313)][_0x362e2f(0x53b)][_0x362e2f(0x473)](_0x48308e,_0x48a7dd)&&(_0x48308e[_0x48a7dd]=JSON[_0x362e2f(0x7f0)](_0x48308e[_0x48a7dd],Dt[_0x362e2f(0x724)]['reviver']));return _0x48308e;}}catch(_0x3ab240){this[_0x362e2f(0x3c2)]['error'](_0x3ab240);}}async[a0_0x5a0e1e(0x5d3)](_0x2f3468){const _0x187db1=a0_0x5a0e1e;try{let _0x20f51c=await this['client'][_0x187db1(0x7f9)](this[_0x187db1(0x114)][_0x187db1(0x2c5)]+':'+this[_0x187db1(0x225)],_0x2f3468);if(_0x20f51c)return JSON[_0x187db1(0x7f0)](_0x20f51c,Dt[_0x187db1(0x724)]['reviver']);}catch(_0x2506c8){this[_0x187db1(0x3c2)][_0x187db1(0x685)](_0x2506c8);}}async['removeData'](_0x22c0de){const _0x1225b9=a0_0x5a0e1e;try{return await this['client'][_0x1225b9(0x564)](this[_0x1225b9(0x114)][_0x1225b9(0x2c5)]+':'+this['instanceName'],_0x22c0de);}catch(_0x36983f){this[_0x1225b9(0x3c2)][_0x1225b9(0x685)](_0x36983f);}}async[a0_0x5a0e1e(0x1ac)](_0x1a0f13){const _0x26f40c=a0_0x5a0e1e;try{return await this[_0x26f40c(0x30c)][_0x26f40c(0x2ff)](_0x1a0f13||this['redisEnv'][_0x26f40c(0x2c5)]+':'+this[_0x26f40c(0x225)]);}catch(_0x818074){this[_0x26f40c(0x3c2)]['error'](_0x818074);}}};async function Os(_0x8b9c37,_0x5408f2){const _0x5d0d91=a0_0x5a0e1e;let _0x41cb19=new $(Os[_0x5d0d91(0x7e8)]),_0x204986=new ue(_0x8b9c37,_0x5408f2),_0x2b6283=async(_0x1e15cd,_0x3a0056)=>{const _0x126153=_0x5d0d91;try{return await _0x204986['writeData'](_0x3a0056,_0x1e15cd);}catch(_0x5a175c){return _0x41cb19[_0x126153(0x685)]({'localError':_0x126153(0x4c0),'error':_0x5a175c});}},_0x379ce7=async _0x21efa8=>{const _0x366c47=_0x5d0d91;try{return await _0x204986[_0x366c47(0x5d3)](_0x21efa8);}catch(_0x3d8dd2){_0x41cb19[_0x366c47(0x685)]({'readData':_0x366c47(0x4c0),'error':_0x3d8dd2});return;}},_0x5bea30=async _0x579823=>{const _0x48c025=_0x5d0d91;try{return await _0x204986['removeData'](_0x579823);}catch(_0x55202c){_0x41cb19['error']({'readData':_0x48c025(0x354),'error':_0x55202c});}},_0x13529e=await _0x379ce7('creds')||(0x0,kt[_0x5d0d91(0x14b)])();return{'state':{'creds':_0x13529e,'keys':{'get':async(_0x11a8ad,_0x59d86f)=>{const _0x39ebe=_0x5d0d91;let _0x54ff15={};return await Promise[_0x39ebe(0x722)](_0x59d86f['map'](async _0x3e3b0e=>{const _0x25ad55=_0x39ebe;let _0x53b852=await _0x379ce7(_0x11a8ad+'-'+_0x3e3b0e);_0x11a8ad===_0x25ad55(0xae)&&_0x53b852&&(_0x53b852=kt[_0x25ad55(0x5b2)][_0x25ad55(0x61f)][_0x25ad55(0x263)][_0x25ad55(0x72c)](_0x53b852)),_0x54ff15[_0x3e3b0e]=_0x53b852;})),_0x54ff15;},'set':async _0x1c2c10=>{const _0x17750c=_0x5d0d91;let _0x2accb9=[];for(let _0x3dceb1 in _0x1c2c10)for(let _0x2aa0c9 in _0x1c2c10[_0x3dceb1]){let _0x1bf56e=_0x1c2c10[_0x3dceb1][_0x2aa0c9],_0x30b8fd=_0x3dceb1+'-'+_0x2aa0c9;_0x2accb9[_0x17750c(0x212)](_0x1bf56e?await _0x2b6283(_0x1bf56e,_0x30b8fd):await _0x5bea30(_0x30b8fd));}await Promise[_0x17750c(0x722)](_0x2accb9);}}},'saveCreds':async()=>await _0x2b6283(_0x13529e,_0x5d0d91(0x3ea))};}var k=I(require('fs')),Q=require(a0_0x5a0e1e(0x5ae)),Ut=I(require(a0_0x5a0e1e(0x779))),oe=require(a0_0x5a0e1e(0x363)),Ei=require(a0_0x5a0e1e(0x70e)),Ni=require(a0_0x5a0e1e(0x5bc)),$i=I(require(a0_0x5a0e1e(0x7e4))),Ee=class extends O{constructor(_0x450d03,_0x2e28f5,_0x454a4c){const _0x4d19ff=a0_0x5a0e1e;super(_0x2e28f5),this[_0x4d19ff(0x62d)]=_0x450d03,this[_0x4d19ff(0x1e5)]=_0x2e28f5,this['dbConnection']=_0x454a4c;}async[a0_0x5a0e1e(0x62c)](_0x253915,_0x475b7f){const _0xa72804=a0_0x5a0e1e;try{if(this[_0xa72804(0x840)][_0xa72804(0x160)]){console[_0xa72804(0x6ec)](_0xa72804(0x3f6)+_0x475b7f+_0xa72804(0x55b),_0x253915);let _0x5597e5=await this[_0xa72804(0x62d)][_0xa72804(0x2c1)]({'_id':_0x475b7f},{'$set':_0x253915},{'new':!0x0,'upsert':!0x0});return console[_0xa72804(0x6ec)](_0xa72804(0x583),_0x5597e5),_0x5597e5;}}catch(_0x39fb58){throw console[_0xa72804(0x685)](_0xa72804(0x6b8),_0x39fb58),_0x39fb58;}return null;}async[a0_0x5a0e1e(0x3b2)](_0x23504e){const _0x47e09d=a0_0x5a0e1e;try{let _0xa2c11e=A(_0x23504e[_0x47e09d(0x71f)]);return{'deletedCount':(await this[_0x47e09d(0x62d)][_0x47e09d(0x3b2)](_0xa2c11e))['deletedCount']};}catch(_0x5a8955){return{'error':_0x5a8955?.[_0x47e09d(0x6b5)]()};}}async['findOne'](_0x3b7a34){const _0x310a4e=a0_0x5a0e1e;try{let _0x5c6a0a=A(_0x3b7a34[_0x310a4e(0x71f)]);return await this[_0x310a4e(0x62d)][_0x310a4e(0x524)](_0x5c6a0a)['lean']();}catch{return null;}}},Ne=(0x0,Ni['promisify'])(Ei['exec']),xs=0x1f4,Do=S[a0_0x5a0e1e(0x168)]('PROXY'),Ps=class{constructor(){const _0x48035d=a0_0x5a0e1e;this[_0x48035d(0xf9)]=new Ee(We,S),(!this[_0x48035d(0x221)]||!this[_0x48035d(0x17d)])&&Do&&this[_0x48035d(0x29e)]()[_0x48035d(0x4e1)](async()=>{const _0x5654ae=_0x48035d;console[_0x5654ae(0x6ec)]('IPv6\x20Prefix\x20detected:\x20'+this[_0x5654ae(0x221)]),console[_0x5654ae(0x6ec)]('Network\x20Interface\x20detected:\x20'+this[_0x5654ae(0x17d)]),await this[_0x5654ae(0x1be)]();let _0x5ea033=await this[_0x5654ae(0x3e5)]();console[_0x5654ae(0x6ec)](_0x5654ae(0x12b)+_0x5ea033);})[_0x48035d(0xdf)](_0x74bfc9=>{const _0x16d3a1=_0x48035d;console['error']('Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20'+_0x74bfc9[_0x16d3a1(0x3d6)]);});}async[a0_0x5a0e1e(0x1be)](){const _0xfa30a1=a0_0x5a0e1e;let _0x400241=await this['listIPv6Addresses']();if(console[_0xfa30a1(0x6ec)](_0xfa30a1(0x571)+_0x400241[_0xfa30a1(0x106)]),_0x400241[_0xfa30a1(0x106)]>xs){let _0x3e677d=_0x400241[_0xfa30a1(0xd0)](xs);for(let _0x1ffda6 of _0x3e677d)console[_0xfa30a1(0x6ec)](_0xfa30a1(0x51c)+_0x1ffda6),await this['removeIPv6'](_0x1ffda6);console[_0xfa30a1(0x6ec)](_0xfa30a1(0x63e)+_0x3e677d[_0xfa30a1(0x106)]+_0xfa30a1(0x223));}else console[_0xfa30a1(0x6ec)](_0xfa30a1(0x549));}async['listIPv6Addresses'](){const _0x108539=a0_0x5a0e1e;try{let {stdout:_0x2e17b5}=await Ne(_0x108539(0x4ac));return _0x2e17b5[_0x108539(0x83d)]('\x0a')[_0x108539(0x736)](_0x5d6120=>_0x5d6120[_0x108539(0x402)]('inet6')&&_0x5d6120[_0x108539(0x402)](_0x108539(0x18e)))[_0x108539(0x35d)](_0x2d2027=>_0x2d2027['match'](/inet6\s+([a-fA-F0-9:]+)\//)?.[0x1])['filter'](Boolean);}catch(_0x139a91){return console[_0x108539(0x685)]('Error\x20fetching\x20IPv6\x20addresses:\x20'+_0x139a91[_0x108539(0x3d6)]),[];}}async[a0_0x5a0e1e(0x3e5)](){const _0x1af64=a0_0x5a0e1e;try{let {stdout:_0x3881d8}=await Ne(_0x1af64(0x6c6)),_0x577a0b=parseInt(_0x3881d8[_0x1af64(0x846)](),0xa);return console[_0x1af64(0x6ec)](_0x1af64(0x205)+_0x577a0b),_0x577a0b;}catch(_0x5f1b15){return console[_0x1af64(0x685)](_0x1af64(0x7c5)+_0x5f1b15[_0x1af64(0x3d6)]),0x0;}}async[a0_0x5a0e1e(0x171)](_0x276cab){const _0x1d2f53=a0_0x5a0e1e;try{await Ne(_0x1d2f53(0x81d)+_0x276cab+'/64\x20dev\x20'+this['networkInterface']),console[_0x1d2f53(0x6ec)]('IPv6\x20address\x20removed:\x20'+_0x276cab);}catch(_0x4d8e08){console['error']('Error\x20removing\x20IPv6\x20address:\x20'+_0x4d8e08[_0x1d2f53(0x3d6)]);}}async[a0_0x5a0e1e(0x29e)](){const _0xbe2fda=a0_0x5a0e1e;try{let {stdout:_0x3525e7}=await Ne(_0xbe2fda(0x4bc));console['log'](_0xbe2fda(0x6e8)+_0x3525e7);let _0x104e22=_0x3525e7[_0xbe2fda(0x83d)]('\x0a')['map'](_0x2271d5=>_0x2271d5[_0xbe2fda(0x83d)]('\x20')[0x0])[_0xbe2fda(0x736)](_0x1293c7=>!_0x1293c7[_0xbe2fda(0x402)]('lo')&&!_0x1293c7[_0xbe2fda(0x402)](_0xbe2fda(0x54e))&&!_0x1293c7['includes'](_0xbe2fda(0x434))&&!_0x1293c7[_0xbe2fda(0x402)]('wl')&&!_0x1293c7[_0xbe2fda(0x402)]('@'));if(console[_0xbe2fda(0x6ec)](_0xbe2fda(0x124)+_0x104e22),_0x104e22[_0xbe2fda(0x106)]===0x0)throw new Error('No\x20suitable\x20network\x20interface\x20found');this[_0xbe2fda(0x17d)]=_0x104e22[0x0];let {stdout:_0x288c19}=await Ne(_0xbe2fda(0x396)+this['networkInterface']);console[_0xbe2fda(0x6ec)]('IPv6\x20addresses\x20detected:\x20'+_0x288c19);let _0x184472=_0x288c19[_0xbe2fda(0x83d)]('\x0a')[_0xbe2fda(0x174)](_0x5435fb=>_0x5435fb[_0xbe2fda(0x402)](_0xbe2fda(0x6ea))&&_0x5435fb[_0xbe2fda(0x402)](_0xbe2fda(0x18e)));if(!_0x184472)throw new Error('No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface');let _0x2bd1fd=_0x184472[_0xbe2fda(0x4da)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x2bd1fd)throw new Error(_0xbe2fda(0x80d));let [_0xb87d01,_0x40a62d,_0x1ce2b0]=_0x2bd1fd,_0x11e543=Math[_0xbe2fda(0x706)](Number(_0x1ce2b0)/0x10),_0x1bad9f=Number(_0x1ce2b0)%0x10,_0x12fe6f=_0x40a62d['split'](':')[_0xbe2fda(0xd0)](0x0,_0x11e543)[_0xbe2fda(0x33d)](':');if(_0x1bad9f>0x0){let _0x30ce1e=_0x40a62d[_0xbe2fda(0x83d)](':')[_0x11e543],_0x3f4c1d=0xffff<<0x10-_0x1bad9f&0xffff,_0x20c64e=(parseInt(_0x30ce1e,0x10)&_0x3f4c1d)['toString'](0x10)['padStart'](0x4,'0');_0x12fe6f+=':'+_0x20c64e;}this['ipv6Prefix']=_0x12fe6f+':';}catch(_0x1d8781){console['error'](_0xbe2fda(0x63b),_0x1d8781);}}async[a0_0x5a0e1e(0x804)](_0x72723e){const _0x4bfa42=a0_0x5a0e1e;let _0x19a51d=_0x4bfa42(0x497)+_0x72723e+_0x4bfa42(0x404)+this[_0x4bfa42(0x17d)];try{await Ne(_0x19a51d),console[_0x4bfa42(0x6ec)](_0x4bfa42(0x5d4)+_0x72723e);}catch(_0x136448){console[_0x4bfa42(0x685)](_0x4bfa42(0x34a)+_0x136448);}}['randomMac'](){const _0x2fa7d4=a0_0x5a0e1e;return _0x2fa7d4(0x638)[_0x2fa7d4(0x186)](/X/g,()=>_0x2fa7d4(0x2e1)[_0x2fa7d4(0x81c)](Math['floor'](Math['random']()*0x10)));}['ip6eui'](_0x4e77a4,_0x3e17d0){const _0x484d27=a0_0x5a0e1e;let _0xb6dfce=_0x3e17d0[_0x484d27(0x83d)](':');return _0xb6dfce[0x0]=(parseInt(_0xb6dfce[0x0],0x10)^0x2)[_0x484d27(0x6b5)](0x10)[_0x484d27(0x61c)](0x2,'0'),''+_0x4e77a4+_0xb6dfce[0x0]+_0xb6dfce[0x1]+':'+_0xb6dfce[0x2]+_0x484d27(0x4aa)+_0xb6dfce[0x3]+':'+_0xb6dfce[0x4]+_0xb6dfce[0x5];}[a0_0x5a0e1e(0x257)](){const _0x11108b=a0_0x5a0e1e;let _0x437d1e=this['ipv6Prefix'];_0x437d1e[_0x11108b(0x555)](':')||(_0x437d1e+=':');let _0x728bb9=this['randomMac']();return this[_0x11108b(0x150)](_0x437d1e,_0x728bb9);}['isValidIPv6Config'](_0x8228b){const _0x428701=a0_0x5a0e1e;return new RegExp('^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$')[_0x428701(0x733)](_0x8228b);}async[a0_0x5a0e1e(0x2c3)](_0x3e7ed8){const _0x3e22d3=a0_0x5a0e1e;let _0x57559c=[{'url':'https://ipv6.jsonip.com','parse':_0x4da48f=>_0x4da48f['ip']},{'url':_0x3e22d3(0x643),'parse':_0x1ce8af=>_0x1ce8af['ip']},{'url':_0x3e22d3(0x319),'parse':_0x3f6c14=>_0x3f6c14['trim']()},{'url':'https://v6.ident.me','parse':_0x3758e3=>_0x3758e3[_0x3e22d3(0x846)]()}],_0x334b4d=_0x57559c[Math[_0x3e22d3(0x706)](Math['random']()*_0x57559c[_0x3e22d3(0x106)])];try{let _0x45b25d=await $i[_0x3e22d3(0x77c)][_0x3e22d3(0x168)](_0x334b4d['url'],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x3e7ed8}}),_0x4f73cb=_0x334b4d[_0x3e22d3(0x7f0)](_0x45b25d[_0x3e22d3(0x4cf)]);return _0x4f73cb[_0x3e22d3(0x6b3)]()===_0x3e7ed8[_0x3e22d3(0x6b3)]()?(console[_0x3e22d3(0x6ec)]('IP\x20confirmed:\x20'+_0x3e7ed8),!0x0):(console['error'](_0x3e22d3(0x64b)+_0x3e7ed8+_0x3e22d3(0xbd)+_0x4f73cb),!0x1);}catch(_0x3b628e){return console[_0x3e22d3(0x685)](_0x3e22d3(0x751)+_0x334b4d[_0x3e22d3(0x516)]+':\x20'+_0x3b628e[_0x3e22d3(0x3d6)]),!0x1;}}async['createIPv6'](_0x486081,_0x2f8d44){const _0x50b17d=a0_0x5a0e1e;if(!this['ipv6Prefix']||!this['networkInterface'])return console[_0x50b17d(0x685)](_0x50b17d(0x10c)),null;let _0x507a57=await this[_0x50b17d(0x613)]();if(_0x507a57[_0x50b17d(0x106)]>=xs){let _0x31e4d5=_0x507a57[Math['floor'](Math[_0x50b17d(0x4c1)]()*_0x507a57[_0x50b17d(0x106)])];return console['log']('Reusing\x20existing\x20IPv6:\x20'+_0x31e4d5),_0x31e4d5;}let _0x277ca9;do _0x277ca9=this[_0x50b17d(0x257)](),console[_0x50b17d(0x6ec)](_0x50b17d(0x433)+_0x277ca9);while(!this[_0x50b17d(0x2fa)](_0x277ca9));await this[_0x50b17d(0x804)](_0x277ca9),console[_0x50b17d(0x6ec)]('Configured\x20new\x20IPv6:\x20'+_0x277ca9);let _0x3d5da2={'_id':_0x486081+'-'+_0x2f8d44,'ip':_0x277ca9},_0x472d1d=await this[_0x50b17d(0xf9)][_0x50b17d(0x62c)](_0x3d5da2,_0x3d5da2['_id']);return console[_0x50b17d(0x6ec)](_0x50b17d(0x38f)+_0x472d1d),_0x277ca9;}},ko=new Ps(),Le=ko,Us='Safari',xi,de=null,xa=null,Lo=0x3,Fo=null,Ri=S[a0_0x5a0e1e(0x168)]('AUTHENTICATION')[a0_0x5a0e1e(0x798)][a0_0x5a0e1e(0x78f)],Ai=S[a0_0x5a0e1e(0x168)](a0_0x5a0e1e(0x70d));async function Uo(){const _0x53fb92=a0_0x5a0e1e;let _0x3dbfef=await ve[_0x53fb92(0x524)]();de=_0x3dbfef?.[_0x53fb92(0x306)]??null,Fo=_0x3dbfef?.['DaysToDelete']??null,Us=_0x3dbfef?.[_0x53fb92(0x3b5)]??_0x53fb92(0x3a8),xi=_0x3dbfef?.[_0x53fb92(0x46f)]??he??_0x53fb92(0x259);}async function jo(){await Uo();}jo();var Lt={},$e=class u{constructor(_0x1f0b4e,_0x422d22,_0x44fc88){const _0x1ce3b8=a0_0x5a0e1e;this['configService']=_0x1f0b4e,this[_0x1ce3b8(0x246)]=_0x422d22,this[_0x1ce3b8(0x7bc)]=_0x44fc88,this[_0x1ce3b8(0x42e)]={},this['AutomateSystem']=null,this['logger']=new $(u[_0x1ce3b8(0x7e8)]),this[_0x1ce3b8(0x1f6)]={},this[_0x1ce3b8(0x2ec)]={},this[_0x1ce3b8(0x290)]={'state':_0x1ce3b8(0x407)},this[_0x1ce3b8(0x318)]=(0x0,j[_0x1ce3b8(0x33d)])(ne,_0x1ce3b8(0xaa)),this[_0x1ce3b8(0x327)]=new Fs[(_0x1ce3b8(0x77c))](),this[_0x1ce3b8(0x753)]=new Fs['default'](),this[_0x1ce3b8(0x31b)]=!0x1,this['webhookMap']={'status.instance':'/wa-connection-update','connection.update':'/wa-connection-update','qrcode.updated':_0x1ce3b8(0x20e),'messages.upsert':_0x1ce3b8(0x7e1),'send.message':'/wa-message','messages.update':'/wa-message-update','group.upsert':_0x1ce3b8(0x346),'group.update':'/wa-groups','group-participants.update':_0x1ce3b8(0x346),'messages.set':_0x1ce3b8(0x177),'contacts.set':_0x1ce3b8(0x6b9),'contacts.upsert':_0x1ce3b8(0x6b9),'contacts.update':_0x1ce3b8(0x6b9),'presence.update':_0x1ce3b8(0x139),'chats.set':_0x1ce3b8(0x1d4),'chats.update':_0x1ce3b8(0x1d4),'chats.upsert':'/wa-chats','chats.delete':_0x1ce3b8(0x1d4)},this[_0x1ce3b8(0x51e)]=0x0,this[_0x1ce3b8(0x5aa)]=[],this[_0x1ce3b8(0xd9)]=0xea60,this[_0x1ce3b8(0x1c5)]=!0x1,this[_0x1ce3b8(0x41a)]={'chats.upsert':async(_0x510c69,_0x20e295)=>{const _0x5d9c60=_0x1ce3b8;let _0x4feaeb=[];for await(let _0x106be6 of _0x510c69)_0x4feaeb[_0x5d9c60(0x212)]({'_id':_0x106be6['id'],'owner':this[_0x5d9c60(0x1f6)][_0x5d9c60(0x718)],'group':_0x106be6['id'][_0x5d9c60(0x555)](_0x5d9c60(0x430)),'name':_0x106be6[_0x5d9c60(0x7e8)]||_0x106be6['displayName']||null,'contactname':null,'lastmsg':_0x106be6[_0x5d9c60(0x24f)]&&_0x106be6[_0x5d9c60(0x24f)][_0x5d9c60(0x6b5)]()[_0x5d9c60(0x106)]<0xd?_0x106be6[_0x5d9c60(0x24f)]*0x3e8:_0x106be6[_0x5d9c60(0x24f)]||null,'archived':_0x106be6['archived']||!0x1,'unreadcount':_0x106be6['unreadCount']||0x0,'ephemeralExpiration':_0x106be6[_0x5d9c60(0x5ca)]||0x0});this[_0x5d9c60(0x35f)](_0x5d9c60(0x4b4),_0x4feaeb);},'chats.update':async(_0x4ec97b,_0x137715)=>{const _0x22c8c4=_0x1ce3b8;for(let _0x3374af of _0x4ec97b){let _0x38635e={'_id':_0x3374af['id'],'owner':this['instance'][_0x22c8c4(0x718)],'archived':_0x3374af[_0x22c8c4(0x4e2)],'muteEndTime':_0x3374af['muteEndTime'],'ephemeralExpiration':_0x3374af['ephemeralExpiration']},_0x2b8e98=!0x1,_0x392058={};_0x38635e[_0x22c8c4(0x4e2)]!=null&&(this[_0x22c8c4(0x3c2)][_0x22c8c4(0x2eb)](this[_0x22c8c4(0x225)]+'\x20('+this[_0x22c8c4(0x1f6)][_0x22c8c4(0x718)]+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x3374af['id']+_0x22c8c4(0x16b)+_0x3374af[_0x22c8c4(0x4e2)]),_0x2b8e98=!0x0,_0x392058[_0x22c8c4(0x4e2)]=_0x3374af[_0x22c8c4(0x4e2)]),_0x22c8c4(0x6c3)in _0x3374af&&(this['logger'][_0x22c8c4(0x2eb)](this[_0x22c8c4(0x225)]+'\x20('+this[_0x22c8c4(0x1f6)][_0x22c8c4(0x718)]+_0x22c8c4(0x792)+_0x3374af['id']+_0x22c8c4(0x16b)+(_0x3374af[_0x22c8c4(0x6c3)]??'0')),_0x2b8e98=!0x0,_0x392058['muteEndTime']=_0x3374af[_0x22c8c4(0x6c3)]??0x0),_0x22c8c4(0x5ca)in _0x3374af&&(this[_0x22c8c4(0x3c2)]['verbose'](this[_0x22c8c4(0x225)]+'\x20('+this[_0x22c8c4(0x1f6)]['wuid']+_0x22c8c4(0x64a)+_0x3374af['id']+_0x22c8c4(0x16b)+(_0x3374af[_0x22c8c4(0x5ca)]!==void 0x0?_0x3374af[_0x22c8c4(0x5ca)]:_0x22c8c4(0x3bb))),_0x392058[_0x22c8c4(0x5ca)]=_0x3374af['ephemeralExpiration']===null?0x0:_0x3374af['ephemeralExpiration'],_0x2b8e98=!0x0);let _0x286b7b;_0x2b8e98&&(_0x286b7b=await this[_0x22c8c4(0x7bc)]['chat'][_0x22c8c4(0xbb)]({'where':{'_id':_0x3374af['id']}},_0x392058,this[_0x22c8c4(0x1f6)]['wuid'])),_0x286b7b&&F(this['instanceName'],_0x22c8c4(0x522),{'chat':_0x286b7b});}},'chats.delete':async _0x4d27fc=>{const _0x1c5c67=_0x1ce3b8;for(let _0x5c3e26 of _0x4d27fc)if(_0x5c3e26[_0x1c5c67(0x555)](_0x1c5c67(0x430))){await this[_0x1c5c67(0x7bc)][_0x1c5c67(0x6d7)][_0x1c5c67(0x5ab)]({'where':{'_id':_0x5c3e26}},this[_0x1c5c67(0x1f6)][_0x1c5c67(0x718)]);let _0x16079c={'where':{'key':{'remoteJid':_0x5c3e26}}};await this[_0x1c5c67(0x7bc)][_0x1c5c67(0x3d6)][_0x1c5c67(0x5ab)](_0x16079c,this[_0x1c5c67(0x1f6)]['wuid']);}else{await this[_0x1c5c67(0x7bc)][_0x1c5c67(0x6d7)][_0x1c5c67(0xbb)]({'where':{'_id':_0x5c3e26}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x1c5c67(0x718)]);let _0x2f73c3={'where':{'key':{'remoteJid':_0x5c3e26}}};await this['repository']['message'][_0x1c5c67(0x5ab)](_0x2f73c3,this[_0x1c5c67(0x1f6)][_0x1c5c67(0x718)]);}this[_0x1c5c67(0x35f)](_0x1c5c67(0x2d4),[..._0x4d27fc]);}},this[_0x1ce3b8(0x82f)]={'contacts.upsert':async(_0x2135cc,_0x524881)=>{const _0x5b945e=_0x1ce3b8;let _0x4bfe7f=await this['repository'][_0x5b945e(0x4b0)][_0x5b945e(0x174)]({'where':{}},this['instance'][_0x5b945e(0x718)]),_0x374e65=[];for await(let _0x4a0171 of _0x2135cc)_0x4bfe7f[_0x5b945e(0x174)](_0x58a6f9=>_0x58a6f9[_0x5b945e(0x772)]===_0x4a0171['id'])||_0x374e65[_0x5b945e(0x212)]({'_id':_0x4a0171['id'],'pushName':_0x4a0171?.[_0x5b945e(0x7e8)]||_0x4a0171?.[_0x5b945e(0x6fd)],'owner':this['instance']['wuid']});this[_0x5b945e(0x35f)](_0x5b945e(0x46d),_0x374e65),await this[_0x5b945e(0x7bc)][_0x5b945e(0x4b0)][_0x5b945e(0x49e)](_0x374e65);},'contacts.update':async(_0x2b26c2,_0x58aaa1)=>{const _0x2c94b8=_0x1ce3b8;let _0x13ae7b=[];for await(let _0x1a96b7 of _0x2b26c2)_0x13ae7b[_0x2c94b8(0x212)]({'_id':_0x1a96b7['id'],'pushName':_0x1a96b7?.[_0x2c94b8(0x7e8)]??_0x1a96b7?.[_0x2c94b8(0x6fd)],'owner':this[_0x2c94b8(0x1f6)][_0x2c94b8(0x718)]});this[_0x2c94b8(0x35f)](_0x2c94b8(0x807),_0x13ae7b);}},this[_0x1ce3b8(0x485)]={'messaging-history.set':async({messages:_0x4c9fed,chats:_0x3e4daf,isLatest:_0x33ecf4},_0x262f70)=>{const _0xe0dbda=_0x1ce3b8;if(_0x33ecf4){setTimeout(()=>{const _0x14a527=a0_0xc548;this[_0x14a527(0x1f6)][_0x14a527(0x37d)]=!0x0,console[_0x14a527(0x6ec)]('HistoryProcessed\x20definido\x20como\x20true\x20após\x202\x20minutos.');},0x1d4c0);let _0x386003=await Promise[_0xe0dbda(0x722)](_0x3e4daf[_0xe0dbda(0x35d)](async _0x3d40c5=>({'_id':_0x3d40c5['id'],'owner':this['instance'][_0xe0dbda(0x718)],'group':_0x3d40c5['id']['endsWith'](_0xe0dbda(0x430)),'name':_0x3d40c5[_0xe0dbda(0x7e8)]||_0x3d40c5[_0xe0dbda(0x1de)]||_0x3d40c5['username']||null,'contactname':null,'lastmsg':_0x3d40c5[_0xe0dbda(0x24f)]&&_0x3d40c5[_0xe0dbda(0x24f)]['toString']()[_0xe0dbda(0x106)]<0xd?_0x3d40c5[_0xe0dbda(0x24f)]*0x3e8:_0x3d40c5[_0xe0dbda(0x24f)]||null,'archived':_0x3d40c5[_0xe0dbda(0x4e2)]||!0x1,'unreadcount':_0x3d40c5[_0xe0dbda(0x364)]||0x0,'ephemeralExpiration':_0x3d40c5[_0xe0dbda(0x5ca)]||0x0,'muteEndTime':_0x3d40c5[_0xe0dbda(0x6c3)]||0x0})));this[_0xe0dbda(0x35f)]('chats.set',_0x386003),await this[_0xe0dbda(0x2f1)](_0x386003,_0x262f70);}let _0x402050=[],_0x354fcb=Date[_0xe0dbda(0x616)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x2db3e7]of Object['entries'](_0x4c9fed)){if(_0x2db3e7[_0xe0dbda(0x3d6)]?.[_0xe0dbda(0xec)]||_0x2db3e7[_0xe0dbda(0x3d6)]?.[_0xe0dbda(0x281)]||!_0x2db3e7['message']||_0x2db3e7[_0xe0dbda(0x5dc)]['remoteJid']===_0xe0dbda(0x5cf)||(Ls[_0xe0dbda(0x77c)][_0xe0dbda(0xfc)](_0x2db3e7?.[_0xe0dbda(0x6e5)])&&(_0x2db3e7[_0xe0dbda(0x6e5)]=_0x2db3e7[_0xe0dbda(0x6e5)]?.[_0xe0dbda(0x2ad)]()),_0x2db3e7[_0xe0dbda(0x6e5)]&&_0x2db3e7[_0xe0dbda(0x6e5)][_0xe0dbda(0x6b5)]()['length']<0xd&&(_0x2db3e7['messageTimestamp']=_0x2db3e7[_0xe0dbda(0x6e5)]*0x3e8),_0x2db3e7['messageTimestamp']<_0x354fcb))continue;let _0x5ecc70=(0x0,w[_0xe0dbda(0x823)])(_0x2db3e7['message']),_0x1ecd46=(0x0,w[_0xe0dbda(0x3fc)])(_0x5ecc70),{message_normalized:_0x38b373}=this['normalizeMessage'](_0x5ecc70,_0x1ecd46,null);Object['keys'](_0x38b373)[_0xe0dbda(0x106)]>0x0&&_0x402050[_0xe0dbda(0x212)]({'_id':_0x2db3e7['key']['id'],'key':_0x2db3e7['key'],'pushName':_0x2db3e7[_0xe0dbda(0x489)],'participant':_0x2db3e7[_0xe0dbda(0x3ae)],'message':_0x5ecc70,'messageType':_0x1ecd46,'message_normalized':{'key':_0x2db3e7['key'],'pushName':_0x2db3e7['pushName'],'messageTimestamp':_0x2db3e7[_0xe0dbda(0x6e5)],..._0x38b373},'messageTimestamp':_0x2db3e7[_0xe0dbda(0x6e5)],'owner':this[_0xe0dbda(0x1f6)]['wuid']});}_0x262f70[_0xe0dbda(0x160)]&&_0x402050[_0xe0dbda(0x106)]>0x0&&(this[_0xe0dbda(0x3c2)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0xe0dbda(0x718)]+_0xe0dbda(0x693)+_0x402050[_0xe0dbda(0x106)]+_0xe0dbda(0xf2)+this[_0xe0dbda(0x1f6)][_0xe0dbda(0x718)]+_0xe0dbda(0x20c)),await this['repository']['message']['insert']([..._0x402050],this[_0xe0dbda(0x1f6)][_0xe0dbda(0x718)]));let _0x56b2be=Date[_0xe0dbda(0x616)]()-0xa*0x3c*0x3e8;for(let _0x1906b0 of _0x402050)if(this[_0xe0dbda(0x1f6)][_0xe0dbda(0x37d)]&&_0x1906b0[_0xe0dbda(0x6e5)]>=_0x56b2be){if(this['isMessageProcessed'](this[_0xe0dbda(0x1f6)][_0xe0dbda(0x718)],_0x1906b0[_0xe0dbda(0x772)])){this[_0xe0dbda(0x3c2)]['verbose'](this['instanceName']+'\x20('+this[_0xe0dbda(0x1f6)][_0xe0dbda(0x718)]+'):\x20[messaging-history.set]\x20mensagem\x20duplicada\x20ignorada\x20(ID:\x20'+_0x1906b0[_0xe0dbda(0x772)]+')');continue;}this[_0xe0dbda(0x36c)](this[_0xe0dbda(0x1f6)][_0xe0dbda(0x718)],_0x1906b0[_0xe0dbda(0x772)]),this['sendDataWebhook'](_0xe0dbda(0x782),_0x1906b0);}else this[_0xe0dbda(0x35f)](_0xe0dbda(0x128),_0x1906b0);_0x4c9fed=void 0x0;},'messages.upsert':async({messages:_0x15ef17,type:_0x53ffa5},_0x129441)=>{const _0x27f0be=_0x1ce3b8;for(let _0x16bff0 of _0x15ef17){if(this[_0x27f0be(0x2ec)]?.[_0x27f0be(0x180)]&&_0x16bff0[_0x27f0be(0x5dc)][_0x27f0be(0x41b)]['includes'](_0x27f0be(0x430))){this[_0x27f0be(0x3c2)][_0x27f0be(0x2eb)](this[_0x27f0be(0x225)]+'\x20('+this['instance'][_0x27f0be(0x718)]+_0x27f0be(0x464));continue;}if(_0x16bff0[_0x27f0be(0x5dc)][_0x27f0be(0x41b)][_0x27f0be(0x402)](_0x27f0be(0x6c8))||_0x16bff0['key']['remoteJid']===_0x27f0be(0x5cf))continue;if(_0x16bff0[_0x27f0be(0x1f5)]&&_0x16bff0[_0x27f0be(0x1f5)][0x0]===_0x27f0be(0x6ee)){console[_0x27f0be(0x685)](_0x27f0be(0xbf)),await this[_0x27f0be(0x245)](_0x16bff0),Lt[_0x16bff0[_0x27f0be(0x5dc)]['id']]=_0x16bff0,this[_0x27f0be(0x57e)](_0x16bff0,0x0);continue;}if(_0x53ffa5!=='notify'||!_0x16bff0?.[_0x27f0be(0x3d6)]||_0x16bff0[_0x27f0be(0x3d6)]?.['protocolMessage']||_0x16bff0[_0x27f0be(0x3d6)]?.[_0x27f0be(0x281)])continue;let _0x3ad56b=null,_0x1e53fb=null;if(Lt[_0x16bff0[_0x27f0be(0x5dc)]['id']]&&(console[_0x27f0be(0x685)](_0x27f0be(0x253)),await this[_0x27f0be(0x7bc)][_0x27f0be(0x4cd)][_0x27f0be(0x5ab)]({'where':{'_id':_0x16bff0['key']['id']}}),delete Lt[_0x16bff0['key']['id']]),this[_0x27f0be(0x3e7)](this[_0x27f0be(0x1f6)][_0x27f0be(0x718)],_0x16bff0[_0x27f0be(0x5dc)]['id'])){this[_0x27f0be(0x3c2)][_0x27f0be(0x2eb)](this[_0x27f0be(0x225)]+'\x20('+this[_0x27f0be(0x1f6)][_0x27f0be(0x718)]+_0x27f0be(0xc1));continue;}this[_0x27f0be(0x36c)](this['instance']['wuid'],_0x16bff0['key']['id']);try{_0x3ad56b=await this[_0x27f0be(0x7a7)](_0x16bff0),_0x1e53fb=_0x3ad56b?_0x3ad56b[_0x27f0be(0x33d)](','):null;}catch(_0x11936a){this[_0x27f0be(0x3c2)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x27f0be(0x718)]+_0x27f0be(0x693)+(_0x11936a instanceof Error?_0x11936a[_0x27f0be(0x3d6)]:JSON[_0x27f0be(0x265)](_0x11936a,null,0x2))),_0x1e53fb=_0x27f0be(0x4e3);}this['client'][_0x27f0be(0x2ea)]('unavailable'),Ls['default'][_0x27f0be(0xfc)](_0x16bff0[_0x27f0be(0x6e5)])&&(_0x16bff0[_0x27f0be(0x6e5)]=_0x16bff0[_0x27f0be(0x6e5)]?.[_0x27f0be(0x2ad)]()),_0x16bff0[_0x27f0be(0x6e5)]&&_0x16bff0[_0x27f0be(0x6e5)]['toString']()[_0x27f0be(0x106)]<0xd&&(_0x16bff0[_0x27f0be(0x6e5)]=_0x16bff0[_0x27f0be(0x6e5)]*0x3e8);let _0x241a2f=_0x16bff0[_0x27f0be(0x3d6)],_0x20776f=(0x0,w['normalizeMessageContent'])(_0x241a2f),_0xf8ba61=(0x0,w[_0x27f0be(0x3fc)])(_0x20776f),{messageContent:_0x19f0fa,message_normalized:_0x33ae48}=this[_0x27f0be(0x39e)](_0x20776f,_0xf8ba61,_0x1e53fb);if(_0xf8ba61===_0x27f0be(0xec)&&_0x19f0fa?.[_0x27f0be(0x743)]&&(_0xf8ba61='editedMessage'),_0xf8ba61===_0x27f0be(0x179)&&_0x16bff0[_0x27f0be(0x5dc)][_0x27f0be(0x24c)])continue;let _0x5d1266,_0x110644=_0x16bff0[_0x27f0be(0x5dc)][_0x27f0be(0x41b)]['endsWith'](_0x27f0be(0x430));if(_0x16bff0[_0x27f0be(0x5dc)][_0x27f0be(0x24c)])_0x5d1266=this['instance'][_0x27f0be(0x3ed)];else{let _0x3eff22=_0x110644?_0x16bff0[_0x27f0be(0x5dc)][_0x27f0be(0x3ae)]:_0x16bff0['key'][_0x27f0be(0x41b)];_0x5d1266=(await this['findAndUpdateCacheContact'](_0x3eff22,_0x16bff0[_0x27f0be(0x489)],!0x1))[_0x27f0be(0x324)]['pictureUrl'];}let _0x34607e={'_id':_0x16bff0[_0x27f0be(0x5dc)]['id'],'key':_0x16bff0[_0x27f0be(0x5dc)],'isGroup':_0x110644,'profilePictureUrl':_0x5d1266,'pushName':_0x16bff0[_0x27f0be(0x489)],'message':_0x20776f,'messageType':_0xf8ba61,'message_normalized':{'key':_0x16bff0[_0x27f0be(0x5dc)],'pushName':_0x16bff0[_0x27f0be(0x489)],'messageTimestamp':_0x16bff0[_0x27f0be(0x6e5)],'source':(0x0,w[_0x27f0be(0x56f)])(_0x16bff0[_0x27f0be(0x5dc)]['id']),..._0x33ae48},'messageTimestamp':_0x16bff0[_0x27f0be(0x6e5)],'owner':this[_0x27f0be(0x1f6)][_0x27f0be(0x718)],'source':(0x0,w[_0x27f0be(0x56f)])(_0x16bff0[_0x27f0be(0x5dc)]['id']),'expiration':_0x19f0fa?.[_0x27f0be(0x634)]?.['expiration']||0x0};if(!_0x19f0fa){if(_0xf8ba61===_0x27f0be(0x45f))return;this[_0x27f0be(0x3c2)][_0x27f0be(0x685)](_0x27f0be(0x39d)),this[_0x27f0be(0x3c2)]['error'](_0x34607e);}if(_0x33ae48[_0x27f0be(0x80e)]===_0x27f0be(0x1a0)){console[_0x27f0be(0x685)](_0x27f0be(0x13a)),await this[_0x27f0be(0x245)](_0x16bff0);continue;}this[_0x27f0be(0x3c2)]['log'](this['instanceName']+'\x20('+this[_0x27f0be(0x1f6)][_0x27f0be(0x718)]+'):\x20'+(_0x34607e[_0x27f0be(0x5dc)]?.[_0x27f0be(0x24c)]?'enviado\x20para':_0x27f0be(0xaf))+'\x20['+_0x34607e[_0x27f0be(0x5dc)]?.[_0x27f0be(0x41b)][_0x27f0be(0x186)](_0x27f0be(0x6b4),'')+_0x27f0be(0x1ee)+_0x34607e[_0x27f0be(0x12d)]+')'),_0x34607e[_0x27f0be(0x328)]?.[_0x27f0be(0x80e)]&&this['logger']['log'](_0x16bff0['key']['id']+':\x20'+_0x34607e[_0x27f0be(0x328)]?.[_0x27f0be(0x80e)]),await this[_0x27f0be(0x7bc)][_0x27f0be(0x3d6)][_0x27f0be(0x49e)]([_0x34607e],this[_0x27f0be(0x1f6)][_0x27f0be(0x718)]),this[_0x27f0be(0x35f)]('messages.upsert',_0x34607e),F(this[_0x27f0be(0x225)],_0x27f0be(0x45a),{'message':_0x34607e}),_0x16bff0[_0x27f0be(0x5dc)][_0x27f0be(0x41b)]!==_0x27f0be(0x5cf)&&await this[_0x27f0be(0x5e1)](_0x129441,_0x34607e,_0x27f0be(0x6a5));}},'messages.update':async(_0x155b40,_0x36bc7b)=>{const _0x40802d=_0x1ce3b8;let _0x4b67f2={0x0:_0x40802d(0x681),0x1:'PENDING',0x2:'SERVER_ACK',0x3:_0x40802d(0x76c),0x4:_0x40802d(0x46a),0x5:_0x40802d(0xf1)};for await(let {key:_0x2d14c9,update:_0x15b0a7}of _0x155b40){if(this['localWebhook']?.['groups_ignore']&&_0x2d14c9['remoteJid'][_0x40802d(0x402)](_0x40802d(0x430))){this[_0x40802d(0x3c2)][_0x40802d(0x2eb)](this[_0x40802d(0x225)]+'\x20('+this[_0x40802d(0x1f6)][_0x40802d(0x718)]+_0x40802d(0x4d0));return;}if(_0x2d14c9[_0x40802d(0x41b)]!=='status@broadcast'){let _0x4df394=Date[_0x40802d(0x616)](),_0x2313d6;_0x15b0a7['message']===null&&_0x15b0a7[_0x40802d(0x1cc)]===void 0x0?_0x2313d6=_0x40802d(0x3a7):_0x2313d6=_0x4b67f2[_0x15b0a7[_0x40802d(0x1cc)]];let _0x257830=_0x2d14c9[_0x40802d(0x41b)]['replace'](/:\d{1,2}@/g,'@'),_0x528dc8={..._0x2d14c9,'remoteJid':_0x257830,'status':_0x2313d6,'datetime':_0x4df394,'owner':this[_0x40802d(0x1f6)][_0x40802d(0x718)]};this[_0x40802d(0x35f)](_0x40802d(0x614),_0x528dc8),await this[_0x40802d(0x581)](_0x2d14c9,_0x528dc8);}}},'labels.association':async({type:_0x19cca5,association:_0xa79e67})=>{const _0x5018b6=_0x1ce3b8;if(_0xa79e67[_0x5018b6(0x13f)]===_0x5018b6(0x2ce)){let _0x3bf983,_0x3b9bb4=0x0;for(;!_0x3bf983&&_0x3b9bb4<this[_0x5018b6(0x34b)];)_0x3bf983=await this['repository'][_0x5018b6(0x6d7)][_0x5018b6(0x524)]({'where':{'_id':_0xa79e67[_0x5018b6(0xbc)]}},this[_0x5018b6(0x1f6)][_0x5018b6(0x718)]),_0x3bf983||(_0x3b9bb4++,this[_0x5018b6(0x3c2)][_0x5018b6(0x531)](this[_0x5018b6(0x225)]+'\x20('+this[_0x5018b6(0x1f6)][_0x5018b6(0x718)]+_0x5018b6(0x5f9)+_0xa79e67[_0x5018b6(0xbc)]+_0x5018b6(0x587)+this['delayChatLabel_RETRY_DELAY_MS']+_0x5018b6(0x76f)+_0x3b9bb4+'/'+this[_0x5018b6(0x34b)]+')'),await this['delayChatLabel'](this[_0x5018b6(0x78e)]));if(!_0x3bf983){this[_0x5018b6(0x3c2)][_0x5018b6(0x685)]('Falhou\x20ao\x20encontrar\x20chat\x20'+_0xa79e67['chatId']+_0x5018b6(0x3c3)+this[_0x5018b6(0x34b)]+_0x5018b6(0x4e7));return;}switch(_0x19cca5){case _0x5018b6(0x513):console[_0x5018b6(0x6ec)](_0xa79e67),await this[_0x5018b6(0x7bc)][_0x5018b6(0x6d7)][_0x5018b6(0xbb)]({'where':{'_id':_0xa79e67[_0x5018b6(0xbc)]}},{'leadInfo.etiquetas':_0xa79e67[_0x5018b6(0x26c)]},this[_0x5018b6(0x1f6)][_0x5018b6(0x718)],void 0x0,_0x5018b6(0x6b6));break;case _0x5018b6(0x184):console['log'](_0xa79e67),await this[_0x5018b6(0x7bc)][_0x5018b6(0x6d7)][_0x5018b6(0xbb)]({'where':{'_id':_0xa79e67[_0x5018b6(0xbc)]}},{'leadInfo.etiquetas':_0xa79e67[_0x5018b6(0x26c)]},this[_0x5018b6(0x1f6)][_0x5018b6(0x718)],void 0x0,_0x5018b6(0x190));break;default:this[_0x5018b6(0x3c2)][_0x5018b6(0x685)](_0x5018b6(0x441)+_0x19cca5+']');}}},'labels.edit':async _0x4ecaac=>{const _0x1b0c4a=_0x1ce3b8;if(!_0x4ecaac||!_0x4ecaac['id']){this[_0x1b0c4a(0x3c2)][_0x1b0c4a(0x685)](_0x1b0c4a(0x7eb));return;}if(!_0x4ecaac[_0x1b0c4a(0x73b)]){let _0x5704c6=[_0x1b0c4a(0x406),_0x1b0c4a(0x13b),_0x1b0c4a(0x47f),_0x1b0c4a(0x831),_0x1b0c4a(0x1cd),_0x1b0c4a(0x2cc),_0x1b0c4a(0x717),_0x1b0c4a(0x2cd),'#6f7bcf',_0x1b0c4a(0x33c),'#01d0e2','#ffc5c7',_0x1b0c4a(0x6a7),_0x1b0c4a(0x5ea),_0x1b0c4a(0x287),'#83e421','#ffae04','#b4ebff',_0x1b0c4a(0x1e4),'#9568cf'],_0x55e1a5;typeof _0x4ecaac[_0x1b0c4a(0x30a)]==_0x1b0c4a(0x12c)&&_0x4ecaac[_0x1b0c4a(0x30a)]>=0x0&&_0x4ecaac[_0x1b0c4a(0x30a)]<_0x5704c6[_0x1b0c4a(0x106)]?_0x55e1a5=_0x5704c6[_0x4ecaac['color']]:(this[_0x1b0c4a(0x3c2)][_0x1b0c4a(0x685)](_0x1b0c4a(0x21e)+_0x4ecaac[_0x1b0c4a(0x30a)]),_0x55e1a5=_0x1b0c4a(0x794));let _0x5bc143={'_id':_0x4ecaac['id'],'colorHex':_0x55e1a5,'color':_0x4ecaac?.[_0x1b0c4a(0x30a)],'name':_0x4ecaac?.[_0x1b0c4a(0x7e8)],'owner':this[_0x1b0c4a(0x1f6)][_0x1b0c4a(0x718)]};await this['repository'][_0x1b0c4a(0x4f9)][_0x1b0c4a(0xbb)]({'where':{'_id':_0x4ecaac['id']}},_0x5bc143,this[_0x1b0c4a(0x1f6)][_0x1b0c4a(0x718)]),this[_0x1b0c4a(0x3c2)]['info'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1b0c4a(0x285)+_0x4ecaac);}_0x4ecaac[_0x1b0c4a(0x73b)]&&(await this[_0x1b0c4a(0x7bc)]['label']['delete']({'where':{'_id':_0x4ecaac['id']}},this[_0x1b0c4a(0x1f6)][_0x1b0c4a(0x718)]),this[_0x1b0c4a(0x3c2)][_0x1b0c4a(0x531)]('Rótulo\x20deletado:\x27,\x20'+_0x4ecaac['id']));}},this['groupHandler']={'groups.upsert':async _0x36758e=>{const _0x27e479=_0x1ce3b8;this[_0x27e479(0x2ec)]?.[_0x27e479(0x180)]||this['sendDataWebhook'](_0x27e479(0x296),_0x36758e);for(let _0x1dd99b of _0x36758e)await this[_0x27e479(0x77a)](_0x1dd99b);},'groups.update':async _0x5afc04=>{const _0x2a5931=_0x1ce3b8;this[_0x2a5931(0x2ec)]?.[_0x2a5931(0x180)]||this['sendDataWebhook']('groups.update',_0x5afc04);for(let _0x3aa892 of _0x5afc04)await this['updateGroupWebhook'](_0x3aa892);},'group-participants.update':async _0x1cae04=>{const _0x4d1dc2=_0x1ce3b8;this['localWebhook']?.['groups_ignore']||this[_0x4d1dc2(0x35f)](_0x4d1dc2(0x679),_0x1cae04),await this[_0x4d1dc2(0x6e3)](_0x1cae04);}},this[_0x1ce3b8(0x34b)]=0x5,this[_0x1ce3b8(0x78e)]=0x1388,this[_0x1ce3b8(0x6fc)]=0x0,this[_0x1ce3b8(0x7a7)]=async _0x275d92=>{const _0x7837ec=_0x1ce3b8;if(_0x275d92[_0x7837ec(0x3d6)]?.[_0x7837ec(0x16f)]){let _0x30988a=await this['getMessage'](_0x275d92['message']['pollUpdateMessage'][_0x7837ec(0x460)],!0x0);if(_0x30988a){let _0x55d067=_0x30988a['key']['fromMe']?this['instance']['wuid']+_0x7837ec(0x6b4):_0x30988a['key']['participant']||_0x30988a[_0x7837ec(0x5dc)][_0x7837ec(0x41b)],_0x2f7987=_0x30988a['key']['id'],_0x235a57=_0x30988a[_0x7837ec(0x3d6)],_0x557884=Buffer[_0x7837ec(0x6d0)](_0x235a57[_0x7837ec(0x676)]['messageSecret'][_0x7837ec(0x6b5)]('hex'),'hex'),_0x4c4567=(0x0,w[_0x7837ec(0x856)])(_0x275d92[_0x7837ec(0x3d6)][_0x7837ec(0x16f)]['vote'],{'pollCreatorJid':_0x55d067,'pollMsgId':_0x2f7987,'pollEncKey':_0x557884,'voterJid':_0x275d92[_0x7837ec(0x5dc)]['fromMe']?this['instance'][_0x7837ec(0x718)]+'@s.whatsapp.net':_0x275d92[_0x7837ec(0x5dc)][_0x7837ec(0x41b)][_0x7837ec(0x555)](_0x7837ec(0x458))?_0x275d92[_0x7837ec(0x5dc)][_0x7837ec(0x3ae)]:_0x275d92[_0x7837ec(0x5dc)][_0x7837ec(0x41b)]}),_0x2a7d7d=[],_0x94c0ea=_0x4c4567['selectedOptions'][_0x7837ec(0x35d)](_0x2df00a=>Buffer[_0x7837ec(0x6d0)](_0x2df00a)[_0x7837ec(0x6b5)]('hex'));for(let {optionName:_0x1a7cf1}of _0x235a57['pollCreationMessage']?.['options']||_0x235a57[_0x7837ec(0x80b)]?.[_0x7837ec(0x163)]||_0x235a57['pollCreationMessageV2']?.[_0x7837ec(0x163)])_0x94c0ea[_0x7837ec(0x708)]((0x0,w[_0x7837ec(0x2cb)])(Buffer[_0x7837ec(0x6d0)](_0x1a7cf1))[_0x7837ec(0x6b5)](_0x7837ec(0x4ba)))>-0x1&&_0x2a7d7d[_0x7837ec(0x212)](_0x1a7cf1);return _0x2a7d7d;}}return null;},this[_0x1ce3b8(0x39e)]=(_0x316b1e,_0x5c865f,_0x22d940)=>{const _0x48e76d=_0x1ce3b8;try{let _0x3a195d=_0x316b1e?(0x0,w['extractMessageContent'])(_0x316b1e)[_0x5c865f]:void 0x0,_0x42c697={},_0x1cf26e=null,_0x2abdec=null,_0x181955=null,_0x5d0118=null;_0x5c865f===_0x48e76d(0xec)&&_0x3a195d?.['editedMessage']&&(_0x5c865f=(0x0,w[_0x48e76d(0x3fc)])(_0x3a195d[_0x48e76d(0x743)]),_0x1cf26e=_0x316b1e[_0x48e76d(0xec)]['key']['id'],_0x3a195d=_0x316b1e[_0x48e76d(0xec)][_0x48e76d(0x743)][_0x5c865f]),_0x316b1e[_0x5c865f]?.['contextInfo']?.[_0x48e76d(0x436)]&&_0x316b1e[_0x5c865f]?.[_0x48e76d(0x634)]?.[_0x48e76d(0x195)]&&(_0x2abdec=_0x316b1e[_0x5c865f][_0x48e76d(0x634)][_0x48e76d(0x436)]),_0x316b1e[_0x48e76d(0x270)]&&(_0x181955=_0x316b1e[_0x48e76d(0x270)][_0x48e76d(0x5dc)]['id']);let _0x2bfffe;if(_0x3a195d&&typeof _0x3a195d==_0x48e76d(0x698)&&_0x48e76d(0x460)in _0x3a195d&&({pollCreationMessageKey:_0x2bfffe}=_0x3a195d),_0x5c865f===_0x48e76d(0x769)||_0x5c865f==='pollCreationMessageV2'||_0x5c865f===_0x48e76d(0x80b)){let _0x12dd72=_0x3a195d[_0x48e76d(0x163)][_0x48e76d(0x35d)](_0x3ad76a=>_0x3ad76a[_0x48e76d(0x4f5)])['join']('|');_0x42c697[_0x48e76d(0x5ff)]=_0x12dd72;}if(_0x5c865f===_0x48e76d(0x179)){let _0x352dcd=_0x3a195d[_0x48e76d(0x4ae)][_0x48e76d(0x349)][_0x48e76d(0x35d)](_0xa7ddcf=>JSON[_0x48e76d(0x7f0)](_0xa7ddcf[_0x48e76d(0x18a)])[_0x48e76d(0x484)])[_0x48e76d(0x33d)]('|');_0x42c697['convertedOptions']=_0x352dcd;}_0x5c865f==='listResponseMessage'&&(_0x42c697[_0x48e76d(0x4e0)]=_0x3a195d?.[_0x48e76d(0x7cc)]?.[_0x48e76d(0x56c)]);let _0xd0c289='';if(_0x3a195d&&(_0xd0c289+=_0x3a195d[_0x48e76d(0x7e8)]?_0x3a195d[_0x48e76d(0x7e8)]:'',_0xd0c289+=_0x3a195d['caption']?'\x20'+_0x3a195d['caption']:'',_0xd0c289+=_0x3a195d[_0x48e76d(0x45f)]?'\x20'+_0x3a195d['conversation']:'',_0xd0c289+=_0x3a195d[_0x48e76d(0x1de)]?'\x20'+_0x3a195d['displayName']:'',_0x5c865f!==_0x48e76d(0x62a)&&(_0xd0c289+=_0x3a195d[_0x48e76d(0x3cc)]?.['text']?'\x20'+_0x3a195d[_0x48e76d(0x3cc)][_0x48e76d(0x80e)]:''),_0xd0c289+=_0x3a195d?.[_0x48e76d(0x646)]?.[_0x48e76d(0x80e)]?'\x20'+_0x3a195d?.[_0x48e76d(0x646)]?.[_0x48e76d(0x80e)]:''),_0x5c865f===_0x48e76d(0x535)){_0xd0c289=(_0x3a195d[_0x48e76d(0x41e)]||'')+'\x0a'+(_0x3a195d[_0x48e76d(0xc9)]||'')+'\x0a'+(_0x3a195d[_0x48e76d(0x391)]||'');let _0x32b6df=this[_0x48e76d(0x4b1)](_0x3a195d['sections']);_0x42c697['convertedOptions']=_0x32b6df;}if(_0x5c865f===_0x48e76d(0x5e2)&&(_0x22d940=_0x3a195d['title'],_0x5d0118=_0x3a195d?.['singleSelectReply']?.['selectedRowId']),_0x5c865f==='interactiveResponseMessage'){let _0x77682d=_0x3a195d?.[_0x48e76d(0x696)];_0x77682d&&_0x77682d[_0x48e76d(0x7e8)]===_0x48e76d(0x682)&&(_0x5d0118=JSON[_0x48e76d(0x7f0)](_0x77682d[_0x48e76d(0x76d)])['id']),_0x22d940=_0x3a195d?.[_0x48e76d(0x3cc)]?.['text'];}if(_0x5c865f==='templateButtonReplyMessage'&&(_0x22d940=_0x3a195d?.[_0x48e76d(0x1d7)],_0x5d0118=_0x3a195d?.[_0x48e76d(0x56d)]),_0x5c865f===_0x48e76d(0xf5)&&(_0x22d940=_0x3a195d?.[_0x48e76d(0x1d7)],_0x5d0118=_0x3a195d?.[_0x48e76d(0x3cf)]),_0x3a195d&&_0x3a195d['vcard']){let _0x474bec=this['formatVCard'](JSON[_0x48e76d(0x265)](_0x3a195d[_0x48e76d(0x3db)],null,0x2));_0xd0c289=_0xd0c289+'\x0a'+_0x474bec;}if(_0x3a195d){let {selectedButtonId:_0x3257ab,nativeFlowResponseMessage:_0x13db38,selectedId:_0x38696d,selectedDisplayText:_0x1ebca2,selectedIndex:_0xb19ed6,body:_0x3b1ca6,nativeFlowMessage:_0x7535a0,singleSelectReply:_0x2601f7,sections:_0x39cf48,listType:_0x164b68,displayName:_0x4a3602,vcard:_0x3f519f,contactVcard:_0x2c8506,name:_0x3f9509,caption:_0x3930c8,conversation:_0x5946a1,pollCreationMessageKey:_0x8a8867,footerText:_0x548ac8,contentText:_0xec3926,pageCount:_0x3207bd,headerType:_0x743fd,isAvatar:_0x4943d4,isAnimated:_0x1075cc,fallbackLc:_0xc3b115,fallbackLg:_0x32316c,namespace:_0x2b5d6f,elementName:_0x1f8d3b,localizableParams:_0x392144,viewOnce:_0x24d209,height:_0x543ffa,width:_0x1087b9,key:_0x1637ff,firstScanLength:_0x59a27f,firstScanSidecar:_0x595fec,gifPlayback:_0x4f1e40,gifAttribution:_0x7bd5ba,midQualityFileSha256:_0x1be85e,scansSidecar:_0x2db507,streamingSidecar:_0x4b46dd,thumbnailHeight:_0x181ece,thumbnailWidth:_0x2d5ebd,thumbnailEncSha256:_0x320513,thumbnailDirectPath:_0x4e82b8,canonicalUrl:_0x481195,matchedText:_0x49b4fb,previewType:_0x2495f1,thumbnailSha256:_0xcd28ea,deviceListMetadataVersion:_0x183e44,inviteLinkGroupTypeV2:_0x5728ca,interactiveAnnotations:_0x132cb0,scanLengths:_0x4639ab,jpegThumbnail:_0x2b9639,url:_0x2b86c3,mediaKeyTimestamp:_0x472e8b,waveform:_0x5770ef,stickerSentTs:_0x318411,firstFrameLength:_0x9fe97b,fileEncSha256:_0xfd1a93,contextInfo:_0x3ca18f,firstFrameSidecar:_0x139a9c,directPath:_0x34c0cf,fileSha256:_0x526388,mediaKey:_0x2fe9f5,senderTimestampMs:_0xf53197,..._0x305591}=_0x3a195d;(_0x5c865f===_0x48e76d(0x535)||_0x5c865f==='listResponseMessage')&&(delete _0x305591[_0x48e76d(0x41e)],delete _0x305591[_0x48e76d(0xc9)]),typeof _0x3a195d==_0x48e76d(0x539)?_0x42c697={'text':_0x3a195d,'type':_0x5c865f||_0x48e76d(0x45f),..._0x1cf26e&&{'edited':_0x1cf26e},..._0x2abdec&&{'quoted':_0x2abdec},..._0x181955&&{'reaction':_0x181955}}:_0x42c697={'text':_0xd0c289,..._0x305591,..._0x5c865f===_0x48e76d(0x16f)?{'poll_id':_0x3a195d['pollCreationMessageKey']['id'],'quoted':_0x3a195d['pollCreationMessageKey']['id'],'vote':_0x22d940}:{},..._0x5c865f===_0x48e76d(0x5e2)?{'buttonOrList_id':_0x5d0118,'vote':_0x22d940}:{},..._0x5c865f==='interactiveResponseMessage'?{'buttonOrList_id':_0x5d0118,'vote':_0x22d940}:{},..._0x5c865f==='templateButtonReplyMessage'?{'buttonOrList_id':_0x5d0118,'vote':_0x22d940}:{},..._0x5c865f===_0x48e76d(0xf5)?{'buttonOrList_id':_0x5d0118,'vote':_0x22d940}:{},'type':_0x5c865f,..._0x1cf26e&&{'edited':_0x1cf26e},..._0x2abdec&&{'quoted':_0x2abdec},..._0x181955&&{'reaction':_0x181955},...(_0x5c865f===_0x48e76d(0x769)||_0x5c865f===_0x48e76d(0x380)||_0x5c865f==='pollCreationMessageV3'||_0x5c865f===_0x48e76d(0x535)||_0x5c865f===_0x48e76d(0x179))&&{'convertedOptions':_0x42c697[_0x48e76d(0x5ff)]}};}return{'messageType':_0x5c865f,'messageContent':_0x3a195d,'message_normalized':_0x42c697};}catch(_0x49e16d){return this[_0x48e76d(0x3c2)][_0x48e76d(0x685)](_0x48e76d(0x6ca)+_0x49e16d),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this['pendingMessages']=[],(this[_0x1ce3b8(0x1f2)](),this['initializeQueue'](),this['instance'][_0x1ce3b8(0x37d)]=!0x0,this[_0x1ce3b8(0x1f6)][_0x1ce3b8(0x1ae)]={'count':0x0},this[_0x1ce3b8(0x1f6)]['ScheduleMessage']={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}[a0_0x5a0e1e(0x36c)](_0x6420e6,_0x4b100b){const _0x128af8=a0_0x5a0e1e;this[_0x128af8(0x42e)][_0x6420e6]||(this['processedMessagesCache'][_0x6420e6]=new Set()),this[_0x128af8(0x42e)][_0x6420e6][_0x128af8(0x513)](_0x4b100b),setTimeout(()=>this[_0x128af8(0x42e)][_0x6420e6][_0x128af8(0x5ab)](_0x4b100b),0x2710);}['isMessageProcessed'](_0x137830,_0x368c77){const _0x4ed4a2=a0_0x5a0e1e;return this[_0x4ed4a2(0x42e)][_0x137830]?.[_0x4ed4a2(0x50b)](_0x368c77)??!0x1;}set['instanceName'](_0x254e99){const _0x1f384c=a0_0x5a0e1e;if(!_0x254e99){this[_0x1f384c(0x1f6)][_0x1f384c(0x7e8)]=(0x0,Ti['v4'])();return;}this[_0x1f384c(0x1f6)]['name']=_0x254e99,this['sendDataWebhook'](_0x1f384c(0x741),{'instance':this['instance']['name'],'status':_0x1f384c(0x164)});}get[a0_0x5a0e1e(0x225)](){const _0x9f7022=a0_0x5a0e1e;return this[_0x9f7022(0x1f6)]['name'];}get[a0_0x5a0e1e(0x718)](){const _0x5b1a6b=a0_0x5a0e1e;return this[_0x5b1a6b(0x1f6)][_0x5b1a6b(0x718)];}async[a0_0x5a0e1e(0x5e7)](){const _0x428426=a0_0x5a0e1e;let _0x488ac1=this[_0x428426(0x30c)][_0x428426(0x562)]?.[_0x428426(0x7e8)]??this[_0x428426(0x30c)][_0x428426(0x562)]?.[_0x428426(0x6fd)];if(!_0x488ac1){if(this[_0x428426(0x1e5)][_0x428426(0x168)](_0x428426(0x3ad))[_0x428426(0x160)]){let _0x306b14=await T['getClient']()['db'](this[_0x428426(0x1e5)][_0x428426(0x168)](_0x428426(0x3ad))['CONNECTION'][_0x428426(0x668)]+_0x428426(0x6db))['collection'](this[_0x428426(0x225)])[_0x428426(0x524)]({'_id':_0x428426(0x3ea)});if(_0x306b14){let _0x5010f4=JSON[_0x428426(0x7f0)](JSON[_0x428426(0x265)](_0x306b14),w['BufferJSON']['reviver']);_0x488ac1=_0x5010f4['me']?.[_0x428426(0x7e8)]||_0x5010f4['me']?.[_0x428426(0x6fd)];}}else{if((0x0,Fe[_0x428426(0x82d)])((0x0,j[_0x428426(0x33d)])(be,this[_0x428426(0x225)],_0x428426(0x744)))){let _0x51d1cf=JSON[_0x428426(0x7f0)]((0x0,Fe[_0x428426(0x651)])((0x0,j['join'])(be,this[_0x428426(0x225)],_0x428426(0x744)),{'encoding':'utf-8'}));_0x488ac1=_0x51d1cf['me']?.[_0x428426(0x7e8)]||_0x51d1cf['me']?.[_0x428426(0x6fd)];}}}return _0x488ac1;}get[a0_0x5a0e1e(0x3ed)](){const _0x2a4747=a0_0x5a0e1e;return this[_0x2a4747(0x1f6)]['profilePictureUrl'];}async['isBusinessInstance'](){const _0x2539f7=a0_0x5a0e1e;let _0x13883b=this[_0x2539f7(0x1f6)][_0x2539f7(0x718)]+'@s.whatsapp.net';try{await this['client'][_0x2539f7(0x143)](_0x13883b)?this['instance'][_0x2539f7(0x4d1)]=!0x0:this[_0x2539f7(0x1f6)]['isBusiness']=!0x1;}catch{this['instance'][_0x2539f7(0x4d1)]=!0x1;}return this[_0x2539f7(0x3c2)][_0x2539f7(0x531)](this[_0x2539f7(0x225)]+'\x20('+this[_0x2539f7(0x1f6)][_0x2539f7(0x718)]+_0x2539f7(0x53f)+this[_0x2539f7(0x1f6)][_0x2539f7(0x4d1)]),this[_0x2539f7(0x1f6)][_0x2539f7(0x4d1)];}get[a0_0x5a0e1e(0x828)](){const _0x371c82=a0_0x5a0e1e;return this[_0x371c82(0x1f6)][_0x371c82(0x37d)]=!0x1,this[_0x371c82(0x1f6)]['qrcode']?.[_0x371c82(0x1b7)]?{'pairingCode':this[_0x371c82(0x1f6)][_0x371c82(0x1ae)]?.[_0x371c82(0x1b7)]}:{'code':this[_0x371c82(0x1f6)][_0x371c82(0x1ae)]?.['code'],'base64':this[_0x371c82(0x1f6)]['qrcode']?.[_0x371c82(0x6a4)]};}async[a0_0x5a0e1e(0x109)](){const _0x5befc7=a0_0x5a0e1e;let _0x573942=await this[_0x5befc7(0x7bc)][_0x5befc7(0x3f4)][_0x5befc7(0x174)](this[_0x5befc7(0x225)]);this[_0x5befc7(0x2ec)][_0x5befc7(0x516)]=_0x573942?.[_0x5befc7(0x516)],this[_0x5befc7(0x2ec)][_0x5befc7(0x47e)]=_0x573942?.[_0x5befc7(0x47e)],this[_0x5befc7(0x2ec)][_0x5befc7(0x6fa)]=_0x573942?.['local_map'],this['localWebhook'][_0x5befc7(0x783)]=_0x573942?.['STATUS_INSTANCE'],this[_0x5befc7(0x2ec)][_0x5befc7(0x2a6)]=_0x573942?.[_0x5befc7(0x2a6)],this['localWebhook'][_0x5befc7(0x472)]=_0x573942?.[_0x5befc7(0x472)],this['localWebhook'][_0x5befc7(0x6a5)]=_0x573942?.[_0x5befc7(0x6a5)],this[_0x5befc7(0x2ec)][_0x5befc7(0x121)]=_0x573942?.[_0x5befc7(0x121)],this[_0x5befc7(0x2ec)][_0x5befc7(0x444)]=_0x573942?.[_0x5befc7(0x444)],this[_0x5befc7(0x2ec)]['GROUPS_UPDATE']=_0x573942?.[_0x5befc7(0x4f2)],this[_0x5befc7(0x2ec)][_0x5befc7(0x427)]=_0x573942?.['GROUP_PARTICIPANTS_UPDATE'],this[_0x5befc7(0x2ec)][_0x5befc7(0x314)]=_0x573942?.['CHATS_SET'],this[_0x5befc7(0x2ec)][_0x5befc7(0x2bc)]=_0x573942?.[_0x5befc7(0x2bc)],this[_0x5befc7(0x2ec)][_0x5befc7(0x199)]=_0x573942?.['CHATS_UPDATE'],this[_0x5befc7(0x2ec)][_0x5befc7(0x6ed)]=_0x573942?.[_0x5befc7(0x6ed)],this[_0x5befc7(0x2ec)][_0x5befc7(0x66c)]=_0x573942?.[_0x5befc7(0x66c)],this['localWebhook']['CONTACTS_UPSERT']=_0x573942?.[_0x5befc7(0xf4)],this[_0x5befc7(0x2ec)][_0x5befc7(0x625)]=_0x573942?.[_0x5befc7(0x625)],this[_0x5befc7(0x2ec)][_0x5befc7(0x657)]=_0x573942?.['PRESENCE_UPDATE'],this[_0x5befc7(0x2ec)][_0x5befc7(0x527)]=_0x573942?.['MESSAGES_SET'],this[_0x5befc7(0x2ec)][_0x5befc7(0x4c5)]=_0x573942?.[_0x5befc7(0x4c5)],this[_0x5befc7(0x2ec)][_0x5befc7(0x180)]=_0x573942?.[_0x5befc7(0x180)];}async[a0_0x5a0e1e(0x399)](_0x4a3bfc){const _0x403ddd=a0_0x5a0e1e;let _0x2272d5=[_0x403ddd(0x772),_0x403ddd(0x516),_0x403ddd(0x47e),_0x403ddd(0x6fa),_0x403ddd(0x783),_0x403ddd(0x2a6),_0x403ddd(0x121),_0x403ddd(0x6a5),_0x403ddd(0x472),_0x403ddd(0x444),'GROUPS_UPDATE',_0x403ddd(0x427),_0x403ddd(0x314),'CHATS_UPSERT',_0x403ddd(0x199),_0x403ddd(0x6ed),_0x403ddd(0x66c),_0x403ddd(0xf4),_0x403ddd(0x625),'PRESENCE_UPDATE',_0x403ddd(0x527),_0x403ddd(0x4c5),_0x403ddd(0x180)],_0xe54527={};return _0x2272d5[_0x403ddd(0x3a6)](_0x2bce39=>{_0x4a3bfc[_0x2bce39]!==void 0x0&&(_0xe54527[_0x2bce39]=_0x4a3bfc[_0x2bce39]);}),_0xe54527[_0x403ddd(0x516)]&&(_0xe54527['url']=_0xe54527['url'][_0x403ddd(0x846)]()),await this['repository']['webhook']['create'](_0xe54527,this[_0x403ddd(0x225)]),Object[_0x403ddd(0xfe)](this['localWebhook'],_0xe54527),await this[_0x403ddd(0x7bc)][_0x403ddd(0x3f4)][_0x403ddd(0x174)](this[_0x403ddd(0x225)]);}async['findWebhook'](){const _0x5d4b36=a0_0x5a0e1e;return await this[_0x5d4b36(0x7bc)]['webhook'][_0x5d4b36(0x174)](this[_0x5d4b36(0x225)]);}async[a0_0x5a0e1e(0x35f)](_0x2c4269,_0x2f0770){const _0x2409d5=a0_0x5a0e1e;let _0x287134=_0x2c4269[_0x2409d5(0x186)](/[\.-]/gm,'_')[_0x2409d5(0x49a)](),_0x15fe98=this[_0x2409d5(0x2ec)][_0x2409d5(0x47e)]&&(0x0,J[_0x2409d5(0x291)])(this['localWebhook'][_0x2409d5(0x516)])?this['localWebhook']['url']+(this['localWebhook']['local_map']?this[_0x2409d5(0x1cb)][_0x2c4269]:''):null,_0x320b5d=this[_0x2409d5(0x2ec)][_0x287134],_0x34fe28=de&&de['enabled']&&(0x0,J[_0x2409d5(0x291)])(de['url'])?de['url']+(de[_0x2409d5(0x6fa)]?this[_0x2409d5(0x1cb)][_0x2c4269]:''):null,_0x5cfa96=de?de[_0x287134]:null;if(_0x320b5d&&_0x15fe98)try{await K[_0x2409d5(0x77c)]['create']({'baseURL':_0x15fe98})[_0x2409d5(0x7c3)]('',{'event':_0x2c4269,'instance':this['instance'][_0x2409d5(0x7e8)],'apikey':this[_0x2409d5(0x1f6)][_0x2409d5(0x4ed)],'data':_0x2f0770}),this[_0x2409d5(0x3c2)][_0x2409d5(0x6ec)](this[_0x2409d5(0x225)]+'\x20('+this[_0x2409d5(0x1f6)][_0x2409d5(0x718)]+_0x2409d5(0x5a3)+_0x2c4269+':\x20'+_0x15fe98);}catch{this[_0x2409d5(0x3c2)][_0x2409d5(0x685)](this[_0x2409d5(0x225)]+'\x20('+this[_0x2409d5(0x1f6)]['wuid']+_0x2409d5(0x2a9)+_0x2c4269+':\x20'+_0x15fe98);}if(_0x5cfa96&&_0x34fe28)try{await K[_0x2409d5(0x77c)]['create']({'baseURL':_0x34fe28})[_0x2409d5(0x7c3)]('',{'event':_0x2c4269,'instance':this[_0x2409d5(0x1f6)][_0x2409d5(0x7e8)],'apikey':this[_0x2409d5(0x1f6)][_0x2409d5(0x4ed)],'data':_0x2f0770}),this[_0x2409d5(0x3c2)][_0x2409d5(0x6ec)](this[_0x2409d5(0x225)]+'\x20('+this[_0x2409d5(0x1f6)][_0x2409d5(0x718)]+'):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x2c4269+':\x20'+_0x34fe28);}catch{this[_0x2409d5(0x3c2)]['error'](this[_0x2409d5(0x225)]+'\x20('+this[_0x2409d5(0x1f6)][_0x2409d5(0x718)]+_0x2409d5(0x31a)+_0x2c4269+':\x20'+_0x34fe28);}}async[a0_0x5a0e1e(0x7ed)]({qr:_0x5b929d,connection:_0x174c1a,lastDisconnect:_0xc67c05}){const _0x18cfd2=a0_0x5a0e1e;if(_0x5b929d){if(this[_0x18cfd2(0x1f6)]['qrcode']['count']===Lo)return this[_0x18cfd2(0x35f)](_0x18cfd2(0x264),{'message':_0x18cfd2(0x69a),'statusCode':w[_0x18cfd2(0x2dc)][_0x18cfd2(0x51f)]}),this[_0x18cfd2(0x290)]={'state':_0x18cfd2(0x382),'statusReason':w['DisconnectReason'][_0x18cfd2(0x57a)]},this[_0x18cfd2(0x35f)](_0x18cfd2(0x3e3),{'instance':this[_0x18cfd2(0x1f6)][_0x18cfd2(0x7e8)],...this[_0x18cfd2(0x290)]}),this[_0x18cfd2(0x35f)](_0x18cfd2(0x741),{'instance':this[_0x18cfd2(0x1f6)][_0x18cfd2(0x7e8)],'status':_0x18cfd2(0x821)}),this[_0x18cfd2(0x7bc)][_0x18cfd2(0x2a0)][_0x18cfd2(0x5ab)](this[_0x18cfd2(0x1f6)][_0x18cfd2(0x7e8)]),this[_0x18cfd2(0x31b)]=!0x0,this[_0x18cfd2(0x246)][_0x18cfd2(0x6d9)]('no.connection',this[_0x18cfd2(0x1f6)]['name']);this[_0x18cfd2(0x1f6)][_0x18cfd2(0x1ae)]['count']++;let _0x11dde5={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x18cfd2(0x6c9),'dark':_0x18cfd2(0x794)}};Ii[_0x18cfd2(0x77c)][_0x18cfd2(0x426)](_0x5b929d,_0x11dde5,(_0x5e088d,_0x5d75d0)=>{const _0x3318e5=_0x18cfd2;if(_0x5e088d){this[_0x3318e5(0x3c2)][_0x3318e5(0x685)](this[_0x3318e5(0x225)]+'\x20('+this[_0x3318e5(0x1f6)][_0x3318e5(0x718)]+_0x3318e5(0x641)+(_0x5e088d instanceof Error?_0x5e088d[_0x3318e5(0x3d6)]:JSON[_0x3318e5(0x265)](_0x5e088d,null,0x2)));return;}this[_0x3318e5(0x1f6)][_0x3318e5(0x1ae)][_0x3318e5(0x6a4)]=_0x5d75d0,this[_0x3318e5(0x1f6)][_0x3318e5(0x1ae)]['code']=_0x5b929d,!this[_0x3318e5(0x776)]&&this['sendDataWebhook'](_0x3318e5(0x264),{'qrcode':{'instance':this[_0x3318e5(0x1f6)]['name'],'pairingCode':this[_0x3318e5(0x1f6)]['qrcode'][_0x3318e5(0x1b7)],'code':_0x5b929d,'base64':_0x5d75d0}});}),this[_0x18cfd2(0x776)]?this[_0x18cfd2(0x1f6)][_0x18cfd2(0x1ae)][_0x18cfd2(0x1b7)]||(await(0x0,w[_0x18cfd2(0x1f4)])(0x7d0),this['instance'][_0x18cfd2(0x1ae)][_0x18cfd2(0x1b7)]=await this['client'][_0x18cfd2(0x61d)](this[_0x18cfd2(0x776)])):this['instance'][_0x18cfd2(0x1ae)][_0x18cfd2(0x1b7)]=null,_i[_0x18cfd2(0x77c)]['generate'](_0x5b929d,{'small':!0x0},_0x35662a=>this[_0x18cfd2(0x3c2)]['log'](_0x18cfd2(0xba)+this[_0x18cfd2(0x1f6)]['name']+_0x18cfd2(0x411)+this[_0x18cfd2(0x1f6)][_0x18cfd2(0x1ae)][_0x18cfd2(0x78c)]+',\x20pairCode:\x20'+this[_0x18cfd2(0x1f6)][_0x18cfd2(0x1ae)]['pairingCode']+_0x18cfd2(0x2d9)+_0x35662a));}if(_0x174c1a&&(this[_0x18cfd2(0x290)]={'state':_0x174c1a,'statusReason':_0xc67c05?.[_0x18cfd2(0x685)]?.[_0x18cfd2(0x28b)]?.[_0x18cfd2(0x2fd)]??0xc8},this[_0x18cfd2(0x35f)]('connection.update',{'instance':this[_0x18cfd2(0x1f6)]['name'],...this['stateConnection']})),_0x174c1a===_0x18cfd2(0x407)){if(_0xc67c05[_0x18cfd2(0x685)]?.[_0x18cfd2(0x28b)]?.[_0x18cfd2(0x2fd)]!==w[_0x18cfd2(0x2dc)][_0x18cfd2(0x7b3)]&&(this['reconnectAttempts']<0x21||this[_0x18cfd2(0x1f6)]['ScheduleMessage'][_0x18cfd2(0x372)])){this['reconnectAttempts']++,this[_0x18cfd2(0x5aa)][_0x18cfd2(0x212)](Date[_0x18cfd2(0x616)]()),this[_0x18cfd2(0x5aa)]=this['reconnectTimestamps'][_0x18cfd2(0x736)](_0x3e4b53=>Date[_0x18cfd2(0x616)]()-_0x3e4b53<this['RECONNECT_TIME_FRAME']);let _0x26dffd=this[_0x18cfd2(0x51e)]<=0x1?0x0:Math[_0x18cfd2(0x268)](Math[_0x18cfd2(0x6a0)](0x2,this[_0x18cfd2(0x51e)]-0x1)*0x3e8,0x493e0);console[_0x18cfd2(0x6ec)](this[_0x18cfd2(0x225)]+_0x18cfd2(0x544)+this[_0x18cfd2(0x51e)]+_0x18cfd2(0x20f)+_0x26dffd/0x3e8+_0x18cfd2(0x51b)),await new Promise(_0x7362d=>setTimeout(_0x7362d,_0x26dffd)),console['log'](_0x18cfd2(0x5c1)),await this[_0x18cfd2(0x654)]();}else{this[_0x18cfd2(0x35f)]('status.instance',{'instance':this[_0x18cfd2(0x1f6)][_0x18cfd2(0x7e8)],'status':'removed'}),this[_0x18cfd2(0x1f6)]['ScheduleMessage'][_0x18cfd2(0x372)]=!0x1,this[_0x18cfd2(0x7bc)]['webhook'][_0x18cfd2(0x5ab)](this[_0x18cfd2(0x225)]),this[_0x18cfd2(0x7bc)][_0x18cfd2(0x2a0)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0x18cfd2(0x616)]()},this[_0x18cfd2(0x1f6)][_0x18cfd2(0x7e8)]);try{this[_0x18cfd2(0x3c2)][_0x18cfd2(0x2eb)](this[_0x18cfd2(0x225)]+'\x20('+this[_0x18cfd2(0x1f6)]['wuid']+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x402bb5=await this[_0x18cfd2(0x7bc)][_0x18cfd2(0x3d6)]['deleteAll'](this[_0x18cfd2(0x1f6)][_0x18cfd2(0x718)]);_0x402bb5[_0x18cfd2(0x288)]?this['logger'][_0x18cfd2(0x2eb)](this[_0x18cfd2(0x225)]+'\x20('+this['instance'][_0x18cfd2(0x718)]+_0x18cfd2(0x802)):this['logger']['error'](_0x18cfd2(0x750)+_0x402bb5[_0x18cfd2(0x685)]);}catch(_0x1188fd){this[_0x18cfd2(0x3c2)][_0x18cfd2(0x685)](_0x18cfd2(0x2a3)+_0x1188fd[_0x18cfd2(0x3d6)]);}this['instance']['ScheduleMessage'][_0x18cfd2(0x478)]!==null&&(this['logger']['verbose'](this[_0x18cfd2(0x225)]+'\x20('+this[_0x18cfd2(0x1f6)][_0x18cfd2(0x718)]+_0x18cfd2(0x5f2)),clearInterval(this[_0x18cfd2(0x1f6)][_0x18cfd2(0x5a6)][_0x18cfd2(0x478)]),this['instance'][_0x18cfd2(0x5a6)][_0x18cfd2(0x478)]=null),this[_0x18cfd2(0x3c2)]['verbose'](this[_0x18cfd2(0x225)]+'\x20('+this[_0x18cfd2(0x1f6)]['wuid']+'):\x20Limpando\x20AutomateSystem'),this[_0x18cfd2(0x1ec)]=null,this[_0x18cfd2(0x246)][_0x18cfd2(0x6d9)](_0x18cfd2(0x63a),this[_0x18cfd2(0x1f6)][_0x18cfd2(0x7e8)],_0x18cfd2(0x74d)),this[_0x18cfd2(0x30c)]?.['ws']?.[_0x18cfd2(0x407)](),this[_0x18cfd2(0x30c)][_0x18cfd2(0x417)](new Error(_0x18cfd2(0x2ef)));}}if(_0x174c1a===_0x18cfd2(0x4f8)){this['logger'][_0x18cfd2(0x16e)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x18cfd2(0x442)+this[_0x18cfd2(0x30c)]['authState'][_0x18cfd2(0x3ea)]?.[_0x18cfd2(0x568)]),this[_0x18cfd2(0x30c)][_0x18cfd2(0x499)][_0x18cfd2(0x3ea)]?.[_0x18cfd2(0x568)]||(this[_0x18cfd2(0x3c2)][_0x18cfd2(0x16e)](this[_0x18cfd2(0x225)]+'\x20('+this[_0x18cfd2(0x1f6)][_0x18cfd2(0x718)]+'):\x20ev.flush\x20realizado'),this[_0x18cfd2(0x30c)]['ev']['flush']()),this[_0x18cfd2(0x231)],this[_0x18cfd2(0x1f6)][_0x18cfd2(0x718)]=this['client'][_0x18cfd2(0x562)]['id']['replace'](/:\d+/,'')[_0x18cfd2(0x186)](_0x18cfd2(0x6b4),''),this[_0x18cfd2(0x1f6)][_0x18cfd2(0x3ed)]=(await this[_0x18cfd2(0xf7)](this[_0x18cfd2(0x1f6)]['wuid']+_0x18cfd2(0x6b4)))[_0x18cfd2(0x3ed)],this['repository'][_0x18cfd2(0x2a0)]['create']({'online':!0x0,'owner':this[_0x18cfd2(0x1f6)][_0x18cfd2(0x718)],'lastDisconnect':null},this[_0x18cfd2(0x1f6)][_0x18cfd2(0x7e8)]);let _0x6adc34=_0x18cfd2(0x1b0)+this[_0x18cfd2(0x1f6)][_0x18cfd2(0x718)],_0x3fdf51=0x28,_0x20c6e4=Math[_0x18cfd2(0x706)]((_0x3fdf51-_0x6adc34['length'])/0x2),_0x37dc31='\x20'['repeat'](_0x20c6e4),_0x8a93f5=_0x18cfd2(0x6e7),_0x457aca='Instância:\x20'+this[_0x18cfd2(0x1f6)][_0x18cfd2(0x7e8)],_0x524c27=(''+_0x37dc31+_0x6adc34+_0x37dc31)[_0x18cfd2(0xe0)](_0x3fdf51,'\x20'),_0x2853be=(''+_0x37dc31+_0x8a93f5+_0x37dc31)[_0x18cfd2(0xe0)](_0x3fdf51,'\x20'),_0x59c483=(''+_0x37dc31+_0x457aca+_0x37dc31)[_0x18cfd2(0xe0)](_0x3fdf51,'\x20'),_0x2b1ef2=Math['max'](_0x524c27[_0x18cfd2(0x106)],_0x2853be[_0x18cfd2(0x106)],_0x59c483['length']),_0x14ea7d=_0x524c27['padEnd'](_0x2b1ef2,'\x20'),_0x4c58da=_0x2853be[_0x18cfd2(0xe0)](_0x2b1ef2,'\x20'),_0x535ae9=_0x59c483[_0x18cfd2(0xe0)](_0x2b1ef2,'\x20');this[_0x18cfd2(0x3c2)][_0x18cfd2(0x531)]((_0x18cfd2(0x536)+'─'[_0x18cfd2(0x5e9)](_0x2b1ef2)+_0x18cfd2(0x227)+_0x4c58da+_0x18cfd2(0x449)+_0x535ae9+_0x18cfd2(0x449)+_0x14ea7d+_0x18cfd2(0x206)+'─'[_0x18cfd2(0x5e9)](_0x2b1ef2)+'┘')[_0x18cfd2(0x186)](/^ +/gm,'\x20\x20')),this[_0x18cfd2(0x62f)](),this['instance'][_0x18cfd2(0x5a6)][_0x18cfd2(0x372)]=!0x0;}}[a0_0x5a0e1e(0x231)](){const _0x2f9411=a0_0x5a0e1e;this[_0x2f9411(0x51e)]=0x0,this[_0x2f9411(0x5aa)]=[];}async[a0_0x5a0e1e(0x1e9)](_0x7c88aa,_0x257c33=!0x1){const _0x14906a=a0_0x5a0e1e;try{let _0x54bff=await this[_0x14906a(0x7bc)]['message'][_0x14906a(0x174)]({'where':{'_id':_0x7c88aa['id']}},this['instance'][_0x14906a(0x718)]);return _0x257c33?_0x54bff[0x0]:_0x54bff[0x0][_0x14906a(0x3d6)];}catch{return{'conversation':''};}}['cleanStore'](){const _0x292d19=a0_0x5a0e1e;let _0x462aaf=this[_0x292d19(0x1e5)][_0x292d19(0x168)](_0x292d19(0x344)),_0x1c7c04=this[_0x292d19(0x1e5)]['get'](_0x292d19(0x3ad));_0x462aaf?.[_0x292d19(0x6cc)]&&!_0x1c7c04['ENABLED']&&setInterval(()=>{const _0x22670b=_0x292d19;try{for(let [_0x13bbb9,_0x1b90b0]of Object[_0x22670b(0x822)](_0x462aaf))_0x1b90b0===!0x0&&(0x0,Ue[_0x22670b(0x22b)])('rm\x20-rf\x20'+(0x0,j[_0x22670b(0x33d)])(this[_0x22670b(0x318)],_0x13bbb9['toLowerCase'](),this[_0x22670b(0x1f6)][_0x22670b(0x718)])+_0x22670b(0x550));}catch{}},(_0x462aaf?.[_0x292d19(0x6cc)]??0xe10)*0x3e8);}async[a0_0x5a0e1e(0x1f3)](){const _0x28e0ad=a0_0x5a0e1e;let _0x497907=this[_0x28e0ad(0x1e5)][_0x28e0ad(0x168)](_0x28e0ad(0x3ad)),_0x449d56=this[_0x28e0ad(0x1e5)][_0x28e0ad(0x168)](_0x28e0ad(0x5ce));return _0x449d56?.['ENABLED']?await Os(_0x449d56,this[_0x28e0ad(0x1f6)][_0x28e0ad(0x7e8)]):_0x497907['ENABLED']?await _s(this['instance'][_0x28e0ad(0x7e8)]):await(0x0,w[_0x28e0ad(0x202)])((0x0,j[_0x28e0ad(0x33d)])(be,this[_0x28e0ad(0x1f6)][_0x28e0ad(0x7e8)]));}async['AutomateFunctions'](){const _0x37c918=a0_0x5a0e1e;let _0x5e3646=()=>Math[_0x37c918(0x706)](Math[_0x37c918(0x4c1)]()*0x4e21)+0x7d0,_0x2028ca=async()=>{const _0x33451c=_0x37c918;if(!this['instance'][_0x33451c(0x5a6)][_0x33451c(0x372)]){this[_0x33451c(0x3c2)][_0x33451c(0x2eb)](this['instanceName']+'\x20('+this[_0x33451c(0x1f6)][_0x33451c(0x718)]+_0x33451c(0x7a5)),this['isRunning']=!0x1;return;}if(this['instance'][_0x33451c(0x718)]&&this[_0x33451c(0x1ec)]&&this[_0x33451c(0x1f6)][_0x33451c(0x5a6)]['delayMessage']!==null&&this[_0x33451c(0x1f6)][_0x33451c(0x5a6)]['delayMessage']!==void 0x0){let _0x38cb0a=Math[_0x33451c(0x7ea)](this['instance'][_0x33451c(0x5a6)]['delayMessage']/0xea60);this['logger'][_0x33451c(0x2eb)](this['instanceName']+'\x20('+this[_0x33451c(0x1f6)][_0x33451c(0x718)]+_0x33451c(0x7de)+_0x38cb0a+_0x33451c(0x606)),this[_0x33451c(0x1c5)]=!0x1;return;}else this[_0x33451c(0x1f6)]['wuid']&&(this[_0x33451c(0x3c2)]['verbose'](this['instanceName']+'\x20('+this[_0x33451c(0x1f6)][_0x33451c(0x718)]+_0x33451c(0x251)),this[_0x33451c(0x1ec)]||(await this[_0x33451c(0x7d4)](),this[_0x33451c(0x65e)](),this[_0x33451c(0x258)]()),(this['instance'][_0x33451c(0x5a6)]['delayMessage']===null||this[_0x33451c(0x1f6)]['ScheduleMessage']['delayMessage']===void 0x0)&&await this[_0x33451c(0x60d)]());if(this[_0x33451c(0x1c5)]){let _0x5133a4=_0x5e3646();this['logger'][_0x33451c(0x2eb)](this[_0x33451c(0x225)]+_0x33451c(0x594)+_0x5133a4/0x3e8+_0x33451c(0xe4)),setTimeout(_0x2028ca,_0x5133a4);}};if(this[_0x37c918(0x1c5)])return;this['isRunning']=!0x0;let _0xd95dc7=_0x5e3646();setTimeout(_0x2028ca,_0xd95dc7);}async['synchronizeAndMapFlows'](){const _0x220e2c=a0_0x5a0e1e;let _0x53bd4b=this[_0x220e2c(0x1f6)][_0x220e2c(0x718)];try{let _0x2fc5af=await this[_0x220e2c(0x7bc)][_0x220e2c(0x7c6)]['findAll']({'where':{'$or':[{'owner':_0x53bd4b},{'whoCanUse':{'$in':[_0x53bd4b]}},{'shareOwners':{'$in':[_0x53bd4b]}}]}}),_0x4542d9=new Map(this[_0x220e2c(0x1ec)][_0x220e2c(0x29d)][_0x220e2c(0x35d)](_0xdbc99a=>[_0xdbc99a[_0x220e2c(0x772)],_0xdbc99a])),_0x253522=_0x2fc5af['map'](_0x168b26=>{const _0x3e1fdf=_0x220e2c;let _0x30ed24=_0x4542d9['get'](_0x168b26[_0x3e1fdf(0x772)]?.[_0x3e1fdf(0x6b5)]());return{'_id':_0x168b26['_id']?.[_0x3e1fdf(0x6b5)](),'name':_0x30ed24?.['name']??_0x168b26[_0x3e1fdf(0x7e8)],'default':_0x30ed24?.[_0x3e1fdf(0x77c)]??_0x168b26[_0x3e1fdf(0x77c)]??!0x1,'startCommand':_0x30ed24?.['startCommand']??_0x168b26[_0x3e1fdf(0x400)],'minutesToClose':_0x30ed24?.[_0x3e1fdf(0xa7)]??_0x168b26['minutesToClose']??0xa,'readMessages':_0x30ed24?.[_0x3e1fdf(0x2df)]??_0x168b26['readMessages']??!0x1,'testingWith':_0x30ed24?.[_0x3e1fdf(0x37b)]??_0x168b26[_0x3e1fdf(0x37b)],'canEdit':_0x168b26[_0x3e1fdf(0x6c5)]===_0x53bd4b||(_0x168b26['whoCanEdit']??[])[_0x3e1fdf(0x402)](_0x53bd4b),'usersCount':(_0x168b26[_0x3e1fdf(0x60e)]??[])[_0x3e1fdf(0x106)]??0x0};}),_0xbef3a0=!0x1;_0x253522[_0x220e2c(0x3a6)](_0x3cb7df=>{const _0x6ccd6b=_0x220e2c;_0x3cb7df[_0x6ccd6b(0x77c)]&&(_0xbef3a0?_0x3cb7df[_0x6ccd6b(0x77c)]=!0x1:_0xbef3a0=!0x0);}),this['AutomateSystem'][_0x220e2c(0x29d)]=_0x253522;let _0x21e418={'flows':_0x253522};return await this[_0x220e2c(0x7bc)][_0x220e2c(0x825)][_0x220e2c(0x15d)](_0x21e418,_0x53bd4b),this[_0x220e2c(0x3c2)][_0x220e2c(0x2eb)](this[_0x220e2c(0x225)]+'\x20('+_0x53bd4b+'):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.'),_0x253522[_0x220e2c(0x106)];}catch(_0x2f6152){return this[_0x220e2c(0x3c2)]['error'](this[_0x220e2c(0x225)]+'\x20('+_0x53bd4b+'):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20'+(_0x2f6152 instanceof Error?_0x2f6152[_0x220e2c(0x3d6)]:JSON[_0x220e2c(0x265)](_0x2f6152,null,0x2))),{'message':_0x220e2c(0x52f)+(_0x2f6152 instanceof Error?_0x2f6152[_0x220e2c(0x3d6)]:JSON[_0x220e2c(0x265)](_0x2f6152,null,0x2))};}}async['connectToWhatsapp'](_0x53a65e){const _0x5067ad=a0_0x5a0e1e;try{let _0x5ca345=await this[_0x5067ad(0x7bc)][_0x5067ad(0x1f6)][_0x5067ad(0x524)]({'where':{'_id':he+'-'+this['instanceName']}}),_0x9213a5,_0x16f06c=!Le[_0x5067ad(0x221)]||!Le[_0x5067ad(0x17d)];console[_0x5067ad(0x6ec)](_0x5067ad(0x7a8)),console[_0x5067ad(0x6ec)]('proxy:\x20',Ai),console[_0x5067ad(0x6ec)](_0x5067ad(0x6dc),this[_0x5067ad(0x51e)]),console[_0x5067ad(0x6ec)](_0x5067ad(0x7a8)),Ai&&!_0x16f06c&&(this[_0x5067ad(0x51e)]<0x4||!this[_0x5067ad(0x51e)]?_0x5ca345&&_0x5ca345['ip']?(_0x9213a5=_0x5ca345['ip'],console[_0x5067ad(0x6ec)]('Usando\x20IP\x20existente:\x20'+_0x9213a5)):(_0x9213a5=await Le[_0x5067ad(0x2d8)](he,this[_0x5067ad(0x1f6)]['name']),_0x9213a5?(console['log']('Novo\x20IP\x20criado:\x20'+_0x9213a5),await(0x0,w[_0x5067ad(0x1f4)])(0x7d0)):console['error'](_0x5067ad(0x295))):this[_0x5067ad(0x51e)]<0x6&&(console[_0x5067ad(0x6ec)](_0x5067ad(0x528)),_0x9213a5=await Le[_0x5067ad(0x2d8)](he,this[_0x5067ad(0x1f6)][_0x5067ad(0x7e8)]),_0x9213a5?(console[_0x5067ad(0x6ec)](_0x5067ad(0x5d6)+_0x9213a5),await(0x0,w[_0x5067ad(0x1f4)])(0x7d0)):console['error'](_0x5067ad(0x74b)))),this['loadWebhook'](),this[_0x5067ad(0x1f6)][_0x5067ad(0x4ed)]=(await this[_0x5067ad(0x7bc)][_0x5067ad(0x2a0)][_0x5067ad(0x174)](this[_0x5067ad(0x1f6)][_0x5067ad(0x7e8)]))[_0x5067ad(0x4ed)],this[_0x5067ad(0x1f6)][_0x5067ad(0x499)]=await this[_0x5067ad(0x1f3)]();let _0x195bc6=[xi,Us,(0x0,ks[_0x5067ad(0x146)])()],_0xfd90e7={'localAddress':_0x9213a5,'auth':{'creds':this[_0x5067ad(0x1f6)][_0x5067ad(0x499)]['state'][_0x5067ad(0x3ea)],'keys':(0x0,w[_0x5067ad(0x7e7)])(this['instance']['authState'][_0x5067ad(0x6cd)]['keys'],(0x0,Ft[_0x5067ad(0x77c)])({'level':_0x5067ad(0x685)}))},'logger':(0x0,Ft[_0x5067ad(0x77c)])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x53a65e?[_0x5067ad(0x559),Us,(0x0,ks['release'])()]:_0x195bc6,'version':[0x2,0xbb8,0x3ce4146a],'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x3c277c=>{const _0x51977b=_0x5067ad;let _0x4c46a1=this[_0x51977b(0x2ec)]?.[_0x51977b(0x180)]&&(0x0,w['isJidGroup'])(_0x3c277c);return(0x0,w['isJidBroadcast'])(_0x3c277c)||_0x4c46a1;},'msgRetryCounterCache':this[_0x5067ad(0x327)],'getMessage':async _0x55ca5c=>await this['getMessage'](_0x55ca5c),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x2c2e3f){const _0x1cc53a=_0x5067ad;return _0x2c2e3f[_0x1cc53a(0x282)]?.[_0x1cc53a(0x3d6)]?.[_0x1cc53a(0x535)]?.[_0x1cc53a(0x15a)]===w[_0x1cc53a(0x5b2)][_0x1cc53a(0x61f)][_0x1cc53a(0xb5)][_0x1cc53a(0x405)][_0x1cc53a(0x737)]&&(_0x2c2e3f=JSON[_0x1cc53a(0x7f0)](JSON['stringify'](_0x2c2e3f)),_0x2c2e3f[_0x1cc53a(0x282)][_0x1cc53a(0x3d6)][_0x1cc53a(0x535)][_0x1cc53a(0x15a)]=w[_0x1cc53a(0x5b2)][_0x1cc53a(0x61f)]['ListMessage'][_0x1cc53a(0x405)][_0x1cc53a(0xb0)]),_0x2c2e3f[_0x1cc53a(0x535)]?.['listType']==w[_0x1cc53a(0x5b2)][_0x1cc53a(0x61f)]['ListMessage'][_0x1cc53a(0x405)][_0x1cc53a(0x737)]&&(_0x2c2e3f=JSON['parse'](JSON[_0x1cc53a(0x265)](_0x2c2e3f)),_0x2c2e3f[_0x1cc53a(0x535)][_0x1cc53a(0x15a)]=w[_0x1cc53a(0x5b2)]['Message'][_0x1cc53a(0xb5)][_0x1cc53a(0x405)][_0x1cc53a(0xb0)]),_0x2c2e3f;}};return this[_0x5067ad(0x31b)]=!0x1,this[_0x5067ad(0x30c)]=(0x0,w['default'])(_0xfd90e7),this[_0x5067ad(0x119)](),this[_0x5067ad(0x776)]=_0x53a65e,this[_0x5067ad(0x30c)];}catch(_0x4b44ac){let _0x1a258e=_0x5067ad(0x66a),_0x47f9d2=_0x4b44ac instanceof Error?_0x4b44ac[_0x5067ad(0x3d6)]:typeof _0x4b44ac==_0x5067ad(0x698)?JSON[_0x5067ad(0x265)](_0x4b44ac):_0x4b44ac,_0x5e877f=_0x1a258e+':\x20'+_0x47f9d2;throw this['logger'][_0x5067ad(0x685)](this[_0x5067ad(0x225)]+'\x20('+this[_0x5067ad(0x1f6)][_0x5067ad(0x718)]+_0x5067ad(0x693)+_0x5e877f),console[_0x5067ad(0x685)](_0x5067ad(0x6e6),_0x4b44ac),_0x4b44ac instanceof Error&&console[_0x5067ad(0x685)]('Stack\x20trace:',_0x4b44ac[_0x5067ad(0x533)]),new x(_0x5e877f);}}[a0_0x5a0e1e(0x119)](){const _0x532f18=a0_0x5a0e1e;this['client']['ev'][_0x532f18(0x78d)](_0x2f1460=>{const _0x506bfb=_0x532f18;if(!this[_0x506bfb(0x31b)]){let _0x4bd29c=this[_0x506bfb(0x1e5)]['get'](_0x506bfb(0x3ad));if(_0x2f1460[_0x506bfb(0x3b6)]){let _0x4c306a=_0x2f1460['labels.edit'];this[_0x506bfb(0x485)]['labels.edit'](_0x4c306a);}if(_0x2f1460[_0x506bfb(0x1bc)]){let _0x15319c=_0x2f1460['labels.association'];this[_0x506bfb(0x485)][_0x506bfb(0x1bc)](_0x15319c);}if(_0x2f1460[_0x506bfb(0x3e3)]&&this['connectionUpdate'](_0x2f1460[_0x506bfb(0x3e3)]),_0x2f1460[_0x506bfb(0x496)]&&this[_0x506bfb(0x1f6)][_0x506bfb(0x499)]['saveCreds'](),_0x2f1460[_0x506bfb(0x813)]){let _0x46d414=_0x2f1460[_0x506bfb(0x813)];this[_0x506bfb(0x485)][_0x506bfb(0x813)](_0x46d414,_0x4bd29c);}if(_0x2f1460[_0x506bfb(0x782)]){let _0x1f50ff=_0x2f1460[_0x506bfb(0x782)];this[_0x506bfb(0x485)]['messages.upsert'](_0x1f50ff,_0x4bd29c);}if(_0x2f1460[_0x506bfb(0x614)]){let _0x25506a=_0x2f1460[_0x506bfb(0x614)];this[_0x506bfb(0x485)][_0x506bfb(0x614)](_0x25506a,_0x4bd29c);}if(_0x2f1460[_0x506bfb(0x850)]){let _0x613660=_0x2f1460[_0x506bfb(0x850)];if(this['localWebhook']?.[_0x506bfb(0x180)]&&_0x613660['id'][_0x506bfb(0x402)]('@g.us'))return;this['sendDataWebhook'](_0x506bfb(0x850),_0x613660);}if(_0x2f1460['groups.upsert']){let _0x2d1a6e=_0x2f1460[_0x506bfb(0x296)];this[_0x506bfb(0x2c4)][_0x506bfb(0x296)](_0x2d1a6e);}if(_0x2f1460[_0x506bfb(0x2ac)]){let _0x406c1f=_0x2f1460[_0x506bfb(0x2ac)];this[_0x506bfb(0x2c4)][_0x506bfb(0x2ac)](_0x406c1f);}if(_0x2f1460['group-participants.update']){let _0x598aee=_0x2f1460[_0x506bfb(0x679)];this[_0x506bfb(0x2c4)][_0x506bfb(0x679)](_0x598aee);}if(_0x2f1460[_0x506bfb(0x4b4)]){let _0x1d0306=_0x2f1460[_0x506bfb(0x4b4)];this[_0x506bfb(0x41a)][_0x506bfb(0x4b4)](_0x1d0306,_0x4bd29c);}if(_0x2f1460[_0x506bfb(0x1da)]){let _0x39ac15=_0x2f1460[_0x506bfb(0x1da)];this[_0x506bfb(0x41a)][_0x506bfb(0x1da)](_0x39ac15,_0x4bd29c);}if(_0x2f1460[_0x506bfb(0x2d4)]){let _0x14b607=_0x2f1460[_0x506bfb(0x2d4)];this['chatHandle']['chats.delete'](_0x14b607);}if(_0x2f1460[_0x506bfb(0x46d)]){let _0xfd2f19=_0x2f1460[_0x506bfb(0x46d)];this[_0x506bfb(0x82f)][_0x506bfb(0x46d)](_0xfd2f19,_0x4bd29c);}if(_0x2f1460[_0x506bfb(0x807)]){let _0x3f285e=_0x2f1460[_0x506bfb(0x807)];this[_0x506bfb(0x82f)][_0x506bfb(0x807)](_0x3f285e,_0x4bd29c);}}});}async[a0_0x5a0e1e(0x57e)](_0x5c05ce,_0x91f0b1){const _0x480ece=a0_0x5a0e1e;if(_0x91f0b1>=0xa){console[_0x480ece(0x685)](this[_0x480ece(0x225)]+'\x20('+this['instance']['wuid']+'):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar'),delete Lt[_0x5c05ce[_0x480ece(0x5dc)]['id']];return;}try{console[_0x480ece(0x685)](this[_0x480ece(0x225)]+'\x20('+this[_0x480ece(0x1f6)][_0x480ece(0x718)]+_0x480ece(0x299)+(_0x91f0b1+0x1)),await this[_0x480ece(0x30c)][_0x480ece(0xc2)](JSON[_0x480ece(0x7f0)](_0x5c05ce[_0x480ece(0x1f5)][0x1],w[_0x480ece(0x724)][_0x480ece(0xd5)])),console[_0x480ece(0x685)](_0x480ece(0x70c));}catch(_0x413084){console['error'](this[_0x480ece(0x225)]+'\x20('+this[_0x480ece(0x1f6)][_0x480ece(0x718)]+'):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20'+_0x413084),setTimeout(()=>this[_0x480ece(0x57e)](_0x5c05ce,_0x91f0b1+0x1),Math['pow'](0x2,_0x91f0b1)*0x3e8);}}async[a0_0x5a0e1e(0x245)](_0x153e79){const _0x145ad3=a0_0x5a0e1e;let _0x2f25b4=_0x153e79['key'][_0x145ad3(0x41b)][_0x145ad3(0x555)](_0x145ad3(0x430)),_0xc73959;if(_0x153e79['key']['fromMe'])_0xc73959=this[_0x145ad3(0x1f6)]['profilePictureUrl'];else{let _0x3c8e22=_0x2f25b4?_0x153e79[_0x145ad3(0x5dc)]['participant']:_0x153e79[_0x145ad3(0x5dc)][_0x145ad3(0x41b)];_0xc73959=(await this[_0x145ad3(0x6bb)](_0x3c8e22,_0x153e79[_0x145ad3(0x489)],!0x1))['cachedContact']['pictureUrl'];}_0x153e79[_0x145ad3(0x6e5)]&&_0x153e79[_0x145ad3(0x6e5)][_0x145ad3(0x6b5)]()['length']<0xd&&(_0x153e79['messageTimestamp']=_0x153e79[_0x145ad3(0x6e5)]*0x3e8);let _0x5213bf={'_id':_0x153e79['key']['id'],'key':_0x153e79[_0x145ad3(0x5dc)],'isGroup':_0x2f25b4,'profilePictureUrl':_0xc73959,'pushName':_0x153e79[_0x145ad3(0x489)],'message':{'text':_0x145ad3(0x26f)},'messageType':_0x145ad3(0x685),'message_normalized':{'key':_0x153e79['key'],'pushName':_0x153e79[_0x145ad3(0x489)],'messageTimestamp':_0x153e79[_0x145ad3(0x6e5)],'source':(0x0,w[_0x145ad3(0x56f)])(_0x153e79['key']['id']),'text':_0x145ad3(0x26f)},'messageTimestamp':_0x153e79[_0x145ad3(0x6e5)],'owner':this[_0x145ad3(0x1f6)][_0x145ad3(0x718)],'source':(0x0,w[_0x145ad3(0x56f)])(_0x153e79[_0x145ad3(0x5dc)]['id'])};this[_0x145ad3(0x3c2)]['error'](this[_0x145ad3(0x225)]+'\x20('+this[_0x145ad3(0x1f6)][_0x145ad3(0x718)]+_0x145ad3(0x693)+(_0x5213bf['key']?.[_0x145ad3(0x24c)]?_0x145ad3(0x428):'recebido\x20de')+'\x20['+_0x5213bf[_0x145ad3(0x5dc)]?.[_0x145ad3(0x41b)][_0x145ad3(0x186)](_0x145ad3(0x6b4),'')+_0x145ad3(0x1ee)+_0x5213bf[_0x145ad3(0x12d)]+')'),_0x5213bf[_0x145ad3(0x328)]?.[_0x145ad3(0x80e)]&&this[_0x145ad3(0x3c2)][_0x145ad3(0x685)](_0x153e79[_0x145ad3(0x5dc)]['id']+':\x20'+_0x5213bf['message_normalized']?.['text']),await this[_0x145ad3(0x7bc)][_0x145ad3(0x3d6)][_0x145ad3(0x49e)]([_0x5213bf],this[_0x145ad3(0x1f6)][_0x145ad3(0x718)]),await this[_0x145ad3(0x7bc)]['messageLogs']['insert']([_0x5213bf]),this[_0x145ad3(0x35f)]('messages.upsert',_0x5213bf),F(this[_0x145ad3(0x225)],'messages',{'message':_0x5213bf});}[a0_0x5a0e1e(0xcc)](_0xf04bd0){return new Promise(_0x2e47da=>setTimeout(_0x2e47da,_0xf04bd0));}[a0_0x5a0e1e(0x24e)](_0x6c1c86){const _0x426333=a0_0x5a0e1e;_0x6c1c86=_0x6c1c86[_0x426333(0x186)](/\D/g,'');let _0x593297=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x426333(0x5c2)](_0x6c1c86);if(_0x593297&&_0x593297[0x1]==='55'){let _0x599226=_0x593297[0x2],_0x2ed755=_0x593297[0x3],_0x3a9439=_0x593297[0x4];if(parseInt(_0x599226)>=0x1f&&_0x2ed755==='9')return _0x593297[0x1]+_0x599226+_0x3a9439;}return _0x6c1c86;}[a0_0x5a0e1e(0x83a)](_0x3ade7b){const _0x107935=a0_0x5a0e1e;return _0x3ade7b[_0x107935(0x402)]('@g.us')||_0x3ade7b['includes'](_0x107935(0x6b4))||_0x3ade7b[_0x107935(0x402)](_0x107935(0x1d5))?_0x3ade7b:(_0x3ade7b=_0x3ade7b?.[_0x107935(0x186)](/\s/g,'')['replace'](/\+/g,'')['replace'](/\(/g,'')[_0x107935(0x186)](/\)/g,'')[_0x107935(0x83d)](/\:/)[0x0][_0x107935(0x83d)]('@')[0x0],_0x3ade7b[_0x107935(0x106)]>=0x12?(_0x3ade7b=_0x3ade7b[_0x107935(0x186)](/[^\d-]/g,''),_0x3ade7b+_0x107935(0x430)):(_0x3ade7b=_0x3ade7b['replace'](/\D/g,''),_0x3ade7b+_0x107935(0x6b4)));}async[a0_0x5a0e1e(0x32b)](_0x2db9cd){const _0x52d801=a0_0x5a0e1e;let _0xc4d457=(await this[_0x52d801(0x425)]({'numbers':[_0x2db9cd['number']]}))[0x0];if(!_0xc4d457['exists']&&!(0x0,w[_0x52d801(0x181)])(_0xc4d457[_0x52d801(0x3eb)])&&!_0xc4d457['jid']['includes']('@broadcast'))throw new m(_0xc4d457);let _0x41cd96=_0xc4d457['jid'];try{return await this['client']['presenceSubscribe'](_0x41cd96),await this[_0x52d801(0x30c)]['sendPresenceUpdate'](_0x2db9cd[_0x52d801(0x5b1)],_0x41cd96),{'status':0xc8,'presence':_0x2db9cd[_0x52d801(0x5b1)]};}catch(_0xb87e88){let _0xea8af8=_0x52d801(0x7dc),_0x3aed58=_0xb87e88 instanceof Error?_0xb87e88[_0x52d801(0x3d6)]:typeof _0xb87e88==_0x52d801(0x698)?JSON[_0x52d801(0x265)](_0xb87e88):_0xb87e88,_0x1b1078=_0xea8af8+':\x20'+_0x3aed58;throw this[_0x52d801(0x3c2)]['error'](this[_0x52d801(0x225)]+'\x20('+this['instance']['wuid']+_0x52d801(0x693)+_0x1b1078),new m(_0x1b1078);}}async[a0_0x5a0e1e(0x6bb)](_0xdb46e3,_0x4ce829,_0xe83928,_0x181cca=!0x0){const _0x4f5c35=a0_0x5a0e1e;let _0x38bb3e=await this['repository'][_0x4f5c35(0x6ef)]['findOne']({'where':{'_id':_0xdb46e3}});if(!_0x38bb3e&&!_0x181cca)return;let _0x590bdb={'lastUpdate':Date[_0x4f5c35(0x616)]()};if(_0xe83928||!_0x38bb3e?.['lastUpdate']||Date[_0x4f5c35(0x616)]()-_0x38bb3e[_0x4f5c35(0x7a3)]>0x18*0x3c*0x3c*0x3e8)try{let _0x31d539=(await this['profilePicture'](_0xdb46e3))[_0x4f5c35(0x3ed)];_0x590bdb[_0x4f5c35(0x2ba)]=_0x31d539;}catch(_0x38abd2){let _0x28f61b=_0x4f5c35(0x648),_0x98f934=_0x38abd2 instanceof Error?_0x38abd2[_0x4f5c35(0x3d6)]:typeof _0x38abd2==_0x4f5c35(0x698)?JSON[_0x4f5c35(0x265)](_0x38abd2):_0x38abd2,_0x2f18ad=_0x28f61b+':\x20'+_0x98f934;throw this[_0x4f5c35(0x3c2)]['error'](this['instanceName']+'\x20('+this[_0x4f5c35(0x1f6)][_0x4f5c35(0x718)]+_0x4f5c35(0x693)+_0x2f18ad),new m(_0x2f18ad);}return _0x4ce829&&_0x38bb3e?.['name']!==_0x4ce829&&(_0x590bdb[_0x4f5c35(0x7e8)]=_0x4ce829),Object['keys'](_0x590bdb)[_0x4f5c35(0x106)]>0x1&&(_0x38bb3e?await this[_0x4f5c35(0x7bc)][_0x4f5c35(0x6ef)][_0x4f5c35(0x15d)]({'where':{'_id':_0xdb46e3}},_0x590bdb):await this['repository'][_0x4f5c35(0x6ef)][_0x4f5c35(0x49e)]([{'_id':_0xdb46e3,..._0x590bdb}]),_0x38bb3e={..._0x38bb3e,..._0x590bdb}),{'cachedContact':_0x38bb3e};}async['profilePicture'](_0x17175c){const _0x19f9fd=a0_0x5a0e1e;let _0x5408c8=this[_0x19f9fd(0x83a)](_0x17175c);try{return{'wuid':_0x5408c8,'profilePictureUrl':await this[_0x19f9fd(0x30c)][_0x19f9fd(0x3ed)](_0x5408c8,_0x19f9fd(0x39b))};}catch{return{'wuid':_0x5408c8,'profilePictureUrl':null};}}async['sendMessageWithRetry'](_0x3b79e8,_0x20f965,_0xbc131c){const _0x2dd59d=a0_0x5a0e1e;let _0x27735d=0x0;for(;_0x27735d<0x5;)try{return await this[_0x2dd59d(0x323)](_0x3b79e8,_0x20f965,_0xbc131c);}catch(_0x43cf7e){if(_0x27735d++,_0x43cf7e instanceof Error&&_0x43cf7e[_0x2dd59d(0x3d6)]===_0x2dd59d(0x592)){if(_0x27735d>=0x5)throw new m(_0x2dd59d(0x2da)+_0x43cf7e[_0x2dd59d(0x3d6)]);this['logger'][_0x2dd59d(0x16e)](_0x2dd59d(0x4c6)+_0x27735d+_0x2dd59d(0x666)+_0x43cf7e[_0x2dd59d(0x3d6)]+_0x2dd59d(0xcb)+0x1388/0x3e8+'\x20segundos...'),await new Promise(_0x1225c0=>setTimeout(_0x1225c0,0x1388));}else throw new m(_0x43cf7e['message']);}}async[a0_0x5a0e1e(0x323)](_0x3cb26f,_0x569bf0,_0x1b0883){const _0x19e362=a0_0x5a0e1e;let _0x2ea8a2;try{let _0x453bef=(await this[_0x19e362(0x425)]({'numbers':[_0x3cb26f]}))?.[_0x19e362(0x678)]();if(!_0x453bef[_0x19e362(0x3d5)]&&!(0x0,w['isJidGroup'])(_0x453bef[_0x19e362(0x3eb)])&&!_0x453bef['jid'][_0x19e362(0x402)](_0x19e362(0x1d5)))throw new m(_0x453bef);_0x2ea8a2=_0x453bef['jid'];}catch(_0x24acc1){_0x2ea8a2=_0x3cb26f,this[_0x19e362(0x3c2)][_0x19e362(0x16e)](this[_0x19e362(0x225)]+'\x20('+this[_0x19e362(0x1f6)][_0x19e362(0x718)]+_0x19e362(0x176)+_0x24acc1['message']),this[_0x19e362(0x3c2)][_0x19e362(0x16e)](this[_0x19e362(0x225)]+'\x20('+this[_0x19e362(0x1f6)]['wuid']+_0x19e362(0x101)+_0x2ea8a2);}try{if(_0x2ea8a2||(_0x2ea8a2=_0x3cb26f,this[_0x19e362(0x3c2)][_0x19e362(0x16e)](this[_0x19e362(0x225)]+'\x20('+this[_0x19e362(0x1f6)][_0x19e362(0x718)]+_0x19e362(0x69d)+_0x2ea8a2)),_0x1b0883||(_0x1b0883={}),_0x1b0883?.['delay']){await this['client'][_0x19e362(0x50d)](_0x2ea8a2),await this[_0x19e362(0x30c)][_0x19e362(0x2ea)](_0x1b0883?.[_0x19e362(0x5b1)]??_0x19e362(0xa5),_0x2ea8a2);let _0x548c58=Math['min'](_0x1b0883[_0x19e362(0x1f4)],0x2710);await(0x0,w[_0x19e362(0x1f4)])(_0x548c58),await this['client'][_0x19e362(0x2ea)](_0x19e362(0x18d),_0x2ea8a2);}let _0x41873f=_0x1b0883?.[_0x19e362(0x632)]!=!0x1?void 0x0:!0x1,_0x1dc721;if(_0x1b0883?.[_0x19e362(0x1dc)]){let _0x3b4fde=_0x1b0883?.[_0x19e362(0x1dc)],_0x50d5a3=_0x3b4fde?.[_0x19e362(0x3d6)]?_0x3b4fde:await this[_0x19e362(0x1e9)](_0x3b4fde[_0x19e362(0x5dc)],!0x0);_0x50d5a3&&(_0x1dc721=_0x50d5a3);}let _0x31fe56=await this[_0x19e362(0x7bc)][_0x19e362(0x6d7)]['findOne']({'where':{'_id':_0x2ea8a2}},this[_0x19e362(0x1f6)][_0x19e362(0x718)]),_0x5a104d,_0x5448db=null;if((0x0,w[_0x19e362(0x181)])(_0x2ea8a2))try{if(_0x5448db=_0x31fe56[_0x19e362(0x17a)],!_0x5448db)throw new U(_0x19e362(0x7cf));if(!_0x5448db[_0x19e362(0x500)])throw new m('Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo');_0x1b0883?.[_0x19e362(0xc6)]&&(_0x1b0883[_0x19e362(0xc6)]?.['everyOne']?_0x5a104d=_0x5448db['participants'][_0x19e362(0x35d)](_0x4434be=>_0x4434be['id']):_0x1b0883[_0x19e362(0xc6)]?.[_0x19e362(0x284)]?.['length']&&(_0x5a104d=_0x1b0883[_0x19e362(0xc6)]['mentioned'][_0x19e362(0x35d)](_0x9772c=>{const _0x2a0dfe=_0x19e362;let _0x37449c=this['createJid'](_0x9772c);return(0x0,w[_0x2a0dfe(0x181)])(_0x37449c)?null:_0x37449c;})));}catch(_0x513d21){throw _0x513d21 instanceof U?new U(_0x19e362(0x7cf)):_0x513d21 instanceof m?new m(_0x19e362(0x34e)):new Error('Erro\x20desconhecido\x20ao\x20tentar\x20enviar\x20mensagem\x20para\x20o\x20grupo');}let _0x28756a=await((async()=>{const _0x5b4880=_0x19e362;let _0xece86f={'quoted':_0x1dc721,'ephemeralExpiration':_0x31fe56?.[_0x5b4880(0x5ca)]??0x0};if(!_0x569bf0[_0x5b4880(0x557)]&&!_0x569bf0['poll']&&!_0x569bf0['sticker']&&!_0x569bf0['conversation']&&_0x2ea8a2!=='status@broadcast'&&_0x569bf0[_0x5b4880(0x270)])return await this[_0x5b4880(0x30c)]['sendMessage'](_0x2ea8a2,{'react':{'text':_0x569bf0[_0x5b4880(0x270)][_0x5b4880(0x80e)],'key':_0x569bf0[_0x5b4880(0x270)][_0x5b4880(0x5dc)]}},_0xece86f);if(_0x569bf0[_0x5b4880(0x45f)]){let _0x3ed78c=_0x569bf0['conversation'];return _0x1b0883?.[_0x5b4880(0x5da)]&&(_0x3ed78c=await this['replaceVariablesChat'](_0x3ed78c,_0x2ea8a2)),await this['client'][_0x5b4880(0x6ab)](_0x2ea8a2,{'text':_0x3ed78c,'mentions':_0x5a104d,'linkPreview':_0x41873f},_0xece86f);}return!_0x569bf0[_0x5b4880(0x557)]&&!_0x569bf0[_0x5b4880(0x302)]&&_0x2ea8a2!=_0x5b4880(0x5cf)?await this[_0x5b4880(0x30c)][_0x5b4880(0x6ab)](_0x2ea8a2,{'forward':{'key':{'remoteJid':this[_0x5b4880(0x1f6)][_0x5b4880(0x718)],'fromMe':!0x0},'message':_0x569bf0},'mentions':_0x5a104d},_0xece86f):_0x2ea8a2===_0x5b4880(0x5cf)?await this[_0x5b4880(0x30c)][_0x5b4880(0x6ab)](_0x2ea8a2,_0x569bf0[_0x5b4880(0x1cc)][_0x5b4880(0x437)],{'backgroundColor':_0x569bf0[_0x5b4880(0x1cc)][_0x5b4880(0x82b)][_0x5b4880(0x700)],'font':_0x569bf0[_0x5b4880(0x1cc)][_0x5b4880(0x82b)]['font'],'statusJidList':_0x569bf0[_0x5b4880(0x1cc)][_0x5b4880(0x82b)][_0x5b4880(0x797)]}):await this[_0x5b4880(0x30c)][_0x5b4880(0x6ab)](_0x2ea8a2,_0x569bf0,_0xece86f);})()),_0x160b2d=(0x0,w['normalizeMessageContent'])(_0x28756a['message']),_0x375d52=(0x0,w[_0x19e362(0x3fc)])(_0x160b2d),{message_normalized:_0x475be1}=this[_0x19e362(0x39e)](_0x160b2d,_0x375d52,null),_0x5098a2={'_id':_0x28756a[_0x19e362(0x5dc)]['id'],'key':_0x28756a[_0x19e362(0x5dc)],'pushName':_0x28756a['pushName'],'isGroup':_0x28756a[_0x19e362(0x5dc)][_0x19e362(0x41b)][_0x19e362(0x555)]('@g.us'),'profilePictureUrl':this['instance']['profilePictureUrl'],'message':_0x160b2d,'messageType':_0x375d52,'message_normalized':{'key':_0x28756a['key'],'pushName':_0x28756a['pushName'],'messageTimestamp':_0x28756a[_0x19e362(0x6e5)]&&_0x28756a[_0x19e362(0x6e5)][_0x19e362(0x6b5)]()[_0x19e362(0x106)]<0xd?_0x28756a[_0x19e362(0x6e5)]*0x3e8:_0x28756a['messageTimestamp']||null,'source':(0x0,w[_0x19e362(0x56f)])(_0x28756a[_0x19e362(0x5dc)]['id']),..._0x475be1},'messageTimestamp':_0x28756a[_0x19e362(0x6e5)]&&_0x28756a[_0x19e362(0x6e5)][_0x19e362(0x6b5)]()[_0x19e362(0x106)]<0xd?_0x28756a[_0x19e362(0x6e5)]*0x3e8:_0x28756a['messageTimestamp']||null,'owner':this[_0x19e362(0x1f6)][_0x19e362(0x718)],'source':(0x0,w[_0x19e362(0x56f)])(_0x28756a[_0x19e362(0x5dc)]['id'])};return this['logger'][_0x19e362(0x16e)](this[_0x19e362(0x225)]+'\x20('+this[_0x19e362(0x1f6)][_0x19e362(0x718)]+_0x19e362(0x731)+_0x5098a2[_0x19e362(0x5dc)]?.[_0x19e362(0x41b)][_0x19e362(0x186)]('@s.whatsapp.net','')+_0x19e362(0x1ee)+_0x5098a2[_0x19e362(0x12d)]+')'),_0x5098a2[_0x19e362(0x328)]?.[_0x19e362(0x80e)]&&this[_0x19e362(0x3c2)][_0x19e362(0x16e)](_0x5098a2[_0x19e362(0x328)]?.[_0x19e362(0x80e)]),this['sendDataWebhook'](_0x19e362(0x104),_0x5098a2),F(this[_0x19e362(0x225)],_0x19e362(0x45a),{'message':_0x5098a2}),this['updateChatWithMessage'](this[_0x19e362(0x1e5)][_0x19e362(0x168)](_0x19e362(0x3ad)),_0x5098a2,_0x19e362(0x472),_0x31fe56),await this[_0x19e362(0x7bc)][_0x19e362(0x3d6)][_0x19e362(0x49e)]([_0x5098a2],this[_0x19e362(0x1f6)][_0x19e362(0x718)]),_0x28756a;}catch(_0x97ea5e){let _0x49244c=_0x19e362(0x15c)+_0x2ea8a2,_0x5754b2=_0x97ea5e instanceof Error?_0x97ea5e[_0x19e362(0x3d6)]:typeof _0x97ea5e=='object'?JSON[_0x19e362(0x265)](_0x97ea5e):_0x97ea5e,_0x17a266=_0x49244c+':\x20'+_0x5754b2;throw this[_0x19e362(0x3c2)][_0x19e362(0x685)](this['instanceName']+'\x20('+this[_0x19e362(0x1f6)]['wuid']+'):\x20'+_0x17a266),new m(_0x17a266);}}async[a0_0x5a0e1e(0x7e5)](_0x3e7b65,_0x2eb992,_0x44dcb5){const _0x414df7=a0_0x5a0e1e;let _0x342a08=this[_0x414df7(0x83a)](_0x3e7b65),_0x53a899=(await this[_0x414df7(0x425)]({'numbers':[_0x342a08]}))[0x0];if(!_0x53a899['exists']&&!(0x0,w['isJidGroup'])(_0x53a899[_0x414df7(0x3eb)]))throw new m(_0x53a899);let _0x4dba14=(0x0,w[_0x414df7(0x181)])(_0x342a08)?_0x342a08:_0x53a899['jid'];if((0x0,w['isJidGroup'])(_0x4dba14))try{await this[_0x414df7(0x30c)]['groupMetadata'](_0x4dba14);}catch{throw new m(_0x414df7(0x7f8));}try{_0x44dcb5?.[_0x414df7(0x1f4)]&&(await this[_0x414df7(0x30c)][_0x414df7(0x50d)](_0x4dba14),await this[_0x414df7(0x30c)][_0x414df7(0x2ea)](_0x44dcb5?.[_0x414df7(0x5b1)]??_0x414df7(0xa5),_0x342a08),await(0x0,w[_0x414df7(0x1f4)])(_0x44dcb5[_0x414df7(0x1f4)]),await this['client']['sendPresenceUpdate'](_0x414df7(0x18d),_0x4dba14));let _0x65190e=await((async()=>{const _0x34a6fc=_0x414df7;let _0x587022,_0x309496=_0x34a6fc(0x774)+(0x0,oe[_0x34a6fc(0x3b0)])(0x12)[_0x34a6fc(0x6b5)](_0x34a6fc(0x4ba))['toUpperCase'](),_0x171a43=(0x0,w[_0x34a6fc(0x5c0)])(_0x4dba14,_0x2eb992,{'timestamp':new Date(),'userJid':this[_0x34a6fc(0x1f6)][_0x34a6fc(0x718)],'messageId':_0x309496,'quoted':_0x587022}),_0x594afe=await this['client'][_0x34a6fc(0x1c8)](_0x4dba14,_0x171a43['message'],{'messageId':_0x309496});_0x171a43[_0x34a6fc(0x5dc)]={'id':_0x594afe,'remoteJid':_0x342a08,'participant':(0x0,w[_0x34a6fc(0x5fa)])(_0x342a08)?void 0x0:_0x342a08,'fromMe':!0x0};for(let [_0x45f7e7,_0x188d2d]of Object[_0x34a6fc(0x822)](_0x171a43))(!_0x188d2d||Array[_0x34a6fc(0x1ed)](_0x188d2d)&&_0x188d2d['length']===0x0)&&delete _0x171a43[_0x45f7e7];return this[_0x34a6fc(0x30c)]['ev']['emit'](_0x34a6fc(0x782),{'messages':[_0x171a43],'type':'notify'}),_0x171a43;})()),_0xa2dfcf=await this[_0x414df7(0x7bc)][_0x414df7(0x6d7)][_0x414df7(0x524)]({'where':{'_id':_0x4dba14}},this[_0x414df7(0x1f6)]['wuid']),_0x46e186=(0x0,w[_0x414df7(0x823)])(_0x65190e[_0x414df7(0x3d6)]),_0x5a8fe8=(0x0,w[_0x414df7(0x3fc)])(_0x46e186),{message_normalized:_0x311aca}=this[_0x414df7(0x39e)](_0x46e186,_0x5a8fe8,null),_0x556320={'_id':_0x65190e[_0x414df7(0x5dc)]['id'],'key':_0x65190e[_0x414df7(0x5dc)],'pushName':_0x65190e['pushName'],'isGroup':_0x65190e[_0x414df7(0x5dc)][_0x414df7(0x41b)][_0x414df7(0x555)](_0x414df7(0x430)),'profilePictureUrl':this[_0x414df7(0x1f6)]['profilePictureUrl'],'message':_0x46e186,'messageType':_0x5a8fe8,'message_normalized':{'key':_0x65190e['key'],'pushName':_0x65190e['pushName'],'messageTimestamp':_0x65190e[_0x414df7(0x6e5)]&&_0x65190e['messageTimestamp'][_0x414df7(0x6b5)]()['length']<0xd?_0x65190e[_0x414df7(0x6e5)]*0x3e8:_0x65190e[_0x414df7(0x6e5)]||null,'source':(0x0,w[_0x414df7(0x56f)])(_0x65190e[_0x414df7(0x5dc)]['id']),..._0x311aca},'messageTimestamp':_0x65190e[_0x414df7(0x6e5)]&&_0x65190e[_0x414df7(0x6e5)][_0x414df7(0x6b5)]()[_0x414df7(0x106)]<0xd?_0x65190e[_0x414df7(0x6e5)]*0x3e8:_0x65190e[_0x414df7(0x6e5)]||null,'owner':this['instance'][_0x414df7(0x718)],'source':(0x0,w[_0x414df7(0x56f)])(_0x65190e[_0x414df7(0x5dc)]['id'])};return this[_0x414df7(0x3c2)][_0x414df7(0x16e)](this[_0x414df7(0x225)]+'\x20('+this['instance'][_0x414df7(0x718)]+_0x414df7(0x731)+_0x556320[_0x414df7(0x5dc)]?.[_0x414df7(0x41b)][_0x414df7(0x186)](_0x414df7(0x6b4),'')+_0x414df7(0x1ee)+_0x556320[_0x414df7(0x12d)]+')'),_0x556320[_0x414df7(0x328)]?.[_0x414df7(0x80e)]&&this[_0x414df7(0x3c2)][_0x414df7(0x16e)](_0x556320['message_normalized']?.['text']),this[_0x414df7(0x35f)](_0x414df7(0x104),_0x556320),F(this['instanceName'],_0x414df7(0x45a),{'message':_0x556320}),this[_0x414df7(0x5e1)](this[_0x414df7(0x1e5)][_0x414df7(0x168)]('DATABASE'),_0x556320,_0x414df7(0x472),_0xa2dfcf),await this[_0x414df7(0x7bc)]['message'][_0x414df7(0x49e)]([_0x556320],this['instance'][_0x414df7(0x718)]),_0x65190e;}catch(_0x150fe7){throw this[_0x414df7(0x3c2)][_0x414df7(0x685)](_0x150fe7),new m(_0x150fe7['toString']());}}get['connectionStatus'](){return this['stateConnection'];}async[a0_0x5a0e1e(0x77f)](_0x2f8f6f){const _0x51b534=a0_0x5a0e1e;return await this['sendMessageWithRetry'](_0x2f8f6f['number'],{'conversation':_0x2f8f6f['textMessage'][_0x51b534(0x80e)]},_0x2f8f6f?.['options']);}async['formatStatusMessage'](_0x32ef80){const _0x1a5c7f=a0_0x5a0e1e;if(!_0x32ef80['type'])throw new m(_0x1a5c7f(0x75c));if(!_0x32ef80['content'])throw new m('Content\x20is\x20required');if(_0x32ef80[_0x1a5c7f(0x69f)]){let _0x188895=await this[_0x1a5c7f(0x7bc)][_0x1a5c7f(0x4b0)][_0x1a5c7f(0x174)]({'where':{}},this[_0x1a5c7f(0x1f6)][_0x1a5c7f(0x718)]);if(!_0x188895[_0x1a5c7f(0x106)])throw new m(_0x1a5c7f(0x4fb));_0x32ef80[_0x1a5c7f(0x797)]=_0x188895[_0x1a5c7f(0x736)](_0x5ae93f=>_0x5ae93f[_0x1a5c7f(0x489)])['map'](_0x1cff6f=>_0x1cff6f[_0x1a5c7f(0x772)]);}if(!_0x32ef80[_0x1a5c7f(0x797)]?.[_0x1a5c7f(0x106)]&&!_0x32ef80['allContacts'])throw new m('StatusJidList\x20is\x20required');if(_0x32ef80[_0x1a5c7f(0x13f)]===_0x1a5c7f(0x80e)){if(!_0x32ef80[_0x1a5c7f(0x700)])throw new m(_0x1a5c7f(0x3df));if(!_0x32ef80[_0x1a5c7f(0x7e9)])throw new m('Font\x20is\x20required');return{'content':{'text':_0x32ef80[_0x1a5c7f(0x437)]},'option':{'backgroundColor':_0x32ef80[_0x1a5c7f(0x700)],'font':_0x32ef80[_0x1a5c7f(0x7e9)],'statusJidList':_0x32ef80['statusJidList']}};}if(_0x32ef80[_0x1a5c7f(0x13f)]===_0x1a5c7f(0x39b))return{'content':{'image':{'url':_0x32ef80[_0x1a5c7f(0x437)]},'caption':_0x32ef80[_0x1a5c7f(0x760)]},'option':{'statusJidList':_0x32ef80[_0x1a5c7f(0x797)]}};if(_0x32ef80[_0x1a5c7f(0x13f)]===_0x1a5c7f(0x6aa))return{'content':{'video':{'url':_0x32ef80['content']},'caption':_0x32ef80[_0x1a5c7f(0x760)]},'option':{'statusJidList':_0x32ef80[_0x1a5c7f(0x797)]}};if(_0x32ef80[_0x1a5c7f(0x13f)]==='audio'){this[_0x1a5c7f(0x3c2)][_0x1a5c7f(0x2eb)](this[_0x1a5c7f(0x225)]+'\x20('+this[_0x1a5c7f(0x1f6)]['wuid']+_0x1a5c7f(0x684)),this[_0x1a5c7f(0x3c2)][_0x1a5c7f(0x2eb)](this['instanceName']+'\x20('+this[_0x1a5c7f(0x1f6)][_0x1a5c7f(0x718)]+_0x1a5c7f(0x374));let _0x5e5a14=await this[_0x1a5c7f(0x7bb)](_0x32ef80[_0x1a5c7f(0x437)]);if(typeof _0x5e5a14==_0x1a5c7f(0x539)){this[_0x1a5c7f(0x3c2)][_0x1a5c7f(0x2eb)](this[_0x1a5c7f(0x225)]+'\x20('+this[_0x1a5c7f(0x1f6)][_0x1a5c7f(0x718)]+_0x1a5c7f(0x23b));let _0x449821=k[_0x1a5c7f(0x651)](_0x5e5a14)['toString'](_0x1a5c7f(0x6a4));return{'content':{'audio':Buffer[_0x1a5c7f(0x6d0)](_0x449821,_0x1a5c7f(0x6a4)),'ptt':!0x0,'mimetype':_0x1a5c7f(0x414)},'option':{'statusJidList':_0x32ef80[_0x1a5c7f(0x797)]}};}else throw new x(_0x5e5a14);}throw new m(_0x1a5c7f(0x315));}async[a0_0x5a0e1e(0x1c9)](_0x1312a6){const _0x3180ca=a0_0x5a0e1e;return await this['sendMessageWithRetry'](_0x3180ca(0x5cf),{'status':await this[_0x3180ca(0x37a)](_0x1312a6[_0x3180ca(0x1c9)])});}async[a0_0x5a0e1e(0x817)](_0x2c93c7){const _0x488410=a0_0x5a0e1e;try{let _0x32ba37=await(0x0,w[_0x488410(0x4d5)])({[_0x2c93c7[_0x488410(0xc4)]]:(0x0,J[_0x488410(0x291)])(_0x2c93c7[_0x488410(0x445)])?{'url':_0x2c93c7[_0x488410(0x445)]}:Buffer['from'](_0x2c93c7[_0x488410(0x445)],_0x488410(0x6a4))},{'upload':this[_0x488410(0x30c)][_0x488410(0x366)]}),_0x10a9a9=_0x2c93c7['mediatype']+_0x488410(0x61f);if(_0x2c93c7['mediatype']===_0x488410(0x842)&&!_0x2c93c7[_0x488410(0x72a)]){let _0x1ea9b1=new RegExp(/.*\/(.+?)\./)[_0x488410(0x5c2)](_0x2c93c7[_0x488410(0x445)]);_0x2c93c7[_0x488410(0x72a)]=_0x1ea9b1?_0x1ea9b1[0x1]:null;}let _0x367907;return(0x0,J[_0x488410(0x291)])(_0x2c93c7[_0x488410(0x445)])?_0x367907=(await K[_0x488410(0x77c)]['get'](_0x2c93c7[_0x488410(0x445)],{'responseType':_0x488410(0x29a)}))[_0x488410(0x2b6)][_0x488410(0x272)]:_0x367907=(0x0,Oi[_0x488410(0x3da)])(_0x2c93c7['fileName']),_0x32ba37[_0x10a9a9][_0x488410(0x760)]=_0x2c93c7?.[_0x488410(0x760)],_0x32ba37[_0x10a9a9][_0x488410(0x57c)]=_0x367907,_0x32ba37[_0x10a9a9]['fileName']=_0x2c93c7[_0x488410(0x72a)],_0x2c93c7['mediatype']===_0x488410(0x6aa)&&(_0x32ba37[_0x10a9a9][_0x488410(0xf6)]=Uint8Array[_0x488410(0x6d0)]((0x0,Fe[_0x488410(0x651)])((0x0,j['join'])(process[_0x488410(0x5fe)](),'video-cover.png'))),_0x32ba37[_0x10a9a9]['gifPlayback']=!0x1),(0x0,w[_0x488410(0x5c0)])('',{[_0x10a9a9]:{..._0x32ba37[_0x10a9a9]}},{'userJid':this['instance'][_0x488410(0x718)]});}catch(_0x168b80){let _0x446bc3=_0x488410(0x6ce),_0x17d3bc=_0x168b80 instanceof Error?_0x168b80[_0x488410(0x3d6)]:typeof _0x168b80==_0x488410(0x698)?JSON[_0x488410(0x265)](_0x168b80):_0x168b80,_0x32870b=_0x446bc3+':\x20'+_0x17d3bc;throw this[_0x488410(0x3c2)][_0x488410(0x685)](this[_0x488410(0x225)]+'\x20('+this['instance'][_0x488410(0x718)]+_0x488410(0x693)+_0x32870b),new x(_0x32870b);}}async[a0_0x5a0e1e(0x670)](_0x13ee87){const _0x33ffe4=a0_0x5a0e1e;let _0x134844=0x0;for(;_0x134844<0x5;)try{let _0x10f123=await this['prepareMediaMessage'](_0x13ee87[_0x33ffe4(0x670)]);return await this[_0x33ffe4(0x826)](_0x13ee87[_0x33ffe4(0x12c)],{..._0x10f123[_0x33ffe4(0x3d6)]},_0x13ee87?.[_0x33ffe4(0x163)]);}catch(_0x36e24e){if(_0x134844++,_0x36e24e instanceof Error&&_0x36e24e[_0x33ffe4(0x3d6)]===_0x33ffe4(0x592)){if(_0x134844>=0x5)throw new m(_0x33ffe4(0x3fa)+_0x36e24e['message']);this['logger'][_0x33ffe4(0x16e)](_0x33ffe4(0x4c6)+_0x134844+'/5\x20de\x20preparar\x20mídia\x20falhou:\x20'+_0x36e24e[_0x33ffe4(0x3d6)]+_0x33ffe4(0xcb)+0x1388/0x3e8+_0x33ffe4(0x5be)),await new Promise(_0x239c45=>setTimeout(_0x239c45,0x1388));}else throw new m(_0x36e24e['message']);}}async[a0_0x5a0e1e(0x47c)](_0x1be77e,_0x5979a1){const _0x582018=a0_0x5a0e1e;try{this[_0x582018(0x3c2)][_0x582018(0x2eb)](this['instanceName']+'\x20('+this[_0x582018(0x1f6)][_0x582018(0x718)]+_0x582018(0x725));let _0x49298a,_0x3a56a3=_0x5979a1+'-'+new Date()['getTime']();this[_0x582018(0x3c2)][_0x582018(0x2eb)](this[_0x582018(0x225)]+'\x20('+this[_0x582018(0x1f6)][_0x582018(0x718)]+_0x582018(0x4a3)+_0x3a56a3);let _0x34c467=''+(0x0,j[_0x582018(0x33d)])(this[_0x582018(0x318)],_0x3a56a3+_0x582018(0x192));if(this['logger'][_0x582018(0x2eb)](this[_0x582018(0x225)]+'\x20('+this[_0x582018(0x1f6)]['wuid']+_0x582018(0x64c)+_0x34c467),(0x0,J[_0x582018(0x30e)])(_0x1be77e)){this[_0x582018(0x3c2)][_0x582018(0x2eb)](this[_0x582018(0x225)]+'\x20('+this[_0x582018(0x1f6)]['wuid']+_0x582018(0x83b));let _0x4a6911=_0x1be77e['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0xae89a1=Buffer[_0x582018(0x6d0)](_0x4a6911,_0x582018(0x6a4));_0x49298a=''+(0x0,j['join'])(this[_0x582018(0x318)],_0x582018(0x538)+_0x3a56a3+'.png'),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x582018(0x1f6)][_0x582018(0x718)]+'):Image\x20path:\x20'+_0x49298a),await(0x0,Ut['default'])(_0xae89a1)[_0x582018(0x788)](_0x49298a),this[_0x582018(0x3c2)][_0x582018(0x2eb)](this[_0x582018(0x225)]+'\x20('+this[_0x582018(0x1f6)][_0x582018(0x718)]+_0x582018(0x854));}else{this[_0x582018(0x3c2)][_0x582018(0x2eb)](this[_0x582018(0x225)]+'\x20('+this[_0x582018(0x1f6)][_0x582018(0x718)]+'):Image\x20is\x20url');let _0xa50aa0=new Date()[_0x582018(0x333)](),_0x1bdb1d=_0x1be77e+_0x582018(0x2e7)+_0xa50aa0;this[_0x582018(0x3c2)]['verbose'](this['instanceName']+'\x20('+this[_0x582018(0x1f6)]['wuid']+'):including\x20timestamp\x20in\x20url:\x20'+_0x1bdb1d);let _0x36d886=await K['default'][_0x582018(0x168)](_0x1bdb1d,{'responseType':_0x582018(0x29a)});this[_0x582018(0x3c2)][_0x582018(0x2eb)](this['instanceName']+'\x20('+this[_0x582018(0x1f6)]['wuid']+_0x582018(0x3ac));let _0x5c6a61=Buffer['from'](_0x36d886[_0x582018(0x4cf)],'binary');_0x49298a=''+(0x0,j['join'])(this[_0x582018(0x318)],_0x582018(0x538)+_0x3a56a3+_0x582018(0x157)),this[_0x582018(0x3c2)][_0x582018(0x2eb)](this[_0x582018(0x225)]+'\x20('+this[_0x582018(0x1f6)]['wuid']+'):Image\x20path:\x20'+_0x49298a),await(0x0,Ut[_0x582018(0x77c)])(_0x5c6a61)[_0x582018(0x788)](_0x49298a),this[_0x582018(0x3c2)]['verbose'](this[_0x582018(0x225)]+'\x20('+this[_0x582018(0x1f6)][_0x582018(0x718)]+_0x582018(0x854));}return await(0x0,Ut['default'])(_0x49298a)[_0x582018(0x4fd)]()[_0x582018(0x788)](_0x34c467),this['logger'][_0x582018(0x2eb)](this[_0x582018(0x225)]+'\x20('+this['instance'][_0x582018(0x718)]+_0x582018(0x203)),k['unlinkSync'](_0x49298a),this['logger'][_0x582018(0x2eb)](this[_0x582018(0x225)]+'\x20('+this['instance'][_0x582018(0x718)]+_0x582018(0x3de)),_0x34c467;}catch(_0xd368cd){let _0x29a043=_0x582018(0x3e0),_0x291174=_0xd368cd instanceof Error?_0xd368cd[_0x582018(0x3d6)]:typeof _0xd368cd==_0x582018(0x698)?JSON[_0x582018(0x265)](_0xd368cd):_0xd368cd,_0x323f45=_0x29a043+':\x20'+_0x291174;this[_0x582018(0x3c2)][_0x582018(0x685)](this[_0x582018(0x225)]+'\x20('+this[_0x582018(0x1f6)][_0x582018(0x718)]+_0x582018(0x693)+_0x323f45);}}async[a0_0x5a0e1e(0x59f)](_0x4a785a){const _0x470038=a0_0x5a0e1e;let _0x2a2152=await this['convertToWebP'](_0x4a785a['stickerMessage'][_0x470038(0x39b)],_0x4a785a['number']),_0x1f0a6=await this['sendMessageWithRetry'](_0x4a785a[_0x470038(0x12c)],{'sticker':{'url':_0x2a2152}},_0x4a785a?.[_0x470038(0x163)]);return k[_0x470038(0x5ac)](_0x2a2152),this[_0x470038(0x3c2)][_0x470038(0x2eb)](this[_0x470038(0x225)]+'\x20('+this['instance'][_0x470038(0x718)]+_0x470038(0xd8)),_0x1f0a6;}async[a0_0x5a0e1e(0x6e2)](_0x27f24c){const _0x4733ea=a0_0x5a0e1e;if(this[_0x4733ea(0x3c2)]['verbose'](this[_0x4733ea(0x225)]+'\x20('+this[_0x4733ea(0x1f6)][_0x4733ea(0x718)]+_0x4733ea(0x569)),!_0x27f24c[_0x4733ea(0x163)]?.['encoding']&&_0x27f24c[_0x4733ea(0x163)]?.[_0x4733ea(0x3aa)]!==!0x1&&(_0x27f24c[_0x4733ea(0x163)][_0x4733ea(0x3aa)]=!0x0),_0x27f24c['options']?.[_0x4733ea(0x3aa)]){let _0x71ed3a=await this['convertaudio'](_0x27f24c[_0x4733ea(0x5e4)][_0x4733ea(0x557)]);if(typeof _0x71ed3a==_0x4733ea(0x539)){let _0x17f6d7=k['readFileSync'](_0x71ed3a)[_0x4733ea(0x6b5)](_0x4733ea(0x6a4));return this['sendMessageWithRetry'](_0x27f24c[_0x4733ea(0x12c)],{'audio':Buffer['from'](_0x17f6d7,_0x4733ea(0x6a4)),'ptt':!0x0,'mimetype':_0x4733ea(0x17e)},{'presence':_0x4733ea(0x24a),'delay':_0x27f24c?.['options']?.[_0x4733ea(0x1f4)]});}else throw new x(_0x71ed3a);}return await this['sendMessageWithRetry'](_0x27f24c[_0x4733ea(0x12c)],{'audio':(0x0,J[_0x4733ea(0x291)])(_0x27f24c['audioMessage'][_0x4733ea(0x557)])?{'url':_0x27f24c[_0x4733ea(0x5e4)][_0x4733ea(0x557)]}:Buffer['from'](_0x27f24c[_0x4733ea(0x5e4)]['audio'],_0x4733ea(0x6a4)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x4733ea(0x24a),'delay':_0x27f24c?.[_0x4733ea(0x163)]?.[_0x4733ea(0x1f4)]});}async[a0_0x5a0e1e(0x7bb)](_0x3dde4f){const _0x15bc64=a0_0x5a0e1e;this['logger'][_0x15bc64(0x2eb)](this[_0x15bc64(0x225)]+'\x20('+this[_0x15bc64(0x1f6)][_0x15bc64(0x718)]+_0x15bc64(0x374));let _0xabb28d=(0x0,J['isURL'])(_0x3dde4f)?(0x0,oe['createHash'])(_0x15bc64(0x2cb))[_0x15bc64(0x15d)](_0x3dde4f)[_0x15bc64(0x510)](_0x15bc64(0x4ba)):(0x0,oe[_0x15bc64(0x630)])('sha256')['update'](_0x3dde4f)[_0x15bc64(0x510)]('hex'),_0xfda5df=''+(0x0,j[_0x15bc64(0x33d)])(this[_0x15bc64(0x318)],_0xabb28d+_0x15bc64(0x759));if(k[_0x15bc64(0x82d)](_0xfda5df))return this['logger'][_0x15bc64(0x2eb)](this[_0x15bc64(0x225)]+'\x20('+this[_0x15bc64(0x1f6)]['wuid']+_0x15bc64(0x815)),_0xfda5df;let _0x181a09=''+(0x0,j[_0x15bc64(0x33d)])(this['storePath'],'temp-'+(0x0,Q['v4'])()+_0x15bc64(0x588));if((0x0,J[_0x15bc64(0x291)])(_0x3dde4f)){let _0xa8d0f3=new Date()[_0x15bc64(0x333)](),_0x55f4d4=_0x3dde4f+_0x15bc64(0x2e7)+_0xa8d0f3,_0x542976=await K[_0x15bc64(0x77c)][_0x15bc64(0x168)](_0x55f4d4,{'responseType':'arraybuffer'});k[_0x15bc64(0xe9)](_0x181a09,_0x542976[_0x15bc64(0x4cf)]);}else{let _0x2ae73d=Buffer['from'](_0x3dde4f,_0x15bc64(0x6a4));k['writeFileSync'](_0x181a09,_0x2ae73d);}return new Promise((_0x5d8efb,_0x30ec19)=>{const _0x3d527e=_0x15bc64;(0x0,Ue[_0x3d527e(0x5c2)])(Ds[_0x3d527e(0x77c)][_0x3d527e(0x5c8)]+_0x3d527e(0x745)+_0x181a09+_0x3d527e(0x386)+_0xfda5df+'\x20-y',_0x1bfa3e=>{const _0x49c717=_0x3d527e;if(k['unlinkSync'](_0x181a09),_0x1bfa3e){this['logger']['verbose'](this[_0x49c717(0x225)]+'\x20('+this[_0x49c717(0x1f6)]['wuid']+_0x49c717(0x249)),_0x30ec19(_0x1bfa3e);return;}this[_0x49c717(0x3c2)][_0x49c717(0x2eb)](this[_0x49c717(0x225)]+'\x20('+this[_0x49c717(0x1f6)][_0x49c717(0x718)]+'):Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x5d8efb(_0xfda5df);});});}async['convertaudioMP3'](_0x2564de){const _0x10a226=a0_0x5a0e1e;this[_0x10a226(0x3c2)]['verbose'](this[_0x10a226(0x225)]+'\x20('+this[_0x10a226(0x1f6)]['wuid']+'):Processing\x20audio');let _0x166c33=(0x0,oe['createHash'])('sha256')[_0x10a226(0x15d)](_0x2564de)[_0x10a226(0x510)](_0x10a226(0x4ba)),_0x33142e=''+(0x0,j['join'])(this[_0x10a226(0x318)],_0x166c33+_0x10a226(0x588));if(k[_0x10a226(0x82d)](_0x33142e))return this['logger']['verbose'](this[_0x10a226(0x225)]+'\x20('+this['instance']['wuid']+_0x10a226(0x815)),j[_0x10a226(0x77c)]['basename'](_0x33142e);let _0x3d2493=''+(0x0,j['join'])(this['storePath'],_0x10a226(0x538)+_0x166c33+_0x10a226(0x759));if((0x0,J['isURL'])(_0x2564de)){let _0x34e23e=new Date()['getTime'](),_0xe929a4=_0x2564de+'?timestamp='+_0x34e23e,_0x469d77=await K['default']['get'](_0xe929a4,{'responseType':_0x10a226(0x29a)});k[_0x10a226(0xe9)](_0x3d2493,_0x469d77[_0x10a226(0x4cf)]);}else{let _0x44a42e=Buffer['from'](_0x2564de,_0x10a226(0x6a4));k[_0x10a226(0xe9)](_0x3d2493,_0x44a42e);}return new Promise((_0x41e97b,_0x5258d9)=>{const _0x42f16e=_0x10a226;(0x0,Ue[_0x42f16e(0x5c2)])(Ds[_0x42f16e(0x77c)]['path']+'\x20-i\x20'+_0x3d2493+_0x42f16e(0x577)+_0x33142e+_0x42f16e(0x41c),_0x491610=>{const _0x316ae4=_0x42f16e;if(k[_0x316ae4(0x5ac)](_0x3d2493),_0x491610){this[_0x316ae4(0x3c2)][_0x316ae4(0x2eb)](this[_0x316ae4(0x225)]+'\x20('+this[_0x316ae4(0x1f6)][_0x316ae4(0x718)]+'):Error\x20in\x20converting\x20audio'),_0x5258d9(_0x491610);return;}this['logger']['verbose'](this[_0x316ae4(0x225)]+'\x20('+this[_0x316ae4(0x1f6)][_0x316ae4(0x718)]+_0x316ae4(0x4f0)),_0x41e97b(j[_0x316ae4(0x77c)][_0x316ae4(0x82a)](_0x33142e));});});}async[a0_0x5a0e1e(0x63f)](_0x2e6b7b){const _0x36254a=a0_0x5a0e1e;console[_0x36254a(0x6ec)](_0x36254a(0x339),_0x2e6b7b);let _0x10db5d;try{_0x2e6b7b[_0x36254a(0x63f)]?.[_0x36254a(0x518)]&&(_0x10db5d=await this[_0x36254a(0x817)]({'mediatype':'image','media':_0x2e6b7b[_0x36254a(0x63f)][_0x36254a(0x518)]}));}catch(_0x5bd364){throw console[_0x36254a(0x685)](_0x36254a(0x73c),_0x5bd364),new Error(_0x36254a(0x68d));}try{let _0x38b00f={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x36254a(0x52a)},'footer':{'text':_0x36254a(0x123)},'header':((()=>{const _0x3a8199=_0x36254a;if(_0x10db5d?.[_0x3a8199(0x3d6)]?.[_0x3a8199(0xa2)])return{'hasMediaAttachment':!!_0x10db5d[_0x3a8199(0x3d6)][_0x3a8199(0xa2)],'imageMessage':_0x10db5d[_0x3a8199(0x3d6)][_0x3a8199(0xa2)]};})()),'nativeFlowMessage':{'buttons':[{'name':_0x36254a(0x218),'buttonParamsJson':JSON[_0x36254a(0x265)]({'display_text':'Botão\x201','id':'1'})},{'name':_0x36254a(0x218),'buttonParamsJson':JSON[_0x36254a(0x265)]({'display_text':_0x36254a(0x6ad),'id':'2'})}],'messageParamsJson':JSON[_0x36254a(0x265)]({'from':_0x36254a(0x705),'templateId':_0x36254a(0x774)+(0x0,oe['randomBytes'])(0x12)[_0x36254a(0x6b5)](_0x36254a(0x4ba))[_0x36254a(0x49a)]()})}}}}};return await this[_0x36254a(0x7e5)](_0x2e6b7b[_0x36254a(0x12c)],_0x38b00f,_0x2e6b7b?.[_0x36254a(0x163)]);}catch(_0x390f1b){throw console['error'](_0x36254a(0x5ec),_0x390f1b),new Error(_0x36254a(0x7fc));}}async['locationMessage'](_0xc15292){const _0x4b0986=a0_0x5a0e1e;return await this[_0x4b0986(0x826)](_0xc15292[_0x4b0986(0x12c)],{'locationMessage':{'degreesLatitude':_0xc15292['locationMessage'][_0x4b0986(0x1a3)],'degreesLongitude':_0xc15292[_0x4b0986(0x467)][_0x4b0986(0xe8)],'name':_0xc15292[_0x4b0986(0x467)]?.[_0x4b0986(0x7e8)],'address':_0xc15292['locationMessage']?.['address']}},_0xc15292?.[_0x4b0986(0x163)]);}async[a0_0x5a0e1e(0x26e)](_0x4260a3){const _0x5dfb61=a0_0x5a0e1e;let _0x411ef5={},_0x3a95d0=async _0xc8b236=>{const _0x831024=a0_0xc548;let _0x35009d=_0x831024(0x4e4)+_0xc8b236['fullName']+_0x831024(0x38e)+_0xc8b236['fullName']+'\x0a';_0xc8b236[_0x831024(0x78a)]&&(_0x35009d+=_0x831024(0x10a)+_0xc8b236['organization']+';\x0a'),_0xc8b236[_0x831024(0x412)]&&(_0x35009d+=_0x831024(0x19f)+_0xc8b236[_0x831024(0x412)]+'\x0a'),_0xc8b236[_0x831024(0x516)]&&(_0x35009d+=_0x831024(0x7d6)+_0xc8b236[_0x831024(0x516)]+'\x0a');let _0x385ec2='',_0x250df2=0x1;if(_0xc8b236['phoneNumber']){let _0x15a10e=_0xc8b236[_0x831024(0x776)][_0x831024(0x83d)]('|');for(let _0x5e167f of _0x15a10e){let _0xc4a8b1=await this[_0x831024(0x425)]({'numbers':[_0x5e167f]}),_0x3be174=(_0xc4a8b1[_0x831024(0x106)]>0x0?_0xc4a8b1[0x0][_0x831024(0x3eb)]:this[_0x831024(0x83a)](_0x5e167f))[_0x831024(0x186)]('@s.whatsapp.net','');_0x385ec2+=_0x831024(0x7d1)+_0x250df2+_0x831024(0x20d)+_0x3be174+':'+_0x5e167f+'\x0aitem'+_0x250df2+'.X-ABLabel:Celular\x0a',_0x250df2++;}}return _0x35009d+=_0x385ec2+_0x831024(0x3f1),_0x35009d;};return _0x4260a3[_0x5dfb61(0x26e)][_0x5dfb61(0x106)]===0x1?_0x411ef5[_0x5dfb61(0x26e)]={'displayName':_0x4260a3[_0x5dfb61(0x26e)][0x0][_0x5dfb61(0x39a)],'vcard':await _0x3a95d0(_0x4260a3[_0x5dfb61(0x26e)][0x0])}:_0x411ef5[_0x5dfb61(0x27e)]={'displayName':_0x4260a3[_0x5dfb61(0x26e)][_0x5dfb61(0x106)]+_0x5dfb61(0x4a8),'contacts':await Promise[_0x5dfb61(0x722)](_0x4260a3['contactMessage'][_0x5dfb61(0x35d)](async _0x4063df=>({'displayName':_0x4063df[_0x5dfb61(0x39a)],'vcard':await _0x3a95d0(_0x4063df)})))},await this[_0x5dfb61(0x826)](_0x4260a3[_0x5dfb61(0x12c)],{..._0x411ef5},_0x4260a3?.[_0x5dfb61(0x163)]);}async[a0_0x5a0e1e(0x270)](_0x3cb045){const _0x1a51bc=a0_0x5a0e1e;return await this[_0x1a51bc(0x826)](_0x3cb045[_0x1a51bc(0x270)][_0x1a51bc(0x5dc)][_0x1a51bc(0x41b)],{'reactionMessage':{'key':_0x3cb045[_0x1a51bc(0x270)]['key'],'text':_0x3cb045[_0x1a51bc(0x270)][_0x1a51bc(0xb9)]}});}async['whatsappNumber'](_0x595daa){const _0x519067=a0_0x5a0e1e;let _0x386893=[];for await(let _0x4ea508 of _0x595daa[_0x519067(0x390)]){let _0x3fca0a=this[_0x519067(0x83a)](_0x4ea508),_0xbafe79=!0x1;try{if((0x0,w[_0x519067(0x181)])(_0x3fca0a)){let _0x10cd76=(await this[_0x519067(0x7bc)][_0x519067(0x6d7)][_0x519067(0x524)]({'where':{'_id':_0x3fca0a}},this[_0x519067(0x1f6)][_0x519067(0x718)]))['groupdata'];_0x10cd76?(_0xbafe79=!0x0,_0x386893[_0x519067(0x212)](new ce(_0x10cd76['id'],_0xbafe79,_0x10cd76?.[_0x519067(0x3f3)]))):(_0x10cd76=await this[_0x519067(0x852)]({'groupJid':_0x3fca0a},_0x519067(0x74d)),_0x386893['push'](new ce(_0x10cd76['id'],!!_0x10cd76?.['id'],_0x10cd76?.[_0x519067(0x3f3)])));}else{if(_0x3fca0a['includes']('@broadcast'))_0x386893[_0x519067(0x212)](new ce(_0x3fca0a,!0x0));else{let _0x3bce08=(await this[_0x519067(0x30c)][_0x519067(0x321)](_0x3fca0a))[0x0];_0x386893[_0x519067(0x212)](new ce(_0x3bce08[_0x519067(0x3eb)],_0x3bce08[_0x519067(0x3d5)]));}}}catch{(0x0,w[_0x519067(0x181)])(_0x3fca0a)||await this['deleteImportedChat'](_0x3fca0a),_0x386893[_0x519067(0x212)](new ce(_0x4ea508,!0x1));}}return _0x386893;}async[a0_0x5a0e1e(0x4d7)](_0x23354a){const _0x4d4117=a0_0x5a0e1e;try{await this[_0x4d4117(0x7bc)]['chat'][_0x4d4117(0x524)]({'where':{'_id':_0x23354a,'imported':!0x0}},this[_0x4d4117(0x1f6)][_0x4d4117(0x718)])&&(await this['repository']['chat'][_0x4d4117(0x67b)](_0x23354a,this[_0x4d4117(0x1f6)]['wuid']),this[_0x4d4117(0x3c2)][_0x4d4117(0x531)](_0x4d4117(0x793)+_0x23354a+_0x4d4117(0x60a)));}catch(_0x267551){let _0x2b6936=_0x4d4117(0x53d),_0x3e9c90=_0x267551 instanceof Error?_0x267551[_0x4d4117(0x3d6)]:typeof _0x267551==_0x4d4117(0x698)?JSON[_0x4d4117(0x265)](_0x267551):_0x267551,_0x566ac9=_0x2b6936+':\x20'+_0x3e9c90;this[_0x4d4117(0x3c2)][_0x4d4117(0x685)](this['instanceName']+'\x20('+this['instance'][_0x4d4117(0x718)]+_0x4d4117(0x693)+_0x566ac9);}}async['markMessageAsRead'](_0x5dcbbd){const _0x278abf=a0_0x5a0e1e;try{let _0x253441=_0x5dcbbd[_0x278abf(0x2df)]['filter'](_0x569878=>(0x0,w[_0x278abf(0x181)])(_0x569878[_0x278abf(0x41b)])||(0x0,w['isJidUser'])(_0x569878[_0x278abf(0x41b)]))['map'](_0x2e98d2=>({'remoteJid':_0x2e98d2[_0x278abf(0x41b)],'fromMe':_0x2e98d2[_0x278abf(0x24c)],'id':_0x2e98d2['id']}));await this[_0x278abf(0x30c)]['readMessages'](_0x253441);let _0x570c7d=_0x253441[_0x278abf(0x35d)](_0x16e106=>this['updateMessage'](_0x16e106,{'status':_0x278abf(0x46a),'owner':this['instance'][_0x278abf(0x718)]})),_0x1113ab=_0x253441[_0x278abf(0x35d)](_0x403065=>this[_0x278abf(0x7bc)]['chat'][_0x278abf(0xbb)]({'where':{'_id':_0x403065['remoteJid']}},{'unreadcount':0x0},this[_0x278abf(0x1f6)][_0x278abf(0x718)])),[_0x1a1ddc,_0x14668a]=await Promise[_0x278abf(0x722)]([Promise[_0x278abf(0x722)](_0x570c7d),Promise['all'](_0x1113ab)]);return _0x14668a['filter'](_0x28c06a=>_0x28c06a!==null)[_0x278abf(0x3a6)](_0x4c49cd=>{const _0xc6bd67=_0x278abf;F(this[_0xc6bd67(0x225)],'chats',{'chat':_0x4c49cd});}),{'message':_0x278abf(0x144),'read':_0x278abf(0x288)};}catch(_0x4fbbe4){let _0x2e4e7b=_0x278abf(0x49c),_0x3e7c13=_0x4fbbe4 instanceof Error?_0x4fbbe4[_0x278abf(0x3d6)]:typeof _0x4fbbe4==_0x278abf(0x698)?JSON[_0x278abf(0x265)](_0x4fbbe4):_0x4fbbe4,_0x3c2571=_0x2e4e7b+':\x20'+_0x3e7c13;throw this['logger'][_0x278abf(0x685)](this[_0x278abf(0x225)]+'\x20('+this['instance'][_0x278abf(0x718)]+'):\x20'+_0x3c2571),new x(_0x3c2571);}}async[a0_0x5a0e1e(0xd7)](_0x40b7b2){const _0x5e6c8a=a0_0x5a0e1e;let _0x3f9abe={'where':{'key':{'remoteJid':_0x40b7b2}},'limit':0x1},_0x515fac=await this[_0x5e6c8a(0x658)](_0x3f9abe);return _0x515fac||(this[_0x5e6c8a(0x3c2)][_0x5e6c8a(0x685)](_0x5e6c8a(0x453)+_0x40b7b2),null);}async[a0_0x5a0e1e(0x7ef)](_0x5be656){const _0xba2a3=a0_0x5a0e1e;this[_0xba2a3(0x3c2)][_0xba2a3(0x2eb)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xba2a3(0x329));try{let _0x1e1a14=_0x5be656['lastMessage'],_0x2a9779=_0x5be656[_0xba2a3(0x6d7)];if(!_0x1e1a14&&_0x2a9779?_0x1e1a14=await this[_0xba2a3(0xd7)](_0x2a9779):(_0x1e1a14=_0x5be656[_0xba2a3(0x3d3)],_0x1e1a14[_0xba2a3(0x6e5)]=_0x1e1a14?.['messageTimestamp']??Date[_0xba2a3(0x616)](),_0x2a9779=_0x1e1a14?.[_0xba2a3(0x5dc)]?.[_0xba2a3(0x41b)]),!_0x1e1a14||Object[_0xba2a3(0x401)](_0x1e1a14)[_0xba2a3(0x106)]===0x0)throw new U(_0xba2a3(0xcd));this['logger'][_0xba2a3(0x2eb)](this[_0xba2a3(0x225)]+'\x20('+this['instance'][_0xba2a3(0x718)]+_0xba2a3(0x5d8)+_0x2a9779);try{await this[_0xba2a3(0x30c)][_0xba2a3(0x293)]({'archive':_0x5be656[_0xba2a3(0x5a2)],'lastMessages':[_0x1e1a14]},this[_0xba2a3(0x83a)](_0x2a9779));}catch(_0x51a136){let _0x486f29=_0xba2a3(0x618)+_0x2a9779,_0x530437=_0x51a136 instanceof Error?_0x51a136['message']:typeof _0x51a136==_0xba2a3(0x698)?JSON['stringify'](_0x51a136):_0x51a136,_0x3c60a7=_0x486f29+':\x20'+_0x530437;this[_0xba2a3(0x3c2)][_0xba2a3(0x685)](this[_0xba2a3(0x225)]+'\x20('+this['instance'][_0xba2a3(0x718)]+_0xba2a3(0x693)+_0x3c60a7);}this[_0xba2a3(0x3c2)]['verbose'](this[_0xba2a3(0x225)]+'\x20('+this[_0xba2a3(0x1f6)][_0xba2a3(0x718)]+_0xba2a3(0x25c)+_0x2a9779);let _0xf63cff=await this['repository'][_0xba2a3(0x6d7)][_0xba2a3(0xbb)]({'where':{'_id':_0x1e1a14?.['key']?.[_0xba2a3(0x41b)]}},{'archived':_0x5be656[_0xba2a3(0x5a2)]},this[_0xba2a3(0x1f6)][_0xba2a3(0x718)]);return _0xf63cff?(this[_0xba2a3(0x3c2)][_0xba2a3(0x2eb)](this[_0xba2a3(0x225)]+'\x20('+this[_0xba2a3(0x1f6)][_0xba2a3(0x718)]+'):Notifying\x20clients\x20for\x20chat:\x20'+JSON['stringify'](_0xf63cff)),F(this['instanceName'],_0xba2a3(0x522),{'chat':_0xf63cff})):this[_0xba2a3(0x3c2)][_0xba2a3(0x685)](this['instanceName']+'\x20('+this[_0xba2a3(0x1f6)][_0xba2a3(0x718)]+_0xba2a3(0x22f)+_0x2a9779),{'chatId':_0x2a9779,'archived':_0x5be656[_0xba2a3(0x5a2)]};}catch(_0x290080){let _0x41fba7=_0xba2a3(0x360),_0x566351=_0x290080 instanceof Error?_0x290080[_0xba2a3(0x3d6)]:typeof _0x290080==_0xba2a3(0x698)?JSON[_0xba2a3(0x265)](_0x290080):_0x290080,_0x46ed23=_0x41fba7+':\x20'+_0x566351;throw this['logger'][_0xba2a3(0x685)](this['instanceName']+'\x20('+this['instance'][_0xba2a3(0x718)]+_0xba2a3(0x693)+_0x46ed23),new x(_0x46ed23);}}async[a0_0x5a0e1e(0x67b)](_0x50ff5c){const _0x46292c=a0_0x5a0e1e;this[_0x46292c(0x3c2)]['verbose'](this[_0x46292c(0x225)]+'\x20('+this[_0x46292c(0x1f6)]['wuid']+'):Delete\x20chat');try{let _0x9d987c=await this['getLastMessage'](_0x50ff5c);if(!_0x9d987c||Object[_0x46292c(0x401)](_0x9d987c)[_0x46292c(0x106)]===0x0)throw new U(_0x46292c(0xcd));let _0x575262=_0x9d987c[0x0];this['logger'][_0x46292c(0x2eb)](this[_0x46292c(0x225)]+'\x20('+this[_0x46292c(0x1f6)][_0x46292c(0x718)]+'):Delete\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x50ff5c);try{await this[_0x46292c(0x30c)][_0x46292c(0x293)]({'delete':!0x0,'lastMessages':[{'key':_0x575262[_0x46292c(0x5dc)],'messageTimestamp':_0x575262[_0x46292c(0x6e5)]}]},this['createJid'](_0x50ff5c));}catch(_0x533e01){this['logger'][_0x46292c(0x685)](_0x46292c(0x618)+_0x50ff5c+':\x20'+_0x533e01[_0x46292c(0x6b5)]());}this[_0x46292c(0x3c2)][_0x46292c(0x2eb)](this['instanceName']+'\x20('+this[_0x46292c(0x1f6)][_0x46292c(0x718)]+_0x46292c(0x25c)+_0x50ff5c);return;}catch(_0x4fd104){throw this['logger'][_0x46292c(0x685)](this['instanceName']+'\x20('+this[_0x46292c(0x1f6)][_0x46292c(0x718)]+'):Error\x20occurred\x20while\x20archiving\x20chat:\x20'+_0x4fd104['toString']()),new x({'archived':!0x1,'message':[_0x46292c(0x517),_0x4fd104[_0x46292c(0x6b5)]()]});}}async['deleteMessage'](_0x9c3437){const _0x382809=a0_0x5a0e1e;try{let _0x227165=await this[_0x382809(0x30c)][_0x382809(0x6ab)](_0x9c3437[_0x382809(0x41b)],{'delete':_0x9c3437});try{let _0x278c64=await this['updateMessage'](_0x9c3437,{'status':_0x382809(0x3a7),'owner':this['instance'][_0x382809(0x718)]});this[_0x382809(0x3c2)][_0x382809(0x2eb)](this[_0x382809(0x225)]+'\x20('+this[_0x382809(0x1f6)][_0x382809(0x718)]+_0x382809(0xea)+_0x278c64);}catch(_0x3aad44){this['logger'][_0x382809(0x685)](_0x382809(0xa0)+_0x3aad44);}return _0x227165;}catch(_0x30a077){throw new x('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x30a077?.[_0x382809(0x6b5)]());}}async[a0_0x5a0e1e(0x56e)](_0x2d2f02){const _0x250d4f=a0_0x5a0e1e;try{let _0x65e1aa=_0x2d2f02?.[_0x250d4f(0x3d6)]?_0x2d2f02:await this[_0x250d4f(0x1e9)](_0x2d2f02[_0x250d4f(0x5dc)],!0x0);for(let _0x90a2e3 of Na)_0x65e1aa['message'][_0x90a2e3]&&(_0x65e1aa[_0x250d4f(0x3d6)]=_0x65e1aa[_0x250d4f(0x3d6)][_0x90a2e3]['message']);let _0x57f131,_0x791110;for(let _0x444b74 of Ea)if(_0x57f131=_0x65e1aa[_0x250d4f(0x3d6)][_0x444b74],_0x57f131){_0x791110=_0x444b74;break;}if(!_0x57f131)throw _0x250d4f(0x4c3);typeof _0x57f131[_0x250d4f(0x3f9)]==_0x250d4f(0x698)&&(_0x65e1aa['message']=JSON[_0x250d4f(0x7f0)](JSON['stringify'](_0x65e1aa[_0x250d4f(0x3d6)])));let _0x11497a=await(0x0,w['downloadMediaMessage'])({'key':_0x65e1aa?.[_0x250d4f(0x5dc)],'message':_0x65e1aa?.[_0x250d4f(0x3d6)]},_0x250d4f(0x4a9),{},{'logger':(0x0,Ft[_0x250d4f(0x77c)])({'level':_0x250d4f(0x3b7)}),'reuploadRequest':this[_0x250d4f(0x30c)][_0x250d4f(0x837)]});if(!(_0x11497a instanceof Buffer))throw new Error(_0x250d4f(0x224));let _0x427ea1=this[_0x250d4f(0x1e5)][_0x250d4f(0x168)](_0x250d4f(0x3ad)),_0x998d12,_0x1dc5fd;if(_0x57f131[_0x250d4f(0x72a)])_0x998d12=_0x57f131[_0x250d4f(0x72a)];else{let _0x1b97f7=_0x57f131[_0x250d4f(0x57c)]?.[_0x250d4f(0x4da)](/\/(\w+)/),_0x5a13a9=_0x1b97f7?_0x1b97f7[0x1]:null;if(!_0x5a13a9)throw new Error(_0x250d4f(0x1b4));_0x998d12=(0x0,Q['v4'])()+'.'+_0x5a13a9;}_0x791110===_0x250d4f(0x5e4)?_0x1dc5fd=_0x250d4f(0x5f8)+await this[_0x250d4f(0x5a7)](_0x11497a[_0x250d4f(0x6b5)]('base64')):(await this[_0x250d4f(0x553)](_0x11497a,_0x998d12),_0x1dc5fd=_0x250d4f(0x5f8)+_0x998d12);let _0x401bcd=this[_0x250d4f(0x1e5)][_0x250d4f(0x168)](_0x250d4f(0x4bd))[_0x250d4f(0x1c3)];if(!_0x401bcd){let _0x235119=this[_0x250d4f(0x1e5)][_0x250d4f(0x168)](_0x250d4f(0x7e2));_0x401bcd='https://'+(_0x235119&&_0x235119[_0x250d4f(0x756)][_0x250d4f(0x83d)]('/')[0x4]);}_0x1dc5fd=''+_0x401bcd+_0x1dc5fd;let _0x1e269c=0xc*0x3c*0x3c*0x3e8,_0x5a4f65={'where':{'_id':_0x65e1aa[_0x250d4f(0x5dc)]['id']}},_0x33540e={'message_normalized.fileUrl':_0x1dc5fd,'message_normalized.expires_fileUrl':Date[_0x250d4f(0x616)]()+_0x1e269c};try{let _0x1de8a0=await this[_0x250d4f(0x7bc)][_0x250d4f(0x3d6)][_0x250d4f(0x15d)](_0x5a4f65,_0x33540e,this[_0x250d4f(0x1f6)][_0x250d4f(0x718)]);_0x1de8a0&&F(this['instanceName'],'messages',{'message':_0x1de8a0});}catch(_0x8af47a){let _0x37dc62=_0x250d4f(0x3f0),_0x223050=_0x8af47a instanceof Error?_0x8af47a['message']:typeof _0x8af47a=='object'?JSON[_0x250d4f(0x265)](_0x8af47a):_0x8af47a,_0x50f585=_0x37dc62+':\x20'+_0x223050;this[_0x250d4f(0x3c2)][_0x250d4f(0x685)](this['instanceName']+'\x20('+this[_0x250d4f(0x1f6)][_0x250d4f(0x718)]+_0x250d4f(0x693)+_0x50f585);}return{'mediaType':_0x791110,'fileName':_0x57f131[_0x250d4f(0x72a)],'caption':_0x57f131[_0x250d4f(0x760)],'size':{'fileLength':_0x57f131[_0x250d4f(0x2db)],'height':_0x57f131['height'],'width':_0x57f131[_0x250d4f(0x6df)]},'mimetype':_0x57f131[_0x250d4f(0x57c)],'base64':_0x11497a['toString'](_0x250d4f(0x6a4)),'fileUrl':_0x1dc5fd,'expires_fileUrl':Date[_0x250d4f(0x616)]()+_0x1e269c};}catch(_0xe02c7){let _0x15f272=_0x250d4f(0x67d),_0x56f6f1=_0xe02c7 instanceof Error?_0xe02c7[_0x250d4f(0x3d6)]:typeof _0xe02c7=='object'?JSON[_0x250d4f(0x265)](_0xe02c7):_0xe02c7,_0x2fa03f=_0x15f272+':\x20'+_0x56f6f1;throw this[_0x250d4f(0x3c2)][_0x250d4f(0x685)](this[_0x250d4f(0x225)]+'\x20('+this['instance']['wuid']+_0x250d4f(0x693)+_0x2fa03f),new m(_0x2fa03f);}}async[a0_0x5a0e1e(0x553)](_0x528b45,_0x1b585c){const _0x592749=a0_0x5a0e1e;let _0x4e0c54=j[_0x592749(0x77c)]['join'](__dirname,_0x592749(0xaa));k[_0x592749(0x82d)](_0x4e0c54)||k['mkdirSync'](_0x4e0c54,{'recursive':!0x0});let _0x173490=j[_0x592749(0x77c)][_0x592749(0x33d)](_0x4e0c54,_0x1b585c);return new Promise((_0x309de,_0x1c839a)=>{k['writeFile'](_0x173490,_0x528b45,_0x5e7ef2=>{const _0x4563c5=a0_0xc548;_0x5e7ef2?(this[_0x4563c5(0x3c2)]['error'](_0x4563c5(0x79b)+(_0x5e7ef2 instanceof Error?_0x5e7ef2[_0x4563c5(0x3d6)]:JSON[_0x4563c5(0x265)](_0x5e7ef2,null,0x2))),_0x1c839a(_0x5e7ef2)):(this['logger'][_0x4563c5(0x6ec)]('File\x20written\x20to\x20path:\x20'+_0x173490),_0x309de(_0x173490));});});}async[a0_0x5a0e1e(0x7a4)](_0x51e663){const _0x8e3c1b=a0_0x5a0e1e;return await this[_0x8e3c1b(0x7bc)][_0x8e3c1b(0x4b0)][_0x8e3c1b(0x174)](_0x51e663,this[_0x8e3c1b(0x1f6)]['wuid']);}async[a0_0x5a0e1e(0x1f0)](){const _0x497189=a0_0x5a0e1e;return await this[_0x497189(0x7bc)][_0x497189(0x4f9)][_0x497189(0x174)]({'where':{}},this[_0x497189(0x1f6)][_0x497189(0x718)]);}async[a0_0x5a0e1e(0x658)](_0x277396){const _0x309967=a0_0x5a0e1e;return await this[_0x309967(0x7bc)][_0x309967(0x3d6)][_0x309967(0x174)](_0x277396,this[_0x309967(0x1f6)][_0x309967(0x718)]);}async[a0_0x5a0e1e(0x474)](){const _0x97ded0=a0_0x5a0e1e;return this[_0x97ded0(0x7bc)][_0x97ded0(0x6d7)]['removeUnusedChatFields'](this['instance'][_0x97ded0(0x718)]),this[_0x97ded0(0x7bc)][_0x97ded0(0x6d7)][_0x97ded0(0x50f)](this[_0x97ded0(0x1f6)][_0x97ded0(0x718)]),this[_0x97ded0(0x7bc)][_0x97ded0(0x6d7)][_0x97ded0(0x512)](this[_0x97ded0(0x1f6)][_0x97ded0(0x718)]),this[_0x97ded0(0x7bc)]['chat'][_0x97ded0(0x1b2)](this[_0x97ded0(0x1f6)][_0x97ded0(0x718)]),await this['repository'][_0x97ded0(0x6d7)][_0x97ded0(0x174)]({'where':{}},this[_0x97ded0(0x1f6)][_0x97ded0(0x718)]);}async[a0_0x5a0e1e(0x56a)](_0xda3fc1){const _0xb4f9bc=a0_0x5a0e1e;try{if(!Array['isArray'](_0xda3fc1)||_0xda3fc1['length']===0x0)throw new Error(_0xb4f9bc(0x6a9));let _0x273ab5=[],_0x221703=[];for(let _0x1896ab of _0xda3fc1){if(_0x1896ab['_id'])_0x1896ab['_id']=this[_0xb4f9bc(0x83a)](_0x1896ab[_0xb4f9bc(0x772)]);else continue;await this['repository'][_0xb4f9bc(0x6d7)]['findOne']({'where':{'_id':_0x1896ab[_0xb4f9bc(0x772)]}},this[_0xb4f9bc(0x1f6)]['wuid'])?_0x221703[_0xb4f9bc(0x212)]({'_id':_0x1896ab[_0xb4f9bc(0x772)],'leadInfo':_0x1896ab[_0xb4f9bc(0x2af)],'owner':this['instance'][_0xb4f9bc(0x718)]}):_0x273ab5[_0xb4f9bc(0x212)]({'_id':_0x1896ab['_id'],'owner':this[_0xb4f9bc(0x1f6)][_0xb4f9bc(0x718)],'leadInfo':_0x1896ab[_0xb4f9bc(0x2af)],'imported':!0x0});}return _0x221703[_0xb4f9bc(0x106)]>0x0&&await this[_0xb4f9bc(0x7bc)][_0xb4f9bc(0x6d7)]['updateMany'](_0x221703[_0xb4f9bc(0x35d)](_0x3a0e64=>({'query':{'where':{'_id':_0x3a0e64[_0xb4f9bc(0x772)],'owner':this[_0xb4f9bc(0x1f6)]['wuid']}},'update':_0x3a0e64}))),_0x273ab5[_0xb4f9bc(0x106)]>0x0&&await this[_0xb4f9bc(0x7bc)][_0xb4f9bc(0x6d7)][_0xb4f9bc(0x3be)](_0x273ab5,this[_0xb4f9bc(0x1f6)][_0xb4f9bc(0x718)]),{'updated':_0x221703[_0xb4f9bc(0x106)],'inserted':_0x273ab5['length']};}catch(_0x56f167){let _0x436d6f=_0xb4f9bc(0x1c7),_0x445b24=_0x56f167 instanceof Error?_0x56f167[_0xb4f9bc(0x3d6)]:typeof _0x56f167=='object'?JSON['stringify'](_0x56f167):_0x56f167,_0x3328de=_0x436d6f+':\x20'+_0x445b24;throw this[_0xb4f9bc(0x3c2)]['error'](this[_0xb4f9bc(0x225)]+'\x20('+this[_0xb4f9bc(0x1f6)][_0xb4f9bc(0x718)]+'):\x20'+_0x3328de),new m(_0x3328de);}}async['importChats'](_0x40aece){const _0x5114d5=a0_0x5a0e1e;try{if(!Array['isArray'](_0x40aece)||_0x40aece['length']===0x0)throw new Error(_0x5114d5(0x6a9));let _0x12ce82=0x64,_0x2be1f9=0x0;for(let _0x18cc1b=0x0;_0x18cc1b<_0x40aece[_0x5114d5(0x106)];_0x18cc1b+=_0x12ce82){let _0x4fd50d=_0x40aece[_0x5114d5(0xd0)](_0x18cc1b,_0x18cc1b+_0x12ce82),{updated:_0x497b10}=await this[_0x5114d5(0x456)](_0x4fd50d);_0x2be1f9+=_0x497b10;}return{'updated':_0x2be1f9};}catch(_0x3d0e49){let _0x1a5377=_0x5114d5(0x1c7),_0x1a1acc=_0x3d0e49 instanceof Error?_0x3d0e49[_0x5114d5(0x3d6)]:typeof _0x3d0e49==_0x5114d5(0x698)?JSON[_0x5114d5(0x265)](_0x3d0e49):_0x3d0e49,_0x20eaa6=_0x1a5377+':\x20'+_0x1a1acc;throw this[_0x5114d5(0x3c2)][_0x5114d5(0x685)](this[_0x5114d5(0x225)]+'\x20('+this['instance'][_0x5114d5(0x718)]+_0x5114d5(0x693)+_0x20eaa6),new m(_0x20eaa6);}}async['importChatsBatch'](_0x5d2f6d){const _0x586470=a0_0x5a0e1e;try{let _0x35bb71=await this[_0x586470(0x7bc)][_0x586470(0x4f9)][_0x586470(0x174)]({'where':{}},this[_0x586470(0x1f6)][_0x586470(0x718)]),_0x57ebf8=new Set(_0x35bb71['map'](_0x45359e=>_0x45359e[_0x586470(0x772)])),_0x42fb84=[],_0x5048d0=[];for(let _0x8db04d of _0x5d2f6d){if(!_0x8db04d[_0x586470(0x772)])continue;_0x8db04d[_0x586470(0x772)]=this[_0x586470(0x83a)](_0x8db04d[_0x586470(0x772)]);let _0x41bbad=await this[_0x586470(0x7bc)][_0x586470(0x6d7)]['findOne']({'where':{'_id':_0x8db04d['_id']}},this[_0x586470(0x1f6)][_0x586470(0x718)]),_0x2ec801={};if(Object[_0x586470(0x822)](_0x8db04d[_0x586470(0x2af)])['forEach'](([_0x25f7d3,_0x159be0])=>{const _0x38ffee=_0x586470;_0x2ec801[_0x38ffee(0x65c)+_0x25f7d3]=_0x159be0;}),_0x41bbad&&!_0x41bbad['imported']){let _0x44192a=(_0x8db04d['leadInfo'][_0x586470(0x125)]||[])['filter'](_0x47d1d2=>_0x57ebf8['has'](_0x47d1d2)),_0xcb275e=new Set(_0x41bbad['leadInfo']['etiquetas']||[]),_0x3b8097=_0x44192a[_0x586470(0x736)](_0x4d5d1c=>!_0xcb275e['has'](_0x4d5d1c)),_0x32a6e6=[..._0xcb275e][_0x586470(0x736)](_0x568443=>!_0x44192a[_0x586470(0x402)](_0x568443));_0x5048d0['push'](..._0x3b8097[_0x586470(0x35d)](_0x2efbd5=>this[_0x586470(0x39c)](_0x2efbd5,_0x8db04d[_0x586470(0x772)]))),_0x5048d0[_0x586470(0x212)](..._0x32a6e6[_0x586470(0x35d)](_0x1f11a4=>this[_0x586470(0x440)](_0x1f11a4,_0x8db04d['_id']))),_0x8db04d['leadInfo'][_0x586470(0x125)]=_0x44192a,_0x42fb84[_0x586470(0x212)]({'query':{'where':{'_id':_0x8db04d[_0x586470(0x772)],'owner':this[_0x586470(0x1f6)][_0x586470(0x718)]}},'update':_0x2ec801});}else _0x2ec801[_0x586470(0x5a0)]=!0x0,_0x42fb84[_0x586470(0x212)]({'query':{'where':{'_id':_0x8db04d[_0x586470(0x772)],'owner':this[_0x586470(0x1f6)][_0x586470(0x718)]}},'update':_0x2ec801});}let _0x3740b2=await this['repository'][_0x586470(0x6d7)][_0x586470(0x2b8)](_0x42fb84);return await Promise[_0x586470(0x722)](_0x5048d0),{'updated':_0x3740b2};}catch(_0x15a4f6){let _0x58b2e0='Erro\x20ao\x20importar\x20chats',_0x2ac18b=_0x15a4f6 instanceof Error?_0x15a4f6[_0x586470(0x3d6)]:typeof _0x15a4f6=='object'?JSON['stringify'](_0x15a4f6):_0x15a4f6,_0x289a71=_0x58b2e0+':\x20'+_0x2ac18b;throw this[_0x586470(0x3c2)][_0x586470(0x685)](this['instanceName']+'\x20('+this[_0x586470(0x1f6)]['wuid']+_0x586470(0x693)+_0x289a71),new m(_0x289a71);}}async['fetchPrivacySettings'](){const _0x3bba98=a0_0x5a0e1e;return await this[_0x3bba98(0x30c)]['fetchPrivacySettings']();}async[a0_0x5a0e1e(0x43e)](_0x228e43){const _0x60fab7=a0_0x5a0e1e;try{return await this[_0x60fab7(0x30c)][_0x60fab7(0x2e6)](_0x228e43[_0x60fab7(0x36b)][_0x60fab7(0x13c)]),await this[_0x60fab7(0x30c)][_0x60fab7(0xfb)](_0x228e43[_0x60fab7(0x36b)]['profile']),await this[_0x60fab7(0x30c)][_0x60fab7(0x639)](_0x228e43[_0x60fab7(0x36b)][_0x60fab7(0x1cc)]),await this['client'][_0x60fab7(0x4ab)](_0x228e43[_0x60fab7(0x36b)]['online']),await this[_0x60fab7(0x30c)][_0x60fab7(0x196)](_0x228e43['privacySettings']['last']),await this[_0x60fab7(0x30c)][_0x60fab7(0x6b1)](_0x228e43[_0x60fab7(0x36b)][_0x60fab7(0x656)]),this[_0x60fab7(0x30c)]?.['ws']?.[_0x60fab7(0x407)](),{'update':'success','data':{'readreceipts':_0x228e43[_0x60fab7(0x36b)][_0x60fab7(0x13c)],'profile':_0x228e43[_0x60fab7(0x36b)][_0x60fab7(0x674)],'status':_0x228e43[_0x60fab7(0x36b)]['status'],'online':_0x228e43[_0x60fab7(0x36b)]['online'],'last':_0x228e43[_0x60fab7(0x36b)][_0x60fab7(0x619)],'groupadd':_0x228e43[_0x60fab7(0x36b)][_0x60fab7(0x656)]}};}catch(_0xec9fde){let _0x4e65de=_0x60fab7(0x52d),_0x159165=_0xec9fde instanceof Error?_0xec9fde[_0x60fab7(0x3d6)]:typeof _0xec9fde==_0x60fab7(0x698)?JSON['stringify'](_0xec9fde):_0xec9fde,_0x39dac8=_0x4e65de+':\x20'+_0x159165;throw this[_0x60fab7(0x3c2)][_0x60fab7(0x685)](this[_0x60fab7(0x225)]+'\x20('+this[_0x60fab7(0x1f6)][_0x60fab7(0x718)]+_0x60fab7(0x693)+_0x39dac8),new m(_0x39dac8);}}async[a0_0x5a0e1e(0x395)](_0x3eccff){const _0x3111a8=a0_0x5a0e1e;let _0x38940e=(_0x3eccff?this[_0x3111a8(0x83a)](_0x3eccff):this[_0x3111a8(0x30c)]?.[_0x3111a8(0x562)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0x3111a8(0x3c2)][_0x3111a8(0x2eb)](this[_0x3111a8(0x225)]+'\x20('+this['instance'][_0x3111a8(0x718)]+'):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0x38940e);let _0x40b5f8=await this[_0x3111a8(0x7bc)][_0x3111a8(0x4b0)][_0x3111a8(0x524)]({'where':{'_id':_0x38940e}},this[_0x3111a8(0x1f6)]['wuid']),_0x59d4fb=_0x40b5f8?_0x40b5f8[_0x3111a8(0x489)]:null;try{let _0x5a53ce=(await this['whatsappNumber']({'numbers':[_0x38940e]}))?.[_0x3111a8(0x678)](),_0xe07d05=(await this[_0x3111a8(0x6bb)](_0x38940e,null,!0x1))['cachedContact'][_0x3111a8(0x2ba)],_0x129119=await this[_0x3111a8(0x6a3)](_0x5a53ce?.[_0x3111a8(0x3eb)]),_0x57cb5b=await this[_0x3111a8(0x1c2)](_0x5a53ce?.[_0x3111a8(0x3eb)]),_0x49983d=(await this['findAndUpdateCacheContact'](_0x38940e,null,!0x1))[_0x3111a8(0x324)][_0x3111a8(0x7e8)],_0x55647c=await this[_0x3111a8(0x7bc)][_0x3111a8(0x6d7)][_0x3111a8(0x524)]({'where':{'_id':_0x38940e}},this['instance'][_0x3111a8(0x718)]),_0x54685c={'imagechat':_0xe07d05,'contactname':_0x59d4fb||null,'pushName':_0x49983d,'status':_0x129119?.[_0x3111a8(0x1cc)],'isBusiness':_0x57cb5b[_0x3111a8(0x4d1)],'email':_0x57cb5b?.[_0x3111a8(0x412)],'description':_0x57cb5b?.[_0x3111a8(0xc9)],'website':_0x57cb5b?.[_0x3111a8(0x183)]?.[_0x3111a8(0x678)](),'lastcache':Date[_0x3111a8(0x616)](),'imported':!_0x55647c},_0x3046cf=await this[_0x3111a8(0x7bc)]['chat'][_0x3111a8(0xbb)]({'where':{'_id':_0x38940e}},_0x54685c,this[_0x3111a8(0x1f6)][_0x3111a8(0x718)]),_0x5149c3={'owner':this[_0x3111a8(0x1f6)][_0x3111a8(0x718)],'_id':_0x38940e,'profilePictureUrl':_0xe07d05,'status':_0x129119?.[_0x3111a8(0x1cc)]};return this[_0x3111a8(0x7bc)]['contact'][_0x3111a8(0x15d)]([_0x5149c3],this[_0x3111a8(0x1f6)][_0x3111a8(0x718)]),_0x3046cf&&F(this[_0x3111a8(0x225)],'chats',{'chat':_0x3046cf}),{'wuid':_0x5a53ce?.['jid']||_0x38940e,'name':_0x5a53ce?.[_0x3111a8(0x7e8)],'pushName':_0x49983d,'numberExists':_0x5a53ce?.[_0x3111a8(0x3d5)],'picture':_0xe07d05,'status':_0x129119?.[_0x3111a8(0x1cc)],'isBusiness':_0x57cb5b[_0x3111a8(0x4d1)],'email':_0x57cb5b?.[_0x3111a8(0x412)],'description':_0x57cb5b?.[_0x3111a8(0xc9)],'website':_0x57cb5b?.[_0x3111a8(0x183)]?.['shift']()};}catch(_0x894b02){return this['logger']['error']('Error\x20fetching\x20and\x20updating\x20profile:\x20'+(_0x894b02 instanceof Error?_0x894b02['message']:JSON['stringify'](_0x894b02,null,0x2))),{};}}async[a0_0x5a0e1e(0x1c2)](_0x5b24e4){const _0x58967a=a0_0x5a0e1e;this[_0x58967a(0x3c2)][_0x58967a(0x2eb)](this[_0x58967a(0x225)]+'\x20('+this[_0x58967a(0x1f6)][_0x58967a(0x718)]+_0x58967a(0x83f));try{let _0x3b8161=_0x5b24e4?this[_0x58967a(0x83a)](_0x5b24e4):this['instance'][_0x58967a(0x718)],_0x1ec075=await this[_0x58967a(0x30c)][_0x58967a(0x143)](_0x3b8161);return this[_0x58967a(0x3c2)][_0x58967a(0x2eb)](this[_0x58967a(0x225)]+'\x20('+this['instance'][_0x58967a(0x718)]+_0x58967a(0x4ec)),_0x1ec075?(this['logger']['verbose'](this[_0x58967a(0x225)]+'\x20('+this[_0x58967a(0x1f6)][_0x58967a(0x718)]+_0x58967a(0x7ff)),{'isBusiness':!0x0,..._0x1ec075}):{'isBusiness':!0x1,'message':_0x58967a(0x791),...(await this[_0x58967a(0x425)]({'numbers':[_0x3b8161]}))?.[_0x58967a(0x678)]()};}catch(_0x851729){let _0x5aaede=_0x58967a(0x6c2),_0x26ca14=_0x851729 instanceof Error?_0x851729[_0x58967a(0x3d6)]:typeof _0x851729==_0x58967a(0x698)?JSON['stringify'](_0x851729):_0x851729,_0x3a2308=_0x5aaede+':\x20'+_0x26ca14;throw this[_0x58967a(0x3c2)][_0x58967a(0x685)](this[_0x58967a(0x225)]+'\x20('+this[_0x58967a(0x1f6)]['wuid']+_0x58967a(0x693)+_0x3a2308),new x(_0x3a2308);}}async[a0_0x5a0e1e(0x6a3)](_0x45cae5){const _0x4bfa1c=a0_0x5a0e1e;let _0x40d8dc=this['createJid'](_0x45cae5);try{return{'wuid':_0x40d8dc,'status':(await this[_0x4bfa1c(0x30c)]['fetchStatus'](_0x40d8dc))[0x0]?.[_0x4bfa1c(0x1cc)]};}catch{return{'wuid':_0x40d8dc,'status':null};}}async[a0_0x5a0e1e(0x66e)](_0x72ab94){const _0x2d1303=a0_0x5a0e1e;try{return await this[_0x2d1303(0x30c)][_0x2d1303(0x66e)](_0x72ab94),{'update':_0x2d1303(0x288)};}catch(_0x59d932){let _0x13420c='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName',_0x150ae1=_0x59d932 instanceof Error?_0x59d932[_0x2d1303(0x3d6)]:typeof _0x59d932==_0x2d1303(0x698)?JSON['stringify'](_0x59d932):_0x59d932,_0x1389a0=_0x13420c+':\x20'+_0x150ae1;throw this[_0x2d1303(0x3c2)][_0x2d1303(0x685)](this['instanceName']+'\x20('+this[_0x2d1303(0x1f6)][_0x2d1303(0x718)]+_0x2d1303(0x693)+_0x1389a0),new x(_0x1389a0);}}async['updateProfileStatus'](_0x1fc7b8){const _0x59001b=a0_0x5a0e1e;try{return await this[_0x59001b(0x30c)][_0x59001b(0x486)](_0x1fc7b8),{'update':_0x59001b(0x288)};}catch(_0x251c7f){let _0x399d8e=_0x59001b(0xa1),_0x84139d=_0x251c7f instanceof Error?_0x251c7f[_0x59001b(0x3d6)]:typeof _0x251c7f==_0x59001b(0x698)?JSON[_0x59001b(0x265)](_0x251c7f):_0x251c7f,_0x5201c2=_0x399d8e+':\x20'+_0x84139d;throw this[_0x59001b(0x3c2)][_0x59001b(0x685)](this[_0x59001b(0x225)]+'\x20('+this['instance'][_0x59001b(0x718)]+_0x59001b(0x693)+_0x5201c2),new x(_0x5201c2);}}async[a0_0x5a0e1e(0x5f1)](_0x448c58){const _0x36173d=a0_0x5a0e1e;try{let _0x5d9035;if((0x0,J[_0x36173d(0x291)])(_0x448c58)){let _0x464514=new Date()[_0x36173d(0x333)](),_0x2194b5=_0x448c58+_0x36173d(0x2e7)+_0x464514;_0x5d9035=(await K['default'][_0x36173d(0x168)](_0x2194b5,{'responseType':_0x36173d(0x29a)}))[_0x36173d(0x4cf)];}else{if((0x0,J[_0x36173d(0x30e)])(_0x448c58))_0x5d9035=Buffer[_0x36173d(0x6d0)](_0x448c58,_0x36173d(0x6a4));else throw new m(_0x36173d(0x73a));}return await this['client'][_0x36173d(0x5f1)](this[_0x36173d(0x1f6)][_0x36173d(0x718)],_0x5d9035),{'update':_0x36173d(0x288)};}catch(_0x4a569f){let _0x339208='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture',_0x239398=_0x4a569f instanceof Error?_0x4a569f[_0x36173d(0x3d6)]:typeof _0x4a569f==_0x36173d(0x698)?JSON['stringify'](_0x4a569f):_0x4a569f,_0x24a3c9=_0x339208+':\x20'+_0x239398;throw this[_0x36173d(0x3c2)][_0x36173d(0x685)](this[_0x36173d(0x225)]+'\x20('+this[_0x36173d(0x1f6)][_0x36173d(0x718)]+_0x36173d(0x693)+_0x24a3c9),new x(_0x24a3c9);}}async[a0_0x5a0e1e(0x689)](){const _0x5b83d9=a0_0x5a0e1e;try{return await this[_0x5b83d9(0x30c)][_0x5b83d9(0x689)](this['instance'][_0x5b83d9(0x718)]),{'update':_0x5b83d9(0x288)};}catch(_0x594b8c){let _0x439a31='Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture',_0x302660=_0x594b8c instanceof Error?_0x594b8c[_0x5b83d9(0x3d6)]:typeof _0x594b8c==_0x5b83d9(0x698)?JSON[_0x5b83d9(0x265)](_0x594b8c):_0x594b8c,_0x2b200d=_0x439a31+':\x20'+_0x302660;throw this[_0x5b83d9(0x3c2)]['error'](this[_0x5b83d9(0x225)]+'\x20('+this[_0x5b83d9(0x1f6)][_0x5b83d9(0x718)]+_0x5b83d9(0x693)+_0x2b200d),new x(_0x2b200d);}}async['createGroup'](_0x42f576){const _0x5e810f=a0_0x5a0e1e;try{let _0x3fa0c8=(await this[_0x5e810f(0x425)]({'numbers':_0x42f576[_0x5e810f(0x338)]}))['filter'](_0xde5e8f=>_0xde5e8f[_0x5e810f(0x3d5)])[_0x5e810f(0x35d)](_0x52b9b8=>_0x52b9b8['jid']),{id:_0x32e6f6}=await this[_0x5e810f(0x30c)]['groupCreate'](_0x42f576[_0x5e810f(0x3f3)],_0x3fa0c8);_0x42f576?.['description']&&await this['client'][_0x5e810f(0x384)](_0x32e6f6,_0x42f576[_0x5e810f(0xc9)]);let _0x4a67e5=await this[_0x5e810f(0x30c)]['groupMetadata'](_0x32e6f6);return _0x4a67e5[_0x5e810f(0x10d)]=[],await this[_0x5e810f(0x60f)](_0x4a67e5),{'metadata':_0x4a67e5};}catch(_0x4a7661){let _0x58dfec='Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup',_0x3da7a0=_0x4a7661 instanceof Error?_0x4a7661[_0x5e810f(0x3d6)]:typeof _0x4a7661==_0x5e810f(0x698)?JSON[_0x5e810f(0x265)](_0x4a7661):_0x4a7661,_0x39102e=_0x58dfec+':\x20'+_0x3da7a0;throw this[_0x5e810f(0x3c2)][_0x5e810f(0x685)](this[_0x5e810f(0x225)]+'\x20('+this[_0x5e810f(0x1f6)]['wuid']+_0x5e810f(0x693)+_0x39102e),new x(_0x39102e);}}async['groupBetterSetting'](_0x26e077){const _0x4a660f=a0_0x5a0e1e;try{if(_0x26e077[_0x4a660f(0x20a)]===!0x0&&await this['client'][_0x4a660f(0x4b2)](_0x26e077[_0x4a660f(0x316)],_0x4a660f(0x3af)),_0x26e077['restrict']===!0x1&&await this[_0x4a660f(0x30c)]['groupSettingUpdate'](_0x26e077[_0x4a660f(0x316)],'unlocked'),_0x26e077[_0x4a660f(0x766)]===!0x0&&await this['client']['groupSettingUpdate'](_0x26e077['groupJid'],_0x4a660f(0x385)),_0x26e077[_0x4a660f(0x766)]===!0x1&&await this[_0x4a660f(0x30c)][_0x4a660f(0x4b2)](_0x26e077['groupJid'],_0x4a660f(0x46e)),_0x26e077['memberAddMode']===!0x0&&await this[_0x4a660f(0x30c)][_0x4a660f(0x5b3)](_0x26e077[_0x4a660f(0x316)],'all_member_add'),_0x26e077['memberAddMode']===!0x1&&await this[_0x4a660f(0x30c)][_0x4a660f(0x5b3)](_0x26e077[_0x4a660f(0x316)],_0x4a660f(0x595)),_0x26e077['joinApprovalMode']===!0x0&&await this['client'][_0x4a660f(0x200)](_0x26e077[_0x4a660f(0x316)],'on'),_0x26e077[_0x4a660f(0x36e)]===!0x1&&await this[_0x4a660f(0x30c)]['groupJoinApprovalMode'](_0x26e077[_0x4a660f(0x316)],'off'),typeof _0x26e077['expiration']<'u'&&_0x26e077[_0x4a660f(0x6c4)]!==null&&await this[_0x4a660f(0x30c)][_0x4a660f(0x800)](_0x26e077[_0x4a660f(0x316)],_0x26e077['expiration']),_0x26e077[_0x4a660f(0x7e8)]&&await this[_0x4a660f(0x30c)][_0x4a660f(0x73d)](_0x26e077[_0x4a660f(0x316)],_0x26e077['name']),_0x26e077[_0x4a660f(0xc9)]&&await this['client']['groupUpdateDescription'](_0x26e077[_0x4a660f(0x316)],_0x26e077[_0x4a660f(0xc9)]),_0x26e077[_0x4a660f(0x39b)]){let _0x29177b;if((0x0,J[_0x4a660f(0x291)])(_0x26e077['image'])){let _0x3d84e3=new Date()[_0x4a660f(0x333)](),_0x5b31f7=_0x26e077[_0x4a660f(0x39b)]+'?timestamp='+_0x3d84e3;_0x29177b=(await K['default']['get'](_0x5b31f7,{'responseType':'arraybuffer'}))[_0x4a660f(0x4cf)];}else{if((0x0,J[_0x4a660f(0x30e)])(_0x26e077[_0x4a660f(0x39b)]))_0x29177b=Buffer[_0x4a660f(0x6d0)](_0x26e077[_0x4a660f(0x39b)],_0x4a660f(0x6a4));else throw new m(_0x4a660f(0x73a));}await this[_0x4a660f(0x30c)][_0x4a660f(0x5f1)](_0x26e077['groupJid'],_0x29177b);}return await this[_0x4a660f(0x852)]({'groupJid':_0x26e077[_0x4a660f(0x316)]});}catch(_0x2c071f){let _0x1aa87c=_0x4a660f(0x83c),_0x54e5b6=_0x2c071f instanceof Error?_0x2c071f['message']:typeof _0x2c071f==_0x4a660f(0x698)?JSON[_0x4a660f(0x265)](_0x2c071f):_0x2c071f,_0x1ad5bd=_0x1aa87c+':\x20'+_0x54e5b6;throw this[_0x4a660f(0x3c2)]['error'](this[_0x4a660f(0x225)]+'\x20('+this[_0x4a660f(0x1f6)][_0x4a660f(0x718)]+_0x4a660f(0x693)+_0x1ad5bd),new x(_0x1ad5bd);}}async['updateGParticipant'](_0x4e7220){const _0x18a224=a0_0x5a0e1e;try{let _0x39c456=_0x4e7220[_0x18a224(0x338)][_0x18a224(0x35d)](_0x3b4387=>this[_0x18a224(0x83a)](_0x3b4387));if(_0x4e7220[_0x18a224(0x33a)]===_0x18a224(0x7f6)||_0x4e7220[_0x18a224(0x33a)]===_0x18a224(0x152))await this['client'][_0x18a224(0x447)](_0x4e7220[_0x18a224(0x316)],_0x39c456,_0x4e7220[_0x18a224(0x33a)]);else{if(_0x4e7220['action']===_0x18a224(0x513)){let _0x4d0cbf=(await this['whatsappNumber']({'numbers':_0x4e7220[_0x18a224(0x338)]}))[_0x18a224(0x736)](_0x401f09=>_0x401f09[_0x18a224(0x3d5)])[_0x18a224(0x35d)](_0x1c02c7=>this[_0x18a224(0x83a)](_0x1c02c7[_0x18a224(0x3eb)]));if(_0x4d0cbf[_0x18a224(0x106)]===0x0)throw new m(_0x18a224(0x2f2));await this[_0x18a224(0x30c)][_0x18a224(0x46c)](_0x4e7220[_0x18a224(0x316)],_0x4d0cbf,_0x18a224(0x513));}else await this[_0x18a224(0x30c)][_0x18a224(0x46c)](_0x4e7220[_0x18a224(0x316)],_0x39c456,_0x4e7220['action']);}return await this[_0x18a224(0x852)]({'groupJid':_0x4e7220[_0x18a224(0x316)]});}catch(_0x3c5eae){let _0x10237d=_0x18a224(0x6ac),_0x54bfa0=_0x3c5eae instanceof Error?_0x3c5eae[_0x18a224(0x3d6)]:typeof _0x3c5eae==_0x18a224(0x698)?JSON[_0x18a224(0x265)](_0x3c5eae):_0x3c5eae,_0x57e225=_0x10237d+':\x20'+_0x54bfa0;throw this[_0x18a224(0x3c2)]['error'](this[_0x18a224(0x225)]+'\x20('+this[_0x18a224(0x1f6)]['wuid']+_0x18a224(0x693)+_0x57e225),new m(_0x57e225);}}async['groupGetInviteInfo'](_0x2932c4){const _0x25c681=a0_0x5a0e1e;try{return await this['client']['groupGetInviteInfo'](_0x2932c4[_0x25c681(0x107)]);}catch(_0x23365a){let _0x14ef75=_0x25c681(0x334),_0x185897=_0x23365a instanceof Error?_0x23365a[_0x25c681(0x3d6)]:typeof _0x23365a=='object'?JSON[_0x25c681(0x265)](_0x23365a):_0x23365a,_0x582839=_0x14ef75+':\x20'+_0x185897;throw this[_0x25c681(0x3c2)][_0x25c681(0x685)](this['instanceName']+'\x20('+this[_0x25c681(0x1f6)]['wuid']+'):\x20'+_0x582839),new m(_0x582839);}}async[a0_0x5a0e1e(0x852)](_0x29f50d,_0x582681=a0_0x5a0e1e(0x4a1)){const _0x2729c9=a0_0x5a0e1e;try{let _0x357303=await this[_0x2729c9(0x7bc)][_0x2729c9(0x6d7)][_0x2729c9(0x524)]({'where':{'_id':_0x29f50d[_0x2729c9(0x316)]}},this[_0x2729c9(0x1f6)][_0x2729c9(0x718)]),_0x4f1da5=_0x357303?_0x357303['groupdata']:null,_0x8a7cb8=0x18*0x3c*0x3c*0x3e8;if(!_0x4f1da5||_0x4f1da5[_0x2729c9(0x7a3)]&&Date[_0x2729c9(0x616)]()-_0x4f1da5['lastUpdate']>_0x8a7cb8){let _0x212151=await this[_0x2729c9(0x30c)]['groupMetadata'](_0x29f50d[_0x2729c9(0x316)]);if(_0x212151[_0x2729c9(0x599)]=_0x212151?.[_0x2729c9(0x599)]&&_0x212151[_0x2729c9(0x599)][_0x2729c9(0x6b5)]()[_0x2729c9(0x106)]<0xd?_0x212151?.['subjectTime']*0x3e8:_0x212151?.[_0x2729c9(0x599)]||null,_0x212151[_0x2729c9(0x1a9)]=_0x212151?.['creation']&&_0x212151['creation'][_0x2729c9(0x6b5)]()[_0x2729c9(0x106)]<0xd?_0x212151?.['creation']*0x3e8:_0x212151?.[_0x2729c9(0x1a9)]||null,_0x4f1da5={..._0x212151,'lastUpdate':Date[_0x2729c9(0x616)]()},!_0x212151)return;}let _0x2c8e3e=_0x4f1da5[_0x2729c9(0x338)]?.[_0x2729c9(0x112)](_0x37930b=>_0x37930b['id']===this[_0x2729c9(0x1f6)][_0x2729c9(0x718)]+_0x2729c9(0x6b4)&&_0x37930b['admin']!=null)||!0x1;!_0x4f1da5[_0x2729c9(0x107)]&&_0x2c8e3e&&(_0x4f1da5[_0x2729c9(0x107)]=(await this[_0x2729c9(0x107)](_0x29f50d,!0x1))[_0x2729c9(0x662)]);let _0xb0a8eb=(!_0x4f1da5[_0x2729c9(0x766)]||_0x2c8e3e)&&(!_0x4f1da5[_0x2729c9(0x515)]||_0x2c8e3e);_0x4f1da5[_0x2729c9(0x558)]=_0x2c8e3e,_0x4f1da5[_0x2729c9(0x500)]=_0xb0a8eb;let _0x4870de=[];if(_0x2c8e3e&&_0x4f1da5['joinApprovalMode'])try{_0x4870de=await this[_0x2729c9(0x30c)][_0x2729c9(0x67e)](_0x29f50d[_0x2729c9(0x316)]),_0x4f1da5[_0x2729c9(0x2ed)]=Date['now']();}catch(_0x336696){this[_0x2729c9(0x3c2)][_0x2729c9(0x2eb)](this[_0x2729c9(0x225)]+'\x20('+this[_0x2729c9(0x1f6)][_0x2729c9(0x718)]+_0x2729c9(0xc0)+_0x29f50d[_0x2729c9(0x316)]+':\x20'+(_0x336696 instanceof Error?_0x336696['message']:JSON[_0x2729c9(0x265)](_0x336696,null,0x2)));}try{_0x4f1da5[_0x2729c9(0x39b)]=(await this[_0x2729c9(0x6bb)](_0x29f50d[_0x2729c9(0x316)],null,!0x0))[_0x2729c9(0x324)][_0x2729c9(0x2ba)];}catch(_0x35d720){this[_0x2729c9(0x3c2)][_0x2729c9(0x2eb)](this[_0x2729c9(0x225)]+'\x20('+this[_0x2729c9(0x1f6)][_0x2729c9(0x718)]+_0x2729c9(0x219)+_0x29f50d[_0x2729c9(0x316)]+':\x20'+(_0x35d720 instanceof Error?_0x35d720['message']:JSON[_0x2729c9(0x265)](_0x35d720,null,0x2)));}let _0x5503cd=_0x4f1da5[_0x2729c9(0x338)][_0x2729c9(0x35d)](_0x31767f=>_0x31767f['id']),_0x114ed8=_0x4870de[_0x2729c9(0x35d)](_0x303c1b=>_0x303c1b[_0x2729c9(0x3eb)]),_0x25cf4b=await this['repository'][_0x2729c9(0x6ef)][_0x2729c9(0x226)]([..._0x5503cd,..._0x114ed8]);_0x4f1da5['participants']=_0x4f1da5[_0x2729c9(0x338)]['map'](_0x2f46bf=>{const _0x1b5dc1=_0x2729c9;let _0x9903f1=_0x25cf4b['find'](_0x2e84ba=>_0x2e84ba[_0x1b5dc1(0x772)]===_0x2f46bf['id']);return{'id':_0x2f46bf['id'],'isAdmin':[_0x1b5dc1(0x851),'superadmin'][_0x1b5dc1(0x402)](_0x2f46bf[_0x1b5dc1(0x851)]),'admin':_0x2f46bf[_0x1b5dc1(0x851)],'pushName':_0x9903f1?.['name'],'profilePictureUrl':_0x9903f1?.[_0x1b5dc1(0x2ba)]};}),_0x4f1da5[_0x2729c9(0x10d)]=_0x4870de[_0x2729c9(0x35d)](_0x30d9da=>{const _0x1050e0=_0x2729c9;let _0x1fe892=_0x25cf4b[_0x1050e0(0x174)](_0x829cb3=>_0x829cb3[_0x1050e0(0x772)]===_0x30d9da[_0x1050e0(0x3eb)]);return{'id':_0x30d9da['jid'],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x1fe892?.[_0x1050e0(0x7e8)],'profilePictureUrl':_0x1fe892?.[_0x1050e0(0x2ba)],'request_method':_0x30d9da[_0x1050e0(0x158)],'request_time':_0x30d9da[_0x1050e0(0x835)]};});let _0x3dded5=await this['repository'][_0x2729c9(0x6d7)]['updateOne']({'where':{'_id':_0x29f50d['groupJid']}},{'imagechat':_0x4f1da5[_0x2729c9(0x39b)],'name':_0x4f1da5[_0x2729c9(0x3f3)],'lastcache':Date['now'](),'groupdata':_0x4f1da5},this[_0x2729c9(0x1f6)][_0x2729c9(0x718)]);return F(this['instanceName'],_0x2729c9(0x522),{'chat':_0x3dded5}),{'metadata':_0x4f1da5};}catch(_0x45bebe){if(_0x582681===_0x2729c9(0x74d))return;throw new U(_0x2729c9(0x624),_0x45bebe['message'][_0x2729c9(0x6b5)]());}}async[a0_0x5a0e1e(0x3ab)](){const _0x526a28=a0_0x5a0e1e;try{this[_0x526a28(0x3c2)][_0x526a28(0x531)](_0x526a28(0x49d));let _0x3fccf4=Date[_0x526a28(0x616)](),_0x5ec37e=0x3*0x3c*0x3c*0x3e8;return _0x3fccf4-this['lastRealGroupsFetch']>_0x5ec37e&&(this[_0x526a28(0x65e)](),this[_0x526a28(0x6fc)]=_0x3fccf4),(await this[_0x526a28(0x7bc)][_0x526a28(0x6d7)][_0x526a28(0x1fd)]({'where':{'group':!0x0}},this[_0x526a28(0x1f6)]['wuid']))[_0x526a28(0x35d)](_0x538bf6=>({..._0x538bf6[_0x526a28(0x17a)],'groupJid':_0x538bf6?.['_id'],'participants':_0x538bf6?.[_0x526a28(0x17a)]?.[_0x526a28(0x338)]||[],'awaitingApproval':_0x538bf6?.[_0x526a28(0x17a)]?.[_0x526a28(0x10d)]||[],'image':_0x538bf6?.[_0x526a28(0x2a5)]}));}catch(_0x25ae99){let _0xdb25b6=_0x526a28(0x61e),_0x25137d=_0x25ae99 instanceof Error?_0x25ae99['message']:typeof _0x25ae99==_0x526a28(0x698)?JSON[_0x526a28(0x265)](_0x25ae99):_0x25ae99,_0x3e0079=_0xdb25b6+':\x20'+_0x25137d;throw this['logger'][_0x526a28(0x685)](this[_0x526a28(0x225)]+'\x20('+this[_0x526a28(0x1f6)]['wuid']+_0x526a28(0x693)+_0x3e0079),new U(_0x3e0079);}}async[a0_0x5a0e1e(0x65e)](){const _0x48ffcd=a0_0x5a0e1e;try{this[_0x48ffcd(0x3c2)][_0x48ffcd(0x531)](_0x48ffcd(0x4b6));let _0xb7e538=[],_0x40443f=await this[_0x48ffcd(0x30c)]['groupFetchAllParticipating'](),_0xa6d71=Object[_0x48ffcd(0x191)](_0x40443f);for(let _0x24453e=0x0;_0x24453e<_0xa6d71['length'];_0x24453e++){let _0x518339=_0xa6d71[_0x24453e];(0x0,w[_0x48ffcd(0x181)])(_0x518339?.['id'])&&(_0xb7e538['push']({'groupJid':_0x518339?.['id'],'subject':_0x518339?.['subject'],'subjectOwner':_0x518339?.[_0x48ffcd(0x340)]?.[_0x48ffcd(0x83d)]('@')[0x0],'subjectTime':_0x518339?.[_0x48ffcd(0x599)],'creation':_0x518339?.['creation'],'size':_0x518339?.['participants']?.['length'],'owner':_0x518339?.['owner']?.[_0x48ffcd(0x83d)]('@')[0x0],'desc':_0x518339?.[_0x48ffcd(0x63c)],'restrict':_0x518339?.[_0x48ffcd(0x20a)],'announce':_0x518339?.[_0x48ffcd(0x766)],'image':null,'isCommunity':_0x518339?.[_0x48ffcd(0x515)],'joinApprovalMode':_0x518339?.[_0x48ffcd(0x36e)],'memberCanAddParticipant':_0x518339?.['memberAddMode'],'participants':_0x518339?.[_0x48ffcd(0x338)],'descOwner':_0x518339?.[_0x48ffcd(0x459)],'descId':_0x518339?.[_0x48ffcd(0x7c2)],'memberAddMode':_0x518339?.[_0x48ffcd(0x6c7)],'isCommunityAnnounce':_0x518339?.[_0x48ffcd(0x250)],'ephemeralDuration':_0x518339?.[_0x48ffcd(0x493)]||0x0,'author':_0x518339?.[_0x48ffcd(0x58c)]}),this['updateChatGroupData'](_0xa6d71[_0x24453e]));}return _0xb7e538;}catch(_0x5412f5){let _0xc079b3=_0x48ffcd(0x14e),_0x2ffba3=_0x5412f5 instanceof Error?_0x5412f5[_0x48ffcd(0x3d6)]:typeof _0x5412f5=='object'?JSON[_0x48ffcd(0x265)](_0x5412f5):_0x5412f5,_0x41fdb7=_0xc079b3+':\x20'+_0x2ffba3;throw this[_0x48ffcd(0x3c2)][_0x48ffcd(0x685)](this[_0x48ffcd(0x225)]+'\x20('+this[_0x48ffcd(0x1f6)][_0x48ffcd(0x718)]+'):\x20'+_0x41fdb7),new U(_0x41fdb7);}}async[a0_0x5a0e1e(0x60f)](_0x243853){const _0x313c5a=a0_0x5a0e1e;let _0x17a21f=await this['repository'][_0x313c5a(0x6d7)][_0x313c5a(0x524)]({'where':{'_id':_0x243853['id']}},this[_0x313c5a(0x1f6)][_0x313c5a(0x718)]);if(_0x243853[_0x313c5a(0x599)]=_0x243853?.[_0x313c5a(0x599)]&&_0x243853['subjectTime'][_0x313c5a(0x6b5)]()['length']<0xd?_0x243853?.['subjectTime']*0x3e8:_0x243853?.[_0x313c5a(0x599)]||null,_0x243853[_0x313c5a(0x1a9)]=_0x243853?.[_0x313c5a(0x1a9)]&&_0x243853[_0x313c5a(0x1a9)]['toString']()[_0x313c5a(0x106)]<0xd?_0x243853?.[_0x313c5a(0x1a9)]*0x3e8:_0x243853?.[_0x313c5a(0x1a9)]||null,!_0x243853['image'])try{_0x243853[_0x313c5a(0x39b)]=await this[_0x313c5a(0x30c)]['profilePictureUrl'](_0x243853['id'],_0x313c5a(0x42a));}catch(_0x333fcb){this['logger'][_0x313c5a(0x2eb)](this[_0x313c5a(0x225)]+'\x20('+this['instance']['wuid']+_0x313c5a(0x219)+_0x243853['id']+':\x20'+(_0x333fcb instanceof Error?_0x333fcb[_0x313c5a(0x3d6)]:JSON[_0x313c5a(0x265)](_0x333fcb,null,0x2)));}let _0x5629c8=_0x243853[_0x313c5a(0x338)][_0x313c5a(0x35d)](_0x24997c=>{const _0x123f2f=_0x313c5a;let _0x255fed=_0x17a21f?.[_0x123f2f(0x17a)]?.[_0x123f2f(0x338)][_0x123f2f(0x174)](_0x5a8e46=>_0x5a8e46['id']===_0x24997c['id']);return{..._0x24997c,'isAdmin':[_0x123f2f(0x851),_0x123f2f(0x34f)][_0x123f2f(0x402)](_0x24997c[_0x123f2f(0x851)]),'admin':_0x24997c[_0x123f2f(0x851)],'name':_0x255fed?.['name']||_0x24997c['name'],'imgUrl':_0x255fed?.['imgUrl']||_0x24997c[_0x123f2f(0x23f)]};}),_0x49f7d8=_0x5629c8[_0x313c5a(0x112)](_0x348790=>_0x348790['id']===this[_0x313c5a(0x1f6)][_0x313c5a(0x718)]+_0x313c5a(0x6b4)&&_0x348790[_0x313c5a(0x851)]!=null)||!0x1,_0x5e91cd=(!_0x243853[_0x313c5a(0x766)]||_0x49f7d8)&&(!_0x243853[_0x313c5a(0x515)]||_0x49f7d8),_0x583b30={..._0x243853,'participants':_0x5629c8,'awaitingApproval':_0x17a21f?.[_0x313c5a(0x17a)]?.[_0x313c5a(0x10d)]||[],'lastFetchAwaitingApproval':_0x17a21f?.[_0x313c5a(0x17a)]?.['lastFetchAwaitingApproval'],'isAdmin':_0x49f7d8,'canSendMessage':_0x5e91cd,'lastUpdate':Date[_0x313c5a(0x616)]()};await this[_0x313c5a(0x7bc)][_0x313c5a(0x6d7)][_0x313c5a(0xbb)]({'where':{'_id':_0x243853['id']}},{'imagechat':_0x243853[_0x313c5a(0x39b)],'name':_0x243853[_0x313c5a(0x3f3)],'group':!0x0,'groupdata':_0x583b30,'lastcache':Date[_0x313c5a(0x616)]()},this[_0x313c5a(0x1f6)]['wuid']),F(this[_0x313c5a(0x225)],_0x313c5a(0x522),{'chat':_0x243853});}async[a0_0x5a0e1e(0x77a)](_0x55fda5){const _0x5e47a3=a0_0x5a0e1e;let _0x48b539=await this['repository'][_0x5e47a3(0x6d7)][_0x5e47a3(0x524)]({'where':{'_id':_0x55fda5['id']}},this[_0x5e47a3(0x1f6)]['wuid']);_0x55fda5[_0x5e47a3(0x599)]=_0x55fda5?.[_0x5e47a3(0x599)]&&_0x55fda5[_0x5e47a3(0x599)][_0x5e47a3(0x6b5)]()[_0x5e47a3(0x106)]<0xd?_0x55fda5?.[_0x5e47a3(0x599)]*0x3e8:_0x55fda5?.[_0x5e47a3(0x599)]||null,_0x55fda5['creation']=_0x55fda5?.[_0x5e47a3(0x1a9)]&&_0x55fda5['creation'][_0x5e47a3(0x6b5)]()[_0x5e47a3(0x106)]<0xd?_0x55fda5?.['creation']*0x3e8:_0x55fda5?.[_0x5e47a3(0x1a9)]||null,_0x55fda5['inviteCode']&&(_0x55fda5[_0x5e47a3(0x107)]=_0x5e47a3(0x7ec)+_0x55fda5['inviteCode']);let _0x37f730=_0x48b539?.[_0x5e47a3(0x17a)]?{..._0x48b539[_0x5e47a3(0x17a)]}:{};Object['keys'](_0x55fda5)[_0x5e47a3(0x3a6)](_0x5293d8=>{_0x5293d8!=='id'&&(_0x37f730[_0x5293d8]=_0x55fda5[_0x5293d8]);});let _0x4fb232=_0x37f730[_0x5e47a3(0x338)]?.[_0x5e47a3(0x112)](_0x1dfe97=>_0x1dfe97['id']===this['instance']['wuid']+_0x5e47a3(0x6b4)&&_0x1dfe97[_0x5e47a3(0x851)]!=null)||!0x1;_0x37f730[_0x5e47a3(0x558)]=_0x4fb232;let _0x3f6d23=(!_0x37f730['announce']||_0x4fb232)&&(!_0x37f730[_0x5e47a3(0x515)]||_0x4fb232);_0x37f730[_0x5e47a3(0x500)]=_0x3f6d23;let _0x2f7c3a={'group':!0x0,'groupdata':_0x37f730};_0x55fda5[_0x5e47a3(0x3f3)]&&(_0x2f7c3a[_0x5e47a3(0x7e8)]=_0x55fda5['subject']),await this['repository'][_0x5e47a3(0x6d7)]['updateOne']({'where':{'_id':_0x55fda5['id']}},_0x2f7c3a,this['instance']['wuid'],{'upsert':!0x0}),F(this[_0x5e47a3(0x225)],_0x5e47a3(0x522),{'chat':_0x2f7c3a});}async[a0_0x5a0e1e(0x6e3)](_0x18ea3e){const _0x589291=a0_0x5a0e1e;let _0x2cf4fa=await this[_0x589291(0x7bc)][_0x589291(0x6d7)]['findOne']({'where':{'_id':_0x18ea3e['id']}},this[_0x589291(0x1f6)][_0x589291(0x718)]);if(!_0x2cf4fa||!_0x2cf4fa[_0x589291(0x17a)]){this[_0x589291(0x3c2)][_0x589291(0x531)](this[_0x589291(0x225)]+'\x20('+this[_0x589291(0x1f6)]['wuid']+_0x589291(0x247)+_0x18ea3e['id']);return;}let _0x26bf09=await this['repository'][_0x589291(0x6ef)][_0x589291(0x226)](_0x18ea3e[_0x589291(0x338)]),_0x21b17a=[..._0x2cf4fa['groupdata']?.[_0x589291(0x338)]];switch(_0x18ea3e['action']){case'add':_0x26bf09[_0x589291(0x35d)](_0x3c4bdc=>({'id':_0x3c4bdc['_id'],'isAdmin':!0x1,'name':_0x3c4bdc[_0x589291(0x7e8)],'imgUrl':_0x3c4bdc['pictureUrl']}))[_0x589291(0x3a6)](_0x3f9037=>{const _0x4222d5=_0x589291;_0x21b17a[_0x4222d5(0x112)](_0x17a7af=>_0x17a7af['id']===_0x3f9037['id'])||(_0x21b17a[_0x4222d5(0x212)](_0x3f9037),this['logger'][_0x4222d5(0x531)]('Adicionando\x20novo\x20participante:\x20'+JSON[_0x4222d5(0x265)](_0x3f9037)));});break;case _0x589291(0x184):_0x21b17a=_0x21b17a[_0x589291(0x736)](_0x649ac8=>!_0x18ea3e[_0x589291(0x338)][_0x589291(0x402)](_0x649ac8['id']));break;case'promote':_0x21b17a=_0x21b17a[_0x589291(0x35d)](_0x30e007=>_0x18ea3e[_0x589291(0x338)][_0x589291(0x402)](_0x30e007['id'])?{..._0x30e007,'isAdmin':!0x0,'admin':_0x589291(0x851)}:_0x30e007);break;case _0x589291(0x397):_0x21b17a=_0x21b17a['map'](_0x3b5f5f=>_0x18ea3e['participants'][_0x589291(0x402)](_0x3b5f5f['id'])?{..._0x3b5f5f,'isAdmin':!0x1,'admin':null}:_0x3b5f5f);break;}let _0x54a323=_0x21b17a['length'],_0x51db5e=_0x21b17a[_0x589291(0x112)](_0x559a26=>_0x559a26['id']===this[_0x589291(0x1f6)][_0x589291(0x718)]+_0x589291(0x6b4)),_0x5d67cf=_0x51db5e&&_0x21b17a[_0x589291(0x112)](_0x16377f=>_0x16377f['id']===this[_0x589291(0x1f6)]['wuid']+'@s.whatsapp.net'&&_0x16377f[_0x589291(0x851)]!=null)||!0x1,_0x2809bc=_0x51db5e&&(!_0x2cf4fa[_0x589291(0x17a)][_0x589291(0x766)]||_0x5d67cf)&&(!_0x2cf4fa['groupdata'][_0x589291(0x515)]||_0x5d67cf);await this['repository']['chat'][_0x589291(0xbb)]({'where':{'_id':_0x18ea3e['id']}},{'groupdata':{..._0x2cf4fa[_0x589291(0x17a)],'participants':_0x21b17a,'size':_0x54a323,'isAdmin':_0x5d67cf,'canSendMessage':_0x2809bc}},this[_0x589291(0x1f6)][_0x589291(0x718)]),this[_0x589291(0x3c2)]['info'](this[_0x589291(0x225)]+'\x20('+this['instance'][_0x589291(0x718)]+'):\x20Grupo\x20'+_0x18ea3e['id']+_0x589291(0x57f)+_0x18ea3e['action']+',\x20Novo\x20tamanho:\x20'+_0x54a323+_0x589291(0x229)+_0x5d67cf+',\x20canSendMessage:\x20'+_0x2809bc);}async[a0_0x5a0e1e(0x107)](_0x4b0a90,_0xf392f2=!0x0){const _0x30cd9c=a0_0x5a0e1e;try{let _0x340755=await this[_0x30cd9c(0x30c)][_0x30cd9c(0x653)](_0x4b0a90[_0x30cd9c(0x316)]),_0x2edc72={'groupdata.inviteCode':_0x30cd9c(0x7ec)+_0x340755};if(_0xf392f2){let _0x15ba64=await this[_0x30cd9c(0x7bc)]['chat'][_0x30cd9c(0xbb)]({'where':{'_id':_0x4b0a90['groupJid']}},_0x2edc72,this[_0x30cd9c(0x1f6)][_0x30cd9c(0x718)]);}return{'inviteUrl':_0x30cd9c(0x7ec)+_0x340755,'inviteCode':_0x340755};}catch(_0x2516b9){let _0x520027=_0x30cd9c(0x3a5),_0xf629e7=_0x2516b9 instanceof Error?_0x2516b9[_0x30cd9c(0x3d6)]:typeof _0x2516b9==_0x30cd9c(0x698)?JSON[_0x30cd9c(0x265)](_0x2516b9):_0x2516b9,_0x2b1eba=_0x520027+':\x20'+_0xf629e7;throw this[_0x30cd9c(0x3c2)][_0x30cd9c(0x685)](this[_0x30cd9c(0x225)]+'\x20('+this[_0x30cd9c(0x1f6)]['wuid']+'):\x20'+_0x2b1eba),new U(_0x2b1eba);}}async[a0_0x5a0e1e(0x789)](_0x160892){const _0x1d6136=a0_0x5a0e1e;try{let _0x450a52=await this['client'][_0x1d6136(0x111)](_0x160892[_0x1d6136(0x316)]);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x450a52,'inviteCode':_0x450a52};}catch(_0x24c4c8){let _0x18b3ef=_0x1d6136(0x5d5),_0x32cefd=_0x24c4c8 instanceof Error?_0x24c4c8[_0x1d6136(0x3d6)]:typeof _0x24c4c8==_0x1d6136(0x698)?JSON[_0x1d6136(0x265)](_0x24c4c8):_0x24c4c8,_0x351c86=_0x18b3ef+':\x20'+_0x32cefd;throw this[_0x1d6136(0x3c2)][_0x1d6136(0x685)](this[_0x1d6136(0x225)]+'\x20('+this['instance'][_0x1d6136(0x718)]+'):\x20'+_0x351c86),new U(_0x351c86);}}async[a0_0x5a0e1e(0x409)](_0x4e663a){const _0x19cafc=a0_0x5a0e1e;try{if((0x0,J[_0x19cafc(0x291)])(_0x4e663a[_0x19cafc(0x107)]))var _0x165566=_0x4e663a[_0x19cafc(0x107)][_0x19cafc(0x83d)]('/')[0x3];else var _0x165566=_0x4e663a[_0x19cafc(0x107)];let _0xb70493=await this[_0x19cafc(0x30c)][_0x19cafc(0x6f8)](_0x165566);return this[_0x19cafc(0x3c2)][_0x19cafc(0x2eb)](this[_0x19cafc(0x225)]+'\x20('+this['instance'][_0x19cafc(0x718)]+_0x19cafc(0x693)+_0xb70493),{'join':!0x0,'inviteCode':_0x165566,'groupJid':_0xb70493};}catch(_0x59bef2){let _0x146893=_0x19cafc(0x7d9),_0x3b3dde=_0x59bef2 instanceof Error?_0x59bef2['message']:typeof _0x59bef2==_0x19cafc(0x698)?JSON[_0x19cafc(0x265)](_0x59bef2):_0x59bef2,_0x134092=_0x146893+':\x20'+_0x3b3dde;throw this[_0x19cafc(0x3c2)][_0x19cafc(0x685)](this[_0x19cafc(0x225)]+'\x20('+this[_0x19cafc(0x1f6)][_0x19cafc(0x718)]+_0x19cafc(0x693)+_0x134092),new U(_0x134092);}}async[a0_0x5a0e1e(0x4d8)](_0x2745be){const _0x2c6ea8=a0_0x5a0e1e;try{return{'participants':(await this[_0x2c6ea8(0x7bc)]['chat'][_0x2c6ea8(0x524)]({'where':{'_id':_0x2745be[_0x2c6ea8(0x316)]}},this[_0x2c6ea8(0x1f6)][_0x2c6ea8(0x718)]))['groupdata'][_0x2c6ea8(0x338)]};}catch(_0x94c835){let _0x2ca649='Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants',_0x17145f=_0x94c835 instanceof Error?_0x94c835['message']:typeof _0x94c835==_0x2c6ea8(0x698)?JSON[_0x2c6ea8(0x265)](_0x94c835):_0x94c835,_0xf7bece=_0x2ca649+':\x20'+_0x17145f;throw this[_0x2c6ea8(0x3c2)][_0x2c6ea8(0x685)](this[_0x2c6ea8(0x225)]+'\x20('+this[_0x2c6ea8(0x1f6)]['wuid']+_0x2c6ea8(0x693)+_0xf7bece),new U(_0xf7bece);}}async[a0_0x5a0e1e(0x3fe)](_0x4f7a1b){const _0x46c11b=a0_0x5a0e1e;try{return await this[_0x46c11b(0x30c)][_0x46c11b(0x154)](_0x4f7a1b[_0x46c11b(0x316)]),{'groupJid':_0x4f7a1b[_0x46c11b(0x316)],'leave':!0x0};}catch(_0x563e59){let _0x1a6363=_0x46c11b(0x369),_0x28085e=_0x563e59 instanceof Error?_0x563e59[_0x46c11b(0x3d6)]:typeof _0x563e59=='object'?JSON[_0x46c11b(0x265)](_0x563e59):_0x563e59,_0x257106=_0x1a6363+':\x20'+_0x28085e;throw this[_0x46c11b(0x3c2)]['error'](this[_0x46c11b(0x225)]+'\x20('+this[_0x46c11b(0x1f6)]['wuid']+'):\x20'+_0x257106),new m(_0x257106);}}async[a0_0x5a0e1e(0x7d5)](_0x51539a){const _0x1512e1=a0_0x5a0e1e;return await this['sendMessageWithTyping'](_0x51539a[_0x1512e1(0x12c)],{'poll':{'name':_0x51539a[_0x1512e1(0x7d5)]?.[_0x1512e1(0x7e8)],'selectableCount':_0x51539a[_0x1512e1(0x7d5)][_0x1512e1(0x5a9)],'values':_0x51539a[_0x1512e1(0x7d5)][_0x1512e1(0x191)]}},_0x51539a?.[_0x1512e1(0x163)]);}async[a0_0x5a0e1e(0x535)](_0x3f5d51){const _0x506d6f=a0_0x5a0e1e;return await this[_0x506d6f(0x323)](_0x3f5d51[_0x506d6f(0x12c)],{'listMessage':{'title':_0x3f5d51[_0x506d6f(0x535)][_0x506d6f(0x41e)],'description':_0x3f5d51[_0x506d6f(0x535)]['description'],'buttonText':_0x3f5d51['listMessage']?.[_0x506d6f(0x40d)],'footerText':_0x3f5d51[_0x506d6f(0x535)]?.['footerText'],'sections':_0x3f5d51[_0x506d6f(0x535)][_0x506d6f(0x7b8)],'listType':0x2}},_0x3f5d51?.[_0x506d6f(0x163)]);}async[a0_0x5a0e1e(0x607)](_0x5d7272){const _0x1cf67f=a0_0x5a0e1e;this[_0x1cf67f(0x1f6)][_0x1cf67f(0x4d1)]===void 0x0&&await this[_0x1cf67f(0x254)]();let _0x4cfa20;if(_0x5d7272[_0x1cf67f(0x607)]['type']===_0x1cf67f(0x635)||_0x5d7272['menuMessage'][_0x1cf67f(0x13f)]===_0x1cf67f(0x310)){let _0x4809e1=_0x5d7272[_0x1cf67f(0x607)]['text'][_0x1cf67f(0x708)]('\x0a'),_0x598414='',_0x2c89b8='';_0x4809e1!==-0x1?(_0x598414=_0x5d7272[_0x1cf67f(0x607)][_0x1cf67f(0x80e)]['substring'](0x0,_0x4809e1)[_0x1cf67f(0x846)](),_0x2c89b8=_0x5d7272[_0x1cf67f(0x607)][_0x1cf67f(0x80e)][_0x1cf67f(0x28a)](_0x4809e1+0x1)):_0x2c89b8=_0x5d7272[_0x1cf67f(0x607)][_0x1cf67f(0x80e)];let _0x405b46=_0x5d7272[_0x1cf67f(0x607)][_0x1cf67f(0x342)][_0x1cf67f(0x736)](_0x551406=>_0x551406['trim']()!==''),_0xd13033=this[_0x1cf67f(0x38c)](_0x405b46);_0x4cfa20={'listMessage':{'title':_0x598414,'description':_0x2c89b8,'buttonText':_0x5d7272[_0x1cf67f(0x607)][_0x1cf67f(0x40d)]||_0x1cf67f(0x471),'footerText':_0x5d7272[_0x1cf67f(0x607)][_0x1cf67f(0x391)],'sections':_0xd13033,'listType':0x2}};}else{if(_0x5d7272[_0x1cf67f(0x607)][_0x1cf67f(0x13f)]===_0x1cf67f(0x302)){let _0x2ac6bf=_0x5d7272['menuMessage'][_0x1cf67f(0x342)]['filter'](_0x4851d0=>!(_0x4851d0[_0x1cf67f(0x393)]('[')&&_0x4851d0[_0x1cf67f(0x555)](']'))&&_0x4851d0['trim']()!=='')[_0x1cf67f(0x35d)](_0x2231cf=>_0x2231cf[_0x1cf67f(0x83d)]('\x0a')[0x0]);for(;_0x2ac6bf[_0x1cf67f(0x106)]<0x2;)_0x2ac6bf[_0x1cf67f(0x212)]('Opção\x20Falsa\x20'+(_0x2ac6bf[_0x1cf67f(0x106)]+0x1));_0x4cfa20={'poll':{'name':_0x5d7272[_0x1cf67f(0x607)][_0x1cf67f(0x80e)],'selectableCount':_0x5d7272[_0x1cf67f(0x607)][_0x1cf67f(0x5a9)]||0x1,'values':_0x2ac6bf}};}else{if(_0x5d7272[_0x1cf67f(0x607)][_0x1cf67f(0x13f)]===_0x1cf67f(0x235)){let _0x48bd42=this[_0x1cf67f(0x5fc)](_0x5d7272['menuMessage'][_0x1cf67f(0x342)][_0x1cf67f(0x736)](_0x26467f=>!(_0x26467f[_0x1cf67f(0x393)]('[')&&_0x26467f[_0x1cf67f(0x555)](']'))));return _0x4cfa20={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x5d7272[_0x1cf67f(0x607)][_0x1cf67f(0x80e)]},'footer':_0x5d7272[_0x1cf67f(0x607)][_0x1cf67f(0x391)]?{'text':_0x5d7272[_0x1cf67f(0x607)][_0x1cf67f(0x391)]}:void 0x0,'nativeFlowMessage':{'buttons':_0x48bd42,'messageParamsJson':JSON['stringify']({'from':_0x1cf67f(0x705),'templateId':'3EB0'+(0x0,oe[_0x1cf67f(0x3b0)])(0x12)[_0x1cf67f(0x6b5)](_0x1cf67f(0x4ba))[_0x1cf67f(0x49a)]()})}}}}},await this[_0x1cf67f(0x7e5)](_0x5d7272['number'],_0x4cfa20,_0x5d7272?.[_0x1cf67f(0x163)]);}else{if(_0x5d7272[_0x1cf67f(0x607)]['type']===_0x1cf67f(0x2bb)){let _0x54328c=this['createButtonSectionsFromValues'](_0x5d7272['menuMessage'][_0x1cf67f(0x342)]);return _0x4cfa20={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x5d7272[_0x1cf67f(0x607)][_0x1cf67f(0x80e)]},'footer':_0x5d7272[_0x1cf67f(0x607)][_0x1cf67f(0x391)]?{'text':_0x5d7272[_0x1cf67f(0x607)][_0x1cf67f(0x391)]}:void 0x0,'nativeFlowMessage':{'buttons':_0x54328c,'messageParamsJson':JSON[_0x1cf67f(0x265)]({'from':_0x1cf67f(0x705),'templateId':_0x1cf67f(0x774)+(0x0,oe['randomBytes'])(0x12)['toString'](_0x1cf67f(0x4ba))[_0x1cf67f(0x49a)]()})}}}}},await this[_0x1cf67f(0x7e5)](_0x5d7272['number'],_0x4cfa20,_0x5d7272?.[_0x1cf67f(0x163)]);}}}}return await this[_0x1cf67f(0x323)](_0x5d7272[_0x1cf67f(0x12c)],_0x4cfa20,_0x5d7272?.[_0x1cf67f(0x163)]);}[a0_0x5a0e1e(0x5fc)](_0x5f3c5c){return _0x5f3c5c['map'](_0x5a49a6=>{const _0x2f57a1=a0_0xc548;let _0x47bd65=_0x5a49a6['split']('\x0a')['map'](_0x2a56e0=>_0x2a56e0[_0x2f57a1(0x846)]()),_0x50a58e=_0x47bd65[0x0],_0x5b062b=_0x47bd65[0x1]||_0x50a58e,_0x478589=_0x5b062b[_0x2f57a1(0x393)]('http')?_0x2f57a1(0x6e0):'quick_reply';return{'name':_0x478589,'buttonParamsJson':JSON[_0x2f57a1(0x265)]({'display_text':_0x50a58e,'id':_0x478589==='quick_reply'?_0x5b062b:void 0x0,'url':_0x478589===_0x2f57a1(0x6e0)?_0x5b062b:void 0x0})};});}['createButtonSectionsFromValues'](_0x1071da){const _0xe2f24b=a0_0x5a0e1e;let _0x2ac98b=[],_0x43c568={'title':'','rows':[]};return _0x1071da[_0xe2f24b(0x3a6)](_0x1c0661=>{const _0x36ac79=_0xe2f24b;if(_0x1c0661['startsWith']('[')&&_0x1c0661[_0x36ac79(0x555)](']'))_0x43c568[_0x36ac79(0x541)][_0x36ac79(0x106)]>0x0&&_0x2ac98b[_0x36ac79(0x212)](_0x43c568),_0x43c568={'title':_0x1c0661[_0x36ac79(0xd0)](0x1,-0x1),'rows':[]};else{let _0x4dcd2d=_0x1c0661[_0x36ac79(0x83d)]('\x0a')[_0x36ac79(0x35d)](_0x37b010=>_0x37b010[_0x36ac79(0x846)]()),_0x1aa1d9=_0x4dcd2d[0x0],_0x385a96=_0x4dcd2d[0x1]?_0x4dcd2d[0x1]:void 0x0,_0x1b85e8=_0x4dcd2d[0x2]||_0x1aa1d9;_0x43c568[_0x36ac79(0x541)][_0x36ac79(0x212)]({'title':_0x1aa1d9,'description':_0x385a96,'id':_0x1b85e8});}}),_0x43c568[_0xe2f24b(0x541)][_0xe2f24b(0x106)]>0x0&&_0x2ac98b['push'](_0x43c568),[{'name':'single_select','buttonParamsJson':JSON[_0xe2f24b(0x265)]({'title':_0xe2f24b(0x5e5),'sections':_0x2ac98b})}];}[a0_0x5a0e1e(0x38c)](_0x16f62f){const _0x55af61=a0_0x5a0e1e;let _0x446abd=[],_0x2eff47={'rows':[]};return _0x16f62f[_0x55af61(0x3a6)](_0x4a3188=>{const _0xff0809=_0x55af61;if(_0x4a3188[_0xff0809(0x393)]('[')&&_0x4a3188[_0xff0809(0x555)](']'))_0x2eff47['rows'][_0xff0809(0x106)]>0x0&&_0x446abd[_0xff0809(0x212)](_0x2eff47),_0x2eff47={'title':_0x4a3188['slice'](0x1,-0x1),'rows':[]};else{let _0x5afa25=_0x4a3188['split']('\x0a')[_0xff0809(0x35d)](_0x40a5e2=>_0x40a5e2['trim']()),_0x5007ef=_0x5afa25[0x0],_0x455baf=_0x5afa25[0x1]||null,_0x5bb0f4=_0x5afa25[0x2]||_0x5007ef;_0x2eff47['rows']['push']({'title':_0x5007ef,'description':_0x455baf,'rowId':_0x5bb0f4});}}),_0x2eff47[_0x55af61(0x541)][_0x55af61(0x106)]>0x0&&_0x446abd[_0x55af61(0x212)](_0x2eff47),_0x446abd;}async['updateMessage'](_0x2df475,_0x4de05a){const _0x2aa067=a0_0x5a0e1e;if(await this['getMessage'](_0x2df475,!0x0)){let _0x372910={'where':{'_id':_0x2df475['id']}},_0x40c583={'status':[_0x4de05a[_0x2aa067(0x1cc)]][0x0]};try{let _0x3d9279=await this[_0x2aa067(0x7bc)]['message'][_0x2aa067(0x15d)](_0x372910,_0x40c583,this[_0x2aa067(0x1f6)][_0x2aa067(0x718)]);_0x3d9279&&F(this[_0x2aa067(0x225)],_0x2aa067(0x45a),{'message':_0x3d9279});}catch{}}}[a0_0x5a0e1e(0x4b1)](_0x4bfef2){const _0x522aa0=a0_0x5a0e1e;let _0x390217=[];return _0x4bfef2['forEach'](_0x281355=>{const _0x13bc0d=a0_0xc548;_0x281355[_0x13bc0d(0x41e)]&&_0x390217[_0x13bc0d(0x212)]('['+_0x281355[_0x13bc0d(0x41e)]+']'),_0x281355['rows']['forEach'](_0x2f1d9e=>{const _0x2b9a1c=_0x13bc0d;_0x390217[_0x2b9a1c(0x212)](_0x2f1d9e[_0x2b9a1c(0x41e)]);});}),_0x390217[_0x522aa0(0x33d)]('|');}[a0_0x5a0e1e(0x1d9)](_0x24739b){const _0x151248=a0_0x5a0e1e;let _0x231a0d=_0x24739b[_0x151248(0x186)](/\\n/g,'\x0a')[_0x151248(0x83d)]('\x0a')[_0x151248(0x736)](_0x571374=>_0x571374['includes'](_0x151248(0x32a))||_0x571374[_0x151248(0x402)](_0x151248(0x565))),_0x29fac9='';return _0x231a0d[_0x151248(0x3a6)](_0xa3aa71=>{const _0x207920=_0x151248;let _0x368283=/TEL(?:.*):(.+)/,_0x4e39ea=/EMAIL(?:.*):(.+)/,_0x2c60e3=_0xa3aa71[_0x207920(0x4da)](_0x368283),_0x4c9b41=_0xa3aa71[_0x207920(0x4da)](_0x4e39ea);if(_0x2c60e3){let _0x133a69=_0x2c60e3[0x1][_0x207920(0x186)](/-| |\+|\(|\)/g,'')[_0x207920(0x846)]();_0x29fac9+=_0x207920(0x330)+_0x133a69+'\x0a';}else{if(_0x4c9b41){let _0x2e0608=_0x4c9b41[0x1][_0x207920(0x846)]();_0x29fac9+=_0x207920(0x337)+_0x2e0608+'\x0a';}}}),_0x29fac9[_0x151248(0x846)]();}async[a0_0x5a0e1e(0x5e1)](_0x295bf7,_0x1a165a,_0x1576cb,_0x56b060=null){const _0x3926c0=a0_0x5a0e1e;if(_0x295bf7[_0x3926c0(0x160)])try{let _0x15de24=_0x1a165a['key']['remoteJid']['replace'](/:\d{1,2}@/g,'@'),_0xf00a6c=_0x1a165a['key'][_0x3926c0(0x24c)],_0x1e7c60=_0x15de24[_0x3926c0(0x555)](_0x3926c0(0x430)),_0x15beb1=_0x1a165a[_0x3926c0(0x3ae)]?.[_0x3926c0(0x186)](/:\d{1,2}@/g,'@')||'',_0x22e3db=_0x1a165a[_0x3926c0(0x328)]?.[_0x3926c0(0x80e)]||_0x1a165a[_0x3926c0(0x328)]?.['caption']||_0x1a165a[_0x3926c0(0x328)]?.[_0x3926c0(0x490)]||_0x1a165a[_0x3926c0(0x328)]?.[_0x3926c0(0x7e8)]||'',_0x58d35f={'_id':_0x1a165a[_0x3926c0(0x772)],'remoteJid':_0xf00a6c?this[_0x3926c0(0x1f6)][_0x3926c0(0x718)]:_0x1e7c60?_0x15beb1:_0x15de24,'pushName':_0xf00a6c?this['instance'][_0x3926c0(0x7cb)]||'Eu':_0x1a165a['pushName'],'text':_0x22e3db,'type':_0x1a165a[_0x3926c0(0x12d)],'when':_0x1a165a[_0x3926c0(0x6e5)]||Date['now']()};_0x56b060||(_0x56b060=await this[_0x3926c0(0x7bc)][_0x3926c0(0x6d7)][_0x3926c0(0x524)]({'where':{'_id':_0x15de24}},this[_0x3926c0(0x1f6)][_0x3926c0(0x718)]));let _0x32d188=_0xf00a6c?0x0:_0x56b060?(_0x56b060[_0x3926c0(0x6ba)]||0x0)+0x1:0x1,_0x1aaefe={'lastmsg':_0x1a165a[_0x3926c0(0x6e5)]||Date[_0x3926c0(0x616)](),'ephemeralExpiration':_0x1a165a['expiration'],'lastMessage':_0x58d35f,'unreadcount':_0x32d188,..._0xf00a6c||_0x1e7c60?{}:{'name':_0x1a165a[_0x3926c0(0x489)]},..._0x1e7c60?{'group':_0x1e7c60}:{},...!_0xf00a6c&&!_0x1e7c60&&_0x1a165a[_0x3926c0(0x3ed)]?{'imagechat':_0x1a165a[_0x3926c0(0x3ed)]}:{}};if(!_0x1e7c60&&(!_0x56b060?.[_0x3926c0(0x2af)]||!_0x56b060[_0x3926c0(0x2af)][_0x3926c0(0x576)])&&_0x1a165a['pushName']&&!_0xf00a6c&&(_0x1aaefe={..._0x1aaefe,'leadInfo.nome':_0x1a165a[_0x3926c0(0x489)]}),_0x56b060?.[_0x3926c0(0x2af)]['etiquetas']||(_0x1aaefe={..._0x1aaefe,'leadInfo.etiquetas':[]}),_0x56b060?.[_0x3926c0(0x2af)][_0x3926c0(0x2dd)]||(_0x1aaefe={..._0x1aaefe,'leadInfo.customFields':[]}),_0x56b060?.['leadInfo'][_0x3926c0(0x5de)]||(_0x1aaefe={..._0x1aaefe,'leadInfo.tags':[]}),_0x56b060&&_0x56b060?.[_0x3926c0(0x5a0)]){let _0x22f31a=await this[_0x3926c0(0x7bc)][_0x3926c0(0x4f9)][_0x3926c0(0x174)]({'where':{}},this[_0x3926c0(0x1f6)][_0x3926c0(0x718)]),_0x44f090=new Set(_0x22f31a['map'](_0x35e502=>_0x35e502[_0x3926c0(0x772)])),_0x9221=(_0x56b060[_0x3926c0(0x2af)]?.[_0x3926c0(0x125)]||[])[_0x3926c0(0x736)](_0x56266d=>_0x44f090[_0x3926c0(0x50b)](_0x56266d));_0x1aaefe={..._0x1aaefe,'imported':!0x1,'leadInfo.etiquetas':_0x9221};for(let _0x49b168 of _0x9221)await this[_0x3926c0(0x39c)](_0x49b168,_0x15de24);}if(!this[_0x3926c0(0x1ec)][_0x3926c0(0x29d)][_0x3926c0(0x174)](_0x125614=>_0x125614[_0x3926c0(0x420)]&&_0x22e3db[_0x3926c0(0x402)](_0x125614[_0x3926c0(0x420)]))&&_0x1576cb==='MESSAGES_UPSERT'&&_0xf00a6c&&this[_0x3926c0(0x1ec)]?.['flowConfig'][_0x3926c0(0x47e)]&&_0x22e3db[_0x3926c0(0x846)]()!==this[_0x3926c0(0x1ec)]?.[_0x3926c0(0x115)][_0x3926c0(0x142)]['trim']()){let _0x404923=(this[_0x3926c0(0x1ec)]?.[_0x3926c0(0x115)][_0x3926c0(0x5bf)]||0x0)*0xea60,_0x2fb790=Date[_0x3926c0(0x616)]()+_0x404923;_0x56b060?.[_0x3926c0(0x2af)]?.[_0x3926c0(0x130)]===0x0||(_0x1aaefe={..._0x1aaefe,'leadInfo.desativadoFluxoAte':_0x2fb790},this[_0x3926c0(0x3c2)]['verbose'](this['instanceName']+'\x20('+this[_0x3926c0(0x1f6)][_0x3926c0(0x718)]+_0x3926c0(0x578)+_0x2fb790+'.'));}if(_0x22e3db[_0x3926c0(0x846)]()===this[_0x3926c0(0x1ec)]?.[_0x3926c0(0x115)][_0x3926c0(0x142)]['trim']()){this[_0x3926c0(0x3c2)][_0x3926c0(0x2eb)](this[_0x3926c0(0x225)]+'\x20('+this[_0x3926c0(0x1f6)][_0x3926c0(0x718)]+_0x3926c0(0x1d6)+_0x22e3db);let _0x549269=Date['now']();this[_0x3926c0(0x1ec)]?.[_0x3926c0(0x115)][_0x3926c0(0x1ca)]===0x0?_0x1aaefe={..._0x1aaefe,'leadInfo.desativadoFluxoAte':_0x549269+0x7591f6200}:_0x1aaefe={..._0x1aaefe,'leadInfo.desativadoFluxoAte':_0x549269+this[_0x3926c0(0x1ec)]?.[_0x3926c0(0x115)][_0x3926c0(0x1ca)]*0x3c*0x3e8};}if(_0x56b060=await this[_0x3926c0(0x7bc)]['chat'][_0x3926c0(0xbb)]({'where':{'_id':_0x15de24}},_0x1aaefe,this[_0x3926c0(0x1f6)][_0x3926c0(0x718)],{'new':!0x0,'upsert':!0x0}),_0x56b060)F(this[_0x3926c0(0x225)],_0x3926c0(0x522),{'chat':_0x56b060});else{this['logger'][_0x3926c0(0x685)](this[_0x3926c0(0x225)]+'\x20('+this[_0x3926c0(0x1f6)][_0x3926c0(0x718)]+_0x3926c0(0x2c9));return;}if(_0xf00a6c)return this['logger'][_0x3926c0(0x2eb)](this[_0x3926c0(0x225)]+'\x20('+this[_0x3926c0(0x1f6)][_0x3926c0(0x718)]+'):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...'),null;if(!this['AutomateSystem']?.[_0x3926c0(0x115)][_0x3926c0(0x47e)])return this[_0x3926c0(0x3c2)][_0x3926c0(0x2eb)](this[_0x3926c0(0x225)]+'\x20('+this[_0x3926c0(0x1f6)][_0x3926c0(0x718)]+'):\x20Flow\x20desativado'),null;if(_0x56b060[_0x3926c0(0x772)][_0x3926c0(0x402)](_0x3926c0(0x430))&&this[_0x3926c0(0x1ec)]?.[_0x3926c0(0x115)]['ignoreGroups']===!0x0)return this[_0x3926c0(0x3c2)][_0x3926c0(0x2eb)](this['instanceName']+'\x20('+this[_0x3926c0(0x1f6)][_0x3926c0(0x718)]+_0x3926c0(0xff)),null;if(_0x56b060['leadInfo']){if(_0x56b060[_0x3926c0(0x2af)][_0x3926c0(0x130)]===0x0||_0x56b060[_0x3926c0(0x2af)]['atendimentoAberto'])return this[_0x3926c0(0x3c2)][_0x3926c0(0x2eb)](this[_0x3926c0(0x225)]+'\x20('+this[_0x3926c0(0x1f6)]['wuid']+_0x3926c0(0x141)+_0x15de24+_0x3926c0(0x481)),null;if(_0x56b060[_0x3926c0(0x2af)][_0x3926c0(0x130)]>Date[_0x3926c0(0x616)]()&&!_0x1a165a[_0x3926c0(0x328)]?.['vote'])return this['logger'][_0x3926c0(0x2eb)](this[_0x3926c0(0x225)]+'\x20('+this[_0x3926c0(0x1f6)][_0x3926c0(0x718)]+_0x3926c0(0x238)+new Date(_0x56b060[_0x3926c0(0x2af)][_0x3926c0(0x130)])[_0x3926c0(0x505)]()+_0x3926c0(0x481)),null;}this[_0x3926c0(0x3c2)]['verbose'](this['instanceName']+'\x20('+this[_0x3926c0(0x1f6)][_0x3926c0(0x718)]+_0x3926c0(0x151)),this[_0x3926c0(0x488)](_0x1a165a,_0x1576cb);}catch(_0x2309cb){let _0x48991c=_0x3926c0(0x1a6),_0x276ef0=_0x2309cb instanceof Error?_0x2309cb[_0x3926c0(0x3d6)]:typeof _0x2309cb=='object'?JSON['stringify'](_0x2309cb):_0x2309cb,_0x3cfec0=_0x48991c+':\x20'+_0x276ef0;return this[_0x3926c0(0x3c2)][_0x3926c0(0x685)](this['instanceName']+'\x20('+this[_0x3926c0(0x1f6)][_0x3926c0(0x718)]+'):\x20'+_0x3cfec0),null;}}async[a0_0x5a0e1e(0x2f1)](_0x1a1efa,_0x5ce836){const _0x5cc3d8=a0_0x5a0e1e;if(_0x5ce836[_0x5cc3d8(0x160)]){let _0x107478=_0x1a1efa[_0x5cc3d8(0x35d)](async _0x5930f1=>{const _0x1087c4=_0x5cc3d8;try{let _0x101292={'_id':_0x5930f1['_id'],'owner':_0x5930f1['owner'],'lastcache':0x0};if(Object['keys'](_0x5930f1)[_0x1087c4(0x3a6)](_0x3ef0ed=>{_0x5930f1[_0x3ef0ed]!==null&&(_0x101292[_0x3ef0ed]=_0x5930f1[_0x3ef0ed]);}),_0x101292['imagechat']===null&&(_0x101292[_0x1087c4(0x2a5)]='Imagem\x20não\x20encontrada'),Object[_0x1087c4(0x401)](_0x101292)['length']>0x0)return await this[_0x1087c4(0x7bc)]['chat']['updateOne']({'where':{'_id':_0x5930f1[_0x1087c4(0x772)]}},_0x101292,this[_0x1087c4(0x1f6)][_0x1087c4(0x718)]);}catch(_0x262d10){let _0x5735f8=_0x1087c4(0x43d)+_0x5930f1[_0x1087c4(0x772)],_0x118ad7=_0x262d10 instanceof Error?_0x262d10['message']:typeof _0x262d10=='object'?JSON[_0x1087c4(0x265)](_0x262d10):_0x262d10,_0x53bd58=_0x5735f8+':\x20'+_0x118ad7;return this[_0x1087c4(0x3c2)][_0x1087c4(0x685)](this['instanceName']+'\x20('+this[_0x1087c4(0x1f6)]['wuid']+_0x1087c4(0x693)+_0x53bd58),null;}}),_0x5489c0=(await Promise[_0x5cc3d8(0x722)](_0x107478))['filter'](_0x35a8a8=>_0x35a8a8!==null)[_0x5cc3d8(0x106)];this[_0x5cc3d8(0x3c2)][_0x5cc3d8(0x2eb)](this['instanceName']+'\x20('+this[_0x5cc3d8(0x1f6)][_0x5cc3d8(0x718)]+_0x5cc3d8(0x693)+_0x5489c0+_0x5cc3d8(0x5bb)+this[_0x5cc3d8(0x1f6)][_0x5cc3d8(0x718)]+'\x20inseridos\x20no\x20banco\x20de\x20dados...');}}async['readMessageBot'](_0x4c7b31){const _0xa15adc=a0_0x5a0e1e;this[_0xa15adc(0x3c2)][_0xa15adc(0x2eb)](this[_0xa15adc(0x225)]+'\x20('+this[_0xa15adc(0x1f6)][_0xa15adc(0x718)]+_0xa15adc(0x2e8));let _0x3dff47={'readMessages':[{'remoteJid':_0x4c7b31[_0xa15adc(0x627)]['lastReceivedMessage'][_0xa15adc(0x5dc)]['remoteJid'],'fromMe':_0x4c7b31[_0xa15adc(0x627)][_0xa15adc(0x7d8)][_0xa15adc(0x5dc)][_0xa15adc(0x24c)],'id':_0x4c7b31['chatLog'][_0xa15adc(0x7d8)][_0xa15adc(0x5dc)]['id']}]};await this[_0xa15adc(0x3bc)](_0x3dff47);}async[a0_0x5a0e1e(0x488)](_0x3bb4f5,_0x5e6919){const _0x5b7306=a0_0x5a0e1e;try{let {key:_0x27b9d2,message_normalized:_0x2cdd0e}=_0x3bb4f5,_0xd529fe=_0x2cdd0e,_0x2b9ddb=_0x2cdd0e[_0x5b7306(0x80e)]||_0x2cdd0e[_0x5b7306(0x760)]||_0x2cdd0e[_0x5b7306(0x490)]||_0x2cdd0e['name']||'',_0x239238=_0x27b9d2[_0x5b7306(0x41b)],_0x4d1d21=null,_0x414675=this[_0x5b7306(0x1ec)][_0x5b7306(0x29d)]['find'](_0x358f6b=>_0x358f6b[_0x5b7306(0x420)]&&_0x2b9ddb[_0x5b7306(0x402)](_0x358f6b[_0x5b7306(0x420)]));if(_0x414675&&_0x5e6919===_0x5b7306(0x6a5)){let _0x57430f=await this['repository']['flow'][_0x5b7306(0x524)]({'where':{'_id':_0x414675[_0x5b7306(0x772)]}});if(this[_0x5b7306(0x3c2)]['verbose'](this[_0x5b7306(0x225)]+'\x20('+this[_0x5b7306(0x1f6)][_0x5b7306(0x718)]+_0x5b7306(0x655)),_0x57430f&&_0x57430f[_0x5b7306(0x810)]?.[_0x5b7306(0x402)](this[_0x5b7306(0x1f6)][_0x5b7306(0x718)]))_0x4d1d21=await this[_0x5b7306(0x844)](_0x57430f,_0x27b9d2,_0xd529fe);else return this['logger'][_0x5b7306(0x2eb)](this['instanceName']+'\x20('+this[_0x5b7306(0x1f6)][_0x5b7306(0x718)]+_0x5b7306(0x480)),null;}else this['logger'][_0x5b7306(0x2eb)](this['instanceName']+'\x20('+this['instance'][_0x5b7306(0x718)]+_0x5b7306(0x16a));if(_0x4d1d21=await this['findConversation'](_0x239238,_0xd529fe),_0x4d1d21){this[_0x5b7306(0x3c2)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5b7306(0x67f)),!_0x27b9d2['fromMe']&&_0x4d1d21[_0x5b7306(0x2df)]&&this[_0x5b7306(0x48a)](_0x4d1d21);let _0x5748b9=await this[_0x5b7306(0x432)](_0x4d1d21);_0x5748b9&&await this['processblock'](_0x4d1d21,_0x5748b9);}}catch(_0x14b4e0){this['logger'][_0x5b7306(0x685)](this[_0x5b7306(0x225)]+'\x20('+this[_0x5b7306(0x1f6)]['wuid']+_0x5b7306(0x4be)+(_0x14b4e0 instanceof Error?_0x14b4e0[_0x5b7306(0x3d6)]:JSON['stringify'](_0x14b4e0,null,0x2)));}}['flattenObject'](_0x4aba95,_0x23935e='',_0x16eb4d={}){const _0x25b0be=a0_0x5a0e1e;return typeof _0x4aba95!=_0x25b0be(0x698)||_0x4aba95===null?(_0x23935e&&(_0x16eb4d[_0x23935e]=_0x4aba95),_0x16eb4d):(Object[_0x25b0be(0x822)](_0x4aba95)[_0x25b0be(0x3a6)](([_0x4a461b,_0x3f9929])=>{const _0x421b9d=_0x25b0be;let _0x475752=_0x23935e?_0x23935e+'.'+_0x4a461b:'_'+_0x4a461b;Array['isArray'](_0x3f9929)?_0x3f9929[_0x421b9d(0x3a6)]((_0x10f33a,_0x53780f)=>{const _0x3daef5=_0x421b9d;this[_0x3daef5(0x7cd)](_0x10f33a,_0x475752+'['+_0x53780f+']',_0x16eb4d);}):typeof _0x3f9929==_0x421b9d(0x698)&&_0x3f9929!==null?this['flattenObject'](_0x3f9929,_0x475752,_0x16eb4d):_0x16eb4d[_0x475752]=String(_0x3f9929);}),_0x16eb4d);}[a0_0x5a0e1e(0x795)](_0x4f87fa){const _0x31f831=a0_0x5a0e1e;let _0x421d07={};for(let _0x3fcf84 of _0x4f87fa)typeof _0x3fcf84[_0x31f831(0x7e8)]==_0x31f831(0x539)&&typeof _0x3fcf84[_0x31f831(0xb3)]==_0x31f831(0x539)&&(_0x421d07[_0x3fcf84[_0x31f831(0x7e8)]]=_0x3fcf84[_0x31f831(0xb3)]);return _0x421d07;}async[a0_0x5a0e1e(0x432)](_0xd63a0d){const _0x937579=a0_0x5a0e1e;if(!this[_0x937579(0x1ec)]?.[_0x937579(0x115)]['enabled']||_0xd63a0d[_0x937579(0x1cc)]!=='open'&&_0xd63a0d[_0x937579(0x5b7)]==='')return null;let _0x27c453=_0xd63a0d['chatLog'][_0x937579(0x6f1)]||_0x937579(0x6eb);typeof _0xd63a0d[_0x937579(0x627)][_0x937579(0x31c)]>'u'&&(_0xd63a0d[_0x937579(0x627)][_0x937579(0x31c)]=!0x0);let _0x4d3672=_0xd63a0d[_0x937579(0x627)][_0x937579(0x31c)];this[_0x937579(0x3c2)]['verbose'](this['instanceName']+'\x20('+this[_0x937579(0x1f6)][_0x937579(0x718)]+'):\x20lastBlockId:\x20'+_0x27c453+',\x20lastCondition:\x20'+_0x4d3672);let _0x5de8c8=_0x27c453===_0x937579(0x6eb)?_0xd63a0d[_0x937579(0x42c)][_0x937579(0x174)](_0x3735b0=>_0x3735b0[_0x937579(0x13f)]===_0x937579(0x6eb)):_0xd63a0d[_0x937579(0x42c)]['find'](_0xa25bc6=>_0xa25bc6[_0x937579(0x772)][_0x937579(0x6b5)]()===_0x27c453[_0x937579(0x6b5)]());if(!_0x5de8c8)return this[_0x937579(0x3c2)][_0x937579(0x685)](this[_0x937579(0x225)]+'\x20('+this[_0x937579(0x1f6)][_0x937579(0x718)]+_0x937579(0xac)+_0x27c453),null;let _0x6deff9={'_pushName':_0xd63a0d?.['chatLog']?.[_0x937579(0x7d8)]?.[_0x937579(0x489)]||'','_sender':this[_0x937579(0x1f6)][_0x937579(0x718)]||'',..._0xd63a0d[_0x937579(0x627)][_0x937579(0x15b)]},_0x39dd5c=new Date();_0x6deff9[_0x937579(0x5e3)]=_0x39dd5c['getDate'](),_0x6deff9['_month']=_0x39dd5c[_0x937579(0x25b)]()+0x1,_0x6deff9['_year']=_0x39dd5c[_0x937579(0x80f)](),_0x6deff9[_0x937579(0x1f9)]=_0x39dd5c[_0x937579(0x76a)](),_0x6deff9['_minute']=_0x39dd5c[_0x937579(0x839)](),_0x6deff9[_0x937579(0x43b)]=_0x39dd5c[_0x937579(0x75f)]();let _0x181fac=null;if(_0xd63a0d['waitingMenu_id']){let _0x571dd0=_0xd63a0d[_0x937579(0x627)][_0x937579(0x7d8)][_0x937579(0x490)],_0x1fc9a2=_0xd63a0d[_0x937579(0x74e)][_0x937579(0x174)](_0x41641e=>_0x41641e[_0x937579(0x82b)]===_0x571dd0);if(_0x1fc9a2){let _0x53e05e=_0x1fc9a2[_0x937579(0x1f8)];if(_0x181fac=_0xd63a0d[_0x937579(0x42c)]['find'](_0x5424f3=>_0x5424f3['groupId']===_0x53e05e&&_0x5424f3[_0x937579(0x73e)]===0x1),_0x5de8c8[_0x937579(0x259)][_0x937579(0x763)]){let _0x1cca04={'id':_0xd63a0d[_0x937579(0x5b7)],'remoteJid':_0xd63a0d[_0x937579(0x41b)],'fromMe':!0x0};await this[_0x937579(0x2a4)](_0x1cca04);}if(_0x5de8c8[_0x937579(0x259)][_0x937579(0x763)]&&_0x5de8c8[_0x937579(0x259)][_0x937579(0x1ba)]&&_0x5de8c8['uazapi'][_0x937579(0x347)]==='poll'){let _0x40258f={'number':_0xd63a0d[_0x937579(0x41b)],'options':{'delay':0x0},'textMessage':{'text':_0x937579(0x383)+_0xd63a0d['waitingMenu_text']+_0x937579(0x201)+_0x571dd0}};await this[_0x937579(0x77f)](_0x40258f);}_0x6deff9[_0x937579(0x2f9)]=_0x571dd0,_0xd63a0d['status']=_0x937579(0x4f8),_0xd63a0d[_0x937579(0x5b7)]='',_0xd63a0d['waitingMenu_text']='',_0xd63a0d[_0x937579(0x74e)]=[];}else{this[_0x937579(0x3c2)][_0x937579(0x2eb)](this[_0x937579(0x225)]+'\x20('+this[_0x937579(0x1f6)][_0x937579(0x718)]+_0x937579(0x590));let _0x5dec58={'activatedCount':_0xd63a0d[_0x937579(0x627)][_0x937579(0x5b9)][_0x937579(0x736)](_0x3bb95f=>String(_0x3bb95f[_0x937579(0x73f)])===String(_0x27c453))['length'],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x5de8c8[_0x937579(0x259)][_0x937579(0x3cd)]){let _0x408f31={'number':_0xd63a0d[_0x937579(0x41b)],'options':{'delay':0x0},'textMessage':{'text':_0x5de8c8['uazapi'][_0x937579(0x3cd)]}};await this['textMessage'](_0x408f31);}if(_0x5de8c8[_0x937579(0x652)]!==void 0x0&&_0x5dec58[_0x937579(0x2e3)]>=_0x5de8c8[_0x937579(0x652)]){let _0x452810=Date[_0x937579(0x616)](),_0x15a265=_0x5de8c8[_0x937579(0x100)]??0xa;isNaN(_0x15a265)&&(_0x15a265=0xa);let _0x265be8=_0x452810+_0x15a265*0x3c*0x3e8;_0x5dec58[_0x937579(0x11a)]=_0x265be8,_0x5dec58['moreLogs']['push'](_0x937579(0x209)),this[_0x937579(0x14c)](_0xd63a0d,_0x265be8),_0xd63a0d[_0x937579(0x5b7)]='',_0xd63a0d[_0x937579(0x71e)]='',_0xd63a0d[_0x937579(0x74e)]=[];}return this[_0x937579(0x3a1)](_0xd63a0d,_0x5de8c8,_0x5dec58,!0x0),null;}}if(_0x4d3672&&_0x5de8c8[_0x937579(0x1f8)]&&!_0xd63a0d['waitingMenu_id']){let _0x1363cc=_0xd63a0d[_0x937579(0x42c)][_0x937579(0x736)](_0x2f0bc4=>_0x2f0bc4[_0x937579(0x622)][_0x937579(0x6b5)]()===_0x5de8c8[_0x937579(0x1f8)][_0x937579(0x6b5)]())['sort']((_0x4e0a30,_0x387146)=>_0x4e0a30['order']-_0x387146['order']);_0x1363cc[_0x937579(0x106)]>0x0&&(_0x181fac=_0x1363cc[0x0]);}if(!_0x181fac){let _0x24b1fc=_0x5de8c8[_0x937579(0x622)],_0x1dda46=_0xd63a0d[_0x937579(0x42c)]['filter'](_0x1902fe=>_0x1902fe['groupId']===_0x24b1fc&&_0x1902fe[_0x937579(0x73e)]>_0x5de8c8[_0x937579(0x73e)])[_0x937579(0x4a0)]((_0x2e1fb8,_0x5dbe5a)=>_0x2e1fb8[_0x937579(0x73e)]-_0x5dbe5a[_0x937579(0x73e)]);_0x1dda46[_0x937579(0x106)]>0x0&&(_0x181fac=_0x1dda46[0x0]);}if(!_0x181fac)return _0xd63a0d[_0x937579(0x1cc)]=_0x937579(0x3c5),null;_0xd63a0d[_0x937579(0x627)]['realVariables']=_0x6deff9;let _0x35c569=JSON['parse'](JSON[_0x937579(0x265)](_0x181fac));return this[_0x937579(0x269)](_0x35c569,_0xd63a0d['chatLog'][_0x937579(0x15b)]),_0xd63a0d[_0x937579(0x627)][_0x937579(0x6f1)]=_0x35c569[_0x937579(0x772)],_0xd63a0d[_0x937579(0x627)][_0x937579(0x31c)]=!0x0,_0x35c569;}['replaceVariables'](_0x3d4607,_0x47d1a0){const _0xa1fec9=a0_0x5a0e1e;return _0x3d4607[_0xa1fec9(0x186)](/\{\{([^}]+)\}\}/g,(_0x1951ba,_0x4fa10a)=>_0x47d1a0[_0x4fa10a]||'');}['replaceVariablesInObject'](_0x5e58ad,_0x2ff0ee){const _0x34374c=a0_0x5a0e1e;for(let _0x296c1f in _0x5e58ad)typeof _0x5e58ad[_0x296c1f]=='string'?_0x5e58ad[_0x296c1f]=this[_0x34374c(0x40f)](_0x5e58ad[_0x296c1f],_0x2ff0ee):typeof _0x5e58ad[_0x296c1f]==_0x34374c(0x698)&&this['replaceVariablesInObject'](_0x5e58ad[_0x296c1f],_0x2ff0ee);}async[a0_0x5a0e1e(0x57b)](_0x566868,_0xb6f227){const _0x51e7c5=a0_0x5a0e1e;let _0x55b4e3=_0xb6f227['_id'];if(_0x566868['chatLog']&&_0x566868[_0x51e7c5(0x627)]['blockLogs']){let _0x3308ca=_0x566868['chatLog'][_0x51e7c5(0x5b9)]['filter'](_0x5ca7f1=>String(_0x5ca7f1[_0x51e7c5(0x73f)])===String(_0x55b4e3))['pop']();if(_0x3308ca&&_0x3308ca['error']&&_0xb6f227['stopIfLastReturnedError'])return _0x566868[_0x51e7c5(0x1cc)]=_0x51e7c5(0x3c5),await this[_0x51e7c5(0x5e0)](_0x566868),null;}if(_0xb6f227[_0x51e7c5(0x13f)]===_0x51e7c5(0x259)&&_0xb6f227[_0x51e7c5(0x259)]['command']==='sendPoll'&&_0x566868[_0x51e7c5(0x5b7)])return _0x566868[_0x51e7c5(0x627)][_0x51e7c5(0x6f1)]=_0x55b4e3,await this[_0x51e7c5(0x5e0)](_0x566868),null;let _0x204779=await this[_0x51e7c5(0x432)](_0x566868);if(_0x566868[_0x51e7c5(0x627)]&&_0x566868['chatLog']['blockLogs']){let _0x3fc729=_0x566868['chatLog'][_0x51e7c5(0x5b9)][_0x51e7c5(0x736)](_0x4a7feb=>String(_0x4a7feb['blockId'])===String(_0x55b4e3))[_0x51e7c5(0x106)];if(_0xb6f227[_0x51e7c5(0x652)]!==void 0x0&&_0x3fc729>=_0xb6f227[_0x51e7c5(0x652)]){let _0x41620d=Date[_0x51e7c5(0x616)](),_0x34d29c=_0xb6f227[_0x51e7c5(0x100)]??0xa;isNaN(_0x34d29c)&&(_0x34d29c=0xa);let _0x5bf08a=_0x41620d+_0x34d29c*0x3c*0x3e8,_0x25b91a={'newStoppedUntil':_0x5bf08a};return this['updateStopChat'](_0x566868,_0x5bf08a),this['updateConversation'](_0x566868,_0xb6f227,_0x25b91a,!0x0),null;}}_0x204779&&_0x204779['type']!=='save'&&await this['processblock'](_0x566868,_0x204779),_0x204779||await this[_0x51e7c5(0x5e0)](_0x566868),_0x204779&&_0x204779['type']===_0x51e7c5(0x1a5)&&(_0x566868[_0x51e7c5(0x627)][_0x51e7c5(0x6f1)]=_0x55b4e3,await this['saveConversationToDatabase'](_0x566868));}async[a0_0x5a0e1e(0x7df)](_0x50c097,_0x29ebe8){const _0x5d656a=a0_0x5a0e1e;try{let _0x16097e=_0x29ebe8['type'];this[_0x5d656a(0x3c2)][_0x5d656a(0x2eb)](this[_0x5d656a(0x225)]+'\x20('+this[_0x5d656a(0x1f6)][_0x5d656a(0x718)]+_0x5d656a(0x279)+_0x16097e);let _0x4acf75={'uazapi':()=>this[_0x5d656a(0x3fb)](_0x50c097,_0x29ebe8),'save':()=>this[_0x5d656a(0x3ce)](_0x50c097,_0x29ebe8),'stop':()=>this[_0x5d656a(0x142)](_0x50c097,_0x29ebe8),'condition':()=>this[_0x5d656a(0x7b9)](_0x50c097,_0x29ebe8),'varedit':()=>this[_0x5d656a(0x2ca)](_0x50c097,_0x29ebe8),'apirequest':()=>this[_0x5d656a(0x26d)](_0x50c097,_0x29ebe8),'goToFlow':()=>this[_0x5d656a(0x71c)](_0x50c097,_0x29ebe8),'scheduleFlow':()=>this[_0x5d656a(0x17f)](_0x50c097,_0x29ebe8),'awaitSeconds':()=>this['processawaitSeconds'](_0x50c097,_0x29ebe8),'clearVariables':()=>this['processclearVariables'](_0x50c097,_0x29ebe8)}[_0x16097e];_0x4acf75&&await _0x4acf75();}catch(_0x59e7a2){this['logger'][_0x5d656a(0x685)](this['instanceName']+'\x20('+this['instance'][_0x5d656a(0x718)]+_0x5d656a(0x2de)+(_0x59e7a2 instanceof Error?_0x59e7a2[_0x5d656a(0x3d6)]:JSON['stringify'](_0x59e7a2,null,0x2)));}}async[a0_0x5a0e1e(0x216)](_0xdc77e8,_0x153705){const _0x2f8bd7=a0_0x5a0e1e;if(this[_0x2f8bd7(0x3c2)]['verbose'](this[_0x2f8bd7(0x225)]+'\x20('+this[_0x2f8bd7(0x1f6)][_0x2f8bd7(0x718)]+_0x2f8bd7(0x237)),!_0xdc77e8||!_0x153705)return this[_0x2f8bd7(0x3c2)][_0x2f8bd7(0x685)](this[_0x2f8bd7(0x225)]+'\x20('+this[_0x2f8bd7(0x1f6)][_0x2f8bd7(0x718)]+_0x2f8bd7(0x71d)),null;let _0x496556=+_0x153705['awaitSeconds'];isNaN(_0x496556)&&(_0x496556=0x0),_0x496556=Math[_0x2f8bd7(0x268)](_0x496556,0x3c),await(0x0,w[_0x2f8bd7(0x1f4)])(_0x496556*0x3e8);let _0x38a50d={'moreLogs':[_0x2f8bd7(0x7d7)+_0x496556+'\x20segundos']};return await this[_0x2f8bd7(0x3a1)](_0xdc77e8,_0x153705,_0x38a50d),_0x496556;}async['processclearVariables'](_0x1deaf0,_0x30247a){const _0x1666be=a0_0x5a0e1e;if(this[_0x1666be(0x3c2)][_0x1666be(0x2eb)](this[_0x1666be(0x225)]+'\x20('+this['instance'][_0x1666be(0x718)]+_0x1666be(0x509)),!_0x1deaf0||!_0x30247a)return this[_0x1666be(0x3c2)]['error'](this[_0x1666be(0x225)]+'\x20('+this['instance']['wuid']+_0x1666be(0x71d)),null;let _0x2756f9=[];if(_0x30247a[_0x1666be(0x2d5)][_0x1666be(0x846)]()===_0x1666be(0x5f6)){let _0xa94e67=[_0x1666be(0x6f7),_0x1666be(0x507),_0x1666be(0x6e4),'_activedCount','_remoteJid',_0x1666be(0x772),'_fromMe'];_0x2756f9=Object[_0x1666be(0x401)](_0x1deaf0[_0x1666be(0x627)][_0x1666be(0x15b)])['filter'](_0x4abe23=>_0x4abe23[_0x1666be(0x393)]('_')&&!_0xa94e67[_0x1666be(0x402)](_0x4abe23));}else _0x2756f9=_0x30247a['clearVariables'][_0x1666be(0x83d)]('|')[_0x1666be(0x35d)](_0x550d11=>(_0x550d11=_0x550d11[_0x1666be(0x186)](/[{}]/g,'')['trim'](),_0x550d11[_0x1666be(0x393)]('_')?_0x550d11:'_'+_0x550d11));let _0x303325=[];_0x2756f9[_0x1666be(0x3a6)](_0x218522=>{const _0x2597fa=_0x1666be;_0x218522 in _0x1deaf0['chatLog'][_0x2597fa(0x15b)]&&(delete _0x1deaf0[_0x2597fa(0x627)]['realVariables'][_0x218522],_0x303325[_0x2597fa(0x212)](_0x218522));}),_0x303325['length']>0x0?this[_0x1666be(0x3c2)][_0x1666be(0x2eb)](this['instanceName']+'\x20('+this['instance'][_0x1666be(0x718)]+_0x1666be(0x23e)+_0x303325[_0x1666be(0x33d)](',\x20')):this[_0x1666be(0x3c2)][_0x1666be(0x2eb)](this[_0x1666be(0x225)]+'\x20('+this[_0x1666be(0x1f6)][_0x1666be(0x718)]+'):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção');let _0x5487f6={'moreLogs':[_0x1666be(0x3f8)+_0x303325['join'](',\x20')]};return await this[_0x1666be(0x3a1)](_0x1deaf0,_0x30247a,_0x5487f6),null;}async[a0_0x5a0e1e(0x17f)](_0x1e47f4,_0x5cff05){const _0x5f12c1=a0_0x5a0e1e;if(this[_0x5f12c1(0x3c2)][_0x5f12c1(0x2eb)](this['instanceName']+'\x20('+this[_0x5f12c1(0x1f6)]['wuid']+'):\x20Entrou\x20na\x20função\x20scheduleFlow'),!_0x1e47f4||!_0x5cff05)return this[_0x5f12c1(0x3c2)][_0x5f12c1(0x685)](this[_0x5f12c1(0x225)]+'\x20('+this[_0x5f12c1(0x1f6)][_0x5f12c1(0x718)]+_0x5f12c1(0x71d)),null;let _0x52fc98=_0x1e47f4[_0x5f12c1(0x41b)];_0x5cff05[_0x5f12c1(0x1d8)][_0x5f12c1(0x41b)]&&_0x5cff05['scheduleFlow'][_0x5f12c1(0x41b)][_0x5f12c1(0x846)]()!==''&&(_0x52fc98=_0x5cff05['uazapi'][_0x5f12c1(0x41b)][_0x5f12c1(0x846)]());let _0x13413d=_0x5cff05[_0x5f12c1(0x1d8)][_0x5f12c1(0x55f)]*0xea60,_0x572182=Date[_0x5f12c1(0x616)]()+_0x13413d,_0x4c958a={'status':_0x5f12c1(0x540),'info':'Fluxo\x20agendado\x20pelo\x20fluxo\x20'+_0x1e47f4[_0x5f12c1(0x7e8)],'remoteJids':[_0x52fc98],'when':_0x572182,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x5f12c1(0x7c6),'flowName':_0x5cff05[_0x5f12c1(0x1d8)][_0x5f12c1(0x345)]};this[_0x5f12c1(0x582)](_0x4c958a);let _0x462e2b=await this[_0x5f12c1(0x432)](_0x1e47f4);_0x462e2b&&await this[_0x5f12c1(0x7df)](_0x1e47f4,_0x462e2b);}async[a0_0x5a0e1e(0x71c)](_0x1a70ba,_0x31656e){const _0x225e18=a0_0x5a0e1e;if(this[_0x225e18(0x3c2)][_0x225e18(0x2eb)](this[_0x225e18(0x225)]+'\x20('+this[_0x225e18(0x1f6)][_0x225e18(0x718)]+'):\x20Entrou\x20na\x20função\x20goToFlow'),!_0x1a70ba||!_0x31656e)return this[_0x225e18(0x3c2)][_0x225e18(0x685)](this[_0x225e18(0x225)]+'\x20('+this[_0x225e18(0x1f6)][_0x225e18(0x718)]+_0x225e18(0x71d)),null;await this[_0x225e18(0x3a1)](_0x1a70ba,_0x31656e,{},!0x0,!0x0);let _0x288e13=_0x31656e[_0x225e18(0x26a)];_0x1a70ba=await this[_0x225e18(0x836)](_0x288e13,_0x1a70ba[_0x225e18(0x41b)],_0x1a70ba[_0x225e18(0x627)][_0x225e18(0x15b)]);let _0x40c8eb=await this[_0x225e18(0x432)](_0x1a70ba);_0x40c8eb&&await this[_0x225e18(0x7df)](_0x1a70ba,_0x40c8eb);}async[a0_0x5a0e1e(0x836)](_0x4225aa,_0x16b9ed,_0x823b72){const _0x4e2fa4=a0_0x5a0e1e;this['logger'][_0x4e2fa4(0x2eb)](this['instanceName']+'\x20('+this[_0x4e2fa4(0x1f6)][_0x4e2fa4(0x718)]+_0x4e2fa4(0x636));try{let _0x286c3b=this[_0x4e2fa4(0x1ec)][_0x4e2fa4(0x29d)][_0x4e2fa4(0x174)](_0x446433=>_0x446433[_0x4e2fa4(0x772)]===_0x4225aa);_0x286c3b||this[_0x4e2fa4(0x3c2)]['error'](this[_0x4e2fa4(0x225)]+'\x20('+this[_0x4e2fa4(0x1f6)][_0x4e2fa4(0x718)]+_0x4e2fa4(0x849)+_0x4225aa+'\x27\x20não\x20encontrado\x20na\x20memória');let _0x8650a6=await this[_0x4e2fa4(0x7bc)][_0x4e2fa4(0x7c6)][_0x4e2fa4(0x524)]({'where':{'_id':_0x286c3b[_0x4e2fa4(0x772)]}});if(!_0x8650a6||!_0x8650a6[_0x4e2fa4(0x810)]?.[_0x4e2fa4(0x402)](this[_0x4e2fa4(0x1f6)][_0x4e2fa4(0x718)]))throw this['logger'][_0x4e2fa4(0x685)](this['instanceName']+'\x20('+this[_0x4e2fa4(0x1f6)]['wuid']+'):\x20Flow\x20\x27'+_0x4225aa+_0x4e2fa4(0x22d)),new m('Flow\x20\x27'+_0x4225aa+_0x4e2fa4(0x22d));let _0x1a5925=require(_0x4e2fa4(0x775))['ObjectId'],_0x9298a4=Date[_0x4e2fa4(0x616)](),_0x548210=_0x4e2fa4(0x6eb),_0x2f0bda={},_0x5105ef={},_0x17cdfc=this['AutomateSystem'][_0x4e2fa4(0x29d)][_0x4e2fa4(0x174)](_0x55dd5f=>_0x55dd5f['_id']===_0x8650a6[_0x4e2fa4(0x772)]?.[_0x4e2fa4(0x6b5)]()),_0x222109=_0x17cdfc?.[_0x4e2fa4(0xa7)]??_0x8650a6['minutesToClose']??0x0,_0x391851=_0x17cdfc?.[_0x4e2fa4(0x2df)]??_0x8650a6[_0x4e2fa4(0x2df)]??!0x1,_0x325567={'flowId':_0x286c3b[_0x4e2fa4(0x772)],'readMessages':_0x286c3b['readMessages'],..._0x8650a6,'chatLog':null},_0x3d5f60={'lastReceivedMessage':_0x2f0bda,'lastSendMessage':_0x5105ef,'lastBlockId':_0x548210,'lastCondition':!0x0,'realVariables':_0x823b72};_0x325567[_0x4e2fa4(0x627)]=_0x3d5f60,_0x325567[_0x4e2fa4(0x627)][_0x4e2fa4(0x15b)]={..._0x823b72},delete _0x325567[_0x4e2fa4(0x772)],_0x325567[_0x4e2fa4(0x772)]=new _0x1a5925(),_0x325567[_0x4e2fa4(0x5d1)]=_0x9298a4,_0x325567[_0x4e2fa4(0x1cc)]='open',_0x325567[_0x4e2fa4(0x41b)]=_0x16b9ed,_0x325567[_0x4e2fa4(0xa7)]=_0x222109,_0x325567['readMessages']=_0x391851;let _0x4f8036=await this[_0x4e2fa4(0x7bc)][_0x4e2fa4(0x707)][_0x4e2fa4(0xbb)](_0x325567[_0x4e2fa4(0x772)],_0x325567,this[_0x4e2fa4(0x1f6)][_0x4e2fa4(0x718)]);return this['logger'][_0x4e2fa4(0x2eb)](this[_0x4e2fa4(0x225)]+'\x20('+this[_0x4e2fa4(0x1f6)][_0x4e2fa4(0x718)]+_0x4e2fa4(0x46b)),_0x4f8036?_0x325567:null;}catch(_0x52d7f5){let _0xc7f58f=_0x4e2fa4(0x29f),_0x375225=_0x52d7f5 instanceof Error?_0x52d7f5[_0x4e2fa4(0x3d6)]:typeof _0x52d7f5==_0x4e2fa4(0x698)?JSON['stringify'](_0x52d7f5):_0x52d7f5,_0x11098e=_0xc7f58f+':\x20'+_0x375225;throw this[_0x4e2fa4(0x3c2)]['error'](this['instanceName']+'\x20('+this[_0x4e2fa4(0x1f6)][_0x4e2fa4(0x718)]+_0x4e2fa4(0x693)+_0x11098e),new m(_0x11098e);}}async['processApiRequest'](_0x153fee,_0x596d89){const _0x198b73=a0_0x5a0e1e;let _0xd67b2b,_0x4e991f;try{let _0x13ee5d=_0x596d89[_0x198b73(0x2cf)];if(!_0x13ee5d||!_0x13ee5d['url']||!_0x13ee5d['method'])throw new Error('Falta\x20informação\x20para\x20a\x20chamada\x20API');let _0x36e329;([_0x198b73(0x13d),_0x198b73(0x52e),_0x198b73(0x376)][_0x198b73(0x112)](_0x560af8=>_0x13ee5d[_0x198b73(0x516)][_0x198b73(0x402)](_0x560af8))||_0x13ee5d[_0x198b73(0x780)])&&(_0x36e329='arraybuffer');let _0x400353='\u205f',_0x5f1c11;try{_0x5f1c11=JSON['parse'](_0x13ee5d[_0x198b73(0x74f)]['replace'](new RegExp(_0x400353,'g'),''));}catch(_0x396015){throw _0x396015;}let _0x3e390a={'method':_0x13ee5d[_0x198b73(0x79a)],'url':_0x13ee5d[_0x198b73(0x516)],'headers':_0x13ee5d[_0x198b73(0x5ad)]||{},..._0x13ee5d['method'][_0x198b73(0x49a)]()!==_0x198b73(0x21a)&&_0x13ee5d[_0x198b73(0x74f)]?{'data':JSON[_0x198b73(0x7f0)](_0x13ee5d[_0x198b73(0x74f)][_0x198b73(0x186)](new RegExp(_0x400353,'g'),''))}:{},..._0x36e329&&{'responseType':_0x36e329}},_0x1b97ba=await(0x0,K[_0x198b73(0x77c)])(_0x3e390a),_0x33be5e=_0x1b97ba[_0x198b73(0x2b6)]['content-type'];if(_0x33be5e&&_0x33be5e[_0x198b73(0x402)](_0x198b73(0x477))||typeof _0x1b97ba[_0x198b73(0x4cf)]==_0x198b73(0x539)){if(typeof _0x1b97ba['data']==_0x198b73(0x539)){let _0x503de6=_0x1b97ba['data'][_0x198b73(0x186)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x198b73(0x846)]();try{_0xd67b2b=JSON['parse'](_0x503de6);}catch(_0x4bbea7){this[_0x198b73(0x3c2)][_0x198b73(0x685)](_0x198b73(0x4fe)+_0x4bbea7[_0x198b73(0x3d6)]),_0xd67b2b={'_apiResponse':_0x1b97ba[_0x198b73(0x4cf)]};}}else _0xd67b2b=_0x1b97ba[_0x198b73(0x4cf)];let _0x1fd0f9=_0x153fee[_0x198b73(0x627)][_0x198b73(0x15b)],_0x540fff=this[_0x198b73(0x7cd)](_0xd67b2b);return Object['assign'](_0x1fd0f9,_0x540fff),_0x153fee[_0x198b73(0x627)][_0x198b73(0x15b)]=_0x1fd0f9,_0x4e991f={'error':!0x1,'apiResponse':_0xd67b2b},this[_0x198b73(0x3a1)](_0x153fee,_0x596d89,_0x4e991f),_0xd67b2b;}if(_0x33be5e&&(_0x33be5e[_0x198b73(0x402)]('application/octet-stream')||_0x33be5e[_0x198b73(0x402)](_0x198b73(0x39b))||_0x33be5e[_0x198b73(0x402)](_0x198b73(0x557))||_0x33be5e['includes'](_0x198b73(0x6aa)))){this[_0x198b73(0x3c2)][_0x198b73(0x2eb)](this['instanceName']+'\x20('+this[_0x198b73(0x1f6)][_0x198b73(0x718)]+_0x198b73(0xe2)+_0x33be5e);let _0x4e0cd5=(0x0,Q['v4'])(),_0x3cbf6f='',_0x46d75b={'image/jpeg':_0x198b73(0x5a1),'image/png':'.png','image/gif':_0x198b73(0x371),'image/webp':'.webp','image/svg+xml':_0x198b73(0x27b),'audio/mpeg':_0x198b73(0x588),'audio/ogg':_0x198b73(0x759),'audio/wav':_0x198b73(0x122),'video/mp4':_0x198b73(0x3e2),'video/webm':_0x198b73(0x42f),'video/ogg':_0x198b73(0x217),'text/plain':_0x198b73(0x4cc),'application/pdf':_0x198b73(0x3b4),'application/msword':_0x198b73(0x83e),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x198b73(0x2c6),'application/vnd.ms-excel':_0x198b73(0xc3),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x198b73(0x47b),'application/vnd.ms-powerpoint':_0x198b73(0x438),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x198b73(0x4e8)};_0x46d75b[_0x33be5e]?(_0x3cbf6f=_0x46d75b[_0x33be5e],this['logger'][_0x198b73(0x2eb)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x198b73(0x483)+_0x3cbf6f)):(_0x3cbf6f='.error',this['logger'][_0x198b73(0x2eb)](this['instanceName']+'\x20('+this['instance'][_0x198b73(0x718)]+_0x198b73(0x1b9)+_0x3cbf6f)),_0x4e0cd5+=_0x3cbf6f,this['logger'][_0x198b73(0x2eb)](this[_0x198b73(0x225)]+'\x20('+this['instance']['wuid']+_0x198b73(0x3d1)+_0x4e0cd5);let _0x454932=this[_0x198b73(0x1e5)][_0x198b73(0x168)](_0x198b73(0x4bd))[_0x198b73(0x1c3)];if(!_0x454932){let _0x734e35=this[_0x198b73(0x1e5)][_0x198b73(0x168)](_0x198b73(0x7e2));_0x454932=_0x198b73(0x2d3)+(_0x734e35&&_0x734e35[_0x198b73(0x756)]['split']('/')[0x4]);}let _0x52c38e=Buffer[_0x198b73(0x6d0)](_0x1b97ba[_0x198b73(0x4cf)]);await this['saveMediaToFile'](_0x52c38e,_0x4e0cd5);let _0x3ebe77=_0x198b73(0x5f8)+_0x4e0cd5;_0x3ebe77=''+_0x454932+_0x3ebe77,_0xd67b2b={'fileUrl':_0x3ebe77},_0x153fee[_0x198b73(0x627)][_0x198b73(0x15b)][_0x198b73(0x4eb)]=_0x3ebe77;let _0x378b64=_0x153fee['chatLog']['realVariables'],_0x590d08=this[_0x198b73(0x7cd)](_0xd67b2b);return Object['assign'](_0x378b64,_0x590d08),_0x153fee['chatLog'][_0x198b73(0x15b)]=_0x378b64,_0x4e991f={'error':!0x1,'apiResponse':{'fileUrl':_0x3ebe77}},this[_0x198b73(0x3a1)](_0x153fee,_0x596d89,_0x4e991f),_0xd67b2b;}}catch(_0x2d9e83){this[_0x198b73(0x3c2)]['error']('Erro\x20ao\x20processar\x20a\x20chamada\x20API:'+_0x2d9e83['message']),_0x2d9e83['response']&&(_0xd67b2b=_0x2d9e83[_0x198b73(0x248)][_0x198b73(0x4cf)]);let _0x51ef9b=_0x153fee[_0x198b73(0x627)][_0x198b73(0x15b)],_0x3c71e3=this[_0x198b73(0x7cd)](_0xd67b2b);return Object[_0x198b73(0xfe)](_0x51ef9b,_0x3c71e3),_0x153fee[_0x198b73(0x627)]['realVariables']=_0x51ef9b,_0x4e991f={'error':!0x0,'errorLog':_0x2d9e83[_0x198b73(0x6b5)](),'apiResponse':_0xd67b2b},this['updateConversation'](_0x153fee,_0x596d89,_0x4e991f),{'success':!0x1};}}[a0_0x5a0e1e(0x19c)](_0x26fb5d,_0x3fdb29){const _0x31e1f5=a0_0x5a0e1e;let _0x5c17d2=_0x55a4f3=>{const _0x2dfbf7=a0_0xc548;let _0x10e6fb=_0x55a4f3[_0x2dfbf7(0x186)](/[^0-9.,-]/g,'')[_0x2dfbf7(0x186)](',','.'),_0x1ed671=parseFloat(_0x10e6fb);return isNaN(_0x1ed671)?null:_0x1ed671;},_0x41e27b=_0x3fdb29[_0x31e1f5(0x439)],_0x522a6d=_0x3fdb29[_0x31e1f5(0x55c)];typeof _0x41e27b==_0x31e1f5(0x539)&&(_0x41e27b=this['replaceVariables'](_0x41e27b,_0x26fb5d['chatLog'][_0x31e1f5(0x15b)])??''),typeof _0x522a6d==_0x31e1f5(0x539)&&(_0x522a6d=this[_0x31e1f5(0x40f)](_0x522a6d,_0x26fb5d[_0x31e1f5(0x627)]['realVariables'])??'');let _0x197a78=null;if(!_0x3fdb29[_0x31e1f5(0x1c4)])return null;switch(this['logger'][_0x31e1f5(0x2eb)](this[_0x31e1f5(0x225)]+'\x20('+this[_0x31e1f5(0x1f6)][_0x31e1f5(0x718)]+_0x31e1f5(0x4bf)+_0x41e27b),this[_0x31e1f5(0x3c2)][_0x31e1f5(0x2eb)](this[_0x31e1f5(0x225)]+'\x20('+this['instance'][_0x31e1f5(0x718)]+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x522a6d),_0x3fdb29[_0x31e1f5(0x1c4)]){case'+':case'-':case'*':case'/':let _0xd1bef0=_0x5c17d2(_0x41e27b||'0'),_0x4eaec2=_0x5c17d2(_0x522a6d||'0');if(_0xd1bef0===null)return null;switch(_0x3fdb29[_0x31e1f5(0x1c4)]){case'+':_0x197a78=_0xd1bef0+(_0x4eaec2??0x0);break;case'-':_0x197a78=_0xd1bef0-(_0x4eaec2??0x0);break;case'*':_0x197a78=_0xd1bef0*(_0x4eaec2??0x1);break;case'/':_0x4eaec2!==0x0&&(_0x197a78=_0xd1bef0/(_0x4eaec2??0x1));break;}break;case'findAndReplace':case _0x31e1f5(0x71a):let _0x543d75=_0x522a6d,_0x4bd59f=_0x3fdb29[_0x31e1f5(0x551)];if(typeof _0x4bd59f==_0x31e1f5(0x539)&&(_0x4bd59f=this[_0x31e1f5(0x40f)](_0x4bd59f,_0x26fb5d[_0x31e1f5(0x627)][_0x31e1f5(0x15b)])??''),_0x543d75&&_0x4bd59f!==void 0x0){let _0x57e2e8=_0x3fdb29[_0x31e1f5(0x1c4)]===_0x31e1f5(0x2aa)?new RegExp(_0x543d75[_0x31e1f5(0x186)](/[-\/\\^$*+?.()|[\]{}]/g,_0x31e1f5(0x20b)),'g'):new RegExp(_0x543d75,'g');_0x197a78=_0x41e27b[_0x31e1f5(0x186)](_0x57e2e8,_0x4bd59f);}else console[_0x31e1f5(0x16e)](_0x31e1f5(0x5e6));break;case _0x31e1f5(0x5c7):_0x197a78=_0x522a6d;break;case'extractRegex':let _0x123f1c=_0x41e27b[_0x31e1f5(0x4da)](new RegExp(_0x522a6d||''));_0x197a78=_0x123f1c?_0x123f1c[0x0]:'';break;case _0x31e1f5(0x84a):_0x197a78=_0x41e27b['slice'](0x0,parseInt(_0x522a6d||'0'));break;case _0x31e1f5(0x117):let _0x2d81fc=parseInt(_0x522a6d||'0');_0x197a78=_0x41e27b['slice'](_0x41e27b['length']-_0x2d81fc);break;case _0x31e1f5(0x22e):let _0x1a170e=_0x5c17d2(_0x41e27b),_0x522bc1=parseInt(_0x522a6d||'0');_0x522bc1=Math[_0x31e1f5(0xab)](_0x522bc1),_0x1a170e!==null?_0x197a78=_0x1a170e[_0x31e1f5(0x505)](_0x31e1f5(0x27f),{'minimumFractionDigits':_0x522bc1,'maximumFractionDigits':_0x522bc1}):(console[_0x31e1f5(0x16e)](_0x31e1f5(0x841)+_0x41e27b),_0x197a78=null);break;case'toBRL':let _0x1737f1=_0x5c17d2(_0x41e27b);_0x1737f1!==null?_0x197a78=_0x1737f1[_0x31e1f5(0x505)](_0x31e1f5(0x27f),{'style':'currency','currency':'BRL'}):(console['warn'](_0x31e1f5(0x711)+_0x41e27b),_0x197a78=null);break;case _0x31e1f5(0x4de):_0x197a78=_0x41e27b[_0x31e1f5(0x49a)]();break;case _0x31e1f5(0x7f3):_0x197a78=_0x41e27b[_0x31e1f5(0x6b3)]();break;case _0x31e1f5(0x22c):_0x197a78=_0x41e27b['split']('\x20')[_0x31e1f5(0x35d)](_0x4ff400=>_0x4ff400[_0x31e1f5(0x81c)](0x0)['toUpperCase']()+_0x4ff400[_0x31e1f5(0xd0)](0x1)[_0x31e1f5(0x6b3)]())[_0x31e1f5(0x33d)]('\x20');break;case _0x31e1f5(0x17c):_0x197a78=JSON[_0x31e1f5(0x265)](_0x41e27b);break;case _0x31e1f5(0x208):_0x197a78=_0x41e27b[_0x31e1f5(0x846)]();break;default:_0x197a78=_0x41e27b;}return _0x197a78!==null?_0x197a78['toString']():null;}async[a0_0x5a0e1e(0x2ca)](_0x44ca2b,_0x1d3160){const _0x472d7b=a0_0x5a0e1e;try{let _0x38dc26=_0x44ca2b[_0x472d7b(0x4f6)]?.['filter'](_0x393c5f=>_0x393c5f['blockId']===_0x1d3160[_0x472d7b(0x772)]?.[_0x472d7b(0x6b5)]())||[],_0x40774a=_0x1d3160['saveVariable'],_0x4c26df=null,_0x565728=[],_0xd3ae8a=_0x44ca2b['chatLog'][_0x472d7b(0x15b)][_0x40774a];_0x565728[_0x472d7b(0x212)](_0x472d7b(0x642)+_0xd3ae8a+'\x22');for(let _0x26cdf8 of _0x38dc26){_0x26cdf8[_0x472d7b(0x439)]=_0xd3ae8a,_0x4c26df=_0x26cdf8[_0x472d7b(0x439)];let _0xe03e66;try{_0xe03e66=this['applyvaredit'](_0x44ca2b,_0x26cdf8);}catch(_0x324ce4){this[_0x472d7b(0x3c2)][_0x472d7b(0x685)]('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x324ce4[_0x472d7b(0x3d6)]);continue;}if(_0xe03e66!==null){let _0x1316bc=_0x472d7b(0x424)+_0x26cdf8[_0x472d7b(0x1c4)]+'\x22',_0xc2a275=[_0x472d7b(0x2e2),_0x472d7b(0x4de),_0x472d7b(0x7f3),_0x472d7b(0x22c),_0x472d7b(0x208)];_0x26cdf8[_0x472d7b(0x1c4)]===_0x472d7b(0x2aa)||_0x26cdf8[_0x472d7b(0x1c4)]===_0x472d7b(0x71a)?_0x1316bc+=_0x472d7b(0x1e2)+_0x26cdf8[_0x472d7b(0x55c)]+_0x472d7b(0x367)+_0x26cdf8[_0x472d7b(0x551)]+'\x22':!_0xc2a275[_0x472d7b(0x402)](_0x26cdf8[_0x472d7b(0x1c4)])&&_0x26cdf8['secondValue']!==null&&_0x26cdf8[_0x472d7b(0x55c)]!==void 0x0&&(_0x1316bc+=_0x472d7b(0x848)+_0x26cdf8['secondValue']+'\x22'),_0x1316bc+=_0x472d7b(0x584)+_0xe03e66+'.',_0x565728[_0x472d7b(0x212)](_0x1316bc);}_0xe03e66!==null&&(_0xd3ae8a=_0xe03e66);}if(_0x44ca2b['chatLog'][_0x472d7b(0x15b)]&&_0x1d3160['saveVariable']){_0x44ca2b[_0x472d7b(0x627)][_0x472d7b(0x15b)][_0x1d3160[_0x472d7b(0x6d1)]]=_0xd3ae8a;let _0x2f9710={'variable':_0x1d3160[_0x472d7b(0x6d1)],'oldValue':_0x4c26df,'newValue':_0xd3ae8a,'moreLogs':_0x565728};try{this[_0x472d7b(0x3a1)](_0x44ca2b,_0x1d3160,_0x2f9710);}catch(_0x29adca){this[_0x472d7b(0x3c2)][_0x472d7b(0x685)](_0x472d7b(0x60b)+_0x29adca['message']);}}return _0x40774a;}catch(_0x5b348d){return this[_0x472d7b(0x3c2)][_0x472d7b(0x685)](_0x472d7b(0x2c0)+_0x5b348d['message']),null;}}async[a0_0x5a0e1e(0x7b9)](_0x7a0c0f,_0x4032ba){const _0x36f168=a0_0x5a0e1e;try{let _0x55e26c=[],_0x540be3=_0x7a0c0f[_0x36f168(0x4b8)][_0x36f168(0x736)](_0x34e995=>_0x34e995[_0x36f168(0x73f)]===_0x4032ba['_id'][_0x36f168(0x6b5)]()),_0x171b91=null,_0xaa4920=!0x1;for(let _0x27a170 of _0x540be3){let _0x2fd4b8=this[_0x36f168(0x561)](_0x7a0c0f,_0x27a170);_0x55e26c['push'](_0x36f168(0xb2)+_0x27a170['firstValue']+_0x36f168(0x7e0)+_0x27a170['expression']+_0x36f168(0x498)+_0x27a170[_0x36f168(0x55c)]+_0x36f168(0x3f5)+_0x2fd4b8),_0x171b91===null?_0x171b91=_0x2fd4b8:_0x27a170[_0x36f168(0x305)]===_0x36f168(0x455)?(_0x171b91=_0x171b91&&_0x2fd4b8,_0x2fd4b8||(_0xaa4920=!0x0)):_0x27a170[_0x36f168(0x305)]==='or'&&(_0xaa4920||(_0x171b91=_0x171b91||_0x2fd4b8));}_0x171b91===null&&(_0x171b91=!0x0);let _0x2be24c={'moreLogs':_0x55e26c};_0x7a0c0f['chatLog'][_0x36f168(0x31c)]=_0x171b91,await this[_0x36f168(0x3a1)](_0x7a0c0f,_0x4032ba,_0x2be24c);}catch(_0x19cec1){this[_0x36f168(0x3c2)][_0x36f168(0x685)](this[_0x36f168(0x225)]+'\x20('+this[_0x36f168(0x1f6)][_0x36f168(0x718)]+_0x36f168(0x45d)+(_0x19cec1 instanceof Error?_0x19cec1['message']:JSON['stringify'](_0x19cec1,null,0x2)));}}[a0_0x5a0e1e(0x561)](_0x185bec,_0x2280a9){const _0x3d74cd=a0_0x5a0e1e;let _0x382c8c=_0x2280a9[_0x3d74cd(0x439)],_0x36536c=_0x2280a9['secondValue'];typeof _0x382c8c=='string'&&(_0x382c8c=this[_0x3d74cd(0x40f)](_0x382c8c,_0x185bec[_0x3d74cd(0x627)]['realVariables'])??''),typeof _0x36536c==_0x3d74cd(0x539)&&(_0x36536c=this[_0x3d74cd(0x40f)](_0x36536c,_0x185bec['chatLog'][_0x3d74cd(0x15b)])??'');try{switch(_0x2280a9[_0x3d74cd(0x7c4)]){case _0x3d74cd(0x4d9):return _0x382c8c===_0x36536c;case _0x3d74cd(0xa4):return _0x382c8c!==_0x36536c;case'contains':return this[_0x3d74cd(0x74a)](_0x382c8c,_0x36536c);case _0x3d74cd(0x757):return!this['contains'](_0x382c8c,_0x36536c);case _0x3d74cd(0x173):return parseFloat(_0x382c8c)>parseFloat(_0x36536c);case _0x3d74cd(0xed):return parseFloat(_0x382c8c)<parseFloat(_0x36536c);case'notEmpty':return _0x382c8c!=='';case _0x3d74cd(0x5c3):return _0x382c8c==='';case _0x3d74cd(0x266):return new RegExp(_0x36536c)[_0x3d74cd(0x733)](_0x382c8c);case _0x3d74cd(0x586):return!new RegExp(_0x36536c)[_0x3d74cd(0x733)](_0x382c8c);default:return!0x1;}}catch(_0x3aa104){return this[_0x3d74cd(0x3c2)]['error'](_0x3d74cd(0x4a2)+_0x3aa104),!0x1;}}[a0_0x5a0e1e(0x74a)](_0x52bcfa,_0x5ca243){const _0x22aedf=a0_0x5a0e1e;if(_0x52bcfa===_0x5ca243&&/^\d+$/[_0x22aedf(0x733)](_0x52bcfa))return!0x0;if(this[_0x22aedf(0x11f)](_0x52bcfa)&&/^\d+$/[_0x22aedf(0x733)](_0x5ca243)){let _0x5430f9=_0x52bcfa['split'](',')[_0x22aedf(0x35d)](_0x4524b3=>parseInt(_0x4524b3[_0x22aedf(0x846)]())),_0x433481=parseInt(_0x5ca243);return _0x5430f9['includes'](_0x433481);}return _0x52bcfa[_0x22aedf(0x402)](_0x5ca243);}['isListOfNumbers'](_0x1012ba){const _0x3a2214=a0_0x5a0e1e;return/^\d+(,\d+)*$/[_0x3a2214(0x733)](_0x1012ba);}[a0_0x5a0e1e(0x145)](_0xf34339){const _0x1fc111=a0_0x5a0e1e;let _0x180f30=!0x0,_0x45cb08=null;for(let _0x312e99 of _0xf34339){let _0x3d5e9b=this[_0x1fc111(0x7b1)](_0x312e99);if(_0x45cb08==='or'&&_0x3d5e9b){_0x180f30=!0x0;break;}if(_0x45cb08===_0x1fc111(0x455)&&!_0x3d5e9b){_0x180f30=!0x1;break;}_0x45cb08=_0x312e99['OrAnd'];}return _0x180f30;}['evaluateConditionTest'](_0x56ed0d){const _0x395cb4=a0_0x5a0e1e;let _0x33da0c=_0x56ed0d['firstValue'],_0x9b80ef=_0x56ed0d['secondValue'];try{switch(_0x56ed0d[_0x395cb4(0x7c4)]){case _0x395cb4(0x4d9):return String(_0x33da0c)===String(_0x9b80ef);case'notEqual':return String(_0x33da0c)!==String(_0x9b80ef);case _0x395cb4(0x74a):return String(_0x33da0c)[_0x395cb4(0x402)](String(_0x9b80ef));case _0x395cb4(0x757):return!String(_0x33da0c)[_0x395cb4(0x402)](String(_0x9b80ef));case _0x395cb4(0x173):return parseFloat(String(_0x33da0c))>parseFloat(String(_0x9b80ef));case'less':return parseFloat(String(_0x33da0c))<parseFloat(String(_0x9b80ef));case'notEmpty':return String(_0x33da0c)!=='';case _0x395cb4(0x5c3):return String(_0x33da0c)==='';case _0x395cb4(0x266):return new RegExp(String(_0x9b80ef))[_0x395cb4(0x733)](String(_0x33da0c));case _0x395cb4(0x586):return!new RegExp(String(_0x9b80ef))['test'](String(_0x33da0c));default:return!0x1;}}catch(_0xbea348){return this[_0x395cb4(0x3c2)][_0x395cb4(0x685)](_0x395cb4(0x4a2)+_0xbea348),!0x1;}}async['saveTextReply'](_0x1f8725,_0x45cd0d){const _0x137f6f=a0_0x5a0e1e;if(this[_0x137f6f(0x3c2)][_0x137f6f(0x2eb)](this[_0x137f6f(0x225)]+'\x20('+this['instance']['wuid']+_0x137f6f(0x5b5)),!_0x1f8725||!_0x45cd0d)return this[_0x137f6f(0x3c2)]['error'](this[_0x137f6f(0x225)]+'\x20('+this[_0x137f6f(0x1f6)][_0x137f6f(0x718)]+_0x137f6f(0x71d)),null;let _0x5ab123=_0x1f8725[_0x137f6f(0x627)][_0x137f6f(0x7d8)][_0x137f6f(0x5dc)]['id'];this['logger'][_0x137f6f(0x2eb)](this[_0x137f6f(0x225)]+'\x20('+this['instance']['wuid']+_0x137f6f(0x6f2)+_0x5ab123);let _0x320ae4={'key':{'id':_0x5ab123}},_0x3962d2=_0x45cd0d[_0x137f6f(0x6d1)];_0x1f8725['chatLog'][_0x137f6f(0x15b)]['_'+_0x3962d2+_0x137f6f(0x55a)]=null,_0x1f8725[_0x137f6f(0x627)][_0x137f6f(0x15b)]['_'+_0x3962d2+_0x137f6f(0x17b)]=null,_0x1f8725[_0x137f6f(0x627)][_0x137f6f(0x15b)]['_'+_0x3962d2+'.extension']=null,_0x1f8725['chatLog']['realVariables']['_'+_0x3962d2+_0x137f6f(0x421)]=_0x1f8725[_0x137f6f(0x627)][_0x137f6f(0x7d8)][_0x137f6f(0x13f)];try{let _0x4d4360=await this[_0x137f6f(0x56e)](_0x320ae4);this[_0x137f6f(0x3c2)][_0x137f6f(0x2eb)](this[_0x137f6f(0x225)]+'\x20('+this['instance'][_0x137f6f(0x718)]+_0x137f6f(0x3dd)),_0x1f8725[_0x137f6f(0x627)][_0x137f6f(0x15b)]['_'+_0x3962d2+_0x137f6f(0x4d3)]=_0x4d4360[_0x137f6f(0x4eb)],_0x1f8725[_0x137f6f(0x627)]['realVariables']['_'+_0x3962d2+'.mimetype']=_0x4d4360[_0x137f6f(0x57c)];let _0x402619=_0x4d4360[_0x137f6f(0x57c)]['match'](/\/(\w+)$/),_0x3f2ac5=_0x402619?_0x402619[0x1]:null;_0x1f8725['chatLog'][_0x137f6f(0x15b)]['_'+_0x3962d2+_0x137f6f(0x378)]=_0x3f2ac5,this[_0x137f6f(0x3c2)][_0x137f6f(0x2eb)](this[_0x137f6f(0x225)]+'\x20('+this[_0x137f6f(0x1f6)]['wuid']+_0x137f6f(0x1bd)+_0x3962d2+'\x27.');}catch(_0x298d96){this[_0x137f6f(0x3c2)][_0x137f6f(0x685)](this[_0x137f6f(0x225)]+'\x20('+this[_0x137f6f(0x1f6)][_0x137f6f(0x718)]+_0x137f6f(0x7fa)+_0x298d96[_0x137f6f(0x3d6)]);}let _0x3ef1d2=_0x1f8725[_0x137f6f(0x627)][_0x137f6f(0x7d8)]['text']||_0x1f8725[_0x137f6f(0x627)][_0x137f6f(0x7d8)][_0x137f6f(0x760)]||_0x1f8725['chatLog']['lastReceivedMessage'][_0x137f6f(0x490)];try{_0x1f8725[_0x137f6f(0x627)]['realVariables']||(_0x1f8725['chatLog'][_0x137f6f(0x15b)]={});let _0x2c0322=_0x1f8725[_0x137f6f(0x627)][_0x137f6f(0x15b)][_0x3962d2];_0x1f8725[_0x137f6f(0x627)][_0x137f6f(0x15b)][_0x3962d2]=_0x3ef1d2;let _0x11a52f={'variable':_0x3962d2,'oldValue':_0x2c0322,'newValue':_0x3ef1d2};this[_0x137f6f(0x3a1)](_0x1f8725,_0x45cd0d,_0x11a52f),this[_0x137f6f(0x3c2)][_0x137f6f(0x2eb)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Conversa\x20atualizada\x20em\x20memória');}catch(_0x58a399){let _0x18c5fe={'error':!0x0,'errorLog':_0x58a399[_0x137f6f(0x6b5)]()};return this[_0x137f6f(0x3a1)](_0x1f8725,_0x45cd0d,_0x18c5fe),this[_0x137f6f(0x3c2)][_0x137f6f(0x685)](this[_0x137f6f(0x225)]+'\x20('+this[_0x137f6f(0x1f6)][_0x137f6f(0x718)]+_0x137f6f(0x475)+(_0x58a399 instanceof Error?_0x58a399[_0x137f6f(0x3d6)]:JSON['stringify'](_0x58a399,null,0x2))),null;}}async[a0_0x5a0e1e(0x142)](_0x399042,_0x453391){const _0x32fc75=a0_0x5a0e1e;if(this['logger'][_0x32fc75(0x2eb)](this[_0x32fc75(0x225)]+'\x20('+this[_0x32fc75(0x1f6)][_0x32fc75(0x718)]+_0x32fc75(0x601)),!_0x399042||!_0x453391)return this[_0x32fc75(0x3c2)][_0x32fc75(0x685)](this['instanceName']+'\x20('+this[_0x32fc75(0x1f6)][_0x32fc75(0x718)]+_0x32fc75(0x71d)),null;let _0x406fa7=Date[_0x32fc75(0x616)](),_0x3c61dd=parseInt(_0x453391[_0x32fc75(0x1ca)],0xa);if(isNaN(_0x3c61dd))return this[_0x32fc75(0x3c2)][_0x32fc75(0x685)](this['instanceName']+'\x20('+this[_0x32fc75(0x1f6)][_0x32fc75(0x718)]+_0x32fc75(0x1ef)),null;let _0x14ceea={'newStoppedUntil':_0x406fa7+_0x3c61dd*0x3c*0x3e8};return await this[_0x32fc75(0x3a1)](_0x399042,_0x453391,_0x14ceea,!0x0),null;}async[a0_0x5a0e1e(0x3fb)](_0x3ea6df,_0x567be7){const _0x4c62be=a0_0x5a0e1e;try{switch(_0x567be7['uazapi'][_0x4c62be(0x2e5)]){case'sendText':await this[_0x4c62be(0x1db)](_0x3ea6df,_0x567be7);break;case'sendMedia':await this['uazapiSendMedia'](_0x3ea6df,_0x567be7);break;case _0x4c62be(0x240):await this['uazapiSendLocation'](_0x3ea6df,_0x567be7);break;case'sendAudio':await this[_0x4c62be(0x148)](_0x3ea6df,_0x567be7);break;case _0x4c62be(0x609):await this[_0x4c62be(0x7be)](_0x3ea6df,_0x567be7);break;case'sendPoll':await this['uazapiSendMenu'](_0x3ea6df,_0x567be7);break;case _0x4c62be(0x5a4):await this[_0x4c62be(0x43f)](_0x3ea6df,_0x567be7);break;case'deleteMessage':await this[_0x4c62be(0x579)](_0x3ea6df,_0x567be7);break;default:this[_0x4c62be(0x3c2)]['error'](this[_0x4c62be(0x225)]+'\x20('+this[_0x4c62be(0x1f6)][_0x4c62be(0x718)]+_0x4c62be(0x3bd)+_0x567be7['uazapi']['command']);}}catch(_0x3ae410){this[_0x4c62be(0x3c2)][_0x4c62be(0x685)](this[_0x4c62be(0x225)]+'\x20('+this[_0x4c62be(0x1f6)][_0x4c62be(0x718)]+_0x4c62be(0x7fd)+(_0x3ae410 instanceof Error?_0x3ae410[_0x4c62be(0x3d6)]:JSON[_0x4c62be(0x265)](_0x3ae410,null,0x2)));}}async[a0_0x5a0e1e(0x3a1)](_0x303fdc,_0x37a25a,_0x45030d,_0x40070c=!0x1,_0x4a8695=!0x1){const _0x2d1bad=a0_0x5a0e1e;_0x303fdc[_0x2d1bad(0x627)][_0x2d1bad(0x5b9)]||(_0x303fdc[_0x2d1bad(0x627)][_0x2d1bad(0x5b9)]=[]);let _0x1328f3=(_0x303fdc[_0x2d1bad(0x627)][_0x2d1bad(0x5b9)]?.[_0x2d1bad(0x106)]??0x0)+0x1,_0x2622ca=_0x303fdc[_0x2d1bad(0x627)][_0x2d1bad(0x5b9)][_0x2d1bad(0x736)](_0x221db3=>String(_0x221db3['blockId'])===String(_0x37a25a['_id']))[_0x2d1bad(0x106)]+0x1,_0x3d24f1=_0x45030d?.['onTime']??Date[_0x2d1bad(0x616)](),_0x64b140=_0x45030d?.[_0x2d1bad(0x685)]?_0x45030d[_0x2d1bad(0x692)]??_0x45030d[_0x2d1bad(0x685)][_0x2d1bad(0x6b5)]():void 0x0,_0xbbab0d={'onTime':_0x3d24f1,'blockId':_0x37a25a[_0x2d1bad(0x772)],'order':_0x1328f3,'activatedCount':_0x2622ca,'error':_0x45030d?.[_0x2d1bad(0x685)]??!0x1,'messageId':_0x45030d?.['messageId'],'apiResponse':_0x45030d?.[_0x2d1bad(0x778)],'apiResponseString':_0x45030d?.['apiResponse']?JSON[_0x2d1bad(0x265)](_0x45030d?.[_0x2d1bad(0x778)]):void 0x0,'variable':_0x45030d?.[_0x2d1bad(0x1a1)],'oldValue':_0x45030d?.[_0x2d1bad(0x5c6)],'newValue':_0x45030d?.['newValue'],'newStoppedUntil':_0x45030d?.[_0x2d1bad(0x11a)],'moreLogs':_0x45030d?.[_0x2d1bad(0x197)],'errorLog':_0x64b140};if(_0x45030d[_0x2d1bad(0x197)]&&_0x45030d[_0x2d1bad(0x197)][_0x2d1bad(0x106)]>0x0){let _0x46c084=_0x45030d[_0x2d1bad(0x197)][_0x2d1bad(0x35d)](_0x5dc4f9=>this['replaceVariablesLogs'](_0x5dc4f9,_0x303fdc[_0x2d1bad(0x627)]['realVariables']));_0xbbab0d[_0x2d1bad(0x197)]=_0x46c084;}if(_0x303fdc[_0x2d1bad(0x627)]['realVariables']||(_0x303fdc[_0x2d1bad(0x627)][_0x2d1bad(0x15b)]={}),_0x303fdc[_0x2d1bad(0x627)][_0x2d1bad(0x15b)]['_activatedCount']=String(_0x2622ca),_0x303fdc['chatLog']['realVariables'][_0x2d1bad(0x6e4)]=String(_0x45030d[_0x2d1bad(0x685)]??!0x1),_0x303fdc[_0x2d1bad(0x627)]['blockLogs'][_0x2d1bad(0x212)](_0xbbab0d),_0x303fdc['chatLog'][_0x2d1bad(0x15b)][_0x2d1bad(0x68e)]&&_0x303fdc[_0x2d1bad(0x627)][_0x2d1bad(0x15b)][_0x2d1bad(0x68e)]!==_0x303fdc['remoteJid']){let _0x40e21c=(await this['whatsappNumber']({'numbers':[_0x303fdc[_0x2d1bad(0x627)][_0x2d1bad(0x15b)][_0x2d1bad(0x68e)]]}))[0x0]['jid'];_0x303fdc[_0x2d1bad(0x627)][_0x2d1bad(0x15b)][_0x2d1bad(0x68e)]=_0x40e21c,_0x303fdc[_0x2d1bad(0x41b)]=_0x40e21c;try{let _0x167fba={'_id':{'$ne':_0x303fdc[_0x2d1bad(0x772)]},'remoteJid':_0x40e21c,'status':'open'},_0x281145={'status':_0x2d1bad(0x3c5)};await this['repository']['flowConversation'][_0x2d1bad(0x2b8)](_0x167fba,_0x281145,this[_0x2d1bad(0x1f6)][_0x2d1bad(0x718)]),this['logger'][_0x2d1bad(0x2eb)](this[_0x2d1bad(0x225)]+'\x20('+this['instance'][_0x2d1bad(0x718)]+_0x2d1bad(0x4fa));}catch(_0x489886){this[_0x2d1bad(0x3c2)][_0x2d1bad(0x685)](this[_0x2d1bad(0x225)]+'\x20('+this[_0x2d1bad(0x1f6)][_0x2d1bad(0x718)]+_0x2d1bad(0x54f)+_0x489886[_0x2d1bad(0x3d6)]);}try{let _0x4ae7a6=_0x303fdc[_0x2d1bad(0x627)][_0x2d1bad(0x15b)],_0x466767=await this[_0x2d1bad(0x6a6)](_0x40e21c),_0x14229f={..._0x4ae7a6,..._0x466767,'_remoteJid':_0x40e21c};_0x303fdc[_0x2d1bad(0x627)][_0x2d1bad(0x15b)]=_0x14229f;}catch(_0x3d37ae){this[_0x2d1bad(0x3c2)][_0x2d1bad(0x685)](this[_0x2d1bad(0x225)]+'\x20('+this[_0x2d1bad(0x1f6)][_0x2d1bad(0x718)]+'):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20'+_0x3d37ae[_0x2d1bad(0x3d6)]);}}_0x303fdc[_0x2d1bad(0x627)][_0x2d1bad(0x6f1)]=_0x37a25a[_0x2d1bad(0x772)][_0x2d1bad(0x6b5)](),_0x303fdc[_0x2d1bad(0x627)]['lastSendMessage']&&(_0x303fdc['chatLog'][_0x2d1bad(0x2f3)]=_0x303fdc[_0x2d1bad(0x627)][_0x2d1bad(0x2f3)]),_0x303fdc[_0x2d1bad(0x627)][_0x2d1bad(0x7d8)]&&(_0x303fdc[_0x2d1bad(0x627)][_0x2d1bad(0x7d8)]=_0x303fdc['chatLog'][_0x2d1bad(0x7d8)]),_0x303fdc[_0x2d1bad(0x627)]['lastCondition']&&(_0x303fdc['chatLog']['lastCondition']=_0x303fdc[_0x2d1bad(0x627)][_0x2d1bad(0x31c)]),_0x4a8695&&(_0x303fdc[_0x2d1bad(0x1cc)]=_0x2d1bad(0x3c5)),_0x40070c?this[_0x2d1bad(0x5e0)](_0x303fdc):this[_0x2d1bad(0x57b)](_0x303fdc,_0x37a25a);}[a0_0x5a0e1e(0x18f)](_0x1725e0,_0x40a572){const _0x247bbc=a0_0x5a0e1e;return _0x1725e0['replace'](/\{\{([^}]+)\}\}/g,(_0x55ab1c,_0x2238fc)=>_0x40a572[_0x2238fc]?'{{'+_0x2238fc+'}}\x20->\x20\x22'+_0x40a572[_0x2238fc]+'\x22':'{{'+_0x2238fc+_0x247bbc(0x62b));}async[a0_0x5a0e1e(0x5e0)](_0x2ad570){const _0x5a0240=a0_0x5a0e1e;try{let _0x21d590=Object['entries'](_0x2ad570[_0x5a0240(0x627)][_0x5a0240(0x15b)])[_0x5a0240(0x35d)](([_0x300fcc,_0x1d93ed])=>({'name':_0x300fcc,'value':_0x1d93ed})),_0x3afa15={'status':_0x2ad570[_0x5a0240(0x1cc)],'remoteJid':_0x2ad570['remoteJid'],'blocks':_0x2ad570[_0x5a0240(0x42c)],'waitingMenu_id':_0x2ad570['waitingMenu_id'],'waitingMenu_text':_0x2ad570[_0x5a0240(0x71e)],'waitingMenu_replyOptions':_0x2ad570[_0x5a0240(0x74e)],'chatLog':{'lastBlockId':_0x2ad570[_0x5a0240(0x627)][_0x5a0240(0x6f1)],'lastSendMessage':_0x2ad570['chatLog'][_0x5a0240(0x2f3)],'lastReceivedMessage':_0x2ad570['chatLog'][_0x5a0240(0x7d8)],'lastCondition':_0x2ad570[_0x5a0240(0x627)]['lastCondition'],'chatVariables':_0x21d590,'realVariables':_0x2ad570[_0x5a0240(0x627)]['realVariables'],'blockLogs':_0x2ad570['chatLog'][_0x5a0240(0x5b9)]}},_0x70a72f=await this[_0x5a0240(0x7bc)]['flowConversation'][_0x5a0240(0xbb)](_0x2ad570[_0x5a0240(0x772)],_0x3afa15,this[_0x5a0240(0x1f6)][_0x5a0240(0x718)]);if(_0x70a72f){this['logger'][_0x5a0240(0x2eb)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5a0240(0x35a)+_0x70a72f['_id']);try{let _0x580d33=[_0x5a0240(0x576),_0x5a0240(0x155),_0x5a0240(0x412),_0x5a0240(0x84d),'status',_0x5a0240(0x1f7),_0x5a0240(0x811),'tags',_0x5a0240(0x125),_0x5a0240(0x6ff)];if(!this['AutomateSystem']&&(await this['getAutomateSystem'](),!this[_0x5a0240(0x1ec)]))throw new Error(_0x5a0240(0x2fb));let _0x25e90d=this[_0x5a0240(0x1ec)]?.[_0x5a0240(0x2dd)][_0x5a0240(0x35d)](_0x19f4cd=>_0x19f4cd[_0x5a0240(0x7e8)]),_0x4ac519={};Object[_0x5a0240(0x822)](_0x2ad570[_0x5a0240(0x627)][_0x5a0240(0x15b)])[_0x5a0240(0x3a6)](([_0x2162a7,_0x56b486])=>{const _0x2eb72c=_0x5a0240;_0x580d33[_0x2eb72c(0x402)](_0x2162a7)&&(_0x2162a7==='tags'&&typeof _0x56b486=='string'?_0x4ac519[_0x2162a7]=_0x56b486[_0x2eb72c(0x83d)](',')['map'](_0xaec33e=>_0xaec33e['trim']())['filter'](_0x1283de=>_0x1283de!==''):_0x2162a7===_0x2eb72c(0x125)&&typeof _0x56b486==_0x2eb72c(0x539)?_0x4ac519[_0x2162a7]=_0x56b486['split'](',')[_0x2eb72c(0x35d)](_0x2f1451=>_0x2f1451['trim']())[_0x2eb72c(0x736)](_0x194fe9=>_0x194fe9!==''):_0x4ac519[_0x2162a7]=_0x56b486);});let _0x551599=_0x2ad570[_0x5a0240(0x627)][_0x5a0240(0x5b9)][_0x2ad570[_0x5a0240(0x627)]['blockLogs'][_0x5a0240(0x106)]-0x1];if(_0x551599){let _0x2b0fa0=_0x551599[_0x5a0240(0x11a)];_0x2b0fa0!==void 0x0&&(_0x4ac519['desativadoFluxoAte']=_0x2b0fa0[_0x5a0240(0x6b5)]());}let _0x56f17b=_0x21d590[_0x5a0240(0x736)](_0x243ace=>_0x25e90d[_0x5a0240(0x402)](_0x243ace[_0x5a0240(0x7e8)]));this['logger'][_0x5a0240(0x2eb)](this[_0x5a0240(0x225)]+'\x20('+this[_0x5a0240(0x1f6)]['wuid']+_0x5a0240(0x2f0)),this[_0x5a0240(0x3c2)][_0x5a0240(0x2eb)](_0x4ac519),this[_0x5a0240(0x3c2)][_0x5a0240(0x2eb)](this[_0x5a0240(0x225)]+'\x20('+this['instance'][_0x5a0240(0x718)]+_0x5a0240(0x149)),this['logger'][_0x5a0240(0x2eb)](_0x56f17b);let _0x11fdb8=_0x56f17b[_0x5a0240(0x35d)](_0x1000c0=>{const _0x3b5abc=_0x5a0240;let _0xebf669=this[_0x3b5abc(0x1ec)]?.['customFields'][_0x3b5abc(0x174)](_0x4c3b05=>_0x4c3b05[_0x3b5abc(0x7e8)]===_0x1000c0[_0x3b5abc(0x7e8)]);if(!_0xebf669)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x1000c0[_0x3b5abc(0x7e8)]);return{'_id':_0xebf669[_0x3b5abc(0x772)],'value':_0x1000c0[_0x3b5abc(0xb3)]};});this[_0x5a0240(0x3c2)][_0x5a0240(0x2eb)](this[_0x5a0240(0x225)]+'\x20('+this['instance']['wuid']+_0x5a0240(0x3c9)),this['logger']['verbose'](_0x11fdb8),await this[_0x5a0240(0x343)](_0x2ad570[_0x5a0240(0x41b)],_0x4ac519,_0x11fdb8);}catch(_0x3811d1){this['logger'][_0x5a0240(0x685)](this[_0x5a0240(0x225)]+'\x20('+this[_0x5a0240(0x1f6)][_0x5a0240(0x718)]+_0x5a0240(0x243)+(_0x3811d1 instanceof Error?_0x3811d1[_0x5a0240(0x3d6)]:JSON[_0x5a0240(0x265)](_0x3811d1,null,0x2)));}}else this[_0x5a0240(0x3c2)][_0x5a0240(0x685)](this[_0x5a0240(0x225)]+'\x20('+this[_0x5a0240(0x1f6)]['wuid']+_0x5a0240(0x79e));}catch(_0x2f6338){this[_0x5a0240(0x3c2)][_0x5a0240(0x685)](this['instanceName']+'\x20('+this[_0x5a0240(0x1f6)][_0x5a0240(0x718)]+'):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20'+(_0x2f6338 instanceof Error?_0x2f6338['message']:JSON['stringify'](_0x2f6338,null,0x2)));}}async[a0_0x5a0e1e(0x343)](_0x403e99,_0x25ef70,_0x3c230c){const _0x5b38d2=a0_0x5a0e1e;try{let _0x59f835={'leadInfo.leadnome':_0x25ef70[_0x5b38d2(0x576)],'leadInfo.nomecompleto':_0x25ef70[_0x5b38d2(0x155)],'leadInfo.email':_0x25ef70['email'],'leadInfo.cpf':_0x25ef70[_0x5b38d2(0x84d)],'leadInfo.status':_0x25ef70[_0x5b38d2(0x1cc)],'leadInfo.notas':_0x25ef70[_0x5b38d2(0x1f7)],'leadInfo.responsavelid':_0x25ef70[_0x5b38d2(0x811)],'leadInfo.tags':_0x25ef70['tags'],'leadInfo.etiquetas':_0x25ef70[_0x5b38d2(0x125)],'leadInfo.customFields':_0x3c230c,'leadInfo.atendimentoAberto':_0x25ef70[_0x5b38d2(0x6ff)]},_0x5e95ff=await this[_0x5b38d2(0x7bc)][_0x5b38d2(0x6d7)]['findOne']({'where':{'_id':_0x403e99}},this[_0x5b38d2(0x1f6)][_0x5b38d2(0x718)]);if(!_0x5e95ff)return _0x5b38d2(0x466);let _0x46bf9f=new Set(_0x5e95ff[_0x5b38d2(0x2af)][_0x5b38d2(0x125)]||[]),_0x349f6b=new Set(_0x25ef70[_0x5b38d2(0x125)]||[]),_0x1a2a77=await this[_0x5b38d2(0x7bc)][_0x5b38d2(0x4f9)][_0x5b38d2(0x174)]({'where':{}},this[_0x5b38d2(0x1f6)][_0x5b38d2(0x718)]),_0x489dde=new Set(_0x1a2a77[_0x5b38d2(0x35d)](_0x509494=>_0x509494[_0x5b38d2(0x772)])),_0x3e8cf0=[..._0x349f6b]['filter'](_0x4a4fb6=>!_0x46bf9f['has'](_0x4a4fb6)&&_0x489dde[_0x5b38d2(0x50b)](_0x4a4fb6)),_0x25244d=[..._0x46bf9f][_0x5b38d2(0x736)](_0x2ac1cc=>!_0x349f6b[_0x5b38d2(0x50b)](_0x2ac1cc));for(let _0x82d105 of _0x3e8cf0)await this[_0x5b38d2(0x39c)](_0x82d105,_0x5e95ff[_0x5b38d2(0x772)]),_0x46bf9f['add'](_0x82d105);for(let _0x431a2f of _0x25244d)await this['RemoveChatLabel'](_0x431a2f,_0x5e95ff[_0x5b38d2(0x772)]),_0x46bf9f[_0x5b38d2(0x5ab)](_0x431a2f);if(_0x5b38d2(0x130)in _0x25ef70){let _0x1eecae=_0x25ef70[_0x5b38d2(0x130)];_0x59f835[_0x5b38d2(0x739)]=_0x1eecae?Number(_0x1eecae):null;}if('atendimentoAberto'in _0x25ef70){let _0x2be5da=_0x25ef70[_0x5b38d2(0x6ff)][_0x5b38d2(0x6b3)]();_0x59f835['leadInfo.atendimentoAberto']=_0x2be5da===_0x5b38d2(0x153)||_0x2be5da==='1'||_0x2be5da===_0x5b38d2(0x2d7)||_0x2be5da==='sim';}let _0x4b75ac=await this[_0x5b38d2(0x7bc)]['chat'][_0x5b38d2(0xbb)]({'where':{'_id':_0x403e99}},_0x59f835,this[_0x5b38d2(0x1f6)][_0x5b38d2(0x718)]);_0x4b75ac?(this[_0x5b38d2(0x3c2)]['verbose'](this[_0x5b38d2(0x225)]+'\x20('+this[_0x5b38d2(0x1f6)][_0x5b38d2(0x718)]+_0x5b38d2(0x133)+_0x4b75ac[_0x5b38d2(0x772)]),F(this[_0x5b38d2(0x225)],_0x5b38d2(0x522),{'chat':_0x4b75ac})):this[_0x5b38d2(0x3c2)][_0x5b38d2(0x685)](this[_0x5b38d2(0x225)]+'\x20('+this[_0x5b38d2(0x1f6)][_0x5b38d2(0x718)]+_0x5b38d2(0x48c));}catch(_0x58ad9e){this['logger'][_0x5b38d2(0x685)](this['instanceName']+'\x20('+this['instance'][_0x5b38d2(0x718)]+_0x5b38d2(0x719)+(_0x58ad9e instanceof Error?_0x58ad9e[_0x5b38d2(0x3d6)]:JSON[_0x5b38d2(0x265)](_0x58ad9e,null,0x2)));}}async[a0_0x5a0e1e(0x14c)](_0x3745ac,_0x4467fa){const _0x480c6e=a0_0x5a0e1e;this[_0x480c6e(0x3c2)][_0x480c6e(0x2eb)](this['instanceName']+'\x20('+this[_0x480c6e(0x1f6)][_0x480c6e(0x718)]+_0x480c6e(0x58d)+_0x4467fa);try{let _0x3ae18f=await this[_0x480c6e(0x7bc)][_0x480c6e(0x6d7)][_0x480c6e(0xbb)]({'where':{'_id':_0x3745ac[_0x480c6e(0x41b)]}},{'leadInfo.desativadoFluxoAte':_0x4467fa},this[_0x480c6e(0x1f6)][_0x480c6e(0x718)]);this[_0x480c6e(0x3c2)][_0x480c6e(0x2eb)](this[_0x480c6e(0x225)]+'\x20('+this[_0x480c6e(0x1f6)]['wuid']+_0x480c6e(0x735)+_0x3745ac[_0x480c6e(0x772)]),this[_0x480c6e(0x3c2)][_0x480c6e(0x2eb)](this['instanceName']+'\x20('+this[_0x480c6e(0x1f6)][_0x480c6e(0x718)]+'):\x20atualização\x20chat:\x20'+JSON[_0x480c6e(0x265)](_0x3ae18f,null,0x2)),_0x3ae18f&&F(this[_0x480c6e(0x225)],_0x480c6e(0x522),{'chat':_0x3ae18f});}catch(_0x36139a){this['logger']['error'](this[_0x480c6e(0x225)]+'\x20('+this[_0x480c6e(0x1f6)]['wuid']+_0x480c6e(0x7b2)+(_0x36139a instanceof Error?_0x36139a[_0x480c6e(0x3d6)]:JSON[_0x480c6e(0x265)](_0x36139a,null,0x2)));}}async['findFlow'](_0x4a9c93){const _0x2c1ba6=a0_0x5a0e1e;try{this[_0x2c1ba6(0x3c2)][_0x2c1ba6(0x2eb)](this[_0x2c1ba6(0x225)]+'\x20('+this[_0x2c1ba6(0x1f6)]['wuid']+_0x2c1ba6(0x697));let _0x5c18fc=_0x4a9c93[_0x2c1ba6(0x186)](/\D/g,''),_0x4e1fa2=this['AutomateSystem'][_0x2c1ba6(0x29d)][_0x2c1ba6(0x174)](_0x5df073=>_0x5df073['testingWith']===_0x5c18fc);if(_0x4e1fa2||(this[_0x2c1ba6(0x3c2)][_0x2c1ba6(0x2eb)](this[_0x2c1ba6(0x225)]+'\x20('+this[_0x2c1ba6(0x1f6)][_0x2c1ba6(0x718)]+_0x2c1ba6(0x185)),_0x4e1fa2=this['AutomateSystem'][_0x2c1ba6(0x29d)]['find'](_0x576682=>_0x576682['default']===!0x0)),!_0x4e1fa2)return this[_0x2c1ba6(0x3c2)][_0x2c1ba6(0x2eb)](this[_0x2c1ba6(0x225)]+'\x20('+this[_0x2c1ba6(0x1f6)][_0x2c1ba6(0x718)]+'):\x20Não\x20achou\x20nenhum\x20flow'),null;let _0xae8033=await this[_0x2c1ba6(0x7bc)][_0x2c1ba6(0x7c6)]['findOne']({'where':{'_id':_0x4e1fa2[_0x2c1ba6(0x772)]}});if(!_0xae8033||!_0xae8033[_0x2c1ba6(0x810)]?.[_0x2c1ba6(0x402)](this[_0x2c1ba6(0x1f6)][_0x2c1ba6(0x718)]))throw this[_0x2c1ba6(0x3c2)]['error'](this[_0x2c1ba6(0x225)]+'\x20('+this['instance'][_0x2c1ba6(0x718)]+_0x2c1ba6(0x849)+_0xae8033[_0x2c1ba6(0x772)]+_0x2c1ba6(0x22d)),new m(_0x2c1ba6(0x30f)+_0xae8033[_0x2c1ba6(0x772)]+_0x2c1ba6(0x22d));return _0xae8033;}catch(_0x2f19db){return this[_0x2c1ba6(0x3c2)][_0x2c1ba6(0x685)](this[_0x2c1ba6(0x225)]+'\x20('+this[_0x2c1ba6(0x1f6)][_0x2c1ba6(0x718)]+_0x2c1ba6(0x70a)+(_0x2f19db instanceof Error?_0x2f19db['message']:JSON[_0x2c1ba6(0x265)](_0x2f19db,null,0x2))),null;}}async[a0_0x5a0e1e(0x2f5)](_0xe97291,_0x1def82){const _0x2636ae=a0_0x5a0e1e;try{let _0x1778b2=!!_0x1def82['vote'],_0x2d52dc=_0x1def82[_0x2636ae(0x1dc)],_0x3f0569=null;if(this['logger'][_0x2636ae(0x2eb)](this['instanceName']+'\x20('+this[_0x2636ae(0x1f6)][_0x2636ae(0x718)]+_0x2636ae(0x443)+_0x1778b2+'\x20quoted:\x20'+_0x2d52dc),_0x1778b2){this[_0x2636ae(0x3c2)][_0x2636ae(0x2eb)](this[_0x2636ae(0x225)]+'\x20('+this[_0x2636ae(0x1f6)][_0x2636ae(0x718)]+_0x2636ae(0x596));let _0x47c34e={'where':{'remoteJid':_0xe97291,'waitingMenu_id':_0x2d52dc}};if(_0x3f0569=await this['repository']['flowConversation'][_0x2636ae(0x524)](_0x47c34e,this[_0x2636ae(0x1f6)][_0x2636ae(0x718)]),!_0x3f0569)return this[_0x2636ae(0x3c2)][_0x2636ae(0x2eb)](this[_0x2636ae(0x225)]+'\x20('+this[_0x2636ae(0x1f6)][_0x2636ae(0x718)]+'):\x20não\x20encontrou'),null;let _0x140fee=Date[_0x2636ae(0x616)](),_0x22a458=_0x3f0569?.[_0x2636ae(0xa7)]||0x0,_0x421674=_0x140fee-_0x22a458*0x3c*0x3e8;if(_0x3f0569['lastInteraction']<_0x421674){this[_0x2636ae(0x3c2)][_0x2636ae(0x2eb)](this[_0x2636ae(0x225)]+'\x20('+this[_0x2636ae(0x1f6)][_0x2636ae(0x718)]+_0x2636ae(0x482));let _0x16e0ac={'number':_0x3f0569[_0x2636ae(0x41b)],'options':{'delay':0x0},'textMessage':{'text':_0x3f0569['waitingMenu_ExpiredMessage']}};await this[_0x2636ae(0x77f)](_0x16e0ac);let _0x116103={'status':_0x2636ae(0x3c5),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x2636ae(0x7bc)][_0x2636ae(0x707)][_0x2636ae(0xbb)](_0x3f0569[_0x2636ae(0x772)],_0x116103,this[_0x2636ae(0x1f6)]['wuid']),null;}return _0x3f0569[_0x2636ae(0x5d1)]=Date[_0x2636ae(0x616)](),_0x3f0569[_0x2636ae(0x627)][_0x2636ae(0x7d8)]=_0x1def82,_0x3f0569;}else{this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x2636ae(0x1f6)][_0x2636ae(0x718)]+_0x2636ae(0x693)+this[_0x2636ae(0x1f6)]['wuid']+_0x2636ae(0x137)),this[_0x2636ae(0x3c2)][_0x2636ae(0x2eb)](this[_0x2636ae(0x225)]+'\x20('+this[_0x2636ae(0x1f6)][_0x2636ae(0x718)]+'):\x20Procurando\x20conversa');let _0x144aec={'where':{'remoteJid':_0xe97291,'status':'open'}};if(_0x3f0569=await this[_0x2636ae(0x7bc)]['flowConversation'][_0x2636ae(0x524)](_0x144aec,this[_0x2636ae(0x1f6)][_0x2636ae(0x718)]),!_0x3f0569){let _0x40c5b1=await this['findFlow'](_0xe97291);if(_0x40c5b1&&(_0x3f0569=await this[_0x2636ae(0x844)](_0x40c5b1,_0x1def82[_0x2636ae(0x5dc)],_0x1def82)),!_0x3f0569)return null;}let _0x209cd6=Date[_0x2636ae(0x616)](),_0x32839e=_0x3f0569?.[_0x2636ae(0xa7)]||0x0,_0x2a6f42=_0x209cd6-_0x32839e*0x3c*0x3e8;if(this[_0x2636ae(0x3c2)][_0x2636ae(0x2eb)](this[_0x2636ae(0x225)]+'\x20('+this['instance']['wuid']+_0x2636ae(0xc5)+_0x209cd6+',\x20Minutes\x20to\x20Close:\x20'+_0x32839e+_0x2636ae(0x604)+_0x2a6f42),this[_0x2636ae(0x3c2)][_0x2636ae(0x2eb)](this[_0x2636ae(0x225)]+'\x20('+this[_0x2636ae(0x1f6)][_0x2636ae(0x718)]+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this[_0x2636ae(0x3c2)][_0x2636ae(0x2eb)](this[_0x2636ae(0x225)]+'\x20('+this[_0x2636ae(0x1f6)]['wuid']+'):\x20conversation.lastInteraction:\x20'+_0x3f0569[_0x2636ae(0x5d1)]),this[_0x2636ae(0x3c2)][_0x2636ae(0x2eb)](this[_0x2636ae(0x225)]+'\x20('+this['instance'][_0x2636ae(0x718)]+_0x2636ae(0x2ab)+_0x2a6f42),_0x3f0569[_0x2636ae(0x5d1)]<_0x2a6f42){this['logger']['verbose'](this[_0x2636ae(0x225)]+'\x20('+this[_0x2636ae(0x1f6)][_0x2636ae(0x718)]+_0x2636ae(0x68a));let _0x2b2e50=await this[_0x2636ae(0x403)](_0xe97291);if(_0x2b2e50===null)return null;_0x3f0569&&await this[_0x2636ae(0x7bc)][_0x2636ae(0x707)][_0x2636ae(0xbb)](_0x3f0569[_0x2636ae(0x772)],{'status':'closed'},this[_0x2636ae(0x1f6)][_0x2636ae(0x718)]),_0x3f0569=await this['createNewConversation'](_0x2b2e50,_0x1def82[_0x2636ae(0x5dc)],_0x1def82);}return _0x3f0569['lastInteraction']=_0x209cd6,_0x3f0569[_0x2636ae(0x627)]['lastReceivedMessage']=_0x1def82,_0x3f0569;}}catch(_0x3ae009){return this['logger']['error'](this[_0x2636ae(0x225)]+'\x20('+this[_0x2636ae(0x1f6)][_0x2636ae(0x718)]+_0x2636ae(0x650)+(_0x3ae009 instanceof Error?_0x3ae009[_0x2636ae(0x3d6)]:JSON[_0x2636ae(0x265)](_0x3ae009,null,0x2))),null;}}async[a0_0x5a0e1e(0x844)](_0x5abbff,_0x5c6843,_0x3e4385){const _0x3deb1c=a0_0x5a0e1e;this[_0x3deb1c(0x3c2)][_0x3deb1c(0x2eb)](this['instanceName']+'\x20('+this['instance'][_0x3deb1c(0x718)]+_0x3deb1c(0x7da));try{let _0x54c826=require(_0x3deb1c(0x775))[_0x3deb1c(0x450)],_0x44b735=Date[_0x3deb1c(0x616)](),_0xff6ff4='start',_0x3c3031=_0x5c6843[_0x3deb1c(0x24c)]?null:_0x3e4385,_0x1025ca=_0x5c6843[_0x3deb1c(0x24c)]?_0x3e4385:null,_0x21740c=_0x5c6843[_0x3deb1c(0x41b)],_0x237a6f=this[_0x3deb1c(0x1ec)][_0x3deb1c(0x29d)][_0x3deb1c(0x174)](_0x1af7ea=>_0x1af7ea[_0x3deb1c(0x772)]===_0x5abbff['_id']?.[_0x3deb1c(0x6b5)]()),_0x28d988=_0x237a6f?.['minutesToClose']??_0x5abbff[_0x3deb1c(0xa7)]??0x0,_0xc2e13f=_0x237a6f?.[_0x3deb1c(0x2df)]??_0x5abbff[_0x3deb1c(0x2df)]??!0x1;await this[_0x3deb1c(0x534)](_0x21740c);let _0x58bb5b={'flowId':_0x5abbff[_0x3deb1c(0x772)],..._0x5abbff,'chatLog':null},_0x5f2859=await this[_0x3deb1c(0x795)](_0x58bb5b[_0x3deb1c(0x7e3)]),_0x38a3ba=await this[_0x3deb1c(0x6a6)](_0x21740c),_0x3151aa={..._0x5f2859,..._0x38a3ba,'_remoteJid':_0x21740c},_0x2da50e={'lastReceivedMessage':_0x3c3031,'lastSendMessage':_0x1025ca,'lastBlockId':_0xff6ff4,'lastCondition':!0x0,'realVariables':_0x3151aa};_0x58bb5b[_0x3deb1c(0x627)]=_0x2da50e,delete _0x58bb5b[_0x3deb1c(0x772)],_0x58bb5b[_0x3deb1c(0x772)]=new _0x54c826(),_0x58bb5b[_0x3deb1c(0x5d1)]=_0x44b735,_0x58bb5b[_0x3deb1c(0x1cc)]=_0x3deb1c(0x4f8),_0x58bb5b[_0x3deb1c(0x41b)]=_0x21740c,_0x58bb5b['minutesToClose']=_0x28d988,_0x58bb5b[_0x3deb1c(0x2df)]=_0xc2e13f;let _0x2c09b7=await this[_0x3deb1c(0x7bc)][_0x3deb1c(0x707)][_0x3deb1c(0xbb)](_0x58bb5b[_0x3deb1c(0x772)],_0x58bb5b,this[_0x3deb1c(0x1f6)][_0x3deb1c(0x718)]);return this[_0x3deb1c(0x3c2)][_0x3deb1c(0x2eb)](this['instanceName']+'\x20('+this[_0x3deb1c(0x1f6)]['wuid']+_0x3deb1c(0x46b)),_0x2c09b7?_0x58bb5b:null;}catch(_0x184bc1){return this['logger'][_0x3deb1c(0x685)](this[_0x3deb1c(0x225)]+'\x20('+this[_0x3deb1c(0x1f6)][_0x3deb1c(0x718)]+_0x3deb1c(0x1ad)+(_0x184bc1 instanceof Error?_0x184bc1[_0x3deb1c(0x3d6)]:JSON[_0x3deb1c(0x265)](_0x184bc1,null,0x2))),_0x184bc1;}}async[a0_0x5a0e1e(0x1db)](_0x51a591,_0x53abef){const _0x453a0a=a0_0x5a0e1e;let _0x31316b=_0x51a591['remoteJid'];_0x53abef['uazapi'][_0x453a0a(0x41b)]&&_0x53abef[_0x453a0a(0x259)]['remoteJid']['trim']()!==''&&(_0x31316b=_0x53abef['uazapi'][_0x453a0a(0x41b)][_0x453a0a(0x846)]()),this[_0x453a0a(0x3c2)]['verbose'](this[_0x453a0a(0x225)]+'\x20('+this[_0x453a0a(0x1f6)][_0x453a0a(0x718)]+_0x453a0a(0x348));let _0x14472c={'number':_0x31316b,'options':{'delay':_0x53abef[_0x453a0a(0x259)][_0x453a0a(0x1f4)],'linkPreview':_0x53abef[_0x453a0a(0x259)]['linkPreview']},'textMessage':{'text':_0x53abef[_0x453a0a(0x259)][_0x453a0a(0x80e)]}};try{let _0x49fa17=await this[_0x453a0a(0x77f)](_0x14472c);if(_0x49fa17){let _0x5d23f5={'_id':_0x49fa17[_0x453a0a(0x5dc)]['id'],'_fromMe':_0x49fa17['key'][_0x453a0a(0x24c)],'_remoteJid':_0x49fa17[_0x453a0a(0x5dc)]['remoteJid']},_0x3edb67=(0x0,w['normalizeMessageContent'])(_0x49fa17[_0x453a0a(0x3d6)]),_0x42b644=(0x0,w[_0x453a0a(0x3fc)])(_0x3edb67);_0x51a591[_0x453a0a(0x627)][_0x453a0a(0x6f1)]=_0x53abef['_id']['toString']();let {message_normalized:_0xcfed85}=this[_0x453a0a(0x39e)](_0x3edb67,_0x42b644,null);_0x51a591['chatLog'][_0x453a0a(0x2f3)]=await _0xcfed85;let _0x34840e={'messageId':_0x49fa17[_0x453a0a(0x5dc)]['id']},_0x7b4d68=_0x51a591['chatLog'][_0x453a0a(0x15b)];Object[_0x453a0a(0xfe)](_0x7b4d68,_0x5d23f5),_0x51a591[_0x453a0a(0x627)][_0x453a0a(0x15b)]=_0x7b4d68,this[_0x453a0a(0x3a1)](_0x51a591,_0x53abef,_0x34840e);}else{let _0x76a96c={'error':!0x0};this['updateConversation'](_0x51a591,_0x53abef,_0x76a96c),this[_0x453a0a(0x3c2)][_0x453a0a(0x685)](this['instanceName']+'\x20('+this[_0x453a0a(0x1f6)][_0x453a0a(0x718)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x46353f){let _0x18f11f={'error':!0x0,'errorLog':_0x46353f[_0x453a0a(0x6b5)]()};this[_0x453a0a(0x3a1)](_0x51a591,_0x53abef,_0x18f11f),this[_0x453a0a(0x3c2)][_0x453a0a(0x685)](this['instanceName']+'\x20('+this[_0x453a0a(0x1f6)]['wuid']+_0x453a0a(0x252)+(_0x46353f instanceof Error?_0x46353f[_0x453a0a(0x3d6)]:JSON[_0x453a0a(0x265)](_0x46353f,null,0x2)));}}async[a0_0x5a0e1e(0x14f)](_0x4c427a,_0xaf5d6){const _0x17f885=a0_0x5a0e1e;let _0x10bd51=_0x4c427a['remoteJid'];_0xaf5d6['uazapi'][_0x17f885(0x41b)]&&_0xaf5d6[_0x17f885(0x259)]['remoteJid']['trim']()!==''&&(_0x10bd51=_0xaf5d6[_0x17f885(0x259)][_0x17f885(0x41b)][_0x17f885(0x846)]()),this[_0x17f885(0x3c2)]['verbose'](this[_0x17f885(0x225)]+'\x20('+this[_0x17f885(0x1f6)][_0x17f885(0x718)]+'):\x20Enviando\x20mídia');let _0x1e5c0b={'number':_0x10bd51,'options':{'delay':_0xaf5d6['uazapi'][_0x17f885(0x1f4)],'linkPreview':_0xaf5d6[_0x17f885(0x259)][_0x17f885(0x632)]},'mediaMessage':{'mediatype':_0xaf5d6['uazapi'][_0x17f885(0xc4)],'caption':_0xaf5d6[_0x17f885(0x259)][_0x17f885(0x760)],'media':_0xaf5d6[_0x17f885(0x259)]['media'],'fileName':_0xaf5d6[_0x17f885(0x259)]['fileName']}};try{let _0x1156b4=await this[_0x17f885(0x670)](_0x1e5c0b);if(_0x1156b4){let _0x5b3021={'_id':_0x1156b4[_0x17f885(0x5dc)]['id'],'_fromMe':_0x1156b4[_0x17f885(0x5dc)]['fromMe'],'_remoteJid':_0x1156b4['key'][_0x17f885(0x41b)]},_0x3bd10b=(0x0,w['normalizeMessageContent'])(_0x1156b4['message']),_0x215f9f=(0x0,w[_0x17f885(0x3fc)])(_0x3bd10b);_0x4c427a[_0x17f885(0x627)]['lastBlockId']=_0xaf5d6['_id'][_0x17f885(0x6b5)]();let {message_normalized:_0x1d5066}=this[_0x17f885(0x39e)](_0x3bd10b,_0x215f9f,null);_0x4c427a[_0x17f885(0x627)]['lastSendMessage']=await _0x1d5066;let _0x26b453={'messageId':_0x1156b4[_0x17f885(0x5dc)]['id']},_0x47d7b5=_0x4c427a[_0x17f885(0x627)][_0x17f885(0x15b)];Object[_0x17f885(0xfe)](_0x47d7b5,_0x5b3021),_0x4c427a['chatLog'][_0x17f885(0x15b)]=_0x47d7b5,this[_0x17f885(0x3a1)](_0x4c427a,_0xaf5d6,_0x26b453);}else{let _0x320cbd={'error':!0x0};this['updateConversation'](_0x4c427a,_0xaf5d6,_0x320cbd),this[_0x17f885(0x3c2)]['error'](this['instanceName']+'\x20('+this['instance'][_0x17f885(0x718)]+_0x17f885(0x5ed));}}catch(_0x1e4fad){let _0x5e88a7={'error':!0x0,'errorLog':_0x1e4fad[_0x17f885(0x6b5)]()};this[_0x17f885(0x3a1)](_0x4c427a,_0xaf5d6,_0x5e88a7),this[_0x17f885(0x3c2)]['error'](this[_0x17f885(0x225)]+'\x20('+this[_0x17f885(0x1f6)][_0x17f885(0x718)]+_0x17f885(0x4a5)+(_0x1e4fad instanceof Error?_0x1e4fad['message']:JSON['stringify'](_0x1e4fad,null,0x2)));}}async[a0_0x5a0e1e(0x54b)](_0x4144e4,_0x37d178){const _0x35a4ee=a0_0x5a0e1e;let _0x1d9862=_0x4144e4['remoteJid'];_0x37d178['uazapi'][_0x35a4ee(0x41b)]&&_0x37d178[_0x35a4ee(0x259)]['remoteJid']['trim']()!==''&&(_0x1d9862=_0x37d178[_0x35a4ee(0x259)][_0x35a4ee(0x41b)]['trim']()),this['logger'][_0x35a4ee(0x2eb)](this['instanceName']+'\x20('+this[_0x35a4ee(0x1f6)][_0x35a4ee(0x718)]+_0x35a4ee(0x170));let _0x475d0e={'number':_0x1d9862,'options':{'delay':_0x37d178['uazapi'][_0x35a4ee(0x1f4)]},'locationMessage':{'name':_0x37d178[_0x35a4ee(0x259)]['name'],'address':_0x37d178[_0x35a4ee(0x259)]['address'],'latitude':_0x37d178['uazapi'][_0x35a4ee(0x1a3)],'longitude':_0x37d178[_0x35a4ee(0x259)][_0x35a4ee(0xe8)]}};try{let _0x1e94f5=await this['locationMessage'](_0x475d0e);if(_0x1e94f5){let _0x56a091={'_id':_0x1e94f5[_0x35a4ee(0x5dc)]['id'],'_fromMe':_0x1e94f5[_0x35a4ee(0x5dc)]['fromMe'],'_remoteJid':_0x1e94f5[_0x35a4ee(0x5dc)]['remoteJid']},_0x1c3246=(0x0,w[_0x35a4ee(0x823)])(_0x1e94f5['message']),_0x9b7c2f=(0x0,w[_0x35a4ee(0x3fc)])(_0x1c3246);_0x4144e4['chatLog'][_0x35a4ee(0x6f1)]=_0x37d178[_0x35a4ee(0x772)]['toString']();let {message_normalized:_0x2d9212}=this[_0x35a4ee(0x39e)](_0x1c3246,_0x9b7c2f,null);_0x4144e4[_0x35a4ee(0x627)][_0x35a4ee(0x2f3)]=await _0x2d9212;let _0x4ede4e={'messageId':_0x1e94f5[_0x35a4ee(0x5dc)]['id']},_0x451032=_0x4144e4['chatLog'][_0x35a4ee(0x15b)];Object[_0x35a4ee(0xfe)](_0x451032,_0x56a091),_0x4144e4[_0x35a4ee(0x627)][_0x35a4ee(0x15b)]=_0x451032,this[_0x35a4ee(0x3a1)](_0x4144e4,_0x37d178,_0x4ede4e);}else{let _0x2a2a4e={'error':!0x0};this['updateConversation'](_0x4144e4,_0x37d178,_0x2a2a4e),this[_0x35a4ee(0x3c2)][_0x35a4ee(0x685)](this[_0x35a4ee(0x225)]+'\x20('+this['instance'][_0x35a4ee(0x718)]+_0x35a4ee(0x22a));}}catch(_0x2c4051){let _0xbcbcd1={'error':!0x0,'errorLog':_0x2c4051[_0x35a4ee(0x6b5)]()};this[_0x35a4ee(0x3a1)](_0x4144e4,_0x37d178,_0xbcbcd1),this[_0x35a4ee(0x3c2)]['error'](this[_0x35a4ee(0x225)]+'\x20('+this['instance']['wuid']+_0x35a4ee(0x301)+(_0x2c4051 instanceof Error?_0x2c4051[_0x35a4ee(0x3d6)]:JSON['stringify'](_0x2c4051,null,0x2)));}}async['uazapiSendAudio'](_0x53108a,_0x52e195){const _0x472b68=a0_0x5a0e1e;let _0x1f15a7=_0x53108a[_0x472b68(0x41b)];_0x52e195[_0x472b68(0x259)]['remoteJid']&&_0x52e195[_0x472b68(0x259)][_0x472b68(0x41b)][_0x472b68(0x846)]()!==''&&(_0x1f15a7=_0x52e195['uazapi'][_0x472b68(0x41b)]['trim']()),this[_0x472b68(0x3c2)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x472b68(0x718)]+_0x472b68(0x4e9));let _0xaa1731={'number':_0x1f15a7,'options':{'delay':_0x52e195[_0x472b68(0x259)][_0x472b68(0x1f4)]},'audioMessage':{'audio':_0x52e195['uazapi']['audio']}};try{let _0x4b5e00=await this['audioWhatsapp'](_0xaa1731);if(_0x4b5e00){let _0x2fde4d={'_id':_0x4b5e00[_0x472b68(0x5dc)]['id'],'_fromMe':_0x4b5e00[_0x472b68(0x5dc)][_0x472b68(0x24c)],'_remoteJid':_0x4b5e00['key']['remoteJid']},_0x5d0c97=(0x0,w[_0x472b68(0x823)])(_0x4b5e00[_0x472b68(0x3d6)]),_0x2547f7=(0x0,w[_0x472b68(0x3fc)])(_0x5d0c97);_0x53108a[_0x472b68(0x627)][_0x472b68(0x6f1)]=_0x52e195[_0x472b68(0x772)][_0x472b68(0x6b5)]();let {message_normalized:_0x149efc}=this[_0x472b68(0x39e)](_0x5d0c97,_0x2547f7,null);_0x53108a[_0x472b68(0x627)][_0x472b68(0x2f3)]=await _0x149efc;let _0x6aa548={'messageId':_0x4b5e00[_0x472b68(0x5dc)]['id']},_0x39fa95=_0x53108a[_0x472b68(0x627)][_0x472b68(0x15b)];Object[_0x472b68(0xfe)](_0x39fa95,_0x2fde4d),_0x53108a[_0x472b68(0x627)][_0x472b68(0x15b)]=_0x39fa95,this[_0x472b68(0x3a1)](_0x53108a,_0x52e195,_0x6aa548);}else{let _0x262a84={'error':!0x0};this['updateConversation'](_0x53108a,_0x52e195,_0x262a84),this[_0x472b68(0x3c2)][_0x472b68(0x685)](this[_0x472b68(0x225)]+'\x20('+this[_0x472b68(0x1f6)][_0x472b68(0x718)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x47111a){let _0x5c4037={'error':!0x0,'errorLog':_0x47111a[_0x472b68(0x6b5)]()};this[_0x472b68(0x3a1)](_0x53108a,_0x52e195,_0x5c4037),this[_0x472b68(0x3c2)][_0x472b68(0x685)](this[_0x472b68(0x225)]+'\x20('+this[_0x472b68(0x1f6)][_0x472b68(0x718)]+_0x472b68(0x308)+(_0x47111a instanceof Error?_0x47111a[_0x472b68(0x3d6)]:JSON['stringify'](_0x47111a,null,0x2)));}}async[a0_0x5a0e1e(0x7be)](_0x149fb2,_0x180665){const _0xc34a1b=a0_0x5a0e1e;let _0x369b4b=_0x149fb2[_0xc34a1b(0x41b)];_0x180665['uazapi'][_0xc34a1b(0x41b)]&&_0x180665[_0xc34a1b(0x259)][_0xc34a1b(0x41b)][_0xc34a1b(0x846)]()!==''&&(_0x369b4b=_0x180665[_0xc34a1b(0x259)][_0xc34a1b(0x41b)][_0xc34a1b(0x846)]()),this[_0xc34a1b(0x3c2)][_0xc34a1b(0x2eb)](this[_0xc34a1b(0x225)]+'\x20('+this[_0xc34a1b(0x1f6)][_0xc34a1b(0x718)]+_0xc34a1b(0x6fe));let _0x30aeed={'number':_0x369b4b,'options':{'delay':_0x180665[_0xc34a1b(0x259)]['delay']},'contactMessage':[{'fullName':_0x180665[_0xc34a1b(0x259)][_0xc34a1b(0x39a)],'phoneNumber':_0x180665['uazapi'][_0xc34a1b(0x776)]}]};try{let _0x3a0d6c=await this[_0xc34a1b(0x26e)](_0x30aeed);if(_0x3a0d6c){let _0x2026c7={'_id':_0x3a0d6c['key']['id'],'_fromMe':_0x3a0d6c[_0xc34a1b(0x5dc)]['fromMe'],'_remoteJid':_0x3a0d6c[_0xc34a1b(0x5dc)]['remoteJid']},_0x2ab2a0=(0x0,w[_0xc34a1b(0x823)])(_0x3a0d6c['message']),_0xa4c942=(0x0,w['getContentType'])(_0x2ab2a0);_0x149fb2[_0xc34a1b(0x627)][_0xc34a1b(0x6f1)]=_0x180665[_0xc34a1b(0x772)][_0xc34a1b(0x6b5)]();let {message_normalized:_0xcf8b6c}=this['normalizeMessage'](_0x2ab2a0,_0xa4c942,null);_0x149fb2['chatLog']['lastSendMessage']=await _0xcf8b6c;let _0x468a78={'messageId':_0x3a0d6c[_0xc34a1b(0x5dc)]['id']},_0x59b19b=_0x149fb2[_0xc34a1b(0x627)][_0xc34a1b(0x15b)];Object[_0xc34a1b(0xfe)](_0x59b19b,_0x2026c7),_0x149fb2[_0xc34a1b(0x627)][_0xc34a1b(0x15b)]=_0x59b19b,this[_0xc34a1b(0x3a1)](_0x149fb2,_0x180665,_0x468a78);}else{let _0x4ca91e={'error':!0x0};this[_0xc34a1b(0x3a1)](_0x149fb2,_0x180665,_0x4ca91e),this[_0xc34a1b(0x3c2)][_0xc34a1b(0x685)](this[_0xc34a1b(0x225)]+'\x20('+this[_0xc34a1b(0x1f6)][_0xc34a1b(0x718)]+_0xc34a1b(0x11c));}}catch(_0x5e4a38){let _0x4d8091={'error':!0x0,'errorLog':_0x5e4a38[_0xc34a1b(0x6b5)]()};this[_0xc34a1b(0x3a1)](_0x149fb2,_0x180665,_0x4d8091),this['logger'][_0xc34a1b(0x685)](this['instanceName']+'\x20('+this[_0xc34a1b(0x1f6)][_0xc34a1b(0x718)]+_0xc34a1b(0x647)+(_0x5e4a38 instanceof Error?_0x5e4a38['message']:JSON[_0xc34a1b(0x265)](_0x5e4a38,null,0x2)));}}[a0_0x5a0e1e(0x5b0)](_0x5e7e0a,_0x166400){const _0x2d367c=a0_0x5a0e1e;for(let _0x37489e of _0x5e7e0a)_0x37489e['option']&&(_0x37489e[_0x2d367c(0x82b)]=this[_0x2d367c(0x40f)](_0x37489e['option'],_0x166400)),_0x37489e[_0x2d367c(0x820)]&&(_0x37489e[_0x2d367c(0x820)]=this[_0x2d367c(0x40f)](_0x37489e[_0x2d367c(0x820)],_0x166400));}async[a0_0x5a0e1e(0x43f)](_0x2b4a8c,_0x5cf0b3){const _0x38001d=a0_0x5a0e1e;let _0x3a792a=_0x2b4a8c[_0x38001d(0x41b)];_0x5cf0b3[_0x38001d(0x259)][_0x38001d(0x41b)]&&_0x5cf0b3['uazapi'][_0x38001d(0x41b)][_0x38001d(0x846)]()!==''&&(_0x3a792a=_0x5cf0b3[_0x38001d(0x259)][_0x38001d(0x41b)][_0x38001d(0x846)]()),this[_0x38001d(0x3c2)][_0x38001d(0x2eb)](this[_0x38001d(0x225)]+'\x20('+this[_0x38001d(0x1f6)][_0x38001d(0x718)]+_0x38001d(0xcf));let _0xe8e28b=_0x2b4a8c[_0x38001d(0x74c)][_0x38001d(0x736)](_0x36a110=>_0x36a110[_0x38001d(0x73f)]===_0x5cf0b3[_0x38001d(0x772)])['sort']((_0x4998a7,_0x5af047)=>_0x4998a7[_0x38001d(0x73e)]-_0x5af047['order']);this[_0x38001d(0x5b0)](_0xe8e28b,_0x2b4a8c[_0x38001d(0x627)][_0x38001d(0x15b)]);let _0x219cf1=_0xe8e28b['map'](_0x4c7e9e=>_0x4c7e9e['option']),_0x1e80e1={'number':_0x3a792a,'menuMessage':{'type':_0x5cf0b3[_0x38001d(0x259)]['menuType']||_0x38001d(0x302),'text':_0x5cf0b3['uazapi']['text']||_0x5cf0b3[_0x38001d(0x259)][_0x38001d(0x7e8)],'footerText':_0x5cf0b3[_0x38001d(0x259)][_0x38001d(0x391)],'buttonText':_0x5cf0b3[_0x38001d(0x259)][_0x38001d(0x40d)],'selectableCount':0x1,'choices':_0x219cf1},'options':{'delay':_0x5cf0b3[_0x38001d(0x259)][_0x38001d(0x1f4)]}};try{let _0x44c9b0=await this['menuMessage'](_0x1e80e1);if(_0x44c9b0){let _0x108a40={'_id':_0x44c9b0['key']['id'],'_fromMe':_0x44c9b0[_0x38001d(0x5dc)][_0x38001d(0x24c)],'_remoteJid':_0x44c9b0['key']['remoteJid']};_0x5cf0b3[_0x38001d(0x259)][_0x38001d(0x72f)]===!0x0&&(_0x2b4a8c[_0x38001d(0x1cc)]=_0x38001d(0x3d2),this[_0x38001d(0x3c2)][_0x38001d(0x2eb)](this[_0x38001d(0x225)]+'\x20('+this[_0x38001d(0x1f6)]['wuid']+_0x38001d(0x67a)+_0x2b4a8c['status'])),this['logger']['verbose'](this[_0x38001d(0x225)]+'\x20('+this[_0x38001d(0x1f6)][_0x38001d(0x718)]+'):\x20nextBlock.uazapi.name'+(_0x5cf0b3[_0x38001d(0x259)][_0x38001d(0x7e8)]||_0x5cf0b3[_0x38001d(0x259)]['text'])),_0x2b4a8c[_0x38001d(0x5b7)]=_0x44c9b0['key']['id'],_0x2b4a8c[_0x38001d(0x71e)]=_0x5cf0b3[_0x38001d(0x259)]['name']||_0x5cf0b3['uazapi'][_0x38001d(0x80e)],_0x2b4a8c[_0x38001d(0x74e)]=_0xe8e28b,_0x5cf0b3[_0x38001d(0x259)][_0x38001d(0x394)]&&(_0x2b4a8c['waitingMenu_ExpiredMessage']=_0x5cf0b3[_0x38001d(0x259)]['menuExpiredMessage']),this[_0x38001d(0x3c2)][_0x38001d(0x2eb)](this[_0x38001d(0x225)]+'\x20('+this['instance'][_0x38001d(0x718)]+_0x38001d(0x189)+_0x2b4a8c[_0x38001d(0x71e)]);let _0x68a88d=(0x0,w[_0x38001d(0x823)])(_0x44c9b0[_0x38001d(0x3d6)]),_0x385274=(0x0,w[_0x38001d(0x3fc)])(_0x68a88d);_0x2b4a8c[_0x38001d(0x627)][_0x38001d(0x6f1)]=_0x5cf0b3[_0x38001d(0x772)]['toString']();let {message_normalized:_0x4e0926}=this[_0x38001d(0x39e)](_0x68a88d,_0x385274,null);_0x2b4a8c['chatLog'][_0x38001d(0x2f3)]=await _0x4e0926;let _0xd21467={'messageId':_0x44c9b0['key']['id']},_0x1a259b=_0x2b4a8c['chatLog'][_0x38001d(0x15b)];Object['assign'](_0x1a259b,_0x108a40),_0x2b4a8c[_0x38001d(0x627)][_0x38001d(0x15b)]=_0x1a259b,this[_0x38001d(0x3a1)](_0x2b4a8c,_0x5cf0b3,_0xd21467);}else{let _0x129652={'error':!0x0};this['updateConversation'](_0x2b4a8c,_0x5cf0b3,_0x129652),this[_0x38001d(0x3c2)][_0x38001d(0x685)](this[_0x38001d(0x225)]+'\x20('+this[_0x38001d(0x1f6)][_0x38001d(0x718)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.');}}catch(_0x4d7354){let _0x71c3ea={'error':!0x0,'errorLog':_0x4d7354 instanceof Error?_0x4d7354[_0x38001d(0x3d6)]:JSON[_0x38001d(0x265)](_0x4d7354,null,0x2)};this[_0x38001d(0x3a1)](_0x2b4a8c,_0x5cf0b3,_0x71c3ea),this[_0x38001d(0x3c2)]['error'](this[_0x38001d(0x225)]+'\x20('+this['instance'][_0x38001d(0x718)]+_0x38001d(0x19b)+(_0x4d7354 instanceof Error?_0x4d7354[_0x38001d(0x3d6)]:JSON['stringify'](_0x4d7354,null,0x2)));}}async[a0_0x5a0e1e(0x579)](_0xcfb05d,_0x164277){const _0x403d17=a0_0x5a0e1e;this['logger'][_0x403d17(0x2eb)](this[_0x403d17(0x225)]+'\x20('+this[_0x403d17(0x1f6)]['wuid']+_0x403d17(0x19d));let _0x20fb81=_0xcfb05d[_0x403d17(0x627)][_0x403d17(0x5b9)][_0x403d17(0x174)](_0x33f33b=>_0x33f33b['blockId'][_0x403d17(0x6b5)]()===_0x164277[_0x403d17(0x259)]['blockId'][_0x403d17(0x6b5)]()),_0x30b95f={'id':_0x20fb81[_0x403d17(0x312)],'remoteJid':_0x20fb81[_0x403d17(0x41b)],'fromMe':_0x20fb81[_0x403d17(0x24c)]};try{let _0x12fe6c=await this[_0x403d17(0x2a4)](_0x30b95f);if(_0x12fe6c){let _0x58c0a7=(0x0,w[_0x403d17(0x823)])(_0x12fe6c[_0x403d17(0x3d6)]),_0x5af438=(0x0,w['getContentType'])(_0x58c0a7);_0xcfb05d[_0x403d17(0x627)][_0x403d17(0x6f1)]=_0x164277[_0x403d17(0x772)]['toString']();let {message_normalized:_0x5b0430}=this[_0x403d17(0x39e)](_0x58c0a7,_0x5af438,null);_0xcfb05d[_0x403d17(0x627)][_0x403d17(0x2f3)]=await _0x5b0430;let _0xa3cedd={};this['updateConversation'](_0xcfb05d,_0x164277,_0xa3cedd);}else{let _0x158f6d={'error':!0x0};this[_0x403d17(0x3a1)](_0xcfb05d,_0x164277,_0x158f6d),this[_0x403d17(0x3c2)][_0x403d17(0x685)](this['instanceName']+'\x20('+this['instance'][_0x403d17(0x718)]+_0x403d17(0x661));}}catch(_0x1d2d51){let _0xfcf8c9={'error':!0x0,'errorLog':_0x1d2d51 instanceof Error?_0x1d2d51['message']:JSON[_0x403d17(0x265)](_0x1d2d51,null,0x2)};this['updateConversation'](_0xcfb05d,_0x164277,_0xfcf8c9),this[_0x403d17(0x3c2)][_0x403d17(0x685)](this[_0x403d17(0x225)]+'\x20('+this['instance'][_0x403d17(0x718)]+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x1d2d51 instanceof Error?_0x1d2d51['message']:JSON[_0x403d17(0x265)](_0x1d2d51,null,0x2)));}}async[a0_0x5a0e1e(0x448)](_0x2f2494,_0x240608){const _0x263335=a0_0x5a0e1e;if(_0x2f2494[_0x263335(0x7e8)]||(_0x2f2494[_0x263335(0x7e8)]=(0x0,Q['v4'])()),_0x240608!==Ri&&_0x2f2494?.[_0x263335(0x771)])throw new m(_0x263335(0x37f));if(_0x263335(0x772)in _0x2f2494&&_0x263335(0x6c5)in _0x2f2494)return this[_0x263335(0xde)](_0x2f2494['owner'],_0x2f2494['_id']);this[_0x263335(0x3c2)][_0x263335(0x2eb)](this[_0x263335(0x225)]+'\x20('+this[_0x263335(0x1f6)]['wuid']+'):\x20Criando\x20fluxo...');let _0x482cb1=this[_0x263335(0x768)](_0x2f2494[_0x263335(0x7e8)]),_0x133773=new pe['Types']['ObjectId'](),_0x2ecad1={'_id':_0x133773,'default':!0x0,'title':_0x263335(0x4b7),'x':0x0,'y':0x0},_0x1793ed={'_id':new pe[(_0x263335(0x671))][(_0x263335(0x450))](),'order':0x1,'groupId':_0x133773['toString'](),'type':_0x263335(0x6eb)},_0x34e7ce=this['instance'][_0x263335(0x718)],_0x50cec5={'_id':(0x0,Q['v4'])(),'owner':_0x34e7ce,'name':_0x482cb1,'whoCanEdit':[_0x34e7ce],'whoCanUse':[_0x34e7ce],'groups':[_0x2ecad1],'blocks':[_0x1793ed],..._0x2f2494};try{let _0x481776=await this[_0x263335(0x7bc)][_0x263335(0x7c6)][_0x263335(0x506)](_0x50cec5);return await this[_0x263335(0x258)](),_0x481776;}catch(_0x15b598){let _0x157b59=_0x263335(0x75e),_0x30f5a=_0x15b598 instanceof Error?_0x15b598[_0x263335(0x3d6)]:typeof _0x15b598==_0x263335(0x698)?JSON[_0x263335(0x265)](_0x15b598):_0x15b598,_0x5bf80b=_0x157b59+':\x20'+_0x30f5a;throw this[_0x263335(0x3c2)][_0x263335(0x685)](this['instanceName']+'\x20('+this['instance'][_0x263335(0x718)]+_0x263335(0x693)+_0x5bf80b),new m(_0x5bf80b);}}async['AddUserFlow'](_0xed1d1d,_0x116dc9){const _0x5a66be=a0_0x5a0e1e;try{this['logger'][_0x5a66be(0x2eb)](this[_0x5a66be(0x225)]+'\x20('+this[_0x5a66be(0x1f6)]['wuid']+'):\x20Criando\x20fluxo\x20compartilhado...');let _0x452a59=await this[_0x5a66be(0x7bc)][_0x5a66be(0x7c6)][_0x5a66be(0x524)]({'where':{'_id':_0x116dc9,'owner':_0xed1d1d}});if(!_0x452a59)throw new m(_0x5a66be(0x127));if(_0x452a59[_0x5a66be(0x479)]===!0x1&&!_0x452a59[_0x5a66be(0x771)])throw new m(_0x5a66be(0x748));let _0x15e617=new Set(_0x452a59[_0x5a66be(0x810)]??[]);_0x15e617[_0x5a66be(0x513)](this[_0x5a66be(0x1f6)]['wuid']);let _0x4a725f=await this[_0x5a66be(0x7bc)]['flow'][_0x5a66be(0xbb)](_0x116dc9,{..._0x452a59,'whoCanUse':Array[_0x5a66be(0x6d0)](_0x15e617)});return await this[_0x5a66be(0x258)](),_0x4a725f;}catch(_0x2b5099){let _0x2c8c24=_0x5a66be(0x701),_0x32acf8=_0x2b5099 instanceof Error?_0x2b5099[_0x5a66be(0x3d6)]:typeof _0x2b5099=='object'?JSON[_0x5a66be(0x265)](_0x2b5099):_0x2b5099,_0x1fbee7=_0x2c8c24+':\x20'+_0x32acf8;throw this[_0x5a66be(0x3c2)][_0x5a66be(0x685)](this[_0x5a66be(0x225)]+'\x20('+this[_0x5a66be(0x1f6)]['wuid']+_0x5a66be(0x693)+_0x1fbee7),new m(_0x1fbee7);}}[a0_0x5a0e1e(0x768)](_0x55cc35){const _0x45ac72=a0_0x5a0e1e;let _0x22a35c=_0x55cc35,_0x1c271d=0x1;for(;this[_0x45ac72(0x1ec)][_0x45ac72(0x29d)]['some'](_0x3b58b2=>_0x3b58b2[_0x45ac72(0x7e8)]===_0x22a35c);)_0x1c271d++,_0x22a35c=_0x55cc35+'\x20('+_0x1c271d+')';return _0x22a35c;}async['deleteFlow'](_0x146ac8){const _0x111128=a0_0x5a0e1e;try{if(this['logger'][_0x111128(0x2eb)](this[_0x111128(0x225)]+'\x20('+this[_0x111128(0x1f6)]['wuid']+'):\x20\x27Deletando\x20fluxo,\x20id:\x20'+_0x146ac8[_0x111128(0x772)]+_0x111128(0x66d)+_0x146ac8[_0x111128(0x18e)]),!this[_0x111128(0x1ec)]['flows'][_0x111128(0x174)](_0x50a3ae=>_0x50a3ae[_0x111128(0x772)]===_0x146ac8[_0x111128(0x772)]))throw this[_0x111128(0x3c2)][_0x111128(0x2eb)](this[_0x111128(0x225)]+'\x20('+this['instance'][_0x111128(0x718)]+'):\x20Fluxo\x20\x27'+_0x146ac8['_id']+_0x111128(0x677)),new m(_0x111128(0x15e));let _0x1a21e3=await this['repository'][_0x111128(0x7c6)][_0x111128(0x524)]({'where':{'_id':_0x146ac8[_0x111128(0x772)]}});if(!_0x1a21e3)throw new m(_0x111128(0x4ea));if(this[_0x111128(0x1f6)][_0x111128(0x718)]===_0x1a21e3[_0x111128(0x6c5)]){this[_0x111128(0x3c2)][_0x111128(0x2eb)](this[_0x111128(0x225)]+'\x20('+this['instance']['wuid']+_0x111128(0xfd)+_0x146ac8[_0x111128(0x772)]+_0x111128(0x35e));let _0x48e778=await this[_0x111128(0x7bc)]['flow']['deleteOne']({'where':{'_id':_0x146ac8[_0x111128(0x772)]}});return await this[_0x111128(0x258)](),_0x48e778;}return this['logger'][_0x111128(0x2eb)](this[_0x111128(0x225)]+'\x20('+this[_0x111128(0x1f6)]['wuid']+_0x111128(0x423)+this['instance'][_0x111128(0x718)]+'\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27'+_0x146ac8[_0x111128(0x772)]+_0x111128(0x5dd)),_0x1a21e3[_0x111128(0x810)]=(_0x1a21e3[_0x111128(0x810)]??[])[_0x111128(0x736)](_0x1317f9=>_0x1317f9!==this[_0x111128(0x1f6)][_0x111128(0x718)]),_0x1a21e3[_0x111128(0x56b)]=(_0x1a21e3[_0x111128(0x56b)]??[])['filter'](_0x5942f0=>_0x5942f0!==this[_0x111128(0x1f6)][_0x111128(0x718)]),_0x1a21e3[_0x111128(0x56b)][_0x111128(0x106)]===0x0&&_0x1a21e3[_0x111128(0x810)][_0x111128(0x106)]>0x0&&(_0x1a21e3[_0x111128(0x56b)]['push'](_0x1a21e3[_0x111128(0x810)][0x0]),this[_0x111128(0x3c2)][_0x111128(0x2eb)](this[_0x111128(0x225)]+'\x20('+this[_0x111128(0x1f6)][_0x111128(0x718)]+_0x111128(0x4dc)+_0x1a21e3[_0x111128(0x810)][0x0]+_0x111128(0x3a9)+_0x146ac8[_0x111128(0x772)]+'\x27...')),await this[_0x111128(0x7bc)]['flow'][_0x111128(0xbb)](_0x1a21e3[_0x111128(0x772)],_0x1a21e3),await this[_0x111128(0x258)](),{'message':'Fluxo\x20\x27'+_0x146ac8[_0x111128(0x7e8)]+_0x111128(0x309)};}catch(_0x220859){return this['logger'][_0x111128(0x685)](this[_0x111128(0x225)]+'\x20('+this[_0x111128(0x1f6)][_0x111128(0x718)]+_0x111128(0x110)+(_0x220859 instanceof Error?_0x220859[_0x111128(0x3d6)]:JSON[_0x111128(0x265)](_0x220859,null,0x2))),{'message':_0x111128(0x732)+(_0x220859 instanceof Error?_0x220859[_0x111128(0x3d6)]:JSON[_0x111128(0x265)](_0x220859,null,0x2))};}}async[a0_0x5a0e1e(0x233)](_0x43cf2b){const _0x5382ce=a0_0x5a0e1e;try{if(this[_0x5382ce(0x3c2)][_0x5382ce(0x531)](this[_0x5382ce(0x225)]+'\x20('+this[_0x5382ce(0x1f6)][_0x5382ce(0x718)]+_0x5382ce(0x59c)+_0x43cf2b),!this[_0x5382ce(0x1ec)]&&(await this['getAutomateSystem'](),!this[_0x5382ce(0x1ec)]))return null;let _0x280968=await this[_0x5382ce(0x7bc)][_0x5382ce(0x7c6)]['findOne']({'where':{'_id':_0x43cf2b}});if(!_0x280968)throw new m('Fluxo\x20id\x20\x27'+_0x43cf2b+_0x5382ce(0x24d));if(!(_0x280968[_0x5382ce(0x771)]||_0x280968[_0x5382ce(0x810)]?.[_0x5382ce(0x402)](this['instance']['wuid'])))throw new m(_0x5382ce(0x525)+name+'\x27');_0x280968[_0x5382ce(0x771)]&&!_0x280968[_0x5382ce(0x810)]?.['includes'](this[_0x5382ce(0x1f6)][_0x5382ce(0x718)])&&(_0x280968['whoCanUse']=[..._0x280968[_0x5382ce(0x810)]??[],this[_0x5382ce(0x1f6)]['wuid']],await this[_0x5382ce(0x7bc)][_0x5382ce(0x7c6)]['updateOne'](_0x280968['_id'],_0x280968),this[_0x5382ce(0x258)]());let _0x59582b=this[_0x5382ce(0x1ec)]?.[_0x5382ce(0x2dd)][_0x5382ce(0x35d)](_0xfadbba=>_0xfadbba[_0x5382ce(0x7e8)]),_0x4a5d12=[_0x5382ce(0x576),'nomecompleto',_0x5382ce(0x412),_0x5382ce(0x84d),_0x5382ce(0x1cc),_0x5382ce(0x1f7),_0x5382ce(0x811),_0x5382ce(0x5de),_0x5382ce(0x125),_0x5382ce(0x68e),_0x5382ce(0x6ff)];_0x280968[_0x5382ce(0x7e3)]=_0x280968[_0x5382ce(0x7e3)][_0x5382ce(0x736)](_0x360b15=>!(_0x360b15[_0x5382ce(0x1d1)]==='leadInfo'||_0x360b15[_0x5382ce(0x2af)])),_0x4a5d12[_0x5382ce(0x3a6)](_0x40415b=>{const _0x1864c7=_0x5382ce;_0x280968['variables'][_0x1864c7(0x212)]({'folder':_0x1864c7(0x2af),'name':_0x40415b,'value':'','doc':'','leadInfo':!0x0});}),_0x59582b[_0x5382ce(0x3a6)](_0x1f68c7=>{const _0x38b877=_0x5382ce;let _0x5a7287=_0x280968['variables']['findIndex'](_0x589283=>_0x589283[_0x38b877(0x7e8)]===_0x1f68c7);_0x5a7287===-0x1?_0x280968[_0x38b877(0x7e3)][_0x38b877(0x212)]({'folder':_0x38b877(0x2af),'name':_0x1f68c7,'value':'','doc':'','leadInfo':!0x0}):(_0x280968[_0x38b877(0x7e3)][_0x5a7287][_0x38b877(0x1d1)]=_0x38b877(0x2af),_0x280968[_0x38b877(0x7e3)][_0x5a7287][_0x38b877(0x2af)]=!0x0);}),_0x280968['blocks']&&_0x280968[_0x5382ce(0x42c)][_0x5382ce(0x106)]>0x0&&_0x280968[_0x5382ce(0x42c)]['forEach'](_0x163bed=>{const _0x3be5fd=_0x5382ce;_0x163bed[_0x3be5fd(0x622)]&&_0x163bed[_0x3be5fd(0x1f8)]&&_0x163bed['groupId']===_0x163bed[_0x3be5fd(0x1f8)]&&(_0x163bed[_0x3be5fd(0x1f8)]=null);});let _0x5614c3=await this[_0x5382ce(0x7bc)]['flow'][_0x5382ce(0xbb)](_0x280968[_0x5382ce(0x772)],_0x280968);if(!_0x5614c3)throw new Error(_0x5382ce(0x21d));return _0x5614c3;}catch(_0x20aa59){let _0x3fad87=_0x5382ce(0x5fd),_0x3ff1d6=_0x20aa59 instanceof Error?_0x20aa59[_0x5382ce(0x3d6)]:typeof _0x20aa59==_0x5382ce(0x698)?JSON['stringify'](_0x20aa59):_0x20aa59,_0x5d9f49=_0x3fad87+':\x20'+_0x3ff1d6;throw this[_0x5382ce(0x3c2)][_0x5382ce(0x685)](this[_0x5382ce(0x225)]+'\x20('+this['instance']['wuid']+_0x5382ce(0x693)+_0x5d9f49),new m(_0x5d9f49);}}async[a0_0x5a0e1e(0x64d)](){const _0x15fa6d=a0_0x5a0e1e;try{this[_0x15fa6d(0x3c2)][_0x15fa6d(0x2eb)](this[_0x15fa6d(0x225)]+'\x20('+this[_0x15fa6d(0x1f6)]['wuid']+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await this[_0x15fa6d(0x258)]();let _0x2cb28b=await this[_0x15fa6d(0x7bc)][_0x15fa6d(0x7c6)][_0x15fa6d(0x3fd)]({'where':{'globalShow':!0x0}});return[...this[_0x15fa6d(0x1ec)]['flows'],..._0x2cb28b];}catch(_0x2de11e){return this[_0x15fa6d(0x3c2)][_0x15fa6d(0x685)](this[_0x15fa6d(0x225)]+'\x20('+this[_0x15fa6d(0x1f6)][_0x15fa6d(0x718)]+_0x15fa6d(0x2fe)+(_0x2de11e instanceof Error?_0x2de11e['message']:JSON[_0x15fa6d(0x265)](_0x2de11e,null,0x2))),{'message':_0x15fa6d(0x81b)+(_0x2de11e instanceof Error?_0x2de11e[_0x15fa6d(0x3d6)]:String(_0x2de11e))};}}async[a0_0x5a0e1e(0x135)](_0xae4372,_0x3a4ccf){const _0x42aeb7=a0_0x5a0e1e;try{this['logger'][_0x42aeb7(0x2eb)](this[_0x42aeb7(0x225)]+'\x20('+this[_0x42aeb7(0x1f6)][_0x42aeb7(0x718)]+'):\x20Alterando\x20fluxo...');let _0x19dcdf=this[_0x42aeb7(0x1ec)][_0x42aeb7(0x29d)][_0x42aeb7(0x174)](_0x2cfbb9=>_0x2cfbb9[_0x42aeb7(0x772)]===_0xae4372[_0x42aeb7(0x772)]);if(!_0x19dcdf)throw this[_0x42aeb7(0x3c2)][_0x42aeb7(0x2eb)](this['instanceName']+'\x20('+this[_0x42aeb7(0x1f6)]['wuid']+'):\x20Fluxo\x20\x27'+_0xae4372[_0x42aeb7(0x772)]+'\x27\x20não\x20encontrado'),new m(_0x42aeb7(0x15e));let _0x516913=await this[_0x42aeb7(0x7bc)][_0x42aeb7(0x7c6)]['findOne']({'where':{'_id':_0xae4372[_0x42aeb7(0x772)]}});if(!_0x516913||!_0x516913['whoCanUse']?.[_0x42aeb7(0x402)](this['instance'][_0x42aeb7(0x718)]))throw this['logger'][_0x42aeb7(0x685)](this[_0x42aeb7(0x225)]+'\x20('+this[_0x42aeb7(0x1f6)][_0x42aeb7(0x718)]+'):\x20Flow\x20\x27'+_0xae4372['_id']+_0x42aeb7(0x22d)),new m('Flow\x20\x27'+_0xae4372[_0x42aeb7(0x772)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x9685b9=this[_0x42aeb7(0x1ec)]['flows']['findIndex'](_0x24be4f=>_0x24be4f[_0x42aeb7(0x772)]===_0x19dcdf[_0x42aeb7(0x772)]);if(_0x9685b9!==-0x1){let _0x414982=this[_0x42aeb7(0x1ec)][_0x42aeb7(0x29d)][_0x9685b9];if(_0x414982['name']=_0xae4372['name']??_0x414982[_0x42aeb7(0x7e8)],_0x414982[_0x42aeb7(0x77c)]=_0xae4372['default']??_0x414982['default'],_0x414982['testingWith']=_0xae4372[_0x42aeb7(0x37b)]??_0x414982['testingWith'],_0x414982[_0x42aeb7(0x420)]=_0xae4372[_0x42aeb7(0x400)]??_0x414982[_0x42aeb7(0x420)],_0x414982[_0x42aeb7(0xa7)]=_0xae4372[_0x42aeb7(0xa7)]??_0x414982[_0x42aeb7(0xa7)],_0x414982[_0x42aeb7(0x2df)]=_0xae4372[_0x42aeb7(0x2df)]??_0x414982[_0x42aeb7(0x2df)],_0xae4372[_0x42aeb7(0x77c)]&&this[_0x42aeb7(0x1ec)][_0x42aeb7(0x29d)][_0x42aeb7(0x3a6)]((_0x1bb5b7,_0x422ad5)=>{const _0xa1b82a=_0x42aeb7;_0x422ad5!==_0x9685b9&&(_0x1bb5b7[_0xa1b82a(0x77c)]=!0x1);}),this[_0x42aeb7(0x1ec)][_0x42aeb7(0x29d)][_0x9685b9]=_0x414982,!await this[_0x42aeb7(0x7bc)][_0x42aeb7(0x825)][_0x42aeb7(0x15d)]({'flows':this[_0x42aeb7(0x1ec)][_0x42aeb7(0x29d)]},this[_0x42aeb7(0x1f6)]['wuid']))throw new m(_0x42aeb7(0x508));}let _0x428c14=['global',_0x42aeb7(0x292),_0x42aeb7(0x72e),_0x42aeb7(0x60e)];for(let _0x3e3c1e of _0x428c14)delete _0xae4372[_0x3e3c1e];if(_0x516913[_0x42aeb7(0x56b)]?.[_0x42aeb7(0x402)](this[_0x42aeb7(0x1f6)]['wuid'])||(_0xae4372={'_id':_0xae4372[_0x42aeb7(0x772)]}),_0x3a4ccf!==Ri&&_0xae4372?.[_0x42aeb7(0x771)]&&!_0x516913?.[_0x42aeb7(0x771)])throw new m('Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.');let _0x3c134d=new Set(_0xae4372[_0x42aeb7(0x56b)]??_0x516913[_0x42aeb7(0x56b)]);_0x3c134d[_0x42aeb7(0x513)](_0x516913[_0x42aeb7(0x6c5)]);let _0x4aa15e=new Set(_0xae4372[_0x42aeb7(0x810)]??_0x516913['whoCanUse']??[]);_0x3c134d[_0x42aeb7(0x3a6)](_0x257216=>_0x4aa15e[_0x42aeb7(0x513)](_0x257216)),_0x4aa15e[_0x42aeb7(0x513)](_0x516913[_0x42aeb7(0x6c5)]),this['logger'][_0x42aeb7(0x2eb)](this[_0x42aeb7(0x225)]+'\x20('+this[_0x42aeb7(0x1f6)]['wuid']+_0x42aeb7(0x824)+Array[_0x42aeb7(0x6d0)](_0x3c134d)),this[_0x42aeb7(0x3c2)]['verbose'](this['instanceName']+'\x20('+this[_0x42aeb7(0x1f6)]['wuid']+'):\x20whoCanUse\x20before\x20validation:\x20'+Array[_0x42aeb7(0x6d0)](_0x4aa15e));let _0x3b725a=await this[_0x42aeb7(0x3c4)](Array[_0x42aeb7(0x6d0)](_0x4aa15e)),_0x3bd339=Array[_0x42aeb7(0x6d0)](_0x3c134d)[_0x42aeb7(0x736)](_0x2d3230=>_0x3b725a[_0x42aeb7(0x402)](_0x2d3230)),_0x37c1ff=Array[_0x42aeb7(0x6d0)](_0x4aa15e)[_0x42aeb7(0x736)](_0x347841=>_0x3b725a['includes'](_0x347841));this[_0x42aeb7(0x3c2)][_0x42aeb7(0x2eb)](this[_0x42aeb7(0x225)]+'\x20('+this[_0x42aeb7(0x1f6)][_0x42aeb7(0x718)]+'):\x20whoCanEdit\x20after\x20validation:\x20'+_0x3bd339),this[_0x42aeb7(0x3c2)][_0x42aeb7(0x2eb)](this[_0x42aeb7(0x225)]+'\x20('+this['instance'][_0x42aeb7(0x718)]+_0x42aeb7(0x7b0)+_0x37c1ff);let _0xdb50a9={..._0x516913,..._0xae4372,'whoCanEdit':_0x3bd339,'whoCanUse':_0x37c1ff},_0x14bc9d=await this[_0x42aeb7(0x7bc)][_0x42aeb7(0x7c6)][_0x42aeb7(0xbb)](_0x516913[_0x42aeb7(0x772)],_0xdb50a9);return await this[_0x42aeb7(0x258)](),_0x14bc9d;}catch(_0x365d){let _0x18aaae=_0x42aeb7(0x213),_0x5b26cf=_0x365d instanceof Error?_0x365d[_0x42aeb7(0x3d6)]:typeof _0x365d==_0x42aeb7(0x698)?JSON[_0x42aeb7(0x265)](_0x365d):_0x365d,_0x2c713a=_0x18aaae+':\x20'+_0x5b26cf;throw this[_0x42aeb7(0x3c2)][_0x42aeb7(0x685)](this['instanceName']+'\x20('+this['instance'][_0x42aeb7(0x718)]+'):\x20'+_0x2c713a),new m(_0x2c713a);}}async[a0_0x5a0e1e(0x3c4)](_0x3b7ead){const _0x568cca=a0_0x5a0e1e;let _0x171699={'numbers':_0x3b7ead};return(await this[_0x568cca(0x425)](_0x171699))['filter'](_0x109769=>_0x109769[_0x568cca(0x3d5)])[_0x568cca(0x35d)](_0x579b8f=>_0x579b8f['jid'])[_0x568cca(0x35d)](_0x244467=>this[_0x568cca(0x23a)](_0x244467));}[a0_0x5a0e1e(0x23a)](_0x1ee650){const _0x5ecf7d=a0_0x5a0e1e;let _0x2ad851=_0x1ee650[_0x5ecf7d(0x4da)](/\d+/);return _0x2ad851?_0x2ad851[0x0]:'';}async[a0_0x5a0e1e(0x325)](_0x1f861c){const _0x7042df=a0_0x5a0e1e;try{if(this[_0x7042df(0x3c2)]['verbose'](this['instanceName']+'\x20('+this[_0x7042df(0x1f6)][_0x7042df(0x718)]+_0x7042df(0x294)),!this[_0x7042df(0x1ec)]['flows'][_0x7042df(0x174)](_0x5ba4db=>_0x5ba4db[_0x7042df(0x772)]===_0x1f861c[_0x7042df(0x772)]))throw this['logger'][_0x7042df(0x2eb)](this['instanceName']+'\x20('+this[_0x7042df(0x1f6)]['wuid']+'):\x20Fluxo\x20\x27'+_0x1f861c[_0x7042df(0x772)]+_0x7042df(0x677)),new m(_0x7042df(0x15e));let _0x1fd550=await this[_0x7042df(0x7bc)]['flow']['findOne']({'where':{'_id':_0x1f861c[_0x7042df(0x772)]}});if(!_0x1fd550||!_0x1fd550['whoCanUse']?.[_0x7042df(0x402)](this[_0x7042df(0x1f6)][_0x7042df(0x718)]))throw this[_0x7042df(0x3c2)]['error'](this[_0x7042df(0x225)]+'\x20('+this[_0x7042df(0x1f6)]['wuid']+_0x7042df(0x849)+_0x1f861c[_0x7042df(0x772)]+_0x7042df(0x22d)),new m('Flow\x20\x27'+_0x1f861c[_0x7042df(0x772)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x1fd550[_0x7042df(0x56b)]?.[_0x7042df(0x402)](this[_0x7042df(0x1f6)][_0x7042df(0x718)]))throw new m(_0x7042df(0x41f));let {block:_0x2a6bbc}=_0x1f861c;_0x2a6bbc?.[_0x7042df(0x317)]?this[_0x7042df(0x7a2)](_0x1fd550,_0x1f861c):_0x2a6bbc?.[_0x7042df(0x5ab)]?this[_0x7042df(0x7c1)](_0x1fd550,_0x1f861c):_0x2a6bbc[_0x7042df(0x772)]?await this[_0x7042df(0x7a0)](_0x1fd550,_0x1f861c):this[_0x7042df(0x239)](_0x1fd550,_0x1f861c);let _0x2febd1=await this[_0x7042df(0x7bc)][_0x7042df(0x7c6)][_0x7042df(0xbb)](_0x1fd550[_0x7042df(0x772)],_0x1fd550);if(!_0x2febd1)throw new Error(_0x7042df(0x21d));return _0x2febd1;}catch(_0x2ad67b){this['throwAndLogError'](_0x7042df(0x61a)+_0x2ad67b[_0x7042df(0x3d6)]);}}async[a0_0x5a0e1e(0x7a2)](_0x7c03c,_0xf288fe){const _0xe29f95=a0_0x5a0e1e;let _0x2b2bb7=_0xf288fe[_0xe29f95(0x103)]['_id'],_0x23f64f=_0x7c03c['blocks'][_0xe29f95(0x174)](_0x49fc9f=>_0x49fc9f['_id'][_0xe29f95(0x6b5)]()===_0x2b2bb7);if(!_0x23f64f){this[_0xe29f95(0x3c2)][_0xe29f95(0x685)](this[_0xe29f95(0x225)]+'\x20('+this['instance'][_0xe29f95(0x718)]+_0xe29f95(0x1ab)+_0x2b2bb7+'\x20não\x20encontrado\x20para\x20cópia');return;}this[_0xe29f95(0x3c2)][_0xe29f95(0x2eb)](this['instanceName']+'\x20('+this[_0xe29f95(0x1f6)][_0xe29f95(0x718)]+_0xe29f95(0x6af)+JSON['stringify'](_0x23f64f));let _0x28f0d2=JSON[_0xe29f95(0x7f0)](JSON['stringify'](_0x23f64f));_0x28f0d2[_0xe29f95(0x772)]=new pe[(_0xe29f95(0x77c))]['Types'][(_0xe29f95(0x450))](),this[_0xe29f95(0x3c2)][_0xe29f95(0x2eb)](this[_0xe29f95(0x225)]+'\x20('+this['instance'][_0xe29f95(0x718)]+_0xe29f95(0x27d)+JSON[_0xe29f95(0x265)](_0x28f0d2)),_0x7c03c[_0xe29f95(0x42c)][_0xe29f95(0x212)](_0x28f0d2),this[_0xe29f95(0x280)](_0x7c03c['blocks'],_0x28f0d2[_0xe29f95(0x622)]);}['throwAndLogError'](_0x2d2521){const _0x1ac6de=a0_0x5a0e1e;throw this[_0x1ac6de(0x3c2)][_0x1ac6de(0x685)](this[_0x1ac6de(0x225)]+'\x20('+this[_0x1ac6de(0x1f6)][_0x1ac6de(0x718)]+_0x1ac6de(0x693)+_0x2d2521),new m(_0x2d2521);}[a0_0x5a0e1e(0x7c1)](_0x55b589,_0x5d5a3b){const _0xc4ea5=a0_0x5a0e1e;let {block:_0x393118}=_0x5d5a3b;if(_0x393118[_0xc4ea5(0x13f)]==='start'){this[_0xc4ea5(0x63d)](_0xc4ea5(0x667));return;}if(!_0x393118[_0xc4ea5(0x772)]){this[_0xc4ea5(0x63d)](_0xc4ea5(0x300));return;}let _0x27e5f3=_0x55b589['blocks'][_0xc4ea5(0x174)](_0x397f83=>_0x397f83[_0xc4ea5(0x772)][_0xc4ea5(0x6b5)]()===_0x5d5a3b[_0xc4ea5(0x103)][_0xc4ea5(0x772)]['toString']());if(!_0x27e5f3){this[_0xc4ea5(0x63d)](_0xc4ea5(0x7e6)+_0x393118[_0xc4ea5(0x772)]+_0xc4ea5(0x278));return;}_0x55b589[_0xc4ea5(0x42c)]=_0x55b589[_0xc4ea5(0x42c)][_0xc4ea5(0x736)](_0x48faec=>_0x48faec[_0xc4ea5(0x772)][_0xc4ea5(0x6b5)]()!==_0x5d5a3b[_0xc4ea5(0x103)][_0xc4ea5(0x772)][_0xc4ea5(0x6b5)]()),_0x55b589['conditions']=_0x55b589[_0xc4ea5(0x4b8)][_0xc4ea5(0x736)](_0x3a46d7=>_0x3a46d7['blockId']!==_0x393118[_0xc4ea5(0x772)][_0xc4ea5(0x6b5)]()),_0x55b589['varedits']=_0x55b589['varedits'][_0xc4ea5(0x736)](_0x24b174=>_0x24b174[_0xc4ea5(0x73f)]!==_0x393118[_0xc4ea5(0x772)]['toString']()),_0x55b589[_0xc4ea5(0x74c)]=_0x55b589[_0xc4ea5(0x74c)]['filter'](_0x146aa4=>_0x146aa4[_0xc4ea5(0x73f)]!==_0x393118['_id']['toString']()),this[_0xc4ea5(0x280)](_0x55b589[_0xc4ea5(0x42c)],_0x27e5f3[_0xc4ea5(0x622)]);}async[a0_0x5a0e1e(0x7a0)](_0x56055d,_0x6bc441){const _0x14e895=a0_0x5a0e1e;let _0x26e274=_0x56055d['blocks'][_0x14e895(0x688)](_0x391d1b=>_0x391d1b[_0x14e895(0x772)]['toString']()===_0x6bc441[_0x14e895(0x103)]['_id'][_0x14e895(0x6b5)]());if(this['logger'][_0x14e895(0x2eb)](this['instanceName']+'\x20('+this[_0x14e895(0x1f6)][_0x14e895(0x718)]+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x26e274),_0x26e274===-0x1){this[_0x14e895(0x3c2)]['verbose'](_0x14e895(0x7e6)+_0x6bc441[_0x14e895(0x103)][_0x14e895(0x772)]+_0x14e895(0x548));return;}if(_0x56055d[_0x14e895(0x42c)][_0x26e274][_0x14e895(0x13f)]==='start'){let _0x5cc54d=Object[_0x14e895(0x401)](_0x6bc441[_0x14e895(0x103)]);if(_0x5cc54d[_0x14e895(0x106)]>0x2||_0x5cc54d[_0x14e895(0x106)]===0x2&&!_0x5cc54d['includes']('next_groupId')){this['throwAndLogError'](_0x14e895(0x461));return;}}let _0x7ae2e3=_0x56055d[_0x14e895(0x42c)][_0x26e274][_0x14e895(0x622)];for(let _0x3d6069 in _0x6bc441[_0x14e895(0x103)])_0x6bc441['block'][_0x14e895(0x53b)](_0x3d6069)&&(_0x56055d[_0x14e895(0x42c)][_0x26e274][_0x3d6069]=_0x6bc441[_0x14e895(0x103)][_0x3d6069]);if(this[_0x14e895(0x3c2)]['verbose'](this[_0x14e895(0x225)]+'\x20('+this[_0x14e895(0x1f6)][_0x14e895(0x718)]+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON[_0x14e895(0x265)](_0x56055d[_0x14e895(0x42c)][_0x26e274])),_0x56055d[_0x14e895(0x42c)][_0x26e274][_0x14e895(0x2cf)]&&_0x14e895(0x5ad)in _0x56055d[_0x14e895(0x42c)][_0x26e274][_0x14e895(0x2cf)]){this['logger'][_0x14e895(0x2eb)](this[_0x14e895(0x225)]+'\x20('+this[_0x14e895(0x1f6)]['wuid']+_0x14e895(0x2ae));let _0x412cad=JSON['stringify'](_0x56055d[_0x14e895(0x42c)][_0x26e274][_0x14e895(0x2cf)]['header'],null,0x1);_0x412cad[_0x14e895(0x106)]>0x2&&(_0x412cad=_0x412cad['substring'](0x1,_0x412cad[_0x14e895(0x106)]-0x1)[_0x14e895(0x846)]()),_0x56055d[_0x14e895(0x42c)][_0x26e274][_0x14e895(0x2cf)]['headerString']=_0x412cad;}if(_0x56055d[_0x14e895(0x42c)][_0x26e274][_0x14e895(0x2cf)]&&_0x14e895(0x3cc)in _0x56055d['blocks'][_0x26e274][_0x14e895(0x2cf)]&&!(_0x14e895(0x74f)in _0x56055d[_0x14e895(0x42c)][_0x26e274][_0x14e895(0x2cf)])){this[_0x14e895(0x3c2)]['verbose'](this['instanceName']+'\x20('+this[_0x14e895(0x1f6)][_0x14e895(0x718)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x56055d[_0x14e895(0x42c)][_0x26e274][_0x14e895(0x2cf)][_0x14e895(0x7d2)]=!0x1;let _0x30f7ca=JSON[_0x14e895(0x265)](_0x56055d[_0x14e895(0x42c)][_0x26e274]['apirequest'][_0x14e895(0x3cc)],null,0x2);_0x56055d['blocks'][_0x26e274][_0x14e895(0x2cf)][_0x14e895(0x74f)]=_0x30f7ca;}if(_0x56055d[_0x14e895(0x42c)][_0x26e274][_0x14e895(0x2cf)]&&_0x14e895(0x74f)in _0x56055d['blocks'][_0x26e274][_0x14e895(0x2cf)]){_0x56055d[_0x14e895(0x42c)][_0x26e274][_0x14e895(0x2cf)][_0x14e895(0x7d2)]=!0x1;let _0x3eb86c=_0x56055d[_0x14e895(0x42c)][_0x26e274][_0x14e895(0x2cf)][_0x14e895(0x74f)],_0xc7300a=this[_0x14e895(0x147)](_0x3eb86c);_0x56055d[_0x14e895(0x42c)][_0x26e274][_0x14e895(0x2cf)][_0x14e895(0x74f)]=_0xc7300a[_0x14e895(0x55d)],_0x56055d[_0x14e895(0x42c)][_0x26e274][_0x14e895(0x2cf)][_0x14e895(0x7d2)]=_0xc7300a['error'];}let _0x5a496a=_0x56055d[_0x14e895(0x42c)][_0x26e274][_0x14e895(0x622)];_0x7ae2e3!==_0x5a496a?(this[_0x14e895(0x280)](_0x56055d[_0x14e895(0x42c)],_0x7ae2e3),this['reorderBlocks'](_0x56055d['blocks'],_0x5a496a)):this['reorderBlocks'](_0x56055d['blocks'],_0x7ae2e3);}[a0_0x5a0e1e(0x147)](_0x5b28b2){const _0x1c493=a0_0x5a0e1e;let _0x3fb176='\u205f',_0x5712e9=!0x1,_0x5754bc='';for(let _0x35ce23=0x0;_0x35ce23<_0x5b28b2['length'];_0x35ce23++){let _0x29686b=_0x5b28b2[_0x35ce23];_0x29686b==='\x22'&&(_0x35ce23===0x0||_0x5b28b2[_0x35ce23-0x1]!=='\x5c')&&(_0x5712e9=!_0x5712e9),!(!_0x5712e9&&(_0x29686b==='\x0a'||_0x29686b==='\x20'||_0x29686b===_0x3fb176))&&(_0x5754bc+=_0x29686b);}let _0x334a7e={},_0x213946=9876543210.1234,_0x5fef7a=_0x5754bc[_0x1c493(0x186)](/\{\{([^}]+)\}\}/g,_0x28a03d=>{let _0x4a8894=_0x28a03d,_0x1a8646=''+_0x213946;return _0x334a7e[_0x1a8646]=_0x4a8894,_0x213946+=0.0001,_0x1a8646;}),_0x164b8b='',_0x24bcdc=!0x1;try{let _0x4a0044=JSON[_0x1c493(0x7f0)](_0x5fef7a);_0x164b8b=JSON[_0x1c493(0x265)](_0x4a0044,null,0x2),_0x164b8b=_0x164b8b['replace'](/\n( +)/g,(_0x627c23,_0x34c246)=>{const _0x57399a=_0x1c493;let _0x397ba4=_0x34c246[_0x57399a(0x106)];return'\x0a'+_0x3fb176['repeat'](_0x397ba4*0x2);}),_0x164b8b=_0x164b8b[_0x1c493(0x186)](/(\d{10,}\.\d+)/g,_0x5e837e=>_0x334a7e[_0x5e837e]||_0x5e837e);}catch(_0x2b4b77){this[_0x1c493(0x3c2)]['error'](_0x1c493(0x3a3)+_0x2b4b77),_0x164b8b=_0x5b28b2,_0x24bcdc=!0x0;}return{'result':_0x164b8b,'error':_0x24bcdc};}[a0_0x5a0e1e(0x239)](_0x3aafdc,_0x134195){const _0x31fa65=a0_0x5a0e1e;if(_0x134195[_0x31fa65(0x103)][_0x31fa65(0x13f)]===_0x31fa65(0x6eb)){this[_0x31fa65(0x63d)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x134195[_0x31fa65(0x103)]['apirequest']&&'header'in _0x134195[_0x31fa65(0x103)][_0x31fa65(0x2cf)]){this[_0x31fa65(0x3c2)][_0x31fa65(0x2eb)](this[_0x31fa65(0x225)]+'\x20('+this[_0x31fa65(0x1f6)][_0x31fa65(0x718)]+_0x31fa65(0x2ae));let _0x30533b=JSON[_0x31fa65(0x265)](_0x134195[_0x31fa65(0x103)][_0x31fa65(0x2cf)]['header'],null,0x1);_0x30533b[_0x31fa65(0x106)]>0x2&&(_0x30533b=_0x30533b['substring'](0x1,_0x30533b[_0x31fa65(0x106)]-0x1)[_0x31fa65(0x846)]()),_0x134195[_0x31fa65(0x103)][_0x31fa65(0x2cf)][_0x31fa65(0x4c2)]=_0x30533b;}_0x134195[_0x31fa65(0x103)]['apirequest']&&_0x31fa65(0x3cc)in _0x134195[_0x31fa65(0x103)][_0x31fa65(0x2cf)]&&(this['logger'][_0x31fa65(0x2eb)](this['instanceName']+'\x20('+this['instance'][_0x31fa65(0x718)]+_0x31fa65(0x665)),_0x134195[_0x31fa65(0x103)][_0x31fa65(0x2cf)][_0x31fa65(0x74f)]=JSON[_0x31fa65(0x265)](_0x134195['block'][_0x31fa65(0x2cf)][_0x31fa65(0x3cc)],null,0x1)[_0x31fa65(0x846)]()),_0x3aafdc['blocks'][_0x31fa65(0x212)](_0x134195[_0x31fa65(0x103)]),this[_0x31fa65(0x280)](_0x3aafdc['blocks'],_0x134195[_0x31fa65(0x103)][_0x31fa65(0x622)]);}[a0_0x5a0e1e(0x280)](_0x1b2e58,_0x5c65ec){const _0x1cc915=a0_0x5a0e1e;let _0x27e6f7=_0x1b2e58[_0x1cc915(0x736)](_0x28e184=>_0x28e184['groupId']===_0x5c65ec);_0x27e6f7[_0x1cc915(0x4a0)]((_0x14a54e,_0x47b2be)=>_0x14a54e[_0x1cc915(0x73e)]-_0x47b2be[_0x1cc915(0x73e)]),_0x27e6f7['forEach']((_0x566a46,_0x26e661)=>_0x566a46[_0x1cc915(0x73e)]=_0x26e661+0x1);}async[a0_0x5a0e1e(0x12e)](_0x3a623a){const _0x2f8441=a0_0x5a0e1e;try{if(this['logger'][_0x2f8441(0x2eb)](this[_0x2f8441(0x225)]+'\x20('+this[_0x2f8441(0x1f6)]['wuid']+'):\x20Editando\x20replyOption...'),!_0x3a623a||!_0x3a623a['replyOption']){this[_0x2f8441(0x63d)](_0x2f8441(0x4c7));return;}if(!this[_0x2f8441(0x1ec)][_0x2f8441(0x29d)][_0x2f8441(0x174)](_0x5ebf12=>_0x5ebf12[_0x2f8441(0x772)]===_0x3a623a[_0x2f8441(0x772)]))throw this[_0x2f8441(0x3c2)][_0x2f8441(0x2eb)](this[_0x2f8441(0x225)]+'\x20('+this[_0x2f8441(0x1f6)]['wuid']+_0x2f8441(0x4c8)+_0x3a623a[_0x2f8441(0x772)]+'\x27\x20não\x20encontrado'),new m(_0x2f8441(0x15e));let _0x9b9ea4=await this[_0x2f8441(0x7bc)][_0x2f8441(0x7c6)][_0x2f8441(0x524)]({'where':{'_id':_0x3a623a['_id']}});if(!_0x9b9ea4||!_0x9b9ea4['whoCanUse']?.[_0x2f8441(0x402)](this[_0x2f8441(0x1f6)][_0x2f8441(0x718)]))throw this[_0x2f8441(0x3c2)][_0x2f8441(0x685)](this[_0x2f8441(0x225)]+'\x20('+this[_0x2f8441(0x1f6)][_0x2f8441(0x718)]+_0x2f8441(0x849)+_0x3a623a[_0x2f8441(0x772)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x2f8441(0x30f)+_0x3a623a[_0x2f8441(0x772)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x9b9ea4['whoCanEdit']?.[_0x2f8441(0x402)](this[_0x2f8441(0x1f6)][_0x2f8441(0x718)]))throw new m(_0x2f8441(0x41f));let {replyOption:_0x27406d}=_0x3a623a;_0x27406d?.['delete']?(this[_0x2f8441(0x3d0)](_0x9b9ea4,_0x3a623a),this[_0x2f8441(0x193)](_0x9b9ea4[_0x2f8441(0x74c)],_0x3a623a[_0x2f8441(0x236)][_0x2f8441(0x73f)])):_0x27406d[_0x2f8441(0x772)]?(await this[_0x2f8441(0x3d4)](_0x9b9ea4,_0x3a623a),this[_0x2f8441(0x193)](_0x9b9ea4['replyOptions'],_0x3a623a[_0x2f8441(0x236)][_0x2f8441(0x73f)])):(this[_0x2f8441(0x691)](_0x9b9ea4,_0x3a623a),this['reorderReplyOptions'](_0x9b9ea4[_0x2f8441(0x74c)],_0x3a623a['replyOption'][_0x2f8441(0x73f)]));let _0x364b25=await this[_0x2f8441(0x7bc)][_0x2f8441(0x7c6)][_0x2f8441(0xbb)](_0x9b9ea4[_0x2f8441(0x772)],_0x9b9ea4);if(!_0x364b25)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x364b25;}catch(_0x24ad93){this[_0x2f8441(0x63d)]('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x24ad93);}}[a0_0x5a0e1e(0x193)](_0x5e00ac,_0x1f98aa){const _0x155441=a0_0x5a0e1e;_0x5e00ac[_0x155441(0x3a6)](_0x1f25b4=>{const _0x330550=_0x155441;_0x1f25b4[_0x330550(0x73f)]===_0x1f98aa&&_0x1f25b4[_0x330550(0x73e)]===void 0x0&&(_0x1f25b4[_0x330550(0x73e)]=0x270f);});let _0x4a034b=_0x5e00ac[_0x155441(0x736)](_0x18a3c=>_0x18a3c[_0x155441(0x73f)]===_0x1f98aa);_0x4a034b[_0x155441(0x4a0)]((_0x2e91d1,_0x5beb48)=>_0x2e91d1['order']-_0x5beb48[_0x155441(0x73e)]),_0x4a034b['forEach']((_0x13870f,_0x1d5863)=>{const _0x5d7680=_0x155441;_0x13870f[_0x5d7680(0x73e)]=_0x1d5863+0x1;}),_0x5e00ac['forEach'](_0x12c6cd=>{const _0x53670c=_0x155441;if(_0x12c6cd[_0x53670c(0x73f)]===_0x1f98aa){let _0x38fbfb=_0x4a034b[_0x53670c(0x174)](_0x29f9d2=>_0x29f9d2['_id']&&_0x12c6cd[_0x53670c(0x772)]&&_0x29f9d2[_0x53670c(0x772)][_0x53670c(0x6b5)]()===_0x12c6cd[_0x53670c(0x772)][_0x53670c(0x6b5)]());_0x38fbfb&&(_0x12c6cd['order']=_0x38fbfb[_0x53670c(0x73e)]);}});}[a0_0x5a0e1e(0x3d0)](_0x58df12,_0x23c27f){const _0x5834df=a0_0x5a0e1e;let {replyOption:_0x520819}=_0x23c27f;if(!_0x520819[_0x5834df(0x772)]){this[_0x5834df(0x63d)](_0x5834df(0x25f));return;}if(!_0x58df12['replyOptions'][_0x5834df(0x174)](_0x6eb7bc=>_0x6eb7bc[_0x5834df(0x772)][_0x5834df(0x6b5)]()===_0x23c27f[_0x5834df(0x236)]['_id'][_0x5834df(0x6b5)]())){this['throwAndLogError']('ReplyOption\x20com\x20ID\x20'+_0x520819[_0x5834df(0x772)]+_0x5834df(0x278));return;}_0x58df12['replyOptions']=_0x58df12[_0x5834df(0x74c)][_0x5834df(0x736)](_0x3b7c3c=>_0x3b7c3c[_0x5834df(0x772)]['toString']()!==_0x23c27f[_0x5834df(0x236)][_0x5834df(0x772)][_0x5834df(0x6b5)]());}async[a0_0x5a0e1e(0x3d4)](_0x20fe18,_0x33665c){const _0x49c9e3=a0_0x5a0e1e;let _0x5e629e=_0x20fe18[_0x49c9e3(0x74c)][_0x49c9e3(0x688)](_0x50b904=>_0x50b904[_0x49c9e3(0x772)][_0x49c9e3(0x6b5)]()===_0x33665c[_0x49c9e3(0x236)][_0x49c9e3(0x772)][_0x49c9e3(0x6b5)]());if(_0x5e629e===-0x1){this[_0x49c9e3(0x63d)](_0x49c9e3(0x2b1)+_0x33665c[_0x49c9e3(0x236)]['_id']+_0x49c9e3(0x548));return;}for(let _0x335793 in _0x33665c[_0x49c9e3(0x236)])_0x33665c[_0x49c9e3(0x236)][_0x49c9e3(0x53b)](_0x335793)&&(_0x20fe18[_0x49c9e3(0x74c)][_0x5e629e][_0x335793]=_0x33665c[_0x49c9e3(0x236)][_0x335793]);}[a0_0x5a0e1e(0x691)](_0x303999,_0x5cc11f){const _0x3be587=a0_0x5a0e1e;_0x303999[_0x3be587(0x74c)][_0x3be587(0x212)](_0x5cc11f[_0x3be587(0x236)]);}async[a0_0x5a0e1e(0x4a6)](_0x504528){const _0x5dc4a8=a0_0x5a0e1e;this[_0x5dc4a8(0x3c2)]['verbose'](this[_0x5dc4a8(0x225)]+'\x20('+this[_0x5dc4a8(0x1f6)][_0x5dc4a8(0x718)]+_0x5dc4a8(0x48b)+JSON[_0x5dc4a8(0x265)](_0x504528,null,0x2));try{if(this[_0x5dc4a8(0x3c2)]['verbose'](this['instanceName']+'\x20('+this[_0x5dc4a8(0x1f6)][_0x5dc4a8(0x718)]+_0x5dc4a8(0x3c7)),!this[_0x5dc4a8(0x1ec)]['flows']['find'](_0x1a8559=>_0x1a8559[_0x5dc4a8(0x772)]===_0x504528[_0x5dc4a8(0x772)]))throw this[_0x5dc4a8(0x3c2)]['verbose'](this[_0x5dc4a8(0x225)]+'\x20('+this[_0x5dc4a8(0x1f6)]['wuid']+'):\x20Fluxo\x20\x27'+_0x504528[_0x5dc4a8(0x772)]+'\x27\x20não\x20encontrado'),new m(_0x5dc4a8(0x15e));let _0x22ad9b=await this[_0x5dc4a8(0x7bc)]['flow'][_0x5dc4a8(0x524)]({'where':{'_id':_0x504528[_0x5dc4a8(0x772)]}});if(!_0x22ad9b||!_0x22ad9b[_0x5dc4a8(0x810)]?.[_0x5dc4a8(0x402)](this['instance'][_0x5dc4a8(0x718)]))throw this[_0x5dc4a8(0x3c2)][_0x5dc4a8(0x685)](this[_0x5dc4a8(0x225)]+'\x20('+this[_0x5dc4a8(0x1f6)][_0x5dc4a8(0x718)]+_0x5dc4a8(0x849)+_0x504528[_0x5dc4a8(0x772)]+_0x5dc4a8(0x22d)),new m('Flow\x20\x27'+_0x504528['_id']+_0x5dc4a8(0x22d));if(!_0x22ad9b[_0x5dc4a8(0x56b)]?.[_0x5dc4a8(0x402)](this[_0x5dc4a8(0x1f6)][_0x5dc4a8(0x718)]))throw new m(_0x5dc4a8(0x41f));if(_0x504528[_0x5dc4a8(0x6b2)]&&_0x504528[_0x5dc4a8(0x6b2)]?.[_0x5dc4a8(0x5ab)]===!0x0){if(this[_0x5dc4a8(0x3c2)]['verbose'](this['instanceName']+'\x20('+this[_0x5dc4a8(0x1f6)][_0x5dc4a8(0x718)]+_0x5dc4a8(0x465)),_0x504528[_0x5dc4a8(0x6b2)]['default']===!0x0)return{'message':_0x5dc4a8(0x45e)};if(_0x22ad9b['blocks'][_0x5dc4a8(0x112)](_0x5343d9=>_0x5343d9['groupId'][_0x5dc4a8(0x6b5)]()===_0x504528[_0x5dc4a8(0x6b2)]['_id']))return this[_0x5dc4a8(0x3c2)][_0x5dc4a8(0x2eb)](this[_0x5dc4a8(0x225)]+'\x20('+this[_0x5dc4a8(0x1f6)][_0x5dc4a8(0x718)]+_0x5dc4a8(0x3e9)),{'message':_0x5dc4a8(0x416)};_0x22ad9b[_0x5dc4a8(0x4fc)]=_0x22ad9b[_0x5dc4a8(0x4fc)]['filter'](_0x2cbe10=>_0x2cbe10['_id'][_0x5dc4a8(0x6b5)]()!==_0x504528['group']['_id']);}else{if(_0x504528[_0x5dc4a8(0x6b2)]){if(_0x504528[_0x5dc4a8(0x6b2)][_0x5dc4a8(0x77c)]===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x504528[_0x5dc4a8(0x6b2)]['_id']){let _0x3da60e=_0x22ad9b[_0x5dc4a8(0x4fc)]['find'](_0x2539d9=>_0x2539d9[_0x5dc4a8(0x772)][_0x5dc4a8(0x6b5)]()===_0x504528[_0x5dc4a8(0x6b2)][_0x5dc4a8(0x772)]);_0x3da60e&&(_0x504528[_0x5dc4a8(0x6b2)]['x']<0x0&&(_0x504528[_0x5dc4a8(0x6b2)]['x']=0x0),_0x504528[_0x5dc4a8(0x6b2)]['y']<0x0&&(_0x504528['group']['y']=0x0),Object[_0x5dc4a8(0xfe)](_0x3da60e,_0x504528['group']));}else _0x22ad9b[_0x5dc4a8(0x4fc)][_0x5dc4a8(0x212)](_0x504528[_0x5dc4a8(0x6b2)]);}}let _0x250211=await this[_0x5dc4a8(0x7bc)][_0x5dc4a8(0x7c6)][_0x5dc4a8(0xbb)](_0x22ad9b[_0x5dc4a8(0x772)],_0x22ad9b);if(!_0x250211)throw new Error(_0x5dc4a8(0x21d));return _0x250211;}catch(_0x9b3a31){let _0x35fc58=_0x5dc4a8(0x45b),_0x4f5ca9=_0x9b3a31 instanceof Error?_0x9b3a31[_0x5dc4a8(0x3d6)]:typeof _0x9b3a31==_0x5dc4a8(0x698)?JSON[_0x5dc4a8(0x265)](_0x9b3a31):_0x9b3a31,_0x444c1d=_0x35fc58+':\x20'+_0x4f5ca9;throw this['logger'][_0x5dc4a8(0x685)](this[_0x5dc4a8(0x225)]+'\x20('+this[_0x5dc4a8(0x1f6)][_0x5dc4a8(0x718)]+_0x5dc4a8(0x693)+_0x444c1d),new m(_0x444c1d);}}async[a0_0x5a0e1e(0x54c)](_0x37981e){const _0x185705=a0_0x5a0e1e;try{if(this['logger']['verbose'](this[_0x185705(0x225)]+'\x20('+this[_0x185705(0x1f6)]['wuid']+'):\x20Editando\x20condição\x20do\x20fluxo...'),!this[_0x185705(0x1ec)][_0x185705(0x29d)][_0x185705(0x174)](_0x533bd2=>_0x533bd2[_0x185705(0x772)]===_0x37981e[_0x185705(0x772)]))throw this['logger'][_0x185705(0x2eb)](this[_0x185705(0x225)]+'\x20('+this[_0x185705(0x1f6)][_0x185705(0x718)]+_0x185705(0x4c8)+_0x37981e[_0x185705(0x772)]+_0x185705(0x677)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x5a0c97=await this[_0x185705(0x7bc)][_0x185705(0x7c6)][_0x185705(0x524)]({'where':{'_id':_0x37981e[_0x185705(0x772)]}});if(!_0x5a0c97||!_0x5a0c97[_0x185705(0x810)]?.['includes'](this[_0x185705(0x1f6)][_0x185705(0x718)]))throw this['logger']['error'](this[_0x185705(0x225)]+'\x20('+this[_0x185705(0x1f6)][_0x185705(0x718)]+_0x185705(0x849)+_0x37981e['_id']+_0x185705(0x22d)),new m(_0x185705(0x30f)+_0x37981e['_id']+_0x185705(0x22d));if(!_0x5a0c97[_0x185705(0x56b)]?.['includes'](this[_0x185705(0x1f6)]['wuid']))throw new m(_0x185705(0x41f));let _0x157038=!0x1;if(_0x37981e[_0x185705(0x40c)]?.[_0x185705(0x5ab)]===!0x0)_0x5a0c97[_0x185705(0x4b8)]=_0x5a0c97[_0x185705(0x4b8)][_0x185705(0x736)](_0x438d02=>_0x438d02&&_0x37981e['condition']&&_0x438d02[_0x185705(0x772)]&&_0x37981e[_0x185705(0x40c)][_0x185705(0x772)]&&_0x438d02[_0x185705(0x772)]['toString']()!==_0x37981e[_0x185705(0x40c)][_0x185705(0x772)][_0x185705(0x6b5)]()),_0x157038=!0x0;else{let _0x314035=_0x5a0c97[_0x185705(0x4b8)][_0x185705(0x174)](_0x4af5b0=>_0x4af5b0&&_0x37981e[_0x185705(0x40c)]&&_0x4af5b0['_id']&&_0x37981e['condition'][_0x185705(0x772)]&&_0x4af5b0[_0x185705(0x772)][_0x185705(0x6b5)]()===_0x37981e[_0x185705(0x40c)][_0x185705(0x772)][_0x185705(0x6b5)]());_0x314035?(_0x157038=_0x314035['order']!==_0x37981e[_0x185705(0x40c)][_0x185705(0x73e)],Object[_0x185705(0xfe)](_0x314035,_0x37981e[_0x185705(0x40c)])):(_0x5a0c97[_0x185705(0x4b8)][_0x185705(0x212)](_0x37981e['condition']),_0x157038=!0x0);}if(_0x157038){_0x5a0c97[_0x185705(0x4b8)]['sort']((_0x3d4147,_0xbdd36a)=>_0x3d4147[_0x185705(0x73e)]>_0xbdd36a[_0x185705(0x73e)]?0x1:_0xbdd36a[_0x185705(0x73e)]>_0x3d4147[_0x185705(0x73e)]?-0x1:0x0);for(let _0x3d5805=0x0;_0x3d5805<_0x5a0c97[_0x185705(0x4b8)][_0x185705(0x106)];_0x3d5805++)_0x5a0c97[_0x185705(0x4b8)][_0x3d5805]['order']=_0x3d5805+0x1;_0x5a0c97[_0x185705(0x4b8)]['length']>0x0&&(_0x5a0c97[_0x185705(0x4b8)][0x0][_0x185705(0x305)]=_0x185705(0x455));}let _0x4f55b3=await this[_0x185705(0x7bc)][_0x185705(0x7c6)][_0x185705(0xbb)](_0x5a0c97[_0x185705(0x772)],_0x5a0c97);if(!_0x4f55b3)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x4f55b3;}catch(_0x3b8eb9){let _0x4d2547='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0x4e059f=_0x3b8eb9 instanceof Error?_0x3b8eb9[_0x185705(0x3d6)]:typeof _0x3b8eb9=='object'?JSON[_0x185705(0x265)](_0x3b8eb9):_0x3b8eb9,_0x5a3773=_0x4d2547+':\x20'+_0x4e059f;throw this[_0x185705(0x3c2)][_0x185705(0x685)](this['instanceName']+'\x20('+this[_0x185705(0x1f6)][_0x185705(0x718)]+'):\x20'+_0x5a3773),new m(_0x5a3773);}}async[a0_0x5a0e1e(0x664)](_0x43dcd5){const _0x13845c=a0_0x5a0e1e;try{if(this[_0x13845c(0x3c2)][_0x13845c(0x2eb)](this[_0x13845c(0x225)]+'\x20('+this[_0x13845c(0x1f6)][_0x13845c(0x718)]+'):\x20Editando\x20edição\x20do\x20fluxo...'),!this['AutomateSystem'][_0x13845c(0x29d)][_0x13845c(0x174)](_0x26a750=>_0x26a750[_0x13845c(0x772)]===_0x43dcd5[_0x13845c(0x772)]))throw this[_0x13845c(0x3c2)][_0x13845c(0x2eb)](this[_0x13845c(0x225)]+'\x20('+this[_0x13845c(0x1f6)][_0x13845c(0x718)]+_0x13845c(0x4c8)+_0x43dcd5['_id']+_0x13845c(0x677)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x4b34b0=await this[_0x13845c(0x7bc)][_0x13845c(0x7c6)][_0x13845c(0x524)]({'where':{'_id':_0x43dcd5['_id']}});if(!_0x4b34b0||!_0x4b34b0[_0x13845c(0x810)]?.[_0x13845c(0x402)](this[_0x13845c(0x1f6)][_0x13845c(0x718)]))throw this[_0x13845c(0x3c2)]['error'](this[_0x13845c(0x225)]+'\x20('+this[_0x13845c(0x1f6)]['wuid']+_0x13845c(0x849)+_0x43dcd5[_0x13845c(0x772)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x13845c(0x30f)+_0x43dcd5[_0x13845c(0x772)]+_0x13845c(0x22d));if(!_0x4b34b0[_0x13845c(0x56b)]?.[_0x13845c(0x402)](this[_0x13845c(0x1f6)][_0x13845c(0x718)]))throw new m(_0x13845c(0x41f));let _0x384787=!0x1;if(_0x43dcd5[_0x13845c(0x7fb)]?.[_0x13845c(0x5ab)]===!0x0)_0x4b34b0[_0x13845c(0x4f6)]=_0x4b34b0[_0x13845c(0x4f6)]['filter'](_0x283db0=>_0x283db0&&_0x43dcd5[_0x13845c(0x7fb)]&&_0x283db0[_0x13845c(0x772)]&&_0x43dcd5[_0x13845c(0x7fb)][_0x13845c(0x772)]&&_0x283db0['_id'][_0x13845c(0x6b5)]()!==_0x43dcd5[_0x13845c(0x7fb)]['_id'][_0x13845c(0x6b5)]()),_0x384787=!0x0;else{let _0x29d5af=_0x4b34b0['varedits']['find'](_0x23087a=>_0x23087a&&_0x43dcd5[_0x13845c(0x7fb)]&&_0x23087a['_id']&&_0x43dcd5[_0x13845c(0x7fb)][_0x13845c(0x772)]&&_0x23087a[_0x13845c(0x772)][_0x13845c(0x6b5)]()===_0x43dcd5[_0x13845c(0x7fb)][_0x13845c(0x772)][_0x13845c(0x6b5)]());_0x29d5af?(_0x384787=_0x29d5af[_0x13845c(0x73e)]!==_0x43dcd5[_0x13845c(0x7fb)][_0x13845c(0x73e)],Object[_0x13845c(0xfe)](_0x29d5af,_0x43dcd5[_0x13845c(0x7fb)])):(_0x4b34b0[_0x13845c(0x4f6)][_0x13845c(0x212)](_0x43dcd5[_0x13845c(0x7fb)]),_0x384787=!0x0);}if(_0x384787){_0x4b34b0['varedits'][_0x13845c(0x4a0)]((_0x16c9c8,_0x4fcecb)=>_0x16c9c8[_0x13845c(0x73e)]>_0x4fcecb[_0x13845c(0x73e)]?0x1:_0x4fcecb['order']>_0x16c9c8['order']?-0x1:0x0);for(let _0x437a69=0x0;_0x437a69<_0x4b34b0['varedits'][_0x13845c(0x106)];_0x437a69++)_0x4b34b0[_0x13845c(0x4f6)][_0x437a69][_0x13845c(0x73e)]=_0x437a69+0x1;}let _0x3d645b=await this['repository'][_0x13845c(0x7c6)]['updateOne'](_0x4b34b0[_0x13845c(0x772)],_0x4b34b0);if(!_0x3d645b)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x3d645b;}catch(_0x4ffcc3){let _0x18d115='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0x172408=_0x4ffcc3 instanceof Error?_0x4ffcc3[_0x13845c(0x3d6)]:typeof _0x4ffcc3==_0x13845c(0x698)?JSON[_0x13845c(0x265)](_0x4ffcc3):_0x4ffcc3,_0x216d1d=_0x18d115+':\x20'+_0x172408;throw this[_0x13845c(0x3c2)][_0x13845c(0x685)](this[_0x13845c(0x225)]+'\x20('+this[_0x13845c(0x1f6)]['wuid']+'):\x20'+_0x216d1d),new m(_0x216d1d);}}async['editFlowVariable'](_0x57cd41){const _0xbde85e=a0_0x5a0e1e;try{if(this[_0xbde85e(0x3c2)]['verbose'](this[_0xbde85e(0x225)]+'\x20('+this['instance'][_0xbde85e(0x718)]+_0xbde85e(0xdd)),!this[_0xbde85e(0x1ec)]['flows'][_0xbde85e(0x174)](_0x355060=>_0x355060[_0xbde85e(0x772)]===_0x57cd41[_0xbde85e(0x772)]))throw this[_0xbde85e(0x3c2)][_0xbde85e(0x2eb)](this[_0xbde85e(0x225)]+'\x20('+this[_0xbde85e(0x1f6)][_0xbde85e(0x718)]+'):\x20Fluxo\x20\x27'+_0x57cd41[_0xbde85e(0x772)]+_0xbde85e(0x677)),new m(_0xbde85e(0x15e));let _0x1ea4d=await this[_0xbde85e(0x7bc)][_0xbde85e(0x7c6)]['findOne']({'where':{'_id':_0x57cd41[_0xbde85e(0x772)]}});if(!_0x1ea4d||!_0x1ea4d['whoCanUse']?.[_0xbde85e(0x402)](this[_0xbde85e(0x1f6)][_0xbde85e(0x718)]))throw this[_0xbde85e(0x3c2)]['error'](this[_0xbde85e(0x225)]+'\x20('+this['instance'][_0xbde85e(0x718)]+_0xbde85e(0x849)+_0x57cd41[_0xbde85e(0x772)]+_0xbde85e(0x22d)),new m(_0xbde85e(0x30f)+_0x57cd41[_0xbde85e(0x772)]+_0xbde85e(0x22d));if(!_0x1ea4d['whoCanEdit']?.['includes'](this[_0xbde85e(0x1f6)][_0xbde85e(0x718)]))throw new m(_0xbde85e(0x41f));_0x57cd41[_0xbde85e(0x1a1)]['name']=_0x57cd41[_0xbde85e(0x1a1)]['name'][_0xbde85e(0x846)](),_0x57cd41[_0xbde85e(0x1a1)][_0xbde85e(0x7e8)]['startsWith']('_')&&(_0x57cd41[_0xbde85e(0x1a1)][_0xbde85e(0x7e8)]=_0x57cd41[_0xbde85e(0x1a1)]['name']['substring'](0x1)),_0x57cd41[_0xbde85e(0x1a1)]['name']=_0x57cd41[_0xbde85e(0x1a1)][_0xbde85e(0x7e8)]['trim']();let _0x5de797=_0x1ea4d[_0xbde85e(0x7e3)][_0xbde85e(0x174)](_0x22bbdd=>_0x22bbdd[_0xbde85e(0x7e8)]===_0x57cd41[_0xbde85e(0x1a1)][_0xbde85e(0x7e8)]);if(_0x5de797?.['leadInfo']===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x57cd41[_0xbde85e(0x1a1)]?.['delete']===!0x0){if(!_0x5de797)return{'message':_0xbde85e(0x49b)};_0x1ea4d[_0xbde85e(0x7e3)]=_0x1ea4d[_0xbde85e(0x7e3)]['filter'](_0x251349=>_0x251349['name']!==_0x57cd41[_0xbde85e(0x1a1)][_0xbde85e(0x7e8)]);}else _0x5de797?Object[_0xbde85e(0xfe)](_0x5de797,_0x57cd41[_0xbde85e(0x1a1)]):_0x1ea4d[_0xbde85e(0x7e3)][_0xbde85e(0x212)](_0x57cd41['variable']);let _0x31cd63=await this[_0xbde85e(0x7bc)][_0xbde85e(0x7c6)][_0xbde85e(0xbb)](_0x1ea4d[_0xbde85e(0x772)],_0x1ea4d);if(!_0x31cd63)throw new Error(_0xbde85e(0x21d));return _0x31cd63;}catch(_0x1c504a){let _0x2aa26f=_0xbde85e(0xb4),_0x4f3097=_0x1c504a instanceof Error?_0x1c504a[_0xbde85e(0x3d6)]:typeof _0x1c504a==_0xbde85e(0x698)?JSON[_0xbde85e(0x265)](_0x1c504a):_0x1c504a,_0x24ad5e=_0x2aa26f+':\x20'+_0x4f3097;throw this[_0xbde85e(0x3c2)][_0xbde85e(0x685)](this['instanceName']+'\x20('+this[_0xbde85e(0x1f6)][_0xbde85e(0x718)]+'):\x20'+_0x24ad5e),new m(_0x24ad5e);}}async[a0_0x5a0e1e(0x16d)](_0x2dea6c){const _0x17f929=a0_0x5a0e1e;let _0x422cf7=null;try{if(!this[_0x17f929(0x1ec)]?.[_0x17f929(0x115)][_0x17f929(0x47e)])throw new m('Fluxos\x20não\x20estão\x20ativados');this[_0x17f929(0x3c2)]['verbose'](this[_0x17f929(0x225)]+'\x20('+this[_0x17f929(0x1f6)][_0x17f929(0x718)]+'):\x20Iniciando\x20bot...');let _0x234829=(await this[_0x17f929(0x425)]({'numbers':[_0x2dea6c[_0x17f929(0x41b)]]}))[0x0];if(!_0x234829['exists']&&!(0x0,w['isJidGroup'])(_0x234829[_0x17f929(0x3eb)])&&!_0x234829['jid'][_0x17f929(0x402)](_0x17f929(0x1d5)))throw _0x422cf7=JSON['stringify'](_0x234829,null,0x2),new m(_0x234829);let _0x3e3dff;if(_0x2dea6c[_0x17f929(0x7e8)]['length']===0x24&&/^[0-9a-fA-F-]{36}$/['test'](_0x2dea6c['name'])?_0x3e3dff=this[_0x17f929(0x1ec)]['flows'][_0x17f929(0x174)](_0xe09de7=>_0xe09de7['_id']===_0x2dea6c['name']):_0x3e3dff=this[_0x17f929(0x1ec)]['flows'][_0x17f929(0x174)](_0x19f781=>_0x19f781[_0x17f929(0x7e8)]===_0x2dea6c[_0x17f929(0x7e8)]),!_0x3e3dff)throw this[_0x17f929(0x3c2)][_0x17f929(0x2eb)](this[_0x17f929(0x225)]+'\x20('+this[_0x17f929(0x1f6)][_0x17f929(0x718)]+'):\x20Fluxo\x20\x27'+_0x2dea6c['name']+_0x17f929(0x677)),new m(_0x17f929(0x15e));let _0x2bf728=await this['repository'][_0x17f929(0x7c6)][_0x17f929(0x524)]({'where':{'_id':_0x3e3dff[_0x17f929(0x772)]}});if(!_0x2bf728||!_0x2bf728[_0x17f929(0x810)]?.[_0x17f929(0x402)](this['instance'][_0x17f929(0x718)]))throw this[_0x17f929(0x3c2)]['error'](this[_0x17f929(0x225)]+'\x20('+this[_0x17f929(0x1f6)]['wuid']+_0x17f929(0x849)+_0x3e3dff['_id']+_0x17f929(0x22d)),_0x422cf7=_0x17f929(0x30f)+_0x3e3dff[_0x17f929(0x772)]+_0x17f929(0x22d),new m(_0x422cf7);let _0x3df278=await this['createConversationforStartFlow'](_0x2bf728,_0x234829[_0x17f929(0x3eb)],_0x2dea6c['changeVariables']);if(_0x3df278){this[_0x17f929(0x3c2)][_0x17f929(0x2eb)](this['instanceName']+'\x20('+this[_0x17f929(0x1f6)]['wuid']+_0x17f929(0x53a));let _0x16133f=await this[_0x17f929(0x432)](_0x3df278);return _0x16133f&&await this[_0x17f929(0x7df)](_0x3df278,_0x16133f),{'message':_0x17f929(0x172)+_0x2dea6c[_0x17f929(0x41b)]};}}catch(_0x49fc34){if(this[_0x17f929(0x3c2)][_0x17f929(0x685)](this[_0x17f929(0x225)]+'\x20('+this[_0x17f929(0x1f6)][_0x17f929(0x718)]+_0x17f929(0x721)+(_0x49fc34 instanceof Error?_0x49fc34[_0x17f929(0x3d6)]:JSON[_0x17f929(0x265)](_0x49fc34,null,0x2))),_0x422cf7=_0x49fc34 instanceof Error?_0x49fc34[_0x17f929(0x3d6)]:JSON[_0x17f929(0x265)](_0x49fc34,null,0x2),_0x422cf7)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x422cf7);}}async['startFlowWebhook'](_0x5448da,_0x5a428b,_0x98ac5d){const _0x11998c=a0_0x5a0e1e;let _0x3587ef=null;try{if(!this[_0x11998c(0x1ec)]?.[_0x11998c(0x115)][_0x11998c(0x47e)])throw new m(_0x11998c(0x108));if(this[_0x11998c(0x3c2)][_0x11998c(0x2eb)](this[_0x11998c(0x225)]+'\x20('+this['instance'][_0x11998c(0x718)]+_0x11998c(0xa3)),_0x5a428b){let _0x27f070=(await this[_0x11998c(0x425)]({'numbers':[_0x5a428b]}))[0x0];if(!_0x27f070[_0x11998c(0x3d5)]&&!(0x0,w[_0x11998c(0x181)])(_0x27f070[_0x11998c(0x3eb)])&&!_0x27f070[_0x11998c(0x3eb)][_0x11998c(0x402)](_0x11998c(0x1d5)))throw _0x3587ef=JSON[_0x11998c(0x265)](_0x27f070,null,0x2),new m(_0x27f070);_0x5a428b=_0x27f070[_0x11998c(0x3eb)];}else _0x5a428b||(_0x5a428b=(0x0,Q['v4'])());let _0x477aa1=await this[_0x11998c(0x7bc)][_0x11998c(0x7c6)][_0x11998c(0x524)]({'where':{'_id':_0x5448da}});if(!_0x477aa1||!_0x477aa1[_0x11998c(0x810)]?.['includes'](this[_0x11998c(0x1f6)][_0x11998c(0x718)]))throw this[_0x11998c(0x3c2)]['error'](this[_0x11998c(0x225)]+'\x20('+this['instance'][_0x11998c(0x718)]+_0x11998c(0x849)+_0x5448da+_0x11998c(0x22d)),new m(_0x11998c(0x30f)+_0x5448da+_0x11998c(0x22d));let _0x23cda7=await this[_0x11998c(0x169)](_0x477aa1,_0x5a428b,null);if(_0x23cda7){this[_0x11998c(0x3c2)][_0x11998c(0x2eb)](this[_0x11998c(0x225)]+'\x20('+this[_0x11998c(0x1f6)][_0x11998c(0x718)]+_0x11998c(0xee));let _0x2b670a;if(_0x98ac5d){let _0x432a14=_0x23cda7[_0x11998c(0x627)]['realVariables'],_0x85df7e=this['flattenObject'](_0x98ac5d);Object[_0x11998c(0xfe)](_0x432a14,_0x85df7e),_0x23cda7[_0x11998c(0x627)]['realVariables']=_0x432a14,_0x2b670a={'error':!0x1,'apiResponse':_0x98ac5d};}let _0x2e5631=await this['NextBlock'](_0x23cda7);return _0x2e5631&&await this[_0x11998c(0x7df)](_0x23cda7,_0x2e5631),{'message':_0x11998c(0x640)};}}catch(_0x2c0412){if(this[_0x11998c(0x3c2)]['error'](this[_0x11998c(0x225)]+'\x20('+this[_0x11998c(0x1f6)][_0x11998c(0x718)]+_0x11998c(0x721)+(_0x2c0412 instanceof Error?_0x2c0412[_0x11998c(0x3d6)]:JSON[_0x11998c(0x265)](_0x2c0412,null,0x2))),_0x3587ef=_0x2c0412 instanceof Error?_0x2c0412[_0x11998c(0x3d6)]:JSON[_0x11998c(0x265)](_0x2c0412,null,0x2),_0x3587ef)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x3587ef);}}async[a0_0x5a0e1e(0x534)](_0x29e96a){const _0x4c0c9d=a0_0x5a0e1e;try{let _0x51a582={'remoteJid':_0x29e96a,'status':'open'},_0x6d042c={'status':_0x4c0c9d(0x3c5)},_0x43999f=await this[_0x4c0c9d(0x7bc)][_0x4c0c9d(0x707)][_0x4c0c9d(0x2b8)](_0x51a582,_0x6d042c,this[_0x4c0c9d(0x1f6)]['wuid']);return this[_0x4c0c9d(0x3c2)][_0x4c0c9d(0x2eb)](this[_0x4c0c9d(0x225)]+'\x20('+this[_0x4c0c9d(0x1f6)][_0x4c0c9d(0x718)]+_0x4c0c9d(0x4fa)),_0x43999f;}catch(_0x4ce7fe){throw this['logger'][_0x4c0c9d(0x685)](this[_0x4c0c9d(0x225)]+'\x20('+this[_0x4c0c9d(0x1f6)][_0x4c0c9d(0x718)]+_0x4c0c9d(0x54f)+_0x4ce7fe[_0x4c0c9d(0x3d6)]),_0x4ce7fe;}}async[a0_0x5a0e1e(0x169)](_0x30e6a4,_0x5c27ea,_0x1df903){const _0x404089=a0_0x5a0e1e;this['logger'][_0x404089(0x2eb)](this[_0x404089(0x225)]+'\x20('+this['instance'][_0x404089(0x718)]+_0x404089(0x16c)),await this[_0x404089(0x534)](_0x5c27ea);try{let _0x4b2498=require(_0x404089(0x775))[_0x404089(0x450)],_0x4fbae2=Date['now'](),_0x2ef5ef='start',_0x796112={},_0x2d1021={},_0x15634d=this[_0x404089(0x1ec)][_0x404089(0x29d)][_0x404089(0x174)](_0x3ec89e=>_0x3ec89e[_0x404089(0x772)]===_0x30e6a4[_0x404089(0x772)]?.[_0x404089(0x6b5)]()),_0x5245b1=_0x15634d?.[_0x404089(0xa7)]??_0x30e6a4[_0x404089(0xa7)]??0x0,_0x5b0092=_0x15634d?.[_0x404089(0x2df)]??_0x30e6a4[_0x404089(0x2df)]??!0x1,_0xfc551e={'flowId':_0x30e6a4[_0x404089(0x772)],..._0x30e6a4,'chatLog':null},_0x26a1f4=await this['variablesToObject'](_0xfc551e[_0x404089(0x7e3)]),_0x3cc090=await this[_0x404089(0x6a6)](_0x5c27ea),_0x1da55e={..._0x26a1f4,..._0x3cc090,'_remoteJid':_0x5c27ea},_0x371ca9={'lastReceivedMessage':_0x796112,'lastSendMessage':_0x2d1021,'lastBlockId':_0x2ef5ef,'lastCondition':!0x0,'realVariables':_0x1da55e};_0xfc551e['chatLog']=_0x371ca9,_0xfc551e[_0x404089(0x627)]['realVariables']={..._0x1da55e,..._0x1df903},delete _0xfc551e[_0x404089(0x772)],_0xfc551e[_0x404089(0x772)]=new _0x4b2498(),_0xfc551e[_0x404089(0x5d1)]=_0x4fbae2,_0xfc551e['status']='open',_0xfc551e[_0x404089(0x41b)]=_0x5c27ea,_0xfc551e[_0x404089(0xa7)]=_0x5245b1,_0xfc551e[_0x404089(0x2df)]=_0x5b0092,_0xfc551e['_id']=_0x30e6a4[_0x404089(0x772)];let _0x53f886=await this[_0x404089(0x7bc)]['flowConversation'][_0x404089(0xbb)](_0xfc551e[_0x404089(0x772)],_0xfc551e,this[_0x404089(0x1f6)][_0x404089(0x718)]);return this[_0x404089(0x3c2)][_0x404089(0x2eb)](this[_0x404089(0x225)]+'\x20('+this['instance'][_0x404089(0x718)]+_0x404089(0x46b)),_0x53f886?_0xfc551e:null;}catch(_0x4869c5){let _0x3692bc=_0x404089(0x29f),_0x582173=_0x4869c5 instanceof Error?_0x4869c5[_0x404089(0x3d6)]:typeof _0x4869c5==_0x404089(0x698)?JSON[_0x404089(0x265)](_0x4869c5):_0x4869c5,_0x45dec3=_0x3692bc+':\x20'+_0x582173;throw this[_0x404089(0x3c2)][_0x404089(0x685)](this[_0x404089(0x225)]+'\x20('+this[_0x404089(0x1f6)][_0x404089(0x718)]+_0x404089(0x693)+_0x45dec3),new m(_0x45dec3);}}async[a0_0x5a0e1e(0x60c)](_0x494913){const _0x213006=a0_0x5a0e1e;try{this['logger']['verbose'](this[_0x213006(0x225)]+'\x20('+this['instance']['wuid']+_0x213006(0x1d2)),this[_0x213006(0x3c2)]['verbose'](this[_0x213006(0x225)]+'\x20('+this['instance']['wuid']+'):\x20Query\x20params:\x20'+_0x494913);let _0x184ad4={'where':{'_id':_0x494913}};return await this[_0x213006(0x7bc)]['flowConversation'][_0x213006(0x524)](_0x184ad4,this['instance'][_0x213006(0x718)]);}catch(_0x11b0eb){let _0x559e1d=_0x213006(0x23d),_0x21ea1d=_0x11b0eb instanceof Error?_0x11b0eb[_0x213006(0x3d6)]:typeof _0x11b0eb==_0x213006(0x698)?JSON[_0x213006(0x265)](_0x11b0eb):_0x11b0eb,_0x43aad0=_0x559e1d+':\x20'+_0x21ea1d;throw this[_0x213006(0x3c2)][_0x213006(0x685)](this['instanceName']+'\x20('+this[_0x213006(0x1f6)][_0x213006(0x718)]+_0x213006(0x693)+_0x43aad0),new m(_0x43aad0);}}async['fetchConversation'](_0x218b43){const _0x459019=a0_0x5a0e1e;try{return this[_0x459019(0x3c2)][_0x459019(0x2eb)](this[_0x459019(0x225)]+'\x20('+this[_0x459019(0x1f6)][_0x459019(0x718)]+_0x459019(0x4ce)),await this[_0x459019(0x7bc)][_0x459019(0x707)][_0x459019(0x174)](_0x218b43,this[_0x459019(0x1f6)][_0x459019(0x718)]);}catch(_0x122ce2){let _0x344a00='Erro\x20ao\x20buscar\x20conversas',_0xf62cbd=_0x122ce2 instanceof Error?_0x122ce2[_0x459019(0x3d6)]:typeof _0x122ce2=='object'?JSON[_0x459019(0x265)](_0x122ce2):_0x122ce2,_0x576f02=_0x344a00+':\x20'+_0xf62cbd;throw this[_0x459019(0x3c2)][_0x459019(0x685)](this[_0x459019(0x225)]+'\x20('+this[_0x459019(0x1f6)][_0x459019(0x718)]+_0x459019(0x693)+_0x576f02),new m(_0x576f02);}}async[a0_0x5a0e1e(0x3ff)](_0x2c8246){const _0x3b3811=a0_0x5a0e1e;try{return this['logger'][_0x3b3811(0x2eb)](this[_0x3b3811(0x225)]+'\x20('+this['instance'][_0x3b3811(0x718)]+'):\x20Deletando\x20conversa...'),this[_0x3b3811(0x3c2)]['verbose'](this[_0x3b3811(0x225)]+'\x20('+this[_0x3b3811(0x1f6)][_0x3b3811(0x718)]+_0x3b3811(0x2d1)+_0x2c8246),(await this[_0x3b3811(0x7bc)][_0x3b3811(0x707)][_0x3b3811(0x3b2)]({'where':{'_id':_0x2c8246['_id']}},this[_0x3b3811(0x1f6)][_0x3b3811(0x718)]))['deletedCount']===0x0?{'message':_0x3b3811(0x765)}:{'message':_0x3b3811(0x740)};}catch(_0x56be7c){let _0x45a952='Erro\x20ao\x20deletar\x20a\x20conversa',_0x319566=_0x56be7c instanceof Error?_0x56be7c[_0x3b3811(0x3d6)]:typeof _0x56be7c=='object'?JSON['stringify'](_0x56be7c):_0x56be7c,_0x366e0d=_0x45a952+':\x20'+_0x319566;throw this[_0x3b3811(0x3c2)][_0x3b3811(0x685)](this[_0x3b3811(0x225)]+'\x20('+this['instance'][_0x3b3811(0x718)]+_0x3b3811(0x693)+_0x366e0d),new m(_0x366e0d);}}async[a0_0x5a0e1e(0x575)](_0x496aad){const _0x414c32=a0_0x5a0e1e;try{let {_id:_0x1219e7,chatLog:_0x4f2a1e,status:_0x4faee7}=_0x496aad;if(!_0x1219e7)return{'message':_0x414c32(0x6d6)};let _0x2d92e3={};if(_0x4faee7!==void 0x0&&(_0x2d92e3['status']=_0x4faee7),Object[_0x414c32(0x401)](_0x2d92e3)[_0x414c32(0x106)]===0x0)return{'message':_0x414c32(0x68f)};let _0x33ef83=await this[_0x414c32(0x7bc)][_0x414c32(0x707)]['updateOne'](_0x1219e7,_0x2d92e3,this[_0x414c32(0x1f6)][_0x414c32(0x718)]);return _0x33ef83||{'message':_0x414c32(0x563)};}catch(_0x558b8e){let _0x167616=_0x414c32(0x749),_0x336f39=_0x558b8e instanceof Error?_0x558b8e[_0x414c32(0x3d6)]:typeof _0x558b8e==_0x414c32(0x698)?JSON['stringify'](_0x558b8e):_0x558b8e,_0x464402=_0x167616+':\x20'+_0x336f39;throw this[_0x414c32(0x3c2)][_0x414c32(0x685)](this['instanceName']+'\x20('+this[_0x414c32(0x1f6)][_0x414c32(0x718)]+_0x414c32(0x693)+_0x464402),new m(_0x464402);}}async[a0_0x5a0e1e(0x289)](_0x339cc4){const _0xa4b990=a0_0x5a0e1e;try{_0x339cc4[_0xa4b990(0x772)]=this[_0xa4b990(0x83a)](_0x339cc4[_0xa4b990(0x772)]);let _0x1161c9=await this[_0xa4b990(0x7bc)][_0xa4b990(0x6d7)][_0xa4b990(0x524)]({'where':{'_id':_0x339cc4[_0xa4b990(0x772)]}},this[_0xa4b990(0x1f6)][_0xa4b990(0x718)]);if(!_0x1161c9)throw new m(_0xa4b990(0x7ad));let {_id:_0x13a504,leadInfo:_0x5ceda7}=_0x339cc4;if(!_0x13a504)throw new Error('O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.');if(_0x339cc4[_0xa4b990(0x5ab)]===_0xa4b990(0x722))return await this[_0xa4b990(0x67b)](_0x339cc4[_0xa4b990(0x772)]),await this[_0xa4b990(0x7bc)][_0xa4b990(0x6d7)][_0xa4b990(0x5ab)]({'where':{'_id':_0x339cc4['_id']}},this[_0xa4b990(0x1f6)][_0xa4b990(0x718)]),await this[_0xa4b990(0x7bc)]['message'][_0xa4b990(0x5ab)]({'where':{'key':{'remoteJid':_0x339cc4[_0xa4b990(0x772)]}}},this[_0xa4b990(0x1f6)][_0xa4b990(0x718)]),_0x339cc4=await this[_0xa4b990(0x7bc)][_0xa4b990(0x6d7)]['updateOne']({'where':{'_id':_0x339cc4[_0xa4b990(0x772)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0xa4b990(0x1f6)][_0xa4b990(0x718)]),F(this[_0xa4b990(0x225)],_0xa4b990(0x522),{'chat':_0x339cc4}),{'message':_0xa4b990(0x663)};if(_0x339cc4[_0xa4b990(0x5ab)]===_0xa4b990(0x45a))return await this['repository'][_0xa4b990(0x3d6)][_0xa4b990(0x5ab)]({'where':{'key':{'remoteJid':_0x339cc4[_0xa4b990(0x772)]}}},this[_0xa4b990(0x1f6)]['wuid']),_0x339cc4=await this[_0xa4b990(0x7bc)][_0xa4b990(0x6d7)]['updateOne']({'where':{'_id':_0x339cc4['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0xa4b990(0x718)]),F(this['instanceName'],_0xa4b990(0x522),{'chat':_0x339cc4}),{'message':_0xa4b990(0x220)};let _0x47c52a=(_0x317054,_0x34b4ff,_0x404f5d)=>{const _0x5f4ae5=_0xa4b990;_0x317054&&_0x404f5d[_0x5f4ae5(0x3a6)](_0x151d6b=>{_0x317054[_0x151d6b]!==void 0x0&&(_0x34b4ff['leadInfo.'+_0x151d6b]=_0x317054[_0x151d6b]);});},_0x33df85={};if('muteEndTime'in _0x339cc4&&(this[_0xa4b990(0x3c2)][_0xa4b990(0x2eb)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xa4b990(0x129)+_0x339cc4['_id']),_0x339cc4[_0xa4b990(0x6c3)]=_0x339cc4[_0xa4b990(0x6c3)]===0x0?null:-0x1,await this[_0xa4b990(0x30c)]['chatModify']({'mute':_0x339cc4[_0xa4b990(0x6c3)]},_0x339cc4[_0xa4b990(0x772)]),_0x33df85['muteEndTime']=Number(_0x339cc4[_0xa4b990(0x6c3)])),_0x5ceda7&&(_0x47c52a(_0x5ceda7,_0x33df85,['nome',_0xa4b990(0x155),_0xa4b990(0x412),_0xa4b990(0x84d),_0xa4b990(0x1cc),_0xa4b990(0x1f7),'tags',_0xa4b990(0x6ff),_0xa4b990(0x811),_0xa4b990(0x125),_0xa4b990(0x130)]),Array['isArray'](_0x5ceda7[_0xa4b990(0x2dd)])&&(_0x33df85[_0xa4b990(0x362)]=_0x5ceda7[_0xa4b990(0x2dd)][_0xa4b990(0x35d)](_0x279021=>({'_id':_0x279021['_id'],'value':_0x279021[_0xa4b990(0xb3)]}))),_0x339cc4[_0xa4b990(0x2af)][_0xa4b990(0x125)]!==void 0x0)){let _0x44dead=await this['repository'][_0xa4b990(0x4f9)]['find']({'where':{}},this[_0xa4b990(0x1f6)]['wuid']),_0xf253f0=new Set(_0x339cc4[_0xa4b990(0x2af)]['etiquetas']||[]),_0x590eec=new Set(_0x339cc4['leadInfo']['etiquetas']),_0x2d15d1=new Set(_0x44dead[_0xa4b990(0x35d)](_0x192367=>_0x192367[_0xa4b990(0x772)])),_0xdcf6e4=[..._0x590eec][_0xa4b990(0x736)](_0x1b901d=>!_0xf253f0[_0xa4b990(0x50b)](_0x1b901d)&&_0x2d15d1[_0xa4b990(0x50b)](_0x1b901d)),_0xa25317=[..._0xf253f0][_0xa4b990(0x736)](_0x10a921=>!_0x590eec[_0xa4b990(0x50b)](_0x10a921));if(_0x33df85['leadInfo.etiquetas']=[..._0xf253f0],_0x1161c9&&!_0x1161c9['imported']){for(let _0x4d416c of _0xdcf6e4)await this[_0xa4b990(0x39c)](_0x4d416c,_0x339cc4[_0xa4b990(0x772)]),_0xf253f0[_0xa4b990(0x513)](_0x4d416c);for(let _0x4b0fc9 of _0xa25317)await this[_0xa4b990(0x440)](_0x4b0fc9,_0x339cc4['_id']),_0xf253f0[_0xa4b990(0x5ab)](_0x4b0fc9);}}if(_0x339cc4[_0xa4b990(0x6ba)]!==void 0x0&&(_0x33df85[_0xa4b990(0x6ba)]=Number(_0x339cc4[_0xa4b990(0x6ba)])),Object[_0xa4b990(0x401)](_0x33df85)[_0xa4b990(0x106)]===0x0)throw new Error(_0xa4b990(0x68f));let _0x50d23a=await this[_0xa4b990(0x7bc)][_0xa4b990(0x6d7)][_0xa4b990(0xbb)]({'where':{'_id':_0x339cc4[_0xa4b990(0x772)]}},_0x33df85,this[_0xa4b990(0x1f6)]['wuid']);return _0x50d23a&&F(this[_0xa4b990(0x225)],'chats',{'chat':_0x50d23a}),_0x50d23a?(this[_0xa4b990(0x3c2)][_0xa4b990(0x2eb)](this[_0xa4b990(0x225)]+'\x20('+this[_0xa4b990(0x1f6)][_0xa4b990(0x718)]+_0xa4b990(0x693)+JSON[_0xa4b990(0x265)](_0x50d23a,null,0x2)),_0x50d23a):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x8f543f){let _0x21a3fd=_0xa4b990(0x76b),_0x44694d=_0x8f543f instanceof Error?_0x8f543f['message']:typeof _0x8f543f==_0xa4b990(0x698)?JSON[_0xa4b990(0x265)](_0x8f543f):_0x8f543f,_0x2ff239=_0x21a3fd+':\x20'+_0x44694d;throw this[_0xa4b990(0x3c2)][_0xa4b990(0x685)](this[_0xa4b990(0x225)]+'\x20('+this[_0xa4b990(0x1f6)][_0xa4b990(0x718)]+_0xa4b990(0x693)+_0x2ff239),new m(_0x2ff239);}}async['AddChatLabel'](_0x6e4824,_0x31afd0){const _0x5b374b=a0_0x5a0e1e;try{await this[_0x5b374b(0x30c)][_0x5b374b(0x27a)](_0x31afd0,_0x6e4824),this[_0x5b374b(0x3c2)][_0x5b374b(0x531)](this[_0x5b374b(0x225)]+'\x20('+this[_0x5b374b(0x1f6)][_0x5b374b(0x718)]+'):\x20Label\x20'+_0x6e4824+_0x5b374b(0x5ee)+_0x31afd0+_0x5b374b(0x14a));}catch(_0x35af2a){this[_0x5b374b(0x3c2)][_0x5b374b(0x685)]('Erro\x20ao\x20adicionar\x20label\x20'+_0x6e4824+_0x5b374b(0x7f4)+_0x31afd0+':\x20'+_0x35af2a);}}async[a0_0x5a0e1e(0x440)](_0x5732f8,_0x39b989){const _0x17396b=a0_0x5a0e1e;try{await this[_0x17396b(0x30c)][_0x17396b(0x3e1)](_0x39b989,_0x5732f8),this[_0x17396b(0x3c2)]['info'](this[_0x17396b(0x225)]+'\x20('+this[_0x17396b(0x1f6)][_0x17396b(0x718)]+_0x17396b(0x341)+_0x5732f8+_0x17396b(0x70b)+_0x39b989+_0x17396b(0x14a));}catch(_0x27d606){this[_0x17396b(0x3c2)][_0x17396b(0x685)](_0x17396b(0x4df)+_0x5732f8+'\x20do\x20chat\x20'+_0x39b989+':\x20'+_0x27d606);}}async[a0_0x5a0e1e(0x5a5)](_0x4d95a0){const _0x3014c3=a0_0x5a0e1e;try{let _0x54c917=await this['repository']['automateSystem'][_0x3014c3(0x752)](this[_0x3014c3(0x1f6)][_0x3014c3(0x718)]),_0x3a0487=_0x4d95a0[_0x3014c3(0x772)]?_0x54c917[_0x3014c3(0x81e)][_0x3014c3(0x688)](_0x5160cf=>_0x5160cf[_0x3014c3(0x772)]===_0x4d95a0['_id']):-0x1;if(_0x4d95a0[_0x3014c3(0x5ab)]&&_0x3a0487>-0x1)_0x54c917[_0x3014c3(0x81e)][_0x3014c3(0x53c)](_0x3a0487,0x1);else{if(_0x3a0487>-0x1){let _0x2d563a=_0x54c917[_0x3014c3(0x81e)][_0x3a0487];_0x4d95a0[_0x3014c3(0x5ef)]&&(_0x2d563a[_0x3014c3(0x5ef)]=_0x4d95a0[_0x3014c3(0x5ef)]),_0x4d95a0[_0x3014c3(0x7e8)]&&(_0x2d563a['name']=_0x4d95a0['name']),_0x4d95a0[_0x3014c3(0x412)]&&(_0x2d563a[_0x3014c3(0x412)]=_0x4d95a0['email']),_0x4d95a0[_0x3014c3(0x5f3)]&&(_0x2d563a[_0x3014c3(0x5f3)]=_0x4d95a0[_0x3014c3(0x5f3)]);}else _0x54c917['agents'][_0x3014c3(0x212)]({'_id':_0x4d95a0[_0x3014c3(0x772)]||new pe[(_0x3014c3(0x77c))][(_0x3014c3(0x671))][(_0x3014c3(0x450))]()[_0x3014c3(0x6b5)](),'fone':_0x4d95a0[_0x3014c3(0x5ef)],'name':_0x4d95a0['name'],'email':_0x4d95a0[_0x3014c3(0x412)],'role':_0x4d95a0[_0x3014c3(0x5f3)]});}let _0x33f5b9={'agents':_0x54c917[_0x3014c3(0x81e)]},_0x2e9e1d=await this[_0x3014c3(0x7bc)][_0x3014c3(0x825)][_0x3014c3(0x15d)](_0x33f5b9,this[_0x3014c3(0x1f6)][_0x3014c3(0x718)]);return this[_0x3014c3(0x1ec)]=_0x2e9e1d,this[_0x3014c3(0x3c2)][_0x3014c3(0x2eb)](this[_0x3014c3(0x225)]+'\x20('+this[_0x3014c3(0x1f6)][_0x3014c3(0x718)]+_0x3014c3(0x2ee)),this[_0x3014c3(0x3c2)][_0x3014c3(0x2eb)](this[_0x3014c3(0x225)]+'\x20('+this['instance'][_0x3014c3(0x718)]+_0x3014c3(0x693)+this[_0x3014c3(0x1ec)]),_0x2e9e1d;}catch(_0x431f08){let _0x594ee2=_0x3014c3(0x773),_0x46c752=_0x431f08 instanceof Error?_0x431f08['message']:typeof _0x431f08==_0x3014c3(0x698)?JSON[_0x3014c3(0x265)](_0x431f08):_0x431f08,_0x2da7c9=_0x594ee2+':\x20'+_0x46c752;throw this['logger'][_0x3014c3(0x685)](this['instanceName']+'\x20('+this[_0x3014c3(0x1f6)][_0x3014c3(0x718)]+'):\x20'+_0x2da7c9),new m(_0x2da7c9);}}async[a0_0x5a0e1e(0xce)](_0x551f87){const _0x6b5c7=a0_0x5a0e1e;try{let _0x3939c0=await this[_0x6b5c7(0x7bc)][_0x6b5c7(0x825)][_0x6b5c7(0x752)](this[_0x6b5c7(0x1f6)]['wuid']),_0x1cd5c9=_0x551f87[_0x6b5c7(0x772)]?_0x3939c0[_0x6b5c7(0x2dd)]['findIndex'](_0x20be85=>_0x20be85[_0x6b5c7(0x772)]===_0x551f87[_0x6b5c7(0x772)]):-0x1,_0x3589ae=!0x1,_0x1efd15=_0x3939c0[_0x6b5c7(0x2dd)][_0x6b5c7(0x112)](_0x2b4015=>_0x2b4015[_0x6b5c7(0x73e)]===_0x551f87[_0x6b5c7(0x73e)]);if(_0x551f87[_0x6b5c7(0x5ab)]&&_0x1cd5c9>-0x1)_0x3939c0[_0x6b5c7(0x2dd)][_0x6b5c7(0x53c)](_0x1cd5c9,0x1),_0x3589ae=!0x0;else{if(_0x1cd5c9>-0x1){if(_0x3939c0[_0x6b5c7(0x2dd)][_0x6b5c7(0x112)](_0xa8ca2e=>_0xa8ca2e[_0x6b5c7(0x7e8)]===_0x551f87[_0x6b5c7(0x7e8)]&&_0xa8ca2e[_0x6b5c7(0x772)]!==_0x551f87['_id']))throw new Error(_0x6b5c7(0x451));let _0x162ac5=_0x3939c0['customFields'][_0x1cd5c9];_0x551f87['order']&&(_0x1efd15||!Number[_0x6b5c7(0x573)](_0x551f87[_0x6b5c7(0x73e)]))&&(_0x162ac5[_0x6b5c7(0x73e)]=_0x551f87[_0x6b5c7(0x73e)],_0x3589ae=!0x0),_0x551f87[_0x6b5c7(0x7e8)]&&(_0x162ac5['name']=_0x551f87[_0x6b5c7(0x7e8)]);}else{if(_0x3939c0[_0x6b5c7(0x2dd)][_0x6b5c7(0x112)](_0x1a2a46=>_0x1a2a46[_0x6b5c7(0x7e8)]===_0x551f87['name']&&_0x1a2a46['_id']!==_0x551f87['_id']))throw new Error(_0x6b5c7(0x451));_0x3939c0[_0x6b5c7(0x2dd)][_0x6b5c7(0x212)]({'_id':_0x551f87[_0x6b5c7(0x772)]||new pe[(_0x6b5c7(0x77c))][(_0x6b5c7(0x671))][(_0x6b5c7(0x450))]()[_0x6b5c7(0x6b5)](),'order':_0x551f87[_0x6b5c7(0x73e)],'name':_0x551f87[_0x6b5c7(0x7e8)]}),_0x3589ae=!0x0;}}if(_0x3589ae){_0x3939c0[_0x6b5c7(0x2dd)][_0x6b5c7(0x4a0)]((_0x2eddea,_0x4eecdb)=>_0x2eddea[_0x6b5c7(0x73e)]>_0x4eecdb[_0x6b5c7(0x73e)]?0x1:_0x4eecdb[_0x6b5c7(0x73e)]>_0x2eddea[_0x6b5c7(0x73e)]?-0x1:0x0);for(let _0x4e2524=0x0;_0x4e2524<_0x3939c0[_0x6b5c7(0x2dd)][_0x6b5c7(0x106)];_0x4e2524++)_0x3939c0['customFields'][_0x4e2524][_0x6b5c7(0x73e)]=_0x4e2524+0x1;}let _0x53e429=await this[_0x6b5c7(0x7bc)][_0x6b5c7(0x825)][_0x6b5c7(0x15d)](_0x3939c0,this[_0x6b5c7(0x1f6)]['wuid']);return this[_0x6b5c7(0x1ec)]=_0x53e429,this[_0x6b5c7(0x3c2)]['verbose'](this[_0x6b5c7(0x225)]+'\x20('+this[_0x6b5c7(0x1f6)][_0x6b5c7(0x718)]+_0x6b5c7(0x503)),this[_0x6b5c7(0x3c2)][_0x6b5c7(0x2eb)](this[_0x6b5c7(0x225)]+'\x20('+this[_0x6b5c7(0x1f6)][_0x6b5c7(0x718)]+'):\x20'+this['AutomateSystem']),_0x53e429;}catch(_0x20ab77){let _0x334c1c=_0x6b5c7(0x167),_0x4c2632=_0x20ab77 instanceof Error?_0x20ab77['message']:typeof _0x20ab77==_0x6b5c7(0x698)?JSON[_0x6b5c7(0x265)](_0x20ab77):_0x20ab77,_0x53426f=_0x334c1c+':\x20'+_0x4c2632;throw this[_0x6b5c7(0x3c2)]['error'](this[_0x6b5c7(0x225)]+'\x20('+this[_0x6b5c7(0x1f6)][_0x6b5c7(0x718)]+_0x6b5c7(0x693)+_0x53426f),new m(_0x53426f);}}async[a0_0x5a0e1e(0xf3)](_0x443337){const _0x1aed57=a0_0x5a0e1e;try{let _0x50d40b=await this[_0x1aed57(0x7bc)][_0x1aed57(0x825)][_0x1aed57(0x752)](this[_0x1aed57(0x1f6)][_0x1aed57(0x718)]),_0x30c9dc=_0x50d40b?.[_0x1aed57(0xc7)]?.[_0x1aed57(0x688)](_0x5c7e72=>_0x5c7e72['_id']===_0x443337?.[_0x1aed57(0x772)]);if(_0x443337?.[_0x1aed57(0x5ab)])_0x30c9dc>-0x1&&_0x50d40b?.[_0x1aed57(0xc7)]?.[_0x1aed57(0x53c)](_0x30c9dc,0x1);else{if(_0x30c9dc>-0x1){let _0x53d722=_0x50d40b[_0x1aed57(0xc7)][_0x30c9dc];_0x53d722[_0x1aed57(0x73e)]=_0x443337?.[_0x1aed57(0x73e)]||_0x53d722[_0x1aed57(0x73e)],_0x53d722['command']=_0x443337?.['command']||_0x53d722[_0x1aed57(0x2e5)],_0x53d722[_0x1aed57(0x3d6)]=_0x443337?.['message']||_0x53d722['message'];}else{let _0xb19837={'_id':_0x443337?.[_0x1aed57(0x772)]||new pe[(_0x1aed57(0x77c))][(_0x1aed57(0x671))][(_0x1aed57(0x450))]()['toString'](),'order':_0x443337?.[_0x1aed57(0x73e)],'command':_0x443337?.['command'],'message':_0x443337?.['message']};_0x50d40b?.['autoCompleteMessages']?.[_0x1aed57(0x212)](_0xb19837);}}_0x50d40b?.[_0x1aed57(0xc7)]?.[_0x1aed57(0x4a0)]((_0x2b2cd0,_0x5a2866)=>_0x2b2cd0[_0x1aed57(0x73e)]-_0x5a2866['order']);let _0x3d34d5=await this['repository']['automateSystem']['update'](_0x50d40b,this['instance'][_0x1aed57(0x718)]);return this['AutomateSystem']=_0x3d34d5,this[_0x1aed57(0x3c2)][_0x1aed57(0x2eb)](this['instanceName']+'\x20('+this[_0x1aed57(0x1f6)]['wuid']+'):\x20debug\x20alterando\x20this.AutomateSystem'),_0x3d34d5;}catch(_0xe46161){let _0x3dade5=_0x1aed57(0x6e9),_0x4fea6a=_0xe46161 instanceof Error?_0xe46161[_0x1aed57(0x3d6)]:typeof _0xe46161==_0x1aed57(0x698)?JSON[_0x1aed57(0x265)](_0xe46161):_0xe46161,_0x5b62e2=_0x3dade5+':\x20'+_0x4fea6a;throw this[_0x1aed57(0x3c2)]['error'](this[_0x1aed57(0x225)]+'\x20('+this[_0x1aed57(0x1f6)][_0x1aed57(0x718)]+_0x1aed57(0x693)+_0x5b62e2),new m(_0x5b62e2);}}async[a0_0x5a0e1e(0x704)](_0x329f08){const _0x39346d=a0_0x5a0e1e;try{let _0x23e881=await this[_0x39346d(0x7bc)][_0x39346d(0x825)]['findOrCreate'](this[_0x39346d(0x1f6)][_0x39346d(0x718)]);if(!_0x23e881)throw new Error(_0x39346d(0x755));let _0x5e6e1e={'_id':_0x23e881[_0x39346d(0x772)],'flowConfig':{'enabled':_0x329f08['enabled']??_0x23e881['flowConfig'][_0x39346d(0x47e)],'ignoreGroups':_0x329f08[_0x39346d(0x159)]??_0x23e881[_0x39346d(0x115)]['ignoreGroups'],'stopConversation':_0x329f08[_0x39346d(0x142)]['trim']()??_0x23e881['flowConfig']['stopConversation'][_0x39346d(0x846)](),'stopMinutes':_0x329f08[_0x39346d(0x1ca)]??_0x23e881['flowConfig'][_0x39346d(0x1ca)],'stopWhenYouSendMsg':_0x329f08[_0x39346d(0x5bf)]??_0x23e881[_0x39346d(0x115)]['stopWhenYouSendMsg']}},_0x1e3cd2=await this['repository']['automateSystem'][_0x39346d(0x15d)](_0x5e6e1e,this[_0x39346d(0x1f6)]['wuid']);return this[_0x39346d(0x1ec)]=_0x1e3cd2,this[_0x39346d(0x3c2)][_0x39346d(0x2eb)](this[_0x39346d(0x225)]+'\x20('+this[_0x39346d(0x1f6)]['wuid']+_0x39346d(0x2ee)),this[_0x39346d(0x3c2)][_0x39346d(0x2eb)](this[_0x39346d(0x225)]+'\x20('+this[_0x39346d(0x1f6)]['wuid']+'):\x20'+this['AutomateSystem']),setTimeout(()=>this[_0x39346d(0x60d)](),0x7d0),_0x1e3cd2;}catch(_0x4f2a8f){let _0x483169=_0x39346d(0x194),_0x4b6dac=_0x4f2a8f instanceof Error?_0x4f2a8f[_0x39346d(0x3d6)]:typeof _0x4f2a8f==_0x39346d(0x698)?JSON['stringify'](_0x4f2a8f):_0x4f2a8f,_0xd130ed=_0x483169+':\x20'+_0x4b6dac;throw this[_0x39346d(0x3c2)][_0x39346d(0x685)](this['instanceName']+'\x20('+this[_0x39346d(0x1f6)]['wuid']+_0x39346d(0x693)+_0xd130ed),new m(_0xd130ed);}}async[a0_0x5a0e1e(0x7d4)](){const _0x332b61=a0_0x5a0e1e;try{let _0x59bc31=await this[_0x332b61(0x7bc)][_0x332b61(0x825)][_0x332b61(0x752)](this[_0x332b61(0x1f6)][_0x332b61(0x718)]);return this[_0x332b61(0x1ec)]=_0x59bc31,_0x59bc31;}catch(_0x33850b){let _0x2ccf2b='Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem',_0x3cfa80=_0x33850b instanceof Error?_0x33850b['message']:typeof _0x33850b==_0x332b61(0x698)?JSON[_0x332b61(0x265)](_0x33850b):_0x33850b,_0x171a94=_0x2ccf2b+':\x20'+_0x3cfa80;throw this['logger'][_0x332b61(0x685)](this[_0x332b61(0x225)]+'\x20('+this[_0x332b61(0x1f6)]['wuid']+_0x332b61(0x693)+_0x171a94),new m(_0x171a94);}}async[a0_0x5a0e1e(0x75b)](){const _0x1fec94=a0_0x5a0e1e;let _0x29013d=(await import(_0x1fec94(0x492)))['default'];this[_0x1fec94(0x31e)]=new _0x29013d({'concurrency':0x1});}async[a0_0x5a0e1e(0x84e)](){const _0x2bf8fd=a0_0x5a0e1e;this[_0x2bf8fd(0x1f6)][_0x2bf8fd(0x5a6)][_0x2bf8fd(0x57d)]&&clearTimeout(this[_0x2bf8fd(0x1f6)][_0x2bf8fd(0x5a6)][_0x2bf8fd(0x57d)]),this[_0x2bf8fd(0x1f6)][_0x2bf8fd(0x5a6)][_0x2bf8fd(0x57d)]=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async['checkAndRestartProcess'](){const _0x1b962c=a0_0x5a0e1e;let _0x4438a8=this[_0x1b962c(0x1f6)]['ScheduleMessage'][_0x1b962c(0x3a0)];(_0x4438a8===0x0||_0x4438a8===null||Date['now']()-_0x4438a8>=0x1d4c0)&&(this[_0x1b962c(0x3c2)][_0x1b962c(0x2eb)](this[_0x1b962c(0x225)]+'\x20('+this[_0x1b962c(0x1f6)][_0x1b962c(0x718)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x1b962c(0x1f6)][_0x1b962c(0x5a6)][_0x1b962c(0x523)]=null,this['instance'][_0x1b962c(0x5a6)]['lastSend']=0x0,this[_0x1b962c(0x1f6)][_0x1b962c(0x5a6)][_0x1b962c(0x478)]=0x0,await this[_0x1b962c(0x60d)]());}async[a0_0x5a0e1e(0x60d)](){const _0x3a2b15=a0_0x5a0e1e;this[_0x3a2b15(0x3c2)][_0x3a2b15(0x16e)](this['instanceName']+'\x20('+this[_0x3a2b15(0x1f6)]['wuid']+'):\x20Procurando\x20mensagens\x20para\x20envio'),await this[_0x3a2b15(0x11e)]();let _0x2a3189=await this['getReadyToSendMessages']();_0x2a3189[_0x3a2b15(0x106)]>0x0&&(setTimeout(()=>this[_0x3a2b15(0x532)](),0x14*0x3e8),this[_0x3a2b15(0x3c2)][_0x3a2b15(0x16e)](this[_0x3a2b15(0x225)]+'\x20('+this[_0x3a2b15(0x1f6)][_0x3a2b15(0x718)]+_0x3a2b15(0x67c)),this[_0x3a2b15(0x31e)][_0x3a2b15(0x44f)](),this[_0x3a2b15(0x31e)][_0x3a2b15(0x513)](()=>this[_0x3a2b15(0x3ef)](_0x2a3189)));let _0x5b125b={'where':{'status':_0x3a2b15(0x540),'when':{'$gt':Date[_0x3a2b15(0x616)]()}}},_0x2a73a8=await this[_0x3a2b15(0x7bc)]['scheduleMessage'][_0x3a2b15(0x524)](_0x5b125b,this['instance'][_0x3a2b15(0x718)]);_0x2a73a8&&_0x2a73a8[_0x3a2b15(0x1fe)]-Date[_0x3a2b15(0x616)]()<=0x6ddd00?this['instance'][_0x3a2b15(0x5a6)][_0x3a2b15(0x478)]=_0x2a73a8[_0x3a2b15(0x1fe)]-Date[_0x3a2b15(0x616)]():this[_0x3a2b15(0x1f6)][_0x3a2b15(0x5a6)]['delayMessage']=(0x3c+Math['floor'](Math[_0x3a2b15(0x4c1)]()*0x3c))*0x3c*0x3e8,this[_0x3a2b15(0x1f6)][_0x3a2b15(0x5a6)][_0x3a2b15(0x478)]=Math[_0x3a2b15(0x770)](this['instance'][_0x3a2b15(0x5a6)][_0x3a2b15(0x478)],0x1*0x2*0x3e8);let _0x5e2db8=Math[_0x3a2b15(0x7ea)](this['instance'][_0x3a2b15(0x5a6)][_0x3a2b15(0x478)]/0xea60);if(_0x2a73a8){let _0x10e605=new Date(_0x2a73a8[_0x3a2b15(0x1fe)])['toLocaleString']();this[_0x3a2b15(0x3c2)]['warn'](this[_0x3a2b15(0x225)]+'\x20('+this['instance'][_0x3a2b15(0x718)]+_0x3a2b15(0x12a)+_0x10e605+',\x20fará\x20nova\x20verificação\x20em\x20'+_0x5e2db8+'\x20minutos');}else this['logger'][_0x3a2b15(0x16e)](this[_0x3a2b15(0x225)]+'\x20('+this[_0x3a2b15(0x1f6)]['wuid']+_0x3a2b15(0x72d)+_0x5e2db8+_0x3a2b15(0x33f));setTimeout(()=>{const _0x4c5c51=_0x3a2b15;this[_0x4c5c51(0x60d)]();},this['instance']['ScheduleMessage'][_0x3a2b15(0x478)]);}async[a0_0x5a0e1e(0x12f)](){const _0x329d73=a0_0x5a0e1e;this[_0x329d73(0x3c2)][_0x329d73(0x16e)](this[_0x329d73(0x225)]+'\x20('+this[_0x329d73(0x1f6)][_0x329d73(0x718)]+'):\x20Procurando\x20PRONTAS\x20mensagens\x20para\x20envio');let _0x42e36d=Date[_0x329d73(0x616)]()-0xc*0x3c*0x3c*0x3e8,_0x7f0d13={'where':{'status':{'$in':[_0x329d73(0x540),_0x329d73(0x54d)]},'$or':[{'when':{'$lte':Date[_0x329d73(0x616)](),'$gte':_0x42e36d}},{'when':0x0}]}},_0x2cda7f=await this['repository'][_0x329d73(0x4a4)][_0x329d73(0x174)](_0x7f0d13,this[_0x329d73(0x1f6)]['wuid']);return this[_0x329d73(0x3c2)][_0x329d73(0x16e)](this[_0x329d73(0x225)]+'\x20('+this['instance']['wuid']+_0x329d73(0x7f2)+_0x2cda7f[_0x329d73(0x106)]),_0x2cda7f;}async[a0_0x5a0e1e(0x3ef)](_0x14148a){const _0x4e04c6=a0_0x5a0e1e;this[_0x4e04c6(0x3c2)][_0x4e04c6(0x16e)](this[_0x4e04c6(0x225)]+'\x20('+this['instance'][_0x4e04c6(0x718)]+'):\x20Iniciando\x20processReadyMessages');let _0x4d416f=0x3*0x3e8,_0x56c29e=0x8*0x3e8,_0x1c503a=Math[_0x4e04c6(0x706)](Math[_0x4e04c6(0x4c1)]()*(_0x56c29e-_0x4d416f+0x1))+_0x4d416f,_0x1ad8eb=()=>this[_0x4e04c6(0x392)][_0x4e04c6(0x106)]===0x0?null:this[_0x4e04c6(0x392)][_0x4e04c6(0x431)]((_0x2f1df2,_0x48fe12)=>(_0x2f1df2[_0x4e04c6(0x73e)]??Number[_0x4e04c6(0x6c0)])<(_0x48fe12[_0x4e04c6(0x73e)]??Number[_0x4e04c6(0x6c0)])?_0x2f1df2:_0x48fe12,this[_0x4e04c6(0x392)][0x0]);_0x14148a=await this['getReadyToSendMessages']();for(let _0x31d83c of _0x14148a){await this['setRestartTimeout']();let _0x40307e=0x3*0x3e8,_0x4baa65={'_id':_0x31d83c[_0x4e04c6(0x772)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date['now']()-_0x40307e}}]},_0x2ac9ed={'startSend':Date[_0x4e04c6(0x616)](),'status':'sending'},_0x504920=await this['repository'][_0x4e04c6(0x4a4)][_0x4e04c6(0xbb)](_0x4baa65,_0x2ac9ed,this[_0x4e04c6(0x1f6)][_0x4e04c6(0x718)]);if(this[_0x4e04c6(0x392)]=_0x504920['messages']['filter'](_0x59b347=>!_0x59b347[_0x4e04c6(0x2b2)]),!_0x504920){setTimeout(()=>this[_0x4e04c6(0x532)](),0xa*0x3e8);continue;}if(this[_0x4e04c6(0x1f6)][_0x4e04c6(0x5a6)][_0x4e04c6(0x523)]=_0x504920,!this[_0x4e04c6(0x1f6)]['ScheduleMessage']['isConnected']){this[_0x4e04c6(0x3c2)]['warn'](this['instanceName']+'\x20('+this['instance'][_0x4e04c6(0x718)]+_0x4e04c6(0x120));break;}for(;this[_0x4e04c6(0x392)][_0x4e04c6(0x106)]>0x0;){await this['setRestartTimeout']();let _0x2626b4=_0x1ad8eb();if(!_0x2626b4)break;let _0x31e020=_0x31d83c[_0x4e04c6(0x45a)][_0x4e04c6(0x174)](_0x343780=>_0x343780['_id']===_0x2626b4['_id']);if(!_0x31e020)break;if(this[_0x4e04c6(0x1f6)][_0x4e04c6(0x5a6)]['lastSend']=Date[_0x4e04c6(0x616)](),_0x31e020[_0x4e04c6(0x2b2)]){this[_0x4e04c6(0x3c2)][_0x4e04c6(0x16e)](this[_0x4e04c6(0x225)]+'\x20('+this[_0x4e04c6(0x1f6)]['wuid']+_0x4e04c6(0x48e)+_0x31e020[_0x4e04c6(0x41b)]+_0x4e04c6(0x7b4)),this[_0x4e04c6(0x392)]=this[_0x4e04c6(0x392)][_0x4e04c6(0x736)](_0x11a776=>_0x11a776[_0x4e04c6(0x772)]!==_0x31e020['_id']);continue;}if(!this[_0x4e04c6(0x1f6)][_0x4e04c6(0x5a6)]['isConnected']){this['logger'][_0x4e04c6(0x16e)](this['instanceName']+'\x20('+this[_0x4e04c6(0x1f6)][_0x4e04c6(0x718)]+_0x4e04c6(0x3b3));break;}if(!this['instance'][_0x4e04c6(0x5a6)][_0x4e04c6(0x523)]){this['logger'][_0x4e04c6(0x16e)](this[_0x4e04c6(0x225)]+'\x20('+this[_0x4e04c6(0x1f6)][_0x4e04c6(0x718)]+_0x4e04c6(0x830)+_0x31d83c[_0x4e04c6(0x772)]+_0x4e04c6(0x59a));break;}let _0x135a1c={'idControl':_0x31e020[_0x4e04c6(0x772)],'remoteJid':_0x31e020['remoteJid'],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x4e04c6(0x616)]()},_0x4146c0=null;try{this[_0x4e04c6(0x3c2)][_0x4e04c6(0x16e)](this['instanceName']+'\x20('+this[_0x4e04c6(0x1f6)][_0x4e04c6(0x718)]+'):\x20Enviando\x20mensagem\x20para\x20'+_0x31e020['remoteJid']);let _0xdcd49b=await Promise['race']([this[_0x4e04c6(0xe7)](_0x31e020[_0x4e04c6(0x41b)],_0x31e020),this[_0x4e04c6(0xfa)](0x78*0x3e8)]);_0x135a1c[_0x4e04c6(0x685)]=_0xdcd49b['error'],_0x135a1c['id']=_0xdcd49b['error']?null:_0xdcd49b['id'],_0x135a1c[_0x4e04c6(0x39f)]=_0xdcd49b[_0x4e04c6(0x685)]?_0xdcd49b[_0x4e04c6(0x222)]?_0xdcd49b[_0x4e04c6(0x222)][_0x4e04c6(0x6b5)]():'':null;let _0x1c826a=_0x31d83c['messages']['findIndex'](_0x1b70b2=>_0x1b70b2['_id']===_0x31e020[_0x4e04c6(0x772)]);_0x1c826a!==-0x1&&(_0x31d83c[_0x4e04c6(0x45a)][_0x1c826a][_0x4e04c6(0x2b2)]=!0x0);let _0x22ebca={'$push':{'messagesSend':_0x135a1c},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x216a19=[{'elem._id':_0x31e020[_0x4e04c6(0x772)]}];if(this['logger'][_0x4e04c6(0x16e)](this[_0x4e04c6(0x225)]+'\x20('+this[_0x4e04c6(0x1f6)]['wuid']+_0x4e04c6(0xf0)+_0x31e020[_0x4e04c6(0x772)]),_0x4146c0=await this[_0x4e04c6(0x7bc)][_0x4e04c6(0x4a4)][_0x4e04c6(0xbb)]({'_id':_0x31d83c[_0x4e04c6(0x772)]},_0x22ebca,this[_0x4e04c6(0x1f6)][_0x4e04c6(0x718)],{'arrayFilters':_0x216a19}),_0xdcd49b[_0x4e04c6(0x685)]){this[_0x4e04c6(0x3c2)]['error'](this[_0x4e04c6(0x225)]+'\x20('+this['instance'][_0x4e04c6(0x718)]+_0x4e04c6(0x29b)+_0xdcd49b[_0x4e04c6(0x222)]);continue;}let _0x274a58=this['getDelay'](_0x31d83c['delaySecMin'],_0x31d83c[_0x4e04c6(0x547)]);await this['sleep'](_0x274a58);}catch(_0x415b95){this[_0x4e04c6(0x3c2)]['error'](this[_0x4e04c6(0x225)]+'\x20('+this['instance'][_0x4e04c6(0x718)]+_0x4e04c6(0x3a2)+_0x31e020['remoteJid']+':\x20'+(_0x415b95 instanceof Error?_0x415b95[_0x4e04c6(0x3d6)]:JSON[_0x4e04c6(0x265)](_0x415b95,null,0x2))),_0x135a1c[_0x4e04c6(0x685)]=!0x0,_0x135a1c[_0x4e04c6(0x39f)]=_0x415b95['message'];let _0x5d9814=_0x31d83c[_0x4e04c6(0x45a)][_0x4e04c6(0x688)](_0x1a71b6=>_0x1a71b6[_0x4e04c6(0x772)]===_0x31e020[_0x4e04c6(0x772)]);_0x5d9814!==-0x1&&(_0x31d83c[_0x4e04c6(0x45a)][_0x5d9814][_0x4e04c6(0x2b2)]=!0x0);let _0x183c82={'$push':{'messagesSend':_0x135a1c},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x2e2380=[{'elem._id':_0x31e020[_0x4e04c6(0x772)]}];this[_0x4e04c6(0x3c2)][_0x4e04c6(0x16e)](this[_0x4e04c6(0x225)]+'\x20('+this['instance']['wuid']+_0x4e04c6(0x487)+_0x31e020[_0x4e04c6(0x772)]),_0x4146c0=await this['repository'][_0x4e04c6(0x4a4)][_0x4e04c6(0xbb)]({'_id':_0x31d83c['_id']},_0x183c82,this[_0x4e04c6(0x1f6)][_0x4e04c6(0x718)],{'arrayFilters':_0x2e2380});}finally{if(_0x4146c0&&_0x4146c0[_0x4e04c6(0x1cc)]==='stopped'){this[_0x4e04c6(0x3c2)][_0x4e04c6(0x16e)](this[_0x4e04c6(0x225)]+'\x20('+this[_0x4e04c6(0x1f6)][_0x4e04c6(0x718)]+_0x4e04c6(0x830)+_0x31e020[_0x4e04c6(0x772)]+_0x4e04c6(0x1eb));break;}let _0x5a0bf7=_0x4146c0[_0x4e04c6(0x45a)][_0x4e04c6(0x174)](_0x3a2020=>_0x3a2020[_0x4e04c6(0x772)]===_0x31e020[_0x4e04c6(0x772)]);if(_0x5a0bf7&&!_0x5a0bf7[_0x4e04c6(0x2b2)]){let _0x5bfea3={'$set':{'messages.$[elem].triedToSend':!0x0}},_0xa583fb=[{'elem._id':_0x31e020[_0x4e04c6(0x772)]}];await this['repository'][_0x4e04c6(0x4a4)][_0x4e04c6(0xbb)]({'_id':_0x4146c0[_0x4e04c6(0x772)]},_0x5bfea3,this[_0x4e04c6(0x1f6)]['wuid'],{'arrayFilters':_0xa583fb});}if(this[_0x4e04c6(0x392)]=_0x4146c0[_0x4e04c6(0x45a)][_0x4e04c6(0x736)](_0x182309=>!_0x182309[_0x4e04c6(0x2b2)]),!this[_0x4e04c6(0x1f6)]['ScheduleMessage'][_0x4e04c6(0x523)]){await this[_0x4e04c6(0x84e)](),this[_0x4e04c6(0x3c2)]['warn'](this[_0x4e04c6(0x225)]+'\x20('+this[_0x4e04c6(0x1f6)][_0x4e04c6(0x718)]+_0x4e04c6(0x830)+_0x31d83c['_id']+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}}}this[_0x4e04c6(0x392)]=[];let _0x56a53f=await this[_0x4e04c6(0x7bc)]['scheduleMessage'][_0x4e04c6(0x5a8)](_0x31d83c['_id'],this['instance'][_0x4e04c6(0x718)]);if(_0x56a53f[_0x4e04c6(0x45a)][_0x4e04c6(0x715)](_0x4f2f16=>_0x4f2f16[_0x4e04c6(0x2b2)])&&_0x56a53f[_0x4e04c6(0x1cc)]!==_0x4e04c6(0x712)){let _0x2da9d1={'$set':{'status':_0x4e04c6(0x6ae)}};await this[_0x4e04c6(0x7bc)][_0x4e04c6(0x4a4)][_0x4e04c6(0x429)](_0x56a53f[_0x4e04c6(0x772)],_0x2da9d1,this[_0x4e04c6(0x1f6)][_0x4e04c6(0x718)]);}await new Promise(_0x15a0d7=>setTimeout(_0x15a0d7,_0x1c503a)),global['gc']?global['gc']():console['warn'](_0x4e04c6(0x326));}}[a0_0x5a0e1e(0xfa)](_0x1800af){const _0x30ba3d=a0_0x5a0e1e;return new Promise((_0x1da709,_0x49d199)=>setTimeout(()=>_0x49d199(new Error(_0x30ba3d(0xdb))),_0x1800af));}[a0_0x5a0e1e(0x5df)](_0x4f18cb,_0x43e5ef){const _0x132d1d=a0_0x5a0e1e;return _0x4f18cb=Math[_0x132d1d(0x770)](0.5,_0x4f18cb),_0x43e5ef=Math['min'](Math[_0x132d1d(0x770)](0x3,_0x43e5ef),0x78),Math[_0x132d1d(0x706)](Math[_0x132d1d(0x4c1)]()*(_0x43e5ef-_0x4f18cb+0x1)+_0x4f18cb)*0x3e8;}[a0_0x5a0e1e(0x387)](_0x5bed69){return new Promise(_0x390293=>setTimeout(_0x390293,_0x5bed69));}async[a0_0x5a0e1e(0x6a6)](_0x1da309){const _0xfcdb79=a0_0x5a0e1e;if(!this[_0xfcdb79(0x1ec)]&&(await this[_0xfcdb79(0x7d4)](),!this[_0xfcdb79(0x1ec)]))return null;_0x1da309=this[_0xfcdb79(0x83a)](_0x1da309);let _0x4d9b6e=await this[_0xfcdb79(0x7bc)]['chat']['findOne']({'where':{'_id':_0x1da309}},this[_0xfcdb79(0x1f6)][_0xfcdb79(0x718)]),_0x5ae268={};if(_0x4d9b6e&&_0x4d9b6e[_0xfcdb79(0x2af)]){let _0x5a49b0=_0x4d9b6e['leadInfo'];typeof _0x5a49b0[_0xfcdb79(0x576)]==_0xfcdb79(0x539)&&(_0x5ae268[_0xfcdb79(0x576)]=_0x5a49b0['nome']),typeof _0x5a49b0[_0xfcdb79(0x155)]==_0xfcdb79(0x539)&&(_0x5ae268[_0xfcdb79(0x155)]=_0x5a49b0[_0xfcdb79(0x155)]),typeof _0x5a49b0[_0xfcdb79(0x412)]==_0xfcdb79(0x539)&&(_0x5ae268[_0xfcdb79(0x412)]=_0x5a49b0[_0xfcdb79(0x412)]),typeof _0x5a49b0[_0xfcdb79(0x84d)]==_0xfcdb79(0x539)&&(_0x5ae268[_0xfcdb79(0x84d)]=_0x5a49b0['cpf']),typeof _0x5a49b0['status']=='string'&&(_0x5ae268[_0xfcdb79(0x1cc)]=_0x5a49b0[_0xfcdb79(0x1cc)]),typeof _0x5a49b0[_0xfcdb79(0x1f7)]=='string'&&(_0x5ae268['notas']=_0x5a49b0[_0xfcdb79(0x1f7)]),typeof _0x5a49b0[_0xfcdb79(0x811)]==_0xfcdb79(0x539)&&(_0x5ae268['responsavelid']=_0x5a49b0['responsavelid']),Array['isArray'](_0x5a49b0['tags'])&&(_0x5ae268[_0xfcdb79(0x5de)]=_0x5a49b0[_0xfcdb79(0x5de)]['join'](',\x20')),Array[_0xfcdb79(0x1ed)](_0x5a49b0['etiquetas'])&&(_0x5ae268[_0xfcdb79(0x125)]=_0x5a49b0[_0xfcdb79(0x125)][_0xfcdb79(0x33d)](',\x20'));}return _0x4d9b6e&&_0x4d9b6e[_0xfcdb79(0x2af)]&&_0x4d9b6e['leadInfo'][_0xfcdb79(0x2dd)]&&_0x4d9b6e[_0xfcdb79(0x2af)][_0xfcdb79(0x2dd)]['forEach'](_0x3a1eea=>{const _0x19c768=_0xfcdb79;let _0x49cda0=this['AutomateSystem']?.[_0x19c768(0x2dd)][_0x19c768(0x174)](_0x4ed4df=>_0x4ed4df[_0x19c768(0x772)]===_0x3a1eea[_0x19c768(0x772)]);_0x49cda0&&(_0x5ae268[_0x49cda0[_0x19c768(0x7e8)]]=_0x3a1eea[_0x19c768(0xb3)]);}),_0x5ae268;}async['replaceVariablesChat'](_0x135722,_0x360618){const _0x23dbec=a0_0x5a0e1e;try{let _0x127dc6=await this[_0x23dbec(0x6a6)](_0x360618);return this[_0x23dbec(0x40f)](_0x135722,_0x127dc6);}catch(_0x316abc){return this[_0x23dbec(0x3c2)][_0x23dbec(0x685)]('Erro\x20ao\x20substituir\x20variáveis\x20para\x20'+_0x360618+':\x20'+_0x316abc),_0x135722;}}async[a0_0x5a0e1e(0x11e)](){const _0x14a07b=a0_0x5a0e1e;let _0x4ff115=async(_0x2a998c,_0x5177b3)=>{const _0x3a1baa=a0_0xc548;let _0xf7fa18=(await this[_0x3a1baa(0x7bc)]['scheduleMessage'][_0x3a1baa(0x174)]({'where':{'type':_0x2a998c}},this[_0x3a1baa(0x1f6)][_0x3a1baa(0x718)]))[_0x3a1baa(0x35d)](async _0x24f07a=>{const _0x3c470c=_0x3a1baa;let _0x5c66da=_0x5177b3(_0x24f07a),_0x2aff18=_0x117ed8=>/^\d+$/[_0x3c470c(0x733)](_0x117ed8),_0x1e6bbc=_0x24f07a[_0x3c470c(0xb8)][_0x3c470c(0x736)](_0x1fac91=>_0x1fac91[_0x3c470c(0x555)](_0x3c470c(0x6b4))?_0x1fac91['length']>0x19:_0x1fac91['endsWith']('@g.us')?_0x1fac91[_0x3c470c(0x106)]>0xf:_0x2aff18(_0x1fac91)?_0x1fac91[_0x3c470c(0x106)]>=0xb:!0x1)[_0x3c470c(0x35d)](_0x28dd90=>({'_id':(0x0,Q['v4'])(),'idSchedule':_0x24f07a['_id'],'type':_0x5c66da,'remoteJid':_0x28dd90,'flow':_0x24f07a[_0x3c470c(0x345)],'text':_0x24f07a[_0x3c470c(0x3d6)]?.[_0x3c470c(0x80e)],'delay':_0x24f07a[_0x3c470c(0x3d6)]?.[_0x3c470c(0x1f4)],'urlOrBase64':_0x24f07a[_0x3c470c(0x3d6)]?.[_0x3c470c(0x519)],'linkPreview':_0x24f07a[_0x3c470c(0x3d6)]?.[_0x3c470c(0x632)],'fileName':_0x24f07a[_0x3c470c(0x3d6)]?.[_0x3c470c(0x72a)],'triedToSend':!0x1,'messagesSend':[]}));try{await this['repository'][_0x3c470c(0x4a4)]['updateOneById'](_0x24f07a['_id'],{'$set':{'messages':_0x1e6bbc},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x3c470c(0x1f6)][_0x3c470c(0x718)]);}catch(_0x5da829){console[_0x3c470c(0x685)](_0x3c470c(0x476)+_0x24f07a[_0x3c470c(0x772)]+':',_0x5da829);}});await Promise[_0x3a1baa(0x722)](_0xf7fa18);};await _0x4ff115(_0x14a07b(0x80e),_0x22629c=>_0x14a07b(0x80e)),await _0x4ff115('media',_0x29e969=>_0x29e969['message']?.['mediatype']||_0x14a07b(0x445)),await _0x4ff115(_0x14a07b(0x557),_0xa70369=>'audio'),await _0x4ff115(_0x14a07b(0x7c6),_0x2cf304=>_0x14a07b(0x7c6)),await _0x4ff115(_0x14a07b(0x39b),_0x18d748=>'image'),await _0x4ff115(_0x14a07b(0x6aa),_0x50095e=>'video'),await _0x4ff115(_0x14a07b(0x842),_0x53a9cd=>_0x14a07b(0x842)),this[_0x14a07b(0x3c2)][_0x14a07b(0x16e)](this[_0x14a07b(0x225)]+'\x20('+this[_0x14a07b(0x1f6)][_0x14a07b(0x718)]+_0x14a07b(0x1af));}async[a0_0x5a0e1e(0x582)](_0x242f91){const _0x340a65=a0_0x5a0e1e;try{if(this[_0x340a65(0x3c2)][_0x340a65(0x16e)](this['instanceName']+'\x20('+this[_0x340a65(0x1f6)][_0x340a65(0x718)]+_0x340a65(0x603)),_0x242f91[_0x340a65(0x772)]||(_0x242f91[_0x340a65(0x772)]=(0x0,Q['v4'])()),this['instance'][_0x340a65(0x5a6)][_0x340a65(0x523)]?.[_0x340a65(0x772)]===_0x242f91['_id']?.['toString']()){if(_0x242f91[_0x340a65(0x1cc)]===_0x340a65(0x712))this[_0x340a65(0x1f6)][_0x340a65(0x5a6)][_0x340a65(0x523)]=null;else throw new Error(_0x340a65(0x49f));}if(_0x242f91['delete']&&_0x242f91[_0x340a65(0x772)]){let _0x3e164f=await this[_0x340a65(0x7bc)][_0x340a65(0x4a4)][_0x340a65(0x3b2)](_0x242f91['_id'],this[_0x340a65(0x1f6)]['wuid']);return setTimeout(()=>this[_0x340a65(0x60d)](),0x7d0),_0x3e164f;}let _0x2525db=null;if(_0x242f91[_0x340a65(0x772)]&&(_0x2525db=await this[_0x340a65(0x7bc)][_0x340a65(0x4a4)]['findById'](_0x242f91[_0x340a65(0x772)],this[_0x340a65(0x1f6)][_0x340a65(0x718)])),_0x2525db){let {_id:_0x56b363,owner:_0x127e7a,messages:_0x1dbf2d,..._0x5c726b}=_0x242f91;if(_0x1dbf2d){let _0x5b88b0=_0x1dbf2d['filter'](_0x5d27a7=>!_0x5d27a7[_0x340a65(0x772)]),_0x2af472=_0x1dbf2d['filter'](_0x381bf4=>_0x381bf4[_0x340a65(0x772)]&&!_0x381bf4[_0x340a65(0x5ab)]),_0x3be18d=_0x1dbf2d['filter'](_0x3da2d9=>_0x3da2d9[_0x340a65(0x772)]&&_0x3da2d9[_0x340a65(0x5ab)]);if(_0x5b88b0[_0x340a65(0x106)]>0x0&&await this[_0x340a65(0x598)](_0x242f91[_0x340a65(0x772)],_0x5b88b0),_0x2af472['length']>0x0&&await this[_0x340a65(0x28c)]({'_id':_0x242f91[_0x340a65(0x772)],'messages':_0x2af472}),_0x3be18d[_0x340a65(0x106)]>0x0){let _0x2c9bcb=_0x3be18d[_0x340a65(0x35d)](_0x57f9ab=>({'updateOne':{'filter':{'_id':_0x242f91[_0x340a65(0x772)]},'update':{'$pull':{'messages':{'_id':_0x57f9ab[_0x340a65(0x772)]}}}}}));await this[_0x340a65(0x7bc)][_0x340a65(0x4a4)][_0x340a65(0x36f)](_0x2c9bcb,this[_0x340a65(0x1f6)][_0x340a65(0x718)]);}}let _0x16c512={'$set':{..._0x5c726b,'status':_0x242f91[_0x340a65(0x1cc)]||_0x2525db['status']}},_0x70814b=await this['repository'][_0x340a65(0x4a4)][_0x340a65(0x429)](_0x242f91[_0x340a65(0x772)],_0x16c512,this[_0x340a65(0x1f6)]['wuid']);return _0x70814b&&(this['reorderMessages'](_0x70814b['messages']),await this[_0x340a65(0x7bc)][_0x340a65(0x4a4)][_0x340a65(0x429)](_0x70814b['_id'],{'$set':{'messages':_0x70814b[_0x340a65(0x45a)]}},this[_0x340a65(0x1f6)]['wuid'])),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),await this['transformScheduledMessagesByType'](),_0x70814b;}else{_0x242f91[_0x340a65(0x6c5)]=this[_0x340a65(0x1f6)]['wuid'],_0x242f91[_0x340a65(0x45a)]&&_0x242f91[_0x340a65(0x45a)][_0x340a65(0x3a6)](_0x33aafc=>{const _0x16fb3c=_0x340a65;_0x33aafc[_0x16fb3c(0x772)]||(_0x33aafc[_0x16fb3c(0x772)]=(0x0,Q['v4'])()),_0x33aafc['idSchedule']||(_0x33aafc[_0x16fb3c(0x370)]=_0x242f91[_0x16fb3c(0x772)]),delete _0x33aafc['triedToSend'];});let _0x528e22=await this[_0x340a65(0x7bc)]['scheduleMessage']['createAndSave'](_0x242f91,this['instance']['wuid']);return _0x528e22&&(this[_0x340a65(0x28e)](_0x528e22['messages']),await this[_0x340a65(0x7bc)]['scheduleMessage']['updateOneById'](_0x528e22[_0x340a65(0x772)],{'$set':{'messages':_0x528e22[_0x340a65(0x45a)]}},this[_0x340a65(0x1f6)][_0x340a65(0x718)])),setTimeout(()=>this[_0x340a65(0x60d)](),0x7d0),_0x528e22;}}catch(_0x1c81e2){let _0x3943ea=_0x340a65(0x5d7),_0x496cdf=_0x1c81e2 instanceof Error?_0x1c81e2[_0x340a65(0x3d6)]:typeof _0x1c81e2==_0x340a65(0x698)?JSON[_0x340a65(0x265)](_0x1c81e2):_0x1c81e2,_0x41835d=_0x3943ea+':\x20'+_0x496cdf;throw this[_0x340a65(0x3c2)][_0x340a65(0x685)](this[_0x340a65(0x225)]+'\x20('+this[_0x340a65(0x1f6)]['wuid']+'):\x20'+_0x41835d),new m(_0x41835d);}}async[a0_0x5a0e1e(0x598)](_0x18b98b,_0x2bcb6a){const _0x5caf54=a0_0x5a0e1e;try{this[_0x5caf54(0x3c2)]['verbose'](this[_0x5caf54(0x225)]+'\x20('+this[_0x5caf54(0x1f6)]['wuid']+_0x5caf54(0x5f4)),_0x2bcb6a['forEach'](_0xc4e0e8=>{const _0x355a67=_0x5caf54;_0xc4e0e8['_id']||(_0xc4e0e8[_0x355a67(0x772)]=(0x0,Q['v4'])()),_0xc4e0e8[_0x355a67(0x370)]||(_0xc4e0e8[_0x355a67(0x370)]=_0x18b98b),delete _0xc4e0e8[_0x355a67(0x2b2)];});let _0x2b9a4b={'$push':{'messages':{'$each':_0x2bcb6a}}},_0x95546a=await this['repository']['scheduleMessage'][_0x5caf54(0x429)](_0x18b98b,_0x2b9a4b,this[_0x5caf54(0x1f6)]['wuid']);return _0x95546a&&(this[_0x5caf54(0x28e)](_0x95546a[_0x5caf54(0x45a)]),await this['repository'][_0x5caf54(0x4a4)]['updateOneById'](_0x95546a['_id'],{'$set':{'messages':_0x95546a[_0x5caf54(0x45a)]}},this[_0x5caf54(0x1f6)]['wuid'])),_0x95546a;}catch(_0x49c3ed){let _0x536097='Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo',_0x3f3dd3=_0x49c3ed instanceof Error?_0x49c3ed[_0x5caf54(0x3d6)]:typeof _0x49c3ed=='object'?JSON[_0x5caf54(0x265)](_0x49c3ed):_0x49c3ed,_0x9e16b6=_0x536097+':\x20'+_0x3f3dd3;throw this['logger'][_0x5caf54(0x685)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5caf54(0x693)+_0x9e16b6),new m(_0x9e16b6);}}async['editMessagesInGroup'](_0x5c5385){const _0x54d3e5=a0_0x5a0e1e;try{if(this['logger'][_0x54d3e5(0x2eb)](this[_0x54d3e5(0x225)]+'\x20('+this[_0x54d3e5(0x1f6)][_0x54d3e5(0x718)]+_0x54d3e5(0x521)),!_0x5c5385[_0x54d3e5(0x772)]||!_0x5c5385[_0x54d3e5(0x45a)])throw new Error(_0x54d3e5(0x729));let _0x260f7a=_0x5c5385[_0x54d3e5(0x772)],_0x43b298=_0x5c5385[_0x54d3e5(0x45a)],_0x5ed01b=_0x43b298[_0x54d3e5(0x736)](_0x331110=>!_0x331110[_0x54d3e5(0x5ab)])['map'](_0x5b0a34=>{const _0x553d54=_0x54d3e5;let _0x3d3706=_0x5b0a34['_id'];if(!_0x3d3706)throw new Error('Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.');return _0x5b0a34['idSchedule']||(_0x5b0a34[_0x553d54(0x370)]=_0x260f7a),delete _0x5b0a34[_0x553d54(0x2b2)],{'updateOne':{'filter':{'_id':_0x260f7a,'messages._id':_0x3d3706},'update':{'$set':{'messages.$[elem]':_0x5b0a34}},'arrayFilters':[{'elem._id':_0x3d3706}]}};}),_0x29f94a=_0x43b298['filter'](_0x4b2d36=>_0x4b2d36['delete'])[_0x54d3e5(0x35d)](_0x524d5d=>{const _0x17de3b=_0x54d3e5;let _0x1b6d88=_0x524d5d[_0x17de3b(0x772)];if(!_0x1b6d88)throw new Error('Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.');return{'updateOne':{'filter':{'_id':_0x260f7a},'update':{'$pull':{'messages':{'_id':_0x1b6d88}}}}};}),_0x56e405=[..._0x5ed01b,..._0x29f94a],_0x2ad40b=await this[_0x54d3e5(0x7bc)]['scheduleMessage'][_0x54d3e5(0x36f)](_0x56e405,this[_0x54d3e5(0x1f6)][_0x54d3e5(0x718)]),_0x73f5f1=await this[_0x54d3e5(0x7bc)][_0x54d3e5(0x4a4)][_0x54d3e5(0x5a8)](_0x260f7a,this[_0x54d3e5(0x1f6)][_0x54d3e5(0x718)]);return _0x73f5f1&&(this[_0x54d3e5(0x28e)](_0x73f5f1[_0x54d3e5(0x45a)]),await this[_0x54d3e5(0x7bc)]['scheduleMessage'][_0x54d3e5(0x429)](_0x73f5f1[_0x54d3e5(0x772)],{'$set':{'messages':_0x73f5f1['messages']}},this[_0x54d3e5(0x1f6)][_0x54d3e5(0x718)])),_0x73f5f1;}catch(_0x3da04c){let _0x15cfde=_0x54d3e5(0x65a),_0x120f21=_0x3da04c instanceof Error?_0x3da04c[_0x54d3e5(0x3d6)]:typeof _0x3da04c=='object'?JSON[_0x54d3e5(0x265)](_0x3da04c):_0x3da04c,_0x20dde4=_0x15cfde+':\x20'+_0x120f21;throw this[_0x54d3e5(0x3c2)]['error'](this[_0x54d3e5(0x225)]+'\x20('+this[_0x54d3e5(0x1f6)][_0x54d3e5(0x718)]+_0x54d3e5(0x693)+_0x20dde4),new m(_0x20dde4);}}async[a0_0x5a0e1e(0x33b)](){const _0x26e606=a0_0x5a0e1e;try{let _0x4ffc75={'status':_0x26e606(0x6ae)},_0xe50468=await this[_0x26e606(0x7bc)][_0x26e606(0x4a4)][_0x26e606(0x68b)](_0x4ffc75,this[_0x26e606(0x1f6)][_0x26e606(0x718)]);if(!_0xe50468[_0x26e606(0x685)])this['logger']['verbose'](this[_0x26e606(0x225)]+'\x20('+this[_0x26e606(0x1f6)][_0x26e606(0x718)]+_0x26e606(0x14d));else throw new Error(_0xe50468['error']['message']||_0x26e606(0x84f));return this[_0x26e606(0x77e)]();}catch(_0x1a0152){let _0x217705=_0x26e606(0x228),_0x160e85=_0x1a0152 instanceof Error?_0x1a0152[_0x26e606(0x3d6)]:typeof _0x1a0152=='object'?JSON[_0x26e606(0x265)](_0x1a0152):_0x1a0152,_0x518879=_0x217705+':\x20'+_0x160e85;throw this['logger'][_0x26e606(0x685)](this['instanceName']+'\x20('+this[_0x26e606(0x1f6)][_0x26e606(0x718)]+_0x26e606(0x693)+_0x518879),new m(_0x518879);}}async[a0_0x5a0e1e(0x6be)](){const _0x344e03=a0_0x5a0e1e;try{this[_0x344e03(0x1f6)]['ScheduleMessage'][_0x344e03(0x372)]=!0x1,this['instance'][_0x344e03(0x5a6)][_0x344e03(0x523)]=null,this[_0x344e03(0x31e)]&&this[_0x344e03(0x31e)][_0x344e03(0x44f)](),this[_0x344e03(0x3c2)]['verbose'](this[_0x344e03(0x225)]+'\x20('+this[_0x344e03(0x1f6)][_0x344e03(0x718)]+'):\x20Aguardando\x205\x20segundos\x20para\x20garantir\x20interrupção\x20completa...'),await new Promise(_0x3ca610=>setTimeout(_0x3ca610,0x1388)),this[_0x344e03(0x3c2)][_0x344e03(0x2eb)](this[_0x344e03(0x225)]+'\x20('+this[_0x344e03(0x1f6)]['wuid']+_0x344e03(0x188));let _0x29007e=await this[_0x344e03(0x7bc)]['scheduleMessage'][_0x344e03(0x68b)]({},this[_0x344e03(0x1f6)][_0x344e03(0x718)]);if(!_0x29007e[_0x344e03(0x685)])this[_0x344e03(0x3c2)][_0x344e03(0x2eb)](this['instanceName']+'\x20('+this[_0x344e03(0x1f6)][_0x344e03(0x718)]+_0x344e03(0x7b5)),this[_0x344e03(0x3c2)][_0x344e03(0x2eb)](this[_0x344e03(0x225)]+'\x20('+this['instance'][_0x344e03(0x718)]+'):\x20Aguardando\x205\x20segundos\x20antes\x20de\x20reconectar...'),await new Promise(_0x4fc7de=>setTimeout(_0x4fc7de,0x1388)),this[_0x344e03(0x1f6)][_0x344e03(0x5a6)][_0x344e03(0x372)]=!0x0,this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x344e03(0x1f6)][_0x344e03(0x718)]+_0x344e03(0x373)),this[_0x344e03(0x60d)]();else throw new Error(_0x29007e[_0x344e03(0x685)][_0x344e03(0x3d6)]||_0x344e03(0x84f));return this['getScheduleMessage']();}catch(_0x2de3de){let _0x226a0f='Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens',_0x4205ea=_0x2de3de instanceof Error?_0x2de3de[_0x344e03(0x3d6)]:typeof _0x2de3de==_0x344e03(0x698)?JSON['stringify'](_0x2de3de):_0x2de3de,_0x3d43d1=_0x226a0f+':\x20'+_0x4205ea;throw this[_0x344e03(0x3c2)][_0x344e03(0x685)](this[_0x344e03(0x225)]+'\x20('+this[_0x344e03(0x1f6)][_0x344e03(0x718)]+_0x344e03(0x693)+_0x3d43d1),new m(_0x3d43d1);}}async[a0_0x5a0e1e(0x77e)](){const _0xf12d21=a0_0x5a0e1e;try{return await this[_0xf12d21(0x7bc)][_0xf12d21(0x4a4)][_0xf12d21(0x174)]({'where':{}},this[_0xf12d21(0x1f6)][_0xf12d21(0x718)]);}catch(_0x410f11){let _0x2c3c5d=_0xf12d21(0x501),_0x4892ea=_0x410f11 instanceof Error?_0x410f11[_0xf12d21(0x3d6)]:typeof _0x410f11==_0xf12d21(0x698)?JSON['stringify'](_0x410f11):_0x410f11,_0x275d80=_0x2c3c5d+':\x20'+_0x4892ea;throw this[_0xf12d21(0x3c2)][_0xf12d21(0x685)](this[_0xf12d21(0x225)]+'\x20('+this[_0xf12d21(0x1f6)][_0xf12d21(0x718)]+_0xf12d21(0x693)+_0x275d80),new m(_0x275d80);}}[a0_0x5a0e1e(0x28e)](_0x27556c){const _0x3d5354=a0_0x5a0e1e;_0x27556c['sort']((_0x504631,_0x136138)=>_0x504631['order']-_0x136138[_0x3d5354(0x73e)]),_0x27556c[_0x3d5354(0x3a6)]((_0x4ced89,_0x28af94)=>{const _0x602b2f=_0x3d5354;_0x4ced89[_0x602b2f(0x73e)]=_0x28af94+0x1;});}async['SendScheduleMessage'](_0x2f3e60,_0x13dac0){const _0x182c35=a0_0x5a0e1e;try{if(!_0x13dac0)return this[_0x182c35(0x3c2)][_0x182c35(0x685)](this[_0x182c35(0x225)]+'\x20('+this[_0x182c35(0x1f6)][_0x182c35(0x718)]+'):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio'),{'error':!0x0,'detail':_0x182c35(0x6bf)};if(_0x13dac0[_0x182c35(0x13f)]===_0x182c35(0x7c6)&&!this[_0x182c35(0x1ec)]?.[_0x182c35(0x115)][_0x182c35(0x47e)])return this[_0x182c35(0x3c2)][_0x182c35(0x685)](this['instanceName']+'\x20('+this[_0x182c35(0x1f6)]['wuid']+'):\x20Fluxos\x20não\x20estão\x20ativados'),{'error':!0x0,'detail':_0x182c35(0x108)};switch(_0x13dac0['type']){case _0x182c35(0x80e):return await this[_0x182c35(0x44e)](_0x13dac0,_0x2f3e60);case _0x182c35(0x6aa):case _0x182c35(0x39b):case'document':return await this[_0x182c35(0x118)](_0x13dac0,_0x2f3e60);case _0x182c35(0x557):return await this['scheduleSendAudio'](_0x13dac0,_0x2f3e60);case _0x182c35(0x7c6):let _0x12ecac=new ze();return _0x12ecac[_0x182c35(0x7e8)]=_0x13dac0[_0x182c35(0x7c6)],_0x12ecac['remoteJid']=_0x2f3e60,await this[_0x182c35(0x16d)](_0x12ecac);default:return this['logger'][_0x182c35(0x685)](this[_0x182c35(0x225)]+'\x20('+this[_0x182c35(0x1f6)][_0x182c35(0x718)]+_0x182c35(0x3bd)+_0x13dac0[_0x182c35(0x13f)]),{'error':!0x0,'detail':_0x182c35(0x2a8)};}}catch(_0x4369fd){return this[_0x182c35(0x3c2)][_0x182c35(0x685)](this[_0x182c35(0x225)]+'\x20('+this[_0x182c35(0x1f6)][_0x182c35(0x718)]+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x4369fd instanceof Error?_0x4369fd[_0x182c35(0x3d6)]:JSON[_0x182c35(0x265)](_0x4369fd,null,0x2))),{'error':!0x0,'detail':_0x4369fd[_0x182c35(0x3d6)]};}}async[a0_0x5a0e1e(0x44e)](_0xbcb2b8,_0x26ec34){const _0x1823cd=a0_0x5a0e1e;if(this['logger'][_0x1823cd(0x2eb)](this['instanceName']+'\x20('+this[_0x1823cd(0x1f6)][_0x1823cd(0x718)]+_0x1823cd(0x7ae)+_0x26ec34+'\x27'),!_0xbcb2b8[_0x1823cd(0x80e)]||_0xbcb2b8['text'][_0x1823cd(0x106)]===0x0)return{'error':!0x0,'detail':_0x1823cd(0x76e)};let _0x3fa986=await this[_0x1823cd(0xef)](_0xbcb2b8[_0x1823cd(0x80e)],_0x26ec34),_0xb3bef7={'number':_0x26ec34,'options':{'delay':_0xbcb2b8['delay'],'linkPreview':_0xbcb2b8[_0x1823cd(0x632)]},'textMessage':{'text':_0x3fa986}},_0x4cb793=null;try{let _0x439a55=await this[_0x1823cd(0x77f)](_0xb3bef7);if(_0x439a55&&_0x439a55[_0x1823cd(0x1cc)])return{'error':!0x1,'id':_0x439a55[_0x1823cd(0x5dc)]['id']};_0x4cb793=JSON[_0x1823cd(0x265)](_0x439a55),this['logger']['verbose'](this[_0x1823cd(0x225)]+'\x20('+this['instance']['wuid']+_0x1823cd(0x693)+_0x4cb793);}catch(_0x39051d){this['logger'][_0x1823cd(0x685)](this['instanceName']+'\x20('+this[_0x1823cd(0x1f6)][_0x1823cd(0x718)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x39051d instanceof Error?_0x39051d[_0x1823cd(0x3d6)]:JSON[_0x1823cd(0x265)](_0x39051d,null,0x2))),_0x4cb793=_0x39051d[_0x1823cd(0x3d6)];}if(_0x4cb793)return{'error':!0x0,'detail':(typeof _0x4cb793=='object'?JSON[_0x1823cd(0x265)](_0x4cb793,null,0x2):_0x4cb793)[_0x1823cd(0x186)](/[\[\]{}\n]/g,'\x20')[_0x1823cd(0x186)](/  +/g,'\x20')};}async[a0_0x5a0e1e(0x118)](_0x58683d,_0x56c143){const _0x1be617=a0_0x5a0e1e;this['logger'][_0x1be617(0x2eb)](this['instanceName']+'\x20('+this[_0x1be617(0x1f6)]['wuid']+_0x1be617(0xa8)+_0x56c143+'\x27');let _0x149ae2;_0x58683d[_0x1be617(0x80e)]&&_0x58683d[_0x1be617(0x80e)]['length']>0x0&&(_0x149ae2=await this[_0x1be617(0xef)](_0x58683d[_0x1be617(0x80e)],_0x56c143));let _0x2fd1d2={'number':_0x56c143,'options':{'delay':_0x58683d['delay'],'linkPreview':_0x58683d[_0x1be617(0x632)]},'mediaMessage':{'mediatype':_0x58683d[_0x1be617(0x13f)],'caption':_0x149ae2,'media':_0x58683d[_0x1be617(0x519)]}},_0x4478a7=null;try{let _0x2dfd6f=await this[_0x1be617(0x670)](_0x2fd1d2);if(_0x2dfd6f&&_0x2dfd6f[_0x1be617(0x1cc)])return{'error':!0x1,'id':_0x2dfd6f['key']['id']};_0x4478a7=JSON[_0x1be617(0x265)](_0x2dfd6f),this[_0x1be617(0x3c2)][_0x1be617(0x2eb)](this[_0x1be617(0x225)]+'\x20('+this[_0x1be617(0x1f6)][_0x1be617(0x718)]+'):\x20'+_0x4478a7);}catch(_0x39ec93){this['logger'][_0x1be617(0x685)](this[_0x1be617(0x225)]+'\x20('+this['instance'][_0x1be617(0x718)]+_0x1be617(0x5d0)+(_0x39ec93 instanceof Error?_0x39ec93[_0x1be617(0x3d6)]:JSON[_0x1be617(0x265)](_0x39ec93,null,0x2))),_0x4478a7=_0x39ec93['message'];}if(_0x4478a7)return{'error':!0x0,'detail':(typeof _0x4478a7==_0x1be617(0x698)?JSON[_0x1be617(0x265)](_0x4478a7,null,0x2):_0x4478a7)[_0x1be617(0x186)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x5a0e1e(0x361)](_0x29ee1e,_0x3fe3cd){const _0x3c4eb6=a0_0x5a0e1e;this[_0x3c4eb6(0x3c2)]['verbose'](this[_0x3c4eb6(0x225)]+'\x20('+this[_0x3c4eb6(0x1f6)][_0x3c4eb6(0x718)]+_0x3c4eb6(0x9f)+_0x3fe3cd+'\x27');let _0x21885d={'number':_0x3fe3cd,'options':{'delay':_0x29ee1e['delay']},'audioMessage':{'audio':_0x29ee1e[_0x3c4eb6(0x519)]}},_0x586ad1=null;try{let _0x45f7f6=await this[_0x3c4eb6(0x6e2)](_0x21885d);if(_0x45f7f6&&_0x45f7f6[_0x3c4eb6(0x1cc)])return{'error':!0x1,'id':_0x45f7f6[_0x3c4eb6(0x5dc)]['id']};_0x586ad1=JSON[_0x3c4eb6(0x265)](_0x45f7f6),this[_0x3c4eb6(0x3c2)][_0x3c4eb6(0x2eb)](this[_0x3c4eb6(0x225)]+'\x20('+this[_0x3c4eb6(0x1f6)][_0x3c4eb6(0x718)]+_0x3c4eb6(0x693)+_0x586ad1);}catch(_0x5b26ce){this[_0x3c4eb6(0x3c2)][_0x3c4eb6(0x685)](this[_0x3c4eb6(0x225)]+'\x20('+this[_0x3c4eb6(0x1f6)][_0x3c4eb6(0x718)]+_0x3c4eb6(0x633)+(_0x5b26ce instanceof Error?_0x5b26ce[_0x3c4eb6(0x3d6)]:JSON['stringify'](_0x5b26ce,null,0x2))),_0x586ad1=_0x5b26ce[_0x3c4eb6(0x3d6)];}if(_0x586ad1)return{'error':!0x0,'detail':(typeof _0x586ad1=='object'?JSON['stringify'](_0x586ad1,null,0x2):_0x586ad1)[_0x3c4eb6(0x186)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x5a0e1e(0x5c5)](_0x1f9bfd){const _0x546567=a0_0x5a0e1e;try{return await this[_0x546567(0x30c)]['groupUpdateDescription'](_0x1f9bfd[_0x546567(0x316)],_0x1f9bfd[_0x546567(0xc9)]),{'update':_0x546567(0x288)};}catch(_0x1086a6){let _0x4152b5='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc',_0x5669b6=_0x1086a6 instanceof Error?_0x1086a6[_0x546567(0x3d6)]:typeof _0x1086a6==_0x546567(0x698)?JSON[_0x546567(0x265)](_0x1086a6):_0x1086a6,_0x476146=_0x4152b5+':\x20'+_0x5669b6;throw this['logger'][_0x546567(0x685)](this[_0x546567(0x225)]+'\x20('+this[_0x546567(0x1f6)][_0x546567(0x718)]+_0x546567(0x693)+_0x476146),new x(_0x476146);}}async[a0_0x5a0e1e(0x5bd)](_0x9ab61a){const _0x2f6019=a0_0x5a0e1e;try{return await this[_0x2f6019(0x30c)][_0x2f6019(0x73d)](_0x9ab61a['groupJid'],_0x9ab61a['name']),{'update':_0x2f6019(0x288)};}catch(_0x3aa510){let _0x36bce6=_0x2f6019(0x375),_0x53a86f=_0x3aa510 instanceof Error?_0x3aa510[_0x2f6019(0x3d6)]:typeof _0x3aa510==_0x2f6019(0x698)?JSON[_0x2f6019(0x265)](_0x3aa510):_0x3aa510,_0x4f8a40=_0x36bce6+':\x20'+_0x53a86f;throw this['logger'][_0x2f6019(0x685)](this[_0x2f6019(0x225)]+'\x20('+this['instance'][_0x2f6019(0x718)]+_0x2f6019(0x693)+_0x4f8a40),new x(_0x4f8a40);}}async['toggleEphemeral'](_0x2cae79){const _0x5adbea=a0_0x5a0e1e;try{let _0x1e4bf1=await this['client'][_0x5adbea(0x800)](_0x2cae79[_0x5adbea(0x316)],_0x2cae79[_0x5adbea(0x6c4)]);return{'success':!0x0};}catch(_0x4fff8f){let _0x4bca1e=_0x5adbea(0x58b),_0x268276=_0x4fff8f instanceof Error?_0x4fff8f['message']:typeof _0x4fff8f=='object'?JSON[_0x5adbea(0x265)](_0x4fff8f):_0x4fff8f,_0x55cbc3=_0x4bca1e+':\x20'+_0x268276;throw this[_0x5adbea(0x3c2)][_0x5adbea(0x685)](this[_0x5adbea(0x225)]+'\x20('+this[_0x5adbea(0x1f6)]['wuid']+_0x5adbea(0x693)+_0x55cbc3),new x(_0x55cbc3);}}async[a0_0x5a0e1e(0x4a7)](_0x207e75){const _0x5188e6=a0_0x5a0e1e;try{return await this[_0x5188e6(0x30c)][_0x5188e6(0x4b2)](_0x207e75[_0x5188e6(0x316)],_0x207e75['setting']),{'update':_0x5188e6(0x288)};}catch(_0x115df3){let _0x95e9af='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting',_0x6c3ee3=_0x115df3 instanceof Error?_0x115df3[_0x5188e6(0x3d6)]:typeof _0x115df3==_0x5188e6(0x698)?JSON[_0x5188e6(0x265)](_0x115df3):_0x115df3,_0x536e63=_0x95e9af+':\x20'+_0x6c3ee3;throw this['logger'][_0x5188e6(0x685)](this[_0x5188e6(0x225)]+'\x20('+this[_0x5188e6(0x1f6)][_0x5188e6(0x718)]+'):\x20'+_0x536e63),new x(_0x536e63);}}async[a0_0x5a0e1e(0x389)](_0x31c6e8){const _0xef45c7=a0_0x5a0e1e;try{let _0x2a0248;if((0x0,J[_0xef45c7(0x291)])(_0x31c6e8['image'])){let _0x4cdc0c=new Date()[_0xef45c7(0x333)](),_0x531631=_0x31c6e8['image']+_0xef45c7(0x2e7)+_0x4cdc0c;_0x2a0248=(await K[_0xef45c7(0x77c)][_0xef45c7(0x168)](_0x531631,{'responseType':'arraybuffer'}))[_0xef45c7(0x4cf)];}else{if((0x0,J[_0xef45c7(0x30e)])(_0x31c6e8[_0xef45c7(0x39b)]))_0x2a0248=Buffer[_0xef45c7(0x6d0)](_0x31c6e8[_0xef45c7(0x39b)],_0xef45c7(0x6a4));else throw new m(_0xef45c7(0x73a));}return await this[_0xef45c7(0x30c)][_0xef45c7(0x5f1)](_0x31c6e8[_0xef45c7(0x316)],_0x2a0248),{'update':_0xef45c7(0x288)};}catch(_0x3fa408){let _0x3a8730=_0xef45c7(0xc8),_0x3f19b2=_0x3fa408 instanceof Error?_0x3fa408[_0xef45c7(0x3d6)]:typeof _0x3fa408==_0xef45c7(0x698)?JSON[_0xef45c7(0x265)](_0x3fa408):_0x3fa408,_0x217584=_0x3a8730+':\x20'+_0x3f19b2;throw this[_0xef45c7(0x3c2)][_0xef45c7(0x685)](this['instanceName']+'\x20('+this[_0xef45c7(0x1f6)][_0xef45c7(0x718)]+_0xef45c7(0x693)+_0x217584),new x(_0x217584);}}},jt=class u{constructor(_0x5093a9,_0x55ce40,_0x4861ba){const _0x22bfc9=a0_0x5a0e1e;this['eventEmitter']=_0x5093a9,this[_0x22bfc9(0x1e5)]=_0x55ce40,this[_0x22bfc9(0x7bc)]=_0x4861ba,this['db']={},this[_0x22bfc9(0x214)]={},this[_0x22bfc9(0x3c2)]=new $(u['name']),this['waInstances']={},(this[_0x22bfc9(0x29c)](),this[_0x22bfc9(0x1a7)](),Object[_0x22bfc9(0xfe)](this['db'],_0x55ce40[_0x22bfc9(0x168)](_0x22bfc9(0x3ad))),Object[_0x22bfc9(0xfe)](this[_0x22bfc9(0x214)],_0x55ce40['get'](_0x22bfc9(0x5ce))),this[_0x22bfc9(0x747)]=this['db'][_0x22bfc9(0x160)]?this[_0x22bfc9(0x7bc)][_0x22bfc9(0x4b5)]?.['db'](this['db'][_0x22bfc9(0x1b5)][_0x22bfc9(0x668)]+'-instances'):void 0x0,this[_0x22bfc9(0x5eb)]=this['redis'][_0x22bfc9(0x160)]?new ue(this['redis']):void 0x0);}async[a0_0x5a0e1e(0x230)](_0x283f45){const _0x5c6172=a0_0x5a0e1e;if(_0x283f45&&!this[_0x5c6172(0x422)][_0x283f45])throw new U(_0x5c6172(0x59d)+_0x283f45+_0x5c6172(0x7ac));let _0x4a5219=[];for await(let [_0x1e4f58,_0xc06277]of Object[_0x5c6172(0x822)](this['waInstances']))if(_0xc06277&&_0xc06277[_0x5c6172(0x857)][_0x5c6172(0x6cd)]==='open'){let _0x120777=await this[_0x5c6172(0x7bc)][_0x5c6172(0x2a0)][_0x5c6172(0x174)](_0x1e4f58);_0x4a5219[_0x5c6172(0x212)]({'instance':{'instanceName':_0x1e4f58,'apikey':_0x120777['apikey'],'owner':_0xc06277['wuid'],'profileName':await _0xc06277['getProfileName']()||_0x5c6172(0x2b7),'profilePictureUrl':_0xc06277[_0x5c6172(0x3ed)]}});}return _0x4a5219[_0x5c6172(0x174)](_0x5c13ee=>_0x5c13ee[_0x5c6172(0x1f6)][_0x5c6172(0x225)]===_0x283f45)??_0x4a5219;}async['cleaningUp'](_0x4b55da){const _0x372798=a0_0x5a0e1e;if(this['db'][_0x372798(0x160)]&&(await this[_0x372798(0x7bc)][_0x372798(0x4b5)]['connect'](),(await this['dbInstance'][_0x372798(0x738)]())[_0x372798(0x106)]>0x0&&await this[_0x372798(0x747)][_0x372798(0x6a8)](_0x4b55da)),this[_0x372798(0x214)][_0x372798(0x160)]){this[_0x372798(0x5eb)][_0x372798(0x5af)]=_0x4b55da,await this['cache']['delAll']();return;}}async[a0_0x5a0e1e(0x2b9)](){const _0x37d399=a0_0x5a0e1e;await this[_0x37d399(0x1c0)]();let _0x4161c6=async _0x2af134=>{const _0x53cbd1=_0x37d399;let _0x29a27f=new $e(this['configService'],this[_0x53cbd1(0x246)],this['repository']);_0x29a27f[_0x53cbd1(0x225)]=_0x2af134,await _0x29a27f[_0x53cbd1(0x654)](),this[_0x53cbd1(0x422)][_0x2af134]=_0x29a27f;};try{if(this[_0x37d399(0x214)][_0x37d399(0x160)]){let _0x26e50e=await this[_0x37d399(0x5eb)][_0x37d399(0x52b)]();_0x26e50e?.[_0x37d399(0x106)]>0x0&&_0x26e50e[_0x37d399(0x3a6)](async _0x36684d=>await _0x4161c6(_0x36684d[_0x37d399(0x83d)](':')[0x1]));return;}if(this['db'][_0x37d399(0x160)]){await this[_0x37d399(0x7bc)][_0x37d399(0x4b5)][_0x37d399(0x834)]();let _0x42f313=await this['dbInstance'][_0x37d399(0x738)]();_0x42f313[_0x37d399(0x106)]>0x0&&_0x42f313['forEach'](async _0x521451=>await _0x4161c6(_0x521451[_0x37d399(0x808)][_0x37d399(0x186)](/^[\w-]+\./,'')));return;}}catch(_0x318dcb){this[_0x37d399(0x3c2)][_0x37d399(0x685)](_0x318dcb);}}async[a0_0x5a0e1e(0x368)](){const _0x20b8cf=a0_0x5a0e1e;try{let _0x5a785b=await this[_0x20b8cf(0x7bc)][_0x20b8cf(0x2a0)][_0x20b8cf(0x659)]({'online':!0x1});console['log']('Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20'+_0x5a785b[_0x20b8cf(0x106)]);let _0x30f165={'online':!0x1},_0x62ffed=await this[_0x20b8cf(0x7bc)][_0x20b8cf(0x2a0)]['deleteMany'](_0x30f165);console[_0x20b8cf(0x6ec)]('Instâncias\x20removidas:\x20'+_0x62ffed[_0x20b8cf(0x799)]);}catch(_0x25206a){console[_0x20b8cf(0x685)]('Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:',_0x25206a);}}async[a0_0x5a0e1e(0x1c0)](){const _0x6b6683=a0_0x5a0e1e;try{let _0x57feca={'online':!0x1},_0x3affb6={'online':!0x1,'lastDisconnect':Date[_0x6b6683(0x616)]()},_0x3be018=await this['repository']['auth'][_0x6b6683(0x162)](_0x57feca,_0x3affb6);await this['cleanDisconnectedInstances']();}catch(_0x3a255b){console[_0x6b6683(0x685)]('Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:',_0x3a255b);}}['removeInstance'](){const _0x53c814=a0_0x5a0e1e;this[_0x53c814(0x246)]['on'](_0x53c814(0x63a),async _0x78e6c8=>{const _0xd7997c=_0x53c814;try{this['waInstances'][_0x78e6c8]=void 0x0;}catch{}try{this[_0xd7997c(0x695)](_0x78e6c8);}finally{this[_0xd7997c(0x3c2)][_0xd7997c(0x16e)](_0xd7997c(0x59d)+_0x78e6c8+'\x22\x20-\x20REMOVED');}});}['noConnection'](){const _0x2aa8b5=a0_0x5a0e1e;this[_0x2aa8b5(0x246)]['on'](_0x2aa8b5(0x6d8),async _0x176d05=>{const _0x173f4e=_0x2aa8b5;try{this[_0x173f4e(0x422)][_0x176d05]=void 0x0;}catch{}try{this[_0x173f4e(0x695)](_0x176d05);}finally{this[_0x173f4e(0x3c2)]['warn']('Instance\x20\x22'+_0x176d05+_0x173f4e(0x6d5));}});}},Jt=class extends O{['getChatModelForOwner'](_0x3736dd){return ta(_0x3736dd);}async[a0_0x5a0e1e(0x49e)](_0x4b87aa){const _0x37221d=a0_0x5a0e1e;if(_0x4b87aa['length']!==0x0)try{return{'insertCount':(await this[_0x37221d(0x6f9)](_0x4b87aa[0x0]['owner'])[_0x37221d(0x3be)]([..._0x4b87aa]))[_0x37221d(0x106)]};}catch(_0x3bd2fc){return _0x3bd2fc;}}async['find'](_0x1319b8,_0x585fca){const _0x2c5650=a0_0x5a0e1e;try{let _0xe48530=this[_0x2c5650(0x6f9)](_0x585fca),_0x3ac3cd=A(_0x1319b8[_0x2c5650(0x71f)]);return await _0xe48530['find'](_0x3ac3cd)[_0x2c5650(0x4a0)]({'lastmsg':-0x1})['limit'](_0x1319b8?.[_0x2c5650(0x2f6)]??0x0)['lean']();}catch{return[];}}async[a0_0x5a0e1e(0x1fd)](_0x398bff,_0x5588b0){const _0xb7e1a1=a0_0x5a0e1e;try{let _0x2542bb=this[_0xb7e1a1(0x6f9)](_0x5588b0),_0x51d882=A(_0x398bff['where']);return _0x51d882[_0xb7e1a1(0x47a)]={'$ne':[]},await _0x2542bb[_0xb7e1a1(0x174)](_0x51d882)[_0xb7e1a1(0x4a0)]({'lastmsg':-0x1})[_0xb7e1a1(0x2f6)](_0x398bff?.[_0xb7e1a1(0x2f6)]??0x0)['lean']();}catch{return[];}}async[a0_0x5a0e1e(0x5ab)](_0x535ffe,_0x4e63b0){const _0x213765=a0_0x5a0e1e;try{return{'deletedCount':(await this['getChatModelForOwner'](_0x4e63b0)[_0x213765(0x68b)]({..._0x535ffe[_0x213765(0x71f)]}))[_0x213765(0x286)]};}catch(_0xdbfaab){return{'error':_0xdbfaab?.[_0x213765(0x6b5)]()};}}async[a0_0x5a0e1e(0x847)](_0x2e83ff,_0x1af9f1){const _0x48006f=a0_0x5a0e1e;try{return await this[_0x48006f(0x6f9)](_0x1af9f1)[_0x48006f(0x68b)]({..._0x2e83ff['where']}),[];}catch(_0x24d816){return{'error':_0x24d816?.[_0x48006f(0x6b5)]()};}}async[a0_0x5a0e1e(0x524)](_0xec7be1,_0x4e642c){const _0x3e3685=a0_0x5a0e1e;try{let _0x41e0e8=this[_0x3e3685(0x6f9)](_0x4e642c),_0x4955b9=A(_0xec7be1[_0x3e3685(0x71f)]);return await _0x41e0e8[_0x3e3685(0x524)](_0x4955b9)[_0x3e3685(0x47d)]();}catch{return null;}}async[a0_0x5a0e1e(0xbb)](_0x48b5ca,_0x51a04f,_0x1e7907,_0x2f9ee3,_0x52496f=a0_0x5a0e1e(0x714)){const _0x299db1=a0_0x5a0e1e;try{let _0x4fccee={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x2f9ee3},_0x518f22=this['getChatModelForOwner'](_0x1e7907),_0x1c2d89=A(_0x48b5ca['where']);Object[_0x299db1(0x401)](_0x51a04f)[_0x299db1(0x3a6)](_0x28a421=>{_0x51a04f[_0x28a421]==null&&delete _0x51a04f[_0x28a421];});let _0x152f85={};return _0x152f85[_0x52496f]=_0x51a04f,await _0x518f22[_0x299db1(0x2c1)](_0x1c2d89,_0x152f85,_0x4fccee);}catch(_0x8dc4e6){return console[_0x299db1(0x685)](_0x8dc4e6),null;}}async[a0_0x5a0e1e(0x2b8)](_0x4e30bc){const _0x352e81=a0_0x5a0e1e;try{let _0x3b81bf=this[_0x352e81(0x6f9)](_0x4e30bc[0x0][_0x352e81(0x7f5)][_0x352e81(0x71f)][_0x352e81(0x6c5)]),_0x53cdf6=_0x4e30bc[_0x352e81(0x35d)](_0x3c8dff=>({'updateOne':{'filter':{..._0x3c8dff[_0x352e81(0x7f5)][_0x352e81(0x71f)]},'update':{'$set':_0x3c8dff[_0x352e81(0x15d)]},'upsert':!0x0}})),_0x9abc9b=await _0x3b81bf[_0x352e81(0x36f)](_0x53cdf6);return _0x9abc9b[_0x352e81(0x273)]+_0x9abc9b[_0x352e81(0x542)];}catch(_0x262615){return console[_0x352e81(0x685)](_0x262615),0x0;}}async[a0_0x5a0e1e(0x66f)](_0x58348d){const _0x1c621b=a0_0x5a0e1e;try{let _0x19d569={'group_isCommunity':'','group_announce':'','group_size':''},_0x51da9={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x42edf8={'$unset':_0x19d569};return(await this[_0x1c621b(0x6f9)](_0x58348d)[_0x1c621b(0x2b8)](_0x51da9,_0x42edf8))[_0x1c621b(0x273)];}catch(_0x156ec0){return console[_0x1c621b(0x685)](_0x1c621b(0x242),_0x156ec0),0x0;}}async['updateMissingEtiquetas'](_0x5a3cbe){const _0x2fbed7=a0_0x5a0e1e;try{let _0x461327=this[_0x2fbed7(0x6f9)](_0x5a3cbe),_0x4e0080={'leadInfo.etiquetas':{'$exists':!0x1}},_0x1a6759={'$set':{'leadInfo.etiquetas':[]}};return(await _0x461327['updateMany'](_0x4e0080,_0x1a6759))['modifiedCount'];}catch(_0x59cdee){return console['error'](_0x59cdee),0x0;}}async['updateMissingTags'](_0x381886){const _0x23b1f6=a0_0x5a0e1e;try{let _0x5482da=this['getChatModelForOwner'](_0x381886),_0x5bd2c3={'leadInfo.tags':{'$exists':!0x1}},_0x4d1cbc={'$set':{'leadInfo.tags':[]}};return(await _0x5482da[_0x23b1f6(0x2b8)](_0x5bd2c3,_0x4d1cbc))[_0x23b1f6(0x273)];}catch(_0x327168){return console[_0x23b1f6(0x685)](_0x327168),0x0;}}async[a0_0x5a0e1e(0x1b2)](_0x13c180){const _0x4be3ea=a0_0x5a0e1e;try{let _0x28c77c=this[_0x4be3ea(0x6f9)](_0x13c180),_0x582221={'leadInfo.customFields':{'$exists':!0x1}},_0x36b389={'$set':{'leadInfo.customFields':[]}};return(await _0x28c77c[_0x4be3ea(0x2b8)](_0x582221,_0x36b389))['modifiedCount'];}catch(_0x15c63c){return console[_0x4be3ea(0x685)](_0x15c63c),0x0;}}async['insertMany'](_0x1adfe9,_0x11bc3f){const _0x23c1f6=a0_0x5a0e1e;if(!Array[_0x23c1f6(0x1ed)](_0x1adfe9)||_0x1adfe9[_0x23c1f6(0x106)]===0x0)throw new Error(_0x23c1f6(0x19a));try{return(await this[_0x23c1f6(0x6f9)](_0x11bc3f)[_0x23c1f6(0x3be)](_0x1adfe9))[_0x23c1f6(0x106)];}catch(_0x297b9c){throw console[_0x23c1f6(0x685)](_0x23c1f6(0x580),_0x297b9c),_0x297b9c;}}async['deleteChat'](_0x576e2f,_0x1abec7){const _0x3847fc=a0_0x5a0e1e;try{await this[_0x3847fc(0x6f9)](_0x1abec7)[_0x3847fc(0x3b2)]({'_id':_0x576e2f});}catch(_0x2f781c){throw console['error'](_0x3847fc(0x43c),_0x2f781c),_0x2f781c;}}},qt=class extends O{constructor(_0x3c0113,_0x11d90d,_0x48b019){const _0x2f8708=a0_0x5a0e1e;super(_0x11d90d),this['cacheContactModel']=_0x3c0113,this[_0x2f8708(0x1e5)]=_0x11d90d,this[_0x2f8708(0xa9)]=_0x48b019;}async[a0_0x5a0e1e(0x49e)](_0x471cf7){const _0x5be4e7=a0_0x5a0e1e;if(_0x471cf7[_0x5be4e7(0x106)]!==0x0)try{return{'insertCount':(await this[_0x5be4e7(0x3d7)][_0x5be4e7(0x3be)]([..._0x471cf7]))['length']};}catch(_0x59a53c){return _0x59a53c;}}async[a0_0x5a0e1e(0x15d)](_0x2fb80b,_0x4ed80d){const _0x281457=a0_0x5a0e1e;try{let _0x420acd=A(_0x2fb80b['where']);return{'updatedCount':(await this['cacheContactModel'][_0x281457(0x2b8)](_0x420acd,{'$set':_0x4ed80d}))[_0x281457(0x273)]};}catch(_0x5808b4){return console[_0x281457(0x685)](_0x281457(0x4bb),_0x5808b4),{'error':_0x5808b4[_0x281457(0x6b5)]()};}}async[a0_0x5a0e1e(0x226)](_0x245b2f){const _0xd3b547=a0_0x5a0e1e;try{let _0x1d27d7={'_id':{'$in':_0x245b2f}};return await this[_0xd3b547(0x3d7)][_0xd3b547(0x174)](_0x1d27d7)[_0xd3b547(0x47d)]();}catch(_0x7a3b1){return console[_0xd3b547(0x685)](_0xd3b547(0x140),_0x7a3b1),[];}}async[a0_0x5a0e1e(0x5ab)](_0x3c6a94){const _0x52c6f6=a0_0x5a0e1e;try{return{'deletedCount':(await this[_0x52c6f6(0x3d7)][_0x52c6f6(0x68b)]({..._0x3c6a94[_0x52c6f6(0x71f)]}))[_0x52c6f6(0x286)]};}catch(_0x52df79){return{'error':_0x52df79?.['toString']()};}}async['find'](_0x16628f){const _0x15908b=a0_0x5a0e1e;try{let _0x1f257e=A(_0x16628f['where']);return await this[_0x15908b(0x3d7)][_0x15908b(0x174)](_0x1f257e)[_0x15908b(0x2f6)](_0x16628f?.['limit']??0x0)[_0x15908b(0x47d)]();}catch{return[];}}async[a0_0x5a0e1e(0x524)](_0x53a6e7){const _0x585544=a0_0x5a0e1e;try{let _0x4d7bdd=A(_0x53a6e7[_0x585544(0x71f)]);return await this[_0x585544(0x3d7)][_0x585544(0x524)](_0x4d7bdd)[_0x585544(0x47d)]();}catch{return null;}}},Vt=class extends O{constructor(_0x177d65,_0x192c54,_0x4d433a){const _0xc862fd=a0_0x5a0e1e;super(_0x192c54),this[_0xc862fd(0x42d)]=_0x177d65,this[_0xc862fd(0x1e5)]=_0x192c54,this[_0xc862fd(0xa9)]=_0x4d433a;}async[a0_0x5a0e1e(0x49e)](_0x588594){const _0x40138c=a0_0x5a0e1e;if(_0x588594[_0x40138c(0x106)]!==0x0)try{return{'insertCount':(await this[_0x40138c(0x42d)][_0x40138c(0x3be)]([..._0x588594]))['length']};}catch(_0x1ae722){return _0x1ae722;}}async[a0_0x5a0e1e(0x15d)](_0x58ea2f,_0x14cc6d){const _0x255125=a0_0x5a0e1e;try{let _0x127186=A(_0x58ea2f[_0x255125(0x71f)]);return{'updatedCount':(await this[_0x255125(0x42d)][_0x255125(0x2b8)](_0x127186,{'$set':_0x14cc6d}))[_0x255125(0x273)]};}catch(_0x1f0bc2){return console[_0x255125(0x685)](_0x255125(0x4bb),_0x1f0bc2),{'error':_0x1f0bc2['toString']()};}}async['delete'](_0x21dbc8){const _0x395b8a=a0_0x5a0e1e;try{return{'deletedCount':(await this[_0x395b8a(0x42d)][_0x395b8a(0x68b)]({..._0x21dbc8['where']}))[_0x395b8a(0x286)]};}catch(_0x29b2a9){return{'error':_0x29b2a9?.[_0x395b8a(0x6b5)]()};}}async['findOne'](_0x1ccd13){const _0x313652=a0_0x5a0e1e;try{let _0x745b70=A(_0x1ccd13[_0x313652(0x71f)]);return await this[_0x313652(0x42d)][_0x313652(0x524)](_0x745b70)[_0x313652(0x47d)]();}catch{return null;}}},Gt=class extends O{[a0_0x5a0e1e(0x5b6)](_0x4883d5){return va(_0x4883d5);}async['updateOne'](_0x3c875d,_0x4e1038,_0x34b1bb,_0x212447){const _0x42651c=a0_0x5a0e1e;try{let _0x252e3f={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x212447},_0x348310=this[_0x42651c(0x5b6)](_0x34b1bb),_0x495037=A(_0x3c875d[_0x42651c(0x71f)]);return await _0x348310['findOneAndUpdate'](_0x495037,{'$set':_0x4e1038},_0x252e3f);}catch(_0xa26844){return console['error'](_0xa26844),null;}}async['find'](_0x2e451b,_0x42df87){const _0x21618e=a0_0x5a0e1e;try{let _0x44ecee=this[_0x21618e(0x5b6)](_0x42df87),_0x9ea4d4=A(_0x2e451b[_0x21618e(0x71f)]);return await _0x44ecee[_0x21618e(0x174)](_0x9ea4d4);}catch(_0xd703b3){console[_0x21618e(0x685)](_0xd703b3);}}async[a0_0x5a0e1e(0x5ab)](_0x5e13ba,_0x3dbae9){const _0x509b2d=a0_0x5a0e1e;try{let _0x55624a=this['getLabelModelForOwner'](_0x3dbae9),_0x33b5fb=A(_0x5e13ba[_0x509b2d(0x71f)]);await _0x55624a[_0x509b2d(0x68b)](_0x33b5fb);}catch(_0x58481a){console['error'](_0x58481a);}}async['deleteAll'](_0x5c293e){const _0x375e75=a0_0x5a0e1e;try{return await this['getLabelModelForOwner'](_0x5c293e)[_0x375e75(0x36a)][_0x375e75(0x660)](),{'success':!0x0};}catch(_0x365ddc){return console['error'](_0x365ddc),{'success':!0x1,'error':_0x365ddc};}}},Bt=class{constructor(_0x1c9dd5){const _0x240f77=a0_0x5a0e1e;this[_0x240f77(0xd2)]=_0x1c9dd5;}async[a0_0x5a0e1e(0x289)]({instanceName:_0x2e4d41},_0x249da5){const _0x562a78=a0_0x5a0e1e;return await this[_0x562a78(0xd2)][_0x562a78(0x422)][_0x2e4d41]['editChat'](_0x249da5);}async[a0_0x5a0e1e(0x425)]({instanceName:_0x4616b9},_0x58f37f){const _0xd39bfd=a0_0x5a0e1e;return await this[_0xd39bfd(0xd2)][_0xd39bfd(0x422)][_0x4616b9][_0xd39bfd(0x425)](_0x58f37f);}async[a0_0x5a0e1e(0x64e)]({instanceName:_0x582b0e},_0x579c27){const _0x537c88=a0_0x5a0e1e;return await this[_0x537c88(0xd2)]['waInstances'][_0x582b0e][_0x537c88(0x64e)](_0x579c27);}async['readMessage']({instanceName:_0x384ca5},_0x385f7b){const _0x436724=a0_0x5a0e1e;return await this['waMonitor'][_0x436724(0x422)][_0x384ca5][_0x436724(0x3bc)](_0x385f7b);}async[a0_0x5a0e1e(0x7ef)]({instanceName:_0x432dc7},_0x2072d4){const _0x5db668=a0_0x5a0e1e;return await this[_0x5db668(0xd2)][_0x5db668(0x422)][_0x432dc7][_0x5db668(0x7ef)](_0x2072d4);}async[a0_0x5a0e1e(0x2a4)]({instanceName:_0x22988d},_0x127927){const _0x2907da=a0_0x5a0e1e;return await this[_0x2907da(0xd2)][_0x2907da(0x422)][_0x22988d][_0x2907da(0x2a4)](_0x127927);}async['fetchProfilePicture']({instanceName:_0x1084a0},_0x17c1b4){const _0x28511d=a0_0x5a0e1e;return await this[_0x28511d(0xd2)][_0x28511d(0x422)][_0x1084a0]['profilePicture'](_0x17c1b4[_0x28511d(0x12c)]);}async[a0_0x5a0e1e(0x395)]({instanceName:_0x496667},_0x2c917a){const _0x191888=a0_0x5a0e1e;return await this[_0x191888(0xd2)]['waInstances'][_0x496667]['fetchProfile'](_0x2c917a[_0x191888(0x12c)]);}async['updatePresence']({instanceName:_0x34bb2b},_0x1a8609){const _0x103d63=a0_0x5a0e1e;return await this[_0x103d63(0xd2)]['waInstances'][_0x34bb2b][_0x103d63(0x32b)](_0x1a8609);}async[a0_0x5a0e1e(0x7a4)]({instanceName:_0x18827a},_0x2248f2){const _0x3e0241=a0_0x5a0e1e;return await this[_0x3e0241(0xd2)][_0x3e0241(0x422)][_0x18827a][_0x3e0241(0x7a4)](_0x2248f2);}async[a0_0x5a0e1e(0x56e)]({instanceName:_0x314999},_0x1bcc25){const _0x287ef1=a0_0x5a0e1e;return await this[_0x287ef1(0xd2)][_0x287ef1(0x422)][_0x314999][_0x287ef1(0x56e)](_0x1bcc25);}async[a0_0x5a0e1e(0x658)]({instanceName:_0x3271a3},_0x52789a){const _0x1d3423=a0_0x5a0e1e;return await this[_0x1d3423(0xd2)]['waInstances'][_0x3271a3][_0x1d3423(0x658)](_0x52789a);}async[a0_0x5a0e1e(0x1f0)]({instanceName:_0x55cbd3}){const _0xcc3089=a0_0x5a0e1e;return await this[_0xcc3089(0xd2)]['waInstances'][_0x55cbd3][_0xcc3089(0x1f0)]();}async['fetchChats']({instanceName:_0x425047}){const _0x552d37=a0_0x5a0e1e;return await this['waMonitor'][_0x552d37(0x422)][_0x425047][_0x552d37(0x474)]();}async[a0_0x5a0e1e(0x703)]({instanceName:_0x36d94e}){const _0x1b7565=a0_0x5a0e1e;return await this['waMonitor'][_0x1b7565(0x422)][_0x36d94e]['fetchPrivacySettings']();}async['updatePrivacySettings']({instanceName:_0x50ff94},_0x56edaa){const _0xe89a82=a0_0x5a0e1e;return await this[_0xe89a82(0xd2)][_0xe89a82(0x422)][_0x50ff94][_0xe89a82(0x43e)](_0x56edaa);}async[a0_0x5a0e1e(0x1c2)]({instanceName:_0x8542d2},_0x54a2a5){const _0x3b9bf9=a0_0x5a0e1e;return await this['waMonitor']['waInstances'][_0x8542d2]['fetchBusinessProfile'](_0x54a2a5[_0x3b9bf9(0x12c)]);}async[a0_0x5a0e1e(0x66e)]({instanceName:_0x1c470c},_0x3a0590){const _0x50ede2=a0_0x5a0e1e;return await this[_0x50ede2(0xd2)]['waInstances'][_0x1c470c]['updateProfileName'](_0x3a0590['name']);}async[a0_0x5a0e1e(0x486)]({instanceName:_0x3a9b47},_0x3d68ae){const _0x218502=a0_0x5a0e1e;return await this['waMonitor'][_0x218502(0x422)][_0x3a9b47]['updateProfileStatus'](_0x3d68ae['status']);}async[a0_0x5a0e1e(0x5f1)]({instanceName:_0x7bc468},_0x56339c){const _0x1a4fe4=a0_0x5a0e1e;return await this[_0x1a4fe4(0xd2)][_0x1a4fe4(0x422)][_0x7bc468][_0x1a4fe4(0x5f1)](_0x56339c[_0x1a4fe4(0x80c)]);}async[a0_0x5a0e1e(0x689)]({instanceName:_0x40ae4f},_0x3c4baf){const _0x309209=a0_0x5a0e1e;return await this[_0x309209(0xd2)][_0x309209(0x422)][_0x40ae4f][_0x309209(0x689)]();}},Wt=require('@whiskeysockets/baileys'),zt=class u{constructor(_0x41a732,_0x10ef11,_0x593f16,_0x90e519,_0x509eee){const _0x113dd2=a0_0x5a0e1e;this[_0x113dd2(0xd2)]=_0x41a732,this[_0x113dd2(0x1e5)]=_0x10ef11,this[_0x113dd2(0x7bc)]=_0x593f16,this[_0x113dd2(0x246)]=_0x90e519,this['authService']=_0x509eee,this[_0x113dd2(0x3c2)]=new $(u['name']);}async[a0_0x5a0e1e(0x552)]({instanceName:_0x134949,apikey:_0xa1638e,number:_0x3fc7a9,proxy:_0x5bc1a9=!0x0}){const _0x2a9df9=a0_0x5a0e1e;try{let _0x5c6623=new $e(this[_0x2a9df9(0x1e5)],this[_0x2a9df9(0x246)],this[_0x2a9df9(0x7bc)]);_0x5c6623[_0x2a9df9(0x225)]=_0x134949,this[_0x2a9df9(0xd2)][_0x2a9df9(0x422)][_0x5c6623[_0x2a9df9(0x225)]]=_0x5c6623;let _0x15615c={};_0xa1638e?(await this['repository'][_0x2a9df9(0x2a0)][_0x2a9df9(0x838)]({'apikey':_0xa1638e},_0x134949),_0x15615c[_0x2a9df9(0x4ed)]=_0xa1638e):_0x15615c=await this[_0x2a9df9(0x6f4)][_0x2a9df9(0x359)]({'instanceName':_0x5c6623[_0x2a9df9(0x225)]});let _0x51743b;if(_0x3fc7a9){if(_0x51743b=await this['verifyWhatsAppNumber'](_0x3fc7a9),_0x51743b['error'])throw new x(_0x51743b[_0x2a9df9(0x685)][_0x2a9df9(0x6b5)]());_0x3fc7a9=_0x51743b[_0x2a9df9(0x12c)];}let _0x3680be;return await _0x5c6623[_0x2a9df9(0x654)](_0x3fc7a9),await(0x0,Wt[_0x2a9df9(0x1f4)])(0xfa0),_0x3fc7a9&&await(0x0,Wt[_0x2a9df9(0x1f4)])(0xbb8),_0x3680be=_0x5c6623[_0x2a9df9(0x828)],{'instance':{'instanceName':_0x5c6623[_0x2a9df9(0x225)],'status':'created'},'hash':_0x15615c,'qrcode':_0x3680be};}catch(_0x256c99){throw this['logger']['error'](_0x256c99),_0x256c99;}}async[a0_0x5a0e1e(0x4f7)]({instanceName:_0x2da5dc,number:_0x57b20a=null}){const _0x430a6d=a0_0x5a0e1e;try{let _0x1a25b3=this[_0x430a6d(0xd2)][_0x430a6d(0x422)][_0x2da5dc];switch(_0x1a25b3?.[_0x430a6d(0x857)]?.[_0x430a6d(0x6cd)]){case _0x430a6d(0x407):return await _0x1a25b3[_0x430a6d(0x654)](_0x57b20a),await(0x0,Wt[_0x430a6d(0x1f4)])(0x7d0),_0x1a25b3[_0x430a6d(0x828)];case _0x430a6d(0x1e3):return _0x1a25b3['qrCode'];default:return await this[_0x430a6d(0x814)]({'instanceName':_0x2da5dc});}}catch(_0x57d34e){this[_0x430a6d(0x3c2)][_0x430a6d(0x6ec)](_0x57d34e);}}async[a0_0x5a0e1e(0x814)]({instanceName:_0x5a0227}){const _0x38b909=a0_0x5a0e1e;let _0x598b95=this[_0x38b909(0xd2)][_0x38b909(0x422)][_0x5a0227][_0x38b909(0x857)],_0x266592=null;_0x598b95[_0x38b909(0x6cd)]===_0x38b909(0x4f8)&&_0x5a0227&&(_0x266592=await this[_0x38b909(0xd2)][_0x38b909(0x230)](_0x5a0227));let _0xede514=null;return _0x598b95['state']==='connecting'&&_0x5a0227&&(_0xede514=this[_0x38b909(0xd2)][_0x38b909(0x422)][_0x5a0227][_0x38b909(0x828)]),{'instance':_0x5a0227,'connectionStatus':_0x598b95,'instanceInfo':_0x266592,'qrcode':_0xede514};}async[a0_0x5a0e1e(0x45c)](_0x45e26c){const _0x513273=a0_0x5a0e1e;_0x45e26c=_0x45e26c[_0x513273(0x186)](/\D/g,'');let _0x1609c4=Object['keys'](this[_0x513273(0xd2)][_0x513273(0x422)])['filter'](_0xfc8422=>{const _0x3e6f3b=_0x513273;let _0x35cef7=this[_0x3e6f3b(0xd2)][_0x3e6f3b(0x422)][_0xfc8422];return _0x35cef7&&_0x35cef7[_0x3e6f3b(0x857)]&&_0x35cef7[_0x3e6f3b(0x857)][_0x3e6f3b(0x6cd)]===_0x3e6f3b(0x4f8);});if(_0x1609c4[_0x513273(0x106)]===0x0)return{'number':this['formatBRNumber'](_0x45e26c)};let _0x3d409e=Math[_0x513273(0x706)](Math[_0x513273(0x4c1)]()*_0x1609c4[_0x513273(0x106)]),_0x3c7060=_0x1609c4[_0x3d409e];try{let _0x5063d9=(await this['waMonitor'][_0x513273(0x422)][_0x3c7060][_0x513273(0x425)]({'numbers':[_0x45e26c]}))[_0x513273(0x678)]();return _0x5063d9[_0x513273(0x3d5)]?{'number':_0x5063d9[_0x513273(0x3eb)][_0x513273(0x186)](_0x513273(0x6b4),'')}:{'number':_0x45e26c,'error':_0x513273(0x805)};}catch(_0x1e8dc0){return this['logger']['error'](_0x513273(0x6f5)+_0x1e8dc0),{'number':_0x45e26c,'error':_0x513273(0x277)};}}['formatBRNumber'](_0x5b2782){const _0x4fae37=a0_0x5a0e1e;let _0x302ca7=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x4fae37(0x5c2)](_0x5b2782);if(_0x302ca7&&_0x302ca7[0x1]==='55'){let _0x1b4d7e=_0x302ca7[0x2],_0x32439a=_0x302ca7[0x3],_0x52c2e8=_0x302ca7[0x4];if(parseInt(_0x1b4d7e)>=0x1f&&_0x32439a==='9')return _0x302ca7[0x1]+_0x1b4d7e+_0x52c2e8;}return _0x5b2782;}async[a0_0x5a0e1e(0x462)]({instanceName:_0xde97a3}){const _0x4fb379=a0_0x5a0e1e;try{return this[_0x4fb379(0xd2)][_0x4fb379(0x422)][_0xde97a3]?.[_0x4fb379(0x30c)]?.['ws']?.[_0x4fb379(0x407)](),{'status':_0x4fb379(0x777),'error':!0x1,'response':{'message':_0x4fb379(0x593)}};}catch(_0x2fac3d){this[_0x4fb379(0x3c2)][_0x4fb379(0x685)](_0x2fac3d);}}async[a0_0x5a0e1e(0x463)]({instanceName:_0x363ab4}){const _0x1848ca=a0_0x5a0e1e;return _0x363ab4?this[_0x1848ca(0xd2)][_0x1848ca(0x230)](_0x363ab4):this['waMonitor']['instanceInfo']();}async['logout']({instanceName:_0x36d0f1}){const _0x2e293e=a0_0x5a0e1e;try{return await this['waMonitor']['waInstances'][_0x36d0f1]?.[_0x2e293e(0x30c)]?.[_0x2e293e(0x66b)](_0x2e293e(0x7bd)+_0x36d0f1),{'error':!0x1,'message':_0x2e293e(0x4f3)};}catch(_0x4bb4fb){throw new x(_0x4bb4fb[_0x2e293e(0x6b5)]());}}async[a0_0x5a0e1e(0x809)]({instanceName:_0x18dd96}){const _0x489960=a0_0x5a0e1e;if((await this[_0x489960(0x814)]({'instanceName':_0x18dd96}))['connectionStatus'][_0x489960(0x6cd)]===_0x489960(0x4f8))throw new m([_0x489960(0x25a),'The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this['waMonitor']['waInstances'][_0x18dd96],{'error':!0x1,'message':_0x489960(0x52c)};}catch(_0x1203f4){throw new m(_0x1203f4[_0x489960(0x6b5)]());}}},re=require(a0_0x5a0e1e(0x5cc)),Ht=class{constructor(_0x2c163b){this['waMonitor']=_0x2c163b;}async[a0_0x5a0e1e(0x38a)]({instanceName:_0x4a0b58},_0x161355){const _0x4e8553=a0_0x5a0e1e;return await this['waMonitor']['waInstances'][_0x4a0b58][_0x4e8553(0x77f)](_0x161355);}async['sendMenu']({instanceName:_0x6589db},_0x5a97f4){const _0x5c9311=a0_0x5a0e1e;return await this[_0x5c9311(0xd2)][_0x5c9311(0x422)][_0x6589db][_0x5c9311(0x607)](_0x5a97f4);}async[a0_0x5a0e1e(0x3cb)]({instanceName:_0x113da2},_0xdee00b){const _0x41020a=a0_0x5a0e1e;if((0x0,re[_0x41020a(0x30e)])(_0xdee00b?.[_0x41020a(0x670)]?.['media'])&&!_0xdee00b?.[_0x41020a(0x670)]?.[_0x41020a(0x72a)])throw new m(_0x41020a(0x55e));if((0x0,re[_0x41020a(0x291)])(_0xdee00b?.['mediaMessage']?.[_0x41020a(0x445)])||(0x0,re[_0x41020a(0x30e)])(_0xdee00b?.[_0x41020a(0x670)]?.[_0x41020a(0x445)]))return await this[_0x41020a(0xd2)][_0x41020a(0x422)][_0x113da2][_0x41020a(0x670)](_0xdee00b);throw new m(_0x41020a(0x6e1));}async['sendSticker']({instanceName:_0x31075b},_0xc2908){const _0x1c5112=a0_0x5a0e1e;if((0x0,re['isURL'])(_0xc2908['stickerMessage'][_0x1c5112(0x39b)])||(0x0,re[_0x1c5112(0x30e)])(_0xc2908[_0x1c5112(0x645)][_0x1c5112(0x39b)]))return await this['waMonitor'][_0x1c5112(0x422)][_0x31075b][_0x1c5112(0x59f)](_0xc2908);throw new m(_0x1c5112(0x6e1));}async[a0_0x5a0e1e(0x415)]({instanceName:_0x33adbc},_0x15eec1){const _0x374746=a0_0x5a0e1e;if((0x0,re['isURL'])(_0x15eec1[_0x374746(0x5e4)][_0x374746(0x557)])||(0x0,re[_0x374746(0x30e)])(_0x15eec1[_0x374746(0x5e4)][_0x374746(0x557)]))return await this[_0x374746(0xd2)][_0x374746(0x422)][_0x33adbc][_0x374746(0x6e2)](_0x15eec1);throw new m(_0x374746(0x6e1));}async[a0_0x5a0e1e(0x50a)]({instanceName:_0xe5592c},_0x46ef86){const _0x5ddeb5=a0_0x5a0e1e;return await this[_0x5ddeb5(0xd2)][_0x5ddeb5(0x422)][_0xe5592c]['buttonMessage'](_0x46ef86);}async[a0_0x5a0e1e(0x240)]({instanceName:_0xbf3528},_0x1f177b){const _0x15d09b=a0_0x5a0e1e;return await this['waMonitor'][_0x15d09b(0x422)][_0xbf3528]['locationMessage'](_0x1f177b);}async[a0_0x5a0e1e(0x5fb)]({instanceName:_0x1cc2a2},_0x5c8389){const _0x5edd66=a0_0x5a0e1e;return await this[_0x5edd66(0xd2)][_0x5edd66(0x422)][_0x1cc2a2]['pollMessage'](_0x5c8389);}async[a0_0x5a0e1e(0xbe)]({instanceName:_0x44e7e9},_0x9a000f){const _0x4b6748=a0_0x5a0e1e;return await this[_0x4b6748(0xd2)]['waInstances'][_0x44e7e9][_0x4b6748(0x535)](_0x9a000f);}async[a0_0x5a0e1e(0x609)]({instanceName:_0x39e623},_0x432a60){const _0x20ea84=a0_0x5a0e1e;return await this[_0x20ea84(0xd2)][_0x20ea84(0x422)][_0x39e623][_0x20ea84(0x26e)](_0x432a60);}async[a0_0x5a0e1e(0x827)]({instanceName:_0x2d4c33},_0x49bd61){const _0x45ccfa=a0_0x5a0e1e;if(!_0x49bd61[_0x45ccfa(0x270)][_0x45ccfa(0xb9)]['match'](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x45ccfa(0x3dc));return await this[_0x45ccfa(0xd2)][_0x45ccfa(0x422)][_0x2d4c33]['reactionMessage'](_0x49bd61);}async['sendStatus']({instanceName:_0x3cc0a7},_0x4111e9){const _0x4329e0=a0_0x5a0e1e;return await this[_0x4329e0(0xd2)][_0x4329e0(0x422)][_0x3cc0a7]['statusMessage'](_0x4111e9);}},Pi=require(a0_0x5a0e1e(0x15f)),js=require('uuid'),Kt=class u{constructor(_0x38019c,_0x302e31,_0x167f51){const _0x4560f3=a0_0x5a0e1e;this[_0x4560f3(0x1e5)]=_0x38019c,this[_0x4560f3(0xd2)]=_0x302e31,this['repository']=_0x167f51,this['logger']=new $(u['name']);}async['jwt'](_0x38e049){const _0xe13251=a0_0x5a0e1e;let _0x47da21=this[_0xe13251(0x1e5)][_0xe13251(0x168)](_0xe13251(0x1aa))['JWT'],_0x20e64f=(0x0,Pi[_0xe13251(0x3a4)])({'instanceName':_0x38e049[_0xe13251(0x225)],'apiName':ot,'tokenId':(0x0,js['v4'])()},_0x47da21[_0xe13251(0x566)],{'expiresIn':_0x47da21[_0xe13251(0x574)],'encoding':'utf8','subject':_0xe13251(0x545)}),_0x2fdf18=await this['repository'][_0xe13251(0x2a0)][_0xe13251(0x838)]({'jwt':_0x20e64f},_0x38e049['instanceName']);if(_0x2fdf18[_0xe13251(0x685)])throw this[_0xe13251(0x3c2)]['error']({'localError':u[_0xe13251(0x7e8)]+_0xe13251(0x7fe),'error':_0x2fdf18[_0xe13251(0x685)]}),new m(_0xe13251(0x1d3),_0x2fdf18[_0xe13251(0x685)]?.[_0xe13251(0x6b5)]());return{'jwt':_0x20e64f};}async[a0_0x5a0e1e(0x4ed)](_0x2ba238){const _0x36e2ca=a0_0x5a0e1e;let _0x2ad931=(0x0,js['v4'])()[_0x36e2ca(0x49a)](),_0x46c82d=await this['repository']['auth'][_0x36e2ca(0x838)]({'apikey':_0x2ad931},_0x2ba238['instanceName']);if(_0x46c82d['error'])throw this['logger'][_0x36e2ca(0x685)]({'localError':u['name']+_0x36e2ca(0x7fe),'error':_0x46c82d['error']}),new m(_0x36e2ca(0x1d3),_0x46c82d[_0x36e2ca(0x685)]?.[_0x36e2ca(0x6b5)]());return{'apikey':_0x2ad931};}async[a0_0x5a0e1e(0x359)](_0x50c591){const _0x4619cc=a0_0x5a0e1e;let _0x35cba2=this['configService'][_0x4619cc(0x168)]('AUTHENTICATION');return await this[_0x35cba2[_0x4619cc(0x6a1)]](_0x50c591);}},Qt=class{constructor(_0x34d012){const _0x4c3ad5=a0_0x5a0e1e;this[_0x4c3ad5(0xd2)]=_0x34d012;}async[a0_0x5a0e1e(0x178)](_0xadf8ed,_0x4775ba){const _0x7f28fc=a0_0x5a0e1e;return await this[_0x7f28fc(0xd2)][_0x7f28fc(0x422)][_0xadf8ed[_0x7f28fc(0x225)]][_0x7f28fc(0x178)](_0x4775ba);}async[a0_0x5a0e1e(0x389)](_0x327a74,_0x1de3f4){const _0x440160=a0_0x5a0e1e;return await this['waMonitor'][_0x440160(0x422)][_0x327a74[_0x440160(0x225)]][_0x440160(0x389)](_0x1de3f4);}async[a0_0x5a0e1e(0x5c5)](_0x1b421e,_0x547d8d){const _0x2d2efe=a0_0x5a0e1e;return await this[_0x2d2efe(0xd2)]['waInstances'][_0x1b421e[_0x2d2efe(0x225)]][_0x2d2efe(0x5c5)](_0x547d8d);}async[a0_0x5a0e1e(0x5bd)](_0x55bff1,_0x345b22){const _0x1a117c=a0_0x5a0e1e;return await this[_0x1a117c(0xd2)]['waInstances'][_0x55bff1['instanceName']][_0x1a117c(0x5bd)](_0x345b22);}async[a0_0x5a0e1e(0xe6)](_0x10a655,_0x662e33){const _0x7a1763=a0_0x5a0e1e;return await this['waMonitor']['waInstances'][_0x10a655[_0x7a1763(0x225)]]['groupBetterSetting'](_0x662e33);}async[a0_0x5a0e1e(0x4a7)](_0x1a47b8,_0x386fb1){const _0x401d2a=a0_0x5a0e1e;return await this['waMonitor'][_0x401d2a(0x422)][_0x1a47b8[_0x401d2a(0x225)]][_0x401d2a(0x4a7)](_0x386fb1);}async[a0_0x5a0e1e(0x6d4)](_0x1d7e63,_0x241629){const _0x51a912=a0_0x5a0e1e;return await this['waMonitor'][_0x51a912(0x422)][_0x1d7e63[_0x51a912(0x225)]]['findGroup'](_0x241629);}async[a0_0x5a0e1e(0x3ab)](_0x24517f){const _0x587622=a0_0x5a0e1e;return await this[_0x587622(0xd2)][_0x587622(0x422)][_0x24517f['instanceName']][_0x587622(0x3ab)]();}async['inviteCode'](_0x3e34cc,_0x45af26){const _0x311b7f=a0_0x5a0e1e;return await this['waMonitor'][_0x311b7f(0x422)][_0x3e34cc['instanceName']][_0x311b7f(0x107)](_0x45af26);}async[a0_0x5a0e1e(0x409)](_0x44c124,_0x4f803c){const _0x3e2385=a0_0x5a0e1e;return await this[_0x3e2385(0xd2)][_0x3e2385(0x422)][_0x44c124[_0x3e2385(0x225)]][_0x3e2385(0x409)](_0x4f803c);}async[a0_0x5a0e1e(0x69e)](_0x247047,_0xe98962){const _0x461e55=a0_0x5a0e1e;return await this['waMonitor']['waInstances'][_0x247047[_0x461e55(0x225)]][_0x461e55(0x69e)](_0xe98962);}async['revokeInviteCode'](_0x5a9c5e,_0x1f7b90){const _0x137865=a0_0x5a0e1e;return await this[_0x137865(0xd2)][_0x137865(0x422)][_0x5a9c5e[_0x137865(0x225)]][_0x137865(0x789)](_0x1f7b90);}async[a0_0x5a0e1e(0x4d8)](_0x242966,_0x3790f3){const _0x47f7df=a0_0x5a0e1e;return await this[_0x47f7df(0xd2)][_0x47f7df(0x422)][_0x242966[_0x47f7df(0x225)]][_0x47f7df(0x4d8)](_0x3790f3);}async[a0_0x5a0e1e(0x457)](_0x561aae,_0x496d36){const _0x15015c=a0_0x5a0e1e;return await this[_0x15015c(0xd2)][_0x15015c(0x422)][_0x561aae[_0x15015c(0x225)]][_0x15015c(0x520)](_0x496d36);}async[a0_0x5a0e1e(0x7ca)](_0x574d34,_0x3a6c42){const _0x122fe0=a0_0x5a0e1e;return await this[_0x122fe0(0xd2)][_0x122fe0(0x422)][_0x574d34[_0x122fe0(0x225)]][_0x122fe0(0x7ca)](_0x3a6c42);}async['leaveGroup'](_0x10129d,_0x4e1b44){const _0x4ffbae=a0_0x5a0e1e;return await this[_0x4ffbae(0xd2)][_0x4ffbae(0x422)][_0x10129d[_0x4ffbae(0x225)]][_0x4ffbae(0x3fe)](_0x4e1b44);}},Yt=class{constructor(_0x377b77){this['waMonitor']=_0x377b77;}['create'](_0x4a2991,_0x3fc0a4){const _0x2d9633=a0_0x5a0e1e;return this[_0x2d9633(0xd2)][_0x2d9633(0x422)][_0x4a2991[_0x2d9633(0x225)]][_0x2d9633(0x399)](_0x3fc0a4);}async['find'](_0x5c5759){const _0x23db6e=a0_0x5a0e1e;try{return await this['waMonitor'][_0x23db6e(0x422)][_0x5c5759[_0x23db6e(0x225)]][_0x23db6e(0x843)]();}catch{return{'enabled':null,'url':''};}}},ch=new $(a0_0x5a0e1e(0x4dd)),Xt=class{constructor(_0x205084){const _0x47176a=a0_0x5a0e1e;this[_0x47176a(0xd2)]=_0x205084;}async[a0_0x5a0e1e(0x582)](_0x829936,_0x3a8326){const _0x2dc5eb=a0_0x5a0e1e;return await this[_0x2dc5eb(0xd2)][_0x2dc5eb(0x422)][_0x829936[_0x2dc5eb(0x225)]][_0x2dc5eb(0x582)](_0x3a8326);}async[a0_0x5a0e1e(0x77e)](_0x294b91){const _0xde1bb2=a0_0x5a0e1e;return await this[_0xde1bb2(0xd2)][_0xde1bb2(0x422)][_0x294b91[_0xde1bb2(0x225)]][_0xde1bb2(0x77e)]();}async[a0_0x5a0e1e(0x33b)](_0xb4f736){const _0x5cb787=a0_0x5a0e1e;return await this[_0x5cb787(0xd2)]['waInstances'][_0xb4f736[_0x5cb787(0x225)]][_0x5cb787(0x33b)]();}async[a0_0x5a0e1e(0x6be)](_0x156c78){const _0x4b0c7f=a0_0x5a0e1e;return await this['waMonitor'][_0x4b0c7f(0x422)][_0x156c78[_0x4b0c7f(0x225)]][_0x4b0c7f(0x6be)]();}async[a0_0x5a0e1e(0x7d4)](_0x57f03d){const _0x15a4e0=a0_0x5a0e1e;return await this[_0x15a4e0(0xd2)][_0x15a4e0(0x422)][_0x57f03d[_0x15a4e0(0x225)]][_0x15a4e0(0x7d4)]();}async[a0_0x5a0e1e(0x5a5)](_0x1cab0d,_0x3b1e53){const _0x39874c=a0_0x5a0e1e;return await this['waMonitor'][_0x39874c(0x422)][_0x1cab0d[_0x39874c(0x225)]][_0x39874c(0x5a5)](_0x3b1e53);}async['updateCustomFields'](_0x19b1d7,_0x161268){const _0x222e86=a0_0x5a0e1e;return await this[_0x222e86(0xd2)][_0x222e86(0x422)][_0x19b1d7[_0x222e86(0x225)]][_0x222e86(0xce)](_0x161268);}async[a0_0x5a0e1e(0xf3)](_0x1da5b1,_0x4278c5){const _0x23ff21=a0_0x5a0e1e;return await this[_0x23ff21(0xd2)]['waInstances'][_0x1da5b1['instanceName']]['updateAutoCompleteMessages'](_0x4278c5);}async['updateFlowConfig'](_0x243a86,_0x4426d9){const _0x3ad6f1=a0_0x5a0e1e;return await this[_0x3ad6f1(0xd2)][_0x3ad6f1(0x422)][_0x243a86[_0x3ad6f1(0x225)]]['updateFlowConfig'](_0x4426d9);}async['startFlow'](_0x13bcb9,_0x5cfba8){const _0x4084c9=a0_0x5a0e1e;return await this[_0x4084c9(0xd2)][_0x4084c9(0x422)][_0x13bcb9[_0x4084c9(0x225)]][_0x4084c9(0x16d)](_0x5cfba8);}async[a0_0x5a0e1e(0x82c)](_0x19c9bb,_0x46ff0e,_0x1b443a,_0x441a39){const _0xe7feb6=a0_0x5a0e1e;return await this['waMonitor'][_0xe7feb6(0x422)][_0x19c9bb]['startFlowWebhook'](_0x46ff0e,_0x1b443a,_0x441a39);}async[a0_0x5a0e1e(0x60c)](_0x3d03bf,_0x1a597e){const _0x642ec=a0_0x5a0e1e;return await this[_0x642ec(0xd2)]['waInstances'][_0x3d03bf[_0x642ec(0x225)]]['getConversation'](_0x1a597e);}async[a0_0x5a0e1e(0x7a9)](_0xf55a,_0x27b1e9){const _0x5dd48a=a0_0x5a0e1e;return await this['waMonitor'][_0x5dd48a(0x422)][_0xf55a[_0x5dd48a(0x225)]][_0x5dd48a(0x7a9)](_0x27b1e9);}async['editConversation'](_0x3d8972,_0x45d87a){const _0x5c4987=a0_0x5a0e1e;return await this[_0x5c4987(0xd2)][_0x5c4987(0x422)][_0x3d8972[_0x5c4987(0x225)]][_0x5c4987(0x575)](_0x45d87a);}async[a0_0x5a0e1e(0x3ff)](_0x3ca11b,_0x17ddca){const _0x188933=a0_0x5a0e1e;return await this['waMonitor'][_0x188933(0x422)][_0x3ca11b[_0x188933(0x225)]][_0x188933(0x3ff)](_0x17ddca);}async[a0_0x5a0e1e(0x233)](_0x77875c,_0x2fea82){const _0x27bc39=a0_0x5a0e1e;return await this[_0x27bc39(0xd2)][_0x27bc39(0x422)][_0x77875c[_0x27bc39(0x225)]][_0x27bc39(0x233)](_0x2fea82[_0x27bc39(0x772)]);}async[a0_0x5a0e1e(0x448)](_0x1053ef,_0x254993,_0x5a426e){const _0x3a8768=a0_0x5a0e1e;return await this[_0x3a8768(0xd2)][_0x3a8768(0x422)][_0x1053ef[_0x3a8768(0x225)]][_0x3a8768(0x448)](_0x254993,_0x5a426e);}async[a0_0x5a0e1e(0x135)](_0x469cfd,_0x36e715,_0x25fe1f){const _0x19b79e=a0_0x5a0e1e;return await this[_0x19b79e(0xd2)][_0x19b79e(0x422)][_0x469cfd[_0x19b79e(0x225)]][_0x19b79e(0x135)](_0x36e715,_0x25fe1f);}async['editFlowBlock'](_0xf55928,_0x41a80b){const _0x366b8f=a0_0x5a0e1e;return await this[_0x366b8f(0xd2)]['waInstances'][_0xf55928[_0x366b8f(0x225)]][_0x366b8f(0x325)](_0x41a80b);}async[a0_0x5a0e1e(0x12e)](_0x4f216d,_0xecefb9){const _0x3911de=a0_0x5a0e1e;return await this[_0x3911de(0xd2)]['waInstances'][_0x4f216d[_0x3911de(0x225)]]['editFlowReply'](_0xecefb9);}async[a0_0x5a0e1e(0x4a6)](_0x15c4a8,_0x2656a0){const _0x81f411=a0_0x5a0e1e;return await this[_0x81f411(0xd2)][_0x81f411(0x422)][_0x15c4a8[_0x81f411(0x225)]]['editFlowGroup'](_0x2656a0);}async[a0_0x5a0e1e(0x54c)](_0x1bef59,_0x19f176){const _0xc74b40=a0_0x5a0e1e;return await this[_0xc74b40(0xd2)][_0xc74b40(0x422)][_0x1bef59['instanceName']]['editFlowCondition'](_0x19f176);}async[a0_0x5a0e1e(0x664)](_0x438653,_0x1c35da){const _0x42b163=a0_0x5a0e1e;return await this[_0x42b163(0xd2)]['waInstances'][_0x438653[_0x42b163(0x225)]][_0x42b163(0x664)](_0x1c35da);}async[a0_0x5a0e1e(0x746)](_0x2eb62a,_0x266b82){const _0x3f6090=a0_0x5a0e1e;return await this['waMonitor'][_0x3f6090(0x422)][_0x2eb62a[_0x3f6090(0x225)]][_0x3f6090(0x746)](_0x266b82);}async[a0_0x5a0e1e(0x136)](_0x150b79,_0x55ec1e){const _0x3e2c54=a0_0x5a0e1e;return await this[_0x3e2c54(0xd2)][_0x3e2c54(0x422)][_0x150b79[_0x3e2c54(0x225)]][_0x3e2c54(0x136)](_0x55ec1e);}async[a0_0x5a0e1e(0x64d)](_0x4b16c8){const _0x87c50f=a0_0x5a0e1e;return await this[_0x87c50f(0xd2)][_0x87c50f(0x422)][_0x4b16c8[_0x87c50f(0x225)]][_0x87c50f(0x64d)]();}},Zt=class{constructor(_0x848745){const _0x15682b=a0_0x5a0e1e;this[_0x15682b(0x51d)]=_0x848745;}async['createWebhook'](_0x52dd4c,_0x14fb10){const _0x5e26c2=a0_0x5a0e1e;return this[_0x5e26c2(0x51d)][_0x5e26c2(0x838)](_0x52dd4c,_0x14fb10);}async[a0_0x5a0e1e(0x843)](_0x3b639a){const _0x40eaad=a0_0x5a0e1e;return this[_0x40eaad(0x51d)][_0x40eaad(0x174)](_0x3b639a);}},es=class extends O{constructor(_0x96d2ec,_0x4e3b89){const _0x4a30e1=a0_0x5a0e1e;super(_0x4e3b89),this[_0x4a30e1(0x307)]=_0x96d2ec,this[_0x4a30e1(0x1e5)]=_0x4e3b89;}async[a0_0x5a0e1e(0x838)](_0x138933,_0x40717a){const _0x3ab930=a0_0x5a0e1e;try{return this[_0x3ab930(0x840)][_0x3ab930(0x160)]?{'insertCount':(await this[_0x3ab930(0x307)][_0x3ab930(0x4c4)]({'_id':_0x40717a},{..._0x138933},{'upsert':!0x0}))[_0x3ab930(0x273)]}:{'insertCount':0x1};}catch(_0x30e25d){return _0x30e25d;}}async[a0_0x5a0e1e(0x5ab)](_0xec4b51){const _0x83d0f9=a0_0x5a0e1e;try{if(this['dbSettings'][_0x83d0f9(0x160)]){await this['webhookModel'][_0x83d0f9(0x3b2)]({'_id':_0xec4b51});return;}}catch(_0x319a12){return{'error':_0x319a12};}}async[a0_0x5a0e1e(0x174)](_0x59a936){const _0x21382b=a0_0x5a0e1e;try{if(this[_0x21382b(0x840)][_0x21382b(0x160)])return await this[_0x21382b(0x307)][_0x21382b(0x524)]({'_id':_0x59a936});}catch{return{};}}},ts=class extends O{constructor(_0x462f85,_0xcf945f){const _0x1a4e0c=a0_0x5a0e1e;super(_0xcf945f),this['authModel']=_0x462f85,this['configService']=_0xcf945f,this['auth']=_0xcf945f[_0x1a4e0c(0x168)]('AUTHENTICATION');}async[a0_0x5a0e1e(0x838)](_0x2ba7bf,_0x5d35ca){const _0x42bd38=a0_0x5a0e1e;try{if(this[_0x42bd38(0x840)][_0x42bd38(0x160)])return{'insertCount':(await this[_0x42bd38(0x10b)][_0x42bd38(0xbb)]({'_id':_0x5d35ca},{'$set':{..._0x2ba7bf}},{'upsert':!0x0}))['modifiedCount']};}catch(_0x177e80){return{'error':_0x177e80};}}async[a0_0x5a0e1e(0x162)](_0x3b204d,_0x2954ed){const _0x5b0512=a0_0x5a0e1e;try{if(this[_0x5b0512(0x840)]['ENABLED'])return{'insertCount':(await this[_0x5b0512(0x10b)]['updateMany'](_0x3b204d,{'$set':_0x2954ed},{'upsert':!0x1}))[_0x5b0512(0x273)]};throw new Error(_0x5b0512(0x44d));}catch(_0x4a11f8){return{'error':_0x4a11f8};}}async['deleteMany'](_0x3b63d9){const _0x20f3c8=a0_0x5a0e1e;try{if(this['dbSettings'][_0x20f3c8(0x160)])return{'insertCount':(await this[_0x20f3c8(0x10b)][_0x20f3c8(0x68b)](_0x3b63d9))[_0x20f3c8(0x286)]};throw new Error('[AUTH]\x20Database\x20is\x20not\x20enabled');}catch(_0x381660){return{'error':_0x381660};}}async[a0_0x5a0e1e(0x5ab)](_0x24fdd1){const _0x55e27c=a0_0x5a0e1e;try{if(this[_0x55e27c(0x840)][_0x55e27c(0x160)]){await this['authModel'][_0x55e27c(0x3b2)]({'_id':_0x24fdd1});return;}}catch(_0x3110eb){return{'error':_0x3110eb};}}async['find'](_0x2efe5e){const _0x30fc9d=a0_0x5a0e1e;try{if(this[_0x30fc9d(0x840)][_0x30fc9d(0x160)])return await this[_0x30fc9d(0x10b)][_0x30fc9d(0x524)]({'_id':_0x2efe5e});}catch{return{};}}async[a0_0x5a0e1e(0x3fd)](){const _0x5d6ac3=a0_0x5a0e1e;try{if(this['dbSettings'][_0x5d6ac3(0x160)])return await this[_0x5d6ac3(0x10b)]['find']();}catch{return[];}}async[a0_0x5a0e1e(0x659)](_0x260250){const _0xfa3417=a0_0x5a0e1e;try{if(this['dbSettings'][_0xfa3417(0x160)])return await this[_0xfa3417(0x10b)][_0xfa3417(0x174)](_0x260250);}catch{return[];}}},ss=class extends O{async[a0_0x5a0e1e(0x3b2)](_0x1f40e9){const _0x3df5c7=a0_0x5a0e1e;try{let _0x403842=A(_0x1f40e9[_0x3df5c7(0x71f)]);return{'deletedCount':(await Me[_0x3df5c7(0x3b2)](_0x403842))['deletedCount']};}catch(_0x533b5a){return{'error':_0x533b5a?.[_0x3df5c7(0x6b5)]()};}}async['updateOne'](_0x396b8c,_0x5cb81a){const _0x26437a=a0_0x5a0e1e;try{let _0x1634fb=await Me[_0x26437a(0x5a8)](_0x396b8c);return _0x1634fb?(Object[_0x26437a(0xfe)](_0x1634fb,_0x5cb81a),await _0x1634fb[_0x26437a(0x1a5)]()):(console[_0x26437a(0x685)](_0x26437a(0x5b8),_0x396b8c),null);}catch(_0x1d8457){return console[_0x26437a(0x685)](_0x26437a(0x4db),_0x1d8457),null;}}async[a0_0x5a0e1e(0x506)](_0x1adbd3){const _0x1e4f60=a0_0x5a0e1e;try{return await new Me(_0x1adbd3)['save']();}catch(_0x371e2f){return console[_0x1e4f60(0x685)](_0x1e4f60(0x6f6),_0x371e2f),null;}}async[a0_0x5a0e1e(0x3fd)](_0x479619){const _0x3adf18=a0_0x5a0e1e;try{let _0x18d475=_0x479619[_0x3adf18(0x71f)]??{};return await Me[_0x3adf18(0x174)](_0x18d475)['limit'](_0x479619[_0x3adf18(0x2f6)]??0x0)['lean']();}catch(_0x4f0276){return console[_0x3adf18(0x685)](_0x3adf18(0x446),_0x4f0276),[];}}async[a0_0x5a0e1e(0x524)](_0x20756d){const _0x25c194=a0_0x5a0e1e;try{let _0x54b3d0=A(_0x20756d[_0x25c194(0x71f)]);return await Me[_0x25c194(0x524)](_0x54b3d0)['lean']();}catch{return null;}}},as=class extends O{[a0_0x5a0e1e(0x683)](_0x1c31e6){return Sa(_0x1c31e6);}async[a0_0x5a0e1e(0x49e)](_0x5f3303){const _0x102d2b=a0_0x5a0e1e;if(_0x5f3303[_0x102d2b(0x106)]!==0x0)try{return{'insertCount':(await this[_0x102d2b(0x683)](_0x5f3303[0x0]['owner'])['insertMany']([..._0x5f3303]))[_0x102d2b(0x106)]};}catch(_0x15797f){return _0x15797f;}}async[a0_0x5a0e1e(0x5ab)](_0x57cfbe,_0x8a240a){const _0x54c2e1=a0_0x5a0e1e;try{let _0x14206c=this[_0x54c2e1(0x683)](_0x8a240a),_0x54c2d0=A(_0x57cfbe['where']);return{'deletedCount':(await _0x14206c[_0x54c2e1(0x68b)](_0x54c2d0))['deletedCount']};}catch(_0xbf6e27){return{'error':_0xbf6e27?.['toString']()};}}async[a0_0x5a0e1e(0x3b2)](_0x39f7c9,_0x5ecfa0){const _0x32f31f=a0_0x5a0e1e;try{let _0x4ae894=this[_0x32f31f(0x683)](_0x5ecfa0),_0x5da6ed=A(_0x39f7c9[_0x32f31f(0x71f)]);return{'deletedCount':(await _0x4ae894[_0x32f31f(0x3b2)](_0x5da6ed))[_0x32f31f(0x286)]};}catch(_0x4de686){return{'error':_0x4de686?.[_0x32f31f(0x6b5)]()};}}async[a0_0x5a0e1e(0x15d)](_0x1cd330,_0x92929d){const _0x27b2db=a0_0x5a0e1e;try{if(_0x1cd330[_0x27b2db(0x106)]===0x0)return;let _0x591b42=this[_0x27b2db(0x683)](_0x92929d),_0x3a912e=_0x1cd330['map'](_0x145c91=>({'updateOne':{'filter':{'name':_0x145c91[_0x27b2db(0x7e8)],'owner':_0x92929d},'update':{..._0x145c91}}})),{modifiedCount:_0x4ddcf5}=await _0x591b42[_0x27b2db(0x36f)](_0x3a912e);return{'insertCount':_0x4ddcf5};}catch{return;}}async[a0_0x5a0e1e(0x2b8)](_0x543977,_0x460bb2,_0x4a30bf){const _0x1d6b37=a0_0x5a0e1e;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x4a30bf)[_0x1d6b37(0x2b8)](_0x543977,{'$set':_0x460bb2})['exec']())[_0x1d6b37(0x273)]};}catch(_0x1f6337){return console[_0x1d6b37(0x685)](_0x1d6b37(0x730),_0x1f6337),{'error':_0x1f6337};}}async['updateOne'](_0xbb91f,_0x372ba6,_0x3240ad){const _0x55c987=a0_0x5a0e1e;try{return await this[_0x55c987(0x683)](_0x3240ad)['findOneAndUpdate']({'_id':_0xbb91f},{'$set':_0x372ba6},{'new':!0x0,'upsert':!0x0})[_0x55c987(0x47d)]();}catch(_0x1bdfb1){return console[_0x55c987(0x685)](_0x1bdfb1),null;}}async[a0_0x5a0e1e(0x174)](_0x30bd5b,_0x10477f){const _0x3e3792=a0_0x5a0e1e;try{return await this[_0x3e3792(0x683)](_0x10477f)['find'](_0x30bd5b)[_0x3e3792(0x4a0)]({'lastInteraction':-0x1})[_0x3e3792(0x47d)]();}catch{return[];}}async[a0_0x5a0e1e(0x524)](_0xf5ea5f,_0xa781f7){const _0x246527=a0_0x5a0e1e;try{return await this[_0x246527(0x683)](_0xa781f7)['findOne']({..._0xf5ea5f[_0x246527(0x71f)]})['lean']();}catch{return null;}}async[a0_0x5a0e1e(0x847)](_0x1ef1f7){const _0x3375c2=a0_0x5a0e1e;try{return await this[_0x3375c2(0x683)](_0x1ef1f7)[_0x3375c2(0x36a)][_0x3375c2(0x660)](),{'success':!0x0};}catch(_0xc9544a){return console[_0x3375c2(0x685)](_0xc9544a),{'success':!0x1,'error':_0xc9544a};}}},is=class extends O{['getScheduleMessageModelForOwner'](_0x2d52fb){return Ma(_0x2d52fb);}async['bulkWrite'](_0x4043b6,_0x537311){const _0x2de1c5=a0_0x5a0e1e;try{return await this[_0x2de1c5(0x787)](_0x537311)['bulkWrite'](_0x4043b6);}catch(_0xef5a7b){return console['error']('Erro\x20ao\x20executar\x20bulkWrite:',_0xef5a7b),null;}}async['createAndSave'](_0x59ffe8,_0x2b3e7b){const _0x29152a=a0_0x5a0e1e;try{let _0x30d7a5=this[_0x29152a(0x787)](_0x2b3e7b);return await new _0x30d7a5(_0x59ffe8)[_0x29152a(0x1a5)]();}catch(_0x3793ca){return console[_0x29152a(0x685)](_0x29152a(0x5c9),_0x3793ca),null;}}async['deleteOne'](_0x51c827,_0x453660){const _0x473783=a0_0x5a0e1e;try{return await this[_0x473783(0x787)](_0x453660)[_0x473783(0x350)](_0x51c827),{};}catch(_0xa68f9a){return{'error':_0xa68f9a?.[_0x473783(0x6b5)]()};}}async['updateOne'](_0x1590f9,_0xa5f81d,_0xb3b768,_0x56642d={}){const _0x534b31=a0_0x5a0e1e;try{return await this[_0x534b31(0x787)](_0xb3b768)[_0x534b31(0x2c1)](_0x1590f9,_0xa5f81d,{..._0x56642d,'new':!0x0})[_0x534b31(0x47d)]();}catch(_0xe7d339){return console['error'](_0x534b31(0x58f),_0xe7d339),null;}}async[a0_0x5a0e1e(0x429)](_0x8fd557,_0x22a84a,_0x40d26d){const _0xc9e9db=a0_0x5a0e1e;try{return await this[_0xc9e9db(0x787)](_0x40d26d)['findByIdAndUpdate'](_0x8fd557,_0x22a84a,{'new':!0x0})[_0xc9e9db(0x47d)]();}catch(_0x55c64a){return console[_0xc9e9db(0x685)](_0xc9e9db(0x58f),_0x55c64a),null;}}async[a0_0x5a0e1e(0x174)](_0x1da7c6,_0x9435f2){const _0x5914d7=a0_0x5a0e1e;try{return await this[_0x5914d7(0x787)](_0x9435f2)[_0x5914d7(0x174)](_0x1da7c6['where'])[_0x5914d7(0x2f6)](_0x1da7c6?.[_0x5914d7(0x2f6)]??0x0)[_0x5914d7(0x4a0)]({'when':0x1})[_0x5914d7(0x47d)]();}catch{return[];}}async[a0_0x5a0e1e(0x524)](_0x355e98,_0x13f435){const _0x57f8cf=a0_0x5a0e1e;try{return await this[_0x57f8cf(0x787)](_0x13f435)[_0x57f8cf(0x524)](_0x355e98['where'])[_0x57f8cf(0x4a0)]({'when':0x1})[_0x57f8cf(0x47d)]();}catch{return null;}}async[a0_0x5a0e1e(0x5a8)](_0x4b9798,_0x5b61c4){const _0x4b76dd=a0_0x5a0e1e;try{return await this[_0x4b76dd(0x787)](_0x5b61c4)[_0x4b76dd(0x5a8)](_0x4b9798)[_0x4b76dd(0x47d)]();}catch{return null;}}async[a0_0x5a0e1e(0x68b)](_0x2b29d8,_0xa31843){const _0x34aa66=a0_0x5a0e1e;try{return{'deletedCount':(await this[_0x34aa66(0x787)](_0xa31843)[_0x34aa66(0x68b)](_0x2b29d8))[_0x34aa66(0x286)]};}catch(_0x50b4e6){return console[_0x34aa66(0x685)](_0x34aa66(0xb1),_0x50b4e6),{'error':_0x50b4e6};}}async[a0_0x5a0e1e(0x847)](_0x214bd6){const _0xc36659=a0_0x5a0e1e;try{return await this[_0xc36659(0x787)](_0x214bd6)[_0xc36659(0x36a)][_0xc36659(0x660)](),{'success':!0x0};}catch(_0x192578){return console[_0xc36659(0x685)](_0x192578),{'success':!0x1,'error':_0x192578};}}},os=class extends O{async[a0_0x5a0e1e(0x15d)](_0x17880a,_0x10f34b){const _0x275a76=a0_0x5a0e1e;try{if(this[_0x275a76(0x840)][_0x275a76(0x160)])return await Te[_0x275a76(0x2c1)]({'_id':_0x10f34b},{'$set':_0x17880a},{'new':!0x0});}catch(_0x57795c){throw console['error'](_0x275a76(0x762),_0x57795c),_0x57795c;}}async[a0_0x5a0e1e(0x752)](_0xc58103){const _0xdc38a5=a0_0x5a0e1e;try{let _0x5a31ee=await Te[_0xdc38a5(0x5a8)](_0xc58103);return _0x5a31ee?_0x5a31ee[_0xdc38a5(0xc7)]||(_0x5a31ee['autoCompleteMessages']=[],await _0x5a31ee[_0xdc38a5(0x1a5)]()):(_0x5a31ee=new Te({'_id':_0xc58103,'autoCompleteMessages':[]}),await _0x5a31ee[_0xdc38a5(0x1a5)]()),_0x5a31ee;}catch(_0x5641a6){return _0x5641a6[_0xdc38a5(0x832)]===0x2af8&&_0x5641a6['keyPattern']&&_0x5641a6[_0xdc38a5(0x790)][_0xdc38a5(0x5cd)]?(console['error'](_0xdc38a5(0x680)),await Te[_0xdc38a5(0x36a)][_0xdc38a5(0xb6)](_0xdc38a5(0x833)),null):(console[_0xdc38a5(0x685)](_0xdc38a5(0x65b),_0x5641a6),null);}}},Jo=new $(a0_0x5a0e1e(0x48d)),qo=new Qe(S),Vo=new Jt(S),Go=new nt(S),Bo=new qt(oa,S),Wo=new Vt(na,S),zo=new es(ha,S),Ho=new ts(ua,S),Ko=new Ee(We,S),Qo=new ss(S),Yo=new Gt(S),Xo=new as(S),Zo=new is(S),er=new os(S),me=new He(qo,Vo,Go,Bo,Wo,zo,Ho,Ko,Qo,Xo,Yo,Zo,er,T?.[a0_0x5a0e1e(0x44b)]()),G=new jt(hs,S,me),tr=new Kt(S,G,me),sr=new Yt(G),As=new Zt(sr),_=new Xt(G),le=new zt(G,S,me,hs,tr),B=new Ht(G),D=new Bt(G),q=new Qt(G);Jo[a0_0x5a0e1e(0x531)]('Module\x20-\x20ON');var $g=require(a0_0x5a0e1e(0x51a)),Js=require('fs'),Di=I(require('https')),ki=I(require('http')),je=class u{static #e;static set['app'](_0x38caeb){this.#e=_0x38caeb;}static get[a0_0x5a0e1e(0x4e5)](){const _0x58c28e=a0_0x5a0e1e;let {FULLCHAIN:_0x4d5713,PRIVKEY:_0x4406e6}=S['get'](_0x58c28e(0x7e2));return Di[_0x58c28e(0x469)]({'cert':(0x0,Js[_0x58c28e(0x651)])(_0x4d5713),'key':(0x0,Js[_0x58c28e(0x651)])(_0x4406e6)},u.#e);}static get[a0_0x5a0e1e(0x352)](){const _0x4c4025=a0_0x5a0e1e;return ki[_0x4c4025(0x469)](u.#e);}},Je=I(require('fs')),qi=I(require('ini')),qe=I(require(a0_0x5a0e1e(0x7e4))),ns=I(require('path')),rs=require('child_process');function ar(){const _0x1b48c2=a0_0x5a0e1e;G[_0x1b48c2(0x2b9)]();let _0x5caedd=ns[_0x1b48c2(0x77c)]['join'](__dirname,'downloads');Ji(_0x5caedd);}var Ji=_0x5b2656=>{const _0x3aca46=a0_0x5a0e1e;let _0x986d31=Je['default'][_0x3aca46(0x4b9)](_0x5b2656),_0x13895f=0xc*0x3c*0x3c*0x3e8,_0xf4b420=0x2*0x3c*0x3c*0x3e8,_0x3275c9=new Date()[_0x3aca46(0x333)]();_0x986d31[_0x3aca46(0x3a6)](_0x370899=>{const _0x1750b9=_0x3aca46;let _0x414270=ns[_0x1750b9(0x77c)][_0x1750b9(0x33d)](_0x5b2656,_0x370899),_0x55a0fc=Je[_0x1750b9(0x77c)][_0x1750b9(0x785)](_0x414270)[_0x1750b9(0x4cb)][_0x1750b9(0x333)]();_0x3275c9-_0x55a0fc>_0x13895f&&(Je[_0x1750b9(0x77c)][_0x1750b9(0x5ac)](_0x414270),console[_0x1750b9(0x6ec)]('Deleted\x20'+_0x370899));}),setTimeout(()=>Ji(_0x5b2656),_0xf4b420);};function ir(){const _0x26f701=a0_0x5a0e1e;let _0x4ea2a9=new $(_0x26f701(0x4bd)),_0x5bf075=(0x0,we[_0x26f701(0x77c)])();_0x5bf075[_0x26f701(0x3ba)]((0x0,ji[_0x26f701(0x77c)])({'origin'(_0x368ea4,_0x3c6f52){const _0x365197=_0x26f701;let {ORIGIN:_0x4ae2af}=S[_0x365197(0x168)](_0x365197(0x320));return _0x368ea4||(_0x368ea4='*'),_0x4ae2af[_0x365197(0x708)]('*')!==-0x1||_0x4ae2af[_0x365197(0x708)](_0x368ea4)!==-0x1?_0x3c6f52(null,!0x0):_0x3c6f52(new Error(_0x365197(0x628)));},'methods':[...S[_0x26f701(0x168)]('CORS')[_0x26f701(0x1ff)]],'credentials':S['get']('CORS')[_0x26f701(0x50c)]}),(0x0,we[_0x26f701(0x4c9)])({'extended':!0x0,'limit':_0x26f701(0x694)}),(0x0,we[_0x26f701(0x7c0)])({'limit':_0x26f701(0x694)})),_0x5bf075[_0x26f701(0x3ba)]((_0x363ae8,_0x2b394b,_0x1e7460)=>{const _0x298912=_0x26f701;_0x363ae8[_0x298912(0x5c8)]['startsWith'](_0x298912(0x637))?_0x1e7460():(0x0,Ui[_0x298912(0x77c)])()(_0x363ae8,_0x2b394b,_0x1e7460);}),_0x5bf075[_0x26f701(0x5d9)]('view\x20engine',_0x26f701(0x260)),_0x5bf075['set'](_0x26f701(0x3f2),(0x0,Vs[_0x26f701(0x33d)])(ne,'views')),_0x5bf075[_0x26f701(0x3ba)](we[_0x26f701(0x77c)]['static']((0x0,Vs[_0x26f701(0x33d)])(ne,_0x26f701(0x234)))),_0x5bf075[_0x26f701(0x3ba)]((_0xe7c4f1,_0x442681,_0x3e22a7)=>{let _0x19adae=_0x442681['send'];_0x442681['send']=function(_0x57e973){const _0x672e88=a0_0xc548;if(_0xe7c4f1[_0x672e88(0x7f5)][_0x672e88(0x7d0)]===_0x672e88(0x153)||_0xe7c4f1['headers']['uazapi']===_0x672e88(0x153)){let _0x5b868d=JSON[_0x672e88(0x7f0)](_0x57e973);_0x57e973=JSON[_0x672e88(0x265)](_0x445a9e(_0x5b868d));}return _0x19adae[_0x672e88(0x649)](_0x442681,[_0x57e973]);},_0x3e22a7();}),_0x5bf075[_0x26f701(0x3ba)]('/',ke),_0x5bf075[_0x26f701(0x3ba)]((_0x19bc13,_0x3587e8,_0x462fa5,_0x5d84ad)=>{const _0x58e0dc=_0x26f701;if(_0x19bc13)return _0x462fa5[_0x58e0dc(0x1cc)](_0x19bc13[_0x58e0dc(0x1cc)]||0x1f4)[_0x58e0dc(0x7c0)](_0x19bc13);},(_0x5ccea4,_0x4b1009,_0x3c31a7)=>{const _0x1bfe37=_0x26f701;let {method:_0xe6726a,url:_0x4a8651}=_0x5ccea4;_0x4b1009['status'](0x194)['json']({'status':0x194,'message':_0x1bfe37(0x211)+_0xe6726a[_0x1bfe37(0x49a)]()+'\x20'+_0x4a8651,'error':_0x1bfe37(0x6cf)}),_0x3c31a7();});let _0x445a9e=(_0x4634c1,_0x325ea='_p_')=>{const _0x446955=_0x26f701;let _0x2fb15d=(_0x1ae547,_0x1b35b2=null,_0x588f35=!0x1)=>{const _0xc0edd0=a0_0xc548;let _0x9d2927={};return Object['keys'](_0x1ae547)[_0xc0edd0(0x3a6)](_0x1b08dd=>{const _0xaa24f0=_0xc0edd0;let _0x5d75cd=_0x1ae547[_0x1b08dd],_0x3ce971=''+_0x325ea+_0x1b08dd;_0x1b35b2&&!_0x588f35&&(_0x3ce971=_0x1b35b2+'.'+_0x1b08dd),!_0x5d75cd&&_0x5d75cd!==0x0&&_0x5d75cd!==!0x1||typeof _0x5d75cd>'u'?_0x9d2927[_0x3ce971]=null:typeof _0x5d75cd!=_0xaa24f0(0x698)&&!Array['isArray'](_0x5d75cd)?_0x9d2927[_0x3ce971]=_0x5d75cd:typeof _0x5d75cd==_0xaa24f0(0x698)&&!Array['isArray'](_0x5d75cd)?_0x9d2927=Object[_0xaa24f0(0xfe)](_0x9d2927,_0x2fb15d(_0x5d75cd,_0x3ce971)):Array[_0xaa24f0(0x1ed)](_0x5d75cd)&&(typeof _0x5d75cd[0x0]==_0xaa24f0(0x698)?(_0x9d2927[_0x3ce971]=[],_0x5d75cd['forEach'](_0x393f53=>{_0x9d2927[_0x3ce971]['push'](_0x2fb15d(_0x393f53,_0x3ce971,!0x0));})):_0x9d2927[_0x3ce971]=_0x5d75cd);}),_0x9d2927;};return Array[_0x446955(0x1ed)](_0x4634c1)?_0x4634c1['map'](_0x4c2190=>_0x2fb15d(_0x4c2190)):typeof _0x4634c1==_0x446955(0x698)&&_0x4634c1!==null?_0x2fb15d(_0x4634c1):{};},_0x123119=S[_0x26f701(0x168)](_0x26f701(0x4bd));je[_0x26f701(0x4ef)]=_0x5bf075;let _0x36dabc=je[_0x123119['TYPE']],_0x386acc=_0x26f701(0x1fa);_0x36dabc[_0x26f701(0x3f7)](_0x123119[_0x26f701(0x7ba)],()=>{const _0x3253d7=_0x26f701;_0x4ea2a9[_0x3253d7(0x6ec)](_0x386acc),_0x4ea2a9[_0x3253d7(0x6ec)](_0x123119['TYPE'][_0x3253d7(0x49a)]()+_0x3253d7(0x803)+_0x123119[_0x3253d7(0x7ba)]);}),ar(),Zs();}var or=a0_0x5a0e1e(0x25d),rr=ns[a0_0x5a0e1e(0x77c)][a0_0x5a0e1e(0x33d)](__dirname,a0_0x5a0e1e(0x4b3)),Re=null;function nr(){return new Promise((_0x526fe2,_0x1bc86b)=>{const _0x49fe8f=a0_0xc548;Je[_0x49fe8f(0x77c)][_0x49fe8f(0x311)](rr,'utf-8',(_0x33b021,_0x2802df)=>{const _0xe3f0ff=_0x49fe8f;if(_0x33b021){Re=_0x33b021,_0x526fe2();return;}qi[_0xe3f0ff(0x77c)][_0xe3f0ff(0x7f0)](_0x2802df)['remote\x20\x22origin\x22'][_0xe3f0ff(0x516)]===or?(Re=null,_0x526fe2()):(Re=new Error(_0xe3f0ff(0x62e)),_0x526fe2());});});}async function cr(){const _0x324296=a0_0x5a0e1e;try{await nr(),await Bi();}catch(_0x2db4ae){console[_0x324296(0x685)](_0x324296(0x44a)+_0x2db4ae),process[_0x324296(0x537)](0x1);}}cr();async function Vi(){const _0x3b2380=a0_0x5a0e1e;let _0x2f61b8;try{_0x2f61b8=(await qe[_0x3b2380(0x77c)][_0x3b2380(0x168)](_0x3b2380(0x34c)))['data']['ip'];}catch(_0x36a246){console[_0x3b2380(0x685)](_0x36a246);try{_0x2f61b8=(await qe[_0x3b2380(0x77c)]['get'](_0x3b2380(0x134)))[_0x3b2380(0x4cf)]['ip'];}catch(_0x31b18c){console[_0x3b2380(0x685)](_0x31b18c);try{_0x2f61b8=(await qe[_0x3b2380(0x77c)][_0x3b2380(0x168)](_0x3b2380(0x4ff)))[_0x3b2380(0x4cf)][_0x3b2380(0x4da)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x36d6dc){return console[_0x3b2380(0x685)](_0x36d6dc),!0x1;}}}return _0x2f61b8;}var Li=0x0;async function lr(){const _0x1dfb28=a0_0x5a0e1e;let _0x388e2f=await new ue(S[_0x1dfb28(0x168)](_0x1dfb28(0x5ce)))[_0x1dfb28(0x52b)]();return console['log'](_0x1dfb28(0x204),_0x388e2f[_0x1dfb28(0x106)]),_0x388e2f[_0x1dfb28(0x106)];}function ur(_0x2efd14){const _0x171794=a0_0x5a0e1e;let _0x3006d0=_0x2efd14[_0x171794(0x168)]('SERVER')['URL'],_0x402e9a=_0x2efd14['get']('SSL_CONF');console['log']('Valor\x20da\x20URL\x20recuperada:',_0x3006d0),console[_0x171794(0x6ec)]('Configuração\x20SSL\x20recuperada:',_0x402e9a);let _0x4e121e='',_0x4a1098=_0x3006d0||'';if(_0x3006d0){let _0x2fb907=_0x3006d0[_0x171794(0x4da)](/\/\/(.*?)\./);console[_0x171794(0x6ec)]('Resultado\x20da\x20correspondência\x20de\x20URL:',_0x2fb907),_0x2fb907&&_0x2fb907[0x1]&&(_0x4e121e=_0x2fb907[0x1],console[_0x171794(0x6ec)](_0x171794(0x261),_0x4e121e));}if(!_0x4e121e&&_0x402e9a&&_0x402e9a[_0x171794(0x756)]){let _0x1bca1e=_0x402e9a['FULLCHAIN']['split']('/');console[_0x171794(0x6ec)]('Partes\x20do\x20caminho\x20FULLCHAIN:',_0x1bca1e);let _0x5db0b6=_0x1bca1e[_0x1bca1e[_0x171794(0x106)]-0x2];if(console[_0x171794(0x6ec)](_0x171794(0x5ba),_0x5db0b6),_0x5db0b6){let _0x5a99ff=_0x5db0b6['split']('.');console['log'](_0x171794(0x215),_0x5a99ff),_0x5a99ff['length']>0x2&&(_0x4e121e=_0x5a99ff[0x0],console['log'](_0x171794(0x275),_0x4e121e),_0x4a1098=''+_0x5db0b6);}}return{'subdomain':_0x4e121e||_0x171794(0x3e4),'fullURL':_0x4a1098||_0x171794(0x543)};}var {subdomain:he,fullURL:Gs}=ur(S);function a0_0x2985(){const _0x57d058=['Db\x20Connection','findGroupInfo','\x22\x20-\x20NOT\x20CONNECTION','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','chat','no.connection','emit','none','-instances','this.reconnectAttempts:\x20','getOwnPropertyDescriptor','instanceName\x20not\x20provided.','width','cta_url','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','audioWhatsapp','updateGroupParticipantsWebhook','_error','messageTimestamp','Detalhes\x20do\x20erro:','CONECTADO\x20À\x20UAZAPI','Network\x20interfaces\x20detected:\x20','Erro\x20ao\x20tentar\x20autoCompleteMessages','inet6','start','log','CHATS_DELETE','Message\x20absent\x20from\x20node','cacheContact','getContactModelForOwner','lastBlockId','):\x20mediaMessageInfoId\x20:\x20','request\x20received\x20in\x20editConversation','authService','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','_sender','groupAcceptInvite','getChatModelForOwner','local_map','Connection','lastRealGroupsFetch','verifiedName','):\x20Enviando\x20contato','atendimentoAberto','backgroundColor','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','router','fetchPrivacySettings','updateFlowConfig','api','floor','flowConversation','indexOf','https://uazapi-plugin.bubbleapps.io/','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','\x20removido\x20do\x20chat\x20','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','PROXY','child_process','9390280PlfvKW','spawn','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','stopped','Internal\x20Server\x20Error','$set','every','stderr','#fe9dfe','wuid','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','findAndReplaceRegex','StartID:','processgoToFlow','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','waitingMenu_text','where','parseInt','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','all','\x1b[37m%s\x1b[0m','BufferJSON','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','STORE_CLEANING_TERMINAL','/instance/delete','editflowblock','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.','fileName','joinGroupValidate','fromObject','):\x20Não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','sharePass','menuIgnoreNonVotes','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','):\x20enviado\x20para\x20[','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','test','/events/:instance','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','filter','PRODUCT_LIST','collections','leadInfo.desativadoFluxoAte','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','deleted','Error\x20in\x20prepareMediaMessage:','groupUpdateSubject','order','blockId','Conversa\x20deletada\x20com\x20sucesso.','status.instance','MessageModel','editedMessage','creds.json','\x20-i\x20','editFlowVariable','dbInstance','Esse\x20fluxo\x20não\x20permite\x20importação.','Erro\x20ao\x20editar\x20a\x20conversa','contains','Falha\x20ao\x20recriar\x20IPv6.','replyOptions','inner','waitingMenu_replyOptions','bodyString','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20','Error\x20testing\x20IP\x20with\x20','findOrCreate','userDevicesCache','Erro\x20ao\x20encerrar\x20a\x20API','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','FULLCHAIN','notContains','unlocked','.ogg','\x1b[31m%s\x1b[0m','initializeQueue','Type\x20is\x20required','segundos','Erro\x20ao\x20criar\x20fluxo','getSeconds','caption','flowIgnoreGroups','Erro\x20ao\x20atualizar\x20AutomateSystem:','pollOnReplyDelete','SERVER_OFFLINE','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','announce','\x1b[44m','getUniqueFlowName','pollCreationMessage','getHours','Erro\x20ao\x20editar\x20o\x20chat','DELIVERY_ACK','paramsJson','sem\x20texto\x20na\x20mensagem','ms\x20(tentativa\x20','max','globalShow','_id','Erro\x20ao\x20editar\x20agentes','3EB0','mongodb','phoneNumber','SUCCESS','apiResponse','sharp','updateGroupWebhook','\x20minutos...','default','updateParticipant','getScheduleMessage','textMessage','requestFile','readMessage','messages.upsert','STATUS_INSTANCE','match_last_seen','statSync','\x1b[40m','getScheduleMessageModelForOwner','toFile','revokeInviteCode','organization','SERVER_URL','count','process','delayChatLabel_RETRY_DELAY_MS','KEY','keyPattern','Not\x20is\x20business\x20profile','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','Chat\x20com\x20ID\x20','#000000','variablesToObject','The\x20property\x20cannot\x20be\x20empty','statusJidList','API_KEY','insertCount','method','Error\x20writing\x20file:\x20','authorization','Request\x20Body:','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','CacheContacts\x20database\x20connection\x20closed.','updateBlock','\x1b[30m%s\x1b[0m','copyBlock','lastUpdate','fetchContacts','):Desconectado,\x20parando\x20execução.','request\x20received\x20in\x20getFlow','processPollUpdateMessage','--------------------------------------','fetchConversation','store','unhandledRejection','\x22\x20not\x20found','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','):\x20\x27Enviando\x20texto\x20para\x20\x27','oldToken','):\x20whoCanUse\x20after\x20validation:\x20','evaluateConditionTest','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','loggedOut','.\x20Pulando.','):\x20Todos\x20os\x20grupos\x20de\x20mensagens\x20foram\x20deletados\x20com\x20sucesso.','PASSWORD','\x1b[36m%s\x1b[0m','sections','processConditions','PORT','convertaudio','repository','Log\x20out\x20instance:\x20','uazapiSendContact','Validate','json','deleteBlock','descId','post','expression','Error\x20fetching\x20IPv6\x20count:\x20','flow','RemoteJid:','long','Instance\x20Key\x20from\x20DB:','toggleEphemeral','profileName','singleSelectReply','flattenObject','The\x20global\x20api\x20key\x20must\x20be\x20set','Grupo\x20não\x20encontrado','convert','item','bodyStringErrorParse','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','getAutomateSystem','pollMessage','URL:','Pausado\x20por\x20','lastReceivedMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','):\x20Criando\x20nova\x20conversa[createNewConversation]','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','\x1b[37m','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','processblock',',\x20Comparador:\x20','/wa-message','SSL_CONF','variables','axios','sendMessageWithTypingButtons','Bloco\x20com\x20ID\x20','makeCacheableSignalKeyStore','name','font','round','Rótulo\x20inválido\x20ou\x20sem\x20ID.','https://chat.whatsapp.com/','connectionUpdate','request\x20received\x20in\x20editFlowgroup','archiveChat','parse','REDIS_URI','):\x20Mensagens\x20PRONTAS\x20para\x20envio\x20encontradas:\x20','lowerCase','\x20ao\x20chat\x20','query','approve','request\x20received\x20in\x20editFlow','Group\x20not\x20found','hGet','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','varedit','Failed\x20to\x20send\x20buttons\x20message','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','.jwt','):Business\x20profile\x20fetched','groupToggleEphemeral','\x1b[34m%s\x1b[0m','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','\x20-\x20ON:\x20','configureIPv6','Número\x20não\x20possui\x20WhatsApp.','licenca','contacts.update','namespace','deleteInstance','328285VeilCo','pollCreationMessageV3','picture','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','text','getFullYear','whoCanUse','responsavelid','Variáveis\x20não\x20encontradas:','messaging-history.set','connectionState','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','Erro\x20ao\x20iniciar\x20o\x20fluxo.','prepareMediaMessage','request\x20received\x20in\x20updateAgent','setContext','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','charAt','ip\x20-6\x20addr\x20del\x20','agents','^\x5cd+','optionDescription','removed','entries','normalizeMessageContent','):\x20whoCanEdit\x20before\x20validation:\x20','automateSystem','sendMessageWithRetry','sendReaction','qrCode','getMessageModelForOwner','basename','option','startFlowWebhook','existsSync','viewOnceMessageV2','contactHandle','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','#dfaef0','code','autoCompleteMessages.command_1','connect','request_time','createConversationforgoToFlow','updateMediaMessage','create','getMinutes','createJid','):Image\x20is\x20base64','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','split','.doc','):Fetching\x20business\x20profile','dbSettings','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','document','findWebhook','createNewConversation','355032NXmRFB','trim','deleteAll',',\x20valor\x20passado:\x20\x22','):\x20Flow\x20\x27','truncatedto','\x22\x20cannot\x20be\x20empty','DATABASE_CONNECTION_HOST','cpf','setRestartTimeout','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','presence.update','admin','findGroup','STORE_MESSAGE','):Image\x20created','Connection\x20closed\x20for\x20instance:\x20','decryptPollVote','connectionStatus','):\x20\x27Enviando\x20audio\x20para\x20\x27','Error\x20updating\x20message\x20status:','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','imageMessage','):\x20Iniciando\x20bot...','notEqual','composing','allflows','minutesToClose','):\x20\x27Enviando\x20mídia\x20para\x20\x27','dbConnection','downloads','abs','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','env.KEY\x20!==\x20key','app-state-sync-key','recebido\x20de','SINGLE_SELECT','Erro\x20ao\x20deletar\x20mensagens:','Primeiro\x20Valor:\x20','value','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','ListMessage','dropIndex','config','remoteJids','reaction','\x0a{\x20instance:\x20','updateOne','chatId',',\x20received\x20','sendList','[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','):\x20[messages.upsert]\x20mensagem\x20duplicada\x20ignorada','sendMessageAck','.xls','mediatype','):\x20Current\x20Time:\x20','mentions','autoCompleteMessages','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','description','instances','.\x20Tentando\x20novamente\x20em\x20','delayChatLabel','Last\x20message\x20not\x20found','updateCustomFields','):\x20Enviando\x20enquete','slice','model','waMonitor','pm2\x20flush','dbClient','reviver','originalUrl','getLastMessage','):Converted\x20image\x20deleted','RECONNECT_TIME_FRAME','array','Timeout\x20exceeded','defineProperty','):\x20Editando\x20variável\x20do\x20fluxo...','AddUserFlow','catch','padEnd','LOG','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','REDIS_ENABLED','\x20segundos','inviteCodeDetails','groupBetterSetting','SendScheduleMessage','longitude','writeFileSync','):\x20updateResult:','STORE_CONTACTS','protocolMessage','less','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','replaceVariablesChat','):\x20Atualizando\x20status\x20da\x20mensagem\x20','PLAYED','\x20mensagens\x20de\x20','updateAutoCompleteMessages','CONTACTS_UPSERT','buttonsResponseMessage','jpegThumbnail','profilePicture','_Contacts','cacheInstanceRepository','timeoutPromise','updateProfilePicturePrivacy','isLong','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','assign','):\x20Ignoring\x20group\x20messages.','stopMinutesMaxActives','):\x20sender\x20=\x20number:\x20','toArray','block','send.message','Esse\x20fluxo\x20expirou','length','inviteCode','Fluxos\x20não\x20estão\x20ativados','loadWebhook','ORG:','authModel','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','awaitingApproval','2fOscDx','LOG_LEVEL','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','groupRevokeInvite','some','Instância\x20não\x20encontrada.','redisEnv','flowConfig','sendSticker','truncatedtoEnd','scheduleSendMedia','eventHandler','newStoppedUntil','ex:\x20\x22groupJid=120362@g.us\x22','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','/exit','transformScheduledMessagesByType','isListOfNumbers','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','MESSAGES_UPDATE','.wav','Rodapé\x20de\x20Teste','Filtered\x20network\x20interfaces:\x20','etiquetas','Subdomínio\x20final:','Nenhum\x20fluxo\x20correspondente\x20encontrado.','messages.set','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','):\x20Encontrado\x20próxima\x20mensagem\x20para\x20','Total\x20de\x20endereços\x20IPv6\x20após\x20a\x20limpeza:\x20','number','messageType','editFlowReply','getReadyToSendMessages','desativadoFluxoAte','Instance\x20ID:','DATABASE_ENABLED','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','https://api.ipify.org?format=json','editFlow','deleteFlow','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','/wa-presence','[TESTE\x20RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','#64c4ff','readreceipts','https://api.openai.com/v1/audio/speech','write','type','Error\x20finding\x20many\x20contacts:','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','stopConversation','getBusinessProfile','Read\x20messages','processConditionsTest','release','beautifyWithPlaceholders','uazapiSendAudio','):\x20customFieldVariables','\x20com\x20sucesso.','initAuthCreds','updateStopChat','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','uazapiSendMedia','ip6eui','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','reject','true','groupLeave','nomecompleto','\x1b[34m','.png','request_method','ignoreGroups','listType','realVariables','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','update','Fluxo\x20não\x20encontrado\x20na\x20memória.','jsonwebtoken','ENABLED','/instance','updateAll','options','created','Erro\x20de\x20atualização:\x20','getPrototypeOf','Erro\x20ao\x20tentar\x20updateCustomFields','get','createConversationforStartFlow','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','\x20:\x20','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','startFlow','warn','pollUpdateMessage','):\x20Enviando\x20localização','removeIPv6','Flow\x20iniciado\x20com\x20','greater','find','mongoose','):\x20error:\x20','/wa-all-message','createGroup','interactiveMessage','groupdata','.mimetype','convertToString','networkInterface','audio/ogg;\x20codecs=opus','processScheduleFlow','groups_ignore','isJidGroup','debug','website','remove','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','replace','$dbName','):\x20Iniciando\x20processo\x20de\x20deleção...','):\x20conversation.waitingMenu_name','buttonParamsJson','authentication','DARK','paused','global','replaceVariablesLogs','$pull','values','.webp','reorderReplyOptions','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','quotedMessage','updateLastSeenPrivacy','moreLogs','routerPath','CHATS_UPDATE','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','applyvaredit','):\x20Deletando\x20mensagem','SERVER_PORT','EMAIL:','${Message\x20absent\x20from\x20node}','variable','_Labels','latitude','All_Instances_Config','save','Erro\x20na\x20função\x20updateChatWithMessage:\x20','noConnection','Instance\x20Name:','creation','AUTHENTICATION','):\x20Bloco\x20com\x20ID\x20','delAll','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','qrcode','):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!','Número:\x20','/instance/connectionState','updateMissingCustomFields','getUpdate','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','CONNECTION','flowPrefixCommand','pairingCode','request\x20received\x20in\x20updateFlowConfig','):\x20Usando\x20extensão\x20padrão:\x20','pollMessageOnDelete','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','labels.association','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','cleanupExcessiveIPs','documentMessage','InstancesAlterarTodas','HOST','fetchBusinessProfile','URL','editOperator','isRunning','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','Erro\x20ao\x20importar\x20chats','relayMessage','statusMessage','stopMinutes','webhookMap','status','#9ab6c1','_FlowHistorico','/instance/fetchInstances','DEBUG','folder','):\x20Buscando\x20conversa...','Authentication\x20error','/wa-chats','@broadcast','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','selectedDisplayText','scheduleFlow','formatVCard','chats.update','uazapiSendText','quoted','request\x20received\x20in\x20fetchConversation','displayName','^\x5cd+([-]\x5cd+)*@g.us$','INFO','qrcode-terminal',',\x20valor\x20a\x20encontrar:\x20\x22','connecting','#9ba6ff','configService','getOwnPropertyNames','hGetAll','integer','getMessage','4viIhps','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','AutomateSystem','isArray',']\x20(','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','fetchLabels','Forbidden','cleanStore','defineAuthState','delay','messageStubParameters','instance','notas','next_groupId','_hour','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','dayjs','apiName','findGroupsEspecial','when','METHODS','groupJoinApprovalMode','\x0a*Você\x20respondeu*:\x0a','useMultiFileAuthState','):Image\x20converted\x20to\x20WebP','instancias:\x20','Total\x20de\x20endereços\x20IPv6\x20globais:\x20','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','The\x20\x22','trimmed','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','restrict','\x5c$&','\x20inseridas\x20no\x20banco\x20de\x20dados...','.TEL;waid=','/wa-qrcode','.\x20Aguardando\x20','enumerable','Cannot\x20','push','Erro\x20ao\x20alterar\x20fluxo','redis','Partes\x20do\x20domínio:','processawaitSeconds','.ogv','quick_reply','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','GET','available','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','Erro\x20ao\x20atualizar\x20o\x20flow.','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20','/group','Mensagens\x20deletadas\x20com\x20sucesso.','ipv6Prefix','detail','\x20excess\x20IPv6\x20addresses.','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','instanceName','findManyByIds','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped',',\x20isAdmin:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','execSync','capitalizedWords','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','toBrazilianNumberFormat','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','instanceInfo','resetReconnectionVariables','replacer','getFlow','public','button','replyOption','):\x20Entrou\x20na\x20função\x20processawaitSeconds','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','addBlock','extractPhoneNumber','):Audio\x20processed','/instance/connect','Erro\x20ao\x20buscar\x20a\x20conversa','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','imgUrl','sendLocation','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','Error\x20removing\x20unused\x20chat\x20fields:','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','/config','fakeReceived','eventEmitter','):\x20Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x20','response','):Error\x20in\x20converting\x20audio','recording','loadEnv','fromMe','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','formatBRNumber','conversationTimestamp','isCommunityAnnounce','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','isBusinessInstance','keep-alive','\x20minutos.\x20Será\x20às\x20','generateRandomIPv6','synchronizeAndMapFlows','uazapi','Deletion\x20failed','getMonth','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','https://github.com/uazapi/uazapi.git','The\x20','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','hbs','Subdomínio\x20extraído\x20da\x20URL:','/automate','AppStateSyncKeyData','qrcode.updated','stringify','matchRegex','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','min','replaceVariablesInObject','goToFlow','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','labelId','processApiRequest','contactMessage','Mensagem\x20perdida,\x20não\x20foi\x20possível\x20descriptografá-la,\x20abra\x20o\x20WhatsApp\x20no\x20seu\x20celular\x20para\x20visualizá-la','reactionMessage','DD/MM\x20HH:mm:ss','content-type','modifiedCount','/instance/create','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','node-cache','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','\x20não\x20encontrado','):\x20Going\x20to\x20','addChatLabel','.svg','finish','):\x20Bloco\x20copiado:\x20','contactsArrayMessage','pt-BR','reorderBlocks','senderKeyDistributionMessage','deviceSentMessage','Schema','mentioned','):\x20Rótulo\x20atualizado:\x20','deletedCount','#00a1f2','success','editChat','substring','output','editMessagesInGroup','mongodb://','reorderMessages','console','stateConnection','isURL','startID','chatModify','):\x20Editando\x20bloco...','Falha\x20ao\x20criar\x20IPv6.','groups.upsert','Sistema\x20atualizado\x20com\x20sucesso!','createConnection','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','arraybuffer','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','removeInstance','flows','detectIPv6PrefixAndInterface','Erro\x20ao\x20copiar\x20o\x20documento','auth','\x1b[47m','put','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','deleteMessage','imagechat','QRCODE_UPDATED','request\x20received\x20in\x20deleteAllMessages','Comando\x20desconhecido','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','findAndReplace','):\x20expirationTime:\x20','groups.update','toNumber','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','leadInfo','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','ReplyOption\x20com\x20ID\x20','triedToSend','Cache-Control','HH:mm:ss','\x1b[1m\x1b[37m','headers','not\x20loaded','updateMany','loadInstance','pictureUrl','list3','CHATS_UPSERT','/webhook','ephemeralMessage','request\x20body:\x20','Erro\x20inesperado\x20em\x20processvaredits:\x20','findOneAndUpdate','flowStopConversation','testIPv6','groupHandler','PREFIX_KEY','.docx','env','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','processvaredits','sha256','#56ccb4','#d3a91f','label_jid','apirequest','!stop','):\x20Query\x20params:','/:instanceName','https://','chats.delete','clearVariables','request\x20received\x20in\x20getConversation','yes','createIPv6','\x20}\x0a','Falha\x20após\x205\x20tentativas:\x20','fileLength','DisconnectReason','customFields','):\x20Error\x20processing\x20the\x20block:\x20','readMessages','_Chats','0123456789ABCDEF','toBRL','activatedCount','Enter\x20a\x20value\x20in\x20milliseconds','command','updateReadReceiptsPrivacy','?timestamp=','):\x20Ler\x20mensagem','DATABASE_CONNECTION_DB_PREFIX_NAME','sendPresenceUpdate','verbose','localWebhook','lastFetchAwaitingApproval','):\x20alterando\x20this.AutomateSystem','Close\x20connection','):\x20leadInfoVariables','upsertChats','Nenhum\x20participante\x20válido\x20encontrado.','lastSendMessage','SERVER_TYPE','findConversation','limit','flowStopMinutes','envProcess','_lastVote','isValidIPv6Config','AutomateSystem\x20não\x20foi\x20inicializado','AUTHENTICATION_API_KEY','statusCode','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','del','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','poll','DOCKER_ENV','PRIVKEY','OrAnd','WebhookGlobal','webhookModel','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','\x27\x20removido\x20do\x20AutomateSystem.','color','ScheduleMessageModel','client','restart','isBase64','Flow\x20\x27','list2','readFile','messageId','prototype','CHATS_SET','Type\x20not\x20found','groupJid','copy','storePath','https://ifconfig.me/ip','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','endSession','lastCondition','Database\x20connection\x20closed.','queue','https://uazapi-plugin.bubbleapps.io/?url=','CORS','onWhatsApp','request\x20received\x20in\x20getAutomateSystem','sendMessageWithTyping','cachedContact','editFlowBlock','Garbage\x20collection\x20não\x20está\x20disponível.','msgRetryCounterCache','message_normalized','):Archiving\x20chat','TEL','updatePresence','Subscribed\x20Events:','LICENSE_INVALID','\x1b[1m','\x1b[30m','Telefone:\x20','findContacts','AUTHENTICATION_TYPE','getTime','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','uncaughtException','request\x20received\x20in\x20updateCustomFields','E-mail:\x20','participants','[service]\x20request\x20received\x20in\x20sendButtons','action','deleteDoneMessages','#d8e651','join','redirect','\x20minutos','subjectOwner','):\x20Label\x20','choices','saveChatVariables','STORE','flowName','/wa-groups','menuType','):\x20Enviando\x20texto','buttons','Error\x20adding\x20IPv6\x20address:\x20','delayChatLabel_MAX_RETRIES','https://jsonip.com','findLabels','Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo','superadmin','findByIdAndDelete','whatsappNumbers','http','?authSource=admin&readPreference=primary&directConnection=true','removeData','LabelModel','PENDING','compression','events','generateHash','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','request\x20received\x20in\x20createFlow','GUARD','map','\x27\x20do\x20banco\x20de\x20dados...','sendDataWebhook','Erro\x20ao\x20arquivar\x20chat','scheduleSendAudio','leadInfo.customFields','crypto','unreadCount','WARN','waUploadToServer','\x22,\x20valor\x20a\x20substituir:\x20\x22','cleanDisconnectedInstances','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','collection','privacySettings','addToProcessedMessages','flushHeaders','joinApprovalMode','bulkWrite','idSchedule','.gif','isConnected','):\x20Reconectando\x20serviço\x20de\x20mensagens\x20após\x20limpeza.','):Processing\x20audio','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','https://api.elevenlabs.io/v1/text-to-speech/','pino','.extension','dark','formatStatusMessage','testingWith','\x1b[42m','HistoryProcessed','online','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','pollCreationMessageV2','DATABASE_CONNECTION_USER','refused','*Pergunta*:\x20\x0a','groupUpdateDescription','announcement','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','sleep','dataValidate','updateGroupPicture','sendText','setting','createSectionsFromValues','/clients-info','\x0aFN:','Cache\x20instance\x20update\x20result:\x20','numbers','footerText','pendingMessages','startsWith','menuExpiredMessage','fetchProfile','ip\x20-6\x20addr\x20show\x20dev\x20','demote','express','setWebhook','fullName','image','AddChatLabel','Mensagem\x20não\x20suportada','normalizeMessage','error_log','lastSend','updateConversation','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','Error\x20parsing\x20JSON:','sign','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','forEach','DELETED','Safari','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','encoding','findGroups','):Getting\x20image\x20from\x20url','DATABASE','participant','locked','randomBytes','request\x20received\x20in\x20starFlow','deleteOne','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','.pdf','connectedClient','labels.edit','silent','send','\x1b[32m','use','undefined','markMessageAsRead','):\x20Comando\x20desconhecido:\x20','insertMany','Parando\x20aplicação,\x20atualização\x20recebida','3241465bnSEzf','stdout','logger','\x20depois\x20','getValidWhatsAppNumbers','closed','-whatsapp-api','):\x20Editando\x20grupo\x20do\x20fluxo...','27dukJfT','):\x20transformedCustomFieldVariables','context','sendMedia','body','pollErrorMessage','saveTextReply','selectedButtonId','deleteReplyOption','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','waitingForReplyMenu','lastMessage','updateReplyOption','exists','message','cacheContactModel','\x1b[33m\x1b[1m','\x1b[0m','getMIMEType','vcard','\x22reaction\x22\x20must\x20be\x20an\x20emoji','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','):Temp\x20image\x20deleted','Background\x20color\x20is\x20required','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','removeChatLabel','.mp4','connection.update','Subdomínio\x20não\x20encontrado','countIPv6Addresses','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','isMessageProcessed','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','):\x20tem\x20blocks','creds','jid','deleteMessageForEveryone','profilePictureUrl','COLOR','processReadyMessages','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','END:VCARD','views','subject','webhook',',\x20Resultado:\x20','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','listen','Removidas\x20as\x20variáveis:\x20','mediaKey','Falha\x20ao\x20preparar\x20a\x20mensagem\x20de\x20mídia\x20após\x205\x20tentativas:\x20','processUazapi','getContentType','findAll','leaveGroup','deleteConversation','startCommandWord','keys','includes','findFlow','/64\x20dev\x20','ListType','#ff9484','close','sendStatus','joinGroup','ContactModel','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','condition','buttonText','instance.','replaceVariables','format',',\x20qrcodeCount:\x20','email','jsonschema','audio/ogg','sendWhatsAppAudio','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','end','hSet','Missing\x20global\x20api\x20key','chatHandle','remoteJid','\x20-y','groupValidate','title','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','startCommand','.type','waInstances','):\x20Removendo\x20\x27','Operador:\x20\x22','whatsappNumber','toDataURL','GROUP_PARTICIPANTS_UPDATE','enviado\x20para','updateOneById','preview','URL\x20completa:','blocks','messageLogsModel','processedMessagesCache','.webm','@g.us','reduce','NextBlock','Generated\x20IPv6:\x20','vir','editflowgroup','stanzaId','content','.ppt','firstValue','errors','_second','Erro\x20ao\x20deletar\x20chat:','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','updatePrivacySettings','uazapiSendMenu','RemoveChatLabel','unknown\x20operation\x20type\x20[','):\x20this.client.authState.creds?.myAppStateKeyId:\x20','):\x20isVote:\x20','GROUPS_UPSERT','media','Erro\x20ao\x20buscar\x20fluxos:','groupRequestParticipantsUpdate','createFlow','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','getClient','Invalid\x20format','Database\x20is\x20not\x20enabled','scheduleSendText','clear','ObjectId','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','cachedData-whatsapp','Last\x20message\x20not\x20found\x20for\x20number:\x20','videoMessage','and','importChatsBatch','updateGParticipate','g.us','descOwner','messages','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','verifyWhatsAppNumber','):\x20Error\x20processing\x20conditions:\x20','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','conversation','pollCreationMessageKey','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','restartInstance','fetchInstances','):\x20[messages.upsert]\x20group\x20ignored','):\x20delete\x20=\x20true','chat\x20não\x20encontrado','locationMessage','ChatModel','createServer','READ','):\x20Conversa\x20inserida\x20com\x20sucesso.','groupParticipantsUpdate','contacts.upsert','not_announcement','connectedName','/create','Selecione','SEND_MESSAGE','call','fetchChats','):\x20Erro\x20durante\x20a\x20atualização:\x20','Erro\x20ao\x20atualizar\x20agendamento\x20','application/json','delayMessage','shareFlow','groupdata.participants','.xlsx','convertToWebP','lean','enabled','#fed428','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo',',\x20saindo.','):\x20Conversa\x20está\x20expirada\x20-\x20voto','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','display_text','messageHandle','updateProfileStatus','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','StartBot','pushName','readMessageBot','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','WA\x20MODULE','):\x20Mensagem\x20já\x20enviada\x20para\x20','\x1b[32m%s\x1b[0m','vote','contact_blacklist','p-queue','ephemeralDuration','ChatRouter','\x1b[36m','creds.update','ip\x20-6\x20addr\x20add\x20',',\x20Segundo\x20Valor:\x20','authState','toUpperCase','Variável\x20não\x20encontrada!','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','Retornando\x20grupos\x20COM\x20cache','insert','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','sort','out','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','):Hash\x20to\x20image\x20name:\x20','scheduleMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','editFlowGroup','groupSetting','\x20contacts','buffer','ff:fe','updateOnlinePrivacy','ip\x20-6\x20addr\x20show\x20scope\x20global','pre','nativeFlowMessage','valid','contact','sectionsToString','groupSettingUpdate','./.git/config','chats.upsert','dbServer','Retornando\x20grupos\x20SEM\x20cache','Início','conditions','readdirSync','hex','Error\x20updating\x20cache\x20contact:','ip\x20-br\x20link\x20show','SERVER','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','):\x20newFirstValue\x20após\x20replaceVariables:','writeData','random','headerString','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','replaceOne','CONNECTION_UPDATE','Tentativa\x20','Data\x20inválida\x20fornecida','):\x20Fluxo\x20\x27','urlencoded','1177953NKioDM','birthtime','.txt','messageLogs','):\x20Buscando\x20conversas...','data','):\x20[messages.update]\x20group\x20ignored','isBusiness','API\x20Key\x20from\x20Request:','.url','VERBOSE','prepareWAMessageMedia','CORS_ORIGIN','deleteImportedChat','findParticipants','equal','match','Erro\x20ao\x20atualizar\x20o\x20fluxo:','):\x20Adicionando\x20\x27','FlowController','upperCase','Erro\x20ao\x20remover\x20label\x20','buttonOrList_id','then','archived','error\x20get\x20vote','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','https','USER','\x20tentativas.','.pptx','):\x20Enviando\x20áudio','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','fileUrl','):Trying\x20to\x20get\x20business\x20profile','apikey','static','app','):Audio\x20converted\x20and\x20stored\x20in\x20cache','\x20instance\x20does\x20not\x20exist','GROUPS_UPDATE','Instance\x20logged\x20out','interval\x20não\x20é\x20um\x20número','optionName','varedits','connectToWhatsappController','open','label','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','Contacts\x20not\x20found','groups','webp','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','http://checkip.dyndns.org','canSendMessage','Erro\x20ao\x20buscar\x20Schedule\x20Messages','Logger','):\x20debug\x20alterando\x20this.AutomateSystem','request\x20received\x20in\x20allFlows','toLocaleString','createAndSave','_pushName','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','):\x20Entrou\x20na\x20função\x20clearVariables','sendButtons','has','CREDENTIALS','presenceSubscribe','\x5cd+','updateMissingEtiquetas','digest','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','updateMissingTags','add','params','isCommunity','url','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','thumbnailUrl','urlOrBase64','express-async-errors','\x20segundos\x20antes\x20de\x20reconectar...','Removing\x20excess\x20IPv6\x20address:\x20','webhookService','reconnectAttempts','badSession','updateGParticipant','):\x20Editando\x20mensagens\x20no\x20grupo...','chats','processingGroup','findOne','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','findGroupInfos','MESSAGES_SET','IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.','Reiniciando\x20a\x20aplicação...','*Teste\x20de\x20Título*\x0a\x0aDescrição\x20de\x20Teste\x0a','instanceKeys','Instance\x20deleted','Erro\x20ao\x20alterar\x20privacidade','https://api.openai.com/v1/images/generations','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','133cqoyAX','info','checkAndRestartProcess','stack','closeExistingConversations','listMessage','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','exit','temp-','string','):\x20Criou\x20conversa\x20no\x20startFlow','hasOwnProperty','splice','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','request\x20received\x20in\x20updateAutoCompleteMessages','):\x20Instancia\x20isBusiness:\x20','scheduled','rows','upsertedCount','URL\x20não\x20disponível','\x20Tentativa\x20de\x20reconexão\x20','g-t','../env.yml','delaySecMax','\x20não\x20encontrado\x20para\x20atualização.','No\x20excess\x20IPv6\x20addresses\x20to\x20remove.','CORS_METHODS','uazapiSendLocation','editFlowCondition','sending','docker','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','/*.json','replaceValue','createInstance','saveMediaToFile','createWebhook','endsWith','\x1b[33m%s\x1b[0m','audio','isAdmin','Mac\x20OS','.fileUrl','\x20and\x20data:','secondValue','result','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','timeInMinutes','request\x20received\x20in\x20scheduleMessage','evaluateCondition','user','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','hDel','EMAIL','SECRET','\x20\x1b[0m','myAppStateKeyId','):Sending\x20audio\x20whatsapp','importChatsAntigo','whoCanEdit','selectedRowId','selectedId','getBase64FromMediaMessage','getDevice','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','Total\x20IPv6\x20addresses\x20detected:\x20','no-cache','isInteger','EXPIRIN_IN','editConversation','nome','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','uazapiDeleteMessage','connectionClosed','goNextblock','mimetype','timeout','retrySendMessage','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','Erro\x20ao\x20inserir\x20chats:','updateMessage','editScheduleMessage','Database\x20update\x20result:',',\x20resultado:\x20','instanceCount','notMatchRegex','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','.mp3','65580oARBBq','@whiskeysockets/baileys','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','author','):\x20atualização\x20chat:\x20','validate','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','SSL_CONF_FULLCHAIN','Connection\x20Closed','Instance\x20restarted',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','admin_add','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','DATABASE_CONNECTION_URI','addMessagesToGroup','subjectTime','\x20foi\x20interrompido\x20pelo\x20usuário.','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','):\x20Buscando\x20flow,\x20id:\x20','Instance\x20\x22','rowId','mediaSticker','imported','.jpg','archive','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','sendMenu','updateAgent','ScheduleMessage','convertaudioMP3','findById','selectableCount','reconnectTimestamps','delete','unlinkSync','header','uuid','reference','replaceVariablesInReplyOptions','presence','proto','groupMemberAddMode','AUTHENTICATION_JWT_EXPIRIN_IN','):\x20Entrou\x20na\x20função\x20saveReply','getLabelModelForOwner','waitingMenu_id','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','blockLogs','Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:','\x20chats\x20de\x20','util','groupName','\x20segundos...','stopWhenYouSendMsg','generateWAMessageFromContent','Tentando\x20reconectar...','exec','empty','data:\x20','groupDesc','oldValue','setNewValue','path','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','ephemeralExpiration','DATABASE_CONNECTION_PASSWORD','class-validator','autoCompleteMessages.command','REDIS','status@broadcast','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','lastInteraction','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','readData','IPv6\x20address\x20configured:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','Novo\x20IP\x20criado:\x20','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','set','changeVariables','request\x20received\x20in\x20deleteConversation','key','\x27...','tags','getDelay','saveConversationToDatabase','updateChatWithMessage','listResponseMessage','_day','audioMessage','Selecione\x20uma\x20opção','Valor\x20de\x20find\x20ou\x20replace\x20ausente','getProfileName','/startFlow/:instance/:startID','repeat','#f64847','cache','Error\x20in\x20buttonsMessage\x20function:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','\x20adicionado\x20ao\x20chat\x20','fone','/media','updateProfilePicture','):\x20Limpando\x20delayMessage','role','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','size','[all]','isJWT','/media/','):\x20Chat\x20','isJidUser','sendPoll','createButtonsFromValues','Erro\x20ao\x20buscar\x20o\x20fluxo','cwd','convertedOptions','Parando\x20aplicação...','):\x20Entrou\x20na\x20função\x20stop','editflowvariable','):\x20Editando/criando\x20grupo\x20de\x20mensagens...',',\x20Expiration\x20Time:\x20','contacts','\x20minutos\x20verificará\x20novas\x20mensagens','menuMessage','documentWithCaptionMessage','sendContact','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','Erro\x20ao\x20atualizar\x20conversa:\x20','getConversation','scheduleNextCheck','shareOwners','updateChatGroupData','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','getTicketSystem','URI','listIPv6Addresses','messages.update','unavailable','now','setUpdate','Error\x20in\x20chatModify\x20for\x20number\x20','last','Erro\x20ao\x20editar\x20o\x20bloco:\x20','findMessages','padStart','requestPairingCode','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','Message','redis://127.0.0.1:6379','setHeader','groupId','exports','Error\x20fetching\x20group','CONTACTS_UPDATE','bearer','chatLog','Not\x20allowed\x20by\x20CORS','editflowcondition','interactiveResponseMessage','}}\x20->\x20valor\x20não\x20encontrado','createOrUpdate','cacheInstanceModel','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','AutomateFunctions','createHash','text/event-stream','linkPreview','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','contextInfo','list','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','/events','XX:XX:XX:XX:XX:XX','updateStatusPrivacy','remove.instance','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','desc','throwAndLogError','Removed\x20','buttonMessage','Flow\x20iniciado','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','Valor\x20inicial:\x20\x22','https://api64.ipify.org?format=json','Router','stickerMessage','footer','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','apply','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','IP\x20mismatch:\x20configured\x20','):Output\x20path:\x20','allFlows','importChats','fetchProfilePictureUrl','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','readFileSync','maxActives','groupInviteCode','connectToWhatsapp','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','groupadd','PRESENCE_UPDATE','fetchMessages','findMany','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','leadInfo.','_Messages','findRealGroups','eventemitter2','drop','):\x20Falha\x20ao\x20deletar\x20mensagem.','inviteUrl','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','editFlowVaredit','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','/5\x20falhou:\x20','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','DB_PREFIX_NAME','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','logout','CONTACTS_SET',',\x20global:\x20','updateProfileName','removeUnusedChatFields','mediaMessage','Types','@redis/client','editflow','profile','\x1b[43m','messageContextInfo','\x27\x20não\x20encontrado','shift','group-participants.update','):\x20conversation.status:\x20','deleteChat','):\x20Há\x20mensagens\x20prontas,\x20limpando\x20e\x20adicionando\x20à\x20fila','Falha\x20ao\x20processar\x20a\x20solicitação','groupRequestParticipantsList','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','ERROR','menu_options','getConversationModelForOwner','):Type\x20defined\x20as\x20audio','error','__esModule','boolean','findIndex','removeProfilePicture','):\x20Conversa\x20está\x20expirada','deleteMany','envYaml','Failed\x20to\x20prepare\x20media\x20message','telefone','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','\x20horas\x20e\x20','addReplyOption','errorLog','):\x20','50mb','cleaningUp','nativeFlowResponseMessage','):\x20Buscando\x20flow...','object','sendCommand','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','ON\x20-\x20dbName:\x20','ip:\x20','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','groupGetInviteInfo','allContacts','pow','TYPE','\x1b[41m','getStatus','base64','MESSAGES_UPSERT','getVariablesChat','#92ceac','dropCollection','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','video','sendMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','Botão\x202','done','):\x20Bloco\x20original\x20para\x20cópia:\x20','9624439pzHPIg','updateGroupsAddPrivacy','group','toLowerCase','@s.whatsapp.net','toString','$addToSet','variablesNotFound','Erro\x20ao\x20atualizar\x20cacheInstance:','/wa-contacts','unreadcount','findAndUpdateCacheContact','FlowRouter','\x1b[33m','deleteAllMessages','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','MAX_SAFE_INTEGER','STORE_CHATS','Falha\x20ao\x20processar\x20fetchBusinessProfile','muteEndTime','expiration','owner','ip\x20-6\x20addr\x20show\x20scope\x20global\x20|\x20grep\x20-c\x20inet6','memberAddMode','@newsletter','#ffffff','Erro\x20ao\x20normalizar\x20a\x20mensagem:','getflow','CLEANING_INTERVAL','state','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','Not\x20Found','from','saveVariable','REDIS_PREFIX_KEY'];a0_0x2985=function(){return _0x57d058;};return a0_0x2985();}console[a0_0x5a0e1e(0x6ec)](a0_0x5a0e1e(0x126),he),console[a0_0x5a0e1e(0x6ec)](a0_0x5a0e1e(0x42b),Gs);function a0_0xc548(_0x202351,_0x3b23e0){const _0x2985ce=a0_0x2985();return a0_0xc548=function(_0xc548d6,_0xbd6121){_0xc548d6=_0xc548d6-0x9f;let _0x26e127=_0x2985ce[_0xc548d6];return _0x26e127;},a0_0xc548(_0x202351,_0x3b23e0);}async function dr(){const _0x212a0c=a0_0x5a0e1e;let _0x580c9c=S[_0x212a0c(0x168)](_0x212a0c(0x5ce)),_0x4a6cd1=S[_0x212a0c(0x168)]('AUTHENTICATION')[_0x212a0c(0x798)]['KEY'],_0x5e69ab=S[_0x212a0c(0x168)](_0x212a0c(0x7e2)),_0x4c4424=await Vi(),_0x4241e5=S[_0x212a0c(0x168)](_0x212a0c(0x4bd))['PORT'],_0x5c7f67=Gs;try{let _0x4c68c8={'ip':_0x4c4424||null,'redis_enable':_0x580c9c?.[_0x212a0c(0x160)]||null,'apikey':_0x4a6cd1||null,'ssl':_0x5e69ab?.[_0x212a0c(0x304)]||null,'lastupdate':Gi||null,'port':_0x4241e5||null,'gitInstallError':Re?.[_0x212a0c(0x3d6)]||null,'url':_0x5c7f67||null,'subdomain':he};if(console[_0x212a0c(0x6ec)](_0x212a0c(0x69c),_0x4c68c8['ip']),_0x580c9c&&_0x580c9c[_0x212a0c(0x160)]){let _0x417615=await lr();_0x4c68c8[_0x212a0c(0x585)]=_0x417615||null;}for(let _0x118621 in _0x4c68c8)_0x4c68c8['hasOwnProperty'](_0x118621)&&_0x118621!=='ip'&&(_0x4c68c8[_0x118621]=JSON[_0x212a0c(0x265)](_0x4c68c8[_0x118621]));return(await qe[_0x212a0c(0x77c)][_0x212a0c(0x7c3)](_0x212a0c(0x2b0),_0x4c68c8))[_0x212a0c(0x4cf)];}catch(_0x3579a9){return console[_0x212a0c(0x685)](_0x3579a9),!0x1;}}var qs=!0x1,Gi=0x284,pr=0x3,Fi=0x1b7740;async function Bi(){const _0x132959=a0_0x5a0e1e;let _0x4eaaa3='fora\x20do\x20git';Re===null&&(_0x4eaaa3=await Vi());let _0x1e24ef=await dr();if(_0x1e24ef){if(_0x1e24ef['response'][_0x132959(0x806)]===!0x0){Re===null&&_0x1e24ef[_0x132959(0x248)]['last_update']-Gi>0x0&&await hr(),qs||(qs=!0x0,ir());let _0x496f63=0x24*0x3c*0x3c,_0x15dfc0=_0x1e24ef[_0x132959(0x248)][_0x132959(0x75d)]>_0x496f63?_0x496f63:_0x1e24ef[_0x132959(0x248)][_0x132959(0x75d)],_0x11dba9=Number(_0x15dfc0);if(isNaN(_0x11dba9)){console['error'](_0x132959(0x4f4));return;}let _0x39863a=Math['floor'](_0x11dba9/0xe10),_0x5535f2=Math[_0x132959(0x706)](_0x11dba9%0xe10/0x3c),_0x191576=new Date(Date[_0x132959(0x616)]()+_0x11dba9*0x3e8);setTimeout(()=>{const _0x26b35c=_0x132959;console[_0x26b35c(0x6ec)](_0x26b35c(0x529)),process['exit'](0x0);},_0x11dba9*0x3e8);let _0x527b59=_0x3df9d5=>_0x3df9d5['toString']()[_0x132959(0x61c)](0x2,'0'),_0x21ac6a=_0x132959(0x669)+_0x527b59(_0x39863a)+_0x132959(0x690)+_0x527b59(_0x5535f2)+_0x132959(0x256)+_0x527b59(_0x191576[_0x132959(0x76a)]())+':'+_0x527b59(_0x191576['getMinutes']())+'.';console[_0x132959(0x6ec)](_0x21ac6a);}else return console[_0x132959(0x6ec)]('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),qs&&(console[_0x132959(0x6ec)](_0x132959(0x1bb)),process['exit']()),_0x132959(0x32d);}else{if(Li++,Li<pr)console['log'](_0x132959(0x610)+Fi/0xea60+_0x132959(0x77b)),setTimeout(Bi,Fi);else return console[_0x132959(0x685)](_0x132959(0x570)),_0x132959(0x764);}}async function hr(){const _0xd5dd76=a0_0x5a0e1e;console[_0xd5dd76(0x6ec)](_0xd5dd76(0x3bf)),console['log']('Limpando\x20logs\x20do\x20PM2...'),(0x0,rs[_0xd5dd76(0x710)])(_0xd5dd76(0xd3),{'shell':!0x0})['on']('close',_0x145a56=>{const _0x3ee5df=_0xd5dd76;_0x145a56!==0x0?console[_0x3ee5df(0x685)](_0x3ee5df(0x7d3)):(console['log'](_0x3ee5df(0x241)),console['log'](_0x3ee5df(0x81a)),(0x0,rs[_0x3ee5df(0x710)])('rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys',{'shell':!0x0})['on']('close',_0x46cce3=>{const _0x88f957=_0x3ee5df;if(_0x46cce3!==0x0)console[_0x88f957(0x685)](_0x88f957(0x2c8));else{console[_0x88f957(0x6ec)](_0x88f957(0x3e8));let _0x4baa77=(0x0,rs['spawn'])(_0x88f957(0x7db),{'shell':!0x0});_0x4baa77[_0x88f957(0x3c1)]['on'](_0x88f957(0x4cf),_0x4f6049=>{const _0x89c1da=_0x88f957;console[_0x89c1da(0x6ec)]('Atualização:\x20'+_0x4f6049);}),_0x4baa77['stderr']['on'](_0x88f957(0x4cf),_0x368be4=>{const _0x33e32f=_0x88f957;console[_0x33e32f(0x685)](_0x33e32f(0x165)+_0x368be4);}),_0x4baa77['on'](_0x88f957(0x537),_0x1635e7=>{const _0x4ec869=_0x88f957;_0x1635e7!==0x0?console[_0x4ec869(0x685)](_0x4ec869(0x40b)+_0x1635e7):console[_0x4ec869(0x6ec)](_0x4ec869(0x297)),console[_0x4ec869(0x6ec)](_0x4ec869(0x600)),setTimeout(()=>process[_0x4ec869(0x537)](),0x2710);});}}));});}0x0&&(module[a0_0x5a0e1e(0x623)]={'fullURL':fullURL,'subdomain':subdomain});