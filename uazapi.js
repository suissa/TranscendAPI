const a0_0x3c797d=a0_0x14cd;(function(_0x46f683,_0xd19ee8){const _0x573e65=a0_0x14cd,_0x54a63c=_0x46f683();while(!![]){try{const _0xd13f98=parseInt(_0x573e65(0x714))/0x1*(-parseInt(_0x573e65(0xea))/0x2)+-parseInt(_0x573e65(0x6ce))/0x3*(parseInt(_0x573e65(0x4bf))/0x4)+parseInt(_0x573e65(0x1d8))/0x5*(-parseInt(_0x573e65(0x2d8))/0x6)+-parseInt(_0x573e65(0x1f3))/0x7+parseInt(_0x573e65(0x33b))/0x8*(-parseInt(_0x573e65(0x2ee))/0x9)+-parseInt(_0x573e65(0x3a9))/0xa*(-parseInt(_0x573e65(0x518))/0xb)+parseInt(_0x573e65(0x3c8))/0xc;if(_0xd13f98===_0xd19ee8)break;else _0x54a63c['push'](_0x54a63c['shift']());}catch(_0x1d2472){_0x54a63c['push'](_0x54a63c['shift']());}}}(a0_0x4180,0x33e3f));var xr=Object[a0_0x3c797d(0x3f0)],Ie=Object['defineProperty'],Pr=Object[a0_0x3c797d(0x389)],_r=Object[a0_0x3c797d(0x158)],$r=Object[a0_0x3c797d(0x150)],kr=Object[a0_0x3c797d(0x3e1)]['hasOwnProperty'],Lr=(_0x4feccc,_0x152216)=>{for(var _0x496a78 in _0x152216)Ie(_0x4feccc,_0x496a78,{'get':_0x152216[_0x496a78],'enumerable':!0x0});},Ds=(_0x590dd8,_0x228a15,_0x3e3628,_0x41bb8b)=>{const _0x3b7324=a0_0x3c797d;if(_0x228a15&&typeof _0x228a15=='object'||typeof _0x228a15==_0x3b7324(0x6fa)){for(let _0x15e7ce of _r(_0x228a15))!kr[_0x3b7324(0xe3)](_0x590dd8,_0x15e7ce)&&_0x15e7ce!==_0x3e3628&&Ie(_0x590dd8,_0x15e7ce,{'get':()=>_0x228a15[_0x15e7ce],'enumerable':!(_0x41bb8b=Pr(_0x228a15,_0x15e7ce))||_0x41bb8b[_0x3b7324(0x3ea)]});}return _0x590dd8;},R=(_0x2f2a63,_0x3178ec,_0x31cd6f)=>(_0x31cd6f=_0x2f2a63!=null?xr($r(_0x2f2a63)):{},Ds(_0x3178ec||!_0x2f2a63||!_0x2f2a63[a0_0x3c797d(0x6b5)]?Ie(_0x31cd6f,a0_0x3c797d(0x580),{'value':_0x2f2a63,'enumerable':!0x0}):_0x31cd6f,_0x2f2a63)),Fr=_0x25f08c=>Ds(Ie({},a0_0x3c797d(0x6b5),{'value':!0x0}),_0x25f08c),zo={};Lr(zo,{'subdomain':()=>vs}),module[a0_0x3c797d(0x4ff)]=Fr(zo);var Rr=R(require(a0_0x3c797d(0x4b9))),Ps=require('fs'),_s=require(a0_0x3c797d(0x68c)),$s=require(a0_0x3c797d(0x435)),De=require(a0_0x3c797d(0x435)),ae=process[a0_0x3c797d(0x252)](),me=(0x0,De[a0_0x3c797d(0x530)])(ae,'instances'),xs=(0x0,De[a0_0x3c797d(0x530)])(ae,a0_0x3c797d(0x6c5)),ji=(0x0,De['join'])(ae,a0_0x3c797d(0x1c5),a0_0x3c797d(0x46d)),Yt=class{constructor(){this['loadEnv']();}['get'](_0x6b3165){const _0x29a6b6=a0_0x3c797d;return this[_0x29a6b6(0x62d)][_0x6b3165];}[a0_0x3c797d(0x560)](){const _0x2ae6e7=a0_0x3c797d;this[_0x2ae6e7(0x62d)]=process[_0x2ae6e7(0x62d)]?.[_0x2ae6e7(0x3c5)]!==_0x2ae6e7(0x534)?this[_0x2ae6e7(0x6f6)]():this['envProcess'](),process[_0x2ae6e7(0x62d)]?.[_0x2ae6e7(0x3c5)]===_0x2ae6e7(0x534)&&(this[_0x2ae6e7(0x62d)]['SERVER']['TYPE']='http',this[_0x2ae6e7(0x62d)][_0x2ae6e7(0x6a0)][_0x2ae6e7(0x353)]=Number['parseInt'](process[_0x2ae6e7(0x62d)]?.[_0x2ae6e7(0x1bf)]??_0x2ae6e7(0x1e0)));}['envYaml'](){const _0x4a22e4=a0_0x3c797d;return(0x0,_s[_0x4a22e4(0x5d7)])((0x0,Ps[_0x4a22e4(0x241)])((0x0,$s[_0x4a22e4(0x530)])(xs,_0x4a22e4(0x68b)),{'encoding':_0x4a22e4(0x6f9)}));}[a0_0x3c797d(0x1bc)](){const _0x347f44=a0_0x3c797d;return{'SERVER':{'TYPE':process[_0x347f44(0x62d)]['SERVER_TYPE'],'PORT':Number['parseInt'](process[_0x347f44(0x62d)][_0x347f44(0x1bf)]),'URL':process['env'][_0x347f44(0x359)]},'CORS':{'ORIGIN':process[_0x347f44(0x62d)][_0x347f44(0x1cc)]['split'](','),'METHODS':process[_0x347f44(0x62d)][_0x347f44(0x701)][_0x347f44(0x6db)](','),'CREDENTIALS':process['env']?.[_0x347f44(0x286)]==='true'},'SSL_CONF':{'PRIVKEY':process[_0x347f44(0x62d)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0x347f44(0x62d)]?.[_0x347f44(0x54a)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process[_0x347f44(0x62d)]?.[_0x347f44(0x21d)])?Number[_0x347f44(0x488)](process['env'][_0x347f44(0x21d)]):void 0x0,'MESSAGES':process[_0x347f44(0x62d)]?.[_0x347f44(0x41c)]===_0x347f44(0x534),'CONTACTS':process[_0x347f44(0x62d)]?.[_0x347f44(0x480)]===_0x347f44(0x534),'CHATS':process['env']?.['STORE_CHATS']===_0x347f44(0x534)},'DATABASE':{'CONNECTION':{'HOST':process[_0x347f44(0x62d)]?.['DATABASE_CONNECTION_HOST'],'PORT':Number[_0x347f44(0x488)](process[_0x347f44(0x62d)]?.[_0x347f44(0x360)]),'USER':process[_0x347f44(0x62d)][_0x347f44(0x3af)],'PASSWORD':process[_0x347f44(0x62d)][_0x347f44(0x21a)],'URI':process['env'][_0x347f44(0x25a)],'DB_PREFIX_NAME':process[_0x347f44(0x62d)][_0x347f44(0x17b)]},'ENABLED':process[_0x347f44(0x62d)]?.[_0x347f44(0x2d0)]===_0x347f44(0x534)},'REDIS':{'ENABLED':process[_0x347f44(0x62d)]?.[_0x347f44(0x66f)]===_0x347f44(0x534),'URI':process['env']['REDIS_URI']||_0x347f44(0x210),'PREFIX_KEY':process[_0x347f44(0x62d)][_0x347f44(0x6ab)]||_0x347f44(0x64b)},'LOG':{'LEVEL':process[_0x347f44(0x62d)]?.[_0x347f44(0x23c)]['split'](','),'COLOR':process['env']?.[_0x347f44(0x6ae)]===_0x347f44(0x534)},'AUTHENTICATION':{'TYPE':process['env'][_0x347f44(0x51e)],'API_KEY':{'KEY':process[_0x347f44(0x62d)]['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number[_0x347f44(0x2b9)](process[_0x347f44(0x62d)]?.[_0x347f44(0x40c)])?Number['parseInt'](process[_0x347f44(0x62d)]['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process[_0x347f44(0x62d)]['AUTHENTICATION_JWT_SECRET']}}};}},b=new Yt(),Tr=R(require(a0_0x3c797d(0x4fd))),pe=R(require(a0_0x3c797d(0x570))),Os=require(a0_0x3c797d(0x435)),Xt=R(require(a0_0x3c797d(0x4a2))),Zt=(_0x308994=>(_0x308994[a0_0x3c797d(0x13e)]=a0_0x3c797d(0x3f1),_0x308994[a0_0x3c797d(0x64a)]='\x1b[34m',_0x308994[a0_0x3c797d(0x667)]='\x1b[33m',_0x308994[a0_0x3c797d(0x1c8)]=a0_0x3c797d(0x367),_0x308994[a0_0x3c797d(0x45d)]='\x1b[36m',_0x308994[a0_0x3c797d(0x12c)]=a0_0x3c797d(0x264),_0x308994[a0_0x3c797d(0x696)]='\x1b[30m',_0x308994))(Zt||{}),ks=(_0x2e14c5=>(_0x2e14c5[a0_0x3c797d(0x13e)]=a0_0x3c797d(0x556),_0x2e14c5[a0_0x3c797d(0x696)]=a0_0x3c797d(0x706),_0x2e14c5['INFO']=a0_0x3c797d(0x6ee),_0x2e14c5[a0_0x3c797d(0x667)]=a0_0x3c797d(0x6c4),_0x2e14c5[a0_0x3c797d(0x1c8)]='\x1b[31m%s\x1b[0m',_0x2e14c5[a0_0x3c797d(0x45d)]=a0_0x3c797d(0x132),_0x2e14c5[a0_0x3c797d(0x12c)]=a0_0x3c797d(0x65e),_0x2e14c5))(ks||{}),Ls=(_0x3face6=>(_0x3face6[a0_0x3c797d(0x13e)]=a0_0x3c797d(0x13e),_0x3face6[a0_0x3c797d(0x667)]=a0_0x3c797d(0x667),_0x3face6[a0_0x3c797d(0x64a)]=a0_0x3c797d(0x64a),_0x3face6[a0_0x3c797d(0x696)]=a0_0x3c797d(0x696),_0x3face6['ERROR']='ERROR',_0x3face6[a0_0x3c797d(0x45d)]=a0_0x3c797d(0x45d),_0x3face6['VERBOSE']='VERBOSE',_0x3face6))(Ls||{}),Fs=(_0x3b44cb=>(_0x3b44cb[a0_0x3c797d(0x13e)]=a0_0x3c797d(0x6c1),_0x3b44cb[a0_0x3c797d(0x64a)]=a0_0x3c797d(0x65b),_0x3b44cb[a0_0x3c797d(0x667)]=a0_0x3c797d(0x465),_0x3b44cb[a0_0x3c797d(0x696)]=a0_0x3c797d(0x67b),_0x3b44cb['ERROR']=a0_0x3c797d(0x54b),_0x3b44cb[a0_0x3c797d(0x45d)]=a0_0x3c797d(0x38b),_0x3b44cb[a0_0x3c797d(0x12c)]='\x1b[47m',_0x3b44cb))(Fs||{}),v=class{constructor(_0x4d652=a0_0x3c797d(0x524)){const _0x1339f6=a0_0x3c797d;this[_0x1339f6(0x4d7)]=_0x4d652,this[_0x1339f6(0x134)]=b;}[a0_0x3c797d(0x5b2)](_0x44241c){this['context']=_0x44241c;}[a0_0x3c797d(0x145)](_0x187128,_0x10e4b9){const _0x39dce7=a0_0x3c797d;let _0x42ff47=[];this[_0x39dce7(0x134)]['get'](_0x39dce7(0x13e))[_0x39dce7(0x217)][_0x39dce7(0x3b8)](_0xf94b32=>_0x42ff47[_0x39dce7(0xab)](Ls[_0xf94b32]));let _0x983212=typeof _0x187128;_0x42ff47[_0x39dce7(0x129)](_0x10e4b9)&&(b[_0x39dce7(0x5a8)](_0x39dce7(0x13e))[_0x39dce7(0x2c0)]?(console[_0x39dce7(0x247)](_0x39dce7(0x626)+ks[_0x10e4b9],_0x39dce7(0x289),(0x0,Xt[_0x39dce7(0x580)])()[_0x39dce7(0x42d)](_0x39dce7(0x3cc)),'\x1b[0m',Zt[_0x10e4b9]+Fs[_0x10e4b9]+_0x39dce7(0x626),_0x10e4b9+_0x39dce7(0x2fc),_0x39dce7(0x66b),this[_0x39dce7(0x4d7)]+_0x39dce7(0x2db),Zt[_0x10e4b9],_0x983212!=='object'?_0x187128:'',_0x39dce7(0x2db)),_0x983212===_0x39dce7(0xc5)&&console[_0x39dce7(0x247)](_0x187128,'\x0a')):console['log']((0x0,Xt[_0x39dce7(0x580)])()[_0x39dce7(0x42d)](_0x39dce7(0x41d)),_0x10e4b9+'\x20',''+this[_0x39dce7(0x4d7)],_0x187128));}['log'](_0x4438a2){const _0xbadda9=a0_0x3c797d;this[_0xbadda9(0x145)](_0x4438a2,_0xbadda9(0x13e));}[a0_0x3c797d(0x598)](_0x392e34){const _0xf690c5=a0_0x3c797d;this[_0xf690c5(0x145)](_0x392e34,_0xf690c5(0x64a));}[a0_0x3c797d(0x330)](_0x1b1661){const _0x492092=a0_0x3c797d;this[_0x492092(0x145)](_0x1b1661,_0x492092(0x667));}['error'](_0x5d3209){const _0x41bf45=a0_0x3c797d;this[_0x41bf45(0x145)](_0x5d3209,_0x41bf45(0x1c8));}['verbose'](_0x2f59de){const _0x5176c8=a0_0x3c797d;this['console'](_0x2f59de,_0x5176c8(0x12c));}[a0_0x3c797d(0x1f6)](_0x1e6419){const _0x57327e=a0_0x3c797d;this[_0x57327e(0x145)](_0x1e6419,_0x57327e(0x45d));}['dark'](_0x11bdcd){const _0x31e5ea=a0_0x3c797d;this[_0x31e5ea(0x145)](_0x11bdcd,_0x31e5ea(0x696));}};function Us(){const _0x22e101=a0_0x3c797d;process['on']('uncaughtException',(_0x3a4f45,_0x4ce70c)=>{const _0xe202f0=a0_0x14cd;new v('uncaughtException')[_0xe202f0(0x362)]({'origin':_0x4ce70c,'stderr':process[_0xe202f0(0x3a4)]['fd'],'error':_0x3a4f45});}),process['on'](_0x22e101(0xe2),(_0x3b8be4,_0x35d20b)=>{const _0x11fbcb=_0x22e101;new v('unhandledRejection')[_0x11fbcb(0x362)]({'origin':_0x35d20b,'stderr':process[_0x11fbcb(0x3a4)]['fd'],'error':_0x3b8be4});});}var Js=R(require(a0_0x3c797d(0x1b1))),es=new Js[(a0_0x3c797d(0x580))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),xe=require(a0_0x3c797d(0x66a)),ts=R(require(a0_0x3c797d(0x66a))),Ur=new v(a0_0x3c797d(0x513)),V=b[a0_0x3c797d(0x5a8)](a0_0x3c797d(0xd0)),N=V[a0_0x3c797d(0xe8)]?V['CONNECTION']['URI']?ts[a0_0x3c797d(0x580)][a0_0x3c797d(0x489)](V['CONNECTION'][a0_0x3c797d(0x3b5)],{'dbName':V[a0_0x3c797d(0x10a)]['DB_PREFIX_NAME']+a0_0x3c797d(0x5aa)}):ts[a0_0x3c797d(0x580)]['createConnection'](a0_0x3c797d(0x354)+V[a0_0x3c797d(0x10a)][a0_0x3c797d(0x3f2)]+':'+V['CONNECTION'][a0_0x3c797d(0x353)]+a0_0x3c797d(0x10b),{'user':V[a0_0x3c797d(0x10a)]['USER'],'pass':V[a0_0x3c797d(0x10a)]['PASSWORD'],'dbName':V[a0_0x3c797d(0x10a)][a0_0x3c797d(0x11a)]+'-whatsapp-api'}):null;V[a0_0x3c797d(0xe8)]&&Ur[a0_0x3c797d(0x598)]('ON\x20-\x20dbName:\x20'+N[a0_0x3c797d(0x20b)]);var Jr=new xe[(a0_0x3c797d(0x2fb))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String},'chatId':{'type':String}}),jr=new xe['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Jr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),qr=new xe[(a0_0x3c797d(0x2fb))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':jr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String]}}),js=_0x3129d0=>{const _0x289c1=a0_0x3c797d;let _0x545de2='z_'+_0x3129d0+_0x289c1(0x5e9);return N?.[_0x289c1(0x464)]('ChatModel',qr,_0x545de2);},qs=require(a0_0x3c797d(0x66a)),Vr=new qs[(a0_0x3c797d(0x2fb))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Vs=_0x1901f0=>{const _0x5b3c93=a0_0x3c797d;let _0x146e26='z_'+_0x1901f0+_0x5b3c93(0x24e);return N?.[_0x5b3c93(0x464)](_0x5b3c93(0x62e),Vr,_0x146e26);},Bs=require('mongoose'),Br=new Bs[(a0_0x3c797d(0x2fb))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Gs=_0x511fd8=>{const _0x47d5a4=a0_0x3c797d;let _0x4abde2='z_'+_0x511fd8+_0x47d5a4(0x520);return N?.[_0x47d5a4(0x464)]('MessageModel',Br,_0x4abde2);},Ws=require('mongoose'),ss=class{},Gr=new Ws['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'proxy':{'type':String}}),zs=N?.[a0_0x3c797d(0x464)](ss[a0_0x3c797d(0x42e)],Gr,a0_0x3c797d(0xcf)),Hs=require(a0_0x3c797d(0x66a)),as=class{},Ks=new Hs[(a0_0x3c797d(0x2fb))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Ks['pre'](a0_0x3c797d(0x467),function(_0x3c1367){const _0x3ea713=a0_0x3c797d;delete this[_0x3ea713(0x3fb)],delete this[_0x3ea713(0x2c7)],delete this[_0x3ea713(0x5db)],delete this[_0x3ea713(0x291)],delete this['flowStopMinutes'],_0x3c1367();});var Qs=N?.[a0_0x3c797d(0x464)](as[a0_0x3c797d(0x42e)],Ks,a0_0x3c797d(0x1e5)),P=require(a0_0x3c797d(0x66a)),Pe=class{},Ys=new P['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),rs=new P[(a0_0x3c797d(0x2fb))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Wr=new P[(a0_0x3c797d(0x2fb))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x3c797d(0x117)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x3c797d(0x133)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x3c797d(0x5fa)},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Xs=new P[(a0_0x3c797d(0x2fb))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),zr=new P[(a0_0x3c797d(0x2fb))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),Hr=new P[(a0_0x3c797d(0x2fb))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Zs=new P['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Wr},'apirequest':zr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ls=new P[(a0_0x3c797d(0x2fb))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ea=new P['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),os=class{},us=new P[(a0_0x3c797d(0x2fb))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x52a09c=a0_0x3c797d;return _0x52a09c(0x1f5)+Math[_0x52a09c(0x3c3)]()[_0x52a09c(0x509)](0x24)[_0x52a09c(0x2ae)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ls],'variablesNotFound':{'type':[String]},'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[rs],'default':[]}});us[a0_0x3c797d(0x4c3)](a0_0x3c797d(0x467),function(_0x18eccc){const _0x75e774=a0_0x3c797d;let _0x42edc3=new Set(),_0x1218b1=new Set(this[_0x75e774(0x55f)]?.[_0x75e774(0x2a0)](_0x42bfe1=>_0x42bfe1['name'])),_0x3f2a76=JSON[_0x75e774(0xf1)](this),_0x2dc419=/{{(?!_)([^}]*)}}/g,_0xb39f46;for(;(_0xb39f46=_0x2dc419['exec'](_0x3f2a76))!==null;)_0x1218b1[_0x75e774(0x1a2)](_0xb39f46[0x1])||_0x42edc3[_0x75e774(0x351)](_0xb39f46[0x1]);_0x42edc3[_0x75e774(0x539)]>0x0?(console['warn'](_0x75e774(0x3ff),Array[_0x75e774(0x6fc)](_0x42edc3)),this[_0x75e774(0x1a1)]=Array[_0x75e774(0x6fc)](_0x42edc3)):this['variablesNotFound']=[],_0x18eccc();});var ta=_0x52535e=>{const _0x4dcda5=a0_0x3c797d;let _0x29eb54='z_'+_0x52535e+'_Flows';return N?.[_0x4dcda5(0x464)]('FlowModel',us,_0x29eb54);},sa=N?.[a0_0x3c797d(0x464)](os[a0_0x3c797d(0x42e)],us,a0_0x3c797d(0x171)),Kr=new P[(a0_0x3c797d(0x2fb))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ls],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Hr]},{'_id':!0x1}),is=class{},aa=new P[(a0_0x3c797d(0x2fb))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ls],'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[rs],'default':[]},'chatLog':Kr,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x3c797d(0x53f)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x3c797d(0x5fa)},'waitingMenu_replyOptions':{'type':[rs],'default':[]}}),ra=_0x15e746=>{const _0x543557=a0_0x3c797d;let _0x5b0994='z_'+_0x15e746+'_FlowHistorico';return N?.['model'](_0x543557(0x336),aa,_0x5b0994);},oa=N?.[a0_0x3c797d(0x464)](is[a0_0x3c797d(0x42e)],aa,'flowConversation'),ns=class{},Qr=new P[(a0_0x3c797d(0x2fb))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Yr=new P[(a0_0x3c797d(0x2fb))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ia=new P[(a0_0x3c797d(0x2fb))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x3c797d(0x579)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Yr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Qr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),na=_0x726c41=>{const _0x161484=a0_0x3c797d;let _0x5d36c3='z_'+_0x726c41+_0x161484(0x679);return N?.['model'](_0x161484(0x342),ia,_0x5d36c3);},ca=N?.[a0_0x3c797d(0x464)](ns['name'],ia,a0_0x3c797d(0x19a)),cs=class{},Xr=new P[(a0_0x3c797d(0x2fb))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Zr=new P[(a0_0x3c797d(0x2fb))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x3c797d(0x3d6)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),eo=new P[(a0_0x3c797d(0x2fb))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),to=new P[(a0_0x3c797d(0x2fb))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[eo]},'customFields':{'type':[Xr]},'flowConfig':{'type':Zr,'default':{}}}),_e=N?.[a0_0x3c797d(0x464)](cs['name'],to,a0_0x3c797d(0x6e6)),la=require(a0_0x3c797d(0x66a)),so=new la[(a0_0x3c797d(0x2fb))]({'_id':{'type':String},'name':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ua=_0x238ed9=>{const _0xbe4c83=a0_0x3c797d;let _0x4c421e='z_'+_0x238ed9+'_Labels';return N?.[_0xbe4c83(0x464)]('LabelModel',so,_0x4c421e);},I=class{constructor(_0x23b5bf){const _0x3ba7a3=a0_0x3c797d;this['dbSettings']=_0x23b5bf['get'](_0x3ba7a3(0xd0));}};function A(_0x320abb){const _0x332855=a0_0x3c797d;let _0x1fa6eb={};for(let [_0x1ad44c,_0x396260]of Object[_0x332855(0x166)](_0x320abb))if(typeof _0x396260==_0x332855(0xc5)&&!Array['isArray'](_0x396260)){for(let [_0x5eee1f,_0x1631fb]of Object['entries'](_0x396260))_0x1fa6eb[_0x1ad44c+'.'+_0x5eee1f]=_0x1631fb;}else _0x1fa6eb[_0x1ad44c]=_0x396260;return _0x1fa6eb;}var $e=class{constructor(_0x422196,_0x4b6822,_0x3b64cb,_0x13600b,_0x532c6d,_0x35df04,_0x5492f4,_0x427dca,_0x24e1be,_0x5d8870,_0x45477a){const _0xa099e1=a0_0x3c797d;this[_0xa099e1(0x15e)]=_0x422196,this[_0xa099e1(0x65c)]=_0x4b6822,this[_0xa099e1(0x4f1)]=_0x3b64cb,this['webhook']=_0x13600b,this[_0xa099e1(0x46d)]=_0x532c6d,this[_0xa099e1(0x171)]=_0x35df04,this[_0xa099e1(0x24f)]=_0x5492f4,this[_0xa099e1(0x239)]=_0x427dca,this[_0xa099e1(0x693)]=_0x24e1be,this[_0xa099e1(0x5a7)]=_0x5d8870,this[_0xa099e1(0x2c1)]=_0x45477a;}get[a0_0x3c797d(0x23a)](){const _0x105182=a0_0x3c797d;return this[_0x105182(0x2c1)];}},ke=class{},Le=class extends I{[a0_0x3c797d(0x683)](_0x37be7b){return Gs(_0x37be7b);}async[a0_0x3c797d(0x5e0)](_0x4cdd34,_0x4b3795){const _0x534360=a0_0x3c797d;if(_0x4cdd34[_0x534360(0x234)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x534360(0x683)](_0x4b3795)[_0x534360(0x1e2)]([..._0x4cdd34]))['length']};}catch(_0x2f9d49){return console[_0x534360(0x247)]('ERROR:\x20',_0x2f9d49),_0x2f9d49;}}async['find'](_0x1862aa,_0x28ee20){const _0x4eba1b=a0_0x3c797d;try{let _0x262907=this[_0x4eba1b(0x683)](_0x28ee20),_0x140890=A(_0x1862aa['where']);return await _0x262907[_0x4eba1b(0x2ec)](_0x140890)['sort']({'messageTimestamp':-0x1})[_0x4eba1b(0x5fb)](_0x1862aa?.['limit']??0x0)['lean']();}catch{return[];}}async['delete'](_0x58246d,_0x3d6cd4){const _0xa7519b=a0_0x3c797d;try{let _0x18f303=this[_0xa7519b(0x683)](_0x3d6cd4),_0xdb4a75=A(_0x58246d[_0xa7519b(0x268)]);await _0x18f303['deleteMany'](_0xdb4a75);}catch(_0x185863){console[_0xa7519b(0x362)](_0x185863);}}async[a0_0x3c797d(0x5ee)](_0x1e379d,_0x3b122b,_0x41a1ff){const _0x148b48=a0_0x3c797d;try{let _0x5abbfd=this[_0x148b48(0x683)](_0x41a1ff),_0x4fc12e=A(_0x1e379d[_0x148b48(0x268)]);return await _0x5abbfd[_0x148b48(0x378)](_0x4fc12e,{'$set':_0x3b122b},{'new':!0x0});}catch(_0x1d65b6){throw console[_0x148b48(0x362)](_0x1d65b6),_0x1d65b6;}}async[a0_0x3c797d(0x1e2)](_0x136cff,_0x3c234b){const _0x1342af=a0_0x3c797d;if(_0x136cff[_0x1342af(0x234)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x1342af(0x683)](_0x3c234b)[_0x1342af(0x1e2)]([..._0x136cff]))[_0x1342af(0x234)]};}catch(_0x53a29e){return console[_0x1342af(0x247)](_0x1342af(0x633),_0x53a29e),_0x53a29e;}}async[a0_0x3c797d(0x52a)](_0x294ecc){const _0x5abc8d=a0_0x3c797d;try{return await this[_0x5abc8d(0x683)](_0x294ecc)[_0x5abc8d(0x1af)][_0x5abc8d(0x5c2)](),{'success':!0x0};}catch(_0x1bed31){return console['error'](_0x1bed31),{'success':!0x1,'error':_0x1bed31};}}},mr=R(require(a0_0x3c797d(0x676))),y=R(require(a0_0x3c797d(0x621))),ve=require('fs'),U=R(require(a0_0x3c797d(0x435))),se=R(require(a0_0x3c797d(0x597))),hr=require('uuid'),fr=R(require(a0_0x3c797d(0x337))),yr=R(require(a0_0x3c797d(0x214))),da=[a0_0x3c797d(0x68e),a0_0x3c797d(0x16f),a0_0x3c797d(0x4a4),a0_0x3c797d(0x385),a0_0x3c797d(0x460)],pa=[a0_0x3c797d(0xb2),'documentWithCaptionMessage',a0_0x3c797d(0xcc),'viewOnceMessageV2'],Ss=require('os'),At=R(require(a0_0x3c797d(0x41b))),Dt=require(a0_0x3c797d(0x25e)),Ot=require(a0_0x3c797d(0x6f1)),ne=R(require(a0_0x3c797d(0x66a))),k=require(a0_0x3c797d(0x1e4)),he=class{constructor(_0x5937de,_0x13b334,_0x52ce9c){const _0x4c7f92=a0_0x3c797d;this[_0x4c7f92(0x244)]=_0x5937de,this[_0x4c7f92(0x1a4)]=_0x13b334,this[_0x4c7f92(0x42e)]=_0x52ce9c;}},Fe=class{},Ue=class{},be=class{},Je=class{},je=class{},fe=class{},qe=class{},Ve=class{},Be=class{},Ge=class{},Mt=R(require(a0_0x3c797d(0x570))),ga=require('fs'),ma=require(a0_0x3c797d(0x435));async function We(_0x487457){const _0x417142=a0_0x3c797d;let _0x2e51ba=B['waInstances'][_0x487457];if(V[_0x417142(0xe8)]){let _0x25d75c=N[_0x417142(0x5ce)]()['db'](V[_0x417142(0x10a)]['DB_PREFIX_NAME']+_0x417142(0x242))[_0x417142(0x1af)](_0x487457);return _0x2e51ba||(await _0x25d75c[_0x417142(0x2ec)]({})[_0x417142(0x70a)]())[_0x417142(0x234)]>0x0;}return _0x2e51ba||(0x0,ga[_0x417142(0x31e)])((0x0,ma['join'])(me,_0x487457));}async function ha(_0x5abf7b,_0x26b70f,_0x8e907d){const _0xfc905e=a0_0x3c797d;if(_0x5abf7b[_0xfc905e(0x317)]['includes']('/instance/create')||_0x5abf7b[_0xfc905e(0x317)][_0xfc905e(0x129)](_0xfc905e(0x3fd))||_0x5abf7b[_0xfc905e(0x317)][_0xfc905e(0x129)]('/exit')||_0x5abf7b[_0xfc905e(0x317)][_0xfc905e(0x129)](_0xfc905e(0x139))||_0x5abf7b[_0xfc905e(0x317)]['includes']('/instance/connect')||_0x5abf7b[_0xfc905e(0x317)]['includes'](_0xfc905e(0x2d5))||_0x5abf7b[_0xfc905e(0x317)][_0xfc905e(0x129)](_0xfc905e(0x2d9)))return _0x8e907d();let _0x2aa161=_0x5abf7b[_0xfc905e(0x27f)];if(!_0x2aa161?.['instanceName'])throw new m('instanceName\x20not\x20provided.');if(!await We(_0x2aa161[_0xfc905e(0x589)]))throw new F('The\x20'+_0x2aa161[_0xfc905e(0x589)]+_0xfc905e(0x4c8));_0x8e907d();}async function fa(_0x50bf40,_0xe447d8,_0x1e5133){const _0x1c4ff2=a0_0x3c797d;if(_0x50bf40[_0x1c4ff2(0x317)][_0x1c4ff2(0x129)]('/instance/create')){let _0x43fb9e=_0x50bf40['body'];if(await We(_0x43fb9e[_0x1c4ff2(0x589)]))throw new K(_0x1c4ff2(0x25f)+_0x43fb9e[_0x1c4ff2(0x589)]+_0x1c4ff2(0xd7));B[_0x1c4ff2(0x545)][_0x43fb9e[_0x1c4ff2(0x589)]]&&delete B[_0x1c4ff2(0x545)][_0x43fb9e[_0x1c4ff2(0x589)]];}_0x1e5133();}var ya=require(a0_0x3c797d(0x1e4)),wa=R(require(a0_0x3c797d(0x1b7))),ze='uazapi',ro=new v(a0_0x3c797d(0x4c1));function a0_0x4180(){const _0x2224d2=['axios','info','deleteChat','/*.json','PLAYED','Erro\x20ao\x20adicionar\x20label\x20',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','notEqual','toDataURL','ReplyOption\x20com\x20ID\x20','):\x20atualização\x20chat:\x20','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','groupValidate','Instância:\x20','fetchProfilePicture','client','automateSystem','get','flowConfig','-whatsapp-api','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','method','\x20horas\x20e\x20','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','saveChatVariables','font','Erro\x20ao\x20editar\x20o\x20chat:\x20','setContext','next_groupId','):\x20Erro\x20durante\x20a\x20atualização:\x20','updateCustomFields','waitingMenu_replyOptions','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','contacts.upsert','ObjectId','verbose','downloadMediaMessage','Bad\x20Request','https://api.openai.com/v1/images/generations','copy','refused','ReplyOptions\x20finais\x20após\x20reordenação:','view\x20engine','drop','demote','pollUpdateMessage','):\x20Editando\x20variável\x20do\x20fluxo...','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','CONECTADO\x20À\x20UAZAPI','wuid','Image\x20converted\x20to\x20WebP','agents','conversation','Hash\x20to\x20audio\x20name:\x20','mongodb','getClient','prepareMediaMessage','label_jid','image','caption','nomecompleto','lastInteraction','API\x20Key\x20inválida.','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','load','Failed\x20to\x20get\x20IP\x20from\x20','.webp','CORS','flowPrefixCommand','updateStopChat','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','SERVER_ACK','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','insert','readMessage','eventHandler','processblock','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','No\x20response\x20received:','^\x5cd+([-]\x5cd+)*@g.us$','currency','editConversation','_Chats','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','port','fetchChats','Erro\x20ao\x20remover\x20instâncias\x20antigas:','update','Invalid\x20format','silent','stopped','setRestartTimer','prepareWAMessageMedia','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','hGet','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','MESSAGES_UPDATE','):\x20conversation.waitingMenu_name','Esse\x20fluxo\x20expirou','limit','instance.','?timestamp=','lastDisconnect','phoneNumber','pairingCode','\x20}\x0a','user','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','contact_blacklist','messages.upsert','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','optionDescription','state','none','inner','utf8','description','isLong','ensureChatIdsExist','apiResponse','):\x20alterando\x20this.AutomateSystem','$addToSet','\x20ao\x20chat\x20','shift','apikey','setHeader','document','lastCondition','groupParticipantsUpdate','response','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','writeFileSync','getMIMEType','redirect','editedMessage','toBRL','last','@whiskeysockets/baileys','Error\x20updating\x20profile\x20name','QRCODE_UPDATED','match','https://github.com/uazapi/uazapi.git','\x1b[1m','redis','conversationTimestamp','contactMessage','request\x20received\x20in\x20editFlowvariable','contentText','NO_IP','env','ContactModel','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','sendText','deleteDoneMessages','toFile','ERROR:\x20','TYPE','allflows','findGroupInfos','processConditions','$pull','statusMessage','/chat','):\x20teve\x20mudanças\x20chat.archived:\x20','findContacts','groups_ignore','setting','profilePictureUrl','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','$set','/message','email','*Pergunta*:\x20\x0a','deleteReplyOption','):\x20Enviando\x20áudio','):\x20nextBlock.uazapi.name','buttonText','Module\x20-\x20ON','INFO','uazapi','Erro\x20ao\x20editar\x20a\x20conversa:\x20','):\x20Error\x20processing\x20conditions:\x20',',\x20Resultado:\x20',',\x20Expiration\x20Time:\x20','.\x20Pulando.','matchRegex','request\x20received\x20in\x20starFlow','assign','conditions','writeData','block','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','encoding','isArray','\x1b[44m','chat','sendLocation','\x1b[37m%s\x1b[0m','Nenhum\x20proxy\x20funcional\x20encontrado\x20após\x203\x20tentativas.\x20Prosseguindo\x20sem\x20proxy.','msgRetryCounterCache','groupToggleEphemeral','messagesSend','/wa-chats','urlOrBase64','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','.uazapi.dev','WARN','Audio\x20is\x20url','.mp3','mongoose','\x1b[33m\x1b[1m','setWebhook','modifiedCount','uazapiDeleteMessage','REDIS_ENABLED','request','https://chat.whatsapp.com/','Types','detail','addresss','/media','@ffmpeg-installer/ffmpeg','Error\x20change\x20group\x20description','changeVariables','_ScheduleMessages','output','\x1b[40m','prefixCommand','updateOneById','long','host','Instance\x20ID:','ListMessage','chats.set','getMessageModelForOwner','group','formatBRNumber','cache','/wa-groups','Conversa\x20deletada\x20com\x20sucesso.','sleep','getHours','../env.yml','js-yaml','participant','imageMessage','reaction','sendMedia','reconnectTimestamps','readdirSync','scheduleMessage','isRunning','getTicketSystem','DARK','storePath','Contacts\x20not\x20found','.X-ABLabel:Celular\x0a','contextInfo','condition','groups.update','lean','PENDING','/clients-info','SERVER','OrAnd','isBusiness','recording','reconnectAttempts','findGroups','toLowerCase','updateProfilePicture','viewOnceMessageV2Extension','lastReceivedMessage','LICENSE_INVALID','REDIS_PREFIX_KEY','round','Deleted\x20','LOG_COLOR','groupJid','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','mediaSticker','stopWhenYouSendMsg','padStart','Erro\x20ao\x20incrementar\x20isValidAttempts:','__esModule','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','request\x20received\x20in\x20updateAgent','audio','leadInfo.desativadoFluxoAte','.docx','sendAudio','command','replaceValue','\x20mensagens\x20de\x20','preview','getLastMessage','\x1b[42m','remove.instance','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','\x1b[33m%s\x1b[0m','src','Error\x20updating\x20profile\x20picture','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','removeInstance','Converting\x20audio\x20to\x20mp4','sendButtons','parse','fetchProfile2','):\x20updateResult:','66uGwYTN','mediaMessage','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','username','color','replace','CHATS_UPSERT','inviteCode','Business\x20profile\x20fetched','unknown\x20operation\x20type\x20[','header','uazapiSendAudio','chatHandle','split','https://api.ipify.org?format=json','):\x20Editando\x20bloco...','RECONNECT_TIME_FRAME','trim','Button\x20IDs\x20cannot\x20be\x20repeated.','SINGLE_SELECT','Valor\x20inicial:\x20\x22','Erro\x20ao\x20iniciar\x20fluxo:\x20','Error\x20headers:','PREFIX_KEY','AutomateSystem','ip:\x20','NextBlock','Router','application/json','tags','Processing\x20audio','.sendDataWebhook-global','\x1b[34m%s\x1b[0m','fullName','findLabels','node-mime-types','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','Erro\x20ao\x20buscar\x20conversa:\x20','updateOnlinePrivacy','defineAuthState','envYaml','connection.update','isJidGroup','utf-8','function','statSync','from','convertToWebP','ids','insertCount','lastSend','CORS_METHODS','messaging-history.set','getAllData','variable','presence.update','\x1b[30m%s\x1b[0m','repeat','Safari\x20(Mac\x20OS)','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','toArray','verifiedName','Parando\x20aplicação,\x20atualização\x20recebida','\x20minutos...','whatsappNumber','request\x20received\x20in\x20deleteConversation','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','instanceKeys','apply','bulkWrite','1IAxMRP','InstancesAsDisconnectedX','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','\x22\x20not\x20found','push','getConversationModelForOwner','deleteflow','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','ipify.org','applyvaredit','fromObject','ephemeralMessage','Sistema\x20atualizado\x20com\x20sucesso!','temp-','):\x20Conversa\x20está\x20expirada\x20-\x20voto','.gif','subject','remoteJid','labels.edit','stopMinutes','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','):\x20Enviando\x20texto','MESSAGES_SET','importChats','):\x20leadInfoVariables','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','@s.whatsapp.net','sendDataWebhook','equal','https://','object','readMessages','creds.json','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','Fluxo\x20não\x20encontrado','Cache-Control','50mb','viewOnceMessage','EMAIL:','message_normalized','authentication','DATABASE','\x20do\x20chat\x20','\x20foi\x20interrompido\x20pelo\x20usuário.','send','addBlock','reference','toUpperCase','\x20is\x20already\x20in\x20use.','.mp4','formatStatusMessage','env.yml','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','PRESENCE_UPDATE','env.KEY\x20!==\x20key','bodyString','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','requestPairingCode','createServer','unhandledRejection','call','CONTACTS_UPSERT','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','audioWhatsapp','Não\x20respondeu\x20com\x20a\x20enquete.','ENABLED','API_KEY','550484zQvsIA','noConnection','errors','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','editScheduleMessage','qrCode','audio/mp4','stringify','success','):\x20Criando\x20nova\x20conversa[createNewConversation]','listResponseMessage','updateGParticipate','findById','):\x20conversation.status:\x20','):\x20expirationTime:\x20','joinGroupValidate','leadInfo.','\x20inseridas\x20no\x20banco\x20de\x20dados...','):\x20Ler\x20mensagem','Instance\x20\x22','blockLogs','contactname','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','sendCommand','hostname','scheduleSendText','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','mediaKey','removeData','\x5cd+','subjectOwner','all','CONNECTION','?authSource=admin&readPreference=primary&directConnection=true','option','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','router','/media/','.sendDataWebhook-local','uazapiSendContact','replaceVariablesInReplyOptions','.jwt','when','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','list','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','updateOne','DB_PREFIX_NAME','Error\x20in\x20scheduleNextCheck:\x20','Error\x20updating\x20message\x20status:','\x20removido\x20do\x20chat\x20','authModel','keep-alive','pollCreationMessageV2','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','role','fetchLatestBaileysVersion','updateProfileName','leadInfo.customFields.','fetchInstances','post','includes','qrcode.updated','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','VERBOSE','filter','waMonitor','https://jsonip.com','DELIVERY_ACK','getContactModelForOwner','\x1b[36m%s\x1b[0m','Selecione','configService','TEL','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','close','waitingMenu_id','/config','item','unreadcount','Image\x20is\x20base64','mediatype','LOG','Revoke\x20error','readFile','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','application/octet-stream','chats','processUazapi','console','createConversationforgoToFlow','not_announcement','\x0a*Você\x20respondeu*:\x0a','pollOnReplyDelete','no-cache','throwAndLogError','put','SERVER_OFFLINE','Group\x20not\x20found','announcement','getPrototypeOf','requestFile','local_map','poll','markMessageAsRead','*\x0a\x0a','pollMessageOnDelete','Background\x20color\x20is\x20required','getOwnPropertyNames','greater','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','updateFlowConfig','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','message','.xlsx','saveMediaToFile','remoteJids','ListType','Internal\x20Server\x20Error','):\x20Criando\x20fluxo...','\x20não\x20encontrado\x20para\x20cópia','entries','):\x20Deletando\x20fluxo...','removeChatLabel','atendimentoAberto','archived','convertedOptions','MESSAGES_UPSERT','STATUS_INSTANCE','removed','documentMessage','evaluateCondition','flow','archiveChat','findMessages','):\x20Editando\x20condição\x20do\x20fluxo...','CLEANING_INTERVAL','Error\x20change\x20group\x20setting','fetchBusinessProfile','sectionsToString','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','CONNECTION_UPDATE','DATABASE_CONNECTION_DB_PREFIX_NAME','shutdown\x20-r\x20now','Flow\x20não\x20encontrado','menuIgnoreNonVotes','redisEnv','leadInfo','chatLog','\x22\x20-\x20NOT\x20CONNECTION','The\x20property\x20cannot\x20be\x20empty','augusto.fcs@gmail.com','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','Error\x20updating\x20profile\x20status','authService','Converted\x20image\x20deleted','webhookModel','findByIdAndDelete','restartInstance','request\x20received\x20in\x20deleteFlow','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','https://uazapi-plugin.bubbleapps.io/?url=','closed','fetchLabels','FULLCHAIN','truncatedto','chats.update','createAndSave','AutomateFunctions','jwt','write','Temp\x20image\x20deleted','deletedCount','scheduleMessages','Sending\x20audio\x20whatsapp','extractRegex','Error\x20data:','listen','match_last_seen','toBrazilianNumberFormat','variablesNotFound','has','Erro\x20de\x20atualização:\x20','exists','editFlowGroup','Configuração\x20de\x20proxy\x20inválida\x20gerada.','profilePicture','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','Validate','@broadcast','/wa-connection-update','AppStateSyncKeyData','^\x5cd+','fileLength','collection','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','eventemitter2','chats.upsert','saveVariable',',\x20Minutes\x20to\x20Close:\x20','requested\x20testProxy','editOperator','jsonwebtoken','://','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','contactHandle','allFlows','envProcess','AUTHENTICATION','release','SERVER_PORT','getStatus','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','Subscribed\x20Events:','lastMessage','.txt','store','lastSendMessage','contains','ERROR','proto','order','closeExistingConversations','CORS_ORIGIN','moreLogs','groups.upsert','webp','numbers','GROUP_PARTICIPANTS_UPDATE','Desconectado,\x20parando\x20execução.','updateAgent','Instância\x20não\x20encontrada.','Erro\x20ao\x20atualizar\x20conversa:\x20','findIndex','oldToken','5alRHfI','linkPreview','Error\x20updating\x20privacy\x20settings','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20Deletando\x20conversa...','createProxyConfig','\x20using\x20the\x20proxy:','replaceVariablesChat','8080','restrict','insertMany','/group','class-validator','webhook','remote\x20\x22origin\x22','sendMenu','views','unreadCount','The\x20\x22','#ffffff','updateGroupsAddPrivacy','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','reviver','dyndns.org','Atualização:\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','):\x20teve\x20mudanças\x20chat.name:\x20','1635144yYRhhA','loadInstance','!cmd_','debug','expression','groupFetchAllParticipating','viewOnceMessageV2','deleteMessageForEveryone','protocolMessage','StartBot','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','groupHandler','):\x20Comando\x20desconhecido:\x20','updatePrivacySettings','):\x20Procurando\x20mensagens\x20para\x20envio','Flow\x20iniciado\x20com\x20','password','getScheduleMessage','HeaderType','getMessage','loadWebhook','Nenhum\x20chat\x20encontrado\x20para\x20editar.','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','$dbName','DaysToDelete','):\x20Query\x20params:\x20','instanceCount','groupId','redis://127.0.0.1:6379','config','sign','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','qrcode-terminal','/wa-message','routerPath','LEVEL','editFlowReply','emit','DATABASE_CONNECTION_PASSWORD','buttonMessage','\x0aitem','STORE_CLEANING_TERMINAL','Including\x20timestamp\x20in\x20url:\x20','CHATS_DELETE','string','pollCreationMessageV3','):\x20Bloco\x20copiado:\x20','Image\x20path:\x20','isConnected','Error\x20message:','):\x20Ignoring\x20group\x20messages.','mentioned','\x20minutos\x20verificará\x20novas\x20mensagens','):\x20Conversa\x20inserida\x20com\x20sucesso.','Temp\x20audio\x20created','metadata','delaySecMin','value','request\x20received\x20in\x20fetchConversation','cleanStore','Parando\x20aplicação...','createInstance','getRandomText','createFlow','length','replyOptions','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','ChatRouter','BRL','label','dbServer','media','LOG_LEVEL','errno','BufferJSON','./.git/config','/instance','readFileSync','-instances','cleaningUp','jid','connectedClient','licenca','log','\x20segundos','):\x20Conversa\x20está\x20expirada','Erro\x20ao\x20editar\x20o\x20bloco:\x20','waitingForReplyMenu','removeProfilePicture','.wav','_Contacts','flowConversation','READ','customFields','cwd','mentions','replyOption','online','some','generateWAMessageFromContent','groupMetadata','variablesToObject','DATABASE_CONNECTION_URI','copyDataToNewModel','Instance\x20deleted','no.connection','child_process','This\x20name\x20','integer','request\x20received\x20in\x20deleteDoneMessages','rm\x20-rf\x20','sendMessage','\x1b[37m','Error\x20fetching\x20group','stopConversation','action','where','Database\x20is\x20not\x20enabled','scheduleSendAudio','sendReaction','http://checkip.dyndns.org','Getting\x20profile\x20with\x20jid:\x20','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','stoppedUntil','getFlowModelForOwner','apiName','less','Unauthorized','title','backgroundColor','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','replaceVariablesInObject','locked','count','options','evaluateConditionTest','Reinicialização\x20iniciada:\x20','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','messageHandle','params','upperCase','request\x20received\x20in\x20editFlowcondition','):\x20tem\x20blocks','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','addReplyOption','):\x20customFieldVariables','CORS_CREDENTIALS','@g.us','Error\x20in\x20markMessageAsRead:','\x1b[1m\x1b[37m','connectToWhatsapp','startsWith','):\x20delete\x20=\x20true','Not\x20is\x20business\x20profile','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','ProxyAgent','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','flowStopConversation','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','findWebhook','):\x20Entrou\x20na\x20função\x20stop','Connection\x20closed\x20for\x20instance:\x20','audio/aac','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','removeOlderDisconnectedInstances','content','messages.update','Image\x20is\x20url','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','SendScheduleMessage','Error\x20status:','privacySettings','map','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','.doc','Fluxos\x20não\x20estão\x20ativados','resetReconnectionVariables','Rótulo\x20deletado:','updateReadReceiptsPrivacy','scheduleNextCheck','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','):\x20Editando\x20edição\x20do\x20fluxo...','\x20contacts','created','endSession','padEnd','slice','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','ORG:','WebhookGlobal','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','\x20saindo\x20da\x20função','sendPoll','<subdomain>','badSession','isInteger','notContains','upsertChats','start','subjectTime','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','reactionMessage','COLOR','dbClient','valid','status.instance','leaveGroup','base64','notMatchRegex','flowIgnoreGroups','fileUrl','):\x20newFirstValue\x20após\x20replaceVariables:','Getting\x20profile\x20info','InstancesAlterarTodas','\x22\x20cannot\x20be\x20empty','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','events','query','DATABASE_ENABLED','groupInviteCode','.ogg','key','allContacts','/instance/connectionState','desc','/exit','1387086WXFzJX','/instance/delete','rowId','\x1b[0m','\x0a38.154.227.167:5868:bkcihaei:jxnd6wd97u0s\x0a185.199.229.156:7492:bkcihaei:jxnd6wd97u0s\x0a185.199.228.220:7300:bkcihaei:jxnd6wd97u0s\x0a185.199.231.45:8382:bkcihaei:jxnd6wd97u0s\x0a188.74.210.207:6286:bkcihaei:jxnd6wd97u0s\x0a188.74.183.10:8279:bkcihaei:jxnd6wd97u0s\x0a188.74.210.21:6100:bkcihaei:jxnd6wd97u0s\x0a45.155.68.129:8133:bkcihaei:jxnd6wd97u0s\x0a154.95.36.199:6893:bkcihaei:jxnd6wd97u0s\x0a45.94.47.66:8110:bkcihaei:jxnd6wd97u0s\x0a','getScheduleMessageModelForOwner','senderKeyDistributionMessage','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','processvaredits','displayName','Error\x20change\x20group\x20name','picture','sendMessageWithTyping','groups','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','\x20inseridos\x20no\x20banco\x20de\x20dados...','realVariables','checkAndUpdateChatStatus','Not\x20Found','headers','find','trimmed','1395lDmopa','flowName','):\x20Visualizando\x20AutomateSystem','request\x20received\x20in\x20createFlow','contactsArrayMessage','editFlowVaredit','exit','pollCreationMessage','fone','Erro\x20ao\x20deletar\x20chat:','findOne','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','newStoppedUntil','Schema','\x20\x1b[0m','Flow\x20already\x20exists','error_log','pollMessage','\x5c$&','arraybuffer','):\x20Erro\x20ao\x20editar\x20agentes:\x20','Converting\x20image\x20to\x20WebP\x20to\x20sticker',',\x20fará\x20nova\x20verificação\x20em\x20','@redis/client','creation','blockId','Erro\x20ao\x20buscar\x20conversas:\x20','Audio\x20processed','editflowcondition','findOrCreate','logger','.svg','connect','findGroup','app-state-sync-key','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','editflowvariable','):\x20Buscando\x20todos\x20os\x20fluxos...','editFlowVariable','findGroupInfo','delay','originalUrl','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','pollCreationMessageKey','https://uazapi-plugin.bubbleapps.io/','abs','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','updateAll','existsSync','testProxy','request\x20received\x20in\x20getAutomateSystem','updateBlock','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','groupSetting',',\x20resultado:\x20','initAuthCreds','replaceVariablesLogs','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','menuType','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','}}\x20->\x20valor\x20não\x20encontrado','SECRET','E-mail:\x20','saveConversationToDatabase','maxActives','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','warn','stopMinutesMaxActives','):\x20Query\x20params:','CREDENTIALS','hGetAll','firstValue','ConversationModel','qrcode','):\x20Erro\x20ao\x20criar\x20fluxo\x20','done','updateProfileStatus','19088vFfkZJ','whatsappNumbers','Temp\x20audio\x20path:\x20','toNumber','deleteBlock','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','\x20chats\x20de\x20','ScheduleMessageModel','Erro\x20ao\x20atualizar\x20o\x20flow.','chats.delete','editflowblock','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','deleteOne','Rótulo\x20atualizado:','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','footerText','messageTimestamp','EXPIRIN_IN','minutesToClose','setNewValue','unavailable','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','add','findConversation','PORT','mongodb://',',\x20qrcodeCount:\x20','unlocked','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','Variável\x20não\x20encontrada!','SERVER_URL','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','joinGroup','.jpg','Erro\x20ao\x20editar\x20agentes:\x20','):\x20Buscando\x20conversas...','):\x20Current\x20Time:\x20','DATABASE_CONNECTION_HOST','headerString','error','sendList','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','isBase64','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','\x1b[31m','creds.update','webhookService','connecting','Chrome','deleteFlow','authState','request\x20received\x20in\x20getFlow','):\x20','Cannot\x20','protocol','audio/ogg','createJid','dbInstance','processgoToFlow','createNewConversation','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','findOneAndUpdate','API\x20Key\x20from\x20Request:','):\x20Flow\x20desativado','text/event-stream','):\x20Edit\x20schedule\x20message...','deleteMessage','GROUPS_UPSERT','fileName','public','Conexão\x20estabelecida','):\x20Falha\x20ao\x20deletar\x20mensagem.','arrayUnique','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','videoMessage','getFlow','No\x20invite\x20code','The\x20global\x20api\x20key\x20must\x20be\x20set','getOwnPropertyDescriptor','_activatedCount','\x1b[46m','.TEL;waid=','now','hex','/wa-contacts','splice','quoted','reorderReplyOptions','groupadd','video-cover.png','flushHeaders','$unset','sections','request\x20body:\x20','bateu\x20events','selectedOptions','revokeInviteCode','height','Last\x20message\x20not\x20found','CHATS_SET','indexOf','Operador:\x20\x22','Erro\x20ao\x20copiar\x20dados:','delayMessage','.webm','stderr','URL','startFlow','last_update','deleteMany','790YJjrzw','Profile\x20not\x20found','DELETED','editflowvaredit','getTime','isURL','DATABASE_CONNECTION_USER','getBusinessProfile','deleteConversation','spawn','_error','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','URI','birthtime','}}\x20->\x20\x22','forEach','use','announce','fetchContacts','findAndReplace','JWT','onWhatsApp','validate','loggedOut','_id','logout','random','endsWith','DOCKER_ENV','getLabelModelForOwner','connectedName','19248516Ncbfgq','hasOwnProperty','downloads',',\x20pairCode:\x20','DD/MM\x20HH:mm:ss','array','instance','updateMany','ephemeralExpiration','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','text','File\x20written\x20to\x20path:\x20','Read\x20messages','#000000','!stop','participants','mkdirSync','replacer','app','Close\x20connection','):\x20Enviando\x20mídia','connectionState','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','working','Erro\x20ao\x20atualizar\x20o\x20fluxo:','prototype','Image\x20created','https://api.openai.com/v1/audio/speech','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','sendPresenceUpdate','secondValue','fetchPrivacySettings','tryProxy','Type\x20defined\x20as\x20audio','enumerable','processApiRequest','locationMessage','SEND_MESSAGE','floor','syscall','create','\x1b[32m','HOST','fetchMessages','Telefone:\x20','getConversation','\x22reaction\x22\x20must\x20be\x20an\x20emoji','contacts.update','updateStatusPrivacy','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','processPollUpdateMessage','flowActive','status','/instance/fetchInstances','jsonschema','Variáveis\x20não\x20encontradas:','pop','):\x20Procurando\x20conversa','/events/:instance','varedit','menuMessage','delete','number','vote','interval\x20não\x20é\x20um\x20número','values','website','vcard','AUTHENTICATION_JWT_EXPIRIN_IN','binary','Hash\x20to\x20image\x20name:\x20','uazapiSendMedia','sendSticker','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','reorderBlocks','cpf','):\x20não\x20encontrou','onTime','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','METHODS','END:VCARD','groupLeave','editFlowBlock','pino','STORE_MESSAGE','HH:mm:ss','.png','Getting\x20image\x20from\x20url','createGroup','profile','process','uazapiSendLocation','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','labels','convertaudio','processConditionsTest','gifPlayback','ex:\x20\x22groupJid=120362@g.us\x22','type','\x20não\x20encontrado','):\x20Erro\x20ao\x20buscar\x20conversas\x20','format','name','longitude','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','The\x20instance\x20needs\x20to\x20be\x20disconnected','eventEmitter','video','waitingMenu_ExpiredMessage','path','Falta\x20informação\x20para\x20a\x20chamada\x20API','including\x20timestamp\x20in\x20url:\x20','lastBlockId','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','createWebhook','No\x20join\x20group\x20invite\x20code\x20or\x20url','data','Primeiro\x20Valor:\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','uazapiSendMenu','):\x20Buscando\x20conversa...','Rótulo\x20inválido\x20ou\x20sem\x20ID.','FlowController','ini','uuid','request\x20received\x20in\x20allFlows','buttonId','groupAcceptInvite','saveTextReply','DisconnectReason','\x20minutos.\x20Será\x20às\x20','/webhook','uazapiSendText','notify','available','groupUpdateDescription','data:\x20','set','chatModify','):\x20Enviando\x20enquete','goNextblock','stopIfLastReturnedError','Content\x20is\x20required','group-participants.update','optionName','AllProxy','listType','sendWhatsAppAudio','connectionStatus','DEBUG','stanzaId','varedits','stickerMessage','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','Erro\x20ao\x20normalizar\x20a\x20mensagem:','Resultado\x20da\x20atualização:','model','\x1b[43m','labels.association','save','fromMe','getAutomateSystem','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','findFlow','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','auth','namespace','findAndReplaceRegex','updateProfilePicturePrivacy','organization','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','):\x20Going\x20to\x20','fetchStatus','statusCode','nextBlock:','rows','createSectionsFromValues','sendStatus','updateReplyOption','url','updateMediaMessage','localWebhook','URL\x20limpa:\x20','contacts','STORE_CONTACTS','nome','KEY','json','scheduleSendMedia','):\x20Campos\x20a\x20serem\x20atualizados:','):\x20Error\x20processing\x20the\x20block:\x20','editFlow','parseInt','createConnection','_p_','updateGroupPicture','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','CONTACTS_UPDATE','GROUPS_UPDATE','desativadoFluxoAte','expiration','boolean','urlencoded','charAt','flattenObject','lastmsg','notas','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','buffer','exec','RemoveChatLabel','mimetype','ButtonsMessage','fetchProfile','--agree-tos','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','fetchConversation','createConversationforStartFlow','dayjs','responsavelid','audioMessage','Número:\x20','body','Imagem\x20não\x20encontrada','readreceipts','min','request\x20received\x20in\x20editFlow','testProxy\x20error:\x20','Missing\x20global\x20api\x20key','getDevice','apirequest','Archiving\x20chat','error\x20get\x20vote','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','\x20com\x20sucesso.','request\x20received\x20in\x20updateFlowConfig','proxy-agent','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','ignoreGroups','compression','/wa-presence','CONTACTS_SET','Unknown\x20message\x20type\x20or\x20empty\x20message','formatVCard','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','76964dcwpfF','userDevicesCache','GUARD','connectionClosed','pre','writeFile','Data\x20inválida\x20fornecida','PRIVKEY','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','\x20instance\x20does\x20not\x20exist','generateHash','messages.set','address','\x20não\x20encontrado\x20para\x20atualização.','repository','):\x20Bloco\x20original\x20para\x20cópia:\x20','):\x20newSecondValue\x20após\x20replaceVariables:','timerId','):\x20Editando\x20grupo\x20do\x20fluxo...','Error\x20removing\x20profile\x20picture','Trying\x20to\x20get\x20business\x20profile','Instance\x20logged\x20out','AutomateSystem\x20não\x20foi\x20inicializado','Error\x20creating\x20group','context','status@broadcast','Error\x20updating\x20participants','composing','createflow','Message','updateMessage','chatId','Comando\x20desconhecido','labelId','groupCreate','editChat','remoteJidsRemaining','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','keys','execSync','sem\x20texto\x20na\x20mensagem','CHATS_UPDATE','pt-BR','sticker','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','getVariablesChat','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','SUCCESS','Error\x20writing\x20file:\x20','):\x20teve\x20mudanças\x20chat.displayName:\x20','contact','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','):\x20Não\x20achou\x20nenhum\x20flow','.pdf','stateConnection','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','webhookMap','hSet','updateParticipant','Bloco\x20com\x20ID\x20','lowerCase','unlinkSync','cors','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','exports','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','/events','Instance\x20restarted','AddChatLabel','substring','updatePresence','connectToWhatsappController','):\x20Conversa\x20atualizada\x20em\x20memória','toString','editflow','^\x5cd+[\x5c.@\x5cw-]+','presence','getChatModelForOwner','getContentType','latitude','deleted','findParticipants','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','Db\x20Connection','\x0aFN:','convert','):\x20Deletando\x20mensagem','/:instanceName','19723vdAJon','selectableCount','groupSettingUpdate','http','not\x20loaded','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','AUTHENTICATION_TYPE','test','_Messages',',\x20valor\x20passado:\x20\x22','Log\x20out\x20instance:\x20','sendContact','Logger','):\x20conversation.lastInteraction:\x20','textMessage','updateGParticipant','Erro\x20de\x20reinicialização:\x20','dbSettings','deleteAll','isJWT','Error\x20update\x20group\x20picture','jpegThumbnail','generate','choices','join','code','static','segundos','true','editFlowCondition','messageId','sort','menuExpiredMessage','size','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','):\x20debug\x20alterando\x20this.AutomateSystem','connectionUpdate','sha256','notEmpty','open','Erro:','checkAndRestartProcess','updateConversation','blocks','Error\x20while\x20deleting\x20message\x20for\x20everyone','waInstances','instanceInfo',',\x20saindo.','content-type','getBase64FromMediaMessage','SSL_CONF_FULLCHAIN','\x1b[41m','subdomain','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','delAll','imagechat','empty','Button\x20texts\x20cannot\x20be\x20repeated','findByIdAndUpdate','Error\x20fetching\x20and\x20updating\x20profile:\x20','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','statusJidList','\x1b[32m%s\x1b[0m','groupName','hDel','):\x20transformedCustomFieldVariables','waitingMenu_text','Erro\x20inesperado\x20em\x20processvaredits:\x20','updateChatWithMessage','node-cache','findAll','variables','loadEnv','owner','pushName','and','Content-Type','):\x20Iniciando\x20bot...','buttons','SSL_CONF','MAX_RECONNECT_ATTEMPTS','dataValidate','request\x20received\x20in\x20editFlowgroup','paused','listMessage','documentWithCaptionMessage','Label\x20','messages','express','creds','):\x20Buscando\x20flow...','replaceVariables','Output\x20audio\x20path:\x20','PRODUCT_LIST','toLocaleString','readData','REDIS','scheduled','enabled','getProfileName','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','default','Início','All_Instances_Config','archive','processingScheduleMessageId','presenceSubscribe','\x20minutos','deleteInstance','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','instanceName','/instance/create','express-async-errors','stack','.ppt','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','groupDesc','max','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','replaceOne','toggleEphemeral','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','normalizeMessage'];a0_0x4180=function(){return _0x2224d2;};return a0_0x4180();}async function oo(_0x1ed60a,_0x5c37ee,_0x28e148){const _0x19ac28=a0_0x3c797d;let _0x1d0622=_0x1ed60a['get']('apikey');if(_0x1d0622&&b[_0x19ac28(0x5a8)](_0x19ac28(0x1bd))[_0x19ac28(0xe9)][_0x19ac28(0x482)]!==_0x1d0622)throw new ee();if(b['get'](_0x19ac28(0x1bd))[_0x19ac28(0xe9)]['KEY']===_0x1d0622)return _0x28e148();if((_0x1ed60a[_0x19ac28(0x317)][_0x19ac28(0x129)]('/instance/create')||_0x1ed60a[_0x19ac28(0x317)][_0x19ac28(0x129)](_0x19ac28(0x3fd)))&&!_0x1d0622)throw new K(_0x19ac28(0x4ac),_0x19ac28(0x388));let _0x3e76a6=b[_0x19ac28(0x5a8)]('AUTHENTICATION')[_0x19ac28(0x3bd)];try{let [_0x4674d7,_0x50f82a]=_0x1ed60a[_0x19ac28(0x5a8)]('authorization')['split']('\x20');if(_0x4674d7[_0x19ac28(0x6a6)]()!=='bearer')throw new ee();if(!(0x0,ya[_0x19ac28(0x52b)])(_0x50f82a))throw new ee();let _0x405a5d=_0x1ed60a[_0x19ac28(0x27f)],_0x1fd221=wa[_0x19ac28(0x580)]['verify'](_0x50f82a,_0x3e76a6[_0x19ac28(0x32b)],{'ignoreExpiration':_0x3e76a6[_0x19ac28(0x34c)]===0x0});if(_0x405a5d[_0x19ac28(0x589)]!==_0x1fd221[_0x19ac28(0x589)]||ze!==_0x1fd221[_0x19ac28(0x271)])throw new ee();return _0x28e148();}catch(_0x236646){throw ro[_0x19ac28(0x362)](_0x236646),new ee();}}async function io(_0x2674ef,_0x4c25cd,_0x257503){const _0x26f4e7=a0_0x3c797d;let _0x25dfc8=b[_0x26f4e7(0x5a8)]('AUTHENTICATION')[_0x26f4e7(0xe9)],_0x4ff5af=_0x2674ef[_0x26f4e7(0x5a8)]('apikey');if(_0x25dfc8[_0x26f4e7(0x482)]===_0x4ff5af)return _0x257503();if(_0x2674ef[_0x26f4e7(0x317)][_0x26f4e7(0x129)](_0x26f4e7(0x58a))){let _0x489362=He,_0xc5d990=_0x2674ef['body'][_0x26f4e7(0x589)];if(_0x489362&&_0xc5d990['toLowerCase']()[_0x26f4e7(0x28b)](_0x489362[_0x26f4e7(0x6a6)]()))return _0x257503();if(!_0x4ff5af)throw new K(_0x26f4e7(0x4ac),_0x26f4e7(0x388));}if(_0x2674ef['originalUrl']['includes'](_0x26f4e7(0x3fd))&&!_0x4ff5af)throw new K(_0x26f4e7(0x4ac),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x2674ef['originalUrl']['includes'](_0x26f4e7(0x2d7))&&!_0x4ff5af)throw new K('Missing\x20global\x20api\x20key',_0x26f4e7(0x388));if(_0x2674ef[_0x26f4e7(0x317)][_0x26f4e7(0x129)](_0x26f4e7(0x139))&&!_0x4ff5af)throw new K('Missing\x20global\x20api\x20key',_0x26f4e7(0x388));try{let _0x50c117=_0x2674ef['params'];if((await le[_0x26f4e7(0x46d)][_0x26f4e7(0x2ec)](_0x50c117[_0x26f4e7(0x589)]))[_0x26f4e7(0x614)]===_0x4ff5af)return _0x257503();}catch{}throw new ee();}var ba={'jwt':oo,'apikey':io},Za=require(a0_0x3c797d(0x570)),C=require(a0_0x3c797d(0x444)),E=(..._0x55f333)=>{const _0x417fee=a0_0x3c797d;let _0x5a42ef={};return _0x55f333[_0x417fee(0x3b8)](_0x2bcd9a=>_0x5a42ef[_0x2bcd9a]={'minLength':0x1,'description':_0x417fee(0x1ea)+_0x2bcd9a+_0x417fee(0x2cc)}),{'if':{'propertyNames':{'enum':[..._0x55f333]}},'then':{'properties':_0x5a42ef}};},M={'$id':(0x0,C['v4'])(),'type':'object','properties':{'instanceName':{'type':a0_0x3c797d(0x220)}},...E(a0_0x3c797d(0x589))},Hn={'$id':(0x0,C['v4'])(),'type':a0_0x3c797d(0xc5),'properties':{'oldToken':{'type':a0_0x3c797d(0x220)}},'required':[a0_0x3c797d(0x1d7)],...E(a0_0x3c797d(0x1d7))},Kn={'properties':{'key':{'type':a0_0x3c797d(0xc5),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x3c797d(0x220)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x3c797d(0xb8),a0_0x3c797d(0x468)],...E('id',a0_0x3c797d(0xb8))},'message':{'type':a0_0x3c797d(0xc5)}}},Q={'properties':{'delay':{'type':a0_0x3c797d(0x260),'description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':a0_0x3c797d(0x220),'enum':['unavailable',a0_0x3c797d(0x44e),a0_0x3c797d(0x4da),'recording',a0_0x3c797d(0x56b)]}}},z={'type':a0_0x3c797d(0x220),'pattern':a0_0x3c797d(0x50b),'description':a0_0x3c797d(0x5ef)},Sa={'$id':(0x0,C['v4'])(),'type':a0_0x3c797d(0xc5),'properties':{'number':{...z},'options':{...Q},'textMessage':{'type':a0_0x3c797d(0xc5),'properties':{'text':{'type':a0_0x3c797d(0x220)}},'required':[a0_0x3c797d(0x3d2)],...E('text')}},'required':[a0_0x3c797d(0x526),a0_0x3c797d(0x406)]},Ea={'type':a0_0x3c797d(0x220),'pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':'Invalid\x20format'},Qn={'$id':(0x0,C['v4'])(),'type':a0_0x3c797d(0xc5),'properties':{'number':{...Ea},'options':{...Q},'textMessage':{'type':a0_0x3c797d(0xc5),'properties':{'text':{'type':a0_0x3c797d(0x220)}},'required':[a0_0x3c797d(0x3d2)],...E('text')}},'required':['textMessage',a0_0x3c797d(0x406)]},Yn={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Ea},'options':{...Q},'mediaMessage':{'type':a0_0x3c797d(0xc5),'properties':{'mediatype':{'type':a0_0x3c797d(0x220),'enum':[a0_0x3c797d(0x5d1),a0_0x3c797d(0x616),a0_0x3c797d(0x433),a0_0x3c797d(0x6b8)]},'media':{'type':a0_0x3c797d(0x220)},'fileName':{'type':a0_0x3c797d(0x220)},'caption':{'type':a0_0x3c797d(0x220)}},'required':['mediatype',a0_0x3c797d(0x23b)],...E(a0_0x3c797d(0x37f),a0_0x3c797d(0x5d2),a0_0x3c797d(0x23b))}},'required':[a0_0x3c797d(0x6cf),a0_0x3c797d(0x406)]},Ca={'$id':(0x0,C['v4'])(),'type':a0_0x3c797d(0xc5),'properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':a0_0x3c797d(0xc5),'properties':{'image':{'type':a0_0x3c797d(0x220)}},'required':[a0_0x3c797d(0x5d1)],...E(a0_0x3c797d(0x5d1))}},'required':[a0_0x3c797d(0x460),a0_0x3c797d(0x406)]},Ma={'$id':(0x0,C['v4'])(),'type':'object','properties':{'statusMessage':{'type':a0_0x3c797d(0xc5),'properties':{'type':{'type':a0_0x3c797d(0x220),'enum':['text',a0_0x3c797d(0x5d1),a0_0x3c797d(0x6b8),'video']},'content':{'type':a0_0x3c797d(0x220)},'caption':{'type':a0_0x3c797d(0x220)},'backgroundColor':{'type':a0_0x3c797d(0x220)},'font':{'type':a0_0x3c797d(0x260),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x3c797d(0x3cd),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3c797d(0x220),'pattern':a0_0x3c797d(0x1ad),'description':a0_0x3c797d(0x1db)}},'allContacts':{'type':a0_0x3c797d(0x491),'enum':[!0x0,!0x1]}},'required':[a0_0x3c797d(0x42a),a0_0x3c797d(0x299)],...E('type',a0_0x3c797d(0x299))}},'required':['statusMessage']},va={'$id':(0x0,C['v4'])(),'type':a0_0x3c797d(0xc5),'properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':a0_0x3c797d(0xc5),'properties':{'mediatype':{'type':a0_0x3c797d(0x220),'enum':[a0_0x3c797d(0x5d1),a0_0x3c797d(0x616),a0_0x3c797d(0x433),a0_0x3c797d(0x6b8)]},'media':{'type':a0_0x3c797d(0x220)},'fileName':{'type':'string'},'caption':{'type':a0_0x3c797d(0x220)}},'required':[a0_0x3c797d(0x13d),'media'],...E(a0_0x3c797d(0x37f),a0_0x3c797d(0x5d2),'media')}},'required':['mediaMessage',a0_0x3c797d(0x406)]},Na={'$id':(0x0,C['v4'])(),'type':a0_0x3c797d(0xc5),'properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':a0_0x3c797d(0xc5),'properties':{'audio':{'type':a0_0x3c797d(0x220)}},'required':['audio'],...E(a0_0x3c797d(0x6b8))}},'required':[a0_0x3c797d(0x4a4),a0_0x3c797d(0x406)]},Ra={'$id':(0x0,C['v4'])(),'type':a0_0x3c797d(0xc5),'properties':{'number':{...z},'pollMessage':{'type':a0_0x3c797d(0xc5),'properties':{'name':{'type':'string'},'selectableCount':{'type':'number'},'values':{'type':a0_0x3c797d(0x3cd),'minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x3c797d(0x519),'values'],...E(a0_0x3c797d(0x42e),a0_0x3c797d(0x519),a0_0x3c797d(0x409))}},'required':[a0_0x3c797d(0x406),a0_0x3c797d(0x2ff)]},Ta={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'menuMessage':{'type':a0_0x3c797d(0xc5),'properties':{'text':{'type':a0_0x3c797d(0x220)},'choices':{'type':a0_0x3c797d(0x3cd),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x3c797d(0x3d2),a0_0x3c797d(0x52f)],...E(a0_0x3c797d(0x3d2),a0_0x3c797d(0x52f))}},'required':['number',a0_0x3c797d(0x404)]},Aa={'$id':(0x0,C['v4'])(),'type':a0_0x3c797d(0xc5),'properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':a0_0x3c797d(0xc5),'properties':{'title':{'type':a0_0x3c797d(0x220)},'description':{'type':a0_0x3c797d(0x220)},'footerText':{'type':a0_0x3c797d(0x220)},'buttons':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3c797d(0xc5),'properties':{'buttonText':{'type':a0_0x3c797d(0x220)},'buttonId':{'type':a0_0x3c797d(0x220)}},'required':[a0_0x3c797d(0x648),a0_0x3c797d(0x446)],...E(a0_0x3c797d(0x648),'buttonId')}},'mediaMessage':{'type':'object','properties':{'media':{'type':a0_0x3c797d(0x220)},'fileName':{'type':a0_0x3c797d(0x220)},'mediatype':{'type':a0_0x3c797d(0x220),'enum':['image',a0_0x3c797d(0x616),a0_0x3c797d(0x433)]}},'required':['media','mediatype'],...E('media',a0_0x3c797d(0x37f))}},'required':['title','buttons'],...E(a0_0x3c797d(0x274),a0_0x3c797d(0x60c))}},'required':[a0_0x3c797d(0x406),a0_0x3c797d(0x21b)]},Oa={'$id':(0x0,C['v4'])(),'type':a0_0x3c797d(0xc5),'properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':a0_0x3c797d(0xc5),'properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x3c797d(0x406)},'name':{'type':a0_0x3c797d(0x220)},'address':{'type':a0_0x3c797d(0x220)}},'required':[a0_0x3c797d(0x50f),'longitude'],...E(a0_0x3c797d(0x42e),a0_0x3c797d(0x674))}},'required':[a0_0x3c797d(0x406),a0_0x3c797d(0x3ec)]},Ia={'$id':(0x0,C['v4'])(),'type':a0_0x3c797d(0xc5),'properties':{'number':{...z},'options':{...Q},'listMessage':{'type':a0_0x3c797d(0xc5),'properties':{'title':{'type':a0_0x3c797d(0x220)},'description':{'type':'string'},'footerText':{'type':a0_0x3c797d(0x220)},'buttonText':{'type':a0_0x3c797d(0x220)},'sections':{'type':a0_0x3c797d(0x3cd),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3c797d(0xc5),'properties':{'title':{'type':a0_0x3c797d(0x220)},'rows':{'type':a0_0x3c797d(0x3cd),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3c797d(0xc5),'properties':{'title':{'type':a0_0x3c797d(0x220)},'description':{'type':'string'},'rowId':{'type':a0_0x3c797d(0x220)}},'required':['title',a0_0x3c797d(0x2da)],...E(a0_0x3c797d(0x274),a0_0x3c797d(0x2da))}}},'required':[a0_0x3c797d(0x274),a0_0x3c797d(0x477)],...E(a0_0x3c797d(0x274))}}},'required':['title',a0_0x3c797d(0x60c),'buttonText','sections'],...E(a0_0x3c797d(0x274),a0_0x3c797d(0x60c),a0_0x3c797d(0x648),a0_0x3c797d(0x34a))}},'required':['number',a0_0x3c797d(0x56c)]},Da={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':a0_0x3c797d(0x3cd),'items':{'type':a0_0x3c797d(0xc5),'properties':{'fullName':{'type':a0_0x3c797d(0x220)},'phoneNumber':{'type':a0_0x3c797d(0x220),'minLength':0xa}},'required':[a0_0x3c797d(0x6ef),a0_0x3c797d(0x5ff)],...E('fullName')},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x3c797d(0x406),'contactMessage']},xa={'$id':(0x0,C['v4'])(),'type':a0_0x3c797d(0xc5),'properties':{'reactionMessage':{'type':a0_0x3c797d(0xc5),'properties':{'key':{'type':a0_0x3c797d(0xc5),'properties':{'id':{'type':a0_0x3c797d(0x220)},'remoteJid':{'type':a0_0x3c797d(0x220)},'fromMe':{'type':a0_0x3c797d(0x491),'enum':[!0x0,!0x1]}},'required':['id',a0_0x3c797d(0xb8),a0_0x3c797d(0x468)],...E('id',a0_0x3c797d(0xb8))},'reaction':{'type':'string'}},'required':['key',a0_0x3c797d(0x68f)],...E(a0_0x3c797d(0x68f))}},'required':['reactionMessage']},Pa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'numbers':{'type':a0_0x3c797d(0x3cd),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3c797d(0x220),'pattern':a0_0x3c797d(0x1ad),'description':a0_0x3c797d(0x32f)}}}},_a={'$id':(0x0,C['v4'])(),'type':a0_0x3c797d(0xc5),'properties':{'readMessages':{'type':a0_0x3c797d(0x3cd),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x3c797d(0x220)},'fromMe':{'type':a0_0x3c797d(0x491),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x3c797d(0x220)}},'required':['id','fromMe',a0_0x3c797d(0xb8)],...E('id',a0_0x3c797d(0xb8))}}},'required':['readMessages']},$a={'$id':(0x0,C['v4'])(),'type':a0_0x3c797d(0xc5),'properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':a0_0x3c797d(0x220),'enum':['all',a0_0x3c797d(0x609)]},'profile':{'type':a0_0x3c797d(0x220),'enum':[a0_0x3c797d(0x109),a0_0x3c797d(0x47f),a0_0x3c797d(0x604),a0_0x3c797d(0x609)]},'status':{'type':a0_0x3c797d(0x220),'enum':[a0_0x3c797d(0x109),a0_0x3c797d(0x47f),a0_0x3c797d(0x604),'none']},'online':{'type':a0_0x3c797d(0x220),'enum':[a0_0x3c797d(0x109),a0_0x3c797d(0x19f)]},'last':{'type':'string','enum':[a0_0x3c797d(0x109),a0_0x3c797d(0x47f),'contact_blacklist',a0_0x3c797d(0x609)]},'groupadd':{'type':'string','enum':[a0_0x3c797d(0x109),a0_0x3c797d(0x47f),a0_0x3c797d(0x604),'none']}},'required':[a0_0x3c797d(0x4a8),a0_0x3c797d(0x421),'status','online',a0_0x3c797d(0x620),'groupadd'],...E(a0_0x3c797d(0x4a8),a0_0x3c797d(0x421),a0_0x3c797d(0x3fc),a0_0x3c797d(0x255),a0_0x3c797d(0x620),a0_0x3c797d(0x393))}},'required':['privacySettings']},ka={'$id':(0x0,C['v4'])(),'type':a0_0x3c797d(0xc5),'properties':{'lastMessage':{'type':a0_0x3c797d(0xc5),'properties':{'key':{'type':a0_0x3c797d(0xc5),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x3c797d(0x220)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0x3c797d(0xb8)],...E('id',a0_0x3c797d(0xb8))},'messageTimestamp':{'type':a0_0x3c797d(0x260),'minLength':0x1}},'required':[a0_0x3c797d(0x2d3)],...E(a0_0x3c797d(0x34b))},'archive':{'type':a0_0x3c797d(0x491),'enum':[!0x0,!0x1]}},'required':['lastMessage',a0_0x3c797d(0x583)]},La={'$id':(0x0,C['v4'])(),'type':a0_0x3c797d(0xc5),'properties':{'id':{'type':a0_0x3c797d(0x220)},'fromMe':{'type':a0_0x3c797d(0x491),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x3c797d(0x220)},'participant':{'type':a0_0x3c797d(0x220)}},'required':['id','fromMe',a0_0x3c797d(0xb8)],...E('id',a0_0x3c797d(0xb8),a0_0x3c797d(0x68d))},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x3c797d(0xc5),'properties':{'where':{'type':a0_0x3c797d(0xc5),'properties':{'_id':{'type':a0_0x3c797d(0x220),'minLength':0x1},'pushName':{'type':a0_0x3c797d(0x220),'minLength':0x1},'id':{'type':a0_0x3c797d(0x220),'minLength':0x1}},...E(a0_0x3c797d(0x3c1),'id',a0_0x3c797d(0x562))}}},Ua={'$id':(0x0,C['v4'])(),'type':a0_0x3c797d(0xc5),'properties':{'name':{'type':a0_0x3c797d(0x220)}},...E(a0_0x3c797d(0x42e))},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x3c797d(0xc5),'properties':{'status':{'type':a0_0x3c797d(0x220)}},...E('status')},Se={'$id':(0x0,C['v4'])(),'type':a0_0x3c797d(0xc5),'properties':{'number':{'type':a0_0x3c797d(0x220)},'picture':{'type':a0_0x3c797d(0x220)}}},ja={'type':a0_0x3c797d(0xc5),'properties':{'wuid':{'type':'string'},'name':{'type':a0_0x3c797d(0x220)},'picture':{'type':a0_0x3c797d(0x220)},'status':{'type':a0_0x3c797d(0x220)},'isBusiness':{'type':a0_0x3c797d(0x491)}}},qa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':a0_0x3c797d(0xc5),'if':{'propertyNames':{'enum':['fromMe','remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':a0_0x3c797d(0x220),'minLength':0x1,'description':a0_0x3c797d(0x183)},'id':{'type':'string','minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':a0_0x3c797d(0x491),'enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...E(a0_0x3c797d(0x3c1))},'limit':{'type':a0_0x3c797d(0x260)}}},Xn={'$id':(0x0,C['v4'])(),'type':a0_0x3c797d(0xc5),'properties':{'where':{'type':a0_0x3c797d(0xc5),'properties':{'_id':{'type':'string'},'remoteJid':{'type':a0_0x3c797d(0x220)},'id':{'type':'string'},'fromMe':{'type':a0_0x3c797d(0x491),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':'string','enum':[a0_0x3c797d(0x1c8),a0_0x3c797d(0x69e),a0_0x3c797d(0x5de),a0_0x3c797d(0x130),a0_0x3c797d(0x250),a0_0x3c797d(0x59b)]}},...E('_id',a0_0x3c797d(0xb8),'id',a0_0x3c797d(0x3fc))},'limit':{'type':a0_0x3c797d(0x260)}}},Va={'$id':(0x0,C['v4'])(),'type':a0_0x3c797d(0xc5),'properties':{'number':{...z},'presence':{'type':a0_0x3c797d(0x220),'enum':[a0_0x3c797d(0x34f),a0_0x3c797d(0x44e),a0_0x3c797d(0x4da),'recording','paused']}},'required':[a0_0x3c797d(0x50c),a0_0x3c797d(0x406)]},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x3c797d(0xc5),'properties':{'subject':{'type':a0_0x3c797d(0x220)},'description':{'type':'string'},'profilePicture':{'type':'string'},'participants':{'type':a0_0x3c797d(0x3cd),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3c797d(0x220),'minLength':0xa,'pattern':a0_0x3c797d(0x107),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x3c797d(0xb7),'participants'],...E(a0_0x3c797d(0xb7),a0_0x3c797d(0x60c),a0_0x3c797d(0x1a7))},Ee={'$id':(0x0,C['v4'])(),'type':a0_0x3c797d(0xc5),'properties':{'groupJid':{'type':a0_0x3c797d(0x220),'pattern':a0_0x3c797d(0x5e6)}},'required':[a0_0x3c797d(0x6af)],...E('groupJid')},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x3c797d(0xc5),'properties':{'groupJid':{'type':a0_0x3c797d(0x220)},'action':{'type':a0_0x3c797d(0x220),'enum':['add','remove','promote',a0_0x3c797d(0x5c3)]},'participants':{'type':a0_0x3c797d(0x3cd),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x3c797d(0x107),'description':a0_0x3c797d(0x350)}}},'required':[a0_0x3c797d(0x6af),a0_0x3c797d(0x267),a0_0x3c797d(0x3d7)],...E(a0_0x3c797d(0x6af),a0_0x3c797d(0x267))},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x3c797d(0xc5),'properties':{'groupJid':{'type':'string'},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid',a0_0x3c797d(0x490)],...E(a0_0x3c797d(0x6af),a0_0x3c797d(0x490))},za={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x3c797d(0x220)},'image':{'type':'string'}},'required':['groupJid',a0_0x3c797d(0x5d1)],...E(a0_0x3c797d(0x6af),a0_0x3c797d(0x5d1))},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x3c797d(0xc5),'properties':{'groupJid':{'type':a0_0x3c797d(0x220)},'description':{'type':a0_0x3c797d(0x220)}},'required':[a0_0x3c797d(0x6af),a0_0x3c797d(0x60c)],...E('groupJid',a0_0x3c797d(0x60c))},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x3c797d(0xc5),'properties':{'groupJid':{'type':a0_0x3c797d(0x220)},'name':{'type':a0_0x3c797d(0x220)}},'required':[a0_0x3c797d(0x6af),a0_0x3c797d(0x42e)],...E('groupJid',a0_0x3c797d(0x42e))},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x3c797d(0xc5),'properties':{'groupJid':{'type':'string'},'setting':{'type':'string','enum':[a0_0x3c797d(0x14f),a0_0x3c797d(0x147),a0_0x3c797d(0x356),a0_0x3c797d(0x278)]}},'required':[a0_0x3c797d(0x6af),a0_0x3c797d(0x63e)],...E('groupJid',a0_0x3c797d(0x63e))},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x3c797d(0xc5),'properties':{'inviteCode':{'type':a0_0x3c797d(0x220)}},'required':[a0_0x3c797d(0x6d5)],...E(a0_0x3c797d(0x6d5))},Xa={'$id':(0x0,C['v4'])(),'type':a0_0x3c797d(0xc5),'properties':{'url':{'type':'string'},'enabled':{'type':a0_0x3c797d(0x491),'enum':[!0x0,!0x1]}},'required':[a0_0x3c797d(0x47b),a0_0x3c797d(0x57a)]},Zn={'$id':(0x0,C['v4'])(),'type':a0_0x3c797d(0xc5),'properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x3c797d(0x491),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x3c797d(0x491),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x3c797d(0x491),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x3c797d(0x491),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x3c797d(0x491),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x3c797d(0x491),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x3c797d(0x491),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x3c797d(0x491),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x3c797d(0x491),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x3c797d(0x491),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x3c797d(0x491),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x3c797d(0x491),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x3c797d(0x491),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x3c797d(0x491),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x3c797d(0x491),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x3c797d(0x491),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x3c797d(0x491),'enum':[!0x0,!0x1]}},'required':['local_map','STATUS_INSTANCE',a0_0x3c797d(0x623),a0_0x3c797d(0xbd),'MESSAGES_UPDATE',a0_0x3c797d(0x16c),a0_0x3c797d(0x3ed),a0_0x3c797d(0x4bb),a0_0x3c797d(0xe4),'CONTACTS_UPDATE','PRESENCE_UPDATE',a0_0x3c797d(0x39e),a0_0x3c797d(0x6d4),a0_0x3c797d(0x4e8),a0_0x3c797d(0x21f),a0_0x3c797d(0x17a),'GROUPS_UPSERT','GROUPS_UPDATE',a0_0x3c797d(0x1d1)],...E(a0_0x3c797d(0x152),a0_0x3c797d(0x16d),'QRCODE_UPDATED',a0_0x3c797d(0xbd),'MESSAGES_UPDATE',a0_0x3c797d(0x16c),'SEND_MESSAGE',a0_0x3c797d(0x4bb),a0_0x3c797d(0xe4),'CONTACTS_UPDATE','PRESENCE_UPDATE',a0_0x3c797d(0x39e),'CHATS_UPSERT',a0_0x3c797d(0x4e8),a0_0x3c797d(0x21f),a0_0x3c797d(0x17a),a0_0x3c797d(0x37e),a0_0x3c797d(0x48e),a0_0x3c797d(0x1d1))},Ke=class{},Qe=class extends I{['getContactModelForOwner'](_0x14b4c4){return Vs(_0x14b4c4);}async[a0_0x3c797d(0x5e0)](_0xd6cf7a){const _0x1c7af3=a0_0x3c797d;if(_0xd6cf7a[_0x1c7af3(0x234)]!==0x0)try{return{'insertCount':(await this[_0x1c7af3(0x131)](_0xd6cf7a[0x0][_0x1c7af3(0x561)])[_0x1c7af3(0x1e2)]([..._0xd6cf7a]))[_0x1c7af3(0x234)]};}catch(_0x5e1ade){return _0x5e1ade;}}async[a0_0x3c797d(0x405)](_0x4a2e8f,_0x22238a){const _0x3d6e00=a0_0x3c797d;try{return{'deletedCount':(await this['getContactModelForOwner'](_0x22238a)[_0x3d6e00(0x3a8)]({..._0x4a2e8f[_0x3d6e00(0x268)]}))[_0x3d6e00(0x199)]};}catch(_0x4b7544){return{'error':_0x4b7544?.[_0x3d6e00(0x509)]()};}}async['update'](_0x21dae8,_0x74680a){const _0x46535b=a0_0x3c797d;try{if(_0x21dae8[_0x46535b(0x234)]===0x0)return;let _0x515466=this['getContactModelForOwner'](_0x74680a),_0x2d52d6=_0x21dae8['map'](_0x5c48ab=>({'updateOne':{'filter':{'_id':_0x5c48ab[_0x46535b(0x3c1)],'owner':_0x74680a},'update':{..._0x5c48ab}}})),{modifiedCount:_0x549b3b}=await _0x515466['bulkWrite'](_0x2d52d6);return{'insertCount':_0x549b3b};}catch{return;}}async[a0_0x3c797d(0x2ec)](_0x1775e6,_0x3f0c5f){const _0x522af9=a0_0x3c797d;try{let _0x542f23=this[_0x522af9(0x131)](_0x3f0c5f),_0xdcd143=A(_0x1775e6['where']);return await _0x542f23[_0x522af9(0x2ec)](_0xdcd143)[_0x522af9(0x5fb)](_0x1775e6?.['limit']??0x0)[_0x522af9(0x69d)]();}catch{return[];}}async[a0_0x3c797d(0x2f8)](_0x45ba83,_0x4fc5f0){const _0x1f5569=a0_0x3c797d;try{let _0x3d052e=this['getContactModelForOwner'](_0x4fc5f0),_0x275693=A(_0x45ba83[_0x1f5569(0x268)]);return await _0x3d052e[_0x1f5569(0x2f8)](_0x275693)[_0x1f5569(0x69d)]();}catch{return null;}}async['deleteAll'](_0x3e6369){const _0x140463=a0_0x3c797d;try{return await this[_0x140463(0x131)](_0x3e6369)[_0x140463(0x1af)]['drop'](),{'success':!0x0};}catch(_0x473e57){return console['error'](_0x473e57),{'success':!0x1,'error':_0x473e57};}}},Ye=require(a0_0x3c797d(0x3fe)),cc=require(a0_0x3c797d(0x58b)),ds=new v(a0_0x3c797d(0x1a9)),j=class{['routerPath'](_0x2314e4,_0x3ddafe=!0x0){const _0x45c13c=a0_0x3c797d;let _0x35b31='/'+_0x2314e4;return _0x3ddafe&&(_0x35b31+=_0x45c13c(0x517)),_0x35b31;}async[a0_0x3c797d(0x569)](_0x554c8f){const _0xc6fab3=a0_0x3c797d;let {request:_0x499fe1,schema:_0x32c7c5,ClassRef:_0x2ddd29,execute:_0x43d09a}=_0x554c8f,_0x50bf2d=new _0x2ddd29(),_0x5c0a77=_0x499fe1[_0xc6fab3(0x4a6)],_0x2ce3e3=_0x499fe1['params'];_0x499fe1?.['query']&&Object[_0xc6fab3(0x4e5)](_0x499fe1[_0xc6fab3(0x2cf)])[_0xc6fab3(0x234)]>0x0&&Object[_0xc6fab3(0x653)](_0x2ce3e3,_0x499fe1[_0xc6fab3(0x2cf)]),_0x499fe1[_0xc6fab3(0x317)][_0xc6fab3(0x129)](_0xc6fab3(0x58a))&&Object['assign'](_0x2ce3e3,_0x5c0a77),Object['assign'](_0x50bf2d,_0x5c0a77);let _0x2ff1e5=_0x32c7c5?(0x0,Ye['validate'])(_0x50bf2d,_0x32c7c5):{'valid':!0x0,'errors':[]};if(!_0x2ff1e5[_0xc6fab3(0x2c2)]){let _0x133e2e=_0x2ff1e5['errors']['map'](({property:_0x15d76a,stack:_0x539e58,schema:_0x2ab208})=>{const _0x2b5397=_0xc6fab3;let _0x1e423e;return _0x2ab208[_0x2b5397(0x60c)]?_0x1e423e=_0x2ab208['description']:_0x1e423e=_0x539e58[_0x2b5397(0x6d3)](_0x2b5397(0x5fc),''),{'property':_0x15d76a[_0x2b5397(0x6d3)]('instance.',''),'message':_0x1e423e};});throw ds[_0xc6fab3(0x362)]([..._0x133e2e]),new m(..._0x133e2e);}return await _0x43d09a(_0x2ce3e3,_0x50bf2d);}async[a0_0x3c797d(0x5a3)](_0x5282a3){const _0x358aff=a0_0x3c797d;let {request:_0x41cb80,ClassRef:_0x44497b,schema:_0x574f7b,execute:_0xbb46e6}=_0x5282a3,_0x400552=_0x41cb80[_0x358aff(0x2cf)];if(!_0x400552?.[_0x358aff(0x6af)])throw new m(_0x358aff(0x1fe),_0x358aff(0x429));let _0x591418=_0x41cb80[_0x358aff(0x27f)],_0x1b9837=_0x41cb80[_0x358aff(0x4a6)],_0x38fdf0=new _0x44497b();Object['assign'](_0x1b9837,_0x400552),Object[_0x358aff(0x653)](_0x38fdf0,_0x1b9837);let _0x520e46=(0x0,Ye['validate'])(_0x38fdf0,_0x574f7b);if(!_0x520e46[_0x358aff(0x2c2)]){let _0x274634=_0x520e46[_0x358aff(0xec)][_0x358aff(0x2a0)](({property:_0x405eeb,stack:_0x53c83d,schema:_0x29faf8})=>{const _0x3adaf6=_0x358aff;let _0x37ec99;return _0x29faf8[_0x3adaf6(0x60c)]?_0x37ec99=_0x29faf8[_0x3adaf6(0x60c)]:_0x37ec99=_0x53c83d[_0x3adaf6(0x6d3)](_0x3adaf6(0x5fc),''),{'property':_0x405eeb[_0x3adaf6(0x6d3)](_0x3adaf6(0x5fc),''),'message':_0x37ec99};});throw ds[_0x358aff(0x362)]([..._0x274634]),new m(..._0x274634);}return await _0xbb46e6(_0x591418,_0x38fdf0);}async[a0_0x3c797d(0xf9)](_0x28b229){const _0x3c9184=a0_0x3c797d;let {request:_0xe017e,ClassRef:_0x4e25bc,schema:_0x21f275,execute:_0x3fba9c}=_0x28b229,_0x498042=_0xe017e['body'];if(!_0x498042?.[_0x3c9184(0x6d5)])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x3c9184(0x472));let _0x22f619=_0xe017e[_0x3c9184(0x27f)],_0x41f6b9=_0xe017e[_0x3c9184(0x4a6)],_0x5214b2=new _0x4e25bc();Object[_0x3c9184(0x653)](_0x41f6b9,_0x498042),Object[_0x3c9184(0x653)](_0x5214b2,_0x41f6b9);let _0x228ffb=(0x0,Ye[_0x3c9184(0x3bf)])(_0x5214b2,_0x21f275);if(!_0x228ffb[_0x3c9184(0x2c2)]){let _0xc8683f=_0x228ffb['errors']['map'](({property:_0x49a060,stack:_0x2b9e60,schema:_0x481334})=>{const _0x17796f=_0x3c9184;let _0x5be924;return _0x481334[_0x17796f(0x60c)]?_0x5be924=_0x481334[_0x17796f(0x60c)]:_0x5be924=_0x2b9e60[_0x17796f(0x6d3)](_0x17796f(0x5fc),''),{'property':_0x49a060[_0x17796f(0x6d3)]('instance.',''),'message':_0x5be924};});throw ds[_0x3c9184(0x362)]([..._0xc8683f]),new m(..._0xc8683f);}return await _0x3fba9c(_0x22f619,_0x5214b2);}},S=class{},Mc=new v(a0_0x3c797d(0x237)),Xe=class extends j{constructor(..._0x372850){const _0x11217c=a0_0x3c797d;super(),this['router']=(0x0,Za[_0x11217c(0x6e9)])(),this[_0x11217c(0x10e)][_0x11217c(0x128)](this['routerPath'](_0x11217c(0x506)),..._0x372850,async(_0x311ddb,_0x2d90d6)=>{const _0x335eab=_0x11217c;let _0x494d21=await this['dataValidate']({'request':_0x311ddb,'schema':Va,'ClassRef':Fe,'execute':(_0x4f9ff5,_0x3aa39f)=>D['updatePresence'](_0x4f9ff5,_0x3aa39f)});return _0x2d90d6[_0x335eab(0x3fc)](0xc9)[_0x335eab(0x483)](_0x494d21);})['post'](this['routerPath'](_0x11217c(0x33c)),..._0x372850,async(_0x5df47c,_0x3d4245)=>{const _0x61f7a0=_0x11217c;let _0x2c1824=await this[_0x61f7a0(0x569)]({'request':_0x5df47c,'schema':Pa,'ClassRef':Ue,'execute':(_0x47c20c,_0x376860)=>D[_0x61f7a0(0x70e)](_0x47c20c,_0x376860)});return _0x3d4245[_0x61f7a0(0x3fc)](0xc9)[_0x61f7a0(0x483)](_0x2c1824);})[_0x11217c(0x128)](this['routerPath'](_0x11217c(0x4e2)),..._0x372850,async(_0x53c37d,_0x69cda5)=>{const _0x1c11e8=_0x11217c;let _0x5230c0=await this['dataValidate']({'request':_0x53c37d,'schema':M,'ClassRef':S,'execute':(_0x857959,_0x3f3f1f)=>D[_0x1c11e8(0x4e2)](_0x857959,_0x3f3f1f)});return _0x69cda5[_0x1c11e8(0x3fc)](0xc9)[_0x1c11e8(0x483)](_0x5230c0);})[_0x11217c(0x14c)](this['routerPath'](_0x11217c(0x154)),..._0x372850,async(_0x317088,_0x436630)=>{const _0x29de7e=_0x11217c;let _0x5aa072=await this[_0x29de7e(0x569)]({'request':_0x317088,'schema':_a,'ClassRef':qe,'execute':(_0x3d0bde,_0x2af469)=>D[_0x29de7e(0x5e1)](_0x3d0bde,_0x2af469)});return _0x436630[_0x29de7e(0x3fc)](0xc9)['json'](_0x5aa072);})[_0x11217c(0x14c)](this[_0x11217c(0x216)](_0x11217c(0x172)),..._0x372850,async(_0x327a2f,_0x15c0e7)=>{const _0x5b9904=_0x11217c;let _0x1dbecf=await this[_0x5b9904(0x569)]({'request':_0x327a2f,'schema':ka,'ClassRef':Ve,'execute':(_0x1cdd30,_0x2072b2)=>D[_0x5b9904(0x172)](_0x1cdd30,_0x2072b2)});return _0x15c0e7['status'](0xc9)[_0x5b9904(0x483)](_0x1dbecf);})[_0x11217c(0x405)](this[_0x11217c(0x216)](_0x11217c(0x1fa)),..._0x372850,async(_0xfe9037,_0x14272e)=>{const _0x8c8113=_0x11217c;let _0x4666f7=await this[_0x8c8113(0x569)]({'request':_0xfe9037,'schema':La,'ClassRef':Ge,'execute':(_0x8a4882,_0x120b53)=>D[_0x8c8113(0x37d)](_0x8a4882,_0x120b53)});return _0x14272e[_0x8c8113(0x3fc)](0xc9)[_0x8c8113(0x483)](_0x4666f7);})['post'](this[_0x11217c(0x216)]('fetchProfilePictureUrl'),..._0x372850,async(_0x53b1fc,_0x5279e7)=>{const _0xc8cf5e=_0x11217c;let _0x4d8c1c=await this['dataValidate']({'request':_0x53b1fc,'schema':Se,'ClassRef':be,'execute':(_0x439f90,_0x2d6233)=>D[_0xc8cf5e(0x5a5)](_0x439f90,_0x2d6233)});return _0x5279e7['status'](0xc8)[_0xc8cf5e(0x483)](_0x4d8c1c);})[_0x11217c(0x128)](this[_0x11217c(0x216)](_0x11217c(0x49d)),..._0x372850,async(_0x3b9e31,_0x216b10)=>{const _0xd9c197=_0x11217c;let _0x348a9e=await this['dataValidate']({'request':_0x3b9e31,'schema':ja,'ClassRef':be,'execute':(_0x208bc0,_0x513b74)=>D['fetchProfile'](_0x208bc0,_0x513b74)});return _0x216b10[_0xd9c197(0x3fc)](0xc8)[_0xd9c197(0x483)](_0x348a9e);})[_0x11217c(0x128)](this[_0x11217c(0x216)](_0x11217c(0x63c)),..._0x372850,async(_0x50d2cd,_0x25918f)=>{const _0x47f373=_0x11217c;let _0xef0b48=await this[_0x47f373(0x569)]({'request':_0x50d2cd,'schema':Fa,'ClassRef':Ke,'execute':(_0x18a8a2,_0x5f29d5)=>D[_0x47f373(0x3bb)](_0x18a8a2,_0x5f29d5)});return _0x25918f[_0x47f373(0x3fc)](0xc8)[_0x47f373(0x483)](_0xef0b48);})['post'](this[_0x11217c(0x216)]('getBase64FromMediaMessage'),..._0x372850,async(_0x4c3b14,_0x40b265)=>{const _0x71eddf=_0x11217c;let _0x36a5e7=await this[_0x71eddf(0x569)]({'request':_0x4c3b14,'schema':null,'ClassRef':Object,'execute':(_0x123cb0,_0x474e62)=>D[_0x71eddf(0x549)](_0x123cb0,_0x474e62)});return _0x40b265['status'](0xc9)[_0x71eddf(0x483)](_0x36a5e7);})[_0x11217c(0x128)](this[_0x11217c(0x216)](_0x11217c(0x173)),..._0x372850,async(_0x422d2e,_0x2b7425)=>{const _0x15d166=_0x11217c;let _0x5cfeba=await this[_0x15d166(0x569)]({'request':_0x422d2e,'schema':qa,'ClassRef':ke,'execute':(_0x473617,_0x446a60)=>D['fetchMessages'](_0x473617,_0x446a60)});return _0x2b7425[_0x15d166(0x3fc)](0xc8)[_0x15d166(0x483)](_0x5cfeba);})[_0x11217c(0x5a8)](this[_0x11217c(0x216)]('findChats'),..._0x372850,async(_0x2fd3f9,_0xa685e8)=>{const _0x384672=_0x11217c;let _0x177ae6=await this[_0x384672(0x569)]({'request':_0x2fd3f9,'schema':null,'ClassRef':S,'execute':_0x33ffc3=>D[_0x384672(0x5ec)](_0x33ffc3)});return _0xa685e8['status'](0xc8)['json'](_0x177ae6);})[_0x11217c(0x5a8)](this['routerPath'](_0x11217c(0x6f0)),..._0x372850,async(_0x241466,_0x3faec8)=>{const _0x8d206d=_0x11217c;let _0x43fbff=await this[_0x8d206d(0x569)]({'request':_0x241466,'schema':null,'ClassRef':S,'execute':_0x113ef4=>D['fetchLabels'](_0x113ef4)});return _0x3faec8['status'](0xc8)[_0x8d206d(0x483)](_0x43fbff);})[_0x11217c(0x14c)](this[_0x11217c(0x216)](_0x11217c(0xbe)),..._0x372850,async(_0x3d7ed4,_0x3fb848)=>{const _0xeab1f1=_0x11217c;let _0x2cfe67=await this[_0xeab1f1(0x569)]({'request':_0x3d7ed4,'schema':null,'ClassRef':Array,'execute':(_0x123a79,_0x5b5517)=>D[_0xeab1f1(0xbe)](_0x123a79,_0x5b5517)});return _0x3fb848['status'](0xc8)[_0xeab1f1(0x483)](_0x2cfe67);})[_0x11217c(0x5a8)](this[_0x11217c(0x216)](_0x11217c(0x3e7)),..._0x372850,async(_0x332be4,_0x479c34)=>{const _0x16409d=_0x11217c;let _0x41fd52=await this['dataValidate']({'request':_0x332be4,'schema':null,'ClassRef':S,'execute':_0x30083b=>D[_0x16409d(0x3e7)](_0x30083b)});return _0x479c34['status'](0xc8)[_0x16409d(0x483)](_0x41fd52);})['put'](this[_0x11217c(0x216)](_0x11217c(0x201)),..._0x372850,async(_0x51c899,_0x212bd2)=>{const _0x5ca7a7=_0x11217c;let _0x3739a7=await this[_0x5ca7a7(0x569)]({'request':_0x51c899,'schema':$a,'ClassRef':Be,'execute':(_0xe0c589,_0x33694a)=>D[_0x5ca7a7(0x201)](_0xe0c589,_0x33694a)});return _0x212bd2[_0x5ca7a7(0x3fc)](0xc9)[_0x5ca7a7(0x483)](_0x3739a7);})[_0x11217c(0x128)](this[_0x11217c(0x216)](_0x11217c(0x177)),..._0x372850,async(_0xd00ef9,_0x254cfb)=>{const _0x1c6741=_0x11217c;let _0xa6bf8=await this[_0x1c6741(0x569)]({'request':_0xd00ef9,'schema':Se,'ClassRef':fe,'execute':(_0x2b38fa,_0xa401fa)=>D[_0x1c6741(0x177)](_0x2b38fa,_0xa401fa)});return _0x254cfb[_0x1c6741(0x3fc)](0xc8)['json'](_0xa6bf8);})[_0x11217c(0x128)](this[_0x11217c(0x216)](_0x11217c(0x125)),..._0x372850,async(_0x453ff9,_0x441f72)=>{const _0x2c058a=_0x11217c;let _0x3bcf99=await this[_0x2c058a(0x569)]({'request':_0x453ff9,'schema':Ua,'ClassRef':Je,'execute':(_0x20435f,_0x50afa4)=>D[_0x2c058a(0x125)](_0x20435f,_0x50afa4)});return _0x441f72[_0x2c058a(0x3fc)](0xc8)[_0x2c058a(0x483)](_0x3bcf99);})[_0x11217c(0x128)](this[_0x11217c(0x216)]('updateProfileStatus'),..._0x372850,async(_0x399ee4,_0x11d4d8)=>{const _0x5ae679=_0x11217c;let _0x3f21a9=await this[_0x5ae679(0x569)]({'request':_0x399ee4,'schema':Ja,'ClassRef':je,'execute':(_0x584e5d,_0x359dcc)=>D[_0x5ae679(0x33a)](_0x584e5d,_0x359dcc)});return _0x11d4d8['status'](0xc8)[_0x5ae679(0x483)](_0x3f21a9);})[_0x11217c(0x14c)](this[_0x11217c(0x216)]('updateProfilePicture'),..._0x372850,async(_0x2ba813,_0x5e9fe7)=>{const _0x303a4e=_0x11217c;let _0x1d1f88=await this[_0x303a4e(0x569)]({'request':_0x2ba813,'schema':Se,'ClassRef':fe,'execute':(_0x549fe7,_0x4c4f3b)=>D[_0x303a4e(0x6a7)](_0x549fe7,_0x4c4f3b)});return _0x5e9fe7[_0x303a4e(0x3fc)](0xc8)[_0x303a4e(0x483)](_0x1d1f88);})['delete'](this[_0x11217c(0x216)](_0x11217c(0x24c)),..._0x372850,async(_0x4eec9e,_0x34e1a1)=>{const _0x2071be=_0x11217c;let _0x50428a=await this[_0x2071be(0x569)]({'request':_0x4eec9e,'schema':Se,'ClassRef':fe,'execute':(_0x100b2d,_0x569446)=>D[_0x2071be(0x24c)](_0x100b2d,_0x569446)});return _0x34e1a1[_0x2071be(0x3fc)](0xc8)[_0x2071be(0x483)](_0x50428a);});}},er=require(a0_0x3c797d(0x570)),Ze=class{},et=class{},tt=class{},st=class{},at=class{},Y=class{},rt=class{},ot=class extends Y{},it=class extends Y{},nt=class extends j{constructor(..._0x4c1a58){const _0x551fb4=a0_0x3c797d;super(),this['router']=(0x0,er[_0x551fb4(0x6e9)])(),this[_0x551fb4(0x10e)][_0x551fb4(0x128)](this['routerPath'](_0x551fb4(0x3f0)),..._0x4c1a58,async(_0x3f299b,_0x1d52b3)=>{const _0x2c3559=_0x551fb4;let _0x185a66=await this[_0x2c3559(0x569)]({'request':_0x3f299b,'schema':Ba,'ClassRef':Ze,'execute':(_0x4a533f,_0x45c603)=>J['createGroup'](_0x4a533f,_0x45c603)});_0x1d52b3[_0x2c3559(0x3fc)](0xc9)[_0x2c3559(0x483)](_0x185a66);})[_0x551fb4(0x14c)](this['routerPath'](_0x551fb4(0x48b)),..._0x4c1a58,async(_0x3ba0f2,_0x39132a)=>{const _0x171676=_0x551fb4;let _0x8966ad=await this['groupValidate']({'request':_0x3ba0f2,'schema':za,'ClassRef':et,'execute':(_0x1abcda,_0x4f82a3)=>J[_0x171676(0x48b)](_0x1abcda,_0x4f82a3)});_0x39132a[_0x171676(0x3fc)](0xc9)[_0x171676(0x483)](_0x8966ad);})[_0x551fb4(0x14c)](this[_0x551fb4(0x216)](_0x551fb4(0x58f)),..._0x4c1a58,async(_0x2bface,_0x4148fe)=>{const _0xba290a=_0x551fb4;let _0x5267bf=await this[_0xba290a(0x5a3)]({'request':_0x2bface,'schema':Ha,'ClassRef':tt,'execute':(_0x21ff7c,_0x2de3bf)=>J[_0xba290a(0x58f)](_0x21ff7c,_0x2de3bf)});_0x4148fe[_0xba290a(0x3fc)](0xc9)[_0xba290a(0x483)](_0x5267bf);})['put'](this[_0x551fb4(0x216)](_0x551fb4(0x557)),..._0x4c1a58,async(_0x2d661d,_0x31fdeb)=>{const _0x9744db=_0x551fb4;let _0x9b3da6=await this[_0x9744db(0x5a3)]({'request':_0x2d661d,'schema':Ka,'ClassRef':st,'execute':(_0x11c99d,_0x23e2c2)=>J['groupName'](_0x11c99d,_0x23e2c2)});_0x31fdeb[_0x9744db(0x3fc)](0xc9)[_0x9744db(0x483)](_0x9b3da6);})[_0x551fb4(0x14c)](this[_0x551fb4(0x216)](_0x551fb4(0x323)),..._0x4c1a58,async(_0x3c222a,_0x100afe)=>{let _0x27b9d2=await this['groupValidate']({'request':_0x3c222a,'schema':Qa,'ClassRef':at,'execute':(_0x4d1551,_0x599663)=>J['groupSetting'](_0x4d1551,_0x599663)});_0x100afe['status'](0xc9)['json'](_0x27b9d2);})['put'](this[_0x551fb4(0x216)](_0x551fb4(0x593)),..._0x4c1a58,async(_0xde2635,_0x46163f)=>{const _0x1b541b=_0x551fb4;let _0x16c210=await this[_0x1b541b(0x5a3)]({'request':_0xde2635,'schema':Wa,'ClassRef':it,'execute':(_0x4bb231,_0x23ef47)=>J[_0x1b541b(0x593)](_0x4bb231,_0x23ef47)});_0x46163f[_0x1b541b(0x3fc)](0xc9)[_0x1b541b(0x483)](_0x16c210);})[_0x551fb4(0x5a8)](this[_0x551fb4(0x216)](_0x551fb4(0x636)),..._0x4c1a58,async(_0x36aaf6,_0x1cde70)=>{const _0xd4346d=_0x551fb4;let _0x4e70a2=await this[_0xd4346d(0x5a3)]({'request':_0x36aaf6,'schema':Ee,'ClassRef':Y,'execute':(_0x2613e3,_0x4667ee)=>J[_0xd4346d(0x315)](_0x2613e3,_0x4667ee)});_0x1cde70[_0xd4346d(0x3fc)](0xc8)[_0xd4346d(0x483)](_0x4e70a2);})[_0x551fb4(0x5a8)](this[_0x551fb4(0x216)](_0x551fb4(0x6a5)),..._0x4c1a58,async(_0x1845cc,_0x3ba400)=>{const _0x4cecdb=_0x551fb4;let _0x1ec079=await this[_0x4cecdb(0x569)]({'request':_0x1845cc,'schema':M,'ClassRef':S,'execute':_0x264fcb=>J['findGroups'](_0x264fcb)});_0x3ba400[_0x4cecdb(0x3fc)](0xc8)[_0x4cecdb(0x483)](_0x1ec079);})[_0x551fb4(0x5a8)](this[_0x551fb4(0x216)]('participants'),..._0x4c1a58,async(_0x1bab13,_0x52d417)=>{const _0x5327e9=_0x551fb4;let _0x2b81f9=await this['groupValidate']({'request':_0x1bab13,'schema':Ee,'ClassRef':Y,'execute':(_0x1b9fdf,_0x50c06b)=>J[_0x5327e9(0x511)](_0x1b9fdf,_0x50c06b)});_0x52d417['status'](0xc8)[_0x5327e9(0x483)](_0x2b81f9);})[_0x551fb4(0x5a8)](this[_0x551fb4(0x216)]('inviteCode'),..._0x4c1a58,async(_0x46b90d,_0x44f6d9)=>{const _0xb0c275=_0x551fb4;let _0x255be9=await this[_0xb0c275(0x5a3)]({'request':_0x46b90d,'schema':Ee,'ClassRef':Y,'execute':(_0x3a6cea,_0x586dde)=>J['inviteCode'](_0x3a6cea,_0x586dde)});_0x44f6d9[_0xb0c275(0x3fc)](0xc8)[_0xb0c275(0x483)](_0x255be9);})[_0x551fb4(0x14c)](this[_0x551fb4(0x216)](_0x551fb4(0x35b)),..._0x4c1a58,async(_0x3141a2,_0x27a155)=>{const _0x3be090=_0x551fb4;let _0x1a4f44=await this[_0x3be090(0xf9)]({'request':_0x3141a2,'schema':Ya,'ClassRef':rt,'execute':(_0x3d8402,_0x2dd277)=>J[_0x3be090(0x35b)](_0x3d8402,_0x2dd277)});_0x27a155[_0x3be090(0x3fc)](0xc9)[_0x3be090(0x483)](_0x1a4f44);})[_0x551fb4(0x14c)](this['routerPath'](_0x551fb4(0x39b)),..._0x4c1a58,async(_0x20e8b1,_0x51e04c)=>{const _0x43cfb4=_0x551fb4;let _0x452a04=await this[_0x43cfb4(0x5a3)]({'request':_0x20e8b1,'schema':Ee,'ClassRef':Y,'execute':(_0x5375f2,_0x588b9f)=>J[_0x43cfb4(0x39b)](_0x5375f2,_0x588b9f)});_0x51e04c[_0x43cfb4(0x3fc)](0xc9)[_0x43cfb4(0x483)](_0x452a04);})[_0x551fb4(0x14c)](this['routerPath'](_0x551fb4(0x4f9)),..._0x4c1a58,async(_0x4d42fa,_0x230789)=>{const _0x3b7f6f=_0x551fb4;let _0x35ff03=await this['groupValidate']({'request':_0x4d42fa,'schema':Ga,'ClassRef':ot,'execute':(_0x3fd01a,_0x2c15a8)=>J[_0x3b7f6f(0xf5)](_0x3fd01a,_0x2c15a8)});_0x230789[_0x3b7f6f(0x3fc)](0xc9)[_0x3b7f6f(0x483)](_0x35ff03);})[_0x551fb4(0x405)](this[_0x551fb4(0x216)](_0x551fb4(0x2c4)),..._0x4c1a58,async(_0x4e92d8,_0x2ab009)=>{const _0x118c1a=_0x551fb4;let _0xea79=await this[_0x118c1a(0x5a3)]({'request':_0x4e92d8,'schema':{},'ClassRef':Y,'execute':(_0x41d36d,_0x334b81)=>J['leaveGroup'](_0x41d36d,_0x334b81)});_0x2ab009['status'](0xc8)[_0x118c1a(0x483)](_0xea79);});}},tr=require(a0_0x3c797d(0x570)),ct=class extends j{constructor(_0x79c09d,..._0x22acb4){const _0x412cc0=a0_0x3c797d;super(),this[_0x412cc0(0x134)]=_0x79c09d,this['router']=(0x0,tr[_0x412cc0(0x6e9)])();let _0x2de3bd=_0x79c09d[_0x412cc0(0x5a8)]('AUTHENTICATION');this[_0x412cc0(0x10e)][_0x412cc0(0x128)]('/create',..._0x22acb4,async(_0xa88560,_0x5b8dba)=>{const _0x1c3acf=_0x412cc0;let {instanceName:_0x4c3d7b,apikey:_0x20e4c2,number:_0x2aeeb2}=_0xa88560['body'],_0x4de42f=await re[_0x1c3acf(0x231)]({'instanceName':_0x4c3d7b,'apikey':_0x20e4c2,'number':_0x2aeeb2});return _0x5b8dba[_0x1c3acf(0x3fc)](0xc9)['json'](_0x4de42f);})['put'](this[_0x412cc0(0x216)]('restart'),..._0x22acb4,async(_0x243011,_0x4fd827)=>{const _0x3eaf2e=_0x412cc0;let _0x1d5e74=await this[_0x3eaf2e(0x569)]({'request':_0x243011,'schema':M,'ClassRef':S,'execute':_0x27de00=>re[_0x3eaf2e(0x18b)](_0x27de00)});return _0x4fd827[_0x3eaf2e(0x3fc)](0xc8)[_0x3eaf2e(0x483)](_0x1d5e74);})['post'](this[_0x412cc0(0x216)](_0x412cc0(0x30e)),..._0x22acb4,async(_0x256363,_0x25bd20)=>{const _0x33376b=_0x412cc0;let _0x4d9b23=await this['dataValidate']({'request':_0x256363,'schema':M,'ClassRef':S,'execute':_0x5f5b52=>re[_0x33376b(0x507)](_0x5f5b52)});return _0x25bd20['status'](0xc8)[_0x33376b(0x483)](_0x4d9b23);})[_0x412cc0(0x5a8)](this[_0x412cc0(0x216)](_0x412cc0(0x3dd)),..._0x22acb4,async(_0x198b4c,_0x22fa9f)=>{const _0xfef6da=_0x412cc0;let _0x3dfef9=await this['dataValidate']({'request':_0x198b4c,'schema':M,'ClassRef':S,'execute':_0x107590=>re[_0xfef6da(0x3dd)](_0x107590)});return _0x22fa9f[_0xfef6da(0x3fc)](0xc8)[_0xfef6da(0x483)](_0x3dfef9);})[_0x412cc0(0x5a8)](this[_0x412cc0(0x216)](_0x412cc0(0x127),!0x1),..._0x22acb4,async(_0x46768c,_0x12ad91)=>{const _0xc89dca=_0x412cc0;let _0x4e9f9d=await this['dataValidate']({'request':_0x46768c,'schema':null,'ClassRef':S,'execute':_0x3101b8=>re[_0xc89dca(0x127)](_0x3101b8)});return _0x12ad91[_0xc89dca(0x3fc)](0xc8)[_0xc89dca(0x483)](_0x4e9f9d);})[_0x412cc0(0x405)](this[_0x412cc0(0x216)]('logout'),..._0x22acb4,async(_0x2ab778,_0x24686a)=>{const _0x4d034e=_0x412cc0;let _0x3e1bd0=await this[_0x4d034e(0x569)]({'request':_0x2ab778,'schema':M,'ClassRef':S,'execute':_0x1fa650=>re[_0x4d034e(0x3c2)](_0x1fa650)});return _0x24686a[_0x4d034e(0x3fc)](0xc8)[_0x4d034e(0x483)](_0x3e1bd0);})['delete'](this[_0x412cc0(0x216)](_0x412cc0(0x405)),..._0x22acb4,async(_0x5b8d4b,_0x29a7e9)=>{const _0x2e98a1=_0x412cc0;let _0x518712=await this[_0x2e98a1(0x569)]({'request':_0x5b8d4b,'schema':M,'ClassRef':S,'execute':_0x5def98=>re[_0x2e98a1(0x587)](_0x5def98)});return _0x29a7e9['status'](0xc8)[_0x2e98a1(0x483)](_0x518712);});}},sr=require(a0_0x3c797d(0x570)),ps=class{},W=class extends ps{},lt=class extends W{},ut=class extends W{},dt=class extends W{},pt=class extends W{},Ce=class extends W{},gt=class extends W{},mt=class extends W{},ht=class extends W{},ft=class extends W{},yt=class extends W{},wt=class{},bt=class extends j{constructor(..._0x2b0ffc){const _0x6a6c92=a0_0x3c797d;super(),this[_0x6a6c92(0x10e)]=(0x0,sr[_0x6a6c92(0x6e9)])(),this['router'][_0x6a6c92(0x128)](this[_0x6a6c92(0x216)](_0x6a6c92(0x630)),..._0x2b0ffc,async(_0x2d8996,_0x43183e)=>{const _0x5511ca=_0x6a6c92;let _0xf4bc24=await this[_0x5511ca(0x569)]({'request':_0x2d8996,'schema':Sa,'ClassRef':lt,'execute':(_0x5a03ff,_0xbcdf73)=>G['sendText'](_0x5a03ff,_0xbcdf73)});return _0x43183e[_0x5511ca(0x3fc)](0xc9)['json'](_0xf4bc24);})[_0x6a6c92(0x128)](this[_0x6a6c92(0x216)](_0x6a6c92(0x690)),..._0x2b0ffc,async(_0x47528e,_0xb0d5a3)=>{const _0x2f9852=_0x6a6c92;let _0x5b0ca2=await this[_0x2f9852(0x569)]({'request':_0x47528e,'schema':va,'ClassRef':Ce,'execute':(_0x32b184,_0x532497)=>G[_0x2f9852(0x690)](_0x32b184,_0x532497)});return _0xb0d5a3['status'](0xc9)[_0x2f9852(0x483)](_0x5b0ca2);})[_0x6a6c92(0x128)](this['routerPath'](_0x6a6c92(0x1e7)),..._0x2b0ffc,async(_0x1cd108,_0x228582)=>{const _0x29a5b8=_0x6a6c92;let _0x439c24=await this[_0x29a5b8(0x569)]({'request':_0x1cd108,'schema':Ta,'ClassRef':pt,'execute':(_0x511b87,_0x379b6a)=>G['sendMenu'](_0x511b87,_0x379b6a)});return _0x228582['status'](0xc9)[_0x29a5b8(0x483)](_0x439c24);})[_0x6a6c92(0x128)](this[_0x6a6c92(0x216)](_0x6a6c92(0x45b)),..._0x2b0ffc,async(_0x515ece,_0x175853)=>{const _0x505a25=_0x6a6c92;let _0x4281a9=await this[_0x505a25(0x569)]({'request':_0x515ece,'schema':Na,'ClassRef':Ce,'execute':(_0x5b91a5,_0x5773ca)=>G[_0x505a25(0x45b)](_0x5b91a5,_0x5773ca)});return _0x175853[_0x505a25(0x3fc)](0xc9)[_0x505a25(0x483)](_0x4281a9);})[_0x6a6c92(0x128)](this[_0x6a6c92(0x216)](_0x6a6c92(0x6ca)),..._0x2b0ffc,async(_0x13c7e7,_0x45ada0)=>{const _0x2152ba=_0x6a6c92;let _0x46944d=await this[_0x2152ba(0x569)]({'request':_0x13c7e7,'schema':Aa,'ClassRef':mt,'execute':(_0x1abdc8,_0x3bbd77)=>G[_0x2152ba(0x6ca)](_0x1abdc8,_0x3bbd77)});return _0x45ada0[_0x2152ba(0x3fc)](0xc9)[_0x2152ba(0x483)](_0x46944d);})[_0x6a6c92(0x128)](this[_0x6a6c92(0x216)](_0x6a6c92(0x65d)),..._0x2b0ffc,async(_0x3f52b0,_0x1d686f)=>{const _0x1b80fa=_0x6a6c92;let _0x18fe0f=await this[_0x1b80fa(0x569)]({'request':_0x3f52b0,'schema':Oa,'ClassRef':ht,'execute':(_0xefa19f,_0x47e02f)=>G[_0x1b80fa(0x65d)](_0xefa19f,_0x47e02f)});return _0x1d686f['status'](0xc9)[_0x1b80fa(0x483)](_0x18fe0f);})[_0x6a6c92(0x128)](this[_0x6a6c92(0x216)]('sendList'),..._0x2b0ffc,async(_0x5bfdf6,_0x253428)=>{const _0x5262f1=_0x6a6c92;let _0x5764ea=await this[_0x5262f1(0x569)]({'request':_0x5bfdf6,'schema':Ia,'ClassRef':ft,'execute':(_0x446f8c,_0x50cb76)=>G[_0x5262f1(0x363)](_0x446f8c,_0x50cb76)});return _0x253428['status'](0xc9)[_0x5262f1(0x483)](_0x5764ea);})[_0x6a6c92(0x128)](this['routerPath'](_0x6a6c92(0x523)),..._0x2b0ffc,async(_0x390236,_0x2fb517)=>{const _0x160907=_0x6a6c92;let _0xe27946=await this[_0x160907(0x569)]({'request':_0x390236,'schema':Da,'ClassRef':yt,'execute':(_0x20d822,_0x2f0f0d)=>G[_0x160907(0x523)](_0x20d822,_0x2f0f0d)});return _0x2fb517[_0x160907(0x3fc)](0xc9)[_0x160907(0x483)](_0xe27946);})['post'](this[_0x6a6c92(0x216)](_0x6a6c92(0x26b)),..._0x2b0ffc,async(_0x1d835c,_0x303b77)=>{const _0x4d0ed9=_0x6a6c92;let _0x6bd6cc=await this[_0x4d0ed9(0x569)]({'request':_0x1d835c,'schema':xa,'ClassRef':wt,'execute':(_0x57a1ab,_0x3827fb)=>G[_0x4d0ed9(0x26b)](_0x57a1ab,_0x3827fb)});return _0x303b77['status'](0xc9)[_0x4d0ed9(0x483)](_0x6bd6cc);})[_0x6a6c92(0x128)](this[_0x6a6c92(0x216)](_0x6a6c92(0x2b6)),..._0x2b0ffc,async(_0x417513,_0x13b27d)=>{const _0x3545e3=_0x6a6c92;let _0x28f753=await this['dataValidate']({'request':_0x417513,'schema':Ra,'ClassRef':dt,'execute':(_0x1ae298,_0x3a79bf)=>G[_0x3545e3(0x2b6)](_0x1ae298,_0x3a79bf)});return _0x13b27d[_0x3545e3(0x3fc)](0xc9)[_0x3545e3(0x483)](_0x28f753);})[_0x6a6c92(0x128)](this['routerPath']('sendStatus'),..._0x2b0ffc,async(_0x1fb997,_0x38db85)=>{const _0x74599=_0x6a6c92;let _0x251e59=await this[_0x74599(0x569)]({'request':_0x1fb997,'schema':Ma,'ClassRef':ut,'execute':(_0x5c965d,_0x18582c)=>G[_0x74599(0x479)](_0x5c965d,_0x18582c)});return _0x38db85[_0x74599(0x3fc)](0xc9)[_0x74599(0x483)](_0x251e59);})[_0x6a6c92(0x128)](this[_0x6a6c92(0x216)](_0x6a6c92(0x410)),..._0x2b0ffc,async(_0x225241,_0xd89fda)=>{const _0xd34e45=_0x6a6c92;let _0x32ffce=await this[_0xd34e45(0x569)]({'request':_0x225241,'schema':Ca,'ClassRef':gt,'execute':(_0xb283fd,_0x2b0f9e)=>G[_0xd34e45(0x410)](_0xb283fd,_0x2b0f9e)});return _0xd89fda['status'](0xc9)[_0xd34e45(0x483)](_0x32ffce);});}},ar=require('express'),St=class{},Et=class extends j{constructor(..._0x28e77a){const _0x18540c=a0_0x3c797d;super(),this['router']=(0x0,ar['Router'])(),this[_0x18540c(0x10e)][_0x18540c(0x128)](this[_0x18540c(0x216)]('set'),..._0x28e77a,async(_0x45c594,_0x15a9d4)=>{const _0x2a3a99=_0x18540c;let _0x26d50d=await this['dataValidate']({'request':_0x45c594,'schema':Xa,'ClassRef':St,'execute':(_0x1557e8,_0x501a7e)=>gs[_0x2a3a99(0x43a)](_0x1557e8,_0x501a7e)});_0x15a9d4[_0x2a3a99(0x3fc)](0xc9)[_0x2a3a99(0x483)](_0x26d50d);})['get'](this[_0x18540c(0x216)](_0x18540c(0x2ec)),..._0x28e77a,async(_0x2a3a20,_0xbf89db)=>{const _0xc7facc=_0x18540c;let _0x317c07=await this[_0xc7facc(0x569)]({'request':_0x2a3a20,'schema':M,'ClassRef':S,'execute':_0x110dbe=>gs[_0xc7facc(0x293)](_0x110dbe)});_0xbf89db['status'](0xc8)[_0xc7facc(0x483)](_0x317c07);});}},rr=require('express'),h=new v('FlowRouter'),Ct=class extends j{constructor(..._0x13e2d9){const _0x8f22a5=a0_0x3c797d;super(),this[_0x8f22a5(0x10e)]=(0x0,rr[_0x8f22a5(0x6e9)])(),this[_0x8f22a5(0x10e)]['post'](this[_0x8f22a5(0x216)](_0x8f22a5(0x693)),..._0x13e2d9,async(_0x1f01ea,_0x44b976)=>{const _0x5e04a0=_0x8f22a5;let _0x2e4c86=_0x1f01ea[_0x5e04a0(0x4a6)];h[_0x5e04a0(0x5ba)]('request\x20received\x20in\x20scheduleMessage'),h[_0x5e04a0(0x5ba)](_0x5e04a0(0x398)),h['verbose'](_0x1f01ea['body']);let _0x4c1152=await this[_0x5e04a0(0x569)]({'request':_0x1f01ea,'schema':M,'ClassRef':S,'execute':_0x13f7c7=>T[_0x5e04a0(0xee)](_0x13f7c7,_0x2e4c86)});_0x44b976[_0x5e04a0(0x3fc)](0xc8)[_0x5e04a0(0x483)](_0x4c1152);})['get'](this[_0x8f22a5(0x216)](_0x8f22a5(0x693)),..._0x13e2d9,async(_0x12a97a,_0x221f20)=>{const _0x5d202b=_0x8f22a5;let _0x190f29=await this[_0x5d202b(0x569)]({'request':_0x12a97a,'schema':M,'ClassRef':S,'execute':_0xbd9c7c=>T['getScheduleMessage'](_0xbd9c7c)});_0x221f20['status'](0xc8)[_0x5d202b(0x483)](_0x190f29);})['delete'](this['routerPath'](_0x8f22a5(0x631)),..._0x13e2d9,async(_0x2e1f31,_0x28eb7b)=>{const _0x11974b=_0x8f22a5;h[_0x11974b(0x5ba)](_0x11974b(0x261));let _0x557772=await this[_0x11974b(0x569)]({'request':_0x2e1f31,'schema':M,'ClassRef':S,'execute':_0x46923f=>T[_0x11974b(0x631)](_0x46923f)});_0x28eb7b[_0x11974b(0x3fc)](0xc8)[_0x11974b(0x483)](_0x557772);})[_0x8f22a5(0x128)](this['routerPath'](_0x8f22a5(0x3a6)),..._0x13e2d9,async(_0x45ba3c,_0x29b209)=>{const _0x3aec90=_0x8f22a5;let _0x3e41d0=_0x45ba3c[_0x3aec90(0x4a6)];h[_0x3aec90(0x5ba)](_0x3aec90(0x652)),h[_0x3aec90(0x5ba)](_0x3aec90(0x398)),h[_0x3aec90(0x5ba)](_0x45ba3c[_0x3aec90(0x4a6)]);let _0x2c340d=await this[_0x3aec90(0x569)]({'request':_0x45ba3c,'schema':M,'ClassRef':S,'execute':_0x5dac7b=>T['startFlow'](_0x5dac7b,_0x3e41d0)});_0x29b209[_0x3aec90(0x3fc)](0xc8)[_0x3aec90(0x483)](_0x2c340d);})[_0x8f22a5(0x5a8)](this[_0x8f22a5(0x216)](_0x8f22a5(0x469)),..._0x13e2d9,async(_0x175471,_0x24f731)=>{const _0x3d7e30=_0x8f22a5;h[_0x3d7e30(0x5ba)](_0x3d7e30(0x320));let _0x83e73c=await this[_0x3d7e30(0x569)]({'request':_0x175471,'schema':M,'ClassRef':S,'execute':_0x1b414c=>T[_0x3d7e30(0x469)](_0x1b414c)});_0x24f731[_0x3d7e30(0x3fc)](0xc8)['json'](_0x83e73c);})['get'](this['routerPath'](_0x8f22a5(0x695)),..._0x13e2d9,async(_0x409188,_0xbe0e9f)=>{const _0x442f6d=_0x8f22a5;h[_0x442f6d(0x5ba)](_0x442f6d(0x1b9));let _0x12100a=await this[_0x442f6d(0x569)]({'request':_0x409188,'schema':M,'ClassRef':S,'execute':_0xb88633=>T[_0x442f6d(0x469)](_0xb88633)});_0xbe0e9f[_0x442f6d(0x3fc)](0xc8)['json'](_0x12100a);})[_0x8f22a5(0x128)](this[_0x8f22a5(0x216)](_0x8f22a5(0x1d3)),..._0x13e2d9,async(_0x5925f0,_0x4e53d6)=>{const _0x24bc57=_0x8f22a5;let _0x5e8c5e=_0x5925f0[_0x24bc57(0x4a6)];h[_0x24bc57(0x5ba)](_0x24bc57(0x6b7)),h[_0x24bc57(0x5ba)](_0x24bc57(0x398)),h[_0x24bc57(0x5ba)](_0x5925f0[_0x24bc57(0x4a6)]);let _0x8c0093=await this[_0x24bc57(0x569)]({'request':_0x5925f0,'schema':M,'ClassRef':S,'execute':_0x23ceb3=>T[_0x24bc57(0x1d3)](_0x23ceb3,_0x5e8c5e)});_0x4e53d6[_0x24bc57(0x3fc)](0xc8)[_0x24bc57(0x483)](_0x8c0093);})[_0x8f22a5(0x128)](this[_0x8f22a5(0x216)](_0x8f22a5(0x5b5)),..._0x13e2d9,async(_0x3fe79d,_0x48f844)=>{const _0x885b71=_0x8f22a5;let _0x4c3c1c=_0x3fe79d['body'];h[_0x885b71(0x5ba)]('request\x20received\x20in\x20updateCustomFields'),h['verbose']('request\x20body:\x20'),h[_0x885b71(0x5ba)](_0x3fe79d['body']);let _0x350701=await this[_0x885b71(0x569)]({'request':_0x3fe79d,'schema':M,'ClassRef':S,'execute':_0x5af7cc=>T[_0x885b71(0x5b5)](_0x5af7cc,_0x4c3c1c)});_0x48f844[_0x885b71(0x3fc)](0xc8)[_0x885b71(0x483)](_0x350701);})['post'](this[_0x8f22a5(0x216)](_0x8f22a5(0x15b)),..._0x13e2d9,async(_0x2fd1b8,_0x5ac6be)=>{const _0x286678=_0x8f22a5;let _0x288326=_0x2fd1b8[_0x286678(0x4a6)];h['verbose'](_0x286678(0x4b4)),h['verbose'](_0x286678(0x398)),h['verbose'](_0x2fd1b8['body']);let _0x23dd23=await this['dataValidate']({'request':_0x2fd1b8,'schema':M,'ClassRef':S,'execute':_0x45b8ae=>T[_0x286678(0x15b)](_0x45b8ae,_0x288326)});_0x5ac6be[_0x286678(0x3fc)](0xc8)[_0x286678(0x483)](_0x23dd23);})[_0x8f22a5(0x128)](this[_0x8f22a5(0x216)]('getConversation'),..._0x13e2d9,async(_0x1a13bc,_0x386b83)=>{const _0x2a2eda=_0x8f22a5;let _0x435e36=_0x1a13bc[_0x2a2eda(0x4a6)];h['verbose']('request\x20received\x20in\x20getConversation'),h[_0x2a2eda(0x5ba)]('request\x20body:\x20'),h[_0x2a2eda(0x5ba)](_0x1a13bc[_0x2a2eda(0x4a6)]);let _0x37cc84=await this[_0x2a2eda(0x569)]({'request':_0x1a13bc,'schema':M,'ClassRef':S,'execute':_0x220ef7=>T[_0x2a2eda(0x3f5)](_0x220ef7,_0x435e36)});_0x386b83[_0x2a2eda(0x3fc)](0xc8)['json'](_0x37cc84);})[_0x8f22a5(0x128)](this[_0x8f22a5(0x216)](_0x8f22a5(0x4a0)),..._0x13e2d9,async(_0x3f2266,_0x4d486a)=>{const _0x28a3af=_0x8f22a5;let _0x1a15d6=_0x3f2266[_0x28a3af(0x4a6)];h['verbose'](_0x28a3af(0x22e)),h[_0x28a3af(0x5ba)](_0x28a3af(0x398)),h['verbose'](_0x3f2266[_0x28a3af(0x4a6)]);let _0x3e2bf5=await this[_0x28a3af(0x569)]({'request':_0x3f2266,'schema':M,'ClassRef':S,'execute':_0x5a6d38=>T[_0x28a3af(0x4a0)](_0x5a6d38,_0x1a15d6)});_0x4d486a['status'](0xc8)['json'](_0x3e2bf5);})['post'](this['routerPath'](_0x8f22a5(0x5e8)),..._0x13e2d9,async(_0x14e26e,_0x35f5f9)=>{const _0x1b2a8d=_0x8f22a5;let _0x4ef6b6=_0x14e26e[_0x1b2a8d(0x4a6)];h[_0x1b2a8d(0x5ba)]('request\x20received\x20in\x20editConversation'),h[_0x1b2a8d(0x5ba)](_0x1b2a8d(0x398)),h[_0x1b2a8d(0x5ba)](_0x14e26e[_0x1b2a8d(0x4a6)]);let _0x3f1e3f=await this['dataValidate']({'request':_0x14e26e,'schema':M,'ClassRef':S,'execute':_0x322c9b=>T[_0x1b2a8d(0x5e8)](_0x322c9b,_0x4ef6b6)});_0x35f5f9[_0x1b2a8d(0x3fc)](0xc8)[_0x1b2a8d(0x483)](_0x3f1e3f);})[_0x8f22a5(0x405)](this[_0x8f22a5(0x216)]('deleteConversation'),..._0x13e2d9,async(_0xbb7a15,_0x292123)=>{const _0x218859=_0x8f22a5;let _0x57357c=_0xbb7a15['body'];h[_0x218859(0x5ba)](_0x218859(0x70f)),h['verbose']('request\x20body:\x20'),h[_0x218859(0x5ba)](_0xbb7a15['body']);let _0x4b7bed=await this[_0x218859(0x569)]({'request':_0xbb7a15,'schema':M,'ClassRef':S,'execute':_0x3b867e=>T['deleteConversation'](_0x3b867e,_0x57357c)});_0x292123[_0x218859(0x3fc)](0xc8)[_0x218859(0x483)](_0x4b7bed);})['post'](this[_0x8f22a5(0x216)](_0x8f22a5(0x4db)),..._0x13e2d9,async(_0x5b39c6,_0x1c398c)=>{const _0x5db07d=_0x8f22a5;let _0x576598=_0x5b39c6['body'];h['verbose'](_0x5db07d(0x2f1)),h['verbose']('request\x20body:\x20'),h[_0x5db07d(0x5ba)](_0x5b39c6[_0x5db07d(0x4a6)]);let _0x4c9eed=await this['dataValidate']({'request':_0x5b39c6,'schema':M,'ClassRef':S,'execute':_0x4ff40f=>T[_0x5db07d(0x233)](_0x4ff40f,_0x576598)});_0x1c398c[_0x5db07d(0x3fc)](0xc8)[_0x5db07d(0x483)](_0x4c9eed);})['post'](this[_0x8f22a5(0x216)](_0x8f22a5(0x50a)),..._0x13e2d9,async(_0x5ae4d7,_0x356dd8)=>{const _0x1506be=_0x8f22a5;let _0x19a47f=_0x5ae4d7[_0x1506be(0x4a6)];h[_0x1506be(0x5ba)](_0x1506be(0x4aa)),h[_0x1506be(0x5ba)]('request\x20body:\x20'),h[_0x1506be(0x5ba)](_0x5ae4d7[_0x1506be(0x4a6)]),delete _0x19a47f[_0x1506be(0x543)],delete _0x19a47f[_0x1506be(0x55f)],delete _0x19a47f[_0x1506be(0x2e5)],delete _0x19a47f['conditions'];let _0x35f4fc=await this[_0x1506be(0x569)]({'request':_0x5ae4d7,'schema':M,'ClassRef':S,'execute':_0x5e1d94=>T[_0x1506be(0x487)](_0x5e1d94,_0x19a47f)});_0x356dd8[_0x1506be(0x3fc)](0xc8)[_0x1506be(0x483)](_0x35f4fc);})[_0x8f22a5(0x128)](this['routerPath'](_0x8f22a5(0x345)),..._0x13e2d9,async(_0x3bc1cb,_0x2063a9)=>{const _0x3dfaf2=_0x8f22a5;let _0x3515ab=_0x3bc1cb[_0x3dfaf2(0x4a6)];h[_0x3dfaf2(0x5ba)](_0x3dfaf2(0x4aa)),h[_0x3dfaf2(0x5ba)](_0x3dfaf2(0x398)),h['verbose'](_0x3bc1cb['body']);let _0x1726b1=await this[_0x3dfaf2(0x569)]({'request':_0x3bc1cb,'schema':M,'ClassRef':S,'execute':_0x476721=>T[_0x3dfaf2(0x41a)](_0x476721,_0x3515ab)});_0x2063a9[_0x3dfaf2(0x3fc)](0xc8)['json'](_0x1726b1);})[_0x8f22a5(0x128)](this[_0x8f22a5(0x216)]('editflowreply'),..._0x13e2d9,async(_0x125e3d,_0x15a9a8)=>{const _0xac21c3=_0x8f22a5;let _0x520420=_0x125e3d['body'];h[_0xac21c3(0x5ba)](_0xac21c3(0x4aa)),h[_0xac21c3(0x5ba)](_0xac21c3(0x398)),h[_0xac21c3(0x5ba)](_0x125e3d[_0xac21c3(0x4a6)]);let _0x2ccd25=await this[_0xac21c3(0x569)]({'request':_0x125e3d,'schema':M,'ClassRef':S,'execute':_0x2c14f0=>T[_0xac21c3(0x218)](_0x2c14f0,_0x520420)});_0x15a9a8['status'](0xc8)[_0xac21c3(0x483)](_0x2ccd25);})[_0x8f22a5(0x128)](this[_0x8f22a5(0x216)](_0x8f22a5(0x3ac)),..._0x13e2d9,async(_0x4788b9,_0xead310)=>{const _0x19d32d=_0x8f22a5;let _0x50323f=_0x4788b9[_0x19d32d(0x4a6)];h[_0x19d32d(0x5ba)]('request\x20received\x20in\x20editFlow'),h[_0x19d32d(0x5ba)](_0x19d32d(0x398)),h['verbose'](_0x4788b9[_0x19d32d(0x4a6)]);let _0x30abfd=await this['dataValidate']({'request':_0x4788b9,'schema':M,'ClassRef':S,'execute':_0x5231be=>T['editFlowVaredit'](_0x5231be,_0x50323f)});_0xead310[_0x19d32d(0x3fc)](0xc8)[_0x19d32d(0x483)](_0x30abfd);})[_0x8f22a5(0x128)](this[_0x8f22a5(0x216)]('editflowgroup'),..._0x13e2d9,async(_0x3dacb3,_0x5136c8)=>{const _0x4ba277=_0x8f22a5;let _0x2ca121=_0x3dacb3[_0x4ba277(0x4a6)];h[_0x4ba277(0x5ba)](_0x4ba277(0x56a)),h[_0x4ba277(0x5ba)]('request\x20body:\x20'),h[_0x4ba277(0x5ba)](_0x3dacb3[_0x4ba277(0x4a6)]);let _0x4969cc=await this[_0x4ba277(0x569)]({'request':_0x3dacb3,'schema':M,'ClassRef':S,'execute':_0x14efdd=>T[_0x4ba277(0x1a5)](_0x14efdd,_0x2ca121)});_0x5136c8[_0x4ba277(0x3fc)](0xc8)['json'](_0x4969cc);})[_0x8f22a5(0x128)](this[_0x8f22a5(0x216)](_0x8f22a5(0x30a)),..._0x13e2d9,async(_0xd42988,_0x3a6c50)=>{const _0x15e9b7=_0x8f22a5;let _0x4b1054=_0xd42988['body'];h[_0x15e9b7(0x5ba)](_0x15e9b7(0x281)),h[_0x15e9b7(0x5ba)](_0x15e9b7(0x398)),h[_0x15e9b7(0x5ba)](_0xd42988[_0x15e9b7(0x4a6)]);let _0x436c14=await this[_0x15e9b7(0x569)]({'request':_0xd42988,'schema':M,'ClassRef':S,'execute':_0x390b0e=>T[_0x15e9b7(0x535)](_0x390b0e,_0x4b1054)});_0x3a6c50[_0x15e9b7(0x3fc)](0xc8)['json'](_0x436c14);})[_0x8f22a5(0x128)](this[_0x8f22a5(0x216)](_0x8f22a5(0x312)),..._0x13e2d9,async(_0x167a01,_0x441186)=>{const _0xe2ba72=_0x8f22a5;let _0x192ec8=_0x167a01['body'];h[_0xe2ba72(0x5ba)](_0xe2ba72(0x62a)),h[_0xe2ba72(0x5ba)](_0xe2ba72(0x398)),h[_0xe2ba72(0x5ba)](_0x167a01[_0xe2ba72(0x4a6)]);let _0x59f6a6=await this[_0xe2ba72(0x569)]({'request':_0x167a01,'schema':M,'ClassRef':S,'execute':_0x66af37=>T[_0xe2ba72(0x314)](_0x66af37,_0x192ec8)});_0x441186[_0xe2ba72(0x3fc)](0xc8)[_0xe2ba72(0x483)](_0x59f6a6);})[_0x8f22a5(0x128)](this['routerPath']('getflow'),..._0x13e2d9,async(_0xce38f,_0x3284e6)=>{const _0x34379c=_0x8f22a5;let _0x47fa54=_0xce38f['body'];h[_0x34379c(0x5ba)](_0x34379c(0x36e)),h['verbose'](_0x34379c(0x398)),h['verbose'](_0xce38f[_0x34379c(0x4a6)]);let _0x33681a=await this[_0x34379c(0x569)]({'request':_0xce38f,'schema':M,'ClassRef':S,'execute':_0x18f551=>T['getFlow'](_0x18f551,_0x47fa54)});_0x3284e6['status'](0xc8)[_0x34379c(0x483)](_0x33681a);})['delete'](this[_0x8f22a5(0x216)](_0x8f22a5(0xad)),..._0x13e2d9,async(_0x36ae70,_0x4d121c)=>{const _0x2e2bf6=_0x8f22a5;let _0x30cd01=_0x36ae70[_0x2e2bf6(0x4a6)];h[_0x2e2bf6(0x5ba)](_0x2e2bf6(0x18c)),h[_0x2e2bf6(0x5ba)](_0x2e2bf6(0x398)),h['verbose'](_0x36ae70[_0x2e2bf6(0x4a6)]);let _0x22a6b2=await this['dataValidate']({'request':_0x36ae70,'schema':M,'ClassRef':S,'execute':_0x240e51=>T[_0x2e2bf6(0x36c)](_0x240e51,_0x30cd01)});_0x4d121c[_0x2e2bf6(0x3fc)](0xc8)[_0x2e2bf6(0x483)](_0x22a6b2);})[_0x8f22a5(0x5a8)](this[_0x8f22a5(0x216)](_0x8f22a5(0x635)),..._0x13e2d9,async(_0x3cd09d,_0x503d9f)=>{const _0x32592b=_0x8f22a5;h[_0x32592b(0x5ba)](_0x32592b(0x445));let _0x270f11=await this['dataValidate']({'request':_0x3cd09d,'schema':M,'ClassRef':S,'execute':_0x228331=>T[_0x32592b(0x1bb)](_0x228331)});_0x503d9f[_0x32592b(0x3fc)](0xc8)[_0x32592b(0x483)](_0x270f11);});}},cr=R(require(a0_0x3c797d(0x435))),X={};function or(_0x4b36df,_0x2b71e7,_0x563179,_0x408419){X[_0x4b36df]||(X[_0x4b36df]={}),X[_0x4b36df][_0x2b71e7]={'id':_0x2b71e7,'response':_0x563179,'events':_0x408419};}function ir(_0x2173ad,_0x41568e){!X[_0x2173ad]||!X[_0x2173ad][_0x41568e]||delete X[_0x2173ad][_0x41568e];}function q(_0x3b72c4,_0x54cef0,_0xa53424){const _0x5e1353=a0_0x3c797d;if(!X[_0x3b72c4])return;let _0x5bb57d=_0x5e1353(0x450)+JSON[_0x5e1353(0xf1)](_0xa53424)+'\x0a\x0a';Object['values'](X[_0x3b72c4])[_0x5e1353(0x3b8)](_0x42c09b=>{const _0x4d2c0e=_0x5e1353;_0x42c09b[_0x4d2c0e(0x2ce)][_0x4d2c0e(0x129)](_0x54cef0)&&_0x42c09b[_0x4d2c0e(0x619)][_0x4d2c0e(0x197)](_0x5bb57d);});}function nr(){const _0x16a3a8=a0_0x3c797d;let _0x2f1755={};for(let _0x29101b in X)_0x2f1755[_0x29101b]=Object['values'](X[_0x29101b])[_0x16a3a8(0x2a0)](_0x3f3d69=>({'id':_0x3f3d69['id'],'events':_0x3f3d69[_0x16a3a8(0x2ce)]}));return _0x2f1755;}var lr=require(a0_0x3c797d(0x444)),hs=require(a0_0x3c797d(0x66a)),ms=class{},no=new hs[(a0_0x3c797d(0x2fb))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),co=new hs[(a0_0x3c797d(0x2fb))]({'_id':{'type':String,'default':a0_0x3c797d(0x211)},'WebhookGlobal':{'type':no},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ye=N?.['model'](ms[a0_0x3c797d(0x42e)],co,a0_0x3c797d(0x582)),lo=cr[a0_0x3c797d(0x580)][a0_0x3c797d(0x530)](__dirname,a0_0x3c797d(0x3ca)),vt=(0x0,Mt['Router'])(),uo=b[a0_0x3c797d(0x5a8)](a0_0x3c797d(0x1bd))[a0_0x3c797d(0x634)],te=[ha,fa,ba[uo]];function a0_0x14cd(_0xc61d4a,_0x2914d2){const _0x4180de=a0_0x4180();return a0_0x14cd=function(_0x14cd91,_0x28c34d){_0x14cd91=_0x14cd91-0xa8;let _0x51095b=_0x4180de[_0x14cd91];return _0x51095b;},a0_0x14cd(_0xc61d4a,_0x2914d2);}vt[a0_0x3c797d(0x3b9)](a0_0x3c797d(0x675),Mt[a0_0x3c797d(0x580)][a0_0x3c797d(0x532)](lo))[a0_0x3c797d(0x5a8)](a0_0x3c797d(0x402),async(_0x1afb38,_0x51a4c2)=>{const _0x31555a=a0_0x3c797d;console[_0x31555a(0x247)](_0x31555a(0x399));let _0x56d8df=_0x1afb38['params']['instance'],_0xd0473a=(_0x1afb38['query'][_0x31555a(0x2ce)]||'')[_0x31555a(0x6db)](','),_0x5c5efe=(0x0,lr['v4'])();console[_0x31555a(0x247)](_0x31555a(0x680),_0x56d8df),console[_0x31555a(0x247)](_0x31555a(0x1c2),_0xd0473a);let _0x184087=b[_0x31555a(0x5a8)]('AUTHENTICATION')[_0x31555a(0xe9)],_0x4e74d1=_0x1afb38[_0x31555a(0x2cf)][_0x31555a(0x614)];if(console[_0x31555a(0x247)](_0x31555a(0x379),_0x4e74d1),_0x184087[_0x31555a(0x482)]!==_0x4e74d1){console[_0x31555a(0x247)](_0x31555a(0xdd));try{let _0x540a24=await le[_0x31555a(0x46d)]['find'](_0x56d8df);if(console[_0x31555a(0x247)]('Instance\x20Key\x20from\x20DB:',_0x540a24),!_0x540a24||_0x540a24[_0x31555a(0x614)]!==_0x4e74d1)return console[_0x31555a(0x247)]('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x51a4c2[_0x31555a(0x3fc)](0x191)[_0x31555a(0xd3)](_0x31555a(0x5d5));}catch(_0x4f5d2d){return console['error']('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x4f5d2d),_0x51a4c2[_0x31555a(0x3fc)](0x191)[_0x31555a(0xd3)](_0x31555a(0x4be));}}if(!await We(_0x56d8df))return _0x51a4c2[_0x31555a(0x3fc)](0x194)['send'](_0x31555a(0x1d4));_0x51a4c2[_0x31555a(0x615)](_0x31555a(0x564),_0x31555a(0x37b)),_0x51a4c2[_0x31555a(0x615)](_0x31555a(0xca),_0x31555a(0x14a)),_0x51a4c2['setHeader']('Connection',_0x31555a(0x11f)),_0x51a4c2[_0x31555a(0x395)]();let _0x18ce07=_0x31555a(0x450)+JSON[_0x31555a(0xf1)]({'info':_0x31555a(0x381)})+'\x0a\x0a';_0x51a4c2['write'](_0x18ce07),or(_0x56d8df,_0x5c5efe,_0x51a4c2,_0xd0473a),_0x1afb38['on'](_0x31555a(0x137),()=>{const _0x4e14ee=_0x31555a;console[_0x4e14ee(0x247)](_0x4e14ee(0x295)+_0x56d8df),ir(_0x56d8df,_0x5c5efe);});}),vt[a0_0x3c797d(0x5a8)](a0_0x3c797d(0x69f),(_0x464ffe,_0x207992)=>{const _0xce3da6=a0_0x3c797d;let _0x5db89f=nr();_0x207992[_0xce3da6(0x483)](_0x5db89f);})[a0_0x3c797d(0x5a8)]('/',(_0x2f5d83,_0x112ac3)=>{const _0x2b0c2a=a0_0x3c797d;let _0x73600b=b['get'](_0x2b0c2a(0x567)),_0xd2353f=_0x73600b&&_0x73600b[_0x2b0c2a(0x191)][_0x2b0c2a(0x6db)]('/')[0x4];if(_0xd2353f){let _0x207a4b=encodeURIComponent('https://'+_0xd2353f);_0x112ac3[_0x2b0c2a(0x61d)](_0x2b0c2a(0x18e)+_0x207a4b);}else _0x112ac3[_0x2b0c2a(0x61d)](_0x2b0c2a(0x31a));})[a0_0x3c797d(0x14c)](a0_0x3c797d(0x2d7),...te,async(_0x4d596e,_0x1ae678)=>{const _0x2e9789=a0_0x3c797d;try{console[_0x2e9789(0x247)](_0x2e9789(0x6f2)),_0x1ae678[_0x2e9789(0x3fc)](0xc8)['json']({'message':_0x2e9789(0x327)}),_0x1ae678['on']('finish',()=>process[_0x2e9789(0x2f4)](0x0));}catch(_0x3a0eb7){console['error'](_0x2e9789(0x5d6),_0x3a0eb7),_0x1ae678[_0x2e9789(0x3fc)](0x1f4)[_0x2e9789(0x483)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0x3c797d(0x14c)]('/config',...te,async(_0x26365d,_0x4adf29)=>{const _0x152ae6=a0_0x3c797d;try{let _0x4e1019=_0x26365d[_0x152ae6(0x4a6)];await ye[_0x152ae6(0x119)]({},{'$set':_0x4e1019},{'upsert':!0x0});let _0x3e6e97=await ye[_0x152ae6(0x2f8)]();_0x4adf29[_0x152ae6(0x483)](_0x3e6e97);}catch(_0x557f60){_0x4adf29[_0x152ae6(0x3fc)](0x190)[_0x152ae6(0xd3)](_0x557f60['message']);}})[a0_0x3c797d(0x5a8)](a0_0x3c797d(0x139),...te,async(_0x3c3cda,_0x4f0b14)=>{const _0x354a02=a0_0x3c797d;try{let _0x2eaa16=await ye[_0x354a02(0x2f8)]();if(!_0x2eaa16)return _0x4f0b14[_0x354a02(0x483)]({});_0x4f0b14[_0x354a02(0x483)](_0x2eaa16);}catch(_0x16dad6){_0x4f0b14[_0x354a02(0x3fc)](0x1f4)[_0x354a02(0xd3)](_0x16dad6[_0x354a02(0x15e)]);}})[a0_0x3c797d(0x3b9)](a0_0x3c797d(0x240),new ct(b,...te)[a0_0x3c797d(0x10e)])['use'](a0_0x3c797d(0x642),new bt(...te)[a0_0x3c797d(0x10e)])['use'](a0_0x3c797d(0x63a),new Xe(...te)[a0_0x3c797d(0x10e)])[a0_0x3c797d(0x3b9)](a0_0x3c797d(0x1e3),new nt(...te)[a0_0x3c797d(0x10e)])[a0_0x3c797d(0x3b9)](a0_0x3c797d(0x44b),new Et(...te)[a0_0x3c797d(0x10e)])['use']('/automate',new Ct(...te)[a0_0x3c797d(0x10e)]);var m=class{constructor(..._0x32dbfa){const _0x40d128=a0_0x3c797d;throw{'status':0x190,'error':_0x40d128(0x5bc),'message':_0x32dbfa[_0x40d128(0x234)]>0x0?_0x32dbfa:void 0x0};}},ee=class{constructor(..._0x46723d){const _0x150d83=a0_0x3c797d;throw{'status':0x191,'error':_0x150d83(0x273),'message':_0x46723d[_0x150d83(0x234)]>0x0?_0x46723d:void 0x0};}},K=class{constructor(..._0x5b7a2a){const _0x153112=a0_0x3c797d;throw{'status':0x193,'error':'Forbidden','message':_0x5b7a2a[_0x153112(0x234)]>0x0?_0x5b7a2a:void 0x0};}},F=class{constructor(..._0x2513ef){const _0x24bbf1=a0_0x3c797d;throw{'status':0x194,'error':_0x24bbf1(0x2ea),'message':_0x2513ef['length']>0x0?_0x2513ef:void 0x0};}},O=class{constructor(..._0x5097db){const _0x34b3dd=a0_0x3c797d;throw{'status':0x1f4,'error':_0x34b3dd(0x163),'message':_0x5097db['length']>0x0?_0x5097db:void 0x0};}},ue=require(a0_0x3c797d(0x621));async function fs(_0x20448d){const _0x48ad24=a0_0x3c797d;let _0x366bb0=new v(fs[_0x48ad24(0x42e)]),_0x55a41b=N[_0x48ad24(0x5ce)](),_0x25de78=_0x55a41b['db'](b[_0x48ad24(0x5a8)](_0x48ad24(0xd0))[_0x48ad24(0x10a)]['DB_PREFIX_NAME']+_0x48ad24(0x242))[_0x48ad24(0x1af)](_0x20448d),_0x246da8=async(_0x25b448,_0x2c6bb3)=>{const _0x457653=_0x48ad24;try{return await _0x55a41b['connect'](),await _0x25de78[_0x457653(0x592)]({'_id':_0x2c6bb3},JSON['parse'](JSON[_0x457653(0xf1)](_0x25b448,ue[_0x457653(0x23e)]['replacer'])),{'upsert':!0x0});}catch{}},_0x22dca9=async _0x364a82=>{const _0x1a0360=_0x48ad24;try{await _0x55a41b[_0x1a0360(0x30e)]();let _0x5f3b85=await _0x25de78[_0x1a0360(0x2f8)]({'_id':_0x364a82}),_0x556725=JSON[_0x1a0360(0xf1)](_0x5f3b85);return JSON[_0x1a0360(0x6cb)](_0x556725,ue[_0x1a0360(0x23e)][_0x1a0360(0x1ee)]);}catch{}},_0x510794=async _0x50f601=>{const _0x526d40=_0x48ad24;try{return await _0x55a41b['connect'](),await _0x25de78[_0x526d40(0x347)]({'_id':_0x50f601});}catch{}},_0x5635f1=await _0x22dca9(_0x48ad24(0x571))||(0x0,ue[_0x48ad24(0x325)])();return{'state':{'creds':_0x5635f1,'keys':{'get':async(_0x293037,_0x25abfc)=>{const _0xeb413=_0x48ad24;let _0x48f726={};return await Promise[_0xeb413(0x109)](_0x25abfc[_0xeb413(0x2a0)](async _0x4cbe8e=>{const _0x1cd9a8=_0xeb413;let _0x29c642=await _0x22dca9(_0x293037+'-'+_0x4cbe8e);_0x293037===_0x1cd9a8(0x310)&&_0x29c642&&(_0x29c642=ue[_0x1cd9a8(0x1c9)][_0x1cd9a8(0x4dc)][_0x1cd9a8(0x1ac)][_0x1cd9a8(0xb1)](_0x29c642)),_0x48f726[_0x4cbe8e]=_0x29c642;})),_0x48f726;},'set':async _0x35c2fd=>{const _0x3be3ed=_0x48ad24;let _0x41e7f6=[];for(let _0x446e13 in _0x35c2fd)for(let _0x1d8876 in _0x35c2fd[_0x446e13]){let _0x15e402=_0x35c2fd[_0x446e13][_0x1d8876],_0x5aea66=_0x446e13+'-'+_0x1d8876;_0x41e7f6[_0x3be3ed(0xab)](_0x15e402?_0x246da8(_0x15e402,_0x5aea66):_0x510794(_0x5aea66));}await Promise[_0x3be3ed(0x109)](_0x41e7f6);}}},'saveCreds':async()=>_0x246da8(_0x5635f1,_0x48ad24(0x571))};}var Es=R(require(a0_0x3c797d(0x67e))),Cs=R(require(a0_0x3c797d(0x55d))),Tt=require(a0_0x3c797d(0x621)),ur=require(a0_0x3c797d(0x305)),Rt=require('@whiskeysockets/baileys'),Nt;function po(_0x5131eb){const _0xf299d1=a0_0x3c797d;return Nt||(Nt=(0x0,ur['createClient'])({'url':_0x5131eb[_0xf299d1(0x3b5)]}),Nt['connect']()),Nt;}var oe=class c{constructor(_0x3ea199,_0x472b31){const _0x33b863=a0_0x3c797d;this[_0x33b863(0x17f)]=_0x3ea199,this[_0x33b863(0x589)]=_0x472b31,this[_0x33b863(0x30c)]=new v(c[_0x33b863(0x42e)]),this[_0x33b863(0x5a6)]=po(_0x3ea199);}set['reference'](_0xecf344){const _0x33d9fa=a0_0x3c797d;this[_0x33d9fa(0x589)]=_0xecf344;}async['instanceKeys'](){const _0x3e2800=a0_0x3c797d;try{return await this[_0x3e2800(0x5a6)][_0x3e2800(0x101)]([_0x3e2800(0x4e5),this[_0x3e2800(0x17f)][_0x3e2800(0x6e5)]+':*']);}catch(_0x4c09a5){this[_0x3e2800(0x30c)][_0x3e2800(0x362)](_0x4c09a5);}}async[a0_0x3c797d(0x655)](_0x48f5a3,_0x3fefe8){const _0x1d7d2c=a0_0x3c797d;try{let _0x236337=JSON[_0x1d7d2c(0xf1)](_0x3fefe8,Rt[_0x1d7d2c(0x23e)][_0x1d7d2c(0x3d9)]);return await this['client'][_0x1d7d2c(0x4f8)](this[_0x1d7d2c(0x17f)]['PREFIX_KEY']+':'+this[_0x1d7d2c(0x589)],_0x48f5a3,_0x236337);}catch(_0x3cc622){this[_0x1d7d2c(0x30c)][_0x1d7d2c(0x362)](_0x3cc622);}}async[a0_0x3c797d(0x703)](){const _0x51f49c=a0_0x3c797d;try{let _0x2c657b=await this[_0x51f49c(0x5a6)][_0x51f49c(0x334)](this[_0x51f49c(0x17f)][_0x51f49c(0x6e5)]+':'+this[_0x51f49c(0x589)]);if(_0x2c657b){for(let _0x34f18e in _0x2c657b)Object[_0x51f49c(0x3e1)][_0x51f49c(0x3c9)][_0x51f49c(0xe3)](_0x2c657b,_0x34f18e)&&(_0x2c657b[_0x34f18e]=JSON['parse'](_0x2c657b[_0x34f18e],Rt[_0x51f49c(0x23e)][_0x51f49c(0x1ee)]));return _0x2c657b;}}catch(_0x98516a){this[_0x51f49c(0x30c)][_0x51f49c(0x362)](_0x98516a);}}async[a0_0x3c797d(0x577)](_0x47b7c3){const _0x2951e1=a0_0x3c797d;try{let _0x3e1841=await this[_0x2951e1(0x5a6)][_0x2951e1(0x5f6)](this['redisEnv'][_0x2951e1(0x6e5)]+':'+this[_0x2951e1(0x589)],_0x47b7c3);if(_0x3e1841)return JSON[_0x2951e1(0x6cb)](_0x3e1841,Rt[_0x2951e1(0x23e)][_0x2951e1(0x1ee)]);}catch(_0x53418d){this['logger'][_0x2951e1(0x362)](_0x53418d);}}async[a0_0x3c797d(0x106)](_0x3a42bc){const _0x230491=a0_0x3c797d;try{return await this[_0x230491(0x5a6)][_0x230491(0x558)](this[_0x230491(0x17f)][_0x230491(0x6e5)]+':'+this['instanceName'],_0x3a42bc);}catch(_0x5895ad){this[_0x230491(0x30c)][_0x230491(0x362)](_0x5895ad);}}async[a0_0x3c797d(0x54e)](_0x113975){const _0x71ea71=a0_0x3c797d;try{return await this[_0x71ea71(0x5a6)]['del'](_0x113975||this['redisEnv'][_0x71ea71(0x6e5)]+':'+this['instanceName']);}catch(_0x17acce){this[_0x71ea71(0x30c)][_0x71ea71(0x362)](_0x17acce);}}};async function ys(_0x103edf,_0x3a87e7){const _0x499bc4=a0_0x3c797d;let _0x341607=new v(ys[_0x499bc4(0x42e)]),_0x115e64=new oe(_0x103edf,_0x3a87e7),_0x52af00=async(_0x5e026e,_0x97200c)=>{const _0x49e52f=_0x499bc4;try{return await _0x115e64[_0x49e52f(0x655)](_0x97200c,_0x5e026e);}catch(_0x1bf654){return _0x341607[_0x49e52f(0x362)]({'localError':_0x49e52f(0x655),'error':_0x1bf654});}},_0xb845b3=async _0x5535be=>{const _0xcf9089=_0x499bc4;try{return await _0x115e64[_0xcf9089(0x577)](_0x5535be);}catch(_0x38a6c5){_0x341607[_0xcf9089(0x362)]({'readData':_0xcf9089(0x655),'error':_0x38a6c5});return;}},_0x41c591=async _0x163bd6=>{const _0x5d8f57=_0x499bc4;try{return await _0x115e64[_0x5d8f57(0x106)](_0x163bd6);}catch(_0x2b7673){_0x341607['error']({'readData':'removeData','error':_0x2b7673});}},_0x5c0a81=await _0xb845b3('creds')||(0x0,Tt[_0x499bc4(0x325)])();return{'state':{'creds':_0x5c0a81,'keys':{'get':async(_0x59eb0e,_0x23b58b)=>{const _0x4b3cde=_0x499bc4;let _0x421b4e={};return await Promise[_0x4b3cde(0x109)](_0x23b58b[_0x4b3cde(0x2a0)](async _0x5ebd3a=>{const _0x421977=_0x4b3cde;let _0x5e17a6=await _0xb845b3(_0x59eb0e+'-'+_0x5ebd3a);_0x59eb0e===_0x421977(0x310)&&_0x5e17a6&&(_0x5e17a6=Tt[_0x421977(0x1c9)]['Message'][_0x421977(0x1ac)]['fromObject'](_0x5e17a6)),_0x421b4e[_0x5ebd3a]=_0x5e17a6;})),_0x421b4e;},'set':async _0x155f6d=>{const _0x2bf06a=_0x499bc4;let _0x509b0b=[];for(let _0x266dcd in _0x155f6d)for(let _0x3fddf3 in _0x155f6d[_0x266dcd]){let _0x51336b=_0x155f6d[_0x266dcd][_0x3fddf3],_0x47fa9f=_0x266dcd+'-'+_0x3fddf3;_0x509b0b[_0x2bf06a(0xab)](_0x51336b?await _0x52af00(_0x51336b,_0x47fa9f):await _0x41c591(_0x47fa9f));}await Promise['all'](_0x509b0b);}}},'saveCreds':async()=>await _0x52af00(_0x5c0a81,'creds')};}var L=R(require('fs')),Me=require(a0_0x3c797d(0x444)),It=R(require('sharp')),wr=require(a0_0x3c797d(0x4b5)),go=a0_0x3c797d(0x2dc)['trim'](),ws=go['split']('\x0a')[a0_0x3c797d(0x2a0)](_0x3bcf6d=>{const _0x9a2d1=a0_0x3c797d;let _0x2e0366=_0x3bcf6d[_0x9a2d1(0x6db)](':');return{'host':_0x2e0366[0x0],'port':_0x2e0366[0x1],'username':_0x2e0366[0x2],'password':_0x2e0366[0x3],'protocol':'http'};});function dr(){const _0x93af8f=a0_0x3c797d;if(ws[_0x93af8f(0x234)]===0x0)return null;let _0x587d6e=Math[_0x93af8f(0x3ee)](Math[_0x93af8f(0x3c3)]()*ws[_0x93af8f(0x234)]);return ws[_0x587d6e];}function bs(_0x1a2490){const _0x3a0d97=a0_0x3c797d;return _0x1a2490&&_0x1a2490['host']&&_0x1a2490[_0x3a0d97(0x5eb)]&&_0x1a2490[_0x3a0d97(0x6d1)]&&_0x1a2490[_0x3a0d97(0x204)];}var br=a0_0x3c797d(0x36b),Ms,ie=null,pr=null,He=null,mo=0x3,ho=null,Sr=!0x1;async function fo(){const _0x2ba3cb=a0_0x3c797d;let _0x1a1753=await ye[_0x2ba3cb(0x2f8)]();ie=_0x1a1753?.[_0x2ba3cb(0x2b2)]??null,ho=_0x1a1753?.[_0x2ba3cb(0x20c)]??null,br=_0x1a1753?.[_0x2ba3cb(0x245)]??'Chrome',Ms=_0x1a1753?.[_0x2ba3cb(0x3c7)]??vs??'uazapi',Sr=_0x1a1753?.[_0x2ba3cb(0x459)]??!0x1,console[_0x2ba3cb(0x247)]('CONFIGURAÇÃO\x20GERAL:'),console['log'](_0x1a1753);}async function yo(){await fo();}yo();function $(_0x1125ab){const _0x70ac00=a0_0x3c797d;if(_0x1125ab[_0x70ac00(0xcc)]||_0x1125ab['viewOnceMessageV2']){let _0x1b1723=_0x1125ab[_0x70ac00(0xcc)]?_0x1125ab[_0x70ac00(0xcc)]['message']:_0x1125ab[_0x70ac00(0x1f9)][_0x70ac00(0x15e)];return(0x0,y[_0x70ac00(0x50e)])(_0x1b1723);}return _0x1125ab[_0x70ac00(0x221)]?'pollCreationMessageV3':_0x1125ab[_0x70ac00(0x120)]?_0x70ac00(0x120):_0x1125ab['viewOnceMessageV2Extension']?_0x70ac00(0x6a8):(0x0,y['getContentType'])(_0x1125ab);}var gr={},we=class c{constructor(_0x3fa025,_0x3cf59f,_0x411ba8){const _0x259525=a0_0x3c797d;this[_0x259525(0x134)]=_0x3fa025,this[_0x259525(0x432)]=_0x3cf59f,this['repository']=_0x411ba8,this[_0x259525(0x6e6)]=null,this[_0x259525(0x30c)]=new v(c[_0x259525(0x42e)]),this['instance']={},this['localWebhook']={},this[_0x259525(0x4f5)]={'state':_0x259525(0x137)},this[_0x259525(0x697)]=(0x0,U[_0x259525(0x530)])(ae,_0x259525(0x3ca)),this[_0x259525(0x660)]=new Cs[(_0x259525(0x580))](),this[_0x259525(0x4c0)]=new Cs[(_0x259525(0x580))](),this['endSession']=!0x1,this[_0x259525(0x4f7)]={'status.instance':_0x259525(0x1ab),'qrcode.updated':'/wa-qrcode','messages.upsert':_0x259525(0x215),'messages.update':'/wa-message-update','send.message':_0x259525(0x215),'group.upsert':_0x259525(0x687),'group.update':_0x259525(0x687),'group-participants.update':'/wa-groups','connection.update':'/wa-connection-update','messages.set':_0x259525(0x215),'contacts.set':_0x259525(0x38f),'contacts.upsert':'/wa-contacts','contacts.update':_0x259525(0x38f),'presence.update':_0x259525(0x4ba),'chats.set':_0x259525(0x663),'chats.update':'/wa-chats','chats.upsert':_0x259525(0x663),'chats.delete':_0x259525(0x663)},this['reconnectAttempts']=0x0,this[_0x259525(0x691)]=[],this[_0x259525(0x568)]=0xf,this[_0x259525(0x6de)]=0x7530,this['isRunning']=!0x1,this[_0x259525(0x6da)]={'chats.upsert':async(_0xefa30d,_0x15144f)=>{const _0x20b926=_0x259525;let _0x13854f=[];for await(let _0x2f54af of _0xefa30d)_0x13854f['push']({'_id':_0x2f54af['id'],'owner':this[_0x20b926(0x3ce)][_0x20b926(0x5c8)],'group':_0x2f54af['id']['endsWith'](_0x20b926(0x287)),'name':_0x2f54af[_0x20b926(0x42e)]||_0x2f54af[_0x20b926(0x2e1)]||null,'contactname':null,'lastmsg':_0x2f54af[_0x20b926(0x628)]&&_0x2f54af[_0x20b926(0x628)][_0x20b926(0x509)]()['length']<0xd?_0x2f54af[_0x20b926(0x628)]*0x3e8:_0x2f54af[_0x20b926(0x628)]||null,'archived':_0x2f54af[_0x20b926(0x16a)]||!0x1,'unreadcount':_0x2f54af['unreadCount']||0x0});this[_0x20b926(0xc2)](_0x20b926(0x1b2),_0x13854f);},'chats.update':async(_0x53203a,_0x245c9e)=>{const _0x4060e3=_0x259525;for(let _0x5e17dc of _0x53203a){let _0x5be827={'_id':_0x5e17dc['id'],'owner':this['instance'][_0x4060e3(0x5c8)],'group':_0x5e17dc['id'][_0x4060e3(0x3c4)](_0x4060e3(0x287)),'name':_0x5e17dc[_0x4060e3(0x42e)]||_0x5e17dc[_0x4060e3(0x2e1)],'archived':_0x5e17dc[_0x4060e3(0x16a)],'ephemeralExpiration':_0x5e17dc[_0x4060e3(0x3d0)]},_0x2ed0c7=!0x1,_0x3ba737={};_0x5be827[_0x4060e3(0x16a)]!=null&&(this[_0x4060e3(0x30c)]['verbose'](this[_0x4060e3(0x589)]+'\x20('+this[_0x4060e3(0x3ce)]['wuid']+_0x4060e3(0x63b)+_0x5e17dc['archived']),_0x2ed0c7=!0x0,_0x3ba737['archived']=_0x5e17dc['archived']),_0x5e17dc[_0x4060e3(0x42e)]!=null&&(this[_0x4060e3(0x30c)]['verbose'](this[_0x4060e3(0x589)]+'\x20('+this[_0x4060e3(0x3ce)][_0x4060e3(0x5c8)]+_0x4060e3(0x1f2)+_0x5e17dc[_0x4060e3(0x42e)]),_0x2ed0c7=!0x0,_0x3ba737[_0x4060e3(0x42e)]=_0x5e17dc[_0x4060e3(0x42e)]),_0x5e17dc[_0x4060e3(0x2e1)]!=null&&(this[_0x4060e3(0x30c)][_0x4060e3(0x5ba)](this[_0x4060e3(0x589)]+'\x20('+this['instance'][_0x4060e3(0x5c8)]+_0x4060e3(0x4f0)+_0x5e17dc[_0x4060e3(0x2e1)]),_0x2ed0c7=!0x0,_0x3ba737['name']=_0x5e17dc[_0x4060e3(0x2e1)]),_0x5e17dc[_0x4060e3(0x3d0)]!=null&&(this[_0x4060e3(0x30c)][_0x4060e3(0x5ba)](this[_0x4060e3(0x589)]+'\x20('+this[_0x4060e3(0x3ce)][_0x4060e3(0x5c8)]+'):\x20teve\x20mudanças\x20chat.displayName:\x20'+_0x5e17dc[_0x4060e3(0x3d0)]),_0x2ed0c7=!0x0,_0x3ba737['ephemeralExpiration']=_0x5e17dc[_0x4060e3(0x3d0)]);let _0x5f103f;_0x2ed0c7&&(_0x5f103f=await this[_0x4060e3(0x4cd)][_0x4060e3(0x65c)][_0x4060e3(0x119)]({'where':{'_id':_0x5e17dc['id']}},_0x3ba737,this[_0x4060e3(0x3ce)][_0x4060e3(0x5c8)])),_0x5f103f&&q(this[_0x4060e3(0x589)],'chats',{'chat':_0x5f103f});}},'chats.delete':async _0x578875=>{const _0x4f58d3=_0x259525;this[_0x4f58d3(0xc2)](_0x4f58d3(0x344),[..._0x578875]);}},this[_0x259525(0x1ba)]={'contacts.upsert':async(_0xef924d,_0x3be190)=>{const _0x3a7dd7=_0x259525;let _0xe9d1ab=await this[_0x3a7dd7(0x4cd)][_0x3a7dd7(0x4f1)]['find']({'where':{}},this[_0x3a7dd7(0x3ce)][_0x3a7dd7(0x5c8)]),_0x479744=[];for await(let _0x2f62b3 of _0xef924d)_0xe9d1ab[_0x3a7dd7(0x2ec)](_0x523b48=>_0x523b48[_0x3a7dd7(0x3c1)]===_0x2f62b3['id'])||_0x479744[_0x3a7dd7(0xab)]({'_id':_0x2f62b3['id'],'pushName':_0x2f62b3?.[_0x3a7dd7(0x42e)]||_0x2f62b3?.['verifiedName'],'owner':this[_0x3a7dd7(0x3ce)][_0x3a7dd7(0x5c8)]});this[_0x3a7dd7(0xc2)](_0x3a7dd7(0x5b8),_0x479744),await this['repository'][_0x3a7dd7(0x4f1)][_0x3a7dd7(0x5e0)](_0x479744);},'contacts.update':async(_0x1b5772,_0x3e8460)=>{const _0x4fc676=_0x259525;let _0x2d0fe7=[];for await(let _0x232b0a of _0x1b5772)_0x2d0fe7[_0x4fc676(0xab)]({'_id':_0x232b0a['id'],'pushName':_0x232b0a?.[_0x4fc676(0x42e)]??_0x232b0a?.[_0x4fc676(0x70b)],'owner':this[_0x4fc676(0x3ce)][_0x4fc676(0x5c8)]});this[_0x4fc676(0xc2)]('contacts.update',_0x2d0fe7);}},this[_0x259525(0x27e)]={'messaging-history.set':async({messages:_0x323f83,chats:_0x20ff2f,isLatest:_0x4601f8},_0x38faf7)=>{const _0x5f103e=_0x259525;if(_0x4601f8){let _0x23ddb0=await Promise[_0x5f103e(0x109)](_0x20ff2f[_0x5f103e(0x2a0)](async _0xab82f4=>({'_id':_0xab82f4['id'],'owner':this[_0x5f103e(0x3ce)][_0x5f103e(0x5c8)],'group':_0xab82f4['id']['endsWith'](_0x5f103e(0x287)),'name':_0xab82f4[_0x5f103e(0x42e)]||_0xab82f4[_0x5f103e(0x2e1)]||null,'contactname':null,'lastmsg':_0xab82f4[_0x5f103e(0x628)]&&_0xab82f4[_0x5f103e(0x628)][_0x5f103e(0x509)]()['length']<0xd?_0xab82f4[_0x5f103e(0x628)]*0x3e8:_0xab82f4[_0x5f103e(0x628)]||null,'archived':_0xab82f4[_0x5f103e(0x16a)]||!0x1,'unreadcount':_0xab82f4[_0x5f103e(0x1e9)]||0x0})));this['sendDataWebhook'](_0x5f103e(0x682),_0x23ddb0),await this[_0x5f103e(0x2bb)](_0x23ddb0,_0x38faf7);}let _0x25a688=[],_0x7374a6=Date[_0x5f103e(0x38d)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x565fd8]of Object[_0x5f103e(0x166)](_0x323f83)){if(_0x565fd8[_0x5f103e(0x15e)]?.[_0x5f103e(0x1fb)]||_0x565fd8[_0x5f103e(0x15e)]?.['senderKeyDistributionMessage']||!_0x565fd8['message']||_0x565fd8[_0x5f103e(0x2d3)][_0x5f103e(0xb8)]===_0x5f103e(0x4d8)||(Es['default']['isLong'](_0x565fd8?.[_0x5f103e(0x34b)])&&(_0x565fd8[_0x5f103e(0x34b)]=_0x565fd8[_0x5f103e(0x34b)]?.[_0x5f103e(0x33e)]()),_0x565fd8[_0x5f103e(0x34b)]&&_0x565fd8[_0x5f103e(0x34b)]['toString']()[_0x5f103e(0x234)]<0xd&&(_0x565fd8[_0x5f103e(0x34b)]=_0x565fd8['messageTimestamp']*0x3e8),_0x565fd8['messageTimestamp']<_0x7374a6))continue;let {message_normalized:_0x40a371}=this[_0x5f103e(0x596)](_0x565fd8[_0x5f103e(0x15e)],$(_0x565fd8[_0x5f103e(0x15e)]),null);Object[_0x5f103e(0x4e5)](_0x40a371)[_0x5f103e(0x234)]>0x0&&_0x25a688[_0x5f103e(0xab)]({'_id':_0x565fd8[_0x5f103e(0x2d3)]['id'],'key':_0x565fd8['key'],'pushName':_0x565fd8[_0x5f103e(0x562)],'participant':_0x565fd8[_0x5f103e(0x68d)],'message':{..._0x565fd8['message']},'messageType':$(_0x565fd8[_0x5f103e(0x15e)]),'message_normalized':{'key':_0x565fd8[_0x5f103e(0x2d3)],'pushName':_0x565fd8[_0x5f103e(0x562)],'messageTimestamp':_0x565fd8[_0x5f103e(0x34b)],..._0x40a371},'messageTimestamp':_0x565fd8['messageTimestamp'],'owner':this[_0x5f103e(0x3ce)][_0x5f103e(0x5c8)]});}_0x38faf7[_0x5f103e(0xe8)]&&_0x25a688[_0x5f103e(0x234)]>0x0&&(this['logger'][_0x5f103e(0x5ba)](this[_0x5f103e(0x589)]+'\x20('+this[_0x5f103e(0x3ce)][_0x5f103e(0x5c8)]+_0x5f103e(0x36f)+_0x25a688['length']+_0x5f103e(0x6be)+this[_0x5f103e(0x3ce)]['wuid']+_0x5f103e(0xfb)),await this['repository']['message'][_0x5f103e(0x5e0)]([..._0x25a688],this[_0x5f103e(0x3ce)][_0x5f103e(0x5c8)])),this['sendDataWebhook'](_0x5f103e(0x4ca),[..._0x25a688]),_0x323f83=void 0x0;},'messages.upsert':async({messages:_0x1010ce,type:_0x3f06a6},_0x2cbf0f)=>{const _0x319d86=_0x259525;let _0x5613ed=_0x1010ce[0x0];if(_0x3f06a6!==_0x319d86(0x44d)||!_0x5613ed?.[_0x319d86(0x15e)]||_0x5613ed[_0x319d86(0x15e)]?.[_0x319d86(0x1fb)]||_0x5613ed['message'][_0x319d86(0x2de)]||_0x5613ed['key'][_0x319d86(0xb8)]===_0x319d86(0x4d8))return;let _0x571624=null,_0x434d87=null;try{_0x571624=await this['processPollUpdateMessage'](_0x5613ed),_0x434d87=_0x571624?_0x571624[_0x319d86(0x530)](','):null;}catch(_0x5592f3){this[_0x319d86(0x30c)][_0x319d86(0x5ba)](this[_0x319d86(0x589)]+'\x20('+this[_0x319d86(0x3ce)][_0x319d86(0x5c8)]+_0x319d86(0x36f)+(_0x5592f3 instanceof Error?_0x5592f3[_0x319d86(0x15e)]:JSON[_0x319d86(0xf1)](_0x5592f3,null,0x2))),_0x434d87=_0x319d86(0x4b0);}if(this[_0x319d86(0x5a6)][_0x319d86(0x3e5)]('unavailable'),Es[_0x319d86(0x580)][_0x319d86(0x60d)](_0x5613ed[_0x319d86(0x34b)])&&(_0x5613ed[_0x319d86(0x34b)]=_0x5613ed[_0x319d86(0x34b)]?.['toNumber']()),this['localWebhook']?.[_0x319d86(0x63d)]&&_0x5613ed[_0x319d86(0x2d3)][_0x319d86(0xb8)][_0x319d86(0x129)]('@g.us')){this[_0x319d86(0x30c)]['verbose']('group\x20ignored');return;}_0x5613ed['messageTimestamp']&&_0x5613ed[_0x319d86(0x34b)][_0x319d86(0x509)]()['length']<0xd&&(_0x5613ed['messageTimestamp']=_0x5613ed[_0x319d86(0x34b)]*0x3e8);let _0x1cbde9=_0x5613ed[_0x319d86(0x15e)],{messageContent:_0x4b7db8,message_normalized:_0x303c04}=this['normalizeMessage'](_0x1cbde9,$(_0x5613ed['message']),_0x434d87);_0x4b7db8||console[_0x319d86(0x362)]('Mensagem\x20não\x20suportada');let _0x5b405e={'_id':_0x5613ed[_0x319d86(0x2d3)]['id'],'key':_0x5613ed[_0x319d86(0x2d3)],'pushName':_0x5613ed[_0x319d86(0x562)],'message':{..._0x5613ed['message']},'messageType':$(_0x5613ed[_0x319d86(0x15e)]),'message_normalized':{'key':_0x5613ed[_0x319d86(0x2d3)],'pushName':_0x5613ed['pushName'],'messageTimestamp':_0x5613ed['messageTimestamp'],'source':(0x0,y['getDevice'])(_0x5613ed['key']['id']),..._0x303c04},'messageTimestamp':_0x5613ed['messageTimestamp'],'owner':this[_0x319d86(0x3ce)][_0x319d86(0x5c8)],'source':(0x0,y[_0x319d86(0x4ad)])(_0x5613ed[_0x319d86(0x2d3)]['id'])};this[_0x319d86(0x30c)]['log'](_0x5b405e),await this[_0x319d86(0x4cd)][_0x319d86(0x15e)]['insert']([_0x5b405e],this[_0x319d86(0x3ce)]['wuid']),this[_0x319d86(0xc2)]('messages.upsert',_0x5b405e),q(this['instanceName'],'messages',{'message':_0x5b405e}),_0x5613ed[_0x319d86(0x2d3)][_0x319d86(0xb8)]!==_0x319d86(0x4d8)&&await this[_0x319d86(0x55c)](_0x2cbf0f,_0x5b405e,_0x319d86(0x16c));},'messages.update':async(_0xa3fbf3,_0x28986c)=>{const _0x4b8a22=_0x259525;let _0x2cbb02={0x0:_0x4b8a22(0x1c8),0x1:_0x4b8a22(0x69e),0x2:_0x4b8a22(0x5de),0x3:_0x4b8a22(0x130),0x4:_0x4b8a22(0x250),0x5:'PLAYED'};for await(let {key:_0x2a4e91,update:_0x3e1c20}of _0xa3fbf3){if(this[_0x4b8a22(0x47d)]?.[_0x4b8a22(0x63d)]&&_0x2a4e91[_0x4b8a22(0xb8)]['includes']('@g.us')){this['logger'][_0x4b8a22(0x5ba)]('group\x20ignored');return;}if(_0x2a4e91[_0x4b8a22(0xb8)]!=='status@broadcast'){let _0x1b3090=Date[_0x4b8a22(0x38d)](),_0x264e18;_0x3e1c20[_0x4b8a22(0x15e)]===null&&_0x3e1c20[_0x4b8a22(0x3fc)]===void 0x0?_0x264e18='DELETED':_0x264e18=_0x2cbb02[_0x3e1c20[_0x4b8a22(0x3fc)]];let _0x4e5860=_0x2a4e91['remoteJid'][_0x4b8a22(0x6d3)](/:\d{1,2}@/g,'@'),_0x70d47e={..._0x2a4e91,'remoteJid':_0x4e5860,'status':_0x264e18,'datetime':_0x1b3090,'owner':this[_0x4b8a22(0x3ce)][_0x4b8a22(0x5c8)]};this[_0x4b8a22(0xc2)]('messages.update',_0x70d47e),await this[_0x4b8a22(0x4dd)](_0x2a4e91,_0x70d47e);}}},'labels.association':async({type:_0x4b8393,association:_0x43a10e})=>{const _0x16edb6=_0x259525;if(_0x43a10e['type']===_0x16edb6(0x5d0))switch(_0x4b8393){case _0x16edb6(0x351):console[_0x16edb6(0x247)](_0x43a10e),await this['repository'][_0x16edb6(0x65c)][_0x16edb6(0x119)]({'where':{'_id':_0x43a10e[_0x16edb6(0x4de)]}},{'labels':_0x43a10e['labelId']},this['instance'][_0x16edb6(0x5c8)],void 0x0,_0x16edb6(0x611));break;case'remove':console[_0x16edb6(0x247)](_0x43a10e),await this[_0x16edb6(0x4cd)][_0x16edb6(0x65c)][_0x16edb6(0x119)]({'where':{'_id':_0x43a10e[_0x16edb6(0x4de)]}},{'labels':_0x43a10e[_0x16edb6(0x4e0)]},this[_0x16edb6(0x3ce)][_0x16edb6(0x5c8)],void 0x0,_0x16edb6(0x638));break;default:console[_0x16edb6(0x362)](_0x16edb6(0x6d7)+_0x4b8393+']');}},'labels.edit':async _0x36979c=>{const _0x2d4600=_0x259525;if(!_0x36979c||!_0x36979c['id']){console[_0x2d4600(0x362)](_0x2d4600(0x441));return;}let _0x50baf9={'_id':_0x36979c['id'],'color':_0x36979c?.[_0x2d4600(0x6d2)],'name':_0x36979c?.[_0x2d4600(0x42e)],'owner':this[_0x2d4600(0x3ce)][_0x2d4600(0x5c8)]};await this[_0x2d4600(0x4cd)][_0x2d4600(0x239)][_0x2d4600(0x119)]({'where':{'_id':_0x36979c['id']}},_0x50baf9,this[_0x2d4600(0x3ce)][_0x2d4600(0x5c8)]),console['log'](_0x2d4600(0x348),_0x36979c),_0x36979c[_0x2d4600(0x510)]&&(await this[_0x2d4600(0x4cd)][_0x2d4600(0x239)]['delete']({'where':{'_id':_0x36979c['id']}},this['instance'][_0x2d4600(0x5c8)]),console['log'](_0x2d4600(0x2a5),_0x36979c['id']));}},this[_0x259525(0x1ff)]={'groups.upsert':_0x1b2859=>{const _0x141e4a=_0x259525;this[_0x141e4a(0xc2)]('groups.upsert',_0x1b2859);},'groups.update':_0x3aa776=>{this['sendDataWebhook']('groups.update',_0x3aa776);},'group-participants.update':_0x5e1265=>{const _0x20555e=_0x259525;this[_0x20555e(0xc2)](_0x20555e(0x457),_0x5e1265);}},this[_0x259525(0x3fa)]=async _0x3ca94c=>{const _0x26d19a=_0x259525;if(_0x3ca94c[_0x26d19a(0x15e)]?.[_0x26d19a(0x5c4)]){let _0x19a42f=await this['getMessage'](_0x3ca94c[_0x26d19a(0x15e)][_0x26d19a(0x5c4)][_0x26d19a(0x319)],!0x0);if(_0x19a42f){let _0x5c7e90=_0x19a42f[_0x26d19a(0x2d3)]['fromMe']?this[_0x26d19a(0x3ce)]['wuid']+_0x26d19a(0xc1):_0x19a42f[_0x26d19a(0x2d3)]['participant']||_0x19a42f[_0x26d19a(0x2d3)][_0x26d19a(0xb8)],_0x45cdb9=_0x19a42f[_0x26d19a(0x2d3)]['id'],_0x2cf62c=_0x19a42f[_0x26d19a(0x15e)],_0x38dd70=Buffer[_0x26d19a(0x6fc)](_0x2cf62c['messageContextInfo']['messageSecret'][_0x26d19a(0x509)](_0x26d19a(0x38e)),'hex'),_0x50f4a9=(0x0,y['decryptPollVote'])(_0x3ca94c[_0x26d19a(0x15e)]['pollUpdateMessage'][_0x26d19a(0x407)],{'pollCreatorJid':_0x5c7e90,'pollMsgId':_0x45cdb9,'pollEncKey':_0x38dd70,'voterJid':_0x3ca94c[_0x26d19a(0x2d3)][_0x26d19a(0x468)]?this[_0x26d19a(0x3ce)][_0x26d19a(0x5c8)]+_0x26d19a(0xc1):_0x3ca94c[_0x26d19a(0x2d3)][_0x26d19a(0xb8)][_0x26d19a(0x3c4)]('g.us')?_0x3ca94c[_0x26d19a(0x2d3)][_0x26d19a(0x68d)]:_0x3ca94c[_0x26d19a(0x2d3)][_0x26d19a(0xb8)]}),_0x1931e3=[],_0x3077a3=_0x50f4a9[_0x26d19a(0x39a)][_0x26d19a(0x2a0)](_0x10f2e1=>Buffer[_0x26d19a(0x6fc)](_0x10f2e1)[_0x26d19a(0x509)](_0x26d19a(0x38e)));for(let {optionName:_0x4ed7bd}of _0x2cf62c['pollCreationMessage']?.['options']||_0x2cf62c[_0x26d19a(0x221)]?.[_0x26d19a(0x27a)]||_0x2cf62c[_0x26d19a(0x120)]?.[_0x26d19a(0x27a)])_0x3077a3[_0x26d19a(0x39f)]((0x0,y[_0x26d19a(0x53d)])(Buffer[_0x26d19a(0x6fc)](_0x4ed7bd))[_0x26d19a(0x509)](_0x26d19a(0x38e)))>-0x1&&_0x1931e3[_0x26d19a(0xab)](_0x4ed7bd);return _0x1931e3;}}return null;},this['normalizeMessage']=(_0x213fd8,_0x58efbb,_0x390f01)=>{const _0x5779da=_0x259525;try{let _0x5e994c=_0x58efbb?_0x213fd8[_0x58efbb]:void 0x0,_0x81edd0={},_0x4c1c3b=null,_0x2f21f6=null,_0x5b99d1=null;if(_0x213fd8['viewOnceMessageV2']?(_0x58efbb=$(_0x213fd8[_0x5779da(0x1f9)]['message']),_0x5e994c=_0x213fd8[_0x5779da(0x1f9)]['message'][_0x58efbb]):_0x213fd8[_0x5779da(0x6a8)]?(_0x58efbb=$(_0x213fd8['viewOnceMessageV2Extension'][_0x5779da(0x15e)]),_0x5e994c=_0x213fd8[_0x5779da(0x6a8)]['message'][_0x58efbb]):_0x213fd8[_0x5779da(0xcc)]?(_0x58efbb=$(_0x213fd8[_0x5779da(0xcc)][_0x5779da(0x15e)]),_0x5e994c=_0x213fd8[_0x5779da(0xcc)][_0x5779da(0x15e)][_0x58efbb]):_0x213fd8[_0x5779da(0xb2)]?(_0x58efbb=$(_0x213fd8[_0x5779da(0x15e)]['ephemeralMessage'][_0x5779da(0x15e)]),_0x5e994c=_0x213fd8['message'][_0x5779da(0xb2)][_0x5779da(0x15e)][_0x58efbb]):_0x213fd8['editedMessage']?.[_0x5779da(0x15e)]?.[_0x5779da(0x1fb)]?.[_0x5779da(0x61e)]?(_0x58efbb=$(_0x213fd8['editedMessage'][_0x5779da(0x15e)][_0x5779da(0x1fb)][_0x5779da(0x61e)]),_0x4c1c3b=_0x213fd8[_0x5779da(0x61e)][_0x5779da(0x15e)][_0x5779da(0x1fb)][_0x5779da(0x2d3)]['id'],_0x5e994c=_0x213fd8[_0x5779da(0x61e)]['message'][_0x5779da(0x1fb)][_0x5779da(0x61e)][_0x58efbb]):_0x5e994c=_0x213fd8[_0x58efbb],!_0x58efbb||!_0x5e994c)return console['error'](_0x5779da(0x4bc),_0x213fd8),{'messageType':_0x58efbb,'messageContent':_0x5e994c,'message_normalized':{}};_0x213fd8[_0x58efbb]?.['contextInfo']?.[_0x5779da(0x45e)]&&_0x213fd8[_0x58efbb]?.[_0x5779da(0x69a)]?.['quotedMessage']&&(_0x2f21f6=_0x213fd8[_0x58efbb][_0x5779da(0x69a)][_0x5779da(0x45e)]),_0x213fd8[_0x5779da(0x2bf)]&&(_0x5b99d1=_0x213fd8['reactionMessage'][_0x5779da(0x2d3)]['id']);let _0x2964bf;if(_0x5e994c&&typeof _0x5e994c==_0x5779da(0xc5)&&_0x5779da(0x319)in _0x5e994c&&({pollCreationMessageKey:_0x2964bf}=_0x5e994c),_0x58efbb===_0x5779da(0x56d)){let _0x51efb7=_0x5e994c?.['message']?.[_0x5779da(0x16f)];_0x51efb7&&(_0x5e994c=_0x51efb7);}if(_0x58efbb==='pollCreationMessage'||_0x58efbb==='pollCreationMessageV2'||_0x58efbb===_0x5779da(0x221)){let _0x4a8f2e=_0x5e994c[_0x5779da(0x27a)]['map'](_0x2d12e5=>_0x2d12e5[_0x5779da(0x458)])[_0x5779da(0x530)]('|');_0x81edd0[_0x5779da(0x16b)]=_0x4a8f2e;}let _0x27cf08=_0x5e994c['name']||_0x5e994c[_0x5779da(0x5d2)]||_0x5e994c[_0x5779da(0x5cb)]||_0x5e994c[_0x5779da(0x2e1)];if(_0x58efbb==='listMessage'){_0x27cf08=(_0x5e994c['title']||'')+'\x0a'+(_0x5e994c['description']||'')+'\x0a'+(_0x5e994c['footerText']||'');let _0x591b91=this['sectionsToString'](_0x5e994c[_0x5779da(0x397)]);_0x81edd0[_0x5779da(0x16b)]=_0x591b91;}if(_0x58efbb===_0x5779da(0xf4)&&(_0x390f01=_0x5e994c[_0x5779da(0x274)]),_0x5e994c[_0x5779da(0x40b)]){let _0x12d67c=this['formatVCard'](JSON['stringify'](_0x5e994c['vcard'],null,0x2));_0x27cf08=_0x27cf08+'\x0a'+_0x12d67c;}if(_0x5e994c){let {sections:_0x45c62f,listType:_0x437492,displayName:_0x55c5b2,vcard:_0x176539,contactVcard:_0x1dc2cc,name:_0x17afdc,caption:_0x1cfd92,conversation:_0x261db9,pollCreationMessageKey:_0x515b77,footerText:_0x46dc48,contentText:_0x2d19a8,pageCount:_0x2213d8,headerType:_0x58cef4,isAvatar:_0x5a5de9,isAnimated:_0x370749,fallbackLc:_0x2c1c81,fallbackLg:_0x4492b8,namespace:_0x3cc032,elementName:_0x1a743e,localizableParams:_0x3f4851,viewOnce:_0x59b842,height:_0x4b49cb,width:_0x12180e,key:_0x14293b,firstScanLength:_0x5ce1de,firstScanSidecar:_0x11d9f5,gifPlayback:_0x49217f,gifAttribution:_0x2953f0,midQualityFileSha256:_0x542733,scansSidecar:_0x58e580,streamingSidecar:_0x239544,thumbnailHeight:_0x1fd9ab,thumbnailWidth:_0x16f43b,thumbnailEncSha256:_0x52cf4c,thumbnailDirectPath:_0xa131ab,canonicalUrl:_0x17f221,matchedText:_0x332151,previewType:_0xc1c106,thumbnailSha256:_0x578291,deviceListMetadataVersion:_0x178ece,inviteLinkGroupTypeV2:_0xf354b1,interactiveAnnotations:_0x29bf31,scanLengths:_0x319d10,jpegThumbnail:_0x50d5a1,url:_0xe99c65,mediaKeyTimestamp:_0x47c311,waveform:_0x4add6a,stickerSentTs:_0x91fe88,firstFrameLength:_0x41b11d,fileEncSha256:_0x3e7e85,contextInfo:_0x433142,firstFrameSidecar:_0x2cb435,directPath:_0x2aabe6,fileSha256:_0x95e9b2,mediaKey:_0x4c0ef0,senderTimestampMs:_0x1a76bc,..._0x253b7d}=_0x5e994c;(_0x58efbb===_0x5779da(0x56c)||_0x58efbb===_0x5779da(0xf4))&&(delete _0x253b7d['title'],delete _0x253b7d[_0x5779da(0x60c)]),typeof _0x5e994c==_0x5779da(0x220)?_0x81edd0={'text':_0x5e994c,'type':_0x58efbb||_0x5779da(0x5cb),..._0x4c1c3b&&{'edited':_0x4c1c3b},..._0x2f21f6&&{'quoted':_0x2f21f6},..._0x5b99d1&&{'reaction':_0x5b99d1}}:_0x81edd0={'text':_0x27cf08,..._0x253b7d,..._0x58efbb===_0x5779da(0x5c4)?{'poll_id':_0x5e994c[_0x5779da(0x319)]['id'],'quoted':_0x5e994c[_0x5779da(0x319)]['id'],'vote':_0x390f01}:{},..._0x58efbb===_0x5779da(0xf4)?{'vote':_0x390f01}:{},'type':_0x58efbb,..._0x4c1c3b&&{'edited':_0x4c1c3b},..._0x2f21f6&&{'quoted':_0x2f21f6},..._0x5b99d1&&{'reaction':_0x5b99d1},...(_0x58efbb===_0x5779da(0x2f5)||_0x58efbb==='pollCreationMessageV2'||_0x58efbb===_0x5779da(0x221)||_0x58efbb==='listMessage')&&{'convertedOptions':_0x81edd0[_0x5779da(0x16b)]}};}return{'messageType':_0x58efbb,'messageContent':_0x5e994c,'message_normalized':_0x81edd0};}catch(_0x4b5f91){console[_0x5779da(0x362)](_0x5779da(0x462),_0x4b5f91);}},this['processingScheduleMessageId']=null,this['lastSend']=0x0,this[_0x259525(0x4d0)]=null,(this[_0x259525(0x22f)](),this[_0x259525(0x3ce)][_0x259525(0x337)]={'count':0x0});}set['instanceName'](_0x2e625c){const _0x2592c5=a0_0x3c797d;if(!_0x2e625c){this[_0x2592c5(0x3ce)][_0x2592c5(0x42e)]=(0x0,hr['v4'])();return;}this['instance']['name']=_0x2e625c,this[_0x2592c5(0xc2)]('status.instance',{'instance':this[_0x2592c5(0x3ce)][_0x2592c5(0x42e)],'status':_0x2592c5(0x2ab)});}get['instanceName'](){const _0x4406a0=a0_0x3c797d;return this[_0x4406a0(0x3ce)]['name'];}get[a0_0x3c797d(0x5c8)](){const _0x58ac60=a0_0x3c797d;return this[_0x58ac60(0x3ce)][_0x58ac60(0x5c8)];}async['getProfileName'](){const _0x49a5c1=a0_0x3c797d;let _0x5e14c6=this['client'][_0x49a5c1(0x602)]?.[_0x49a5c1(0x42e)]??this[_0x49a5c1(0x5a6)][_0x49a5c1(0x602)]?.[_0x49a5c1(0x70b)];if(!_0x5e14c6){if(this[_0x49a5c1(0x134)][_0x49a5c1(0x5a8)](_0x49a5c1(0xd0))[_0x49a5c1(0xe8)]){let _0xd899c3=await N[_0x49a5c1(0x5ce)]()['db'](this[_0x49a5c1(0x134)]['get'](_0x49a5c1(0xd0))[_0x49a5c1(0x10a)]['DB_PREFIX_NAME']+_0x49a5c1(0x242))[_0x49a5c1(0x1af)](this[_0x49a5c1(0x589)])['findOne']({'_id':_0x49a5c1(0x571)});if(_0xd899c3){let _0x39baf1=JSON[_0x49a5c1(0x6cb)](JSON[_0x49a5c1(0xf1)](_0xd899c3),y[_0x49a5c1(0x23e)][_0x49a5c1(0x1ee)]);_0x5e14c6=_0x39baf1['me']?.['name']||_0x39baf1['me']?.[_0x49a5c1(0x70b)];}}else{if((0x0,ve[_0x49a5c1(0x31e)])((0x0,U['join'])(me,this[_0x49a5c1(0x589)],_0x49a5c1(0xc7)))){let _0x5dca98=JSON[_0x49a5c1(0x6cb)]((0x0,ve[_0x49a5c1(0x241)])((0x0,U['join'])(me,this['instanceName'],_0x49a5c1(0xc7)),{'encoding':_0x49a5c1(0x6f9)}));_0x5e14c6=_0x5dca98['me']?.['name']||_0x5dca98['me']?.[_0x49a5c1(0x70b)];}}}return _0x5e14c6;}get[a0_0x3c797d(0x63f)](){const _0x4a283=a0_0x3c797d;return this[_0x4a283(0x3ce)][_0x4a283(0x63f)];}get[a0_0x3c797d(0xef)](){const _0x184418=a0_0x3c797d;return{'pairingCode':this[_0x184418(0x3ce)][_0x184418(0x337)]?.['pairingCode'],'code':this[_0x184418(0x3ce)][_0x184418(0x337)]?.[_0x184418(0x531)],'base64':this[_0x184418(0x3ce)][_0x184418(0x337)]?.[_0x184418(0x2c5)]};}async['loadWebhook'](){const _0x2aec0f=a0_0x3c797d;let _0x5719f0=await this['repository'][_0x2aec0f(0x1e5)][_0x2aec0f(0x2ec)](this[_0x2aec0f(0x589)]);this[_0x2aec0f(0x47d)][_0x2aec0f(0x47b)]=_0x5719f0?.[_0x2aec0f(0x47b)],this[_0x2aec0f(0x47d)]['enabled']=_0x5719f0?.['enabled'],this['localWebhook'][_0x2aec0f(0x152)]=_0x5719f0?.[_0x2aec0f(0x152)],this[_0x2aec0f(0x47d)]['STATUS_INSTANCE']=_0x5719f0?.[_0x2aec0f(0x16d)],this[_0x2aec0f(0x47d)][_0x2aec0f(0x623)]=_0x5719f0?.[_0x2aec0f(0x623)],this['localWebhook']['SEND_MESSAGE']=_0x5719f0?.[_0x2aec0f(0x3ed)],this[_0x2aec0f(0x47d)][_0x2aec0f(0x16c)]=_0x5719f0?.[_0x2aec0f(0x16c)],this[_0x2aec0f(0x47d)][_0x2aec0f(0x5f8)]=_0x5719f0?.['MESSAGES_UPDATE'],this['localWebhook'][_0x2aec0f(0x37e)]=_0x5719f0?.['GROUPS_UPSERT'],this[_0x2aec0f(0x47d)][_0x2aec0f(0x48e)]=_0x5719f0?.[_0x2aec0f(0x48e)],this[_0x2aec0f(0x47d)][_0x2aec0f(0x1d1)]=_0x5719f0?.[_0x2aec0f(0x1d1)],this[_0x2aec0f(0x47d)][_0x2aec0f(0x39e)]=_0x5719f0?.[_0x2aec0f(0x39e)],this[_0x2aec0f(0x47d)][_0x2aec0f(0x6d4)]=_0x5719f0?.[_0x2aec0f(0x6d4)],this[_0x2aec0f(0x47d)][_0x2aec0f(0x4e8)]=_0x5719f0?.[_0x2aec0f(0x4e8)],this[_0x2aec0f(0x47d)][_0x2aec0f(0x21f)]=_0x5719f0?.['CHATS_DELETE'],this['localWebhook'][_0x2aec0f(0x4bb)]=_0x5719f0?.[_0x2aec0f(0x4bb)],this[_0x2aec0f(0x47d)]['CONTACTS_UPSERT']=_0x5719f0?.[_0x2aec0f(0xe4)],this[_0x2aec0f(0x47d)][_0x2aec0f(0x48d)]=_0x5719f0?.[_0x2aec0f(0x48d)],this[_0x2aec0f(0x47d)][_0x2aec0f(0xdc)]=_0x5719f0?.[_0x2aec0f(0xdc)],this[_0x2aec0f(0x47d)]['MESSAGES_SET']=_0x5719f0?.['MESSAGES_SET'],this['localWebhook'][_0x2aec0f(0x17a)]=_0x5719f0?.[_0x2aec0f(0x17a)],this['localWebhook'][_0x2aec0f(0x63d)]=_0x5719f0?.['groups_ignore'];}async[a0_0x3c797d(0x66c)](_0x4b4f16){const _0x24578e=a0_0x3c797d;let _0x53e7f0=[_0x24578e(0x3c1),_0x24578e(0x47b),_0x24578e(0x57a),'local_map',_0x24578e(0x16d),_0x24578e(0x623),_0x24578e(0x5f8),_0x24578e(0x16c),_0x24578e(0x3ed),_0x24578e(0x37e),'GROUPS_UPDATE',_0x24578e(0x1d1),_0x24578e(0x39e),_0x24578e(0x6d4),_0x24578e(0x4e8),'CHATS_DELETE',_0x24578e(0x4bb),_0x24578e(0xe4),_0x24578e(0x48d),_0x24578e(0xdc),_0x24578e(0xbd),_0x24578e(0x17a),_0x24578e(0x63d)],_0x26f87d={};return _0x53e7f0[_0x24578e(0x3b8)](_0x396bd1=>{_0x4b4f16[_0x396bd1]!==void 0x0&&(_0x26f87d[_0x396bd1]=_0x4b4f16[_0x396bd1]);}),await this[_0x24578e(0x4cd)][_0x24578e(0x1e5)][_0x24578e(0x3f0)](_0x26f87d,this[_0x24578e(0x589)]),Object[_0x24578e(0x653)](this['localWebhook'],_0x26f87d),await this[_0x24578e(0x4cd)][_0x24578e(0x1e5)][_0x24578e(0x2ec)](this[_0x24578e(0x589)]);}async[a0_0x3c797d(0x293)](){const _0x411558=a0_0x3c797d;return await this['repository'][_0x411558(0x1e5)][_0x411558(0x2ec)](this[_0x411558(0x589)]);}async[a0_0x3c797d(0xc2)](_0x18fb87,_0x787ba9){const _0x26f2bd=a0_0x3c797d;let _0x2381b3=_0x18fb87[_0x26f2bd(0x6d3)](/[\.-]/gm,'_')['toUpperCase'](),_0x4fa6d2=this[_0x26f2bd(0x47d)][_0x26f2bd(0x57a)]&&(0x0,k['isURL'])(this[_0x26f2bd(0x47d)][_0x26f2bd(0x47b)])?this[_0x26f2bd(0x47d)][_0x26f2bd(0x47b)]+(this[_0x26f2bd(0x47d)]['local_map']?this[_0x26f2bd(0x4f7)][_0x18fb87]:''):null,_0x1162f0=this['localWebhook'][_0x2381b3],_0x20bab6=ie&&ie[_0x26f2bd(0x57a)]&&(0x0,k[_0x26f2bd(0x3ae)])(ie[_0x26f2bd(0x47b)])?ie[_0x26f2bd(0x47b)]+(ie[_0x26f2bd(0x152)]?this[_0x26f2bd(0x4f7)][_0x18fb87]:''):null,_0x2a395d=ie?ie[_0x2381b3]:null;if(_0x1162f0&&_0x4fa6d2)try{await se['default'][_0x26f2bd(0x3f0)]({'baseURL':_0x4fa6d2})[_0x26f2bd(0x128)]('',{'event':_0x18fb87,'instance':this[_0x26f2bd(0x3ce)]['name'],'data':_0x787ba9}),this[_0x26f2bd(0x30c)]['log']('Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x18fb87+':\x20'+_0x4fa6d2);}catch(_0x105c75){this['logger'][_0x26f2bd(0x362)](this[_0x26f2bd(0x589)]+'\x20('+this[_0x26f2bd(0x3ce)][_0x26f2bd(0x5c8)]+_0x26f2bd(0x36f)+{'local':c[_0x26f2bd(0x42e)]+_0x26f2bd(0x110),'message':_0x105c75?.[_0x26f2bd(0x15e)],'hostName':_0x105c75?.[_0x26f2bd(0x102)],'syscall':_0x105c75?.[_0x26f2bd(0x3ef)],'code':_0x105c75?.[_0x26f2bd(0x531)],'error':_0x105c75?.[_0x26f2bd(0x23d)],'stack':_0x105c75?.[_0x26f2bd(0x58c)],'name':_0x105c75?.[_0x26f2bd(0x42e)]});}if(_0x2a395d&&_0x20bab6)try{await se[_0x26f2bd(0x580)][_0x26f2bd(0x3f0)]({'baseURL':_0x20bab6})[_0x26f2bd(0x128)]('',{'event':_0x18fb87,'instance':this[_0x26f2bd(0x3ce)][_0x26f2bd(0x42e)],'data':_0x787ba9}),this[_0x26f2bd(0x30c)][_0x26f2bd(0x247)]('Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x18fb87+':\x20'+_0x20bab6);}catch(_0x575f41){this[_0x26f2bd(0x30c)][_0x26f2bd(0x362)](this[_0x26f2bd(0x589)]+'\x20('+this[_0x26f2bd(0x3ce)][_0x26f2bd(0x5c8)]+'):\x20'+{'local':c[_0x26f2bd(0x42e)]+_0x26f2bd(0x6ed),'message':_0x575f41?.[_0x26f2bd(0x15e)],'hostName':_0x575f41?.[_0x26f2bd(0x102)],'syscall':_0x575f41?.['syscall'],'code':_0x575f41?.[_0x26f2bd(0x531)],'error':_0x575f41?.[_0x26f2bd(0x23d)],'stack':_0x575f41?.[_0x26f2bd(0x58c)],'name':_0x575f41?.[_0x26f2bd(0x42e)]});}}async[a0_0x3c797d(0x53c)]({qr:_0x51e70f,connection:_0x5ce438,lastDisconnect:_0x597309}){const _0x53f795=a0_0x3c797d;if(_0x51e70f){if(this[_0x53f795(0x3ce)]['qrcode'][_0x53f795(0x279)]===mo)return this[_0x53f795(0xc2)](_0x53f795(0x12a),{'message':_0x53f795(0xa8),'statusCode':y['DisconnectReason'][_0x53f795(0x2b8)]}),this[_0x53f795(0x4f5)]={'state':_0x53f795(0x5bf),'statusReason':y[_0x53f795(0x449)][_0x53f795(0x4c2)]},this[_0x53f795(0xc2)](_0x53f795(0x6f7),{'instance':this['instance'][_0x53f795(0x42e)],...this[_0x53f795(0x4f5)]}),this[_0x53f795(0xc2)](_0x53f795(0x2c3),{'instance':this[_0x53f795(0x3ce)][_0x53f795(0x42e)],'status':_0x53f795(0x16e)}),this[_0x53f795(0x4cd)][_0x53f795(0x46d)][_0x53f795(0x3f0)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x53f795(0x38d)]()},this[_0x53f795(0x3ce)][_0x53f795(0x42e)]),this['endSession']=!0x0,this[_0x53f795(0x432)][_0x53f795(0x219)](_0x53f795(0x25d),this['instance']['name']);this[_0x53f795(0x3ce)][_0x53f795(0x337)][_0x53f795(0x279)]++;let _0x43e66e={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x53f795(0x1eb),'dark':_0x53f795(0x3d5)}};fr[_0x53f795(0x580)][_0x53f795(0x59f)](_0x51e70f,_0x43e66e,(_0x5c40bd,_0x43feca)=>{const _0x5a65bb=_0x53f795;if(_0x5c40bd){this['logger']['error'](this[_0x5a65bb(0x589)]+'\x20('+this[_0x5a65bb(0x3ce)]['wuid']+_0x5a65bb(0x62f)+(_0x5c40bd instanceof Error?_0x5c40bd[_0x5a65bb(0x15e)]:JSON[_0x5a65bb(0xf1)](_0x5c40bd,null,0x2)));return;}this[_0x5a65bb(0x3ce)][_0x5a65bb(0x337)][_0x5a65bb(0x2c5)]=_0x43feca,this[_0x5a65bb(0x3ce)][_0x5a65bb(0x337)][_0x5a65bb(0x531)]=_0x51e70f,this[_0x5a65bb(0xc2)](_0x5a65bb(0x12a),{'qrcode':{'instance':this[_0x5a65bb(0x3ce)][_0x5a65bb(0x42e)],'pairingCode':this[_0x5a65bb(0x3ce)][_0x5a65bb(0x337)][_0x5a65bb(0x600)],'code':_0x51e70f,'base64':_0x43feca}});}),this['phoneNumber']?this[_0x53f795(0x3ce)][_0x53f795(0x337)]['pairingCode']=await this[_0x53f795(0x5a6)][_0x53f795(0xe0)](this[_0x53f795(0x5ff)]):this[_0x53f795(0x3ce)][_0x53f795(0x337)][_0x53f795(0x600)]=null,yr['default'][_0x53f795(0x52e)](_0x51e70f,{'small':!0x0},_0x561349=>this['logger'][_0x53f795(0x247)]('\x0a{\x20instance:\x20'+this[_0x53f795(0x3ce)][_0x53f795(0x42e)]+_0x53f795(0x355)+this['instance'][_0x53f795(0x337)][_0x53f795(0x279)]+_0x53f795(0x3cb)+this[_0x53f795(0x3ce)][_0x53f795(0x337)][_0x53f795(0x600)]+_0x53f795(0x601)+_0x561349));}if(_0x5ce438&&(this[_0x53f795(0x4f5)]={'state':_0x5ce438,'statusReason':_0x597309?.[_0x53f795(0x362)]?.[_0x53f795(0x67a)]?.[_0x53f795(0x475)]??0xc8},this[_0x53f795(0xc2)](_0x53f795(0x6f7),{'instance':this[_0x53f795(0x3ce)][_0x53f795(0x42e)],...this[_0x53f795(0x4f5)]})),_0x5ce438===_0x53f795(0x137)){if(this[_0x53f795(0x6a4)]++,this[_0x53f795(0x691)][_0x53f795(0xab)](Date[_0x53f795(0x38d)]()),this[_0x53f795(0x691)]=this[_0x53f795(0x691)]['filter'](_0x2e748d=>Date[_0x53f795(0x38d)]()-_0x2e748d<this[_0x53f795(0x6de)]),_0x597309['error']?.['output']?.[_0x53f795(0x475)]!==y['DisconnectReason'][_0x53f795(0x3c0)]&&this['reconnectTimestamps'][_0x53f795(0x234)]<=this[_0x53f795(0x568)])await this[_0x53f795(0x28a)]();else{this[_0x53f795(0xc2)]('status.instance',{'instance':this['instance'][_0x53f795(0x42e)],'status':_0x53f795(0x16e)}),this[_0x53f795(0x224)]=!0x1,this[_0x53f795(0x4cd)]['webhook'][_0x53f795(0x405)](this[_0x53f795(0x589)]),this[_0x53f795(0x4cd)][_0x53f795(0x46d)][_0x53f795(0x3f0)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x53f795(0x38d)]()},this['instance'][_0x53f795(0x42e)]);try{this[_0x53f795(0x30c)]['verbose'](this[_0x53f795(0x589)]+'\x20('+this['instance'][_0x53f795(0x5c8)]+_0x53f795(0x2f9));let _0x1d42bd=await this[_0x53f795(0x4cd)][_0x53f795(0x15e)][_0x53f795(0x52a)](this[_0x53f795(0x3ce)][_0x53f795(0x5c8)]);_0x1d42bd[_0x53f795(0xf2)]?this['logger'][_0x53f795(0x5ba)](this[_0x53f795(0x589)]+'\x20('+this[_0x53f795(0x3ce)][_0x53f795(0x5c8)]+_0x53f795(0x6c3)):console['error'](_0x53f795(0x118),_0x1d42bd[_0x53f795(0x362)]);}catch(_0x47cb25){console[_0x53f795(0x362)](_0x53f795(0x5a2),_0x47cb25);}this[_0x53f795(0x3a2)]!==null&&(this[_0x53f795(0x30c)][_0x53f795(0x5ba)](this[_0x53f795(0x589)]+'\x20('+this['instance'][_0x53f795(0x5c8)]+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x53f795(0x3a2)]),this[_0x53f795(0x3a2)]=null),this['logger']['verbose'](this[_0x53f795(0x589)]+'\x20('+this[_0x53f795(0x3ce)][_0x53f795(0x5c8)]+'):\x20Limpando\x20AutomateSystem'),this[_0x53f795(0x6e6)]=null,this[_0x53f795(0x432)][_0x53f795(0x219)](_0x53f795(0x6c2),this['instance'][_0x53f795(0x42e)],_0x53f795(0x60a)),this[_0x53f795(0x5a6)]?.['ws']?.[_0x53f795(0x137)](),this['client']['end'](new Error(_0x53f795(0x3db)));}}if(_0x5ce438==='open'){this['resetReconnectionVariables'],this['instance']['wuid']=this['client'][_0x53f795(0x602)]['id'][_0x53f795(0x6d3)](/:\d+/,'')[_0x53f795(0x6d3)](_0x53f795(0xc1),''),this['instance'][_0x53f795(0x63f)]=(await this[_0x53f795(0x1a7)](this[_0x53f795(0x3ce)][_0x53f795(0x5c8)]+_0x53f795(0xc1)))[_0x53f795(0x63f)],this['repository']['auth'][_0x53f795(0x3f0)]({'online':!0x0,'owner':this[_0x53f795(0x3ce)][_0x53f795(0x5c8)],'lastDisconnect':null},this[_0x53f795(0x3ce)]['name']);let _0xbbcbf0=_0x53f795(0x4a5)+this['instance'][_0x53f795(0x5c8)],_0x55cf6b=0x28,_0x1b4678=Math[_0x53f795(0x3ee)]((_0x55cf6b-_0xbbcbf0[_0x53f795(0x234)])/0x2),_0x203998='\x20'[_0x53f795(0x707)](_0x1b4678),_0x312c6e=_0x53f795(0x5c7),_0x3aedb0=_0x53f795(0x5a4)+this[_0x53f795(0x3ce)][_0x53f795(0x42e)],_0x3f71f4=(''+_0x203998+_0xbbcbf0+_0x203998)[_0x53f795(0x2ad)](_0x55cf6b,'\x20'),_0x590717=(''+_0x203998+_0x312c6e+_0x203998)[_0x53f795(0x2ad)](_0x55cf6b,'\x20'),_0x21d9c7=(''+_0x203998+_0x3aedb0+_0x203998)[_0x53f795(0x2ad)](_0x55cf6b,'\x20'),_0x228137=Math[_0x53f795(0x590)](_0x3f71f4[_0x53f795(0x234)],_0x590717[_0x53f795(0x234)],_0x21d9c7['length']),_0xdbe4e0=_0x3f71f4[_0x53f795(0x2ad)](_0x228137,'\x20'),_0x1a5a08=_0x590717['padEnd'](_0x228137,'\x20'),_0xce99d8=_0x21d9c7[_0x53f795(0x2ad)](_0x228137,'\x20');this[_0x53f795(0x30c)][_0x53f795(0x598)]((_0x53f795(0x100)+'─'[_0x53f795(0x707)](_0x228137)+_0x53f795(0x424)+_0x1a5a08+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0xce99d8+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0xdbe4e0+_0x53f795(0x5df)+'─'[_0x53f795(0x707)](_0x228137)+'┘')[_0x53f795(0x6d3)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0x53f795(0x224)]=!0x0;}}[a0_0x3c797d(0x2a4)](){const _0x3e2047=a0_0x3c797d;this['reconnectAttempts']=0x0,this[_0x3e2047(0x691)]=[];}async[a0_0x3c797d(0x207)](_0x249008,_0x36c21a=!0x1){const _0x376dea=a0_0x3c797d;try{let _0xf735bf=await this[_0x376dea(0x4cd)][_0x376dea(0x15e)][_0x376dea(0x2ec)]({'where':{'_id':_0x249008['id']}},this[_0x376dea(0x3ce)][_0x376dea(0x5c8)]);return _0x36c21a?_0xf735bf[0x0]:_0xf735bf[0x0]['message'];}catch{return{'conversation':''};}}[a0_0x3c797d(0x22f)](){const _0x3b5397=a0_0x3c797d;let _0x5de076=this[_0x3b5397(0x134)][_0x3b5397(0x5a8)]('STORE'),_0x28569c=this[_0x3b5397(0x134)][_0x3b5397(0x5a8)](_0x3b5397(0xd0));_0x5de076?.[_0x3b5397(0x175)]&&!_0x28569c[_0x3b5397(0xe8)]&&setInterval(()=>{const _0x29bf38=_0x3b5397;try{for(let [_0x280cce,_0x1850d1]of Object[_0x29bf38(0x166)](_0x5de076))_0x1850d1===!0x0&&(0x0,Dt[_0x29bf38(0x4e6)])(_0x29bf38(0x262)+(0x0,U['join'])(this['storePath'],_0x280cce[_0x29bf38(0x6a6)](),this['instance'][_0x29bf38(0x5c8)])+_0x29bf38(0x59a));}catch{}},(_0x5de076?.[_0x3b5397(0x175)]??0xe10)*0x3e8);}async[a0_0x3c797d(0x6f5)](){const _0x2c332d=a0_0x3c797d;let _0x269ec5=this[_0x2c332d(0x134)][_0x2c332d(0x5a8)]('DATABASE'),_0x39e2a2=this['configService'][_0x2c332d(0x5a8)](_0x2c332d(0x578));return _0x39e2a2?.[_0x2c332d(0xe8)]?await ys(_0x39e2a2,this[_0x2c332d(0x3ce)][_0x2c332d(0x42e)]):_0x269ec5[_0x2c332d(0xe8)]?await fs(this[_0x2c332d(0x3ce)][_0x2c332d(0x42e)]):await(0x0,y['useMultiFileAuthState'])((0x0,U[_0x2c332d(0x530)])(me,this[_0x2c332d(0x3ce)][_0x2c332d(0x42e)]));}async[a0_0x3c797d(0x195)](){const _0x4e04bf=a0_0x3c797d;let _0x4ad0e2=()=>Math[_0x4e04bf(0x3ee)](Math[_0x4e04bf(0x3c3)]()*0x2711)+0x7d0,_0x3a5f8b=async()=>{const _0x43140c=_0x4e04bf;if(!this[_0x43140c(0x224)]){this[_0x43140c(0x30c)][_0x43140c(0x5ba)](_0x43140c(0x1d2)),this['isRunning']=!0x1;return;}if(this[_0x43140c(0x3ce)]['wuid']&&this[_0x43140c(0x6e6)]&&this['delayMessage']!==null&&this[_0x43140c(0x3a2)]!==void 0x0){let _0x249df0=Math['round'](this[_0x43140c(0x3a2)]/0xea60);this['logger'][_0x43140c(0x5ba)](this[_0x43140c(0x589)]+'\x20('+this[_0x43140c(0x3ce)]['wuid']+_0x43140c(0x346)+_0x249df0+_0x43140c(0x228)),this[_0x43140c(0x694)]=!0x1;return;}else this[_0x43140c(0x3ce)]['wuid']&&(this[_0x43140c(0x30c)][_0x43140c(0x5ba)](this[_0x43140c(0x589)]+'\x20('+this[_0x43140c(0x3ce)]['wuid']+_0x43140c(0x57f)),this[_0x43140c(0x30c)][_0x43140c(0x5ba)](this[_0x43140c(0x589)]+'\x20('+this[_0x43140c(0x3ce)][_0x43140c(0x5c8)]+'):\x20Dados\x20migrados\x20com\x20sucesso'),this[_0x43140c(0x6e6)]||await this[_0x43140c(0x469)](),(this[_0x43140c(0x3a2)]===null||this[_0x43140c(0x3a2)]===void 0x0)&&await this[_0x43140c(0x2a7)]());if(this[_0x43140c(0x694)]){let _0x4bab66=_0x4ad0e2();this[_0x43140c(0x30c)][_0x43140c(0x5ba)](this['instanceName']+_0x43140c(0x59d)+_0x4bab66/0x3e8+_0x43140c(0x248)),setTimeout(_0x3a5f8b,_0x4bab66);}};if(this[_0x4e04bf(0x694)])return;this['isRunning']=!0x0;let _0xa80e9a=_0x4ad0e2();setTimeout(_0x3a5f8b,_0xa80e9a);}async[a0_0x3c797d(0x31f)](_0x128a73,_0x4fe0e9,_0x3cc69e,_0x32cbf7,_0x39e57a){const _0x1cc4ad=a0_0x3c797d;this[_0x1cc4ad(0x30c)]['verbose'](_0x1cc4ad(0x1b5));try{let _0x241752={'host':_0x128a73,'port':parseInt(_0x4fe0e9),'protocol':_0x3cc69e};_0x32cbf7&&_0x39e57a&&(_0x241752={..._0x241752,'auth':{'username':_0x32cbf7,'password':_0x39e57a}});let _0x1f68f8=[_0x1cc4ad(0x12f),_0x1cc4ad(0x6dc),_0x1cc4ad(0x26c)];for(let _0x1998b4 of _0x1f68f8)try{let _0x51f07a=await se[_0x1cc4ad(0x580)]['get'](_0x1998b4,{'proxy':_0x241752}),_0x2e282c;return _0x1998b4[_0x1cc4ad(0x129)]('jsonip.com')||_0x1998b4[_0x1cc4ad(0x129)](_0x1cc4ad(0xaf))?_0x2e282c=_0x51f07a['data']['ip']:_0x1998b4[_0x1cc4ad(0x129)](_0x1cc4ad(0x1ef))&&(_0x2e282c=_0x51f07a[_0x1cc4ad(0x43c)]['match'](/\d+\.\d+\.\d+\.\d+/)[0x0]),this[_0x1cc4ad(0x30c)][_0x1cc4ad(0x5ba)]('testProxy\x20response\x20from\x20'+_0x1998b4+':\x20'+_0x2e282c),!0x0;}catch(_0x469f4e){this[_0x1cc4ad(0x30c)][_0x1cc4ad(0x362)](_0x1cc4ad(0x5d8)+_0x1998b4+_0x1cc4ad(0x1de)+_0x469f4e);}return!0x1;}catch(_0x30043d){return this['logger'][_0x1cc4ad(0x362)](_0x1cc4ad(0x4ab)+_0x30043d),_0x30043d[_0x1cc4ad(0x619)]?(this[_0x1cc4ad(0x30c)][_0x1cc4ad(0x362)](_0x1cc4ad(0x19d)+_0x30043d[_0x1cc4ad(0x619)]['data']),this[_0x1cc4ad(0x30c)][_0x1cc4ad(0x362)](_0x1cc4ad(0x29e)+_0x30043d['response'][_0x1cc4ad(0x3fc)]),this[_0x1cc4ad(0x30c)][_0x1cc4ad(0x362)](_0x1cc4ad(0x6e4)+_0x30043d['response']['headers'])):_0x30043d[_0x1cc4ad(0x670)]?this[_0x1cc4ad(0x30c)][_0x1cc4ad(0x362)](_0x1cc4ad(0x5e5)+_0x30043d['request']):this[_0x1cc4ad(0x30c)][_0x1cc4ad(0x362)](_0x1cc4ad(0x225)+_0x30043d['message']),!0x1;}}async[a0_0x3c797d(0x3e8)](_0x561d81){const _0x3226d0=a0_0x3c797d;if(console['log']('tryProxy'),await this[_0x3226d0(0x31f)](_0x561d81[_0x3226d0(0x67f)],_0x561d81[_0x3226d0(0x5eb)],_0x561d81[_0x3226d0(0x371)],_0x561d81[_0x3226d0(0x6d1)],_0x561d81[_0x3226d0(0x204)])){console[_0x3226d0(0x247)](_0x3226d0(0x3df));let _0x482a46=_0x561d81[_0x3226d0(0x371)]+_0x3226d0(0x1b8)+_0x561d81[_0x3226d0(0x67f)]+':'+_0x561d81[_0x3226d0(0x5eb)];return _0x561d81[_0x3226d0(0x6d1)]&&_0x561d81['password']&&(_0x482a46=_0x561d81[_0x3226d0(0x6d1)]+':'+_0x561d81['password']+'@'+_0x482a46),this[_0x3226d0(0x4cd)][_0x3226d0(0x46d)][_0x3226d0(0x3f0)]({'proxy':_0x482a46},this[_0x3226d0(0x3ce)]['name']),{'agent':new wr[(_0x3226d0(0x28f))](_0x482a46)};}return null;}[a0_0x3c797d(0x1dd)](_0x4f54ba){const _0x25243a=a0_0x3c797d;let _0x3f4f13=_0x4f54ba[_0x25243a(0x6db)](':');if(_0x3f4f13[_0x25243a(0x234)]!==0x4)throw new Error('Formato\x20inválido\x20de\x20proxy');return{'host':_0x3f4f13[0x0],'port':_0x3f4f13[0x1],'username':_0x3f4f13[0x2],'password':_0x3f4f13[0x3],'protocol':_0x25243a(0x51b)};}async[a0_0x3c797d(0x28a)](_0xc9c816,_0xa8002b=!0x0){const _0x34f656=a0_0x3c797d;try{let _0x5596ae={},_0xdb1223=0x0;if(Sr&&_0xa8002b){let _0x381067;try{let _0x143993=(await this[_0x34f656(0x4cd)]['auth'][_0x34f656(0x2ec)](this[_0x34f656(0x589)]))['proxy'];for(_0x143993&&(_0x381067=this['createProxyConfig'](_0x143993)),_0x143993&&bs(_0x381067)&&(_0x5596ae=await this[_0x34f656(0x3e8)](_0x381067),_0x5596ae&&_0xdb1223++);!_0x5596ae&&_0xdb1223<0x3;){let _0x38158e=dr();if(_0x38158e){if(_0x381067=this[_0x34f656(0x1dd)](_0x38158e['host']+':'+_0x38158e[_0x34f656(0x5eb)]+':'+_0x38158e[_0x34f656(0x6d1)]+':'+_0x38158e['password']),bs(_0x381067)){if(_0x5596ae=await this[_0x34f656(0x3e8)](_0x381067),_0x5596ae)break;}else this[_0x34f656(0x30c)][_0x34f656(0x362)](_0x34f656(0x1a6));}_0xdb1223++;}}catch(_0x5cec9b){this['logger'][_0x34f656(0x362)]('Erro\x20ao\x20configurar\x20proxy:\x20'+_0x5cec9b),_0x5596ae={};}!_0x5596ae&&_0xdb1223>=0x3&&(this['logger']['warn'](_0x34f656(0x65f)),_0x5596ae={});}this[_0x34f656(0x208)](),this[_0x34f656(0x3ce)][_0x34f656(0x36d)]=await this['defineAuthState']();let {version:_0x4c89b2}=await(0x0,y[_0x34f656(0x124)])(),_0x44fb9d=[Ms,br,(0x0,Ss[_0x34f656(0x1be)])()];console[_0x34f656(0x247)](_0x34f656(0x27a)),console[_0x34f656(0x247)](_0x5596ae);let _0x40e40c={..._0x5596ae,'auth':{'creds':this['instance'][_0x34f656(0x36d)][_0x34f656(0x608)][_0x34f656(0x571)],'keys':(0x0,y['makeCacheableSignalKeyStore'])(this['instance'][_0x34f656(0x36d)][_0x34f656(0x608)][_0x34f656(0x4e5)],(0x0,At[_0x34f656(0x580)])({'level':_0x34f656(0x362)}))},'logger':(0x0,At[_0x34f656(0x580)])({'level':_0x34f656(0x362)}),'printQRInTerminal':!0x1,'browser':_0xc9c816?[_0x34f656(0x708),Ms,(0x0,Ss[_0x34f656(0x1be)])()]:_0x44fb9d,'version':_0x4c89b2,'retryRequestDelayMs':0xfa,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x19c3de=>await this['getMessage'](_0x19c3de),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x3fb164=>(_0x3fb164[_0x34f656(0x56c)]?.[_0x34f656(0x45a)]==y[_0x34f656(0x1c9)][_0x34f656(0x4dc)][_0x34f656(0x681)][_0x34f656(0x162)][_0x34f656(0x575)]&&(_0x3fb164=JSON['parse'](JSON[_0x34f656(0xf1)](_0x3fb164)),_0x3fb164[_0x34f656(0x56c)][_0x34f656(0x45a)]=y[_0x34f656(0x1c9)]['Message'][_0x34f656(0x681)][_0x34f656(0x162)][_0x34f656(0x6e1)]),_0x3fb164)};return this[_0x34f656(0x2ac)]=!0x1,this[_0x34f656(0x5a6)]=(0x0,y[_0x34f656(0x580)])(_0x40e40c),this[_0x34f656(0x5e2)](),this['phoneNumber']=_0xc9c816,this[_0x34f656(0x5a6)];}catch(_0x50456d){throw this[_0x34f656(0x30c)][_0x34f656(0x362)](this[_0x34f656(0x589)]+'\x20('+this[_0x34f656(0x3ce)][_0x34f656(0x5c8)]+'):\x20'+(_0x50456d instanceof Error?_0x50456d['message']:JSON[_0x34f656(0xf1)](_0x50456d,null,0x2))),new O(_0x50456d?.['toString']());}}[a0_0x3c797d(0x5e2)](){const _0x84f02=a0_0x3c797d;this[_0x84f02(0x5a6)]['ev'][_0x84f02(0x422)](_0x2b45cc=>{const _0x4e021e=_0x84f02;if(!this[_0x4e021e(0x2ac)]){let _0x52a85a=this[_0x4e021e(0x134)][_0x4e021e(0x5a8)]('DATABASE');if(_0x2b45cc[_0x4e021e(0xb9)]){let _0x2aeec0=_0x2b45cc['labels.edit'];this[_0x4e021e(0x27e)]['labels.edit'](_0x2aeec0);}if(_0x2b45cc[_0x4e021e(0x466)]){let _0x20dd78=_0x2b45cc[_0x4e021e(0x466)];this[_0x4e021e(0x27e)][_0x4e021e(0x466)](_0x20dd78);}if(_0x2b45cc[_0x4e021e(0x6f7)]&&this[_0x4e021e(0x53c)](_0x2b45cc[_0x4e021e(0x6f7)]),_0x2b45cc[_0x4e021e(0x368)]&&this[_0x4e021e(0x3ce)][_0x4e021e(0x36d)]['saveCreds'](),_0x2b45cc[_0x4e021e(0x702)]){let _0x5cabce=_0x2b45cc[_0x4e021e(0x702)];this[_0x4e021e(0x27e)]['messaging-history.set'](_0x5cabce,_0x52a85a);}if(_0x2b45cc[_0x4e021e(0x605)]){let _0x27b83c=_0x2b45cc[_0x4e021e(0x605)];this[_0x4e021e(0x27e)][_0x4e021e(0x605)](_0x27b83c,_0x52a85a);}if(_0x2b45cc['messages.update']){let _0xe862d1=_0x2b45cc[_0x4e021e(0x29a)];_0xe862d1[_0x4e021e(0x3b8)](_0x4fd9b4=>{const _0x2567d5=_0x4e021e;if(gr[_0x4fd9b4['key']['id']]){this[_0x2567d5(0x5a6)]['ev'][_0x2567d5(0x219)](_0x2567d5(0x605),{'messages':[_0x4fd9b4],'type':_0x2567d5(0x44d)}),delete gr[_0x4fd9b4[_0x2567d5(0x2d3)]['id']];return;}}),this[_0x4e021e(0x27e)][_0x4e021e(0x29a)](_0xe862d1,_0x52a85a);}if(_0x2b45cc['presence.update']){let _0x9628=_0x2b45cc[_0x4e021e(0x705)];if(this[_0x4e021e(0x47d)]?.[_0x4e021e(0x63d)]&&_0x9628['id'][_0x4e021e(0x129)](_0x4e021e(0x287)))return;this[_0x4e021e(0xc2)](_0x4e021e(0x705),_0x9628);}if(!this[_0x4e021e(0x47d)]?.['groups_ignore']){if(_0x2b45cc['groups.upsert']){let _0x5abc19=_0x2b45cc[_0x4e021e(0x1ce)];this['groupHandler']['groups.upsert'](_0x5abc19);}if(_0x2b45cc[_0x4e021e(0x69c)]){let _0xa264cf=_0x2b45cc[_0x4e021e(0x69c)];this[_0x4e021e(0x1ff)][_0x4e021e(0x69c)](_0xa264cf);}if(_0x2b45cc[_0x4e021e(0x457)]){let _0x47e6c5=_0x2b45cc[_0x4e021e(0x457)];this[_0x4e021e(0x1ff)][_0x4e021e(0x457)](_0x47e6c5);}}if(_0x2b45cc['chats.upsert']){let _0x17a96c=_0x2b45cc[_0x4e021e(0x1b2)];this[_0x4e021e(0x6da)]['chats.upsert'](_0x17a96c,_0x52a85a);}if(_0x2b45cc[_0x4e021e(0x193)]){let _0x171202=_0x2b45cc[_0x4e021e(0x193)];this[_0x4e021e(0x6da)][_0x4e021e(0x193)](_0x171202,_0x52a85a);}if(_0x2b45cc['chats.delete']){let _0x5c6afe=_0x2b45cc['chats.delete'];this[_0x4e021e(0x6da)][_0x4e021e(0x344)](_0x5c6afe);}if(_0x2b45cc[_0x4e021e(0x5b8)]){let _0x14dd7c=_0x2b45cc[_0x4e021e(0x5b8)];this[_0x4e021e(0x1ba)]['contacts.upsert'](_0x14dd7c,_0x52a85a);}if(_0x2b45cc['contacts.update']){let _0x17bc19=_0x2b45cc[_0x4e021e(0x3f7)];this[_0x4e021e(0x1ba)][_0x4e021e(0x3f7)](_0x17bc19,_0x52a85a);}}});}[a0_0x3c797d(0x685)](_0x5a5bc3){let _0x2645ff=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x5a5bc3);if(_0x2645ff&&_0x2645ff[0x1]==='55'){let _0x3b2e04=_0x2645ff[0x2],_0x17973d=_0x2645ff[0x3],_0x1eeb96=_0x2645ff[0x4];if(_0x3b2e04>='31'&&_0x17973d==='9')return _0x2645ff[0x1]+_0x3b2e04+_0x1eeb96;}return _0x5a5bc3;}[a0_0x3c797d(0x373)](_0x1dfa94){const _0x15ee18=a0_0x3c797d;return _0x1dfa94[_0x15ee18(0x129)](_0x15ee18(0x287))||_0x1dfa94[_0x15ee18(0x129)](_0x15ee18(0xc1))||_0x1dfa94['includes']('@broadcast')?_0x1dfa94:(_0x1dfa94=_0x1dfa94?.['replace'](/\s/g,'')['replace'](/\+/g,'')[_0x15ee18(0x6d3)](/\(/g,'')[_0x15ee18(0x6d3)](/\)/g,'')[_0x15ee18(0x6db)](/\:/)[0x0][_0x15ee18(0x6db)]('@')[0x0],_0x1dfa94[_0x15ee18(0x234)]>=0x12?(_0x1dfa94=_0x1dfa94[_0x15ee18(0x6d3)](/[^\d-]/g,''),_0x1dfa94+'@g.us'):(_0x1dfa94=_0x1dfa94[_0x15ee18(0x6d3)](/\D/g,''),this[_0x15ee18(0x685)](_0x1dfa94)+'@s.whatsapp.net'));}async['updatePresence'](_0x5f2233){const _0x5c57c=a0_0x3c797d;let _0x2aea46=this[_0x5c57c(0x373)](_0x5f2233[_0x5c57c(0x406)]),_0x3bfa8c=(await this['whatsappNumber']({'numbers':[_0x2aea46]}))[0x0];if(!_0x3bfa8c[_0x5c57c(0x1a4)]&&!(0x0,y[_0x5c57c(0x6f8)])(_0x3bfa8c[_0x5c57c(0x244)]))throw new m(_0x3bfa8c);let _0x50b5c7=(0x0,y[_0x5c57c(0x6f8)])(_0x2aea46)?_0x2aea46:_0x3bfa8c[_0x5c57c(0x244)];if((0x0,y[_0x5c57c(0x6f8)])(_0x50b5c7))try{await this['client'][_0x5c57c(0x258)](_0x50b5c7);}catch{throw new F(_0x5c57c(0x14e));}try{return await this[_0x5c57c(0x5a6)]['presenceSubscribe'](_0x50b5c7),await this['client']['sendPresenceUpdate'](_0x5f2233[_0x5c57c(0x50c)],_0x2aea46),{'status':0xc8,'presence':_0x5f2233[_0x5c57c(0x50c)]};}catch(_0x32187a){throw new m(_0x32187a[_0x5c57c(0x509)]());}}async['profilePicture'](_0x2a4c99){const _0x209df5=a0_0x3c797d;let _0x5575e0=this[_0x209df5(0x373)](_0x2a4c99);try{return{'wuid':_0x5575e0,'profilePictureUrl':await this['client'][_0x209df5(0x63f)](_0x5575e0,'image')};}catch{return{'wuid':_0x5575e0,'profilePictureUrl':null};}}async[a0_0x3c797d(0x2e4)](_0x5df12b,_0x4d05e2,_0x37e8e2){const _0x1bb644=a0_0x3c797d;_0x37e8e2||(_0x37e8e2={});let _0xe71b8=(await this[_0x1bb644(0x70e)]({'numbers':[_0x5df12b]}))[0x0];if(!_0xe71b8[_0x1bb644(0x1a4)]&&!(0x0,y[_0x1bb644(0x6f8)])(_0xe71b8['jid'])&&!_0xe71b8[_0x1bb644(0x244)]['includes'](_0x1bb644(0x1aa)))throw new m(_0xe71b8);let _0x236628=_0xe71b8['jid'];try{_0x37e8e2?.[_0x1bb644(0x316)]&&(await this['client'][_0x1bb644(0x585)](_0x236628),await this[_0x1bb644(0x5a6)][_0x1bb644(0x3e5)](_0x37e8e2?.['presence']??'composing',_0x236628),await(0x0,y[_0x1bb644(0x316)])(_0x37e8e2[_0x1bb644(0x316)]),await this['client'][_0x1bb644(0x3e5)](_0x1bb644(0x56b),_0x236628));let _0x271121=_0x37e8e2?.[_0x1bb644(0x1d9)]!=!0x1?void 0x0:!0x1,_0x29b74f;if(_0x37e8e2?.[_0x1bb644(0x391)]){let _0x215fa8=_0x37e8e2?.[_0x1bb644(0x391)],_0x456f22=_0x215fa8?.[_0x1bb644(0x15e)]?_0x215fa8:await this[_0x1bb644(0x207)](_0x215fa8[_0x1bb644(0x2d3)],!0x0);if(!_0x456f22)throw'Message\x20not\x20found';_0x29b74f=_0x456f22;}let _0x124799;if((0x0,y[_0x1bb644(0x6f8)])(_0x236628))try{let _0x2d671f=await this[_0x1bb644(0x5a6)][_0x1bb644(0x258)](_0x236628);if(!_0x2d671f)throw new F(_0x1bb644(0x14e));_0x37e8e2?.[_0x1bb644(0x253)]&&(_0x37e8e2[_0x1bb644(0x253)]?.['everyOne']?_0x124799=_0x2d671f[_0x1bb644(0x3d7)][_0x1bb644(0x2a0)](_0xfddeb8=>_0xfddeb8['id']):_0x37e8e2['mentions']?.[_0x1bb644(0x227)]?.[_0x1bb644(0x234)]&&(_0x124799=_0x37e8e2['mentions'][_0x1bb644(0x227)][_0x1bb644(0x2a0)](_0x4e3960=>{let _0xae83f6=this['createJid'](_0x4e3960);return(0x0,y['isJidGroup'])(_0xae83f6)?null:_0xae83f6;})));}catch{throw new F(_0x1bb644(0x14e));}let _0x16c90f=await((async()=>{const _0x145c35=_0x1bb644;let _0x377a23={'quoted':_0x29b74f};if(!_0x4d05e2['audio']&&!_0x4d05e2[_0x145c35(0x153)]&&!_0x4d05e2[_0x145c35(0x4ea)]&&!_0x4d05e2[_0x145c35(0x5cb)]&&_0x236628!==_0x145c35(0x4d8)&&!_0x4d05e2[_0x145c35(0x6b8)])return await this[_0x145c35(0x5a6)]['sendMessage'](_0x236628,{'forward':{'key':{'remoteJid':this[_0x145c35(0x3ce)]['wuid'],'fromMe':!0x0},'message':_0x4d05e2},'mentions':_0x124799},_0x377a23);if(_0x4d05e2[_0x145c35(0x5cb)]){let _0x391e8d=_0x4d05e2[_0x145c35(0x5cb)];return _0x37e8e2?.[_0x145c35(0x678)]&&(_0x391e8d=await this[_0x145c35(0x1df)](_0x391e8d,_0x236628)),await this[_0x145c35(0x5a6)][_0x145c35(0x263)](_0x236628,{'text':_0x391e8d,'mentions':_0x124799,'linkPreview':_0x271121},_0x377a23);}return _0x236628==='status@broadcast'?await this['client'][_0x145c35(0x263)](_0x236628,_0x4d05e2[_0x145c35(0x3fc)]['content'],{'backgroundColor':_0x4d05e2[_0x145c35(0x3fc)][_0x145c35(0x10c)]['backgroundColor'],'font':_0x4d05e2[_0x145c35(0x3fc)][_0x145c35(0x10c)][_0x145c35(0x5b0)],'statusJidList':_0x4d05e2[_0x145c35(0x3fc)][_0x145c35(0x10c)][_0x145c35(0x555)]}):await this['client'][_0x145c35(0x263)](_0x236628,_0x4d05e2,_0x377a23);})()),{message_normalized:_0x2bd65d}=this[_0x1bb644(0x596)](_0x16c90f[_0x1bb644(0x15e)],$(_0x16c90f[_0x1bb644(0x15e)]),null),_0x4a6ddd={'_id':_0x16c90f[_0x1bb644(0x2d3)]['id'],'key':_0x16c90f[_0x1bb644(0x2d3)],'pushName':_0x16c90f['pushName'],'message':{..._0x16c90f['message']},'messageType':$(_0x16c90f['message']),'message_normalized':{'key':_0x16c90f['key'],'pushName':_0x16c90f[_0x1bb644(0x562)],'messageTimestamp':_0x16c90f[_0x1bb644(0x34b)]&&_0x16c90f[_0x1bb644(0x34b)]['toString']()[_0x1bb644(0x234)]<0xd?_0x16c90f[_0x1bb644(0x34b)]*0x3e8:_0x16c90f['messageTimestamp']||null,'source':(0x0,y['getDevice'])(_0x16c90f[_0x1bb644(0x2d3)]['id']),..._0x2bd65d},'messageTimestamp':_0x16c90f[_0x1bb644(0x34b)]&&_0x16c90f[_0x1bb644(0x34b)][_0x1bb644(0x509)]()[_0x1bb644(0x234)]<0xd?_0x16c90f[_0x1bb644(0x34b)]*0x3e8:_0x16c90f[_0x1bb644(0x34b)]||null,'owner':this[_0x1bb644(0x3ce)][_0x1bb644(0x5c8)],'source':(0x0,y[_0x1bb644(0x4ad)])(_0x16c90f[_0x1bb644(0x2d3)]['id'])};return this[_0x1bb644(0x30c)]['log'](_0x4a6ddd),this[_0x1bb644(0xc2)]('send.message',_0x4a6ddd),q(this['instanceName'],_0x1bb644(0x56f),{'message':_0x4a6ddd}),this[_0x1bb644(0x55c)](this[_0x1bb644(0x134)][_0x1bb644(0x5a8)](_0x1bb644(0xd0)),_0x4a6ddd,_0x1bb644(0x3ed)),await this[_0x1bb644(0x4cd)][_0x1bb644(0x15e)][_0x1bb644(0x5e0)]([_0x4a6ddd],this['instance'][_0x1bb644(0x5c8)]),_0x16c90f;}catch(_0x3bd89c){throw this[_0x1bb644(0x30c)][_0x1bb644(0x362)](this[_0x1bb644(0x589)]+'\x20('+this[_0x1bb644(0x3ce)][_0x1bb644(0x5c8)]+_0x1bb644(0x36f)+_0x3bd89c[_0x1bb644(0x509)]()),new m(_0x3bd89c[_0x1bb644(0x509)]());}}get[a0_0x3c797d(0x45c)](){const _0x1bc674=a0_0x3c797d;return this[_0x1bc674(0x4f5)];}async['textMessage'](_0x4ae486){const _0x4181ff=a0_0x3c797d;let _0x4eb2c6=pr,_0x4ed5fe=He;return _0x4ed5fe&&this[_0x4181ff(0x589)][_0x4181ff(0x6a6)]()[_0x4181ff(0x129)](_0x4ed5fe[_0x4181ff(0x6a6)]())&&(_0x4ae486[_0x4181ff(0x526)][_0x4181ff(0x3d2)]+='\x0a\x0a'+_0x4eb2c6),await this[_0x4181ff(0x2e4)](_0x4ae486[_0x4181ff(0x406)],{'conversation':_0x4ae486[_0x4181ff(0x526)][_0x4181ff(0x3d2)]},_0x4ae486?.[_0x4181ff(0x27a)]);}async[a0_0x3c797d(0xd9)](_0x2a7ed2){const _0x3d8e8c=a0_0x3c797d;if(!_0x2a7ed2[_0x3d8e8c(0x42a)])throw new m('Type\x20is\x20required');if(!_0x2a7ed2[_0x3d8e8c(0x299)])throw new m(_0x3d8e8c(0x456));if(_0x2a7ed2[_0x3d8e8c(0x2d4)]){let _0x55da30=await this[_0x3d8e8c(0x4cd)][_0x3d8e8c(0x4f1)][_0x3d8e8c(0x2ec)]({'where':{}},this[_0x3d8e8c(0x3ce)][_0x3d8e8c(0x5c8)]);if(!_0x55da30[_0x3d8e8c(0x234)])throw new m(_0x3d8e8c(0x698));_0x2a7ed2[_0x3d8e8c(0x555)]=_0x55da30[_0x3d8e8c(0x12d)](_0x59074f=>_0x59074f[_0x3d8e8c(0x562)])[_0x3d8e8c(0x2a0)](_0x67487c=>_0x67487c[_0x3d8e8c(0x3c1)]);}if(!_0x2a7ed2[_0x3d8e8c(0x555)]?.['length']&&!_0x2a7ed2[_0x3d8e8c(0x2d4)])throw new m('StatusJidList\x20is\x20required');if(_0x2a7ed2['type']===_0x3d8e8c(0x3d2)){if(!_0x2a7ed2[_0x3d8e8c(0x275)])throw new m(_0x3d8e8c(0x157));if(!_0x2a7ed2['font'])throw new m('Font\x20is\x20required');return{'content':{'text':_0x2a7ed2[_0x3d8e8c(0x299)]},'option':{'backgroundColor':_0x2a7ed2['backgroundColor'],'font':_0x2a7ed2['font'],'statusJidList':_0x2a7ed2[_0x3d8e8c(0x555)]}};}if(_0x2a7ed2[_0x3d8e8c(0x42a)]===_0x3d8e8c(0x5d1))return{'content':{'image':{'url':_0x2a7ed2[_0x3d8e8c(0x299)]},'caption':_0x2a7ed2[_0x3d8e8c(0x5d2)]},'option':{'statusJidList':_0x2a7ed2[_0x3d8e8c(0x555)]}};if(_0x2a7ed2['type']===_0x3d8e8c(0x433))return{'content':{'video':{'url':_0x2a7ed2[_0x3d8e8c(0x299)]},'caption':_0x2a7ed2['caption']},'option':{'statusJidList':_0x2a7ed2['statusJidList']}};if(_0x2a7ed2[_0x3d8e8c(0x42a)]===_0x3d8e8c(0x6b8)){this[_0x3d8e8c(0x30c)][_0x3d8e8c(0x5ba)](_0x3d8e8c(0x3e9)),this[_0x3d8e8c(0x30c)][_0x3d8e8c(0x5ba)](_0x3d8e8c(0x6ec));let _0x58428d=await this['convertaudio'](_0x2a7ed2[_0x3d8e8c(0x299)]);if(typeof _0x58428d==_0x3d8e8c(0x220)){this[_0x3d8e8c(0x30c)][_0x3d8e8c(0x5ba)](_0x3d8e8c(0x309));let _0x999edc=L[_0x3d8e8c(0x241)](_0x58428d)[_0x3d8e8c(0x509)](_0x3d8e8c(0x2c5)),_0x191c5d={'content':{'audio':Buffer[_0x3d8e8c(0x6fc)](_0x999edc,_0x3d8e8c(0x2c5)),'ptt':!0x0,'mimetype':_0x3d8e8c(0xf0)},'option':{'statusJidList':_0x2a7ed2[_0x3d8e8c(0x555)]}};return L[_0x3d8e8c(0x4fc)](_0x58428d),_0x191c5d;}else throw new O(_0x58428d);}throw new m('Type\x20not\x20found');}async[a0_0x3c797d(0x639)](_0xd4711a){const _0x407b26=a0_0x3c797d;return await this[_0x407b26(0x2e4)](_0x407b26(0x4d8),{'status':await this[_0x407b26(0xd9)](_0xd4711a[_0x407b26(0x639)])});}async['prepareMediaMessage'](_0x6e4998){const _0x425762=a0_0x3c797d;try{let _0x1f5109=await(0x0,y[_0x425762(0x5f3)])({[_0x6e4998[_0x425762(0x13d)]]:(0x0,k['isURL'])(_0x6e4998[_0x425762(0x23b)])?{'url':_0x6e4998[_0x425762(0x23b)]}:Buffer[_0x425762(0x6fc)](_0x6e4998[_0x425762(0x23b)],_0x425762(0x2c5))},{'upload':this[_0x425762(0x5a6)]['waUploadToServer']}),_0x381b4e=_0x6e4998[_0x425762(0x13d)]+_0x425762(0x4dc);if(_0x6e4998[_0x425762(0x13d)]===_0x425762(0x616)&&!_0x6e4998[_0x425762(0x37f)]){let _0x283b2b=new RegExp(/.*\/(.+?)\./)['exec'](_0x6e4998[_0x425762(0x23b)]);_0x6e4998[_0x425762(0x37f)]=_0x283b2b?_0x283b2b[0x1]:null;}let _0x5cb3b9=(0x0,k['isURL'])(_0x6e4998['media'])?_0x6e4998['media'][_0x425762(0x6db)]('?')[0x0]:_0x6e4998['media'];this[_0x425762(0x30c)][_0x425762(0x5ba)](_0x425762(0x47e)+_0x5cb3b9);let _0x43bb02;(0x0,k[_0x425762(0x3ae)])(_0x6e4998['media'])?_0x43bb02=(0x0,Ot['getMIMEType'])(_0x5cb3b9):_0x6e4998[_0x425762(0x37f)]&&_0x6e4998[_0x425762(0x37f)][_0x425762(0x129)]('.')?_0x43bb02=(0x0,Ot[_0x425762(0x61c)])(_0x6e4998[_0x425762(0x37f)]):_0x43bb02=(0x0,Ot[_0x425762(0x61c)])(_0x6e4998['media']);let _0x4184fe=pr,_0x5b63ce=He;return _0x5b63ce&&this[_0x425762(0x589)][_0x425762(0x6a6)]()[_0x425762(0x129)](_0x5b63ce[_0x425762(0x6a6)]())&&(_0x6e4998[_0x425762(0x5d2)]+='\x0a\x0a'+_0x4184fe),_0x1f5109[_0x381b4e][_0x425762(0x5d2)]=_0x6e4998?.[_0x425762(0x5d2)],_0x1f5109[_0x381b4e][_0x425762(0x49b)]=_0x43bb02,_0x1f5109[_0x381b4e][_0x425762(0x37f)]=_0x6e4998[_0x425762(0x37f)],_0x6e4998['mediatype']===_0x425762(0x433)&&(_0x1f5109[_0x381b4e][_0x425762(0x52d)]=Uint8Array[_0x425762(0x6fc)]((0x0,ve['readFileSync'])((0x0,U[_0x425762(0x530)])(process[_0x425762(0x252)](),_0x425762(0x394)))),_0x1f5109[_0x381b4e][_0x425762(0x428)]=!0x1),(0x0,y[_0x425762(0x257)])('',{[_0x381b4e]:{..._0x1f5109[_0x381b4e]}},{'userJid':this[_0x425762(0x3ce)]['wuid']});}catch(_0x3f8e60){throw this[_0x425762(0x30c)][_0x425762(0x362)](this[_0x425762(0x589)]+'\x20('+this[_0x425762(0x3ce)]['wuid']+'):\x20'+(_0x3f8e60 instanceof Error?_0x3f8e60[_0x425762(0x15e)]:JSON['stringify'](_0x3f8e60,null,0x2))),new O(_0x3f8e60?.['toString']()||_0x3f8e60);}}async[a0_0x3c797d(0x6cf)](_0x537ca6){const _0x167e4d=a0_0x3c797d;let _0x3ad844=await this['prepareMediaMessage'](_0x537ca6['mediaMessage']);return await this[_0x167e4d(0x2e4)](_0x537ca6[_0x167e4d(0x406)],{..._0x3ad844[_0x167e4d(0x15e)]},_0x537ca6?.[_0x167e4d(0x27a)]);}async['convertToWebP'](_0x4c4f1e,_0x1ade88){const _0x1db8a2=a0_0x3c797d;try{this[_0x1db8a2(0x30c)][_0x1db8a2(0x5ba)](_0x1db8a2(0x303));let _0x52aff7,_0x324df7=_0x1ade88+'-'+new Date()['getTime']();this[_0x1db8a2(0x30c)][_0x1db8a2(0x5ba)](_0x1db8a2(0x40e)+_0x324df7);let _0x550596=''+(0x0,U[_0x1db8a2(0x530)])(this['storePath'],_0x324df7+_0x1db8a2(0x5d9));if(this[_0x1db8a2(0x30c)][_0x1db8a2(0x5ba)]('Output\x20path:\x20'+_0x550596),(0x0,k[_0x1db8a2(0x365)])(_0x4c4f1e)){this[_0x1db8a2(0x30c)][_0x1db8a2(0x5ba)](_0x1db8a2(0x13c));let _0x2db445=_0x4c4f1e['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x226b3c=Buffer[_0x1db8a2(0x6fc)](_0x2db445,_0x1db8a2(0x2c5));_0x52aff7=''+(0x0,U['join'])(this[_0x1db8a2(0x697)],_0x1db8a2(0xb4)+_0x324df7+_0x1db8a2(0x41e)),this[_0x1db8a2(0x30c)][_0x1db8a2(0x5ba)](_0x1db8a2(0x223)+_0x52aff7),await(0x0,It[_0x1db8a2(0x580)])(_0x226b3c)['toFile'](_0x52aff7),this[_0x1db8a2(0x30c)][_0x1db8a2(0x5ba)](_0x1db8a2(0x3e2));}else{this[_0x1db8a2(0x30c)][_0x1db8a2(0x5ba)](_0x1db8a2(0x29b));let _0x398167=new Date()[_0x1db8a2(0x3ad)](),_0x5b980e=_0x4c4f1e+'?timestamp='+_0x398167;this[_0x1db8a2(0x30c)][_0x1db8a2(0x5ba)](_0x1db8a2(0x437)+_0x5b980e);let _0x4f747a=await se[_0x1db8a2(0x580)][_0x1db8a2(0x5a8)](_0x5b980e,{'responseType':_0x1db8a2(0x301)});this[_0x1db8a2(0x30c)][_0x1db8a2(0x5ba)](_0x1db8a2(0x41f));let _0x278727=Buffer[_0x1db8a2(0x6fc)](_0x4f747a['data'],_0x1db8a2(0x40d));_0x52aff7=''+(0x0,U[_0x1db8a2(0x530)])(this['storePath'],_0x1db8a2(0xb4)+_0x324df7+_0x1db8a2(0x41e)),this[_0x1db8a2(0x30c)][_0x1db8a2(0x5ba)](_0x1db8a2(0x223)+_0x52aff7),await(0x0,It[_0x1db8a2(0x580)])(_0x278727)['toFile'](_0x52aff7),this[_0x1db8a2(0x30c)]['verbose']('Image\x20created');}return await(0x0,It[_0x1db8a2(0x580)])(_0x52aff7)[_0x1db8a2(0x1cf)]()[_0x1db8a2(0x632)](_0x550596),this[_0x1db8a2(0x30c)][_0x1db8a2(0x5ba)](_0x1db8a2(0x5c9)),L['unlinkSync'](_0x52aff7),this[_0x1db8a2(0x30c)]['verbose'](_0x1db8a2(0x198)),_0x550596;}catch(_0x4ae7aa){console[_0x1db8a2(0x362)](_0x1db8a2(0x658),_0x4ae7aa instanceof Error?_0x4ae7aa[_0x1db8a2(0x15e)]:JSON[_0x1db8a2(0xf1)](_0x4ae7aa,null,0x2));}}async['mediaSticker'](_0x354880){const _0x24acdb=a0_0x3c797d;let _0xb1b954=await this[_0x24acdb(0x6fd)](_0x354880['stickerMessage'][_0x24acdb(0x5d1)],_0x354880['number']),_0xe42166=await this[_0x24acdb(0x2e4)](_0x354880[_0x24acdb(0x406)],{'sticker':{'url':_0xb1b954}},_0x354880?.['options']);return L[_0x24acdb(0x4fc)](_0xb1b954),this[_0x24acdb(0x30c)][_0x24acdb(0x5ba)](_0x24acdb(0x188)),_0xe42166;}async['audioWhatsapp'](_0x15014d){const _0x501cb2=a0_0x3c797d;if(this[_0x501cb2(0x30c)]['verbose'](_0x501cb2(0x19b)),!_0x15014d[_0x501cb2(0x27a)]?.[_0x501cb2(0x659)]&&_0x15014d[_0x501cb2(0x27a)]?.[_0x501cb2(0x659)]!==!0x1&&(_0x15014d['options'][_0x501cb2(0x659)]=!0x0),_0x15014d[_0x501cb2(0x27a)]?.[_0x501cb2(0x659)]){let _0x3ee44f=await this[_0x501cb2(0x426)](_0x15014d['audioMessage'][_0x501cb2(0x6b8)]);if(typeof _0x3ee44f==_0x501cb2(0x220)){let _0x2af848=L[_0x501cb2(0x241)](_0x3ee44f)[_0x501cb2(0x509)](_0x501cb2(0x2c5)),_0x3cebcc=this[_0x501cb2(0x2e4)](_0x15014d[_0x501cb2(0x406)],{'audio':Buffer['from'](_0x2af848,_0x501cb2(0x2c5)),'ptt':!0x0,'mimetype':'audio/mp4'},{'presence':'recording','delay':_0x15014d?.[_0x501cb2(0x27a)]?.[_0x501cb2(0x316)]});return L[_0x501cb2(0x4fc)](_0x3ee44f),this[_0x501cb2(0x30c)][_0x501cb2(0x5ba)]('Converted\x20audio\x20deleted'),_0x3cebcc;}else throw new O(_0x3ee44f);}return await this[_0x501cb2(0x2e4)](_0x15014d[_0x501cb2(0x406)],{'audio':(0x0,k[_0x501cb2(0x3ae)])(_0x15014d[_0x501cb2(0x4a4)]['audio'])?{'url':_0x15014d[_0x501cb2(0x4a4)]['audio']}:Buffer[_0x501cb2(0x6fc)](_0x15014d[_0x501cb2(0x4a4)]['audio'],'base64'),'ptt':!0x0,'mimetype':_0x501cb2(0x296)},{'presence':_0x501cb2(0x6a3),'delay':_0x15014d?.[_0x501cb2(0x27a)]?.[_0x501cb2(0x316)]});}async['convertaudio'](_0xf6bc28){const _0x423780=a0_0x3c797d;this['logger'][_0x423780(0x5ba)]('Processing\x20audio');let _0x4c30ab,_0x1296fa,_0x73458b=(0x0,Me['v4'])();if(this[_0x423780(0x30c)][_0x423780(0x5ba)](_0x423780(0x5cc)+_0x73458b),(0x0,k['isURL'])(_0xf6bc28)){this[_0x423780(0x30c)][_0x423780(0x5ba)](_0x423780(0x668)),_0x1296fa=''+(0x0,U[_0x423780(0x530)])(this[_0x423780(0x697)],_0x73458b+'.mp4'),_0x4c30ab=''+(0x0,U[_0x423780(0x530)])(this[_0x423780(0x697)],_0x423780(0xb4)+_0x73458b+_0x423780(0x669)),this['logger']['verbose']('Output\x20audio\x20path:\x20'+_0x1296fa),this[_0x423780(0x30c)][_0x423780(0x5ba)](_0x423780(0x33d)+_0x4c30ab);let _0x953092=new Date()[_0x423780(0x3ad)](),_0x4c0f66=_0xf6bc28+_0x423780(0x5fd)+_0x953092;this[_0x423780(0x30c)][_0x423780(0x5ba)](_0x423780(0x21e)+_0x4c0f66);let _0x4fe839=await se[_0x423780(0x580)][_0x423780(0x5a8)](_0x4c0f66,{'responseType':'arraybuffer'});this[_0x423780(0x30c)][_0x423780(0x5ba)]('Getting\x20audio\x20from\x20url'),L['writeFileSync'](_0x4c30ab,_0x4fe839[_0x423780(0x43c)]);}else{this['logger'][_0x423780(0x5ba)]('Audio\x20is\x20base64'),_0x1296fa=''+(0x0,U['join'])(this[_0x423780(0x697)],_0x73458b+_0x423780(0xd8)),_0x4c30ab=''+(0x0,U[_0x423780(0x530)])(this[_0x423780(0x697)],_0x423780(0xb4)+_0x73458b+_0x423780(0x669)),this[_0x423780(0x30c)][_0x423780(0x5ba)](_0x423780(0x574)+_0x1296fa),this[_0x423780(0x30c)]['verbose'](_0x423780(0x33d)+_0x4c30ab);let _0xee171=Buffer[_0x423780(0x6fc)](_0xf6bc28,_0x423780(0x2c5));L[_0x423780(0x61b)](_0x4c30ab,_0xee171),this[_0x423780(0x30c)]['verbose'](_0x423780(0x22a));}return this[_0x423780(0x30c)][_0x423780(0x5ba)](_0x423780(0x6c9)),new Promise((_0x429768,_0x22d22c)=>{const _0x30fbf1=_0x423780;(0x0,Dt[_0x30fbf1(0x499)])(mr['default']['path']+'\x20-i\x20'+_0x4c30ab+_0x30fbf1(0x10d)+_0x1296fa+'\x20-y',_0x4e1474=>{const _0x1c0ce7=_0x30fbf1;L[_0x1c0ce7(0x4fc)](_0x4c30ab),this[_0x1c0ce7(0x30c)]['verbose']('Temp\x20audio\x20deleted'),_0x4e1474&&_0x22d22c(_0x4e1474),this[_0x1c0ce7(0x30c)][_0x1c0ce7(0x5ba)]('Audio\x20converted\x20to\x20mp4'),_0x429768(_0x1296fa);});});}async[a0_0x3c797d(0x21b)](_0x51d56e){const _0x13904b=a0_0x3c797d;let _0x49317f={},_0x419bb4='TEXT';if(_0x51d56e['buttonMessage']?.[_0x13904b(0x6cf)]){_0x419bb4=_0x51d56e[_0x13904b(0x21b)][_0x13904b(0x6cf)]?.['mediatype']['toUpperCase']()??'TEXT',_0x49317f[_0x13904b(0x105)]=_0x419bb4[_0x13904b(0x6a6)]()+'Message';let _0x57a8b1=await this[_0x13904b(0x5cf)](_0x51d56e['buttonMessage'][_0x13904b(0x6cf)]);_0x49317f['message']=_0x57a8b1[_0x13904b(0x15e)][_0x49317f[_0x13904b(0x105)]],_0x49317f[_0x13904b(0x62b)]='*'+_0x51d56e[_0x13904b(0x21b)][_0x13904b(0x274)]+_0x13904b(0x155)+_0x51d56e['buttonMessage'][_0x13904b(0x60c)];}let _0x3f732d={'text':_0x51d56e[_0x13904b(0x21b)][_0x13904b(0x566)][_0x13904b(0x2a0)](_0xa7f29c=>_0xa7f29c[_0x13904b(0x648)]),'ids':_0x51d56e['buttonMessage'][_0x13904b(0x566)]['map'](_0x125caa=>_0x125caa[_0x13904b(0x446)])};if(!(0x0,k[_0x13904b(0x383)])(_0x3f732d['text'])||!(0x0,k[_0x13904b(0x383)])(_0x3f732d[_0x13904b(0x6fe)]))throw new m(_0x13904b(0x551),_0x13904b(0x6e0));return await this[_0x13904b(0x2e4)](_0x51d56e[_0x13904b(0x406)],{'buttonsMessage':{'text':_0x49317f?.[_0x13904b(0x105)]?void 0x0:_0x51d56e[_0x13904b(0x21b)][_0x13904b(0x274)],'contentText':_0x49317f?.[_0x13904b(0x62b)]??_0x51d56e[_0x13904b(0x21b)][_0x13904b(0x60c)],'footerText':_0x51d56e['buttonMessage']?.[_0x13904b(0x34a)],'buttons':_0x51d56e['buttonMessage'][_0x13904b(0x566)][_0x13904b(0x2a0)](_0x2eaa3c=>({'buttonText':{'displayText':_0x2eaa3c[_0x13904b(0x648)]},'buttonId':_0x2eaa3c[_0x13904b(0x446)],'type':0x1})),'headerType':y[_0x13904b(0x1c9)][_0x13904b(0x4dc)][_0x13904b(0x49c)][_0x13904b(0x206)][_0x419bb4],[_0x49317f?.['mediaKey']]:_0x49317f?.[_0x13904b(0x15e)]}},_0x51d56e?.['options']);}async['locationMessage'](_0x587cea){const _0xaa1a45=a0_0x3c797d;return await this[_0xaa1a45(0x2e4)](_0x587cea['number'],{'locationMessage':{'degreesLatitude':_0x587cea[_0xaa1a45(0x3ec)][_0xaa1a45(0x50f)],'degreesLongitude':_0x587cea['locationMessage'][_0xaa1a45(0x42f)],'name':_0x587cea[_0xaa1a45(0x3ec)]?.[_0xaa1a45(0x42e)],'address':_0x587cea[_0xaa1a45(0x3ec)]?.[_0xaa1a45(0x4cb)]}},_0x587cea?.['options']);}async['contactMessage'](_0x5eca31){const _0x1a0ebd=a0_0x3c797d;let _0xd459b9={},_0x4f9c75=_0x4b3b3d=>{const _0x5dace6=a0_0x14cd;let _0x50e9e5=_0x5dace6(0x5f7)+_0x4b3b3d[_0x5dace6(0x6ef)]+_0x5dace6(0x514)+_0x4b3b3d[_0x5dace6(0x6ef)]+'\x0a';_0x4b3b3d[_0x5dace6(0x471)]&&(_0x50e9e5+=_0x5dace6(0x2b1)+_0x4b3b3d[_0x5dace6(0x471)]+';\x0a'),_0x4b3b3d[_0x5dace6(0x643)]&&(_0x50e9e5+=_0x5dace6(0xcd)+_0x4b3b3d['email']+'\x0a'),_0x4b3b3d[_0x5dace6(0x47b)]&&(_0x50e9e5+='URL:'+_0x4b3b3d[_0x5dace6(0x47b)]+'\x0a');let _0x590272='';return _0x4b3b3d[_0x5dace6(0x5ff)]&&_0x4b3b3d['phoneNumber'][_0x5dace6(0x6db)]('|')['forEach']((_0x3eb3f8,_0x2f6414)=>{const _0x3a4bac=_0x5dace6;let _0x1f2304=this[_0x3a4bac(0x373)](_0x3eb3f8)[_0x3a4bac(0x6d3)](_0x3a4bac(0xc1),'');_0x590272+=_0x3a4bac(0x13a)+(_0x2f6414+0x1)+_0x3a4bac(0x38c)+_0x1f2304+':'+_0x3eb3f8+_0x3a4bac(0x21c)+(_0x2f6414+0x1)+_0x3a4bac(0x699);}),_0x50e9e5+=_0x590272+_0x5dace6(0x418),_0x50e9e5;};return _0x5eca31[_0x1a0ebd(0x629)][_0x1a0ebd(0x234)]===0x1?_0xd459b9[_0x1a0ebd(0x629)]={'displayName':_0x5eca31[_0x1a0ebd(0x629)][0x0][_0x1a0ebd(0x6ef)],'vcard':_0x4f9c75(_0x5eca31[_0x1a0ebd(0x629)][0x0])}:_0xd459b9[_0x1a0ebd(0x2f2)]={'displayName':_0x5eca31['contactMessage'][_0x1a0ebd(0x234)]+_0x1a0ebd(0x2aa),'contacts':_0x5eca31[_0x1a0ebd(0x629)][_0x1a0ebd(0x2a0)](_0x53be3b=>({'displayName':_0x53be3b[_0x1a0ebd(0x6ef)],'vcard':_0x4f9c75(_0x53be3b)}))},await this[_0x1a0ebd(0x2e4)](_0x5eca31[_0x1a0ebd(0x406)],{..._0xd459b9},_0x5eca31?.[_0x1a0ebd(0x27a)]);}async[a0_0x3c797d(0x2bf)](_0x483716){const _0x38eed6=a0_0x3c797d;return await this[_0x38eed6(0x2e4)](_0x483716[_0x38eed6(0x2bf)][_0x38eed6(0x2d3)][_0x38eed6(0xb8)],{'reactionMessage':{'key':_0x483716[_0x38eed6(0x2bf)][_0x38eed6(0x2d3)],'text':_0x483716[_0x38eed6(0x2bf)][_0x38eed6(0x68f)]}});}async[a0_0x3c797d(0x70e)](_0x1e0326){const _0x314ac2=a0_0x3c797d;let _0xd906e2=[];for await(let _0x40fdf9 of _0x1e0326[_0x314ac2(0x1d0)]){let _0x23c61c=this['createJid'](_0x40fdf9),_0x189312=!0x1;try{if((0x0,y[_0x314ac2(0x6f8)])(_0x23c61c)){let _0x5742a8=await this[_0x314ac2(0x30f)]({'groupJid':_0x23c61c},'inner');_0xd906e2[_0x314ac2(0xab)](new he(_0x5742a8['metadata']['id'],!!_0x5742a8?.[_0x314ac2(0x22b)]['id'],_0x5742a8?.['metadata'][_0x314ac2(0xb7)])),_0x189312=!!_0x5742a8?.[_0x314ac2(0x22b)]['id'];}else{let _0x11fbcf=(await this[_0x314ac2(0x5a6)][_0x314ac2(0x3be)](_0x23c61c))[0x0];_0xd906e2[_0x314ac2(0xab)](new he(_0x11fbcf['jid'],_0x11fbcf[_0x314ac2(0x1a4)])),_0x189312=_0x11fbcf[_0x314ac2(0x1a4)];}}catch{await this[_0x314ac2(0x2e9)](_0x23c61c,_0x189312),_0xd906e2['push'](new he(_0x40fdf9,!0x1));}}return _0xd906e2;}async['checkAndUpdateChatStatus'](_0x2b2d02,_0x1261e1){const _0x585a8e=a0_0x3c797d;try{await this[_0x585a8e(0x4cd)][_0x585a8e(0x65c)][_0x585a8e(0x2f8)]({'where':{'_id':_0x2b2d02,'imported':!0x0}},this[_0x585a8e(0x3ce)][_0x585a8e(0x5c8)])&&(_0x1261e1?await this[_0x585a8e(0x4cd)][_0x585a8e(0x65c)]['updateOne']({'where':{'_id':_0x2b2d02}},{'imported':!0x1},this[_0x585a8e(0x3ce)]['wuid'],void 0x0,_0x585a8e(0x396)):(await this['repository'][_0x585a8e(0x65c)][_0x585a8e(0x599)](_0x2b2d02,this[_0x585a8e(0x3ce)][_0x585a8e(0x5c8)]),console[_0x585a8e(0x247)]('Chat\x20com\x20ID\x20'+_0x2b2d02+_0x585a8e(0x4eb))));}catch(_0x30c172){console[_0x585a8e(0x362)](_0x585a8e(0x6d0),_0x30c172);}}async[a0_0x3c797d(0x154)](_0x140be5){const _0x8d6b32=a0_0x3c797d;try{let _0x4ddd46=_0x140be5[_0x8d6b32(0xc6)][_0x8d6b32(0x12d)](_0x4d9315=>(0x0,y[_0x8d6b32(0x6f8)])(_0x4d9315['remoteJid'])||(0x0,y['isJidUser'])(_0x4d9315[_0x8d6b32(0xb8)]))[_0x8d6b32(0x2a0)](_0x161472=>({'remoteJid':_0x161472['remoteJid'],'fromMe':_0x161472[_0x8d6b32(0x468)],'id':_0x161472['id']}));await this[_0x8d6b32(0x5a6)][_0x8d6b32(0xc6)](_0x4ddd46);let _0x30d9bd=_0x4ddd46['map'](_0x128cc4=>this[_0x8d6b32(0x4dd)](_0x128cc4,{'status':_0x8d6b32(0x250),'owner':this[_0x8d6b32(0x3ce)][_0x8d6b32(0x5c8)]})),_0xc0218c=_0x4ddd46[_0x8d6b32(0x2a0)](_0xb2b540=>this['repository'][_0x8d6b32(0x65c)][_0x8d6b32(0x119)]({'where':{'_id':_0xb2b540[_0x8d6b32(0xb8)]}},{'unreadcount':0x0},this['instance'][_0x8d6b32(0x5c8)])),[_0x5f22bc,_0x51febd]=await Promise[_0x8d6b32(0x109)]([Promise[_0x8d6b32(0x109)](_0x30d9bd),Promise[_0x8d6b32(0x109)](_0xc0218c)]);return _0x51febd[_0x8d6b32(0x12d)](_0x594a33=>_0x594a33!==null)[_0x8d6b32(0x3b8)](_0x207e18=>{const _0x5ce5b2=_0x8d6b32;q(this[_0x5ce5b2(0x589)],_0x5ce5b2(0x143),{'chat':_0x207e18});}),{'message':_0x8d6b32(0x3d4),'read':'success'};}catch(_0x4a8657){throw console[_0x8d6b32(0x362)](_0x8d6b32(0x288),_0x4a8657),new O('Read\x20messages\x20fail',_0x4a8657[_0x8d6b32(0x509)]());}}async['getLastMessage'](_0x36edc5){const _0x45662f=a0_0x3c797d;let _0x1396cd=await this[_0x45662f(0x3f3)]({'where':{'key':{'remoteJid':_0x36edc5}}}),_0x15db62=_0x1396cd[_0x45662f(0x400)]();for(let _0x5ea11 of _0x1396cd)_0x5ea11[_0x45662f(0x34b)]>=_0x15db62[_0x45662f(0x34b)]&&(_0x15db62=_0x5ea11);return _0x15db62;}async[a0_0x3c797d(0x172)](_0x34de21){const _0x46ddfe=a0_0x3c797d;this[_0x46ddfe(0x30c)]['verbose'](_0x46ddfe(0x4af));try{let _0x4a51ea=_0x34de21['lastMessage'],_0x1936c6=_0x34de21[_0x46ddfe(0x65c)];if(!_0x4a51ea&&_0x1936c6?_0x4a51ea=await this[_0x46ddfe(0x6c0)](_0x1936c6):(_0x4a51ea=_0x34de21[_0x46ddfe(0x1c3)],_0x4a51ea[_0x46ddfe(0x34b)]=_0x4a51ea?.[_0x46ddfe(0x34b)]??Date[_0x46ddfe(0x38d)](),_0x1936c6=_0x4a51ea?.['key']?.[_0x46ddfe(0xb8)]),!_0x4a51ea||Object[_0x46ddfe(0x4e5)](_0x4a51ea)[_0x46ddfe(0x234)]===0x0)throw new F(_0x46ddfe(0x39d));await this[_0x46ddfe(0x5a6)][_0x46ddfe(0x452)]({'archive':_0x34de21[_0x46ddfe(0x583)],'lastMessages':[_0x4a51ea]},this['createJid'](_0x1936c6));let _0x5d5ce1=await this[_0x46ddfe(0x4cd)][_0x46ddfe(0x65c)][_0x46ddfe(0x119)]({'where':{'_id':_0x4a51ea?.[_0x46ddfe(0x2d3)]?.[_0x46ddfe(0xb8)]}},{'archived':_0x34de21[_0x46ddfe(0x583)]},this[_0x46ddfe(0x3ce)][_0x46ddfe(0x5c8)]);return _0x5d5ce1&&q(this[_0x46ddfe(0x589)],_0x46ddfe(0x143),{'chat':_0x5d5ce1}),{'chatId':_0x1936c6,'archived':_0x34de21[_0x46ddfe(0x583)]};}catch(_0x13edbf){throw new O({'archived':!0x1,'message':[_0x46ddfe(0x115),_0x13edbf[_0x46ddfe(0x509)]()]});}}async[a0_0x3c797d(0x37d)](_0x5e8222){const _0x343193=a0_0x3c797d;try{let _0x2a864e=await this[_0x343193(0x5a6)][_0x343193(0x263)](_0x5e8222['remoteJid'],{'delete':_0x5e8222});try{let _0x4868f6=await this[_0x343193(0x4dd)](_0x5e8222,{'status':_0x343193(0x3ab),'owner':this['instance']['wuid']});this[_0x343193(0x30c)][_0x343193(0x5ba)](this[_0x343193(0x589)]+'\x20('+this[_0x343193(0x3ce)][_0x343193(0x5c8)]+_0x343193(0x6cd)+_0x4868f6);}catch(_0xa46ab){console[_0x343193(0x362)](_0x343193(0x11c),_0xa46ab);}return _0x2a864e;}catch(_0x5b7853){throw new O(_0x343193(0x544),_0x5b7853?.['toString']());}}async[a0_0x3c797d(0x549)](_0x4f987a){const _0x422084=a0_0x3c797d;try{let _0x56aa08=_0x4f987a?.['message']?_0x4f987a:await this[_0x422084(0x207)](_0x4f987a['key'],!0x0);for(let _0x113442 of pa)_0x56aa08[_0x422084(0x15e)][_0x113442]&&(_0x56aa08['message']=_0x56aa08[_0x422084(0x15e)][_0x113442][_0x422084(0x15e)]);let _0x28cd67,_0x28a8b0;for(let _0x41b230 of da)if(_0x28cd67=_0x56aa08['message'][_0x41b230],_0x28cd67){_0x28a8b0=_0x41b230;break;}if(!_0x28cd67)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x28cd67[_0x422084(0x105)]==_0x422084(0xc5)&&(_0x56aa08[_0x422084(0x15e)]=JSON[_0x422084(0x6cb)](JSON[_0x422084(0xf1)](_0x56aa08['message'])));let _0x51f0b8=await(0x0,y[_0x422084(0x5bb)])({'key':_0x56aa08?.[_0x422084(0x2d3)],'message':_0x56aa08?.[_0x422084(0x15e)]},_0x422084(0x498),{},{'logger':(0x0,At['default'])({'level':_0x422084(0x5f0)}),'reuploadRequest':this['client'][_0x422084(0x47c)]});if(!(_0x51f0b8 instanceof Buffer))throw new Error(_0x422084(0x340));let _0x1cfbf3=this[_0x422084(0x134)][_0x422084(0x5a8)]('DATABASE'),_0xaf174a,_0x1a3fcf;if(_0x28cd67[_0x422084(0x37f)])_0xaf174a=_0x28cd67[_0x422084(0x37f)];else{let _0x3f7ddd=_0x28cd67[_0x422084(0x49b)]?.[_0x422084(0x624)](/\/(\w+)/),_0x3fd7d6=_0x3f7ddd?_0x3f7ddd[0x1]:null;if(!_0x3fd7d6)throw new Error(_0x422084(0x27d));_0xaf174a=(0x0,Me['v4'])()+'.'+_0x3fd7d6;}_0x28a8b0===_0x422084(0x4a4)&&_0x28cd67[_0x422084(0x49b)]===_0x422084(0x372)?(_0xaf174a=(0x0,Me['v4'])()+_0x422084(0x2d2),_0x1a3fcf=_0x422084(0x10f)+await this['convertaudio'](_0x51f0b8['toString'](_0x422084(0x2c5)))):(await this['saveMediaToFile'](_0x51f0b8,_0xaf174a),_0x1a3fcf=_0x422084(0x10f)+_0xaf174a);let _0x647b1a=this[_0x422084(0x134)]['get'](_0x422084(0x6a0))['URL'];if(!_0x647b1a){let _0x2270b2=this['configService'][_0x422084(0x5a8)](_0x422084(0x567));_0x647b1a='https://'+(_0x2270b2&&_0x2270b2[_0x422084(0x191)][_0x422084(0x6db)]('/')[0x4]);}_0x1a3fcf=''+_0x647b1a+_0x1a3fcf;let _0x3082a7=0xc*0x3c*0x3c*0x3e8,_0x4750ea={'where':{'_id':_0x56aa08['key']['id']}},_0x5a6bf2={'message_normalized.fileUrl':_0x1a3fcf,'message_normalized.expires_fileUrl':Date[_0x422084(0x38d)]()+_0x3082a7};try{let _0x583939=await this[_0x422084(0x4cd)][_0x422084(0x15e)]['update'](_0x4750ea,_0x5a6bf2,this[_0x422084(0x3ce)][_0x422084(0x5c8)]);_0x583939&&q(this[_0x422084(0x589)],_0x422084(0x56f),{'message':_0x583939});}catch(_0x241969){this[_0x422084(0x30c)]['error'](this[_0x422084(0x589)]+'\x20('+this[_0x422084(0x3ce)][_0x422084(0x5c8)]+_0x422084(0x36f)+(_0x241969 instanceof Error?_0x241969['message']:JSON[_0x422084(0xf1)](_0x241969,null,0x2)));}return{'mediaType':_0x28a8b0,'fileName':_0x28cd67[_0x422084(0x37f)],'caption':_0x28cd67[_0x422084(0x5d2)],'size':{'fileLength':_0x28cd67[_0x422084(0x1ae)],'height':_0x28cd67[_0x422084(0x39c)],'width':_0x28cd67['width']},'mimetype':_0x28cd67[_0x422084(0x49b)],'base64':_0x51f0b8[_0x422084(0x509)](_0x422084(0x2c5)),'fileUrl':_0x1a3fcf,'expires_fileUrl':Date[_0x422084(0x38d)]()+_0x3082a7};}catch(_0x41005b){throw this[_0x422084(0x30c)][_0x422084(0x362)](this['instanceName']+'\x20('+this['instance'][_0x422084(0x5c8)]+_0x422084(0x36f)+(_0x41005b instanceof Error?_0x41005b['message']:JSON[_0x422084(0xf1)](_0x41005b,null,0x2))),new m(_0x41005b[_0x422084(0x509)]());}}async[a0_0x3c797d(0x160)](_0x111461,_0x2edf61){const _0x563cee=a0_0x3c797d;let _0x3e5636=U['default'][_0x563cee(0x530)](__dirname,'downloads');L['existsSync'](_0x3e5636)||L[_0x563cee(0x3d8)](_0x3e5636,{'recursive':!0x0});let _0x31f26d=U[_0x563cee(0x580)][_0x563cee(0x530)](_0x3e5636,_0x2edf61);return new Promise((_0x4441cc,_0xefc57e)=>{const _0x155107=_0x563cee;L[_0x155107(0x4c4)](_0x31f26d,_0x111461,_0x1abe1a=>{const _0x5463b8=_0x155107;_0x1abe1a?(this['logger'][_0x5463b8(0x362)](_0x5463b8(0x4ef)+(_0x1abe1a instanceof Error?_0x1abe1a[_0x5463b8(0x15e)]:JSON[_0x5463b8(0xf1)](_0x1abe1a,null,0x2))),_0xefc57e(_0x1abe1a)):(this[_0x5463b8(0x30c)][_0x5463b8(0x247)](_0x5463b8(0x3d3)+_0x31f26d),_0x4441cc(_0x31f26d));});});}async['fetchContacts'](_0x1d13e6){const _0x178275=a0_0x3c797d;return await this[_0x178275(0x4cd)][_0x178275(0x4f1)][_0x178275(0x2ec)](_0x1d13e6,this['instance']['wuid']);}async['fetchLabels'](){const _0xcdc143=a0_0x3c797d;return await this[_0xcdc143(0x4cd)][_0xcdc143(0x239)][_0xcdc143(0x2ec)]({'where':{}},this['instance']['wuid']);}async[a0_0x3c797d(0x3f3)](_0x4c6ba5){const _0x5ec58c=a0_0x3c797d;return await this[_0x5ec58c(0x4cd)][_0x5ec58c(0x15e)][_0x5ec58c(0x2ec)](_0x4c6ba5,this[_0x5ec58c(0x3ce)][_0x5ec58c(0x5c8)]);}async['fetchChats'](){const _0x36602c=a0_0x3c797d;let _0x5051b6=[{'query':{'where':{'owner':this['instance'][_0x36602c(0x5c8)],'leadInfo.tags':{'$exists':!0x1}}},'update':{'leadInfo':{'tags':[]}}},{'query':{'where':{'owner':this[_0x36602c(0x3ce)][_0x36602c(0x5c8)],'leadInfo.customFields':{'$exists':!0x1}}},'update':{'leadInfo':{'customFields':[]}}}];return await this[_0x36602c(0x4cd)][_0x36602c(0x65c)][_0x36602c(0x3cf)](_0x5051b6),await this[_0x36602c(0x4cd)]['chat'][_0x36602c(0x2ec)]({'where':{}},this[_0x36602c(0x3ce)][_0x36602c(0x5c8)]);}async[a0_0x3c797d(0x60e)](){const _0xb96f23=a0_0x3c797d;let _0xf53b44=await this[_0xb96f23(0x4cd)][_0xb96f23(0x65c)][_0xb96f23(0x2ec)]({'where':{}},this[_0xb96f23(0x3ce)][_0xb96f23(0x5c8)]);for(let _0x3db7b5 of _0xf53b44)for(let _0x324307=0x0;_0x324307<_0x3db7b5[_0xb96f23(0x180)][_0xb96f23(0x251)]['length'];_0x324307++)if(!_0x3db7b5[_0xb96f23(0x180)][_0xb96f23(0x251)][_0x324307][_0xb96f23(0x4de)]){let _0xfc2264={'where':{'_id':_0x3db7b5[_0xb96f23(0x3c1)]}},_0x2b5bdc={[_0xb96f23(0x126)+_0x324307+'.chatId']:_0x3db7b5[_0xb96f23(0x3c1)]};await this[_0xb96f23(0x4cd)]['chat'][_0xb96f23(0x119)](_0xfc2264,_0x2b5bdc,this[_0xb96f23(0x3ce)][_0xb96f23(0x5c8)]);}}async[a0_0x3c797d(0xbe)](_0xa32cb0){const _0x2dd1ae=a0_0x3c797d;try{if(!Array[_0x2dd1ae(0x65a)](_0xa32cb0)||_0xa32cb0[_0x2dd1ae(0x234)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x522a52=[],_0x1c7081=[];for(let _0x39bb5d of _0xa32cb0){if(_0x39bb5d[_0x2dd1ae(0x3c1)])_0x39bb5d[_0x2dd1ae(0x3c1)]=this['createJid'](_0x39bb5d[_0x2dd1ae(0x3c1)]);else continue;await this[_0x2dd1ae(0x4cd)][_0x2dd1ae(0x65c)][_0x2dd1ae(0x2f8)]({'where':{'_id':_0x39bb5d['_id']}},this['instance'][_0x2dd1ae(0x5c8)])?_0x1c7081[_0x2dd1ae(0xab)]({'_id':_0x39bb5d['_id'],'leadInfo':_0x39bb5d['leadInfo'],'owner':this[_0x2dd1ae(0x3ce)][_0x2dd1ae(0x5c8)]}):_0x522a52[_0x2dd1ae(0xab)]({'_id':_0x39bb5d[_0x2dd1ae(0x3c1)],'owner':this[_0x2dd1ae(0x3ce)][_0x2dd1ae(0x5c8)],'leadInfo':_0x39bb5d[_0x2dd1ae(0x180)]});}return _0x1c7081[_0x2dd1ae(0x234)]>0x0&&await this['repository'][_0x2dd1ae(0x65c)]['updateMany'](_0x1c7081[_0x2dd1ae(0x2a0)](_0x4bdd0e=>({'query':{'where':{'_id':_0x4bdd0e['_id'],'owner':this[_0x2dd1ae(0x3ce)][_0x2dd1ae(0x5c8)]}},'update':_0x4bdd0e}))),_0x522a52[_0x2dd1ae(0x234)]>0x0&&await this['repository'][_0x2dd1ae(0x65c)][_0x2dd1ae(0x1e2)](_0x522a52,this['instance'][_0x2dd1ae(0x5c8)]),{'updated':_0x1c7081[_0x2dd1ae(0x234)],'inserted':_0x522a52['length']};}catch(_0xf0a7b9){throw console[_0x2dd1ae(0x362)]('Erro\x20ao\x20importar\x20chats:',_0xf0a7b9),_0xf0a7b9;}}async[a0_0x3c797d(0x3e7)](){const _0x27ee13=a0_0x3c797d;return await this[_0x27ee13(0x5a6)]['fetchPrivacySettings']();}async[a0_0x3c797d(0x201)](_0xc42b83){const _0x51fb89=a0_0x3c797d;try{return await this[_0x51fb89(0x5a6)][_0x51fb89(0x2a6)](_0xc42b83[_0x51fb89(0x29f)][_0x51fb89(0x4a8)]),await this[_0x51fb89(0x5a6)][_0x51fb89(0x470)](_0xc42b83[_0x51fb89(0x29f)][_0x51fb89(0x421)]),await this['client'][_0x51fb89(0x3f8)](_0xc42b83[_0x51fb89(0x29f)][_0x51fb89(0x3fc)]),await this['client'][_0x51fb89(0x6f4)](_0xc42b83[_0x51fb89(0x29f)][_0x51fb89(0x255)]),await this[_0x51fb89(0x5a6)]['updateLastSeenPrivacy'](_0xc42b83[_0x51fb89(0x29f)][_0x51fb89(0x620)]),await this[_0x51fb89(0x5a6)][_0x51fb89(0x1ec)](_0xc42b83[_0x51fb89(0x29f)][_0x51fb89(0x393)]),this[_0x51fb89(0x5a6)]?.['ws']?.[_0x51fb89(0x137)](),{'update':'success','data':{'readreceipts':_0xc42b83[_0x51fb89(0x29f)][_0x51fb89(0x4a8)],'profile':_0xc42b83[_0x51fb89(0x29f)][_0x51fb89(0x421)],'status':_0xc42b83['privacySettings'][_0x51fb89(0x3fc)],'online':_0xc42b83[_0x51fb89(0x29f)]['online'],'last':_0xc42b83[_0x51fb89(0x29f)]['last'],'groupadd':_0xc42b83[_0x51fb89(0x29f)][_0x51fb89(0x393)]}};}catch(_0x5a08b8){throw new O(_0x51fb89(0x1da),_0x5a08b8[_0x51fb89(0x509)]());}}async[a0_0x3c797d(0x6cc)](_0x2c80d1){const _0x5d56f7=a0_0x3c797d;let _0x506a98=_0x2c80d1?this[_0x5d56f7(0x373)](_0x2c80d1):this[_0x5d56f7(0x5a6)]?.[_0x5d56f7(0x602)]?.['id'];this[_0x5d56f7(0x30c)][_0x5d56f7(0x5ba)](_0x5d56f7(0x26d)+_0x506a98);try{if(this[_0x5d56f7(0x30c)]['verbose'](_0x5d56f7(0x2ca)),_0x2c80d1){let _0x389af6=(await this['whatsappNumber']({'numbers':[_0x506a98]}))?.[_0x5d56f7(0x613)](),_0x21fdcd=await this[_0x5d56f7(0x1a7)](_0x389af6?.['jid']),_0x39b009=await this[_0x5d56f7(0x1c0)](_0x389af6?.[_0x5d56f7(0x244)]),_0x14738a=await this['fetchBusinessProfile'](_0x389af6?.[_0x5d56f7(0x244)]);return{'wuid':_0x389af6?.[_0x5d56f7(0x244)]||_0x506a98,'name':_0x389af6?.[_0x5d56f7(0x42e)],'numberExists':_0x389af6?.[_0x5d56f7(0x1a4)],'picture':_0x21fdcd?.[_0x5d56f7(0x63f)],'status':_0x39b009?.[_0x5d56f7(0x3fc)],'isBusiness':_0x14738a[_0x5d56f7(0x6a2)],'email':_0x14738a?.[_0x5d56f7(0x643)],'description':_0x14738a?.[_0x5d56f7(0x60c)],'website':_0x14738a?.[_0x5d56f7(0x40a)]?.[_0x5d56f7(0x613)]()};}}catch{return this[_0x5d56f7(0x30c)]['verbose'](_0x5d56f7(0x3aa)),{'wuid':_0x506a98,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x3c797d(0x49d)](_0xc0713d){const _0x5dca7b=a0_0x3c797d;let _0x2a9e6d=(_0xc0713d?this['createJid'](_0xc0713d):this[_0x5dca7b(0x5a6)]?.[_0x5dca7b(0x602)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0x5dca7b(0x30c)]['verbose'](_0x5dca7b(0xe5)+_0x2a9e6d);let _0x407ec3=await this[_0x5dca7b(0x4cd)][_0x5dca7b(0x4f1)][_0x5dca7b(0x2f8)]({'where':{'_id':_0x2a9e6d}},this[_0x5dca7b(0x3ce)][_0x5dca7b(0x5c8)]),_0x50beef=_0x407ec3?_0x407ec3[_0x5dca7b(0x562)]:null;try{let _0x28b3b8=(await this[_0x5dca7b(0x70e)]({'numbers':[_0x2a9e6d]}))?.['shift'](),_0x4d55dd=await this[_0x5dca7b(0x1a7)](_0x28b3b8?.[_0x5dca7b(0x244)]),_0x75db8f=await this[_0x5dca7b(0x1c0)](_0x28b3b8?.[_0x5dca7b(0x244)]),_0x1c4b80=await this['fetchBusinessProfile'](_0x28b3b8?.['jid']),_0x1422bd={'imagechat':_0x4d55dd?.[_0x5dca7b(0x63f)],'contactname':_0x50beef||null,'status':_0x75db8f?.['status'],'isBusiness':_0x1c4b80[_0x5dca7b(0x6a2)],'email':_0x1c4b80?.[_0x5dca7b(0x643)],'description':_0x1c4b80?.[_0x5dca7b(0x60c)],'website':_0x1c4b80?.[_0x5dca7b(0x40a)]?.[_0x5dca7b(0x613)](),'lastcache':Date['now']()},_0x551b0b=await this[_0x5dca7b(0x4cd)][_0x5dca7b(0x65c)][_0x5dca7b(0x119)]({'where':{'_id':_0x2a9e6d}},_0x1422bd,this[_0x5dca7b(0x3ce)]['wuid']),_0x5aa5b1={'owner':this['instance'][_0x5dca7b(0x5c8)],'_id':_0x2a9e6d,'profilePictureUrl':_0x4d55dd?.['profilePictureUrl'],'status':_0x75db8f?.[_0x5dca7b(0x3fc)]};return this[_0x5dca7b(0x4cd)][_0x5dca7b(0x4f1)][_0x5dca7b(0x5ee)]([_0x5aa5b1],this[_0x5dca7b(0x3ce)][_0x5dca7b(0x5c8)]),_0x551b0b&&q(this[_0x5dca7b(0x589)],_0x5dca7b(0x143),{'chat':_0x551b0b}),{'wuid':_0x28b3b8?.[_0x5dca7b(0x244)]||_0x2a9e6d,'name':_0x28b3b8?.[_0x5dca7b(0x42e)],'numberExists':_0x28b3b8?.[_0x5dca7b(0x1a4)],'picture':_0x4d55dd?.['profilePictureUrl'],'status':_0x75db8f?.['status'],'isBusiness':_0x1c4b80[_0x5dca7b(0x6a2)],'email':_0x1c4b80?.['email'],'description':_0x1c4b80?.[_0x5dca7b(0x60c)],'website':_0x1c4b80?.[_0x5dca7b(0x40a)]?.[_0x5dca7b(0x613)]()};}catch(_0x1ee2d5){return this[_0x5dca7b(0x30c)]['error'](_0x5dca7b(0x553)+(_0x1ee2d5 instanceof Error?_0x1ee2d5[_0x5dca7b(0x15e)]:JSON[_0x5dca7b(0xf1)](_0x1ee2d5,null,0x2))),{};}}async[a0_0x3c797d(0x177)](_0x370cbb){const _0x543f3b=a0_0x3c797d;this[_0x543f3b(0x30c)][_0x543f3b(0x5ba)]('Fetching\x20business\x20profile');try{let _0x19d7fc=_0x370cbb?this['createJid'](_0x370cbb):this[_0x543f3b(0x3ce)][_0x543f3b(0x5c8)],_0x477c9c=await this[_0x543f3b(0x5a6)][_0x543f3b(0x3b0)](_0x19d7fc);return this['logger'][_0x543f3b(0x5ba)](_0x543f3b(0x4d3)),_0x477c9c?(this['logger'][_0x543f3b(0x5ba)](_0x543f3b(0x6d6)),{'isBusiness':!0x0,..._0x477c9c}):{'isBusiness':!0x1,'message':_0x543f3b(0x28d),...(await this['whatsappNumber']({'numbers':[_0x19d7fc]}))?.[_0x543f3b(0x613)]()};}catch(_0x4bf0b4){throw new O(_0x543f3b(0x622),_0x4bf0b4[_0x543f3b(0x509)]());}}async[a0_0x3c797d(0x1c0)](_0x5ec005){const _0x4c78c2=a0_0x3c797d;let _0x1b8466=this[_0x4c78c2(0x373)](_0x5ec005);try{return{'wuid':_0x1b8466,'status':(await this[_0x4c78c2(0x5a6)][_0x4c78c2(0x474)](_0x1b8466))?.['status']};}catch{return{'wuid':_0x1b8466,'status':null};}}async[a0_0x3c797d(0x125)](_0x5649be){const _0x135478=a0_0x3c797d;try{return await this[_0x135478(0x5a6)][_0x135478(0x125)](_0x5649be),{'update':_0x135478(0xf2)};}catch(_0x5c9f56){throw new O('Error\x20updating\x20profile\x20name',_0x5c9f56[_0x135478(0x509)]());}}async['updateProfileStatus'](_0x3ada1d){const _0x2ab014=a0_0x3c797d;try{return await this[_0x2ab014(0x5a6)][_0x2ab014(0x33a)](_0x3ada1d),{'update':_0x2ab014(0xf2)};}catch(_0x14cb19){throw new O(_0x2ab014(0x186),_0x14cb19[_0x2ab014(0x509)]());}}async[a0_0x3c797d(0x6a7)](_0x2c677c){const _0x217fcc=a0_0x3c797d;try{let _0x598ebc;if((0x0,k[_0x217fcc(0x3ae)])(_0x2c677c)){let _0x315481=new Date()[_0x217fcc(0x3ad)](),_0x2edb92=_0x2c677c+_0x217fcc(0x5fd)+_0x315481;_0x598ebc=(await se[_0x217fcc(0x580)][_0x217fcc(0x5a8)](_0x2edb92,{'responseType':_0x217fcc(0x301)}))[_0x217fcc(0x43c)];}else{if((0x0,k[_0x217fcc(0x365)])(_0x2c677c))_0x598ebc=Buffer['from'](_0x2c677c,_0x217fcc(0x2c5));else throw new m(_0x217fcc(0x2df));}return await this[_0x217fcc(0x5a6)]['updateProfilePicture'](this[_0x217fcc(0x3ce)][_0x217fcc(0x5c8)],_0x598ebc),{'update':_0x217fcc(0xf2)};}catch(_0x5eef10){throw new O(_0x217fcc(0x6c6),_0x5eef10[_0x217fcc(0x509)]());}}async[a0_0x3c797d(0x24c)](){const _0x51c79f=a0_0x3c797d;try{return await this[_0x51c79f(0x5a6)][_0x51c79f(0x24c)](this[_0x51c79f(0x3ce)][_0x51c79f(0x5c8)]),{'update':_0x51c79f(0xf2)};}catch(_0x68f3db){throw new O(_0x51c79f(0x4d2),_0x68f3db[_0x51c79f(0x509)]());}}async[a0_0x3c797d(0x420)](_0x3bb86e){const _0x3afd06=a0_0x3c797d;try{let _0x29b66e=_0x3bb86e[_0x3afd06(0x3d7)][_0x3afd06(0x2a0)](_0x5ea8fe=>this[_0x3afd06(0x373)](_0x5ea8fe)),{id:_0x4d48a0}=await this['client'][_0x3afd06(0x4e1)](_0x3bb86e[_0x3afd06(0xb7)],_0x29b66e);return _0x3bb86e?.[_0x3afd06(0x60c)]&&await this[_0x3afd06(0x5a6)][_0x3afd06(0x44f)](_0x4d48a0,_0x3bb86e[_0x3afd06(0x60c)]),{'metadata':await this[_0x3afd06(0x5a6)]['groupMetadata'](_0x4d48a0)};}catch(_0x5472e2){throw this['logger'][_0x3afd06(0x362)](this[_0x3afd06(0x589)]+'\x20('+this[_0x3afd06(0x3ce)][_0x3afd06(0x5c8)]+_0x3afd06(0x36f)+(_0x5472e2 instanceof Error?_0x5472e2[_0x3afd06(0x15e)]:JSON[_0x3afd06(0xf1)](_0x5472e2,null,0x2))),new O(_0x3afd06(0x4d6),_0x5472e2[_0x3afd06(0x509)]());}}async[a0_0x3c797d(0x48b)](_0x4589ad){const _0x5e5c40=a0_0x3c797d;try{let _0x2d80c7;if((0x0,k[_0x5e5c40(0x3ae)])(_0x4589ad['image'])){let _0x3dab88=new Date()[_0x5e5c40(0x3ad)](),_0x10170e=_0x4589ad[_0x5e5c40(0x5d1)]+_0x5e5c40(0x5fd)+_0x3dab88;_0x2d80c7=(await se[_0x5e5c40(0x580)][_0x5e5c40(0x5a8)](_0x10170e,{'responseType':_0x5e5c40(0x301)}))['data'];}else{if((0x0,k[_0x5e5c40(0x365)])(_0x4589ad['image']))_0x2d80c7=Buffer[_0x5e5c40(0x6fc)](_0x4589ad[_0x5e5c40(0x5d1)],_0x5e5c40(0x2c5));else throw new m(_0x5e5c40(0x2df));}return await this[_0x5e5c40(0x5a6)]['updateProfilePicture'](_0x4589ad[_0x5e5c40(0x6af)],_0x2d80c7),{'update':_0x5e5c40(0xf2)};}catch(_0x16401d){throw new O(_0x5e5c40(0x52c),_0x16401d[_0x5e5c40(0x509)]());}}async[a0_0x3c797d(0x30f)](_0x679875,_0x12d53b='out'){const _0x5d90fa=a0_0x3c797d;try{let _0x5298ce=await this[_0x5d90fa(0x5a6)][_0x5d90fa(0x258)](_0x679875[_0x5d90fa(0x6af)]),_0x64cc65=null;try{_0x64cc65=(await this[_0x5d90fa(0x1a7)](_0x679875['groupJid']))[_0x5d90fa(0x63f)];}catch(_0x5aec44){this[_0x5d90fa(0x30c)]['verbose'](this[_0x5d90fa(0x589)]+'\x20('+this[_0x5d90fa(0x3ce)][_0x5d90fa(0x5c8)]+_0x5d90fa(0xae)+_0x679875[_0x5d90fa(0x6af)]+':\x20'+(_0x5aec44 instanceof Error?_0x5aec44['message']:JSON[_0x5d90fa(0xf1)](_0x5aec44,null,0x2)));}let _0x314573=await this[_0x5d90fa(0x4cd)][_0x5d90fa(0x65c)][_0x5d90fa(0x119)]({'where':{'_id':_0x679875[_0x5d90fa(0x6af)]}},{'imagechat':_0x64cc65,'name':_0x5298ce[_0x5d90fa(0xb7)],'group_size':_0x5298ce[_0x5d90fa(0x539)],'group_announce':_0x5298ce[_0x5d90fa(0x3ba)],'lastcache':Date[_0x5d90fa(0x38d)]()},this[_0x5d90fa(0x3ce)]['wuid']);return _0x314573&&q(this[_0x5d90fa(0x589)],'chats',{'chat':_0x314573}),{'metadata':_0x5298ce,'image':_0x64cc65};}catch(_0x2f2b1e){if(_0x12d53b===_0x5d90fa(0x60a))return;throw new F(_0x5d90fa(0x265),_0x2f2b1e[_0x5d90fa(0x509)]());}}async[a0_0x3c797d(0x58f)](_0x5c5550){const _0x355116=a0_0x3c797d;try{return await this[_0x355116(0x5a6)]['groupUpdateDescription'](_0x5c5550[_0x355116(0x6af)],_0x5c5550[_0x355116(0x60c)]),{'update':'success'};}catch(_0x592a64){throw new O(_0x355116(0x677),_0x592a64[_0x355116(0x509)]());}}async['groupName'](_0x25c0a2){const _0x54fa87=a0_0x3c797d;try{return await this['client']['groupUpdateSubject'](_0x25c0a2[_0x54fa87(0x6af)],_0x25c0a2['name']),{'update':_0x54fa87(0xf2)};}catch(_0x154642){throw new O(_0x54fa87(0x2e2),_0x154642[_0x54fa87(0x509)]());}}async[a0_0x3c797d(0x323)](_0x167642){const _0x1c3d1a=a0_0x3c797d;try{return await this[_0x1c3d1a(0x5a6)][_0x1c3d1a(0x51a)](_0x167642['groupJid'],_0x167642['setting']),{'update':_0x1c3d1a(0xf2)};}catch(_0x5187de){throw new O(_0x1c3d1a(0x176),_0x5187de[_0x1c3d1a(0x509)]());}}async[a0_0x3c797d(0x6a5)](){const _0x37cce7=a0_0x3c797d;try{let _0x20bc67=[],_0x2db478=await this[_0x37cce7(0x5a6)][_0x37cce7(0x1f8)](),_0x243f9f=Object[_0x37cce7(0x409)](_0x2db478),_0x2a0f2a=_0x243f9f[_0x37cce7(0x12d)](_0x55c7de=>(0x0,y[_0x37cce7(0x6f8)])(_0x55c7de?.['id']))[_0x37cce7(0x2a0)](async _0x1a6edb=>{const _0x4b6b6f=_0x37cce7;try{return await this[_0x4b6b6f(0x5a6)][_0x4b6b6f(0x63f)](_0x1a6edb['id'],_0x4b6b6f(0x6bf));}catch(_0x50260e){return this['logger'][_0x4b6b6f(0x5ba)](this[_0x4b6b6f(0x589)]+'\x20('+this[_0x4b6b6f(0x3ce)][_0x4b6b6f(0x5c8)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x1a6edb['id']+':\x20'+(_0x50260e instanceof Error?_0x50260e[_0x4b6b6f(0x15e)]:JSON[_0x4b6b6f(0xf1)](_0x50260e,null,0x2))),null;}}),_0x4af3a8=await Promise[_0x37cce7(0x109)](_0x2a0f2a);for(let _0x5b55e4=0x0;_0x5b55e4<_0x243f9f['length'];_0x5b55e4++){let _0x47e9b3=_0x243f9f[_0x5b55e4];(0x0,y[_0x37cce7(0x6f8)])(_0x47e9b3?.['id'])&&_0x20bc67[_0x37cce7(0xab)]({'groupJid':_0x47e9b3?.['id'],'subject':_0x47e9b3?.[_0x37cce7(0xb7)],'subjectOwner':_0x47e9b3?.[_0x37cce7(0x108)]?.['split']('@')[0x0],'subjectTime':_0x47e9b3?.[_0x37cce7(0x2bd)],'size':_0x47e9b3?.[_0x37cce7(0x3d7)]?.[_0x37cce7(0x234)],'owner':_0x47e9b3?.[_0x37cce7(0x561)]?.[_0x37cce7(0x6db)]('@')[0x0],'creation':_0x47e9b3?.[_0x37cce7(0x306)],'desc':_0x47e9b3?.[_0x37cce7(0x2d6)],'restrict':_0x47e9b3?.[_0x37cce7(0x1e1)],'announce':_0x47e9b3?.['announce'],'image':_0x4af3a8[_0x5b55e4]});}return _0x20bc67;}catch(_0x493dd6){throw new F(_0x37cce7(0x265),_0x493dd6[_0x37cce7(0x509)]());}}async[a0_0x3c797d(0x6d5)](_0x29e6cb){const _0xdf886f=a0_0x3c797d;try{let _0x17ec98=await this[_0xdf886f(0x5a6)][_0xdf886f(0x2d1)](_0x29e6cb[_0xdf886f(0x6af)]);return{'inviteUrl':_0xdf886f(0x671)+_0x17ec98,'inviteCode':_0x17ec98};}catch(_0x3c55d6){throw new F(_0xdf886f(0x387),_0x3c55d6[_0xdf886f(0x509)]());}}async['revokeInviteCode'](_0x16b383){const _0x4753ba=a0_0x3c797d;try{let _0x3ceb5f=await this['client']['groupRevokeInvite'](_0x16b383[_0x4753ba(0x6af)]);return{'revoked':!0x0,'inviteUrl':_0x4753ba(0x671)+_0x3ceb5f,'inviteCode':_0x3ceb5f};}catch(_0x277213){throw new F(_0x4753ba(0x13f),_0x277213[_0x4753ba(0x509)]());}}async[a0_0x3c797d(0x35b)](_0x16ae01){const _0x1f348d=a0_0x3c797d;try{if((0x0,k[_0x1f348d(0x3ae)])(_0x16ae01[_0x1f348d(0x6d5)]))var _0x2ccde9=_0x16ae01[_0x1f348d(0x6d5)][_0x1f348d(0x6db)]('/')[0x3];else var _0x2ccde9=_0x16ae01[_0x1f348d(0x6d5)];let _0x971c4c=await this[_0x1f348d(0x5a6)][_0x1f348d(0x447)](_0x2ccde9);return this['logger']['verbose'](this[_0x1f348d(0x589)]+'\x20('+this[_0x1f348d(0x3ce)][_0x1f348d(0x5c8)]+_0x1f348d(0x36f)+_0x971c4c),{'join':!0x0,'inviteCode':_0x2ccde9,'groupJid':_0x971c4c};}catch(_0x3a9982){throw new F(_0x1f348d(0x43b),_0x3a9982['toString']());}}async[a0_0x3c797d(0x511)](_0x497ffa){const _0x4b2d9d=a0_0x3c797d;try{return{'participants':(await this['client']['groupMetadata'](_0x497ffa['groupJid']))[_0x4b2d9d(0x3d7)]};}catch(_0x5db676){throw new F('No\x20participants',_0x5db676['toString']());}}async['updateGParticipant'](_0x49aaf2){const _0x380186=a0_0x3c797d;try{let _0x2f1f0c=_0x49aaf2['participants'][_0x380186(0x2a0)](_0x70fa39=>this[_0x380186(0x373)](_0x70fa39));return{'updateParticipants':await this[_0x380186(0x5a6)][_0x380186(0x618)](_0x49aaf2[_0x380186(0x6af)],_0x2f1f0c,_0x49aaf2[_0x380186(0x267)])};}catch(_0x251cf8){throw new m(_0x380186(0x4d9),_0x251cf8[_0x380186(0x509)]());}}async[a0_0x3c797d(0x593)](_0x38c44b){const _0xbba9d5=a0_0x3c797d;try{let _0x4f236c=await this['client'][_0xbba9d5(0x661)](_0x38c44b[_0xbba9d5(0x6af)],_0x38c44b['expiration']);return{'success':!0x0};}catch(_0x427f52){throw new m('Error\x20updating\x20setting',_0x427f52['toString']());}}async['leaveGroup'](_0x371d5f){const _0x518007=a0_0x3c797d;try{return await this[_0x518007(0x5a6)][_0x518007(0x419)](_0x371d5f[_0x518007(0x6af)]),{'groupJid':_0x371d5f[_0x518007(0x6af)],'leave':!0x0};}catch(_0xe100c8){throw new m('Unable\x20to\x20leave\x20the\x20group',_0xe100c8['toString']());}}async[a0_0x3c797d(0x2ff)](_0x17398e){const _0xf61365=a0_0x3c797d;return await this['sendMessageWithTyping'](_0x17398e[_0xf61365(0x406)],{'poll':{'name':_0x17398e[_0xf61365(0x2ff)]?.[_0xf61365(0x42e)],'selectableCount':_0x17398e[_0xf61365(0x2ff)][_0xf61365(0x519)],'values':_0x17398e[_0xf61365(0x2ff)][_0xf61365(0x409)]}},_0x17398e?.['options']);}async[a0_0x3c797d(0x56c)](_0x17e174){const _0xf98af8=a0_0x3c797d;return await this[_0xf98af8(0x2e4)](_0x17e174[_0xf98af8(0x406)],{'listMessage':{'title':_0x17e174[_0xf98af8(0x56c)][_0xf98af8(0x274)],'description':_0x17e174[_0xf98af8(0x56c)]['description'],'buttonText':_0x17e174['listMessage']?.['buttonText'],'footerText':_0x17e174['listMessage']?.[_0xf98af8(0x34a)],'sections':_0x17e174['listMessage'][_0xf98af8(0x397)],'listType':0x2}},_0x17e174?.[_0xf98af8(0x27a)]);}async[a0_0x3c797d(0x404)](_0x4a885f){const _0x4cdc45=a0_0x3c797d;let _0x404bc9;if(_0x4a885f[_0x4cdc45(0x404)][_0x4cdc45(0x42a)]===_0x4cdc45(0x117)){let _0x4983c2=_0x4a885f[_0x4cdc45(0x404)]['text'][_0x4cdc45(0x39f)]('\x0a'),_0x2c71d3='',_0x10b7c1='';_0x4983c2!==-0x1?(_0x2c71d3=_0x4a885f['menuMessage'][_0x4cdc45(0x3d2)]['substring'](0x0,_0x4983c2)[_0x4cdc45(0x6df)](),_0x10b7c1=_0x4a885f[_0x4cdc45(0x404)][_0x4cdc45(0x3d2)][_0x4cdc45(0x505)](_0x4983c2+0x1)):_0x10b7c1=_0x4a885f['menuMessage']['text'];let _0x20600c=this[_0x4cdc45(0x478)](_0x4a885f[_0x4cdc45(0x404)][_0x4cdc45(0x52f)]);_0x404bc9={'listMessage':{'title':_0x2c71d3,'description':_0x10b7c1,'buttonText':_0x4a885f[_0x4cdc45(0x404)][_0x4cdc45(0x648)]||_0x4cdc45(0x133),'footerText':_0x4a885f['menuMessage'][_0x4cdc45(0x34a)],'sections':_0x20600c,'listType':0x2}};}else{if(_0x4a885f[_0x4cdc45(0x404)][_0x4cdc45(0x42a)]===_0x4cdc45(0x153)){let _0x4fdc27=_0x4a885f['menuMessage'][_0x4cdc45(0x52f)][_0x4cdc45(0x12d)](_0x2bedbd=>!(_0x2bedbd[_0x4cdc45(0x28b)]('[')&&_0x2bedbd[_0x4cdc45(0x3c4)](']')))[_0x4cdc45(0x2a0)](_0x41284b=>_0x41284b['split']('\x0a')[0x0]);_0x404bc9={'poll':{'name':_0x4a885f['menuMessage'][_0x4cdc45(0x3d2)],'selectableCount':_0x4a885f[_0x4cdc45(0x404)][_0x4cdc45(0x519)]||0x1,'values':_0x4fdc27}};}}return await this[_0x4cdc45(0x2e4)](_0x4a885f[_0x4cdc45(0x406)],_0x404bc9,_0x4a885f?.[_0x4cdc45(0x27a)]);}[a0_0x3c797d(0x478)](_0x1514c8){const _0x4425f0=a0_0x3c797d;let _0x3e586a=[],_0x1c59be={'rows':[]};return _0x1514c8[_0x4425f0(0x3b8)](_0x48900a=>{const _0x5becd6=_0x4425f0;if(_0x48900a[_0x5becd6(0x28b)]('[')&&_0x48900a['endsWith'](']'))_0x1c59be[_0x5becd6(0x477)][_0x5becd6(0x234)]>0x0&&_0x3e586a[_0x5becd6(0xab)](_0x1c59be),_0x1c59be={'title':_0x48900a[_0x5becd6(0x2ae)](0x1,-0x1),'rows':[]};else{let _0xe4ff3=_0x48900a[_0x5becd6(0x6db)]('\x0a')['map'](_0x1fc591=>_0x1fc591[_0x5becd6(0x6df)]()),_0x28da05=_0xe4ff3[0x0],_0x3f3b22=_0xe4ff3[0x1]||null,_0x24357f=_0xe4ff3[0x2]||_0x28da05;_0x1c59be['rows']['push']({'title':_0x28da05,'description':_0x3f3b22,'rowId':_0x24357f});}}),_0x1c59be[_0x4425f0(0x477)][_0x4425f0(0x234)]>0x0&&_0x3e586a[_0x4425f0(0xab)](_0x1c59be),_0x3e586a;}async[a0_0x3c797d(0x4dd)](_0x51a6ad,_0x27dcd8){const _0xe1a1a0=a0_0x3c797d;if(await this['getMessage'](_0x51a6ad,!0x0)){let _0x95bb7d={'where':{'_id':_0x51a6ad['id']}},_0x5b084d={'status':[_0x27dcd8[_0xe1a1a0(0x3fc)]][0x0]};try{let _0x3b8802=await this[_0xe1a1a0(0x4cd)][_0xe1a1a0(0x15e)][_0xe1a1a0(0x5ee)](_0x95bb7d,_0x5b084d,this[_0xe1a1a0(0x3ce)][_0xe1a1a0(0x5c8)]);_0x3b8802&&q(this['instanceName'],'messages',{'message':_0x3b8802});}catch{}}}[a0_0x3c797d(0x178)](_0x41a99f){const _0x27b055=a0_0x3c797d;let _0x4b9179=[];return _0x41a99f[_0x27b055(0x3b8)](_0x5955de=>{const _0x4e3931=_0x27b055;_0x5955de[_0x4e3931(0x274)]&&_0x4b9179[_0x4e3931(0xab)]('['+_0x5955de[_0x4e3931(0x274)]+']'),_0x5955de[_0x4e3931(0x477)][_0x4e3931(0x3b8)](_0x33009e=>{const _0x25b307=_0x4e3931;let _0x16d8db=_0x33009e['title'];_0x33009e[_0x25b307(0x60c)]&&(_0x16d8db+='\x0a'+_0x33009e[_0x25b307(0x60c)]),_0x16d8db+='\x0a'+_0x33009e['rowId'],_0x4b9179['push'](_0x16d8db);});}),_0x4b9179[_0x27b055(0x530)]('|');}[a0_0x3c797d(0x4bd)](_0x2c2ba0){const _0x5aa183=a0_0x3c797d;let _0x9a3b80=_0x2c2ba0[_0x5aa183(0x6d3)](/\\n/g,'\x0a')[_0x5aa183(0x6db)]('\x0a')[_0x5aa183(0x12d)](_0x1d13b5=>_0x1d13b5[_0x5aa183(0x129)](_0x5aa183(0x135))||_0x1d13b5[_0x5aa183(0x129)]('EMAIL')),_0x139b46='';return _0x9a3b80[_0x5aa183(0x3b8)](_0xeadfb8=>{const _0xb3d24b=_0x5aa183;let _0x32359d=/TEL(?:.*):(.+)/,_0x14a936=/EMAIL(?:.*):(.+)/,_0x5607f9=_0xeadfb8[_0xb3d24b(0x624)](_0x32359d),_0x470362=_0xeadfb8['match'](_0x14a936);if(_0x5607f9){let _0x557fc4=_0x5607f9[0x1]['replace'](/-| |\+|\(|\)/g,'')['trim']();_0x139b46+=_0xb3d24b(0x3f4)+_0x557fc4+'\x0a';}else{if(_0x470362){let _0x88d3b9=_0x470362[0x1][_0xb3d24b(0x6df)]();_0x139b46+=_0xb3d24b(0x32c)+_0x88d3b9+'\x0a';}}}),_0x139b46[_0x5aa183(0x6df)]();}async['updateChatWithMessage'](_0x85c580,_0x67d202,_0xc34863){const _0x5567c9=a0_0x3c797d;if(!_0x85c580[_0x5567c9(0xe8)])return;let _0x46bc3c=_0x67d202['key'][_0x5567c9(0xb8)]['replace'](/:\d{1,2}@/g,'@'),_0x1649d0=_0x67d202[_0x5567c9(0x2d3)][_0x5567c9(0x468)],_0x1ae947=_0x46bc3c[_0x5567c9(0x3c4)](_0x5567c9(0x287)),_0x232e5b=_0x67d202[_0x5567c9(0xce)]?.['text']||_0x67d202[_0x5567c9(0xce)]?.[_0x5567c9(0x5d2)]||_0x67d202[_0x5567c9(0xce)]?.['vote']||_0x67d202[_0x5567c9(0xce)]?.[_0x5567c9(0x42e)],_0x3e25c2={'lastmsg':_0x67d202['messageTimestamp']||Date[_0x5567c9(0x38d)](),'imported':!0x1,'unreadcount':_0x1649d0?0x0:0x1,..._0x1649d0||_0x1ae947?{}:{'name':_0x67d202[_0x5567c9(0x562)]},..._0x1ae947?{'group':_0x1ae947}:{}};if(_0xc34863===_0x5567c9(0x16c)&&_0x1649d0&&this[_0x5567c9(0x6e6)]?.['flowConfig'][_0x5567c9(0x57a)]&&!_0x232e5b[_0x5567c9(0x28b)](this[_0x5567c9(0x6e6)]?.[_0x5567c9(0x5a9)]['prefixCommand'])){let _0x3e3398=(this[_0x5567c9(0x6e6)]?.['flowConfig'][_0x5567c9(0x6b2)]||0x5)*0xea60,_0x211736=Date['now']()+_0x3e3398;_0x3e25c2[_0x5567c9(0x6b9)]=_0x211736,this[_0x5567c9(0x30c)][_0x5567c9(0x5ba)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20'+_0x211736+'.');}let _0x2e9c5c=await this[_0x5567c9(0x4cd)][_0x5567c9(0x65c)][_0x5567c9(0x119)]({'where':{'_id':_0x46bc3c}},_0x3e25c2,this['instance'][_0x5567c9(0x5c8)],{'new':!0x0,'upsert':!0x0});if(!_0x1ae947&&(!_0x2e9c5c?.['leadInfo']||!_0x2e9c5c[_0x5567c9(0x180)][_0x5567c9(0x481)])&&_0x67d202[_0x5567c9(0x562)]&&!_0x1649d0&&await this['repository']['chat']['updateOne']({'where':{'_id':_0x46bc3c}},{'leadInfo':{'nome':_0x67d202['pushName']}},this[_0x5567c9(0x3ce)]['wuid'],{'new':!0x0,'upsert':!0x1}),_0x2e9c5c)q(this[_0x5567c9(0x589)],_0x5567c9(0x143),{'chat':_0x2e9c5c});else{this[_0x5567c9(0x30c)]['error'](this[_0x5567c9(0x589)]+'\x20('+this[_0x5567c9(0x3ce)][_0x5567c9(0x5c8)]+_0x5567c9(0x554));return;}if(!this[_0x5567c9(0x6e6)]?.[_0x5567c9(0x5a9)]['enabled'])return this[_0x5567c9(0x30c)][_0x5567c9(0x5ba)](this[_0x5567c9(0x589)]+'\x20('+this[_0x5567c9(0x3ce)][_0x5567c9(0x5c8)]+_0x5567c9(0x37a)),null;if(_0x2e9c5c[_0x5567c9(0x3c1)]['includes'](_0x5567c9(0x287))&&this['AutomateSystem']?.[_0x5567c9(0x5a9)]['ignoreGroups']===!0x0)return this[_0x5567c9(0x30c)][_0x5567c9(0x5ba)](this[_0x5567c9(0x589)]+'\x20('+this[_0x5567c9(0x3ce)][_0x5567c9(0x5c8)]+_0x5567c9(0x226)),null;if(_0x2e9c5c[_0x5567c9(0x180)]){if(_0x2e9c5c[_0x5567c9(0x180)][_0x5567c9(0x48f)]===0x0||_0x2e9c5c[_0x5567c9(0x180)]['atendimentoAberto'])return this['logger'][_0x5567c9(0x5ba)](this[_0x5567c9(0x589)]+'\x20('+this['instance'][_0x5567c9(0x5c8)]+_0x5567c9(0x5dd)+_0x46bc3c+',\x20saindo.'),null;if(_0x2e9c5c['leadInfo'][_0x5567c9(0x48f)]>Date['now']()&&!_0x67d202[_0x5567c9(0xce)]?.[_0x5567c9(0x407)])return this[_0x5567c9(0x30c)][_0x5567c9(0x5ba)](this[_0x5567c9(0x589)]+'\x20('+this[_0x5567c9(0x3ce)]['wuid']+_0x5567c9(0x2e6)+new Date(_0x2e9c5c['leadInfo'][_0x5567c9(0x48f)])[_0x5567c9(0x576)]()+_0x5567c9(0x547)),null;}this[_0x5567c9(0x30c)][_0x5567c9(0x5ba)](this['instanceName']+'\x20('+this[_0x5567c9(0x3ce)][_0x5567c9(0x5c8)]+_0x5567c9(0xc8)),this[_0x5567c9(0x1fc)](_0xc34863,_0x67d202);}async[a0_0x3c797d(0x2bb)](_0x538f89,_0x2958e2){const _0x28cd9d=a0_0x3c797d;if(_0x2958e2[_0x28cd9d(0xe8)]){let _0x5319bd=_0x538f89['map'](async _0x36cb0f=>{const _0x1b380b=_0x28cd9d;try{let _0x37d3fa={'_id':_0x36cb0f[_0x1b380b(0x3c1)],'owner':_0x36cb0f['owner'],'lastcache':0x0};if(_0x36cb0f['group']!==null&&(_0x37d3fa[_0x1b380b(0x684)]=_0x36cb0f[_0x1b380b(0x684)]),_0x36cb0f[_0x1b380b(0x42e)]!==null&&(_0x37d3fa[_0x1b380b(0x42e)]=_0x36cb0f[_0x1b380b(0x42e)]),_0x36cb0f[_0x1b380b(0xff)]!==null&&(_0x37d3fa[_0x1b380b(0xff)]=_0x36cb0f[_0x1b380b(0xff)]),_0x36cb0f[_0x1b380b(0x54f)]!==null&&(_0x37d3fa[_0x1b380b(0x54f)]=_0x36cb0f['imagechat']),_0x36cb0f[_0x1b380b(0x54f)]===null&&(_0x37d3fa[_0x1b380b(0x54f)]=_0x1b380b(0x4a7)),_0x36cb0f[_0x1b380b(0x495)]!==null&&(_0x37d3fa[_0x1b380b(0x495)]=_0x36cb0f[_0x1b380b(0x495)]),_0x36cb0f[_0x1b380b(0x16a)]!==null&&(_0x37d3fa[_0x1b380b(0x16a)]=_0x36cb0f[_0x1b380b(0x16a)]),_0x36cb0f[_0x1b380b(0x13b)]!==null&&(_0x37d3fa['unreadcount']=_0x36cb0f[_0x1b380b(0x13b)]),Object[_0x1b380b(0x4e5)](_0x37d3fa)[_0x1b380b(0x234)]>0x0)return await this['repository'][_0x1b380b(0x65c)]['updateOne']({'where':{'_id':_0x36cb0f[_0x1b380b(0x3c1)]}},_0x37d3fa,this['instance'][_0x1b380b(0x5c8)]);}catch(_0x120cb8){return console[_0x1b380b(0x362)](_0x1b380b(0x4b7)+_0x36cb0f[_0x1b380b(0x3c1)]+':',_0x120cb8),null;}}),_0x5473f7=(await Promise[_0x28cd9d(0x109)](_0x5319bd))[_0x28cd9d(0x12d)](_0x25298a=>_0x25298a!==null)[_0x28cd9d(0x234)];this[_0x28cd9d(0x30c)][_0x28cd9d(0x5ba)](this[_0x28cd9d(0x589)]+'\x20('+this[_0x28cd9d(0x3ce)][_0x28cd9d(0x5c8)]+_0x28cd9d(0x36f)+_0x5473f7+_0x28cd9d(0x341)+this['instance']['wuid']+_0x28cd9d(0x2e7));}}async['readMessageBot'](_0x285dc2){const _0x3562fb=a0_0x3c797d;this[_0x3562fb(0x30c)][_0x3562fb(0x5ba)](this['instanceName']+'\x20('+this[_0x3562fb(0x3ce)]['wuid']+_0x3562fb(0xfc));let _0xfe09d4={'readMessages':[{'remoteJid':_0x285dc2[_0x3562fb(0x181)]['lastReceivedMessage']['key'][_0x3562fb(0xb8)],'fromMe':_0x285dc2[_0x3562fb(0x181)]['lastReceivedMessage'][_0x3562fb(0x2d3)][_0x3562fb(0x468)],'id':_0x285dc2[_0x3562fb(0x181)]['lastReceivedMessage'][_0x3562fb(0x2d3)]['id']}]};await this[_0x3562fb(0x154)](_0xfe09d4);}async[a0_0x3c797d(0x1fc)](_0x588ee3,_0x4beb11){const _0x1e1fe2=a0_0x3c797d;try{let {key:_0x49fc09,message_normalized:_0x50ff9}=_0x4beb11,_0x4feb35=_0x50ff9,_0x317fc5=_0x50ff9[_0x1e1fe2(0x3d2)]||_0x50ff9[_0x1e1fe2(0x5d2)]||_0x50ff9['vote']||_0x50ff9[_0x1e1fe2(0x42e)],_0x367fc8=_0x49fc09[_0x1e1fe2(0xb8)],_0x53ddc1;if(_0x4feb35[_0x1e1fe2(0x2d3)]['fromMe']&&_0x317fc5[_0x1e1fe2(0x6df)]()!==this[_0x1e1fe2(0x6e6)]?.[_0x1e1fe2(0x5a9)][_0x1e1fe2(0x266)][_0x1e1fe2(0x6df)]())return this[_0x1e1fe2(0x30c)][_0x1e1fe2(0x5ba)](this[_0x1e1fe2(0x589)]+'\x20('+this[_0x1e1fe2(0x3ce)][_0x1e1fe2(0x5c8)]+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.'),null;if(_0x4feb35[_0x1e1fe2(0x2d3)][_0x1e1fe2(0x468)]&&_0x317fc5[_0x1e1fe2(0x6df)]()===this['AutomateSystem']?.[_0x1e1fe2(0x5a9)]['stopConversation']['trim']()){this['logger'][_0x1e1fe2(0x5ba)](this[_0x1e1fe2(0x589)]+'\x20('+this['instance']['wuid']+_0x1e1fe2(0x640));let _0x39eeec=await this[_0x1e1fe2(0x4cd)]['flowConversation'][_0x1e1fe2(0x2ec)]({'remoteJid':_0x367fc8,'status':_0x1e1fe2(0x53f)},this['instance'][_0x1e1fe2(0x5c8)]);this[_0x1e1fe2(0x30c)][_0x1e1fe2(0x5ba)](this['instanceName']+'\x20('+this[_0x1e1fe2(0x3ce)][_0x1e1fe2(0x5c8)]+'):\x20Conversas\x20encontradas:'+_0x39eeec);let _0x426e5e=Date[_0x1e1fe2(0x38d)](),_0x3b9688;return this[_0x1e1fe2(0x6e6)]?.[_0x1e1fe2(0x5a9)][_0x1e1fe2(0xba)]===0x0?_0x3b9688={'stoppedUntil':_0x426e5e+0x7591f6200}:_0x3b9688={'stoppedUntil':_0x426e5e+this[_0x1e1fe2(0x6e6)]?.[_0x1e1fe2(0x5a9)][_0x1e1fe2(0xba)]*0x3c*0x3e8},this[_0x1e1fe2(0x30c)][_0x1e1fe2(0x5ba)](this[_0x1e1fe2(0x589)]+'\x20('+this['instance']['wuid']+_0x1e1fe2(0x485)+_0x3b9688),this['updateStopChat'](_0x53ddc1,_0x3b9688[_0x1e1fe2(0x26f)]),null;}if(_0x317fc5&&_0x317fc5[_0x1e1fe2(0x28b)](this[_0x1e1fe2(0x6e6)]?.[_0x1e1fe2(0x5a9)]['prefixCommand'])&&_0x317fc5[_0x1e1fe2(0x234)]>0x4){let _0x10d5c2=await this['repository'][_0x1e1fe2(0x171)][_0x1e1fe2(0x2f8)]({'where':{'startCommandWord':_0x317fc5}},this[_0x1e1fe2(0x3ce)][_0x1e1fe2(0x5c8)]);if(this['logger'][_0x1e1fe2(0x5ba)](this[_0x1e1fe2(0x589)]+'\x20('+this[_0x1e1fe2(0x3ce)][_0x1e1fe2(0x5c8)]+_0x1e1fe2(0x1ed)),_0x10d5c2)_0x53ddc1=await this[_0x1e1fe2(0x376)](_0x10d5c2,_0x4feb35[_0x1e1fe2(0x2d3)],_0x4feb35);else return this[_0x1e1fe2(0x30c)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x1e1fe2(0x5c8)]+_0x1e1fe2(0x5c6)),null;}else _0x53ddc1=await this[_0x1e1fe2(0x352)](_0x367fc8,_0x4feb35);if(_0x53ddc1){this[_0x1e1fe2(0x30c)][_0x1e1fe2(0x5ba)](this[_0x1e1fe2(0x589)]+'\x20('+this[_0x1e1fe2(0x3ce)]['wuid']+_0x1e1fe2(0x28e)),!_0x49fc09[_0x1e1fe2(0x468)]&&_0x53ddc1['readMessages']&&this['readMessageBot'](_0x53ddc1);let _0x3d9766=await this[_0x1e1fe2(0x6e8)](_0x53ddc1);_0x3d9766&&await this[_0x1e1fe2(0x5e3)](_0x53ddc1,_0x3d9766);}}catch(_0x506ae2){this[_0x1e1fe2(0x30c)][_0x1e1fe2(0x362)](this[_0x1e1fe2(0x589)]+'\x20('+this['instance'][_0x1e1fe2(0x5c8)]+_0x1e1fe2(0x411)+(_0x506ae2 instanceof Error?_0x506ae2['message']:JSON['stringify'](_0x506ae2,null,0x2)));}}[a0_0x3c797d(0x494)](_0x52d2d0,_0x103dea='',_0x259f13={},_0x5ea92d=!0x0){const _0x5f4172=a0_0x3c797d;for(let _0x138eb0 in _0x52d2d0){let _0x25f5bc=_0x5ea92d?'_'+_0x138eb0:''+_0x103dea+_0x138eb0;typeof _0x52d2d0[_0x138eb0]==_0x5f4172(0xc5)&&_0x52d2d0[_0x138eb0]!==null?this[_0x5f4172(0x494)](_0x52d2d0[_0x138eb0],_0x25f5bc+'.',_0x259f13,!0x1):_0x259f13[_0x25f5bc]=String(_0x52d2d0[_0x138eb0]);}return _0x259f13;}['variablesToObject'](_0x2af652){const _0x5153ab=a0_0x3c797d;let _0x3bab40={};for(let _0x525115 of _0x2af652)typeof _0x525115[_0x5153ab(0x42e)]==_0x5153ab(0x220)&&typeof _0x525115[_0x5153ab(0x22d)]==_0x5153ab(0x220)&&(_0x3bab40[_0x525115[_0x5153ab(0x42e)]]=_0x525115[_0x5153ab(0x22d)]);return _0x3bab40;}async[a0_0x3c797d(0x6e8)](_0x87830c){const _0x5ded3a=a0_0x3c797d;if(!this['AutomateSystem']?.[_0x5ded3a(0x5a9)][_0x5ded3a(0x57a)]||_0x87830c[_0x5ded3a(0x3fc)]!==_0x5ded3a(0x53f)&&_0x87830c['waitingMenu_id']==='')return null;let _0x3ea0=_0x87830c[_0x5ded3a(0x181)][_0x5ded3a(0x438)]||_0x5ded3a(0x2bc);typeof _0x87830c['chatLog'][_0x5ded3a(0x617)]>'u'&&(_0x87830c[_0x5ded3a(0x181)][_0x5ded3a(0x617)]=!0x0);let _0x123fce=_0x87830c[_0x5ded3a(0x181)][_0x5ded3a(0x617)];this[_0x5ded3a(0x30c)][_0x5ded3a(0x5ba)](this[_0x5ded3a(0x589)]+'\x20('+this[_0x5ded3a(0x3ce)][_0x5ded3a(0x5c8)]+'):\x20lastBlockId:\x20'+_0x3ea0+',\x20lastCondition:\x20'+_0x123fce);let _0x23f027=_0x3ea0===_0x5ded3a(0x2bc)?_0x87830c[_0x5ded3a(0x543)]['find'](_0x5b84d2=>_0x5b84d2[_0x5ded3a(0x42a)]===_0x5ded3a(0x2bc)):_0x87830c['blocks'][_0x5ded3a(0x2ec)](_0xadfb45=>_0xadfb45[_0x5ded3a(0x3c1)][_0x5ded3a(0x509)]()===_0x3ea0[_0x5ded3a(0x509)]());if(!_0x23f027)return this['logger']['error'](this[_0x5ded3a(0x589)]+'\x20('+this[_0x5ded3a(0x3ce)][_0x5ded3a(0x5c8)]+_0x5ded3a(0x595)+_0x3ea0),null;let _0x5d6d78={'_pushName':_0x87830c['chatLog']['lastReceivedMessage'][_0x5ded3a(0x562)],..._0x87830c[_0x5ded3a(0x181)][_0x5ded3a(0x2e8)]},_0x58a5e5=null;if(_0x87830c[_0x5ded3a(0x138)]){let _0x47fdfd=_0x87830c['chatLog'][_0x5ded3a(0x6a9)][_0x5ded3a(0x407)],_0x98921f=_0x87830c[_0x5ded3a(0x5b6)][_0x5ded3a(0x2ec)](_0x1d7d94=>_0x1d7d94['option']===_0x47fdfd);if(_0x98921f){let _0x2346f4=_0x98921f[_0x5ded3a(0x5b3)];if(_0x58a5e5=_0x87830c[_0x5ded3a(0x543)][_0x5ded3a(0x2ec)](_0x148481=>_0x148481[_0x5ded3a(0x20f)]===_0x2346f4&&_0x148481['order']===0x1),_0x23f027['uazapi'][_0x5ded3a(0x149)]){let _0x57ffbb={'id':_0x87830c[_0x5ded3a(0x138)],'remoteJid':_0x87830c['remoteJid'],'fromMe':!0x0};await this[_0x5ded3a(0x37d)](_0x57ffbb);}if(_0x23f027[_0x5ded3a(0x64b)]['pollOnReplyDelete']&&_0x23f027['uazapi'][_0x5ded3a(0x156)]&&_0x23f027[_0x5ded3a(0x64b)][_0x5ded3a(0x328)]===_0x5ded3a(0x153)){let _0x20cfae={'number':_0x87830c[_0x5ded3a(0xb8)],'options':{'delay':0x0},'textMessage':{'text':_0x5ded3a(0x644)+_0x87830c[_0x5ded3a(0x55a)]+_0x5ded3a(0x148)+_0x47fdfd}};await this['textMessage'](_0x20cfae);}_0x87830c[_0x5ded3a(0x3fc)]=_0x5ded3a(0x53f),_0x87830c[_0x5ded3a(0x138)]='',_0x87830c['waitingMenu_text']='',_0x87830c[_0x5ded3a(0x5b6)]=[];}else{this[_0x5ded3a(0x30c)]['verbose'](this[_0x5ded3a(0x589)]+'\x20('+this[_0x5ded3a(0x3ce)][_0x5ded3a(0x5c8)]+_0x5ded3a(0x4f6));let _0x28dc44={'activatedCount':_0x87830c[_0x5ded3a(0x181)][_0x5ded3a(0xfe)][_0x5ded3a(0x12d)](_0x559990=>String(_0x559990[_0x5ded3a(0x307)])===String(_0x3ea0))[_0x5ded3a(0x234)],'moreLogs':[_0x5ded3a(0xe7)]};if(_0x23f027[_0x5ded3a(0x64b)]['pollErrorMessage']){let _0x155094={'number':_0x87830c[_0x5ded3a(0xb8)],'options':{'delay':0x0},'textMessage':{'text':_0x23f027[_0x5ded3a(0x64b)]['pollErrorMessage']}};await this['textMessage'](_0x155094);}if(_0x23f027[_0x5ded3a(0x32e)]!==void 0x0&&_0x28dc44['activatedCount']>=_0x23f027['maxActives']){let _0x5a1d20=Date[_0x5ded3a(0x38d)](),_0x11f4b7=_0x23f027[_0x5ded3a(0x331)]??0xa;isNaN(_0x11f4b7)&&(_0x11f4b7=0xa);let _0x3d74aa=_0x5a1d20+_0x11f4b7*0x3c*0x3e8;_0x28dc44[_0x5ded3a(0x2fa)]=_0x3d74aa,_0x28dc44[_0x5ded3a(0x1cd)][_0x5ded3a(0xab)]('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this[_0x5ded3a(0x5dc)](_0x87830c,_0x3d74aa),_0x87830c[_0x5ded3a(0x138)]='',_0x87830c[_0x5ded3a(0x55a)]='',_0x87830c['waitingMenu_replyOptions']=[];}return this[_0x5ded3a(0x542)](_0x87830c,_0x23f027,_0x28dc44,!0x0),null;}}if(_0x123fce&&_0x23f027[_0x5ded3a(0x5b3)]&&!_0x87830c['waitingMenu_id']){let _0x51afaf=_0x87830c[_0x5ded3a(0x543)][_0x5ded3a(0x12d)](_0x3e6051=>_0x3e6051['groupId']['toString']()===_0x23f027[_0x5ded3a(0x5b3)][_0x5ded3a(0x509)]())[_0x5ded3a(0x537)]((_0x1517c8,_0x532ce1)=>_0x1517c8[_0x5ded3a(0x1ca)]-_0x532ce1[_0x5ded3a(0x1ca)]);_0x51afaf[_0x5ded3a(0x234)]>0x0&&(_0x58a5e5=_0x51afaf[0x0]);}if(!_0x58a5e5){let _0x35c316=_0x23f027[_0x5ded3a(0x20f)],_0x4a725f=_0x87830c[_0x5ded3a(0x543)][_0x5ded3a(0x12d)](_0x6b4847=>_0x6b4847[_0x5ded3a(0x20f)]===_0x35c316&&_0x6b4847['order']>_0x23f027[_0x5ded3a(0x1ca)])['sort']((_0xb89edd,_0x43162a)=>_0xb89edd[_0x5ded3a(0x1ca)]-_0x43162a[_0x5ded3a(0x1ca)]);_0x4a725f[_0x5ded3a(0x234)]>0x0&&(_0x58a5e5=_0x4a725f[0x0]);}if(!_0x58a5e5)return _0x87830c[_0x5ded3a(0x3fc)]=_0x5ded3a(0x18f),null;_0x87830c[_0x5ded3a(0x181)][_0x5ded3a(0x2e8)]=_0x5d6d78;let _0x33731d=JSON[_0x5ded3a(0x6cb)](JSON[_0x5ded3a(0xf1)](_0x58a5e5));return this['replaceVariablesInObject'](_0x33731d,_0x87830c['chatLog'][_0x5ded3a(0x2e8)]),_0x87830c[_0x5ded3a(0x181)][_0x5ded3a(0x438)]=_0x33731d[_0x5ded3a(0x3c1)],_0x87830c[_0x5ded3a(0x181)][_0x5ded3a(0x617)]=!0x0,_0x33731d;}['replaceVariables'](_0x5839df,_0x4570ef){const _0x4db779=a0_0x3c797d;return _0x5839df[_0x4db779(0x6d3)](/\{\{([^}]+)\}\}/g,(_0x5617de,_0x5c48c5)=>_0x4570ef[_0x5c48c5]||'');}[a0_0x3c797d(0x277)](_0x21427a,_0x1aa360){const _0x5b63a9=a0_0x3c797d;for(let _0x1b5e16 in _0x21427a)typeof _0x21427a[_0x1b5e16]==_0x5b63a9(0x220)?_0x21427a[_0x1b5e16]=this['replaceVariables'](_0x21427a[_0x1b5e16],_0x1aa360):typeof _0x21427a[_0x1b5e16]==_0x5b63a9(0xc5)&&this[_0x5b63a9(0x277)](_0x21427a[_0x1b5e16],_0x1aa360);}async[a0_0x3c797d(0x454)](_0x1f9248,_0x31db7f){const _0x27cbd4=a0_0x3c797d;let _0x4df6df=_0x31db7f[_0x27cbd4(0x3c1)];if(_0x1f9248[_0x27cbd4(0x181)]&&_0x1f9248[_0x27cbd4(0x181)][_0x27cbd4(0xfe)]){let _0x573dfa=_0x1f9248[_0x27cbd4(0x181)][_0x27cbd4(0xfe)]['filter'](_0x534d92=>String(_0x534d92[_0x27cbd4(0x307)])===String(_0x4df6df))[_0x27cbd4(0x400)]();if(_0x573dfa&&_0x573dfa[_0x27cbd4(0x362)]&&_0x31db7f[_0x27cbd4(0x455)])return _0x1f9248['status']=_0x27cbd4(0x18f),await this[_0x27cbd4(0x32d)](_0x1f9248),null;}if(_0x31db7f[_0x27cbd4(0x42a)]===_0x27cbd4(0x64b)&&_0x31db7f[_0x27cbd4(0x64b)][_0x27cbd4(0x6bc)]===_0x27cbd4(0x2b6)&&_0x1f9248[_0x27cbd4(0x138)])return _0x1f9248[_0x27cbd4(0x181)][_0x27cbd4(0x438)]=_0x4df6df,await this[_0x27cbd4(0x32d)](_0x1f9248),null;let _0x501fc7=await this[_0x27cbd4(0x6e8)](_0x1f9248);if(_0x1f9248[_0x27cbd4(0x181)]&&_0x1f9248[_0x27cbd4(0x181)][_0x27cbd4(0xfe)]){let _0x4bbba7=_0x1f9248['chatLog'][_0x27cbd4(0xfe)][_0x27cbd4(0x12d)](_0x3a2893=>String(_0x3a2893['blockId'])===String(_0x4df6df))[_0x27cbd4(0x234)];if(_0x31db7f[_0x27cbd4(0x32e)]!==void 0x0&&_0x4bbba7>=_0x31db7f['maxActives']){let _0x4d1cd5=Date[_0x27cbd4(0x38d)](),_0x12628e=_0x31db7f[_0x27cbd4(0x331)]??0xa;isNaN(_0x12628e)&&(_0x12628e=0xa);let _0x152415=_0x4d1cd5+_0x12628e*0x3c*0x3e8,_0x3dd5f3={'newStoppedUntil':_0x152415};return this[_0x27cbd4(0x5dc)](_0x1f9248,_0x152415),this[_0x27cbd4(0x542)](_0x1f9248,_0x31db7f,_0x3dd5f3,!0x0),null;}}_0x501fc7&&_0x501fc7[_0x27cbd4(0x42a)]!==_0x27cbd4(0x467)&&await this['processblock'](_0x1f9248,_0x501fc7),_0x501fc7||await this[_0x27cbd4(0x32d)](_0x1f9248),_0x501fc7&&_0x501fc7[_0x27cbd4(0x42a)]===_0x27cbd4(0x467)&&(_0x1f9248['chatLog']['lastBlockId']=_0x4df6df,await this[_0x27cbd4(0x32d)](_0x1f9248));}async[a0_0x3c797d(0x5e3)](_0x1f52a8,_0x141101){const _0x3e0144=a0_0x3c797d;try{let _0xec86cb=_0x141101[_0x3e0144(0x42a)];this['logger']['verbose'](this[_0x3e0144(0x589)]+'\x20('+this[_0x3e0144(0x3ce)][_0x3e0144(0x5c8)]+_0x3e0144(0x473)+_0xec86cb);let _0x25a192={'uazapi':()=>this[_0x3e0144(0x144)](_0x1f52a8,_0x141101),'save':()=>this['saveTextReply'](_0x1f52a8,_0x141101),'stop':()=>this['stopConversation'](_0x1f52a8,_0x141101),'condition':()=>this['processConditions'](_0x1f52a8,_0x141101),'varedit':()=>this[_0x3e0144(0x2e0)](_0x1f52a8,_0x141101),'apirequest':()=>this[_0x3e0144(0x3eb)](_0x1f52a8,_0x141101),'goToFlow':()=>this[_0x3e0144(0x375)](_0x1f52a8,_0x141101)}[_0xec86cb];_0x25a192&&await _0x25a192();}catch(_0x526c40){this[_0x3e0144(0x30c)][_0x3e0144(0x362)](this[_0x3e0144(0x589)]+'\x20('+this[_0x3e0144(0x3ce)]['wuid']+_0x3e0144(0x486)+(_0x526c40 instanceof Error?_0x526c40['message']:JSON[_0x3e0144(0xf1)](_0x526c40,null,0x2)));}}async[a0_0x3c797d(0x375)](_0x168de1,_0x1cddee){const _0x2f697e=a0_0x3c797d;if(this[_0x2f697e(0x30c)][_0x2f697e(0x5ba)](this[_0x2f697e(0x589)]+'\x20('+this[_0x2f697e(0x3ce)][_0x2f697e(0x5c8)]+'):\x20Entrou\x20na\x20função\x20goToFlow'),!_0x168de1||!_0x1cddee)return this[_0x2f697e(0x30c)][_0x2f697e(0x362)](this[_0x2f697e(0x589)]+'\x20('+this[_0x2f697e(0x3ce)]['wuid']+_0x2f697e(0x1b0)),null;await this['updateConversation'](_0x168de1,_0x1cddee,{},!0x0,!0x0),console[_0x2f697e(0x247)](_0x2f697e(0x476)),console[_0x2f697e(0x247)](_0x1cddee);let _0x43fa46=_0x1cddee['goToFlow'];console[_0x2f697e(0x247)]('flowname:\x20',_0x43fa46),_0x168de1=await this[_0x2f697e(0x146)](_0x43fa46,_0x168de1[_0x2f697e(0xb8)],_0x168de1[_0x2f697e(0x181)]['realVariables']),this[_0x2f697e(0x30c)][_0x2f697e(0x5ba)](this[_0x2f697e(0x589)]+'\x20('+this[_0x2f697e(0x3ce)][_0x2f697e(0x5c8)]+_0x2f697e(0x136));let _0x3b452e=await this[_0x2f697e(0x6e8)](_0x168de1);_0x3b452e&&await this[_0x2f697e(0x5e3)](_0x168de1,_0x3b452e);}async[a0_0x3c797d(0x146)](_0x39935e,_0x2f3206,_0x11aefb){const _0x165f14=a0_0x3c797d;this[_0x165f14(0x30c)]['verbose'](this[_0x165f14(0x589)]+'\x20('+this[_0x165f14(0x3ce)][_0x165f14(0x5c8)]+_0x165f14(0x5e4));try{if(_0x39935e=await this['repository'][_0x165f14(0x171)][_0x165f14(0x2f8)]({'where':{'name':_0x39935e}},this[_0x165f14(0x3ce)][_0x165f14(0x5c8)]),!_0x39935e)return this[_0x165f14(0x30c)][_0x165f14(0x362)](this[_0x165f14(0x589)]+'\x20('+this[_0x165f14(0x3ce)][_0x165f14(0x5c8)]+'):\x20Flow\x20não\x20encontrado'),null;let _0x271ca2=require('mongodb')[_0x165f14(0x5b9)],_0x460fca=Date['now'](),_0x1fbc53=_0x165f14(0x2bc),_0x4761c2={},_0x26ea20={},_0x3c30c7={..._0x39935e,'chatLog':null},_0x1a7e14={'lastReceivedMessage':_0x4761c2,'lastSendMessage':_0x26ea20,'lastBlockId':_0x1fbc53,'lastCondition':!0x0,'realVariables':_0x11aefb};_0x3c30c7[_0x165f14(0x181)]=_0x1a7e14,_0x3c30c7[_0x165f14(0x181)]['realVariables']={..._0x11aefb},delete _0x3c30c7[_0x165f14(0x3c1)],_0x3c30c7['_id']=new _0x271ca2(),_0x3c30c7[_0x165f14(0x5d4)]=_0x460fca,_0x3c30c7[_0x165f14(0x3fc)]=_0x165f14(0x53f),_0x3c30c7[_0x165f14(0xb8)]=_0x2f3206;let _0xcb09c5=await this[_0x165f14(0x4cd)][_0x165f14(0x24f)][_0x165f14(0x119)](_0x3c30c7['_id'],_0x3c30c7,this[_0x165f14(0x3ce)]['wuid']);return this[_0x165f14(0x30c)][_0x165f14(0x5ba)](this[_0x165f14(0x589)]+'\x20('+this[_0x165f14(0x3ce)][_0x165f14(0x5c8)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0xcb09c5?_0x3c30c7:null;}catch(_0x12236d){throw this[_0x165f14(0x30c)][_0x165f14(0x362)](this[_0x165f14(0x589)]+'\x20('+this[_0x165f14(0x3ce)][_0x165f14(0x5c8)]+_0x165f14(0x54d)+(_0x12236d instanceof Error?_0x12236d[_0x165f14(0x15e)]:JSON[_0x165f14(0xf1)](_0x12236d,null,0x2))),new m(_0x12236d[_0x165f14(0x15e)]);}}async[a0_0x3c797d(0x3eb)](_0xbed0da,_0x5b393a){const _0x239ff7=a0_0x3c797d;let _0x3bbc9c,_0x6efb3;try{let _0x1e3542=_0x5b393a[_0x239ff7(0x4ae)];if(!_0x1e3542||!_0x1e3542[_0x239ff7(0x47b)]||!_0x1e3542[_0x239ff7(0x5ac)])throw new Error(_0x239ff7(0x436));let _0x519438;([_0x239ff7(0x3e3),_0x239ff7(0x5bd),'https://api.elevenlabs.io/v1/text-to-speech/'][_0x239ff7(0x256)](_0x520f6a=>_0x1e3542[_0x239ff7(0x47b)][_0x239ff7(0x129)](_0x520f6a))||_0x1e3542[_0x239ff7(0x151)])&&(_0x519438=_0x239ff7(0x301));let _0x560a26={'method':_0x1e3542[_0x239ff7(0x5ac)],'url':_0x1e3542['url'],'headers':_0x1e3542['header']||{},'data':_0x1e3542[_0x239ff7(0x4a6)]||{},..._0x519438&&{'responseType':_0x519438}},_0x156846=await(0x0,se['default'])(_0x560a26),_0x14841d=_0x156846[_0x239ff7(0x2eb)][_0x239ff7(0x548)];if(_0x14841d&&_0x14841d[_0x239ff7(0x129)](_0x239ff7(0x6ea))){_0x3bbc9c=_0x156846[_0x239ff7(0x43c)];let _0x2122d0=_0xbed0da[_0x239ff7(0x181)][_0x239ff7(0x2e8)],_0x4f23dd=this[_0x239ff7(0x494)](_0x3bbc9c);return Object[_0x239ff7(0x653)](_0x2122d0,_0x4f23dd),_0xbed0da['chatLog'][_0x239ff7(0x2e8)]=_0x2122d0,_0x6efb3={'error':!0x1,'apiResponse':_0x3bbc9c},this[_0x239ff7(0x542)](_0xbed0da,_0x5b393a,_0x6efb3),_0x3bbc9c;}if(_0x14841d&&(_0x14841d['includes'](_0x239ff7(0x142))||_0x14841d[_0x239ff7(0x129)]('image')||_0x14841d[_0x239ff7(0x129)](_0x239ff7(0x6b8))||_0x14841d[_0x239ff7(0x129)](_0x239ff7(0x433)))){this[_0x239ff7(0x30c)][_0x239ff7(0x5ba)](this[_0x239ff7(0x589)]+'\x20('+this[_0x239ff7(0x3ce)][_0x239ff7(0x5c8)]+_0x239ff7(0x121)+_0x14841d);let _0x164f46=(0x0,Me['v4'])(),_0x614935='',_0x1b322d={'image/jpeg':_0x239ff7(0x35c),'image/png':_0x239ff7(0x41e),'image/gif':_0x239ff7(0xb6),'image/webp':'.webp','image/svg+xml':_0x239ff7(0x30d),'audio/mpeg':_0x239ff7(0x669),'audio/ogg':_0x239ff7(0x2d2),'audio/wav':_0x239ff7(0x24d),'video/mp4':_0x239ff7(0xd8),'video/webm':_0x239ff7(0x3a3),'video/ogg':'.ogv','text/plain':_0x239ff7(0x1c4),'application/pdf':_0x239ff7(0x4f4),'application/msword':_0x239ff7(0x2a2),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x239ff7(0x6ba),'application/vnd.ms-excel':'.xls','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x239ff7(0x15f),'application/vnd.ms-powerpoint':_0x239ff7(0x58d),'application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x1b322d[_0x14841d]?(_0x614935=_0x1b322d[_0x14841d],this[_0x239ff7(0x30c)]['verbose'](this[_0x239ff7(0x589)]+'\x20('+this[_0x239ff7(0x3ce)][_0x239ff7(0x5c8)]+_0x239ff7(0x2a8)+_0x614935)):(_0x614935='.error',this[_0x239ff7(0x30c)][_0x239ff7(0x5ba)](this[_0x239ff7(0x589)]+'\x20('+this[_0x239ff7(0x3ce)][_0x239ff7(0x5c8)]+'):\x20Usando\x20extensão\x20padrão:\x20'+_0x614935)),_0x164f46+=_0x614935,this[_0x239ff7(0x30c)][_0x239ff7(0x5ba)](this[_0x239ff7(0x589)]+'\x20('+this[_0x239ff7(0x3ce)][_0x239ff7(0x5c8)]+'):\x20Nome\x20do\x20arquivo\x20gerado:\x20'+_0x164f46);let _0x2cd628=this['configService'][_0x239ff7(0x5a8)](_0x239ff7(0x6a0))[_0x239ff7(0x3a5)];if(!_0x2cd628){let _0x10f196=this['configService'][_0x239ff7(0x5a8)](_0x239ff7(0x567));_0x2cd628=_0x239ff7(0xc4)+(_0x10f196&&_0x10f196[_0x239ff7(0x191)][_0x239ff7(0x6db)]('/')[0x4]);}let _0x67e166=Buffer['from'](_0x156846['data']);await this['saveMediaToFile'](_0x67e166,_0x164f46);let _0x5ec979=_0x239ff7(0x10f)+_0x164f46;_0x5ec979=''+_0x2cd628+_0x5ec979,_0x3bbc9c={'fileUrl':_0x5ec979},_0xbed0da[_0x239ff7(0x181)][_0x239ff7(0x2e8)][_0x239ff7(0x2c8)]=_0x5ec979;let _0x2b6a4a=_0xbed0da[_0x239ff7(0x181)][_0x239ff7(0x2e8)],_0x3bc92f=this[_0x239ff7(0x494)](_0x3bbc9c);return Object[_0x239ff7(0x653)](_0x2b6a4a,_0x3bc92f),_0xbed0da['chatLog'][_0x239ff7(0x2e8)]=_0x2b6a4a,_0x6efb3={'error':!0x1,'apiResponse':{'fileUrl':_0x5ec979}},this[_0x239ff7(0x542)](_0xbed0da,_0x5b393a,_0x6efb3),_0x3bbc9c;}}catch(_0x44039d){console[_0x239ff7(0x362)](_0x239ff7(0x594),_0x44039d),_0x44039d[_0x239ff7(0x619)]&&(_0x3bbc9c=_0x44039d['response'][_0x239ff7(0x43c)]);let _0x4b1646=_0xbed0da[_0x239ff7(0x181)]['realVariables'],_0x30f93e=this[_0x239ff7(0x494)](_0x3bbc9c);return Object[_0x239ff7(0x653)](_0x4b1646,_0x30f93e),_0xbed0da[_0x239ff7(0x181)][_0x239ff7(0x2e8)]=_0x4b1646,_0x6efb3={'error':!0x0,'errorLog':_0x44039d['toString'](),'apiResponse':_0x3bbc9c},this[_0x239ff7(0x542)](_0xbed0da,_0x5b393a,_0x6efb3),{'success':!0x1};}}[a0_0x3c797d(0xb0)](_0x37ed63,_0x3d5be7){const _0xf0526d=a0_0x3c797d;let _0x975273=_0x458ff4=>{let _0x5ce850=_0x458ff4['replace'](/[^0-9.,-]/g,'')['replace'](',','.'),_0x2ce686=parseFloat(_0x5ce850);return isNaN(_0x2ce686)?null:_0x2ce686;},_0x193bc7=_0x3d5be7[_0xf0526d(0x335)],_0x115484=_0x3d5be7['secondValue'];typeof _0x193bc7=='string'&&(_0x193bc7=this[_0xf0526d(0x573)](_0x193bc7,_0x37ed63['chatLog'][_0xf0526d(0x2e8)])??''),typeof _0x115484=='string'&&(_0x115484=this['replaceVariables'](_0x115484,_0x37ed63['chatLog'][_0xf0526d(0x2e8)])??'');let _0x45ee3a=null;if(!_0x3d5be7[_0xf0526d(0x1b6)])return null;switch(this['logger'][_0xf0526d(0x5ba)](this[_0xf0526d(0x589)]+'\x20('+this[_0xf0526d(0x3ce)]['wuid']+_0xf0526d(0x2c9)+_0x193bc7),this['logger'][_0xf0526d(0x5ba)](this[_0xf0526d(0x589)]+'\x20('+this[_0xf0526d(0x3ce)]['wuid']+_0xf0526d(0x4cf)+_0x115484),_0x3d5be7[_0xf0526d(0x1b6)]){case'+':case'-':case'*':case'/':let _0x40ccf6=_0x975273(_0x193bc7||'0'),_0x800552=_0x975273(_0x115484||'0');if(_0x40ccf6===null)return null;switch(_0x3d5be7[_0xf0526d(0x1b6)]){case'+':_0x45ee3a=_0x40ccf6+(_0x800552??0x0);break;case'-':_0x45ee3a=_0x40ccf6-(_0x800552??0x0);break;case'*':_0x45ee3a=_0x40ccf6*(_0x800552??0x1);break;case'/':_0x800552!==0x0&&(_0x45ee3a=_0x40ccf6/(_0x800552??0x1));break;}break;case _0xf0526d(0x3bc):case _0xf0526d(0x46f):let _0x1b5641=_0x115484,_0x576576=_0x3d5be7['replaceValue'];if(typeof _0x576576==_0xf0526d(0x220)&&(_0x576576=this[_0xf0526d(0x573)](_0x576576,_0x37ed63[_0xf0526d(0x181)]['realVariables'])??''),_0x1b5641&&_0x576576!==void 0x0){let _0x4b6ed3=_0x3d5be7['editOperator']==='findAndReplace'?new RegExp(_0x1b5641[_0xf0526d(0x6d3)](/[-\/\\^$*+?.()|[\]{}]/g,_0xf0526d(0x300)),'g'):new RegExp(_0x1b5641,'g');_0x45ee3a=_0x193bc7[_0xf0526d(0x6d3)](_0x4b6ed3,_0x576576);}else console[_0xf0526d(0x330)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case _0xf0526d(0x34e):_0x45ee3a=_0x115484;break;case _0xf0526d(0x19c):let _0x5e187d=_0x193bc7[_0xf0526d(0x624)](new RegExp(_0x115484||''));_0x45ee3a=_0x5e187d?_0x5e187d[0x0]:'';break;case _0xf0526d(0x192):_0x45ee3a=_0x193bc7['slice'](0x0,parseInt(_0x115484||'0'));break;case'truncatedtoEnd':let _0x3551ce=parseInt(_0x115484||'0');_0x45ee3a=_0x193bc7[_0xf0526d(0x2ae)](_0x193bc7[_0xf0526d(0x234)]-_0x3551ce);break;case _0xf0526d(0x1a0):let _0x23b0cf=_0x975273(_0x193bc7),_0x17ed32=parseInt(_0x115484||'0');_0x17ed32=Math[_0xf0526d(0x31b)](_0x17ed32),_0x23b0cf!==null?_0x45ee3a=_0x23b0cf[_0xf0526d(0x576)](_0xf0526d(0x4e9),{'minimumFractionDigits':_0x17ed32,'maximumFractionDigits':_0x17ed32}):(console[_0xf0526d(0x330)](_0xf0526d(0x35a)+_0x193bc7),_0x45ee3a=null);break;case _0xf0526d(0x61f):let _0x106c13=_0x975273(_0x193bc7);_0x106c13!==null?_0x45ee3a=_0x106c13[_0xf0526d(0x576)]('pt-BR',{'style':_0xf0526d(0x5e7),'currency':_0xf0526d(0x238)}):(console['warn'](_0xf0526d(0x329)+_0x193bc7),_0x45ee3a=null);break;case _0xf0526d(0x280):_0x45ee3a=_0x193bc7[_0xf0526d(0xd6)]();break;case'lowerCase':_0x45ee3a=_0x193bc7[_0xf0526d(0x6a6)]();break;case'capitalizedWords':_0x45ee3a=_0x193bc7[_0xf0526d(0x6db)]('\x20')[_0xf0526d(0x2a0)](_0x372df4=>_0x372df4[_0xf0526d(0x493)](0x0)[_0xf0526d(0xd6)]()+_0x372df4[_0xf0526d(0x2ae)](0x1)['toLowerCase']())[_0xf0526d(0x530)]('\x20');break;case _0xf0526d(0x2ed):_0x45ee3a=_0x193bc7[_0xf0526d(0x6df)]();break;default:_0x45ee3a=_0x193bc7;}return _0x45ee3a!==null?_0x45ee3a['toString']():null;}async['processvaredits'](_0x86198,_0x9f6ea6){const _0xbda9f9=a0_0x3c797d;try{let _0x1123b2=_0x86198[_0xbda9f9(0x45f)]?.[_0xbda9f9(0x12d)](_0xfd4d81=>_0xfd4d81['blockId']===_0x9f6ea6[_0xbda9f9(0x3c1)]?.['toString']())||[],_0x37b9ad=_0x9f6ea6['saveVariable'],_0x79ba40=null,_0xe01cc7=[],_0x56902a=_0x86198[_0xbda9f9(0x181)][_0xbda9f9(0x2e8)][_0x37b9ad];_0xe01cc7[_0xbda9f9(0xab)](_0xbda9f9(0x6e2)+_0x56902a+'\x22');for(let _0x54be67 of _0x1123b2){_0x54be67[_0xbda9f9(0x335)]=_0x56902a,_0x79ba40=_0x54be67[_0xbda9f9(0x335)];let _0x4da72b;try{_0x4da72b=this['applyvaredit'](_0x86198,_0x54be67);}catch(_0xa1e033){console['error']('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0xa1e033[_0xbda9f9(0x15e)]);continue;}if(_0x4da72b!==null){let _0x4c4823=_0xbda9f9(0x3a0)+_0x54be67[_0xbda9f9(0x1b6)]+'\x22',_0x5d54f2=['toBRL',_0xbda9f9(0x280),_0xbda9f9(0x4fb),'capitalizedWords',_0xbda9f9(0x2ed)];_0x54be67[_0xbda9f9(0x1b6)]==='findAndReplace'||_0x54be67['editOperator']===_0xbda9f9(0x46f)?_0x4c4823+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x54be67[_0xbda9f9(0x3e6)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x54be67[_0xbda9f9(0x6bd)]+'\x22':!_0x5d54f2[_0xbda9f9(0x129)](_0x54be67['editOperator'])&&_0x54be67['secondValue']!==null&&_0x54be67[_0xbda9f9(0x3e6)]!==void 0x0&&(_0x4c4823+=_0xbda9f9(0x521)+_0x54be67[_0xbda9f9(0x3e6)]+'\x22'),_0x4c4823+=_0xbda9f9(0x324)+_0x4da72b+'.',_0xe01cc7['push'](_0x4c4823);}_0x4da72b!==null&&(_0x56902a=_0x4da72b);}if(_0x86198[_0xbda9f9(0x181)][_0xbda9f9(0x2e8)]&&_0x9f6ea6['saveVariable']){_0x86198[_0xbda9f9(0x181)]['realVariables'][_0x9f6ea6['saveVariable']]=_0x56902a;let _0x9e1d1c={'variable':_0x9f6ea6[_0xbda9f9(0x1b3)],'oldValue':_0x79ba40,'newValue':_0x56902a,'moreLogs':_0xe01cc7};try{this[_0xbda9f9(0x542)](_0x86198,_0x9f6ea6,_0x9e1d1c);}catch(_0x42e787){console[_0xbda9f9(0x362)](_0xbda9f9(0x1d5)+_0x42e787[_0xbda9f9(0x15e)]);}}return _0x37b9ad;}catch(_0x5103b0){return console[_0xbda9f9(0x362)](_0xbda9f9(0x55b)+_0x5103b0[_0xbda9f9(0x15e)]),null;}}async[a0_0x3c797d(0x637)](_0x3bb898,_0x29ddac){const _0x5770d9=a0_0x3c797d;try{let _0x484bcd=[],_0x1f9a3d=_0x3bb898[_0x5770d9(0x654)][_0x5770d9(0x12d)](_0x2ca279=>_0x2ca279[_0x5770d9(0x307)]===_0x29ddac[_0x5770d9(0x3c1)][_0x5770d9(0x509)]()),_0x4d8514=null,_0x31e5c7=!0x1;for(let _0x3f5f9c of _0x1f9a3d){let _0x1e2e79=this['evaluateCondition'](_0x3bb898,_0x3f5f9c);_0x484bcd[_0x5770d9(0xab)](_0x5770d9(0x43d)+_0x3f5f9c['firstValue']+',\x20Comparador:\x20'+_0x3f5f9c['expression']+',\x20Segundo\x20Valor:\x20'+_0x3f5f9c[_0x5770d9(0x3e6)]+_0x5770d9(0x64e)+_0x1e2e79),_0x4d8514===null?_0x4d8514=_0x1e2e79:_0x3f5f9c[_0x5770d9(0x6a1)]==='and'?(_0x4d8514=_0x4d8514&&_0x1e2e79,_0x1e2e79||(_0x31e5c7=!0x0)):_0x3f5f9c[_0x5770d9(0x6a1)]==='or'&&(_0x31e5c7||(_0x4d8514=_0x4d8514||_0x1e2e79));}_0x4d8514===null&&(_0x4d8514=!0x0);let _0x88f0a0={'moreLogs':_0x484bcd};_0x3bb898[_0x5770d9(0x181)]['lastCondition']=_0x4d8514,await this[_0x5770d9(0x542)](_0x3bb898,_0x29ddac,_0x88f0a0);}catch(_0x49c8bb){this[_0x5770d9(0x30c)][_0x5770d9(0x362)](this[_0x5770d9(0x589)]+'\x20('+this['instance']['wuid']+_0x5770d9(0x64d)+(_0x49c8bb instanceof Error?_0x49c8bb['message']:JSON['stringify'](_0x49c8bb,null,0x2)));}}[a0_0x3c797d(0x170)](_0xc6af90,_0x299ed9){const _0x3f17df=a0_0x3c797d;let _0x21d838=_0x299ed9[_0x3f17df(0x335)],_0x2a34a0=_0x299ed9[_0x3f17df(0x3e6)];typeof _0x21d838==_0x3f17df(0x220)&&(_0x21d838=this[_0x3f17df(0x573)](_0x21d838,_0xc6af90[_0x3f17df(0x181)]['realVariables'])??''),typeof _0x2a34a0==_0x3f17df(0x220)&&(_0x2a34a0=this[_0x3f17df(0x573)](_0x2a34a0,_0xc6af90[_0x3f17df(0x181)]['realVariables'])??'');try{switch(_0x299ed9[_0x3f17df(0x1f7)]){case _0x3f17df(0xc3):return _0x21d838===_0x2a34a0;case _0x3f17df(0x59e):return _0x21d838!==_0x2a34a0;case _0x3f17df(0x1c7):return _0x21d838['includes'](_0x2a34a0);case _0x3f17df(0x2ba):return!_0x21d838[_0x3f17df(0x129)](_0x2a34a0);case'greater':return parseFloat(_0x21d838)>parseFloat(_0x2a34a0);case _0x3f17df(0x272):return parseFloat(_0x21d838)<parseFloat(_0x2a34a0);case _0x3f17df(0x53e):return _0x21d838!=='';case'empty':return _0x21d838==='';case _0x3f17df(0x651):return new RegExp(_0x2a34a0)[_0x3f17df(0x51f)](_0x21d838);case'notMatchRegex':return!new RegExp(_0x2a34a0)[_0x3f17df(0x51f)](_0x21d838);default:return!0x1;}}catch(_0x4cf2f5){return console[_0x3f17df(0x362)](_0x3f17df(0x710)+_0x4cf2f5),!0x1;}}[a0_0x3c797d(0x427)](_0x2ac7d1){const _0x4e39cc=a0_0x3c797d;let _0x655db7=!0x0,_0x589ee1=null;for(let _0x309042 of _0x2ac7d1){let _0x4bfc66=this[_0x4e39cc(0x27b)](_0x309042);if(_0x589ee1==='or'&&_0x4bfc66){_0x655db7=!0x0;break;}if(_0x589ee1==='and'&&!_0x4bfc66){_0x655db7=!0x1;break;}_0x589ee1=_0x309042['OrAnd'];}return _0x655db7;}[a0_0x3c797d(0x27b)](_0x1db62f){const _0x5e664c=a0_0x3c797d;let _0x4ba0e6=_0x1db62f[_0x5e664c(0x335)],_0x56315c=_0x1db62f[_0x5e664c(0x3e6)];try{switch(_0x1db62f[_0x5e664c(0x1f7)]){case _0x5e664c(0xc3):return String(_0x4ba0e6)===String(_0x56315c);case'notEqual':return String(_0x4ba0e6)!==String(_0x56315c);case _0x5e664c(0x1c7):return String(_0x4ba0e6)[_0x5e664c(0x129)](String(_0x56315c));case _0x5e664c(0x2ba):return!String(_0x4ba0e6)['includes'](String(_0x56315c));case _0x5e664c(0x159):return parseFloat(String(_0x4ba0e6))>parseFloat(String(_0x56315c));case'less':return parseFloat(String(_0x4ba0e6))<parseFloat(String(_0x56315c));case _0x5e664c(0x53e):return String(_0x4ba0e6)!=='';case _0x5e664c(0x550):return String(_0x4ba0e6)==='';case _0x5e664c(0x651):return new RegExp(String(_0x56315c))['test'](String(_0x4ba0e6));case _0x5e664c(0x2c6):return!new RegExp(String(_0x56315c))[_0x5e664c(0x51f)](String(_0x4ba0e6));default:return!0x1;}}catch(_0x216569){return console[_0x5e664c(0x362)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x216569),!0x1;}}async[a0_0x3c797d(0x448)](_0x186037,_0x3a3354){const _0x1db2cd=a0_0x3c797d;if(this[_0x1db2cd(0x30c)][_0x1db2cd(0x5ba)](this[_0x1db2cd(0x589)]+'\x20('+this[_0x1db2cd(0x3ce)]['wuid']+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x186037||!_0x3a3354)return this['logger'][_0x1db2cd(0x362)](this[_0x1db2cd(0x589)]+'\x20('+this[_0x1db2cd(0x3ce)][_0x1db2cd(0x5c8)]+_0x1db2cd(0x1b0)),null;let _0x42aed2=_0x3a3354[_0x1db2cd(0x1b3)],_0x4cc792=_0x186037[_0x1db2cd(0x181)][_0x1db2cd(0x6a9)][_0x1db2cd(0x3d2)]||_0x186037['chatLog'][_0x1db2cd(0x6a9)]['caption']||_0x186037[_0x1db2cd(0x181)]['lastReceivedMessage'][_0x1db2cd(0x407)];try{_0x186037[_0x1db2cd(0x181)]['realVariables']||(_0x186037[_0x1db2cd(0x181)][_0x1db2cd(0x2e8)]={});let _0x376de3=_0x186037[_0x1db2cd(0x181)][_0x1db2cd(0x2e8)][_0x42aed2];_0x186037[_0x1db2cd(0x181)][_0x1db2cd(0x2e8)][_0x42aed2]=_0x4cc792;let _0x48c729={'variable':_0x42aed2,'oldValue':_0x376de3,'newValue':_0x4cc792};this[_0x1db2cd(0x542)](_0x186037,_0x3a3354,_0x48c729),this[_0x1db2cd(0x30c)][_0x1db2cd(0x5ba)](this['instanceName']+'\x20('+this['instance'][_0x1db2cd(0x5c8)]+_0x1db2cd(0x508));}catch(_0x38cbc8){let _0x4fe426={'error':!0x0,'errorLog':_0x38cbc8[_0x1db2cd(0x509)]()};return this[_0x1db2cd(0x542)](_0x186037,_0x3a3354,_0x4fe426),this[_0x1db2cd(0x30c)][_0x1db2cd(0x362)](this[_0x1db2cd(0x589)]+'\x20('+this[_0x1db2cd(0x3ce)][_0x1db2cd(0x5c8)]+_0x1db2cd(0x5b4)+(_0x38cbc8 instanceof Error?_0x38cbc8[_0x1db2cd(0x15e)]:JSON[_0x1db2cd(0xf1)](_0x38cbc8,null,0x2))),null;}}async[a0_0x3c797d(0x266)](_0xfc095b,_0x5500eb){const _0x54e826=a0_0x3c797d;if(this[_0x54e826(0x30c)][_0x54e826(0x5ba)](this[_0x54e826(0x589)]+'\x20('+this[_0x54e826(0x3ce)][_0x54e826(0x5c8)]+_0x54e826(0x294)),!_0xfc095b||!_0x5500eb)return this[_0x54e826(0x30c)][_0x54e826(0x362)](this['instanceName']+'\x20('+this[_0x54e826(0x3ce)][_0x54e826(0x5c8)]+_0x54e826(0x1b0)),null;let _0x17129f=Date['now'](),_0x75d9d4=parseInt(_0x5500eb[_0x54e826(0xba)],0xa);if(isNaN(_0x75d9d4))return this[_0x54e826(0x30c)][_0x54e826(0x362)](this[_0x54e826(0x589)]+'\x20('+this['instance'][_0x54e826(0x5c8)]+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número'),null;let _0x21392d={'newStoppedUntil':_0x17129f+_0x75d9d4*0x3c*0x3e8};return await this[_0x54e826(0x542)](_0xfc095b,_0x5500eb,_0x21392d,!0x0),null;}async[a0_0x3c797d(0x144)](_0x3da34d,_0x607618){const _0x495fcd=a0_0x3c797d;try{switch(_0x607618['uazapi'][_0x495fcd(0x6bc)]){case _0x495fcd(0x630):await this[_0x495fcd(0x44c)](_0x3da34d,_0x607618);break;case'sendMedia':await this[_0x495fcd(0x40f)](_0x3da34d,_0x607618);break;case _0x495fcd(0x65d):await this['uazapiSendLocation'](_0x3da34d,_0x607618);break;case _0x495fcd(0x6bb):await this[_0x495fcd(0x6d9)](_0x3da34d,_0x607618);break;case _0x495fcd(0x523):await this['uazapiSendContact'](_0x3da34d,_0x607618);break;case _0x495fcd(0x2b6):await this['uazapiSendMenu'](_0x3da34d,_0x607618);break;case _0x495fcd(0x1e7):await this[_0x495fcd(0x43f)](_0x3da34d,_0x607618);break;case _0x495fcd(0x37d):await this[_0x495fcd(0x66e)](_0x3da34d,_0x607618);break;default:this[_0x495fcd(0x30c)][_0x495fcd(0x362)](this[_0x495fcd(0x589)]+'\x20('+this[_0x495fcd(0x3ce)][_0x495fcd(0x5c8)]+_0x495fcd(0x200)+_0x607618[_0x495fcd(0x64b)]['command']);}}catch(_0x15a18d){this['logger'][_0x495fcd(0x362)](this[_0x495fcd(0x589)]+'\x20('+this[_0x495fcd(0x3ce)]['wuid']+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+(_0x15a18d instanceof Error?_0x15a18d[_0x495fcd(0x15e)]:JSON[_0x495fcd(0xf1)](_0x15a18d,null,0x2)));}}async[a0_0x3c797d(0x542)](_0x4f5c20,_0x5c9498,_0xfedb8d,_0x2ac0b8=!0x1,_0x146534=!0x1){const _0x9e3d4d=a0_0x3c797d;_0x4f5c20[_0x9e3d4d(0x181)]['blockLogs']||(_0x4f5c20[_0x9e3d4d(0x181)][_0x9e3d4d(0xfe)]=[]);let _0x59d6df=(_0x4f5c20[_0x9e3d4d(0x181)][_0x9e3d4d(0xfe)]?.[_0x9e3d4d(0x234)]??0x0)+0x1,_0x1b3c5a=_0x4f5c20[_0x9e3d4d(0x181)]['blockLogs']['filter'](_0x426a60=>String(_0x426a60[_0x9e3d4d(0x307)])===String(_0x5c9498[_0x9e3d4d(0x3c1)]))[_0x9e3d4d(0x234)]+0x1,_0x4e92c3=_0xfedb8d?.[_0x9e3d4d(0x415)]??Date[_0x9e3d4d(0x38d)](),_0x215464=_0xfedb8d?.[_0x9e3d4d(0x362)]?_0xfedb8d['errorLog']??_0xfedb8d[_0x9e3d4d(0x362)]['toString']():void 0x0,_0x4b4c0e={'onTime':_0x4e92c3,'blockId':_0x5c9498[_0x9e3d4d(0x3c1)],'order':_0x59d6df,'activatedCount':_0x1b3c5a,'error':_0xfedb8d?.['error']??!0x1,'messageId':_0xfedb8d?.[_0x9e3d4d(0x536)],'apiResponse':_0xfedb8d?.[_0x9e3d4d(0x60f)],'apiResponseString':_0xfedb8d?.['apiResponse']?JSON[_0x9e3d4d(0xf1)](_0xfedb8d?.[_0x9e3d4d(0x60f)]):void 0x0,'variable':_0xfedb8d?.[_0x9e3d4d(0x704)],'oldValue':_0xfedb8d?.['oldValue'],'newValue':_0xfedb8d?.['newValue'],'newStoppedUntil':_0xfedb8d?.[_0x9e3d4d(0x2fa)],'moreLogs':_0xfedb8d?.[_0x9e3d4d(0x1cd)],'errorLog':_0x215464};if(_0xfedb8d[_0x9e3d4d(0x1cd)]&&_0xfedb8d['moreLogs'][_0x9e3d4d(0x234)]>0x0){let _0x2b7f38=_0xfedb8d[_0x9e3d4d(0x1cd)][_0x9e3d4d(0x2a0)](_0x3bfb36=>this[_0x9e3d4d(0x326)](_0x3bfb36,_0x4f5c20[_0x9e3d4d(0x181)][_0x9e3d4d(0x2e8)]));_0x4b4c0e[_0x9e3d4d(0x1cd)]=_0x2b7f38;}_0x4f5c20[_0x9e3d4d(0x181)]['realVariables']||(_0x4f5c20[_0x9e3d4d(0x181)][_0x9e3d4d(0x2e8)]={}),_0x4f5c20[_0x9e3d4d(0x181)][_0x9e3d4d(0x2e8)][_0x9e3d4d(0x38a)]=String(_0x1b3c5a),_0x4f5c20[_0x9e3d4d(0x181)][_0x9e3d4d(0x2e8)][_0x9e3d4d(0x3b3)]=String(_0xfedb8d[_0x9e3d4d(0x362)]??!0x1),_0x4f5c20[_0x9e3d4d(0x181)][_0x9e3d4d(0xfe)][_0x9e3d4d(0xab)](_0x4b4c0e),_0x4f5c20['chatLog'][_0x9e3d4d(0x438)]=_0x5c9498[_0x9e3d4d(0x3c1)]['toString'](),_0x4f5c20['chatLog']['lastSendMessage']&&(_0x4f5c20['chatLog'][_0x9e3d4d(0x1c6)]=_0x4f5c20[_0x9e3d4d(0x181)][_0x9e3d4d(0x1c6)]),_0x4f5c20['chatLog'][_0x9e3d4d(0x6a9)]&&(_0x4f5c20[_0x9e3d4d(0x181)][_0x9e3d4d(0x6a9)]=_0x4f5c20['chatLog'][_0x9e3d4d(0x6a9)]),_0x4f5c20['chatLog'][_0x9e3d4d(0x617)]&&(_0x4f5c20['chatLog']['lastCondition']=_0x4f5c20[_0x9e3d4d(0x181)][_0x9e3d4d(0x617)]),_0x146534&&(_0x4f5c20[_0x9e3d4d(0x3fc)]=_0x9e3d4d(0x18f)),_0x2ac0b8?this[_0x9e3d4d(0x32d)](_0x4f5c20):this[_0x9e3d4d(0x454)](_0x4f5c20,_0x5c9498);}[a0_0x3c797d(0x326)](_0x3fc86d,_0x1e09bd){const _0x526c3d=a0_0x3c797d;return _0x3fc86d['replace'](/\{\{([^}]+)\}\}/g,(_0x1a2310,_0xf10196)=>_0x1e09bd[_0xf10196]?'{{'+_0xf10196+_0x526c3d(0x3b7)+_0x1e09bd[_0xf10196]+'\x22':'{{'+_0xf10196+_0x526c3d(0x32a));}async[a0_0x3c797d(0x32d)](_0x40cda5){const _0x47e470=a0_0x3c797d;try{let _0x36753f=Object[_0x47e470(0x166)](_0x40cda5[_0x47e470(0x181)][_0x47e470(0x2e8)])[_0x47e470(0x2a0)](([_0x4855d5,_0x22dc40])=>({'name':_0x4855d5,'value':_0x22dc40})),_0x490f67={'status':_0x40cda5[_0x47e470(0x3fc)],'blocks':_0x40cda5[_0x47e470(0x543)],'waitingMenu_id':_0x40cda5[_0x47e470(0x138)],'waitingMenu_text':_0x40cda5['waitingMenu_text'],'waitingMenu_replyOptions':_0x40cda5[_0x47e470(0x5b6)],'chatLog':{'lastBlockId':_0x40cda5[_0x47e470(0x181)][_0x47e470(0x438)],'lastSendMessage':_0x40cda5['chatLog'][_0x47e470(0x1c6)],'lastReceivedMessage':_0x40cda5['chatLog'][_0x47e470(0x6a9)],'lastCondition':_0x40cda5[_0x47e470(0x181)]['lastCondition'],'chatVariables':_0x36753f,'realVariables':_0x40cda5[_0x47e470(0x181)][_0x47e470(0x2e8)],'blockLogs':_0x40cda5[_0x47e470(0x181)][_0x47e470(0xfe)]}},_0x288c27=await this[_0x47e470(0x4cd)][_0x47e470(0x24f)]['updateOne'](_0x40cda5[_0x47e470(0x3c1)],_0x490f67,this['instance'][_0x47e470(0x5c8)]);if(_0x288c27){this['logger'][_0x47e470(0x5ba)](this[_0x47e470(0x589)]+'\x20('+this[_0x47e470(0x3ce)][_0x47e470(0x5c8)]+_0x47e470(0x4e4)+_0x288c27[_0x47e470(0x3c1)]);try{let _0x51c18b=[_0x47e470(0x481),_0x47e470(0x5d3),_0x47e470(0x643),_0x47e470(0x413),_0x47e470(0x3fc),_0x47e470(0x496),'responsavelid','tags'];if(!this[_0x47e470(0x6e6)]&&(await this[_0x47e470(0x469)](),!this[_0x47e470(0x6e6)]))throw new Error(_0x47e470(0x4d5));let _0x5e1b06=this[_0x47e470(0x6e6)]?.['customFields'][_0x47e470(0x2a0)](_0x1efe51=>_0x1efe51[_0x47e470(0x42e)]),_0xd499b5={};Object[_0x47e470(0x166)](_0x40cda5[_0x47e470(0x181)]['realVariables'])[_0x47e470(0x3b8)](([_0x20f202,_0x127ef0])=>{const _0x9b9d83=_0x47e470;_0x51c18b['includes'](_0x20f202)&&(_0x20f202==='tags'&&typeof _0x127ef0==_0x9b9d83(0x220)?_0xd499b5[_0x20f202]=_0x127ef0['split'](',')[_0x9b9d83(0x2a0)](_0x4a4af7=>_0x4a4af7[_0x9b9d83(0x6df)]())['filter'](_0x1800f7=>_0x1800f7!==''):_0xd499b5[_0x20f202]=_0x127ef0);});let _0x1732e0=_0x40cda5['chatLog'][_0x47e470(0xfe)][_0x40cda5[_0x47e470(0x181)][_0x47e470(0xfe)][_0x47e470(0x234)]-0x1];if(_0x1732e0){let _0x4059c0=_0x1732e0['newStoppedUntil'];_0x4059c0!==void 0x0&&(_0xd499b5[_0x47e470(0x48f)]=_0x4059c0[_0x47e470(0x509)]());}let _0x4dc21c=_0x36753f['filter'](_0x224eea=>_0x5e1b06['includes'](_0x224eea['name']));this[_0x47e470(0x30c)][_0x47e470(0x5ba)](this[_0x47e470(0x589)]+'\x20('+this[_0x47e470(0x3ce)][_0x47e470(0x5c8)]+_0x47e470(0xbf)),this[_0x47e470(0x30c)]['verbose'](_0xd499b5),this[_0x47e470(0x30c)][_0x47e470(0x5ba)](this[_0x47e470(0x589)]+'\x20('+this[_0x47e470(0x3ce)][_0x47e470(0x5c8)]+_0x47e470(0x285)),this[_0x47e470(0x30c)][_0x47e470(0x5ba)](_0x4dc21c);let _0x64b66f=_0x4dc21c[_0x47e470(0x2a0)](_0x39754c=>{const _0x4fb6c3=_0x47e470;let _0x45b301=this[_0x4fb6c3(0x6e6)]?.[_0x4fb6c3(0x251)][_0x4fb6c3(0x2ec)](_0x284c29=>_0x284c29[_0x4fb6c3(0x42e)]===_0x39754c[_0x4fb6c3(0x42e)]);if(!_0x45b301)throw new Error(_0x4fb6c3(0x58e)+_0x39754c[_0x4fb6c3(0x42e)]);return{'_id':_0x45b301[_0x4fb6c3(0x3c1)],'value':_0x39754c[_0x4fb6c3(0x22d)]};});this['logger'][_0x47e470(0x5ba)](this[_0x47e470(0x589)]+'\x20('+this[_0x47e470(0x3ce)][_0x47e470(0x5c8)]+_0x47e470(0x559)),this[_0x47e470(0x30c)]['verbose'](_0x64b66f),await this[_0x47e470(0x5af)](_0x40cda5[_0x47e470(0xb8)],_0xd499b5,_0x64b66f);}catch(_0x110897){this['logger'][_0x47e470(0x362)](this[_0x47e470(0x589)]+'\x20('+this[_0x47e470(0x3ce)][_0x47e470(0x5c8)]+'):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20'+(_0x110897 instanceof Error?_0x110897['message']:JSON[_0x47e470(0xf1)](_0x110897,null,0x2)));}}else this[_0x47e470(0x30c)][_0x47e470(0x362)](this[_0x47e470(0x589)]+'\x20('+this['instance']['wuid']+'):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida');}catch(_0x18d757){this['logger'][_0x47e470(0x362)](this['instanceName']+'\x20('+this[_0x47e470(0x3ce)][_0x47e470(0x5c8)]+'):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20'+(_0x18d757 instanceof Error?_0x18d757[_0x47e470(0x15e)]:JSON[_0x47e470(0xf1)](_0x18d757,null,0x2)));}}async[a0_0x3c797d(0x5af)](_0x3fb1dd,_0x2a3c7e,_0x4c10b4){const _0x1d8f61=a0_0x3c797d;try{let _0x53104={'leadInfo.leadnome':_0x2a3c7e['nome'],'leadInfo.nomecompleto':_0x2a3c7e[_0x1d8f61(0x5d3)],'leadInfo.email':_0x2a3c7e['email'],'leadInfo.cpf':_0x2a3c7e[_0x1d8f61(0x413)],'leadInfo.status':_0x2a3c7e[_0x1d8f61(0x3fc)],'leadInfo.notas':_0x2a3c7e['notas'],'leadInfo.responsavelid':_0x2a3c7e[_0x1d8f61(0x4a3)],'leadInfo.tags':_0x2a3c7e['tags'],'leadInfo.customFields':_0x4c10b4};if(_0x1d8f61(0x48f)in _0x2a3c7e){let _0x51c00b=_0x2a3c7e[_0x1d8f61(0x48f)];_0x53104[_0x1d8f61(0x6b9)]=_0x51c00b?Number(_0x51c00b):null;}let _0x4d4508=await this[_0x1d8f61(0x4cd)][_0x1d8f61(0x65c)][_0x1d8f61(0x119)]({'where':{'_id':_0x3fb1dd}},_0x53104,this[_0x1d8f61(0x3ce)][_0x1d8f61(0x5c8)]);_0x4d4508?(this[_0x1d8f61(0x30c)][_0x1d8f61(0x5ba)](this['instanceName']+'\x20('+this[_0x1d8f61(0x3ce)][_0x1d8f61(0x5c8)]+_0x1d8f61(0x5f4)+_0x4d4508[_0x1d8f61(0x3c1)]),q(this[_0x1d8f61(0x589)],_0x1d8f61(0x143),{'chat':_0x4d4508})):this[_0x1d8f61(0x30c)][_0x1d8f61(0x362)](this[_0x1d8f61(0x589)]+'\x20('+this[_0x1d8f61(0x3ce)][_0x1d8f61(0x5c8)]+_0x1d8f61(0x416));}catch(_0x1c89be){this[_0x1d8f61(0x30c)][_0x1d8f61(0x362)](this[_0x1d8f61(0x589)]+'\x20('+this[_0x1d8f61(0x3ce)][_0x1d8f61(0x5c8)]+_0x1d8f61(0x709)+(_0x1c89be instanceof Error?_0x1c89be[_0x1d8f61(0x15e)]:JSON[_0x1d8f61(0xf1)](_0x1c89be,null,0x2)));}}async[a0_0x3c797d(0x5dc)](_0x1f5b39,_0x290388){const _0x14f8de=a0_0x3c797d;this[_0x14f8de(0x30c)][_0x14f8de(0x5ba)](this[_0x14f8de(0x589)]+'\x20('+this['instance'][_0x14f8de(0x5c8)]+'):\x20atualização\x20chat:\x20'+_0x290388);try{let _0xadf44a=await this[_0x14f8de(0x4cd)]['chat'][_0x14f8de(0x119)]({'where':{'_id':_0x1f5b39[_0x14f8de(0xb8)]}},{'leadInfo.desativadoFluxoAte':_0x290388},this[_0x14f8de(0x3ce)]['wuid']);this[_0x14f8de(0x30c)][_0x14f8de(0x5ba)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x14f8de(0x236)+_0x1f5b39[_0x14f8de(0x3c1)]),this['logger'][_0x14f8de(0x5ba)](this[_0x14f8de(0x589)]+'\x20('+this[_0x14f8de(0x3ce)]['wuid']+_0x14f8de(0x5a1)+JSON['stringify'](_0xadf44a,null,0x2)),_0xadf44a&&q(this[_0x14f8de(0x589)],'chats',{'chat':_0xadf44a});}catch(_0x50d1dc){this[_0x14f8de(0x30c)]['error'](this['instanceName']+'\x20('+this[_0x14f8de(0x3ce)][_0x14f8de(0x5c8)]+_0x14f8de(0x3d1)+(_0x50d1dc instanceof Error?_0x50d1dc[_0x14f8de(0x15e)]:JSON[_0x14f8de(0xf1)](_0x50d1dc,null,0x2)));}}async[a0_0x3c797d(0x46b)](_0x3dea78){const _0x58461=a0_0x3c797d;try{this['logger']['verbose'](this[_0x58461(0x589)]+'\x20('+this[_0x58461(0x3ce)][_0x58461(0x5c8)]+_0x58461(0x572));let _0x13af9e=_0x3dea78[_0x58461(0x6d3)](/\D/g,''),_0x2d2d35=await this['repository'][_0x58461(0x171)][_0x58461(0x2f8)]({'where':{'testingWith':_0x13af9e}},this[_0x58461(0x3ce)][_0x58461(0x5c8)]);return _0x2d2d35||(this[_0x58461(0x30c)][_0x58461(0x5ba)](this['instanceName']+'\x20('+this[_0x58461(0x3ce)][_0x58461(0x5c8)]+_0x58461(0xa9)),_0x2d2d35=await this[_0x58461(0x4cd)][_0x58461(0x171)][_0x58461(0x2f8)]({'where':{'default':!0x0}},this['instance'][_0x58461(0x5c8)])),_0x2d2d35||(this['logger'][_0x58461(0x5ba)](this[_0x58461(0x589)]+'\x20('+this[_0x58461(0x3ce)][_0x58461(0x5c8)]+_0x58461(0x4f3)),null);}catch(_0x43f610){return this['logger'][_0x58461(0x362)](this[_0x58461(0x589)]+'\x20('+this[_0x58461(0x3ce)][_0x58461(0x5c8)]+_0x58461(0x4f2)+(_0x43f610 instanceof Error?_0x43f610['message']:JSON[_0x58461(0xf1)](_0x43f610,null,0x2))),null;}}async[a0_0x3c797d(0x352)](_0xe72ef2,_0x1efdde){const _0x247228=a0_0x3c797d;try{let _0x328af0=!!_0x1efdde[_0x247228(0x407)],_0x4deeb7=_0x1efdde[_0x247228(0x391)],_0x532a9d=null;if(this['logger'][_0x247228(0x5ba)](this['instanceName']+'\x20('+this[_0x247228(0x3ce)][_0x247228(0x5c8)]+'):\x20isVote:\x20'+_0x328af0+'\x20quoted:\x20'+_0x4deeb7),_0x328af0){this[_0x247228(0x30c)]['verbose'](this[_0x247228(0x589)]+'\x20('+this['instance'][_0x247228(0x5c8)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x26d860={'where':{'remoteJid':_0xe72ef2,'waitingMenu_id':_0x4deeb7}};if(_0x532a9d=await this['repository'][_0x247228(0x24f)][_0x247228(0x2f8)](_0x26d860,this[_0x247228(0x3ce)]['wuid']),!_0x532a9d)return this['logger'][_0x247228(0x5ba)](this['instanceName']+'\x20('+this[_0x247228(0x3ce)][_0x247228(0x5c8)]+_0x247228(0x414)),null;let _0xd4b00e=Date[_0x247228(0x38d)](),_0x4bde3e=_0x532a9d?.[_0x247228(0x34d)]||0x0,_0x44c4e0=_0xd4b00e-_0x4bde3e*0x3c*0x3e8;if(_0x532a9d[_0x247228(0x5d4)]<_0x44c4e0){this[_0x247228(0x30c)][_0x247228(0x5ba)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x247228(0xb5));let _0x41e02c={'number':_0x532a9d['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x532a9d[_0x247228(0x434)]}};await this['textMessage'](_0x41e02c);let _0x56e98f={'status':'closed','waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x247228(0x4cd)]['flowConversation'][_0x247228(0x119)](_0x532a9d[_0x247228(0x3c1)],_0x56e98f,this['instance'][_0x247228(0x5c8)]),null;}return _0x532a9d[_0x247228(0x5d4)]=Date[_0x247228(0x38d)](),_0x532a9d[_0x247228(0x181)][_0x247228(0x6a9)]=_0x1efdde,_0x532a9d;}else{this[_0x247228(0x30c)][_0x247228(0x5ba)](this['instanceName']+'\x20('+this[_0x247228(0x3ce)]['wuid']+'):\x20'+this[_0x247228(0x3ce)][_0x247228(0x5c8)]+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this[_0x247228(0x30c)][_0x247228(0x5ba)](this['instanceName']+'\x20('+this[_0x247228(0x3ce)][_0x247228(0x5c8)]+_0x247228(0x401));let _0x242d8f={'where':{'remoteJid':_0xe72ef2,'status':_0x247228(0x53f)}};if(_0x532a9d=await this[_0x247228(0x4cd)][_0x247228(0x24f)][_0x247228(0x2f8)](_0x242d8f,this[_0x247228(0x3ce)][_0x247228(0x5c8)]),!_0x532a9d){let _0x47ad3c=await this[_0x247228(0x46b)](_0xe72ef2);if(_0x47ad3c&&(_0x532a9d=await this[_0x247228(0x376)](_0x47ad3c,_0x1efdde[_0x247228(0x2d3)],_0x1efdde)),!_0x532a9d)return null;}let _0x141d6b=Date[_0x247228(0x38d)](),_0x41d8e4=_0x532a9d?.[_0x247228(0x34d)]||0x0,_0x56654a=_0x141d6b-_0x41d8e4*0x3c*0x3e8;if(this['logger']['verbose'](this[_0x247228(0x589)]+'\x20('+this[_0x247228(0x3ce)][_0x247228(0x5c8)]+_0x247228(0x35f)+_0x141d6b+_0x247228(0x1b4)+_0x41d8e4+_0x247228(0x64f)+_0x56654a),this[_0x247228(0x30c)][_0x247228(0x5ba)](this[_0x247228(0x589)]+'\x20('+this[_0x247228(0x3ce)][_0x247228(0x5c8)]+_0x247228(0x4ed)),this[_0x247228(0x30c)][_0x247228(0x5ba)](this[_0x247228(0x589)]+'\x20('+this['instance']['wuid']+_0x247228(0x525)+_0x532a9d[_0x247228(0x5d4)]),this[_0x247228(0x30c)][_0x247228(0x5ba)](this[_0x247228(0x589)]+'\x20('+this[_0x247228(0x3ce)][_0x247228(0x5c8)]+_0x247228(0xf8)+_0x56654a),_0x532a9d[_0x247228(0x5d4)]<_0x56654a){this['logger'][_0x247228(0x5ba)](this[_0x247228(0x589)]+'\x20('+this[_0x247228(0x3ce)]['wuid']+_0x247228(0x249));let _0x1435cc=await this[_0x247228(0x46b)](_0xe72ef2);if(_0x1435cc===null)return null;_0x532a9d&&await this['repository']['flowConversation']['updateOne'](_0x532a9d[_0x247228(0x3c1)],{'status':_0x247228(0x18f)},this[_0x247228(0x3ce)][_0x247228(0x5c8)]),_0x532a9d=await this[_0x247228(0x376)](_0x1435cc,_0x1efdde[_0x247228(0x2d3)],_0x1efdde);}return _0x532a9d[_0x247228(0x5d4)]=_0x141d6b,_0x532a9d[_0x247228(0x181)][_0x247228(0x6a9)]=_0x1efdde,_0x532a9d;}}catch(_0x3558f0){return this['logger']['error'](this[_0x247228(0x589)]+'\x20('+this[_0x247228(0x3ce)]['wuid']+_0x247228(0x665)+(_0x3558f0 instanceof Error?_0x3558f0[_0x247228(0x15e)]:JSON[_0x247228(0xf1)](_0x3558f0,null,0x2))),null;}}async[a0_0x3c797d(0x376)](_0x2f02cc,_0x1ef151,_0x4a98c2){const _0x175ae4=a0_0x3c797d;this['logger'][_0x175ae4(0x5ba)](this[_0x175ae4(0x589)]+'\x20('+this[_0x175ae4(0x3ce)][_0x175ae4(0x5c8)]+_0x175ae4(0xf3));try{let _0x38c327=require(_0x175ae4(0x5cd))[_0x175ae4(0x5b9)],_0x59ed64=Date['now'](),_0x3a8358='start',_0x524ce5=_0x1ef151[_0x175ae4(0x468)]?null:_0x4a98c2,_0x332c9e=_0x1ef151[_0x175ae4(0x468)]?_0x4a98c2:null,_0x1d3d31=_0x1ef151[_0x175ae4(0xb8)];await this[_0x175ae4(0x1cb)](_0x1d3d31);let _0x20d335={..._0x2f02cc,'chatLog':null},_0x1b0739=await this[_0x175ae4(0x259)](_0x20d335['variables']),_0x284393=await this[_0x175ae4(0x4ec)](_0x1d3d31),_0x129f2d={..._0x1b0739,..._0x284393,'_remoteJid':_0x1d3d31},_0x24e65c={'lastReceivedMessage':_0x524ce5,'lastSendMessage':_0x332c9e,'lastBlockId':_0x3a8358,'lastCondition':!0x0,'realVariables':_0x129f2d};_0x20d335[_0x175ae4(0x181)]=_0x24e65c,delete _0x20d335[_0x175ae4(0x3c1)],_0x20d335[_0x175ae4(0x3c1)]=new _0x38c327(),_0x20d335[_0x175ae4(0x5d4)]=_0x59ed64,_0x20d335['status']=_0x175ae4(0x53f),_0x20d335[_0x175ae4(0xb8)]=_0x1d3d31;let _0x2777cd=await this[_0x175ae4(0x4cd)]['flowConversation'][_0x175ae4(0x119)](_0x20d335['_id'],_0x20d335,this['instance'][_0x175ae4(0x5c8)]);return this['logger'][_0x175ae4(0x5ba)](this[_0x175ae4(0x589)]+'\x20('+this['instance'][_0x175ae4(0x5c8)]+_0x175ae4(0x229)),_0x2777cd?_0x20d335:null;}catch(_0x1ed7ab){return this[_0x175ae4(0x30c)][_0x175ae4(0x362)](this[_0x175ae4(0x589)]+'\x20('+this[_0x175ae4(0x3ce)][_0x175ae4(0x5c8)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x1ed7ab instanceof Error?_0x1ed7ab[_0x175ae4(0x15e)]:JSON[_0x175ae4(0xf1)](_0x1ed7ab,null,0x2))),_0x1ed7ab;}}async[a0_0x3c797d(0x44c)](_0x3e2f1e,_0x1c5a2c){const _0x57ae5f=a0_0x3c797d;let _0xc80183=_0x3e2f1e[_0x57ae5f(0xb8)];_0x1c5a2c[_0x57ae5f(0x64b)][_0x57ae5f(0xb8)]&&_0x1c5a2c['uazapi'][_0x57ae5f(0xb8)][_0x57ae5f(0x6df)]()!==''&&(_0xc80183=_0x1c5a2c['uazapi'][_0x57ae5f(0xb8)][_0x57ae5f(0x6df)]()),this['logger']['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x57ae5f(0xbc));let _0x468228={'number':_0xc80183,'options':{'delay':_0x1c5a2c['uazapi'][_0x57ae5f(0x316)]},'textMessage':{'text':_0x1c5a2c['uazapi']['text']}};try{let _0x1a70de=await this[_0x57ae5f(0x526)](_0x468228);if(_0x1a70de){let _0xf19240={'_id':_0x1a70de[_0x57ae5f(0x2d3)]['id'],'_fromMe':_0x1a70de[_0x57ae5f(0x2d3)][_0x57ae5f(0x468)],'_remoteJid':_0x1a70de[_0x57ae5f(0x2d3)][_0x57ae5f(0xb8)]};_0x3e2f1e['chatLog']['lastBlockId']=_0x1c5a2c[_0x57ae5f(0x3c1)][_0x57ae5f(0x509)]();let {message_normalized:_0x2f5d09}=this[_0x57ae5f(0x596)](_0x1a70de['message'],$(_0x1a70de[_0x57ae5f(0x15e)]),null);_0x3e2f1e[_0x57ae5f(0x181)]['lastSendMessage']=await _0x2f5d09;let _0x4025db={'messageId':_0x1a70de[_0x57ae5f(0x2d3)]['id']},_0x37740c=_0x3e2f1e[_0x57ae5f(0x181)][_0x57ae5f(0x2e8)];Object[_0x57ae5f(0x653)](_0x37740c,_0xf19240),_0x3e2f1e['chatLog'][_0x57ae5f(0x2e8)]=_0x37740c,this[_0x57ae5f(0x542)](_0x3e2f1e,_0x1c5a2c,_0x4025db);}else{let _0x3cdc32={'error':!0x0};this[_0x57ae5f(0x542)](_0x3e2f1e,_0x1c5a2c,_0x3cdc32),this[_0x57ae5f(0x30c)][_0x57ae5f(0x362)](this[_0x57ae5f(0x589)]+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x409374){let _0x3bd85e={'error':!0x0,'errorLog':_0x409374[_0x57ae5f(0x509)]()};this[_0x57ae5f(0x542)](_0x3e2f1e,_0x1c5a2c,_0x3bd85e),this[_0x57ae5f(0x30c)][_0x57ae5f(0x362)](this[_0x57ae5f(0x589)]+'\x20('+this[_0x57ae5f(0x3ce)][_0x57ae5f(0x5c8)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x409374 instanceof Error?_0x409374[_0x57ae5f(0x15e)]:JSON['stringify'](_0x409374,null,0x2)));}}async[a0_0x3c797d(0x40f)](_0x371d54,_0x14799d){const _0x1049d0=a0_0x3c797d;let _0x363823=_0x371d54[_0x1049d0(0xb8)];_0x14799d[_0x1049d0(0x64b)][_0x1049d0(0xb8)]&&_0x14799d['uazapi'][_0x1049d0(0xb8)][_0x1049d0(0x6df)]()!==''&&(_0x363823=_0x14799d[_0x1049d0(0x64b)][_0x1049d0(0xb8)][_0x1049d0(0x6df)]()),this[_0x1049d0(0x30c)][_0x1049d0(0x5ba)](this[_0x1049d0(0x589)]+'\x20('+this[_0x1049d0(0x3ce)]['wuid']+_0x1049d0(0x3dc));let _0x3897a3={'number':_0x363823,'options':{'delay':_0x14799d[_0x1049d0(0x64b)][_0x1049d0(0x316)]},'mediaMessage':{'mediatype':_0x14799d['uazapi']['mediatype'],'caption':_0x14799d['uazapi'][_0x1049d0(0x5d2)],'media':_0x14799d[_0x1049d0(0x64b)][_0x1049d0(0x23b)],'fileName':_0x14799d[_0x1049d0(0x64b)]['fileName']}};try{let _0xb157d5=await this[_0x1049d0(0x6cf)](_0x3897a3);if(_0xb157d5){let _0x2dd7fa={'_id':_0xb157d5[_0x1049d0(0x2d3)]['id'],'_fromMe':_0xb157d5[_0x1049d0(0x2d3)][_0x1049d0(0x468)],'_remoteJid':_0xb157d5['key'][_0x1049d0(0xb8)]};_0x371d54['chatLog'][_0x1049d0(0x438)]=_0x14799d[_0x1049d0(0x3c1)][_0x1049d0(0x509)]();let {message_normalized:_0x5607b}=this[_0x1049d0(0x596)](_0xb157d5['message'],$(_0xb157d5[_0x1049d0(0x15e)]),null);_0x371d54[_0x1049d0(0x181)][_0x1049d0(0x1c6)]=await _0x5607b;let _0x4061ff={'messageId':_0xb157d5[_0x1049d0(0x2d3)]['id']},_0x77a9ef=_0x371d54[_0x1049d0(0x181)][_0x1049d0(0x2e8)];Object[_0x1049d0(0x653)](_0x77a9ef,_0x2dd7fa),_0x371d54[_0x1049d0(0x181)][_0x1049d0(0x2e8)]=_0x77a9ef,this['updateConversation'](_0x371d54,_0x14799d,_0x4061ff);}else{let _0x4f72c3={'error':!0x0};this[_0x1049d0(0x542)](_0x371d54,_0x14799d,_0x4f72c3),this[_0x1049d0(0x30c)][_0x1049d0(0x362)](this[_0x1049d0(0x589)]+'\x20('+this[_0x1049d0(0x3ce)][_0x1049d0(0x5c8)]+_0x1049d0(0x46a));}}catch(_0x107840){let _0x3d8c3b={'error':!0x0,'errorLog':_0x107840[_0x1049d0(0x509)]()};this[_0x1049d0(0x542)](_0x371d54,_0x14799d,_0x3d8c3b),this['logger'][_0x1049d0(0x362)](this[_0x1049d0(0x589)]+'\x20('+this[_0x1049d0(0x3ce)][_0x1049d0(0x5c8)]+_0x1049d0(0x276)+(_0x107840 instanceof Error?_0x107840[_0x1049d0(0x15e)]:JSON[_0x1049d0(0xf1)](_0x107840,null,0x2)));}}async[a0_0x3c797d(0x423)](_0xb37ee,_0x5b2e1e){const _0x4052ee=a0_0x3c797d;let _0x2312b4=_0xb37ee[_0x4052ee(0xb8)];_0x5b2e1e['uazapi']['remoteJid']&&_0x5b2e1e[_0x4052ee(0x64b)][_0x4052ee(0xb8)]['trim']()!==''&&(_0x2312b4=_0x5b2e1e[_0x4052ee(0x64b)][_0x4052ee(0xb8)][_0x4052ee(0x6df)]()),this[_0x4052ee(0x30c)][_0x4052ee(0x5ba)](this[_0x4052ee(0x589)]+'\x20('+this[_0x4052ee(0x3ce)][_0x4052ee(0x5c8)]+'):\x20Enviando\x20localização');let _0x365a81={'number':_0x2312b4,'options':{'delay':_0x5b2e1e['uazapi'][_0x4052ee(0x316)]},'locationMessage':{'name':_0x5b2e1e['uazapi'][_0x4052ee(0x42e)],'address':_0x5b2e1e['uazapi']['address'],'latitude':_0x5b2e1e['uazapi'][_0x4052ee(0x50f)],'longitude':_0x5b2e1e[_0x4052ee(0x64b)][_0x4052ee(0x42f)]}};try{let _0x4271b8=await this[_0x4052ee(0x3ec)](_0x365a81);if(_0x4271b8){let _0x558cd3={'_id':_0x4271b8['key']['id'],'_fromMe':_0x4271b8[_0x4052ee(0x2d3)][_0x4052ee(0x468)],'_remoteJid':_0x4271b8[_0x4052ee(0x2d3)][_0x4052ee(0xb8)]};_0xb37ee[_0x4052ee(0x181)]['lastBlockId']=_0x5b2e1e[_0x4052ee(0x3c1)][_0x4052ee(0x509)]();let {message_normalized:_0x34dd06}=this[_0x4052ee(0x596)](_0x4271b8[_0x4052ee(0x15e)],$(_0x4271b8[_0x4052ee(0x15e)]),null);_0xb37ee[_0x4052ee(0x181)]['lastSendMessage']=await _0x34dd06;let _0x12c040={'messageId':_0x4271b8[_0x4052ee(0x2d3)]['id']},_0x52354f=_0xb37ee[_0x4052ee(0x181)]['realVariables'];Object['assign'](_0x52354f,_0x558cd3),_0xb37ee[_0x4052ee(0x181)][_0x4052ee(0x2e8)]=_0x52354f,this[_0x4052ee(0x542)](_0xb37ee,_0x5b2e1e,_0x12c040);}else{let _0x462e1f={'error':!0x0};this[_0x4052ee(0x542)](_0xb37ee,_0x5b2e1e,_0x462e1f),this[_0x4052ee(0x30c)]['error'](this['instanceName']+'\x20('+this[_0x4052ee(0x3ce)][_0x4052ee(0x5c8)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.');}}catch(_0x4a2fe3){let _0x57a129={'error':!0x0,'errorLog':_0x4a2fe3[_0x4052ee(0x509)]()};this[_0x4052ee(0x542)](_0xb37ee,_0x5b2e1e,_0x57a129),this[_0x4052ee(0x30c)][_0x4052ee(0x362)](this['instanceName']+'\x20('+this[_0x4052ee(0x3ce)][_0x4052ee(0x5c8)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20'+(_0x4a2fe3 instanceof Error?_0x4a2fe3[_0x4052ee(0x15e)]:JSON[_0x4052ee(0xf1)](_0x4a2fe3,null,0x2)));}}async[a0_0x3c797d(0x6d9)](_0x525c32,_0x58ae0b){const _0x7891ce=a0_0x3c797d;let _0x5db358=_0x525c32[_0x7891ce(0xb8)];_0x58ae0b['uazapi']['remoteJid']&&_0x58ae0b[_0x7891ce(0x64b)][_0x7891ce(0xb8)][_0x7891ce(0x6df)]()!==''&&(_0x5db358=_0x58ae0b[_0x7891ce(0x64b)][_0x7891ce(0xb8)][_0x7891ce(0x6df)]()),this[_0x7891ce(0x30c)][_0x7891ce(0x5ba)](this[_0x7891ce(0x589)]+'\x20('+this[_0x7891ce(0x3ce)][_0x7891ce(0x5c8)]+_0x7891ce(0x646));let _0x3ad57c={'number':_0x5db358,'options':{'delay':_0x58ae0b[_0x7891ce(0x64b)][_0x7891ce(0x316)]},'audioMessage':{'audio':_0x58ae0b['uazapi'][_0x7891ce(0x6b8)]}};try{let _0x4dedde=await this['audioWhatsapp'](_0x3ad57c);if(_0x4dedde){let _0x255f60={'_id':_0x4dedde[_0x7891ce(0x2d3)]['id'],'_fromMe':_0x4dedde[_0x7891ce(0x2d3)][_0x7891ce(0x468)],'_remoteJid':_0x4dedde[_0x7891ce(0x2d3)]['remoteJid']};_0x525c32[_0x7891ce(0x181)][_0x7891ce(0x438)]=_0x58ae0b['_id'][_0x7891ce(0x509)]();let {message_normalized:_0x34d353}=this[_0x7891ce(0x596)](_0x4dedde[_0x7891ce(0x15e)],$(_0x4dedde[_0x7891ce(0x15e)]),null);_0x525c32[_0x7891ce(0x181)][_0x7891ce(0x1c6)]=await _0x34d353;let _0x38b451={'messageId':_0x4dedde['key']['id']},_0x3c33bb=_0x525c32[_0x7891ce(0x181)][_0x7891ce(0x2e8)];Object[_0x7891ce(0x653)](_0x3c33bb,_0x255f60),_0x525c32['chatLog'][_0x7891ce(0x2e8)]=_0x3c33bb,this[_0x7891ce(0x542)](_0x525c32,_0x58ae0b,_0x38b451);}else{let _0x25ea37={'error':!0x0};this[_0x7891ce(0x542)](_0x525c32,_0x58ae0b,_0x25ea37),this[_0x7891ce(0x30c)]['error'](this[_0x7891ce(0x589)]+'\x20('+this[_0x7891ce(0x3ce)][_0x7891ce(0x5c8)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x49fea7){let _0xa3dbfd={'error':!0x0,'errorLog':_0x49fea7[_0x7891ce(0x509)]()};this['updateConversation'](_0x525c32,_0x58ae0b,_0xa3dbfd),this['logger'][_0x7891ce(0x362)](this[_0x7891ce(0x589)]+'\x20('+this['instance'][_0x7891ce(0x5c8)]+_0x7891ce(0x57d)+(_0x49fea7 instanceof Error?_0x49fea7[_0x7891ce(0x15e)]:JSON[_0x7891ce(0xf1)](_0x49fea7,null,0x2)));}}async[a0_0x3c797d(0x111)](_0x109fda,_0xb82139){const _0x45f3cb=a0_0x3c797d;let _0x77fa24=_0x109fda[_0x45f3cb(0xb8)];_0xb82139[_0x45f3cb(0x64b)][_0x45f3cb(0xb8)]&&_0xb82139['uazapi'][_0x45f3cb(0xb8)][_0x45f3cb(0x6df)]()!==''&&(_0x77fa24=_0xb82139['uazapi']['remoteJid']['trim']()),this['logger'][_0x45f3cb(0x5ba)](this['instanceName']+'\x20('+this[_0x45f3cb(0x3ce)][_0x45f3cb(0x5c8)]+'):\x20Enviando\x20contato');let _0x4971b2={'number':_0x77fa24,'options':{'delay':_0xb82139[_0x45f3cb(0x64b)][_0x45f3cb(0x316)]},'contactMessage':[{'fullName':_0xb82139['uazapi']['fullName'],'phoneNumber':_0xb82139[_0x45f3cb(0x64b)]['phoneNumber']}]};try{let _0x275c8d=await this[_0x45f3cb(0x629)](_0x4971b2);if(_0x275c8d){let _0x452f48={'_id':_0x275c8d[_0x45f3cb(0x2d3)]['id'],'_fromMe':_0x275c8d['key'][_0x45f3cb(0x468)],'_remoteJid':_0x275c8d[_0x45f3cb(0x2d3)]['remoteJid']};_0x109fda[_0x45f3cb(0x181)][_0x45f3cb(0x438)]=_0xb82139[_0x45f3cb(0x3c1)][_0x45f3cb(0x509)]();let {message_normalized:_0x542717}=this[_0x45f3cb(0x596)](_0x275c8d['message'],$(_0x275c8d[_0x45f3cb(0x15e)]),null);_0x109fda[_0x45f3cb(0x181)][_0x45f3cb(0x1c6)]=await _0x542717;let _0x679bb2={'messageId':_0x275c8d[_0x45f3cb(0x2d3)]['id']},_0x1f125e=_0x109fda['chatLog'][_0x45f3cb(0x2e8)];Object[_0x45f3cb(0x653)](_0x1f125e,_0x452f48),_0x109fda[_0x45f3cb(0x181)][_0x45f3cb(0x2e8)]=_0x1f125e,this[_0x45f3cb(0x542)](_0x109fda,_0xb82139,_0x679bb2);}else{let _0x11a38e={'error':!0x0};this['updateConversation'](_0x109fda,_0xb82139,_0x11a38e),this[_0x45f3cb(0x30c)][_0x45f3cb(0x362)](this[_0x45f3cb(0x589)]+'\x20('+this[_0x45f3cb(0x3ce)]['wuid']+_0x45f3cb(0x49f));}}catch(_0x32d057){let _0x57019b={'error':!0x0,'errorLog':_0x32d057[_0x45f3cb(0x509)]()};this[_0x45f3cb(0x542)](_0x109fda,_0xb82139,_0x57019b),this[_0x45f3cb(0x30c)]['error'](this[_0x45f3cb(0x589)]+'\x20('+this['instance'][_0x45f3cb(0x5c8)]+_0x45f3cb(0x322)+(_0x32d057 instanceof Error?_0x32d057['message']:JSON[_0x45f3cb(0xf1)](_0x32d057,null,0x2)));}}[a0_0x3c797d(0x112)](_0x2e81a4,_0x249528){const _0x196a32=a0_0x3c797d;for(let _0x2cd614 of _0x2e81a4)_0x2cd614[_0x196a32(0x10c)]&&(_0x2cd614['option']=this[_0x196a32(0x573)](_0x2cd614[_0x196a32(0x10c)],_0x249528)),_0x2cd614[_0x196a32(0x607)]&&(_0x2cd614[_0x196a32(0x607)]=this[_0x196a32(0x573)](_0x2cd614[_0x196a32(0x607)],_0x249528));}async[a0_0x3c797d(0x43f)](_0x1dda5d,_0x515ffe){const _0x49cf44=a0_0x3c797d;let _0x501ea7=_0x1dda5d[_0x49cf44(0xb8)];_0x515ffe[_0x49cf44(0x64b)][_0x49cf44(0xb8)]&&_0x515ffe['uazapi']['remoteJid'][_0x49cf44(0x6df)]()!==''&&(_0x501ea7=_0x515ffe[_0x49cf44(0x64b)][_0x49cf44(0xb8)][_0x49cf44(0x6df)]()),this[_0x49cf44(0x30c)][_0x49cf44(0x5ba)](this[_0x49cf44(0x589)]+'\x20('+this['instance']['wuid']+_0x49cf44(0x453));let _0x130134=_0x1dda5d[_0x49cf44(0x235)][_0x49cf44(0x12d)](_0x20a920=>_0x20a920[_0x49cf44(0x307)]===_0x515ffe['_id'])['sort']((_0x3a033f,_0x46edc8)=>_0x3a033f['order']-_0x46edc8['order']);this['replaceVariablesInReplyOptions'](_0x130134,_0x1dda5d['chatLog'][_0x49cf44(0x2e8)]);let _0x3f697f=_0x130134[_0x49cf44(0x2a0)](_0x5e4ac6=>_0x5e4ac6[_0x49cf44(0x10c)]),_0x20ea8c={'number':_0x501ea7,'menuMessage':{'type':_0x515ffe['uazapi'][_0x49cf44(0x328)]||'poll','text':_0x515ffe['uazapi']['text']||_0x515ffe[_0x49cf44(0x64b)][_0x49cf44(0x42e)],'footerText':_0x515ffe[_0x49cf44(0x64b)][_0x49cf44(0x34a)],'buttonText':_0x515ffe[_0x49cf44(0x64b)][_0x49cf44(0x648)],'selectableCount':0x1,'choices':_0x3f697f},'options':{'delay':_0x515ffe[_0x49cf44(0x64b)]['delay']}};try{let _0x5473dd=await this[_0x49cf44(0x404)](_0x20ea8c);if(_0x5473dd){let _0x51cfde={'_id':_0x5473dd[_0x49cf44(0x2d3)]['id'],'_fromMe':_0x5473dd['key'][_0x49cf44(0x468)],'_remoteJid':_0x5473dd['key'][_0x49cf44(0xb8)]};_0x515ffe[_0x49cf44(0x64b)][_0x49cf44(0x17e)]===!0x0&&(_0x1dda5d['status']=_0x49cf44(0x24b),this[_0x49cf44(0x30c)][_0x49cf44(0x5ba)](this['instanceName']+'\x20('+this[_0x49cf44(0x3ce)]['wuid']+_0x49cf44(0xf7)+_0x1dda5d['status'])),this[_0x49cf44(0x30c)][_0x49cf44(0x5ba)](this['instanceName']+'\x20('+this[_0x49cf44(0x3ce)][_0x49cf44(0x5c8)]+_0x49cf44(0x647)+(_0x515ffe[_0x49cf44(0x64b)][_0x49cf44(0x42e)]||_0x515ffe[_0x49cf44(0x64b)][_0x49cf44(0x3d2)])),_0x1dda5d[_0x49cf44(0x138)]=_0x5473dd[_0x49cf44(0x2d3)]['id'],_0x1dda5d[_0x49cf44(0x55a)]=_0x515ffe[_0x49cf44(0x64b)][_0x49cf44(0x42e)]||_0x515ffe[_0x49cf44(0x64b)][_0x49cf44(0x3d2)],_0x1dda5d['waitingMenu_replyOptions']=_0x130134,_0x515ffe['uazapi']['menuExpiredMessage']&&(_0x1dda5d[_0x49cf44(0x434)]=_0x515ffe[_0x49cf44(0x64b)][_0x49cf44(0x538)]),this[_0x49cf44(0x30c)]['verbose'](this['instanceName']+'\x20('+this[_0x49cf44(0x3ce)]['wuid']+_0x49cf44(0x5f9)+_0x1dda5d[_0x49cf44(0x55a)]),_0x1dda5d['chatLog'][_0x49cf44(0x438)]=_0x515ffe[_0x49cf44(0x3c1)][_0x49cf44(0x509)]();let {message_normalized:_0xcb85f5}=this[_0x49cf44(0x596)](_0x5473dd[_0x49cf44(0x15e)],$(_0x5473dd[_0x49cf44(0x15e)]),null);_0x1dda5d[_0x49cf44(0x181)][_0x49cf44(0x1c6)]=await _0xcb85f5;let _0x274ae8={'messageId':_0x5473dd['key']['id']},_0x51e3f0=_0x1dda5d[_0x49cf44(0x181)][_0x49cf44(0x2e8)];Object[_0x49cf44(0x653)](_0x51e3f0,_0x51cfde),_0x1dda5d['chatLog']['realVariables']=_0x51e3f0,this[_0x49cf44(0x542)](_0x1dda5d,_0x515ffe,_0x274ae8);}else{let _0x201b9b={'error':!0x0};this[_0x49cf44(0x542)](_0x1dda5d,_0x515ffe,_0x201b9b),this['logger'][_0x49cf44(0x362)](this[_0x49cf44(0x589)]+'\x20('+this[_0x49cf44(0x3ce)][_0x49cf44(0x5c8)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.');}}catch(_0x11f780){let _0x544650={'error':!0x0,'errorLog':_0x11f780 instanceof Error?_0x11f780[_0x49cf44(0x15e)]:JSON[_0x49cf44(0xf1)](_0x11f780,null,0x2)};this[_0x49cf44(0x542)](_0x1dda5d,_0x515ffe,_0x544650),this[_0x49cf44(0x30c)][_0x49cf44(0x362)](this[_0x49cf44(0x589)]+'\x20('+this[_0x49cf44(0x3ce)][_0x49cf44(0x5c8)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0x11f780 instanceof Error?_0x11f780[_0x49cf44(0x15e)]:JSON[_0x49cf44(0xf1)](_0x11f780,null,0x2)));}}async[a0_0x3c797d(0x66e)](_0x33aa58,_0x1e8067){const _0x1fb015=a0_0x3c797d;this[_0x1fb015(0x30c)][_0x1fb015(0x5ba)](this['instanceName']+'\x20('+this[_0x1fb015(0x3ce)][_0x1fb015(0x5c8)]+_0x1fb015(0x516));let _0x182b01=_0x33aa58[_0x1fb015(0x181)][_0x1fb015(0xfe)]['find'](_0x470e37=>_0x470e37['blockId'][_0x1fb015(0x509)]()===_0x1e8067['uazapi'][_0x1fb015(0x307)]['toString']()),_0x96e631={'id':_0x182b01['messageId'],'remoteJid':_0x182b01[_0x1fb015(0xb8)],'fromMe':_0x182b01['fromMe']};try{let _0x2de73f=await this['deleteMessage'](_0x96e631);if(_0x2de73f){_0x33aa58[_0x1fb015(0x181)][_0x1fb015(0x438)]=_0x1e8067[_0x1fb015(0x3c1)][_0x1fb015(0x509)]();let {message_normalized:_0x1f91d5}=this[_0x1fb015(0x596)](_0x2de73f[_0x1fb015(0x15e)],$(_0x2de73f['message']),null);_0x33aa58['chatLog'][_0x1fb015(0x1c6)]=await _0x1f91d5;let _0x102601={};this[_0x1fb015(0x542)](_0x33aa58,_0x1e8067,_0x102601);}else{let _0x2d1973={'error':!0x0};this[_0x1fb015(0x542)](_0x33aa58,_0x1e8067,_0x2d1973),this[_0x1fb015(0x30c)][_0x1fb015(0x362)](this[_0x1fb015(0x589)]+'\x20('+this[_0x1fb015(0x3ce)][_0x1fb015(0x5c8)]+_0x1fb015(0x382));}}catch(_0x1efbf9){let _0x5217ca={'error':!0x0,'errorLog':_0x1efbf9 instanceof Error?_0x1efbf9['message']:JSON['stringify'](_0x1efbf9,null,0x2)};this[_0x1fb015(0x542)](_0x33aa58,_0x1e8067,_0x5217ca),this[_0x1fb015(0x30c)]['error'](this[_0x1fb015(0x589)]+'\x20('+this['instance']['wuid']+_0x1fb015(0x61a)+(_0x1efbf9 instanceof Error?_0x1efbf9[_0x1fb015(0x15e)]:JSON['stringify'](_0x1efbf9,null,0x2)));}}async['createFlow'](_0x3ac9e4){const _0x3acfc8=a0_0x3c797d;try{if(this[_0x3acfc8(0x30c)][_0x3acfc8(0x5ba)](this[_0x3acfc8(0x589)]+'\x20('+this[_0x3acfc8(0x3ce)][_0x3acfc8(0x5c8)]+_0x3acfc8(0x164)),await this['repository']['flow']['findOne']({'where':{'name':_0x3ac9e4[_0x3acfc8(0x42e)]}},this[_0x3acfc8(0x3ce)][_0x3acfc8(0x5c8)]))return{'message':_0x3acfc8(0x2fd)};_0x3ac9e4[_0x3acfc8(0x580)]===!0x0&&await this[_0x3acfc8(0x4cd)][_0x3acfc8(0x171)][_0x3acfc8(0x3cf)]({},{'default':!0x1},this['instance']['wuid']);let _0x1a13f1=new ne[(_0x3acfc8(0x672))][(_0x3acfc8(0x5b9))](),_0x5c496a={'_id':_0x1a13f1,'default':!0x0,'title':_0x3acfc8(0x581),'x':0x0,'y':0x0},_0x3770ce={'_id':new ne[(_0x3acfc8(0x672))]['ObjectId'](),'order':0x1,'groupId':_0x1a13f1[_0x3acfc8(0x509)](),'type':_0x3acfc8(0x2bc)},_0x20a464={'_id':new ne['Types'][(_0x3acfc8(0x5b9))](),'owner':this[_0x3acfc8(0x3ce)]['wuid'],'name':_0x3ac9e4[_0x3acfc8(0x42e)],'groups':[_0x5c496a],'blocks':[_0x3770ce],..._0x3ac9e4};return _0x20a464=await this[_0x3acfc8(0x4cd)]['flow'][_0x3acfc8(0x194)](_0x20a464,this[_0x3acfc8(0x3ce)][_0x3acfc8(0x5c8)]),_0x20a464;}catch(_0x4b7033){throw this[_0x3acfc8(0x30c)]['error'](this['instanceName']+'\x20('+this[_0x3acfc8(0x3ce)][_0x3acfc8(0x5c8)]+_0x3acfc8(0x338)+(_0x4b7033 instanceof Error?_0x4b7033[_0x3acfc8(0x15e)]:JSON[_0x3acfc8(0xf1)](_0x4b7033,null,0x2))),new m(_0x3acfc8(0x46c)+_0x4b7033);}}async[a0_0x3c797d(0x36c)](_0x3ce3a3){const _0x5c4907=a0_0x3c797d;try{return this[_0x5c4907(0x30c)][_0x5c4907(0x5ba)](this[_0x5c4907(0x589)]+'\x20('+this[_0x5c4907(0x3ce)][_0x5c4907(0x5c8)]+_0x5c4907(0x167)),await this[_0x5c4907(0x4cd)][_0x5c4907(0x171)][_0x5c4907(0x347)]({'where':{'name':_0x3ce3a3}},this[_0x5c4907(0x3ce)][_0x5c4907(0x5c8)]);}catch(_0x596c1a){return this[_0x5c4907(0x30c)][_0x5c4907(0x362)](this[_0x5c4907(0x589)]+'\x20('+this[_0x5c4907(0x3ce)][_0x5c4907(0x5c8)]+_0x5c4907(0x318)+(_0x596c1a instanceof Error?_0x596c1a[_0x5c4907(0x15e)]:JSON[_0x5c4907(0xf1)](_0x596c1a,null,0x2))),{'message':_0x5c4907(0x1c1)+_0x596c1a};}}async[a0_0x3c797d(0x386)](_0x2ee2e0){const _0x3a2bcc=a0_0x3c797d;try{this[_0x3a2bcc(0x30c)][_0x3a2bcc(0x5ba)](this[_0x3a2bcc(0x589)]+'\x20('+this[_0x3a2bcc(0x3ce)][_0x3a2bcc(0x5c8)]+_0x3a2bcc(0x572));let _0x1761a3=await this[_0x3a2bcc(0x4cd)][_0x3a2bcc(0x171)][_0x3a2bcc(0x2f8)]({'where':{'name':_0x2ee2e0}},this[_0x3a2bcc(0x3ce)]['wuid']);if(!_0x1761a3)throw new Error(_0x3a2bcc(0x17d));if(!this[_0x3a2bcc(0x6e6)]&&(await this['getAutomateSystem'](),!this[_0x3a2bcc(0x6e6)]))return null;let _0x52bc0d=this[_0x3a2bcc(0x6e6)]?.[_0x3a2bcc(0x251)][_0x3a2bcc(0x2a0)](_0x25d593=>_0x25d593[_0x3a2bcc(0x42e)]),_0x401401=[_0x3a2bcc(0x481),_0x3a2bcc(0x5d3),_0x3a2bcc(0x643),_0x3a2bcc(0x413),_0x3a2bcc(0x3fc),_0x3a2bcc(0x496),_0x3a2bcc(0x4a3),_0x3a2bcc(0x6eb)];_0x1761a3['variables']=_0x1761a3[_0x3a2bcc(0x55f)][_0x3a2bcc(0x12d)](_0xa9852a=>!(_0xa9852a['folder']===_0x3a2bcc(0x180)||_0xa9852a[_0x3a2bcc(0x180)])),_0x401401[_0x3a2bcc(0x3b8)](_0x3b1b9e=>{const _0x32339d=_0x3a2bcc;_0x1761a3[_0x32339d(0x55f)][_0x32339d(0xab)]({'folder':'leadInfo','name':_0x3b1b9e,'value':'','doc':'','leadInfo':!0x0});}),_0x52bc0d['forEach'](_0xec0249=>{const _0x18ba82=_0x3a2bcc;let _0x1dd45a=_0x1761a3[_0x18ba82(0x55f)][_0x18ba82(0x1d6)](_0x3de0c7=>_0x3de0c7[_0x18ba82(0x42e)]===_0xec0249);_0x1dd45a===-0x1?_0x1761a3[_0x18ba82(0x55f)]['push']({'folder':_0x18ba82(0x180),'name':_0xec0249,'value':'','doc':'','leadInfo':!0x0}):(_0x1761a3[_0x18ba82(0x55f)][_0x1dd45a]['folder']='leadInfo',_0x1761a3[_0x18ba82(0x55f)][_0x1dd45a][_0x18ba82(0x180)]=!0x0);}),_0x1761a3[_0x3a2bcc(0x543)]&&_0x1761a3[_0x3a2bcc(0x543)][_0x3a2bcc(0x234)]>0x0&&_0x1761a3[_0x3a2bcc(0x543)]['forEach'](_0x51d96e=>{const _0x15535c=_0x3a2bcc;_0x51d96e[_0x15535c(0x20f)]&&_0x51d96e[_0x15535c(0x5b3)]&&_0x51d96e['groupId']===_0x51d96e[_0x15535c(0x5b3)]&&(_0x51d96e[_0x15535c(0x5b3)]=null);});let _0x197a70=await this[_0x3a2bcc(0x4cd)][_0x3a2bcc(0x171)][_0x3a2bcc(0x119)](_0x1761a3[_0x3a2bcc(0x3c1)],_0x1761a3,this['instance'][_0x3a2bcc(0x5c8)]);if(!_0x197a70)throw new Error(_0x3a2bcc(0x343));return _0x197a70;}catch(_0x35365c){throw this[_0x3a2bcc(0x30c)][_0x3a2bcc(0x362)](this['instanceName']+'\x20('+this[_0x3a2bcc(0x3ce)][_0x3a2bcc(0x5c8)]+_0x3a2bcc(0x15d)+(_0x35365c instanceof Error?_0x35365c[_0x3a2bcc(0x15e)]:JSON[_0x3a2bcc(0xf1)](_0x35365c,null,0x2))),new m(_0x3a2bcc(0x5b7)+_0x35365c);}}async[a0_0x3c797d(0x1bb)](){const _0x45401e=a0_0x3c797d;try{return this[_0x45401e(0x30c)][_0x45401e(0x5ba)](this[_0x45401e(0x589)]+'\x20('+this[_0x45401e(0x3ce)][_0x45401e(0x5c8)]+_0x45401e(0x313)),await this[_0x45401e(0x4cd)][_0x45401e(0x171)]['findAll']({'where':{}},this[_0x45401e(0x3ce)]['wuid']);}catch(_0x2afe9d){return this[_0x45401e(0x30c)][_0x45401e(0x362)](this[_0x45401e(0x589)]+'\x20('+this['instance'][_0x45401e(0x5c8)]+_0x45401e(0x349)+(_0x2afe9d instanceof Error?_0x2afe9d[_0x45401e(0x15e)]:JSON[_0x45401e(0xf1)](_0x2afe9d,null,0x2))),{'message':_0x45401e(0xdb)+_0x2afe9d};}}async[a0_0x3c797d(0x487)](_0x61c3d9){const _0x33a005=a0_0x3c797d;try{this[_0x33a005(0x30c)][_0x33a005(0x5ba)](this[_0x33a005(0x589)]+'\x20('+this[_0x33a005(0x3ce)]['wuid']+'):\x20Alterando\x20fluxo...');let _0x2ee76e=await this[_0x33a005(0x4cd)]['flow'][_0x33a005(0x2f8)]({'where':{'name':_0x61c3d9[_0x33a005(0x42e)]}},this[_0x33a005(0x3ce)]['wuid']);return _0x2ee76e?(_0x61c3d9[_0x33a005(0x580)]===!0x0&&await this[_0x33a005(0x4cd)]['flow'][_0x33a005(0x3cf)]({},{'default':!0x1},this['instance'][_0x33a005(0x5c8)]),await this[_0x33a005(0x4cd)][_0x33a005(0x171)][_0x33a005(0x119)](_0x2ee76e[_0x33a005(0x3c1)],_0x61c3d9,this[_0x33a005(0x3ce)][_0x33a005(0x5c8)])):{'message':_0x33a005(0xc9)};}catch(_0x40237b){throw this[_0x33a005(0x30c)][_0x33a005(0x362)](this['instanceName']+'\x20('+this[_0x33a005(0x3ce)][_0x33a005(0x5c8)]+_0x33a005(0x26e)+(_0x40237b instanceof Error?_0x40237b[_0x33a005(0x15e)]:JSON[_0x33a005(0xf1)](_0x40237b,null,0x2))),new m(_0x33a005(0x2b0)+(_0x40237b instanceof Error?_0x40237b[_0x33a005(0x15e)]:JSON[_0x33a005(0xf1)](_0x40237b,null,0x2)));}}async['editFlowBlock'](_0x1519cc){const _0x5e9973=a0_0x3c797d;try{this[_0x5e9973(0x30c)][_0x5e9973(0x5ba)](this[_0x5e9973(0x589)]+'\x20('+this[_0x5e9973(0x3ce)][_0x5e9973(0x5c8)]+_0x5e9973(0x6dd));let _0x17c820=await this[_0x5e9973(0x4cd)][_0x5e9973(0x171)]['findOne']({'where':{'name':_0x1519cc[_0x5e9973(0x42e)]}},this['instance'][_0x5e9973(0x5c8)]);_0x17c820||this[_0x5e9973(0x14b)](_0x5e9973(0x17d));let {block:_0x3c6e85}=_0x1519cc;_0x3c6e85?.[_0x5e9973(0x5be)]?this['copyBlock'](_0x17c820,_0x1519cc):_0x3c6e85?.[_0x5e9973(0x405)]?this[_0x5e9973(0x33f)](_0x17c820,_0x1519cc):_0x3c6e85[_0x5e9973(0x3c1)]?await this[_0x5e9973(0x321)](_0x17c820,_0x1519cc):this[_0x5e9973(0xd4)](_0x17c820,_0x1519cc);let _0x1f57da=await this[_0x5e9973(0x4cd)][_0x5e9973(0x171)][_0x5e9973(0x119)](_0x17c820['_id'],_0x17c820,this['instance'][_0x5e9973(0x5c8)]);if(!_0x1f57da)throw new Error(_0x5e9973(0x343));return _0x1f57da;}catch(_0x3397f7){this[_0x5e9973(0x14b)](_0x5e9973(0x24a)+_0x3397f7);}}async['copyBlock'](_0x428c0b,_0x2e5559){const _0x3554f2=a0_0x3c797d;let _0xbf8a8d=_0x2e5559[_0x3554f2(0x656)][_0x3554f2(0x3c1)],_0xdf880a=_0x428c0b[_0x3554f2(0x543)][_0x3554f2(0x2ec)](_0x25b2af=>_0x25b2af[_0x3554f2(0x3c1)][_0x3554f2(0x509)]()===_0xbf8a8d);if(!_0xdf880a){this['logger'][_0x3554f2(0x362)](this[_0x3554f2(0x589)]+'\x20('+this[_0x3554f2(0x3ce)][_0x3554f2(0x5c8)]+'):\x20Bloco\x20com\x20ID\x20'+_0xbf8a8d+_0x3554f2(0x165));return;}this[_0x3554f2(0x30c)]['verbose'](this[_0x3554f2(0x589)]+'\x20('+this[_0x3554f2(0x3ce)][_0x3554f2(0x5c8)]+_0x3554f2(0x4ce)+JSON[_0x3554f2(0xf1)](_0xdf880a));let _0x158b32=JSON[_0x3554f2(0x6cb)](JSON[_0x3554f2(0xf1)](_0xdf880a));_0x158b32[_0x3554f2(0x3c1)]=new ne['default']['Types'][(_0x3554f2(0x5b9))](),this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x3554f2(0x5c8)]+_0x3554f2(0x222)+JSON['stringify'](_0x158b32)),_0x428c0b[_0x3554f2(0x543)][_0x3554f2(0xab)](_0x158b32),this[_0x3554f2(0x412)](_0x428c0b[_0x3554f2(0x543)],_0x158b32[_0x3554f2(0x20f)]);}[a0_0x3c797d(0x14b)](_0x1270f3){const _0x44fa48=a0_0x3c797d;throw this[_0x44fa48(0x30c)]['error'](this['instanceName']+'\x20('+this[_0x44fa48(0x3ce)][_0x44fa48(0x5c8)]+_0x44fa48(0x36f)+_0x1270f3),new m(_0x1270f3);}['deleteBlock'](_0x1af336,_0x4d150b){const _0x5278cb=a0_0x3c797d;let {block:_0x393675}=_0x4d150b;if(_0x393675[_0x5278cb(0x42a)]===_0x5278cb(0x2bc)){this['throwAndLogError'](_0x5278cb(0x15a));return;}if(!_0x393675['_id']){this[_0x5278cb(0x14b)](_0x5278cb(0x213));return;}let _0x4445c6=_0x1af336[_0x5278cb(0x543)][_0x5278cb(0x2ec)](_0x17af64=>_0x17af64[_0x5278cb(0x3c1)][_0x5278cb(0x509)]()===_0x4d150b[_0x5278cb(0x656)]['_id'][_0x5278cb(0x509)]());if(!_0x4445c6){this[_0x5278cb(0x14b)]('Bloco\x20com\x20ID\x20'+_0x393675[_0x5278cb(0x3c1)]+'\x20não\x20encontrado');return;}_0x1af336['blocks']=_0x1af336[_0x5278cb(0x543)][_0x5278cb(0x12d)](_0x10c460=>_0x10c460[_0x5278cb(0x3c1)]['toString']()!==_0x4d150b[_0x5278cb(0x656)][_0x5278cb(0x3c1)][_0x5278cb(0x509)]()),_0x1af336[_0x5278cb(0x654)]=_0x1af336[_0x5278cb(0x654)][_0x5278cb(0x12d)](_0x400942=>_0x400942['blockId']!==_0x393675[_0x5278cb(0x3c1)][_0x5278cb(0x509)]()),_0x1af336[_0x5278cb(0x45f)]=_0x1af336['varedits'][_0x5278cb(0x12d)](_0x32c265=>_0x32c265[_0x5278cb(0x307)]!==_0x393675[_0x5278cb(0x3c1)][_0x5278cb(0x509)]()),_0x1af336[_0x5278cb(0x235)]=_0x1af336[_0x5278cb(0x235)][_0x5278cb(0x12d)](_0x4fd418=>_0x4fd418['blockId']!==_0x393675[_0x5278cb(0x3c1)][_0x5278cb(0x509)]()),this[_0x5278cb(0x412)](_0x1af336[_0x5278cb(0x543)],_0x4445c6[_0x5278cb(0x20f)]);}async[a0_0x3c797d(0x321)](_0x1d9d97,_0x5d40dc){const _0x5a16ef=a0_0x3c797d;let _0x3b96cd=_0x1d9d97[_0x5a16ef(0x543)][_0x5a16ef(0x1d6)](_0x48d4d9=>_0x48d4d9['_id'][_0x5a16ef(0x509)]()===_0x5d40dc[_0x5a16ef(0x656)]['_id'][_0x5a16ef(0x509)]());if(this['logger']['verbose'](this[_0x5a16ef(0x589)]+'\x20('+this[_0x5a16ef(0x3ce)][_0x5a16ef(0x5c8)]+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x3b96cd),_0x3b96cd===-0x1){this[_0x5a16ef(0x30c)][_0x5a16ef(0x5ba)](_0x5a16ef(0x4fa)+_0x5d40dc[_0x5a16ef(0x656)]['_id']+_0x5a16ef(0x4cc));return;}if(_0x1d9d97[_0x5a16ef(0x543)][_0x3b96cd][_0x5a16ef(0x42a)]===_0x5a16ef(0x2bc)){let _0x23bcd9=Object[_0x5a16ef(0x4e5)](_0x5d40dc['block']);if(_0x23bcd9[_0x5a16ef(0x234)]>0x2||_0x23bcd9['length']===0x2&&!_0x23bcd9[_0x5a16ef(0x129)](_0x5a16ef(0x5b3))){this[_0x5a16ef(0x14b)]('Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão');return;}}let _0x3c12f3=_0x1d9d97['blocks'][_0x3b96cd][_0x5a16ef(0x20f)];for(let _0x4fb6aa in _0x5d40dc[_0x5a16ef(0x656)])_0x5d40dc[_0x5a16ef(0x656)]['hasOwnProperty'](_0x4fb6aa)&&(_0x1d9d97[_0x5a16ef(0x543)][_0x3b96cd][_0x4fb6aa]=_0x5d40dc[_0x5a16ef(0x656)][_0x4fb6aa]);if(this[_0x5a16ef(0x30c)][_0x5a16ef(0x5ba)](this[_0x5a16ef(0x589)]+'\x20('+this[_0x5a16ef(0x3ce)][_0x5a16ef(0x5c8)]+_0x5a16ef(0x283)+JSON[_0x5a16ef(0xf1)](_0x1d9d97['blocks'][_0x3b96cd])),_0x1d9d97[_0x5a16ef(0x543)][_0x3b96cd][_0x5a16ef(0x4ae)]&&'header'in _0x1d9d97[_0x5a16ef(0x543)][_0x3b96cd]['apirequest']){this[_0x5a16ef(0x30c)]['verbose'](this[_0x5a16ef(0x589)]+'\x20('+this['instance'][_0x5a16ef(0x5c8)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x45ab16=JSON[_0x5a16ef(0xf1)](_0x1d9d97[_0x5a16ef(0x543)][_0x3b96cd]['apirequest'][_0x5a16ef(0x6d8)],null,0x1);_0x45ab16[_0x5a16ef(0x234)]>0x2&&(_0x45ab16=_0x45ab16[_0x5a16ef(0x505)](0x1,_0x45ab16['length']-0x1)[_0x5a16ef(0x6df)]()),_0x1d9d97[_0x5a16ef(0x543)][_0x3b96cd][_0x5a16ef(0x4ae)]['headerString']=_0x45ab16;}if(_0x1d9d97[_0x5a16ef(0x543)][_0x3b96cd]['apirequest']&&_0x5a16ef(0x4a6)in _0x1d9d97[_0x5a16ef(0x543)][_0x3b96cd][_0x5a16ef(0x4ae)]){this['logger'][_0x5a16ef(0x5ba)](this[_0x5a16ef(0x589)]+'\x20('+this[_0x5a16ef(0x3ce)][_0x5a16ef(0x5c8)]+_0x5a16ef(0x497));let _0x272e92=JSON[_0x5a16ef(0xf1)](_0x1d9d97['blocks'][_0x3b96cd][_0x5a16ef(0x4ae)][_0x5a16ef(0x4a6)],null,0x1);_0x272e92[_0x5a16ef(0x234)]>0x2&&(_0x272e92=_0x272e92[_0x5a16ef(0x505)](0x1,_0x272e92[_0x5a16ef(0x234)]-0x1)[_0x5a16ef(0x6df)]()),_0x1d9d97[_0x5a16ef(0x543)][_0x3b96cd][_0x5a16ef(0x4ae)][_0x5a16ef(0xde)]=_0x272e92;}let _0x1f58b8=_0x1d9d97['blocks'][_0x3b96cd][_0x5a16ef(0x20f)];_0x3c12f3!==_0x1f58b8?(this[_0x5a16ef(0x412)](_0x1d9d97[_0x5a16ef(0x543)],_0x3c12f3),this[_0x5a16ef(0x412)](_0x1d9d97[_0x5a16ef(0x543)],_0x1f58b8)):this[_0x5a16ef(0x412)](_0x1d9d97['blocks'],_0x3c12f3);}[a0_0x3c797d(0xd4)](_0x342970,_0x30c8bf){const _0x5b55b6=a0_0x3c797d;if(_0x30c8bf[_0x5b55b6(0x656)][_0x5b55b6(0x42a)]===_0x5b55b6(0x2bc)){this[_0x5b55b6(0x14b)](_0x5b55b6(0x122));return;}if(_0x30c8bf[_0x5b55b6(0x656)]['apirequest']&&'header'in _0x30c8bf[_0x5b55b6(0x656)]['apirequest']){this[_0x5b55b6(0x30c)]['verbose'](this[_0x5b55b6(0x589)]+'\x20('+this[_0x5b55b6(0x3ce)][_0x5b55b6(0x5c8)]+_0x5b55b6(0xed));let _0x7bff9=JSON[_0x5b55b6(0xf1)](_0x30c8bf[_0x5b55b6(0x656)]['apirequest'][_0x5b55b6(0x6d8)],null,0x1);_0x7bff9[_0x5b55b6(0x234)]>0x2&&(_0x7bff9=_0x7bff9[_0x5b55b6(0x505)](0x1,_0x7bff9[_0x5b55b6(0x234)]-0x1)[_0x5b55b6(0x6df)]()),_0x30c8bf[_0x5b55b6(0x656)][_0x5b55b6(0x4ae)][_0x5b55b6(0x361)]=_0x7bff9;}_0x30c8bf[_0x5b55b6(0x656)][_0x5b55b6(0x4ae)]&&_0x5b55b6(0x4a6)in _0x30c8bf[_0x5b55b6(0x656)]['apirequest']&&(this['logger']['verbose'](this[_0x5b55b6(0x589)]+'\x20('+this[_0x5b55b6(0x3ce)][_0x5b55b6(0x5c8)]+_0x5b55b6(0x497)),_0x30c8bf[_0x5b55b6(0x656)][_0x5b55b6(0x4ae)][_0x5b55b6(0xde)]=JSON[_0x5b55b6(0xf1)](_0x30c8bf[_0x5b55b6(0x656)][_0x5b55b6(0x4ae)][_0x5b55b6(0x4a6)],null,0x1)['trim']()),_0x342970[_0x5b55b6(0x543)][_0x5b55b6(0xab)](_0x30c8bf[_0x5b55b6(0x656)]),this[_0x5b55b6(0x412)](_0x342970[_0x5b55b6(0x543)],_0x30c8bf[_0x5b55b6(0x656)][_0x5b55b6(0x20f)]);}['reorderBlocks'](_0x2fa554,_0x592766){const _0x1f49ca=a0_0x3c797d;let _0x1a43e6=_0x2fa554[_0x1f49ca(0x12d)](_0x1c945f=>_0x1c945f[_0x1f49ca(0x20f)]===_0x592766);_0x1a43e6['sort']((_0x4dffcd,_0x28537)=>_0x4dffcd['order']-_0x28537['order']),_0x1a43e6[_0x1f49ca(0x3b8)]((_0x3e004f,_0x40501a)=>_0x3e004f[_0x1f49ca(0x1ca)]=_0x40501a+0x1);}async[a0_0x3c797d(0x218)](_0x2484bf){const _0x3f3237=a0_0x3c797d;try{if(this[_0x3f3237(0x30c)][_0x3f3237(0x5ba)](this[_0x3f3237(0x589)]+'\x20('+this[_0x3f3237(0x3ce)][_0x3f3237(0x5c8)]+'):\x20Editando\x20replyOption...'),!_0x2484bf||!_0x2484bf['replyOption']){this['throwAndLogError'](_0x3f3237(0x4c5));return;}let _0x70b2fa=await this[_0x3f3237(0x4cd)][_0x3f3237(0x171)][_0x3f3237(0x2f8)]({'where':{'name':_0x2484bf[_0x3f3237(0x42e)]}},this['instance']['wuid']);_0x70b2fa||this[_0x3f3237(0x14b)]('Flow\x20não\x20encontrado');let {replyOption:_0x3ee117}=_0x2484bf;_0x3ee117?.[_0x3f3237(0x405)]?(this[_0x3f3237(0x645)](_0x70b2fa,_0x2484bf),this['reorderReplyOptions'](_0x70b2fa[_0x3f3237(0x235)],_0x2484bf[_0x3f3237(0x254)][_0x3f3237(0x307)])):_0x3ee117[_0x3f3237(0x3c1)]?(await this['updateReplyOption'](_0x70b2fa,_0x2484bf),this[_0x3f3237(0x392)](_0x70b2fa[_0x3f3237(0x235)],_0x2484bf['replyOption']['blockId'])):(this[_0x3f3237(0x284)](_0x70b2fa,_0x2484bf),this[_0x3f3237(0x392)](_0x70b2fa[_0x3f3237(0x235)],_0x2484bf[_0x3f3237(0x254)][_0x3f3237(0x307)]));let _0x30c8e9=await this['repository'][_0x3f3237(0x171)][_0x3f3237(0x119)](_0x70b2fa[_0x3f3237(0x3c1)],_0x70b2fa,this[_0x3f3237(0x3ce)][_0x3f3237(0x5c8)]);if(!_0x30c8e9)throw new Error(_0x3f3237(0x343));return _0x30c8e9;}catch(_0x362b27){this['throwAndLogError'](_0x3f3237(0x12b)+_0x362b27);}}[a0_0x3c797d(0x392)](_0x334b38,_0x348b49){const _0x1ff2d5=a0_0x3c797d;console['log'](_0x1ff2d5(0x53a),_0x348b49),_0x334b38[_0x1ff2d5(0x3b8)](_0x11dee4=>{const _0x2e394c=_0x1ff2d5;_0x11dee4[_0x2e394c(0x307)]===_0x348b49&&_0x11dee4[_0x2e394c(0x1ca)]===void 0x0&&(_0x11dee4[_0x2e394c(0x1ca)]=0x270f);});let _0x2cf8e8=_0x334b38[_0x1ff2d5(0x12d)](_0x420d0e=>_0x420d0e[_0x1ff2d5(0x307)]===_0x348b49);_0x2cf8e8['sort']((_0x5c40d2,_0x34f6d8)=>_0x5c40d2[_0x1ff2d5(0x1ca)]-_0x34f6d8[_0x1ff2d5(0x1ca)]),_0x2cf8e8[_0x1ff2d5(0x3b8)]((_0x3d8c07,_0x1b1895)=>{const _0x249b3c=_0x1ff2d5;_0x3d8c07[_0x249b3c(0x1ca)]=_0x1b1895+0x1;}),_0x334b38[_0x1ff2d5(0x3b8)](_0xb244c0=>{const _0x3d5d72=_0x1ff2d5;if(_0xb244c0[_0x3d5d72(0x307)]===_0x348b49){let _0x44ff4c=_0x2cf8e8['find'](_0xb02668=>_0xb02668[_0x3d5d72(0x3c1)]['toString']()===_0xb244c0['_id'][_0x3d5d72(0x509)]());_0x44ff4c&&(_0xb244c0[_0x3d5d72(0x1ca)]=_0x44ff4c[_0x3d5d72(0x1ca)]);}}),console[_0x1ff2d5(0x247)](_0x1ff2d5(0x5c0),_0x334b38);}[a0_0x3c797d(0x645)](_0x2b7bf9,_0x2005e2){const _0x48658d=a0_0x3c797d;let {replyOption:_0x2703bf}=_0x2005e2;if(!_0x2703bf[_0x48658d(0x3c1)]){this['throwAndLogError'](_0x48658d(0x6b6));return;}if(!_0x2b7bf9[_0x48658d(0x235)][_0x48658d(0x2ec)](_0x1db501=>_0x1db501[_0x48658d(0x3c1)][_0x48658d(0x509)]()===_0x2005e2[_0x48658d(0x254)][_0x48658d(0x3c1)]['toString']())){this[_0x48658d(0x14b)](_0x48658d(0x5a0)+_0x2703bf[_0x48658d(0x3c1)]+_0x48658d(0x42b));return;}_0x2b7bf9[_0x48658d(0x235)]=_0x2b7bf9[_0x48658d(0x235)][_0x48658d(0x12d)](_0x55dbac=>_0x55dbac[_0x48658d(0x3c1)][_0x48658d(0x509)]()!==_0x2005e2[_0x48658d(0x254)][_0x48658d(0x3c1)][_0x48658d(0x509)]());}async[a0_0x3c797d(0x47a)](_0x2a88e6,_0x50cbfe){const _0x2a3716=a0_0x3c797d;let _0x10f096=_0x2a88e6['replyOptions'][_0x2a3716(0x1d6)](_0x168b9b=>_0x168b9b[_0x2a3716(0x3c1)][_0x2a3716(0x509)]()===_0x50cbfe[_0x2a3716(0x254)][_0x2a3716(0x3c1)][_0x2a3716(0x509)]());if(_0x10f096===-0x1){this[_0x2a3716(0x14b)]('ReplyOption\x20com\x20ID\x20'+_0x50cbfe[_0x2a3716(0x254)][_0x2a3716(0x3c1)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0x716eab in _0x50cbfe[_0x2a3716(0x254)])_0x50cbfe[_0x2a3716(0x254)][_0x2a3716(0x3c9)](_0x716eab)&&(_0x2a88e6[_0x2a3716(0x235)][_0x10f096][_0x716eab]=_0x50cbfe[_0x2a3716(0x254)][_0x716eab]);}[a0_0x3c797d(0x284)](_0x17b30f,_0x50234b){const _0x6fbec0=a0_0x3c797d;_0x17b30f[_0x6fbec0(0x235)][_0x6fbec0(0xab)](_0x50234b[_0x6fbec0(0x254)]);}async[a0_0x3c797d(0x1a5)](_0x1a8650){const _0x564575=a0_0x3c797d;this['logger'][_0x564575(0x5ba)](this[_0x564575(0x589)]+'\x20('+this[_0x564575(0x3ce)][_0x564575(0x5c8)]+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup:'+_0x1a8650);try{this[_0x564575(0x30c)][_0x564575(0x5ba)](this[_0x564575(0x589)]+'\x20('+this[_0x564575(0x3ce)][_0x564575(0x5c8)]+_0x564575(0x4d1));let _0x1a2067=await this[_0x564575(0x4cd)][_0x564575(0x171)][_0x564575(0x2f8)]({'where':{'name':_0x1a8650['name']}},this[_0x564575(0x3ce)][_0x564575(0x5c8)]);if(!_0x1a2067)throw new Error('Flow\x20não\x20encontrado');if(_0x1a8650[_0x564575(0x684)]&&_0x1a8650[_0x564575(0x684)]?.[_0x564575(0x405)]===!0x0){if(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x564575(0x3ce)][_0x564575(0x5c8)]+_0x564575(0x28c)),_0x1a8650[_0x564575(0x684)][_0x564575(0x580)]===!0x0)return{'message':_0x564575(0x512)};if(_0x1a2067[_0x564575(0x543)][_0x564575(0x256)](_0x264878=>_0x264878[_0x564575(0x20f)][_0x564575(0x509)]()===_0x1a8650[_0x564575(0x684)][_0x564575(0x3c1)]))return this[_0x564575(0x30c)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x564575(0x5c8)]+_0x564575(0x282)),{'message':_0x564575(0x51d)};_0x1a2067['groups']=_0x1a2067[_0x564575(0x2e5)][_0x564575(0x12d)](_0x2a3747=>_0x2a3747[_0x564575(0x3c1)][_0x564575(0x509)]()!==_0x1a8650[_0x564575(0x684)][_0x564575(0x3c1)]);}else{if(_0x1a8650[_0x564575(0x684)]){if(_0x1a8650['group'][_0x564575(0x580)]===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x1a8650[_0x564575(0x684)][_0x564575(0x3c1)]){let _0x405756=_0x1a2067[_0x564575(0x2e5)][_0x564575(0x2ec)](_0x3f4bab=>_0x3f4bab[_0x564575(0x3c1)][_0x564575(0x509)]()===_0x1a8650[_0x564575(0x684)]['_id']);_0x405756&&(_0x1a8650[_0x564575(0x684)]['x']<0x0&&(_0x1a8650[_0x564575(0x684)]['x']=0x0),_0x1a8650[_0x564575(0x684)]['y']<0x0&&(_0x1a8650['group']['y']=0x0),Object[_0x564575(0x653)](_0x405756,_0x1a8650['group']));}else _0x1a2067['groups']['push'](_0x1a8650['group']);}}let _0x35fac0=await this[_0x564575(0x4cd)]['flow']['updateOne'](_0x1a2067['_id'],_0x1a2067,this['instance']['wuid']);if(!_0x35fac0)throw new Error(_0x564575(0x343));return _0x35fac0;}catch(_0x53604d){throw this[_0x564575(0x30c)][_0x564575(0x362)](this[_0x564575(0x589)]+'\x20('+this[_0x564575(0x3ce)]['wuid']+_0x564575(0x6b0)+(_0x53604d instanceof Error?_0x53604d[_0x564575(0x15e)]:JSON['stringify'](_0x53604d,null,0x2))),new m(_0x564575(0x18d)+(_0x53604d instanceof Error?_0x53604d[_0x564575(0x15e)]:JSON['stringify'](_0x53604d,null,0x2)));}}async[a0_0x3c797d(0x535)](_0x234abd){const _0x42d7f8=a0_0x3c797d;try{this[_0x42d7f8(0x30c)][_0x42d7f8(0x5ba)](this[_0x42d7f8(0x589)]+'\x20('+this[_0x42d7f8(0x3ce)][_0x42d7f8(0x5c8)]+_0x42d7f8(0x174));let _0x15b391=await this[_0x42d7f8(0x4cd)][_0x42d7f8(0x171)][_0x42d7f8(0x2f8)]({'where':{'name':_0x234abd[_0x42d7f8(0x42e)]}},this['instance']['wuid']);if(!_0x15b391)throw new Error(_0x42d7f8(0x17d));let _0x507727=!0x1;if(_0x234abd['condition']?.[_0x42d7f8(0x405)]===!0x0)_0x15b391[_0x42d7f8(0x654)]=_0x15b391[_0x42d7f8(0x654)][_0x42d7f8(0x12d)](_0x2799bc=>_0x2799bc&&_0x234abd[_0x42d7f8(0x69b)]&&_0x2799bc['_id']&&_0x234abd[_0x42d7f8(0x69b)][_0x42d7f8(0x3c1)]&&_0x2799bc[_0x42d7f8(0x3c1)][_0x42d7f8(0x509)]()!==_0x234abd[_0x42d7f8(0x69b)][_0x42d7f8(0x3c1)]['toString']()),_0x507727=!0x0;else{let _0x4e2839=_0x15b391[_0x42d7f8(0x654)]['find'](_0x474aab=>_0x474aab&&_0x234abd[_0x42d7f8(0x69b)]&&_0x474aab[_0x42d7f8(0x3c1)]&&_0x234abd[_0x42d7f8(0x69b)][_0x42d7f8(0x3c1)]&&_0x474aab['_id']['toString']()===_0x234abd[_0x42d7f8(0x69b)][_0x42d7f8(0x3c1)][_0x42d7f8(0x509)]());_0x4e2839?(_0x507727=_0x4e2839['order']!==_0x234abd['condition']['order'],Object[_0x42d7f8(0x653)](_0x4e2839,_0x234abd[_0x42d7f8(0x69b)])):(_0x15b391['conditions'][_0x42d7f8(0xab)](_0x234abd[_0x42d7f8(0x69b)]),_0x507727=!0x0);}if(_0x507727){_0x15b391[_0x42d7f8(0x654)][_0x42d7f8(0x537)]((_0x5813c4,_0x1c633c)=>_0x5813c4[_0x42d7f8(0x1ca)]>_0x1c633c[_0x42d7f8(0x1ca)]?0x1:_0x1c633c[_0x42d7f8(0x1ca)]>_0x5813c4['order']?-0x1:0x0);for(let _0x308608=0x0;_0x308608<_0x15b391[_0x42d7f8(0x654)][_0x42d7f8(0x234)];_0x308608++)_0x15b391[_0x42d7f8(0x654)][_0x308608][_0x42d7f8(0x1ca)]=_0x308608+0x1;_0x15b391[_0x42d7f8(0x654)][_0x42d7f8(0x234)]>0x0&&(_0x15b391[_0x42d7f8(0x654)][0x0][_0x42d7f8(0x6a1)]=_0x42d7f8(0x563));}let _0x3cb24d=await this[_0x42d7f8(0x4cd)][_0x42d7f8(0x171)]['updateOne'](_0x15b391[_0x42d7f8(0x3c1)],_0x15b391,this[_0x42d7f8(0x3ce)][_0x42d7f8(0x5c8)]);if(!_0x3cb24d)throw new Error(_0x42d7f8(0x343));return _0x3cb24d;}catch(_0x23ff1c){throw this[_0x42d7f8(0x30c)][_0x42d7f8(0x362)](this[_0x42d7f8(0x589)]+'\x20('+this['instance'][_0x42d7f8(0x5c8)]+_0x42d7f8(0x603)+(_0x23ff1c instanceof Error?_0x23ff1c[_0x42d7f8(0x15e)]:JSON[_0x42d7f8(0xf1)](_0x23ff1c,null,0x2))),new Error('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x23ff1c instanceof Error?_0x23ff1c['message']:JSON['stringify'](_0x23ff1c,null,0x2)));}}async[a0_0x3c797d(0x2f3)](_0x1f9d98){const _0x59268d=a0_0x3c797d;try{this[_0x59268d(0x30c)][_0x59268d(0x5ba)](this[_0x59268d(0x589)]+'\x20('+this[_0x59268d(0x3ce)][_0x59268d(0x5c8)]+_0x59268d(0x2a9));let _0x325380=await this[_0x59268d(0x4cd)][_0x59268d(0x171)][_0x59268d(0x2f8)]({'where':{'name':_0x1f9d98[_0x59268d(0x42e)]}},this[_0x59268d(0x3ce)][_0x59268d(0x5c8)]);if(!_0x325380)throw new Error(_0x59268d(0x17d));let _0x4e8010=!0x1;if(_0x1f9d98[_0x59268d(0x403)]?.[_0x59268d(0x405)]===!0x0)_0x325380[_0x59268d(0x45f)]=_0x325380[_0x59268d(0x45f)][_0x59268d(0x12d)](_0x1b105c=>_0x1b105c&&_0x1f9d98[_0x59268d(0x403)]&&_0x1b105c['_id']&&_0x1f9d98[_0x59268d(0x403)][_0x59268d(0x3c1)]&&_0x1b105c[_0x59268d(0x3c1)]['toString']()!==_0x1f9d98[_0x59268d(0x403)]['_id'][_0x59268d(0x509)]()),_0x4e8010=!0x0;else{let _0x31b773=_0x325380[_0x59268d(0x45f)]['find'](_0xe60ef6=>_0xe60ef6&&_0x1f9d98['varedit']&&_0xe60ef6[_0x59268d(0x3c1)]&&_0x1f9d98[_0x59268d(0x403)][_0x59268d(0x3c1)]&&_0xe60ef6[_0x59268d(0x3c1)][_0x59268d(0x509)]()===_0x1f9d98[_0x59268d(0x403)][_0x59268d(0x3c1)]['toString']());_0x31b773?(_0x4e8010=_0x31b773[_0x59268d(0x1ca)]!==_0x1f9d98[_0x59268d(0x403)][_0x59268d(0x1ca)],Object['assign'](_0x31b773,_0x1f9d98[_0x59268d(0x403)])):(_0x325380[_0x59268d(0x45f)][_0x59268d(0xab)](_0x1f9d98[_0x59268d(0x403)]),_0x4e8010=!0x0);}if(_0x4e8010){_0x325380['varedits'][_0x59268d(0x537)]((_0x49de98,_0x44a95d)=>_0x49de98['order']>_0x44a95d[_0x59268d(0x1ca)]?0x1:_0x44a95d[_0x59268d(0x1ca)]>_0x49de98['order']?-0x1:0x0);for(let _0x2dd01a=0x0;_0x2dd01a<_0x325380['varedits'][_0x59268d(0x234)];_0x2dd01a++)_0x325380[_0x59268d(0x45f)][_0x2dd01a][_0x59268d(0x1ca)]=_0x2dd01a+0x1;}let _0x9d957c=await this['repository']['flow'][_0x59268d(0x119)](_0x325380[_0x59268d(0x3c1)],_0x325380,this[_0x59268d(0x3ce)][_0x59268d(0x5c8)]);if(!_0x9d957c)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x9d957c;}catch(_0x44ae65){throw this['logger']['error'](this[_0x59268d(0x589)]+'\x20('+this[_0x59268d(0x3ce)][_0x59268d(0x5c8)]+_0x59268d(0x603)+(_0x44ae65 instanceof Error?_0x44ae65[_0x59268d(0x15e)]:JSON[_0x59268d(0xf1)](_0x44ae65,null,0x2))),new m(_0x59268d(0x5ea)+(_0x44ae65 instanceof Error?_0x44ae65[_0x59268d(0x15e)]:JSON[_0x59268d(0xf1)](_0x44ae65,null,0x2)));}}async[a0_0x3c797d(0x314)](_0x27f42d){const _0x4c4cc1=a0_0x3c797d;try{this['logger'][_0x4c4cc1(0x5ba)](this[_0x4c4cc1(0x589)]+'\x20('+this[_0x4c4cc1(0x3ce)][_0x4c4cc1(0x5c8)]+_0x4c4cc1(0x5c5));let _0x30244b=await this['repository'][_0x4c4cc1(0x171)]['findOne']({'where':{'name':_0x27f42d[_0x4c4cc1(0x42e)]}},this['instance']['wuid']);if(!_0x30244b)throw new Error(_0x4c4cc1(0x17d));_0x27f42d[_0x4c4cc1(0x704)][_0x4c4cc1(0x42e)]=_0x27f42d[_0x4c4cc1(0x704)][_0x4c4cc1(0x42e)]['trim'](),_0x27f42d[_0x4c4cc1(0x704)]['name'][_0x4c4cc1(0x28b)]('_')&&(_0x27f42d[_0x4c4cc1(0x704)][_0x4c4cc1(0x42e)]=_0x27f42d[_0x4c4cc1(0x704)][_0x4c4cc1(0x42e)]['substring'](0x1)),_0x27f42d[_0x4c4cc1(0x704)][_0x4c4cc1(0x42e)]=_0x27f42d[_0x4c4cc1(0x704)][_0x4c4cc1(0x42e)][_0x4c4cc1(0x6df)]();let _0x1f3335=_0x30244b[_0x4c4cc1(0x55f)][_0x4c4cc1(0x2ec)](_0x4d36a0=>_0x4d36a0[_0x4c4cc1(0x42e)]===_0x27f42d['variable'][_0x4c4cc1(0x42e)]);if(_0x1f3335?.[_0x4c4cc1(0x180)]===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x27f42d[_0x4c4cc1(0x704)]?.[_0x4c4cc1(0x405)]===!0x0){if(!_0x1f3335)return{'message':_0x4c4cc1(0x358)};_0x30244b[_0x4c4cc1(0x55f)]=_0x30244b[_0x4c4cc1(0x55f)][_0x4c4cc1(0x12d)](_0x4f28dc=>_0x4f28dc['name']!==_0x27f42d[_0x4c4cc1(0x704)][_0x4c4cc1(0x42e)]);}else _0x1f3335?Object[_0x4c4cc1(0x653)](_0x1f3335,_0x27f42d[_0x4c4cc1(0x704)]):_0x30244b[_0x4c4cc1(0x55f)][_0x4c4cc1(0xab)](_0x27f42d[_0x4c4cc1(0x704)]);let _0x562cb3=await this[_0x4c4cc1(0x4cd)]['flow'][_0x4c4cc1(0x119)](_0x30244b[_0x4c4cc1(0x3c1)],_0x30244b,this[_0x4c4cc1(0x3ce)][_0x4c4cc1(0x5c8)]);if(!_0x562cb3)throw new Error(_0x4c4cc1(0x343));return _0x562cb3;}catch(_0x1d8110){throw this[_0x4c4cc1(0x30c)][_0x4c4cc1(0x362)](this[_0x4c4cc1(0x589)]+'\x20('+this[_0x4c4cc1(0x3ce)][_0x4c4cc1(0x5c8)]+_0x4c4cc1(0x2b4)+(_0x1d8110 instanceof Error?_0x1d8110[_0x4c4cc1(0x15e)]:JSON[_0x4c4cc1(0xf1)](_0x1d8110,null,0x2))),new m(_0x4c4cc1(0x500)+(_0x1d8110 instanceof Error?_0x1d8110[_0x4c4cc1(0x15e)]:JSON['stringify'](_0x1d8110,null,0x2)));}}async[a0_0x3c797d(0x3a6)](_0x493460){const _0x1336b3=a0_0x3c797d;let _0x4caeb9=null;try{if(!this[_0x1336b3(0x6e6)]?.[_0x1336b3(0x5a9)][_0x1336b3(0x57a)])throw new m(_0x1336b3(0x2a3));this[_0x1336b3(0x30c)][_0x1336b3(0x5ba)](this[_0x1336b3(0x589)]+'\x20('+this['instance'][_0x1336b3(0x5c8)]+_0x1336b3(0x565));let _0x163033=(await this['whatsappNumber']({'numbers':[_0x493460['remoteJid']]}))[0x0];if(!_0x163033[_0x1336b3(0x1a4)]&&!(0x0,y[_0x1336b3(0x6f8)])(_0x163033[_0x1336b3(0x244)])&&!_0x163033['jid'][_0x1336b3(0x129)](_0x1336b3(0x1aa)))throw _0x4caeb9=JSON[_0x1336b3(0xf1)](_0x163033,null,0x2),new m(_0x163033);let _0x34eb4d=await this['repository'][_0x1336b3(0x171)][_0x1336b3(0x2f8)]({'where':{'name':_0x493460[_0x1336b3(0x42e)]}},this[_0x1336b3(0x3ce)]['wuid']);if(!_0x34eb4d)return this['logger'][_0x1336b3(0x362)](this[_0x1336b3(0x589)]+'\x20('+this[_0x1336b3(0x3ce)][_0x1336b3(0x5c8)]+'):\x20Flow\x20não\x20encontrado'),{'message':_0x1336b3(0x17d)};let _0x21a405=await this[_0x1336b3(0x4a1)](_0x34eb4d,_0x163033['jid'],_0x493460[_0x1336b3(0x678)]);if(_0x21a405){this[_0x1336b3(0x30c)][_0x1336b3(0x5ba)](this[_0x1336b3(0x589)]+'\x20('+this[_0x1336b3(0x3ce)][_0x1336b3(0x5c8)]+'):\x20Criou\x20conversa\x20no\x20startFlow:');let _0x4714c3=await this['NextBlock'](_0x21a405);return _0x4714c3&&await this[_0x1336b3(0x5e3)](_0x21a405,_0x4714c3),{'message':_0x1336b3(0x203)+_0x493460[_0x1336b3(0xb8)]};}}catch(_0x258dba){if(this['logger'][_0x1336b3(0x362)](this[_0x1336b3(0x589)]+'\x20('+this[_0x1336b3(0x3ce)][_0x1336b3(0x5c8)]+_0x1336b3(0x430)+(_0x258dba instanceof Error?_0x258dba[_0x1336b3(0x15e)]:JSON[_0x1336b3(0xf1)](_0x258dba,null,0x2))),_0x4caeb9=_0x258dba instanceof Error?_0x258dba[_0x1336b3(0x15e)]:JSON['stringify'](_0x258dba,null,0x2),_0x4caeb9)throw new m(_0x1336b3(0x6e3)+_0x4caeb9);}}async[a0_0x3c797d(0x1cb)](_0x4fb42e){const _0x300ca9=a0_0x3c797d;try{let _0x1b1bec={'remoteJid':_0x4fb42e,'status':'open'},_0x4f2dc3={'status':_0x300ca9(0x18f)},_0x453d82=await this[_0x300ca9(0x4cd)]['flowConversation'][_0x300ca9(0x3cf)](_0x1b1bec,_0x4f2dc3,this[_0x300ca9(0x3ce)][_0x300ca9(0x5c8)]);return this[_0x300ca9(0x30c)][_0x300ca9(0x5ba)](this['instanceName']+'\x20('+this['instance'][_0x300ca9(0x5c8)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.'),_0x453d82;}catch(_0x1eb88a){throw this['logger'][_0x300ca9(0x362)](this[_0x300ca9(0x589)]+'\x20('+this[_0x300ca9(0x3ce)][_0x300ca9(0x5c8)]+_0x300ca9(0x357)+_0x1eb88a[_0x300ca9(0x15e)]),_0x1eb88a;}}async['createConversationforStartFlow'](_0x5aa121,_0x2f8c68,_0x156219){const _0x51b869=a0_0x3c797d;this['logger'][_0x51b869(0x5ba)](this['instanceName']+'\x20('+this[_0x51b869(0x3ce)][_0x51b869(0x5c8)]+_0x51b869(0x185)),await this[_0x51b869(0x1cb)](_0x2f8c68);try{let _0x31487a=require(_0x51b869(0x5cd))['ObjectId'],_0x178937=Date['now'](),_0x379933=_0x51b869(0x2bc),_0x268afd={},_0x69f8aa={},_0x249488={..._0x5aa121,'chatLog':null},_0x1b2b68=await this[_0x51b869(0x259)](_0x249488[_0x51b869(0x55f)]),_0x40a541=await this['getVariablesChat'](_0x2f8c68),_0xf59cad={..._0x1b2b68,..._0x40a541,'_remoteJid':_0x2f8c68},_0xe6f33f={'lastReceivedMessage':_0x268afd,'lastSendMessage':_0x69f8aa,'lastBlockId':_0x379933,'lastCondition':!0x0,'realVariables':_0xf59cad};_0x249488[_0x51b869(0x181)]=_0xe6f33f,_0x249488[_0x51b869(0x181)][_0x51b869(0x2e8)]={..._0xf59cad,..._0x156219},delete _0x249488['_id'],_0x249488['_id']=new _0x31487a(),_0x249488[_0x51b869(0x5d4)]=_0x178937,_0x249488['status']='open',_0x249488['remoteJid']=_0x2f8c68;let _0x3fbd8d=await this['repository']['flowConversation'][_0x51b869(0x119)](_0x249488[_0x51b869(0x3c1)],_0x249488,this[_0x51b869(0x3ce)][_0x51b869(0x5c8)]);return this[_0x51b869(0x30c)][_0x51b869(0x5ba)](this[_0x51b869(0x589)]+'\x20('+this[_0x51b869(0x3ce)][_0x51b869(0x5c8)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x3fbd8d?_0x249488:null;}catch(_0x503066){throw this[_0x51b869(0x30c)]['error'](this['instanceName']+'\x20('+this[_0x51b869(0x3ce)]['wuid']+_0x51b869(0x54d)+(_0x503066 instanceof Error?_0x503066[_0x51b869(0x15e)]:JSON[_0x51b869(0xf1)](_0x503066,null,0x2))),new m(_0x503066['message']);}}async[a0_0x3c797d(0x3f5)](_0x55a7d5){const _0x5e5cc8=a0_0x3c797d;try{this['logger'][_0x5e5cc8(0x5ba)](this[_0x5e5cc8(0x589)]+'\x20('+this[_0x5e5cc8(0x3ce)][_0x5e5cc8(0x5c8)]+_0x5e5cc8(0x440)),this[_0x5e5cc8(0x30c)]['verbose'](this[_0x5e5cc8(0x589)]+'\x20('+this['instance']['wuid']+_0x5e5cc8(0x20d)+_0x55a7d5);let _0x5668e7={'where':{'_id':_0x55a7d5}};return await this[_0x5e5cc8(0x4cd)][_0x5e5cc8(0x24f)][_0x5e5cc8(0x2f8)](_0x5668e7,this[_0x5e5cc8(0x3ce)]['wuid']);}catch(_0x1004c5){throw this[_0x5e5cc8(0x30c)][_0x5e5cc8(0x362)](this[_0x5e5cc8(0x589)]+'\x20('+this[_0x5e5cc8(0x3ce)][_0x5e5cc8(0x5c8)]+_0x5e5cc8(0xc0)+(_0x1004c5 instanceof Error?_0x1004c5[_0x5e5cc8(0x15e)]:JSON[_0x5e5cc8(0xf1)](_0x1004c5,null,0x2))),new m(_0x5e5cc8(0x6f3)+_0x1004c5['message']);}}async[a0_0x3c797d(0x4a0)](_0x5e7c0b){const _0x407145=a0_0x3c797d;try{return this['logger'][_0x407145(0x5ba)](this[_0x407145(0x589)]+'\x20('+this[_0x407145(0x3ce)][_0x407145(0x5c8)]+_0x407145(0x35e)),await this[_0x407145(0x4cd)]['flowConversation'][_0x407145(0x2ec)](_0x5e7c0b,this[_0x407145(0x3ce)][_0x407145(0x5c8)]);}catch(_0x4800f9){throw this['logger'][_0x407145(0x362)](this['instanceName']+'\x20('+this[_0x407145(0x3ce)][_0x407145(0x5c8)]+_0x407145(0x42c)+(_0x4800f9 instanceof Error?_0x4800f9[_0x407145(0x15e)]:JSON[_0x407145(0xf1)](_0x4800f9,null,0x2))),new m(_0x407145(0x308)+_0x4800f9[_0x407145(0x15e)]);}}async[a0_0x3c797d(0x3b1)](_0x42e8e9){const _0x45435e=a0_0x3c797d;try{return this[_0x45435e(0x30c)][_0x45435e(0x5ba)](this[_0x45435e(0x589)]+'\x20('+this[_0x45435e(0x3ce)][_0x45435e(0x5c8)]+_0x45435e(0x1dc)),this[_0x45435e(0x30c)][_0x45435e(0x5ba)](this[_0x45435e(0x589)]+'\x20('+this[_0x45435e(0x3ce)]['wuid']+_0x45435e(0x332)+_0x42e8e9),(await this[_0x45435e(0x4cd)]['flowConversation'][_0x45435e(0x347)]({'where':{'_id':_0x42e8e9}},this[_0x45435e(0x3ce)][_0x45435e(0x5c8)]))[_0x45435e(0x199)]===0x0?{'message':_0x45435e(0x116)}:{'message':_0x45435e(0x688)};}catch(_0x1c80fc){throw this[_0x45435e(0x30c)][_0x45435e(0x362)](this[_0x45435e(0x589)]+'\x20('+this[_0x45435e(0x3ce)][_0x45435e(0x5c8)]+'):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20'+(_0x1c80fc instanceof Error?_0x1c80fc[_0x45435e(0x15e)]:JSON[_0x45435e(0xf1)](_0x1c80fc,null,0x2))),new m(_0x45435e(0x57c)+_0x1c80fc[_0x45435e(0x15e)]);}}async[a0_0x3c797d(0x5e8)](_0x58195f){const _0x10df29=a0_0x3c797d;try{let {_id:_0x3ce9d9,chatLog:_0x241450,status:_0x5e6406}=_0x58195f;if(!_0x3ce9d9)return{'message':_0x10df29(0x4b6)};let _0x12d1be={};if(_0x5e6406!==void 0x0&&(_0x12d1be[_0x10df29(0x3fc)]=_0x5e6406),Object[_0x10df29(0x4e5)](_0x12d1be)[_0x10df29(0x234)]===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0x21da5a=await this[_0x10df29(0x4cd)][_0x10df29(0x24f)]['updateOne'](_0x3ce9d9,_0x12d1be,this[_0x10df29(0x3ce)][_0x10df29(0x5c8)]);return _0x21da5a||{'message':_0x10df29(0x5ae)};}catch(_0x5c7f85){throw this[_0x10df29(0x30c)][_0x10df29(0x362)](this[_0x10df29(0x589)]+'\x20('+this['instance'][_0x10df29(0x5c8)]+_0x10df29(0xbb)+(_0x5c7f85 instanceof Error?_0x5c7f85[_0x10df29(0x15e)]:JSON[_0x10df29(0xf1)](_0x5c7f85,null,0x2))),new m(_0x10df29(0x64c)+_0x5c7f85['message']);}}async[a0_0x3c797d(0x4e2)](_0x19179b){const _0x4df368=a0_0x3c797d;try{_0x19179b[_0x4df368(0x3c1)]=this[_0x4df368(0x373)](_0x19179b[_0x4df368(0x3c1)]);let {_id:_0x424942,leadInfo:_0x554e4f}=_0x19179b;if(!_0x424942)throw new Error(_0x4df368(0x29c));let _0x247599=(_0x982a20,_0x428923,_0x370fee)=>{const _0x1d74cd=_0x4df368;_0x370fee[_0x1d74cd(0x3b8)](_0x13b177=>{const _0x392091=_0x1d74cd;_0x982a20[_0x13b177]!==void 0x0&&(_0x428923[_0x392091(0xfa)+_0x13b177]=_0x982a20[_0x13b177]);});},_0xe69771={};if(_0x247599(_0x554e4f,_0xe69771,[_0x4df368(0x481),_0x4df368(0x5d3),_0x4df368(0x643),_0x4df368(0x413),_0x4df368(0x3fc),_0x4df368(0x496),_0x4df368(0x6eb),_0x4df368(0x169),_0x4df368(0x4a3)]),Array[_0x4df368(0x65a)](_0x554e4f['customFields'])&&(_0xe69771['leadInfo.customFields']=_0x554e4f['customFields'][_0x4df368(0x2a0)](_0x3ffd19=>({'_id':_0x3ffd19[_0x4df368(0x3c1)],'value':_0x3ffd19['value']}))),_0x19179b[_0x4df368(0x180)][_0x4df368(0x48f)]!==void 0x0&&(_0xe69771[_0x4df368(0x6b9)]=Number(_0x19179b['leadInfo'][_0x4df368(0x48f)])),_0x19179b[_0x4df368(0x13b)]!==void 0x0&&(_0xe69771[_0x4df368(0x13b)]=Number(_0x19179b[_0x4df368(0x13b)])),Object[_0x4df368(0x4e5)](_0xe69771)[_0x4df368(0x234)]===0x0)throw new Error('Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.');let _0x58b2d4=await this[_0x4df368(0x4cd)][_0x4df368(0x65c)]['findOne']({'where':{'_id':_0x19179b[_0x4df368(0x3c1)]}},this['instance'][_0x4df368(0x5c8)]);if(!_0x58b2d4){let _0x245b92=(await this['whatsappNumber']({'numbers':[_0x19179b[_0x4df368(0x3c1)]]}))[0x0];if(!_0x245b92[_0x4df368(0x1a4)]&&!(0x0,y[_0x4df368(0x6f8)])(_0x245b92[_0x4df368(0x244)])&&!_0x245b92[_0x4df368(0x244)]['includes']('@broadcast'))throw new m(_0x245b92);_0x19179b[_0x4df368(0x3c1)]=_0x245b92['jid'];}if(_0x19179b['labels']!==void 0x0){let _0x4fd20a=await this[_0x4df368(0x4cd)]['label'][_0x4df368(0x2ec)]({'where':{}},this[_0x4df368(0x3ce)][_0x4df368(0x5c8)]),_0x2f0dfa=new Set(_0x58b2d4[_0x4df368(0x425)]||[]),_0x46dcf5=new Set(_0x19179b[_0x4df368(0x425)]),_0x43b3da=new Set(_0x4fd20a[_0x4df368(0x2a0)](_0x1b82e7=>_0x1b82e7[_0x4df368(0x3c1)])),_0x5387f9=[..._0x46dcf5][_0x4df368(0x12d)](_0x568adb=>!_0x2f0dfa['has'](_0x568adb)&&_0x43b3da['has'](_0x568adb)),_0x10a1f8=[..._0x2f0dfa][_0x4df368(0x12d)](_0x55fde8=>!_0x46dcf5['has'](_0x55fde8));for(let _0xe17580 of _0x5387f9)await this[_0x4df368(0x504)](_0xe17580,_0x19179b[_0x4df368(0x3c1)]),_0x2f0dfa[_0x4df368(0x351)](_0xe17580);for(let _0x4cd8a0 of _0x10a1f8)await this[_0x4df368(0x49a)](_0x4cd8a0,_0x19179b[_0x4df368(0x3c1)]),_0x2f0dfa[_0x4df368(0x405)](_0x4cd8a0);_0xe69771[_0x4df368(0x425)]=[..._0x2f0dfa];}let _0x2ab660=await this[_0x4df368(0x4cd)][_0x4df368(0x65c)][_0x4df368(0x119)]({'where':{'_id':_0x19179b['_id']}},_0xe69771,this['instance'][_0x4df368(0x5c8)]);return _0x2ab660&&q(this['instanceName'],_0x4df368(0x143),{'chat':_0x2ab660}),_0x2ab660?(this[_0x4df368(0x30c)]['verbose'](this[_0x4df368(0x589)]+'\x20('+this[_0x4df368(0x3ce)][_0x4df368(0x5c8)]+_0x4df368(0x36f)+JSON[_0x4df368(0xf1)](_0x2ab660,null,0x2)),_0x2ab660):{'message':_0x4df368(0x209)};}catch(_0x3ea17f){throw this[_0x4df368(0x30c)][_0x4df368(0x362)](this[_0x4df368(0x589)]+'\x20('+this[_0x4df368(0x3ce)][_0x4df368(0x5c8)]+_0x4df368(0x4b1)+(_0x3ea17f instanceof Error?_0x3ea17f[_0x4df368(0x15e)]:JSON[_0x4df368(0xf1)](_0x3ea17f,null,0x2))),new m(_0x4df368(0x5b1)+_0x3ea17f[_0x4df368(0x15e)]);}}async[a0_0x3c797d(0x504)](_0x324091,_0x44059d){const _0x171b5d=a0_0x3c797d;try{await this['client']['addChatLabel'](_0x44059d,_0x324091),console['log']('Label\x20'+_0x324091+'\x20adicionado\x20ao\x20chat\x20'+_0x44059d+_0x171b5d(0x4b3));}catch(_0x2c15b2){console[_0x171b5d(0x362)](_0x171b5d(0x59c)+_0x324091+_0x171b5d(0x612)+_0x44059d+':',_0x2c15b2);}}async[a0_0x3c797d(0x49a)](_0x28a88b,_0x30d2c7){const _0x5e71f6=a0_0x3c797d;try{await this[_0x5e71f6(0x5a6)][_0x5e71f6(0x168)](_0x30d2c7,_0x28a88b),console['log'](_0x5e71f6(0x56e)+_0x28a88b+_0x5e71f6(0x11d)+_0x30d2c7+'\x20com\x20sucesso.');}catch(_0x5e811a){console['error']('Erro\x20ao\x20remover\x20label\x20'+_0x28a88b+_0x5e71f6(0xd1)+_0x30d2c7+':',_0x5e811a);}}async[a0_0x3c797d(0x1d3)](_0x3eaac2){const _0x191c7c=a0_0x3c797d;try{let _0x34c36c=await this[_0x191c7c(0x4cd)]['automateSystem']['findOrCreate'](this[_0x191c7c(0x3ce)][_0x191c7c(0x5c8)]),_0x4846c2=_0x3eaac2[_0x191c7c(0x3c1)]?_0x34c36c['agents'][_0x191c7c(0x1d6)](_0x10cc72=>_0x10cc72[_0x191c7c(0x3c1)]===_0x3eaac2['_id']):-0x1;if(_0x3eaac2[_0x191c7c(0x405)]&&_0x4846c2>-0x1)_0x34c36c[_0x191c7c(0x5ca)]['splice'](_0x4846c2,0x1);else{if(_0x4846c2>-0x1){let _0x14e5c1=_0x34c36c[_0x191c7c(0x5ca)][_0x4846c2];_0x3eaac2['fone']&&(_0x14e5c1[_0x191c7c(0x2f6)]=_0x3eaac2[_0x191c7c(0x2f6)]),_0x3eaac2[_0x191c7c(0x42e)]&&(_0x14e5c1[_0x191c7c(0x42e)]=_0x3eaac2[_0x191c7c(0x42e)]),_0x3eaac2[_0x191c7c(0x643)]&&(_0x14e5c1[_0x191c7c(0x643)]=_0x3eaac2['email']),_0x3eaac2[_0x191c7c(0x123)]&&(_0x14e5c1[_0x191c7c(0x123)]=_0x3eaac2[_0x191c7c(0x123)]);}else _0x34c36c['agents'][_0x191c7c(0xab)]({'_id':_0x3eaac2[_0x191c7c(0x3c1)]||new ne[(_0x191c7c(0x580))]['Types'][(_0x191c7c(0x5b9))]()[_0x191c7c(0x509)](),'fone':_0x3eaac2['fone'],'name':_0x3eaac2[_0x191c7c(0x42e)],'email':_0x3eaac2['email'],'role':_0x3eaac2[_0x191c7c(0x123)]});}let _0x32422d={'agents':_0x34c36c[_0x191c7c(0x5ca)]},_0x432a86=await this['repository'][_0x191c7c(0x5a7)]['update'](_0x32422d,this['instance'][_0x191c7c(0x5c8)]);return this[_0x191c7c(0x6e6)]=_0x432a86,this[_0x191c7c(0x30c)][_0x191c7c(0x5ba)](this['instanceName']+'\x20('+this[_0x191c7c(0x3ce)][_0x191c7c(0x5c8)]+_0x191c7c(0x610)),this[_0x191c7c(0x30c)][_0x191c7c(0x5ba)](this[_0x191c7c(0x589)]+'\x20('+this['instance'][_0x191c7c(0x5c8)]+_0x191c7c(0x36f)+this[_0x191c7c(0x6e6)]),_0x432a86;}catch(_0x3f0741){throw this[_0x191c7c(0x30c)][_0x191c7c(0x362)](this['instanceName']+'\x20('+this['instance'][_0x191c7c(0x5c8)]+_0x191c7c(0x302)+(_0x3f0741 instanceof Error?_0x3f0741[_0x191c7c(0x15e)]:JSON[_0x191c7c(0xf1)](_0x3f0741,null,0x2))),new m(_0x191c7c(0x35d)+_0x3f0741[_0x191c7c(0x15e)]);}}async[a0_0x3c797d(0x5b5)](_0x304dcb){const _0x14c13a=a0_0x3c797d;try{let _0x477888=await this[_0x14c13a(0x4cd)][_0x14c13a(0x5a7)][_0x14c13a(0x30b)](this['instance'][_0x14c13a(0x5c8)]),_0x197500=_0x304dcb[_0x14c13a(0x3c1)]?_0x477888[_0x14c13a(0x251)][_0x14c13a(0x1d6)](_0x5eeb9a=>_0x5eeb9a[_0x14c13a(0x3c1)]===_0x304dcb['_id']):-0x1,_0x22d055=!0x1,_0x532a29=_0x477888[_0x14c13a(0x251)]['some'](_0xf30d88=>_0xf30d88[_0x14c13a(0x1ca)]===_0x304dcb[_0x14c13a(0x1ca)]);if(_0x304dcb[_0x14c13a(0x405)]&&_0x197500>-0x1)_0x477888[_0x14c13a(0x251)][_0x14c13a(0x390)](_0x197500,0x1),_0x22d055=!0x0;else{if(_0x197500>-0x1){if(_0x477888[_0x14c13a(0x251)][_0x14c13a(0x256)](_0x3db3a7=>_0x3db3a7['name']===_0x304dcb[_0x14c13a(0x42e)]&&_0x3db3a7[_0x14c13a(0x3c1)]!==_0x304dcb[_0x14c13a(0x3c1)]))throw new Error(_0x14c13a(0x31c));let _0x4a9346=_0x477888['customFields'][_0x197500];_0x304dcb[_0x14c13a(0x1ca)]&&(_0x532a29||!Number[_0x14c13a(0x2b9)](_0x304dcb['order']))&&(_0x4a9346[_0x14c13a(0x1ca)]=_0x304dcb[_0x14c13a(0x1ca)],_0x22d055=!0x0),_0x304dcb[_0x14c13a(0x42e)]&&(_0x4a9346[_0x14c13a(0x42e)]=_0x304dcb['name']);}else{if(_0x477888['customFields'][_0x14c13a(0x256)](_0x5ec7c3=>_0x5ec7c3[_0x14c13a(0x42e)]===_0x304dcb[_0x14c13a(0x42e)]&&_0x5ec7c3[_0x14c13a(0x3c1)]!==_0x304dcb['_id']))throw new Error(_0x14c13a(0x31c));_0x477888[_0x14c13a(0x251)][_0x14c13a(0xab)]({'_id':_0x304dcb[_0x14c13a(0x3c1)]||new ne['default'][(_0x14c13a(0x672))]['ObjectId']()[_0x14c13a(0x509)](),'order':_0x304dcb[_0x14c13a(0x1ca)],'name':_0x304dcb[_0x14c13a(0x42e)]}),_0x22d055=!0x0;}}if(_0x22d055){_0x477888['customFields'][_0x14c13a(0x537)]((_0x218c13,_0x2faf56)=>_0x218c13['order']>_0x2faf56['order']?0x1:_0x2faf56[_0x14c13a(0x1ca)]>_0x218c13[_0x14c13a(0x1ca)]?-0x1:0x0);for(let _0x4af99d=0x0;_0x4af99d<_0x477888['customFields'][_0x14c13a(0x234)];_0x4af99d++)_0x477888[_0x14c13a(0x251)][_0x4af99d]['order']=_0x4af99d+0x1;}let _0x314682=await this[_0x14c13a(0x4cd)][_0x14c13a(0x5a7)][_0x14c13a(0x5ee)](_0x477888,this['instance'][_0x14c13a(0x5c8)]);return this[_0x14c13a(0x6e6)]=_0x314682,this[_0x14c13a(0x30c)][_0x14c13a(0x5ba)](this[_0x14c13a(0x589)]+'\x20('+this[_0x14c13a(0x3ce)]['wuid']+_0x14c13a(0x53b)),this[_0x14c13a(0x30c)][_0x14c13a(0x5ba)](this[_0x14c13a(0x589)]+'\x20('+this['instance'][_0x14c13a(0x5c8)]+_0x14c13a(0x36f)+this[_0x14c13a(0x6e6)]),_0x314682;}catch(_0x16f1b1){throw this[_0x14c13a(0x30c)][_0x14c13a(0x362)](this[_0x14c13a(0x589)]+'\x20('+this[_0x14c13a(0x3ce)]['wuid']+_0x14c13a(0x366)+(_0x16f1b1 instanceof Error?_0x16f1b1['message']:JSON[_0x14c13a(0xf1)](_0x16f1b1,null,0x2))),new m(_0x14c13a(0x20a)+_0x16f1b1[_0x14c13a(0x15e)]);}}async['updateFlowConfig'](_0x5b22de){const _0x30ed1f=a0_0x3c797d;try{let _0x3c127c=await this[_0x30ed1f(0x4cd)][_0x30ed1f(0x5a7)][_0x30ed1f(0x30b)](this[_0x30ed1f(0x3ce)][_0x30ed1f(0x5c8)]);if(!_0x3c127c)throw new Error(_0x30ed1f(0x377));let _0x110f27={'_id':_0x3c127c['_id'],'flowConfig':{'enabled':_0x5b22de[_0x30ed1f(0x57a)]??_0x3c127c['flowConfig'][_0x30ed1f(0x57a)],'ignoreGroups':_0x5b22de[_0x30ed1f(0x4b8)]??_0x3c127c[_0x30ed1f(0x5a9)][_0x30ed1f(0x4b8)],'prefixCommand':_0x5b22de[_0x30ed1f(0x67c)]??_0x3c127c[_0x30ed1f(0x5a9)][_0x30ed1f(0x67c)],'stopConversation':_0x5b22de['stopConversation']??_0x3c127c[_0x30ed1f(0x5a9)][_0x30ed1f(0x266)],'stopMinutes':_0x5b22de[_0x30ed1f(0xba)]??_0x3c127c['flowConfig'][_0x30ed1f(0xba)],'stopWhenYouSendMsg':_0x5b22de[_0x30ed1f(0x6b2)]??_0x3c127c[_0x30ed1f(0x5a9)][_0x30ed1f(0x6b2)]}},_0x5e7548=await this[_0x30ed1f(0x4cd)][_0x30ed1f(0x5a7)][_0x30ed1f(0x5ee)](_0x110f27,this[_0x30ed1f(0x3ce)][_0x30ed1f(0x5c8)]);return this['AutomateSystem']=_0x5e7548,this[_0x30ed1f(0x30c)][_0x30ed1f(0x5ba)](this[_0x30ed1f(0x589)]+'\x20('+this[_0x30ed1f(0x3ce)]['wuid']+_0x30ed1f(0x610)),this[_0x30ed1f(0x30c)]['verbose'](this[_0x30ed1f(0x589)]+'\x20('+this['instance']['wuid']+_0x30ed1f(0x36f)+this[_0x30ed1f(0x6e6)]),setTimeout(()=>this[_0x30ed1f(0x2a7)](),0x7d0),_0x5e7548;}catch(_0x15051b){throw this['logger'][_0x30ed1f(0x362)](this[_0x30ed1f(0x589)]+'\x20('+this[_0x30ed1f(0x3ce)][_0x30ed1f(0x5c8)]+_0x30ed1f(0x3f9)+(_0x15051b instanceof Error?_0x15051b[_0x30ed1f(0x15e)]:JSON[_0x30ed1f(0xf1)](_0x15051b,null,0x2))),new m(_0x30ed1f(0x311)+_0x15051b[_0x30ed1f(0x15e)]);}}async['getAutomateSystem'](){const _0x3abac1=a0_0x3c797d;try{let _0xc86503=await this[_0x3abac1(0x4cd)]['automateSystem']['findOrCreate'](this[_0x3abac1(0x3ce)][_0x3abac1(0x5c8)]);return this[_0x3abac1(0x6e6)]=_0xc86503,this[_0x3abac1(0x30c)]['verbose'](this[_0x3abac1(0x589)]+'\x20('+this[_0x3abac1(0x3ce)][_0x3abac1(0x5c8)]+_0x3abac1(0x2f0)),this[_0x3abac1(0x30c)][_0x3abac1(0x5ba)](this['AutomateSystem']),_0xc86503;}catch(_0x2e245c){throw this['logger'][_0x3abac1(0x362)](this[_0x3abac1(0x589)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+(_0x2e245c instanceof Error?_0x2e245c[_0x3abac1(0x15e)]:JSON['stringify'](_0x2e245c,null,0x2))),new m(_0x3abac1(0x5f5)+_0x2e245c[_0x3abac1(0x15e)]);}}async[a0_0x3c797d(0x5f2)](){const _0xc9a2d2=a0_0x3c797d;this[_0xc9a2d2(0x4d0)]&&clearTimeout(this[_0xc9a2d2(0x4d0)]),this[_0xc9a2d2(0x4d0)]=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x3c797d(0x541)](){const _0x1416f0=a0_0x3c797d;Date[_0x1416f0(0x38d)]()-this[_0x1416f0(0x700)]>=0x1d4c0&&(this['logger'][_0x1416f0(0x5ba)](this[_0x1416f0(0x589)]+'\x20('+this['instance'][_0x1416f0(0x5c8)]+_0x1416f0(0x6c7)),this[_0x1416f0(0x584)]=null,this[_0x1416f0(0x700)]=0x0,this[_0x1416f0(0x3a2)]=0x0,await this[_0x1416f0(0x2a7)]());}async['scheduleNextCheck'](){const _0x5b1f91=a0_0x3c797d;let _0x4e2569=()=>{const _0x1aeae6=a0_0x14cd;this['logger']['verbose'](this[_0x1aeae6(0x589)]+'\x20('+this[_0x1aeae6(0x3ce)][_0x1aeae6(0x5c8)]+'):\x20this.processingScheduleMessageId:\x20'+this['processingScheduleMessageId']+_0x1aeae6(0x2b5));},_0x5ac271=async()=>{const _0x1f9fd8=a0_0x14cd;this[_0x1f9fd8(0x30c)][_0x1f9fd8(0x5ba)](this[_0x1f9fd8(0x589)]+'\x20('+this[_0x1f9fd8(0x3ce)][_0x1f9fd8(0x5c8)]+_0x1f9fd8(0x202));let _0x411740=Date[_0x1f9fd8(0x38d)]()-0xc*0x3c*0x3c*0x3e8,_0x207565={'where':{'status':{'$in':[_0x1f9fd8(0x579),'sending']},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x411740}},{'when':0x0}]}};return await this[_0x1f9fd8(0x4cd)][_0x1f9fd8(0x693)][_0x1f9fd8(0x2ec)](_0x207565,this['instance'][_0x1f9fd8(0x5c8)]);},_0xbd8a6b=async _0x375ac5=>{const _0x486135=a0_0x14cd;for(let _0x312f2d of _0x375ac5){let _0x2b63e5={'_id':_0x312f2d[_0x486135(0x3c1)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x486135(0x38d)]()-0x1770}}]},_0xc4ee0e={'startSend':Date['now']()};if(!await this['repository'][_0x486135(0x693)][_0x486135(0x119)](_0x2b63e5,_0xc4ee0e,this[_0x486135(0x3ce)][_0x486135(0x5c8)]))return;if(!this[_0x486135(0x224)]){this[_0x486135(0x30c)][_0x486135(0x5ba)](this[_0x486135(0x589)]+'\x20('+this['instance'][_0x486135(0x5c8)]+_0x486135(0x2a1));break;}if(_0x312f2d[_0x486135(0x42a)]===_0x486135(0x171)&&!this[_0x486135(0x6e6)]?.[_0x486135(0x5a9)]['enabled']){this[_0x486135(0x30c)][_0x486135(0x362)](this[_0x486135(0x589)]+'\x20('+this[_0x486135(0x3ce)][_0x486135(0x5c8)]+_0x486135(0x461));continue;}(!_0x312f2d[_0x486135(0x4e3)]||_0x312f2d['remoteJidsRemaining']['length']===0x0)&&(_0x312f2d=await this[_0x486135(0x4cd)][_0x486135(0x693)][_0x486135(0x67d)](_0x312f2d['_id'],{'status':'sending','remoteJidsRemaining':[..._0x312f2d[_0x486135(0x161)]]},this[_0x486135(0x3ce)]['wuid']));for(let _0x26cd52 of _0x312f2d[_0x486135(0x4e3)]){if(await this[_0x486135(0x5f2)](),this[_0x486135(0x700)]=Date['now'](),_0x312f2d[_0x486135(0x662)]['some'](_0x2aced5=>_0x2aced5['remoteJid']===_0x26cd52)){this[_0x486135(0x30c)][_0x486135(0x5ba)](this[_0x486135(0x589)]+'\x20('+this[_0x486135(0x3ce)][_0x486135(0x5c8)]+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x26cd52+_0x486135(0x650));continue;}if(!this[_0x486135(0x224)]){this[_0x486135(0x30c)][_0x486135(0x5ba)](this[_0x486135(0x589)]+'\x20('+this[_0x486135(0x3ce)]['wuid']+_0x486135(0x3de));break;}if(!this[_0x486135(0x584)]){this[_0x486135(0x30c)]['verbose'](this[_0x486135(0x589)]+'\x20('+this[_0x486135(0x3ce)]['wuid']+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x312f2d['_id']+_0x486135(0xd2));break;}if(_0x312f2d[_0x486135(0x42a)]===_0x486135(0x171)&&!this[_0x486135(0x6e6)]?.[_0x486135(0x5a9)][_0x486135(0x57a)]){this[_0x486135(0x30c)][_0x486135(0x362)](this[_0x486135(0x589)]+'\x20('+this['instance'][_0x486135(0x5c8)]+_0x486135(0x461));break;}let _0x5c0048={'remoteJid':_0x26cd52,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x486135(0x38d)]()},_0x5ae943=null;try{let _0x42b093=await this[_0x486135(0x29d)](_0x26cd52,_0x312f2d);_0x5c0048[_0x486135(0x362)]=_0x42b093[_0x486135(0x362)],_0x5c0048['id']=_0x42b093[_0x486135(0x362)]?null:_0x42b093['id'],_0x5c0048[_0x486135(0x2fe)]=_0x42b093[_0x486135(0x362)]?_0x42b093[_0x486135(0x673)]?_0x42b093[_0x486135(0x673)][_0x486135(0x509)]():'':null;let _0x56e5fe={'$push':{'messagesSend':_0x5c0048},'$pull':{'remoteJidsRemaining':_0x26cd52}},_0x3339a4=_0x312f2d['_id'];if(_0x5ae943=await this[_0x486135(0x4cd)][_0x486135(0x693)][_0x486135(0x67d)](_0x3339a4,_0x56e5fe,this['instance'][_0x486135(0x5c8)]),_0x42b093['error'])continue;let _0x56d14a=this['getDelay'](_0x312f2d[_0x486135(0x22c)],_0x312f2d['delaySecMax']);await this['sleep'](_0x56d14a);}catch(_0x8a4e9e){this[_0x486135(0x30c)]['error'](this['instanceName']+'\x20('+this[_0x486135(0x3ce)]['wuid']+_0x486135(0x292)+_0x26cd52+':\x20'+(_0x8a4e9e instanceof Error?_0x8a4e9e[_0x486135(0x15e)]:JSON[_0x486135(0xf1)](_0x8a4e9e,null,0x2))),_0x5c0048[_0x486135(0x362)]=!0x0,_0x5c0048[_0x486135(0x2fe)]=_0x8a4e9e['message'];let _0x1aba40={'$push':{'messagesSend':_0x5c0048},'$pull':{'remoteJidsRemaining':_0x26cd52}},_0x416704=_0x312f2d[_0x486135(0x3c1)];_0x5ae943=await this[_0x486135(0x4cd)][_0x486135(0x693)][_0x486135(0x67d)](_0x416704,_0x1aba40,this[_0x486135(0x3ce)][_0x486135(0x5c8)]);}finally{if(_0x5ae943&&_0x5ae943[_0x486135(0x3fc)]===_0x486135(0x5f1)){this[_0x486135(0x30c)][_0x486135(0x5ba)](this[_0x486135(0x589)]+'\x20('+this[_0x486135(0x3ce)][_0x486135(0x5c8)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x312f2d[_0x486135(0x3c1)]+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}}}let _0x3dd34f=await this[_0x486135(0x4cd)]['scheduleMessage'][_0x486135(0xf6)](_0x312f2d['_id'],this[_0x486135(0x3ce)]['wuid']);if(_0x3dd34f[_0x486135(0x4e3)][_0x486135(0x234)]===0x0&&_0x3dd34f[_0x486135(0x3fc)]!==_0x486135(0x5f1)){let _0x3fe582={'$set':{'status':_0x486135(0x339)}},_0x3f1461=_0x3dd34f[_0x486135(0x3c1)];await this['repository']['scheduleMessage'][_0x486135(0x67d)](_0x3f1461,_0x3fe582,this[_0x486135(0x3ce)][_0x486135(0x5c8)]);}await new Promise(_0x4d384b=>setTimeout(_0x4d384b,0x1388));}},_0x56abf6=async()=>{const _0x1379ef=a0_0x14cd;let _0xedfd0c={'where':{'status':'scheduled','when':{'$gt':Date['now']()}}},_0x472db7=await this['repository']['scheduleMessage'][_0x1379ef(0x2f8)](_0xedfd0c,this[_0x1379ef(0x3ce)][_0x1379ef(0x5c8)]);_0x472db7&&_0x472db7[_0x1379ef(0x114)]-Date['now']()<=0x5265c00?this['delayMessage']=_0x472db7['when']-Date[_0x1379ef(0x38d)]():this['delayMessage']=(0x3c+Math[_0x1379ef(0x3ee)](Math[_0x1379ef(0x3c3)]()*0x3c))*0x3c*0x3e8,this[_0x1379ef(0x3a2)]=Math[_0x1379ef(0x590)](this[_0x1379ef(0x3a2)],0x7d0);let _0x57178a=Math[_0x1379ef(0x6ac)](this['delayMessage']/0xea60);if(_0x472db7){let _0xd995bc=new Date(_0x472db7[_0x1379ef(0x114)])[_0x1379ef(0x576)]();this[_0x1379ef(0x30c)][_0x1379ef(0x5ba)](this[_0x1379ef(0x589)]+'\x20('+this[_0x1379ef(0x3ce)][_0x1379ef(0x5c8)]+_0x1379ef(0x4fe)+_0xd995bc+_0x1379ef(0x304)+_0x57178a+'\x20minutos');}else this['logger'][_0x1379ef(0x5ba)](this[_0x1379ef(0x589)]+'\x20('+this['instance'][_0x1379ef(0x5c8)]+_0x1379ef(0x104)+_0x57178a+_0x1379ef(0x586));setTimeout(()=>this['scheduleNextCheck'](),this[_0x1379ef(0x3a2)]);};if(this[_0x5b1f91(0x584)]){await this[_0x5b1f91(0x5f2)](),_0x4e2569();return;}if(!this[_0x5b1f91(0x224)]){this[_0x5b1f91(0x30c)]['verbose'](this[_0x5b1f91(0x589)]+'\x20('+this[_0x5b1f91(0x3ce)][_0x5b1f91(0x5c8)]+'):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado'),this[_0x5b1f91(0x584)]=null,this['lastSend']=0x0,this[_0x5b1f91(0x3a2)]=0x0;return;}try{let _0xdefc22=await _0x5ac271();_0xdefc22[_0x5b1f91(0x234)]===0x0?this[_0x5b1f91(0x30c)][_0x5b1f91(0x5ba)](this[_0x5b1f91(0x589)]+'\x20('+this[_0x5b1f91(0x3ce)][_0x5b1f91(0x5c8)]+'):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.'):(this[_0x5b1f91(0x584)]=_0xdefc22[0x0][_0x5b1f91(0x3c1)],await _0xbd8a6b(_0xdefc22)),await _0x56abf6(),this[_0x5b1f91(0x584)]=null;}catch(_0x4f86fe){this[_0x5b1f91(0x30c)][_0x5b1f91(0x362)](_0x5b1f91(0x11b)+(_0x4f86fe instanceof Error?_0x4f86fe[_0x5b1f91(0x15e)]:JSON[_0x5b1f91(0xf1)](_0x4f86fe,null,0x2)));}}['getDelay'](_0x223a20,_0x36cb2d){const _0x44ec89=a0_0x3c797d;return _0x223a20=Math[_0x44ec89(0x590)](0.5,_0x223a20),_0x36cb2d=Math[_0x44ec89(0x4a9)](Math[_0x44ec89(0x590)](0x3,_0x36cb2d),0x78),Math[_0x44ec89(0x3ee)](Math[_0x44ec89(0x3c3)]()*(_0x36cb2d-_0x223a20+0x1)+_0x223a20)*0x3e8;}[a0_0x3c797d(0x689)](_0x59dbf5){return new Promise(_0x109fa8=>setTimeout(_0x109fa8,_0x59dbf5));}async['getVariablesChat'](_0x12c613){const _0x42682a=a0_0x3c797d;if(!this[_0x42682a(0x6e6)]&&(await this[_0x42682a(0x469)](),!this['AutomateSystem']))return null;_0x12c613=this['createJid'](_0x12c613);let _0x27bbc6=await this[_0x42682a(0x4cd)][_0x42682a(0x65c)][_0x42682a(0x2f8)]({'where':{'_id':_0x12c613}},this[_0x42682a(0x3ce)]['wuid']),_0x9c6419={};if(_0x27bbc6&&_0x27bbc6['leadInfo']){let _0x48b572=_0x27bbc6[_0x42682a(0x180)];typeof _0x48b572[_0x42682a(0x481)]==_0x42682a(0x220)&&(_0x9c6419[_0x42682a(0x481)]=_0x48b572[_0x42682a(0x481)]),typeof _0x48b572[_0x42682a(0x5d3)]==_0x42682a(0x220)&&(_0x9c6419[_0x42682a(0x5d3)]=_0x48b572[_0x42682a(0x5d3)]),typeof _0x48b572[_0x42682a(0x643)]==_0x42682a(0x220)&&(_0x9c6419[_0x42682a(0x643)]=_0x48b572[_0x42682a(0x643)]),typeof _0x48b572['cpf']==_0x42682a(0x220)&&(_0x9c6419[_0x42682a(0x413)]=_0x48b572[_0x42682a(0x413)]),typeof _0x48b572['status']==_0x42682a(0x220)&&(_0x9c6419[_0x42682a(0x3fc)]=_0x48b572[_0x42682a(0x3fc)]),typeof _0x48b572[_0x42682a(0x496)]==_0x42682a(0x220)&&(_0x9c6419['notas']=_0x48b572[_0x42682a(0x496)]),typeof _0x48b572[_0x42682a(0x4a3)]=='string'&&(_0x9c6419[_0x42682a(0x4a3)]=_0x48b572[_0x42682a(0x4a3)]),Array['isArray'](_0x48b572[_0x42682a(0x6eb)])&&(_0x9c6419['tags']=_0x48b572[_0x42682a(0x6eb)]['join'](',\x20'));}return _0x27bbc6&&_0x27bbc6['leadInfo']&&_0x27bbc6[_0x42682a(0x180)][_0x42682a(0x251)]&&_0x27bbc6[_0x42682a(0x180)]['customFields'][_0x42682a(0x3b8)](_0x9472e4=>{const _0x449461=_0x42682a;let _0xcbfb65=this[_0x449461(0x6e6)]?.[_0x449461(0x251)][_0x449461(0x2ec)](_0x57d592=>_0x57d592['_id']===_0x9472e4[_0x449461(0x3c1)]);_0xcbfb65&&(_0x9c6419[_0xcbfb65['name']]=_0x9472e4['value']);}),_0x9c6419;}async[a0_0x3c797d(0x1df)](_0x2b4138,_0x108bfa){const _0x29fa95=a0_0x3c797d;let _0x4f03b9=await this[_0x29fa95(0x4ec)](_0x108bfa);return this[_0x29fa95(0x573)](_0x2b4138,_0x4f03b9);}async[a0_0x3c797d(0xee)](_0x3228ac){const _0x30adc4=a0_0x3c797d;try{if(this[_0x30adc4(0x30c)]['verbose'](this[_0x30adc4(0x589)]+'\x20('+this[_0x30adc4(0x3ce)][_0x30adc4(0x5c8)]+_0x30adc4(0x37c)),_0x3228ac[_0x30adc4(0x405)]&&_0x3228ac['_id']){if(this[_0x30adc4(0x584)]===_0x3228ac[_0x30adc4(0x3c1)][_0x30adc4(0x509)]())throw new Error(_0x30adc4(0x384));let _0x231e87=await this[_0x30adc4(0x4cd)][_0x30adc4(0x693)][_0x30adc4(0x347)](_0x3228ac[_0x30adc4(0x3c1)],this[_0x30adc4(0x3ce)][_0x30adc4(0x5c8)]);return setTimeout(()=>this[_0x30adc4(0x2a7)](),0x7d0),_0x231e87;}let _0x2ac106;if(_0x3228ac[_0x30adc4(0x3c1)]&&(_0x2ac106=await this['repository']['scheduleMessage']['findById'](_0x3228ac[_0x30adc4(0x3c1)],this['instance'][_0x30adc4(0x5c8)])),_0x2ac106){let _0x4c57a9;if(this[_0x30adc4(0x584)]===_0x2ac106['_id']['toString']())_0x4c57a9={'$set':{'status':_0x3228ac['status']}};else{let {_id:_0x2aef3d,..._0x58f02d}=_0x3228ac;_0x4c57a9={'$set':_0x58f02d};}let _0xfa53e9=await this['repository'][_0x30adc4(0x693)][_0x30adc4(0x67d)](_0x3228ac[_0x30adc4(0x3c1)],_0x4c57a9,this['instance'][_0x30adc4(0x5c8)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0xfa53e9;}else{_0x3228ac[_0x30adc4(0x561)]=this[_0x30adc4(0x3ce)][_0x30adc4(0x5c8)];let _0x1ee098=await this[_0x30adc4(0x4cd)][_0x30adc4(0x693)][_0x30adc4(0x194)](_0x3228ac,this['instance']['wuid']);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x1ee098;}}catch(_0x425f44){throw this['logger']['error'](this[_0x30adc4(0x589)]+'\x20('+this[_0x30adc4(0x3ce)][_0x30adc4(0x5c8)]+_0x30adc4(0x57e)+(_0x425f44 instanceof Error?_0x425f44[_0x30adc4(0x15e)]:JSON[_0x30adc4(0xf1)](_0x425f44,null,0x2))),new m(_0x30adc4(0x540)+_0x425f44[_0x30adc4(0x15e)]);}}async[a0_0x3c797d(0x205)](){const _0x407814=a0_0x3c797d;try{return await this[_0x407814(0x4cd)][_0x407814(0x693)]['find']({'where':{}},this['instance'][_0x407814(0x5c8)]);}catch(_0x5136a4){throw this[_0x407814(0x30c)][_0x407814(0x362)](this[_0x407814(0x589)]+'\x20('+this[_0x407814(0x3ce)][_0x407814(0x5c8)]+'):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:'+(_0x5136a4 instanceof Error?_0x5136a4['message']:JSON[_0x407814(0xf1)](_0x5136a4,null,0x2))),new m(_0x407814(0x540)+_0x5136a4[_0x407814(0x15e)]);}}async['deleteDoneMessages'](){const _0x4839c3=a0_0x3c797d;try{let _0xec45ac={'status':_0x4839c3(0x339)},_0x38ba85=await this[_0x4839c3(0x4cd)][_0x4839c3(0x693)]['deleteMany'](_0xec45ac,this[_0x4839c3(0x3ce)]['wuid']);if(!_0x38ba85['error'])this[_0x4839c3(0x30c)][_0x4839c3(0x5ba)](this[_0x4839c3(0x589)]+'\x20('+this[_0x4839c3(0x3ce)][_0x4839c3(0x5c8)]+_0x4839c3(0x2cd));else throw new Error(_0x38ba85[_0x4839c3(0x362)]['message']||_0x4839c3(0x290));return this[_0x4839c3(0x205)]();}catch(_0x3e0463){throw this[_0x4839c3(0x30c)][_0x4839c3(0x362)](this[_0x4839c3(0x589)]+'\x20('+this[_0x4839c3(0x3ce)][_0x4839c3(0x5c8)]+_0x4839c3(0x2af)+(_0x3e0463 instanceof Error?_0x3e0463['message']:JSON['stringify'](_0x3e0463,null,0x2))),new m('Erro:'+_0x3e0463[_0x4839c3(0x15e)]);}}async[a0_0x3c797d(0x29d)](_0x288a87,_0x38162d){const _0x5d48ac=a0_0x3c797d;try{if(_0x38162d[_0x5d48ac(0x42a)]===_0x5d48ac(0x171)&&!this[_0x5d48ac(0x6e6)]?.[_0x5d48ac(0x5a9)][_0x5d48ac(0x57a)])return this[_0x5d48ac(0x30c)][_0x5d48ac(0x362)](this[_0x5d48ac(0x589)]+'\x20('+this[_0x5d48ac(0x3ce)][_0x5d48ac(0x5c8)]+'):\x20Fluxos\x20não\x20estão\x20ativados'),{'error':!0x0,'detail':'Fluxos\x20não\x20estão\x20ativados'};switch(_0x38162d[_0x5d48ac(0x42a)]){case'text':return await this['scheduleSendText'](_0x38162d,_0x288a87);case _0x5d48ac(0x23b):return await this[_0x5d48ac(0x484)](_0x38162d,_0x288a87);case'audio':return await this[_0x5d48ac(0x26a)](_0x38162d,_0x288a87);case _0x5d48ac(0x171):let _0xc61de7=new Pe();return _0xc61de7[_0x5d48ac(0x42e)]=_0x38162d[_0x5d48ac(0x2ef)],_0xc61de7[_0x5d48ac(0xb8)]=_0x288a87,await this[_0x5d48ac(0x3a6)](_0xc61de7);break;default:return this[_0x5d48ac(0x30c)]['error'](this['instanceName']+'\x20('+this[_0x5d48ac(0x3ce)][_0x5d48ac(0x5c8)]+_0x5d48ac(0x200)+_0x38162d[_0x5d48ac(0x42a)]),{'error':!0x0,'detail':_0x5d48ac(0x4df)};}}catch(_0x29e7d1){return this[_0x5d48ac(0x30c)][_0x5d48ac(0x362)](this[_0x5d48ac(0x589)]+'\x20('+this[_0x5d48ac(0x3ce)]['wuid']+_0x5d48ac(0x3b4)+(_0x29e7d1 instanceof Error?_0x29e7d1[_0x5d48ac(0x15e)]:JSON['stringify'](_0x29e7d1,null,0x2))),{'error':!0x0,'detail':_0x29e7d1['message']};}}['getRandomText'](_0xd2a19e){const _0x2af72a=a0_0x3c797d;let _0x29e3bd=_0xd2a19e[_0x2af72a(0x6db)]('|'),_0x6f84a3=Math['floor'](Math[_0x2af72a(0x3c3)]()*_0x29e3bd[_0x2af72a(0x234)]);return _0x29e3bd[_0x6f84a3][_0x2af72a(0x6df)]();}async[a0_0x3c797d(0x103)](_0x563f2e,_0x451441){const _0x23a9fc=a0_0x3c797d;if(this[_0x23a9fc(0x30c)]['verbose'](this['instanceName']+'\x20('+this[_0x23a9fc(0x3ce)]['wuid']+_0x23a9fc(0xbc)),!_0x563f2e['message'][_0x23a9fc(0x3d2)]||_0x563f2e[_0x23a9fc(0x15e)][_0x23a9fc(0x3d2)][_0x23a9fc(0x234)]===0x0)return{'error':!0x0,'detail':_0x23a9fc(0x4e7)};let _0x391c77=this[_0x23a9fc(0x232)](_0x563f2e['message'][_0x23a9fc(0x3d2)]),_0x42f1e3=await this['replaceVariablesChat'](_0x391c77,_0x451441),_0x41c42c={'number':_0x451441,'options':{'delay':_0x563f2e[_0x23a9fc(0x15e)][_0x23a9fc(0x316)]},'textMessage':{'text':_0x42f1e3}},_0x433f27=null;try{let _0xd632b=await this['textMessage'](_0x41c42c);if(_0xd632b&&_0xd632b[_0x23a9fc(0x3fc)])return{'error':!0x1,'id':_0xd632b[_0x23a9fc(0x2d3)]['id']};_0x433f27=JSON[_0x23a9fc(0xf1)](_0xd632b),this[_0x23a9fc(0x30c)][_0x23a9fc(0x5ba)](this['instanceName']+'\x20('+this[_0x23a9fc(0x3ce)][_0x23a9fc(0x5c8)]+_0x23a9fc(0x36f)+_0x433f27);}catch(_0x24a693){this['logger'][_0x23a9fc(0x362)](this[_0x23a9fc(0x589)]+'\x20('+this[_0x23a9fc(0x3ce)][_0x23a9fc(0x5c8)]+_0x23a9fc(0x1f1)+(_0x24a693 instanceof Error?_0x24a693[_0x23a9fc(0x15e)]:JSON[_0x23a9fc(0xf1)](_0x24a693,null,0x2))),_0x433f27=_0x24a693[_0x23a9fc(0x15e)];}if(_0x433f27)return{'error':!0x0,'detail':(typeof _0x433f27==_0x23a9fc(0xc5)?JSON[_0x23a9fc(0xf1)](_0x433f27,null,0x2):_0x433f27)['replace'](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x3c797d(0x484)](_0x277b01,_0x3703a3){const _0x9c4e64=a0_0x3c797d;this['logger'][_0x9c4e64(0x5ba)](this['instanceName']+'\x20('+this['instance'][_0x9c4e64(0x5c8)]+_0x9c4e64(0x3dc));let _0x555780;if(_0x277b01['message']['text']&&_0x277b01[_0x9c4e64(0x15e)][_0x9c4e64(0x3d2)][_0x9c4e64(0x234)]>0x0){let _0x2572f9=this[_0x9c4e64(0x232)](_0x277b01['message'][_0x9c4e64(0x3d2)]);_0x555780=await this[_0x9c4e64(0x1df)](_0x2572f9,_0x3703a3);}let _0x40a63a={'number':_0x3703a3,'options':{'delay':_0x277b01[_0x9c4e64(0x15e)][_0x9c4e64(0x316)]},'mediaMessage':{'mediatype':_0x277b01['message']['mediatype'],'caption':_0x555780,'media':_0x277b01[_0x9c4e64(0x15e)][_0x9c4e64(0x664)]}},_0x27cf4f=null;try{let _0x235055=await this[_0x9c4e64(0x6cf)](_0x40a63a);if(_0x235055&&_0x235055[_0x9c4e64(0x3fc)])return{'error':!0x1,'id':_0x235055[_0x9c4e64(0x2d3)]['id']};_0x27cf4f=JSON[_0x9c4e64(0xf1)](_0x235055),this[_0x9c4e64(0x30c)][_0x9c4e64(0x5ba)](this[_0x9c4e64(0x589)]+'\x20('+this[_0x9c4e64(0x3ce)][_0x9c4e64(0x5c8)]+_0x9c4e64(0x36f)+_0x27cf4f);}catch(_0x52ec04){this['logger']['error'](this[_0x9c4e64(0x589)]+'\x20('+this[_0x9c4e64(0x3ce)][_0x9c4e64(0x5c8)]+_0x9c4e64(0x43e)+(_0x52ec04 instanceof Error?_0x52ec04[_0x9c4e64(0x15e)]:JSON['stringify'](_0x52ec04,null,0x2))),_0x27cf4f=_0x52ec04[_0x9c4e64(0x15e)];}if(_0x27cf4f)return{'error':!0x0,'detail':(typeof _0x27cf4f==_0x9c4e64(0xc5)?JSON['stringify'](_0x27cf4f,null,0x2):_0x27cf4f)[_0x9c4e64(0x6d3)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x3c797d(0x26a)](_0xd8ae98,_0x550192){const _0x7b7fbf=a0_0x3c797d;this[_0x7b7fbf(0x30c)]['verbose'](this[_0x7b7fbf(0x589)]+'\x20('+this[_0x7b7fbf(0x3ce)][_0x7b7fbf(0x5c8)]+_0x7b7fbf(0x646));let _0x19df28={'number':_0x550192,'options':{'delay':_0xd8ae98['message'][_0x7b7fbf(0x316)]},'audioMessage':{'audio':_0xd8ae98['message'][_0x7b7fbf(0x664)]}},_0x3332a6=null;try{let _0x178a15=await this['audioWhatsapp'](_0x19df28);if(_0x178a15&&_0x178a15['status'])return{'error':!0x1,'id':_0x178a15['key']['id']};_0x3332a6=JSON[_0x7b7fbf(0xf1)](_0x178a15),this[_0x7b7fbf(0x30c)][_0x7b7fbf(0x5ba)](this[_0x7b7fbf(0x589)]+'\x20('+this[_0x7b7fbf(0x3ce)]['wuid']+_0x7b7fbf(0x36f)+_0x3332a6);}catch(_0x314f2e){this[_0x7b7fbf(0x30c)]['error'](this[_0x7b7fbf(0x589)]+'\x20('+this[_0x7b7fbf(0x3ce)][_0x7b7fbf(0x5c8)]+_0x7b7fbf(0x1fd)+(_0x314f2e instanceof Error?_0x314f2e['message']:JSON['stringify'](_0x314f2e,null,0x2))),_0x3332a6=_0x314f2e[_0x7b7fbf(0x15e)];}if(_0x3332a6)return{'error':!0x0,'detail':(typeof _0x3332a6==_0x7b7fbf(0xc5)?JSON[_0x7b7fbf(0xf1)](_0x3332a6,null,0x2):_0x3332a6)[_0x7b7fbf(0x6d3)](/[\[\]{}\n]/g,'\x20')[_0x7b7fbf(0x6d3)](/  +/g,'\x20')};}},xt=class c{constructor(_0x2cfa23,_0x3480c1,_0x42bfc2){const _0x1565ac=a0_0x3c797d;this['eventEmitter']=_0x2cfa23,this[_0x1565ac(0x134)]=_0x3480c1,this['repository']=_0x42bfc2,this['db']={},this[_0x1565ac(0x627)]={},this[_0x1565ac(0x30c)]=new v(c['name']),this[_0x1565ac(0x545)]={},(this[_0x1565ac(0x6c8)](),this[_0x1565ac(0xeb)](),Object[_0x1565ac(0x653)](this['db'],_0x3480c1[_0x1565ac(0x5a8)](_0x1565ac(0xd0))),Object[_0x1565ac(0x653)](this[_0x1565ac(0x627)],_0x3480c1['get'](_0x1565ac(0x578))),this['dbInstance']=this['db'][_0x1565ac(0xe8)]?this[_0x1565ac(0x4cd)]['dbServer']?.['db'](this['db'][_0x1565ac(0x10a)]['DB_PREFIX_NAME']+_0x1565ac(0x242)):void 0x0,this[_0x1565ac(0x686)]=this[_0x1565ac(0x627)][_0x1565ac(0xe8)]?new oe(this['redis']):void 0x0);}async['instanceInfo'](_0x1d7e18){const _0x230b3c=a0_0x3c797d;if(_0x1d7e18&&!this[_0x230b3c(0x545)][_0x1d7e18])throw new F('Instance\x20\x22'+_0x1d7e18+_0x230b3c(0xaa));let _0x2b43d3=[];for await(let [_0x1755d7,_0x73419b]of Object[_0x230b3c(0x166)](this['waInstances']))if(_0x73419b&&_0x73419b[_0x230b3c(0x45c)][_0x230b3c(0x608)]===_0x230b3c(0x53f)){let _0x5892d6=await this['repository']['auth'][_0x230b3c(0x2ec)](_0x1755d7);_0x2b43d3['push']({'instance':{'instanceName':_0x1755d7,'apikey':_0x5892d6[_0x230b3c(0x614)],'owner':_0x73419b[_0x230b3c(0x5c8)],'profileName':await _0x73419b[_0x230b3c(0x57b)]()||_0x230b3c(0x51c),'profilePictureUrl':_0x73419b[_0x230b3c(0x63f)]}});}return _0x2b43d3[_0x230b3c(0x2ec)](_0x53eb66=>_0x53eb66[_0x230b3c(0x3ce)]['instanceName']===_0x1d7e18)??_0x2b43d3;}async[a0_0x3c797d(0x243)](_0x561a0d){const _0xe35581=a0_0x3c797d;if(this['db']['ENABLED']&&(await this['repository'][_0xe35581(0x23a)][_0xe35581(0x30e)](),(await this['dbInstance']['collections']())['length']>0x0&&await this[_0xe35581(0x374)]['dropCollection'](_0x561a0d)),this['redis'][_0xe35581(0xe8)]){this[_0xe35581(0x686)][_0xe35581(0xd5)]=_0x561a0d,await this[_0xe35581(0x686)][_0xe35581(0x54e)]();return;}}async[a0_0x3c797d(0x1f4)](){const _0x43e67b=a0_0x3c797d;await this[_0x43e67b(0x2cb)]();let _0x2f9e32=async _0x5933fb=>{const _0x498370=_0x43e67b;let _0x1bf422=new we(this[_0x498370(0x134)],this[_0x498370(0x432)],this['repository']);_0x1bf422[_0x498370(0x589)]=_0x5933fb,await _0x1bf422[_0x498370(0x28a)](),this[_0x498370(0x545)][_0x5933fb]=_0x1bf422;};try{if(this['redis'][_0x43e67b(0xe8)]){let _0x39f0cd=await this['cache'][_0x43e67b(0x711)]();_0x39f0cd?.[_0x43e67b(0x234)]>0x0&&_0x39f0cd[_0x43e67b(0x3b8)](async _0x23cd4f=>await _0x2f9e32(_0x23cd4f['split'](':')[0x1]));return;}if(this['db']['ENABLED']){await this[_0x43e67b(0x4cd)][_0x43e67b(0x23a)]['connect']();let _0x4b1f2c=await this['dbInstance']['collections']();_0x4b1f2c['length']>0x0&&_0x4b1f2c[_0x43e67b(0x3b8)](async _0x590a36=>await _0x2f9e32(_0x590a36[_0x43e67b(0x46e)][_0x43e67b(0x6d3)](/^[\w-]+\./,'')));return;}}catch(_0x3384b0){this[_0x43e67b(0x30c)]['error'](_0x3384b0);}}async[a0_0x3c797d(0x715)](){const _0x2e8a9c=a0_0x3c797d;let _0x4efb40=await this[_0x2e8a9c(0x4cd)][_0x2e8a9c(0x46d)][_0x2e8a9c(0x55e)](),_0x41bc6c=_0x4efb40[_0x2e8a9c(0x12d)](_0x1c54b0=>!this['waInstances'][_0x1c54b0[_0x2e8a9c(0x3c1)]]&&(_0x1c54b0[_0x2e8a9c(0x255)]||typeof _0x1c54b0[_0x2e8a9c(0x255)]>'u'));_0x41bc6c['length']>0x0&&await Promise[_0x2e8a9c(0x109)](_0x41bc6c[_0x2e8a9c(0x2a0)](async _0x17502c=>{const _0x23c8e8=_0x2e8a9c;let _0x3f53b7={'online':!0x1,'lastDisconnect':Date['now']()};await this[_0x23c8e8(0x4cd)][_0x23c8e8(0x46d)][_0x23c8e8(0x3f0)](_0x3f53b7,_0x17502c[_0x23c8e8(0x3c1)]);}));let _0x4d6243=Date[_0x2e8a9c(0x38d)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x539c67=_0x4efb40[_0x2e8a9c(0x12d)](_0x184773=>!this[_0x2e8a9c(0x545)][_0x184773[_0x2e8a9c(0x3c1)]]&&typeof _0x184773['lastDisconnect']<'u'&&_0x184773[_0x2e8a9c(0x5fe)]<_0x4d6243);_0x539c67[_0x2e8a9c(0x234)]>0x0&&await Promise[_0x2e8a9c(0x109)](_0x539c67['map'](async _0x4dcdbe=>{}));}async['InstancesAlterarTodas'](){const _0x3e6ae9=a0_0x3c797d;try{let _0x4a4348={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x383e3d={'online':!0x1,'lastDisconnect':Date[_0x3e6ae9(0x38d)]()},_0x39165e=await this['repository']['auth'][_0x3e6ae9(0x31d)](_0x4a4348,_0x383e3d);console['log'](_0x3e6ae9(0x179)+_0x39165e[_0x3e6ae9(0x6ff)]),await this[_0x3e6ae9(0x298)]();}catch(_0x369add){console[_0x3e6ae9(0x362)]('Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:',_0x369add);}}async[a0_0x3c797d(0x298)](){const _0x1a729e=a0_0x3c797d;try{let _0x729650={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x241bfe=await this['repository'][_0x1a729e(0x46d)]['deleteMany'](_0x729650);console['log']('Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20'+_0x241bfe['insertCount']);}catch(_0x337dca){console[_0x1a729e(0x362)](_0x1a729e(0x5ed),_0x337dca);}}[a0_0x3c797d(0x6c8)](){const _0x8bf945=a0_0x3c797d;this['eventEmitter']['on'](_0x8bf945(0x6c2),async _0x4c4db8=>{const _0x1129d4=_0x8bf945;try{this['waInstances'][_0x4c4db8]=void 0x0;}catch{}try{this[_0x1129d4(0x243)](_0x4c4db8);}finally{this[_0x1129d4(0x30c)][_0x1129d4(0x330)](_0x1129d4(0xfd)+_0x4c4db8+'\x22\x20-\x20REMOVED');}});}[a0_0x3c797d(0xeb)](){const _0x1cc28f=a0_0x3c797d;this[_0x1cc28f(0x432)]['on']('no.connection',async _0x2a110c=>{const _0x105c73=_0x1cc28f;try{this[_0x105c73(0x545)][_0x2a110c]=void 0x0;}catch{}try{this['cleaningUp'](_0x2a110c);}finally{this['logger']['warn'](_0x105c73(0xfd)+_0x2a110c+_0x105c73(0x182));}});}},Pt=class extends I{[a0_0x3c797d(0x50d)](_0xc09c71){return js(_0xc09c71);}async[a0_0x3c797d(0x5e0)](_0x5b8697){const _0x59c163=a0_0x3c797d;if(_0x5b8697['length']!==0x0)try{return{'insertCount':(await this[_0x59c163(0x50d)](_0x5b8697[0x0][_0x59c163(0x561)])[_0x59c163(0x1e2)]([..._0x5b8697]))[_0x59c163(0x234)]};}catch(_0x312e5b){return _0x312e5b;}}async[a0_0x3c797d(0x2ec)](_0x126ada,_0x5c4efe){const _0x357697=a0_0x3c797d;try{let _0x2a2ed4=this[_0x357697(0x50d)](_0x5c4efe),_0x242b7f=A(_0x126ada[_0x357697(0x268)]);return await _0x2a2ed4[_0x357697(0x2ec)](_0x242b7f)['sort']({'lastmsg':-0x1})[_0x357697(0x5fb)](_0x126ada?.['limit']??0x0)[_0x357697(0x69d)]();}catch{return[];}}async[a0_0x3c797d(0x52a)](_0x38a918,_0xcd4e8f){const _0x305f7e=a0_0x3c797d;try{return await this[_0x305f7e(0x50d)](_0xcd4e8f)[_0x305f7e(0x3a8)]({..._0x38a918[_0x305f7e(0x268)]}),[];}catch(_0x4137df){return{'error':_0x4137df?.[_0x305f7e(0x509)]()};}}async[a0_0x3c797d(0x2f8)](_0x10f68f,_0x5659c5){const _0x34eb74=a0_0x3c797d;try{let _0x34fe94=this[_0x34eb74(0x50d)](_0x5659c5),_0x14d5a8=A(_0x10f68f[_0x34eb74(0x268)]);return await _0x34fe94['findOne'](_0x14d5a8)[_0x34eb74(0x69d)]();}catch{return null;}}async[a0_0x3c797d(0x119)](_0x317c06,_0x36e4bf,_0x55b85d,_0x3ee483,_0x1e0fb8=a0_0x3c797d(0x641)){const _0x26768a=a0_0x3c797d;try{let _0x427143={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x3ee483},_0x65c838=this[_0x26768a(0x50d)](_0x55b85d),_0x5c1e99=A(_0x317c06[_0x26768a(0x268)]),_0x401e85={};return _0x401e85[_0x1e0fb8]=_0x36e4bf,await _0x65c838['findOneAndUpdate'](_0x5c1e99,_0x401e85,_0x427143);}catch(_0x1ce3fb){return console['error'](_0x1ce3fb),null;}}async[a0_0x3c797d(0x3cf)](_0x82e997){const _0x35e695=a0_0x3c797d;try{let _0x7497e1=this[_0x35e695(0x50d)](_0x82e997[0x0][_0x35e695(0x2cf)][_0x35e695(0x268)][_0x35e695(0x561)]),_0x3b4b5d=_0x82e997[_0x35e695(0x2a0)](_0x4d7e2a=>({'updateOne':{'filter':{..._0x4d7e2a[_0x35e695(0x2cf)][_0x35e695(0x268)]},'update':{'$set':_0x4d7e2a[_0x35e695(0x5ee)]}}}));return(await _0x7497e1[_0x35e695(0x713)](_0x3b4b5d))[_0x35e695(0x66d)];}catch(_0x16bfb2){return console[_0x35e695(0x362)](_0x16bfb2),0x0;}}async[a0_0x3c797d(0x1e2)](_0x4aaa44,_0x39c825){const _0x5e5220=a0_0x3c797d;if(!Array[_0x5e5220(0x65a)](_0x4aaa44)||_0x4aaa44[_0x5e5220(0x234)]===0x0)throw new Error(_0x5e5220(0x5ab));try{return(await this[_0x5e5220(0x50d)](_0x39c825)[_0x5e5220(0x1e2)](_0x4aaa44))[_0x5e5220(0x234)];}catch(_0x556218){throw console[_0x5e5220(0x362)]('Erro\x20ao\x20inserir\x20chats:',_0x556218),_0x556218;}}async['incrementIsValidAttempts'](_0x3a512a,_0x1a678b){const _0x114def=a0_0x3c797d;try{await this[_0x114def(0x50d)](_0x1a678b)[_0x114def(0x119)]({'_id':_0x3a512a},{'$inc':{'isValidAttempts':0x1}});}catch(_0x3ffb76){throw console['error'](_0x114def(0x6b4),_0x3ffb76),_0x3ffb76;}}async['deleteChat'](_0x447c10,_0x4f1eba){const _0x5bfe57=a0_0x3c797d;try{await this['getChatModelForOwner'](_0x4f1eba)['deleteOne']({'_id':_0x447c10});}catch(_0x2ea755){throw console[_0x5bfe57(0x362)](_0x5bfe57(0x2f7),_0x2ea755),_0x2ea755;}}},_t=class extends I{[a0_0x3c797d(0x3c6)](_0x1f713e){return ua(_0x1f713e);}async[a0_0x3c797d(0x119)](_0x29e512,_0x2de933,_0xe475fb,_0x256839){const _0x296cfa=a0_0x3c797d;try{let _0x1d3f7f={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x256839},_0x419ed8=this[_0x296cfa(0x3c6)](_0xe475fb),_0x44f6d3=A(_0x29e512['where']);return await _0x419ed8[_0x296cfa(0x378)](_0x44f6d3,{'$set':_0x2de933},_0x1d3f7f);}catch(_0x2de908){return console[_0x296cfa(0x362)](_0x2de908),null;}}async['find'](_0x1b9c1b,_0x412a6c){const _0x31258a=a0_0x3c797d;try{let _0x2ddbf4=this[_0x31258a(0x3c6)](_0x412a6c),_0x9efe9d=A(_0x1b9c1b[_0x31258a(0x268)]);return await _0x2ddbf4['find'](_0x9efe9d);}catch(_0x5effa6){console[_0x31258a(0x362)](_0x5effa6);}}async[a0_0x3c797d(0x405)](_0x1b046e,_0x1e112b){const _0x31dba1=a0_0x3c797d;try{let _0xd4ad1d=this[_0x31dba1(0x3c6)](_0x1e112b),_0x31974b=A(_0x1b046e[_0x31dba1(0x268)]);await _0xd4ad1d['deleteMany'](_0x31974b);}catch(_0x45346a){console['error'](_0x45346a);}}async[a0_0x3c797d(0x52a)](_0x82a6cd){const _0x3a9120=a0_0x3c797d;try{return await this[_0x3a9120(0x3c6)](_0x82a6cd)[_0x3a9120(0x1af)][_0x3a9120(0x5c2)](),{'success':!0x0};}catch(_0x534498){return console['error'](_0x534498),{'success':!0x1,'error':_0x534498};}}},$t=class{constructor(_0x77ee1){const _0x4f9d81=a0_0x3c797d;this[_0x4f9d81(0x12e)]=_0x77ee1;}async['editChat']({instanceName:_0x38a8e2},_0x65ba27){const _0x20f879=a0_0x3c797d;return await this['waMonitor'][_0x20f879(0x545)][_0x38a8e2][_0x20f879(0x4e2)](_0x65ba27);}async[a0_0x3c797d(0x70e)]({instanceName:_0x40c146},_0x171633){const _0x4aa412=a0_0x3c797d;return await this[_0x4aa412(0x12e)]['waInstances'][_0x40c146]['whatsappNumber'](_0x171633);}async['importChats']({instanceName:_0x26cbc9},_0x5a88a7){const _0x535394=a0_0x3c797d;return await this[_0x535394(0x12e)]['waInstances'][_0x26cbc9]['importChats'](_0x5a88a7);}async[a0_0x3c797d(0x5e1)]({instanceName:_0x152b6c},_0x7df11b){const _0x50f881=a0_0x3c797d;return await this[_0x50f881(0x12e)][_0x50f881(0x545)][_0x152b6c][_0x50f881(0x154)](_0x7df11b);}async[a0_0x3c797d(0x172)]({instanceName:_0x551b02},_0x24500e){const _0x42b9e8=a0_0x3c797d;return await this[_0x42b9e8(0x12e)]['waInstances'][_0x551b02][_0x42b9e8(0x172)](_0x24500e);}async[a0_0x3c797d(0x37d)]({instanceName:_0x814c50},_0x1207c4){const _0x992f70=a0_0x3c797d;return await this[_0x992f70(0x12e)][_0x992f70(0x545)][_0x814c50][_0x992f70(0x37d)](_0x1207c4);}async[a0_0x3c797d(0x5a5)]({instanceName:_0x512292},_0x218ba9){const _0x38c956=a0_0x3c797d;return await this['waMonitor'][_0x38c956(0x545)][_0x512292]['profilePicture'](_0x218ba9[_0x38c956(0x406)]);}async[a0_0x3c797d(0x49d)]({instanceName:_0x104836},_0x13396d){const _0x3e8f8f=a0_0x3c797d;return await this[_0x3e8f8f(0x12e)][_0x3e8f8f(0x545)][_0x104836][_0x3e8f8f(0x49d)](_0x13396d[_0x3e8f8f(0x406)]);}async['updatePresence']({instanceName:_0x55aa64},_0x3b540d){const _0x527fd1=a0_0x3c797d;return await this[_0x527fd1(0x12e)][_0x527fd1(0x545)][_0x55aa64][_0x527fd1(0x506)](_0x3b540d);}async[a0_0x3c797d(0x3bb)]({instanceName:_0x249dc7},_0x52f2f2){const _0x334eb7=a0_0x3c797d;return await this[_0x334eb7(0x12e)][_0x334eb7(0x545)][_0x249dc7]['fetchContacts'](_0x52f2f2);}async['getBase64FromMediaMessage']({instanceName:_0x1c4aa4},_0x54db4e){const _0x3ef644=a0_0x3c797d;return await this[_0x3ef644(0x12e)]['waInstances'][_0x1c4aa4][_0x3ef644(0x549)](_0x54db4e);}async[a0_0x3c797d(0x3f3)]({instanceName:_0x36ba31},_0x4a72b6){const _0x1ebd0c=a0_0x3c797d;return await this[_0x1ebd0c(0x12e)][_0x1ebd0c(0x545)][_0x36ba31][_0x1ebd0c(0x3f3)](_0x4a72b6);}async[a0_0x3c797d(0x190)]({instanceName:_0x5c520c}){const _0x6cc1dc=a0_0x3c797d;return await this[_0x6cc1dc(0x12e)][_0x6cc1dc(0x545)][_0x5c520c][_0x6cc1dc(0x190)]();}async[a0_0x3c797d(0x5ec)]({instanceName:_0x5806bb}){const _0x419ec4=a0_0x3c797d;return await this[_0x419ec4(0x12e)][_0x419ec4(0x545)][_0x5806bb][_0x419ec4(0x5ec)]();}async[a0_0x3c797d(0x3e7)]({instanceName:_0x4f895c}){const _0x49e606=a0_0x3c797d;return await this[_0x49e606(0x12e)]['waInstances'][_0x4f895c][_0x49e606(0x3e7)]();}async['updatePrivacySettings']({instanceName:_0xb0fc52},_0x34317c){const _0x23a7fe=a0_0x3c797d;return await this[_0x23a7fe(0x12e)]['waInstances'][_0xb0fc52]['updatePrivacySettings'](_0x34317c);}async['fetchBusinessProfile']({instanceName:_0x29e007},_0x1c485a){const _0x2a3da3=a0_0x3c797d;return await this[_0x2a3da3(0x12e)][_0x2a3da3(0x545)][_0x29e007][_0x2a3da3(0x177)](_0x1c485a[_0x2a3da3(0x406)]);}async['updateProfileName']({instanceName:_0x2ab2b9},_0x4e4582){const _0x30e5aa=a0_0x3c797d;return await this[_0x30e5aa(0x12e)][_0x30e5aa(0x545)][_0x2ab2b9][_0x30e5aa(0x125)](_0x4e4582[_0x30e5aa(0x42e)]);}async['updateProfileStatus']({instanceName:_0x1a1911},_0x162d52){const _0x13881e=a0_0x3c797d;return await this[_0x13881e(0x12e)][_0x13881e(0x545)][_0x1a1911][_0x13881e(0x33a)](_0x162d52[_0x13881e(0x3fc)]);}async['updateProfilePicture']({instanceName:_0x274448},_0x4337b4){const _0x1ce9cc=a0_0x3c797d;return await this[_0x1ce9cc(0x12e)]['waInstances'][_0x274448][_0x1ce9cc(0x6a7)](_0x4337b4[_0x1ce9cc(0x2e3)]);}async['removeProfilePicture']({instanceName:_0x363538},_0x14ed3b){const _0x14224e=a0_0x3c797d;return await this[_0x14224e(0x12e)][_0x14224e(0x545)][_0x363538]['removeProfilePicture']();}},Ns=require(a0_0x3c797d(0x621)),kt=class c{constructor(_0x5642c3,_0x4052a1,_0x444508,_0x6708ef,_0x3bf3c0){const _0x3d1516=a0_0x3c797d;this[_0x3d1516(0x12e)]=_0x5642c3,this[_0x3d1516(0x134)]=_0x4052a1,this[_0x3d1516(0x4cd)]=_0x444508,this[_0x3d1516(0x432)]=_0x6708ef,this[_0x3d1516(0x187)]=_0x3bf3c0,this[_0x3d1516(0x30c)]=new v(c['name']);}async[a0_0x3c797d(0x231)]({instanceName:_0x25510d,apikey:_0x483f89,number:_0x39d428,proxy:_0x197f04=!0x0}){const _0x58d398=a0_0x3c797d;try{let _0x5d4418=new we(this[_0x58d398(0x134)],this[_0x58d398(0x432)],this['repository']);_0x5d4418[_0x58d398(0x589)]=_0x25510d,this['waMonitor']['waInstances'][_0x5d4418['instanceName']]=_0x5d4418;let _0x3c728a={};_0x483f89?(await this[_0x58d398(0x4cd)][_0x58d398(0x46d)][_0x58d398(0x3f0)]({'apikey':_0x483f89},_0x25510d),_0x3c728a[_0x58d398(0x614)]=_0x483f89):_0x3c728a=await this[_0x58d398(0x187)][_0x58d398(0x4c9)]({'instanceName':_0x5d4418[_0x58d398(0x589)]});let _0x22cf36;return await _0x5d4418[_0x58d398(0x28a)](_0x39d428,_0x197f04),await(0x0,Ns[_0x58d398(0x316)])(0x7d0),_0x22cf36=_0x5d4418[_0x58d398(0xef)],{'instance':{'instanceName':_0x5d4418[_0x58d398(0x589)],'status':_0x58d398(0x2ab)},'hash':_0x3c728a,'qrcode':_0x22cf36};}catch(_0x495d6f){this[_0x58d398(0x30c)]['error'](_0x495d6f);}}async[a0_0x3c797d(0x507)]({instanceName:_0x106022,number:_0xae0fcb=null,proxy:_0xa01439=!0x0}){const _0x2d7592=a0_0x3c797d;try{let _0x48279a=this['waMonitor'][_0x2d7592(0x545)][_0x106022];switch(_0x48279a?.[_0x2d7592(0x45c)]?.[_0x2d7592(0x608)]){case _0x2d7592(0x137):return await _0x48279a[_0x2d7592(0x28a)](_0xae0fcb,_0xa01439),await(0x0,Ns[_0x2d7592(0x316)])(0x7d0),_0x48279a[_0x2d7592(0xef)];case _0x2d7592(0x36a):return _0x48279a[_0x2d7592(0xef)];default:return await this[_0x2d7592(0x3dd)]({'instanceName':_0x106022});}}catch(_0x120473){this[_0x2d7592(0x30c)][_0x2d7592(0x247)](_0x120473);}}async['connectionState']({instanceName:_0x4c817d}){const _0x7e3c27=a0_0x3c797d;let _0x500c6a=this[_0x7e3c27(0x12e)]['waInstances'][_0x4c817d][_0x7e3c27(0x45c)],_0xf7f874=null;_0x500c6a[_0x7e3c27(0x608)]===_0x7e3c27(0x53f)&&_0x4c817d&&(_0xf7f874=await this[_0x7e3c27(0x12e)][_0x7e3c27(0x546)](_0x4c817d));let _0x1929d5=null;return _0x500c6a[_0x7e3c27(0x608)]==='connecting'&&_0x4c817d&&(_0x1929d5=this[_0x7e3c27(0x12e)][_0x7e3c27(0x545)][_0x4c817d][_0x7e3c27(0xef)]),{'instance':_0x4c817d,'connectionStatus':_0x500c6a,'instanceInfo':_0xf7f874,'qrcode':_0x1929d5};}async[a0_0x3c797d(0x18b)]({instanceName:_0x2debe3}){const _0x56fb9a=a0_0x3c797d;try{return this[_0x56fb9a(0x12e)][_0x56fb9a(0x545)][_0x2debe3]?.[_0x56fb9a(0x5a6)]?.['ws']?.[_0x56fb9a(0x137)](),{'status':_0x56fb9a(0x4ee),'error':!0x1,'response':{'message':_0x56fb9a(0x503)}};}catch(_0x555d92){this[_0x56fb9a(0x30c)][_0x56fb9a(0x362)](_0x555d92);}}async[a0_0x3c797d(0x127)]({instanceName:_0x4a9f5c}){const _0x1374f5=a0_0x3c797d;return _0x4a9f5c?this[_0x1374f5(0x12e)][_0x1374f5(0x546)](_0x4a9f5c):this['waMonitor'][_0x1374f5(0x546)]();}async[a0_0x3c797d(0x3c2)]({instanceName:_0x35f914}){const _0x55decc=a0_0x3c797d;try{return await this[_0x55decc(0x12e)][_0x55decc(0x545)][_0x35f914]?.[_0x55decc(0x5a6)]?.[_0x55decc(0x3c2)](_0x55decc(0x522)+_0x35f914),{'error':!0x1,'message':_0x55decc(0x4d4)};}catch(_0xaa68a){throw new O(_0xaa68a[_0x55decc(0x509)]());}}async['deleteInstance']({instanceName:_0x22ff92}){const _0x3ca229=a0_0x3c797d;if((await this['connectionState']({'instanceName':_0x22ff92}))[_0x3ca229(0x45c)][_0x3ca229(0x608)]===_0x3ca229(0x53f))throw new m(['Deletion\x20failed',_0x3ca229(0x431)]);try{return delete this[_0x3ca229(0x12e)][_0x3ca229(0x545)][_0x22ff92],{'error':!0x1,'message':_0x3ca229(0x25c)};}catch(_0x466fb3){throw new m(_0x466fb3[_0x3ca229(0x509)]());}}},Z=require('class-validator'),Lt=class{constructor(_0x478c9d){const _0x62e284=a0_0x3c797d;this[_0x62e284(0x12e)]=_0x478c9d;}async[a0_0x3c797d(0x630)]({instanceName:_0x2151a2},_0x5d80da){const _0x286819=a0_0x3c797d;return await this['waMonitor'][_0x286819(0x545)][_0x2151a2][_0x286819(0x526)](_0x5d80da);}async[a0_0x3c797d(0x1e7)]({instanceName:_0x16082f},_0x419c7f){const _0x4d7d56=a0_0x3c797d;return await this[_0x4d7d56(0x12e)][_0x4d7d56(0x545)][_0x16082f][_0x4d7d56(0x404)](_0x419c7f);}async['sendMedia']({instanceName:_0x499a1d},_0x300ebb){const _0x1fcbcc=a0_0x3c797d;if((0x0,Z[_0x1fcbcc(0x365)])(_0x300ebb?.[_0x1fcbcc(0x6cf)]?.[_0x1fcbcc(0x23b)])&&!_0x300ebb?.[_0x1fcbcc(0x6cf)]?.[_0x1fcbcc(0x37f)])throw new m(_0x1fcbcc(0x297));if((0x0,Z[_0x1fcbcc(0x3ae)])(_0x300ebb?.[_0x1fcbcc(0x6cf)]?.[_0x1fcbcc(0x23b)])||(0x0,Z['isBase64'])(_0x300ebb?.[_0x1fcbcc(0x6cf)]?.[_0x1fcbcc(0x23b)]))return await this[_0x1fcbcc(0x12e)][_0x1fcbcc(0x545)][_0x499a1d][_0x1fcbcc(0x6cf)](_0x300ebb);throw new m(_0x1fcbcc(0x4c7));}async[a0_0x3c797d(0x410)]({instanceName:_0x416ce3},_0x51f31e){const _0x5c33f8=a0_0x3c797d;if((0x0,Z[_0x5c33f8(0x3ae)])(_0x51f31e['stickerMessage'][_0x5c33f8(0x5d1)])||(0x0,Z[_0x5c33f8(0x365)])(_0x51f31e[_0x5c33f8(0x460)][_0x5c33f8(0x5d1)]))return await this[_0x5c33f8(0x12e)][_0x5c33f8(0x545)][_0x416ce3][_0x5c33f8(0x6b1)](_0x51f31e);throw new m(_0x5c33f8(0x4c7));}async['sendWhatsAppAudio']({instanceName:_0x5ba805},_0xec0f37){const _0x547823=a0_0x3c797d;if((0x0,Z[_0x547823(0x3ae)])(_0xec0f37[_0x547823(0x4a4)]['audio'])||(0x0,Z['isBase64'])(_0xec0f37[_0x547823(0x4a4)][_0x547823(0x6b8)]))return await this[_0x547823(0x12e)][_0x547823(0x545)][_0x5ba805][_0x547823(0xe6)](_0xec0f37);throw new m(_0x547823(0x4c7));}async['sendButtons']({instanceName:_0x557305},_0x58de73){const _0x29d123=a0_0x3c797d;if((0x0,Z['isBase64'])(_0x58de73[_0x29d123(0x21b)]['mediaMessage']?.[_0x29d123(0x23b)])&&!_0x58de73['buttonMessage'][_0x29d123(0x6cf)]?.[_0x29d123(0x37f)])throw new m(_0x29d123(0x297));return await this[_0x29d123(0x12e)][_0x29d123(0x545)][_0x557305][_0x29d123(0x21b)](_0x58de73);}async['sendLocation']({instanceName:_0x3eb52d},_0x26311f){const _0x12c86e=a0_0x3c797d;return await this[_0x12c86e(0x12e)][_0x12c86e(0x545)][_0x3eb52d][_0x12c86e(0x3ec)](_0x26311f);}async['sendPoll']({instanceName:_0x2dfb5e},_0x3292b0){const _0x2fd50b=a0_0x3c797d;return await this[_0x2fd50b(0x12e)][_0x2fd50b(0x545)][_0x2dfb5e][_0x2fd50b(0x2ff)](_0x3292b0);}async['sendList']({instanceName:_0xbd1ea3},_0x220366){const _0x317471=a0_0x3c797d;return await this[_0x317471(0x12e)][_0x317471(0x545)][_0xbd1ea3][_0x317471(0x56c)](_0x220366);}async[a0_0x3c797d(0x523)]({instanceName:_0x305beb},_0x34ff9a){const _0x1265f7=a0_0x3c797d;return await this['waMonitor'][_0x1265f7(0x545)][_0x305beb][_0x1265f7(0x629)](_0x34ff9a);}async['sendReaction']({instanceName:_0x2865},_0x1f7531){const _0x5e267c=a0_0x3c797d;if(!_0x1f7531['reactionMessage'][_0x5e267c(0x68f)][_0x5e267c(0x624)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x5e267c(0x3f6));return await this[_0x5e267c(0x12e)][_0x5e267c(0x545)][_0x2865][_0x5e267c(0x2bf)](_0x1f7531);}async[a0_0x3c797d(0x479)]({instanceName:_0x254873},_0x1db414){const _0x10619b=a0_0x3c797d;return await this[_0x10619b(0x12e)][_0x10619b(0x545)][_0x254873]['statusMessage'](_0x1db414);}},Er=require(a0_0x3c797d(0x1b7)),Rs=require('uuid'),Ft=class c{constructor(_0x4e2307,_0x1cceaf,_0x363f85){const _0x3dcaf1=a0_0x3c797d;this[_0x3dcaf1(0x134)]=_0x4e2307,this[_0x3dcaf1(0x12e)]=_0x1cceaf,this['repository']=_0x363f85,this['logger']=new v(c[_0x3dcaf1(0x42e)]);}async[a0_0x3c797d(0x196)](_0x42f6bb){const _0x15e08e=a0_0x3c797d;let _0x52117f=this[_0x15e08e(0x134)][_0x15e08e(0x5a8)]('AUTHENTICATION')[_0x15e08e(0x3bd)],_0x54dd8e=(0x0,Er[_0x15e08e(0x212)])({'instanceName':_0x42f6bb[_0x15e08e(0x589)],'apiName':ze,'tokenId':(0x0,Rs['v4'])()},_0x52117f[_0x15e08e(0x32b)],{'expiresIn':_0x52117f[_0x15e08e(0x34c)],'encoding':_0x15e08e(0x60b),'subject':'g-t'}),_0x37eb95=await this[_0x15e08e(0x4cd)][_0x15e08e(0x46d)][_0x15e08e(0x3f0)]({'jwt':_0x54dd8e},_0x42f6bb[_0x15e08e(0x589)]);if(_0x37eb95[_0x15e08e(0x362)])throw this[_0x15e08e(0x30c)][_0x15e08e(0x362)]({'localError':c[_0x15e08e(0x42e)]+_0x15e08e(0x113),'error':_0x37eb95[_0x15e08e(0x362)]}),new m('Authentication\x20error',_0x37eb95[_0x15e08e(0x362)]?.[_0x15e08e(0x509)]());return{'jwt':_0x54dd8e};}async['apikey'](_0xd5312e){const _0x2a3064=a0_0x3c797d;let _0x1a477f=(0x0,Rs['v4'])()[_0x2a3064(0xd6)](),_0x2ba506=await this[_0x2a3064(0x4cd)][_0x2a3064(0x46d)][_0x2a3064(0x3f0)]({'apikey':_0x1a477f},_0xd5312e[_0x2a3064(0x589)]);if(_0x2ba506['error'])throw this[_0x2a3064(0x30c)]['error']({'localError':c[_0x2a3064(0x42e)]+_0x2a3064(0x113),'error':_0x2ba506[_0x2a3064(0x362)]}),new m('Authentication\x20error',_0x2ba506[_0x2a3064(0x362)]?.[_0x2a3064(0x509)]());return{'apikey':_0x1a477f};}async[a0_0x3c797d(0x4c9)](_0xffd5db){const _0x11fb55=a0_0x3c797d;let _0x816d74=this[_0x11fb55(0x134)][_0x11fb55(0x5a8)](_0x11fb55(0x1bd));return await this[_0x816d74[_0x11fb55(0x634)]](_0xffd5db);}},Ut=class{constructor(_0x198cd5){const _0x37004e=a0_0x3c797d;this[_0x37004e(0x12e)]=_0x198cd5;}async[a0_0x3c797d(0x420)](_0x33a80c,_0x3b0710){const _0x114325=a0_0x3c797d;return await this[_0x114325(0x12e)][_0x114325(0x545)][_0x33a80c[_0x114325(0x589)]][_0x114325(0x420)](_0x3b0710);}async[a0_0x3c797d(0x48b)](_0x2570fe,_0x2c99ed){const _0x4d9a75=a0_0x3c797d;return await this[_0x4d9a75(0x12e)][_0x4d9a75(0x545)][_0x2570fe['instanceName']][_0x4d9a75(0x48b)](_0x2c99ed);}async[a0_0x3c797d(0x58f)](_0x1ac289,_0x2fea02){const _0x35f9cc=a0_0x3c797d;return await this[_0x35f9cc(0x12e)][_0x35f9cc(0x545)][_0x1ac289[_0x35f9cc(0x589)]][_0x35f9cc(0x58f)](_0x2fea02);}async[a0_0x3c797d(0x557)](_0x51fa6a,_0x593d63){const _0x52fd16=a0_0x3c797d;return await this[_0x52fd16(0x12e)][_0x52fd16(0x545)][_0x51fa6a[_0x52fd16(0x589)]][_0x52fd16(0x557)](_0x593d63);}async[a0_0x3c797d(0x323)](_0x5c0ac4,_0x14300d){const _0x1fda71=a0_0x3c797d;return await this['waMonitor'][_0x1fda71(0x545)][_0x5c0ac4['instanceName']][_0x1fda71(0x323)](_0x14300d);}async[a0_0x3c797d(0x315)](_0x455731,_0x49d8d1){const _0x2ac1b6=a0_0x3c797d;return await this[_0x2ac1b6(0x12e)][_0x2ac1b6(0x545)][_0x455731['instanceName']][_0x2ac1b6(0x30f)](_0x49d8d1);}async[a0_0x3c797d(0x6a5)](_0x40ed59){const _0x22dbe7=a0_0x3c797d;return await this[_0x22dbe7(0x12e)][_0x22dbe7(0x545)][_0x40ed59[_0x22dbe7(0x589)]]['findGroups']();}async[a0_0x3c797d(0x6d5)](_0x3af788,_0x56ae14){const _0xd5431c=a0_0x3c797d;return await this[_0xd5431c(0x12e)][_0xd5431c(0x545)][_0x3af788[_0xd5431c(0x589)]][_0xd5431c(0x6d5)](_0x56ae14);}async['joinGroup'](_0x231714,_0x58ae6d){const _0x1b5d91=a0_0x3c797d;return await this['waMonitor'][_0x1b5d91(0x545)][_0x231714[_0x1b5d91(0x589)]]['joinGroup'](_0x58ae6d);}async[a0_0x3c797d(0x39b)](_0x507241,_0x506a83){const _0x24a524=a0_0x3c797d;return await this[_0x24a524(0x12e)][_0x24a524(0x545)][_0x507241[_0x24a524(0x589)]]['revokeInviteCode'](_0x506a83);}async[a0_0x3c797d(0x511)](_0x444950,_0x4d77d3){const _0x3f0e4b=a0_0x3c797d;return await this[_0x3f0e4b(0x12e)][_0x3f0e4b(0x545)][_0x444950[_0x3f0e4b(0x589)]][_0x3f0e4b(0x511)](_0x4d77d3);}async[a0_0x3c797d(0xf5)](_0x2e6328,_0x4397a3){const _0x38a4bf=a0_0x3c797d;return await this['waMonitor'][_0x38a4bf(0x545)][_0x2e6328['instanceName']][_0x38a4bf(0x527)](_0x4397a3);}async[a0_0x3c797d(0x593)](_0x59c84,_0x28d868){const _0x21dc02=a0_0x3c797d;return await this[_0x21dc02(0x12e)][_0x21dc02(0x545)][_0x59c84[_0x21dc02(0x589)]][_0x21dc02(0x593)](_0x28d868);}async[a0_0x3c797d(0x2c4)](_0x39a8ea,_0x3a10ad){const _0x48a55e=a0_0x3c797d;return await this[_0x48a55e(0x12e)][_0x48a55e(0x545)][_0x39a8ea['instanceName']][_0x48a55e(0x2c4)](_0x3a10ad);}},Jt=class{constructor(_0x76d645){const _0x1aac12=a0_0x3c797d;this[_0x1aac12(0x12e)]=_0x76d645;}[a0_0x3c797d(0x3f0)](_0x1859a5,_0x18285a){const _0x1588f8=a0_0x3c797d;return this[_0x1588f8(0x12e)][_0x1588f8(0x545)][_0x1859a5['instanceName']][_0x1588f8(0x66c)](_0x18285a);}async[a0_0x3c797d(0x2ec)](_0x10815c){const _0x52cec8=a0_0x3c797d;try{return await this[_0x52cec8(0x12e)]['waInstances'][_0x10815c[_0x52cec8(0x589)]][_0x52cec8(0x293)]();}catch{return{'enabled':null,'url':''};}}},Yd=new v(a0_0x3c797d(0x442)),jt=class{constructor(_0x1974d5){const _0x39f8ad=a0_0x3c797d;this[_0x39f8ad(0x12e)]=_0x1974d5;}async['editScheduleMessage'](_0x5483af,_0x4f2872){const _0x454cba=a0_0x3c797d;return await this[_0x454cba(0x12e)]['waInstances'][_0x5483af[_0x454cba(0x589)]][_0x454cba(0xee)](_0x4f2872);}async[a0_0x3c797d(0x205)](_0x52710a){const _0x3b558b=a0_0x3c797d;return await this[_0x3b558b(0x12e)][_0x3b558b(0x545)][_0x52710a[_0x3b558b(0x589)]][_0x3b558b(0x205)]();}async[a0_0x3c797d(0x631)](_0x4c7b77){const _0x35162c=a0_0x3c797d;return await this[_0x35162c(0x12e)][_0x35162c(0x545)][_0x4c7b77[_0x35162c(0x589)]][_0x35162c(0x631)]();}async[a0_0x3c797d(0x469)](_0x8e8409){const _0x374315=a0_0x3c797d;return await this[_0x374315(0x12e)][_0x374315(0x545)][_0x8e8409[_0x374315(0x589)]][_0x374315(0x469)]();}async['updateAgent'](_0x87e4a4,_0x45dec8){const _0x123b3c=a0_0x3c797d;return await this[_0x123b3c(0x12e)]['waInstances'][_0x87e4a4[_0x123b3c(0x589)]][_0x123b3c(0x1d3)](_0x45dec8);}async[a0_0x3c797d(0x5b5)](_0x3b2d13,_0x4fc9c2){const _0x1ad1dc=a0_0x3c797d;return await this[_0x1ad1dc(0x12e)]['waInstances'][_0x3b2d13[_0x1ad1dc(0x589)]]['updateCustomFields'](_0x4fc9c2);}async[a0_0x3c797d(0x15b)](_0x396aee,_0x4bd011){const _0x4c702b=a0_0x3c797d;return await this[_0x4c702b(0x12e)]['waInstances'][_0x396aee['instanceName']][_0x4c702b(0x15b)](_0x4bd011);}async[a0_0x3c797d(0x3a6)](_0xa4cf74,_0x13f6b4){const _0x55f69b=a0_0x3c797d;return await this[_0x55f69b(0x12e)][_0x55f69b(0x545)][_0xa4cf74[_0x55f69b(0x589)]][_0x55f69b(0x3a6)](_0x13f6b4);}async[a0_0x3c797d(0x3f5)](_0x3bf204,_0x2f3691){const _0x2108be=a0_0x3c797d;return await this[_0x2108be(0x12e)]['waInstances'][_0x3bf204[_0x2108be(0x589)]]['getConversation'](_0x2f3691);}async[a0_0x3c797d(0x4a0)](_0x379bb9,_0x495f24){const _0x112a3c=a0_0x3c797d;return await this[_0x112a3c(0x12e)][_0x112a3c(0x545)][_0x379bb9[_0x112a3c(0x589)]][_0x112a3c(0x4a0)](_0x495f24);}async[a0_0x3c797d(0x5e8)](_0x244bca,_0x202057){const _0x5dd53c=a0_0x3c797d;return await this[_0x5dd53c(0x12e)][_0x5dd53c(0x545)][_0x244bca[_0x5dd53c(0x589)]][_0x5dd53c(0x5e8)](_0x202057);}async['deleteConversation'](_0x271fe0,_0x1b7015){const _0x1a29a2=a0_0x3c797d;return await this[_0x1a29a2(0x12e)]['waInstances'][_0x271fe0[_0x1a29a2(0x589)]][_0x1a29a2(0x3b1)](_0x1b7015);}async[a0_0x3c797d(0x386)](_0xb93397,_0x47d1c3){const _0x5318f7=a0_0x3c797d;return await this['waMonitor'][_0x5318f7(0x545)][_0xb93397['instanceName']][_0x5318f7(0x386)](_0x47d1c3[_0x5318f7(0x42e)]);}async['createFlow'](_0x7638dc,_0x55f5ff){const _0x57e63f=a0_0x3c797d;return await this[_0x57e63f(0x12e)][_0x57e63f(0x545)][_0x7638dc['instanceName']][_0x57e63f(0x233)](_0x55f5ff);}async[a0_0x3c797d(0x487)](_0xb5124f,_0x193643){const _0x3fe068=a0_0x3c797d;return await this[_0x3fe068(0x12e)][_0x3fe068(0x545)][_0xb5124f['instanceName']][_0x3fe068(0x487)](_0x193643);}async[a0_0x3c797d(0x41a)](_0x1c8951,_0x163245){const _0x4c5cd1=a0_0x3c797d;return await this[_0x4c5cd1(0x12e)][_0x4c5cd1(0x545)][_0x1c8951['instanceName']]['editFlowBlock'](_0x163245);}async[a0_0x3c797d(0x218)](_0xa53fbd,_0x13b9c2){const _0x388fba=a0_0x3c797d;return await this[_0x388fba(0x12e)][_0x388fba(0x545)][_0xa53fbd[_0x388fba(0x589)]][_0x388fba(0x218)](_0x13b9c2);}async[a0_0x3c797d(0x1a5)](_0x53ae70,_0x4f06ed){const _0x35d0cd=a0_0x3c797d;return await this[_0x35d0cd(0x12e)][_0x35d0cd(0x545)][_0x53ae70['instanceName']][_0x35d0cd(0x1a5)](_0x4f06ed);}async[a0_0x3c797d(0x535)](_0x2b0f45,_0x4a14d2){const _0xbf7e02=a0_0x3c797d;return await this[_0xbf7e02(0x12e)]['waInstances'][_0x2b0f45[_0xbf7e02(0x589)]][_0xbf7e02(0x535)](_0x4a14d2);}async[a0_0x3c797d(0x2f3)](_0x4c4cbc,_0x158d6d){const _0x5d51e4=a0_0x3c797d;return await this[_0x5d51e4(0x12e)][_0x5d51e4(0x545)][_0x4c4cbc[_0x5d51e4(0x589)]][_0x5d51e4(0x2f3)](_0x158d6d);}async['editFlowVariable'](_0xf82d2d,_0x62fe1b){const _0x25cdd5=a0_0x3c797d;return await this[_0x25cdd5(0x12e)][_0x25cdd5(0x545)][_0xf82d2d[_0x25cdd5(0x589)]][_0x25cdd5(0x314)](_0x62fe1b);}async['deleteFlow'](_0x57b38a,_0x3b620a){const _0x2a850f=a0_0x3c797d;return await this[_0x2a850f(0x12e)][_0x2a850f(0x545)][_0x57b38a['instanceName']][_0x2a850f(0x36c)](_0x3b620a[_0x2a850f(0x42e)]);}async[a0_0x3c797d(0x1bb)](_0x7a253){const _0x2482ab=a0_0x3c797d;return await this[_0x2482ab(0x12e)][_0x2482ab(0x545)][_0x7a253[_0x2482ab(0x589)]][_0x2482ab(0x1bb)]();}},qt=class{constructor(_0x287fbb){this['webhookService']=_0x287fbb;}async[a0_0x3c797d(0x43a)](_0xb3b15a,_0x2694a5){const _0x41879d=a0_0x3c797d;return this[_0x41879d(0x369)][_0x41879d(0x3f0)](_0xb3b15a,_0x2694a5);}async[a0_0x3c797d(0x293)](_0x245398){const _0x2113f2=a0_0x3c797d;return this[_0x2113f2(0x369)][_0x2113f2(0x2ec)](_0x245398);}},Vt=class extends I{constructor(_0x502ef2,_0x565af8){const _0x3a95e2=a0_0x3c797d;super(_0x565af8),this['webhookModel']=_0x502ef2,this[_0x3a95e2(0x134)]=_0x565af8;}async[a0_0x3c797d(0x3f0)](_0x941881,_0x58bda0){const _0x2aa28b=a0_0x3c797d;try{return this['dbSettings']['ENABLED']?{'insertCount':(await this[_0x2aa28b(0x189)][_0x2aa28b(0x592)]({'_id':_0x58bda0},{..._0x941881},{'upsert':!0x0}))[_0x2aa28b(0x66d)]}:{'insertCount':0x1};}catch(_0x5bf624){return _0x5bf624;}}async[a0_0x3c797d(0x405)](_0x3d1387){const _0x39b91f=a0_0x3c797d;try{if(this[_0x39b91f(0x529)][_0x39b91f(0xe8)]){await this[_0x39b91f(0x189)][_0x39b91f(0x347)]({'_id':_0x3d1387});return;}}catch(_0x28ac18){return{'error':_0x28ac18};}}async[a0_0x3c797d(0x2ec)](_0x267c65){const _0x3506c8=a0_0x3c797d;try{if(this[_0x3506c8(0x529)][_0x3506c8(0xe8)])return await this['webhookModel'][_0x3506c8(0x2f8)]({'_id':_0x267c65});}catch{return{};}}},Bt=class extends I{constructor(_0x160a40,_0x3c9f4e){const _0x400f1f=a0_0x3c797d;super(_0x3c9f4e),this[_0x400f1f(0x11e)]=_0x160a40,this[_0x400f1f(0x134)]=_0x3c9f4e,this['auth']=_0x3c9f4e[_0x400f1f(0x5a8)](_0x400f1f(0x1bd));}async[a0_0x3c797d(0x3f0)](_0x175ee2,_0x51e3fc){const _0x1d8f07=a0_0x3c797d;try{if(this['dbSettings'][_0x1d8f07(0xe8)])return{'insertCount':(await this[_0x1d8f07(0x11e)]['updateOne']({'_id':_0x51e3fc},{'$set':{..._0x175ee2}},{'upsert':!0x0}))[_0x1d8f07(0x66d)]};}catch(_0x53cb7b){return{'error':_0x53cb7b};}}async[a0_0x3c797d(0x31d)](_0x5dc7ed,_0x68c5d3){const _0x2f089b=a0_0x3c797d;try{if(this[_0x2f089b(0x529)]['ENABLED'])return{'insertCount':(await this['authModel'][_0x2f089b(0x3cf)](_0x5dc7ed,{'$set':_0x68c5d3},{'upsert':!0x1}))['modifiedCount']};throw new Error(_0x2f089b(0x269));}catch(_0x542ef3){return{'error':_0x542ef3};}}async['deleteMany'](_0x33c858){const _0x28ea58=a0_0x3c797d;try{if(this[_0x28ea58(0x529)]['ENABLED'])return{'insertCount':(await this[_0x28ea58(0x11e)][_0x28ea58(0x3a8)](_0x33c858))['deletedCount']};throw new Error(_0x28ea58(0x269));}catch(_0xca9f00){return{'error':_0xca9f00};}}async[a0_0x3c797d(0x405)](_0x1ae4ae){const _0x372a9a=a0_0x3c797d;try{if(this[_0x372a9a(0x529)][_0x372a9a(0xe8)]){await this['authModel'][_0x372a9a(0x347)]({'_id':_0x1ae4ae});return;}}catch(_0x35f015){return{'error':_0x35f015};}}async['find'](_0x963641){const _0x20e591=a0_0x3c797d;try{if(this['dbSettings'][_0x20e591(0xe8)])return await this[_0x20e591(0x11e)]['findOne']({'_id':_0x963641});}catch{return{};}}async['findAll'](){const _0x4755e4=a0_0x3c797d;try{if(this[_0x4755e4(0x529)][_0x4755e4(0xe8)])return await this[_0x4755e4(0x11e)][_0x4755e4(0x2ec)]();}catch{return[];}}},Gt=class extends I{[a0_0x3c797d(0x270)](_0x50c04e){return ta(_0x50c04e);}async[a0_0x3c797d(0x25b)](_0x3616c1){const _0x4fb462=a0_0x3c797d;try{let _0x2711e6=sa,_0xaada0f=this['getFlowModelForOwner'](_0x3616c1),_0x23ea19=await _0x2711e6[_0x4fb462(0x2ec)]({'owner':_0x3616c1})[_0x4fb462(0x69d)](),_0x3a3e49=[],_0x31b176=[];for(let _0x29c148 of _0x23ea19)await _0xaada0f[_0x4fb462(0xf6)](_0x29c148['_id'])[_0x4fb462(0x69d)]()||(_0x3a3e49['push'](_0x29c148),_0x31b176['push'](_0x29c148['_id']));return _0x3a3e49[_0x4fb462(0x234)]>0x0&&await _0xaada0f[_0x4fb462(0x1e2)](_0x3a3e49,{'ordered':!0x1}),{'success':!0x0};}catch(_0x493b2b){return console[_0x4fb462(0x362)](_0x4fb462(0x3a1),_0x493b2b),{'success':!0x1,'error':_0x493b2b};}}async[a0_0x3c797d(0x405)](_0x27900f,_0x41c8e2){const _0x13c7ee=a0_0x3c797d;try{let _0x4ac2e3=this['getFlowModelForOwner'](_0x41c8e2),_0x4097df=A(_0x27900f[_0x13c7ee(0x268)]);return{'deletedCount':(await _0x4ac2e3['deleteMany'](_0x4097df))['deletedCount']};}catch(_0x5f1f88){return{'error':_0x5f1f88?.[_0x13c7ee(0x509)]()};}}async[a0_0x3c797d(0x347)](_0x3c75db,_0x2d79e7){const _0x264727=a0_0x3c797d;try{let _0x48b60a=this[_0x264727(0x270)](_0x2d79e7),_0x3ca4d1=A(_0x3c75db[_0x264727(0x268)]);return{'deletedCount':(await _0x48b60a[_0x264727(0x347)](_0x3ca4d1))[_0x264727(0x199)]};}catch(_0x1c6f08){return{'error':_0x1c6f08?.['toString']()};}}async[a0_0x3c797d(0x119)](_0x1e522a,_0x525bf7,_0x39b2d3){const _0x583e21=a0_0x3c797d;try{return await this[_0x583e21(0x270)](_0x39b2d3)[_0x583e21(0x552)](_0x1e522a,_0x525bf7,{'new':!0x0});}catch(_0x34d43b){return console[_0x583e21(0x362)](_0x583e21(0x3e0),_0x34d43b),null;}}async[a0_0x3c797d(0x194)](_0x28d711,_0x478595){const _0x15df84=a0_0x3c797d;try{let _0x27b41c=this[_0x15df84(0x270)](_0x478595);return await new _0x27b41c(_0x28d711)[_0x15df84(0x467)]();}catch(_0x47d6e0){return console['error']('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x47d6e0),null;}}async[a0_0x3c797d(0x3cf)](_0x225ece,_0x133364,_0x1ab71a){const _0x278d88=a0_0x3c797d;try{return{'modifiedCount':(await this['getFlowModelForOwner'](_0x1ab71a)[_0x278d88(0x3cf)](_0x225ece,{'$set':_0x133364}))['modifiedCount']};}catch(_0x5ef005){return console['error']('Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:',_0x5ef005),{'error':_0x5ef005};}}async['findAll'](_0x242a48,_0x194d19){const _0x4c2b94=a0_0x3c797d;try{let _0x3a7c43=this['getFlowModelForOwner'](_0x194d19),_0x2f806f=A(_0x242a48[_0x4c2b94(0x268)]);return await _0x3a7c43[_0x4c2b94(0x2ec)](_0x2f806f)[_0x4c2b94(0x5fb)](_0x242a48?.[_0x4c2b94(0x5fb)]??0x0)[_0x4c2b94(0x69d)]();}catch{return[];}}async[a0_0x3c797d(0x2f8)](_0x1092aa,_0x4013b2){const _0x241b62=a0_0x3c797d;try{let _0x311cfa=this['getFlowModelForOwner'](_0x4013b2),_0x7f939a=A(_0x1092aa['where']);return await _0x311cfa[_0x241b62(0x2f8)](_0x7f939a)['lean']();}catch{return null;}}async[a0_0x3c797d(0x52a)](_0x2f7607){const _0xca6457=a0_0x3c797d;try{return await this[_0xca6457(0x270)](_0x2f7607)[_0xca6457(0x1af)][_0xca6457(0x5c2)](),{'success':!0x0};}catch(_0x422695){return console[_0xca6457(0x362)](_0x422695),{'success':!0x1,'error':_0x422695};}}},Wt=class extends I{[a0_0x3c797d(0xac)](_0x16b99d){return ra(_0x16b99d);}async[a0_0x3c797d(0x25b)](_0x15be8d){const _0x10a157=a0_0x3c797d;try{let _0x1cf145=oa,_0x34bf92=this[_0x10a157(0xac)](_0x15be8d),_0x885141=await _0x1cf145[_0x10a157(0x2ec)]({'owner':_0x15be8d})[_0x10a157(0x69d)](),_0x14090d=[],_0x140867=[];for(let _0x706022 of _0x885141)await _0x34bf92[_0x10a157(0xf6)](_0x706022['_id'])[_0x10a157(0x69d)]()||(_0x14090d[_0x10a157(0xab)](_0x706022),_0x140867[_0x10a157(0xab)](_0x706022[_0x10a157(0x3c1)]));return _0x14090d[_0x10a157(0x234)]>0x0&&await _0x34bf92[_0x10a157(0x1e2)](_0x14090d,{'ordered':!0x1}),{'success':!0x0};}catch(_0x141992){return console[_0x10a157(0x362)]('Erro\x20ao\x20copiar\x20dados:',_0x141992),{'success':!0x1,'error':_0x141992};}}async[a0_0x3c797d(0x5e0)](_0x399013){const _0x3cc672=a0_0x3c797d;if(_0x399013[_0x3cc672(0x234)]!==0x0)try{return{'insertCount':(await this[_0x3cc672(0xac)](_0x399013[0x0][_0x3cc672(0x561)])[_0x3cc672(0x1e2)]([..._0x399013]))[_0x3cc672(0x234)]};}catch(_0x4be12d){return _0x4be12d;}}async[a0_0x3c797d(0x405)](_0x436b6d,_0x393abb){const _0x526e27=a0_0x3c797d;try{let _0x2434c9=this[_0x526e27(0xac)](_0x393abb),_0x3f9c38=A(_0x436b6d[_0x526e27(0x268)]);return{'deletedCount':(await _0x2434c9[_0x526e27(0x3a8)](_0x3f9c38))[_0x526e27(0x199)]};}catch(_0x1089db){return{'error':_0x1089db?.[_0x526e27(0x509)]()};}}async['deleteOne'](_0xe6007e,_0x47f38a){const _0x8455c0=a0_0x3c797d;try{let _0x146c12=this[_0x8455c0(0xac)](_0x47f38a),_0x374485=A(_0xe6007e[_0x8455c0(0x268)]);return{'deletedCount':(await _0x146c12[_0x8455c0(0x347)](_0x374485))['deletedCount']};}catch(_0x461acc){return{'error':_0x461acc?.['toString']()};}}async[a0_0x3c797d(0x5ee)](_0x2ed624,_0x3a3a85){const _0x5157b9=a0_0x3c797d;try{if(_0x2ed624[_0x5157b9(0x234)]===0x0)return;let _0xec752d=this[_0x5157b9(0xac)](_0x3a3a85),_0x39e602=_0x2ed624[_0x5157b9(0x2a0)](_0x2476ca=>({'updateOne':{'filter':{'name':_0x2476ca['name'],'owner':_0x3a3a85},'update':{..._0x2476ca}}})),{modifiedCount:_0x530a94}=await _0xec752d['bulkWrite'](_0x39e602);return{'insertCount':_0x530a94};}catch{return;}}async[a0_0x3c797d(0x3cf)](_0x2efe7f,_0x257e28,_0x5c18b2){const _0x1c16c8=a0_0x3c797d;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x5c18b2)['updateMany'](_0x2efe7f,{'$set':_0x257e28}))[_0x1c16c8(0x66d)]};}catch(_0x5eae77){return console[_0x1c16c8(0x362)](_0x1c16c8(0x3e4),_0x5eae77),{'error':_0x5eae77};}}async['updateOne'](_0x274f79,_0x1d9749,_0x500c1b){const _0x4c3af1=a0_0x3c797d;try{return await this['getConversationModelForOwner'](_0x500c1b)['findOneAndUpdate']({'_id':_0x274f79},{'$set':_0x1d9749},{'new':!0x0,'upsert':!0x0})[_0x4c3af1(0x69d)]();}catch(_0x14f5e2){return console[_0x4c3af1(0x362)](_0x14f5e2),null;}}async['find'](_0x144584,_0x1a921b){const _0x2466f6=a0_0x3c797d;try{return await this[_0x2466f6(0xac)](_0x1a921b)[_0x2466f6(0x2ec)](_0x144584)[_0x2466f6(0x537)]({'lastInteraction':-0x1})[_0x2466f6(0x69d)]();}catch{return[];}}async[a0_0x3c797d(0x2f8)](_0x1b155c,_0x541e70){const _0x1af4b6=a0_0x3c797d;try{return await this[_0x1af4b6(0xac)](_0x541e70)[_0x1af4b6(0x2f8)]({..._0x1b155c['where']})[_0x1af4b6(0x69d)]();}catch{return null;}}async['deleteAll'](_0x4c7d84){const _0x80c87e=a0_0x3c797d;try{return await this[_0x80c87e(0xac)](_0x4c7d84)[_0x80c87e(0x1af)][_0x80c87e(0x5c2)](),{'success':!0x0};}catch(_0x5d1fdf){return console[_0x80c87e(0x362)](_0x5d1fdf),{'success':!0x1,'error':_0x5d1fdf};}}},zt=class extends I{['getScheduleMessageModelForOwner'](_0x2c1d07){return na(_0x2c1d07);}async[a0_0x3c797d(0x25b)](_0x581f93){const _0x71846f=a0_0x3c797d;try{let _0x3d7467=ca,_0x80e1e2=this[_0x71846f(0x2dd)](_0x581f93),_0x2bcaa4=await _0x3d7467[_0x71846f(0x2ec)]({'owner':_0x581f93})[_0x71846f(0x69d)](),_0xeb631e=[],_0x23da96=[];for(let _0x6d40be of _0x2bcaa4)await _0x80e1e2['findById'](_0x6d40be[_0x71846f(0x3c1)])[_0x71846f(0x69d)]()||(_0xeb631e[_0x71846f(0xab)](_0x6d40be),_0x23da96[_0x71846f(0xab)](_0x6d40be['_id']));return _0xeb631e[_0x71846f(0x234)]>0x0&&await _0x80e1e2['insertMany'](_0xeb631e,{'ordered':!0x1}),{'success':!0x0};}catch(_0xdf9ac9){return console[_0x71846f(0x362)](_0x71846f(0x3a1),_0xdf9ac9),{'success':!0x1,'error':_0xdf9ac9};}}async[a0_0x3c797d(0x194)](_0x2522b4,_0x11c9ea){const _0xfd9ef4=a0_0x3c797d;try{let _0x41de84=this[_0xfd9ef4(0x2dd)](_0x11c9ea);return await new _0x41de84(_0x2522b4)[_0xfd9ef4(0x467)]();}catch(_0x3eb9f6){return console[_0xfd9ef4(0x362)](_0xfd9ef4(0x588),_0x3eb9f6),null;}}async['deleteOne'](_0x5315ae,_0x554ef6){const _0x31d1d2=a0_0x3c797d;try{return await this[_0x31d1d2(0x2dd)](_0x554ef6)[_0x31d1d2(0x18a)](_0x5315ae),{};}catch(_0x281fb1){return{'error':_0x281fb1?.['toString']()};}}async[a0_0x3c797d(0x119)](_0x4258a4,_0x2915e6,_0x187e23){const _0x37bea1=a0_0x3c797d;try{return await this[_0x37bea1(0x2dd)](_0x187e23)[_0x37bea1(0x378)](_0x4258a4,{'$set':_0x2915e6},{'new':!0x0})[_0x37bea1(0x69d)]();}catch(_0xddc82e){return console[_0x37bea1(0x362)](_0x37bea1(0x657),_0xddc82e),null;}}async[a0_0x3c797d(0x67d)](_0x49cbee,_0x390e7b,_0x4297b5){const _0x311ea4=a0_0x3c797d;try{return await this[_0x311ea4(0x2dd)](_0x4297b5)['findByIdAndUpdate'](_0x49cbee,_0x390e7b,{'new':!0x0})['lean']();}catch(_0x3000b4){return console[_0x311ea4(0x362)](_0x311ea4(0x657),_0x3000b4),null;}}async[a0_0x3c797d(0x2ec)](_0x1803a0,_0x5136de){try{return await this['getScheduleMessageModelForOwner'](_0x5136de)['find'](_0x1803a0['where'])['limit'](_0x1803a0?.['limit']??0x0)['sort']({'when':0x1})['lean']();}catch{return[];}}async[a0_0x3c797d(0x2f8)](_0x149db8,_0x2128a7){const _0x26a792=a0_0x3c797d;try{return await this['getScheduleMessageModelForOwner'](_0x2128a7)[_0x26a792(0x2f8)](_0x149db8['where'])[_0x26a792(0x537)]({'when':0x1})['lean']();}catch{return null;}}async[a0_0x3c797d(0xf6)](_0x39687f,_0x265cb1){const _0x1b83b6=a0_0x3c797d;try{return await this[_0x1b83b6(0x2dd)](_0x265cb1)['findById'](_0x39687f)[_0x1b83b6(0x69d)]();}catch{return null;}}async[a0_0x3c797d(0x3a8)](_0x89d07,_0x1dadc1){const _0x2c5cc6=a0_0x3c797d;try{return{'deletedCount':(await this[_0x2c5cc6(0x2dd)](_0x1dadc1)[_0x2c5cc6(0x3a8)](_0x89d07))[_0x2c5cc6(0x199)]};}catch(_0x381980){return console[_0x2c5cc6(0x362)]('Erro\x20ao\x20deletar\x20mensagens:',_0x381980),{'error':_0x381980};}}async['deleteAll'](_0x580632){const _0x1427bf=a0_0x3c797d;try{return await this[_0x1427bf(0x2dd)](_0x580632)[_0x1427bf(0x1af)][_0x1427bf(0x5c2)](),{'success':!0x0};}catch(_0x10edc8){return console[_0x1427bf(0x362)](_0x10edc8),{'success':!0x1,'error':_0x10edc8};}}},Ht=class extends I{async[a0_0x3c797d(0x5ee)](_0x115582,_0x430e5c){const _0x569a13=a0_0x3c797d;try{if(this[_0x569a13(0x529)][_0x569a13(0xe8)]){let _0x19624f=await _e[_0x569a13(0x378)]({'_id':_0x430e5c},{'$set':_0x115582},{'new':!0x0});return console[_0x569a13(0x247)](_0x569a13(0x463),_0x19624f),_0x19624f;}}catch(_0x12b34b){throw console[_0x569a13(0x362)]('Erro\x20ao\x20atualizar\x20AutomateSystem:',_0x12b34b),_0x12b34b;}}async[a0_0x3c797d(0x30b)](_0x553a6c){const _0x10d459=a0_0x3c797d;try{let _0x1da6a2=await _e[_0x10d459(0xf6)](_0x553a6c);return _0x1da6a2||(_0x1da6a2=new _e({'_id':_0x553a6c}),await _0x1da6a2['save']()),_0x1da6a2;}catch(_0x21ab55){return console[_0x10d459(0x362)](_0x10d459(0x606),_0x21ab55),null;}}},wo=new v('WA\x20MODULE'),bo=new Le(b),So=new Pt(b),Eo=new Qe(b),Co=new Vt(Qs,b),Mo=new Bt(zs,b),vo=new Gt(b),No=new _t(b),Ro=new Wt(b),To=new zt(b),Ao=new Ht(b),le=new $e(bo,So,Eo,Co,Mo,vo,Ro,No,To,Ao,N?.['getClient']()),B=new xt(es,b,le),Oo=new Ft(b,B,le),Io=new Jt(B),gs=new qt(Io),T=new jt(B),re=new kt(B,b,le,es,Oo),G=new Lt(B),D=new $t(B),J=new Ut(B);wo[a0_0x3c797d(0x598)](a0_0x3c797d(0x649));var gg=require('express-async-errors'),Ts=require('fs'),Cr=R(require('https')),Mr=R(require(a0_0x3c797d(0x51b))),Ne=class c{static #e;static set[a0_0x3c797d(0x3da)](_0x461d3b){this.#e=_0x461d3b;}static get['https'](){const _0x5068e4=a0_0x3c797d;let {FULLCHAIN:_0x175c7b,PRIVKEY:_0xd1047}=b[_0x5068e4(0x5a8)](_0x5068e4(0x567));return Cr[_0x5068e4(0xe1)]({'cert':(0x0,Ts['readFileSync'])(_0x175c7b),'key':(0x0,Ts[_0x5068e4(0x241)])(_0xd1047)},c.#e);}static get['http'](){const _0x426341=a0_0x3c797d;return Mr[_0x426341(0xe1)](c.#e);}},de=R(require('fs')),Or=R(require(a0_0x3c797d(0x443))),Re=R(require(a0_0x3c797d(0x597))),Ae=R(require('path')),Oe=require(a0_0x3c797d(0x25e));function Do(){const _0x644823=a0_0x3c797d;B[_0x644823(0x1f4)]();let _0x55eeba=Ae[_0x644823(0x580)][_0x644823(0x530)](__dirname,'downloads');Ar(_0x55eeba);}var Ar=_0x2917f9=>{const _0x50bac6=a0_0x3c797d;let _0x4a4d84=de[_0x50bac6(0x580)][_0x50bac6(0x692)](_0x2917f9),_0x1271a9=0xc*0x3c*0x3c*0x3e8,_0x3d27f3=0x2*0x3c*0x3c*0x3e8,_0x41c236=new Date()['getTime']();_0x4a4d84['forEach'](_0x3b09a9=>{const _0x195b53=_0x50bac6;let _0x426d58=Ae['default'][_0x195b53(0x530)](_0x2917f9,_0x3b09a9),_0x320033=de[_0x195b53(0x580)][_0x195b53(0x6fb)](_0x426d58)[_0x195b53(0x3b6)][_0x195b53(0x3ad)]();_0x41c236-_0x320033>_0x1271a9&&(de[_0x195b53(0x580)][_0x195b53(0x4fc)](_0x426d58),console['log'](_0x195b53(0x6ad)+_0x3b09a9));}),setTimeout(()=>Ar(_0x2917f9),_0x3d27f3);};function xo(){const _0x1b7154=a0_0x3c797d;let _0x30f1c8=new v(_0x1b7154(0x6a0)),_0x57a20e=(0x0,pe[_0x1b7154(0x580)])();_0x57a20e[_0x1b7154(0x3b9)]((0x0,Tr[_0x1b7154(0x580)])({'origin'(_0xc4bd86,_0x5e4711){const _0x76b7f6=_0x1b7154;let {ORIGIN:_0x4e7f43}=b[_0x76b7f6(0x5a8)](_0x76b7f6(0x5da));return _0xc4bd86||(_0xc4bd86='*'),_0x4e7f43['indexOf']('*')!==-0x1||_0x4e7f43[_0x76b7f6(0x39f)](_0xc4bd86)!==-0x1?_0x5e4711(null,!0x0):_0x5e4711(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...b[_0x1b7154(0x5a8)](_0x1b7154(0x5da))[_0x1b7154(0x417)]],'credentials':b[_0x1b7154(0x5a8)]('CORS')[_0x1b7154(0x333)]}),(0x0,pe[_0x1b7154(0x492)])({'extended':!0x0,'limit':'50mb'}),(0x0,pe[_0x1b7154(0x483)])({'limit':_0x1b7154(0xcb)})),_0x57a20e['use']((_0x2b3807,_0x2ba289,_0x21fac7)=>{const _0x509f1=_0x1b7154;_0x2b3807[_0x509f1(0x435)][_0x509f1(0x28b)](_0x509f1(0x502))?_0x21fac7():(0x0,Rr['default'])()(_0x2b3807,_0x2ba289,_0x21fac7);}),_0x57a20e[_0x1b7154(0x451)](_0x1b7154(0x5c1),'hbs'),_0x57a20e[_0x1b7154(0x451)]('views',(0x0,Os[_0x1b7154(0x530)])(ae,_0x1b7154(0x1e8))),_0x57a20e[_0x1b7154(0x3b9)](pe[_0x1b7154(0x580)][_0x1b7154(0x532)]((0x0,Os[_0x1b7154(0x530)])(ae,_0x1b7154(0x380)))),_0x57a20e[_0x1b7154(0x3b9)]((_0x529b51,_0x14f1b0,_0x4794ed)=>{const _0x517e85=_0x1b7154;let _0x26ff35=_0x14f1b0[_0x517e85(0xd3)];_0x14f1b0['send']=function(_0x5925c1){const _0x161f8d=_0x517e85;if(_0x529b51[_0x161f8d(0x2cf)][_0x161f8d(0x515)]==='true'||_0x529b51[_0x161f8d(0x2eb)][_0x161f8d(0x64b)]===_0x161f8d(0x534)){let _0xd8e3e9=JSON['parse'](_0x5925c1);_0x5925c1=JSON[_0x161f8d(0xf1)](_0x220a8c(_0xd8e3e9));}return _0x26ff35[_0x161f8d(0x712)](_0x14f1b0,[_0x5925c1]);},_0x4794ed();}),_0x57a20e[_0x1b7154(0x3b9)]('/',vt),_0x57a20e[_0x1b7154(0x3b9)]((_0x438697,_0x23a679,_0x5083f3,_0x54dbd2)=>{const _0x457645=_0x1b7154;if(_0x438697)return _0x5083f3[_0x457645(0x3fc)](_0x438697[_0x457645(0x3fc)]||0x1f4)[_0x457645(0x483)](_0x438697);},(_0xf80fd8,_0x4f24ef,_0x486388)=>{const _0x4e1077=_0x1b7154;let {method:_0x5bd9bd,url:_0x3c971c}=_0xf80fd8;_0x4f24ef[_0x4e1077(0x3fc)](0x194)['json']({'status':0x194,'message':_0x4e1077(0x370)+_0x5bd9bd[_0x4e1077(0xd6)]()+'\x20'+_0x3c971c,'error':_0x4e1077(0x2ea)}),_0x486388();});let _0x220a8c=(_0x5f11fc,_0x5c06d6=_0x1b7154(0x48a))=>{const _0x2d1c69=_0x1b7154;let _0x59c15b=(_0x569bce,_0x1b69fd=null,_0x100284=!0x1)=>{const _0x352e13=a0_0x14cd;let _0x1989c7={};return Object[_0x352e13(0x4e5)](_0x569bce)['forEach'](_0x2589db=>{const _0x644ff6=_0x352e13;let _0x24c092=_0x569bce[_0x2589db],_0x35e182=''+_0x5c06d6+_0x2589db;_0x1b69fd&&!_0x100284&&(_0x35e182=_0x1b69fd+'.'+_0x2589db),!_0x24c092&&_0x24c092!==0x0&&_0x24c092!==!0x1||typeof _0x24c092>'u'?_0x1989c7[_0x35e182]=null:typeof _0x24c092!=_0x644ff6(0xc5)&&!Array['isArray'](_0x24c092)?_0x1989c7[_0x35e182]=_0x24c092:typeof _0x24c092=='object'&&!Array[_0x644ff6(0x65a)](_0x24c092)?_0x1989c7=Object[_0x644ff6(0x653)](_0x1989c7,_0x59c15b(_0x24c092,_0x35e182)):Array[_0x644ff6(0x65a)](_0x24c092)&&(typeof _0x24c092[0x0]==_0x644ff6(0xc5)?(_0x1989c7[_0x35e182]=[],_0x24c092[_0x644ff6(0x3b8)](_0x478180=>{const _0x83c3fb=_0x644ff6;_0x1989c7[_0x35e182][_0x83c3fb(0xab)](_0x59c15b(_0x478180,_0x35e182,!0x0));})):_0x1989c7[_0x35e182]=_0x24c092);}),_0x1989c7;};return Array[_0x2d1c69(0x65a)](_0x5f11fc)?_0x5f11fc['map'](_0x3bf403=>_0x59c15b(_0x3bf403)):typeof _0x5f11fc==_0x2d1c69(0xc5)&&_0x5f11fc!==null?_0x59c15b(_0x5f11fc):{};},_0x4b3db5=b[_0x1b7154(0x5a8)]('SERVER');Ne['app']=_0x57a20e;let _0x57835a=Ne[_0x4b3db5[_0x1b7154(0x634)]],_0x3c7d86='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x57835a[_0x1b7154(0x19e)](_0x4b3db5[_0x1b7154(0x353)],()=>{const _0x12395b=_0x1b7154;_0x30f1c8['log'](_0x3c7d86),_0x30f1c8[_0x12395b(0x247)](_0x4b3db5[_0x12395b(0x634)][_0x12395b(0xd6)]()+'\x20-\x20ON:\x20'+_0x4b3db5[_0x12395b(0x353)]);}),Do(),Us();}var Po=a0_0x3c797d(0x625),_o=Ae['default'][a0_0x3c797d(0x530)](__dirname,a0_0x3c797d(0x23f)),Te=null;function $o(){return new Promise((_0x3e36fb,_0x28ed28)=>{const _0x116efc=a0_0x14cd;de[_0x116efc(0x580)][_0x116efc(0x140)](_o,'utf-8',(_0x3e0032,_0x46a919)=>{const _0x276ccf=_0x116efc;if(_0x3e0032){Te=_0x3e0032,_0x3e36fb();return;}Or[_0x276ccf(0x580)][_0x276ccf(0x6cb)](_0x46a919)[_0x276ccf(0x1e6)][_0x276ccf(0x47b)]===Po?(Te=null,_0x3e36fb()):(Te=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x3e36fb());});});}async function ko(){const _0x295a82=a0_0x3c797d;try{await $o(),await Is();}catch(_0x1dc3c2){console['error'](_0x295a82(0x501)+_0x1dc3c2),process[_0x295a82(0x2f4)](0x1);}}ko();async function Ir(){const _0x44a859=a0_0x3c797d;let _0x607af;try{_0x607af=(await Re[_0x44a859(0x580)][_0x44a859(0x5a8)](_0x44a859(0x12f)))[_0x44a859(0x43c)]['ip'];}catch(_0x1fa009){console[_0x44a859(0x362)](_0x1fa009);try{_0x607af=(await Re[_0x44a859(0x580)][_0x44a859(0x5a8)](_0x44a859(0x6dc)))[_0x44a859(0x43c)]['ip'];}catch(_0x4eb126){console['error'](_0x4eb126);try{_0x607af=(await Re[_0x44a859(0x580)][_0x44a859(0x5a8)](_0x44a859(0x26c)))['data'][_0x44a859(0x624)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x8fac29){return console[_0x44a859(0x362)](_0x8fac29),!0x1;}}}return _0x607af;}var vr=0x0;async function Lo(){const _0x1e8633=a0_0x3c797d;let _0x3003c8=await new oe(b[_0x1e8633(0x5a8)](_0x1e8633(0x578)))[_0x1e8633(0x711)]();return console[_0x1e8633(0x247)]('instancias:\x20',_0x3003c8[_0x1e8633(0x234)]),_0x3003c8['length'];}function Fo(_0x46e7bf){const _0x515052=a0_0x3c797d;let _0x54349e=_0x46e7bf['get'](_0x515052(0x6a0))[_0x515052(0x3a5)],_0x515dd4=_0x46e7bf[_0x515052(0x5a8)](_0x515052(0x567)),_0x5f292a;if(_0x54349e){let _0x551df9=_0x54349e[_0x515052(0x624)](/\/\/(.*?)\./);_0x551df9&&_0x551df9[0x1]&&(_0x5f292a=_0x551df9[0x1]);}if(!_0x5f292a&&_0x515dd4&&_0x515dd4[_0x515052(0x191)]){let _0x42da55=_0x515dd4[_0x515052(0x191)][_0x515052(0x6db)]('/'),_0x4058cc=_0x42da55[_0x42da55[_0x515052(0x234)]-0x2];if(_0x4058cc){let _0x492143=_0x4058cc['split']('.');_0x492143[_0x515052(0x234)]>0x2&&(_0x5f292a=_0x492143[0x0]);}}return _0x5f292a;}var vs=Fo(b);async function Uo(){const _0xc640bc=a0_0x3c797d;let _0x218b86=b['get'](_0xc640bc(0x578)),_0x24ad17=b['get'](_0xc640bc(0x1bd))[_0xc640bc(0xe9)][_0xc640bc(0x482)],_0x47d217=b[_0xc640bc(0x5a8)](_0xc640bc(0x567)),_0x495e9b=await Ir(),_0x11a6a9=b[_0xc640bc(0x5a8)](_0xc640bc(0x6a0))[_0xc640bc(0x353)],_0x223534=b[_0xc640bc(0x5a8)](_0xc640bc(0x6a0))[_0xc640bc(0x3a5)];try{let _0xf6eed={'ip':_0x495e9b||null,'redis_enable':_0x218b86?.[_0xc640bc(0xe8)]||null,'apikey':_0x24ad17||null,'ssl':_0x47d217?.[_0xc640bc(0x4c6)]||null,'lastupdate':Dr||null,'port':_0x11a6a9||null,'gitInstallError':Te?.[_0xc640bc(0x15e)]||null,'url':_0x223534||null};if(console[_0xc640bc(0x247)](_0xc640bc(0x6e7),_0xf6eed['ip']),_0x218b86&&_0x218b86[_0xc640bc(0xe8)]){let _0x23d755=await Lo();_0xf6eed[_0xc640bc(0x20e)]=_0x23d755||null;}for(let _0xaaca50 in _0xf6eed)_0xf6eed['hasOwnProperty'](_0xaaca50)&&_0xaaca50!=='ip'&&(_0xf6eed[_0xaaca50]=JSON[_0xc640bc(0xf1)](_0xf6eed[_0xaaca50]));return(await Re['default']['post'](_0xc640bc(0x1a8),_0xf6eed))['data'];}catch(_0x50d764){return console['error'](_0x50d764),!0x1;}}var As=!0x1,Dr=0x21e,Jo=0x3,Nr=0x1b7740;async function Is(){const _0x136f61=a0_0x3c797d;if(!await Ir())return console[_0x136f61(0x362)](_0x136f61(0x141)),_0x136f61(0x62c);let _0x292c30=await Uo();if(_0x292c30){if(_0x292c30[_0x136f61(0x619)][_0x136f61(0x246)]===!0x0){b[_0x136f61(0x5a8)](_0x136f61(0x567))[_0x136f61(0x4c6)][_0x136f61(0x129)](_0x136f61(0x2b7))&&_0x292c30[_0x136f61(0x619)][_0x136f61(0x54c)]&&(await Vo(_0x292c30[_0x136f61(0x619)][_0x136f61(0x54c)],qo),await Bo(_0x136f61(0x184),_0x292c30[_0x136f61(0x619)]['subdomain']),console[_0x136f61(0x247)]('Reiniciando\x20sistema\x20após\x20instalado\x20certificado...'),setTimeout(()=>Wo(),0x2710)),Te===null&&_0x292c30['response'][_0x136f61(0x3a7)]-Dr>0x0&&await jo(),As||(As=!0x0,xo());let _0x27d44d=0x24*0x3c*0x3c,_0x468a97=_0x292c30['response'][_0x136f61(0x533)]>_0x27d44d?_0x27d44d:_0x292c30[_0x136f61(0x619)][_0x136f61(0x533)],_0x297dde=Number(_0x468a97);if(isNaN(_0x297dde)){console[_0x136f61(0x362)](_0x136f61(0x408));return;}let _0x5e9b74=Math[_0x136f61(0x3ee)](_0x297dde/0xe10),_0x7eb1f8=Math['floor'](_0x297dde%0xe10/0x3c),_0x39e5d5=new Date(Date[_0x136f61(0x38d)]()+_0x297dde*0x3e8);setTimeout(Is,_0x297dde*0x3e8);let _0x301392=_0xfce038=>_0xfce038[_0x136f61(0x509)]()[_0x136f61(0x6b3)](0x2,'0'),_0x3b580a=_0x136f61(0x364)+_0x301392(_0x5e9b74)+_0x136f61(0x5ad)+_0x301392(_0x7eb1f8)+_0x136f61(0x44a)+_0x301392(_0x39e5d5[_0x136f61(0x68a)]())+':'+_0x301392(_0x39e5d5['getMinutes']())+'.';console[_0x136f61(0x247)](_0x3b580a);}else return console['log'](_0x136f61(0xdf)),As&&(console[_0x136f61(0x247)](_0x136f61(0x4b2)),process['exit']()),_0x136f61(0x6aa);}else{if(vr++,vr<Jo)console[_0x136f61(0x247)](_0x136f61(0x591)+Nr/0xea60+_0x136f61(0x70d)),setTimeout(Is,Nr);else return console[_0x136f61(0x362)](_0x136f61(0x15c)),_0x136f61(0x14d);}}async function jo(){const _0x22a25e=a0_0x3c797d;console[_0x22a25e(0x247)](_0x22a25e(0x70c));let _0x2b854f=(0x0,Oe[_0x22a25e(0x3b2)])(_0x22a25e(0x2b3),{'shell':!0x0});_0x2b854f['stdout']['on']('data',_0x321880=>{const _0x2334f7=_0x22a25e;console['log'](_0x2334f7(0x1f0)+_0x321880);}),_0x2b854f['stderr']['on'](_0x22a25e(0x43c),_0x26fbb2=>{const _0xa682f9=_0x22a25e;console[_0xa682f9(0x362)](_0xa682f9(0x1a3)+_0x26fbb2);}),_0x2b854f['on'](_0x22a25e(0x2f4),_0x2ff22d=>{const _0x86f2e=_0x22a25e;_0x2ff22d!==0x0?console['error']('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x2ff22d):console['log'](_0x86f2e(0xb3)),console[_0x86f2e(0x247)](_0x86f2e(0x230)),setTimeout(()=>process[_0x86f2e(0x2f4)](),0x2710);});}var qo=Ae[a0_0x3c797d(0x580)][a0_0x3c797d(0x530)](__dirname,a0_0x3c797d(0xda));async function Vo(_0x3b6159,_0x419070){const _0x444e79=a0_0x3c797d;let _0x36ddee=Go();_0x3b6159=_0x3b6159[_0x444e79(0x6d3)](_0x444e79(0x666),'');try{let _0x4f2024=de[_0x444e79(0x580)][_0x444e79(0x241)](_0x419070,_0x444e79(0x60b));_0x4f2024=_0x4f2024[_0x444e79(0x6d3)](/<apikey>/,_0x36ddee),_0x4f2024=_0x4f2024[_0x444e79(0x6d3)](/<subdomain>/g,_0x3b6159),de['default'][_0x444e79(0x61b)](_0x419070,_0x4f2024,_0x444e79(0x60b)),console['log']('Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.');}catch(_0x3a6f22){console['error'](_0x444e79(0x48c),_0x3a6f22);}}function Bo(_0x1b82d5,_0x4c6170){return new Promise((_0x454d19,_0x17e6ee)=>{const _0x2060a8=a0_0x14cd;let _0x2791a6=(0x0,Oe[_0x2060a8(0x3b2)])('certbot',['certonly','--standalone','-m',_0x1b82d5,_0x2060a8(0x49e),'-d',_0x4c6170]);_0x2791a6['stdout']['on']('data',_0x5df8ed=>{const _0x8da205=_0x2060a8;console[_0x8da205(0x247)]('Certbot:\x20'+_0x5df8ed['toString']());}),_0x2791a6['stderr']['on'](_0x2060a8(0x43c),_0x3a9bff=>{const _0xc97f73=_0x2060a8;console[_0xc97f73(0x362)]('Erro\x20do\x20Certbot:\x20'+_0x3a9bff[_0xc97f73(0x509)]());}),_0x2791a6['on'](_0x2060a8(0x137),_0x4e091d=>{const _0x523ad5=_0x2060a8;_0x4e091d!==0x0?(console['error']('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x4e091d),_0x17e6ee('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x4e091d)):(console[_0x523ad5(0x247)]('Certbot\x20executado\x20com\x20sucesso.'),_0x454d19());});});}function Go(_0x57af2e=0x32){const _0x25b861=a0_0x3c797d;let _0x539279=_0x25b861(0x2be),_0x3a0af8='';for(let _0x550286=0x0;_0x550286<_0x57af2e;_0x550286++)_0x3a0af8+=_0x539279[_0x25b861(0x493)](Math['floor'](Math[_0x25b861(0x3c3)]()*_0x539279[_0x25b861(0x234)]));return _0x3a0af8;}function Wo(){const _0x45cf5d=a0_0x3c797d;(0x0,Oe['exec'])(_0x45cf5d(0x17c),(_0x524c97,_0x216e79,_0x397c51)=>{const _0x5535f3=_0x45cf5d;if(_0x524c97){console[_0x5535f3(0x362)](_0x5535f3(0x439)+_0x524c97);return;}if(_0x397c51){console['error'](_0x5535f3(0x528)+_0x397c51);return;}console[_0x5535f3(0x247)](_0x5535f3(0x27c)+_0x216e79);});}0x0&&(module[a0_0x3c797d(0x4ff)]={'subdomain':subdomain});