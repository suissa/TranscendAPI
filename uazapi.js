const a0_0x1fdc58=a0_0x56bb;(function(_0x582f26,_0x174bc2){const _0x30c844=a0_0x56bb,_0x2498cd=_0x582f26();while(!![]){try{const _0x2ac030=parseInt(_0x30c844(0x6e0))/0x1+-parseInt(_0x30c844(0x52e))/0x2*(parseInt(_0x30c844(0x364))/0x3)+parseInt(_0x30c844(0x32c))/0x4*(-parseInt(_0x30c844(0x2dc))/0x5)+-parseInt(_0x30c844(0x321))/0x6*(parseInt(_0x30c844(0x24c))/0x7)+-parseInt(_0x30c844(0x513))/0x8*(parseInt(_0x30c844(0x4bf))/0x9)+parseInt(_0x30c844(0x239))/0xa*(-parseInt(_0x30c844(0x4b9))/0xb)+-parseInt(_0x30c844(0x480))/0xc*(-parseInt(_0x30c844(0x244))/0xd);if(_0x2ac030===_0x174bc2)break;else _0x2498cd['push'](_0x2498cd['shift']());}catch(_0x499c9b){_0x2498cd['push'](_0x2498cd['shift']());}}}(a0_0x45ca,0xe6c54));var Lo=Object[a0_0x1fdc58(0x3ab)],Ls=Object[a0_0x1fdc58(0x5c3)],Uo=Object['getOwnPropertyDescriptor'],Vo=Object['getOwnPropertyNames'],jo=Object[a0_0x1fdc58(0x232)],Bo=Object[a0_0x1fdc58(0x1fd)]['hasOwnProperty'],Fo=(_0x13be2c,_0x3f5877,_0x49ca94,_0x5e0a1b)=>{const _0x58e549=a0_0x1fdc58;if(_0x3f5877&&typeof _0x3f5877==_0x58e549(0x4fa)||typeof _0x3f5877==_0x58e549(0x277)){for(let _0x5e72c7 of Vo(_0x3f5877))!Bo[_0x58e549(0x183)](_0x13be2c,_0x5e72c7)&&_0x5e72c7!==_0x49ca94&&Ls(_0x13be2c,_0x5e72c7,{'get':()=>_0x3f5877[_0x5e72c7],'enumerable':!(_0x5e0a1b=Uo(_0x3f5877,_0x5e72c7))||_0x5e0a1b[_0x58e549(0x689)]});}return _0x13be2c;},T=(_0x363745,_0x453966,_0x3a19da)=>(_0x3a19da=_0x363745!=null?Lo(jo(_0x363745)):{},Fo(_0x453966||!_0x363745||!_0x363745[a0_0x1fdc58(0x185)]?Ls(_0x3a19da,a0_0x1fdc58(0x4ab),{'value':_0x363745,'enumerable':!0x0}):_0x3a19da,_0x363745)),Io=T(require(a0_0x1fdc58(0x318))),Vs=require('fs'),js=require('js-yaml'),Bs=require(a0_0x1fdc58(0x2a3)),Ue=require('path'),z=process[a0_0x1fdc58(0x243)](),V=(0x0,Ue[a0_0x1fdc58(0x567)])(z,a0_0x1fdc58(0x5bc)),Us=(0x0,Ue[a0_0x1fdc58(0x567)])(z,'src'),Qt=(0x0,Ue['join'])(z,'store',a0_0x1fdc58(0x3ea)),Fs=require(a0_0x1fdc58(0x5d4)),Yt=class{constructor(){const _0x24e4fe=a0_0x1fdc58;this[_0x24e4fe(0x5d8)]();}[a0_0x1fdc58(0x496)](_0x3bc37f){return this['env'][_0x3bc37f];}[a0_0x1fdc58(0x5d8)](){const _0x22ba51=a0_0x1fdc58;this[_0x22ba51(0x5f3)]=process[_0x22ba51(0x5f3)]?.[_0x22ba51(0x67b)]!==_0x22ba51(0x5a6)?this[_0x22ba51(0x3d8)]():this[_0x22ba51(0x1e4)](),this[_0x22ba51(0x5f3)][_0x22ba51(0x1ee)]=process[_0x22ba51(0x5f3)]?.['NODE_ENV']===_0x22ba51(0x22d),process[_0x22ba51(0x5f3)]?.[_0x22ba51(0x67b)]===_0x22ba51(0x5a6)&&(this[_0x22ba51(0x5f3)][_0x22ba51(0x666)][_0x22ba51(0x692)]=_0x22ba51(0x2d2),this[_0x22ba51(0x5f3)][_0x22ba51(0x666)][_0x22ba51(0x383)]=Number[_0x22ba51(0x5d2)](process[_0x22ba51(0x5f3)]?.['SERVER_PORT']??'8080'));}[a0_0x1fdc58(0x3d8)](){const _0xa011dd=a0_0x1fdc58;return(0x0,js['load'])((0x0,Vs[_0xa011dd(0x426)])((0x0,Bs[_0xa011dd(0x567)])(Us,_0xa011dd(0x40e)),{'encoding':_0xa011dd(0x359)}));}[a0_0x1fdc58(0x1e4)](){const _0x4619e1=a0_0x1fdc58;return{'SERVER':{'TYPE':process['env'][_0x4619e1(0x48f)],'PORT':Number[_0x4619e1(0x5d2)](process[_0x4619e1(0x5f3)]['SERVER_PORT'])},'CORS':{'ORIGIN':process[_0x4619e1(0x5f3)][_0x4619e1(0x395)][_0x4619e1(0x296)](','),'METHODS':process[_0x4619e1(0x5f3)][_0x4619e1(0x56b)][_0x4619e1(0x296)](','),'CREDENTIALS':process[_0x4619e1(0x5f3)]?.[_0x4619e1(0x60f)]===_0x4619e1(0x5a6)},'SSL_CONF':{'PRIVKEY':process[_0x4619e1(0x5f3)]?.[_0x4619e1(0x62c)],'FULLCHAIN':process[_0x4619e1(0x5f3)]?.[_0x4619e1(0x605)]},'STORE':{'CLEANING_INTERVAL':Number[_0x4619e1(0x260)](process[_0x4619e1(0x5f3)]?.[_0x4619e1(0x556)])?Number[_0x4619e1(0x5d2)](process[_0x4619e1(0x5f3)][_0x4619e1(0x556)]):void 0x0,'MESSAGES':process[_0x4619e1(0x5f3)]?.[_0x4619e1(0x13f)]===_0x4619e1(0x5a6),'CONTACTS':process[_0x4619e1(0x5f3)]?.[_0x4619e1(0x406)]===_0x4619e1(0x5a6),'CHATS':process[_0x4619e1(0x5f3)]?.[_0x4619e1(0x609)]===_0x4619e1(0x5a6)},'DATABASE':{'CONNECTION':{'HOST':process['env']?.[_0x4619e1(0x227)],'PORT':Number[_0x4619e1(0x5d2)](process['env']?.[_0x4619e1(0x227)]),'USER':process[_0x4619e1(0x5f3)]['DATABASE_CONNECTION_USER'],'PASSWORD':process['env'][_0x4619e1(0x59b)],'URI':process[_0x4619e1(0x5f3)][_0x4619e1(0x279)],'DB_PREFIX_NAME':process['env']['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process['env']?.[_0x4619e1(0x504)]===_0x4619e1(0x5a6)},'REDIS':{'ENABLED':process[_0x4619e1(0x5f3)]?.[_0x4619e1(0x149)]===_0x4619e1(0x5a6),'URI':process[_0x4619e1(0x5f3)][_0x4619e1(0x5df)],'PREFIX_KEY':process[_0x4619e1(0x5f3)][_0x4619e1(0x3ca)]},'LOG':{'LEVEL':process[_0x4619e1(0x5f3)]?.[_0x4619e1(0x5d1)][_0x4619e1(0x296)](','),'COLOR':process['env']?.[_0x4619e1(0x2f3)]==='true'},'DEL_INSTANCE':(0x0,Fs[_0x4619e1(0x46b)])(process['env']?.[_0x4619e1(0x1d2)])?process[_0x4619e1(0x5f3)][_0x4619e1(0x1d2)]===_0x4619e1(0x5a6):Number[_0x4619e1(0x5d2)](process['env'][_0x4619e1(0x1d2)])||!0x1,'WEBHOOK':{'WEBHOOK_MAP':process['env']['WEBHOOK_MAP']?process['env']['WEBHOOK_MAP']===_0x4619e1(0x5a6):!0x1,'GLOBAL':{'URL':process[_0x4619e1(0x5f3)]?.[_0x4619e1(0x2f5)],'ENABLED':process[_0x4619e1(0x5f3)]?.['WEBHOOK_GLOBAL_ENABLED']===_0x4619e1(0x5a6)},'EVENTS':{'STATUS_INSTANCE':process['env']?.[_0x4619e1(0x20e)]===_0x4619e1(0x5a6),'QRCODE_UPDATED':process['env']?.[_0x4619e1(0x41b)]===_0x4619e1(0x5a6),'MESSAGES_SET':process[_0x4619e1(0x5f3)]?.[_0x4619e1(0x1dd)]==='true','MESSAGES_UPSERT':process[_0x4619e1(0x5f3)]?.[_0x4619e1(0x458)]==='true','MESSAGES_UPDATE':process['env']?.['WEBHOOK_EVENTS_MESSAGES_UPDATE']===_0x4619e1(0x5a6),'SEND_MESSAGE':process[_0x4619e1(0x5f3)]?.['WEBHOOK_EVENTS_SEND_MESSAGE']===_0x4619e1(0x5a6),'CONTACTS_SET':process[_0x4619e1(0x5f3)]?.[_0x4619e1(0x38a)]===_0x4619e1(0x5a6),'CONTACTS_UPDATE':process[_0x4619e1(0x5f3)]?.['WEBHOOK_EVENTS_CONTACTS_UPDATE']===_0x4619e1(0x5a6),'CONTACTS_UPSERT':process[_0x4619e1(0x5f3)]?.[_0x4619e1(0x6d6)]==='true','PRESENCE_UPDATE':process[_0x4619e1(0x5f3)]?.[_0x4619e1(0x30c)]==='true','CHATS_SET':process[_0x4619e1(0x5f3)]?.[_0x4619e1(0x601)]==='true','CHATS_UPDATE':process[_0x4619e1(0x5f3)]?.['WEBHOOK_EVENTS_CHATS_UPDATE']===_0x4619e1(0x5a6),'CHATS_UPSERT':process['env']?.[_0x4619e1(0x6d7)]===_0x4619e1(0x5a6),'CHATS_DELETE':process[_0x4619e1(0x5f3)]?.['WEBHOOK_EVENTS_CHATS_DELETE']==='true','CONNECTION_UPDATE':process[_0x4619e1(0x5f3)]?.[_0x4619e1(0x1d5)]===_0x4619e1(0x5a6),'GROUPS_UPSERT':process[_0x4619e1(0x5f3)]?.['WEBHOOK_EVENTS_GROUPS_UPSERT']===_0x4619e1(0x5a6),'GROUP_UPDATE':process[_0x4619e1(0x5f3)]?.['WEBHOOK_EVENTS_GROUPS_UPDATE']===_0x4619e1(0x5a6),'GROUP_PARTICIPANTS_UPDATE':process[_0x4619e1(0x5f3)]?.[_0x4619e1(0x3cf)]===_0x4619e1(0x5a6),'NEW_JWT_TOKEN':process[_0x4619e1(0x5f3)]?.[_0x4619e1(0x3c8)]==='true'}},'CONFIG_SESSION_PHONE':{'CLIENT':process[_0x4619e1(0x5f3)]?.[_0x4619e1(0x653)]||_0x4619e1(0x494),'NAME':process[_0x4619e1(0x5f3)]?.[_0x4619e1(0x2ca)]||_0x4619e1(0x586)},'QRCODE':{'LIMIT':Number[_0x4619e1(0x5d2)](process['env'][_0x4619e1(0x3a0)])||0x5},'TRIAL_AD':process[_0x4619e1(0x5f3)]?.[_0x4619e1(0x19b)],'TRIAL_INSTANCE_NAME':process[_0x4619e1(0x5f3)]?.['TRIAL_INSTANCE_NAME'],'AUTOUPDATE':process[_0x4619e1(0x5f3)]?.['AUTOUPDATE']==='true','PHONE':process[_0x4619e1(0x5f3)]?.['PHONE'],'AUTHENTICATION':{'TYPE':process['env'][_0x4619e1(0x60e)],'API_KEY':{'KEY':process[_0x4619e1(0x5f3)][_0x4619e1(0x2ee)]},'JWT':{'EXPIRIN_IN':Number[_0x4619e1(0x260)](process[_0x4619e1(0x5f3)]?.[_0x4619e1(0x3ec)])?Number[_0x4619e1(0x5d2)](process[_0x4619e1(0x5f3)][_0x4619e1(0x3ec)]):0xe10,'SECRET':process[_0x4619e1(0x5f3)][_0x4619e1(0x530)]}}};}},y=new Yt(),Do=T(require(a0_0x1fdc58(0x207))),me=T(require(a0_0x1fdc58(0x3b8))),Ps=require(a0_0x1fdc58(0x2a3)),Xt=T(require(a0_0x1fdc58(0x485))),Zt=(_0x26cccc=>(_0x26cccc[a0_0x1fdc58(0x3b3)]=a0_0x1fdc58(0x648),_0x26cccc[a0_0x1fdc58(0x4a5)]=a0_0x1fdc58(0x253),_0x26cccc[a0_0x1fdc58(0x1be)]=a0_0x1fdc58(0x2a4),_0x26cccc['ERROR']=a0_0x1fdc58(0x4f0),_0x26cccc[a0_0x1fdc58(0x2a0)]='\x1b[36m',_0x26cccc[a0_0x1fdc58(0x181)]=a0_0x1fdc58(0x6a7),_0x26cccc['DARK']=a0_0x1fdc58(0x354),_0x26cccc))(Zt||{}),Gs=(_0x10ad1d=>(_0x10ad1d['LOG']=a0_0x1fdc58(0x1e0),_0x10ad1d[a0_0x1fdc58(0x2ea)]=a0_0x1fdc58(0x511),_0x10ad1d[a0_0x1fdc58(0x4a5)]='\x1b[34m%s\x1b[0m',_0x10ad1d[a0_0x1fdc58(0x1be)]=a0_0x1fdc58(0x55b),_0x10ad1d['ERROR']=a0_0x1fdc58(0x1da),_0x10ad1d[a0_0x1fdc58(0x2a0)]=a0_0x1fdc58(0x206),_0x10ad1d[a0_0x1fdc58(0x181)]='\x1b[37m%s\x1b[0m',_0x10ad1d))(Gs||{}),Js=(_0x51db8b=>(_0x51db8b[a0_0x1fdc58(0x3b3)]='LOG',_0x51db8b['WARN']='WARN',_0x51db8b['INFO']=a0_0x1fdc58(0x4a5),_0x51db8b[a0_0x1fdc58(0x2ea)]=a0_0x1fdc58(0x2ea),_0x51db8b[a0_0x1fdc58(0x327)]='ERROR',_0x51db8b[a0_0x1fdc58(0x2a0)]=a0_0x1fdc58(0x2a0),_0x51db8b[a0_0x1fdc58(0x181)]='VERBOSE',_0x51db8b))(Js||{}),qs=(_0x3431b8=>(_0x3431b8[a0_0x1fdc58(0x3b3)]='\x1b[42m',_0x3431b8[a0_0x1fdc58(0x4a5)]=a0_0x1fdc58(0x1af),_0x3431b8[a0_0x1fdc58(0x1be)]=a0_0x1fdc58(0x5a5),_0x3431b8[a0_0x1fdc58(0x2ea)]=a0_0x1fdc58(0x6c9),_0x3431b8['ERROR']='\x1b[41m',_0x3431b8[a0_0x1fdc58(0x2a0)]=a0_0x1fdc58(0x167),_0x3431b8[a0_0x1fdc58(0x181)]=a0_0x1fdc58(0x2ef),_0x3431b8))(qs||{}),v=class{constructor(_0x3ab764=a0_0x1fdc58(0x411)){const _0x34335b=a0_0x1fdc58;this['context']=_0x3ab764,this[_0x34335b(0x2fc)]=y;}[a0_0x1fdc58(0x450)](_0x1c43c8){const _0x152a20=a0_0x1fdc58;this[_0x152a20(0x571)]=_0x1c43c8;}[a0_0x1fdc58(0x5c5)](_0x1751bc,_0x1ba149){const _0x57e784=a0_0x1fdc58;let _0xecb569=[];this[_0x57e784(0x2fc)]['get'](_0x57e784(0x3b3))['LEVEL'][_0x57e784(0x44b)](_0x524dad=>_0xecb569[_0x57e784(0x1b4)](Js[_0x524dad]));let _0x4c7f35=typeof _0x1751bc;_0xecb569[_0x57e784(0x459)](_0x1ba149)&&(y[_0x57e784(0x496)]('LOG')[_0x57e784(0x1a6)]?(console[_0x57e784(0x37c)](_0x57e784(0x5dd)+Gs[_0x1ba149],_0x57e784(0x213),(0x0,Xt['default'])()[_0x57e784(0x5f5)]('DD/MM\x20HH:mm:ss'),'\x1b[0m',Zt[_0x1ba149]+qs[_0x1ba149]+_0x57e784(0x5dd),_0x1ba149+_0x57e784(0x21d),_0x57e784(0x33f),this[_0x57e784(0x571)]+_0x57e784(0x4be),Zt[_0x1ba149],_0x4c7f35!=='object'?_0x1751bc:'',_0x57e784(0x4be)),_0x4c7f35===_0x57e784(0x4fa)&&console['log'](_0x1751bc,'\x0a')):console[_0x57e784(0x37c)]((0x0,Xt[_0x57e784(0x4ab)])()[_0x57e784(0x5f5)](_0x57e784(0x35f)),_0x1ba149+'\x20',''+this[_0x57e784(0x571)],_0x1751bc));}[a0_0x1fdc58(0x37c)](_0x29ed7f){const _0x2c2711=a0_0x1fdc58;this['console'](_0x29ed7f,_0x2c2711(0x3b3));}[a0_0x1fdc58(0x2b8)](_0x34d634){const _0x25d116=a0_0x1fdc58;this[_0x25d116(0x5c5)](_0x34d634,_0x25d116(0x4a5));}[a0_0x1fdc58(0x46f)](_0x1b5547){const _0x3c2346=a0_0x1fdc58;this['console'](_0x1b5547,_0x3c2346(0x1be));}['error'](_0x2fb584){const _0x44ee81=a0_0x1fdc58;this[_0x44ee81(0x5c5)](_0x2fb584,_0x44ee81(0x327));}[a0_0x1fdc58(0x691)](_0x4f29ce){this['console'](_0x4f29ce,'VERBOSE');}[a0_0x1fdc58(0x3b4)](_0x1819f5){const _0x3ac917=a0_0x1fdc58;this[_0x3ac917(0x5c5)](_0x1819f5,'DEBUG');}[a0_0x1fdc58(0x187)](_0x24a4af){const _0x1ed7c0=a0_0x1fdc58;this[_0x1ed7c0(0x5c5)](_0x24a4af,_0x1ed7c0(0x2ea));}};function Ws(){const _0x4d896f=a0_0x1fdc58;process['on']('uncaughtException',(_0x8db57,_0x554870)=>{const _0x45d7ef=a0_0x56bb;new v(_0x45d7ef(0x2c9))['error']({'origin':_0x554870,'stderr':process[_0x45d7ef(0x6b1)]['fd'],'error':_0x8db57});}),process['on'](_0x4d896f(0x460),(_0x4a911d,_0x27606d)=>{const _0x1f5a6f=_0x4d896f;new v(_0x1f5a6f(0x460))[_0x1f5a6f(0x484)]({'origin':_0x27606d,'stderr':process[_0x1f5a6f(0x6b1)]['fd'],'error':_0x4a911d});});}var Hs=T(require(a0_0x1fdc58(0x5e4))),es=new Hs[(a0_0x1fdc58(0x4ab))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),ce=require(a0_0x1fdc58(0x2a3)),ge=require('fs'),ts=require(a0_0x1fdc58(0x2a3)),j=class{constructor(_0x2fe8d9){const _0x5b57ce=a0_0x1fdc58;this[_0x5b57ce(0x5ea)]=(0x0,ts[_0x5b57ce(0x567)])(z,_0x5b57ce(0x560)),this[_0x5b57ce(0x5ae)]=_0x52f9d2=>{const _0x18e1fe=_0x5b57ce;(0x0,ge['existsSync'])(_0x52f9d2['path'])||(0x0,ge[_0x18e1fe(0x2ec)])(_0x52f9d2[_0x18e1fe(0x2a3)],{'recursive':!0x0});try{return(0x0,ge[_0x18e1fe(0x50c)])((0x0,ts[_0x18e1fe(0x567)])(_0x52f9d2[_0x18e1fe(0x2a3)],_0x52f9d2['fileName']+_0x18e1fe(0x631)),JSON[_0x18e1fe(0x1b7)]({..._0x52f9d2[_0x18e1fe(0x461)]}),{'encoding':_0x18e1fe(0x359)}),{'message':'create\x20-\x20success'};}finally{_0x52f9d2[_0x18e1fe(0x461)]=void 0x0;}},this[_0x5b57ce(0x4f1)]=_0x2fe8d9[_0x5b57ce(0x496)](_0x5b57ce(0x2f2));}[a0_0x1fdc58(0x5ff)](_0x3ff035,_0x2fe572=!0x1){throw new Error('Method\x20not\x20implemented.');}[a0_0x1fdc58(0x192)](_0x58736a){const _0x23e19c=a0_0x1fdc58;throw new Error(_0x23e19c(0x6a2));}[a0_0x1fdc58(0x2ab)](_0x58b581,_0x387ad8){const _0x53dfb5=a0_0x1fdc58;throw new Error(_0x53dfb5(0x6a2));}},se=require('fs'),Ve=class{},je=class extends j{constructor(_0xe0a2e1,_0x577529){const _0x3327d1=a0_0x1fdc58;super(_0x577529),this[_0x3327d1(0x65d)]=_0xe0a2e1,this[_0x3327d1(0x2fc)]=_0x577529;}async[a0_0x1fdc58(0x5ff)](_0x5c584a,_0x45493a=!0x1){const _0x340756=a0_0x1fdc58;if(_0x5c584a[_0x340756(0x6b4)]!==0x0)try{return this[_0x340756(0x4f1)]['ENABLED']&&_0x45493a?{'insertCount':(await this[_0x340756(0x65d)]['insertMany']([..._0x5c584a]))[_0x340756(0x6b4)]}:_0x45493a?(_0x5c584a[_0x340756(0x44b)](_0x40e167=>this[_0x340756(0x5ae)]({'path':(0x0,ce['join'])(this[_0x340756(0x5ea)],_0x340756(0x1cc),_0x40e167[_0x340756(0x3b7)]),'fileName':_0x40e167[_0x340756(0x267)]['id'],'data':_0x40e167})),{'insertCount':_0x5c584a[_0x340756(0x6b4)]}):{'insertCount':0x0};}catch(_0x2ad69f){return console['log'](_0x340756(0x2a9),_0x2ad69f),_0x2ad69f;}finally{_0x5c584a=void 0x0;}}async['find'](_0x9ef6ac){const _0x5083c4=a0_0x1fdc58;try{if(this[_0x5083c4(0x4f1)][_0x5083c4(0x657)]){if(_0x9ef6ac?.[_0x5083c4(0x5d9)]?.[_0x5083c4(0x267)]){for(let [_0x39148f,_0x80a2fa]of Object[_0x5083c4(0x140)](_0x9ef6ac[_0x5083c4(0x5d9)][_0x5083c4(0x267)]))_0x9ef6ac[_0x5083c4(0x5d9)][_0x5083c4(0x49d)+_0x39148f]=_0x80a2fa;delete _0x9ef6ac?.['where']?.[_0x5083c4(0x267)];}return await this[_0x5083c4(0x65d)]['find']({..._0x9ef6ac[_0x5083c4(0x5d9)]})[_0x5083c4(0x343)]({'messageTimestamp':-0x1})[_0x5083c4(0x200)](_0x9ef6ac?.[_0x5083c4(0x200)]??0x0);}let _0x357e68=[];if(_0x9ef6ac?.[_0x5083c4(0x5d9)]?.['key']?.['id'])_0x357e68[_0x5083c4(0x1b4)](JSON['parse']((0x0,se[_0x5083c4(0x426)])((0x0,ce['join'])(this[_0x5083c4(0x5ea)],_0x5083c4(0x1cc),_0x9ef6ac[_0x5083c4(0x5d9)][_0x5083c4(0x3b7)],_0x9ef6ac['where'][_0x5083c4(0x267)]['id']+_0x5083c4(0x631)),{'encoding':_0x5083c4(0x359)})));else{let _0x4181f9=(0x0,se[_0x5083c4(0x3d5)])((0x0,ce['join'])(this['storePath'],'messages',_0x9ef6ac[_0x5083c4(0x5d9)]['owner']),{'encoding':_0x5083c4(0x359)});for await(let _0x2f087e of _0x4181f9)_0x2f087e[_0x5083c4(0x1f9)]()&&_0x357e68['push'](JSON[_0x5083c4(0x59c)]((0x0,se[_0x5083c4(0x426)])((0x0,ce['join'])(this[_0x5083c4(0x5ea)],'messages',_0x9ef6ac[_0x5083c4(0x5d9)]['owner'],_0x2f087e['name']),{'encoding':_0x5083c4(0x359)})));}return _0x357e68[_0x5083c4(0x343)]((_0x1b34e6,_0x76056c)=>_0x76056c[_0x5083c4(0x6f9)]-_0x1b34e6[_0x5083c4(0x6f9)])[_0x5083c4(0x1c4)](0x0,_0x9ef6ac?.['limit']??_0x357e68['length']);}catch{return[];}}async['delete'](_0x341b3a){const _0xa1f81c=a0_0x1fdc58;try{if(this[_0xa1f81c(0x4f1)][_0xa1f81c(0x657)])await this[_0xa1f81c(0x65d)]['deleteMany']({..._0x341b3a['where']});else{let {owner:_0x4ba6ee}=_0x341b3a[_0xa1f81c(0x5d9)];(0x0,se[_0xa1f81c(0x57f)])((0x0,ce[_0xa1f81c(0x567)])(this['storePath'],_0xa1f81c(0x1cc),_0x4ba6ee))[_0xa1f81c(0x44b)](_0x114a69=>{const _0x5696ee=_0xa1f81c;let _0x497601=(0x0,ce[_0x5696ee(0x567)])(this['storePath'],'messages',_0x4ba6ee,_0x114a69);(0x0,se[_0x5696ee(0x2a5)])(_0x497601);});}}catch(_0xd2d117){console[_0xa1f81c(0x484)](_0xd2d117);}}async[a0_0x1fdc58(0x1a4)](_0x59fd07,_0x3dddc6){const _0x1a7c1a=a0_0x1fdc58;try{let _0x14b7cb=null;if(this['dbSettings'][_0x1a7c1a(0x657)])return _0x14b7cb=await this[_0x1a7c1a(0x65d)][_0x1a7c1a(0x1c5)]({..._0x59fd07['where']},{'$set':_0x3dddc6},{'new':!0x0}),_0x14b7cb;}catch(_0x3773b0){throw console[_0x1a7c1a(0x484)](_0x3773b0),_0x3773b0;}}async[a0_0x1fdc58(0x2e7)](_0xe12677,_0x140fac=!0x1){const _0x1d1c2=a0_0x1fdc58;if(_0xe12677[_0x1d1c2(0x6b4)]!==0x0)try{return this[_0x1d1c2(0x4f1)]['ENABLED']&&_0x140fac?{'insertCount':(await this[_0x1d1c2(0x65d)][_0x1d1c2(0x2e7)]([..._0xe12677]))[_0x1d1c2(0x6b4)]}:_0x140fac?(_0xe12677[_0x1d1c2(0x44b)](_0x452724=>this[_0x1d1c2(0x5ae)]({'path':(0x0,ce[_0x1d1c2(0x567)])(this[_0x1d1c2(0x5ea)],_0x1d1c2(0x1cc),_0x452724[_0x1d1c2(0x3b7)]),'fileName':_0x452724[_0x1d1c2(0x267)]['id'],'data':_0x452724})),{'insertCount':_0xe12677['length']}):{'insertCount':0x0};}catch(_0x5e9d37){return console[_0x1d1c2(0x37c)](_0x1d1c2(0x2a9),_0x5e9d37),_0x5e9d37;}finally{_0xe12677=void 0x0;}}},ee=require('fs'),w=T(require('@whiskeysockets/baileys')),_e=require('fs'),Z=T(require(a0_0x1fdc58(0x2a3))),le=T(require(a0_0x1fdc58(0x3f1))),io=require(a0_0x1fdc58(0x231)),ro=T(require(a0_0x1fdc58(0x56d))),no=T(require(a0_0x1fdc58(0x1eb))),Ks=[a0_0x1fdc58(0x179),a0_0x1fdc58(0x180),a0_0x1fdc58(0x612),a0_0x1fdc58(0x235),a0_0x1fdc58(0x1bc)],zs=[a0_0x1fdc58(0x380),a0_0x1fdc58(0x69e),a0_0x1fdc58(0x429),a0_0x1fdc58(0x151)],co=require('os'),$t=T(require('pino')),lo=require('child_process'),bs=require(a0_0x1fdc58(0x6a3)),Be=require(a0_0x1fdc58(0x2f8)),ss=T(require('mongoose')),Qs=new v('Db\x20Connection'),F=y['get']('DATABASE'),M=F[a0_0x1fdc58(0x657)]?F[a0_0x1fdc58(0x335)]['URI']?ss['default'][a0_0x1fdc58(0x6a4)](F[a0_0x1fdc58(0x335)][a0_0x1fdc58(0x50f)],{'dbName':F[a0_0x1fdc58(0x335)]['DB_PREFIX_NAME']+a0_0x1fdc58(0x308)}):ss[a0_0x1fdc58(0x4ab)][a0_0x1fdc58(0x6a4)](a0_0x1fdc58(0x3c0)+F['CONNECTION'][a0_0x1fdc58(0x23b)]+':'+F[a0_0x1fdc58(0x335)][a0_0x1fdc58(0x383)]+a0_0x1fdc58(0x2bc),{'user':F[a0_0x1fdc58(0x335)][a0_0x1fdc58(0x6d5)],'pass':F['CONNECTION'][a0_0x1fdc58(0x69b)],'dbName':F[a0_0x1fdc58(0x335)][a0_0x1fdc58(0x416)]+a0_0x1fdc58(0x308)}):null;F['ENABLED']&&Qs[a0_0x1fdc58(0x2b8)]('ON\x20-\x20dbName:\x20'+M['$dbName']);async function Go(){const _0x314203=a0_0x1fdc58;await I[_0x314203(0x6a0)]({'leadInfo.tags':{'$exists':!0x1}},{'$set':{'leadInfo.tags':[]}}),await I[_0x314203(0x6a0)]({'leadInfo.customFields':{'$exists':!0x1}},{'$set':{'leadInfo.customFields':[]}}),await I[_0x314203(0x6a0)]({},{'$unset':{'lastUpdate':0x1,'lastMsgUpdate':0x1}});}M?.['on'](a0_0x1fdc58(0x4ac),()=>{const _0x1c2b78=a0_0x1fdc58;I&&Go()['catch'](_0x279aba=>Qs[_0x1c2b78(0x484)](_0x1c2b78(0x67f)+_0x279aba));});var as=class{},Jo=new Be[(a0_0x1fdc58(0x1c1))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),qo=new Be['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Jo],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Wo=new Be[(a0_0x1fdc58(0x1c1))]({'_id':{'type':String,'_id':!0x0},'id':{'type':String,'required':!0x0,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'contactname':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number},'unreadcount':{'type':Number},'lastcache':{'type':Number},'leadInfo':{'type':qo,'default':{}},'lastUpdate':{'type':Number},'lastMsgUpdate':{'type':Number}}),I=M?.[a0_0x1fdc58(0x1fc)](as['name'],Wo,a0_0x1fdc58(0x228)),Ys=require(a0_0x1fdc58(0x2f8)),os=class{},Ho=new Ys[(a0_0x1fdc58(0x1c1))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'id':{'type':String,'required':!0x0,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Fe=M?.[a0_0x1fdc58(0x1fc)](os[a0_0x1fdc58(0x5e8)],Ho,a0_0x1fdc58(0x1b1)),O=require(a0_0x1fdc58(0x2f8)),Xs=new O[(a0_0x1fdc58(0x1c1))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),is=new O[(a0_0x1fdc58(0x1c1))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Ko=new O[(a0_0x1fdc58(0x1c1))]({'command':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'pollErrorMessage':{'type':String,'default':a0_0x1fdc58(0x69c)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Zs=new O[(a0_0x1fdc58(0x1c1))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ea=new O[(a0_0x1fdc58(0x1c1))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),zo=new O[(a0_0x1fdc58(0x1c1))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ta=new O[(a0_0x1fdc58(0x1c1))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Ko},'apirequest':ea,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ds=new O[(a0_0x1fdc58(0x1c1))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),sa=new O[(a0_0x1fdc58(0x1c1))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),rs=class{},aa=new O[(a0_0x1fdc58(0x1c1))]({'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x5c7337=a0_0x1fdc58;return _0x5c7337(0x4e6)+Math[_0x5c7337(0x2d1)]()[_0x5c7337(0x686)](0x24)[_0x5c7337(0x1b3)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ds],'variablesNotFound':{'type':[String]},'blocks':[ta],'groups':[Xs],'conditions':[Zs],'varedits':[sa],'replyOptions':{'type':[is],'default':[]}});aa[a0_0x1fdc58(0x412)](a0_0x1fdc58(0x5b1),function(_0x2e7319){const _0x1e14e9=a0_0x1fdc58;let _0x595ae8=new Set(),_0x5cc207=new Set(this['variables']?.[_0x1e14e9(0x634)](_0x2447d3=>_0x2447d3[_0x1e14e9(0x5e8)])),_0x465368=JSON['stringify'](this),_0x88971e=/{{(?!_)([^}]*)}}/g,_0x11cda2;for(;(_0x11cda2=_0x88971e[_0x1e14e9(0x415)](_0x465368))!==null;)_0x5cc207['has'](_0x11cda2[0x1])||_0x595ae8['add'](_0x11cda2[0x1]);_0x595ae8[_0x1e14e9(0x367)]>0x0?(console[_0x1e14e9(0x46f)](_0x1e14e9(0x658),Array[_0x1e14e9(0x21c)](_0x595ae8)),this['variablesNotFound']=Array[_0x1e14e9(0x21c)](_0x595ae8)):this[_0x1e14e9(0x58a)]=[],_0x2e7319();});var D=M?.[a0_0x1fdc58(0x1fc)](rs[a0_0x1fdc58(0x5e8)],aa,a0_0x1fdc58(0x28c)),Qo=new O[(a0_0x1fdc58(0x1c1))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ds],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[zo]},{'_id':!0x1}),ns=class{},Yo=new O[(a0_0x1fdc58(0x1c1))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ds],'blocks':[ta],'groups':[Xs],'conditions':[Zs],'varedits':[sa],'replyOptions':{'type':[is],'default':[]},'chatLog':Qo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x1fdc58(0x384)},'waitingPoll_id':{'type':String},'waitingPoll_name':{'type':String},'waitingPoll_replyOptions':{'type':[is],'default':[]}}),G=M?.['model'](ns[a0_0x1fdc58(0x5e8)],Yo,a0_0x1fdc58(0x195)),cs=class{},Xo=new O[(a0_0x1fdc58(0x1c1))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),Zo=new O[(a0_0x1fdc58(0x1c1))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x1fdc58(0x517)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Xo,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Object],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),k=M?.['model'](cs[a0_0x1fdc58(0x5e8)],Zo,'scheduleMessages'),ls=class{},ei=new O[(a0_0x1fdc58(0x1c1))]({'name':{'type':String},'requests':[ea],'owner':{'type':String}}),Zr=M?.[a0_0x1fdc58(0x1fc)](ls[a0_0x1fdc58(0x5e8)],ei,a0_0x1fdc58(0x33b)),us=class{},ti=new O[(a0_0x1fdc58(0x1c1))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),si=new O[(a0_0x1fdc58(0x1c1))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x1fdc58(0x62d)},'stopMinutes':{'type':Number,'default':0x14}},{'_id':!0x1}),ai=new O[(a0_0x1fdc58(0x1c1))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),oi=new O['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[ai]},'customFields':{'type':[ti]},'flowConfig':{'type':si,'default':{}}}),ae=M?.[a0_0x1fdc58(0x1fc)](us[a0_0x1fdc58(0x5e8)],oi,a0_0x1fdc58(0x693)),ye=T(require(a0_0x1fdc58(0x2f8))),uo=T(require(a0_0x1fdc58(0x1b6))),po=require(a0_0x1fdc58(0x4a3)),mo=require('stream-buffers'),x=require(a0_0x1fdc58(0x5d4)),he=class{constructor(_0x3a80c5,_0x355e5f,_0x4aad9b){const _0x2d40f5=a0_0x1fdc58;this[_0x2d40f5(0x62f)]=_0x3a80c5,this[_0x2d40f5(0x18a)]=_0x355e5f,this[_0x2d40f5(0x5e8)]=_0x4aad9b;}},Ge=class{},ve=class{},Je=class{},qe=class{},fe=class{},We=class{},He=class{},Ke=class{},ze=class{},Dt=T(require('express')),oa=require('fs'),ia=require('path');async function Qe(_0x14744f){const _0x1774a0=a0_0x1fdc58;let _0x2633d9=B[_0x1774a0(0x592)][_0x14744f];if(F[_0x1774a0(0x657)]){let _0x5485c3=M['getClient']()['db'](F['CONNECTION'][_0x1774a0(0x416)]+_0x1774a0(0x222))['collection'](_0x14744f);return _0x2633d9||(await _0x5485c3[_0x1774a0(0x192)]({})[_0x1774a0(0x488)]())[_0x1774a0(0x6b4)]>0x0;}return _0x2633d9||(0x0,oa[_0x1774a0(0x3f4)])((0x0,ia[_0x1774a0(0x567)])(V,_0x14744f));}async function ps(_0x2a1ff3,_0x370b6f,_0x17ead3){const _0xb925ef=a0_0x1fdc58;if(_0x2a1ff3[_0xb925ef(0x39c)]['includes'](_0xb925ef(0x48d))||_0x2a1ff3['originalUrl'][_0xb925ef(0x459)](_0xb925ef(0x4b8))||_0x2a1ff3[_0xb925ef(0x39c)][_0xb925ef(0x459)](_0xb925ef(0x532)))return _0x17ead3();let _0x1c444b=_0x2a1ff3[_0xb925ef(0x475)];if(!_0x1c444b?.[_0xb925ef(0x6d8)])throw new m(_0xb925ef(0x2d7));if(!await Qe(_0x1c444b['instanceName']))throw new L(_0xb925ef(0x285)+_0x1c444b['instanceName']+_0xb925ef(0x3cb));_0x17ead3();}async function ra(_0x938590,_0x4c592a,_0x3da557){const _0x4d38e7=a0_0x1fdc58;if(_0x938590['originalUrl'][_0x4d38e7(0x459)](_0x4d38e7(0x48d))){let _0x13833c=_0x938590[_0x4d38e7(0x403)];if(await Qe(_0x13833c[_0x4d38e7(0x6d8)]))throw new oe('This\x20name\x20'+_0x13833c['instanceName']+_0x4d38e7(0x44d));B['waInstances'][_0x13833c[_0x4d38e7(0x6d8)]]&&delete B[_0x4d38e7(0x592)][_0x13833c[_0x4d38e7(0x6d8)]];}_0x3da557();}var na=require(a0_0x1fdc58(0x5d4)),ca=T(require(a0_0x1fdc58(0x35b))),Ye=a0_0x1fdc58(0x494),ri=new v(a0_0x1fdc58(0x51b));async function ni(_0x728e1a,_0x17c708,_0x27a6d9){const _0x51d10a=a0_0x1fdc58;let _0x27c990=_0x728e1a[_0x51d10a(0x496)]('apikey');if(_0x27c990&&y[_0x51d10a(0x496)](_0x51d10a(0x6ea))[_0x51d10a(0x302)][_0x51d10a(0x6dd)]!==_0x27c990)throw new ie();if(y['get']('AUTHENTICATION')[_0x51d10a(0x302)][_0x51d10a(0x6dd)]===_0x27c990)return _0x27a6d9();if((_0x728e1a['originalUrl']['includes'](_0x51d10a(0x48d))||_0x728e1a[_0x51d10a(0x39c)][_0x51d10a(0x459)](_0x51d10a(0x4b8)))&&!_0x27c990)throw new oe(_0x51d10a(0x265),_0x51d10a(0x143));let _0x1211d2=y[_0x51d10a(0x496)](_0x51d10a(0x6ea))[_0x51d10a(0x4a9)];try{let [_0x399f88,_0xd11b6b]=_0x728e1a[_0x51d10a(0x496)]('authorization')[_0x51d10a(0x296)]('\x20');if(_0x399f88['toLowerCase']()!=='bearer')throw new ie();if(!(0x0,na['isJWT'])(_0xd11b6b))throw new ie();let _0x4ee896=_0x728e1a[_0x51d10a(0x475)],_0x482353=ca[_0x51d10a(0x4ab)]['verify'](_0xd11b6b,_0x1211d2[_0x51d10a(0x6c1)],{'ignoreExpiration':_0x1211d2[_0x51d10a(0x421)]===0x0});if(_0x4ee896['instanceName']!==_0x482353[_0x51d10a(0x6d8)]||Ye!==_0x482353['apiName'])throw new ie();return _0x27a6d9();}catch(_0x5d2dff){throw ri[_0x51d10a(0x484)](_0x5d2dff),new ie();}}async function ci(_0x198567,_0x448a2d,_0x3f74cc){const _0x500cbc=a0_0x1fdc58;let _0x639d86=y[_0x500cbc(0x496)](_0x500cbc(0x6ea))['API_KEY'],_0x1f1370=_0x198567[_0x500cbc(0x496)](_0x500cbc(0x322));if(_0x639d86[_0x500cbc(0x6dd)]===_0x1f1370)return _0x3f74cc();if(_0x198567[_0x500cbc(0x39c)][_0x500cbc(0x459)](_0x500cbc(0x48d))){let _0xaf2b1b=y[_0x500cbc(0x496)]('TRIAL_INSTANCE_NAME'),_0x16fe03=_0x198567[_0x500cbc(0x403)]['instanceName'];if(_0xaf2b1b&&_0x16fe03['toLowerCase']()[_0x500cbc(0x4a1)](_0xaf2b1b[_0x500cbc(0x254)]()))return _0x3f74cc();if(!_0x1f1370)throw new oe(_0x500cbc(0x265),_0x500cbc(0x143));}if(_0x198567[_0x500cbc(0x39c)][_0x500cbc(0x459)](_0x500cbc(0x4b8))&&!_0x1f1370)throw new oe(_0x500cbc(0x265),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x198567[_0x500cbc(0x39c)]['includes'](_0x500cbc(0x532))&&!_0x1f1370)throw new oe(_0x500cbc(0x265),_0x500cbc(0x143));try{let _0x4369bb=_0x198567[_0x500cbc(0x475)];if((await ue[_0x500cbc(0x3ea)][_0x500cbc(0x192)](_0x4369bb[_0x500cbc(0x6d8)]))[_0x500cbc(0x322)]===_0x1f1370)return _0x3f74cc();}catch{}throw new ie();}var la={'jwt':ni,'apikey':ci},Ga=require('express'),N=require(a0_0x1fdc58(0x231)),S=(..._0x1ea5ab)=>{const _0x364a9b=a0_0x1fdc58;let _0x557697={};return _0x1ea5ab[_0x364a9b(0x44b)](_0x377bca=>_0x557697[_0x377bca]={'minLength':0x1,'description':_0x364a9b(0x493)+_0x377bca+_0x364a9b(0x2d0)}),{'if':{'propertyNames':{'enum':[..._0x1ea5ab]}},'then':{'properties':_0x557697}};},C={'$id':(0x0,N['v4'])(),'type':a0_0x1fdc58(0x4fa),'properties':{'instanceName':{'type':'string'}},...S(a0_0x1fdc58(0x6d8))},ua={'$id':(0x0,N['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x1fdc58(0x25c)}},'required':[a0_0x1fdc58(0x4c1)],...S(a0_0x1fdc58(0x4c1))},fn={'properties':{'key':{'type':'object','properties':{'id':{'type':'string'},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x1fdc58(0x375),'enum':[!0x0,!0x1]}},'required':['id',a0_0x1fdc58(0x543),'fromMe'],...S('id',a0_0x1fdc58(0x543))},'message':{'type':'object'}}},Q={'properties':{'delay':{'type':a0_0x1fdc58(0x351),'description':a0_0x1fdc58(0x249)},'presence':{'type':'string','enum':[a0_0x1fdc58(0x4ae),a0_0x1fdc58(0x13d),a0_0x1fdc58(0x2e5),a0_0x1fdc58(0x55c),a0_0x1fdc58(0x295)]}}},re={'type':'string','pattern':a0_0x1fdc58(0x2b0),'description':a0_0x1fdc58(0x2de)},da={'$id':(0x0,N['v4'])(),'type':a0_0x1fdc58(0x4fa),'properties':{'number':{...re},'options':{...Q},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x1fdc58(0x25c)}},'required':[a0_0x1fdc58(0x191)],...S(a0_0x1fdc58(0x191))}},'required':[a0_0x1fdc58(0x680),a0_0x1fdc58(0x1a5)]},pa={'type':a0_0x1fdc58(0x25c),'pattern':a0_0x1fdc58(0x499),'description':'Invalid\x20format'},wn={'$id':(0x0,N['v4'])(),'type':a0_0x1fdc58(0x4fa),'properties':{'number':{...pa},'options':{...Q},'textMessage':{'type':a0_0x1fdc58(0x4fa),'properties':{'text':{'type':'string'}},'required':[a0_0x1fdc58(0x191)],...S(a0_0x1fdc58(0x191))}},'required':[a0_0x1fdc58(0x680),a0_0x1fdc58(0x1a5)]},yn={'$id':(0x0,N['v4'])(),'type':a0_0x1fdc58(0x4fa),'properties':{'number':{...pa},'options':{...Q},'mediaMessage':{'type':a0_0x1fdc58(0x4fa),'properties':{'mediatype':{'type':'string','enum':[a0_0x1fdc58(0x1ea),a0_0x1fdc58(0x281),'video','audio']},'media':{'type':a0_0x1fdc58(0x25c)},'fileName':{'type':a0_0x1fdc58(0x25c)},'caption':{'type':a0_0x1fdc58(0x25c)}},'required':[a0_0x1fdc58(0x441),a0_0x1fdc58(0x6d4)],...S(a0_0x1fdc58(0x65e),'caption','media')}},'required':['mediaMessage',a0_0x1fdc58(0x1a5)]},ma={'$id':(0x0,N['v4'])(),'type':a0_0x1fdc58(0x4fa),'properties':{'number':{...re},'options':{...Q},'stickerMessage':{'type':a0_0x1fdc58(0x4fa),'properties':{'image':{'type':'string'}},'required':[a0_0x1fdc58(0x1ea)],...S(a0_0x1fdc58(0x1ea))}},'required':[a0_0x1fdc58(0x1bc),a0_0x1fdc58(0x1a5)]},ga={'$id':(0x0,N['v4'])(),'type':a0_0x1fdc58(0x4fa),'properties':{'statusMessage':{'type':a0_0x1fdc58(0x4fa),'properties':{'type':{'type':'string','enum':[a0_0x1fdc58(0x191),a0_0x1fdc58(0x1ea),'audio',a0_0x1fdc58(0x25d)]},'content':{'type':a0_0x1fdc58(0x25c)},'caption':{'type':a0_0x1fdc58(0x25c)},'backgroundColor':{'type':'string'},'font':{'type':a0_0x1fdc58(0x351),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x1fdc58(0x4c2),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1fdc58(0x25c),'pattern':a0_0x1fdc58(0x3af),'description':a0_0x1fdc58(0x365)}},'allContacts':{'type':a0_0x1fdc58(0x375),'enum':[!0x0,!0x1]}},'required':['type','content'],...S('type','content')}},'required':[a0_0x1fdc58(0x449)]},ha={'$id':(0x0,N['v4'])(),'type':'object','properties':{'number':{...re},'options':{...Q},'mediaMessage':{'type':a0_0x1fdc58(0x4fa),'properties':{'mediatype':{'type':a0_0x1fdc58(0x25c),'enum':['image',a0_0x1fdc58(0x281),a0_0x1fdc58(0x25d),a0_0x1fdc58(0x684)]},'media':{'type':a0_0x1fdc58(0x25c)},'fileName':{'type':a0_0x1fdc58(0x25c)},'caption':{'type':a0_0x1fdc58(0x25c)}},'required':[a0_0x1fdc58(0x441),'media'],...S(a0_0x1fdc58(0x65e),a0_0x1fdc58(0x4fc),a0_0x1fdc58(0x6d4))}},'required':[a0_0x1fdc58(0x15c),a0_0x1fdc58(0x1a5)]},fa={'$id':(0x0,N['v4'])(),'type':'object','properties':{'number':{...re},'options':{...Q},'audioMessage':{'type':a0_0x1fdc58(0x4fa),'properties':{'audio':{'type':a0_0x1fdc58(0x25c)}},'required':[a0_0x1fdc58(0x684)],...S('audio')}},'required':['audioMessage',a0_0x1fdc58(0x1a5)]},wa={'$id':(0x0,N['v4'])(),'type':a0_0x1fdc58(0x4fa),'properties':{'number':{...re},'pollMessage':{'type':a0_0x1fdc58(0x4fa),'properties':{'name':{'type':'string'},'selectableCount':{'type':'number'},'values':{'type':a0_0x1fdc58(0x4c2),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x1fdc58(0x5e8),a0_0x1fdc58(0x64d),a0_0x1fdc58(0x68c)],...S('name',a0_0x1fdc58(0x64d),a0_0x1fdc58(0x68c))}},'required':['number',a0_0x1fdc58(0x6ae)]},ya={'$id':(0x0,N['v4'])(),'type':'object','properties':{'number':{...re},'options':{...Q},'buttonMessage':{'type':a0_0x1fdc58(0x4fa),'properties':{'title':{'type':a0_0x1fdc58(0x25c)},'description':{'type':a0_0x1fdc58(0x25c)},'footerText':{'type':a0_0x1fdc58(0x25c)},'buttons':{'type':a0_0x1fdc58(0x4c2),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1fdc58(0x4fa),'properties':{'buttonText':{'type':'string'},'buttonId':{'type':a0_0x1fdc58(0x25c)}},'required':[a0_0x1fdc58(0x4b6),a0_0x1fdc58(0x503)],...S(a0_0x1fdc58(0x4b6),a0_0x1fdc58(0x503))}},'mediaMessage':{'type':'object','properties':{'media':{'type':a0_0x1fdc58(0x25c)},'fileName':{'type':a0_0x1fdc58(0x25c)},'mediatype':{'type':a0_0x1fdc58(0x25c),'enum':['image','document','video']}},'required':[a0_0x1fdc58(0x6d4),a0_0x1fdc58(0x441)],...S(a0_0x1fdc58(0x6d4),a0_0x1fdc58(0x65e))}},'required':[a0_0x1fdc58(0x576),a0_0x1fdc58(0x6ed)],...S(a0_0x1fdc58(0x576),a0_0x1fdc58(0x6f2))}},'required':['number',a0_0x1fdc58(0x5f1)]},ba={'$id':(0x0,N['v4'])(),'type':'object','properties':{'number':{...re},'options':{...Q},'locationMessage':{'type':a0_0x1fdc58(0x4fa),'properties':{'latitude':{'type':a0_0x1fdc58(0x1a5)},'longitude':{'type':'number'},'name':{'type':'string'},'address':{'type':a0_0x1fdc58(0x25c)}},'required':[a0_0x1fdc58(0x6fa),a0_0x1fdc58(0x462)],...S(a0_0x1fdc58(0x5e8),a0_0x1fdc58(0x197))}},'required':['number','locationMessage']},Sa={'$id':(0x0,N['v4'])(),'type':a0_0x1fdc58(0x4fa),'properties':{'number':{...re},'options':{...Q},'listMessage':{'type':a0_0x1fdc58(0x4fa),'properties':{'title':{'type':a0_0x1fdc58(0x25c)},'description':{'type':a0_0x1fdc58(0x25c)},'footerText':{'type':a0_0x1fdc58(0x25c)},'buttonText':{'type':'string'},'sections':{'type':a0_0x1fdc58(0x4c2),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1fdc58(0x4fa),'properties':{'title':{'type':a0_0x1fdc58(0x25c)},'rows':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1fdc58(0x4fa),'properties':{'title':{'type':a0_0x1fdc58(0x25c)},'description':{'type':'string'},'rowId':{'type':a0_0x1fdc58(0x25c)}},'required':[a0_0x1fdc58(0x576),a0_0x1fdc58(0x6f2),a0_0x1fdc58(0x3df)],...S(a0_0x1fdc58(0x576),'description',a0_0x1fdc58(0x3df))}}},'required':['title',a0_0x1fdc58(0x389)],...S('title')}}},'required':[a0_0x1fdc58(0x576),a0_0x1fdc58(0x6f2),'buttonText','sections'],...S(a0_0x1fdc58(0x576),a0_0x1fdc58(0x6f2),a0_0x1fdc58(0x4b6),'footerText')}},'required':['number',a0_0x1fdc58(0x66f)]},Ea={'$id':(0x0,N['v4'])(),'type':'object','properties':{'number':{...re},'options':{...Q},'contactMessage':{'type':'array','items':{'type':a0_0x1fdc58(0x4fa),'properties':{'fullName':{'type':a0_0x1fdc58(0x25c)},'phoneNumber':{'type':'string','minLength':0xa}},'required':[a0_0x1fdc58(0x36a),'phoneNumber'],...S(a0_0x1fdc58(0x36a))},'minItems':0x1,'uniqueItems':!0x0}},'required':['number',a0_0x1fdc58(0x679)]},Na={'$id':(0x0,N['v4'])(),'type':a0_0x1fdc58(0x4fa),'properties':{'reactionMessage':{'type':a0_0x1fdc58(0x4fa),'properties':{'key':{'type':a0_0x1fdc58(0x4fa),'properties':{'id':{'type':a0_0x1fdc58(0x25c)},'remoteJid':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x1fdc58(0x543),a0_0x1fdc58(0x47c)],...S('id',a0_0x1fdc58(0x543))},'reaction':{'type':a0_0x1fdc58(0x25c)}},'required':[a0_0x1fdc58(0x267),a0_0x1fdc58(0x483)],...S(a0_0x1fdc58(0x483))}},'required':[a0_0x1fdc58(0x582)]},Ca={'$id':(0x0,N['v4'])(),'type':a0_0x1fdc58(0x4fa),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1fdc58(0x25c),'pattern':a0_0x1fdc58(0x3af),'description':a0_0x1fdc58(0x370)}}}},va={'$id':(0x0,N['v4'])(),'type':a0_0x1fdc58(0x4fa),'properties':{'readMessages':{'type':a0_0x1fdc58(0x4c2),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x1fdc58(0x25c)},'fromMe':{'type':a0_0x1fdc58(0x375),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x1fdc58(0x25c)}},'required':['id',a0_0x1fdc58(0x47c),a0_0x1fdc58(0x543)],...S('id',a0_0x1fdc58(0x543))}}},'required':[a0_0x1fdc58(0x255)]},Ta={'$id':(0x0,N['v4'])(),'type':a0_0x1fdc58(0x4fa),'properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':a0_0x1fdc58(0x25c),'enum':['all',a0_0x1fdc58(0x48b)]},'profile':{'type':a0_0x1fdc58(0x25c),'enum':[a0_0x1fdc58(0x13c),a0_0x1fdc58(0x1b1),a0_0x1fdc58(0x24b),a0_0x1fdc58(0x48b)]},'status':{'type':a0_0x1fdc58(0x25c),'enum':[a0_0x1fdc58(0x13c),a0_0x1fdc58(0x1b1),a0_0x1fdc58(0x24b),a0_0x1fdc58(0x48b)]},'online':{'type':'string','enum':[a0_0x1fdc58(0x13c),a0_0x1fdc58(0x4f5)]},'last':{'type':a0_0x1fdc58(0x25c),'enum':[a0_0x1fdc58(0x13c),a0_0x1fdc58(0x1b1),'contact_blacklist',a0_0x1fdc58(0x48b)]},'groupadd':{'type':'string','enum':[a0_0x1fdc58(0x13c),'contacts',a0_0x1fdc58(0x24b),a0_0x1fdc58(0x48b)]}},'required':[a0_0x1fdc58(0x6c2),a0_0x1fdc58(0x378),a0_0x1fdc58(0x62e),a0_0x1fdc58(0x6de),a0_0x1fdc58(0x1d0),a0_0x1fdc58(0x176)],...S(a0_0x1fdc58(0x6c2),a0_0x1fdc58(0x378),a0_0x1fdc58(0x62e),a0_0x1fdc58(0x6de),a0_0x1fdc58(0x1d0),a0_0x1fdc58(0x176))}},'required':['privacySettings']},Ma={'$id':(0x0,N['v4'])(),'type':a0_0x1fdc58(0x4fa),'properties':{'lastMessage':{'type':'object','properties':{'key':{'type':a0_0x1fdc58(0x4fa),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x1fdc58(0x25c)},'fromMe':{'type':a0_0x1fdc58(0x375),'enum':[!0x0,!0x1]}},'required':['id',a0_0x1fdc58(0x47c),a0_0x1fdc58(0x543)],...S('id','remoteJid')},'messageTimestamp':{'type':a0_0x1fdc58(0x351),'minLength':0x1}},'required':[a0_0x1fdc58(0x267)],...S(a0_0x1fdc58(0x6f9))},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x1fdc58(0x55a),a0_0x1fdc58(0x5bb)]},Ra={'$id':(0x0,N['v4'])(),'type':a0_0x1fdc58(0x4fa),'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x1fdc58(0x375),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x1fdc58(0x25c)},'participant':{'type':'string'}},'required':['id',a0_0x1fdc58(0x47c),a0_0x1fdc58(0x543)],...S('id',a0_0x1fdc58(0x543),a0_0x1fdc58(0x15e))},Aa={'$id':(0x0,N['v4'])(),'type':a0_0x1fdc58(0x4fa),'properties':{'where':{'type':a0_0x1fdc58(0x4fa),'properties':{'_id':{'type':a0_0x1fdc58(0x25c),'minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':a0_0x1fdc58(0x25c),'minLength':0x1}},...S(a0_0x1fdc58(0x46e),'id',a0_0x1fdc58(0x5bd))}}},Ia={'$id':(0x0,N['v4'])(),'type':a0_0x1fdc58(0x4fa),'properties':{'name':{'type':a0_0x1fdc58(0x25c)}},...S('name')},Da={'$id':(0x0,N['v4'])(),'type':a0_0x1fdc58(0x4fa),'properties':{'status':{'type':'string'}},...S(a0_0x1fdc58(0x62e))},Te={'$id':(0x0,N['v4'])(),'type':a0_0x1fdc58(0x4fa),'properties':{'number':{'type':a0_0x1fdc58(0x25c)},'picture':{'type':a0_0x1fdc58(0x25c)}}},Oa={'type':a0_0x1fdc58(0x4fa),'properties':{'wuid':{'type':a0_0x1fdc58(0x25c)},'name':{'type':a0_0x1fdc58(0x25c)},'picture':{'type':a0_0x1fdc58(0x25c)},'status':{'type':a0_0x1fdc58(0x25c)},'isBusiness':{'type':a0_0x1fdc58(0x375)}}},Pa={'$id':(0x0,N['v4'])(),'type':'object','properties':{'where':{'type':a0_0x1fdc58(0x4fa),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':a0_0x1fdc58(0x4fa),'if':{'propertyNames':{'enum':['fromMe','remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':a0_0x1fdc58(0x25c),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':'string','minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':a0_0x1fdc58(0x375),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x1fdc58(0x4fa)}},...S(a0_0x1fdc58(0x46e))},'limit':{'type':'integer'}}},_a={'$id':(0x0,N['v4'])(),'type':a0_0x1fdc58(0x4fa),'properties':{'where':{'type':a0_0x1fdc58(0x4fa),'properties':{'_id':{'type':a0_0x1fdc58(0x25c)},'remoteJid':{'type':'string'},'id':{'type':a0_0x1fdc58(0x25c)},'fromMe':{'type':a0_0x1fdc58(0x375),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x1fdc58(0x25c)},'status':{'type':'string','enum':['ERROR',a0_0x1fdc58(0x28f),a0_0x1fdc58(0x16e),'DELIVERY_ACK',a0_0x1fdc58(0x2c8),a0_0x1fdc58(0x661)]}},...S('_id','remoteJid','id',a0_0x1fdc58(0x62e))},'limit':{'type':'integer'}}},xa={'$id':(0x0,N['v4'])(),'type':a0_0x1fdc58(0x4fa),'properties':{'subject':{'type':a0_0x1fdc58(0x25c)},'description':{'type':a0_0x1fdc58(0x25c)},'profilePicture':{'type':a0_0x1fdc58(0x25c)},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1fdc58(0x25c),'minLength':0xa,'pattern':a0_0x1fdc58(0x660),'description':a0_0x1fdc58(0x241)}}},'required':[a0_0x1fdc58(0x53c),'participants'],...S(a0_0x1fdc58(0x53c),a0_0x1fdc58(0x6f2),a0_0x1fdc58(0x63d))},Me={'$id':(0x0,N['v4'])(),'type':a0_0x1fdc58(0x4fa),'properties':{'groupJid':{'type':a0_0x1fdc58(0x25c),'pattern':a0_0x1fdc58(0x3a6)}},'required':[a0_0x1fdc58(0x15d)],...S(a0_0x1fdc58(0x15d))},$a={'$id':(0x0,N['v4'])(),'type':a0_0x1fdc58(0x4fa),'properties':{'groupJid':{'type':a0_0x1fdc58(0x25c)},'action':{'type':a0_0x1fdc58(0x25c),'enum':['add',a0_0x1fdc58(0x5db),a0_0x1fdc58(0x4da),a0_0x1fdc58(0x22f)]},'participants':{'type':a0_0x1fdc58(0x4c2),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1fdc58(0x25c),'minLength':0xa,'pattern':a0_0x1fdc58(0x660),'description':a0_0x1fdc58(0x241)}}},'required':[a0_0x1fdc58(0x15d),'action',a0_0x1fdc58(0x2cf)],...S('groupJid',a0_0x1fdc58(0x148))},ka={'$id':(0x0,N['v4'])(),'type':a0_0x1fdc58(0x4fa),'properties':{'groupJid':{'type':'string'},'expiration':{'type':a0_0x1fdc58(0x1a5),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x1fdc58(0x15d),a0_0x1fdc58(0x5b7)],...S('groupJid',a0_0x1fdc58(0x5b7))},La={'$id':(0x0,N['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x1fdc58(0x25c)},'image':{'type':a0_0x1fdc58(0x25c)}},'required':['groupJid',a0_0x1fdc58(0x1ea)],...S(a0_0x1fdc58(0x15d),'image')},Ua={'$id':(0x0,N['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x1fdc58(0x25c)},'description':{'type':'string'}},'required':[a0_0x1fdc58(0x15d),'description'],...S(a0_0x1fdc58(0x15d),'description')},Va={'$id':(0x0,N['v4'])(),'type':a0_0x1fdc58(0x4fa),'properties':{'groupJid':{'type':a0_0x1fdc58(0x25c)},'name':{'type':a0_0x1fdc58(0x25c)}},'required':[a0_0x1fdc58(0x15d),a0_0x1fdc58(0x5e8)],...S('groupJid',a0_0x1fdc58(0x5e8))},ja={'$id':(0x0,N['v4'])(),'type':a0_0x1fdc58(0x4fa),'properties':{'groupJid':{'type':a0_0x1fdc58(0x25c)},'setting':{'type':'string','enum':[a0_0x1fdc58(0x6cb),a0_0x1fdc58(0x4f8),'unlocked',a0_0x1fdc58(0x4d7)]}},'required':['groupJid',a0_0x1fdc58(0x598)],...S(a0_0x1fdc58(0x15d),a0_0x1fdc58(0x598))},Ba={'$id':(0x0,N['v4'])(),'type':'object','properties':{'inviteCode':{'type':'string'}},'required':[a0_0x1fdc58(0x6cd)],...S(a0_0x1fdc58(0x6cd))},Fa={'$id':(0x0,N['v4'])(),'type':a0_0x1fdc58(0x4fa),'properties':{'url':{'type':a0_0x1fdc58(0x25c)},'enabled':{'type':a0_0x1fdc58(0x375),'enum':[!0x0,!0x1]}},'required':[a0_0x1fdc58(0x47b),'enabled']},bn={'$id':(0x0,N['v4'])(),'type':a0_0x1fdc58(0x4fa),'properties':{'local_map':{'type':a0_0x1fdc58(0x375),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x1fdc58(0x375),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x1fdc58(0x375),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x1fdc58(0x375),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x1fdc58(0x375),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x1fdc58(0x375),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x1fdc58(0x375),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x1fdc58(0x375),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x1fdc58(0x375),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x1fdc58(0x375),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x1fdc58(0x375),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x1fdc58(0x375),'enum':[!0x0,!0x1]}},'required':[a0_0x1fdc58(0x3f5),a0_0x1fdc58(0x652),'QRCODE_UPDATED',a0_0x1fdc58(0x368),a0_0x1fdc58(0x3c6),a0_0x1fdc58(0x6e7),a0_0x1fdc58(0x3a5),a0_0x1fdc58(0x5a9),a0_0x1fdc58(0x4e4),a0_0x1fdc58(0x435),a0_0x1fdc58(0x4cb),'CHATS_SET','CHATS_UPSERT',a0_0x1fdc58(0x43c),a0_0x1fdc58(0x2a1),a0_0x1fdc58(0x1e2),a0_0x1fdc58(0x145),a0_0x1fdc58(0x6e5),a0_0x1fdc58(0x29d)],...S(a0_0x1fdc58(0x3f5),a0_0x1fdc58(0x652),'QRCODE_UPDATED',a0_0x1fdc58(0x368),a0_0x1fdc58(0x3c6),a0_0x1fdc58(0x6e7),a0_0x1fdc58(0x3a5),a0_0x1fdc58(0x5a9),a0_0x1fdc58(0x4e4),a0_0x1fdc58(0x435),'PRESENCE_UPDATE',a0_0x1fdc58(0x589),'CHATS_UPSERT',a0_0x1fdc58(0x43c),a0_0x1fdc58(0x2a1),a0_0x1fdc58(0x1e2),a0_0x1fdc58(0x145),a0_0x1fdc58(0x6e5),'GROUP_PARTICIPANTS_UPDATE')},Ae=require('fs'),Re=require(a0_0x1fdc58(0x2a3)),Xe=class{},Ze=class extends j{constructor(_0x364185,_0x3d022d){const _0x36c3c5=a0_0x1fdc58;super(_0x3d022d),this[_0x36c3c5(0x230)]=_0x364185,this[_0x36c3c5(0x2fc)]=_0x3d022d;}async[a0_0x1fdc58(0x5ff)](_0x191677,_0x537c7f=!0x1){const _0x280361=a0_0x1fdc58;if(_0x191677['length']!==0x0)try{return this[_0x280361(0x4f1)]['ENABLED']&&_0x537c7f?{'insertCount':(await this[_0x280361(0x230)][_0x280361(0x2e7)]([..._0x191677]))['length']}:(_0x191677[_0x280361(0x44b)](_0x5de7b0=>{const _0x4c381c=_0x280361;this[_0x4c381c(0x5ae)]({'path':(0x0,Re['join'])(this['storePath'],'contacts',_0x5de7b0[_0x4c381c(0x3b7)]),'fileName':_0x5de7b0['id'],'data':_0x5de7b0});}),{'insertCount':_0x191677['length']});}catch(_0x40d7c1){return _0x40d7c1;}finally{_0x191677=void 0x0;}}async[a0_0x1fdc58(0x2ab)](_0x4bf774){const _0x544a77=a0_0x1fdc58;try{return this[_0x544a77(0x4f1)][_0x544a77(0x657)]?await this[_0x544a77(0x230)][_0x544a77(0x417)]({..._0x4bf774[_0x544a77(0x5d9)]}):{'deleted':{'contact':_0x4bf774[_0x544a77(0x5d9)]['id']}};}catch(_0x96c513){return{'error':_0x96c513?.[_0x544a77(0x686)]()};}}async[a0_0x1fdc58(0x1a4)](_0xcd3919,_0xe2839a=!0x1){const _0x346932=a0_0x1fdc58;try{if(_0xcd3919['length']===0x0)return;if(this[_0x346932(0x4f1)]['ENABLED']&&_0xe2839a){let _0x5d987b=_0xcd3919['map'](_0x3ca1d9=>({'updateOne':{'filter':{'id':_0x3ca1d9['id']},'update':{..._0x3ca1d9},'upsert':!0x0}})),{nModified:_0x3ecd2f}=await this[_0x346932(0x230)][_0x346932(0x569)](_0x5d987b);return{'insertCount':_0x3ecd2f};}}catch{return;}}async[a0_0x1fdc58(0x192)](_0x525012){const _0x3f0c3f=a0_0x1fdc58;try{if(this[_0x3f0c3f(0x4f1)]['ENABLED'])return await this[_0x3f0c3f(0x230)][_0x3f0c3f(0x192)]({..._0x525012[_0x3f0c3f(0x5d9)]});let _0x3dbb6c=[];if(_0x525012?.[_0x3f0c3f(0x5d9)]?.['id'])_0x3dbb6c[_0x3f0c3f(0x1b4)](JSON[_0x3f0c3f(0x59c)]((0x0,Ae['readFileSync'])((0x0,Re[_0x3f0c3f(0x567)])(this[_0x3f0c3f(0x5ea)],_0x3f0c3f(0x1b1),_0x525012['where'][_0x3f0c3f(0x3b7)],_0x525012[_0x3f0c3f(0x5d9)]['id']+_0x3f0c3f(0x631)),{'encoding':_0x3f0c3f(0x359)})));else{let _0x4758c8=(0x0,Ae[_0x3f0c3f(0x3d5)])((0x0,Re['join'])(this[_0x3f0c3f(0x5ea)],'contacts',_0x525012[_0x3f0c3f(0x5d9)][_0x3f0c3f(0x3b7)]),{'encoding':'utf-8'});for await(let _0x2dba27 of _0x4758c8)_0x2dba27[_0x3f0c3f(0x1f9)]()&&_0x3dbb6c['push'](JSON[_0x3f0c3f(0x59c)]((0x0,Ae[_0x3f0c3f(0x426)])((0x0,Re[_0x3f0c3f(0x567)])(this[_0x3f0c3f(0x5ea)],_0x3f0c3f(0x1b1),_0x525012[_0x3f0c3f(0x5d9)][_0x3f0c3f(0x3b7)],_0x2dba27[_0x3f0c3f(0x5e8)]),{'encoding':_0x3f0c3f(0x359)})));}return _0x3dbb6c;}catch{return[];}}},et=require(a0_0x1fdc58(0x3c5)),Tn=require(a0_0x1fdc58(0x5b6)),ms=new v(a0_0x1fdc58(0x58e)),_=class{constructor(){}[a0_0x1fdc58(0x14c)](_0x45e1c8,_0x27593f=!0x0){const _0xa7850a=a0_0x1fdc58;let _0x4070dc='/'+_0x45e1c8;return _0x27593f&&(_0x4070dc+=_0xa7850a(0x352)),_0x4070dc;}async[a0_0x1fdc58(0x1ec)](_0x1b371d){const _0x2ff6af=a0_0x1fdc58;let {request:_0x4c337c,schema:_0x3f55c3,ClassRef:_0x34f1a9,execute:_0x41c09f}=_0x1b371d,_0x1b3e04=new _0x34f1a9(),_0x3a9cef=_0x4c337c[_0x2ff6af(0x403)],_0x4891d5=_0x4c337c['params'];_0x4c337c?.['query']&&Object[_0x2ff6af(0x1fa)](_0x4c337c['query'])[_0x2ff6af(0x6b4)]>0x0&&Object[_0x2ff6af(0x236)](_0x4891d5,_0x4c337c[_0x2ff6af(0x57b)]),_0x4c337c[_0x2ff6af(0x39c)][_0x2ff6af(0x459)](_0x2ff6af(0x48d))&&Object[_0x2ff6af(0x236)](_0x4891d5,_0x3a9cef),Object[_0x2ff6af(0x236)](_0x1b3e04,_0x3a9cef);let _0x13db3b=_0x3f55c3?(0x0,et[_0x2ff6af(0x54c)])(_0x1b3e04,_0x3f55c3):{'valid':!0x0,'errors':[]};if(!_0x13db3b['valid']){let _0x108377=_0x13db3b[_0x2ff6af(0x39e)]['map'](({property:_0x3d608b,stack:_0xaeb951,schema:_0x4b2cf9})=>{const _0x53ed77=_0x2ff6af;let _0x2708eb;return _0x4b2cf9['description']?_0x2708eb=_0x4b2cf9[_0x53ed77(0x6f2)]:_0x2708eb=_0xaeb951[_0x53ed77(0x5b4)](_0x53ed77(0x4d6),''),{'property':_0x3d608b[_0x53ed77(0x5b4)](_0x53ed77(0x4d6),''),'message':_0x2708eb};});throw ms[_0x2ff6af(0x484)]([..._0x108377]),new m(..._0x108377);}return await _0x41c09f(_0x4891d5,_0x1b3e04);}async[a0_0x1fdc58(0x22e)](_0xe8a050){const _0x45347a=a0_0x1fdc58;let {request:_0x499acc,ClassRef:_0x3d6511,schema:_0x451fb8,execute:_0x4d24ca}=_0xe8a050,_0x18aa75=_0x499acc[_0x45347a(0x57b)];if(!_0x18aa75?.['groupJid'])throw new m(_0x45347a(0x274),_0x45347a(0x1a9));let _0x3b9c39=_0x499acc[_0x45347a(0x475)],_0x4f2b5d=_0x499acc[_0x45347a(0x403)],_0x47f8a5=new _0x3d6511();Object[_0x45347a(0x236)](_0x4f2b5d,_0x18aa75),Object['assign'](_0x47f8a5,_0x4f2b5d);let _0x5ddad0=(0x0,et['validate'])(_0x47f8a5,_0x451fb8);if(!_0x5ddad0[_0x45347a(0x5a8)]){let _0x46fa4d=_0x5ddad0[_0x45347a(0x39e)][_0x45347a(0x634)](({property:_0x4503ca,stack:_0x58773a,schema:_0x4b1d90})=>{const _0x68887a=_0x45347a;let _0x25eef4;return _0x4b1d90[_0x68887a(0x6f2)]?_0x25eef4=_0x4b1d90[_0x68887a(0x6f2)]:_0x25eef4=_0x58773a[_0x68887a(0x5b4)](_0x68887a(0x4d6),''),{'property':_0x4503ca[_0x68887a(0x5b4)](_0x68887a(0x4d6),''),'message':_0x25eef4};});throw ms[_0x45347a(0x484)]([..._0x46fa4d]),new m(..._0x46fa4d);}return await _0x4d24ca(_0x3b9c39,_0x47f8a5);}async[a0_0x1fdc58(0x22b)](_0x2e75d0){const _0x112c6e=a0_0x1fdc58;let {request:_0x944ab7,ClassRef:_0x1170bf,schema:_0x48fd23,execute:_0x5215d5}=_0x2e75d0,_0x78d06a=_0x944ab7[_0x112c6e(0x403)];if(!_0x78d06a?.[_0x112c6e(0x6cd)])throw new m(_0x112c6e(0x4f9),_0x112c6e(0x447));let _0x33ca9e=_0x944ab7[_0x112c6e(0x475)],_0x40889f=_0x944ab7[_0x112c6e(0x403)],_0x1a2133=new _0x1170bf();Object['assign'](_0x40889f,_0x78d06a),Object[_0x112c6e(0x236)](_0x1a2133,_0x40889f);let _0x479f67=(0x0,et['validate'])(_0x1a2133,_0x48fd23);if(!_0x479f67[_0x112c6e(0x5a8)]){let _0x221c2e=_0x479f67[_0x112c6e(0x39e)]['map'](({property:_0x420a2c,stack:_0x20840c,schema:_0x5483ff})=>{const _0x499f50=_0x112c6e;let _0x5a0fcd;return _0x5483ff[_0x499f50(0x6f2)]?_0x5a0fcd=_0x5483ff[_0x499f50(0x6f2)]:_0x5a0fcd=_0x20840c['replace'](_0x499f50(0x4d6),''),{'property':_0x420a2c[_0x499f50(0x5b4)](_0x499f50(0x4d6),''),'message':_0x5a0fcd};});throw ms[_0x112c6e(0x484)]([..._0x221c2e]),new m(..._0x221c2e);}return await _0x5215d5(_0x33ca9e,_0x1a2133);}},Ie=require(a0_0x1fdc58(0x2a3)),De=require('fs'),tt=class{},st=class extends j{constructor(_0x41d1ff,_0x458699){const _0x5cf40b=a0_0x1fdc58;super(_0x458699),this['messageUpModel']=_0x41d1ff,this[_0x5cf40b(0x2fc)]=_0x458699;}async[a0_0x1fdc58(0x5ff)](_0x382d09,_0x373aa9){const _0x4e0d13=a0_0x1fdc58;if(_0x382d09[_0x4e0d13(0x6b4)]!==0x0)try{if(this[_0x4e0d13(0x4f1)]['ENABLED']&&_0x373aa9)return{'insertCount':(await this[_0x4e0d13(0x27a)]['insertMany']([..._0x382d09]))['length']};_0x382d09[_0x4e0d13(0x44b)](_0x3b4f82=>{const _0x42fab4=_0x4e0d13;this[_0x42fab4(0x5ae)]({'path':(0x0,Ie[_0x42fab4(0x567)])(this[_0x42fab4(0x5ea)],_0x42fab4(0x316),_0x3b4f82[_0x42fab4(0x3b7)]),'fileName':_0x3b4f82['id'],'data':_0x3b4f82});});}catch(_0x55fa63){return _0x55fa63;}}async[a0_0x1fdc58(0x192)](_0xbb1127){const _0x3c08fa=a0_0x1fdc58;try{if(this[_0x3c08fa(0x4f1)][_0x3c08fa(0x657)])return await this[_0x3c08fa(0x27a)]['find']({..._0xbb1127[_0x3c08fa(0x5d9)]})['sort']({'datetime':-0x1})['limit'](_0xbb1127?.[_0x3c08fa(0x200)]??0x0);let _0x5e999f=[];if(_0xbb1127?.[_0x3c08fa(0x5d9)]?.['id'])_0x5e999f['push'](JSON[_0x3c08fa(0x59c)]((0x0,De[_0x3c08fa(0x426)])((0x0,Ie['join'])(this[_0x3c08fa(0x5ea)],_0x3c08fa(0x316),_0xbb1127['where']['owner'],_0xbb1127[_0x3c08fa(0x5d9)]['id']+_0x3c08fa(0x631)),{'encoding':_0x3c08fa(0x359)})));else{let _0x5715a8=(0x0,De[_0x3c08fa(0x3d5)])((0x0,Ie[_0x3c08fa(0x567)])(this[_0x3c08fa(0x5ea)],_0x3c08fa(0x316),_0xbb1127['where'][_0x3c08fa(0x3b7)]),{'encoding':_0x3c08fa(0x359)});for await(let _0x4d8451 of _0x5715a8)_0x4d8451[_0x3c08fa(0x1f9)]()&&_0x5e999f['push'](JSON['parse']((0x0,De[_0x3c08fa(0x426)])((0x0,Ie['join'])(this[_0x3c08fa(0x5ea)],_0x3c08fa(0x316),_0xbb1127['where'][_0x3c08fa(0x3b7)],_0x4d8451[_0x3c08fa(0x5e8)]),{'encoding':_0x3c08fa(0x359)})));}return _0x5e999f['sort']((_0x56264a,_0x20be0a)=>_0x20be0a[_0x3c08fa(0x240)]-_0x56264a['datetime'])[_0x3c08fa(0x1c4)](0x0,_0xbb1127?.[_0x3c08fa(0x200)]??_0x5e999f['length']);}catch{return[];}}async['delete'](_0x2535a7){const _0x2e12b4=a0_0x1fdc58;try{if(this[_0x2e12b4(0x4f1)][_0x2e12b4(0x657)])return await this[_0x2e12b4(0x27a)][_0x2e12b4(0x417)]({..._0x2535a7['where']});}catch(_0x4d9190){return console[_0x2e12b4(0x484)](_0x2e12b4(0x50d),_0x4d9190),_0x4d9190;}}},b=class{},at=class extends _{constructor(..._0xbe371c){const _0x299ec2=a0_0x1fdc58;super(),this[_0x299ec2(0x291)]=(0x0,Ga['Router'])(),this[_0x299ec2(0x291)][_0x299ec2(0x454)](this[_0x299ec2(0x14c)]('whatsappNumbers'),..._0xbe371c,async(_0x10da45,_0x209d60)=>{const _0x3e9b2e=_0x299ec2;let _0x1521f3=await this['dataValidate']({'request':_0x10da45,'schema':Ca,'ClassRef':Ge,'execute':(_0x1152ba,_0x15615f)=>P[_0x3e9b2e(0x641)](_0x1152ba,_0x15615f)});return _0x209d60['status'](0xc9)[_0x3e9b2e(0x290)](_0x1521f3);})[_0x299ec2(0x454)](this[_0x299ec2(0x14c)](_0x299ec2(0x3cd)),..._0xbe371c,async(_0x13d659,_0x468ea5)=>{const _0x6be253=_0x299ec2;let _0x2b65c9=await this[_0x6be253(0x1ec)]({'request':_0x13d659,'schema':C,'ClassRef':b,'execute':(_0x2f0635,_0x14fa2e)=>P[_0x6be253(0x3cd)](_0x2f0635,_0x14fa2e)});return _0x468ea5[_0x6be253(0x62e)](0xc9)[_0x6be253(0x290)](_0x2b65c9);})[_0x299ec2(0x2ae)](this[_0x299ec2(0x14c)](_0x299ec2(0x681)),..._0xbe371c,async(_0x16240b,_0x36f505)=>{const _0x543c17=_0x299ec2;let _0x37478f=await this[_0x543c17(0x1ec)]({'request':_0x16240b,'schema':va,'ClassRef':We,'execute':(_0x447414,_0x4d5179)=>P[_0x543c17(0x43a)](_0x447414,_0x4d5179)});return _0x36f505[_0x543c17(0x62e)](0xc9)['json'](_0x37478f);})[_0x299ec2(0x2ae)](this['routerPath'](_0x299ec2(0x68b)),..._0xbe371c,async(_0x202758,_0x4a3257)=>{const _0x31f864=_0x299ec2;let _0x3c9f3f=await this['dataValidate']({'request':_0x202758,'schema':Ma,'ClassRef':He,'execute':(_0x12fdda,_0x3f2d5f)=>P[_0x31f864(0x68b)](_0x12fdda,_0x3f2d5f)});return _0x4a3257['status'](0xc9)[_0x31f864(0x290)](_0x3c9f3f);})[_0x299ec2(0x2ab)](this['routerPath'](_0x299ec2(0x4e5)),..._0xbe371c,async(_0x485ba3,_0x19436f)=>{const _0x4a2e50=_0x299ec2;let _0x55f3f1=await this['dataValidate']({'request':_0x485ba3,'schema':Ra,'ClassRef':ze,'execute':(_0x2c7602,_0x4a4f72)=>P[_0x4a2e50(0x161)](_0x2c7602,_0x4a4f72)});return _0x19436f[_0x4a2e50(0x62e)](0xc9)[_0x4a2e50(0x290)](_0x55f3f1);})[_0x299ec2(0x454)](this[_0x299ec2(0x14c)]('fetchProfilePictureUrl'),..._0xbe371c,async(_0x2bf098,_0x3b39f7)=>{const _0x5cb029=_0x299ec2;let _0x4ddf7b=await this[_0x5cb029(0x1ec)]({'request':_0x2bf098,'schema':Te,'ClassRef':ve,'execute':(_0xed879a,_0x537f26)=>P[_0x5cb029(0x594)](_0xed879a,_0x537f26)});return _0x3b39f7[_0x5cb029(0x62e)](0xc8)[_0x5cb029(0x290)](_0x4ddf7b);})[_0x299ec2(0x454)](this[_0x299ec2(0x14c)]('fetchProfile'),..._0xbe371c,async(_0x38f513,_0xa87dfd)=>{const _0x519860=_0x299ec2;let _0x5e4c53=await this[_0x519860(0x1ec)]({'request':_0x38f513,'schema':Oa,'ClassRef':ve,'execute':(_0x23eda8,_0x2543e6)=>P[_0x519860(0x507)](_0x23eda8,_0x2543e6)});return _0xa87dfd[_0x519860(0x62e)](0xc8)[_0x519860(0x290)](_0x5e4c53);})[_0x299ec2(0x454)](this[_0x299ec2(0x14c)](_0x299ec2(0x174)),..._0xbe371c,async(_0x20c4d5,_0x530ea3)=>{const _0x22838d=_0x299ec2;let _0x20ec5b=await this[_0x22838d(0x1ec)]({'request':_0x20c4d5,'schema':Aa,'ClassRef':Xe,'execute':(_0x980385,_0x155145)=>P[_0x22838d(0x39d)](_0x980385,_0x155145)});return _0x530ea3[_0x22838d(0x62e)](0xc8)[_0x22838d(0x290)](_0x20ec5b);})[_0x299ec2(0x454)](this[_0x299ec2(0x14c)](_0x299ec2(0x39a)),..._0xbe371c,async(_0x106cc9,_0x5e9dd6)=>{const _0x4e5dc2=_0x299ec2;let _0x289f2d=await this['dataValidate']({'request':_0x106cc9,'schema':null,'ClassRef':Object,'execute':(_0x19d0b8,_0x32012d)=>P[_0x4e5dc2(0x39a)](_0x19d0b8,_0x32012d)});return _0x5e9dd6[_0x4e5dc2(0x62e)](0xc9)[_0x4e5dc2(0x290)](_0x289f2d);})['post'](this['routerPath'](_0x299ec2(0x407)),..._0xbe371c,async(_0x125374,_0x5ba020)=>{const _0x106e21=_0x299ec2;let _0x9a3cd7=await this[_0x106e21(0x1ec)]({'request':_0x125374,'schema':Pa,'ClassRef':Ve,'execute':(_0x2755a7,_0x52566a)=>P['fetchMessages'](_0x2755a7,_0x52566a)});return _0x5ba020[_0x106e21(0x62e)](0xc8)[_0x106e21(0x290)](_0x9a3cd7);})['post'](this[_0x299ec2(0x14c)](_0x299ec2(0x58d)),..._0xbe371c,async(_0x111ad3,_0x27cb70)=>{const _0x30aab4=_0x299ec2;let _0x122bee=await this[_0x30aab4(0x1ec)]({'request':_0x111ad3,'schema':_a,'ClassRef':tt,'execute':(_0x5127a9,_0x457861)=>P[_0x30aab4(0x44a)](_0x5127a9,_0x457861)});return _0x27cb70['status'](0xc8)['json'](_0x122bee);})[_0x299ec2(0x496)](this[_0x299ec2(0x14c)]('findChats'),..._0xbe371c,async(_0x2fb609,_0x1a3a2d)=>{const _0x4235ec=_0x299ec2;let _0x104b32=await this[_0x4235ec(0x1ec)]({'request':_0x2fb609,'schema':null,'ClassRef':b,'execute':_0xfe95f4=>P[_0x4235ec(0x427)](_0xfe95f4)});return _0x1a3a2d[_0x4235ec(0x62e)](0xc8)[_0x4235ec(0x290)](_0x104b32);})['get'](this[_0x299ec2(0x14c)]('fetchPrivacySettings'),..._0xbe371c,async(_0x393751,_0x1d2748)=>{const _0xeb1376=_0x299ec2;let _0x17f053=await this[_0xeb1376(0x1ec)]({'request':_0x393751,'schema':null,'ClassRef':b,'execute':_0x1c6367=>P[_0xeb1376(0x3e2)](_0x1c6367)});return _0x1d2748['status'](0xc8)[_0xeb1376(0x290)](_0x17f053);})['put'](this[_0x299ec2(0x14c)](_0x299ec2(0x677)),..._0xbe371c,async(_0x3a3501,_0x4413a2)=>{const _0x177d47=_0x299ec2;let _0x2f522f=await this[_0x177d47(0x1ec)]({'request':_0x3a3501,'schema':Ta,'ClassRef':Ke,'execute':(_0x5ed884,_0x50e8f3)=>P[_0x177d47(0x677)](_0x5ed884,_0x50e8f3)});return _0x4413a2['status'](0xc9)[_0x177d47(0x290)](_0x2f522f);})[_0x299ec2(0x454)](this[_0x299ec2(0x14c)]('fetchBusinessProfile'),..._0xbe371c,async(_0x37b733,_0x5b5eb0)=>{const _0x39e718=_0x299ec2;let _0x3e3ebc=await this['dataValidate']({'request':_0x37b733,'schema':Te,'ClassRef':fe,'execute':(_0x3ffb18,_0x39f4b9)=>P[_0x39e718(0x189)](_0x3ffb18,_0x39f4b9)});return _0x5b5eb0[_0x39e718(0x62e)](0xc8)[_0x39e718(0x290)](_0x3e3ebc);})[_0x299ec2(0x454)](this[_0x299ec2(0x14c)](_0x299ec2(0x501)),..._0xbe371c,async(_0x1ce7b1,_0x1c55d8)=>{const _0x567e03=_0x299ec2;let _0x41aa31=await this[_0x567e03(0x1ec)]({'request':_0x1ce7b1,'schema':Ia,'ClassRef':Je,'execute':(_0x34c729,_0x19e025)=>P[_0x567e03(0x501)](_0x34c729,_0x19e025)});return _0x1c55d8[_0x567e03(0x62e)](0xc8)[_0x567e03(0x290)](_0x41aa31);})[_0x299ec2(0x454)](this['routerPath']('updateProfileStatus'),..._0xbe371c,async(_0x530d07,_0x335fdc)=>{const _0x463f8c=_0x299ec2;let _0x4e33bf=await this[_0x463f8c(0x1ec)]({'request':_0x530d07,'schema':Da,'ClassRef':qe,'execute':(_0x1d3495,_0x320293)=>P[_0x463f8c(0x60a)](_0x1d3495,_0x320293)});return _0x335fdc[_0x463f8c(0x62e)](0xc8)[_0x463f8c(0x290)](_0x4e33bf);})['put'](this['routerPath'](_0x299ec2(0x215)),..._0xbe371c,async(_0x3c1cce,_0x48bd4a)=>{const _0x44af6a=_0x299ec2;let _0x2199e9=await this[_0x44af6a(0x1ec)]({'request':_0x3c1cce,'schema':Te,'ClassRef':fe,'execute':(_0x1d8615,_0x14e711)=>P[_0x44af6a(0x215)](_0x1d8615,_0x14e711)});return _0x48bd4a['status'](0xc8)[_0x44af6a(0x290)](_0x2199e9);})[_0x299ec2(0x2ab)](this[_0x299ec2(0x14c)](_0x299ec2(0x656)),..._0xbe371c,async(_0x515a1d,_0x445ca2)=>{const _0x2f15a3=_0x299ec2;let _0x551b85=await this[_0x2f15a3(0x1ec)]({'request':_0x515a1d,'schema':Te,'ClassRef':fe,'execute':(_0x470dee,_0xcfba2)=>P[_0x2f15a3(0x656)](_0x470dee,_0xcfba2)});return _0x445ca2[_0x2f15a3(0x62e)](0xc8)[_0x2f15a3(0x290)](_0x551b85);});}},Ja=require(a0_0x1fdc58(0x3b8)),ot=class{},it=class{},rt=class{},nt=class{},ct=class{},Y=class{},lt=class{},ut=class extends Y{},dt=class extends Y{},pt=class extends _{constructor(..._0x36a957){const _0x4665d9=a0_0x1fdc58;super(),this[_0x4665d9(0x291)]=(0x0,Ja[_0x4665d9(0x165)])(),this[_0x4665d9(0x291)][_0x4665d9(0x454)](this['routerPath'](_0x4665d9(0x3ab)),..._0x36a957,async(_0x553cda,_0x459bf3)=>{const _0x20fd24=_0x4665d9;let _0xa65e70=await this[_0x20fd24(0x1ec)]({'request':_0x553cda,'schema':xa,'ClassRef':ot,'execute':(_0x14a3d0,_0x657765)=>U[_0x20fd24(0x5fe)](_0x14a3d0,_0x657765)});_0x459bf3[_0x20fd24(0x62e)](0xc9)[_0x20fd24(0x290)](_0xa65e70);})[_0x4665d9(0x2ae)](this[_0x4665d9(0x14c)](_0x4665d9(0x22a)),..._0x36a957,async(_0x5655df,_0x38fc4f)=>{const _0x22a119=_0x4665d9;let _0x3e7055=await this[_0x22a119(0x22e)]({'request':_0x5655df,'schema':La,'ClassRef':it,'execute':(_0x10f436,_0x51cc6e)=>U['updateGroupPicture'](_0x10f436,_0x51cc6e)});_0x38fc4f['status'](0xc9)[_0x22a119(0x290)](_0x3e7055);})[_0x4665d9(0x2ae)](this[_0x4665d9(0x14c)](_0x4665d9(0x639)),..._0x36a957,async(_0x522eea,_0x321ad6)=>{const _0x54082f=_0x4665d9;let _0x153dd5=await this[_0x54082f(0x22e)]({'request':_0x522eea,'schema':Ua,'ClassRef':rt,'execute':(_0x5c5464,_0x3e2c17)=>U[_0x54082f(0x639)](_0x5c5464,_0x3e2c17)});_0x321ad6['status'](0xc9)[_0x54082f(0x290)](_0x153dd5);})[_0x4665d9(0x2ae)](this[_0x4665d9(0x14c)](_0x4665d9(0x667)),..._0x36a957,async(_0x58f4b6,_0x4282bf)=>{const _0x29b6a2=_0x4665d9;let _0x4cb836=await this[_0x29b6a2(0x22e)]({'request':_0x58f4b6,'schema':Va,'ClassRef':nt,'execute':(_0x5c7385,_0x53dace)=>U[_0x29b6a2(0x667)](_0x5c7385,_0x53dace)});_0x4282bf[_0x29b6a2(0x62e)](0xc9)[_0x29b6a2(0x290)](_0x4cb836);})[_0x4665d9(0x2ae)](this[_0x4665d9(0x14c)](_0x4665d9(0x640)),..._0x36a957,async(_0x317786,_0x4caf2a)=>{const _0x47c6a5=_0x4665d9;let _0x5ee653=await this[_0x47c6a5(0x22e)]({'request':_0x317786,'schema':ja,'ClassRef':ct,'execute':(_0x3b4fa1,_0x4dc73b)=>U[_0x47c6a5(0x640)](_0x3b4fa1,_0x4dc73b)});_0x4caf2a[_0x47c6a5(0x62e)](0xc9)['json'](_0x5ee653);})[_0x4665d9(0x2ae)](this[_0x4665d9(0x14c)](_0x4665d9(0x1ed)),..._0x36a957,async(_0x35b4c3,_0x3a5a5f)=>{const _0x45fb4f=_0x4665d9;let _0x48aff4=await this[_0x45fb4f(0x22e)]({'request':_0x35b4c3,'schema':ka,'ClassRef':dt,'execute':(_0x43f5db,_0x10d63c)=>U['toggleEphemeral'](_0x43f5db,_0x10d63c)});_0x3a5a5f['status'](0xc9)[_0x45fb4f(0x290)](_0x48aff4);})['get'](this[_0x4665d9(0x14c)](_0x4665d9(0x2b1)),..._0x36a957,async(_0x29d301,_0x12430c)=>{const _0x48a11a=_0x4665d9;let _0x4dc700=await this[_0x48a11a(0x22e)]({'request':_0x29d301,'schema':Me,'ClassRef':Y,'execute':(_0x2cfdd2,_0x132a16)=>U[_0x48a11a(0x31d)](_0x2cfdd2,_0x132a16)});_0x12430c[_0x48a11a(0x62e)](0xc8)[_0x48a11a(0x290)](_0x4dc700);})['get'](this[_0x4665d9(0x14c)](_0x4665d9(0x242)),..._0x36a957,async(_0x24656f,_0x27356d)=>{const _0x22652d=_0x4665d9;let _0x3c6cef=await this[_0x22652d(0x1ec)]({'request':_0x24656f,'schema':C,'ClassRef':b,'execute':_0x3a239a=>U[_0x22652d(0x242)](_0x3a239a)});_0x27356d[_0x22652d(0x62e)](0xc8)[_0x22652d(0x290)](_0x3c6cef);})[_0x4665d9(0x496)](this[_0x4665d9(0x14c)](_0x4665d9(0x2cf)),..._0x36a957,async(_0x5a8c87,_0x10a84f)=>{const _0x3334ec=_0x4665d9;let _0x403b08=await this[_0x3334ec(0x22e)]({'request':_0x5a8c87,'schema':Me,'ClassRef':Y,'execute':(_0x4a2674,_0x4ca2d6)=>U[_0x3334ec(0x5c1)](_0x4a2674,_0x4ca2d6)});_0x10a84f['status'](0xc8)[_0x3334ec(0x290)](_0x403b08);})['get'](this[_0x4665d9(0x14c)](_0x4665d9(0x6cd)),..._0x36a957,async(_0xc084f7,_0x144385)=>{const _0x67c17c=_0x4665d9;let _0x10db1a=await this['groupValidate']({'request':_0xc084f7,'schema':Me,'ClassRef':Y,'execute':(_0x5a1aad,_0x444fb0)=>U['inviteCode'](_0x5a1aad,_0x444fb0)});_0x144385[_0x67c17c(0x62e)](0xc8)['json'](_0x10db1a);})[_0x4665d9(0x2ae)](this[_0x4665d9(0x14c)](_0x4665d9(0x178)),..._0x36a957,async(_0x661e7d,_0x5bddb4)=>{const _0x20909b=_0x4665d9;let _0x4ab86d=await this[_0x20909b(0x22b)]({'request':_0x661e7d,'schema':Ba,'ClassRef':lt,'execute':(_0x2ebcd7,_0x439e8e)=>U['joinGroup'](_0x2ebcd7,_0x439e8e)});_0x5bddb4[_0x20909b(0x62e)](0xc9)[_0x20909b(0x290)](_0x4ab86d);})[_0x4665d9(0x2ae)](this[_0x4665d9(0x14c)](_0x4665d9(0x5fd)),..._0x36a957,async(_0xd9fd32,_0x485bd6)=>{const _0x116b5a=_0x4665d9;let _0x308d97=await this['groupValidate']({'request':_0xd9fd32,'schema':Me,'ClassRef':Y,'execute':(_0x33ac13,_0x44dbff)=>U[_0x116b5a(0x5fd)](_0x33ac13,_0x44dbff)});_0x485bd6['status'](0xc9)[_0x116b5a(0x290)](_0x308d97);})[_0x4665d9(0x2ae)](this[_0x4665d9(0x14c)](_0x4665d9(0x17a)),..._0x36a957,async(_0x3f87fb,_0x2fad07)=>{const _0xb363ed=_0x4665d9;let _0x393ced=await this[_0xb363ed(0x22e)]({'request':_0x3f87fb,'schema':$a,'ClassRef':ut,'execute':(_0x3ed2b4,_0x340ef2)=>U[_0xb363ed(0x203)](_0x3ed2b4,_0x340ef2)});_0x2fad07['status'](0xc9)[_0xb363ed(0x290)](_0x393ced);})[_0x4665d9(0x2ab)](this[_0x4665d9(0x14c)](_0x4665d9(0x141)),..._0x36a957,async(_0x11b38a,_0x2dd6de)=>{const _0x979430=_0x4665d9;let _0x216971=await this[_0x979430(0x22e)]({'request':_0x11b38a,'schema':{},'ClassRef':Y,'execute':(_0x240967,_0x4bfc5f)=>U[_0x979430(0x141)](_0x240967,_0x4bfc5f)});_0x2dd6de[_0x979430(0x62e)](0xc8)[_0x979430(0x290)](_0x216971);});}},Ha=require(a0_0x1fdc58(0x3b8)),Oe=require('jsonwebtoken'),gs=require(a0_0x1fdc58(0x231)),qa=require(a0_0x1fdc58(0x5d4)),Wa=T(require('axios')),mt=class{},gt=class c{constructor(_0x2c08db,_0x3d13dd,_0x50574d){const _0x4c790f=a0_0x1fdc58;this['configService']=_0x2c08db,this['waMonitor']=_0x3d13dd,this[_0x4c790f(0x369)]=_0x50574d,this['logger']=new v(c[_0x4c790f(0x5e8)]);}async[a0_0x1fdc58(0x6f7)](_0xdc551b){const _0xe6650e=a0_0x1fdc58;let _0xb7bb9a=this[_0xe6650e(0x2fc)][_0xe6650e(0x496)]('AUTHENTICATION')[_0xe6650e(0x4a9)],_0x1e0137=(0x0,Oe[_0xe6650e(0x1f5)])({'instanceName':_0xdc551b[_0xe6650e(0x6d8)],'apiName':Ye,'tokenId':(0x0,gs['v4'])()},_0xb7bb9a[_0xe6650e(0x6c1)],{'expiresIn':_0xb7bb9a[_0xe6650e(0x421)],'encoding':_0xe6650e(0x36b),'subject':_0xe6650e(0x14e)}),_0x4f3298=await this[_0xe6650e(0x369)][_0xe6650e(0x3ea)][_0xe6650e(0x3ab)]({'jwt':_0x1e0137},_0xdc551b['instanceName']);if(_0x4f3298['error'])throw this[_0xe6650e(0x647)][_0xe6650e(0x484)]({'localError':c[_0xe6650e(0x5e8)]+_0xe6650e(0x500),'error':_0x4f3298[_0xe6650e(0x484)]}),new m(_0xe6650e(0x41e),_0x4f3298[_0xe6650e(0x484)]?.[_0xe6650e(0x686)]());return{'jwt':_0x1e0137};}async[a0_0x1fdc58(0x322)](_0x22bb87){const _0x33467e=a0_0x1fdc58;let _0x55398d=(0x0,gs['v4'])()[_0x33467e(0x620)](),_0x2ede17=await this[_0x33467e(0x369)][_0x33467e(0x3ea)]['create']({'apikey':_0x55398d},_0x22bb87['instanceName']);if(_0x2ede17[_0x33467e(0x484)])throw this[_0x33467e(0x647)]['error']({'localError':c[_0x33467e(0x5e8)]+_0x33467e(0x500),'error':_0x2ede17[_0x33467e(0x484)]}),new m('Authentication\x20error',_0x2ede17['error']?.[_0x33467e(0x686)]());return{'apikey':_0x55398d};}async[a0_0x1fdc58(0x350)](_0x4f80c1){const _0x295fb5=a0_0x1fdc58;let _0x341377=this['configService'][_0x295fb5(0x496)]('AUTHENTICATION');return await this[_0x341377['TYPE']](_0x4f80c1);}async[a0_0x1fdc58(0x40a)]({oldToken:_0x165b2a}){const _0x23867c=a0_0x1fdc58;if(!(0x0,qa[_0x23867c(0x45c)])(_0x165b2a))throw new m(_0x23867c(0x583));try{let _0x470445=this[_0x23867c(0x2fc)][_0x23867c(0x496)](_0x23867c(0x6ea))[_0x23867c(0x4a9)],_0x421258=(0x0,Oe[_0x23867c(0x1d8)])(_0x165b2a,_0x470445[_0x23867c(0x6c1)],{'ignoreExpiration':!0x0}),_0x4c123c=await this[_0x23867c(0x369)][_0x23867c(0x3ea)][_0x23867c(0x192)](_0x421258[_0x23867c(0x6d8)]),_0x4e0678=(0x0,Oe[_0x23867c(0x1d8)])(_0x4c123c[_0x23867c(0x6f7)],_0x470445[_0x23867c(0x6c1)],{'ignoreExpiration':!0x0});if(_0x421258[_0x23867c(0x531)]!==_0x4e0678[_0x23867c(0x531)])throw new m(_0x23867c(0x583));let _0x3cbcef={'jwt':(await this[_0x23867c(0x6f7)]({'instanceName':_0x421258[_0x23867c(0x6d8)]}))['jwt'],'instanceName':_0x421258['instanceName']};try{let _0x1d0ca5=await this['repository'][_0x23867c(0x4ec)][_0x23867c(0x192)](_0x421258[_0x23867c(0x6d8)]);_0x1d0ca5?.['enabled']&&this[_0x23867c(0x2fc)][_0x23867c(0x496)]('WEBHOOK')['EVENTS'][_0x23867c(0x519)]&&await Wa[_0x23867c(0x4ab)][_0x23867c(0x3ab)]({'baseURL':_0x1d0ca5[_0x23867c(0x47b)]})[_0x23867c(0x454)]('',{'event':_0x23867c(0x6ab),'instance':_0x421258[_0x23867c(0x6d8)],'data':_0x3cbcef},{'params':{'owner':this[_0x23867c(0x619)][_0x23867c(0x592)][_0x421258[_0x23867c(0x6d8)]][_0x23867c(0x13e)]}});}catch(_0x2656de){this[_0x23867c(0x647)]['error'](_0x2656de);}return _0x3cbcef;}catch(_0x44adf4){throw this[_0x23867c(0x647)][_0x23867c(0x484)]({'localError':c[_0x23867c(0x5e8)]+_0x23867c(0x26c),'error':_0x44adf4}),new m(_0x23867c(0x583));}}},ht=class extends _{constructor(_0x44de7e,..._0x744cbe){const _0x56461b=a0_0x1fdc58;super(),this['configService']=_0x44de7e,this['router']=(0x0,Ha[_0x56461b(0x165)])();let _0x1bd507=_0x44de7e[_0x56461b(0x496)](_0x56461b(0x6ea));this[_0x56461b(0x291)][_0x56461b(0x454)](_0x56461b(0x5ce),..._0x744cbe,async(_0x1172b3,_0x32f138)=>{const _0x4d3c83=_0x56461b;let {instanceName:_0x2fa6a1,apikey:_0x3dbbc9}=_0x1172b3[_0x4d3c83(0x403)],_0x7d25c2=await ne[_0x4d3c83(0x644)]({'instanceName':_0x2fa6a1,'apikey':_0x3dbbc9});return _0x32f138[_0x4d3c83(0x62e)](0xc9)['json'](_0x7d25c2);})['put'](this[_0x56461b(0x14c)](_0x56461b(0x5a4)),..._0x744cbe,async(_0x45e49c,_0x483eb9)=>{const _0x332e60=_0x56461b;let _0x199b51=await this[_0x332e60(0x1ec)]({'request':_0x45e49c,'schema':C,'ClassRef':b,'execute':_0x5b4a9e=>ne[_0x332e60(0x674)](_0x5b4a9e)});return _0x483eb9[_0x332e60(0x62e)](0xc8)[_0x332e60(0x290)](_0x199b51);})['get'](this[_0x56461b(0x14c)](_0x56461b(0x4eb)),..._0x744cbe,async(_0xc673b2,_0x29f569)=>{const _0x2563d8=_0x56461b;let _0xe5b62=await this[_0x2563d8(0x1ec)]({'request':_0xc673b2,'schema':C,'ClassRef':b,'execute':_0x17bfd3=>ne[_0x2563d8(0x345)](_0x17bfd3)});return _0x29f569[_0x2563d8(0x62e)](0xc8)[_0x2563d8(0x290)](_0xe5b62);})[_0x56461b(0x496)](this[_0x56461b(0x14c)](_0x56461b(0x208)),..._0x744cbe,async(_0x5e3641,_0x51f251)=>{const _0x9d74ca=_0x56461b;let _0x2ddd00=await this[_0x9d74ca(0x1ec)]({'request':_0x5e3641,'schema':C,'ClassRef':b,'execute':_0x10fba5=>ne[_0x9d74ca(0x208)](_0x10fba5)});return _0x51f251[_0x9d74ca(0x62e)](0xc8)[_0x9d74ca(0x290)](_0x2ddd00);})[_0x56461b(0x496)](this[_0x56461b(0x14c)](_0x56461b(0x6f1),!0x1),..._0x744cbe,async(_0x98616e,_0x283477)=>{const _0x16cb9b=_0x56461b;let _0x4bd50d=await this[_0x16cb9b(0x1ec)]({'request':_0x98616e,'schema':null,'ClassRef':b,'execute':_0x1fd8c6=>ne[_0x16cb9b(0x6f1)](_0x1fd8c6)});return _0x283477[_0x16cb9b(0x62e)](0xc8)[_0x16cb9b(0x290)](_0x4bd50d);})[_0x56461b(0x2ab)](this[_0x56461b(0x14c)](_0x56461b(0x56f)),..._0x744cbe,async(_0x1c70dc,_0x315950)=>{const _0xbdccee=_0x56461b;let _0x5f1d58=await this[_0xbdccee(0x1ec)]({'request':_0x1c70dc,'schema':C,'ClassRef':b,'execute':_0x209f77=>ne[_0xbdccee(0x56f)](_0x209f77)});return _0x315950['status'](0xc8)['json'](_0x5f1d58);})[_0x56461b(0x2ab)](this[_0x56461b(0x14c)](_0x56461b(0x2ab)),..._0x744cbe,async(_0x3f4e5c,_0x4c409e)=>{const _0x326351=_0x56461b;let _0x2b67c3=await this['dataValidate']({'request':_0x3f4e5c,'schema':C,'ClassRef':b,'execute':_0x323aaa=>ne[_0x326351(0x49b)](_0x323aaa)});return _0x4c409e['status'](0xc8)['json'](_0x2b67c3);}),_0x1bd507[_0x56461b(0x692)]===_0x56461b(0x6f7)&&this['router'][_0x56461b(0x2ae)](_0x56461b(0x2f4),async(_0x3de26f,_0x219d91)=>{const _0x55c516=_0x56461b;let _0x5cb8ca=await this['dataValidate']({'request':_0x3de26f,'schema':ua,'ClassRef':mt,'execute':(_0x57a6c7,_0x2a3e3e)=>ne[_0x55c516(0x40a)](_0x57a6c7,_0x2a3e3e)});return _0x219d91[_0x55c516(0x62e)](0xc9)['json'](_0x5cb8ca);});}},Ka=require(a0_0x1fdc58(0x3b8)),hs=class{},K=class extends hs{},ft=class extends K{},wt=class extends K{},yt=class extends K{},Pe=class extends K{},bt=class extends K{},St=class extends K{},Et=class extends K{},Nt=class extends K{},Ct=class extends K{},vt=class{},Tt=class extends _{constructor(..._0x496e7d){const _0x3f048a=a0_0x1fdc58;super(),this[_0x3f048a(0x291)]=(0x0,Ka[_0x3f048a(0x165)])(),this[_0x3f048a(0x291)][_0x3f048a(0x454)](this['routerPath'](_0x3f048a(0x36d)),..._0x496e7d,async(_0x2bde49,_0x5aeb30)=>{const _0x19d436=_0x3f048a;let _0x2b5159=await this[_0x19d436(0x1ec)]({'request':_0x2bde49,'schema':da,'ClassRef':ft,'execute':(_0x4079dd,_0x168e6b)=>W[_0x19d436(0x36d)](_0x4079dd,_0x168e6b)});return _0x5aeb30[_0x19d436(0x62e)](0xc9)[_0x19d436(0x290)](_0x2b5159);})[_0x3f048a(0x454)](this['routerPath'](_0x3f048a(0x19a)),..._0x496e7d,async(_0x4018c2,_0x153e32)=>{const _0x58d18d=_0x3f048a;let _0x1dfdca=await this[_0x58d18d(0x1ec)]({'request':_0x4018c2,'schema':ha,'ClassRef':Pe,'execute':(_0x41f26f,_0x4e1f5a)=>W[_0x58d18d(0x19a)](_0x41f26f,_0x4e1f5a)});return _0x153e32[_0x58d18d(0x62e)](0xc9)[_0x58d18d(0x290)](_0x1dfdca);})['post'](this[_0x3f048a(0x14c)](_0x3f048a(0x49c)),..._0x496e7d,async(_0x2b20be,_0x4bbe69)=>{const _0x437574=_0x3f048a;let _0x3cc638=await this[_0x437574(0x1ec)]({'request':_0x2b20be,'schema':fa,'ClassRef':Pe,'execute':(_0x3f0c81,_0x4caf7f)=>W[_0x437574(0x49c)](_0x3f0c81,_0x4caf7f)});return _0x4bbe69['status'](0xc9)[_0x437574(0x290)](_0x3cc638);})['post'](this['routerPath'](_0x3f048a(0x19e)),..._0x496e7d,async(_0x574659,_0x11d55f)=>{const _0x5417cb=_0x3f048a;let _0x5bc8b5=await this[_0x5417cb(0x1ec)]({'request':_0x574659,'schema':ya,'ClassRef':St,'execute':(_0x20026f,_0x29b799)=>W['sendButtons'](_0x20026f,_0x29b799)});return _0x11d55f['status'](0xc9)[_0x5417cb(0x290)](_0x5bc8b5);})['post'](this[_0x3f048a(0x14c)]('sendLocation'),..._0x496e7d,async(_0x56e016,_0x4a1195)=>{const _0x5b459d=_0x3f048a;let _0x1ae466=await this['dataValidate']({'request':_0x56e016,'schema':ba,'ClassRef':Et,'execute':(_0x5217c5,_0x52beda)=>W['sendLocation'](_0x5217c5,_0x52beda)});return _0x4a1195['status'](0xc9)[_0x5b459d(0x290)](_0x1ae466);})[_0x3f048a(0x454)](this[_0x3f048a(0x14c)](_0x3f048a(0x608)),..._0x496e7d,async(_0x195bc4,_0x1fafc9)=>{const _0x28daf7=_0x3f048a;let _0x2d488a=await this[_0x28daf7(0x1ec)]({'request':_0x195bc4,'schema':Sa,'ClassRef':Nt,'execute':(_0x21cd8c,_0x161e0d)=>W[_0x28daf7(0x608)](_0x21cd8c,_0x161e0d)});return _0x1fafc9[_0x28daf7(0x62e)](0xc9)[_0x28daf7(0x290)](_0x2d488a);})[_0x3f048a(0x454)](this[_0x3f048a(0x14c)](_0x3f048a(0x175)),..._0x496e7d,async(_0x234b62,_0x5492b8)=>{const _0x539817=_0x3f048a;let _0x46b36d=await this['dataValidate']({'request':_0x234b62,'schema':Ea,'ClassRef':Ct,'execute':(_0x419d91,_0x30133a)=>W[_0x539817(0x175)](_0x419d91,_0x30133a)});return _0x5492b8[_0x539817(0x62e)](0xc9)[_0x539817(0x290)](_0x46b36d);})[_0x3f048a(0x454)](this['routerPath'](_0x3f048a(0x6e8)),..._0x496e7d,async(_0x23afc8,_0x5d8a07)=>{const _0xc3ac6e=_0x3f048a;let _0x2c9bdc=await this[_0xc3ac6e(0x1ec)]({'request':_0x23afc8,'schema':Na,'ClassRef':vt,'execute':(_0x136bb8,_0x50a4a7)=>W[_0xc3ac6e(0x6e8)](_0x136bb8,_0x50a4a7)});return _0x5d8a07[_0xc3ac6e(0x62e)](0xc9)[_0xc3ac6e(0x290)](_0x2c9bdc);})[_0x3f048a(0x454)](this[_0x3f048a(0x14c)](_0x3f048a(0x477)),..._0x496e7d,async(_0x1da6ad,_0x3837d7)=>{const _0x416e76=_0x3f048a;let _0x4e6ee4=await this[_0x416e76(0x1ec)]({'request':_0x1da6ad,'schema':wa,'ClassRef':yt,'execute':(_0x8361c3,_0x542088)=>W[_0x416e76(0x477)](_0x8361c3,_0x542088)});return _0x3837d7[_0x416e76(0x62e)](0xc9)[_0x416e76(0x290)](_0x4e6ee4);})['post'](this[_0x3f048a(0x14c)]('sendStatus'),..._0x496e7d,async(_0x38bddb,_0x1f6ea7)=>{const _0x15de66=_0x3f048a;let _0x4e8850=await this[_0x15de66(0x1ec)]({'request':_0x38bddb,'schema':ga,'ClassRef':wt,'execute':(_0x447cc6,_0x340465)=>W[_0x15de66(0x1ad)](_0x447cc6,_0x340465)});return _0x1f6ea7[_0x15de66(0x62e)](0xc9)[_0x15de66(0x290)](_0x4e8850);})[_0x3f048a(0x454)](this[_0x3f048a(0x14c)]('sendSticker'),..._0x496e7d,async(_0xda4b04,_0x171568)=>{const _0x346781=_0x3f048a;let _0x7eb790=await this[_0x346781(0x1ec)]({'request':_0xda4b04,'schema':ma,'ClassRef':bt,'execute':(_0x24cdb0,_0x8b672b)=>W[_0x346781(0x4de)](_0x24cdb0,_0x8b672b)});return _0x171568[_0x346781(0x62e)](0xc9)[_0x346781(0x290)](_0x7eb790);});}},za=require(a0_0x1fdc58(0x3b8)),Mt=class extends _{constructor(..._0x5dbe44){const _0x3b2302=a0_0x1fdc58;super(),this[_0x3b2302(0x291)]=(0x0,za['Router'])(),this[_0x3b2302(0x291)][_0x3b2302(0x496)](this[_0x3b2302(0x14c)](_0x3b2302(0x56d)),..._0x5dbe44,(_0x1d301d,_0x5d3dbd)=>Qa['qrcode'](_0x1d301d,_0x5d3dbd));}},Ya=require(a0_0x1fdc58(0x3b8)),Rt=class{},At=class extends _{constructor(..._0x503015){const _0x37ae2f=a0_0x1fdc58;super(),this[_0x37ae2f(0x291)]=(0x0,Ya[_0x37ae2f(0x165)])(),this[_0x37ae2f(0x291)][_0x37ae2f(0x454)](this[_0x37ae2f(0x14c)](_0x37ae2f(0x5a3)),..._0x503015,async(_0x221360,_0x115cda)=>{const _0x48fcbc=_0x37ae2f;let _0x40efff=await this['dataValidate']({'request':_0x221360,'schema':Fa,'ClassRef':Rt,'execute':(_0x3ecd4e,_0x75e4f9)=>fs[_0x48fcbc(0x3ac)](_0x3ecd4e,_0x75e4f9)});_0x115cda[_0x48fcbc(0x62e)](0xc9)[_0x48fcbc(0x290)](_0x40efff);})[_0x37ae2f(0x496)](this[_0x37ae2f(0x14c)](_0x37ae2f(0x192)),..._0x503015,async(_0x15793f,_0x47d462)=>{const _0x4fee23=_0x37ae2f;let _0x8d315b=await this[_0x4fee23(0x1ec)]({'request':_0x15793f,'schema':C,'ClassRef':b,'execute':_0x15c145=>fs[_0x4fee23(0x4e2)](_0x15c145)});_0x47d462['status'](0xc8)[_0x4fee23(0x290)](_0x8d315b);});}},Xa=require(a0_0x1fdc58(0x3b8)),g=new v('FlowRouter'),It=class extends _{constructor(..._0x218e66){const _0x39279e=a0_0x1fdc58;super(),this[_0x39279e(0x291)]=(0x0,Xa[_0x39279e(0x165)])(),this[_0x39279e(0x291)]['post'](this[_0x39279e(0x14c)]('scheduleMessage'),..._0x218e66,async(_0x2c1268,_0x1455c0)=>{const _0x3f41e5=_0x39279e;let _0x342718=_0x2c1268[_0x3f41e5(0x403)];g[_0x3f41e5(0x691)](_0x3f41e5(0x4c7)),g['verbose'](_0x3f41e5(0x60d)),g[_0x3f41e5(0x691)](_0x2c1268[_0x3f41e5(0x403)]);let _0x102982=await this[_0x3f41e5(0x1ec)]({'request':_0x2c1268,'schema':C,'ClassRef':b,'execute':_0x48335f=>R[_0x3f41e5(0x5e6)](_0x48335f,_0x342718)});_0x1455c0[_0x3f41e5(0x62e)](0xc8)['json'](_0x102982);})[_0x39279e(0x496)](this[_0x39279e(0x14c)](_0x39279e(0x6c7)),..._0x218e66,async(_0x46c0be,_0x340628)=>{const _0x1e8991=_0x39279e;let _0x509bf6=await this[_0x1e8991(0x1ec)]({'request':_0x46c0be,'schema':C,'ClassRef':b,'execute':_0x451777=>R[_0x1e8991(0x3f2)](_0x451777)});_0x340628[_0x1e8991(0x62e)](0xc8)[_0x1e8991(0x290)](_0x509bf6);})['delete'](this[_0x39279e(0x14c)](_0x39279e(0x1d6)),..._0x218e66,async(_0x7fa978,_0x14f2ce)=>{const _0x180b4e=_0x39279e;g[_0x180b4e(0x691)](_0x180b4e(0x5ed));let _0x41f1e1=await this[_0x180b4e(0x1ec)]({'request':_0x7fa978,'schema':C,'ClassRef':b,'execute':_0x5cc929=>R[_0x180b4e(0x1d6)](_0x5cc929)});_0x14f2ce[_0x180b4e(0x62e)](0xc8)[_0x180b4e(0x290)](_0x41f1e1);})['post'](this[_0x39279e(0x14c)](_0x39279e(0x15b)),..._0x218e66,async(_0x475607,_0x26e568)=>{const _0x37e0de=_0x39279e;let _0x80b671=_0x475607[_0x37e0de(0x403)];g[_0x37e0de(0x691)]('request\x20received\x20in\x20starFlow'),g[_0x37e0de(0x691)](_0x37e0de(0x60d)),g[_0x37e0de(0x691)](_0x475607[_0x37e0de(0x403)]);let _0x416d96=await this[_0x37e0de(0x1ec)]({'request':_0x475607,'schema':C,'ClassRef':b,'execute':_0x3f515a=>R[_0x37e0de(0x15b)](_0x3f515a,_0x80b671)});_0x26e568['status'](0xc8)[_0x37e0de(0x290)](_0x416d96);})[_0x39279e(0x496)](this[_0x39279e(0x14c)](_0x39279e(0x570)),..._0x218e66,async(_0x52426a,_0x2c2b65)=>{const _0x4c35f1=_0x39279e;g['verbose'](_0x4c35f1(0x2bd));let _0x2650e6=await this['dataValidate']({'request':_0x52426a,'schema':C,'ClassRef':b,'execute':_0xac4e85=>R[_0x4c35f1(0x570)](_0xac4e85)});_0x2c2b65[_0x4c35f1(0x62e)](0xc8)[_0x4c35f1(0x290)](_0x2650e6);})[_0x39279e(0x496)](this[_0x39279e(0x14c)](_0x39279e(0x6a5)),..._0x218e66,async(_0x331130,_0x44b8fa)=>{const _0x25bfbf=_0x39279e;g[_0x25bfbf(0x691)](_0x25bfbf(0x1f4));let _0x1a130c=await this[_0x25bfbf(0x1ec)]({'request':_0x331130,'schema':C,'ClassRef':b,'execute':_0x5b711c=>R['getAutomateSystem'](_0x5b711c)});_0x44b8fa['status'](0xc8)[_0x25bfbf(0x290)](_0x1a130c);})[_0x39279e(0x454)](this[_0x39279e(0x14c)](_0x39279e(0x6b5)),..._0x218e66,async(_0xf3f177,_0x7b5dd0)=>{const _0x1afb7c=_0x39279e;let _0x545a33=_0xf3f177[_0x1afb7c(0x403)];g[_0x1afb7c(0x691)](_0x1afb7c(0x379)),g[_0x1afb7c(0x691)]('request\x20body:\x20'),g[_0x1afb7c(0x691)](_0xf3f177[_0x1afb7c(0x403)]);let _0x56b22c=await this[_0x1afb7c(0x1ec)]({'request':_0xf3f177,'schema':C,'ClassRef':b,'execute':_0x3afe88=>R[_0x1afb7c(0x6b5)](_0x3afe88,_0x545a33)});_0x7b5dd0['status'](0xc8)[_0x1afb7c(0x290)](_0x56b22c);})[_0x39279e(0x454)](this[_0x39279e(0x14c)](_0x39279e(0x26f)),..._0x218e66,async(_0x47c660,_0x1a09b9)=>{const _0x1dc7ad=_0x39279e;let _0x502eb1=_0x47c660[_0x1dc7ad(0x403)];g[_0x1dc7ad(0x691)](_0x1dc7ad(0x39f)),g['verbose'](_0x1dc7ad(0x60d)),g['verbose'](_0x47c660[_0x1dc7ad(0x403)]);let _0x2ea6a7=await this[_0x1dc7ad(0x1ec)]({'request':_0x47c660,'schema':C,'ClassRef':b,'execute':_0x25af21=>R[_0x1dc7ad(0x26f)](_0x25af21,_0x502eb1)});_0x1a09b9['status'](0xc8)[_0x1dc7ad(0x290)](_0x2ea6a7);})[_0x39279e(0x454)](this[_0x39279e(0x14c)](_0x39279e(0x63c)),..._0x218e66,async(_0x5631e3,_0x380076)=>{const _0x1ca6df=_0x39279e;let _0x143ab4=_0x5631e3[_0x1ca6df(0x403)];g[_0x1ca6df(0x691)](_0x1ca6df(0x171)),g[_0x1ca6df(0x691)]('request\x20body:\x20'),g['verbose'](_0x5631e3['body']);let _0xcbeb9f=await this[_0x1ca6df(0x1ec)]({'request':_0x5631e3,'schema':C,'ClassRef':b,'execute':_0x3678e9=>R[_0x1ca6df(0x63c)](_0x3678e9,_0x143ab4)});_0x380076[_0x1ca6df(0x62e)](0xc8)['json'](_0xcbeb9f);})[_0x39279e(0x454)](this[_0x39279e(0x14c)](_0x39279e(0x3ad)),..._0x218e66,async(_0x579881,_0x5bfd91)=>{const _0x1e7b58=_0x39279e;let _0x3378eb=_0x579881['body'];g['verbose']('request\x20received\x20in\x20getConversation'),g['verbose'](_0x1e7b58(0x60d)),g[_0x1e7b58(0x691)](_0x579881[_0x1e7b58(0x403)]);let _0x447f8a=await this[_0x1e7b58(0x1ec)]({'request':_0x579881,'schema':C,'ClassRef':b,'execute':_0x36a39e=>R[_0x1e7b58(0x3ad)](_0x36a39e,_0x3378eb)});_0x5bfd91[_0x1e7b58(0x62e)](0xc8)[_0x1e7b58(0x290)](_0x447f8a);})[_0x39279e(0x454)](this[_0x39279e(0x14c)](_0x39279e(0x57e)),..._0x218e66,async(_0xe786e8,_0x344fb9)=>{const _0x273333=_0x39279e;let _0x4fe5b0=_0xe786e8[_0x273333(0x403)];g[_0x273333(0x691)](_0x273333(0x6ad)),g['verbose']('request\x20body:\x20'),g[_0x273333(0x691)](_0xe786e8[_0x273333(0x403)]);let _0x15558b=await this[_0x273333(0x1ec)]({'request':_0xe786e8,'schema':C,'ClassRef':b,'execute':_0x11b3d8=>R['fetchConversation'](_0x11b3d8,_0x4fe5b0)});_0x344fb9[_0x273333(0x62e)](0xc8)['json'](_0x15558b);})[_0x39279e(0x454)](this[_0x39279e(0x14c)](_0x39279e(0x540)),..._0x218e66,async(_0x35924f,_0x35d396)=>{const _0x11f1e2=_0x39279e;let _0x28b225=_0x35924f['body'];g[_0x11f1e2(0x691)](_0x11f1e2(0x645)),g[_0x11f1e2(0x691)](_0x11f1e2(0x60d)),g[_0x11f1e2(0x691)](_0x35924f[_0x11f1e2(0x403)]);let _0x23199f=await this[_0x11f1e2(0x1ec)]({'request':_0x35924f,'schema':C,'ClassRef':b,'execute':_0xcdb20c=>R[_0x11f1e2(0x540)](_0xcdb20c,_0x28b225)});_0x35d396[_0x11f1e2(0x62e)](0xc8)[_0x11f1e2(0x290)](_0x23199f);})[_0x39279e(0x2ab)](this[_0x39279e(0x14c)](_0x39279e(0x36e)),..._0x218e66,async(_0x104473,_0x1ff44e)=>{const _0x3d74b3=_0x39279e;let _0x364625=_0x104473['body'];g[_0x3d74b3(0x691)](_0x3d74b3(0x1aa)),g[_0x3d74b3(0x691)](_0x3d74b3(0x60d)),g['verbose'](_0x104473[_0x3d74b3(0x403)]);let _0x15ce6c=await this[_0x3d74b3(0x1ec)]({'request':_0x104473,'schema':C,'ClassRef':b,'execute':_0x3ff573=>R[_0x3d74b3(0x36e)](_0x3ff573,_0x364625)});_0x1ff44e['status'](0xc8)[_0x3d74b3(0x290)](_0x15ce6c);})[_0x39279e(0x454)](this['routerPath'](_0x39279e(0x521)),..._0x218e66,async(_0x5eac4b,_0x57b5de)=>{const _0x3195ae=_0x39279e;let _0x20b216=_0x5eac4b[_0x3195ae(0x403)];g[_0x3195ae(0x691)](_0x3195ae(0x54d)),g[_0x3195ae(0x691)](_0x3195ae(0x60d)),g['verbose'](_0x5eac4b['body']);let _0x580244=await this[_0x3195ae(0x1ec)]({'request':_0x5eac4b,'schema':C,'ClassRef':b,'execute':_0x5c0fd6=>R[_0x3195ae(0x4fb)](_0x5c0fd6,_0x20b216)});_0x57b5de[_0x3195ae(0x62e)](0xc8)[_0x3195ae(0x290)](_0x580244);})[_0x39279e(0x454)](this[_0x39279e(0x14c)]('editflow'),..._0x218e66,async(_0x5d63fd,_0x3ea970)=>{const _0x5d1daf=_0x39279e;let _0x2c3656=_0x5d63fd[_0x5d1daf(0x403)];g['verbose'](_0x5d1daf(0x3b1)),g[_0x5d1daf(0x691)](_0x5d1daf(0x60d)),g[_0x5d1daf(0x691)](_0x5d63fd['body']),delete _0x2c3656[_0x5d1daf(0x52b)],delete _0x2c3656[_0x5d1daf(0x67d)],delete _0x2c3656[_0x5d1daf(0x5dc)],delete _0x2c3656[_0x5d1daf(0x536)];let _0x57ea60=await this[_0x5d1daf(0x1ec)]({'request':_0x5d63fd,'schema':C,'ClassRef':b,'execute':_0x5cb773=>R[_0x5d1daf(0x655)](_0x5cb773,_0x2c3656)});_0x3ea970['status'](0xc8)[_0x5d1daf(0x290)](_0x57ea60);})['post'](this[_0x39279e(0x14c)](_0x39279e(0x53b)),..._0x218e66,async(_0x34503a,_0x105f71)=>{const _0x3da62c=_0x39279e;let _0x2e37ee=_0x34503a[_0x3da62c(0x403)];g[_0x3da62c(0x691)](_0x3da62c(0x3b1)),g['verbose'](_0x3da62c(0x60d)),g[_0x3da62c(0x691)](_0x34503a[_0x3da62c(0x403)]);let _0x41c670=await this[_0x3da62c(0x1ec)]({'request':_0x34503a,'schema':C,'ClassRef':b,'execute':_0x71d1e5=>R[_0x3da62c(0x2c0)](_0x71d1e5,_0x2e37ee)});_0x105f71['status'](0xc8)[_0x3da62c(0x290)](_0x41c670);})[_0x39279e(0x454)](this[_0x39279e(0x14c)](_0x39279e(0x3e0)),..._0x218e66,async(_0x52019a,_0x1bde3d)=>{const _0x27bc69=_0x39279e;let _0x26d752=_0x52019a['body'];g[_0x27bc69(0x691)](_0x27bc69(0x3b1)),g[_0x27bc69(0x691)](_0x27bc69(0x60d)),g[_0x27bc69(0x691)](_0x52019a[_0x27bc69(0x403)]);let _0x34f064=await this['dataValidate']({'request':_0x52019a,'schema':C,'ClassRef':b,'execute':_0x3609aa=>R[_0x27bc69(0x5c6)](_0x3609aa,_0x26d752)});_0x1bde3d['status'](0xc8)['json'](_0x34f064);})['post'](this[_0x39279e(0x14c)]('editflowvaredit'),..._0x218e66,async(_0x238e36,_0x1078e1)=>{const _0x46302f=_0x39279e;let _0x3cde89=_0x238e36['body'];g[_0x46302f(0x691)](_0x46302f(0x3b1)),g[_0x46302f(0x691)]('request\x20body:\x20'),g[_0x46302f(0x691)](_0x238e36[_0x46302f(0x403)]);let _0x40e0d8=await this['dataValidate']({'request':_0x238e36,'schema':C,'ClassRef':b,'execute':_0x4157df=>R[_0x46302f(0x56c)](_0x4157df,_0x3cde89)});_0x1078e1[_0x46302f(0x62e)](0xc8)[_0x46302f(0x290)](_0x40e0d8);})['post'](this[_0x39279e(0x14c)](_0x39279e(0x393)),..._0x218e66,async(_0x5baa40,_0x54e585)=>{const _0x1d76f4=_0x39279e;let _0x48e4b8=_0x5baa40[_0x1d76f4(0x403)];g[_0x1d76f4(0x691)](_0x1d76f4(0x399)),g[_0x1d76f4(0x691)](_0x1d76f4(0x60d)),g['verbose'](_0x5baa40[_0x1d76f4(0x403)]);let _0x180972=await this[_0x1d76f4(0x1ec)]({'request':_0x5baa40,'schema':C,'ClassRef':b,'execute':_0x2ce226=>R[_0x1d76f4(0x282)](_0x2ce226,_0x48e4b8)});_0x54e585[_0x1d76f4(0x62e)](0xc8)[_0x1d76f4(0x290)](_0x180972);})[_0x39279e(0x454)](this[_0x39279e(0x14c)](_0x39279e(0x6ce)),..._0x218e66,async(_0x135907,_0x147413)=>{const _0x487b8e=_0x39279e;let _0xa30626=_0x135907[_0x487b8e(0x403)];g['verbose'](_0x487b8e(0x509)),g[_0x487b8e(0x691)]('request\x20body:\x20'),g['verbose'](_0x135907[_0x487b8e(0x403)]);let _0xd79f5f=await this[_0x487b8e(0x1ec)]({'request':_0x135907,'schema':C,'ClassRef':b,'execute':_0x57f3f5=>R[_0x487b8e(0x55f)](_0x57f3f5,_0xa30626)});_0x147413['status'](0xc8)[_0x487b8e(0x290)](_0xd79f5f);})[_0x39279e(0x454)](this[_0x39279e(0x14c)](_0x39279e(0x525)),..._0x218e66,async(_0x421edd,_0x545dba)=>{const _0x4d496e=_0x39279e;let _0x5bd38f=_0x421edd['body'];g[_0x4d496e(0x691)](_0x4d496e(0x199)),g[_0x4d496e(0x691)](_0x4d496e(0x60d)),g[_0x4d496e(0x691)](_0x421edd[_0x4d496e(0x403)]);let _0x4286dc=await this[_0x4d496e(0x1ec)]({'request':_0x421edd,'schema':C,'ClassRef':b,'execute':_0x701c9b=>R[_0x4d496e(0x1ce)](_0x701c9b,_0x5bd38f)});_0x545dba[_0x4d496e(0x62e)](0xc8)[_0x4d496e(0x290)](_0x4286dc);})[_0x39279e(0x454)](this[_0x39279e(0x14c)](_0x39279e(0x664)),..._0x218e66,async(_0xe09712,_0x2e56a5)=>{const _0xf67738=_0x39279e;let _0x2e1de8=_0xe09712[_0xf67738(0x403)];g[_0xf67738(0x691)](_0xf67738(0x221)),g[_0xf67738(0x691)](_0xf67738(0x60d)),g[_0xf67738(0x691)](_0xe09712[_0xf67738(0x403)]);let _0x58ae70=await this['dataValidate']({'request':_0xe09712,'schema':C,'ClassRef':b,'execute':_0x1ff952=>R[_0xf67738(0x6af)](_0x1ff952,_0x2e1de8)});_0x2e56a5[_0xf67738(0x62e)](0xc8)[_0xf67738(0x290)](_0x58ae70);})[_0x39279e(0x2ab)](this[_0x39279e(0x14c)]('deleteflow'),..._0x218e66,async(_0x147cb6,_0x3be651)=>{const _0x116bb2=_0x39279e;let _0x3657d5=_0x147cb6[_0x116bb2(0x403)];g[_0x116bb2(0x691)](_0x116bb2(0x54d)),g[_0x116bb2(0x691)](_0x116bb2(0x60d)),g[_0x116bb2(0x691)](_0x147cb6['body']);let _0x42c62b=await this[_0x116bb2(0x1ec)]({'request':_0x147cb6,'schema':C,'ClassRef':b,'execute':_0x2af003=>R[_0x116bb2(0x21b)](_0x2af003,_0x3657d5)});_0x3be651[_0x116bb2(0x62e)](0xc8)['json'](_0x42c62b);})[_0x39279e(0x496)](this['routerPath'](_0x39279e(0x5ca)),..._0x218e66,async(_0x5ce53a,_0x22fc31)=>{const _0x37c0cf=_0x39279e;g[_0x37c0cf(0x691)](_0x37c0cf(0x697));let _0x53566e=await this[_0x37c0cf(0x1ec)]({'request':_0x5ce53a,'schema':C,'ClassRef':b,'execute':_0x65b067=>R[_0x37c0cf(0x34d)](_0x65b067)});_0x22fc31['status'](0xc8)[_0x37c0cf(0x290)](_0x53566e);});}},so=T(require(a0_0x1fdc58(0x2a3))),X={};function Za(_0x4bf023,_0x353474,_0x41511f,_0x6afdee){X[_0x4bf023]||(X[_0x4bf023]={}),X[_0x4bf023][_0x353474]={'id':_0x353474,'response':_0x41511f,'events':_0x6afdee};}function eo(_0x5e7951,_0x2ca0ee){!X[_0x5e7951]||!X[_0x5e7951][_0x2ca0ee]||delete X[_0x5e7951][_0x2ca0ee];}function H(_0x58fc1d,_0x3ed429,_0x14418c){const _0x55cee8=a0_0x1fdc58;if(!X[_0x58fc1d])return;let _0x48742e=_0x55cee8(0x45b)+JSON['stringify'](_0x14418c)+'\x0a\x0a';Object[_0x55cee8(0x68c)](X[_0x58fc1d])[_0x55cee8(0x44b)](_0x4ef01e=>{const _0x88d0a9=_0x55cee8;_0x4ef01e[_0x88d0a9(0x17c)][_0x88d0a9(0x459)](_0x3ed429)&&_0x4ef01e[_0x88d0a9(0x303)]['write'](_0x48742e);});}function to(){const _0xbcc1e3=a0_0x1fdc58;let _0x2ea5e4={};for(let _0x5cb8c2 in X)_0x2ea5e4[_0x5cb8c2]=Object[_0xbcc1e3(0x68c)](X[_0x5cb8c2])['map'](_0xb765f4=>({'id':_0xb765f4['id'],'events':_0xb765f4[_0xbcc1e3(0x17c)]}));return _0x2ea5e4;}var ao=require(a0_0x1fdc58(0x231)),li=so[a0_0x1fdc58(0x4ab)][a0_0x1fdc58(0x567)](__dirname,'downloads'),Ot=(0x0,Dt['Router'])(),ui=y[a0_0x1fdc58(0x496)](a0_0x1fdc58(0x6ea))[a0_0x1fdc58(0x692)],de=[ps,ra,la[ui]];Ot[a0_0x1fdc58(0x4b4)](a0_0x1fdc58(0x4db),Dt['default']['static'](li))[a0_0x1fdc58(0x496)]('/events/:instance',async(_0x36fe5b,_0x126169)=>{const _0x123c53=a0_0x1fdc58;console[_0x123c53(0x37c)]('bateu\x20events');let _0x5e6c7f=_0x36fe5b[_0x123c53(0x475)][_0x123c53(0x635)],_0x557516=(_0x36fe5b['query']['events']||'')[_0x123c53(0x296)](','),_0x45192e=(0x0,ao['v4'])();console[_0x123c53(0x37c)]('Instance\x20ID:',_0x5e6c7f),console['log']('Subscribed\x20Events:',_0x557516);let _0x369584=y[_0x123c53(0x496)]('AUTHENTICATION')['API_KEY'],_0x14af0b=_0x36fe5b['query'][_0x123c53(0x322)];if(console[_0x123c53(0x37c)](_0x123c53(0x3e5),_0x14af0b),_0x369584['KEY']!==_0x14af0b){console['log'](_0x123c53(0x248));try{let _0x429f1d=await ue['auth'][_0x123c53(0x192)](_0x5e6c7f);if(console[_0x123c53(0x37c)](_0x123c53(0x45e),_0x429f1d),!_0x429f1d||_0x429f1d[_0x123c53(0x322)]!==_0x14af0b)return console['log']('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x126169[_0x123c53(0x62e)](0x191)['send'](_0x123c53(0x24e));}catch(_0xd7409){return console['error'](_0x123c53(0x1f8),_0xd7409),_0x126169[_0x123c53(0x62e)](0x191)['send'](_0x123c53(0x233));}}if(!await Qe(_0x5e6c7f))return _0x126169[_0x123c53(0x62e)](0x194)[_0x123c53(0x6e2)](_0x123c53(0x3d9));_0x126169['setHeader'](_0x123c53(0x2b3),_0x123c53(0x2f9)),_0x126169[_0x123c53(0x152)](_0x123c53(0x4a2),_0x123c53(0x3d0)),_0x126169[_0x123c53(0x152)](_0x123c53(0x6eb),_0x123c53(0x6a1)),_0x126169[_0x123c53(0x593)]();let _0x29a963=_0x123c53(0x45b)+JSON['stringify']({'info':_0x123c53(0x3b2)})+'\x0a\x0a';_0x126169[_0x123c53(0x311)](_0x29a963),Za(_0x5e6c7f,_0x45192e,_0x126169,_0x557516),_0x36fe5b['on']('close',()=>{const _0x3bb6b5=_0x123c53;console[_0x3bb6b5(0x37c)](_0x3bb6b5(0x4c8)+_0x5e6c7f),eo(_0x5e6c7f,_0x45192e);});}),Ot[a0_0x1fdc58(0x496)](a0_0x1fdc58(0x2ad),(_0x915051,_0x46efc3)=>{let _0x492a3f=to();_0x46efc3['json'](_0x492a3f);})[a0_0x1fdc58(0x496)]('/',(_0x203f99,_0x33adc3)=>{const _0x18d497=a0_0x1fdc58;let _0x5e7c55=y[_0x18d497(0x496)]('SSL_CONF'),_0x299a90=_0x5e7c55&&_0x5e7c55[_0x18d497(0x549)][_0x18d497(0x296)]('/')[0x4];if(_0x299a90){let _0x10a0e3=encodeURIComponent(_0x18d497(0x2c4)+_0x299a90);_0x33adc3['redirect'](_0x18d497(0x508)+_0x10a0e3);}else _0x33adc3[_0x18d497(0x68a)](_0x18d497(0x59a));})[a0_0x1fdc58(0x2ae)]('/exit',...de,async(_0x409557,_0x251268)=>{const _0x143ed4=a0_0x1fdc58;try{console['log'](_0x143ed4(0x492)),_0x251268['status'](0xc8)[_0x143ed4(0x290)]({'message':_0x143ed4(0x472)}),_0x251268['on']('finish',()=>process[_0x143ed4(0x3fc)](0x0));}catch(_0x3f6b91){console['error']('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x3f6b91),_0x251268['status'](0x1f4)[_0x143ed4(0x290)]({'message':_0x143ed4(0x38f)});}})['use'](a0_0x1fdc58(0x67c),new ht(y,...de)['router'],new Mt(ps)[a0_0x1fdc58(0x291)])['use'](a0_0x1fdc58(0x4d1),new Tt(...de)[a0_0x1fdc58(0x291)])[a0_0x1fdc58(0x4b4)](a0_0x1fdc58(0x6fd),new at(...de)[a0_0x1fdc58(0x291)])[a0_0x1fdc58(0x4b4)]('/group',new pt(...de)[a0_0x1fdc58(0x291)])[a0_0x1fdc58(0x4b4)](a0_0x1fdc58(0x40b),new At(...de)[a0_0x1fdc58(0x291)])[a0_0x1fdc58(0x4b4)]('/automate',new It(...de)[a0_0x1fdc58(0x291)]);var m=class{constructor(..._0x2be672){throw{'status':0x190,'error':'Bad\x20Request','message':_0x2be672['length']>0x0?_0x2be672:void 0x0};}},ie=class{constructor(..._0x533b43){const _0x228c6b=a0_0x1fdc58;throw{'status':0x191,'error':_0x228c6b(0x353),'message':_0x533b43[_0x228c6b(0x6b4)]>0x0?_0x533b43:void 0x0};}},oe=class{constructor(..._0x43748a){const _0x43fb27=a0_0x1fdc58;throw{'status':0x193,'error':_0x43fb27(0x14d),'message':_0x43748a[_0x43fb27(0x6b4)]>0x0?_0x43748a:void 0x0};}},L=class{constructor(..._0x209625){const _0x5e0c9d=a0_0x1fdc58;throw{'status':0x194,'error':_0x5e0c9d(0x54f),'message':_0x209625[_0x5e0c9d(0x6b4)]>0x0?_0x209625:void 0x0};}},A=class{constructor(..._0xf8a43f){const _0x542def=a0_0x1fdc58;throw{'status':0x1f4,'error':_0x542def(0x4f7),'message':_0xf8a43f[_0x542def(0x6b4)]>0x0?_0xf8a43f:void 0x0};}},pe=require(a0_0x1fdc58(0x154));async function ws(_0x5e586c){const _0x49e3e7=a0_0x1fdc58;let _0x3bb646=new v(ws[_0x49e3e7(0x5e8)]),_0x216f2c=M[_0x49e3e7(0x471)](),_0x36c1f8=_0x216f2c['db'](y[_0x49e3e7(0x496)](_0x49e3e7(0x2f2))[_0x49e3e7(0x335)]['DB_PREFIX_NAME']+_0x49e3e7(0x222))[_0x49e3e7(0x1db)](_0x5e586c),_0x3dcb3a=async(_0x72baef,_0x188b59)=>{const _0x1119c3=_0x49e3e7;try{return await _0x216f2c['connect'](),await _0x36c1f8[_0x1119c3(0x63a)]({'_id':_0x188b59},JSON[_0x1119c3(0x59c)](JSON[_0x1119c3(0x1b7)](_0x72baef,pe[_0x1119c3(0x1c3)][_0x1119c3(0x20d)])),{'upsert':!0x0});}catch{}},_0x50b98b=async _0x1a5f99=>{const _0x1444bf=_0x49e3e7;try{await _0x216f2c[_0x1444bf(0x4eb)]();let _0x315c42=await _0x36c1f8[_0x1444bf(0x5e3)]({'_id':_0x1a5f99}),_0x15a950=JSON[_0x1444bf(0x1b7)](_0x315c42);return JSON[_0x1444bf(0x59c)](_0x15a950,pe[_0x1444bf(0x1c3)][_0x1444bf(0x4ea)]);}catch{}},_0x19b041=async _0x351776=>{try{return await _0x216f2c['connect'](),await _0x36c1f8['deleteOne']({'_id':_0x351776});}catch{}},_0x172702=await _0x50b98b(_0x49e3e7(0x5ab))||(0x0,pe[_0x49e3e7(0x5f0)])();return{'state':{'creds':_0x172702,'keys':{'get':async(_0x3c9ca9,_0x2c29bc)=>{const _0x3fb112=_0x49e3e7;let _0x1e609c={};return await Promise[_0x3fb112(0x13c)](_0x2c29bc['map'](async _0x538b33=>{const _0x3f782c=_0x3fb112;let _0x5e1904=await _0x50b98b(_0x3c9ca9+'-'+_0x538b33);_0x3c9ca9==='app-state-sync-key'&&_0x5e1904&&(_0x5e1904=pe[_0x3f782c(0x4ee)]['Message']['AppStateSyncKeyData'][_0x3f782c(0x4d8)](_0x5e1904)),_0x1e609c[_0x538b33]=_0x5e1904;})),_0x1e609c;},'set':async _0x46d88c=>{const _0x1562de=_0x49e3e7;let _0xfc658d=[];for(let _0x576e41 in _0x46d88c)for(let _0x56c8c5 in _0x46d88c[_0x576e41]){let _0x3441e0=_0x46d88c[_0x576e41][_0x56c8c5],_0x39e5c1=_0x576e41+'-'+_0x56c8c5;_0xfc658d['push'](_0x3441e0?_0x3dcb3a(_0x3441e0,_0x39e5c1):_0x19b041(_0x39e5c1));}await Promise[_0x1562de(0x13c)](_0xfc658d);}}},'saveCreds':async()=>_0x3dcb3a(_0x172702,_0x49e3e7(0x5ab))};}var Ss=T(require(a0_0x1fdc58(0x252))),Es=T(require('node-cache')),xt=require(a0_0x1fdc58(0x154)),oo=require('@redis/client'),_t=require(a0_0x1fdc58(0x154)),Pt;function di(_0x1f8cc4){const _0x3c221d=a0_0x1fdc58;return Pt||(Pt=(0x0,oo[_0x3c221d(0x535)])({'url':_0x1f8cc4[_0x3c221d(0x50f)]}),Pt['connect']()),Pt;}var we=class c{constructor(_0x4587ca,_0x3bf932){const _0x2b6edb=a0_0x1fdc58;this['redisEnv']=_0x4587ca,this[_0x2b6edb(0x6d8)]=_0x3bf932,this[_0x2b6edb(0x647)]=new v(c['name']),this[_0x2b6edb(0x6f0)]=di(_0x4587ca);}set[a0_0x1fdc58(0x1a7)](_0x482a48){const _0x133d2e=a0_0x1fdc58;this[_0x133d2e(0x6d8)]=_0x482a48;}async[a0_0x1fdc58(0x545)](){const _0x1b134c=a0_0x1fdc58;try{return await this[_0x1b134c(0x6f0)][_0x1b134c(0x312)]([_0x1b134c(0x1fa),this[_0x1b134c(0x4bd)]['PREFIX_KEY']+':*']);}catch(_0x3decb2){this[_0x1b134c(0x647)][_0x1b134c(0x484)](_0x3decb2);}}async['writeData'](_0x5a5e9a,_0x313629){const _0x3d195a=a0_0x1fdc58;try{let _0x1f6379=JSON[_0x3d195a(0x1b7)](_0x313629,_t[_0x3d195a(0x1c3)][_0x3d195a(0x20d)]);return await this[_0x3d195a(0x6f0)][_0x3d195a(0x39b)](this['redisEnv'][_0x3d195a(0x590)]+':'+this[_0x3d195a(0x6d8)],_0x5a5e9a,_0x1f6379);}catch(_0x2a4aa6){this[_0x3d195a(0x647)][_0x3d195a(0x484)](_0x2a4aa6);}}async[a0_0x1fdc58(0x332)](){const _0x260f82=a0_0x1fdc58;try{let _0xd2466=await this[_0x260f82(0x6f0)][_0x260f82(0x278)](this[_0x260f82(0x4bd)][_0x260f82(0x590)]+':'+this[_0x260f82(0x6d8)]);if(_0xd2466){for(let _0x331bc9 in _0xd2466)Object['prototype'][_0x260f82(0x4c5)]['call'](_0xd2466,_0x331bc9)&&(_0xd2466[_0x331bc9]=JSON[_0x260f82(0x59c)](_0xd2466[_0x331bc9],_t[_0x260f82(0x1c3)][_0x260f82(0x4ea)]));return _0xd2466;}}catch(_0x252fc5){this[_0x260f82(0x647)]['error'](_0x252fc5);}}async['readData'](_0x43220e){const _0x4eab7d=a0_0x1fdc58;try{let _0x1f1dda=await this[_0x4eab7d(0x6f0)][_0x4eab7d(0x6fc)](this[_0x4eab7d(0x4bd)][_0x4eab7d(0x590)]+':'+this[_0x4eab7d(0x6d8)],_0x43220e);if(_0x1f1dda)return JSON[_0x4eab7d(0x59c)](_0x1f1dda,_t[_0x4eab7d(0x1c3)][_0x4eab7d(0x4ea)]);}catch(_0x155de1){this[_0x4eab7d(0x647)]['error'](_0x155de1);}}async[a0_0x1fdc58(0x6db)](_0x47ef87){const _0xf75ef9=a0_0x1fdc58;try{return await this['client'][_0xf75ef9(0x654)](this[_0xf75ef9(0x4bd)][_0xf75ef9(0x590)]+':'+this[_0xf75ef9(0x6d8)],_0x47ef87);}catch(_0x45c584){this[_0xf75ef9(0x647)][_0xf75ef9(0x484)](_0x45c584);}}async[a0_0x1fdc58(0x690)](_0x520066){const _0x2ee3c1=a0_0x1fdc58;try{return await this[_0x2ee3c1(0x6f0)][_0x2ee3c1(0x18c)](_0x520066||this[_0x2ee3c1(0x4bd)][_0x2ee3c1(0x590)]+':'+this[_0x2ee3c1(0x6d8)]);}catch(_0x32b6cc){this['logger']['error'](_0x32b6cc);}}};async function ys(_0xf72083,_0xbdf2cc){const _0x48e616=a0_0x1fdc58;let _0x4432a9=new v(ys[_0x48e616(0x5e8)]),_0x52e941=new we(_0xf72083,_0xbdf2cc),_0x2dcc26=async(_0x45b522,_0x2a331c)=>{const _0x5de3e3=_0x48e616;try{return await _0x52e941[_0x5de3e3(0x52d)](_0x2a331c,_0x45b522);}catch(_0x7171c6){return _0x4432a9[_0x5de3e3(0x484)]({'localError':_0x5de3e3(0x52d),'error':_0x7171c6});}},_0x3f650c=async _0x485475=>{const _0x423a57=_0x48e616;try{return await _0x52e941['readData'](_0x485475);}catch(_0x292c3d){_0x4432a9[_0x423a57(0x484)]({'readData':_0x423a57(0x52d),'error':_0x292c3d});return;}},_0x113c3c=async _0x412634=>{const _0x272b5a=_0x48e616;try{return await _0x52e941[_0x272b5a(0x6db)](_0x412634);}catch(_0x5282b3){_0x4432a9['error']({'readData':_0x272b5a(0x6db),'error':_0x5282b3});}},_0x5e43cb=await _0x3f650c(_0x48e616(0x5ab))||(0x0,xt[_0x48e616(0x5f0)])();return{'state':{'creds':_0x5e43cb,'keys':{'get':async(_0x36be1d,_0x4525e3)=>{const _0x27a4c1=_0x48e616;let _0x37f663={};return await Promise[_0x27a4c1(0x13c)](_0x4525e3[_0x27a4c1(0x634)](async _0x1a0309=>{const _0x187b26=_0x27a4c1;let _0x2d7394=await _0x3f650c(_0x36be1d+'-'+_0x1a0309);_0x36be1d===_0x187b26(0x1f2)&&_0x2d7394&&(_0x2d7394=xt[_0x187b26(0x4ee)]['Message'][_0x187b26(0x53d)]['fromObject'](_0x2d7394)),_0x37f663[_0x1a0309]=_0x2d7394;})),_0x37f663;},'set':async _0x3f0def=>{const _0x1bbc17=_0x48e616;let _0x541f78=[];for(let _0x2b7b34 in _0x3f0def)for(let _0x4c0901 in _0x3f0def[_0x2b7b34]){let _0x2bb9cb=_0x3f0def[_0x2b7b34][_0x4c0901],_0x33ad30=_0x2b7b34+'-'+_0x4c0901;_0x541f78[_0x1bbc17(0x1b4)](_0x2bb9cb?await _0x2dcc26(_0x2bb9cb,_0x33ad30):await _0x113c3c(_0x33ad30));}await Promise[_0x1bbc17(0x13c)](_0x541f78);}}},'saveCreds':async()=>await _0x2dcc26(_0x5e43cb,'creds')};}var Se=T(require('fs')),go=require(a0_0x1fdc58(0x231));function J(_0x167c55){const _0x452356=a0_0x1fdc58;if(_0x167c55['viewOnceMessage']||_0x167c55[_0x452356(0x151)]){let _0x302980=_0x167c55['viewOnceMessage']?_0x167c55[_0x452356(0x429)][_0x452356(0x219)]:_0x167c55[_0x452356(0x151)]['message'];return(0x0,w[_0x452356(0x4d0)])(_0x302980);}return _0x167c55[_0x452356(0x611)]?_0x452356(0x611):_0x167c55[_0x452356(0x204)]?_0x452356(0x204):(0x0,w[_0x452356(0x4d0)])(_0x167c55);}var be=class c{constructor(_0x4b578e,_0x3d3d93,_0x58ed93){const _0x23d225=a0_0x1fdc58;this['configService']=_0x4b578e,this[_0x23d225(0x270)]=_0x3d3d93,this['repository']=_0x58ed93,this[_0x23d225(0x693)]=null,this[_0x23d225(0x647)]=new v(c[_0x23d225(0x5e8)]),this[_0x23d225(0x635)]={},this[_0x23d225(0x275)]={},this['stateConnection']={'state':_0x23d225(0x2fb)},this['storePath']=(0x0,Z[_0x23d225(0x567)])(z,_0x23d225(0x560)),this['msgRetryCounterCache']=new Es[(_0x23d225(0x4ab))](),this[_0x23d225(0x3f0)]=new Es[(_0x23d225(0x4ab))](),this['endSession']=!0x1,this[_0x23d225(0x3c9)]={'status.instance':_0x23d225(0x2f0),'qrcode.updated':_0x23d225(0x18b),'messages.upsert':_0x23d225(0x333),'messages.update':_0x23d225(0x177),'send.message':_0x23d225(0x333),'group.upsert':_0x23d225(0x44f),'group.update':_0x23d225(0x44f),'group-participants.update':_0x23d225(0x44f),'connection.update':_0x23d225(0x2f0),'messages.set':'/wa-message','contacts.set':'/wa-contacts','contacts.upsert':'/wa-contacts','contacts.update':_0x23d225(0x310),'presence.update':'/wa-presence','chats.set':_0x23d225(0x2a7),'chats.update':_0x23d225(0x2a7),'chats.upsert':'/wa-chats','chats.delete':'/wa-chats'},this[_0x23d225(0x2fa)]=0x0,this['reconnectTimestamps']=[],this[_0x23d225(0x40c)]=0xf,this[_0x23d225(0x390)]=0x7530,this[_0x23d225(0x1ba)]=!0x1,this[_0x23d225(0x2cd)]={'chats.upsert':async(_0x351fa4,_0x50056c)=>{const _0x29439d=_0x23d225;let _0x19dc5d=await this[_0x29439d(0x369)][_0x29439d(0x69d)][_0x29439d(0x192)]({'where':{'owner':this['instance'][_0x29439d(0x13e)]}}),_0x48cf1f=[];for await(let _0x51bffc of _0x351fa4)_0x19dc5d[_0x29439d(0x192)](_0x4d0967=>_0x4d0967['id']===_0x51bffc['id'])||_0x48cf1f[_0x29439d(0x1b4)]({'id':_0x51bffc['id'],'owner':this[_0x29439d(0x635)][_0x29439d(0x13e)],'group':_0x51bffc['id']['endsWith'](_0x29439d(0x4dd)),'name':_0x51bffc[_0x29439d(0x5e8)]||_0x51bffc['displayName']||null,'contactname':null,'lastmsg':_0x51bffc[_0x29439d(0x4cd)]&&_0x51bffc[_0x29439d(0x4cd)][_0x29439d(0x686)]()[_0x29439d(0x6b4)]<0xd?_0x51bffc[_0x29439d(0x4cd)]*0x3e8:_0x51bffc[_0x29439d(0x4cd)]||null,'archived':_0x51bffc[_0x29439d(0x425)]||!0x1,'unreadcount':_0x51bffc[_0x29439d(0x338)]||0x0});await this[_0x29439d(0x1d3)](_0x29439d(0x25b),_0x48cf1f);},'chats.update':async(_0x3f83a2,_0x432edd)=>{const _0x41ef11=_0x23d225;for(let _0x5e9d73 of _0x3f83a2){let _0x23d254={'id':_0x5e9d73['id'],'owner':this[_0x41ef11(0x635)]['wuid'],'group':_0x5e9d73['id'][_0x41ef11(0x440)](_0x41ef11(0x4dd)),'name':_0x5e9d73[_0x41ef11(0x5e8)]||_0x5e9d73[_0x41ef11(0x3db)],'archived':_0x5e9d73[_0x41ef11(0x425)]},_0x2088fa=!0x1,_0x1b38fd={'id':_0x5e9d73['id'],'owner':this[_0x41ef11(0x635)][_0x41ef11(0x13e)]},_0x5e076e={};_0x23d254[_0x41ef11(0x425)]!=null&&(this['logger'][_0x41ef11(0x691)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x41ef11(0x4f3)+_0x5e9d73['archived']),_0x2088fa=!0x0,_0x5e076e[_0x41ef11(0x425)]=_0x5e9d73[_0x41ef11(0x425)]),_0x5e9d73[_0x41ef11(0x5e8)]!=null&&(this[_0x41ef11(0x647)]['verbose'](this['instanceName']+'\x20('+this[_0x41ef11(0x635)][_0x41ef11(0x13e)]+_0x41ef11(0x4c6)+_0x5e9d73['name']),_0x2088fa=!0x0,_0x5e076e[_0x41ef11(0x5e8)]=_0x5e9d73[_0x41ef11(0x5e8)]),_0x5e9d73[_0x41ef11(0x3db)]!=null&&(this[_0x41ef11(0x647)]['verbose'](this[_0x41ef11(0x6d8)]+'\x20('+this['instance'][_0x41ef11(0x13e)]+_0x41ef11(0x463)+_0x5e9d73[_0x41ef11(0x3db)]),_0x2088fa=!0x0,_0x5e076e['name']=_0x5e9d73[_0x41ef11(0x3db)]);let _0x587535;_0x2088fa&&_0x432edd[_0x41ef11(0x657)]&&(_0x587535=await I[_0x41ef11(0x1c5)](_0x1b38fd,{'$set':_0x5e076e},{'new':!0x0})),_0x587535&&H(this[_0x41ef11(0x6d8)],_0x41ef11(0x228),{'chat':_0x587535});}},'chats.delete':async _0x4fa68a=>{await this['sendDataWebhook']('chats.delete',[..._0x4fa68a]);}},this['contactHandle']={'contacts.upsert':async(_0x8abfe,_0x550a8f)=>{const _0x1ad8a1=_0x23d225;let _0x45c969=await this[_0x1ad8a1(0x369)][_0x1ad8a1(0x3b6)]['find']({'where':{'owner':this[_0x1ad8a1(0x635)][_0x1ad8a1(0x13e)]}}),_0x567427=[];for await(let _0x1ea4cb of _0x8abfe)_0x45c969[_0x1ad8a1(0x192)](_0xa95340=>_0xa95340['id']===_0x1ea4cb['id'])||_0x567427[_0x1ad8a1(0x1b4)]({'id':_0x1ea4cb['id'],'pushName':_0x1ea4cb?.[_0x1ad8a1(0x5e8)]||_0x1ea4cb?.[_0x1ad8a1(0x1c8)],'owner':this['instance'][_0x1ad8a1(0x13e)]});await this['sendDataWebhook'](_0x1ad8a1(0x5c0),_0x567427),await this[_0x1ad8a1(0x369)][_0x1ad8a1(0x3b6)][_0x1ad8a1(0x5ff)](_0x567427,_0x550a8f[_0x1ad8a1(0x657)]);let _0x15ef5b=[];for(let _0x13564a of _0x567427){let [_0x60a7d,_0x170f04]=await Promise[_0x1ad8a1(0x13c)]([this[_0x1ad8a1(0x63d)](_0x13564a['id']),(await this[_0x1ad8a1(0x418)](_0x13564a['id']))['status']]);_0x15ef5b['push']({..._0x13564a,'profilePictureUrl':_0x60a7d[_0x1ad8a1(0x1f6)],'status':_0x170f04});}await this[_0x1ad8a1(0x369)][_0x1ad8a1(0x3b6)]['update'](_0x15ef5b,_0x550a8f['ENABLED']),await this[_0x1ad8a1(0x3bf)]();},'contacts.update':async(_0x199d66,_0x47d891)=>{const _0x3dc20e=_0x23d225;let _0xf763e8=[];for await(let _0x183d11 of _0x199d66)_0xf763e8[_0x3dc20e(0x1b4)]({'id':_0x183d11['id'],'pushName':_0x183d11?.['name']??_0x183d11?.[_0x3dc20e(0x1c8)],'profilePictureUrl':(await this[_0x3dc20e(0x63d)](_0x183d11['id']))['profilePictureUrl'],'owner':this['instance'][_0x3dc20e(0x13e)]});await this[_0x3dc20e(0x1d3)](_0x3dc20e(0x668),_0xf763e8);}},this[_0x23d225(0x2c7)]={'messaging-history.set':async({messages:_0x10d873,chats:_0x2a6a1a,isLatest:_0x2c7d05},_0x2ba3fa)=>{const _0x33e635=_0x23d225;if(_0x2c7d05){let _0x111010=await Promise[_0x33e635(0x13c)](_0x2a6a1a[_0x33e635(0x634)](async _0x4c94db=>({'id':_0x4c94db['id'],'owner':this[_0x33e635(0x635)][_0x33e635(0x13e)],'group':_0x4c94db['id'][_0x33e635(0x440)]('@g.us'),'name':_0x4c94db['name']||_0x4c94db[_0x33e635(0x3db)]||null,'contactname':null,'imagechat':(await this[_0x33e635(0x63d)](_0x4c94db['id']))[_0x33e635(0x1f6)],'lastmsg':_0x4c94db[_0x33e635(0x4cd)]&&_0x4c94db[_0x33e635(0x4cd)][_0x33e635(0x686)]()[_0x33e635(0x6b4)]<0xd?_0x4c94db[_0x33e635(0x4cd)]*0x3e8:_0x4c94db[_0x33e635(0x4cd)]||null,'archived':_0x4c94db[_0x33e635(0x425)]||!0x1,'unreadcount':_0x4c94db[_0x33e635(0x338)]||0x0})));await this['sendDataWebhook'](_0x33e635(0x45a),_0x111010),await this[_0x33e635(0x48c)](_0x111010,_0x2ba3fa),await this[_0x33e635(0x3bf)]();}let _0x49740d=[],_0x5e7267=Date[_0x33e635(0x2f7)]()-0x7*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x189c0d]of Object[_0x33e635(0x140)](_0x10d873)){if(_0x189c0d[_0x33e635(0x219)]?.[_0x33e635(0x402)]||_0x189c0d[_0x33e635(0x219)]?.[_0x33e635(0x4e1)]||!_0x189c0d['message']||_0x189c0d[_0x33e635(0x267)][_0x33e635(0x543)]===_0x33e635(0x541)||(Ss[_0x33e635(0x4ab)]['isLong'](_0x189c0d?.[_0x33e635(0x6f9)])&&(_0x189c0d[_0x33e635(0x6f9)]=_0x189c0d[_0x33e635(0x6f9)]?.[_0x33e635(0x1b2)]()),_0x189c0d[_0x33e635(0x6f9)]&&_0x189c0d['messageTimestamp']['toString']()[_0x33e635(0x6b4)]<0xd&&(_0x189c0d[_0x33e635(0x6f9)]=_0x189c0d['messageTimestamp']*0x3e8),_0x189c0d[_0x33e635(0x6f9)]<_0x5e7267))continue;let {message_normalized:_0x4a72a9}=this[_0x33e635(0x6d1)](_0x189c0d['message'],J(_0x189c0d[_0x33e635(0x219)]),null);_0x49740d[_0x33e635(0x1b4)]({'key':_0x189c0d[_0x33e635(0x267)],'pushName':_0x189c0d[_0x33e635(0x5bd)],'participant':_0x189c0d[_0x33e635(0x15e)],'message':{..._0x189c0d[_0x33e635(0x219)]},'messageType':J(_0x189c0d['message']),'message_normalized':{'key':_0x189c0d[_0x33e635(0x267)],'pushName':_0x189c0d[_0x33e635(0x5bd)],'messageTimestamp':_0x189c0d[_0x33e635(0x6f9)],..._0x4a72a9},'messageTimestamp':_0x189c0d[_0x33e635(0x6f9)],'owner':this[_0x33e635(0x635)]['wuid']});}_0x2ba3fa[_0x33e635(0x657)]&&_0x49740d['length']>0x0&&(this[_0x33e635(0x647)][_0x33e635(0x691)](this[_0x33e635(0x6d8)]+'\x20('+this[_0x33e635(0x635)][_0x33e635(0x13e)]+_0x33e635(0x1e8)+_0x49740d[_0x33e635(0x6b4)]+_0x33e635(0x5e9)+this[_0x33e635(0x635)][_0x33e635(0x13e)]+_0x33e635(0x66c)),await this['repository'][_0x33e635(0x219)][_0x33e635(0x5ff)]([..._0x49740d],_0x2ba3fa[_0x33e635(0x657)])),this[_0x33e635(0x1d3)](_0x33e635(0x5d3),[..._0x49740d]),_0x10d873=void 0x0;},'messages.upsert':async({messages:_0x140e6c,type:_0x360b12},_0x478561)=>{const _0x3b4551=_0x23d225;let _0x450c4a=_0x140e6c[0x0];if(_0x360b12!=='notify'||!_0x450c4a?.[_0x3b4551(0x219)]||_0x450c4a['message']?.['protocolMessage']||_0x450c4a[_0x3b4551(0x219)][_0x3b4551(0x4e1)]||_0x450c4a['key'][_0x3b4551(0x543)]===_0x3b4551(0x541))return;let _0x414976=null,_0x4c9219=null;try{_0x414976=await this[_0x3b4551(0x330)](_0x450c4a),_0x4c9219=_0x414976?_0x414976[_0x3b4551(0x567)](','):null;}catch(_0x3d4665){this['logger'][_0x3b4551(0x691)](this['instanceName']+'\x20('+this[_0x3b4551(0x635)][_0x3b4551(0x13e)]+_0x3b4551(0x1e8)+_0x3d4665[_0x3b4551(0x219)]),_0x4c9219=_0x3b4551(0x63e);}this[_0x3b4551(0x6f0)][_0x3b4551(0x41f)](_0x3b4551(0x4ae)),Ss[_0x3b4551(0x4ab)][_0x3b4551(0x35a)](_0x450c4a[_0x3b4551(0x6f9)])&&(_0x450c4a['messageTimestamp']=_0x450c4a[_0x3b4551(0x6f9)]?.[_0x3b4551(0x1b2)]()),_0x450c4a['messageTimestamp']&&_0x450c4a['messageTimestamp'][_0x3b4551(0x686)]()[_0x3b4551(0x6b4)]<0xd&&(_0x450c4a[_0x3b4551(0x6f9)]=_0x450c4a[_0x3b4551(0x6f9)]*0x3e8);let _0x5782dd=_0x450c4a[_0x3b4551(0x219)],{messageContent:_0x3c0221,message_normalized:_0x26da9c}=this['normalizeMessage'](_0x5782dd,J(_0x450c4a[_0x3b4551(0x219)]),_0x4c9219);_0x3c0221||console[_0x3b4551(0x484)](_0x3b4551(0x38c));let _0x2c80f5={'key':_0x450c4a[_0x3b4551(0x267)],'pushName':_0x450c4a[_0x3b4551(0x5bd)],'message':{..._0x450c4a[_0x3b4551(0x219)]},'messageType':J(_0x450c4a[_0x3b4551(0x219)]),'message_normalized':{'key':_0x450c4a['key'],'pushName':_0x450c4a[_0x3b4551(0x5bd)],'messageTimestamp':_0x450c4a[_0x3b4551(0x6f9)],'source':(0x0,w[_0x3b4551(0x182)])(_0x450c4a[_0x3b4551(0x267)]['id']),..._0x26da9c},'messageTimestamp':_0x450c4a[_0x3b4551(0x6f9)],'owner':this[_0x3b4551(0x635)][_0x3b4551(0x13e)]};this[_0x3b4551(0x647)][_0x3b4551(0x37c)](_0x2c80f5),await this[_0x3b4551(0x369)][_0x3b4551(0x219)][_0x3b4551(0x5ff)]([_0x2c80f5],_0x478561[_0x3b4551(0x657)]),await this[_0x3b4551(0x1d3)](_0x3b4551(0x37b),_0x2c80f5),H(this[_0x3b4551(0x6d8)],_0x3b4551(0x1cc),{'message':_0x2c80f5}),_0x450c4a[_0x3b4551(0x267)][_0x3b4551(0x543)]!==_0x3b4551(0x541)&&await this[_0x3b4551(0x144)](_0x478561,_0x2c80f5,'MESSAGES_UPSERT');},'messages.update':async(_0x10dfab,_0x1f9e41)=>{const _0x3e8c74=_0x23d225;let _0x253a3f={0x0:_0x3e8c74(0x327),0x1:_0x3e8c74(0x28f),0x2:_0x3e8c74(0x16e),0x3:_0x3e8c74(0x4e9),0x4:_0x3e8c74(0x2c8),0x5:'PLAYED'};for await(let {key:_0x222604,update:_0xd1fb32}of _0x10dfab)if(_0x222604[_0x3e8c74(0x543)]!=='status@broadcast'){let _0x16f713=Date[_0x3e8c74(0x2f7)](),_0x1495bc;_0xd1fb32[_0x3e8c74(0x219)]===null&&_0xd1fb32[_0x3e8c74(0x62e)]===void 0x0?_0x1495bc=_0x3e8c74(0x26b):_0x1495bc=_0x253a3f[_0xd1fb32['status']];let _0x5ef3bc=_0x222604[_0x3e8c74(0x543)][_0x3e8c74(0x5b4)](/:\d{1,2}@/g,'@'),_0x1e97f7={..._0x222604,'remoteJid':_0x5ef3bc,'status':_0x1495bc,'datetime':_0x16f713,'owner':this[_0x3e8c74(0x635)][_0x3e8c74(0x13e)]};await this[_0x3e8c74(0x1d3)](_0x3e8c74(0x64b),_0x1e97f7),await this[_0x3e8c74(0x369)]['messageUpdate']['insert']([_0x1e97f7],_0x1f9e41[_0x3e8c74(0x657)]),await this[_0x3e8c74(0x49a)](_0x222604,_0x5ef3bc,_0x1e97f7);}}},this[_0x23d225(0x5fb)]={'groups.upsert':_0x87a6a8=>{const _0xffbbc3=_0x23d225;this[_0xffbbc3(0x1d3)](_0xffbbc3(0x37e),_0x87a6a8);},'groups.update':_0xb64173=>{this['sendDataWebhook']('groups.update',_0xb64173);},'group-participants.update':_0x38f077=>{const _0x322d11=_0x23d225;this[_0x322d11(0x1d3)](_0x322d11(0x202),_0x38f077);}},this[_0x23d225(0x330)]=async _0x505530=>{const _0x29b49c=_0x23d225;if(_0x505530[_0x29b49c(0x219)]?.[_0x29b49c(0x313)]){let _0x41eee4=await this[_0x29b49c(0x554)](_0x505530[_0x29b49c(0x219)][_0x29b49c(0x313)][_0x29b49c(0x572)],!0x0);if(_0x41eee4){let _0x48ce92=_0x41eee4[_0x29b49c(0x267)][_0x29b49c(0x47c)]?this[_0x29b49c(0x635)][_0x29b49c(0x13e)]+_0x29b49c(0x67e):_0x41eee4[_0x29b49c(0x267)][_0x29b49c(0x15e)]||_0x41eee4[_0x29b49c(0x267)]['remoteJid'],_0x50797f=_0x41eee4[_0x29b49c(0x267)]['id'],_0x55c101=_0x41eee4[_0x29b49c(0x219)],_0x31af26=Buffer[_0x29b49c(0x21c)](_0x55c101[_0x29b49c(0x67a)][_0x29b49c(0x35d)]['toString']('hex'),'hex'),_0x4aeef1=(0x0,w[_0x29b49c(0x606)])(_0x505530[_0x29b49c(0x219)]['pollUpdateMessage'][_0x29b49c(0x37d)],{'pollCreatorJid':_0x48ce92,'pollMsgId':_0x50797f,'pollEncKey':_0x31af26,'voterJid':_0x505530[_0x29b49c(0x267)][_0x29b49c(0x47c)]?this[_0x29b49c(0x635)]['wuid']+_0x29b49c(0x67e):_0x505530['key'][_0x29b49c(0x543)][_0x29b49c(0x440)]('g.us')?_0x505530[_0x29b49c(0x267)][_0x29b49c(0x15e)]:_0x505530[_0x29b49c(0x267)][_0x29b49c(0x543)]}),_0x564741=[],_0x24738b=_0x4aeef1[_0x29b49c(0x2c3)]['map'](_0x2477e8=>Buffer[_0x29b49c(0x21c)](_0x2477e8)[_0x29b49c(0x686)](_0x29b49c(0x1dc)));for(let {optionName:_0x3965a7}of _0x55c101['pollCreationMessage']?.[_0x29b49c(0x217)]||_0x55c101[_0x29b49c(0x611)]?.[_0x29b49c(0x217)]||_0x55c101[_0x29b49c(0x204)]?.[_0x29b49c(0x217)])_0x24738b[_0x29b49c(0x32b)]((0x0,w[_0x29b49c(0x41d)])(Buffer[_0x29b49c(0x21c)](_0x3965a7))[_0x29b49c(0x686)]('hex'))>-0x1&&_0x564741['push'](_0x3965a7);return _0x564741;}}return null;},this[_0x23d225(0x6d1)]=(_0x55e3dd,_0x5b7dc2,_0x3f07d8)=>{const _0x21fae1=_0x23d225;let _0x11df53=_0x5b7dc2?_0x55e3dd[_0x5b7dc2]:void 0x0,_0x58fdab={},_0x37acbe=null,_0x251c12=null,_0x3fa232=null;if(_0x55e3dd[_0x21fae1(0x151)]?_0x11df53=_0x55e3dd[_0x21fae1(0x151)]['message'][_0x5b7dc2]:_0x55e3dd[_0x21fae1(0x429)]?_0x11df53=_0x55e3dd[_0x21fae1(0x429)][_0x21fae1(0x219)][_0x5b7dc2]:_0x55e3dd[_0x21fae1(0x380)]?_0x11df53=_0x55e3dd[_0x21fae1(0x380)][_0x21fae1(0x219)][_0x5b7dc2]:_0x55e3dd['editedMessage']?.['message']?.[_0x21fae1(0x402)]?.[_0x21fae1(0x468)]?(_0x37acbe=_0x55e3dd[_0x21fae1(0x468)][_0x21fae1(0x219)][_0x21fae1(0x402)][_0x21fae1(0x267)]['id'],_0x55e3dd[_0x21fae1(0x468)][_0x21fae1(0x219)][_0x21fae1(0x402)][_0x21fae1(0x468)][_0x21fae1(0x5eb)]?_0x11df53=_0x55e3dd[_0x21fae1(0x468)][_0x21fae1(0x219)][_0x21fae1(0x402)][_0x21fae1(0x468)][_0x21fae1(0x5eb)]:_0x55e3dd['editedMessage'][_0x21fae1(0x219)][_0x21fae1(0x402)][_0x21fae1(0x468)][_0x21fae1(0x179)]?_0x11df53=_0x55e3dd[_0x21fae1(0x468)]['message'][_0x21fae1(0x402)][_0x21fae1(0x468)][_0x21fae1(0x179)][_0x21fae1(0x4fc)]:_0x55e3dd[_0x21fae1(0x468)][_0x21fae1(0x219)][_0x21fae1(0x402)]['editedMessage'][_0x21fae1(0x235)]?_0x11df53=_0x55e3dd[_0x21fae1(0x468)][_0x21fae1(0x219)][_0x21fae1(0x402)][_0x21fae1(0x468)]['videoMessage']['caption']:_0x55e3dd[_0x21fae1(0x468)][_0x21fae1(0x219)][_0x21fae1(0x402)][_0x21fae1(0x468)][_0x21fae1(0x69e)]?_0x11df53=_0x55e3dd['editedMessage'][_0x21fae1(0x219)][_0x21fae1(0x402)][_0x21fae1(0x468)]['documentWithCaptionMessage'][_0x21fae1(0x219)][_0x21fae1(0x180)][_0x21fae1(0x4fc)]:_0x11df53=_0x55e3dd[_0x21fae1(0x468)][_0x21fae1(0x219)][_0x21fae1(0x402)][_0x21fae1(0x468)]):_0x11df53=_0x55e3dd[_0x5b7dc2],!_0x5b7dc2||!_0x11df53){console[_0x21fae1(0x484)]('Unknown\x20message\x20type\x20encountered',_0x55e3dd);return;}_0x55e3dd[_0x5b7dc2]?.[_0x21fae1(0x24d)]?.[_0x21fae1(0x479)]&&_0x55e3dd[_0x5b7dc2]?.[_0x21fae1(0x24d)]?.['quotedMessage']&&(_0x251c12=_0x55e3dd[_0x5b7dc2][_0x21fae1(0x24d)]['stanzaId']),_0x55e3dd[_0x21fae1(0x582)]&&(_0x3fa232=_0x55e3dd[_0x21fae1(0x582)][_0x21fae1(0x267)]['id']);let _0x298553;if(_0x11df53&&typeof _0x11df53=='object'&&_0x21fae1(0x572)in _0x11df53&&({pollCreationMessageKey:_0x298553}=_0x11df53),_0x5b7dc2===_0x21fae1(0x69e)){let _0x230955=_0x11df53?.[_0x21fae1(0x219)]?.['documentMessage'];_0x230955&&(_0x11df53=_0x230955);}if(_0x5b7dc2===_0x21fae1(0x317)||_0x5b7dc2===_0x21fae1(0x204)||_0x5b7dc2===_0x21fae1(0x611)){let _0x39dd61=_0x11df53[_0x21fae1(0x217)][_0x21fae1(0x634)](_0x1da967=>_0x1da967[_0x21fae1(0x6cc)])[_0x21fae1(0x567)]('|');_0x58fdab['convertedOptions']=_0x39dd61;}let _0x44fe85=_0x11df53[_0x21fae1(0x5e8)]||_0x11df53[_0x21fae1(0x4fc)]||_0x11df53['conversation']||_0x11df53['displayName'];if(_0x11df53['vcard']){let _0x14a5d7=this[_0x21fae1(0x482)](JSON[_0x21fae1(0x1b7)](_0x11df53[_0x21fae1(0x5c9)],null,0x2));_0x44fe85=_0x44fe85+'\x0a'+_0x14a5d7;}if(_0x11df53){let {displayName:_0x533eb4,vcard:_0x4ddc01,contactVcard:_0x4b2c7f,name:_0x94706,caption:_0x287934,conversation:_0x38ea93,pollCreationMessageKey:_0x4419dc,footerText:_0x33e688,contentText:_0x3f170a,pageCount:_0x9cdc05,headerType:_0x4cdcc1,isAvatar:_0x505569,isAnimated:_0x3c22b8,fallbackLc:_0x2e0deb,fallbackLg:_0x510575,namespace:_0x3f922c,elementName:_0x596d1b,localizableParams:_0x363ebc,viewOnce:_0x39aa17,height:_0x1dc71f,width:_0x426b9d,key:_0x2734f5,firstScanLength:_0x836004,firstScanSidecar:_0x46a0b4,gifPlayback:_0x45d216,gifAttribution:_0x341cf9,midQualityFileSha256:_0x4c087b,scansSidecar:_0x4d28be,streamingSidecar:_0x48a764,thumbnailHeight:_0x2d750e,thumbnailWidth:_0x989400,thumbnailEncSha256:_0x39dd0f,thumbnailDirectPath:_0x147cf3,canonicalUrl:_0x49f693,matchedText:_0x22497c,previewType:_0x17f11d,thumbnailSha256:_0x3c19a1,deviceListMetadataVersion:_0x149df0,inviteLinkGroupTypeV2:_0x430e41,interactiveAnnotations:_0xb6f622,scanLengths:_0x41d332,jpegThumbnail:_0x23d26b,url:_0x440db3,mediaKeyTimestamp:_0x1f6ce5,waveform:_0x3fbb21,stickerSentTs:_0x3da15c,firstFrameLength:_0x79cab3,fileEncSha256:_0x24292c,contextInfo:_0x180e04,firstFrameSidecar:_0x315195,directPath:_0xd1ace8,fileSha256:_0x170144,mediaKey:_0x287280,senderTimestampMs:_0x203fb5,..._0x57e96b}=_0x11df53;typeof _0x11df53==_0x21fae1(0x25c)?_0x58fdab={'text':_0x11df53,'type':_0x5b7dc2||_0x21fae1(0x5eb),..._0x37acbe&&{'edited':_0x37acbe},..._0x251c12&&{'quoted':_0x251c12},..._0x3fa232&&{'reaction':_0x3fa232}}:_0x58fdab={'text':_0x44fe85,..._0x57e96b,..._0x5b7dc2===_0x21fae1(0x313)?{'poll_id':_0x11df53['pollCreationMessageKey']['id'],'vote':_0x3f07d8}:{},'type':_0x5b7dc2,..._0x37acbe&&{'edited':_0x37acbe},..._0x251c12&&{'quoted':_0x251c12},..._0x3fa232&&{'reaction':_0x3fa232},...(_0x5b7dc2===_0x21fae1(0x317)||_0x5b7dc2===_0x21fae1(0x204)||_0x5b7dc2===_0x21fae1(0x611))&&{'convertedOptions':_0x58fdab[_0x21fae1(0x538)]}};}return{'messageType':_0x5b7dc2,'messageContent':_0x11df53,'message_normalized':_0x58fdab};},this['processingScheduleMessageId']=null,this['lastSend']=0x0,(this[_0x23d225(0x40d)](),this[_0x23d225(0x635)][_0x23d225(0x56d)]={'count':0x0});}set['instanceName'](_0x4be4e5){const _0x590f21=a0_0x1fdc58;if(!_0x4be4e5){this[_0x590f21(0x635)][_0x590f21(0x5e8)]=(0x0,io['v4'])();return;}this[_0x590f21(0x635)][_0x590f21(0x5e8)]=_0x4be4e5,this[_0x590f21(0x1d3)](_0x590f21(0x437),{'instance':this[_0x590f21(0x635)][_0x590f21(0x5e8)],'status':_0x590f21(0x4a0)});}get['instanceName'](){const _0xed0758=a0_0x1fdc58;return this['instance'][_0xed0758(0x5e8)];}get[a0_0x1fdc58(0x13e)](){const _0x4e5586=a0_0x1fdc58;return this['instance'][_0x4e5586(0x13e)];}async[a0_0x1fdc58(0x234)](){const _0x577906=a0_0x1fdc58;let _0x2d402e=this[_0x577906(0x6f0)]['user']?.[_0x577906(0x5e8)]??this['client']['user']?.[_0x577906(0x1c8)];if(!_0x2d402e){if(this[_0x577906(0x2fc)]['get']('DATABASE')[_0x577906(0x657)]){let _0x5a5d33=await M[_0x577906(0x471)]()['db'](this[_0x577906(0x2fc)][_0x577906(0x496)]('DATABASE')[_0x577906(0x335)]['DB_PREFIX_NAME']+'-instances')['collection'](this[_0x577906(0x6d8)])[_0x577906(0x5e3)]({'_id':_0x577906(0x5ab)});if(_0x5a5d33){let _0x59fb13=JSON[_0x577906(0x59c)](JSON[_0x577906(0x1b7)](_0x5a5d33),w[_0x577906(0x1c3)]['reviver']);_0x2d402e=_0x59fb13['me']?.[_0x577906(0x5e8)]||_0x59fb13['me']?.[_0x577906(0x1c8)];}}else{if((0x0,_e[_0x577906(0x3f4)])((0x0,Z[_0x577906(0x567)])(V,this[_0x577906(0x6d8)],_0x577906(0x498)))){let _0x1bec1b=JSON[_0x577906(0x59c)]((0x0,_e[_0x577906(0x426)])((0x0,Z[_0x577906(0x567)])(V,this[_0x577906(0x6d8)],'creds.json'),{'encoding':'utf-8'}));_0x2d402e=_0x1bec1b['me']?.[_0x577906(0x5e8)]||_0x1bec1b['me']?.[_0x577906(0x1c8)];}}}return _0x2d402e;}get[a0_0x1fdc58(0x1f6)](){const _0xb70295=a0_0x1fdc58;return this['instance'][_0xb70295(0x1f6)];}get[a0_0x1fdc58(0x3a7)](){const _0x568c7b=a0_0x1fdc58;return{'code':this[_0x568c7b(0x635)][_0x568c7b(0x56d)]?.['code'],'base64':this[_0x568c7b(0x635)][_0x568c7b(0x56d)]?.[_0x568c7b(0x6b7)]};}async[a0_0x1fdc58(0x687)](){const _0x2ce696=a0_0x1fdc58;let _0x32a14f=await this[_0x2ce696(0x369)][_0x2ce696(0x4ec)]['find'](this[_0x2ce696(0x6d8)]);this[_0x2ce696(0x275)][_0x2ce696(0x47b)]=_0x32a14f?.['url'],this['localWebhook'][_0x2ce696(0x423)]=_0x32a14f?.[_0x2ce696(0x423)],this[_0x2ce696(0x275)][_0x2ce696(0x3f5)]=_0x32a14f?.[_0x2ce696(0x3f5)],this['localWebhook'][_0x2ce696(0x652)]=_0x32a14f?.['STATUS_INSTANCE'],this['localWebhook']['QRCODE_UPDATED']=_0x32a14f?.[_0x2ce696(0x628)],this[_0x2ce696(0x275)][_0x2ce696(0x3a5)]=_0x32a14f?.[_0x2ce696(0x3a5)],this[_0x2ce696(0x275)][_0x2ce696(0x6e7)]=_0x32a14f?.['MESSAGES_UPSERT'],this['localWebhook']['MESSAGES_UPDATE']=_0x32a14f?.[_0x2ce696(0x3c6)],this[_0x2ce696(0x275)][_0x2ce696(0x145)]=_0x32a14f?.[_0x2ce696(0x145)],this[_0x2ce696(0x275)][_0x2ce696(0x6e5)]=_0x32a14f?.[_0x2ce696(0x6e5)],this[_0x2ce696(0x275)][_0x2ce696(0x29d)]=_0x32a14f?.[_0x2ce696(0x29d)],this['localWebhook']['CHATS_SET']=_0x32a14f?.[_0x2ce696(0x589)],this['localWebhook']['CHATS_UPSERT']=_0x32a14f?.[_0x2ce696(0x280)],this[_0x2ce696(0x275)]['CHATS_UPDATE']=_0x32a14f?.['CHATS_UPDATE'],this[_0x2ce696(0x275)][_0x2ce696(0x2a1)]=_0x32a14f?.[_0x2ce696(0x2a1)],this['localWebhook'][_0x2ce696(0x5a9)]=_0x32a14f?.['CONTACTS_SET'],this[_0x2ce696(0x275)]['CONTACTS_UPSERT']=_0x32a14f?.[_0x2ce696(0x4e4)],this[_0x2ce696(0x275)][_0x2ce696(0x435)]=_0x32a14f?.['CONTACTS_UPDATE'],this[_0x2ce696(0x275)]['PRESENCE_UPDATE']=_0x32a14f?.['PRESENCE_UPDATE'],this[_0x2ce696(0x275)][_0x2ce696(0x368)]=_0x32a14f?.['MESSAGES_SET'],this[_0x2ce696(0x275)][_0x2ce696(0x1e2)]=_0x32a14f?.[_0x2ce696(0x1e2)];}async[a0_0x1fdc58(0x30d)](_0x53fd18){const _0x14bb36=a0_0x1fdc58;let _0x166b16=[_0x14bb36(0x46e),_0x14bb36(0x47b),_0x14bb36(0x423),_0x14bb36(0x3f5),'STATUS_INSTANCE','QRCODE_UPDATED',_0x14bb36(0x3c6),_0x14bb36(0x6e7),_0x14bb36(0x3a5),_0x14bb36(0x145),_0x14bb36(0x6e5),'GROUP_PARTICIPANTS_UPDATE',_0x14bb36(0x589),_0x14bb36(0x280),'CHATS_UPDATE',_0x14bb36(0x2a1),_0x14bb36(0x5a9),_0x14bb36(0x4e4),_0x14bb36(0x435),_0x14bb36(0x4cb),'MESSAGES_SET',_0x14bb36(0x1e2)],_0x256fe6={};return _0x166b16[_0x14bb36(0x44b)](_0x1593cb=>{_0x53fd18[_0x1593cb]!==void 0x0&&(_0x256fe6[_0x1593cb]=_0x53fd18[_0x1593cb]);}),await this[_0x14bb36(0x369)][_0x14bb36(0x4ec)]['create'](_0x256fe6,this[_0x14bb36(0x6d8)]),Object[_0x14bb36(0x236)](this[_0x14bb36(0x275)],_0x256fe6),await this[_0x14bb36(0x369)]['webhook']['find'](this[_0x14bb36(0x6d8)]);}async[a0_0x1fdc58(0x4e2)](){const _0x49d922=a0_0x1fdc58;return await this[_0x49d922(0x369)][_0x49d922(0x4ec)][_0x49d922(0x192)](this[_0x49d922(0x6d8)]);}async['sendDataWebhook'](_0x5c1ce9,_0xce4eda){const _0x369ed1=a0_0x1fdc58;let _0x22d832=this[_0x369ed1(0x2fc)][_0x369ed1(0x496)]('WEBHOOK'),_0xad9e2d=_0x5c1ce9[_0x369ed1(0x5b4)](/[\.-]/gm,'_')[_0x369ed1(0x620)](),_0x5d55fd=this[_0x369ed1(0x275)]['enabled']&&(0x0,x['isURL'])(this[_0x369ed1(0x275)][_0x369ed1(0x47b)])?this[_0x369ed1(0x275)][_0x369ed1(0x47b)]+(this['localWebhook'][_0x369ed1(0x3f5)]?this[_0x369ed1(0x3c9)][_0x5c1ce9]:''):null,_0x42bb1e=_0x22d832?.[_0x369ed1(0x6ee)],_0x3d5e3d=_0x42bb1e&&_0x42bb1e?.[_0x369ed1(0x657)]&&(0x0,x[_0x369ed1(0x558)])(_0x42bb1e['URL'])?_0x42bb1e[_0x369ed1(0x5f6)]+(_0x22d832[_0x369ed1(0x64c)]?this[_0x369ed1(0x3c9)][_0x5c1ce9]:''):null,_0x4e074f=this[_0x369ed1(0x275)][_0xad9e2d],_0x4b534c=_0x22d832?.[_0x369ed1(0x42c)]?.[_0xad9e2d];if(_0x4e074f&&_0x5d55fd)try{await le[_0x369ed1(0x4ab)][_0x369ed1(0x3ab)]({'baseURL':_0x5d55fd})['post']('',{'event':_0x5c1ce9,'instance':this['instance'][_0x369ed1(0x5e8)],'data':_0xce4eda}),this[_0x369ed1(0x647)][_0x369ed1(0x37c)](_0x369ed1(0x438)+_0x5c1ce9+':\x20'+_0x5d55fd);}catch(_0x1862a9){this['logger'][_0x369ed1(0x484)](this[_0x369ed1(0x6d8)]+'\x20('+this[_0x369ed1(0x635)][_0x369ed1(0x13e)]+'):\x20'+{'local':c['name']+_0x369ed1(0x5a7),'message':_0x1862a9?.[_0x369ed1(0x219)],'hostName':_0x1862a9?.['hostname'],'syscall':_0x1862a9?.[_0x369ed1(0x376)],'code':_0x1862a9?.[_0x369ed1(0x6d3)],'error':_0x1862a9?.[_0x369ed1(0x28d)],'stack':_0x1862a9?.['stack'],'name':_0x1862a9?.[_0x369ed1(0x5e8)]});}if(_0x4b534c&&_0x3d5e3d)try{await le[_0x369ed1(0x4ab)][_0x369ed1(0x3ab)]({'baseURL':_0x3d5e3d})[_0x369ed1(0x454)]('',{'event':_0x5c1ce9,'instance':this[_0x369ed1(0x635)]['name'],'data':_0xce4eda}),this[_0x369ed1(0x647)][_0x369ed1(0x37c)](_0x369ed1(0x2ed)+_0x5c1ce9+':\x20'+_0x3d5e3d);}catch(_0x5a4e03){this[_0x369ed1(0x647)][_0x369ed1(0x484)](this[_0x369ed1(0x6d8)]+'\x20('+this[_0x369ed1(0x635)][_0x369ed1(0x13e)]+_0x369ed1(0x1e8)+{'local':c['name']+'.sendDataWebhook-global','message':_0x5a4e03?.['message'],'hostName':_0x5a4e03?.['hostname'],'syscall':_0x5a4e03?.[_0x369ed1(0x376)],'code':_0x5a4e03?.['code'],'error':_0x5a4e03?.[_0x369ed1(0x28d)],'stack':_0x5a4e03?.['stack'],'name':_0x5a4e03?.['name']});}}async[a0_0x1fdc58(0x2b6)]({qr:_0xfa4499,connection:_0x3ca02a,lastDisconnect:_0x497651}){const _0x15ae20=a0_0x1fdc58;if(_0xfa4499){if(this[_0x15ae20(0x635)][_0x15ae20(0x56d)][_0x15ae20(0x60c)]===this[_0x15ae20(0x2fc)]['get'](_0x15ae20(0x552))['LIMIT'])return this[_0x15ae20(0x1d3)]('qrcode.updated',{'message':_0x15ae20(0x157),'statusCode':w[_0x15ae20(0x448)][_0x15ae20(0x58c)]}),this['sendDataWebhook'](_0x15ae20(0x1e3),{'instance':this[_0x15ae20(0x635)]['name'],'state':_0x15ae20(0x6b6),'statusReason':w[_0x15ae20(0x448)][_0x15ae20(0x3c7)]}),this['sendDataWebhook'](_0x15ae20(0x437),{'instance':this[_0x15ae20(0x635)][_0x15ae20(0x5e8)],'status':_0x15ae20(0x309)}),this[_0x15ae20(0x6bb)]=!0x0,this[_0x15ae20(0x270)][_0x15ae20(0x269)](_0x15ae20(0x3fe),this[_0x15ae20(0x635)][_0x15ae20(0x5e8)]);this[_0x15ae20(0x635)][_0x15ae20(0x56d)][_0x15ae20(0x60c)]++;let _0x1362c2={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x15ae20(0x495),'dark':_0x15ae20(0x534)}};ro[_0x15ae20(0x4ab)]['toDataURL'](_0xfa4499,_0x1362c2,(_0x153124,_0x1d0d24)=>{const _0x3b94f5=_0x15ae20;if(_0x153124){this[_0x3b94f5(0x647)][_0x3b94f5(0x484)](this[_0x3b94f5(0x6d8)]+'\x20('+this[_0x3b94f5(0x635)][_0x3b94f5(0x13e)]+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+_0x153124[_0x3b94f5(0x686)]());return;}this[_0x3b94f5(0x635)][_0x3b94f5(0x56d)][_0x3b94f5(0x6b7)]=_0x1d0d24,this[_0x3b94f5(0x635)][_0x3b94f5(0x56d)][_0x3b94f5(0x6d3)]=_0xfa4499,this[_0x3b94f5(0x1d3)](_0x3b94f5(0x3d4),{'qrcode':{'instance':this[_0x3b94f5(0x635)][_0x3b94f5(0x5e8)],'code':_0xfa4499,'base64':_0x1d0d24}});}),no[_0x15ae20(0x4ab)][_0x15ae20(0x551)](_0xfa4499,{'small':!0x0},_0x2b2a94=>this[_0x15ae20(0x647)][_0x15ae20(0x37c)](_0x15ae20(0x163)+this[_0x15ae20(0x635)][_0x15ae20(0x5e8)]+_0x15ae20(0x325)+this[_0x15ae20(0x635)][_0x15ae20(0x56d)]['count']+_0x15ae20(0x355)+_0x2b2a94));}if(_0x3ca02a&&(this[_0x15ae20(0x5af)]={'state':_0x3ca02a,'statusReason':_0x497651?.[_0x15ae20(0x484)]?.['output']?.[_0x15ae20(0x340)]??0xc8},this['sendDataWebhook'](_0x15ae20(0x1e3),{'instance':this['instance'][_0x15ae20(0x5e8)],...this[_0x15ae20(0x5af)]})),_0x3ca02a==='close'){if(this[_0x15ae20(0x2fa)]++,this[_0x15ae20(0x2c6)][_0x15ae20(0x1b4)](Date[_0x15ae20(0x2f7)]()),this[_0x15ae20(0x2c6)]=this[_0x15ae20(0x2c6)][_0x15ae20(0x430)](_0x3fc223=>Date[_0x15ae20(0x2f7)]()-_0x3fc223<this[_0x15ae20(0x390)]),_0x497651[_0x15ae20(0x484)]?.[_0x15ae20(0x3ff)]?.[_0x15ae20(0x340)]!==w['DisconnectReason']['loggedOut']&&this[_0x15ae20(0x2c6)][_0x15ae20(0x6b4)]<=this[_0x15ae20(0x40c)])await this[_0x15ae20(0x345)]();else{this[_0x15ae20(0x1d3)](_0x15ae20(0x437),{'instance':this[_0x15ae20(0x635)][_0x15ae20(0x5e8)],'status':_0x15ae20(0x309)}),this['isConnected']=!0x1;try{this[_0x15ae20(0x647)]['verbose'](this[_0x15ae20(0x6d8)]+'\x20('+this[_0x15ae20(0x635)][_0x15ae20(0x13e)]+_0x15ae20(0x6b3));let _0x464621={'where':{'owner':this[_0x15ae20(0x635)][_0x15ae20(0x13e)]}},_0x3487ed=(await this['repository']['messageUpdate']['find'](_0x464621))[_0x15ae20(0x6b4)];await this[_0x15ae20(0x369)][_0x15ae20(0x304)]['delete'](_0x464621),this[_0x15ae20(0x647)][_0x15ae20(0x691)](this[_0x15ae20(0x6d8)]+'\x20('+this[_0x15ae20(0x635)][_0x15ae20(0x13e)]+_0x15ae20(0x46d)+_0x3487ed+_0x15ae20(0x559));}catch(_0x47e1b1){console[_0x15ae20(0x484)](_0x15ae20(0x630),_0x47e1b1);}try{this[_0x15ae20(0x647)]['verbose'](this['instanceName']+'\x20('+this[_0x15ae20(0x635)][_0x15ae20(0x13e)]+_0x15ae20(0x268));let _0x4d159f={'where':{'owner':this[_0x15ae20(0x635)][_0x15ae20(0x13e)]}},_0x104af7=(await this['repository']['message'][_0x15ae20(0x192)](_0x4d159f))[_0x15ae20(0x6b4)];await this[_0x15ae20(0x369)]['message']['delete'](_0x4d159f),this['logger'][_0x15ae20(0x691)](this[_0x15ae20(0x6d8)]+'\x20('+this[_0x15ae20(0x635)][_0x15ae20(0x13e)]+_0x15ae20(0x46d)+_0x104af7+_0x15ae20(0x622));}catch(_0x5af6cf){console['error'](_0x15ae20(0x5c2),_0x5af6cf);}this['delayMessage']!==null&&(this[_0x15ae20(0x647)]['verbose'](this[_0x15ae20(0x6d8)]+'\x20('+this[_0x15ae20(0x635)][_0x15ae20(0x13e)]+'):\x20Limpando\x20delayMessage'),clearInterval(this['delayMessage']),this[_0x15ae20(0x5b9)]=null),this[_0x15ae20(0x647)][_0x15ae20(0x691)](this['instanceName']+'\x20('+this[_0x15ae20(0x635)]['wuid']+_0x15ae20(0x413)),this[_0x15ae20(0x693)]=null,this[_0x15ae20(0x270)][_0x15ae20(0x269)](_0x15ae20(0x16a),this['instance'][_0x15ae20(0x5e8)],_0x15ae20(0x675)),this['client']?.['ws']?.[_0x15ae20(0x2fb)](),this[_0x15ae20(0x6f0)]['end'](new Error('Close\x20connection'));}}if(_0x3ca02a===_0x15ae20(0x384)){this[_0x15ae20(0x2f1)],this['instance'][_0x15ae20(0x13e)]=this[_0x15ae20(0x6f0)][_0x15ae20(0x45d)]['id']['replace'](/:\d+/,'')[_0x15ae20(0x5b4)](_0x15ae20(0x67e),''),this[_0x15ae20(0x635)][_0x15ae20(0x1f6)]=(await this['profilePicture'](this[_0x15ae20(0x635)][_0x15ae20(0x13e)]+_0x15ae20(0x67e)))[_0x15ae20(0x1f6)];let _0x2dbf1d=_0x15ae20(0x382)+this[_0x15ae20(0x635)][_0x15ae20(0x13e)],_0x51baeb=0x28,_0x4766db=Math['floor']((_0x51baeb-_0x2dbf1d[_0x15ae20(0x6b4)])/0x2),_0x30d8c6='\x20'['repeat'](_0x4766db),_0xfc302d=_0x15ae20(0x3f7),_0x436192=_0x15ae20(0x2e6)+this[_0x15ae20(0x635)][_0x15ae20(0x5e8)],_0x4fbd2b=(''+_0x30d8c6+_0x2dbf1d+_0x30d8c6)['padEnd'](_0x51baeb,'\x20'),_0x216444=(''+_0x30d8c6+_0xfc302d+_0x30d8c6)[_0x15ae20(0x173)](_0x51baeb,'\x20'),_0x243d21=(''+_0x30d8c6+_0x436192+_0x30d8c6)['padEnd'](_0x51baeb,'\x20'),_0x197863=Math[_0x15ae20(0x516)](_0x4fbd2b[_0x15ae20(0x6b4)],_0x216444[_0x15ae20(0x6b4)],_0x243d21['length']),_0x317a16=_0x4fbd2b[_0x15ae20(0x173)](_0x197863,'\x20'),_0x807f20=_0x216444[_0x15ae20(0x173)](_0x197863,'\x20'),_0x43bc1a=_0x243d21['padEnd'](_0x197863,'\x20');this[_0x15ae20(0x647)][_0x15ae20(0x2b8)]((_0x15ae20(0x5cc)+'─'[_0x15ae20(0x685)](_0x197863)+_0x15ae20(0x3e1)+_0x807f20+_0x15ae20(0x1b0)+_0x43bc1a+_0x15ae20(0x1b0)+_0x317a16+_0x15ae20(0x1cb)+'─'[_0x15ae20(0x685)](_0x197863)+'┘')[_0x15ae20(0x5b4)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this['isConnected']=!0x0;}}['resetReconnectionVariables'](){const _0x79da34=a0_0x1fdc58;this[_0x79da34(0x2fa)]=0x0,this[_0x79da34(0x2c6)]=[];}async[a0_0x1fdc58(0x554)](_0x193d61,_0x41835c=!0x1){const _0x29dcdc=a0_0x1fdc58;try{let _0x49232c=await this[_0x29dcdc(0x369)]['message'][_0x29dcdc(0x192)]({'where':{'owner':this[_0x29dcdc(0x635)][_0x29dcdc(0x13e)],'key':{'id':_0x193d61['id']}}});return _0x41835c?_0x49232c[0x0]:_0x49232c[0x0]['message'];}catch{return{'conversation':''};}}[a0_0x1fdc58(0x40d)](){const _0x580a08=a0_0x1fdc58;let _0x5616b7=this[_0x580a08(0x2fc)]['get']('STORE'),_0x2643fd=this['configService'][_0x580a08(0x496)](_0x580a08(0x2f2));_0x5616b7?.[_0x580a08(0x636)]&&!_0x2643fd['ENABLED']&&setInterval(()=>{const _0x2090c2=_0x580a08;try{for(let [_0x31548b,_0x26d750]of Object[_0x2090c2(0x140)](_0x5616b7))_0x26d750===!0x0&&(0x0,lo['execSync'])(_0x2090c2(0x2ff)+(0x0,Z['join'])(this[_0x2090c2(0x5ea)],_0x31548b[_0x2090c2(0x254)](),this[_0x2090c2(0x635)]['wuid'])+_0x2090c2(0x1ac));}catch{}},(_0x5616b7?.[_0x580a08(0x636)]??0xe10)*0x3e8);}async[a0_0x1fdc58(0x5d5)](){const _0x11db2e=a0_0x1fdc58;let _0x2a90bb=this[_0x11db2e(0x2fc)][_0x11db2e(0x496)](_0x11db2e(0x2f2)),_0x137145=this[_0x11db2e(0x2fc)][_0x11db2e(0x496)]('REDIS');return _0x137145?.[_0x11db2e(0x657)]?await ys(_0x137145,this[_0x11db2e(0x635)][_0x11db2e(0x5e8)]):_0x2a90bb[_0x11db2e(0x657)]?await ws(this[_0x11db2e(0x635)]['name']):await(0x0,w[_0x11db2e(0x433)])((0x0,Z[_0x11db2e(0x567)])(V,this[_0x11db2e(0x635)]['name']));}async[a0_0x1fdc58(0x299)](){const _0xb1ad70=a0_0x1fdc58;let _0x277b1d=()=>Math[_0xb1ad70(0x301)](Math[_0xb1ad70(0x2d1)]()*0x2711)+0x7d0,_0xccfd3f=async()=>{const _0x212c92=_0xb1ad70;if(!this['isConnected']){this[_0x212c92(0x647)]['verbose'](_0x212c92(0x21f)),this[_0x212c92(0x1ba)]=!0x1;return;}if(this['instance']['wuid']&&this['AutomateSystem']&&this[_0x212c92(0x5b9)]!==null&&this[_0x212c92(0x5b9)]!==void 0x0){let _0xaf46aa=Math[_0x212c92(0x377)](this['delayMessage']/0xea60);this[_0x212c92(0x647)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x212c92(0x486)+_0xaf46aa+'\x20minutos\x20verificará\x20novas\x20mensagens'),this[_0x212c92(0x1ba)]=!0x1;return;}else this[_0x212c92(0x635)]['wuid']&&(this[_0x212c92(0x647)][_0x212c92(0x691)](this[_0x212c92(0x6d8)]+'\x20('+this[_0x212c92(0x635)][_0x212c92(0x13e)]+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this[_0x212c92(0x693)]||await this[_0x212c92(0x570)](),(this['delayMessage']===null||this[_0x212c92(0x5b9)]===void 0x0)&&await this[_0x212c92(0x30a)]());if(this[_0x212c92(0x1ba)]){let _0x9466cf=_0x277b1d();this['logger'][_0x212c92(0x691)](this[_0x212c92(0x6d8)]+_0x212c92(0x4f2)+_0x9466cf/0x3e8+_0x212c92(0x663)),setTimeout(_0xccfd3f,_0x9466cf);}};if(this['isRunning'])return;this[_0xb1ad70(0x1ba)]=!0x0;let _0x221ab7=_0x277b1d();setTimeout(_0xccfd3f,_0x221ab7);}async[a0_0x1fdc58(0x345)](){const _0x8f9824=a0_0x1fdc58;try{this['loadWebhook'](),this[_0x8f9824(0x635)][_0x8f9824(0x2bb)]=await this['defineAuthState']();let {version:_0x380eb7}=await(0x0,w[_0x8f9824(0x258)])(),_0x4fce9c=this[_0x8f9824(0x2fc)]['get'](_0x8f9824(0x5bf)),_0x47e987=[_0x4fce9c[_0x8f9824(0x1a1)],_0x4fce9c[_0x8f9824(0x2e2)],(0x0,co[_0x8f9824(0x26d)])()],_0x22bcd3={'auth':{'creds':this[_0x8f9824(0x635)][_0x8f9824(0x2bb)][_0x8f9824(0x4ba)]['creds'],'keys':(0x0,w[_0x8f9824(0x1e9)])(this[_0x8f9824(0x635)]['authState']['state'][_0x8f9824(0x1fa)],(0x0,$t['default'])({'level':_0x8f9824(0x484)}))},'logger':(0x0,$t['default'])({'level':_0x8f9824(0x484)}),'printQRInTerminal':!0x1,'browser':_0x47e987,'version':_0x380eb7,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x20b04c=>await this['getMessage'](_0x20b04c),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x0,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0x1,'delayBetweenTriesMs':0xa},'patchMessageBeforeSending':_0x2f109c=>(!!(_0x2f109c[_0x8f9824(0x20b)]||_0x2f109c[_0x8f9824(0x66f)])&&(_0x2f109c={'viewOnceMessageV2':{'message':{'messageContextInfo':{'deviceListMetadataVersion':0x2,'deviceListMetadata':{}},..._0x2f109c}}}),_0x2f109c)};return this[_0x8f9824(0x6bb)]=!0x1,this[_0x8f9824(0x6f0)]=(0x0,w[_0x8f9824(0x4ab)])(_0x22bcd3),this['eventHandler'](),this[_0x8f9824(0x6f0)];}catch(_0x1e9c1e){throw this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x8f9824(0x13e)]+_0x8f9824(0x1e8)+_0x1e9c1e),new A(_0x1e9c1e?.[_0x8f9824(0x686)]());}}[a0_0x1fdc58(0x4b0)](){const _0x142384=a0_0x1fdc58;this[_0x142384(0x6f0)]['ev'][_0x142384(0x297)](_0x137e45=>{const _0x56614e=_0x142384;if(!this[_0x56614e(0x6bb)]){let _0x3db89a=this['configService']['get']('DATABASE');if(_0x137e45['connection.update']&&this[_0x56614e(0x2b6)](_0x137e45['connection.update']),_0x137e45[_0x56614e(0x388)]&&this[_0x56614e(0x635)][_0x56614e(0x2bb)]['saveCreds'](),_0x137e45[_0x56614e(0x64e)]){let _0x546ad2=_0x137e45[_0x56614e(0x64e)];this[_0x56614e(0x2c7)][_0x56614e(0x64e)](_0x546ad2,_0x3db89a);}if(_0x137e45['messages.upsert']){let _0x403dea=_0x137e45[_0x56614e(0x37b)];this[_0x56614e(0x2c7)]['messages.upsert'](_0x403dea,_0x3db89a);}if(_0x137e45[_0x56614e(0x64b)]){let _0x53327c=_0x137e45['messages.update'];this[_0x56614e(0x2c7)][_0x56614e(0x64b)](_0x53327c,_0x3db89a);}if(_0x137e45['presence.update']){let _0xc22249=_0x137e45['presence.update'];this[_0x56614e(0x1d3)](_0x56614e(0x575),_0xc22249);}if(_0x137e45['groups.upsert']){let _0x29a052=_0x137e45[_0x56614e(0x37e)];this[_0x56614e(0x5fb)][_0x56614e(0x37e)](_0x29a052);}if(_0x137e45[_0x56614e(0x25a)]){let _0x5a0f3e=_0x137e45[_0x56614e(0x25a)];this['groupHandler'][_0x56614e(0x25a)](_0x5a0f3e);}if(_0x137e45[_0x56614e(0x202)]){let _0x2fc3e0=_0x137e45[_0x56614e(0x202)];this['groupHandler'][_0x56614e(0x202)](_0x2fc3e0);}if(_0x137e45[_0x56614e(0x25b)]){let _0x280d4f=_0x137e45[_0x56614e(0x25b)];this[_0x56614e(0x2cd)][_0x56614e(0x25b)](_0x280d4f,_0x3db89a);}if(_0x137e45[_0x56614e(0x2d4)]){let _0x2b0b8b=_0x137e45[_0x56614e(0x2d4)];this[_0x56614e(0x2cd)][_0x56614e(0x2d4)](_0x2b0b8b,_0x3db89a);}if(_0x137e45[_0x56614e(0x410)]){let _0x2c1760=_0x137e45[_0x56614e(0x410)];this[_0x56614e(0x2cd)][_0x56614e(0x410)](_0x2c1760);}if(_0x137e45[_0x56614e(0x5c0)]){let _0x54b3f9=_0x137e45[_0x56614e(0x5c0)];this[_0x56614e(0x6e9)][_0x56614e(0x5c0)](_0x54b3f9,_0x3db89a);}if(_0x137e45[_0x56614e(0x668)]){let _0x413277=_0x137e45[_0x56614e(0x668)];this[_0x56614e(0x6e9)][_0x56614e(0x668)](_0x413277,_0x3db89a);}}});}[a0_0x1fdc58(0x193)](_0x40c054){let _0x584142=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x40c054);if(_0x584142&&_0x584142[0x1]==='55'){let _0x51ebcf=_0x584142[0x2],_0x2fda0b=_0x584142[0x3],_0x4b281d=_0x584142[0x4];if(_0x51ebcf>='31'&&_0x2fda0b==='9')return _0x584142[0x1]+_0x51ebcf+_0x4b281d;}return _0x40c054;}[a0_0x1fdc58(0x24a)](_0x3c7c39){const _0x3433bb=a0_0x1fdc58;return _0x3c7c39['includes'](_0x3433bb(0x4dd))||_0x3c7c39['includes'](_0x3433bb(0x67e))||_0x3c7c39[_0x3433bb(0x459)](_0x3433bb(0x396))?_0x3c7c39:(_0x3c7c39=_0x3c7c39?.[_0x3433bb(0x5b4)](/\s/g,'')[_0x3433bb(0x5b4)](/\+/g,'')[_0x3433bb(0x5b4)](/\(/g,'')[_0x3433bb(0x5b4)](/\)/g,'')[_0x3433bb(0x296)](/\:/)[0x0][_0x3433bb(0x296)]('@')[0x0],_0x3c7c39[_0x3433bb(0x6b4)]>=0x12?(_0x3c7c39=_0x3c7c39[_0x3433bb(0x5b4)](/[^\d-]/g,''),_0x3c7c39+_0x3433bb(0x4dd)):(_0x3c7c39=_0x3c7c39[_0x3433bb(0x5b4)](/\D/g,''),this[_0x3433bb(0x193)](_0x3c7c39)+'@s.whatsapp.net'));}async[a0_0x1fdc58(0x63d)](_0x39c2f9){const _0x2938d2=a0_0x1fdc58;let _0x43055b=this[_0x2938d2(0x24a)](_0x39c2f9);try{return{'wuid':_0x43055b,'profilePictureUrl':await this[_0x2938d2(0x6f0)][_0x2938d2(0x1f6)](_0x43055b,_0x2938d2(0x1ea))};}catch{return{'wuid':_0x43055b,'profilePictureUrl':null};}}async['sendMessageWithTyping'](_0x3717cc,_0x2f34e6,_0x43baa9){const _0x24ca13=a0_0x1fdc58;let _0x58b6dc=(await this[_0x24ca13(0x641)]({'numbers':[_0x3717cc]}))[0x0];if(!_0x58b6dc[_0x24ca13(0x18a)]&&!(0x0,w[_0x24ca13(0x5e7)])(_0x58b6dc[_0x24ca13(0x62f)])&&!_0x58b6dc[_0x24ca13(0x62f)][_0x24ca13(0x459)](_0x24ca13(0x396)))throw new m(_0x58b6dc);let _0x1161b6=_0x58b6dc['jid'];try{_0x43baa9?.[_0x24ca13(0x23a)]&&(await this['client'][_0x24ca13(0x35c)](_0x1161b6),await this[_0x24ca13(0x6f0)][_0x24ca13(0x41f)](_0x43baa9?.[_0x24ca13(0x43b)]??_0x24ca13(0x2e5),_0x1161b6),await(0x0,w[_0x24ca13(0x23a)])(_0x43baa9['delay']),await this['client'][_0x24ca13(0x41f)]('paused',_0x1161b6));let _0x601df5=_0x43baa9?.['linkPreview']!=!0x1?void 0x0:!0x1,_0x210db1;if(_0x43baa9?.[_0x24ca13(0x264)]){let _0x988a66=_0x43baa9?.[_0x24ca13(0x264)],_0x4a8940=_0x988a66?.[_0x24ca13(0x219)]?_0x988a66:await this[_0x24ca13(0x554)](_0x988a66[_0x24ca13(0x267)],!0x0);if(!_0x4a8940)throw'Message\x20not\x20found';_0x210db1=_0x4a8940;}let _0x58d633;if((0x0,w[_0x24ca13(0x5e7)])(_0x1161b6))try{let _0x253fa2=await this[_0x24ca13(0x6f0)][_0x24ca13(0x6e1)](_0x1161b6);if(!_0x253fa2)throw new L('Group\x20not\x20found');_0x43baa9?.[_0x24ca13(0x3ba)]&&(_0x43baa9['mentions']?.[_0x24ca13(0x54e)]?_0x58d633=_0x253fa2['participants'][_0x24ca13(0x634)](_0x4b13e3=>_0x4b13e3['id']):_0x43baa9[_0x24ca13(0x3ba)]?.[_0x24ca13(0x1a3)]?.['length']&&(_0x58d633=_0x43baa9[_0x24ca13(0x3ba)][_0x24ca13(0x1a3)][_0x24ca13(0x634)](_0x53da1c=>{const _0xc5c849=_0x24ca13;let _0xd9f42c=this[_0xc5c849(0x24a)](_0x53da1c);return(0x0,w[_0xc5c849(0x5e7)])(_0xd9f42c)?null:_0xd9f42c;})));}catch{throw new L(_0x24ca13(0x3d6));}let _0x194e95=await((async()=>{const _0x121620=_0x24ca13;let _0x424dd4={'quoted':_0x210db1};return!_0x2f34e6[_0x121620(0x684)]&&!_0x2f34e6['poll']&&!_0x2f34e6[_0x121620(0x2fd)]&&!_0x2f34e6['conversation']&&_0x1161b6!==_0x121620(0x541)&&!_0x2f34e6[_0x121620(0x684)]?await this[_0x121620(0x6f0)]['sendMessage'](_0x1161b6,{'forward':{'key':{'remoteJid':this['instance'][_0x121620(0x13e)],'fromMe':!0x0},'message':_0x2f34e6},'mentions':_0x58d633},_0x424dd4):_0x2f34e6['conversation']?await this[_0x121620(0x6f0)][_0x121620(0x3bb)](_0x1161b6,{'text':_0x2f34e6[_0x121620(0x5eb)],'mentions':_0x58d633,'linkPreview':_0x601df5},_0x424dd4):_0x1161b6==='status@broadcast'?await this[_0x121620(0x6f0)][_0x121620(0x3bb)](_0x1161b6,_0x2f34e6[_0x121620(0x62e)]['content'],{'backgroundColor':_0x2f34e6['status'][_0x121620(0x17d)][_0x121620(0x3f3)],'font':_0x2f34e6[_0x121620(0x62e)][_0x121620(0x17d)][_0x121620(0x578)],'statusJidList':_0x2f34e6[_0x121620(0x62e)][_0x121620(0x17d)][_0x121620(0x298)]}):await this[_0x121620(0x6f0)][_0x121620(0x3bb)](_0x1161b6,_0x2f34e6,_0x424dd4);})()),{message_normalized:_0x595bc5}=this[_0x24ca13(0x6d1)](_0x194e95[_0x24ca13(0x219)],J(_0x194e95[_0x24ca13(0x219)]),null),_0x4b0f51={'key':_0x194e95['key'],'pushName':_0x194e95[_0x24ca13(0x5bd)],'message':{..._0x194e95['message']},'messageType':J(_0x194e95['message']),'message_normalized':{'key':_0x194e95[_0x24ca13(0x267)],'pushName':_0x194e95['pushName'],'messageTimestamp':_0x194e95[_0x24ca13(0x6f9)]&&_0x194e95[_0x24ca13(0x6f9)][_0x24ca13(0x686)]()[_0x24ca13(0x6b4)]<0xd?_0x194e95['messageTimestamp']*0x3e8:_0x194e95['messageTimestamp']||null,'source':(0x0,w[_0x24ca13(0x182)])(_0x194e95[_0x24ca13(0x267)]['id']),..._0x595bc5},'messageTimestamp':_0x194e95[_0x24ca13(0x6f9)]&&_0x194e95[_0x24ca13(0x6f9)][_0x24ca13(0x686)]()[_0x24ca13(0x6b4)]<0xd?_0x194e95[_0x24ca13(0x6f9)]*0x3e8:_0x194e95[_0x24ca13(0x6f9)]||null,'owner':this[_0x24ca13(0x635)][_0x24ca13(0x13e)],'source':(0x0,w[_0x24ca13(0x182)])(_0x194e95[_0x24ca13(0x267)]['id'])};return this[_0x24ca13(0x647)][_0x24ca13(0x37c)](_0x4b0f51),await this[_0x24ca13(0x1d3)](_0x24ca13(0x6d2),_0x4b0f51),H(this[_0x24ca13(0x6d8)],_0x24ca13(0x1cc),{'message':_0x4b0f51}),this[_0x24ca13(0x144)](this[_0x24ca13(0x2fc)][_0x24ca13(0x496)](_0x24ca13(0x2f2)),_0x4b0f51,_0x24ca13(0x3a5)),await this['repository'][_0x24ca13(0x219)][_0x24ca13(0x5ff)]([_0x4b0f51],this[_0x24ca13(0x2fc)][_0x24ca13(0x496)]('DATABASE')[_0x24ca13(0x657)]),_0x194e95;}catch(_0x388bab){throw this['logger'][_0x24ca13(0x484)](this['instanceName']+'\x20('+this[_0x24ca13(0x635)]['wuid']+_0x24ca13(0x1e8)+_0x388bab[_0x24ca13(0x686)]()),new m(_0x388bab[_0x24ca13(0x686)]());}}get[a0_0x1fdc58(0x3b5)](){const _0x540ebc=a0_0x1fdc58;return this[_0x540ebc(0x5af)];}async[a0_0x1fdc58(0x680)](_0x3d03af){const _0x5043c2=a0_0x1fdc58;let _0x2c7346=this[_0x5043c2(0x2fc)][_0x5043c2(0x496)]('TRIAL_AD'),_0x371c94=this[_0x5043c2(0x2fc)][_0x5043c2(0x496)](_0x5043c2(0x527));return _0x371c94&&this[_0x5043c2(0x6d8)][_0x5043c2(0x254)]()['includes'](_0x371c94[_0x5043c2(0x254)]())&&(_0x3d03af['textMessage'][_0x5043c2(0x191)]+='\x0a\x0a'+_0x2c7346),await this[_0x5043c2(0x329)](_0x3d03af[_0x5043c2(0x1a5)],{'conversation':_0x3d03af[_0x5043c2(0x680)]['text']},_0x3d03af?.[_0x5043c2(0x217)]);}async['formatStatusMessage'](_0x5be33c){const _0xf09f1=a0_0x1fdc58;if(!_0x5be33c[_0xf09f1(0x294)])throw new m('Type\x20is\x20required');if(!_0x5be33c[_0xf09f1(0x31f)])throw new m('Content\x20is\x20required');if(_0x5be33c[_0xf09f1(0x28b)]){let _0x9a86d2=await this[_0xf09f1(0x369)][_0xf09f1(0x3b6)][_0xf09f1(0x192)]({'where':{'owner':this[_0xf09f1(0x635)][_0xf09f1(0x13e)]}});if(!_0x9a86d2[_0xf09f1(0x6b4)])throw new m(_0xf09f1(0x2e4));_0x5be33c['statusJidList']=_0x9a86d2[_0xf09f1(0x430)](_0x44fc26=>_0x44fc26[_0xf09f1(0x5bd)])['map'](_0x2fddea=>_0x2fddea['id']);}if(!_0x5be33c[_0xf09f1(0x298)]?.[_0xf09f1(0x6b4)]&&!_0x5be33c[_0xf09f1(0x28b)])throw new m(_0xf09f1(0x1a0));if(_0x5be33c['type']===_0xf09f1(0x191)){if(!_0x5be33c[_0xf09f1(0x3f3)])throw new m('Background\x20color\x20is\x20required');if(!_0x5be33c['font'])throw new m(_0xf09f1(0x52f));return{'content':{'text':_0x5be33c[_0xf09f1(0x31f)]},'option':{'backgroundColor':_0x5be33c[_0xf09f1(0x3f3)],'font':_0x5be33c['font'],'statusJidList':_0x5be33c[_0xf09f1(0x298)]}};}if(_0x5be33c['type']===_0xf09f1(0x1ea))return{'content':{'image':{'url':_0x5be33c[_0xf09f1(0x31f)]},'caption':_0x5be33c[_0xf09f1(0x4fc)]},'option':{'statusJidList':_0x5be33c[_0xf09f1(0x298)]}};if(_0x5be33c['type']==='video')return{'content':{'video':{'url':_0x5be33c[_0xf09f1(0x31f)]},'caption':_0x5be33c[_0xf09f1(0x4fc)]},'option':{'statusJidList':_0x5be33c[_0xf09f1(0x298)]}};if(_0x5be33c[_0xf09f1(0x294)]===_0xf09f1(0x684)){let _0x59be51;if((0x0,x[_0xf09f1(0x558)])(_0x5be33c['content'])){let _0x1d2e43=await le[_0xf09f1(0x4ab)][_0xf09f1(0x496)](_0x5be33c[_0xf09f1(0x31f)],{'responseType':_0xf09f1(0x1ff)});if(_0x59be51=Buffer[_0xf09f1(0x21c)](_0x1d2e43[_0xf09f1(0x461)]),_0x5be33c[_0xf09f1(0x31f)]['endsWith'](_0xf09f1(0x2c1)))try{_0x59be51=await this['convertaudio'](_0x59be51);}catch(_0x44be90){throw new A(_0xf09f1(0x18e)+_0x44be90[_0xf09f1(0x219)]);}else _0x59be51=Buffer[_0xf09f1(0x21c)](_0x5be33c['content'],_0xf09f1(0x6b7));let _0x2505bb=_0x59be51;return{'content':{'audio':Buffer[_0xf09f1(0x21c)](_0x2505bb,'base64'),'ptt':!0x0,'mimetype':_0xf09f1(0x621)},'option':{'statusJidList':_0x5be33c[_0xf09f1(0x298)]}};}else throw new A();}throw new m(_0xf09f1(0x5b2));}async[a0_0x1fdc58(0x449)](_0x2f5fa4){const _0x2a44a1=a0_0x1fdc58;return await this[_0x2a44a1(0x329)](_0x2a44a1(0x541),{'status':await this['formatStatusMessage'](_0x2f5fa4[_0x2a44a1(0x449)])});}async[a0_0x1fdc58(0x1ca)](_0x4006f2){const _0x5bb2af=a0_0x1fdc58;try{let _0xe2b2c4=await(0x0,w['prepareWAMessageMedia'])({[_0x4006f2['mediatype']]:(0x0,x[_0x5bb2af(0x558)])(_0x4006f2['media'])?{'url':_0x4006f2[_0x5bb2af(0x6d4)]}:Buffer['from'](_0x4006f2[_0x5bb2af(0x6d4)],'base64')},{'upload':this['client']['waUploadToServer']}),_0x45b9db=_0x4006f2[_0x5bb2af(0x441)]+'Message';if(_0x4006f2[_0x5bb2af(0x441)]==='document'&&!_0x4006f2['fileName']){let _0xad4bfc=new RegExp(/.*\/(.+?)\./)[_0x5bb2af(0x415)](_0x4006f2['media']);_0x4006f2['fileName']=_0xad4bfc[0x1];}let _0x1d8b38;(0x0,x[_0x5bb2af(0x558)])(_0x4006f2[_0x5bb2af(0x6d4)])?_0x1d8b38=(0x0,bs['getMIMEType'])(_0x4006f2[_0x5bb2af(0x6d4)]):_0x1d8b38=(0x0,bs[_0x5bb2af(0x65b)])(_0x4006f2[_0x5bb2af(0x65e)]);let _0x303b42=this[_0x5bb2af(0x2fc)]['get'](_0x5bb2af(0x19b)),_0x34dd20=this[_0x5bb2af(0x2fc)][_0x5bb2af(0x496)]('TRIAL_INSTANCE_NAME');return _0x34dd20&&this[_0x5bb2af(0x6d8)][_0x5bb2af(0x254)]()[_0x5bb2af(0x459)](_0x34dd20[_0x5bb2af(0x254)]())&&(_0x4006f2[_0x5bb2af(0x4fc)]+='\x0a\x0a'+_0x303b42),_0xe2b2c4[_0x45b9db]['caption']=_0x4006f2?.[_0x5bb2af(0x4fc)],_0xe2b2c4[_0x45b9db][_0x5bb2af(0x23f)]=_0x1d8b38,_0xe2b2c4[_0x45b9db][_0x5bb2af(0x65e)]=_0x4006f2[_0x5bb2af(0x65e)],_0x4006f2['mediatype']===_0x5bb2af(0x25d)&&(_0xe2b2c4[_0x45b9db][_0x5bb2af(0x57a)]=Uint8Array['from']((0x0,_e['readFileSync'])((0x0,Z[_0x5bb2af(0x567)])(process[_0x5bb2af(0x243)](),_0x5bb2af(0x4bb)))),_0xe2b2c4[_0x45b9db]['gifPlayback']=!0x1),(0x0,w[_0x5bb2af(0x6b8)])('',{[_0x45b9db]:{..._0xe2b2c4[_0x45b9db]}},{'userJid':this[_0x5bb2af(0x635)][_0x5bb2af(0x13e)]});}catch(_0x2d3ac0){throw this['logger']['error'](this[_0x5bb2af(0x6d8)]+'\x20('+this[_0x5bb2af(0x635)][_0x5bb2af(0x13e)]+'):\x20'+_0x2d3ac0),new A(_0x2d3ac0?.[_0x5bb2af(0x686)]()||_0x2d3ac0);}}async[a0_0x1fdc58(0x15c)](_0x3654d2){const _0x9abd7b=a0_0x1fdc58;let _0x2b05b0=await this[_0x9abd7b(0x1ca)](_0x3654d2[_0x9abd7b(0x15c)]);return await this[_0x9abd7b(0x329)](_0x3654d2['number'],{..._0x2b05b0[_0x9abd7b(0x219)]},_0x3654d2?.[_0x9abd7b(0x217)]);}async[a0_0x1fdc58(0x4f6)](_0x54d975){const _0xb73dcc=a0_0x1fdc58;return await this[_0xb73dcc(0x329)](_0x54d975[_0xb73dcc(0x1a5)],{'sticker':{'url':_0x54d975[_0xb73dcc(0x1bc)][_0xb73dcc(0x1ea)]}},_0x54d975?.['options']);}async['audioWhatsapp'](_0x37c65d){const _0x51ad51=a0_0x1fdc58;let _0x5b3561;if((0x0,x[_0x51ad51(0x558)])(_0x37c65d[_0x51ad51(0x612)]['audio'])){let _0x42e1ed=await le[_0x51ad51(0x4ab)][_0x51ad51(0x496)](_0x37c65d[_0x51ad51(0x612)][_0x51ad51(0x684)],{'responseType':_0x51ad51(0x1ff)});if(_0x5b3561=Buffer[_0x51ad51(0x21c)](_0x42e1ed['data']),_0x37c65d['audioMessage'][_0x51ad51(0x684)][_0x51ad51(0x440)](_0x51ad51(0x2c1)))try{_0x5b3561=await this[_0x51ad51(0x272)](_0x5b3561);}catch(_0x32957f){throw new A('Error\x20converting\x20audio:\x20'+_0x32957f[_0x51ad51(0x219)]);}}else _0x5b3561=Buffer[_0x51ad51(0x21c)](_0x37c65d[_0x51ad51(0x612)][_0x51ad51(0x684)],'base64');let _0x1730bb=_0x5b3561;return this[_0x51ad51(0x329)](_0x37c65d[_0x51ad51(0x1a5)],{'audio':_0x1730bb,'mimetype':_0x51ad51(0x621),'ptt':!0x0},{'presence':_0x51ad51(0x55c),'delay':_0x37c65d?.[_0x51ad51(0x217)]?.[_0x51ad51(0x23a)]});}async[a0_0x1fdc58(0x272)](_0x273175){return new Promise(async(_0x1d3d65,_0x2ac7d7)=>{const _0x23cfae=a0_0x56bb;let _0x5e70f8=po['Readable'][_0x23cfae(0x21c)](_0x273175),_0x2720b4=new mo['WritableStreamBuffer']();(0x0,uo[_0x23cfae(0x4ab)])()['input'](_0x5e70f8)['noVideo']()[_0x23cfae(0x46a)]([_0x23cfae(0x633),_0x23cfae(0x456),_0x23cfae(0x671),'16000'])[_0x23cfae(0x1f1)](_0x23cfae(0x695))[_0x23cfae(0x2bf)](0x1)[_0x23cfae(0x387)](0xbb80)[_0x23cfae(0x55d)](0x12)[_0x23cfae(0x5f5)]('ogg')[_0x23cfae(0x3ff)](_0x2720b4)['on'](_0x23cfae(0x414),async()=>{const _0x56b1f0=_0x23cfae;let _0xa9114=_0x2720b4[_0x56b1f0(0x5cb)]();Buffer['isBuffer'](_0xa9114)?_0x1d3d65(_0xa9114):_0x2ac7d7(new Error(_0x56b1f0(0x561)));})['on'](_0x23cfae(0x484),_0x8f5430=>{_0x2ac7d7(_0x8f5430);})[_0x23cfae(0x237)]();});}async['buttonMessage'](_0x333ae5){const _0x24a6c1=a0_0x1fdc58;let _0xde2265={},_0x5d2e09=_0x24a6c1(0x30e);if(_0x333ae5[_0x24a6c1(0x5f1)]?.[_0x24a6c1(0x15c)]){_0x5d2e09=_0x333ae5[_0x24a6c1(0x5f1)][_0x24a6c1(0x15c)]?.[_0x24a6c1(0x441)][_0x24a6c1(0x620)]()??'TEXT',_0xde2265[_0x24a6c1(0x381)]=_0x5d2e09['toLowerCase']()+_0x24a6c1(0x59e);let _0x51e126=await this[_0x24a6c1(0x1ca)](_0x333ae5[_0x24a6c1(0x5f1)][_0x24a6c1(0x15c)]);_0xde2265['message']=_0x51e126[_0x24a6c1(0x219)][_0xde2265['mediaKey']],_0xde2265[_0x24a6c1(0x550)]='*'+_0x333ae5[_0x24a6c1(0x5f1)][_0x24a6c1(0x576)]+_0x24a6c1(0x20f)+_0x333ae5[_0x24a6c1(0x5f1)]['description'];}let _0x3413f5={'text':_0x333ae5[_0x24a6c1(0x5f1)][_0x24a6c1(0x6ed)][_0x24a6c1(0x634)](_0x44f8bf=>_0x44f8bf['buttonText']),'ids':_0x333ae5[_0x24a6c1(0x5f1)][_0x24a6c1(0x6ed)][_0x24a6c1(0x634)](_0x9a460=>_0x9a460[_0x24a6c1(0x503)])};if(!(0x0,x[_0x24a6c1(0x574)])(_0x3413f5[_0x24a6c1(0x191)])||!(0x0,x[_0x24a6c1(0x574)])(_0x3413f5[_0x24a6c1(0x4e7)]))throw new m('Button\x20texts\x20cannot\x20be\x20repeated','Button\x20IDs\x20cannot\x20be\x20repeated.');return await this[_0x24a6c1(0x329)](_0x333ae5[_0x24a6c1(0x1a5)],{'buttonsMessage':{'text':_0xde2265?.['mediaKey']?void 0x0:_0x333ae5[_0x24a6c1(0x5f1)][_0x24a6c1(0x576)],'contentText':_0xde2265?.[_0x24a6c1(0x550)]??_0x333ae5[_0x24a6c1(0x5f1)][_0x24a6c1(0x6f2)],'footerText':_0x333ae5['buttonMessage']?.[_0x24a6c1(0x673)],'buttons':_0x333ae5[_0x24a6c1(0x5f1)][_0x24a6c1(0x6ed)][_0x24a6c1(0x634)](_0x145c06=>({'buttonText':{'displayText':_0x145c06['buttonText']},'buttonId':_0x145c06['buttonId'],'type':0x1})),'headerType':w[_0x24a6c1(0x4ee)][_0x24a6c1(0x59e)]['ButtonsMessage'][_0x24a6c1(0x363)][_0x5d2e09],[_0xde2265?.[_0x24a6c1(0x381)]]:_0xde2265?.[_0x24a6c1(0x219)]}},_0x333ae5?.[_0x24a6c1(0x217)]);}async['locationMessage'](_0x2bbd87){const _0x320116=a0_0x1fdc58;return await this[_0x320116(0x329)](_0x2bbd87[_0x320116(0x1a5)],{'locationMessage':{'degreesLatitude':_0x2bbd87[_0x320116(0x4bc)]['latitude'],'degreesLongitude':_0x2bbd87['locationMessage'][_0x320116(0x462)],'name':_0x2bbd87[_0x320116(0x4bc)]?.[_0x320116(0x5e8)],'address':_0x2bbd87['locationMessage']?.[_0x320116(0x6d0)]}},_0x2bbd87?.[_0x320116(0x217)]);}async[a0_0x1fdc58(0x66f)](_0x12d887){const _0x2e1011=a0_0x1fdc58;return await this['sendMessageWithTyping'](_0x12d887[_0x2e1011(0x1a5)],{'listMessage':{'title':_0x12d887[_0x2e1011(0x66f)][_0x2e1011(0x576)],'description':_0x12d887[_0x2e1011(0x66f)][_0x2e1011(0x6f2)],'buttonText':_0x12d887[_0x2e1011(0x66f)]?.['buttonText'],'footerText':_0x12d887[_0x2e1011(0x66f)]?.[_0x2e1011(0x673)],'sections':_0x12d887[_0x2e1011(0x66f)][_0x2e1011(0x21e)],'listType':0x1}},_0x12d887?.[_0x2e1011(0x217)]);}async[a0_0x1fdc58(0x679)](_0x2f8697){const _0x1b877d=a0_0x1fdc58;let _0x2b9ff9={},_0x30a036=_0x1a6d94=>{const _0x196c03=a0_0x56bb;let _0x146eed=_0x196c03(0x6aa)+_0x1a6d94[_0x196c03(0x36a)]+_0x196c03(0x632)+_0x1a6d94[_0x196c03(0x36a)]+'\x0a';_0x1a6d94['organization']&&(_0x146eed+=_0x196c03(0x3aa)+_0x1a6d94[_0x196c03(0x610)]+';\x0a'),_0x1a6d94['email']&&(_0x146eed+=_0x196c03(0x670)+_0x1a6d94[_0x196c03(0x276)]+'\x0a'),_0x1a6d94[_0x196c03(0x47b)]&&(_0x146eed+=_0x196c03(0x5d0)+_0x1a6d94['url']+'\x0a');let _0x4b9ce0='';return _0x1a6d94[_0x196c03(0x1ab)]&&_0x1a6d94['phoneNumber']['split']('|')[_0x196c03(0x44b)]((_0x27e3ab,_0x43ea58)=>{const _0x5363c1=_0x196c03;let _0x588ddb=this['createJid'](_0x27e3ab)[_0x5363c1(0x5b4)]('@s.whatsapp.net','');_0x4b9ce0+=_0x5363c1(0x528)+(_0x43ea58+0x1)+_0x5363c1(0x319)+_0x588ddb+':'+_0x27e3ab+_0x5363c1(0x577)+(_0x43ea58+0x1)+_0x5363c1(0x28a);}),_0x146eed+=_0x4b9ce0+_0x196c03(0x4a4),_0x146eed;};return _0x2f8697[_0x1b877d(0x679)]['length']===0x1?_0x2b9ff9[_0x1b877d(0x679)]={'displayName':_0x2f8697[_0x1b877d(0x679)][0x0]['fullName'],'vcard':_0x30a036(_0x2f8697[_0x1b877d(0x679)][0x0])}:_0x2b9ff9[_0x1b877d(0x3fd)]={'displayName':_0x2f8697[_0x1b877d(0x679)]['length']+_0x1b877d(0x60b),'contacts':_0x2f8697[_0x1b877d(0x679)][_0x1b877d(0x634)](_0x3277c5=>({'displayName':_0x3277c5[_0x1b877d(0x36a)],'vcard':_0x30a036(_0x3277c5)}))},await this[_0x1b877d(0x329)](_0x2f8697[_0x1b877d(0x1a5)],{..._0x2b9ff9},_0x2f8697?.[_0x1b877d(0x217)]);}async[a0_0x1fdc58(0x582)](_0x54b78c){const _0x33a1a6=a0_0x1fdc58;return await this[_0x33a1a6(0x329)](_0x54b78c['reactionMessage'][_0x33a1a6(0x267)][_0x33a1a6(0x543)],{'reactionMessage':{'key':_0x54b78c['reactionMessage'][_0x33a1a6(0x267)],'text':_0x54b78c[_0x33a1a6(0x582)]['reaction']}});}async['whatsappNumber'](_0x4d677a){const _0x2953e1=a0_0x1fdc58;let _0x24df69=[];for await(let _0x2b613b of _0x4d677a[_0x2953e1(0x546)]){let _0x3e695e=this[_0x2953e1(0x24a)](_0x2b613b);if((0x0,w[_0x2953e1(0x5e7)])(_0x3e695e)){let _0x270bf4=await this[_0x2953e1(0x3a8)]({'groupJid':_0x3e695e},_0x2953e1(0x675));_0x24df69[_0x2953e1(0x1b4)](new he(_0x270bf4['metadata']['id'],!!_0x270bf4?.['metadata']['id'],_0x270bf4?.['metadata'][_0x2953e1(0x53c)]));}else try{let _0x4c345f=(await this['client'][_0x2953e1(0x5ee)](_0x3e695e))[0x0];_0x24df69[_0x2953e1(0x1b4)](new he(_0x4c345f['jid'],_0x4c345f['exists']));}catch{_0x24df69['push'](new he(_0x2b613b,!0x1));}}return _0x24df69;}async[a0_0x1fdc58(0x681)](_0x5cdc2b){const _0x189cbe=a0_0x1fdc58;try{let _0xbf437=_0x5cdc2b[_0x189cbe(0x255)]['filter'](_0x143de0=>(0x0,w[_0x189cbe(0x5e7)])(_0x143de0['remoteJid'])||(0x0,w['isJidUser'])(_0x143de0[_0x189cbe(0x543)]))[_0x189cbe(0x634)](_0x47e339=>({'remoteJid':_0x47e339[_0x189cbe(0x543)],'fromMe':_0x47e339[_0x189cbe(0x47c)],'id':_0x47e339['id']}));await this[_0x189cbe(0x6f0)][_0x189cbe(0x255)](_0xbf437);let _0x5edc52=_0xbf437[_0x189cbe(0x634)](_0x23fc79=>this['updateMessage'](_0x23fc79,_0x23fc79[_0x189cbe(0x543)],{'status':_0x189cbe(0x2c8),'owner':this[_0x189cbe(0x635)][_0x189cbe(0x13e)]})),_0x3523c3=_0xbf437[_0x189cbe(0x634)](_0x1b04cf=>I[_0x189cbe(0x1c5)]({'id':_0x1b04cf[_0x189cbe(0x543)],'owner':this['instance'][_0x189cbe(0x13e)]},{'$set':{'unreadcount':0x0}},{'new':!0x0})),[_0x248b40,_0x5f1176]=await Promise['all']([Promise[_0x189cbe(0x13c)](_0x5edc52),Promise['all'](_0x3523c3)]);return _0x5f1176[_0x189cbe(0x430)](_0x364e3a=>_0x364e3a!==null)[_0x189cbe(0x44b)](_0x45d32d=>{const _0x1db6d8=_0x189cbe;H(this[_0x1db6d8(0x6d8)],_0x1db6d8(0x228),{'chat':_0x45d32d});}),{'message':_0x189cbe(0x1cf),'read':'success'};}catch(_0x39f609){throw console[_0x189cbe(0x484)](_0x189cbe(0x3a4),_0x39f609),new A('Read\x20messages\x20fail',_0x39f609['toString']());}}async[a0_0x1fdc58(0x68b)](_0x282a6f){const _0x30751d=a0_0x1fdc58;try{return _0x282a6f[_0x30751d(0x55a)][_0x30751d(0x6f9)]=_0x282a6f['lastMessage']?.['messageTimestamp']??Date[_0x30751d(0x2f7)](),await this[_0x30751d(0x6f0)][_0x30751d(0x65f)]({'archive':_0x282a6f[_0x30751d(0x5bb)],'lastMessages':[_0x282a6f['lastMessage']]},_0x282a6f[_0x30751d(0x55a)]['key']['remoteJid']),{'chatId':_0x282a6f[_0x30751d(0x55a)][_0x30751d(0x267)][_0x30751d(0x543)],'archived':!0x0};}catch(_0x350bdb){throw new A({'archived':!0x1,'message':[_0x30751d(0x58f),_0x350bdb[_0x30751d(0x686)]()]});}}async[a0_0x1fdc58(0x161)](_0x1c1b39){const _0x1c907f=a0_0x1fdc58;try{let _0x4f96b5=await this['client'][_0x1c907f(0x3bb)](_0x1c1b39[_0x1c907f(0x543)],{'delete':_0x1c1b39});try{let _0x40e7fe=await this[_0x1c907f(0x49a)](_0x1c1b39,_0x1c1b39[_0x1c907f(0x543)],{'status':_0x1c907f(0x26b),'owner':this[_0x1c907f(0x635)][_0x1c907f(0x13e)]});this[_0x1c907f(0x647)][_0x1c907f(0x691)](this[_0x1c907f(0x6d8)]+'\x20('+this[_0x1c907f(0x635)][_0x1c907f(0x13e)]+_0x1c907f(0x2b2)+_0x40e7fe);}catch(_0x2a179d){console['error'](_0x1c907f(0x4d3),_0x2a179d);}return _0x4f96b5;}catch(_0x48575b){throw new A(_0x1c907f(0x696),_0x48575b?.['toString']());}}async[a0_0x1fdc58(0x39a)](_0x1d1939){const _0xe9dba7=a0_0x1fdc58;try{let _0x200929=_0x1d1939?.[_0xe9dba7(0x219)]?_0x1d1939:await this[_0xe9dba7(0x554)](_0x1d1939['key'],!0x0);for(let _0x2c09ff of zs)_0x200929[_0xe9dba7(0x219)][_0x2c09ff]&&(_0x200929[_0xe9dba7(0x219)]=_0x200929[_0xe9dba7(0x219)][_0x2c09ff]['message']);let _0x343099,_0x65d461;for(let _0x1b0797 of Ks)if(_0x343099=_0x200929[_0xe9dba7(0x219)][_0x1b0797],_0x343099){_0x65d461=_0x1b0797;break;}if(!_0x343099)throw _0xe9dba7(0x38d);typeof _0x343099['mediaKey']=='object'&&(_0x200929[_0xe9dba7(0x219)]=JSON['parse'](JSON[_0xe9dba7(0x1b7)](_0x200929[_0xe9dba7(0x219)])));let _0x607fd7=await(0x0,w[_0xe9dba7(0x61a)])({'key':_0x200929?.[_0xe9dba7(0x267)],'message':_0x200929?.['message']},'buffer',{},{'logger':(0x0,$t[_0xe9dba7(0x4ab)])({'level':_0xe9dba7(0x484)}),'reuploadRequest':this[_0xe9dba7(0x6f0)][_0xe9dba7(0x147)]});if(!(_0x607fd7 instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');if(this['configService'][_0xe9dba7(0x496)](_0xe9dba7(0x2f2))[_0xe9dba7(0x657)]){let _0xc94720;if(_0x343099['fileName'])_0xc94720=_0x343099[_0xe9dba7(0x65e)];else{let _0x502630=_0x343099[_0xe9dba7(0x23f)]?.[_0xe9dba7(0x625)](/\/(\w+)/),_0x284a8b=_0x502630?_0x502630[0x1]:null;if(_0x284a8b===_0xe9dba7(0x58b)&&_0x343099['mimetype']?.[_0xe9dba7(0x459)](_0xe9dba7(0x518))&&(_0x284a8b='ogg'),!_0x284a8b)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0xc94720=(0x0,go['v4'])()+'.'+_0x284a8b;}await this[_0xe9dba7(0x646)](_0x607fd7,_0xc94720);let _0x257f44=_0xe9dba7(0x6c0)+_0xc94720,_0x377eeb=this[_0xe9dba7(0x2fc)]['get'](_0xe9dba7(0x520)),_0x2a2fde=this['configService'][_0xe9dba7(0x496)](_0xe9dba7(0x666))[_0xe9dba7(0x383)],_0x275fd4=_0x377eeb&&_0x377eeb['FULLCHAIN']['split']('/')[0x4];_0x2a2fde===0x1bb&&(_0x257f44=''+('https://'+_0x275fd4)+_0x257f44);let _0x3c6d62={'where':{'key':{'id':_0x200929['key']['id'],'remoteJid':_0x200929[_0xe9dba7(0x267)][_0xe9dba7(0x543)],'fromMe':_0x200929[_0xe9dba7(0x267)][_0xe9dba7(0x47c)]},'owner':this[_0xe9dba7(0x635)][_0xe9dba7(0x13e)]}};_0x200929['key'][_0xe9dba7(0x543)][_0xe9dba7(0x440)](_0xe9dba7(0x4dd))&&(_0x3c6d62[_0xe9dba7(0x5d9)][_0xe9dba7(0x267)][_0xe9dba7(0x15e)]=_0x200929[_0xe9dba7(0x267)][_0xe9dba7(0x15e)]);let _0x2029cc=0xc*0x3c*0x3c*0x3e8,_0x247a07={'message_normalized.fileUrl':_0x257f44,'message_normalized.expires_fileUrl':Date['now']()+_0x2029cc};try{let _0x4f8f96=await this[_0xe9dba7(0x369)]['message'][_0xe9dba7(0x1a4)](_0x3c6d62,_0x247a07);_0x4f8f96&&H(this[_0xe9dba7(0x6d8)],_0xe9dba7(0x1cc),{'message':_0x4f8f96});}catch{}}return{'mediaType':_0x65d461,'fileName':_0x343099[_0xe9dba7(0x65e)],'caption':_0x343099[_0xe9dba7(0x4fc)],'size':{'fileLength':_0x343099['fileLength'],'height':_0x343099['height'],'width':_0x343099[_0xe9dba7(0x326)]},'mimetype':_0x343099[_0xe9dba7(0x23f)],'base64':_0x607fd7[_0xe9dba7(0x686)](_0xe9dba7(0x6b7))};}catch(_0x5312ec){throw this['logger'][_0xe9dba7(0x484)](this[_0xe9dba7(0x6d8)]+'\x20('+this['instance'][_0xe9dba7(0x13e)]+_0xe9dba7(0x1e8)+_0x5312ec),new m(_0x5312ec['toString']());}}async[a0_0x1fdc58(0x646)](_0x466de4,_0x46a3ab){const _0x56f02c=a0_0x1fdc58;console[_0x56f02c(0x37c)](_0x56f02c(0x23e),__dirname),console[_0x56f02c(0x37c)](_0x56f02c(0x3d3),_0x46a3ab);let _0x3eb931=Z[_0x56f02c(0x4ab)][_0x56f02c(0x567)](__dirname,_0x56f02c(0x14b));console[_0x56f02c(0x37c)](_0x56f02c(0x6b2),_0x3eb931),Se['existsSync'](_0x3eb931)||(this[_0x56f02c(0x647)][_0x56f02c(0x37c)](_0x56f02c(0x4a7)),Se[_0x56f02c(0x2ec)](_0x3eb931,{'recursive':!0x0}));let _0x26508a=Z[_0x56f02c(0x4ab)][_0x56f02c(0x567)](_0x3eb931,_0x46a3ab);return console['log'](_0x56f02c(0x6e6),_0x26508a),new Promise((_0x478569,_0x43395b)=>{const _0x405250=_0x56f02c;Se[_0x405250(0x2be)](_0x26508a,_0x466de4,_0x43469c=>{const _0x19a089=_0x405250;_0x43469c?(this[_0x19a089(0x647)]['error'](_0x19a089(0x2b9)+_0x43469c['message']),_0x43395b(_0x43469c)):(this[_0x19a089(0x647)][_0x19a089(0x37c)]('File\x20written\x20to\x20path:\x20'+_0x26508a),_0x478569(_0x26508a));});});}async[a0_0x1fdc58(0x39d)](_0x2541bc){const _0x511d32=a0_0x1fdc58;return _0x2541bc?.[_0x511d32(0x5d9)]?_0x2541bc[_0x511d32(0x5d9)][_0x511d32(0x3b7)]=this[_0x511d32(0x635)][_0x511d32(0x13e)]:_0x2541bc={'where':{'owner':this['instance'][_0x511d32(0x13e)]}},await this[_0x511d32(0x369)][_0x511d32(0x3b6)][_0x511d32(0x192)](_0x2541bc);}async['fetchMessages'](_0x163531){const _0x57a99=a0_0x1fdc58;_0x163531?.['where']?_0x163531[_0x57a99(0x5d9)]['owner']=this[_0x57a99(0x635)][_0x57a99(0x13e)]:_0x163531={'where':{'owner':this[_0x57a99(0x635)][_0x57a99(0x13e)]},'limit':_0x163531?.[_0x57a99(0x200)]};let _0x38271a=_0x163531?.[_0x57a99(0x5d9)]?.[_0x57a99(0x267)]?.[_0x57a99(0x543)];return _0x38271a&&this[_0x57a99(0x155)](_0x38271a)['catch'](_0x48c3ed=>{const _0x5c4c8a=_0x57a99;this[_0x5c4c8a(0x647)][_0x5c4c8a(0x484)](_0x5c4c8a(0x18f)+_0x48c3ed);}),await this['repository'][_0x57a99(0x219)][_0x57a99(0x192)](_0x163531);}async[a0_0x1fdc58(0x44a)](_0x3a9105){const _0x3f1e57=a0_0x1fdc58;return _0x3a9105?.[_0x3f1e57(0x5d9)]?_0x3a9105[_0x3f1e57(0x5d9)][_0x3f1e57(0x3b7)]=this[_0x3f1e57(0x635)][_0x3f1e57(0x13e)]:_0x3a9105={'where':{'owner':this[_0x3f1e57(0x635)]['wuid']},'limit':_0x3a9105?.[_0x3f1e57(0x200)]},await this[_0x3f1e57(0x369)][_0x3f1e57(0x304)]['find'](_0x3a9105);}async[a0_0x1fdc58(0x427)](){const _0x4f6c5d=a0_0x1fdc58;return await this[_0x4f6c5d(0x369)]['chat'][_0x4f6c5d(0x192)]({'where':{'owner':this[_0x4f6c5d(0x635)]['wuid']}});}async[a0_0x1fdc58(0x3e2)](){const _0x450bb0=a0_0x1fdc58;return await this[_0x450bb0(0x6f0)][_0x450bb0(0x3e2)]();}async[a0_0x1fdc58(0x677)](_0x25a678){const _0x68195f=a0_0x1fdc58;try{return await this[_0x68195f(0x6f0)][_0x68195f(0x566)](_0x25a678[_0x68195f(0x56a)][_0x68195f(0x6c2)]),await this['client'][_0x68195f(0x3de)](_0x25a678[_0x68195f(0x56a)]['profile']),await this[_0x68195f(0x6f0)][_0x68195f(0x6ef)](_0x25a678[_0x68195f(0x56a)][_0x68195f(0x62e)]),await this[_0x68195f(0x6f0)]['updateOnlinePrivacy'](_0x25a678[_0x68195f(0x56a)]['online']),await this[_0x68195f(0x6f0)][_0x68195f(0x3cc)](_0x25a678[_0x68195f(0x56a)][_0x68195f(0x1d0)]),await this[_0x68195f(0x6f0)]['updateGroupsAddPrivacy'](_0x25a678[_0x68195f(0x56a)]['groupadd']),this['client']?.['ws']?.[_0x68195f(0x2fb)](),{'update':_0x68195f(0x43e),'data':{'readreceipts':_0x25a678[_0x68195f(0x56a)][_0x68195f(0x6c2)],'profile':_0x25a678[_0x68195f(0x56a)][_0x68195f(0x378)],'status':_0x25a678[_0x68195f(0x56a)][_0x68195f(0x62e)],'online':_0x25a678['privacySettings'][_0x68195f(0x6de)],'last':_0x25a678[_0x68195f(0x56a)][_0x68195f(0x1d0)],'groupadd':_0x25a678[_0x68195f(0x56a)][_0x68195f(0x176)]}};}catch(_0x4712e6){throw new A(_0x68195f(0x1d4),_0x4712e6['toString']());}}async[a0_0x1fdc58(0x507)](_0x59f364){const _0x1296cc=a0_0x1fdc58;let _0x29943a=_0x59f364?this[_0x1296cc(0x24a)](_0x59f364):this['client']?.[_0x1296cc(0x45d)]?.['id'];this[_0x1296cc(0x647)][_0x1296cc(0x691)](_0x1296cc(0x16f)+_0x29943a);try{if(this[_0x1296cc(0x647)][_0x1296cc(0x691)](_0x1296cc(0x34a)),_0x59f364){let _0x3f13f0=(await this[_0x1296cc(0x641)]({'numbers':[_0x29943a]}))?.[_0x1296cc(0x4e8)](),_0x237c1f=await this[_0x1296cc(0x63d)](_0x3f13f0?.['jid']),_0x5758b6=await this[_0x1296cc(0x418)](_0x3f13f0?.[_0x1296cc(0x62f)]),_0x5b975a=await this[_0x1296cc(0x189)](_0x3f13f0?.['jid']);return{'wuid':_0x3f13f0?.[_0x1296cc(0x62f)]||_0x29943a,'name':_0x3f13f0?.[_0x1296cc(0x5e8)],'numberExists':_0x3f13f0?.[_0x1296cc(0x18a)],'picture':_0x237c1f?.['profilePictureUrl'],'status':_0x5758b6?.[_0x1296cc(0x62e)],'isBusiness':_0x5b975a[_0x1296cc(0x4fd)],'email':_0x5b975a?.[_0x1296cc(0x276)],'description':_0x5b975a?.[_0x1296cc(0x6f2)],'website':_0x5b975a?.[_0x1296cc(0x2c2)]?.['shift']()};}}catch{return this['logger'][_0x1296cc(0x691)](_0x1296cc(0x2b5)),{'wuid':_0x29943a,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x1fdc58(0x189)](_0x216368){const _0x44d5a1=a0_0x1fdc58;this[_0x44d5a1(0x647)]['verbose']('Fetching\x20business\x20profile');try{let _0xb7444a=_0x216368?this[_0x44d5a1(0x24a)](_0x216368):this[_0x44d5a1(0x635)][_0x44d5a1(0x13e)],_0x3c44d1=await this[_0x44d5a1(0x6f0)]['getBusinessProfile'](_0xb7444a);return this[_0x44d5a1(0x647)][_0x44d5a1(0x691)]('Trying\x20to\x20get\x20business\x20profile'),_0x3c44d1?(this[_0x44d5a1(0x647)][_0x44d5a1(0x691)](_0x44d5a1(0x34b)),{'isBusiness':!0x0,..._0x3c44d1}):{'isBusiness':!0x1,'message':_0x44d5a1(0x3d2),...(await this[_0x44d5a1(0x641)]({'numbers':[_0xb7444a]}))?.[_0x44d5a1(0x4e8)]()};}catch(_0x9ed69){throw new A(_0x44d5a1(0x50a),_0x9ed69[_0x44d5a1(0x686)]());}}async[a0_0x1fdc58(0x155)](_0x7db871,_0x1a4cda=!0x0){const _0xf42a0d=a0_0x1fdc58;let _0x1667d4=null,_0x41e40f=null,_0x50a655;if(_0x1a4cda){let _0x4764ec=Date[_0xf42a0d(0x2f7)]()-0x5265c00,_0x421a0a=await I[_0xf42a0d(0x5e3)]({'id':_0x7db871,'owner':this[_0xf42a0d(0x635)]['wuid'],'lastcache':{'$gt':_0x4764ec}});if(_0x421a0a)return{'wuid':_0x7db871,'profilePictureUrl':_0x421a0a[_0xf42a0d(0x42a)],'contactName':_0x421a0a[_0xf42a0d(0x5e8)]};}try{_0x1667d4=await this[_0xf42a0d(0x6f0)][_0xf42a0d(0x1f6)](_0x7db871,_0xf42a0d(0x1ea));}catch(_0xb4aaf3){this[_0xf42a0d(0x647)][_0xf42a0d(0x484)]('Erro\x20ao\x20obter\x20a\x20imagem\x20do\x20perfil:\x20'+_0xb4aaf3);}if(_0x7db871[_0xf42a0d(0x440)](_0xf42a0d(0x4dd))){let _0x1f08ee=await this[_0xf42a0d(0x3a8)]({'groupJid':_0x7db871}),_0x420852=_0x1f08ee?_0x1f08ee[_0xf42a0d(0x44e)][_0xf42a0d(0x53c)]:null;_0x50a655=await I['findOneAndUpdate']({'id':_0x7db871,'owner':this[_0xf42a0d(0x635)][_0xf42a0d(0x13e)]},{'$set':{'imagechat':_0x1667d4,'name':_0x420852,'lastcache':Date[_0xf42a0d(0x2f7)]()}},{'new':!0x0});}else{try{let _0x31d5d5=await Fe[_0xf42a0d(0x5e3)]({'id':_0x7db871});_0x41e40f=_0x31d5d5?_0x31d5d5[_0xf42a0d(0x5bd)]:null;}catch(_0x3f0cdf){this[_0xf42a0d(0x647)][_0xf42a0d(0x484)](_0xf42a0d(0x3d7)+_0x3f0cdf);}_0x50a655=await I['findOneAndUpdate']({'id':_0x7db871,'owner':this[_0xf42a0d(0x635)][_0xf42a0d(0x13e)]},{'$set':{'imagechat':_0x1667d4,'name':_0x41e40f,'lastcache':Date[_0xf42a0d(0x2f7)]()}},{'new':!0x0});}return _0x50a655&&H(this[_0xf42a0d(0x6d8)],_0xf42a0d(0x228),{'chat':_0x50a655}),{'wuid':_0x7db871,'profilePictureUrl':_0x1667d4,'contactName':_0x41e40f};}async[a0_0x1fdc58(0x418)](_0x1d8c9a){const _0x428aa0=a0_0x1fdc58;let _0x467c5d=this[_0x428aa0(0x24a)](_0x1d8c9a);try{return{'wuid':_0x467c5d,'status':(await this[_0x428aa0(0x6f0)]['fetchStatus'](_0x467c5d))?.['status']};}catch{return{'wuid':_0x467c5d,'status':null};}}async[a0_0x1fdc58(0x501)](_0x365ec0){const _0x5af85c=a0_0x1fdc58;try{return await this[_0x5af85c(0x6f0)]['updateProfileName'](_0x365ec0),{'update':_0x5af85c(0x43e)};}catch(_0xc0400e){throw new A('Error\x20updating\x20profile\x20name',_0xc0400e[_0x5af85c(0x686)]());}}async[a0_0x1fdc58(0x60a)](_0x24e4c7){const _0x1c6676=a0_0x1fdc58;try{return await this[_0x1c6676(0x6f0)]['updateProfileStatus'](_0x24e4c7),{'update':'success'};}catch(_0x3e48bd){throw new A(_0x1c6676(0x3d1),_0x3e48bd['toString']());}}async[a0_0x1fdc58(0x215)](_0x4e8fb5){const _0x462231=a0_0x1fdc58;try{let _0x9f9c2f;if((0x0,x[_0x462231(0x558)])(_0x4e8fb5)){let _0xf6b143=new Date()[_0x462231(0x49f)](),_0x539bab=_0x4e8fb5+_0x462231(0x17f)+_0xf6b143;_0x9f9c2f=(await le['default']['get'](_0x539bab,{'responseType':'arraybuffer'}))['data'];}else{if((0x0,x[_0x462231(0x210)])(_0x4e8fb5))_0x9f9c2f=Buffer[_0x462231(0x21c)](_0x4e8fb5,_0x462231(0x6b7));else throw new m(_0x462231(0x3f9));}return await this[_0x462231(0x6f0)][_0x462231(0x215)](this[_0x462231(0x635)][_0x462231(0x13e)],_0x9f9c2f),{'update':_0x462231(0x43e)};}catch(_0x5640ca){throw new A(_0x462231(0x487),_0x5640ca['toString']());}}async[a0_0x1fdc58(0x656)](){const _0x37ac61=a0_0x1fdc58;try{return await this[_0x37ac61(0x6f0)]['removeProfilePicture'](this[_0x37ac61(0x635)][_0x37ac61(0x13e)]),{'update':'success'};}catch(_0x56e9f4){throw new A(_0x37ac61(0x212),_0x56e9f4[_0x37ac61(0x686)]());}}async['createGroup'](_0x2616b4){const _0x1b623d=a0_0x1fdc58;try{let _0x4720b3=_0x2616b4[_0x1b623d(0x2cf)][_0x1b623d(0x634)](_0x1eeab5=>this[_0x1b623d(0x24a)](_0x1eeab5)),{id:_0x1e96dc}=await this['client'][_0x1b623d(0x41c)](_0x2616b4[_0x1b623d(0x53c)],_0x4720b3);return _0x2616b4?.[_0x1b623d(0x6f2)]&&await this[_0x1b623d(0x6f0)][_0x1b623d(0x649)](_0x1e96dc,_0x2616b4[_0x1b623d(0x6f2)]),{'metadata':await this[_0x1b623d(0x6f0)]['groupMetadata'](_0x1e96dc)};}catch(_0x1deb9d){throw this['logger']['error'](this[_0x1b623d(0x6d8)]+'\x20('+this['instance']['wuid']+_0x1b623d(0x1e8)+_0x1deb9d),new A('Error\x20creating\x20group',_0x1deb9d[_0x1b623d(0x686)]());}}async[a0_0x1fdc58(0x22a)](_0x48d582){const _0x2eaabb=a0_0x1fdc58;try{let _0x32ce1b;if((0x0,x[_0x2eaabb(0x558)])(_0x48d582[_0x2eaabb(0x1ea)])){let _0x1338fa=new Date()[_0x2eaabb(0x49f)](),_0x2db71d=_0x48d582['image']+_0x2eaabb(0x17f)+_0x1338fa;_0x32ce1b=(await le[_0x2eaabb(0x4ab)][_0x2eaabb(0x496)](_0x2db71d,{'responseType':_0x2eaabb(0x1ff)}))['data'];}else{if((0x0,x[_0x2eaabb(0x210)])(_0x48d582[_0x2eaabb(0x1ea)]))_0x32ce1b=Buffer[_0x2eaabb(0x21c)](_0x48d582[_0x2eaabb(0x1ea)],_0x2eaabb(0x6b7));else throw new m(_0x2eaabb(0x3f9));}return await this[_0x2eaabb(0x6f0)][_0x2eaabb(0x215)](_0x48d582[_0x2eaabb(0x15d)],_0x32ce1b),{'update':_0x2eaabb(0x43e)};}catch(_0xd0c1ca){throw new A(_0x2eaabb(0x5ad),_0xd0c1ca['toString']());}}async['findGroup'](_0x47ea74,_0x241c69=a0_0x1fdc58(0x2da)){const _0x7fd6ec=a0_0x1fdc58;try{let _0x5e335e=await this[_0x7fd6ec(0x6f0)][_0x7fd6ec(0x6e1)](_0x47ea74[_0x7fd6ec(0x15d)]),_0x2add17=null;try{_0x2add17=await this['client']['profilePictureUrl'](_0x47ea74['groupJid'],_0x7fd6ec(0x1ea));}catch(_0x201cd9){this['logger'][_0x7fd6ec(0x691)](this[_0x7fd6ec(0x6d8)]+'\x20('+this[_0x7fd6ec(0x635)][_0x7fd6ec(0x13e)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x47ea74['groupJid']+':\x20'+_0x201cd9[_0x7fd6ec(0x686)]());}return{'metadata':_0x5e335e,'image':_0x2add17};}catch(_0x10a8a9){if(_0x241c69===_0x7fd6ec(0x675))return;throw new L(_0x7fd6ec(0x564),_0x10a8a9[_0x7fd6ec(0x686)]());}}async[a0_0x1fdc58(0x639)](_0x429f14){const _0x326ca6=a0_0x1fdc58;try{return await this['client'][_0x326ca6(0x649)](_0x429f14[_0x326ca6(0x15d)],_0x429f14[_0x326ca6(0x6f2)]),{'update':_0x326ca6(0x43e)};}catch(_0x4225da){throw new A('Error\x20change\x20group\x20description',_0x4225da['toString']());}}async[a0_0x1fdc58(0x667)](_0x328ec3){const _0x5db439=a0_0x1fdc58;try{return await this['client'][_0x5db439(0x166)](_0x328ec3['groupJid'],_0x328ec3[_0x5db439(0x5e8)]),{'update':_0x5db439(0x43e)};}catch(_0x471ed5){throw new A(_0x5db439(0x497),_0x471ed5[_0x5db439(0x686)]());}}async[a0_0x1fdc58(0x640)](_0x55b743){const _0x5bceb0=a0_0x1fdc58;try{return await this[_0x5bceb0(0x6f0)][_0x5bceb0(0x613)](_0x55b743[_0x5bceb0(0x15d)],_0x55b743[_0x5bceb0(0x598)]),{'update':_0x5bceb0(0x43e)};}catch(_0x119be3){throw new A(_0x5bceb0(0x505),_0x119be3[_0x5bceb0(0x686)]());}}async[a0_0x1fdc58(0x242)](){const _0x554109=a0_0x1fdc58;try{let _0x58b288=[],_0xd55ee5=await this[_0x554109(0x6f0)][_0x554109(0x284)](),_0x45f954=Object['values'](_0xd55ee5),_0x175199=_0x45f954[_0x554109(0x430)](_0x55bed9=>(0x0,w['isJidGroup'])(_0x55bed9?.['id']))[_0x554109(0x634)](async _0x6e9440=>{const _0x1a12ec=_0x554109;try{return await this[_0x1a12ec(0x6f0)][_0x1a12ec(0x1f6)](_0x6e9440['id'],_0x1a12ec(0x1ea));}catch(_0x196c50){return this[_0x1a12ec(0x647)]['verbose'](this[_0x1a12ec(0x6d8)]+'\x20('+this['instance']['wuid']+_0x1a12ec(0x3e9)+_0x6e9440['id']+':\x20'+_0x196c50[_0x1a12ec(0x686)]()),null;}}),_0x158086=await Promise[_0x554109(0x13c)](_0x175199);for(let _0x1dc862=0x0;_0x1dc862<_0x45f954[_0x554109(0x6b4)];_0x1dc862++){let _0x5cb551=_0x45f954[_0x1dc862];(0x0,w[_0x554109(0x5e7)])(_0x5cb551?.['id'])&&_0x58b288['push']({'groupJid':_0x5cb551?.['id'],'subject':_0x5cb551?.['subject'],'subjectOwner':_0x5cb551?.[_0x554109(0x4ef)]?.[_0x554109(0x296)]('@')[0x0],'subjectTime':_0x5cb551?.[_0x554109(0x273)],'size':_0x5cb551?.['participants']?.[_0x554109(0x6b4)],'owner':_0x5cb551?.[_0x554109(0x3b7)]?.[_0x554109(0x296)]('@')[0x0],'creation':_0x5cb551?.[_0x554109(0x391)],'desc':_0x5cb551?.[_0x554109(0x27f)],'restrict':_0x5cb551?.[_0x554109(0x595)],'announce':_0x5cb551?.['announce'],'image':_0x158086[_0x1dc862]});}return _0x58b288;}catch(_0x44d691){throw new L('Error\x20fetching\x20group',_0x44d691[_0x554109(0x686)]());}}async[a0_0x1fdc58(0x6cd)](_0x392972){const _0x415622=a0_0x1fdc58;try{let _0x17b0ff=await this[_0x415622(0x6f0)][_0x415622(0x553)](_0x392972[_0x415622(0x15d)]);return{'inviteUrl':'https://chat.whatsapp.com/'+_0x17b0ff,'inviteCode':_0x17b0ff};}catch(_0x474cb6){throw new L(_0x415622(0x2a6),_0x474cb6[_0x415622(0x686)]());}}async[a0_0x1fdc58(0x5fd)](_0x40bad8){const _0x437a9a=a0_0x1fdc58;try{let _0x5d873d=await this['client'][_0x437a9a(0x623)](_0x40bad8[_0x437a9a(0x15d)]);return{'revoked':!0x0,'inviteUrl':_0x437a9a(0x362)+_0x5d873d,'inviteCode':_0x5d873d};}catch(_0x5763ea){throw new L(_0x437a9a(0x5fa),_0x5763ea[_0x437a9a(0x686)]());}}async[a0_0x1fdc58(0x178)](_0x5a6fce){const _0x54e843=a0_0x1fdc58;try{if((0x0,x['isURL'])(_0x5a6fce[_0x54e843(0x6cd)]))var _0x181ab6=_0x5a6fce['inviteCode']['split']('/')[0x3];else var _0x181ab6=_0x5a6fce['inviteCode'];let _0xfd6e8f=await this[_0x54e843(0x6f0)][_0x54e843(0x580)](_0x181ab6);return this[_0x54e843(0x647)][_0x54e843(0x691)](this[_0x54e843(0x6d8)]+'\x20('+this[_0x54e843(0x635)][_0x54e843(0x13e)]+_0x54e843(0x1e8)+_0xfd6e8f),{'join':!0x0,'inviteCode':_0x181ab6,'groupJid':_0xfd6e8f};}catch(_0x135620){throw new L(_0x54e843(0x328),_0x135620[_0x54e843(0x686)]());}}async[a0_0x1fdc58(0x5c1)](_0x295da5){const _0x9a5327=a0_0x1fdc58;try{return{'participants':(await this['client'][_0x9a5327(0x6e1)](_0x295da5[_0x9a5327(0x15d)]))[_0x9a5327(0x2cf)]};}catch(_0x451a3c){throw new L(_0x9a5327(0x510),_0x451a3c[_0x9a5327(0x686)]());}}async[a0_0x1fdc58(0x2aa)](_0x189cd9){const _0x48e4a8=a0_0x1fdc58;try{let _0x4d670d=_0x189cd9[_0x48e4a8(0x2cf)][_0x48e4a8(0x634)](_0x477fe8=>this[_0x48e4a8(0x24a)](_0x477fe8));return{'updateParticipants':await this['client'][_0x48e4a8(0x2d3)](_0x189cd9['groupJid'],_0x4d670d,_0x189cd9[_0x48e4a8(0x148)])};}catch(_0x5a791d){throw new m(_0x48e4a8(0x3ce),_0x5a791d['toString']());}}async['toggleEphemeral'](_0x5e9751){const _0x320332=a0_0x1fdc58;try{let _0x8f9c59=await this['client'][_0x320332(0x419)](_0x5e9751[_0x320332(0x15d)],_0x5e9751[_0x320332(0x5b7)]);return{'success':!0x0};}catch(_0x239b56){throw new m(_0x320332(0x678),_0x239b56[_0x320332(0x686)]());}}async[a0_0x1fdc58(0x141)](_0x599c4f){const _0x57635c=a0_0x1fdc58;try{return await this['client'][_0x57635c(0x526)](_0x599c4f['groupJid']),{'groupJid':_0x599c4f[_0x57635c(0x15d)],'leave':!0x0};}catch(_0x5ac8c8){throw new m('Unable\x20to\x20leave\x20the\x20group',_0x5ac8c8[_0x57635c(0x686)]());}}async[a0_0x1fdc58(0x6ae)](_0xdecb69){const _0x3f97e5=a0_0x1fdc58;return await this[_0x3f97e5(0x329)](_0xdecb69['number'],{'poll':{'name':_0xdecb69[_0x3f97e5(0x6ae)]?.[_0x3f97e5(0x5e8)],'selectableCount':_0xdecb69[_0x3f97e5(0x6ae)]['selectableCount'],'values':_0xdecb69['pollMessage']['values']}},_0xdecb69?.[_0x3f97e5(0x217)]);}async['updateMessage'](_0x55ec49,_0x5f0998,_0x3a2099){const _0x2acd8f=a0_0x1fdc58;if(await this[_0x2acd8f(0x554)](_0x55ec49,!0x0)){let _0x12c3e9={'where':{'key':{'id':_0x55ec49['id'],'remoteJid':_0x5f0998,'fromMe':_0x55ec49[_0x2acd8f(0x47c)]},'owner':this['instance'][_0x2acd8f(0x13e)]}},_0x1e3aba={'status':[_0x3a2099[_0x2acd8f(0x62e)]][0x0]};try{let _0x19ec8f=await this[_0x2acd8f(0x369)][_0x2acd8f(0x219)]['update'](_0x12c3e9,_0x1e3aba);_0x19ec8f&&H(this['instanceName'],_0x2acd8f(0x1cc),{'message':_0x19ec8f});}catch{}}}[a0_0x1fdc58(0x482)](_0x343713){const _0x29a693=a0_0x1fdc58;let _0x12be0b=_0x343713['replace'](/\\n/g,'\x0a')[_0x29a693(0x296)]('\x0a')[_0x29a693(0x430)](_0x49ed30=>_0x49ed30[_0x29a693(0x459)]('TEL')||_0x49ed30[_0x29a693(0x459)](_0x29a693(0x3ee))),_0x3ef8b3='';return _0x12be0b[_0x29a693(0x44b)](_0x313f22=>{const _0x2b8693=_0x29a693;let _0x31a86e=/TEL(?:.*):(.+)/,_0xfc733=/EMAIL(?:.*):(.+)/,_0x19f68b=_0x313f22['match'](_0x31a86e),_0xdcce79=_0x313f22[_0x2b8693(0x625)](_0xfc733);if(_0x19f68b){let _0x45ee73=_0x19f68b[0x1][_0x2b8693(0x5b4)](/-| |\+|\(|\)/g,'')['trim']();_0x3ef8b3+='Telefone:\x20'+_0x45ee73+'\x0a';}else{if(_0xdcce79){let _0x529648=_0xdcce79[0x1][_0x2b8693(0x170)]();_0x3ef8b3+='E-mail:\x20'+_0x529648+'\x0a';}}}),_0x3ef8b3[_0x29a693(0x170)]();}async['updateChatWithMessage'](_0xf5603e,_0xe627ae,_0x425e75){const _0xd52490=a0_0x1fdc58;let _0x2d9109=_0xe627ae['key'][_0xd52490(0x543)],_0x178a37=_0xe627ae[_0xd52490(0x267)][_0xd52490(0x47c)],_0x502313=_0x2d9109[_0xd52490(0x440)](_0xd52490(0x4dd));if(!_0xf5603e[_0xd52490(0x657)])return;let _0x5e796f={'$set':{..._0x178a37?{'unreadcount':0x0,'lastmsg':_0xe627ae[_0xd52490(0x6f9)]||Date['now']()}:{'lastmsg':_0xe627ae['messageTimestamp']||Date[_0xd52490(0x2f7)]()},..._0x178a37||_0x502313?{}:{'name':_0xe627ae[_0xd52490(0x5bd)]}},'$setOnInsert':{'group':_0x502313,'leadInfo.tags':[],'leadInfo.customFields':[],...!_0x178a37&&!_0x502313?{'leadInfo.nome':_0xe627ae[_0xd52490(0x5bd)]}:{}},..._0x178a37?{}:{'$inc':{'unreadcount':0x1}}},_0xab6a6a={'new':!0x0,'upsert':!0x0,'setDefaultsOnInsert':!0x0},_0xea25fe=await I['findOneAndUpdate']({'id':_0x2d9109,'owner':this[_0xd52490(0x635)][_0xd52490(0x13e)]},_0x5e796f,_0xab6a6a);if(_0xea25fe?(!_0x502313&&(!_0xea25fe[_0xd52490(0x1e5)]||!_0xea25fe[_0xd52490(0x1e5)][_0xd52490(0x2a8)])&&_0xe627ae['pushName']&&!_0x178a37&&(_0x5e796f={'$set':{'leadInfo.nome':_0xe627ae['pushName']}},_0xea25fe=await I[_0xd52490(0x1c5)]({'id':_0x2d9109,'owner':this['instance'][_0xd52490(0x13e)]},_0x5e796f,_0xab6a6a)),H(this[_0xd52490(0x6d8)],_0xd52490(0x228),{'chat':_0xea25fe})):this[_0xd52490(0x647)][_0xd52490(0x484)](this[_0xd52490(0x6d8)]+'\x20('+this[_0xd52490(0x635)]['wuid']+_0xd52490(0x669)),!this[_0xd52490(0x693)][_0xd52490(0x6d9)][_0xd52490(0x423)])return this[_0xd52490(0x647)][_0xd52490(0x691)](this[_0xd52490(0x6d8)]+'\x20('+this['instance'][_0xd52490(0x13e)]+'):\x20Flow\x20desativado'),null;if(_0xea25fe['id'][_0xd52490(0x459)](_0xd52490(0x4dd))&&this['AutomateSystem'][_0xd52490(0x6d9)][_0xd52490(0x218)]===!0x0)return this[_0xd52490(0x647)][_0xd52490(0x691)](this[_0xd52490(0x6d8)]+'\x20('+this[_0xd52490(0x635)][_0xd52490(0x13e)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0xea25fe[_0xd52490(0x1e5)]){if(_0xea25fe[_0xd52490(0x1e5)][_0xd52490(0x5aa)]===0x0||_0xea25fe[_0xd52490(0x1e5)][_0xd52490(0x32d)])return this[_0xd52490(0x647)][_0xd52490(0x691)](this[_0xd52490(0x6d8)]+'\x20('+this[_0xd52490(0x635)]['wuid']+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x2d9109+_0xd52490(0x3e8)),null;if(_0xea25fe[_0xd52490(0x1e5)][_0xd52490(0x5aa)]>Date[_0xd52490(0x2f7)]())return this[_0xd52490(0x647)]['verbose'](this[_0xd52490(0x6d8)]+'\x20('+this[_0xd52490(0x635)][_0xd52490(0x13e)]+_0xd52490(0x334)+new Date(_0xea25fe[_0xd52490(0x1e5)][_0xd52490(0x5aa)])[_0xd52490(0x223)]()+_0xd52490(0x3e8)),null;}this[_0xd52490(0x647)][_0xd52490(0x691)](this[_0xd52490(0x6d8)]+'\x20('+this['instance']['wuid']+_0xd52490(0x25e)),this[_0xd52490(0x201)](_0x425e75,_0xe627ae,this[_0xd52490(0x635)][_0xd52490(0x13e)]);}async['checkAndUpdateChats'](){const _0x499612=a0_0x1fdc58;let _0x28c2df=await this[_0x499612(0x369)][_0x499612(0x3b6)][_0x499612(0x192)]({'where':{'owner':this[_0x499612(0x635)][_0x499612(0x13e)]}}),_0x1d28a8=0x0,_0x37ef37=[];for(let _0x33677d of _0x28c2df)_0x37ef37[_0x499612(0x1b4)]({'updateOne':{'filter':{'id':_0x33677d['id'],'owner':this[_0x499612(0x635)]['wuid']},'update':{'$set':{'contactname':_0x33677d[_0x499612(0x5bd)]}}}}),_0x37ef37[_0x499612(0x6b4)]===0x1f4&&(_0x1d28a8+=await this[_0x499612(0x61b)](_0x37ef37),_0x37ef37=[]);_0x37ef37[_0x499612(0x6b4)]>0x0&&(_0x1d28a8+=await this[_0x499612(0x61b)](_0x37ef37)),this[_0x499612(0x647)][_0x499612(0x691)](this[_0x499612(0x6d8)]+'\x20('+this[_0x499612(0x635)][_0x499612(0x13e)]+_0x499612(0x1e8)+_0x1d28a8+_0x499612(0x4ed)+this[_0x499612(0x635)][_0x499612(0x13e)]+_0x499612(0x16c));}async[a0_0x1fdc58(0x61b)](_0x38e586){const _0x1ffc86=a0_0x1fdc58;return(await I[_0x1ffc86(0x569)](_0x38e586))['modifiedCount'];}async[a0_0x1fdc58(0x48c)](_0x361048,_0x2486da){const _0x5f2d3b=a0_0x1fdc58;if(_0x2486da[_0x5f2d3b(0x657)]){let _0x27639a=_0x361048[_0x5f2d3b(0x634)](async _0x3c42d7=>{const _0x535477=_0x5f2d3b;try{let _0x4920ba={'$set':{'id':_0x3c42d7['id'],'owner':_0x3c42d7['owner'],'lastcache':0x0}};if(_0x3c42d7[_0x535477(0x1a2)]!==null&&(_0x4920ba[_0x535477(0x283)]['group']=_0x3c42d7[_0x535477(0x1a2)]),_0x3c42d7['name']!==null&&(_0x4920ba[_0x535477(0x283)]['name']=_0x3c42d7[_0x535477(0x5e8)]),_0x3c42d7[_0x535477(0x478)]!==null&&(_0x4920ba[_0x535477(0x283)]['contactname']=_0x3c42d7[_0x535477(0x478)]),_0x3c42d7[_0x535477(0x42a)]!==null&&(_0x4920ba[_0x535477(0x283)][_0x535477(0x42a)]=_0x3c42d7['imagechat']),_0x3c42d7[_0x535477(0x42a)]===null&&(_0x4920ba[_0x535477(0x283)][_0x535477(0x42a)]=_0x535477(0x27c)),_0x3c42d7[_0x535477(0x156)]!==null&&(_0x4920ba[_0x535477(0x283)][_0x535477(0x156)]=_0x3c42d7[_0x535477(0x156)]),_0x3c42d7[_0x535477(0x425)]!==null&&(_0x4920ba[_0x535477(0x283)][_0x535477(0x425)]=_0x3c42d7[_0x535477(0x425)]),_0x3c42d7[_0x535477(0x57c)]!==null&&(_0x4920ba[_0x535477(0x283)][_0x535477(0x57c)]=_0x3c42d7['unreadcount']),Object[_0x535477(0x1fa)](_0x4920ba[_0x535477(0x283)])[_0x535477(0x6b4)]>0x0)return await I[_0x535477(0x1c5)]({'id':_0x3c42d7['id'],'owner':_0x3c42d7[_0x535477(0x3b7)]},_0x4920ba,{'new':!0x0,'upsert':!0x0});}catch(_0x11c72d){return console['error']('Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x3c42d7['id']+':',_0x11c72d),null;}}),_0x4aa365=(await Promise[_0x5f2d3b(0x13c)](_0x27639a))['filter'](_0x38dcbb=>_0x38dcbb!==null)[_0x5f2d3b(0x6b4)];this['logger'][_0x5f2d3b(0x691)](this[_0x5f2d3b(0x6d8)]+'\x20('+this[_0x5f2d3b(0x635)][_0x5f2d3b(0x13e)]+_0x5f2d3b(0x1e8)+_0x4aa365+_0x5f2d3b(0x4ed)+this[_0x5f2d3b(0x635)][_0x5f2d3b(0x13e)]+_0x5f2d3b(0x542));}}async['readMessageBot'](_0x2768d7){const _0x37441b=a0_0x1fdc58;this[_0x37441b(0x647)][_0x37441b(0x691)](this[_0x37441b(0x6d8)]+'\x20('+this[_0x37441b(0x635)][_0x37441b(0x13e)]+'):\x20Ler\x20mensagem');let _0x3f7c49={'readMessages':[{'remoteJid':_0x2768d7[_0x37441b(0x607)][_0x37441b(0x392)]['key'][_0x37441b(0x543)],'fromMe':_0x2768d7[_0x37441b(0x607)][_0x37441b(0x392)][_0x37441b(0x267)]['fromMe'],'id':_0x2768d7[_0x37441b(0x607)][_0x37441b(0x392)][_0x37441b(0x267)]['id']}]};await this['markMessageAsRead'](_0x3f7c49);}async[a0_0x1fdc58(0x201)](_0x9a1fe1,_0x4b2252,_0x5411a3){const _0x48c51e=a0_0x1fdc58;try{let {key:_0x37b745,message_normalized:_0x2b67e5}=_0x4b2252,_0x5ce577=_0x2b67e5,_0xedfa9=_0x2b67e5[_0x48c51e(0x191)]||_0x2b67e5[_0x48c51e(0x4fc)]||_0x2b67e5[_0x48c51e(0x37d)]||_0x2b67e5[_0x48c51e(0x5e8)],_0x24239b=_0x37b745[_0x48c51e(0x543)],_0x21b78f;if(_0x5ce577[_0x48c51e(0x267)][_0x48c51e(0x47c)]&&_0xedfa9['trim']()!==this[_0x48c51e(0x693)][_0x48c51e(0x6d9)][_0x48c51e(0x3e3)][_0x48c51e(0x170)]())return this[_0x48c51e(0x647)][_0x48c51e(0x691)](this[_0x48c51e(0x6d8)]+'\x20('+this[_0x48c51e(0x635)]['wuid']+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.'),null;if(_0x5ce577[_0x48c51e(0x267)][_0x48c51e(0x47c)]&&_0xedfa9[_0x48c51e(0x170)]()===this[_0x48c51e(0x693)][_0x48c51e(0x6d9)][_0x48c51e(0x3e3)][_0x48c51e(0x170)]()){this[_0x48c51e(0x647)]['verbose'](this[_0x48c51e(0x6d8)]+'\x20('+this[_0x48c51e(0x635)][_0x48c51e(0x13e)]+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo');let _0x5bebc0=await G[_0x48c51e(0x192)]({'owner':_0x5411a3,'remoteJid':_0x24239b,'status':'open'});this[_0x48c51e(0x647)]['verbose'](this[_0x48c51e(0x6d8)]+'\x20('+this[_0x48c51e(0x635)]['wuid']+_0x48c51e(0x699)+_0x5bebc0);let _0x4dd390=Date[_0x48c51e(0x2f7)](),_0xdf73fc;return this['AutomateSystem'][_0x48c51e(0x6d9)][_0x48c51e(0x2cb)]===0x0?_0xdf73fc={'stoppedUntil':_0x4dd390+0x7591f6200}:_0xdf73fc={'stoppedUntil':_0x4dd390+this[_0x48c51e(0x693)][_0x48c51e(0x6d9)][_0x48c51e(0x2cb)]*0x3c*0x3e8},this[_0x48c51e(0x647)][_0x48c51e(0x691)](this['instanceName']+'\x20('+this[_0x48c51e(0x635)][_0x48c51e(0x13e)]+_0x48c51e(0x683)+_0xdf73fc),this['updateStopChat'](_0x21b78f,_0xdf73fc['stoppedUntil']),null;}if(_0xedfa9&&_0xedfa9[_0x48c51e(0x4a1)](this[_0x48c51e(0x693)][_0x48c51e(0x6d9)][_0x48c51e(0x5b3)])&&_0xedfa9[_0x48c51e(0x6b4)]>0x4){let _0x2b9fb7=await D['findOne']({'owner':_0x5411a3,'startCommandWord':_0xedfa9});if(this['logger'][_0x48c51e(0x691)](this['instanceName']+'\x20('+this['instance'][_0x48c51e(0x13e)]+_0x48c51e(0x659)),_0x2b9fb7)_0x21b78f=await this[_0x48c51e(0x358)](_0x2b9fb7,_0x5ce577[_0x48c51e(0x267)],_0x5ce577);else return this[_0x48c51e(0x647)][_0x48c51e(0x691)](this['instanceName']+'\x20('+this['instance'][_0x48c51e(0x13e)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand'),null;}else _0x21b78f=await this['findConversation'](_0x5411a3,_0x24239b,_0x5ce577);if(_0x21b78f){this[_0x48c51e(0x647)][_0x48c51e(0x691)](this[_0x48c51e(0x6d8)]+'\x20('+this[_0x48c51e(0x635)][_0x48c51e(0x13e)]+_0x48c51e(0x444)),!_0x37b745[_0x48c51e(0x47c)]&&_0x21b78f[_0x48c51e(0x255)]&&this[_0x48c51e(0x47f)](_0x21b78f);let _0x567b30=await this[_0x48c51e(0x186)](_0x21b78f);_0x567b30&&await this[_0x48c51e(0x30f)](_0x21b78f,_0x567b30,_0x21b78f['remoteJid']);}}catch(_0x2cbc13){this[_0x48c51e(0x647)]['error'](this[_0x48c51e(0x6d8)]+'\x20('+this['instance']['wuid']+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+_0x2cbc13);}}[a0_0x1fdc58(0x6da)](_0x1ff7fd,_0x3c2288='',_0x49db08={},_0x3a9d57=!0x0){const _0x36a63b=a0_0x1fdc58;for(let _0x4af5e8 in _0x1ff7fd){let _0xdd0b54=_0x3a9d57?'_'+_0x4af5e8:''+_0x3c2288+_0x4af5e8;typeof _0x1ff7fd[_0x4af5e8]==_0x36a63b(0x4fa)&&_0x1ff7fd[_0x4af5e8]!==null?this[_0x36a63b(0x6da)](_0x1ff7fd[_0x4af5e8],_0xdd0b54+'.',_0x49db08,!0x1):_0x49db08[_0xdd0b54]=_0x1ff7fd[_0x4af5e8];}return _0x49db08;}['variablesToObject'](_0x16a7d8){const _0x4ded53=a0_0x1fdc58;let _0x3064a1={};for(let _0x1aa552 of _0x16a7d8)typeof _0x1aa552['name']==_0x4ded53(0x25c)&&typeof _0x1aa552[_0x4ded53(0x568)]=='string'&&(_0x3064a1[_0x1aa552[_0x4ded53(0x5e8)]]=_0x1aa552[_0x4ded53(0x568)]);return _0x3064a1;}async[a0_0x1fdc58(0x186)](_0x5395c8){const _0x4f969f=a0_0x1fdc58;if(!this[_0x4f969f(0x693)][_0x4f969f(0x6d9)]['enabled']||_0x5395c8['status']!=='open'&&_0x5395c8['waitingPoll_id']==='')return null;let _0x5611ef=_0x5395c8[_0x4f969f(0x607)][_0x4f969f(0x579)]||_0x4f969f(0x2e8);typeof _0x5395c8['chatLog'][_0x4f969f(0x5fc)]>'u'&&(_0x5395c8[_0x4f969f(0x607)][_0x4f969f(0x5fc)]=!0x0);let _0x367197=_0x5395c8[_0x4f969f(0x607)]['lastCondition'];this[_0x4f969f(0x647)][_0x4f969f(0x691)](this[_0x4f969f(0x6d8)]+'\x20('+this['instance'][_0x4f969f(0x13e)]+_0x4f969f(0x205)+_0x5611ef+_0x4f969f(0x15f)+_0x367197);let _0x3525a7=_0x5611ef==='start'?_0x5395c8['blocks']['find'](_0x1f1027=>_0x1f1027[_0x4f969f(0x294)]===_0x4f969f(0x2e8)):_0x5395c8['blocks'][_0x4f969f(0x192)](_0x1f3abd=>_0x1f3abd[_0x4f969f(0x46e)][_0x4f969f(0x686)]()===_0x5611ef[_0x4f969f(0x686)]());if(!_0x3525a7)return this['logger'][_0x4f969f(0x484)](this[_0x4f969f(0x6d8)]+'\x20('+this[_0x4f969f(0x635)]['wuid']+_0x4f969f(0x27e)+_0x5611ef),null;let _0x2fdc97={'_pushName':_0x5395c8[_0x4f969f(0x607)][_0x4f969f(0x392)]['pushName'],..._0x5395c8[_0x4f969f(0x607)][_0x4f969f(0x5b0)]},_0x23ae80=null;if(_0x5395c8[_0x4f969f(0x47a)]){let _0x2d7721=_0x5395c8[_0x4f969f(0x607)]['lastReceivedMessage'][_0x4f969f(0x37d)],_0x4e90d0=_0x5395c8[_0x4f969f(0x357)]['find'](_0x571c46=>_0x571c46['option']===_0x2d7721);if(_0x4e90d0){let _0x13b95d=_0x4e90d0[_0x4f969f(0x5b8)];if(_0x23ae80=_0x5395c8[_0x4f969f(0x52b)][_0x4f969f(0x192)](_0x32c38e=>_0x32c38e[_0x4f969f(0x373)]===_0x13b95d&&_0x32c38e['order']===0x1),_0x3525a7[_0x4f969f(0x494)][_0x4f969f(0x6ba)]){let _0x453a95={'id':_0x5395c8[_0x4f969f(0x47a)],'remoteJid':_0x5395c8[_0x4f969f(0x543)],'fromMe':!0x0};await this[_0x4f969f(0x161)](_0x453a95);}if(_0x3525a7[_0x4f969f(0x494)][_0x4f969f(0x6ba)]&&_0x3525a7[_0x4f969f(0x494)][_0x4f969f(0x3f8)]){let _0x488204={'number':_0x5395c8[_0x4f969f(0x543)],'options':{'delay':0x0},'textMessage':{'text':_0x4f969f(0x28e)+_0x5395c8[_0x4f969f(0x324)]+'\x0a*Você\x20respondeu*:\x0a'+_0x2d7721}};await this['textMessage'](_0x488204);}_0x5395c8[_0x4f969f(0x62e)]=_0x4f969f(0x384),_0x5395c8[_0x4f969f(0x47a)]='',_0x5395c8[_0x4f969f(0x324)]='',_0x5395c8['waitingPoll_replyOptions']=[];}else{this[_0x4f969f(0x647)][_0x4f969f(0x691)](this[_0x4f969f(0x6d8)]+'\x20('+this['instance'][_0x4f969f(0x13e)]+_0x4f969f(0x160));let _0xa8d826={'activatedCount':_0x5395c8[_0x4f969f(0x607)][_0x4f969f(0x56e)][_0x4f969f(0x430)](_0x48886e=>String(_0x48886e[_0x4f969f(0x638)])===String(_0x5611ef))[_0x4f969f(0x6b4)],'moreLogs':[_0x4f969f(0x529)]};if(_0x3525a7[_0x4f969f(0x494)]['pollErrorMessage']){let _0x36e2f3={'number':_0x5395c8['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x3525a7[_0x4f969f(0x494)][_0x4f969f(0x3dd)]}};await this[_0x4f969f(0x680)](_0x36e2f3);}if(_0x3525a7['maxActives']!==void 0x0&&_0xa8d826[_0x4f969f(0x3c1)]>=_0x3525a7[_0x4f969f(0x69a)]){let _0x2ee52d=Date[_0x4f969f(0x2f7)](),_0x443468=_0x3525a7[_0x4f969f(0x445)]??0xa;isNaN(_0x443468)&&(_0x443468=0xa);let _0x49804a=_0x2ee52d+_0x443468*0x3c*0x3e8;_0xa8d826[_0x4f969f(0x32e)]=_0x49804a,_0xa8d826['moreLogs']['push']('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this[_0x4f969f(0x1c7)](_0x5395c8,_0x49804a),_0x5395c8[_0x4f969f(0x47a)]='',_0x5395c8[_0x4f969f(0x324)]='',_0x5395c8[_0x4f969f(0x357)]=[];}return this['updateConversation'](_0x5395c8,_0x3525a7,_0xa8d826,!0x0),null;}}if(_0x367197&&_0x3525a7[_0x4f969f(0x5b8)]&&!_0x5395c8['waitingPoll_id']){let _0x20da85=_0x5395c8[_0x4f969f(0x52b)][_0x4f969f(0x430)](_0x4c6d05=>_0x4c6d05[_0x4f969f(0x373)][_0x4f969f(0x686)]()===_0x3525a7[_0x4f969f(0x5b8)][_0x4f969f(0x686)]())[_0x4f969f(0x343)]((_0x56e9f0,_0x20e858)=>_0x56e9f0[_0x4f969f(0x2f6)]-_0x20e858['order']);_0x20da85[_0x4f969f(0x6b4)]>0x0&&(_0x23ae80=_0x20da85[0x0]);}if(!_0x23ae80){let _0x14d0c6=_0x3525a7[_0x4f969f(0x373)],_0x191f8b=_0x5395c8[_0x4f969f(0x52b)]['filter'](_0x2a2918=>_0x2a2918[_0x4f969f(0x373)]===_0x14d0c6&&_0x2a2918[_0x4f969f(0x2f6)]>_0x3525a7[_0x4f969f(0x2f6)])[_0x4f969f(0x343)]((_0x51c8d0,_0x1fbc7c)=>_0x51c8d0[_0x4f969f(0x2f6)]-_0x1fbc7c[_0x4f969f(0x2f6)]);_0x191f8b[_0x4f969f(0x6b4)]>0x0&&(_0x23ae80=_0x191f8b[0x0]);}if(!_0x23ae80)return _0x5395c8[_0x4f969f(0x62e)]=_0x4f969f(0x229),null;_0x5395c8[_0x4f969f(0x607)][_0x4f969f(0x5b0)]=_0x2fdc97;let _0x1db99a=JSON[_0x4f969f(0x59c)](JSON[_0x4f969f(0x1b7)](_0x23ae80));return this[_0x4f969f(0x401)](_0x1db99a,_0x5395c8[_0x4f969f(0x607)][_0x4f969f(0x5b0)]),_0x5395c8[_0x4f969f(0x607)][_0x4f969f(0x579)]=_0x1db99a[_0x4f969f(0x46e)],_0x5395c8[_0x4f969f(0x607)][_0x4f969f(0x5fc)]=!0x0,_0x1db99a;}[a0_0x1fdc58(0x4c0)](_0x2927fb,_0x526cde){const _0x560704=a0_0x1fdc58;return _0x2927fb[_0x560704(0x5b4)](/\{\{([^}]+)\}\}/g,(_0xa67d7f,_0x13d4d9)=>_0x526cde[_0x13d4d9]||'');}[a0_0x1fdc58(0x401)](_0x7b79e3,_0x3551f9){const _0xae6834=a0_0x1fdc58;for(let _0x285e74 in _0x7b79e3)typeof _0x7b79e3[_0x285e74]==_0xae6834(0x25c)?_0x7b79e3[_0x285e74]=this[_0xae6834(0x4c0)](_0x7b79e3[_0x285e74],_0x3551f9):typeof _0x7b79e3[_0x285e74]==_0xae6834(0x4fa)&&this[_0xae6834(0x401)](_0x7b79e3[_0x285e74],_0x3551f9);}async[a0_0x1fdc58(0x6f5)](_0x4b28f0,_0x1c016c){const _0x28adf0=a0_0x1fdc58;let _0x2caa0e=_0x1c016c[_0x28adf0(0x46e)];if(_0x4b28f0['chatLog']&&_0x4b28f0[_0x28adf0(0x607)][_0x28adf0(0x56e)]){let _0x25b31d=_0x4b28f0[_0x28adf0(0x607)][_0x28adf0(0x56e)]['filter'](_0x2d84f4=>String(_0x2d84f4['blockId'])===String(_0x2caa0e))['pop']();if(_0x25b31d&&_0x25b31d[_0x28adf0(0x484)]&&_0x1c016c[_0x28adf0(0x29b)])return _0x4b28f0[_0x28adf0(0x62e)]='closed',await this[_0x28adf0(0x2eb)](_0x4b28f0),null;}if(_0x1c016c['type']==='uazapi'&&_0x1c016c[_0x28adf0(0x494)][_0x28adf0(0x50b)]===_0x28adf0(0x477)&&_0x4b28f0[_0x28adf0(0x47a)])return _0x4b28f0[_0x28adf0(0x607)][_0x28adf0(0x579)]=_0x2caa0e,await this[_0x28adf0(0x2eb)](_0x4b28f0),null;let _0x36f8c6=await this[_0x28adf0(0x186)](_0x4b28f0);if(_0x4b28f0[_0x28adf0(0x607)]&&_0x4b28f0[_0x28adf0(0x607)][_0x28adf0(0x56e)]){let _0x358533=_0x4b28f0['chatLog'][_0x28adf0(0x56e)][_0x28adf0(0x430)](_0x1aa980=>String(_0x1aa980[_0x28adf0(0x638)])===String(_0x2caa0e))[_0x28adf0(0x6b4)];if(_0x1c016c[_0x28adf0(0x69a)]!==void 0x0&&_0x358533>=_0x1c016c['maxActives']){let _0x5af55e=Date[_0x28adf0(0x2f7)](),_0x46d7e2=_0x1c016c[_0x28adf0(0x445)]??0xa;isNaN(_0x46d7e2)&&(_0x46d7e2=0xa);let _0x5c295c=_0x5af55e+_0x46d7e2*0x3c*0x3e8,_0x54eb39={'newStoppedUntil':_0x5c295c};return this['updateStopChat'](_0x4b28f0,_0x5c295c),this[_0x28adf0(0x490)](_0x4b28f0,_0x1c016c,_0x54eb39,!0x0),null;}}_0x36f8c6&&_0x36f8c6['type']!==_0x28adf0(0x5b1)&&await this[_0x28adf0(0x30f)](_0x4b28f0,_0x36f8c6,_0x4b28f0[_0x28adf0(0x543)]),_0x36f8c6||await this[_0x28adf0(0x2eb)](_0x4b28f0),_0x36f8c6&&_0x36f8c6[_0x28adf0(0x294)]===_0x28adf0(0x5b1)&&(_0x4b28f0[_0x28adf0(0x607)][_0x28adf0(0x579)]=_0x2caa0e,await this[_0x28adf0(0x2eb)](_0x4b28f0));}async[a0_0x1fdc58(0x30f)](_0x5d9033,_0x3b074a,_0x4cc16d){const _0x5b2ea7=a0_0x1fdc58;try{let _0x4bc55e=_0x3b074a[_0x5b2ea7(0x294)];this[_0x5b2ea7(0x647)][_0x5b2ea7(0x691)](this[_0x5b2ea7(0x6d8)]+'\x20('+this[_0x5b2ea7(0x635)]['wuid']+_0x5b2ea7(0x287)+_0x4bc55e);let _0x1fbf11={'uazapi':()=>this[_0x5b2ea7(0x408)](_0x5d9033,_0x3b074a,_0x4cc16d),'save':()=>this[_0x5b2ea7(0x4ff)](_0x5d9033,_0x3b074a),'stop':()=>this[_0x5b2ea7(0x3e3)](_0x5d9033,_0x3b074a),'condition':()=>this[_0x5b2ea7(0x3a9)](_0x5d9033,_0x3b074a),'varedit':()=>this['processvaredits'](_0x5d9033,_0x3b074a),'apirequest':()=>this[_0x5b2ea7(0x3b0)](_0x5d9033,_0x3b074a),'goToFlow':()=>this[_0x5b2ea7(0x43d)](_0x5d9033,_0x3b074a)}[_0x4bc55e];_0x1fbf11&&await _0x1fbf11();}catch(_0x456b2f){this[_0x5b2ea7(0x647)][_0x5b2ea7(0x484)](this[_0x5b2ea7(0x6d8)]+'\x20('+this[_0x5b2ea7(0x635)]['wuid']+_0x5b2ea7(0x62b)+_0x456b2f);}}async[a0_0x1fdc58(0x43d)](_0x35207f,_0x5c04d4){const _0x3e724e=a0_0x1fdc58;if(this[_0x3e724e(0x647)][_0x3e724e(0x691)](this[_0x3e724e(0x6d8)]+'\x20('+this[_0x3e724e(0x635)]['wuid']+_0x3e724e(0x6df)),!_0x35207f||!_0x5c04d4)return this[_0x3e724e(0x647)]['error'](this[_0x3e724e(0x6d8)]+'\x20('+this[_0x3e724e(0x635)][_0x3e724e(0x13e)]+_0x3e724e(0x21a)),null;await this[_0x3e724e(0x490)](_0x35207f,_0x5c04d4,{},!0x0,!0x0),console[_0x3e724e(0x37c)](_0x3e724e(0x238)),console['log'](_0x5c04d4);let _0x384f6f=_0x5c04d4[_0x3e724e(0x434)];console['log']('flowname:\x20',_0x384f6f),_0x35207f=await this['createConversationforgoToFlow'](_0x384f6f,_0x35207f[_0x3e724e(0x543)],_0x35207f[_0x3e724e(0x607)][_0x3e724e(0x5b0)]),this[_0x3e724e(0x647)][_0x3e724e(0x691)](this[_0x3e724e(0x6d8)]+'\x20('+this[_0x3e724e(0x635)][_0x3e724e(0x13e)]+'):\x20Criada\x20conversa\x20nova\x20(gotoflow)');let _0xe6b270=await this[_0x3e724e(0x186)](_0x35207f);_0xe6b270&&await this[_0x3e724e(0x30f)](_0x35207f,_0xe6b270,_0x35207f[_0x3e724e(0x543)]);}async[a0_0x1fdc58(0x293)](_0x92fa8,_0x2845b7,_0x5d713f){const _0x34b176=a0_0x1fdc58;this[_0x34b176(0x647)][_0x34b176(0x691)](this[_0x34b176(0x6d8)]+'\x20('+this['instance'][_0x34b176(0x13e)]+_0x34b176(0x150));try{if(_0x92fa8=await D[_0x34b176(0x5e3)]({'owner':this[_0x34b176(0x635)][_0x34b176(0x13e)],'name':_0x92fa8}),!_0x92fa8)return this[_0x34b176(0x647)][_0x34b176(0x484)](this['instanceName']+'\x20('+this[_0x34b176(0x635)][_0x34b176(0x13e)]+_0x34b176(0x225)),null;let _0x5ce30e=require(_0x34b176(0x48a))[_0x34b176(0x14f)],_0x5f2053=Date['now'](),_0x4772e0=_0x34b176(0x2e8),_0x196aa7={},_0x4c759a={},_0x1f40e1={..._0x92fa8['_doc'],'chatLog':null},_0x109bf3={'lastReceivedMessage':_0x196aa7,'lastSendMessage':_0x4c759a,'lastBlockId':_0x4772e0,'lastCondition':!0x0,'realVariables':_0x5d713f};_0x1f40e1[_0x34b176(0x607)]=_0x109bf3,_0x1f40e1[_0x34b176(0x607)][_0x34b176(0x5b0)]={..._0x5d713f},delete _0x1f40e1[_0x34b176(0x46e)],_0x1f40e1[_0x34b176(0x46e)]=new _0x5ce30e(),_0x1f40e1[_0x34b176(0x356)]=_0x5f2053,_0x1f40e1[_0x34b176(0x62e)]='open',_0x1f40e1[_0x34b176(0x543)]=_0x2845b7;let _0x344bfe=await G[_0x34b176(0x3ab)](_0x1f40e1);return this['logger']['verbose'](this[_0x34b176(0x6d8)]+'\x20('+this[_0x34b176(0x635)][_0x34b176(0x13e)]+_0x34b176(0x57d)),_0x344bfe?_0x1f40e1:null;}catch(_0x1da36b){throw this[_0x34b176(0x647)][_0x34b176(0x484)](this[_0x34b176(0x6d8)]+'\x20('+this[_0x34b176(0x635)]['wuid']+_0x34b176(0x386)+_0x1da36b),new m(_0x1da36b['message']);}}async[a0_0x1fdc58(0x3b0)](_0x1dca8d,_0x3b493f){const _0x13d809=a0_0x1fdc58;let _0x3ad292,_0x2ebb85;try{let _0x33ee9c=_0x3b493f[_0x13d809(0x548)];if(!_0x33ee9c||!_0x33ee9c[_0x13d809(0x47b)]||!_0x33ee9c[_0x13d809(0x3e7)])throw new Error('Falta\x20informação\x20para\x20a\x20chamada\x20API');let _0x54d656={'method':_0x33ee9c['method'],'url':_0x33ee9c[_0x13d809(0x47b)],'headers':_0x33ee9c[_0x13d809(0x436)]||{},'data':_0x33ee9c[_0x13d809(0x403)]||{}};_0x3ad292=(await(0x0,le[_0x13d809(0x4ab)])(_0x54d656))['data'];let _0x43c82e=_0x1dca8d[_0x13d809(0x607)][_0x13d809(0x5b0)],_0x22bc18=this['flattenObject'](_0x3ad292);return Object[_0x13d809(0x236)](_0x43c82e,_0x22bc18),_0x1dca8d['chatLog'][_0x13d809(0x5b0)]=_0x43c82e,_0x2ebb85={'error':!0x1,'apiResponse':_0x3ad292},this[_0x13d809(0x490)](_0x1dca8d,_0x3b493f,_0x2ebb85),_0x3ad292;}catch(_0x1c5e79){console[_0x13d809(0x484)](_0x13d809(0x250),_0x1c5e79),_0x1c5e79[_0x13d809(0x303)]&&(_0x3ad292=_0x1c5e79['response'][_0x13d809(0x461)]);let _0x3fd302=_0x1dca8d[_0x13d809(0x607)][_0x13d809(0x5b0)],_0x72ee73=this[_0x13d809(0x6da)](_0x3ad292);return Object[_0x13d809(0x236)](_0x3fd302,_0x72ee73),_0x1dca8d[_0x13d809(0x607)]['realVariables']=_0x3fd302,_0x2ebb85={'error':!0x0,'errorLog':_0x1c5e79['toString'](),'apiResponse':_0x3ad292},this[_0x13d809(0x490)](_0x1dca8d,_0x3b493f,_0x2ebb85),{'success':!0x1};}}[a0_0x1fdc58(0x514)](_0x3cc5b6,_0x1df346){const _0x4db9a4=a0_0x1fdc58;let _0xeb493=_0x4387e7=>{const _0x54d03d=a0_0x56bb;let _0x444c7b=_0x4387e7[_0x54d03d(0x5b4)](/[^0-9.,-]/g,'')[_0x54d03d(0x5b4)](',','.'),_0x30f165=parseFloat(_0x444c7b);return isNaN(_0x30f165)?null:_0x30f165;},_0x2d04a4=_0x1df346[_0x4db9a4(0x2e3)],_0x22fcc8=_0x1df346[_0x4db9a4(0x51f)];typeof _0x2d04a4==_0x4db9a4(0x25c)&&(_0x2d04a4=this[_0x4db9a4(0x4c0)](_0x2d04a4,_0x3cc5b6[_0x4db9a4(0x607)][_0x4db9a4(0x5b0)])??''),typeof _0x22fcc8==_0x4db9a4(0x25c)&&(_0x22fcc8=this[_0x4db9a4(0x4c0)](_0x22fcc8,_0x3cc5b6[_0x4db9a4(0x607)]['realVariables'])??'');let _0x1de220=null;if(!_0x2d04a4||!_0x1df346[_0x4db9a4(0x3c4)])return null;switch(this[_0x4db9a4(0x647)][_0x4db9a4(0x691)](this[_0x4db9a4(0x6d8)]+'\x20('+this[_0x4db9a4(0x635)][_0x4db9a4(0x13e)]+_0x4db9a4(0x6ca)+_0x2d04a4),this[_0x4db9a4(0x647)]['verbose'](this[_0x4db9a4(0x6d8)]+'\x20('+this[_0x4db9a4(0x635)][_0x4db9a4(0x13e)]+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x22fcc8),_0x1df346[_0x4db9a4(0x3c4)]){case'+':case'-':case'*':case'/':let _0x2bc69d=_0xeb493(_0x2d04a4),_0xce0184=_0xeb493(_0x22fcc8||'0');if(_0x2bc69d===null)return null;switch(_0x1df346[_0x4db9a4(0x3c4)]){case'+':_0x1de220=_0x2bc69d+(_0xce0184??0x0);break;case'-':_0x1de220=_0x2bc69d-(_0xce0184??0x0);break;case'*':_0x1de220=_0x2bc69d*(_0xce0184??0x1);break;case'/':_0xce0184!==0x0&&(_0x1de220=_0x2bc69d/(_0xce0184??0x1));break;}break;case _0x4db9a4(0x1f0):case _0x4db9a4(0x61e):let _0x3bb978=_0x22fcc8,_0x5aeb73=_0x1df346[_0x4db9a4(0x524)];if(typeof _0x5aeb73==_0x4db9a4(0x25c)&&(_0x5aeb73=this[_0x4db9a4(0x4c0)](_0x5aeb73,_0x3cc5b6['chatLog'][_0x4db9a4(0x5b0)])??''),_0x3bb978&&_0x5aeb73!==void 0x0){let _0x1e1b1b=_0x1df346[_0x4db9a4(0x3c4)]==='findAndReplace'?new RegExp(_0x3bb978[_0x4db9a4(0x5b4)](/[-\/\\^$*+?.()|[\]{}]/g,_0x4db9a4(0x6f4)),'g'):new RegExp(_0x3bb978,'g');_0x1de220=_0x2d04a4[_0x4db9a4(0x5b4)](_0x1e1b1b,_0x5aeb73);}else console[_0x4db9a4(0x46f)](_0x4db9a4(0x573));break;case _0x4db9a4(0x361):_0x1de220=_0x22fcc8;break;case _0x4db9a4(0x341):let _0x4e756e=_0x2d04a4[_0x4db9a4(0x625)](new RegExp(_0x22fcc8||''));_0x1de220=_0x4e756e?_0x4e756e[0x0]:'';break;case _0x4db9a4(0x2ba):_0x1de220=_0x2d04a4[_0x4db9a4(0x1b3)](0x0,parseInt(_0x22fcc8||'0'));break;case _0x4db9a4(0x18d):let _0x3bb0e2=parseInt(_0x22fcc8||'0');_0x1de220=_0x2d04a4['slice'](_0x2d04a4[_0x4db9a4(0x6b4)]-_0x3bb0e2);break;case _0x4db9a4(0x36f):let _0x5ebafd=_0xeb493(_0x2d04a4),_0x3f6421=parseInt(_0x22fcc8||'0');_0x3f6421=Math[_0x4db9a4(0x66d)](_0x3f6421),_0x5ebafd!==null?_0x1de220=_0x5ebafd['toLocaleString'](_0x4db9a4(0x5ec),{'minimumFractionDigits':_0x3f6421,'maximumFractionDigits':_0x3f6421}):(console[_0x4db9a4(0x46f)]('Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20'+_0x2d04a4),_0x1de220=null);break;case _0x4db9a4(0x394):let _0xc8e973=_0xeb493(_0x2d04a4);_0xc8e973!==null?_0x1de220=_0xc8e973['toLocaleString'](_0x4db9a4(0x5ec),{'style':_0x4db9a4(0x4a8),'currency':_0x4db9a4(0x3c3)}):(console[_0x4db9a4(0x46f)](_0x4db9a4(0x23d)+_0x2d04a4),_0x1de220=null);break;case'upperCase':_0x1de220=_0x2d04a4[_0x4db9a4(0x620)]();break;case _0x4db9a4(0x512):_0x1de220=_0x2d04a4[_0x4db9a4(0x254)]();break;case _0x4db9a4(0x31b):_0x1de220=_0x2d04a4[_0x4db9a4(0x296)]('\x20')['map'](_0x89fe30=>_0x89fe30['charAt'](0x0)[_0x4db9a4(0x620)]()+_0x89fe30[_0x4db9a4(0x1b3)](0x1)[_0x4db9a4(0x254)]())['join']('\x20');break;case _0x4db9a4(0x4b5):_0x1de220=_0x2d04a4[_0x4db9a4(0x170)]();break;default:_0x1de220=_0x2d04a4;}return _0x1de220!==null?_0x1de220[_0x4db9a4(0x686)]():null;}async['processvaredits'](_0x3cd443,_0x5db4e9){const _0x270280=a0_0x1fdc58;try{let _0x3b81df=_0x3cd443[_0x270280(0x5e2)]?.['filter'](_0x1fb8cf=>_0x1fb8cf[_0x270280(0x638)]===_0x5db4e9[_0x270280(0x46e)]?.[_0x270280(0x686)]())||[],_0x131a0b=_0x5db4e9[_0x270280(0x2e0)],_0x256b1f=null,_0x120370=[],_0x5ced60=_0x3cd443['chatLog'][_0x270280(0x5b0)][_0x131a0b];_0x120370[_0x270280(0x1b4)](_0x270280(0x6bd)+_0x5ced60+'\x22');for(let _0x2a17bd of _0x3b81df){_0x2a17bd[_0x270280(0x2e3)]=_0x5ced60,_0x256b1f=_0x2a17bd[_0x270280(0x2e3)];let _0x567d3d;try{_0x567d3d=this[_0x270280(0x514)](_0x3cd443,_0x2a17bd);}catch(_0x199e8d){console[_0x270280(0x484)](_0x270280(0x4e3)+_0x199e8d[_0x270280(0x219)]);continue;}if(_0x567d3d!==null){let _0x1808fa=_0x270280(0x2d5)+_0x2a17bd[_0x270280(0x3c4)]+'\x22',_0x5ac5c6=[_0x270280(0x394),'upperCase',_0x270280(0x512),_0x270280(0x31b),_0x270280(0x4b5)];_0x2a17bd[_0x270280(0x3c4)]==='findAndReplace'||_0x2a17bd['editOperator']===_0x270280(0x61e)?_0x1808fa+=_0x270280(0x5d6)+_0x2a17bd[_0x270280(0x51f)]+_0x270280(0x642)+_0x2a17bd[_0x270280(0x524)]+'\x22':!_0x5ac5c6[_0x270280(0x459)](_0x2a17bd['editOperator'])&&_0x2a17bd[_0x270280(0x51f)]!==null&&_0x2a17bd[_0x270280(0x51f)]!==void 0x0&&(_0x1808fa+=_0x270280(0x3a3)+_0x2a17bd[_0x270280(0x51f)]+'\x22'),_0x1808fa+=_0x270280(0x6b0)+_0x567d3d+'.',_0x120370[_0x270280(0x1b4)](_0x1808fa);}_0x567d3d!==null&&(_0x5ced60=_0x567d3d);}if(_0x3cd443[_0x270280(0x607)]['realVariables']&&_0x5db4e9[_0x270280(0x2e0)]){_0x3cd443[_0x270280(0x607)][_0x270280(0x5b0)][_0x5db4e9[_0x270280(0x2e0)]]=_0x5ced60;let _0x3bc760={'variable':_0x5db4e9[_0x270280(0x2e0)],'oldValue':_0x256b1f,'newValue':_0x5ced60,'moreLogs':_0x120370};try{this[_0x270280(0x490)](_0x3cd443,_0x5db4e9,_0x3bc760);}catch(_0x2c9267){console['error'](_0x270280(0x615)+_0x2c9267[_0x270280(0x219)]);}}return _0x131a0b;}catch(_0x5c10d0){return console[_0x270280(0x484)](_0x270280(0x51c)+_0x5c10d0[_0x270280(0x219)]),null;}}async[a0_0x1fdc58(0x3a9)](_0xaffd32,_0x4009f7){const _0x1a0497=a0_0x1fdc58;try{let _0x44fb73=[],_0x806d8=_0xaffd32['conditions'][_0x1a0497(0x430)](_0x5984de=>_0x5984de[_0x1a0497(0x638)]===_0x4009f7[_0x1a0497(0x46e)][_0x1a0497(0x686)]()),_0x3ff643=null,_0x5f82b3=!0x1;for(let _0x19a665 of _0x806d8){let _0xc78086=this[_0x1a0497(0x665)](_0xaffd32,_0x19a665);_0x44fb73['push'](_0x1a0497(0x247)+_0x19a665[_0x1a0497(0x2e3)]+',\x20Comparador:\x20'+_0x19a665[_0x1a0497(0x385)]+_0x1a0497(0x443)+_0x19a665['secondValue']+',\x20Resultado:\x20'+_0xc78086),_0x3ff643===null?_0x3ff643=_0xc78086:_0x19a665['OrAnd']==='and'?(_0x3ff643=_0x3ff643&&_0xc78086,_0xc78086||(_0x5f82b3=!0x0)):_0x19a665[_0x1a0497(0x314)]==='or'&&(_0x5f82b3||(_0x3ff643=_0x3ff643||_0xc78086));}_0x3ff643===null&&(_0x3ff643=!0x0);let _0x43f8ef={'moreLogs':_0x44fb73};_0x3ff643?(_0xaffd32[_0x1a0497(0x607)][_0x1a0497(0x5fc)]=!0x0,this[_0x1a0497(0x490)](_0xaffd32,_0x4009f7,_0x43f8ef)):(_0xaffd32[_0x1a0497(0x607)][_0x1a0497(0x5fc)]=!0x1,this[_0x1a0497(0x490)](_0xaffd32,_0x4009f7,_0x43f8ef));}catch(_0x1e8ac0){this['logger'][_0x1a0497(0x484)](this['instanceName']+'\x20('+this[_0x1a0497(0x635)][_0x1a0497(0x13e)]+_0x1a0497(0x251)+_0x1e8ac0);}}['evaluateCondition'](_0x185141,_0x543e63){const _0x2730bd=a0_0x1fdc58;let _0x3f9bd6=_0x543e63[_0x2730bd(0x2e3)],_0x285bb4=_0x543e63['secondValue'];typeof _0x3f9bd6==_0x2730bd(0x25c)&&(_0x3f9bd6=this[_0x2730bd(0x4c0)](_0x3f9bd6,_0x185141[_0x2730bd(0x607)][_0x2730bd(0x5b0)])??''),typeof _0x285bb4==_0x2730bd(0x25c)&&(_0x285bb4=this['replaceVariables'](_0x285bb4,_0x185141[_0x2730bd(0x607)]['realVariables'])??'');try{switch(_0x543e63[_0x2730bd(0x385)]){case _0x2730bd(0x43f):return _0x3f9bd6===_0x285bb4;case'notEqual':return _0x3f9bd6!==_0x285bb4;case _0x2730bd(0x20c):return _0x3f9bd6['includes'](_0x285bb4);case'notContains':return!_0x3f9bd6[_0x2730bd(0x459)](_0x285bb4);case _0x2730bd(0x1de):return parseFloat(_0x3f9bd6)>parseFloat(_0x285bb4);case _0x2730bd(0x158):return parseFloat(_0x3f9bd6)<parseFloat(_0x285bb4);case _0x2730bd(0x5da):return _0x3f9bd6!=='';case'empty':return _0x3f9bd6==='';case _0x2730bd(0x45f):return new RegExp(_0x285bb4)[_0x2730bd(0x1bb)](_0x3f9bd6);case _0x2730bd(0x16d):return!new RegExp(_0x285bb4)[_0x2730bd(0x1bb)](_0x3f9bd6);default:return!0x1;}}catch(_0xc2013c){return console[_0x2730bd(0x484)](_0x2730bd(0x16b)+_0xc2013c),!0x1;}}['processConditionsTest'](_0x495d16){const _0x257f96=a0_0x1fdc58;let _0xf94679=!0x0,_0x24a594=null;for(let _0x282a20 of _0x495d16){let _0x11a16e=this[_0x257f96(0x4f4)](_0x282a20);if(_0x24a594==='or'&&_0x11a16e){_0xf94679=!0x0;break;}if(_0x24a594==='and'&&!_0x11a16e){_0xf94679=!0x1;break;}_0x24a594=_0x282a20['OrAnd'];}return _0xf94679;}[a0_0x1fdc58(0x4f4)](_0x208bde){const _0x51a43=a0_0x1fdc58;let _0x44addc=_0x208bde[_0x51a43(0x2e3)],_0x250fc6=_0x208bde['secondValue'];try{switch(_0x208bde['expression']){case _0x51a43(0x43f):return String(_0x44addc)===String(_0x250fc6);case _0x51a43(0x397):return String(_0x44addc)!==String(_0x250fc6);case _0x51a43(0x20c):return String(_0x44addc)[_0x51a43(0x459)](String(_0x250fc6));case _0x51a43(0x489):return!String(_0x44addc)[_0x51a43(0x459)](String(_0x250fc6));case _0x51a43(0x1de):return parseFloat(String(_0x44addc))>parseFloat(String(_0x250fc6));case'less':return parseFloat(String(_0x44addc))<parseFloat(String(_0x250fc6));case _0x51a43(0x5da):return String(_0x44addc)!=='';case _0x51a43(0x286):return String(_0x44addc)==='';case _0x51a43(0x45f):return new RegExp(String(_0x250fc6))[_0x51a43(0x1bb)](String(_0x44addc));case _0x51a43(0x16d):return!new RegExp(String(_0x250fc6))[_0x51a43(0x1bb)](String(_0x44addc));default:return!0x1;}}catch(_0x891dff){return console[_0x51a43(0x484)](_0x51a43(0x16b)+_0x891dff),!0x1;}}async[a0_0x1fdc58(0x4ff)](_0x22270d,_0x34e3c7){const _0x1283f4=a0_0x1fdc58;if(this[_0x1283f4(0x647)][_0x1283f4(0x691)](this[_0x1283f4(0x6d8)]+'\x20('+this[_0x1283f4(0x635)][_0x1283f4(0x13e)]+_0x1283f4(0x1c6)),!_0x22270d||!_0x34e3c7)return this[_0x1283f4(0x647)][_0x1283f4(0x484)](this['instanceName']+'\x20('+this['instance'][_0x1283f4(0x13e)]+_0x1283f4(0x21a)),null;let _0xb6eb82=_0x34e3c7['saveVariable'],_0x19392a=_0x22270d[_0x1283f4(0x607)][_0x1283f4(0x392)][_0x1283f4(0x191)]||_0x22270d[_0x1283f4(0x607)]['lastReceivedMessage'][_0x1283f4(0x4fc)]||_0x22270d['chatLog'][_0x1283f4(0x392)]['vote'];try{_0x22270d[_0x1283f4(0x607)][_0x1283f4(0x5b0)]||(_0x22270d[_0x1283f4(0x607)][_0x1283f4(0x5b0)]={});let _0x808459=_0x22270d[_0x1283f4(0x607)][_0x1283f4(0x5b0)][_0xb6eb82];_0x22270d['chatLog'][_0x1283f4(0x5b0)][_0xb6eb82]=_0x19392a;let _0x407855={'variable':_0xb6eb82,'oldValue':_0x808459,'newValue':_0x19392a};this['updateConversation'](_0x22270d,_0x34e3c7,_0x407855),this[_0x1283f4(0x647)]['verbose'](this['instanceName']+'\x20('+this[_0x1283f4(0x635)][_0x1283f4(0x13e)]+'):\x20Conversa\x20atualizada\x20em\x20memória');}catch(_0x70af80){let _0x41b81b={'error':!0x0,'errorLog':_0x70af80[_0x1283f4(0x686)]()};return this[_0x1283f4(0x490)](_0x22270d,_0x34e3c7,_0x41b81b),this['logger'][_0x1283f4(0x484)](this[_0x1283f4(0x6d8)]+'\x20('+this[_0x1283f4(0x635)][_0x1283f4(0x13e)]+_0x1283f4(0x409)+_0x70af80[_0x1283f4(0x219)]),null;}}async[a0_0x1fdc58(0x3e3)](_0x339f39,_0x27d482){const _0x5bdce2=a0_0x1fdc58;if(this[_0x5bdce2(0x647)]['verbose'](this[_0x5bdce2(0x6d8)]+'\x20('+this[_0x5bdce2(0x635)]['wuid']+_0x5bdce2(0x2e9)),!_0x339f39||!_0x27d482)return this[_0x5bdce2(0x647)]['error'](this[_0x5bdce2(0x6d8)]+'\x20('+this[_0x5bdce2(0x635)][_0x5bdce2(0x13e)]+_0x5bdce2(0x21a)),null;let _0x47c2ae=Date['now'](),_0x376396=parseInt(_0x27d482[_0x5bdce2(0x2cb)],0xa);if(isNaN(_0x376396))return this['logger'][_0x5bdce2(0x484)](this[_0x5bdce2(0x6d8)]+'\x20('+this['instance'][_0x5bdce2(0x13e)]+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número'),null;let _0x1d1df2={'newStoppedUntil':_0x47c2ae+_0x376396*0x3c*0x3e8};return await this[_0x5bdce2(0x490)](_0x339f39,_0x27d482,_0x1d1df2,!0x0),null;}async[a0_0x1fdc58(0x408)](_0x1db0a5,_0x1d01eb,_0x12bff4){const _0x444e5f=a0_0x1fdc58;try{switch(_0x1d01eb[_0x444e5f(0x494)][_0x444e5f(0x50b)]){case _0x444e5f(0x36d):await this['uazapiSendText'](_0x1db0a5,_0x1d01eb,_0x12bff4);break;case'sendMedia':await this[_0x444e5f(0x194)](_0x1db0a5,_0x1d01eb,_0x12bff4);break;case _0x444e5f(0x40f):await this['uazapiSendLocation'](_0x1db0a5,_0x1d01eb,_0x12bff4);break;case _0x444e5f(0x61f):await this['uazapiSendAudio'](_0x1db0a5,_0x1d01eb,_0x12bff4);break;case _0x444e5f(0x175):await this['uazapiSendContact'](_0x1db0a5,_0x1d01eb,_0x12bff4);break;case _0x444e5f(0x477):await this['uazapiSendPoll'](_0x1db0a5,_0x1d01eb,_0x12bff4);break;case _0x444e5f(0x161):await this[_0x444e5f(0x3dc)](_0x1db0a5,_0x1d01eb,_0x12bff4);break;default:this[_0x444e5f(0x647)][_0x444e5f(0x484)](this[_0x444e5f(0x6d8)]+'\x20('+this[_0x444e5f(0x635)][_0x444e5f(0x13e)]+'):\x20Comando\x20desconhecido:\x20'+_0x1d01eb[_0x444e5f(0x494)]['command']);}}catch(_0x114e98){this[_0x444e5f(0x647)]['error'](this['instanceName']+'\x20('+this[_0x444e5f(0x635)][_0x444e5f(0x13e)]+_0x444e5f(0x1f3)+_0x114e98);}}async['updateConversation'](_0x1fdced,_0x30856e,_0x5c61d9,_0x3958fd=!0x1,_0x472c9c=!0x1){const _0x4ab2c4=a0_0x1fdc58;_0x1fdced[_0x4ab2c4(0x607)][_0x4ab2c4(0x56e)]||(_0x1fdced[_0x4ab2c4(0x607)][_0x4ab2c4(0x56e)]=[]);let _0x3db594=(_0x1fdced[_0x4ab2c4(0x607)][_0x4ab2c4(0x56e)]?.[_0x4ab2c4(0x6b4)]??0x0)+0x1,_0x4517e7=_0x1fdced[_0x4ab2c4(0x607)][_0x4ab2c4(0x56e)]['filter'](_0x2ebf68=>String(_0x2ebf68[_0x4ab2c4(0x638)])===String(_0x30856e[_0x4ab2c4(0x46e)]))['length']+0x1,_0x2013b7=_0x5c61d9?.['onTime']??Date[_0x4ab2c4(0x2f7)](),_0x5209fe=_0x5c61d9?.[_0x4ab2c4(0x484)]?_0x5c61d9[_0x4ab2c4(0x50e)]??_0x5c61d9[_0x4ab2c4(0x484)]['toString']():void 0x0,_0x572a64={'onTime':_0x2013b7,'blockId':_0x30856e[_0x4ab2c4(0x46e)],'order':_0x3db594,'activatedCount':_0x4517e7,'error':_0x5c61d9?.[_0x4ab2c4(0x484)]??!0x1,'messageId':_0x5c61d9?.[_0x4ab2c4(0x51e)],'apiResponse':_0x5c61d9?.['apiResponse'],'apiResponseString':_0x5c61d9?.[_0x4ab2c4(0x1e6)]?JSON[_0x4ab2c4(0x1b7)](_0x5c61d9?.['apiResponse']):void 0x0,'variable':_0x5c61d9?.[_0x4ab2c4(0x522)],'oldValue':_0x5c61d9?.['oldValue'],'newValue':_0x5c61d9?.[_0x4ab2c4(0x53e)],'newStoppedUntil':_0x5c61d9?.[_0x4ab2c4(0x32e)],'moreLogs':_0x5c61d9?.[_0x4ab2c4(0x214)],'errorLog':_0x5209fe};if(_0x5c61d9[_0x4ab2c4(0x214)]&&_0x5c61d9[_0x4ab2c4(0x214)]['length']>0x0){let _0x367ccf=_0x5c61d9[_0x4ab2c4(0x214)][_0x4ab2c4(0x634)](_0x166864=>this['replaceVariablesLogs'](_0x166864,_0x1fdced['chatLog'][_0x4ab2c4(0x5b0)]));_0x572a64[_0x4ab2c4(0x214)]=_0x367ccf;}_0x1fdced[_0x4ab2c4(0x607)][_0x4ab2c4(0x5b0)]||(_0x1fdced[_0x4ab2c4(0x607)][_0x4ab2c4(0x5b0)]={}),_0x1fdced[_0x4ab2c4(0x607)][_0x4ab2c4(0x5b0)]['_activatedCount']=String(_0x4517e7),_0x1fdced[_0x4ab2c4(0x607)][_0x4ab2c4(0x5b0)][_0x4ab2c4(0x162)]=String(_0x5c61d9[_0x4ab2c4(0x484)]??!0x1),_0x1fdced['chatLog'][_0x4ab2c4(0x56e)][_0x4ab2c4(0x1b4)](_0x572a64),_0x1fdced['chatLog'][_0x4ab2c4(0x579)]=_0x30856e[_0x4ab2c4(0x46e)][_0x4ab2c4(0x686)](),_0x1fdced[_0x4ab2c4(0x607)][_0x4ab2c4(0x4aa)]&&(_0x1fdced['chatLog'][_0x4ab2c4(0x4aa)]=_0x1fdced[_0x4ab2c4(0x607)][_0x4ab2c4(0x4aa)]),_0x1fdced[_0x4ab2c4(0x607)][_0x4ab2c4(0x392)]&&(_0x1fdced['chatLog'][_0x4ab2c4(0x392)]=_0x1fdced['chatLog']['lastReceivedMessage']),_0x1fdced[_0x4ab2c4(0x607)][_0x4ab2c4(0x5fc)]&&(_0x1fdced[_0x4ab2c4(0x607)][_0x4ab2c4(0x5fc)]=_0x1fdced[_0x4ab2c4(0x607)][_0x4ab2c4(0x5fc)]),_0x472c9c&&(_0x1fdced[_0x4ab2c4(0x62e)]=_0x4ab2c4(0x229)),_0x3958fd?this[_0x4ab2c4(0x2eb)](_0x1fdced):this[_0x4ab2c4(0x6f5)](_0x1fdced,_0x30856e);}[a0_0x1fdc58(0x2d8)](_0x708eb5,_0xb1422f){const _0x8cd48b=a0_0x1fdc58;return _0x708eb5[_0x8cd48b(0x5b4)](/\{\{([^}]+)\}\}/g,(_0x27facb,_0x37bed2)=>_0xb1422f[_0x37bed2]?'{{'+_0x37bed2+'}}\x20->\x20\x22'+_0xb1422f[_0x37bed2]+'\x22':'{{'+_0x37bed2+'}}\x20->\x20valor\x20não\x20encontrado');}async[a0_0x1fdc58(0x2eb)](_0x425ef6){const _0x190625=a0_0x1fdc58;try{let _0x542112=Object['entries'](_0x425ef6[_0x190625(0x607)][_0x190625(0x5b0)])['map'](([_0x319d71,_0x1fe11f])=>({'name':_0x319d71,'value':_0x1fe11f})),_0x1462f3=await G[_0x190625(0x1c5)]({'_id':_0x425ef6[_0x190625(0x46e)]},{'$set':{'chatLog.lastBlockId':_0x425ef6[_0x190625(0x607)][_0x190625(0x579)],'blocks':_0x425ef6[_0x190625(0x52b)],'chatLog.lastSendMessage':_0x425ef6['chatLog'][_0x190625(0x4aa)],'chatLog.lastReceivedMessage':_0x425ef6[_0x190625(0x607)][_0x190625(0x392)],'chatLog.lastCondition':_0x425ef6['chatLog'][_0x190625(0x5fc)],'chatLog.chatVariables':_0x542112,'chatLog.realVariables':_0x425ef6[_0x190625(0x607)][_0x190625(0x5b0)],'status':_0x425ef6[_0x190625(0x62e)],'chatLog.blockLogs':_0x425ef6[_0x190625(0x607)][_0x190625(0x56e)],'waitingPoll_id':_0x425ef6['waitingPoll_id'],'waitingPoll_name':_0x425ef6[_0x190625(0x324)],'waitingPoll_replyOptions':_0x425ef6[_0x190625(0x357)]}},{'new':!0x0});if(_0x1462f3){this['logger'][_0x190625(0x691)](this['instanceName']+'\x20('+this[_0x190625(0x635)][_0x190625(0x13e)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x1462f3[_0x190625(0x46e)]);try{let _0x1bea84=[_0x190625(0x2a8),'nomecompleto',_0x190625(0x276),_0x190625(0x4df),'status',_0x190625(0x5e5),_0x190625(0x6a9),_0x190625(0x4dc)];if(!this[_0x190625(0x693)]&&(await this[_0x190625(0x570)](),!this['AutomateSystem']))throw new Error(_0x190625(0x5be));let _0x59e028=this['AutomateSystem'][_0x190625(0x14a)][_0x190625(0x634)](_0x20fa5f=>_0x20fa5f[_0x190625(0x5e8)]),_0xfcf8a5={};Object['entries'](_0x425ef6[_0x190625(0x607)][_0x190625(0x5b0)])[_0x190625(0x44b)](([_0x2679a5,_0x4e7351])=>{const _0x516eac=_0x190625;_0x1bea84['includes'](_0x2679a5)&&(_0x2679a5===_0x516eac(0x4dc)&&typeof _0x4e7351==_0x516eac(0x25c)?_0xfcf8a5[_0x2679a5]=_0x4e7351[_0x516eac(0x296)](',')['map'](_0x506fc2=>_0x506fc2[_0x516eac(0x170)]())['filter'](_0x517d49=>_0x517d49!==''):_0xfcf8a5[_0x2679a5]=_0x4e7351);});let _0x138754=_0x425ef6[_0x190625(0x607)][_0x190625(0x56e)][_0x425ef6[_0x190625(0x607)]['blockLogs'][_0x190625(0x6b4)]-0x1];if(_0x138754){let _0x7a5f54=_0x138754[_0x190625(0x32e)];_0x7a5f54!==void 0x0&&(_0xfcf8a5[_0x190625(0x5aa)]=_0x7a5f54['toString']());}let _0x3c7957=_0x542112['filter'](_0x443392=>_0x59e028['includes'](_0x443392[_0x190625(0x5e8)]));this[_0x190625(0x647)][_0x190625(0x691)](this['instanceName']+'\x20('+this[_0x190625(0x635)][_0x190625(0x13e)]+_0x190625(0x1bf)),this[_0x190625(0x647)][_0x190625(0x691)](_0xfcf8a5),this[_0x190625(0x647)]['verbose'](this[_0x190625(0x6d8)]+'\x20('+this['instance']['wuid']+'):\x20customFieldVariables'),this['logger'][_0x190625(0x691)](_0x3c7957);let _0x127187=_0x3c7957['map'](_0x1c5d2b=>{const _0x2dd203=_0x190625;let _0xb3ca2c=this[_0x2dd203(0x693)][_0x2dd203(0x14a)][_0x2dd203(0x192)](_0x383590=>_0x383590['name']===_0x1c5d2b[_0x2dd203(0x5e8)]);if(!_0xb3ca2c)throw new Error(_0x2dd203(0x34c)+_0x1c5d2b[_0x2dd203(0x5e8)]);return{'_id':_0xb3ca2c['_id'],'value':_0x1c5d2b[_0x2dd203(0x568)]};});this['logger'][_0x190625(0x691)](this[_0x190625(0x6d8)]+'\x20('+this[_0x190625(0x635)][_0x190625(0x13e)]+_0x190625(0x196)),this[_0x190625(0x647)][_0x190625(0x691)](_0x127187),await this[_0x190625(0x6f6)](_0x425ef6['remoteJid'],_0xfcf8a5,_0x127187);}catch(_0x4b7bae){this[_0x190625(0x647)][_0x190625(0x484)](this[_0x190625(0x6d8)]+'\x20('+this[_0x190625(0x635)]['wuid']+_0x190625(0x2d6)+JSON[_0x190625(0x1b7)](_0x4b7bae));}}else this[_0x190625(0x647)]['error'](this[_0x190625(0x6d8)]+'\x20('+this['instance'][_0x190625(0x13e)]+'):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida');}catch(_0x39b507){this[_0x190625(0x647)][_0x190625(0x484)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x190625(0x3be)+JSON[_0x190625(0x1b7)](_0x39b507));}}async[a0_0x1fdc58(0x6f6)](_0x5599f8,_0x518016,_0x578311){const _0x881172=a0_0x1fdc58;try{let _0x3fc9b0={'leadInfo.leadnome':_0x518016[_0x881172(0x2a8)],'leadInfo.nomecompleto':_0x518016['nomecompleto'],'leadInfo.email':_0x518016[_0x881172(0x276)],'leadInfo.cpf':_0x518016['cpf'],'leadInfo.status':_0x518016['status'],'leadInfo.notas':_0x518016[_0x881172(0x5e5)],'leadInfo.responsavelid':_0x518016[_0x881172(0x6a9)],'leadInfo.tags':_0x518016[_0x881172(0x4dc)],'leadInfo.customFields':_0x578311};if(_0x881172(0x5aa)in _0x518016){let _0x266947=_0x518016[_0x881172(0x5aa)];_0x3fc9b0[_0x881172(0x4e0)]=_0x266947?Number(_0x266947):null;}let _0x143ec8=await I[_0x881172(0x1c5)]({'id':_0x5599f8,'owner':this[_0x881172(0x635)][_0x881172(0x13e)]},{'$set':_0x3fc9b0},{'new':!0x0,'upsert':!0x0});_0x143ec8?(this['logger']['verbose'](this[_0x881172(0x6d8)]+'\x20('+this['instance'][_0x881172(0x13e)]+_0x881172(0x6b9)+_0x143ec8[_0x881172(0x46e)]),H(this[_0x881172(0x6d8)],_0x881172(0x228),{'chat':_0x143ec8})):this[_0x881172(0x647)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x881172(0x420));}catch(_0x4cfb32){this[_0x881172(0x647)][_0x881172(0x484)](this[_0x881172(0x6d8)]+'\x20('+this[_0x881172(0x635)][_0x881172(0x13e)]+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+_0x4cfb32);}}async[a0_0x1fdc58(0x1c7)](_0x253939,_0x7ed6c1){const _0x47bbda=a0_0x1fdc58;this[_0x47bbda(0x647)][_0x47bbda(0x691)](this[_0x47bbda(0x6d8)]+'\x20('+this[_0x47bbda(0x635)][_0x47bbda(0x13e)]+_0x47bbda(0x1bd)+_0x7ed6c1);try{let _0xfb48f6=await I['findOneAndUpdate']({'id':_0x253939['remoteJid'],'owner':_0x253939[_0x47bbda(0x3b7)]},{'$set':{'leadInfo.desativadoFluxoAte':_0x7ed6c1}},{'new':!0x0});this[_0x47bbda(0x647)][_0x47bbda(0x691)](this['instanceName']+'\x20('+this[_0x47bbda(0x635)][_0x47bbda(0x13e)]+_0x47bbda(0x4ce)+_0x253939[_0x47bbda(0x46e)]),this[_0x47bbda(0x647)][_0x47bbda(0x691)](this['instanceName']+'\x20('+this[_0x47bbda(0x635)]['wuid']+_0x47bbda(0x1bd)+JSON['stringify'](_0xfb48f6,null,0x2)),_0xfb48f6&&H(this['instanceName'],_0x47bbda(0x228),{'chat':_0xfb48f6});}catch(_0x1261e3){this[_0x47bbda(0x647)][_0x47bbda(0x484)](this[_0x47bbda(0x6d8)]+'\x20('+this[_0x47bbda(0x635)]['wuid']+_0x47bbda(0x169)+JSON[_0x47bbda(0x1b7)](_0x1261e3));}}async[a0_0x1fdc58(0x245)](_0x264776,_0x1383c4){const _0x336041=a0_0x1fdc58;try{this[_0x336041(0x647)][_0x336041(0x691)](this[_0x336041(0x6d8)]+'\x20('+this[_0x336041(0x635)][_0x336041(0x13e)]+_0x336041(0x42d));let _0x5a3cc7=_0x1383c4[_0x336041(0x5b4)](/\D/g,''),_0x571547=await D[_0x336041(0x5e3)]({'owner':_0x264776,'testingWith':_0x5a3cc7});return _0x571547||(this['logger'][_0x336041(0x691)](this[_0x336041(0x6d8)]+'\x20('+this[_0x336041(0x635)]['wuid']+_0x336041(0x4ca)),_0x571547=await D[_0x336041(0x5e3)]({'owner':_0x264776,'default':!0x0})),_0x571547||(this[_0x336041(0x647)][_0x336041(0x691)](this['instanceName']+'\x20('+this['instance'][_0x336041(0x13e)]+_0x336041(0x1cd)),null);}catch(_0x23f094){return this[_0x336041(0x647)][_0x336041(0x484)](this[_0x336041(0x6d8)]+'\x20('+this['instance'][_0x336041(0x13e)]+_0x336041(0x5c8)+_0x23f094),null;}}async[a0_0x1fdc58(0x1f7)](_0x58a4d3,_0x2d16a3,_0x46d845){const _0x184850=a0_0x1fdc58;try{let _0x3e98db=!!_0x46d845['vote'],_0x214c84=_0x46d845['poll_id'],_0x15308c=null;if(this[_0x184850(0x647)][_0x184850(0x691)](this[_0x184850(0x6d8)]+'\x20('+this[_0x184850(0x635)]['wuid']+_0x184850(0x347)+_0x3e98db+_0x184850(0x33d)+_0x214c84),_0x3e98db)return this[_0x184850(0x647)]['verbose'](this['instanceName']+'\x20('+this[_0x184850(0x635)]['wuid']+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto'),_0x15308c=await G[_0x184850(0x5e3)]({'owner':_0x58a4d3,'remoteJid':_0x2d16a3,'waitingPoll_id':_0x214c84}),_0x15308c?(_0x15308c['lastInteraction']=Date['now'](),_0x15308c[_0x184850(0x607)][_0x184850(0x392)]=_0x46d845,_0x15308c):(this['logger'][_0x184850(0x691)](this['instanceName']+'\x20('+this[_0x184850(0x635)][_0x184850(0x13e)]+'):\x20não\x20encontrou'),null);{if(this['logger'][_0x184850(0x691)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20'+this[_0x184850(0x635)][_0x184850(0x13e)]+_0x184850(0x52c)),this[_0x184850(0x647)][_0x184850(0x691)](this[_0x184850(0x6d8)]+'\x20('+this[_0x184850(0x635)][_0x184850(0x13e)]+_0x184850(0x614)),_0x15308c=await G['findOne']({'owner':_0x58a4d3,'remoteJid':_0x2d16a3,'status':_0x184850(0x384)}),!_0x15308c){let _0xb89770=await this[_0x184850(0x245)](_0x58a4d3,_0x2d16a3);if(_0xb89770&&(_0x15308c=await this[_0x184850(0x358)](_0xb89770,_0x46d845[_0x184850(0x267)],_0x46d845)),!_0x15308c)return null;}let _0x430592=Date[_0x184850(0x2f7)](),_0x3c708b=_0x15308c?.[_0x184850(0x15a)]||0x0,_0x497a3f=_0x430592-_0x3c708b*0x3c*0x3e8;if(this[_0x184850(0x647)]['verbose'](this[_0x184850(0x6d8)]+'\x20('+this[_0x184850(0x635)]['wuid']+_0x184850(0x662)+_0x430592+_0x184850(0x1ef)+_0x3c708b+_0x184850(0x6f3)+_0x497a3f),this[_0x184850(0x647)][_0x184850(0x691)](this['instanceName']+'\x20('+this['instance'][_0x184850(0x13e)]+_0x184850(0x481)),this[_0x184850(0x647)]['verbose'](this[_0x184850(0x6d8)]+'\x20('+this[_0x184850(0x635)][_0x184850(0x13e)]+'):\x20conversation.lastInteraction:\x20'+_0x15308c[_0x184850(0x356)]),this[_0x184850(0x647)]['verbose'](this[_0x184850(0x6d8)]+'\x20('+this[_0x184850(0x635)][_0x184850(0x13e)]+_0x184850(0x220)+_0x497a3f),_0x15308c[_0x184850(0x356)]<_0x497a3f){this[_0x184850(0x647)][_0x184850(0x691)](this[_0x184850(0x6d8)]+'\x20('+this[_0x184850(0x635)][_0x184850(0x13e)]+_0x184850(0x63b));let _0x3d83c8=await this[_0x184850(0x245)](_0x58a4d3,_0x2d16a3);if(_0x3d83c8===null)return null;_0x15308c&&await G[_0x184850(0x465)]({'_id':_0x15308c[_0x184850(0x46e)]},{'status':'closed'}),_0x15308c=await this[_0x184850(0x358)](_0x3d83c8,_0x46d845[_0x184850(0x267)],_0x46d845);}return _0x15308c[_0x184850(0x356)]=_0x430592,_0x15308c[_0x184850(0x607)][_0x184850(0x392)]=_0x46d845,_0x15308c;}}catch(_0x33ff75){return this['logger'][_0x184850(0x484)](this[_0x184850(0x6d8)]+'\x20('+this[_0x184850(0x635)][_0x184850(0x13e)]+_0x184850(0x604)+_0x33ff75),null;}}async['createNewConversation'](_0x18418d,_0x1f359e,_0x2c09c6){const _0x4ee2dc=a0_0x1fdc58;this[_0x4ee2dc(0x647)][_0x4ee2dc(0x691)](this[_0x4ee2dc(0x6d8)]+'\x20('+this[_0x4ee2dc(0x635)][_0x4ee2dc(0x13e)]+'):\x20Criando\x20nova\x20conversa');try{let _0x1d5996=require(_0x4ee2dc(0x48a))[_0x4ee2dc(0x14f)],_0x12f2d5=Date[_0x4ee2dc(0x2f7)](),_0x5a9a64=_0x4ee2dc(0x2e8),_0x1e0224=_0x1f359e[_0x4ee2dc(0x47c)]?null:_0x2c09c6,_0x3e16b7=_0x1f359e['fromMe']?_0x2c09c6:null,_0x3bbd2d=_0x1f359e[_0x4ee2dc(0x543)],_0x5808a8={..._0x18418d['_doc'],'chatLog':null},_0xb4538e=await this[_0x4ee2dc(0x1e1)](_0x5808a8[_0x4ee2dc(0x67d)]),_0xe1ecfd=await this[_0x4ee2dc(0x226)](_0x3bbd2d),_0x6b2f5e={..._0xb4538e,..._0xe1ecfd},_0x295f28={'lastReceivedMessage':_0x1e0224,'lastSendMessage':_0x3e16b7,'lastBlockId':_0x5a9a64,'lastCondition':!0x0,'realVariables':_0x6b2f5e};_0x5808a8['chatLog']=_0x295f28,delete _0x5808a8[_0x4ee2dc(0x46e)],_0x5808a8[_0x4ee2dc(0x46e)]=new _0x1d5996(),_0x5808a8[_0x4ee2dc(0x356)]=_0x12f2d5,_0x5808a8[_0x4ee2dc(0x62e)]=_0x4ee2dc(0x384),_0x5808a8[_0x4ee2dc(0x543)]=_0x3bbd2d;let _0x337fe4=await G['create'](_0x5808a8);return this['logger']['verbose'](this[_0x4ee2dc(0x6d8)]+'\x20('+this[_0x4ee2dc(0x635)][_0x4ee2dc(0x13e)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x337fe4?_0x5808a8:null;}catch(_0x4bf68d){return this[_0x4ee2dc(0x647)][_0x4ee2dc(0x484)](this[_0x4ee2dc(0x6d8)]+'\x20('+this[_0x4ee2dc(0x635)]['wuid']+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+_0x4bf68d),_0x4bf68d;}}async[a0_0x1fdc58(0x374)](_0x57862a,_0x42f7c7,_0x21ed4e){const _0x897e83=a0_0x1fdc58;this['logger']['verbose'](this[_0x897e83(0x6d8)]+'\x20('+this[_0x897e83(0x635)]['wuid']+'):\x20Enviando\x20texto');let _0x4bf736={'number':_0x21ed4e,'options':{'delay':_0x42f7c7[_0x897e83(0x494)][_0x897e83(0x23a)]},'textMessage':{'text':_0x42f7c7[_0x897e83(0x494)][_0x897e83(0x191)]}};try{let _0x17b2a3=await this[_0x897e83(0x680)](_0x4bf736);if(_0x17b2a3){let _0x5a107e={'_id':_0x17b2a3[_0x897e83(0x267)]['id'],'_fromMe':_0x17b2a3[_0x897e83(0x267)][_0x897e83(0x47c)],'_remoteJid':_0x17b2a3[_0x897e83(0x267)]['remoteJid']};_0x57862a[_0x897e83(0x607)][_0x897e83(0x579)]=_0x42f7c7[_0x897e83(0x46e)]['toString']();let {message_normalized:_0xd6a8f8}=this[_0x897e83(0x6d1)](_0x17b2a3[_0x897e83(0x219)],J(_0x17b2a3[_0x897e83(0x219)]),null);_0x57862a['chatLog'][_0x897e83(0x4aa)]=await _0xd6a8f8;let _0x1cb824={'messageId':_0x17b2a3['key']['id']},_0x300362=_0x57862a[_0x897e83(0x607)][_0x897e83(0x5b0)];Object[_0x897e83(0x236)](_0x300362,_0x5a107e),_0x57862a[_0x897e83(0x607)][_0x897e83(0x5b0)]=_0x300362,this[_0x897e83(0x490)](_0x57862a,_0x42f7c7,_0x1cb824);}else{let _0x7172aa={'error':!0x0};this[_0x897e83(0x490)](_0x57862a,_0x42f7c7,_0x7172aa),this['logger'][_0x897e83(0x484)](this[_0x897e83(0x6d8)]+'\x20('+this['instance']['wuid']+_0x897e83(0x3eb));}}catch(_0x2aebe9){let _0x4fdceb={'error':!0x0,'errorLog':_0x2aebe9[_0x897e83(0x686)]()};this[_0x897e83(0x490)](_0x57862a,_0x42f7c7,_0x4fdceb),this['logger'][_0x897e83(0x484)](this[_0x897e83(0x6d8)]+'\x20('+this['instance'][_0x897e83(0x13e)]+_0x897e83(0x29a)+_0x2aebe9[_0x897e83(0x686)]());}}async[a0_0x1fdc58(0x194)](_0x5a7486,_0x436e74,_0xc66742){const _0x32b3b6=a0_0x1fdc58;this[_0x32b3b6(0x647)][_0x32b3b6(0x691)](this[_0x32b3b6(0x6d8)]+'\x20('+this[_0x32b3b6(0x635)][_0x32b3b6(0x13e)]+_0x32b3b6(0x164));let _0x351997={'number':_0xc66742,'options':{'delay':_0x436e74[_0x32b3b6(0x494)]['delay']},'mediaMessage':{'mediatype':_0x436e74[_0x32b3b6(0x494)][_0x32b3b6(0x441)],'caption':_0x436e74['uazapi'][_0x32b3b6(0x4fc)],'media':_0x436e74[_0x32b3b6(0x494)][_0x32b3b6(0x6d4)]}};try{let _0x315eae=await this[_0x32b3b6(0x15c)](_0x351997);if(_0x315eae){let _0x29a955={'_id':_0x315eae[_0x32b3b6(0x267)]['id'],'_fromMe':_0x315eae[_0x32b3b6(0x267)][_0x32b3b6(0x47c)],'_remoteJid':_0x315eae[_0x32b3b6(0x267)][_0x32b3b6(0x543)]};_0x5a7486[_0x32b3b6(0x607)][_0x32b3b6(0x579)]=_0x436e74[_0x32b3b6(0x46e)][_0x32b3b6(0x686)]();let {message_normalized:_0x52c67b}=this[_0x32b3b6(0x6d1)](_0x315eae['message'],J(_0x315eae['message']),null);_0x5a7486[_0x32b3b6(0x607)][_0x32b3b6(0x4aa)]=await _0x52c67b;let _0x2e0d3a={'messageId':_0x315eae[_0x32b3b6(0x267)]['id']},_0x4666fb=_0x5a7486[_0x32b3b6(0x607)]['realVariables'];Object[_0x32b3b6(0x236)](_0x4666fb,_0x29a955),_0x5a7486[_0x32b3b6(0x607)][_0x32b3b6(0x5b0)]=_0x4666fb,this[_0x32b3b6(0x490)](_0x5a7486,_0x436e74,_0x2e0d3a);}else{let _0x2d1369={'error':!0x0};this[_0x32b3b6(0x490)](_0x5a7486,_0x436e74,_0x2d1369),this[_0x32b3b6(0x647)][_0x32b3b6(0x484)](this[_0x32b3b6(0x6d8)]+'\x20('+this[_0x32b3b6(0x635)]['wuid']+_0x32b3b6(0x626));}}catch(_0x2c3829){let _0x4be6b1={'error':!0x0,'errorLog':_0x2c3829[_0x32b3b6(0x686)]()};this[_0x32b3b6(0x490)](_0x5a7486,_0x436e74,_0x4be6b1),this[_0x32b3b6(0x647)]['error'](this[_0x32b3b6(0x6d8)]+'\x20('+this[_0x32b3b6(0x635)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+_0x2c3829[_0x32b3b6(0x686)]());}}async[a0_0x1fdc58(0x2dd)](_0x3a6b68,_0x46037d,_0x53c8ee){const _0xcd41fe=a0_0x1fdc58;this['logger'][_0xcd41fe(0x691)](this[_0xcd41fe(0x6d8)]+'\x20('+this['instance']['wuid']+_0xcd41fe(0x26a));let _0x4e4573={'number':_0x53c8ee,'options':{'delay':_0x46037d[_0xcd41fe(0x494)]['delay']},'locationMessage':{'name':_0x46037d[_0xcd41fe(0x494)][_0xcd41fe(0x5e8)],'address':_0x46037d[_0xcd41fe(0x494)]['address'],'latitude':_0x46037d[_0xcd41fe(0x494)]['latitude'],'longitude':_0x46037d[_0xcd41fe(0x494)]['longitude']}};try{let _0x48b6b1=await this[_0xcd41fe(0x4bc)](_0x4e4573);if(_0x48b6b1){let _0x33bb10={'_id':_0x48b6b1[_0xcd41fe(0x267)]['id'],'_fromMe':_0x48b6b1[_0xcd41fe(0x267)][_0xcd41fe(0x47c)],'_remoteJid':_0x48b6b1['key']['remoteJid']};_0x3a6b68[_0xcd41fe(0x607)][_0xcd41fe(0x579)]=_0x46037d[_0xcd41fe(0x46e)][_0xcd41fe(0x686)]();let {message_normalized:_0x26aea7}=this['normalizeMessage'](_0x48b6b1['message'],J(_0x48b6b1[_0xcd41fe(0x219)]),null);_0x3a6b68[_0xcd41fe(0x607)][_0xcd41fe(0x4aa)]=await _0x26aea7;let _0x2e2a14={'messageId':_0x48b6b1[_0xcd41fe(0x267)]['id']},_0x27c7c1=_0x3a6b68[_0xcd41fe(0x607)][_0xcd41fe(0x5b0)];Object['assign'](_0x27c7c1,_0x33bb10),_0x3a6b68[_0xcd41fe(0x607)]['realVariables']=_0x27c7c1,this['updateConversation'](_0x3a6b68,_0x46037d,_0x2e2a14);}else{let _0x38f9c0={'error':!0x0};this[_0xcd41fe(0x490)](_0x3a6b68,_0x46037d,_0x38f9c0),this['logger'][_0xcd41fe(0x484)](this[_0xcd41fe(0x6d8)]+'\x20('+this[_0xcd41fe(0x635)][_0xcd41fe(0x13e)]+_0xcd41fe(0x537));}}catch(_0x173e6c){let _0x4e4fed={'error':!0x0,'errorLog':_0x173e6c[_0xcd41fe(0x686)]()};this[_0xcd41fe(0x490)](_0x3a6b68,_0x46037d,_0x4e4fed),this['logger'][_0xcd41fe(0x484)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xcd41fe(0x515)+_0x173e6c['toString']());}}async[a0_0x1fdc58(0x300)](_0x3fa69c,_0x14c7f1,_0x4a7f91){const _0x4a6658=a0_0x1fdc58;this[_0x4a6658(0x647)][_0x4a6658(0x691)](this['instanceName']+'\x20('+this[_0x4a6658(0x635)][_0x4a6658(0x13e)]+_0x4a6658(0x4b3));let _0x3c909f={'number':_0x4a7f91,'options':{'delay':_0x14c7f1[_0x4a6658(0x494)][_0x4a6658(0x23a)]},'audioMessage':{'audio':_0x14c7f1[_0x4a6658(0x494)]['audio']}};try{let _0x169e92=await this[_0x4a6658(0x603)](_0x3c909f);if(_0x169e92){let _0x830968={'_id':_0x169e92['key']['id'],'_fromMe':_0x169e92[_0x4a6658(0x267)]['fromMe'],'_remoteJid':_0x169e92['key']['remoteJid']};_0x3fa69c[_0x4a6658(0x607)]['lastBlockId']=_0x14c7f1[_0x4a6658(0x46e)][_0x4a6658(0x686)]();let {message_normalized:_0x3d24c0}=this[_0x4a6658(0x6d1)](_0x169e92[_0x4a6658(0x219)],J(_0x169e92[_0x4a6658(0x219)]),null);_0x3fa69c['chatLog'][_0x4a6658(0x4aa)]=await _0x3d24c0;let _0x18160d={'messageId':_0x169e92[_0x4a6658(0x267)]['id']},_0x407c38=_0x3fa69c[_0x4a6658(0x607)][_0x4a6658(0x5b0)];Object[_0x4a6658(0x236)](_0x407c38,_0x830968),_0x3fa69c[_0x4a6658(0x607)]['realVariables']=_0x407c38,this[_0x4a6658(0x490)](_0x3fa69c,_0x14c7f1,_0x18160d);}else{let _0x46db8e={'error':!0x0};this[_0x4a6658(0x490)](_0x3fa69c,_0x14c7f1,_0x46db8e),this[_0x4a6658(0x647)][_0x4a6658(0x484)](this[_0x4a6658(0x6d8)]+'\x20('+this[_0x4a6658(0x635)]['wuid']+_0x4a6658(0x599));}}catch(_0x33bbfc){let _0x3560fd={'error':!0x0,'errorLog':_0x33bbfc[_0x4a6658(0x686)]()};this['updateConversation'](_0x3fa69c,_0x14c7f1,_0x3560fd),this['logger'][_0x4a6658(0x484)](this['instanceName']+'\x20('+this[_0x4a6658(0x635)][_0x4a6658(0x13e)]+_0x4a6658(0x643)+_0x33bbfc[_0x4a6658(0x686)]());}}async[a0_0x1fdc58(0x289)](_0x1838e2,_0x2c0a4a,_0x99fecf){const _0xfd899d=a0_0x1fdc58;this[_0xfd899d(0x647)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0xfd899d(0x61c));let _0xc25dc8={'number':_0x99fecf,'options':{'delay':_0x2c0a4a[_0xfd899d(0x494)][_0xfd899d(0x23a)]},'contactMessage':[{'fullName':_0x2c0a4a['uazapi'][_0xfd899d(0x36a)],'phoneNumber':_0x2c0a4a['uazapi']['phoneNumber']}]};try{let _0x565947=await this[_0xfd899d(0x679)](_0xc25dc8);if(_0x565947){let _0x590d8f={'_id':_0x565947['key']['id'],'_fromMe':_0x565947[_0xfd899d(0x267)]['fromMe'],'_remoteJid':_0x565947['key'][_0xfd899d(0x543)]};_0x1838e2[_0xfd899d(0x607)][_0xfd899d(0x579)]=_0x2c0a4a[_0xfd899d(0x46e)][_0xfd899d(0x686)]();let {message_normalized:_0x183d38}=this[_0xfd899d(0x6d1)](_0x565947[_0xfd899d(0x219)],J(_0x565947[_0xfd899d(0x219)]),null);_0x1838e2[_0xfd899d(0x607)][_0xfd899d(0x4aa)]=await _0x183d38;let _0x38266f={'messageId':_0x565947[_0xfd899d(0x267)]['id']},_0x5ec383=_0x1838e2[_0xfd899d(0x607)]['realVariables'];Object[_0xfd899d(0x236)](_0x5ec383,_0x590d8f),_0x1838e2['chatLog'][_0xfd899d(0x5b0)]=_0x5ec383,this[_0xfd899d(0x490)](_0x1838e2,_0x2c0a4a,_0x38266f);}else{let _0x11770c={'error':!0x0};this[_0xfd899d(0x490)](_0x1838e2,_0x2c0a4a,_0x11770c),this[_0xfd899d(0x647)][_0xfd899d(0x484)](this[_0xfd899d(0x6d8)]+'\x20('+this[_0xfd899d(0x635)][_0xfd899d(0x13e)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x152975){let _0x5ad13e={'error':!0x0,'errorLog':_0x152975[_0xfd899d(0x686)]()};this[_0xfd899d(0x490)](_0x1838e2,_0x2c0a4a,_0x5ad13e),this[_0xfd899d(0x647)][_0xfd899d(0x484)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+_0x152975['toString']());}}['replaceVariablesInReplyOptions'](_0x457891,_0x4a2914){const _0x38add6=a0_0x1fdc58;for(let _0x1be19f of _0x457891)_0x1be19f[_0x38add6(0x17d)]&&(_0x1be19f[_0x38add6(0x17d)]=this[_0x38add6(0x4c0)](_0x1be19f[_0x38add6(0x17d)],_0x4a2914)),_0x1be19f['optionDescription']&&(_0x1be19f[_0x38add6(0x452)]=this[_0x38add6(0x4c0)](_0x1be19f[_0x38add6(0x452)],_0x4a2914));}async[a0_0x1fdc58(0x5c7)](_0x5f5869,_0x2fed72,_0xcd5e7b){const _0x3d1d28=a0_0x1fdc58;this['logger'][_0x3d1d28(0x691)](this[_0x3d1d28(0x6d8)]+'\x20('+this[_0x3d1d28(0x635)]['wuid']+'):\x20Enviando\x20enquete');let _0x4d829e=_0x5f5869[_0x3d1d28(0x6a8)][_0x3d1d28(0x430)](_0x3d4362=>_0x3d4362[_0x3d1d28(0x638)]===_0x2fed72[_0x3d1d28(0x46e)]);this['replaceVariablesInReplyOptions'](_0x4d829e,_0x5f5869[_0x3d1d28(0x607)][_0x3d1d28(0x5b0)]);let _0x1fa850=_0x4d829e[_0x3d1d28(0x634)](_0x54c2a8=>_0x54c2a8['option']),_0x3dc0ed={'number':_0xcd5e7b,'options':{'delay':_0x2fed72[_0x3d1d28(0x494)]['delay']},'pollMessage':{'name':_0x2fed72[_0x3d1d28(0x494)][_0x3d1d28(0x5e8)],'selectableCount':0x1,'values':_0x1fa850}};try{let _0x1a03c5=await this[_0x3d1d28(0x6ae)](_0x3dc0ed);if(_0x1a03c5){let _0x557866={'_id':_0x1a03c5[_0x3d1d28(0x267)]['id'],'_fromMe':_0x1a03c5[_0x3d1d28(0x267)]['fromMe'],'_remoteJid':_0x1a03c5[_0x3d1d28(0x267)][_0x3d1d28(0x543)]};this[_0x3d1d28(0x647)][_0x3d1d28(0x691)](this[_0x3d1d28(0x6d8)]+'\x20('+this[_0x3d1d28(0x635)][_0x3d1d28(0x13e)]+_0x3d1d28(0x42e)+_0x2fed72[_0x3d1d28(0x494)][_0x3d1d28(0x5e8)]),_0x5f5869[_0x3d1d28(0x47a)]=_0x1a03c5['key']['id'],_0x5f5869[_0x3d1d28(0x324)]=_0x2fed72[_0x3d1d28(0x494)]['name'],_0x5f5869[_0x3d1d28(0x357)]=_0x4d829e,this[_0x3d1d28(0x647)][_0x3d1d28(0x691)](this[_0x3d1d28(0x6d8)]+'\x20('+this[_0x3d1d28(0x635)]['wuid']+_0x3d1d28(0x6c4)+_0x5f5869['waitingPoll_name']),_0x5f5869['chatLog'][_0x3d1d28(0x579)]=_0x2fed72[_0x3d1d28(0x46e)][_0x3d1d28(0x686)]();let {message_normalized:_0x215543}=this[_0x3d1d28(0x6d1)](_0x1a03c5['message'],J(_0x1a03c5[_0x3d1d28(0x219)]),null);_0x5f5869[_0x3d1d28(0x607)][_0x3d1d28(0x4aa)]=await _0x215543;let _0x4d8728={'messageId':_0x1a03c5[_0x3d1d28(0x267)]['id']},_0xa8cdaf=_0x5f5869[_0x3d1d28(0x607)]['realVariables'];Object[_0x3d1d28(0x236)](_0xa8cdaf,_0x557866),_0x5f5869[_0x3d1d28(0x607)][_0x3d1d28(0x5b0)]=_0xa8cdaf,this[_0x3d1d28(0x490)](_0x5f5869,_0x2fed72,_0x4d8728);}else{let _0x2d79ed={'error':!0x0};this[_0x3d1d28(0x490)](_0x5f5869,_0x2fed72,_0x2d79ed),this['logger'][_0x3d1d28(0x484)](this['instanceName']+'\x20('+this[_0x3d1d28(0x635)][_0x3d1d28(0x13e)]+_0x3d1d28(0x616));}}catch(_0x5dbdbb){let _0x1c9616={'error':!0x0,'errorLog':_0x5dbdbb[_0x3d1d28(0x686)]()};this[_0x3d1d28(0x490)](_0x5f5869,_0x2fed72,_0x1c9616),this[_0x3d1d28(0x647)]['error'](this['instanceName']+'\x20('+this[_0x3d1d28(0x635)][_0x3d1d28(0x13e)]+_0x3d1d28(0x1a8)+_0x5dbdbb[_0x3d1d28(0x686)]());}}async[a0_0x1fdc58(0x3dc)](_0x31a3ff,_0xc1812d,_0x1c5f3d){const _0x574fc3=a0_0x1fdc58;this['logger'][_0x574fc3(0x691)](this[_0x574fc3(0x6d8)]+'\x20('+this['instance']['wuid']+_0x574fc3(0x6a6));let _0x2e3ef0=_0x31a3ff[_0x574fc3(0x607)][_0x574fc3(0x56e)][_0x574fc3(0x192)](_0x13a95b=>_0x13a95b[_0x574fc3(0x638)][_0x574fc3(0x686)]()===_0xc1812d['uazapi']['blockId'][_0x574fc3(0x686)]()),_0x52015b={'id':_0x2e3ef0[_0x574fc3(0x51e)],'remoteJid':_0x2e3ef0[_0x574fc3(0x543)],'fromMe':_0x2e3ef0[_0x574fc3(0x47c)]};try{let _0x2c2818=await this[_0x574fc3(0x161)](_0x52015b);if(_0x2c2818){_0x31a3ff[_0x574fc3(0x607)][_0x574fc3(0x579)]=_0xc1812d[_0x574fc3(0x46e)][_0x574fc3(0x686)]();let {message_normalized:_0x9f1642}=this[_0x574fc3(0x6d1)](_0x2c2818[_0x574fc3(0x219)],J(_0x2c2818['message']),null);_0x31a3ff['chatLog'][_0x574fc3(0x4aa)]=await _0x9f1642;let _0x44b27e={};this[_0x574fc3(0x490)](_0x31a3ff,_0xc1812d,_0x44b27e);}else{let _0x2d12b3={'error':!0x0};this['updateConversation'](_0x31a3ff,_0xc1812d,_0x2d12b3),this['logger']['error'](this[_0x574fc3(0x6d8)]+'\x20('+this[_0x574fc3(0x635)]['wuid']+_0x574fc3(0x5a2));}}catch(_0x22895b){let _0x2611f9={'error':!0x0,'errorLog':_0x22895b[_0x574fc3(0x686)]()};this['updateConversation'](_0x31a3ff,_0xc1812d,_0x2611f9),this[_0x574fc3(0x647)][_0x574fc3(0x484)](this['instanceName']+'\x20('+this[_0x574fc3(0x635)][_0x574fc3(0x13e)]+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+_0x22895b[_0x574fc3(0x686)]());}}async['createFlow'](_0x1a6896){const _0x172742=a0_0x1fdc58;try{if(this[_0x172742(0x647)]['verbose'](this['instanceName']+'\x20('+this[_0x172742(0x635)][_0x172742(0x13e)]+_0x172742(0x22c)),await D[_0x172742(0x5e3)]({'owner':this[_0x172742(0x635)][_0x172742(0x13e)],'name':_0x1a6896[_0x172742(0x5e8)]}))return{'message':_0x172742(0x62a)};_0x1a6896['default']===!0x0&&await D[_0x172742(0x6a0)]({'owner':this[_0x172742(0x635)]['wuid']},{'default':!0x1});let _0x3d93e2=new ye[(_0x172742(0x637))][(_0x172742(0x14f))](),_0x3c1fa0={'_id':_0x3d93e2,'default':!0x0,'title':_0x172742(0x209),'x':0x0,'y':0x0},_0x3ccecf={'_id':new ye['Types'][(_0x172742(0x14f))](),'order':0x1,'groupId':_0x3d93e2[_0x172742(0x686)](),'type':_0x172742(0x2e8)};return await D[_0x172742(0x3ab)]({'owner':this[_0x172742(0x635)][_0x172742(0x13e)],'name':_0x1a6896[_0x172742(0x5e8)],'groups':[_0x3c1fa0],'blocks':[_0x3ccecf],..._0x1a6896});}catch(_0x5df578){throw this[_0x172742(0x647)][_0x172742(0x484)](this[_0x172742(0x6d8)]+'\x20('+this['instance'][_0x172742(0x13e)]+_0x172742(0x36c)+_0x5df578),new m(_0x172742(0x19c)+_0x5df578);}}async['deleteFlow'](_0x53e3ec){const _0x3f84ea=a0_0x1fdc58;try{return this[_0x3f84ea(0x647)][_0x3f84ea(0x691)](this[_0x3f84ea(0x6d8)]+'\x20('+this[_0x3f84ea(0x635)]['wuid']+_0x3f84ea(0x4c3)),await D['deleteOne']({'owner':this[_0x3f84ea(0x635)][_0x3f84ea(0x13e)],'name':_0x53e3ec});}catch(_0x160c0b){return this[_0x3f84ea(0x647)][_0x3f84ea(0x484)](this['instanceName']+'\x20('+this[_0x3f84ea(0x635)]['wuid']+'):\x20Erro\x20ao\x20deletar\x20fluxo\x20'+_0x160c0b),{'message':_0x3f84ea(0x467)+_0x160c0b};}}async['getFlow'](_0x12e9cb){const _0x9bb847=a0_0x1fdc58;try{this[_0x9bb847(0x647)][_0x9bb847(0x691)](this[_0x9bb847(0x6d8)]+'\x20('+this['instance']['wuid']+_0x9bb847(0x42d));let _0x384c88=await D['findOne']({'owner':this['instance'][_0x9bb847(0x13e)],'name':_0x12e9cb});if(!_0x384c88)throw new Error(_0x9bb847(0x256));if(!this[_0x9bb847(0x693)]&&(await this['getAutomateSystem'](),!this[_0x9bb847(0x693)]))return null;let _0x316702=this['AutomateSystem'][_0x9bb847(0x14a)]['map'](_0x3c7822=>_0x3c7822[_0x9bb847(0x5e8)]),_0x260ca3=[_0x9bb847(0x2a8),_0x9bb847(0x20a),_0x9bb847(0x276),_0x9bb847(0x4df),_0x9bb847(0x62e),_0x9bb847(0x5e5),_0x9bb847(0x6a9),_0x9bb847(0x4dc)];return _0x384c88[_0x9bb847(0x67d)]=_0x384c88[_0x9bb847(0x67d)][_0x9bb847(0x430)](_0x48c6dd=>!_0x260ca3[_0x9bb847(0x459)](_0x48c6dd['name'])),_0x260ca3[_0x9bb847(0x44b)](_0x35e378=>{const _0x2ac555=_0x9bb847;_0x384c88[_0x2ac555(0x67d)][_0x2ac555(0x1b4)]({'folder':_0x2ac555(0x1e5),'name':_0x35e378,'value':'','doc':'','leadInfo':!0x0});}),_0x384c88['variables']=_0x384c88[_0x9bb847(0x67d)][_0x9bb847(0x430)](_0x3bb7db=>!_0x316702['includes'](_0x3bb7db[_0x9bb847(0x5e8)])),_0x316702['forEach'](_0x205dd0=>{const _0x58594e=_0x9bb847;_0x384c88[_0x58594e(0x67d)][_0x58594e(0x563)](_0x1b3213=>_0x1b3213['name']===_0x205dd0&&_0x1b3213['leadInfo']===!0x0)||_0x384c88[_0x58594e(0x67d)][_0x58594e(0x1b4)]({'folder':_0x58594e(0x1e5),'name':_0x205dd0,'value':'','doc':'','leadInfo':!0x0});}),await _0x384c88['save'](),_0x384c88;}catch(_0x1c6294){throw this[_0x9bb847(0x647)]['error'](this['instanceName']+'\x20('+this[_0x9bb847(0x635)]['wuid']+_0x9bb847(0x33e)+_0x1c6294),new m(_0x9bb847(0x446)+_0x1c6294);}}async['allFlows'](){const _0x2df94c=a0_0x1fdc58;try{return this[_0x2df94c(0x647)][_0x2df94c(0x691)](this['instanceName']+'\x20('+this[_0x2df94c(0x635)][_0x2df94c(0x13e)]+_0x2df94c(0x3ef)),await D[_0x2df94c(0x192)]({'owner':this['instance'][_0x2df94c(0x13e)]});}catch(_0x8932a0){return this[_0x2df94c(0x647)][_0x2df94c(0x484)](this[_0x2df94c(0x6d8)]+'\x20('+this[_0x2df94c(0x635)][_0x2df94c(0x13e)]+_0x2df94c(0x466)+_0x8932a0),{'message':_0x2df94c(0x596)+_0x8932a0};}}async[a0_0x1fdc58(0x655)](_0x449833){const _0x3b8e9a=a0_0x1fdc58;try{this[_0x3b8e9a(0x647)]['verbose'](this[_0x3b8e9a(0x6d8)]+'\x20('+this['instance'][_0x3b8e9a(0x13e)]+'):\x20Alterando\x20fluxo...');let _0x54b9d1=await D[_0x3b8e9a(0x5e3)]({'owner':this['instance'][_0x3b8e9a(0x13e)],'name':_0x449833[_0x3b8e9a(0x5e8)]});if(!_0x54b9d1)return{'message':_0x3b8e9a(0x442)};if(_0x449833['default']===!0x0&&await D[_0x3b8e9a(0x6a0)]({'owner':this[_0x3b8e9a(0x635)][_0x3b8e9a(0x13e)]},{'default':!0x1}),_0x449833['newName']){if(await D[_0x3b8e9a(0x5e3)]({'owner':this[_0x3b8e9a(0x635)][_0x3b8e9a(0x13e)],'name':_0x449833[_0x3b8e9a(0x431)]}))return{'message':_0x3b8e9a(0x4b1)};_0x449833[_0x3b8e9a(0x5e8)]=_0x449833['newName'],delete _0x449833[_0x3b8e9a(0x431)];}return await D[_0x3b8e9a(0x54a)](_0x54b9d1[_0x3b8e9a(0x46e)],{'$set':_0x449833},{'new':!0x0});}catch(_0x41cc0e){throw this['logger'][_0x3b8e9a(0x484)](this[_0x3b8e9a(0x6d8)]+'\x20('+this[_0x3b8e9a(0x635)]['wuid']+_0x3b8e9a(0x23c)+_0x41cc0e),new m(_0x3b8e9a(0x3f6)+_0x41cc0e);}}async[a0_0x1fdc58(0x2c0)](_0x466b77){const _0x1f1f66=a0_0x1fdc58;try{this[_0x1f1f66(0x647)][_0x1f1f66(0x691)](this[_0x1f1f66(0x6d8)]+'\x20('+this[_0x1f1f66(0x635)][_0x1f1f66(0x13e)]+'):\x20Editando\x20bloco...');let _0x29321a={'owner':this['instance'][_0x1f1f66(0x13e)],'name':_0x466b77['name']},_0x2b0b6c=await D[_0x1f1f66(0x5e3)](_0x29321a);_0x2b0b6c||this[_0x1f1f66(0x506)](_0x1f1f66(0x256));let {block:_0x1a26f3}=_0x466b77;return _0x1a26f3?.[_0x1f1f66(0x2ab)]?this[_0x1f1f66(0x17b)](_0x2b0b6c,_0x466b77):_0x1a26f3[_0x1f1f66(0x46e)]?await this[_0x1f1f66(0x259)](_0x2b0b6c,_0x466b77):this[_0x1f1f66(0x306)](_0x2b0b6c,_0x466b77),await _0x2b0b6c[_0x1f1f66(0x5b1)](),_0x2b0b6c;}catch(_0x4f01e7){this['throwAndLogError']('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x4f01e7);}}[a0_0x1fdc58(0x506)](_0x362c8a){const _0x527ce0=a0_0x1fdc58;throw this['logger'][_0x527ce0(0x484)](this[_0x527ce0(0x6d8)]+'\x20('+this['instance'][_0x527ce0(0x13e)]+_0x527ce0(0x1e8)+_0x362c8a),new m(_0x362c8a);}[a0_0x1fdc58(0x17b)](_0x728cfc,_0x3f7d37){const _0x4bab10=a0_0x1fdc58;let {block:_0x2bcdc4}=_0x3f7d37;if(_0x2bcdc4[_0x4bab10(0x294)]==='start'){this[_0x4bab10(0x506)]('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x2bcdc4[_0x4bab10(0x46e)]){this[_0x4bab10(0x506)]('blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco');return;}let _0x1a0571=_0x728cfc[_0x4bab10(0x52b)][_0x4bab10(0x192)](_0x1ffb08=>_0x1ffb08['_id'][_0x4bab10(0x686)]()===_0x3f7d37[_0x4bab10(0x4c4)][_0x4bab10(0x46e)]['toString']());if(!_0x1a0571){this[_0x4bab10(0x506)](_0x4bab10(0x6c5)+_0x2bcdc4[_0x4bab10(0x46e)]+'\x20não\x20encontrado');return;}_0x728cfc[_0x4bab10(0x52b)]=_0x728cfc[_0x4bab10(0x52b)]['filter'](_0x5205ed=>_0x5205ed[_0x4bab10(0x46e)][_0x4bab10(0x686)]()!==_0x3f7d37[_0x4bab10(0x4c4)]['_id']['toString']()),_0x728cfc['conditions']=_0x728cfc['conditions'][_0x4bab10(0x430)](_0x27e1cb=>_0x27e1cb[_0x4bab10(0x638)]!==_0x2bcdc4['_id'][_0x4bab10(0x686)]()),_0x728cfc[_0x4bab10(0x5e2)]=_0x728cfc[_0x4bab10(0x5e2)][_0x4bab10(0x430)](_0x49bb68=>_0x49bb68[_0x4bab10(0x638)]!==_0x2bcdc4[_0x4bab10(0x46e)][_0x4bab10(0x686)]()),_0x728cfc[_0x4bab10(0x6a8)]=_0x728cfc[_0x4bab10(0x6a8)][_0x4bab10(0x430)](_0x436778=>_0x436778[_0x4bab10(0x638)]!==_0x2bcdc4[_0x4bab10(0x46e)]['toString']()),this[_0x4bab10(0x1df)](_0x728cfc['blocks'],_0x1a0571[_0x4bab10(0x373)]);}async[a0_0x1fdc58(0x259)](_0x238eeb,_0x5d57ff){const _0x142248=a0_0x1fdc58;let _0x53474d=_0x238eeb[_0x142248(0x52b)][_0x142248(0x142)](_0x4c44f0=>_0x4c44f0['_id'][_0x142248(0x686)]()===_0x5d57ff[_0x142248(0x4c4)]['_id'][_0x142248(0x686)]());if(this[_0x142248(0x647)][_0x142248(0x691)](this[_0x142248(0x6d8)]+'\x20('+this[_0x142248(0x635)][_0x142248(0x13e)]+_0x142248(0x562)+_0x53474d),_0x53474d===-0x1){this[_0x142248(0x647)][_0x142248(0x691)]('Bloco\x20com\x20ID\x20'+_0x5d57ff[_0x142248(0x4c4)][_0x142248(0x46e)]+_0x142248(0x4d4));return;}if(_0x238eeb[_0x142248(0x52b)][_0x53474d][_0x142248(0x294)]===_0x142248(0x2e8)){let _0x3ba4da=Object[_0x142248(0x1fa)](_0x5d57ff['block']);if(_0x3ba4da[_0x142248(0x6b4)]>0x2||_0x3ba4da['length']===0x2&&!_0x3ba4da[_0x142248(0x459)](_0x142248(0x5b8))){this[_0x142248(0x506)](_0x142248(0x3ae));return;}}let _0x45c454=_0x238eeb[_0x142248(0x52b)][_0x53474d]['groupId'];for(let _0x318948 in _0x5d57ff['block'])_0x5d57ff[_0x142248(0x4c4)][_0x142248(0x4c5)](_0x318948)&&(_0x238eeb[_0x142248(0x52b)][_0x53474d][_0x318948]=_0x5d57ff[_0x142248(0x4c4)][_0x318948]);if(this[_0x142248(0x647)][_0x142248(0x691)](this[_0x142248(0x6d8)]+'\x20('+this[_0x142248(0x635)][_0x142248(0x13e)]+_0x142248(0x5ac)+JSON['stringify'](_0x238eeb[_0x142248(0x52b)][_0x53474d])),_0x238eeb[_0x142248(0x52b)][_0x53474d][_0x142248(0x548)]&&_0x142248(0x436)in _0x238eeb[_0x142248(0x52b)][_0x53474d][_0x142248(0x548)]){this['logger'][_0x142248(0x691)](this[_0x142248(0x6d8)]+'\x20('+this['instance'][_0x142248(0x13e)]+_0x142248(0x5e1));let _0x28bd65=JSON[_0x142248(0x1b7)](_0x238eeb[_0x142248(0x52b)][_0x53474d][_0x142248(0x548)][_0x142248(0x436)],null,0x1);_0x28bd65[_0x142248(0x6b4)]>0x2&&(_0x28bd65=_0x28bd65['substring'](0x1,_0x28bd65[_0x142248(0x6b4)]-0x1)[_0x142248(0x170)]()),_0x238eeb[_0x142248(0x52b)][_0x53474d][_0x142248(0x548)]['headerString']=_0x28bd65;}if(_0x238eeb[_0x142248(0x52b)][_0x53474d][_0x142248(0x548)]&&_0x142248(0x403)in _0x238eeb[_0x142248(0x52b)][_0x53474d][_0x142248(0x548)]){this[_0x142248(0x647)][_0x142248(0x691)](this[_0x142248(0x6d8)]+'\x20('+this[_0x142248(0x635)][_0x142248(0x13e)]+_0x142248(0x366));let _0x5e1189=JSON[_0x142248(0x1b7)](_0x238eeb[_0x142248(0x52b)][_0x53474d]['apirequest'][_0x142248(0x403)],null,0x1);_0x5e1189['length']>0x2&&(_0x5e1189=_0x5e1189[_0x142248(0x32f)](0x1,_0x5e1189[_0x142248(0x6b4)]-0x1)[_0x142248(0x170)]()),_0x238eeb[_0x142248(0x52b)][_0x53474d][_0x142248(0x548)][_0x142248(0x346)]=_0x5e1189;}let _0xe7a099=_0x238eeb['blocks'][_0x53474d][_0x142248(0x373)];_0x45c454!==_0xe7a099?(this[_0x142248(0x1df)](_0x238eeb['blocks'],_0x45c454),this[_0x142248(0x1df)](_0x238eeb[_0x142248(0x52b)],_0xe7a099)):this[_0x142248(0x1df)](_0x238eeb['blocks'],_0x45c454);}[a0_0x1fdc58(0x306)](_0x52b4d1,_0x348b84){const _0x14aae4=a0_0x1fdc58;if(_0x348b84[_0x14aae4(0x4c4)][_0x14aae4(0x294)]==='start'){this[_0x14aae4(0x506)](_0x14aae4(0x3fa));return;}if(_0x348b84[_0x14aae4(0x4c4)][_0x14aae4(0x548)]&&_0x14aae4(0x436)in _0x348b84['block'][_0x14aae4(0x548)]){this['logger']['verbose'](this[_0x14aae4(0x6d8)]+'\x20('+this[_0x14aae4(0x635)][_0x14aae4(0x13e)]+_0x14aae4(0x5e1));let _0x38334b=JSON['stringify'](_0x348b84[_0x14aae4(0x4c4)][_0x14aae4(0x548)][_0x14aae4(0x436)],null,0x1);_0x38334b[_0x14aae4(0x6b4)]>0x2&&(_0x38334b=_0x38334b[_0x14aae4(0x32f)](0x1,_0x38334b[_0x14aae4(0x6b4)]-0x1)[_0x14aae4(0x170)]()),_0x348b84[_0x14aae4(0x4c4)][_0x14aae4(0x548)][_0x14aae4(0x320)]=_0x38334b;}_0x348b84['block']['apirequest']&&_0x14aae4(0x403)in _0x348b84[_0x14aae4(0x4c4)][_0x14aae4(0x548)]&&(this[_0x14aae4(0x647)]['verbose'](this[_0x14aae4(0x6d8)]+'\x20('+this['instance'][_0x14aae4(0x13e)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x348b84[_0x14aae4(0x4c4)][_0x14aae4(0x548)][_0x14aae4(0x346)]=JSON[_0x14aae4(0x1b7)](_0x348b84[_0x14aae4(0x4c4)][_0x14aae4(0x548)][_0x14aae4(0x403)],null,0x1)[_0x14aae4(0x170)]()),_0x52b4d1['blocks'][_0x14aae4(0x1b4)](_0x348b84[_0x14aae4(0x4c4)]),this['reorderBlocks'](_0x52b4d1[_0x14aae4(0x52b)],_0x348b84[_0x14aae4(0x4c4)][_0x14aae4(0x373)]);}[a0_0x1fdc58(0x1df)](_0x1a200f,_0x5a9459){const _0x46bc43=a0_0x1fdc58;let _0xe6b4dc=_0x1a200f[_0x46bc43(0x430)](_0x2703cc=>_0x2703cc[_0x46bc43(0x373)]===_0x5a9459);_0xe6b4dc[_0x46bc43(0x343)]((_0x453ecd,_0x1560c1)=>_0x453ecd[_0x46bc43(0x2f6)]-_0x1560c1[_0x46bc43(0x2f6)]),_0xe6b4dc[_0x46bc43(0x44b)]((_0x5f19ed,_0x530d33)=>_0x5f19ed[_0x46bc43(0x2f6)]=_0x530d33+0x1);}async[a0_0x1fdc58(0x5c6)](_0x378561){const _0x3660ad=a0_0x1fdc58;try{if(this[_0x3660ad(0x647)]['verbose'](this[_0x3660ad(0x6d8)]+'\x20('+this[_0x3660ad(0x635)]['wuid']+_0x3660ad(0x29f)),!_0x378561||!_0x378561[_0x3660ad(0x5cd)]){this[_0x3660ad(0x506)](_0x3660ad(0x29c));return;}let _0x42fa5e={'owner':this[_0x3660ad(0x635)][_0x3660ad(0x13e)],'name':_0x378561[_0x3660ad(0x5e8)]},_0x3f2706=await D['findOne'](_0x42fa5e);_0x3f2706||this[_0x3660ad(0x506)]('Flow\x20não\x20encontrado');let {replyOption:_0x5d4aba}=_0x378561;return _0x5d4aba?.[_0x3660ad(0x2ab)]?this[_0x3660ad(0x68f)](_0x3f2706,_0x378561):_0x5d4aba[_0x3660ad(0x46e)]?await this[_0x3660ad(0x400)](_0x3f2706,_0x378561):this[_0x3660ad(0x688)](_0x3f2706,_0x378561),await _0x3f2706[_0x3660ad(0x5b1)](),_0x3f2706;}catch(_0xe30019){this['throwAndLogError'](_0x3660ad(0x470)+_0xe30019);}}['deleteReplyOption'](_0x298b6a,_0x2120dd){const _0x1eef32=a0_0x1fdc58;let {replyOption:_0x3a5805}=_0x2120dd;if(!_0x3a5805[_0x1eef32(0x46e)]){this[_0x1eef32(0x506)](_0x1eef32(0x63f));return;}if(!_0x298b6a[_0x1eef32(0x6a8)][_0x1eef32(0x192)](_0x1b3b4a=>_0x1b3b4a['_id'][_0x1eef32(0x686)]()===_0x2120dd[_0x1eef32(0x5cd)][_0x1eef32(0x46e)][_0x1eef32(0x686)]())){this[_0x1eef32(0x506)]('ReplyOption\x20com\x20ID\x20'+_0x3a5805[_0x1eef32(0x46e)]+'\x20não\x20encontrado');return;}_0x298b6a[_0x1eef32(0x6a8)]=_0x298b6a[_0x1eef32(0x6a8)][_0x1eef32(0x430)](_0x50bfda=>_0x50bfda[_0x1eef32(0x46e)][_0x1eef32(0x686)]()!==_0x2120dd[_0x1eef32(0x5cd)][_0x1eef32(0x46e)][_0x1eef32(0x686)]());}async[a0_0x1fdc58(0x400)](_0x22ff7f,_0xf963db){const _0x21c38f=a0_0x1fdc58;let _0x4e047e=_0x22ff7f[_0x21c38f(0x6a8)][_0x21c38f(0x142)](_0x4b82d4=>_0x4b82d4[_0x21c38f(0x46e)]['toString']()===_0xf963db[_0x21c38f(0x5cd)][_0x21c38f(0x46e)][_0x21c38f(0x686)]());if(_0x4e047e===-0x1){this['throwAndLogError']('ReplyOption\x20com\x20ID\x20'+_0xf963db[_0x21c38f(0x5cd)][_0x21c38f(0x46e)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0x57b6a9 in _0xf963db[_0x21c38f(0x5cd)])_0xf963db[_0x21c38f(0x5cd)][_0x21c38f(0x4c5)](_0x57b6a9)&&(_0x22ff7f[_0x21c38f(0x6a8)][_0x4e047e][_0x57b6a9]=_0xf963db[_0x21c38f(0x5cd)][_0x57b6a9]);}[a0_0x1fdc58(0x688)](_0x372700,_0x160158){const _0x28662a=a0_0x1fdc58;_0x372700[_0x28662a(0x6a8)][_0x28662a(0x1b4)](_0x160158[_0x28662a(0x5cd)]);}async[a0_0x1fdc58(0x282)](_0x2aa83e){const _0xd1fc31=a0_0x1fdc58;this['logger'][_0xd1fc31(0x691)](this[_0xd1fc31(0x6d8)]+'\x20('+this[_0xd1fc31(0x635)][_0xd1fc31(0x13e)]+_0xd1fc31(0x26e)+_0x2aa83e);try{this[_0xd1fc31(0x647)][_0xd1fc31(0x691)](this[_0xd1fc31(0x6d8)]+'\x20('+this[_0xd1fc31(0x635)][_0xd1fc31(0x13e)]+_0xd1fc31(0x6ec));let _0x28b400={'owner':this[_0xd1fc31(0x635)][_0xd1fc31(0x13e)],'name':_0x2aa83e['name']},_0x28bedf=await D[_0xd1fc31(0x5e3)](_0x28b400);if(!_0x28bedf)throw new Error('Flow\x20não\x20encontrado');if(_0x2aa83e['group']&&_0x2aa83e[_0xd1fc31(0x1a2)]?.['delete']===!0x0){if(this[_0xd1fc31(0x647)][_0xd1fc31(0x691)](this[_0xd1fc31(0x6d8)]+'\x20('+this[_0xd1fc31(0x635)][_0xd1fc31(0x13e)]+_0xd1fc31(0x372)),_0x2aa83e['group']['default']===!0x0)return{'message':'Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão'};if(_0x28bedf[_0xd1fc31(0x52b)][_0xd1fc31(0x563)](_0x3b3da5=>_0x3b3da5[_0xd1fc31(0x373)][_0xd1fc31(0x686)]()===_0x2aa83e[_0xd1fc31(0x1a2)][_0xd1fc31(0x46e)]))return this[_0xd1fc31(0x647)][_0xd1fc31(0x691)](this['instanceName']+'\x20('+this[_0xd1fc31(0x635)][_0xd1fc31(0x13e)]+_0xd1fc31(0x331)),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x28bedf['groups']=_0x28bedf['groups'][_0xd1fc31(0x430)](_0x250e19=>_0x250e19[_0xd1fc31(0x46e)][_0xd1fc31(0x686)]()!==_0x2aa83e[_0xd1fc31(0x1a2)][_0xd1fc31(0x46e)]);}else{if(_0x2aa83e[_0xd1fc31(0x1a2)]){if(_0x2aa83e[_0xd1fc31(0x1a2)]['default']===!0x0)return{'message':_0xd1fc31(0x2af)};if(_0x2aa83e[_0xd1fc31(0x1a2)]['_id']){let _0x526ba8=_0x28bedf[_0xd1fc31(0x5dc)][_0xd1fc31(0x192)](_0x2c7c2b=>_0x2c7c2b[_0xd1fc31(0x46e)][_0xd1fc31(0x686)]()===_0x2aa83e[_0xd1fc31(0x1a2)]['_id']);_0x526ba8&&(_0x2aa83e[_0xd1fc31(0x1a2)]['x']<0x0&&(_0x2aa83e[_0xd1fc31(0x1a2)]['x']=0x0),_0x2aa83e[_0xd1fc31(0x1a2)]['y']<0x0&&(_0x2aa83e[_0xd1fc31(0x1a2)]['y']=0x0),Object[_0xd1fc31(0x236)](_0x526ba8,_0x2aa83e[_0xd1fc31(0x1a2)]));}else _0x28bedf[_0xd1fc31(0x5dc)][_0xd1fc31(0x1b4)](_0x2aa83e[_0xd1fc31(0x1a2)]);}}return await _0x28bedf[_0xd1fc31(0x5b1)](),_0x28bedf;}catch(_0x38011f){throw this[_0xd1fc31(0x647)][_0xd1fc31(0x484)](this[_0xd1fc31(0x6d8)]+'\x20('+this['instance'][_0xd1fc31(0x13e)]+_0xd1fc31(0x6c8)+_0x38011f),new m(_0xd1fc31(0x2c5)+_0x38011f);}}async[a0_0x1fdc58(0x55f)](_0xf3b8ea){const _0x566b4f=a0_0x1fdc58;try{this[_0x566b4f(0x647)]['verbose'](this[_0x566b4f(0x6d8)]+'\x20('+this['instance']['wuid']+_0x566b4f(0x3e4));let _0x5cb30e={'owner':this[_0x566b4f(0x635)][_0x566b4f(0x13e)],'name':_0xf3b8ea['name']},_0x35f0ac=await D[_0x566b4f(0x5e3)](_0x5cb30e);if(!_0x35f0ac)throw new Error(_0x566b4f(0x256));let _0xb63d90=!0x1;if(_0xf3b8ea[_0x566b4f(0x307)]?.[_0x566b4f(0x2ab)]===!0x0)_0x35f0ac['conditions']=_0x35f0ac[_0x566b4f(0x536)]['filter'](_0x4be8c1=>_0x4be8c1&&_0xf3b8ea[_0x566b4f(0x307)]&&_0x4be8c1[_0x566b4f(0x46e)]&&_0xf3b8ea[_0x566b4f(0x307)]['_id']&&_0x4be8c1[_0x566b4f(0x46e)][_0x566b4f(0x686)]()!==_0xf3b8ea[_0x566b4f(0x307)]['_id'][_0x566b4f(0x686)]()),_0xb63d90=!0x0;else{let _0x3c0564=_0x35f0ac[_0x566b4f(0x536)]['find'](_0xcd4865=>_0xcd4865&&_0xf3b8ea[_0x566b4f(0x307)]&&_0xcd4865[_0x566b4f(0x46e)]&&_0xf3b8ea[_0x566b4f(0x307)][_0x566b4f(0x46e)]&&_0xcd4865[_0x566b4f(0x46e)][_0x566b4f(0x686)]()===_0xf3b8ea[_0x566b4f(0x307)]['_id']['toString']());_0x3c0564?(_0xb63d90=_0x3c0564[_0x566b4f(0x2f6)]!==_0xf3b8ea[_0x566b4f(0x307)][_0x566b4f(0x2f6)],Object[_0x566b4f(0x236)](_0x3c0564,_0xf3b8ea[_0x566b4f(0x307)])):(_0x35f0ac[_0x566b4f(0x536)][_0x566b4f(0x1b4)](_0xf3b8ea[_0x566b4f(0x307)]),_0xb63d90=!0x0);}if(_0xb63d90){_0x35f0ac[_0x566b4f(0x536)][_0x566b4f(0x343)]((_0x3e7c00,_0xd4c8c4)=>_0x3e7c00['order']>_0xd4c8c4['order']?0x1:_0xd4c8c4[_0x566b4f(0x2f6)]>_0x3e7c00[_0x566b4f(0x2f6)]?-0x1:0x0);for(let _0x4fb908=0x0;_0x4fb908<_0x35f0ac[_0x566b4f(0x536)][_0x566b4f(0x6b4)];_0x4fb908++)_0x35f0ac['conditions'][_0x4fb908][_0x566b4f(0x2f6)]=_0x4fb908+0x1;_0x35f0ac[_0x566b4f(0x536)][_0x566b4f(0x6b4)]>0x0&&(_0x35f0ac[_0x566b4f(0x536)][0x0][_0x566b4f(0x314)]=_0x566b4f(0x65c));}return await _0x35f0ac['save'](),_0x35f0ac;}catch(_0x58eca3){throw this[_0x566b4f(0x647)][_0x566b4f(0x484)](this[_0x566b4f(0x6d8)]+'\x20('+this['instance'][_0x566b4f(0x13e)]+_0x566b4f(0x315)+_0x58eca3),new Error(_0x566b4f(0x523)+_0x58eca3);}}async[a0_0x1fdc58(0x56c)](_0x13e375){const _0x456480=a0_0x1fdc58;try{this[_0x456480(0x647)][_0x456480(0x691)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x456480(0x617));let _0x15d2d8={'owner':this[_0x456480(0x635)][_0x456480(0x13e)],'name':_0x13e375[_0x456480(0x5e8)]},_0x1d42ba=await D['findOne'](_0x15d2d8);if(!_0x1d42ba)throw new Error(_0x456480(0x256));let _0x3bc017=!0x1;if(_0x13e375[_0x456480(0x629)]?.[_0x456480(0x2ab)]===!0x0)_0x1d42ba[_0x456480(0x5e2)]=_0x1d42ba[_0x456480(0x5e2)][_0x456480(0x430)](_0x2b7f30=>_0x2b7f30&&_0x13e375[_0x456480(0x629)]&&_0x2b7f30[_0x456480(0x46e)]&&_0x13e375[_0x456480(0x629)][_0x456480(0x46e)]&&_0x2b7f30[_0x456480(0x46e)][_0x456480(0x686)]()!==_0x13e375[_0x456480(0x629)][_0x456480(0x46e)][_0x456480(0x686)]()),_0x3bc017=!0x0;else{let _0x1120a7=_0x1d42ba['varedits'][_0x456480(0x192)](_0x3cf9f4=>_0x3cf9f4&&_0x13e375[_0x456480(0x629)]&&_0x3cf9f4[_0x456480(0x46e)]&&_0x13e375[_0x456480(0x629)]['_id']&&_0x3cf9f4[_0x456480(0x46e)][_0x456480(0x686)]()===_0x13e375['varedit'][_0x456480(0x46e)]['toString']());_0x1120a7?(_0x3bc017=_0x1120a7[_0x456480(0x2f6)]!==_0x13e375[_0x456480(0x629)]['order'],Object[_0x456480(0x236)](_0x1120a7,_0x13e375[_0x456480(0x629)])):(_0x1d42ba[_0x456480(0x5e2)][_0x456480(0x1b4)](_0x13e375[_0x456480(0x629)]),_0x3bc017=!0x0);}if(_0x3bc017){_0x1d42ba['varedits'][_0x456480(0x343)]((_0x277ff8,_0x5e29dd)=>_0x277ff8[_0x456480(0x2f6)]>_0x5e29dd[_0x456480(0x2f6)]?0x1:_0x5e29dd['order']>_0x277ff8[_0x456480(0x2f6)]?-0x1:0x0);for(let _0x571da0=0x0;_0x571da0<_0x1d42ba[_0x456480(0x5e2)]['length'];_0x571da0++)_0x1d42ba[_0x456480(0x5e2)][_0x571da0]['order']=_0x571da0+0x1;}return await _0x1d42ba[_0x456480(0x5b1)](),_0x1d42ba;}catch(_0x3c8fb4){throw this[_0x456480(0x647)]['error'](this[_0x456480(0x6d8)]+'\x20('+this[_0x456480(0x635)][_0x456480(0x13e)]+_0x456480(0x315)+_0x3c8fb4),new m(_0x456480(0x523)+_0x3c8fb4);}}async[a0_0x1fdc58(0x1ce)](_0x49a2b9){const _0x2d722f=a0_0x1fdc58;try{this[_0x2d722f(0x647)][_0x2d722f(0x691)](this['instanceName']+'\x20('+this['instance'][_0x2d722f(0x13e)]+'):\x20Editando\x20variável\x20do\x20fluxo...');let _0x593fab={'owner':this[_0x2d722f(0x635)]['wuid'],'name':_0x49a2b9[_0x2d722f(0x5e8)]},_0x3f16b6=await D[_0x2d722f(0x5e3)](_0x593fab);if(!_0x3f16b6)throw new Error(_0x2d722f(0x256));_0x49a2b9[_0x2d722f(0x522)][_0x2d722f(0x5e8)]=_0x49a2b9['variable']['name'][_0x2d722f(0x170)](),_0x49a2b9[_0x2d722f(0x522)]['name'][_0x2d722f(0x4a1)]('_')&&(_0x49a2b9[_0x2d722f(0x522)][_0x2d722f(0x5e8)]=_0x49a2b9['variable'][_0x2d722f(0x5e8)][_0x2d722f(0x32f)](0x1)),_0x49a2b9[_0x2d722f(0x522)][_0x2d722f(0x5e8)]=_0x49a2b9[_0x2d722f(0x522)][_0x2d722f(0x5e8)]['trim']();let _0x139b3f=_0x3f16b6[_0x2d722f(0x67d)][_0x2d722f(0x192)](_0x41bd5a=>_0x41bd5a['name']===_0x49a2b9[_0x2d722f(0x522)][_0x2d722f(0x5e8)]);if(_0x139b3f?.['leadInfo']===!0x0)throw new Error(_0x2d722f(0x59d));if(_0x49a2b9[_0x2d722f(0x522)]?.[_0x2d722f(0x2ab)]===!0x0){if(!_0x139b3f)return{'message':_0x2d722f(0x25f)};_0x3f16b6[_0x2d722f(0x67d)]=_0x3f16b6[_0x2d722f(0x67d)]['filter'](_0x3901f9=>_0x3901f9[_0x2d722f(0x5e8)]!==_0x49a2b9[_0x2d722f(0x522)][_0x2d722f(0x5e8)]);}else _0x139b3f?Object[_0x2d722f(0x236)](_0x139b3f,_0x49a2b9[_0x2d722f(0x522)]):_0x3f16b6[_0x2d722f(0x67d)][_0x2d722f(0x1b4)](_0x49a2b9[_0x2d722f(0x522)]);return await _0x3f16b6['save'](),_0x3f16b6;}catch(_0x1aecec){throw this[_0x2d722f(0x647)][_0x2d722f(0x484)](this[_0x2d722f(0x6d8)]+'\x20('+this[_0x2d722f(0x635)][_0x2d722f(0x13e)]+'):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20'+_0x1aecec),new m(_0x2d722f(0x159)+_0x1aecec);}}async[a0_0x1fdc58(0x15b)](_0x15be60){const _0x3cb5b2=a0_0x1fdc58;try{if(!this[_0x3cb5b2(0x693)][_0x3cb5b2(0x6d9)][_0x3cb5b2(0x423)])throw new m(_0x3cb5b2(0x68d));this[_0x3cb5b2(0x647)][_0x3cb5b2(0x691)](this[_0x3cb5b2(0x6d8)]+'\x20('+this['instance'][_0x3cb5b2(0x13e)]+_0x3cb5b2(0x30b));let _0x5f1dac=(await this[_0x3cb5b2(0x641)]({'numbers':[_0x15be60[_0x3cb5b2(0x543)]]}))[0x0];if(!_0x5f1dac['exists']&&!(0x0,w[_0x3cb5b2(0x5e7)])(_0x5f1dac[_0x3cb5b2(0x62f)])&&!_0x5f1dac[_0x3cb5b2(0x62f)][_0x3cb5b2(0x459)](_0x3cb5b2(0x396)))throw new m(_0x5f1dac);let _0x409b67=await D[_0x3cb5b2(0x5e3)]({'owner':this[_0x3cb5b2(0x635)][_0x3cb5b2(0x13e)],'name':_0x15be60[_0x3cb5b2(0x5e8)]});if(!_0x409b67)return this[_0x3cb5b2(0x647)][_0x3cb5b2(0x484)](this[_0x3cb5b2(0x6d8)]+'\x20('+this[_0x3cb5b2(0x635)][_0x3cb5b2(0x13e)]+'):\x20Flow\x20não\x20encontrado'),{'message':_0x3cb5b2(0x256)};let _0xe0f46=await this[_0x3cb5b2(0x37f)](_0x409b67,_0x5f1dac[_0x3cb5b2(0x62f)],_0x15be60[_0x3cb5b2(0x31c)]);if(_0xe0f46){this[_0x3cb5b2(0x647)][_0x3cb5b2(0x691)](this[_0x3cb5b2(0x6d8)]+'\x20('+this['instance'][_0x3cb5b2(0x13e)]+_0x3cb5b2(0x555));let _0x375441=await this[_0x3cb5b2(0x186)](_0xe0f46);return _0x375441&&await this[_0x3cb5b2(0x30f)](_0xe0f46,_0x375441,_0xe0f46[_0x3cb5b2(0x543)]),{'message':_0x3cb5b2(0x348)+_0x15be60[_0x3cb5b2(0x543)]};}}catch(_0x50901b){if(this[_0x3cb5b2(0x647)][_0x3cb5b2(0x484)](this['instanceName']+'\x20('+this[_0x3cb5b2(0x635)][_0x3cb5b2(0x13e)]+_0x3cb5b2(0x64f)+_0x50901b),_0x50901b&&_0x50901b[_0x3cb5b2(0x219)]&&Array[_0x3cb5b2(0x69f)](_0x50901b['message'])&&_0x50901b[_0x3cb5b2(0x219)][0x0]){let {jid:_0x2ed33f,exists:_0x4d0a52}=_0x50901b[_0x3cb5b2(0x219)][0x0];}throw new m(_0x3cb5b2(0x2db)+_0x50901b[_0x3cb5b2(0x219)]);}}async[a0_0x1fdc58(0x37f)](_0x8b136,_0x5d7fa0,_0x214cb9){const _0x4a7998=a0_0x1fdc58;this[_0x4a7998(0x647)][_0x4a7998(0x691)](this[_0x4a7998(0x6d8)]+'\x20('+this[_0x4a7998(0x635)][_0x4a7998(0x13e)]+'):\x20Criando\x20nova\x20conversa');try{let _0xab26cc=require(_0x4a7998(0x48a))[_0x4a7998(0x14f)],_0x1beb2a=Date['now'](),_0x31c403=_0x4a7998(0x2e8),_0xe6b60d={},_0x2ba808={},_0x2b0806={..._0x8b136['_doc'],'chatLog':null},_0x50d682=await this[_0x4a7998(0x1e1)](_0x2b0806[_0x4a7998(0x67d)]),_0x4c8bb6=await this[_0x4a7998(0x226)](_0x5d7fa0),_0x24602c={..._0x50d682,..._0x4c8bb6},_0x3aaa3c={'lastReceivedMessage':_0xe6b60d,'lastSendMessage':_0x2ba808,'lastBlockId':_0x31c403,'lastCondition':!0x0,'realVariables':_0x24602c};_0x2b0806[_0x4a7998(0x607)]=_0x3aaa3c,_0x2b0806[_0x4a7998(0x607)][_0x4a7998(0x5b0)]={..._0x24602c,..._0x214cb9},delete _0x2b0806[_0x4a7998(0x46e)],_0x2b0806[_0x4a7998(0x46e)]=new _0xab26cc(),_0x2b0806[_0x4a7998(0x356)]=_0x1beb2a,_0x2b0806[_0x4a7998(0x62e)]=_0x4a7998(0x384),_0x2b0806[_0x4a7998(0x543)]=_0x5d7fa0;let _0x444510=await G[_0x4a7998(0x3ab)](_0x2b0806);return this[_0x4a7998(0x647)][_0x4a7998(0x691)](this[_0x4a7998(0x6d8)]+'\x20('+this['instance'][_0x4a7998(0x13e)]+_0x4a7998(0x57d)),_0x444510?_0x2b0806:null;}catch(_0x28eade){throw this['logger'][_0x4a7998(0x484)](this['instanceName']+'\x20('+this['instance'][_0x4a7998(0x13e)]+_0x4a7998(0x386)+_0x28eade),new m(_0x28eade['message']);}}async['getConversation'](_0x3fc2d0){const _0x45043e=a0_0x1fdc58;try{return this[_0x45043e(0x647)]['verbose'](this['instanceName']+'\x20('+this[_0x45043e(0x635)][_0x45043e(0x13e)]+'):\x20Buscando\x20conversa...'),this[_0x45043e(0x647)][_0x45043e(0x691)](this[_0x45043e(0x6d8)]+'\x20('+this[_0x45043e(0x635)][_0x45043e(0x13e)]+_0x45043e(0x2a2)+{'owner':this[_0x45043e(0x635)][_0x45043e(0x13e)],'_id':_0x3fc2d0}),await G[_0x45043e(0x5e3)]({'owner':this[_0x45043e(0x635)][_0x45043e(0x13e)],'_id':_0x3fc2d0});}catch(_0x135fa5){throw this[_0x45043e(0x647)][_0x45043e(0x484)](this['instanceName']+'\x20('+this[_0x45043e(0x635)][_0x45043e(0x13e)]+_0x45043e(0x168)+_0x135fa5),new m(_0x45043e(0x491)+_0x135fa5[_0x45043e(0x219)]);}}async['fetchConversation'](_0x245921,_0x1c40e2=0x64){const _0x5f64a2=a0_0x1fdc58;try{this[_0x5f64a2(0x647)][_0x5f64a2(0x691)](this[_0x5f64a2(0x6d8)]+'\x20('+this[_0x5f64a2(0x635)]['wuid']+_0x5f64a2(0x600));let _0x3156ea={..._0x245921,'owner':this[_0x5f64a2(0x635)][_0x5f64a2(0x13e)]};return this[_0x5f64a2(0x647)][_0x5f64a2(0x691)](this[_0x5f64a2(0x6d8)]+'\x20('+this['instance'][_0x5f64a2(0x13e)]+_0x5f64a2(0x6fb)+_0x3156ea),await G[_0x5f64a2(0x192)](_0x3156ea)[_0x5f64a2(0x200)](_0x1c40e2)[_0x5f64a2(0x343)]({'lastInteraction':-0x1});}catch(_0x70dfd){throw this[_0x5f64a2(0x647)][_0x5f64a2(0x484)](this['instanceName']+'\x20('+this['instance'][_0x5f64a2(0x13e)]+'):\x20Erro\x20ao\x20buscar\x20conversas\x20'+_0x70dfd),new m(_0x5f64a2(0x5ef)+_0x70dfd[_0x5f64a2(0x219)]);}}async['deleteConversation'](_0xdd9e8d){const _0x5cd6e5=a0_0x1fdc58;try{return this[_0x5cd6e5(0x647)][_0x5cd6e5(0x691)](this['instanceName']+'\x20('+this[_0x5cd6e5(0x635)][_0x5cd6e5(0x13e)]+_0x5cd6e5(0x292)),this[_0x5cd6e5(0x647)][_0x5cd6e5(0x691)](this[_0x5cd6e5(0x6d8)]+'\x20('+this[_0x5cd6e5(0x635)][_0x5cd6e5(0x13e)]+_0x5cd6e5(0x2a2)+{'owner':this[_0x5cd6e5(0x635)]['wuid'],'_id':_0xdd9e8d}),(await G[_0x5cd6e5(0x6bf)]({'owner':this[_0x5cd6e5(0x635)]['wuid'],'_id':_0xdd9e8d}))[_0x5cd6e5(0x371)]===0x0?{'message':_0x5cd6e5(0x3b9)}:{'message':_0x5cd6e5(0x502)};}catch(_0x45cec1){throw this[_0x5cd6e5(0x647)]['error'](this[_0x5cd6e5(0x6d8)]+'\x20('+this[_0x5cd6e5(0x635)]['wuid']+_0x5cd6e5(0x469)+_0x45cec1),new m(_0x5cd6e5(0x6ac)+_0x45cec1['message']);}}async['editConversation'](_0x4e7422){const _0x21628e=a0_0x1fdc58;try{let {_id:_0x2ec440,chatLog:_0x3d1db,status:_0x29f9aa}=_0x4e7422;if(!_0x2ec440)return{'message':_0x21628e(0x5f8)};let _0xe2147d={};if(_0x29f9aa!==void 0x0&&(_0xe2147d[_0x21628e(0x62e)]=_0x29f9aa),Object[_0x21628e(0x1fa)](_0xe2147d)['length']===0x0)return{'message':_0x21628e(0x588)};let _0x5680ce=this[_0x21628e(0x635)][_0x21628e(0x13e)],_0x48eccc=await G[_0x21628e(0x1c5)]({'_id':_0x2ec440,'owner':_0x5680ce},{'$set':_0xe2147d},{'new':!0x0});return _0x48eccc||{'message':_0x21628e(0x262)};}catch(_0x243e62){throw this[_0x21628e(0x647)][_0x21628e(0x484)](this[_0x21628e(0x6d8)]+'\x20('+this[_0x21628e(0x635)][_0x21628e(0x13e)]+_0x21628e(0x6be)+_0x243e62),new m('Erro\x20ao\x20editar\x20a\x20conversa:\x20'+_0x243e62[_0x21628e(0x219)]);}}async[a0_0x1fdc58(0x3cd)](_0x127452){const _0x5b45f8=a0_0x1fdc58;try{_0x127452['id']=this['createJid'](_0x127452['id']);let {id:_0x1bd60e,leadInfo:_0x1b2bd2}=_0x127452;if(!_0x1bd60e)throw new Error('O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.');let _0x360f74=(_0x4f4219,_0x576fd8,_0x2fe96e)=>{const _0x340c24=a0_0x56bb;_0x2fe96e[_0x340c24(0x44b)](_0x4566b4=>{const _0x117baf=_0x340c24;_0x4f4219[_0x4566b4]!==void 0x0&&(_0x576fd8[_0x117baf(0x2b7)+_0x4566b4]=_0x4f4219[_0x4566b4]);});},_0x3f5c3c={};if(_0x360f74(_0x1b2bd2,_0x3f5c3c,[_0x5b45f8(0x2a8),_0x5b45f8(0x20a),'email',_0x5b45f8(0x4df),_0x5b45f8(0x62e),_0x5b45f8(0x5e5),'tags',_0x5b45f8(0x32d),_0x5b45f8(0x6a9)]),Array[_0x5b45f8(0x69f)](_0x1b2bd2[_0x5b45f8(0x14a)])&&(_0x3f5c3c['leadInfo.customFields']=_0x1b2bd2[_0x5b45f8(0x14a)][_0x5b45f8(0x634)](_0xd1a031=>({'_id':_0xd1a031[_0x5b45f8(0x46e)],'value':_0xd1a031[_0x5b45f8(0x568)]}))),_0x127452[_0x5b45f8(0x1e5)][_0x5b45f8(0x5aa)]!==void 0x0&&(_0x3f5c3c[_0x5b45f8(0x4e0)]=Number(_0x127452[_0x5b45f8(0x1e5)][_0x5b45f8(0x5aa)])),_0x127452[_0x5b45f8(0x57c)]!==void 0x0&&(_0x3f5c3c['unreadcount']=Number(_0x127452[_0x5b45f8(0x57c)])),Object['keys'](_0x3f5c3c)[_0x5b45f8(0x6b4)]===0x0)throw new Error(_0x5b45f8(0x588));let _0x4e4e2a=this[_0x5b45f8(0x635)]['wuid'];if(!_0x4e4e2a)throw new Error(_0x5b45f8(0x587));if(!await I[_0x5b45f8(0x5e3)]({'id':_0x127452['id'],'owner':_0x4e4e2a})){let _0x3a3eb4=(await this[_0x5b45f8(0x641)]({'numbers':[_0x127452['id']]}))[0x0];if(!_0x3a3eb4['exists']&&!(0x0,w[_0x5b45f8(0x5e7)])(_0x3a3eb4[_0x5b45f8(0x62f)])&&!_0x3a3eb4['jid'][_0x5b45f8(0x459)](_0x5b45f8(0x396)))throw new m(_0x3a3eb4);_0x127452['id']=_0x3a3eb4[_0x5b45f8(0x62f)];}let _0x388c9c=await I[_0x5b45f8(0x1c5)]({'id':_0x127452['id'],'owner':_0x4e4e2a},{'$set':_0x3f5c3c},{'new':!0x0,'upsert':!0x0});return _0x388c9c&&H(this[_0x5b45f8(0x6d8)],'chats',{'chat':_0x388c9c}),_0x388c9c?(this[_0x5b45f8(0x647)][_0x5b45f8(0x691)](this['instanceName']+'\x20('+this[_0x5b45f8(0x635)][_0x5b45f8(0x13e)]+_0x5b45f8(0x1e8)+_0x388c9c),_0x388c9c):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x3b339d){throw this[_0x5b45f8(0x647)][_0x5b45f8(0x484)](this['instanceName']+'\x20('+this['instance'][_0x5b45f8(0x13e)]+_0x5b45f8(0x6e3)+_0x3b339d),new m(_0x5b45f8(0x261)+_0x3b339d[_0x5b45f8(0x219)]);}}async[a0_0x1fdc58(0x6b5)](_0x598a46){const _0x3e9d12=a0_0x1fdc58;let _0xc2917=this[_0x3e9d12(0x635)][_0x3e9d12(0x13e)];try{let _0x15d3eb=await ae[_0x3e9d12(0x473)](_0xc2917);_0x15d3eb||(_0x15d3eb=new ae({'_id':_0xc2917}),await _0x15d3eb[_0x3e9d12(0x5b1)]());let _0x291475=_0x598a46[_0x3e9d12(0x46e)]?_0x15d3eb[_0x3e9d12(0x188)][_0x3e9d12(0x142)](_0x212608=>_0x212608[_0x3e9d12(0x46e)]===_0x598a46[_0x3e9d12(0x46e)]):-0x1;if(_0x598a46[_0x3e9d12(0x2ab)]&&_0x291475>-0x1)_0x15d3eb[_0x3e9d12(0x188)][_0x3e9d12(0x1c4)](_0x291475,0x1);else{if(_0x291475>-0x1){let _0x2d10c4=_0x15d3eb[_0x3e9d12(0x188)][_0x291475];_0x598a46[_0x3e9d12(0x27d)]&&(_0x2d10c4[_0x3e9d12(0x27d)]=_0x598a46['fone']),_0x598a46[_0x3e9d12(0x5e8)]&&(_0x2d10c4[_0x3e9d12(0x5e8)]=_0x598a46[_0x3e9d12(0x5e8)]),_0x598a46[_0x3e9d12(0x276)]&&(_0x2d10c4['email']=_0x598a46[_0x3e9d12(0x276)]),_0x598a46[_0x3e9d12(0x544)]&&(_0x2d10c4[_0x3e9d12(0x544)]=_0x598a46[_0x3e9d12(0x544)]);}else _0x15d3eb['agents'][_0x3e9d12(0x1b4)]({'_id':_0x598a46['_id']||new ye['default'][(_0x3e9d12(0x637))][(_0x3e9d12(0x14f))]()[_0x3e9d12(0x686)](),'fone':_0x598a46[_0x3e9d12(0x27d)],'name':_0x598a46['name'],'email':_0x598a46[_0x3e9d12(0x276)],'role':_0x598a46[_0x3e9d12(0x544)]});}let _0x5cf457=await _0x15d3eb['save']();return this[_0x3e9d12(0x693)]=_0x5cf457,this['logger'][_0x3e9d12(0x691)](this[_0x3e9d12(0x6d8)]+'\x20('+this[_0x3e9d12(0x635)][_0x3e9d12(0x13e)]+_0x3e9d12(0x33c)),this['logger'][_0x3e9d12(0x691)](this['instanceName']+'\x20('+this[_0x3e9d12(0x635)][_0x3e9d12(0x13e)]+_0x3e9d12(0x1e8)+this[_0x3e9d12(0x693)]),_0x5cf457;}catch(_0x420ad1){throw this['logger'][_0x3e9d12(0x484)](this[_0x3e9d12(0x6d8)]+'\x20('+this['instance'][_0x3e9d12(0x13e)]+_0x3e9d12(0x2e1)+_0x420ad1),new m(_0x3e9d12(0x4af)+_0x420ad1[_0x3e9d12(0x219)]);}}async[a0_0x1fdc58(0x26f)](_0x4b4326){const _0x56c4eb=a0_0x1fdc58;let _0x6f5c24=this[_0x56c4eb(0x635)][_0x56c4eb(0x13e)];try{let _0x2ef5b4=await ae[_0x56c4eb(0x473)](_0x6f5c24);_0x2ef5b4||(_0x2ef5b4=new ae({'_id':_0x6f5c24}),await _0x2ef5b4[_0x56c4eb(0x5b1)]());let _0x422a4d=_0x4b4326[_0x56c4eb(0x46e)]?_0x2ef5b4[_0x56c4eb(0x14a)][_0x56c4eb(0x142)](_0x3bfe6a=>_0x3bfe6a[_0x56c4eb(0x46e)]===_0x4b4326[_0x56c4eb(0x46e)]):-0x1,_0x118b57=!0x1,_0x16c87b=_0x2ef5b4[_0x56c4eb(0x14a)]['some'](_0x2ab3e9=>_0x2ab3e9[_0x56c4eb(0x2f6)]===_0x4b4326[_0x56c4eb(0x2f6)]);if(_0x4b4326[_0x56c4eb(0x2ab)]&&_0x422a4d>-0x1)_0x2ef5b4[_0x56c4eb(0x14a)][_0x56c4eb(0x1c4)](_0x422a4d,0x1),_0x118b57=!0x0;else{if(_0x422a4d>-0x1){if(_0x2ef5b4[_0x56c4eb(0x14a)]['some'](_0x555b44=>_0x555b44[_0x56c4eb(0x5e8)]===_0x4b4326['name']&&_0x555b44[_0x56c4eb(0x46e)]!==_0x4b4326[_0x56c4eb(0x46e)]))throw new Error(_0x56c4eb(0x337));let _0x3f3508=_0x2ef5b4[_0x56c4eb(0x14a)][_0x422a4d];_0x4b4326[_0x56c4eb(0x2f6)]&&(_0x16c87b||!Number['isInteger'](_0x4b4326['order']))&&(_0x3f3508['order']=_0x4b4326['order'],_0x118b57=!0x0),_0x4b4326[_0x56c4eb(0x5e8)]&&(_0x3f3508[_0x56c4eb(0x5e8)]=_0x4b4326[_0x56c4eb(0x5e8)]);}else{if(_0x2ef5b4['customFields'][_0x56c4eb(0x563)](_0x1f968a=>_0x1f968a[_0x56c4eb(0x5e8)]===_0x4b4326[_0x56c4eb(0x5e8)]&&_0x1f968a[_0x56c4eb(0x46e)]!==_0x4b4326[_0x56c4eb(0x46e)]))throw new Error(_0x56c4eb(0x337));_0x2ef5b4[_0x56c4eb(0x14a)]['push']({'_id':_0x4b4326[_0x56c4eb(0x46e)]||new ye[(_0x56c4eb(0x4ab))][(_0x56c4eb(0x637))][(_0x56c4eb(0x14f))]()[_0x56c4eb(0x686)](),'order':_0x4b4326['order'],'name':_0x4b4326['name']}),_0x118b57=!0x0;}}if(_0x118b57){_0x2ef5b4[_0x56c4eb(0x14a)][_0x56c4eb(0x343)]((_0xee3e7d,_0x4a4006)=>_0xee3e7d[_0x56c4eb(0x2f6)]>_0x4a4006[_0x56c4eb(0x2f6)]?0x1:_0x4a4006[_0x56c4eb(0x2f6)]>_0xee3e7d[_0x56c4eb(0x2f6)]?-0x1:0x0);for(let _0x51a6c=0x0;_0x51a6c<_0x2ef5b4['customFields'][_0x56c4eb(0x6b4)];_0x51a6c++)_0x2ef5b4['customFields'][_0x51a6c][_0x56c4eb(0x2f6)]=_0x51a6c+0x1;}let _0x2098f6=await _0x2ef5b4[_0x56c4eb(0x5b1)]();return this['AutomateSystem']=_0x2098f6,this[_0x56c4eb(0x647)]['verbose'](this['instanceName']+'\x20('+this[_0x56c4eb(0x635)][_0x56c4eb(0x13e)]+_0x56c4eb(0x672)),this[_0x56c4eb(0x647)][_0x56c4eb(0x691)](this[_0x56c4eb(0x6d8)]+'\x20('+this[_0x56c4eb(0x635)][_0x56c4eb(0x13e)]+_0x56c4eb(0x1e8)+this['AutomateSystem']),_0x2098f6;}catch(_0x5edf35){throw this['logger'][_0x56c4eb(0x484)](this['instanceName']+'\x20('+this[_0x56c4eb(0x635)]['wuid']+'):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+_0x5edf35),new m(_0x56c4eb(0x2cc)+_0x5edf35[_0x56c4eb(0x219)]);}}async[a0_0x1fdc58(0x63c)](_0x5c3f0b){const _0x7d74b5=a0_0x1fdc58;let _0x1f5d67=this[_0x7d74b5(0x635)][_0x7d74b5(0x13e)];try{let _0x560999=await ae['findById'](_0x1f5d67);_0x560999||(_0x560999=new ae({'_id':_0x1f5d67}),await _0x560999[_0x7d74b5(0x5b1)]()),_0x560999[_0x7d74b5(0x6d9)][_0x7d74b5(0x423)]=_0x5c3f0b?.[_0x7d74b5(0x423)]!==void 0x0?_0x5c3f0b?.[_0x7d74b5(0x423)]:_0x560999[_0x7d74b5(0x6d9)][_0x7d74b5(0x423)],_0x560999[_0x7d74b5(0x6d9)]['ignoreGroups']=_0x5c3f0b?.[_0x7d74b5(0x218)]!==void 0x0?_0x5c3f0b?.[_0x7d74b5(0x218)]:_0x560999[_0x7d74b5(0x6d9)][_0x7d74b5(0x218)],_0x560999[_0x7d74b5(0x6d9)]['prefixCommand']=_0x5c3f0b?.[_0x7d74b5(0x5b3)]??_0x560999[_0x7d74b5(0x6d9)][_0x7d74b5(0x5b3)],_0x560999[_0x7d74b5(0x6d9)]['stopConversation']=_0x5c3f0b?.[_0x7d74b5(0x3e3)]??_0x560999[_0x7d74b5(0x6d9)]['stopConversation'],_0x560999[_0x7d74b5(0x6d9)]['stopMinutes']=_0x5c3f0b?.[_0x7d74b5(0x2cb)]??_0x560999[_0x7d74b5(0x6d9)][_0x7d74b5(0x2cb)];let _0x5b2bc6=await _0x560999[_0x7d74b5(0x5b1)]();return this[_0x7d74b5(0x693)]=_0x5b2bc6,this[_0x7d74b5(0x647)][_0x7d74b5(0x691)](this['instanceName']+'\x20('+this[_0x7d74b5(0x635)][_0x7d74b5(0x13e)]+_0x7d74b5(0x33c)),this[_0x7d74b5(0x647)][_0x7d74b5(0x691)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x7d74b5(0x1e8)+this[_0x7d74b5(0x693)]),_0x5b2bc6;}catch(_0x57a9f8){throw this[_0x7d74b5(0x647)][_0x7d74b5(0x484)](this[_0x7d74b5(0x6d8)]+'\x20('+this[_0x7d74b5(0x635)][_0x7d74b5(0x13e)]+'):\x20Erro\x20ao\x20editar\x20agentes:\x20'+_0x57a9f8),new m(_0x7d74b5(0x4af)+_0x57a9f8[_0x7d74b5(0x219)]);}}async[a0_0x1fdc58(0x570)](){const _0x3b67c9=a0_0x1fdc58;let _0x47dc39=this[_0x3b67c9(0x635)][_0x3b67c9(0x13e)];try{let _0x2d4c88=await ae['findById'](_0x47dc39);return _0x2d4c88||(_0x2d4c88=new ae({'_id':_0x47dc39})),_0x2d4c88[_0x3b67c9(0x6d9)]=_0x2d4c88['flowConfig']||{},_0x2d4c88[_0x3b67c9(0x6d9)][_0x3b67c9(0x423)]===void 0x0&&(_0x2d4c88[_0x3b67c9(0x6d9)][_0x3b67c9(0x423)]=!0x1),_0x2d4c88['flowConfig'][_0x3b67c9(0x218)]===void 0x0&&(_0x2d4c88[_0x3b67c9(0x6d9)][_0x3b67c9(0x218)]=!0x0),_0x2d4c88['flowConfig'][_0x3b67c9(0x5b3)]===void 0x0&&(_0x2d4c88[_0x3b67c9(0x6d9)][_0x3b67c9(0x5b3)]='!'),_0x2d4c88[_0x3b67c9(0x6d9)]['stopConversation']===void 0x0&&(_0x2d4c88[_0x3b67c9(0x6d9)][_0x3b67c9(0x3e3)]=_0x3b67c9(0x62d)),_0x2d4c88[_0x3b67c9(0x6d9)][_0x3b67c9(0x2cb)]===void 0x0&&(_0x2d4c88['flowConfig'][_0x3b67c9(0x2cb)]=0x14),await _0x2d4c88['save'](),this[_0x3b67c9(0x693)]=_0x2d4c88,this[_0x3b67c9(0x647)][_0x3b67c9(0x691)](this[_0x3b67c9(0x6d8)]+'\x20('+this[_0x3b67c9(0x635)][_0x3b67c9(0x13e)]+_0x3b67c9(0x624)),this['logger']['verbose'](this[_0x3b67c9(0x693)]),_0x2d4c88;}catch(_0x4fa726){throw this[_0x3b67c9(0x647)]['error'](this[_0x3b67c9(0x6d8)]+'\x20('+this[_0x3b67c9(0x635)][_0x3b67c9(0x13e)]+_0x3b67c9(0x224)+_0x4fa726[_0x3b67c9(0x219)]),new m(_0x3b67c9(0x3ed)+_0x4fa726[_0x3b67c9(0x219)]);}}async[a0_0x1fdc58(0x30a)](){const _0x8e7887=a0_0x1fdc58;let _0xa355d3=()=>{const _0x2cbf58=a0_0x56bb;this['logger'][_0x2cbf58(0x691)](this['instanceName']+'\x20('+this[_0x2cbf58(0x635)]['wuid']+'):\x20this.processingScheduleMessageId:\x20'+this[_0x2cbf58(0x31a)]+_0x2cbf58(0x1c9));},_0x503076=async()=>{const _0x3a61e5=a0_0x56bb;this[_0x3a61e5(0x647)][_0x3a61e5(0x691)](this['instanceName']+'\x20('+this[_0x3a61e5(0x635)][_0x3a61e5(0x13e)]+_0x3a61e5(0x323));let _0x5b5dc9=Date[_0x3a61e5(0x2f7)]()-0xc*0x3c*0x3c*0x3e8;return await k[_0x3a61e5(0x192)]({'owner':this[_0x3a61e5(0x635)][_0x3a61e5(0x13e)],'status':{'$in':['scheduled','sending']},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x5b5dc9}},{'when':0x0}]});},_0x546f7a=async _0x31224c=>{const _0x5d5a08=a0_0x56bb;for(let _0x558132 of _0x31224c){if(!await k['findOneAndUpdate']({'_id':_0x558132[_0x5d5a08(0x46e)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date['now']()-0x1770}}]},{'$set':{'startSend':Date[_0x5d5a08(0x2f7)]()}}))return;if(!this[_0x5d5a08(0x557)]){this[_0x5d5a08(0x647)][_0x5d5a08(0x691)](this[_0x5d5a08(0x6d8)]+'\x20('+this[_0x5d5a08(0x635)][_0x5d5a08(0x13e)]+_0x5d5a08(0x2ce));break;}(!_0x558132['remoteJidsRemaining']||_0x558132[_0x5d5a08(0x1c2)][_0x5d5a08(0x6b4)]===0x0)&&(_0x558132=await k[_0x5d5a08(0x54a)](_0x558132['_id'],{'$set':{'status':_0x5d5a08(0x4b2),'remoteJidsRemaining':[..._0x558132[_0x5d5a08(0x1c0)]]}},{'new':!0x0}));for(let _0x396802 of _0x558132[_0x5d5a08(0x1c2)]){if(this[_0x5d5a08(0x48e)]=Date[_0x5d5a08(0x2f7)](),_0x558132['messagesSend'][_0x5d5a08(0x563)](_0x243705=>_0x243705[_0x5d5a08(0x543)]===_0x396802)){this[_0x5d5a08(0x647)][_0x5d5a08(0x691)](this[_0x5d5a08(0x6d8)]+'\x20('+this['instance'][_0x5d5a08(0x13e)]+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x396802+'.\x20Pulando.');continue;}try{let _0x1844e0=await this['SendScheduleMessage'](_0x396802,_0x558132),_0x3b7722={'remoteJid':_0x396802,'error':_0x1844e0[_0x5d5a08(0x484)],'id':_0x1844e0['id']||null,'error_log':_0x1844e0['error_log']||null,'log_timestamp':Date[_0x5d5a08(0x2f7)]()};if((await k[_0x5d5a08(0x54a)](_0x558132[_0x5d5a08(0x46e)],{'$push':{'messagesSend':_0x3b7722},'$pull':{'remoteJidsRemaining':_0x396802}},{'new':!0x0}))[_0x5d5a08(0x62e)]===_0x5d5a08(0x422)){this[_0x5d5a08(0x647)][_0x5d5a08(0x691)](this[_0x5d5a08(0x6d8)]+'\x20('+this['instance'][_0x5d5a08(0x13e)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x558132[_0x5d5a08(0x46e)]+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}if(!this['isConnected']){this[_0x5d5a08(0x647)][_0x5d5a08(0x691)](this[_0x5d5a08(0x6d8)]+'\x20('+this[_0x5d5a08(0x635)]['wuid']+_0x5d5a08(0x4d9));break;}if(!this[_0x5d5a08(0x31a)]){this[_0x5d5a08(0x647)][_0x5d5a08(0x691)](this[_0x5d5a08(0x6d8)]+'\x20('+this[_0x5d5a08(0x635)]['wuid']+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x558132[_0x5d5a08(0x46e)]+_0x5d5a08(0x146));break;}let _0x172d4e=this[_0x5d5a08(0x432)](_0x558132[_0x5d5a08(0x457)],_0x558132['delaySecMax']);await this['sleep'](_0x172d4e);}catch(_0x1772b5){this['logger'][_0x5d5a08(0x484)](this['instanceName']+'\x20('+this[_0x5d5a08(0x635)]['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20'+_0x396802+':\x20'+_0x1772b5[_0x5d5a08(0x219)]);let _0x4fd43c={'remoteJid':_0x396802,'status':_0x5d5a08(0x484),'timestamp':Date['now'](),'error':_0x1772b5[_0x5d5a08(0x219)]};await k[_0x5d5a08(0x54a)](_0x558132[_0x5d5a08(0x46e)],{'$push':{'messagesSend':_0x4fd43c},'$pull':{'remoteJidsRemaining':_0x396802}},{'new':!0x0});}}let _0x339887=await k['findById'](_0x558132[_0x5d5a08(0x46e)]);_0x339887[_0x5d5a08(0x1c2)][_0x5d5a08(0x6b4)]===0x0&&_0x339887['status']!==_0x5d5a08(0x422)&&await k[_0x5d5a08(0x54a)](_0x558132['_id'],{'$set':{'status':'done'}},{'new':!0x0}),await new Promise(_0x2db131=>setTimeout(_0x2db131,0x1388));}},_0x30fcef=async()=>{const _0x4e18b3=a0_0x56bb;let _0x37cb41=await k[_0x4e18b3(0x5e3)]({'owner':this[_0x4e18b3(0x635)][_0x4e18b3(0x13e)],'status':_0x4e18b3(0x517),'when':{'$gt':Date['now']()}})[_0x4e18b3(0x343)]({'when':0x1});_0x37cb41&&_0x37cb41['when']-Date[_0x4e18b3(0x2f7)]()<=0x5265c00?this['delayMessage']=_0x37cb41[_0x4e18b3(0x53f)]-Date['now']():this[_0x4e18b3(0x5b9)]=(0x3c+Math['floor'](Math[_0x4e18b3(0x2d1)]()*0x3c))*0x3c*0x3e8,this['delayMessage']=Math[_0x4e18b3(0x516)](this[_0x4e18b3(0x5b9)],0x7d0);let _0x32e609=Math[_0x4e18b3(0x377)](this[_0x4e18b3(0x5b9)]/0xea60);if(_0x37cb41){let _0x2349af=new Date(_0x37cb41[_0x4e18b3(0x53f)])[_0x4e18b3(0x223)]();this[_0x4e18b3(0x647)][_0x4e18b3(0x691)](this[_0x4e18b3(0x6d8)]+'\x20('+this[_0x4e18b3(0x635)][_0x4e18b3(0x13e)]+_0x4e18b3(0x627)+_0x2349af+_0x4e18b3(0x6e4)+_0x32e609+_0x4e18b3(0x3a1));}else this[_0x4e18b3(0x647)][_0x4e18b3(0x691)](this[_0x4e18b3(0x6d8)]+'\x20('+this[_0x4e18b3(0x635)]['wuid']+_0x4e18b3(0x4b7)+_0x32e609+'\x20minutos');setTimeout(()=>this[_0x4e18b3(0x30a)](),this[_0x4e18b3(0x5b9)]);};if(this[_0x8e7887(0x31a)]&&Date['now']()-this[_0x8e7887(0x48e)]<0x1d4c0){_0xa355d3();return;}try{let _0x4fc4ab=await _0x503076();_0x4fc4ab[_0x8e7887(0x6b4)]===0x0?this['logger'][_0x8e7887(0x691)](this[_0x8e7887(0x6d8)]+'\x20('+this[_0x8e7887(0x635)][_0x8e7887(0x13e)]+_0x8e7887(0x4c9)):(this['processingScheduleMessageId']=_0x4fc4ab[0x0]['_id'],await _0x546f7a(_0x4fc4ab)),await _0x30fcef(),this['processingScheduleMessageId']=null;}catch(_0xd13e9a){this[_0x8e7887(0x647)][_0x8e7887(0x484)](_0x8e7887(0x3bd)+_0xd13e9a[_0x8e7887(0x219)]);}}['getDelay'](_0x55f2aa,_0x27ae27){const _0x722888=a0_0x1fdc58;return _0x55f2aa=Math['max'](0.5,_0x55f2aa),_0x27ae27=Math['max'](0x3,_0x27ae27),Math[_0x722888(0x301)](Math[_0x722888(0x2d1)]()*(_0x27ae27-_0x55f2aa+0x1)+_0x55f2aa)*0x3e8;}[a0_0x1fdc58(0x5ba)](_0x3b785a){return new Promise(_0xa35e54=>setTimeout(_0xa35e54,_0x3b785a));}async[a0_0x1fdc58(0x226)](_0x2027bf){const _0x2ba94e=a0_0x1fdc58;if(!this[_0x2ba94e(0x693)]&&(await this[_0x2ba94e(0x570)](),!this['AutomateSystem']))return null;_0x2027bf=this[_0x2ba94e(0x24a)](_0x2027bf);let _0x2f3933=await I[_0x2ba94e(0x5e3)]({'id':_0x2027bf,'owner':this[_0x2ba94e(0x635)][_0x2ba94e(0x13e)]}),_0x1c2e02={};if(_0x2f3933&&_0x2f3933[_0x2ba94e(0x1e5)]){let _0x31ddc2=_0x2f3933[_0x2ba94e(0x1e5)];typeof _0x31ddc2[_0x2ba94e(0x2a8)]=='string'&&(_0x1c2e02[_0x2ba94e(0x2a8)]=_0x31ddc2['nome']),typeof _0x31ddc2['nomecompleto']==_0x2ba94e(0x25c)&&(_0x1c2e02[_0x2ba94e(0x20a)]=_0x31ddc2[_0x2ba94e(0x20a)]),typeof _0x31ddc2[_0x2ba94e(0x276)]=='string'&&(_0x1c2e02[_0x2ba94e(0x276)]=_0x31ddc2[_0x2ba94e(0x276)]),typeof _0x31ddc2[_0x2ba94e(0x4df)]==_0x2ba94e(0x25c)&&(_0x1c2e02['cpf']=_0x31ddc2[_0x2ba94e(0x4df)]),typeof _0x31ddc2[_0x2ba94e(0x62e)]==_0x2ba94e(0x25c)&&(_0x1c2e02[_0x2ba94e(0x62e)]=_0x31ddc2[_0x2ba94e(0x62e)]),typeof _0x31ddc2[_0x2ba94e(0x5e5)]==_0x2ba94e(0x25c)&&(_0x1c2e02[_0x2ba94e(0x5e5)]=_0x31ddc2[_0x2ba94e(0x5e5)]),typeof _0x31ddc2[_0x2ba94e(0x6a9)]=='string'&&(_0x1c2e02['responsavelid']=_0x31ddc2[_0x2ba94e(0x6a9)]),Array[_0x2ba94e(0x69f)](_0x31ddc2['tags'])&&(_0x1c2e02['tags']=_0x31ddc2[_0x2ba94e(0x4dc)][_0x2ba94e(0x567)](',\x20'));}return _0x2f3933&&_0x2f3933[_0x2ba94e(0x1e5)]&&_0x2f3933['leadInfo'][_0x2ba94e(0x14a)]&&_0x2f3933[_0x2ba94e(0x1e5)][_0x2ba94e(0x14a)][_0x2ba94e(0x44b)](_0x3fd561=>{const _0x2d4d50=_0x2ba94e;let _0x1bdc16=this[_0x2d4d50(0x693)][_0x2d4d50(0x14a)][_0x2d4d50(0x192)](_0x366cd1=>_0x366cd1['_id']===_0x3fd561[_0x2d4d50(0x46e)]);_0x1bdc16&&(_0x1c2e02[_0x1bdc16[_0x2d4d50(0x5e8)]]=_0x3fd561[_0x2d4d50(0x568)]);}),_0x1c2e02;}async[a0_0x1fdc58(0x476)](_0x14dd93,_0xc5f737){const _0x3f6e97=a0_0x1fdc58;let _0x5d8546=await this[_0x3f6e97(0x226)](_0xc5f737);return this['replaceVariables'](_0x14dd93,_0x5d8546);}async[a0_0x1fdc58(0x5e6)](_0x4a0077){const _0x16c30c=a0_0x1fdc58;try{if(this[_0x16c30c(0x647)][_0x16c30c(0x691)](this[_0x16c30c(0x6d8)]+'\x20('+this[_0x16c30c(0x635)][_0x16c30c(0x13e)]+_0x16c30c(0x211)),_0x4a0077['delete']&&_0x4a0077[_0x16c30c(0x46e)]){if(this['processingScheduleMessageId']===_0x4a0077[_0x16c30c(0x46e)][_0x16c30c(0x686)]())throw new Error(_0x16c30c(0x581));let _0x283358=await k[_0x16c30c(0x1d7)](_0x4a0077['_id']);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x283358;}let _0x4cded2;if(_0x4a0077[_0x16c30c(0x46e)]&&(_0x4cded2=await k[_0x16c30c(0x5e3)]({'owner':this[_0x16c30c(0x635)][_0x16c30c(0x13e)],'_id':_0x4a0077[_0x16c30c(0x46e)]})),_0x4cded2){let _0x369973=_0x4a0077;this[_0x16c30c(0x31a)]===_0x4cded2[_0x16c30c(0x46e)][_0x16c30c(0x686)]()&&(_0x369973={'status':_0x4a0077[_0x16c30c(0x62e)],'_id':_0x4a0077['_id']});let _0x4b17f6=await k[_0x16c30c(0x54a)](_0x4cded2[_0x16c30c(0x46e)],{'$set':_0x369973},{'new':!0x0});return setTimeout(()=>this[_0x16c30c(0x30a)](),0x7d0),_0x4b17f6;}else{_0x4a0077['owner']=this[_0x16c30c(0x635)][_0x16c30c(0x13e)];let _0x303614=await new k(_0x4a0077)[_0x16c30c(0x5b1)]();return setTimeout(()=>this[_0x16c30c(0x30a)](),0x7d0),_0x303614;}}catch(_0x2bae22){throw this['logger'][_0x16c30c(0x484)](this['instanceName']+'\x20('+this['instance'][_0x16c30c(0x13e)]+_0x16c30c(0x216)+_0x2bae22),new m(_0x16c30c(0x6bc)+_0x2bae22[_0x16c30c(0x219)]);}}async['getScheduleMessage'](){const _0x2349e3=a0_0x1fdc58;try{return await k['find']({'owner':this['instance']['wuid']})[_0x2349e3(0x343)]({'when':0x1});}catch(_0x3ffe9a){throw this[_0x2349e3(0x647)][_0x2349e3(0x484)](this[_0x2349e3(0x6d8)]+'\x20('+this[_0x2349e3(0x635)][_0x2349e3(0x13e)]+_0x2349e3(0x4a6)+_0x3ffe9a),new m(_0x2349e3(0x6bc)+_0x3ffe9a[_0x2349e3(0x219)]);}}async['deleteDoneMessages'](){const _0x491b7d=a0_0x1fdc58;try{return await k[_0x491b7d(0x417)]({'owner':this['instance'][_0x491b7d(0x13e)],'status':_0x491b7d(0x246)}),this['logger']['verbose'](this[_0x491b7d(0x6d8)]+'\x20('+this[_0x491b7d(0x635)][_0x491b7d(0x13e)]+_0x491b7d(0x618)),this[_0x491b7d(0x3f2)]();}catch(_0x4a6572){throw this[_0x491b7d(0x647)]['error'](this[_0x491b7d(0x6d8)]+'\x20('+this['instance'][_0x491b7d(0x13e)]+_0x491b7d(0x3da)+_0x4a6572),new m('Erro:'+_0x4a6572['message']);}}async['SendScheduleMessage'](_0xa057f1,_0x33e317){const _0x1b83d6=a0_0x1fdc58;try{switch(_0x33e317[_0x1b83d6(0x294)]){case _0x1b83d6(0x191):return await this[_0x1b83d6(0x5f4)](_0x33e317,_0xa057f1);case _0x1b83d6(0x6d4):return await this['scheduleSendMedia'](_0x33e317,_0xa057f1);case _0x1b83d6(0x684):return await this['scheduleSendAudio'](_0x33e317,_0xa057f1);default:return this[_0x1b83d6(0x647)][_0x1b83d6(0x484)](this[_0x1b83d6(0x6d8)]+'\x20('+this[_0x1b83d6(0x635)][_0x1b83d6(0x13e)]+_0x1b83d6(0x32a)+_0x33e317[_0x1b83d6(0x294)]),{'status':_0x1b83d6(0x484),'detail':_0x1b83d6(0x424)};}}catch(_0x11a508){return this['logger'][_0x1b83d6(0x484)](this[_0x1b83d6(0x6d8)]+'\x20('+this[_0x1b83d6(0x635)][_0x1b83d6(0x13e)]+_0x1b83d6(0x339)+_0x11a508),{'status':'error','detail':_0x11a508[_0x1b83d6(0x219)]};}}[a0_0x1fdc58(0x4fe)](_0x23bd20){const _0x43e857=a0_0x1fdc58;let _0x2b6b30=_0x23bd20[_0x43e857(0x296)]('|'),_0x4c7988=Math[_0x43e857(0x301)](Math['random']()*_0x2b6b30['length']);return _0x2b6b30[_0x4c7988][_0x43e857(0x170)]();}async[a0_0x1fdc58(0x5f4)](_0x5abc35,_0x17e98b){const _0x4313b0=a0_0x1fdc58;if(this[_0x4313b0(0x647)][_0x4313b0(0x691)](this[_0x4313b0(0x6d8)]+'\x20('+this[_0x4313b0(0x635)][_0x4313b0(0x13e)]+_0x4313b0(0x6c3)),!_0x5abc35[_0x4313b0(0x219)][_0x4313b0(0x191)]||_0x5abc35[_0x4313b0(0x219)][_0x4313b0(0x191)][_0x4313b0(0x6b4)]===0x0)return{'error':!0x0,'error_log':_0x4313b0(0x694)};let _0x32f37c=this['getRandomText'](_0x5abc35[_0x4313b0(0x219)][_0x4313b0(0x191)]),_0x20d8e1=await this[_0x4313b0(0x476)](_0x32f37c,_0x17e98b),_0x299c6c={'number':_0x17e98b,'options':{'delay':_0x5abc35[_0x4313b0(0x219)][_0x4313b0(0x23a)]},'textMessage':{'text':_0x20d8e1}},_0x2c9f0b=null;try{let _0x3a203e=await this[_0x4313b0(0x680)](_0x299c6c);if(_0x3a203e&&_0x3a203e[_0x4313b0(0x62e)])return{'error':!0x1,'id':_0x3a203e['key']['id']};_0x2c9f0b=JSON[_0x4313b0(0x1b7)](_0x3a203e),this[_0x4313b0(0x647)][_0x4313b0(0x691)](this[_0x4313b0(0x6d8)]+'\x20('+this['instance'][_0x4313b0(0x13e)]+'):\x20'+_0x2c9f0b);}catch(_0x2fbd5f){this[_0x4313b0(0x647)]['error'](this[_0x4313b0(0x6d8)]+'\x20('+this[_0x4313b0(0x635)][_0x4313b0(0x13e)]+_0x4313b0(0x3e6)+_0x2fbd5f),_0x2c9f0b=_0x2fbd5f[_0x4313b0(0x219)];}if(_0x2c9f0b)return{'error':!0x0,'error_log':(typeof _0x2c9f0b==_0x4313b0(0x4fa)?JSON['stringify'](_0x2c9f0b,null,0x2):_0x2c9f0b)[_0x4313b0(0x5b4)](/[\[\]{}\n]/g,'\x20')[_0x4313b0(0x5b4)](/  +/g,'\x20')};}async[a0_0x1fdc58(0x263)](_0x3c96bd,_0x380815){const _0x43330d=a0_0x1fdc58;this[_0x43330d(0x647)][_0x43330d(0x691)](this[_0x43330d(0x6d8)]+'\x20('+this[_0x43330d(0x635)][_0x43330d(0x13e)]+_0x43330d(0x164));let _0x13f363;if(_0x3c96bd['message']['text']&&_0x3c96bd[_0x43330d(0x219)][_0x43330d(0x191)]['length']>0x0){let _0x10e8de=this[_0x43330d(0x4fe)](_0x3c96bd[_0x43330d(0x219)][_0x43330d(0x191)]);_0x13f363=await this['replaceVariablesChat'](_0x10e8de,_0x380815);}let _0x418441={'number':_0x380815,'options':{'delay':_0x3c96bd['message'][_0x43330d(0x23a)]},'mediaMessage':{'mediatype':_0x3c96bd['message'][_0x43330d(0x441)],'caption':_0x13f363,'media':_0x3c96bd[_0x43330d(0x219)][_0x43330d(0x1fb)]}},_0x2177b2=null;try{let _0x2b5659=await this[_0x43330d(0x15c)](_0x418441);if(_0x2b5659&&_0x2b5659[_0x43330d(0x62e)])return{'error':!0x1,'id':_0x2b5659[_0x43330d(0x267)]['id']};_0x2177b2=JSON[_0x43330d(0x1b7)](_0x2b5659),this['logger'][_0x43330d(0x691)](this[_0x43330d(0x6d8)]+'\x20('+this[_0x43330d(0x635)][_0x43330d(0x13e)]+_0x43330d(0x1e8)+_0x2177b2);}catch(_0x44b867){this[_0x43330d(0x647)][_0x43330d(0x484)](this[_0x43330d(0x6d8)]+'\x20('+this[_0x43330d(0x635)][_0x43330d(0x13e)]+_0x43330d(0x184)+_0x44b867[_0x43330d(0x219)]),_0x2177b2=_0x44b867['message'];}if(_0x2177b2)return{'error':!0x0,'error_log':(typeof _0x2177b2==_0x43330d(0x4fa)?JSON[_0x43330d(0x1b7)](_0x2177b2,null,0x2):_0x2177b2)[_0x43330d(0x5b4)](/[\[\]{}\n]/g,'\x20')[_0x43330d(0x5b4)](/  +/g,'\x20')};}async['scheduleSendAudio'](_0x4391a2,_0x1ee7cc){const _0x200b2c=a0_0x1fdc58;this[_0x200b2c(0x647)][_0x200b2c(0x691)](this[_0x200b2c(0x6d8)]+'\x20('+this[_0x200b2c(0x635)]['wuid']+_0x200b2c(0x4b3));let _0x20eaa9={'number':_0x1ee7cc,'options':{'delay':_0x4391a2['message'][_0x200b2c(0x23a)]},'audioMessage':{'audio':_0x4391a2[_0x200b2c(0x219)][_0x200b2c(0x1fb)]}},_0x48395f=null;try{let _0x710c94=await this[_0x200b2c(0x603)](_0x20eaa9);if(_0x710c94&&_0x710c94[_0x200b2c(0x62e)])return{'error':!0x1,'id':_0x710c94[_0x200b2c(0x267)]['id']};_0x48395f=JSON[_0x200b2c(0x1b7)](_0x710c94),this['logger'][_0x200b2c(0x691)](this[_0x200b2c(0x6d8)]+'\x20('+this[_0x200b2c(0x635)]['wuid']+_0x200b2c(0x1e8)+_0x48395f);}catch(_0x1ab985){this[_0x200b2c(0x647)]['error'](this[_0x200b2c(0x6d8)]+'\x20('+this[_0x200b2c(0x635)][_0x200b2c(0x13e)]+_0x200b2c(0x1d9)+_0x1ab985),_0x48395f=_0x1ab985[_0x200b2c(0x219)];}if(_0x48395f)return{'error':!0x0,'error_log':(typeof _0x48395f=='object'?JSON[_0x200b2c(0x1b7)](_0x48395f,null,0x2):_0x48395f)[_0x200b2c(0x5b4)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}},Ee=require(a0_0x1fdc58(0x2a3)),kt=class c{constructor(_0xfcbbc5,_0x321e43,_0x482ca6){const _0x3ca997=a0_0x1fdc58;this[_0x3ca997(0x270)]=_0xfcbbc5,this['configService']=_0x321e43,this['repository']=_0x482ca6,this['db']={},this[_0x3ca997(0x5d7)]={},this[_0x3ca997(0x647)]=new v(c[_0x3ca997(0x5e8)]),this['waInstances']={},(this[_0x3ca997(0x464)](),this[_0x3ca997(0x41a)](),this[_0x3ca997(0x5f2)](),Object['assign'](this['db'],_0x321e43['get'](_0x3ca997(0x2f2))),Object['assign'](this[_0x3ca997(0x5d7)],_0x321e43[_0x3ca997(0x496)](_0x3ca997(0x5a0))),this['dbInstance']=this['db']['ENABLED']?this[_0x3ca997(0x369)][_0x3ca997(0x34e)]?.['db'](this['db'][_0x3ca997(0x335)][_0x3ca997(0x416)]+_0x3ca997(0x222)):void 0x0,this[_0x3ca997(0x2ac)]=this[_0x3ca997(0x5d7)][_0x3ca997(0x657)]?new we(this[_0x3ca997(0x5d7)]):void 0x0);}['delInstanceTime'](_0x5d17ac){const _0x11084e=a0_0x1fdc58;let _0x3c07ae=this[_0x11084e(0x2fc)][_0x11084e(0x496)]('DEL_INSTANCE');typeof _0x3c07ae==_0x11084e(0x1a5)&&_0x3c07ae>0x0&&setTimeout(()=>{const _0xd977b7=_0x11084e;this['waInstances'][_0x5d17ac]?.[_0xd977b7(0x3b5)]?.[_0xd977b7(0x4ba)]!==_0xd977b7(0x384)&&delete this[_0xd977b7(0x592)][_0x5d17ac];},0x3e8*0x3c*_0x3c07ae);}async[a0_0x1fdc58(0x66b)](_0x1487a0){const _0x586e56=a0_0x1fdc58;if(_0x1487a0&&!this[_0x586e56(0x592)][_0x1487a0])throw new L(_0x586e56(0x584)+_0x1487a0+'\x22\x20not\x20found');let _0xa99a05=[];for await(let [_0x4ae9af,_0x33aba8]of Object[_0x586e56(0x140)](this['waInstances']))if(_0x33aba8&&_0x33aba8[_0x586e56(0x3b5)][_0x586e56(0x4ba)]===_0x586e56(0x384)){let _0x568ca1=await this[_0x586e56(0x369)][_0x586e56(0x3ea)][_0x586e56(0x192)](_0x4ae9af);_0xa99a05[_0x586e56(0x1b4)]({'instance':{'instanceName':_0x4ae9af,'apikey':_0x568ca1[_0x586e56(0x322)],'owner':_0x33aba8[_0x586e56(0x13e)],'profileName':await _0x33aba8['getProfileName']()||_0x586e56(0x153),'profilePictureUrl':_0x33aba8[_0x586e56(0x1f6)]}});}return _0xa99a05[_0x586e56(0x192)](_0x5d6daa=>_0x5d6daa[_0x586e56(0x635)][_0x586e56(0x6d8)]===_0x1487a0)??_0xa99a05;}[a0_0x1fdc58(0x5f2)](){setInterval(async()=>{const _0x3b71f8=a0_0x56bb;if(this['db'][_0x3b71f8(0x657)])(await this['dbInstance'][_0x3b71f8(0x455)]())[_0x3b71f8(0x44b)](async _0x266259=>{const _0x2c2ffa=_0x3b71f8;let _0x4f5e6f=_0x266259[_0x2c2ffa(0x34f)][_0x2c2ffa(0x5b4)](/^[\w-]+./,'');await this[_0x2c2ffa(0x5a1)][_0x2c2ffa(0x1db)](_0x4f5e6f)['deleteMany']({'$or':[{'_id':{'$regex':/^app.state.*/}},{'_id':{'$regex':/^session-.*/}}]});});else{let _0x576639=(0x0,ee[_0x3b71f8(0x3d5)])(V,{'encoding':_0x3b71f8(0x359)});for await(let _0x5de61d of _0x576639)_0x5de61d[_0x3b71f8(0x597)]()&&(0x0,ee[_0x3b71f8(0x57f)])((0x0,Ee[_0x3b71f8(0x567)])(V,_0x5de61d[_0x3b71f8(0x5e8)]),{'encoding':_0x3b71f8(0x359)})['forEach'](async _0x1f1fae=>{const _0x389d82=_0x3b71f8;(_0x1f1fae['match'](/^app.state.*/)||_0x1f1fae[_0x389d82(0x625)](/^session-.*/))&&(0x0,ee[_0x389d82(0x47e)])((0x0,Ee[_0x389d82(0x567)])(V,_0x5de61d[_0x389d82(0x5e8)],_0x1f1fae),{'recursive':!0x0,'force':!0x0});});}},0xe10*0x3e8*0x2);}async[a0_0x1fdc58(0x305)](_0x54bd5c){const _0x4dc179=a0_0x1fdc58;this['db'][_0x4dc179(0x657)]&&(await this[_0x4dc179(0x369)][_0x4dc179(0x34e)][_0x4dc179(0x4eb)](),(await this[_0x4dc179(0x5a1)][_0x4dc179(0x455)]())['length']>0x0&&await this['dbInstance'][_0x4dc179(0x68e)](_0x54bd5c)),this['redis']['ENABLED']&&(this[_0x4dc179(0x2ac)][_0x4dc179(0x1a7)]=_0x54bd5c,await this[_0x4dc179(0x2ac)][_0x4dc179(0x690)]()),!this['db']['ENABLED']&&!this[_0x4dc179(0x5d7)][_0x4dc179(0x657)]&&(0x0,ee[_0x4dc179(0x47e)])((0x0,Ee[_0x4dc179(0x567)])(V,_0x54bd5c),{'recursive':!0x0,'force':!0x0});}async['loadInstance'](){const _0x2843a3=a0_0x1fdc58;let _0x1dcd93=async _0x31e5e1=>{const _0x46cdf4=a0_0x56bb;let _0x3d7c89=new be(this[_0x46cdf4(0x2fc)],this[_0x46cdf4(0x270)],this[_0x46cdf4(0x369)]);_0x3d7c89[_0x46cdf4(0x6d8)]=_0x31e5e1,await _0x3d7c89[_0x46cdf4(0x345)](),this[_0x46cdf4(0x592)][_0x31e5e1]=_0x3d7c89;};try{if(this[_0x2843a3(0x5d7)][_0x2843a3(0x657)]){let _0x3099de=await this['redisCache'][_0x2843a3(0x545)]();_0x3099de?.['length']>0x0&&_0x3099de[_0x2843a3(0x44b)](async _0x170ce6=>await _0x1dcd93(_0x170ce6[_0x2843a3(0x296)](':')[0x1]));}if(this['db'][_0x2843a3(0x657)]){await this[_0x2843a3(0x369)][_0x2843a3(0x34e)][_0x2843a3(0x4eb)]();let _0x3dad93=await this['dbInstance'][_0x2843a3(0x455)]();_0x3dad93['length']>0x0&&_0x3dad93['forEach'](async _0x37c0b7=>await _0x1dcd93(_0x37c0b7[_0x2843a3(0x34f)][_0x2843a3(0x5b4)](/^[\w-]+\./,'')));return;}let _0x39f081=(0x0,ee[_0x2843a3(0x3d5)])(V,{'encoding':_0x2843a3(0x359)});for await(let _0x202424 of _0x39f081)if(_0x202424[_0x2843a3(0x597)]()){if((0x0,ee[_0x2843a3(0x57f)])((0x0,Ee[_0x2843a3(0x567)])(V,_0x202424[_0x2843a3(0x5e8)]),{'encoding':_0x2843a3(0x359)})[_0x2843a3(0x6b4)]===0x0){(0x0,ee[_0x2843a3(0x47e)])((0x0,Ee['join'])(V,_0x202424[_0x2843a3(0x5e8)]),{'recursive':!0x0,'force':!0x0});break;}await _0x1dcd93(_0x202424[_0x2843a3(0x5e8)]);}}catch(_0x89b8f5){this[_0x2843a3(0x647)][_0x2843a3(0x484)](_0x89b8f5);}}[a0_0x1fdc58(0x464)](){const _0x230c0f=a0_0x1fdc58;this[_0x230c0f(0x270)]['on'](_0x230c0f(0x16a),async _0x455a01=>{const _0x297f78=_0x230c0f;try{this[_0x297f78(0x592)][_0x455a01]=void 0x0;}catch{}try{this[_0x297f78(0x305)](_0x455a01);}finally{this[_0x297f78(0x647)][_0x297f78(0x46f)](_0x297f78(0x584)+_0x455a01+_0x297f78(0x42f));}});}[a0_0x1fdc58(0x41a)](){const _0x2ce1bd=a0_0x1fdc58;this['eventEmitter']['on'](_0x2ce1bd(0x3fe),async _0xbf4c2c=>{const _0x4e4890=_0x2ce1bd;try{this['waInstances'][_0xbf4c2c]=void 0x0,this['cleaningUp'](_0xbf4c2c);}catch(_0x2a225f){this['logger'][_0x4e4890(0x484)]({'localError':_0x4e4890(0x41a),'warn':'Error\x20deleting\x20instance\x20from\x20memory.','error':_0x2a225f});}finally{this[_0x4e4890(0x647)][_0x4e4890(0x46f)](_0x4e4890(0x584)+_0xbf4c2c+'\x22\x20-\x20NOT\x20CONNECTION');}});}},xe=require(a0_0x1fdc58(0x2a3)),Ne=require('fs'),Lt=class extends j{constructor(_0x3467be,_0x460876){const _0xb762f4=a0_0x1fdc58;super(_0x460876),this[_0xb762f4(0x51a)]=_0x3467be,this[_0xb762f4(0x2fc)]=_0x460876;}async['insert'](_0x272268,_0x21940c=!0x1){const _0x5de46c=a0_0x1fdc58;if(_0x272268[_0x5de46c(0x6b4)]!==0x0)try{return this['dbSettings'][_0x5de46c(0x657)]&&_0x21940c?{'insertCount':(await this['chatModel'][_0x5de46c(0x2e7)]([..._0x272268]))['length']}:(_0x272268[_0x5de46c(0x44b)](_0x1f0a6b=>{const _0x2e999b=_0x5de46c;this[_0x2e999b(0x5ae)]({'path':(0x0,xe[_0x2e999b(0x567)])(this[_0x2e999b(0x5ea)],_0x2e999b(0x228),_0x1f0a6b['owner']),'fileName':_0x1f0a6b['id'],'data':_0x1f0a6b});}),{'insertCount':_0x272268[_0x5de46c(0x6b4)]});}catch(_0x55375a){return _0x55375a;}finally{_0x272268=void 0x0;}}async[a0_0x1fdc58(0x192)](_0x56379f){const _0x18cc1d=a0_0x1fdc58;try{if(this[_0x18cc1d(0x4f1)][_0x18cc1d(0x657)])return await this['chatModel'][_0x18cc1d(0x192)]({'owner':_0x56379f[_0x18cc1d(0x5d9)][_0x18cc1d(0x3b7)]})['sort']({'lastmsg':-0x1})[_0x18cc1d(0x200)](_0x56379f?.[_0x18cc1d(0x200)]??0x0)['lean']();let _0x36d011=[],_0x6c7eb4=(0x0,Ne[_0x18cc1d(0x3d5)])((0x0,xe[_0x18cc1d(0x567)])(this['storePath'],_0x18cc1d(0x228),_0x56379f[_0x18cc1d(0x5d9)][_0x18cc1d(0x3b7)]));for await(let _0x31bacb of _0x6c7eb4)_0x31bacb['isFile']()&&_0x36d011[_0x18cc1d(0x1b4)](JSON[_0x18cc1d(0x59c)]((0x0,Ne[_0x18cc1d(0x426)])((0x0,xe[_0x18cc1d(0x567)])(this['storePath'],_0x18cc1d(0x228),_0x56379f[_0x18cc1d(0x5d9)][_0x18cc1d(0x3b7)],_0x31bacb['name']),{'encoding':_0x18cc1d(0x359)})));return _0x36d011;}catch{return[];}}async[a0_0x1fdc58(0x2ab)](_0x263f22){const _0x4b01de=a0_0x1fdc58;try{return this[_0x4b01de(0x4f1)][_0x4b01de(0x657)]?await this[_0x4b01de(0x51a)][_0x4b01de(0x417)]({..._0x263f22[_0x4b01de(0x5d9)]}):((0x0,Ne[_0x4b01de(0x47e)])((0x0,xe[_0x4b01de(0x567)])(this[_0x4b01de(0x5ea)],_0x4b01de(0x228),_0x263f22[_0x4b01de(0x5d9)]['owner'],_0x263f22[_0x4b01de(0x5d9)]['id']+_0x4b01de(0x55e)),{'force':!0x0,'recursive':!0x0}),{'deleted':{'chatId':_0x263f22['where']['id']}});}catch(_0x23d216){return{'error':_0x23d216?.['toString']()};}}async['findOne'](_0x56386c){const _0x17c432=a0_0x1fdc58;try{if(this[_0x17c432(0x4f1)]['ENABLED'])return await this['chatModel'][_0x17c432(0x5e3)]({'owner':_0x56386c[_0x17c432(0x5d9)][_0x17c432(0x3b7)]})[_0x17c432(0x398)]();}catch{return null;}}async[a0_0x1fdc58(0x1a4)](_0x22af8f,_0x36c431){const _0x408e1b=a0_0x1fdc58;try{this[_0x408e1b(0x4f1)][_0x408e1b(0x657)]&&await this['chatModel'][_0x408e1b(0x465)]({..._0x22af8f[_0x408e1b(0x5d9)]},{'$set':_0x36c431});}catch(_0x530147){console[_0x408e1b(0x484)](_0x530147);}}async[a0_0x1fdc58(0x6a0)](_0xde4d0b,_0x39f8cb){const _0x3bfe8d=a0_0x1fdc58;try{if(this[_0x3bfe8d(0x4f1)][_0x3bfe8d(0x657)]){let _0x374a24=_0xde4d0b[_0x3bfe8d(0x634)]((_0x15bcf6,_0x2e7493)=>({'updateOne':{'filter':{..._0x15bcf6[_0x3bfe8d(0x5d9)]},'update':{'$set':_0x39f8cb[_0x2e7493]}}}));await this[_0x3bfe8d(0x51a)]['bulkWrite'](_0x374a24);}}catch(_0x1e1355){console[_0x3bfe8d(0x484)](_0x1e1355);}}},Ut=class{constructor(_0x1180d7){const _0x4bf00d=a0_0x1fdc58;this[_0x4bf00d(0x619)]=_0x1180d7;}async[a0_0x1fdc58(0x3cd)]({instanceName:_0x57ab41},_0x3fa991){const _0x5df97a=a0_0x1fdc58;return await this[_0x5df97a(0x619)][_0x5df97a(0x592)][_0x57ab41][_0x5df97a(0x3cd)](_0x3fa991);}async[a0_0x1fdc58(0x641)]({instanceName:_0x5a3008},_0x1f764e){const _0x4efa78=a0_0x1fdc58;return await this[_0x4efa78(0x619)][_0x4efa78(0x592)][_0x5a3008][_0x4efa78(0x641)](_0x1f764e);}async[a0_0x1fdc58(0x43a)]({instanceName:_0x33921a},_0x11af10){const _0x8b51a8=a0_0x1fdc58;return await this[_0x8b51a8(0x619)][_0x8b51a8(0x592)][_0x33921a][_0x8b51a8(0x681)](_0x11af10);}async[a0_0x1fdc58(0x68b)]({instanceName:_0x5f29a2},_0x57dbc3){const _0x277388=a0_0x1fdc58;return await this[_0x277388(0x619)][_0x277388(0x592)][_0x5f29a2][_0x277388(0x68b)](_0x57dbc3);}async['deleteMessage']({instanceName:_0x3eb36f},_0x38cfe7){const _0x521507=a0_0x1fdc58;return await this[_0x521507(0x619)][_0x521507(0x592)][_0x3eb36f]['deleteMessage'](_0x38cfe7);}async[a0_0x1fdc58(0x594)]({instanceName:_0x4e4c74},_0x4dbd5f){const _0x4a058e=a0_0x1fdc58;return await this['waMonitor'][_0x4a058e(0x592)][_0x4e4c74][_0x4a058e(0x63d)](_0x4dbd5f[_0x4a058e(0x1a5)]);}async['fetchProfile']({instanceName:_0x4f805c},_0x3b659){const _0x1eccd6=a0_0x1fdc58;return await this[_0x1eccd6(0x619)]['waInstances'][_0x4f805c][_0x1eccd6(0x507)](_0x4f805c,_0x3b659[_0x1eccd6(0x1a5)]);}async['fetchContacts']({instanceName:_0x35a85c},_0x2d6c33){const _0x56130b=a0_0x1fdc58;return await this[_0x56130b(0x619)][_0x56130b(0x592)][_0x35a85c][_0x56130b(0x39d)](_0x2d6c33);}async['getBase64FromMediaMessage']({instanceName:_0x15f3be},_0x73cc4b){const _0x29dfee=a0_0x1fdc58;return await this[_0x29dfee(0x619)][_0x29dfee(0x592)][_0x15f3be][_0x29dfee(0x39a)](_0x73cc4b);}async[a0_0x1fdc58(0x651)]({instanceName:_0x4806d3},_0x2ddf62){const _0x3682ee=a0_0x1fdc58;return await this['waMonitor'][_0x3682ee(0x592)][_0x4806d3][_0x3682ee(0x651)](_0x2ddf62);}async[a0_0x1fdc58(0x44a)]({instanceName:_0x470413},_0x4bcf2e){const _0x3f22aa=a0_0x1fdc58;return await this[_0x3f22aa(0x619)][_0x3f22aa(0x592)][_0x470413][_0x3f22aa(0x44a)](_0x4bcf2e);}async[a0_0x1fdc58(0x427)]({instanceName:_0x5ef59a}){const _0x3932d5=a0_0x1fdc58;return await this[_0x3932d5(0x619)][_0x3932d5(0x592)][_0x5ef59a][_0x3932d5(0x427)]();}async[a0_0x1fdc58(0x3e2)]({instanceName:_0x23080d}){const _0x2d3fda=a0_0x1fdc58;return await this[_0x2d3fda(0x619)][_0x2d3fda(0x592)][_0x23080d][_0x2d3fda(0x3e2)]();}async[a0_0x1fdc58(0x677)]({instanceName:_0x5c07ae},_0x1fbd8b){const _0x3f5b15=a0_0x1fdc58;return await this[_0x3f5b15(0x619)]['waInstances'][_0x5c07ae][_0x3f5b15(0x677)](_0x1fbd8b);}async[a0_0x1fdc58(0x189)]({instanceName:_0x59a8b3},_0x24ec4f){const _0x47bb1e=a0_0x1fdc58;return await this[_0x47bb1e(0x619)][_0x47bb1e(0x592)][_0x59a8b3][_0x47bb1e(0x189)](_0x24ec4f[_0x47bb1e(0x1a5)]);}async[a0_0x1fdc58(0x501)]({instanceName:_0x116a22},_0x97da63){const _0x103703=a0_0x1fdc58;return await this[_0x103703(0x619)][_0x103703(0x592)][_0x116a22]['updateProfileName'](_0x97da63[_0x103703(0x5e8)]);}async[a0_0x1fdc58(0x60a)]({instanceName:_0x39b8df},_0x5447c2){const _0x1d8c74=a0_0x1fdc58;return await this[_0x1d8c74(0x619)][_0x1d8c74(0x592)][_0x39b8df][_0x1d8c74(0x60a)](_0x5447c2[_0x1d8c74(0x62e)]);}async[a0_0x1fdc58(0x215)]({instanceName:_0x9357db},_0x450de0){const _0x3d8623=a0_0x1fdc58;return await this[_0x3d8623(0x619)]['waInstances'][_0x9357db]['updateProfilePicture'](_0x450de0[_0x3d8623(0x46c)]);}async[a0_0x1fdc58(0x656)]({instanceName:_0x5480bc},_0x3acf9e){const _0x3aa5e2=a0_0x1fdc58;return await this[_0x3aa5e2(0x619)][_0x3aa5e2(0x592)][_0x5480bc][_0x3aa5e2(0x656)]();}},Ns=require(a0_0x1fdc58(0x154)),Vt=class c{constructor(_0x5d7296,_0x59b721,_0x343048,_0x1e5811,_0x156afe){const _0x4d1358=a0_0x1fdc58;this[_0x4d1358(0x619)]=_0x5d7296,this['configService']=_0x59b721,this['repository']=_0x343048,this['eventEmitter']=_0x1e5811,this['authService']=_0x156afe,this[_0x4d1358(0x647)]=new v(c['name']);}async[a0_0x1fdc58(0x644)]({instanceName:_0x44480e,apikey:_0x52261e}){const _0x19d720=a0_0x1fdc58;let _0x547288=new be(this[_0x19d720(0x2fc)],this['eventEmitter'],this['repository']);_0x547288[_0x19d720(0x6d8)]=_0x44480e,this[_0x19d720(0x619)][_0x19d720(0x592)][_0x547288[_0x19d720(0x6d8)]]=_0x547288,this[_0x19d720(0x619)][_0x19d720(0x360)](_0x547288[_0x19d720(0x6d8)]);let _0x1b61b8={};_0x52261e?(await this[_0x19d720(0x369)][_0x19d720(0x3ea)][_0x19d720(0x3ab)]({'apikey':_0x52261e},_0x44480e),_0x1b61b8[_0x19d720(0x322)]=_0x52261e):_0x1b61b8=await this[_0x19d720(0x2df)][_0x19d720(0x350)]({'instanceName':_0x547288['instanceName']});let _0x2f5558;return await _0x547288[_0x19d720(0x345)](),await(0x0,Ns[_0x19d720(0x23a)])(0x7d0),_0x2f5558=_0x547288[_0x19d720(0x3a7)],{'instance':{'instanceName':_0x547288[_0x19d720(0x6d8)],'status':'created'},'hash':_0x1b61b8,'qrcode':_0x2f5558};}async['connectToWhatsapp']({instanceName:_0x538f8f}){const _0x1d215a=a0_0x1fdc58;try{let _0x1e4407=this[_0x1d215a(0x619)][_0x1d215a(0x592)][_0x538f8f];switch(_0x1e4407[_0x1d215a(0x3b5)]?.[_0x1d215a(0x4ba)]){case'close':return await _0x1e4407[_0x1d215a(0x345)](),await(0x0,Ns[_0x1d215a(0x23a)])(0x7d0),_0x1e4407[_0x1d215a(0x3a7)];case _0x1d215a(0x19d):return _0x1e4407[_0x1d215a(0x3a7)];default:return await this['connectionState']({'instanceName':_0x538f8f});}}catch(_0x174140){this[_0x1d215a(0x647)][_0x1d215a(0x37c)](_0x174140);}}async['connectionState']({instanceName:_0xe69f72}){const _0x2b5b86=a0_0x1fdc58;let _0x2acf09=this[_0x2b5b86(0x619)][_0x2b5b86(0x592)][_0xe69f72]['connectionStatus'],_0x3c1ca3=null;_0x2acf09[_0x2b5b86(0x4ba)]===_0x2b5b86(0x384)&&_0xe69f72&&(_0x3c1ca3=await this[_0x2b5b86(0x619)][_0x2b5b86(0x66b)](_0xe69f72));let _0x59095d=null;return _0x2acf09[_0x2b5b86(0x4ba)]===_0x2b5b86(0x19d)&&_0xe69f72&&(_0x59095d=this[_0x2b5b86(0x619)][_0x2b5b86(0x592)][_0xe69f72][_0x2b5b86(0x3a7)]),{'instance':_0xe69f72,'connectionStatus':_0x2acf09,'instanceInfo':_0x3c1ca3,'qrcode':_0x59095d};}async[a0_0x1fdc58(0x674)]({instanceName:_0x375461}){const _0x35fdfd=a0_0x1fdc58;try{return this[_0x35fdfd(0x619)][_0x35fdfd(0x592)][_0x375461]?.[_0x35fdfd(0x6f0)]?.['ws']?.[_0x35fdfd(0x2fb)](),{'status':_0x35fdfd(0x1b5),'error':!0x1,'response':{'message':'Instance\x20restarted'}};}catch(_0xf9690e){this[_0x35fdfd(0x647)][_0x35fdfd(0x484)](_0xf9690e);}}async[a0_0x1fdc58(0x6f1)]({instanceName:_0x33f225}){const _0xbc1c2f=a0_0x1fdc58;return _0x33f225?this[_0xbc1c2f(0x619)]['instanceInfo'](_0x33f225):this[_0xbc1c2f(0x619)][_0xbc1c2f(0x66b)]();}async['logout']({instanceName:_0x57aa0a}){const _0x493fe3=a0_0x1fdc58;try{return await this[_0x493fe3(0x619)][_0x493fe3(0x592)][_0x57aa0a]?.['client']?.[_0x493fe3(0x56f)]('Log\x20out\x20instance:\x20'+_0x57aa0a),{'error':!0x1,'message':_0x493fe3(0x4d2)};}catch(_0x351ab4){throw new A(_0x351ab4[_0x493fe3(0x686)]());}}async['deleteInstance']({instanceName:_0x10594e}){const _0x6409b0=a0_0x1fdc58;if((await this[_0x6409b0(0x208)]({'instanceName':_0x10594e}))['connectionStatus'][_0x6409b0(0x4ba)]===_0x6409b0(0x384))throw new m(['Deletion\x20failed',_0x6409b0(0x38b)]);try{return delete this[_0x6409b0(0x619)][_0x6409b0(0x592)][_0x10594e],{'error':!0x1,'message':_0x6409b0(0x47d)};}catch(_0x449366){throw new m(_0x449366[_0x6409b0(0x686)]());}}async[a0_0x1fdc58(0x40a)](_0x208a20,_0x1c0f99){const _0x3cc0fa=a0_0x1fdc58;return await this[_0x3cc0fa(0x2df)][_0x3cc0fa(0x40a)](_0x1c0f99);}},te=require(a0_0x1fdc58(0x5d4)),jt=class{constructor(_0x5f525f){const _0x190a71=a0_0x1fdc58;this[_0x190a71(0x619)]=_0x5f525f;}async[a0_0x1fdc58(0x36d)]({instanceName:_0x6e9b7e},_0x520c48){const _0x2d89a3=a0_0x1fdc58;return await this[_0x2d89a3(0x619)]['waInstances'][_0x6e9b7e]['textMessage'](_0x520c48);}async[a0_0x1fdc58(0x19a)]({instanceName:_0x9ac8f0},_0x476da8){const _0xae31bd=a0_0x1fdc58;if((0x0,te[_0xae31bd(0x210)])(_0x476da8?.[_0xae31bd(0x15c)]?.[_0xae31bd(0x6d4)])&&!_0x476da8?.['mediaMessage']?.['fileName'])throw new m(_0xae31bd(0x1ae));if((0x0,te[_0xae31bd(0x558)])(_0x476da8?.[_0xae31bd(0x15c)]?.[_0xae31bd(0x6d4)])||(0x0,te[_0xae31bd(0x210)])(_0x476da8?.[_0xae31bd(0x15c)]?.[_0xae31bd(0x6d4)]))return await this[_0xae31bd(0x619)][_0xae31bd(0x592)][_0x9ac8f0][_0xae31bd(0x15c)](_0x476da8);throw new m(_0xae31bd(0x4ad));}async['sendSticker']({instanceName:_0x2d2b91},_0x3a2d73){const _0x1a0422=a0_0x1fdc58;if((0x0,te[_0x1a0422(0x558)])(_0x3a2d73[_0x1a0422(0x1bc)][_0x1a0422(0x1ea)])||(0x0,te[_0x1a0422(0x210)])(_0x3a2d73[_0x1a0422(0x1bc)]['image']))return await this[_0x1a0422(0x619)][_0x1a0422(0x592)][_0x2d2b91][_0x1a0422(0x4f6)](_0x3a2d73);throw new m(_0x1a0422(0x4ad));}async['sendWhatsAppAudio']({instanceName:_0x970a2e},_0x54f3de){const _0x24e6f5=a0_0x1fdc58;if((0x0,te[_0x24e6f5(0x558)])(_0x54f3de[_0x24e6f5(0x612)][_0x24e6f5(0x684)])||(0x0,te[_0x24e6f5(0x210)])(_0x54f3de[_0x24e6f5(0x612)][_0x24e6f5(0x684)]))return await this[_0x24e6f5(0x619)]['waInstances'][_0x970a2e]['audioWhatsapp'](_0x54f3de);throw new m(_0x24e6f5(0x4ad));}async[a0_0x1fdc58(0x19e)]({instanceName:_0x32f3e5},_0xfd8426){const _0x578c6f=a0_0x1fdc58;if((0x0,te[_0x578c6f(0x210)])(_0xfd8426[_0x578c6f(0x5f1)][_0x578c6f(0x15c)]?.[_0x578c6f(0x6d4)])&&!_0xfd8426['buttonMessage'][_0x578c6f(0x15c)]?.[_0x578c6f(0x65e)])throw new m(_0x578c6f(0x1ae));return await this[_0x578c6f(0x619)][_0x578c6f(0x592)][_0x32f3e5][_0x578c6f(0x5f1)](_0xfd8426);}async[a0_0x1fdc58(0x40f)]({instanceName:_0x5552f0},_0x5adb28){const _0x14368e=a0_0x1fdc58;return await this['waMonitor'][_0x14368e(0x592)][_0x5552f0][_0x14368e(0x4bc)](_0x5adb28);}async[a0_0x1fdc58(0x477)]({instanceName:_0x1bbfdd},_0x56e033){const _0x2041ac=a0_0x1fdc58;return await this[_0x2041ac(0x619)][_0x2041ac(0x592)][_0x1bbfdd]['pollMessage'](_0x56e033);}async[a0_0x1fdc58(0x608)]({instanceName:_0x336679},_0x2f3530){const _0x10e54d=a0_0x1fdc58;return await this['waMonitor']['waInstances'][_0x336679][_0x10e54d(0x66f)](_0x2f3530);}async[a0_0x1fdc58(0x175)]({instanceName:_0x2f6505},_0x100f35){const _0x165896=a0_0x1fdc58;return await this[_0x165896(0x619)][_0x165896(0x592)][_0x2f6505][_0x165896(0x679)](_0x100f35);}async[a0_0x1fdc58(0x6e8)]({instanceName:_0xa52edb},_0x41d8ec){const _0x468cd0=a0_0x1fdc58;if(!_0x41d8ec['reactionMessage'][_0x468cd0(0x483)][_0x468cd0(0x625)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x468cd0(0x1b8));return await this[_0x468cd0(0x619)]['waInstances'][_0xa52edb]['reactionMessage'](_0x41d8ec);}async[a0_0x1fdc58(0x1ad)]({instanceName:_0x1d026b},_0x3e6150){const _0x4829c9=a0_0x1fdc58;return await this[_0x4829c9(0x619)][_0x4829c9(0x592)][_0x1d026b][_0x4829c9(0x449)](_0x3e6150);}},Bt=class{constructor(_0x4982ac){const _0x450603=a0_0x1fdc58;this[_0x450603(0x619)]=_0x4982ac;}async[a0_0x1fdc58(0x5fe)](_0x29e7fe,_0x194d1a){const _0x459fb1=a0_0x1fdc58;return await this[_0x459fb1(0x619)]['waInstances'][_0x29e7fe[_0x459fb1(0x6d8)]][_0x459fb1(0x5fe)](_0x194d1a);}async[a0_0x1fdc58(0x22a)](_0x32ab33,_0x150430){const _0xace92e=a0_0x1fdc58;return await this[_0xace92e(0x619)][_0xace92e(0x592)][_0x32ab33[_0xace92e(0x6d8)]][_0xace92e(0x22a)](_0x150430);}async[a0_0x1fdc58(0x639)](_0x11d597,_0x6e0ec7){const _0x2967d6=a0_0x1fdc58;return await this['waMonitor'][_0x2967d6(0x592)][_0x11d597[_0x2967d6(0x6d8)]][_0x2967d6(0x639)](_0x6e0ec7);}async[a0_0x1fdc58(0x667)](_0x435f6d,_0x22dd3a){const _0x112cb4=a0_0x1fdc58;return await this[_0x112cb4(0x619)][_0x112cb4(0x592)][_0x435f6d['instanceName']][_0x112cb4(0x667)](_0x22dd3a);}async['groupSetting'](_0x580c69,_0x2d5925){const _0x4f5723=a0_0x1fdc58;return await this['waMonitor']['waInstances'][_0x580c69[_0x4f5723(0x6d8)]][_0x4f5723(0x640)](_0x2d5925);}async[a0_0x1fdc58(0x31d)](_0x2dfda0,_0x10feb3){const _0x41e80e=a0_0x1fdc58;return await this[_0x41e80e(0x619)][_0x41e80e(0x592)][_0x2dfda0[_0x41e80e(0x6d8)]][_0x41e80e(0x3a8)](_0x10feb3);}async['findGroups'](_0x35161c){const _0x1b3c54=a0_0x1fdc58;return await this[_0x1b3c54(0x619)][_0x1b3c54(0x592)][_0x35161c[_0x1b3c54(0x6d8)]][_0x1b3c54(0x242)]();}async[a0_0x1fdc58(0x6cd)](_0x18217d,_0x2ddb33){const _0x3738b7=a0_0x1fdc58;return await this['waMonitor']['waInstances'][_0x18217d[_0x3738b7(0x6d8)]][_0x3738b7(0x6cd)](_0x2ddb33);}async[a0_0x1fdc58(0x178)](_0x38118d,_0x3ae7e0){const _0x518ef8=a0_0x1fdc58;return await this[_0x518ef8(0x619)]['waInstances'][_0x38118d['instanceName']][_0x518ef8(0x178)](_0x3ae7e0);}async[a0_0x1fdc58(0x5fd)](_0x5a1caf,_0x49c719){const _0xa7d3a6=a0_0x1fdc58;return await this[_0xa7d3a6(0x619)][_0xa7d3a6(0x592)][_0x5a1caf['instanceName']][_0xa7d3a6(0x5fd)](_0x49c719);}async['findParticipants'](_0x23a8ce,_0x48d0c7){const _0x57b199=a0_0x1fdc58;return await this[_0x57b199(0x619)]['waInstances'][_0x23a8ce[_0x57b199(0x6d8)]][_0x57b199(0x5c1)](_0x48d0c7);}async[a0_0x1fdc58(0x203)](_0x814f17,_0xebcc96){const _0x26278d=a0_0x1fdc58;return await this[_0x26278d(0x619)][_0x26278d(0x592)][_0x814f17[_0x26278d(0x6d8)]][_0x26278d(0x2aa)](_0xebcc96);}async[a0_0x1fdc58(0x1ed)](_0x30eda8,_0x344709){const _0x206595=a0_0x1fdc58;return await this[_0x206595(0x619)]['waInstances'][_0x30eda8[_0x206595(0x6d8)]]['toggleEphemeral'](_0x344709);}async[a0_0x1fdc58(0x141)](_0x44238b,_0x5ccbf2){const _0x2a2c89=a0_0x1fdc58;return await this[_0x2a2c89(0x619)]['waInstances'][_0x44238b[_0x2a2c89(0x6d8)]][_0x2a2c89(0x141)](_0x5ccbf2);}},Ft=class{constructor(_0x5ea281,_0x117c8a){const _0x1abe5c=a0_0x1fdc58;this[_0x1abe5c(0x5cf)]=_0x5ea281,this['configService']=_0x117c8a;}async[a0_0x1fdc58(0x56d)](_0x288188,_0x123a3f){const _0xc84c39=a0_0x1fdc58;try{let _0x5d8d04=_0x288188[_0xc84c39(0x475)];if(this[_0xc84c39(0x5cf)][_0xc84c39(0x592)][_0x5d8d04[_0xc84c39(0x6d8)]][_0xc84c39(0x3b5)][_0xc84c39(0x4ba)]==='open')throw new m(_0xc84c39(0x404));let _0x4cb6ab=this[_0xc84c39(0x2fc)][_0xc84c39(0x496)](_0xc84c39(0x6ea))['TYPE'];return _0x123a3f[_0xc84c39(0x62e)](0xc8)[_0xc84c39(0x17e)](_0xc84c39(0x56d),{'type':_0x4cb6ab,..._0x5d8d04});}catch(_0x4e1243){console['log'](_0xc84c39(0x2a9),_0x4e1243);}}},Gt=class{constructor(_0x119d0e){const _0x4816d7=a0_0x1fdc58;this[_0x4816d7(0x619)]=_0x119d0e;}[a0_0x1fdc58(0x3ab)](_0xe8d803,_0x167d80){const _0x204d5f=a0_0x1fdc58;return this['waMonitor'][_0x204d5f(0x592)][_0xe8d803[_0x204d5f(0x6d8)]][_0x204d5f(0x30d)](_0x167d80);}async[a0_0x1fdc58(0x192)](_0x4a978a){const _0x251043=a0_0x1fdc58;try{return await this[_0x251043(0x619)][_0x251043(0x592)][_0x4a978a['instanceName']]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},rd=new v(a0_0x1fdc58(0x59f)),Jt=class{constructor(_0x494288){const _0x504b07=a0_0x1fdc58;this[_0x504b07(0x619)]=_0x494288;}async['editScheduleMessage'](_0x404b97,_0x15a817){const _0x396a38=a0_0x1fdc58;return await this['waMonitor'][_0x396a38(0x592)][_0x404b97[_0x396a38(0x6d8)]][_0x396a38(0x5e6)](_0x15a817);}async['getScheduleMessage'](_0x38f4be){const _0xf1a635=a0_0x1fdc58;return await this[_0xf1a635(0x619)]['waInstances'][_0x38f4be[_0xf1a635(0x6d8)]]['getScheduleMessage']();}async[a0_0x1fdc58(0x1d6)](_0x440f68){const _0x138a65=a0_0x1fdc58;return await this['waMonitor'][_0x138a65(0x592)][_0x440f68[_0x138a65(0x6d8)]][_0x138a65(0x1d6)]();}async[a0_0x1fdc58(0x570)](_0x4d5886){const _0x293af9=a0_0x1fdc58;return await this[_0x293af9(0x619)][_0x293af9(0x592)][_0x4d5886['instanceName']]['getAutomateSystem']();}async[a0_0x1fdc58(0x6b5)](_0x115679,_0xa6fa15){const _0x4fd699=a0_0x1fdc58;return await this[_0x4fd699(0x619)][_0x4fd699(0x592)][_0x115679[_0x4fd699(0x6d8)]][_0x4fd699(0x6b5)](_0xa6fa15);}async[a0_0x1fdc58(0x26f)](_0x140ecc,_0x433c65){const _0x41853d=a0_0x1fdc58;return await this['waMonitor']['waInstances'][_0x140ecc[_0x41853d(0x6d8)]][_0x41853d(0x26f)](_0x433c65);}async[a0_0x1fdc58(0x63c)](_0x2c8d62,_0x2c4574){const _0x58a8a4=a0_0x1fdc58;return await this['waMonitor']['waInstances'][_0x2c8d62['instanceName']][_0x58a8a4(0x63c)](_0x2c4574);}async[a0_0x1fdc58(0x15b)](_0x3e1bcc,_0x3ca61b){const _0x46ac2e=a0_0x1fdc58;return await this[_0x46ac2e(0x619)][_0x46ac2e(0x592)][_0x3e1bcc[_0x46ac2e(0x6d8)]][_0x46ac2e(0x15b)](_0x3ca61b);}async['getConversation'](_0x37e3e7,_0x56c31d){const _0x2cb824=a0_0x1fdc58;return await this['waMonitor']['waInstances'][_0x37e3e7[_0x2cb824(0x6d8)]][_0x2cb824(0x3ad)](_0x56c31d);}async[a0_0x1fdc58(0x57e)](_0x48f25b,_0xfad790){const _0x107107=a0_0x1fdc58;return await this[_0x107107(0x619)][_0x107107(0x592)][_0x48f25b[_0x107107(0x6d8)]][_0x107107(0x57e)](_0xfad790);}async['editConversation'](_0x669372,_0x338760){const _0x2644a2=a0_0x1fdc58;return await this[_0x2644a2(0x619)][_0x2644a2(0x592)][_0x669372[_0x2644a2(0x6d8)]][_0x2644a2(0x540)](_0x338760);}async[a0_0x1fdc58(0x36e)](_0x4a0191,_0x4ca0e5){const _0x595e53=a0_0x1fdc58;return await this['waMonitor'][_0x595e53(0x592)][_0x4a0191['instanceName']][_0x595e53(0x36e)](_0x4ca0e5);}async[a0_0x1fdc58(0x6af)](_0x451c8a,_0x3e377f){const _0x430cf6=a0_0x1fdc58;return await this[_0x430cf6(0x619)][_0x430cf6(0x592)][_0x451c8a[_0x430cf6(0x6d8)]]['getFlow'](_0x3e377f[_0x430cf6(0x5e8)]);}async[a0_0x1fdc58(0x4fb)](_0x2b9ded,_0xf4f624){const _0x20411a=a0_0x1fdc58;return await this['waMonitor'][_0x20411a(0x592)][_0x2b9ded[_0x20411a(0x6d8)]][_0x20411a(0x4fb)](_0xf4f624);}async[a0_0x1fdc58(0x655)](_0x2b439d,_0x4f42e4){const _0x1e066a=a0_0x1fdc58;return await this['waMonitor']['waInstances'][_0x2b439d['instanceName']][_0x1e066a(0x655)](_0x4f42e4);}async[a0_0x1fdc58(0x2c0)](_0x29a15c,_0x3b7e49){const _0x2bccca=a0_0x1fdc58;return await this[_0x2bccca(0x619)][_0x2bccca(0x592)][_0x29a15c[_0x2bccca(0x6d8)]][_0x2bccca(0x2c0)](_0x3b7e49);}async[a0_0x1fdc58(0x5c6)](_0x47cd0b,_0x435b4d){const _0x36f21c=a0_0x1fdc58;return await this[_0x36f21c(0x619)][_0x36f21c(0x592)][_0x47cd0b[_0x36f21c(0x6d8)]]['editFlowReply'](_0x435b4d);}async['editFlowGroup'](_0x203da2,_0x1150c2){const _0x3870e7=a0_0x1fdc58;return await this[_0x3870e7(0x619)][_0x3870e7(0x592)][_0x203da2[_0x3870e7(0x6d8)]]['editFlowGroup'](_0x1150c2);}async[a0_0x1fdc58(0x55f)](_0x572a70,_0x39c769){const _0x4d901c=a0_0x1fdc58;return await this['waMonitor'][_0x4d901c(0x592)][_0x572a70[_0x4d901c(0x6d8)]][_0x4d901c(0x55f)](_0x39c769);}async[a0_0x1fdc58(0x56c)](_0x11a6fb,_0x123f80){const _0x1120bc=a0_0x1fdc58;return await this[_0x1120bc(0x619)]['waInstances'][_0x11a6fb[_0x1120bc(0x6d8)]][_0x1120bc(0x56c)](_0x123f80);}async[a0_0x1fdc58(0x1ce)](_0x3a554d,_0x37683a){const _0x4a6c48=a0_0x1fdc58;return await this['waMonitor'][_0x4a6c48(0x592)][_0x3a554d[_0x4a6c48(0x6d8)]][_0x4a6c48(0x1ce)](_0x37683a);}async['deleteFlow'](_0x44ece9,_0x4107e7){const _0x38c239=a0_0x1fdc58;return await this[_0x38c239(0x619)]['waInstances'][_0x44ece9[_0x38c239(0x6d8)]][_0x38c239(0x21b)](_0x4107e7[_0x38c239(0x5e8)]);}async[a0_0x1fdc58(0x34d)](_0xaee141){const _0x16ec60=a0_0x1fdc58;return await this['waMonitor']['waInstances'][_0xaee141[_0x16ec60(0x6d8)]][_0x16ec60(0x34d)]();}},qt=class{constructor(_0x22c5da){const _0x42c4f5=a0_0x1fdc58;this[_0x42c4f5(0x6f8)]=_0x22c5da;}async[a0_0x1fdc58(0x3ac)](_0x2e491d,_0x58cd45){const _0x5955dc=a0_0x1fdc58;return this[_0x5955dc(0x6f8)][_0x5955dc(0x3ab)](_0x2e491d,_0x58cd45);}async['findWebhook'](_0x28eff2){const _0x426e72=a0_0x1fdc58;return this[_0x426e72(0x6f8)][_0x426e72(0x192)](_0x28eff2);}},Wt=class{constructor(_0x503764,_0x4349ce,_0x1228c7,_0x29a700,_0x1963ee,_0x3d53b7,_0x396441){const _0x43c511=a0_0x1fdc58;this[_0x43c511(0x219)]=_0x503764,this['chat']=_0x4349ce,this[_0x43c511(0x3b6)]=_0x1228c7,this['messageUpdate']=_0x29a700,this['webhook']=_0x1963ee,this['auth']=_0x3d53b7,this[_0x43c511(0x3bc)]=_0x396441;}get[a0_0x1fdc58(0x34e)](){return this['dbClient'];}},Ts=require(a0_0x1fdc58(0x2f8)),Cs=class{},pi=new Ts[(a0_0x1fdc58(0x1c1))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String,'minlength':0x3,'enum':['android',a0_0x1fdc58(0x5f7),a0_0x1fdc58(0x5c4)]},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),ho=M?.[a0_0x1fdc58(0x1fc)](Cs[a0_0x1fdc58(0x5e8)],pi,a0_0x1fdc58(0x1cc)),vs=class{},mi=new Ts[(a0_0x1fdc58(0x1c1))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String,'required':!0x0,'min':0x1},'id':{'type':String,'required':!0x0,'min':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'min':0x1},'datetime':{'type':Number,'required':!0x0,'min':0x1},'status':{'type':String,'required':!0x0},'owner':{'type':String,'required':!0x0,'min':0x1}}),fo=M?.[a0_0x1fdc58(0x1fc)](vs[a0_0x1fdc58(0x5e8)],mi,a0_0x1fdc58(0x304)),wo=require(a0_0x1fdc58(0x2f8)),Ms=class{},gi=new wo[(a0_0x1fdc58(0x1c1))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1}}),yo=M?.['model'](Ms[a0_0x1fdc58(0x5e8)],gi,a0_0x1fdc58(0x5e0)),bo=require('mongoose'),Rs=class{},So=new bo['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});So[a0_0x1fdc58(0x412)](a0_0x1fdc58(0x5b1),function(_0x1a53ec){const _0x246277=a0_0x1fdc58;delete this[_0x246277(0x198)],delete this['flowIgnoreGroups'],delete this[_0x246277(0x61d)],delete this['flowStopConversation'],delete this['flowStopMinutes'],_0x1a53ec();});var Eo=M?.[a0_0x1fdc58(0x1fc)](Rs[a0_0x1fdc58(0x5e8)],So,a0_0x1fdc58(0x4ec)),As=require(a0_0x1fdc58(0x2a3)),No=require('fs'),Ht=class extends j{constructor(_0xb9b5f8,_0x5084c7){const _0x532977=a0_0x1fdc58;super(_0x5084c7),this[_0x532977(0x51d)]=_0xb9b5f8,this[_0x532977(0x2fc)]=_0x5084c7;}async[a0_0x1fdc58(0x3ab)](_0x20bdcf,_0x2b7e11){const _0x1fa044=a0_0x1fdc58;try{return this['dbSettings'][_0x1fa044(0x657)]?{'insertCount':(await this['webhookModel']['replaceOne']({'_id':_0x2b7e11},{..._0x20bdcf},{'upsert':!0x0}))['modifiedCount']}:(this['writeStore']({'path':(0x0,As[_0x1fa044(0x567)])(this['storePath'],_0x1fa044(0x4ec)),'fileName':_0x2b7e11,'data':_0x20bdcf}),{'insertCount':0x1});}catch(_0x4bf4ad){return _0x4bf4ad;}}async[a0_0x1fdc58(0x192)](_0x4e7a67){const _0x419e13=a0_0x1fdc58;try{return this['dbSettings'][_0x419e13(0x657)]?await this[_0x419e13(0x51d)]['findOne']({'_id':_0x4e7a67}):JSON[_0x419e13(0x59c)]((0x0,No[_0x419e13(0x426)])((0x0,As['join'])(this['storePath'],'webhook',_0x4e7a67+_0x419e13(0x631)),{'encoding':_0x419e13(0x359)}));}catch{return{};}}},Is=require(a0_0x1fdc58(0x2a3)),Co=require('fs'),Kt=class extends j{constructor(_0x16932a,_0x4b20d7){const _0x26da45=a0_0x1fdc58;super(_0x4b20d7),this[_0x26da45(0x38e)]=_0x16932a,this[_0x26da45(0x2fc)]=_0x4b20d7,this[_0x26da45(0x3ea)]=_0x4b20d7[_0x26da45(0x496)](_0x26da45(0x6ea));}async[a0_0x1fdc58(0x3ab)](_0x16c213,_0xe91f7e){const _0x5cb715=a0_0x1fdc58;try{return this[_0x5cb715(0x4f1)]['ENABLED']?{'insertCount':(await this[_0x5cb715(0x38e)][_0x5cb715(0x63a)]({'_id':_0xe91f7e},{..._0x16c213},{'upsert':!0x0}))[_0x5cb715(0x336)]}:(this[_0x5cb715(0x5ae)]({'path':(0x0,Is['join'])(Qt,this[_0x5cb715(0x3ea)][_0x5cb715(0x692)]),'fileName':_0xe91f7e,'data':_0x16c213}),{'insertCount':0x1});}catch(_0xd9a120){return{'error':_0xd9a120};}}async['find'](_0x4b72d6){const _0xd5ed51=a0_0x1fdc58;try{return this[_0xd5ed51(0x4f1)]['ENABLED']?await this[_0xd5ed51(0x38e)][_0xd5ed51(0x5e3)]({'_id':_0x4b72d6}):JSON['parse']((0x0,Co[_0xd5ed51(0x426)])((0x0,Is['join'])(Qt,this[_0xd5ed51(0x3ea)][_0xd5ed51(0x692)],_0x4b72d6+_0xd5ed51(0x631)),{'encoding':_0xd5ed51(0x359)}));}catch{return{};}}},hi=new v(a0_0x1fdc58(0x54b)),fi=new je(ho,y),wi=new Lt(I,y),yi=new Ze(Fe,y),bi=new st(fo,y),Si=new Ht(Eo,y),Ei=new Kt(yo,y),ue=new Wt(fi,wi,yi,bi,Si,Ei,M?.['getClient']()),B=new kt(es,y,ue),Ni=new gt(y,B,ue),Ci=new Gt(B),fs=new qt(Ci),R=new Jt(B),ne=new Vt(B,y,ue,es,Ni),Qa=new Ft(B,y),W=new jt(B),P=new Ut(B),U=new Bt(B);hi[a0_0x1fdc58(0x2b8)]('Module\x20-\x20ON');function a0_0x56bb(_0x556bdb,_0x5b8763){const _0x45ca6e=a0_0x45ca();return a0_0x56bb=function(_0x56bb83,_0x3dfb36){_0x56bb83=_0x56bb83-0x13c;let _0x434689=_0x45ca6e[_0x56bb83];return _0x434689;},a0_0x56bb(_0x556bdb,_0x5b8763);}var wp=require('express-async-errors'),Ds=require('fs'),vo=T(require(a0_0x1fdc58(0x5de))),To=T(require(a0_0x1fdc58(0x2d2))),$e=class c{static #e;static set[a0_0x1fdc58(0x6dc)](_0x57ebd8){this.#e=_0x57ebd8;}static get['https'](){const _0x30dafd=a0_0x1fdc58;let {FULLCHAIN:_0x1b323f,PRIVKEY:_0x34655b}=y['get'](_0x30dafd(0x520));return vo[_0x30dafd(0x64a)]({'cert':(0x0,Ds[_0x30dafd(0x426)])(_0x1b323f),'key':(0x0,Ds[_0x30dafd(0x426)])(_0x34655b)},c.#e);}static get['http'](){const _0x1ad8bc=a0_0x1fdc58;return To[_0x1ad8bc(0x64a)](c.#e);}},ke=T(require('fs')),Po=T(require(a0_0x1fdc58(0x6cf))),Le=T(require(a0_0x1fdc58(0x3f1))),zt=T(require(a0_0x1fdc58(0x2a3))),_o=require(a0_0x1fdc58(0x1d1)),$s=require('child_process');function vi(){const _0x60809c=a0_0x1fdc58;B[_0x60809c(0x4cf)]();let _0x33652d=zt['default'][_0x60809c(0x567)](__dirname,_0x60809c(0x14b));Oo(_0x33652d);}var Oo=_0x1b31f8=>{const _0x533c8b=a0_0x1fdc58;let _0x446716=ke[_0x533c8b(0x4ab)][_0x533c8b(0x57f)](_0x1b31f8),_0x443dbf=0xc*0x3c*0x3c*0x3e8,_0x1a2d84=0x2*0x3c*0x3c*0x3e8,_0x1ec036=new Date()[_0x533c8b(0x49f)]();_0x446716['forEach'](_0x17ba1c=>{const _0x5d4d17=_0x533c8b;let _0x4e43e8=zt[_0x5d4d17(0x4ab)]['join'](_0x1b31f8,_0x17ba1c),_0x349fb1=ke[_0x5d4d17(0x4ab)]['statSync'](_0x4e43e8)[_0x5d4d17(0x35e)]['getTime']();_0x1ec036-_0x349fb1>_0x443dbf&&(ke[_0x5d4d17(0x4ab)][_0x5d4d17(0x2a5)](_0x4e43e8),console[_0x5d4d17(0x37c)](_0x5d4d17(0x533)+_0x17ba1c));}),setTimeout(()=>Oo(_0x1b31f8),_0x1a2d84);};function Ti(){const _0x435400=a0_0x1fdc58;let _0x2431db=new v(_0x435400(0x666)),_0x175868=(0x0,me[_0x435400(0x4ab)])();_0x175868[_0x435400(0x4b4)]((0x0,Do[_0x435400(0x4ab)])({'origin'(_0x11e6fd,_0x894b1a){const _0x1f8808=_0x435400;let {ORIGIN:_0x287eb2}=y[_0x1f8808(0x496)]('CORS');return _0x11e6fd||(_0x11e6fd='*'),_0x287eb2[_0x1f8808(0x32b)]('*')!==-0x1||_0x287eb2['indexOf'](_0x11e6fd)!==-0x1?_0x894b1a(null,!0x0):_0x894b1a(new Error(_0x1f8808(0x33a)));},'methods':[...y[_0x435400(0x496)]('CORS')[_0x435400(0x52a)]],'credentials':y[_0x435400(0x496)](_0x435400(0x29e))[_0x435400(0x2b4)]}),(0x0,me['urlencoded'])({'extended':!0x0,'limit':_0x435400(0x37a)}),(0x0,me[_0x435400(0x290)])({'limit':_0x435400(0x37a)})),_0x175868[_0x435400(0x4b4)]((_0x2f850c,_0x748518,_0x285ceb)=>{const _0x1aef90=_0x435400;_0x2f850c[_0x1aef90(0x2a3)]['startsWith'](_0x1aef90(0x1e7))?_0x285ceb():(0x0,Io['default'])()(_0x2f850c,_0x748518,_0x285ceb);}),_0x175868[_0x435400(0x5a3)](_0x435400(0x439),_0x435400(0x474)),_0x175868['set']('views',(0x0,Ps['join'])(z,_0x435400(0x4cc))),_0x175868['use'](me[_0x435400(0x4ab)]['static']((0x0,Ps['join'])(z,_0x435400(0x257)))),_0x175868['use']((_0x50749b,_0x201291,_0x3ebdbc)=>{const _0x2cfeb0=_0x435400;let _0x42fa9f=_0x201291[_0x2cfeb0(0x6e2)];_0x201291[_0x2cfeb0(0x6e2)]=function(_0x4f1351){const _0x8955b0=_0x2cfeb0;if(_0x50749b['query']['convert']===_0x8955b0(0x5a6)||_0x50749b[_0x8955b0(0x266)]['uazapi']===_0x8955b0(0x5a6)){let _0x673662=JSON[_0x8955b0(0x59c)](_0x4f1351);_0x4f1351=JSON['stringify'](_0x356d63(_0x673662));}return _0x42fa9f['apply'](_0x201291,[_0x4f1351]);},_0x3ebdbc();}),_0x175868[_0x435400(0x4b4)]('/',Ot),_0x175868['use']((_0x4b1763,_0x358266,_0x22d74b,_0x2afbfc)=>{const _0x4d924f=_0x435400;if(_0x4b1763)return _0x22d74b[_0x4d924f(0x62e)](_0x4b1763[_0x4d924f(0x62e)]||0x1f4)['json'](_0x4b1763);},(_0x238da8,_0x44b1f0,_0x514aad)=>{const _0x2fe25b=_0x435400;let {method:_0x334a71,url:_0x3a06d0}=_0x238da8;_0x44b1f0[_0x2fe25b(0x62e)](0x194)[_0x2fe25b(0x290)]({'status':0x194,'message':_0x2fe25b(0x53a)+_0x334a71[_0x2fe25b(0x620)]()+'\x20'+_0x3a06d0,'error':_0x2fe25b(0x54f)}),_0x514aad();});let _0x356d63=(_0x426148,_0x3ec2e9=_0x435400(0x698))=>{const _0x4ebd7f=_0x435400;let _0x82931d=(_0xc6cf4e,_0x2bbce2=null,_0x5a3665=!0x1)=>{const _0x227c4f=a0_0x56bb;let _0x55c345={};return Object[_0x227c4f(0x1fa)](_0xc6cf4e)[_0x227c4f(0x44b)](_0x43269e=>{const _0x3ceab2=_0x227c4f;let _0x3b1c51=_0xc6cf4e[_0x43269e],_0x581503=''+_0x3ec2e9+_0x43269e;_0x2bbce2&&!_0x5a3665&&(_0x581503=_0x2bbce2+'.'+_0x43269e),!_0x3b1c51&&_0x3b1c51!==0x0&&_0x3b1c51!==!0x1||typeof _0x3b1c51>'u'?_0x55c345[_0x581503]=null:typeof _0x3b1c51!=_0x3ceab2(0x4fa)&&!Array[_0x3ceab2(0x69f)](_0x3b1c51)?_0x55c345[_0x581503]=_0x3b1c51:typeof _0x3b1c51==_0x3ceab2(0x4fa)&&!Array[_0x3ceab2(0x69f)](_0x3b1c51)?_0x55c345=Object[_0x3ceab2(0x236)](_0x55c345,_0x82931d(_0x3b1c51,_0x581503)):Array['isArray'](_0x3b1c51)&&(typeof _0x3b1c51[0x0]=='object'?(_0x55c345[_0x581503]=[],_0x3b1c51[_0x3ceab2(0x44b)](_0x10146a=>{const _0x2e2a9b=_0x3ceab2;_0x55c345[_0x581503][_0x2e2a9b(0x1b4)](_0x82931d(_0x10146a,_0x581503,!0x0));})):_0x55c345[_0x581503]=_0x3b1c51);}),_0x55c345;};return Array[_0x4ebd7f(0x69f)](_0x426148)?_0x426148[_0x4ebd7f(0x634)](_0x293b96=>_0x82931d(_0x293b96)):typeof _0x426148==_0x4ebd7f(0x4fa)&&_0x426148!==null?_0x82931d(_0x426148):{};},_0xc5521b=y['get'](_0x435400(0x666));$e[_0x435400(0x6dc)]=_0x175868;let _0x32f37e=$e[_0xc5521b[_0x435400(0x692)]],_0x111c85='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x32f37e[_0x435400(0x4d5)](_0xc5521b[_0x435400(0x383)],()=>{const _0x2697e3=_0x435400;_0x2431db['log'](_0x111c85),_0x2431db['log'](_0xc5521b[_0x2697e3(0x692)]['toUpperCase']()+'\x20-\x20ON:\x20'+_0xc5521b[_0x2697e3(0x383)]);}),vi(),Ws();}function _s(_0x53c848,_0x5882bb){return new Promise(_0x3e8611=>{const _0xdf5090=a0_0x56bb;(0x0,_o[_0xdf5090(0x415)])(_0x53c848+'\x20'+_0x5882bb,_0x25a5d6=>{_0x3e8611(!_0x25a5d6);});});}function Mo(_0x595914,_0x15b74b,_0x4f9cf2){return new Promise(_0x2e74de=>{const _0xd92b7a=a0_0x56bb;_s(_0x595914,_0x4f9cf2)[_0xd92b7a(0x453)](_0x5a49fd=>{const _0x3914c1=_0xd92b7a;if(_0x5a49fd)_0x2e74de(!0x0);else{let [_0x474b50,..._0x273c16]=_0x15b74b['split']('\x20'),_0x473db4=(0x0,$s[_0x3914c1(0x49e)])(_0x474b50,_0x273c16,{'shell':!0x0});_0x473db4['stdout']['on'](_0x3914c1(0x461),_0x25170c=>{const _0x463b64=_0x3914c1;console[_0x463b64(0x37c)](_0x595914+'\x20install\x20output:\x20'+_0x25170c);}),_0x473db4['stderr']['on'](_0x3914c1(0x461),_0x8eabc5=>{const _0x122e57=_0x3914c1;console[_0x122e57(0x484)](_0x595914+'\x20install\x20error:\x20'+_0x8eabc5);}),_0x473db4['on'](_0x3914c1(0x3fc),_0x17251b=>{const _0xf2060=_0x3914c1;_0x17251b!==0x0?(console[_0xf2060(0x484)](_0xf2060(0x342)+_0x595914+_0xf2060(0x585)+_0x17251b),_0x2e74de(!0x1)):_0x2e74de(!0x0);});}});});}var Mi=a0_0x1fdc58(0x2d9),Ri=zt[a0_0x1fdc58(0x4ab)]['join'](__dirname,a0_0x1fdc58(0x3a2)),Ce=null;function Ai(){return new Promise((_0x462c18,_0x13085c)=>{const _0xf0728b=a0_0x56bb;ke[_0xf0728b(0x4ab)]['readFile'](Ri,_0xf0728b(0x359),(_0x70d74b,_0x293e09)=>{const _0x5c12de=_0xf0728b;if(_0x70d74b){Ce=_0x70d74b,_0x462c18();return;}Po[_0x5c12de(0x4ab)][_0x5c12de(0x59c)](_0x293e09)[_0x5c12de(0x42b)][_0x5c12de(0x47b)]===Mi?(Ce=null,_0x462c18()):(Ce=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x462c18());});});}function a0_0x45ca(){const _0x250b9b=['arrayUnique','presence.update','title','\x0aitem','font','lastBlockId','jpegThumbnail','query','unreadcount','):\x20Conversa\x20inserida\x20com\x20sucesso.','fetchConversation','readdirSync','groupAcceptInvite','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20atualmente\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','reactionMessage','Invalid\x20\x22oldToken\x22','Instance\x20\x22','.\x20Código\x20de\x20saída\x20','chrome','Tanto\x20id\x20quanto\x20owner\x20são\x20necessários\x20para\x20criar\x20ou\x20editar\x20um\x20chat.','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','CHATS_SET','variablesNotFound','opus','badSession','findStatusMessage','Validate','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','PREFIX_KEY','SERVER_OFFLINE','waInstances','flushHeaders','fetchProfilePicture','restrict','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','isDirectory','setting','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','https://uazapi-plugin.bubbleapps.io/','DATABASE_CONNECTION_PASSWORD','parse','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','Message','FlowController','REDIS','dbInstance','):\x20Falha\x20ao\x20deletar\x20mensagem.','set','restart','\x1b[43m','true','.sendDataWebhook-local','valid','CONTACTS_SET','desativadoFluxoAte','creds','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','Error\x20update\x20group\x20picture','writeStore','stateConnection','realVariables','save','Type\x20not\x20found','prefixCommand','replace','getHours','express-async-errors','expiration','next_groupId','delayMessage','sleep','archive','instances','pushName','AutomateSystem\x20não\x20foi\x20inicializado','CONFIG_SESSION_PHONE','contacts.upsert','findParticipants','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','defineProperty','ios','console','editFlowReply','uazapiSendPoll','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','vcard','allflows','getContents','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','replyOption','/create','waMonit','URL:','LOG_LEVEL','parseInt','messages.set','class-validator','defineAuthState',',\x20valor\x20a\x20encontrar:\x20\x22','redis','loadEnv','where','notEmpty','remove','groups','\x1b[1m','https','REDIS_URI','authentication','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','varedits','findOne','eventemitter2','notas','editScheduleMessage','isJidGroup','name','\x20mensagens\x20de\x20','storePath','conversation','pt-BR','request\x20received\x20in\x20deleteDoneMessages','onWhatsApp','Erro\x20ao\x20buscar\x20conversas:\x20','initAuthCreds','buttonMessage','delInstanceFiles','env','scheduleSendText','format','URL','web','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','AUTOUPDATE','Revoke\x20error','groupHandler','lastCondition','revokeInviteCode','createGroup','insert','):\x20Buscando\x20conversas...','WEBHOOK_EVENTS_CHATS_SET','segundos','audioWhatsapp','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','SSL_CONF_FULLCHAIN','decryptPollVote','chatLog','sendList','STORE_CHATS','updateProfileStatus','\x20contacts','count','request\x20body:\x20','AUTHENTICATION_TYPE','CORS_CREDENTIALS','organization','pollCreationMessageV3','audioMessage','groupSettingUpdate','):\x20Procurando\x20conversa','Erro\x20ao\x20atualizar\x20conversa:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','):\x20Editando\x20edição\x20do\x20fluxo...','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','waMonitor','downloadMediaMessage','performBulkUpdate','):\x20Enviando\x20contato','flowPrefixCommand','findAndReplaceRegex','sendAudio','toUpperCase','audio/ogg;\x20codecs=opus','\x20messages.','groupRevokeInvite','):\x20Visualizando\x20AutomateSystem','match','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','QRCODE_UPDATED','varedit','Flow\x20already\x20exists','):\x20Error\x20processing\x20the\x20block:\x20','SSL_CONF_PRIVKEY','!stop','status','jid','Falha\x20ao\x20deletar\x20mensagens\x20updates:','.json','\x0aFN:','-acodec','map','instance','CLEANING_INTERVAL','Types','blockId','groupDesc','replaceOne','):\x20Conversa\x20está\x20expirada','updateFlowConfig','profilePicture','error\x20get\x20vote','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','groupSetting','whatsappNumber','\x22,\x20valor\x20a\x20substituir:\x20\x22','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','createInstance','request\x20received\x20in\x20editConversation','saveMediaToFile','logger','\x1b[32m','groupUpdateDescription','createServer','messages.update','WEBHOOK_MAP','selectableCount','messaging-history.set','):\x20Erro\x20ao\x20iniciar\x20fluxo\x20','Próxima\x20verificação\x20em\x20','fetchMessages','STATUS_INSTANCE','CONFIG_SESSION_PHONE_CLIENT','hDel','editFlow','removeProfilePicture','ENABLED','Variáveis\x20não\x20encontradas:','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','last_update','getMIMEType','and','messageModel','fileName','chatModify','\x5cd+','PLAYED','):\x20Current\x20Time:\x20','\x20segundos','getflow','evaluateCondition','SERVER','groupName','contacts.update','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','http://checkip.dyndns.org','instanceInfo','\x20inseridas\x20no\x20banco\x20de\x20dados...','abs','--version','listMessage','EMAIL:','-ar','):\x20debug\x20alterando\x20this.AutomateSystem','footerText','restartInstance','inner','ffmpeg','updatePrivacySettings','Error\x20updating\x20setting','contactMessage','messageContextInfo','DOCKER_ENV','/instance','variables','@s.whatsapp.net','Erro\x20na\x20migração:','textMessage','markMessageAsRead','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','):\x20Campos\x20a\x20serem\x20atualizados:','audio','repeat','toString','loadWebhook','addReplyOption','enumerable','redirect','archiveChat','values','Fluxos\x20não\x20estão\x20ativados','dropCollection','deleteReplyOption','delAll','verbose','TYPE','AutomateSystem','sem\x20texto\x20na\x20mensagem','libvorbis','Error\x20while\x20deleting\x20message\x20for\x20everyone','request\x20received\x20in\x20allFlows','_p_','):\x20Conversas\x20encontradas:','maxActives','PASSWORD','Por\x20favor,\x20responda\x20à\x20última\x20enquete\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','chat','documentWithCaptionMessage','isArray','updateMany','keep-alive','Method\x20not\x20implemented.','node-mime-types','createConnection','getTicketSystem','):\x20Deletando\x20mensagem','\x1b[37m','replyOptions','responsavelid','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','new.jwt','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','request\x20received\x20in\x20fetchConversation','pollMessage','getFlow',',\x20resultado:\x20','stderr','Media\x20folder\x20path:','):\x20Tentando\x20deletar\x20todas\x20mensagens\x20updates...','length','updateAgent','refused','base64','generateWAMessageFromContent','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','pollOnReplyDelete','endSession','Erro:','Valor\x20inicial:\x20\x22','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','deleteOne','/media/','SECRET','readreceipts','):\x20Enviando\x20texto','):\x20conversation.waitingPollname','Bloco\x20com\x20ID\x20','Parando\x20aplicação,\x20atualização\x20recebida','scheduleMessage','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','\x1b[40m','):\x20newFirstValue\x20após\x20replaceVariables:','announcement','optionName','inviteCode','editflowcondition','ini','address','normalizeMessage','send.message','code','media','USER','WEBHOOK_EVENTS_CONTACTS_UPSERT','WEBHOOK_EVENTS_CHATS_UPSERT','instanceName','flowConfig','flattenObject','removeData','app','KEY','online','):\x20Entrou\x20na\x20função\x20goToFlow','491713TngIIr','groupMetadata','send','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20',',\x20fará\x20nova\x20verificação\x20em\x20','GROUPS_UPDATE','Full\x20file\x20path:','MESSAGES_UPSERT','sendReaction','contactHandle','AUTHENTICATION','Connection','):\x20Editando\x20grupo\x20do\x20fluxo...','buttons','GLOBAL','updateStatusPrivacy','client','fetchInstances','description',',\x20Expiration\x20Time:\x20','\x5c$&','goNextblock','saveChatVariables','jwt','webhookService','messageTimestamp','latitude','):\x20Modified\x20Query:','hGet','/chat','all','available','wuid','STORE_MESSAGE','entries','leaveGroup','findIndex','The\x20global\x20api\x20key\x20must\x20be\x20set','updateChatWithMessage','GROUPS_UPSERT','\x20foi\x20interrompido\x20pelo\x20usuário.','updateMediaMessage','action','REDIS_ENABLED','customFields','downloads','routerPath','Forbidden','g-t','ObjectId','):\x20Criando\x20nova\x20conversa','viewOnceMessageV2','setHeader','not\x20loaded','@whiskeysockets/baileys','fetchAndUpdateProfileDetails','lastmsg','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','less','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','minutesToClose','startFlow','mediaMessage','groupJid','participant',',\x20lastCondition:\x20','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','deleteMessage','_error','\x0a{\x20instance:\x20','):\x20Enviando\x20mídia','Router','groupUpdateSubject','\x1b[46m','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','remove.instance','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','\x20foram\x20adicionados\x20\x22contactname\x22\x20','notMatchRegex','SERVER_ACK','Getting\x20profile\x20with\x20jid:\x20','trim','request\x20received\x20in\x20updateFlowConfig','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','padEnd','findContacts','sendContact','groupadd','/wa-message-update','joinGroup','imageMessage','updateParticipant','deleteBlock','events','option','render','?timestamp=','documentMessage','VERBOSE','getDevice','call','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:','__esModule','NextBlock','dark','agents','fetchBusinessProfile','exists','/wa-qrcode','del','truncatedtoEnd','Error\x20converting\x20audio:\x20','Erro\x20ao\x20atualizar\x20os\x20detalhes\x20do\x20perfil:','Atualização:\x20','text','find','formatBRNumber','uazapiSendMedia','flowConversation','):\x20transformedCustomFieldVariables','addresss','flowActive','request\x20received\x20in\x20editFlowvariable','sendMedia','TRIAL_AD','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','connecting','sendButtons','Erro\x20de\x20atualização:\x20','StatusJidList\x20is\x20required','CLIENT','group','mentioned','update','number','COLOR','reference','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','ex:\x20\x22groupJid=120362@g.us\x22','request\x20received\x20in\x20deleteConversation','phoneNumber','/*.json','sendStatus','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','\x1b[44m','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','contacts','toNumber','slice','push','SUCCESS','fluent-ffmpeg','stringify','\x22reaction\x22\x20must\x20be\x20an\x20emoji','-version','isRunning','test','stickerMessage','):\x20atualização\x20chat:\x20','WARN','):\x20leadInfoVariables','remoteJids','Schema','remoteJidsRemaining','BufferJSON','splice','findOneAndUpdate','):\x20Entrou\x20na\x20função\x20saveReply','updateStopChat','verifiedName','\x20saindo\x20da\x20função','prepareMediaMessage','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','messages','):\x20Não\x20achou\x20nenhum\x20flow','editFlowVariable','Read\x20messages','last','child_process','DEL_INSTANCE','sendDataWebhook','Error\x20updating\x20privacy\x20settings','WEBHOOK_EVENTS_CONNECTION_UPDATE','deleteDoneMessages','findByIdAndDelete','verify','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20áudio:','\x1b[31m%s\x1b[0m','collection','hex','WEBHOOK_EVENTS_MESSAGES_SET','greater','reorderBlocks','\x1b[32m%s\x1b[0m','variablesToObject','CONNECTION_UPDATE','connection.update','envProcess','leadInfo','apiResponse','/events','):\x20','makeCacheableSignalKeyStore','image','qrcode-terminal','dataValidate','toggleEphemeral','PRODUCTION',',\x20Minutes\x20to\x20Close:\x20','findAndReplace','audioCodec','app-state-sync-key','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','sign','profilePictureUrl','findConversation','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','isFile','keys','urlOrBase64','model','prototype','https://api.ipify.org?format=json','arraybuffer','limit','StartBot','group-participants.update','updateGParticipate','pollCreationMessageV2','):\x20lastBlockId:\x20','\x1b[36m%s\x1b[0m','cors','connectionState','Início','nomecompleto','buttonsMessage','contains','replacer','WEBHOOK_EVENTS_STATUS_INSTANCE','*\x0a\x0a','isBase64','):\x20Edit\x20schedule\x20message...','Error\x20removing\x20profile\x20picture','\x1b[1m\x1b[37m','moreLogs','updateProfilePicture','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','options','ignoreGroups','message','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','deleteFlow','from','\x20\x1b[0m','sections','Desconectado,\x20parando\x20execução.','):\x20expirationTime:\x20','request\x20received\x20in\x20getFlow','-instances','toLocaleString','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','):\x20Flow\x20não\x20encontrado','getVariablesChat','DATABASE_CONNECTION_HOST','chats','closed','updateGroupPicture','joinGroupValidate','):\x20Criando\x20fluxo...','PROD','groupValidate','demote','contactModel','uuid','getPrototypeOf','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','getProfileName','videoMessage','assign','run','nextBlock:','1931830ZPtdjZ','delay','HOST','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','Initial\x20__dirname:','mimetype','datetime','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','findGroups','cwd','26890162qLPAQo','findFlow','done','Primeiro\x20Valor:\x20','env.KEY\x20!==\x20key','Enter\x20a\x20value\x20in\x20milliseconds','createJid','contact_blacklist','839958CgHlUm','contextInfo','API\x20Key\x20inválida.','Parando\x20aplicação...','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','):\x20Error\x20processing\x20conditions:\x20','long','\x1b[34m','toLowerCase','readMessages','Flow\x20não\x20encontrado','public','fetchLatestBaileysVersion','updateBlock','groups.update','chats.upsert','string','video','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','Variável\x20não\x20encontrada!','isInteger','Erro\x20ao\x20editar\x20o\x20chat:\x20','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','scheduleSendMedia','quoted','Missing\x20global\x20api\x20key','headers','key','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','emit','):\x20Enviando\x20localização','DELETED','.refreshToken','release','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','updateCustomFields','eventEmitter','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','convertaudio','subjectTime','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','localWebhook','email','function','hGetAll','DATABASE_CONNECTION_URI','messageUpModel','false','Imagem\x20não\x20encontrada','fone','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','desc','CHATS_UPSERT','document','editFlowGroup','$set','groupFetchAllParticipating','The\x20','empty','):\x20Going\x20to\x20','stdout','uazapiSendContact','.X-ABLabel:Celular\x0a','allContacts','flow','errno','*Pergunta*:\x20\x0a','PENDING','json','router','):\x20Deletando\x20conversa...','createConversationforgoToFlow','type','paused','split','process','statusJidList','AutomateFunctions','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','stopIfLastReturnedError','Data\x20inválida\x20fornecida','GROUP_PARTICIPANTS_UPDATE','CORS','):\x20Editando\x20replyOption...','DEBUG','CHATS_DELETE','):\x20Query\x20params:','path','\x1b[33m','unlinkSync','No\x20invite\x20code','/wa-chats','nome','ERROR:\x20','updateGParticipant','delete','redisCache','/clients-info','put','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','^\x5cd+[\x5c.@\x5cw-]+','findGroupInfos','):\x20updateResult:','Content-Type','CREDENTIALS','Profile\x20not\x20found','connectionUpdate','leadInfo.','info','Error\x20writing\x20file:\x20','truncatedto','authState','?authSource=admin&readPreference=primary&directConnection=true','request\x20received\x20in\x20getAutomateSystem','writeFile','audioChannels','editFlowBlock','.mp3','website','selectedOptions','https://','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','reconnectTimestamps','messageHandle','READ','uncaughtException','CONFIG_SESSION_PHONE_NAME','stopMinutes','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','chatHandle','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','participants','\x22\x20cannot\x20be\x20empty','random','http','groupParticipantsUpdate','chats.update','Operador:\x20\x22','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','instanceName\x20not\x20provided.','replaceVariablesLogs','https://github.com/uazapi/uazapi.git','out','Erro\x20ao\x20iniciar\x20fluxo:\x20','1355MaBNYy','uazapiSendLocation','Invalid\x20format','authService','saveVariable','):\x20Erro\x20ao\x20editar\x20agentes:\x20','NAME','firstValue','Contacts\x20not\x20found','composing','Instância:\x20','insertMany','start','):\x20Entrou\x20na\x20função\x20stop','DARK','saveConversationToDatabase','mkdirSync','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','AUTHENTICATION_API_KEY','\x1b[47m','/wa-connection-update','resetReconnectionVariables','DATABASE','LOG_COLOR','/refreshToken','WEBHOOK_GLOBAL_URL','order','now','mongoose','text/event-stream','reconnectAttempts','close','configService','sticker','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','rm\x20-rf\x20','uazapiSendAudio','floor','API_KEY','response','messageUpdate','cleaningUp','addBlock','condition','-whatsapp-api','removed','scheduleNextCheck','):\x20Iniciando\x20bot...','WEBHOOK_EVENTS_PRESENCE_UPDATE','setWebhook','TEXT','processblock','/wa-contacts','write','sendCommand','pollUpdateMessage','OrAnd','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','message-up','pollCreationMessage','compression','.TEL;waid=','processingScheduleMessageId','capitalizedWords','changeVariables','findGroupInfo','sudo\x20apt\x20install\x20-y\x20redis-server','content','headerString','54cUFqUy','apikey','):\x20Procurando\x20mensagens\x20para\x20envio','waitingPoll_name',',\x20qrcodeCount:\x20','width','ERROR','No\x20join\x20group\x20invite\x20code\x20or\x20url','sendMessageWithTyping','):\x20Comando\x20desconhecido:\x20','indexOf','1052RKyljC','atendimentoAberto','newStoppedUntil','substring','processPollUpdateMessage','):\x20tem\x20blocks','getAllData','/wa-message','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','CONNECTION','modifiedCount','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','unreadCount','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','Not\x20allowed\x20by\x20CORS','saveAPI','):\x20alterando\x20this.AutomateSystem','poll_id','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','\x1b[33m\x1b[1m','statusCode','extractRegex','Erro\x20ao\x20instalar\x20','sort','interval\x20não\x20é\x20um\x20número','connectToWhatsapp','bodyString','):\x20isVote','Flow\x20iniciado\x20com\x20','ip:\x20','Getting\x20profile\x20info','Business\x20profile\x20fetched','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','allFlows','dbServer','namespace','generateHash','integer','/:instanceName','Unauthorized','\x1b[30m','\x20}\x0a','lastInteraction','waitingPoll_replyOptions','createNewConversation','utf-8','isLong','jsonwebtoken','presenceSubscribe','messageSecret','birthtime','HH:mm:ss','delInstanceTime','setNewValue','https://chat.whatsapp.com/','HeaderType','15DhthKU','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','size','MESSAGES_SET','repository','fullName','utf8','):\x20Erro\x20ao\x20criar\x20fluxo\x20','sendText','deleteConversation','toBrazilianNumberFormat','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','deletedCount','):\x20delete\x20=\x20true','groupId','uazapiSendText','boolean','syscall','round','profile','request\x20received\x20in\x20updateAgent','50mb','messages.upsert','log','vote','groups.upsert','createConversationforStartFlow','ephemeralMessage','mediaKey','Número:\x20','PORT','open','expression','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','audioFrequency','creds.update','rows','WEBHOOK_EVENTS_CONTACTS_SET','The\x20instance\x20needs\x20to\x20be\x20disconnected','Mensagem\x20não\x20suportada','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','authModel','Erro\x20ao\x20encerrar\x20a\x20API','RECONNECT_TIME_FRAME','creation','lastReceivedMessage','editflowgroup','toBRL','CORS_ORIGIN','@broadcast','notEqual','lean','request\x20received\x20in\x20editFlowgroup','getBase64FromMediaMessage','hSet','originalUrl','fetchContacts','errors','request\x20received\x20in\x20updateCustomFields','QRCODE_LIMIT','\x20minutos','./.git/config',',\x20valor\x20passado:\x20\x22','Error\x20in\x20markMessageAsRead:','SEND_MESSAGE','^\x5cd+([-]\x5cd+)*@g.us$','qrCode','findGroup','processConditions','ORG:','create','createWebhook','getConversation','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','^\x5cd+','processApiRequest','request\x20received\x20in\x20editFlow','Conexão\x20estabelecida','LOG','debug','connectionStatus','contact','owner','express','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','mentions','sendMessage','dbClient','Error\x20in\x20scheduleNextCheck:\x20','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','checkAndUpdateChats','mongodb://','activatedCount','PRIVKEY','BRL','editOperator','jsonschema','MESSAGES_UPDATE','connectionClosed','WEBHOOK_EVENTS_NEW_JWT_TOKEN','webhookMap','REDIS_PREFIX_KEY','\x20instance\x20does\x20not\x20exist','updateLastSeenPrivacy','editChat','Error\x20updating\x20participants','WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE','no-cache','Error\x20updating\x20profile\x20status','Not\x20is\x20business\x20profile','Original\x20filename:','qrcode.updated','opendirSync','Group\x20not\x20found','Erro\x20ao\x20obter\x20o\x20nome\x20do\x20contato:\x20','envYaml','Instância\x20não\x20encontrada.','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','displayName','uazapiDeleteMessage','pollErrorMessage','updateProfilePicturePrivacy','rowId','editflowreply','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','fetchPrivacySettings','stopConversation','):\x20Editando\x20condição\x20do\x20fluxo...','API\x20Key\x20from\x20Request:','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:','method',',\x20saindo.','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','auth','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','AUTHENTICATION_JWT_EXPIRIN_IN','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','EMAIL','):\x20Buscando\x20todos\x20os\x20fluxos...','userDevicesCache','axios','getScheduleMessage','backgroundColor','existsSync','local_map','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','CONECTADO\x20À\x20UAZAPI','pollMessageOnDelete','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','\x20minutos...','exit','contactsArrayMessage','no.connection','output','updateReplyOption','replaceVariablesInObject','protocolMessage','body','The\x20instance\x20is\x20already\x20connected','\x20horas\x20e\x20','STORE_CONTACTS','findMessages','processUazapi','):\x20Erro\x20durante\x20a\x20atualização:\x20','refreshToken','/webhook','MAX_RECONNECT_ATTEMPTS','cleanStore','../env.yml','sendLocation','chats.delete','Logger','pre','):\x20Limpando\x20AutomateSystem','end','exec','DB_PREFIX_NAME','deleteMany','getStatus','groupToggleEphemeral','noConnection','WEBHOOK_EVENTS_QRCODE_UPDATED','groupCreate','sha256','Authentication\x20error','sendPresenceUpdate','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','EXPIRIN_IN','stopped','enabled','Comando\x20desconhecido','archived','readFileSync','fetchChats','Sistema\x20atualizado\x20com\x20sucesso!','viewOnceMessage','imagechat','remote\x20\x22origin\x22','EVENTS','):\x20Buscando\x20flow...','):\x20nextBlock.uazapi.name','\x22\x20-\x20REMOVED','filter','newName','getDelay','useMultiFileAuthState','goToFlow','CONTACTS_UPDATE','header','status.instance','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','view\x20engine','readMessage','presence','CHATS_UPDATE','processgoToFlow','success','equal','endsWith','mediatype','Fluxo\x20não\x20encontrado',',\x20Segundo\x20Valor:\x20','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','stopMinutesMaxActives','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','DisconnectReason','statusMessage','fetchStatusMessage','forEach','padStart','\x20is\x20already\x20in\x20use.','metadata','/wa-groups','setContext','redis-server','optionDescription','then','post','collections','libopus','delaySecMin','WEBHOOK_EVENTS_MESSAGES_UPSERT','includes','chats.set','data:\x20','isJWT','user','Instance\x20Key\x20from\x20DB:','matchRegex','unhandledRejection','data','longitude','):\x20teve\x20mudanças\x20chat.displayName:\x20','removeInstance','updateOne','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','editedMessage','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','outputOptions','isBooleanString','picture','):\x20Deletados\x20','_id','warn','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','getClient','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','findById','hbs','params','replaceVariablesChat','sendPoll','contactname','stanzaId','waitingPoll_id','url','fromMe','Instance\x20deleted','rmSync','readMessageBot','24SlrtVw','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','formatVCard','reaction','error','dayjs','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','Error\x20updating\x20profile\x20picture','toArray','notContains','mongodb','none','upsertChats','/instance/create','lastSend','SERVER_TYPE','updateConversation','Erro\x20ao\x20buscar\x20conversa:\x20','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','The\x20\x22','uazapi','#ffffff','get','Error\x20change\x20group\x20name','creds.json','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','updateMessage','deleteInstance','sendWhatsAppAudio','key.','spawn','getTime','created','startsWith','Cache-Control','stream','END:VCARD','INFO','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','Media\x20folder\x20does\x20not\x20exist,\x20creating\x20folder...','currency','JWT','lastSendMessage','default','connected','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','unavailable','Erro\x20ao\x20editar\x20agentes:\x20','eventHandler','Já\x20existe\x20fluxo\x20com\x20esse\x20nome','sending','):\x20Enviando\x20áudio','use','trimmed','buttonText','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','/instance/fetchInstances','77IveLek','state','video-cover.png','locationMessage','redisEnv','\x1b[0m','1818594aTvJug','replaceVariables','oldToken','array','):\x20Deletando\x20fluxo...','block','hasOwnProperty','):\x20teve\x20mudanças\x20chat.name:\x20','request\x20received\x20in\x20scheduleMessage','Connection\x20closed\x20for\x20instance:\x20','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','PRESENCE_UPDATE','views','conversationTimestamp','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','loadInstance','getContentType','/message','Instance\x20logged\x20out','Error\x20updating\x20message\x20status:','\x20não\x20encontrado\x20para\x20atualização.','listen','instance.','locked','fromObject','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','promote','/media','tags','@g.us','sendSticker','cpf','leadInfo.desativadoFluxoAte','senderKeyDistributionMessage','findWebhook','Erro\x20ao\x20aplicar\x20varedit:\x20','CONTACTS_UPSERT','deleteMessageForEveryone','!cmd_','ids','shift','DELIVERY_ACK','reviver','connect','webhook','\x20chats\x20de\x20','proto','subjectOwner','\x1b[31m','dbSettings',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','):\x20teve\x20mudanças\x20chat.archived:\x20','evaluateConditionTest','match_last_seen','mediaSticker','Internal\x20Server\x20Error','not_announcement','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','object','createFlow','caption','isBusiness','getRandomText','saveTextReply','.jwt','updateProfileName','Conversa\x20deletada\x20com\x20sucesso.','buttonId','DATABASE_ENABLED','Error\x20change\x20group\x20setting','throwAndLogError','fetchProfile','https://uazapi-plugin.bubbleapps.io/?url=','request\x20received\x20in\x20editFlowcondition','Error\x20updating\x20profile\x20name','command','writeFileSync','Falha\x20ao\x20deletar\x20mensagens:','errorLog','URI','No\x20participants','\x1b[30m%s\x1b[0m','lowerCase','40gdfRmv','applyvaredit','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','max','scheduled','ogg','NEW_JWT_TOKEN','chatModel','GUARD','Erro\x20inesperado\x20em\x20processvaredits:\x20','webhookModel','messageId','secondValue','SSL_CONF','createflow','variable','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','replaceValue','editflowvariable','groupLeave','TRIAL_INSTANCE_NAME','item','Não\x20respondeu\x20com\x20a\x20enquete.','METHODS','blocks','não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','writeData','67838JaCLNE','Font\x20is\x20required','AUTHENTICATION_JWT_SECRET','tokenId','/exit','Deleted\x20','#000000','createClient','conditions','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','convertedOptions','sudo\x20apt\x20install\x20-y\x20ffmpeg','Cannot\x20','editflowblock','subject','AppStateSyncKeyData','newValue','when','editConversation','status@broadcast','\x20inseridos\x20no\x20banco\x20de\x20dados...','remoteJid','role','instanceKeys','numbers','getMinutes','apirequest','FULLCHAIN','findByIdAndUpdate','WA\x20MODULE','validate','request\x20received\x20in\x20createFlow','everyOne','Not\x20Found','contentText','generate','QRCODE','groupInviteCode','getMessage','):\x20Criou\x20conversa\x20no\x20startFlow:','STORE_CLEANING_TERMINAL','isConnected','isURL','\x20messages.update.','lastMessage','\x1b[33m%s\x1b[0m','recording','audioBitrate','.josn','editFlowCondition','store','Invalid\x20output','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','some','Error\x20fetching\x20group','LICENSE_INVALID','updateReadReceiptsPrivacy','join','value','bulkWrite','privacySettings','CORS_METHODS','editFlowVaredit','qrcode','blockLogs','logout','getAutomateSystem','context','pollCreationMessageKey','Valor\x20de\x20find\x20ou\x20replace\x20ausente'];a0_0x45ca=function(){return _0x250b9b;};return a0_0x45ca();}async function Ii(){const _0x27e235=a0_0x1fdc58;try{await Ai(),await xs();}catch(_0x35f4df){console[_0x27e235(0x484)]('Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20'+_0x35f4df),process[_0x27e235(0x3fc)](0x1);}}Ii();async function xo(){const _0x4c641c=a0_0x1fdc58;let _0x49bc90;try{_0x49bc90=(await Le[_0x4c641c(0x4ab)][_0x4c641c(0x496)]('https://jsonip.com'))['data']['ip'];}catch(_0x5644cb){console[_0x4c641c(0x484)](_0x5644cb);try{_0x49bc90=(await Le[_0x4c641c(0x4ab)][_0x4c641c(0x496)](_0x4c641c(0x1fe)))['data']['ip'];}catch(_0x5dc17a){console[_0x4c641c(0x484)](_0x5dc17a);try{_0x49bc90=(await Le[_0x4c641c(0x4ab)][_0x4c641c(0x496)](_0x4c641c(0x66a)))[_0x4c641c(0x461)][_0x4c641c(0x625)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x18ddd9){return console[_0x4c641c(0x484)](_0x18ddd9),!0x1;}}}return _0x49bc90;}async function Di(){const _0x1eba3=a0_0x1fdc58;Ce||(await Mo(_0x1eba3(0x451),_0x1eba3(0x31e),_0x1eba3(0x66e)),await Mo(_0x1eba3(0x676),_0x1eba3(0x539),_0x1eba3(0x1b9)));}var Ro=0x0;async function Oi(){const _0x1aded0=a0_0x1fdc58;Di();let _0x12047e=await _s(_0x1aded0(0x451),'--version'),_0x40361e=await _s(_0x1aded0(0x676),'-version'),_0x50f474=y['get'](_0x1aded0(0x5a0)),_0x4b6025=y['get'](_0x1aded0(0x5f9)),_0x2e3b71=y['get'](_0x1aded0(0x6ea))[_0x1aded0(0x302)][_0x1aded0(0x6dd)],_0x13ad71=y['get'](_0x1aded0(0x520)),_0x30f6e9=await xo(),_0x2aabc6=y[_0x1aded0(0x496)](_0x1aded0(0x666))['PORT'],_0x5ca292=y['get']('PHONE');try{let _0xe264df={'ip':_0x30f6e9||null,'redis_instalado':_0x12047e||null,'ffmpeg_instalado':_0x40361e||null,'redis_enable':_0x50f474?.[_0x1aded0(0x657)]||null,'autoupdate':_0x4b6025||null,'apikey':_0x2e3b71||null,'ssl':_0x13ad71?.[_0x1aded0(0x3c2)]||null,'lastupdate':$o||null,'port':_0x2aabc6||null,'phone':_0x5ca292||null,'gitInstallError':Ce?.[_0x1aded0(0x219)]||null};console[_0x1aded0(0x37c)](_0x1aded0(0x349),_0xe264df['ip']);for(let _0x5851d3 in _0xe264df)_0xe264df['hasOwnProperty'](_0x5851d3)&&_0x5851d3!=='ip'&&(_0xe264df[_0x5851d3]=JSON[_0x1aded0(0x1b7)](_0xe264df[_0x5851d3]));return(await Le['default']['post']('https://uazapi.bubbleapps.io/api/1.1/wf/verificar/',_0xe264df))[_0x1aded0(0x461)];}catch(_0x2e2a78){return console[_0x1aded0(0x484)](_0x2e2a78),!0x1;}finally{}}var Os=!0x1,$o=0x208,Pi=0x3,Ao=0x1b7740;async function xs(){const _0x223a6c=a0_0x1fdc58;if(!await xo())return console[_0x223a6c(0x484)](_0x223a6c(0x172)),'NO_IP';let _0x570e40=await Oi();if(_0x570e40){if(_0x570e40[_0x223a6c(0x303)]['licenca']===!0x0){let _0x14e275=y[_0x223a6c(0x496)](_0x223a6c(0x5f9));Ce===null&&_0x14e275!==_0x223a6c(0x27b)&&_0x570e40['response'][_0x223a6c(0x65a)]-$o>0x0&&await _i(),Os||(Os=!0x0,Ti());}else return console[_0x223a6c(0x37c)](_0x223a6c(0x682)),Os&&(console[_0x223a6c(0x37c)]('A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.'),process[_0x223a6c(0x3fc)]()),_0x223a6c(0x565);let _0x12b770=0x24*0x3c*0x3c,_0x116ce3=_0x570e40[_0x223a6c(0x303)]['segundos']>_0x12b770?_0x12b770:_0x570e40[_0x223a6c(0x303)][_0x223a6c(0x602)],_0x3332eb=Number(_0x116ce3);if(isNaN(_0x3332eb)){console[_0x223a6c(0x484)](_0x223a6c(0x344));return;}let _0x1b9d8f=Math[_0x223a6c(0x301)](_0x3332eb/0xe10),_0x2efe15=Math[_0x223a6c(0x301)](_0x3332eb%0xe10/0x3c),_0x511743=new Date(Date[_0x223a6c(0x2f7)]()+_0x3332eb*0x3e8);setTimeout(xs,_0x3332eb*0x3e8);let _0x222022=_0x2b8ff9=>_0x2b8ff9[_0x223a6c(0x686)]()[_0x223a6c(0x44c)](0x2,'0'),_0x33cb2a=_0x223a6c(0x650)+_0x222022(_0x1b9d8f)+_0x223a6c(0x405)+_0x222022(_0x2efe15)+'\x20minutos.\x20Será\x20às\x20'+_0x222022(_0x511743[_0x223a6c(0x5b5)]())+':'+_0x222022(_0x511743[_0x223a6c(0x547)]());console[_0x223a6c(0x37c)](_0x33cb2a);}else{if(Ro++,Ro<Pi)console['log']('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+Ao/0xea60+_0x223a6c(0x3fb)),setTimeout(xs,Ao);else return console[_0x223a6c(0x484)](_0x223a6c(0x271)),_0x223a6c(0x591);}}async function _i(){const _0x19c8f9=a0_0x1fdc58;console[_0x19c8f9(0x37c)](_0x19c8f9(0x6c6));let _0x31a132=(0x0,$s['spawn'])(_0x19c8f9(0x2fe),{'shell':!0x0});_0x31a132[_0x19c8f9(0x288)]['on'](_0x19c8f9(0x461),_0x2805ab=>{const _0x15fe94=_0x19c8f9;console[_0x15fe94(0x37c)](_0x15fe94(0x190)+_0x2805ab);}),_0x31a132[_0x19c8f9(0x6b1)]['on'](_0x19c8f9(0x461),_0x5dbdf2=>{const _0x50f191=_0x19c8f9;console[_0x50f191(0x484)](_0x50f191(0x19f)+_0x5dbdf2);}),_0x31a132['on'](_0x19c8f9(0x3fc),_0x8d1eca=>{const _0x8a112=_0x19c8f9;_0x8d1eca!==0x0?console[_0x8a112(0x484)]('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x8d1eca):console['log'](_0x8a112(0x428)),console[_0x8a112(0x37c)](_0x8a112(0x24f)),setTimeout(()=>process[_0x8a112(0x3fc)](),0x2710);});}