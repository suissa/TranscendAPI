const a0_0x29ff78=a0_0x5d27;(function(_0x7c7e75,_0x10c0ab){const _0x27d464=a0_0x5d27,_0x448287=_0x7c7e75();while(!![]){try{const _0x2b8b73=-parseInt(_0x27d464(0x4ad))/0x1+-parseInt(_0x27d464(0x54b))/0x2*(parseInt(_0x27d464(0xb3))/0x3)+-parseInt(_0x27d464(0x303))/0x4+-parseInt(_0x27d464(0x60d))/0x5+parseInt(_0x27d464(0x24b))/0x6*(-parseInt(_0x27d464(0x4cc))/0x7)+parseInt(_0x27d464(0x5c5))/0x8*(-parseInt(_0x27d464(0x45c))/0x9)+parseInt(_0x27d464(0x539))/0xa;if(_0x2b8b73===_0x10c0ab)break;else _0x448287['push'](_0x448287['shift']());}catch(_0x11424c){_0x448287['push'](_0x448287['shift']());}}}(a0_0x35e2,0x5f7fc));var ko=Object[a0_0x29ff78(0x776)],Je=Object[a0_0x29ff78(0x2c3)],jo=Object[a0_0x29ff78(0x2ee)],Lo=Object[a0_0x29ff78(0x1ba)],Fo=Object[a0_0x29ff78(0x5b1)],Jo=Object['prototype']['hasOwnProperty'],Uo=(_0x344eb5,_0x50d03b)=>{for(var _0x466464 in _0x50d03b)Je(_0x344eb5,_0x466464,{'get':_0x50d03b[_0x466464],'enumerable':!0x0});},Fs=(_0x2ed0c2,_0xeadf14,_0x1a2338,_0x27a5ac)=>{const _0x29d05d=a0_0x29ff78;if(_0xeadf14&&typeof _0xeadf14=='object'||typeof _0xeadf14=='function'){for(let _0x7c1673 of Lo(_0xeadf14))!Jo['call'](_0x2ed0c2,_0x7c1673)&&_0x7c1673!==_0x1a2338&&Je(_0x2ed0c2,_0x7c1673,{'get':()=>_0xeadf14[_0x7c1673],'enumerable':!(_0x27a5ac=jo(_0xeadf14,_0x7c1673))||_0x27a5ac[_0x29d05d(0x53d)]});}return _0x2ed0c2;},O=(_0x2afab0,_0x100cad,_0x59f033)=>(_0x59f033=_0x2afab0!=null?ko(Fo(_0x2afab0)):{},Fs(_0x100cad||!_0x2afab0||!_0x2afab0[a0_0x29ff78(0x379)]?Je(_0x59f033,'default',{'value':_0x2afab0,'enumerable':!0x0}):_0x59f033,_0x2afab0)),qo=_0x11d60e=>Fs(Je({},a0_0x29ff78(0x379),{'value':!0x0}),_0x11d60e),ai={};Uo(ai,{'subdomain':()=>xs}),module[a0_0x29ff78(0x22d)]=qo(ai);var Oo=O(require(a0_0x29ff78(0x2d9))),Us=require('fs'),qs=require('js-yaml'),Vs=require('path'),Ue=require(a0_0x29ff78(0x7a0)),ie=process[a0_0x29ff78(0x6fd)](),me=(0x0,Ue[a0_0x29ff78(0x46b)])(ie,a0_0x29ff78(0x698)),Js=(0x0,Ue[a0_0x29ff78(0x46b)])(ie,'src'),Ki=(0x0,Ue[a0_0x29ff78(0x46b)])(ie,a0_0x29ff78(0x20a),a0_0x29ff78(0x28f)),is=class{constructor(){const _0x5e774a=a0_0x29ff78;this[_0x5e774a(0xf7)]();}[a0_0x29ff78(0x6b4)](_0x39b38c){const _0x555dfb=a0_0x29ff78;return this[_0x555dfb(0x712)][_0x39b38c];}[a0_0x29ff78(0xf7)](){const _0xf7da6c=a0_0x29ff78;this['env']=process[_0xf7da6c(0x712)]?.[_0xf7da6c(0x49e)]!==_0xf7da6c(0x569)?this[_0xf7da6c(0x327)]():this[_0xf7da6c(0x7c4)](),process[_0xf7da6c(0x712)]?.[_0xf7da6c(0x49e)]==='true'&&(this[_0xf7da6c(0x712)][_0xf7da6c(0x1c5)]['TYPE']='http',this[_0xf7da6c(0x712)][_0xf7da6c(0x1c5)]['PORT']=Number[_0xf7da6c(0x225)](process['env']?.['SERVER_PORT']??_0xf7da6c(0x200)));}[a0_0x29ff78(0x327)](){const _0x46d597=a0_0x29ff78;return(0x0,qs[_0x46d597(0x51c)])((0x0,Us[_0x46d597(0x1e3)])((0x0,Vs['join'])(Js,_0x46d597(0x583)),{'encoding':_0x46d597(0x794)}));}[a0_0x29ff78(0x7c4)](){const _0x43741c=a0_0x29ff78;return{'SERVER':{'TYPE':process[_0x43741c(0x712)][_0x43741c(0x167)],'PORT':Number[_0x43741c(0x225)](process['env']['SERVER_PORT']),'URL':process['env']['SERVER_URL']},'CORS':{'ORIGIN':process[_0x43741c(0x712)][_0x43741c(0x6df)]['split'](','),'METHODS':process[_0x43741c(0x712)][_0x43741c(0x226)][_0x43741c(0x599)](','),'CREDENTIALS':process['env']?.[_0x43741c(0x736)]===_0x43741c(0x569)},'SSL_CONF':{'PRIVKEY':process[_0x43741c(0x712)]?.[_0x43741c(0x74d)],'FULLCHAIN':process[_0x43741c(0x712)]?.[_0x43741c(0x24f)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process[_0x43741c(0x712)]?.[_0x43741c(0x759)])?Number[_0x43741c(0x225)](process[_0x43741c(0x712)][_0x43741c(0x759)]):void 0x0,'MESSAGES':process[_0x43741c(0x712)]?.[_0x43741c(0x774)]==='true','CONTACTS':process[_0x43741c(0x712)]?.[_0x43741c(0xfc)]===_0x43741c(0x569),'CHATS':process['env']?.[_0x43741c(0x55c)]===_0x43741c(0x569)},'DATABASE':{'CONNECTION':{'HOST':process[_0x43741c(0x712)]?.[_0x43741c(0x3e3)],'PORT':Number['parseInt'](process[_0x43741c(0x712)]?.['DATABASE_CONNECTION_HOST']),'USER':process[_0x43741c(0x712)][_0x43741c(0x586)],'PASSWORD':process['env'][_0x43741c(0x6cb)],'URI':process[_0x43741c(0x712)]['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process['env'][_0x43741c(0x49a)]},'ENABLED':process[_0x43741c(0x712)]?.[_0x43741c(0x189)]===_0x43741c(0x569)},'REDIS':{'ENABLED':process[_0x43741c(0x712)]?.['REDIS_ENABLED']===_0x43741c(0x569),'URI':process[_0x43741c(0x712)][_0x43741c(0xc7)]||_0x43741c(0x5fb),'PREFIX_KEY':process[_0x43741c(0x712)][_0x43741c(0x3ad)]||_0x43741c(0x626)},'LOG':{'LEVEL':process['env']?.['LOG_LEVEL'][_0x43741c(0x599)](','),'COLOR':process['env']?.[_0x43741c(0x6be)]===_0x43741c(0x569)},'PROXY':Number[_0x43741c(0x225)](process[_0x43741c(0x712)]?.[_0x43741c(0x246)]),'AUTHENTICATION':{'TYPE':process['env']['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process[_0x43741c(0x712)][_0x43741c(0x187)]},'JWT':{'EXPIRIN_IN':Number[_0x43741c(0x380)](process[_0x43741c(0x712)]?.[_0x43741c(0x355)])?Number[_0x43741c(0x225)](process[_0x43741c(0x712)][_0x43741c(0x355)]):0xe10,'SECRET':process[_0x43741c(0x712)][_0x43741c(0x5e5)]}}};}},S=new is(),To=O(require('cors')),he=O(require(a0_0x29ff78(0x463))),js=require(a0_0x29ff78(0x7a0)),ns=O(require('dayjs')),cs=(_0x191bc1=>(_0x191bc1[a0_0x29ff78(0x6ee)]=a0_0x29ff78(0x4a9),_0x191bc1[a0_0x29ff78(0x3a1)]=a0_0x29ff78(0x2f8),_0x191bc1[a0_0x29ff78(0x558)]=a0_0x29ff78(0x30d),_0x191bc1[a0_0x29ff78(0x4af)]=a0_0x29ff78(0x4b7),_0x191bc1['DEBUG']=a0_0x29ff78(0x144),_0x191bc1['VERBOSE']=a0_0x29ff78(0x561),_0x191bc1[a0_0x29ff78(0x750)]=a0_0x29ff78(0x406),_0x191bc1))(cs||{}),Gs=(_0x4911c8=>(_0x4911c8[a0_0x29ff78(0x6ee)]=a0_0x29ff78(0x116),_0x4911c8[a0_0x29ff78(0x750)]='\x1b[30m%s\x1b[0m',_0x4911c8[a0_0x29ff78(0x3a1)]='\x1b[34m%s\x1b[0m',_0x4911c8[a0_0x29ff78(0x558)]=a0_0x29ff78(0x32d),_0x4911c8[a0_0x29ff78(0x4af)]='\x1b[31m%s\x1b[0m',_0x4911c8['DEBUG']=a0_0x29ff78(0x186),_0x4911c8[a0_0x29ff78(0x52c)]=a0_0x29ff78(0x5f7),_0x4911c8))(Gs||{}),Bs=(_0x5b2422=>(_0x5b2422['LOG']=a0_0x29ff78(0x6ee),_0x5b2422[a0_0x29ff78(0x558)]=a0_0x29ff78(0x558),_0x5b2422[a0_0x29ff78(0x3a1)]=a0_0x29ff78(0x3a1),_0x5b2422[a0_0x29ff78(0x750)]=a0_0x29ff78(0x750),_0x5b2422[a0_0x29ff78(0x4af)]=a0_0x29ff78(0x4af),_0x5b2422[a0_0x29ff78(0x71d)]=a0_0x29ff78(0x71d),_0x5b2422[a0_0x29ff78(0x52c)]=a0_0x29ff78(0x52c),_0x5b2422))(Bs||{}),Ws=(_0x3a3450=>(_0x3a3450[a0_0x29ff78(0x6ee)]='\x1b[42m',_0x3a3450[a0_0x29ff78(0x3a1)]='\x1b[44m',_0x3a3450[a0_0x29ff78(0x558)]=a0_0x29ff78(0x216),_0x3a3450[a0_0x29ff78(0x750)]=a0_0x29ff78(0x58e),_0x3a3450[a0_0x29ff78(0x4af)]=a0_0x29ff78(0x4d1),_0x3a3450[a0_0x29ff78(0x71d)]=a0_0x29ff78(0x778),_0x3a3450[a0_0x29ff78(0x52c)]=a0_0x29ff78(0x302),_0x3a3450))(Ws||{}),R=class{constructor(_0x145920='Logger'){this['context']=_0x145920,this['configService']=S;}[a0_0x29ff78(0x101)](_0x59b2eb){this['context']=_0x59b2eb;}['console'](_0x63116,_0x4ac404){const _0x31eb78=a0_0x29ff78;let _0x1d3267=[];this[_0x31eb78(0x657)][_0x31eb78(0x6b4)]('LOG')['LEVEL'][_0x31eb78(0x628)](_0x44080d=>_0x1d3267[_0x31eb78(0x41b)](Bs[_0x44080d]));let _0x2cdd4a=typeof _0x63116;_0x1d3267[_0x31eb78(0x35d)](_0x4ac404)&&(S[_0x31eb78(0x6b4)]('LOG')['COLOR']?(console[_0x31eb78(0x15d)](_0x31eb78(0x15e)+Gs[_0x4ac404],_0x31eb78(0x136),(0x0,ns['default'])()[_0x31eb78(0x194)](_0x31eb78(0x56b)),_0x31eb78(0x6f3),cs[_0x4ac404]+Ws[_0x4ac404]+_0x31eb78(0x15e),_0x4ac404+_0x31eb78(0x3f0),_0x31eb78(0x37d),this['context']+_0x31eb78(0x6f3),cs[_0x4ac404],_0x2cdd4a!==_0x31eb78(0x398)?_0x63116:'','\x1b[0m'),_0x2cdd4a===_0x31eb78(0x398)&&console[_0x31eb78(0x15d)](_0x63116,'\x0a')):console[_0x31eb78(0x15d)]((0x0,ns[_0x31eb78(0x152)])()[_0x31eb78(0x194)](_0x31eb78(0x534)),_0x4ac404+'\x20',''+this[_0x31eb78(0x798)],_0x63116));}[a0_0x29ff78(0x15d)](_0xa8ee76){const _0x17d2c2=a0_0x29ff78;this['console'](_0xa8ee76,_0x17d2c2(0x6ee));}['info'](_0x4f7d21){this['console'](_0x4f7d21,'INFO');}['warn'](_0x130506){this['console'](_0x130506,'WARN');}[a0_0x29ff78(0xdb)](_0x474d1a){const _0x5c84ef=a0_0x29ff78;this['console'](_0x474d1a,_0x5c84ef(0x4af));}[a0_0x29ff78(0x3d2)](_0x276f83){const _0x47f932=a0_0x29ff78;this['console'](_0x276f83,_0x47f932(0x52c));}[a0_0x29ff78(0x155)](_0x4f16d1){const _0x3d42bf=a0_0x29ff78;this[_0x3d42bf(0x6d6)](_0x4f16d1,_0x3d42bf(0x71d));}[a0_0x29ff78(0x3be)](_0x52722a){const _0x20d8ec=a0_0x29ff78;this[_0x20d8ec(0x6d6)](_0x52722a,'DARK');}};function zs(){const _0x5eedc5=a0_0x29ff78;process['on'](_0x5eedc5(0x1a1),(_0x58b0cb,_0x2ad2c7)=>{const _0x451633=_0x5eedc5;new R(_0x451633(0x1a1))[_0x451633(0xdb)]({'origin':_0x2ad2c7,'stderr':process[_0x451633(0x521)]['fd'],'error':_0x58b0cb});}),process['on']('unhandledRejection',(_0x2844ca,_0x4ced5e)=>{const _0x4cc6d1=_0x5eedc5;new R(_0x4cc6d1(0x1b3))[_0x4cc6d1(0xdb)]({'origin':_0x4ced5e,'stderr':process['stderr']['fd'],'error':_0x2844ca});});}var Hs=O(require(a0_0x29ff78(0x3cb))),ls=new Hs[(a0_0x29ff78(0x152))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),we=require('mongoose'),ve=O(require('mongoose')),qe=new R(a0_0x29ff78(0x3d4)),j=S[a0_0x29ff78(0x6b4)](a0_0x29ff78(0x587)),$=j['ENABLED']?j[a0_0x29ff78(0x67c)]['URI']?ve[a0_0x29ff78(0x152)][a0_0x29ff78(0x32b)](j[a0_0x29ff78(0x67c)][a0_0x29ff78(0x243)],{'dbName':j[a0_0x29ff78(0x67c)][a0_0x29ff78(0x3c2)]+a0_0x29ff78(0x4a8)}):ve[a0_0x29ff78(0x152)][a0_0x29ff78(0x32b)]('mongodb://'+j['CONNECTION']['HOST']+':'+j[a0_0x29ff78(0x67c)]['PORT']+a0_0x29ff78(0x499),{'user':j[a0_0x29ff78(0x67c)][a0_0x29ff78(0x7c7)],'pass':j[a0_0x29ff78(0x67c)][a0_0x29ff78(0x3a8)],'dbName':j[a0_0x29ff78(0x67c)]['DB_PREFIX_NAME']+a0_0x29ff78(0x4a8)}):null;j[a0_0x29ff78(0x775)]&&qe[a0_0x29ff78(0x7b5)](a0_0x29ff78(0x3d3)+$['$dbName']);var fe=j[a0_0x29ff78(0x775)]?j[a0_0x29ff78(0x67c)][a0_0x29ff78(0x243)]?ve['default'][a0_0x29ff78(0x32b)](j[a0_0x29ff78(0x67c)][a0_0x29ff78(0x243)],{'dbName':a0_0x29ff78(0x49b)}):ve[a0_0x29ff78(0x152)][a0_0x29ff78(0x32b)](a0_0x29ff78(0x57c)+j[a0_0x29ff78(0x67c)][a0_0x29ff78(0x2bc)]+':'+j['CONNECTION'][a0_0x29ff78(0x1c4)]+a0_0x29ff78(0x499),{'user':j[a0_0x29ff78(0x67c)][a0_0x29ff78(0x7c7)],'pass':j[a0_0x29ff78(0x67c)][a0_0x29ff78(0x3a8)],'dbName':'cachedContacts-whatsapp'}):null;fe&&qe[a0_0x29ff78(0x7b5)](a0_0x29ff78(0x3d3)+fe[a0_0x29ff78(0x382)]),process['on'](a0_0x29ff78(0x4d6),()=>{const _0x1d14fe=a0_0x29ff78;$&&$[_0x1d14fe(0x619)](()=>{const _0x193f0b=_0x1d14fe;qe[_0x193f0b(0x7b5)](_0x193f0b(0x487));}),fe&&fe['close'](()=>{const _0x206be1=_0x1d14fe;qe[_0x206be1(0x7b5)](_0x206be1(0x1ff));});});var Vo=new we['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Go=new we[(a0_0x29ff78(0x79e))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),Bo=new we[(a0_0x29ff78(0x79e))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),Wo=new we[(a0_0x29ff78(0x79e))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Vo],'default':[]}},{'_id':!0x1}),zo=new we[(a0_0x29ff78(0x79e))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Wo,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Go},'groupdata':{'type':Bo,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Ks=_0x420f37=>{const _0x386b5f=a0_0x29ff78;let _0x4f3ac9='z_'+_0x420f37+_0x386b5f(0x3f8);return $?.[_0x386b5f(0x13b)](_0x386b5f(0x60b),zo,_0x4f3ac9);},Qs=require('mongoose'),Ho=new Qs[(a0_0x29ff78(0x79e))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Ys=_0x2ff897=>{const _0x3953f2=a0_0x29ff78;let _0x59588d='z_'+_0x2ff897+_0x3953f2(0x544);return $?.[_0x3953f2(0x13b)]('ContactModel',Ho,_0x59588d);},Xs=require(a0_0x29ff78(0x7a7)),us=class{},Ko=new Xs[(a0_0x29ff78(0x79e))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Zs=fe?.['model'](us[a0_0x29ff78(0x177)],Ko,a0_0x29ff78(0x595)),ea=require(a0_0x29ff78(0x7a7)),Qo=new ea[(a0_0x29ff78(0x79e))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),ta=_0x5075a0=>{const _0x2f746d=a0_0x29ff78;let _0x45d52f='z_'+_0x5075a0+_0x2f746d(0x29a);return $?.[_0x2f746d(0x13b)]('MessageModel',Qo,_0x45d52f);},sa=require(a0_0x29ff78(0x7a7)),ds=class{},Yo=new sa[(a0_0x29ff78(0x79e))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),aa=$?.['model'](ds[a0_0x29ff78(0x177)],Yo,'authentication'),oa=require(a0_0x29ff78(0x7a7)),ps=class{},ra=new oa['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ra[a0_0x29ff78(0x741)](a0_0x29ff78(0x5bd),function(_0x3a7044){const _0xe5c377=a0_0x29ff78;delete this[_0xe5c377(0x257)],delete this['flowIgnoreGroups'],delete this[_0xe5c377(0x601)],delete this[_0xe5c377(0x719)],delete this['flowStopMinutes'],_0x3a7044();});var ia=$?.[a0_0x29ff78(0x13b)](ps[a0_0x29ff78(0x177)],ra,'webhook'),D=require(a0_0x29ff78(0x7a7)),hs=require('uuid'),Ve=class{},na=new D[(a0_0x29ff78(0x79e))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),gs=new D[(a0_0x29ff78(0x79e))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Xo=new D[(a0_0x29ff78(0x79e))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x29ff78(0x6e5)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x29ff78(0x624)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x29ff78(0x332)},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ca=new D['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Zo=new D[(a0_0x29ff78(0x79e))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),er=new D[(a0_0x29ff78(0x79e))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),fs=new D[(a0_0x29ff78(0x79e))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),tr=new D[(a0_0x29ff78(0x79e))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),la=new D[(a0_0x29ff78(0x79e))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Xo},'apirequest':Zo,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':tr,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ua=new D['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ws=new D[(a0_0x29ff78(0x79e))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,hs['v4'])()},'startID':{'type':String,'default':()=>(0x0,hs['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'global':{'type':String,'default':a0_0x29ff78(0x5a5)},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x47f578=a0_0x29ff78;return _0x47f578(0x17f)+Math[_0x47f578(0x72c)]()[_0x47f578(0x675)](0x24)[_0x47f578(0x4f3)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[fs],'variablesNotFound':{'type':[String]},'blocks':[la],'groups':[na],'conditions':[ca],'varedits':[ua],'replyOptions':{'type':[gs],'default':[]}});ws[a0_0x29ff78(0x741)](a0_0x29ff78(0x5bd),function(_0x385b63){const _0x24a428=a0_0x29ff78;let _0x4eae49=new Set(),_0x550417=new Set(this['variables']?.[_0x24a428(0x174)](_0x24868=>_0x24868[_0x24a428(0x177)])),_0x10bd09=JSON['stringify'](this),_0x1a37d7=/{{(?!_)([^}]*)}}/g,_0x5250aa;for(;(_0x5250aa=_0x1a37d7[_0x24a428(0x273)](_0x10bd09))!==null;)_0x550417[_0x24a428(0x6ad)](_0x5250aa[0x1])||_0x4eae49['add'](_0x5250aa[0x1]);_0x4eae49[_0x24a428(0x6af)]>0x0?(console['warn'](_0x24a428(0x57d),Array['from'](_0x4eae49)),this[_0x24a428(0x288)]=Array['from'](_0x4eae49)):this['variablesNotFound']=[],_0x385b63();}),ws[a0_0x29ff78(0x741)](a0_0x29ff78(0x700),function(_0x5d6f3b){const _0x2881f3=a0_0x29ff78;let _0x169f20=this[_0x2881f3(0x4e4)]();if(_0x169f20&&typeof _0x169f20=='object'&&_0x2881f3(0x5a7)in _0x169f20){let _0x29fe2e=_0x169f20['$set'];if(_0x29fe2e){let _0x51912a=new Set(),_0xf99a02=new Set(_0x29fe2e[_0x2881f3(0xb4)]?.['map'](_0x3eda25=>_0x3eda25[_0x2881f3(0x177)])),_0x1695ea=JSON[_0x2881f3(0x230)](_0x29fe2e),_0x474eb9=/{{(?!_)([^}]*)}}/g,_0x22a2ee;for(;(_0x22a2ee=_0x474eb9[_0x2881f3(0x273)](_0x1695ea))!==null;)_0xf99a02[_0x2881f3(0x6ad)](_0x22a2ee[0x1])||_0x51912a[_0x2881f3(0x239)](_0x22a2ee[0x1]);_0x51912a['size']>0x0?(console[_0x2881f3(0x5b5)](_0x2881f3(0x57d),Array['from'](_0x51912a)),_0x29fe2e[_0x2881f3(0x288)]=Array[_0x2881f3(0xde)](_0x51912a)):_0x29fe2e[_0x2881f3(0x288)]=[],this[_0x2881f3(0x112)]({'$set':_0x29fe2e});}}_0x5d6f3b();});var da=_0x7c5402=>{const _0xb1af16=a0_0x29ff78;let _0x331625='z_'+_0x7c5402+_0xb1af16(0x548);return $?.[_0xb1af16(0x13b)](_0xb1af16(0x149),ws,_0x331625);},sr=new D[(a0_0x29ff78(0x79e))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[fs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[er]},{'_id':!0x1}),ar=new D['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[fs],'blocks':[la],'groups':[na],'conditions':[ca],'varedits':[ua],'replyOptions':{'type':[gs],'default':[]},'chatLog':sr,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x29ff78(0x7b2)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x29ff78(0x332)},'waitingMenu_replyOptions':{'type':[gs],'default':[]}}),pa=_0x32a646=>{const _0x1a1171=a0_0x29ff78;let _0x4513f6='z_'+_0x32a646+'_FlowHistorico';return $?.[_0x1a1171(0x13b)](_0x1a1171(0x62d),ar,_0x4513f6);},or=new D[(a0_0x29ff78(0x79e))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),rr=new D[(a0_0x29ff78(0x79e))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ir=new D[(a0_0x29ff78(0x79e))]({'owner':{'type':String},'status':{'type':String,'default':'scheduled'},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':rr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[or],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ha=_0x4f9409=>{const _0xb5dd82=a0_0x29ff78;let _0x58992a='z_'+_0x4f9409+_0xb5dd82(0x4ac);return $?.[_0xb5dd82(0x13b)](_0xb5dd82(0x578),ir,_0x58992a);},ms=class{},nr=new D[(a0_0x29ff78(0x79e))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),cr=new D[(a0_0x29ff78(0x79e))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),lr=new D['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x29ff78(0x642)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),ur=new D['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),dr=new D[(a0_0x29ff78(0x79e))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[ur]},'customFields':{'type':[cr]},'flowConfig':{'type':lr,'default':{}},'autoCompleteMessages':{'type':[nr],'default':[]}}),Ne=$?.[a0_0x29ff78(0x13b)](ms[a0_0x29ff78(0x177)],dr,a0_0x29ff78(0x423)),ga=require(a0_0x29ff78(0x7a7)),pr=new ga[(a0_0x29ff78(0x79e))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ma=_0x12c556=>{const _0x241e51=a0_0x29ff78;let _0x62d96e='z_'+_0x12c556+_0x241e51(0x451);return $?.['model'](_0x241e51(0x3c0),pr,_0x62d96e);},x=class{constructor(_0x5beab8){const _0x44bcb1=a0_0x29ff78;this['dbSettings']=_0x5beab8[_0x44bcb1(0x6b4)](_0x44bcb1(0x587));}};function T(_0x7fd470){const _0x33f263=a0_0x29ff78;let _0xc27c1={};for(let [_0x394c0a,_0xb5b08e]of Object[_0x33f263(0x21d)](_0x7fd470))if(typeof _0xb5b08e==_0x33f263(0x398)&&!Array[_0x33f263(0x5eb)](_0xb5b08e)){for(let [_0x271812,_0x1cdaa7]of Object['entries'](_0xb5b08e))_0xc27c1[_0x394c0a+'.'+_0x271812]=_0x1cdaa7;}else _0xc27c1[_0x394c0a]=_0xb5b08e;return _0xc27c1;}var Ge=class{constructor(_0xc3a4a9,_0x2a8c4b,_0x22b934,_0x148e7a,_0x44a52a,_0x587a3e,_0x12f1a8,_0x2cacab,_0x5aa597,_0x22444d,_0x37785f,_0x5489ed){const _0x5a35ee=a0_0x29ff78;this[_0x5a35ee(0x620)]=_0xc3a4a9,this[_0x5a35ee(0x77e)]=_0x2a8c4b,this['contact']=_0x22b934,this['cacheContact']=_0x148e7a,this[_0x5a35ee(0x3df)]=_0x44a52a,this[_0x5a35ee(0x28f)]=_0x587a3e,this[_0x5a35ee(0x403)]=_0x12f1a8,this[_0x5a35ee(0x2bd)]=_0x2cacab,this[_0x5a35ee(0x4a4)]=_0x5aa597,this[_0x5a35ee(0x26f)]=_0x22444d,this[_0x5a35ee(0x16a)]=_0x37785f,this['dbClient']=_0x5489ed;}get[a0_0x29ff78(0x7a4)](){const _0x495fa4=a0_0x29ff78;return this[_0x495fa4(0x5ef)];}},Be=class{},We=class extends x{[a0_0x29ff78(0x721)](_0x3fc65b){return ta(_0x3fc65b);}async[a0_0x29ff78(0x3e9)](_0x579e04,_0x49c717){const _0x4e7a64=a0_0x29ff78;if(_0x579e04[_0x4e7a64(0x78c)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x49c717)[_0x4e7a64(0x483)]([..._0x579e04]))[_0x4e7a64(0x78c)]};}catch(_0x2355e2){return _0x2355e2;}}async[a0_0x29ff78(0x7a5)](_0x3d79c9,_0x50cca6){const _0x530562=a0_0x29ff78;try{let _0x552b14=this['getMessageModelForOwner'](_0x50cca6),_0x44215b=T(_0x3d79c9['where']);return await _0x552b14['find'](_0x44215b)[_0x530562(0x385)]({'messageTimestamp':-0x1})[_0x530562(0x5dc)](_0x3d79c9?.[_0x530562(0x5dc)]??0x0)[_0x530562(0x1c1)]();}catch{return[];}}async[a0_0x29ff78(0x7b8)](_0x11a275,_0x2b8de2){const _0x447183=a0_0x29ff78;try{let _0x5ca034=this['getMessageModelForOwner'](_0x2b8de2),_0x455d0d=T(_0x11a275[_0x447183(0x485)]);await _0x5ca034[_0x447183(0x67e)](_0x455d0d);}catch(_0x8dc3f7){console[_0x447183(0xdb)](_0x8dc3f7);}}async[a0_0x29ff78(0x6e6)](_0x49922d,_0x40d96c,_0x26df6d){const _0x42a5ce=a0_0x29ff78;try{let _0xe6c727=this[_0x42a5ce(0x721)](_0x26df6d),_0x5879bc=T(_0x49922d['where']);return await _0xe6c727[_0x42a5ce(0x700)](_0x5879bc,{'$set':_0x40d96c},{'new':!0x0});}catch(_0x34335e){throw console['error'](_0x34335e),_0x34335e;}}async[a0_0x29ff78(0x483)](_0x5dcb61,_0x5312a6){const _0x12f312=a0_0x29ff78;if(_0x5dcb61['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x5312a6)[_0x12f312(0x483)]([..._0x5dcb61]))['length']};}catch(_0x4c28ed){return console[_0x12f312(0x15d)]('ERROR:\x20',_0x4c28ed),_0x4c28ed;}}async[a0_0x29ff78(0xb8)](_0x4747bf){const _0x4f4592=a0_0x29ff78;try{return await this[_0x4f4592(0x721)](_0x4747bf)[_0x4f4592(0x300)]['drop'](),{'success':!0x0};}catch(_0x36eeef){return console[_0x4f4592(0xdb)](_0x36eeef),{'success':!0x1,'error':_0x36eeef};}}},$s=O(require('@ffmpeg-installer/ffmpeg')),f=O(require('@whiskeysockets/baileys')),De=require('fs'),L=O(require(a0_0x29ff78(0x7a0))),Q=O(require(a0_0x29ff78(0xf1))),So=require(a0_0x29ff78(0x5ae)),Mo=O(require(a0_0x29ff78(0x67d))),Co=O(require(a0_0x29ff78(0x7c3))),fa=[a0_0x29ff78(0x465),a0_0x29ff78(0x329),'audioMessage',a0_0x29ff78(0x1ab),a0_0x29ff78(0x589)],wa=[a0_0x29ff78(0x40e),a0_0x29ff78(0x292),a0_0x29ff78(0x6e3),a0_0x29ff78(0x520)],As=require('os'),kt=O(require(a0_0x29ff78(0x43b))),_e=require(a0_0x29ff78(0x2e6)),jt=require(a0_0x29ff78(0x3d9)),re=O(require(a0_0x29ff78(0x7a7))),P=require(a0_0x29ff78(0x31b)),ye=class{constructor(_0x305773,_0x3646c3,_0x1ff64b){const _0x481711=a0_0x29ff78;this[_0x481711(0x60c)]=_0x305773,this[_0x481711(0x3f6)]=_0x3646c3,this['name']=_0x1ff64b;}},ze=class{},He=class{},Re=class{},Ke=class{},Qe=class{},be=class{},Ye=class{},Xe=class{},Ze=class{},et=class{},It=O(require(a0_0x29ff78(0x463))),ya=require('fs'),ba=require(a0_0x29ff78(0x7a0));async function $e(_0x2f00f0){const _0x56e0cd=a0_0x29ff78;let _0x2092de=B['waInstances'][_0x2f00f0];if(j[_0x56e0cd(0x775)]){let _0x289486=$[_0x56e0cd(0x22a)]()['db'](j['CONNECTION']['DB_PREFIX_NAME']+_0x56e0cd(0x320))[_0x56e0cd(0x300)](_0x2f00f0);return _0x2092de||(await _0x289486[_0x56e0cd(0x7a5)]({})[_0x56e0cd(0x5bc)]())[_0x56e0cd(0x78c)]>0x0;}return _0x2092de||(0x0,ya[_0x56e0cd(0x509)])((0x0,ba['join'])(me,_0x2f00f0));}async function Sa(_0x4ec4c9,_0x197dae,_0x4349bc){const _0x36a26c=a0_0x29ff78;if(_0x4ec4c9['originalUrl']['includes'](_0x36a26c(0x6aa))||_0x4ec4c9[_0x36a26c(0x264)][_0x36a26c(0x35d)](_0x36a26c(0x34e))||_0x4ec4c9[_0x36a26c(0x264)][_0x36a26c(0x35d)](_0x36a26c(0x1a0))||_0x4ec4c9[_0x36a26c(0x264)][_0x36a26c(0x35d)](_0x36a26c(0x55a))||_0x4ec4c9[_0x36a26c(0x264)][_0x36a26c(0x35d)](_0x36a26c(0x290))||_0x4ec4c9[_0x36a26c(0x264)][_0x36a26c(0x35d)](_0x36a26c(0x6d1))||_0x4ec4c9[_0x36a26c(0x264)][_0x36a26c(0x35d)](_0x36a26c(0x562)))return _0x4349bc();let _0x1fdd18=_0x4ec4c9[_0x36a26c(0x4bc)];if(!_0x1fdd18?.[_0x36a26c(0x247)])throw new m('instanceName\x20not\x20provided.');if(!await $e(_0x1fdd18[_0x36a26c(0x247)]))throw new U(_0x36a26c(0x1f1)+_0x1fdd18[_0x36a26c(0x247)]+_0x36a26c(0x692));_0x4349bc();}async function Ma(_0x4fbb7b,_0x552815,_0x573ad9){const _0x2dd215=a0_0x29ff78;if(_0x4fbb7b[_0x2dd215(0x264)][_0x2dd215(0x35d)](_0x2dd215(0x6aa))){let _0x5dc81f=_0x4fbb7b[_0x2dd215(0x73e)];if(await $e(_0x5dc81f[_0x2dd215(0x247)]))throw new Y(_0x2dd215(0x35e)+_0x5dc81f[_0x2dd215(0x247)]+_0x2dd215(0x34d));B[_0x2dd215(0x745)][_0x5dc81f[_0x2dd215(0x247)]]&&delete B['waInstances'][_0x5dc81f['instanceName']];}_0x573ad9();}var Ca=require(a0_0x29ff78(0x31b)),Ea=O(require(a0_0x29ff78(0x2b5))),tt=a0_0x29ff78(0x626),gr=new R('GUARD');async function mr(_0x490e57,_0x1e4b33,_0x3816b8){const _0x475790=a0_0x29ff78;let _0x48dfd8=_0x490e57['get'](_0x475790(0x69e));if(_0x48dfd8&&S[_0x475790(0x6b4)](_0x475790(0x5d2))[_0x475790(0x44d)][_0x475790(0x1ca)]!==_0x48dfd8)throw new ae();if(S[_0x475790(0x6b4)](_0x475790(0x5d2))[_0x475790(0x44d)][_0x475790(0x1ca)]===_0x48dfd8)return _0x3816b8();if((_0x490e57[_0x475790(0x264)][_0x475790(0x35d)](_0x475790(0x6aa))||_0x490e57[_0x475790(0x264)][_0x475790(0x35d)](_0x475790(0x34e)))&&!_0x48dfd8)throw new Y('Missing\x20global\x20api\x20key',_0x475790(0x3ba));let _0x3b619c=S[_0x475790(0x6b4)](_0x475790(0x5d2))['JWT'];try{let [_0x20b7f4,_0x1f9751]=_0x490e57[_0x475790(0x6b4)](_0x475790(0x3b6))[_0x475790(0x599)]('\x20');if(_0x20b7f4[_0x475790(0xb5)]()!==_0x475790(0x452))throw new ae();if(!(0x0,Ca[_0x475790(0x77c)])(_0x1f9751))throw new ae();let _0x33889=_0x490e57[_0x475790(0x4bc)],_0x307151=Ea[_0x475790(0x152)][_0x475790(0x69d)](_0x1f9751,_0x3b619c[_0x475790(0xc5)],{'ignoreExpiration':_0x3b619c[_0x475790(0x185)]===0x0});if(_0x33889[_0x475790(0x247)]!==_0x307151[_0x475790(0x247)]||tt!==_0x307151[_0x475790(0x647)])throw new ae();return _0x3816b8();}catch(_0x289ef4){throw gr[_0x475790(0xdb)](_0x289ef4),new ae();}}async function fr(_0xf2363a,_0x47bf0f,_0x26f88b){const _0x207ea3=a0_0x29ff78;let _0x397e4f=S[_0x207ea3(0x6b4)](_0x207ea3(0x5d2))[_0x207ea3(0x44d)],_0x2f0a27=_0xf2363a[_0x207ea3(0x6b4)]('apikey');if(_0x397e4f['KEY']===_0x2f0a27)return _0x26f88b();if(_0xf2363a['originalUrl'][_0x207ea3(0x35d)](_0x207ea3(0x6aa))){let _0x4e7b3f=st,_0x21be5b=_0xf2363a[_0x207ea3(0x73e)][_0x207ea3(0x247)];if(_0x4e7b3f&&_0x21be5b['toLowerCase']()[_0x207ea3(0x25b)](_0x4e7b3f['toLowerCase']()))return _0x26f88b();if(!_0x2f0a27)throw new Y(_0x207ea3(0x6e1),_0x207ea3(0x3ba));}if(_0xf2363a[_0x207ea3(0x264)][_0x207ea3(0x35d)](_0x207ea3(0x34e))&&!_0x2f0a27)throw new Y(_0x207ea3(0x6e1),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0xf2363a[_0x207ea3(0x264)]['includes']('/exit')&&!_0x2f0a27)throw new Y(_0x207ea3(0x6e1),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0xf2363a['originalUrl'][_0x207ea3(0x35d)]('/config')&&!_0x2f0a27)throw new Y(_0x207ea3(0x6e1),_0x207ea3(0x3ba));try{let _0x27eec8=_0xf2363a[_0x207ea3(0x4bc)],_0x586f92=await ue[_0x207ea3(0x28f)][_0x207ea3(0x7a5)](_0x27eec8[_0x207ea3(0x247)]);if(_0x586f92&&_0x586f92['apikey']===_0x2f0a27)return _0x26f88b();}catch{}throw new ae();}var va={'jwt':mr,'apikey':fr},oo=require(a0_0x29ff78(0x463)),v=require(a0_0x29ff78(0x5ae)),E=(..._0xe119dd)=>{const _0x3b0133=a0_0x29ff78;let _0x402182={};return _0xe119dd[_0x3b0133(0x628)](_0x27a47e=>_0x402182[_0x27a47e]={'minLength':0x1,'description':_0x3b0133(0x248)+_0x27a47e+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0xe119dd]}},'then':{'properties':_0x402182}};},N={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'instanceName':{'type':'string'}},...E('instanceName')},rc={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'oldToken':{'type':a0_0x29ff78(0x52a)}},'required':[a0_0x29ff78(0x5ba)],...E('oldToken')},ic={'properties':{'key':{'type':a0_0x29ff78(0x398),'properties':{'id':{'type':a0_0x29ff78(0x52a)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x29ff78(0x6a6),'enum':[!0x0,!0x1]}},'required':['id',a0_0x29ff78(0x5aa),a0_0x29ff78(0x66b)],...E('id',a0_0x29ff78(0x5aa))},'message':{'type':'object'}}},X={'properties':{'delay':{'type':'integer','description':a0_0x29ff78(0x756)},'presence':{'type':a0_0x29ff78(0x52a),'enum':[a0_0x29ff78(0x59b),a0_0x29ff78(0x427),'composing',a0_0x29ff78(0x717),a0_0x29ff78(0x79f)]}}},H={'type':a0_0x29ff78(0x52a),'description':a0_0x29ff78(0x345)},Na={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'number':{...H},'options':{...X},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x29ff78(0x52a)}},'required':['text'],...E(a0_0x29ff78(0x33c))}},'required':[a0_0x29ff78(0x789),a0_0x29ff78(0x772)]},Ra={'type':a0_0x29ff78(0x52a),'pattern':a0_0x29ff78(0x6a1),'description':'Invalid\x20format'},nc={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'number':{...Ra},'options':{...X},'textMessage':{'type':a0_0x29ff78(0x398),'properties':{'text':{'type':a0_0x29ff78(0x52a)}},'required':[a0_0x29ff78(0x33c)],...E('text')}},'required':['textMessage',a0_0x29ff78(0x772)]},cc={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'number':{...Ra},'options':{...X},'mediaMessage':{'type':a0_0x29ff78(0x398),'properties':{'mediatype':{'type':a0_0x29ff78(0x52a),'enum':[a0_0x29ff78(0x6f7),'document',a0_0x29ff78(0xec),a0_0x29ff78(0x3b7)]},'media':{'type':a0_0x29ff78(0x52a)},'fileName':{'type':'string'},'caption':{'type':'string'}},'required':[a0_0x29ff78(0x182),a0_0x29ff78(0x648)],...E(a0_0x29ff78(0x6ac),a0_0x29ff78(0x48f),a0_0x29ff78(0x648))}},'required':[a0_0x29ff78(0x4d5),a0_0x29ff78(0x772)]},$a={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'number':{...H},'options':{...X},'stickerMessage':{'type':a0_0x29ff78(0x398),'properties':{'image':{'type':'string'}},'required':[a0_0x29ff78(0x6f7)],...E(a0_0x29ff78(0x6f7))}},'required':[a0_0x29ff78(0x589),a0_0x29ff78(0x772)]},Aa={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'statusMessage':{'type':a0_0x29ff78(0x398),'properties':{'type':{'type':a0_0x29ff78(0x52a),'enum':['text',a0_0x29ff78(0x6f7),a0_0x29ff78(0x3b7),a0_0x29ff78(0xec)]},'content':{'type':'string'},'caption':{'type':'string'},'backgroundColor':{'type':a0_0x29ff78(0x52a)},'font':{'type':a0_0x29ff78(0x6f9),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x29ff78(0x3ee),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x29ff78(0x52a),'pattern':a0_0x29ff78(0x170),'description':a0_0x29ff78(0x1e7)}},'allContacts':{'type':a0_0x29ff78(0x6a6),'enum':[!0x0,!0x1]}},'required':[a0_0x29ff78(0x14b),a0_0x29ff78(0x529)],...E(a0_0x29ff78(0x14b),a0_0x29ff78(0x529))}},'required':[a0_0x29ff78(0x6ef)]},Oa={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'number':{...H},'options':{...X},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x29ff78(0x52a),'enum':[a0_0x29ff78(0x6f7),a0_0x29ff78(0x12d),a0_0x29ff78(0xec),a0_0x29ff78(0x3b7)]},'media':{'type':a0_0x29ff78(0x52a)},'fileName':{'type':a0_0x29ff78(0x52a)},'caption':{'type':'string'}},'required':[a0_0x29ff78(0x182),a0_0x29ff78(0x648)],...E(a0_0x29ff78(0x6ac),a0_0x29ff78(0x48f),a0_0x29ff78(0x648))}},'required':['mediaMessage',a0_0x29ff78(0x772)]},Ta={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'number':{...H},'options':{...X},'audioMessage':{'type':a0_0x29ff78(0x398),'properties':{'audio':{'type':'string'}},'required':[a0_0x29ff78(0x3b7)],...E('audio')}},'required':[a0_0x29ff78(0x4e5),'number']},Ia={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'number':{...H},'pollMessage':{'type':a0_0x29ff78(0x398),'properties':{'name':{'type':'string'},'selectableCount':{'type':a0_0x29ff78(0x772)},'values':{'type':a0_0x29ff78(0x3ee),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x29ff78(0x177),a0_0x29ff78(0x16d),'values'],...E(a0_0x29ff78(0x177),'selectableCount',a0_0x29ff78(0x4ae))}},'required':[a0_0x29ff78(0x772),a0_0x29ff78(0x55e)]},xa={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'number':{...H},'menuMessage':{'type':'object','properties':{'text':{'type':'string'},'choices':{'type':a0_0x29ff78(0x3ee),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x29ff78(0x33c),a0_0x29ff78(0x55f)],...E(a0_0x29ff78(0x33c),'choices')}},'required':[a0_0x29ff78(0x772),'menuMessage']},Da={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'number':{...H},'options':{...X},'buttonMessage':{'type':'object','properties':{'title':{'type':a0_0x29ff78(0x52a)},'description':{'type':'string'},'footerText':{'type':a0_0x29ff78(0x52a)},'buttons':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':'string'},'buttonId':{'type':a0_0x29ff78(0x52a)}},'required':['buttonText',a0_0x29ff78(0x276)],...E(a0_0x29ff78(0x79b),a0_0x29ff78(0x276))}},'mediaMessage':{'type':'object','properties':{'media':{'type':a0_0x29ff78(0x52a)},'fileName':{'type':a0_0x29ff78(0x52a)},'mediatype':{'type':a0_0x29ff78(0x52a),'enum':['image','document',a0_0x29ff78(0xec)]}},'required':[a0_0x29ff78(0x648),a0_0x29ff78(0x182)],...E(a0_0x29ff78(0x648),a0_0x29ff78(0x6ac))}},'required':[a0_0x29ff78(0x61b),a0_0x29ff78(0x274)],...E(a0_0x29ff78(0x61b),a0_0x29ff78(0x3a0))}},'required':[a0_0x29ff78(0x772),a0_0x29ff78(0x2cd)]},_a={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'number':{...H},'options':{...X},'locationMessage':{'type':'object','properties':{'latitude':{'type':a0_0x29ff78(0x772)},'longitude':{'type':a0_0x29ff78(0x772)},'name':{'type':a0_0x29ff78(0x52a)},'address':{'type':'string'}},'required':[a0_0x29ff78(0x585),a0_0x29ff78(0x726)],...E('name','addresss')}},'required':[a0_0x29ff78(0x772),'locationMessage']},Pa={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'number':{...H},'options':{...X},'listMessage':{'type':a0_0x29ff78(0x398),'properties':{'title':{'type':a0_0x29ff78(0x52a)},'description':{'type':a0_0x29ff78(0x52a)},'footerText':{'type':'string'},'buttonText':{'type':a0_0x29ff78(0x52a)},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x29ff78(0x398),'properties':{'title':{'type':'string'},'rows':{'type':a0_0x29ff78(0x3ee),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x29ff78(0x52a)},'description':{'type':a0_0x29ff78(0x52a)},'rowId':{'type':a0_0x29ff78(0x52a)}},'required':['title',a0_0x29ff78(0x627)],...E(a0_0x29ff78(0x61b),a0_0x29ff78(0x627))}}},'required':['title',a0_0x29ff78(0x334)],...E(a0_0x29ff78(0x61b))}}},'required':[a0_0x29ff78(0x61b),a0_0x29ff78(0x3a0),a0_0x29ff78(0x79b),a0_0x29ff78(0x29f)],...E(a0_0x29ff78(0x61b),a0_0x29ff78(0x3a0),a0_0x29ff78(0x79b),a0_0x29ff78(0x4a2))}},'required':[a0_0x29ff78(0x772),'listMessage']},ka={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...H},'options':{...X},'contactMessage':{'type':a0_0x29ff78(0x3ee),'items':{'type':a0_0x29ff78(0x398),'properties':{'fullName':{'type':a0_0x29ff78(0x52a)},'phoneNumber':{'type':a0_0x29ff78(0x52a),'minLength':0xa}},'required':[a0_0x29ff78(0x4ce),a0_0x29ff78(0x38f)],...E(a0_0x29ff78(0x4ce))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x29ff78(0x772),a0_0x29ff78(0x6c9)]},ja={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'reactionMessage':{'type':a0_0x29ff78(0x398),'properties':{'key':{'type':'object','properties':{'id':{'type':'string'},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x29ff78(0x6a6),'enum':[!0x0,!0x1]}},'required':['id',a0_0x29ff78(0x5aa),'fromMe'],...E('id',a0_0x29ff78(0x5aa))},'reaction':{'type':'string'}},'required':[a0_0x29ff78(0x60f),a0_0x29ff78(0x175)],...E(a0_0x29ff78(0x175))}},'required':[a0_0x29ff78(0x5ab)]},La={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'numbers':{'type':a0_0x29ff78(0x3ee),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x29ff78(0x52a),'pattern':a0_0x29ff78(0x170),'description':a0_0x29ff78(0x6f4)}}}},Fa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0x29ff78(0x3ee),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x29ff78(0x52a)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x29ff78(0x52a)}},'required':['id',a0_0x29ff78(0x66b),a0_0x29ff78(0x5aa)],...E('id',a0_0x29ff78(0x5aa))}}},'required':['readMessages']},Ja={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'privacySettings':{'type':a0_0x29ff78(0x398),'properties':{'readreceipts':{'type':'string','enum':[a0_0x29ff78(0x4fb),a0_0x29ff78(0x2e4)]},'profile':{'type':a0_0x29ff78(0x52a),'enum':[a0_0x29ff78(0x4fb),'contacts','contact_blacklist',a0_0x29ff78(0x2e4)]},'status':{'type':a0_0x29ff78(0x52a),'enum':['all',a0_0x29ff78(0x498),a0_0x29ff78(0x5fc),a0_0x29ff78(0x2e4)]},'online':{'type':'string','enum':[a0_0x29ff78(0x4fb),a0_0x29ff78(0x49d)]},'last':{'type':a0_0x29ff78(0x52a),'enum':[a0_0x29ff78(0x4fb),a0_0x29ff78(0x498),a0_0x29ff78(0x5fc),'none']},'groupadd':{'type':a0_0x29ff78(0x52a),'enum':[a0_0x29ff78(0x4fb),a0_0x29ff78(0x498),a0_0x29ff78(0x5fc),a0_0x29ff78(0x2e4)]}},'required':[a0_0x29ff78(0x57b),a0_0x29ff78(0x555),'status',a0_0x29ff78(0x560),'last',a0_0x29ff78(0xed)],...E('readreceipts',a0_0x29ff78(0x555),'status',a0_0x29ff78(0x560),'last','groupadd')}},'required':[a0_0x29ff78(0x37f)]},Ua={'$id':(0x0,v['v4'])(),'type':'object','properties':{'lastMessage':{'type':a0_0x29ff78(0x398),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x29ff78(0x52a)},'remoteJid':{'type':a0_0x29ff78(0x52a)},'fromMe':{'type':a0_0x29ff78(0x6a6),'enum':[!0x0,!0x1]}},'required':['id',a0_0x29ff78(0x66b),a0_0x29ff78(0x5aa)],...E('id',a0_0x29ff78(0x5aa))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x29ff78(0x60f)],...E(a0_0x29ff78(0x22e))},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['lastMessage',a0_0x29ff78(0x192)]},qa={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'id':{'type':a0_0x29ff78(0x52a)},'fromMe':{'type':a0_0x29ff78(0x6a6),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x29ff78(0x52a)},'participant':{'type':a0_0x29ff78(0x52a)}},'required':['id',a0_0x29ff78(0x66b),a0_0x29ff78(0x5aa)],...E('id',a0_0x29ff78(0x5aa),a0_0x29ff78(0x210))},Va={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'where':{'type':a0_0x29ff78(0x398),'properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':a0_0x29ff78(0x52a),'minLength':0x1},'id':{'type':'string','minLength':0x1}},...E(a0_0x29ff78(0x5e4),'id',a0_0x29ff78(0xcd))}}},Ga={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'name':{'type':'string'}},...E(a0_0x29ff78(0x177))},Ba={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'status':{'type':a0_0x29ff78(0x52a)}},...E(a0_0x29ff78(0x353))},Ae={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'number':{'type':a0_0x29ff78(0x52a)},'picture':{'type':a0_0x29ff78(0x52a)}}},Wa={'type':'object','properties':{'wuid':{'type':a0_0x29ff78(0x52a)},'name':{'type':a0_0x29ff78(0x52a)},'picture':{'type':a0_0x29ff78(0x52a)},'status':{'type':'string'},'isBusiness':{'type':'boolean'}}},za={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'where':{'type':a0_0x29ff78(0x398),'properties':{'_id':{'type':a0_0x29ff78(0x52a),'minLength':0x1},'key':{'type':a0_0x29ff78(0x398),'if':{'propertyNames':{'enum':['fromMe',a0_0x29ff78(0x5aa),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x29ff78(0x52a),'minLength':0x1,'description':a0_0x29ff78(0x5f9)},'id':{'type':a0_0x29ff78(0x52a),'minLength':0x1,'description':a0_0x29ff78(0x5f9)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x29ff78(0x398)}},...E('_id')},'limit':{'type':a0_0x29ff78(0x6f9)}}},lc={'$id':(0x0,v['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':'string'},'remoteJid':{'type':a0_0x29ff78(0x52a)},'id':{'type':a0_0x29ff78(0x52a)},'fromMe':{'type':a0_0x29ff78(0x6a6),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x29ff78(0x52a)},'status':{'type':a0_0x29ff78(0x52a),'enum':['ERROR',a0_0x29ff78(0x72e),a0_0x29ff78(0x2fd),'DELIVERY_ACK',a0_0x29ff78(0x655),a0_0x29ff78(0x64c)]}},...E(a0_0x29ff78(0x5e4),a0_0x29ff78(0x5aa),'id',a0_0x29ff78(0x353))},'limit':{'type':a0_0x29ff78(0x6f9)}}},Ha={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...H},'presence':{'type':a0_0x29ff78(0x52a),'enum':[a0_0x29ff78(0x59b),a0_0x29ff78(0x427),'composing',a0_0x29ff78(0x717),'paused']}},'required':['presence',a0_0x29ff78(0x772)]},Ka={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'subject':{'type':a0_0x29ff78(0x52a)},'description':{'type':a0_0x29ff78(0x52a)},'profilePicture':{'type':a0_0x29ff78(0x52a)},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x29ff78(0x52a),'minLength':0xa,'pattern':a0_0x29ff78(0x616),'description':a0_0x29ff78(0x733)}}},'required':['subject',a0_0x29ff78(0x523)],...E(a0_0x29ff78(0xf0),a0_0x29ff78(0x3a0),a0_0x29ff78(0x229))},Oe={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'groupJid':{'type':a0_0x29ff78(0x52a),'pattern':a0_0x29ff78(0x2b4)}},'required':[a0_0x29ff78(0x1e6)],...E(a0_0x29ff78(0x1e6))},Qa={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'groupJid':{'type':a0_0x29ff78(0x52a)},'action':{'type':a0_0x29ff78(0x52a),'enum':[a0_0x29ff78(0x239),a0_0x29ff78(0x21f),a0_0x29ff78(0x4a5),'demote','reject',a0_0x29ff78(0x28d)]},'participants':{'type':a0_0x29ff78(0x3ee),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x29ff78(0x616),'description':a0_0x29ff78(0x733)}}},'required':[a0_0x29ff78(0x1e6),a0_0x29ff78(0x538),a0_0x29ff78(0x523)],...E(a0_0x29ff78(0x1e6),a0_0x29ff78(0x538))},Ya={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'groupJid':{'type':a0_0x29ff78(0x52a)},'expiration':{'type':a0_0x29ff78(0x772),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x29ff78(0x1e6),a0_0x29ff78(0x159)],...E(a0_0x29ff78(0x1e6),a0_0x29ff78(0x159))},Xa={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'groupJid':{'type':a0_0x29ff78(0x52a)},'image':{'type':a0_0x29ff78(0x52a)}},'required':[a0_0x29ff78(0x1e6),a0_0x29ff78(0x6f7)],...E(a0_0x29ff78(0x1e6),a0_0x29ff78(0x6f7))},Za={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'groupJid':{'type':'string'},'description':{'type':a0_0x29ff78(0x52a)}},'required':[a0_0x29ff78(0x1e6),'description'],...E('groupJid',a0_0x29ff78(0x3a0))},eo={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'groupJid':{'type':a0_0x29ff78(0x52a)},'name':{'type':'string'}},'required':[a0_0x29ff78(0x1e6),a0_0x29ff78(0x177)],...E(a0_0x29ff78(0x1e6),a0_0x29ff78(0x177))},to={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'groupJid':{'type':'string'},'setting':{'type':a0_0x29ff78(0x52a),'enum':[a0_0x29ff78(0x631),'not_announcement','unlocked','locked']}},'required':[a0_0x29ff78(0x1e6),a0_0x29ff78(0x61d)],...E('groupJid','setting')},so={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'groupJid':{'type':a0_0x29ff78(0x52a)},'restrict':{'type':a0_0x29ff78(0x6a6)},'announce':{'type':a0_0x29ff78(0x6a6)},'memberAddMode':{'type':a0_0x29ff78(0x6a6)},'joinApprovalMode':{'type':a0_0x29ff78(0x6a6)},'expiration':{'type':a0_0x29ff78(0x6f9),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x29ff78(0x52a)},'description':{'type':a0_0x29ff78(0x52a)},'image':{'type':a0_0x29ff78(0x52a)}}},ys={'$id':(0x0,v['v4'])(),'type':'object','properties':{'inviteCode':{'type':a0_0x29ff78(0x52a)}},'required':[a0_0x29ff78(0x393)],...E('inviteCode')},ao={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'url':{'type':a0_0x29ff78(0x52a)},'enabled':{'type':a0_0x29ff78(0x6a6),'enum':[!0x0,!0x1]}},'required':[a0_0x29ff78(0x251),a0_0x29ff78(0x3ca)]},uc={'$id':(0x0,v['v4'])(),'type':a0_0x29ff78(0x398),'properties':{'local_map':{'type':a0_0x29ff78(0x6a6),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x29ff78(0x6a6),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x29ff78(0x6a6),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x29ff78(0x6a6),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x29ff78(0x6a6),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x29ff78(0x6a6),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x29ff78(0x6a6),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x29ff78(0x6a6),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x29ff78(0x6a6),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x29ff78(0x6a6),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x29ff78(0x6a6),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x29ff78(0x6a6),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x29ff78(0x6a6),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x29ff78(0x6a6),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x29ff78(0x6a6),'enum':[!0x0,!0x1]}},'required':[a0_0x29ff78(0x1f7),a0_0x29ff78(0x391),a0_0x29ff78(0xd9),'MESSAGES_SET',a0_0x29ff78(0x2d3),a0_0x29ff78(0x2fe),'SEND_MESSAGE',a0_0x29ff78(0x4a3),a0_0x29ff78(0x47a),a0_0x29ff78(0x3da),a0_0x29ff78(0x209),a0_0x29ff78(0x63c),a0_0x29ff78(0x6ba),a0_0x29ff78(0x27d),a0_0x29ff78(0x1b6),a0_0x29ff78(0xd5),a0_0x29ff78(0x71c),a0_0x29ff78(0x633),'GROUP_PARTICIPANTS_UPDATE'],...E('local_map',a0_0x29ff78(0x391),a0_0x29ff78(0xd9),'MESSAGES_SET','MESSAGES_UPDATE','MESSAGES_UPSERT',a0_0x29ff78(0x468),'CONTACTS_SET','CONTACTS_UPSERT','CONTACTS_UPDATE',a0_0x29ff78(0x209),'CHATS_SET',a0_0x29ff78(0x6ba),'CHATS_UPDATE','CHATS_DELETE','CONNECTION_UPDATE',a0_0x29ff78(0x71c),a0_0x29ff78(0x633),a0_0x29ff78(0x339))},at=class{},ot=class extends x{[a0_0x29ff78(0x352)](_0x353f5d){return Ys(_0x353f5d);}async['insert'](_0x25265b){const _0x2e99a7=a0_0x29ff78;if(_0x25265b[_0x2e99a7(0x78c)]!==0x0)try{return{'insertCount':(await this[_0x2e99a7(0x352)](_0x25265b[0x0][_0x2e99a7(0x2c7)])[_0x2e99a7(0x483)]([..._0x25265b]))[_0x2e99a7(0x78c)]};}catch(_0x1155cf){return _0x1155cf;}}async[a0_0x29ff78(0x7b8)](_0x29c510,_0x17866e){const _0x5d7394=a0_0x29ff78;try{return{'deletedCount':(await this[_0x5d7394(0x352)](_0x17866e)[_0x5d7394(0x67e)]({..._0x29c510[_0x5d7394(0x485)]}))[_0x5d7394(0x126)]};}catch(_0x4d2e5d){return{'error':_0x4d2e5d?.[_0x5d7394(0x675)]()};}}async[a0_0x29ff78(0x6e6)](_0x471cb2,_0x3be775){const _0x13f46f=a0_0x29ff78;try{if(_0x471cb2[_0x13f46f(0x78c)]===0x0)return;let _0x589b16=this['getContactModelForOwner'](_0x3be775),_0x2402b9=_0x471cb2[_0x13f46f(0x174)](_0x26c009=>({'updateOne':{'filter':{'_id':_0x26c009[_0x13f46f(0x5e4)],'owner':_0x3be775},'update':{..._0x26c009}}})),{modifiedCount:_0x50a34b}=await _0x589b16[_0x13f46f(0x17d)](_0x2402b9);return{'insertCount':_0x50a34b};}catch{return;}}async['find'](_0x22d64b,_0x24b79e){const _0x4f7af6=a0_0x29ff78;try{let _0x314f74=this[_0x4f7af6(0x352)](_0x24b79e),_0x504903=T(_0x22d64b['where']);return await _0x314f74[_0x4f7af6(0x7a5)](_0x504903)[_0x4f7af6(0x5dc)](_0x22d64b?.[_0x4f7af6(0x5dc)]??0x0)[_0x4f7af6(0x1c1)]();}catch{return[];}}async[a0_0x29ff78(0x2d8)](_0x4a853a,_0x43b019){const _0x242c2a=a0_0x29ff78;try{let _0x4e3a3a=this[_0x242c2a(0x352)](_0x43b019),_0xecd0ab=T(_0x4a853a[_0x242c2a(0x485)]);return await _0x4e3a3a['findOne'](_0xecd0ab)[_0x242c2a(0x1c1)]();}catch{return null;}}async[a0_0x29ff78(0xb8)](_0x3db465){const _0x3ad41a=a0_0x29ff78;try{return await this['getContactModelForOwner'](_0x3db465)[_0x3ad41a(0x300)][_0x3ad41a(0x280)](),{'success':!0x0};}catch(_0x40e378){return console[_0x3ad41a(0xdb)](_0x40e378),{'success':!0x1,'error':_0x40e378};}}},rt=require('jsonschema'),bc=require(a0_0x29ff78(0x528)),bs=new R(a0_0x29ff78(0x1f4)),V=class{[a0_0x29ff78(0x6fa)](_0x8de3e9,_0x4ef781=!0x0){const _0x31a959=a0_0x29ff78;let _0x26a789='/'+_0x8de3e9;return _0x4ef781&&(_0x26a789+=_0x31a959(0x366)),_0x26a789;}async[a0_0x29ff78(0x5e2)](_0x1e7d99){const _0x3360ab=a0_0x29ff78;let {request:_0xbb0a8a,schema:_0x38747d,ClassRef:_0x1056cd,execute:_0xa7cab3}=_0x1e7d99,_0x2d85e2=new _0x1056cd(),_0x12e31b=_0xbb0a8a['body'],_0x2d908a=_0xbb0a8a[_0x3360ab(0x4bc)];_0xbb0a8a?.[_0x3360ab(0x579)]&&Object[_0x3360ab(0x63f)](_0xbb0a8a['query'])['length']>0x0&&Object['assign'](_0x2d908a,_0xbb0a8a[_0x3360ab(0x579)]),_0xbb0a8a[_0x3360ab(0x264)][_0x3360ab(0x35d)](_0x3360ab(0x6aa))&&Object[_0x3360ab(0x153)](_0x2d908a,_0x12e31b),Object[_0x3360ab(0x153)](_0x2d85e2,_0x12e31b);let _0x5129d=_0x38747d?(0x0,rt[_0x3360ab(0x38e)])(_0x2d85e2,_0x38747d):{'valid':!0x0,'errors':[]};if(!_0x5129d[_0x3360ab(0x4b2)]){let _0xa168a6=_0x5129d['errors']['map'](({property:_0x1f0ac8,stack:_0x51f173,schema:_0x19489b})=>{const _0x2688fa=_0x3360ab;let _0x172cc8;return _0x19489b[_0x2688fa(0x3a0)]?_0x172cc8=_0x19489b['description']:_0x172cc8=_0x51f173['replace'](_0x2688fa(0x622),''),{'property':_0x1f0ac8[_0x2688fa(0x3e1)](_0x2688fa(0x622),''),'message':_0x172cc8};});throw bs[_0x3360ab(0xdb)]([..._0xa168a6]),new m(..._0xa168a6);}return await _0xa7cab3(_0x2d908a,_0x2d85e2);}async[a0_0x29ff78(0x4d0)](_0x34e76f){const _0x192bb3=a0_0x29ff78;let {request:_0xb8c811,ClassRef:_0x33ec62,schema:_0xd1da5a,execute:_0x39179e}=_0x34e76f,_0x4aa3d8=_0xb8c811[_0x192bb3(0x579)];if(!_0x4aa3d8?.[_0x192bb3(0x1e6)])throw new m('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query',_0x192bb3(0x511));let _0x587b63=_0xb8c811[_0x192bb3(0x4bc)],_0x1fcc32=_0xb8c811['body'],_0x3871c6=new _0x33ec62();Object[_0x192bb3(0x153)](_0x1fcc32,_0x4aa3d8),Object['assign'](_0x3871c6,_0x1fcc32);let _0x3b08df=(0x0,rt[_0x192bb3(0x38e)])(_0x3871c6,_0xd1da5a);if(!_0x3b08df[_0x192bb3(0x4b2)]){let _0x40f4b6=_0x3b08df[_0x192bb3(0x39f)][_0x192bb3(0x174)](({property:_0x5bb871,stack:_0x36d767,schema:_0x9bd846})=>{const _0x2f0437=_0x192bb3;let _0x454530;return _0x9bd846[_0x2f0437(0x3a0)]?_0x454530=_0x9bd846[_0x2f0437(0x3a0)]:_0x454530=_0x36d767['replace'](_0x2f0437(0x622),''),{'property':_0x5bb871[_0x2f0437(0x3e1)](_0x2f0437(0x622),''),'message':_0x454530};});throw bs[_0x192bb3(0xdb)]([..._0x40f4b6]),new m(..._0x40f4b6);}return await _0x39179e(_0x587b63,_0x3871c6);}async[a0_0x29ff78(0x52b)](_0x535743){const _0x1b65c7=a0_0x29ff78;let {request:_0x2ad1a7,ClassRef:_0x2df309,schema:_0x43953c,execute:_0x8cef4e}=_0x535743,_0x589fc1=_0x2ad1a7[_0x1b65c7(0x73e)];if(!_0x589fc1?.[_0x1b65c7(0x393)])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x1b65c7(0x4f0));let _0x304bc2=_0x2ad1a7[_0x1b65c7(0x4bc)],_0x2fb8a1=_0x2ad1a7['body'],_0x3c08b0=new _0x2df309();Object['assign'](_0x2fb8a1,_0x589fc1),Object[_0x1b65c7(0x153)](_0x3c08b0,_0x2fb8a1);let _0x2512cf=(0x0,rt['validate'])(_0x3c08b0,_0x43953c);if(!_0x2512cf[_0x1b65c7(0x4b2)]){let _0x1b996=_0x2512cf[_0x1b65c7(0x39f)]['map'](({property:_0x4e902f,stack:_0x423a22,schema:_0x5d84a7})=>{const _0x154c9d=_0x1b65c7;let _0x29a4f0;return _0x5d84a7[_0x154c9d(0x3a0)]?_0x29a4f0=_0x5d84a7['description']:_0x29a4f0=_0x423a22[_0x154c9d(0x3e1)]('instance.',''),{'property':_0x4e902f['replace'](_0x154c9d(0x622),''),'message':_0x29a4f0};});throw bs[_0x1b65c7(0xdb)]([..._0x1b996]),new m(..._0x1b996);}return await _0x8cef4e(_0x304bc2,_0x3c08b0);}},M=class{},_c=new R('ChatRouter'),it=class extends V{constructor(..._0x557c5d){const _0x10ddbe=a0_0x29ff78;super(),this[_0x10ddbe(0x612)]=(0x0,oo['Router'])(),this['router'][_0x10ddbe(0x525)](this[_0x10ddbe(0x6fa)](_0x10ddbe(0x650)),..._0x557c5d,async(_0xb0d260,_0x4e5488)=>{const _0x5ab112=_0x10ddbe;let _0xed6182=await this['dataValidate']({'request':_0xb0d260,'schema':Ha,'ClassRef':ze,'execute':(_0x26e6ff,_0x1f9c7e)=>_['updatePresence'](_0x26e6ff,_0x1f9c7e)});return _0x4e5488[_0x5ab112(0x353)](0xc9)[_0x5ab112(0x5b6)](_0xed6182);})[_0x10ddbe(0x525)](this[_0x10ddbe(0x6fa)](_0x10ddbe(0x609)),..._0x557c5d,async(_0x60e174,_0x3e6f6d)=>{const _0x2e5be8=_0x10ddbe;let _0xb8b5be=await this[_0x2e5be8(0x5e2)]({'request':_0x60e174,'schema':La,'ClassRef':He,'execute':(_0x5102a2,_0x5d6f0d)=>_[_0x2e5be8(0x516)](_0x5102a2,_0x5d6f0d)});return _0x3e6f6d['status'](0xc9)[_0x2e5be8(0x5b6)](_0xb8b5be);})[_0x10ddbe(0x525)](this[_0x10ddbe(0x6fa)]('editChat'),..._0x557c5d,async(_0x20aafe,_0x58210d)=>{const _0x1b1aa0=_0x10ddbe;let _0x1b13f2=await this[_0x1b1aa0(0x5e2)]({'request':_0x20aafe,'schema':N,'ClassRef':M,'execute':(_0x4fdaf9,_0x2e1866)=>_['editChat'](_0x4fdaf9,_0x2e1866)});return _0x58210d[_0x1b1aa0(0x353)](0xc9)[_0x1b1aa0(0x5b6)](_0x1b13f2);})[_0x10ddbe(0x61e)](this[_0x10ddbe(0x6fa)]('markMessageAsRead'),..._0x557c5d,async(_0x3520e2,_0x334bdd)=>{const _0x340f80=_0x10ddbe;let _0x3b8edc=await this[_0x340f80(0x5e2)]({'request':_0x3520e2,'schema':Fa,'ClassRef':Ye,'execute':(_0x414f0a,_0x2c4fac)=>_[_0x340f80(0x540)](_0x414f0a,_0x2c4fac)});return _0x334bdd[_0x340f80(0x353)](0xc9)[_0x340f80(0x5b6)](_0x3b8edc);})[_0x10ddbe(0x61e)](this[_0x10ddbe(0x6fa)](_0x10ddbe(0x464)),..._0x557c5d,async(_0x326ca4,_0x14b6fb)=>{const _0x514517=_0x10ddbe;let _0x528869=await this['dataValidate']({'request':_0x326ca4,'schema':Ua,'ClassRef':Xe,'execute':(_0x4ab5a4,_0x59a387)=>_[_0x514517(0x464)](_0x4ab5a4,_0x59a387)});return _0x14b6fb[_0x514517(0x353)](0xc9)['json'](_0x528869);})[_0x10ddbe(0x7b8)](this[_0x10ddbe(0x6fa)](_0x10ddbe(0x6c6)),..._0x557c5d,async(_0x5c552b,_0x40f003)=>{const _0x441120=_0x10ddbe;let _0x3fab47=await this[_0x441120(0x5e2)]({'request':_0x5c552b,'schema':qa,'ClassRef':et,'execute':(_0x8058d,_0x1e1b4e)=>_[_0x441120(0x10a)](_0x8058d,_0x1e1b4e)});return _0x40f003['status'](0xc9)[_0x441120(0x5b6)](_0x3fab47);})['post'](this[_0x10ddbe(0x6fa)](_0x10ddbe(0x181)),..._0x557c5d,async(_0x2f0a05,_0x313e8a)=>{const _0x568c41=_0x10ddbe;let _0x1134dc=await this[_0x568c41(0x5e2)]({'request':_0x2f0a05,'schema':Ae,'ClassRef':Re,'execute':(_0x8054ac,_0x405193)=>_[_0x568c41(0x475)](_0x8054ac,_0x405193)});return _0x313e8a[_0x568c41(0x353)](0xc8)[_0x568c41(0x5b6)](_0x1134dc);})[_0x10ddbe(0x525)](this[_0x10ddbe(0x6fa)]('fetchProfile'),..._0x557c5d,async(_0x5c9bab,_0x5966f8)=>{const _0x85932b=_0x10ddbe;let _0x441005=await this[_0x85932b(0x5e2)]({'request':_0x5c9bab,'schema':Wa,'ClassRef':Re,'execute':(_0x18f2f8,_0x4780bc)=>_[_0x85932b(0x68e)](_0x18f2f8,_0x4780bc)});return _0x5966f8['status'](0xc8)[_0x85932b(0x5b6)](_0x441005);})[_0x10ddbe(0x525)](this['routerPath'](_0x10ddbe(0x21b)),..._0x557c5d,async(_0x4345c3,_0x1427eb)=>{const _0x470bba=_0x10ddbe;let _0x120fd6=await this[_0x470bba(0x5e2)]({'request':_0x4345c3,'schema':Va,'ClassRef':at,'execute':(_0x98fe33,_0x27d6b0)=>_[_0x470bba(0x79d)](_0x98fe33,_0x27d6b0)});return _0x1427eb[_0x470bba(0x353)](0xc8)['json'](_0x120fd6);})[_0x10ddbe(0x525)](this['routerPath'](_0x10ddbe(0x3ec)),..._0x557c5d,async(_0x2647e1,_0x211e6e)=>{const _0x296c6c=_0x10ddbe;let _0x563d60=await this['dataValidate']({'request':_0x2647e1,'schema':null,'ClassRef':Object,'execute':(_0x2239e9,_0x1967ad)=>_[_0x296c6c(0x3ec)](_0x2239e9,_0x1967ad)});return _0x211e6e[_0x296c6c(0x353)](0xc9)[_0x296c6c(0x5b6)](_0x563d60);})['post'](this['routerPath']('findMessages'),..._0x557c5d,async(_0x43b2a4,_0x54597c)=>{const _0x34f9b9=_0x10ddbe;let _0x39a03=await this[_0x34f9b9(0x5e2)]({'request':_0x43b2a4,'schema':za,'ClassRef':Be,'execute':(_0x1293a9,_0x50acdd)=>_['fetchMessages'](_0x1293a9,_0x50acdd)});return _0x54597c[_0x34f9b9(0x353)](0xc8)[_0x34f9b9(0x5b6)](_0x39a03);})['get'](this[_0x10ddbe(0x6fa)](_0x10ddbe(0x663)),..._0x557c5d,async(_0x3458b8,_0x10e0a6)=>{const _0xf083ca=_0x10ddbe;let _0x49cdeb=await this[_0xf083ca(0x5e2)]({'request':_0x3458b8,'schema':null,'ClassRef':M,'execute':_0x59b9ba=>_[_0xf083ca(0x15c)](_0x59b9ba)});return _0x10e0a6[_0xf083ca(0x353)](0xc8)['json'](_0x49cdeb);})[_0x10ddbe(0x6b4)](this[_0x10ddbe(0x6fa)](_0x10ddbe(0x414)),..._0x557c5d,async(_0x313363,_0xbda7cd)=>{const _0x1445de=_0x10ddbe;let _0x12756e=await this['dataValidate']({'request':_0x313363,'schema':null,'ClassRef':M,'execute':_0x938bae=>_[_0x1445de(0x52f)](_0x938bae)});return _0xbda7cd['status'](0xc8)[_0x1445de(0x5b6)](_0x12756e);})[_0x10ddbe(0x61e)](this[_0x10ddbe(0x6fa)](_0x10ddbe(0x2de)),..._0x557c5d,async(_0x1752a0,_0x552e49)=>{const _0x1460a9=_0x10ddbe;let _0x4fa441=await this['dataValidate']({'request':_0x1752a0,'schema':null,'ClassRef':Array,'execute':(_0x1380c3,_0x3d5510)=>_[_0x1460a9(0x2de)](_0x1380c3,_0x3d5510)});return _0x552e49['status'](0xc8)[_0x1460a9(0x5b6)](_0x4fa441);})[_0x10ddbe(0x6b4)](this[_0x10ddbe(0x6fa)](_0x10ddbe(0x53c)),..._0x557c5d,async(_0x5320b9,_0x52c5e)=>{const _0x491250=_0x10ddbe;let _0x154028=await this['dataValidate']({'request':_0x5320b9,'schema':null,'ClassRef':M,'execute':_0x788807=>_[_0x491250(0x53c)](_0x788807)});return _0x52c5e[_0x491250(0x353)](0xc8)[_0x491250(0x5b6)](_0x154028);})['put'](this[_0x10ddbe(0x6fa)]('updatePrivacySettings'),..._0x557c5d,async(_0x102709,_0x1f61cc)=>{const _0x540b9f=_0x10ddbe;let _0x36856f=await this[_0x540b9f(0x5e2)]({'request':_0x102709,'schema':Ja,'ClassRef':Ze,'execute':(_0x4e8eee,_0x2dfab6)=>_['updatePrivacySettings'](_0x4e8eee,_0x2dfab6)});return _0x1f61cc[_0x540b9f(0x353)](0xc9)['json'](_0x36856f);})[_0x10ddbe(0x525)](this[_0x10ddbe(0x6fa)](_0x10ddbe(0x4d8)),..._0x557c5d,async(_0x2d8829,_0x2c7ac8)=>{const _0x4abed9=_0x10ddbe;let _0x2d16be=await this[_0x4abed9(0x5e2)]({'request':_0x2d8829,'schema':Ae,'ClassRef':be,'execute':(_0x53e7e8,_0x326faf)=>_[_0x4abed9(0x4d8)](_0x53e7e8,_0x326faf)});return _0x2c7ac8['status'](0xc8)[_0x4abed9(0x5b6)](_0x2d16be);})[_0x10ddbe(0x525)](this[_0x10ddbe(0x6fa)](_0x10ddbe(0x63d)),..._0x557c5d,async(_0x470dae,_0x4bc13b)=>{const _0x5cd1ed=_0x10ddbe;let _0x51da60=await this[_0x5cd1ed(0x5e2)]({'request':_0x470dae,'schema':Ga,'ClassRef':Ke,'execute':(_0x4ddae9,_0xa3541)=>_['updateProfileName'](_0x4ddae9,_0xa3541)});return _0x4bc13b[_0x5cd1ed(0x353)](0xc8)[_0x5cd1ed(0x5b6)](_0x51da60);})[_0x10ddbe(0x525)](this[_0x10ddbe(0x6fa)](_0x10ddbe(0x70a)),..._0x557c5d,async(_0x5acf21,_0x1eae05)=>{const _0x448327=_0x10ddbe;let _0x24a976=await this[_0x448327(0x5e2)]({'request':_0x5acf21,'schema':Ba,'ClassRef':Qe,'execute':(_0x24dbd7,_0x344fdd)=>_[_0x448327(0x70a)](_0x24dbd7,_0x344fdd)});return _0x1eae05[_0x448327(0x353)](0xc8)[_0x448327(0x5b6)](_0x24a976);})[_0x10ddbe(0x61e)](this[_0x10ddbe(0x6fa)](_0x10ddbe(0x1c2)),..._0x557c5d,async(_0x24c278,_0x53563c)=>{const _0x48e2f5=_0x10ddbe;let _0x427b52=await this['dataValidate']({'request':_0x24c278,'schema':Ae,'ClassRef':be,'execute':(_0x2b34c2,_0x2df07f)=>_[_0x48e2f5(0x1c2)](_0x2b34c2,_0x2df07f)});return _0x53563c['status'](0xc8)[_0x48e2f5(0x5b6)](_0x427b52);})['delete'](this[_0x10ddbe(0x6fa)](_0x10ddbe(0x196)),..._0x557c5d,async(_0x56f6c6,_0x484027)=>{const _0x36023f=_0x10ddbe;let _0x2fd00a=await this[_0x36023f(0x5e2)]({'request':_0x56f6c6,'schema':Ae,'ClassRef':be,'execute':(_0x257e9e,_0x373bf0)=>_[_0x36023f(0x196)](_0x257e9e,_0x373bf0)});return _0x484027[_0x36023f(0x353)](0xc8)[_0x36023f(0x5b6)](_0x2fd00a);});}},ro=require(a0_0x29ff78(0x463)),nt=class{},ct=class{},lt=class{},ut=class{},dt=class{},pt=class{},Z=class{},Te=class{},ht=class extends Z{},gt=class extends Z{},mt=class extends V{constructor(..._0x222967){const _0x2cf5ee=a0_0x29ff78;super(),this[_0x2cf5ee(0x612)]=(0x0,ro[_0x2cf5ee(0x3e6)])(),this[_0x2cf5ee(0x612)][_0x2cf5ee(0x525)](this[_0x2cf5ee(0x6fa)](_0x2cf5ee(0x776)),..._0x222967,async(_0x471b89,_0x26fc93)=>{const _0xf19e26=_0x2cf5ee;let _0x32d012=await this['dataValidate']({'request':_0x471b89,'schema':Ka,'ClassRef':nt,'execute':(_0x2df4b3,_0x1dda1d)=>q[_0xf19e26(0x343)](_0x2df4b3,_0x1dda1d)});_0x26fc93['status'](0xc9)[_0xf19e26(0x5b6)](_0x32d012);})[_0x2cf5ee(0x61e)](this['routerPath'](_0x2cf5ee(0x77a)),..._0x222967,async(_0x340e8f,_0x54fe53)=>{const _0x1dbd50=_0x2cf5ee;let _0x4a800d=await this[_0x1dbd50(0x4d0)]({'request':_0x340e8f,'schema':Xa,'ClassRef':ct,'execute':(_0x4ecc14,_0x43dfe7)=>q[_0x1dbd50(0x77a)](_0x4ecc14,_0x43dfe7)});_0x54fe53[_0x1dbd50(0x353)](0xc9)[_0x1dbd50(0x5b6)](_0x4a800d);})['put'](this['routerPath'](_0x2cf5ee(0x176)),..._0x222967,async(_0x351aef,_0x4c7dbb)=>{const _0x278225=_0x2cf5ee;let _0x3cba86=await this[_0x278225(0x4d0)]({'request':_0x351aef,'schema':Za,'ClassRef':lt,'execute':(_0x3c4064,_0x29fe84)=>q[_0x278225(0x176)](_0x3c4064,_0x29fe84)});_0x4c7dbb['status'](0xc9)[_0x278225(0x5b6)](_0x3cba86);})['put'](this['routerPath']('groupName'),..._0x222967,async(_0x3592c8,_0x265bdf)=>{const _0x50f664=_0x2cf5ee;let _0x505d6a=await this[_0x50f664(0x4d0)]({'request':_0x3592c8,'schema':eo,'ClassRef':ut,'execute':(_0x1df3fe,_0x505b7a)=>q[_0x50f664(0x786)](_0x1df3fe,_0x505b7a)});_0x265bdf[_0x50f664(0x353)](0xc9)[_0x50f664(0x5b6)](_0x505d6a);})[_0x2cf5ee(0x61e)](this[_0x2cf5ee(0x6fa)](_0x2cf5ee(0x773)),..._0x222967,async(_0x449cd7,_0x29dc36)=>{const _0x4082ef=_0x2cf5ee;let _0x1aed18=await this['groupValidate']({'request':_0x449cd7,'schema':so,'ClassRef':pt,'execute':(_0x268f6d,_0x5014ef)=>q[_0x4082ef(0x773)](_0x268f6d,_0x5014ef)});_0x29dc36[_0x4082ef(0x353)](0xc9)[_0x4082ef(0x5b6)](_0x1aed18);})[_0x2cf5ee(0x61e)](this[_0x2cf5ee(0x6fa)](_0x2cf5ee(0x4dd)),..._0x222967,async(_0x4b416d,_0x39c72d)=>{const _0x5a16b1=_0x2cf5ee;let _0x3b0a32=await this[_0x5a16b1(0x4d0)]({'request':_0x4b416d,'schema':to,'ClassRef':dt,'execute':(_0x1b7e0d,_0x2f2e0c)=>q[_0x5a16b1(0x4dd)](_0x1b7e0d,_0x2f2e0c)});_0x39c72d[_0x5a16b1(0x353)](0xc9)[_0x5a16b1(0x5b6)](_0x3b0a32);})[_0x2cf5ee(0x61e)](this[_0x2cf5ee(0x6fa)]('toggleEphemeral'),..._0x222967,async(_0x5120a8,_0x593b43)=>{const _0x4e397e=_0x2cf5ee;let _0x3e180a=await this['groupValidate']({'request':_0x5120a8,'schema':Ya,'ClassRef':gt,'execute':(_0x16360d,_0x772b25)=>q[_0x4e397e(0x1a8)](_0x16360d,_0x772b25)});_0x593b43[_0x4e397e(0x353)](0xc9)[_0x4e397e(0x5b6)](_0x3e180a);})[_0x2cf5ee(0x6b4)](this[_0x2cf5ee(0x6fa)]('findGroupInfos'),..._0x222967,async(_0xa78daf,_0x503fa0)=>{const _0xe42723=_0x2cf5ee;let _0x23b301=await this[_0xe42723(0x4d0)]({'request':_0xa78daf,'schema':Oe,'ClassRef':Z,'execute':(_0x17d758,_0x542d46)=>q[_0xe42723(0x375)](_0x17d758,_0x542d46)});_0x503fa0[_0xe42723(0x353)](0xc8)[_0xe42723(0x5b6)](_0x23b301);})[_0x2cf5ee(0x6b4)](this[_0x2cf5ee(0x6fa)]('findGroups'),..._0x222967,async(_0x13e090,_0x3101a1)=>{const _0x107cc3=_0x2cf5ee;let _0x230d0a=await this['dataValidate']({'request':_0x13e090,'schema':N,'ClassRef':M,'execute':_0x1e9717=>q['findGroups'](_0x1e9717)});_0x3101a1[_0x107cc3(0x353)](0xc8)[_0x107cc3(0x5b6)](_0x230d0a);})[_0x2cf5ee(0x6b4)](this['routerPath'](_0x2cf5ee(0x523)),..._0x222967,async(_0x4ba3f9,_0x559b9e)=>{const _0x180d34=_0x2cf5ee;let _0x22aae3=await this['groupValidate']({'request':_0x4ba3f9,'schema':Oe,'ClassRef':Z,'execute':(_0x2958e6,_0x738f28)=>q['findParticipants'](_0x2958e6,_0x738f28)});_0x559b9e[_0x180d34(0x353)](0xc8)[_0x180d34(0x5b6)](_0x22aae3);})[_0x2cf5ee(0x6b4)](this[_0x2cf5ee(0x6fa)](_0x2cf5ee(0x393)),..._0x222967,async(_0x184017,_0x5e5242)=>{const _0x4beacb=_0x2cf5ee;let _0x331656=await this[_0x4beacb(0x4d0)]({'request':_0x184017,'schema':Oe,'ClassRef':Z,'execute':(_0xe1203c,_0x3e512c)=>q[_0x4beacb(0x393)](_0xe1203c,_0x3e512c)});_0x5e5242[_0x4beacb(0x353)](0xc8)[_0x4beacb(0x5b6)](_0x331656);})[_0x2cf5ee(0x525)](this[_0x2cf5ee(0x6fa)](_0x2cf5ee(0x547)),..._0x222967,async(_0x278744,_0x40bd35)=>{const _0x3fe9d7=_0x2cf5ee;let _0x58e00c=await this[_0x3fe9d7(0x52b)]({'request':_0x278744,'schema':ys,'ClassRef':Te,'execute':(_0x3914c3,_0x3605ad)=>q[_0x3fe9d7(0x68c)](_0x3914c3,_0x3605ad)});_0x40bd35[_0x3fe9d7(0x353)](0xc9)[_0x3fe9d7(0x5b6)](_0x58e00c);})['put'](this[_0x2cf5ee(0x6fa)](_0x2cf5ee(0x1d9)),..._0x222967,async(_0x5978cd,_0x540354)=>{const _0x507053=_0x2cf5ee;let _0x52d075=await this[_0x507053(0x52b)]({'request':_0x5978cd,'schema':ys,'ClassRef':Te,'execute':(_0x550fc6,_0x1dcd60)=>q[_0x507053(0x1d9)](_0x550fc6,_0x1dcd60)});_0x540354[_0x507053(0x353)](0xc9)[_0x507053(0x5b6)](_0x52d075);})['put'](this[_0x2cf5ee(0x6fa)](_0x2cf5ee(0x472)),..._0x222967,async(_0x16c8c3,_0x51588a)=>{const _0x542a8f=_0x2cf5ee;let _0x3652c2=await this[_0x542a8f(0x4d0)]({'request':_0x16c8c3,'schema':Oe,'ClassRef':Z,'execute':(_0x3d18a7,_0x390cef)=>q[_0x542a8f(0x472)](_0x3d18a7,_0x390cef)});_0x51588a[_0x542a8f(0x353)](0xc9)['json'](_0x3652c2);})[_0x2cf5ee(0x61e)](this[_0x2cf5ee(0x6fa)]('updateParticipant'),..._0x222967,async(_0x236a45,_0x50469f)=>{const _0xdea571=_0x2cf5ee;let _0x2033d7=await this['groupValidate']({'request':_0x236a45,'schema':Qa,'ClassRef':ht,'execute':(_0x300bf0,_0x55fc16)=>q[_0xdea571(0x401)](_0x300bf0,_0x55fc16)});_0x50469f['status'](0xc9)['json'](_0x2033d7);})['delete'](this[_0x2cf5ee(0x6fa)]('leaveGroup'),..._0x222967,async(_0x2865d9,_0x41c3ac)=>{const _0x307421=_0x2cf5ee;let _0x14e864=await this[_0x307421(0x4d0)]({'request':_0x2865d9,'schema':{},'ClassRef':Z,'execute':(_0x21335b,_0x30012a)=>q[_0x307421(0x10c)](_0x21335b,_0x30012a)});_0x41c3ac['status'](0xc8)[_0x307421(0x5b6)](_0x14e864);});}},io=require(a0_0x29ff78(0x463)),ft=class extends V{constructor(_0x45904d,..._0x5d07d9){const _0x3858cc=a0_0x29ff78;super(),this[_0x3858cc(0x657)]=_0x45904d,this[_0x3858cc(0x612)]=(0x0,io[_0x3858cc(0x3e6)])();let _0x390501=_0x45904d[_0x3858cc(0x6b4)]('AUTHENTICATION');this[_0x3858cc(0x612)]['post'](_0x3858cc(0x545),..._0x5d07d9,async(_0xd01a9d,_0x1c7079)=>{const _0x194295=_0x3858cc;let {instanceName:_0x5f0e32,apikey:_0x300fd6,number:_0x31bf32}=_0xd01a9d['body'],_0x523b11=await ne[_0x194295(0x5a0)]({'instanceName':_0x5f0e32,'apikey':_0x300fd6,'number':_0x31bf32});return _0x1c7079['status'](0xc9)[_0x194295(0x5b6)](_0x523b11);})[_0x3858cc(0x61e)](this[_0x3858cc(0x6fa)](_0x3858cc(0x502)),..._0x5d07d9,async(_0x458948,_0x595491)=>{const _0x42ba93=_0x3858cc;let _0x358a5d=await this[_0x42ba93(0x5e2)]({'request':_0x458948,'schema':N,'ClassRef':M,'execute':_0x449da9=>ne[_0x42ba93(0x57e)](_0x449da9)});return _0x595491[_0x42ba93(0x353)](0xc8)[_0x42ba93(0x5b6)](_0x358a5d);})[_0x3858cc(0x6b4)](this[_0x3858cc(0x6fa)](_0x3858cc(0x526)),..._0x5d07d9,async(_0x4d5e42,_0x22a5cb)=>{const _0x257a47=_0x3858cc;let _0x536a6d=await this['dataValidate']({'request':_0x4d5e42,'schema':N,'ClassRef':M,'execute':_0x44df9f=>ne['connectToWhatsappController'](_0x44df9f)});return _0x22a5cb[_0x257a47(0x353)](0xc8)['json'](_0x536a6d);})[_0x3858cc(0x6b4)](this['routerPath'](_0x3858cc(0x123)),..._0x5d07d9,async(_0x352e9a,_0xf71a7e)=>{const _0x8872b9=_0x3858cc;let _0x14594e=await this[_0x8872b9(0x5e2)]({'request':_0x352e9a,'schema':N,'ClassRef':M,'execute':_0x26ddca=>ne[_0x8872b9(0x123)](_0x26ddca)});return _0xf71a7e[_0x8872b9(0x353)](0xc8)[_0x8872b9(0x5b6)](_0x14594e);})['get'](this[_0x3858cc(0x6fa)]('fetchInstances',!0x1),..._0x5d07d9,async(_0x3ae29e,_0xd496f7)=>{const _0x176244=_0x3858cc;let _0x314670=await this[_0x176244(0x5e2)]({'request':_0x3ae29e,'schema':null,'ClassRef':M,'execute':_0x15ded7=>ne[_0x176244(0x244)](_0x15ded7)});return _0xd496f7['status'](0xc8)[_0x176244(0x5b6)](_0x314670);})[_0x3858cc(0x7b8)](this[_0x3858cc(0x6fa)](_0x3858cc(0x435)),..._0x5d07d9,async(_0x8c312d,_0x1ee830)=>{const _0x3ee207=_0x3858cc;let _0x155f22=await this[_0x3ee207(0x5e2)]({'request':_0x8c312d,'schema':N,'ClassRef':M,'execute':_0xbc8aeb=>ne['logout'](_0xbc8aeb)});return _0x1ee830['status'](0xc8)['json'](_0x155f22);})[_0x3858cc(0x7b8)](this[_0x3858cc(0x6fa)](_0x3858cc(0x7b8)),..._0x5d07d9,async(_0x3812ed,_0x5ac3b1)=>{const _0x1d4df2=_0x3858cc;let _0x44e305=await this[_0x1d4df2(0x5e2)]({'request':_0x3812ed,'schema':N,'ClassRef':M,'execute':_0x1efa53=>ne['deleteInstance'](_0x1efa53)});return _0x5ac3b1[_0x1d4df2(0x353)](0xc8)['json'](_0x44e305);});}},no=require(a0_0x29ff78(0x463)),Ss=class{},z=class extends Ss{},wt=class extends z{},yt=class extends z{},bt=class extends z{},St=class extends z{},Ie=class extends z{},Mt=class extends z{},Ct=class extends z{},Et=class extends z{},vt=class extends z{},Nt=class extends z{},Rt=class{},$t=class extends V{constructor(..._0x3facb1){const _0x1f9454=a0_0x29ff78;super(),this[_0x1f9454(0x612)]=(0x0,no[_0x1f9454(0x3e6)])(),this[_0x1f9454(0x612)][_0x1f9454(0x525)](this[_0x1f9454(0x6fa)]('sendText'),..._0x3facb1,async(_0xe24a98,_0x49bdb8)=>{const _0x11d978=_0x1f9454;let _0x29b869=await this[_0x11d978(0x5e2)]({'request':_0xe24a98,'schema':Na,'ClassRef':wt,'execute':(_0x485b8d,_0x23081a)=>W[_0x11d978(0x441)](_0x485b8d,_0x23081a)});return _0x49bdb8[_0x11d978(0x353)](0xc9)[_0x11d978(0x5b6)](_0x29b869);})[_0x1f9454(0x525)](this[_0x1f9454(0x6fa)](_0x1f9454(0x640)),..._0x3facb1,async(_0x1be047,_0x3917c5)=>{const _0x4bac1d=_0x1f9454;let _0x1118a6=await this[_0x4bac1d(0x5e2)]({'request':_0x1be047,'schema':Oa,'ClassRef':Ie,'execute':(_0x524677,_0x4496fa)=>W['sendMedia'](_0x524677,_0x4496fa)});return _0x3917c5[_0x4bac1d(0x353)](0xc9)[_0x4bac1d(0x5b6)](_0x1118a6);})['post'](this[_0x1f9454(0x6fa)](_0x1f9454(0x162)),..._0x3facb1,async(_0x5b6f2e,_0x3b0579)=>{const _0xc92ae7=_0x1f9454;let _0x28b6ff=await this['dataValidate']({'request':_0x5b6f2e,'schema':xa,'ClassRef':St,'execute':(_0x50b65b,_0x3fae63)=>W[_0xc92ae7(0x162)](_0x50b65b,_0x3fae63)});return _0x3b0579[_0xc92ae7(0x353)](0xc9)['json'](_0x28b6ff);})['post'](this['routerPath'](_0x1f9454(0x4d7)),..._0x3facb1,async(_0x4fecde,_0x2f2d48)=>{const _0x4c3ec4=_0x1f9454;let _0x155510=await this[_0x4c3ec4(0x5e2)]({'request':_0x4fecde,'schema':Ta,'ClassRef':Ie,'execute':(_0x2681b9,_0x2e9da4)=>W[_0x4c3ec4(0x4d7)](_0x2681b9,_0x2e9da4)});return _0x2f2d48[_0x4c3ec4(0x353)](0xc9)['json'](_0x155510);})[_0x1f9454(0x525)](this[_0x1f9454(0x6fa)](_0x1f9454(0x5a1)),..._0x3facb1,async(_0x26325d,_0x14d156)=>{const _0x52a34d=_0x1f9454;let _0x163284=await this[_0x52a34d(0x5e2)]({'request':_0x26325d,'schema':Da,'ClassRef':Ct,'execute':(_0x2609c3,_0x51fa06)=>W[_0x52a34d(0x5a1)](_0x2609c3,_0x51fa06)});return _0x14d156['status'](0xc9)[_0x52a34d(0x5b6)](_0x163284);})['post'](this[_0x1f9454(0x6fa)]('sendLocation'),..._0x3facb1,async(_0x14712c,_0x24c880)=>{const _0x19ba5d=_0x1f9454;let _0x3bf2e3=await this['dataValidate']({'request':_0x14712c,'schema':_a,'ClassRef':Et,'execute':(_0x45bcd3,_0x57328f)=>W[_0x19ba5d(0x653)](_0x45bcd3,_0x57328f)});return _0x24c880['status'](0xc9)['json'](_0x3bf2e3);})[_0x1f9454(0x525)](this['routerPath']('sendList'),..._0x3facb1,async(_0x6318cd,_0x1fa00d)=>{const _0x24487a=_0x1f9454;let _0x14030c=await this[_0x24487a(0x5e2)]({'request':_0x6318cd,'schema':Pa,'ClassRef':vt,'execute':(_0x84360d,_0x5b62c7)=>W[_0x24487a(0x4c3)](_0x84360d,_0x5b62c7)});return _0x1fa00d[_0x24487a(0x353)](0xc9)['json'](_0x14030c);})['post'](this[_0x1f9454(0x6fa)](_0x1f9454(0x4b0)),..._0x3facb1,async(_0x337301,_0x5cc066)=>{const _0x21b084=_0x1f9454;let _0x50075a=await this['dataValidate']({'request':_0x337301,'schema':ka,'ClassRef':Nt,'execute':(_0x54357b,_0x5e2c6d)=>W[_0x21b084(0x4b0)](_0x54357b,_0x5e2c6d)});return _0x5cc066['status'](0xc9)['json'](_0x50075a);})[_0x1f9454(0x525)](this['routerPath'](_0x1f9454(0x522)),..._0x3facb1,async(_0xac1e45,_0x422748)=>{const _0x4efa1e=_0x1f9454;let _0x29fb96=await this[_0x4efa1e(0x5e2)]({'request':_0xac1e45,'schema':ja,'ClassRef':Rt,'execute':(_0x2175bd,_0x2ac88d)=>W[_0x4efa1e(0x522)](_0x2175bd,_0x2ac88d)});return _0x422748[_0x4efa1e(0x353)](0xc9)[_0x4efa1e(0x5b6)](_0x29fb96);})[_0x1f9454(0x525)](this['routerPath'](_0x1f9454(0x69f)),..._0x3facb1,async(_0x49c809,_0x34ccb5)=>{const _0x556bbc=_0x1f9454;let _0x48b8c1=await this[_0x556bbc(0x5e2)]({'request':_0x49c809,'schema':Ia,'ClassRef':bt,'execute':(_0x1ac706,_0x5b61b3)=>W[_0x556bbc(0x69f)](_0x1ac706,_0x5b61b3)});return _0x34ccb5[_0x556bbc(0x353)](0xc9)['json'](_0x48b8c1);})[_0x1f9454(0x525)](this['routerPath'](_0x1f9454(0x1c7)),..._0x3facb1,async(_0x3a2543,_0xcc02b5)=>{const _0x208392=_0x1f9454;let _0x2a3c7a=await this[_0x208392(0x5e2)]({'request':_0x3a2543,'schema':Aa,'ClassRef':yt,'execute':(_0x4e576c,_0x18016c)=>W[_0x208392(0x1c7)](_0x4e576c,_0x18016c)});return _0xcc02b5[_0x208392(0x353)](0xc9)['json'](_0x2a3c7a);})[_0x1f9454(0x525)](this[_0x1f9454(0x6fa)](_0x1f9454(0x2e3)),..._0x3facb1,async(_0xae148d,_0x14f9ce)=>{const _0x4a012e=_0x1f9454;let _0x378999=await this['dataValidate']({'request':_0xae148d,'schema':$a,'ClassRef':Mt,'execute':(_0x57b5ef,_0x5268ce)=>W['sendSticker'](_0x57b5ef,_0x5268ce)});return _0x14f9ce[_0x4a012e(0x353)](0xc9)[_0x4a012e(0x5b6)](_0x378999);});}},co=require(a0_0x29ff78(0x463)),At=class{},Ot=class extends V{constructor(..._0x510d23){const _0x212239=a0_0x29ff78;super(),this[_0x212239(0x612)]=(0x0,co[_0x212239(0x3e6)])(),this['router']['post'](this[_0x212239(0x6fa)](_0x212239(0x20b)),..._0x510d23,async(_0x36ea50,_0x5b312b)=>{const _0x72eeb=_0x212239;let _0x4cbc0c=await this[_0x72eeb(0x5e2)]({'request':_0x36ea50,'schema':ao,'ClassRef':At,'execute':(_0x28ffd8,_0xe3d208)=>Ms['createWebhook'](_0x28ffd8,_0xe3d208)});_0x5b312b[_0x72eeb(0x353)](0xc9)['json'](_0x4cbc0c);})[_0x212239(0x6b4)](this['routerPath'](_0x212239(0x7a5)),..._0x510d23,async(_0x1b332b,_0x2a7cd6)=>{const _0x1bd381=_0x212239;let _0x15995e=await this[_0x1bd381(0x5e2)]({'request':_0x1b332b,'schema':N,'ClassRef':M,'execute':_0x46f26c=>Ms[_0x1bd381(0x220)](_0x46f26c)});_0x2a7cd6[_0x1bd381(0x353)](0xc8)['json'](_0x15995e);});}},lo=require('express'),y=new R('FlowRouter'),Tt=class extends V{constructor(..._0x12e776){const _0x21dfb7=a0_0x29ff78;super(),this[_0x21dfb7(0x612)]=(0x0,lo[_0x21dfb7(0x3e6)])(),this[_0x21dfb7(0x612)][_0x21dfb7(0x525)](this['routerPath'](_0x21dfb7(0x26f)),..._0x12e776,async(_0x57108a,_0x58603a)=>{const _0xe895d3=_0x21dfb7;let _0x12c5a3=_0x57108a[_0xe895d3(0x73e)];y[_0xe895d3(0x3d2)](_0xe895d3(0x74f)),y[_0xe895d3(0x3d2)](_0xe895d3(0x324)),y['verbose'](_0x57108a[_0xe895d3(0x73e)]);let _0x175887=await this['dataValidate']({'request':_0x57108a,'schema':N,'ClassRef':M,'execute':_0x24054d=>A[_0xe895d3(0x28e)](_0x24054d,_0x12c5a3)});_0x58603a[_0xe895d3(0x353)](0xc8)[_0xe895d3(0x5b6)](_0x175887);})[_0x21dfb7(0x6b4)](this[_0x21dfb7(0x6fa)](_0x21dfb7(0x26f)),..._0x12e776,async(_0x4543df,_0x197c88)=>{const _0x348740=_0x21dfb7;let _0x3a4121=await this[_0x348740(0x5e2)]({'request':_0x4543df,'schema':N,'ClassRef':M,'execute':_0x3701c4=>A['getScheduleMessage'](_0x3701c4)});_0x197c88[_0x348740(0x353)](0xc8)[_0x348740(0x5b6)](_0x3a4121);})['delete'](this['routerPath'](_0x21dfb7(0x593)),..._0x12e776,async(_0x89698f,_0xcbcbd2)=>{const _0x209ebd=_0x21dfb7;y[_0x209ebd(0x3d2)](_0x209ebd(0x591));let _0x3c074a=await this['dataValidate']({'request':_0x89698f,'schema':N,'ClassRef':M,'execute':_0x44880a=>A[_0x209ebd(0x593)](_0x44880a)});_0xcbcbd2[_0x209ebd(0x353)](0xc8)['json'](_0x3c074a);})[_0x21dfb7(0x525)](this['routerPath'](_0x21dfb7(0x2dd)),..._0x12e776,async(_0x19215d,_0x273824)=>{const _0x4c0cf3=_0x21dfb7;let _0x48a76f=_0x19215d[_0x4c0cf3(0x73e)];y[_0x4c0cf3(0x3d2)](_0x4c0cf3(0x390)),y[_0x4c0cf3(0x3d2)](_0x4c0cf3(0x324)),y[_0x4c0cf3(0x3d2)](_0x19215d[_0x4c0cf3(0x73e)]);let _0x5f0a57=await this['dataValidate']({'request':_0x19215d,'schema':N,'ClassRef':M,'execute':_0x10afa3=>A['startFlow'](_0x10afa3,_0x48a76f)});_0x273824[_0x4c0cf3(0x353)](0xc8)[_0x4c0cf3(0x5b6)](_0x5f0a57);})[_0x21dfb7(0x6b4)](this['routerPath']('getAutomateSystem'),..._0x12e776,async(_0x430a9a,_0x438cc0)=>{const _0x3efa30=_0x21dfb7;y[_0x3efa30(0x3d2)]('request\x20received\x20in\x20getAutomateSystem');let _0x4dc3f6=await this[_0x3efa30(0x5e2)]({'request':_0x430a9a,'schema':N,'ClassRef':M,'execute':_0x55d816=>A[_0x3efa30(0x5af)](_0x55d816)});_0x438cc0['status'](0xc8)['json'](_0x4dc3f6);})[_0x21dfb7(0x6b4)](this[_0x21dfb7(0x6fa)](_0x21dfb7(0x72f)),..._0x12e776,async(_0x1f95d3,_0x1f1da0)=>{const _0x5e93f9=_0x21dfb7;y['verbose']('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0x4ff08e=await this['dataValidate']({'request':_0x1f95d3,'schema':N,'ClassRef':M,'execute':_0x200d70=>A[_0x5e93f9(0x5af)](_0x200d70)});_0x1f1da0[_0x5e93f9(0x353)](0xc8)[_0x5e93f9(0x5b6)](_0x4ff08e);})[_0x21dfb7(0x525)](this[_0x21dfb7(0x6fa)]('updateAgent'),..._0x12e776,async(_0x4631c5,_0x5c05c7)=>{const _0x3ee8f3=_0x21dfb7;let _0x4280b8=_0x4631c5[_0x3ee8f3(0x73e)];y[_0x3ee8f3(0x3d2)]('request\x20received\x20in\x20updateAgent'),y['verbose']('request\x20body:\x20'),y[_0x3ee8f3(0x3d2)](_0x4631c5[_0x3ee8f3(0x73e)]);let _0x4eb2f9=await this[_0x3ee8f3(0x5e2)]({'request':_0x4631c5,'schema':N,'ClassRef':M,'execute':_0xcdefe=>A['updateAgent'](_0xcdefe,_0x4280b8)});_0x5c05c7['status'](0xc8)[_0x3ee8f3(0x5b6)](_0x4eb2f9);})[_0x21dfb7(0x525)](this['routerPath']('updateCustomFields'),..._0x12e776,async(_0x16b59c,_0x4bef6d)=>{const _0x39d6c9=_0x21dfb7;let _0x223e67=_0x16b59c['body'];y[_0x39d6c9(0x3d2)]('request\x20received\x20in\x20updateCustomFields'),y[_0x39d6c9(0x3d2)](_0x39d6c9(0x324)),y[_0x39d6c9(0x3d2)](_0x16b59c[_0x39d6c9(0x73e)]);let _0x54159b=await this['dataValidate']({'request':_0x16b59c,'schema':N,'ClassRef':M,'execute':_0x3e9968=>A[_0x39d6c9(0x796)](_0x3e9968,_0x223e67)});_0x4bef6d[_0x39d6c9(0x353)](0xc8)[_0x39d6c9(0x5b6)](_0x54159b);})[_0x21dfb7(0x525)](this[_0x21dfb7(0x6fa)](_0x21dfb7(0x6b0)),..._0x12e776,async(_0x2d7e3c,_0x388dc4)=>{const _0x44c30c=_0x21dfb7;let _0x3a3eb8=_0x2d7e3c[_0x44c30c(0x73e)];y[_0x44c30c(0x3d2)](_0x44c30c(0x336)),y[_0x44c30c(0x3d2)](_0x44c30c(0x324)),y[_0x44c30c(0x3d2)](_0x2d7e3c[_0x44c30c(0x73e)]);let _0x2cd370=await this[_0x44c30c(0x5e2)]({'request':_0x2d7e3c,'schema':N,'ClassRef':M,'execute':_0x3e2c41=>A[_0x44c30c(0x6b0)](_0x3e2c41,_0x3a3eb8)});_0x388dc4[_0x44c30c(0x353)](0xc8)['json'](_0x2cd370);})[_0x21dfb7(0x525)](this[_0x21dfb7(0x6fa)](_0x21dfb7(0x6c2)),..._0x12e776,async(_0x245565,_0x4228f2)=>{const _0x333781=_0x21dfb7;let _0x12f5cc=_0x245565[_0x333781(0x73e)];y[_0x333781(0x3d2)](_0x333781(0x611)),y[_0x333781(0x3d2)]('request\x20body:\x20'),y[_0x333781(0x3d2)](_0x245565['body']);let _0x10e409=await this[_0x333781(0x5e2)]({'request':_0x245565,'schema':N,'ClassRef':M,'execute':_0xa9fae5=>A['updateFlowConfig'](_0xa9fae5,_0x12f5cc)});_0x4228f2[_0x333781(0x353)](0xc8)[_0x333781(0x5b6)](_0x10e409);})[_0x21dfb7(0x525)](this[_0x21dfb7(0x6fa)]('getConversation'),..._0x12e776,async(_0x2ef718,_0x392cac)=>{const _0x4633b7=_0x21dfb7;let _0x135ae6=_0x2ef718[_0x4633b7(0x73e)];y[_0x4633b7(0x3d2)](_0x4633b7(0x434)),y[_0x4633b7(0x3d2)](_0x4633b7(0x324)),y[_0x4633b7(0x3d2)](_0x2ef718[_0x4633b7(0x73e)]);let _0x2887bc=await this['dataValidate']({'request':_0x2ef718,'schema':N,'ClassRef':M,'execute':_0x5e17d1=>A['getConversation'](_0x5e17d1,_0x135ae6)});_0x392cac[_0x4633b7(0x353)](0xc8)[_0x4633b7(0x5b6)](_0x2887bc);})['post'](this['routerPath'](_0x21dfb7(0x2ca)),..._0x12e776,async(_0x4e1f97,_0x126b96)=>{const _0x148611=_0x21dfb7;let _0x2bc26f=_0x4e1f97['body'];y[_0x148611(0x3d2)]('request\x20received\x20in\x20fetchConversation'),y[_0x148611(0x3d2)](_0x148611(0x324)),y[_0x148611(0x3d2)](_0x4e1f97['body']);let _0x2d80a3=await this['dataValidate']({'request':_0x4e1f97,'schema':N,'ClassRef':M,'execute':_0x40120d=>A[_0x148611(0x2ca)](_0x40120d,_0x2bc26f)});_0x126b96[_0x148611(0x353)](0xc8)[_0x148611(0x5b6)](_0x2d80a3);})[_0x21dfb7(0x525)](this[_0x21dfb7(0x6fa)](_0x21dfb7(0x20c)),..._0x12e776,async(_0xfdad80,_0x5736c0)=>{const _0x4cd78d=_0x21dfb7;let _0x1ec873=_0xfdad80[_0x4cd78d(0x73e)];y[_0x4cd78d(0x3d2)](_0x4cd78d(0x2a1)),y[_0x4cd78d(0x3d2)]('request\x20body:\x20'),y['verbose'](_0xfdad80[_0x4cd78d(0x73e)]);let _0x162378=await this[_0x4cd78d(0x5e2)]({'request':_0xfdad80,'schema':N,'ClassRef':M,'execute':_0x2235c5=>A['editConversation'](_0x2235c5,_0x1ec873)});_0x5736c0[_0x4cd78d(0x353)](0xc8)[_0x4cd78d(0x5b6)](_0x162378);})[_0x21dfb7(0x7b8)](this[_0x21dfb7(0x6fa)](_0x21dfb7(0x5df)),..._0x12e776,async(_0x55c2bf,_0x56e522)=>{const _0x6f39e6=_0x21dfb7;let _0x1c5dbf=_0x55c2bf['body'];y['verbose']('request\x20received\x20in\x20deleteConversation'),y[_0x6f39e6(0x3d2)](_0x6f39e6(0x324)),y[_0x6f39e6(0x3d2)](_0x55c2bf[_0x6f39e6(0x73e)]);let _0xc166c4=await this[_0x6f39e6(0x5e2)]({'request':_0x55c2bf,'schema':N,'ClassRef':M,'execute':_0x153e29=>A[_0x6f39e6(0x5df)](_0x153e29,_0x1c5dbf)});_0x56e522['status'](0xc8)[_0x6f39e6(0x5b6)](_0xc166c4);})['post'](this[_0x21dfb7(0x6fa)](_0x21dfb7(0x27e)),..._0x12e776,async(_0x34ddff,_0x1bf11c)=>{const _0x7a6072=_0x21dfb7;let _0x2d1daa=_0x34ddff[_0x7a6072(0x73e)],_0x4fcb9f=_0x34ddff[_0x7a6072(0x35b)][_0x7a6072(0x69e)];y[_0x7a6072(0x3d2)]('request\x20received\x20in\x20createFlow'),y['verbose'](_0x7a6072(0x324)),y[_0x7a6072(0x3d2)](_0x34ddff[_0x7a6072(0x73e)]);let _0x9df8b8=await this[_0x7a6072(0x5e2)]({'request':_0x34ddff,'schema':N,'ClassRef':M,'execute':_0x36bb3f=>A[_0x7a6072(0x197)](_0x36bb3f,_0x2d1daa,_0x4fcb9f)});_0x1bf11c['status'](0xc8)[_0x7a6072(0x5b6)](_0x9df8b8);})[_0x21dfb7(0x525)](this[_0x21dfb7(0x6fa)](_0x21dfb7(0x4dc)),..._0x12e776,async(_0x5ab1dc,_0x503cd1)=>{const _0x4d0dba=_0x21dfb7;let _0x32b7ba=_0x5ab1dc[_0x4d0dba(0x73e)],_0xe6b70e=_0x5ab1dc['headers']['apikey'];y[_0x4d0dba(0x3d2)](_0x4d0dba(0x35c)),y[_0x4d0dba(0x3d2)](_0x4d0dba(0x324)),y[_0x4d0dba(0x3d2)](_0x5ab1dc[_0x4d0dba(0x73e)]),delete _0x32b7ba[_0x4d0dba(0x5f4)],delete _0x32b7ba[_0x4d0dba(0xb4)],delete _0x32b7ba[_0x4d0dba(0x219)],delete _0x32b7ba['conditions'];let _0x226594=await this[_0x4d0dba(0x5e2)]({'request':_0x5ab1dc,'schema':N,'ClassRef':M,'execute':_0x5e7e4d=>A['editFlow'](_0x5e7e4d,_0x32b7ba,_0xe6b70e)});_0x503cd1['status'](0xc8)[_0x4d0dba(0x5b6)](_0x226594);})['post'](this[_0x21dfb7(0x6fa)](_0x21dfb7(0x1b5)),..._0x12e776,async(_0xad737a,_0x19c3a7)=>{const _0x3e92bf=_0x21dfb7;let _0x1bb680=_0xad737a['body'],_0x199fcb=_0xad737a[_0x3e92bf(0x35b)][_0x3e92bf(0x69e)];y['verbose'](_0x3e92bf(0x35c)),y['verbose'](_0x3e92bf(0x324)),y[_0x3e92bf(0x3d2)](_0xad737a[_0x3e92bf(0x73e)]);let _0x2fdff5=await this[_0x3e92bf(0x5e2)]({'request':_0xad737a,'schema':N,'ClassRef':M,'execute':_0x4657c9=>A[_0x3e92bf(0x5f5)](_0x4657c9,_0x1bb680,_0x199fcb)});_0x19c3a7['status'](0xc8)['json'](_0x2fdff5);})[_0x21dfb7(0x525)](this[_0x21dfb7(0x6fa)](_0x21dfb7(0x557)),..._0x12e776,async(_0x47b6d3,_0x19f2fc)=>{const _0x1153f8=_0x21dfb7;let _0x2d4068=_0x47b6d3[_0x1153f8(0x73e)],_0x1ef854=_0x47b6d3[_0x1153f8(0x35b)][_0x1153f8(0x69e)];y[_0x1153f8(0x3d2)]('request\x20received\x20in\x20editFlow'),y[_0x1153f8(0x3d2)](_0x1153f8(0x324)),y[_0x1153f8(0x3d2)](_0x47b6d3[_0x1153f8(0x73e)]);let _0x5a2c52=await this[_0x1153f8(0x5e2)]({'request':_0x47b6d3,'schema':N,'ClassRef':M,'execute':_0x55acde=>A['editFlowReply'](_0x55acde,_0x2d4068,_0x1ef854)});_0x19f2fc[_0x1153f8(0x353)](0xc8)[_0x1153f8(0x5b6)](_0x5a2c52);})['post'](this['routerPath'](_0x21dfb7(0x222)),..._0x12e776,async(_0x735fcd,_0x416796)=>{const _0x13094f=_0x21dfb7;let _0x4225c7=_0x735fcd['body'],_0x4f55c5=_0x735fcd['headers'][_0x13094f(0x69e)];y[_0x13094f(0x3d2)]('request\x20received\x20in\x20editFlow'),y['verbose'](_0x13094f(0x324)),y[_0x13094f(0x3d2)](_0x735fcd[_0x13094f(0x73e)]);let _0x16c1db=await this[_0x13094f(0x5e2)]({'request':_0x735fcd,'schema':N,'ClassRef':M,'execute':_0x4f7496=>A[_0x13094f(0x42f)](_0x4f7496,_0x4225c7,_0x4f55c5)});_0x416796[_0x13094f(0x353)](0xc8)[_0x13094f(0x5b6)](_0x16c1db);})[_0x21dfb7(0x525)](this['routerPath'](_0x21dfb7(0x4de)),..._0x12e776,async(_0x1473f8,_0x40aa8f)=>{const _0x2f1590=_0x21dfb7;let _0x37c529=_0x1473f8[_0x2f1590(0x73e)],_0x404af8=_0x1473f8['headers'][_0x2f1590(0x69e)];y[_0x2f1590(0x3d2)](_0x2f1590(0x34a)),y[_0x2f1590(0x3d2)]('request\x20body:\x20'),y[_0x2f1590(0x3d2)](_0x1473f8[_0x2f1590(0x73e)]);let _0x25cbf8=await this[_0x2f1590(0x5e2)]({'request':_0x1473f8,'schema':N,'ClassRef':M,'execute':_0x24952f=>A[_0x2f1590(0x722)](_0x24952f,_0x37c529,_0x404af8)});_0x40aa8f['status'](0xc8)[_0x2f1590(0x5b6)](_0x25cbf8);})['post'](this[_0x21dfb7(0x6fa)](_0x21dfb7(0x573)),..._0x12e776,async(_0x47e9de,_0x124465)=>{const _0x10ca52=_0x21dfb7;let _0x4beab2=_0x47e9de['body'],_0x2a6365=_0x47e9de[_0x10ca52(0x35b)]['apikey'];y[_0x10ca52(0x3d2)](_0x10ca52(0x32e)),y[_0x10ca52(0x3d2)]('request\x20body:\x20'),y[_0x10ca52(0x3d2)](_0x47e9de[_0x10ca52(0x73e)]);let _0x3131eb=await this[_0x10ca52(0x5e2)]({'request':_0x47e9de,'schema':N,'ClassRef':M,'execute':_0x42d14d=>A[_0x10ca52(0x699)](_0x42d14d,_0x4beab2,_0x2a6365)});_0x124465[_0x10ca52(0x353)](0xc8)[_0x10ca52(0x5b6)](_0x3131eb);})[_0x21dfb7(0x525)](this[_0x21dfb7(0x6fa)]('editflowvariable'),..._0x12e776,async(_0x242748,_0xff4e4e)=>{const _0x342fba=_0x21dfb7;let _0x3dfae3=_0x242748['body'],_0x174920=_0x242748[_0x342fba(0x35b)][_0x342fba(0x69e)];y[_0x342fba(0x3d2)](_0x342fba(0x370)),y[_0x342fba(0x3d2)](_0x342fba(0x324)),y[_0x342fba(0x3d2)](_0x242748['body']);let _0x504b6c=await this[_0x342fba(0x5e2)]({'request':_0x242748,'schema':N,'ClassRef':M,'execute':_0x49bc52=>A[_0x342fba(0x221)](_0x49bc52,_0x3dfae3,_0x174920)});_0xff4e4e['status'](0xc8)[_0x342fba(0x5b6)](_0x504b6c);})[_0x21dfb7(0x525)](this[_0x21dfb7(0x6fa)](_0x21dfb7(0x5c9)),..._0x12e776,async(_0x508b9e,_0x51b4bb)=>{const _0x5da276=_0x21dfb7;let _0x28be71=_0x508b9e['body'];y[_0x5da276(0x3d2)](_0x5da276(0x79c)),y[_0x5da276(0x3d2)](_0x5da276(0x324)),y[_0x5da276(0x3d2)](_0x508b9e['body']);let _0x4d0190=await this[_0x5da276(0x5e2)]({'request':_0x508b9e,'schema':N,'ClassRef':M,'execute':_0xa424e9=>A[_0x5da276(0x1f6)](_0xa424e9,_0x28be71)});_0x51b4bb[_0x5da276(0x353)](0xc8)[_0x5da276(0x5b6)](_0x4d0190);})[_0x21dfb7(0x7b8)](this[_0x21dfb7(0x6fa)](_0x21dfb7(0x74a)),..._0x12e776,async(_0x272fd4,_0x4e5dd4)=>{const _0x84032b=_0x21dfb7;let _0x33786a=_0x272fd4[_0x84032b(0x73e)],_0x10484b=_0x272fd4[_0x84032b(0x35b)]['apikey'];y[_0x84032b(0x3d2)](_0x84032b(0xdc)),y[_0x84032b(0x3d2)]('request\x20body:\x20'),y[_0x84032b(0x3d2)](_0x272fd4[_0x84032b(0x73e)]);let _0x9d9943=await this[_0x84032b(0x5e2)]({'request':_0x272fd4,'schema':N,'ClassRef':M,'execute':_0x49fb17=>A[_0x84032b(0x1ac)](_0x49fb17,_0x33786a,_0x10484b)});_0x4e5dd4['status'](0xc8)[_0x84032b(0x5b6)](_0x9d9943);})['get'](this[_0x21dfb7(0x6fa)](_0x21dfb7(0x480)),..._0x12e776,async(_0x1a459b,_0x4ee29a)=>{const _0x37e72a=_0x21dfb7;y['verbose'](_0x37e72a(0x771));let _0x41e4da=await this['dataValidate']({'request':_0x1a459b,'schema':N,'ClassRef':M,'execute':_0x3cc407=>A[_0x37e72a(0x1c8)](_0x3cc407)});_0x4ee29a[_0x37e72a(0x353)](0xc8)[_0x37e72a(0x5b6)](_0x41e4da);});}},go=O(require('path')),ee={};function uo(_0x91e41,_0xf17eb2,_0x53c8eb,_0x440abb){ee[_0x91e41]||(ee[_0x91e41]={}),ee[_0x91e41][_0xf17eb2]={'id':_0xf17eb2,'response':_0x53c8eb,'events':_0x440abb};}function po(_0x4040e5,_0x4b0612){!ee[_0x4040e5]||!ee[_0x4040e5][_0x4b0612]||delete ee[_0x4040e5][_0x4b0612];}function F(_0x219d30,_0x5bda40,_0x13324b){const _0x459922=a0_0x29ff78;if(!ee[_0x219d30])return;let _0x4c71c2=_0x459922(0x399)+JSON[_0x459922(0x230)](_0x13324b)+'\x0a\x0a';Object['values'](ee[_0x219d30])[_0x459922(0x628)](_0xf6f51b=>{const _0x58ab68=_0x459922;_0xf6f51b['events']['includes'](_0x5bda40)&&_0xf6f51b[_0x58ab68(0x5bb)][_0x58ab68(0x563)](_0x4c71c2);});}function ho(){const _0x30d779=a0_0x29ff78;let _0x2d0319={};for(let _0xd51184 in ee)_0x2d0319[_0xd51184]=Object['values'](ee[_0xd51184])[_0x30d779(0x174)](_0x43bc16=>({'id':_0x43bc16['id'],'events':_0x43bc16[_0x30d779(0x228)]}));return _0x2d0319;}var mo=require('uuid'),Es=require(a0_0x29ff78(0x7a7)),Cs=class{},wr=new Es[(a0_0x29ff78(0x79e))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),yr=new Es[(a0_0x29ff78(0x79e))]({'_id':{'type':String,'default':a0_0x29ff78(0x43a)},'WebhookGlobal':{'type':wr},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Se=$?.[a0_0x29ff78(0x13b)](Cs[a0_0x29ff78(0x177)],yr,a0_0x29ff78(0x287)),br=go[a0_0x29ff78(0x152)]['join'](__dirname,a0_0x29ff78(0x69a)),xe=(0x0,It[a0_0x29ff78(0x3e6)])(),Sr=S['get']('AUTHENTICATION')[a0_0x29ff78(0x603)],oe=[Sa,Ma,va[Sr]];xe[a0_0x29ff78(0x34f)](a0_0x29ff78(0x2f4),It[a0_0x29ff78(0x152)][a0_0x29ff78(0x53f)](br))[a0_0x29ff78(0x6b4)]('/events/:instance',async(_0x159a44,_0x5b669e)=>{const _0x5a4ffc=a0_0x29ff78;console['log'](_0x5a4ffc(0x58a));let _0x531857=_0x159a44['params'][_0x5a4ffc(0x2ac)],_0x4cca20=(_0x159a44[_0x5a4ffc(0x579)]['events']||'')[_0x5a4ffc(0x599)](','),_0x29e8b0=(0x0,mo['v4'])();console[_0x5a4ffc(0x15d)]('Instance\x20ID:',_0x531857),console['log'](_0x5a4ffc(0x2e7),_0x4cca20);let _0x2d0956=S[_0x5a4ffc(0x6b4)]('AUTHENTICATION')[_0x5a4ffc(0x44d)],_0x518a12=_0x159a44[_0x5a4ffc(0x579)]['apikey'];if(console[_0x5a4ffc(0x15d)](_0x5a4ffc(0x122),_0x518a12),_0x2d0956[_0x5a4ffc(0x1ca)]!==_0x518a12){console[_0x5a4ffc(0x15d)](_0x5a4ffc(0x240));try{let _0x407844=await ue[_0x5a4ffc(0x28f)]['find'](_0x531857);if(console[_0x5a4ffc(0x15d)](_0x5a4ffc(0x48c),_0x407844),!_0x407844||_0x407844[_0x5a4ffc(0x69e)]!==_0x518a12)return console[_0x5a4ffc(0x15d)](_0x5a4ffc(0x6a9)),_0x5b669e[_0x5a4ffc(0x353)](0x191)[_0x5a4ffc(0x4fa)](_0x5a4ffc(0x5c1));}catch(_0x3527f2){return console[_0x5a4ffc(0xdb)](_0x5a4ffc(0x6b2),_0x3527f2),_0x5b669e[_0x5a4ffc(0x353)](0x191)[_0x5a4ffc(0x4fa)](_0x5a4ffc(0x2a7));}}if(!await $e(_0x531857))return _0x5b669e[_0x5a4ffc(0x353)](0x194)[_0x5a4ffc(0x4fa)](_0x5a4ffc(0x2e8));_0x5b669e[_0x5a4ffc(0x163)](_0x5a4ffc(0x6a2),_0x5a4ffc(0xcc)),_0x5b669e[_0x5a4ffc(0x163)](_0x5a4ffc(0x344),_0x5a4ffc(0xd4)),_0x5b669e[_0x5a4ffc(0x163)](_0x5a4ffc(0x428),_0x5a4ffc(0x1c0)),_0x5b669e[_0x5a4ffc(0x255)]();let _0x48ede3=_0x5a4ffc(0x399)+JSON[_0x5a4ffc(0x230)]({'info':_0x5a4ffc(0x33e)})+'\x0a\x0a';_0x5b669e['write'](_0x48ede3),uo(_0x531857,_0x29e8b0,_0x5b669e,_0x4cca20),_0x159a44['on']('close',()=>{const _0x8aeaeb=_0x5a4ffc;console['log'](_0x8aeaeb(0x4e1)+_0x531857),po(_0x531857,_0x29e8b0);});}),xe[a0_0x29ff78(0x525)](a0_0x29ff78(0x24d),async(_0x10b999,_0x559072)=>{const _0x5a8aaf=a0_0x29ff78;console['log'](_0x5a8aaf(0x3fd));let _0x4be3a3=_0x10b999[_0x5a8aaf(0x4bc)]['instance'],_0x545c4d=_0x10b999[_0x5a8aaf(0x4bc)]['startID'],_0x67b652=_0x10b999[_0x5a8aaf(0x579)]['remoteJid']||'',_0x18a302=_0x10b999['body'];console[_0x5a8aaf(0x15d)](_0x5a8aaf(0x113),_0x4be3a3),console[_0x5a8aaf(0x15d)](_0x5a8aaf(0x730),_0x545c4d),console['log'](_0x5a8aaf(0x319),_0x67b652),console[_0x5a8aaf(0x15d)](_0x5a8aaf(0x686),_0x18a302);try{if(!await $e(_0x4be3a3))return _0x559072[_0x5a8aaf(0x353)](0x194)[_0x5a8aaf(0x4fa)](_0x5a8aaf(0x2e8));let _0x35d30e=await A[_0x5a8aaf(0x518)](_0x4be3a3,_0x545c4d,_0x67b652,_0x18a302);_0x559072['send'](_0x35d30e);}catch(_0x2d3add){console['error'](_0x2d3add),_0x559072[_0x5a8aaf(0x353)](0x1f4)[_0x5a8aaf(0x4fa)](_0x5a8aaf(0x51d));}}),xe['get'](a0_0x29ff78(0x4cf),(_0x36139b,_0x1ab665)=>{let _0x5d66f3=ho();_0x1ab665['json'](_0x5d66f3);})[a0_0x29ff78(0x6b4)]('/',(_0x1b68c9,_0x56ce66)=>{const _0x2deb00=a0_0x29ff78;let _0x59162e=S['get'](_0x2deb00(0x1c5))['URL'];if(_0x59162e){let _0x3e2916=encodeURIComponent(''+_0x59162e);_0x56ce66[_0x2deb00(0x424)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x3e2916);return;}let _0x144dd4=S[_0x2deb00(0x6b4)](_0x2deb00(0x577)),_0x546b88=_0x144dd4&&_0x144dd4['FULLCHAIN']['split']('/')[0x4];if(_0x546b88){let _0x58d248=encodeURIComponent('https://'+_0x546b88);_0x56ce66[_0x2deb00(0x424)](_0x2deb00(0x706)+_0x58d248);}else _0x56ce66['redirect'](_0x2deb00(0x1fe));})['put']('/exit',...oe,async(_0x382b87,_0x495dc2)=>{const _0x5a6f80=a0_0x29ff78;try{console['log'](_0x5a6f80(0x284)),_0x495dc2[_0x5a6f80(0x353)](0xc8)[_0x5a6f80(0x5b6)]({'message':_0x5a6f80(0x697)}),_0x495dc2['on'](_0x5a6f80(0x785),()=>process[_0x5a6f80(0x568)](0x0));}catch(_0x4583d4){console['error'](_0x5a6f80(0x295),_0x4583d4),_0x495dc2['status'](0x1f4)[_0x5a6f80(0x5b6)]({'message':_0x5a6f80(0x215)});}})[a0_0x29ff78(0x61e)]('/config',...oe,async(_0x44407b,_0x36ae36)=>{const _0x20bb79=a0_0x29ff78;try{let _0x32b14f=_0x44407b[_0x20bb79(0x73e)];await Se[_0x20bb79(0x1bc)]({},{'$set':_0x32b14f},{'upsert':!0x0});let _0x36f90c=await Se[_0x20bb79(0x2d8)]();_0x36ae36[_0x20bb79(0x5b6)](_0x36f90c);}catch(_0x3eb932){_0x36ae36[_0x20bb79(0x353)](0x190)[_0x20bb79(0x4fa)](_0x3eb932[_0x20bb79(0x620)]);}})[a0_0x29ff78(0x6b4)]('/config',...oe,async(_0x5303db,_0x4e0874)=>{const _0x4dbaa3=a0_0x29ff78;try{let _0x10d08f=await Se[_0x4dbaa3(0x2d8)]();if(!_0x10d08f)return _0x4e0874[_0x4dbaa3(0x5b6)]({});_0x4e0874[_0x4dbaa3(0x5b6)](_0x10d08f);}catch(_0x34de88){_0x4e0874[_0x4dbaa3(0x353)](0x1f4)[_0x4dbaa3(0x4fa)](_0x34de88[_0x4dbaa3(0x620)]);}})[a0_0x29ff78(0x34f)](a0_0x29ff78(0x37a),new ft(S,...oe)[a0_0x29ff78(0x612)])[a0_0x29ff78(0x34f)](a0_0x29ff78(0x1f9),new $t(...oe)['router'])[a0_0x29ff78(0x34f)](a0_0x29ff78(0x658),new it(...oe)['router'])[a0_0x29ff78(0x34f)](a0_0x29ff78(0x128),new mt(...oe)[a0_0x29ff78(0x612)])[a0_0x29ff78(0x34f)](a0_0x29ff78(0x46d),new Ot(...oe)[a0_0x29ff78(0x612)])[a0_0x29ff78(0x34f)](a0_0x29ff78(0xfe),new Tt(...oe)[a0_0x29ff78(0x612)]);var m=class{constructor(..._0x2a28d6){const _0x4d67f6=a0_0x29ff78;throw{'status':0x190,'error':_0x4d67f6(0x5d5),'message':_0x2a28d6[_0x4d67f6(0x78c)]>0x0?_0x2a28d6:void 0x0};}},ae=class{constructor(..._0x796b93){throw{'status':0x191,'error':'Unauthorized','message':_0x796b93['length']>0x0?_0x796b93:void 0x0};}},Y=class{constructor(..._0x450f5c){const _0x505f7a=a0_0x29ff78;throw{'status':0x193,'error':_0x505f7a(0x7a9),'message':_0x450f5c[_0x505f7a(0x78c)]>0x0?_0x450f5c:void 0x0};}},U=class{constructor(..._0x283c25){const _0x463632=a0_0x29ff78;throw{'status':0x194,'error':_0x463632(0x40c),'message':_0x283c25[_0x463632(0x78c)]>0x0?_0x283c25:void 0x0};}},I=class{constructor(..._0xe545ed){const _0x20288b=a0_0x29ff78;throw{'status':0x1f4,'error':_0x20288b(0x184),'message':_0xe545ed[_0x20288b(0x78c)]>0x0?_0xe545ed:void 0x0};}},de=require(a0_0x29ff78(0x513));async function vs(_0x3a44d7){const _0x28dca6=a0_0x29ff78;let _0x5b69c5=new R(vs[_0x28dca6(0x177)]),_0x14ef66=$[_0x28dca6(0x22a)](),_0x3820ac=_0x14ef66['db'](S[_0x28dca6(0x6b4)]('DATABASE')[_0x28dca6(0x67c)][_0x28dca6(0x3c2)]+_0x28dca6(0x320))['collection'](_0x3a44d7),_0x22c43b=async(_0x176924,_0x568efa)=>{const _0x452a23=_0x28dca6;try{return await _0x14ef66['connect'](),await _0x3820ac['replaceOne']({'_id':_0x568efa},JSON[_0x452a23(0x1cd)](JSON[_0x452a23(0x230)](_0x176924,de[_0x452a23(0x742)][_0x452a23(0xd2)])),{'upsert':!0x0});}catch{}},_0x45f3f3=async _0x2971cb=>{const _0x1cffaa=_0x28dca6;try{await _0x14ef66['connect']();let _0x434642=await _0x3820ac[_0x1cffaa(0x2d8)]({'_id':_0x2971cb}),_0x3c462f=JSON['stringify'](_0x434642);return JSON[_0x1cffaa(0x1cd)](_0x3c462f,de[_0x1cffaa(0x742)]['reviver']);}catch{}},_0x5d09cb=async _0x31f798=>{const _0xe2dec7=_0x28dca6;try{return await _0x14ef66['connect'](),await _0x3820ac[_0xe2dec7(0x4bd)]({'_id':_0x31f798});}catch{}},_0x229316=await _0x45f3f3(_0x28dca6(0x782))||(0x0,de['initAuthCreds'])();return{'state':{'creds':_0x229316,'keys':{'get':async(_0x1f2800,_0x32459)=>{const _0x27f011=_0x28dca6;let _0x50bd9d={};return await Promise['all'](_0x32459[_0x27f011(0x174)](async _0x4eaf3d=>{const _0x14a178=_0x27f011;let _0x2bef24=await _0x45f3f3(_0x1f2800+'-'+_0x4eaf3d);_0x1f2800==='app-state-sync-key'&&_0x2bef24&&(_0x2bef24=de[_0x14a178(0xf8)][_0x14a178(0x608)]['AppStateSyncKeyData'][_0x14a178(0x674)](_0x2bef24)),_0x50bd9d[_0x4eaf3d]=_0x2bef24;})),_0x50bd9d;},'set':async _0x3487a8=>{const _0x411c03=_0x28dca6;let _0x40ec0e=[];for(let _0x20d7e6 in _0x3487a8)for(let _0x40003f in _0x3487a8[_0x20d7e6]){let _0x49942d=_0x3487a8[_0x20d7e6][_0x40003f],_0x144e25=_0x20d7e6+'-'+_0x40003f;_0x40ec0e[_0x411c03(0x41b)](_0x49942d?_0x22c43b(_0x49942d,_0x144e25):_0x5d09cb(_0x144e25));}await Promise[_0x411c03(0x4fb)](_0x40ec0e);}}},'saveCreds':async()=>_0x22c43b(_0x229316,_0x28dca6(0x782))};}var Os=O(require('long')),Ts=O(require(a0_0x29ff78(0x59f))),_t=require('@whiskeysockets/baileys'),fo=require(a0_0x29ff78(0xe9)),Dt=require(a0_0x29ff78(0x513)),xt;function Mr(_0x57df51){const _0x5011f8=a0_0x29ff78;return xt||(xt=(0x0,fo['createClient'])({'url':_0x57df51['URI']}),xt[_0x5011f8(0x526)]()),xt;}var ce=class c{constructor(_0x6b3984,_0x3fea4b){const _0x30c827=a0_0x29ff78;this[_0x30c827(0x429)]=_0x6b3984,this[_0x30c827(0x247)]=_0x3fea4b,this[_0x30c827(0x365)]=new R(c[_0x30c827(0x177)]),this[_0x30c827(0x4c8)]=Mr(_0x6b3984);}set[a0_0x29ff78(0x392)](_0x209ebe){const _0x207100=a0_0x29ff78;this[_0x207100(0x247)]=_0x209ebe;}async[a0_0x29ff78(0x63a)](){const _0xce8391=a0_0x29ff78;try{return await this[_0xce8391(0x4c8)][_0xce8391(0x795)]([_0xce8391(0x63f),this[_0xce8391(0x429)][_0xce8391(0x597)]+':*']);}catch(_0xd89c9f){this[_0xce8391(0x365)][_0xce8391(0xdb)](_0xd89c9f);}}async[a0_0x29ff78(0x2a9)](_0x5d2e68,_0x1c62d5){const _0x34b6ce=a0_0x29ff78;try{let _0x2daef0=JSON['stringify'](_0x1c62d5,Dt[_0x34b6ce(0x742)]['replacer']);return await this['client']['hSet'](this[_0x34b6ce(0x429)][_0x34b6ce(0x597)]+':'+this[_0x34b6ce(0x247)],_0x5d2e68,_0x2daef0);}catch(_0x38f91f){this[_0x34b6ce(0x365)][_0x34b6ce(0xdb)](_0x38f91f);}}async[a0_0x29ff78(0x5b4)](){const _0x182907=a0_0x29ff78;try{let _0x5c63c2=await this[_0x182907(0x4c8)][_0x182907(0x507)](this['redisEnv'][_0x182907(0x597)]+':'+this[_0x182907(0x247)]);if(_0x5c63c2){for(let _0x223df2 in _0x5c63c2)Object['prototype']['hasOwnProperty'][_0x182907(0x52e)](_0x5c63c2,_0x223df2)&&(_0x5c63c2[_0x223df2]=JSON[_0x182907(0x1cd)](_0x5c63c2[_0x223df2],Dt[_0x182907(0x742)][_0x182907(0x3d6)]));return _0x5c63c2;}}catch(_0x5465eb){this[_0x182907(0x365)]['error'](_0x5465eb);}}async[a0_0x29ff78(0x1db)](_0x16b317){const _0x20f0d9=a0_0x29ff78;try{let _0xcbced6=await this[_0x20f0d9(0x4c8)][_0x20f0d9(0x30a)](this[_0x20f0d9(0x429)]['PREFIX_KEY']+':'+this[_0x20f0d9(0x247)],_0x16b317);if(_0xcbced6)return JSON[_0x20f0d9(0x1cd)](_0xcbced6,Dt[_0x20f0d9(0x742)]['reviver']);}catch(_0x56ef89){this[_0x20f0d9(0x365)][_0x20f0d9(0xdb)](_0x56ef89);}}async['removeData'](_0x338e51){const _0x54ba53=a0_0x29ff78;try{return await this[_0x54ba53(0x4c8)][_0x54ba53(0xba)](this[_0x54ba53(0x429)][_0x54ba53(0x597)]+':'+this['instanceName'],_0x338e51);}catch(_0x1ba0c0){this[_0x54ba53(0x365)][_0x54ba53(0xdb)](_0x1ba0c0);}}async[a0_0x29ff78(0x2a5)](_0x54fa9d){const _0x36cbc9=a0_0x29ff78;try{return await this[_0x36cbc9(0x4c8)]['del'](_0x54fa9d||this[_0x36cbc9(0x429)][_0x36cbc9(0x597)]+':'+this[_0x36cbc9(0x247)]);}catch(_0x3a3c29){this[_0x36cbc9(0x365)][_0x36cbc9(0xdb)](_0x3a3c29);}}};async function Ns(_0x3a3837,_0x522c01){const _0x49bee1=a0_0x29ff78;let _0x85a6e7=new R(Ns[_0x49bee1(0x177)]),_0x3a3268=new ce(_0x3a3837,_0x522c01),_0x19a06b=async(_0x2cc05d,_0x1fb0a2)=>{const _0x2ac6d8=_0x49bee1;try{return await _0x3a3268['writeData'](_0x1fb0a2,_0x2cc05d);}catch(_0x3ff37d){return _0x85a6e7[_0x2ac6d8(0xdb)]({'localError':_0x2ac6d8(0x2a9),'error':_0x3ff37d});}},_0x52de84=async _0x33671d=>{const _0x44eca3=_0x49bee1;try{return await _0x3a3268[_0x44eca3(0x1db)](_0x33671d);}catch(_0x5c194){_0x85a6e7[_0x44eca3(0xdb)]({'readData':_0x44eca3(0x2a9),'error':_0x5c194});return;}},_0x251881=async _0x291b9f=>{const _0x369e28=_0x49bee1;try{return await _0x3a3268[_0x369e28(0x347)](_0x291b9f);}catch(_0x437a8e){_0x85a6e7[_0x369e28(0xdb)]({'readData':_0x369e28(0x347),'error':_0x437a8e});}},_0x26572c=await _0x52de84('creds')||(0x0,_t[_0x49bee1(0x2a4)])();return{'state':{'creds':_0x26572c,'keys':{'get':async(_0x57de34,_0x4fa822)=>{const _0x27a45a=_0x49bee1;let _0x24acbc={};return await Promise['all'](_0x4fa822[_0x27a45a(0x174)](async _0x30e70=>{const _0xed8d89=_0x27a45a;let _0x5359cd=await _0x52de84(_0x57de34+'-'+_0x30e70);_0x57de34===_0xed8d89(0x1af)&&_0x5359cd&&(_0x5359cd=_t[_0xed8d89(0xf8)][_0xed8d89(0x608)][_0xed8d89(0x148)][_0xed8d89(0x674)](_0x5359cd)),_0x24acbc[_0x30e70]=_0x5359cd;})),_0x24acbc;},'set':async _0x2df0e6=>{const _0x2ec442=_0x49bee1;let _0xa2bdb=[];for(let _0x2d6adb in _0x2df0e6)for(let _0x1b515a in _0x2df0e6[_0x2d6adb]){let _0x41020e=_0x2df0e6[_0x2d6adb][_0x1b515a],_0x5a2f37=_0x2d6adb+'-'+_0x1b515a;_0xa2bdb[_0x2ec442(0x41b)](_0x41020e?await _0x19a06b(_0x41020e,_0x5a2f37):await _0x251881(_0x5a2f37));}await Promise['all'](_0xa2bdb);}}},'saveCreds':async()=>await _0x19a06b(_0x26572c,'creds')};}var k=O(require('fs')),Me=require(a0_0x29ff78(0x5ae)),Lt=O(require(a0_0x29ff78(0x50f))),Ft=require('https-proxy-agent'),Cr=a0_0x29ff78(0x145)['trim'](),Pt=Cr[a0_0x29ff78(0x599)]('\x0a')['map'](_0x54df60=>{const _0x1763a6=a0_0x29ff78;let _0x25f815=_0x54df60[_0x1763a6(0x599)](':'),_0x12e732={'host':_0x25f815[0x0],'port':_0x25f815[0x1],'protocol':_0x1763a6(0x20f)};return _0x25f815[_0x1763a6(0x78c)]===0x4&&(_0x12e732[_0x1763a6(0xd8)]=_0x25f815[0x2],_0x12e732[_0x1763a6(0x108)]=_0x25f815[0x3]),_0x12e732;});function wo(_0x55ebbc){const _0x332ac5=a0_0x29ff78;return Pt[_0x332ac5(0x7a5)](_0x34dee6=>_0x34dee6[_0x332ac5(0xdf)]===_0x55ebbc)||null;}function yo(){const _0x4380b2=a0_0x29ff78;if(Pt[_0x4380b2(0x78c)]===0x0)return null;let _0x4e1f38=Math['floor'](Math[_0x4380b2(0x72c)]()*Pt['length']);return Pt[_0x4e1f38];}function Rs(_0x16a9aa){const _0x5970c5=a0_0x29ff78;let _0x4affd6=_0x79f9d4=>typeof _0x79f9d4==_0x5970c5(0x52a)&&_0x79f9d4[_0x5970c5(0x78c)]>0x0,_0x42a115=_0x44b20b=>{let _0x144f42=parseInt(_0x44b20b,0xa);return!isNaN(_0x144f42)&&_0x144f42>0x0&&_0x144f42<=0xffff;},_0x6eefad=_0x3e692c=>typeof _0x3e692c==_0x5970c5(0x52a)&&_0x3e692c[_0x5970c5(0x78c)]>0x0;return _0x16a9aa&&_0x4affd6(_0x16a9aa['host'])&&_0x42a115(_0x16a9aa['port'])&&(!_0x16a9aa['username']||_0x6eefad(_0x16a9aa[_0x5970c5(0xd8)]))&&(!_0x16a9aa[_0x5970c5(0x108)]||_0x6eefad(_0x16a9aa['password']))&&(_0x16a9aa[_0x5970c5(0x7b0)]===_0x5970c5(0x20f)||_0x16a9aa['protocol']===_0x5970c5(0x1d6));}var Jt=require('crypto'),Is=a0_0x29ff78(0x478),Eo,le=null,bo=null,st=null,Er=0x3,vr=null,te=S[a0_0x29ff78(0x6b4)](a0_0x29ff78(0x5d2))[a0_0x29ff78(0x44d)][a0_0x29ff78(0x1ca)];async function Nr(){const _0x3f7861=a0_0x29ff78;let _0x1f3677=await Se[_0x3f7861(0x2d8)]();le=_0x1f3677?.[_0x3f7861(0x1a6)]??null,vr=_0x1f3677?.['DaysToDelete']??null,Is=_0x1f3677?.[_0x3f7861(0x4f8)]??_0x3f7861(0x478),Eo=_0x1f3677?.[_0x3f7861(0x3fa)]??xs??_0x3f7861(0x626),console['log'](_0x1f3677);}async function Rr(){await Nr();}Rr();var Ce=class c{constructor(_0x105d0d,_0x52c791,_0x99fe4){const _0x1e77cc=a0_0x29ff78;this['configService']=_0x105d0d,this[_0x1e77cc(0x720)]=_0x52c791,this[_0x1e77cc(0x479)]=_0x99fe4,this['AutomateSystem']=null,this[_0x1e77cc(0x365)]=new R(c['name']),this[_0x1e77cc(0x2ac)]={},this[_0x1e77cc(0x214)]={},this[_0x1e77cc(0x5e7)]={'state':_0x1e77cc(0x619)},this[_0x1e77cc(0xc0)]=(0x0,L[_0x1e77cc(0x46b)])(ie,_0x1e77cc(0x69a)),this[_0x1e77cc(0x1d2)]=new Ts[(_0x1e77cc(0x152))](),this[_0x1e77cc(0x416)]=new Ts[(_0x1e77cc(0x152))](),this[_0x1e77cc(0x7ad)]=!0x1,this['webhookMap']={'status.instance':_0x1e77cc(0x790),'connection.update':'/wa-connection-update','qrcode.updated':_0x1e77cc(0x400),'messages.upsert':'/wa-message','send.message':_0x1e77cc(0x723),'messages.update':_0x1e77cc(0x68b),'group.upsert':_0x1e77cc(0x39e),'group.update':_0x1e77cc(0x39e),'group-participants.update':'/wa-groups','messages.set':_0x1e77cc(0x2b2),'contacts.set':_0x1e77cc(0x7a6),'contacts.upsert':_0x1e77cc(0x7a6),'contacts.update':_0x1e77cc(0x7a6),'presence.update':_0x1e77cc(0x4ab),'chats.set':_0x1e77cc(0x2d0),'chats.update':_0x1e77cc(0x2d0),'chats.upsert':_0x1e77cc(0x2d0),'chats.delete':_0x1e77cc(0x2d0)},this[_0x1e77cc(0x263)]=0x0,this['reconnectTimestamps']=[],this[_0x1e77cc(0x696)]=0xa,this[_0x1e77cc(0x768)]=0xea60,this['isRunning']=!0x1,this[_0x1e77cc(0x492)]={'chats.upsert':async(_0x44d20d,_0x57548f)=>{const _0x416c5e=_0x1e77cc;let _0x2e8587=[];for await(let _0x2aab62 of _0x44d20d)_0x2e8587[_0x416c5e(0x41b)]({'_id':_0x2aab62['id'],'owner':this[_0x416c5e(0x2ac)][_0x416c5e(0x53a)],'group':_0x2aab62['id'][_0x416c5e(0x6d4)](_0x416c5e(0x6f1)),'name':_0x2aab62[_0x416c5e(0x177)]||_0x2aab62['displayName']||null,'contactname':null,'lastmsg':_0x2aab62[_0x416c5e(0xe5)]&&_0x2aab62[_0x416c5e(0xe5)][_0x416c5e(0x675)]()[_0x416c5e(0x78c)]<0xd?_0x2aab62[_0x416c5e(0xe5)]*0x3e8:_0x2aab62[_0x416c5e(0xe5)]||null,'archived':_0x2aab62['archived']||!0x1,'unreadcount':_0x2aab62['unreadCount']||0x0,'ephemeralExpiration':_0x2aab62[_0x416c5e(0x716)]||0x0});this[_0x416c5e(0x2f2)](_0x416c5e(0x296),_0x2e8587);},'chats.update':async(_0x5416c3,_0x345e4c)=>{const _0x529610=_0x1e77cc;for(let _0x2ee948 of _0x5416c3){let _0x535310={'_id':_0x2ee948['id'],'owner':this['instance'][_0x529610(0x53a)],'archived':_0x2ee948[_0x529610(0x713)],'muteEndTime':_0x2ee948[_0x529610(0x75f)],'ephemeralExpiration':_0x2ee948['ephemeralExpiration']},_0x217335=!0x1,_0x5a8ad2={};_0x535310['archived']!=null&&(this['logger'][_0x529610(0x3d2)](this[_0x529610(0x247)]+'\x20('+this[_0x529610(0x2ac)][_0x529610(0x53a)]+_0x529610(0x73a)+_0x2ee948['id']+'\x20:\x20'+_0x2ee948[_0x529610(0x713)]),_0x217335=!0x0,_0x5a8ad2[_0x529610(0x713)]=_0x2ee948[_0x529610(0x713)]),_0x529610(0x75f)in _0x2ee948&&(this['logger'][_0x529610(0x3d2)](this[_0x529610(0x247)]+'\x20('+this[_0x529610(0x2ac)]['wuid']+_0x529610(0x59d)+_0x2ee948['id']+_0x529610(0x788)+(_0x2ee948[_0x529610(0x75f)]??'0')),_0x217335=!0x0,_0x5a8ad2['muteEndTime']=_0x2ee948[_0x529610(0x75f)]??0x0),_0x529610(0x716)in _0x2ee948&&(this['logger'][_0x529610(0x3d2)](this[_0x529610(0x247)]+'\x20('+this[_0x529610(0x2ac)]['wuid']+_0x529610(0x360)+_0x2ee948['id']+_0x529610(0x788)+(_0x2ee948['ephemeralExpiration']!==void 0x0?_0x2ee948[_0x529610(0x716)]:_0x529610(0x536))),_0x5a8ad2[_0x529610(0x716)]=_0x2ee948[_0x529610(0x716)]===null?0x0:_0x2ee948[_0x529610(0x716)],_0x217335=!0x0);let _0x20f223;_0x217335&&(_0x20f223=await this['repository'][_0x529610(0x77e)][_0x529610(0x1bc)]({'where':{'_id':_0x2ee948['id']}},_0x5a8ad2,this[_0x529610(0x2ac)][_0x529610(0x53a)])),_0x20f223&&F(this['instanceName'],_0x529610(0x4ef),{'chat':_0x20f223});}},'chats.delete':async _0x3a9f2e=>{const _0x8f10f1=_0x1e77cc;for(let _0x1b27fd of _0x3a9f2e)if(_0x1b27fd['endsWith']('@g.us')){await this['repository'][_0x8f10f1(0x77e)][_0x8f10f1(0x7b8)]({'where':{'_id':_0x1b27fd}},this[_0x8f10f1(0x2ac)][_0x8f10f1(0x53a)]);let _0x26c714={'where':{'key':{'remoteJid':_0x1b27fd}}};await this[_0x8f10f1(0x479)][_0x8f10f1(0x620)][_0x8f10f1(0x7b8)](_0x26c714,this[_0x8f10f1(0x2ac)]['wuid']);}else{await this[_0x8f10f1(0x479)][_0x8f10f1(0x77e)][_0x8f10f1(0x1bc)]({'where':{'_id':_0x1b27fd}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x8f10f1(0x2ac)]['wuid']);let _0x4207f3={'where':{'key':{'remoteJid':_0x1b27fd}}};await this[_0x8f10f1(0x479)][_0x8f10f1(0x620)][_0x8f10f1(0x7b8)](_0x4207f3,this['instance'][_0x8f10f1(0x53a)]);}this[_0x8f10f1(0x2f2)](_0x8f10f1(0x695),[..._0x3a9f2e]);}},this[_0x1e77cc(0x5be)]={'contacts.upsert':async(_0x1b684d,_0x598d43)=>{const _0x145676=_0x1e77cc;let _0x5800e5=await this[_0x145676(0x479)][_0x145676(0x729)][_0x145676(0x7a5)]({'where':{}},this[_0x145676(0x2ac)]['wuid']),_0x4cb87b=[];for await(let _0x9b9233 of _0x1b684d)_0x5800e5[_0x145676(0x7a5)](_0x2fd5cd=>_0x2fd5cd[_0x145676(0x5e4)]===_0x9b9233['id'])||_0x4cb87b[_0x145676(0x41b)]({'_id':_0x9b9233['id'],'pushName':_0x9b9233?.[_0x145676(0x177)]||_0x9b9233?.[_0x145676(0xf5)],'owner':this[_0x145676(0x2ac)][_0x145676(0x53a)]});this[_0x145676(0x2f2)](_0x145676(0x6f8),_0x4cb87b),await this[_0x145676(0x479)][_0x145676(0x729)]['insert'](_0x4cb87b);},'contacts.update':async(_0x30b89f,_0x49f2d3)=>{const _0x232e1e=_0x1e77cc;let _0x2212d3=[];for await(let _0x134147 of _0x30b89f)_0x2212d3[_0x232e1e(0x41b)]({'_id':_0x134147['id'],'pushName':_0x134147?.['name']??_0x134147?.[_0x232e1e(0xf5)],'owner':this[_0x232e1e(0x2ac)][_0x232e1e(0x53a)]});this['sendDataWebhook'](_0x232e1e(0x3e0),_0x2212d3);}},this[_0x1e77cc(0x412)]={'messaging-history.set':async({messages:_0x44a3d2,chats:_0x3d4cd1,isLatest:_0x5674ac},_0x4f9c73)=>{const _0x3a88da=_0x1e77cc;if(_0x5674ac){let _0x5c1cbb=await Promise[_0x3a88da(0x4fb)](_0x3d4cd1[_0x3a88da(0x174)](async _0x3b82fe=>({'_id':_0x3b82fe['id'],'owner':this[_0x3a88da(0x2ac)][_0x3a88da(0x53a)],'group':_0x3b82fe['id'][_0x3a88da(0x6d4)](_0x3a88da(0x6f1)),'name':_0x3b82fe[_0x3a88da(0x177)]||_0x3b82fe[_0x3a88da(0x1fd)]||_0x3b82fe[_0x3a88da(0xd8)]||null,'contactname':null,'lastmsg':_0x3b82fe[_0x3a88da(0xe5)]&&_0x3b82fe[_0x3a88da(0xe5)][_0x3a88da(0x675)]()['length']<0xd?_0x3b82fe[_0x3a88da(0xe5)]*0x3e8:_0x3b82fe[_0x3a88da(0xe5)]||null,'archived':_0x3b82fe[_0x3a88da(0x713)]||!0x1,'unreadcount':_0x3b82fe[_0x3a88da(0x781)]||0x0,'ephemeralExpiration':_0x3b82fe[_0x3a88da(0x716)]||0x0,'muteEndTime':_0x3b82fe[_0x3a88da(0x75f)]||0x0})));this[_0x3a88da(0x2f2)](_0x3a88da(0x581),_0x5c1cbb),await this[_0x3a88da(0x760)](_0x5c1cbb,_0x4f9c73);}let _0x46f2cc=[],_0x3c87ca=Date[_0x3a88da(0x455)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0xe03bca]of Object[_0x3a88da(0x21d)](_0x44a3d2)){if(_0xe03bca[_0x3a88da(0x620)]?.['protocolMessage']||_0xe03bca[_0x3a88da(0x620)]?.[_0x3a88da(0x4d4)]||!_0xe03bca['message']||_0xe03bca[_0x3a88da(0x60f)][_0x3a88da(0x5aa)]===_0x3a88da(0x51e)||(Os[_0x3a88da(0x152)][_0x3a88da(0x3aa)](_0xe03bca?.[_0x3a88da(0x22e)])&&(_0xe03bca[_0x3a88da(0x22e)]=_0xe03bca[_0x3a88da(0x22e)]?.[_0x3a88da(0x281)]()),_0xe03bca[_0x3a88da(0x22e)]&&_0xe03bca[_0x3a88da(0x22e)][_0x3a88da(0x675)]()[_0x3a88da(0x78c)]<0xd&&(_0xe03bca[_0x3a88da(0x22e)]=_0xe03bca[_0x3a88da(0x22e)]*0x3e8),_0xe03bca[_0x3a88da(0x22e)]<_0x3c87ca))continue;let _0x1bb817=(0x0,f[_0x3a88da(0x5c4)])(_0xe03bca['message']),_0x3351ee=(0x0,f[_0x3a88da(0xe2)])(_0x1bb817),{message_normalized:_0xa61563}=this['normalizeMessage'](_0x1bb817,_0x3351ee,null);Object['keys'](_0xa61563)[_0x3a88da(0x78c)]>0x0&&_0x46f2cc[_0x3a88da(0x41b)]({'_id':_0xe03bca[_0x3a88da(0x60f)]['id'],'key':_0xe03bca[_0x3a88da(0x60f)],'pushName':_0xe03bca['pushName'],'participant':_0xe03bca[_0x3a88da(0x210)],'message':_0x1bb817,'messageType':_0x3351ee,'message_normalized':{'key':_0xe03bca[_0x3a88da(0x60f)],'pushName':_0xe03bca[_0x3a88da(0xcd)],'messageTimestamp':_0xe03bca['messageTimestamp'],..._0xa61563},'messageTimestamp':_0xe03bca['messageTimestamp'],'owner':this[_0x3a88da(0x2ac)][_0x3a88da(0x53a)]});}_0x4f9c73[_0x3a88da(0x775)]&&_0x46f2cc[_0x3a88da(0x78c)]>0x0&&(this[_0x3a88da(0x365)][_0x3a88da(0x3d2)](this['instanceName']+'\x20('+this['instance'][_0x3a88da(0x53a)]+_0x3a88da(0x470)+_0x46f2cc[_0x3a88da(0x78c)]+_0x3a88da(0x779)+this[_0x3a88da(0x2ac)][_0x3a88da(0x53a)]+_0x3a88da(0x758)),await this[_0x3a88da(0x479)][_0x3a88da(0x620)][_0x3a88da(0x3e9)]([..._0x46f2cc],this[_0x3a88da(0x2ac)][_0x3a88da(0x53a)])),this[_0x3a88da(0x2f2)]('messages.set',[..._0x46f2cc]),_0x44a3d2=void 0x0;},'messages.upsert':async({messages:_0x3952bd,type:_0x2e3e9d},_0x5a7935)=>{const _0x4054f1=_0x1e77cc;let _0x41ce21=_0x3952bd[0x0],_0x5ebd66=_0x41ce21[_0x4054f1(0x60f)]['id'],_0x546932=_0x41ce21[_0x4054f1(0x124)]&&_0x41ce21[_0x4054f1(0x124)][0x0]===_0x4054f1(0x54c);if(this[_0x4054f1(0x214)]?.[_0x4054f1(0x22b)]&&_0x41ce21[_0x4054f1(0x60f)]['remoteJid'][_0x4054f1(0x35d)]('@g.us')){this[_0x4054f1(0x365)]['verbose'](this[_0x4054f1(0x247)]+'\x20('+this[_0x4054f1(0x2ac)]['wuid']+_0x4054f1(0x66e));return;}if(_0x546932){for(let _0x2db868=0x0;_0x2db868<0x5;_0x2db868++)try{await this[_0x4054f1(0x4c8)][_0x4054f1(0x4ec)](JSON['parse'](_0x41ce21[_0x4054f1(0x124)][0x1],f[_0x4054f1(0x742)]['reviver'])),this[_0x4054f1(0x365)][_0x4054f1(0x7b5)](this[_0x4054f1(0x247)]+'\x20('+this['instance'][_0x4054f1(0x53a)]+_0x4054f1(0x42b)+(_0x2db868+0x1)+'\x20tentativas.');break;}catch(_0x24b518){if(this[_0x4054f1(0x365)][_0x4054f1(0xdb)](this['instanceName']+'\x20('+this[_0x4054f1(0x2ac)][_0x4054f1(0x53a)]+_0x4054f1(0x51f)+(_0x2db868+0x1)),_0x2db868===0x4)throw _0x24b518;await new Promise(_0x10ca4d=>setTimeout(_0x10ca4d,0x7d0));}}if(_0x2e3e9d!==_0x4054f1(0x207)||!_0x41ce21?.[_0x4054f1(0x620)]||_0x41ce21[_0x4054f1(0x620)]?.['protocolMessage']||_0x41ce21[_0x4054f1(0x620)]['senderKeyDistributionMessage']||_0x41ce21[_0x4054f1(0x60f)][_0x4054f1(0x5aa)]==='status@broadcast')return;let _0x5bab49=null,_0x1f2131=null;try{_0x5bab49=await this[_0x4054f1(0x312)](_0x41ce21),_0x1f2131=_0x5bab49?_0x5bab49['join'](','):null;}catch(_0x623ec8){this[_0x4054f1(0x365)][_0x4054f1(0x3d2)](this['instanceName']+'\x20('+this[_0x4054f1(0x2ac)][_0x4054f1(0x53a)]+'):\x20'+(_0x623ec8 instanceof Error?_0x623ec8['message']:JSON[_0x4054f1(0x230)](_0x623ec8,null,0x2))),_0x1f2131=_0x4054f1(0x387);}this[_0x4054f1(0x4c8)][_0x4054f1(0x3d8)](_0x4054f1(0x59b)),Os[_0x4054f1(0x152)][_0x4054f1(0x3aa)](_0x41ce21[_0x4054f1(0x22e)])&&(_0x41ce21['messageTimestamp']=_0x41ce21['messageTimestamp']?.[_0x4054f1(0x281)]()),_0x41ce21[_0x4054f1(0x22e)]&&_0x41ce21['messageTimestamp'][_0x4054f1(0x675)]()['length']<0xd&&(_0x41ce21[_0x4054f1(0x22e)]=_0x41ce21[_0x4054f1(0x22e)]*0x3e8);let _0x27c7ad=_0x41ce21[_0x4054f1(0x620)],_0x9976d0=(0x0,f[_0x4054f1(0x5c4)])(_0x27c7ad),_0x5548a6=(0x0,f[_0x4054f1(0xe2)])(_0x9976d0),{messageContent:_0x3db3fe,message_normalized:_0x29ca77}=this[_0x4054f1(0x178)](_0x9976d0,_0x5548a6,_0x1f2131);_0x5548a6===_0x4054f1(0x453)&&_0x3db3fe?.[_0x4054f1(0x3b0)]&&(_0x5548a6='editedMessage');let _0x14d67f,_0x51466f=_0x41ce21[_0x4054f1(0x60f)]['remoteJid'][_0x4054f1(0x6d4)](_0x4054f1(0x6f1));if(_0x41ce21[_0x4054f1(0x60f)][_0x4054f1(0x66b)])_0x14d67f=this[_0x4054f1(0x2ac)][_0x4054f1(0x707)];else{let _0x33c4fc=_0x51466f?_0x41ce21[_0x4054f1(0x60f)][_0x4054f1(0x210)]:_0x41ce21['key'][_0x4054f1(0x5aa)];_0x14d67f=(await this[_0x4054f1(0xd7)](_0x33c4fc,_0x41ce21['pushName'],!0x1))[_0x4054f1(0xe3)][_0x4054f1(0x646)];}let _0x434430={'_id':_0x41ce21[_0x4054f1(0x60f)]['id'],'key':_0x41ce21[_0x4054f1(0x60f)],'isGroup':_0x51466f,'profilePictureUrl':_0x14d67f,'pushName':_0x41ce21[_0x4054f1(0xcd)],'message':_0x9976d0,'messageType':_0x5548a6,'message_normalized':{'key':_0x41ce21[_0x4054f1(0x60f)],'pushName':_0x41ce21[_0x4054f1(0xcd)],'messageTimestamp':_0x41ce21[_0x4054f1(0x22e)],'source':(0x0,f['getDevice'])(_0x41ce21['key']['id']),..._0x29ca77},'messageTimestamp':_0x41ce21[_0x4054f1(0x22e)],'owner':this[_0x4054f1(0x2ac)]['wuid'],'source':(0x0,f[_0x4054f1(0x76a)])(_0x41ce21[_0x4054f1(0x60f)]['id']),'expiration':_0x3db3fe?.[_0x4054f1(0x110)]?.['expiration']||0x0};_0x3db3fe||(console[_0x4054f1(0xdb)](_0x4054f1(0x5ad)),this['logger'][_0x4054f1(0xdb)](_0x434430)),this[_0x4054f1(0x365)][_0x4054f1(0x15d)](this[_0x4054f1(0x247)]+'\x20('+this[_0x4054f1(0x2ac)][_0x4054f1(0x53a)]+'):\x20'+(_0x434430['key']?.['fromMe']?_0x4054f1(0x443):'recebido\x20de')+'\x20['+_0x434430['key']?.[_0x4054f1(0x5aa)][_0x4054f1(0x3e1)](_0x4054f1(0x766),'')+_0x4054f1(0x576)+_0x434430['messageType']+')'),_0x434430[_0x4054f1(0x54d)]?.[_0x4054f1(0x33c)]&&this['logger'][_0x4054f1(0x15d)](_0x5ebd66+':\x20'+_0x434430[_0x4054f1(0x54d)]?.[_0x4054f1(0x33c)]),await this[_0x4054f1(0x479)][_0x4054f1(0x620)][_0x4054f1(0x3e9)]([_0x434430],this[_0x4054f1(0x2ac)][_0x4054f1(0x53a)]),this[_0x4054f1(0x2f2)]('messages.upsert',_0x434430),F(this[_0x4054f1(0x247)],'messages',{'message':_0x434430}),_0x41ce21[_0x4054f1(0x60f)]['remoteJid']!==_0x4054f1(0x51e)&&await this['updateChatWithMessage'](_0x5a7935,_0x434430,_0x4054f1(0x2fe));},'messages.update':async(_0x4774af,_0x2a815d)=>{const _0x57fd1d=_0x1e77cc;let _0xf21105={0x0:_0x57fd1d(0x4af),0x1:'PENDING',0x2:_0x57fd1d(0x2fd),0x3:_0x57fd1d(0x4e8),0x4:_0x57fd1d(0x655),0x5:_0x57fd1d(0x64c)};for await(let {key:_0x501e98,update:_0x56aff7}of _0x4774af){if(this[_0x57fd1d(0x214)]?.['groups_ignore']&&_0x501e98[_0x57fd1d(0x5aa)][_0x57fd1d(0x35d)](_0x57fd1d(0x6f1))){this[_0x57fd1d(0x365)]['verbose'](this[_0x57fd1d(0x247)]+'\x20('+this[_0x57fd1d(0x2ac)][_0x57fd1d(0x53a)]+'):\x20[messages.update]\x20group\x20ignored');return;}if(_0x501e98[_0x57fd1d(0x5aa)]!==_0x57fd1d(0x51e)){let _0x353fcb=Date['now'](),_0x417207;_0x56aff7[_0x57fd1d(0x620)]===null&&_0x56aff7[_0x57fd1d(0x353)]===void 0x0?_0x417207=_0x57fd1d(0x445):_0x417207=_0xf21105[_0x56aff7['status']];let _0x210833=_0x501e98['remoteJid'][_0x57fd1d(0x3e1)](/:\d{1,2}@/g,'@'),_0x2773b2={..._0x501e98,'remoteJid':_0x210833,'status':_0x417207,'datetime':_0x353fcb,'owner':this[_0x57fd1d(0x2ac)]['wuid']};this[_0x57fd1d(0x2f2)]('messages.update',_0x2773b2),await this['updateMessage'](_0x501e98,_0x2773b2);}}},'labels.association':async({type:_0x58cc11,association:_0x456b6f})=>{const _0x2ad79b=_0x1e77cc;if(_0x456b6f[_0x2ad79b(0x14b)]===_0x2ad79b(0x5cf)){let _0x20557e,_0x3bbf5c=0x0;for(;!_0x20557e&&_0x3bbf5c<this[_0x2ad79b(0x64a)];)_0x20557e=await this[_0x2ad79b(0x479)][_0x2ad79b(0x77e)][_0x2ad79b(0x2d8)]({'where':{'_id':_0x456b6f[_0x2ad79b(0x36f)]}},this['instance'][_0x2ad79b(0x53a)]),_0x20557e||(_0x3bbf5c++,this[_0x2ad79b(0x365)][_0x2ad79b(0x7b5)](this[_0x2ad79b(0x247)]+'\x20('+this[_0x2ad79b(0x2ac)][_0x2ad79b(0x53a)]+_0x2ad79b(0x426)+_0x456b6f['chatId']+_0x2ad79b(0x70e)+this[_0x2ad79b(0x7c0)]+_0x2ad79b(0x36e)+_0x3bbf5c+'/'+this[_0x2ad79b(0x64a)]+')'),await this[_0x2ad79b(0x567)](this['delayChatLabel_RETRY_DELAY_MS']));if(!_0x20557e){console[_0x2ad79b(0xdb)]('Falhou\x20ao\x20encontrar\x20chat\x20'+_0x456b6f[_0x2ad79b(0x36f)]+_0x2ad79b(0x100)+this['delayChatLabel_MAX_RETRIES']+_0x2ad79b(0x2e5));return;}switch(_0x58cc11){case _0x2ad79b(0x239):console[_0x2ad79b(0x15d)](_0x456b6f),await this[_0x2ad79b(0x479)][_0x2ad79b(0x77e)]['updateOne']({'where':{'_id':_0x456b6f['chatId']}},{'leadInfo.etiquetas':_0x456b6f[_0x2ad79b(0x388)]},this['instance'][_0x2ad79b(0x53a)],void 0x0,'$addToSet');break;case _0x2ad79b(0x21f):console[_0x2ad79b(0x15d)](_0x456b6f),await this[_0x2ad79b(0x479)]['chat'][_0x2ad79b(0x1bc)]({'where':{'_id':_0x456b6f[_0x2ad79b(0x36f)]}},{'leadInfo.etiquetas':_0x456b6f[_0x2ad79b(0x388)]},this['instance'][_0x2ad79b(0x53a)],void 0x0,'$pull');break;default:console['error'](_0x2ad79b(0x31c)+_0x58cc11+']');}}},'labels.edit':async _0x1713d5=>{const _0x5246f2=_0x1e77cc;if(!_0x1713d5||!_0x1713d5['id']){console[_0x5246f2(0xdb)](_0x5246f2(0x2da));return;}if(!_0x1713d5[_0x5246f2(0x710)]){let _0x54f433=[_0x5246f2(0x78e),_0x5246f2(0x456),_0x5246f2(0x780),'#dfaef0','#9ab6c1',_0x5246f2(0x1d0),'#fe9dfe',_0x5246f2(0x5b0),_0x5246f2(0x13d),'#d8e651',_0x5246f2(0x5e3),_0x5246f2(0x66f),'#92ceac',_0x5246f2(0x1d4),'#00a1f2','#83e421',_0x5246f2(0x323),'#b4ebff',_0x5246f2(0x76f),_0x5246f2(0x69b)],_0x4fd140;typeof _0x1713d5[_0x5246f2(0x6e4)]==_0x5246f2(0x772)&&_0x1713d5[_0x5246f2(0x6e4)]>=0x0&&_0x1713d5[_0x5246f2(0x6e4)]<_0x54f433[_0x5246f2(0x78c)]?_0x4fd140=_0x54f433[_0x1713d5[_0x5246f2(0x6e4)]]:(console[_0x5246f2(0xdb)](_0x5246f2(0x326),_0x1713d5[_0x5246f2(0x6e4)]),_0x4fd140=_0x5246f2(0x114));let _0xc45e7e={'_id':_0x1713d5['id'],'colorHex':_0x4fd140,'color':_0x1713d5?.[_0x5246f2(0x6e4)],'name':_0x1713d5?.[_0x5246f2(0x177)],'owner':this['instance'][_0x5246f2(0x53a)]};await this[_0x5246f2(0x479)]['label'][_0x5246f2(0x1bc)]({'where':{'_id':_0x1713d5['id']}},_0xc45e7e,this[_0x5246f2(0x2ac)][_0x5246f2(0x53a)]),this[_0x5246f2(0x365)]['info'](this[_0x5246f2(0x247)]+'\x20('+this[_0x5246f2(0x2ac)][_0x5246f2(0x53a)]+_0x5246f2(0x2ff)+_0x1713d5);}_0x1713d5[_0x5246f2(0x710)]&&(await this[_0x5246f2(0x479)][_0x5246f2(0x4a4)][_0x5246f2(0x7b8)]({'where':{'_id':_0x1713d5['id']}},this[_0x5246f2(0x2ac)][_0x5246f2(0x53a)]),this[_0x5246f2(0x365)][_0x5246f2(0x7b5)](_0x5246f2(0x132)+_0x1713d5['id']));}},this[_0x1e77cc(0x448)]={'groups.upsert':async _0x5b0855=>{const _0x5dd629=_0x1e77cc;this[_0x5dd629(0x214)]?.[_0x5dd629(0x22b)]||this['sendDataWebhook'](_0x5dd629(0x76b),_0x5b0855);for(let _0x170478 of _0x5b0855)await this[_0x5dd629(0x6f0)](_0x170478);},'groups.update':async _0xa6020a=>{const _0x16ba8a=_0x1e77cc;this[_0x16ba8a(0x214)]?.[_0x16ba8a(0x22b)]||this[_0x16ba8a(0x2f2)]('groups.update',_0xa6020a);for(let _0x510725 of _0xa6020a)await this['updateGroupWebhook'](_0x510725);},'group-participants.update':async _0x3b4927=>{const _0x326aa5=_0x1e77cc;this['localWebhook']?.[_0x326aa5(0x22b)]||this['sendDataWebhook'](_0x326aa5(0x2ed),_0x3b4927),await this[_0x326aa5(0x687)](_0x3b4927);}},this['delayChatLabel_MAX_RETRIES']=0x5,this[_0x1e77cc(0x7c0)]=0x1388,this[_0x1e77cc(0x312)]=async _0x4e5efd=>{const _0x32ae7f=_0x1e77cc;if(_0x4e5efd['message']?.[_0x32ae7f(0x6d0)]){let _0x24bbdf=await this['getMessage'](_0x4e5efd[_0x32ae7f(0x620)][_0x32ae7f(0x6d0)][_0x32ae7f(0x484)],!0x0);if(_0x24bbdf){let _0x2c64a=_0x24bbdf[_0x32ae7f(0x60f)][_0x32ae7f(0x66b)]?this['instance'][_0x32ae7f(0x53a)]+'@s.whatsapp.net':_0x24bbdf[_0x32ae7f(0x60f)][_0x32ae7f(0x210)]||_0x24bbdf[_0x32ae7f(0x60f)]['remoteJid'],_0x5b9b61=_0x24bbdf['key']['id'],_0x35bfc7=_0x24bbdf[_0x32ae7f(0x620)],_0x45c8cb=Buffer[_0x32ae7f(0xde)](_0x35bfc7[_0x32ae7f(0x6ab)]['messageSecret']['toString'](_0x32ae7f(0x62e)),_0x32ae7f(0x62e)),_0x4c24a0=(0x0,f[_0x32ae7f(0x19f)])(_0x4e5efd[_0x32ae7f(0x620)][_0x32ae7f(0x6d0)]['vote'],{'pollCreatorJid':_0x2c64a,'pollMsgId':_0x5b9b61,'pollEncKey':_0x45c8cb,'voterJid':_0x4e5efd[_0x32ae7f(0x60f)][_0x32ae7f(0x66b)]?this['instance'][_0x32ae7f(0x53a)]+_0x32ae7f(0x766):_0x4e5efd['key']['remoteJid'][_0x32ae7f(0x6d4)]('g.us')?_0x4e5efd[_0x32ae7f(0x60f)][_0x32ae7f(0x210)]:_0x4e5efd[_0x32ae7f(0x60f)][_0x32ae7f(0x5aa)]}),_0x21bbf6=[],_0xafe409=_0x4c24a0['selectedOptions'][_0x32ae7f(0x174)](_0xd2ab95=>Buffer[_0x32ae7f(0xde)](_0xd2ab95)[_0x32ae7f(0x675)](_0x32ae7f(0x62e)));for(let {optionName:_0x1dae2c}of _0x35bfc7['pollCreationMessage']?.[_0x32ae7f(0x438)]||_0x35bfc7[_0x32ae7f(0x1a9)]?.['options']||_0x35bfc7[_0x32ae7f(0xe8)]?.[_0x32ae7f(0x438)])_0xafe409[_0x32ae7f(0x491)]((0x0,f['sha256'])(Buffer[_0x32ae7f(0xde)](_0x1dae2c))[_0x32ae7f(0x675)]('hex'))>-0x1&&_0x21bbf6[_0x32ae7f(0x41b)](_0x1dae2c);return _0x21bbf6;}}return null;},this['normalizeMessage']=(_0x2d0f9b,_0x283333,_0x24d0c3)=>{const _0xf4edf2=_0x1e77cc;try{let _0x5a2fd9=_0x2d0f9b?(0x0,f['extractMessageContent'])(_0x2d0f9b)[_0x283333]:void 0x0,_0x2a4457={},_0x1eb6e1=null,_0x41e43d=null,_0x28f349=null;_0x283333===_0xf4edf2(0x453)&&_0x5a2fd9?.[_0xf4edf2(0x3b0)]&&(_0x283333=(0x0,f[_0xf4edf2(0xe2)])(_0x5a2fd9[_0xf4edf2(0x3b0)]),_0x1eb6e1=_0x2d0f9b[_0xf4edf2(0x453)][_0xf4edf2(0x60f)]['id'],_0x5a2fd9=_0x2d0f9b[_0xf4edf2(0x453)][_0xf4edf2(0x3b0)][_0x283333]),_0x2d0f9b[_0x283333]?.['contextInfo']?.[_0xf4edf2(0x4b5)]&&_0x2d0f9b[_0x283333]?.[_0xf4edf2(0x110)]?.[_0xf4edf2(0x1e8)]&&(_0x41e43d=_0x2d0f9b[_0x283333]['contextInfo']['stanzaId']),_0x2d0f9b[_0xf4edf2(0x5ab)]&&(_0x28f349=_0x2d0f9b[_0xf4edf2(0x5ab)][_0xf4edf2(0x60f)]['id']);let _0x465826;if(_0x5a2fd9&&typeof _0x5a2fd9==_0xf4edf2(0x398)&&_0xf4edf2(0x484)in _0x5a2fd9&&({pollCreationMessageKey:_0x465826}=_0x5a2fd9),_0x283333===_0xf4edf2(0x3f9)||_0x283333===_0xf4edf2(0xe8)||_0x283333===_0xf4edf2(0x1a9)){let _0x3c5ada=_0x5a2fd9['options']['map'](_0x343d7b=>_0x343d7b[_0xf4edf2(0x410)])['join']('|');_0x2a4457['convertedOptions']=_0x3c5ada;}let _0x3992b8='';if(_0x5a2fd9&&(_0x3992b8+=_0x5a2fd9[_0xf4edf2(0x177)]?_0x5a2fd9['name']:'',_0x3992b8+=_0x5a2fd9['caption']?'\x20'+_0x5a2fd9[_0xf4edf2(0x48f)]:'',_0x3992b8+=_0x5a2fd9[_0xf4edf2(0x494)]?'\x20'+_0x5a2fd9[_0xf4edf2(0x494)]:'',_0x3992b8+=_0x5a2fd9[_0xf4edf2(0x1fd)]?'\x20'+_0x5a2fd9['displayName']:''),_0x283333===_0xf4edf2(0x5c0)){_0x3992b8=(_0x5a2fd9[_0xf4edf2(0x61b)]||'')+'\x0a'+(_0x5a2fd9['description']||'')+'\x0a'+(_0x5a2fd9[_0xf4edf2(0x4a2)]||'');let _0x1c9a78=this[_0xf4edf2(0x206)](_0x5a2fd9['sections']);_0x2a4457['convertedOptions']=_0x1c9a78;}if(_0x283333==='listResponseMessage'&&(_0x24d0c3=_0x5a2fd9['title']),_0x5a2fd9&&_0x5a2fd9['vcard']){let _0x5ed8e2=this[_0xf4edf2(0x11c)](JSON['stringify'](_0x5a2fd9['vcard'],null,0x2));_0x3992b8=_0x3992b8+'\x0a'+_0x5ed8e2;}if(_0x5a2fd9){let {sections:_0x5b3b98,listType:_0x345cac,displayName:_0x14924d,vcard:_0x146997,contactVcard:_0xd7918d,name:_0x445b61,caption:_0x10a3fa,conversation:_0xca6229,pollCreationMessageKey:_0xe61590,footerText:_0x24486b,contentText:_0x1c5cc0,pageCount:_0x176c5e,headerType:_0x5432f5,isAvatar:_0x1ba5ac,isAnimated:_0x11cf48,fallbackLc:_0x1c2a68,fallbackLg:_0x8ab8e,namespace:_0x1016c6,elementName:_0x530801,localizableParams:_0x3df0ee,viewOnce:_0x1f328d,height:_0x587e9a,width:_0x5c7f06,key:_0xdd958c,firstScanLength:_0x3ef486,firstScanSidecar:_0x1105af,gifPlayback:_0x407b99,gifAttribution:_0x2ac367,midQualityFileSha256:_0x29e181,scansSidecar:_0x5234b5,streamingSidecar:_0x3860c2,thumbnailHeight:_0x49410a,thumbnailWidth:_0x53a478,thumbnailEncSha256:_0x2265dd,thumbnailDirectPath:_0x216c73,canonicalUrl:_0x202a88,matchedText:_0x4bfc82,previewType:_0x3f5fb0,thumbnailSha256:_0x491fa7,deviceListMetadataVersion:_0x10edb9,inviteLinkGroupTypeV2:_0x35789c,interactiveAnnotations:_0x34300a,scanLengths:_0x58731a,jpegThumbnail:_0x21df4c,url:_0x57ef26,mediaKeyTimestamp:_0x4556c0,waveform:_0x447fc7,stickerSentTs:_0x190e17,firstFrameLength:_0x46bc76,fileEncSha256:_0x12fe17,contextInfo:_0x23b909,firstFrameSidecar:_0x3125cd,directPath:_0x4da375,fileSha256:_0x57376a,mediaKey:_0x212edc,senderTimestampMs:_0x18fe50,..._0xb7a3ac}=_0x5a2fd9;(_0x283333===_0xf4edf2(0x5c0)||_0x283333===_0xf4edf2(0x753))&&(delete _0xb7a3ac[_0xf4edf2(0x61b)],delete _0xb7a3ac['description']),typeof _0x5a2fd9==_0xf4edf2(0x52a)?_0x2a4457={'text':_0x5a2fd9,'type':_0x283333||_0xf4edf2(0x494),..._0x1eb6e1&&{'edited':_0x1eb6e1},..._0x41e43d&&{'quoted':_0x41e43d},..._0x28f349&&{'reaction':_0x28f349}}:_0x2a4457={'text':_0x3992b8,..._0xb7a3ac,..._0x283333===_0xf4edf2(0x6d0)?{'poll_id':_0x5a2fd9[_0xf4edf2(0x484)]['id'],'quoted':_0x5a2fd9[_0xf4edf2(0x484)]['id'],'vote':_0x24d0c3}:{},..._0x283333===_0xf4edf2(0x753)?{'vote':_0x24d0c3}:{},'type':_0x283333,..._0x1eb6e1&&{'edited':_0x1eb6e1},..._0x41e43d&&{'quoted':_0x41e43d},..._0x28f349&&{'reaction':_0x28f349},...(_0x283333===_0xf4edf2(0x3f9)||_0x283333===_0xf4edf2(0xe8)||_0x283333===_0xf4edf2(0x1a9)||_0x283333===_0xf4edf2(0x5c0))&&{'convertedOptions':_0x2a4457['convertedOptions']}};}return{'messageType':_0x283333,'messageContent':_0x5a2fd9,'message_normalized':_0x2a4457};}catch(_0x257abb){return console[_0xf4edf2(0xdb)]('Erro\x20ao\x20normalizar\x20a\x20mensagem:',_0x257abb),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x1e77cc(0x667)](),this[_0x1e77cc(0x2ac)][_0x1e77cc(0x67d)]={'count':0x0},this[_0x1e77cc(0x2ac)][_0x1e77cc(0x4cb)]={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0x29ff78(0x247)](_0x57349c){const _0x5205e5=a0_0x29ff78;if(!_0x57349c){this[_0x5205e5(0x2ac)][_0x5205e5(0x177)]=(0x0,So['v4'])();return;}this[_0x5205e5(0x2ac)]['name']=_0x57349c,this['sendDataWebhook'](_0x5205e5(0x1b9),{'instance':this[_0x5205e5(0x2ac)][_0x5205e5(0x177)],'status':_0x5205e5(0x137)});}get[a0_0x29ff78(0x247)](){const _0x285150=a0_0x29ff78;return this[_0x285150(0x2ac)][_0x285150(0x177)];}get[a0_0x29ff78(0x53a)](){const _0x4797bf=a0_0x29ff78;return this['instance'][_0x4797bf(0x53a)];}async[a0_0x29ff78(0x5ee)](){const _0x5a37ef=a0_0x29ff78;let _0x4d0ac5=this['client'][_0x5a37ef(0xff)]?.[_0x5a37ef(0x177)]??this[_0x5a37ef(0x4c8)][_0x5a37ef(0xff)]?.[_0x5a37ef(0xf5)];if(!_0x4d0ac5){if(this[_0x5a37ef(0x657)][_0x5a37ef(0x6b4)](_0x5a37ef(0x587))[_0x5a37ef(0x775)]){let _0x3f182f=await $[_0x5a37ef(0x22a)]()['db'](this[_0x5a37ef(0x657)][_0x5a37ef(0x6b4)](_0x5a37ef(0x587))['CONNECTION'][_0x5a37ef(0x3c2)]+_0x5a37ef(0x320))[_0x5a37ef(0x300)](this['instanceName'])['findOne']({'_id':_0x5a37ef(0x782)});if(_0x3f182f){let _0x1515d4=JSON[_0x5a37ef(0x1cd)](JSON[_0x5a37ef(0x230)](_0x3f182f),f[_0x5a37ef(0x742)][_0x5a37ef(0x3d6)]);_0x4d0ac5=_0x1515d4['me']?.[_0x5a37ef(0x177)]||_0x1515d4['me']?.['verifiedName'];}}else{if((0x0,De['existsSync'])((0x0,L[_0x5a37ef(0x46b)])(me,this[_0x5a37ef(0x247)],'creds.json'))){let _0x3a7019=JSON[_0x5a37ef(0x1cd)]((0x0,De[_0x5a37ef(0x1e3)])((0x0,L['join'])(me,this[_0x5a37ef(0x247)],_0x5a37ef(0x2b9)),{'encoding':_0x5a37ef(0x794)}));_0x4d0ac5=_0x3a7019['me']?.[_0x5a37ef(0x177)]||_0x3a7019['me']?.[_0x5a37ef(0xf5)];}}}return _0x4d0ac5;}get['profilePictureUrl'](){const _0xefbdd2=a0_0x29ff78;return this['instance'][_0xefbdd2(0x707)];}get[a0_0x29ff78(0x6e7)](){const _0x44444f=a0_0x29ff78;return this[_0x44444f(0x2ac)][_0x44444f(0x67d)]?.[_0x44444f(0x411)]?{'pairingCode':this['instance'][_0x44444f(0x67d)]?.[_0x44444f(0x411)]}:{'code':this[_0x44444f(0x2ac)][_0x44444f(0x67d)]?.['code'],'base64':this[_0x44444f(0x2ac)]['qrcode']?.['base64']};}async[a0_0x29ff78(0x6e9)](){const _0x161236=a0_0x29ff78;let _0xc90c70=await this[_0x161236(0x479)][_0x161236(0x3df)][_0x161236(0x7a5)](this[_0x161236(0x247)]);this[_0x161236(0x214)][_0x161236(0x251)]=_0xc90c70?.[_0x161236(0x251)],this[_0x161236(0x214)]['enabled']=_0xc90c70?.[_0x161236(0x3ca)],this['localWebhook']['local_map']=_0xc90c70?.[_0x161236(0x1f7)],this['localWebhook'][_0x161236(0x391)]=_0xc90c70?.['STATUS_INSTANCE'],this[_0x161236(0x214)]['QRCODE_UPDATED']=_0xc90c70?.['QRCODE_UPDATED'],this[_0x161236(0x214)][_0x161236(0x468)]=_0xc90c70?.[_0x161236(0x468)],this[_0x161236(0x214)][_0x161236(0x2fe)]=_0xc90c70?.[_0x161236(0x2fe)],this[_0x161236(0x214)]['MESSAGES_UPDATE']=_0xc90c70?.['MESSAGES_UPDATE'],this['localWebhook']['GROUPS_UPSERT']=_0xc90c70?.[_0x161236(0x71c)],this['localWebhook'][_0x161236(0x633)]=_0xc90c70?.[_0x161236(0x633)],this['localWebhook'][_0x161236(0x339)]=_0xc90c70?.[_0x161236(0x339)],this[_0x161236(0x214)][_0x161236(0x63c)]=_0xc90c70?.[_0x161236(0x63c)],this[_0x161236(0x214)]['CHATS_UPSERT']=_0xc90c70?.['CHATS_UPSERT'],this[_0x161236(0x214)][_0x161236(0x27d)]=_0xc90c70?.[_0x161236(0x27d)],this['localWebhook'][_0x161236(0x1b6)]=_0xc90c70?.[_0x161236(0x1b6)],this[_0x161236(0x214)]['CONTACTS_SET']=_0xc90c70?.['CONTACTS_SET'],this[_0x161236(0x214)][_0x161236(0x47a)]=_0xc90c70?.[_0x161236(0x47a)],this[_0x161236(0x214)][_0x161236(0x3da)]=_0xc90c70?.[_0x161236(0x3da)],this[_0x161236(0x214)]['PRESENCE_UPDATE']=_0xc90c70?.[_0x161236(0x209)],this[_0x161236(0x214)]['MESSAGES_SET']=_0xc90c70?.[_0x161236(0x282)],this['localWebhook']['CONNECTION_UPDATE']=_0xc90c70?.['CONNECTION_UPDATE'],this[_0x161236(0x214)][_0x161236(0x22b)]=_0xc90c70?.[_0x161236(0x22b)];}async[a0_0x29ff78(0x75c)](_0x53be98){const _0x675f8d=a0_0x29ff78;let _0x1f5da9=[_0x675f8d(0x5e4),'url','enabled','local_map',_0x675f8d(0x391),_0x675f8d(0xd9),_0x675f8d(0x2d3),'MESSAGES_UPSERT','SEND_MESSAGE',_0x675f8d(0x71c),'GROUPS_UPDATE','GROUP_PARTICIPANTS_UPDATE',_0x675f8d(0x63c),_0x675f8d(0x6ba),_0x675f8d(0x27d),'CHATS_DELETE',_0x675f8d(0x4a3),'CONTACTS_UPSERT',_0x675f8d(0x3da),_0x675f8d(0x209),_0x675f8d(0x282),_0x675f8d(0xd5),'groups_ignore'],_0x4fc93d={};return _0x1f5da9[_0x675f8d(0x628)](_0x30d030=>{_0x53be98[_0x30d030]!==void 0x0&&(_0x4fc93d[_0x30d030]=_0x53be98[_0x30d030]);}),_0x4fc93d['url']&&(_0x4fc93d['url']=_0x4fc93d[_0x675f8d(0x251)][_0x675f8d(0xf3)]()),await this[_0x675f8d(0x479)][_0x675f8d(0x3df)][_0x675f8d(0x776)](_0x4fc93d,this[_0x675f8d(0x247)]),Object[_0x675f8d(0x153)](this[_0x675f8d(0x214)],_0x4fc93d),await this[_0x675f8d(0x479)][_0x675f8d(0x3df)][_0x675f8d(0x7a5)](this[_0x675f8d(0x247)]);}async['findWebhook'](){const _0x4c9d97=a0_0x29ff78;return await this[_0x4c9d97(0x479)][_0x4c9d97(0x3df)][_0x4c9d97(0x7a5)](this[_0x4c9d97(0x247)]);}async[a0_0x29ff78(0x2f2)](_0x4d6d79,_0x3d0877){const _0x4d485a=a0_0x29ff78;let _0x354e70=_0x4d6d79['replace'](/[\.-]/gm,'_')[_0x4d485a(0x18d)](),_0x5c111d=this[_0x4d485a(0x214)][_0x4d485a(0x3ca)]&&(0x0,P[_0x4d485a(0x5e9)])(this[_0x4d485a(0x214)][_0x4d485a(0x251)])?this['localWebhook']['url']+(this[_0x4d485a(0x214)][_0x4d485a(0x1f7)]?this[_0x4d485a(0x546)][_0x4d6d79]:''):null,_0x1399f9=this[_0x4d485a(0x214)][_0x354e70],_0xeceb0c=le&&le[_0x4d485a(0x3ca)]&&(0x0,P[_0x4d485a(0x5e9)])(le[_0x4d485a(0x251)])?le[_0x4d485a(0x251)]+(le[_0x4d485a(0x1f7)]?this[_0x4d485a(0x546)][_0x4d6d79]:''):null,_0x451ff8=le?le[_0x354e70]:null;if(_0x1399f9&&_0x5c111d)try{await Q[_0x4d485a(0x152)][_0x4d485a(0x776)]({'baseURL':_0x5c111d})[_0x4d485a(0x525)]('',{'event':_0x4d6d79,'instance':this[_0x4d485a(0x2ac)]['name'],'apikey':this[_0x4d485a(0x2ac)][_0x4d485a(0x69e)],'data':_0x3d0877}),this[_0x4d485a(0x365)][_0x4d485a(0x15d)](this[_0x4d485a(0x247)]+'\x20('+this['instance'][_0x4d485a(0x53a)]+'):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x4d6d79+':\x20'+_0x5c111d);}catch{this[_0x4d485a(0x365)][_0x4d485a(0xdb)](this[_0x4d485a(0x247)]+'\x20('+this[_0x4d485a(0x2ac)][_0x4d485a(0x53a)]+_0x4d485a(0x18f)+_0x4d6d79+':\x20'+_0x5c111d);}if(_0x451ff8&&_0xeceb0c)try{await Q['default']['create']({'baseURL':_0xeceb0c})[_0x4d485a(0x525)]('',{'event':_0x4d6d79,'instance':this[_0x4d485a(0x2ac)]['name'],'apikey':this[_0x4d485a(0x2ac)][_0x4d485a(0x69e)],'data':_0x3d0877}),this[_0x4d485a(0x365)][_0x4d485a(0x15d)](this['instanceName']+'\x20('+this[_0x4d485a(0x2ac)][_0x4d485a(0x53a)]+_0x4d485a(0x7a3)+_0x4d6d79+':\x20'+_0xeceb0c);}catch{this[_0x4d485a(0x365)][_0x4d485a(0xdb)](this[_0x4d485a(0x247)]+'\x20('+this[_0x4d485a(0x2ac)][_0x4d485a(0x53a)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x4d6d79+':\x20'+_0xeceb0c);}}async[a0_0x29ff78(0x316)]({qr:_0x2a14e5,connection:_0x35aa8f,lastDisconnect:_0x59fdb8}){const _0x426eb2=a0_0x29ff78;if(_0x2a14e5){if(this[_0x426eb2(0x2ac)][_0x426eb2(0x67d)][_0x426eb2(0x3dc)]===Er)return this[_0x426eb2(0x2f2)](_0x426eb2(0x238),{'message':_0x426eb2(0x2eb),'statusCode':f[_0x426eb2(0x50a)][_0x426eb2(0x613)]}),this['stateConnection']={'state':_0x426eb2(0x3c7),'statusReason':f['DisconnectReason'][_0x426eb2(0x669)]},this[_0x426eb2(0x2f2)](_0x426eb2(0x4c7),{'instance':this[_0x426eb2(0x2ac)][_0x426eb2(0x177)],...this[_0x426eb2(0x5e7)]}),this[_0x426eb2(0x2f2)](_0x426eb2(0x1b9),{'instance':this[_0x426eb2(0x2ac)][_0x426eb2(0x177)],'status':_0x426eb2(0x6e2)}),this['repository'][_0x426eb2(0x28f)][_0x426eb2(0x776)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this['instance'][_0x426eb2(0x177)]),this[_0x426eb2(0x7ad)]=!0x0,this['eventEmitter'][_0x426eb2(0x3e2)](_0x426eb2(0x408),this[_0x426eb2(0x2ac)]['name']);this['instance'][_0x426eb2(0x67d)][_0x426eb2(0x3dc)]++;let _0x311766={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x426eb2(0x402),'dark':'#000000'}};Mo['default'][_0x426eb2(0x6da)](_0x2a14e5,_0x311766,(_0x611dc9,_0x5f21fd)=>{const _0x142f8a=_0x426eb2;if(_0x611dc9){this[_0x142f8a(0x365)]['error'](this[_0x142f8a(0x247)]+'\x20('+this[_0x142f8a(0x2ac)]['wuid']+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x611dc9 instanceof Error?_0x611dc9[_0x142f8a(0x620)]:JSON[_0x142f8a(0x230)](_0x611dc9,null,0x2)));return;}this[_0x142f8a(0x2ac)]['qrcode'][_0x142f8a(0x25c)]=_0x5f21fd,this[_0x142f8a(0x2ac)][_0x142f8a(0x67d)]['code']=_0x2a14e5,!this['phoneNumber']&&this[_0x142f8a(0x2f2)](_0x142f8a(0x238),{'qrcode':{'instance':this[_0x142f8a(0x2ac)]['name'],'pairingCode':this[_0x142f8a(0x2ac)]['qrcode']['pairingCode'],'code':_0x2a14e5,'base64':_0x5f21fd}});}),this['phoneNumber']?this['instance'][_0x426eb2(0x67d)][_0x426eb2(0x411)]||(await(0x0,f['delay'])(0x7d0),this[_0x426eb2(0x2ac)]['qrcode']['pairingCode']=await this[_0x426eb2(0x4c8)][_0x426eb2(0x309)](this[_0x426eb2(0x38f)])):this[_0x426eb2(0x2ac)][_0x426eb2(0x67d)][_0x426eb2(0x411)]=null,Co[_0x426eb2(0x152)][_0x426eb2(0x120)](_0x2a14e5,{'small':!0x0},_0x106a3a=>this[_0x426eb2(0x365)][_0x426eb2(0x15d)](_0x426eb2(0x2ab)+this[_0x426eb2(0x2ac)][_0x426eb2(0x177)]+_0x426eb2(0x7c6)+this[_0x426eb2(0x2ac)][_0x426eb2(0x67d)][_0x426eb2(0x3dc)]+',\x20pairCode:\x20'+this[_0x426eb2(0x2ac)][_0x426eb2(0x67d)]['pairingCode']+'\x20}\x0a'+_0x106a3a));}if(_0x35aa8f&&(this['stateConnection']={'state':_0x35aa8f,'statusReason':_0x59fdb8?.[_0x426eb2(0xdb)]?.[_0x426eb2(0x676)]?.[_0x426eb2(0x752)]??0xc8},this[_0x426eb2(0x2f2)](_0x426eb2(0x4c7),{'instance':this[_0x426eb2(0x2ac)][_0x426eb2(0x177)],...this[_0x426eb2(0x5e7)]})),_0x35aa8f===_0x426eb2(0x619)){if(this[_0x426eb2(0x263)]++,this[_0x426eb2(0x550)][_0x426eb2(0x41b)](Date[_0x426eb2(0x455)]()),this[_0x426eb2(0x550)]=this[_0x426eb2(0x550)]['filter'](_0x49d562=>Date[_0x426eb2(0x455)]()-_0x49d562<this[_0x426eb2(0x768)]),_0x59fdb8['error']?.[_0x426eb2(0x676)]?.[_0x426eb2(0x752)]!==f[_0x426eb2(0x50a)][_0x426eb2(0x65c)]&&this[_0x426eb2(0x550)][_0x426eb2(0x78c)]<=this['MAX_RECONNECT_ATTEMPTS'])console[_0x426eb2(0x15d)](this[_0x426eb2(0x247)]+_0x426eb2(0x261)+this['reconnectAttempts']+'/'+this[_0x426eb2(0x696)]+_0x426eb2(0x74e)),console['log'](_0x426eb2(0x78d)),await this['connectToWhatsapp']();else{this[_0x426eb2(0x2f2)](_0x426eb2(0x1b9),{'instance':this['instance']['name'],'status':'removed'}),this[_0x426eb2(0x2ac)][_0x426eb2(0x4cb)][_0x426eb2(0x4c9)]=!0x1,this[_0x426eb2(0x479)][_0x426eb2(0x3df)]['delete'](this[_0x426eb2(0x247)]),this['repository'][_0x426eb2(0x28f)][_0x426eb2(0x776)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x426eb2(0x455)]()},this[_0x426eb2(0x2ac)][_0x426eb2(0x177)]);try{this['logger'][_0x426eb2(0x3d2)](this[_0x426eb2(0x247)]+'\x20('+this[_0x426eb2(0x2ac)]['wuid']+_0x426eb2(0x6a7));let _0x273d07=await this[_0x426eb2(0x479)][_0x426eb2(0x620)][_0x426eb2(0xb8)](this[_0x426eb2(0x2ac)][_0x426eb2(0x53a)]);_0x273d07[_0x426eb2(0xbf)]?this['logger'][_0x426eb2(0x3d2)](this['instanceName']+'\x20('+this[_0x426eb2(0x2ac)][_0x426eb2(0x53a)]+_0x426eb2(0x4c5)):console[_0x426eb2(0xdb)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:',_0x273d07['error']);}catch(_0x210df3){console['error']('Falha\x20ao\x20deletar\x20mensagens\x20antigas:',_0x210df3[_0x426eb2(0x620)]);}this[_0x426eb2(0x2ac)][_0x426eb2(0x4cb)][_0x426eb2(0x27c)]!==null&&(this[_0x426eb2(0x365)]['verbose'](this[_0x426eb2(0x247)]+'\x20('+this[_0x426eb2(0x2ac)][_0x426eb2(0x53a)]+_0x426eb2(0x18c)),clearInterval(this['instance'][_0x426eb2(0x4cb)]['delayMessage']),this[_0x426eb2(0x2ac)][_0x426eb2(0x4cb)]['delayMessage']=null),this[_0x426eb2(0x365)]['verbose'](this[_0x426eb2(0x247)]+'\x20('+this['instance'][_0x426eb2(0x53a)]+_0x426eb2(0x1d8)),this[_0x426eb2(0x423)]=null,this['eventEmitter'][_0x426eb2(0x3e2)](_0x426eb2(0x634),this[_0x426eb2(0x2ac)][_0x426eb2(0x177)],_0x426eb2(0x2ce)),this[_0x426eb2(0x4c8)]?.['ws']?.[_0x426eb2(0x619)](),this[_0x426eb2(0x4c8)][_0x426eb2(0x7a2)](new Error('Close\x20connection'));}}if(_0x35aa8f===_0x426eb2(0x7b2)){this[_0x426eb2(0x4c8)]['ev'][_0x426eb2(0x40b)](),this[_0x426eb2(0x36c)],this[_0x426eb2(0x2ac)][_0x426eb2(0x53a)]=this[_0x426eb2(0x4c8)][_0x426eb2(0xff)]['id'][_0x426eb2(0x3e1)](/:\d+/,'')[_0x426eb2(0x3e1)](_0x426eb2(0x766),''),this[_0x426eb2(0x2ac)][_0x426eb2(0x707)]=(await this[_0x426eb2(0x229)](this['instance'][_0x426eb2(0x53a)]+_0x426eb2(0x766)))[_0x426eb2(0x707)],this[_0x426eb2(0x479)][_0x426eb2(0x28f)]['create']({'online':!0x0,'owner':this[_0x426eb2(0x2ac)]['wuid'],'lastDisconnect':null},this[_0x426eb2(0x2ac)][_0x426eb2(0x177)]);let _0x4527f5=_0x426eb2(0x673)+this['instance']['wuid'],_0x28d236=0x28,_0x4f9350=Math[_0x426eb2(0x71e)]((_0x28d236-_0x4527f5[_0x426eb2(0x78c)])/0x2),_0x32aee6='\x20'[_0x426eb2(0x150)](_0x4f9350),_0x2410c5=_0x426eb2(0x476),_0x29eb76=_0x426eb2(0x48b)+this[_0x426eb2(0x2ac)][_0x426eb2(0x177)],_0x370c87=(''+_0x32aee6+_0x4527f5+_0x32aee6)[_0x426eb2(0x4f1)](_0x28d236,'\x20'),_0x21c636=(''+_0x32aee6+_0x2410c5+_0x32aee6)[_0x426eb2(0x4f1)](_0x28d236,'\x20'),_0x2aa9c0=(''+_0x32aee6+_0x29eb76+_0x32aee6)[_0x426eb2(0x4f1)](_0x28d236,'\x20'),_0x13fa55=Math[_0x426eb2(0x6c5)](_0x370c87[_0x426eb2(0x78c)],_0x21c636[_0x426eb2(0x78c)],_0x2aa9c0[_0x426eb2(0x78c)]),_0x2fede8=_0x370c87['padEnd'](_0x13fa55,'\x20'),_0x33212e=_0x21c636[_0x426eb2(0x4f1)](_0x13fa55,'\x20'),_0x3e6e7e=_0x2aa9c0[_0x426eb2(0x4f1)](_0x13fa55,'\x20');this[_0x426eb2(0x365)][_0x426eb2(0x7b5)](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌'+'─'[_0x426eb2(0x150)](_0x13fa55)+_0x426eb2(0x1a4)+_0x33212e+_0x426eb2(0x41f)+_0x3e6e7e+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x2fede8+_0x426eb2(0x592)+'─'[_0x426eb2(0x150)](_0x13fa55)+'┘')[_0x426eb2(0x3e1)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0x426eb2(0x2ac)][_0x426eb2(0x4cb)][_0x426eb2(0x4c9)]=!0x0;}}[a0_0x29ff78(0x36c)](){const _0x1746af=a0_0x29ff78;this[_0x1746af(0x263)]=0x0,this[_0x1746af(0x550)]=[];}async['getMessage'](_0x1c7f44,_0xcb7c62=!0x1){const _0x1276c8=a0_0x29ff78;try{let _0x2e3247=await this[_0x1276c8(0x479)][_0x1276c8(0x620)][_0x1276c8(0x7a5)]({'where':{'_id':_0x1c7f44['id']}},this[_0x1276c8(0x2ac)]['wuid']);return _0xcb7c62?_0x2e3247[0x0]:_0x2e3247[0x0][_0x1276c8(0x620)];}catch{return{'conversation':''};}}[a0_0x29ff78(0x667)](){const _0x35be05=a0_0x29ff78;let _0x17868e=this[_0x35be05(0x657)][_0x35be05(0x6b4)]('STORE'),_0x2a0a8c=this['configService']['get'](_0x35be05(0x587));_0x17868e?.['CLEANING_INTERVAL']&&!_0x2a0a8c[_0x35be05(0x775)]&&setInterval(()=>{const _0x3de4fa=_0x35be05;try{for(let [_0x58acc6,_0x391949]of Object[_0x3de4fa(0x21d)](_0x17868e))_0x391949===!0x0&&(0x0,_e[_0x3de4fa(0x2df)])(_0x3de4fa(0x45d)+(0x0,L[_0x3de4fa(0x46b)])(this['storePath'],_0x58acc6[_0x3de4fa(0xb5)](),this[_0x3de4fa(0x2ac)][_0x3de4fa(0x53a)])+_0x3de4fa(0x5d3));}catch{}},(_0x17868e?.[_0x35be05(0x4c0)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x16d2d5=a0_0x29ff78;let _0x4c13ba=this[_0x16d2d5(0x657)][_0x16d2d5(0x6b4)](_0x16d2d5(0x587)),_0x19f914=this[_0x16d2d5(0x657)][_0x16d2d5(0x6b4)](_0x16d2d5(0x2f5));return _0x19f914?.[_0x16d2d5(0x775)]?await Ns(_0x19f914,this['instance'][_0x16d2d5(0x177)]):_0x4c13ba[_0x16d2d5(0x775)]?await vs(this[_0x16d2d5(0x2ac)][_0x16d2d5(0x177)]):await(0x0,f[_0x16d2d5(0x43f)])((0x0,L[_0x16d2d5(0x46b)])(me,this['instance'][_0x16d2d5(0x177)]));}async[a0_0x29ff78(0x56d)](){const _0x514100=a0_0x29ff78;let _0x3a5941=()=>Math[_0x514100(0x71e)](Math[_0x514100(0x72c)]()*0x2711)+0x7d0,_0x23e488=async()=>{const _0x2664a2=_0x514100;if(!this[_0x2664a2(0x2ac)][_0x2664a2(0x4cb)][_0x2664a2(0x4c9)]){this[_0x2664a2(0x365)][_0x2664a2(0x3d2)](_0x2664a2(0x62c)),this[_0x2664a2(0x617)]=!0x1;return;}if(this[_0x2664a2(0x2ac)][_0x2664a2(0x53a)]&&this['AutomateSystem']&&this[_0x2664a2(0x2ac)][_0x2664a2(0x4cb)]['delayMessage']!==null&&this[_0x2664a2(0x2ac)][_0x2664a2(0x4cb)][_0x2664a2(0x27c)]!==void 0x0){let _0x2c8e4d=Math[_0x2664a2(0x161)](this['instance']['ScheduleMessage'][_0x2664a2(0x27c)]/0xea60);this[_0x2664a2(0x365)][_0x2664a2(0x3d2)](this['instanceName']+'\x20('+this[_0x2664a2(0x2ac)]['wuid']+_0x2664a2(0x2fa)+_0x2c8e4d+_0x2664a2(0x3b2)),this[_0x2664a2(0x617)]=!0x1;return;}else this[_0x2664a2(0x2ac)][_0x2664a2(0x53a)]&&(this[_0x2664a2(0x365)][_0x2664a2(0x3d2)](this[_0x2664a2(0x247)]+'\x20('+this[_0x2664a2(0x2ac)][_0x2664a2(0x53a)]+_0x2664a2(0x2d4)),this[_0x2664a2(0x423)]||(await this[_0x2664a2(0x5af)](),this[_0x2664a2(0x5b7)]()),(this['instance'][_0x2664a2(0x4cb)][_0x2664a2(0x27c)]===null||this[_0x2664a2(0x2ac)][_0x2664a2(0x4cb)][_0x2664a2(0x27c)]===void 0x0)&&await this[_0x2664a2(0x6ea)]());if(this[_0x2664a2(0x617)]){let _0xd5b158=_0x3a5941();this[_0x2664a2(0x365)][_0x2664a2(0x3d2)](this['instanceName']+_0x2664a2(0x1d1)+_0xd5b158/0x3e8+_0x2664a2(0xe1)),setTimeout(_0x23e488,_0xd5b158);}};if(this[_0x514100(0x617)])return;this[_0x514100(0x617)]=!0x0;let _0x3d2930=_0x3a5941();setTimeout(_0x23e488,_0x3d2930);}async[a0_0x29ff78(0x1fc)](_0xa40da8=0x0,_0x27f732=!0x1){const _0x4c8c43=a0_0x29ff78;try{let _0x6e4634=this[_0x4c8c43(0x657)][_0x4c8c43(0x6b4)](_0x4c8c43(0x246));if(_0x6e4634!==0x1||typeof _0x6e4634>'u'||_0xa40da8>=0x5)return this['logger'][_0x4c8c43(0x5b5)](_0x4c8c43(0x643)),this[_0x4c8c43(0x479)][_0x4c8c43(0x28f)][_0x4c8c43(0x776)]({'ip':null},this['instance'][_0x4c8c43(0x177)]),{};this['logger']['verbose'](this['instanceName']+':\x20Tentativa\x20'+(_0xa40da8+0x1)+'\x20de\x20conectar\x20com\x20IP\x20extra.');let _0x272613;if(!_0x27f732){let _0x1f3067=await this[_0x4c8c43(0x479)][_0x4c8c43(0x28f)][_0x4c8c43(0x7a5)](this[_0x4c8c43(0x247)]);_0x1f3067&&_0x1f3067['ip']&&(_0x272613=wo(_0x1f3067['ip']));}if((!_0x272613||!Rs(_0x272613))&&(this[_0x4c8c43(0x365)][_0x4c8c43(0x5b5)](this[_0x4c8c43(0x247)]+_0x4c8c43(0x1b2)),_0x272613=yo()),_0x272613&&Rs(_0x272613)){let _0x566dd4=_0x272613['username']&&_0x272613['password']?_0x272613[_0x4c8c43(0x7b0)]+_0x4c8c43(0xbc)+_0x272613['username']+':'+_0x272613[_0x4c8c43(0x108)]+'@'+_0x272613[_0x4c8c43(0xdf)]+':'+_0x272613[_0x4c8c43(0xb2)]:_0x272613[_0x4c8c43(0x7b0)]+'://'+_0x272613['host']+':'+_0x272613[_0x4c8c43(0xb2)];return await this[_0x4c8c43(0x227)](_0x566dd4,_0x272613['host'])?(this['logger'][_0x4c8c43(0x3d2)](this[_0x4c8c43(0x247)]+_0x4c8c43(0x748)),this[_0x4c8c43(0x479)][_0x4c8c43(0x28f)]['create']({'ip':_0x272613[_0x4c8c43(0xdf)]},this['instance'][_0x4c8c43(0x177)]),{'agent':new Ft[(_0x4c8c43(0x354))](_0x566dd4),'fetchAgent':new Ft['HttpsProxyAgent'](_0x566dd4)}):(this['logger'][_0x4c8c43(0x5b5)](this[_0x4c8c43(0x247)]+_0x4c8c43(0x47d)),await(0x0,f['delay'])(0xc8),this[_0x4c8c43(0x1fc)](_0xa40da8+0x1,!0x0));}else return this[_0x4c8c43(0x365)][_0x4c8c43(0x5b5)](this['instanceName']+_0x4c8c43(0x234)),await(0x0,f[_0x4c8c43(0x2f3)])(0xc8),this[_0x4c8c43(0x1fc)](_0xa40da8+0x1,!0x0);}catch(_0x52befa){return this['logger']['error'](this[_0x4c8c43(0x247)]+_0x4c8c43(0xcb)+_0x52befa[_0x4c8c43(0x620)]),{};}}async[a0_0x29ff78(0x227)](_0x5980e0,_0x230471){const _0x2cb268=a0_0x29ff78;let _0x1f618=new Ft[(_0x2cb268(0x354))](_0x5980e0),_0x4bac07=0x1388,_0x61a906=[{'url':_0x2cb268(0x2e9),'parse':_0x51866a=>_0x51866a['ip']},{'url':_0x2cb268(0x652),'parse':_0x3ed44a=>_0x3ed44a['ip']},{'url':_0x2cb268(0x662),'parse':_0x37385d=>_0x37385d[_0x2cb268(0x5dd)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x2cb268(0x1fa),'parse':_0x2c82f4=>_0x2c82f4['ip']},{'url':_0x2cb268(0x20e),'parse':_0x1344bc=>_0x1344bc[_0x2cb268(0xf3)]()},{'url':'http://ipecho.net/plain','parse':_0x3e3442=>_0x3e3442[_0x2cb268(0xf3)]()},{'url':_0x2cb268(0x103),'parse':_0x4096af=>_0x4096af[_0x2cb268(0x579)]},{'url':_0x2cb268(0x16f),'parse':_0x22384a=>_0x22384a[_0x2cb268(0xf3)]()},{'url':_0x2cb268(0xe6),'parse':_0x3e727a=>_0x3e727a[_0x2cb268(0xf3)]()}],_0x984e8d=_0x61a906[Math[_0x2cb268(0x71e)](Math['random']()*_0x61a906[_0x2cb268(0x78c)])];try{let _0x339d49=await Q[_0x2cb268(0x152)][_0x2cb268(0x6b4)](_0x984e8d['url'],{'httpsAgent':_0x1f618,'timeout':_0x4bac07}),_0xd7c1b8=_0x984e8d[_0x2cb268(0x1cd)](_0x339d49[_0x2cb268(0x1bb)]);return _0xd7c1b8===_0x230471?(this['logger']['verbose'](this[_0x2cb268(0x247)]+_0x2cb268(0x1f2)+_0x230471+'\x20-\x20retornado:\x20'+_0xd7c1b8+_0x2cb268(0x331)),!0x0):(this[_0x2cb268(0x365)][_0x2cb268(0xdb)](this['instanceName']+_0x2cb268(0x1f2)+_0x230471+'\x20-\x20retornado:\x20'+_0xd7c1b8+_0x2cb268(0x36d)),!0x1);}catch(_0x3f5e7f){return this[_0x2cb268(0x365)][_0x2cb268(0xdb)](this['instanceName']+_0x2cb268(0x5a9)+_0x984e8d[_0x2cb268(0x251)]+':\x20'+_0x3f5e7f[_0x2cb268(0x620)]),!0x1;}}async[a0_0x29ff78(0x201)](_0x20cde9){const _0x4e9931=a0_0x29ff78;try{let _0x28aa05=await this[_0x4e9931(0x1fc)]();this[_0x4e9931(0x6e9)](),this[_0x4e9931(0x2ac)][_0x4e9931(0x69e)]=(await this['repository']['auth']['find'](this[_0x4e9931(0x2ac)][_0x4e9931(0x177)]))[_0x4e9931(0x69e)],this[_0x4e9931(0x2ac)]['authState']=await this[_0x4e9931(0x24e)]();let {version:_0x535e34}=await(0x0,f[_0x4e9931(0x3eb)])(),_0x4a215f=[Eo,Is,(0x0,As[_0x4e9931(0x54f)])()],_0x343080={..._0x28aa05,'auth':{'creds':this[_0x4e9931(0x2ac)][_0x4e9931(0x3fc)][_0x4e9931(0x14d)][_0x4e9931(0x782)],'keys':(0x0,f[_0x4e9931(0x143)])(this['instance']['authState']['state'][_0x4e9931(0x63f)],(0x0,kt[_0x4e9931(0x152)])({'level':'error'}))},'logger':(0x0,kt[_0x4e9931(0x152)])({'level':_0x4e9931(0xdb)}),'printQRInTerminal':!0x1,'browser':_0x20cde9?[_0x4e9931(0x305),Is,(0x0,As[_0x4e9931(0x54f)])()]:_0x4a215f,'version':_0x535e34,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x295007=>{const _0xcd2ddf=_0x4e9931;let _0x5c270b=_0x295007[_0xcd2ddf(0x6d4)](_0xcd2ddf(0x12f)),_0x5b8d70=this['localWebhook']?.[_0xcd2ddf(0x22b)]&&_0x295007[_0xcd2ddf(0x6d4)]('@g.us');return _0x5c270b||(0x0,f[_0xcd2ddf(0x381)])(_0x295007)||_0x5b8d70;},'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x2d2521=>await this['getMessage'](_0x2d2521),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x4e9931(0x416)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x45feb2=>(_0x45feb2[_0x4e9931(0x5c0)]?.['listType']==f[_0x4e9931(0xf8)]['Message'][_0x4e9931(0x6d5)][_0x4e9931(0x467)][_0x4e9931(0xfa)]&&(_0x45feb2=JSON[_0x4e9931(0x1cd)](JSON[_0x4e9931(0x230)](_0x45feb2)),_0x45feb2['listMessage'][_0x4e9931(0x3f7)]=f[_0x4e9931(0xf8)]['Message'][_0x4e9931(0x6d5)][_0x4e9931(0x467)][_0x4e9931(0x3b9)]),_0x45feb2)};return this['endSession']=!0x1,this[_0x4e9931(0x4c8)]=(0x0,f[_0x4e9931(0x152)])(_0x343080),this[_0x4e9931(0x636)](),this[_0x4e9931(0x38f)]=_0x20cde9,this['client'];}catch(_0x201502){let _0x3c65c3=_0x4e9931(0x3fb),_0x2d1a28=_0x201502 instanceof Error?_0x201502[_0x4e9931(0x620)]:typeof _0x201502==_0x4e9931(0x398)?JSON[_0x4e9931(0x230)](_0x201502):_0x201502,_0x39d353=_0x3c65c3+':\x20'+_0x2d1a28;throw this[_0x4e9931(0x365)][_0x4e9931(0xdb)](this[_0x4e9931(0x247)]+'\x20('+this[_0x4e9931(0x2ac)]['wuid']+_0x4e9931(0x470)+_0x39d353),new I(_0x39d353);}}[a0_0x29ff78(0x636)](){const _0x10a313=a0_0x29ff78;this[_0x10a313(0x4c8)]['ev'][_0x10a313(0x514)](_0x345423=>{const _0x2cc802=_0x10a313;if(!this[_0x2cc802(0x7ad)]){let _0x49e87b=this[_0x2cc802(0x657)]['get']('DATABASE');if(_0x345423[_0x2cc802(0x10e)]){let _0x390c72=_0x345423[_0x2cc802(0x10e)];this[_0x2cc802(0x412)][_0x2cc802(0x10e)](_0x390c72);}if(_0x345423[_0x2cc802(0x21c)]){let _0x4fd224=_0x345423[_0x2cc802(0x21c)];this[_0x2cc802(0x412)][_0x2cc802(0x21c)](_0x4fd224);}if(_0x345423[_0x2cc802(0x4c7)]&&this[_0x2cc802(0x316)](_0x345423[_0x2cc802(0x4c7)]),_0x345423['creds.update']&&this[_0x2cc802(0x2ac)][_0x2cc802(0x3fc)]['saveCreds'](),_0x345423[_0x2cc802(0x659)]){let _0x5de361=_0x345423[_0x2cc802(0x659)];this[_0x2cc802(0x412)][_0x2cc802(0x659)](_0x5de361,_0x49e87b);}if(_0x345423[_0x2cc802(0x11b)]){let _0x4b20b0=_0x345423[_0x2cc802(0x11b)];this['messageHandle'][_0x2cc802(0x11b)](_0x4b20b0,_0x49e87b);}if(_0x345423[_0x2cc802(0x500)]){let _0x37fe28=_0x345423[_0x2cc802(0x500)];this[_0x2cc802(0x412)][_0x2cc802(0x500)](_0x37fe28,_0x49e87b);}if(_0x345423[_0x2cc802(0x6bb)]){let _0x658911=_0x345423[_0x2cc802(0x6bb)];if(this[_0x2cc802(0x214)]?.[_0x2cc802(0x22b)]&&_0x658911['id']['includes']('@g.us'))return;this['sendDataWebhook'](_0x2cc802(0x6bb),_0x658911);}if(_0x345423[_0x2cc802(0x76b)]){let _0x15300a=_0x345423['groups.upsert'];this[_0x2cc802(0x448)][_0x2cc802(0x76b)](_0x15300a);}if(_0x345423[_0x2cc802(0x5fd)]){let _0x2550ac=_0x345423[_0x2cc802(0x5fd)];this['groupHandler'][_0x2cc802(0x5fd)](_0x2550ac);}if(_0x345423['group-participants.update']){let _0x50ccf9=_0x345423[_0x2cc802(0x2ed)];this['groupHandler'][_0x2cc802(0x2ed)](_0x50ccf9);}if(_0x345423[_0x2cc802(0x296)]){let _0x35dbaa=_0x345423[_0x2cc802(0x296)];this[_0x2cc802(0x492)][_0x2cc802(0x296)](_0x35dbaa,_0x49e87b);}if(_0x345423[_0x2cc802(0x3ff)]){let _0x5e8342=_0x345423[_0x2cc802(0x3ff)];this[_0x2cc802(0x492)][_0x2cc802(0x3ff)](_0x5e8342,_0x49e87b);}if(_0x345423[_0x2cc802(0x695)]){let _0x19d643=_0x345423[_0x2cc802(0x695)];this[_0x2cc802(0x492)][_0x2cc802(0x695)](_0x19d643);}if(_0x345423['contacts.upsert']){let _0x484a92=_0x345423[_0x2cc802(0x6f8)];this[_0x2cc802(0x5be)][_0x2cc802(0x6f8)](_0x484a92,_0x49e87b);}if(_0x345423[_0x2cc802(0x3e0)]){let _0x22a969=_0x345423[_0x2cc802(0x3e0)];this[_0x2cc802(0x5be)][_0x2cc802(0x3e0)](_0x22a969,_0x49e87b);}}});}[a0_0x29ff78(0x567)](_0x4db057){return new Promise(_0x40dbfc=>setTimeout(_0x40dbfc,_0x4db057));}[a0_0x29ff78(0x5a4)](_0x4ce7d8){const _0x3bc56f=a0_0x29ff78;_0x4ce7d8=_0x4ce7d8[_0x3bc56f(0x3e1)](/\D/g,'');let _0x2de84e=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x3bc56f(0x273)](_0x4ce7d8);if(_0x2de84e&&_0x2de84e[0x1]==='55'){let _0x1a268c=_0x2de84e[0x2],_0x5998c1=_0x2de84e[0x3],_0x4607b0=_0x2de84e[0x4];if(parseInt(_0x1a268c)>=0x1f&&_0x5998c1==='9')return _0x2de84e[0x1]+_0x1a268c+_0x4607b0;}return _0x4ce7d8;}[a0_0x29ff78(0x4cd)](_0x268fbb){const _0x56b24b=a0_0x29ff78;return _0x268fbb['includes'](_0x56b24b(0x6f1))||_0x268fbb[_0x56b24b(0x35d)](_0x56b24b(0x766))||_0x268fbb['includes']('@broadcast')?_0x268fbb:(_0x268fbb=_0x268fbb?.['replace'](/\s/g,'')['replace'](/\+/g,'')[_0x56b24b(0x3e1)](/\(/g,'')['replace'](/\)/g,'')[_0x56b24b(0x599)](/\:/)[0x0]['split']('@')[0x0],_0x268fbb[_0x56b24b(0x78c)]>=0x12?(_0x268fbb=_0x268fbb[_0x56b24b(0x3e1)](/[^\d-]/g,''),_0x268fbb+'@g.us'):(_0x268fbb=_0x268fbb[_0x56b24b(0x3e1)](/\D/g,''),_0x268fbb+_0x56b24b(0x766)));}async[a0_0x29ff78(0x650)](_0x424419){const _0x32568a=a0_0x29ff78;let _0x1cfc63=(await this[_0x32568a(0x516)]({'numbers':[_0x424419['number']]}))[0x0];if(!_0x1cfc63[_0x32568a(0x3f6)]&&!(0x0,f['isJidGroup'])(_0x1cfc63[_0x32568a(0x60c)])&&!_0x1cfc63[_0x32568a(0x60c)][_0x32568a(0x35d)](_0x32568a(0x584)))throw new m(_0x1cfc63);let _0x15dd97=_0x1cfc63['jid'];try{return await this['client']['presenceSubscribe'](_0x15dd97),await this[_0x32568a(0x4c8)]['sendPresenceUpdate'](_0x424419[_0x32568a(0x2b0)],_0x15dd97),{'status':0xc8,'presence':_0x424419[_0x32568a(0x2b0)]};}catch(_0xd9e714){let _0x321480=_0x32568a(0x6fe),_0x417239=_0xd9e714 instanceof Error?_0xd9e714[_0x32568a(0x620)]:typeof _0xd9e714==_0x32568a(0x398)?JSON[_0x32568a(0x230)](_0xd9e714):_0xd9e714,_0x1a9ef8=_0x321480+':\x20'+_0x417239;throw this[_0x32568a(0x365)][_0x32568a(0xdb)](this['instanceName']+'\x20('+this[_0x32568a(0x2ac)]['wuid']+_0x32568a(0x470)+_0x1a9ef8),new m(_0x1a9ef8);}}async[a0_0x29ff78(0xd7)](_0x346d28,_0x1e2d2d,_0x157374,_0x15679d=!0x0){const _0x40f011=a0_0x29ff78;let _0x2df5e5=await this[_0x40f011(0x479)][_0x40f011(0x119)][_0x40f011(0x2d8)]({'where':{'_id':_0x346d28}});if(!_0x2df5e5&&!_0x15679d)return;let _0x5d41a0={'lastUpdate':Date[_0x40f011(0x455)]()};if(_0x157374||!_0x2df5e5?.[_0x40f011(0x301)]||Date[_0x40f011(0x455)]()-_0x2df5e5['lastUpdate']>0x18*0x3c*0x3c*0x3e8)try{let _0x3f4b5b=(await this[_0x40f011(0x229)](_0x346d28))[_0x40f011(0x707)];_0x5d41a0['pictureUrl']=_0x3f4b5b;}catch(_0x38ead4){let _0x176c3b=_0x40f011(0x751),_0x5a6456=_0x38ead4 instanceof Error?_0x38ead4[_0x40f011(0x620)]:typeof _0x38ead4==_0x40f011(0x398)?JSON[_0x40f011(0x230)](_0x38ead4):_0x38ead4,_0x171796=_0x176c3b+':\x20'+_0x5a6456;throw this[_0x40f011(0x365)][_0x40f011(0xdb)](this['instanceName']+'\x20('+this[_0x40f011(0x2ac)][_0x40f011(0x53a)]+_0x40f011(0x470)+_0x171796),new m(_0x171796);}return _0x1e2d2d&&_0x2df5e5?.[_0x40f011(0x177)]!==_0x1e2d2d&&(_0x5d41a0['name']=_0x1e2d2d),Object['keys'](_0x5d41a0)[_0x40f011(0x78c)]>0x1&&(_0x2df5e5?await this[_0x40f011(0x479)]['cacheContact'][_0x40f011(0x6e6)]({'where':{'_id':_0x346d28}},_0x5d41a0):await this[_0x40f011(0x479)][_0x40f011(0x119)][_0x40f011(0x3e9)]([{'_id':_0x346d28,..._0x5d41a0}]),_0x2df5e5={..._0x2df5e5,..._0x5d41a0}),{'cachedContact':_0x2df5e5};}async['profilePicture'](_0x4fdb9a){const _0x3ef4db=a0_0x29ff78;let _0x51fae1=this[_0x3ef4db(0x4cd)](_0x4fdb9a);try{return{'wuid':_0x51fae1,'profilePictureUrl':await this[_0x3ef4db(0x4c8)]['profilePictureUrl'](_0x51fae1,_0x3ef4db(0x6f7))};}catch{return{'wuid':_0x51fae1,'profilePictureUrl':null};}}async[a0_0x29ff78(0x65a)](_0x385abb,_0x15e42b,_0x338885){const _0x5dd397=a0_0x29ff78;try{_0x338885||(_0x338885={});let _0x351f61=(await this['whatsappNumber']({'numbers':[_0x385abb]}))[0x0];if(!_0x351f61['exists']&&!(0x0,f['isJidGroup'])(_0x351f61[_0x5dd397(0x60c)])&&!_0x351f61[_0x5dd397(0x60c)][_0x5dd397(0x35d)](_0x5dd397(0x584)))throw new m(_0x351f61);let _0xe57e30=_0x351f61[_0x5dd397(0x60c)];if(_0x338885?.[_0x5dd397(0x2f3)]){await this['client'][_0x5dd397(0x65d)](_0xe57e30),await this[_0x5dd397(0x4c8)][_0x5dd397(0x3d8)](_0x338885?.['presence']??'composing',_0xe57e30);let _0x279aca=Math[_0x5dd397(0x2d6)](_0x338885[_0x5dd397(0x2f3)],0x2710);await(0x0,f[_0x5dd397(0x2f3)])(_0x279aca),await this[_0x5dd397(0x4c8)][_0x5dd397(0x3d8)](_0x5dd397(0x79f),_0xe57e30);}let _0x5d9c07=_0x338885?.[_0x5dd397(0x71b)]!=!0x1?void 0x0:!0x1,_0x2a9b5c;if(_0x338885?.[_0x5dd397(0x625)]){let _0x1117f1=_0x338885?.[_0x5dd397(0x625)],_0x5844a1=_0x1117f1?.['message']?_0x1117f1:await this['getMessage'](_0x1117f1[_0x5dd397(0x60f)],!0x0);if(!_0x5844a1)throw _0x5dd397(0x596);_0x2a9b5c=_0x5844a1;}let _0xa63086;if((0x0,f['isJidGroup'])(_0xe57e30))try{let _0x5305bc=(await this[_0x5dd397(0x479)][_0x5dd397(0x77e)]['findOne']({'where':{'_id':_0xe57e30}},this[_0x5dd397(0x2ac)][_0x5dd397(0x53a)]))[_0x5dd397(0x58b)];if(!_0x5305bc)throw new U('Group\x20not\x20found');_0x338885?.[_0x5dd397(0x42a)]&&(_0x338885[_0x5dd397(0x42a)]?.[_0x5dd397(0x135)]?_0xa63086=_0x5305bc['participants']['map'](_0x2776be=>_0x2776be['id']):_0x338885[_0x5dd397(0x42a)]?.[_0x5dd397(0x321)]?.[_0x5dd397(0x78c)]&&(_0xa63086=_0x338885[_0x5dd397(0x42a)][_0x5dd397(0x321)]['map'](_0x394013=>{const _0x3da323=_0x5dd397;let _0x3c979b=this[_0x3da323(0x4cd)](_0x394013);return(0x0,f[_0x3da323(0x504)])(_0x3c979b)?null:_0x3c979b;})));}catch{throw new U(_0x5dd397(0x139));}let _0x977a1f=await this['repository'][_0x5dd397(0x77e)][_0x5dd397(0x2d8)]({'where':{'_id':_0xe57e30}},this[_0x5dd397(0x2ac)][_0x5dd397(0x53a)]),_0x114609=await((async()=>{const _0x3e985c=_0x5dd397;let _0x1a1daf={'quoted':_0x2a9b5c,'ephemeralExpiration':_0x977a1f?.[_0x3e985c(0x716)]??0x0};if(!_0x15e42b[_0x3e985c(0x3b7)]&&!_0x15e42b[_0x3e985c(0x3cc)]&&!_0x15e42b[_0x3e985c(0x501)]&&!_0x15e42b[_0x3e985c(0x494)]&&_0xe57e30!=='status@broadcast'&&!_0x15e42b['audio'])return await this[_0x3e985c(0x4c8)][_0x3e985c(0x397)](_0xe57e30,{'forward':{'key':{'remoteJid':this['instance'][_0x3e985c(0x53a)],'fromMe':!0x0},'message':_0x15e42b},'mentions':_0xa63086},_0x1a1daf);if(_0x15e42b['reactionMessage'])return await this['client'][_0x3e985c(0x397)](_0xe57e30,{'react':{'text':_0x15e42b[_0x3e985c(0x5ab)]['text'],'key':_0x15e42b[_0x3e985c(0x5ab)][_0x3e985c(0x60f)]}},_0x1a1daf);if(_0x15e42b[_0x3e985c(0x494)]){let _0x4df6f8=_0x15e42b[_0x3e985c(0x494)];return _0x338885?.[_0x3e985c(0x59a)]&&(_0x4df6f8=await this[_0x3e985c(0x6de)](_0x4df6f8,_0xe57e30)),await this['client']['sendMessage'](_0xe57e30,{'text':_0x4df6f8,'mentions':_0xa63086,'linkPreview':_0x5d9c07},_0x1a1daf);}return _0xe57e30===_0x3e985c(0x51e)?await this[_0x3e985c(0x4c8)][_0x3e985c(0x397)](_0xe57e30,_0x15e42b['status'][_0x3e985c(0x529)],{'backgroundColor':_0x15e42b[_0x3e985c(0x353)]['option']['backgroundColor'],'font':_0x15e42b[_0x3e985c(0x353)]['option']['font'],'statusJidList':_0x15e42b[_0x3e985c(0x353)][_0x3e985c(0x559)][_0x3e985c(0x259)]}):await this[_0x3e985c(0x4c8)][_0x3e985c(0x397)](_0xe57e30,_0x15e42b,_0x1a1daf);})()),_0x3766a1=(0x0,f['normalizeMessageContent'])(_0x114609['message']),_0x2253b7=(0x0,f['getContentType'])(_0x3766a1),{message_normalized:_0x2742ec}=this[_0x5dd397(0x178)](_0x3766a1,_0x2253b7,null),_0x55d2a9={'_id':_0x114609[_0x5dd397(0x60f)]['id'],'key':_0x114609[_0x5dd397(0x60f)],'pushName':_0x114609[_0x5dd397(0xcd)],'isGroup':_0x114609[_0x5dd397(0x60f)][_0x5dd397(0x5aa)][_0x5dd397(0x6d4)](_0x5dd397(0x6f1)),'profilePictureUrl':this[_0x5dd397(0x2ac)][_0x5dd397(0x707)],'message':_0x3766a1,'messageType':_0x2253b7,'message_normalized':{'key':_0x114609[_0x5dd397(0x60f)],'pushName':_0x114609[_0x5dd397(0xcd)],'messageTimestamp':_0x114609[_0x5dd397(0x22e)]&&_0x114609[_0x5dd397(0x22e)]['toString']()['length']<0xd?_0x114609[_0x5dd397(0x22e)]*0x3e8:_0x114609['messageTimestamp']||null,'source':(0x0,f[_0x5dd397(0x76a)])(_0x114609[_0x5dd397(0x60f)]['id']),..._0x2742ec},'messageTimestamp':_0x114609[_0x5dd397(0x22e)]&&_0x114609[_0x5dd397(0x22e)]['toString']()[_0x5dd397(0x78c)]<0xd?_0x114609[_0x5dd397(0x22e)]*0x3e8:_0x114609[_0x5dd397(0x22e)]||null,'owner':this['instance']['wuid'],'source':(0x0,f[_0x5dd397(0x76a)])(_0x114609['key']['id'])};return this[_0x5dd397(0x365)][_0x5dd397(0x5b5)](this[_0x5dd397(0x247)]+'\x20('+this[_0x5dd397(0x2ac)]['wuid']+_0x5dd397(0x134)+_0x55d2a9[_0x5dd397(0x60f)]?.[_0x5dd397(0x5aa)][_0x5dd397(0x3e1)](_0x5dd397(0x766),'')+_0x5dd397(0x576)+_0x55d2a9[_0x5dd397(0x683)]+')'),_0x55d2a9[_0x5dd397(0x54d)]?.[_0x5dd397(0x33c)]&&this[_0x5dd397(0x365)]['warn'](_0x55d2a9[_0x5dd397(0x54d)]?.[_0x5dd397(0x33c)]),this[_0x5dd397(0x2f2)](_0x5dd397(0x231),_0x55d2a9),F(this[_0x5dd397(0x247)],_0x5dd397(0x4ba),{'message':_0x55d2a9}),this[_0x5dd397(0x732)](this['configService'][_0x5dd397(0x6b4)]('DATABASE'),_0x55d2a9,_0x5dd397(0x468),_0x977a1f),await this['repository'][_0x5dd397(0x620)][_0x5dd397(0x3e9)]([_0x55d2a9],this[_0x5dd397(0x2ac)]['wuid']),_0x114609;}catch(_0xca593){let _0x34870e=_0x5dd397(0x325),_0x110ff1=_0xca593 instanceof Error?_0xca593[_0x5dd397(0x620)]:typeof _0xca593=='object'?JSON['stringify'](_0xca593):_0xca593,_0x567d73=_0x34870e+':\x20'+_0x110ff1;throw this['logger'][_0x5dd397(0xdb)](this['instanceName']+'\x20('+this['instance'][_0x5dd397(0x53a)]+'):\x20'+_0x567d73),new m(_0x567d73);}}get[a0_0x29ff78(0x6db)](){const _0x5582eb=a0_0x29ff78;return this[_0x5582eb(0x5e7)];}async['textMessage'](_0x2c636c){const _0x57378a=a0_0x29ff78;let _0x165980=bo,_0x41db73=st;return _0x41db73&&this[_0x57378a(0x247)]['toLowerCase']()[_0x57378a(0x35d)](_0x41db73[_0x57378a(0xb5)]())&&(_0x2c636c['textMessage']['text']+='\x0a\x0a'+_0x165980),await this[_0x57378a(0x65a)](_0x2c636c[_0x57378a(0x772)],{'conversation':_0x2c636c[_0x57378a(0x789)][_0x57378a(0x33c)]},_0x2c636c?.[_0x57378a(0x438)]);}async[a0_0x29ff78(0x7ac)](_0x2ce8fb){const _0x13b87d=a0_0x29ff78;if(!_0x2ce8fb[_0x13b87d(0x14b)])throw new m(_0x13b87d(0x457));if(!_0x2ce8fb[_0x13b87d(0x529)])throw new m(_0x13b87d(0x2dc));if(_0x2ce8fb[_0x13b87d(0x4f6)]){let _0x597d14=await this[_0x13b87d(0x479)][_0x13b87d(0x729)][_0x13b87d(0x7a5)]({'where':{}},this[_0x13b87d(0x2ac)]['wuid']);if(!_0x597d14[_0x13b87d(0x78c)])throw new m(_0x13b87d(0x743));_0x2ce8fb[_0x13b87d(0x259)]=_0x597d14[_0x13b87d(0x368)](_0x48b335=>_0x48b335[_0x13b87d(0xcd)])[_0x13b87d(0x174)](_0x459442=>_0x459442[_0x13b87d(0x5e4)]);}if(!_0x2ce8fb[_0x13b87d(0x259)]?.[_0x13b87d(0x78c)]&&!_0x2ce8fb[_0x13b87d(0x4f6)])throw new m('StatusJidList\x20is\x20required');if(_0x2ce8fb[_0x13b87d(0x14b)]===_0x13b87d(0x33c)){if(!_0x2ce8fb[_0x13b87d(0x5c7)])throw new m(_0x13b87d(0xeb));if(!_0x2ce8fb[_0x13b87d(0x242)])throw new m(_0x13b87d(0x160));return{'content':{'text':_0x2ce8fb[_0x13b87d(0x529)]},'option':{'backgroundColor':_0x2ce8fb[_0x13b87d(0x5c7)],'font':_0x2ce8fb[_0x13b87d(0x242)],'statusJidList':_0x2ce8fb[_0x13b87d(0x259)]}};}if(_0x2ce8fb['type']===_0x13b87d(0x6f7))return{'content':{'image':{'url':_0x2ce8fb[_0x13b87d(0x529)]},'caption':_0x2ce8fb[_0x13b87d(0x48f)]},'option':{'statusJidList':_0x2ce8fb[_0x13b87d(0x259)]}};if(_0x2ce8fb[_0x13b87d(0x14b)]==='video')return{'content':{'video':{'url':_0x2ce8fb['content']},'caption':_0x2ce8fb[_0x13b87d(0x48f)]},'option':{'statusJidList':_0x2ce8fb[_0x13b87d(0x259)]}};if(_0x2ce8fb[_0x13b87d(0x14b)]===_0x13b87d(0x3b7)){this[_0x13b87d(0x365)][_0x13b87d(0x3d2)]('Type\x20defined\x20as\x20audio'),this['logger'][_0x13b87d(0x3d2)](_0x13b87d(0x322));let _0x5bb38b=await this[_0x13b87d(0x5f6)](_0x2ce8fb[_0x13b87d(0x529)]);if(typeof _0x5bb38b==_0x13b87d(0x52a)){this[_0x13b87d(0x365)][_0x13b87d(0x3d2)]('Audio\x20processed');let _0x54bdbe=k[_0x13b87d(0x1e3)](_0x5bb38b)[_0x13b87d(0x675)](_0x13b87d(0x25c));return{'content':{'audio':Buffer[_0x13b87d(0xde)](_0x54bdbe,'base64'),'ptt':!0x0,'mimetype':_0x13b87d(0x2ea)},'option':{'statusJidList':_0x2ce8fb[_0x13b87d(0x259)]}};}else throw new I(_0x5bb38b);}throw new m('Type\x20not\x20found');}async[a0_0x29ff78(0x6ef)](_0x294297){const _0x324a4d=a0_0x29ff78;return await this[_0x324a4d(0x65a)](_0x324a4d(0x51e),{'status':await this['formatStatusMessage'](_0x294297[_0x324a4d(0x6ef)])});}async[a0_0x29ff78(0x3cf)](_0x20d3e0){const _0x2a3b96=a0_0x29ff78;try{let _0x4b504a=await(0x0,f[_0x2a3b96(0x519)])({[_0x20d3e0[_0x2a3b96(0x182)]]:(0x0,P['isURL'])(_0x20d3e0[_0x2a3b96(0x648)])?{'url':_0x20d3e0[_0x2a3b96(0x648)]}:Buffer[_0x2a3b96(0xde)](_0x20d3e0[_0x2a3b96(0x648)],_0x2a3b96(0x25c))},{'upload':this[_0x2a3b96(0x4c8)]['waUploadToServer']}),_0x48b370=_0x20d3e0['mediatype']+'Message';if(_0x20d3e0[_0x2a3b96(0x182)]===_0x2a3b96(0x12d)&&!_0x20d3e0[_0x2a3b96(0x6ac)]){let _0x5a3240=new RegExp(/.*\/(.+?)\./)[_0x2a3b96(0x273)](_0x20d3e0['media']);_0x20d3e0[_0x2a3b96(0x6ac)]=_0x5a3240?_0x5a3240[0x1]:null;}let _0x59d060=(0x0,P[_0x2a3b96(0x5e9)])(_0x20d3e0[_0x2a3b96(0x648)])?_0x20d3e0[_0x2a3b96(0x648)]['split']('?')[0x0]:_0x20d3e0['media'],_0x3f0a2c;(0x0,P[_0x2a3b96(0x5e9)])(_0x20d3e0[_0x2a3b96(0x648)])?_0x3f0a2c=(0x0,jt[_0x2a3b96(0x318)])(_0x59d060):_0x20d3e0[_0x2a3b96(0x6ac)]&&_0x20d3e0[_0x2a3b96(0x6ac)][_0x2a3b96(0x35d)]('.')?_0x3f0a2c=(0x0,jt[_0x2a3b96(0x318)])(_0x20d3e0[_0x2a3b96(0x6ac)]):_0x3f0a2c=(0x0,jt[_0x2a3b96(0x318)])(_0x20d3e0[_0x2a3b96(0x648)]);let _0x5a312c=bo,_0x2b05cd=st;return _0x2b05cd&&this[_0x2a3b96(0x247)][_0x2a3b96(0xb5)]()[_0x2a3b96(0x35d)](_0x2b05cd['toLowerCase']())&&(_0x20d3e0[_0x2a3b96(0x48f)]+='\x0a\x0a'+_0x5a312c),_0x4b504a[_0x48b370]['caption']=_0x20d3e0?.[_0x2a3b96(0x48f)],_0x4b504a[_0x48b370]['mimetype']=_0x3f0a2c,_0x4b504a[_0x48b370][_0x2a3b96(0x6ac)]=_0x20d3e0[_0x2a3b96(0x6ac)],_0x20d3e0[_0x2a3b96(0x182)]==='video'&&(_0x4b504a[_0x48b370][_0x2a3b96(0x763)]=Uint8Array[_0x2a3b96(0xde)]((0x0,De[_0x2a3b96(0x1e3)])((0x0,L[_0x2a3b96(0x46b)])(process[_0x2a3b96(0x6fd)](),_0x2a3b96(0x19c)))),_0x4b504a[_0x48b370][_0x2a3b96(0x14f)]=!0x1),(0x0,f[_0x2a3b96(0x645)])('',{[_0x48b370]:{..._0x4b504a[_0x48b370]}},{'userJid':this[_0x2a3b96(0x2ac)][_0x2a3b96(0x53a)]});}catch(_0x36dbf5){let _0x165efa=_0x2a3b96(0x1f0),_0x20e2f4=_0x36dbf5 instanceof Error?_0x36dbf5['message']:typeof _0x36dbf5==_0x2a3b96(0x398)?JSON[_0x2a3b96(0x230)](_0x36dbf5):_0x36dbf5,_0xf29f56=_0x165efa+':\x20'+_0x20e2f4;throw this[_0x2a3b96(0x365)][_0x2a3b96(0xdb)](this[_0x2a3b96(0x247)]+'\x20('+this[_0x2a3b96(0x2ac)][_0x2a3b96(0x53a)]+_0x2a3b96(0x470)+_0xf29f56),new I(_0xf29f56);}}async[a0_0x29ff78(0x4d5)](_0x5504fa){const _0x35d92b=a0_0x29ff78;let _0x35aeda=await this[_0x35d92b(0x3cf)](_0x5504fa['mediaMessage']);return await this[_0x35d92b(0x65a)](_0x5504fa[_0x35d92b(0x772)],{..._0x35aeda[_0x35d92b(0x620)]},_0x5504fa?.[_0x35d92b(0x438)]);}async['convertToWebP'](_0x2850ba,_0x4ee01b){const _0x50762e=a0_0x29ff78;try{this['logger'][_0x50762e(0x3d2)](_0x50762e(0x680));let _0x484734,_0x2d9fd7=_0x4ee01b+'-'+new Date()[_0x50762e(0x1f3)]();this[_0x50762e(0x365)][_0x50762e(0x3d2)](_0x50762e(0x404)+_0x2d9fd7);let _0x575eaa=''+(0x0,L[_0x50762e(0x46b)])(this[_0x50762e(0xc0)],_0x2d9fd7+_0x50762e(0x4b9));if(this[_0x50762e(0x365)][_0x50762e(0x3d2)](_0x50762e(0x481)+_0x575eaa),(0x0,P[_0x50762e(0xfb)])(_0x2850ba)){this[_0x50762e(0x365)][_0x50762e(0x3d2)](_0x50762e(0x5fa));let _0x132cb1=_0x2850ba[_0x50762e(0x3e1)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x355170=Buffer[_0x50762e(0xde)](_0x132cb1,'base64');_0x484734=''+(0x0,L['join'])(this[_0x50762e(0xc0)],_0x50762e(0x45b)+_0x2d9fd7+_0x50762e(0x130)),this[_0x50762e(0x365)]['verbose'](_0x50762e(0x371)+_0x484734),await(0x0,Lt[_0x50762e(0x152)])(_0x355170)[_0x50762e(0x7ae)](_0x484734),this[_0x50762e(0x365)][_0x50762e(0x3d2)](_0x50762e(0x68d));}else{this[_0x50762e(0x365)][_0x50762e(0x3d2)](_0x50762e(0x6d8));let _0x267b18=new Date()[_0x50762e(0x1f3)](),_0x380599=_0x2850ba+_0x50762e(0x2ef)+_0x267b18;this[_0x50762e(0x365)][_0x50762e(0x3d2)](_0x50762e(0x737)+_0x380599);let _0x22994f=await Q[_0x50762e(0x152)][_0x50762e(0x6b4)](_0x380599,{'responseType':_0x50762e(0x701)});this[_0x50762e(0x365)][_0x50762e(0x3d2)](_0x50762e(0x129));let _0x2b441a=Buffer[_0x50762e(0xde)](_0x22994f[_0x50762e(0x1bb)],'binary');_0x484734=''+(0x0,L['join'])(this[_0x50762e(0xc0)],_0x50762e(0x45b)+_0x2d9fd7+_0x50762e(0x130)),this[_0x50762e(0x365)]['verbose']('Image\x20path:\x20'+_0x484734),await(0x0,Lt[_0x50762e(0x152)])(_0x2b441a)[_0x50762e(0x7ae)](_0x484734),this[_0x50762e(0x365)]['verbose']('Image\x20created');}return await(0x0,Lt[_0x50762e(0x152)])(_0x484734)[_0x50762e(0x2c0)]()[_0x50762e(0x7ae)](_0x575eaa),this[_0x50762e(0x365)][_0x50762e(0x3d2)]('Image\x20converted\x20to\x20WebP'),k['unlinkSync'](_0x484734),this['logger'][_0x50762e(0x3d2)](_0x50762e(0x5ed)),_0x575eaa;}catch(_0x4bf99d){let _0x53fa02=_0x50762e(0x644),_0x2800b8=_0x4bf99d instanceof Error?_0x4bf99d[_0x50762e(0x620)]:typeof _0x4bf99d==_0x50762e(0x398)?JSON['stringify'](_0x4bf99d):_0x4bf99d,_0x3c1b0a=_0x53fa02+':\x20'+_0x2800b8;this['logger'][_0x50762e(0xdb)](this[_0x50762e(0x247)]+'\x20('+this[_0x50762e(0x2ac)][_0x50762e(0x53a)]+_0x50762e(0x470)+_0x3c1b0a);}}async[a0_0x29ff78(0xe0)](_0x228ada){const _0x4780a2=a0_0x29ff78;let _0x40f0e1=await this[_0x4780a2(0x757)](_0x228ada[_0x4780a2(0x589)][_0x4780a2(0x6f7)],_0x228ada[_0x4780a2(0x772)]),_0x508b30=await this[_0x4780a2(0x65a)](_0x228ada[_0x4780a2(0x772)],{'sticker':{'url':_0x40f0e1}},_0x228ada?.[_0x4780a2(0x438)]);return k[_0x4780a2(0x37b)](_0x40f0e1),this['logger'][_0x4780a2(0x3d2)](_0x4780a2(0x5d0)),_0x508b30;}async[a0_0x29ff78(0x5d4)](_0x557264){const _0x1265f6=a0_0x29ff78;if(this[_0x1265f6(0x365)][_0x1265f6(0x3d2)](_0x1265f6(0x72b)),!_0x557264[_0x1265f6(0x438)]?.['encoding']&&_0x557264['options']?.['encoding']!==!0x1&&(_0x557264[_0x1265f6(0x438)]['encoding']=!0x0),_0x557264[_0x1265f6(0x438)]?.[_0x1265f6(0x58c)]){let _0x25f5d8=await this[_0x1265f6(0x5f6)](_0x557264[_0x1265f6(0x4e5)][_0x1265f6(0x3b7)]);if(typeof _0x25f5d8==_0x1265f6(0x52a)){let _0x41ac52=k['readFileSync'](_0x25f5d8)[_0x1265f6(0x675)](_0x1265f6(0x25c));return this[_0x1265f6(0x65a)](_0x557264['number'],{'audio':Buffer['from'](_0x41ac52,_0x1265f6(0x25c)),'ptt':!0x0,'mimetype':_0x1265f6(0x133)},{'presence':_0x1265f6(0x717),'delay':_0x557264?.[_0x1265f6(0x438)]?.['delay']});}else throw new I(_0x25f5d8);}return await this[_0x1265f6(0x65a)](_0x557264[_0x1265f6(0x772)],{'audio':(0x0,P[_0x1265f6(0x5e9)])(_0x557264[_0x1265f6(0x4e5)][_0x1265f6(0x3b7)])?{'url':_0x557264[_0x1265f6(0x4e5)][_0x1265f6(0x3b7)]}:Buffer[_0x1265f6(0xde)](_0x557264[_0x1265f6(0x4e5)][_0x1265f6(0x3b7)],_0x1265f6(0x25c)),'ptt':!0x0,'mimetype':_0x1265f6(0x133)},{'presence':'recording','delay':_0x557264?.[_0x1265f6(0x438)]?.[_0x1265f6(0x2f3)]});}async['convertaudio'](_0x49c58a){const _0x982c59=a0_0x29ff78;this[_0x982c59(0x365)][_0x982c59(0x3d2)]('Processing\x20audio');let _0x24b8a7=(0x0,P[_0x982c59(0x5e9)])(_0x49c58a)?(0x0,Jt['createHash'])(_0x982c59(0x5d6))[_0x982c59(0x6e6)](_0x49c58a)[_0x982c59(0x4ff)](_0x982c59(0x62e)):(0x0,Jt[_0x982c59(0x6cd)])(_0x982c59(0x5d6))['update'](_0x49c58a)[_0x982c59(0x4ff)](_0x982c59(0x62e)),_0x410cea=''+(0x0,L[_0x982c59(0x46b)])(this[_0x982c59(0xc0)],_0x24b8a7+_0x982c59(0x6b9));if(k[_0x982c59(0x509)](_0x410cea))return this[_0x982c59(0x365)][_0x982c59(0x3d2)](_0x982c59(0x1e5)),_0x410cea;let _0x2933a2=''+(0x0,L[_0x982c59(0x46b)])(this[_0x982c59(0xc0)],_0x982c59(0x45b)+(0x0,Me['v4'])()+_0x982c59(0x679));if((0x0,P['isURL'])(_0x49c58a)){let _0x2212c8=new Date()[_0x982c59(0x1f3)](),_0x55d829=_0x49c58a+_0x982c59(0x2ef)+_0x2212c8,_0x3789a1=await Q[_0x982c59(0x152)]['get'](_0x55d829,{'responseType':'arraybuffer'});k[_0x982c59(0x64d)](_0x2933a2,_0x3789a1[_0x982c59(0x1bb)]);}else{let _0x4823e8=Buffer[_0x982c59(0xde)](_0x49c58a,_0x982c59(0x25c));k[_0x982c59(0x64d)](_0x2933a2,_0x4823e8);}return new Promise((_0x2e830a,_0xac2cb5)=>{const _0x9bc9cc=_0x982c59;(0x0,_e['exec'])($s[_0x9bc9cc(0x152)]['path']+_0x9bc9cc(0x670)+_0x2933a2+_0x9bc9cc(0x77d)+_0x410cea+_0x9bc9cc(0x41c),_0x555a8e=>{const _0x1a4b98=_0x9bc9cc;if(k[_0x1a4b98(0x37b)](_0x2933a2),_0x555a8e){this[_0x1a4b98(0x365)][_0x1a4b98(0x3d2)]('Error\x20in\x20converting\x20audio'),_0xac2cb5(_0x555a8e);return;}this[_0x1a4b98(0x365)][_0x1a4b98(0x3d2)](_0x1a4b98(0x5f0)),_0x2e830a(_0x410cea);});});}async[a0_0x29ff78(0x477)](_0x305697){const _0x13621f=a0_0x29ff78;this[_0x13621f(0x365)][_0x13621f(0x3d2)](_0x13621f(0x322));let _0x958872=(0x0,Jt[_0x13621f(0x6cd)])(_0x13621f(0x5d6))['update'](_0x305697)['digest'](_0x13621f(0x62e)),_0x576631=''+(0x0,L[_0x13621f(0x46b)])(this[_0x13621f(0xc0)],_0x958872+_0x13621f(0x679));if(k[_0x13621f(0x509)](_0x576631))return this[_0x13621f(0x365)][_0x13621f(0x3d2)](_0x13621f(0x1e5)),L[_0x13621f(0x152)][_0x13621f(0x254)](_0x576631);let _0x3571ce=''+(0x0,L[_0x13621f(0x46b)])(this['storePath'],_0x13621f(0x45b)+_0x958872+_0x13621f(0x6b9));if((0x0,P[_0x13621f(0x5e9)])(_0x305697)){let _0x445934=new Date()[_0x13621f(0x1f3)](),_0x5e5500=_0x305697+_0x13621f(0x2ef)+_0x445934,_0x574083=await Q[_0x13621f(0x152)][_0x13621f(0x6b4)](_0x5e5500,{'responseType':_0x13621f(0x701)});k['writeFileSync'](_0x3571ce,_0x574083['data']);}else{let _0x1febad=Buffer[_0x13621f(0xde)](_0x305697,_0x13621f(0x25c));k[_0x13621f(0x64d)](_0x3571ce,_0x1febad);}return new Promise((_0x15ff94,_0x34f702)=>{const _0x41dede=_0x13621f;(0x0,_e[_0x41dede(0x273)])($s['default'][_0x41dede(0x7a0)]+'\x20-i\x20'+_0x3571ce+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20'+_0x576631+'\x20-y',_0x20081d=>{const _0x5d6f74=_0x41dede;if(k[_0x5d6f74(0x37b)](_0x3571ce),_0x20081d){this['logger'][_0x5d6f74(0x3d2)](_0x5d6f74(0x237)),_0x34f702(_0x20081d);return;}this[_0x5d6f74(0x365)][_0x5d6f74(0x3d2)](_0x5d6f74(0x5f0)),_0x15ff94(L['default']['basename'](_0x576631));});});}async[a0_0x29ff78(0x2cd)](_0x2667b9){const _0x155982=a0_0x29ff78;let _0x41fcd6={},_0x5f0a4e='TEXT';if(_0x2667b9[_0x155982(0x2cd)]?.['mediaMessage']){_0x5f0a4e=_0x2667b9[_0x155982(0x2cd)][_0x155982(0x4d5)]?.[_0x155982(0x182)][_0x155982(0x18d)]()??_0x155982(0x23f),_0x41fcd6[_0x155982(0x4e0)]=_0x5f0a4e['toLowerCase']()+_0x155982(0x608);let _0x46c036=await this[_0x155982(0x3cf)](_0x2667b9[_0x155982(0x2cd)][_0x155982(0x4d5)]);_0x41fcd6['message']=_0x46c036['message'][_0x41fcd6['mediaKey']],_0x41fcd6[_0x155982(0x527)]='*'+_0x2667b9[_0x155982(0x2cd)]['title']+_0x155982(0x6d2)+_0x2667b9[_0x155982(0x2cd)][_0x155982(0x3a0)];}let _0x56f228={'text':_0x2667b9[_0x155982(0x2cd)][_0x155982(0x274)][_0x155982(0x174)](_0x20a076=>_0x20a076[_0x155982(0x79b)]),'ids':_0x2667b9['buttonMessage'][_0x155982(0x274)][_0x155982(0x174)](_0x556ea4=>_0x556ea4[_0x155982(0x276)])};if(!(0x0,P[_0x155982(0x615)])(_0x56f228['text'])||!(0x0,P[_0x155982(0x615)])(_0x56f228['ids']))throw new m(_0x155982(0x57f),'Button\x20IDs\x20cannot\x20be\x20repeated.');return await this['sendMessageWithTyping'](_0x2667b9[_0x155982(0x772)],{'buttonsMessage':{'text':_0x41fcd6?.[_0x155982(0x4e0)]?void 0x0:_0x2667b9[_0x155982(0x2cd)]['title'],'contentText':_0x41fcd6?.[_0x155982(0x527)]??_0x2667b9['buttonMessage'][_0x155982(0x3a0)],'footerText':_0x2667b9[_0x155982(0x2cd)]?.['footerText'],'buttons':_0x2667b9['buttonMessage'][_0x155982(0x274)]['map'](_0x159d64=>({'buttonText':{'displayText':_0x159d64[_0x155982(0x79b)]},'buttonId':_0x159d64[_0x155982(0x276)],'type':0x1})),'headerType':f[_0x155982(0xf8)][_0x155982(0x608)]['ButtonsMessage'][_0x155982(0x38c)][_0x5f0a4e],[_0x41fcd6?.[_0x155982(0x4e0)]]:_0x41fcd6?.[_0x155982(0x620)]}},_0x2667b9?.[_0x155982(0x438)]);}async[a0_0x29ff78(0x308)](_0x56210e){const _0x2f7811=a0_0x29ff78;return await this[_0x2f7811(0x65a)](_0x56210e['number'],{'locationMessage':{'degreesLatitude':_0x56210e[_0x2f7811(0x308)][_0x2f7811(0x585)],'degreesLongitude':_0x56210e[_0x2f7811(0x308)][_0x2f7811(0x726)],'name':_0x56210e['locationMessage']?.[_0x2f7811(0x177)],'address':_0x56210e[_0x2f7811(0x308)]?.[_0x2f7811(0x7bf)]}},_0x56210e?.[_0x2f7811(0x438)]);}async[a0_0x29ff78(0x6c9)](_0x4a519b){const _0x266124=a0_0x29ff78;let _0x3fb68e={},_0x315ac9=async _0x313ac1=>{const _0x3e4d74=a0_0x5d27;let _0xaf0406=_0x3e4d74(0x1a2)+_0x313ac1['fullName']+_0x3e4d74(0x2c4)+_0x313ac1[_0x3e4d74(0x4ce)]+'\x0a';_0x313ac1[_0x3e4d74(0x16e)]&&(_0xaf0406+=_0x3e4d74(0x2b6)+_0x313ac1['organization']+';\x0a'),_0x313ac1[_0x3e4d74(0x2d5)]&&(_0xaf0406+=_0x3e4d74(0xd6)+_0x313ac1[_0x3e4d74(0x2d5)]+'\x0a'),_0x313ac1['url']&&(_0xaf0406+='URL:'+_0x313ac1[_0x3e4d74(0x251)]+'\x0a');let _0x9abebb='',_0x120b0c=0x1;if(_0x313ac1[_0x3e4d74(0x38f)]){let _0x4fac74=_0x313ac1[_0x3e4d74(0x38f)]['split']('|');for(let _0x4806bf of _0x4fac74){let _0x20cbcf=await this[_0x3e4d74(0x516)]({'numbers':[_0x4806bf]}),_0x3ed520=(_0x20cbcf[_0x3e4d74(0x78c)]>0x0?_0x20cbcf[0x0][_0x3e4d74(0x60c)]:this[_0x3e4d74(0x4cd)](_0x4806bf))[_0x3e4d74(0x3e1)](_0x3e4d74(0x766),'');_0x9abebb+='item'+_0x120b0c+_0x3e4d74(0x3c1)+_0x3ed520+':'+_0x4806bf+_0x3e4d74(0x27f)+_0x120b0c+'.X-ABLabel:Celular\x0a',_0x120b0c++;}}return _0xaf0406+=_0x9abebb+_0x3e4d74(0x158),_0xaf0406;};return _0x4a519b[_0x266124(0x6c9)][_0x266124(0x78c)]===0x1?_0x3fb68e[_0x266124(0x6c9)]={'displayName':_0x4a519b[_0x266124(0x6c9)][0x0][_0x266124(0x4ce)],'vcard':await _0x315ac9(_0x4a519b['contactMessage'][0x0])}:_0x3fb68e['contactsArrayMessage']={'displayName':_0x4a519b[_0x266124(0x6c9)][_0x266124(0x78c)]+_0x266124(0x48d),'contacts':await Promise['all'](_0x4a519b[_0x266124(0x6c9)][_0x266124(0x174)](async _0x5839a1=>({'displayName':_0x5839a1[_0x266124(0x4ce)],'vcard':await _0x315ac9(_0x5839a1)})))},await this[_0x266124(0x65a)](_0x4a519b[_0x266124(0x772)],{..._0x3fb68e},_0x4a519b?.[_0x266124(0x438)]);}async['reactionMessage'](_0x397d83){const _0x2c0d5f=a0_0x29ff78;return await this[_0x2c0d5f(0x65a)](_0x397d83[_0x2c0d5f(0x5ab)][_0x2c0d5f(0x60f)][_0x2c0d5f(0x5aa)],{'reactionMessage':{'key':_0x397d83[_0x2c0d5f(0x5ab)]['key'],'text':_0x397d83['reactionMessage']['reaction']}});}async[a0_0x29ff78(0x516)](_0x2c5a1e){const _0x454d89=a0_0x29ff78;let _0x554f10=[];for await(let _0xcef704 of _0x2c5a1e[_0x454d89(0x590)]){let _0xdff031=this[_0x454d89(0x4cd)](_0xcef704),_0x2cde10=!0x1;try{if((0x0,f[_0x454d89(0x504)])(_0xdff031)){let _0x2f3328=(await this['repository']['chat'][_0x454d89(0x2d8)]({'where':{'_id':_0xdff031}},this[_0x454d89(0x2ac)][_0x454d89(0x53a)]))[_0x454d89(0x58b)];_0x2cde10=!!_0x2f3328?.['id']&&!!_0x2f3328?.[_0x454d89(0x166)],_0x554f10[_0x454d89(0x41b)](new ye(_0x2f3328['id'],_0x2cde10,_0x2f3328?.[_0x454d89(0xf0)]));}else{let _0x1592a6=(await this['client'][_0x454d89(0x641)](_0xdff031))[0x0];_0x2cde10=_0x1592a6[_0x454d89(0x3f6)],_0x554f10[_0x454d89(0x41b)](new ye(_0x1592a6[_0x454d89(0x60c)],_0x2cde10));}}catch{(0x0,f[_0x454d89(0x504)])(_0xdff031)||await this['deleteImportedChat'](_0xdff031,_0x2cde10),_0x554f10['push'](new ye(_0xcef704,!0x1));}}return _0x554f10;}async[a0_0x29ff78(0x7ba)](_0x33ded3,_0x7ecd4e){const _0x52ad10=a0_0x29ff78;try{await this[_0x52ad10(0x479)][_0x52ad10(0x77e)]['findOne']({'where':{'_id':_0x33ded3,'imported':!0x0}},this[_0x52ad10(0x2ac)]['wuid'])&&(_0x7ecd4e||(await this[_0x52ad10(0x479)][_0x52ad10(0x77e)][_0x52ad10(0x46e)](_0x33ded3,this['instance'][_0x52ad10(0x53a)]),this[_0x52ad10(0x365)][_0x52ad10(0x7b5)](_0x52ad10(0x486)+_0x33ded3+_0x52ad10(0x5b2))));}catch(_0x497400){let _0x362e8e=_0x52ad10(0x1f5),_0x44c3be=_0x497400 instanceof Error?_0x497400['message']:typeof _0x497400==_0x52ad10(0x398)?JSON[_0x52ad10(0x230)](_0x497400):_0x497400,_0x446a8c=_0x362e8e+':\x20'+_0x44c3be;this[_0x52ad10(0x365)][_0x52ad10(0xdb)](this[_0x52ad10(0x247)]+'\x20('+this['instance'][_0x52ad10(0x53a)]+_0x52ad10(0x470)+_0x446a8c);}}async[a0_0x29ff78(0x6fb)](_0x5da19a){const _0xe25d74=a0_0x29ff78;try{let _0x2a97c6=_0x5da19a[_0xe25d74(0x530)][_0xe25d74(0x368)](_0x625e9d=>(0x0,f[_0xe25d74(0x504)])(_0x625e9d[_0xe25d74(0x5aa)])||(0x0,f['isJidUser'])(_0x625e9d[_0xe25d74(0x5aa)]))[_0xe25d74(0x174)](_0x1fe52a=>({'remoteJid':_0x1fe52a[_0xe25d74(0x5aa)],'fromMe':_0x1fe52a[_0xe25d74(0x66b)],'id':_0x1fe52a['id']}));await this['client'][_0xe25d74(0x530)](_0x2a97c6);let _0x3023f2=_0x2a97c6['map'](_0x1c2dcd=>this[_0xe25d74(0x2af)](_0x1c2dcd,{'status':_0xe25d74(0x655),'owner':this['instance']['wuid']})),_0x3b0256=_0x2a97c6['map'](_0x4e67e9=>this[_0xe25d74(0x479)][_0xe25d74(0x77e)]['updateOne']({'where':{'_id':_0x4e67e9[_0xe25d74(0x5aa)]}},{'unreadcount':0x0},this[_0xe25d74(0x2ac)][_0xe25d74(0x53a)])),[_0x20959a,_0x54f83e]=await Promise[_0xe25d74(0x4fb)]([Promise[_0xe25d74(0x4fb)](_0x3023f2),Promise['all'](_0x3b0256)]);return _0x54f83e[_0xe25d74(0x368)](_0x1f7afd=>_0x1f7afd!==null)[_0xe25d74(0x628)](_0x3febc5=>{const _0x576d29=_0xe25d74;F(this[_0x576d29(0x247)],_0x576d29(0x4ef),{'chat':_0x3febc5});}),{'message':_0xe25d74(0x1d7),'read':'success'};}catch(_0x19772e){let _0x28a646=_0xe25d74(0x4a0),_0x308565=_0x19772e instanceof Error?_0x19772e[_0xe25d74(0x620)]:typeof _0x19772e==_0xe25d74(0x398)?JSON['stringify'](_0x19772e):_0x19772e,_0x2aea9a=_0x28a646+':\x20'+_0x308565;throw this['logger'][_0xe25d74(0xdb)](this[_0xe25d74(0x247)]+'\x20('+this[_0xe25d74(0x2ac)][_0xe25d74(0x53a)]+'):\x20'+_0x2aea9a),new I(_0x2aea9a);}}async[a0_0x29ff78(0x4e3)](_0x2b4944){const _0x134fc4=a0_0x29ff78;let _0x2eeaa8={'where':{'key':{'remoteJid':_0x2b4944}},'limit':0x1},_0x18f91b=await this[_0x134fc4(0x127)](_0x2eeaa8);return _0x18f91b||(console[_0x134fc4(0xdb)](_0x134fc4(0x2a8),_0x2b4944),null);}async[a0_0x29ff78(0x464)](_0x4ae48a){const _0x3b527a=a0_0x29ff78;this[_0x3b527a(0x365)][_0x3b527a(0x3d2)]('Archiving\x20chat');try{let _0x52934b=_0x4ae48a[_0x3b527a(0x38b)],_0x21353e=_0x4ae48a[_0x3b527a(0x77e)];if(!_0x52934b&&_0x21353e?_0x52934b=await this['getLastMessage'](_0x21353e):(_0x52934b=_0x4ae48a[_0x3b527a(0x38b)],_0x52934b[_0x3b527a(0x22e)]=_0x52934b?.[_0x3b527a(0x22e)]??Date[_0x3b527a(0x455)](),_0x21353e=_0x52934b?.[_0x3b527a(0x60f)]?.[_0x3b527a(0x5aa)]),!_0x52934b||Object[_0x3b527a(0x63f)](_0x52934b)[_0x3b527a(0x78c)]===0x0)throw new U(_0x3b527a(0x497));this[_0x3b527a(0x365)]['verbose'](_0x3b527a(0x335)+_0x21353e);try{await this[_0x3b527a(0x4c8)][_0x3b527a(0x72a)]({'archive':_0x4ae48a[_0x3b527a(0x192)],'lastMessages':[_0x52934b]},this[_0x3b527a(0x4cd)](_0x21353e));}catch(_0x3248b2){let _0x4a1adc=_0x3b527a(0x374)+_0x21353e,_0x4319bd=_0x3248b2 instanceof Error?_0x3248b2[_0x3b527a(0x620)]:typeof _0x3248b2=='object'?JSON['stringify'](_0x3248b2):_0x3248b2,_0x3c0450=_0x4a1adc+':\x20'+_0x4319bd;this[_0x3b527a(0x365)]['error'](this[_0x3b527a(0x247)]+'\x20('+this[_0x3b527a(0x2ac)][_0x3b527a(0x53a)]+_0x3b527a(0x470)+_0x3c0450);}this['logger'][_0x3b527a(0x3d2)](_0x3b527a(0x630)+_0x21353e);let _0x42cedf=await this['repository'][_0x3b527a(0x77e)]['updateOne']({'where':{'_id':_0x52934b?.[_0x3b527a(0x60f)]?.[_0x3b527a(0x5aa)]}},{'archived':_0x4ae48a[_0x3b527a(0x192)]},this[_0x3b527a(0x2ac)][_0x3b527a(0x53a)]);return _0x42cedf?(this[_0x3b527a(0x365)][_0x3b527a(0x3d2)](_0x3b527a(0x3af)+JSON[_0x3b527a(0x230)](_0x42cedf)),F(this['instanceName'],_0x3b527a(0x4ef),{'chat':_0x42cedf})):this['logger'][_0x3b527a(0xdb)](_0x3b527a(0x1fb)+_0x21353e),{'chatId':_0x21353e,'archived':_0x4ae48a[_0x3b527a(0x192)]};}catch(_0x1aef35){let _0xb55123=_0x3b527a(0x29c),_0x3f191d=_0x1aef35 instanceof Error?_0x1aef35['message']:typeof _0x1aef35==_0x3b527a(0x398)?JSON[_0x3b527a(0x230)](_0x1aef35):_0x1aef35,_0x1fb5f1=_0xb55123+':\x20'+_0x3f191d;throw this[_0x3b527a(0x365)][_0x3b527a(0xdb)](this['instanceName']+'\x20('+this['instance'][_0x3b527a(0x53a)]+'):\x20'+_0x1fb5f1),new I(_0x1fb5f1);}}async['deleteChat'](_0x1d7172){const _0x48a980=a0_0x29ff78;this[_0x48a980(0x365)][_0x48a980(0x3d2)](_0x48a980(0x5d8));try{let _0x3f1161=await this['getLastMessage'](_0x1d7172);if(!_0x3f1161||Object[_0x48a980(0x63f)](_0x3f1161)[_0x48a980(0x78c)]===0x0)throw new U('Last\x20message\x20not\x20found');let _0xce2768=_0x3f1161[0x0];this[_0x48a980(0x365)][_0x48a980(0x3d2)]('Delete\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x1d7172);try{await this[_0x48a980(0x4c8)][_0x48a980(0x72a)]({'delete':!0x0,'lastMessages':[{'key':_0xce2768[_0x48a980(0x60f)],'messageTimestamp':_0xce2768[_0x48a980(0x22e)]}]},this[_0x48a980(0x4cd)](_0x1d7172));}catch(_0x4b805b){this[_0x48a980(0x365)][_0x48a980(0xdb)](_0x48a980(0x374)+_0x1d7172+':\x20'+_0x4b805b[_0x48a980(0x675)]());}this[_0x48a980(0x365)]['verbose'](_0x48a980(0x630)+_0x1d7172);return;}catch(_0x16cc36){throw this['logger']['error']('Error\x20occurred\x20while\x20archiving\x20chat:\x20'+_0x16cc36[_0x48a980(0x675)]()),new I({'archived':!0x1,'message':[_0x48a980(0x3a4),_0x16cc36[_0x48a980(0x675)]()]});}}async[a0_0x29ff78(0x10a)](_0x1f9fe3){const _0xac89f8=a0_0x29ff78;try{let _0x52128a=await this[_0xac89f8(0x4c8)]['sendMessage'](_0x1f9fe3[_0xac89f8(0x5aa)],{'delete':_0x1f9fe3});try{let _0x1ad997=await this['updateMessage'](_0x1f9fe3,{'status':_0xac89f8(0x445),'owner':this[_0xac89f8(0x2ac)]['wuid']});this[_0xac89f8(0x365)][_0xac89f8(0x3d2)](this['instanceName']+'\x20('+this[_0xac89f8(0x2ac)][_0xac89f8(0x53a)]+_0xac89f8(0x764)+_0x1ad997);}catch(_0x5352b8){console[_0xac89f8(0xdb)](_0xac89f8(0x349),_0x5352b8);}return _0x52128a;}catch(_0x14be26){throw new I(_0xac89f8(0x4be),_0x14be26?.[_0xac89f8(0x675)]());}}async[a0_0x29ff78(0x3ec)](_0x529ff7){const _0x46ad2a=a0_0x29ff78;try{let _0x3b7645=_0x529ff7?.['message']?_0x529ff7:await this[_0x46ad2a(0x58d)](_0x529ff7['key'],!0x0);for(let _0x41d496 of wa)_0x3b7645[_0x46ad2a(0x620)][_0x41d496]&&(_0x3b7645[_0x46ad2a(0x620)]=_0x3b7645[_0x46ad2a(0x620)][_0x41d496][_0x46ad2a(0x620)]);let _0x3acae3,_0x28e306;for(let _0x1ba36a of fa)if(_0x3acae3=_0x3b7645[_0x46ad2a(0x620)][_0x1ba36a],_0x3acae3){_0x28e306=_0x1ba36a;break;}if(!_0x3acae3)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x3acae3['mediaKey']=='object'&&(_0x3b7645[_0x46ad2a(0x620)]=JSON[_0x46ad2a(0x1cd)](JSON[_0x46ad2a(0x230)](_0x3b7645['message'])));let _0x5a53af=await(0x0,f[_0x46ad2a(0x767)])({'key':_0x3b7645?.[_0x46ad2a(0x60f)],'message':_0x3b7645?.[_0x46ad2a(0x620)]},_0x46ad2a(0x6dd),{},{'logger':(0x0,kt[_0x46ad2a(0x152)])({'level':'silent'}),'reuploadRequest':this[_0x46ad2a(0x4c8)][_0x46ad2a(0x43c)]});if(!(_0x5a53af instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x5b273e=this[_0x46ad2a(0x657)][_0x46ad2a(0x6b4)](_0x46ad2a(0x587)),_0x5b3b88,_0x2dc941;if(_0x3acae3[_0x46ad2a(0x6ac)])_0x5b3b88=_0x3acae3['fileName'];else{let _0x3781c3=_0x3acae3[_0x46ad2a(0x6c1)]?.['match'](/\/(\w+)/),_0x2fc86a=_0x3781c3?_0x3781c3[0x1]:null;if(!_0x2fc86a)throw new Error(_0x46ad2a(0x2f1));_0x5b3b88=(0x0,Me['v4'])()+'.'+_0x2fc86a;}_0x28e306===_0x46ad2a(0x4e5)?_0x2dc941=_0x46ad2a(0x570)+await this[_0x46ad2a(0x477)](_0x5a53af[_0x46ad2a(0x675)]('base64')):(await this[_0x46ad2a(0x30f)](_0x5a53af,_0x5b3b88),_0x2dc941=_0x46ad2a(0x570)+_0x5b3b88);let _0x16ab08=this[_0x46ad2a(0x657)][_0x46ad2a(0x6b4)](_0x46ad2a(0x1c5))[_0x46ad2a(0x44b)];if(!_0x16ab08){let _0x390058=this[_0x46ad2a(0x657)]['get']('SSL_CONF');_0x16ab08='https://'+(_0x390058&&_0x390058['FULLCHAIN']['split']('/')[0x4]);}_0x2dc941=''+_0x16ab08+_0x2dc941;let _0x341daf=0xc*0x3c*0x3c*0x3e8,_0x5aaa99={'where':{'_id':_0x3b7645['key']['id']}},_0x36358c={'message_normalized.fileUrl':_0x2dc941,'message_normalized.expires_fileUrl':Date[_0x46ad2a(0x455)]()+_0x341daf};try{let _0x18ac3a=await this[_0x46ad2a(0x479)][_0x46ad2a(0x620)][_0x46ad2a(0x6e6)](_0x5aaa99,_0x36358c,this[_0x46ad2a(0x2ac)][_0x46ad2a(0x53a)]);_0x18ac3a&&F(this[_0x46ad2a(0x247)],_0x46ad2a(0x4ba),{'message':_0x18ac3a});}catch(_0x3ec6f6){let _0x28cb15=_0x46ad2a(0x635),_0x7ee680=_0x3ec6f6 instanceof Error?_0x3ec6f6[_0x46ad2a(0x620)]:typeof _0x3ec6f6==_0x46ad2a(0x398)?JSON[_0x46ad2a(0x230)](_0x3ec6f6):_0x3ec6f6,_0xe8719e=_0x28cb15+':\x20'+_0x7ee680;this[_0x46ad2a(0x365)][_0x46ad2a(0xdb)](this[_0x46ad2a(0x247)]+'\x20('+this[_0x46ad2a(0x2ac)][_0x46ad2a(0x53a)]+_0x46ad2a(0x470)+_0xe8719e);}return{'mediaType':_0x28e306,'fileName':_0x3acae3[_0x46ad2a(0x6ac)],'caption':_0x3acae3[_0x46ad2a(0x48f)],'size':{'fileLength':_0x3acae3['fileLength'],'height':_0x3acae3[_0x46ad2a(0x694)],'width':_0x3acae3[_0x46ad2a(0x405)]},'mimetype':_0x3acae3['mimetype'],'base64':_0x5a53af['toString'](_0x46ad2a(0x25c)),'fileUrl':_0x2dc941,'expires_fileUrl':Date[_0x46ad2a(0x455)]()+_0x341daf};}catch(_0x17fdf4){let _0x3cc801=_0x46ad2a(0x56f),_0x39aad1=_0x17fdf4 instanceof Error?_0x17fdf4[_0x46ad2a(0x620)]:typeof _0x17fdf4==_0x46ad2a(0x398)?JSON[_0x46ad2a(0x230)](_0x17fdf4):_0x17fdf4,_0x441f96=_0x3cc801+':\x20'+_0x39aad1;throw this[_0x46ad2a(0x365)][_0x46ad2a(0xdb)](this[_0x46ad2a(0x247)]+'\x20('+this[_0x46ad2a(0x2ac)][_0x46ad2a(0x53a)]+_0x46ad2a(0x470)+_0x441f96),new m(_0x441f96);}}async[a0_0x29ff78(0x30f)](_0x4530d6,_0x359a6b){const _0x49ca0e=a0_0x29ff78;let _0x501c71=L['default'][_0x49ca0e(0x46b)](__dirname,'downloads');k['existsSync'](_0x501c71)||k['mkdirSync'](_0x501c71,{'recursive':!0x0});let _0x5d05e2=L[_0x49ca0e(0x152)]['join'](_0x501c71,_0x359a6b);return new Promise((_0x173662,_0x58bb51)=>{k['writeFile'](_0x5d05e2,_0x4530d6,_0x1a3938=>{const _0x370491=a0_0x5d27;_0x1a3938?(this[_0x370491(0x365)][_0x370491(0xdb)](_0x370491(0x199)+(_0x1a3938 instanceof Error?_0x1a3938[_0x370491(0x620)]:JSON[_0x370491(0x230)](_0x1a3938,null,0x2))),_0x58bb51(_0x1a3938)):(this['logger']['log']('File\x20written\x20to\x20path:\x20'+_0x5d05e2),_0x173662(_0x5d05e2));});});}async[a0_0x29ff78(0x79d)](_0x2e7cc0){const _0x3d11eb=a0_0x29ff78;return await this[_0x3d11eb(0x479)][_0x3d11eb(0x729)][_0x3d11eb(0x7a5)](_0x2e7cc0,this['instance'][_0x3d11eb(0x53a)]);}async[a0_0x29ff78(0x52f)](){const _0x3873c6=a0_0x29ff78;return await this[_0x3873c6(0x479)][_0x3873c6(0x4a4)]['find']({'where':{}},this['instance'][_0x3873c6(0x53a)]);}async[a0_0x29ff78(0x127)](_0x2c87ae){const _0x2a8d63=a0_0x29ff78;return await this[_0x2a8d63(0x479)]['message'][_0x2a8d63(0x7a5)](_0x2c87ae,this['instance'][_0x2a8d63(0x53a)]);}async[a0_0x29ff78(0x15c)](){const _0x18d22c=a0_0x29ff78;return this['repository'][_0x18d22c(0x77e)][_0x18d22c(0x213)](this[_0x18d22c(0x2ac)]['wuid']),this[_0x18d22c(0x479)][_0x18d22c(0x77e)][_0x18d22c(0x4f2)](this[_0x18d22c(0x2ac)]['wuid']),this[_0x18d22c(0x479)][_0x18d22c(0x77e)][_0x18d22c(0x449)](this[_0x18d22c(0x2ac)][_0x18d22c(0x53a)]),this['repository'][_0x18d22c(0x77e)][_0x18d22c(0x7ab)](this[_0x18d22c(0x2ac)]['wuid']),await this[_0x18d22c(0x479)][_0x18d22c(0x77e)][_0x18d22c(0x7a5)]({'where':{}},this['instance']['wuid']);}async[a0_0x29ff78(0x638)](_0x47a051){const _0x4a875f=a0_0x29ff78;try{if(!Array[_0x4a875f(0x5eb)](_0x47a051)||_0x47a051[_0x4a875f(0x78c)]===0x0)throw new Error(_0x4a875f(0x614));let _0x3022d4=[],_0xfaf055=[];for(let _0x34eb49 of _0x47a051){if(_0x34eb49['_id'])_0x34eb49[_0x4a875f(0x5e4)]=this['createJid'](_0x34eb49[_0x4a875f(0x5e4)]);else continue;await this[_0x4a875f(0x479)][_0x4a875f(0x77e)][_0x4a875f(0x2d8)]({'where':{'_id':_0x34eb49[_0x4a875f(0x5e4)]}},this['instance'][_0x4a875f(0x53a)])?_0xfaf055[_0x4a875f(0x41b)]({'_id':_0x34eb49[_0x4a875f(0x5e4)],'leadInfo':_0x34eb49['leadInfo'],'owner':this[_0x4a875f(0x2ac)]['wuid']}):_0x3022d4[_0x4a875f(0x41b)]({'_id':_0x34eb49[_0x4a875f(0x5e4)],'owner':this[_0x4a875f(0x2ac)][_0x4a875f(0x53a)],'leadInfo':_0x34eb49[_0x4a875f(0x25f)],'imported':!0x0});}return _0xfaf055[_0x4a875f(0x78c)]>0x0&&await this[_0x4a875f(0x479)][_0x4a875f(0x77e)][_0x4a875f(0x5c8)](_0xfaf055['map'](_0x585864=>({'query':{'where':{'_id':_0x585864['_id'],'owner':this[_0x4a875f(0x2ac)][_0x4a875f(0x53a)]}},'update':_0x585864}))),_0x3022d4['length']>0x0&&await this[_0x4a875f(0x479)][_0x4a875f(0x77e)][_0x4a875f(0x483)](_0x3022d4,this['instance'][_0x4a875f(0x53a)]),{'updated':_0xfaf055[_0x4a875f(0x78c)],'inserted':_0x3022d4['length']};}catch(_0x2b4108){let _0x123910=_0x4a875f(0x314),_0x3eb65b=_0x2b4108 instanceof Error?_0x2b4108[_0x4a875f(0x620)]:typeof _0x2b4108==_0x4a875f(0x398)?JSON[_0x4a875f(0x230)](_0x2b4108):_0x2b4108,_0x2a9505=_0x123910+':\x20'+_0x3eb65b;throw this[_0x4a875f(0x365)][_0x4a875f(0xdb)](this['instanceName']+'\x20('+this[_0x4a875f(0x2ac)][_0x4a875f(0x53a)]+'):\x20'+_0x2a9505),new m(_0x2a9505);}}async[a0_0x29ff78(0x2de)](_0x5f1e36){const _0x4f3df1=a0_0x29ff78;try{if(!Array[_0x4f3df1(0x5eb)](_0x5f1e36)||_0x5f1e36['length']===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x1f54cb=0x64,_0x4825e4=0x0;for(let _0x44cdf6=0x0;_0x44cdf6<_0x5f1e36[_0x4f3df1(0x78c)];_0x44cdf6+=_0x1f54cb){let _0x57035f=_0x5f1e36[_0x4f3df1(0x4f3)](_0x44cdf6,_0x44cdf6+_0x1f54cb),{updated:_0x31c10f}=await this[_0x4f3df1(0x3bf)](_0x57035f);_0x4825e4+=_0x31c10f;}return{'updated':_0x4825e4};}catch(_0xfc4b9a){let _0x179709=_0x4f3df1(0x314),_0x224104=_0xfc4b9a instanceof Error?_0xfc4b9a[_0x4f3df1(0x620)]:typeof _0xfc4b9a=='object'?JSON[_0x4f3df1(0x230)](_0xfc4b9a):_0xfc4b9a,_0x46fce0=_0x179709+':\x20'+_0x224104;throw this[_0x4f3df1(0x365)][_0x4f3df1(0xdb)](this[_0x4f3df1(0x247)]+'\x20('+this[_0x4f3df1(0x2ac)][_0x4f3df1(0x53a)]+_0x4f3df1(0x470)+_0x46fce0),new m(_0x46fce0);}}async[a0_0x29ff78(0x3bf)](_0x512231){const _0x45b183=a0_0x29ff78;try{let _0x57873b=await this[_0x45b183(0x479)][_0x45b183(0x4a4)]['find']({'where':{}},this[_0x45b183(0x2ac)][_0x45b183(0x53a)]),_0x4246d7=new Set(_0x57873b[_0x45b183(0x174)](_0x3efa83=>_0x3efa83[_0x45b183(0x5e4)])),_0xca659e=[],_0x4a175d=[];for(let _0x2167af of _0x512231){if(!_0x2167af[_0x45b183(0x5e4)])continue;_0x2167af[_0x45b183(0x5e4)]=this[_0x45b183(0x4cd)](_0x2167af['_id']);let _0x4ded1f=await this[_0x45b183(0x479)]['chat'][_0x45b183(0x2d8)]({'where':{'_id':_0x2167af[_0x45b183(0x5e4)]}},this[_0x45b183(0x2ac)][_0x45b183(0x53a)]),_0x4a40b9={};if(Object[_0x45b183(0x21d)](_0x2167af[_0x45b183(0x25f)])[_0x45b183(0x628)](([_0x5af626,_0x2c6831])=>{const _0x467b8a=_0x45b183;_0x4a40b9[_0x467b8a(0x552)+_0x5af626]=_0x2c6831;}),_0x4ded1f&&!_0x4ded1f[_0x45b183(0x490)]){let _0x56082d=(_0x2167af[_0x45b183(0x25f)][_0x45b183(0x2b3)]||[])[_0x45b183(0x368)](_0x19155a=>_0x4246d7['has'](_0x19155a)),_0x4c1652=new Set(_0x4ded1f[_0x45b183(0x25f)][_0x45b183(0x2b3)]||[]),_0xc44c7f=_0x56082d[_0x45b183(0x368)](_0x514261=>!_0x4c1652[_0x45b183(0x6ad)](_0x514261)),_0x89dac9=[..._0x4c1652]['filter'](_0x5aa77c=>!_0x56082d[_0x45b183(0x35d)](_0x5aa77c));_0x4a175d[_0x45b183(0x41b)](..._0xc44c7f[_0x45b183(0x174)](_0x51454c=>this[_0x45b183(0x4c6)](_0x51454c,_0x2167af[_0x45b183(0x5e4)]))),_0x4a175d[_0x45b183(0x41b)](..._0x89dac9[_0x45b183(0x174)](_0x251314=>this[_0x45b183(0x41d)](_0x251314,_0x2167af[_0x45b183(0x5e4)]))),_0x2167af[_0x45b183(0x25f)]['etiquetas']=_0x56082d,_0xca659e[_0x45b183(0x41b)]({'query':{'where':{'_id':_0x2167af[_0x45b183(0x5e4)],'owner':this[_0x45b183(0x2ac)][_0x45b183(0x53a)]}},'update':_0x4a40b9});}else _0x4a40b9[_0x45b183(0x490)]=!0x0,_0xca659e[_0x45b183(0x41b)]({'query':{'where':{'_id':_0x2167af[_0x45b183(0x5e4)],'owner':this[_0x45b183(0x2ac)][_0x45b183(0x53a)]}},'update':_0x4a40b9});}let _0x320a78=await this[_0x45b183(0x479)]['chat']['updateMany'](_0xca659e);return await Promise[_0x45b183(0x4fb)](_0x4a175d),{'updated':_0x320a78};}catch(_0x138bb9){let _0x585e10='Erro\x20ao\x20importar\x20chats',_0x3026aa=_0x138bb9 instanceof Error?_0x138bb9[_0x45b183(0x620)]:typeof _0x138bb9=='object'?JSON[_0x45b183(0x230)](_0x138bb9):_0x138bb9,_0x45681a=_0x585e10+':\x20'+_0x3026aa;throw this[_0x45b183(0x365)][_0x45b183(0xdb)](this[_0x45b183(0x247)]+'\x20('+this[_0x45b183(0x2ac)][_0x45b183(0x53a)]+'):\x20'+_0x45681a),new m(_0x45681a);}}async[a0_0x29ff78(0x53c)](){const _0x2aa789=a0_0x29ff78;return await this[_0x2aa789(0x4c8)][_0x2aa789(0x53c)]();}async[a0_0x29ff78(0x46f)](_0x4f0b22){const _0x2d9d2c=a0_0x29ff78;try{return await this[_0x2d9d2c(0x4c8)][_0x2d9d2c(0x47e)](_0x4f0b22[_0x2d9d2c(0x37f)]['readreceipts']),await this[_0x2d9d2c(0x4c8)][_0x2d9d2c(0x56e)](_0x4f0b22['privacySettings'][_0x2d9d2c(0x555)]),await this['client'][_0x2d9d2c(0x2ad)](_0x4f0b22[_0x2d9d2c(0x37f)][_0x2d9d2c(0x353)]),await this['client']['updateOnlinePrivacy'](_0x4f0b22[_0x2d9d2c(0x37f)][_0x2d9d2c(0x560)]),await this[_0x2d9d2c(0x4c8)][_0x2d9d2c(0x6d7)](_0x4f0b22['privacySettings'][_0x2d9d2c(0x4aa)]),await this[_0x2d9d2c(0x4c8)]['updateGroupsAddPrivacy'](_0x4f0b22[_0x2d9d2c(0x37f)][_0x2d9d2c(0xed)]),this[_0x2d9d2c(0x4c8)]?.['ws']?.[_0x2d9d2c(0x619)](),{'update':_0x2d9d2c(0xbf),'data':{'readreceipts':_0x4f0b22[_0x2d9d2c(0x37f)]['readreceipts'],'profile':_0x4f0b22['privacySettings'][_0x2d9d2c(0x555)],'status':_0x4f0b22['privacySettings'][_0x2d9d2c(0x353)],'online':_0x4f0b22[_0x2d9d2c(0x37f)][_0x2d9d2c(0x560)],'last':_0x4f0b22[_0x2d9d2c(0x37f)][_0x2d9d2c(0x4aa)],'groupadd':_0x4f0b22[_0x2d9d2c(0x37f)]['groupadd']}};}catch(_0x95adaf){let _0x10a7b5=_0x2d9d2c(0x661),_0x4da167=_0x95adaf instanceof Error?_0x95adaf[_0x2d9d2c(0x620)]:typeof _0x95adaf==_0x2d9d2c(0x398)?JSON[_0x2d9d2c(0x230)](_0x95adaf):_0x95adaf,_0x48c8ab=_0x10a7b5+':\x20'+_0x4da167;throw this[_0x2d9d2c(0x365)][_0x2d9d2c(0xdb)](this['instanceName']+'\x20('+this['instance'][_0x2d9d2c(0x53a)]+'):\x20'+_0x48c8ab),new m(_0x48c8ab);}}async[a0_0x29ff78(0x68e)](_0x15b31e){const _0xa14e04=a0_0x29ff78;let _0x2851cb=(_0x15b31e?this[_0xa14e04(0x4cd)](_0x15b31e):this[_0xa14e04(0x4c8)]?.[_0xa14e04(0xff)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this['logger'][_0xa14e04(0x3d2)](_0xa14e04(0x394)+_0x2851cb);let _0x2dce59=await this[_0xa14e04(0x479)][_0xa14e04(0x729)]['findOne']({'where':{'_id':_0x2851cb}},this[_0xa14e04(0x2ac)][_0xa14e04(0x53a)]),_0x1a55fa=_0x2dce59?_0x2dce59[_0xa14e04(0xcd)]:null;try{let _0x5283aa=(await this[_0xa14e04(0x516)]({'numbers':[_0x2851cb]}))?.[_0xa14e04(0x10d)](),_0x388486=(await this[_0xa14e04(0xd7)](_0x2851cb,null,!0x1))[_0xa14e04(0xe3)][_0xa14e04(0x646)],_0x25a5ec=await this[_0xa14e04(0x350)](_0x5283aa?.[_0xa14e04(0x60c)]),_0x283b05=await this[_0xa14e04(0x4d8)](_0x5283aa?.[_0xa14e04(0x60c)]),_0x4dd9e5=(await this['findAndUpdateCacheContact'](_0x2851cb,null,!0x1))['cachedContact']['name'],_0x335535=await this[_0xa14e04(0x479)][_0xa14e04(0x77e)]['findOne']({'where':{'_id':_0x2851cb}},this['instance'][_0xa14e04(0x53a)]),_0x50b291={'imagechat':_0x388486,'contactname':_0x1a55fa||null,'pushName':_0x4dd9e5,'status':_0x25a5ec?.[_0xa14e04(0x353)],'isBusiness':_0x283b05[_0xa14e04(0x493)],'email':_0x283b05?.[_0xa14e04(0x2d5)],'description':_0x283b05?.['description'],'website':_0x283b05?.['website']?.['shift'](),'lastcache':Date['now'](),'imported':!_0x335535},_0xec0024=await this[_0xa14e04(0x479)][_0xa14e04(0x77e)][_0xa14e04(0x1bc)]({'where':{'_id':_0x2851cb}},_0x50b291,this[_0xa14e04(0x2ac)][_0xa14e04(0x53a)]),_0x24888c={'owner':this[_0xa14e04(0x2ac)]['wuid'],'_id':_0x2851cb,'profilePictureUrl':_0x388486,'status':_0x25a5ec?.[_0xa14e04(0x353)]};return this[_0xa14e04(0x479)][_0xa14e04(0x729)][_0xa14e04(0x6e6)]([_0x24888c],this[_0xa14e04(0x2ac)][_0xa14e04(0x53a)]),_0xec0024&&F(this[_0xa14e04(0x247)],_0xa14e04(0x4ef),{'chat':_0xec0024}),{'wuid':_0x5283aa?.[_0xa14e04(0x60c)]||_0x2851cb,'name':_0x5283aa?.[_0xa14e04(0x177)],'pushName':_0x4dd9e5,'numberExists':_0x5283aa?.[_0xa14e04(0x3f6)],'picture':_0x388486,'status':_0x25a5ec?.[_0xa14e04(0x353)],'isBusiness':_0x283b05[_0xa14e04(0x493)],'email':_0x283b05?.['email'],'description':_0x283b05?.[_0xa14e04(0x3a0)],'website':_0x283b05?.['website']?.[_0xa14e04(0x10d)]()};}catch(_0x574ce1){return this[_0xa14e04(0x365)][_0xa14e04(0xdb)]('Error\x20fetching\x20and\x20updating\x20profile:\x20'+(_0x574ce1 instanceof Error?_0x574ce1[_0xa14e04(0x620)]:JSON['stringify'](_0x574ce1,null,0x2))),{};}}async[a0_0x29ff78(0x4d8)](_0x380210){const _0x27b10b=a0_0x29ff78;this[_0x27b10b(0x365)][_0x27b10b(0x3d2)](_0x27b10b(0xc8));try{let _0x57777f=_0x380210?this['createJid'](_0x380210):this[_0x27b10b(0x2ac)][_0x27b10b(0x53a)],_0xc77e3a=await this[_0x27b10b(0x4c8)][_0x27b10b(0x44c)](_0x57777f);return this[_0x27b10b(0x365)][_0x27b10b(0x3d2)](_0x27b10b(0x70b)),_0xc77e3a?(this[_0x27b10b(0x365)][_0x27b10b(0x3d2)](_0x27b10b(0x28c)),{'isBusiness':!0x0,..._0xc77e3a}):{'isBusiness':!0x1,'message':_0x27b10b(0x4a6),...(await this[_0x27b10b(0x516)]({'numbers':[_0x57777f]}))?.[_0x27b10b(0x10d)]()};}catch(_0x1f5dd9){let _0x229ae4=_0x27b10b(0x121),_0x238111=_0x1f5dd9 instanceof Error?_0x1f5dd9[_0x27b10b(0x620)]:typeof _0x1f5dd9==_0x27b10b(0x398)?JSON[_0x27b10b(0x230)](_0x1f5dd9):_0x1f5dd9,_0x45b477=_0x229ae4+':\x20'+_0x238111;throw this[_0x27b10b(0x365)][_0x27b10b(0xdb)](this[_0x27b10b(0x247)]+'\x20('+this[_0x27b10b(0x2ac)][_0x27b10b(0x53a)]+_0x27b10b(0x470)+_0x45b477),new I(_0x45b477);}}async[a0_0x29ff78(0x350)](_0x599521){const _0x135a4a=a0_0x29ff78;let _0x14062a=this[_0x135a4a(0x4cd)](_0x599521);try{return{'wuid':_0x14062a,'status':(await this[_0x135a4a(0x4c8)][_0x135a4a(0x17b)](_0x14062a))?.['status']};}catch{return{'wuid':_0x14062a,'status':null};}}async[a0_0x29ff78(0x63d)](_0xda118e){const _0x238d6b=a0_0x29ff78;try{return await this[_0x238d6b(0x4c8)][_0x238d6b(0x63d)](_0xda118e),{'update':_0x238d6b(0xbf)};}catch(_0x3a7caf){let _0x3466e3=_0x238d6b(0x2d2),_0x478a2a=_0x3a7caf instanceof Error?_0x3a7caf[_0x238d6b(0x620)]:typeof _0x3a7caf==_0x238d6b(0x398)?JSON[_0x238d6b(0x230)](_0x3a7caf):_0x3a7caf,_0x4573f0=_0x3466e3+':\x20'+_0x478a2a;throw this[_0x238d6b(0x365)]['error'](this[_0x238d6b(0x247)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x4573f0),new I(_0x4573f0);}}async[a0_0x29ff78(0x70a)](_0x3f339c){const _0x1096df=a0_0x29ff78;try{return await this['client'][_0x1096df(0x70a)](_0x3f339c),{'update':_0x1096df(0xbf)};}catch(_0x5fbbdf){let _0x4ff40c=_0x1096df(0x73b),_0x3bc5fa=_0x5fbbdf instanceof Error?_0x5fbbdf[_0x1096df(0x620)]:typeof _0x5fbbdf==_0x1096df(0x398)?JSON['stringify'](_0x5fbbdf):_0x5fbbdf,_0x42f92a=_0x4ff40c+':\x20'+_0x3bc5fa;throw this['logger'][_0x1096df(0xdb)](this['instanceName']+'\x20('+this[_0x1096df(0x2ac)][_0x1096df(0x53a)]+_0x1096df(0x470)+_0x42f92a),new I(_0x42f92a);}}async['updateProfilePicture'](_0x552c2d){const _0x1b8938=a0_0x29ff78;try{let _0x371851;if((0x0,P[_0x1b8938(0x5e9)])(_0x552c2d)){let _0x293125=new Date()[_0x1b8938(0x1f3)](),_0x4d6ed7=_0x552c2d+_0x1b8938(0x2ef)+_0x293125;_0x371851=(await Q[_0x1b8938(0x152)][_0x1b8938(0x6b4)](_0x4d6ed7,{'responseType':_0x1b8938(0x701)}))[_0x1b8938(0x1bb)];}else{if((0x0,P[_0x1b8938(0xfb)])(_0x552c2d))_0x371851=Buffer[_0x1b8938(0xde)](_0x552c2d,_0x1b8938(0x25c));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this['client'][_0x1b8938(0x1c2)](this[_0x1b8938(0x2ac)]['wuid'],_0x371851),{'update':_0x1b8938(0xbf)};}catch(_0x11a7e1){let _0x577c12=_0x1b8938(0x7aa),_0x375d75=_0x11a7e1 instanceof Error?_0x11a7e1[_0x1b8938(0x620)]:typeof _0x11a7e1==_0x1b8938(0x398)?JSON[_0x1b8938(0x230)](_0x11a7e1):_0x11a7e1,_0x7d7fe2=_0x577c12+':\x20'+_0x375d75;throw this['logger'][_0x1b8938(0xdb)](this[_0x1b8938(0x247)]+'\x20('+this[_0x1b8938(0x2ac)][_0x1b8938(0x53a)]+'):\x20'+_0x7d7fe2),new I(_0x7d7fe2);}}async[a0_0x29ff78(0x196)](){const _0x394a0b=a0_0x29ff78;try{return await this['client']['removeProfilePicture'](this[_0x394a0b(0x2ac)]['wuid']),{'update':_0x394a0b(0xbf)};}catch(_0xffae8c){let _0xa76a6c=_0x394a0b(0x13a),_0x5d18e3=_0xffae8c instanceof Error?_0xffae8c[_0x394a0b(0x620)]:typeof _0xffae8c==_0x394a0b(0x398)?JSON[_0x394a0b(0x230)](_0xffae8c):_0xffae8c,_0x1b276f=_0xa76a6c+':\x20'+_0x5d18e3;throw this[_0x394a0b(0x365)]['error'](this[_0x394a0b(0x247)]+'\x20('+this[_0x394a0b(0x2ac)][_0x394a0b(0x53a)]+'):\x20'+_0x1b276f),new I(_0x1b276f);}}async[a0_0x29ff78(0x343)](_0x4790a0){const _0x13a88c=a0_0x29ff78;try{let _0x406e67=(await this[_0x13a88c(0x516)]({'numbers':_0x4790a0[_0x13a88c(0x523)]}))[_0x13a88c(0x368)](_0x283cba=>_0x283cba[_0x13a88c(0x3f6)])[_0x13a88c(0x174)](_0x18c8e4=>_0x18c8e4[_0x13a88c(0x60c)]),{id:_0x5a0c02}=await this[_0x13a88c(0x4c8)][_0x13a88c(0x6a8)](_0x4790a0[_0x13a88c(0xf0)],_0x406e67);_0x4790a0?.[_0x13a88c(0x3a0)]&&await this[_0x13a88c(0x4c8)][_0x13a88c(0x7c5)](_0x5a0c02,_0x4790a0[_0x13a88c(0x3a0)]);let _0x1002cb=await this[_0x13a88c(0x4c8)][_0x13a88c(0x373)](_0x5a0c02);return _0x1002cb[_0x13a88c(0x535)]=[],{'metadata':_0x1002cb};}catch(_0x2a7e2c){let _0x38e3a6='Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup',_0x291346=_0x2a7e2c instanceof Error?_0x2a7e2c['message']:typeof _0x2a7e2c==_0x13a88c(0x398)?JSON[_0x13a88c(0x230)](_0x2a7e2c):_0x2a7e2c,_0x50261d=_0x38e3a6+':\x20'+_0x291346;throw this[_0x13a88c(0x365)][_0x13a88c(0xdb)](this['instanceName']+'\x20('+this[_0x13a88c(0x2ac)][_0x13a88c(0x53a)]+_0x13a88c(0x470)+_0x50261d),new I(_0x50261d);}}async[a0_0x29ff78(0x773)](_0x1c2e58){const _0x3bae33=a0_0x29ff78;try{if(_0x1c2e58['restrict']===!0x0&&await this[_0x3bae33(0x4c8)][_0x3bae33(0x3e4)](_0x1c2e58[_0x3bae33(0x1e6)],_0x3bae33(0x5a8)),_0x1c2e58['restrict']===!0x1&&await this['client']['groupSettingUpdate'](_0x1c2e58[_0x3bae33(0x1e6)],_0x3bae33(0x5a2)),_0x1c2e58[_0x3bae33(0x571)]===!0x0&&await this['client'][_0x3bae33(0x3e4)](_0x1c2e58['groupJid'],_0x3bae33(0x631)),_0x1c2e58['announce']===!0x1&&await this[_0x3bae33(0x4c8)][_0x3bae33(0x3e4)](_0x1c2e58[_0x3bae33(0x1e6)],_0x3bae33(0x5d1)),_0x1c2e58[_0x3bae33(0x33a)]===!0x0&&await this[_0x3bae33(0x4c8)][_0x3bae33(0x3c9)](_0x1c2e58[_0x3bae33(0x1e6)],'all_member_add'),_0x1c2e58[_0x3bae33(0x33a)]===!0x1&&await this[_0x3bae33(0x4c8)]['groupMemberAddMode'](_0x1c2e58[_0x3bae33(0x1e6)],'admin_add'),_0x1c2e58[_0x3bae33(0x1ae)]===!0x0&&await this['client'][_0x3bae33(0x671)](_0x1c2e58['groupJid'],'on'),_0x1c2e58[_0x3bae33(0x1ae)]===!0x1&&await this['client']['groupJoinApprovalMode'](_0x1c2e58[_0x3bae33(0x1e6)],_0x3bae33(0x654)),typeof _0x1c2e58[_0x3bae33(0x159)]<'u'&&_0x1c2e58[_0x3bae33(0x159)]!==null&&await this[_0x3bae33(0x4c8)][_0x3bae33(0x1b8)](_0x1c2e58[_0x3bae33(0x1e6)],_0x1c2e58[_0x3bae33(0x159)]),_0x1c2e58[_0x3bae33(0x177)]&&await this[_0x3bae33(0x4c8)]['groupUpdateSubject'](_0x1c2e58[_0x3bae33(0x1e6)],_0x1c2e58[_0x3bae33(0x177)]),_0x1c2e58['description']&&await this[_0x3bae33(0x4c8)][_0x3bae33(0x7c5)](_0x1c2e58[_0x3bae33(0x1e6)],_0x1c2e58[_0x3bae33(0x3a0)]),_0x1c2e58[_0x3bae33(0x6f7)]){let _0x3f9f54;if((0x0,P[_0x3bae33(0x5e9)])(_0x1c2e58[_0x3bae33(0x6f7)])){let _0x1e4186=new Date()[_0x3bae33(0x1f3)](),_0x251055=_0x1c2e58['image']+_0x3bae33(0x2ef)+_0x1e4186;_0x3f9f54=(await Q[_0x3bae33(0x152)]['get'](_0x251055,{'responseType':_0x3bae33(0x701)}))[_0x3bae33(0x1bb)];}else{if((0x0,P['isBase64'])(_0x1c2e58[_0x3bae33(0x6f7)]))_0x3f9f54=Buffer[_0x3bae33(0xde)](_0x1c2e58['image'],_0x3bae33(0x25c));else throw new m(_0x3bae33(0x2a6));}await this[_0x3bae33(0x4c8)][_0x3bae33(0x1c2)](_0x1c2e58[_0x3bae33(0x1e6)],_0x3f9f54);}return await this[_0x3bae33(0x1df)]({'groupJid':_0x1c2e58[_0x3bae33(0x1e6)]});}catch(_0x41aa5a){let _0x5c8e11=_0x3bae33(0x131),_0x4d0723=_0x41aa5a instanceof Error?_0x41aa5a['message']:typeof _0x41aa5a==_0x3bae33(0x398)?JSON[_0x3bae33(0x230)](_0x41aa5a):_0x41aa5a,_0x47720=_0x5c8e11+':\x20'+_0x4d0723;throw this['logger']['error'](this[_0x3bae33(0x247)]+'\x20('+this[_0x3bae33(0x2ac)][_0x3bae33(0x53a)]+_0x3bae33(0x470)+_0x47720),new I(_0x47720);}}async[a0_0x29ff78(0x362)](_0x2b28ea){const _0x448636=a0_0x29ff78;try{if(_0x2b28ea['action']==='approve'||_0x2b28ea[_0x448636(0x538)]===_0x448636(0x15b)){let _0x3b0237=_0x2b28ea['participants']['map'](_0x3ee00c=>this[_0x448636(0x4cd)](_0x3ee00c));await this[_0x448636(0x4c8)][_0x448636(0x317)](_0x2b28ea['groupJid'],_0x3b0237,_0x2b28ea[_0x448636(0x538)]);}else{if(_0x2b28ea[_0x448636(0x538)]==='add'){let _0x2d64fa=(await this['whatsappNumber']({'numbers':_0x2b28ea['participants']}))[_0x448636(0x368)](_0x6a1995=>_0x6a1995[_0x448636(0x3f6)])['map'](_0x5979dd=>this[_0x448636(0x4cd)](_0x5979dd['jid']));if(_0x2d64fa['length']===0x0)throw new m('Nenhum\x20participante\x20válido\x20encontrado.');await this[_0x448636(0x4c8)][_0x448636(0x2ec)](_0x2b28ea[_0x448636(0x1e6)],_0x2d64fa,_0x448636(0x239));}else{let _0x9340b8=_0x2b28ea[_0x448636(0x523)]['map'](_0x2736b8=>this[_0x448636(0x4cd)](_0x2736b8));await this['client']['groupParticipantsUpdate'](_0x2b28ea[_0x448636(0x1e6)],_0x9340b8,_0x2b28ea[_0x448636(0x538)]);}}return await this['findGroup']({'groupJid':_0x2b28ea['groupJid']});}catch(_0x3600ee){let _0x37844a=_0x448636(0x25d),_0x548d8d=_0x3600ee instanceof Error?_0x3600ee[_0x448636(0x620)]:typeof _0x3600ee==_0x448636(0x398)?JSON[_0x448636(0x230)](_0x3600ee):_0x3600ee,_0x7ccd60=_0x37844a+':\x20'+_0x548d8d;throw this[_0x448636(0x365)]['error'](this[_0x448636(0x247)]+'\x20('+this[_0x448636(0x2ac)][_0x448636(0x53a)]+'):\x20'+_0x7ccd60),new m(_0x7ccd60);}}async[a0_0x29ff78(0x68c)](_0x5e07ef){const _0x39bcf3=a0_0x29ff78;try{return await this['client']['groupGetInviteInfo'](_0x5e07ef[_0x39bcf3(0x393)]);}catch(_0x4ef8b6){let _0x1c1173=_0x39bcf3(0x53b),_0x3c5ba3=_0x4ef8b6 instanceof Error?_0x4ef8b6[_0x39bcf3(0x620)]:typeof _0x4ef8b6==_0x39bcf3(0x398)?JSON[_0x39bcf3(0x230)](_0x4ef8b6):_0x4ef8b6,_0x480ce5=_0x1c1173+':\x20'+_0x3c5ba3;throw this['logger']['error'](this[_0x39bcf3(0x247)]+'\x20('+this['instance']['wuid']+_0x39bcf3(0x470)+_0x480ce5),new m(_0x480ce5);}}async[a0_0x29ff78(0x1df)](_0x28142f,_0x500980='out'){const _0x4fa2e9=a0_0x29ff78;try{let _0x569e14=await this[_0x4fa2e9(0x479)]['chat']['findOne']({'where':{'_id':_0x28142f['groupJid']}},this['instance'][_0x4fa2e9(0x53a)]),_0x44b894=_0x569e14?_0x569e14['groupdata']:null,_0x33f778=0x18*0x3c*0x3c*0x3e8;if(!_0x44b894||_0x44b894[_0x4fa2e9(0x301)]&&Date[_0x4fa2e9(0x455)]()-_0x44b894[_0x4fa2e9(0x301)]>_0x33f778){let _0x366c10=await this[_0x4fa2e9(0x4c8)][_0x4fa2e9(0x373)](_0x28142f[_0x4fa2e9(0x1e6)]);if(_0x366c10[_0x4fa2e9(0x236)]=_0x366c10?.['subjectTime']&&_0x366c10[_0x4fa2e9(0x236)]['toString']()['length']<0xd?_0x366c10?.[_0x4fa2e9(0x236)]*0x3e8:_0x366c10?.[_0x4fa2e9(0x236)]||null,_0x366c10['creation']=_0x366c10?.[_0x4fa2e9(0x341)]&&_0x366c10[_0x4fa2e9(0x341)][_0x4fa2e9(0x675)]()[_0x4fa2e9(0x78c)]<0xd?_0x366c10?.[_0x4fa2e9(0x341)]*0x3e8:_0x366c10?.[_0x4fa2e9(0x341)]||null,_0x44b894={..._0x366c10,'lastUpdate':Date[_0x4fa2e9(0x455)]()},!_0x366c10)return;}let _0x6a8542=_0x44b894[_0x4fa2e9(0x523)][_0x4fa2e9(0x602)](_0x12e2ce=>_0x12e2ce['id']===this['instance']['wuid']+_0x4fa2e9(0x766)&&_0x12e2ce[_0x4fa2e9(0x6e0)]!=null);!_0x44b894[_0x4fa2e9(0x393)]&&_0x6a8542&&(_0x44b894[_0x4fa2e9(0x393)]=(await this[_0x4fa2e9(0x393)](_0x28142f,!0x1))[_0x4fa2e9(0x7b9)]);let _0x252b70=(!_0x44b894[_0x4fa2e9(0x571)]||_0x6a8542)&&(!_0x44b894[_0x4fa2e9(0x783)]||_0x44b894[_0x4fa2e9(0x783)]&&_0x44b894[_0x4fa2e9(0x12a)]&&_0x6a8542);_0x44b894[_0x4fa2e9(0x664)]=_0x6a8542,_0x44b894[_0x4fa2e9(0x166)]=_0x252b70;let _0x5666b8=[];if(_0x6a8542&&_0x44b894[_0x4fa2e9(0x1ae)])try{_0x5666b8=await this['client'][_0x4fa2e9(0x23a)](_0x28142f[_0x4fa2e9(0x1e6)]),_0x44b894[_0x4fa2e9(0xc6)]=Date[_0x4fa2e9(0x455)]();}catch(_0x7a9c81){this[_0x4fa2e9(0x365)][_0x4fa2e9(0x3d2)](this['instanceName']+'\x20('+this[_0x4fa2e9(0x2ac)][_0x4fa2e9(0x53a)]+_0x4fa2e9(0x3db)+_0x28142f[_0x4fa2e9(0x1e6)]+':\x20'+(_0x7a9c81 instanceof Error?_0x7a9c81[_0x4fa2e9(0x620)]:JSON['stringify'](_0x7a9c81,null,0x2)));}try{_0x44b894['image']=(await this[_0x4fa2e9(0xd7)](_0x28142f[_0x4fa2e9(0x1e6)],null,!0x0))['cachedContact'][_0x4fa2e9(0x646)];}catch(_0x3220f8){this[_0x4fa2e9(0x365)]['verbose'](this['instanceName']+'\x20('+this[_0x4fa2e9(0x2ac)][_0x4fa2e9(0x53a)]+_0x4fa2e9(0x260)+_0x28142f['groupJid']+':\x20'+(_0x3220f8 instanceof Error?_0x3220f8[_0x4fa2e9(0x620)]:JSON[_0x4fa2e9(0x230)](_0x3220f8,null,0x2)));}let _0x39b798=_0x44b894[_0x4fa2e9(0x523)]['map'](_0x5374af=>_0x5374af['id']),_0x51f1a7=_0x5666b8[_0x4fa2e9(0x174)](_0x1663fb=>_0x1663fb[_0x4fa2e9(0x60c)]),_0x5c3266=await this[_0x4fa2e9(0x479)]['cacheContact']['findManyByIds']([..._0x39b798,..._0x51f1a7]);_0x44b894[_0x4fa2e9(0x523)]=_0x44b894[_0x4fa2e9(0x523)][_0x4fa2e9(0x174)](_0xe79a16=>{const _0x6d727d=_0x4fa2e9;let _0x136496=_0x5c3266[_0x6d727d(0x7a5)](_0x1c8231=>_0x1c8231['_id']===_0xe79a16['id']);return{'id':_0xe79a16['id'],'isAdmin':['admin',_0x6d727d(0xc9)][_0x6d727d(0x35d)](_0xe79a16['admin']),'admin':_0xe79a16[_0x6d727d(0x6e0)],'pushName':_0x136496?.[_0x6d727d(0x177)],'profilePictureUrl':_0x136496?.[_0x6d727d(0x646)]};}),_0x44b894[_0x4fa2e9(0x535)]=_0x5666b8[_0x4fa2e9(0x174)](_0x35eb48=>{const _0x56e2a8=_0x4fa2e9;let _0x14a8c4=_0x5c3266[_0x56e2a8(0x7a5)](_0x2987e4=>_0x2987e4[_0x56e2a8(0x5e4)]===_0x35eb48[_0x56e2a8(0x60c)]);return{'id':_0x35eb48[_0x56e2a8(0x60c)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x14a8c4?.['name'],'profilePictureUrl':_0x14a8c4?.[_0x56e2a8(0x646)],'request_method':_0x35eb48[_0x56e2a8(0x250)],'request_time':_0x35eb48['request_time']};});let _0x308234=await this[_0x4fa2e9(0x479)][_0x4fa2e9(0x77e)][_0x4fa2e9(0x1bc)]({'where':{'_id':_0x28142f[_0x4fa2e9(0x1e6)]}},{'imagechat':_0x44b894[_0x4fa2e9(0x6f7)],'name':_0x44b894['subject'],'lastcache':Date[_0x4fa2e9(0x455)](),'groupdata':_0x44b894},this['instance'][_0x4fa2e9(0x53a)]);return F(this[_0x4fa2e9(0x247)],_0x4fa2e9(0x4ef),{'chat':_0x308234}),{'metadata':_0x44b894};}catch(_0x2c568e){if(_0x500980==='inner')return;throw new U(_0x4fa2e9(0x474),_0x2c568e[_0x4fa2e9(0x620)]['toString']());}}async[a0_0x29ff78(0x5b7)](){const _0x53d6c6=a0_0x29ff78;try{let _0x3382c4=[],_0x564756=await this[_0x53d6c6(0x4c8)]['groupFetchAllParticipating'](),_0x24c4b4=Object[_0x53d6c6(0x4ae)](_0x564756),_0x34c501=_0x24c4b4[_0x53d6c6(0x368)](_0x569e26=>(0x0,f[_0x53d6c6(0x504)])(_0x569e26?.['id']))['map'](async _0x2452e5=>{const _0x44b599=_0x53d6c6;try{return await this[_0x44b599(0x4c8)][_0x44b599(0x707)](_0x2452e5['id'],_0x44b599(0xc1));}catch(_0x3b10be){return this[_0x44b599(0x365)][_0x44b599(0x3d2)](this[_0x44b599(0x247)]+'\x20('+this[_0x44b599(0x2ac)][_0x44b599(0x53a)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x2452e5['id']+':\x20'+(_0x3b10be instanceof Error?_0x3b10be['message']:JSON['stringify'](_0x3b10be,null,0x2))),null;}}),_0x1ab30c=await Promise['all'](_0x34c501);for(let _0x1a65b4=0x0;_0x1a65b4<_0x24c4b4[_0x53d6c6(0x78c)];_0x1a65b4++){let _0x29a0c8=_0x24c4b4[_0x1a65b4];(0x0,f['isJidGroup'])(_0x29a0c8?.['id'])&&(_0x3382c4[_0x53d6c6(0x41b)]({'groupJid':_0x29a0c8?.['id'],'subject':_0x29a0c8?.[_0x53d6c6(0xf0)],'subjectOwner':_0x29a0c8?.[_0x53d6c6(0x5f2)]?.[_0x53d6c6(0x599)]('@')[0x0],'subjectTime':_0x29a0c8?.[_0x53d6c6(0x236)],'creation':_0x29a0c8?.['creation'],'size':_0x29a0c8?.[_0x53d6c6(0x523)]?.[_0x53d6c6(0x78c)],'owner':_0x29a0c8?.['owner']?.[_0x53d6c6(0x599)]('@')[0x0],'desc':_0x29a0c8?.[_0x53d6c6(0x39a)],'restrict':_0x29a0c8?.['restrict'],'announce':_0x29a0c8?.[_0x53d6c6(0x571)],'image':_0x1ab30c[_0x1a65b4],'isCommunity':_0x29a0c8?.[_0x53d6c6(0x783)],'joinApprovalMode':_0x29a0c8?.[_0x53d6c6(0x1ae)],'memberCanAddParticipant':_0x29a0c8?.[_0x53d6c6(0x33a)],'participants':_0x29a0c8?.['participants'],'descOwner':_0x29a0c8?.[_0x53d6c6(0xb6)],'descId':_0x29a0c8?.[_0x53d6c6(0x15f)],'memberAddMode':_0x29a0c8?.['memberAddMode'],'isCommunityAnnounce':_0x29a0c8?.[_0x53d6c6(0x12a)],'ephemeralDuration':_0x29a0c8?.[_0x53d6c6(0x2e0)]||0x0,'author':_0x29a0c8?.['author']}),this[_0x53d6c6(0x409)](_0x24c4b4[_0x1a65b4]));}return _0x3382c4;}catch(_0x44df24){let _0x4ed533=_0x53d6c6(0x12e),_0x3073a9=_0x44df24 instanceof Error?_0x44df24[_0x53d6c6(0x620)]:typeof _0x44df24==_0x53d6c6(0x398)?JSON[_0x53d6c6(0x230)](_0x44df24):_0x44df24,_0x2dc966=_0x4ed533+':\x20'+_0x3073a9;throw this[_0x53d6c6(0x365)][_0x53d6c6(0xdb)](this[_0x53d6c6(0x247)]+'\x20('+this[_0x53d6c6(0x2ac)]['wuid']+'):\x20'+_0x2dc966),new U(_0x2dc966);}}async[a0_0x29ff78(0x409)](_0x330828){const _0x2b1796=a0_0x29ff78;let _0x362c8c=await this[_0x2b1796(0x479)]['chat'][_0x2b1796(0x2d8)]({'where':{'_id':_0x330828['id']}},this[_0x2b1796(0x2ac)][_0x2b1796(0x53a)]);_0x330828[_0x2b1796(0x236)]=_0x330828?.[_0x2b1796(0x236)]&&_0x330828['subjectTime'][_0x2b1796(0x675)]()[_0x2b1796(0x78c)]<0xd?_0x330828?.[_0x2b1796(0x236)]*0x3e8:_0x330828?.[_0x2b1796(0x236)]||null,_0x330828[_0x2b1796(0x341)]=_0x330828?.[_0x2b1796(0x341)]&&_0x330828[_0x2b1796(0x341)][_0x2b1796(0x675)]()[_0x2b1796(0x78c)]<0xd?_0x330828?.[_0x2b1796(0x341)]*0x3e8:_0x330828?.['creation']||null;let _0x1fd21e=_0x362c8c?.[_0x2b1796(0x58b)]?.['awaitingApproval']||[],_0x561f81=_0x362c8c?.[_0x2b1796(0x58b)]?.[_0x2b1796(0xc6)],_0x41848c=_0x330828['participants'][_0x2b1796(0x174)](_0x8ebd58=>{const _0x5dac21=_0x2b1796;let _0x38c69c=_0x362c8c?.[_0x5dac21(0x58b)]?.[_0x5dac21(0x523)]['find'](_0x33eaa9=>_0x33eaa9['id']===_0x8ebd58['id']);return{..._0x8ebd58,'isAdmin':['admin',_0x5dac21(0xc9)][_0x5dac21(0x35d)](_0x8ebd58[_0x5dac21(0x6e0)]),'admin':_0x8ebd58['admin'],'name':_0x38c69c?.[_0x5dac21(0x177)]||_0x8ebd58[_0x5dac21(0x177)],'imgUrl':_0x38c69c?.[_0x5dac21(0x7bc)]||_0x8ebd58['imgUrl']};}),_0x47683f=_0x41848c[_0x2b1796(0x602)](_0x3ed0cc=>_0x3ed0cc['id']===this['instance']['wuid']+_0x2b1796(0x766)&&_0x3ed0cc[_0x2b1796(0x664)]),_0x48972f=(!_0x330828[_0x2b1796(0x571)]||_0x47683f)&&(!_0x330828[_0x2b1796(0x783)]||_0x330828['isCommunity']&&_0x330828[_0x2b1796(0x12a)]&&_0x47683f),_0x4781cc={..._0x330828,'participants':_0x41848c,'awaitingApproval':_0x1fd21e,'lastFetchAwaitingApproval':_0x561f81,'isAdmin':_0x47683f,'canSendMessage':_0x48972f,'lastUpdate':Date[_0x2b1796(0x455)]()};await this[_0x2b1796(0x479)]['chat'][_0x2b1796(0x1bc)]({'where':{'_id':_0x330828['id']}},{'name':_0x330828['subject'],'group':!0x0,'groupdata':_0x4781cc,'lastcache':Date['now']()},this[_0x2b1796(0x2ac)]['wuid']),F(this[_0x2b1796(0x247)],_0x2b1796(0x4ef),{'chat':_0x330828});}async['updateGroupWebhook'](_0x431ec8){const _0x517e73=a0_0x29ff78;let _0x22f36a=await this[_0x517e73(0x479)][_0x517e73(0x77e)][_0x517e73(0x2d8)]({'where':{'_id':_0x431ec8['id']}},this[_0x517e73(0x2ac)][_0x517e73(0x53a)]);_0x431ec8[_0x517e73(0x236)]=_0x431ec8?.['subjectTime']&&_0x431ec8[_0x517e73(0x236)][_0x517e73(0x675)]()[_0x517e73(0x78c)]<0xd?_0x431ec8?.[_0x517e73(0x236)]*0x3e8:_0x431ec8?.[_0x517e73(0x236)]||null,_0x431ec8['creation']=_0x431ec8?.[_0x517e73(0x341)]&&_0x431ec8[_0x517e73(0x341)][_0x517e73(0x675)]()[_0x517e73(0x78c)]<0xd?_0x431ec8?.[_0x517e73(0x341)]*0x3e8:_0x431ec8?.[_0x517e73(0x341)]||null,_0x431ec8[_0x517e73(0x393)]&&(_0x431ec8[_0x517e73(0x393)]=_0x517e73(0x5e6)+_0x431ec8[_0x517e73(0x393)]);let _0x26ce83=_0x22f36a?.[_0x517e73(0x58b)]?{..._0x22f36a[_0x517e73(0x58b)]}:{};Object[_0x517e73(0x63f)](_0x431ec8)['forEach'](_0x3592df=>{_0x3592df!=='id'&&(_0x26ce83[_0x3592df]=_0x431ec8[_0x3592df]);});let _0x17d8c2=_0x26ce83[_0x517e73(0x523)]?.[_0x517e73(0x602)](_0x3bbf0b=>_0x3bbf0b['id']===this[_0x517e73(0x2ac)][_0x517e73(0x53a)]+_0x517e73(0x766)&&_0x3bbf0b[_0x517e73(0x664)])||!0x1;_0x26ce83[_0x517e73(0x664)]=_0x17d8c2;let _0x2c890f=(!_0x26ce83[_0x517e73(0x571)]||_0x17d8c2)&&(!_0x26ce83['isCommunity']||_0x26ce83[_0x517e73(0x783)]&&_0x26ce83['isCommunityAnnounce']&&_0x17d8c2);_0x26ce83[_0x517e73(0x166)]=_0x2c890f;let _0x874a2={'group':!0x0,'groupdata':_0x26ce83};_0x431ec8[_0x517e73(0xf0)]&&(_0x874a2[_0x517e73(0x177)]=_0x431ec8[_0x517e73(0xf0)]),await this[_0x517e73(0x479)][_0x517e73(0x77e)][_0x517e73(0x1bc)]({'where':{'_id':_0x431ec8['id']}},_0x874a2,this[_0x517e73(0x2ac)][_0x517e73(0x53a)],{'upsert':!0x0}),F(this[_0x517e73(0x247)],_0x517e73(0x4ef),{'chat':_0x874a2});}async['updateGroupParticipantsWebhook'](_0x3f937b){const _0x213d1d=a0_0x29ff78;let _0x2b3dd8=await this[_0x213d1d(0x479)][_0x213d1d(0x77e)]['findOne']({'where':{'_id':_0x3f937b['id']}},this[_0x213d1d(0x2ac)][_0x213d1d(0x53a)]);if(!_0x2b3dd8||!_0x2b3dd8[_0x213d1d(0x58b)]){this['logger'][_0x213d1d(0x7b5)](this['instanceName']+'\x20('+this[_0x213d1d(0x2ac)][_0x213d1d(0x53a)]+_0x213d1d(0x4f9)+_0x3f937b['id']);return;}let _0x216616=await this[_0x213d1d(0x479)]['cacheContact'][_0x213d1d(0x16c)](_0x3f937b['participants']),_0x542b03=[..._0x2b3dd8[_0x213d1d(0x58b)]?.[_0x213d1d(0x523)]];switch(_0x3f937b['action']){case'add':let _0x3dba04=_0x216616[_0x213d1d(0x174)](_0x284844=>({'id':_0x284844[_0x213d1d(0x5e4)],'isAdmin':!0x1,'name':_0x284844['name'],'imgUrl':_0x284844[_0x213d1d(0x646)]}));_0x542b03=[..._0x542b03,..._0x3dba04];break;case _0x213d1d(0x21f):_0x542b03=_0x542b03['filter'](_0x1c9845=>!_0x3f937b[_0x213d1d(0x523)][_0x213d1d(0x35d)](_0x1c9845['id']));break;case _0x213d1d(0x4a5):case _0x213d1d(0x3c6):_0x542b03=_0x542b03['map'](_0x26e57f=>_0x3f937b['participants'][_0x213d1d(0x35d)](_0x26e57f['id'])?{..._0x26e57f,'isAdmin':_0x3f937b['action']===_0x213d1d(0x4a5)}:_0x26e57f);break;}let _0x2d6cfd=_0x542b03['length'],_0x90d830=_0x542b03[_0x213d1d(0x602)](_0x3712c9=>_0x3712c9['id']===this[_0x213d1d(0x2ac)][_0x213d1d(0x53a)]+_0x213d1d(0x766)),_0x379d46=_0x90d830&&_0x542b03[_0x213d1d(0x602)](_0x500e13=>_0x500e13['id']===this['instance'][_0x213d1d(0x53a)]+_0x213d1d(0x766)&&_0x500e13[_0x213d1d(0x664)]),_0x2ef0ca=_0x90d830&&(!_0x2b3dd8[_0x213d1d(0x58b)][_0x213d1d(0x571)]||_0x379d46)&&(!_0x2b3dd8[_0x213d1d(0x58b)][_0x213d1d(0x783)]||_0x2b3dd8[_0x213d1d(0x58b)][_0x213d1d(0x783)]&&_0x379d46);await this[_0x213d1d(0x479)]['chat'][_0x213d1d(0x1bc)]({'where':{'_id':_0x3f937b['id']}},{'groupdata':{..._0x2b3dd8['groupdata'],'participants':_0x542b03,'size':_0x2d6cfd,'isAdmin':_0x379d46,'canSendMessage':_0x2ef0ca}},this[_0x213d1d(0x2ac)][_0x213d1d(0x53a)]),this[_0x213d1d(0x365)]['info'](this[_0x213d1d(0x247)]+'\x20('+this['instance'][_0x213d1d(0x53a)]+_0x213d1d(0x575)+_0x3f937b['id']+_0x213d1d(0x138)+_0x3f937b[_0x213d1d(0x538)]+_0x213d1d(0x26d)+_0x2d6cfd+_0x213d1d(0x369)+_0x379d46+_0x213d1d(0x50e)+_0x2ef0ca);}async['inviteCode'](_0x23a9a5,_0x33aec9=!0x0){const _0x10d7cd=a0_0x29ff78;try{let _0x29fcd7=await this['client'][_0x10d7cd(0xbb)](_0x23a9a5[_0x10d7cd(0x1e6)]),_0x397029={'groupdata.inviteCode':_0x10d7cd(0x5e6)+_0x29fcd7};if(_0x33aec9){let _0x28412b=await this[_0x10d7cd(0x479)][_0x10d7cd(0x77e)][_0x10d7cd(0x1bc)]({'where':{'_id':_0x23a9a5[_0x10d7cd(0x1e6)]}},_0x397029,this['instance'][_0x10d7cd(0x53a)]);}return{'inviteUrl':_0x10d7cd(0x5e6)+_0x29fcd7,'inviteCode':_0x29fcd7};}catch(_0x148baf){let _0x34f8bf='Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode',_0x431c4c=_0x148baf instanceof Error?_0x148baf['message']:typeof _0x148baf==_0x10d7cd(0x398)?JSON[_0x10d7cd(0x230)](_0x148baf):_0x148baf,_0x121519=_0x34f8bf+':\x20'+_0x431c4c;throw this[_0x10d7cd(0x365)][_0x10d7cd(0xdb)](this[_0x10d7cd(0x247)]+'\x20('+this[_0x10d7cd(0x2ac)][_0x10d7cd(0x53a)]+'):\x20'+_0x121519),new U(_0x121519);}}async[a0_0x29ff78(0x472)](_0x554776){const _0x3249e1=a0_0x29ff78;try{let _0x15c113=await this[_0x3249e1(0x4c8)][_0x3249e1(0x639)](_0x554776['groupJid']);return{'revoked':!0x0,'inviteUrl':_0x3249e1(0x5e6)+_0x15c113,'inviteCode':_0x15c113};}catch(_0x2cfb87){let _0x25968f=_0x3249e1(0x12c),_0x1c55b1=_0x2cfb87 instanceof Error?_0x2cfb87[_0x3249e1(0x620)]:typeof _0x2cfb87==_0x3249e1(0x398)?JSON['stringify'](_0x2cfb87):_0x2cfb87,_0x26c725=_0x25968f+':\x20'+_0x1c55b1;throw this['logger'][_0x3249e1(0xdb)](this['instanceName']+'\x20('+this[_0x3249e1(0x2ac)][_0x3249e1(0x53a)]+'):\x20'+_0x26c725),new U(_0x26c725);}}async['joinGroup'](_0x2a5c11){const _0x3ca472=a0_0x29ff78;try{if((0x0,P[_0x3ca472(0x5e9)])(_0x2a5c11[_0x3ca472(0x393)]))var _0x280ee8=_0x2a5c11[_0x3ca472(0x393)][_0x3ca472(0x599)]('/')[0x3];else var _0x280ee8=_0x2a5c11[_0x3ca472(0x393)];let _0x344919=await this['client'][_0x3ca472(0x1c9)](_0x280ee8);return this['logger'][_0x3ca472(0x3d2)](this['instanceName']+'\x20('+this[_0x3ca472(0x2ac)][_0x3ca472(0x53a)]+'):\x20'+_0x344919),{'join':!0x0,'inviteCode':_0x280ee8,'groupJid':_0x344919};}catch(_0x25ee83){let _0x2fd177=_0x3ca472(0x482),_0x174711=_0x25ee83 instanceof Error?_0x25ee83[_0x3ca472(0x620)]:typeof _0x25ee83==_0x3ca472(0x398)?JSON[_0x3ca472(0x230)](_0x25ee83):_0x25ee83,_0x4ff6ea=_0x2fd177+':\x20'+_0x174711;throw this[_0x3ca472(0x365)][_0x3ca472(0xdb)](this[_0x3ca472(0x247)]+'\x20('+this['instance']['wuid']+_0x3ca472(0x470)+_0x4ff6ea),new U(_0x4ff6ea);}}async['findParticipants'](_0x58c489){const _0x438f74=a0_0x29ff78;try{return{'participants':(await this[_0x438f74(0x479)][_0x438f74(0x77e)][_0x438f74(0x2d8)]({'where':{'_id':_0x58c489[_0x438f74(0x1e6)]}},this[_0x438f74(0x2ac)][_0x438f74(0x53a)]))[_0x438f74(0x58b)][_0x438f74(0x523)]};}catch(_0x59b268){let _0x2d3039=_0x438f74(0x755),_0x128cf8=_0x59b268 instanceof Error?_0x59b268[_0x438f74(0x620)]:typeof _0x59b268==_0x438f74(0x398)?JSON[_0x438f74(0x230)](_0x59b268):_0x59b268,_0x4936fc=_0x2d3039+':\x20'+_0x128cf8;throw this[_0x438f74(0x365)][_0x438f74(0xdb)](this[_0x438f74(0x247)]+'\x20('+this[_0x438f74(0x2ac)][_0x438f74(0x53a)]+_0x438f74(0x470)+_0x4936fc),new U(_0x4936fc);}}async[a0_0x29ff78(0x10c)](_0x5dce82){const _0x46d141=a0_0x29ff78;try{return await this['client'][_0x46d141(0x383)](_0x5dce82[_0x46d141(0x1e6)]),{'groupJid':_0x5dce82[_0x46d141(0x1e6)],'leave':!0x0};}catch(_0x296e7e){let _0x37b4a6=_0x46d141(0x30e),_0x17c112=_0x296e7e instanceof Error?_0x296e7e['message']:typeof _0x296e7e==_0x46d141(0x398)?JSON[_0x46d141(0x230)](_0x296e7e):_0x296e7e,_0x152240=_0x37b4a6+':\x20'+_0x17c112;throw this[_0x46d141(0x365)][_0x46d141(0xdb)](this['instanceName']+'\x20('+this[_0x46d141(0x2ac)][_0x46d141(0x53a)]+'):\x20'+_0x152240),new m(_0x152240);}}async[a0_0x29ff78(0x55e)](_0x4ceddc){const _0x59d93e=a0_0x29ff78;return await this[_0x59d93e(0x65a)](_0x4ceddc['number'],{'poll':{'name':_0x4ceddc[_0x59d93e(0x55e)]?.[_0x59d93e(0x177)],'selectableCount':_0x4ceddc['pollMessage'][_0x59d93e(0x16d)],'values':_0x4ceddc['pollMessage'][_0x59d93e(0x4ae)]}},_0x4ceddc?.[_0x59d93e(0x438)]);}async[a0_0x29ff78(0x5c0)](_0x362861){const _0x6b8cff=a0_0x29ff78;return await this['sendMessageWithTyping'](_0x362861['number'],{'listMessage':{'title':_0x362861[_0x6b8cff(0x5c0)][_0x6b8cff(0x61b)],'description':_0x362861[_0x6b8cff(0x5c0)][_0x6b8cff(0x3a0)],'buttonText':_0x362861[_0x6b8cff(0x5c0)]?.['buttonText'],'footerText':_0x362861[_0x6b8cff(0x5c0)]?.['footerText'],'sections':_0x362861[_0x6b8cff(0x5c0)][_0x6b8cff(0x29f)],'listType':0x2}},_0x362861?.[_0x6b8cff(0x438)]);}async[a0_0x29ff78(0x432)](_0x3b6e2b){const _0x1dab01=a0_0x29ff78;let _0x262b52;if(_0x3b6e2b[_0x1dab01(0x432)][_0x1dab01(0x14b)]===_0x1dab01(0x6e5)){let _0x363c36=_0x3b6e2b[_0x1dab01(0x432)]['text'][_0x1dab01(0x491)]('\x0a'),_0x5710a2='',_0x3ebce7='';_0x363c36!==-0x1?(_0x5710a2=_0x3b6e2b[_0x1dab01(0x432)]['text'][_0x1dab01(0x704)](0x0,_0x363c36)['trim'](),_0x3ebce7=_0x3b6e2b[_0x1dab01(0x432)]['text'][_0x1dab01(0x704)](_0x363c36+0x1)):_0x3ebce7=_0x3b6e2b[_0x1dab01(0x432)]['text'];let _0x1d462d=_0x3b6e2b['menuMessage'][_0x1dab01(0x55f)]['filter'](_0x496f75=>_0x496f75[_0x1dab01(0xf3)]()!==''),_0x16c765=this['createSectionsFromValues'](_0x1d462d);_0x262b52={'listMessage':{'title':_0x5710a2,'description':_0x3ebce7,'buttonText':_0x3b6e2b['menuMessage'][_0x1dab01(0x79b)]||_0x1dab01(0x624),'footerText':_0x3b6e2b[_0x1dab01(0x432)][_0x1dab01(0x4a2)],'sections':_0x16c765,'listType':0x2}};}else{if(_0x3b6e2b[_0x1dab01(0x432)][_0x1dab01(0x14b)]===_0x1dab01(0x3cc)){let _0x3abcaa=_0x3b6e2b['menuMessage'][_0x1dab01(0x55f)][_0x1dab01(0x368)](_0x489e97=>!(_0x489e97[_0x1dab01(0x25b)]('[')&&_0x489e97[_0x1dab01(0x6d4)](']'))&&_0x489e97[_0x1dab01(0xf3)]()!=='')['map'](_0x29dd1a=>_0x29dd1a[_0x1dab01(0x599)]('\x0a')[0x0]);_0x262b52={'poll':{'name':_0x3b6e2b[_0x1dab01(0x432)]['text'],'selectableCount':_0x3b6e2b['menuMessage'][_0x1dab01(0x16d)]||0x1,'values':_0x3abcaa}};}}return await this['sendMessageWithTyping'](_0x3b6e2b[_0x1dab01(0x772)],_0x262b52,_0x3b6e2b?.[_0x1dab01(0x438)]);}['createSectionsFromValues'](_0x5bf039){const _0x545d44=a0_0x29ff78;let _0x21e7c4=[],_0x48a003={'rows':[]};return _0x5bf039['forEach'](_0x12c8ff=>{const _0x304bfe=a0_0x5d27;if(_0x12c8ff[_0x304bfe(0x25b)]('[')&&_0x12c8ff[_0x304bfe(0x6d4)](']'))_0x48a003[_0x304bfe(0x334)][_0x304bfe(0x78c)]>0x0&&_0x21e7c4[_0x304bfe(0x41b)](_0x48a003),_0x48a003={'title':_0x12c8ff[_0x304bfe(0x4f3)](0x1,-0x1),'rows':[]};else{let _0x3a46b1=_0x12c8ff[_0x304bfe(0x599)]('\x0a')[_0x304bfe(0x174)](_0x12da85=>_0x12da85[_0x304bfe(0xf3)]()),_0x2d1800=_0x3a46b1[0x0],_0x5728ee=_0x3a46b1[0x1]||null,_0x35c00f=_0x3a46b1[0x2]||_0x2d1800;_0x48a003[_0x304bfe(0x334)]['push']({'title':_0x2d1800,'description':_0x5728ee,'rowId':_0x35c00f});}}),_0x48a003[_0x545d44(0x334)][_0x545d44(0x78c)]>0x0&&_0x21e7c4[_0x545d44(0x41b)](_0x48a003),_0x21e7c4;}async[a0_0x29ff78(0x2af)](_0x5c2861,_0x3d220a){const _0x5e528e=a0_0x29ff78;if(await this['getMessage'](_0x5c2861,!0x0)){let _0x15d11d={'where':{'_id':_0x5c2861['id']}},_0x53661b={'status':[_0x3d220a['status']][0x0]};try{let _0x302f9f=await this[_0x5e528e(0x479)][_0x5e528e(0x620)][_0x5e528e(0x6e6)](_0x15d11d,_0x53661b,this['instance'][_0x5e528e(0x53a)]);_0x302f9f&&F(this['instanceName'],_0x5e528e(0x4ba),{'message':_0x302f9f});}catch{}}}[a0_0x29ff78(0x206)](_0x54fdd2){const _0x13df6f=a0_0x29ff78;let _0x4b700f=[];return _0x54fdd2[_0x13df6f(0x628)](_0x2a337e=>{const _0x460f96=_0x13df6f;_0x2a337e['title']&&_0x4b700f['push']('['+_0x2a337e[_0x460f96(0x61b)]+']'),_0x2a337e['rows']['forEach'](_0x36e52e=>{const _0x4bcd00=_0x460f96;_0x4b700f[_0x4bcd00(0x41b)](_0x36e52e[_0x4bcd00(0x61b)]);});}),_0x4b700f[_0x13df6f(0x46b)]('|');}[a0_0x29ff78(0x11c)](_0x350733){const _0x54fa05=a0_0x29ff78;let _0x338127=_0x350733['replace'](/\\n/g,'\x0a')[_0x54fa05(0x599)]('\x0a')[_0x54fa05(0x368)](_0x16dbe8=>_0x16dbe8['includes'](_0x54fa05(0x418))||_0x16dbe8['includes']('EMAIL')),_0x7e3847='';return _0x338127[_0x54fa05(0x628)](_0x3f3cbb=>{const _0x25fd3e=_0x54fa05;let _0x3399a4=/TEL(?:.*):(.+)/,_0x16f1f3=/EMAIL(?:.*):(.+)/,_0x4c1c16=_0x3f3cbb[_0x25fd3e(0x5dd)](_0x3399a4),_0x53d265=_0x3f3cbb['match'](_0x16f1f3);if(_0x4c1c16){let _0x13271a=_0x4c1c16[0x1][_0x25fd3e(0x3e1)](/-| |\+|\(|\)/g,'')[_0x25fd3e(0xf3)]();_0x7e3847+=_0x25fd3e(0x13e)+_0x13271a+'\x0a';}else{if(_0x53d265){let _0x31908d=_0x53d265[0x1]['trim']();_0x7e3847+=_0x25fd3e(0x118)+_0x31908d+'\x0a';}}}),_0x7e3847['trim']();}async[a0_0x29ff78(0x732)](_0x579b01,_0x4db653,_0x42ac77,_0x6a925d=null){const _0x135071=a0_0x29ff78;if(_0x579b01[_0x135071(0x775)])try{let _0x27020e=_0x4db653['key'][_0x135071(0x5aa)][_0x135071(0x3e1)](/:\d{1,2}@/g,'@'),_0x1c2ae1=_0x4db653[_0x135071(0x60f)]['fromMe'],_0x373232=_0x27020e[_0x135071(0x6d4)](_0x135071(0x6f1)),_0x40c865=_0x4db653[_0x135071(0x210)]?.[_0x135071(0x3e1)](/:\d{1,2}@/g,'@')||'',_0x418e19=_0x4db653[_0x135071(0x54d)]?.[_0x135071(0x33c)]||_0x4db653[_0x135071(0x54d)]?.[_0x135071(0x48f)]||_0x4db653[_0x135071(0x54d)]?.['vote']||_0x4db653['message_normalized']?.[_0x135071(0x177)]||'',_0x1e23fb={'_id':_0x4db653[_0x135071(0x5e4)],'remoteJid':_0x1c2ae1?this[_0x135071(0x2ac)][_0x135071(0x53a)]:_0x373232?_0x40c865:_0x27020e,'pushName':_0x1c2ae1?this[_0x135071(0x2ac)]['profileName']||'Eu':_0x4db653[_0x135071(0xcd)],'text':_0x418e19,'type':_0x4db653[_0x135071(0x683)],'when':_0x4db653['messageTimestamp']||Date[_0x135071(0x455)]()};_0x6a925d||(_0x6a925d=await this[_0x135071(0x479)][_0x135071(0x77e)][_0x135071(0x2d8)]({'where':{'_id':_0x27020e}},this['instance'][_0x135071(0x53a)]));let _0x456339=_0x6a925d?_0x1c2ae1?_0x6a925d[_0x135071(0x4e2)]:(_0x6a925d[_0x135071(0x4e2)]||0x0)+0x1:_0x1c2ae1?0x0:0x1,_0x4b0e75={'lastmsg':_0x4db653[_0x135071(0x22e)]||Date[_0x135071(0x455)](),'ephemeralExpiration':_0x4db653['expiration'],'lastMessage':_0x1e23fb,'unreadcount':_0x456339,..._0x1c2ae1||_0x373232?{}:{'name':_0x4db653[_0x135071(0xcd)]},..._0x373232?{'group':_0x373232}:{},...!_0x1c2ae1&&!_0x373232&&_0x4db653[_0x135071(0x707)]?{'imagechat':_0x4db653['profilePictureUrl']}:{}};if(!_0x373232&&(!_0x6a925d?.[_0x135071(0x25f)]||!_0x6a925d[_0x135071(0x25f)][_0x135071(0x444)])&&_0x4db653['pushName']&&!_0x1c2ae1&&(_0x4b0e75={..._0x4b0e75,'leadInfo.nome':_0x4db653['pushName']}),_0x6a925d?.[_0x135071(0x25f)]['etiquetas']||(_0x4b0e75={..._0x4b0e75,'leadInfo.etiquetas':[]}),_0x6a925d?.[_0x135071(0x25f)][_0x135071(0x10b)]||(_0x4b0e75={..._0x4b0e75,'leadInfo.customFields':[]}),_0x6a925d?.['leadInfo'][_0x135071(0x605)]||(_0x4b0e75={..._0x4b0e75,'leadInfo.tags':[]}),_0x6a925d&&_0x6a925d?.[_0x135071(0x490)]){let _0x156dc0=await this['repository'][_0x135071(0x4a4)][_0x135071(0x7a5)]({'where':{}},this[_0x135071(0x2ac)][_0x135071(0x53a)]),_0x3d1f67=new Set(_0x156dc0[_0x135071(0x174)](_0x35644c=>_0x35644c['_id'])),_0x7655bc=(_0x6a925d[_0x135071(0x25f)]?.[_0x135071(0x2b3)]||[])[_0x135071(0x368)](_0x23d543=>_0x3d1f67['has'](_0x23d543));_0x4b0e75={..._0x4b0e75,'imported':!0x1,'leadInfo.etiquetas':_0x7655bc};for(let _0x16b06b of _0x7655bc)await this[_0x135071(0x4c6)](_0x16b06b,_0x27020e);}if(_0x42ac77==='MESSAGES_UPSERT'&&_0x1c2ae1&&this['AutomateSystem']?.[_0x135071(0x358)][_0x135071(0x3ca)]&&!_0x418e19[_0x135071(0x25b)](this[_0x135071(0x423)]?.[_0x135071(0x358)]['prefixCommand'])){let _0x441918=(this['AutomateSystem']?.[_0x135071(0x358)]['stopWhenYouSendMsg']||0x5)*0xea60,_0x17aff2=Date[_0x135071(0x455)]()+_0x441918;_0x6a925d?.[_0x135071(0x25f)]?.['desativadoFluxoAte']===0x0||(_0x4b0e75={..._0x4b0e75,'leadInfo.desativadoFluxoAte':_0x17aff2},this[_0x135071(0x365)][_0x135071(0x3d2)](this[_0x135071(0x247)]+'\x20('+this[_0x135071(0x2ac)][_0x135071(0x53a)]+_0x135071(0x3f2)+_0x17aff2+'.'));}if(_0x6a925d=await this[_0x135071(0x479)][_0x135071(0x77e)]['updateOne']({'where':{'_id':_0x27020e}},_0x4b0e75,this['instance'][_0x135071(0x53a)],{'new':!0x0,'upsert':!0x0}),_0x6a925d)F(this['instanceName'],'chats',{'chat':_0x6a925d});else{this['logger']['error'](this['instanceName']+'\x20('+this[_0x135071(0x2ac)][_0x135071(0x53a)]+_0x135071(0x23d));return;}if(!this['AutomateSystem']?.[_0x135071(0x358)][_0x135071(0x3ca)])return this[_0x135071(0x365)][_0x135071(0x3d2)](this['instanceName']+'\x20('+this[_0x135071(0x2ac)]['wuid']+'):\x20Flow\x20desativado'),null;if(_0x6a925d['_id']['includes'](_0x135071(0x6f1))&&this[_0x135071(0x423)]?.[_0x135071(0x358)][_0x135071(0x125)]===!0x0)return this['logger']['verbose'](this[_0x135071(0x247)]+'\x20('+this[_0x135071(0x2ac)][_0x135071(0x53a)]+_0x135071(0x1de)),null;if(_0x6a925d['leadInfo']){if(_0x6a925d[_0x135071(0x25f)][_0x135071(0x727)]===0x0||_0x6a925d[_0x135071(0x25f)][_0x135071(0xb9)])return this[_0x135071(0x365)][_0x135071(0x3d2)](this['instanceName']+'\x20('+this['instance'][_0x135071(0x53a)]+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x27020e+_0x135071(0x5c6)),null;if(_0x6a925d[_0x135071(0x25f)][_0x135071(0x727)]>Date[_0x135071(0x455)]()&&!_0x4db653[_0x135071(0x54d)]?.[_0x135071(0x1ed)])return this[_0x135071(0x365)][_0x135071(0x3d2)](this[_0x135071(0x247)]+'\x20('+this['instance'][_0x135071(0x53a)]+_0x135071(0x60a)+new Date(_0x6a925d[_0x135071(0x25f)][_0x135071(0x727)])[_0x135071(0xf6)]()+_0x135071(0x5c6)),null;}this[_0x135071(0x365)]['verbose'](this[_0x135071(0x247)]+'\x20('+this[_0x135071(0x2ac)][_0x135071(0x53a)]+_0x135071(0x4c1)),this[_0x135071(0x340)](_0x42ac77,_0x4db653);}catch(_0x5d4248){let _0x252813=_0x135071(0xef),_0x43263c=_0x5d4248 instanceof Error?_0x5d4248['message']:typeof _0x5d4248==_0x135071(0x398)?JSON[_0x135071(0x230)](_0x5d4248):_0x5d4248,_0x57c211=_0x252813+':\x20'+_0x43263c;return this[_0x135071(0x365)][_0x135071(0xdb)](this[_0x135071(0x247)]+'\x20('+this['instance'][_0x135071(0x53a)]+_0x135071(0x470)+_0x57c211),null;}}async[a0_0x29ff78(0x760)](_0x1ee18b,_0x4c7d27){const _0x29cd66=a0_0x29ff78;if(_0x4c7d27[_0x29cd66(0x775)]){let _0x56c8df=_0x1ee18b['map'](async _0x59451d=>{const _0x3f0996=_0x29cd66;try{let _0x2c9653={'_id':_0x59451d['_id'],'owner':_0x59451d['owner'],'lastcache':0x0};if(Object[_0x3f0996(0x63f)](_0x59451d)[_0x3f0996(0x628)](_0xa6c6fc=>{_0x59451d[_0xa6c6fc]!==null&&(_0x2c9653[_0xa6c6fc]=_0x59451d[_0xa6c6fc]);}),_0x2c9653[_0x3f0996(0x5ac)]===null&&(_0x2c9653[_0x3f0996(0x5ac)]=_0x3f0996(0x49c)),Object[_0x3f0996(0x63f)](_0x2c9653)[_0x3f0996(0x78c)]>0x0)return await this[_0x3f0996(0x479)][_0x3f0996(0x77e)][_0x3f0996(0x1bc)]({'where':{'_id':_0x59451d[_0x3f0996(0x5e4)]}},_0x2c9653,this[_0x3f0996(0x2ac)][_0x3f0996(0x53a)]);}catch(_0x44596a){let _0x30f658=_0x3f0996(0x4f5)+_0x59451d[_0x3f0996(0x5e4)],_0xe9af45=_0x44596a instanceof Error?_0x44596a[_0x3f0996(0x620)]:typeof _0x44596a==_0x3f0996(0x398)?JSON['stringify'](_0x44596a):_0x44596a,_0x5e0d75=_0x30f658+':\x20'+_0xe9af45;return this[_0x3f0996(0x365)][_0x3f0996(0xdb)](this['instanceName']+'\x20('+this[_0x3f0996(0x2ac)][_0x3f0996(0x53a)]+_0x3f0996(0x470)+_0x5e0d75),null;}}),_0x4f896c=(await Promise[_0x29cd66(0x4fb)](_0x56c8df))['filter'](_0x259385=>_0x259385!==null)[_0x29cd66(0x78c)];this[_0x29cd66(0x365)]['verbose'](this[_0x29cd66(0x247)]+'\x20('+this[_0x29cd66(0x2ac)][_0x29cd66(0x53a)]+_0x29cd66(0x470)+_0x4f896c+'\x20chats\x20de\x20'+this[_0x29cd66(0x2ac)][_0x29cd66(0x53a)]+_0x29cd66(0x666));}}async[a0_0x29ff78(0x1c6)](_0x366171){const _0x132557=a0_0x29ff78;this[_0x132557(0x365)][_0x132557(0x3d2)](this[_0x132557(0x247)]+'\x20('+this[_0x132557(0x2ac)][_0x132557(0x53a)]+_0x132557(0x78b));let _0x4252b3={'readMessages':[{'remoteJid':_0x366171['chatLog'][_0x132557(0x2b8)][_0x132557(0x60f)][_0x132557(0x5aa)],'fromMe':_0x366171[_0x132557(0x594)][_0x132557(0x2b8)]['key']['fromMe'],'id':_0x366171[_0x132557(0x594)][_0x132557(0x2b8)][_0x132557(0x60f)]['id']}]};await this[_0x132557(0x6fb)](_0x4252b3);}async['StartBot'](_0xb074d7,_0x339617){const _0x2af0f3=a0_0x29ff78;try{let {key:_0x38ac58,message_normalized:_0x3b03b4}=_0x339617,_0x47efa3=_0x3b03b4,_0x1a3562=_0x3b03b4[_0x2af0f3(0x33c)]||_0x3b03b4['caption']||_0x3b03b4['vote']||_0x3b03b4['name']||'',_0x5b2d3a=_0x38ac58[_0x2af0f3(0x5aa)],_0x42efbf;if(_0x47efa3['key']['fromMe']&&_0x1a3562[_0x2af0f3(0xf3)]()!==this[_0x2af0f3(0x423)]?.[_0x2af0f3(0x358)]['stopConversation'][_0x2af0f3(0xf3)]())return this[_0x2af0f3(0x365)]['verbose'](this[_0x2af0f3(0x247)]+'\x20('+this['instance'][_0x2af0f3(0x53a)]+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.'),null;if(_0x47efa3[_0x2af0f3(0x60f)][_0x2af0f3(0x66b)]&&_0x1a3562[_0x2af0f3(0xf3)]()===this[_0x2af0f3(0x423)]?.[_0x2af0f3(0x358)][_0x2af0f3(0x1e0)][_0x2af0f3(0xf3)]()){this[_0x2af0f3(0x365)][_0x2af0f3(0x3d2)](this[_0x2af0f3(0x247)]+'\x20('+this[_0x2af0f3(0x2ac)][_0x2af0f3(0x53a)]+_0x2af0f3(0x22f));let _0x5e1978=await this[_0x2af0f3(0x479)][_0x2af0f3(0x2bd)]['find']({'remoteJid':_0x5b2d3a,'status':_0x2af0f3(0x7b2)},this[_0x2af0f3(0x2ac)][_0x2af0f3(0x53a)]);this[_0x2af0f3(0x365)]['verbose'](this[_0x2af0f3(0x247)]+'\x20('+this[_0x2af0f3(0x2ac)][_0x2af0f3(0x53a)]+'):\x20Conversas\x20encontradas:'+_0x5e1978);let _0x12d3ee=Date['now'](),_0x2fc9be;return this[_0x2af0f3(0x423)]?.[_0x2af0f3(0x358)][_0x2af0f3(0x61a)]===0x0?_0x2fc9be={'stoppedUntil':_0x12d3ee+0x7591f6200}:_0x2fc9be={'stoppedUntil':_0x12d3ee+this[_0x2af0f3(0x423)]?.['flowConfig'][_0x2af0f3(0x61a)]*0x3c*0x3e8},this[_0x2af0f3(0x365)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2af0f3(0x6b6)+_0x2fc9be),this[_0x2af0f3(0x48a)](_0x42efbf,_0x2fc9be[_0x2af0f3(0x68f)]),null;}if(_0x1a3562&&_0x1a3562[_0x2af0f3(0x25b)](this['AutomateSystem']?.[_0x2af0f3(0x358)][_0x2af0f3(0x770)])&&_0x1a3562[_0x2af0f3(0x78c)]>0x4){let _0x33608e=await this['repository'][_0x2af0f3(0x403)]['findOne']({'where':{'startCommandWord':_0x1a3562}},this[_0x2af0f3(0x2ac)]['wuid']);if(this['logger'][_0x2af0f3(0x3d2)](this[_0x2af0f3(0x247)]+'\x20('+this[_0x2af0f3(0x2ac)][_0x2af0f3(0x53a)]+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x33608e)_0x42efbf=await this[_0x2af0f3(0x33f)](_0x33608e,_0x47efa3[_0x2af0f3(0x60f)],_0x47efa3);else return this[_0x2af0f3(0x365)][_0x2af0f3(0x3d2)](this[_0x2af0f3(0x247)]+'\x20('+this[_0x2af0f3(0x2ac)][_0x2af0f3(0x53a)]+_0x2af0f3(0x74c)),null;}else _0x42efbf=await this[_0x2af0f3(0x5b3)](_0x5b2d3a,_0x47efa3);if(_0x42efbf){this[_0x2af0f3(0x365)][_0x2af0f3(0x3d2)](this[_0x2af0f3(0x247)]+'\x20('+this['instance'][_0x2af0f3(0x53a)]+_0x2af0f3(0x551)),!_0x38ac58['fromMe']&&_0x42efbf['readMessages']&&this[_0x2af0f3(0x1c6)](_0x42efbf);let _0x5ab5db=await this['NextBlock'](_0x42efbf);_0x5ab5db&&await this[_0x2af0f3(0x4bf)](_0x42efbf,_0x5ab5db);}}catch(_0x52bff7){this['logger'][_0x2af0f3(0xdb)](this[_0x2af0f3(0x247)]+'\x20('+this[_0x2af0f3(0x2ac)][_0x2af0f3(0x53a)]+_0x2af0f3(0x524)+(_0x52bff7 instanceof Error?_0x52bff7[_0x2af0f3(0x620)]:JSON[_0x2af0f3(0x230)](_0x52bff7,null,0x2)));}}[a0_0x29ff78(0x297)](_0x2e259d,_0xa6be27='',_0x4faf9c={}){const _0x5b187d=a0_0x29ff78;return typeof _0x2e259d!=_0x5b187d(0x398)||_0x2e259d===null?(_0xa6be27&&(_0x4faf9c[_0xa6be27]=_0x2e259d),_0x4faf9c):(Object['entries'](_0x2e259d)[_0x5b187d(0x628)](([_0x4c9322,_0xc7d0e])=>{const _0x4c9d26=_0x5b187d;let _0x3f88b1=_0xa6be27?_0xa6be27+'.'+_0x4c9322:'_'+_0x4c9322;Array[_0x4c9d26(0x5eb)](_0xc7d0e)?_0xc7d0e[_0x4c9d26(0x628)]((_0x30163e,_0x1163b4)=>{const _0x38d951=_0x4c9d26;this[_0x38d951(0x297)](_0x30163e,_0x3f88b1+'['+_0x1163b4+']',_0x4faf9c);}):typeof _0xc7d0e==_0x4c9d26(0x398)&&_0xc7d0e!==null?this[_0x4c9d26(0x297)](_0xc7d0e,_0x3f88b1,_0x4faf9c):_0x4faf9c[_0x3f88b1]=String(_0xc7d0e);}),_0x4faf9c);}[a0_0x29ff78(0x173)](_0x573979){const _0x3bf1db=a0_0x29ff78;let _0x549351={};for(let _0x15790f of _0x573979)typeof _0x15790f[_0x3bf1db(0x177)]==_0x3bf1db(0x52a)&&typeof _0x15790f[_0x3bf1db(0x306)]==_0x3bf1db(0x52a)&&(_0x549351[_0x15790f[_0x3bf1db(0x177)]]=_0x15790f[_0x3bf1db(0x306)]);return _0x549351;}async[a0_0x29ff78(0x37c)](_0x5d0636){const _0x3ae966=a0_0x29ff78;if(!this[_0x3ae966(0x423)]?.[_0x3ae966(0x358)][_0x3ae966(0x3ca)]||_0x5d0636[_0x3ae966(0x353)]!==_0x3ae966(0x7b2)&&_0x5d0636[_0x3ae966(0x2c9)]==='')return null;let _0x352a47=_0x5d0636[_0x3ae966(0x594)][_0x3ae966(0x6c8)]||_0x3ae966(0x433);typeof _0x5d0636['chatLog'][_0x3ae966(0x285)]>'u'&&(_0x5d0636['chatLog'][_0x3ae966(0x285)]=!0x0);let _0x5a7722=_0x5d0636['chatLog'][_0x3ae966(0x285)];this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x3ae966(0x2ac)][_0x3ae966(0x53a)]+_0x3ae966(0x232)+_0x352a47+',\x20lastCondition:\x20'+_0x5a7722);let _0xed5bf4=_0x352a47===_0x3ae966(0x433)?_0x5d0636[_0x3ae966(0x5f4)][_0x3ae966(0x7a5)](_0x20513=>_0x20513['type']===_0x3ae966(0x433)):_0x5d0636['blocks'][_0x3ae966(0x7a5)](_0x495132=>_0x495132[_0x3ae966(0x5e4)][_0x3ae966(0x675)]()===_0x352a47[_0x3ae966(0x675)]());if(!_0xed5bf4)return this[_0x3ae966(0x365)][_0x3ae966(0xdb)](this['instanceName']+'\x20('+this[_0x3ae966(0x2ac)]['wuid']+_0x3ae966(0x2c5)+_0x352a47),null;let _0x299278={'_pushName':_0x5d0636?.[_0x3ae966(0x594)]?.[_0x3ae966(0x2b8)]?.['pushName']||'',..._0x5d0636[_0x3ae966(0x594)][_0x3ae966(0x489)]},_0x1759b1=null;if(_0x5d0636[_0x3ae966(0x2c9)]){let _0x2262e1=_0x5d0636[_0x3ae966(0x594)][_0x3ae966(0x2b8)][_0x3ae966(0x1ed)],_0x424e2d=_0x5d0636[_0x3ae966(0xf2)]['find'](_0x221c68=>_0x221c68[_0x3ae966(0x559)]===_0x2262e1);if(_0x424e2d){let _0x34d1da=_0x424e2d[_0x3ae966(0x311)];if(_0x1759b1=_0x5d0636[_0x3ae966(0x5f4)][_0x3ae966(0x7a5)](_0x29e846=>_0x29e846[_0x3ae966(0x5c2)]===_0x34d1da&&_0x29e846[_0x3ae966(0x6eb)]===0x1),_0xed5bf4[_0x3ae966(0x626)][_0x3ae966(0x252)]){let _0x358025={'id':_0x5d0636[_0x3ae966(0x2c9)],'remoteJid':_0x5d0636['remoteJid'],'fromMe':!0x0};await this[_0x3ae966(0x10a)](_0x358025);}if(_0xed5bf4[_0x3ae966(0x626)]['pollOnReplyDelete']&&_0xed5bf4['uazapi'][_0x3ae966(0x57a)]&&_0xed5bf4[_0x3ae966(0x626)][_0x3ae966(0x4b3)]===_0x3ae966(0x3cc)){let _0x20aecd={'number':_0x5d0636[_0x3ae966(0x5aa)],'options':{'delay':0x0},'textMessage':{'text':_0x3ae966(0x6bd)+_0x5d0636[_0x3ae966(0x42c)]+_0x3ae966(0x3ab)+_0x2262e1}};await this[_0x3ae966(0x789)](_0x20aecd);}_0x5d0636[_0x3ae966(0x353)]=_0x3ae966(0x7b2),_0x5d0636[_0x3ae966(0x2c9)]='',_0x5d0636['waitingMenu_text']='',_0x5d0636[_0x3ae966(0xf2)]=[];}else{this[_0x3ae966(0x365)][_0x3ae966(0x3d2)](this['instanceName']+'\x20('+this[_0x3ae966(0x2ac)][_0x3ae966(0x53a)]+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x342d95={'activatedCount':_0x5d0636['chatLog'][_0x3ae966(0x510)][_0x3ae966(0x368)](_0x433b33=>String(_0x433b33[_0x3ae966(0x364)])===String(_0x352a47))[_0x3ae966(0x78c)],'moreLogs':[_0x3ae966(0x26b)]};if(_0xed5bf4['uazapi'][_0x3ae966(0x6d9)]){let _0x4f9812={'number':_0x5d0636[_0x3ae966(0x5aa)],'options':{'delay':0x0},'textMessage':{'text':_0xed5bf4[_0x3ae966(0x626)]['pollErrorMessage']}};await this[_0x3ae966(0x789)](_0x4f9812);}if(_0xed5bf4[_0x3ae966(0x421)]!==void 0x0&&_0x342d95[_0x3ae966(0x621)]>=_0xed5bf4[_0x3ae966(0x421)]){let _0x3859a5=Date['now'](),_0x564ee1=_0xed5bf4[_0x3ae966(0x5a3)]??0xa;isNaN(_0x564ee1)&&(_0x564ee1=0xa);let _0x52edb4=_0x3859a5+_0x564ee1*0x3c*0x3e8;_0x342d95[_0x3ae966(0x554)]=_0x52edb4,_0x342d95['moreLogs'][_0x3ae966(0x41b)](_0x3ae966(0x35f)),this[_0x3ae966(0x48a)](_0x5d0636,_0x52edb4),_0x5d0636[_0x3ae966(0x2c9)]='',_0x5d0636['waitingMenu_text']='',_0x5d0636[_0x3ae966(0xf2)]=[];}return this[_0x3ae966(0x6c7)](_0x5d0636,_0xed5bf4,_0x342d95,!0x0),null;}}if(_0x5a7722&&_0xed5bf4['next_groupId']&&!_0x5d0636[_0x3ae966(0x2c9)]){let _0x4dfcaa=_0x5d0636[_0x3ae966(0x5f4)][_0x3ae966(0x368)](_0x1fd8fb=>_0x1fd8fb[_0x3ae966(0x5c2)][_0x3ae966(0x675)]()===_0xed5bf4[_0x3ae966(0x311)][_0x3ae966(0x675)]())[_0x3ae966(0x385)]((_0x70abe2,_0x2922a4)=>_0x70abe2[_0x3ae966(0x6eb)]-_0x2922a4[_0x3ae966(0x6eb)]);_0x4dfcaa[_0x3ae966(0x78c)]>0x0&&(_0x1759b1=_0x4dfcaa[0x0]);}if(!_0x1759b1){let _0x202c63=_0xed5bf4[_0x3ae966(0x5c2)],_0x22c174=_0x5d0636[_0x3ae966(0x5f4)][_0x3ae966(0x368)](_0x294285=>_0x294285[_0x3ae966(0x5c2)]===_0x202c63&&_0x294285['order']>_0xed5bf4[_0x3ae966(0x6eb)])[_0x3ae966(0x385)]((_0x42927b,_0x5d83aa)=>_0x42927b[_0x3ae966(0x6eb)]-_0x5d83aa[_0x3ae966(0x6eb)]);_0x22c174[_0x3ae966(0x78c)]>0x0&&(_0x1759b1=_0x22c174[0x0]);}if(!_0x1759b1)return _0x5d0636[_0x3ae966(0x353)]=_0x3ae966(0x357),null;_0x5d0636[_0x3ae966(0x594)][_0x3ae966(0x489)]=_0x299278;let _0x4594c2=JSON['parse'](JSON[_0x3ae966(0x230)](_0x1759b1));return this[_0x3ae966(0x3d7)](_0x4594c2,_0x5d0636[_0x3ae966(0x594)]['realVariables']),_0x5d0636[_0x3ae966(0x594)][_0x3ae966(0x6c8)]=_0x4594c2[_0x3ae966(0x5e4)],_0x5d0636[_0x3ae966(0x594)][_0x3ae966(0x285)]=!0x0,_0x4594c2;}['replaceVariables'](_0x4bb0f1,_0x4364b3){const _0x5025d9=a0_0x29ff78;return _0x4bb0f1[_0x5025d9(0x3e1)](/\{\{([^}]+)\}\}/g,(_0x11f1a3,_0x2f3657)=>_0x4364b3[_0x2f3657]||'');}[a0_0x29ff78(0x3d7)](_0x4c6727,_0x281956){const _0x466ab5=a0_0x29ff78;for(let _0xefc7b0 in _0x4c6727)typeof _0x4c6727[_0xefc7b0]==_0x466ab5(0x52a)?_0x4c6727[_0xefc7b0]=this[_0x466ab5(0x25a)](_0x4c6727[_0xefc7b0],_0x281956):typeof _0x4c6727[_0xefc7b0]==_0x466ab5(0x398)&&this[_0x466ab5(0x3d7)](_0x4c6727[_0xefc7b0],_0x281956);}async['goNextblock'](_0x3e7c32,_0x1ee685){const _0x3ab7df=a0_0x29ff78;let _0x4b0b33=_0x1ee685['_id'];if(_0x3e7c32[_0x3ab7df(0x594)]&&_0x3e7c32['chatLog'][_0x3ab7df(0x510)]){let _0x40f5e0=_0x3e7c32[_0x3ab7df(0x594)][_0x3ab7df(0x510)][_0x3ab7df(0x368)](_0x8c200b=>String(_0x8c200b[_0x3ab7df(0x364)])===String(_0x4b0b33))[_0x3ab7df(0x26c)]();if(_0x40f5e0&&_0x40f5e0[_0x3ab7df(0xdb)]&&_0x1ee685[_0x3ab7df(0x289)])return _0x3e7c32[_0x3ab7df(0x353)]=_0x3ab7df(0x357),await this['saveConversationToDatabase'](_0x3e7c32),null;}if(_0x1ee685[_0x3ab7df(0x14b)]===_0x3ab7df(0x626)&&_0x1ee685['uazapi'][_0x3ab7df(0x56a)]===_0x3ab7df(0x69f)&&_0x3e7c32[_0x3ab7df(0x2c9)])return _0x3e7c32[_0x3ab7df(0x594)]['lastBlockId']=_0x4b0b33,await this[_0x3ab7df(0x2bf)](_0x3e7c32),null;let _0x410604=await this[_0x3ab7df(0x37c)](_0x3e7c32);if(_0x3e7c32[_0x3ab7df(0x594)]&&_0x3e7c32[_0x3ab7df(0x594)][_0x3ab7df(0x510)]){let _0x2b60c8=_0x3e7c32['chatLog']['blockLogs'][_0x3ab7df(0x368)](_0x27f81b=>String(_0x27f81b['blockId'])===String(_0x4b0b33))[_0x3ab7df(0x78c)];if(_0x1ee685['maxActives']!==void 0x0&&_0x2b60c8>=_0x1ee685['maxActives']){let _0xe9ee4b=Date[_0x3ab7df(0x455)](),_0x437b4e=_0x1ee685['stopMinutesMaxActives']??0xa;isNaN(_0x437b4e)&&(_0x437b4e=0xa);let _0xb9dd5a=_0xe9ee4b+_0x437b4e*0x3c*0x3e8,_0x30138e={'newStoppedUntil':_0xb9dd5a};return this[_0x3ab7df(0x48a)](_0x3e7c32,_0xb9dd5a),this[_0x3ab7df(0x6c7)](_0x3e7c32,_0x1ee685,_0x30138e,!0x0),null;}}_0x410604&&_0x410604['type']!=='save'&&await this[_0x3ab7df(0x4bf)](_0x3e7c32,_0x410604),_0x410604||await this['saveConversationToDatabase'](_0x3e7c32),_0x410604&&_0x410604['type']===_0x3ab7df(0x5bd)&&(_0x3e7c32[_0x3ab7df(0x594)][_0x3ab7df(0x6c8)]=_0x4b0b33,await this['saveConversationToDatabase'](_0x3e7c32));}async[a0_0x29ff78(0x4bf)](_0x1612a1,_0x548201){const _0x3763ef=a0_0x29ff78;try{let _0x38bc44=_0x548201['type'];this[_0x3763ef(0x365)]['verbose'](this['instanceName']+'\x20('+this[_0x3763ef(0x2ac)][_0x3763ef(0x53a)]+_0x3763ef(0x607)+_0x38bc44);let _0x24b4ec={'uazapi':()=>this['processUazapi'](_0x1612a1,_0x548201),'save':()=>this['saveTextReply'](_0x1612a1,_0x548201),'stop':()=>this[_0x3763ef(0x1e0)](_0x1612a1,_0x548201),'condition':()=>this[_0x3763ef(0x5fe)](_0x1612a1,_0x548201),'varedit':()=>this['processvaredits'](_0x1612a1,_0x548201),'apirequest':()=>this[_0x3763ef(0x734)](_0x1612a1,_0x548201),'goToFlow':()=>this[_0x3763ef(0x31a)](_0x1612a1,_0x548201),'scheduleFlow':()=>this['processScheduleFlow'](_0x1612a1,_0x548201),'awaitSeconds':()=>this[_0x3763ef(0x553)](_0x1612a1,_0x548201),'clearVariables':()=>this[_0x3763ef(0x2a2)](_0x1612a1,_0x548201)}[_0x38bc44];_0x24b4ec&&await _0x24b4ec();}catch(_0x4404b0){this[_0x3763ef(0x365)][_0x3763ef(0xdb)](this['instanceName']+'\x20('+this[_0x3763ef(0x2ac)]['wuid']+_0x3763ef(0x39b)+(_0x4404b0 instanceof Error?_0x4404b0['message']:JSON['stringify'](_0x4404b0,null,0x2)));}}async[a0_0x29ff78(0x553)](_0x500b6e,_0x3e31f7){const _0x1cbdfc=a0_0x29ff78;if(this[_0x1cbdfc(0x365)][_0x1cbdfc(0x3d2)](this[_0x1cbdfc(0x247)]+'\x20('+this[_0x1cbdfc(0x2ac)][_0x1cbdfc(0x53a)]+_0x1cbdfc(0x1b0)),!_0x500b6e||!_0x3e31f7)return this[_0x1cbdfc(0x365)][_0x1cbdfc(0xdb)](this['instanceName']+'\x20('+this[_0x1cbdfc(0x2ac)][_0x1cbdfc(0x53a)]+_0x1cbdfc(0x6a5)),null;let _0xa7cfc1=+_0x3e31f7[_0x1cbdfc(0x6a4)];isNaN(_0xa7cfc1)&&(_0xa7cfc1=0x0),_0xa7cfc1=Math[_0x1cbdfc(0x2d6)](_0xa7cfc1,0x3c),await(0x0,f[_0x1cbdfc(0x2f3)])(_0xa7cfc1*0x3e8);let _0x4fce07={'moreLogs':[_0x1cbdfc(0x6ce)+_0xa7cfc1+_0x1cbdfc(0xe1)]};return await this[_0x1cbdfc(0x6c7)](_0x500b6e,_0x3e31f7,_0x4fce07),_0xa7cfc1;}async[a0_0x29ff78(0x2a2)](_0x1b8891,_0x11f78c){const _0x10ec53=a0_0x29ff78;if(this[_0x10ec53(0x365)][_0x10ec53(0x3d2)](this['instanceName']+'\x20('+this[_0x10ec53(0x2ac)][_0x10ec53(0x53a)]+_0x10ec53(0x154)),!_0x1b8891||!_0x11f78c)return this['logger'][_0x10ec53(0xdb)](this[_0x10ec53(0x247)]+'\x20('+this[_0x10ec53(0x2ac)][_0x10ec53(0x53a)]+_0x10ec53(0x6a5)),null;let _0x1f219f=[];if(_0x11f78c[_0x10ec53(0xee)][_0x10ec53(0xf3)]()===_0x10ec53(0x241)){let _0x243c68=[_0x10ec53(0x44e),'_error',_0x10ec53(0x5ec),_0x10ec53(0x1e9),_0x10ec53(0x5e4),_0x10ec53(0x705)];_0x1f219f=Object['keys'](_0x1b8891['chatLog']['realVariables'])['filter'](_0x13d6c9=>_0x13d6c9[_0x10ec53(0x25b)]('_')&&!_0x243c68[_0x10ec53(0x35d)](_0x13d6c9));}else _0x1f219f=_0x11f78c['clearVariables'][_0x10ec53(0x599)]('|')[_0x10ec53(0x174)](_0x5d6501=>(_0x5d6501=_0x5d6501[_0x10ec53(0x3e1)](/[{}]/g,'')[_0x10ec53(0xf3)](),_0x5d6501[_0x10ec53(0x25b)]('_')?_0x5d6501:'_'+_0x5d6501));let _0x197ac9=[];_0x1f219f[_0x10ec53(0x628)](_0x8c93e9=>{const _0x582796=_0x10ec53;_0x8c93e9 in _0x1b8891[_0x582796(0x594)][_0x582796(0x489)]&&(delete _0x1b8891[_0x582796(0x594)][_0x582796(0x489)][_0x8c93e9],_0x197ac9['push'](_0x8c93e9));}),_0x197ac9[_0x10ec53(0x78c)]>0x0?this['logger'][_0x10ec53(0x3d2)](this[_0x10ec53(0x247)]+'\x20('+this[_0x10ec53(0x2ac)][_0x10ec53(0x53a)]+_0x10ec53(0x55b)+_0x197ac9[_0x10ec53(0x46b)](',\x20')):this[_0x10ec53(0x365)]['verbose'](this[_0x10ec53(0x247)]+'\x20('+this['instance'][_0x10ec53(0x53a)]+_0x10ec53(0x506));let _0x36c517={'moreLogs':[_0x10ec53(0x691)+_0x197ac9[_0x10ec53(0x46b)](',\x20')]};return await this[_0x10ec53(0x6c7)](_0x1b8891,_0x11f78c,_0x36c517),null;}async[a0_0x29ff78(0xbe)](_0x1857ca,_0x2068c4){const _0x86ffb9=a0_0x29ff78;if(this['logger'][_0x86ffb9(0x3d2)](this[_0x86ffb9(0x247)]+'\x20('+this[_0x86ffb9(0x2ac)][_0x86ffb9(0x53a)]+'):\x20Entrou\x20na\x20função\x20scheduleFlow'),!_0x1857ca||!_0x2068c4)return this['logger']['error'](this[_0x86ffb9(0x247)]+'\x20('+this[_0x86ffb9(0x2ac)][_0x86ffb9(0x53a)]+_0x86ffb9(0x6a5)),null;let _0x4b7131=_0x1857ca['remoteJid'];_0x2068c4['scheduleFlow']['remoteJid']&&_0x2068c4[_0x86ffb9(0x104)][_0x86ffb9(0x5aa)][_0x86ffb9(0xf3)]()!==''&&(_0x4b7131=_0x2068c4[_0x86ffb9(0x626)]['remoteJid'][_0x86ffb9(0xf3)]());let _0x435929=_0x2068c4['scheduleFlow']['timeInMinutes']*0xea60,_0x2ff36c=Date[_0x86ffb9(0x455)]()+_0x435929,_0x55d7b4={'status':'scheduled','info':_0x86ffb9(0x217)+_0x1857ca[_0x86ffb9(0x177)],'remoteJids':[_0x4b7131],'when':_0x2ff36c,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x86ffb9(0x403),'flowName':_0x2068c4[_0x86ffb9(0x104)]['flowName']};this['editScheduleMessage'](_0x55d7b4);let _0x565242=await this[_0x86ffb9(0x37c)](_0x1857ca);_0x565242&&await this[_0x86ffb9(0x4bf)](_0x1857ca,_0x565242);}async[a0_0x29ff78(0x31a)](_0x285195,_0x3757d0){const _0x1f1b5b=a0_0x29ff78;if(this[_0x1f1b5b(0x365)]['verbose'](this[_0x1f1b5b(0x247)]+'\x20('+this[_0x1f1b5b(0x2ac)]['wuid']+'):\x20Entrou\x20na\x20função\x20goToFlow'),!_0x285195||!_0x3757d0)return this['logger'][_0x1f1b5b(0xdb)](this[_0x1f1b5b(0x247)]+'\x20('+this[_0x1f1b5b(0x2ac)][_0x1f1b5b(0x53a)]+_0x1f1b5b(0x6a5)),null;await this[_0x1f1b5b(0x6c7)](_0x285195,_0x3757d0,{},!0x0,!0x0);let _0x275936=_0x3757d0['goToFlow'];_0x285195=await this[_0x1f1b5b(0x377)](_0x275936,_0x285195[_0x1f1b5b(0x5aa)],_0x285195[_0x1f1b5b(0x594)]['realVariables']);let _0x19e59b=await this[_0x1f1b5b(0x37c)](_0x285195);_0x19e59b&&await this[_0x1f1b5b(0x4bf)](_0x285195,_0x19e59b);}async[a0_0x29ff78(0x377)](_0x141908,_0x2ba219,_0x5703eb){const _0x163083=a0_0x29ff78;this[_0x163083(0x365)][_0x163083(0x3d2)](this[_0x163083(0x247)]+'\x20('+this[_0x163083(0x2ac)][_0x163083(0x53a)]+'):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]');try{if(_0x141908=await this[_0x163083(0x479)][_0x163083(0x403)][_0x163083(0x2d8)]({'where':{'name':_0x141908}},this[_0x163083(0x2ac)][_0x163083(0x53a)]),!_0x141908)return this[_0x163083(0x365)][_0x163083(0xdb)](this[_0x163083(0x247)]+'\x20('+this[_0x163083(0x2ac)][_0x163083(0x53a)]+'):\x20Flow\x20não\x20encontrado'),null;let _0x23aa8b=require(_0x163083(0x6ae))[_0x163083(0x202)],_0x242540=Date[_0x163083(0x455)](),_0x4d4868='start',_0x1bef38={},_0x1bd73b={},_0xb59e19={..._0x141908,'chatLog':null},_0x4bef98={'lastReceivedMessage':_0x1bef38,'lastSendMessage':_0x1bd73b,'lastBlockId':_0x4d4868,'lastCondition':!0x0,'realVariables':_0x5703eb};_0xb59e19['chatLog']=_0x4bef98,_0xb59e19['chatLog'][_0x163083(0x489)]={..._0x5703eb},delete _0xb59e19[_0x163083(0x5e4)],_0xb59e19[_0x163083(0x5e4)]=new _0x23aa8b(),_0xb59e19[_0x163083(0x3a9)]=_0x242540,_0xb59e19[_0x163083(0x353)]=_0x163083(0x7b2),_0xb59e19[_0x163083(0x5aa)]=_0x2ba219;let _0x250843=await this[_0x163083(0x479)][_0x163083(0x2bd)][_0x163083(0x1bc)](_0xb59e19[_0x163083(0x5e4)],_0xb59e19,this['instance'][_0x163083(0x53a)]);return this[_0x163083(0x365)][_0x163083(0x3d2)](this['instanceName']+'\x20('+this[_0x163083(0x2ac)]['wuid']+_0x163083(0x180)),_0x250843?_0xb59e19:null;}catch(_0x5b38b6){let _0xeaa6d7=_0x163083(0x198),_0x4fd2f9=_0x5b38b6 instanceof Error?_0x5b38b6[_0x163083(0x620)]:typeof _0x5b38b6==_0x163083(0x398)?JSON['stringify'](_0x5b38b6):_0x5b38b6,_0x402a73=_0xeaa6d7+':\x20'+_0x4fd2f9;throw this[_0x163083(0x365)][_0x163083(0xdb)](this[_0x163083(0x247)]+'\x20('+this[_0x163083(0x2ac)]['wuid']+_0x163083(0x470)+_0x402a73),new m(_0x402a73);}}async['processApiRequest'](_0x315393,_0x33c3c7){const _0x1f32ad=a0_0x29ff78;let _0x1cde2c,_0x3bec98;try{let _0x48e886=_0x33c3c7[_0x1f32ad(0x689)];if(!_0x48e886||!_0x48e886[_0x1f32ad(0x251)]||!_0x48e886[_0x1f32ad(0x495)])throw new Error(_0x1f32ad(0x4ca));let _0x48bedc;([_0x1f32ad(0x109),_0x1f32ad(0x28a),'https://api.elevenlabs.io/v1/text-to-speech/']['some'](_0x22a7ff=>_0x48e886[_0x1f32ad(0x251)][_0x1f32ad(0x35d)](_0x22a7ff))||_0x48e886[_0x1f32ad(0xe7)])&&(_0x48bedc=_0x1f32ad(0x701));let _0x5638b5='\u205f',_0x47e8ba;try{_0x47e8ba=JSON[_0x1f32ad(0x1cd)](_0x48e886[_0x1f32ad(0x572)][_0x1f32ad(0x3e1)](new RegExp(_0x5638b5,'g'),''));}catch(_0x17e8fb){throw _0x17e8fb;}let _0x5a2ef0={'method':_0x48e886[_0x1f32ad(0x495)],'url':_0x48e886[_0x1f32ad(0x251)],'headers':_0x48e886[_0x1f32ad(0x413)]||{},..._0x48e886[_0x1f32ad(0x495)][_0x1f32ad(0x18d)]()!==_0x1f32ad(0x6a3)&&_0x48e886[_0x1f32ad(0x572)]?{'data':JSON[_0x1f32ad(0x1cd)](_0x48e886[_0x1f32ad(0x572)][_0x1f32ad(0x3e1)](new RegExp(_0x5638b5,'g'),''))}:{},..._0x48bedc&&{'responseType':_0x48bedc}},_0x51c97e=await(0x0,Q[_0x1f32ad(0x152)])(_0x5a2ef0),_0x2f1a67=_0x51c97e[_0x1f32ad(0x35b)][_0x1f32ad(0x18e)];if(_0x2f1a67&&_0x2f1a67[_0x1f32ad(0x35d)](_0x1f32ad(0x11d))||typeof _0x51c97e['data']=='string'){if(typeof _0x51c97e[_0x1f32ad(0x1bb)]==_0x1f32ad(0x52a)){let _0x311d84=_0x51c97e[_0x1f32ad(0x1bb)][_0x1f32ad(0x3e1)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x1f32ad(0xf3)]();try{_0x1cde2c=JSON['parse'](_0x311d84);}catch(_0x31cb18){console[_0x1f32ad(0xdb)]('Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20'+_0x31cb18['message']),_0x1cde2c={'_apiResponse':_0x51c97e[_0x1f32ad(0x1bb)]};}}else _0x1cde2c=_0x51c97e[_0x1f32ad(0x1bb)];let _0x521689=_0x315393[_0x1f32ad(0x594)][_0x1f32ad(0x489)],_0xfca62b=this[_0x1f32ad(0x297)](_0x1cde2c);return Object['assign'](_0x521689,_0xfca62b),_0x315393[_0x1f32ad(0x594)][_0x1f32ad(0x489)]=_0x521689,_0x3bec98={'error':!0x1,'apiResponse':_0x1cde2c},this[_0x1f32ad(0x6c7)](_0x315393,_0x33c3c7,_0x3bec98),_0x1cde2c;}if(_0x2f1a67&&(_0x2f1a67[_0x1f32ad(0x35d)]('application/octet-stream')||_0x2f1a67[_0x1f32ad(0x35d)](_0x1f32ad(0x6f7))||_0x2f1a67[_0x1f32ad(0x35d)]('audio')||_0x2f1a67[_0x1f32ad(0x35d)](_0x1f32ad(0xec)))){this[_0x1f32ad(0x365)][_0x1f32ad(0x3d2)](this['instanceName']+'\x20('+this[_0x1f32ad(0x2ac)][_0x1f32ad(0x53a)]+_0x1f32ad(0x156)+_0x2f1a67);let _0x114a6c=(0x0,Me['v4'])(),_0x261bc8='',_0x59ebcf={'image/jpeg':_0x1f32ad(0x2cf),'image/png':'.png','image/gif':_0x1f32ad(0x71f),'image/webp':_0x1f32ad(0x4b9),'image/svg+xml':_0x1f32ad(0x15a),'audio/mpeg':_0x1f32ad(0x679),'audio/ogg':_0x1f32ad(0x6b9),'audio/wav':_0x1f32ad(0x714),'video/mp4':_0x1f32ad(0x286),'video/webm':_0x1f32ad(0x7b6),'video/ogg':_0x1f32ad(0x278),'text/plain':_0x1f32ad(0x2be),'application/pdf':_0x1f32ad(0x436),'application/msword':_0x1f32ad(0x2bb),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x1f32ad(0x356),'application/vnd.ms-excel':_0x1f32ad(0x6dc),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x1f32ad(0x5f8),'application/vnd.ms-powerpoint':_0x1f32ad(0x793),'application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x59ebcf[_0x2f1a67]?(_0x261bc8=_0x59ebcf[_0x2f1a67],this[_0x1f32ad(0x365)]['verbose'](this[_0x1f32ad(0x247)]+'\x20('+this['instance'][_0x1f32ad(0x53a)]+_0x1f32ad(0x26a)+_0x261bc8)):(_0x261bc8=_0x1f32ad(0x73d),this['logger'][_0x1f32ad(0x3d2)](this[_0x1f32ad(0x247)]+'\x20('+this[_0x1f32ad(0x2ac)][_0x1f32ad(0x53a)]+_0x1f32ad(0x6cc)+_0x261bc8)),_0x114a6c+=_0x261bc8,this[_0x1f32ad(0x365)][_0x1f32ad(0x3d2)](this[_0x1f32ad(0x247)]+'\x20('+this['instance'][_0x1f32ad(0x53a)]+_0x1f32ad(0xcf)+_0x114a6c);let _0x434f9e=this[_0x1f32ad(0x657)][_0x1f32ad(0x6b4)](_0x1f32ad(0x1c5))[_0x1f32ad(0x44b)];if(!_0x434f9e){let _0x2b5c21=this['configService']['get'](_0x1f32ad(0x577));_0x434f9e=_0x1f32ad(0x190)+(_0x2b5c21&&_0x2b5c21[_0x1f32ad(0x2d1)][_0x1f32ad(0x599)]('/')[0x4]);}let _0x3d3c0b=Buffer[_0x1f32ad(0xde)](_0x51c97e[_0x1f32ad(0x1bb)]);await this['saveMediaToFile'](_0x3d3c0b,_0x114a6c);let _0x2d532c=_0x1f32ad(0x570)+_0x114a6c;_0x2d532c=''+_0x434f9e+_0x2d532c,_0x1cde2c={'fileUrl':_0x2d532c},_0x315393[_0x1f32ad(0x594)][_0x1f32ad(0x489)]['fileUrl']=_0x2d532c;let _0x259d2b=_0x315393[_0x1f32ad(0x594)][_0x1f32ad(0x489)],_0x3dc3f5=this[_0x1f32ad(0x297)](_0x1cde2c);return Object[_0x1f32ad(0x153)](_0x259d2b,_0x3dc3f5),_0x315393[_0x1f32ad(0x594)]['realVariables']=_0x259d2b,_0x3bec98={'error':!0x1,'apiResponse':{'fileUrl':_0x2d532c}},this[_0x1f32ad(0x6c7)](_0x315393,_0x33c3c7,_0x3bec98),_0x1cde2c;}}catch(_0x509679){console['error'](_0x1f32ad(0x1e4),_0x509679[_0x1f32ad(0x620)]),_0x509679['response']&&(_0x1cde2c=_0x509679[_0x1f32ad(0x5bb)]['data']);let _0x1649df=_0x315393[_0x1f32ad(0x594)][_0x1f32ad(0x489)],_0xe64092=this[_0x1f32ad(0x297)](_0x1cde2c);return Object[_0x1f32ad(0x153)](_0x1649df,_0xe64092),_0x315393['chatLog'][_0x1f32ad(0x489)]=_0x1649df,_0x3bec98={'error':!0x0,'errorLog':_0x509679[_0x1f32ad(0x675)](),'apiResponse':_0x1cde2c},this[_0x1f32ad(0x6c7)](_0x315393,_0x33c3c7,_0x3bec98),{'success':!0x1};}}['applyvaredit'](_0xe4a5c6,_0xd58900){const _0x24ea71=a0_0x29ff78;let _0x479246=_0x52f5a0=>{const _0x470dc6=a0_0x5d27;let _0x4c58fe=_0x52f5a0[_0x470dc6(0x3e1)](/[^0-9.,-]/g,'')[_0x470dc6(0x3e1)](',','.'),_0x6b78f=parseFloat(_0x4c58fe);return isNaN(_0x6b78f)?null:_0x6b78f;},_0xf416ab=_0xd58900[_0x24ea71(0x2c2)],_0x1f5677=_0xd58900['secondValue'];typeof _0xf416ab==_0x24ea71(0x52a)&&(_0xf416ab=this['replaceVariables'](_0xf416ab,_0xe4a5c6['chatLog'][_0x24ea71(0x489)])??''),typeof _0x1f5677=='string'&&(_0x1f5677=this[_0x24ea71(0x25a)](_0x1f5677,_0xe4a5c6['chatLog']['realVariables'])??'');let _0x1f048e=null;if(!_0xd58900['editOperator'])return null;switch(this[_0x24ea71(0x365)][_0x24ea71(0x3d2)](this[_0x24ea71(0x247)]+'\x20('+this['instance']['wuid']+_0x24ea71(0x29b)+_0xf416ab),this['logger'][_0x24ea71(0x3d2)](this[_0x24ea71(0x247)]+'\x20('+this[_0x24ea71(0x2ac)][_0x24ea71(0x53a)]+_0x24ea71(0x141)+_0x1f5677),_0xd58900[_0x24ea71(0x4a1)]){case'+':case'-':case'*':case'/':let _0x4fb603=_0x479246(_0xf416ab||'0'),_0xd41be2=_0x479246(_0x1f5677||'0');if(_0x4fb603===null)return null;switch(_0xd58900[_0x24ea71(0x4a1)]){case'+':_0x1f048e=_0x4fb603+(_0xd41be2??0x0);break;case'-':_0x1f048e=_0x4fb603-(_0xd41be2??0x0);break;case'*':_0x1f048e=_0x4fb603*(_0xd41be2??0x1);break;case'/':_0xd41be2!==0x0&&(_0x1f048e=_0x4fb603/(_0xd41be2??0x1));break;}break;case _0x24ea71(0x473):case _0x24ea71(0x3b4):let _0x2cd598=_0x1f5677,_0x487d0b=_0xd58900[_0x24ea71(0x38a)];if(typeof _0x487d0b==_0x24ea71(0x52a)&&(_0x487d0b=this['replaceVariables'](_0x487d0b,_0xe4a5c6['chatLog'][_0x24ea71(0x489)])??''),_0x2cd598&&_0x487d0b!==void 0x0){let _0x469e30=_0xd58900[_0x24ea71(0x4a1)]===_0x24ea71(0x473)?new RegExp(_0x2cd598[_0x24ea71(0x3e1)](/[-\/\\^$*+?.()|[\]{}]/g,_0x24ea71(0x23e)),'g'):new RegExp(_0x2cd598,'g');_0x1f048e=_0xf416ab[_0x24ea71(0x3e1)](_0x469e30,_0x487d0b);}else console[_0x24ea71(0x5b5)](_0x24ea71(0x6f6));break;case _0x24ea71(0x117):_0x1f048e=_0x1f5677;break;case'extractRegex':let _0x49bf2d=_0xf416ab['match'](new RegExp(_0x1f5677||''));_0x1f048e=_0x49bf2d?_0x49bf2d[0x0]:'';break;case _0x24ea71(0x5e0):_0x1f048e=_0xf416ab['slice'](0x0,parseInt(_0x1f5677||'0'));break;case _0x24ea71(0x1e1):let _0x4234d0=parseInt(_0x1f5677||'0');_0x1f048e=_0xf416ab['slice'](_0xf416ab[_0x24ea71(0x78c)]-_0x4234d0);break;case _0x24ea71(0x7bd):let _0x49556e=_0x479246(_0xf416ab),_0x504c17=parseInt(_0x1f5677||'0');_0x504c17=Math['abs'](_0x504c17),_0x49556e!==null?_0x1f048e=_0x49556e[_0x24ea71(0xf6)]('pt-BR',{'minimumFractionDigits':_0x504c17,'maximumFractionDigits':_0x504c17}):(console[_0x24ea71(0x5b5)]('Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20'+_0xf416ab),_0x1f048e=null);break;case _0x24ea71(0x660):let _0x34ac49=_0x479246(_0xf416ab);_0x34ac49!==null?_0x1f048e=_0x34ac49[_0x24ea71(0xf6)](_0x24ea71(0x279),{'style':_0x24ea71(0x5f3),'currency':'BRL'}):(console[_0x24ea71(0x5b5)](_0x24ea71(0x6b7)+_0xf416ab),_0x1f048e=null);break;case'upperCase':_0x1f048e=_0xf416ab[_0x24ea71(0x18d)]();break;case _0x24ea71(0x376):_0x1f048e=_0xf416ab[_0x24ea71(0xb5)]();break;case _0x24ea71(0x10f):_0x1f048e=_0xf416ab[_0x24ea71(0x599)]('\x20')['map'](_0x5a432b=>_0x5a432b[_0x24ea71(0x208)](0x0)[_0x24ea71(0x18d)]()+_0x5a432b[_0x24ea71(0x4f3)](0x1)[_0x24ea71(0xb5)]())[_0x24ea71(0x46b)]('\x20');break;case'trimmed':_0x1f048e=_0xf416ab[_0x24ea71(0xf3)]();break;default:_0x1f048e=_0xf416ab;}return _0x1f048e!==null?_0x1f048e[_0x24ea71(0x675)]():null;}async[a0_0x29ff78(0x299)](_0x5e5d2e,_0x15dccb){const _0xd15751=a0_0x29ff78;try{let _0x36868e=_0x5e5d2e['varedits']?.[_0xd15751(0x368)](_0x1b41ca=>_0x1b41ca['blockId']===_0x15dccb[_0xd15751(0x5e4)]?.[_0xd15751(0x675)]())||[],_0x1a7edd=_0x15dccb[_0xd15751(0x45f)],_0x1eb602=null,_0x356eb9=[],_0x2e4446=_0x5e5d2e[_0xd15751(0x594)][_0xd15751(0x489)][_0x1a7edd];_0x356eb9[_0xd15751(0x41b)](_0xd15751(0x3a7)+_0x2e4446+'\x22');for(let _0x4bc212 of _0x36868e){_0x4bc212[_0xd15751(0x2c2)]=_0x2e4446,_0x1eb602=_0x4bc212['firstValue'];let _0x3b809e;try{_0x3b809e=this[_0xd15751(0x709)](_0x5e5d2e,_0x4bc212);}catch(_0x55c066){console['error'](_0xd15751(0x3c4)+_0x55c066['message']);continue;}if(_0x3b809e!==null){let _0x50cba6=_0xd15751(0x6f2)+_0x4bc212[_0xd15751(0x4a1)]+'\x22',_0x594b8c=[_0xd15751(0x660),_0xd15751(0x459),_0xd15751(0x376),_0xd15751(0x10f),'trimmed'];_0x4bc212[_0xd15751(0x4a1)]===_0xd15751(0x473)||_0x4bc212[_0xd15751(0x4a1)]==='findAndReplaceRegex'?_0x50cba6+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x4bc212[_0xd15751(0x235)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x4bc212[_0xd15751(0x38a)]+'\x22':!_0x594b8c[_0xd15751(0x35d)](_0x4bc212['editOperator'])&&_0x4bc212['secondValue']!==null&&_0x4bc212[_0xd15751(0x235)]!==void 0x0&&(_0x50cba6+=_0xd15751(0x52d)+_0x4bc212[_0xd15751(0x235)]+'\x22'),_0x50cba6+=',\x20resultado:\x20'+_0x3b809e+'.',_0x356eb9[_0xd15751(0x41b)](_0x50cba6);}_0x3b809e!==null&&(_0x2e4446=_0x3b809e);}if(_0x5e5d2e[_0xd15751(0x594)][_0xd15751(0x489)]&&_0x15dccb[_0xd15751(0x45f)]){_0x5e5d2e[_0xd15751(0x594)]['realVariables'][_0x15dccb['saveVariable']]=_0x2e4446;let _0x5ce740={'variable':_0x15dccb[_0xd15751(0x45f)],'oldValue':_0x1eb602,'newValue':_0x2e4446,'moreLogs':_0x356eb9};try{this[_0xd15751(0x6c7)](_0x5e5d2e,_0x15dccb,_0x5ce740);}catch(_0x12ad27){console[_0xd15751(0xdb)]('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x12ad27['message']);}}return _0x1a7edd;}catch(_0x3bb497){return console['error']('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x3bb497[_0xd15751(0x620)]),null;}}async[a0_0x29ff78(0x5fe)](_0x3609bd,_0x31224b){const _0x31dfc7=a0_0x29ff78;try{let _0x56915c=[],_0x351e84=_0x3609bd[_0x31dfc7(0x7b1)][_0x31dfc7(0x368)](_0x49ca5e=>_0x49ca5e[_0x31dfc7(0x364)]===_0x31224b[_0x31dfc7(0x5e4)][_0x31dfc7(0x675)]()),_0x1739f3=null,_0x7f4ab2=!0x1;for(let _0x21e6c2 of _0x351e84){let _0xacfa87=this[_0x31dfc7(0x632)](_0x3609bd,_0x21e6c2);_0x56915c[_0x31dfc7(0x41b)]('Primeiro\x20Valor:\x20'+_0x21e6c2[_0x31dfc7(0x2c2)]+_0x31dfc7(0xce)+_0x21e6c2[_0x31dfc7(0xda)]+_0x31dfc7(0x517)+_0x21e6c2[_0x31dfc7(0x235)]+_0x31dfc7(0x73f)+_0xacfa87),_0x1739f3===null?_0x1739f3=_0xacfa87:_0x21e6c2[_0x31dfc7(0x1aa)]===_0x31dfc7(0x4df)?(_0x1739f3=_0x1739f3&&_0xacfa87,_0xacfa87||(_0x7f4ab2=!0x0)):_0x21e6c2[_0x31dfc7(0x1aa)]==='or'&&(_0x7f4ab2||(_0x1739f3=_0x1739f3||_0xacfa87));}_0x1739f3===null&&(_0x1739f3=!0x0);let _0x2a7239={'moreLogs':_0x56915c};_0x3609bd[_0x31dfc7(0x594)][_0x31dfc7(0x285)]=_0x1739f3,await this['updateConversation'](_0x3609bd,_0x31224b,_0x2a7239);}catch(_0x245b51){this[_0x31dfc7(0x365)]['error'](this['instanceName']+'\x20('+this['instance'][_0x31dfc7(0x53a)]+_0x31dfc7(0x291)+(_0x245b51 instanceof Error?_0x245b51[_0x31dfc7(0x620)]:JSON[_0x31dfc7(0x230)](_0x245b51,null,0x2)));}}['evaluateCondition'](_0x1780e7,_0x53ec28){const _0x4c317a=a0_0x29ff78;let _0x1b084d=_0x53ec28[_0x4c317a(0x2c2)],_0x3c00bc=_0x53ec28[_0x4c317a(0x235)];typeof _0x1b084d==_0x4c317a(0x52a)&&(_0x1b084d=this[_0x4c317a(0x25a)](_0x1b084d,_0x1780e7[_0x4c317a(0x594)][_0x4c317a(0x489)])??''),typeof _0x3c00bc==_0x4c317a(0x52a)&&(_0x3c00bc=this['replaceVariables'](_0x3c00bc,_0x1780e7[_0x4c317a(0x594)][_0x4c317a(0x489)])??'');try{switch(_0x53ec28[_0x4c317a(0xda)]){case _0x4c317a(0x6b5):return _0x1b084d===_0x3c00bc;case _0x4c317a(0xea):return _0x1b084d!==_0x3c00bc;case _0x4c317a(0x738):return this[_0x4c317a(0x738)](_0x1b084d,_0x3c00bc);case _0x4c317a(0x256):return!this[_0x4c317a(0x738)](_0x1b084d,_0x3c00bc);case _0x4c317a(0x172):return parseFloat(_0x1b084d)>parseFloat(_0x3c00bc);case _0x4c317a(0x298):return parseFloat(_0x1b084d)<parseFloat(_0x3c00bc);case _0x4c317a(0x3c8):return _0x1b084d!=='';case _0x4c317a(0x439):return _0x1b084d==='';case _0x4c317a(0x2f7):return new RegExp(_0x3c00bc)['test'](_0x1b084d);case _0x4c317a(0x333):return!new RegExp(_0x3c00bc)['test'](_0x1b084d);default:return!0x1;}}catch(_0x4284d3){return console[_0x4c317a(0xdb)](_0x4c317a(0x1dd)+_0x4284d3),!0x1;}}[a0_0x29ff78(0x738)](_0x33d638,_0x1acb74){const _0x30e5f0=a0_0x29ff78;if(_0x33d638===_0x1acb74&&/^\d+$/[_0x30e5f0(0x440)](_0x33d638))return!0x0;if(this[_0x30e5f0(0x43d)](_0x33d638)&&/^\d+$/[_0x30e5f0(0x440)](_0x1acb74)){let _0x318697=_0x33d638[_0x30e5f0(0x599)](',')[_0x30e5f0(0x174)](_0x391fd1=>parseInt(_0x391fd1[_0x30e5f0(0xf3)]())),_0x24a8d8=parseInt(_0x1acb74);return _0x318697[_0x30e5f0(0x35d)](_0x24a8d8);}return _0x33d638[_0x30e5f0(0x35d)](_0x1acb74);}[a0_0x29ff78(0x43d)](_0x271475){const _0x5e8f59=a0_0x29ff78;return/^\d+(,\d+)*$/[_0x5e8f59(0x440)](_0x271475);}['processConditionsTest'](_0x2b3a3c){const _0x44a26d=a0_0x29ff78;let _0x5e559e=!0x0,_0x403382=null;for(let _0x1a320f of _0x2b3a3c){let _0x518046=this[_0x44a26d(0x777)](_0x1a320f);if(_0x403382==='or'&&_0x518046){_0x5e559e=!0x0;break;}if(_0x403382===_0x44a26d(0x4df)&&!_0x518046){_0x5e559e=!0x1;break;}_0x403382=_0x1a320f[_0x44a26d(0x1aa)];}return _0x5e559e;}[a0_0x29ff78(0x777)](_0x1b9a18){const _0xa0be79=a0_0x29ff78;let _0x2d800b=_0x1b9a18[_0xa0be79(0x2c2)],_0x158a55=_0x1b9a18[_0xa0be79(0x235)];try{switch(_0x1b9a18[_0xa0be79(0xda)]){case _0xa0be79(0x6b5):return String(_0x2d800b)===String(_0x158a55);case _0xa0be79(0xea):return String(_0x2d800b)!==String(_0x158a55);case'contains':return String(_0x2d800b)[_0xa0be79(0x35d)](String(_0x158a55));case'notContains':return!String(_0x2d800b)[_0xa0be79(0x35d)](String(_0x158a55));case _0xa0be79(0x172):return parseFloat(String(_0x2d800b))>parseFloat(String(_0x158a55));case _0xa0be79(0x298):return parseFloat(String(_0x2d800b))<parseFloat(String(_0x158a55));case'notEmpty':return String(_0x2d800b)!=='';case _0xa0be79(0x439):return String(_0x2d800b)==='';case'matchRegex':return new RegExp(String(_0x158a55))[_0xa0be79(0x440)](String(_0x2d800b));case _0xa0be79(0x333):return!new RegExp(String(_0x158a55))[_0xa0be79(0x440)](String(_0x2d800b));default:return!0x1;}}catch(_0x378c40){return console[_0xa0be79(0xdb)](_0xa0be79(0x1dd)+_0x378c40),!0x1;}}async['saveTextReply'](_0x36b0fc,_0x3e7984){const _0x435d51=a0_0x29ff78;if(this[_0x435d51(0x365)]['verbose'](this['instanceName']+'\x20('+this[_0x435d51(0x2ac)]['wuid']+_0x435d51(0x20d)),!_0x36b0fc||!_0x3e7984)return this[_0x435d51(0x365)][_0x435d51(0xdb)](this[_0x435d51(0x247)]+'\x20('+this[_0x435d51(0x2ac)][_0x435d51(0x53a)]+_0x435d51(0x6a5)),null;let _0x43c748=_0x36b0fc[_0x435d51(0x594)][_0x435d51(0x2b8)][_0x435d51(0x60f)]['id'];this[_0x435d51(0x365)][_0x435d51(0x3d2)](this[_0x435d51(0x247)]+'\x20('+this[_0x435d51(0x2ac)][_0x435d51(0x53a)]+_0x435d51(0x574)+_0x43c748);let _0x5846bf={'key':{'id':_0x43c748}},_0x26dbf5=_0x3e7984[_0x435d51(0x45f)];_0x36b0fc[_0x435d51(0x594)][_0x435d51(0x489)]['_'+_0x26dbf5+_0x435d51(0x6b3)]=null,_0x36b0fc['chatLog'][_0x435d51(0x489)]['_'+_0x26dbf5+'.mimetype']=null,_0x36b0fc['chatLog'][_0x435d51(0x489)]['_'+_0x26dbf5+'.extension']=null,_0x36b0fc[_0x435d51(0x594)][_0x435d51(0x489)]['_'+_0x26dbf5+_0x435d51(0x5bf)]=_0x36b0fc[_0x435d51(0x594)][_0x435d51(0x2b8)][_0x435d51(0x14b)];try{let _0x32653a=await this[_0x435d51(0x3ec)](_0x5846bf);this[_0x435d51(0x365)][_0x435d51(0x3d2)](this['instanceName']+'\x20('+this[_0x435d51(0x2ac)][_0x435d51(0x53a)]+_0x435d51(0x7af)),_0x36b0fc[_0x435d51(0x594)][_0x435d51(0x489)]['_'+_0x26dbf5+_0x435d51(0x460)]=_0x32653a[_0x435d51(0x3b8)],_0x36b0fc[_0x435d51(0x594)][_0x435d51(0x489)]['_'+_0x26dbf5+_0x435d51(0x702)]=_0x32653a[_0x435d51(0x6c1)];let _0x2bd1d1=_0x32653a[_0x435d51(0x6c1)][_0x435d51(0x5dd)](/\/(\w+)$/),_0x11f1ab=_0x2bd1d1?_0x2bd1d1[0x1]:null;_0x36b0fc[_0x435d51(0x594)][_0x435d51(0x489)]['_'+_0x26dbf5+'.extension']=_0x11f1ab,this[_0x435d51(0x365)]['verbose'](this[_0x435d51(0x247)]+'\x20('+this[_0x435d51(0x2ac)][_0x435d51(0x53a)]+_0x435d51(0x4f4)+_0x26dbf5+'\x27.');}catch(_0x9175de){this[_0x435d51(0x365)][_0x435d51(0xdb)](this[_0x435d51(0x247)]+'\x20('+this[_0x435d51(0x2ac)][_0x435d51(0x53a)]+_0x435d51(0x262)+_0x9175de);}let _0x2f9e9e=_0x36b0fc[_0x435d51(0x594)][_0x435d51(0x2b8)][_0x435d51(0x33c)]||_0x36b0fc['chatLog'][_0x435d51(0x2b8)]['caption']||_0x36b0fc['chatLog'][_0x435d51(0x2b8)][_0x435d51(0x1ed)];try{_0x36b0fc[_0x435d51(0x594)]['realVariables']||(_0x36b0fc[_0x435d51(0x594)]['realVariables']={});let _0x447175=_0x36b0fc[_0x435d51(0x594)][_0x435d51(0x489)][_0x26dbf5];_0x36b0fc[_0x435d51(0x594)][_0x435d51(0x489)][_0x26dbf5]=_0x2f9e9e;let _0x3ab6dd={'variable':_0x26dbf5,'oldValue':_0x447175,'newValue':_0x2f9e9e};this[_0x435d51(0x6c7)](_0x36b0fc,_0x3e7984,_0x3ab6dd),this[_0x435d51(0x365)][_0x435d51(0x3d2)](this[_0x435d51(0x247)]+'\x20('+this['instance']['wuid']+_0x435d51(0x2db));}catch(_0x206814){let _0x1e14ff={'error':!0x0,'errorLog':_0x206814['toString']()};return this['updateConversation'](_0x36b0fc,_0x3e7984,_0x1e14ff),this[_0x435d51(0x365)]['error'](this[_0x435d51(0x247)]+'\x20('+this[_0x435d51(0x2ac)][_0x435d51(0x53a)]+_0x435d51(0x1a5)+(_0x206814 instanceof Error?_0x206814[_0x435d51(0x620)]:JSON[_0x435d51(0x230)](_0x206814,null,0x2))),null;}}async[a0_0x29ff78(0x1e0)](_0x36f41c,_0x5dc719){const _0x2785bf=a0_0x29ff78;if(this[_0x2785bf(0x365)][_0x2785bf(0x3d2)](this[_0x2785bf(0x247)]+'\x20('+this[_0x2785bf(0x2ac)][_0x2785bf(0x53a)]+_0x2785bf(0x784)),!_0x36f41c||!_0x5dc719)return this[_0x2785bf(0x365)][_0x2785bf(0xdb)](this[_0x2785bf(0x247)]+'\x20('+this[_0x2785bf(0x2ac)][_0x2785bf(0x53a)]+_0x2785bf(0x6a5)),null;let _0xf75346=Date[_0x2785bf(0x455)](),_0x4a7500=parseInt(_0x5dc719[_0x2785bf(0x61a)],0xa);if(isNaN(_0x4a7500))return this['logger'][_0x2785bf(0xdb)](this[_0x2785bf(0x247)]+'\x20('+this[_0x2785bf(0x2ac)]['wuid']+_0x2785bf(0x19e)),null;let _0x3ff066={'newStoppedUntil':_0xf75346+_0x4a7500*0x3c*0x3e8};return await this[_0x2785bf(0x6c7)](_0x36f41c,_0x5dc719,_0x3ff066,!0x0),null;}async[a0_0x29ff78(0x469)](_0x589f3b,_0x440b1e){const _0xa002c6=a0_0x29ff78;try{switch(_0x440b1e['uazapi'][_0xa002c6(0x56a)]){case _0xa002c6(0x441):await this['uazapiSendText'](_0x589f3b,_0x440b1e);break;case'sendMedia':await this['uazapiSendMedia'](_0x589f3b,_0x440b1e);break;case'sendLocation':await this[_0xa002c6(0x1b1)](_0x589f3b,_0x440b1e);break;case _0xa002c6(0x46c):await this['uazapiSendAudio'](_0x589f3b,_0x440b1e);break;case'sendContact':await this[_0xa002c6(0x64f)](_0x589f3b,_0x440b1e);break;case _0xa002c6(0x69f):await this[_0xa002c6(0x22c)](_0x589f3b,_0x440b1e);break;case _0xa002c6(0x162):await this[_0xa002c6(0x22c)](_0x589f3b,_0x440b1e);break;case _0xa002c6(0x10a):await this[_0xa002c6(0x42d)](_0x589f3b,_0x440b1e);break;default:this[_0xa002c6(0x365)][_0xa002c6(0xdb)](this[_0xa002c6(0x247)]+'\x20('+this['instance'][_0xa002c6(0x53a)]+_0xa002c6(0x17c)+_0x440b1e[_0xa002c6(0x626)][_0xa002c6(0x56a)]);}}catch(_0xed47d9){this[_0xa002c6(0x365)]['error'](this[_0xa002c6(0x247)]+'\x20('+this[_0xa002c6(0x2ac)][_0xa002c6(0x53a)]+_0xa002c6(0x623)+(_0xed47d9 instanceof Error?_0xed47d9[_0xa002c6(0x620)]:JSON[_0xa002c6(0x230)](_0xed47d9,null,0x2)));}}async[a0_0x29ff78(0x6c7)](_0x51101c,_0x3f7af7,_0x4b8994,_0x234368=!0x1,_0x5799f8=!0x1){const _0x1cd377=a0_0x29ff78;_0x51101c[_0x1cd377(0x594)][_0x1cd377(0x510)]||(_0x51101c[_0x1cd377(0x594)]['blockLogs']=[]);let _0x1fc9b6=(_0x51101c[_0x1cd377(0x594)][_0x1cd377(0x510)]?.['length']??0x0)+0x1,_0x270d3c=_0x51101c[_0x1cd377(0x594)]['blockLogs'][_0x1cd377(0x368)](_0x4854d2=>String(_0x4854d2['blockId'])===String(_0x3f7af7['_id']))['length']+0x1,_0x5cb509=_0x4b8994?.['onTime']??Date['now'](),_0x11db98=_0x4b8994?.['error']?_0x4b8994['errorLog']??_0x4b8994[_0x1cd377(0xdb)][_0x1cd377(0x675)]():void 0x0,_0x3f6ca0={'onTime':_0x5cb509,'blockId':_0x3f7af7[_0x1cd377(0x5e4)],'order':_0x1fc9b6,'activatedCount':_0x270d3c,'error':_0x4b8994?.[_0x1cd377(0xdb)]??!0x1,'messageId':_0x4b8994?.[_0x1cd377(0x665)],'apiResponse':_0x4b8994?.[_0x1cd377(0x5ea)],'apiResponseString':_0x4b8994?.[_0x1cd377(0x5ea)]?JSON[_0x1cd377(0x230)](_0x4b8994?.['apiResponse']):void 0x0,'variable':_0x4b8994?.[_0x1cd377(0x4b4)],'oldValue':_0x4b8994?.[_0x1cd377(0x711)],'newValue':_0x4b8994?.['newValue'],'newStoppedUntil':_0x4b8994?.[_0x1cd377(0x554)],'moreLogs':_0x4b8994?.['moreLogs'],'errorLog':_0x11db98};if(_0x4b8994[_0x1cd377(0x422)]&&_0x4b8994[_0x1cd377(0x422)]['length']>0x0){let _0x5a07eb=_0x4b8994['moreLogs'][_0x1cd377(0x174)](_0x4014ff=>this[_0x1cd377(0x4d9)](_0x4014ff,_0x51101c[_0x1cd377(0x594)][_0x1cd377(0x489)]));_0x3f6ca0[_0x1cd377(0x422)]=_0x5a07eb;}if(_0x51101c['chatLog'][_0x1cd377(0x489)]||(_0x51101c[_0x1cd377(0x594)][_0x1cd377(0x489)]={}),_0x51101c['chatLog'][_0x1cd377(0x489)]['_activatedCount']=String(_0x270d3c),_0x51101c[_0x1cd377(0x594)][_0x1cd377(0x489)][_0x1cd377(0x549)]=String(_0x4b8994['error']??!0x1),_0x51101c[_0x1cd377(0x594)]['blockLogs'][_0x1cd377(0x41b)](_0x3f6ca0),_0x51101c[_0x1cd377(0x594)]['realVariables']['telefone']&&_0x51101c[_0x1cd377(0x594)][_0x1cd377(0x489)][_0x1cd377(0x50b)]!==_0x51101c[_0x1cd377(0x5aa)]){let _0x3c9adf=(await this[_0x1cd377(0x516)]({'numbers':[_0x51101c[_0x1cd377(0x594)][_0x1cd377(0x489)][_0x1cd377(0x50b)]]}))[0x0][_0x1cd377(0x60c)];_0x51101c['chatLog'][_0x1cd377(0x489)]['telefone']=_0x3c9adf,_0x51101c['remoteJid']=_0x3c9adf;try{let _0xb44c4d={'_id':{'$ne':_0x51101c['_id']},'remoteJid':_0x3c9adf,'status':_0x1cd377(0x7b2)},_0x290a46={'status':_0x1cd377(0x357)};await this[_0x1cd377(0x479)][_0x1cd377(0x2bd)][_0x1cd377(0x5c8)](_0xb44c4d,_0x290a46,this[_0x1cd377(0x2ac)]['wuid']),this['logger'][_0x1cd377(0x3d2)](this[_0x1cd377(0x247)]+'\x20('+this['instance'][_0x1cd377(0x53a)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.');}catch(_0x252c10){this['logger'][_0x1cd377(0xdb)](this[_0x1cd377(0x247)]+'\x20('+this[_0x1cd377(0x2ac)]['wuid']+_0x1cd377(0x450)+_0x252c10[_0x1cd377(0x620)]);}try{let _0x41e0e3=_0x51101c[_0x1cd377(0x594)][_0x1cd377(0x489)],_0x4cff48=await this[_0x1cd377(0x728)](_0x3c9adf),_0x32435c={..._0x41e0e3,..._0x4cff48,'_remoteJid':_0x3c9adf};_0x51101c[_0x1cd377(0x594)][_0x1cd377(0x489)]=_0x32435c;}catch(_0x537c79){this[_0x1cd377(0x365)][_0x1cd377(0xdb)](this[_0x1cd377(0x247)]+'\x20('+this[_0x1cd377(0x2ac)][_0x1cd377(0x53a)]+_0x1cd377(0x395)+_0x537c79[_0x1cd377(0x620)]);}}_0x51101c[_0x1cd377(0x594)][_0x1cd377(0x6c8)]=_0x3f7af7[_0x1cd377(0x5e4)][_0x1cd377(0x675)](),_0x51101c[_0x1cd377(0x594)][_0x1cd377(0x462)]&&(_0x51101c[_0x1cd377(0x594)][_0x1cd377(0x462)]=_0x51101c[_0x1cd377(0x594)][_0x1cd377(0x462)]),_0x51101c[_0x1cd377(0x594)][_0x1cd377(0x2b8)]&&(_0x51101c[_0x1cd377(0x594)][_0x1cd377(0x2b8)]=_0x51101c[_0x1cd377(0x594)][_0x1cd377(0x2b8)]),_0x51101c['chatLog'][_0x1cd377(0x285)]&&(_0x51101c[_0x1cd377(0x594)][_0x1cd377(0x285)]=_0x51101c[_0x1cd377(0x594)][_0x1cd377(0x285)]),_0x5799f8&&(_0x51101c[_0x1cd377(0x353)]=_0x1cd377(0x357)),_0x234368?this['saveConversationToDatabase'](_0x51101c):this[_0x1cd377(0x3ed)](_0x51101c,_0x3f7af7);}['replaceVariablesLogs'](_0x374cba,_0x298013){const _0xaa6c3c=a0_0x29ff78;return _0x374cba[_0xaa6c3c(0x3e1)](/\{\{([^}]+)\}\}/g,(_0xf2bd90,_0x358201)=>_0x298013[_0x358201]?'{{'+_0x358201+'}}\x20->\x20\x22'+_0x298013[_0x358201]+'\x22':'{{'+_0x358201+'}}\x20->\x20valor\x20não\x20encontrado');}async[a0_0x29ff78(0x2bf)](_0x33b2de){const _0x4a6dd9=a0_0x29ff78;try{let _0x13132b=Object[_0x4a6dd9(0x21d)](_0x33b2de[_0x4a6dd9(0x594)]['realVariables'])[_0x4a6dd9(0x174)](([_0x1164df,_0x155187])=>({'name':_0x1164df,'value':_0x155187})),_0x52dca1={'status':_0x33b2de['status'],'remoteJid':_0x33b2de[_0x4a6dd9(0x5aa)],'blocks':_0x33b2de[_0x4a6dd9(0x5f4)],'waitingMenu_id':_0x33b2de[_0x4a6dd9(0x2c9)],'waitingMenu_text':_0x33b2de[_0x4a6dd9(0x42c)],'waitingMenu_replyOptions':_0x33b2de[_0x4a6dd9(0xf2)],'chatLog':{'lastBlockId':_0x33b2de[_0x4a6dd9(0x594)][_0x4a6dd9(0x6c8)],'lastSendMessage':_0x33b2de['chatLog']['lastSendMessage'],'lastReceivedMessage':_0x33b2de[_0x4a6dd9(0x594)][_0x4a6dd9(0x2b8)],'lastCondition':_0x33b2de[_0x4a6dd9(0x594)][_0x4a6dd9(0x285)],'chatVariables':_0x13132b,'realVariables':_0x33b2de[_0x4a6dd9(0x594)][_0x4a6dd9(0x489)],'blockLogs':_0x33b2de['chatLog'][_0x4a6dd9(0x510)]}},_0x3aa1b7=await this[_0x4a6dd9(0x479)]['flowConversation'][_0x4a6dd9(0x1bc)](_0x33b2de['_id'],_0x52dca1,this[_0x4a6dd9(0x2ac)]['wuid']);if(_0x3aa1b7){this[_0x4a6dd9(0x365)][_0x4a6dd9(0x3d2)](this[_0x4a6dd9(0x247)]+'\x20('+this[_0x4a6dd9(0x2ac)][_0x4a6dd9(0x53a)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x3aa1b7[_0x4a6dd9(0x5e4)]);try{let _0x1cc736=[_0x4a6dd9(0x444),'nomecompleto',_0x4a6dd9(0x2d5),_0x4a6dd9(0x307),_0x4a6dd9(0x353),_0x4a6dd9(0x29e),_0x4a6dd9(0x735),_0x4a6dd9(0x605),_0x4a6dd9(0x2b3),_0x4a6dd9(0xb9)];if(!this[_0x4a6dd9(0x423)]&&(await this[_0x4a6dd9(0x5af)](),!this[_0x4a6dd9(0x423)]))throw new Error(_0x4a6dd9(0x63b));let _0xc9c4a8=this[_0x4a6dd9(0x423)]?.[_0x4a6dd9(0x10b)][_0x4a6dd9(0x174)](_0x183755=>_0x183755[_0x4a6dd9(0x177)]),_0xc63d38={};Object[_0x4a6dd9(0x21d)](_0x33b2de[_0x4a6dd9(0x594)][_0x4a6dd9(0x489)])[_0x4a6dd9(0x628)](([_0x537f42,_0x59127c])=>{const _0x2a1a4a=_0x4a6dd9;_0x1cc736[_0x2a1a4a(0x35d)](_0x537f42)&&(_0x537f42==='tags'&&typeof _0x59127c==_0x2a1a4a(0x52a)?_0xc63d38[_0x537f42]=_0x59127c[_0x2a1a4a(0x599)](',')['map'](_0x307f13=>_0x307f13[_0x2a1a4a(0xf3)]())[_0x2a1a4a(0x368)](_0x432d2d=>_0x432d2d!==''):_0x537f42===_0x2a1a4a(0x2b3)&&typeof _0x59127c=='string'?_0xc63d38[_0x537f42]=_0x59127c[_0x2a1a4a(0x599)](',')[_0x2a1a4a(0x174)](_0x22027c=>_0x22027c[_0x2a1a4a(0xf3)]())[_0x2a1a4a(0x368)](_0x4d9fcc=>_0x4d9fcc!==''):_0xc63d38[_0x537f42]=_0x59127c);});let _0x1ad643=_0x33b2de['chatLog']['blockLogs'][_0x33b2de[_0x4a6dd9(0x594)][_0x4a6dd9(0x510)][_0x4a6dd9(0x78c)]-0x1];if(_0x1ad643){let _0x5b8607=_0x1ad643[_0x4a6dd9(0x554)];_0x5b8607!==void 0x0&&(_0xc63d38[_0x4a6dd9(0x727)]=_0x5b8607[_0x4a6dd9(0x675)]());}let _0x4ac1b9=_0x13132b[_0x4a6dd9(0x368)](_0x5a91ac=>_0xc9c4a8[_0x4a6dd9(0x35d)](_0x5a91ac[_0x4a6dd9(0x177)]));this['logger'][_0x4a6dd9(0x3d2)](this[_0x4a6dd9(0x247)]+'\x20('+this[_0x4a6dd9(0x2ac)][_0x4a6dd9(0x53a)]+_0x4a6dd9(0x604)),this[_0x4a6dd9(0x365)][_0x4a6dd9(0x3d2)](_0xc63d38),this[_0x4a6dd9(0x365)][_0x4a6dd9(0x3d2)](this['instanceName']+'\x20('+this[_0x4a6dd9(0x2ac)][_0x4a6dd9(0x53a)]+_0x4a6dd9(0x1cf)),this[_0x4a6dd9(0x365)][_0x4a6dd9(0x3d2)](_0x4ac1b9);let _0x20837a=_0x4ac1b9[_0x4a6dd9(0x174)](_0x5aa8b4=>{const _0x1e2979=_0x4a6dd9;let _0x2d0485=this[_0x1e2979(0x423)]?.[_0x1e2979(0x10b)][_0x1e2979(0x7a5)](_0x259736=>_0x259736[_0x1e2979(0x177)]===_0x5aa8b4[_0x1e2979(0x177)]);if(!_0x2d0485)throw new Error(_0x1e2979(0x2fb)+_0x5aa8b4[_0x1e2979(0x177)]);return{'_id':_0x2d0485[_0x1e2979(0x5e4)],'value':_0x5aa8b4[_0x1e2979(0x306)]};});this[_0x4a6dd9(0x365)]['verbose'](this[_0x4a6dd9(0x247)]+'\x20('+this[_0x4a6dd9(0x2ac)][_0x4a6dd9(0x53a)]+_0x4a6dd9(0x668)),this[_0x4a6dd9(0x365)][_0x4a6dd9(0x3d2)](_0x20837a),await this['saveChatVariables'](_0x33b2de[_0x4a6dd9(0x5aa)],_0xc63d38,_0x20837a);}catch(_0xd2cec1){this[_0x4a6dd9(0x365)][_0x4a6dd9(0xdb)](this[_0x4a6dd9(0x247)]+'\x20('+this[_0x4a6dd9(0x2ac)][_0x4a6dd9(0x53a)]+'):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20'+(_0xd2cec1 instanceof Error?_0xd2cec1[_0x4a6dd9(0x620)]:JSON[_0x4a6dd9(0x230)](_0xd2cec1,null,0x2)));}}else this[_0x4a6dd9(0x365)][_0x4a6dd9(0xdb)](this[_0x4a6dd9(0x247)]+'\x20('+this[_0x4a6dd9(0x2ac)][_0x4a6dd9(0x53a)]+'):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida');}catch(_0x119900){this[_0x4a6dd9(0x365)][_0x4a6dd9(0xdb)](this[_0x4a6dd9(0x247)]+'\x20('+this[_0x4a6dd9(0x2ac)][_0x4a6dd9(0x53a)]+'):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20'+(_0x119900 instanceof Error?_0x119900[_0x4a6dd9(0x620)]:JSON[_0x4a6dd9(0x230)](_0x119900,null,0x2)));}}async[a0_0x29ff78(0x78f)](_0xbbd511,_0x7550aa,_0x4fd20c){const _0x340c96=a0_0x29ff78;try{let _0x2489ec={'leadInfo.leadnome':_0x7550aa[_0x340c96(0x444)],'leadInfo.nomecompleto':_0x7550aa[_0x340c96(0x4b6)],'leadInfo.email':_0x7550aa[_0x340c96(0x2d5)],'leadInfo.cpf':_0x7550aa[_0x340c96(0x307)],'leadInfo.status':_0x7550aa[_0x340c96(0x353)],'leadInfo.notas':_0x7550aa['notas'],'leadInfo.responsavelid':_0x7550aa[_0x340c96(0x735)],'leadInfo.tags':_0x7550aa[_0x340c96(0x605)],'leadInfo.etiquetas':_0x7550aa['etiquetas'],'leadInfo.customFields':_0x4fd20c,'leadInfo.atendimentoAberto':_0x7550aa[_0x340c96(0xb9)]},_0x153f75=await this[_0x340c96(0x479)]['chat'][_0x340c96(0x2d8)]({'where':{'_id':_0xbbd511}},this[_0x340c96(0x2ac)]['wuid']);if(!_0x153f75)return'chat\x20não\x20encontrado';let _0x477b3f=new Set(_0x153f75[_0x340c96(0x25f)][_0x340c96(0x2b3)]||[]),_0x52d4ff=new Set(_0x7550aa['etiquetas']||[]),_0x2ac795=await this[_0x340c96(0x479)][_0x340c96(0x4a4)][_0x340c96(0x7a5)]({'where':{}},this[_0x340c96(0x2ac)]['wuid']),_0x68b69f=new Set(_0x2ac795[_0x340c96(0x174)](_0x2bff84=>_0x2bff84[_0x340c96(0x5e4)])),_0x434c4e=[..._0x52d4ff][_0x340c96(0x368)](_0x3d7422=>!_0x477b3f[_0x340c96(0x6ad)](_0x3d7422)&&_0x68b69f[_0x340c96(0x6ad)](_0x3d7422)),_0x22caef=[..._0x477b3f]['filter'](_0x592f43=>!_0x52d4ff['has'](_0x592f43));for(let _0xf8d222 of _0x434c4e)await this[_0x340c96(0x4c6)](_0xf8d222,_0x153f75[_0x340c96(0x5e4)]),_0x477b3f['add'](_0xf8d222);for(let _0x4c3f8c of _0x22caef)await this[_0x340c96(0x41d)](_0x4c3f8c,_0x153f75[_0x340c96(0x5e4)]),_0x477b3f[_0x340c96(0x7b8)](_0x4c3f8c);if(_0x340c96(0x727)in _0x7550aa){let _0x36555d=_0x7550aa[_0x340c96(0x727)];_0x2489ec['leadInfo.desativadoFluxoAte']=_0x36555d?Number(_0x36555d):null;}if('atendimentoAberto'in _0x7550aa){let _0x7d33f9=_0x7550aa[_0x340c96(0xb9)][_0x340c96(0xb5)]();_0x2489ec[_0x340c96(0x78a)]=_0x7d33f9===_0x340c96(0x569)||_0x7d33f9==='1'||_0x7d33f9==='yes'||_0x7d33f9==='sim';}let _0x37087d=await this['repository'][_0x340c96(0x77e)][_0x340c96(0x1bc)]({'where':{'_id':_0xbbd511}},_0x2489ec,this[_0x340c96(0x2ac)]['wuid']);_0x37087d?(this[_0x340c96(0x365)][_0x340c96(0x3d2)](this[_0x340c96(0x247)]+'\x20('+this[_0x340c96(0x2ac)]['wuid']+_0x340c96(0x2a3)+_0x37087d[_0x340c96(0x5e4)]),F(this['instanceName'],'chats',{'chat':_0x37087d})):this[_0x340c96(0x365)][_0x340c96(0xdb)](this[_0x340c96(0x247)]+'\x20('+this[_0x340c96(0x2ac)][_0x340c96(0x53a)]+_0x340c96(0x512));}catch(_0x4d2efa){this[_0x340c96(0x365)][_0x340c96(0xdb)](this[_0x340c96(0x247)]+'\x20('+this[_0x340c96(0x2ac)][_0x340c96(0x53a)]+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x4d2efa instanceof Error?_0x4d2efa[_0x340c96(0x620)]:JSON[_0x340c96(0x230)](_0x4d2efa,null,0x2)));}}async[a0_0x29ff78(0x48a)](_0x528ac1,_0x1a9e5f){const _0x9d8189=a0_0x29ff78;this['logger'][_0x9d8189(0x3d2)](this[_0x9d8189(0x247)]+'\x20('+this['instance'][_0x9d8189(0x53a)]+_0x9d8189(0x4fc)+_0x1a9e5f);try{let _0x4fab8c=await this['repository'][_0x9d8189(0x77e)][_0x9d8189(0x1bc)]({'where':{'_id':_0x528ac1[_0x9d8189(0x5aa)]}},{'leadInfo.desativadoFluxoAte':_0x1a9e5f},this[_0x9d8189(0x2ac)][_0x9d8189(0x53a)]);this[_0x9d8189(0x365)][_0x9d8189(0x3d2)](this['instanceName']+'\x20('+this[_0x9d8189(0x2ac)]['wuid']+_0x9d8189(0x19d)+_0x528ac1[_0x9d8189(0x5e4)]),this['logger'][_0x9d8189(0x3d2)](this[_0x9d8189(0x247)]+'\x20('+this[_0x9d8189(0x2ac)]['wuid']+'):\x20atualização\x20chat:\x20'+JSON[_0x9d8189(0x230)](_0x4fab8c,null,0x2)),_0x4fab8c&&F(this[_0x9d8189(0x247)],_0x9d8189(0x4ef),{'chat':_0x4fab8c});}catch(_0x1359d5){this[_0x9d8189(0x365)]['error'](this[_0x9d8189(0x247)]+'\x20('+this[_0x9d8189(0x2ac)][_0x9d8189(0x53a)]+_0x9d8189(0x63e)+(_0x1359d5 instanceof Error?_0x1359d5['message']:JSON['stringify'](_0x1359d5,null,0x2)));}}async[a0_0x29ff78(0x2e1)](_0x4b4076){const _0x3ed24f=a0_0x29ff78;try{this[_0x3ed24f(0x365)][_0x3ed24f(0x3d2)](this[_0x3ed24f(0x247)]+'\x20('+this[_0x3ed24f(0x2ac)][_0x3ed24f(0x53a)]+_0x3ed24f(0x67f));let _0x285ec4=_0x4b4076['replace'](/\D/g,''),_0x10741a=await this[_0x3ed24f(0x479)][_0x3ed24f(0x403)]['findOne']({'where':{'testingWith':_0x285ec4}},this[_0x3ed24f(0x2ac)][_0x3ed24f(0x53a)]);return _0x10741a||(this[_0x3ed24f(0x365)][_0x3ed24f(0x3d2)](this[_0x3ed24f(0x247)]+'\x20('+this[_0x3ed24f(0x2ac)][_0x3ed24f(0x53a)]+_0x3ed24f(0x5ca)),_0x10741a=await this[_0x3ed24f(0x479)]['flow'][_0x3ed24f(0x2d8)]({'where':{'default':!0x0}},this['instance']['wuid'])),_0x10741a||(this['logger']['verbose'](this[_0x3ed24f(0x247)]+'\x20('+this[_0x3ed24f(0x2ac)][_0x3ed24f(0x53a)]+_0x3ed24f(0x18b)),null);}catch(_0x5660aa){return this[_0x3ed24f(0x365)][_0x3ed24f(0xdb)](this[_0x3ed24f(0x247)]+'\x20('+this[_0x3ed24f(0x2ac)]['wuid']+_0x3ed24f(0x515)+(_0x5660aa instanceof Error?_0x5660aa[_0x3ed24f(0x620)]:JSON['stringify'](_0x5660aa,null,0x2))),null;}}async[a0_0x29ff78(0x5b3)](_0x15b5a5,_0x5877e6){const _0x43c6e9=a0_0x29ff78;try{let _0x3473a3=!!_0x5877e6[_0x43c6e9(0x1ed)],_0x49839f=_0x5877e6['quoted'],_0x13782e=null;if(this['logger'][_0x43c6e9(0x3d2)](this[_0x43c6e9(0x247)]+'\x20('+this[_0x43c6e9(0x2ac)][_0x43c6e9(0x53a)]+_0x43c6e9(0x1eb)+_0x3473a3+_0x43c6e9(0x749)+_0x49839f),_0x3473a3){this['logger'][_0x43c6e9(0x3d2)](this['instanceName']+'\x20('+this[_0x43c6e9(0x2ac)]['wuid']+_0x43c6e9(0x442));let _0x45058d={'where':{'remoteJid':_0x15b5a5,'waitingMenu_id':_0x49839f}};if(_0x13782e=await this['repository']['flowConversation'][_0x43c6e9(0x2d8)](_0x45058d,this[_0x43c6e9(0x2ac)][_0x43c6e9(0x53a)]),!_0x13782e)return this[_0x43c6e9(0x365)][_0x43c6e9(0x3d2)](this[_0x43c6e9(0x247)]+'\x20('+this[_0x43c6e9(0x2ac)][_0x43c6e9(0x53a)]+_0x43c6e9(0x30b)),null;let _0x4e6f90=Date[_0x43c6e9(0x455)](),_0x8f6da1=_0x13782e?.[_0x43c6e9(0x165)]||0x0,_0x6ce97a=_0x4e6f90-_0x8f6da1*0x3c*0x3e8;if(_0x13782e[_0x43c6e9(0x3a9)]<_0x6ce97a){this[_0x43c6e9(0x365)]['verbose'](this[_0x43c6e9(0x247)]+'\x20('+this[_0x43c6e9(0x2ac)]['wuid']+_0x43c6e9(0x195));let _0x1b0b67={'number':_0x13782e[_0x43c6e9(0x5aa)],'options':{'delay':0x0},'textMessage':{'text':_0x13782e[_0x43c6e9(0x3fe)]}};await this[_0x43c6e9(0x789)](_0x1b0b67);let _0x1538d3={'status':'closed','waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x43c6e9(0x479)]['flowConversation'][_0x43c6e9(0x1bc)](_0x13782e['_id'],_0x1538d3,this[_0x43c6e9(0x2ac)][_0x43c6e9(0x53a)]),null;}return _0x13782e[_0x43c6e9(0x3a9)]=Date[_0x43c6e9(0x455)](),_0x13782e[_0x43c6e9(0x594)][_0x43c6e9(0x2b8)]=_0x5877e6,_0x13782e;}else{this[_0x43c6e9(0x365)][_0x43c6e9(0x3d2)](this[_0x43c6e9(0x247)]+'\x20('+this[_0x43c6e9(0x2ac)][_0x43c6e9(0x53a)]+_0x43c6e9(0x470)+this[_0x43c6e9(0x2ac)]['wuid']+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this['logger'][_0x43c6e9(0x3d2)](this[_0x43c6e9(0x247)]+'\x20('+this[_0x43c6e9(0x2ac)][_0x43c6e9(0x53a)]+_0x43c6e9(0x1b4));let _0x332ea7={'where':{'remoteJid':_0x15b5a5,'status':_0x43c6e9(0x7b2)}};if(_0x13782e=await this[_0x43c6e9(0x479)][_0x43c6e9(0x2bd)][_0x43c6e9(0x2d8)](_0x332ea7,this[_0x43c6e9(0x2ac)][_0x43c6e9(0x53a)]),!_0x13782e){let _0x4f25cc=await this[_0x43c6e9(0x2e1)](_0x15b5a5);if(_0x4f25cc&&(_0x13782e=await this[_0x43c6e9(0x33f)](_0x4f25cc,_0x5877e6[_0x43c6e9(0x60f)],_0x5877e6)),!_0x13782e)return null;}let _0x28a27c=Date[_0x43c6e9(0x455)](),_0x3db4a8=_0x13782e?.[_0x43c6e9(0x165)]||0x0,_0x590193=_0x28a27c-_0x3db4a8*0x3c*0x3e8;if(this[_0x43c6e9(0x365)]['verbose'](this['instanceName']+'\x20('+this[_0x43c6e9(0x2ac)][_0x43c6e9(0x53a)]+'):\x20Current\x20Time:\x20'+_0x28a27c+',\x20Minutes\x20to\x20Close:\x20'+_0x3db4a8+_0x43c6e9(0x62f)+_0x590193),this['logger'][_0x43c6e9(0x3d2)](this[_0x43c6e9(0x247)]+'\x20('+this[_0x43c6e9(0x2ac)]['wuid']+_0x43c6e9(0x420)),this[_0x43c6e9(0x365)]['verbose'](this[_0x43c6e9(0x247)]+'\x20('+this[_0x43c6e9(0x2ac)][_0x43c6e9(0x53a)]+_0x43c6e9(0x65b)+_0x13782e[_0x43c6e9(0x3a9)]),this[_0x43c6e9(0x365)]['verbose'](this[_0x43c6e9(0x247)]+'\x20('+this[_0x43c6e9(0x2ac)][_0x43c6e9(0x53a)]+_0x43c6e9(0x51a)+_0x590193),_0x13782e[_0x43c6e9(0x3a9)]<_0x590193){this[_0x43c6e9(0x365)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x43c6e9(0x53a)]+'):\x20Conversa\x20está\x20expirada');let _0x312c59=await this[_0x43c6e9(0x2e1)](_0x15b5a5);if(_0x312c59===null)return null;_0x13782e&&await this['repository']['flowConversation'][_0x43c6e9(0x1bc)](_0x13782e[_0x43c6e9(0x5e4)],{'status':_0x43c6e9(0x357)},this['instance']['wuid']),_0x13782e=await this[_0x43c6e9(0x33f)](_0x312c59,_0x5877e6['key'],_0x5877e6);}return _0x13782e[_0x43c6e9(0x3a9)]=_0x28a27c,_0x13782e[_0x43c6e9(0x594)][_0x43c6e9(0x2b8)]=_0x5877e6,_0x13782e;}}catch(_0x10850a){return this[_0x43c6e9(0x365)]['error'](this['instanceName']+'\x20('+this[_0x43c6e9(0x2ac)][_0x43c6e9(0x53a)]+'):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20'+(_0x10850a instanceof Error?_0x10850a[_0x43c6e9(0x620)]:JSON[_0x43c6e9(0x230)](_0x10850a,null,0x2))),null;}}async[a0_0x29ff78(0x33f)](_0x1df315,_0x4cfb6e,_0x2cf1d9){const _0x58a845=a0_0x29ff78;this[_0x58a845(0x365)][_0x58a845(0x3d2)](this[_0x58a845(0x247)]+'\x20('+this[_0x58a845(0x2ac)][_0x58a845(0x53a)]+_0x58a845(0x6bc));try{let _0x446751=require(_0x58a845(0x6ae))[_0x58a845(0x202)],_0x5aaea3=Date['now'](),_0x1544c0=_0x58a845(0x433),_0x346c91=_0x4cfb6e[_0x58a845(0x66b)]?null:_0x2cf1d9,_0x33af9=_0x4cfb6e[_0x58a845(0x66b)]?_0x2cf1d9:null,_0x45f9b4=_0x4cfb6e[_0x58a845(0x5aa)];await this[_0x58a845(0x2cc)](_0x45f9b4);let _0x530140={..._0x1df315,'chatLog':null},_0x2db693=await this['variablesToObject'](_0x530140[_0x58a845(0xb4)]),_0x5efd53=await this[_0x58a845(0x728)](_0x45f9b4),_0x49de67={..._0x2db693,..._0x5efd53,'_remoteJid':_0x45f9b4},_0x26f091={'lastReceivedMessage':_0x346c91,'lastSendMessage':_0x33af9,'lastBlockId':_0x1544c0,'lastCondition':!0x0,'realVariables':_0x49de67};_0x530140[_0x58a845(0x594)]=_0x26f091,delete _0x530140[_0x58a845(0x5e4)],_0x530140[_0x58a845(0x5e4)]=new _0x446751(),_0x530140[_0x58a845(0x3a9)]=_0x5aaea3,_0x530140['status']='open',_0x530140['remoteJid']=_0x45f9b4;let _0x5ed51d=await this[_0x58a845(0x479)][_0x58a845(0x2bd)]['updateOne'](_0x530140[_0x58a845(0x5e4)],_0x530140,this[_0x58a845(0x2ac)][_0x58a845(0x53a)]);return this[_0x58a845(0x365)][_0x58a845(0x3d2)](this[_0x58a845(0x247)]+'\x20('+this[_0x58a845(0x2ac)][_0x58a845(0x53a)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x5ed51d?_0x530140:null;}catch(_0x1356c3){return this[_0x58a845(0x365)]['error'](this[_0x58a845(0x247)]+'\x20('+this[_0x58a845(0x2ac)][_0x58a845(0x53a)]+_0x58a845(0x651)+(_0x1356c3 instanceof Error?_0x1356c3['message']:JSON[_0x58a845(0x230)](_0x1356c3,null,0x2))),_0x1356c3;}}async[a0_0x29ff78(0x21e)](_0x31a4a3,_0x2e6e42){const _0x3c5a2f=a0_0x29ff78;let _0x2fa875=_0x31a4a3[_0x3c5a2f(0x5aa)];_0x2e6e42[_0x3c5a2f(0x626)][_0x3c5a2f(0x5aa)]&&_0x2e6e42['uazapi'][_0x3c5a2f(0x5aa)]['trim']()!==''&&(_0x2fa875=_0x2e6e42[_0x3c5a2f(0x626)][_0x3c5a2f(0x5aa)]['trim']()),this[_0x3c5a2f(0x365)][_0x3c5a2f(0x3d2)](this[_0x3c5a2f(0x247)]+'\x20('+this['instance'][_0x3c5a2f(0x53a)]+_0x3c5a2f(0x2a0));let _0x28d64e={'number':_0x2fa875,'options':{'delay':_0x2e6e42[_0x3c5a2f(0x626)][_0x3c5a2f(0x2f3)],'linkPreview':_0x2e6e42[_0x3c5a2f(0x626)][_0x3c5a2f(0x71b)]},'textMessage':{'text':_0x2e6e42['uazapi'][_0x3c5a2f(0x33c)]}};try{let _0x371c3c=await this[_0x3c5a2f(0x789)](_0x28d64e);if(_0x371c3c){let _0x44eee8={'_id':_0x371c3c[_0x3c5a2f(0x60f)]['id'],'_fromMe':_0x371c3c[_0x3c5a2f(0x60f)][_0x3c5a2f(0x66b)],'_remoteJid':_0x371c3c[_0x3c5a2f(0x60f)][_0x3c5a2f(0x5aa)]},_0x2a51b7=(0x0,f['normalizeMessageContent'])(_0x371c3c['message']),_0xaecbcc=(0x0,f[_0x3c5a2f(0xe2)])(_0x2a51b7);_0x31a4a3[_0x3c5a2f(0x594)][_0x3c5a2f(0x6c8)]=_0x2e6e42['_id'][_0x3c5a2f(0x675)]();let {message_normalized:_0xa258b}=this['normalizeMessage'](_0x2a51b7,_0xaecbcc,null);_0x31a4a3['chatLog']['lastSendMessage']=await _0xa258b;let _0x3acc32={'messageId':_0x371c3c[_0x3c5a2f(0x60f)]['id']},_0x21bfa4=_0x31a4a3[_0x3c5a2f(0x594)][_0x3c5a2f(0x489)];Object[_0x3c5a2f(0x153)](_0x21bfa4,_0x44eee8),_0x31a4a3[_0x3c5a2f(0x594)][_0x3c5a2f(0x489)]=_0x21bfa4,this[_0x3c5a2f(0x6c7)](_0x31a4a3,_0x2e6e42,_0x3acc32);}else{let _0x140f4d={'error':!0x0};this[_0x3c5a2f(0x6c7)](_0x31a4a3,_0x2e6e42,_0x140f4d),this['logger'][_0x3c5a2f(0xdb)](this[_0x3c5a2f(0x247)]+'\x20('+this[_0x3c5a2f(0x2ac)][_0x3c5a2f(0x53a)]+_0x3c5a2f(0x11a));}}catch(_0x193988){let _0x2a5d35={'error':!0x0,'errorLog':_0x193988[_0x3c5a2f(0x675)]()};this[_0x3c5a2f(0x6c7)](_0x31a4a3,_0x2e6e42,_0x2a5d35),this[_0x3c5a2f(0x365)]['error'](this[_0x3c5a2f(0x247)]+'\x20('+this[_0x3c5a2f(0x2ac)][_0x3c5a2f(0x53a)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x193988 instanceof Error?_0x193988['message']:JSON[_0x3c5a2f(0x230)](_0x193988,null,0x2)));}}async[a0_0x29ff78(0x367)](_0x369d2a,_0x2cd05f){const _0x175391=a0_0x29ff78;let _0x45aa01=_0x369d2a[_0x175391(0x5aa)];_0x2cd05f['uazapi'][_0x175391(0x5aa)]&&_0x2cd05f[_0x175391(0x626)][_0x175391(0x5aa)][_0x175391(0xf3)]()!==''&&(_0x45aa01=_0x2cd05f[_0x175391(0x626)][_0x175391(0x5aa)]['trim']()),this[_0x175391(0x365)]['verbose'](this['instanceName']+'\x20('+this[_0x175391(0x2ac)][_0x175391(0x53a)]+'):\x20Enviando\x20mídia');let _0x8aa7d5={'number':_0x45aa01,'options':{'delay':_0x2cd05f['uazapi'][_0x175391(0x2f3)],'linkPreview':_0x2cd05f[_0x175391(0x626)][_0x175391(0x71b)]},'mediaMessage':{'mediatype':_0x2cd05f[_0x175391(0x626)][_0x175391(0x182)],'caption':_0x2cd05f[_0x175391(0x626)][_0x175391(0x48f)],'media':_0x2cd05f[_0x175391(0x626)][_0x175391(0x648)],'fileName':_0x2cd05f[_0x175391(0x626)][_0x175391(0x6ac)]}};try{let _0x2dca17=await this[_0x175391(0x4d5)](_0x8aa7d5);if(_0x2dca17){let _0x11898a={'_id':_0x2dca17[_0x175391(0x60f)]['id'],'_fromMe':_0x2dca17['key']['fromMe'],'_remoteJid':_0x2dca17[_0x175391(0x60f)]['remoteJid']},_0x1f5648=(0x0,f[_0x175391(0x5c4)])(_0x2dca17[_0x175391(0x620)]),_0x3bc4aa=(0x0,f[_0x175391(0xe2)])(_0x1f5648);_0x369d2a[_0x175391(0x594)][_0x175391(0x6c8)]=_0x2cd05f[_0x175391(0x5e4)][_0x175391(0x675)]();let {message_normalized:_0x2ee9e0}=this['normalizeMessage'](_0x1f5648,_0x3bc4aa,null);_0x369d2a['chatLog'][_0x175391(0x462)]=await _0x2ee9e0;let _0x142ded={'messageId':_0x2dca17[_0x175391(0x60f)]['id']},_0x657ddf=_0x369d2a['chatLog'][_0x175391(0x489)];Object[_0x175391(0x153)](_0x657ddf,_0x11898a),_0x369d2a[_0x175391(0x594)][_0x175391(0x489)]=_0x657ddf,this[_0x175391(0x6c7)](_0x369d2a,_0x2cd05f,_0x142ded);}else{let _0xedf882={'error':!0x0};this[_0x175391(0x6c7)](_0x369d2a,_0x2cd05f,_0xedf882),this[_0x175391(0x365)][_0x175391(0xdb)](this[_0x175391(0x247)]+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x4d81ca){let _0x104243={'error':!0x0,'errorLog':_0x4d81ca[_0x175391(0x675)]()};this[_0x175391(0x6c7)](_0x369d2a,_0x2cd05f,_0x104243),this[_0x175391(0x365)][_0x175391(0xdb)](this[_0x175391(0x247)]+'\x20('+this[_0x175391(0x2ac)][_0x175391(0x53a)]+_0x175391(0x3c3)+(_0x4d81ca instanceof Error?_0x4d81ca[_0x175391(0x620)]:JSON[_0x175391(0x230)](_0x4d81ca,null,0x2)));}}async['uazapiSendLocation'](_0x173fd2,_0x85a21){const _0x5f58a5=a0_0x29ff78;let _0x3e7635=_0x173fd2[_0x5f58a5(0x5aa)];_0x85a21[_0x5f58a5(0x626)]['remoteJid']&&_0x85a21[_0x5f58a5(0x626)][_0x5f58a5(0x5aa)][_0x5f58a5(0xf3)]()!==''&&(_0x3e7635=_0x85a21['uazapi'][_0x5f58a5(0x5aa)][_0x5f58a5(0xf3)]()),this['logger'][_0x5f58a5(0x3d2)](this['instanceName']+'\x20('+this['instance'][_0x5f58a5(0x53a)]+_0x5f58a5(0x606));let _0x362c2b={'number':_0x3e7635,'options':{'delay':_0x85a21[_0x5f58a5(0x626)][_0x5f58a5(0x2f3)]},'locationMessage':{'name':_0x85a21[_0x5f58a5(0x626)][_0x5f58a5(0x177)],'address':_0x85a21['uazapi'][_0x5f58a5(0x7bf)],'latitude':_0x85a21[_0x5f58a5(0x626)][_0x5f58a5(0x585)],'longitude':_0x85a21[_0x5f58a5(0x626)][_0x5f58a5(0x726)]}};try{let _0x98773f=await this[_0x5f58a5(0x308)](_0x362c2b);if(_0x98773f){let _0x44071e={'_id':_0x98773f[_0x5f58a5(0x60f)]['id'],'_fromMe':_0x98773f[_0x5f58a5(0x60f)][_0x5f58a5(0x66b)],'_remoteJid':_0x98773f['key'][_0x5f58a5(0x5aa)]},_0x2c08dd=(0x0,f[_0x5f58a5(0x5c4)])(_0x98773f[_0x5f58a5(0x620)]),_0x4f6a07=(0x0,f['getContentType'])(_0x2c08dd);_0x173fd2['chatLog'][_0x5f58a5(0x6c8)]=_0x85a21['_id'][_0x5f58a5(0x675)]();let {message_normalized:_0x535d1a}=this['normalizeMessage'](_0x2c08dd,_0x4f6a07,null);_0x173fd2[_0x5f58a5(0x594)][_0x5f58a5(0x462)]=await _0x535d1a;let _0x75292e={'messageId':_0x98773f[_0x5f58a5(0x60f)]['id']},_0x3015b9=_0x173fd2[_0x5f58a5(0x594)]['realVariables'];Object['assign'](_0x3015b9,_0x44071e),_0x173fd2[_0x5f58a5(0x594)]['realVariables']=_0x3015b9,this[_0x5f58a5(0x6c7)](_0x173fd2,_0x85a21,_0x75292e);}else{let _0x67fc41={'error':!0x0};this[_0x5f58a5(0x6c7)](_0x173fd2,_0x85a21,_0x67fc41),this[_0x5f58a5(0x365)][_0x5f58a5(0xdb)](this[_0x5f58a5(0x247)]+'\x20('+this['instance'][_0x5f58a5(0x53a)]+_0x5f58a5(0x715));}}catch(_0x2eab8a){let _0xe57c7d={'error':!0x0,'errorLog':_0x2eab8a[_0x5f58a5(0x675)]()};this[_0x5f58a5(0x6c7)](_0x173fd2,_0x85a21,_0xe57c7d),this[_0x5f58a5(0x365)][_0x5f58a5(0xdb)](this[_0x5f58a5(0x247)]+'\x20('+this['instance'][_0x5f58a5(0x53a)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20'+(_0x2eab8a instanceof Error?_0x2eab8a[_0x5f58a5(0x620)]:JSON[_0x5f58a5(0x230)](_0x2eab8a,null,0x2)));}}async[a0_0x29ff78(0x330)](_0x4b6d51,_0x2b0b33){const _0x2eff77=a0_0x29ff78;let _0x534ece=_0x4b6d51[_0x2eff77(0x5aa)];_0x2b0b33[_0x2eff77(0x626)][_0x2eff77(0x5aa)]&&_0x2b0b33[_0x2eff77(0x626)][_0x2eff77(0x5aa)]['trim']()!==''&&(_0x534ece=_0x2b0b33[_0x2eff77(0x626)][_0x2eff77(0x5aa)][_0x2eff77(0xf3)]()),this[_0x2eff77(0x365)][_0x2eff77(0x3d2)](this['instanceName']+'\x20('+this[_0x2eff77(0x2ac)][_0x2eff77(0x53a)]+_0x2eff77(0x792));let _0x57a22c={'number':_0x534ece,'options':{'delay':_0x2b0b33['uazapi'][_0x2eff77(0x2f3)]},'audioMessage':{'audio':_0x2b0b33['uazapi']['audio']}};try{let _0x53cf7b=await this[_0x2eff77(0x5d4)](_0x57a22c);if(_0x53cf7b){let _0x2f8af8={'_id':_0x53cf7b[_0x2eff77(0x60f)]['id'],'_fromMe':_0x53cf7b[_0x2eff77(0x60f)][_0x2eff77(0x66b)],'_remoteJid':_0x53cf7b['key'][_0x2eff77(0x5aa)]},_0x3e2823=(0x0,f[_0x2eff77(0x5c4)])(_0x53cf7b[_0x2eff77(0x620)]),_0x4b95ac=(0x0,f[_0x2eff77(0xe2)])(_0x3e2823);_0x4b6d51[_0x2eff77(0x594)]['lastBlockId']=_0x2b0b33[_0x2eff77(0x5e4)][_0x2eff77(0x675)]();let {message_normalized:_0x380f7a}=this[_0x2eff77(0x178)](_0x3e2823,_0x4b95ac,null);_0x4b6d51[_0x2eff77(0x594)][_0x2eff77(0x462)]=await _0x380f7a;let _0x150c31={'messageId':_0x53cf7b['key']['id']},_0x349a1c=_0x4b6d51[_0x2eff77(0x594)][_0x2eff77(0x489)];Object[_0x2eff77(0x153)](_0x349a1c,_0x2f8af8),_0x4b6d51[_0x2eff77(0x594)][_0x2eff77(0x489)]=_0x349a1c,this[_0x2eff77(0x6c7)](_0x4b6d51,_0x2b0b33,_0x150c31);}else{let _0xa30ac6={'error':!0x0};this[_0x2eff77(0x6c7)](_0x4b6d51,_0x2b0b33,_0xa30ac6),this[_0x2eff77(0x365)][_0x2eff77(0xdb)](this[_0x2eff77(0x247)]+'\x20('+this['instance'][_0x2eff77(0x53a)]+_0x2eff77(0x13c));}}catch(_0x494428){let _0x1544cb={'error':!0x0,'errorLog':_0x494428[_0x2eff77(0x675)]()};this[_0x2eff77(0x6c7)](_0x4b6d51,_0x2b0b33,_0x1544cb),this['logger'][_0x2eff77(0xdb)](this[_0x2eff77(0x247)]+'\x20('+this['instance'][_0x2eff77(0x53a)]+_0x2eff77(0x5ce)+(_0x494428 instanceof Error?_0x494428[_0x2eff77(0x620)]:JSON[_0x2eff77(0x230)](_0x494428,null,0x2)));}}async['uazapiSendContact'](_0xf9e81e,_0x28aa95){const _0x5c1334=a0_0x29ff78;let _0x3f1b89=_0xf9e81e[_0x5c1334(0x5aa)];_0x28aa95[_0x5c1334(0x626)][_0x5c1334(0x5aa)]&&_0x28aa95['uazapi'][_0x5c1334(0x5aa)][_0x5c1334(0xf3)]()!==''&&(_0x3f1b89=_0x28aa95[_0x5c1334(0x626)][_0x5c1334(0x5aa)][_0x5c1334(0xf3)]()),this[_0x5c1334(0x365)]['verbose'](this[_0x5c1334(0x247)]+'\x20('+this[_0x5c1334(0x2ac)]['wuid']+_0x5c1334(0x431));let _0x50a0b9={'number':_0x3f1b89,'options':{'delay':_0x28aa95['uazapi'][_0x5c1334(0x2f3)]},'contactMessage':[{'fullName':_0x28aa95[_0x5c1334(0x626)][_0x5c1334(0x4ce)],'phoneNumber':_0x28aa95[_0x5c1334(0x626)][_0x5c1334(0x38f)]}]};try{let _0x4b4c29=await this[_0x5c1334(0x6c9)](_0x50a0b9);if(_0x4b4c29){let _0x9fe00a={'_id':_0x4b4c29[_0x5c1334(0x60f)]['id'],'_fromMe':_0x4b4c29[_0x5c1334(0x60f)]['fromMe'],'_remoteJid':_0x4b4c29[_0x5c1334(0x60f)]['remoteJid']},_0x2b93d6=(0x0,f[_0x5c1334(0x5c4)])(_0x4b4c29[_0x5c1334(0x620)]),_0x35b381=(0x0,f[_0x5c1334(0xe2)])(_0x2b93d6);_0xf9e81e[_0x5c1334(0x594)][_0x5c1334(0x6c8)]=_0x28aa95[_0x5c1334(0x5e4)][_0x5c1334(0x675)]();let {message_normalized:_0x4cb3b7}=this[_0x5c1334(0x178)](_0x2b93d6,_0x35b381,null);_0xf9e81e[_0x5c1334(0x594)]['lastSendMessage']=await _0x4cb3b7;let _0xa3b6f1={'messageId':_0x4b4c29[_0x5c1334(0x60f)]['id']},_0x2357fd=_0xf9e81e['chatLog'][_0x5c1334(0x489)];Object[_0x5c1334(0x153)](_0x2357fd,_0x9fe00a),_0xf9e81e[_0x5c1334(0x594)][_0x5c1334(0x489)]=_0x2357fd,this[_0x5c1334(0x6c7)](_0xf9e81e,_0x28aa95,_0xa3b6f1);}else{let _0x88582d={'error':!0x0};this['updateConversation'](_0xf9e81e,_0x28aa95,_0x88582d),this[_0x5c1334(0x365)][_0x5c1334(0xdb)](this[_0x5c1334(0x247)]+'\x20('+this[_0x5c1334(0x2ac)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x3f332c){let _0x401bf4={'error':!0x0,'errorLog':_0x3f332c[_0x5c1334(0x675)]()};this['updateConversation'](_0xf9e81e,_0x28aa95,_0x401bf4),this[_0x5c1334(0x365)][_0x5c1334(0xdb)](this['instanceName']+'\x20('+this[_0x5c1334(0x2ac)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+(_0x3f332c instanceof Error?_0x3f332c[_0x5c1334(0x620)]:JSON[_0x5c1334(0x230)](_0x3f332c,null,0x2)));}}[a0_0x29ff78(0x3d5)](_0x1f536f,_0x452ca7){const _0x2dc7dc=a0_0x29ff78;for(let _0x663b6a of _0x1f536f)_0x663b6a[_0x2dc7dc(0x559)]&&(_0x663b6a[_0x2dc7dc(0x559)]=this[_0x2dc7dc(0x25a)](_0x663b6a[_0x2dc7dc(0x559)],_0x452ca7)),_0x663b6a[_0x2dc7dc(0x157)]&&(_0x663b6a[_0x2dc7dc(0x157)]=this[_0x2dc7dc(0x25a)](_0x663b6a[_0x2dc7dc(0x157)],_0x452ca7));}async['uazapiSendMenu'](_0x37f85b,_0x2d3750){const _0x38c5fe=a0_0x29ff78;let _0x1b79fc=_0x37f85b[_0x38c5fe(0x5aa)];_0x2d3750[_0x38c5fe(0x626)][_0x38c5fe(0x5aa)]&&_0x2d3750[_0x38c5fe(0x626)][_0x38c5fe(0x5aa)][_0x38c5fe(0xf3)]()!==''&&(_0x1b79fc=_0x2d3750['uazapi'][_0x38c5fe(0x5aa)][_0x38c5fe(0xf3)]()),this[_0x38c5fe(0x365)][_0x38c5fe(0x3d2)](this['instanceName']+'\x20('+this[_0x38c5fe(0x2ac)]['wuid']+_0x38c5fe(0x328));let _0x121dcc=_0x37f85b['replyOptions']['filter'](_0x989551=>_0x989551[_0x38c5fe(0x364)]===_0x2d3750[_0x38c5fe(0x5e4)])[_0x38c5fe(0x385)]((_0x43941a,_0x1a92ee)=>_0x43941a[_0x38c5fe(0x6eb)]-_0x1a92ee[_0x38c5fe(0x6eb)]);this[_0x38c5fe(0x3d5)](_0x121dcc,_0x37f85b[_0x38c5fe(0x594)][_0x38c5fe(0x489)]);let _0x5cbc87=_0x121dcc['map'](_0x323995=>_0x323995[_0x38c5fe(0x559)]),_0x23ca50={'number':_0x1b79fc,'menuMessage':{'type':_0x2d3750[_0x38c5fe(0x626)]['menuType']||'poll','text':_0x2d3750[_0x38c5fe(0x626)][_0x38c5fe(0x33c)]||_0x2d3750[_0x38c5fe(0x626)][_0x38c5fe(0x177)],'footerText':_0x2d3750[_0x38c5fe(0x626)][_0x38c5fe(0x4a2)],'buttonText':_0x2d3750[_0x38c5fe(0x626)][_0x38c5fe(0x79b)],'selectableCount':0x1,'choices':_0x5cbc87},'options':{'delay':_0x2d3750['uazapi'][_0x38c5fe(0x2f3)]}};try{let _0x303e88=await this['menuMessage'](_0x23ca50);if(_0x303e88){let _0x10dd3e={'_id':_0x303e88[_0x38c5fe(0x60f)]['id'],'_fromMe':_0x303e88[_0x38c5fe(0x60f)][_0x38c5fe(0x66b)],'_remoteJid':_0x303e88[_0x38c5fe(0x60f)][_0x38c5fe(0x5aa)]};_0x2d3750[_0x38c5fe(0x626)][_0x38c5fe(0x42e)]===!0x0&&(_0x37f85b['status']=_0x38c5fe(0x649),this[_0x38c5fe(0x365)][_0x38c5fe(0x3d2)](this[_0x38c5fe(0x247)]+'\x20('+this[_0x38c5fe(0x2ac)][_0x38c5fe(0x53a)]+'):\x20conversation.status:\x20'+_0x37f85b[_0x38c5fe(0x353)])),this[_0x38c5fe(0x365)][_0x38c5fe(0x3d2)](this[_0x38c5fe(0x247)]+'\x20('+this[_0x38c5fe(0x2ac)]['wuid']+_0x38c5fe(0x461)+(_0x2d3750[_0x38c5fe(0x626)][_0x38c5fe(0x177)]||_0x2d3750['uazapi']['text'])),_0x37f85b['waitingMenu_id']=_0x303e88[_0x38c5fe(0x60f)]['id'],_0x37f85b[_0x38c5fe(0x42c)]=_0x2d3750[_0x38c5fe(0x626)]['name']||_0x2d3750[_0x38c5fe(0x626)][_0x38c5fe(0x33c)],_0x37f85b[_0x38c5fe(0xf2)]=_0x121dcc,_0x2d3750['uazapi']['menuExpiredMessage']&&(_0x37f85b[_0x38c5fe(0x3fe)]=_0x2d3750[_0x38c5fe(0x626)][_0x38c5fe(0x294)]),this[_0x38c5fe(0x365)]['verbose'](this[_0x38c5fe(0x247)]+'\x20('+this[_0x38c5fe(0x2ac)][_0x38c5fe(0x53a)]+'):\x20conversation.waitingMenu_name'+_0x37f85b[_0x38c5fe(0x42c)]);let _0x5ee423=(0x0,f[_0x38c5fe(0x5c4)])(_0x303e88[_0x38c5fe(0x620)]),_0x8eae73=(0x0,f[_0x38c5fe(0xe2)])(_0x5ee423);_0x37f85b[_0x38c5fe(0x594)][_0x38c5fe(0x6c8)]=_0x2d3750[_0x38c5fe(0x5e4)]['toString']();let {message_normalized:_0x2a4520}=this[_0x38c5fe(0x178)](_0x5ee423,_0x8eae73,null);_0x37f85b[_0x38c5fe(0x594)][_0x38c5fe(0x462)]=await _0x2a4520;let _0x30a672={'messageId':_0x303e88[_0x38c5fe(0x60f)]['id']},_0x5ce916=_0x37f85b[_0x38c5fe(0x594)][_0x38c5fe(0x489)];Object[_0x38c5fe(0x153)](_0x5ce916,_0x10dd3e),_0x37f85b[_0x38c5fe(0x594)][_0x38c5fe(0x489)]=_0x5ce916,this[_0x38c5fe(0x6c7)](_0x37f85b,_0x2d3750,_0x30a672);}else{let _0x54832c={'error':!0x0};this[_0x38c5fe(0x6c7)](_0x37f85b,_0x2d3750,_0x54832c),this[_0x38c5fe(0x365)]['error'](this[_0x38c5fe(0x247)]+'\x20('+this[_0x38c5fe(0x2ac)][_0x38c5fe(0x53a)]+_0x38c5fe(0x496));}}catch(_0xfe0a2b){let _0xe6d202={'error':!0x0,'errorLog':_0xfe0a2b instanceof Error?_0xfe0a2b[_0x38c5fe(0x620)]:JSON['stringify'](_0xfe0a2b,null,0x2)};this[_0x38c5fe(0x6c7)](_0x37f85b,_0x2d3750,_0xe6d202),this[_0x38c5fe(0x365)][_0x38c5fe(0xdb)](this[_0x38c5fe(0x247)]+'\x20('+this['instance'][_0x38c5fe(0x53a)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0xfe0a2b instanceof Error?_0xfe0a2b[_0x38c5fe(0x620)]:JSON['stringify'](_0xfe0a2b,null,0x2)));}}async[a0_0x29ff78(0x42d)](_0x3e1a68,_0x10a416){const _0x591145=a0_0x29ff78;this[_0x591145(0x365)]['verbose'](this[_0x591145(0x247)]+'\x20('+this[_0x591145(0x2ac)][_0x591145(0x53a)]+'):\x20Deletando\x20mensagem');let _0x4fdce4=_0x3e1a68[_0x591145(0x594)]['blockLogs'][_0x591145(0x7a5)](_0x3fe7e0=>_0x3fe7e0[_0x591145(0x364)][_0x591145(0x675)]()===_0x10a416[_0x591145(0x626)]['blockId']['toString']()),_0x5985c2={'id':_0x4fdce4['messageId'],'remoteJid':_0x4fdce4[_0x591145(0x5aa)],'fromMe':_0x4fdce4[_0x591145(0x66b)]};try{let _0x5df498=await this['deleteMessage'](_0x5985c2);if(_0x5df498){let _0x4fc53a=(0x0,f['normalizeMessageContent'])(_0x5df498[_0x591145(0x620)]),_0x54586f=(0x0,f[_0x591145(0xe2)])(_0x4fc53a);_0x3e1a68[_0x591145(0x594)][_0x591145(0x6c8)]=_0x10a416[_0x591145(0x5e4)][_0x591145(0x675)]();let {message_normalized:_0x1a22fe}=this[_0x591145(0x178)](_0x4fc53a,_0x54586f,null);_0x3e1a68[_0x591145(0x594)][_0x591145(0x462)]=await _0x1a22fe;let _0x46507a={};this['updateConversation'](_0x3e1a68,_0x10a416,_0x46507a);}else{let _0x248d2c={'error':!0x0};this[_0x591145(0x6c7)](_0x3e1a68,_0x10a416,_0x248d2c),this[_0x591145(0x365)]['error'](this[_0x591145(0x247)]+'\x20('+this[_0x591145(0x2ac)]['wuid']+_0x591145(0x1ce));}}catch(_0x49956a){let _0x212199={'error':!0x0,'errorLog':_0x49956a instanceof Error?_0x49956a[_0x591145(0x620)]:JSON[_0x591145(0x230)](_0x49956a,null,0x2)};this['updateConversation'](_0x3e1a68,_0x10a416,_0x212199),this[_0x591145(0x365)][_0x591145(0xdb)](this[_0x591145(0x247)]+'\x20('+this[_0x591145(0x2ac)][_0x591145(0x53a)]+_0x591145(0x3ea)+(_0x49956a instanceof Error?_0x49956a[_0x591145(0x620)]:JSON[_0x591145(0x230)](_0x49956a,null,0x2)));}}async[a0_0x29ff78(0x197)](_0x1a94af,_0x19a3c5){const _0x3cfc85=a0_0x29ff78;if(!_0x1a94af[_0x3cfc85(0x177)])throw new m(_0x3cfc85(0x14a));let _0x23dbde=_0x1a94af?.[_0x3cfc85(0x1dc)]?.[_0x3cfc85(0xf3)]()===_0x3cfc85(0x569)?_0x3cfc85(0x1dc):this['instance']['wuid'],_0x5d9769=await this[_0x3cfc85(0x479)]['flow']['findOne']({'where':{'name':_0x1a94af[_0x3cfc85(0x177)]}},_0x23dbde);if(_0x19a3c5!==te&&_0x1a94af?.['global']===_0x3cfc85(0x569))throw new m('Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global');if(_0x1a94af?.['global']!==_0x3cfc85(0x569)&&(_0x1a94af[_0x3cfc85(0x1dc)]=_0x3cfc85(0x5a5)),_0x5d9769)throw new m(_0x3cfc85(0x4a7));return _0x3cfc85(0x177)in _0x1a94af&&_0x3cfc85(0x79a)in _0x1a94af&&_0x3cfc85(0x2c7)in _0x1a94af?this['createSharedFlow'](_0x1a94af[_0x3cfc85(0x2c7)],_0x1a94af['sharePass'],_0x1a94af[_0x3cfc85(0x177)]):this[_0x3cfc85(0x62a)](_0x1a94af);}async[a0_0x29ff78(0x147)](_0x5c4668,_0x2800ee,_0x514be5){const _0x6bbea8=a0_0x29ff78;try{this['logger'][_0x6bbea8(0x3d2)](this[_0x6bbea8(0x247)]+'\x20('+this[_0x6bbea8(0x2ac)][_0x6bbea8(0x53a)]+_0x6bbea8(0x672));let _0x3e3aec=await this[_0x6bbea8(0x479)][_0x6bbea8(0x403)][_0x6bbea8(0x2d8)]({'where':{'sharePass':_0x2800ee}},_0x5c4668);if(!_0x3e3aec)throw new m('Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.');let _0x378c46={..._0x3e3aec},_0x378518=_0x3e3aec['global']===_0x6bbea8(0x569)?_0x6bbea8(0x1dc):_0x3e3aec['owner'];return(_0x5c4668===_0x6bbea8(0x1dc)||_0x3e3aec[_0x6bbea8(0x1dc)]==='true')&&(_0x378c46[_0x6bbea8(0x1dc)]=_0x6bbea8(0x629),_0x378c46['owner']=_0x6bbea8(0x1dc)),_0x378c46[_0x6bbea8(0x61f)]=Array[_0x6bbea8(0xde)](new Set([..._0x3e3aec[_0x6bbea8(0x61f)]||[],_0x378518,this[_0x6bbea8(0x2ac)]['wuid']])),_0x3e3aec['shareOwners']=_0x378c46[_0x6bbea8(0x61f)],await this['repository']['flow']['updateOne'](_0x3e3aec[_0x6bbea8(0x5e4)],{'shareOwners':_0x3e3aec[_0x6bbea8(0x61f)]},_0x378518),_0x3e3aec[_0x6bbea8(0x152)]===!0x0&&await this[_0x6bbea8(0x479)][_0x6bbea8(0x403)][_0x6bbea8(0x5c8)]({},{'default':!0x1},this[_0x6bbea8(0x2ac)][_0x6bbea8(0x53a)]),_0x378c46['owner']=this[_0x6bbea8(0x2ac)][_0x6bbea8(0x53a)],await this['repository'][_0x6bbea8(0x403)][_0x6bbea8(0x224)](_0x378c46,this[_0x6bbea8(0x2ac)]['wuid']);}catch(_0x43437d){let _0x4d0ed2=_0x6bbea8(0x754),_0x350291=_0x43437d instanceof Error?_0x43437d['message']:typeof _0x43437d==_0x6bbea8(0x398)?JSON['stringify'](_0x43437d):_0x43437d,_0x576d99=_0x4d0ed2+':\x20'+_0x350291;throw this['logger'][_0x6bbea8(0xdb)](this[_0x6bbea8(0x247)]+'\x20('+this['instance']['wuid']+_0x6bbea8(0x470)+_0x576d99),new m(_0x576d99);}}async[a0_0x29ff78(0x62a)](_0x5c131d){const _0x1bde96=a0_0x29ff78;try{this[_0x1bde96(0x365)]['verbose'](this[_0x1bde96(0x247)]+'\x20('+this[_0x1bde96(0x2ac)]['wuid']+_0x1bde96(0x74b));let _0xbe1774=_0x5c131d?.['global']===_0x1bde96(0x569)?_0x1bde96(0x1dc):this[_0x1bde96(0x2ac)][_0x1bde96(0x53a)];delete _0x5c131d[_0x1bde96(0x61f)],delete _0x5c131d[_0x1bde96(0x79a)],delete _0x5c131d[_0x1bde96(0x2c7)],_0x5c131d[_0x1bde96(0x152)]===!0x0&&await this['repository'][_0x1bde96(0x403)][_0x1bde96(0x5c8)]({},{'default':!0x1},this[_0x1bde96(0x2ac)][_0x1bde96(0x53a)]);let _0x3dc792=new re[(_0x1bde96(0x2c8))]['ObjectId'](),_0x2e68ab={'_id':_0x3dc792,'default':!0x0,'title':_0x1bde96(0x76d),'x':0x0,'y':0x0},_0x35fe67={'_id':new re[(_0x1bde96(0x2c8))][(_0x1bde96(0x202))](),'order':0x1,'groupId':_0x3dc792[_0x1bde96(0x675)](),'type':_0x1bde96(0x433)},_0xf8e352={'_id':new re[(_0x1bde96(0x2c8))][(_0x1bde96(0x202))](),'owner':this['instance'][_0x1bde96(0x53a)],'name':_0x5c131d[_0x1bde96(0x177)],'groups':[_0x2e68ab],'blocks':[_0x35fe67],..._0x5c131d};return await this[_0x1bde96(0x479)][_0x1bde96(0x403)][_0x1bde96(0x224)](_0xf8e352,_0xbe1774);}catch(_0x4b7914){let _0xff333=_0x1bde96(0x718),_0x2edd1f=_0x4b7914 instanceof Error?_0x4b7914[_0x1bde96(0x620)]:typeof _0x4b7914==_0x1bde96(0x398)?JSON[_0x1bde96(0x230)](_0x4b7914):_0x4b7914,_0x2f226f=_0xff333+':\x20'+_0x2edd1f;throw this[_0x1bde96(0x365)][_0x1bde96(0xdb)](this[_0x1bde96(0x247)]+'\x20('+this[_0x1bde96(0x2ac)][_0x1bde96(0x53a)]+_0x1bde96(0x470)+_0x2f226f),new m(_0x2f226f);}}async[a0_0x29ff78(0xbd)](_0xe9d0d1,_0x232542){const _0x41e7a2=a0_0x29ff78;this['logger'][_0x41e7a2(0x7b5)](_0x41e7a2(0x580));try{let _0x37cc70=await this[_0x41e7a2(0x479)][_0x41e7a2(0x403)][_0x41e7a2(0x2d8)]({'where':{'_id':_0xe9d0d1}},_0x232542);if(delete _0x37cc70[_0x41e7a2(0x152)],delete _0x37cc70[_0x41e7a2(0x799)],delete _0x37cc70['testingWith'],delete _0x37cc70['minutesToClose'],delete _0x37cc70['readMessages'],_0x37cc70['global']===_0x41e7a2(0x569)&&(_0x37cc70[_0x41e7a2(0x1dc)]='sync'),_0x37cc70&&_0x37cc70['shareOwners']){for(let _0x11e150 of _0x37cc70[_0x41e7a2(0x61f)])if(_0x11e150!==_0x232542){let _0x155ea0={..._0x37cc70,'owner':_0x11e150};await this[_0x41e7a2(0x479)][_0x41e7a2(0x403)]['findAndUpdate'](_0x37cc70[_0x41e7a2(0x5e4)],_0x155ea0,_0x11e150);}}}catch(_0x17a853){this['logger']['error']('Erro\x20ao\x20sincronizar\x20fluxos:\x20'+_0x17a853);}}async['deleteFlow'](_0x5f3993,_0x897a32){const _0x5c6074=a0_0x29ff78;try{this['logger'][_0x5c6074(0x3d2)](this['instanceName']+'\x20('+this[_0x5c6074(0x2ac)][_0x5c6074(0x53a)]+_0x5c6074(0x3ac)+_0x5f3993['name']+',\x20global:\x20'+_0x5f3993[_0x5c6074(0x1dc)]);let _0x20e994=_0x5f3993[_0x5c6074(0x1dc)]===_0x5c6074(0x569)?_0x5c6074(0x1dc):this['instance'][_0x5c6074(0x53a)],_0x48acc9=await this[_0x5c6074(0x479)]['flow']['findOne']({'where':{'name':_0x5f3993[_0x5c6074(0x177)]}},_0x20e994);if(!_0x48acc9)throw new m('Fluxo\x20não\x20encontrado.');if(_0x897a32!==te&&_0x48acc9?.[_0x5c6074(0x1dc)]==='true'&&_0x48acc9?.[_0x5c6074(0x2c7)]!==this[_0x5c6074(0x2ac)][_0x5c6074(0x53a)])throw new m(_0x5c6074(0x50d));if(_0x48acc9&&_0x48acc9[_0x5c6074(0x61f)]&&_0x48acc9[_0x5c6074(0x61f)]['length']>0x0){for(let _0x2c5770 of _0x48acc9[_0x5c6074(0x61f)])if(_0x2c5770!==_0x20e994){let _0xa96395=await this[_0x5c6074(0x479)][_0x5c6074(0x403)][_0x5c6074(0x2d8)]({'where':{'sharePass':_0x48acc9[_0x5c6074(0x79a)]}},_0x2c5770);if(_0xa96395){_0xa96395[_0x5c6074(0x61f)]=_0xa96395['shareOwners'][_0x5c6074(0x368)](_0x53dc47=>_0x53dc47!==_0x48acc9[_0x5c6074(0x2c7)]);let _0x2d4ee3={'shareOwners':_0xa96395[_0x5c6074(0x61f)]};_0x48acc9[_0x5c6074(0x1dc)]==='true'&&(_0x2d4ee3[_0x5c6074(0x1dc)]=_0x5c6074(0x5a5)),await this['repository']['flow'][_0x5c6074(0x1bc)](_0xa96395[_0x5c6074(0x5e4)],_0x2d4ee3,_0x2c5770);}}}return await this[_0x5c6074(0x479)][_0x5c6074(0x403)][_0x5c6074(0x4bd)]({'where':{'name':_0x5f3993[_0x5c6074(0x177)]}},_0x20e994);}catch(_0x3818cc){return this['logger']['error'](this[_0x5c6074(0x247)]+'\x20('+this[_0x5c6074(0x2ac)]['wuid']+'):\x20Erro\x20ao\x20deletar\x20fluxo\x20'+(_0x3818cc instanceof Error?_0x3818cc[_0x5c6074(0x620)]:JSON['stringify'](_0x3818cc,null,0x2))),{'message':_0x5c6074(0x1cb)+_0x3818cc['message']};}}async[a0_0x29ff78(0x1f6)](_0x557d41,_0x1719cb){const _0x1a679b=a0_0x29ff78;try{this[_0x1a679b(0x365)]['info'](this[_0x1a679b(0x247)]+'\x20('+this['instance'][_0x1a679b(0x53a)]+_0x1a679b(0x4e7)+_0x557d41+_0x1a679b(0x102)+_0x1719cb);let _0x59e725=_0x1719cb?.['trim']()===_0x1a679b(0x569)?'global':this[_0x1a679b(0x2ac)][_0x1a679b(0x53a)],_0x14ecf8=await this['repository'][_0x1a679b(0x403)][_0x1a679b(0x2d8)]({'where':{'name':_0x557d41}},_0x59e725);if(!_0x14ecf8)throw new Error(_0x1a679b(0x4eb));if(_0x14ecf8[_0x1a679b(0x315)]||(_0x14ecf8[_0x1a679b(0x315)]=(0x0,Me['v4'])()),!this[_0x1a679b(0x423)]&&(await this[_0x1a679b(0x5af)](),!this[_0x1a679b(0x423)]))return null;let _0x1b910d=this['AutomateSystem']?.[_0x1a679b(0x10b)]['map'](_0x401f24=>_0x401f24[_0x1a679b(0x177)]),_0x21d5f1=[_0x1a679b(0x444),_0x1a679b(0x4b6),_0x1a679b(0x2d5),_0x1a679b(0x307),_0x1a679b(0x353),_0x1a679b(0x29e),'responsavelid',_0x1a679b(0x605),_0x1a679b(0x2b3),_0x1a679b(0x50b),_0x1a679b(0xb9)];_0x14ecf8[_0x1a679b(0xb4)]=_0x14ecf8[_0x1a679b(0xb4)][_0x1a679b(0x368)](_0x397309=>!(_0x397309[_0x1a679b(0x446)]===_0x1a679b(0x25f)||_0x397309['leadInfo'])),_0x21d5f1['forEach'](_0x479d2c=>{const _0x43c8cb=_0x1a679b;_0x14ecf8[_0x43c8cb(0xb4)][_0x43c8cb(0x41b)]({'folder':_0x43c8cb(0x25f),'name':_0x479d2c,'value':'','doc':'','leadInfo':!0x0});}),_0x1b910d[_0x1a679b(0x628)](_0x3546fd=>{const _0x4b1601=_0x1a679b;let _0x1457c4=_0x14ecf8['variables'][_0x4b1601(0x1da)](_0x3780f6=>_0x3780f6[_0x4b1601(0x177)]===_0x3546fd);_0x1457c4===-0x1?_0x14ecf8['variables'][_0x4b1601(0x41b)]({'folder':_0x4b1601(0x25f),'name':_0x3546fd,'value':'','doc':'','leadInfo':!0x0}):(_0x14ecf8[_0x4b1601(0xb4)][_0x1457c4]['folder']=_0x4b1601(0x25f),_0x14ecf8[_0x4b1601(0xb4)][_0x1457c4][_0x4b1601(0x25f)]=!0x0);}),_0x14ecf8[_0x1a679b(0x5f4)]&&_0x14ecf8['blocks'][_0x1a679b(0x78c)]>0x0&&_0x14ecf8[_0x1a679b(0x5f4)][_0x1a679b(0x628)](_0x377fbf=>{const _0x2b9d67=_0x1a679b;_0x377fbf[_0x2b9d67(0x5c2)]&&_0x377fbf[_0x2b9d67(0x311)]&&_0x377fbf[_0x2b9d67(0x5c2)]===_0x377fbf[_0x2b9d67(0x311)]&&(_0x377fbf[_0x2b9d67(0x311)]=null);});let _0xd49b89=await this[_0x1a679b(0x479)][_0x1a679b(0x403)]['updateOne'](_0x14ecf8[_0x1a679b(0x5e4)],_0x14ecf8,_0x59e725);if(!_0xd49b89)throw new Error(_0x1a679b(0x542));return _0xd49b89;}catch(_0x2c02d4){let _0x41302d=_0x1a679b(0xe4),_0x525920=_0x2c02d4 instanceof Error?_0x2c02d4[_0x1a679b(0x620)]:typeof _0x2c02d4==_0x1a679b(0x398)?JSON['stringify'](_0x2c02d4):_0x2c02d4,_0x4f44c8=_0x41302d+':\x20'+_0x525920;throw this[_0x1a679b(0x365)][_0x1a679b(0xdb)](this['instanceName']+'\x20('+this[_0x1a679b(0x2ac)][_0x1a679b(0x53a)]+_0x1a679b(0x470)+_0x4f44c8),new m(_0x4f44c8);}}async[a0_0x29ff78(0x1c8)](){const _0x449dff=a0_0x29ff78;try{this[_0x449dff(0x365)][_0x449dff(0x3d2)](this['instanceName']+'\x20('+this[_0x449dff(0x2ac)]['wuid']+_0x449dff(0x3f1)),await this['repository']['flow'][_0x449dff(0x11e)](this['instance'][_0x449dff(0x53a)]);let _0x37306b=await this['repository'][_0x449dff(0x403)][_0x449dff(0x761)]({'where':{}},this[_0x449dff(0x2ac)]['wuid']),_0x275507=await this[_0x449dff(0x479)][_0x449dff(0x403)][_0x449dff(0x761)]({'where':{}},_0x449dff(0x1dc));return _0x37306b['concat'](_0x275507);}catch(_0x10e6df){return this[_0x449dff(0x365)][_0x449dff(0xdb)](this[_0x449dff(0x247)]+'\x20('+this[_0x449dff(0x2ac)][_0x449dff(0x53a)]+'):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20'+(_0x10e6df instanceof Error?_0x10e6df[_0x449dff(0x620)]:JSON[_0x449dff(0x230)](_0x10e6df,null,0x2))),{'message':_0x449dff(0x115)+_0x10e6df[_0x449dff(0x620)]};}}async[a0_0x29ff78(0x265)](_0x53289f,_0x1e3bc4){const _0x12adb6=a0_0x29ff78;try{this[_0x12adb6(0x365)][_0x12adb6(0x3d2)](this['instanceName']+'\x20('+this[_0x12adb6(0x2ac)][_0x12adb6(0x53a)]+'):\x20Alterando\x20fluxo...');let _0x483862=_0x53289f?.[_0x12adb6(0x1dc)]?.['trim']()==='true'?_0x12adb6(0x1dc):this['instance'][_0x12adb6(0x53a)],_0x2d388c=await this[_0x12adb6(0x479)][_0x12adb6(0x403)][_0x12adb6(0x2d8)]({'where':{'name':_0x53289f[_0x12adb6(0x177)]}},_0x483862);if(!_0x2d388c)return{'message':_0x12adb6(0x588)};if(_0x1e3bc4!==te&&_0x2d388c?.['global']===_0x12adb6(0x569)&&_0x2d388c?.['owner']!==this['instance'][_0x12adb6(0x53a)])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');_0x2d388c?.[_0x12adb6(0x1dc)]===_0x12adb6(0x629)&&(_0x53289f={'default':_0x53289f[_0x12adb6(0x152)],'minutesToClose':_0x53289f[_0x12adb6(0x165)],'readMessages':_0x53289f['readMessages'],'testingWith':_0x53289f[_0x12adb6(0x762)],'startCommandWord':_0x53289f['startCommandWord']}),_0x53289f[_0x12adb6(0x152)]===!0x0&&_0x2d388c?.[_0x12adb6(0x1dc)]!==_0x12adb6(0x569)&&await this['repository'][_0x12adb6(0x403)][_0x12adb6(0x5c8)]({},{'default':!0x1},_0x483862),delete _0x53289f[_0x12adb6(0x61f)],delete _0x53289f[_0x12adb6(0x79a)],delete _0x53289f['global'];let _0x5d9864=await this['repository'][_0x12adb6(0x403)]['updateOne'](_0x2d388c[_0x12adb6(0x5e4)],_0x53289f,_0x483862);return _0x5d9864&&_0x5d9864[_0x12adb6(0x61f)]&&_0x5d9864[_0x12adb6(0x61f)][_0x12adb6(0x78c)]>0x1&&_0x5d9864[_0x12adb6(0x1dc)]!==_0x12adb6(0x629)&&this[_0x12adb6(0xbd)](_0x5d9864[_0x12adb6(0x5e4)],_0x483862),_0x5d9864;}catch(_0x110a42){let _0x3129b5=_0x12adb6(0x77f),_0x530bad=_0x110a42 instanceof Error?_0x110a42[_0x12adb6(0x620)]:typeof _0x110a42==_0x12adb6(0x398)?JSON[_0x12adb6(0x230)](_0x110a42):_0x110a42,_0x1e3fc2=_0x3129b5+':\x20'+_0x530bad;throw this['logger'][_0x12adb6(0xdb)](this[_0x12adb6(0x247)]+'\x20('+this[_0x12adb6(0x2ac)]['wuid']+_0x12adb6(0x470)+_0x1e3fc2),new m(_0x1e3fc2);}}async['editFlowBlock'](_0x58d6c5,_0x2be40c){const _0x584e3c=a0_0x29ff78;try{this['logger'][_0x584e3c(0x3d2)](this[_0x584e3c(0x247)]+'\x20('+this[_0x584e3c(0x2ac)][_0x584e3c(0x53a)]+'):\x20Editando\x20bloco...');let _0x37605e=_0x58d6c5?.[_0x584e3c(0x1dc)]?.[_0x584e3c(0xf3)]()==='true'?_0x584e3c(0x1dc):this[_0x584e3c(0x2ac)][_0x584e3c(0x53a)],_0x41526e=await this['repository'][_0x584e3c(0x403)][_0x584e3c(0x2d8)]({'where':{'name':_0x58d6c5[_0x584e3c(0x177)]}},_0x37605e);if(_0x41526e||this[_0x584e3c(0x2ae)](_0x584e3c(0x4eb)),_0x41526e?.[_0x584e3c(0x1dc)]===_0x584e3c(0x629))throw new m(_0x584e3c(0x363));if(_0x2be40c!==te&&_0x41526e?.[_0x584e3c(0x1dc)]==='true'&&_0x41526e?.[_0x584e3c(0x2c7)]!==this[_0x584e3c(0x2ac)][_0x584e3c(0x53a)])throw new m(_0x584e3c(0x690));let {block:_0x200f93}=_0x58d6c5;_0x200f93?.[_0x584e3c(0x3f5)]?this[_0x584e3c(0x565)](_0x41526e,_0x58d6c5):_0x200f93?.[_0x584e3c(0x7b8)]?this[_0x584e3c(0x13f)](_0x41526e,_0x58d6c5):_0x200f93[_0x584e3c(0x5e4)]?await this[_0x584e3c(0x693)](_0x41526e,_0x58d6c5):this['addBlock'](_0x41526e,_0x58d6c5);let _0x514862=await this[_0x584e3c(0x479)][_0x584e3c(0x403)][_0x584e3c(0x1bc)](_0x41526e[_0x584e3c(0x5e4)],_0x41526e,_0x37605e);if(_0x514862&&_0x514862[_0x584e3c(0x61f)]&&_0x514862['shareOwners'][_0x584e3c(0x78c)]>0x1&&this['synchronizeFlows'](_0x514862[_0x584e3c(0x5e4)],this[_0x584e3c(0x2ac)]['wuid']),!_0x514862)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x514862;}catch(_0x35978a){this['throwAndLogError'](_0x584e3c(0x2f0)+_0x35978a[_0x584e3c(0x620)]);}}async[a0_0x29ff78(0x565)](_0x494feb,_0x2acfc7){const _0x40bc2a=a0_0x29ff78;let _0x3d8714=_0x2acfc7[_0x40bc2a(0x1e2)][_0x40bc2a(0x5e4)],_0x3de5bd=_0x494feb[_0x40bc2a(0x5f4)][_0x40bc2a(0x7a5)](_0x4d3d95=>_0x4d3d95[_0x40bc2a(0x5e4)][_0x40bc2a(0x675)]()===_0x3d8714);if(!_0x3de5bd){this[_0x40bc2a(0x365)][_0x40bc2a(0xdb)](this['instanceName']+'\x20('+this[_0x40bc2a(0x2ac)][_0x40bc2a(0x53a)]+_0x40bc2a(0x68a)+_0x3d8714+_0x40bc2a(0x60e));return;}this['logger'][_0x40bc2a(0x3d2)](this[_0x40bc2a(0x247)]+'\x20('+this['instance'][_0x40bc2a(0x53a)]+_0x40bc2a(0x787)+JSON['stringify'](_0x3de5bd));let _0x148186=JSON[_0x40bc2a(0x1cd)](JSON[_0x40bc2a(0x230)](_0x3de5bd));_0x148186[_0x40bc2a(0x5e4)]=new re['default'][(_0x40bc2a(0x2c8))][(_0x40bc2a(0x202))](),this[_0x40bc2a(0x365)]['verbose'](this[_0x40bc2a(0x247)]+'\x20('+this[_0x40bc2a(0x2ac)][_0x40bc2a(0x53a)]+_0x40bc2a(0x3b5)+JSON[_0x40bc2a(0x230)](_0x148186)),_0x494feb[_0x40bc2a(0x5f4)]['push'](_0x148186),this[_0x40bc2a(0x58f)](_0x494feb['blocks'],_0x148186['groupId']);}[a0_0x29ff78(0x2ae)](_0x430434){const _0x5ad24b=a0_0x29ff78;throw this[_0x5ad24b(0x365)]['error'](this[_0x5ad24b(0x247)]+'\x20('+this['instance']['wuid']+_0x5ad24b(0x470)+_0x430434),new m(_0x430434);}[a0_0x29ff78(0x13f)](_0x779caf,_0x5b2847){const _0xba03ae=a0_0x29ff78;let {block:_0x3a322c}=_0x5b2847;if(_0x3a322c['type']===_0xba03ae(0x433)){this[_0xba03ae(0x2ae)](_0xba03ae(0x168));return;}if(!_0x3a322c[_0xba03ae(0x5e4)]){this[_0xba03ae(0x2ae)](_0xba03ae(0x6ec));return;}let _0x3cc1eb=_0x779caf['blocks'][_0xba03ae(0x7a5)](_0x8b3eef=>_0x8b3eef[_0xba03ae(0x5e4)]['toString']()===_0x5b2847[_0xba03ae(0x1e2)][_0xba03ae(0x5e4)]['toString']());if(!_0x3cc1eb){this[_0xba03ae(0x2ae)](_0xba03ae(0x582)+_0x3a322c[_0xba03ae(0x5e4)]+'\x20não\x20encontrado');return;}_0x779caf[_0xba03ae(0x5f4)]=_0x779caf[_0xba03ae(0x5f4)]['filter'](_0x1193bb=>_0x1193bb[_0xba03ae(0x5e4)][_0xba03ae(0x675)]()!==_0x5b2847[_0xba03ae(0x1e2)][_0xba03ae(0x5e4)][_0xba03ae(0x675)]()),_0x779caf[_0xba03ae(0x7b1)]=_0x779caf[_0xba03ae(0x7b1)][_0xba03ae(0x368)](_0x240b11=>_0x240b11[_0xba03ae(0x364)]!==_0x3a322c['_id'][_0xba03ae(0x675)]()),_0x779caf[_0xba03ae(0x5de)]=_0x779caf[_0xba03ae(0x5de)][_0xba03ae(0x368)](_0x5dc5f2=>_0x5dc5f2[_0xba03ae(0x364)]!==_0x3a322c['_id'][_0xba03ae(0x675)]()),_0x779caf['replyOptions']=_0x779caf[_0xba03ae(0x267)][_0xba03ae(0x368)](_0x33b188=>_0x33b188[_0xba03ae(0x364)]!==_0x3a322c[_0xba03ae(0x5e4)][_0xba03ae(0x675)]()),this['reorderBlocks'](_0x779caf[_0xba03ae(0x5f4)],_0x3cc1eb[_0xba03ae(0x5c2)]);}async['updateBlock'](_0x2c063d,_0x656b44){const _0x2a54b1=a0_0x29ff78;let _0x285989=_0x2c063d[_0x2a54b1(0x5f4)][_0x2a54b1(0x1da)](_0x4516e7=>_0x4516e7[_0x2a54b1(0x5e4)][_0x2a54b1(0x675)]()===_0x656b44[_0x2a54b1(0x1e2)][_0x2a54b1(0x5e4)][_0x2a54b1(0x675)]());if(this['logger'][_0x2a54b1(0x3d2)](this[_0x2a54b1(0x247)]+'\x20('+this[_0x2a54b1(0x2ac)]['wuid']+_0x2a54b1(0x75d)+_0x285989),_0x285989===-0x1){this['logger'][_0x2a54b1(0x3d2)](_0x2a54b1(0x582)+_0x656b44[_0x2a54b1(0x1e2)][_0x2a54b1(0x5e4)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}if(_0x2c063d[_0x2a54b1(0x5f4)][_0x285989][_0x2a54b1(0x14b)]===_0x2a54b1(0x433)){let _0x86a5e6=Object[_0x2a54b1(0x63f)](_0x656b44[_0x2a54b1(0x1e2)]);if(_0x86a5e6[_0x2a54b1(0x78c)]>0x2||_0x86a5e6['length']===0x2&&!_0x86a5e6[_0x2a54b1(0x35d)](_0x2a54b1(0x311))){this[_0x2a54b1(0x2ae)]('Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão');return;}}let _0x52f3e5=_0x2c063d[_0x2a54b1(0x5f4)][_0x285989][_0x2a54b1(0x5c2)];for(let _0x4bada9 in _0x656b44[_0x2a54b1(0x1e2)])_0x656b44[_0x2a54b1(0x1e2)][_0x2a54b1(0x59e)](_0x4bada9)&&(_0x2c063d[_0x2a54b1(0x5f4)][_0x285989][_0x4bada9]=_0x656b44[_0x2a54b1(0x1e2)][_0x4bada9]);if(this['logger'][_0x2a54b1(0x3d2)](this[_0x2a54b1(0x247)]+'\x20('+this[_0x2a54b1(0x2ac)][_0x2a54b1(0x53a)]+_0x2a54b1(0x268)+JSON[_0x2a54b1(0x230)](_0x2c063d[_0x2a54b1(0x5f4)][_0x285989])),_0x2c063d['blocks'][_0x285989]['apirequest']&&_0x2a54b1(0x413)in _0x2c063d['blocks'][_0x285989][_0x2a54b1(0x689)]){this[_0x2a54b1(0x365)][_0x2a54b1(0x3d2)](this[_0x2a54b1(0x247)]+'\x20('+this[_0x2a54b1(0x2ac)][_0x2a54b1(0x53a)]+_0x2a54b1(0xc2));let _0x40e6fc=JSON[_0x2a54b1(0x230)](_0x2c063d[_0x2a54b1(0x5f4)][_0x285989][_0x2a54b1(0x689)][_0x2a54b1(0x413)],null,0x1);_0x40e6fc[_0x2a54b1(0x78c)]>0x2&&(_0x40e6fc=_0x40e6fc[_0x2a54b1(0x704)](0x1,_0x40e6fc[_0x2a54b1(0x78c)]-0x1)[_0x2a54b1(0xf3)]()),_0x2c063d[_0x2a54b1(0x5f4)][_0x285989][_0x2a54b1(0x689)]['headerString']=_0x40e6fc;}if(_0x2c063d[_0x2a54b1(0x5f4)][_0x285989][_0x2a54b1(0x689)]&&'body'in _0x2c063d['blocks'][_0x285989][_0x2a54b1(0x689)]&&!('bodyString'in _0x2c063d[_0x2a54b1(0x5f4)][_0x285989]['apirequest'])){this[_0x2a54b1(0x365)]['verbose'](this[_0x2a54b1(0x247)]+'\x20('+this['instance'][_0x2a54b1(0x53a)]+_0x2a54b1(0x188)),_0x2c063d['blocks'][_0x285989][_0x2a54b1(0x689)]['bodyStringErrorParse']=!0x1;let _0xcb0553=JSON[_0x2a54b1(0x230)](_0x2c063d['blocks'][_0x285989]['apirequest']['body'],null,0x2);_0x2c063d[_0x2a54b1(0x5f4)][_0x285989]['apirequest'][_0x2a54b1(0x572)]=_0xcb0553;}if(_0x2c063d[_0x2a54b1(0x5f4)][_0x285989]['apirequest']&&_0x2a54b1(0x572)in _0x2c063d[_0x2a54b1(0x5f4)][_0x285989]['apirequest']){_0x2c063d['blocks'][_0x285989][_0x2a54b1(0x689)][_0x2a54b1(0x43e)]=!0x1;let _0x562fc2=_0x2c063d[_0x2a54b1(0x5f4)][_0x285989][_0x2a54b1(0x689)][_0x2a54b1(0x572)],_0xea5a8b=this[_0x2a54b1(0xb1)](_0x562fc2);_0x2c063d[_0x2a54b1(0x5f4)][_0x285989][_0x2a54b1(0x689)][_0x2a54b1(0x572)]=_0xea5a8b[_0x2a54b1(0x71a)],_0x2c063d['blocks'][_0x285989][_0x2a54b1(0x689)][_0x2a54b1(0x43e)]=_0xea5a8b[_0x2a54b1(0xdb)];}let _0x1ae3ba=_0x2c063d[_0x2a54b1(0x5f4)][_0x285989][_0x2a54b1(0x5c2)];_0x52f3e5!==_0x1ae3ba?(this[_0x2a54b1(0x58f)](_0x2c063d['blocks'],_0x52f3e5),this[_0x2a54b1(0x58f)](_0x2c063d[_0x2a54b1(0x5f4)],_0x1ae3ba)):this['reorderBlocks'](_0x2c063d['blocks'],_0x52f3e5);}['beautifyWithPlaceholders'](_0x4bb5a4){const _0x5595b4=a0_0x29ff78;let _0x753950='\u205f',_0x3bd91d=!0x1,_0x435f4c='';for(let _0x8d76d0=0x0;_0x8d76d0<_0x4bb5a4['length'];_0x8d76d0++){let _0x4e3dea=_0x4bb5a4[_0x8d76d0];_0x4e3dea==='\x22'&&(_0x8d76d0===0x0||_0x4bb5a4[_0x8d76d0-0x1]!=='\x5c')&&(_0x3bd91d=!_0x3bd91d),!(!_0x3bd91d&&(_0x4e3dea==='\x0a'||_0x4e3dea==='\x20'||_0x4e3dea===_0x753950))&&(_0x435f4c+=_0x4e3dea);}let _0x57d510={},_0x3e6935=9876543210.1234,_0x2193ba=_0x435f4c[_0x5595b4(0x3e1)](/\{\{([^}]+)\}\}/g,_0x1c5191=>{let _0x4ffa67=_0x1c5191,_0x29849a=''+_0x3e6935;return _0x57d510[_0x29849a]=_0x4ffa67,_0x3e6935+=0.0001,_0x29849a;}),_0x12eb39='',_0x55910c=!0x1;try{let _0x47a09b=JSON['parse'](_0x2193ba);_0x12eb39=JSON[_0x5595b4(0x230)](_0x47a09b,null,0x2),_0x12eb39=_0x12eb39[_0x5595b4(0x3e1)](/\n( +)/g,(_0x3c79c7,_0x46b559)=>{const _0x1a2d4b=_0x5595b4;let _0x5f505b=_0x46b559[_0x1a2d4b(0x78c)];return'\x0a'+_0x753950[_0x1a2d4b(0x150)](_0x5f505b*0x2);}),_0x12eb39=_0x12eb39[_0x5595b4(0x3e1)](/(\d{10,}\.\d+)/g,_0x574005=>_0x57d510[_0x574005]||_0x574005);}catch(_0x182ce1){console[_0x5595b4(0xdb)](_0x5595b4(0x5ff),_0x182ce1),_0x12eb39=_0x4bb5a4,_0x55910c=!0x0;}return{'result':_0x12eb39,'error':_0x55910c};}[a0_0x29ff78(0x64e)](_0x3bdd31,_0x452ccb){const _0x5f0ece=a0_0x29ff78;if(_0x452ccb['block'][_0x5f0ece(0x14b)]===_0x5f0ece(0x433)){this['throwAndLogError']('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x452ccb[_0x5f0ece(0x1e2)][_0x5f0ece(0x689)]&&_0x5f0ece(0x413)in _0x452ccb[_0x5f0ece(0x1e2)][_0x5f0ece(0x689)]){this[_0x5f0ece(0x365)][_0x5f0ece(0x3d2)](this[_0x5f0ece(0x247)]+'\x20('+this[_0x5f0ece(0x2ac)][_0x5f0ece(0x53a)]+_0x5f0ece(0xc2));let _0x2110c6=JSON['stringify'](_0x452ccb[_0x5f0ece(0x1e2)][_0x5f0ece(0x689)][_0x5f0ece(0x413)],null,0x1);_0x2110c6[_0x5f0ece(0x78c)]>0x2&&(_0x2110c6=_0x2110c6[_0x5f0ece(0x704)](0x1,_0x2110c6[_0x5f0ece(0x78c)]-0x1)[_0x5f0ece(0xf3)]()),_0x452ccb[_0x5f0ece(0x1e2)][_0x5f0ece(0x689)][_0x5f0ece(0x5db)]=_0x2110c6;}_0x452ccb[_0x5f0ece(0x1e2)][_0x5f0ece(0x689)]&&'body'in _0x452ccb[_0x5f0ece(0x1e2)][_0x5f0ece(0x689)]&&(this[_0x5f0ece(0x365)]['verbose'](this[_0x5f0ece(0x247)]+'\x20('+this[_0x5f0ece(0x2ac)][_0x5f0ece(0x53a)]+_0x5f0ece(0x188)),_0x452ccb[_0x5f0ece(0x1e2)][_0x5f0ece(0x689)]['bodyString']=JSON[_0x5f0ece(0x230)](_0x452ccb[_0x5f0ece(0x1e2)][_0x5f0ece(0x689)]['body'],null,0x1)[_0x5f0ece(0xf3)]()),_0x3bdd31[_0x5f0ece(0x5f4)]['push'](_0x452ccb['block']),this[_0x5f0ece(0x58f)](_0x3bdd31[_0x5f0ece(0x5f4)],_0x452ccb[_0x5f0ece(0x1e2)]['groupId']);}[a0_0x29ff78(0x58f)](_0x115634,_0x323989){const _0x4ccc44=a0_0x29ff78;let _0x53ba96=_0x115634[_0x4ccc44(0x368)](_0x52bf51=>_0x52bf51['groupId']===_0x323989);_0x53ba96[_0x4ccc44(0x385)]((_0x2033fa,_0x57c862)=>_0x2033fa[_0x4ccc44(0x6eb)]-_0x57c862[_0x4ccc44(0x6eb)]),_0x53ba96[_0x4ccc44(0x628)]((_0x11da40,_0xbe7b27)=>_0x11da40[_0x4ccc44(0x6eb)]=_0xbe7b27+0x1);}async[a0_0x29ff78(0x6a0)](_0x12dac0,_0x14d5db){const _0x1ae913=a0_0x29ff78;try{this[_0x1ae913(0x365)][_0x1ae913(0x3d2)](this[_0x1ae913(0x247)]+'\x20('+this[_0x1ae913(0x2ac)][_0x1ae913(0x53a)]+_0x1ae913(0x3de));let _0x1576a8=_0x12dac0?.['global'][_0x1ae913(0xf3)]()===_0x1ae913(0x569)?_0x1ae913(0x1dc):this['instance'][_0x1ae913(0x53a)];if(!_0x12dac0||!_0x12dac0[_0x1ae913(0x744)]){this['throwAndLogError'](_0x1ae913(0x205));return;}let _0x2cf6de=await this[_0x1ae913(0x479)][_0x1ae913(0x403)][_0x1ae913(0x2d8)]({'where':{'name':_0x12dac0['name']}},_0x1576a8);if(_0x2cf6de||this['throwAndLogError'](_0x1ae913(0x4eb)),_0x2cf6de?.[_0x1ae913(0x1dc)]===_0x1ae913(0x629))throw new m(_0x1ae913(0x363));if(_0x14d5db!==te&&_0x2cf6de?.[_0x1ae913(0x1dc)]===_0x1ae913(0x569)&&_0x2cf6de?.[_0x1ae913(0x2c7)]!==this[_0x1ae913(0x2ac)][_0x1ae913(0x53a)])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');let {replyOption:_0xd6308b}=_0x12dac0;_0xd6308b?.['delete']?(this[_0x1ae913(0x4b1)](_0x2cf6de,_0x12dac0),this[_0x1ae913(0x600)](_0x2cf6de[_0x1ae913(0x267)],_0x12dac0[_0x1ae913(0x744)][_0x1ae913(0x364)])):_0xd6308b[_0x1ae913(0x5e4)]?(await this[_0x1ae913(0x62b)](_0x2cf6de,_0x12dac0),this[_0x1ae913(0x600)](_0x2cf6de['replyOptions'],_0x12dac0['replyOption'][_0x1ae913(0x364)])):(this[_0x1ae913(0x724)](_0x2cf6de,_0x12dac0),this[_0x1ae913(0x600)](_0x2cf6de[_0x1ae913(0x267)],_0x12dac0['replyOption'][_0x1ae913(0x364)]));let _0x34abac=await this[_0x1ae913(0x479)][_0x1ae913(0x403)]['updateOne'](_0x2cf6de[_0x1ae913(0x5e4)],_0x2cf6de,_0x1576a8);if(_0x34abac&&_0x34abac[_0x1ae913(0x61f)]&&_0x34abac[_0x1ae913(0x61f)]['length']>0x1&&_0x34abac[_0x1ae913(0x1dc)]!==_0x1ae913(0x629)&&this[_0x1ae913(0xbd)](_0x34abac[_0x1ae913(0x5e4)],_0x1576a8),!_0x34abac)throw new Error(_0x1ae913(0x542));return _0x34abac;}catch(_0x44db11){this[_0x1ae913(0x2ae)](_0x1ae913(0x30c)+_0x44db11);}}['reorderReplyOptions'](_0x67cb6c,_0xd7a5ff){const _0x4fa5e6=a0_0x29ff78;_0x67cb6c['forEach'](_0x3b63b7=>{const _0x50ec4a=a0_0x5d27;_0x3b63b7[_0x50ec4a(0x364)]===_0xd7a5ff&&_0x3b63b7[_0x50ec4a(0x6eb)]===void 0x0&&(_0x3b63b7['order']=0x270f);});let _0xe522ef=_0x67cb6c[_0x4fa5e6(0x368)](_0x44fe65=>_0x44fe65[_0x4fa5e6(0x364)]===_0xd7a5ff);_0xe522ef[_0x4fa5e6(0x385)]((_0x202e75,_0xf21b8f)=>_0x202e75['order']-_0xf21b8f[_0x4fa5e6(0x6eb)]),_0xe522ef[_0x4fa5e6(0x628)]((_0x4b48a1,_0x273530)=>{const _0x2830f8=_0x4fa5e6;_0x4b48a1[_0x2830f8(0x6eb)]=_0x273530+0x1;}),_0x67cb6c[_0x4fa5e6(0x628)](_0x4dee30=>{const _0x1455d1=_0x4fa5e6;if(_0x4dee30['blockId']===_0xd7a5ff){let _0x8aa676=_0xe522ef[_0x1455d1(0x7a5)](_0x44795e=>_0x44795e['_id']&&_0x4dee30[_0x1455d1(0x5e4)]&&_0x44795e[_0x1455d1(0x5e4)]['toString']()===_0x4dee30['_id'][_0x1455d1(0x675)]());_0x8aa676&&(_0x4dee30[_0x1455d1(0x6eb)]=_0x8aa676[_0x1455d1(0x6eb)]);}});}[a0_0x29ff78(0x4b1)](_0x54b156,_0x5a0721){const _0x1a04df=a0_0x29ff78;let {replyOption:_0x545830}=_0x5a0721;if(!_0x545830[_0x1a04df(0x5e4)]){this[_0x1a04df(0x2ae)](_0x1a04df(0x39c));return;}if(!_0x54b156['replyOptions']['find'](_0x4004e5=>_0x4004e5['_id'][_0x1a04df(0x675)]()===_0x5a0721[_0x1a04df(0x744)][_0x1a04df(0x5e4)]['toString']())){this[_0x1a04df(0x2ae)](_0x1a04df(0x3e7)+_0x545830[_0x1a04df(0x5e4)]+_0x1a04df(0x6b1));return;}_0x54b156['replyOptions']=_0x54b156[_0x1a04df(0x267)][_0x1a04df(0x368)](_0x3b2d9e=>_0x3b2d9e['_id']['toString']()!==_0x5a0721[_0x1a04df(0x744)]['_id'][_0x1a04df(0x675)]());}async[a0_0x29ff78(0x62b)](_0x3a3909,_0x17a939){const _0x4b4f29=a0_0x29ff78;let _0x36d463=_0x3a3909[_0x4b4f29(0x267)][_0x4b4f29(0x1da)](_0x2340c0=>_0x2340c0[_0x4b4f29(0x5e4)][_0x4b4f29(0x675)]()===_0x17a939[_0x4b4f29(0x744)][_0x4b4f29(0x5e4)]['toString']());if(_0x36d463===-0x1){this['throwAndLogError'](_0x4b4f29(0x3e7)+_0x17a939[_0x4b4f29(0x744)]['_id']+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0x5d3dbc in _0x17a939['replyOption'])_0x17a939['replyOption'][_0x4b4f29(0x59e)](_0x5d3dbc)&&(_0x3a3909[_0x4b4f29(0x267)][_0x36d463][_0x5d3dbc]=_0x17a939['replyOption'][_0x5d3dbc]);}[a0_0x29ff78(0x724)](_0x277d44,_0x3be3ae){const _0x542594=a0_0x29ff78;_0x277d44['replyOptions']['push'](_0x3be3ae[_0x542594(0x744)]);}async[a0_0x29ff78(0x722)](_0x2804f1,_0x464588){const _0x2e60f5=a0_0x29ff78;let _0xf0e467=_0x2804f1?.['global'][_0x2e60f5(0xf3)]()===_0x2e60f5(0x569)?_0x2e60f5(0x1dc):this[_0x2e60f5(0x2ac)][_0x2e60f5(0x53a)];this[_0x2e60f5(0x365)][_0x2e60f5(0x3d2)](this[_0x2e60f5(0x247)]+'\x20('+this[_0x2e60f5(0x2ac)]['wuid']+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup:\x20flowOnwer:\x20'+_0xf0e467+_0x2e60f5(0x6ff)+_0x464588+_0x2e60f5(0x3cd)+JSON[_0x2e60f5(0x230)](_0x2804f1,null,0x2));try{this[_0x2e60f5(0x365)][_0x2e60f5(0x3d2)](this[_0x2e60f5(0x247)]+'\x20('+this['instance']['wuid']+'):\x20Editando\x20grupo\x20do\x20fluxo...');let _0xd83daa=await this['repository']['flow']['findOne']({'where':{'name':_0x2804f1[_0x2e60f5(0x177)]}},_0xf0e467);if(!_0xd83daa)throw this['logger'][_0x2e60f5(0x3d2)](this['instanceName']+'\x20('+this['instance'][_0x2e60f5(0x53a)]+'):\x20Flow\x20não\x20encontrado'),new Error(_0x2e60f5(0x4eb));if(_0xd83daa?.['global']===_0x2e60f5(0x629))throw this['logger']['verbose'](this[_0x2e60f5(0x247)]+'\x20('+this[_0x2e60f5(0x2ac)][_0x2e60f5(0x53a)]+_0x2e60f5(0x41a)),new m('A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.');if(_0x464588!==te&&_0xd83daa?.[_0x2e60f5(0x1dc)]===_0x2e60f5(0x569)&&_0xd83daa?.['owner']!==this[_0x2e60f5(0x2ac)][_0x2e60f5(0x53a)])throw this[_0x2e60f5(0x365)][_0x2e60f5(0x3d2)](this[_0x2e60f5(0x247)]+'\x20('+this[_0x2e60f5(0x2ac)][_0x2e60f5(0x53a)]+_0x2e60f5(0x44f)),new m(_0x2e60f5(0x690));if(_0x2804f1[_0x2e60f5(0x19a)]&&_0x2804f1[_0x2e60f5(0x19a)]?.[_0x2e60f5(0x7b8)]===!0x0){if(this[_0x2e60f5(0x365)]['verbose'](this[_0x2e60f5(0x247)]+'\x20('+this[_0x2e60f5(0x2ac)][_0x2e60f5(0x53a)]+_0x2e60f5(0x6d3)),_0x2804f1[_0x2e60f5(0x19a)]['default']===!0x0)return{'message':_0x2e60f5(0x4db)};if(_0xd83daa['blocks'][_0x2e60f5(0x602)](_0x18ddfc=>_0x18ddfc[_0x2e60f5(0x5c2)][_0x2e60f5(0x675)]()===_0x2804f1['group'][_0x2e60f5(0x5e4)]))return this[_0x2e60f5(0x365)][_0x2e60f5(0x3d2)](this[_0x2e60f5(0x247)]+'\x20('+this[_0x2e60f5(0x2ac)][_0x2e60f5(0x53a)]+'):\x20tem\x20blocks'),{'message':_0x2e60f5(0x24c)};_0xd83daa[_0x2e60f5(0x219)]=_0xd83daa[_0x2e60f5(0x219)][_0x2e60f5(0x368)](_0x25f587=>_0x25f587[_0x2e60f5(0x5e4)][_0x2e60f5(0x675)]()!==_0x2804f1[_0x2e60f5(0x19a)][_0x2e60f5(0x5e4)]);}else{if(_0x2804f1[_0x2e60f5(0x19a)]){if(_0x2804f1[_0x2e60f5(0x19a)]['default']===!0x0)return{'message':_0x2e60f5(0x14c)};if(_0x2804f1[_0x2e60f5(0x19a)][_0x2e60f5(0x5e4)]){let _0x3ecd5b=_0xd83daa[_0x2e60f5(0x219)]['find'](_0x118573=>_0x118573[_0x2e60f5(0x5e4)][_0x2e60f5(0x675)]()===_0x2804f1[_0x2e60f5(0x19a)][_0x2e60f5(0x5e4)]);_0x3ecd5b&&(_0x2804f1[_0x2e60f5(0x19a)]['x']<0x0&&(_0x2804f1[_0x2e60f5(0x19a)]['x']=0x0),_0x2804f1[_0x2e60f5(0x19a)]['y']<0x0&&(_0x2804f1['group']['y']=0x0),Object[_0x2e60f5(0x153)](_0x3ecd5b,_0x2804f1[_0x2e60f5(0x19a)]));}else _0xd83daa[_0x2e60f5(0x219)][_0x2e60f5(0x41b)](_0x2804f1[_0x2e60f5(0x19a)]);}}let _0x34b43b=await this[_0x2e60f5(0x479)][_0x2e60f5(0x403)][_0x2e60f5(0x1bc)](_0xd83daa[_0x2e60f5(0x5e4)],_0xd83daa,_0xf0e467);if(_0x34b43b&&_0x34b43b[_0x2e60f5(0x61f)]&&_0x34b43b[_0x2e60f5(0x61f)][_0x2e60f5(0x78c)]>0x1&&_0x34b43b[_0x2e60f5(0x1dc)]!==_0x2e60f5(0x629)&&this[_0x2e60f5(0xbd)](_0x34b43b[_0x2e60f5(0x5e4)],_0xf0e467),!_0x34b43b)throw new Error(_0x2e60f5(0x542));return _0x34b43b;}catch(_0x4fe50f){let _0x5862e8=_0x2e60f5(0x151),_0x1664fe=_0x4fe50f instanceof Error?_0x4fe50f[_0x2e60f5(0x620)]:typeof _0x4fe50f=='object'?JSON[_0x2e60f5(0x230)](_0x4fe50f):_0x4fe50f,_0x2bdbc3=_0x5862e8+':\x20'+_0x1664fe;throw this['logger'][_0x2e60f5(0xdb)](this[_0x2e60f5(0x247)]+'\x20('+this[_0x2e60f5(0x2ac)]['wuid']+_0x2e60f5(0x470)+_0x2bdbc3),new m(_0x2bdbc3);}}async['editFlowCondition'](_0x107289,_0x591912){const _0x7a2d86=a0_0x29ff78;try{this[_0x7a2d86(0x365)]['verbose'](this[_0x7a2d86(0x247)]+'\x20('+this[_0x7a2d86(0x2ac)]['wuid']+_0x7a2d86(0x2ba));let _0x367dba=_0x107289?.[_0x7a2d86(0x1dc)][_0x7a2d86(0xf3)]()===_0x7a2d86(0x569)?_0x7a2d86(0x1dc):this[_0x7a2d86(0x2ac)][_0x7a2d86(0x53a)],_0x270a93=await this[_0x7a2d86(0x479)][_0x7a2d86(0x403)][_0x7a2d86(0x2d8)]({'where':{'name':_0x107289[_0x7a2d86(0x177)]}},_0x367dba);if(!_0x270a93)throw new Error(_0x7a2d86(0x4eb));if(_0x270a93?.[_0x7a2d86(0x1dc)]==='sync')throw new m(_0x7a2d86(0x363));if(_0x591912!==te&&_0x270a93?.[_0x7a2d86(0x1dc)]===_0x7a2d86(0x569)&&_0x270a93?.[_0x7a2d86(0x2c7)]!==this['instance']['wuid'])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');let _0x54eab6=!0x1;if(_0x107289[_0x7a2d86(0x212)]?.[_0x7a2d86(0x7b8)]===!0x0)_0x270a93['conditions']=_0x270a93[_0x7a2d86(0x7b1)]['filter'](_0x3306c4=>_0x3306c4&&_0x107289[_0x7a2d86(0x212)]&&_0x3306c4[_0x7a2d86(0x5e4)]&&_0x107289[_0x7a2d86(0x212)][_0x7a2d86(0x5e4)]&&_0x3306c4[_0x7a2d86(0x5e4)][_0x7a2d86(0x675)]()!==_0x107289['condition'][_0x7a2d86(0x5e4)][_0x7a2d86(0x675)]()),_0x54eab6=!0x0;else{let _0x16a8f3=_0x270a93[_0x7a2d86(0x7b1)][_0x7a2d86(0x7a5)](_0x676dd6=>_0x676dd6&&_0x107289[_0x7a2d86(0x212)]&&_0x676dd6[_0x7a2d86(0x5e4)]&&_0x107289[_0x7a2d86(0x212)]['_id']&&_0x676dd6[_0x7a2d86(0x5e4)]['toString']()===_0x107289[_0x7a2d86(0x212)][_0x7a2d86(0x5e4)][_0x7a2d86(0x675)]());_0x16a8f3?(_0x54eab6=_0x16a8f3[_0x7a2d86(0x6eb)]!==_0x107289['condition']['order'],Object[_0x7a2d86(0x153)](_0x16a8f3,_0x107289[_0x7a2d86(0x212)])):(_0x270a93[_0x7a2d86(0x7b1)][_0x7a2d86(0x41b)](_0x107289[_0x7a2d86(0x212)]),_0x54eab6=!0x0);}if(_0x54eab6){_0x270a93[_0x7a2d86(0x7b1)][_0x7a2d86(0x385)]((_0x47531c,_0x2ba20a)=>_0x47531c[_0x7a2d86(0x6eb)]>_0x2ba20a['order']?0x1:_0x2ba20a['order']>_0x47531c[_0x7a2d86(0x6eb)]?-0x1:0x0);for(let _0x4279cb=0x0;_0x4279cb<_0x270a93[_0x7a2d86(0x7b1)][_0x7a2d86(0x78c)];_0x4279cb++)_0x270a93[_0x7a2d86(0x7b1)][_0x4279cb][_0x7a2d86(0x6eb)]=_0x4279cb+0x1;_0x270a93[_0x7a2d86(0x7b1)]['length']>0x0&&(_0x270a93[_0x7a2d86(0x7b1)][0x0][_0x7a2d86(0x1aa)]=_0x7a2d86(0x4df));}let _0x2e41a6=await this['repository']['flow'][_0x7a2d86(0x1bc)](_0x270a93[_0x7a2d86(0x5e4)],_0x270a93,_0x367dba);if(_0x2e41a6&&_0x2e41a6[_0x7a2d86(0x61f)]&&_0x2e41a6[_0x7a2d86(0x61f)]['length']>0x1&&_0x2e41a6[_0x7a2d86(0x1dc)]!==_0x7a2d86(0x629)&&this['synchronizeFlows'](_0x2e41a6[_0x7a2d86(0x5e4)],_0x367dba),!_0x2e41a6)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x2e41a6;}catch(_0x243f97){let _0x54129f='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0x275758=_0x243f97 instanceof Error?_0x243f97[_0x7a2d86(0x620)]:typeof _0x243f97==_0x7a2d86(0x398)?JSON[_0x7a2d86(0x230)](_0x243f97):_0x243f97,_0x4e169d=_0x54129f+':\x20'+_0x275758;throw this[_0x7a2d86(0x365)]['error'](this[_0x7a2d86(0x247)]+'\x20('+this['instance']['wuid']+_0x7a2d86(0x470)+_0x4e169d),new m(_0x4e169d);}}async[a0_0x29ff78(0x42f)](_0x2daff0,_0x50dcc9){const _0x2d7a38=a0_0x29ff78;try{this[_0x2d7a38(0x365)][_0x2d7a38(0x3d2)](this[_0x2d7a38(0x247)]+'\x20('+this['instance'][_0x2d7a38(0x53a)]+_0x2d7a38(0x4d2));let _0x28392f=_0x2daff0?.[_0x2d7a38(0x1dc)][_0x2d7a38(0xf3)]()==='true'?'global':this[_0x2d7a38(0x2ac)]['wuid'],_0xfc0a45=await this[_0x2d7a38(0x479)][_0x2d7a38(0x403)][_0x2d7a38(0x2d8)]({'where':{'name':_0x2daff0['name']}},_0x28392f);if(!_0xfc0a45)throw new Error(_0x2d7a38(0x4eb));if(_0xfc0a45?.[_0x2d7a38(0x1dc)]===_0x2d7a38(0x629))throw new m(_0x2d7a38(0x363));if(_0x50dcc9!==te&&_0xfc0a45?.[_0x2d7a38(0x1dc)]==='true'&&_0xfc0a45?.[_0x2d7a38(0x2c7)]!==this['instance'][_0x2d7a38(0x53a)])throw new m(_0x2d7a38(0x690));let _0x574f83=!0x1;if(_0x2daff0[_0x2d7a38(0x564)]?.['delete']===!0x0)_0xfc0a45[_0x2d7a38(0x5de)]=_0xfc0a45[_0x2d7a38(0x5de)][_0x2d7a38(0x368)](_0x559197=>_0x559197&&_0x2daff0[_0x2d7a38(0x564)]&&_0x559197[_0x2d7a38(0x5e4)]&&_0x2daff0[_0x2d7a38(0x564)][_0x2d7a38(0x5e4)]&&_0x559197[_0x2d7a38(0x5e4)]['toString']()!==_0x2daff0['varedit'][_0x2d7a38(0x5e4)]['toString']()),_0x574f83=!0x0;else{let _0xd6f549=_0xfc0a45['varedits'][_0x2d7a38(0x7a5)](_0x3909ae=>_0x3909ae&&_0x2daff0[_0x2d7a38(0x564)]&&_0x3909ae['_id']&&_0x2daff0[_0x2d7a38(0x564)][_0x2d7a38(0x5e4)]&&_0x3909ae[_0x2d7a38(0x5e4)][_0x2d7a38(0x675)]()===_0x2daff0[_0x2d7a38(0x564)][_0x2d7a38(0x5e4)][_0x2d7a38(0x675)]());_0xd6f549?(_0x574f83=_0xd6f549[_0x2d7a38(0x6eb)]!==_0x2daff0[_0x2d7a38(0x564)]['order'],Object['assign'](_0xd6f549,_0x2daff0[_0x2d7a38(0x564)])):(_0xfc0a45['varedits'][_0x2d7a38(0x41b)](_0x2daff0[_0x2d7a38(0x564)]),_0x574f83=!0x0);}if(_0x574f83){_0xfc0a45['varedits']['sort']((_0x21f54d,_0x5d7ee4)=>_0x21f54d[_0x2d7a38(0x6eb)]>_0x5d7ee4['order']?0x1:_0x5d7ee4[_0x2d7a38(0x6eb)]>_0x21f54d[_0x2d7a38(0x6eb)]?-0x1:0x0);for(let _0x403007=0x0;_0x403007<_0xfc0a45['varedits']['length'];_0x403007++)_0xfc0a45['varedits'][_0x403007][_0x2d7a38(0x6eb)]=_0x403007+0x1;}let _0x113a7b=await this['repository'][_0x2d7a38(0x403)][_0x2d7a38(0x1bc)](_0xfc0a45[_0x2d7a38(0x5e4)],_0xfc0a45,_0x28392f);if(_0x113a7b&&_0x113a7b[_0x2d7a38(0x61f)]&&_0x113a7b[_0x2d7a38(0x61f)]['length']>0x1&&_0x113a7b['global']!=='sync'&&this[_0x2d7a38(0xbd)](_0x113a7b['_id'],_0x28392f),!_0x113a7b)throw new Error(_0x2d7a38(0x542));return _0x113a7b;}catch(_0x50ddfd){let _0x536fa3=_0x2d7a38(0x4ed),_0x2927d0=_0x50ddfd instanceof Error?_0x50ddfd[_0x2d7a38(0x620)]:typeof _0x50ddfd==_0x2d7a38(0x398)?JSON[_0x2d7a38(0x230)](_0x50ddfd):_0x50ddfd,_0xa32799=_0x536fa3+':\x20'+_0x2927d0;throw this[_0x2d7a38(0x365)][_0x2d7a38(0xdb)](this[_0x2d7a38(0x247)]+'\x20('+this[_0x2d7a38(0x2ac)]['wuid']+'):\x20'+_0xa32799),new m(_0xa32799);}}async['editFlowVariable'](_0x203294,_0x1fa65d){const _0x396d27=a0_0x29ff78;try{this[_0x396d27(0x365)][_0x396d27(0x3d2)](this['instanceName']+'\x20('+this[_0x396d27(0x2ac)][_0x396d27(0x53a)]+_0x396d27(0x12b));let _0x4f54df=_0x203294?.['global']['trim']()==='true'?_0x396d27(0x1dc):this[_0x396d27(0x2ac)][_0x396d27(0x53a)],_0x115568=await this[_0x396d27(0x479)][_0x396d27(0x403)][_0x396d27(0x2d8)]({'where':{'name':_0x203294[_0x396d27(0x177)]}},_0x4f54df);if(!_0x115568)throw new Error('Flow\x20não\x20encontrado');if(_0x115568?.['global']===_0x396d27(0x629))throw new m(_0x396d27(0x363));if(_0x1fa65d!==te&&_0x115568?.[_0x396d27(0x1dc)]===_0x396d27(0x569)&&_0x115568?.['owner']!==this[_0x396d27(0x2ac)][_0x396d27(0x53a)])throw new m(_0x396d27(0x690));if(_0x1fa65d!==te&&_0x115568?.[_0x396d27(0x1dc)]===_0x396d27(0x569)&&_0x115568?.['owner']!==this[_0x396d27(0x2ac)][_0x396d27(0x53a)])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');_0x203294[_0x396d27(0x4b4)][_0x396d27(0x177)]=_0x203294[_0x396d27(0x4b4)]['name']['trim'](),_0x203294[_0x396d27(0x4b4)][_0x396d27(0x177)]['startsWith']('_')&&(_0x203294[_0x396d27(0x4b4)]['name']=_0x203294[_0x396d27(0x4b4)][_0x396d27(0x177)]['substring'](0x1)),_0x203294[_0x396d27(0x4b4)]['name']=_0x203294[_0x396d27(0x4b4)][_0x396d27(0x177)][_0x396d27(0xf3)]();let _0x2adb87=_0x115568[_0x396d27(0xb4)][_0x396d27(0x7a5)](_0x18bc31=>_0x18bc31[_0x396d27(0x177)]===_0x203294[_0x396d27(0x4b4)]['name']);if(_0x2adb87?.[_0x396d27(0x25f)]===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x203294[_0x396d27(0x4b4)]?.[_0x396d27(0x7b8)]===!0x0){if(!_0x2adb87)return{'message':_0x396d27(0x2c6)};_0x115568['variables']=_0x115568[_0x396d27(0xb4)]['filter'](_0x4b663a=>_0x4b663a[_0x396d27(0x177)]!==_0x203294[_0x396d27(0x4b4)][_0x396d27(0x177)]);}else _0x2adb87?Object['assign'](_0x2adb87,_0x203294[_0x396d27(0x4b4)]):_0x115568['variables'][_0x396d27(0x41b)](_0x203294['variable']);let _0x489d28=await this[_0x396d27(0x479)][_0x396d27(0x403)][_0x396d27(0x1bc)](_0x115568[_0x396d27(0x5e4)],_0x115568,_0x4f54df);if(_0x489d28&&_0x489d28[_0x396d27(0x61f)]&&_0x489d28['shareOwners'][_0x396d27(0x78c)]>0x1&&_0x489d28[_0x396d27(0x1dc)]!=='sync'&&this[_0x396d27(0xbd)](_0x489d28[_0x396d27(0x5e4)],_0x4f54df),!_0x489d28)throw new Error(_0x396d27(0x542));return _0x489d28;}catch(_0x26e19e){let _0x230479='Erro\x20ao\x20editar\x20variável\x20do\x20fluxo',_0x2e6f85=_0x26e19e instanceof Error?_0x26e19e[_0x396d27(0x620)]:typeof _0x26e19e=='object'?JSON[_0x396d27(0x230)](_0x26e19e):_0x26e19e,_0x12ade9=_0x230479+':\x20'+_0x2e6f85;throw this[_0x396d27(0x365)][_0x396d27(0xdb)](this['instanceName']+'\x20('+this[_0x396d27(0x2ac)][_0x396d27(0x53a)]+'):\x20'+_0x12ade9),new m(_0x12ade9);}}async[a0_0x29ff78(0x2dd)](_0x3fafaf){const _0x55f573=a0_0x29ff78;let _0x5a32bb=null;try{if(!this['AutomateSystem']?.[_0x55f573(0x358)][_0x55f573(0x3ca)])throw new m(_0x55f573(0x310));this[_0x55f573(0x365)]['verbose'](this[_0x55f573(0x247)]+'\x20('+this[_0x55f573(0x2ac)][_0x55f573(0x53a)]+_0x55f573(0x791));let _0x2ecde2=(await this[_0x55f573(0x516)]({'numbers':[_0x3fafaf[_0x55f573(0x5aa)]]}))[0x0];if(!_0x2ecde2[_0x55f573(0x3f6)]&&!(0x0,f['isJidGroup'])(_0x2ecde2['jid'])&&!_0x2ecde2[_0x55f573(0x60c)][_0x55f573(0x35d)](_0x55f573(0x584)))throw _0x5a32bb=JSON[_0x55f573(0x230)](_0x2ecde2,null,0x2),new m(_0x2ecde2);let _0x1442a6=await this[_0x55f573(0x479)][_0x55f573(0x403)]['findOne']({'where':{'name':_0x3fafaf[_0x55f573(0x177)]}},this['instance'][_0x55f573(0x53a)]);if(!_0x1442a6)return this['logger']['error'](this[_0x55f573(0x247)]+'\x20('+this[_0x55f573(0x2ac)][_0x55f573(0x53a)]+'):\x20Flow\x20não\x20encontrado'),{'message':_0x55f573(0x4eb)};let _0x197b51=await this['createConversationforStartFlow'](_0x1442a6,_0x2ecde2[_0x55f573(0x60c)],_0x3fafaf['changeVariables']);if(_0x197b51){this['logger'][_0x55f573(0x3d2)](this[_0x55f573(0x247)]+'\x20('+this[_0x55f573(0x2ac)]['wuid']+_0x55f573(0x3d0));let _0x2b16e1=await this[_0x55f573(0x37c)](_0x197b51);return _0x2b16e1&&await this[_0x55f573(0x4bf)](_0x197b51,_0x2b16e1),{'message':_0x55f573(0x203)+_0x3fafaf['remoteJid']};}}catch(_0x43bb0b){if(this[_0x55f573(0x365)][_0x55f573(0xdb)](this[_0x55f573(0x247)]+'\x20('+this['instance']['wuid']+_0x55f573(0x7b7)+(_0x43bb0b instanceof Error?_0x43bb0b[_0x55f573(0x620)]:JSON[_0x55f573(0x230)](_0x43bb0b,null,0x2))),_0x5a32bb=_0x43bb0b instanceof Error?_0x43bb0b[_0x55f573(0x620)]:JSON[_0x55f573(0x230)](_0x43bb0b,null,0x2),_0x5a32bb)throw new m(_0x55f573(0x164)+_0x5a32bb);}}async[a0_0x29ff78(0x518)](_0x32f03c,_0x43216f,_0x5b6ed8){const _0xd3c702=a0_0x29ff78;let _0x9dc02a=null;try{if(!this[_0xd3c702(0x423)]?.[_0xd3c702(0x358)][_0xd3c702(0x3ca)])throw new m(_0xd3c702(0x310));if(this[_0xd3c702(0x365)][_0xd3c702(0x3d2)](this[_0xd3c702(0x247)]+'\x20('+this[_0xd3c702(0x2ac)][_0xd3c702(0x53a)]+_0xd3c702(0x791)),_0x43216f){let _0x338e2c=(await this[_0xd3c702(0x516)]({'numbers':[_0x43216f]}))[0x0];if(!_0x338e2c[_0xd3c702(0x3f6)]&&!(0x0,f[_0xd3c702(0x504)])(_0x338e2c['jid'])&&!_0x338e2c[_0xd3c702(0x60c)][_0xd3c702(0x35d)](_0xd3c702(0x584)))throw _0x9dc02a=JSON[_0xd3c702(0x230)](_0x338e2c,null,0x2),new m(_0x338e2c);_0x43216f=_0x338e2c[_0xd3c702(0x60c)];}else _0x43216f||(_0x43216f=(0x0,Me['v4'])());let _0x25322b=await this['repository'][_0xd3c702(0x403)][_0xd3c702(0x2d8)]({'where':{'startID':_0x32f03c}},this[_0xd3c702(0x2ac)]['wuid']);if(!_0x25322b)throw this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0xd3c702(0x53a)]+_0xd3c702(0x610)),new m(_0xd3c702(0x4eb));let _0x5bfc50=await this[_0xd3c702(0x36b)](_0x25322b,_0x43216f,null);if(_0x5bfc50){this[_0xd3c702(0x365)][_0xd3c702(0x3d2)](this['instanceName']+'\x20('+this[_0xd3c702(0x2ac)][_0xd3c702(0x53a)]+_0xd3c702(0x77b));let _0x294795;if(_0x5b6ed8){let _0x50f008=_0x5bfc50['chatLog'][_0xd3c702(0x489)],_0xed8906=this[_0xd3c702(0x297)](_0x5b6ed8);Object[_0xd3c702(0x153)](_0x50f008,_0xed8906),_0x5bfc50['chatLog']['realVariables']=_0x50f008,_0x294795={'error':!0x1,'apiResponse':_0x5b6ed8};}let _0x5732f3=await this['NextBlock'](_0x5bfc50);return _0x5732f3&&await this[_0xd3c702(0x4bf)](_0x5bfc50,_0x5732f3),{'message':_0xd3c702(0x29d)};}}catch(_0xdfd488){if(this[_0xd3c702(0x365)][_0xd3c702(0xdb)](this[_0xd3c702(0x247)]+'\x20('+this['instance'][_0xd3c702(0x53a)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0xdfd488 instanceof Error?_0xdfd488[_0xd3c702(0x620)]:JSON['stringify'](_0xdfd488,null,0x2))),_0x9dc02a=_0xdfd488 instanceof Error?_0xdfd488[_0xd3c702(0x620)]:JSON['stringify'](_0xdfd488,null,0x2),_0x9dc02a)throw new m(_0xd3c702(0x164)+_0x9dc02a);}}async['closeExistingConversations'](_0x61e5d7){const _0xe77094=a0_0x29ff78;try{let _0x14d721={'remoteJid':_0x61e5d7,'status':'open'},_0x246c35={'status':_0xe77094(0x357)},_0x24d28d=await this[_0xe77094(0x479)][_0xe77094(0x2bd)][_0xe77094(0x5c8)](_0x14d721,_0x246c35,this[_0xe77094(0x2ac)][_0xe77094(0x53a)]);return this[_0xe77094(0x365)][_0xe77094(0x3d2)](this[_0xe77094(0x247)]+'\x20('+this[_0xe77094(0x2ac)][_0xe77094(0x53a)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.'),_0x24d28d;}catch(_0x31d9c3){throw this[_0xe77094(0x365)]['error'](this[_0xe77094(0x247)]+'\x20('+this[_0xe77094(0x2ac)]['wuid']+_0xe77094(0x450)+_0x31d9c3[_0xe77094(0x620)]),_0x31d9c3;}}async[a0_0x29ff78(0x36b)](_0x432c0b,_0x135d57,_0x57518d){const _0x468505=a0_0x29ff78;this[_0x468505(0x365)][_0x468505(0x3d2)](this['instanceName']+'\x20('+this['instance'][_0x468505(0x53a)]+_0x468505(0x32a)),await this['closeExistingConversations'](_0x135d57);try{let _0x442349=require(_0x468505(0x6ae))[_0x468505(0x202)],_0x45e0a2=Date['now'](),_0x1c1cd7='start',_0x294adb={},_0x43e709={},_0x224f92={..._0x432c0b,'chatLog':null},_0x35eddc=await this[_0x468505(0x173)](_0x224f92[_0x468505(0xb4)]),_0x59ddb8=await this['getVariablesChat'](_0x135d57),_0x1bb40e={..._0x35eddc,..._0x59ddb8,'_remoteJid':_0x135d57},_0x151a72={'lastReceivedMessage':_0x294adb,'lastSendMessage':_0x43e709,'lastBlockId':_0x1c1cd7,'lastCondition':!0x0,'realVariables':_0x1bb40e};_0x224f92[_0x468505(0x594)]=_0x151a72,_0x224f92[_0x468505(0x594)]['realVariables']={..._0x1bb40e,..._0x57518d},delete _0x224f92[_0x468505(0x5e4)],_0x224f92[_0x468505(0x5e4)]=new _0x442349(),_0x224f92[_0x468505(0x3a9)]=_0x45e0a2,_0x224f92[_0x468505(0x353)]=_0x468505(0x7b2),_0x224f92['remoteJid']=_0x135d57;let _0x1bbfe4=await this[_0x468505(0x479)][_0x468505(0x2bd)]['updateOne'](_0x224f92['_id'],_0x224f92,this['instance']['wuid']);return this['logger'][_0x468505(0x3d2)](this[_0x468505(0x247)]+'\x20('+this[_0x468505(0x2ac)]['wuid']+_0x468505(0x180)),_0x1bbfe4?_0x224f92:null;}catch(_0x158632){let _0x273def=_0x468505(0x198),_0x53f64f=_0x158632 instanceof Error?_0x158632[_0x468505(0x620)]:typeof _0x158632=='object'?JSON[_0x468505(0x230)](_0x158632):_0x158632,_0x42f1e1=_0x273def+':\x20'+_0x53f64f;throw this[_0x468505(0x365)][_0x468505(0xdb)](this[_0x468505(0x247)]+'\x20('+this[_0x468505(0x2ac)][_0x468505(0x53a)]+_0x468505(0x470)+_0x42f1e1),new m(_0x42f1e1);}}async[a0_0x29ff78(0x6b8)](_0x5f1a81){const _0x5c777f=a0_0x29ff78;try{this['logger'][_0x5c777f(0x3d2)](this['instanceName']+'\x20('+this['instance'][_0x5c777f(0x53a)]+_0x5c777f(0x637)),this[_0x5c777f(0x365)][_0x5c777f(0x3d2)](this[_0x5c777f(0x247)]+'\x20('+this[_0x5c777f(0x2ac)][_0x5c777f(0x53a)]+_0x5c777f(0x1f8)+_0x5f1a81);let _0x985bca={'where':{'_id':_0x5f1a81}};return await this[_0x5c777f(0x479)][_0x5c777f(0x2bd)][_0x5c777f(0x2d8)](_0x985bca,this[_0x5c777f(0x2ac)]['wuid']);}catch(_0x583c5f){let _0x3cfee0=_0x5c777f(0x218),_0xfc00ed=_0x583c5f instanceof Error?_0x583c5f['message']:typeof _0x583c5f==_0x5c777f(0x398)?JSON[_0x5c777f(0x230)](_0x583c5f):_0x583c5f,_0xb4af07=_0x3cfee0+':\x20'+_0xfc00ed;throw this[_0x5c777f(0x365)][_0x5c777f(0xdb)](this['instanceName']+'\x20('+this['instance'][_0x5c777f(0x53a)]+_0x5c777f(0x470)+_0xb4af07),new m(_0xb4af07);}}async['fetchConversation'](_0x29916a){const _0x33d56e=a0_0x29ff78;try{return this[_0x33d56e(0x365)][_0x33d56e(0x3d2)](this[_0x33d56e(0x247)]+'\x20('+this[_0x33d56e(0x2ac)][_0x33d56e(0x53a)]+'):\x20Buscando\x20conversas...'),await this[_0x33d56e(0x479)]['flowConversation']['find'](_0x29916a,this[_0x33d56e(0x2ac)]['wuid']);}catch(_0x1c0a56){let _0x16c56e=_0x33d56e(0x747),_0x1c8f12=_0x1c0a56 instanceof Error?_0x1c0a56[_0x33d56e(0x620)]:typeof _0x1c0a56==_0x33d56e(0x398)?JSON[_0x33d56e(0x230)](_0x1c0a56):_0x1c0a56,_0x8aa167=_0x16c56e+':\x20'+_0x1c8f12;throw this[_0x33d56e(0x365)][_0x33d56e(0xdb)](this[_0x33d56e(0x247)]+'\x20('+this[_0x33d56e(0x2ac)][_0x33d56e(0x53a)]+_0x33d56e(0x470)+_0x8aa167),new m(_0x8aa167);}}async[a0_0x29ff78(0x5df)](_0xf45dc0){const _0x440489=a0_0x29ff78;try{return this[_0x440489(0x365)]['verbose'](this[_0x440489(0x247)]+'\x20('+this['instance'][_0x440489(0x53a)]+_0x440489(0x3b3)),this[_0x440489(0x365)][_0x440489(0x3d2)](this[_0x440489(0x247)]+'\x20('+this['instance'][_0x440489(0x53a)]+_0x440489(0x731)+_0xf45dc0),(await this['repository'][_0x440489(0x2bd)]['deleteOne']({'where':{'_id':_0xf45dc0[_0x440489(0x5e4)]}},this[_0x440489(0x2ac)]['wuid']))[_0x440489(0x126)]===0x0?{'message':_0x440489(0x25e)}:{'message':_0x440489(0x23b)};}catch(_0x314204){let _0x404eed=_0x440489(0x532),_0x12075c=_0x314204 instanceof Error?_0x314204[_0x440489(0x620)]:typeof _0x314204==_0x440489(0x398)?JSON[_0x440489(0x230)](_0x314204):_0x314204,_0x25e343=_0x404eed+':\x20'+_0x12075c;throw this[_0x440489(0x365)][_0x440489(0xdb)](this['instanceName']+'\x20('+this['instance'][_0x440489(0x53a)]+'):\x20'+_0x25e343),new m(_0x25e343);}}async[a0_0x29ff78(0x20c)](_0x40f70a){const _0xe3bad4=a0_0x29ff78;try{let {_id:_0xdd1443,chatLog:_0x184d6d,status:_0x519c49}=_0x40f70a;if(!_0xdd1443)return{'message':_0xe3bad4(0x708)};let _0x4d69bd={};if(_0x519c49!==void 0x0&&(_0x4d69bd[_0xe3bad4(0x353)]=_0x519c49),Object[_0xe3bad4(0x63f)](_0x4d69bd)[_0xe3bad4(0x78c)]===0x0)return{'message':_0xe3bad4(0x3a2)};let _0x390083=await this[_0xe3bad4(0x479)][_0xe3bad4(0x2bd)][_0xe3bad4(0x1bc)](_0xdd1443,_0x4d69bd,this[_0xe3bad4(0x2ac)]['wuid']);return _0x390083||{'message':_0xe3bad4(0x4e9)};}catch(_0x414962){let _0x7a4105='Erro\x20ao\x20editar\x20a\x20conversa',_0x106ae7=_0x414962 instanceof Error?_0x414962[_0xe3bad4(0x620)]:typeof _0x414962==_0xe3bad4(0x398)?JSON[_0xe3bad4(0x230)](_0x414962):_0x414962,_0x2d4b2c=_0x7a4105+':\x20'+_0x106ae7;throw this['logger'][_0xe3bad4(0xdb)](this['instanceName']+'\x20('+this['instance'][_0xe3bad4(0x53a)]+_0xe3bad4(0x470)+_0x2d4b2c),new m(_0x2d4b2c);}}async[a0_0x29ff78(0x4fe)](_0x2c7640){const _0x3fbf51=a0_0x29ff78;try{_0x2c7640[_0x3fbf51(0x5e4)]=this[_0x3fbf51(0x4cd)](_0x2c7640['_id']);let _0x263248=await this['repository']['chat'][_0x3fbf51(0x2d8)]({'where':{'_id':_0x2c7640[_0x3fbf51(0x5e4)]}},this[_0x3fbf51(0x2ac)][_0x3fbf51(0x53a)]);if(!_0x263248)throw new m('Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo');let {_id:_0x2e0f24,leadInfo:_0x31498f}=_0x2c7640;if(!_0x2e0f24)throw new Error(_0x3fbf51(0x47b));if(_0x2c7640['delete']===_0x3fbf51(0x4fb))return await this[_0x3fbf51(0x46e)](_0x2c7640[_0x3fbf51(0x5e4)]),await this[_0x3fbf51(0x479)]['chat'][_0x3fbf51(0x7b8)]({'where':{'_id':_0x2c7640[_0x3fbf51(0x5e4)]}},this['instance']['wuid']),await this['repository']['message']['delete']({'where':{'key':{'remoteJid':_0x2c7640[_0x3fbf51(0x5e4)]}}},this[_0x3fbf51(0x2ac)][_0x3fbf51(0x53a)]),_0x2c7640=await this['repository'][_0x3fbf51(0x77e)][_0x3fbf51(0x1bc)]({'where':{'_id':_0x2c7640[_0x3fbf51(0x5e4)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x3fbf51(0x53a)]),F(this[_0x3fbf51(0x247)],_0x3fbf51(0x4ef),{'chat':_0x2c7640}),{'message':_0x3fbf51(0x271)};if(_0x2c7640[_0x3fbf51(0x7b8)]===_0x3fbf51(0x4ba))return await this[_0x3fbf51(0x479)]['message'][_0x3fbf51(0x7b8)]({'where':{'key':{'remoteJid':_0x2c7640[_0x3fbf51(0x5e4)]}}},this['instance']['wuid']),_0x2c7640=await this[_0x3fbf51(0x479)][_0x3fbf51(0x77e)][_0x3fbf51(0x1bc)]({'where':{'_id':_0x2c7640[_0x3fbf51(0x5e4)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x3fbf51(0x2ac)][_0x3fbf51(0x53a)]),F(this[_0x3fbf51(0x247)],'chats',{'chat':_0x2c7640}),{'message':_0x3fbf51(0x59c)};let _0x6b5f29=(_0x1a2b5e,_0x59590d,_0x300a26)=>{const _0xc995b1=_0x3fbf51;_0x1a2b5e&&_0x300a26[_0xc995b1(0x628)](_0x3f6d59=>{const _0x14a029=_0xc995b1;_0x1a2b5e[_0x3f6d59]!==void 0x0&&(_0x59590d[_0x14a029(0x552)+_0x3f6d59]=_0x1a2b5e[_0x3f6d59]);});},_0x345ebc={};if(_0x3fbf51(0x75f)in _0x2c7640&&(this['logger'][_0x3fbf51(0x3d2)](_0x3fbf51(0x488)+_0x2c7640[_0x3fbf51(0x5e4)]),_0x2c7640[_0x3fbf51(0x75f)]=_0x2c7640[_0x3fbf51(0x75f)]===0x0?null:-0x1,await this['client']['chatModify']({'mute':_0x2c7640['muteEndTime']},_0x2c7640['_id']),_0x345ebc[_0x3fbf51(0x75f)]=Number(_0x2c7640[_0x3fbf51(0x75f)])),_0x31498f&&(_0x6b5f29(_0x31498f,_0x345ebc,[_0x3fbf51(0x444),_0x3fbf51(0x4b6),_0x3fbf51(0x2d5),'cpf','status',_0x3fbf51(0x29e),_0x3fbf51(0x605),_0x3fbf51(0xb9),_0x3fbf51(0x735),'etiquetas']),Array[_0x3fbf51(0x5eb)](_0x31498f[_0x3fbf51(0x10b)])&&(_0x345ebc[_0x3fbf51(0x11f)]=_0x31498f['customFields']['map'](_0x2af5e1=>({'_id':_0x2af5e1[_0x3fbf51(0x5e4)],'value':_0x2af5e1[_0x3fbf51(0x306)]}))),_0x2c7640[_0x3fbf51(0x25f)][_0x3fbf51(0x2b3)]!==void 0x0)){let _0x2e8354=await this['repository'][_0x3fbf51(0x4a4)][_0x3fbf51(0x7a5)]({'where':{}},this[_0x3fbf51(0x2ac)][_0x3fbf51(0x53a)]),_0x2bb018=new Set(_0x2c7640[_0x3fbf51(0x25f)]['etiquetas']||[]),_0x34dfea=new Set(_0x2c7640[_0x3fbf51(0x25f)][_0x3fbf51(0x2b3)]),_0xd9b69c=new Set(_0x2e8354[_0x3fbf51(0x174)](_0x25d114=>_0x25d114[_0x3fbf51(0x5e4)])),_0x1eba54=[..._0x34dfea]['filter'](_0x2aefac=>!_0x2bb018[_0x3fbf51(0x6ad)](_0x2aefac)&&_0xd9b69c[_0x3fbf51(0x6ad)](_0x2aefac)),_0x5dcf8e=[..._0x2bb018][_0x3fbf51(0x368)](_0x59be=>!_0x34dfea[_0x3fbf51(0x6ad)](_0x59be));if(_0x345ebc['leadInfo.etiquetas']=[..._0x2bb018],_0x263248&&!_0x263248[_0x3fbf51(0x490)]){for(let _0x40d912 of _0x1eba54)await this['AddChatLabel'](_0x40d912,_0x2c7640[_0x3fbf51(0x5e4)]),_0x2bb018[_0x3fbf51(0x239)](_0x40d912);for(let _0x809a88 of _0x5dcf8e)await this[_0x3fbf51(0x41d)](_0x809a88,_0x2c7640['_id']),_0x2bb018[_0x3fbf51(0x7b8)](_0x809a88);}}if(_0x2c7640[_0x3fbf51(0x4e2)]!==void 0x0&&(_0x345ebc['unreadcount']=Number(_0x2c7640['unreadcount'])),Object[_0x3fbf51(0x63f)](_0x345ebc)[_0x3fbf51(0x78c)]===0x0)throw new Error(_0x3fbf51(0x3a2));let _0x3e43fd=await this[_0x3fbf51(0x479)][_0x3fbf51(0x77e)]['updateOne']({'where':{'_id':_0x2c7640['_id']}},_0x345ebc,this[_0x3fbf51(0x2ac)]['wuid']);return _0x3e43fd&&F(this[_0x3fbf51(0x247)],'chats',{'chat':_0x3e43fd}),_0x3e43fd?(this[_0x3fbf51(0x365)]['verbose'](this['instanceName']+'\x20('+this[_0x3fbf51(0x2ac)]['wuid']+_0x3fbf51(0x470)+JSON[_0x3fbf51(0x230)](_0x3e43fd,null,0x2)),_0x3e43fd):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x510593){let _0x403dd3=_0x3fbf51(0x223),_0x652375=_0x510593 instanceof Error?_0x510593[_0x3fbf51(0x620)]:typeof _0x510593==_0x3fbf51(0x398)?JSON[_0x3fbf51(0x230)](_0x510593):_0x510593,_0x521678=_0x403dd3+':\x20'+_0x652375;throw this[_0x3fbf51(0x365)][_0x3fbf51(0xdb)](this[_0x3fbf51(0x247)]+'\x20('+this[_0x3fbf51(0x2ac)][_0x3fbf51(0x53a)]+_0x3fbf51(0x470)+_0x521678),new m(_0x521678);}}async['AddChatLabel'](_0x2354ed,_0x4ea415){const _0x1b5ff5=a0_0x29ff78;try{await this['client'][_0x1b5ff5(0x566)](_0x4ea415,_0x2354ed),this[_0x1b5ff5(0x365)]['info'](this[_0x1b5ff5(0x247)]+'\x20('+this['instance'][_0x1b5ff5(0x53a)]+'):\x20Label\x20'+_0x2354ed+_0x1b5ff5(0x277)+_0x4ea415+_0x1b5ff5(0x769));}catch(_0x47f70b){console[_0x1b5ff5(0xdb)](_0x1b5ff5(0xd1)+_0x2354ed+_0x1b5ff5(0x64b)+_0x4ea415+':',_0x47f70b);}}async[a0_0x29ff78(0x41d)](_0x1f185d,_0x3d9091){const _0xffc97a=a0_0x29ff78;try{await this[_0xffc97a(0x4c8)][_0xffc97a(0x740)](_0x3d9091,_0x1f185d),this[_0xffc97a(0x365)]['info'](this[_0xffc97a(0x247)]+'\x20('+this[_0xffc97a(0x2ac)]['wuid']+'):\x20Label\x20'+_0x1f185d+_0xffc97a(0x54e)+_0x3d9091+_0xffc97a(0x769));}catch(_0x400821){console[_0xffc97a(0xdb)](_0xffc97a(0x1ee)+_0x1f185d+'\x20do\x20chat\x20'+_0x3d9091+':',_0x400821);}}async[a0_0x29ff78(0x384)](_0x327f6e){const _0x4ed203=a0_0x29ff78;try{let _0x17a5d7=await this[_0x4ed203(0x479)][_0x4ed203(0x16a)]['findOrCreate'](this[_0x4ed203(0x2ac)]['wuid']),_0x17e807=_0x327f6e['_id']?_0x17a5d7[_0x4ed203(0x684)][_0x4ed203(0x1da)](_0xf3d911=>_0xf3d911[_0x4ed203(0x5e4)]===_0x327f6e['_id']):-0x1;if(_0x327f6e[_0x4ed203(0x7b8)]&&_0x17e807>-0x1)_0x17a5d7[_0x4ed203(0x684)][_0x4ed203(0x66d)](_0x17e807,0x1);else{if(_0x17e807>-0x1){let _0x101e8f=_0x17a5d7['agents'][_0x17e807];_0x327f6e['fone']&&(_0x101e8f[_0x4ed203(0x7a8)]=_0x327f6e[_0x4ed203(0x7a8)]),_0x327f6e['name']&&(_0x101e8f[_0x4ed203(0x177)]=_0x327f6e['name']),_0x327f6e[_0x4ed203(0x2d5)]&&(_0x101e8f['email']=_0x327f6e[_0x4ed203(0x2d5)]),_0x327f6e[_0x4ed203(0x245)]&&(_0x101e8f[_0x4ed203(0x245)]=_0x327f6e[_0x4ed203(0x245)]);}else _0x17a5d7[_0x4ed203(0x684)][_0x4ed203(0x41b)]({'_id':_0x327f6e[_0x4ed203(0x5e4)]||new re[(_0x4ed203(0x152))][(_0x4ed203(0x2c8))][(_0x4ed203(0x202))]()[_0x4ed203(0x675)](),'fone':_0x327f6e[_0x4ed203(0x7a8)],'name':_0x327f6e[_0x4ed203(0x177)],'email':_0x327f6e[_0x4ed203(0x2d5)],'role':_0x327f6e[_0x4ed203(0x245)]});}let _0x303482={'agents':_0x17a5d7[_0x4ed203(0x684)]},_0x4c9b80=await this[_0x4ed203(0x479)][_0x4ed203(0x16a)]['update'](_0x303482,this['instance']['wuid']);return this[_0x4ed203(0x423)]=_0x4c9b80,this[_0x4ed203(0x365)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x4ed203(0x53a)]+_0x4ed203(0x6c0)),this[_0x4ed203(0x365)]['verbose'](this[_0x4ed203(0x247)]+'\x20('+this[_0x4ed203(0x2ac)]['wuid']+_0x4ed203(0x470)+this['AutomateSystem']),_0x4c9b80;}catch(_0xb72e73){let _0x5ddaab=_0x4ed203(0x3a5),_0x4049d3=_0xb72e73 instanceof Error?_0xb72e73[_0x4ed203(0x620)]:typeof _0xb72e73==_0x4ed203(0x398)?JSON[_0x4ed203(0x230)](_0xb72e73):_0xb72e73,_0x1f5f6e=_0x5ddaab+':\x20'+_0x4049d3;throw this[_0x4ed203(0x365)][_0x4ed203(0xdb)](this[_0x4ed203(0x247)]+'\x20('+this[_0x4ed203(0x2ac)][_0x4ed203(0x53a)]+_0x4ed203(0x470)+_0x1f5f6e),new m(_0x1f5f6e);}}async[a0_0x29ff78(0x796)](_0x4a0498){const _0x4a90e8=a0_0x29ff78;try{let _0xee30bd=await this[_0x4a90e8(0x479)][_0x4a90e8(0x16a)]['findOrCreate'](this[_0x4a90e8(0x2ac)]['wuid']),_0x4ab0fb=_0x4a0498[_0x4a90e8(0x5e4)]?_0xee30bd[_0x4a90e8(0x10b)][_0x4a90e8(0x1da)](_0xde2893=>_0xde2893[_0x4a90e8(0x5e4)]===_0x4a0498[_0x4a90e8(0x5e4)]):-0x1,_0x481f48=!0x1,_0x118909=_0xee30bd[_0x4a90e8(0x10b)][_0x4a90e8(0x602)](_0x52b67b=>_0x52b67b['order']===_0x4a0498['order']);if(_0x4a0498[_0x4a90e8(0x7b8)]&&_0x4ab0fb>-0x1)_0xee30bd[_0x4a90e8(0x10b)]['splice'](_0x4ab0fb,0x1),_0x481f48=!0x0;else{if(_0x4ab0fb>-0x1){if(_0xee30bd['customFields']['some'](_0x43714f=>_0x43714f[_0x4a90e8(0x177)]===_0x4a0498[_0x4a90e8(0x177)]&&_0x43714f[_0x4a90e8(0x5e4)]!==_0x4a0498[_0x4a90e8(0x5e4)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');let _0x44f835=_0xee30bd['customFields'][_0x4ab0fb];_0x4a0498[_0x4a90e8(0x6eb)]&&(_0x118909||!Number['isInteger'](_0x4a0498['order']))&&(_0x44f835[_0x4a90e8(0x6eb)]=_0x4a0498['order'],_0x481f48=!0x0),_0x4a0498[_0x4a90e8(0x177)]&&(_0x44f835[_0x4a90e8(0x177)]=_0x4a0498[_0x4a90e8(0x177)]);}else{if(_0xee30bd[_0x4a90e8(0x10b)][_0x4a90e8(0x602)](_0x42c0f7=>_0x42c0f7['name']===_0x4a0498[_0x4a90e8(0x177)]&&_0x42c0f7[_0x4a90e8(0x5e4)]!==_0x4a0498[_0x4a90e8(0x5e4)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0xee30bd[_0x4a90e8(0x10b)][_0x4a90e8(0x41b)]({'_id':_0x4a0498[_0x4a90e8(0x5e4)]||new re['default']['Types'][(_0x4a90e8(0x202))]()['toString'](),'order':_0x4a0498[_0x4a90e8(0x6eb)],'name':_0x4a0498['name']}),_0x481f48=!0x0;}}if(_0x481f48){_0xee30bd['customFields'][_0x4a90e8(0x385)]((_0x1dd5d7,_0x5790f6)=>_0x1dd5d7[_0x4a90e8(0x6eb)]>_0x5790f6[_0x4a90e8(0x6eb)]?0x1:_0x5790f6[_0x4a90e8(0x6eb)]>_0x1dd5d7['order']?-0x1:0x0);for(let _0x228020=0x0;_0x228020<_0xee30bd[_0x4a90e8(0x10b)][_0x4a90e8(0x78c)];_0x228020++)_0xee30bd[_0x4a90e8(0x10b)][_0x228020][_0x4a90e8(0x6eb)]=_0x228020+0x1;}let _0x4eb8a1=await this[_0x4a90e8(0x479)]['automateSystem'][_0x4a90e8(0x6e6)](_0xee30bd,this[_0x4a90e8(0x2ac)][_0x4a90e8(0x53a)]);return this['AutomateSystem']=_0x4eb8a1,this[_0x4a90e8(0x365)]['verbose'](this[_0x4a90e8(0x247)]+'\x20('+this[_0x4a90e8(0x2ac)][_0x4a90e8(0x53a)]+_0x4a90e8(0x598)),this[_0x4a90e8(0x365)][_0x4a90e8(0x3d2)](this[_0x4a90e8(0x247)]+'\x20('+this['instance']['wuid']+_0x4a90e8(0x470)+this['AutomateSystem']),_0x4eb8a1;}catch(_0x4d8ce7){let _0x2d5966=_0x4a90e8(0x56c),_0x4a06bb=_0x4d8ce7 instanceof Error?_0x4d8ce7[_0x4a90e8(0x620)]:typeof _0x4d8ce7==_0x4a90e8(0x398)?JSON[_0x4a90e8(0x230)](_0x4d8ce7):_0x4d8ce7,_0x3bb003=_0x2d5966+':\x20'+_0x4a06bb;throw this['logger'][_0x4a90e8(0xdb)](this[_0x4a90e8(0x247)]+'\x20('+this[_0x4a90e8(0x2ac)][_0x4a90e8(0x53a)]+_0x4a90e8(0x470)+_0x3bb003),new m(_0x3bb003);}}async['updateAutoCompleteMessages'](_0x5ead6e){const _0xff5305=a0_0x29ff78;try{let _0xd11179=await this[_0xff5305(0x479)][_0xff5305(0x16a)]['findOrCreate'](this[_0xff5305(0x2ac)][_0xff5305(0x53a)]),_0xa40c18=_0xd11179?.[_0xff5305(0x7c1)]?.[_0xff5305(0x1da)](_0x4de635=>_0x4de635[_0xff5305(0x5e4)]===_0x5ead6e?.['_id']);if(_0x5ead6e?.[_0xff5305(0x7b8)])_0xa40c18>-0x1&&_0xd11179?.[_0xff5305(0x7c1)]?.[_0xff5305(0x66d)](_0xa40c18,0x1);else{if(_0xa40c18>-0x1){let _0x31fe19=_0xd11179[_0xff5305(0x7c1)][_0xa40c18];_0x31fe19[_0xff5305(0x6eb)]=_0x5ead6e?.['order']||_0x31fe19[_0xff5305(0x6eb)],_0x31fe19['command']=_0x5ead6e?.[_0xff5305(0x56a)]||_0x31fe19[_0xff5305(0x56a)],_0x31fe19[_0xff5305(0x620)]=_0x5ead6e?.['message']||_0x31fe19[_0xff5305(0x620)];}else{let _0x3a2a4e={'_id':_0x5ead6e?.['_id']||new re[(_0xff5305(0x152))]['Types']['ObjectId']()[_0xff5305(0x675)](),'order':_0x5ead6e?.['order'],'command':_0x5ead6e?.[_0xff5305(0x56a)],'message':_0x5ead6e?.[_0xff5305(0x620)]};_0xd11179?.['autoCompleteMessages']?.[_0xff5305(0x41b)](_0x3a2a4e);}}_0xd11179?.[_0xff5305(0x7c1)]?.[_0xff5305(0x385)]((_0xb37755,_0x213829)=>_0xb37755[_0xff5305(0x6eb)]-_0x213829[_0xff5305(0x6eb)]);let _0x24f2ea=await this['repository'][_0xff5305(0x16a)][_0xff5305(0x6e6)](_0xd11179,this['instance'][_0xff5305(0x53a)]);return this['AutomateSystem']=_0x24f2ea,this[_0xff5305(0x365)][_0xff5305(0x3d2)](this[_0xff5305(0x247)]+'\x20('+this[_0xff5305(0x2ac)][_0xff5305(0x53a)]+_0xff5305(0x598)),_0x24f2ea;}catch(_0x26f3a7){let _0x4d841a=_0xff5305(0x537),_0x5025ad=_0x26f3a7 instanceof Error?_0x26f3a7[_0xff5305(0x620)]:typeof _0x26f3a7==_0xff5305(0x398)?JSON[_0xff5305(0x230)](_0x26f3a7):_0x26f3a7,_0x38d7c8=_0x4d841a+':\x20'+_0x5025ad;throw this['logger'][_0xff5305(0xdb)](this[_0xff5305(0x247)]+'\x20('+this[_0xff5305(0x2ac)][_0xff5305(0x53a)]+_0xff5305(0x470)+_0x38d7c8),new m(_0x38d7c8);}}async[a0_0x29ff78(0x6c2)](_0x101981){const _0x227bab=a0_0x29ff78;try{let _0x174a1a=await this[_0x227bab(0x479)][_0x227bab(0x16a)]['findOrCreate'](this[_0x227bab(0x2ac)][_0x227bab(0x53a)]);if(!_0x174a1a)throw new Error(_0x227bab(0x304));let _0x32b176={'_id':_0x174a1a['_id'],'flowConfig':{'enabled':_0x101981[_0x227bab(0x3ca)]??_0x174a1a[_0x227bab(0x358)][_0x227bab(0x3ca)],'ignoreGroups':_0x101981[_0x227bab(0x125)]??_0x174a1a['flowConfig'][_0x227bab(0x125)],'prefixCommand':_0x101981[_0x227bab(0x770)]??_0x174a1a[_0x227bab(0x358)]['prefixCommand'],'stopConversation':_0x101981[_0x227bab(0x1e0)]??_0x174a1a[_0x227bab(0x358)][_0x227bab(0x1e0)],'stopMinutes':_0x101981['stopMinutes']??_0x174a1a[_0x227bab(0x358)][_0x227bab(0x61a)],'stopWhenYouSendMsg':_0x101981['stopWhenYouSendMsg']??_0x174a1a[_0x227bab(0x358)][_0x227bab(0x5a6)]}},_0x92e30c=await this['repository'][_0x227bab(0x16a)]['update'](_0x32b176,this['instance'][_0x227bab(0x53a)]);return this[_0x227bab(0x423)]=_0x92e30c,this[_0x227bab(0x365)]['verbose'](this['instanceName']+'\x20('+this[_0x227bab(0x2ac)][_0x227bab(0x53a)]+_0x227bab(0x6c0)),this[_0x227bab(0x365)][_0x227bab(0x3d2)](this[_0x227bab(0x247)]+'\x20('+this[_0x227bab(0x2ac)][_0x227bab(0x53a)]+'):\x20'+this['AutomateSystem']),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x92e30c;}catch(_0x4eab15){let _0x3707e8=_0x227bab(0x7c2),_0x227d8a=_0x4eab15 instanceof Error?_0x4eab15[_0x227bab(0x620)]:typeof _0x4eab15==_0x227bab(0x398)?JSON['stringify'](_0x4eab15):_0x4eab15,_0x383cbb=_0x3707e8+':\x20'+_0x227d8a;throw this[_0x227bab(0x365)][_0x227bab(0xdb)](this['instanceName']+'\x20('+this['instance'][_0x227bab(0x53a)]+'):\x20'+_0x383cbb),new m(_0x383cbb);}}async[a0_0x29ff78(0x5af)](){const _0xdae1c5=a0_0x29ff78;try{let _0x316052=await this[_0xdae1c5(0x479)][_0xdae1c5(0x16a)][_0xdae1c5(0x5cd)](this[_0xdae1c5(0x2ac)]['wuid']);return this['AutomateSystem']=_0x316052,this[_0xdae1c5(0x365)][_0xdae1c5(0x3d2)](this[_0xdae1c5(0x247)]+'\x20('+this[_0xdae1c5(0x2ac)]['wuid']+'):\x20Visualizando\x20AutomateSystem'),this[_0xdae1c5(0x365)][_0xdae1c5(0x3d2)](this[_0xdae1c5(0x423)]),_0x316052;}catch(_0x5f53fc){let _0x6afb12=_0xdae1c5(0x45e),_0xd79250=_0x5f53fc instanceof Error?_0x5f53fc[_0xdae1c5(0x620)]:typeof _0x5f53fc==_0xdae1c5(0x398)?JSON[_0xdae1c5(0x230)](_0x5f53fc):_0x5f53fc,_0x20e661=_0x6afb12+':\x20'+_0xd79250;throw this[_0xdae1c5(0x365)]['error'](this['instanceName']+'\x20('+this[_0xdae1c5(0x2ac)][_0xdae1c5(0x53a)]+_0xdae1c5(0x470)+_0x20e661),new m(_0x20e661);}}async[a0_0x29ff78(0x1d3)](){const _0x1bf1c1=a0_0x29ff78;this['instance']['ScheduleMessage'][_0x1bf1c1(0x437)]&&clearTimeout(this['instance'][_0x1bf1c1(0x4cb)]['timeout']),this[_0x1bf1c1(0x2ac)]['ScheduleMessage'][_0x1bf1c1(0x437)]=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x29ff78(0x3bd)](){const _0x5f4426=a0_0x29ff78;Date[_0x5f4426(0x455)]()-this[_0x5f4426(0x2ac)][_0x5f4426(0x4cb)]['lastSend']>=0x1d4c0&&(this['logger'][_0x5f4426(0x3d2)](this['instanceName']+'\x20('+this['instance'][_0x5f4426(0x53a)]+_0x5f4426(0x171)),this[_0x5f4426(0x2ac)][_0x5f4426(0x4cb)]['processing_id']=null,this[_0x5f4426(0x2ac)][_0x5f4426(0x4cb)][_0x5f4426(0x430)]=0x0,this[_0x5f4426(0x2ac)][_0x5f4426(0x4cb)][_0x5f4426(0x27c)]=0x0,await this[_0x5f4426(0x6ea)]());}async[a0_0x29ff78(0x6ea)](){const _0xce37f3=a0_0x29ff78;let _0x153f2b=()=>{const _0x30f35b=a0_0x5d27;this[_0x30f35b(0x365)][_0x30f35b(0x3d2)](this[_0x30f35b(0x247)]+'\x20('+this[_0x30f35b(0x2ac)][_0x30f35b(0x53a)]+_0x30f35b(0x346)+this[_0x30f35b(0x2ac)][_0x30f35b(0x4cb)][_0x30f35b(0x2fc)]+'\x20saindo\x20da\x20função');},_0xf3ffda=async()=>{const _0x1cce40=a0_0x5d27;this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x1cce40(0x2ac)][_0x1cce40(0x53a)]+'):\x20Procurando\x20mensagens\x20para\x20envio');let _0x4b3df9=Date['now']()-0xc*0x3c*0x3c*0x3e8,_0x2b188e={'where':{'status':{'$in':['scheduled',_0x1cce40(0x3f4)]},'$or':[{'when':{'$lte':Date[_0x1cce40(0x455)](),'$gte':_0x4b3df9}},{'when':0x0}]}};return await this['repository'][_0x1cce40(0x26f)][_0x1cce40(0x7a5)](_0x2b188e,this[_0x1cce40(0x2ac)][_0x1cce40(0x53a)]);},_0x5bf2ad=async _0x595afd=>{const _0xb3133=a0_0x5d27;for(let _0x5de41f of _0x595afd){let _0x195afd={'_id':_0x5de41f['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0xb3133(0x455)]()-0x1770}}]},_0x2c28c6={'startSend':Date[_0xb3133(0x455)]()};if(!await this[_0xb3133(0x479)][_0xb3133(0x26f)][_0xb3133(0x1bc)](_0x195afd,_0x2c28c6,this[_0xb3133(0x2ac)][_0xb3133(0x53a)]))return;if(!this['instance'][_0xb3133(0x4cb)]['isConnected']){this[_0xb3133(0x365)][_0xb3133(0x3d2)](this[_0xb3133(0x247)]+'\x20('+this[_0xb3133(0x2ac)][_0xb3133(0x53a)]+_0xb3133(0x40d));break;}if(_0x5de41f[_0xb3133(0x14b)]===_0xb3133(0x403)&&!this['AutomateSystem']?.[_0xb3133(0x358)][_0xb3133(0x3ca)]){this[_0xb3133(0x365)][_0xb3133(0xdb)](this[_0xb3133(0x247)]+'\x20('+this['instance'][_0xb3133(0x53a)]+_0xb3133(0x3c5));continue;}(!_0x5de41f[_0xb3133(0x70c)]||_0x5de41f['remoteJidsRemaining']['length']===0x0)&&(_0x5de41f=await this[_0xb3133(0x479)][_0xb3133(0x26f)][_0xb3133(0x179)](_0x5de41f[_0xb3133(0x5e4)],{'status':'sending','remoteJidsRemaining':[..._0x5de41f[_0xb3133(0x2f6)]]},this[_0xb3133(0x2ac)][_0xb3133(0x53a)]));for(let _0x44e24c of _0x5de41f['remoteJidsRemaining']){if(await this[_0xb3133(0x1d3)](),this[_0xb3133(0x2ac)][_0xb3133(0x4cb)][_0xb3133(0x430)]=Date[_0xb3133(0x455)](),this['instance']['ScheduleMessage']['ultimaTentativaRemoteJid']===_0x44e24c){this[_0xb3133(0x365)][_0xb3133(0xdb)](this[_0xb3133(0x247)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20'+_0x44e24c+_0xb3133(0x7a1));let _0x2cdb59={'$push':{'messagesSend':{'remoteJid':_0x44e24c,'error':!0x0,'id':null,'error_log':'Falha\x20após\x20várias\x20tentativas.','log_timestamp':Date[_0xb3133(0x455)]()}},'$pull':{'remoteJidsRemaining':_0x44e24c}};await this['repository'][_0xb3133(0x26f)][_0xb3133(0x179)](_0x5de41f['_id'],_0x2cdb59,this[_0xb3133(0x2ac)][_0xb3133(0x53a)]);continue;}if(this[_0xb3133(0x2ac)]['ScheduleMessage'][_0xb3133(0x765)]=_0x44e24c,_0x5de41f[_0xb3133(0x6fc)][_0xb3133(0x602)](_0x11e8bc=>_0x11e8bc[_0xb3133(0x5aa)]===_0x44e24c)){this['logger'][_0xb3133(0x3d2)](this[_0xb3133(0x247)]+'\x20('+this[_0xb3133(0x2ac)][_0xb3133(0x53a)]+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x44e24c+_0xb3133(0x27b));continue;}if(!this['instance']['ScheduleMessage'][_0xb3133(0x4c9)]){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0xb3133(0x2ac)][_0xb3133(0x53a)]+'):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.');break;}if(!this[_0xb3133(0x2ac)][_0xb3133(0x4cb)][_0xb3133(0x2fc)]){this[_0xb3133(0x365)]['verbose'](this[_0xb3133(0x247)]+'\x20('+this['instance'][_0xb3133(0x53a)]+_0xb3133(0x270)+_0x5de41f[_0xb3133(0x5e4)]+_0xb3133(0x75e));break;}if(_0x5de41f[_0xb3133(0x14b)]===_0xb3133(0x403)&&!this[_0xb3133(0x423)]?.[_0xb3133(0x358)][_0xb3133(0x3ca)]){this[_0xb3133(0x365)][_0xb3133(0xdb)](this['instanceName']+'\x20('+this[_0xb3133(0x2ac)][_0xb3133(0x53a)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');break;}let _0x50475e={'remoteJid':_0x44e24c,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date['now']()},_0x193f98=null;try{let _0x411ac5=await this[_0xb3133(0x6c4)](_0x44e24c,_0x5de41f);_0x50475e['error']=_0x411ac5[_0xb3133(0xdb)],_0x50475e['id']=_0x411ac5['error']?null:_0x411ac5['id'],_0x50475e[_0xb3133(0x146)]=_0x411ac5[_0xb3133(0xdb)]?_0x411ac5[_0xb3133(0x531)]?_0x411ac5[_0xb3133(0x531)][_0xb3133(0x675)]():'':null;let _0x5a2114={'$push':{'messagesSend':_0x50475e},'$pull':{'remoteJidsRemaining':_0x44e24c}},_0x2d658a=_0x5de41f[_0xb3133(0x5e4)];if(_0x193f98=await this[_0xb3133(0x479)]['scheduleMessage'][_0xb3133(0x179)](_0x2d658a,_0x5a2114,this['instance'][_0xb3133(0x53a)]),_0x411ac5['error'])continue;let _0x1596f3=this[_0xb3133(0x1a3)](_0x5de41f[_0xb3133(0x293)],_0x5de41f['delaySecMax']);await this[_0xb3133(0x725)](_0x1596f3);}catch(_0x4961aa){this[_0xb3133(0x365)][_0xb3133(0xdb)](this[_0xb3133(0x247)]+'\x20('+this[_0xb3133(0x2ac)][_0xb3133(0x53a)]+_0xb3133(0x3bc)+_0x44e24c+':\x20'+(_0x4961aa instanceof Error?_0x4961aa[_0xb3133(0x620)]:JSON['stringify'](_0x4961aa,null,0x2))),_0x50475e[_0xb3133(0xdb)]=!0x0,_0x50475e[_0xb3133(0x146)]=_0x4961aa[_0xb3133(0x620)];let _0x1e333d={'$push':{'messagesSend':_0x50475e},'$pull':{'remoteJidsRemaining':_0x44e24c}},_0x357caf=_0x5de41f[_0xb3133(0x5e4)];_0x193f98=await this[_0xb3133(0x479)][_0xb3133(0x26f)][_0xb3133(0x179)](_0x357caf,_0x1e333d,this[_0xb3133(0x2ac)]['wuid']);}finally{if(_0x193f98&&_0x193f98['status']==='stopped'){this[_0xb3133(0x365)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0xb3133(0x53a)]+_0xb3133(0x270)+_0x5de41f[_0xb3133(0x5e4)]+_0xb3133(0x3ae));break;}}}let _0x1b242c=await this['repository']['scheduleMessage'][_0xb3133(0x31f)](_0x5de41f[_0xb3133(0x5e4)],this[_0xb3133(0x2ac)][_0xb3133(0x53a)]);if(_0x1b242c['remoteJidsRemaining'][_0xb3133(0x78c)]===0x0&&_0x1b242c[_0xb3133(0x353)]!=='stopped'){this['instance'][_0xb3133(0x4cb)][_0xb3133(0x765)]=null;let _0x54d890={'$set':{'status':'done'}},_0x4a2448=_0x1b242c[_0xb3133(0x5e4)];await this[_0xb3133(0x479)][_0xb3133(0x26f)][_0xb3133(0x179)](_0x4a2448,_0x54d890,this[_0xb3133(0x2ac)][_0xb3133(0x53a)]);}await new Promise(_0x248d7b=>setTimeout(_0x248d7b,0x1388));}},_0x23955c=async()=>{const _0x2a84c5=a0_0x5d27;let _0xb6c3a3={'where':{'status':_0x2a84c5(0x1cc),'when':{'$gt':Date[_0x2a84c5(0x455)]()}}},_0x1eb7a2=await this[_0x2a84c5(0x479)][_0x2a84c5(0x26f)][_0x2a84c5(0x2d8)](_0xb6c3a3,this[_0x2a84c5(0x2ac)][_0x2a84c5(0x53a)]);_0x1eb7a2&&_0x1eb7a2[_0x2a84c5(0x5d7)]-Date[_0x2a84c5(0x455)]()<=0x5265c00?this['instance'][_0x2a84c5(0x4cb)][_0x2a84c5(0x27c)]=_0x1eb7a2[_0x2a84c5(0x5d7)]-Date[_0x2a84c5(0x455)]():this[_0x2a84c5(0x2ac)][_0x2a84c5(0x4cb)][_0x2a84c5(0x27c)]=(0x3c+Math[_0x2a84c5(0x71e)](Math[_0x2a84c5(0x72c)]()*0x3c))*0x3c*0x3e8,this[_0x2a84c5(0x2ac)][_0x2a84c5(0x4cb)][_0x2a84c5(0x27c)]=Math['max'](this[_0x2a84c5(0x2ac)][_0x2a84c5(0x4cb)][_0x2a84c5(0x27c)],0x7d0);let _0x228a52=Math[_0x2a84c5(0x161)](this[_0x2a84c5(0x2ac)][_0x2a84c5(0x4cb)][_0x2a84c5(0x27c)]/0xea60);if(_0x1eb7a2){let _0x30b302=new Date(_0x1eb7a2['when'])[_0x2a84c5(0xf6)]();this[_0x2a84c5(0x365)]['verbose'](this['instanceName']+'\x20('+this[_0x2a84c5(0x2ac)][_0x2a84c5(0x53a)]+_0x2a84c5(0x6e8)+_0x30b302+_0x2a84c5(0x425)+_0x228a52+_0x2a84c5(0x253));}else this[_0x2a84c5(0x365)][_0x2a84c5(0x3d2)](this[_0x2a84c5(0x247)]+'\x20('+this['instance'][_0x2a84c5(0x53a)]+_0x2a84c5(0x5d9)+_0x228a52+'\x20minutos');setTimeout(()=>this[_0x2a84c5(0x6ea)](),this[_0x2a84c5(0x2ac)][_0x2a84c5(0x4cb)][_0x2a84c5(0x27c)]);};if(this[_0xce37f3(0x2ac)]['ScheduleMessage']['processing_id']){await this['setRestartTimeout'](),_0x153f2b();return;}if(!this['instance'][_0xce37f3(0x4cb)][_0xce37f3(0x4c9)]){this[_0xce37f3(0x365)][_0xce37f3(0x3d2)](this[_0xce37f3(0x247)]+'\x20('+this[_0xce37f3(0x2ac)][_0xce37f3(0x53a)]+_0xce37f3(0x4fd)),this['instance']['ScheduleMessage']['processing_id']=null,this[_0xce37f3(0x2ac)]['ScheduleMessage'][_0xce37f3(0x430)]=0x0,this[_0xce37f3(0x2ac)][_0xce37f3(0x4cb)][_0xce37f3(0x27c)]=0x0,this[_0xce37f3(0x2ac)][_0xce37f3(0x4cb)][_0xce37f3(0x765)]=null;return;}try{let _0x3db87d=await _0xf3ffda();_0x3db87d['length']===0x0?this[_0xce37f3(0x365)]['verbose'](this[_0xce37f3(0x247)]+'\x20('+this[_0xce37f3(0x2ac)][_0xce37f3(0x53a)]+_0xce37f3(0x249)):(this[_0xce37f3(0x2ac)]['ScheduleMessage']['processing_id']=_0x3db87d[0x0][_0xce37f3(0x5e4)],await _0x5bf2ad(_0x3db87d)),await _0x23955c(),this[_0xce37f3(0x2ac)]['ScheduleMessage'][_0xce37f3(0x2fc)]=null,this[_0xce37f3(0x2ac)]['ScheduleMessage'][_0xce37f3(0x765)]=null;}catch(_0x1fa353){this['logger'][_0xce37f3(0xdb)](_0xce37f3(0x458)+(_0x1fa353 instanceof Error?_0x1fa353[_0xce37f3(0x620)]:JSON[_0xce37f3(0x230)](_0x1fa353,null,0x2)));}}[a0_0x29ff78(0x1a3)](_0x1b905b,_0x460601){const _0x46d1bc=a0_0x29ff78;return _0x1b905b=Math[_0x46d1bc(0x6c5)](0.5,_0x1b905b),_0x460601=Math[_0x46d1bc(0x2d6)](Math[_0x46d1bc(0x6c5)](0x3,_0x460601),0x78),Math['floor'](Math[_0x46d1bc(0x72c)]()*(_0x460601-_0x1b905b+0x1)+_0x1b905b)*0x3e8;}[a0_0x29ff78(0x725)](_0x5811a6){return new Promise(_0x4bcef4=>setTimeout(_0x4bcef4,_0x5811a6));}async[a0_0x29ff78(0x728)](_0x58527d){const _0x124ac3=a0_0x29ff78;if(!this[_0x124ac3(0x423)]&&(await this['getAutomateSystem'](),!this[_0x124ac3(0x423)]))return null;_0x58527d=this[_0x124ac3(0x4cd)](_0x58527d);let _0x2960ac=await this[_0x124ac3(0x479)][_0x124ac3(0x77e)][_0x124ac3(0x2d8)]({'where':{'_id':_0x58527d}},this['instance']['wuid']),_0x34e7b7={};if(_0x2960ac&&_0x2960ac[_0x124ac3(0x25f)]){let _0x669c01=_0x2960ac[_0x124ac3(0x25f)];typeof _0x669c01[_0x124ac3(0x444)]==_0x124ac3(0x52a)&&(_0x34e7b7['nome']=_0x669c01[_0x124ac3(0x444)]),typeof _0x669c01['nomecompleto']==_0x124ac3(0x52a)&&(_0x34e7b7['nomecompleto']=_0x669c01['nomecompleto']),typeof _0x669c01[_0x124ac3(0x2d5)]==_0x124ac3(0x52a)&&(_0x34e7b7[_0x124ac3(0x2d5)]=_0x669c01[_0x124ac3(0x2d5)]),typeof _0x669c01[_0x124ac3(0x307)]==_0x124ac3(0x52a)&&(_0x34e7b7['cpf']=_0x669c01[_0x124ac3(0x307)]),typeof _0x669c01['status']==_0x124ac3(0x52a)&&(_0x34e7b7[_0x124ac3(0x353)]=_0x669c01['status']),typeof _0x669c01[_0x124ac3(0x29e)]==_0x124ac3(0x52a)&&(_0x34e7b7['notas']=_0x669c01[_0x124ac3(0x29e)]),typeof _0x669c01[_0x124ac3(0x735)]==_0x124ac3(0x52a)&&(_0x34e7b7[_0x124ac3(0x735)]=_0x669c01['responsavelid']),Array['isArray'](_0x669c01[_0x124ac3(0x605)])&&(_0x34e7b7['tags']=_0x669c01[_0x124ac3(0x605)]['join'](',\x20')),Array['isArray'](_0x669c01[_0x124ac3(0x2b3)])&&(_0x34e7b7['etiquetas']=_0x669c01['etiquetas'][_0x124ac3(0x46b)](',\x20'));}return _0x2960ac&&_0x2960ac[_0x124ac3(0x25f)]&&_0x2960ac['leadInfo'][_0x124ac3(0x10b)]&&_0x2960ac['leadInfo'][_0x124ac3(0x10b)][_0x124ac3(0x628)](_0x5eb5d3=>{const _0x4b5c36=_0x124ac3;let _0x1e9c25=this[_0x4b5c36(0x423)]?.[_0x4b5c36(0x10b)][_0x4b5c36(0x7a5)](_0x495c9f=>_0x495c9f[_0x4b5c36(0x5e4)]===_0x5eb5d3[_0x4b5c36(0x5e4)]);_0x1e9c25&&(_0x34e7b7[_0x1e9c25[_0x4b5c36(0x177)]]=_0x5eb5d3[_0x4b5c36(0x306)]);}),_0x34e7b7;}async[a0_0x29ff78(0x6de)](_0x412f8b,_0xcd1148){const _0x463838=a0_0x29ff78;try{let _0x1f055e=await this[_0x463838(0x728)](_0xcd1148);return this['replaceVariables'](_0x412f8b,_0x1f055e);}catch(_0x541eef){return this[_0x463838(0x365)]['error'](_0x463838(0x258)+_0xcd1148+':\x20'+_0x541eef),_0x412f8b;}}async[a0_0x29ff78(0x28e)](_0x3d3561){const _0x10e6bd=a0_0x29ff78;try{if(this[_0x10e6bd(0x365)][_0x10e6bd(0x3d2)](this['instanceName']+'\x20('+this[_0x10e6bd(0x2ac)][_0x10e6bd(0x53a)]+_0x10e6bd(0x396)),_0x3d3561[_0x10e6bd(0x7b8)]&&_0x3d3561[_0x10e6bd(0x5e4)]){if(this[_0x10e6bd(0x2ac)][_0x10e6bd(0x4cb)][_0x10e6bd(0x2fc)]===_0x3d3561[_0x10e6bd(0x5e4)][_0x10e6bd(0x675)]())throw new Error(_0x10e6bd(0xd3));let _0x24c8ee=await this[_0x10e6bd(0x479)][_0x10e6bd(0x26f)][_0x10e6bd(0x4bd)](_0x3d3561[_0x10e6bd(0x5e4)],this[_0x10e6bd(0x2ac)][_0x10e6bd(0x53a)]);return setTimeout(()=>this[_0x10e6bd(0x6ea)](),0x7d0),_0x24c8ee;}let _0x1f3050;if(_0x3d3561[_0x10e6bd(0x5e4)]&&(_0x1f3050=await this[_0x10e6bd(0x479)][_0x10e6bd(0x26f)][_0x10e6bd(0x31f)](_0x3d3561[_0x10e6bd(0x5e4)],this[_0x10e6bd(0x2ac)]['wuid'])),_0x1f3050){let _0x2a2ca9;if(this['instance']['ScheduleMessage'][_0x10e6bd(0x2fc)]===_0x1f3050['_id']['toString']())_0x2a2ca9={'$set':{'status':_0x3d3561[_0x10e6bd(0x353)]}};else{let {_id:_0x187d52,..._0x972204}=_0x3d3561;_0x2a2ca9={'$set':_0x972204};}let _0x1cc92d=await this[_0x10e6bd(0x479)][_0x10e6bd(0x26f)]['updateOneById'](_0x3d3561[_0x10e6bd(0x5e4)],_0x2a2ca9,this[_0x10e6bd(0x2ac)][_0x10e6bd(0x53a)]);return setTimeout(()=>this[_0x10e6bd(0x6ea)](),0x7d0),_0x1cc92d;}else{_0x3d3561['owner']=this[_0x10e6bd(0x2ac)][_0x10e6bd(0x53a)];let _0x5c60ba=await this[_0x10e6bd(0x479)][_0x10e6bd(0x26f)][_0x10e6bd(0x224)](_0x3d3561,this[_0x10e6bd(0x2ac)][_0x10e6bd(0x53a)]);return setTimeout(()=>this[_0x10e6bd(0x6ea)](),0x7d0),_0x5c60ba;}}catch(_0x93b2e6){let _0x436c5d=_0x10e6bd(0x6f5),_0x5767b0=_0x93b2e6 instanceof Error?_0x93b2e6[_0x10e6bd(0x620)]:typeof _0x93b2e6==_0x10e6bd(0x398)?JSON[_0x10e6bd(0x230)](_0x93b2e6):_0x93b2e6,_0x57d4eb=_0x436c5d+':\x20'+_0x5767b0;throw this[_0x10e6bd(0x365)][_0x10e6bd(0xdb)](this['instanceName']+'\x20('+this['instance'][_0x10e6bd(0x53a)]+_0x10e6bd(0x470)+_0x57d4eb),new m(_0x57d4eb);}}async['getScheduleMessage'](){const _0x5390d6=a0_0x29ff78;try{return await this[_0x5390d6(0x479)][_0x5390d6(0x26f)][_0x5390d6(0x7a5)]({'where':{}},this['instance']['wuid']);}catch(_0x5aac40){let _0x51757f=_0x5390d6(0x2b1),_0x53cf7d=_0x5aac40 instanceof Error?_0x5aac40[_0x5390d6(0x620)]:typeof _0x5aac40==_0x5390d6(0x398)?JSON[_0x5390d6(0x230)](_0x5aac40):_0x5aac40,_0x6499d4=_0x51757f+':\x20'+_0x53cf7d;throw this['logger']['error'](this[_0x5390d6(0x247)]+'\x20('+this[_0x5390d6(0x2ac)][_0x5390d6(0x53a)]+'):\x20'+_0x6499d4),new m(_0x6499d4);}}async[a0_0x29ff78(0x593)](){const _0x2b6a38=a0_0x29ff78;try{let _0x1ed3a0={'status':'done'},_0x5201c0=await this[_0x2b6a38(0x479)][_0x2b6a38(0x26f)][_0x2b6a38(0x67e)](_0x1ed3a0,this[_0x2b6a38(0x2ac)]['wuid']);if(!_0x5201c0[_0x2b6a38(0xdb)])this['logger'][_0x2b6a38(0x3d2)](this['instanceName']+'\x20('+this['instance'][_0x2b6a38(0x53a)]+_0x2b6a38(0x3d1));else throw new Error(_0x5201c0[_0x2b6a38(0xdb)]['message']||_0x2b6a38(0x47f));return this[_0x2b6a38(0x4b8)]();}catch(_0x29941b){let _0x1c2f15=_0x2b6a38(0x1ec),_0x316639=_0x29941b instanceof Error?_0x29941b[_0x2b6a38(0x620)]:typeof _0x29941b==_0x2b6a38(0x398)?JSON[_0x2b6a38(0x230)](_0x29941b):_0x29941b,_0xd8e586=_0x1c2f15+':\x20'+_0x316639;throw this[_0x2b6a38(0x365)][_0x2b6a38(0xdb)](this[_0x2b6a38(0x247)]+'\x20('+this[_0x2b6a38(0x2ac)][_0x2b6a38(0x53a)]+_0x2b6a38(0x470)+_0xd8e586),new m(_0xd8e586);}}async['SendScheduleMessage'](_0x569044,_0x31f4dc){const _0x568903=a0_0x29ff78;try{if(_0x31f4dc[_0x568903(0x14b)]===_0x568903(0x403)&&!this[_0x568903(0x423)]?.[_0x568903(0x358)]['enabled'])return this[_0x568903(0x365)][_0x568903(0xdb)](this['instanceName']+'\x20('+this[_0x568903(0x2ac)][_0x568903(0x53a)]+_0x568903(0x2d7)),{'error':!0x0,'detail':_0x568903(0x310)};switch(_0x31f4dc[_0x568903(0x14b)]){case _0x568903(0x33c):return await this[_0x568903(0x313)](_0x31f4dc,_0x569044);case _0x568903(0x648):return await this['scheduleSendMedia'](_0x31f4dc,_0x569044);case'audio':return await this[_0x568903(0x1a7)](_0x31f4dc,_0x569044);case _0x568903(0x403):let _0x313fc4=new Ve();return _0x313fc4['name']=_0x31f4dc[_0x568903(0x140)],_0x313fc4['remoteJid']=_0x569044,await this['startFlow'](_0x313fc4);break;default:return this[_0x568903(0x365)][_0x568903(0xdb)](this[_0x568903(0x247)]+'\x20('+this[_0x568903(0x2ac)][_0x568903(0x53a)]+_0x568903(0x17c)+_0x31f4dc[_0x568903(0x14b)]),{'error':!0x0,'detail':_0x568903(0x417)};}}catch(_0x37ad88){return this['logger']['error'](this[_0x568903(0x247)]+'\x20('+this[_0x568903(0x2ac)]['wuid']+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x37ad88 instanceof Error?_0x37ad88['message']:JSON[_0x568903(0x230)](_0x37ad88,null,0x2))),{'error':!0x0,'detail':_0x37ad88[_0x568903(0x620)]};}}[a0_0x29ff78(0x5cc)](_0x2c1139){const _0x24e076=a0_0x29ff78;let _0x8d6239=_0x2c1139['split']('|'),_0x1a856e=Math[_0x24e076(0x71e)](Math['random']()*_0x8d6239['length']);return _0x8d6239[_0x1a856e][_0x24e076(0xf3)]();}async['scheduleSendText'](_0x28b64f,_0xa54749){const _0x3cbc42=a0_0x29ff78;if(this[_0x3cbc42(0x365)][_0x3cbc42(0x3d2)](this['instanceName']+'\x20('+this[_0x3cbc42(0x2ac)][_0x3cbc42(0x53a)]+_0x3cbc42(0x2a0)),!_0x28b64f[_0x3cbc42(0x620)][_0x3cbc42(0x33c)]||_0x28b64f[_0x3cbc42(0x620)][_0x3cbc42(0x33c)]['length']===0x0)return{'error':!0x0,'detail':_0x3cbc42(0x3a6)};let _0x18e167=this[_0x3cbc42(0x5cc)](_0x28b64f['message'][_0x3cbc42(0x33c)]),_0x6fd701=await this[_0x3cbc42(0x6de)](_0x18e167,_0xa54749),_0x328d0f={'number':_0xa54749,'options':{'delay':_0x28b64f['message'][_0x3cbc42(0x2f3)],'linkPreview':_0x28b64f[_0x3cbc42(0x620)]['linkPreview']},'textMessage':{'text':_0x6fd701}},_0x113459=null;try{let _0x5a5dda=await this[_0x3cbc42(0x789)](_0x328d0f);if(_0x5a5dda&&_0x5a5dda[_0x3cbc42(0x353)])return{'error':!0x1,'id':_0x5a5dda[_0x3cbc42(0x60f)]['id']};_0x113459=JSON[_0x3cbc42(0x230)](_0x5a5dda),this['logger'][_0x3cbc42(0x3d2)](this['instanceName']+'\x20('+this[_0x3cbc42(0x2ac)][_0x3cbc42(0x53a)]+_0x3cbc42(0x470)+_0x113459);}catch(_0x19f4ea){this[_0x3cbc42(0x365)][_0x3cbc42(0xdb)](this['instanceName']+'\x20('+this[_0x3cbc42(0x2ac)][_0x3cbc42(0x53a)]+_0x3cbc42(0x337)+(_0x19f4ea instanceof Error?_0x19f4ea[_0x3cbc42(0x620)]:JSON['stringify'](_0x19f4ea,null,0x2))),_0x113459=_0x19f4ea[_0x3cbc42(0x620)];}if(_0x113459)return{'error':!0x0,'detail':(typeof _0x113459==_0x3cbc42(0x398)?JSON['stringify'](_0x113459,null,0x2):_0x113459)['replace'](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x29ff78(0x4c2)](_0x1c3524,_0x396591){const _0x1aca8b=a0_0x29ff78;this[_0x1aca8b(0x365)][_0x1aca8b(0x3d2)](this[_0x1aca8b(0x247)]+'\x20('+this['instance']['wuid']+_0x1aca8b(0x191));let _0x494070;if(_0x1c3524['message'][_0x1aca8b(0x33c)]&&_0x1c3524[_0x1aca8b(0x620)][_0x1aca8b(0x33c)][_0x1aca8b(0x78c)]>0x0){let _0x598979=this['getRandomText'](_0x1c3524[_0x1aca8b(0x620)][_0x1aca8b(0x33c)]);_0x494070=await this['replaceVariablesChat'](_0x598979,_0x396591);}let _0x144aa3={'number':_0x396591,'options':{'delay':_0x1c3524[_0x1aca8b(0x620)]['delay'],'linkPreview':_0x1c3524[_0x1aca8b(0x620)][_0x1aca8b(0x71b)]},'mediaMessage':{'mediatype':_0x1c3524[_0x1aca8b(0x620)][_0x1aca8b(0x182)],'caption':_0x494070,'media':_0x1c3524[_0x1aca8b(0x620)][_0x1aca8b(0x24a)]}},_0x50d344=null;try{let _0x2a4d68=await this['mediaMessage'](_0x144aa3);if(_0x2a4d68&&_0x2a4d68[_0x1aca8b(0x353)])return{'error':!0x1,'id':_0x2a4d68[_0x1aca8b(0x60f)]['id']};_0x50d344=JSON[_0x1aca8b(0x230)](_0x2a4d68),this['logger'][_0x1aca8b(0x3d2)](this[_0x1aca8b(0x247)]+'\x20('+this[_0x1aca8b(0x2ac)][_0x1aca8b(0x53a)]+_0x1aca8b(0x470)+_0x50d344);}catch(_0x1ac519){this[_0x1aca8b(0x365)][_0x1aca8b(0xdb)](this[_0x1aca8b(0x247)]+'\x20('+this[_0x1aca8b(0x2ac)][_0x1aca8b(0x53a)]+_0x1aca8b(0x5b9)+(_0x1ac519 instanceof Error?_0x1ac519['message']:JSON['stringify'](_0x1ac519,null,0x2))),_0x50d344=_0x1ac519[_0x1aca8b(0x620)];}if(_0x50d344)return{'error':!0x0,'detail':(typeof _0x50d344=='object'?JSON[_0x1aca8b(0x230)](_0x50d344,null,0x2):_0x50d344)['replace'](/[\[\]{}\n]/g,'\x20')[_0x1aca8b(0x3e1)](/  +/g,'\x20')};}async[a0_0x29ff78(0x1a7)](_0x1decbc,_0x3ba438){const _0x187aa0=a0_0x29ff78;this[_0x187aa0(0x365)][_0x187aa0(0x3d2)](this[_0x187aa0(0x247)]+'\x20('+this[_0x187aa0(0x2ac)][_0x187aa0(0x53a)]+_0x187aa0(0x792));let _0x1f4e7f={'number':_0x3ba438,'options':{'delay':_0x1decbc['message'][_0x187aa0(0x2f3)]},'audioMessage':{'audio':_0x1decbc[_0x187aa0(0x620)][_0x187aa0(0x24a)]}},_0x142185=null;try{let _0x5088d6=await this[_0x187aa0(0x5d4)](_0x1f4e7f);if(_0x5088d6&&_0x5088d6['status'])return{'error':!0x1,'id':_0x5088d6['key']['id']};_0x142185=JSON[_0x187aa0(0x230)](_0x5088d6),this[_0x187aa0(0x365)][_0x187aa0(0x3d2)](this[_0x187aa0(0x247)]+'\x20('+this[_0x187aa0(0x2ac)][_0x187aa0(0x53a)]+_0x187aa0(0x470)+_0x142185);}catch(_0x353694){this['logger'][_0x187aa0(0xdb)](this[_0x187aa0(0x247)]+'\x20('+this[_0x187aa0(0x2ac)][_0x187aa0(0x53a)]+_0x187aa0(0x386)+(_0x353694 instanceof Error?_0x353694[_0x187aa0(0x620)]:JSON['stringify'](_0x353694,null,0x2))),_0x142185=_0x353694[_0x187aa0(0x620)];}if(_0x142185)return{'error':!0x0,'detail':(typeof _0x142185==_0x187aa0(0x398)?JSON[_0x187aa0(0x230)](_0x142185,null,0x2):_0x142185)[_0x187aa0(0x3e1)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x29ff78(0x176)](_0x15bd57){const _0x533ad1=a0_0x29ff78;try{return await this[_0x533ad1(0x4c8)][_0x533ad1(0x7c5)](_0x15bd57[_0x533ad1(0x1e6)],_0x15bd57[_0x533ad1(0x3a0)]),{'update':_0x533ad1(0xbf)};}catch(_0x44f96e){let _0x15e56c=_0x533ad1(0x76e),_0x5de4b7=_0x44f96e instanceof Error?_0x44f96e[_0x533ad1(0x620)]:typeof _0x44f96e==_0x533ad1(0x398)?JSON['stringify'](_0x44f96e):_0x44f96e,_0x3bfc7f=_0x15e56c+':\x20'+_0x5de4b7;throw this[_0x533ad1(0x365)]['error'](this[_0x533ad1(0x247)]+'\x20('+this[_0x533ad1(0x2ac)][_0x533ad1(0x53a)]+_0x533ad1(0x470)+_0x3bfc7f),new I(_0x3bfc7f);}}async[a0_0x29ff78(0x786)](_0x234eba){const _0x32a76a=a0_0x29ff78;try{return await this[_0x32a76a(0x4c8)][_0x32a76a(0x75a)](_0x234eba[_0x32a76a(0x1e6)],_0x234eba['name']),{'update':_0x32a76a(0xbf)};}catch(_0x45cfae){let _0x468995=_0x32a76a(0x1be),_0x24e471=_0x45cfae instanceof Error?_0x45cfae['message']:typeof _0x45cfae==_0x32a76a(0x398)?JSON['stringify'](_0x45cfae):_0x45cfae,_0x14fd35=_0x468995+':\x20'+_0x24e471;throw this[_0x32a76a(0x365)][_0x32a76a(0xdb)](this[_0x32a76a(0x247)]+'\x20('+this[_0x32a76a(0x2ac)][_0x32a76a(0x53a)]+'):\x20'+_0x14fd35),new I(_0x14fd35);}}async['toggleEphemeral'](_0x1a3fc9){const _0xf8e1d6=a0_0x29ff78;try{let _0x235e21=await this[_0xf8e1d6(0x4c8)][_0xf8e1d6(0x1b8)](_0x1a3fc9[_0xf8e1d6(0x1e6)],_0x1a3fc9[_0xf8e1d6(0x159)]);return{'success':!0x0};}catch(_0x303a36){let _0x755a1e='Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral',_0x4f9e49=_0x303a36 instanceof Error?_0x303a36[_0xf8e1d6(0x620)]:typeof _0x303a36==_0xf8e1d6(0x398)?JSON['stringify'](_0x303a36):_0x303a36,_0x3ca4b5=_0x755a1e+':\x20'+_0x4f9e49;throw this[_0xf8e1d6(0x365)]['error'](this[_0xf8e1d6(0x247)]+'\x20('+this['instance']['wuid']+_0xf8e1d6(0x470)+_0x3ca4b5),new I(_0x3ca4b5);}}async[a0_0x29ff78(0x4dd)](_0x4117ed){const _0x24b221=a0_0x29ff78;try{return await this[_0x24b221(0x4c8)][_0x24b221(0x3e4)](_0x4117ed[_0x24b221(0x1e6)],_0x4117ed[_0x24b221(0x61d)]),{'update':_0x24b221(0xbf)};}catch(_0x144907){let _0x5ac2ac=_0x24b221(0x41e),_0x435c62=_0x144907 instanceof Error?_0x144907['message']:typeof _0x144907==_0x24b221(0x398)?JSON[_0x24b221(0x230)](_0x144907):_0x144907,_0x3f2b69=_0x5ac2ac+':\x20'+_0x435c62;throw this[_0x24b221(0x365)][_0x24b221(0xdb)](this['instanceName']+'\x20('+this[_0x24b221(0x2ac)][_0x24b221(0x53a)]+_0x24b221(0x470)+_0x3f2b69),new I(_0x3f2b69);}}async[a0_0x29ff78(0x77a)](_0x2b6b51){const _0x1afe7e=a0_0x29ff78;try{let _0x5cc56e;if((0x0,P['isURL'])(_0x2b6b51[_0x1afe7e(0x6f7)])){let _0x396a81=new Date()[_0x1afe7e(0x1f3)](),_0x462497=_0x2b6b51[_0x1afe7e(0x6f7)]+_0x1afe7e(0x2ef)+_0x396a81;_0x5cc56e=(await Q[_0x1afe7e(0x152)][_0x1afe7e(0x6b4)](_0x462497,{'responseType':'arraybuffer'}))[_0x1afe7e(0x1bb)];}else{if((0x0,P[_0x1afe7e(0xfb)])(_0x2b6b51[_0x1afe7e(0x6f7)]))_0x5cc56e=Buffer[_0x1afe7e(0xde)](_0x2b6b51[_0x1afe7e(0x6f7)],_0x1afe7e(0x25c));else throw new m(_0x1afe7e(0x2a6));}return await this[_0x1afe7e(0x4c8)][_0x1afe7e(0x1c2)](_0x2b6b51['groupJid'],_0x5cc56e),{'update':_0x1afe7e(0xbf)};}catch(_0x396277){let _0x4b9ee3=_0x1afe7e(0x21a),_0x14d7c4=_0x396277 instanceof Error?_0x396277['message']:typeof _0x396277==_0x1afe7e(0x398)?JSON['stringify'](_0x396277):_0x396277,_0x4cb0ea=_0x4b9ee3+':\x20'+_0x14d7c4;throw this[_0x1afe7e(0x365)][_0x1afe7e(0xdb)](this[_0x1afe7e(0x247)]+'\x20('+this[_0x1afe7e(0x2ac)][_0x1afe7e(0x53a)]+_0x1afe7e(0x470)+_0x4cb0ea),new I(_0x4cb0ea);}}},Ut=class c{constructor(_0x46f701,_0x25e921,_0x2bd431){const _0x3841ef=a0_0x29ff78;this[_0x3841ef(0x720)]=_0x46f701,this[_0x3841ef(0x657)]=_0x25e921,this[_0x3841ef(0x479)]=_0x2bd431,this['db']={},this[_0x3841ef(0xdd)]={},this[_0x3841ef(0x365)]=new R(c['name']),this[_0x3841ef(0x745)]={},(this['removeInstance'](),this[_0x3841ef(0x6ca)](),Object['assign'](this['db'],_0x25e921[_0x3841ef(0x6b4)](_0x3841ef(0x587))),Object[_0x3841ef(0x153)](this[_0x3841ef(0xdd)],_0x25e921[_0x3841ef(0x6b4)](_0x3841ef(0x2f5))),this[_0x3841ef(0x38d)]=this['db']['ENABLED']?this['repository'][_0x3841ef(0x7a4)]?.['db'](this['db']['CONNECTION'][_0x3841ef(0x3c2)]+_0x3841ef(0x320)):void 0x0,this[_0x3841ef(0x54a)]=this['redis'][_0x3841ef(0x775)]?new ce(this[_0x3841ef(0xdd)]):void 0x0);}async[a0_0x29ff78(0x739)](_0x2d3452){const _0x7373c0=a0_0x29ff78;if(_0x2d3452&&!this['waInstances'][_0x2d3452])throw new U('Instance\x20\x22'+_0x2d3452+_0x7373c0(0x3f3));let _0x3c379f=[];for await(let [_0x1ab31e,_0x35d5d1]of Object[_0x7373c0(0x21d)](this[_0x7373c0(0x745)]))if(_0x35d5d1&&_0x35d5d1[_0x7373c0(0x6db)]['state']===_0x7373c0(0x7b2)){let _0x5ed640=await this['repository'][_0x7373c0(0x28f)][_0x7373c0(0x7a5)](_0x1ab31e);_0x3c379f[_0x7373c0(0x41b)]({'instance':{'instanceName':_0x1ab31e,'apikey':_0x5ed640[_0x7373c0(0x69e)],'owner':_0x35d5d1[_0x7373c0(0x53a)],'profileName':await _0x35d5d1[_0x7373c0(0x5ee)]()||_0x7373c0(0x55d),'profilePictureUrl':_0x35d5d1[_0x7373c0(0x707)]}});}return _0x3c379f['find'](_0x2dbde9=>_0x2dbde9[_0x7373c0(0x2ac)][_0x7373c0(0x247)]===_0x2d3452)??_0x3c379f;}async[a0_0x29ff78(0x1ad)](_0x361fe0){const _0x5f1e93=a0_0x29ff78;if(this['db'][_0x5f1e93(0x775)]&&(await this[_0x5f1e93(0x479)]['dbServer'][_0x5f1e93(0x526)](),(await this[_0x5f1e93(0x38d)][_0x5f1e93(0x17e)]())[_0x5f1e93(0x78c)]>0x0&&await this[_0x5f1e93(0x38d)]['dropCollection'](_0x361fe0)),this[_0x5f1e93(0xdd)]['ENABLED']){this['cache'][_0x5f1e93(0x392)]=_0x361fe0,await this[_0x5f1e93(0x54a)][_0x5f1e93(0x2a5)]();return;}}async[a0_0x29ff78(0x4c4)](){const _0x2ea521=a0_0x29ff78;await this[_0x2ea521(0x5da)]();let _0x38baa3=async _0x235354=>{const _0x33fc67=_0x2ea521;let _0x2044ec=new Ce(this[_0x33fc67(0x657)],this[_0x33fc67(0x720)],this[_0x33fc67(0x479)]);_0x2044ec['instanceName']=_0x235354,await _0x2044ec[_0x33fc67(0x201)](),this[_0x33fc67(0x745)][_0x235354]=_0x2044ec;};try{if(this['redis']['ENABLED']){let _0x2ef4a7=await this[_0x2ea521(0x54a)][_0x2ea521(0x63a)]();_0x2ef4a7?.[_0x2ea521(0x78c)]>0x0&&_0x2ef4a7[_0x2ea521(0x628)](async _0x399b00=>await _0x38baa3(_0x399b00[_0x2ea521(0x599)](':')[0x1]));return;}if(this['db']['ENABLED']){await this[_0x2ea521(0x479)][_0x2ea521(0x7a4)]['connect']();let _0x4b256d=await this[_0x2ea521(0x38d)]['collections']();_0x4b256d[_0x2ea521(0x78c)]>0x0&&_0x4b256d['forEach'](async _0x3fca1f=>await _0x38baa3(_0x3fca1f[_0x2ea521(0x447)]['replace'](/^[\w-]+\./,'')));return;}}catch(_0x7f6a71){this[_0x2ea521(0x365)][_0x2ea521(0xdb)](_0x7f6a71);}}async[a0_0x29ff78(0x75b)](){const _0x3f5330=a0_0x29ff78;let _0x4706c6=await this['repository'][_0x3f5330(0x28f)][_0x3f5330(0x761)](),_0x40a69e=_0x4706c6[_0x3f5330(0x368)](_0x17ca3d=>!this[_0x3f5330(0x745)][_0x17ca3d[_0x3f5330(0x5e4)]]&&(_0x17ca3d[_0x3f5330(0x560)]||typeof _0x17ca3d[_0x3f5330(0x560)]>'u'));_0x40a69e['length']>0x0&&await Promise[_0x3f5330(0x4fb)](_0x40a69e[_0x3f5330(0x174)](async _0x23d007=>{const _0x26dc33=_0x3f5330;let _0x1baf76={'online':!0x1,'lastDisconnect':Date['now']()};await this[_0x26dc33(0x479)]['auth'][_0x26dc33(0x776)](_0x1baf76,_0x23d007[_0x26dc33(0x5e4)]);}));let _0x959412=Date[_0x3f5330(0x455)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x331f08=_0x4706c6[_0x3f5330(0x368)](_0x14e6aa=>!this[_0x3f5330(0x745)][_0x14e6aa[_0x3f5330(0x5e4)]]&&typeof _0x14e6aa[_0x3f5330(0x677)]<'u'&&_0x14e6aa[_0x3f5330(0x677)]<_0x959412);_0x331f08[_0x3f5330(0x78c)]>0x0&&await Promise[_0x3f5330(0x4fb)](_0x331f08[_0x3f5330(0x174)](async _0x170987=>{}));}async[a0_0x29ff78(0x5da)](){const _0x1e2d84=a0_0x29ff78;try{let _0x26357e={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x4e673d={'online':!0x1,'lastDisconnect':Date[_0x1e2d84(0x455)]()},_0x256d56=await this[_0x1e2d84(0x479)][_0x1e2d84(0x28f)][_0x1e2d84(0x107)](_0x26357e,_0x4e673d);console[_0x1e2d84(0x15d)](_0x1e2d84(0x3a3)+_0x256d56['insertCount']),await this['removeOlderDisconnectedInstances']();}catch(_0xfb3a2a){console[_0x1e2d84(0xdb)](_0x1e2d84(0x4bb),_0xfb3a2a);}}async[a0_0x29ff78(0x4f7)](){const _0x551f8e=a0_0x29ff78;try{let _0x1bc343={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x2f9a7c=await this[_0x551f8e(0x479)][_0x551f8e(0x28f)][_0x551f8e(0x67e)](_0x1bc343);console[_0x551f8e(0x15d)](_0x551f8e(0x678)+_0x2f9a7c[_0x551f8e(0x269)]);}catch(_0x3fbe87){console['error'](_0x551f8e(0x70f),_0x3fbe87);}}['removeInstance'](){const _0x271ab1=a0_0x29ff78;this[_0x271ab1(0x720)]['on'](_0x271ab1(0x634),async _0x3b3d80=>{const _0x67488d=_0x271ab1;try{this[_0x67488d(0x745)][_0x3b3d80]=void 0x0;}catch{}try{this[_0x67488d(0x1ad)](_0x3b3d80);}finally{this['logger']['warn']('Instance\x20\x22'+_0x3b3d80+_0x67488d(0x372));}});}[a0_0x29ff78(0x6ca)](){const _0xabd526=a0_0x29ff78;this[_0xabd526(0x720)]['on'](_0xabd526(0x408),async _0x4960a4=>{const _0x50c1b5=_0xabd526;try{this[_0x50c1b5(0x745)][_0x4960a4]=void 0x0;}catch{}try{this[_0x50c1b5(0x1ad)](_0x4960a4);}finally{this[_0x50c1b5(0x365)]['warn'](_0x50c1b5(0x7be)+_0x4960a4+_0x50c1b5(0x348));}});}},qt=class extends x{[a0_0x29ff78(0x419)](_0x5cb8e0){return Ks(_0x5cb8e0);}async['insert'](_0x88efeb){const _0x57acef=a0_0x29ff78;if(_0x88efeb[_0x57acef(0x78c)]!==0x0)try{return{'insertCount':(await this[_0x57acef(0x419)](_0x88efeb[0x0]['owner'])[_0x57acef(0x483)]([..._0x88efeb]))['length']};}catch(_0x573fba){return _0x573fba;}}async[a0_0x29ff78(0x7a5)](_0x3d46ec,_0x376433){const _0x504de3=a0_0x29ff78;try{let _0x5a492e=this[_0x504de3(0x419)](_0x376433),_0x278fac=T(_0x3d46ec[_0x504de3(0x485)]);return await _0x5a492e[_0x504de3(0x7a5)](_0x278fac)['sort']({'lastmsg':-0x1})[_0x504de3(0x5dc)](_0x3d46ec?.['limit']??0x0)['lean']();}catch{return[];}}async['delete'](_0x44868b,_0x42a399){const _0x2281e8=a0_0x29ff78;try{return{'deletedCount':(await this[_0x2281e8(0x419)](_0x42a399)[_0x2281e8(0x67e)]({..._0x44868b[_0x2281e8(0x485)]}))[_0x2281e8(0x126)]};}catch(_0x343d40){return{'error':_0x343d40?.[_0x2281e8(0x675)]()};}}async['deleteAll'](_0x204f2f,_0x5daedc){const _0x2a344e=a0_0x29ff78;try{return await this['getChatModelForOwner'](_0x5daedc)['deleteMany']({..._0x204f2f['where']}),[];}catch(_0x4f70b1){return{'error':_0x4f70b1?.[_0x2a344e(0x675)]()};}}async[a0_0x29ff78(0x2d8)](_0x8d07f3,_0x2f8288){const _0x3217d1=a0_0x29ff78;try{let _0x5679ec=this[_0x3217d1(0x419)](_0x2f8288),_0x3e2349=T(_0x8d07f3[_0x3217d1(0x485)]);return await _0x5679ec['findOne'](_0x3e2349)[_0x3217d1(0x1c1)]();}catch{return null;}}async[a0_0x29ff78(0x1bc)](_0x1202ce,_0x163dca,_0x4c701c,_0x3a2b51,_0x4934c9=a0_0x29ff78(0x5a7)){const _0x51ba4b=a0_0x29ff78;try{let _0x4400de={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x3a2b51},_0x536d6e=this['getChatModelForOwner'](_0x4c701c),_0x4f0cb7=T(_0x1202ce[_0x51ba4b(0x485)]);Object[_0x51ba4b(0x63f)](_0x163dca)['forEach'](_0x72f053=>{_0x163dca[_0x72f053]==null&&delete _0x163dca[_0x72f053];});let _0x15428e={};return _0x15428e[_0x4934c9]=_0x163dca,await _0x536d6e['findOneAndUpdate'](_0x4f0cb7,_0x15428e,_0x4400de);}catch(_0x138912){return console[_0x51ba4b(0xdb)](_0x138912),null;}}async[a0_0x29ff78(0x5c8)](_0x183a54){const _0x498f5d=a0_0x29ff78;try{let _0x4fdfee=this['getChatModelForOwner'](_0x183a54[0x0][_0x498f5d(0x579)][_0x498f5d(0x485)][_0x498f5d(0x2c7)]),_0x11b0ff=_0x183a54[_0x498f5d(0x174)](_0x9de1b8=>({'updateOne':{'filter':{..._0x9de1b8[_0x498f5d(0x579)]['where']},'update':{'$set':_0x9de1b8[_0x498f5d(0x6e6)]},'upsert':!0x0}})),_0x3ad6da=await _0x4fdfee['bulkWrite'](_0x11b0ff);return _0x3ad6da[_0x498f5d(0x533)]+_0x3ad6da['upsertedCount'];}catch(_0x56a7e5){return console['error'](_0x56a7e5),0x0;}}async['removeUnusedChatFields'](_0x2a659a){const _0x43f22b=a0_0x29ff78;try{let _0x21d9cf={'group_isCommunity':'','group_announce':'','group_size':''},_0x1787c1={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x478a85={'$unset':_0x21d9cf};return(await this['getChatModelForOwner'](_0x2a659a)[_0x43f22b(0x5c8)](_0x1787c1,_0x478a85))['modifiedCount'];}catch(_0x520be9){return console[_0x43f22b(0xdb)]('Error\x20removing\x20unused\x20chat\x20fields:',_0x520be9),0x0;}}async[a0_0x29ff78(0x4f2)](_0x194e5c){const _0x5bc19f=a0_0x29ff78;try{let _0x196e4e=this['getChatModelForOwner'](_0x194e5c),_0x41af8a={'leadInfo.etiquetas':{'$exists':!0x1}},_0x1a9506={'$set':{'leadInfo.etiquetas':[]}};return(await _0x196e4e[_0x5bc19f(0x5c8)](_0x41af8a,_0x1a9506))[_0x5bc19f(0x533)];}catch(_0x262ca7){return console['error'](_0x262ca7),0x0;}}async[a0_0x29ff78(0x449)](_0x187e7c){const _0x4e6048=a0_0x29ff78;try{let _0x103e92=this[_0x4e6048(0x419)](_0x187e7c),_0x221c60={'leadInfo.tags':{'$exists':!0x1}},_0x77e2db={'$set':{'leadInfo.tags':[]}};return(await _0x103e92[_0x4e6048(0x5c8)](_0x221c60,_0x77e2db))[_0x4e6048(0x533)];}catch(_0x23fd75){return console[_0x4e6048(0xdb)](_0x23fd75),0x0;}}async[a0_0x29ff78(0x7ab)](_0x382196){const _0x599c36=a0_0x29ff78;try{let _0x3b1c69=this['getChatModelForOwner'](_0x382196),_0x8d81f9={'leadInfo.customFields':{'$exists':!0x1}},_0x219887={'$set':{'leadInfo.customFields':[]}};return(await _0x3b1c69['updateMany'](_0x8d81f9,_0x219887))[_0x599c36(0x533)];}catch(_0x3f8bc0){return console['error'](_0x3f8bc0),0x0;}}async[a0_0x29ff78(0x483)](_0x4f99f2,_0x341607){const _0x503584=a0_0x29ff78;if(!Array[_0x503584(0x5eb)](_0x4f99f2)||_0x4f99f2[_0x503584(0x78c)]===0x0)throw new Error(_0x503584(0x681));try{return(await this[_0x503584(0x419)](_0x341607)[_0x503584(0x483)](_0x4f99f2))[_0x503584(0x78c)];}catch(_0x2586fd){throw console[_0x503584(0xdb)](_0x503584(0x5e1),_0x2586fd),_0x2586fd;}}async['deleteChat'](_0x1f0ffc,_0x4bc4b9){const _0x10fe2a=a0_0x29ff78;try{await this[_0x10fe2a(0x419)](_0x4bc4b9)[_0x10fe2a(0x4bd)]({'_id':_0x1f0ffc});}catch(_0x34d975){throw console[_0x10fe2a(0xdb)](_0x10fe2a(0x508),_0x34d975),_0x34d975;}}},Vt=class extends x{constructor(_0x1ff2db,_0x5e3cb4,_0x210eb3){const _0x1093c6=a0_0x29ff78;super(_0x5e3cb4),this[_0x1093c6(0x7b4)]=_0x1ff2db,this[_0x1093c6(0x657)]=_0x5e3cb4,this[_0x1093c6(0x2f9)]=_0x210eb3;}async[a0_0x29ff78(0x3e9)](_0x530825){const _0x2a88a4=a0_0x29ff78;if(_0x530825[_0x2a88a4(0x78c)]!==0x0)try{return{'insertCount':(await this[_0x2a88a4(0x7b4)][_0x2a88a4(0x483)]([..._0x530825]))[_0x2a88a4(0x78c)]};}catch(_0x18b925){return _0x18b925;}}async['update'](_0x17447d,_0x3c8149){const _0x18045d=a0_0x29ff78;try{let _0xd00e65=T(_0x17447d['where']);return{'updatedCount':(await this[_0x18045d(0x7b4)][_0x18045d(0x5c8)](_0xd00e65,{'$set':_0x3c8149}))[_0x18045d(0x533)]};}catch(_0x4bbac3){return console['error']('Error\x20updating\x20cache\x20contact:',_0x4bbac3),{'error':_0x4bbac3['toString']()};}}async[a0_0x29ff78(0x16c)](_0x1fe27e){const _0x359a0e=a0_0x29ff78;try{let _0x1228cd={'_id':{'$in':_0x1fe27e}};return await this['cacheContactModel'][_0x359a0e(0x7a5)](_0x1228cd)[_0x359a0e(0x1c1)]();}catch(_0x2c7c78){return console[_0x359a0e(0xdb)]('Error\x20finding\x20many\x20contacts:',_0x2c7c78),[];}}async[a0_0x29ff78(0x7b8)](_0x36d820){const _0x2da91a=a0_0x29ff78;try{return{'deletedCount':(await this[_0x2da91a(0x7b4)][_0x2da91a(0x67e)]({..._0x36d820[_0x2da91a(0x485)]}))['deletedCount']};}catch(_0x3e8365){return{'error':_0x3e8365?.['toString']()};}}async[a0_0x29ff78(0x7a5)](_0x5948f4){const _0xbee074=a0_0x29ff78;try{let _0x5a9afb=T(_0x5948f4[_0xbee074(0x485)]);return await this[_0xbee074(0x7b4)][_0xbee074(0x7a5)](_0x5a9afb)[_0xbee074(0x5dc)](_0x5948f4?.[_0xbee074(0x5dc)]??0x0)[_0xbee074(0x1c1)]();}catch{return[];}}async['findOne'](_0x7c927c){const _0x3dcd58=a0_0x29ff78;try{let _0xdee4d6=T(_0x7c927c['where']);return await this[_0x3dcd58(0x7b4)][_0x3dcd58(0x2d8)](_0xdee4d6)[_0x3dcd58(0x1c1)]();}catch{return null;}}},Gt=class extends x{[a0_0x29ff78(0x35a)](_0x31b672){return ma(_0x31b672);}async[a0_0x29ff78(0x1bc)](_0x450a8e,_0x1c9acb,_0x48e086,_0x23da64){const _0x4cece1=a0_0x29ff78;try{let _0x20003f={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x23da64},_0x18f5da=this[_0x4cece1(0x35a)](_0x48e086),_0x59ef05=T(_0x450a8e[_0x4cece1(0x485)]);return await _0x18f5da[_0x4cece1(0x700)](_0x59ef05,{'$set':_0x1c9acb},_0x20003f);}catch(_0x58b196){return console[_0x4cece1(0xdb)](_0x58b196),null;}}async[a0_0x29ff78(0x7a5)](_0x33524c,_0x15c6a7){const _0x3608ca=a0_0x29ff78;try{let _0x1d7c8c=this[_0x3608ca(0x35a)](_0x15c6a7),_0x2fdcdf=T(_0x33524c[_0x3608ca(0x485)]);return await _0x1d7c8c['find'](_0x2fdcdf);}catch(_0x11ac93){console[_0x3608ca(0xdb)](_0x11ac93);}}async[a0_0x29ff78(0x7b8)](_0x2d23a0,_0x3154da){const _0x2d1e71=a0_0x29ff78;try{let _0x2e05a4=this[_0x2d1e71(0x35a)](_0x3154da),_0x1dfaf0=T(_0x2d23a0[_0x2d1e71(0x485)]);await _0x2e05a4[_0x2d1e71(0x67e)](_0x1dfaf0);}catch(_0x243742){console[_0x2d1e71(0xdb)](_0x243742);}}async[a0_0x29ff78(0xb8)](_0x3ec38a){const _0xdf831f=a0_0x29ff78;try{return await this['getLabelModelForOwner'](_0x3ec38a)[_0xdf831f(0x300)][_0xdf831f(0x280)](),{'success':!0x0};}catch(_0x48c5ef){return console[_0xdf831f(0xdb)](_0x48c5ef),{'success':!0x1,'error':_0x48c5ef};}}},Bt=class{constructor(_0xcd0c27){this['waMonitor']=_0xcd0c27;}async[a0_0x29ff78(0x4fe)]({instanceName:_0x85a612},_0x580425){const _0x54a3ce=a0_0x29ff78;return await this[_0x54a3ce(0x4e6)][_0x54a3ce(0x745)][_0x85a612]['editChat'](_0x580425);}async['whatsappNumber']({instanceName:_0xe2a7f6},_0x2f5788){const _0x3cfd1c=a0_0x29ff78;return await this[_0x3cfd1c(0x4e6)][_0x3cfd1c(0x745)][_0xe2a7f6][_0x3cfd1c(0x516)](_0x2f5788);}async[a0_0x29ff78(0x2de)]({instanceName:_0x2df830},_0x463430){const _0x2caa78=a0_0x29ff78;return await this[_0x2caa78(0x4e6)][_0x2caa78(0x745)][_0x2df830]['importChats'](_0x463430);}async[a0_0x29ff78(0x540)]({instanceName:_0x49d326},_0x3f86fb){const _0x595ae8=a0_0x29ff78;return await this[_0x595ae8(0x4e6)]['waInstances'][_0x49d326][_0x595ae8(0x6fb)](_0x3f86fb);}async['archiveChat']({instanceName:_0x47068f},_0x38d26b){const _0x268a03=a0_0x29ff78;return await this[_0x268a03(0x4e6)][_0x268a03(0x745)][_0x47068f][_0x268a03(0x464)](_0x38d26b);}async[a0_0x29ff78(0x10a)]({instanceName:_0x59d954},_0x41e668){const _0x86f6d2=a0_0x29ff78;return await this[_0x86f6d2(0x4e6)][_0x86f6d2(0x745)][_0x59d954][_0x86f6d2(0x10a)](_0x41e668);}async[a0_0x29ff78(0x475)]({instanceName:_0xf38d9f},_0x2b7135){const _0x2e7c2d=a0_0x29ff78;return await this[_0x2e7c2d(0x4e6)]['waInstances'][_0xf38d9f]['profilePicture'](_0x2b7135[_0x2e7c2d(0x772)]);}async[a0_0x29ff78(0x68e)]({instanceName:_0x3763dc},_0xae1fe4){const _0x19a348=a0_0x29ff78;return await this[_0x19a348(0x4e6)][_0x19a348(0x745)][_0x3763dc]['fetchProfile'](_0xae1fe4['number']);}async[a0_0x29ff78(0x650)]({instanceName:_0x358816},_0xb36e6d){const _0x43fcce=a0_0x29ff78;return await this[_0x43fcce(0x4e6)][_0x43fcce(0x745)][_0x358816][_0x43fcce(0x650)](_0xb36e6d);}async[a0_0x29ff78(0x79d)]({instanceName:_0x3cb34d},_0x2b2c73){const _0x410697=a0_0x29ff78;return await this[_0x410697(0x4e6)][_0x410697(0x745)][_0x3cb34d][_0x410697(0x79d)](_0x2b2c73);}async[a0_0x29ff78(0x3ec)]({instanceName:_0x19cdcf},_0x3a1797){const _0x4aa033=a0_0x29ff78;return await this[_0x4aa033(0x4e6)]['waInstances'][_0x19cdcf]['getBase64FromMediaMessage'](_0x3a1797);}async['fetchMessages']({instanceName:_0x5fec9d},_0x544f59){const _0x5ddd93=a0_0x29ff78;return await this[_0x5ddd93(0x4e6)][_0x5ddd93(0x745)][_0x5fec9d][_0x5ddd93(0x127)](_0x544f59);}async['fetchLabels']({instanceName:_0x44affb}){const _0x38feb3=a0_0x29ff78;return await this[_0x38feb3(0x4e6)][_0x38feb3(0x745)][_0x44affb][_0x38feb3(0x52f)]();}async['fetchChats']({instanceName:_0xd7710c}){const _0x46e345=a0_0x29ff78;return await this[_0x46e345(0x4e6)][_0x46e345(0x745)][_0xd7710c][_0x46e345(0x15c)]();}async[a0_0x29ff78(0x53c)]({instanceName:_0x4ff9a8}){const _0x144a6e=a0_0x29ff78;return await this[_0x144a6e(0x4e6)]['waInstances'][_0x4ff9a8][_0x144a6e(0x53c)]();}async['updatePrivacySettings']({instanceName:_0x3d6d5d},_0x4afab1){const _0x5da479=a0_0x29ff78;return await this[_0x5da479(0x4e6)][_0x5da479(0x745)][_0x3d6d5d]['updatePrivacySettings'](_0x4afab1);}async[a0_0x29ff78(0x4d8)]({instanceName:_0x5eeeba},_0x464a88){const _0x15416c=a0_0x29ff78;return await this[_0x15416c(0x4e6)][_0x15416c(0x745)][_0x5eeeba][_0x15416c(0x4d8)](_0x464a88[_0x15416c(0x772)]);}async[a0_0x29ff78(0x63d)]({instanceName:_0x1d3381},_0x53bd70){const _0xd6ac6b=a0_0x29ff78;return await this[_0xd6ac6b(0x4e6)][_0xd6ac6b(0x745)][_0x1d3381][_0xd6ac6b(0x63d)](_0x53bd70[_0xd6ac6b(0x177)]);}async[a0_0x29ff78(0x70a)]({instanceName:_0x506a93},_0x5a2a75){const _0x49ba18=a0_0x29ff78;return await this[_0x49ba18(0x4e6)][_0x49ba18(0x745)][_0x506a93]['updateProfileStatus'](_0x5a2a75['status']);}async['updateProfilePicture']({instanceName:_0x4eaa3f},_0xfefbef){const _0x1036c0=a0_0x29ff78;return await this[_0x1036c0(0x4e6)][_0x1036c0(0x745)][_0x4eaa3f]['updateProfilePicture'](_0xfefbef[_0x1036c0(0x2c1)]);}async[a0_0x29ff78(0x196)]({instanceName:_0x2fd559},_0x553ac3){const _0x4d5a48=a0_0x29ff78;return await this[_0x4d5a48(0x4e6)]['waInstances'][_0x2fd559][_0x4d5a48(0x196)]();}},Ds=require(a0_0x29ff78(0x513)),Wt=class c{constructor(_0x6cadad,_0x52db83,_0x5b228f,_0x50ddbf,_0x462aa7){const _0x100143=a0_0x29ff78;this[_0x100143(0x4e6)]=_0x6cadad,this[_0x100143(0x657)]=_0x52db83,this[_0x100143(0x479)]=_0x5b228f,this[_0x100143(0x720)]=_0x50ddbf,this['authService']=_0x462aa7,this[_0x100143(0x365)]=new R(c['name']);}async[a0_0x29ff78(0x5a0)]({instanceName:_0x460393,apikey:_0x54373a,number:_0x3e9ba4,proxy:_0x35a513=!0x0}){const _0x554297=a0_0x29ff78;try{let _0x2320d0=new Ce(this[_0x554297(0x657)],this[_0x554297(0x720)],this[_0x554297(0x479)]);_0x2320d0['instanceName']=_0x460393,this['waMonitor'][_0x554297(0x745)][_0x2320d0[_0x554297(0x247)]]=_0x2320d0;let _0x342b1e={};_0x54373a?(await this[_0x554297(0x479)]['auth'][_0x554297(0x776)]({'apikey':_0x54373a},_0x460393),_0x342b1e[_0x554297(0x69e)]=_0x54373a):_0x342b1e=await this[_0x554297(0x33d)][_0x554297(0x5cb)]({'instanceName':_0x2320d0[_0x554297(0x247)]});let _0x55e239;if(_0x3e9ba4){if(_0x55e239=await this['verifyWhatsAppNumber'](_0x3e9ba4),_0x55e239[_0x554297(0xdb)])throw new I(_0x55e239['error'][_0x554297(0x675)]());_0x3e9ba4=_0x55e239[_0x554297(0x772)];}let _0x181945;return await _0x2320d0[_0x554297(0x201)](_0x3e9ba4),await(0x0,Ds[_0x554297(0x2f3)])(0x7d0),_0x181945=_0x2320d0['qrCode'],{'instance':{'instanceName':_0x2320d0[_0x554297(0x247)],'status':_0x554297(0x137)},'hash':_0x342b1e,'qrcode':_0x181945};}catch(_0x4bed3f){throw this[_0x554297(0x365)]['error'](_0x4bed3f),_0x4bed3f;}}async[a0_0x29ff78(0x53e)]({instanceName:_0x38603f,number:_0x4f0bc7=null}){const _0x4a6d53=a0_0x29ff78;try{let _0x59db40=this[_0x4a6d53(0x4e6)][_0x4a6d53(0x745)][_0x38603f];switch(_0x59db40?.[_0x4a6d53(0x6db)]?.['state']){case'close':return await _0x59db40[_0x4a6d53(0x201)](_0x4f0bc7),await(0x0,Ds[_0x4a6d53(0x2f3)])(0x7d0),_0x59db40['qrCode'];case'connecting':return _0x59db40[_0x4a6d53(0x6e7)];default:return await this['connectionState']({'instanceName':_0x38603f});}}catch(_0x5e2860){this['logger'][_0x4a6d53(0x15d)](_0x5e2860);}}async[a0_0x29ff78(0x123)]({instanceName:_0x6f0c27}){const _0x1d9645=a0_0x29ff78;let _0x3fb592=this[_0x1d9645(0x4e6)]['waInstances'][_0x6f0c27][_0x1d9645(0x6db)],_0x1ba48d=null;_0x3fb592[_0x1d9645(0x14d)]===_0x1d9645(0x7b2)&&_0x6f0c27&&(_0x1ba48d=await this[_0x1d9645(0x4e6)][_0x1d9645(0x739)](_0x6f0c27));let _0x2c1d9a=null;return _0x3fb592[_0x1d9645(0x14d)]===_0x1d9645(0x275)&&_0x6f0c27&&(_0x2c1d9a=this[_0x1d9645(0x4e6)][_0x1d9645(0x745)][_0x6f0c27][_0x1d9645(0x6e7)]),{'instance':_0x6f0c27,'connectionStatus':_0x3fb592,'instanceInfo':_0x1ba48d,'qrcode':_0x2c1d9a};}async[a0_0x29ff78(0x48e)](_0x24b44f){const _0x5dc902=a0_0x29ff78;_0x24b44f=_0x24b44f['replace'](/\D/g,'');let _0x59cee4=Object[_0x5dc902(0x63f)](this[_0x5dc902(0x4e6)][_0x5dc902(0x745)])['filter'](_0xccb4f=>{const _0x513b53=_0x5dc902;let _0x6f151a=this[_0x513b53(0x4e6)][_0x513b53(0x745)][_0xccb4f];return _0x6f151a&&_0x6f151a[_0x513b53(0x6db)]&&_0x6f151a['connectionStatus'][_0x513b53(0x14d)]===_0x513b53(0x7b2);});if(_0x59cee4[_0x5dc902(0x78c)]===0x0)return{'number':this[_0x5dc902(0x5a4)](_0x24b44f)};let _0x4a6912=Math['floor'](Math['random']()*_0x59cee4[_0x5dc902(0x78c)]),_0x358190=_0x59cee4[_0x4a6912];try{let _0x36a5ae=(await this['waMonitor'][_0x5dc902(0x745)][_0x358190]['whatsappNumber']({'numbers':[_0x24b44f]}))['shift']();return _0x36a5ae[_0x5dc902(0x3f6)]?{'number':_0x36a5ae[_0x5dc902(0x60c)]['replace'](_0x5dc902(0x766),'')}:{'number':_0x24b44f,'error':'Número\x20não\x20possui\x20WhatsApp.'};}catch(_0x36a9df){return this[_0x5dc902(0x365)][_0x5dc902(0xdb)](_0x5dc902(0x3dd)+_0x36a9df),{'number':_0x24b44f,'error':'Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.'};}}[a0_0x29ff78(0x5a4)](_0x3ec42a){const _0x2bd4ed=a0_0x29ff78;let _0x3e2106=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x2bd4ed(0x273)](_0x3ec42a);if(_0x3e2106&&_0x3e2106[0x1]==='55'){let _0x37b3c3=_0x3e2106[0x2],_0x26c625=_0x3e2106[0x3],_0x9b5de2=_0x3e2106[0x4];if(parseInt(_0x37b3c3)>=0x1f&&_0x26c625==='9')return _0x3e2106[0x1]+_0x37b3c3+_0x9b5de2;}return _0x3ec42a;}async['restartInstance']({instanceName:_0x39de94}){const _0x19999d=a0_0x29ff78;try{return this[_0x19999d(0x4e6)][_0x19999d(0x745)][_0x39de94]?.[_0x19999d(0x4c8)]?.['ws']?.['close'](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0x19999d(0x193)}};}catch(_0x235bcd){this[_0x19999d(0x365)][_0x19999d(0xdb)](_0x235bcd);}}async[a0_0x29ff78(0x244)]({instanceName:_0x549042}){const _0x5ef433=a0_0x29ff78;return _0x549042?this[_0x5ef433(0x4e6)][_0x5ef433(0x739)](_0x549042):this[_0x5ef433(0x4e6)][_0x5ef433(0x739)]();}async[a0_0x29ff78(0x435)]({instanceName:_0x1bdfdc}){const _0x4d27c1=a0_0x29ff78;try{return await this['waMonitor']['waInstances'][_0x1bdfdc]?.['client']?.[_0x4d27c1(0x435)]('Log\x20out\x20instance:\x20'+_0x1bdfdc),{'error':!0x1,'message':_0x4d27c1(0x142)};}catch(_0x12ec91){throw new I(_0x12ec91[_0x4d27c1(0x675)]());}}async[a0_0x29ff78(0x797)]({instanceName:_0x4b2464}){const _0x99d06=a0_0x29ff78;if((await this[_0x99d06(0x123)]({'instanceName':_0x4b2464}))[_0x99d06(0x6db)][_0x99d06(0x14d)]===_0x99d06(0x7b2))throw new m([_0x99d06(0xc3),_0x99d06(0x66c)]);try{return delete this[_0x99d06(0x4e6)][_0x99d06(0x745)][_0x4b2464],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x1efb7e){throw new m(_0x1efb7e[_0x99d06(0x675)]());}}},se=require(a0_0x29ff78(0x31b)),zt=class{constructor(_0x4645a9){this['waMonitor']=_0x4645a9;}async[a0_0x29ff78(0x441)]({instanceName:_0x43cc6d},_0xe5ea69){const _0x213139=a0_0x29ff78;return await this[_0x213139(0x4e6)][_0x213139(0x745)][_0x43cc6d][_0x213139(0x789)](_0xe5ea69);}async[a0_0x29ff78(0x162)]({instanceName:_0x533f84},_0x2326af){const _0x29ef0f=a0_0x29ff78;return await this[_0x29ef0f(0x4e6)][_0x29ef0f(0x745)][_0x533f84][_0x29ef0f(0x432)](_0x2326af);}async[a0_0x29ff78(0x640)]({instanceName:_0x49b7f8},_0x1e6e96){const _0x44acd5=a0_0x29ff78;if((0x0,se['isBase64'])(_0x1e6e96?.['mediaMessage']?.['media'])&&!_0x1e6e96?.[_0x44acd5(0x4d5)]?.['fileName'])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,se['isURL'])(_0x1e6e96?.[_0x44acd5(0x4d5)]?.[_0x44acd5(0x648)])||(0x0,se[_0x44acd5(0xfb)])(_0x1e6e96?.[_0x44acd5(0x4d5)]?.[_0x44acd5(0x648)]))return await this['waMonitor']['waInstances'][_0x49b7f8][_0x44acd5(0x4d5)](_0x1e6e96);throw new m(_0x44acd5(0x2cb));}async[a0_0x29ff78(0x2e3)]({instanceName:_0x636da4},_0x4dcd64){const _0x3f072b=a0_0x29ff78;if((0x0,se[_0x3f072b(0x5e9)])(_0x4dcd64[_0x3f072b(0x589)]['image'])||(0x0,se['isBase64'])(_0x4dcd64['stickerMessage'][_0x3f072b(0x6f7)]))return await this[_0x3f072b(0x4e6)][_0x3f072b(0x745)][_0x636da4][_0x3f072b(0xe0)](_0x4dcd64);throw new m(_0x3f072b(0x2cb));}async['sendWhatsAppAudio']({instanceName:_0x5436fb},_0x53b34d){const _0xc28110=a0_0x29ff78;if((0x0,se['isURL'])(_0x53b34d['audioMessage'][_0xc28110(0x3b7)])||(0x0,se['isBase64'])(_0x53b34d[_0xc28110(0x4e5)][_0xc28110(0x3b7)]))return await this[_0xc28110(0x4e6)][_0xc28110(0x745)][_0x5436fb][_0xc28110(0x5d4)](_0x53b34d);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async['sendButtons']({instanceName:_0xd44908},_0x502005){const _0x39c022=a0_0x29ff78;if((0x0,se['isBase64'])(_0x502005['buttonMessage']['mediaMessage']?.['media'])&&!_0x502005[_0x39c022(0x2cd)][_0x39c022(0x4d5)]?.[_0x39c022(0x6ac)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');return await this[_0x39c022(0x4e6)][_0x39c022(0x745)][_0xd44908][_0x39c022(0x2cd)](_0x502005);}async['sendLocation']({instanceName:_0x15ebfb},_0x1391e1){const _0x10f453=a0_0x29ff78;return await this[_0x10f453(0x4e6)][_0x10f453(0x745)][_0x15ebfb][_0x10f453(0x308)](_0x1391e1);}async[a0_0x29ff78(0x69f)]({instanceName:_0x1a0327},_0x10163a){const _0x3da3b4=a0_0x29ff78;return await this[_0x3da3b4(0x4e6)][_0x3da3b4(0x745)][_0x1a0327][_0x3da3b4(0x55e)](_0x10163a);}async[a0_0x29ff78(0x4c3)]({instanceName:_0x430302},_0x1c7a87){const _0x59d39b=a0_0x29ff78;return await this['waMonitor'][_0x59d39b(0x745)][_0x430302][_0x59d39b(0x5c0)](_0x1c7a87);}async[a0_0x29ff78(0x4b0)]({instanceName:_0x129308},_0x542711){const _0x5b817b=a0_0x29ff78;return await this['waMonitor']['waInstances'][_0x129308][_0x5b817b(0x6c9)](_0x542711);}async[a0_0x29ff78(0x522)]({instanceName:_0x4a9634},_0x19a242){const _0x3c09e9=a0_0x29ff78;if(!_0x19a242[_0x3c09e9(0x5ab)][_0x3c09e9(0x175)][_0x3c09e9(0x5dd)](/[^\(\)\w\sà-ú"-\+]+/))throw new m('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this[_0x3c09e9(0x4e6)][_0x3c09e9(0x745)][_0x4a9634][_0x3c09e9(0x5ab)](_0x19a242);}async['sendStatus']({instanceName:_0x17bbc0},_0x78dedb){const _0x5a3658=a0_0x29ff78;return await this[_0x5a3658(0x4e6)][_0x5a3658(0x745)][_0x17bbc0]['statusMessage'](_0x78dedb);}},vo=require('jsonwebtoken'),_s=require(a0_0x29ff78(0x5ae)),Ht=class c{constructor(_0x2efbdc,_0xfda82c,_0x54aca4){const _0x41dfef=a0_0x29ff78;this['configService']=_0x2efbdc,this[_0x41dfef(0x4e6)]=_0xfda82c,this[_0x41dfef(0x479)]=_0x54aca4,this[_0x41dfef(0x365)]=new R(c[_0x41dfef(0x177)]);}async[a0_0x29ff78(0x466)](_0x211a51){const _0x352631=a0_0x29ff78;let _0x468a78=this[_0x352631(0x657)][_0x352631(0x6b4)](_0x352631(0x5d2))[_0x352631(0x1ea)],_0x564fca=(0x0,vo[_0x352631(0x272)])({'instanceName':_0x211a51[_0x352631(0x247)],'apiName':tt,'tokenId':(0x0,_s['v4'])()},_0x468a78['SECRET'],{'expiresIn':_0x468a78[_0x352631(0x185)],'encoding':_0x352631(0x685),'subject':_0x352631(0x3ef)}),_0x39fd41=await this['repository'][_0x352631(0x28f)]['create']({'jwt':_0x564fca},_0x211a51[_0x352631(0x247)]);if(_0x39fd41['error'])throw this['logger']['error']({'localError':c[_0x352631(0x177)]+'.jwt','error':_0x39fd41[_0x352631(0xdb)]}),new m(_0x352631(0x359),_0x39fd41[_0x352631(0xdb)]?.['toString']());return{'jwt':_0x564fca};}async[a0_0x29ff78(0x69e)](_0x5058f2){const _0x2609c7=a0_0x29ff78;let _0x1c41c8=(0x0,_s['v4'])()['toUpperCase'](),_0x30db2d=await this[_0x2609c7(0x479)]['auth'][_0x2609c7(0x776)]({'apikey':_0x1c41c8},_0x5058f2[_0x2609c7(0x247)]);if(_0x30db2d[_0x2609c7(0xdb)])throw this['logger']['error']({'localError':c[_0x2609c7(0x177)]+_0x2609c7(0x14e),'error':_0x30db2d[_0x2609c7(0xdb)]}),new m(_0x2609c7(0x359),_0x30db2d[_0x2609c7(0xdb)]?.[_0x2609c7(0x675)]());return{'apikey':_0x1c41c8};}async['generateHash'](_0x55d7ca){const _0x3a66b0=a0_0x29ff78;let _0x46c5be=this[_0x3a66b0(0x657)]['get'](_0x3a66b0(0x5d2));return await this[_0x46c5be[_0x3a66b0(0x603)]](_0x55d7ca);}},Kt=class{constructor(_0x457893){this['waMonitor']=_0x457893;}async[a0_0x29ff78(0x343)](_0x59c24f,_0x28e073){const _0x200425=a0_0x29ff78;return await this[_0x200425(0x4e6)][_0x200425(0x745)][_0x59c24f[_0x200425(0x247)]]['createGroup'](_0x28e073);}async[a0_0x29ff78(0x77a)](_0x2c7ca1,_0x454603){const _0x515ec0=a0_0x29ff78;return await this[_0x515ec0(0x4e6)][_0x515ec0(0x745)][_0x2c7ca1[_0x515ec0(0x247)]][_0x515ec0(0x77a)](_0x454603);}async[a0_0x29ff78(0x176)](_0x34700a,_0x45d54a){const _0x2b8b5c=a0_0x29ff78;return await this[_0x2b8b5c(0x4e6)][_0x2b8b5c(0x745)][_0x34700a[_0x2b8b5c(0x247)]][_0x2b8b5c(0x176)](_0x45d54a);}async[a0_0x29ff78(0x786)](_0x1148b9,_0x2834a1){const _0x2eba86=a0_0x29ff78;return await this[_0x2eba86(0x4e6)][_0x2eba86(0x745)][_0x1148b9[_0x2eba86(0x247)]][_0x2eba86(0x786)](_0x2834a1);}async[a0_0x29ff78(0x773)](_0x44a56a,_0x3a079a){const _0x1b231e=a0_0x29ff78;return await this['waMonitor'][_0x1b231e(0x745)][_0x44a56a[_0x1b231e(0x247)]][_0x1b231e(0x773)](_0x3a079a);}async[a0_0x29ff78(0x4dd)](_0x5422cd,_0x599281){const _0x60a3cd=a0_0x29ff78;return await this[_0x60a3cd(0x4e6)][_0x60a3cd(0x745)][_0x5422cd[_0x60a3cd(0x247)]][_0x60a3cd(0x4dd)](_0x599281);}async['findGroupInfo'](_0x69f0e4,_0x166db1){const _0x1a9245=a0_0x29ff78;return await this[_0x1a9245(0x4e6)][_0x1a9245(0x745)][_0x69f0e4[_0x1a9245(0x247)]]['findGroup'](_0x166db1);}async[a0_0x29ff78(0x5b7)](_0x357a95){const _0x3ff0b9=a0_0x29ff78;return await this['waMonitor'][_0x3ff0b9(0x745)][_0x357a95['instanceName']]['findGroups']();}async[a0_0x29ff78(0x393)](_0x559992,_0x4f5355){const _0x47317d=a0_0x29ff78;return await this[_0x47317d(0x4e6)]['waInstances'][_0x559992[_0x47317d(0x247)]][_0x47317d(0x393)](_0x4f5355);}async[a0_0x29ff78(0x1d9)](_0x402aff,_0x24a758){const _0x3ab2c9=a0_0x29ff78;return await this[_0x3ab2c9(0x4e6)]['waInstances'][_0x402aff[_0x3ab2c9(0x247)]]['joinGroup'](_0x24a758);}async[a0_0x29ff78(0x68c)](_0x3deb08,_0x1a67b6){const _0x75e456=a0_0x29ff78;return await this[_0x75e456(0x4e6)]['waInstances'][_0x3deb08[_0x75e456(0x247)]][_0x75e456(0x68c)](_0x1a67b6);}async[a0_0x29ff78(0x472)](_0x271aaf,_0x59968a){const _0x59265a=a0_0x29ff78;return await this[_0x59265a(0x4e6)][_0x59265a(0x745)][_0x271aaf['instanceName']]['revokeInviteCode'](_0x59968a);}async['findParticipants'](_0x4cfbac,_0x4700b6){const _0x2aafa6=a0_0x29ff78;return await this[_0x2aafa6(0x4e6)][_0x2aafa6(0x745)][_0x4cfbac['instanceName']][_0x2aafa6(0x211)](_0x4700b6);}async[a0_0x29ff78(0x401)](_0x331b7b,_0x2839fd){const _0x4536de=a0_0x29ff78;return await this[_0x4536de(0x4e6)][_0x4536de(0x745)][_0x331b7b[_0x4536de(0x247)]]['updateGParticipant'](_0x2839fd);}async['toggleEphemeral'](_0x4392d7,_0x221def){const _0x51701c=a0_0x29ff78;return await this[_0x51701c(0x4e6)][_0x51701c(0x745)][_0x4392d7[_0x51701c(0x247)]][_0x51701c(0x1a8)](_0x221def);}async['leaveGroup'](_0x567b9b,_0x2b8ff9){const _0x582674=a0_0x29ff78;return await this['waMonitor'][_0x582674(0x745)][_0x567b9b[_0x582674(0x247)]][_0x582674(0x10c)](_0x2b8ff9);}},Qt=class{constructor(_0x2d3b47){const _0x54865e=a0_0x29ff78;this[_0x54865e(0x4e6)]=_0x2d3b47;}['create'](_0x1b2975,_0x354406){const _0x4bce9a=a0_0x29ff78;return this[_0x4bce9a(0x4e6)][_0x4bce9a(0x745)][_0x1b2975[_0x4bce9a(0x247)]][_0x4bce9a(0x75c)](_0x354406);}async[a0_0x29ff78(0x7a5)](_0x30483f){const _0x57f886=a0_0x29ff78;try{return await this[_0x57f886(0x4e6)][_0x57f886(0x745)][_0x30483f[_0x57f886(0x247)]][_0x57f886(0x220)]();}catch{return{'enabled':null,'url':''};}}},Cp=new R('FlowController'),Yt=class{constructor(_0x5dea45){const _0x454e64=a0_0x29ff78;this[_0x454e64(0x4e6)]=_0x5dea45;}async[a0_0x29ff78(0x28e)](_0x36a5eb,_0x14b759){const _0x14bde5=a0_0x29ff78;return await this[_0x14bde5(0x4e6)][_0x14bde5(0x745)][_0x36a5eb[_0x14bde5(0x247)]][_0x14bde5(0x28e)](_0x14b759);}async[a0_0x29ff78(0x4b8)](_0x575b36){const _0x5eb38a=a0_0x29ff78;return await this[_0x5eb38a(0x4e6)][_0x5eb38a(0x745)][_0x575b36[_0x5eb38a(0x247)]]['getScheduleMessage']();}async[a0_0x29ff78(0x593)](_0x707093){const _0x2b4787=a0_0x29ff78;return await this[_0x2b4787(0x4e6)][_0x2b4787(0x745)][_0x707093[_0x2b4787(0x247)]][_0x2b4787(0x593)]();}async[a0_0x29ff78(0x5af)](_0x3b45df){const _0x1aff28=a0_0x29ff78;return await this[_0x1aff28(0x4e6)][_0x1aff28(0x745)][_0x3b45df['instanceName']]['getAutomateSystem']();}async['updateAgent'](_0xfc5853,_0x321be4){const _0x4722ad=a0_0x29ff78;return await this[_0x4722ad(0x4e6)][_0x4722ad(0x745)][_0xfc5853[_0x4722ad(0x247)]][_0x4722ad(0x384)](_0x321be4);}async[a0_0x29ff78(0x796)](_0x9bac09,_0x539fa9){const _0x224d71=a0_0x29ff78;return await this[_0x224d71(0x4e6)][_0x224d71(0x745)][_0x9bac09[_0x224d71(0x247)]][_0x224d71(0x796)](_0x539fa9);}async[a0_0x29ff78(0x6b0)](_0x342b15,_0x39dc3d){const _0x4779af=a0_0x29ff78;return await this[_0x4779af(0x4e6)][_0x4779af(0x745)][_0x342b15[_0x4779af(0x247)]][_0x4779af(0x6b0)](_0x39dc3d);}async['updateFlowConfig'](_0x3a0b29,_0x255d11){const _0x5bc215=a0_0x29ff78;return await this[_0x5bc215(0x4e6)][_0x5bc215(0x745)][_0x3a0b29[_0x5bc215(0x247)]][_0x5bc215(0x6c2)](_0x255d11);}async[a0_0x29ff78(0x2dd)](_0x5bd0f1,_0x4e108e){const _0x15afb9=a0_0x29ff78;return await this['waMonitor'][_0x15afb9(0x745)][_0x5bd0f1[_0x15afb9(0x247)]][_0x15afb9(0x2dd)](_0x4e108e);}async[a0_0x29ff78(0x518)](_0x1f27ce,_0x585cc4,_0x3739ec,_0x7357b3){const _0x3dc35c=a0_0x29ff78;return await this[_0x3dc35c(0x4e6)][_0x3dc35c(0x745)][_0x1f27ce][_0x3dc35c(0x518)](_0x585cc4,_0x3739ec,_0x7357b3);}async[a0_0x29ff78(0x6b8)](_0x5ce5e2,_0x5e9c06){const _0x183d19=a0_0x29ff78;return await this[_0x183d19(0x4e6)][_0x183d19(0x745)][_0x5ce5e2[_0x183d19(0x247)]]['getConversation'](_0x5e9c06);}async[a0_0x29ff78(0x2ca)](_0x24deb7,_0x648c1c){const _0x27e433=a0_0x29ff78;return await this[_0x27e433(0x4e6)][_0x27e433(0x745)][_0x24deb7[_0x27e433(0x247)]][_0x27e433(0x2ca)](_0x648c1c);}async[a0_0x29ff78(0x20c)](_0x13730a,_0x5e0c54){const _0x166f71=a0_0x29ff78;return await this[_0x166f71(0x4e6)][_0x166f71(0x745)][_0x13730a[_0x166f71(0x247)]]['editConversation'](_0x5e0c54);}async[a0_0x29ff78(0x5df)](_0x303abc,_0x1f1ef0){const _0x425cac=a0_0x29ff78;return await this['waMonitor']['waInstances'][_0x303abc[_0x425cac(0x247)]]['deleteConversation'](_0x1f1ef0);}async[a0_0x29ff78(0x1f6)](_0x235dd7,_0xb9c190){const _0x24158f=a0_0x29ff78;return await this[_0x24158f(0x4e6)][_0x24158f(0x745)][_0x235dd7['instanceName']]['getFlow'](_0xb9c190[_0x24158f(0x177)],_0xb9c190['global']);}async['createFlow'](_0x1446f9,_0x4d179,_0x12df9e){const _0x5a4b3a=a0_0x29ff78;return await this[_0x5a4b3a(0x4e6)][_0x5a4b3a(0x745)][_0x1446f9[_0x5a4b3a(0x247)]][_0x5a4b3a(0x197)](_0x4d179,_0x12df9e);}async['editFlow'](_0x62f9e7,_0x27d9f6,_0x3495a9){const _0x37365a=a0_0x29ff78;return await this[_0x37365a(0x4e6)][_0x37365a(0x745)][_0x62f9e7[_0x37365a(0x247)]]['editFlow'](_0x27d9f6,_0x3495a9);}async[a0_0x29ff78(0x5f5)](_0x37eb00,_0x946ce6,_0x5148fc){const _0xebfe53=a0_0x29ff78;return await this[_0xebfe53(0x4e6)][_0xebfe53(0x745)][_0x37eb00[_0xebfe53(0x247)]]['editFlowBlock'](_0x946ce6,_0x5148fc);}async[a0_0x29ff78(0x6a0)](_0x1a7fca,_0x597db3,_0x395d8b){const _0x5f1952=a0_0x29ff78;return await this['waMonitor'][_0x5f1952(0x745)][_0x1a7fca[_0x5f1952(0x247)]][_0x5f1952(0x6a0)](_0x597db3,_0x395d8b);}async[a0_0x29ff78(0x722)](_0x2ae75d,_0x5601b3,_0x1cd9b4){const _0x208651=a0_0x29ff78;return await this['waMonitor'][_0x208651(0x745)][_0x2ae75d[_0x208651(0x247)]][_0x208651(0x722)](_0x5601b3,_0x1cd9b4);}async[a0_0x29ff78(0x699)](_0x441591,_0xe879fd,_0x43f7fc){const _0x2e061c=a0_0x29ff78;return await this[_0x2e061c(0x4e6)][_0x2e061c(0x745)][_0x441591['instanceName']]['editFlowCondition'](_0xe879fd,_0x43f7fc);}async[a0_0x29ff78(0x42f)](_0x292824,_0x3dd235,_0x33ef74){const _0x475485=a0_0x29ff78;return await this[_0x475485(0x4e6)]['waInstances'][_0x292824['instanceName']]['editFlowVaredit'](_0x3dd235,_0x33ef74);}async[a0_0x29ff78(0x221)](_0x7f968a,_0x1a8910,_0xd0946f){const _0x16dba7=a0_0x29ff78;return await this[_0x16dba7(0x4e6)][_0x16dba7(0x745)][_0x7f968a[_0x16dba7(0x247)]][_0x16dba7(0x221)](_0x1a8910,_0xd0946f);}async['deleteFlow'](_0xd29cbc,_0x59d1b0,_0xf52cc4){const _0x4aa91c=a0_0x29ff78;return await this['waMonitor'][_0x4aa91c(0x745)][_0xd29cbc[_0x4aa91c(0x247)]][_0x4aa91c(0x1ac)](_0x59d1b0,_0xf52cc4);}async[a0_0x29ff78(0x1c8)](_0x37c6ef){const _0x2bc56e=a0_0x29ff78;return await this[_0x2bc56e(0x4e6)]['waInstances'][_0x37c6ef[_0x2bc56e(0x247)]][_0x2bc56e(0x1c8)]();}},Xt=class{constructor(_0x2de8d2){const _0x27321a=a0_0x29ff78;this[_0x27321a(0x4da)]=_0x2de8d2;}async[a0_0x29ff78(0x283)](_0x34b9d2,_0x1f52c4){const _0x265810=a0_0x29ff78;return this[_0x265810(0x4da)]['create'](_0x34b9d2,_0x1f52c4);}async[a0_0x29ff78(0x220)](_0x5e6e4a){const _0x17bed9=a0_0x29ff78;return this[_0x17bed9(0x4da)][_0x17bed9(0x7a5)](_0x5e6e4a);}},Zt=class extends x{constructor(_0x482e5b,_0x34a775){const _0x23ab4d=a0_0x29ff78;super(_0x34a775),this['webhookModel']=_0x482e5b,this[_0x23ab4d(0x657)]=_0x34a775;}async[a0_0x29ff78(0x776)](_0xfbcaed,_0x364035){const _0x30f907=a0_0x29ff78;try{return this[_0x30f907(0x1bf)][_0x30f907(0x775)]?{'insertCount':(await this[_0x30f907(0x46a)]['replaceOne']({'_id':_0x364035},{..._0xfbcaed},{'upsert':!0x0}))['modifiedCount']}:{'insertCount':0x1};}catch(_0x52285a){return _0x52285a;}}async[a0_0x29ff78(0x7b8)](_0x4987f1){const _0xf1de58=a0_0x29ff78;try{if(this[_0xf1de58(0x1bf)]['ENABLED']){await this[_0xf1de58(0x46a)][_0xf1de58(0x4bd)]({'_id':_0x4987f1});return;}}catch(_0x5db61f){return{'error':_0x5db61f};}}async[a0_0x29ff78(0x7a5)](_0x30c91d){const _0x323cb2=a0_0x29ff78;try{if(this[_0x323cb2(0x1bf)][_0x323cb2(0x775)])return await this[_0x323cb2(0x46a)]['findOne']({'_id':_0x30c91d});}catch{return{};}}},es=class extends x{constructor(_0x15d2f6,_0x4cf6de){const _0x143fc5=a0_0x29ff78;super(_0x4cf6de),this[_0x143fc5(0x39d)]=_0x15d2f6,this[_0x143fc5(0x657)]=_0x4cf6de,this[_0x143fc5(0x28f)]=_0x4cf6de[_0x143fc5(0x6b4)]('AUTHENTICATION');}async[a0_0x29ff78(0x776)](_0x3fa171,_0x25eb25){const _0xd53585=a0_0x29ff78;try{if(this[_0xd53585(0x1bf)]['ENABLED'])return{'insertCount':(await this[_0xd53585(0x39d)][_0xd53585(0x1bc)]({'_id':_0x25eb25},{'$set':{..._0x3fa171}},{'upsert':!0x0}))[_0xd53585(0x533)]};}catch(_0x417dcb){return{'error':_0x417dcb};}}async[a0_0x29ff78(0x107)](_0x380f9a,_0x397a0b){const _0x5613ce=a0_0x29ff78;try{if(this['dbSettings'][_0x5613ce(0x775)])return{'insertCount':(await this[_0x5613ce(0x39d)]['updateMany'](_0x380f9a,{'$set':_0x397a0b},{'upsert':!0x1}))['modifiedCount']};throw new Error(_0x5613ce(0x70d));}catch(_0x32666d){return{'error':_0x32666d};}}async['deleteMany'](_0x10b35f){const _0x27c1b8=a0_0x29ff78;try{if(this[_0x27c1b8(0x1bf)][_0x27c1b8(0x775)])return{'insertCount':(await this[_0x27c1b8(0x39d)][_0x27c1b8(0x67e)](_0x10b35f))['deletedCount']};throw new Error(_0x27c1b8(0x70d));}catch(_0x5ad0f7){return{'error':_0x5ad0f7};}}async[a0_0x29ff78(0x7b8)](_0x1e0348){const _0x27bf15=a0_0x29ff78;try{if(this[_0x27bf15(0x1bf)][_0x27bf15(0x775)]){await this['authModel']['deleteOne']({'_id':_0x1e0348});return;}}catch(_0x4225bb){return{'error':_0x4225bb};}}async[a0_0x29ff78(0x7a5)](_0x4889ce){const _0x506c26=a0_0x29ff78;try{if(this['dbSettings'][_0x506c26(0x775)])return await this[_0x506c26(0x39d)][_0x506c26(0x2d8)]({'_id':_0x4889ce});}catch{return{};}}async[a0_0x29ff78(0x761)](){const _0x26fbee=a0_0x29ff78;try{if(this['dbSettings'][_0x26fbee(0x775)])return await this[_0x26fbee(0x39d)][_0x26fbee(0x7a5)]();}catch{return[];}}},ts=class extends x{[a0_0x29ff78(0x1ef)](_0x20e278){return da(_0x20e278);}async[a0_0x29ff78(0x7b8)](_0x3a3789,_0x205988){const _0x1c88f4=a0_0x29ff78;try{let _0x5c5efc=this[_0x1c88f4(0x1ef)](_0x205988),_0x30f1f0=T(_0x3a3789[_0x1c88f4(0x485)]);return{'deletedCount':(await _0x5c5efc[_0x1c88f4(0x67e)](_0x30f1f0))['deletedCount']};}catch(_0x48ec31){return{'error':_0x48ec31?.[_0x1c88f4(0x675)]()};}}async[a0_0x29ff78(0x4bd)](_0x4bcec7,_0x3f3c70){const _0x2fa2ff=a0_0x29ff78;try{let _0x3cd6e3=this[_0x2fa2ff(0x1ef)](_0x3f3c70),_0x502729=T(_0x4bcec7[_0x2fa2ff(0x485)]);return{'deletedCount':(await _0x3cd6e3[_0x2fa2ff(0x4bd)](_0x502729))[_0x2fa2ff(0x126)]};}catch(_0x231bc4){return{'error':_0x231bc4?.[_0x2fa2ff(0x675)]()};}}async[a0_0x29ff78(0x169)](_0xbdb6e1,_0x3404c3,_0x20774d){const _0x291a53=a0_0x29ff78;try{let _0x26a161=await this[_0x291a53(0x1ef)](_0x20774d)['findByIdAndUpdate'](_0xbdb6e1,_0x3404c3,{'overwrite':!0x0,'new':!0x0});return _0x26a161||(console['error'](_0x291a53(0x505),_0xbdb6e1),null);}catch(_0x421616){return console[_0x291a53(0xdb)](_0x291a53(0x45a),_0x421616),null;}}async[a0_0x29ff78(0x1bc)](_0x364562,_0xc0c473,_0x209c53){const _0x23a62a=a0_0x29ff78;try{let _0x2289e4=await this[_0x23a62a(0x1ef)](_0x209c53)[_0x23a62a(0x31f)](_0x364562);return _0x2289e4?(Object[_0x23a62a(0x153)](_0x2289e4,_0xc0c473),await _0x2289e4[_0x23a62a(0x5bd)]()):(console[_0x23a62a(0xdb)](_0x23a62a(0x3b1),_0x364562),null);}catch(_0x2438db){return console[_0x23a62a(0xdb)](_0x23a62a(0x45a),_0x2438db),null;}}async[a0_0x29ff78(0x105)](_0x2d61ec,_0x540091,_0x50bf0f){const _0x5f088b=a0_0x29ff78;try{let _0x456ebb=this[_0x5f088b(0x1ef)](_0x50bf0f),_0x191063=await _0x456ebb[_0x5f088b(0x31f)](_0x2d61ec),_0x29a16c=await _0x456ebb[_0x5f088b(0x700)]({'_id':_0x2d61ec},_0x540091,{'new':!0x0,'runValidators':!0x0});return _0x29a16c||(console['log'](_0x5f088b(0x65e)+_0x2d61ec+_0x5f088b(0x3bb)+_0x50bf0f+_0x5f088b(0x543)),null);}catch(_0x4af708){throw console['error'](_0x5f088b(0xc4),_0x4af708),_0x4af708;}}async[a0_0x29ff78(0x11e)](_0x5aead5){const _0x40623d=a0_0x29ff78;try{let _0x2a101a=this[_0x40623d(0x1ef)](_0x5aead5),_0x40545e={'shareOwners':{'$exists':!0x1}},_0x27c54a={'$set':{'shareOwners':[]}};return(await _0x2a101a['updateMany'](_0x40545e,_0x27c54a))['modifiedCount'];}catch(_0x3c7231){return console[_0x40623d(0xdb)](_0x3c7231),0x0;}}async[a0_0x29ff78(0x224)](_0x5b128b,_0x311a03){const _0x465ae1=a0_0x29ff78;try{let _0x37942e=this['getFlowModelForOwner'](_0x311a03);return await new _0x37942e(_0x5b128b)[_0x465ae1(0x5bd)]();}catch(_0x3ff2cd){return console[_0x465ae1(0xdb)](_0x465ae1(0x415),_0x3ff2cd),null;}}async[a0_0x29ff78(0x5c8)](_0x5072b2,_0x5ba638,_0x15da2a){const _0x5d8a1c=a0_0x29ff78;try{return{'modifiedCount':(await this[_0x5d8a1c(0x1ef)](_0x15da2a)[_0x5d8a1c(0x5c8)](_0x5072b2,{'$set':_0x5ba638}))['modifiedCount']};}catch(_0x2569bf){return console[_0x5d8a1c(0xdb)](_0x5d8a1c(0x656),_0x2569bf),{'error':_0x2569bf};}}async[a0_0x29ff78(0x761)](_0x178643,_0x13b9fa){const _0x564af5=a0_0x29ff78;try{let _0x3ef2c7=this['getFlowModelForOwner'](_0x13b9fa),_0x476cea=T(_0x178643[_0x564af5(0x485)]);return await _0x3ef2c7['find'](_0x476cea)[_0x564af5(0x5dc)](_0x178643?.[_0x564af5(0x5dc)]??0x0)[_0x564af5(0x1c1)]();}catch{return[];}}async['findOne'](_0xfc2f1c,_0x3cb947){const _0x5ed5c8=a0_0x29ff78;try{let _0x39a598=this[_0x5ed5c8(0x1ef)](_0x3cb947),_0x144f8a=T(_0xfc2f1c[_0x5ed5c8(0x485)]);return await _0x39a598[_0x5ed5c8(0x2d8)](_0x144f8a)[_0x5ed5c8(0x1c1)]();}catch{return null;}}async['deleteAll'](_0x711e70){const _0x32fb84=a0_0x29ff78;try{return await this[_0x32fb84(0x1ef)](_0x711e70)[_0x32fb84(0x300)][_0x32fb84(0x280)](),{'success':!0x0};}catch(_0xc95c86){return console[_0x32fb84(0xdb)](_0xc95c86),{'success':!0x1,'error':_0xc95c86};}}},ss=class extends x{[a0_0x29ff78(0x541)](_0x2dc8a7){return pa(_0x2dc8a7);}async[a0_0x29ff78(0x3e9)](_0x4f43fb){const _0x3eeeb5=a0_0x29ff78;if(_0x4f43fb['length']!==0x0)try{return{'insertCount':(await this['getConversationModelForOwner'](_0x4f43fb[0x0][_0x3eeeb5(0x2c7)])[_0x3eeeb5(0x483)]([..._0x4f43fb]))[_0x3eeeb5(0x78c)]};}catch(_0xdc024d){return _0xdc024d;}}async[a0_0x29ff78(0x7b8)](_0x1a4892,_0x25cc76){const _0x1118f8=a0_0x29ff78;try{let _0x1439b5=this['getConversationModelForOwner'](_0x25cc76),_0x55e052=T(_0x1a4892[_0x1118f8(0x485)]);return{'deletedCount':(await _0x1439b5[_0x1118f8(0x67e)](_0x55e052))[_0x1118f8(0x126)]};}catch(_0x58f990){return{'error':_0x58f990?.[_0x1118f8(0x675)]()};}}async[a0_0x29ff78(0x4bd)](_0x39027c,_0x10c26b){const _0x2ba3ed=a0_0x29ff78;try{let _0xb1127b=this[_0x2ba3ed(0x541)](_0x10c26b),_0x19b187=T(_0x39027c['where']);return{'deletedCount':(await _0xb1127b[_0x2ba3ed(0x4bd)](_0x19b187))[_0x2ba3ed(0x126)]};}catch(_0x34e9b6){return{'error':_0x34e9b6?.[_0x2ba3ed(0x675)]()};}}async[a0_0x29ff78(0x6e6)](_0x4acb2a,_0x5ada12){const _0x2074b2=a0_0x29ff78;try{if(_0x4acb2a[_0x2074b2(0x78c)]===0x0)return;let _0x49d57e=this[_0x2074b2(0x541)](_0x5ada12),_0x2cf956=_0x4acb2a[_0x2074b2(0x174)](_0x55872c=>({'updateOne':{'filter':{'name':_0x55872c['name'],'owner':_0x5ada12},'update':{..._0x55872c}}})),{modifiedCount:_0x383b6}=await _0x49d57e[_0x2074b2(0x17d)](_0x2cf956);return{'insertCount':_0x383b6};}catch{return;}}async[a0_0x29ff78(0x5c8)](_0x57a9ee,_0x1b454c,_0x975d0b){const _0x38aa51=a0_0x29ff78;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x975d0b)[_0x38aa51(0x5c8)](_0x57a9ee,{'$set':_0x1b454c})['exec']())['modifiedCount']};}catch(_0x18173f){return console[_0x38aa51(0xdb)](_0x38aa51(0x31d),_0x18173f),{'error':_0x18173f};}}async[a0_0x29ff78(0x1bc)](_0x3d75d6,_0x414571,_0x1c29e5){const _0x11486b=a0_0x29ff78;try{return await this['getConversationModelForOwner'](_0x1c29e5)['findOneAndUpdate']({'_id':_0x3d75d6},{'$set':_0x414571},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0x14fe0b){return console[_0x11486b(0xdb)](_0x14fe0b),null;}}async[a0_0x29ff78(0x7a5)](_0x37b916,_0x363e22){const _0x4cf9e9=a0_0x29ff78;try{return await this[_0x4cf9e9(0x541)](_0x363e22)[_0x4cf9e9(0x7a5)](_0x37b916)[_0x4cf9e9(0x385)]({'lastInteraction':-0x1})[_0x4cf9e9(0x1c1)]();}catch{return[];}}async[a0_0x29ff78(0x2d8)](_0x2bd729,_0x2fe4d7){const _0x175439=a0_0x29ff78;try{return await this[_0x175439(0x541)](_0x2fe4d7)[_0x175439(0x2d8)]({..._0x2bd729[_0x175439(0x485)]})[_0x175439(0x1c1)]();}catch{return null;}}async[a0_0x29ff78(0xb8)](_0x1fa48e){const _0x16b4f4=a0_0x29ff78;try{return await this['getConversationModelForOwner'](_0x1fa48e)['collection'][_0x16b4f4(0x280)](),{'success':!0x0};}catch(_0x677cfa){return console[_0x16b4f4(0xdb)](_0x677cfa),{'success':!0x1,'error':_0x677cfa};}}},as=class extends x{[a0_0x29ff78(0x4ee)](_0x1f1d0a){return ha(_0x1f1d0a);}async[a0_0x29ff78(0x224)](_0x150dd6,_0x4a81cf){const _0x250846=a0_0x29ff78;try{let _0x196f15=this[_0x250846(0x4ee)](_0x4a81cf);return await new _0x196f15(_0x150dd6)[_0x250846(0x5bd)]();}catch(_0x2e849e){return console[_0x250846(0xdb)](_0x250846(0x415),_0x2e849e),null;}}async[a0_0x29ff78(0x4bd)](_0xc48930,_0x2f55f4){const _0x2474da=a0_0x29ff78;try{return await this[_0x2474da(0x4ee)](_0x2f55f4)[_0x2474da(0x6bf)](_0xc48930),{};}catch(_0x5426b5){return{'error':_0x5426b5?.[_0x2474da(0x675)]()};}}async[a0_0x29ff78(0x1bc)](_0xcaeeb9,_0x272503,_0x5bd061){const _0x17e2cd=a0_0x29ff78;try{return await this['getScheduleMessageModelForOwner'](_0x5bd061)[_0x17e2cd(0x700)](_0xcaeeb9,{'$set':_0x272503},{'new':!0x0})[_0x17e2cd(0x1c1)]();}catch(_0x17605a){return console[_0x17e2cd(0xdb)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x17605a),null;}}async[a0_0x29ff78(0x179)](_0x56541b,_0x4217f3,_0x4a1c28){const _0x1188a0=a0_0x29ff78;try{return await this[_0x1188a0(0x4ee)](_0x4a1c28)[_0x1188a0(0x1bd)](_0x56541b,_0x4217f3,{'new':!0x0})['lean']();}catch(_0x24238e){return console['error']('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x24238e),null;}}async['find'](_0xdb20ab,_0x188f21){const _0x4bee8d=a0_0x29ff78;try{return await this['getScheduleMessageModelForOwner'](_0x188f21)['find'](_0xdb20ab[_0x4bee8d(0x485)])['limit'](_0xdb20ab?.[_0x4bee8d(0x5dc)]??0x0)[_0x4bee8d(0x385)]({'when':0x1})[_0x4bee8d(0x1c1)]();}catch{return[];}}async[a0_0x29ff78(0x2d8)](_0x39c6f3,_0x38cb46){const _0x4467d4=a0_0x29ff78;try{return await this[_0x4467d4(0x4ee)](_0x38cb46)[_0x4467d4(0x2d8)](_0x39c6f3[_0x4467d4(0x485)])[_0x4467d4(0x385)]({'when':0x1})[_0x4467d4(0x1c1)]();}catch{return null;}}async[a0_0x29ff78(0x31f)](_0x6eb057,_0x373cdc){const _0x143886=a0_0x29ff78;try{return await this[_0x143886(0x4ee)](_0x373cdc)['findById'](_0x6eb057)[_0x143886(0x1c1)]();}catch{return null;}}async['deleteMany'](_0x4a0884,_0x55e140){const _0x4f916c=a0_0x29ff78;try{return{'deletedCount':(await this[_0x4f916c(0x4ee)](_0x55e140)[_0x4f916c(0x67e)](_0x4a0884))['deletedCount']};}catch(_0x577f61){return console[_0x4f916c(0xdb)](_0x4f916c(0xf4),_0x577f61),{'error':_0x577f61};}}async['deleteAll'](_0xf95d32){const _0x3793db=a0_0x29ff78;try{return await this['getScheduleMessageModelForOwner'](_0xf95d32)[_0x3793db(0x300)][_0x3793db(0x280)](),{'success':!0x0};}catch(_0x11ef30){return console[_0x3793db(0xdb)](_0x11ef30),{'success':!0x1,'error':_0x11ef30};}}},os=class extends x{async[a0_0x29ff78(0x6e6)](_0x102f9f,_0x21ca1b){const _0x52506d=a0_0x29ff78;try{if(this['dbSettings'][_0x52506d(0x775)]){let _0x53bc88=await Ne[_0x52506d(0x700)]({'_id':_0x21ca1b},{'$set':_0x102f9f},{'new':!0x0});return console[_0x52506d(0x15d)]('Resultado\x20da\x20atualização:',_0x53bc88),_0x53bc88;}}catch(_0x4eef81){throw console[_0x52506d(0xdb)](_0x52506d(0xb7),_0x4eef81),_0x4eef81;}}async[a0_0x29ff78(0x5cd)](_0x18bbf1){const _0x481d19=a0_0x29ff78;try{let _0x4d322f=await Ne[_0x481d19(0x31f)](_0x18bbf1);return _0x4d322f?_0x4d322f[_0x481d19(0x7c1)]||(_0x4d322f[_0x481d19(0x7c1)]=[],await _0x4d322f['save']()):(_0x4d322f=new Ne({'_id':_0x18bbf1,'autoCompleteMessages':[]}),await _0x4d322f[_0x481d19(0x5bd)]()),_0x4d322f;}catch(_0x56d820){return _0x56d820[_0x481d19(0xfd)]===0x2af8&&_0x56d820[_0x481d19(0x33b)]&&_0x56d820[_0x481d19(0x33b)][_0x481d19(0x5f1)]?(console[_0x481d19(0xdb)](_0x481d19(0x3e5)),await Ne[_0x481d19(0x300)][_0x481d19(0x233)](_0x481d19(0x27a)),null):(console[_0x481d19(0xdb)](_0x481d19(0x351),_0x56d820),null);}}},$r=new R(a0_0x29ff78(0x66a)),Ar=new We(S),Or=new qt(S),Tr=new ot(S),Ir=new Vt(Zs,S),xr=new Zt(ia,S),Dr=new es(aa,S),_r=new ts(S),Pr=new Gt(S),kr=new ss(S),jr=new as(S),Lr=new os(S),ue=new Ge(Ar,Or,Tr,Ir,xr,Dr,_r,kr,Pr,jr,Lr,$?.[a0_0x29ff78(0x22a)]()),B=new Ut(ls,S,ue),Fr=new Ht(S,B,ue),Jr=new Qt(B),Ms=new Xt(Jr),A=new Yt(B),ne=new Wt(B,S,ue,ls,Fr),W=new zt(B),_=new Bt(B),q=new Kt(B);$r['info'](a0_0x29ff78(0x471));var Fh=require(a0_0x29ff78(0x528)),Ps=require('fs'),No=O(require(a0_0x29ff78(0x1d6))),Ro=O(require(a0_0x29ff78(0x20f))),Pe=class c{static #e;static set[a0_0x29ff78(0x204)](_0x26fa8c){this.#e=_0x26fa8c;}static get[a0_0x29ff78(0x1d6)](){const _0x457d50=a0_0x29ff78;let {FULLCHAIN:_0x3b37d2,PRIVKEY:_0x53f315}=S[_0x457d50(0x6b4)](_0x457d50(0x577));return No[_0x457d50(0x16b)]({'cert':(0x0,Ps['readFileSync'])(_0x3b37d2),'key':(0x0,Ps[_0x457d50(0x1e3)])(_0x53f315)},c.#e);}static get[a0_0x29ff78(0x20f)](){return Ro['createServer'](c.#e);}},pe=O(require('fs')),xo=O(require('ini')),ke=O(require(a0_0x29ff78(0xf1))),Le=O(require('path')),Fe=require(a0_0x29ff78(0x2e6));function Ur(){const _0x5328c5=a0_0x29ff78;B['loadInstance']();let _0x3599f2=Le[_0x5328c5(0x152)][_0x5328c5(0x46b)](__dirname,_0x5328c5(0x69a));Io(_0x3599f2);}var Io=_0x34fe9c=>{const _0x7faaac=a0_0x29ff78;let _0x3ea322=pe['default']['readdirSync'](_0x34fe9c),_0x28d2e4=0xc*0x3c*0x3c*0x3e8,_0x16dfa6=0x2*0x3c*0x3c*0x3e8,_0xc782cd=new Date()[_0x7faaac(0x1f3)]();_0x3ea322['forEach'](_0x5a875e=>{const _0x4903d4=_0x7faaac;let _0x14278c=Le[_0x4903d4(0x152)]['join'](_0x34fe9c,_0x5a875e),_0x34b77d=pe[_0x4903d4(0x152)]['statSync'](_0x14278c)[_0x4903d4(0x23c)][_0x4903d4(0x1f3)]();_0xc782cd-_0x34b77d>_0x28d2e4&&(pe[_0x4903d4(0x152)][_0x4903d4(0x37b)](_0x14278c),console[_0x4903d4(0x15d)](_0x4903d4(0x618)+_0x5a875e));}),setTimeout(()=>Io(_0x34fe9c),_0x16dfa6);};function qr(){const _0x7f347e=a0_0x29ff78;let _0x66b6be=new R(_0x7f347e(0x1c5)),_0xccf03e=(0x0,he[_0x7f347e(0x152)])();_0xccf03e[_0x7f347e(0x34f)]((0x0,To[_0x7f347e(0x152)])({'origin'(_0x52333a,_0x2df067){const _0x57d816=_0x7f347e;let {ORIGIN:_0x1f426d}=S[_0x57d816(0x6b4)](_0x57d816(0x703));return _0x52333a||(_0x52333a='*'),_0x1f426d['indexOf']('*')!==-0x1||_0x1f426d[_0x57d816(0x491)](_0x52333a)!==-0x1?_0x2df067(null,!0x0):_0x2df067(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...S[_0x7f347e(0x6b4)]('CORS')[_0x7f347e(0x49f)]],'credentials':S[_0x7f347e(0x6b4)](_0x7f347e(0x703))[_0x7f347e(0x503)]}),(0x0,he[_0x7f347e(0xf9)])({'extended':!0x0,'limit':_0x7f347e(0x454)}),(0x0,he[_0x7f347e(0x5b6)])({'limit':'50mb'})),_0xccf03e[_0x7f347e(0x34f)]((_0x167a33,_0x31a3f6,_0x282249)=>{const _0x205ee5=_0x7f347e;_0x167a33[_0x205ee5(0x7a0)][_0x205ee5(0x25b)](_0x205ee5(0x36a))?_0x282249():(0x0,Oo[_0x205ee5(0x152)])()(_0x167a33,_0x31a3f6,_0x282249);}),_0xccf03e[_0x7f347e(0x20b)](_0x7f347e(0x67b),_0x7f347e(0x556)),_0xccf03e[_0x7f347e(0x20b)](_0x7f347e(0x682),(0x0,js[_0x7f347e(0x46b)])(ie,'views')),_0xccf03e[_0x7f347e(0x34f)](he[_0x7f347e(0x152)][_0x7f347e(0x53f)]((0x0,js['join'])(ie,_0x7f347e(0x3ce)))),_0xccf03e[_0x7f347e(0x34f)]((_0xd95938,_0x25d9c4,_0x11a196)=>{const _0x3e75f1=_0x7f347e;let _0xbd78cb=_0x25d9c4[_0x3e75f1(0x4fa)];_0x25d9c4[_0x3e75f1(0x4fa)]=function(_0x27658e){const _0x4753bc=_0x3e75f1;if(_0xd95938[_0x4753bc(0x579)]['convert']===_0x4753bc(0x569)||_0xd95938[_0x4753bc(0x35b)][_0x4753bc(0x626)]===_0x4753bc(0x569)){let _0xbd3d34=JSON['parse'](_0x27658e);_0x27658e=JSON[_0x4753bc(0x230)](_0x402ae3(_0xbd3d34));}return _0xbd78cb['apply'](_0x25d9c4,[_0x27658e]);},_0x11a196();}),_0xccf03e[_0x7f347e(0x34f)]('/',xe),_0xccf03e[_0x7f347e(0x34f)]((_0x3c50a2,_0xb5d56e,_0x4303d8,_0xddda88)=>{const _0x10cfaf=_0x7f347e;if(_0x3c50a2)return _0x4303d8[_0x10cfaf(0x353)](_0x3c50a2['status']||0x1f4)[_0x10cfaf(0x5b6)](_0x3c50a2);},(_0x33df17,_0x3a947d,_0x3b63e5)=>{const _0x3e826f=_0x7f347e;let {method:_0x1296df,url:_0x13bc9e}=_0x33df17;_0x3a947d[_0x3e826f(0x353)](0x194)[_0x3e826f(0x5b6)]({'status':0x194,'message':_0x3e826f(0x2e2)+_0x1296df['toUpperCase']()+'\x20'+_0x13bc9e,'error':_0x3e826f(0x40c)}),_0x3b63e5();});let _0x402ae3=(_0x3def1d,_0x4c8be3='_p_')=>{const _0x5a7474=_0x7f347e;let _0x2327cf=(_0x2a703e,_0x10d5a2=null,_0x571838=!0x1)=>{const _0x2f966f=a0_0x5d27;let _0x416d18={};return Object[_0x2f966f(0x63f)](_0x2a703e)[_0x2f966f(0x628)](_0x56a5ad=>{const _0x350e5d=_0x2f966f;let _0x3ff353=_0x2a703e[_0x56a5ad],_0x7d9abb=''+_0x4c8be3+_0x56a5ad;_0x10d5a2&&!_0x571838&&(_0x7d9abb=_0x10d5a2+'.'+_0x56a5ad),!_0x3ff353&&_0x3ff353!==0x0&&_0x3ff353!==!0x1||typeof _0x3ff353>'u'?_0x416d18[_0x7d9abb]=null:typeof _0x3ff353!='object'&&!Array[_0x350e5d(0x5eb)](_0x3ff353)?_0x416d18[_0x7d9abb]=_0x3ff353:typeof _0x3ff353==_0x350e5d(0x398)&&!Array[_0x350e5d(0x5eb)](_0x3ff353)?_0x416d18=Object[_0x350e5d(0x153)](_0x416d18,_0x2327cf(_0x3ff353,_0x7d9abb)):Array[_0x350e5d(0x5eb)](_0x3ff353)&&(typeof _0x3ff353[0x0]==_0x350e5d(0x398)?(_0x416d18[_0x7d9abb]=[],_0x3ff353[_0x350e5d(0x628)](_0x29bd4b=>{const _0x5dbbc8=_0x350e5d;_0x416d18[_0x7d9abb][_0x5dbbc8(0x41b)](_0x2327cf(_0x29bd4b,_0x7d9abb,!0x0));})):_0x416d18[_0x7d9abb]=_0x3ff353);}),_0x416d18;};return Array[_0x5a7474(0x5eb)](_0x3def1d)?_0x3def1d['map'](_0x44ec14=>_0x2327cf(_0x44ec14)):typeof _0x3def1d==_0x5a7474(0x398)&&_0x3def1d!==null?_0x2327cf(_0x3def1d):{};},_0x34a51e=S['get']('SERVER');Pe['app']=_0xccf03e;let _0x3ca4c7=Pe[_0x34a51e['TYPE']],_0x1fdc88=_0x7f347e(0x5b8);_0x3ca4c7[_0x7f347e(0x2aa)](_0x34a51e[_0x7f347e(0x1c4)],()=>{const _0x170168=_0x7f347e;_0x66b6be['log'](_0x1fdc88),_0x66b6be[_0x170168(0x15d)](_0x34a51e[_0x170168(0x603)][_0x170168(0x18d)]()+'\x20-\x20ON:\x20'+_0x34a51e[_0x170168(0x1c4)]);}),Ur(),zs();}function a0_0x5d27(_0xcdde20,_0x3c4aa2){const _0x35e294=a0_0x35e2();return a0_0x5d27=function(_0x5d2746,_0xb0a9fa){_0x5d2746=_0x5d2746-0xb1;let _0x25761e=_0x35e294[_0x5d2746];return _0x25761e;},a0_0x5d27(_0xcdde20,_0x3c4aa2);}var Vr=a0_0x29ff78(0x106),Gr=Le[a0_0x29ff78(0x152)][a0_0x29ff78(0x46b)](__dirname,a0_0x29ff78(0x34c)),je=null;function Br(){return new Promise((_0x2e01cc,_0x231218)=>{const _0x55a915=a0_0x5d27;pe[_0x55a915(0x152)][_0x55a915(0x266)](Gr,_0x55a915(0x794),(_0x7a8c9d,_0x5da958)=>{const _0x29b52a=_0x55a915;if(_0x7a8c9d){je=_0x7a8c9d,_0x2e01cc();return;}xo['default'][_0x29b52a(0x1cd)](_0x5da958)[_0x29b52a(0x6c3)][_0x29b52a(0x251)]===Vr?(je=null,_0x2e01cc()):(je=new Error(_0x29b52a(0x183)),_0x2e01cc());});});}async function Wr(){const _0x1de063=a0_0x29ff78;try{await Br(),await Ls();}catch(_0x387514){console[_0x1de063(0xdb)](_0x1de063(0x5e8)+_0x387514),process[_0x1de063(0x568)](0x1);}}Wr();async function Do(){const _0x4dcbac=a0_0x29ff78;let _0x883014;try{_0x883014=(await ke[_0x4dcbac(0x152)][_0x4dcbac(0x6b4)](_0x4dcbac(0x2e9)))[_0x4dcbac(0x1bb)]['ip'];}catch(_0x5b35da){console['error'](_0x5b35da);try{_0x883014=(await ke[_0x4dcbac(0x152)][_0x4dcbac(0x6b4)](_0x4dcbac(0x652)))[_0x4dcbac(0x1bb)]['ip'];}catch(_0x35d509){console[_0x4dcbac(0xdb)](_0x35d509);try{_0x883014=(await ke[_0x4dcbac(0x152)][_0x4dcbac(0x6b4)](_0x4dcbac(0x662)))[_0x4dcbac(0x1bb)][_0x4dcbac(0x5dd)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x156085){return console[_0x4dcbac(0xdb)](_0x156085),!0x1;}}}return _0x883014;}var $o=0x0;async function zr(){const _0x445688=a0_0x29ff78;let _0x5bfb4e=await new ce(S[_0x445688(0x6b4)]('REDIS'))['instanceKeys']();return console[_0x445688(0x15d)](_0x445688(0x67a),_0x5bfb4e[_0x445688(0x78c)]),_0x5bfb4e['length'];}function Hr(_0x328543){const _0x46dceb=a0_0x29ff78;let _0xa27b50=_0x328543['get'](_0x46dceb(0x1c5))[_0x46dceb(0x44b)],_0x1d8018=_0x328543[_0x46dceb(0x6b4)](_0x46dceb(0x577)),_0x244ae1;if(_0xa27b50){let _0xbc9088=_0xa27b50[_0x46dceb(0x5dd)](/\/\/(.*?)\./);_0xbc9088&&_0xbc9088[0x1]&&(_0x244ae1=_0xbc9088[0x1]);}if(!_0x244ae1&&_0x1d8018&&_0x1d8018['FULLCHAIN']){let _0x328d17=_0x1d8018[_0x46dceb(0x2d1)][_0x46dceb(0x599)]('/'),_0x55016e=_0x328d17[_0x328d17[_0x46dceb(0x78c)]-0x2];if(_0x55016e){let _0x3fc08b=_0x55016e[_0x46dceb(0x599)]('.');_0x3fc08b[_0x46dceb(0x78c)]>0x2&&(_0x244ae1=_0x3fc08b[0x0]);}}return _0x244ae1;}var xs=Hr(S);async function Kr(){const _0xeb3467=a0_0x29ff78;let _0x3dca12=S[_0xeb3467(0x6b4)](_0xeb3467(0x2f5)),_0x831da5=S[_0xeb3467(0x6b4)](_0xeb3467(0x5d2))[_0xeb3467(0x44d)][_0xeb3467(0x1ca)],_0x5d0f88=S[_0xeb3467(0x6b4)](_0xeb3467(0x577)),_0x34e23e=await Do(),_0x11831c=S[_0xeb3467(0x6b4)]('SERVER')[_0xeb3467(0x1c4)],_0x15bd2b=S[_0xeb3467(0x6b4)](_0xeb3467(0x1c5))[_0xeb3467(0x44b)];try{let _0x282261={'ip':_0x34e23e||null,'redis_enable':_0x3dca12?.['ENABLED']||null,'apikey':_0x831da5||null,'ssl':_0x5d0f88?.[_0xeb3467(0x3e8)]||null,'lastupdate':_o||null,'port':_0x11831c||null,'gitInstallError':je?.['message']||null,'url':_0x15bd2b||null};if(console[_0xeb3467(0x15d)](_0xeb3467(0xd0),_0x282261['ip']),_0x3dca12&&_0x3dca12[_0xeb3467(0x775)]){let _0x57258a=await zr();_0x282261[_0xeb3467(0x111)]=_0x57258a||null;}for(let _0x44d577 in _0x282261)_0x282261['hasOwnProperty'](_0x44d577)&&_0x44d577!=='ip'&&(_0x282261[_0x44d577]=JSON[_0xeb3467(0x230)](_0x282261[_0x44d577]));return(await ke[_0xeb3467(0x152)][_0xeb3467(0x525)](_0xeb3467(0x18a),_0x282261))[_0xeb3467(0x1bb)];}catch(_0x2893b8){return console['error'](_0x2893b8),!0x1;}}var ks=!0x1,_o=0x243,Qr=0x3,Ao=0x1b7740;async function Ls(){const _0x1fd35d=a0_0x29ff78;if(!await Do())return console['error'](_0x1fd35d(0x1c3)),_0x1fd35d(0x4d3);let _0x5ac319=await Kr();if(_0x5ac319){if(_0x5ac319['response'][_0x1fd35d(0x1b7)]===!0x0){let _0x578ec1=S[_0x1fd35d(0x6b4)]('SSL_CONF'),_0x40a315=S[_0x1fd35d(0x6b4)]('SERVER')['URL'];_0x578ec1&&_0x578ec1?.['PRIVKEY']?.[_0x1fd35d(0x35d)](_0x1fd35d(0x1d5))&&_0x5ac319[_0x1fd35d(0x5bb)][_0x1fd35d(0x6cf)]&&!_0x40a315&&(await Zr(_0x5ac319['response'][_0x1fd35d(0x6cf)],Xr),await ei(_0x1fd35d(0x19b),_0x5ac319[_0x1fd35d(0x5bb)][_0x1fd35d(0x6cf)]),console[_0x1fd35d(0x15d)](_0x1fd35d(0x342)),setTimeout(()=>si(),0x2710)),je===null&&_0x5ac319[_0x1fd35d(0x5bb)][_0x1fd35d(0x72d)]-_o>0x0&&await Yr(),ks||(ks=!0x0,qr());let _0xc5be33=0x24*0x3c*0x3c,_0x17827c=_0x5ac319[_0x1fd35d(0x5bb)][_0x1fd35d(0x17a)]>_0xc5be33?_0xc5be33:_0x5ac319[_0x1fd35d(0x5bb)][_0x1fd35d(0x17a)],_0x57748b=Number(_0x17827c);if(isNaN(_0x57748b)){console[_0x1fd35d(0xdb)](_0x1fd35d(0x37e));return;}let _0x414203=Math[_0x1fd35d(0x71e)](_0x57748b/0xe10),_0x4a90af=Math[_0x1fd35d(0x71e)](_0x57748b%0xe10/0x3c),_0x50a2c2=new Date(Date[_0x1fd35d(0x455)]()+_0x57748b*0x3e8);setTimeout(Ls,_0x57748b*0x3e8);let _0x3d9eb9=_0x1e9578=>_0x1e9578[_0x1fd35d(0x675)]()[_0x1fd35d(0x32f)](0x2,'0'),_0xeafc4d=_0x1fd35d(0x7b3)+_0x3d9eb9(_0x414203)+_0x1fd35d(0x61c)+_0x3d9eb9(_0x4a90af)+_0x1fd35d(0x6ed)+_0x3d9eb9(_0x50a2c2[_0x1fd35d(0x389)]())+':'+_0x3d9eb9(_0x50a2c2[_0x1fd35d(0x746)]())+'.';console[_0x1fd35d(0x15d)](_0xeafc4d);}else return console[_0x1fd35d(0x15d)](_0x1fd35d(0x338)),ks&&(console[_0x1fd35d(0x15d)](_0x1fd35d(0xca)),process[_0x1fd35d(0x568)]()),_0x1fd35d(0x5c3);}else{if($o++,$o<Qr)console['log'](_0x1fd35d(0x378)+Ao/0xea60+_0x1fd35d(0x40f)),setTimeout(Ls,Ao);else return console[_0x1fd35d(0xdb)](_0x1fd35d(0x407)),'SERVER_OFFLINE';}}async function Yr(){const _0x5b1ada=a0_0x29ff78;console['log']('Parando\x20aplicação,\x20atualização\x20recebida');let _0x4fb501=(0x0,Fe[_0x5b1ada(0x2b7)])(_0x5b1ada(0x361),{'shell':!0x0});_0x4fb501[_0x5b1ada(0x40a)]['on'](_0x5b1ada(0x1bb),_0x4947bd=>{const _0x216a5c=_0x5b1ada;console[_0x216a5c(0x15d)]('Atualização:\x20'+_0x4947bd);}),_0x4fb501[_0x5b1ada(0x521)]['on'](_0x5b1ada(0x1bb),_0xcb1fb8=>{const _0x5daf4d=_0x5b1ada;console[_0x5daf4d(0xdb)](_0x5daf4d(0x26e)+_0xcb1fb8);}),_0x4fb501['on'](_0x5b1ada(0x568),_0x2f38a9=>{const _0x332dd6=_0x5b1ada;_0x2f38a9!==0x0?console['error'](_0x332dd6(0x73c)+_0x2f38a9):console[_0x332dd6(0x15d)](_0x332dd6(0x4ea)),console['log'](_0x332dd6(0x7bb)),setTimeout(()=>process[_0x332dd6(0x568)](),0x2710);});}var Xr=Le['default'][a0_0x29ff78(0x46b)](__dirname,a0_0x29ff78(0x69c));async function Zr(_0x3b6bff,_0x379edb){const _0x204816=a0_0x29ff78;let _0x3a4377=ti();_0x3b6bff=_0x3b6bff[_0x204816(0x3e1)]('.uazapi.dev','');try{let _0xff58cf=pe[_0x204816(0x152)][_0x204816(0x1e3)](_0x379edb,'utf8');_0xff58cf=_0xff58cf[_0x204816(0x3e1)](/<apikey>/,_0x3a4377),_0xff58cf=_0xff58cf[_0x204816(0x3e1)](/<subdomain>/g,_0x3b6bff),pe[_0x204816(0x152)][_0x204816(0x64d)](_0x379edb,_0xff58cf,_0x204816(0x685)),console[_0x204816(0x15d)]('Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.');}catch(_0x101a21){console['error']('Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:',_0x101a21);}}function a0_0x35e2(){const _0x127205=['responsavelid','CORS_CREDENTIALS','including\x20timestamp\x20in\x20url:\x20','contains','instanceInfo','):\x20teve\x20mudanças\x20chat.archived:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','.error','body',',\x20Resultado:\x20','removeChatLabel','pre','BufferJSON','Contacts\x20not\x20found','replyOption','waInstances','getMinutes','Erro\x20ao\x20buscar\x20conversas',':\x20IP\x20funcionando!','\x20quoted:\x20','deleteflow','):\x20Criando\x20fluxo\x20regular...','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','SSL_CONF_PRIVKEY','.\x20Aguardando\x20antes\x20de\x20reconectar...','request\x20received\x20in\x20scheduleMessage','DARK','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','statusCode','listResponseMessage','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','Enter\x20a\x20value\x20in\x20milliseconds','convertToWebP','\x20inseridas\x20no\x20banco\x20de\x20dados...','STORE_CLEANING_TERMINAL','groupUpdateSubject','InstancesAsDisconnectedX','setWebhook','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','\x20foi\x20interrompido\x20pelo\x20usuário.','muteEndTime','upsertChats','findAll','testingWith','jpegThumbnail','):\x20updateResult:','ultimaTentativaRemoteJid','@s.whatsapp.net','downloadMediaMessage','RECONNECT_TIME_FRAME','\x20com\x20sucesso.','getDevice','groups.upsert','Certbot:\x20','Início','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','#9ba6ff','prefixCommand','request\x20received\x20in\x20allFlows','number','groupBetterSetting','STORE_MESSAGE','ENABLED','create','evaluateConditionTest','\x1b[46m','\x20mensagens\x20de\x20','updateGroupPicture','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','isJWT','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','chat','Erro\x20ao\x20alterar\x20fluxo','#fed428','unreadCount','creds','isCommunity','):\x20Entrou\x20na\x20função\x20stop','finish','groupName','):\x20Bloco\x20original\x20para\x20cópia:\x20','\x20:\x20','textMessage','leadInfo.atendimentoAberto','):\x20Ler\x20mensagem','length','Tentando\x20reconectar...','#ff9484','saveChatVariables','/wa-connection-update','):\x20Iniciando\x20bot...','):\x20Enviando\x20áudio','.ppt','utf-8','sendCommand','updateCustomFields','deleteInstance','context','startCommandWord','sharePass','buttonText','request\x20received\x20in\x20getFlow','fetchContacts','Schema','paused','path','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','end','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','dbServer','find','/wa-contacts','mongoose','fone','Forbidden','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','updateMissingCustomFields','formatStatusMessage','endSession','toFile','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','protocol','conditions','open','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','cacheContactModel','info','.webm','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','delete','inviteUrl','deleteImportedChat','Parando\x20aplicação...','imgUrl','toBrazilianNumberFormat','Instance\x20\x22','address','delayChatLabel_RETRY_DELAY_MS','autoCompleteMessages','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','qrcode-terminal','envProcess','groupUpdateDescription',',\x20qrcodeCount:\x20','USER','beautifyWithPlaceholders','port','3PIYOJM','variables','toLowerCase','descOwner','Erro\x20ao\x20atualizar\x20AutomateSystem:','deleteAll','atendimentoAberto','hDel','groupInviteCode','://','synchronizeFlows','processScheduleFlow','success','storePath','preview','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','Deletion\x20failed','Erro\x20ao\x20atualizar\x20o\x20documento:','SECRET','lastFetchAwaitingApproval','REDIS_URI','Fetching\x20business\x20profile','superadmin','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.',':\x20Erro\x20durante\x20loadproxy\x20-\x20','text/event-stream','pushName',',\x20Comparador:\x20','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','ip:\x20','Erro\x20ao\x20adicionar\x20label\x20','replacer','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','no-cache','CONNECTION_UPDATE','EMAIL:','findAndUpdateCacheContact','username','QRCODE_UPDATED','expression','error','request\x20received\x20in\x20deleteFlow','redis','from','host','mediaSticker','\x20segundos','getContentType','cachedContact','Erro\x20ao\x20buscar\x20o\x20fluxo','conversationTimestamp','http://icanhazip.com/','requestFile','pollCreationMessageV2','@redis/client','notEqual','Background\x20color\x20is\x20required','video','groupadd','clearVariables','Erro\x20na\x20função\x20updateChatWithMessage:\x20','subject','axios','waitingMenu_replyOptions','trim','Erro\x20ao\x20deletar\x20mensagens:','verifiedName','toLocaleString','loadEnv','proto','urlencoded','PRODUCT_LIST','isBase64','STORE_CONTACTS','code','/automate','user','\x20depois\x20','setContext','\x20global:\x20','http://ip-api.com/json','scheduleFlow','findAndUpdate','https://github.com/uazapi/uazapi.git','updateAll','password','https://api.openai.com/v1/audio/speech','deleteMessage','customFields','leaveGroup','shift','labels.edit','capitalizedWords','contextInfo','instanceCount','setUpdate','Instance\x20Name:','#000000','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','\x1b[32m%s\x1b[0m','setNewValue','E-mail:\x20','cacheContact','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','messages.upsert','formatVCard','application/json','updateMissingShareOwners','leadInfo.customFields','generate','Falha\x20ao\x20processar\x20fetchBusinessProfile','API\x20Key\x20from\x20Request:','connectionState','messageStubParameters','ignoreGroups','deletedCount','fetchMessages','/group','Getting\x20image\x20from\x20url','isCommunityAnnounce','):\x20Editando\x20variável\x20do\x20fluxo...','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','document','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','@newsletter','.png','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','Rótulo\x20deletado:\x27,\x20','audio/ogg;\x20codecs=opus','):\x20enviado\x20para\x20[','everyOne','\x1b[1m\x1b[37m','created','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','Group\x20not\x20found','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','model','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','#6f7bcf','Telefone:\x20','deleteBlock','flowName','):\x20newSecondValue\x20após\x20replaceVariables:','Instance\x20logged\x20out','makeCacheableSignalKeyStore','\x1b[36m','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','error_log','createSharedFlow','AppStateSyncKeyData','FlowModel','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','type','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','state','.jwt','gifPlayback','repeat','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','default','assign','):\x20Entrou\x20na\x20função\x20clearVariables','debug','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','optionDescription','END:VCARD','expiration','.svg','reject','fetchChats','log','\x1b[1m','descId','Font\x20is\x20required','round','sendMenu','setHeader','Erro\x20ao\x20iniciar\x20fluxo:\x20','minutesToClose','canSendMessage','SERVER_TYPE','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','replaceOne','automateSystem','createServer','findManyByIds','selectableCount','organization','http://myexternalip.com/raw','^\x5cd+','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','greater','variablesToObject','map','reaction','groupDesc','name','normalizeMessage','updateOneById','segundos','fetchStatus','):\x20Comando\x20desconhecido:\x20','bulkWrite','collections','!cmd_','):\x20Conversa\x20inserida\x20com\x20sucesso.','fetchProfilePictureUrl','mediatype','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','Internal\x20Server\x20Error','EXPIRIN_IN','\x1b[36m%s\x1b[0m','AUTHENTICATION_API_KEY','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','DATABASE_ENABLED','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','):\x20Não\x20achou\x20nenhum\x20flow','):\x20Limpando\x20delayMessage','toUpperCase','content-type','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','https://','):\x20Enviando\x20mídia','archive','Instance\x20restarted','format','):\x20Conversa\x20está\x20expirada\x20-\x20voto','removeProfilePicture','createFlow','Erro\x20ao\x20copiar\x20o\x20documento','Error\x20writing\x20file:\x20','group','augusto.fcs@gmail.com','video-cover.png','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','decryptPollVote','/exit','uncaughtException','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','getDelay','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','):\x20Erro\x20durante\x20a\x20atualização:\x20','WebhookGlobal','scheduleSendAudio','toggleEphemeral','pollCreationMessageV3','OrAnd','videoMessage','deleteFlow','cleaningUp','joinApprovalMode','app-state-sync-key','):\x20Entrou\x20na\x20função\x20processawaitSeconds','uazapiSendLocation',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.','unhandledRejection','):\x20Procurando\x20conversa','editflowblock','CHATS_DELETE','licenca','groupToggleEphemeral','status.instance','getOwnPropertyNames','data','updateOne','findByIdAndUpdate','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','dbSettings','keep-alive','lean','updateProfilePicture','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','PORT','SERVER','readMessageBot','sendStatus','allFlows','groupAcceptInvite','KEY','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','scheduled','parse','):\x20Falha\x20ao\x20deletar\x20mensagem.','):\x20customFieldVariables','#56ccb4',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','msgRetryCounterCache','setRestartTimeout','#f64847','<subdomain>','https','Read\x20messages','):\x20Limpando\x20AutomateSystem','joinGroup','findIndex','readData','global','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','):\x20Ignoring\x20group\x20messages.','findGroup','stopConversation','truncatedtoEnd','block','readFileSync','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','Cached\x20audio\x20found,\x20returning\x20existing\x20file','groupJid','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','quotedMessage','_remoteJid','JWT','):\x20isVote:\x20','Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done','vote','Erro\x20ao\x20remover\x20label\x20','getFlowModelForOwner','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','The\x20',':\x20IP\x20configurado:\x20','getTime','Validate','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','getFlow','local_map','):\x20Query\x20params:\x20','/message','https://ipinfo.io/json','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','loadproxy','displayName','https://uazapi-plugin.bubbleapps.io/','CacheContacts\x20database\x20connection\x20closed.','8080','connectToWhatsapp','ObjectId','Flow\x20iniciado\x20com\x20','app','Data\x20inválida\x20fornecida','sectionsToString','notify','charAt','PRESENCE_UPDATE','store','set','editConversation','):\x20Entrou\x20na\x20função\x20saveReply','http://ifconfig.me/ip','http','participant','findParticipants','condition','removeUnusedChatFields','localWebhook','Erro\x20ao\x20encerrar\x20a\x20API','\x1b[43m','Fluxo\x20agendado\x20pelo\x20fluxo\x20','Erro\x20ao\x20buscar\x20a\x20conversa','groups','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','findContacts','labels.association','entries','uazapiSendText','remove','findWebhook','editFlowVariable','editflowvaredit','Erro\x20ao\x20editar\x20o\x20chat','createAndSave','parseInt','CORS_METHODS','testProxy','events','profilePicture','getClient','groups_ignore','uazapiSendMenu','exports','messageTimestamp','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','stringify','send.message','):\x20lastBlockId:\x20','dropIndex',':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...','secondValue','subjectTime','Error\x20in\x20converting\x20audio','qrcode.updated','add','groupRequestParticipantsList','Conversa\x20deletada\x20com\x20sucesso.','birthtime','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','\x5c$&','TEXT','env.KEY\x20!==\x20key','[all]','font','URI','fetchInstances','role','PROXY','instanceName','The\x20\x22','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','urlOrBase64','18CQgXwR','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','/startFlow/:instance/:startID','defineAuthState','SSL_CONF_FULLCHAIN','request_method','url','pollOnReplyDelete','\x20minutos','basename','flushHeaders','notContains','flowActive','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','statusJidList','replaceVariables','startsWith','base64','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','leadInfo','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','\x20Tentativa\x20de\x20reconexão\x20','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','reconnectAttempts','originalUrl','editFlow','readFile','replyOptions','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','insertCount','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','Não\x20respondeu\x20com\x20a\x20enquete.','pop',',\x20Novo\x20tamanho:\x20','Erro\x20de\x20atualização:\x20','scheduleMessage','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','sign','exec','buttons','connecting','buttonId','\x20adicionado\x20ao\x20chat\x20','.ogv','pt-BR','autoCompleteMessages.command_1','.\x20Pulando.','delayMessage','CHATS_UPDATE','createflow','\x0aitem','drop','toNumber','MESSAGES_SET','createWebhook','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','lastCondition','.mp4','All_Instances_Config','variablesNotFound','stopIfLastReturnedError','https://api.openai.com/v1/images/generations','Certbot\x20executado\x20com\x20sucesso.','Business\x20profile\x20fetched','approve','editScheduleMessage','auth','/instance/connect','):\x20Error\x20processing\x20conditions:\x20','documentWithCaptionMessage','delaySecMin','menuExpiredMessage','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','chats.upsert','flattenObject','less','processvaredits','_Messages','):\x20newFirstValue\x20após\x20replaceVariables:','Erro\x20ao\x20arquivar\x20chat','Flow\x20iniciado','notas','sections','):\x20Enviando\x20texto','request\x20received\x20in\x20editConversation','processclearVariables','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','initAuthCreds','delAll','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','Last\x20message\x20not\x20found\x20for\x20number:','writeData','listen','\x0a{\x20instance:\x20','instance','updateStatusPrivacy','throwAndLogError','updateMessage','presence','Erro\x20ao\x20buscar\x20Schedule\x20Messages','/wa-all-message','etiquetas','^\x5cd+([-]\x5cd+)*@g.us$','jsonwebtoken','ORG:','spawn','lastReceivedMessage','creds.json','):\x20Editando\x20condição\x20do\x20fluxo...','.doc','HOST','flowConversation','.txt','saveConversationToDatabase','webp','picture','firstValue','defineProperty','\x0aFN:','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','Variável\x20não\x20encontrada!','owner','Types','waitingMenu_id','fetchConversation','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','closeExistingConversations','buttonMessage','inner','.jpg','/wa-chats','FULLCHAIN','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','MESSAGES_UPDATE','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','email','min','):\x20Fluxos\x20não\x20estão\x20ativados','findOne','compression','Rótulo\x20inválido\x20ou\x20sem\x20ID.','):\x20Conversa\x20atualizada\x20em\x20memória','Content\x20is\x20required','startFlow','importChats','execSync','ephemeralDuration','findFlow','Cannot\x20','sendSticker','none','\x20tentativas.','child_process','Subscribed\x20Events:','Instância\x20não\x20encontrada.','https://jsonip.com','audio/ogg','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','groupParticipantsUpdate','group-participants.update','getOwnPropertyDescriptor','?timestamp=','Erro\x20ao\x20editar\x20o\x20bloco:\x20','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','sendDataWebhook','delay','/media','REDIS','remoteJids','matchRegex','\x1b[34m','dbConnection','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','processing_id','SERVER_ACK','MESSAGES_UPSERT','):\x20Rótulo\x20atualizado:\x20','collection','lastUpdate','\x1b[47m','2665644NTOSNJ','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','Mac\x20OS','value','cpf','locationMessage','requestPairingCode','hGet','):\x20não\x20encontrou','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','\x1b[33m','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','saveMediaToFile','Fluxos\x20não\x20estão\x20ativados','next_groupId','processPollUpdateMessage','scheduleSendText','Erro\x20ao\x20importar\x20chats','startID','connectionUpdate','groupRequestParticipantsUpdate','getMIMEType','RemoteJid:','processgoToFlow','class-validator','unknown\x20operation\x20type\x20[','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','shutdown\x20-r\x20now','findById','-instances','mentioned','Processing\x20audio','#ffae04','request\x20body:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20messages.upsert','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','envYaml','):\x20Enviando\x20enquete','documentMessage','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','createConnection','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','\x1b[33m%s\x1b[0m','request\x20received\x20in\x20editFlowcondition','padStart','uazapiSendAudio','\x20->\x20CONFIRMADO.','Esse\x20fluxo\x20expirou','notMatchRegex','rows','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','request\x20received\x20in\x20updateAutoCompleteMessages','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','GROUP_PARTICIPANTS_UPDATE','memberAddMode','keyPattern','text','authService','Conexão\x20estabelecida','createNewConversation','StartBot','creation','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','createGroup','Cache-Control','Invalid\x20format','):\x20this.processing_id:\x20','removeData','\x22\x20-\x20NOT\x20CONNECTION','Error\x20updating\x20message\x20status:','request\x20received\x20in\x20editFlowgroup','certonly','./.git/config','\x20is\x20already\x20in\x20use.','/instance/fetchInstances','use','getStatus','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','getContactModelForOwner','status','HttpsProxyAgent','AUTHENTICATION_JWT_EXPIRIN_IN','.docx','closed','flowConfig','Authentication\x20error','getLabelModelForOwner','headers','request\x20received\x20in\x20editFlow','includes','This\x20name\x20','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','updateGParticipant','A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','blockId','logger','/:instanceName','uazapiSendMedia','filter',',\x20isAdmin:\x20','/events','createConversationforStartFlow','resetReconnectionVariables','\x20->\x20NÃO\x20CORRESPONDE.','ms\x20(tentativa\x20','chatId','request\x20received\x20in\x20editFlowvariable','Image\x20path:\x20','\x22\x20-\x20REMOVED','groupMetadata','Error\x20in\x20chatModify\x20for\x20number\x20','findGroupInfo','lowerCase','createConversationforgoToFlow','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','__esModule','/instance','unlinkSync','NextBlock','\x1b[33m\x1b[1m','interval\x20não\x20é\x20um\x20número','privacySettings','isInteger','isJidBroadcast','$dbName','groupLeave','updateAgent','sort','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','error\x20get\x20vote','labelId','getHours','replaceValue','lastMessage','HeaderType','dbInstance','validate','phoneNumber','request\x20received\x20in\x20starFlow','STATUS_INSTANCE','reference','inviteCode','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','):\x20Edit\x20schedule\x20message...','sendMessage','object','data:\x20','desc','):\x20Error\x20processing\x20the\x20block:\x20','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','authModel','/wa-groups','errors','description','INFO','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','Erro\x20ao\x20editar\x20agentes','sem\x20texto\x20na\x20mensagem','Valor\x20inicial:\x20\x22','PASSWORD','lastInteraction','isLong','\x0a*Você\x20respondeu*:\x0a','):\x20\x27Deletando\x20fluxo,\x20name:\x20','REDIS_PREFIX_KEY','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','Notifying\x20clients\x20for\x20chat:\x20','editedMessage','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','\x20minutos\x20verificará\x20novas\x20mensagens','):\x20Deletando\x20conversa...','findAndReplaceRegex','):\x20Bloco\x20copiado:\x20','authorization','audio','fileUrl','SINGLE_SELECT','The\x20global\x20api\x20key\x20must\x20be\x20set','\x20e\x20proprietário\x20','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','checkAndRestartProcess','dark','importChatsBatch','LabelModel','.TEL;waid=','DB_PREFIX_NAME','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','Erro\x20ao\x20aplicar\x20varedit:\x20','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','demote','refused','notEmpty','groupMemberAddMode','enabled','eventemitter2','poll',',\x20data:\x20','public','prepareMediaMessage','):\x20Criou\x20conversa\x20no\x20startFlow','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','verbose','ON\x20-\x20dbName:\x20','Db\x20Connection','replaceVariablesInReplyOptions','reviver','replaceVariablesInObject','sendPresenceUpdate','node-mime-types','CONTACTS_UPDATE','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','count','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','):\x20Editando\x20replyOption...','webhook','contacts.update','replace','emit','DATABASE_CONNECTION_HOST','groupSettingUpdate','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','Router','ReplyOption\x20com\x20ID\x20','PRIVKEY','insert','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','fetchLatestBaileysVersion','getBase64FromMediaMessage','goNextblock','array','g-t','\x20\x1b[0m','):\x20Buscando\x20todos\x20os\x20fluxos...','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','\x22\x20not\x20found','sending','copy','exists','listType','_Chats','pollCreationMessage','connectedName','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','authState','iniciando\x20fluxo\x20router','waitingMenu_ExpiredMessage','chats.update','/wa-qrcode','updateGParticipate','#ffffff','flow','Hash\x20to\x20image\x20name:\x20','width','\x1b[30m','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','no.connection','updateChatGroupData','stdout','flush','Not\x20Found','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','ephemeralMessage','\x20minutos...','optionName','pairingCode','messageHandle','header','findLabels','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','userDevicesCache','Comando\x20desconhecido','TEL','getChatModelForOwner','):\x20A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','push','\x20-y','RemoveChatLabel','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','maxActives','moreLogs','AutomateSystem','redirect',',\x20fará\x20nova\x20verificação\x20em\x20','):\x20Chat\x20','available','Connection','redisEnv','mentions','):\x20Mensagem\x20recuperada\x20após\x20','waitingMenu_text','uazapiDeleteMessage','menuIgnoreNonVotes','editFlowVaredit','lastSend','):\x20Enviando\x20contato','menuMessage','start','request\x20received\x20in\x20getConversation','logout','.pdf','timeout','options','empty','config','pino','updateMediaMessage','isListOfNumbers','bodyStringErrorParse','useMultiFileAuthState','test','sendText','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','enviado\x20para','nome','DELETED','folder','namespace','groupHandler','updateMissingTags','Erro\x20do\x20Certbot:\x20','URL','getBusinessProfile','API_KEY','_pushName','):\x20Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','_Labels','bearer','protocolMessage','50mb','now','#64c4ff','Type\x20is\x20required','Error\x20in\x20scheduleNextCheck:\x20','upperCase','Erro\x20ao\x20atualizar\x20o\x20fluxo:','temp-','18rYiopw','rm\x20-rf\x20','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','saveVariable','.url','):\x20nextBlock.uazapi.name','lastSendMessage','express','archiveChat','imageMessage','jwt','ListType','SEND_MESSAGE','processUazapi','webhookModel','join','sendAudio','/webhook','deleteChat','updatePrivacySettings','):\x20','Module\x20-\x20ON','revokeInviteCode','findAndReplace','Error\x20fetching\x20group','fetchProfilePicture','CONECTADO\x20À\x20UAZAPI','convertaudioMP3','Safari','repository','CONTACTS_UPSERT','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','Erro\x20de\x20reinicialização:\x20',':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...','updateReadReceiptsPrivacy','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','allflows','Output\x20path:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','insertMany','pollCreationMessageKey','where','Chat\x20com\x20ID\x20','Database\x20connection\x20closed.','Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','realVariables','updateStopChat','Instância:\x20','Instance\x20Key\x20from\x20DB:','\x20contacts','verifyWhatsAppNumber','caption','imported','indexOf','chatHandle','isBusiness','conversation','method','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','Last\x20message\x20not\x20found','contacts','?authSource=admin&readPreference=primary&directConnection=true','DATABASE_CONNECTION_DB_PREFIX_NAME','cachedData-whatsapp','Imagem\x20não\x20encontrada','match_last_seen','DOCKER_ENV','METHODS','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','editOperator','footerText','CONTACTS_SET','label','promote','Not\x20is\x20business\x20profile','Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome','-whatsapp-api','\x1b[32m','last','/wa-presence','_ScheduleMessages','393663ZTiiqF','values','ERROR','sendContact','deleteReplyOption','valid','menuType','variable','stanzaId','nomecompleto','\x1b[31m','getScheduleMessage','.webp','messages','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','params','deleteOne','Error\x20while\x20deleting\x20message\x20for\x20everyone','processblock','CLEANING_INTERVAL','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','scheduleSendMedia','sendList','loadInstance','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','AddChatLabel','connection.update','client','isConnected','Falta\x20informação\x20para\x20a\x20chamada\x20API','ScheduleMessage','1087086FMKQAx','createJid','fullName','/clients-info','groupValidate','\x1b[41m','):\x20Editando\x20edição\x20do\x20fluxo...','NO_IP','senderKeyDistributionMessage','mediaMessage','beforeExit','sendWhatsAppAudio','fetchBusinessProfile','replaceVariablesLogs','webhookService','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','editflow','groupSetting','editflowgroup','and','mediaKey','Connection\x20closed\x20for\x20instance:\x20','unreadcount','getLastMessage','getUpdate','audioMessage','waMonitor','):\x20Buscando\x20flow,\x20name:\x20','DELIVERY_ACK','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','Sistema\x20atualizado\x20com\x20sucesso!','Flow\x20não\x20encontrado','sendMessageAck','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','getScheduleMessageModelForOwner','chats','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','padEnd','updateMissingEtiquetas','slice','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','allContacts','removeOlderDisconnectedInstances','connectedClient','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','send','all','):\x20atualização\x20chat:\x20','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','editChat','digest','messages.update','sticker','restart','CREDENTIALS','isJidGroup','Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','hGetAll','Erro\x20ao\x20deletar\x20chat:','existsSync','DisconnectReason','telefone','certbot','Esse\x20fluxo\x20é\x20global,\x20para\x20deletá-lo\x20você\x20precisa\x20ser\x20o\x20criador\x20ou\x20usar\x20a\x20apikey\x20global',',\x20canSendMessage:\x20','sharp','blockLogs','ex:\x20\x22groupJid=120362@g.us\x22','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','@whiskeysockets/baileys','process','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','whatsappNumber',',\x20Segundo\x20Valor:\x20','startFlowWebhook','prepareWAMessageMedia','):\x20expirationTime:\x20','--agree-tos','load','Erro\x20ao\x20iniciar\x20o\x20fluxo.','status@broadcast','):\x20Erro\x20ao\x20tentar\x20recuperar\x20a\x20mensagem.\x20Tentativa\x20','viewOnceMessageV2','stderr','sendReaction','participants','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','post','connect','contentText','express-async-errors','content','string','joinGroupValidate','VERBOSE',',\x20valor\x20passado:\x20\x22','call','fetchLabels','readMessages','detail','Erro\x20ao\x20deletar\x20a\x20conversa','modifiedCount','HH:mm:ss','awaitingApproval','undefined','Erro\x20ao\x20tentar\x20autoCompleteMessages','action','22203270WyGaNU','wuid','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','fetchPrivacySettings','enumerable','connectToWhatsappController','static','readMessage','getConversationModelForOwner','Erro\x20ao\x20atualizar\x20o\x20flow.','\x20não\x20encontrado.','_Contacts','/create','webhookMap','inviteCodeDetails','_Flows','_error','cache','69238ZquUgX','Message\x20absent\x20from\x20node','message_normalized','\x20removido\x20do\x20chat\x20','release','reconnectTimestamps','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','leadInfo.','processawaitSeconds','newStoppedUntil','profile','hbs','editflowreply','WARN','option','/config','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','STORE_CHATS','not\x20loaded','pollMessage','choices','online','\x1b[37m','/instance/delete','write','varedit','copyBlock','addChatLabel','delayChatLabel','exit','true','command','DD/MM\x20HH:mm:ss','Erro\x20ao\x20tentar\x20updateCustomFields','AutomateFunctions','updateProfilePicturePrivacy','Falha\x20ao\x20processar\x20a\x20solicitação','/media/','announce','bodyString','editflowcondition','):\x20mediaMessageInfoId\x20:\x20','):\x20Grupo\x20',']\x20(','SSL_CONF','ScheduleMessageModel','query','pollMessageOnDelete','readreceipts','mongodb://','Variáveis\x20não\x20encontradas:','restartInstance','Button\x20texts\x20cannot\x20be\x20repeated','entrou\x20na\x20função\x20de\x20sincronizar\x20fluxos','chats.set','Bloco\x20com\x20ID\x20','../env.yml','@broadcast','latitude','DATABASE_CONNECTION_USER','DATABASE','Fluxo\x20não\x20encontrado','stickerMessage','bateu\x20events','groupdata','encoding','getMessage','\x1b[40m','reorderBlocks','numbers','request\x20received\x20in\x20deleteDoneMessages','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','deleteDoneMessages','chatLog','ContactsAndGroups','Message\x20not\x20found','PREFIX_KEY','):\x20debug\x20alterando\x20this.AutomateSystem','split','changeVariables','unavailable','Mensagens\x20deletadas\x20com\x20sucesso.','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','hasOwnProperty','node-cache','createInstance','sendButtons','unlocked','stopMinutesMaxActives','formatBRNumber','false','stopWhenYouSendMsg','$set','locked',':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20','remoteJid','reactionMessage','imagechat','Mensagem\x20não\x20suportada','uuid','getAutomateSystem','#d3a91f','getPrototypeOf','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','findConversation','getAllData','warn','json','findGroups','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','oldToken','response','toArray','save','contactHandle','.type','listMessage','API\x20Key\x20inválida.','groupId','LICENSE_INVALID','normalizeMessageContent','70456nrnktl',',\x20saindo.','backgroundColor','updateMany','getflow','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','generateHash','getRandomText','findOrCreate','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','label_jid','Converted\x20image\x20deleted','not_announcement','AUTHENTICATION','/*.json','audioWhatsapp','Bad\x20Request','sha256','when','Delete\x20chat','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','InstancesAlterarTodas','headerString','limit','match','varedits','deleteConversation','truncatedto','Erro\x20ao\x20inserir\x20chats:','dataValidate','#01d0e2','_id','AUTHENTICATION_JWT_SECRET','https://chat.whatsapp.com/','stateConnection','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','isURL','apiResponse','isArray','_activedCount','Temp\x20image\x20deleted','getProfileName','dbClient','Audio\x20converted\x20and\x20stored\x20in\x20cache','autoCompleteMessages.command','subjectOwner','currency','blocks','editFlowBlock','convertaudio','\x1b[37m%s\x1b[0m','.xlsx','The\x20property\x20cannot\x20be\x20empty','Image\x20is\x20base64','redis://127.0.0.1:6379','contact_blacklist','groups.update','processConditions','Error\x20parsing\x20JSON:','reorderReplyOptions','flowPrefixCommand','some','TYPE','):\x20leadInfoVariables','tags','):\x20Enviando\x20localização','):\x20Going\x20to\x20','Message','whatsappNumbers','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','ChatModel','jid','1254810KGYzwn','\x20não\x20encontrado\x20para\x20cópia','key','):\x20Flow\x20não\x20encontrado','request\x20received\x20in\x20updateFlowConfig','router','badSession','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','arrayUnique','\x5cd+','isRunning','Deleted\x20','close','stopMinutes','title','\x20horas\x20e\x20','setting','put','shareOwners','message','activatedCount','instance.','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','Selecione','quoted','uazapi','rowId','forEach','sync','createRegularFlow','updateReplyOption','Desconectado,\x20parando\x20execução.','ConversationModel','hex',',\x20Expiration\x20Time:\x20','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','announcement','evaluateCondition','GROUPS_UPDATE','remove.instance','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','eventHandler','):\x20Buscando\x20conversa...','importChatsAntigo','groupRevokeInvite','instanceKeys','AutomateSystem\x20não\x20foi\x20inicializado','CHATS_SET','updateProfileName','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','keys','sendMedia','onWhatsApp','!stop','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','generateWAMessageFromContent','pictureUrl','apiName','media','waitingForReplyMenu','delayChatLabel_MAX_RETRIES','\x20ao\x20chat\x20','PLAYED','writeFileSync','addBlock','uazapiSendContact','updatePresence','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','https://api.ipify.org?format=json','sendLocation','off','READ','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','configService','/chat','messaging-history.set','sendMessageWithTyping','):\x20conversation.lastInteraction:\x20','loggedOut','presenceSubscribe','Documento\x20com\x20ID\x20','--standalone','toBRL','Erro\x20ao\x20alterar\x20privacidade','http://checkip.dyndns.org','findChats','isAdmin','messageId','\x20inseridos\x20no\x20banco\x20de\x20dados...','cleanStore','):\x20transformedCustomFieldVariables','connectionClosed','WA\x20MODULE','fromMe','The\x20instance\x20needs\x20to\x20be\x20disconnected','splice','):\x20[messages.upsert]\x20group\x20ignored','#ffc5c7','\x20-i\x20','groupJoinApprovalMode','):\x20Criando\x20fluxo\x20compartilhado...','Número:\x20','fromObject','toString','output','lastDisconnect','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','.mp3','instancias:\x20','view\x20engine','CONNECTION','qrcode','deleteMany','):\x20Buscando\x20flow...','Converting\x20image\x20to\x20WebP\x20to\x20sticker','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','views','messageType','agents','utf8','Request\x20Body:','updateGroupParticipantsWebhook','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','apirequest','):\x20Bloco\x20com\x20ID\x20','/wa-message-update','groupGetInviteInfo','Image\x20created','fetchProfile','stoppedUntil','Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.','Removidas\x20as\x20variáveis:\x20','\x20instance\x20does\x20not\x20exist','updateBlock','height','chats.delete','MAX_RECONNECT_ATTEMPTS','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','instances','editFlowCondition','downloads','#9568cf','env.yml','verify','apikey','sendPoll','editFlowReply','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','Content-Type','GET','awaitSeconds','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','boolean','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','groupCreate','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','/instance/create','messageContextInfo','fileName','has','mongodb','size','updateAutoCompleteMessages','\x20não\x20encontrado','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','.fileUrl','get','equal','):\x20Campos\x20a\x20serem\x20atualizados:','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','getConversation','.ogg','CHATS_UPSERT','presence.update','):\x20Criando\x20nova\x20conversa[createNewConversation]','*Pergunta*:\x20\x0a','LOG_COLOR','findByIdAndDelete','):\x20alterando\x20this.AutomateSystem','mimetype','updateFlowConfig','remote\x20\x22origin\x22','SendScheduleMessage','max','deleteMessageForEveryone','updateConversation','lastBlockId','contactMessage','noConnection','DATABASE_CONNECTION_PASSWORD','):\x20Usando\x20extensão\x20padrão:\x20','createHash','Pausado\x20por\x20','subdomain','pollUpdateMessage','/instance/connectionState','*\x0a\x0a','):\x20delete\x20=\x20true','endsWith','ListMessage','console','updateLastSeenPrivacy','Image\x20is\x20url','pollErrorMessage','toDataURL','connectionStatus','.xls','buffer','replaceVariablesChat','CORS_ORIGIN','admin','Missing\x20global\x20api\x20key','removed','viewOnceMessage','color','list','update','qrCode','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','loadWebhook','scheduleNextCheck','order','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','\x20minutos.\x20Será\x20às\x20','LOG','statusMessage','updateGroupWebhook','@g.us','Operador:\x20\x22','\x1b[0m','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message','Valor\x20de\x20find\x20ou\x20replace\x20ausente','image','contacts.upsert','integer','routerPath','markMessageAsRead','messagesSend','cwd','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence',',\x20apikey:\x20','findOneAndUpdate','arraybuffer','.mimetype','CORS','substring','_fromMe','https://uazapi-plugin.bubbleapps.io/?url=','profilePictureUrl','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','applyvaredit','updateProfileStatus','Trying\x20to\x20get\x20business\x20profile','remoteJidsRemaining','Database\x20is\x20not\x20enabled','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','Erro\x20ao\x20remover\x20instâncias\x20antigas:','deleted','oldValue','env','archived','.wav','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','ephemeralExpiration','recording','Erro\x20ao\x20criar\x20fluxo\x20regular','flowStopConversation','result','linkPreview','GROUPS_UPSERT','DEBUG','floor','.gif','eventEmitter','getMessageModelForOwner','editFlowGroup','/wa-message','addReplyOption','sleep','longitude','desativadoFluxoAte','getVariablesChat','contact','chatModify','Sending\x20audio\x20whatsapp','random','last_update','PENDING','getTicketSystem','StartID:','):\x20Query\x20params:','updateChatWithMessage','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','processApiRequest'];a0_0x35e2=function(){return _0x127205;};return a0_0x35e2();}function ei(_0x75a828,_0x346e3f){return new Promise((_0x42c8d9,_0x512828)=>{const _0x109200=a0_0x5d27;let _0x3c6681=(0x0,Fe[_0x109200(0x2b7)])(_0x109200(0x50c),[_0x109200(0x34b),_0x109200(0x65f),'-m',_0x75a828,_0x109200(0x51b),'-d',_0x346e3f]);_0x3c6681[_0x109200(0x40a)]['on'](_0x109200(0x1bb),_0x1a079b=>{const _0x168f60=_0x109200;console[_0x168f60(0x15d)](_0x168f60(0x76c)+_0x1a079b[_0x168f60(0x675)]());}),_0x3c6681['stderr']['on'](_0x109200(0x1bb),_0x2544a5=>{const _0x10171d=_0x109200;console[_0x10171d(0xdb)](_0x10171d(0x44a)+_0x2544a5[_0x10171d(0x675)]());}),_0x3c6681['on']('close',_0x3acb34=>{const _0x57edb9=_0x109200;_0x3acb34!==0x0?(console[_0x57edb9(0xdb)](_0x57edb9(0x32c)+_0x3acb34),_0x512828(_0x57edb9(0x32c)+_0x3acb34)):(console[_0x57edb9(0x15d)](_0x57edb9(0x28b)),_0x42c8d9());});});}function ti(_0x4dd53d=0x32){const _0x5ffb0=a0_0x29ff78;let _0x218a3f=_0x5ffb0(0x688),_0x1da613='';for(let _0xe2c4b1=0x0;_0xe2c4b1<_0x4dd53d;_0xe2c4b1++)_0x1da613+=_0x218a3f['charAt'](Math[_0x5ffb0(0x71e)](Math['random']()*_0x218a3f[_0x5ffb0(0x78c)]));return _0x1da613;}function si(){const _0x4ccffb=a0_0x29ff78;(0x0,Fe[_0x4ccffb(0x273)])(_0x4ccffb(0x31e),(_0x40582e,_0x4587af,_0x11a6e5)=>{const _0x5dc2e4=_0x4ccffb;if(_0x40582e){console[_0x5dc2e4(0xdb)]('Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20'+_0x40582e);return;}if(_0x11a6e5){console[_0x5dc2e4(0xdb)](_0x5dc2e4(0x47c)+_0x11a6e5);return;}console[_0x5dc2e4(0x15d)]('Reinicialização\x20iniciada:\x20'+_0x4587af);});}0x0&&(module[a0_0x29ff78(0x22d)]={'subdomain':subdomain});