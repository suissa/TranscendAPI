const a0_0x32ece7=a0_0x1b9c;(function(_0x244cec,_0x57df7b){const _0x5b8732=a0_0x1b9c,_0x1dbac0=_0x244cec();while(!![]){try{const _0x31e4b6=-parseInt(_0x5b8732(0x17a))/0x1+-parseInt(_0x5b8732(0x5fb))/0x2+-parseInt(_0x5b8732(0x248))/0x3+parseInt(_0x5b8732(0x701))/0x4*(-parseInt(_0x5b8732(0x570))/0x5)+parseInt(_0x5b8732(0x393))/0x6*(-parseInt(_0x5b8732(0x407))/0x7)+parseInt(_0x5b8732(0x66b))/0x8*(parseInt(_0x5b8732(0x510))/0x9)+parseInt(_0x5b8732(0x43c))/0xa;if(_0x31e4b6===_0x57df7b)break;else _0x1dbac0['push'](_0x1dbac0['shift']());}catch(_0x5c422f){_0x1dbac0['push'](_0x1dbac0['shift']());}}}(a0_0x5e9a,0xb63b1));var Lo=Object[a0_0x32ece7(0x176)],Ls=Object['defineProperty'],Uo=Object[a0_0x32ece7(0x56a)],Vo=Object[a0_0x32ece7(0x269)],jo=Object[a0_0x32ece7(0x633)],Bo=Object[a0_0x32ece7(0x34e)][a0_0x32ece7(0x5c6)],Fo=(_0x154206,_0x30eb86,_0x33bdf5,_0xb602aa)=>{const _0x26b0d7=a0_0x32ece7;if(_0x30eb86&&typeof _0x30eb86==_0x26b0d7(0x171)||typeof _0x30eb86==_0x26b0d7(0x5b7)){for(let _0x5c9aa0 of Vo(_0x30eb86))!Bo[_0x26b0d7(0x2f6)](_0x154206,_0x5c9aa0)&&_0x5c9aa0!==_0x33bdf5&&Ls(_0x154206,_0x5c9aa0,{'get':()=>_0x30eb86[_0x5c9aa0],'enumerable':!(_0xb602aa=Uo(_0x30eb86,_0x5c9aa0))||_0xb602aa[_0x26b0d7(0x403)]});}return _0x154206;},T=(_0xcaad32,_0x453363,_0x5f2e54)=>(_0x5f2e54=_0xcaad32!=null?Lo(jo(_0xcaad32)):{},Fo(_0x453363||!_0xcaad32||!_0xcaad32['__esModule']?Ls(_0x5f2e54,a0_0x32ece7(0x490),{'value':_0xcaad32,'enumerable':!0x0}):_0x5f2e54,_0xcaad32)),Io=T(require(a0_0x32ece7(0x5e6))),Vs=require('fs'),js=require(a0_0x32ece7(0x151)),Bs=require(a0_0x32ece7(0x533)),Ue=require(a0_0x32ece7(0x533)),z=process[a0_0x32ece7(0x31b)](),V=(0x0,Ue[a0_0x32ece7(0x2c3)])(z,a0_0x32ece7(0x3fb)),Us=(0x0,Ue[a0_0x32ece7(0x2c3)])(z,a0_0x32ece7(0x451)),Qt=(0x0,Ue['join'])(z,'store',a0_0x32ece7(0x1b6)),Fs=require(a0_0x32ece7(0x3b4)),Yt=class{constructor(){this['loadEnv']();}[a0_0x32ece7(0x5de)](_0xd9e1e6){const _0x4ed668=a0_0x32ece7;return this[_0x4ed668(0x42b)][_0xd9e1e6];}[a0_0x32ece7(0x64c)](){const _0x2e993c=a0_0x32ece7;this[_0x2e993c(0x42b)]=process['env']?.[_0x2e993c(0x453)]!==_0x2e993c(0x3b3)?this[_0x2e993c(0x1de)]():this['envProcess'](),this[_0x2e993c(0x42b)][_0x2e993c(0x425)]=process[_0x2e993c(0x42b)]?.[_0x2e993c(0x5c8)]===_0x2e993c(0x698),process['env']?.[_0x2e993c(0x453)]==='true'&&(this[_0x2e993c(0x42b)]['SERVER'][_0x2e993c(0x6b4)]=_0x2e993c(0x568),this[_0x2e993c(0x42b)][_0x2e993c(0x522)][_0x2e993c(0x276)]=Number[_0x2e993c(0x42f)](process[_0x2e993c(0x42b)]?.[_0x2e993c(0x200)]??_0x2e993c(0x4ae)));}[a0_0x32ece7(0x1de)](){const _0x46302b=a0_0x32ece7;return(0x0,js[_0x46302b(0x25d)])((0x0,Vs[_0x46302b(0x6af)])((0x0,Bs[_0x46302b(0x2c3)])(Us,_0x46302b(0x15d)),{'encoding':_0x46302b(0x27e)}));}['envProcess'](){const _0x56b596=a0_0x32ece7;return{'SERVER':{'TYPE':process[_0x56b596(0x42b)]['SERVER_TYPE'],'PORT':Number[_0x56b596(0x42f)](process[_0x56b596(0x42b)]['SERVER_PORT'])},'CORS':{'ORIGIN':process[_0x56b596(0x42b)][_0x56b596(0x4a2)][_0x56b596(0x294)](','),'METHODS':process[_0x56b596(0x42b)][_0x56b596(0x179)]['split'](','),'CREDENTIALS':process[_0x56b596(0x42b)]?.['CORS_CREDENTIALS']===_0x56b596(0x3b3)},'SSL_CONF':{'PRIVKEY':process[_0x56b596(0x42b)]?.[_0x56b596(0x1a1)],'FULLCHAIN':process[_0x56b596(0x42b)]?.[_0x56b596(0x3f3)]},'STORE':{'CLEANING_INTERVAL':Number[_0x56b596(0x31c)](process[_0x56b596(0x42b)]?.['STORE_CLEANING_TERMINAL'])?Number[_0x56b596(0x42f)](process[_0x56b596(0x42b)][_0x56b596(0x199)]):void 0x0,'MESSAGES':process[_0x56b596(0x42b)]?.[_0x56b596(0x2dd)]===_0x56b596(0x3b3),'CONTACTS':process[_0x56b596(0x42b)]?.[_0x56b596(0x291)]===_0x56b596(0x3b3),'CHATS':process[_0x56b596(0x42b)]?.[_0x56b596(0x5fd)]===_0x56b596(0x3b3)},'DATABASE':{'CONNECTION':{'HOST':process['env']?.[_0x56b596(0x5bf)],'PORT':Number[_0x56b596(0x42f)](process[_0x56b596(0x42b)]?.['DATABASE_CONNECTION_HOST']),'USER':process[_0x56b596(0x42b)]['DATABASE_CONNECTION_USER'],'PASSWORD':process[_0x56b596(0x42b)][_0x56b596(0x6ea)],'URI':process[_0x56b596(0x42b)][_0x56b596(0x153)],'DB_PREFIX_NAME':process['env']['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process[_0x56b596(0x42b)]?.['DATABASE_ENABLED']==='true'},'REDIS':{'ENABLED':process['env']?.[_0x56b596(0x569)]===_0x56b596(0x3b3),'URI':process['env'][_0x56b596(0x5bd)],'PREFIX_KEY':process[_0x56b596(0x42b)][_0x56b596(0x469)]},'LOG':{'LEVEL':process[_0x56b596(0x42b)]?.[_0x56b596(0x496)][_0x56b596(0x294)](','),'COLOR':process[_0x56b596(0x42b)]?.[_0x56b596(0x52b)]===_0x56b596(0x3b3)},'DEL_INSTANCE':(0x0,Fs[_0x56b596(0x376)])(process[_0x56b596(0x42b)]?.['DEL_INSTANCE'])?process[_0x56b596(0x42b)][_0x56b596(0x5c1)]==='true':Number[_0x56b596(0x42f)](process[_0x56b596(0x42b)][_0x56b596(0x5c1)])||!0x1,'WEBHOOK':{'WEBHOOK_MAP':process[_0x56b596(0x42b)][_0x56b596(0x5a3)]?process['env']['WEBHOOK_MAP']===_0x56b596(0x3b3):!0x1,'GLOBAL':{'URL':process[_0x56b596(0x42b)]?.[_0x56b596(0x4ee)],'ENABLED':process[_0x56b596(0x42b)]?.['WEBHOOK_GLOBAL_ENABLED']===_0x56b596(0x3b3)},'EVENTS':{'STATUS_INSTANCE':process['env']?.[_0x56b596(0x63f)]===_0x56b596(0x3b3),'QRCODE_UPDATED':process['env']?.['WEBHOOK_EVENTS_QRCODE_UPDATED']==='true','MESSAGES_SET':process['env']?.[_0x56b596(0x6db)]===_0x56b596(0x3b3),'MESSAGES_UPSERT':process[_0x56b596(0x42b)]?.[_0x56b596(0x580)]==='true','MESSAGES_UPDATE':process[_0x56b596(0x42b)]?.[_0x56b596(0x3dd)]==='true','SEND_MESSAGE':process[_0x56b596(0x42b)]?.[_0x56b596(0x217)]===_0x56b596(0x3b3),'CONTACTS_SET':process[_0x56b596(0x42b)]?.['WEBHOOK_EVENTS_CONTACTS_SET']===_0x56b596(0x3b3),'CONTACTS_UPDATE':process[_0x56b596(0x42b)]?.[_0x56b596(0x4f9)]===_0x56b596(0x3b3),'CONTACTS_UPSERT':process[_0x56b596(0x42b)]?.[_0x56b596(0x6c0)]===_0x56b596(0x3b3),'PRESENCE_UPDATE':process[_0x56b596(0x42b)]?.['WEBHOOK_EVENTS_PRESENCE_UPDATE']===_0x56b596(0x3b3),'CHATS_SET':process[_0x56b596(0x42b)]?.['WEBHOOK_EVENTS_CHATS_SET']===_0x56b596(0x3b3),'CHATS_UPDATE':process[_0x56b596(0x42b)]?.[_0x56b596(0x700)]===_0x56b596(0x3b3),'CHATS_UPSERT':process[_0x56b596(0x42b)]?.[_0x56b596(0x6b9)]==='true','CHATS_DELETE':process[_0x56b596(0x42b)]?.[_0x56b596(0x1fe)]==='true','CONNECTION_UPDATE':process[_0x56b596(0x42b)]?.[_0x56b596(0x35b)]===_0x56b596(0x3b3),'GROUPS_UPSERT':process['env']?.[_0x56b596(0x54d)]==='true','GROUP_UPDATE':process[_0x56b596(0x42b)]?.['WEBHOOK_EVENTS_GROUPS_UPDATE']===_0x56b596(0x3b3),'GROUP_PARTICIPANTS_UPDATE':process['env']?.['WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE']===_0x56b596(0x3b3),'NEW_JWT_TOKEN':process['env']?.[_0x56b596(0x6fa)]==='true'}},'CONFIG_SESSION_PHONE':{'CLIENT':process[_0x56b596(0x42b)]?.[_0x56b596(0x57d)]||_0x56b596(0x563),'NAME':process[_0x56b596(0x42b)]?.[_0x56b596(0x1d3)]||_0x56b596(0x680)},'QRCODE':{'LIMIT':Number[_0x56b596(0x42f)](process[_0x56b596(0x42b)][_0x56b596(0x4e3)])||0x5},'TRIAL_AD':process[_0x56b596(0x42b)]?.[_0x56b596(0x694)],'TRIAL_INSTANCE_NAME':process[_0x56b596(0x42b)]?.['TRIAL_INSTANCE_NAME'],'AUTOUPDATE':process[_0x56b596(0x42b)]?.[_0x56b596(0x566)]===_0x56b596(0x3b3),'PHONE':process['env']?.[_0x56b596(0x3a2)],'AUTHENTICATION':{'TYPE':process[_0x56b596(0x42b)][_0x56b596(0x3d0)],'API_KEY':{'KEY':process[_0x56b596(0x42b)][_0x56b596(0x44f)]},'JWT':{'EXPIRIN_IN':Number['isInteger'](process[_0x56b596(0x42b)]?.[_0x56b596(0x61b)])?Number[_0x56b596(0x42f)](process['env']['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process[_0x56b596(0x42b)][_0x56b596(0x37c)]}}};}},y=new Yt(),Do=T(require(a0_0x32ece7(0x6ef))),me=T(require(a0_0x32ece7(0x2ed))),Ps=require(a0_0x32ece7(0x533)),Xt=T(require(a0_0x32ece7(0x452))),Zt=(_0x2b4618=>(_0x2b4618[a0_0x32ece7(0x16b)]=a0_0x32ece7(0x26e),_0x2b4618[a0_0x32ece7(0x5cd)]=a0_0x32ece7(0x2f7),_0x2b4618['WARN']=a0_0x32ece7(0x334),_0x2b4618[a0_0x32ece7(0x43e)]=a0_0x32ece7(0x32c),_0x2b4618[a0_0x32ece7(0x281)]=a0_0x32ece7(0x3a9),_0x2b4618[a0_0x32ece7(0x21b)]=a0_0x32ece7(0x52e),_0x2b4618[a0_0x32ece7(0x1c1)]='\x1b[30m',_0x2b4618))(Zt||{}),Gs=(_0x55ecbb=>(_0x55ecbb[a0_0x32ece7(0x16b)]='\x1b[32m%s\x1b[0m',_0x55ecbb[a0_0x32ece7(0x1c1)]='\x1b[30m%s\x1b[0m',_0x55ecbb['INFO']=a0_0x32ece7(0x3ae),_0x55ecbb[a0_0x32ece7(0x574)]=a0_0x32ece7(0x58e),_0x55ecbb[a0_0x32ece7(0x43e)]=a0_0x32ece7(0x69c),_0x55ecbb['DEBUG']=a0_0x32ece7(0x6e7),_0x55ecbb[a0_0x32ece7(0x21b)]=a0_0x32ece7(0x1d5),_0x55ecbb))(Gs||{}),Js=(_0x19fe4e=>(_0x19fe4e[a0_0x32ece7(0x16b)]='LOG',_0x19fe4e[a0_0x32ece7(0x574)]='WARN',_0x19fe4e[a0_0x32ece7(0x5cd)]=a0_0x32ece7(0x5cd),_0x19fe4e[a0_0x32ece7(0x1c1)]='DARK',_0x19fe4e[a0_0x32ece7(0x43e)]=a0_0x32ece7(0x43e),_0x19fe4e['DEBUG']=a0_0x32ece7(0x281),_0x19fe4e[a0_0x32ece7(0x21b)]=a0_0x32ece7(0x21b),_0x19fe4e))(Js||{}),qs=(_0xb67e99=>(_0xb67e99[a0_0x32ece7(0x16b)]=a0_0x32ece7(0x591),_0xb67e99[a0_0x32ece7(0x5cd)]='\x1b[44m',_0xb67e99[a0_0x32ece7(0x574)]=a0_0x32ece7(0x4fe),_0xb67e99[a0_0x32ece7(0x1c1)]=a0_0x32ece7(0x1fa),_0xb67e99[a0_0x32ece7(0x43e)]=a0_0x32ece7(0x6bc),_0xb67e99[a0_0x32ece7(0x281)]=a0_0x32ece7(0x43d),_0xb67e99[a0_0x32ece7(0x21b)]=a0_0x32ece7(0x712),_0xb67e99))(qs||{}),C=class{constructor(_0x5660d6=a0_0x32ece7(0x347)){const _0xda7072=a0_0x32ece7;this[_0xda7072(0x68c)]=_0x5660d6,this[_0xda7072(0x1f7)]=y;}[a0_0x32ece7(0x6c3)](_0x54f535){const _0x51788c=a0_0x32ece7;this[_0x51788c(0x68c)]=_0x54f535;}['console'](_0x3a6877,_0x279fb2){const _0x280d22=a0_0x32ece7;let _0x48841c=[];this[_0x280d22(0x1f7)][_0x280d22(0x5de)](_0x280d22(0x16b))['LEVEL'][_0x280d22(0x15f)](_0x26a841=>_0x48841c[_0x280d22(0x4dc)](Js[_0x26a841]));let _0x36058e=typeof _0x3a6877;_0x48841c[_0x280d22(0x330)](_0x279fb2)&&(y[_0x280d22(0x5de)](_0x280d22(0x16b))[_0x280d22(0x2f3)]?(console[_0x280d22(0x3c5)]('\x1b[1m'+Gs[_0x279fb2],'\x1b[1m\x1b[37m',(0x0,Xt[_0x280d22(0x490)])()[_0x280d22(0x6a5)](_0x280d22(0x3d3)),_0x280d22(0x56d),Zt[_0x279fb2]+qs[_0x279fb2]+_0x280d22(0x47c),_0x279fb2+_0x280d22(0x66e),_0x280d22(0x2ce),this[_0x280d22(0x68c)]+_0x280d22(0x56d),Zt[_0x279fb2],_0x36058e!==_0x280d22(0x171)?_0x3a6877:'',_0x280d22(0x56d)),_0x36058e===_0x280d22(0x171)&&console[_0x280d22(0x3c5)](_0x3a6877,'\x0a')):console[_0x280d22(0x3c5)]((0x0,Xt['default'])()[_0x280d22(0x6a5)](_0x280d22(0x1fb)),_0x279fb2+'\x20',''+this[_0x280d22(0x68c)],_0x3a6877));}[a0_0x32ece7(0x3c5)](_0x498708){const _0x189634=a0_0x32ece7;this[_0x189634(0x6a8)](_0x498708,_0x189634(0x16b));}['info'](_0xbc4639){const _0x10584f=a0_0x32ece7;this['console'](_0xbc4639,_0x10584f(0x5cd));}['warn'](_0x41419a){this['console'](_0x41419a,'WARN');}[a0_0x32ece7(0x24d)](_0x2fb3f9){const _0x5ab2ef=a0_0x32ece7;this[_0x5ab2ef(0x6a8)](_0x2fb3f9,_0x5ab2ef(0x43e));}[a0_0x32ece7(0x3a3)](_0x5829da){const _0x5799ab=a0_0x32ece7;this[_0x5799ab(0x6a8)](_0x5829da,_0x5799ab(0x21b));}['debug'](_0x5701e3){const _0x1c61bb=a0_0x32ece7;this[_0x1c61bb(0x6a8)](_0x5701e3,_0x1c61bb(0x281));}[a0_0x32ece7(0x57a)](_0x2b755a){const _0x1e6b16=a0_0x32ece7;this[_0x1e6b16(0x6a8)](_0x2b755a,_0x1e6b16(0x1c1));}};function a0_0x1b9c(_0x332163,_0x20c228){const _0x5e9aca=a0_0x5e9a();return a0_0x1b9c=function(_0x1b9c50,_0x27ab63){_0x1b9c50=_0x1b9c50-0x14c;let _0x51f750=_0x5e9aca[_0x1b9c50];return _0x51f750;},a0_0x1b9c(_0x332163,_0x20c228);}function Ws(){const _0x597b0a=a0_0x32ece7;process['on'](_0x597b0a(0x6d8),(_0xc560ce,_0x4bfbd9)=>{const _0x3663e4=_0x597b0a;new C(_0x3663e4(0x6d8))['error']({'origin':_0x4bfbd9,'stderr':process['stderr']['fd'],'error':_0xc560ce});}),process['on'](_0x597b0a(0x52a),(_0x8ef130,_0x48d9f9)=>{const _0x19a5d2=_0x597b0a;new C('unhandledRejection')[_0x19a5d2(0x24d)]({'origin':_0x48d9f9,'stderr':process[_0x19a5d2(0x673)]['fd'],'error':_0x8ef130});});}var Hs=T(require(a0_0x32ece7(0x6ce))),es=new Hs['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),ce=require('path'),ge=require('fs'),ts=require(a0_0x32ece7(0x533)),j=class{constructor(_0x14880e){const _0x2ae198=a0_0x32ece7;this[_0x2ae198(0x46c)]=(0x0,ts['join'])(z,_0x2ae198(0x340)),this[_0x2ae198(0x543)]=_0x4ea0f0=>{const _0xe51a6f=_0x2ae198;(0x0,ge[_0xe51a6f(0x5d5)])(_0x4ea0f0[_0xe51a6f(0x533)])||(0x0,ge[_0xe51a6f(0x548)])(_0x4ea0f0[_0xe51a6f(0x533)],{'recursive':!0x0});try{return(0x0,ge[_0xe51a6f(0x6b1)])((0x0,ts['join'])(_0x4ea0f0[_0xe51a6f(0x533)],_0x4ea0f0[_0xe51a6f(0x44e)]+_0xe51a6f(0x45e)),JSON[_0xe51a6f(0x61e)]({..._0x4ea0f0[_0xe51a6f(0x5f4)]}),{'encoding':_0xe51a6f(0x27e)}),{'message':_0xe51a6f(0x4cb)};}finally{_0x4ea0f0['data']=void 0x0;}},this[_0x2ae198(0x4e4)]=_0x14880e[_0x2ae198(0x5de)](_0x2ae198(0x52d));}[a0_0x32ece7(0x2ba)](_0x2b15d4,_0x24f42f=!0x1){throw new Error('Method\x20not\x20implemented.');}[a0_0x32ece7(0x1dd)](_0xadedd){const _0x160de3=a0_0x32ece7;throw new Error(_0x160de3(0x5c0));}['delete'](_0x5492a1,_0x54c80e){throw new Error('Method\x20not\x20implemented.');}},se=require('fs'),Ve=class{},je=class extends j{constructor(_0x10ec14,_0x43e0b5){super(_0x43e0b5),this['messageModel']=_0x10ec14,this['configService']=_0x43e0b5;}async['insert'](_0x23cc42,_0x1581ee=!0x1){const _0x2dc3d6=a0_0x32ece7;if(_0x23cc42['length']!==0x0)try{return this[_0x2dc3d6(0x4e4)][_0x2dc3d6(0x61d)]&&_0x1581ee?{'insertCount':(await this[_0x2dc3d6(0x579)]['insertMany']([..._0x23cc42]))[_0x2dc3d6(0x239)]}:_0x1581ee?(_0x23cc42[_0x2dc3d6(0x15f)](_0x89a0a2=>this['writeStore']({'path':(0x0,ce[_0x2dc3d6(0x2c3)])(this[_0x2dc3d6(0x46c)],_0x2dc3d6(0x607),_0x89a0a2[_0x2dc3d6(0x1bf)]),'fileName':_0x89a0a2['key']['id'],'data':_0x89a0a2})),{'insertCount':_0x23cc42[_0x2dc3d6(0x239)]}):{'insertCount':0x0};}catch(_0x22d5b7){return console[_0x2dc3d6(0x3c5)](_0x2dc3d6(0x1a7),_0x22d5b7),_0x22d5b7;}finally{_0x23cc42=void 0x0;}}async[a0_0x32ece7(0x1dd)](_0x1157fe){const _0x1e2349=a0_0x32ece7;try{if(this[_0x1e2349(0x4e4)]['ENABLED']){if(_0x1157fe?.[_0x1e2349(0x3de)]?.[_0x1e2349(0x557)]){for(let [_0x4d5f64,_0x174377]of Object[_0x1e2349(0x468)](_0x1157fe[_0x1e2349(0x3de)][_0x1e2349(0x557)]))_0x1157fe[_0x1e2349(0x3de)]['key.'+_0x4d5f64]=_0x174377;delete _0x1157fe?.[_0x1e2349(0x3de)]?.[_0x1e2349(0x557)];}return await this['messageModel'][_0x1e2349(0x1dd)]({..._0x1157fe[_0x1e2349(0x3de)]})[_0x1e2349(0x39c)]({'messageTimestamp':-0x1})[_0x1e2349(0x258)](_0x1157fe?.[_0x1e2349(0x258)]??0x0);}let _0x6e368=[];if(_0x1157fe?.[_0x1e2349(0x3de)]?.[_0x1e2349(0x557)]?.['id'])_0x6e368['push'](JSON[_0x1e2349(0x16e)]((0x0,se[_0x1e2349(0x6af)])((0x0,ce[_0x1e2349(0x2c3)])(this[_0x1e2349(0x46c)],_0x1e2349(0x607),_0x1157fe[_0x1e2349(0x3de)][_0x1e2349(0x1bf)],_0x1157fe[_0x1e2349(0x3de)][_0x1e2349(0x557)]['id']+_0x1e2349(0x45e)),{'encoding':'utf-8'})));else{let _0x1cf58a=(0x0,se[_0x1e2349(0x593)])((0x0,ce['join'])(this['storePath'],'messages',_0x1157fe[_0x1e2349(0x3de)]['owner']),{'encoding':_0x1e2349(0x27e)});for await(let _0x351556 of _0x1cf58a)_0x351556[_0x1e2349(0x47d)]()&&_0x6e368[_0x1e2349(0x4dc)](JSON[_0x1e2349(0x16e)]((0x0,se[_0x1e2349(0x6af)])((0x0,ce[_0x1e2349(0x2c3)])(this[_0x1e2349(0x46c)],'messages',_0x1157fe[_0x1e2349(0x3de)][_0x1e2349(0x1bf)],_0x351556[_0x1e2349(0x1e8)]),{'encoding':_0x1e2349(0x27e)})));}return _0x6e368['sort']((_0x2148da,_0x674f42)=>_0x674f42[_0x1e2349(0x1e4)]-_0x2148da[_0x1e2349(0x1e4)])['splice'](0x0,_0x1157fe?.[_0x1e2349(0x258)]??_0x6e368[_0x1e2349(0x239)]);}catch{return[];}}async[a0_0x32ece7(0x6c2)](_0x3ced31){const _0x1867a7=a0_0x32ece7;try{if(this['dbSettings'][_0x1867a7(0x61d)])await this[_0x1867a7(0x579)][_0x1867a7(0x6ee)]({..._0x3ced31['where']});else{let {owner:_0x2e3a74}=_0x3ced31[_0x1867a7(0x3de)];(0x0,se[_0x1867a7(0x303)])((0x0,ce['join'])(this['storePath'],'messages',_0x2e3a74))[_0x1867a7(0x15f)](_0x5a89fe=>{const _0x4f0a98=_0x1867a7;let _0x307b57=(0x0,ce[_0x4f0a98(0x2c3)])(this[_0x4f0a98(0x46c)],_0x4f0a98(0x607),_0x2e3a74,_0x5a89fe);(0x0,se[_0x4f0a98(0x212)])(_0x307b57);});}}catch(_0x422f61){console[_0x1867a7(0x24d)](_0x422f61);}}async[a0_0x32ece7(0x3f6)](_0x356add,_0x550e2c){const _0x5df368=a0_0x32ece7;try{let _0x3f8874=null;if(this[_0x5df368(0x4e4)][_0x5df368(0x61d)])return _0x3f8874=await this['messageModel'][_0x5df368(0x660)]({..._0x356add['where']},{'$set':_0x550e2c},{'new':!0x0}),_0x3f8874;}catch(_0x3ffdf6){throw console[_0x5df368(0x24d)](_0x3ffdf6),_0x3ffdf6;}}async[a0_0x32ece7(0x157)](_0x48d2a2,_0x2a192a=!0x1){const _0x33b8a6=a0_0x32ece7;if(_0x48d2a2['length']!==0x0)try{return this[_0x33b8a6(0x4e4)][_0x33b8a6(0x61d)]&&_0x2a192a?{'insertCount':(await this[_0x33b8a6(0x579)]['insertMany']([..._0x48d2a2]))['length']}:_0x2a192a?(_0x48d2a2[_0x33b8a6(0x15f)](_0x1afab2=>this[_0x33b8a6(0x543)]({'path':(0x0,ce[_0x33b8a6(0x2c3)])(this[_0x33b8a6(0x46c)],_0x33b8a6(0x607),_0x1afab2['owner']),'fileName':_0x1afab2[_0x33b8a6(0x557)]['id'],'data':_0x1afab2})),{'insertCount':_0x48d2a2[_0x33b8a6(0x239)]}):{'insertCount':0x0};}catch(_0x5007cf){return console[_0x33b8a6(0x3c5)](_0x33b8a6(0x1a7),_0x5007cf),_0x5007cf;}finally{_0x48d2a2=void 0x0;}}},ee=require('fs'),w=T(require('@whiskeysockets/baileys')),_e=require('fs'),Z=T(require(a0_0x32ece7(0x533))),le=T(require(a0_0x32ece7(0x21a))),io=require(a0_0x32ece7(0x282)),ro=T(require(a0_0x32ece7(0x5f7))),no=T(require(a0_0x32ece7(0x6f4))),Ks=['imageMessage',a0_0x32ece7(0x2c6),a0_0x32ece7(0x193),'videoMessage',a0_0x32ece7(0x1a0)],zs=[a0_0x32ece7(0x504),a0_0x32ece7(0x3a6),'viewOnceMessage',a0_0x32ece7(0x3bb)],co=require('os'),$t=T(require(a0_0x32ece7(0x68a))),lo=require(a0_0x32ece7(0x513)),bs=require('node-mime-types'),Be=require('mongoose'),ss=T(require(a0_0x32ece7(0x36f))),Qs=new C('Db\x20Connection'),F=y['get'](a0_0x32ece7(0x52d)),M=F[a0_0x32ece7(0x61d)]?F[a0_0x32ece7(0x218)]['URI']?ss[a0_0x32ece7(0x490)][a0_0x32ece7(0x2ea)](F[a0_0x32ece7(0x218)]['URI'],{'dbName':F[a0_0x32ece7(0x218)]['DB_PREFIX_NAME']+a0_0x32ece7(0x311)}):ss[a0_0x32ece7(0x490)][a0_0x32ece7(0x2ea)](a0_0x32ece7(0x28d)+F[a0_0x32ece7(0x218)][a0_0x32ece7(0x493)]+':'+F['CONNECTION'][a0_0x32ece7(0x276)]+a0_0x32ece7(0x5fa),{'user':F[a0_0x32ece7(0x218)][a0_0x32ece7(0x588)],'pass':F['CONNECTION'][a0_0x32ece7(0x6f6)],'dbName':F['CONNECTION']['DB_PREFIX_NAME']+a0_0x32ece7(0x311)}):null;F[a0_0x32ece7(0x61d)]&&Qs[a0_0x32ece7(0x598)](a0_0x32ece7(0x43f)+M['$dbName']);async function Go(){const _0x1b662c=a0_0x32ece7;await I[_0x1b662c(0x1e6)]({'leadInfo.tags':{'$exists':!0x1}},{'$set':{'leadInfo.tags':[]}}),await I[_0x1b662c(0x1e6)]({'leadInfo.customFields':{'$exists':!0x1}},{'$set':{'leadInfo.customFields':[]}}),await I[_0x1b662c(0x1e6)]({},{'$unset':{'lastUpdate':0x1,'lastMsgUpdate':0x1}});}M?.['on']('connected',()=>{const _0x4433ca=a0_0x32ece7;I&&Go()[_0x4433ca(0x4fb)](_0x1aa5fc=>Qs[_0x4433ca(0x24d)](_0x4433ca(0x32a)+_0x1aa5fc));});var as=class{},Jo=new Be[(a0_0x32ece7(0x68e))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),qo=new Be['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Jo],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Wo=new Be[(a0_0x32ece7(0x68e))]({'_id':{'type':String,'_id':!0x0},'id':{'type':String,'required':!0x0,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'contactname':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number},'unreadcount':{'type':Number},'lastcache':{'type':Number},'leadInfo':{'type':qo,'default':{}},'lastUpdate':{'type':Number},'lastMsgUpdate':{'type':Number}}),I=M?.['model'](as[a0_0x32ece7(0x1e8)],Wo,'chats'),Ys=require(a0_0x32ece7(0x36f)),os=class{},Ho=new Ys[(a0_0x32ece7(0x68e))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'id':{'type':String,'required':!0x0,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Fe=M?.[a0_0x32ece7(0x60d)](os[a0_0x32ece7(0x1e8)],Ho,a0_0x32ece7(0x445)),O=require(a0_0x32ece7(0x36f)),Xs=new O[(a0_0x32ece7(0x68e))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),is=new O[(a0_0x32ece7(0x68e))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Ko=new O['Schema']({'command':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'pollErrorMessage':{'type':String,'default':a0_0x32ece7(0x46a)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Zs=new O[(a0_0x32ece7(0x68e))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ea=new O[(a0_0x32ece7(0x68e))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),zo=new O[(a0_0x32ece7(0x68e))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ta=new O[(a0_0x32ece7(0x68e))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Ko},'apirequest':ea,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ds=new O[(a0_0x32ece7(0x68e))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),sa=new O[(a0_0x32ece7(0x68e))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),rs=class{},aa=new O['Schema']({'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x5e757f=a0_0x32ece7;return _0x5e757f(0x6cf)+Math[_0x5e757f(0x436)]()[_0x5e757f(0x702)](0x24)[_0x5e757f(0x558)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ds],'variablesNotFound':{'type':[String]},'blocks':[ta],'groups':[Xs],'conditions':[Zs],'varedits':[sa],'replyOptions':{'type':[is],'default':[]}});aa[a0_0x32ece7(0x3fa)](a0_0x32ece7(0x438),function(_0x11753d){const _0x44a081=a0_0x32ece7;let _0x3e224b=new Set(),_0x5d4617=new Set(this[_0x44a081(0x5f5)]?.[_0x44a081(0x4c2)](_0x574da9=>_0x574da9[_0x44a081(0x1e8)])),_0x3ff0a1=JSON[_0x44a081(0x61e)](this),_0x131599=/{{(?!_)([^}]*)}}/g,_0x5ba2d9;for(;(_0x5ba2d9=_0x131599['exec'](_0x3ff0a1))!==null;)_0x5d4617[_0x44a081(0x58b)](_0x5ba2d9[0x1])||_0x3e224b['add'](_0x5ba2d9[0x1]);_0x3e224b[_0x44a081(0x60a)]>0x0?(console[_0x44a081(0x34d)]('Variáveis\x20não\x20encontradas:',Array[_0x44a081(0x328)](_0x3e224b)),this[_0x44a081(0x59e)]=Array[_0x44a081(0x328)](_0x3e224b)):this['variablesNotFound']=[],_0x11753d();});var D=M?.[a0_0x32ece7(0x60d)](rs['name'],aa,a0_0x32ece7(0x44b)),Qo=new O[(a0_0x32ece7(0x68e))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ds],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastBlockId':{'type':String},'blockLogs':[zo]},{'_id':!0x1}),ns=class{},Yo=new O['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ds],'blocks':[ta],'groups':[Xs],'conditions':[Zs],'varedits':[sa],'replyOptions':{'type':[is],'default':[]},'chatLog':Qo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x32ece7(0x314)},'waitingPoll_id':{'type':String},'waitingPoll_name':{'type':String},'waitingPoll_replyOptions':{'type':[is],'default':[]}}),G=M?.[a0_0x32ece7(0x60d)](ns[a0_0x32ece7(0x1e8)],Yo,a0_0x32ece7(0x449)),cs=class{},Xo=new O[(a0_0x32ece7(0x68e))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),Zo=new O[(a0_0x32ece7(0x68e))]({'owner':{'type':String},'status':{'type':String,'default':'scheduled'},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Xo,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Object],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),k=M?.[a0_0x32ece7(0x60d)](cs[a0_0x32ece7(0x1e8)],Zo,a0_0x32ece7(0x353)),ls=class{},ei=new O['Schema']({'name':{'type':String},'requests':[ea],'owner':{'type':String}}),Zr=M?.[a0_0x32ece7(0x60d)](ls[a0_0x32ece7(0x1e8)],ei,a0_0x32ece7(0x463)),us=class{},ti=new O['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),si=new O[(a0_0x32ece7(0x68e))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x32ece7(0x4b9)},'stopMinutes':{'type':Number,'default':0x14}},{'_id':!0x1}),ai=new O[(a0_0x32ece7(0x68e))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),oi=new O[(a0_0x32ece7(0x68e))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[ai]},'customFields':{'type':[ti]},'flowConfig':{'type':si,'default':{}}}),ae=M?.[a0_0x32ece7(0x60d)](us[a0_0x32ece7(0x1e8)],oi,a0_0x32ece7(0x189)),ye=T(require(a0_0x32ece7(0x36f))),uo=T(require(a0_0x32ece7(0x473))),po=require(a0_0x32ece7(0x2c4)),mo=require('stream-buffers'),x=require(a0_0x32ece7(0x3b4)),he=class{constructor(_0x1ea971,_0x404d88,_0x1d9a19){const _0x4a6ec8=a0_0x32ece7;this[_0x4a6ec8(0x40e)]=_0x1ea971,this[_0x4a6ec8(0x51d)]=_0x404d88,this[_0x4a6ec8(0x1e8)]=_0x1d9a19;}},Ge=class{},Ce=class{},Je=class{},qe=class{},fe=class{},We=class{},He=class{},Ke=class{},ze=class{},Dt=T(require(a0_0x32ece7(0x2ed))),oa=require('fs'),ia=require(a0_0x32ece7(0x533));async function Qe(_0x295272){const _0x35f530=a0_0x32ece7;let _0x47d450=B[_0x35f530(0x3fd)][_0x295272];if(F[_0x35f530(0x61d)]){let _0x55f702=M[_0x35f530(0x1f2)]()['db'](F[_0x35f530(0x218)][_0x35f530(0x4d6)]+'-instances')[_0x35f530(0x2f0)](_0x295272);return _0x47d450||(await _0x55f702[_0x35f530(0x1dd)]({})[_0x35f530(0x4e7)]())[_0x35f530(0x239)]>0x0;}return _0x47d450||(0x0,oa[_0x35f530(0x5d5)])((0x0,ia['join'])(V,_0x295272));}async function ps(_0x493feb,_0x1019ba,_0x473f00){const _0xc48626=a0_0x32ece7;if(_0x493feb[_0xc48626(0x36e)][_0xc48626(0x330)](_0xc48626(0x530))||_0x493feb[_0xc48626(0x36e)]['includes'](_0xc48626(0x359))||_0x493feb['originalUrl'][_0xc48626(0x330)](_0xc48626(0x198)))return _0x473f00();let _0x34b090=_0x493feb[_0xc48626(0x238)];if(!_0x34b090?.[_0xc48626(0x56c)])throw new m('instanceName\x20not\x20provided.');if(!await Qe(_0x34b090['instanceName']))throw new L('The\x20'+_0x34b090['instanceName']+_0xc48626(0x4d9));_0x473f00();}async function ra(_0x5b0368,_0x360f3d,_0x5af50b){const _0x1f1576=a0_0x32ece7;if(_0x5b0368[_0x1f1576(0x36e)][_0x1f1576(0x330)](_0x1f1576(0x530))){let _0x3aecb9=_0x5b0368[_0x1f1576(0x3e4)];if(await Qe(_0x3aecb9[_0x1f1576(0x56c)]))throw new oe(_0x1f1576(0x684)+_0x3aecb9[_0x1f1576(0x56c)]+_0x1f1576(0x5f9));B['waInstances'][_0x3aecb9[_0x1f1576(0x56c)]]&&delete B[_0x1f1576(0x3fd)][_0x3aecb9[_0x1f1576(0x56c)]];}_0x5af50b();}var na=require(a0_0x32ece7(0x3b4)),ca=T(require(a0_0x32ece7(0x49b))),Ye=a0_0x32ece7(0x563),ri=new C('GUARD');async function ni(_0x57ffe2,_0x5c7c3d,_0x50588f){const _0x1b2254=a0_0x32ece7;let _0x1a8d44=_0x57ffe2[_0x1b2254(0x5de)](_0x1b2254(0x183));if(_0x1a8d44&&y[_0x1b2254(0x5de)](_0x1b2254(0x614))[_0x1b2254(0x6fb)][_0x1b2254(0x6d1)]!==_0x1a8d44)throw new ie();if(y[_0x1b2254(0x5de)](_0x1b2254(0x614))[_0x1b2254(0x6fb)][_0x1b2254(0x6d1)]===_0x1a8d44)return _0x50588f();if((_0x57ffe2['originalUrl'][_0x1b2254(0x330)](_0x1b2254(0x530))||_0x57ffe2[_0x1b2254(0x36e)][_0x1b2254(0x330)](_0x1b2254(0x359)))&&!_0x1a8d44)throw new oe(_0x1b2254(0x665),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x4a764c=y[_0x1b2254(0x5de)](_0x1b2254(0x614))['JWT'];try{let [_0xf32245,_0x3ea88c]=_0x57ffe2[_0x1b2254(0x5de)](_0x1b2254(0x284))['split']('\x20');if(_0xf32245['toLowerCase']()!==_0x1b2254(0x154))throw new ie();if(!(0x0,na[_0x1b2254(0x1f0)])(_0x3ea88c))throw new ie();let _0x5534e9=_0x57ffe2[_0x1b2254(0x238)],_0x45c16e=ca[_0x1b2254(0x490)][_0x1b2254(0x2da)](_0x3ea88c,_0x4a764c[_0x1b2254(0x560)],{'ignoreExpiration':_0x4a764c['EXPIRIN_IN']===0x0});if(_0x5534e9['instanceName']!==_0x45c16e['instanceName']||Ye!==_0x45c16e[_0x1b2254(0x668)])throw new ie();return _0x50588f();}catch(_0x3ea548){throw ri['error'](_0x3ea548),new ie();}}async function ci(_0x2bb496,_0x3a713d,_0x3bc442){const _0x5bb6d6=a0_0x32ece7;let _0x34b4b5=y[_0x5bb6d6(0x5de)](_0x5bb6d6(0x614))[_0x5bb6d6(0x6fb)],_0x77bc62=_0x2bb496['get'](_0x5bb6d6(0x183));if(_0x34b4b5['KEY']===_0x77bc62)return _0x3bc442();if(_0x2bb496[_0x5bb6d6(0x36e)][_0x5bb6d6(0x330)](_0x5bb6d6(0x530))){let _0x4bc154=y[_0x5bb6d6(0x5de)](_0x5bb6d6(0x41f)),_0x58a8c6=_0x2bb496[_0x5bb6d6(0x3e4)]['instanceName'];if(_0x4bc154&&_0x58a8c6[_0x5bb6d6(0x1e5)]()['startsWith'](_0x4bc154[_0x5bb6d6(0x1e5)]()))return _0x3bc442();if(!_0x77bc62)throw new oe('Missing\x20global\x20api\x20key',_0x5bb6d6(0x605));}if(_0x2bb496[_0x5bb6d6(0x36e)][_0x5bb6d6(0x330)]('/instance/fetchInstances')&&!_0x77bc62)throw new oe('Missing\x20global\x20api\x20key',_0x5bb6d6(0x605));if(_0x2bb496['originalUrl']['includes'](_0x5bb6d6(0x198))&&!_0x77bc62)throw new oe(_0x5bb6d6(0x665),_0x5bb6d6(0x605));try{let _0x181583=_0x2bb496[_0x5bb6d6(0x238)];if((await ue['auth'][_0x5bb6d6(0x1dd)](_0x181583['instanceName']))[_0x5bb6d6(0x183)]===_0x77bc62)return _0x3bc442();}catch{}throw new ie();}var la={'jwt':ni,'apikey':ci},Ga=require(a0_0x32ece7(0x2ed)),N=require(a0_0x32ece7(0x282)),S=(..._0x9f2430)=>{const _0x30e3c9=a0_0x32ece7;let _0xbf2f06={};return _0x9f2430[_0x30e3c9(0x15f)](_0x214c11=>_0xbf2f06[_0x214c11]={'minLength':0x1,'description':'The\x20\x22'+_0x214c11+_0x30e3c9(0x618)}),{'if':{'propertyNames':{'enum':[..._0x9f2430]}},'then':{'properties':_0xbf2f06}};},v={'$id':(0x0,N['v4'])(),'type':a0_0x32ece7(0x171),'properties':{'instanceName':{'type':a0_0x32ece7(0x6e9)}},...S(a0_0x32ece7(0x56c))},ua={'$id':(0x0,N['v4'])(),'type':a0_0x32ece7(0x171),'properties':{'oldToken':{'type':a0_0x32ece7(0x6e9)}},'required':['oldToken'],...S(a0_0x32ece7(0x2e6))},fn={'properties':{'key':{'type':a0_0x32ece7(0x171),'properties':{'id':{'type':a0_0x32ece7(0x6e9)},'remoteJid':{'type':a0_0x32ece7(0x6e9)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x32ece7(0x62b)],...S('id',a0_0x32ece7(0x283))},'message':{'type':a0_0x32ece7(0x171)}}},Q={'properties':{'delay':{'type':a0_0x32ece7(0x3e3),'description':a0_0x32ece7(0x675)},'presence':{'type':a0_0x32ece7(0x6e9),'enum':[a0_0x32ece7(0x5af),a0_0x32ece7(0x577),a0_0x32ece7(0x275),a0_0x32ece7(0x209),a0_0x32ece7(0x42e)]}}},re={'type':a0_0x32ece7(0x6e9),'pattern':a0_0x32ece7(0x362),'description':a0_0x32ece7(0x3b5)},da={'$id':(0x0,N['v4'])(),'type':a0_0x32ece7(0x171),'properties':{'number':{...re},'options':{...Q},'textMessage':{'type':a0_0x32ece7(0x171),'properties':{'text':{'type':a0_0x32ece7(0x6e9)}},'required':[a0_0x32ece7(0x70c)],...S('text')}},'required':[a0_0x32ece7(0x622),a0_0x32ece7(0x17b)]},pa={'type':'string','pattern':a0_0x32ece7(0x6ec),'description':'Invalid\x20format'},wn={'$id':(0x0,N['v4'])(),'type':a0_0x32ece7(0x171),'properties':{'number':{...pa},'options':{...Q},'textMessage':{'type':a0_0x32ece7(0x171),'properties':{'text':{'type':a0_0x32ece7(0x6e9)}},'required':[a0_0x32ece7(0x70c)],...S('text')}},'required':[a0_0x32ece7(0x622),a0_0x32ece7(0x17b)]},yn={'$id':(0x0,N['v4'])(),'type':'object','properties':{'number':{...pa},'options':{...Q},'mediaMessage':{'type':a0_0x32ece7(0x171),'properties':{'mediatype':{'type':a0_0x32ece7(0x6e9),'enum':[a0_0x32ece7(0x610),a0_0x32ece7(0x40f),a0_0x32ece7(0x4b0),a0_0x32ece7(0x36c)]},'media':{'type':a0_0x32ece7(0x6e9)},'fileName':{'type':'string'},'caption':{'type':a0_0x32ece7(0x6e9)}},'required':[a0_0x32ece7(0x517),a0_0x32ece7(0x211)],...S(a0_0x32ece7(0x44e),a0_0x32ece7(0x1af),a0_0x32ece7(0x211))}},'required':[a0_0x32ece7(0x602),a0_0x32ece7(0x17b)]},ma={'$id':(0x0,N['v4'])(),'type':a0_0x32ece7(0x171),'properties':{'number':{...re},'options':{...Q},'stickerMessage':{'type':'object','properties':{'image':{'type':'string'}},'required':[a0_0x32ece7(0x610)],...S(a0_0x32ece7(0x610))}},'required':[a0_0x32ece7(0x1a0),a0_0x32ece7(0x17b)]},ga={'$id':(0x0,N['v4'])(),'type':a0_0x32ece7(0x171),'properties':{'statusMessage':{'type':a0_0x32ece7(0x171),'properties':{'type':{'type':a0_0x32ece7(0x6e9),'enum':['text',a0_0x32ece7(0x610),a0_0x32ece7(0x36c),a0_0x32ece7(0x4b0)]},'content':{'type':a0_0x32ece7(0x6e9)},'caption':{'type':'string'},'backgroundColor':{'type':a0_0x32ece7(0x6e9)},'font':{'type':'integer','minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x32ece7(0x2bd),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x32ece7(0x6e9),'pattern':a0_0x32ece7(0x3ca),'description':a0_0x32ece7(0x43a)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['type',a0_0x32ece7(0x571)],...S(a0_0x32ece7(0x17d),a0_0x32ece7(0x571))}},'required':[a0_0x32ece7(0x5fc)]},ha={'$id':(0x0,N['v4'])(),'type':a0_0x32ece7(0x171),'properties':{'number':{...re},'options':{...Q},'mediaMessage':{'type':a0_0x32ece7(0x171),'properties':{'mediatype':{'type':a0_0x32ece7(0x6e9),'enum':[a0_0x32ece7(0x610),a0_0x32ece7(0x40f),a0_0x32ece7(0x4b0),a0_0x32ece7(0x36c)]},'media':{'type':'string'},'fileName':{'type':'string'},'caption':{'type':'string'}},'required':[a0_0x32ece7(0x517),'media'],...S('fileName','caption',a0_0x32ece7(0x211))}},'required':[a0_0x32ece7(0x602),a0_0x32ece7(0x17b)]},fa={'$id':(0x0,N['v4'])(),'type':'object','properties':{'number':{...re},'options':{...Q},'audioMessage':{'type':a0_0x32ece7(0x171),'properties':{'audio':{'type':a0_0x32ece7(0x6e9)}},'required':[a0_0x32ece7(0x36c)],...S('audio')}},'required':[a0_0x32ece7(0x193),a0_0x32ece7(0x17b)]},wa={'$id':(0x0,N['v4'])(),'type':a0_0x32ece7(0x171),'properties':{'number':{...re},'pollMessage':{'type':a0_0x32ece7(0x171),'properties':{'name':{'type':a0_0x32ece7(0x6e9)},'selectableCount':{'type':a0_0x32ece7(0x17b)},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x32ece7(0x1e8),a0_0x32ece7(0x225),'values'],...S(a0_0x32ece7(0x1e8),a0_0x32ece7(0x225),a0_0x32ece7(0x2f9))}},'required':[a0_0x32ece7(0x17b),'pollMessage']},ya={'$id':(0x0,N['v4'])(),'type':a0_0x32ece7(0x171),'properties':{'number':{...re},'options':{...Q},'buttonMessage':{'type':a0_0x32ece7(0x171),'properties':{'title':{'type':'string'},'description':{'type':a0_0x32ece7(0x6e9)},'footerText':{'type':a0_0x32ece7(0x6e9)},'buttons':{'type':a0_0x32ece7(0x2bd),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':a0_0x32ece7(0x6e9)},'buttonId':{'type':a0_0x32ece7(0x6e9)}},'required':[a0_0x32ece7(0x520),a0_0x32ece7(0x509)],...S(a0_0x32ece7(0x520),a0_0x32ece7(0x509))}},'mediaMessage':{'type':a0_0x32ece7(0x171),'properties':{'media':{'type':'string'},'fileName':{'type':'string'},'mediatype':{'type':a0_0x32ece7(0x6e9),'enum':[a0_0x32ece7(0x610),a0_0x32ece7(0x40f),a0_0x32ece7(0x4b0)]}},'required':[a0_0x32ece7(0x211),a0_0x32ece7(0x517)],...S(a0_0x32ece7(0x211),a0_0x32ece7(0x44e))}},'required':['title',a0_0x32ece7(0x48c)],...S('title',a0_0x32ece7(0x600))}},'required':[a0_0x32ece7(0x17b),a0_0x32ece7(0x195)]},ba={'$id':(0x0,N['v4'])(),'type':a0_0x32ece7(0x171),'properties':{'number':{...re},'options':{...Q},'locationMessage':{'type':'object','properties':{'latitude':{'type':a0_0x32ece7(0x17b)},'longitude':{'type':a0_0x32ece7(0x17b)},'name':{'type':a0_0x32ece7(0x6e9)},'address':{'type':a0_0x32ece7(0x6e9)}},'required':[a0_0x32ece7(0x1ac),a0_0x32ece7(0x65a)],...S(a0_0x32ece7(0x1e8),'addresss')}},'required':[a0_0x32ece7(0x17b),a0_0x32ece7(0x578)]},Sa={'$id':(0x0,N['v4'])(),'type':'object','properties':{'number':{...re},'options':{...Q},'listMessage':{'type':'object','properties':{'title':{'type':'string'},'description':{'type':'string'},'footerText':{'type':a0_0x32ece7(0x6e9)},'buttonText':{'type':a0_0x32ece7(0x6e9)},'sections':{'type':a0_0x32ece7(0x2bd),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x32ece7(0x171),'properties':{'title':{'type':a0_0x32ece7(0x6e9)},'rows':{'type':a0_0x32ece7(0x2bd),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x32ece7(0x171),'properties':{'title':{'type':a0_0x32ece7(0x6e9)},'description':{'type':a0_0x32ece7(0x6e9)},'rowId':{'type':'string'}},'required':['title',a0_0x32ece7(0x600),a0_0x32ece7(0x35f)],...S(a0_0x32ece7(0x32b),a0_0x32ece7(0x600),a0_0x32ece7(0x35f))}}},'required':['title',a0_0x32ece7(0x2e1)],...S(a0_0x32ece7(0x32b))}}},'required':[a0_0x32ece7(0x32b),a0_0x32ece7(0x600),'buttonText',a0_0x32ece7(0x5cf)],...S(a0_0x32ece7(0x32b),a0_0x32ece7(0x600),'buttonText',a0_0x32ece7(0x1c6))}},'required':['number','listMessage']},Ea={'$id':(0x0,N['v4'])(),'type':a0_0x32ece7(0x171),'properties':{'number':{...re},'options':{...Q},'contactMessage':{'type':'array','items':{'type':a0_0x32ece7(0x171),'properties':{'fullName':{'type':a0_0x32ece7(0x6e9)},'phoneNumber':{'type':a0_0x32ece7(0x6e9),'minLength':0xa}},'required':[a0_0x32ece7(0x20b),a0_0x32ece7(0x3e1)],...S(a0_0x32ece7(0x20b))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x32ece7(0x17b),a0_0x32ece7(0x546)]},Na={'$id':(0x0,N['v4'])(),'type':'object','properties':{'reactionMessage':{'type':a0_0x32ece7(0x171),'properties':{'key':{'type':a0_0x32ece7(0x171),'properties':{'id':{'type':a0_0x32ece7(0x6e9)},'remoteJid':{'type':a0_0x32ece7(0x6e9)},'fromMe':{'type':a0_0x32ece7(0x6ad),'enum':[!0x0,!0x1]}},'required':['id',a0_0x32ece7(0x283),a0_0x32ece7(0x62b)],...S('id',a0_0x32ece7(0x283))},'reaction':{'type':a0_0x32ece7(0x6e9)}},'required':['key','reaction'],...S(a0_0x32ece7(0x227))}},'required':['reactionMessage']},va={'$id':(0x0,N['v4'])(),'type':a0_0x32ece7(0x171),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x32ece7(0x6e9),'pattern':a0_0x32ece7(0x3ca),'description':'\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}}},Ca={'$id':(0x0,N['v4'])(),'type':a0_0x32ece7(0x171),'properties':{'readMessages':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x32ece7(0x6e9)},'fromMe':{'type':a0_0x32ece7(0x6ad),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x32ece7(0x6e9)}},'required':['id',a0_0x32ece7(0x62b),a0_0x32ece7(0x283)],...S('id',a0_0x32ece7(0x283))}}},'required':[a0_0x32ece7(0x70f)]},Ta={'$id':(0x0,N['v4'])(),'type':a0_0x32ece7(0x171),'properties':{'privacySettings':{'type':a0_0x32ece7(0x171),'properties':{'readreceipts':{'type':a0_0x32ece7(0x6e9),'enum':[a0_0x32ece7(0x216),a0_0x32ece7(0x676)]},'profile':{'type':a0_0x32ece7(0x6e9),'enum':[a0_0x32ece7(0x216),a0_0x32ece7(0x445),a0_0x32ece7(0x2cb),'none']},'status':{'type':a0_0x32ece7(0x6e9),'enum':[a0_0x32ece7(0x216),a0_0x32ece7(0x445),'contact_blacklist',a0_0x32ece7(0x676)]},'online':{'type':a0_0x32ece7(0x6e9),'enum':[a0_0x32ece7(0x216),a0_0x32ece7(0x678)]},'last':{'type':a0_0x32ece7(0x6e9),'enum':[a0_0x32ece7(0x216),a0_0x32ece7(0x445),a0_0x32ece7(0x2cb),'none']},'groupadd':{'type':a0_0x32ece7(0x6e9),'enum':[a0_0x32ece7(0x216),'contacts',a0_0x32ece7(0x2cb),'none']}},'required':[a0_0x32ece7(0x6b7),a0_0x32ece7(0x2e9),a0_0x32ece7(0x4d1),'online',a0_0x32ece7(0x1b8),a0_0x32ece7(0x488)],...S('readreceipts',a0_0x32ece7(0x2e9),a0_0x32ece7(0x4d1),a0_0x32ece7(0x572),a0_0x32ece7(0x1b8),a0_0x32ece7(0x488))}},'required':[a0_0x32ece7(0x589)]},Ma={'$id':(0x0,N['v4'])(),'type':a0_0x32ece7(0x171),'properties':{'lastMessage':{'type':a0_0x32ece7(0x171),'properties':{'key':{'type':a0_0x32ece7(0x171),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x32ece7(0x6e9)},'fromMe':{'type':a0_0x32ece7(0x6ad),'enum':[!0x0,!0x1]}},'required':['id',a0_0x32ece7(0x62b),'remoteJid'],...S('id',a0_0x32ece7(0x283))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':['key'],...S(a0_0x32ece7(0x1e4))},'archive':{'type':a0_0x32ece7(0x6ad),'enum':[!0x0,!0x1]}},'required':['lastMessage','archive']},Ra={'$id':(0x0,N['v4'])(),'type':a0_0x32ece7(0x171),'properties':{'id':{'type':a0_0x32ece7(0x6e9)},'fromMe':{'type':a0_0x32ece7(0x6ad),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x32ece7(0x6e9)},'participant':{'type':a0_0x32ece7(0x6e9)}},'required':['id','fromMe','remoteJid'],...S('id','remoteJid',a0_0x32ece7(0x67b))},Aa={'$id':(0x0,N['v4'])(),'type':a0_0x32ece7(0x171),'properties':{'where':{'type':a0_0x32ece7(0x171),'properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':a0_0x32ece7(0x6e9),'minLength':0x1},'id':{'type':a0_0x32ece7(0x6e9),'minLength':0x1}},...S('_id','id',a0_0x32ece7(0x23b))}}},Ia={'$id':(0x0,N['v4'])(),'type':'object','properties':{'name':{'type':a0_0x32ece7(0x6e9)}},...S(a0_0x32ece7(0x1e8))},Da={'$id':(0x0,N['v4'])(),'type':a0_0x32ece7(0x171),'properties':{'status':{'type':a0_0x32ece7(0x6e9)}},...S('status')},Te={'$id':(0x0,N['v4'])(),'type':a0_0x32ece7(0x171),'properties':{'number':{'type':a0_0x32ece7(0x6e9)},'picture':{'type':a0_0x32ece7(0x6e9)}}},Oa={'type':'object','properties':{'wuid':{'type':a0_0x32ece7(0x6e9)},'name':{'type':a0_0x32ece7(0x6e9)},'picture':{'type':a0_0x32ece7(0x6e9)},'status':{'type':a0_0x32ece7(0x6e9)},'isBusiness':{'type':a0_0x32ece7(0x6ad)}}},Pa={'$id':(0x0,N['v4'])(),'type':'object','properties':{'where':{'type':a0_0x32ece7(0x171),'properties':{'_id':{'type':a0_0x32ece7(0x6e9),'minLength':0x1},'key':{'type':a0_0x32ece7(0x171),'if':{'propertyNames':{'enum':[a0_0x32ece7(0x62b),a0_0x32ece7(0x283),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x32ece7(0x6e9),'minLength':0x1,'description':a0_0x32ece7(0x424)},'id':{'type':'string','minLength':0x1,'description':a0_0x32ece7(0x424)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x32ece7(0x171)}},...S(a0_0x32ece7(0x541))},'limit':{'type':a0_0x32ece7(0x3e3)}}},_a={'$id':(0x0,N['v4'])(),'type':a0_0x32ece7(0x171),'properties':{'where':{'type':a0_0x32ece7(0x171),'properties':{'_id':{'type':a0_0x32ece7(0x6e9)},'remoteJid':{'type':a0_0x32ece7(0x6e9)},'id':{'type':a0_0x32ece7(0x6e9)},'fromMe':{'type':a0_0x32ece7(0x6ad),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':'string','enum':[a0_0x32ece7(0x43e),a0_0x32ece7(0x29a),a0_0x32ece7(0x639),a0_0x32ece7(0x4da),'READ',a0_0x32ece7(0x4b3)]}},...S(a0_0x32ece7(0x541),a0_0x32ece7(0x283),'id',a0_0x32ece7(0x4d1))},'limit':{'type':'integer'}}},xa={'$id':(0x0,N['v4'])(),'type':a0_0x32ece7(0x171),'properties':{'subject':{'type':'string'},'description':{'type':'string'},'profilePicture':{'type':a0_0x32ece7(0x6e9)},'participants':{'type':a0_0x32ece7(0x2bd),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x32ece7(0x6e9),'minLength':0xa,'pattern':a0_0x32ece7(0x652),'description':a0_0x32ece7(0x4c0)}}},'required':[a0_0x32ece7(0x1f8),a0_0x32ece7(0x250)],...S('subject',a0_0x32ece7(0x600),'profilePicture')},Me={'$id':(0x0,N['v4'])(),'type':'object','properties':{'groupJid':{'type':'string','pattern':a0_0x32ece7(0x5bc)}},'required':[a0_0x32ece7(0x1bc)],...S(a0_0x32ece7(0x1bc))},$a={'$id':(0x0,N['v4'])(),'type':a0_0x32ece7(0x171),'properties':{'groupJid':{'type':a0_0x32ece7(0x6e9)},'action':{'type':a0_0x32ece7(0x6e9),'enum':[a0_0x32ece7(0x323),a0_0x32ece7(0x401),'promote',a0_0x32ece7(0x169)]},'participants':{'type':a0_0x32ece7(0x2bd),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x32ece7(0x6e9),'minLength':0xa,'pattern':a0_0x32ece7(0x652),'description':a0_0x32ece7(0x4c0)}}},'required':[a0_0x32ece7(0x1bc),a0_0x32ece7(0x405),'participants'],...S(a0_0x32ece7(0x1bc),'action')},ka={'$id':(0x0,N['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x32ece7(0x6e9)},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x32ece7(0x1bc),a0_0x32ece7(0x1d4)],...S('groupJid',a0_0x32ece7(0x1d4))},La={'$id':(0x0,N['v4'])(),'type':a0_0x32ece7(0x171),'properties':{'groupJid':{'type':a0_0x32ece7(0x6e9)},'image':{'type':'string'}},'required':[a0_0x32ece7(0x1bc),'image'],...S(a0_0x32ece7(0x1bc),a0_0x32ece7(0x610))},Ua={'$id':(0x0,N['v4'])(),'type':a0_0x32ece7(0x171),'properties':{'groupJid':{'type':a0_0x32ece7(0x6e9)},'description':{'type':a0_0x32ece7(0x6e9)}},'required':[a0_0x32ece7(0x1bc),a0_0x32ece7(0x600)],...S('groupJid',a0_0x32ece7(0x600))},Va={'$id':(0x0,N['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x32ece7(0x6e9)},'name':{'type':a0_0x32ece7(0x6e9)}},'required':[a0_0x32ece7(0x1bc),a0_0x32ece7(0x1e8)],...S(a0_0x32ece7(0x1bc),a0_0x32ece7(0x1e8))},ja={'$id':(0x0,N['v4'])(),'type':a0_0x32ece7(0x171),'properties':{'groupJid':{'type':'string'},'setting':{'type':a0_0x32ece7(0x6e9),'enum':[a0_0x32ece7(0x551),'not_announcement',a0_0x32ece7(0x696),a0_0x32ece7(0x56f)]}},'required':[a0_0x32ece7(0x1bc),a0_0x32ece7(0x190)],...S(a0_0x32ece7(0x1bc),a0_0x32ece7(0x190))},Ba={'$id':(0x0,N['v4'])(),'type':a0_0x32ece7(0x171),'properties':{'inviteCode':{'type':a0_0x32ece7(0x6e9)}},'required':['inviteCode'],...S(a0_0x32ece7(0x664))},Fa={'$id':(0x0,N['v4'])(),'type':'object','properties':{'url':{'type':a0_0x32ece7(0x6e9)},'enabled':{'type':a0_0x32ece7(0x6ad),'enum':[!0x0,!0x1]}},'required':[a0_0x32ece7(0x396),a0_0x32ece7(0x2bf)]},bn={'$id':(0x0,N['v4'])(),'type':'object','properties':{'local_map':{'type':a0_0x32ece7(0x6ad),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':'boolean','enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x32ece7(0x6ad),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x32ece7(0x6ad),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x32ece7(0x6ad),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x32ece7(0x6ad),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x32ece7(0x6ad),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x32ece7(0x6ad),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x32ece7(0x6ad),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x32ece7(0x6ad),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x32ece7(0x6ad),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x32ece7(0x6ad),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x32ece7(0x6ad),'enum':[!0x0,!0x1]}},'required':[a0_0x32ece7(0x355),a0_0x32ece7(0x4a8),'QRCODE_UPDATED',a0_0x32ece7(0x1d9),a0_0x32ece7(0x6c7),a0_0x32ece7(0x53b),a0_0x32ece7(0x6e5),a0_0x32ece7(0x6e8),a0_0x32ece7(0x534),'CONTACTS_UPDATE',a0_0x32ece7(0x659),a0_0x32ece7(0x2a5),'CHATS_UPSERT',a0_0x32ece7(0x307),a0_0x32ece7(0x66c),a0_0x32ece7(0x562),a0_0x32ece7(0x3dc),'GROUPS_UPDATE',a0_0x32ece7(0x322)],...S(a0_0x32ece7(0x355),a0_0x32ece7(0x4a8),a0_0x32ece7(0x228),'MESSAGES_SET',a0_0x32ece7(0x6c7),a0_0x32ece7(0x53b),'SEND_MESSAGE','CONTACTS_SET',a0_0x32ece7(0x534),a0_0x32ece7(0x5d0),a0_0x32ece7(0x659),a0_0x32ece7(0x2a5),a0_0x32ece7(0x1f1),'CHATS_UPDATE',a0_0x32ece7(0x66c),a0_0x32ece7(0x562),a0_0x32ece7(0x3dc),a0_0x32ece7(0x1ee),a0_0x32ece7(0x322))},Ae=require('fs'),Re=require('path'),Xe=class{},Ze=class extends j{constructor(_0x414c80,_0x4f8d65){const _0x637aee=a0_0x32ece7;super(_0x4f8d65),this[_0x637aee(0x5ee)]=_0x414c80,this[_0x637aee(0x1f7)]=_0x4f8d65;}async[a0_0x32ece7(0x2ba)](_0x17a27b,_0x35dcf2=!0x1){const _0x5a0fff=a0_0x32ece7;if(_0x17a27b[_0x5a0fff(0x239)]!==0x0)try{return this['dbSettings'][_0x5a0fff(0x61d)]&&_0x35dcf2?{'insertCount':(await this[_0x5a0fff(0x5ee)][_0x5a0fff(0x157)]([..._0x17a27b]))['length']}:(_0x17a27b[_0x5a0fff(0x15f)](_0x24fe15=>{const _0x47581f=_0x5a0fff;this[_0x47581f(0x543)]({'path':(0x0,Re[_0x47581f(0x2c3)])(this['storePath'],_0x47581f(0x445),_0x24fe15[_0x47581f(0x1bf)]),'fileName':_0x24fe15['id'],'data':_0x24fe15});}),{'insertCount':_0x17a27b[_0x5a0fff(0x239)]});}catch(_0x4b2e86){return _0x4b2e86;}finally{_0x17a27b=void 0x0;}}async[a0_0x32ece7(0x6c2)](_0x4afbd0){const _0x5cd9ab=a0_0x32ece7;try{return this[_0x5cd9ab(0x4e4)][_0x5cd9ab(0x61d)]?await this[_0x5cd9ab(0x5ee)][_0x5cd9ab(0x6ee)]({..._0x4afbd0[_0x5cd9ab(0x3de)]}):{'deleted':{'contact':_0x4afbd0[_0x5cd9ab(0x3de)]['id']}};}catch(_0x443408){return{'error':_0x443408?.['toString']()};}}async[a0_0x32ece7(0x3f6)](_0x222241,_0x26d8c0=!0x1){const _0x4abd37=a0_0x32ece7;try{if(_0x222241['length']===0x0)return;if(this[_0x4abd37(0x4e4)]['ENABLED']&&_0x26d8c0){let _0x58f872=_0x222241['map'](_0xd534bb=>({'updateOne':{'filter':{'id':_0xd534bb['id']},'update':{..._0xd534bb},'upsert':!0x0}})),{nModified:_0xcdec06}=await this[_0x4abd37(0x5ee)][_0x4abd37(0x3ad)](_0x58f872);return{'insertCount':_0xcdec06};}}catch{return;}}async[a0_0x32ece7(0x1dd)](_0x222713){const _0x7eece4=a0_0x32ece7;try{if(this['dbSettings']['ENABLED'])return await this[_0x7eece4(0x5ee)][_0x7eece4(0x1dd)]({..._0x222713[_0x7eece4(0x3de)]});let _0x4922dc=[];if(_0x222713?.[_0x7eece4(0x3de)]?.['id'])_0x4922dc[_0x7eece4(0x4dc)](JSON[_0x7eece4(0x16e)]((0x0,Ae[_0x7eece4(0x6af)])((0x0,Re[_0x7eece4(0x2c3)])(this[_0x7eece4(0x46c)],_0x7eece4(0x445),_0x222713[_0x7eece4(0x3de)][_0x7eece4(0x1bf)],_0x222713[_0x7eece4(0x3de)]['id']+_0x7eece4(0x45e)),{'encoding':_0x7eece4(0x27e)})));else{let _0x3dceed=(0x0,Ae[_0x7eece4(0x593)])((0x0,Re['join'])(this[_0x7eece4(0x46c)],_0x7eece4(0x445),_0x222713[_0x7eece4(0x3de)][_0x7eece4(0x1bf)]),{'encoding':_0x7eece4(0x27e)});for await(let _0x1509e8 of _0x3dceed)_0x1509e8[_0x7eece4(0x47d)]()&&_0x4922dc[_0x7eece4(0x4dc)](JSON[_0x7eece4(0x16e)]((0x0,Ae[_0x7eece4(0x6af)])((0x0,Re['join'])(this[_0x7eece4(0x46c)],_0x7eece4(0x445),_0x222713['where'][_0x7eece4(0x1bf)],_0x1509e8[_0x7eece4(0x1e8)]),{'encoding':'utf-8'})));}return _0x4922dc;}catch{return[];}}},et=require(a0_0x32ece7(0x3bc)),Tn=require('express-async-errors'),ms=new C('Validate'),_=class{constructor(){}[a0_0x32ece7(0x657)](_0x94138b,_0x59df7e=!0x0){const _0x31a421=a0_0x32ece7;let _0x1daa85='/'+_0x94138b;return _0x59df7e&&(_0x1daa85+=_0x31a421(0x289)),_0x1daa85;}async['dataValidate'](_0x18eeec){const _0x4eb4ee=a0_0x32ece7;let {request:_0xa79bdd,schema:_0x3df891,ClassRef:_0x4d1f12,execute:_0x50e683}=_0x18eeec,_0x574b72=new _0x4d1f12(),_0xd71b9c=_0xa79bdd['body'],_0xa1743=_0xa79bdd[_0x4eb4ee(0x238)];_0xa79bdd?.[_0x4eb4ee(0x274)]&&Object['keys'](_0xa79bdd['query'])['length']>0x0&&Object[_0x4eb4ee(0x6a6)](_0xa1743,_0xa79bdd['query']),_0xa79bdd[_0x4eb4ee(0x36e)][_0x4eb4ee(0x330)](_0x4eb4ee(0x530))&&Object[_0x4eb4ee(0x6a6)](_0xa1743,_0xd71b9c),Object[_0x4eb4ee(0x6a6)](_0x574b72,_0xd71b9c);let _0x4a7cc5=_0x3df891?(0x0,et['validate'])(_0x574b72,_0x3df891):{'valid':!0x0,'errors':[]};if(!_0x4a7cc5[_0x4eb4ee(0x418)]){let _0x4ec9b9=_0x4a7cc5[_0x4eb4ee(0x5d7)]['map'](({property:_0x36940a,stack:_0x30e7eb,schema:_0x21f30b})=>{const _0x2674ea=_0x4eb4ee;let _0x155d78;return _0x21f30b[_0x2674ea(0x600)]?_0x155d78=_0x21f30b[_0x2674ea(0x600)]:_0x155d78=_0x30e7eb[_0x2674ea(0x466)]('instance.',''),{'property':_0x36940a[_0x2674ea(0x466)](_0x2674ea(0x2f5),''),'message':_0x155d78};});throw ms[_0x4eb4ee(0x24d)]([..._0x4ec9b9]),new m(..._0x4ec9b9);}return await _0x50e683(_0xa1743,_0x574b72);}async[a0_0x32ece7(0x3b7)](_0x468d1c){const _0x928c9a=a0_0x32ece7;let {request:_0xff5280,ClassRef:_0x71053b,schema:_0x3c1e3b,execute:_0xd51f8f}=_0x468d1c,_0x206da3=_0xff5280[_0x928c9a(0x274)];if(!_0x206da3?.['groupJid'])throw new m('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query',_0x928c9a(0x5a1));let _0x353422=_0xff5280[_0x928c9a(0x238)],_0x583d3e=_0xff5280[_0x928c9a(0x3e4)],_0x4c6080=new _0x71053b();Object[_0x928c9a(0x6a6)](_0x583d3e,_0x206da3),Object[_0x928c9a(0x6a6)](_0x4c6080,_0x583d3e);let _0x2a3bce=(0x0,et[_0x928c9a(0x6bb)])(_0x4c6080,_0x3c1e3b);if(!_0x2a3bce[_0x928c9a(0x418)]){let _0x1049af=_0x2a3bce[_0x928c9a(0x5d7)]['map'](({property:_0x1f2da3,stack:_0x2af1a2,schema:_0x3a311e})=>{const _0x5940d2=_0x928c9a;let _0x490c67;return _0x3a311e['description']?_0x490c67=_0x3a311e[_0x5940d2(0x600)]:_0x490c67=_0x2af1a2[_0x5940d2(0x466)]('instance.',''),{'property':_0x1f2da3[_0x5940d2(0x466)](_0x5940d2(0x2f5),''),'message':_0x490c67};});throw ms[_0x928c9a(0x24d)]([..._0x1049af]),new m(..._0x1049af);}return await _0xd51f8f(_0x353422,_0x4c6080);}async[a0_0x32ece7(0x23e)](_0x311098){const _0x254aa7=a0_0x32ece7;let {request:_0x4fe244,ClassRef:_0x31f54d,schema:_0x346851,execute:_0x336a9f}=_0x311098,_0x2bff6a=_0x4fe244['body'];if(!_0x2bff6a?.[_0x254aa7(0x664)])throw new m(_0x254aa7(0x4de),'ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22');let _0x2ec9c9=_0x4fe244[_0x254aa7(0x238)],_0x5236b6=_0x4fe244[_0x254aa7(0x3e4)],_0x5708af=new _0x31f54d();Object[_0x254aa7(0x6a6)](_0x5236b6,_0x2bff6a),Object[_0x254aa7(0x6a6)](_0x5708af,_0x5236b6);let _0x249b20=(0x0,et[_0x254aa7(0x6bb)])(_0x5708af,_0x346851);if(!_0x249b20[_0x254aa7(0x418)]){let _0x11ff94=_0x249b20['errors'][_0x254aa7(0x4c2)](({property:_0x192581,stack:_0x50addf,schema:_0x165ef3})=>{const _0x49d4b5=_0x254aa7;let _0x1314b0;return _0x165ef3[_0x49d4b5(0x600)]?_0x1314b0=_0x165ef3[_0x49d4b5(0x600)]:_0x1314b0=_0x50addf[_0x49d4b5(0x466)](_0x49d4b5(0x2f5),''),{'property':_0x192581[_0x49d4b5(0x466)](_0x49d4b5(0x2f5),''),'message':_0x1314b0};});throw ms[_0x254aa7(0x24d)]([..._0x11ff94]),new m(..._0x11ff94);}return await _0x336a9f(_0x2ec9c9,_0x5708af);}},Ie=require(a0_0x32ece7(0x533)),De=require('fs'),tt=class{},st=class extends j{constructor(_0x4691b4,_0x14623b){super(_0x14623b),this['messageUpModel']=_0x4691b4,this['configService']=_0x14623b;}async[a0_0x32ece7(0x2ba)](_0x43da0f,_0x5e9d51){const _0x45baf8=a0_0x32ece7;if(_0x43da0f[_0x45baf8(0x239)]!==0x0)try{if(this[_0x45baf8(0x4e4)][_0x45baf8(0x61d)]&&_0x5e9d51)return{'insertCount':(await this[_0x45baf8(0x56e)][_0x45baf8(0x157)]([..._0x43da0f]))[_0x45baf8(0x239)]};_0x43da0f[_0x45baf8(0x15f)](_0x46546a=>{const _0x1d82b5=_0x45baf8;this['writeStore']({'path':(0x0,Ie[_0x1d82b5(0x2c3)])(this['storePath'],_0x1d82b5(0x296),_0x46546a[_0x1d82b5(0x1bf)]),'fileName':_0x46546a['id'],'data':_0x46546a});});}catch(_0x5b8fa6){return _0x5b8fa6;}}async[a0_0x32ece7(0x1dd)](_0xb0bb6f){const _0x30cb04=a0_0x32ece7;try{if(this[_0x30cb04(0x4e4)][_0x30cb04(0x61d)])return await this[_0x30cb04(0x56e)][_0x30cb04(0x1dd)]({..._0xb0bb6f[_0x30cb04(0x3de)]})['sort']({'datetime':-0x1})['limit'](_0xb0bb6f?.[_0x30cb04(0x258)]??0x0);let _0x2771e0=[];if(_0xb0bb6f?.['where']?.['id'])_0x2771e0['push'](JSON[_0x30cb04(0x16e)]((0x0,De[_0x30cb04(0x6af)])((0x0,Ie[_0x30cb04(0x2c3)])(this[_0x30cb04(0x46c)],'message-up',_0xb0bb6f[_0x30cb04(0x3de)]['owner'],_0xb0bb6f['where']['id']+'.json'),{'encoding':'utf-8'})));else{let _0x100f5c=(0x0,De[_0x30cb04(0x593)])((0x0,Ie[_0x30cb04(0x2c3)])(this['storePath'],_0x30cb04(0x296),_0xb0bb6f[_0x30cb04(0x3de)]['owner']),{'encoding':_0x30cb04(0x27e)});for await(let _0x3dc7d6 of _0x100f5c)_0x3dc7d6[_0x30cb04(0x47d)]()&&_0x2771e0[_0x30cb04(0x4dc)](JSON[_0x30cb04(0x16e)]((0x0,De[_0x30cb04(0x6af)])((0x0,Ie[_0x30cb04(0x2c3)])(this['storePath'],_0x30cb04(0x296),_0xb0bb6f[_0x30cb04(0x3de)][_0x30cb04(0x1bf)],_0x3dc7d6['name']),{'encoding':_0x30cb04(0x27e)})));}return _0x2771e0[_0x30cb04(0x39c)]((_0x386fea,_0x2695fd)=>_0x2695fd[_0x30cb04(0x49a)]-_0x386fea[_0x30cb04(0x49a)])['splice'](0x0,_0xb0bb6f?.[_0x30cb04(0x258)]??_0x2771e0[_0x30cb04(0x239)]);}catch{return[];}}async[a0_0x32ece7(0x6c2)](_0x244e28){const _0xac22b0=a0_0x32ece7;try{if(this['dbSettings'][_0xac22b0(0x61d)])return await this[_0xac22b0(0x56e)][_0xac22b0(0x6ee)]({..._0x244e28[_0xac22b0(0x3de)]});}catch(_0xfc058d){return console[_0xac22b0(0x24d)](_0xac22b0(0x612),_0xfc058d),_0xfc058d;}}},b=class{},at=class extends _{constructor(..._0x29449b){const _0x5ecb17=a0_0x32ece7;super(),this['router']=(0x0,Ga[_0x5ecb17(0x53e)])(),this[_0x5ecb17(0x46d)][_0x5ecb17(0x261)](this['routerPath'](_0x5ecb17(0x6eb)),..._0x29449b,async(_0x425f6a,_0x6507bc)=>{const _0x39a4c4=_0x5ecb17;let _0x1520b2=await this[_0x39a4c4(0x6b8)]({'request':_0x425f6a,'schema':va,'ClassRef':Ge,'execute':(_0x485d6d,_0x3580a2)=>P[_0x39a4c4(0x433)](_0x485d6d,_0x3580a2)});return _0x6507bc['status'](0xc9)['json'](_0x1520b2);})[_0x5ecb17(0x261)](this[_0x5ecb17(0x657)]('editChat'),..._0x29449b,async(_0x3cdd0b,_0x40e44d)=>{const _0x2f5f4c=_0x5ecb17;let _0x467ad1=await this[_0x2f5f4c(0x6b8)]({'request':_0x3cdd0b,'schema':v,'ClassRef':b,'execute':(_0x3bb302,_0x1d86a3)=>P['editChat'](_0x3bb302,_0x1d86a3)});return _0x40e44d[_0x2f5f4c(0x4d1)](0xc9)[_0x2f5f4c(0x51e)](_0x467ad1);})[_0x5ecb17(0x644)](this[_0x5ecb17(0x657)]('markMessageAsRead'),..._0x29449b,async(_0x56d0c9,_0x55a8ce)=>{const _0x56b3a4=_0x5ecb17;let _0x1f6617=await this[_0x56b3a4(0x6b8)]({'request':_0x56d0c9,'schema':Ca,'ClassRef':We,'execute':(_0x135e8a,_0x17dad1)=>P[_0x56b3a4(0x203)](_0x135e8a,_0x17dad1)});return _0x55a8ce[_0x56b3a4(0x4d1)](0xc9)[_0x56b3a4(0x51e)](_0x1f6617);})[_0x5ecb17(0x644)](this[_0x5ecb17(0x657)](_0x5ecb17(0x1cc)),..._0x29449b,async(_0x55b99c,_0x5d8103)=>{const _0x23b955=_0x5ecb17;let _0xbccf0f=await this[_0x23b955(0x6b8)]({'request':_0x55b99c,'schema':Ma,'ClassRef':He,'execute':(_0x197215,_0x5d701c)=>P[_0x23b955(0x1cc)](_0x197215,_0x5d701c)});return _0x5d8103[_0x23b955(0x4d1)](0xc9)[_0x23b955(0x51e)](_0xbccf0f);})[_0x5ecb17(0x6c2)](this['routerPath'](_0x5ecb17(0x180)),..._0x29449b,async(_0x49f3ec,_0x22eb2f)=>{const _0x47469c=_0x5ecb17;let _0x22e18a=await this[_0x47469c(0x6b8)]({'request':_0x49f3ec,'schema':Ra,'ClassRef':ze,'execute':(_0x41fc5a,_0xa02249)=>P[_0x47469c(0x3d4)](_0x41fc5a,_0xa02249)});return _0x22eb2f[_0x47469c(0x4d1)](0xc9)[_0x47469c(0x51e)](_0x22e18a);})[_0x5ecb17(0x261)](this[_0x5ecb17(0x657)](_0x5ecb17(0x6dd)),..._0x29449b,async(_0x3fcbab,_0x7b4a48)=>{const _0x2829ec=_0x5ecb17;let _0x30de0a=await this[_0x2829ec(0x6b8)]({'request':_0x3fcbab,'schema':Te,'ClassRef':Ce,'execute':(_0x3ab58b,_0x56f7fd)=>P[_0x2829ec(0x3cf)](_0x3ab58b,_0x56f7fd)});return _0x7b4a48[_0x2829ec(0x4d1)](0xc8)[_0x2829ec(0x51e)](_0x30de0a);})[_0x5ecb17(0x261)](this['routerPath'](_0x5ecb17(0x324)),..._0x29449b,async(_0x172fd4,_0xca16ce)=>{const _0x263206=_0x5ecb17;let _0x57c130=await this[_0x263206(0x6b8)]({'request':_0x172fd4,'schema':Oa,'ClassRef':Ce,'execute':(_0xef62a8,_0x3cfffa)=>P[_0x263206(0x324)](_0xef62a8,_0x3cfffa)});return _0xca16ce[_0x263206(0x4d1)](0xc8)[_0x263206(0x51e)](_0x57c130);})[_0x5ecb17(0x261)](this['routerPath'](_0x5ecb17(0x63a)),..._0x29449b,async(_0x367308,_0xa977fe)=>{const _0x4559d3=_0x5ecb17;let _0x3362d7=await this[_0x4559d3(0x6b8)]({'request':_0x367308,'schema':Aa,'ClassRef':Xe,'execute':(_0x3821a1,_0x448fae)=>P[_0x4559d3(0x681)](_0x3821a1,_0x448fae)});return _0xa977fe[_0x4559d3(0x4d1)](0xc8)[_0x4559d3(0x51e)](_0x3362d7);})['post'](this[_0x5ecb17(0x657)](_0x5ecb17(0x5da)),..._0x29449b,async(_0x9f0920,_0x147fd3)=>{const _0x562ade=_0x5ecb17;let _0x24e594=await this[_0x562ade(0x6b8)]({'request':_0x9f0920,'schema':null,'ClassRef':Object,'execute':(_0x3d22b5,_0x16d21f)=>P['getBase64FromMediaMessage'](_0x3d22b5,_0x16d21f)});return _0x147fd3['status'](0xc9)['json'](_0x24e594);})['post'](this[_0x5ecb17(0x657)]('findMessages'),..._0x29449b,async(_0x3485d3,_0x1c0e03)=>{const _0x20bad6=_0x5ecb17;let _0x1c9678=await this[_0x20bad6(0x6b8)]({'request':_0x3485d3,'schema':Pa,'ClassRef':Ve,'execute':(_0x5b1245,_0x4eec16)=>P[_0x20bad6(0x2cd)](_0x5b1245,_0x4eec16)});return _0x1c0e03[_0x20bad6(0x4d1)](0xc8)[_0x20bad6(0x51e)](_0x1c9678);})['post'](this['routerPath']('findStatusMessage'),..._0x29449b,async(_0x24399e,_0x1004d7)=>{const _0x51ef46=_0x5ecb17;let _0x219972=await this['dataValidate']({'request':_0x24399e,'schema':_a,'ClassRef':tt,'execute':(_0x2f74a2,_0x3444a0)=>P['fetchStatusMessage'](_0x2f74a2,_0x3444a0)});return _0x1004d7[_0x51ef46(0x4d1)](0xc8)[_0x51ef46(0x51e)](_0x219972);})['get'](this[_0x5ecb17(0x657)](_0x5ecb17(0x48b)),..._0x29449b,async(_0x37677f,_0x31a868)=>{const _0x8f16b4=_0x5ecb17;let _0x1e51c3=await this[_0x8f16b4(0x6b8)]({'request':_0x37677f,'schema':null,'ClassRef':b,'execute':_0x3fe66e=>P['fetchChats'](_0x3fe66e)});return _0x31a868['status'](0xc8)[_0x8f16b4(0x51e)](_0x1e51c3);})[_0x5ecb17(0x5de)](this['routerPath'](_0x5ecb17(0x67e)),..._0x29449b,async(_0x36aa35,_0xccbd2b)=>{const _0x329d31=_0x5ecb17;let _0x3c0731=await this['dataValidate']({'request':_0x36aa35,'schema':null,'ClassRef':b,'execute':_0x50263e=>P[_0x329d31(0x67e)](_0x50263e)});return _0xccbd2b[_0x329d31(0x4d1)](0xc8)[_0x329d31(0x51e)](_0x3c0731);})[_0x5ecb17(0x644)](this['routerPath']('updatePrivacySettings'),..._0x29449b,async(_0x502226,_0x464e96)=>{const _0x3ca8e9=_0x5ecb17;let _0xe6b750=await this[_0x3ca8e9(0x6b8)]({'request':_0x502226,'schema':Ta,'ClassRef':Ke,'execute':(_0x255ded,_0x1db304)=>P[_0x3ca8e9(0x325)](_0x255ded,_0x1db304)});return _0x464e96[_0x3ca8e9(0x4d1)](0xc9)['json'](_0xe6b750);})[_0x5ecb17(0x261)](this['routerPath'](_0x5ecb17(0x381)),..._0x29449b,async(_0x5be046,_0x5f9b7e)=>{const _0x17568f=_0x5ecb17;let _0x262840=await this[_0x17568f(0x6b8)]({'request':_0x5be046,'schema':Te,'ClassRef':fe,'execute':(_0x7362f0,_0x21f04a)=>P['fetchBusinessProfile'](_0x7362f0,_0x21f04a)});return _0x5f9b7e[_0x17568f(0x4d1)](0xc8)[_0x17568f(0x51e)](_0x262840);})[_0x5ecb17(0x261)](this['routerPath'](_0x5ecb17(0x4a3)),..._0x29449b,async(_0x38c177,_0x2cf34e)=>{const _0x1960ef=_0x5ecb17;let _0x567969=await this[_0x1960ef(0x6b8)]({'request':_0x38c177,'schema':Ia,'ClassRef':Je,'execute':(_0x491f0a,_0x56a03c)=>P[_0x1960ef(0x4a3)](_0x491f0a,_0x56a03c)});return _0x2cf34e[_0x1960ef(0x4d1)](0xc8)[_0x1960ef(0x51e)](_0x567969);})['post'](this[_0x5ecb17(0x657)]('updateProfileStatus'),..._0x29449b,async(_0x4da497,_0x4ecb3c)=>{const _0xa99307=_0x5ecb17;let _0x25344c=await this[_0xa99307(0x6b8)]({'request':_0x4da497,'schema':Da,'ClassRef':qe,'execute':(_0x3d0eb4,_0x1c15ab)=>P['updateProfileStatus'](_0x3d0eb4,_0x1c15ab)});return _0x4ecb3c[_0xa99307(0x4d1)](0xc8)['json'](_0x25344c);})[_0x5ecb17(0x644)](this[_0x5ecb17(0x657)]('updateProfilePicture'),..._0x29449b,async(_0x34ec0b,_0x2c8732)=>{const _0x5e2c63=_0x5ecb17;let _0x1997ec=await this[_0x5e2c63(0x6b8)]({'request':_0x34ec0b,'schema':Te,'ClassRef':fe,'execute':(_0xf8dfc2,_0x4d7005)=>P['updateProfilePicture'](_0xf8dfc2,_0x4d7005)});return _0x2c8732[_0x5e2c63(0x4d1)](0xc8)[_0x5e2c63(0x51e)](_0x1997ec);})[_0x5ecb17(0x6c2)](this[_0x5ecb17(0x657)](_0x5ecb17(0x59a)),..._0x29449b,async(_0x543a97,_0x2e1fcb)=>{const _0x1268a0=_0x5ecb17;let _0x4007b5=await this[_0x1268a0(0x6b8)]({'request':_0x543a97,'schema':Te,'ClassRef':fe,'execute':(_0x4d8f77,_0x3ff3c0)=>P['removeProfilePicture'](_0x4d8f77,_0x3ff3c0)});return _0x2e1fcb[_0x1268a0(0x4d1)](0xc8)[_0x1268a0(0x51e)](_0x4007b5);});}},Ja=require(a0_0x32ece7(0x2ed)),ot=class{},it=class{},rt=class{},nt=class{},ct=class{},Y=class{},lt=class{},ut=class extends Y{},dt=class extends Y{},pt=class extends _{constructor(..._0x2f7c92){const _0x4b008a=a0_0x32ece7;super(),this[_0x4b008a(0x46d)]=(0x0,Ja[_0x4b008a(0x53e)])(),this[_0x4b008a(0x46d)][_0x4b008a(0x261)](this[_0x4b008a(0x657)](_0x4b008a(0x176)),..._0x2f7c92,async(_0x92652a,_0x401d77)=>{const _0x9cfc8c=_0x4b008a;let _0x4eb968=await this['dataValidate']({'request':_0x92652a,'schema':xa,'ClassRef':ot,'execute':(_0x42dae5,_0x9d43ac)=>U[_0x9cfc8c(0x564)](_0x42dae5,_0x9d43ac)});_0x401d77[_0x9cfc8c(0x4d1)](0xc9)['json'](_0x4eb968);})[_0x4b008a(0x644)](this[_0x4b008a(0x657)](_0x4b008a(0x708)),..._0x2f7c92,async(_0x445e78,_0x4aeae9)=>{const _0x977fda=_0x4b008a;let _0x326399=await this['groupValidate']({'request':_0x445e78,'schema':La,'ClassRef':it,'execute':(_0x46bd79,_0x34f628)=>U[_0x977fda(0x708)](_0x46bd79,_0x34f628)});_0x4aeae9[_0x977fda(0x4d1)](0xc9)[_0x977fda(0x51e)](_0x326399);})[_0x4b008a(0x644)](this['routerPath'](_0x4b008a(0x390)),..._0x2f7c92,async(_0x1e1c68,_0x58fe6c)=>{const _0x2e6c9c=_0x4b008a;let _0x24b3be=await this[_0x2e6c9c(0x3b7)]({'request':_0x1e1c68,'schema':Ua,'ClassRef':rt,'execute':(_0x3302c6,_0x203ef8)=>U[_0x2e6c9c(0x390)](_0x3302c6,_0x203ef8)});_0x58fe6c[_0x2e6c9c(0x4d1)](0xc9)[_0x2e6c9c(0x51e)](_0x24b3be);})[_0x4b008a(0x644)](this['routerPath'](_0x4b008a(0x5e0)),..._0x2f7c92,async(_0x28b245,_0xcd86dc)=>{const _0x3f5eb2=_0x4b008a;let _0x4f8d=await this[_0x3f5eb2(0x3b7)]({'request':_0x28b245,'schema':Va,'ClassRef':nt,'execute':(_0x48d6e4,_0x37eb3)=>U[_0x3f5eb2(0x5e0)](_0x48d6e4,_0x37eb3)});_0xcd86dc[_0x3f5eb2(0x4d1)](0xc9)['json'](_0x4f8d);})[_0x4b008a(0x644)](this[_0x4b008a(0x657)](_0x4b008a(0x336)),..._0x2f7c92,async(_0x335117,_0x21f606)=>{const _0x5b3541=_0x4b008a;let _0x4975b9=await this[_0x5b3541(0x3b7)]({'request':_0x335117,'schema':ja,'ClassRef':ct,'execute':(_0x30357e,_0x4ac99a)=>U[_0x5b3541(0x336)](_0x30357e,_0x4ac99a)});_0x21f606[_0x5b3541(0x4d1)](0xc9)[_0x5b3541(0x51e)](_0x4975b9);})[_0x4b008a(0x644)](this[_0x4b008a(0x657)](_0x4b008a(0x23c)),..._0x2f7c92,async(_0x25257e,_0x12b362)=>{const _0x250545=_0x4b008a;let _0x22cfb6=await this[_0x250545(0x3b7)]({'request':_0x25257e,'schema':ka,'ClassRef':dt,'execute':(_0x356b78,_0x3246ec)=>U[_0x250545(0x23c)](_0x356b78,_0x3246ec)});_0x12b362[_0x250545(0x4d1)](0xc9)[_0x250545(0x51e)](_0x22cfb6);})[_0x4b008a(0x5de)](this[_0x4b008a(0x657)](_0x4b008a(0x67a)),..._0x2f7c92,async(_0x21cbb0,_0x255d3a)=>{const _0x2621b6=_0x4b008a;let _0x5ad5cc=await this[_0x2621b6(0x3b7)]({'request':_0x21cbb0,'schema':Me,'ClassRef':Y,'execute':(_0xcb6cc5,_0x29645b)=>U[_0x2621b6(0x48a)](_0xcb6cc5,_0x29645b)});_0x255d3a[_0x2621b6(0x4d1)](0xc8)['json'](_0x5ad5cc);})['get'](this[_0x4b008a(0x657)](_0x4b008a(0x2a3)),..._0x2f7c92,async(_0x24fa49,_0x6552a0)=>{const _0x3568e3=_0x4b008a;let _0x2b0e40=await this['dataValidate']({'request':_0x24fa49,'schema':v,'ClassRef':b,'execute':_0x57a2a6=>U[_0x3568e3(0x2a3)](_0x57a2a6)});_0x6552a0[_0x3568e3(0x4d1)](0xc8)[_0x3568e3(0x51e)](_0x2b0e40);})['get'](this[_0x4b008a(0x657)](_0x4b008a(0x250)),..._0x2f7c92,async(_0x2fd9b8,_0x297520)=>{const _0xa6106d=_0x4b008a;let _0x4d17bc=await this[_0xa6106d(0x3b7)]({'request':_0x2fd9b8,'schema':Me,'ClassRef':Y,'execute':(_0x42dfe0,_0x441a7a)=>U[_0xa6106d(0x3a7)](_0x42dfe0,_0x441a7a)});_0x297520[_0xa6106d(0x4d1)](0xc8)[_0xa6106d(0x51e)](_0x4d17bc);})[_0x4b008a(0x5de)](this[_0x4b008a(0x657)](_0x4b008a(0x664)),..._0x2f7c92,async(_0x12a612,_0xf2e6b7)=>{const _0x37d06f=_0x4b008a;let _0x5c5c42=await this[_0x37d06f(0x3b7)]({'request':_0x12a612,'schema':Me,'ClassRef':Y,'execute':(_0x26352c,_0x5e4db3)=>U[_0x37d06f(0x664)](_0x26352c,_0x5e4db3)});_0xf2e6b7[_0x37d06f(0x4d1)](0xc8)['json'](_0x5c5c42);})[_0x4b008a(0x644)](this[_0x4b008a(0x657)](_0x4b008a(0x24f)),..._0x2f7c92,async(_0xf865c7,_0x692131)=>{const _0x54726a=_0x4b008a;let _0x24a184=await this[_0x54726a(0x23e)]({'request':_0xf865c7,'schema':Ba,'ClassRef':lt,'execute':(_0x396863,_0x1bf0f0)=>U['joinGroup'](_0x396863,_0x1bf0f0)});_0x692131[_0x54726a(0x4d1)](0xc9)[_0x54726a(0x51e)](_0x24a184);})['put'](this[_0x4b008a(0x657)](_0x4b008a(0x45f)),..._0x2f7c92,async(_0x38f84b,_0x26a056)=>{const _0x4533e3=_0x4b008a;let _0x386ee2=await this[_0x4533e3(0x3b7)]({'request':_0x38f84b,'schema':Me,'ClassRef':Y,'execute':(_0xf52464,_0xb5ed99)=>U[_0x4533e3(0x45f)](_0xf52464,_0xb5ed99)});_0x26a056[_0x4533e3(0x4d1)](0xc9)['json'](_0x386ee2);})[_0x4b008a(0x644)](this[_0x4b008a(0x657)](_0x4b008a(0x583)),..._0x2f7c92,async(_0x5ccf76,_0x12b0e0)=>{const _0x11e7ae=_0x4b008a;let _0x2dd0b9=await this[_0x11e7ae(0x3b7)]({'request':_0x5ccf76,'schema':$a,'ClassRef':ut,'execute':(_0x360f1e,_0x1e59d4)=>U['updateGParticipate'](_0x360f1e,_0x1e59d4)});_0x12b0e0[_0x11e7ae(0x4d1)](0xc9)[_0x11e7ae(0x51e)](_0x2dd0b9);})['delete'](this[_0x4b008a(0x657)](_0x4b008a(0x501)),..._0x2f7c92,async(_0x16df3c,_0x2eb7dc)=>{const _0x1551ba=_0x4b008a;let _0x4ae5cc=await this[_0x1551ba(0x3b7)]({'request':_0x16df3c,'schema':{},'ClassRef':Y,'execute':(_0x45d7bb,_0xcd5edd)=>U[_0x1551ba(0x501)](_0x45d7bb,_0xcd5edd)});_0x2eb7dc[_0x1551ba(0x4d1)](0xc8)[_0x1551ba(0x51e)](_0x4ae5cc);});}},Ha=require(a0_0x32ece7(0x2ed)),Oe=require(a0_0x32ece7(0x49b)),gs=require('uuid'),qa=require(a0_0x32ece7(0x3b4)),Wa=T(require(a0_0x32ece7(0x21a))),mt=class{},gt=class c{constructor(_0x187126,_0xe3be40,_0x4f03da){const _0x51899d=a0_0x32ece7;this[_0x51899d(0x1f7)]=_0x187126,this[_0x51899d(0x6f2)]=_0xe3be40,this[_0x51899d(0x5d8)]=_0x4f03da,this['logger']=new C(c[_0x51899d(0x1e8)]);}async['jwt'](_0x54bdb5){const _0x3ade1b=a0_0x32ece7;let _0xc23e28=this[_0x3ade1b(0x1f7)]['get'](_0x3ade1b(0x614))[_0x3ade1b(0x310)],_0x5d759d=(0x0,Oe[_0x3ade1b(0x3c9)])({'instanceName':_0x54bdb5[_0x3ade1b(0x56c)],'apiName':Ye,'tokenId':(0x0,gs['v4'])()},_0xc23e28[_0x3ade1b(0x560)],{'expiresIn':_0xc23e28['EXPIRIN_IN'],'encoding':_0x3ade1b(0x460),'subject':_0x3ade1b(0x4b5)}),_0x2c153b=await this[_0x3ade1b(0x5d8)]['auth'][_0x3ade1b(0x176)]({'jwt':_0x5d759d},_0x54bdb5['instanceName']);if(_0x2c153b['error'])throw this[_0x3ade1b(0x21f)][_0x3ade1b(0x24d)]({'localError':c['name']+_0x3ade1b(0x3db),'error':_0x2c153b[_0x3ade1b(0x24d)]}),new m(_0x3ade1b(0x4a1),_0x2c153b[_0x3ade1b(0x24d)]?.[_0x3ade1b(0x702)]());return{'jwt':_0x5d759d};}async[a0_0x32ece7(0x183)](_0x3a5395){const _0x10352b=a0_0x32ece7;let _0x26e131=(0x0,gs['v4'])()[_0x10352b(0x66d)](),_0x2a68e4=await this[_0x10352b(0x5d8)]['auth'][_0x10352b(0x176)]({'apikey':_0x26e131},_0x3a5395['instanceName']);if(_0x2a68e4['error'])throw this[_0x10352b(0x21f)][_0x10352b(0x24d)]({'localError':c['name']+_0x10352b(0x3db),'error':_0x2a68e4[_0x10352b(0x24d)]}),new m(_0x10352b(0x4a1),_0x2a68e4[_0x10352b(0x24d)]?.[_0x10352b(0x702)]());return{'apikey':_0x26e131};}async[a0_0x32ece7(0x608)](_0x5b6274){const _0x16d005=a0_0x32ece7;let _0x55a87c=this['configService'][_0x16d005(0x5de)](_0x16d005(0x614));return await this[_0x55a87c[_0x16d005(0x6b4)]](_0x5b6274);}async[a0_0x32ece7(0x19e)]({oldToken:_0x2291be}){const _0x3757c3=a0_0x32ece7;if(!(0x0,qa[_0x3757c3(0x1f0)])(_0x2291be))throw new m(_0x3757c3(0x379));try{let _0x175025=this[_0x3757c3(0x1f7)][_0x3757c3(0x5de)](_0x3757c3(0x614))[_0x3757c3(0x310)],_0x5d4438=(0x0,Oe[_0x3757c3(0x2da)])(_0x2291be,_0x175025['SECRET'],{'ignoreExpiration':!0x0}),_0x17ed4a=await this[_0x3757c3(0x5d8)][_0x3757c3(0x1b6)]['find'](_0x5d4438[_0x3757c3(0x56c)]),_0xcce8da=(0x0,Oe[_0x3757c3(0x2da)])(_0x17ed4a[_0x3757c3(0x58d)],_0x175025['SECRET'],{'ignoreExpiration':!0x0});if(_0x5d4438[_0x3757c3(0x15a)]!==_0xcce8da['tokenId'])throw new m(_0x3757c3(0x379));let _0x5e7288={'jwt':(await this[_0x3757c3(0x58d)]({'instanceName':_0x5d4438['instanceName']}))[_0x3757c3(0x58d)],'instanceName':_0x5d4438[_0x3757c3(0x56c)]};try{let _0x5df7b0=await this[_0x3757c3(0x5d8)][_0x3757c3(0x234)][_0x3757c3(0x1dd)](_0x5d4438[_0x3757c3(0x56c)]);_0x5df7b0?.[_0x3757c3(0x2bf)]&&this[_0x3757c3(0x1f7)]['get'](_0x3757c3(0x367))[_0x3757c3(0x494)][_0x3757c3(0x33b)]&&await Wa[_0x3757c3(0x490)][_0x3757c3(0x176)]({'baseURL':_0x5df7b0[_0x3757c3(0x396)]})[_0x3757c3(0x261)]('',{'event':_0x3757c3(0x59c),'instance':_0x5d4438[_0x3757c3(0x56c)],'data':_0x5e7288},{'params':{'owner':this[_0x3757c3(0x6f2)][_0x3757c3(0x3fd)][_0x5d4438[_0x3757c3(0x56c)]][_0x3757c3(0x6ff)]}});}catch(_0x25633d){this[_0x3757c3(0x21f)][_0x3757c3(0x24d)](_0x25633d);}return _0x5e7288;}catch(_0x4a8350){throw this[_0x3757c3(0x21f)][_0x3757c3(0x24d)]({'localError':c[_0x3757c3(0x1e8)]+'.refreshToken','error':_0x4a8350}),new m(_0x3757c3(0x379));}}},ht=class extends _{constructor(_0x1040fc,..._0x5ac199){const _0x543078=a0_0x32ece7;super(),this[_0x543078(0x1f7)]=_0x1040fc,this[_0x543078(0x46d)]=(0x0,Ha[_0x543078(0x53e)])();let _0x5bee00=_0x1040fc['get'](_0x543078(0x614));this['router'][_0x543078(0x261)](_0x543078(0x309),..._0x5ac199,async(_0x534e7c,_0x3f5efe)=>{const _0x34407b=_0x543078;let {instanceName:_0x12a9d1,apikey:_0x136afb}=_0x534e7c[_0x34407b(0x3e4)],_0x4df421=await ne[_0x34407b(0x42d)]({'instanceName':_0x12a9d1,'apikey':_0x136afb});return _0x3f5efe[_0x34407b(0x4d1)](0xc9)[_0x34407b(0x51e)](_0x4df421);})[_0x543078(0x644)](this[_0x543078(0x657)]('restart'),..._0x5ac199,async(_0x4e08c9,_0x1dca2b)=>{const _0x83fa70=_0x543078;let _0x281b17=await this['dataValidate']({'request':_0x4e08c9,'schema':v,'ClassRef':b,'execute':_0x23e3ba=>ne[_0x83fa70(0x46f)](_0x23e3ba)});return _0x1dca2b[_0x83fa70(0x4d1)](0xc8)['json'](_0x281b17);})[_0x543078(0x5de)](this['routerPath']('connect'),..._0x5ac199,async(_0x2402a1,_0x188ffa)=>{const _0x24a462=_0x543078;let _0x2037fe=await this[_0x24a462(0x6b8)]({'request':_0x2402a1,'schema':v,'ClassRef':b,'execute':_0x3a681e=>ne[_0x24a462(0x22d)](_0x3a681e)});return _0x188ffa['status'](0xc8)[_0x24a462(0x51e)](_0x2037fe);})[_0x543078(0x5de)](this[_0x543078(0x657)](_0x543078(0x2a6)),..._0x5ac199,async(_0x6ff252,_0x3ad68c)=>{const _0x4ce94a=_0x543078;let _0x1d1184=await this[_0x4ce94a(0x6b8)]({'request':_0x6ff252,'schema':v,'ClassRef':b,'execute':_0x461bdd=>ne[_0x4ce94a(0x2a6)](_0x461bdd)});return _0x3ad68c[_0x4ce94a(0x4d1)](0xc8)[_0x4ce94a(0x51e)](_0x1d1184);})['get'](this[_0x543078(0x657)](_0x543078(0x383),!0x1),..._0x5ac199,async(_0x302e6f,_0x19adbf)=>{const _0xf8518=_0x543078;let _0x2c8ce3=await this[_0xf8518(0x6b8)]({'request':_0x302e6f,'schema':null,'ClassRef':b,'execute':_0x298d5d=>ne[_0xf8518(0x383)](_0x298d5d)});return _0x19adbf['status'](0xc8)[_0xf8518(0x51e)](_0x2c8ce3);})['delete'](this['routerPath'](_0x543078(0x621)),..._0x5ac199,async(_0x1fcbed,_0xea061b)=>{const _0x50ea58=_0x543078;let _0x4af3c7=await this[_0x50ea58(0x6b8)]({'request':_0x1fcbed,'schema':v,'ClassRef':b,'execute':_0x4d7ade=>ne[_0x50ea58(0x621)](_0x4d7ade)});return _0xea061b[_0x50ea58(0x4d1)](0xc8)[_0x50ea58(0x51e)](_0x4af3c7);})['delete'](this[_0x543078(0x657)](_0x543078(0x6c2)),..._0x5ac199,async(_0x55e52c,_0xb896de)=>{const _0x4a18a3=_0x543078;let _0x4474e1=await this[_0x4a18a3(0x6b8)]({'request':_0x55e52c,'schema':v,'ClassRef':b,'execute':_0x2af205=>ne[_0x4a18a3(0x59b)](_0x2af205)});return _0xb896de[_0x4a18a3(0x4d1)](0xc8)[_0x4a18a3(0x51e)](_0x4474e1);}),_0x5bee00[_0x543078(0x6b4)]==='jwt'&&this[_0x543078(0x46d)][_0x543078(0x644)](_0x543078(0x2bb),async(_0x3cdbdf,_0x7b89dc)=>{const _0x47e39a=_0x543078;let _0x210236=await this[_0x47e39a(0x6b8)]({'request':_0x3cdbdf,'schema':ua,'ClassRef':mt,'execute':(_0x4041c0,_0x4a8020)=>ne[_0x47e39a(0x19e)](_0x4041c0,_0x4a8020)});return _0x7b89dc[_0x47e39a(0x4d1)](0xc9)[_0x47e39a(0x51e)](_0x210236);});}},Ka=require(a0_0x32ece7(0x2ed)),hs=class{},K=class extends hs{},ft=class extends K{},wt=class extends K{},yt=class extends K{},Pe=class extends K{},bt=class extends K{},St=class extends K{},Et=class extends K{},Nt=class extends K{},vt=class extends K{},Ct=class{},Tt=class extends _{constructor(..._0x5e31b4){const _0x1fa5e0=a0_0x32ece7;super(),this['router']=(0x0,Ka[_0x1fa5e0(0x53e)])(),this[_0x1fa5e0(0x46d)]['post'](this[_0x1fa5e0(0x657)](_0x1fa5e0(0x1b4)),..._0x5e31b4,async(_0x3a4aa4,_0x4197aa)=>{const _0x256617=_0x1fa5e0;let _0x39f1b8=await this[_0x256617(0x6b8)]({'request':_0x3a4aa4,'schema':da,'ClassRef':ft,'execute':(_0x249f49,_0x57f633)=>W[_0x256617(0x1b4)](_0x249f49,_0x57f633)});return _0x4197aa['status'](0xc9)['json'](_0x39f1b8);})['post'](this[_0x1fa5e0(0x657)](_0x1fa5e0(0x40d)),..._0x5e31b4,async(_0x1b08ab,_0x25a3d4)=>{const _0x36cb5e=_0x1fa5e0;let _0x5a3874=await this[_0x36cb5e(0x6b8)]({'request':_0x1b08ab,'schema':ha,'ClassRef':Pe,'execute':(_0x306faa,_0x33d122)=>W[_0x36cb5e(0x40d)](_0x306faa,_0x33d122)});return _0x25a3d4['status'](0xc9)['json'](_0x5a3874);})['post'](this['routerPath']('sendWhatsAppAudio'),..._0x5e31b4,async(_0x28550f,_0x47efde)=>{const _0x34c3fe=_0x1fa5e0;let _0x24121a=await this[_0x34c3fe(0x6b8)]({'request':_0x28550f,'schema':fa,'ClassRef':Pe,'execute':(_0x5ca257,_0x24e56b)=>W[_0x34c3fe(0x4a9)](_0x5ca257,_0x24e56b)});return _0x47efde[_0x34c3fe(0x4d1)](0xc9)[_0x34c3fe(0x51e)](_0x24121a);})[_0x1fa5e0(0x261)](this[_0x1fa5e0(0x657)](_0x1fa5e0(0x47f)),..._0x5e31b4,async(_0x47295c,_0x56ca16)=>{const _0x402d98=_0x1fa5e0;let _0x21798d=await this[_0x402d98(0x6b8)]({'request':_0x47295c,'schema':ya,'ClassRef':St,'execute':(_0x505a26,_0x573252)=>W[_0x402d98(0x47f)](_0x505a26,_0x573252)});return _0x56ca16[_0x402d98(0x4d1)](0xc9)['json'](_0x21798d);})[_0x1fa5e0(0x261)](this[_0x1fa5e0(0x657)]('sendLocation'),..._0x5e31b4,async(_0x2678ee,_0xb21cf8)=>{const _0x4f96f0=_0x1fa5e0;let _0x470ce8=await this[_0x4f96f0(0x6b8)]({'request':_0x2678ee,'schema':ba,'ClassRef':Et,'execute':(_0x31f6d4,_0x181279)=>W[_0x4f96f0(0x229)](_0x31f6d4,_0x181279)});return _0xb21cf8[_0x4f96f0(0x4d1)](0xc9)[_0x4f96f0(0x51e)](_0x470ce8);})[_0x1fa5e0(0x261)](this[_0x1fa5e0(0x657)](_0x1fa5e0(0x3b9)),..._0x5e31b4,async(_0x2e4a6e,_0x2fd69a)=>{const _0x29690d=_0x1fa5e0;let _0x34db18=await this[_0x29690d(0x6b8)]({'request':_0x2e4a6e,'schema':Sa,'ClassRef':Nt,'execute':(_0xabf5af,_0x2b3638)=>W[_0x29690d(0x3b9)](_0xabf5af,_0x2b3638)});return _0x2fd69a['status'](0xc9)[_0x29690d(0x51e)](_0x34db18);})['post'](this[_0x1fa5e0(0x657)](_0x1fa5e0(0x398)),..._0x5e31b4,async(_0x472bba,_0x2d4548)=>{const _0x83e126=_0x1fa5e0;let _0x5f1fea=await this['dataValidate']({'request':_0x472bba,'schema':Ea,'ClassRef':vt,'execute':(_0x562a9a,_0x1846c8)=>W[_0x83e126(0x398)](_0x562a9a,_0x1846c8)});return _0x2d4548[_0x83e126(0x4d1)](0xc9)[_0x83e126(0x51e)](_0x5f1fea);})[_0x1fa5e0(0x261)](this[_0x1fa5e0(0x657)](_0x1fa5e0(0x4f0)),..._0x5e31b4,async(_0xef2516,_0xb05124)=>{const _0x476056=_0x1fa5e0;let _0x489661=await this['dataValidate']({'request':_0xef2516,'schema':Na,'ClassRef':Ct,'execute':(_0x530dc4,_0x186cd7)=>W[_0x476056(0x4f0)](_0x530dc4,_0x186cd7)});return _0xb05124[_0x476056(0x4d1)](0xc9)[_0x476056(0x51e)](_0x489661);})[_0x1fa5e0(0x261)](this[_0x1fa5e0(0x657)](_0x1fa5e0(0x467)),..._0x5e31b4,async(_0x2404c7,_0x188a26)=>{const _0x1fe5e3=_0x1fa5e0;let _0x57c0c0=await this[_0x1fe5e3(0x6b8)]({'request':_0x2404c7,'schema':wa,'ClassRef':yt,'execute':(_0x1b7188,_0x3b544f)=>W[_0x1fe5e3(0x467)](_0x1b7188,_0x3b544f)});return _0x188a26['status'](0xc9)[_0x1fe5e3(0x51e)](_0x57c0c0);})[_0x1fa5e0(0x261)](this[_0x1fa5e0(0x657)](_0x1fa5e0(0x3c1)),..._0x5e31b4,async(_0x56c679,_0x2a3035)=>{const _0x19ccb0=_0x1fa5e0;let _0x4115df=await this[_0x19ccb0(0x6b8)]({'request':_0x56c679,'schema':ga,'ClassRef':wt,'execute':(_0x3b4bab,_0xf041a3)=>W[_0x19ccb0(0x3c1)](_0x3b4bab,_0xf041a3)});return _0x2a3035['status'](0xc9)[_0x19ccb0(0x51e)](_0x4115df);})[_0x1fa5e0(0x261)](this[_0x1fa5e0(0x657)](_0x1fa5e0(0x470)),..._0x5e31b4,async(_0x42a5c3,_0x4b3b37)=>{const _0x4cf3fe=_0x1fa5e0;let _0x5c944c=await this[_0x4cf3fe(0x6b8)]({'request':_0x42a5c3,'schema':ma,'ClassRef':bt,'execute':(_0x1b5836,_0x5b8eac)=>W[_0x4cf3fe(0x470)](_0x1b5836,_0x5b8eac)});return _0x4b3b37[_0x4cf3fe(0x4d1)](0xc9)['json'](_0x5c944c);});}},za=require('express'),Mt=class extends _{constructor(..._0x322564){const _0x58cbea=a0_0x32ece7;super(),this[_0x58cbea(0x46d)]=(0x0,za[_0x58cbea(0x53e)])(),this[_0x58cbea(0x46d)][_0x58cbea(0x5de)](this[_0x58cbea(0x657)](_0x58cbea(0x5f7)),..._0x322564,(_0x2e86c8,_0x359a01)=>Qa['qrcode'](_0x2e86c8,_0x359a01));}},Ya=require(a0_0x32ece7(0x2ed)),Rt=class{},At=class extends _{constructor(..._0x48bfa0){const _0x294662=a0_0x32ece7;super(),this[_0x294662(0x46d)]=(0x0,Ya[_0x294662(0x53e)])(),this[_0x294662(0x46d)]['post'](this[_0x294662(0x657)](_0x294662(0x4fd)),..._0x48bfa0,async(_0x6b8cef,_0x15fff6)=>{const _0x1fd4ca=_0x294662;let _0x185e02=await this['dataValidate']({'request':_0x6b8cef,'schema':Fa,'ClassRef':Rt,'execute':(_0x59cb66,_0x23d44f)=>fs[_0x1fd4ca(0x2b1)](_0x59cb66,_0x23d44f)});_0x15fff6[_0x1fd4ca(0x4d1)](0xc9)[_0x1fd4ca(0x51e)](_0x185e02);})[_0x294662(0x5de)](this[_0x294662(0x657)](_0x294662(0x1dd)),..._0x48bfa0,async(_0x5f53bf,_0x363bb7)=>{const _0x318e82=_0x294662;let _0x5b4706=await this[_0x318e82(0x6b8)]({'request':_0x5f53bf,'schema':v,'ClassRef':b,'execute':_0x274980=>fs['findWebhook'](_0x274980)});_0x363bb7['status'](0xc8)['json'](_0x5b4706);});}},Xa=require(a0_0x32ece7(0x2ed)),g=new C(a0_0x32ece7(0x1cf)),It=class extends _{constructor(..._0x35da3f){const _0x33e15f=a0_0x32ece7;super(),this['router']=(0x0,Xa['Router'])(),this[_0x33e15f(0x46d)]['post'](this[_0x33e15f(0x657)](_0x33e15f(0x64a)),..._0x35da3f,async(_0xaad0e6,_0x199959)=>{const _0x1d5318=_0x33e15f;let _0x1b0f98=_0xaad0e6['body'];g[_0x1d5318(0x3a3)](_0x1d5318(0x267)),g[_0x1d5318(0x3a3)]('request\x20body:\x20'),g[_0x1d5318(0x3a3)](_0xaad0e6[_0x1d5318(0x3e4)]);let _0x2e1b9f=await this[_0x1d5318(0x6b8)]({'request':_0xaad0e6,'schema':v,'ClassRef':b,'execute':_0x175a93=>R[_0x1d5318(0x16c)](_0x175a93,_0x1b0f98)});_0x199959[_0x1d5318(0x4d1)](0xc8)[_0x1d5318(0x51e)](_0x2e1b9f);})['get'](this[_0x33e15f(0x657)](_0x33e15f(0x64a)),..._0x35da3f,async(_0x4c1b48,_0x41ce2b)=>{const _0x21f029=_0x33e15f;let _0x3fa7ac=await this[_0x21f029(0x6b8)]({'request':_0x4c1b48,'schema':v,'ClassRef':b,'execute':_0x334537=>R[_0x21f029(0x6e2)](_0x334537)});_0x41ce2b[_0x21f029(0x4d1)](0xc8)['json'](_0x3fa7ac);})[_0x33e15f(0x6c2)](this['routerPath'](_0x33e15f(0x5a4)),..._0x35da3f,async(_0x36e77b,_0x5324d2)=>{const _0x3479b8=_0x33e15f;g[_0x3479b8(0x3a3)]('request\x20received\x20in\x20deleteDoneMessages');let _0x114973=await this[_0x3479b8(0x6b8)]({'request':_0x36e77b,'schema':v,'ClassRef':b,'execute':_0x55923f=>R[_0x3479b8(0x5a4)](_0x55923f)});_0x5324d2[_0x3479b8(0x4d1)](0xc8)[_0x3479b8(0x51e)](_0x114973);})[_0x33e15f(0x261)](this[_0x33e15f(0x657)](_0x33e15f(0x471)),..._0x35da3f,async(_0x26ef65,_0x191769)=>{const _0x23feef=_0x33e15f;let _0x2778c2=_0x26ef65[_0x23feef(0x3e4)];g[_0x23feef(0x3a3)](_0x23feef(0x45d)),g['verbose'](_0x23feef(0x1a4)),g[_0x23feef(0x3a3)](_0x26ef65[_0x23feef(0x3e4)]);let _0x341c99=await this[_0x23feef(0x6b8)]({'request':_0x26ef65,'schema':v,'ClassRef':b,'execute':_0x2f9a2f=>R['startFlow'](_0x2f9a2f,_0x2778c2)});_0x191769[_0x23feef(0x4d1)](0xc8)[_0x23feef(0x51e)](_0x341c99);})['get'](this[_0x33e15f(0x657)](_0x33e15f(0x3d6)),..._0x35da3f,async(_0x201d22,_0x34db13)=>{const _0x14dbfd=_0x33e15f;g[_0x14dbfd(0x3a3)](_0x14dbfd(0x24e));let _0x56fcbd=await this[_0x14dbfd(0x6b8)]({'request':_0x201d22,'schema':v,'ClassRef':b,'execute':_0x11d41e=>R[_0x14dbfd(0x3d6)](_0x11d41e)});_0x34db13[_0x14dbfd(0x4d1)](0xc8)[_0x14dbfd(0x51e)](_0x56fcbd);})[_0x33e15f(0x5de)](this[_0x33e15f(0x657)]('getTicketSystem'),..._0x35da3f,async(_0x2e2772,_0x2ed2fb)=>{const _0x532abc=_0x33e15f;g[_0x532abc(0x3a3)]('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0x3f3a75=await this[_0x532abc(0x6b8)]({'request':_0x2e2772,'schema':v,'ClassRef':b,'execute':_0x497160=>R['getAutomateSystem'](_0x497160)});_0x2ed2fb['status'](0xc8)[_0x532abc(0x51e)](_0x3f3a75);})[_0x33e15f(0x261)](this['routerPath'](_0x33e15f(0x554)),..._0x35da3f,async(_0x4e50ef,_0x3e0c78)=>{const _0x988b5b=_0x33e15f;let _0x8f1b17=_0x4e50ef['body'];g['verbose'](_0x988b5b(0x257)),g[_0x988b5b(0x3a3)](_0x988b5b(0x1a4)),g['verbose'](_0x4e50ef['body']);let _0x315657=await this['dataValidate']({'request':_0x4e50ef,'schema':v,'ClassRef':b,'execute':_0x502676=>R[_0x988b5b(0x554)](_0x502676,_0x8f1b17)});_0x3e0c78[_0x988b5b(0x4d1)](0xc8)[_0x988b5b(0x51e)](_0x315657);})[_0x33e15f(0x261)](this[_0x33e15f(0x657)](_0x33e15f(0x575)),..._0x35da3f,async(_0x1b7017,_0x33ce1e)=>{const _0x12b415=_0x33e15f;let _0x484256=_0x1b7017[_0x12b415(0x3e4)];g[_0x12b415(0x3a3)]('request\x20received\x20in\x20updateCustomFields'),g['verbose'](_0x12b415(0x1a4)),g[_0x12b415(0x3a3)](_0x1b7017['body']);let _0x23bc2f=await this[_0x12b415(0x6b8)]({'request':_0x1b7017,'schema':v,'ClassRef':b,'execute':_0x17b414=>R['updateCustomFields'](_0x17b414,_0x484256)});_0x33ce1e['status'](0xc8)[_0x12b415(0x51e)](_0x23bc2f);})[_0x33e15f(0x261)](this[_0x33e15f(0x657)](_0x33e15f(0x201)),..._0x35da3f,async(_0x27e8ce,_0x36bb95)=>{const _0x3a9dfc=_0x33e15f;let _0x23ea3d=_0x27e8ce[_0x3a9dfc(0x3e4)];g[_0x3a9dfc(0x3a3)](_0x3a9dfc(0x391)),g[_0x3a9dfc(0x3a3)](_0x3a9dfc(0x1a4)),g[_0x3a9dfc(0x3a3)](_0x27e8ce[_0x3a9dfc(0x3e4)]);let _0x346804=await this['dataValidate']({'request':_0x27e8ce,'schema':v,'ClassRef':b,'execute':_0x2785c8=>R[_0x3a9dfc(0x201)](_0x2785c8,_0x23ea3d)});_0x36bb95[_0x3a9dfc(0x4d1)](0xc8)['json'](_0x346804);})[_0x33e15f(0x261)](this['routerPath'](_0x33e15f(0x667)),..._0x35da3f,async(_0x57dd85,_0x3a4210)=>{const _0x37e21f=_0x33e15f;let _0x1a0fac=_0x57dd85[_0x37e21f(0x3e4)];g[_0x37e21f(0x3a3)](_0x37e21f(0x341)),g[_0x37e21f(0x3a3)](_0x37e21f(0x1a4)),g[_0x37e21f(0x3a3)](_0x57dd85[_0x37e21f(0x3e4)]);let _0x5d894e=await this[_0x37e21f(0x6b8)]({'request':_0x57dd85,'schema':v,'ClassRef':b,'execute':_0x1e7d81=>R[_0x37e21f(0x667)](_0x1e7d81,_0x1a0fac)});_0x3a4210[_0x37e21f(0x4d1)](0xc8)['json'](_0x5d894e);})[_0x33e15f(0x261)](this[_0x33e15f(0x657)](_0x33e15f(0x663)),..._0x35da3f,async(_0x592af3,_0x1142ed)=>{const _0x5c1361=_0x33e15f;let _0x4c702e=_0x592af3[_0x5c1361(0x3e4)];g[_0x5c1361(0x3a3)](_0x5c1361(0x1c5)),g['verbose'](_0x5c1361(0x1a4)),g[_0x5c1361(0x3a3)](_0x592af3[_0x5c1361(0x3e4)]);let _0x476094=await this['dataValidate']({'request':_0x592af3,'schema':v,'ClassRef':b,'execute':_0xab8f07=>R['fetchConversation'](_0xab8f07,_0x4c702e)});_0x1142ed[_0x5c1361(0x4d1)](0xc8)[_0x5c1361(0x51e)](_0x476094);})[_0x33e15f(0x261)](this['routerPath']('editConversation'),..._0x35da3f,async(_0x11bbdf,_0xd11e81)=>{const _0x320d0a=_0x33e15f;let _0x25b5e4=_0x11bbdf['body'];g['verbose']('request\x20received\x20in\x20editConversation'),g['verbose']('request\x20body:\x20'),g['verbose'](_0x11bbdf[_0x320d0a(0x3e4)]);let _0x4090b5=await this[_0x320d0a(0x6b8)]({'request':_0x11bbdf,'schema':v,'ClassRef':b,'execute':_0x8a57=>R['editConversation'](_0x8a57,_0x25b5e4)});_0xd11e81[_0x320d0a(0x4d1)](0xc8)['json'](_0x4090b5);})[_0x33e15f(0x6c2)](this['routerPath'](_0x33e15f(0x5b9)),..._0x35da3f,async(_0x58564c,_0x45a422)=>{const _0x16ffb4=_0x33e15f;let _0x4823b3=_0x58564c[_0x16ffb4(0x3e4)];g[_0x16ffb4(0x3a3)](_0x16ffb4(0x2a4)),g[_0x16ffb4(0x3a3)](_0x16ffb4(0x1a4)),g[_0x16ffb4(0x3a3)](_0x58564c['body']);let _0x511d28=await this[_0x16ffb4(0x6b8)]({'request':_0x58564c,'schema':v,'ClassRef':b,'execute':_0x1f192d=>R[_0x16ffb4(0x5b9)](_0x1f192d,_0x4823b3)});_0x45a422[_0x16ffb4(0x4d1)](0xc8)[_0x16ffb4(0x51e)](_0x511d28);})[_0x33e15f(0x261)](this['routerPath'](_0x33e15f(0x6ca)),..._0x35da3f,async(_0x258f27,_0x38e2ef)=>{const _0x11010b=_0x33e15f;let _0x36388b=_0x258f27['body'];g[_0x11010b(0x3a3)]('request\x20received\x20in\x20createFlow'),g[_0x11010b(0x3a3)]('request\x20body:\x20'),g[_0x11010b(0x3a3)](_0x258f27[_0x11010b(0x3e4)]);let _0x1876d2=await this['dataValidate']({'request':_0x258f27,'schema':v,'ClassRef':b,'execute':_0x1163de=>R[_0x11010b(0x43b)](_0x1163de,_0x36388b)});_0x38e2ef[_0x11010b(0x4d1)](0xc8)[_0x11010b(0x51e)](_0x1876d2);})['post'](this[_0x33e15f(0x657)]('editflow'),..._0x35da3f,async(_0x413ed1,_0x41e8f4)=>{const _0x2ef837=_0x33e15f;let _0x138067=_0x413ed1[_0x2ef837(0x3e4)];g['verbose'](_0x2ef837(0x1ea)),g['verbose'](_0x2ef837(0x1a4)),g[_0x2ef837(0x3a3)](_0x413ed1[_0x2ef837(0x3e4)]),delete _0x138067[_0x2ef837(0x68f)],delete _0x138067[_0x2ef837(0x5f5)],delete _0x138067[_0x2ef837(0x335)],delete _0x138067[_0x2ef837(0x17c)];let _0x873da5=await this['dataValidate']({'request':_0x413ed1,'schema':v,'ClassRef':b,'execute':_0x595d6c=>R[_0x2ef837(0x609)](_0x595d6c,_0x138067)});_0x41e8f4[_0x2ef837(0x4d1)](0xc8)['json'](_0x873da5);})[_0x33e15f(0x261)](this['routerPath'](_0x33e15f(0x3ec)),..._0x35da3f,async(_0x4a93e1,_0x49a0ff)=>{const _0x1e85c4=_0x33e15f;let _0x23bc00=_0x4a93e1[_0x1e85c4(0x3e4)];g[_0x1e85c4(0x3a3)](_0x1e85c4(0x1ea)),g[_0x1e85c4(0x3a3)]('request\x20body:\x20'),g['verbose'](_0x4a93e1[_0x1e85c4(0x3e4)]);let _0x317f19=await this[_0x1e85c4(0x6b8)]({'request':_0x4a93e1,'schema':v,'ClassRef':b,'execute':_0x197e0c=>R['editFlowBlock'](_0x197e0c,_0x23bc00)});_0x49a0ff[_0x1e85c4(0x4d1)](0xc8)['json'](_0x317f19);})[_0x33e15f(0x261)](this[_0x33e15f(0x657)](_0x33e15f(0x38d)),..._0x35da3f,async(_0x4f39b3,_0x48cd2a)=>{const _0x348a7a=_0x33e15f;let _0x59e423=_0x4f39b3[_0x348a7a(0x3e4)];g[_0x348a7a(0x3a3)]('request\x20received\x20in\x20editFlow'),g[_0x348a7a(0x3a3)]('request\x20body:\x20'),g[_0x348a7a(0x3a3)](_0x4f39b3['body']);let _0x15acfb=await this[_0x348a7a(0x6b8)]({'request':_0x4f39b3,'schema':v,'ClassRef':b,'execute':_0x140c66=>R[_0x348a7a(0x205)](_0x140c66,_0x59e423)});_0x48cd2a[_0x348a7a(0x4d1)](0xc8)[_0x348a7a(0x51e)](_0x15acfb);})[_0x33e15f(0x261)](this[_0x33e15f(0x657)](_0x33e15f(0x26b)),..._0x35da3f,async(_0x138b08,_0x1f85b9)=>{const _0x5b68e8=_0x33e15f;let _0x13157d=_0x138b08[_0x5b68e8(0x3e4)];g['verbose']('request\x20received\x20in\x20editFlow'),g['verbose']('request\x20body:\x20'),g[_0x5b68e8(0x3a3)](_0x138b08[_0x5b68e8(0x3e4)]);let _0x1dfd49=await this[_0x5b68e8(0x6b8)]({'request':_0x138b08,'schema':v,'ClassRef':b,'execute':_0x14e16a=>R['editFlowVaredit'](_0x14e16a,_0x13157d)});_0x1f85b9[_0x5b68e8(0x4d1)](0xc8)[_0x5b68e8(0x51e)](_0x1dfd49);})[_0x33e15f(0x261)](this['routerPath']('editflowgroup'),..._0x35da3f,async(_0x11a662,_0x1fedfa)=>{const _0x171cb7=_0x33e15f;let _0x3d861e=_0x11a662['body'];g[_0x171cb7(0x3a3)](_0x171cb7(0x374)),g['verbose'](_0x171cb7(0x1a4)),g[_0x171cb7(0x3a3)](_0x11a662[_0x171cb7(0x3e4)]);let _0x53ea25=await this['dataValidate']({'request':_0x11a662,'schema':v,'ClassRef':b,'execute':_0xfe2b7f=>R['editFlowGroup'](_0xfe2b7f,_0x3d861e)});_0x1fedfa[_0x171cb7(0x4d1)](0xc8)[_0x171cb7(0x51e)](_0x53ea25);})[_0x33e15f(0x261)](this['routerPath']('editflowcondition'),..._0x35da3f,async(_0x2724ef,_0x2ea30e)=>{const _0x1ca006=_0x33e15f;let _0x679c60=_0x2724ef[_0x1ca006(0x3e4)];g[_0x1ca006(0x3a3)](_0x1ca006(0x3fc)),g[_0x1ca006(0x3a3)](_0x1ca006(0x1a4)),g['verbose'](_0x2724ef[_0x1ca006(0x3e4)]);let _0x3b57f4=await this[_0x1ca006(0x6b8)]({'request':_0x2724ef,'schema':v,'ClassRef':b,'execute':_0x550182=>R['editFlowCondition'](_0x550182,_0x679c60)});_0x2ea30e[_0x1ca006(0x4d1)](0xc8)[_0x1ca006(0x51e)](_0x3b57f4);})[_0x33e15f(0x261)](this[_0x33e15f(0x657)](_0x33e15f(0x476)),..._0x35da3f,async(_0x3d64d2,_0x2e8638)=>{const _0x3ae5d0=_0x33e15f;let _0x1e1c7c=_0x3d64d2[_0x3ae5d0(0x3e4)];g[_0x3ae5d0(0x3a3)](_0x3ae5d0(0x155)),g[_0x3ae5d0(0x3a3)]('request\x20body:\x20'),g[_0x3ae5d0(0x3a3)](_0x3d64d2['body']);let _0x1b1336=await this[_0x3ae5d0(0x6b8)]({'request':_0x3d64d2,'schema':v,'ClassRef':b,'execute':_0x5d0c31=>R[_0x3ae5d0(0x6f3)](_0x5d0c31,_0x1e1c7c)});_0x2e8638[_0x3ae5d0(0x4d1)](0xc8)[_0x3ae5d0(0x51e)](_0x1b1336);})['post'](this[_0x33e15f(0x657)](_0x33e15f(0x4cd)),..._0x35da3f,async(_0x1c20af,_0x4b10a9)=>{const _0x2e1bc7=_0x33e15f;let _0x298f5c=_0x1c20af[_0x2e1bc7(0x3e4)];g[_0x2e1bc7(0x3a3)]('request\x20received\x20in\x20getFlow'),g['verbose'](_0x2e1bc7(0x1a4)),g[_0x2e1bc7(0x3a3)](_0x1c20af[_0x2e1bc7(0x3e4)]);let _0x5e316c=await this['dataValidate']({'request':_0x1c20af,'schema':v,'ClassRef':b,'execute':_0x2dab26=>R[_0x2e1bc7(0x63d)](_0x2dab26,_0x298f5c)});_0x4b10a9[_0x2e1bc7(0x4d1)](0xc8)[_0x2e1bc7(0x51e)](_0x5e316c);})[_0x33e15f(0x6c2)](this[_0x33e15f(0x657)](_0x33e15f(0x47b)),..._0x35da3f,async(_0x554442,_0x4b4770)=>{const _0x596a98=_0x33e15f;let _0x165dbb=_0x554442[_0x596a98(0x3e4)];g['verbose'](_0x596a98(0x208)),g[_0x596a98(0x3a3)](_0x596a98(0x1a4)),g[_0x596a98(0x3a3)](_0x554442['body']);let _0x4ed33f=await this[_0x596a98(0x6b8)]({'request':_0x554442,'schema':v,'ClassRef':b,'execute':_0x44244f=>R[_0x596a98(0x36a)](_0x44244f,_0x165dbb)});_0x4b4770[_0x596a98(0x4d1)](0xc8)[_0x596a98(0x51e)](_0x4ed33f);})['get'](this[_0x33e15f(0x657)](_0x33e15f(0x5ff)),..._0x35da3f,async(_0x3a8bf9,_0x5c7aa1)=>{const _0x52c92b=_0x33e15f;g['verbose'](_0x52c92b(0x487));let _0x1f9e93=await this[_0x52c92b(0x6b8)]({'request':_0x3a8bf9,'schema':v,'ClassRef':b,'execute':_0x3dca89=>R[_0x52c92b(0x42a)](_0x3dca89)});_0x5c7aa1['status'](0xc8)[_0x52c92b(0x51e)](_0x1f9e93);});}},so=T(require(a0_0x32ece7(0x533))),X={};function a0_0x5e9a(){const _0x4b4277=['deletedCount','get','resetReconnectionVariables','groupName','):\x20Error\x20processing\x20the\x20block:\x20','CONECTADO\x20À\x20UAZAPI','):\x20Ignoring\x20group\x20messages.','URI','messages.upsert','compression','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','\x20foi\x20interrompido\x20pelo\x20usuário.','saveConversationToDatabase','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','https://api.ipify.org?format=json','closed','isConnected','contactModel','getRandomText','audioCodec','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','):\x20Enviando\x20localização','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','data','variables','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','qrcode','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','\x20is\x20already\x20in\x20use.','?authSource=admin&readPreference=primary&directConnection=true','2350326RQwbJg','statusMessage','STORE_CHATS','\x20foram\x20adicionados\x20\x22contactname\x22\x20','allflows','description',',\x20saindo.','mediaMessage','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','):\x20Enviando\x20áudio','The\x20global\x20api\x20key\x20must\x20be\x20set','condition','messages','generateHash','editFlow','size','exec','updateReadReceiptsPrivacy','model','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','Erro\x20ao\x20instalar\x20','image','isBusiness','Falha\x20ao\x20deletar\x20mensagens:','connecting','AUTHENTICATION','makeCacheableSignalKeyStore','Error\x20converting\x20audio:\x20','\x20segundos','\x22\x20cannot\x20be\x20empty','replaceValue','editFlowBlock','AUTHENTICATION_JWT_EXPIRIN_IN','dbInstance','ENABLED','stringify','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','logout','textMessage','noVideo','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','agents','editChat','@redis/client','The\x20instance\x20needs\x20to\x20be\x20disconnected','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','eventEmitter','fromMe','poll_id','count','pollCreationMessage','Media\x20folder\x20does\x20not\x20exist,\x20creating\x20folder...','editFlowGroup','created','):\x20Editando\x20condição\x20do\x20fluxo...','getPrototypeOf','fileLength','collections','Primeiro\x20Valor:\x20','reorderBlocks','writeData','SERVER_ACK','findContacts','Error\x20updating\x20message\x20status:','NO_IP','getFlow','client','WEBHOOK_EVENTS_STATUS_INSTANCE','uazapiSendAudio',',\x20qrcodeCount:\x20','messageContextInfo','error\x20get\x20vote','put','Types','changeVariables','rmSync','dbServer','variablesToObject','scheduleMessage','sendMessageWithTyping','loadEnv','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','notas','findGroup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','./.git/config','\x5cd+','waUploadToServer','):\x20nextBlock.uazapi.name','):\x20Erro\x20ao\x20editar\x20agentes:\x20','authModel','routerPath','Profile\x20not\x20found','PRESENCE_UPDATE','longitude','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','processgoToFlow','Número:\x20','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','modifiedCount','findOneAndUpdate','updateLastSeenPrivacy','segundos','fetchConversation','inviteCode','Missing\x20global\x20api\x20key','notContains','getConversation','apiName','):\x20Limpando\x20delayMessage','abs','200YdwbRe','CHATS_DELETE','toUpperCase','\x20\x1b[0m','option','.\x20Pulando.','lastSendMessage','views','stderr','apirequest','Enter\x20a\x20value\x20in\x20milliseconds','none','licenca','match_last_seen','/automate','findGroupInfos','participant','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','prepareWAMessageMedia','fetchPrivacySettings','processPollUpdateMessage','chrome','fetchContacts','ini','Comando\x20desconhecido','This\x20name\x20','pollMessageOnDelete','email','scheduleSendText','authState','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','pino','dropCollection','context','render','Schema','blocks','-version','\x0a{\x20instance:\x20','/media/','uazapiSendMedia','TRIAL_AD','sendMessage','unlocked','cleanStore','PROD','connection.update','waitingPoll_name','Read\x20messages\x20fail','\x1b[31m%s\x1b[0m','@g.us','deleteOne','sendDataWebhook','updateStopChat','updateProfilePicturePrivacy','sleep','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','applyvaredit','format','assign','exit','console','URL:','desativadoFluxoAte','50mb','):\x20Edit\x20schedule\x20message...','boolean','replaceOne','readFileSync','static','writeFileSync','chats.delete','bateu\x20events','TYPE','chatModel','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','readreceipts','dataValidate','WEBHOOK_EVENTS_CHATS_UPSERT','leadInfo.','validate','\x1b[41m','hGet','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','end','WEBHOOK_EVENTS_CONTACTS_UPSERT','state','delete','setContext','FlowController','web','start','MESSAGES_UPDATE','Instance\x20Key\x20from\x20DB:','chats','createflow','lastMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','contextInfo','eventemitter2','!cmd_','Flow\x20already\x20exists','KEY','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','Instance\x20deleted','pollCreationMessageV2','readMessageBot','loggedOut','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','uncaughtException','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','WEBHOOK_EVENTS_MESSAGES_SET','):\x20conversation.lastInteraction:\x20','fetchProfilePictureUrl','updateMediaMessage','processvaredits','Erro\x20ao\x20iniciar\x20fluxo:\x20','DELETED','getScheduleMessage','Group\x20not\x20found','Error\x20updating\x20privacy\x20settings','SEND_MESSAGE','goToFlow','\x1b[36m%s\x1b[0m','CONTACTS_SET','string','DATABASE_CONNECTION_PASSWORD','whatsappNumbers','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','performBulkUpdate','deleteMany','cors','getVariablesChat','/wa-message','waMonitor','editFlowVariable','qrcode-terminal','optionDescription','PASSWORD','customFields','/wa-message-update','):\x20Ler\x20mensagem','WEBHOOK_EVENTS_NEW_JWT_TOKEN','API_KEY','loadWebhook','\x20inseridos\x20no\x20banco\x20de\x20dados...','*Pergunta*:\x20\x0a','wuid','WEBHOOK_EVENTS_CHATS_UPDATE','1078144OzwxQt','toString','fetchStatusMessage','\x20minutos.\x20Será\x20às\x20','onWhatsApp','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','flowStopMinutes','updateGroupPicture','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','statSync','):\x20Buscando\x20todos\x20os\x20fluxos...','text','createServer','Erro:','readMessages','Error\x20updating\x20participants','):\x20Flow\x20não\x20encontrado','\x1b[47m','Conversa\x20deletada\x20com\x20sucesso.','flowActive','contact','updateBlock','toLocaleString','redis-server','chatLog','remove.instance','):\x20leadInfoVariables','js-yaml','LICENSE_INVALID','DATABASE_CONNECTION_URI','bearer','request\x20received\x20in\x20editFlowvariable','.sendDataWebhook-local','insertMany','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','command','tokenId','evaluateCondition','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','../env.yml','Error\x20updating\x20profile\x20name','forEach','conversation','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','/events','):\x20Query\x20params:','scheduleSendMedia','):\x20Flow\x20desativado',',\x20lastCondition:\x20','):\x20Buscando\x20conversa...','/chat','demote','getTime','LOG','editScheduleMessage','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','parse','generateWAMessageFromContent','Error\x20updating\x20setting','object','initAuthCreds','):\x20Falha\x20ao\x20deletar\x20mensagem.','connectionStatus','*\x0a\x0a','create','OrAnd','getDelay','CORS_METHODS','901521chvdyI','number','conditions','type','redirect','response','deleteMessageForEveryone','uazapiSendContact','dbClient','apikey','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','updateOne','No\x20participants','hbs','AutomateSystem','replaceVariablesInReplyOptions','groupLeave','Variável\x20não\x20encontrada!','instance','Read\x20messages','stdout','setting','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','audioMessage','messages.update','buttonMessage','Unknown\x20message\x20type\x20encountered','authentication','/exit','STORE_CLEANING_TERMINAL','throwAndLogError','SSL_CONF','):\x20debug\x20alterando\x20this.AutomateSystem','matchRegex','refreshToken','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','stickerMessage','SSL_CONF_PRIVKEY','PREFIX_KEY','@broadcast','request\x20body:\x20','\x20-\x20ON:\x20','remote\x20\x22origin\x22','ERROR:\x20','sendPresenceUpdate','atendimentoAberto','headers','chatHandle','latitude','Instance\x20\x22','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','caption','Bloco\x20com\x20ID\x20','Error\x20creating\x20group','createClient','Erro\x20ao\x20editar\x20o\x20chat:\x20','sendText','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','auth','END:VCARD','last','checkAndUpdateChats','redisEnv','nome','groupJid','arraybuffer','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','owner','Nenhum\x20chat\x20encontrado\x20para\x20editar.','DARK','):\x20Erro\x20durante\x20a\x20atualização:\x20','getMIMEType','code','request\x20received\x20in\x20fetchConversation','footerText','Fetching\x20business\x20profile','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','waitingPoll_replyOptions','editedMessage','leadInfo.desativadoFluxoAte','archiveChat','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','value','FlowRouter','replaceVariablesChat','birthtime','viewOnceMessage','CONFIG_SESSION_PHONE_NAME','expiration','\x1b[37m%s\x1b[0m','):\x20Going\x20to\x20','):\x20Conversas\x20encontradas:','Cannot\x20','MESSAGES_SET','execSync','createJid','font','find','envYaml','no.connection','ignoreGroups','removeData','groupInviteCode','order','messageTimestamp','toLowerCase','updateMany','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','name','updateConversation','request\x20received\x20in\x20editFlow','):\x20Entrou\x20na\x20função\x20saveReply','replaceVariablesLogs','chats.upsert','GROUPS_UPDATE','protocolMessage','isJWT','CHATS_UPSERT','getClient','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','loadInstance','toNumber','Unable\x20to\x20leave\x20the\x20group','configService','subject','libopus','\x1b[40m','HH:mm:ss','contentText','output','WEBHOOK_EVENTS_CHATS_DELETE','padStart','SERVER_PORT','updateFlowConfig','presence','readMessage','convert','editFlowReply','URL','poll','request\x20received\x20in\x20createFlow','recording','):\x20Editando\x20variável\x20do\x20fluxo...','fullName','item','):\x20Conversa\x20está\x20expirada','saveChatVariables','Not\x20Found','less','media','unlinkSync','LIMIT','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','groupCreate','all','WEBHOOK_EVENTS_SEND_MESSAGE','CONNECTION','deleteReplyOption','axios','VERBOSE','goNextblock','moreLogs','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','logger','events','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','sendCommand','Content-Type','sending','selectableCount','app','reaction','QRCODE_UPDATED','sendLocation','Erro\x20ao\x20aplicar\x20varedit:\x20','pt-BR','and','connectToWhatsapp','formatBRNumber','padEnd','findById','creds.json','Revoke\x20error','messageHandle','webhook','imagechat','notMatchRegex','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','params','length','messageUpdate','pushName','toggleEphemeral','block','joinGroupValidate','/media','):\x20Enviando\x20contato','Instância:\x20','CLEANING_INTERVAL','groupId','audio/ogg;\x20codecs=opus','authService','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','137619PSncjL','messaging-history.set','newStoppedUntil','close','/events/:instance','error','request\x20received\x20in\x20getAutomateSystem','joinGroup','participants','):\x20Campos\x20a\x20serem\x20atualizados:','):\x20Procurando\x20mensagens\x20para\x20envio',',\x20valor\x20passado:\x20\x22','findFlow','pollErrorMessage','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','request\x20received\x20in\x20updateAgent','limit','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','DisconnectReason','generate','proto','load','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','REDIS','):\x20newSecondValue\x20após\x20replaceVariables:','post','apiResponse','webhookModel','maxActives','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','user','request\x20received\x20in\x20scheduleMessage','NextBlock','getOwnPropertyNames','MAX_RECONNECT_ATTEMPTS','editflowvaredit','):\x20Deletando\x20mensagem','status@broadcast','\x1b[32m','greater','pollCreationMessageV3','replacer','Invalid\x20output','delInstanceFiles','query','composing','PORT','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','reference','}}\x20->\x20\x22','secondValue','out','getContentType','https://github.com/uazapi/uazapi.git','utf-8','opus','):\x20Deletando\x20conversa...','DEBUG','uuid','remoteJid','authorization','use','isURL','role','bodyString','/:instanceName','StartBot','Flow\x20não\x20encontrado','Message\x20not\x20found','mongodb://','.TEL;waid=','endSession','Log\x20out\x20instance:\x20','STORE_CONTACTS','minutesToClose','Error\x20updating\x20profile\x20picture','split','responsavelid','message-up','updateChatWithMessage','waitingPoll_id','groupHandler','PENDING','arrayUnique','.sendDataWebhook-global','stopMinutesMaxActives','next_groupId',',\x20Comparador:\x20','profilePictureUrl','Full\x20file\x20path:','creds','findGroups','request\x20received\x20in\x20deleteConversation','CHATS_SET','connectionState','isBuffer','noConnection','/message','listen','namespace','messageSecret','\x20contacts','scheduleSendAudio','}}\x20->\x20valor\x20não\x20encontrado','createConversationforgoToFlow','createWebhook','updateGParticipant','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','keep-alive','delaySecMax','):\x20Erro\x20ao\x20iniciar\x20fluxo\x20','interval\x20não\x20é\x20um\x20número','File\x20written\x20to\x20path:\x20','delaySecMin','insert','/refreshToken','statusCode','array','mentioned','enabled','):\x20Alterando\x20fluxo...','ip:\x20','ORG:','join','stream','saveCreds','documentMessage','realVariables','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','reconnectAttempts','contact_blacklist','setNewValue','fetchMessages','\x1b[33m\x1b[1m','READ','updateStatusPrivacy','blockId','remoteJids','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','convertaudio','updateReplyOption','ObjectId','):\x20Criando\x20fluxo...','/webhook','base64','verify','BufferJSON','toDataURL','STORE_MESSAGE','sudo\x20apt\x20install\x20-y\x20redis-server','\x20messages.update.','verifiedName','rows','blockLogs','connectionUpdate','\x20inseridas\x20no\x20banco\x20de\x20dados...','getProfileName','oldToken','hDel','vcard','profile','createConnection','audioWhatsapp','scheduleNextCheck','express','uazapiSendPoll','view\x20engine','collection','TEL','Error\x20change\x20group\x20description','COLOR','stoppedUntil','instance.','call','\x1b[34m','linkPreview','values','messages.set','\x20saindo\x20da\x20função','groupToggleEphemeral','):\x20teve\x20mudanças\x20chat.archived:\x20','data:\x20','false','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','pollOnReplyDelete','send','readdirSync','extractRegex','groupSettingUpdate','FULLCHAIN','CHATS_UPDATE','splice','/create','varedits','processApiRequest','):\x20Iniciando\x20bot...','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','qrcode.updated','webhookMap','JWT','-whatsapp-api','useMultiFileAuthState','Cache-Control','open','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','):\x20Editando\x20edição\x20do\x20fluxo...','):\x20Enviando\x20texto','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','nomecompleto','ButtonsMessage','cwd','isInteger','outputOptions','):\x20conversation.waitingPollname','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','flattenObject','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','GROUP_PARTICIPANTS_UPDATE','add','fetchProfile','updatePrivacySettings','activatedCount','):\x20Visualizando\x20AutomateSystem','from','Valor\x20inicial:\x20\x22','Erro\x20na\x20migração:','title','\x1b[31m','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','.\x20Código\x20de\x20saída\x20','\x20não\x20encontrado\x20para\x20atualização.','includes','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','now','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','\x1b[33m','groups','groupSetting','Unauthorized','waMonit','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','numbers','NEW_JWT_TOKEN','stack','metadata','\x20minutos','refused','store','request\x20received\x20in\x20getConversation','):\x20alterando\x20this.AutomateSystem','):\x20Deletados\x20','Valor\x20de\x20find\x20ou\x20replace\x20ausente','Parando\x20aplicação,\x20atualização\x20recebida','hGetAll','Logger','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','last_update','round','indexOf','BRL','warn','prototype','@whiskeysockets/baileys','):\x20Deletando\x20fluxo...','editConversation','fetchAndUpdateProfileDetails','scheduleMessages','creation','local_map','):\x20Não\x20achou\x20nenhum\x20flow','groups.upsert','keys','/instance/fetchInstances','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','WEBHOOK_EVENTS_CONNECTION_UPDATE','shift','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','fetchChats','rowId','findIndex','Data\x20inválida\x20fornecida','^\x5cd+[\x5c.@\x5cw-]+','):\x20Erro\x20ao\x20criar\x20fluxo\x20','Tanto\x20id\x20quanto\x20owner\x20são\x20necessários\x20para\x20criar\x20ou\x20editar\x20um\x20chat.','getDevice','Deleted\x20','WEBHOOK','trimmed','):\x20Erro\x20ao\x20buscar\x20conversas\x20','deleteFlow','isRunning','audio','profilePicture','originalUrl','mongoose','http://checkip.dyndns.org','\x22\x20not\x20found','writeFile','long','request\x20received\x20in\x20editFlowgroup','/group','isBooleanString','\x20install\x20error:\x20','/wa-contacts','Invalid\x20\x22oldToken\x22','markMessageAsRead','webhookService','AUTHENTICATION_JWT_SECRET','Imagem\x20não\x20encontrada','Initial\x20__dirname:','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','SendScheduleMessage','fetchBusinessProfile','):\x20atualização\x20chat:\x20','fetchInstances','pollMessage','):\x20Criando\x20nova\x20conversa','findByIdAndUpdate','delayMessage','process','Fluxos\x20não\x20estão\x20ativados','Error\x20in\x20markMessageAsRead:','sticker','redis','editflowreply','stopMinutes','delay','groupDesc','request\x20received\x20in\x20updateFlowConfig','Erro\x20ao\x20editar\x20agentes:\x20','4424874mheBpC','pollUpdateMessage','Sistema\x20atualizado\x20com\x20sucesso!','url','Error\x20updating\x20profile\x20status','sendContact','Erro\x20ao\x20obter\x20o\x20nome\x20do\x20contato:\x20','contains','-acodec','sort','status.instance','max','getContents','saveTextReply','removed','PHONE','verbose','variable','chat','documentWithCaptionMessage','findParticipants','formatVCard','\x1b[36m','EMAIL:','createNewConversation','hostname','bulkWrite','\x1b[34m%s\x1b[0m','uazapiSendLocation','isDirectory','16000','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','true','class-validator','Invalid\x20format','groups.update','groupValidate','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','sendList','trim','viewOnceMessageV2','jsonschema','readData','mediaSticker','no-cache','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','sendStatus','localWebhook','https','findConversation','log','isArray','instanceKeys','reviver','sign','^\x5cd+','Erro\x20ao\x20encerrar\x20a\x20API','unreadCount','chatModify','):\x20Conversa\x20inserida\x20com\x20sucesso.','fetchProfilePicture','AUTHENTICATION_TYPE','\x22reaction\x22\x20must\x20be\x20an\x20emoji','Message','DD/MM\x20HH:mm:ss','deleteMessage','updateProfilePicture','getAutomateSystem','):\x20Editando\x20grupo\x20do\x20fluxo...','inner','Operador:\x20\x22','saveVariable','.jwt','GROUPS_UPSERT','WEBHOOK_EVENTS_MESSAGES_UPDATE','where','Original\x20filename:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','phoneNumber','onTime','integer','body','Já\x20existe\x20fluxo\x20com\x20esse\x20nome','ReplyOption\x20com\x20ID\x20','presence.update','Erro\x20ao\x20buscar\x20conversas:\x20','tags','quoted','vote','editflowblock','Telefone:\x20','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','convertedOptions','stateConnection','):\x20this.processingScheduleMessageId:\x20','):\x20Enviando\x20mídia','SSL_CONF_FULLCHAIN','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','findAndReplace','update','groupUpdateDescription','removeInstance','fone','pre','instances','request\x20received\x20in\x20editFlowcondition','waInstances','statusJidList','lastInteraction','evaluateConditionTest','remove','empty','enumerable','finish','action','E-mail:\x20','7rCkaor','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','upperCase','urlOrBase64','eventHandler','sendMedia','jid','document','qrCode','Error\x20deleting\x20instance\x20from\x20memory.','delAll','):\x20expirationTime:\x20','processConditions','stopConversation','setHeader','formatStatusMessage','valid','STORE','):\x20tem\x20blocks','\x20chats\x20de\x20','Bad\x20Request','Erro\x20ao\x20editar\x20o\x20bloco:\x20','\x20messages.','TRIAL_INSTANCE_NAME','findOne','equal','editOperator','getMessage','The\x20property\x20cannot\x20be\x20empty','PRODUCTION','reactionMessage','flushHeaders','Erro\x20ao\x20atualizar\x20conversa:\x20','/wa-chats','allFlows','env','.X-ABLabel:Celular\x0a','createInstance','paused','parseInt','message','https://chat.whatsapp.com/','desc','whatsappNumber','HeaderType','Close\x20connection','random','):\x20Buscando\x20flow...','save','audioChannels','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','createFlow','33001890zfLnAe','\x1b[46m','ERROR','ON\x20-\x20dbName:\x20','replaceVariablesInObject','):\x20isVote','options','Início','replyOptions','contacts','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','notify','filter','flowConversation','notEqual','flow','contacts.upsert','setWebhook','fileName','AUTHENTICATION_API_KEY','truncatedto','src','dayjs','DOCKER_ENV','mimetype','toBRL','):\x20Modified\x20Query:','createConversationforStartFlow','Error\x20change\x20group\x20name','AppStateSyncKeyData','rm\x20-rf\x20','toBrazilianNumberFormat','imageMessage','request\x20received\x20in\x20starFlow','.json','revokeInviteCode','utf8','Instance\x20logged\x20out','video-cover.png','saveAPI','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','varedit','replace','sendPoll','entries','REDIS_PREFIX_KEY','Por\x20favor,\x20responda\x20à\x20última\x20enquete\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','storePath','router','delInstanceTime','restartInstance','sendSticker','startFlow','updateProfileStatus','fluent-ffmpeg','when','group-participants.update','editflowvariable','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','METHODS','deleteflow','\x1b[1m','isFile','updateMessage','sendButtons','syscall','conversationTimestamp','Type\x20is\x20required','flowConfig','fromObject','isJidGroup','lastReceivedMessage','request\x20received\x20in\x20allFlows','groupadd','getStatus','findGroupInfo','findChats','buttons','stanzaId','QRCODE','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','default','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','deleteBlock','HOST','EVENTS','TEXT','LOG_LEVEL','editFlowVaredit','prefixCommand','displayName','datetime','jsonwebtoken','instanceInfo','release','https://','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','Type\x20not\x20found','Authentication\x20error','CORS_ORIGIN','updateProfileName','lastSend','uazapiSendText','No\x20invite\x20code','charAt','STATUS_INSTANCE','sendWhatsAppAudio','\x20}\x0a','replyOption','):\x20','flowPrefixCommand','8080','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','video','remoteJidsRemaining','Instance\x20ID:','PLAYED','match','g-t','isJidUser','success','Forbidden','!stop','lean','_p_','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','flowStopConversation','error_log','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','WA\x20MODULE','map','messageId','ogg','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','Getting\x20profile\x20with\x20jid:\x20','Error\x20update\x20group\x20picture','organization','saveMediaToFile','):\x20não\x20encontrou','create\x20-\x20success','hex','getflow','contactname','$set','Erro\x20ao\x20editar\x20a\x20conversa:\x20','status','substring','/wa-presence','updateGroupsAddPrivacy','findWebhook','DB_PREFIX_NAME','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','archived','\x20instance\x20does\x20not\x20exist','DELIVERY_ACK','lastCondition','push','isBase64','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','AutomateSystem\x20não\x20foi\x20inicializado','API\x20Key\x20inválida.','lastBlockId','chats.set','QRCODE_LIMIT','dbSettings','stopIfLastReturnedError','/instance','toArray','\x0a*Você\x20respondeu*:\x0a','lowerCase','Readable','getHours','):\x20newFirstValue\x20após\x20replaceVariables:','ffmpeg','WEBHOOK_GLOBAL_URL','Instance\x20restarted','sendReaction','Error\x20writing\x20file:\x20','normalizeMessage','Getting\x20profile\x20info','Error\x20while\x20deleting\x20message\x20for\x20everyone','/wa-groups','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','-instances','\x5c$&','WEBHOOK_EVENTS_CONTACTS_UPDATE','connect','catch','group','set','\x1b[43m','?timestamp=','chats.update','leaveGroup','Button\x20IDs\x20cannot\x20be\x20repeated.','groupUpdateSubject','ephemeralMessage','downloadMediaMessage','lastmsg','text/event-stream','https://uazapi-plugin.bubbleapps.io/','buttonId','Business\x20profile\x20fetched','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','groupFetchAllParticipating','msgRetryCounterCache','apply','\x20não\x20encontrado','207288diSZYG','cpf','):\x20Current\x20Time:\x20','child_process','readFile','newName','The\x20instance\x20is\x20already\x20connected','mediatype','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','unreadcount','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','Instância\x20não\x20encontrada.','send.message','exists','json','expression','buttonText','firstValue','SERVER','CREDENTIALS','groupAcceptInvite','GLOBAL','Mensagem\x20não\x20suportada','isLong','Error\x20change\x20group\x20setting','oldValue','unhandledRejection','LOG_COLOR','StatusJidList\x20is\x20required','DATABASE','\x1b[37m','Atualização:\x20','/instance/create','spawn','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','path','CONTACTS_UPSERT','groupMetadata','mentions','capitalizedWords','decryptPollVote','allContacts','):\x20teve\x20mudanças\x20chat.displayName:\x20','MESSAGES_UPSERT','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','mediaKey','Router','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.',',\x20Minutes\x20to\x20Close:\x20','_id','gifPlayback','writeStore','processingScheduleMessageId','#000000','contactMessage','):\x20Comando\x20desconhecido:\x20','mkdirSync','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','_doc','subjectOwner','test','WEBHOOK_EVENTS_GROUPS_UPSERT','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','reconnectTimestamps','headerString','announcement','done','header','updateAgent','emit','urlencoded','key','slice','uazapiDeleteMessage','app-state-sync-key','startsWith','backgroundColor','processUazapi','contactHandle','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','SECRET','):\x20Editando\x20replyOption...','CONNECTION_UPDATE','uazapi','createGroup',',\x20resultado:\x20','AUTOUPDATE','repeat','http','REDIS_ENABLED','getOwnPropertyDescriptor','pollCreationMessageKey','instanceName','\x1b[0m','messageUpModel','locked','5VcBzIk','content','online','):\x20Conversa\x20atualizada\x20em\x20memória','WARN','updateCustomFields','flowname:\x20','available','locationMessage','messageModel','dark','listMessage','notEmpty','CONFIG_SESSION_PHONE_CLIENT','Falta\x20informação\x20para\x20a\x20chamada\x20API','.mp3','WEBHOOK_EVENTS_MESSAGES_UPSERT','Próxima\x20verificação\x20em\x20','method','updateParticipant','sudo\x20apt\x20install\x20-y\x20ffmpeg','):\x20lastBlockId:\x20','Conexão\x20estabelecida','picture','USER','privacySettings','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','has','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','jwt','\x1b[33m%s\x1b[0m','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','redisCache','\x1b[42m','audioBitrate','opendirSync','SERVER_OFFLINE','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','contacts.update','\x20minutos\x20verificará\x20novas\x20mensagens','info','):\x20Editando\x20bloco...','removeProfilePicture','deleteInstance','new.jwt','del','variablesNotFound','Error\x20fetching\x20group','@s.whatsapp.net','ex:\x20\x22groupJid=120362@g.us\x22','videoMessage','WEBHOOK_MAP','deleteDoneMessages','não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','prepareMediaMessage','senderKeyDistributionMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','\x22\x20-\x20REMOVED','Erro\x20ao\x20atualizar\x20os\x20detalhes\x20do\x20perfil:','ids','editFlowCondition','badSession','Internal\x20Server\x20Error','unavailable','write','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','replaceVariables','processblock','\x20horas\x20e\x20','leadInfo','cleaningUp','function','floor','deleteConversation','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','stopped','^\x5cd+([-]\x5cd+)*@g.us$','REDIS_URI','/wa-connection-update','DATABASE_CONNECTION_HOST','Method\x20not\x20implemented.','DEL_INSTANCE','Module\x20-\x20ON','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','mongodb',',\x20Expiration\x20Time:\x20','hasOwnProperty','endsWith','NODE_ENV','Button\x20texts\x20cannot\x20be\x20repeated',',\x20fará\x20nova\x20verificação\x20em\x20','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','errno','INFO','addBlock','sections','CONTACTS_UPDATE','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','findAndReplaceRegex','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20áudio:','some','existsSync','):\x20delete\x20=\x20true','errors','repository','address','getBase64FromMediaMessage','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','):\x20Está\x20configurado\x20para\x20parar\x20até\x20'];a0_0x5e9a=function(){return _0x4b4277;};return a0_0x5e9a();}function Za(_0x58adae,_0x42325a,_0x5796d9,_0x34ce5d){X[_0x58adae]||(X[_0x58adae]={}),X[_0x58adae][_0x42325a]={'id':_0x42325a,'response':_0x5796d9,'events':_0x34ce5d};}function eo(_0x498e91,_0x362d40){!X[_0x498e91]||!X[_0x498e91][_0x362d40]||delete X[_0x498e91][_0x362d40];}function H(_0x58683d,_0x38ab09,_0x27d276){const _0x18910f=a0_0x32ece7;if(!X[_0x58683d])return;let _0x67fb08=_0x18910f(0x2fe)+JSON[_0x18910f(0x61e)](_0x27d276)+'\x0a\x0a';Object[_0x18910f(0x2f9)](X[_0x58683d])['forEach'](_0x48f9f2=>{const _0x5a3753=_0x18910f;_0x48f9f2['events'][_0x5a3753(0x330)](_0x38ab09)&&_0x48f9f2[_0x5a3753(0x17f)][_0x5a3753(0x5b0)](_0x67fb08);});}function to(){const _0xb1e8b6=a0_0x32ece7;let _0x51825f={};for(let _0xc638a1 in X)_0x51825f[_0xc638a1]=Object[_0xb1e8b6(0x2f9)](X[_0xc638a1])[_0xb1e8b6(0x4c2)](_0xda4ab1=>({'id':_0xda4ab1['id'],'events':_0xda4ab1[_0xb1e8b6(0x220)]}));return _0x51825f;}var ao=require(a0_0x32ece7(0x282)),li=so[a0_0x32ece7(0x490)][a0_0x32ece7(0x2c3)](__dirname,'downloads'),Ot=(0x0,Dt[a0_0x32ece7(0x53e)])(),ui=y[a0_0x32ece7(0x5de)](a0_0x32ece7(0x614))[a0_0x32ece7(0x6b4)],de=[ps,ra,la[ui]];Ot['use'](a0_0x32ece7(0x23f),Dt['default']['static'](li))[a0_0x32ece7(0x5de)](a0_0x32ece7(0x24c),async(_0x6cf25f,_0x2d6e2b)=>{const _0x127f25=a0_0x32ece7;console['log'](_0x127f25(0x6b3));let _0x407417=_0x6cf25f[_0x127f25(0x238)][_0x127f25(0x18d)],_0x2f80bb=(_0x6cf25f[_0x127f25(0x274)][_0x127f25(0x220)]||'')['split'](','),_0x268887=(0x0,ao['v4'])();console[_0x127f25(0x3c5)](_0x127f25(0x4b2),_0x407417),console[_0x127f25(0x3c5)]('Subscribed\x20Events:',_0x2f80bb);let _0x2f83b0=y[_0x127f25(0x5de)](_0x127f25(0x614))[_0x127f25(0x6fb)],_0x534e33=_0x6cf25f[_0x127f25(0x274)][_0x127f25(0x183)];if(console[_0x127f25(0x3c5)]('API\x20Key\x20from\x20Request:',_0x534e33),_0x2f83b0[_0x127f25(0x6d1)]!==_0x534e33){console['log']('env.KEY\x20!==\x20key');try{let _0x1c2fd2=await ue[_0x127f25(0x1b6)][_0x127f25(0x1dd)](_0x407417);if(console['log'](_0x127f25(0x6c8),_0x1c2fd2),!_0x1c2fd2||_0x1c2fd2[_0x127f25(0x183)]!==_0x534e33)return console[_0x127f25(0x3c5)](_0x127f25(0x532)),_0x2d6e2b[_0x127f25(0x4d1)](0x191)[_0x127f25(0x302)](_0x127f25(0x4e0));}catch(_0x2bc746){return console['error']('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x2bc746),_0x2d6e2b[_0x127f25(0x4d1)](0x191)[_0x127f25(0x302)]('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await Qe(_0x407417))return _0x2d6e2b['status'](0x194)[_0x127f25(0x302)](_0x127f25(0x51b));_0x2d6e2b[_0x127f25(0x416)](_0x127f25(0x223),_0x127f25(0x507)),_0x2d6e2b['setHeader'](_0x127f25(0x313),_0x127f25(0x3bf)),_0x2d6e2b[_0x127f25(0x416)]('Connection',_0x127f25(0x2b4)),_0x2d6e2b[_0x127f25(0x427)]();let _0x40f2bc=_0x127f25(0x2fe)+JSON['stringify']({'info':_0x127f25(0x586)})+'\x0a\x0a';_0x2d6e2b[_0x127f25(0x5b0)](_0x40f2bc),Za(_0x407417,_0x268887,_0x2d6e2b,_0x2f80bb),_0x6cf25f['on']('close',()=>{console['log']('Connection\x20closed\x20for\x20instance:\x20'+_0x407417),eo(_0x407417,_0x268887);});}),Ot[a0_0x32ece7(0x5de)]('/clients-info',(_0x1ca4a8,_0x3b1abf)=>{const _0x5a41a0=a0_0x32ece7;let _0x1e4d05=to();_0x3b1abf[_0x5a41a0(0x51e)](_0x1e4d05);})[a0_0x32ece7(0x5de)]('/',(_0x3ad365,_0x3c8c12)=>{const _0x4f4102=a0_0x32ece7;let _0x5b8c3d=y[_0x4f4102(0x5de)](_0x4f4102(0x19b)),_0x5bf35a=_0x5b8c3d&&_0x5b8c3d['FULLCHAIN'][_0x4f4102(0x294)]('/')[0x4];if(_0x5bf35a){let _0x4e2b86=encodeURIComponent(_0x4f4102(0x49e)+_0x5bf35a);_0x3c8c12[_0x4f4102(0x17e)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x4e2b86);}else _0x3c8c12['redirect'](_0x4f4102(0x508));})[a0_0x32ece7(0x644)]('/exit',...de,async(_0x17b368,_0xd38a53)=>{const _0x177f0e=a0_0x32ece7;try{console['log'](_0x177f0e(0x3f4)),_0xd38a53[_0x177f0e(0x4d1)](0xc8)['json']({'message':_0x177f0e(0x48f)}),_0xd38a53['on'](_0x177f0e(0x404),()=>process[_0x177f0e(0x6a7)](0x0));}catch(_0x453394){console[_0x177f0e(0x24d)]('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x453394),_0xd38a53[_0x177f0e(0x4d1)](0x1f4)[_0x177f0e(0x51e)]({'message':_0x177f0e(0x3cb)});}})['use'](a0_0x32ece7(0x4e6),new ht(y,...de)[a0_0x32ece7(0x46d)],new Mt(ps)[a0_0x32ece7(0x46d)])[a0_0x32ece7(0x285)](a0_0x32ece7(0x2a9),new Tt(...de)['router'])[a0_0x32ece7(0x285)](a0_0x32ece7(0x168),new at(...de)[a0_0x32ece7(0x46d)])[a0_0x32ece7(0x285)](a0_0x32ece7(0x375),new pt(...de)[a0_0x32ece7(0x46d)])['use'](a0_0x32ece7(0x2d8),new At(...de)['router'])[a0_0x32ece7(0x285)](a0_0x32ece7(0x679),new It(...de)['router']);var m=class{constructor(..._0x113bb8){const _0x3aa8b6=a0_0x32ece7;throw{'status':0x190,'error':_0x3aa8b6(0x41c),'message':_0x113bb8['length']>0x0?_0x113bb8:void 0x0};}},ie=class{constructor(..._0x93e685){const _0x35d434=a0_0x32ece7;throw{'status':0x191,'error':_0x35d434(0x337),'message':_0x93e685[_0x35d434(0x239)]>0x0?_0x93e685:void 0x0};}},oe=class{constructor(..._0x587fce){const _0x3d70b0=a0_0x32ece7;throw{'status':0x193,'error':_0x3d70b0(0x4b8),'message':_0x587fce[_0x3d70b0(0x239)]>0x0?_0x587fce:void 0x0};}},L=class{constructor(..._0x5e39e4){const _0x114ae2=a0_0x32ece7;throw{'status':0x194,'error':_0x114ae2(0x20f),'message':_0x5e39e4[_0x114ae2(0x239)]>0x0?_0x5e39e4:void 0x0};}},A=class{constructor(..._0x3644e7){const _0x1f99f0=a0_0x32ece7;throw{'status':0x1f4,'error':_0x1f99f0(0x5ae),'message':_0x3644e7[_0x1f99f0(0x239)]>0x0?_0x3644e7:void 0x0};}},pe=require(a0_0x32ece7(0x34f));async function ws(_0x1eb1ad){const _0x56762c=a0_0x32ece7;let _0x527343=new C(ws[_0x56762c(0x1e8)]),_0x309a4e=M[_0x56762c(0x1f2)](),_0x21cc60=_0x309a4e['db'](y['get']('DATABASE')[_0x56762c(0x218)][_0x56762c(0x4d6)]+_0x56762c(0x4f7))[_0x56762c(0x2f0)](_0x1eb1ad),_0x2de8bd=async(_0x4a2f36,_0x498349)=>{const _0x1aaa14=_0x56762c;try{return await _0x309a4e[_0x1aaa14(0x4fa)](),await _0x21cc60[_0x1aaa14(0x6ae)]({'_id':_0x498349},JSON[_0x1aaa14(0x16e)](JSON['stringify'](_0x4a2f36,pe[_0x1aaa14(0x2db)][_0x1aaa14(0x271)])),{'upsert':!0x0});}catch{}},_0x2bebf5=async _0x315024=>{const _0xfa2bae=_0x56762c;try{await _0x309a4e[_0xfa2bae(0x4fa)]();let _0x36acdc=await _0x21cc60[_0xfa2bae(0x420)]({'_id':_0x315024}),_0x7d4c65=JSON[_0xfa2bae(0x61e)](_0x36acdc);return JSON[_0xfa2bae(0x16e)](_0x7d4c65,pe[_0xfa2bae(0x2db)][_0xfa2bae(0x3c8)]);}catch{}},_0x41bcc7=async _0x3a2e41=>{const _0x1190c3=_0x56762c;try{return await _0x309a4e[_0x1190c3(0x4fa)](),await _0x21cc60[_0x1190c3(0x69e)]({'_id':_0x3a2e41});}catch{}},_0x2e720a=await _0x2bebf5(_0x56762c(0x2a2))||(0x0,pe[_0x56762c(0x172)])();return{'state':{'creds':_0x2e720a,'keys':{'get':async(_0x2124b0,_0x5d0946)=>{const _0x3b4621=_0x56762c;let _0x42da0c={};return await Promise[_0x3b4621(0x216)](_0x5d0946['map'](async _0xb1d472=>{const _0x59331b=_0x3b4621;let _0x2d43c9=await _0x2bebf5(_0x2124b0+'-'+_0xb1d472);_0x2124b0==='app-state-sync-key'&&_0x2d43c9&&(_0x2d43c9=pe[_0x59331b(0x25c)][_0x59331b(0x3d2)][_0x59331b(0x459)]['fromObject'](_0x2d43c9)),_0x42da0c[_0xb1d472]=_0x2d43c9;})),_0x42da0c;},'set':async _0x2c894e=>{const _0x2a9cd8=_0x56762c;let _0x35d005=[];for(let _0x253a73 in _0x2c894e)for(let _0x4a59f4 in _0x2c894e[_0x253a73]){let _0x2069d9=_0x2c894e[_0x253a73][_0x4a59f4],_0x9ea284=_0x253a73+'-'+_0x4a59f4;_0x35d005[_0x2a9cd8(0x4dc)](_0x2069d9?_0x2de8bd(_0x2069d9,_0x9ea284):_0x41bcc7(_0x9ea284));}await Promise[_0x2a9cd8(0x216)](_0x35d005);}}},'saveCreds':async()=>_0x2de8bd(_0x2e720a,'creds')};}var Ss=T(require(a0_0x32ece7(0x373))),Es=T(require('node-cache')),xt=require(a0_0x32ece7(0x34f)),oo=require(a0_0x32ece7(0x627)),_t=require('@whiskeysockets/baileys'),Pt;function di(_0x54cc11){const _0x4048bc=a0_0x32ece7;return Pt||(Pt=(0x0,oo[_0x4048bc(0x1b2)])({'url':_0x54cc11[_0x4048bc(0x5e4)]}),Pt['connect']()),Pt;}var we=class c{constructor(_0x162aca,_0x1b3d5d){const _0x899ebf=a0_0x32ece7;this[_0x899ebf(0x1ba)]=_0x162aca,this[_0x899ebf(0x56c)]=_0x1b3d5d,this[_0x899ebf(0x21f)]=new C(c[_0x899ebf(0x1e8)]),this[_0x899ebf(0x63e)]=di(_0x162aca);}set[a0_0x32ece7(0x278)](_0x17fa0a){const _0x30a11b=a0_0x32ece7;this[_0x30a11b(0x56c)]=_0x17fa0a;}async[a0_0x32ece7(0x3c7)](){const _0x3dae9c=a0_0x32ece7;try{return await this[_0x3dae9c(0x63e)][_0x3dae9c(0x222)](['keys',this['redisEnv'][_0x3dae9c(0x1a2)]+':*']);}catch(_0x105f93){this[_0x3dae9c(0x21f)][_0x3dae9c(0x24d)](_0x105f93);}}async[a0_0x32ece7(0x638)](_0x48502f,_0x19ec0a){const _0x4bb616=a0_0x32ece7;try{let _0x1d5679=JSON[_0x4bb616(0x61e)](_0x19ec0a,_t['BufferJSON'][_0x4bb616(0x271)]);return await this['client']['hSet'](this[_0x4bb616(0x1ba)]['PREFIX_KEY']+':'+this[_0x4bb616(0x56c)],_0x48502f,_0x1d5679);}catch(_0x393e13){this[_0x4bb616(0x21f)][_0x4bb616(0x24d)](_0x393e13);}}async['getAllData'](){const _0x26492e=a0_0x32ece7;try{let _0x2d779b=await this[_0x26492e(0x63e)][_0x26492e(0x346)](this[_0x26492e(0x1ba)][_0x26492e(0x1a2)]+':'+this[_0x26492e(0x56c)]);if(_0x2d779b){for(let _0x2a7ffc in _0x2d779b)Object[_0x26492e(0x34e)]['hasOwnProperty'][_0x26492e(0x2f6)](_0x2d779b,_0x2a7ffc)&&(_0x2d779b[_0x2a7ffc]=JSON[_0x26492e(0x16e)](_0x2d779b[_0x2a7ffc],_t[_0x26492e(0x2db)][_0x26492e(0x3c8)]));return _0x2d779b;}}catch(_0x2d1920){this[_0x26492e(0x21f)]['error'](_0x2d1920);}}async[a0_0x32ece7(0x3bd)](_0x1533bc){const _0x2c1516=a0_0x32ece7;try{let _0x54dcf4=await this[_0x2c1516(0x63e)][_0x2c1516(0x6bd)](this[_0x2c1516(0x1ba)][_0x2c1516(0x1a2)]+':'+this[_0x2c1516(0x56c)],_0x1533bc);if(_0x54dcf4)return JSON[_0x2c1516(0x16e)](_0x54dcf4,_t[_0x2c1516(0x2db)][_0x2c1516(0x3c8)]);}catch(_0x2c7e03){this[_0x2c1516(0x21f)]['error'](_0x2c7e03);}}async[a0_0x32ece7(0x1e1)](_0x3bc770){const _0x590367=a0_0x32ece7;try{return await this[_0x590367(0x63e)][_0x590367(0x2e7)](this['redisEnv'][_0x590367(0x1a2)]+':'+this[_0x590367(0x56c)],_0x3bc770);}catch(_0x58b70e){this[_0x590367(0x21f)][_0x590367(0x24d)](_0x58b70e);}}async[a0_0x32ece7(0x412)](_0x21765c){const _0x5f4de1=a0_0x32ece7;try{return await this[_0x5f4de1(0x63e)][_0x5f4de1(0x59d)](_0x21765c||this[_0x5f4de1(0x1ba)][_0x5f4de1(0x1a2)]+':'+this['instanceName']);}catch(_0x44061f){this['logger'][_0x5f4de1(0x24d)](_0x44061f);}}};async function ys(_0x3b29bb,_0x3b9034){const _0x4b1cf9=a0_0x32ece7;let _0x44e023=new C(ys[_0x4b1cf9(0x1e8)]),_0x7779e9=new we(_0x3b29bb,_0x3b9034),_0x2b59f5=async(_0x3eb8bc,_0x2ebccf)=>{const _0x5441ab=_0x4b1cf9;try{return await _0x7779e9[_0x5441ab(0x638)](_0x2ebccf,_0x3eb8bc);}catch(_0xb9beb7){return _0x44e023[_0x5441ab(0x24d)]({'localError':_0x5441ab(0x638),'error':_0xb9beb7});}},_0x308ea9=async _0x2101da=>{const _0x3a4477=_0x4b1cf9;try{return await _0x7779e9['readData'](_0x2101da);}catch(_0x395267){_0x44e023[_0x3a4477(0x24d)]({'readData':_0x3a4477(0x638),'error':_0x395267});return;}},_0x3acaa8=async _0x45940a=>{const _0x95feb4=_0x4b1cf9;try{return await _0x7779e9['removeData'](_0x45940a);}catch(_0x2d5989){_0x44e023[_0x95feb4(0x24d)]({'readData':'removeData','error':_0x2d5989});}},_0x1d9a40=await _0x308ea9('creds')||(0x0,xt[_0x4b1cf9(0x172)])();return{'state':{'creds':_0x1d9a40,'keys':{'get':async(_0x2bf373,_0x5f337b)=>{const _0x4d6c59=_0x4b1cf9;let _0x48a621={};return await Promise[_0x4d6c59(0x216)](_0x5f337b['map'](async _0x4e0cbf=>{const _0x9a461b=_0x4d6c59;let _0x3b7d66=await _0x308ea9(_0x2bf373+'-'+_0x4e0cbf);_0x2bf373===_0x9a461b(0x55a)&&_0x3b7d66&&(_0x3b7d66=xt['proto'][_0x9a461b(0x3d2)][_0x9a461b(0x459)][_0x9a461b(0x484)](_0x3b7d66)),_0x48a621[_0x4e0cbf]=_0x3b7d66;})),_0x48a621;},'set':async _0x10224e=>{const _0x109b0e=_0x4b1cf9;let _0x111ebe=[];for(let _0x2c9c73 in _0x10224e)for(let _0x3832b1 in _0x10224e[_0x2c9c73]){let _0x2fac31=_0x10224e[_0x2c9c73][_0x3832b1],_0x4af172=_0x2c9c73+'-'+_0x3832b1;_0x111ebe['push'](_0x2fac31?await _0x2b59f5(_0x2fac31,_0x4af172):await _0x3acaa8(_0x4af172));}await Promise[_0x109b0e(0x216)](_0x111ebe);}}},'saveCreds':async()=>await _0x2b59f5(_0x1d9a40,_0x4b1cf9(0x2a2))};}var Se=T(require('fs')),go=require(a0_0x32ece7(0x282));function J(_0x5b3afa){const _0x4e56f9=a0_0x32ece7;if(_0x5b3afa[_0x4e56f9(0x1d2)]||_0x5b3afa[_0x4e56f9(0x3bb)]){let _0x16091c=_0x5b3afa[_0x4e56f9(0x1d2)]?_0x5b3afa[_0x4e56f9(0x1d2)][_0x4e56f9(0x430)]:_0x5b3afa['viewOnceMessageV2'][_0x4e56f9(0x430)];return(0x0,w[_0x4e56f9(0x27c)])(_0x16091c);}return _0x5b3afa[_0x4e56f9(0x270)]?'pollCreationMessageV3':_0x5b3afa['pollCreationMessageV2']?_0x4e56f9(0x6d4):(0x0,w[_0x4e56f9(0x27c)])(_0x5b3afa);}var be=class c{constructor(_0x5e508b,_0x122a53,_0x40d210){const _0x53fe6e=a0_0x32ece7;this[_0x53fe6e(0x1f7)]=_0x5e508b,this[_0x53fe6e(0x62a)]=_0x122a53,this[_0x53fe6e(0x5d8)]=_0x40d210,this[_0x53fe6e(0x189)]=null,this[_0x53fe6e(0x21f)]=new C(c[_0x53fe6e(0x1e8)]),this[_0x53fe6e(0x18d)]={},this[_0x53fe6e(0x3c2)]={},this[_0x53fe6e(0x3f0)]={'state':_0x53fe6e(0x24b)},this[_0x53fe6e(0x46c)]=(0x0,Z['join'])(z,'store'),this['msgRetryCounterCache']=new Es[(_0x53fe6e(0x490))](),this['userDevicesCache']=new Es[(_0x53fe6e(0x490))](),this[_0x53fe6e(0x28f)]=!0x1,this[_0x53fe6e(0x30f)]={'status.instance':_0x53fe6e(0x5be),'qrcode.updated':'/wa-qrcode','messages.upsert':_0x53fe6e(0x6f1),'messages.update':_0x53fe6e(0x6f8),'send.message':_0x53fe6e(0x6f1),'group.upsert':_0x53fe6e(0x4f5),'group.update':_0x53fe6e(0x4f5),'group-participants.update':_0x53fe6e(0x4f5),'connection.update':'/wa-connection-update','messages.set':_0x53fe6e(0x6f1),'contacts.set':'/wa-contacts','contacts.upsert':'/wa-contacts','contacts.update':_0x53fe6e(0x378),'presence.update':_0x53fe6e(0x4d3),'chats.set':'/wa-chats','chats.update':'/wa-chats','chats.upsert':_0x53fe6e(0x429),'chats.delete':_0x53fe6e(0x429)},this[_0x53fe6e(0x2ca)]=0x0,this[_0x53fe6e(0x54f)]=[],this[_0x53fe6e(0x26a)]=0xf,this['RECONNECT_TIME_FRAME']=0x7530,this[_0x53fe6e(0x36b)]=!0x1,this[_0x53fe6e(0x1ab)]={'chats.upsert':async(_0x35a7ad,_0x5843ef)=>{const _0x5ad387=_0x53fe6e;let _0x29e4ce=await this[_0x5ad387(0x5d8)][_0x5ad387(0x3a5)][_0x5ad387(0x1dd)]({'where':{'owner':this['instance']['wuid']}}),_0x5f5835=[];for await(let _0x159ae5 of _0x35a7ad)_0x29e4ce[_0x5ad387(0x1dd)](_0x3daece=>_0x3daece['id']===_0x159ae5['id'])||_0x5f5835[_0x5ad387(0x4dc)]({'id':_0x159ae5['id'],'owner':this[_0x5ad387(0x18d)][_0x5ad387(0x6ff)],'group':_0x159ae5['id'][_0x5ad387(0x5c7)]('@g.us'),'name':_0x159ae5['name']||_0x159ae5[_0x5ad387(0x499)]||null,'contactname':null,'lastmsg':_0x159ae5[_0x5ad387(0x481)]&&_0x159ae5[_0x5ad387(0x481)][_0x5ad387(0x702)]()[_0x5ad387(0x239)]<0xd?_0x159ae5[_0x5ad387(0x481)]*0x3e8:_0x159ae5[_0x5ad387(0x481)]||null,'archived':_0x159ae5[_0x5ad387(0x4d8)]||!0x1,'unreadcount':_0x159ae5[_0x5ad387(0x3cc)]||0x0});await this[_0x5ad387(0x69f)]('chats.upsert',_0x5f5835);},'chats.update':async(_0x16bcb0,_0x1d368d)=>{const _0x4c921a=_0x53fe6e;for(let _0x40e629 of _0x16bcb0){let _0x2ca9f6={'id':_0x40e629['id'],'owner':this[_0x4c921a(0x18d)]['wuid'],'group':_0x40e629['id'][_0x4c921a(0x5c7)](_0x4c921a(0x69d)),'name':_0x40e629['name']||_0x40e629[_0x4c921a(0x499)],'archived':_0x40e629[_0x4c921a(0x4d8)]},_0x4b870=!0x1,_0x5b0362={'id':_0x40e629['id'],'owner':this[_0x4c921a(0x18d)]['wuid']},_0x35b910={};_0x2ca9f6[_0x4c921a(0x4d8)]!=null&&(this['logger']['verbose'](this[_0x4c921a(0x56c)]+'\x20('+this[_0x4c921a(0x18d)][_0x4c921a(0x6ff)]+_0x4c921a(0x2fd)+_0x40e629[_0x4c921a(0x4d8)]),_0x4b870=!0x0,_0x35b910[_0x4c921a(0x4d8)]=_0x40e629[_0x4c921a(0x4d8)]),_0x40e629[_0x4c921a(0x1e8)]!=null&&(this[_0x4c921a(0x21f)][_0x4c921a(0x3a3)](this[_0x4c921a(0x56c)]+'\x20('+this[_0x4c921a(0x18d)][_0x4c921a(0x6ff)]+'):\x20teve\x20mudanças\x20chat.name:\x20'+_0x40e629[_0x4c921a(0x1e8)]),_0x4b870=!0x0,_0x35b910['name']=_0x40e629[_0x4c921a(0x1e8)]),_0x40e629['displayName']!=null&&(this[_0x4c921a(0x21f)][_0x4c921a(0x3a3)](this[_0x4c921a(0x56c)]+'\x20('+this['instance'][_0x4c921a(0x6ff)]+_0x4c921a(0x53a)+_0x40e629[_0x4c921a(0x499)]),_0x4b870=!0x0,_0x35b910[_0x4c921a(0x1e8)]=_0x40e629[_0x4c921a(0x499)]);let _0x4e7eb4;_0x4b870&&_0x1d368d[_0x4c921a(0x61d)]&&(_0x4e7eb4=await I['findOneAndUpdate'](_0x5b0362,{'$set':_0x35b910},{'new':!0x0})),_0x4e7eb4&&H(this[_0x4c921a(0x56c)],_0x4c921a(0x6c9),{'chat':_0x4e7eb4});}},'chats.delete':async _0x2087c4=>{const _0x22f42d=_0x53fe6e;await this[_0x22f42d(0x69f)](_0x22f42d(0x6b2),[..._0x2087c4]);}},this[_0x53fe6e(0x55e)]={'contacts.upsert':async(_0x3d9b79,_0xeaad91)=>{const _0x3ec86e=_0x53fe6e;let _0x45b902=await this[_0x3ec86e(0x5d8)][_0x3ec86e(0x715)]['find']({'where':{'owner':this[_0x3ec86e(0x18d)][_0x3ec86e(0x6ff)]}}),_0x542f92=[];for await(let _0x59c715 of _0x3d9b79)_0x45b902['find'](_0x4dcc65=>_0x4dcc65['id']===_0x59c715['id'])||_0x542f92['push']({'id':_0x59c715['id'],'pushName':_0x59c715?.[_0x3ec86e(0x1e8)]||_0x59c715?.[_0x3ec86e(0x2e0)],'owner':this['instance'][_0x3ec86e(0x6ff)]});await this[_0x3ec86e(0x69f)](_0x3ec86e(0x44c),_0x542f92),await this['repository']['contact'][_0x3ec86e(0x2ba)](_0x542f92,_0xeaad91[_0x3ec86e(0x61d)]);let _0x5533c0=[];for(let _0x533543 of _0x542f92){let [_0x34bbe0,_0x1b4193]=await Promise[_0x3ec86e(0x216)]([this['profilePicture'](_0x533543['id']),(await this[_0x3ec86e(0x489)](_0x533543['id']))['status']]);_0x5533c0[_0x3ec86e(0x4dc)]({..._0x533543,'profilePictureUrl':_0x34bbe0['profilePictureUrl'],'status':_0x1b4193});}await this[_0x3ec86e(0x5d8)]['contact'][_0x3ec86e(0x3f6)](_0x5533c0,_0xeaad91[_0x3ec86e(0x61d)]),await this['checkAndUpdateChats']();},'contacts.update':async(_0xfc155c,_0x378819)=>{const _0x3e9fb2=_0x53fe6e;let _0x4582a8=[];for await(let _0x3ed7ae of _0xfc155c)_0x4582a8[_0x3e9fb2(0x4dc)]({'id':_0x3ed7ae['id'],'pushName':_0x3ed7ae?.[_0x3e9fb2(0x1e8)]??_0x3ed7ae?.[_0x3e9fb2(0x2e0)],'profilePictureUrl':(await this[_0x3e9fb2(0x36d)](_0x3ed7ae['id']))[_0x3e9fb2(0x2a0)],'owner':this[_0x3e9fb2(0x18d)][_0x3e9fb2(0x6ff)]});await this['sendDataWebhook'](_0x3e9fb2(0x596),_0x4582a8);}},this['messageHandle']={'messaging-history.set':async({messages:_0x302dcd,chats:_0x1ae430,isLatest:_0x103ac6},_0x552a68)=>{const _0x4a3636=_0x53fe6e;if(_0x103ac6){let _0x593aca=await Promise[_0x4a3636(0x216)](_0x1ae430[_0x4a3636(0x4c2)](async _0xfee6bd=>({'id':_0xfee6bd['id'],'owner':this[_0x4a3636(0x18d)][_0x4a3636(0x6ff)],'group':_0xfee6bd['id'][_0x4a3636(0x5c7)](_0x4a3636(0x69d)),'name':_0xfee6bd[_0x4a3636(0x1e8)]||_0xfee6bd['displayName']||null,'contactname':null,'imagechat':(await this[_0x4a3636(0x36d)](_0xfee6bd['id']))[_0x4a3636(0x2a0)],'lastmsg':_0xfee6bd[_0x4a3636(0x481)]&&_0xfee6bd['conversationTimestamp'][_0x4a3636(0x702)]()[_0x4a3636(0x239)]<0xd?_0xfee6bd[_0x4a3636(0x481)]*0x3e8:_0xfee6bd[_0x4a3636(0x481)]||null,'archived':_0xfee6bd[_0x4a3636(0x4d8)]||!0x1,'unreadcount':_0xfee6bd[_0x4a3636(0x3cc)]||0x0})));await this['sendDataWebhook'](_0x4a3636(0x4e2),_0x593aca),await this['upsertChats'](_0x593aca,_0x552a68),await this[_0x4a3636(0x1b9)]();}let _0x30848d=[],_0x3267b3=Date['now']()-0x7*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x2636ce]of Object[_0x4a3636(0x468)](_0x302dcd)){if(_0x2636ce[_0x4a3636(0x430)]?.[_0x4a3636(0x1ef)]||_0x2636ce[_0x4a3636(0x430)]?.[_0x4a3636(0x5a7)]||!_0x2636ce[_0x4a3636(0x430)]||_0x2636ce[_0x4a3636(0x557)]['remoteJid']===_0x4a3636(0x26d)||(Ss['default'][_0x4a3636(0x527)](_0x2636ce?.[_0x4a3636(0x1e4)])&&(_0x2636ce[_0x4a3636(0x1e4)]=_0x2636ce[_0x4a3636(0x1e4)]?.[_0x4a3636(0x1f5)]()),_0x2636ce[_0x4a3636(0x1e4)]&&_0x2636ce[_0x4a3636(0x1e4)][_0x4a3636(0x702)]()[_0x4a3636(0x239)]<0xd&&(_0x2636ce['messageTimestamp']=_0x2636ce['messageTimestamp']*0x3e8),_0x2636ce[_0x4a3636(0x1e4)]<_0x3267b3))continue;let {message_normalized:_0x4bce74}=this['normalizeMessage'](_0x2636ce[_0x4a3636(0x430)],J(_0x2636ce[_0x4a3636(0x430)]),null);_0x30848d[_0x4a3636(0x4dc)]({'key':_0x2636ce[_0x4a3636(0x557)],'pushName':_0x2636ce[_0x4a3636(0x23b)],'participant':_0x2636ce[_0x4a3636(0x67b)],'message':{..._0x2636ce[_0x4a3636(0x430)]},'messageType':J(_0x2636ce[_0x4a3636(0x430)]),'message_normalized':{'key':_0x2636ce[_0x4a3636(0x557)],'pushName':_0x2636ce[_0x4a3636(0x23b)],'messageTimestamp':_0x2636ce[_0x4a3636(0x1e4)],..._0x4bce74},'messageTimestamp':_0x2636ce[_0x4a3636(0x1e4)],'owner':this[_0x4a3636(0x18d)][_0x4a3636(0x6ff)]});}_0x552a68[_0x4a3636(0x61d)]&&_0x30848d['length']>0x0&&(this['logger'][_0x4a3636(0x3a3)](this['instanceName']+'\x20('+this[_0x4a3636(0x18d)][_0x4a3636(0x6ff)]+'):\x20'+_0x30848d[_0x4a3636(0x239)]+'\x20mensagens\x20de\x20'+this['instance']['wuid']+_0x4a3636(0x2e4)),await this['repository'][_0x4a3636(0x430)]['insert']([..._0x30848d],_0x552a68['ENABLED'])),this['sendDataWebhook'](_0x4a3636(0x2fa),[..._0x30848d]),_0x302dcd=void 0x0;},'messages.upsert':async({messages:_0x336672,type:_0x1c0a85},_0x3d1b05)=>{const _0x134738=_0x53fe6e;let _0x5c2c0a=_0x336672[0x0];if(_0x1c0a85!==_0x134738(0x447)||!_0x5c2c0a?.[_0x134738(0x430)]||_0x5c2c0a[_0x134738(0x430)]?.[_0x134738(0x1ef)]||_0x5c2c0a[_0x134738(0x557)]['remoteJid']==='status@broadcast')return;let _0xa27558=null,_0x318b97=null;try{_0xa27558=await this[_0x134738(0x67f)](_0x5c2c0a),_0x318b97=_0xa27558?_0xa27558[_0x134738(0x2c3)](','):null;}catch(_0x1400ca){this[_0x134738(0x21f)][_0x134738(0x3a3)](this[_0x134738(0x56c)]+'\x20('+this[_0x134738(0x18d)][_0x134738(0x6ff)]+_0x134738(0x4ac)+_0x1400ca['message']),_0x318b97=_0x134738(0x643);}this[_0x134738(0x63e)][_0x134738(0x1a8)](_0x134738(0x5af)),Ss[_0x134738(0x490)][_0x134738(0x527)](_0x5c2c0a[_0x134738(0x1e4)])&&(_0x5c2c0a[_0x134738(0x1e4)]=_0x5c2c0a[_0x134738(0x1e4)]?.['toNumber']()),_0x5c2c0a[_0x134738(0x1e4)]&&_0x5c2c0a['messageTimestamp'][_0x134738(0x702)]()[_0x134738(0x239)]<0xd&&(_0x5c2c0a[_0x134738(0x1e4)]=_0x5c2c0a['messageTimestamp']*0x3e8);let _0x243ab9=_0x5c2c0a[_0x134738(0x430)],{messageContent:_0x55ff71,message_normalized:_0x45e2d2}=this[_0x134738(0x4f2)](_0x243ab9,J(_0x5c2c0a['message']),_0x318b97);_0x55ff71||console[_0x134738(0x24d)](_0x134738(0x526));let _0x3e024c={'key':_0x5c2c0a[_0x134738(0x557)],'pushName':_0x5c2c0a['pushName'],'message':{..._0x5c2c0a[_0x134738(0x430)]},'messageType':J(_0x5c2c0a[_0x134738(0x430)]),'message_normalized':{'key':_0x5c2c0a[_0x134738(0x557)],'pushName':_0x5c2c0a[_0x134738(0x23b)],'messageTimestamp':_0x5c2c0a['messageTimestamp'],'source':(0x0,w['getDevice'])(_0x5c2c0a[_0x134738(0x557)]['id']),..._0x45e2d2},'messageTimestamp':_0x5c2c0a['messageTimestamp'],'owner':this[_0x134738(0x18d)][_0x134738(0x6ff)]};this[_0x134738(0x21f)][_0x134738(0x3c5)](_0x3e024c),await this['repository'][_0x134738(0x430)][_0x134738(0x2ba)]([_0x3e024c],_0x3d1b05[_0x134738(0x61d)]),await this[_0x134738(0x69f)](_0x134738(0x5e5),_0x3e024c),H(this[_0x134738(0x56c)],'messages',{'message':_0x3e024c}),_0x5c2c0a[_0x134738(0x557)][_0x134738(0x283)]!==_0x134738(0x26d)&&await this[_0x134738(0x297)](_0x3d1b05,_0x3e024c,_0x134738(0x53b));},'messages.update':async(_0x497722,_0x334556)=>{const _0x2375e9=_0x53fe6e;let _0xba03eb={0x0:'ERROR',0x1:'PENDING',0x2:_0x2375e9(0x639),0x3:_0x2375e9(0x4da),0x4:_0x2375e9(0x2cf),0x5:_0x2375e9(0x4b3)};for await(let {key:_0x4d17c1,update:_0x69d2e7}of _0x497722)if(_0x4d17c1[_0x2375e9(0x283)]!==_0x2375e9(0x26d)){let _0x41156f=Date[_0x2375e9(0x332)](),_0x3d0adb;_0x69d2e7[_0x2375e9(0x430)]===null&&_0x69d2e7[_0x2375e9(0x4d1)]===void 0x0?_0x3d0adb=_0x2375e9(0x6e1):_0x3d0adb=_0xba03eb[_0x69d2e7[_0x2375e9(0x4d1)]];let _0x493f95=_0x4d17c1[_0x2375e9(0x283)][_0x2375e9(0x466)](/:\d{1,2}@/g,'@'),_0xf38cd1={..._0x4d17c1,'remoteJid':_0x493f95,'status':_0x3d0adb,'datetime':_0x41156f,'owner':this[_0x2375e9(0x18d)]['wuid']};await this[_0x2375e9(0x69f)](_0x2375e9(0x194),_0xf38cd1),await this['repository']['messageUpdate'][_0x2375e9(0x2ba)]([_0xf38cd1],_0x334556[_0x2375e9(0x61d)]),await this[_0x2375e9(0x47e)](_0x4d17c1,_0x493f95,_0xf38cd1);}}},this[_0x53fe6e(0x299)]={'groups.upsert':_0x2fd74a=>{const _0x1399ef=_0x53fe6e;this[_0x1399ef(0x69f)]('groups.upsert',_0x2fd74a);},'groups.update':_0x330c9f=>{const _0x5d2c65=_0x53fe6e;this['sendDataWebhook'](_0x5d2c65(0x3b6),_0x330c9f);},'group-participants.update':_0x367eaa=>{const _0xaa49da=_0x53fe6e;this[_0xaa49da(0x69f)](_0xaa49da(0x475),_0x367eaa);}},this[_0x53fe6e(0x67f)]=async _0x5d8c8c=>{const _0x533f4a=_0x53fe6e;if(_0x5d8c8c[_0x533f4a(0x430)]?.[_0x533f4a(0x394)]){let _0x10ff5c=await this['getMessage'](_0x5d8c8c[_0x533f4a(0x430)][_0x533f4a(0x394)][_0x533f4a(0x56b)],!0x0);if(_0x10ff5c){let _0x354f88=_0x10ff5c['key'][_0x533f4a(0x62b)]?this[_0x533f4a(0x18d)][_0x533f4a(0x6ff)]+_0x533f4a(0x5a0):_0x10ff5c[_0x533f4a(0x557)][_0x533f4a(0x67b)]||_0x10ff5c['key']['remoteJid'],_0x367df2=_0x10ff5c['key']['id'],_0x8a28b9=_0x10ff5c['message'],_0x5d54fc=Buffer[_0x533f4a(0x328)](_0x8a28b9[_0x533f4a(0x642)][_0x533f4a(0x2ac)][_0x533f4a(0x702)](_0x533f4a(0x4cc)),_0x533f4a(0x4cc)),_0xd4f1e8=(0x0,w[_0x533f4a(0x538)])(_0x5d8c8c[_0x533f4a(0x430)]['pollUpdateMessage']['vote'],{'pollCreatorJid':_0x354f88,'pollMsgId':_0x367df2,'pollEncKey':_0x5d54fc,'voterJid':_0x5d8c8c['key'][_0x533f4a(0x62b)]?this['instance'][_0x533f4a(0x6ff)]+_0x533f4a(0x5a0):_0x5d8c8c[_0x533f4a(0x557)][_0x533f4a(0x283)]['endsWith']('g.us')?_0x5d8c8c['key'][_0x533f4a(0x67b)]:_0x5d8c8c[_0x533f4a(0x557)][_0x533f4a(0x283)]}),_0x16b672=[],_0x51e504=_0xd4f1e8['selectedOptions'][_0x533f4a(0x4c2)](_0x516013=>Buffer[_0x533f4a(0x328)](_0x516013)['toString'](_0x533f4a(0x4cc)));for(let {optionName:_0x2bcc23}of _0x8a28b9[_0x533f4a(0x62e)]?.[_0x533f4a(0x442)]||_0x8a28b9[_0x533f4a(0x270)]?.[_0x533f4a(0x442)]||_0x8a28b9[_0x533f4a(0x6d4)]?.[_0x533f4a(0x442)])_0x51e504[_0x533f4a(0x34b)]((0x0,w['sha256'])(Buffer[_0x533f4a(0x328)](_0x2bcc23))[_0x533f4a(0x702)](_0x533f4a(0x4cc)))>-0x1&&_0x16b672['push'](_0x2bcc23);return _0x16b672;}}return null;},this[_0x53fe6e(0x4f2)]=(_0x814d8f,_0x4002d0,_0x45be8)=>{const _0x208182=_0x53fe6e;let _0xde0939=_0x4002d0?_0x814d8f[_0x4002d0]:void 0x0,_0xf98ab2={},_0x3fc3d8=null,_0x3afbeb=null,_0x4b1ae5=null;if(_0x814d8f[_0x208182(0x3bb)]?_0xde0939=_0x814d8f[_0x208182(0x3bb)][_0x208182(0x430)][_0x4002d0]:_0x814d8f['viewOnceMessage']?_0xde0939=_0x814d8f['viewOnceMessage'][_0x208182(0x430)][_0x4002d0]:_0x814d8f[_0x208182(0x504)]?_0xde0939=_0x814d8f[_0x208182(0x504)]['message'][_0x4002d0]:_0x814d8f[_0x208182(0x1ca)]?.[_0x208182(0x430)]?.['protocolMessage']?.[_0x208182(0x1ca)]?(_0x3fc3d8=_0x814d8f[_0x208182(0x1ca)][_0x208182(0x430)][_0x208182(0x1ef)][_0x208182(0x557)]['id'],_0x814d8f[_0x208182(0x1ca)][_0x208182(0x430)][_0x208182(0x1ef)][_0x208182(0x1ca)]['conversation']?_0xde0939=_0x814d8f[_0x208182(0x1ca)]['message'][_0x208182(0x1ef)][_0x208182(0x1ca)][_0x208182(0x160)]:_0x814d8f[_0x208182(0x1ca)]['message'][_0x208182(0x1ef)][_0x208182(0x1ca)]['imageMessage']?_0xde0939=_0x814d8f['editedMessage'][_0x208182(0x430)][_0x208182(0x1ef)][_0x208182(0x1ca)][_0x208182(0x45c)][_0x208182(0x1af)]:_0x814d8f[_0x208182(0x1ca)]['message'][_0x208182(0x1ef)][_0x208182(0x1ca)][_0x208182(0x5a2)]?_0xde0939=_0x814d8f['editedMessage'][_0x208182(0x430)][_0x208182(0x1ef)][_0x208182(0x1ca)][_0x208182(0x5a2)]['caption']:_0x814d8f[_0x208182(0x1ca)]['message'][_0x208182(0x1ef)][_0x208182(0x1ca)][_0x208182(0x3a6)]?_0xde0939=_0x814d8f[_0x208182(0x1ca)][_0x208182(0x430)][_0x208182(0x1ef)][_0x208182(0x1ca)][_0x208182(0x3a6)]['message'][_0x208182(0x2c6)][_0x208182(0x1af)]:_0xde0939=_0x814d8f[_0x208182(0x1ca)][_0x208182(0x430)][_0x208182(0x1ef)][_0x208182(0x1ca)]):_0xde0939=_0x814d8f[_0x4002d0],!_0x4002d0||!_0xde0939){console[_0x208182(0x24d)](_0x208182(0x196),_0x814d8f);return;}_0x814d8f[_0x4002d0]?.[_0x208182(0x6cd)]?.[_0x208182(0x48d)]&&_0x814d8f[_0x4002d0]?.[_0x208182(0x6cd)]?.['quotedMessage']&&(_0x3afbeb=_0x814d8f[_0x4002d0][_0x208182(0x6cd)]['stanzaId']),_0x814d8f[_0x208182(0x426)]&&(_0x4b1ae5=_0x814d8f[_0x208182(0x426)]['key']['id']);let _0x2a3764;if(_0xde0939&&typeof _0xde0939==_0x208182(0x171)&&_0x208182(0x56b)in _0xde0939&&({pollCreationMessageKey:_0x2a3764}=_0xde0939),_0x4002d0===_0x208182(0x3a6)){let _0x531470=_0xde0939?.[_0x208182(0x430)]?.[_0x208182(0x2c6)];_0x531470&&(_0xde0939=_0x531470);}if(_0x4002d0==='pollCreationMessage'||_0x4002d0===_0x208182(0x6d4)||_0x4002d0===_0x208182(0x270)){let _0xf8c50d=_0xde0939[_0x208182(0x442)][_0x208182(0x4c2)](_0x2f8b6d=>_0x2f8b6d['optionName'])[_0x208182(0x2c3)]('|');_0xf98ab2[_0x208182(0x3ef)]=_0xf8c50d;}let _0x303630=_0xde0939[_0x208182(0x1e8)]||_0xde0939[_0x208182(0x1af)]||_0xde0939[_0x208182(0x160)]||_0xde0939[_0x208182(0x499)];if(_0xde0939['vcard']){let _0x10f8fd=this['formatVCard'](JSON[_0x208182(0x61e)](_0xde0939[_0x208182(0x2e8)],null,0x2));_0x303630=_0x303630+'\x0a'+_0x10f8fd;}if(_0xde0939){let {displayName:_0x288bb2,vcard:_0x5b5ef1,contactVcard:_0x22925c,name:_0x4930e6,caption:_0x149be1,conversation:_0x16c1c9,pollCreationMessageKey:_0x34cee6,footerText:_0x52b763,contentText:_0x5a1f35,pageCount:_0x3fce47,headerType:_0x1589c3,isAvatar:_0x3cce4b,isAnimated:_0x230255,fallbackLc:_0x597101,fallbackLg:_0x51810b,namespace:_0xe1aa73,elementName:_0x308d51,localizableParams:_0x40bc4a,viewOnce:_0x41a331,height:_0x59844e,width:_0x4532ac,key:_0x4e6109,firstScanLength:_0x526399,firstScanSidecar:_0x391725,gifPlayback:_0x892fe3,gifAttribution:_0x420cf9,midQualityFileSha256:_0x2ab9a2,scansSidecar:_0x30c3af,streamingSidecar:_0x38e45a,thumbnailHeight:_0x399ba3,thumbnailWidth:_0x5a690e,thumbnailEncSha256:_0x177a10,thumbnailDirectPath:_0x4bfb6b,canonicalUrl:_0x21efb7,matchedText:_0x4c86d0,previewType:_0x5db18c,thumbnailSha256:_0x2097f0,deviceListMetadataVersion:_0x2c0584,inviteLinkGroupTypeV2:_0x2c2d9a,interactiveAnnotations:_0x2136d3,scanLengths:_0x2394cb,jpegThumbnail:_0x243ce2,url:_0x363df8,mediaKeyTimestamp:_0x1aff42,waveform:_0xde255a,stickerSentTs:_0x280ca6,firstFrameLength:_0x38732e,fileEncSha256:_0x2de918,contextInfo:_0x5040bb,firstFrameSidecar:_0xb3d9d8,directPath:_0x268f21,fileSha256:_0x5503cb,mediaKey:_0x59df24,senderTimestampMs:_0x12fc6c,..._0x45b767}=_0xde0939;typeof _0xde0939==_0x208182(0x6e9)?_0xf98ab2={'text':_0xde0939,'type':_0x4002d0||'conversation',..._0x3fc3d8&&{'edited':_0x3fc3d8},..._0x3afbeb&&{'quoted':_0x3afbeb},..._0x4b1ae5&&{'reaction':_0x4b1ae5}}:_0xf98ab2={'text':_0x303630,..._0x45b767,..._0x4002d0===_0x208182(0x394)?{'poll_id':_0xde0939[_0x208182(0x56b)]['id'],'vote':_0x45be8}:{},'type':_0x4002d0,..._0x3fc3d8&&{'edited':_0x3fc3d8},..._0x3afbeb&&{'quoted':_0x3afbeb},..._0x4b1ae5&&{'reaction':_0x4b1ae5},...(_0x4002d0===_0x208182(0x62e)||_0x4002d0===_0x208182(0x6d4)||_0x4002d0===_0x208182(0x270))&&{'convertedOptions':_0xf98ab2[_0x208182(0x3ef)]}};}return{'messageType':_0x4002d0,'messageContent':_0xde0939,'message_normalized':_0xf98ab2};},this['processingScheduleMessageId']=null,this[_0x53fe6e(0x4a4)]=0x0,(this['cleanStore'](),this[_0x53fe6e(0x18d)][_0x53fe6e(0x5f7)]={'count':0x0});}set['instanceName'](_0x4de4dc){const _0x377569=a0_0x32ece7;if(!_0x4de4dc){this[_0x377569(0x18d)][_0x377569(0x1e8)]=(0x0,io['v4'])();return;}this[_0x377569(0x18d)]['name']=_0x4de4dc,this[_0x377569(0x69f)](_0x377569(0x39d),{'instance':this['instance'][_0x377569(0x1e8)],'status':'created'});}get[a0_0x32ece7(0x56c)](){const _0x3a3a0e=a0_0x32ece7;return this[_0x3a3a0e(0x18d)][_0x3a3a0e(0x1e8)];}get['wuid'](){return this['instance']['wuid'];}async[a0_0x32ece7(0x2e5)](){const _0x3ecf39=a0_0x32ece7;let _0x344b8f=this[_0x3ecf39(0x63e)][_0x3ecf39(0x266)]?.[_0x3ecf39(0x1e8)]??this['client']['user']?.[_0x3ecf39(0x2e0)];if(!_0x344b8f){if(this[_0x3ecf39(0x1f7)][_0x3ecf39(0x5de)]('DATABASE')['ENABLED']){let _0x386ea3=await M[_0x3ecf39(0x1f2)]()['db'](this['configService']['get'](_0x3ecf39(0x52d))['CONNECTION'][_0x3ecf39(0x4d6)]+_0x3ecf39(0x4f7))['collection'](this[_0x3ecf39(0x56c)])['findOne']({'_id':_0x3ecf39(0x2a2)});if(_0x386ea3){let _0xa68fb2=JSON[_0x3ecf39(0x16e)](JSON[_0x3ecf39(0x61e)](_0x386ea3),w[_0x3ecf39(0x2db)][_0x3ecf39(0x3c8)]);_0x344b8f=_0xa68fb2['me']?.['name']||_0xa68fb2['me']?.[_0x3ecf39(0x2e0)];}}else{if((0x0,_e[_0x3ecf39(0x5d5)])((0x0,Z[_0x3ecf39(0x2c3)])(V,this[_0x3ecf39(0x56c)],'creds.json'))){let _0x184609=JSON[_0x3ecf39(0x16e)]((0x0,_e[_0x3ecf39(0x6af)])((0x0,Z['join'])(V,this[_0x3ecf39(0x56c)],_0x3ecf39(0x231)),{'encoding':_0x3ecf39(0x27e)}));_0x344b8f=_0x184609['me']?.[_0x3ecf39(0x1e8)]||_0x184609['me']?.[_0x3ecf39(0x2e0)];}}}return _0x344b8f;}get[a0_0x32ece7(0x2a0)](){const _0x4acce4=a0_0x32ece7;return this[_0x4acce4(0x18d)][_0x4acce4(0x2a0)];}get[a0_0x32ece7(0x410)](){const _0x43734e=a0_0x32ece7;return{'code':this[_0x43734e(0x18d)][_0x43734e(0x5f7)]?.['code'],'base64':this[_0x43734e(0x18d)]['qrcode']?.[_0x43734e(0x2d9)]};}async[a0_0x32ece7(0x6fc)](){const _0x2bcc3d=a0_0x32ece7;let _0x3e49aa=await this['repository']['webhook'][_0x2bcc3d(0x1dd)](this[_0x2bcc3d(0x56c)]);this[_0x2bcc3d(0x3c2)]['url']=_0x3e49aa?.[_0x2bcc3d(0x396)],this[_0x2bcc3d(0x3c2)][_0x2bcc3d(0x2bf)]=_0x3e49aa?.[_0x2bcc3d(0x2bf)],this[_0x2bcc3d(0x3c2)][_0x2bcc3d(0x355)]=_0x3e49aa?.[_0x2bcc3d(0x355)],this['localWebhook'][_0x2bcc3d(0x4a8)]=_0x3e49aa?.[_0x2bcc3d(0x4a8)],this[_0x2bcc3d(0x3c2)][_0x2bcc3d(0x228)]=_0x3e49aa?.['QRCODE_UPDATED'],this[_0x2bcc3d(0x3c2)]['SEND_MESSAGE']=_0x3e49aa?.[_0x2bcc3d(0x6e5)],this[_0x2bcc3d(0x3c2)]['MESSAGES_UPSERT']=_0x3e49aa?.[_0x2bcc3d(0x53b)],this[_0x2bcc3d(0x3c2)][_0x2bcc3d(0x6c7)]=_0x3e49aa?.[_0x2bcc3d(0x6c7)],this[_0x2bcc3d(0x3c2)][_0x2bcc3d(0x3dc)]=_0x3e49aa?.[_0x2bcc3d(0x3dc)],this[_0x2bcc3d(0x3c2)][_0x2bcc3d(0x1ee)]=_0x3e49aa?.[_0x2bcc3d(0x1ee)],this['localWebhook'][_0x2bcc3d(0x322)]=_0x3e49aa?.[_0x2bcc3d(0x322)],this[_0x2bcc3d(0x3c2)]['CHATS_SET']=_0x3e49aa?.[_0x2bcc3d(0x2a5)],this[_0x2bcc3d(0x3c2)]['CHATS_UPSERT']=_0x3e49aa?.[_0x2bcc3d(0x1f1)],this[_0x2bcc3d(0x3c2)]['CHATS_UPDATE']=_0x3e49aa?.[_0x2bcc3d(0x307)],this['localWebhook'][_0x2bcc3d(0x66c)]=_0x3e49aa?.['CHATS_DELETE'],this['localWebhook'][_0x2bcc3d(0x6e8)]=_0x3e49aa?.[_0x2bcc3d(0x6e8)],this[_0x2bcc3d(0x3c2)][_0x2bcc3d(0x534)]=_0x3e49aa?.[_0x2bcc3d(0x534)],this[_0x2bcc3d(0x3c2)][_0x2bcc3d(0x5d0)]=_0x3e49aa?.[_0x2bcc3d(0x5d0)],this[_0x2bcc3d(0x3c2)]['PRESENCE_UPDATE']=_0x3e49aa?.['PRESENCE_UPDATE'],this[_0x2bcc3d(0x3c2)][_0x2bcc3d(0x1d9)]=_0x3e49aa?.[_0x2bcc3d(0x1d9)],this[_0x2bcc3d(0x3c2)][_0x2bcc3d(0x562)]=_0x3e49aa?.[_0x2bcc3d(0x562)];}async[a0_0x32ece7(0x44d)](_0x3ba7e8){const _0x5469d7=a0_0x32ece7;let _0xc39c9b=[_0x5469d7(0x541),_0x5469d7(0x396),_0x5469d7(0x2bf),_0x5469d7(0x355),_0x5469d7(0x4a8),_0x5469d7(0x228),_0x5469d7(0x6c7),_0x5469d7(0x53b),_0x5469d7(0x6e5),'GROUPS_UPSERT',_0x5469d7(0x1ee),_0x5469d7(0x322),'CHATS_SET',_0x5469d7(0x1f1),_0x5469d7(0x307),_0x5469d7(0x66c),_0x5469d7(0x6e8),_0x5469d7(0x534),_0x5469d7(0x5d0),'PRESENCE_UPDATE',_0x5469d7(0x1d9),'CONNECTION_UPDATE'],_0x5bf301={};return _0xc39c9b[_0x5469d7(0x15f)](_0x568bc6=>{_0x3ba7e8[_0x568bc6]!==void 0x0&&(_0x5bf301[_0x568bc6]=_0x3ba7e8[_0x568bc6]);}),await this['repository'][_0x5469d7(0x234)]['create'](_0x5bf301,this[_0x5469d7(0x56c)]),Object[_0x5469d7(0x6a6)](this[_0x5469d7(0x3c2)],_0x5bf301),await this[_0x5469d7(0x5d8)][_0x5469d7(0x234)]['find'](this[_0x5469d7(0x56c)]);}async[a0_0x32ece7(0x4d5)](){const _0x47b178=a0_0x32ece7;return await this[_0x47b178(0x5d8)][_0x47b178(0x234)][_0x47b178(0x1dd)](this['instanceName']);}async[a0_0x32ece7(0x69f)](_0x564880,_0x3dbe46){const _0x1355ea=a0_0x32ece7;let _0x1a3bc4=this[_0x1355ea(0x1f7)][_0x1355ea(0x5de)](_0x1355ea(0x367)),_0x8c3e75=_0x564880[_0x1355ea(0x466)](/[\.-]/gm,'_')['toUpperCase'](),_0x543c83=this[_0x1355ea(0x3c2)][_0x1355ea(0x2bf)]&&(0x0,x['isURL'])(this[_0x1355ea(0x3c2)][_0x1355ea(0x396)])?this['localWebhook'][_0x1355ea(0x396)]+(this['localWebhook']['local_map']?this['webhookMap'][_0x564880]:''):null,_0x2f20a2=_0x1a3bc4?.[_0x1355ea(0x525)],_0x2cc1db=_0x2f20a2&&_0x2f20a2?.[_0x1355ea(0x61d)]&&(0x0,x['isURL'])(_0x2f20a2[_0x1355ea(0x206)])?_0x2f20a2[_0x1355ea(0x206)]+(_0x1a3bc4[_0x1355ea(0x5a3)]?this[_0x1355ea(0x30f)][_0x564880]:''):null,_0x245389=this[_0x1355ea(0x3c2)][_0x8c3e75],_0x484928=_0x1a3bc4?.[_0x1355ea(0x494)]?.[_0x8c3e75];if(_0x245389&&_0x543c83)try{await le[_0x1355ea(0x490)][_0x1355ea(0x176)]({'baseURL':_0x543c83})[_0x1355ea(0x261)]('',{'event':_0x564880,'instance':this[_0x1355ea(0x18d)][_0x1355ea(0x1e8)],'data':_0x3dbe46}),this[_0x1355ea(0x21f)]['log'](_0x1355ea(0x629)+_0x564880+':\x20'+_0x543c83);}catch(_0x209917){this[_0x1355ea(0x21f)][_0x1355ea(0x24d)](this[_0x1355ea(0x56c)]+'\x20('+this['instance']['wuid']+_0x1355ea(0x4ac)+{'local':c[_0x1355ea(0x1e8)]+_0x1355ea(0x156),'message':_0x209917?.[_0x1355ea(0x430)],'hostName':_0x209917?.['hostname'],'syscall':_0x209917?.[_0x1355ea(0x480)],'code':_0x209917?.[_0x1355ea(0x1c4)],'error':_0x209917?.[_0x1355ea(0x5cc)],'stack':_0x209917?.[_0x1355ea(0x33c)],'name':_0x209917?.[_0x1355ea(0x1e8)]});}if(_0x484928&&_0x2cc1db)try{await le[_0x1355ea(0x490)][_0x1355ea(0x176)]({'baseURL':_0x2cc1db})['post']('',{'event':_0x564880,'instance':this[_0x1355ea(0x18d)][_0x1355ea(0x1e8)],'data':_0x3dbe46}),this[_0x1355ea(0x21f)][_0x1355ea(0x3c5)](_0x1355ea(0x3b8)+_0x564880+':\x20'+_0x2cc1db);}catch(_0x301881){this['logger'][_0x1355ea(0x24d)](this[_0x1355ea(0x56c)]+'\x20('+this[_0x1355ea(0x18d)][_0x1355ea(0x6ff)]+_0x1355ea(0x4ac)+{'local':c[_0x1355ea(0x1e8)]+_0x1355ea(0x29c),'message':_0x301881?.[_0x1355ea(0x430)],'hostName':_0x301881?.[_0x1355ea(0x3ac)],'syscall':_0x301881?.[_0x1355ea(0x480)],'code':_0x301881?.['code'],'error':_0x301881?.[_0x1355ea(0x5cc)],'stack':_0x301881?.[_0x1355ea(0x33c)],'name':_0x301881?.[_0x1355ea(0x1e8)]});}}async['connectionUpdate']({qr:_0x44eff2,connection:_0x23e17c,lastDisconnect:_0x374b82}){const _0x1964ba=a0_0x32ece7;if(_0x44eff2){if(this[_0x1964ba(0x18d)][_0x1964ba(0x5f7)][_0x1964ba(0x62d)]===this['configService'][_0x1964ba(0x5de)](_0x1964ba(0x48e))[_0x1964ba(0x213)])return this[_0x1964ba(0x69f)](_0x1964ba(0x30e),{'message':_0x1964ba(0x246),'statusCode':w[_0x1964ba(0x25a)][_0x1964ba(0x5ad)]}),this[_0x1964ba(0x69f)](_0x1964ba(0x699),{'instance':this[_0x1964ba(0x18d)][_0x1964ba(0x1e8)],'state':_0x1964ba(0x33f),'statusReason':w[_0x1964ba(0x25a)]['connectionClosed']}),this[_0x1964ba(0x69f)](_0x1964ba(0x39d),{'instance':this['instance'][_0x1964ba(0x1e8)],'status':_0x1964ba(0x3a1)}),this[_0x1964ba(0x28f)]=!0x0,this['eventEmitter']['emit'](_0x1964ba(0x1df),this[_0x1964ba(0x18d)][_0x1964ba(0x1e8)]);this[_0x1964ba(0x18d)][_0x1964ba(0x5f7)][_0x1964ba(0x62d)]++;let _0x4c7e3a={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':_0x1964ba(0x545)}};ro[_0x1964ba(0x490)][_0x1964ba(0x2dc)](_0x44eff2,_0x4c7e3a,(_0x2678f1,_0xc24c6a)=>{const _0x66b137=_0x1964ba;if(_0x2678f1){this[_0x66b137(0x21f)][_0x66b137(0x24d)](this[_0x66b137(0x56c)]+'\x20('+this['instance'][_0x66b137(0x6ff)]+_0x66b137(0x321)+_0x2678f1[_0x66b137(0x702)]());return;}this[_0x66b137(0x18d)][_0x66b137(0x5f7)][_0x66b137(0x2d9)]=_0xc24c6a,this[_0x66b137(0x18d)][_0x66b137(0x5f7)][_0x66b137(0x1c4)]=_0x44eff2,this[_0x66b137(0x69f)](_0x66b137(0x30e),{'qrcode':{'instance':this[_0x66b137(0x18d)][_0x66b137(0x1e8)],'code':_0x44eff2,'base64':_0xc24c6a}});}),no[_0x1964ba(0x490)][_0x1964ba(0x25b)](_0x44eff2,{'small':!0x0},_0x95fbb7=>this['logger'][_0x1964ba(0x3c5)](_0x1964ba(0x691)+this[_0x1964ba(0x18d)][_0x1964ba(0x1e8)]+_0x1964ba(0x641)+this[_0x1964ba(0x18d)][_0x1964ba(0x5f7)][_0x1964ba(0x62d)]+_0x1964ba(0x4aa)+_0x95fbb7));}if(_0x23e17c&&(this[_0x1964ba(0x3f0)]={'state':_0x23e17c,'statusReason':_0x374b82?.[_0x1964ba(0x24d)]?.['output']?.['statusCode']??0xc8},this[_0x1964ba(0x69f)]('connection.update',{'instance':this[_0x1964ba(0x18d)]['name'],...this[_0x1964ba(0x3f0)]})),_0x23e17c===_0x1964ba(0x24b)){if(this[_0x1964ba(0x2ca)]++,this[_0x1964ba(0x54f)][_0x1964ba(0x4dc)](Date[_0x1964ba(0x332)]()),this[_0x1964ba(0x54f)]=this[_0x1964ba(0x54f)]['filter'](_0x2bcfd8=>Date[_0x1964ba(0x332)]()-_0x2bcfd8<this['RECONNECT_TIME_FRAME']),_0x374b82[_0x1964ba(0x24d)]?.[_0x1964ba(0x1fd)]?.[_0x1964ba(0x2bc)]!==w[_0x1964ba(0x25a)][_0x1964ba(0x6d6)]&&this['reconnectTimestamps'][_0x1964ba(0x239)]<=this[_0x1964ba(0x26a)])await this[_0x1964ba(0x22d)]();else{this['sendDataWebhook'](_0x1964ba(0x39d),{'instance':this[_0x1964ba(0x18d)][_0x1964ba(0x1e8)],'status':_0x1964ba(0x3a1)}),this[_0x1964ba(0x5ed)]=!0x1;try{this[_0x1964ba(0x21f)]['verbose'](this[_0x1964ba(0x56c)]+'\x20('+this[_0x1964ba(0x18d)][_0x1964ba(0x6ff)]+'):\x20Tentando\x20deletar\x20todas\x20mensagens\x20updates...');let _0x323320={'where':{'owner':this[_0x1964ba(0x18d)]['wuid']}},_0x387300=(await this[_0x1964ba(0x5d8)][_0x1964ba(0x23a)]['find'](_0x323320))[_0x1964ba(0x239)];await this[_0x1964ba(0x5d8)][_0x1964ba(0x23a)]['delete'](_0x323320),this[_0x1964ba(0x21f)][_0x1964ba(0x3a3)](this[_0x1964ba(0x56c)]+'\x20('+this[_0x1964ba(0x18d)]['wuid']+_0x1964ba(0x343)+_0x387300+_0x1964ba(0x2df));}catch(_0x3baaf6){console[_0x1964ba(0x24d)]('Falha\x20ao\x20deletar\x20mensagens\x20updates:',_0x3baaf6);}try{this['logger'][_0x1964ba(0x3a3)](this['instanceName']+'\x20('+this[_0x1964ba(0x18d)]['wuid']+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x4eb83f={'where':{'owner':this['instance'][_0x1964ba(0x6ff)]}},_0x27e204=(await this[_0x1964ba(0x5d8)][_0x1964ba(0x430)]['find'](_0x4eb83f))[_0x1964ba(0x239)];await this['repository'][_0x1964ba(0x430)][_0x1964ba(0x6c2)](_0x4eb83f),this['logger'][_0x1964ba(0x3a3)](this[_0x1964ba(0x56c)]+'\x20('+this['instance'][_0x1964ba(0x6ff)]+_0x1964ba(0x343)+_0x27e204+_0x1964ba(0x41e));}catch(_0x134a44){console[_0x1964ba(0x24d)](_0x1964ba(0x1b5),_0x134a44);}this[_0x1964ba(0x387)]!==null&&(this['logger'][_0x1964ba(0x3a3)](this['instanceName']+'\x20('+this[_0x1964ba(0x18d)][_0x1964ba(0x6ff)]+_0x1964ba(0x669)),clearInterval(this[_0x1964ba(0x387)]),this['delayMessage']=null),this[_0x1964ba(0x21f)][_0x1964ba(0x3a3)](this[_0x1964ba(0x56c)]+'\x20('+this[_0x1964ba(0x18d)][_0x1964ba(0x6ff)]+'):\x20Limpando\x20AutomateSystem'),this['AutomateSystem']=null,this[_0x1964ba(0x62a)][_0x1964ba(0x555)](_0x1964ba(0x14f),this['instance'][_0x1964ba(0x1e8)],_0x1964ba(0x3d8)),this[_0x1964ba(0x63e)]?.['ws']?.['close'](),this[_0x1964ba(0x63e)][_0x1964ba(0x6bf)](new Error(_0x1964ba(0x435)));}}if(_0x23e17c==='open'){this[_0x1964ba(0x5df)],this[_0x1964ba(0x18d)]['wuid']=this[_0x1964ba(0x63e)]['user']['id'][_0x1964ba(0x466)](/:\d+/,'')[_0x1964ba(0x466)](_0x1964ba(0x5a0),''),this[_0x1964ba(0x18d)][_0x1964ba(0x2a0)]=(await this['profilePicture'](this['instance'][_0x1964ba(0x6ff)]+'@s.whatsapp.net'))['profilePictureUrl'];let _0x2fc9e7=_0x1964ba(0x65d)+this[_0x1964ba(0x18d)][_0x1964ba(0x6ff)],_0x670dcb=0x28,_0x537855=Math['floor']((_0x670dcb-_0x2fc9e7[_0x1964ba(0x239)])/0x2),_0x5af2d6='\x20'[_0x1964ba(0x567)](_0x537855),_0x435d1f=_0x1964ba(0x5e2),_0x1d6aef=_0x1964ba(0x241)+this[_0x1964ba(0x18d)][_0x1964ba(0x1e8)],_0x14a54f=(''+_0x5af2d6+_0x2fc9e7+_0x5af2d6)[_0x1964ba(0x22f)](_0x670dcb,'\x20'),_0x27f82b=(''+_0x5af2d6+_0x435d1f+_0x5af2d6)[_0x1964ba(0x22f)](_0x670dcb,'\x20'),_0x34cc5f=(''+_0x5af2d6+_0x1d6aef+_0x5af2d6)[_0x1964ba(0x22f)](_0x670dcb,'\x20'),_0x2ff5f0=Math['max'](_0x14a54f[_0x1964ba(0x239)],_0x27f82b[_0x1964ba(0x239)],_0x34cc5f[_0x1964ba(0x239)]),_0x193b02=_0x14a54f[_0x1964ba(0x22f)](_0x2ff5f0,'\x20'),_0x48b2c5=_0x27f82b[_0x1964ba(0x22f)](_0x2ff5f0,'\x20'),_0x34969d=_0x34cc5f[_0x1964ba(0x22f)](_0x2ff5f0,'\x20');this[_0x1964ba(0x21f)]['info']((_0x1964ba(0x650)+'─'[_0x1964ba(0x567)](_0x2ff5f0)+_0x1964ba(0x331)+_0x48b2c5+_0x1964ba(0x3c0)+_0x34969d+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x193b02+_0x1964ba(0x3b2)+'─'['repeat'](_0x2ff5f0)+'┘')[_0x1964ba(0x466)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0x1964ba(0x5ed)]=!0x0;}}[a0_0x32ece7(0x5df)](){const _0x4ce2e6=a0_0x32ece7;this['reconnectAttempts']=0x0,this[_0x4ce2e6(0x54f)]=[];}async[a0_0x32ece7(0x423)](_0x293f8a,_0x538d57=!0x1){const _0x5a06be=a0_0x32ece7;try{let _0x150d5e=await this[_0x5a06be(0x5d8)]['message'][_0x5a06be(0x1dd)]({'where':{'owner':this[_0x5a06be(0x18d)][_0x5a06be(0x6ff)],'key':{'id':_0x293f8a['id']}}});return _0x538d57?_0x150d5e[0x0]:_0x150d5e[0x0][_0x5a06be(0x430)];}catch{return{'conversation':''};}}[a0_0x32ece7(0x697)](){const _0x50100c=a0_0x32ece7;let _0x2ed18c=this['configService'][_0x50100c(0x5de)](_0x50100c(0x419)),_0x505926=this[_0x50100c(0x1f7)][_0x50100c(0x5de)](_0x50100c(0x52d));_0x2ed18c?.[_0x50100c(0x242)]&&!_0x505926[_0x50100c(0x61d)]&&setInterval(()=>{const _0x7a36de=_0x50100c;try{for(let [_0x5743bb,_0x270cd8]of Object[_0x7a36de(0x468)](_0x2ed18c))_0x270cd8===!0x0&&(0x0,lo[_0x7a36de(0x1da)])(_0x7a36de(0x45a)+(0x0,Z[_0x7a36de(0x2c3)])(this[_0x7a36de(0x46c)],_0x5743bb['toLowerCase'](),this[_0x7a36de(0x18d)]['wuid'])+'/*.json');}catch{}},(_0x2ed18c?.[_0x50100c(0x242)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x11d669=a0_0x32ece7;let _0x45caed=this[_0x11d669(0x1f7)][_0x11d669(0x5de)](_0x11d669(0x52d)),_0x3ddb96=this[_0x11d669(0x1f7)][_0x11d669(0x5de)](_0x11d669(0x25f));return _0x3ddb96?.['ENABLED']?await ys(_0x3ddb96,this[_0x11d669(0x18d)]['name']):_0x45caed[_0x11d669(0x61d)]?await ws(this[_0x11d669(0x18d)]['name']):await(0x0,w[_0x11d669(0x312)])((0x0,Z['join'])(V,this[_0x11d669(0x18d)]['name']));}async['AutomateFunctions'](){const _0x181c57=a0_0x32ece7;let _0x23cdf1=()=>Math[_0x181c57(0x5b8)](Math[_0x181c57(0x436)]()*0x2711)+0x7d0,_0x23de95=async()=>{const _0x3759dd=_0x181c57;if(!this[_0x3759dd(0x5ed)]){this[_0x3759dd(0x21f)][_0x3759dd(0x3a3)]('Desconectado,\x20parando\x20execução.'),this[_0x3759dd(0x36b)]=!0x1;return;}if(this[_0x3759dd(0x18d)][_0x3759dd(0x6ff)]&&this['AutomateSystem']&&this[_0x3759dd(0x387)]!==null&&this[_0x3759dd(0x387)]!==void 0x0){let _0x54f90b=Math[_0x3759dd(0x34a)](this[_0x3759dd(0x387)]/0xea60);this[_0x3759dd(0x21f)][_0x3759dd(0x3a3)](this[_0x3759dd(0x56c)]+'\x20('+this['instance'][_0x3759dd(0x6ff)]+'):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20'+_0x54f90b+_0x3759dd(0x597)),this[_0x3759dd(0x36b)]=!0x1;return;}else this[_0x3759dd(0x18d)][_0x3759dd(0x6ff)]&&(this['logger'][_0x3759dd(0x3a3)](this[_0x3759dd(0x56c)]+'\x20('+this['instance']['wuid']+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this[_0x3759dd(0x189)]||await this[_0x3759dd(0x3d6)](),(this[_0x3759dd(0x387)]===null||this[_0x3759dd(0x387)]===void 0x0)&&await this[_0x3759dd(0x2ec)]());if(this[_0x3759dd(0x36b)]){let _0x59f847=_0x23cdf1();this[_0x3759dd(0x21f)][_0x3759dd(0x3a3)](this[_0x3759dd(0x56c)]+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x59f847/0x3e8+_0x3759dd(0x617)),setTimeout(_0x23de95,_0x59f847);}};if(this['isRunning'])return;this[_0x181c57(0x36b)]=!0x0;let _0xa43265=_0x23cdf1();setTimeout(_0x23de95,_0xa43265);}async['connectToWhatsapp'](){const _0x2a7892=a0_0x32ece7;try{this[_0x2a7892(0x6fc)](),this[_0x2a7892(0x18d)][_0x2a7892(0x688)]=await this['defineAuthState']();let {version:_0x1b3a8b}=await(0x0,w['fetchLatestBaileysVersion'])(),_0x54070d=this[_0x2a7892(0x1f7)][_0x2a7892(0x5de)]('CONFIG_SESSION_PHONE'),_0x187a12=[_0x54070d['CLIENT'],_0x54070d['NAME'],(0x0,co[_0x2a7892(0x49d)])()],_0x3a7c32={'auth':{'creds':this['instance'][_0x2a7892(0x688)][_0x2a7892(0x6c1)][_0x2a7892(0x2a2)],'keys':(0x0,w[_0x2a7892(0x615)])(this[_0x2a7892(0x18d)]['authState'][_0x2a7892(0x6c1)][_0x2a7892(0x358)],(0x0,$t[_0x2a7892(0x490)])({'level':_0x2a7892(0x24d)}))},'logger':(0x0,$t['default'])({'level':_0x2a7892(0x24d)}),'printQRInTerminal':!0x1,'browser':_0x187a12,'version':_0x1b3a8b,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x2a7892(0x50d)],'getMessage':async _0x2055e4=>await this[_0x2a7892(0x423)](_0x2055e4),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x0,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0x1,'delayBetweenTriesMs':0xa},'patchMessageBeforeSending':_0x3e9e9d=>(!!(_0x3e9e9d['buttonsMessage']||_0x3e9e9d[_0x2a7892(0x57b)])&&(_0x3e9e9d={'viewOnceMessageV2':{'message':{'messageContextInfo':{'deviceListMetadataVersion':0x2,'deviceListMetadata':{}},..._0x3e9e9d}}}),_0x3e9e9d)};return this[_0x2a7892(0x28f)]=!0x1,this[_0x2a7892(0x63e)]=(0x0,w[_0x2a7892(0x490)])(_0x3a7c32),this[_0x2a7892(0x40c)](),this[_0x2a7892(0x63e)];}catch(_0x57e757){throw this[_0x2a7892(0x21f)]['error'](this['instanceName']+'\x20('+this[_0x2a7892(0x18d)][_0x2a7892(0x6ff)]+_0x2a7892(0x4ac)+_0x57e757),new A(_0x57e757?.[_0x2a7892(0x702)]());}}[a0_0x32ece7(0x40c)](){const _0x58a6c1=a0_0x32ece7;this[_0x58a6c1(0x63e)]['ev'][_0x58a6c1(0x388)](_0x455efa=>{const _0xbd5f96=_0x58a6c1;if(!this[_0xbd5f96(0x28f)]){let _0x47e513=this[_0xbd5f96(0x1f7)][_0xbd5f96(0x5de)](_0xbd5f96(0x52d));if(_0x455efa['connection.update']&&this[_0xbd5f96(0x2e3)](_0x455efa[_0xbd5f96(0x699)]),_0x455efa['creds.update']&&this[_0xbd5f96(0x18d)]['authState'][_0xbd5f96(0x2c5)](),_0x455efa['messaging-history.set']){let _0x45e6da=_0x455efa[_0xbd5f96(0x249)];this[_0xbd5f96(0x233)]['messaging-history.set'](_0x45e6da,_0x47e513);}if(_0x455efa[_0xbd5f96(0x5e5)]){let _0x5db007=_0x455efa[_0xbd5f96(0x5e5)];this[_0xbd5f96(0x233)][_0xbd5f96(0x5e5)](_0x5db007,_0x47e513);}if(_0x455efa[_0xbd5f96(0x194)]){let _0x499628=_0x455efa[_0xbd5f96(0x194)];this[_0xbd5f96(0x233)][_0xbd5f96(0x194)](_0x499628,_0x47e513);}if(_0x455efa[_0xbd5f96(0x3e7)]){let _0x161328=_0x455efa[_0xbd5f96(0x3e7)];this[_0xbd5f96(0x69f)]('presence.update',_0x161328);}if(_0x455efa[_0xbd5f96(0x357)]){let _0x5d94f5=_0x455efa[_0xbd5f96(0x357)];this[_0xbd5f96(0x299)][_0xbd5f96(0x357)](_0x5d94f5);}if(_0x455efa['groups.update']){let _0xc496d3=_0x455efa[_0xbd5f96(0x3b6)];this[_0xbd5f96(0x299)][_0xbd5f96(0x3b6)](_0xc496d3);}if(_0x455efa[_0xbd5f96(0x475)]){let _0x181cdb=_0x455efa[_0xbd5f96(0x475)];this['groupHandler'][_0xbd5f96(0x475)](_0x181cdb);}if(_0x455efa[_0xbd5f96(0x1ed)]){let _0x542232=_0x455efa['chats.upsert'];this[_0xbd5f96(0x1ab)]['chats.upsert'](_0x542232,_0x47e513);}if(_0x455efa[_0xbd5f96(0x500)]){let _0x2f1690=_0x455efa[_0xbd5f96(0x500)];this[_0xbd5f96(0x1ab)][_0xbd5f96(0x500)](_0x2f1690,_0x47e513);}if(_0x455efa[_0xbd5f96(0x6b2)]){let _0x92db10=_0x455efa[_0xbd5f96(0x6b2)];this['chatHandle'][_0xbd5f96(0x6b2)](_0x92db10);}if(_0x455efa[_0xbd5f96(0x44c)]){let _0xe11974=_0x455efa[_0xbd5f96(0x44c)];this[_0xbd5f96(0x55e)][_0xbd5f96(0x44c)](_0xe11974,_0x47e513);}if(_0x455efa['contacts.update']){let _0x189953=_0x455efa['contacts.update'];this[_0xbd5f96(0x55e)][_0xbd5f96(0x596)](_0x189953,_0x47e513);}}});}['formatBRNumber'](_0x590897){const _0x5f4b45=a0_0x32ece7;let _0x4028d6=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x5f4b45(0x60b)](_0x590897);if(_0x4028d6&&_0x4028d6[0x1]==='55'){let _0x2d694f=_0x4028d6[0x2],_0x2032f5=_0x4028d6[0x3],_0xd3d365=_0x4028d6[0x4];if(_0x2d694f>='31'&&_0x2032f5==='9')return _0x4028d6[0x1]+_0x2d694f+_0xd3d365;}return _0x590897;}[a0_0x32ece7(0x1db)](_0x9067c1){const _0x115e40=a0_0x32ece7;return _0x9067c1[_0x115e40(0x330)](_0x115e40(0x69d))||_0x9067c1['includes']('@s.whatsapp.net')||_0x9067c1[_0x115e40(0x330)]('@broadcast')?_0x9067c1:(_0x9067c1=_0x9067c1?.[_0x115e40(0x466)](/\s/g,'')['replace'](/\+/g,'')[_0x115e40(0x466)](/\(/g,'')['replace'](/\)/g,'')['split'](/\:/)[0x0]['split']('@')[0x0],_0x9067c1[_0x115e40(0x239)]>=0x12?(_0x9067c1=_0x9067c1[_0x115e40(0x466)](/[^\d-]/g,''),_0x9067c1+_0x115e40(0x69d)):(_0x9067c1=_0x9067c1[_0x115e40(0x466)](/\D/g,''),this[_0x115e40(0x22e)](_0x9067c1)+'@s.whatsapp.net'));}async[a0_0x32ece7(0x36d)](_0x29d65c){const _0x51f611=a0_0x32ece7;let _0x26dc8d=this[_0x51f611(0x1db)](_0x29d65c);try{return{'wuid':_0x26dc8d,'profilePictureUrl':await this[_0x51f611(0x63e)][_0x51f611(0x2a0)](_0x26dc8d,_0x51f611(0x610))};}catch{return{'wuid':_0x26dc8d,'profilePictureUrl':null};}}async['sendMessageWithTyping'](_0x4c0cf9,_0x390f09,_0xdfb4cc){const _0x49fac8=a0_0x32ece7;let _0x64fb2=(await this['whatsappNumber']({'numbers':[_0x4c0cf9]}))[0x0];if(!_0x64fb2[_0x49fac8(0x51d)]&&!(0x0,w['isJidGroup'])(_0x64fb2[_0x49fac8(0x40e)])&&!_0x64fb2['jid']['includes'](_0x49fac8(0x1a3)))throw new m(_0x64fb2);let _0x3f37de=_0x64fb2[_0x49fac8(0x40e)];try{_0xdfb4cc?.[_0x49fac8(0x38f)]&&(await this[_0x49fac8(0x63e)]['presenceSubscribe'](_0x3f37de),await this['client']['sendPresenceUpdate'](_0xdfb4cc?.[_0x49fac8(0x202)]??_0x49fac8(0x275),_0x3f37de),await(0x0,w[_0x49fac8(0x38f)])(_0xdfb4cc[_0x49fac8(0x38f)]),await this['client'][_0x49fac8(0x1a8)](_0x49fac8(0x42e),_0x3f37de));let _0x3141e=_0xdfb4cc?.[_0x49fac8(0x2f8)]!=!0x1?void 0x0:!0x1,_0x58b7bf;if(_0xdfb4cc?.[_0x49fac8(0x3ea)]){let _0x2e860a=_0xdfb4cc?.[_0x49fac8(0x3ea)],_0x108c48=_0x2e860a?.['message']?_0x2e860a:await this[_0x49fac8(0x423)](_0x2e860a[_0x49fac8(0x557)],!0x0);if(!_0x108c48)throw _0x49fac8(0x28c);_0x58b7bf=_0x108c48;}let _0xc3e523;if((0x0,w[_0x49fac8(0x485)])(_0x3f37de))try{let _0x15b6a8=await this['client']['groupMetadata'](_0x3f37de);if(!_0x15b6a8)throw new L(_0x49fac8(0x6e3));_0xdfb4cc?.[_0x49fac8(0x536)]&&(_0xdfb4cc['mentions']?.['everyOne']?_0xc3e523=_0x15b6a8[_0x49fac8(0x250)][_0x49fac8(0x4c2)](_0xb646d3=>_0xb646d3['id']):_0xdfb4cc['mentions']?.[_0x49fac8(0x2be)]?.['length']&&(_0xc3e523=_0xdfb4cc['mentions'][_0x49fac8(0x2be)][_0x49fac8(0x4c2)](_0x289708=>{const _0xc7fadc=_0x49fac8;let _0x2b8385=this[_0xc7fadc(0x1db)](_0x289708);return(0x0,w[_0xc7fadc(0x485)])(_0x2b8385)?null:_0x2b8385;})));}catch{throw new L(_0x49fac8(0x6e3));}let _0x37c023=await((async()=>{const _0x214a85=_0x49fac8;let _0x105b76={'quoted':_0x58b7bf};return!_0x390f09[_0x214a85(0x36c)]&&!_0x390f09[_0x214a85(0x207)]&&!_0x390f09[_0x214a85(0x38b)]&&!_0x390f09['conversation']&&_0x3f37de!==_0x214a85(0x26d)&&!_0x390f09[_0x214a85(0x36c)]?await this[_0x214a85(0x63e)]['sendMessage'](_0x3f37de,{'forward':{'key':{'remoteJid':this['instance'][_0x214a85(0x6ff)],'fromMe':!0x0},'message':_0x390f09},'mentions':_0xc3e523},_0x105b76):_0x390f09[_0x214a85(0x160)]?await this[_0x214a85(0x63e)][_0x214a85(0x695)](_0x3f37de,{'text':_0x390f09['conversation'],'mentions':_0xc3e523,'linkPreview':_0x3141e},_0x105b76):_0x3f37de===_0x214a85(0x26d)?await this[_0x214a85(0x63e)][_0x214a85(0x695)](_0x3f37de,_0x390f09['status'][_0x214a85(0x571)],{'backgroundColor':_0x390f09[_0x214a85(0x4d1)]['option'][_0x214a85(0x55c)],'font':_0x390f09[_0x214a85(0x4d1)][_0x214a85(0x66f)][_0x214a85(0x1dc)],'statusJidList':_0x390f09[_0x214a85(0x4d1)][_0x214a85(0x66f)][_0x214a85(0x3fe)]}):await this[_0x214a85(0x63e)][_0x214a85(0x695)](_0x3f37de,_0x390f09,_0x105b76);})()),{message_normalized:_0x2e876b}=this[_0x49fac8(0x4f2)](_0x37c023[_0x49fac8(0x430)],J(_0x37c023[_0x49fac8(0x430)]),null),_0x30deff={'key':_0x37c023[_0x49fac8(0x557)],'pushName':_0x37c023[_0x49fac8(0x23b)],'message':{..._0x37c023[_0x49fac8(0x430)]},'messageType':J(_0x37c023['message']),'message_normalized':{'key':_0x37c023[_0x49fac8(0x557)],'pushName':_0x37c023[_0x49fac8(0x23b)],'messageTimestamp':_0x37c023[_0x49fac8(0x1e4)]&&_0x37c023[_0x49fac8(0x1e4)][_0x49fac8(0x702)]()[_0x49fac8(0x239)]<0xd?_0x37c023['messageTimestamp']*0x3e8:_0x37c023[_0x49fac8(0x1e4)]||null,'source':(0x0,w[_0x49fac8(0x365)])(_0x37c023[_0x49fac8(0x557)]['id']),..._0x2e876b},'messageTimestamp':_0x37c023[_0x49fac8(0x1e4)]&&_0x37c023['messageTimestamp'][_0x49fac8(0x702)]()[_0x49fac8(0x239)]<0xd?_0x37c023['messageTimestamp']*0x3e8:_0x37c023[_0x49fac8(0x1e4)]||null,'owner':this[_0x49fac8(0x18d)][_0x49fac8(0x6ff)],'source':(0x0,w['getDevice'])(_0x37c023[_0x49fac8(0x557)]['id'])};return this[_0x49fac8(0x21f)][_0x49fac8(0x3c5)](_0x30deff),await this[_0x49fac8(0x69f)](_0x49fac8(0x51c),_0x30deff),H(this['instanceName'],_0x49fac8(0x607),{'message':_0x30deff}),this[_0x49fac8(0x297)](this['configService'][_0x49fac8(0x5de)](_0x49fac8(0x52d)),_0x30deff,'SEND_MESSAGE'),await this[_0x49fac8(0x5d8)][_0x49fac8(0x430)][_0x49fac8(0x2ba)]([_0x30deff],this[_0x49fac8(0x1f7)]['get']('DATABASE')[_0x49fac8(0x61d)]),_0x37c023;}catch(_0x342741){throw this[_0x49fac8(0x21f)]['error'](this['instanceName']+'\x20('+this[_0x49fac8(0x18d)]['wuid']+_0x49fac8(0x4ac)+_0x342741['toString']()),new m(_0x342741['toString']());}}get[a0_0x32ece7(0x174)](){const _0x276979=a0_0x32ece7;return this[_0x276979(0x3f0)];}async[a0_0x32ece7(0x622)](_0x11ba8c){const _0xd098e5=a0_0x32ece7;let _0x509342=this[_0xd098e5(0x1f7)][_0xd098e5(0x5de)]('TRIAL_AD'),_0x1f3110=this[_0xd098e5(0x1f7)][_0xd098e5(0x5de)]('TRIAL_INSTANCE_NAME');return _0x1f3110&&this[_0xd098e5(0x56c)][_0xd098e5(0x1e5)]()['includes'](_0x1f3110[_0xd098e5(0x1e5)]())&&(_0x11ba8c[_0xd098e5(0x622)][_0xd098e5(0x70c)]+='\x0a\x0a'+_0x509342),await this[_0xd098e5(0x64b)](_0x11ba8c[_0xd098e5(0x17b)],{'conversation':_0x11ba8c['textMessage'][_0xd098e5(0x70c)]},_0x11ba8c?.[_0xd098e5(0x442)]);}async[a0_0x32ece7(0x417)](_0x4e6d0b){const _0x5cf706=a0_0x32ece7;if(!_0x4e6d0b['type'])throw new m(_0x5cf706(0x482));if(!_0x4e6d0b[_0x5cf706(0x571)])throw new m('Content\x20is\x20required');if(_0x4e6d0b[_0x5cf706(0x539)]){let _0x52e4e7=await this[_0x5cf706(0x5d8)][_0x5cf706(0x715)][_0x5cf706(0x1dd)]({'where':{'owner':this[_0x5cf706(0x18d)]['wuid']}});if(!_0x52e4e7[_0x5cf706(0x239)])throw new m('Contacts\x20not\x20found');_0x4e6d0b[_0x5cf706(0x3fe)]=_0x52e4e7[_0x5cf706(0x448)](_0x41420e=>_0x41420e[_0x5cf706(0x23b)])['map'](_0x1a9461=>_0x1a9461['id']);}if(!_0x4e6d0b[_0x5cf706(0x3fe)]?.[_0x5cf706(0x239)]&&!_0x4e6d0b[_0x5cf706(0x539)])throw new m(_0x5cf706(0x52c));if(_0x4e6d0b[_0x5cf706(0x17d)]===_0x5cf706(0x70c)){if(!_0x4e6d0b[_0x5cf706(0x55c)])throw new m('Background\x20color\x20is\x20required');if(!_0x4e6d0b['font'])throw new m('Font\x20is\x20required');return{'content':{'text':_0x4e6d0b['content']},'option':{'backgroundColor':_0x4e6d0b[_0x5cf706(0x55c)],'font':_0x4e6d0b[_0x5cf706(0x1dc)],'statusJidList':_0x4e6d0b['statusJidList']}};}if(_0x4e6d0b[_0x5cf706(0x17d)]==='image')return{'content':{'image':{'url':_0x4e6d0b[_0x5cf706(0x571)]},'caption':_0x4e6d0b[_0x5cf706(0x1af)]},'option':{'statusJidList':_0x4e6d0b[_0x5cf706(0x3fe)]}};if(_0x4e6d0b['type']===_0x5cf706(0x4b0))return{'content':{'video':{'url':_0x4e6d0b[_0x5cf706(0x571)]},'caption':_0x4e6d0b[_0x5cf706(0x1af)]},'option':{'statusJidList':_0x4e6d0b[_0x5cf706(0x3fe)]}};if(_0x4e6d0b[_0x5cf706(0x17d)]===_0x5cf706(0x36c)){let _0x4838fd;if((0x0,x['isURL'])(_0x4e6d0b['content'])){let _0x5b10ca=await le['default']['get'](_0x4e6d0b[_0x5cf706(0x571)],{'responseType':_0x5cf706(0x1bd)});if(_0x4838fd=Buffer[_0x5cf706(0x328)](_0x5b10ca[_0x5cf706(0x5f4)]),_0x4e6d0b['content'][_0x5cf706(0x5c7)]('.mp3'))try{_0x4838fd=await this[_0x5cf706(0x2d4)](_0x4838fd);}catch(_0x4424d0){throw new A(_0x5cf706(0x616)+_0x4424d0[_0x5cf706(0x430)]);}else _0x4838fd=Buffer['from'](_0x4e6d0b['content'],'base64');let _0x20dba0=_0x4838fd;return{'content':{'audio':Buffer[_0x5cf706(0x328)](_0x20dba0,_0x5cf706(0x2d9)),'ptt':!0x0,'mimetype':_0x5cf706(0x244)},'option':{'statusJidList':_0x4e6d0b[_0x5cf706(0x3fe)]}};}else throw new A();}throw new m(_0x5cf706(0x4a0));}async[a0_0x32ece7(0x5fc)](_0x3a52f3){const _0x2cbf22=a0_0x32ece7;return await this[_0x2cbf22(0x64b)](_0x2cbf22(0x26d),{'status':await this[_0x2cbf22(0x417)](_0x3a52f3['statusMessage'])});}async['prepareMediaMessage'](_0x16992f){const _0x136633=a0_0x32ece7;try{let _0xc935c5=await(0x0,w[_0x136633(0x67d)])({[_0x16992f[_0x136633(0x517)]]:(0x0,x[_0x136633(0x286)])(_0x16992f[_0x136633(0x211)])?{'url':_0x16992f[_0x136633(0x211)]}:Buffer[_0x136633(0x328)](_0x16992f[_0x136633(0x211)],_0x136633(0x2d9))},{'upload':this['client'][_0x136633(0x653)]}),_0x40127a=_0x16992f[_0x136633(0x517)]+_0x136633(0x3d2);if(_0x16992f[_0x136633(0x517)]==='document'&&!_0x16992f['fileName']){let _0x842560=new RegExp(/.*\/(.+?)\./)[_0x136633(0x60b)](_0x16992f['media']);_0x16992f[_0x136633(0x44e)]=_0x842560[0x1];}let _0x5ee2eb;(0x0,x[_0x136633(0x286)])(_0x16992f[_0x136633(0x211)])?_0x5ee2eb=(0x0,bs['getMIMEType'])(_0x16992f[_0x136633(0x211)]):_0x5ee2eb=(0x0,bs[_0x136633(0x1c3)])(_0x16992f[_0x136633(0x44e)]);let _0x178263=this[_0x136633(0x1f7)][_0x136633(0x5de)](_0x136633(0x694)),_0x157d38=this[_0x136633(0x1f7)][_0x136633(0x5de)](_0x136633(0x41f));return _0x157d38&&this['instanceName'][_0x136633(0x1e5)]()['includes'](_0x157d38[_0x136633(0x1e5)]())&&(_0x16992f['caption']+='\x0a\x0a'+_0x178263),_0xc935c5[_0x40127a]['caption']=_0x16992f?.[_0x136633(0x1af)],_0xc935c5[_0x40127a][_0x136633(0x454)]=_0x5ee2eb,_0xc935c5[_0x40127a][_0x136633(0x44e)]=_0x16992f[_0x136633(0x44e)],_0x16992f[_0x136633(0x517)]===_0x136633(0x4b0)&&(_0xc935c5[_0x40127a]['jpegThumbnail']=Uint8Array[_0x136633(0x328)]((0x0,_e[_0x136633(0x6af)])((0x0,Z[_0x136633(0x2c3)])(process['cwd'](),_0x136633(0x462)))),_0xc935c5[_0x40127a][_0x136633(0x542)]=!0x1),(0x0,w[_0x136633(0x16f)])('',{[_0x40127a]:{..._0xc935c5[_0x40127a]}},{'userJid':this[_0x136633(0x18d)][_0x136633(0x6ff)]});}catch(_0x213a26){throw this['logger'][_0x136633(0x24d)](this[_0x136633(0x56c)]+'\x20('+this[_0x136633(0x18d)]['wuid']+_0x136633(0x4ac)+_0x213a26),new A(_0x213a26?.['toString']()||_0x213a26);}}async['mediaMessage'](_0x43fdac){const _0x5e3d9d=a0_0x32ece7;let _0x2eb408=await this[_0x5e3d9d(0x5a6)](_0x43fdac[_0x5e3d9d(0x602)]);return await this[_0x5e3d9d(0x64b)](_0x43fdac[_0x5e3d9d(0x17b)],{..._0x2eb408[_0x5e3d9d(0x430)]},_0x43fdac?.[_0x5e3d9d(0x442)]);}async[a0_0x32ece7(0x3be)](_0x168fdd){const _0x29da0d=a0_0x32ece7;return await this[_0x29da0d(0x64b)](_0x168fdd['number'],{'sticker':{'url':_0x168fdd['stickerMessage'][_0x29da0d(0x610)]}},_0x168fdd?.[_0x29da0d(0x442)]);}async[a0_0x32ece7(0x2eb)](_0x4480e8){const _0x2c9a9b=a0_0x32ece7;let _0x2c1aa3;if((0x0,x['isURL'])(_0x4480e8[_0x2c9a9b(0x193)][_0x2c9a9b(0x36c)])){let _0x52d090=await le[_0x2c9a9b(0x490)][_0x2c9a9b(0x5de)](_0x4480e8[_0x2c9a9b(0x193)][_0x2c9a9b(0x36c)],{'responseType':'arraybuffer'});if(_0x2c1aa3=Buffer['from'](_0x52d090[_0x2c9a9b(0x5f4)]),_0x4480e8['audioMessage'][_0x2c9a9b(0x36c)][_0x2c9a9b(0x5c7)](_0x2c9a9b(0x57f)))try{_0x2c1aa3=await this[_0x2c9a9b(0x2d4)](_0x2c1aa3);}catch(_0x54f0a6){throw new A(_0x2c9a9b(0x616)+_0x54f0a6[_0x2c9a9b(0x430)]);}}else _0x2c1aa3=Buffer[_0x2c9a9b(0x328)](_0x4480e8[_0x2c9a9b(0x193)]['audio'],_0x2c9a9b(0x2d9));let _0x27ab60=_0x2c1aa3;return this['sendMessageWithTyping'](_0x4480e8[_0x2c9a9b(0x17b)],{'audio':_0x27ab60,'mimetype':_0x2c9a9b(0x244),'ptt':!0x0},{'presence':'recording','delay':_0x4480e8?.[_0x2c9a9b(0x442)]?.[_0x2c9a9b(0x38f)]});}async[a0_0x32ece7(0x2d4)](_0x53e665){return new Promise(async(_0x5a2214,_0x1e17fe)=>{const _0x4beeb5=a0_0x1b9c;let _0x594b50=po[_0x4beeb5(0x4ea)]['from'](_0x53e665),_0x397b18=new mo['WritableStreamBuffer']();(0x0,uo[_0x4beeb5(0x490)])()['input'](_0x594b50)[_0x4beeb5(0x623)]()[_0x4beeb5(0x31d)]([_0x4beeb5(0x39b),_0x4beeb5(0x1f9),'-ar',_0x4beeb5(0x3b1)])[_0x4beeb5(0x5f0)]('libvorbis')[_0x4beeb5(0x439)](0x1)['audioFrequency'](0xbb80)[_0x4beeb5(0x592)](0x12)[_0x4beeb5(0x6a5)](_0x4beeb5(0x4c4))[_0x4beeb5(0x1fd)](_0x397b18)['on']('end',async()=>{const _0x1978fb=_0x4beeb5;let _0x1f772c=_0x397b18[_0x1978fb(0x39f)]();Buffer[_0x1978fb(0x2a7)](_0x1f772c)?_0x5a2214(_0x1f772c):_0x1e17fe(new Error(_0x1978fb(0x272)));})['on']('error',_0x1dea67=>{_0x1e17fe(_0x1dea67);})['run']();});}async[a0_0x32ece7(0x195)](_0x3a56e2){const _0x3c1a6b=a0_0x32ece7;let _0x34705f={},_0x59d2af=_0x3c1a6b(0x495);if(_0x3a56e2['buttonMessage']?.[_0x3c1a6b(0x602)]){_0x59d2af=_0x3a56e2[_0x3c1a6b(0x195)][_0x3c1a6b(0x602)]?.['mediatype']['toUpperCase']()??_0x3c1a6b(0x495),_0x34705f['mediaKey']=_0x59d2af[_0x3c1a6b(0x1e5)]()+_0x3c1a6b(0x3d2);let _0x3f66a1=await this[_0x3c1a6b(0x5a6)](_0x3a56e2[_0x3c1a6b(0x195)][_0x3c1a6b(0x602)]);_0x34705f['message']=_0x3f66a1['message'][_0x34705f[_0x3c1a6b(0x53d)]],_0x34705f[_0x3c1a6b(0x1fc)]='*'+_0x3a56e2[_0x3c1a6b(0x195)]['title']+_0x3c1a6b(0x175)+_0x3a56e2[_0x3c1a6b(0x195)][_0x3c1a6b(0x600)];}let _0x2d14bf={'text':_0x3a56e2[_0x3c1a6b(0x195)][_0x3c1a6b(0x48c)][_0x3c1a6b(0x4c2)](_0x5c929a=>_0x5c929a[_0x3c1a6b(0x520)]),'ids':_0x3a56e2[_0x3c1a6b(0x195)][_0x3c1a6b(0x48c)][_0x3c1a6b(0x4c2)](_0x21751b=>_0x21751b[_0x3c1a6b(0x509)])};if(!(0x0,x[_0x3c1a6b(0x29b)])(_0x2d14bf[_0x3c1a6b(0x70c)])||!(0x0,x[_0x3c1a6b(0x29b)])(_0x2d14bf[_0x3c1a6b(0x5ab)]))throw new m(_0x3c1a6b(0x5c9),_0x3c1a6b(0x502));return await this['sendMessageWithTyping'](_0x3a56e2[_0x3c1a6b(0x17b)],{'buttonsMessage':{'text':_0x34705f?.['mediaKey']?void 0x0:_0x3a56e2[_0x3c1a6b(0x195)][_0x3c1a6b(0x32b)],'contentText':_0x34705f?.[_0x3c1a6b(0x1fc)]??_0x3a56e2[_0x3c1a6b(0x195)][_0x3c1a6b(0x600)],'footerText':_0x3a56e2[_0x3c1a6b(0x195)]?.['footerText'],'buttons':_0x3a56e2[_0x3c1a6b(0x195)]['buttons'][_0x3c1a6b(0x4c2)](_0x2d0907=>({'buttonText':{'displayText':_0x2d0907[_0x3c1a6b(0x520)]},'buttonId':_0x2d0907[_0x3c1a6b(0x509)],'type':0x1})),'headerType':w['proto']['Message'][_0x3c1a6b(0x31a)][_0x3c1a6b(0x434)][_0x59d2af],[_0x34705f?.[_0x3c1a6b(0x53d)]]:_0x34705f?.[_0x3c1a6b(0x430)]}},_0x3a56e2?.[_0x3c1a6b(0x442)]);}async[a0_0x32ece7(0x578)](_0x5b6bcb){const _0x51ac71=a0_0x32ece7;return await this[_0x51ac71(0x64b)](_0x5b6bcb[_0x51ac71(0x17b)],{'locationMessage':{'degreesLatitude':_0x5b6bcb[_0x51ac71(0x578)][_0x51ac71(0x1ac)],'degreesLongitude':_0x5b6bcb['locationMessage'][_0x51ac71(0x65a)],'name':_0x5b6bcb[_0x51ac71(0x578)]?.['name'],'address':_0x5b6bcb[_0x51ac71(0x578)]?.[_0x51ac71(0x5d9)]}},_0x5b6bcb?.[_0x51ac71(0x442)]);}async[a0_0x32ece7(0x57b)](_0x2b5dbf){const _0x3b0968=a0_0x32ece7;return await this[_0x3b0968(0x64b)](_0x2b5dbf[_0x3b0968(0x17b)],{'listMessage':{'title':_0x2b5dbf['listMessage'][_0x3b0968(0x32b)],'description':_0x2b5dbf[_0x3b0968(0x57b)][_0x3b0968(0x600)],'buttonText':_0x2b5dbf[_0x3b0968(0x57b)]?.[_0x3b0968(0x520)],'footerText':_0x2b5dbf[_0x3b0968(0x57b)]?.[_0x3b0968(0x1c6)],'sections':_0x2b5dbf[_0x3b0968(0x57b)][_0x3b0968(0x5cf)],'listType':0x1}},_0x2b5dbf?.['options']);}async[a0_0x32ece7(0x546)](_0x111ed1){const _0x1c8894=a0_0x32ece7;let _0x2bb2a9={},_0x1733f8=_0x21e20b=>{const _0x2787fd=a0_0x1b9c;let _0x1d32e4=_0x2787fd(0x1c8)+_0x21e20b['fullName']+'\x0aFN:'+_0x21e20b[_0x2787fd(0x20b)]+'\x0a';_0x21e20b[_0x2787fd(0x4c8)]&&(_0x1d32e4+=_0x2787fd(0x2c2)+_0x21e20b['organization']+';\x0a'),_0x21e20b[_0x2787fd(0x686)]&&(_0x1d32e4+=_0x2787fd(0x3aa)+_0x21e20b[_0x2787fd(0x686)]+'\x0a'),_0x21e20b['url']&&(_0x1d32e4+=_0x2787fd(0x6a9)+_0x21e20b['url']+'\x0a');let _0x1b2a62='';return _0x21e20b['phoneNumber']&&_0x21e20b['phoneNumber'][_0x2787fd(0x294)]('|')['forEach']((_0x492788,_0x4f303b)=>{const _0xae7dfb=_0x2787fd;let _0x4decc4=this['createJid'](_0x492788)[_0xae7dfb(0x466)](_0xae7dfb(0x5a0),'');_0x1b2a62+=_0xae7dfb(0x20c)+(_0x4f303b+0x1)+_0xae7dfb(0x28e)+_0x4decc4+':'+_0x492788+'\x0aitem'+(_0x4f303b+0x1)+_0xae7dfb(0x42c);}),_0x1d32e4+=_0x1b2a62+_0x2787fd(0x1b7),_0x1d32e4;};return _0x111ed1[_0x1c8894(0x546)][_0x1c8894(0x239)]===0x1?_0x2bb2a9[_0x1c8894(0x546)]={'displayName':_0x111ed1[_0x1c8894(0x546)][0x0][_0x1c8894(0x20b)],'vcard':_0x1733f8(_0x111ed1[_0x1c8894(0x546)][0x0])}:_0x2bb2a9['contactsArrayMessage']={'displayName':_0x111ed1['contactMessage'][_0x1c8894(0x239)]+_0x1c8894(0x2ad),'contacts':_0x111ed1['contactMessage'][_0x1c8894(0x4c2)](_0x2dcdb6=>({'displayName':_0x2dcdb6['fullName'],'vcard':_0x1733f8(_0x2dcdb6)}))},await this[_0x1c8894(0x64b)](_0x111ed1[_0x1c8894(0x17b)],{..._0x2bb2a9},_0x111ed1?.[_0x1c8894(0x442)]);}async[a0_0x32ece7(0x426)](_0x14b873){const _0x40c94b=a0_0x32ece7;return await this[_0x40c94b(0x64b)](_0x14b873['reactionMessage'][_0x40c94b(0x557)]['remoteJid'],{'reactionMessage':{'key':_0x14b873[_0x40c94b(0x426)][_0x40c94b(0x557)],'text':_0x14b873[_0x40c94b(0x426)][_0x40c94b(0x227)]}});}async[a0_0x32ece7(0x433)](_0x3dc2c8){const _0x36cb8e=a0_0x32ece7;let _0x347c08=[];for await(let _0x378c37 of _0x3dc2c8[_0x36cb8e(0x33a)]){let _0x372ab1=this['createJid'](_0x378c37);if((0x0,w[_0x36cb8e(0x485)])(_0x372ab1)){let _0x4a2ac0=await this['findGroup']({'groupJid':_0x372ab1},_0x36cb8e(0x3d8));_0x347c08[_0x36cb8e(0x4dc)](new he(_0x4a2ac0['metadata']['id'],!!_0x4a2ac0?.[_0x36cb8e(0x33d)]['id'],_0x4a2ac0?.['metadata'][_0x36cb8e(0x1f8)]));}else try{let _0x4b7ba2=(await this[_0x36cb8e(0x63e)][_0x36cb8e(0x705)](_0x372ab1))[0x0];_0x347c08['push'](new he(_0x4b7ba2[_0x36cb8e(0x40e)],_0x4b7ba2['exists']));}catch{_0x347c08['push'](new he(_0x378c37,!0x1));}}return _0x347c08;}async[a0_0x32ece7(0x37a)](_0x1e84b2){const _0x11406c=a0_0x32ece7;try{let _0x309fd3=_0x1e84b2[_0x11406c(0x70f)]['filter'](_0x5dc557=>(0x0,w['isJidGroup'])(_0x5dc557[_0x11406c(0x283)])||(0x0,w[_0x11406c(0x4b6)])(_0x5dc557[_0x11406c(0x283)]))[_0x11406c(0x4c2)](_0x35ff05=>({'remoteJid':_0x35ff05['remoteJid'],'fromMe':_0x35ff05[_0x11406c(0x62b)],'id':_0x35ff05['id']}));await this[_0x11406c(0x63e)][_0x11406c(0x70f)](_0x309fd3);let _0x203f8d=_0x309fd3[_0x11406c(0x4c2)](_0x6f4368=>this[_0x11406c(0x47e)](_0x6f4368,_0x6f4368[_0x11406c(0x283)],{'status':'READ','owner':this[_0x11406c(0x18d)]['wuid']})),_0x27bb76=_0x309fd3[_0x11406c(0x4c2)](_0x217949=>I[_0x11406c(0x660)]({'id':_0x217949[_0x11406c(0x283)],'owner':this[_0x11406c(0x18d)][_0x11406c(0x6ff)]},{'$set':{'unreadcount':0x0}},{'new':!0x0})),[_0x1dd4e5,_0x18ef8e]=await Promise['all']([Promise[_0x11406c(0x216)](_0x203f8d),Promise[_0x11406c(0x216)](_0x27bb76)]);return _0x18ef8e['filter'](_0x18c5e5=>_0x18c5e5!==null)[_0x11406c(0x15f)](_0x1aac34=>{const _0x1fad3f=_0x11406c;H(this[_0x1fad3f(0x56c)],'chats',{'chat':_0x1aac34});}),{'message':_0x11406c(0x18e),'read':_0x11406c(0x4b7)};}catch(_0x3259e5){throw console[_0x11406c(0x24d)](_0x11406c(0x38a),_0x3259e5),new A(_0x11406c(0x69b),_0x3259e5[_0x11406c(0x702)]());}}async[a0_0x32ece7(0x1cc)](_0x3a509f){const _0x51649c=a0_0x32ece7;try{return _0x3a509f[_0x51649c(0x6cb)][_0x51649c(0x1e4)]=_0x3a509f[_0x51649c(0x6cb)]?.[_0x51649c(0x1e4)]??Date[_0x51649c(0x332)](),await this[_0x51649c(0x63e)][_0x51649c(0x3cd)]({'archive':_0x3a509f['archive'],'lastMessages':[_0x3a509f[_0x51649c(0x6cb)]]},_0x3a509f['lastMessage'][_0x51649c(0x557)][_0x51649c(0x283)]),{'chatId':_0x3a509f[_0x51649c(0x6cb)][_0x51649c(0x557)][_0x51649c(0x283)],'archived':!0x0};}catch(_0x3f1e37){throw new A({'archived':!0x1,'message':[_0x51649c(0x58a),_0x3f1e37[_0x51649c(0x702)]()]});}}async[a0_0x32ece7(0x3d4)](_0x25d64e){const _0x28a6ec=a0_0x32ece7;try{let _0x18e204=await this[_0x28a6ec(0x63e)][_0x28a6ec(0x695)](_0x25d64e['remoteJid'],{'delete':_0x25d64e});try{let _0x4f9200=await this[_0x28a6ec(0x47e)](_0x25d64e,_0x25d64e[_0x28a6ec(0x283)],{'status':_0x28a6ec(0x6e1),'owner':this[_0x28a6ec(0x18d)]['wuid']});this[_0x28a6ec(0x21f)][_0x28a6ec(0x3a3)](this[_0x28a6ec(0x56c)]+'\x20('+this[_0x28a6ec(0x18d)][_0x28a6ec(0x6ff)]+'):\x20updateResult:'+_0x4f9200);}catch(_0x57f334){console[_0x28a6ec(0x24d)](_0x28a6ec(0x63b),_0x57f334);}return _0x18e204;}catch(_0x3b4804){throw new A(_0x28a6ec(0x4f4),_0x3b4804?.[_0x28a6ec(0x702)]());}}async[a0_0x32ece7(0x5da)](_0x27078d){const _0x666044=a0_0x32ece7;try{let _0x58c9ee=_0x27078d?.[_0x666044(0x430)]?_0x27078d:await this[_0x666044(0x423)](_0x27078d['key'],!0x0);for(let _0x39d137 of zs)_0x58c9ee[_0x666044(0x430)][_0x39d137]&&(_0x58c9ee['message']=_0x58c9ee[_0x666044(0x430)][_0x39d137][_0x666044(0x430)]);let _0xd39110,_0x70b191;for(let _0x38aa2d of Ks)if(_0xd39110=_0x58c9ee['message'][_0x38aa2d],_0xd39110){_0x70b191=_0x38aa2d;break;}if(!_0xd39110)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0xd39110[_0x666044(0x53d)]=='object'&&(_0x58c9ee[_0x666044(0x430)]=JSON[_0x666044(0x16e)](JSON['stringify'](_0x58c9ee[_0x666044(0x430)])));let _0x3bbd30=await(0x0,w[_0x666044(0x505)])({'key':_0x58c9ee?.[_0x666044(0x557)],'message':_0x58c9ee?.[_0x666044(0x430)]},'buffer',{},{'logger':(0x0,$t[_0x666044(0x490)])({'level':_0x666044(0x24d)}),'reuploadRequest':this[_0x666044(0x63e)][_0x666044(0x6de)]});if(!(_0x3bbd30 instanceof Buffer))throw new Error(_0x666044(0x65e));if(this[_0x666044(0x1f7)]['get'](_0x666044(0x52d))[_0x666044(0x61d)]){let _0x3bb966;if(_0xd39110[_0x666044(0x44e)])_0x3bb966=_0xd39110[_0x666044(0x44e)];else{let _0x438875=_0xd39110['mimetype']?.['match'](/\/(\w+)/),_0x1bbb3f=_0x438875?_0x438875[0x1]:null;if(_0x1bbb3f===_0x666044(0x27f)&&_0xd39110[_0x666044(0x454)]?.[_0x666044(0x330)](_0x666044(0x4c4))&&(_0x1bbb3f=_0x666044(0x4c4)),!_0x1bbb3f)throw new Error(_0x666044(0x54e));_0x3bb966=(0x0,go['v4'])()+'.'+_0x1bbb3f;}await this[_0x666044(0x4c9)](_0x3bbd30,_0x3bb966);let _0x37093a=_0x666044(0x692)+_0x3bb966,_0x316afd=this['configService'][_0x666044(0x5de)](_0x666044(0x19b)),_0xb7b421=this[_0x666044(0x1f7)][_0x666044(0x5de)](_0x666044(0x522))[_0x666044(0x276)],_0x64453c=_0x316afd&&_0x316afd[_0x666044(0x306)]['split']('/')[0x4];_0xb7b421===0x1bb&&(_0x37093a=''+('https://'+_0x64453c)+_0x37093a);let _0x36f1d1={'where':{'key':{'id':_0x58c9ee[_0x666044(0x557)]['id'],'remoteJid':_0x58c9ee[_0x666044(0x557)][_0x666044(0x283)],'fromMe':_0x58c9ee['key'][_0x666044(0x62b)]},'owner':this[_0x666044(0x18d)][_0x666044(0x6ff)]}};_0x58c9ee[_0x666044(0x557)][_0x666044(0x283)][_0x666044(0x5c7)](_0x666044(0x69d))&&(_0x36f1d1[_0x666044(0x3de)][_0x666044(0x557)]['participant']=_0x58c9ee[_0x666044(0x557)][_0x666044(0x67b)]);let _0x2591ae=0xc*0x3c*0x3c*0x3e8,_0x2722ac={'message_normalized.fileUrl':_0x37093a,'message_normalized.expires_fileUrl':Date['now']()+_0x2591ae};try{let _0x5e2d52=await this[_0x666044(0x5d8)][_0x666044(0x430)][_0x666044(0x3f6)](_0x36f1d1,_0x2722ac);_0x5e2d52&&H(this[_0x666044(0x56c)],_0x666044(0x607),{'message':_0x5e2d52});}catch{}}return{'mediaType':_0x70b191,'fileName':_0xd39110['fileName'],'caption':_0xd39110[_0x666044(0x1af)],'size':{'fileLength':_0xd39110[_0x666044(0x634)],'height':_0xd39110['height'],'width':_0xd39110['width']},'mimetype':_0xd39110[_0x666044(0x454)],'base64':_0x3bbd30[_0x666044(0x702)](_0x666044(0x2d9))};}catch(_0x10527f){throw this[_0x666044(0x21f)][_0x666044(0x24d)](this[_0x666044(0x56c)]+'\x20('+this['instance'][_0x666044(0x6ff)]+_0x666044(0x4ac)+_0x10527f),new m(_0x10527f[_0x666044(0x702)]());}}async[a0_0x32ece7(0x4c9)](_0x3c384f,_0x3e7954){const _0x246ea3=a0_0x32ece7;console[_0x246ea3(0x3c5)](_0x246ea3(0x37e),__dirname),console[_0x246ea3(0x3c5)](_0x246ea3(0x3df),_0x3e7954);let _0x14129b=Z[_0x246ea3(0x490)][_0x246ea3(0x2c3)](__dirname,'downloads');console[_0x246ea3(0x3c5)]('Media\x20folder\x20path:',_0x14129b),Se[_0x246ea3(0x5d5)](_0x14129b)||(this[_0x246ea3(0x21f)][_0x246ea3(0x3c5)](_0x246ea3(0x62f)),Se['mkdirSync'](_0x14129b,{'recursive':!0x0}));let _0x483aca=Z[_0x246ea3(0x490)]['join'](_0x14129b,_0x3e7954);return console['log'](_0x246ea3(0x2a1),_0x483aca),new Promise((_0x14cfce,_0x10e1f7)=>{const _0x3fd15c=_0x246ea3;Se[_0x3fd15c(0x372)](_0x483aca,_0x3c384f,_0x4f3cf7=>{const _0x36dab6=_0x3fd15c;_0x4f3cf7?(this[_0x36dab6(0x21f)][_0x36dab6(0x24d)](_0x36dab6(0x4f1)+_0x4f3cf7[_0x36dab6(0x430)]),_0x10e1f7(_0x4f3cf7)):(this[_0x36dab6(0x21f)]['log'](_0x36dab6(0x2b8)+_0x483aca),_0x14cfce(_0x483aca));});});}async['fetchContacts'](_0xdd2708){const _0x3eacd=a0_0x32ece7;return _0xdd2708?.['where']?_0xdd2708[_0x3eacd(0x3de)][_0x3eacd(0x1bf)]=this['instance'][_0x3eacd(0x6ff)]:_0xdd2708={'where':{'owner':this['instance'][_0x3eacd(0x6ff)]}},await this['repository'][_0x3eacd(0x715)][_0x3eacd(0x1dd)](_0xdd2708);}async[a0_0x32ece7(0x2cd)](_0x2dfb7e){const _0x41ff96=a0_0x32ece7;_0x2dfb7e?.[_0x41ff96(0x3de)]?_0x2dfb7e['where'][_0x41ff96(0x1bf)]=this[_0x41ff96(0x18d)][_0x41ff96(0x6ff)]:_0x2dfb7e={'where':{'owner':this[_0x41ff96(0x18d)][_0x41ff96(0x6ff)]},'limit':_0x2dfb7e?.[_0x41ff96(0x258)]};let _0x2bb9f1=_0x2dfb7e?.['where']?.[_0x41ff96(0x557)]?.[_0x41ff96(0x283)];return _0x2bb9f1&&this[_0x41ff96(0x352)](_0x2bb9f1)['catch'](_0x17268f=>{const _0x52868b=_0x41ff96;this[_0x52868b(0x21f)][_0x52868b(0x24d)](_0x52868b(0x5aa)+_0x17268f);}),await this['repository']['message']['find'](_0x2dfb7e);}async['fetchStatusMessage'](_0x53180f){const _0x1926e3=a0_0x32ece7;return _0x53180f?.[_0x1926e3(0x3de)]?_0x53180f[_0x1926e3(0x3de)][_0x1926e3(0x1bf)]=this[_0x1926e3(0x18d)][_0x1926e3(0x6ff)]:_0x53180f={'where':{'owner':this[_0x1926e3(0x18d)][_0x1926e3(0x6ff)]},'limit':_0x53180f?.[_0x1926e3(0x258)]},await this[_0x1926e3(0x5d8)][_0x1926e3(0x23a)][_0x1926e3(0x1dd)](_0x53180f);}async['fetchChats'](){const _0x38bacb=a0_0x32ece7;return await this[_0x38bacb(0x5d8)][_0x38bacb(0x3a5)]['find']({'where':{'owner':this[_0x38bacb(0x18d)][_0x38bacb(0x6ff)]}});}async[a0_0x32ece7(0x67e)](){const _0x5808b5=a0_0x32ece7;return await this[_0x5808b5(0x63e)]['fetchPrivacySettings']();}async[a0_0x32ece7(0x325)](_0x2b4443){const _0x401bf7=a0_0x32ece7;try{return await this[_0x401bf7(0x63e)][_0x401bf7(0x60c)](_0x2b4443[_0x401bf7(0x589)][_0x401bf7(0x6b7)]),await this[_0x401bf7(0x63e)][_0x401bf7(0x6a1)](_0x2b4443[_0x401bf7(0x589)][_0x401bf7(0x2e9)]),await this['client'][_0x401bf7(0x2d0)](_0x2b4443[_0x401bf7(0x589)]['status']),await this['client']['updateOnlinePrivacy'](_0x2b4443['privacySettings'][_0x401bf7(0x572)]),await this['client'][_0x401bf7(0x661)](_0x2b4443[_0x401bf7(0x589)][_0x401bf7(0x1b8)]),await this['client'][_0x401bf7(0x4d4)](_0x2b4443[_0x401bf7(0x589)][_0x401bf7(0x488)]),this[_0x401bf7(0x63e)]?.['ws']?.[_0x401bf7(0x24b)](),{'update':_0x401bf7(0x4b7),'data':{'readreceipts':_0x2b4443[_0x401bf7(0x589)][_0x401bf7(0x6b7)],'profile':_0x2b4443[_0x401bf7(0x589)][_0x401bf7(0x2e9)],'status':_0x2b4443[_0x401bf7(0x589)][_0x401bf7(0x4d1)],'online':_0x2b4443[_0x401bf7(0x589)]['online'],'last':_0x2b4443[_0x401bf7(0x589)][_0x401bf7(0x1b8)],'groupadd':_0x2b4443['privacySettings'][_0x401bf7(0x488)]}};}catch(_0x1d2417){throw new A(_0x401bf7(0x6e4),_0x1d2417['toString']());}}async[a0_0x32ece7(0x324)](_0x1ff4bc){const _0x5a19ca=a0_0x32ece7;let _0x4d1df0=_0x1ff4bc?this[_0x5a19ca(0x1db)](_0x1ff4bc):this[_0x5a19ca(0x63e)]?.['user']?.['id'];this['logger'][_0x5a19ca(0x3a3)](_0x5a19ca(0x4c6)+_0x4d1df0);try{if(this[_0x5a19ca(0x21f)][_0x5a19ca(0x3a3)](_0x5a19ca(0x4f3)),_0x1ff4bc){let _0x202c32=(await this['whatsappNumber']({'numbers':[_0x4d1df0]}))?.[_0x5a19ca(0x35c)](),_0x42356e=await this[_0x5a19ca(0x36d)](_0x202c32?.[_0x5a19ca(0x40e)]),_0x560880=await this['getStatus'](_0x202c32?.[_0x5a19ca(0x40e)]),_0x3eb523=await this['fetchBusinessProfile'](_0x202c32?.[_0x5a19ca(0x40e)]);return{'wuid':_0x202c32?.['jid']||_0x4d1df0,'name':_0x202c32?.['name'],'numberExists':_0x202c32?.[_0x5a19ca(0x51d)],'picture':_0x42356e?.[_0x5a19ca(0x2a0)],'status':_0x560880?.['status'],'isBusiness':_0x3eb523[_0x5a19ca(0x611)],'email':_0x3eb523?.[_0x5a19ca(0x686)],'description':_0x3eb523?.[_0x5a19ca(0x600)],'website':_0x3eb523?.['website']?.[_0x5a19ca(0x35c)]()};}}catch{return this[_0x5a19ca(0x21f)][_0x5a19ca(0x3a3)](_0x5a19ca(0x658)),{'wuid':_0x4d1df0,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async['fetchBusinessProfile'](_0x1b0619){const _0x4974ed=a0_0x32ece7;this[_0x4974ed(0x21f)][_0x4974ed(0x3a3)](_0x4974ed(0x1c7));try{let _0x3d1d59=_0x1b0619?this['createJid'](_0x1b0619):this[_0x4974ed(0x18d)][_0x4974ed(0x6ff)],_0x158f1d=await this[_0x4974ed(0x63e)]['getBusinessProfile'](_0x3d1d59);return this['logger'][_0x4974ed(0x3a3)]('Trying\x20to\x20get\x20business\x20profile'),_0x158f1d?(this[_0x4974ed(0x21f)]['verbose'](_0x4974ed(0x50a)),{'isBusiness':!0x0,..._0x158f1d}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this[_0x4974ed(0x433)]({'numbers':[_0x3d1d59]}))?.[_0x4974ed(0x35c)]()};}catch(_0x42afe2){throw new A(_0x4974ed(0x15e),_0x42afe2[_0x4974ed(0x702)]());}}async['fetchAndUpdateProfileDetails'](_0x17b9ef,_0x10156e=!0x0){const _0x3fa433=a0_0x32ece7;let _0xad9ddf=null,_0x5d3965=null,_0x5b278e;if(_0x10156e){let _0x6a81c7=Date[_0x3fa433(0x332)]()-0x5265c00,_0x414aea=await I['findOne']({'id':_0x17b9ef,'owner':this['instance'][_0x3fa433(0x6ff)],'lastcache':{'$gt':_0x6a81c7}});if(_0x414aea)return{'wuid':_0x17b9ef,'profilePictureUrl':_0x414aea[_0x3fa433(0x235)],'contactName':_0x414aea[_0x3fa433(0x1e8)]};}try{_0xad9ddf=await this[_0x3fa433(0x63e)][_0x3fa433(0x2a0)](_0x17b9ef,_0x3fa433(0x610));}catch(_0x531526){this[_0x3fa433(0x21f)][_0x3fa433(0x24d)]('Erro\x20ao\x20obter\x20a\x20imagem\x20do\x20perfil:\x20'+_0x531526);}if(_0x17b9ef['endsWith']('@g.us')){let _0xd7bf8e=await this['findGroup']({'groupJid':_0x17b9ef}),_0xdba8d7=_0xd7bf8e?_0xd7bf8e[_0x3fa433(0x33d)][_0x3fa433(0x1f8)]:null;_0x5b278e=await I['findOneAndUpdate']({'id':_0x17b9ef,'owner':this['instance'][_0x3fa433(0x6ff)]},{'$set':{'imagechat':_0xad9ddf,'name':_0xdba8d7,'lastcache':Date['now']()}},{'new':!0x0});}else{try{let _0x5146a1=await Fe[_0x3fa433(0x420)]({'id':_0x17b9ef});_0x5d3965=_0x5146a1?_0x5146a1['pushName']:null;}catch(_0xdd7294){this[_0x3fa433(0x21f)]['error'](_0x3fa433(0x399)+_0xdd7294);}_0x5b278e=await I['findOneAndUpdate']({'id':_0x17b9ef,'owner':this[_0x3fa433(0x18d)][_0x3fa433(0x6ff)]},{'$set':{'imagechat':_0xad9ddf,'name':_0x5d3965,'lastcache':Date[_0x3fa433(0x332)]()}},{'new':!0x0});}return _0x5b278e&&H(this[_0x3fa433(0x56c)],'chats',{'chat':_0x5b278e}),{'wuid':_0x17b9ef,'profilePictureUrl':_0xad9ddf,'contactName':_0x5d3965};}async[a0_0x32ece7(0x489)](_0x31bb14){const _0x358b32=a0_0x32ece7;let _0x426c0c=this['createJid'](_0x31bb14);try{return{'wuid':_0x426c0c,'status':(await this[_0x358b32(0x63e)]['fetchStatus'](_0x426c0c))?.[_0x358b32(0x4d1)]};}catch{return{'wuid':_0x426c0c,'status':null};}}async[a0_0x32ece7(0x4a3)](_0x483c00){const _0x5b4126=a0_0x32ece7;try{return await this[_0x5b4126(0x63e)][_0x5b4126(0x4a3)](_0x483c00),{'update':_0x5b4126(0x4b7)};}catch(_0x5ae111){throw new A(_0x5b4126(0x15e),_0x5ae111['toString']());}}async[a0_0x32ece7(0x472)](_0x4f3125){const _0x1775a7=a0_0x32ece7;try{return await this[_0x1775a7(0x63e)]['updateProfileStatus'](_0x4f3125),{'update':_0x1775a7(0x4b7)};}catch(_0x3f9151){throw new A(_0x1775a7(0x397),_0x3f9151[_0x1775a7(0x702)]());}}async[a0_0x32ece7(0x3d5)](_0x332245){const _0x86cc93=a0_0x32ece7;try{let _0x4434aa;if((0x0,x[_0x86cc93(0x286)])(_0x332245)){let _0x5cdcb1=new Date()['getTime'](),_0x2836c4=_0x332245+_0x86cc93(0x4ff)+_0x5cdcb1;_0x4434aa=(await le[_0x86cc93(0x490)][_0x86cc93(0x5de)](_0x2836c4,{'responseType':'arraybuffer'}))[_0x86cc93(0x5f4)];}else{if((0x0,x[_0x86cc93(0x4dd)])(_0x332245))_0x4434aa=Buffer[_0x86cc93(0x328)](_0x332245,_0x86cc93(0x2d9));else throw new m(_0x86cc93(0x6d2));}return await this[_0x86cc93(0x63e)][_0x86cc93(0x3d5)](this[_0x86cc93(0x18d)][_0x86cc93(0x6ff)],_0x4434aa),{'update':_0x86cc93(0x4b7)};}catch(_0x1e5615){throw new A(_0x86cc93(0x293),_0x1e5615[_0x86cc93(0x702)]());}}async[a0_0x32ece7(0x59a)](){const _0x1f51c1=a0_0x32ece7;try{return await this[_0x1f51c1(0x63e)][_0x1f51c1(0x59a)](this['instance'][_0x1f51c1(0x6ff)]),{'update':'success'};}catch(_0x3e1e3c){throw new A('Error\x20removing\x20profile\x20picture',_0x3e1e3c[_0x1f51c1(0x702)]());}}async[a0_0x32ece7(0x564)](_0x3fc659){const _0x49a627=a0_0x32ece7;try{let _0x19ad3d=_0x3fc659[_0x49a627(0x250)]['map'](_0x338283=>this[_0x49a627(0x1db)](_0x338283)),{id:_0x3675cc}=await this[_0x49a627(0x63e)][_0x49a627(0x215)](_0x3fc659[_0x49a627(0x1f8)],_0x19ad3d);return _0x3fc659?.[_0x49a627(0x600)]&&await this['client'][_0x49a627(0x3f7)](_0x3675cc,_0x3fc659[_0x49a627(0x600)]),{'metadata':await this['client'][_0x49a627(0x535)](_0x3675cc)};}catch(_0x23039f){throw this[_0x49a627(0x21f)]['error'](this[_0x49a627(0x56c)]+'\x20('+this[_0x49a627(0x18d)][_0x49a627(0x6ff)]+_0x49a627(0x4ac)+_0x23039f),new A(_0x49a627(0x1b1),_0x23039f[_0x49a627(0x702)]());}}async[a0_0x32ece7(0x708)](_0x3e4c22){const _0x2f738e=a0_0x32ece7;try{let _0x2a7a67;if((0x0,x[_0x2f738e(0x286)])(_0x3e4c22['image'])){let _0xf641e9=new Date()['getTime'](),_0x2c2308=_0x3e4c22[_0x2f738e(0x610)]+_0x2f738e(0x4ff)+_0xf641e9;_0x2a7a67=(await le['default'][_0x2f738e(0x5de)](_0x2c2308,{'responseType':_0x2f738e(0x1bd)}))[_0x2f738e(0x5f4)];}else{if((0x0,x['isBase64'])(_0x3e4c22[_0x2f738e(0x610)]))_0x2a7a67=Buffer[_0x2f738e(0x328)](_0x3e4c22[_0x2f738e(0x610)],'base64');else throw new m(_0x2f738e(0x6d2));}return await this[_0x2f738e(0x63e)][_0x2f738e(0x3d5)](_0x3e4c22[_0x2f738e(0x1bc)],_0x2a7a67),{'update':_0x2f738e(0x4b7)};}catch(_0x41be96){throw new A(_0x2f738e(0x4c7),_0x41be96[_0x2f738e(0x702)]());}}async['findGroup'](_0x2b4715,_0x535e0d=a0_0x32ece7(0x27b)){const _0x17cc9f=a0_0x32ece7;try{let _0x1805bb=await this[_0x17cc9f(0x63e)][_0x17cc9f(0x535)](_0x2b4715[_0x17cc9f(0x1bc)]),_0x27e330=null;try{_0x27e330=await this[_0x17cc9f(0x63e)][_0x17cc9f(0x2a0)](_0x2b4715['groupJid'],_0x17cc9f(0x610));}catch(_0x4c0453){this[_0x17cc9f(0x21f)][_0x17cc9f(0x3a3)](this['instanceName']+'\x20('+this[_0x17cc9f(0x18d)]['wuid']+_0x17cc9f(0x300)+_0x2b4715['groupJid']+':\x20'+_0x4c0453[_0x17cc9f(0x702)]());}return{'metadata':_0x1805bb,'image':_0x27e330};}catch(_0x512dd7){if(_0x535e0d===_0x17cc9f(0x3d8))return;throw new L('Error\x20fetching\x20group',_0x512dd7[_0x17cc9f(0x702)]());}}async[a0_0x32ece7(0x390)](_0x275237){const _0x458866=a0_0x32ece7;try{return await this[_0x458866(0x63e)][_0x458866(0x3f7)](_0x275237['groupJid'],_0x275237[_0x458866(0x600)]),{'update':_0x458866(0x4b7)};}catch(_0x50da39){throw new A(_0x458866(0x2f2),_0x50da39[_0x458866(0x702)]());}}async[a0_0x32ece7(0x5e0)](_0x355bf2){const _0x3f9213=a0_0x32ece7;try{return await this[_0x3f9213(0x63e)][_0x3f9213(0x503)](_0x355bf2['groupJid'],_0x355bf2[_0x3f9213(0x1e8)]),{'update':_0x3f9213(0x4b7)};}catch(_0x4c497f){throw new A(_0x3f9213(0x458),_0x4c497f[_0x3f9213(0x702)]());}}async['groupSetting'](_0x4b124b){const _0x5de43a=a0_0x32ece7;try{return await this[_0x5de43a(0x63e)][_0x5de43a(0x305)](_0x4b124b['groupJid'],_0x4b124b['setting']),{'update':_0x5de43a(0x4b7)};}catch(_0x3dee6c){throw new A(_0x5de43a(0x528),_0x3dee6c[_0x5de43a(0x702)]());}}async[a0_0x32ece7(0x2a3)](){const _0x50090c=a0_0x32ece7;try{let _0x37eedd=[],_0x24e460=await this[_0x50090c(0x63e)][_0x50090c(0x50c)](),_0x3738e5=Object[_0x50090c(0x2f9)](_0x24e460),_0x53fd02=_0x3738e5[_0x50090c(0x448)](_0x365ae8=>(0x0,w[_0x50090c(0x485)])(_0x365ae8?.['id']))[_0x50090c(0x4c2)](async _0x25dca2=>{const _0x23c63d=_0x50090c;try{return await this[_0x23c63d(0x63e)]['profilePictureUrl'](_0x25dca2['id'],_0x23c63d(0x610));}catch(_0x1c4116){return this[_0x23c63d(0x21f)][_0x23c63d(0x3a3)](this[_0x23c63d(0x56c)]+'\x20('+this[_0x23c63d(0x18d)][_0x23c63d(0x6ff)]+_0x23c63d(0x300)+_0x25dca2['id']+':\x20'+_0x1c4116[_0x23c63d(0x702)]()),null;}}),_0x2cb5a9=await Promise[_0x50090c(0x216)](_0x53fd02);for(let _0x318431=0x0;_0x318431<_0x3738e5[_0x50090c(0x239)];_0x318431++){let _0x2b308d=_0x3738e5[_0x318431];(0x0,w[_0x50090c(0x485)])(_0x2b308d?.['id'])&&_0x37eedd[_0x50090c(0x4dc)]({'groupJid':_0x2b308d?.['id'],'subject':_0x2b308d?.[_0x50090c(0x1f8)],'subjectOwner':_0x2b308d?.[_0x50090c(0x54b)]?.['split']('@')[0x0],'subjectTime':_0x2b308d?.['subjectTime'],'size':_0x2b308d?.['participants']?.['length'],'owner':_0x2b308d?.[_0x50090c(0x1bf)]?.[_0x50090c(0x294)]('@')[0x0],'creation':_0x2b308d?.[_0x50090c(0x354)],'desc':_0x2b308d?.[_0x50090c(0x432)],'restrict':_0x2b308d?.['restrict'],'announce':_0x2b308d?.['announce'],'image':_0x2cb5a9[_0x318431]});}return _0x37eedd;}catch(_0x33ab2e){throw new L(_0x50090c(0x59f),_0x33ab2e[_0x50090c(0x702)]());}}async['inviteCode'](_0x24f63e){const _0xa325a2=a0_0x32ece7;try{let _0x6dd3b1=await this[_0xa325a2(0x63e)][_0xa325a2(0x1e2)](_0x24f63e[_0xa325a2(0x1bc)]);return{'inviteUrl':_0xa325a2(0x431)+_0x6dd3b1,'inviteCode':_0x6dd3b1};}catch(_0x5cf0d7){throw new L(_0xa325a2(0x4a6),_0x5cf0d7[_0xa325a2(0x702)]());}}async['revokeInviteCode'](_0x3237ca){const _0x4ac2ce=a0_0x32ece7;try{let _0xeb02b7=await this[_0x4ac2ce(0x63e)]['groupRevokeInvite'](_0x3237ca[_0x4ac2ce(0x1bc)]);return{'revoked':!0x0,'inviteUrl':_0x4ac2ce(0x431)+_0xeb02b7,'inviteCode':_0xeb02b7};}catch(_0x3c0cfb){throw new L(_0x4ac2ce(0x232),_0x3c0cfb['toString']());}}async[a0_0x32ece7(0x24f)](_0x54df4c){const _0x4dd8f4=a0_0x32ece7;try{if((0x0,x[_0x4dd8f4(0x286)])(_0x54df4c[_0x4dd8f4(0x664)]))var _0x375f86=_0x54df4c[_0x4dd8f4(0x664)][_0x4dd8f4(0x294)]('/')[0x3];else var _0x375f86=_0x54df4c[_0x4dd8f4(0x664)];let _0x16e12a=await this[_0x4dd8f4(0x63e)][_0x4dd8f4(0x524)](_0x375f86);return this[_0x4dd8f4(0x21f)][_0x4dd8f4(0x3a3)](this[_0x4dd8f4(0x56c)]+'\x20('+this[_0x4dd8f4(0x18d)][_0x4dd8f4(0x6ff)]+_0x4dd8f4(0x4ac)+_0x16e12a),{'join':!0x0,'inviteCode':_0x375f86,'groupJid':_0x16e12a};}catch(_0x279bf3){throw new L('No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x279bf3['toString']());}}async[a0_0x32ece7(0x3a7)](_0x157d44){const _0x49126e=a0_0x32ece7;try{return{'participants':(await this[_0x49126e(0x63e)][_0x49126e(0x535)](_0x157d44[_0x49126e(0x1bc)]))['participants']};}catch(_0x4612a3){throw new L(_0x49126e(0x187),_0x4612a3['toString']());}}async[a0_0x32ece7(0x2b2)](_0x354537){const _0x2ad372=a0_0x32ece7;try{let _0x15edad=_0x354537[_0x2ad372(0x250)][_0x2ad372(0x4c2)](_0x449256=>this['createJid'](_0x449256));return{'updateParticipants':await this['client']['groupParticipantsUpdate'](_0x354537['groupJid'],_0x15edad,_0x354537[_0x2ad372(0x405)])};}catch(_0x157e9b){throw new m(_0x2ad372(0x710),_0x157e9b[_0x2ad372(0x702)]());}}async[a0_0x32ece7(0x23c)](_0x3dc7fe){const _0x189c36=a0_0x32ece7;try{let _0x1a6ace=await this['client'][_0x189c36(0x2fc)](_0x3dc7fe[_0x189c36(0x1bc)],_0x3dc7fe[_0x189c36(0x1d4)]);return{'success':!0x0};}catch(_0x2c4f67){throw new m(_0x189c36(0x170),_0x2c4f67[_0x189c36(0x702)]());}}async['leaveGroup'](_0x14c4cf){const _0xc02a51=a0_0x32ece7;try{return await this[_0xc02a51(0x63e)][_0xc02a51(0x18b)](_0x14c4cf[_0xc02a51(0x1bc)]),{'groupJid':_0x14c4cf[_0xc02a51(0x1bc)],'leave':!0x0};}catch(_0x1d160b){throw new m(_0xc02a51(0x1f6),_0x1d160b[_0xc02a51(0x702)]());}}async[a0_0x32ece7(0x384)](_0x3b2465){const _0x5cef43=a0_0x32ece7;return await this[_0x5cef43(0x64b)](_0x3b2465['number'],{'poll':{'name':_0x3b2465[_0x5cef43(0x384)]?.[_0x5cef43(0x1e8)],'selectableCount':_0x3b2465[_0x5cef43(0x384)][_0x5cef43(0x225)],'values':_0x3b2465[_0x5cef43(0x384)]['values']}},_0x3b2465?.[_0x5cef43(0x442)]);}async[a0_0x32ece7(0x47e)](_0x4fbd11,_0xf44009,_0x7bfb02){const _0x55527c=a0_0x32ece7;if(await this[_0x55527c(0x423)](_0x4fbd11,!0x0)){let _0x23d50d={'where':{'key':{'id':_0x4fbd11['id'],'remoteJid':_0xf44009,'fromMe':_0x4fbd11['fromMe']},'owner':this[_0x55527c(0x18d)][_0x55527c(0x6ff)]}},_0x3c12e2={'status':[_0x7bfb02[_0x55527c(0x4d1)]][0x0]};try{let _0x3d0808=await this['repository'][_0x55527c(0x430)][_0x55527c(0x3f6)](_0x23d50d,_0x3c12e2);_0x3d0808&&H(this[_0x55527c(0x56c)],'messages',{'message':_0x3d0808});}catch{}}}[a0_0x32ece7(0x3a8)](_0x35947c){const _0x1fe0e0=a0_0x32ece7;let _0x2b6733=_0x35947c[_0x1fe0e0(0x466)](/\\n/g,'\x0a')[_0x1fe0e0(0x294)]('\x0a')[_0x1fe0e0(0x448)](_0x5bc74a=>_0x5bc74a[_0x1fe0e0(0x330)](_0x1fe0e0(0x2f1))||_0x5bc74a[_0x1fe0e0(0x330)]('EMAIL')),_0x32d943='';return _0x2b6733[_0x1fe0e0(0x15f)](_0x58e46e=>{const _0x1d4344=_0x1fe0e0;let _0x432a1a=/TEL(?:.*):(.+)/,_0x50ab94=/EMAIL(?:.*):(.+)/,_0x316da1=_0x58e46e[_0x1d4344(0x4b4)](_0x432a1a),_0x535441=_0x58e46e[_0x1d4344(0x4b4)](_0x50ab94);if(_0x316da1){let _0x3021a0=_0x316da1[0x1][_0x1d4344(0x466)](/-| |\+|\(|\)/g,'')[_0x1d4344(0x3ba)]();_0x32d943+=_0x1d4344(0x3ed)+_0x3021a0+'\x0a';}else{if(_0x535441){let _0x5cb008=_0x535441[0x1][_0x1d4344(0x3ba)]();_0x32d943+=_0x1d4344(0x406)+_0x5cb008+'\x0a';}}}),_0x32d943['trim']();}async[a0_0x32ece7(0x297)](_0x11b5e7,_0xfa652f,_0x34bd11){const _0x44a285=a0_0x32ece7;let _0x12680a=_0xfa652f[_0x44a285(0x557)]['remoteJid'],_0x7c262=_0xfa652f[_0x44a285(0x557)][_0x44a285(0x62b)],_0x4cd864=_0x12680a[_0x44a285(0x5c7)](_0x44a285(0x69d));if(!_0x11b5e7[_0x44a285(0x61d)])return;let _0x3ee319={'$set':{..._0x7c262?{'unreadcount':0x0,'lastmsg':_0xfa652f[_0x44a285(0x1e4)]||Date[_0x44a285(0x332)]()}:{'lastmsg':_0xfa652f['messageTimestamp']||Date[_0x44a285(0x332)]()},..._0x7c262||_0x4cd864?{}:{'name':_0xfa652f[_0x44a285(0x23b)]}},'$setOnInsert':{'group':_0x4cd864,'leadInfo.tags':[],'leadInfo.customFields':[],...!_0x7c262&&!_0x4cd864?{'leadInfo.nome':_0xfa652f[_0x44a285(0x23b)]}:{}},..._0x7c262?{}:{'$inc':{'unreadcount':0x1}}},_0x3cd120={'new':!0x0,'upsert':!0x0,'setDefaultsOnInsert':!0x0},_0x219b55=await I[_0x44a285(0x660)]({'id':_0x12680a,'owner':this[_0x44a285(0x18d)][_0x44a285(0x6ff)]},_0x3ee319,_0x3cd120);if(_0x219b55?(!_0x4cd864&&(!_0x219b55[_0x44a285(0x5b5)]||!_0x219b55[_0x44a285(0x5b5)]['nome'])&&_0xfa652f[_0x44a285(0x23b)]&&!_0x7c262&&(_0x3ee319={'$set':{'leadInfo.nome':_0xfa652f[_0x44a285(0x23b)]}},_0x219b55=await I[_0x44a285(0x660)]({'id':_0x12680a,'owner':this['instance'][_0x44a285(0x6ff)]},_0x3ee319,_0x3cd120)),H(this[_0x44a285(0x56c)],_0x44a285(0x6c9),{'chat':_0x219b55})):this[_0x44a285(0x21f)][_0x44a285(0x24d)](this[_0x44a285(0x56c)]+'\x20('+this[_0x44a285(0x18d)][_0x44a285(0x6ff)]+_0x44a285(0x60e)),!this[_0x44a285(0x189)]['flowConfig'][_0x44a285(0x2bf)])return this['logger'][_0x44a285(0x3a3)](this[_0x44a285(0x56c)]+'\x20('+this[_0x44a285(0x18d)]['wuid']+_0x44a285(0x165)),null;if(_0x219b55['id']['includes'](_0x44a285(0x69d))&&this[_0x44a285(0x189)][_0x44a285(0x483)][_0x44a285(0x1e0)]===!0x0)return this['logger'][_0x44a285(0x3a3)](this[_0x44a285(0x56c)]+'\x20('+this['instance'][_0x44a285(0x6ff)]+_0x44a285(0x5e3)),null;if(_0x219b55[_0x44a285(0x5b5)]){if(_0x219b55['leadInfo'][_0x44a285(0x6aa)]===0x0||_0x219b55['leadInfo']['atendimentoAberto'])return this[_0x44a285(0x21f)][_0x44a285(0x3a3)](this['instanceName']+'\x20('+this[_0x44a285(0x18d)][_0x44a285(0x6ff)]+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x12680a+_0x44a285(0x601)),null;if(_0x219b55['leadInfo'][_0x44a285(0x6aa)]>Date['now']())return this['logger']['verbose'](this[_0x44a285(0x56c)]+'\x20('+this['instance'][_0x44a285(0x6ff)]+_0x44a285(0x5dc)+new Date(_0x219b55[_0x44a285(0x5b5)][_0x44a285(0x6aa)])['toLocaleString']()+_0x44a285(0x601)),null;}this[_0x44a285(0x21f)][_0x44a285(0x3a3)](this[_0x44a285(0x56c)]+'\x20('+this['instance'][_0x44a285(0x6ff)]+_0x44a285(0x158)),this[_0x44a285(0x28a)](_0x34bd11,_0xfa652f,this[_0x44a285(0x18d)][_0x44a285(0x6ff)]);}async[a0_0x32ece7(0x1b9)](){const _0xd2b645=a0_0x32ece7;let _0x58fdea=await this['repository'][_0xd2b645(0x715)][_0xd2b645(0x1dd)]({'where':{'owner':this[_0xd2b645(0x18d)]['wuid']}}),_0x2b5ed8=0x0,_0x2461f2=[];for(let _0x5bff17 of _0x58fdea)_0x2461f2['push']({'updateOne':{'filter':{'id':_0x5bff17['id'],'owner':this[_0xd2b645(0x18d)]['wuid']},'update':{'$set':{'contactname':_0x5bff17[_0xd2b645(0x23b)]}}}}),_0x2461f2[_0xd2b645(0x239)]===0x1f4&&(_0x2b5ed8+=await this[_0xd2b645(0x6ed)](_0x2461f2),_0x2461f2=[]);_0x2461f2['length']>0x0&&(_0x2b5ed8+=await this[_0xd2b645(0x6ed)](_0x2461f2)),this['logger'][_0xd2b645(0x3a3)](this[_0xd2b645(0x56c)]+'\x20('+this[_0xd2b645(0x18d)]['wuid']+_0xd2b645(0x4ac)+_0x2b5ed8+'\x20chats\x20de\x20'+this[_0xd2b645(0x18d)][_0xd2b645(0x6ff)]+_0xd2b645(0x5fe));}async[a0_0x32ece7(0x6ed)](_0x546bcd){return(await I['bulkWrite'](_0x546bcd))['modifiedCount'];}async['upsertChats'](_0x4840dc,_0x1fbe8c){const _0x19e340=a0_0x32ece7;if(_0x1fbe8c[_0x19e340(0x61d)]){let _0x4eff1e=_0x4840dc['map'](async _0x1c32c5=>{const _0x24c123=_0x19e340;let _0x3fd05a={'$set':{'id':_0x1c32c5['id'],'owner':_0x1c32c5[_0x24c123(0x1bf)],'lastcache':0x0}};if(_0x1c32c5[_0x24c123(0x4fc)]!==null&&(_0x3fd05a[_0x24c123(0x4cf)][_0x24c123(0x4fc)]=_0x1c32c5[_0x24c123(0x4fc)]),_0x1c32c5[_0x24c123(0x1e8)]!==null&&(_0x3fd05a[_0x24c123(0x4cf)]['name']=_0x1c32c5[_0x24c123(0x1e8)]),_0x1c32c5[_0x24c123(0x4ce)]!==null&&(_0x3fd05a[_0x24c123(0x4cf)][_0x24c123(0x4ce)]=_0x1c32c5[_0x24c123(0x4ce)]),_0x1c32c5['imagechat']!==null&&(_0x3fd05a[_0x24c123(0x4cf)][_0x24c123(0x235)]=_0x1c32c5[_0x24c123(0x235)]),_0x1c32c5[_0x24c123(0x235)]===null&&(_0x3fd05a[_0x24c123(0x4cf)][_0x24c123(0x235)]=_0x24c123(0x37d)),_0x1c32c5[_0x24c123(0x506)]!==null&&(_0x3fd05a[_0x24c123(0x4cf)][_0x24c123(0x506)]=_0x1c32c5['lastmsg']),_0x1c32c5[_0x24c123(0x4d8)]!==null&&(_0x3fd05a[_0x24c123(0x4cf)][_0x24c123(0x4d8)]=_0x1c32c5[_0x24c123(0x4d8)]),_0x1c32c5[_0x24c123(0x519)]!==null&&(_0x3fd05a[_0x24c123(0x4cf)][_0x24c123(0x519)]=_0x1c32c5[_0x24c123(0x519)]),Object[_0x24c123(0x358)](_0x3fd05a[_0x24c123(0x4cf)])['length']>0x0)return I[_0x24c123(0x660)]({'id':_0x1c32c5['id'],'owner':_0x1c32c5[_0x24c123(0x1bf)]},_0x3fd05a,{'new':!0x0,'upsert':!0x0});}),_0x49e1c7=(await Promise[_0x19e340(0x216)](_0x4eff1e))[_0x19e340(0x448)](_0x5be30a=>_0x5be30a!==null)['length'];this[_0x19e340(0x21f)][_0x19e340(0x3a3)](this['instanceName']+'\x20('+this[_0x19e340(0x18d)][_0x19e340(0x6ff)]+_0x19e340(0x4ac)+_0x49e1c7+_0x19e340(0x41b)+this[_0x19e340(0x18d)][_0x19e340(0x6ff)]+_0x19e340(0x6fd));}}async[a0_0x32ece7(0x6d5)](_0x2a9853){const _0x3f0525=a0_0x32ece7;this[_0x3f0525(0x21f)][_0x3f0525(0x3a3)](this[_0x3f0525(0x56c)]+'\x20('+this[_0x3f0525(0x18d)][_0x3f0525(0x6ff)]+_0x3f0525(0x6f9));let _0x1021e0={'readMessages':[{'remoteJid':_0x2a9853[_0x3f0525(0x14e)][_0x3f0525(0x486)]['key'][_0x3f0525(0x283)],'fromMe':_0x2a9853[_0x3f0525(0x14e)]['lastReceivedMessage'][_0x3f0525(0x557)]['fromMe'],'id':_0x2a9853[_0x3f0525(0x14e)][_0x3f0525(0x486)][_0x3f0525(0x557)]['id']}]};await this[_0x3f0525(0x37a)](_0x1021e0);}async[a0_0x32ece7(0x28a)](_0x270cb4,_0x1d9ded,_0x516bcb){const _0x100cb6=a0_0x32ece7;try{let {key:_0x2113f6,message_normalized:_0xe01592}=_0x1d9ded,_0x36e468=_0xe01592,_0x5e3d38=_0xe01592[_0x100cb6(0x70c)]||_0xe01592[_0x100cb6(0x1af)]||_0xe01592[_0x100cb6(0x3eb)]||_0xe01592[_0x100cb6(0x1e8)],_0x2fdc14=_0x2113f6[_0x100cb6(0x283)],_0x2ba48d;if(_0x36e468[_0x100cb6(0x557)][_0x100cb6(0x62b)]&&_0x5e3d38['trim']()!==this[_0x100cb6(0x189)]['flowConfig'][_0x100cb6(0x415)][_0x100cb6(0x3ba)]())return this[_0x100cb6(0x21f)][_0x100cb6(0x3a3)](this[_0x100cb6(0x56c)]+'\x20('+this[_0x100cb6(0x18d)][_0x100cb6(0x6ff)]+_0x100cb6(0x247)),null;if(_0x36e468['key'][_0x100cb6(0x62b)]&&_0x5e3d38[_0x100cb6(0x3ba)]()===this['AutomateSystem']['flowConfig'][_0x100cb6(0x415)][_0x100cb6(0x3ba)]()){this[_0x100cb6(0x21f)][_0x100cb6(0x3a3)](this[_0x100cb6(0x56c)]+'\x20('+this[_0x100cb6(0x18d)][_0x100cb6(0x6ff)]+_0x100cb6(0x315));let _0x724d9=await G[_0x100cb6(0x1dd)]({'owner':_0x516bcb,'remoteJid':_0x2fdc14,'status':_0x100cb6(0x314)});this[_0x100cb6(0x21f)]['verbose'](this[_0x100cb6(0x56c)]+'\x20('+this[_0x100cb6(0x18d)][_0x100cb6(0x6ff)]+_0x100cb6(0x1d7)+_0x724d9);let _0xecb739=Date[_0x100cb6(0x332)](),_0x5cd011;return this[_0x100cb6(0x189)][_0x100cb6(0x483)]['stopMinutes']===0x0?_0x5cd011={'stoppedUntil':_0xecb739+0x7591f6200}:_0x5cd011={'stoppedUntil':_0xecb739+this[_0x100cb6(0x189)][_0x100cb6(0x483)][_0x100cb6(0x38e)]*0x3c*0x3e8},this[_0x100cb6(0x21f)][_0x100cb6(0x3a3)](this[_0x100cb6(0x56c)]+'\x20('+this[_0x100cb6(0x18d)][_0x100cb6(0x6ff)]+_0x100cb6(0x251)+_0x5cd011),this['updateStopChat'](_0x2ba48d,_0x5cd011[_0x100cb6(0x2f4)]),null;}if(_0x5e3d38&&_0x5e3d38[_0x100cb6(0x55b)](this[_0x100cb6(0x189)][_0x100cb6(0x483)][_0x100cb6(0x498)])&&_0x5e3d38[_0x100cb6(0x239)]>0x4){let _0x54ca0c=await D[_0x100cb6(0x420)]({'owner':_0x516bcb,'startCommandWord':_0x5e3d38});if(this[_0x100cb6(0x21f)][_0x100cb6(0x3a3)](this[_0x100cb6(0x56c)]+'\x20('+this['instance']['wuid']+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x54ca0c)_0x2ba48d=await this[_0x100cb6(0x3ab)](_0x54ca0c,_0x36e468[_0x100cb6(0x557)],_0x36e468);else return this['logger'][_0x100cb6(0x3a3)](this[_0x100cb6(0x56c)]+'\x20('+this['instance'][_0x100cb6(0x6ff)]+_0x100cb6(0x4f6)),null;}else _0x2ba48d=await this[_0x100cb6(0x3c4)](_0x516bcb,_0x2fdc14,_0x36e468);if(_0x2ba48d){this[_0x100cb6(0x21f)]['verbose'](this[_0x100cb6(0x56c)]+'\x20('+this['instance'][_0x100cb6(0x6ff)]+_0x100cb6(0x5f8)),!_0x2113f6[_0x100cb6(0x62b)]&&_0x2ba48d[_0x100cb6(0x70f)]&&this[_0x100cb6(0x6d5)](_0x2ba48d);let _0x2f15e7=await this['NextBlock'](_0x2ba48d);_0x2f15e7&&await this['processblock'](_0x2ba48d,_0x2f15e7,_0x2ba48d[_0x100cb6(0x283)]);}}catch(_0x2a53c6){this[_0x100cb6(0x21f)][_0x100cb6(0x24d)](this[_0x100cb6(0x56c)]+'\x20('+this[_0x100cb6(0x18d)][_0x100cb6(0x6ff)]+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+_0x2a53c6);}}[a0_0x32ece7(0x320)](_0x17ab35,_0x119b3b='',_0x33586e={},_0x6678cc=!0x0){const _0x3403a2=a0_0x32ece7;for(let _0xff8ea3 in _0x17ab35){let _0x167d16=_0x6678cc?'_'+_0xff8ea3:''+_0x119b3b+_0xff8ea3;typeof _0x17ab35[_0xff8ea3]==_0x3403a2(0x171)&&_0x17ab35[_0xff8ea3]!==null?this[_0x3403a2(0x320)](_0x17ab35[_0xff8ea3],_0x167d16+'.',_0x33586e,!0x1):_0x33586e[_0x167d16]=_0x17ab35[_0xff8ea3];}return _0x33586e;}['variablesToObject'](_0x2132d6){const _0x25a546=a0_0x32ece7;let _0x1571fa={};for(let _0x5b4956 of _0x2132d6)typeof _0x5b4956[_0x25a546(0x1e8)]==_0x25a546(0x6e9)&&typeof _0x5b4956['value']==_0x25a546(0x6e9)&&(_0x1571fa[_0x5b4956[_0x25a546(0x1e8)]]=_0x5b4956[_0x25a546(0x1ce)]);return _0x1571fa;}async[a0_0x32ece7(0x268)](_0x20f0a9){const _0x38d24c=a0_0x32ece7;if(!this[_0x38d24c(0x189)]['flowConfig']['enabled']||_0x20f0a9['status']!==_0x38d24c(0x314)&&_0x20f0a9[_0x38d24c(0x298)]==='')return null;let _0x3cf820=_0x20f0a9[_0x38d24c(0x14e)][_0x38d24c(0x4e1)]||_0x38d24c(0x6c6);typeof _0x20f0a9[_0x38d24c(0x14e)][_0x38d24c(0x4db)]>'u'&&(_0x20f0a9[_0x38d24c(0x14e)][_0x38d24c(0x4db)]=!0x0);let _0x4638cd=_0x20f0a9[_0x38d24c(0x14e)]['lastCondition'];this[_0x38d24c(0x21f)][_0x38d24c(0x3a3)](this[_0x38d24c(0x56c)]+'\x20('+this[_0x38d24c(0x18d)][_0x38d24c(0x6ff)]+_0x38d24c(0x585)+_0x3cf820+_0x38d24c(0x166)+_0x4638cd);let _0x5361fb=_0x3cf820===_0x38d24c(0x6c6)?_0x20f0a9['blocks'][_0x38d24c(0x1dd)](_0x5608a6=>_0x5608a6[_0x38d24c(0x17d)]===_0x38d24c(0x6c6)):_0x20f0a9['blocks']['find'](_0x485343=>_0x485343[_0x38d24c(0x541)]['toString']()===_0x3cf820['toString']());if(!_0x5361fb)return this[_0x38d24c(0x21f)]['error'](this[_0x38d24c(0x56c)]+'\x20('+this[_0x38d24c(0x18d)][_0x38d24c(0x6ff)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x3cf820),null;let _0x140f32={'_pushName':_0x20f0a9[_0x38d24c(0x14e)][_0x38d24c(0x486)][_0x38d24c(0x23b)],..._0x20f0a9[_0x38d24c(0x14e)][_0x38d24c(0x2c7)]},_0x4519ad=null;if(_0x20f0a9[_0x38d24c(0x298)]){let _0x4e380f=_0x20f0a9[_0x38d24c(0x14e)][_0x38d24c(0x486)][_0x38d24c(0x3eb)],_0xc21795=_0x20f0a9[_0x38d24c(0x1c9)]['find'](_0x4201fc=>_0x4201fc[_0x38d24c(0x66f)]===_0x4e380f);if(_0xc21795){let _0x5820f8=_0xc21795[_0x38d24c(0x29e)];if(_0x4519ad=_0x20f0a9['blocks'][_0x38d24c(0x1dd)](_0x321c21=>_0x321c21['groupId']===_0x5820f8&&_0x321c21[_0x38d24c(0x1e3)]===0x1),_0x5361fb[_0x38d24c(0x563)][_0x38d24c(0x301)]){let _0xc6ceff={'id':_0x20f0a9[_0x38d24c(0x298)],'remoteJid':_0x20f0a9[_0x38d24c(0x283)],'fromMe':!0x0};await this[_0x38d24c(0x3d4)](_0xc6ceff);}if(_0x5361fb[_0x38d24c(0x563)][_0x38d24c(0x301)]&&_0x5361fb[_0x38d24c(0x563)][_0x38d24c(0x685)]){let _0x391e9a={'number':_0x20f0a9['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x38d24c(0x6fe)+_0x20f0a9[_0x38d24c(0x69a)]+_0x38d24c(0x4e8)+_0x4e380f}};await this[_0x38d24c(0x622)](_0x391e9a);}_0x20f0a9[_0x38d24c(0x4d1)]=_0x38d24c(0x314),_0x20f0a9[_0x38d24c(0x298)]='',_0x20f0a9[_0x38d24c(0x69a)]='',_0x20f0a9[_0x38d24c(0x1c9)]=[];}else{this['logger'][_0x38d24c(0x3a3)](this['instanceName']+'\x20('+this[_0x38d24c(0x18d)][_0x38d24c(0x6ff)]+_0x38d24c(0x6da));let _0x20dd57={'activatedCount':_0x20f0a9[_0x38d24c(0x14e)][_0x38d24c(0x2e2)][_0x38d24c(0x448)](_0x10e481=>String(_0x10e481[_0x38d24c(0x2d1)])===String(_0x3cf820))['length'],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x5361fb[_0x38d24c(0x563)][_0x38d24c(0x255)]){let _0x2f9ca2={'number':_0x20f0a9['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x5361fb['uazapi'][_0x38d24c(0x255)]}};await this[_0x38d24c(0x622)](_0x2f9ca2);}if(_0x5361fb[_0x38d24c(0x264)]!==void 0x0&&_0x20dd57[_0x38d24c(0x326)]>=_0x5361fb['maxActives']){let _0x1927b5=Date[_0x38d24c(0x332)](),_0x4815d6=_0x5361fb[_0x38d24c(0x29d)]??0xa;isNaN(_0x4815d6)&&(_0x4815d6=0xa);let _0x2b69f3=_0x1927b5+_0x4815d6*0x3c*0x3e8;_0x20dd57[_0x38d24c(0x24a)]=_0x2b69f3,_0x20dd57[_0x38d24c(0x21d)]['push'](_0x38d24c(0x49f)),this['updateStopChat'](_0x20f0a9,_0x2b69f3),_0x20f0a9['waitingPoll_id']='',_0x20f0a9[_0x38d24c(0x69a)]='',_0x20f0a9[_0x38d24c(0x1c9)]=[];}return this[_0x38d24c(0x1e9)](_0x20f0a9,_0x5361fb,_0x20dd57,!0x0),null;}}if(_0x4638cd&&_0x5361fb['next_groupId']&&!_0x20f0a9['waitingPoll_id']){let _0x2b1aa2=_0x20f0a9[_0x38d24c(0x68f)][_0x38d24c(0x448)](_0x5d29cc=>_0x5d29cc[_0x38d24c(0x243)][_0x38d24c(0x702)]()===_0x5361fb[_0x38d24c(0x29e)][_0x38d24c(0x702)]())[_0x38d24c(0x39c)]((_0x28e1e2,_0x26f1e2)=>_0x28e1e2[_0x38d24c(0x1e3)]-_0x26f1e2[_0x38d24c(0x1e3)]);_0x2b1aa2[_0x38d24c(0x239)]>0x0&&(_0x4519ad=_0x2b1aa2[0x0]);}if(!_0x4519ad){let _0x1dd94d=_0x5361fb[_0x38d24c(0x243)],_0x400aae=_0x20f0a9[_0x38d24c(0x68f)][_0x38d24c(0x448)](_0x564a23=>_0x564a23[_0x38d24c(0x243)]===_0x1dd94d&&_0x564a23[_0x38d24c(0x1e3)]>_0x5361fb[_0x38d24c(0x1e3)])[_0x38d24c(0x39c)]((_0x4b48b2,_0x5bac0a)=>_0x4b48b2['order']-_0x5bac0a[_0x38d24c(0x1e3)]);_0x400aae[_0x38d24c(0x239)]>0x0&&(_0x4519ad=_0x400aae[0x0]);}if(!_0x4519ad)return _0x20f0a9[_0x38d24c(0x4d1)]='closed',null;_0x20f0a9['chatLog'][_0x38d24c(0x2c7)]=_0x140f32;let _0x32b4c0=JSON['parse'](JSON[_0x38d24c(0x61e)](_0x4519ad));return this[_0x38d24c(0x440)](_0x32b4c0,_0x20f0a9[_0x38d24c(0x14e)][_0x38d24c(0x2c7)]),_0x20f0a9[_0x38d24c(0x14e)]['lastBlockId']=_0x32b4c0[_0x38d24c(0x541)],_0x20f0a9[_0x38d24c(0x14e)][_0x38d24c(0x4db)]=!0x0,_0x32b4c0;}['replaceVariables'](_0x4e9c58,_0x185fec){return _0x4e9c58['replace'](/\{\{([^}]+)\}\}/g,(_0x3c5a87,_0x58b577)=>_0x185fec[_0x58b577]||'');}[a0_0x32ece7(0x440)](_0x3e4b34,_0x5b057e){const _0x48b037=a0_0x32ece7;for(let _0x3b7341 in _0x3e4b34)typeof _0x3e4b34[_0x3b7341]==_0x48b037(0x6e9)?_0x3e4b34[_0x3b7341]=this[_0x48b037(0x5b2)](_0x3e4b34[_0x3b7341],_0x5b057e):typeof _0x3e4b34[_0x3b7341]==_0x48b037(0x171)&&this[_0x48b037(0x440)](_0x3e4b34[_0x3b7341],_0x5b057e);}async[a0_0x32ece7(0x21c)](_0x50e68b,_0x16ddca){const _0x4907ff=a0_0x32ece7;let _0x435246=_0x16ddca[_0x4907ff(0x541)];if(_0x50e68b['chatLog']&&_0x50e68b['chatLog']['blockLogs']){let _0x442a62=_0x50e68b[_0x4907ff(0x14e)][_0x4907ff(0x2e2)][_0x4907ff(0x448)](_0x3f80f3=>String(_0x3f80f3[_0x4907ff(0x2d1)])===String(_0x435246))['pop']();if(_0x442a62&&_0x442a62[_0x4907ff(0x24d)]&&_0x16ddca[_0x4907ff(0x4e5)])return _0x50e68b[_0x4907ff(0x4d1)]=_0x4907ff(0x5ec),await this[_0x4907ff(0x5e9)](_0x50e68b),null;}if(_0x16ddca[_0x4907ff(0x17d)]===_0x4907ff(0x563)&&_0x16ddca[_0x4907ff(0x563)]['command']===_0x4907ff(0x467)&&_0x50e68b[_0x4907ff(0x298)])return _0x50e68b[_0x4907ff(0x14e)][_0x4907ff(0x4e1)]=_0x435246,await this[_0x4907ff(0x5e9)](_0x50e68b),null;let _0x44a39d=await this[_0x4907ff(0x268)](_0x50e68b);if(_0x50e68b[_0x4907ff(0x14e)]&&_0x50e68b[_0x4907ff(0x14e)][_0x4907ff(0x2e2)]){let _0x2e80c4=_0x50e68b['chatLog'][_0x4907ff(0x2e2)][_0x4907ff(0x448)](_0x5ecb64=>String(_0x5ecb64['blockId'])===String(_0x435246))['length'];if(_0x16ddca[_0x4907ff(0x264)]!==void 0x0&&_0x2e80c4>=_0x16ddca[_0x4907ff(0x264)]){let _0x408efe=Date['now'](),_0x564ace=_0x16ddca[_0x4907ff(0x29d)]??0xa;isNaN(_0x564ace)&&(_0x564ace=0xa);let _0xeea991=_0x408efe+_0x564ace*0x3c*0x3e8,_0x31d094={'newStoppedUntil':_0xeea991};return this[_0x4907ff(0x6a0)](_0x50e68b,_0xeea991),this[_0x4907ff(0x1e9)](_0x50e68b,_0x16ddca,_0x31d094,!0x0),null;}}_0x44a39d&&_0x44a39d[_0x4907ff(0x17d)]!=='save'&&await this[_0x4907ff(0x5b3)](_0x50e68b,_0x44a39d,_0x50e68b[_0x4907ff(0x283)]),_0x44a39d||await this[_0x4907ff(0x5e9)](_0x50e68b),_0x44a39d&&_0x44a39d['type']==='save'&&(_0x50e68b['chatLog'][_0x4907ff(0x4e1)]=_0x435246,await this[_0x4907ff(0x5e9)](_0x50e68b));}async[a0_0x32ece7(0x5b3)](_0x259bb0,_0x1116f4,_0x346f10){const _0x32dcef=a0_0x32ece7;try{let _0x26016c=_0x1116f4[_0x32dcef(0x17d)];this[_0x32dcef(0x21f)][_0x32dcef(0x3a3)](this['instanceName']+'\x20('+this[_0x32dcef(0x18d)]['wuid']+_0x32dcef(0x1d6)+_0x26016c);let _0x2451c4={'uazapi':()=>this['processUazapi'](_0x259bb0,_0x1116f4,_0x346f10),'save':()=>this[_0x32dcef(0x3a0)](_0x259bb0,_0x1116f4),'stop':()=>this[_0x32dcef(0x415)](_0x259bb0,_0x1116f4),'condition':()=>this[_0x32dcef(0x414)](_0x259bb0,_0x1116f4),'varedit':()=>this[_0x32dcef(0x6df)](_0x259bb0,_0x1116f4),'apirequest':()=>this[_0x32dcef(0x30b)](_0x259bb0,_0x1116f4),'goToFlow':()=>this[_0x32dcef(0x65c)](_0x259bb0,_0x1116f4)}[_0x26016c];_0x2451c4&&await _0x2451c4();}catch(_0x8288a3){this[_0x32dcef(0x21f)][_0x32dcef(0x24d)](this[_0x32dcef(0x56c)]+'\x20('+this[_0x32dcef(0x18d)]['wuid']+_0x32dcef(0x5e1)+_0x8288a3);}}async['processgoToFlow'](_0x6dfeec,_0x203437){const _0x17fc3c=a0_0x32ece7;if(this[_0x17fc3c(0x21f)][_0x17fc3c(0x3a3)](this[_0x17fc3c(0x56c)]+'\x20('+this[_0x17fc3c(0x18d)]['wuid']+'):\x20Entrou\x20na\x20função\x20goToFlow'),!_0x6dfeec||!_0x203437)return this[_0x17fc3c(0x21f)][_0x17fc3c(0x24d)](this[_0x17fc3c(0x56c)]+'\x20('+this['instance'][_0x17fc3c(0x6ff)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this[_0x17fc3c(0x1e9)](_0x6dfeec,_0x203437,{},!0x0,!0x0),console[_0x17fc3c(0x3c5)]('nextBlock:'),console['log'](_0x203437);let _0x1ce140=_0x203437[_0x17fc3c(0x6e6)];console[_0x17fc3c(0x3c5)](_0x17fc3c(0x576),_0x1ce140),_0x6dfeec=await this[_0x17fc3c(0x2b0)](_0x1ce140,_0x6dfeec[_0x17fc3c(0x283)],_0x6dfeec[_0x17fc3c(0x14e)][_0x17fc3c(0x2c7)]),this[_0x17fc3c(0x21f)][_0x17fc3c(0x3a3)](this[_0x17fc3c(0x56c)]+'\x20('+this['instance'][_0x17fc3c(0x6ff)]+_0x17fc3c(0x31f));let _0xefc843=await this['NextBlock'](_0x6dfeec);_0xefc843&&await this['processblock'](_0x6dfeec,_0xefc843,_0x6dfeec[_0x17fc3c(0x283)]);}async[a0_0x32ece7(0x2b0)](_0xb9be4f,_0x4c4637,_0x579171){const _0x118c2e=a0_0x32ece7;this[_0x118c2e(0x21f)]['verbose'](this[_0x118c2e(0x56c)]+'\x20('+this[_0x118c2e(0x18d)][_0x118c2e(0x6ff)]+_0x118c2e(0x385));try{if(_0xb9be4f=await D['findOne']({'owner':this['instance'][_0x118c2e(0x6ff)],'name':_0xb9be4f}),!_0xb9be4f)return this['logger'][_0x118c2e(0x24d)](this[_0x118c2e(0x56c)]+'\x20('+this[_0x118c2e(0x18d)][_0x118c2e(0x6ff)]+_0x118c2e(0x711)),null;let _0x2de51f=require(_0x118c2e(0x5c4))[_0x118c2e(0x2d6)],_0x40fca9=Date[_0x118c2e(0x332)](),_0x4b0f5b=_0x118c2e(0x6c6),_0x2fd86d={},_0x31f620={},_0x4561a7={..._0xb9be4f['_doc'],'chatLog':null},_0x58a8e4={'lastReceivedMessage':_0x2fd86d,'lastSendMessage':_0x31f620,'lastBlockId':_0x4b0f5b,'lastCondition':!0x0,'realVariables':_0x579171};_0x4561a7['chatLog']=_0x58a8e4,_0x4561a7['chatLog'][_0x118c2e(0x2c7)]={..._0x579171},delete _0x4561a7[_0x118c2e(0x541)],_0x4561a7[_0x118c2e(0x541)]=new _0x2de51f(),_0x4561a7[_0x118c2e(0x3ff)]=_0x40fca9,_0x4561a7[_0x118c2e(0x4d1)]='open',_0x4561a7[_0x118c2e(0x283)]=_0x4c4637;let _0x31f0a7=await G[_0x118c2e(0x176)](_0x4561a7);return this[_0x118c2e(0x21f)][_0x118c2e(0x3a3)](this[_0x118c2e(0x56c)]+'\x20('+this[_0x118c2e(0x18d)][_0x118c2e(0x6ff)]+_0x118c2e(0x3ce)),_0x31f0a7?_0x4561a7:null;}catch(_0x5da2c7){throw this['logger'][_0x118c2e(0x24d)](this[_0x118c2e(0x56c)]+'\x20('+this[_0x118c2e(0x18d)][_0x118c2e(0x6ff)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+_0x5da2c7),new m(_0x5da2c7['message']);}}async[a0_0x32ece7(0x30b)](_0x1afe54,_0x369328){const _0x49a191=a0_0x32ece7;let _0x3d9395,_0x333cd5;try{let _0x3c5419=_0x369328[_0x49a191(0x674)];if(!_0x3c5419||!_0x3c5419[_0x49a191(0x396)]||!_0x3c5419[_0x49a191(0x582)])throw new Error(_0x49a191(0x57e));let _0x4b647f={'method':_0x3c5419[_0x49a191(0x582)],'url':_0x3c5419[_0x49a191(0x396)],'headers':_0x3c5419['header']||{},'data':_0x3c5419[_0x49a191(0x3e4)]||{}};_0x3d9395=(await(0x0,le[_0x49a191(0x490)])(_0x4b647f))[_0x49a191(0x5f4)];let _0x564d48=_0x1afe54[_0x49a191(0x14e)][_0x49a191(0x2c7)],_0x375148=this[_0x49a191(0x320)](_0x3d9395);return Object[_0x49a191(0x6a6)](_0x564d48,_0x375148),_0x1afe54['chatLog']['realVariables']=_0x564d48,_0x333cd5={'error':!0x1,'apiResponse':_0x3d9395},this['updateConversation'](_0x1afe54,_0x369328,_0x333cd5),_0x3d9395;}catch(_0x2b4bce){console['error'](_0x49a191(0x277),_0x2b4bce),_0x2b4bce['response']&&(_0x3d9395=_0x2b4bce[_0x49a191(0x17f)][_0x49a191(0x5f4)]);let _0x22f3ce=_0x1afe54['chatLog'][_0x49a191(0x2c7)],_0x1f206f=this['flattenObject'](_0x3d9395);return Object[_0x49a191(0x6a6)](_0x22f3ce,_0x1f206f),_0x1afe54['chatLog'][_0x49a191(0x2c7)]=_0x22f3ce,_0x333cd5={'error':!0x0,'errorLog':_0x2b4bce[_0x49a191(0x702)](),'apiResponse':_0x3d9395},this[_0x49a191(0x1e9)](_0x1afe54,_0x369328,_0x333cd5),{'success':!0x1};}}['applyvaredit'](_0x22995c,_0x5d41e9){const _0x414dfa=a0_0x32ece7;let _0x3aaf20=_0x2a1526=>{const _0x2a1353=a0_0x1b9c;let _0x2d06b9=_0x2a1526['replace'](/[^0-9.,-]/g,'')[_0x2a1353(0x466)](',','.'),_0x3f73db=parseFloat(_0x2d06b9);return isNaN(_0x3f73db)?null:_0x3f73db;},_0x33477b=_0x5d41e9[_0x414dfa(0x521)],_0x2b5c6c=_0x5d41e9[_0x414dfa(0x27a)];typeof _0x33477b==_0x414dfa(0x6e9)&&(_0x33477b=this[_0x414dfa(0x5b2)](_0x33477b,_0x22995c[_0x414dfa(0x14e)]['realVariables'])??''),typeof _0x2b5c6c==_0x414dfa(0x6e9)&&(_0x2b5c6c=this[_0x414dfa(0x5b2)](_0x2b5c6c,_0x22995c[_0x414dfa(0x14e)]['realVariables'])??'');let _0x3ed31a=null;if(!_0x33477b||!_0x5d41e9[_0x414dfa(0x422)])return null;switch(this[_0x414dfa(0x21f)][_0x414dfa(0x3a3)](this[_0x414dfa(0x56c)]+'\x20('+this[_0x414dfa(0x18d)]['wuid']+_0x414dfa(0x4ec)+_0x33477b),this[_0x414dfa(0x21f)][_0x414dfa(0x3a3)](this['instanceName']+'\x20('+this[_0x414dfa(0x18d)]['wuid']+_0x414dfa(0x260)+_0x2b5c6c),_0x5d41e9['editOperator']){case'+':case'-':case'*':case'/':let _0x5878c2=_0x3aaf20(_0x33477b),_0x43b2d5=_0x3aaf20(_0x2b5c6c||'0');if(_0x5878c2===null)return null;switch(_0x5d41e9[_0x414dfa(0x422)]){case'+':_0x3ed31a=_0x5878c2+(_0x43b2d5??0x0);break;case'-':_0x3ed31a=_0x5878c2-(_0x43b2d5??0x0);break;case'*':_0x3ed31a=_0x5878c2*(_0x43b2d5??0x1);break;case'/':_0x43b2d5!==0x0&&(_0x3ed31a=_0x5878c2/(_0x43b2d5??0x1));break;}break;case _0x414dfa(0x3f5):case _0x414dfa(0x5d2):let _0x1e6622=_0x2b5c6c,_0x4f8614=_0x5d41e9['replaceValue'];if(typeof _0x4f8614==_0x414dfa(0x6e9)&&(_0x4f8614=this[_0x414dfa(0x5b2)](_0x4f8614,_0x22995c[_0x414dfa(0x14e)][_0x414dfa(0x2c7)])??''),_0x1e6622&&_0x4f8614!==void 0x0){let _0x146378=_0x5d41e9['editOperator']===_0x414dfa(0x3f5)?new RegExp(_0x1e6622[_0x414dfa(0x466)](/[-\/\\^$*+?.()|[\]{}]/g,_0x414dfa(0x4f8)),'g'):new RegExp(_0x1e6622,'g');_0x3ed31a=_0x33477b['replace'](_0x146378,_0x4f8614);}else console[_0x414dfa(0x34d)](_0x414dfa(0x344));break;case _0x414dfa(0x2cc):_0x3ed31a=_0x2b5c6c;break;case _0x414dfa(0x304):let _0x2e9c1d=_0x33477b[_0x414dfa(0x4b4)](new RegExp(_0x2b5c6c||''));_0x3ed31a=_0x2e9c1d?_0x2e9c1d[0x0]:'';break;case _0x414dfa(0x450):_0x3ed31a=_0x33477b[_0x414dfa(0x558)](0x0,parseInt(_0x2b5c6c||'0'));break;case'truncatedtoEnd':let _0x32254c=parseInt(_0x2b5c6c||'0');_0x3ed31a=_0x33477b['slice'](_0x33477b[_0x414dfa(0x239)]-_0x32254c);break;case _0x414dfa(0x45b):let _0x3f05b3=_0x3aaf20(_0x33477b),_0x4fa812=parseInt(_0x2b5c6c||'0');_0x4fa812=Math[_0x414dfa(0x66a)](_0x4fa812),_0x3f05b3!==null?_0x3ed31a=_0x3f05b3[_0x414dfa(0x14c)](_0x414dfa(0x22b),{'minimumFractionDigits':_0x4fa812,'maximumFractionDigits':_0x4fa812}):(console['warn'](_0x414dfa(0x318)+_0x33477b),_0x3ed31a=null);break;case _0x414dfa(0x455):let _0x49360a=_0x3aaf20(_0x33477b);_0x49360a!==null?_0x3ed31a=_0x49360a[_0x414dfa(0x14c)](_0x414dfa(0x22b),{'style':'currency','currency':_0x414dfa(0x34c)}):(console[_0x414dfa(0x34d)](_0x414dfa(0x624)+_0x33477b),_0x3ed31a=null);break;case _0x414dfa(0x40a):_0x3ed31a=_0x33477b['toUpperCase']();break;case _0x414dfa(0x4e9):_0x3ed31a=_0x33477b[_0x414dfa(0x1e5)]();break;case'capitalizedWords':_0x3ed31a=_0x33477b[_0x414dfa(0x294)]('\x20')[_0x414dfa(0x4c2)](_0x2b5643=>_0x2b5643[_0x414dfa(0x4a7)](0x0)[_0x414dfa(0x66d)]()+_0x2b5643[_0x414dfa(0x558)](0x1)[_0x414dfa(0x1e5)]())['join']('\x20');break;case _0x414dfa(0x368):_0x3ed31a=_0x33477b[_0x414dfa(0x3ba)]();break;default:_0x3ed31a=_0x33477b;}return _0x3ed31a!==null?_0x3ed31a[_0x414dfa(0x702)]():null;}async['processvaredits'](_0x1e1ab8,_0xe62966){const _0x3c676a=a0_0x32ece7;try{let _0x271c42=_0x1e1ab8['varedits']?.[_0x3c676a(0x448)](_0x5abf4a=>_0x5abf4a[_0x3c676a(0x2d1)]===_0xe62966[_0x3c676a(0x541)]?.[_0x3c676a(0x702)]())||[],_0x444cf4=_0xe62966[_0x3c676a(0x3da)],_0x4cbbe5=null,_0x355a30=[],_0x3ce92a=_0x1e1ab8[_0x3c676a(0x14e)]['realVariables'][_0x444cf4];_0x355a30[_0x3c676a(0x4dc)](_0x3c676a(0x329)+_0x3ce92a+'\x22');for(let _0x40be0f of _0x271c42){_0x40be0f[_0x3c676a(0x521)]=_0x3ce92a,_0x4cbbe5=_0x40be0f['firstValue'];let _0x371488;try{_0x371488=this[_0x3c676a(0x6a4)](_0x1e1ab8,_0x40be0f);}catch(_0xff0b14){console[_0x3c676a(0x24d)](_0x3c676a(0x22a)+_0xff0b14['message']);continue;}if(_0x371488!==null){let _0x3bfcf4=_0x3c676a(0x3d9)+_0x40be0f['editOperator']+'\x22',_0x53bbe1=[_0x3c676a(0x455),_0x3c676a(0x40a),'lowerCase',_0x3c676a(0x537),_0x3c676a(0x368)];_0x40be0f[_0x3c676a(0x422)]==='findAndReplace'||_0x40be0f['editOperator']==='findAndReplaceRegex'?_0x3bfcf4+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x40be0f[_0x3c676a(0x27a)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x40be0f[_0x3c676a(0x619)]+'\x22':!_0x53bbe1['includes'](_0x40be0f['editOperator'])&&_0x40be0f[_0x3c676a(0x27a)]!==null&&_0x40be0f['secondValue']!==void 0x0&&(_0x3bfcf4+=_0x3c676a(0x253)+_0x40be0f[_0x3c676a(0x27a)]+'\x22'),_0x3bfcf4+=_0x3c676a(0x565)+_0x371488+'.',_0x355a30[_0x3c676a(0x4dc)](_0x3bfcf4);}_0x371488!==null&&(_0x3ce92a=_0x371488);}if(_0x1e1ab8[_0x3c676a(0x14e)][_0x3c676a(0x2c7)]&&_0xe62966['saveVariable']){_0x1e1ab8[_0x3c676a(0x14e)][_0x3c676a(0x2c7)][_0xe62966[_0x3c676a(0x3da)]]=_0x3ce92a;let _0x22724c={'variable':_0xe62966[_0x3c676a(0x3da)],'oldValue':_0x4cbbe5,'newValue':_0x3ce92a,'moreLogs':_0x355a30};try{this['updateConversation'](_0x1e1ab8,_0xe62966,_0x22724c);}catch(_0x20e64c){console[_0x3c676a(0x24d)](_0x3c676a(0x428)+_0x20e64c['message']);}}return _0x444cf4;}catch(_0x462e2a){return console[_0x3c676a(0x24d)]('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x462e2a[_0x3c676a(0x430)]),null;}}async[a0_0x32ece7(0x414)](_0x5a4f68,_0x4e7fcb){const _0x621926=a0_0x32ece7;try{let _0x9ec150=[],_0x5703a7=_0x5a4f68[_0x621926(0x17c)][_0x621926(0x448)](_0x502a78=>_0x502a78[_0x621926(0x2d1)]===_0x4e7fcb[_0x621926(0x541)][_0x621926(0x702)]()),_0x300e2c=!0x0,_0x26a3b5=null;for(let _0x391a72 of _0x5703a7){let _0x5cc6be=this['evaluateCondition'](_0x5a4f68,_0x391a72);if(_0x9ec150[_0x621926(0x4dc)](_0x621926(0x636)+_0x391a72['firstValue']+_0x621926(0x29f)+_0x391a72['expression']+',\x20Segundo\x20Valor:\x20'+_0x391a72[_0x621926(0x27a)]+',\x20Resultado:\x20'+_0x5cc6be),_0x26a3b5===null)_0x300e2c=_0x5cc6be;else{if(_0x26a3b5==='or'&&_0x5cc6be){_0x300e2c=!0x0;break;}else{if(_0x26a3b5===_0x621926(0x22c)&&!_0x5cc6be){_0x300e2c=!0x1;break;}}}_0x26a3b5=_0x391a72[_0x621926(0x177)];}let _0xabe058={'moreLogs':_0x9ec150};_0x300e2c?(_0x5a4f68[_0x621926(0x14e)][_0x621926(0x4db)]=!0x0,this[_0x621926(0x1e9)](_0x5a4f68,_0x4e7fcb,_0xabe058)):(_0x5a4f68[_0x621926(0x14e)][_0x621926(0x4db)]=!0x1,_0xabe058[_0x621926(0x21d)]=_0x9ec150,this['updateConversation'](_0x5a4f68,_0x4e7fcb,_0xabe058));}catch(_0x1a6d95){this[_0x621926(0x21f)][_0x621926(0x24d)](this[_0x621926(0x56c)]+'\x20('+this[_0x621926(0x18d)][_0x621926(0x6ff)]+'):\x20Error\x20processing\x20conditions:\x20'+_0x1a6d95);}}[a0_0x32ece7(0x15b)](_0x3a90bd,_0x24e386){const _0xf37468=a0_0x32ece7;let _0x16e981=_0x24e386['firstValue'],_0x23729b=_0x24e386[_0xf37468(0x27a)];typeof _0x16e981==_0xf37468(0x6e9)&&(_0x16e981=this[_0xf37468(0x5b2)](_0x16e981,_0x3a90bd[_0xf37468(0x14e)][_0xf37468(0x2c7)])??''),typeof _0x23729b==_0xf37468(0x6e9)&&(_0x23729b=this['replaceVariables'](_0x23729b,_0x3a90bd[_0xf37468(0x14e)][_0xf37468(0x2c7)])??'');try{switch(_0x24e386[_0xf37468(0x51f)]){case _0xf37468(0x421):return _0x16e981===_0x23729b;case _0xf37468(0x44a):return _0x16e981!==_0x23729b;case _0xf37468(0x39a):return _0x16e981[_0xf37468(0x330)](_0x23729b);case'notContains':return!_0x16e981[_0xf37468(0x330)](_0x23729b);case _0xf37468(0x26f):return parseFloat(_0x16e981)>parseFloat(_0x23729b);case _0xf37468(0x210):return parseFloat(_0x16e981)<parseFloat(_0x23729b);case _0xf37468(0x57c):return _0x16e981!=='';case'empty':return _0x16e981==='';case _0xf37468(0x19d):return new RegExp(_0x23729b)[_0xf37468(0x54c)](_0x16e981);case _0xf37468(0x236):return!new RegExp(_0x23729b)['test'](_0x16e981);default:return!0x1;}}catch(_0x327360){return console[_0xf37468(0x24d)](_0xf37468(0x518)+_0x327360),!0x1;}}['processConditionsTest'](_0x51586f){const _0x52d7e1=a0_0x32ece7;let _0x3359da=!0x0,_0x3abe77=null;for(let _0x351a4f of _0x51586f){let _0x370eda=this['evaluateConditionTest'](_0x351a4f);if(_0x3abe77==='or'&&_0x370eda){_0x3359da=!0x0;break;}if(_0x3abe77===_0x52d7e1(0x22c)&&!_0x370eda){_0x3359da=!0x1;break;}_0x3abe77=_0x351a4f[_0x52d7e1(0x177)];}return _0x3359da;}[a0_0x32ece7(0x400)](_0x5a4c84){const _0x1859f1=a0_0x32ece7;let _0x2e7244=_0x5a4c84[_0x1859f1(0x521)],_0x34a299=_0x5a4c84['secondValue'];try{switch(_0x5a4c84[_0x1859f1(0x51f)]){case _0x1859f1(0x421):return String(_0x2e7244)===String(_0x34a299);case _0x1859f1(0x44a):return String(_0x2e7244)!==String(_0x34a299);case _0x1859f1(0x39a):return String(_0x2e7244)[_0x1859f1(0x330)](String(_0x34a299));case _0x1859f1(0x666):return!String(_0x2e7244)[_0x1859f1(0x330)](String(_0x34a299));case _0x1859f1(0x26f):return parseFloat(String(_0x2e7244))>parseFloat(String(_0x34a299));case _0x1859f1(0x210):return parseFloat(String(_0x2e7244))<parseFloat(String(_0x34a299));case _0x1859f1(0x57c):return String(_0x2e7244)!=='';case _0x1859f1(0x402):return String(_0x2e7244)==='';case _0x1859f1(0x19d):return new RegExp(String(_0x34a299))[_0x1859f1(0x54c)](String(_0x2e7244));case _0x1859f1(0x236):return!new RegExp(String(_0x34a299))[_0x1859f1(0x54c)](String(_0x2e7244));default:return!0x1;}}catch(_0x489297){return console['error'](_0x1859f1(0x518)+_0x489297),!0x1;}}async['saveTextReply'](_0x22ce59,_0x527ef8){const _0x31cbc6=a0_0x32ece7;if(this['logger'][_0x31cbc6(0x3a3)](this[_0x31cbc6(0x56c)]+'\x20('+this[_0x31cbc6(0x18d)][_0x31cbc6(0x6ff)]+_0x31cbc6(0x1eb)),!_0x22ce59||!_0x527ef8)return this['logger']['error'](this[_0x31cbc6(0x56c)]+'\x20('+this[_0x31cbc6(0x18d)][_0x31cbc6(0x6ff)]+_0x31cbc6(0x709)),null;let _0x740e76=_0x527ef8[_0x31cbc6(0x3da)],_0x3ecfa4=_0x22ce59[_0x31cbc6(0x14e)][_0x31cbc6(0x486)][_0x31cbc6(0x70c)]||_0x22ce59[_0x31cbc6(0x14e)][_0x31cbc6(0x486)][_0x31cbc6(0x1af)]||_0x22ce59['chatLog'][_0x31cbc6(0x486)][_0x31cbc6(0x3eb)];try{_0x22ce59[_0x31cbc6(0x14e)][_0x31cbc6(0x2c7)]||(_0x22ce59[_0x31cbc6(0x14e)][_0x31cbc6(0x2c7)]={});let _0xf3f052=_0x22ce59['chatLog']['realVariables'][_0x740e76];_0x22ce59['chatLog'][_0x31cbc6(0x2c7)][_0x740e76]=_0x3ecfa4;let _0x58480c={'variable':_0x740e76,'oldValue':_0xf3f052,'newValue':_0x3ecfa4};this[_0x31cbc6(0x1e9)](_0x22ce59,_0x527ef8,_0x58480c),this['logger'][_0x31cbc6(0x3a3)](this[_0x31cbc6(0x56c)]+'\x20('+this[_0x31cbc6(0x18d)]['wuid']+_0x31cbc6(0x573));}catch(_0x54943d){let _0x5c734c={'error':!0x0,'errorLog':_0x54943d['toString']()};return this[_0x31cbc6(0x1e9)](_0x22ce59,_0x527ef8,_0x5c734c),this[_0x31cbc6(0x21f)]['error'](this['instanceName']+'\x20('+this[_0x31cbc6(0x18d)][_0x31cbc6(0x6ff)]+_0x31cbc6(0x1c2)+_0x54943d[_0x31cbc6(0x430)]),null;}}async[a0_0x32ece7(0x415)](_0x2c579c,_0x2cf1a7){const _0x1935f1=a0_0x32ece7;if(this[_0x1935f1(0x21f)]['verbose'](this[_0x1935f1(0x56c)]+'\x20('+this[_0x1935f1(0x18d)][_0x1935f1(0x6ff)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0x2c579c||!_0x2cf1a7)return this['logger'][_0x1935f1(0x24d)](this[_0x1935f1(0x56c)]+'\x20('+this['instance'][_0x1935f1(0x6ff)]+_0x1935f1(0x709)),null;let _0x21bcf9=Date['now'](),_0x24e298=parseInt(_0x2cf1a7['stopMinutes'],0xa);if(isNaN(_0x24e298))return this['logger'][_0x1935f1(0x24d)](this[_0x1935f1(0x56c)]+'\x20('+this[_0x1935f1(0x18d)][_0x1935f1(0x6ff)]+_0x1935f1(0x192)),null;let _0x1275fa={'newStoppedUntil':_0x21bcf9+_0x24e298*0x3c*0x3e8};return await this['updateConversation'](_0x2c579c,_0x2cf1a7,_0x1275fa,!0x0),null;}async[a0_0x32ece7(0x55d)](_0x5de432,_0x514b97,_0x1f3c93){const _0x39aafb=a0_0x32ece7;try{switch(_0x514b97['uazapi']['command']){case _0x39aafb(0x1b4):await this[_0x39aafb(0x4a5)](_0x5de432,_0x514b97,_0x1f3c93);break;case _0x39aafb(0x40d):await this[_0x39aafb(0x693)](_0x5de432,_0x514b97,_0x1f3c93);break;case _0x39aafb(0x229):await this[_0x39aafb(0x3af)](_0x5de432,_0x514b97,_0x1f3c93);break;case'sendAudio':await this['uazapiSendAudio'](_0x5de432,_0x514b97,_0x1f3c93);break;case _0x39aafb(0x398):await this[_0x39aafb(0x181)](_0x5de432,_0x514b97,_0x1f3c93);break;case _0x39aafb(0x467):await this['uazapiSendPoll'](_0x5de432,_0x514b97,_0x1f3c93);break;case _0x39aafb(0x3d4):await this[_0x39aafb(0x559)](_0x5de432,_0x514b97,_0x1f3c93);break;default:this[_0x39aafb(0x21f)][_0x39aafb(0x24d)](this[_0x39aafb(0x56c)]+'\x20('+this['instance'][_0x39aafb(0x6ff)]+_0x39aafb(0x547)+_0x514b97['uazapi'][_0x39aafb(0x159)]);}}catch(_0xf6c639){this[_0x39aafb(0x21f)][_0x39aafb(0x24d)](this[_0x39aafb(0x56c)]+'\x20('+this[_0x39aafb(0x18d)]['wuid']+_0x39aafb(0x5cb)+_0xf6c639);}}async[a0_0x32ece7(0x1e9)](_0x5d125e,_0x29338f,_0xd2dd4a,_0x30e1b0=!0x1,_0x176d4f=!0x1){const _0x112485=a0_0x32ece7;_0x5d125e['chatLog'][_0x112485(0x2e2)]||(_0x5d125e[_0x112485(0x14e)][_0x112485(0x2e2)]=[]);let _0x143628=(_0x5d125e[_0x112485(0x14e)][_0x112485(0x2e2)]?.['length']??0x0)+0x1,_0x9ac226=_0x5d125e[_0x112485(0x14e)]['blockLogs'][_0x112485(0x448)](_0x142ebe=>String(_0x142ebe[_0x112485(0x2d1)])===String(_0x29338f[_0x112485(0x541)]))[_0x112485(0x239)]+0x1,_0x22b630=_0xd2dd4a?.[_0x112485(0x3e2)]??Date['now'](),_0x472b9b=_0xd2dd4a?.[_0x112485(0x24d)]?_0xd2dd4a['errorLog']??_0xd2dd4a[_0x112485(0x24d)]['toString']():void 0x0,_0x4b0a38={'onTime':_0x22b630,'blockId':_0x29338f['_id'],'order':_0x143628,'activatedCount':_0x9ac226,'error':_0xd2dd4a?.['error']??!0x1,'messageId':_0xd2dd4a?.['messageId'],'apiResponse':_0xd2dd4a?.[_0x112485(0x262)],'apiResponseString':_0xd2dd4a?.[_0x112485(0x262)]?JSON[_0x112485(0x61e)](_0xd2dd4a?.['apiResponse']):void 0x0,'variable':_0xd2dd4a?.[_0x112485(0x3a4)],'oldValue':_0xd2dd4a?.[_0x112485(0x529)],'newValue':_0xd2dd4a?.['newValue'],'newStoppedUntil':_0xd2dd4a?.[_0x112485(0x24a)],'moreLogs':_0xd2dd4a?.[_0x112485(0x21d)],'errorLog':_0x472b9b};if(_0xd2dd4a[_0x112485(0x21d)]&&_0xd2dd4a[_0x112485(0x21d)][_0x112485(0x239)]>0x0){let _0x2f06ed=_0xd2dd4a[_0x112485(0x21d)]['map'](_0x122af1=>this[_0x112485(0x1ec)](_0x122af1,_0x5d125e[_0x112485(0x14e)][_0x112485(0x2c7)]));_0x4b0a38[_0x112485(0x21d)]=_0x2f06ed;}_0x5d125e[_0x112485(0x14e)][_0x112485(0x2c7)]||(_0x5d125e['chatLog']['realVariables']={}),_0x5d125e[_0x112485(0x14e)][_0x112485(0x2c7)]['_activatedCount']=String(_0x9ac226),_0x5d125e[_0x112485(0x14e)][_0x112485(0x2c7)]['_error']=String(_0xd2dd4a[_0x112485(0x24d)]??!0x1),_0x5d125e['chatLog'][_0x112485(0x2e2)][_0x112485(0x4dc)](_0x4b0a38),_0x5d125e[_0x112485(0x14e)]['lastBlockId']=_0x29338f[_0x112485(0x541)][_0x112485(0x702)](),_0x5d125e['chatLog'][_0x112485(0x671)]&&(_0x5d125e[_0x112485(0x14e)]['lastSendMessage']=_0x5d125e[_0x112485(0x14e)][_0x112485(0x671)]),_0x5d125e[_0x112485(0x14e)][_0x112485(0x486)]&&(_0x5d125e[_0x112485(0x14e)]['lastReceivedMessage']=_0x5d125e[_0x112485(0x14e)][_0x112485(0x486)]),_0x5d125e[_0x112485(0x14e)][_0x112485(0x4db)]&&(_0x5d125e['chatLog'][_0x112485(0x4db)]=_0x5d125e[_0x112485(0x14e)][_0x112485(0x4db)]),_0x176d4f&&(_0x5d125e['status']='closed'),_0x30e1b0?this['saveConversationToDatabase'](_0x5d125e):this[_0x112485(0x21c)](_0x5d125e,_0x29338f);}[a0_0x32ece7(0x1ec)](_0x3f1e39,_0x50cae3){const _0x4bc962=a0_0x32ece7;return _0x3f1e39['replace'](/\{\{([^}]+)\}\}/g,(_0x11ee50,_0xf9f1)=>_0x50cae3[_0xf9f1]?'{{'+_0xf9f1+_0x4bc962(0x279)+_0x50cae3[_0xf9f1]+'\x22':'{{'+_0xf9f1+_0x4bc962(0x2af));}async['saveConversationToDatabase'](_0x3ef2df){const _0x29890d=a0_0x32ece7;try{let _0x256ce9=Object[_0x29890d(0x468)](_0x3ef2df[_0x29890d(0x14e)][_0x29890d(0x2c7)])['map'](([_0x5c2a07,_0x25854d])=>({'name':_0x5c2a07,'value':_0x25854d})),_0x15ee54=await G[_0x29890d(0x660)]({'_id':_0x3ef2df[_0x29890d(0x541)]},{'$set':{'chatLog.lastBlockId':_0x3ef2df[_0x29890d(0x14e)][_0x29890d(0x4e1)],'blocks':_0x3ef2df['blocks'],'chatLog.lastSendMessage':_0x3ef2df['chatLog'][_0x29890d(0x671)],'chatLog.lastReceivedMessage':_0x3ef2df[_0x29890d(0x14e)]['lastReceivedMessage'],'chatLog.chatVariables':_0x256ce9,'chatLog.realVariables':_0x3ef2df[_0x29890d(0x14e)][_0x29890d(0x2c7)],'status':_0x3ef2df[_0x29890d(0x4d1)],'chatLog.blockLogs':_0x3ef2df[_0x29890d(0x14e)][_0x29890d(0x2e2)],'waitingPoll_id':_0x3ef2df[_0x29890d(0x298)],'waitingPoll_name':_0x3ef2df['waitingPoll_name'],'waitingPoll_replyOptions':_0x3ef2df[_0x29890d(0x1c9)]}},{'new':!0x0});if(_0x15ee54){this[_0x29890d(0x21f)][_0x29890d(0x3a3)](this[_0x29890d(0x56c)]+'\x20('+this[_0x29890d(0x18d)][_0x29890d(0x6ff)]+_0x29890d(0x464)+_0x15ee54[_0x29890d(0x541)]);try{let _0x356bf8=[_0x29890d(0x1bb),_0x29890d(0x319),_0x29890d(0x686),'cpf','status','notas','responsavelid',_0x29890d(0x3e9)];if(!this['AutomateSystem']&&(await this['getAutomateSystem'](),!this[_0x29890d(0x189)]))throw new Error(_0x29890d(0x4df));let _0x4c3a99=this[_0x29890d(0x189)][_0x29890d(0x6f7)][_0x29890d(0x4c2)](_0x1bdb9e=>_0x1bdb9e['name']),_0x57503f={};Object[_0x29890d(0x468)](_0x3ef2df[_0x29890d(0x14e)][_0x29890d(0x2c7)])[_0x29890d(0x15f)](([_0x30641a,_0x53a588])=>{const _0xf1d5f9=_0x29890d;_0x356bf8[_0xf1d5f9(0x330)](_0x30641a)&&(_0x30641a===_0xf1d5f9(0x3e9)&&typeof _0x53a588=='string'?_0x57503f[_0x30641a]=_0x53a588[_0xf1d5f9(0x294)](',')[_0xf1d5f9(0x4c2)](_0x3a0f3d=>_0x3a0f3d[_0xf1d5f9(0x3ba)]())['filter'](_0x429b21=>_0x429b21!==''):_0x57503f[_0x30641a]=_0x53a588);});let _0x3ae316=_0x3ef2df[_0x29890d(0x14e)]['blockLogs'][_0x3ef2df[_0x29890d(0x14e)][_0x29890d(0x2e2)]['length']-0x1];if(_0x3ae316){let _0x50eb3c=_0x3ae316[_0x29890d(0x24a)];_0x50eb3c!==void 0x0&&(_0x57503f[_0x29890d(0x6aa)]=_0x50eb3c[_0x29890d(0x702)]());}let _0x2c11ae=_0x256ce9[_0x29890d(0x448)](_0x5c06f0=>_0x4c3a99[_0x29890d(0x330)](_0x5c06f0[_0x29890d(0x1e8)]));this[_0x29890d(0x21f)][_0x29890d(0x3a3)](this['instanceName']+'\x20('+this[_0x29890d(0x18d)][_0x29890d(0x6ff)]+_0x29890d(0x150)),this[_0x29890d(0x21f)][_0x29890d(0x3a3)](_0x57503f),this[_0x29890d(0x21f)][_0x29890d(0x3a3)](this[_0x29890d(0x56c)]+'\x20('+this['instance']['wuid']+'):\x20customFieldVariables'),this[_0x29890d(0x21f)][_0x29890d(0x3a3)](_0x2c11ae);let _0xb6a8c=_0x2c11ae['map'](_0x374a5c=>{const _0x308864=_0x29890d;let _0x464837=this['AutomateSystem'][_0x308864(0x6f7)][_0x308864(0x1dd)](_0x2a1a32=>_0x2a1a32['name']===_0x374a5c[_0x308864(0x1e8)]);if(!_0x464837)throw new Error(_0x308864(0x2c8)+_0x374a5c[_0x308864(0x1e8)]);return{'_id':_0x464837[_0x308864(0x541)],'value':_0x374a5c['value']};});this['logger']['verbose'](this[_0x29890d(0x56c)]+'\x20('+this['instance'][_0x29890d(0x6ff)]+'):\x20transformedCustomFieldVariables'),this[_0x29890d(0x21f)]['verbose'](_0xb6a8c),await this[_0x29890d(0x20e)](_0x3ef2df['remoteJid'],_0x57503f,_0xb6a8c);}catch(_0x452509){this['logger'][_0x29890d(0x24d)](this[_0x29890d(0x56c)]+'\x20('+this[_0x29890d(0x18d)][_0x29890d(0x6ff)]+_0x29890d(0x4bc)+JSON[_0x29890d(0x61e)](_0x452509));}}else this[_0x29890d(0x21f)]['error'](this[_0x29890d(0x56c)]+'\x20('+this[_0x29890d(0x18d)][_0x29890d(0x6ff)]+_0x29890d(0x25e));}catch(_0x21019a){this[_0x29890d(0x21f)][_0x29890d(0x24d)](this[_0x29890d(0x56c)]+'\x20('+this[_0x29890d(0x18d)][_0x29890d(0x6ff)]+_0x29890d(0x2d3)+JSON[_0x29890d(0x61e)](_0x21019a));}}async[a0_0x32ece7(0x20e)](_0x47f257,_0x1c3e70,_0x37ac44){const _0x9d4f6f=a0_0x32ece7;try{let _0x323a8e={'leadInfo.leadnome':_0x1c3e70[_0x9d4f6f(0x1bb)],'leadInfo.nomecompleto':_0x1c3e70[_0x9d4f6f(0x319)],'leadInfo.email':_0x1c3e70['email'],'leadInfo.cpf':_0x1c3e70[_0x9d4f6f(0x511)],'leadInfo.status':_0x1c3e70[_0x9d4f6f(0x4d1)],'leadInfo.notas':_0x1c3e70['notas'],'leadInfo.responsavelid':_0x1c3e70[_0x9d4f6f(0x295)],'leadInfo.tags':_0x1c3e70[_0x9d4f6f(0x3e9)],'leadInfo.customFields':_0x37ac44};if(_0x9d4f6f(0x6aa)in _0x1c3e70){let _0x57b94d=_0x1c3e70[_0x9d4f6f(0x6aa)];_0x323a8e['leadInfo.desativadoFluxoAte']=_0x57b94d?Number(_0x57b94d):null;}let _0x8bbf9d=await I[_0x9d4f6f(0x660)]({'id':_0x47f257,'owner':this['instance']['wuid']},{'$set':_0x323a8e},{'new':!0x0,'upsert':!0x0});_0x8bbf9d?(this['logger'][_0x9d4f6f(0x3a3)](this[_0x9d4f6f(0x56c)]+'\x20('+this[_0x9d4f6f(0x18d)][_0x9d4f6f(0x6ff)]+_0x9d4f6f(0x348)+_0x8bbf9d[_0x9d4f6f(0x541)]),H(this[_0x9d4f6f(0x56c)],'chats',{'chat':_0x8bbf9d})):this['logger']['error'](this[_0x9d4f6f(0x56c)]+'\x20('+this[_0x9d4f6f(0x18d)][_0x9d4f6f(0x6ff)]+'):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD');}catch(_0x22205a){this[_0x9d4f6f(0x21f)][_0x9d4f6f(0x24d)](this[_0x9d4f6f(0x56c)]+'\x20('+this[_0x9d4f6f(0x18d)]['wuid']+_0x9d4f6f(0x620)+_0x22205a);}}async['updateStopChat'](_0x3947c2,_0x3d4d32){const _0x7fffc9=a0_0x32ece7;this[_0x7fffc9(0x21f)][_0x7fffc9(0x3a3)](this[_0x7fffc9(0x56c)]+'\x20('+this[_0x7fffc9(0x18d)][_0x7fffc9(0x6ff)]+_0x7fffc9(0x382)+_0x3d4d32);try{let _0x2346b0=await I[_0x7fffc9(0x660)]({'id':_0x3947c2[_0x7fffc9(0x283)],'owner':_0x3947c2[_0x7fffc9(0x1bf)]},{'$set':{'leadInfo.desativadoFluxoAte':_0x3d4d32}},{'new':!0x0});this[_0x7fffc9(0x21f)][_0x7fffc9(0x3a3)](this[_0x7fffc9(0x56c)]+'\x20('+this[_0x7fffc9(0x18d)][_0x7fffc9(0x6ff)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0x3947c2[_0x7fffc9(0x541)]),this[_0x7fffc9(0x21f)]['verbose'](this[_0x7fffc9(0x56c)]+'\x20('+this['instance'][_0x7fffc9(0x6ff)]+'):\x20atualização\x20chat:\x20'+JSON[_0x7fffc9(0x61e)](_0x2346b0,null,0x2)),_0x2346b0&&H(this[_0x7fffc9(0x56c)],_0x7fffc9(0x6c9),{'chat':_0x2346b0});}catch(_0x352fb4){this['logger'][_0x7fffc9(0x24d)](this[_0x7fffc9(0x56c)]+'\x20('+this[_0x7fffc9(0x18d)]['wuid']+_0x7fffc9(0x1be)+JSON[_0x7fffc9(0x61e)](_0x352fb4));}}async['findFlow'](_0x56425b,_0x14ab4e){const _0x43af7c=a0_0x32ece7;try{this[_0x43af7c(0x21f)][_0x43af7c(0x3a3)](this[_0x43af7c(0x56c)]+'\x20('+this[_0x43af7c(0x18d)][_0x43af7c(0x6ff)]+'):\x20Buscando\x20flow...');let _0x438d7c=_0x14ab4e[_0x43af7c(0x466)](/\D/g,''),_0x4ca360=await D['findOne']({'owner':_0x56425b,'testingWith':_0x438d7c});return _0x4ca360||(this[_0x43af7c(0x21f)][_0x43af7c(0x3a3)](this[_0x43af7c(0x56c)]+'\x20('+this[_0x43af7c(0x18d)][_0x43af7c(0x6ff)]+_0x43af7c(0x265)),_0x4ca360=await D[_0x43af7c(0x420)]({'owner':_0x56425b,'default':!0x0})),_0x4ca360||(this[_0x43af7c(0x21f)][_0x43af7c(0x3a3)](this['instanceName']+'\x20('+this[_0x43af7c(0x18d)][_0x43af7c(0x6ff)]+_0x43af7c(0x356)),null);}catch(_0x5ea534){return this['logger'][_0x43af7c(0x24d)](this['instanceName']+'\x20('+this[_0x43af7c(0x18d)][_0x43af7c(0x6ff)]+_0x43af7c(0x2b3)+_0x5ea534),null;}}async[a0_0x32ece7(0x3c4)](_0x5b545f,_0x13f1c8,_0x1c615c){const _0x2d2a72=a0_0x32ece7;try{let _0x318ce8=!!_0x1c615c[_0x2d2a72(0x3eb)],_0x45774c=_0x1c615c[_0x2d2a72(0x62c)],_0x5ecfc1=null;if(this[_0x2d2a72(0x21f)][_0x2d2a72(0x3a3)](this[_0x2d2a72(0x56c)]+'\x20('+this[_0x2d2a72(0x18d)][_0x2d2a72(0x6ff)]+_0x2d2a72(0x441)+_0x318ce8+_0x2d2a72(0x62c)+_0x45774c),_0x318ce8)return this[_0x2d2a72(0x21f)][_0x2d2a72(0x3a3)](this[_0x2d2a72(0x56c)]+'\x20('+this[_0x2d2a72(0x18d)][_0x2d2a72(0x6ff)]+_0x2d2a72(0x478)),_0x5ecfc1=await G['findOne']({'owner':_0x5b545f,'remoteJid':_0x13f1c8,'waitingPoll_id':_0x45774c}),_0x5ecfc1?(_0x5ecfc1[_0x2d2a72(0x3ff)]=Date['now'](),_0x5ecfc1[_0x2d2a72(0x14e)]['lastReceivedMessage']=_0x1c615c,_0x5ecfc1):(this[_0x2d2a72(0x21f)][_0x2d2a72(0x3a3)](this[_0x2d2a72(0x56c)]+'\x20('+this[_0x2d2a72(0x18d)][_0x2d2a72(0x6ff)]+_0x2d2a72(0x4ca)),null);{if(this['logger'][_0x2d2a72(0x3a3)](this[_0x2d2a72(0x56c)]+'\x20('+this[_0x2d2a72(0x18d)][_0x2d2a72(0x6ff)]+_0x2d2a72(0x4ac)+this[_0x2d2a72(0x18d)][_0x2d2a72(0x6ff)]+_0x2d2a72(0x5a5)),this[_0x2d2a72(0x21f)][_0x2d2a72(0x3a3)](this[_0x2d2a72(0x56c)]+'\x20('+this[_0x2d2a72(0x18d)]['wuid']+'):\x20Procurando\x20conversa'),_0x5ecfc1=await G[_0x2d2a72(0x420)]({'owner':_0x5b545f,'remoteJid':_0x13f1c8,'status':_0x2d2a72(0x314)}),!_0x5ecfc1){let _0x3677d4=await this[_0x2d2a72(0x254)](_0x5b545f,_0x13f1c8);if(_0x3677d4&&(_0x5ecfc1=await this[_0x2d2a72(0x3ab)](_0x3677d4,_0x1c615c[_0x2d2a72(0x557)],_0x1c615c)),!_0x5ecfc1)return null;}let _0x309a76=Date[_0x2d2a72(0x332)](),_0x1ab486=_0x5ecfc1?.[_0x2d2a72(0x292)]||0x0,_0x357b05=_0x309a76-_0x1ab486*0x3c*0x3e8;if(this[_0x2d2a72(0x21f)][_0x2d2a72(0x3a3)](this[_0x2d2a72(0x56c)]+'\x20('+this['instance'][_0x2d2a72(0x6ff)]+_0x2d2a72(0x512)+_0x309a76+_0x2d2a72(0x540)+_0x1ab486+_0x2d2a72(0x5c5)+_0x357b05),this[_0x2d2a72(0x21f)]['verbose'](this['instanceName']+'\x20('+this[_0x2d2a72(0x18d)][_0x2d2a72(0x6ff)]+_0x2d2a72(0x50b)),this[_0x2d2a72(0x21f)][_0x2d2a72(0x3a3)](this[_0x2d2a72(0x56c)]+'\x20('+this[_0x2d2a72(0x18d)]['wuid']+_0x2d2a72(0x6dc)+_0x5ecfc1['lastInteraction']),this[_0x2d2a72(0x21f)][_0x2d2a72(0x3a3)](this[_0x2d2a72(0x56c)]+'\x20('+this[_0x2d2a72(0x18d)][_0x2d2a72(0x6ff)]+_0x2d2a72(0x413)+_0x357b05),_0x5ecfc1['lastInteraction']<_0x357b05){this[_0x2d2a72(0x21f)]['verbose'](this[_0x2d2a72(0x56c)]+'\x20('+this[_0x2d2a72(0x18d)][_0x2d2a72(0x6ff)]+_0x2d2a72(0x20d));let _0x509f82=await this[_0x2d2a72(0x254)](_0x5b545f,_0x13f1c8);if(_0x509f82===null)return null;_0x5ecfc1&&await G[_0x2d2a72(0x186)]({'_id':_0x5ecfc1[_0x2d2a72(0x541)]},{'status':_0x2d2a72(0x5ec)}),_0x5ecfc1=await this[_0x2d2a72(0x3ab)](_0x509f82,_0x1c615c[_0x2d2a72(0x557)],_0x1c615c);}return _0x5ecfc1[_0x2d2a72(0x3ff)]=_0x309a76,_0x5ecfc1[_0x2d2a72(0x14e)][_0x2d2a72(0x486)]=_0x1c615c,_0x5ecfc1;}}catch(_0x4b1c0a){return this[_0x2d2a72(0x21f)][_0x2d2a72(0x24d)](this[_0x2d2a72(0x56c)]+'\x20('+this['instance'][_0x2d2a72(0x6ff)]+_0x2d2a72(0x5ea)+_0x4b1c0a),null;}}async[a0_0x32ece7(0x3ab)](_0x52c8b5,_0x2fb050,_0x9634df){const _0x519c4d=a0_0x32ece7;this[_0x519c4d(0x21f)][_0x519c4d(0x3a3)](this[_0x519c4d(0x56c)]+'\x20('+this[_0x519c4d(0x18d)][_0x519c4d(0x6ff)]+_0x519c4d(0x385));try{let _0x54fe35=require(_0x519c4d(0x5c4))['ObjectId'],_0x183fb1=Date[_0x519c4d(0x332)](),_0x1b8e4a=_0x519c4d(0x6c6),_0x10772c=_0x2fb050['fromMe']?null:_0x9634df,_0x38a792=_0x2fb050['fromMe']?_0x9634df:null,_0x50420a=_0x2fb050['remoteJid'],_0xcc7bc4={..._0x52c8b5[_0x519c4d(0x54a)],'chatLog':null},_0x4864ce=await this[_0x519c4d(0x649)](_0xcc7bc4[_0x519c4d(0x5f5)]),_0x4cdf32=await this[_0x519c4d(0x6f0)](_0x50420a),_0x2a14c5={..._0x4864ce,..._0x4cdf32},_0x322dac={'lastReceivedMessage':_0x10772c,'lastSendMessage':_0x38a792,'lastBlockId':_0x1b8e4a,'lastCondition':!0x0,'realVariables':_0x2a14c5};_0xcc7bc4[_0x519c4d(0x14e)]=_0x322dac,delete _0xcc7bc4[_0x519c4d(0x541)],_0xcc7bc4[_0x519c4d(0x541)]=new _0x54fe35(),_0xcc7bc4['lastInteraction']=_0x183fb1,_0xcc7bc4[_0x519c4d(0x4d1)]=_0x519c4d(0x314),_0xcc7bc4[_0x519c4d(0x283)]=_0x50420a;let _0x5f1a23=await G['create'](_0xcc7bc4);return this[_0x519c4d(0x21f)][_0x519c4d(0x3a3)](this['instanceName']+'\x20('+this[_0x519c4d(0x18d)]['wuid']+_0x519c4d(0x3ce)),_0x5f1a23?_0xcc7bc4:null;}catch(_0x27f088){return this[_0x519c4d(0x21f)][_0x519c4d(0x24d)](this[_0x519c4d(0x56c)]+'\x20('+this[_0x519c4d(0x18d)]['wuid']+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+_0x27f088),_0x27f088;}}async['uazapiSendText'](_0x2da3f9,_0x4c5bdc,_0x12d25a){const _0x5ce429=a0_0x32ece7;this['logger'][_0x5ce429(0x3a3)](this['instanceName']+'\x20('+this[_0x5ce429(0x18d)][_0x5ce429(0x6ff)]+_0x5ce429(0x317));let _0x509fa0={'number':_0x12d25a,'options':{'delay':_0x4c5bdc[_0x5ce429(0x563)][_0x5ce429(0x38f)]},'textMessage':{'text':_0x4c5bdc[_0x5ce429(0x563)]['text']}};try{let _0x405e14=await this[_0x5ce429(0x622)](_0x509fa0);if(_0x405e14){let _0x502515={'_id':_0x405e14['key']['id'],'_fromMe':_0x405e14[_0x5ce429(0x557)][_0x5ce429(0x62b)],'_remoteJid':_0x405e14[_0x5ce429(0x557)][_0x5ce429(0x283)]};_0x2da3f9[_0x5ce429(0x14e)]['lastBlockId']=_0x4c5bdc['_id'][_0x5ce429(0x702)]();let {message_normalized:_0x23bc02}=this[_0x5ce429(0x4f2)](_0x405e14['message'],J(_0x405e14[_0x5ce429(0x430)]),null);_0x2da3f9['chatLog'][_0x5ce429(0x671)]=await _0x23bc02;let _0x46a1f4={'messageId':_0x405e14[_0x5ce429(0x557)]['id']},_0x376638=_0x2da3f9[_0x5ce429(0x14e)][_0x5ce429(0x2c7)];Object[_0x5ce429(0x6a6)](_0x376638,_0x502515),_0x2da3f9[_0x5ce429(0x14e)][_0x5ce429(0x2c7)]=_0x376638,this['updateConversation'](_0x2da3f9,_0x4c5bdc,_0x46a1f4);}else{let _0x12b1d9={'error':!0x0};this[_0x5ce429(0x1e9)](_0x2da3f9,_0x4c5bdc,_0x12b1d9),this[_0x5ce429(0x21f)][_0x5ce429(0x24d)](this[_0x5ce429(0x56c)]+'\x20('+this[_0x5ce429(0x18d)]['wuid']+_0x5ce429(0x6a3));}}catch(_0x159f71){let _0x1dc6a2={'error':!0x0,'errorLog':_0x159f71[_0x5ce429(0x702)]()};this[_0x5ce429(0x1e9)](_0x2da3f9,_0x4c5bdc,_0x1dc6a2),this['logger'][_0x5ce429(0x24d)](this['instanceName']+'\x20('+this[_0x5ce429(0x18d)][_0x5ce429(0x6ff)]+_0x5ce429(0x446)+_0x159f71['toString']());}}async[a0_0x32ece7(0x693)](_0x3be654,_0xddc2fd,_0xac6249){const _0x323db1=a0_0x32ece7;this[_0x323db1(0x21f)]['verbose'](this[_0x323db1(0x56c)]+'\x20('+this['instance']['wuid']+_0x323db1(0x3f2));let _0x2083e1={'number':_0xac6249,'options':{'delay':_0xddc2fd[_0x323db1(0x563)][_0x323db1(0x38f)]},'mediaMessage':{'mediatype':_0xddc2fd[_0x323db1(0x563)][_0x323db1(0x517)],'caption':_0xddc2fd[_0x323db1(0x563)]['caption'],'media':_0xddc2fd[_0x323db1(0x563)][_0x323db1(0x211)]}};try{let _0x131638=await this[_0x323db1(0x602)](_0x2083e1);if(_0x131638){let _0x469bac={'_id':_0x131638[_0x323db1(0x557)]['id'],'_fromMe':_0x131638['key'][_0x323db1(0x62b)],'_remoteJid':_0x131638[_0x323db1(0x557)][_0x323db1(0x283)]};_0x3be654[_0x323db1(0x14e)][_0x323db1(0x4e1)]=_0xddc2fd[_0x323db1(0x541)][_0x323db1(0x702)]();let {message_normalized:_0x5195f0}=this['normalizeMessage'](_0x131638[_0x323db1(0x430)],J(_0x131638[_0x323db1(0x430)]),null);_0x3be654[_0x323db1(0x14e)][_0x323db1(0x671)]=await _0x5195f0;let _0x1c1ec2={'messageId':_0x131638['key']['id']},_0x34b67e=_0x3be654[_0x323db1(0x14e)]['realVariables'];Object[_0x323db1(0x6a6)](_0x34b67e,_0x469bac),_0x3be654[_0x323db1(0x14e)]['realVariables']=_0x34b67e,this[_0x323db1(0x1e9)](_0x3be654,_0xddc2fd,_0x1c1ec2);}else{let _0x4e9781={'error':!0x0};this[_0x323db1(0x1e9)](_0x3be654,_0xddc2fd,_0x4e9781),this[_0x323db1(0x21f)]['error'](this[_0x323db1(0x56c)]+'\x20('+this[_0x323db1(0x18d)][_0x323db1(0x6ff)]+_0x323db1(0x6b6));}}catch(_0x5e0d2d){let _0x4da6cc={'error':!0x0,'errorLog':_0x5e0d2d[_0x323db1(0x702)]()};this[_0x323db1(0x1e9)](_0x3be654,_0xddc2fd,_0x4da6cc),this[_0x323db1(0x21f)]['error'](this[_0x323db1(0x56c)]+'\x20('+this[_0x323db1(0x18d)][_0x323db1(0x6ff)]+_0x323db1(0x3e0)+_0x5e0d2d[_0x323db1(0x702)]());}}async[a0_0x32ece7(0x3af)](_0x2c9854,_0x116b49,_0x5a2e7f){const _0x5cdc96=a0_0x32ece7;this['logger'][_0x5cdc96(0x3a3)](this[_0x5cdc96(0x56c)]+'\x20('+this[_0x5cdc96(0x18d)][_0x5cdc96(0x6ff)]+_0x5cdc96(0x5f2));let _0xd7260a={'number':_0x5a2e7f,'options':{'delay':_0x116b49['uazapi'][_0x5cdc96(0x38f)]},'locationMessage':{'name':_0x116b49[_0x5cdc96(0x563)][_0x5cdc96(0x1e8)],'address':_0x116b49[_0x5cdc96(0x563)][_0x5cdc96(0x5d9)],'latitude':_0x116b49[_0x5cdc96(0x563)][_0x5cdc96(0x1ac)],'longitude':_0x116b49['uazapi'][_0x5cdc96(0x65a)]}};try{let _0x3a74c8=await this[_0x5cdc96(0x578)](_0xd7260a);if(_0x3a74c8){let _0x25debc={'_id':_0x3a74c8['key']['id'],'_fromMe':_0x3a74c8[_0x5cdc96(0x557)][_0x5cdc96(0x62b)],'_remoteJid':_0x3a74c8[_0x5cdc96(0x557)]['remoteJid']};_0x2c9854[_0x5cdc96(0x14e)][_0x5cdc96(0x4e1)]=_0x116b49[_0x5cdc96(0x541)]['toString']();let {message_normalized:_0x5036a8}=this[_0x5cdc96(0x4f2)](_0x3a74c8[_0x5cdc96(0x430)],J(_0x3a74c8[_0x5cdc96(0x430)]),null);_0x2c9854[_0x5cdc96(0x14e)]['lastSendMessage']=await _0x5036a8;let _0x38eff6={'messageId':_0x3a74c8[_0x5cdc96(0x557)]['id']},_0x137923=_0x2c9854[_0x5cdc96(0x14e)][_0x5cdc96(0x2c7)];Object['assign'](_0x137923,_0x25debc),_0x2c9854[_0x5cdc96(0x14e)][_0x5cdc96(0x2c7)]=_0x137923,this[_0x5cdc96(0x1e9)](_0x2c9854,_0x116b49,_0x38eff6);}else{let _0x4c4b18={'error':!0x0};this[_0x5cdc96(0x1e9)](_0x2c9854,_0x116b49,_0x4c4b18),this[_0x5cdc96(0x21f)]['error'](this[_0x5cdc96(0x56c)]+'\x20('+this[_0x5cdc96(0x18d)][_0x5cdc96(0x6ff)]+_0x5cdc96(0x4c5));}}catch(_0x3555b5){let _0x15543d={'error':!0x0,'errorLog':_0x3555b5[_0x5cdc96(0x702)]()};this[_0x5cdc96(0x1e9)](_0x2c9854,_0x116b49,_0x15543d),this[_0x5cdc96(0x21f)]['error'](this[_0x5cdc96(0x56c)]+'\x20('+this[_0x5cdc96(0x18d)][_0x5cdc96(0x6ff)]+_0x5cdc96(0x5a8)+_0x3555b5[_0x5cdc96(0x702)]());}}async[a0_0x32ece7(0x640)](_0x111d91,_0xafc5f5,_0x31a917){const _0x56a563=a0_0x32ece7;this[_0x56a563(0x21f)][_0x56a563(0x3a3)](this[_0x56a563(0x56c)]+'\x20('+this['instance'][_0x56a563(0x6ff)]+_0x56a563(0x604));let _0x53d9c4={'number':_0x31a917,'options':{'delay':_0xafc5f5[_0x56a563(0x563)][_0x56a563(0x38f)]},'audioMessage':{'audio':_0xafc5f5['uazapi'][_0x56a563(0x36c)]}};try{let _0x352291=await this['audioWhatsapp'](_0x53d9c4);if(_0x352291){let _0x1a264a={'_id':_0x352291[_0x56a563(0x557)]['id'],'_fromMe':_0x352291[_0x56a563(0x557)][_0x56a563(0x62b)],'_remoteJid':_0x352291[_0x56a563(0x557)]['remoteJid']};_0x111d91[_0x56a563(0x14e)][_0x56a563(0x4e1)]=_0xafc5f5['_id'][_0x56a563(0x702)]();let {message_normalized:_0x4101df}=this[_0x56a563(0x4f2)](_0x352291[_0x56a563(0x430)],J(_0x352291[_0x56a563(0x430)]),null);_0x111d91['chatLog'][_0x56a563(0x671)]=await _0x4101df;let _0x141df2={'messageId':_0x352291['key']['id']},_0x3a28f0=_0x111d91['chatLog'][_0x56a563(0x2c7)];Object[_0x56a563(0x6a6)](_0x3a28f0,_0x1a264a),_0x111d91[_0x56a563(0x14e)][_0x56a563(0x2c7)]=_0x3a28f0,this['updateConversation'](_0x111d91,_0xafc5f5,_0x141df2);}else{let _0x1e00ee={'error':!0x0};this['updateConversation'](_0x111d91,_0xafc5f5,_0x1e00ee),this['logger'][_0x56a563(0x24d)](this[_0x56a563(0x56c)]+'\x20('+this[_0x56a563(0x18d)][_0x56a563(0x6ff)]+_0x56a563(0x6cc));}}catch(_0x365ad3){let _0x4c7ab3={'error':!0x0,'errorLog':_0x365ad3[_0x56a563(0x702)]()};this[_0x56a563(0x1e9)](_0x111d91,_0xafc5f5,_0x4c7ab3),this[_0x56a563(0x21f)][_0x56a563(0x24d)](this[_0x56a563(0x56c)]+'\x20('+this[_0x56a563(0x18d)][_0x56a563(0x6ff)]+_0x56a563(0x53c)+_0x365ad3[_0x56a563(0x702)]());}}async[a0_0x32ece7(0x181)](_0x43b8ed,_0x53e9d5,_0x3c6896){const _0x3e4543=a0_0x32ece7;this['logger'][_0x3e4543(0x3a3)](this[_0x3e4543(0x56c)]+'\x20('+this['instance'][_0x3e4543(0x6ff)]+_0x3e4543(0x240));let _0x3d6729={'number':_0x3c6896,'options':{'delay':_0x53e9d5['uazapi']['delay']},'contactMessage':[{'fullName':_0x53e9d5[_0x3e4543(0x563)][_0x3e4543(0x20b)],'phoneNumber':_0x53e9d5[_0x3e4543(0x563)][_0x3e4543(0x3e1)]}]};try{let _0x1581d6=await this[_0x3e4543(0x546)](_0x3d6729);if(_0x1581d6){let _0x46ea94={'_id':_0x1581d6[_0x3e4543(0x557)]['id'],'_fromMe':_0x1581d6[_0x3e4543(0x557)][_0x3e4543(0x62b)],'_remoteJid':_0x1581d6['key'][_0x3e4543(0x283)]};_0x43b8ed[_0x3e4543(0x14e)]['lastBlockId']=_0x53e9d5[_0x3e4543(0x541)][_0x3e4543(0x702)]();let {message_normalized:_0x50f7a4}=this['normalizeMessage'](_0x1581d6[_0x3e4543(0x430)],J(_0x1581d6['message']),null);_0x43b8ed[_0x3e4543(0x14e)][_0x3e4543(0x671)]=await _0x50f7a4;let _0x2e24a1={'messageId':_0x1581d6[_0x3e4543(0x557)]['id']},_0x1d69cb=_0x43b8ed['chatLog'][_0x3e4543(0x2c7)];Object[_0x3e4543(0x6a6)](_0x1d69cb,_0x46ea94),_0x43b8ed[_0x3e4543(0x14e)][_0x3e4543(0x2c7)]=_0x1d69cb,this[_0x3e4543(0x1e9)](_0x43b8ed,_0x53e9d5,_0x2e24a1);}else{let _0x13723={'error':!0x0};this[_0x3e4543(0x1e9)](_0x43b8ed,_0x53e9d5,_0x13723),this[_0x3e4543(0x21f)][_0x3e4543(0x24d)](this[_0x3e4543(0x56c)]+'\x20('+this['instance'][_0x3e4543(0x6ff)]+_0x3e4543(0x4bf));}}catch(_0x29d940){let _0x5b1980={'error':!0x0,'errorLog':_0x29d940[_0x3e4543(0x702)]()};this['updateConversation'](_0x43b8ed,_0x53e9d5,_0x5b1980),this[_0x3e4543(0x21f)][_0x3e4543(0x24d)](this['instanceName']+'\x20('+this[_0x3e4543(0x18d)]['wuid']+_0x3e4543(0x32d)+_0x29d940['toString']());}}[a0_0x32ece7(0x18a)](_0x575e04,_0x378fee){const _0x2fd3fd=a0_0x32ece7;for(let _0x19e960 of _0x575e04)_0x19e960[_0x2fd3fd(0x66f)]&&(_0x19e960['option']=this['replaceVariables'](_0x19e960[_0x2fd3fd(0x66f)],_0x378fee)),_0x19e960[_0x2fd3fd(0x6f5)]&&(_0x19e960[_0x2fd3fd(0x6f5)]=this[_0x2fd3fd(0x5b2)](_0x19e960[_0x2fd3fd(0x6f5)],_0x378fee));}async[a0_0x32ece7(0x2ee)](_0x56b1e0,_0x4bce46,_0x2c0bda){const _0x4c0989=a0_0x32ece7;this['logger'][_0x4c0989(0x3a3)](this['instanceName']+'\x20('+this[_0x4c0989(0x18d)][_0x4c0989(0x6ff)]+'):\x20Enviando\x20enquete');let _0x44c42c=_0x56b1e0[_0x4c0989(0x444)]['filter'](_0x4aaa81=>_0x4aaa81['blockId']===_0x4bce46[_0x4c0989(0x541)]);this[_0x4c0989(0x18a)](_0x44c42c,_0x56b1e0[_0x4c0989(0x14e)]['realVariables']);let _0x22703a=_0x44c42c[_0x4c0989(0x4c2)](_0x19adc6=>_0x19adc6[_0x4c0989(0x66f)]),_0x200501={'number':_0x2c0bda,'options':{'delay':_0x4bce46[_0x4c0989(0x563)]['delay']},'pollMessage':{'name':_0x4bce46[_0x4c0989(0x563)]['name'],'selectableCount':0x1,'values':_0x22703a}};try{let _0x1d994e=await this['pollMessage'](_0x200501);if(_0x1d994e){let _0x3a371d={'_id':_0x1d994e[_0x4c0989(0x557)]['id'],'_fromMe':_0x1d994e[_0x4c0989(0x557)][_0x4c0989(0x62b)],'_remoteJid':_0x1d994e['key'][_0x4c0989(0x283)]};this[_0x4c0989(0x21f)][_0x4c0989(0x3a3)](this[_0x4c0989(0x56c)]+'\x20('+this[_0x4c0989(0x18d)]['wuid']+_0x4c0989(0x654)+_0x4bce46[_0x4c0989(0x563)][_0x4c0989(0x1e8)]),_0x56b1e0[_0x4c0989(0x298)]=_0x1d994e[_0x4c0989(0x557)]['id'],_0x56b1e0['waitingPoll_name']=_0x4bce46['uazapi']['name'],_0x56b1e0[_0x4c0989(0x1c9)]=_0x44c42c,this[_0x4c0989(0x21f)][_0x4c0989(0x3a3)](this[_0x4c0989(0x56c)]+'\x20('+this[_0x4c0989(0x18d)][_0x4c0989(0x6ff)]+_0x4c0989(0x31e)+_0x56b1e0['waitingPoll_name']),_0x56b1e0[_0x4c0989(0x14e)][_0x4c0989(0x4e1)]=_0x4bce46['_id'][_0x4c0989(0x702)]();let {message_normalized:_0x41c92d}=this[_0x4c0989(0x4f2)](_0x1d994e[_0x4c0989(0x430)],J(_0x1d994e[_0x4c0989(0x430)]),null);_0x56b1e0['chatLog'][_0x4c0989(0x671)]=await _0x41c92d;let _0x431fac={'messageId':_0x1d994e['key']['id']},_0x553f47=_0x56b1e0['chatLog'][_0x4c0989(0x2c7)];Object[_0x4c0989(0x6a6)](_0x553f47,_0x3a371d),_0x56b1e0[_0x4c0989(0x14e)][_0x4c0989(0x2c7)]=_0x553f47,this[_0x4c0989(0x1e9)](_0x56b1e0,_0x4bce46,_0x431fac);}else{let _0x48a199={'error':!0x0};this[_0x4c0989(0x1e9)](_0x56b1e0,_0x4bce46,_0x48a199),this[_0x4c0989(0x21f)]['error'](this['instanceName']+'\x20('+this[_0x4c0989(0x18d)]['wuid']+_0x4c0989(0x35d));}}catch(_0x15d7b5){let _0x5dd55d={'error':!0x0,'errorLog':_0x15d7b5[_0x4c0989(0x702)]()};this[_0x4c0989(0x1e9)](_0x56b1e0,_0x4bce46,_0x5dd55d),this[_0x4c0989(0x21f)]['error'](this[_0x4c0989(0x56c)]+'\x20('+this[_0x4c0989(0x18d)][_0x4c0989(0x6ff)]+_0x4c0989(0x64d)+_0x15d7b5[_0x4c0989(0x702)]());}}async[a0_0x32ece7(0x559)](_0xc2fd21,_0x10a4e0,_0x1a32ae){const _0x3e66e4=a0_0x32ece7;this[_0x3e66e4(0x21f)][_0x3e66e4(0x3a3)](this[_0x3e66e4(0x56c)]+'\x20('+this[_0x3e66e4(0x18d)][_0x3e66e4(0x6ff)]+_0x3e66e4(0x26c));let _0x1ed0b3=_0xc2fd21[_0x3e66e4(0x14e)][_0x3e66e4(0x2e2)]['find'](_0x31d8b1=>_0x31d8b1['blockId'][_0x3e66e4(0x702)]()===_0x10a4e0[_0x3e66e4(0x563)][_0x3e66e4(0x2d1)][_0x3e66e4(0x702)]()),_0x3722b6={'id':_0x1ed0b3[_0x3e66e4(0x4c3)],'remoteJid':_0x1ed0b3[_0x3e66e4(0x283)],'fromMe':_0x1ed0b3['fromMe']};try{let _0x10b43e=await this['deleteMessage'](_0x3722b6);if(_0x10b43e){_0xc2fd21['chatLog']['lastBlockId']=_0x10a4e0[_0x3e66e4(0x541)]['toString']();let {message_normalized:_0x4e5709}=this[_0x3e66e4(0x4f2)](_0x10b43e[_0x3e66e4(0x430)],J(_0x10b43e[_0x3e66e4(0x430)]),null);_0xc2fd21['chatLog'][_0x3e66e4(0x671)]=await _0x4e5709;let _0x209f95={};this[_0x3e66e4(0x1e9)](_0xc2fd21,_0x10a4e0,_0x209f95);}else{let _0x5b2b39={'error':!0x0};this['updateConversation'](_0xc2fd21,_0x10a4e0,_0x5b2b39),this[_0x3e66e4(0x21f)][_0x3e66e4(0x24d)](this['instanceName']+'\x20('+this[_0x3e66e4(0x18d)][_0x3e66e4(0x6ff)]+_0x3e66e4(0x173));}}catch(_0x38ba76){let _0x1ff334={'error':!0x0,'errorLog':_0x38ba76['toString']()};this[_0x3e66e4(0x1e9)](_0xc2fd21,_0x10a4e0,_0x1ff334),this[_0x3e66e4(0x21f)][_0x3e66e4(0x24d)](this['instanceName']+'\x20('+this[_0x3e66e4(0x18d)]['wuid']+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+_0x38ba76[_0x3e66e4(0x702)]());}}async[a0_0x32ece7(0x43b)](_0x3f1028){const _0x314f46=a0_0x32ece7;try{if(this[_0x314f46(0x21f)][_0x314f46(0x3a3)](this[_0x314f46(0x56c)]+'\x20('+this[_0x314f46(0x18d)][_0x314f46(0x6ff)]+_0x314f46(0x2d7)),await D['findOne']({'owner':this['instance'][_0x314f46(0x6ff)],'name':_0x3f1028[_0x314f46(0x1e8)]}))return{'message':_0x314f46(0x6d0)};_0x3f1028[_0x314f46(0x490)]===!0x0&&await D[_0x314f46(0x1e6)]({'owner':this[_0x314f46(0x18d)][_0x314f46(0x6ff)]},{'default':!0x1});let _0x496d20=new ye[(_0x314f46(0x645))]['ObjectId'](),_0x3e0689={'_id':_0x496d20,'default':!0x0,'title':_0x314f46(0x443),'x':0x0,'y':0x0},_0x1c6db7={'_id':new ye[(_0x314f46(0x645))][(_0x314f46(0x2d6))](),'order':0x1,'groupId':_0x496d20[_0x314f46(0x702)](),'type':_0x314f46(0x6c6)};return await D[_0x314f46(0x176)]({'owner':this[_0x314f46(0x18d)][_0x314f46(0x6ff)],'name':_0x3f1028[_0x314f46(0x1e8)],'groups':[_0x3e0689],'blocks':[_0x1c6db7],..._0x3f1028});}catch(_0x362526){throw this[_0x314f46(0x21f)]['error'](this[_0x314f46(0x56c)]+'\x20('+this['instance'][_0x314f46(0x6ff)]+_0x314f46(0x363)+_0x362526),new m('Erro\x20ao\x20criar\x20o\x20fluxo:\x20'+_0x362526);}}async[a0_0x32ece7(0x36a)](_0x3d432c){const _0x51333d=a0_0x32ece7;try{return this[_0x51333d(0x21f)][_0x51333d(0x3a3)](this['instanceName']+'\x20('+this[_0x51333d(0x18d)]['wuid']+_0x51333d(0x350)),await D[_0x51333d(0x69e)]({'owner':this[_0x51333d(0x18d)]['wuid'],'name':_0x3d432c});}catch(_0x2a033d){return this[_0x51333d(0x21f)][_0x51333d(0x24d)](this[_0x51333d(0x56c)]+'\x20('+this[_0x51333d(0x18d)][_0x51333d(0x6ff)]+_0x51333d(0x5f6)+_0x2a033d),{'message':'Erro\x20ao\x20deletar\x20o\x20fluxo:\x20'+_0x2a033d};}}async[a0_0x32ece7(0x63d)](_0x3f012b){const _0x4d8027=a0_0x32ece7;try{this[_0x4d8027(0x21f)][_0x4d8027(0x3a3)](this[_0x4d8027(0x56c)]+'\x20('+this[_0x4d8027(0x18d)]['wuid']+_0x4d8027(0x437));let _0x1a0dc5=await D['findOne']({'owner':this[_0x4d8027(0x18d)]['wuid'],'name':_0x3f012b});if(!_0x1a0dc5)throw new Error(_0x4d8027(0x28b));if(!this['AutomateSystem']&&(await this[_0x4d8027(0x3d6)](),!this['AutomateSystem']))return null;let _0x3a06f6=this['AutomateSystem'][_0x4d8027(0x6f7)]['map'](_0x51cf5a=>_0x51cf5a['name']),_0x196786=[_0x4d8027(0x1bb),_0x4d8027(0x319),_0x4d8027(0x686),_0x4d8027(0x511),_0x4d8027(0x4d1),'notas',_0x4d8027(0x295),_0x4d8027(0x3e9)];return _0x1a0dc5['variables']=_0x1a0dc5[_0x4d8027(0x5f5)][_0x4d8027(0x448)](_0x2ef9b4=>!_0x196786[_0x4d8027(0x330)](_0x2ef9b4['name'])),_0x196786['forEach'](_0x2ae007=>{const _0xf3724d=_0x4d8027;_0x1a0dc5[_0xf3724d(0x5f5)][_0xf3724d(0x4dc)]({'folder':_0xf3724d(0x5b5),'name':_0x2ae007,'value':'','doc':'','leadInfo':!0x0});}),_0x1a0dc5['variables']=_0x1a0dc5['variables'][_0x4d8027(0x448)](_0x5953bd=>!_0x3a06f6[_0x4d8027(0x330)](_0x5953bd[_0x4d8027(0x1e8)])),_0x3a06f6[_0x4d8027(0x15f)](_0x5c3d47=>{const _0x47ebeb=_0x4d8027;_0x1a0dc5['variables'][_0x47ebeb(0x5d4)](_0x43fbe5=>_0x43fbe5[_0x47ebeb(0x1e8)]===_0x5c3d47&&_0x43fbe5['leadInfo']===!0x0)||_0x1a0dc5[_0x47ebeb(0x5f5)][_0x47ebeb(0x4dc)]({'folder':_0x47ebeb(0x5b5),'name':_0x5c3d47,'value':'','doc':'','leadInfo':!0x0});}),await _0x1a0dc5['save'](),_0x1a0dc5;}catch(_0x146086){throw this[_0x4d8027(0x21f)][_0x4d8027(0x24d)](this[_0x4d8027(0x56c)]+'\x20('+this[_0x4d8027(0x18d)][_0x4d8027(0x6ff)]+_0x4d8027(0x1cd)+_0x146086),new m(_0x4d8027(0x2c9)+_0x146086);}}async['allFlows'](){const _0x547fdc=a0_0x32ece7;try{return this[_0x547fdc(0x21f)][_0x547fdc(0x3a3)](this[_0x547fdc(0x56c)]+'\x20('+this['instance'][_0x547fdc(0x6ff)]+_0x547fdc(0x70b)),await D[_0x547fdc(0x1dd)]({'owner':this['instance'][_0x547fdc(0x6ff)]});}catch(_0x22a303){return this[_0x547fdc(0x21f)][_0x547fdc(0x24d)](this[_0x547fdc(0x56c)]+'\x20('+this[_0x547fdc(0x18d)][_0x547fdc(0x6ff)]+_0x547fdc(0x1f3)+_0x22a303),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+_0x22a303};}}async[a0_0x32ece7(0x609)](_0x1ca789){const _0x1160c7=a0_0x32ece7;try{this[_0x1160c7(0x21f)][_0x1160c7(0x3a3)](this['instanceName']+'\x20('+this['instance'][_0x1160c7(0x6ff)]+_0x1160c7(0x2c0));let _0x4cc798=await D[_0x1160c7(0x420)]({'owner':this['instance'][_0x1160c7(0x6ff)],'name':_0x1ca789[_0x1160c7(0x1e8)]});if(!_0x4cc798)return{'message':'Fluxo\x20não\x20encontrado'};if(_0x1ca789[_0x1160c7(0x490)]===!0x0&&await D['updateMany']({'owner':this[_0x1160c7(0x18d)][_0x1160c7(0x6ff)]},{'default':!0x1}),_0x1ca789[_0x1160c7(0x515)]){if(await D[_0x1160c7(0x420)]({'owner':this[_0x1160c7(0x18d)]['wuid'],'name':_0x1ca789['newName']}))return{'message':_0x1160c7(0x3e5)};_0x1ca789['name']=_0x1ca789[_0x1160c7(0x515)],delete _0x1ca789['newName'];}return await D[_0x1160c7(0x386)](_0x4cc798[_0x1160c7(0x541)],{'$set':_0x1ca789},{'new':!0x0});}catch(_0x5cc8ab){throw this['logger'][_0x1160c7(0x24d)](this['instanceName']+'\x20('+this[_0x1160c7(0x18d)][_0x1160c7(0x6ff)]+_0x1160c7(0x5c3)+_0x5cc8ab),new m(_0x1160c7(0x1ae)+_0x5cc8ab);}}async['editFlowBlock'](_0x503844){const _0x4f6500=a0_0x32ece7;try{this['logger'][_0x4f6500(0x3a3)](this[_0x4f6500(0x56c)]+'\x20('+this[_0x4f6500(0x18d)][_0x4f6500(0x6ff)]+_0x4f6500(0x599));let _0x3d7f9d={'owner':this['instance'][_0x4f6500(0x6ff)],'name':_0x503844['name']},_0x5ea203=await D[_0x4f6500(0x420)](_0x3d7f9d);_0x5ea203||this[_0x4f6500(0x19a)](_0x4f6500(0x28b));let {block:_0x196b38}=_0x503844;return _0x196b38?.[_0x4f6500(0x6c2)]?this[_0x4f6500(0x492)](_0x5ea203,_0x503844):_0x196b38[_0x4f6500(0x541)]?await this[_0x4f6500(0x716)](_0x5ea203,_0x503844):this[_0x4f6500(0x5ce)](_0x5ea203,_0x503844),await _0x5ea203[_0x4f6500(0x438)](),_0x5ea203;}catch(_0x2bed3c){this[_0x4f6500(0x19a)](_0x4f6500(0x41d)+_0x2bed3c);}}[a0_0x32ece7(0x19a)](_0x1447e1){const _0x4e5924=a0_0x32ece7;throw this[_0x4e5924(0x21f)][_0x4e5924(0x24d)](this[_0x4e5924(0x56c)]+'\x20('+this[_0x4e5924(0x18d)][_0x4e5924(0x6ff)]+_0x4e5924(0x4ac)+_0x1447e1),new m(_0x1447e1);}['deleteBlock'](_0x54c7de,_0x1b0037){const _0x2da8a8=a0_0x32ece7;let {block:_0xfcc315}=_0x1b0037;if(_0xfcc315[_0x2da8a8(0x17d)]===_0x2da8a8(0x6c6)){this['throwAndLogError'](_0x2da8a8(0x5d1));return;}if(!_0xfcc315[_0x2da8a8(0x541)]){this['throwAndLogError'](_0x2da8a8(0x706));return;}let _0x18d8a5=_0x54c7de[_0x2da8a8(0x68f)][_0x2da8a8(0x1dd)](_0x5037f6=>_0x5037f6[_0x2da8a8(0x541)][_0x2da8a8(0x702)]()===_0x1b0037[_0x2da8a8(0x23d)][_0x2da8a8(0x541)]['toString']());if(!_0x18d8a5){this[_0x2da8a8(0x19a)](_0x2da8a8(0x1b0)+_0xfcc315[_0x2da8a8(0x541)]+'\x20não\x20encontrado');return;}_0x54c7de[_0x2da8a8(0x68f)]=_0x54c7de[_0x2da8a8(0x68f)][_0x2da8a8(0x448)](_0x3ccdfb=>_0x3ccdfb[_0x2da8a8(0x541)]['toString']()!==_0x1b0037[_0x2da8a8(0x23d)]['_id']['toString']()),_0x54c7de['conditions']=_0x54c7de['conditions'][_0x2da8a8(0x448)](_0x5980e1=>_0x5980e1[_0x2da8a8(0x2d1)]!==_0xfcc315[_0x2da8a8(0x541)][_0x2da8a8(0x702)]()),_0x54c7de[_0x2da8a8(0x30a)]=_0x54c7de[_0x2da8a8(0x30a)][_0x2da8a8(0x448)](_0x142b90=>_0x142b90[_0x2da8a8(0x2d1)]!==_0xfcc315[_0x2da8a8(0x541)][_0x2da8a8(0x702)]()),_0x54c7de[_0x2da8a8(0x444)]=_0x54c7de[_0x2da8a8(0x444)]['filter'](_0x59d1f2=>_0x59d1f2['blockId']!==_0xfcc315[_0x2da8a8(0x541)][_0x2da8a8(0x702)]()),this[_0x2da8a8(0x637)](_0x54c7de[_0x2da8a8(0x68f)],_0x18d8a5[_0x2da8a8(0x243)]);}async['updateBlock'](_0x543d4f,_0x1ecbb2){const _0x3bae31=a0_0x32ece7;let _0x42456c=_0x543d4f[_0x3bae31(0x68f)][_0x3bae31(0x360)](_0x50f67e=>_0x50f67e['_id'][_0x3bae31(0x702)]()===_0x1ecbb2['block'][_0x3bae31(0x541)]['toString']());if(this[_0x3bae31(0x21f)][_0x3bae31(0x3a3)](this[_0x3bae31(0x56c)]+'\x20('+this[_0x3bae31(0x18d)]['wuid']+_0x3bae31(0x19f)+_0x42456c),_0x42456c===-0x1){this['logger'][_0x3bae31(0x3a3)](_0x3bae31(0x1b0)+_0x1ecbb2[_0x3bae31(0x23d)][_0x3bae31(0x541)]+_0x3bae31(0x32f));return;}if(_0x543d4f[_0x3bae31(0x68f)][_0x42456c]['type']==='start'){let _0x356c06=Object[_0x3bae31(0x358)](_0x1ecbb2[_0x3bae31(0x23d)]);if(_0x356c06[_0x3bae31(0x239)]>0x2||_0x356c06[_0x3bae31(0x239)]===0x2&&!_0x356c06[_0x3bae31(0x330)](_0x3bae31(0x29e))){this[_0x3bae31(0x19a)](_0x3bae31(0x256));return;}}let _0x137b67=_0x543d4f[_0x3bae31(0x68f)][_0x42456c][_0x3bae31(0x243)];for(let _0x237881 in _0x1ecbb2[_0x3bae31(0x23d)])_0x1ecbb2[_0x3bae31(0x23d)][_0x3bae31(0x5c6)](_0x237881)&&(_0x543d4f[_0x3bae31(0x68f)][_0x42456c][_0x237881]=_0x1ecbb2[_0x3bae31(0x23d)][_0x237881]);if(this['logger'][_0x3bae31(0x3a3)](this['instanceName']+'\x20('+this[_0x3bae31(0x18d)][_0x3bae31(0x6ff)]+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON[_0x3bae31(0x61e)](_0x543d4f[_0x3bae31(0x68f)][_0x42456c])),_0x543d4f[_0x3bae31(0x68f)][_0x42456c][_0x3bae31(0x674)]&&_0x3bae31(0x553)in _0x543d4f['blocks'][_0x42456c][_0x3bae31(0x674)]){this['logger'][_0x3bae31(0x3a3)](this[_0x3bae31(0x56c)]+'\x20('+this[_0x3bae31(0x18d)][_0x3bae31(0x6ff)]+_0x3bae31(0x1e7));let _0x2640b8=JSON[_0x3bae31(0x61e)](_0x543d4f[_0x3bae31(0x68f)][_0x42456c][_0x3bae31(0x674)]['header'],null,0x1);_0x2640b8[_0x3bae31(0x239)]>0x2&&(_0x2640b8=_0x2640b8['substring'](0x1,_0x2640b8[_0x3bae31(0x239)]-0x1)[_0x3bae31(0x3ba)]()),_0x543d4f['blocks'][_0x42456c][_0x3bae31(0x674)][_0x3bae31(0x550)]=_0x2640b8;}if(_0x543d4f[_0x3bae31(0x68f)][_0x42456c]['apirequest']&&_0x3bae31(0x3e4)in _0x543d4f[_0x3bae31(0x68f)][_0x42456c][_0x3bae31(0x674)]){this['logger'][_0x3bae31(0x3a3)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3bae31(0x58c));let _0x4f10d1=JSON['stringify'](_0x543d4f[_0x3bae31(0x68f)][_0x42456c]['apirequest']['body'],null,0x1);_0x4f10d1['length']>0x2&&(_0x4f10d1=_0x4f10d1[_0x3bae31(0x4d2)](0x1,_0x4f10d1['length']-0x1)[_0x3bae31(0x3ba)]()),_0x543d4f[_0x3bae31(0x68f)][_0x42456c][_0x3bae31(0x674)]['bodyString']=_0x4f10d1;}let _0x45b5c4=_0x543d4f[_0x3bae31(0x68f)][_0x42456c][_0x3bae31(0x243)];_0x137b67!==_0x45b5c4?(this['reorderBlocks'](_0x543d4f[_0x3bae31(0x68f)],_0x137b67),this[_0x3bae31(0x637)](_0x543d4f[_0x3bae31(0x68f)],_0x45b5c4)):this[_0x3bae31(0x637)](_0x543d4f['blocks'],_0x137b67);}[a0_0x32ece7(0x5ce)](_0x2e3476,_0x58fa84){const _0x180497=a0_0x32ece7;if(_0x58fa84[_0x180497(0x23d)]['type']===_0x180497(0x6c6)){this[_0x180497(0x19a)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x58fa84[_0x180497(0x23d)]['apirequest']&&'header'in _0x58fa84[_0x180497(0x23d)][_0x180497(0x674)]){this['logger'][_0x180497(0x3a3)](this[_0x180497(0x56c)]+'\x20('+this['instance'][_0x180497(0x6ff)]+_0x180497(0x1e7));let _0x48bb11=JSON[_0x180497(0x61e)](_0x58fa84['block'][_0x180497(0x674)][_0x180497(0x553)],null,0x1);_0x48bb11[_0x180497(0x239)]>0x2&&(_0x48bb11=_0x48bb11[_0x180497(0x4d2)](0x1,_0x48bb11[_0x180497(0x239)]-0x1)['trim']()),_0x58fa84[_0x180497(0x23d)][_0x180497(0x674)][_0x180497(0x550)]=_0x48bb11;}_0x58fa84[_0x180497(0x23d)]['apirequest']&&_0x180497(0x3e4)in _0x58fa84['block']['apirequest']&&(this[_0x180497(0x21f)][_0x180497(0x3a3)](this[_0x180497(0x56c)]+'\x20('+this[_0x180497(0x18d)][_0x180497(0x6ff)]+_0x180497(0x58c)),_0x58fa84[_0x180497(0x23d)][_0x180497(0x674)][_0x180497(0x288)]=JSON[_0x180497(0x61e)](_0x58fa84[_0x180497(0x23d)][_0x180497(0x674)][_0x180497(0x3e4)],null,0x1)[_0x180497(0x3ba)]()),_0x2e3476[_0x180497(0x68f)][_0x180497(0x4dc)](_0x58fa84['block']),this[_0x180497(0x637)](_0x2e3476[_0x180497(0x68f)],_0x58fa84[_0x180497(0x23d)]['groupId']);}[a0_0x32ece7(0x637)](_0x2b7c27,_0x3fa626){const _0xaba4b6=a0_0x32ece7;let _0x588b71=_0x2b7c27['filter'](_0x239942=>_0x239942[_0xaba4b6(0x243)]===_0x3fa626);_0x588b71[_0xaba4b6(0x39c)]((_0x5d3bc4,_0xda41cf)=>_0x5d3bc4[_0xaba4b6(0x1e3)]-_0xda41cf['order']),_0x588b71['forEach']((_0x236434,_0x34df19)=>_0x236434['order']=_0x34df19+0x1);}async[a0_0x32ece7(0x205)](_0x332b80){const _0x536cfd=a0_0x32ece7;try{if(this[_0x536cfd(0x21f)]['verbose'](this[_0x536cfd(0x56c)]+'\x20('+this[_0x536cfd(0x18d)]['wuid']+_0x536cfd(0x561)),!_0x332b80||!_0x332b80[_0x536cfd(0x4ab)]){this['throwAndLogError'](_0x536cfd(0x361));return;}let _0x23697d={'owner':this[_0x536cfd(0x18d)][_0x536cfd(0x6ff)],'name':_0x332b80[_0x536cfd(0x1e8)]},_0x194c41=await D[_0x536cfd(0x420)](_0x23697d);_0x194c41||this['throwAndLogError'](_0x536cfd(0x28b));let {replyOption:_0x2306b9}=_0x332b80;return _0x2306b9?.[_0x536cfd(0x6c2)]?this['deleteReplyOption'](_0x194c41,_0x332b80):_0x2306b9[_0x536cfd(0x541)]?await this['updateReplyOption'](_0x194c41,_0x332b80):this['addReplyOption'](_0x194c41,_0x332b80),await _0x194c41[_0x536cfd(0x438)](),_0x194c41;}catch(_0x2a6e83){this[_0x536cfd(0x19a)](_0x536cfd(0x3ee)+_0x2a6e83);}}[a0_0x32ece7(0x219)](_0x51fe60,_0x2ad7af){const _0x1e8027=a0_0x32ece7;let {replyOption:_0x1ccc9d}=_0x2ad7af;if(!_0x1ccc9d[_0x1e8027(0x541)]){this[_0x1e8027(0x19a)](_0x1e8027(0x409));return;}if(!_0x51fe60[_0x1e8027(0x444)][_0x1e8027(0x1dd)](_0x4a5921=>_0x4a5921[_0x1e8027(0x541)][_0x1e8027(0x702)]()===_0x2ad7af[_0x1e8027(0x4ab)][_0x1e8027(0x541)]['toString']())){this['throwAndLogError'](_0x1e8027(0x3e6)+_0x1ccc9d[_0x1e8027(0x541)]+_0x1e8027(0x50f));return;}_0x51fe60[_0x1e8027(0x444)]=_0x51fe60[_0x1e8027(0x444)][_0x1e8027(0x448)](_0x46a1c9=>_0x46a1c9[_0x1e8027(0x541)][_0x1e8027(0x702)]()!==_0x2ad7af[_0x1e8027(0x4ab)]['_id'][_0x1e8027(0x702)]());}async[a0_0x32ece7(0x2d5)](_0x4a8018,_0x8be424){const _0x51ec5f=a0_0x32ece7;let _0x5e105b=_0x4a8018[_0x51ec5f(0x444)][_0x51ec5f(0x360)](_0x488825=>_0x488825[_0x51ec5f(0x541)][_0x51ec5f(0x702)]()===_0x8be424[_0x51ec5f(0x4ab)][_0x51ec5f(0x541)][_0x51ec5f(0x702)]());if(_0x5e105b===-0x1){this[_0x51ec5f(0x19a)](_0x51ec5f(0x3e6)+_0x8be424['replyOption'][_0x51ec5f(0x541)]+_0x51ec5f(0x32f));return;}for(let _0x2de5d2 in _0x8be424[_0x51ec5f(0x4ab)])_0x8be424[_0x51ec5f(0x4ab)][_0x51ec5f(0x5c6)](_0x2de5d2)&&(_0x4a8018['replyOptions'][_0x5e105b][_0x2de5d2]=_0x8be424['replyOption'][_0x2de5d2]);}['addReplyOption'](_0x48284e,_0x364242){const _0x21d152=a0_0x32ece7;_0x48284e[_0x21d152(0x444)][_0x21d152(0x4dc)](_0x364242[_0x21d152(0x4ab)]);}async[a0_0x32ece7(0x630)](_0x34f37c){const _0x27815b=a0_0x32ece7;this[_0x27815b(0x21f)][_0x27815b(0x3a3)](this[_0x27815b(0x56c)]+'\x20('+this[_0x27815b(0x18d)][_0x27815b(0x6ff)]+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup:'+_0x34f37c);try{this[_0x27815b(0x21f)]['verbose'](this[_0x27815b(0x56c)]+'\x20('+this['instance']['wuid']+_0x27815b(0x3d7));let _0x3e24b2={'owner':this[_0x27815b(0x18d)][_0x27815b(0x6ff)],'name':_0x34f37c[_0x27815b(0x1e8)]},_0x37c6e8=await D[_0x27815b(0x420)](_0x3e24b2);if(!_0x37c6e8)throw new Error('Flow\x20não\x20encontrado');if(_0x34f37c[_0x27815b(0x4fc)]&&_0x34f37c[_0x27815b(0x4fc)]?.[_0x27815b(0x6c2)]===!0x0){if(this[_0x27815b(0x21f)][_0x27815b(0x3a3)](this[_0x27815b(0x56c)]+'\x20('+this['instance'][_0x27815b(0x6ff)]+_0x27815b(0x5d6)),_0x34f37c['group'][_0x27815b(0x490)]===!0x0)return{'message':_0x27815b(0x67c)};if(_0x37c6e8['blocks']['some'](_0x5a4d83=>_0x5a4d83['groupId'][_0x27815b(0x702)]()===_0x34f37c[_0x27815b(0x4fc)][_0x27815b(0x541)]))return this[_0x27815b(0x21f)]['verbose'](this[_0x27815b(0x56c)]+'\x20('+this[_0x27815b(0x18d)][_0x27815b(0x6ff)]+_0x27815b(0x41a)),{'message':_0x27815b(0x333)};_0x37c6e8['groups']=_0x37c6e8[_0x27815b(0x335)][_0x27815b(0x448)](_0x1bb49f=>_0x1bb49f[_0x27815b(0x541)]['toString']()!==_0x34f37c[_0x27815b(0x4fc)][_0x27815b(0x541)]);}else{if(_0x34f37c[_0x27815b(0x4fc)]){if(_0x34f37c[_0x27815b(0x4fc)][_0x27815b(0x490)]===!0x0)return{'message':_0x27815b(0x5f3)};if(_0x34f37c[_0x27815b(0x4fc)][_0x27815b(0x541)]){let _0x46cc11=_0x37c6e8[_0x27815b(0x335)]['find'](_0x5482ed=>_0x5482ed[_0x27815b(0x541)][_0x27815b(0x702)]()===_0x34f37c[_0x27815b(0x4fc)][_0x27815b(0x541)]);_0x46cc11&&(_0x34f37c['group']['x']<0x0&&(_0x34f37c[_0x27815b(0x4fc)]['x']=0x0),_0x34f37c['group']['y']<0x0&&(_0x34f37c[_0x27815b(0x4fc)]['y']=0x0),Object[_0x27815b(0x6a6)](_0x46cc11,_0x34f37c['group']));}else _0x37c6e8[_0x27815b(0x335)][_0x27815b(0x4dc)](_0x34f37c['group']);}}return await _0x37c6e8[_0x27815b(0x438)](),_0x37c6e8;}catch(_0x2379b6){throw this[_0x27815b(0x21f)][_0x27815b(0x24d)](this[_0x27815b(0x56c)]+'\x20('+this[_0x27815b(0x18d)]['wuid']+_0x27815b(0x6be)+_0x2379b6),new m(_0x27815b(0x214)+_0x2379b6);}}async[a0_0x32ece7(0x5ac)](_0x15f96c){const _0x3bf32e=a0_0x32ece7;try{this[_0x3bf32e(0x21f)][_0x3bf32e(0x3a3)](this[_0x3bf32e(0x56c)]+'\x20('+this['instance'][_0x3bf32e(0x6ff)]+_0x3bf32e(0x632));let _0xdcc787={'owner':this['instance'][_0x3bf32e(0x6ff)],'name':_0x15f96c['name']},_0x38b3e3=await D[_0x3bf32e(0x420)](_0xdcc787);if(!_0x38b3e3)throw new Error(_0x3bf32e(0x28b));let _0x321006=!0x1;if(_0x15f96c[_0x3bf32e(0x606)]?.['delete']===!0x0)_0x38b3e3[_0x3bf32e(0x17c)]=_0x38b3e3['conditions'][_0x3bf32e(0x448)](_0xb67d5c=>_0xb67d5c&&_0x15f96c['condition']&&_0xb67d5c[_0x3bf32e(0x541)]&&_0x15f96c[_0x3bf32e(0x606)][_0x3bf32e(0x541)]&&_0xb67d5c['_id'][_0x3bf32e(0x702)]()!==_0x15f96c[_0x3bf32e(0x606)]['_id']['toString']()),_0x321006=!0x0;else{let _0x3b8a77=_0x38b3e3[_0x3bf32e(0x17c)][_0x3bf32e(0x1dd)](_0x2a086e=>_0x2a086e&&_0x15f96c[_0x3bf32e(0x606)]&&_0x2a086e[_0x3bf32e(0x541)]&&_0x15f96c[_0x3bf32e(0x606)][_0x3bf32e(0x541)]&&_0x2a086e['_id'][_0x3bf32e(0x702)]()===_0x15f96c[_0x3bf32e(0x606)][_0x3bf32e(0x541)][_0x3bf32e(0x702)]());_0x3b8a77?(_0x321006=_0x3b8a77[_0x3bf32e(0x1e3)]!==_0x15f96c[_0x3bf32e(0x606)][_0x3bf32e(0x1e3)],Object[_0x3bf32e(0x6a6)](_0x3b8a77,_0x15f96c[_0x3bf32e(0x606)])):(_0x38b3e3[_0x3bf32e(0x17c)]['push'](_0x15f96c[_0x3bf32e(0x606)]),_0x321006=!0x0);}if(_0x321006){_0x38b3e3[_0x3bf32e(0x17c)]['sort']((_0x11d769,_0x4f972f)=>_0x11d769[_0x3bf32e(0x1e3)]>_0x4f972f[_0x3bf32e(0x1e3)]?0x1:_0x4f972f[_0x3bf32e(0x1e3)]>_0x11d769[_0x3bf32e(0x1e3)]?-0x1:0x0);for(let _0x1e9a1b=0x0;_0x1e9a1b<_0x38b3e3[_0x3bf32e(0x17c)]['length'];_0x1e9a1b++)_0x38b3e3[_0x3bf32e(0x17c)][_0x1e9a1b][_0x3bf32e(0x1e3)]=_0x1e9a1b+0x1;_0x38b3e3[_0x3bf32e(0x17c)]['length']>0x0&&(_0x38b3e3[_0x3bf32e(0x17c)][0x0]['OrAnd']='and');}return await _0x38b3e3[_0x3bf32e(0x438)](),_0x38b3e3;}catch(_0x5c7217){throw this[_0x3bf32e(0x21f)][_0x3bf32e(0x24d)](this[_0x3bf32e(0x56c)]+'\x20('+this[_0x3bf32e(0x18d)]['wuid']+_0x3bf32e(0x595)+_0x5c7217),new Error('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+_0x5c7217);}}async[a0_0x32ece7(0x497)](_0x1b8583){const _0x16c22e=a0_0x32ece7;try{this['logger'][_0x16c22e(0x3a3)](this['instanceName']+'\x20('+this[_0x16c22e(0x18d)][_0x16c22e(0x6ff)]+_0x16c22e(0x316));let _0xd9a7c8={'owner':this[_0x16c22e(0x18d)]['wuid'],'name':_0x1b8583['name']},_0x55dad0=await D['findOne'](_0xd9a7c8);if(!_0x55dad0)throw new Error('Flow\x20não\x20encontrado');let _0x2f4d88=!0x1;if(_0x1b8583[_0x16c22e(0x465)]?.[_0x16c22e(0x6c2)]===!0x0)_0x55dad0[_0x16c22e(0x30a)]=_0x55dad0[_0x16c22e(0x30a)][_0x16c22e(0x448)](_0x2bc992=>_0x2bc992&&_0x1b8583[_0x16c22e(0x465)]&&_0x2bc992[_0x16c22e(0x541)]&&_0x1b8583[_0x16c22e(0x465)][_0x16c22e(0x541)]&&_0x2bc992[_0x16c22e(0x541)][_0x16c22e(0x702)]()!==_0x1b8583[_0x16c22e(0x465)][_0x16c22e(0x541)][_0x16c22e(0x702)]()),_0x2f4d88=!0x0;else{let _0x2b4081=_0x55dad0[_0x16c22e(0x30a)][_0x16c22e(0x1dd)](_0x2d2c92=>_0x2d2c92&&_0x1b8583[_0x16c22e(0x465)]&&_0x2d2c92[_0x16c22e(0x541)]&&_0x1b8583[_0x16c22e(0x465)][_0x16c22e(0x541)]&&_0x2d2c92[_0x16c22e(0x541)][_0x16c22e(0x702)]()===_0x1b8583[_0x16c22e(0x465)][_0x16c22e(0x541)][_0x16c22e(0x702)]());_0x2b4081?(_0x2f4d88=_0x2b4081[_0x16c22e(0x1e3)]!==_0x1b8583[_0x16c22e(0x465)][_0x16c22e(0x1e3)],Object[_0x16c22e(0x6a6)](_0x2b4081,_0x1b8583['varedit'])):(_0x55dad0[_0x16c22e(0x30a)][_0x16c22e(0x4dc)](_0x1b8583[_0x16c22e(0x465)]),_0x2f4d88=!0x0);}if(_0x2f4d88){_0x55dad0[_0x16c22e(0x30a)][_0x16c22e(0x39c)]((_0x261cb2,_0x54fc38)=>_0x261cb2[_0x16c22e(0x1e3)]>_0x54fc38['order']?0x1:_0x54fc38['order']>_0x261cb2['order']?-0x1:0x0);for(let _0x53a235=0x0;_0x53a235<_0x55dad0[_0x16c22e(0x30a)][_0x16c22e(0x239)];_0x53a235++)_0x55dad0[_0x16c22e(0x30a)][_0x53a235]['order']=_0x53a235+0x1;}return await _0x55dad0[_0x16c22e(0x438)](),_0x55dad0;}catch(_0x335902){throw this[_0x16c22e(0x21f)]['error'](this[_0x16c22e(0x56c)]+'\x20('+this['instance'][_0x16c22e(0x6ff)]+_0x16c22e(0x595)+_0x335902),new m(_0x16c22e(0x689)+_0x335902);}}async['editFlowVariable'](_0xc2bf30){const _0x42291a=a0_0x32ece7;try{this[_0x42291a(0x21f)]['verbose'](this[_0x42291a(0x56c)]+'\x20('+this['instance'][_0x42291a(0x6ff)]+_0x42291a(0x20a));let _0x4ddc73={'owner':this[_0x42291a(0x18d)][_0x42291a(0x6ff)],'name':_0xc2bf30[_0x42291a(0x1e8)]},_0x5a2960=await D[_0x42291a(0x420)](_0x4ddc73);if(!_0x5a2960)throw new Error(_0x42291a(0x28b));_0xc2bf30[_0x42291a(0x3a4)]['name']=_0xc2bf30[_0x42291a(0x3a4)][_0x42291a(0x1e8)][_0x42291a(0x3ba)](),_0xc2bf30[_0x42291a(0x3a4)][_0x42291a(0x1e8)][_0x42291a(0x55b)]('_')&&(_0xc2bf30['variable']['name']=_0xc2bf30[_0x42291a(0x3a4)]['name'][_0x42291a(0x4d2)](0x1)),_0xc2bf30[_0x42291a(0x3a4)][_0x42291a(0x1e8)]=_0xc2bf30[_0x42291a(0x3a4)]['name'][_0x42291a(0x3ba)]();let _0x5de373=_0x5a2960[_0x42291a(0x5f5)][_0x42291a(0x1dd)](_0x2006b0=>_0x2006b0[_0x42291a(0x1e8)]===_0xc2bf30[_0x42291a(0x3a4)]['name']);if(_0x5de373?.[_0x42291a(0x5b5)]===!0x0)throw new Error(_0x42291a(0x6d9));if(_0xc2bf30[_0x42291a(0x3a4)]?.[_0x42291a(0x6c2)]===!0x0){if(!_0x5de373)return{'message':_0x42291a(0x18c)};_0x5a2960[_0x42291a(0x5f5)]=_0x5a2960[_0x42291a(0x5f5)][_0x42291a(0x448)](_0xccaddd=>_0xccaddd[_0x42291a(0x1e8)]!==_0xc2bf30[_0x42291a(0x3a4)][_0x42291a(0x1e8)]);}else _0x5de373?Object[_0x42291a(0x6a6)](_0x5de373,_0xc2bf30[_0x42291a(0x3a4)]):_0x5a2960['variables'][_0x42291a(0x4dc)](_0xc2bf30[_0x42291a(0x3a4)]);return await _0x5a2960[_0x42291a(0x438)](),_0x5a2960;}catch(_0x2bc362){throw this[_0x42291a(0x21f)][_0x42291a(0x24d)](this[_0x42291a(0x56c)]+'\x20('+this['instance'][_0x42291a(0x6ff)]+_0x42291a(0x191)+_0x2bc362),new m(_0x42291a(0x35a)+_0x2bc362);}}async['startFlow'](_0x1bc02f){const _0x197ed5=a0_0x32ece7;try{if(!this['AutomateSystem'][_0x197ed5(0x483)][_0x197ed5(0x2bf)])throw new m(_0x197ed5(0x389));this[_0x197ed5(0x21f)][_0x197ed5(0x3a3)](this[_0x197ed5(0x56c)]+'\x20('+this['instance'][_0x197ed5(0x6ff)]+_0x197ed5(0x30c));let _0x1b94e3=(await this[_0x197ed5(0x433)]({'numbers':[_0x1bc02f[_0x197ed5(0x283)]]}))[0x0];if(!_0x1b94e3[_0x197ed5(0x51d)]&&!(0x0,w[_0x197ed5(0x485)])(_0x1b94e3['jid'])&&!_0x1b94e3[_0x197ed5(0x40e)]['includes'](_0x197ed5(0x1a3)))throw new m(_0x1b94e3);let _0x517b3e=await D[_0x197ed5(0x420)]({'owner':this[_0x197ed5(0x18d)][_0x197ed5(0x6ff)],'name':_0x1bc02f[_0x197ed5(0x1e8)]});if(!_0x517b3e)return this[_0x197ed5(0x21f)][_0x197ed5(0x24d)](this[_0x197ed5(0x56c)]+'\x20('+this[_0x197ed5(0x18d)][_0x197ed5(0x6ff)]+_0x197ed5(0x711)),{'message':_0x197ed5(0x28b)};let _0x4a8a66=await this[_0x197ed5(0x457)](_0x517b3e,_0x1b94e3[_0x197ed5(0x40e)],_0x1bc02f[_0x197ed5(0x646)]);if(_0x4a8a66){this[_0x197ed5(0x21f)][_0x197ed5(0x3a3)](this['instanceName']+'\x20('+this[_0x197ed5(0x18d)]['wuid']+'):\x20Criou\x20conversa\x20no\x20startFlow:');let _0x2a8010=await this[_0x197ed5(0x268)](_0x4a8a66);return _0x2a8010&&await this[_0x197ed5(0x5b3)](_0x4a8a66,_0x2a8010,_0x4a8a66[_0x197ed5(0x283)]),{'message':'Flow\x20iniciado\x20com\x20'+_0x1bc02f[_0x197ed5(0x283)]};}}catch(_0x485f60){if(this['logger']['error'](this[_0x197ed5(0x56c)]+'\x20('+this[_0x197ed5(0x18d)][_0x197ed5(0x6ff)]+_0x197ed5(0x2b6)+_0x485f60),_0x485f60&&_0x485f60[_0x197ed5(0x430)]&&Array[_0x197ed5(0x3c6)](_0x485f60[_0x197ed5(0x430)])&&_0x485f60[_0x197ed5(0x430)][0x0]){let {jid:_0xb4b01b,exists:_0x219f8b}=_0x485f60[_0x197ed5(0x430)][0x0];}throw new m(_0x197ed5(0x6e0)+_0x485f60[_0x197ed5(0x430)]);}}async[a0_0x32ece7(0x457)](_0x4a39ed,_0x3ea766,_0x26f921){const _0x501df8=a0_0x32ece7;this[_0x501df8(0x21f)]['verbose'](this[_0x501df8(0x56c)]+'\x20('+this[_0x501df8(0x18d)][_0x501df8(0x6ff)]+_0x501df8(0x385));try{let _0x385421=require(_0x501df8(0x5c4))[_0x501df8(0x2d6)],_0x460bc5=Date[_0x501df8(0x332)](),_0x321ad4=_0x501df8(0x6c6),_0x2aa7dd={},_0x303e22={},_0x14c99d={..._0x4a39ed[_0x501df8(0x54a)],'chatLog':null},_0x38b3ed=await this[_0x501df8(0x649)](_0x14c99d[_0x501df8(0x5f5)]),_0x412141=await this[_0x501df8(0x6f0)](_0x3ea766),_0x3626e7={..._0x38b3ed,..._0x412141},_0x27e2a5={'lastReceivedMessage':_0x2aa7dd,'lastSendMessage':_0x303e22,'lastBlockId':_0x321ad4,'lastCondition':!0x0,'realVariables':_0x3626e7};_0x14c99d[_0x501df8(0x14e)]=_0x27e2a5,_0x14c99d['chatLog'][_0x501df8(0x2c7)]={..._0x3626e7,..._0x26f921},delete _0x14c99d[_0x501df8(0x541)],_0x14c99d[_0x501df8(0x541)]=new _0x385421(),_0x14c99d[_0x501df8(0x3ff)]=_0x460bc5,_0x14c99d['status']=_0x501df8(0x314),_0x14c99d[_0x501df8(0x283)]=_0x3ea766;let _0x3eecf2=await G['create'](_0x14c99d);return this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x501df8(0x6ff)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x3eecf2?_0x14c99d:null;}catch(_0x4b2706){throw this[_0x501df8(0x21f)]['error'](this['instanceName']+'\x20('+this[_0x501df8(0x18d)][_0x501df8(0x6ff)]+_0x501df8(0x161)+_0x4b2706),new m(_0x4b2706[_0x501df8(0x430)]);}}async[a0_0x32ece7(0x667)](_0x1a6996){const _0x268c80=a0_0x32ece7;try{return this[_0x268c80(0x21f)][_0x268c80(0x3a3)](this['instanceName']+'\x20('+this[_0x268c80(0x18d)][_0x268c80(0x6ff)]+_0x268c80(0x167)),this['logger']['verbose'](this[_0x268c80(0x56c)]+'\x20('+this[_0x268c80(0x18d)][_0x268c80(0x6ff)]+_0x268c80(0x163)+{'owner':this[_0x268c80(0x18d)][_0x268c80(0x6ff)],'_id':_0x1a6996}),await G['findOne']({'owner':this[_0x268c80(0x18d)]['wuid'],'_id':_0x1a6996});}catch(_0x1b6e65){throw this[_0x268c80(0x21f)][_0x268c80(0x24d)](this[_0x268c80(0x56c)]+'\x20('+this[_0x268c80(0x18d)][_0x268c80(0x6ff)]+_0x268c80(0x51a)+_0x1b6e65),new m('Erro\x20ao\x20buscar\x20conversa:\x20'+_0x1b6e65['message']);}}async[a0_0x32ece7(0x663)](_0xb23d79,_0x211037=0x64){const _0x204038=a0_0x32ece7;try{this['logger']['verbose'](this[_0x204038(0x56c)]+'\x20('+this[_0x204038(0x18d)][_0x204038(0x6ff)]+'):\x20Buscando\x20conversas...');let _0x41c317={..._0xb23d79,'owner':this['instance']['wuid']};return this[_0x204038(0x21f)][_0x204038(0x3a3)](this[_0x204038(0x56c)]+'\x20('+this[_0x204038(0x18d)]['wuid']+_0x204038(0x456)+_0x41c317),await G['find'](_0x41c317)['limit'](_0x211037)[_0x204038(0x39c)]({'lastInteraction':-0x1});}catch(_0x45b166){throw this['logger'][_0x204038(0x24d)](this['instanceName']+'\x20('+this['instance'][_0x204038(0x6ff)]+_0x204038(0x369)+_0x45b166),new m(_0x204038(0x3e8)+_0x45b166['message']);}}async[a0_0x32ece7(0x5b9)](_0x569eee){const _0x59d72d=a0_0x32ece7;try{return this[_0x59d72d(0x21f)][_0x59d72d(0x3a3)](this['instanceName']+'\x20('+this[_0x59d72d(0x18d)][_0x59d72d(0x6ff)]+_0x59d72d(0x280)),this[_0x59d72d(0x21f)][_0x59d72d(0x3a3)](this[_0x59d72d(0x56c)]+'\x20('+this[_0x59d72d(0x18d)][_0x59d72d(0x6ff)]+_0x59d72d(0x163)+{'owner':this[_0x59d72d(0x18d)][_0x59d72d(0x6ff)],'_id':_0x569eee}),(await G[_0x59d72d(0x69e)]({'owner':this[_0x59d72d(0x18d)]['wuid'],'_id':_0x569eee}))[_0x59d72d(0x5dd)]===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':_0x59d72d(0x713)};}catch(_0x2be002){throw this['logger']['error'](this[_0x59d72d(0x56c)]+'\x20('+this[_0x59d72d(0x18d)][_0x59d72d(0x6ff)]+_0x59d72d(0x5e7)+_0x2be002),new m(_0x59d72d(0x408)+_0x2be002[_0x59d72d(0x430)]);}}async[a0_0x32ece7(0x351)](_0x782689){const _0x583a7f=a0_0x32ece7;try{let {_id:_0x3b198f,chatLog:_0x4dde49,status:_0x77a765}=_0x782689;if(!_0x3b198f)return{'message':'O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.'};let _0xdaee34={};if(_0x77a765!==void 0x0&&(_0xdaee34[_0x583a7f(0x4d1)]=_0x77a765),Object[_0x583a7f(0x358)](_0xdaee34)[_0x583a7f(0x239)]===0x0)return{'message':_0x583a7f(0x339)};let _0x24524c=this[_0x583a7f(0x18d)][_0x583a7f(0x6ff)],_0x37c425=await G[_0x583a7f(0x660)]({'_id':_0x3b198f,'owner':_0x24524c},{'$set':_0xdaee34},{'new':!0x0});return _0x37c425||{'message':_0x583a7f(0x185)};}catch(_0x182450){throw this[_0x583a7f(0x21f)]['error'](this[_0x583a7f(0x56c)]+'\x20('+this[_0x583a7f(0x18d)]['wuid']+_0x583a7f(0x46b)+_0x182450),new m(_0x583a7f(0x4d0)+_0x182450['message']);}}async['editChat'](_0x5913b0){const _0x2d1ef0=a0_0x32ece7;try{_0x5913b0['id']=this['createJid'](_0x5913b0['id']);let {id:_0x39d18c,leadInfo:_0x53b405}=_0x5913b0;if(!_0x39d18c)throw new Error(_0x2d1ef0(0x6d7));let _0x2c5b69=(_0x502ea7,_0x4ca0a8,_0x49ce36)=>{const _0x132593=_0x2d1ef0;_0x49ce36[_0x132593(0x15f)](_0x134247=>{const _0x39c737=_0x132593;_0x502ea7[_0x134247]!==void 0x0&&(_0x4ca0a8[_0x39c737(0x6ba)+_0x134247]=_0x502ea7[_0x134247]);});},_0x49ab74={};if(_0x2c5b69(_0x53b405,_0x49ab74,['nome',_0x2d1ef0(0x319),'email',_0x2d1ef0(0x511),_0x2d1ef0(0x4d1),_0x2d1ef0(0x64e),_0x2d1ef0(0x3e9),_0x2d1ef0(0x1a9),_0x2d1ef0(0x295)]),Array['isArray'](_0x53b405['customFields'])&&(_0x49ab74['leadInfo.customFields']=_0x53b405['customFields'][_0x2d1ef0(0x4c2)](_0x353636=>({'_id':_0x353636[_0x2d1ef0(0x541)],'value':_0x353636['value']}))),_0x5913b0['leadInfo']['desativadoFluxoAte']!==void 0x0&&(_0x49ab74[_0x2d1ef0(0x1cb)]=Number(_0x5913b0['leadInfo'][_0x2d1ef0(0x6aa)])),_0x5913b0[_0x2d1ef0(0x519)]!==void 0x0&&(_0x49ab74[_0x2d1ef0(0x519)]=Number(_0x5913b0[_0x2d1ef0(0x519)])),Object[_0x2d1ef0(0x358)](_0x49ab74)[_0x2d1ef0(0x239)]===0x0)throw new Error(_0x2d1ef0(0x339));let _0x52fbf0=this['instance'][_0x2d1ef0(0x6ff)];if(!_0x52fbf0)throw new Error(_0x2d1ef0(0x364));if(!await I[_0x2d1ef0(0x420)]({'id':_0x5913b0['id'],'owner':_0x52fbf0})){let _0x43c957=(await this[_0x2d1ef0(0x433)]({'numbers':[_0x5913b0['id']]}))[0x0];if(!_0x43c957[_0x2d1ef0(0x51d)]&&!(0x0,w[_0x2d1ef0(0x485)])(_0x43c957['jid'])&&!_0x43c957[_0x2d1ef0(0x40e)][_0x2d1ef0(0x330)]('@broadcast'))throw new m(_0x43c957);_0x5913b0['id']=_0x43c957['jid'];}let _0x2fff58=await I['findOneAndUpdate']({'id':_0x5913b0['id'],'owner':_0x52fbf0},{'$set':_0x49ab74},{'new':!0x0,'upsert':!0x0});return _0x2fff58&&H(this[_0x2d1ef0(0x56c)],_0x2d1ef0(0x6c9),{'chat':_0x2fff58}),_0x2fff58?(this[_0x2d1ef0(0x21f)][_0x2d1ef0(0x3a3)](this[_0x2d1ef0(0x56c)]+'\x20('+this[_0x2d1ef0(0x18d)][_0x2d1ef0(0x6ff)]+_0x2d1ef0(0x4ac)+_0x2fff58),_0x2fff58):{'message':_0x2d1ef0(0x1c0)};}catch(_0x3fbfc3){throw this['logger']['error'](this[_0x2d1ef0(0x56c)]+'\x20('+this['instance'][_0x2d1ef0(0x6ff)]+'):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20'+_0x3fbfc3),new m(_0x2d1ef0(0x1b3)+_0x3fbfc3[_0x2d1ef0(0x430)]);}}async[a0_0x32ece7(0x554)](_0x2ed594){const _0x35c03f=a0_0x32ece7;let _0x120f01=this[_0x35c03f(0x18d)][_0x35c03f(0x6ff)];try{let _0x51e6a2=await ae['findById'](_0x120f01);_0x51e6a2||(_0x51e6a2=new ae({'_id':_0x120f01}),await _0x51e6a2[_0x35c03f(0x438)]());let _0x188b41=_0x2ed594['_id']?_0x51e6a2[_0x35c03f(0x625)]['findIndex'](_0x2d1e1d=>_0x2d1e1d[_0x35c03f(0x541)]===_0x2ed594[_0x35c03f(0x541)]):-0x1;if(_0x2ed594[_0x35c03f(0x6c2)]&&_0x188b41>-0x1)_0x51e6a2['agents'][_0x35c03f(0x308)](_0x188b41,0x1);else{if(_0x188b41>-0x1){let _0x55b733=_0x51e6a2[_0x35c03f(0x625)][_0x188b41];_0x2ed594['fone']&&(_0x55b733[_0x35c03f(0x3f9)]=_0x2ed594['fone']),_0x2ed594[_0x35c03f(0x1e8)]&&(_0x55b733[_0x35c03f(0x1e8)]=_0x2ed594['name']),_0x2ed594['email']&&(_0x55b733[_0x35c03f(0x686)]=_0x2ed594['email']),_0x2ed594['role']&&(_0x55b733[_0x35c03f(0x287)]=_0x2ed594['role']);}else _0x51e6a2[_0x35c03f(0x625)][_0x35c03f(0x4dc)]({'_id':_0x2ed594[_0x35c03f(0x541)]||new ye['default']['Types'][(_0x35c03f(0x2d6))]()[_0x35c03f(0x702)](),'fone':_0x2ed594[_0x35c03f(0x3f9)],'name':_0x2ed594[_0x35c03f(0x1e8)],'email':_0x2ed594[_0x35c03f(0x686)],'role':_0x2ed594[_0x35c03f(0x287)]});}let _0x5e00ef=await _0x51e6a2['save']();return this['AutomateSystem']=_0x5e00ef,this[_0x35c03f(0x21f)][_0x35c03f(0x3a3)](this[_0x35c03f(0x56c)]+'\x20('+this['instance'][_0x35c03f(0x6ff)]+_0x35c03f(0x342)),this[_0x35c03f(0x21f)]['verbose'](this[_0x35c03f(0x56c)]+'\x20('+this[_0x35c03f(0x18d)][_0x35c03f(0x6ff)]+_0x35c03f(0x4ac)+this[_0x35c03f(0x189)]),_0x5e00ef;}catch(_0x158f20){throw this[_0x35c03f(0x21f)][_0x35c03f(0x24d)](this[_0x35c03f(0x56c)]+'\x20('+this[_0x35c03f(0x18d)][_0x35c03f(0x6ff)]+_0x35c03f(0x655)+_0x158f20),new m(_0x35c03f(0x392)+_0x158f20['message']);}}async[a0_0x32ece7(0x575)](_0x5086a8){const _0x3bf026=a0_0x32ece7;let _0x431f6f=this[_0x3bf026(0x18d)]['wuid'];try{let _0xf0fac1=await ae[_0x3bf026(0x230)](_0x431f6f);_0xf0fac1||(_0xf0fac1=new ae({'_id':_0x431f6f}),await _0xf0fac1['save']());let _0x3a1273=_0x5086a8[_0x3bf026(0x541)]?_0xf0fac1[_0x3bf026(0x6f7)]['findIndex'](_0x36af5c=>_0x36af5c[_0x3bf026(0x541)]===_0x5086a8['_id']):-0x1,_0x15ac6d=!0x1,_0x103801=_0xf0fac1[_0x3bf026(0x6f7)]['some'](_0x352dfa=>_0x352dfa[_0x3bf026(0x1e3)]===_0x5086a8['order']);if(_0x5086a8[_0x3bf026(0x6c2)]&&_0x3a1273>-0x1)_0xf0fac1[_0x3bf026(0x6f7)]['splice'](_0x3a1273,0x1),_0x15ac6d=!0x0;else{if(_0x3a1273>-0x1){if(_0xf0fac1[_0x3bf026(0x6f7)][_0x3bf026(0x5d4)](_0x58f636=>_0x58f636[_0x3bf026(0x1e8)]===_0x5086a8[_0x3bf026(0x1e8)]&&_0x58f636[_0x3bf026(0x541)]!==_0x5086a8[_0x3bf026(0x541)]))throw new Error(_0x3bf026(0x259));let _0x3461d1=_0xf0fac1[_0x3bf026(0x6f7)][_0x3a1273];_0x5086a8[_0x3bf026(0x1e3)]&&(_0x103801||!Number['isInteger'](_0x5086a8[_0x3bf026(0x1e3)]))&&(_0x3461d1['order']=_0x5086a8[_0x3bf026(0x1e3)],_0x15ac6d=!0x0),_0x5086a8[_0x3bf026(0x1e8)]&&(_0x3461d1[_0x3bf026(0x1e8)]=_0x5086a8[_0x3bf026(0x1e8)]);}else{if(_0xf0fac1['customFields'][_0x3bf026(0x5d4)](_0x217210=>_0x217210['name']===_0x5086a8['name']&&_0x217210[_0x3bf026(0x541)]!==_0x5086a8[_0x3bf026(0x541)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0xf0fac1[_0x3bf026(0x6f7)]['push']({'_id':_0x5086a8[_0x3bf026(0x541)]||new ye[(_0x3bf026(0x490))][(_0x3bf026(0x645))][(_0x3bf026(0x2d6))]()[_0x3bf026(0x702)](),'order':_0x5086a8[_0x3bf026(0x1e3)],'name':_0x5086a8['name']}),_0x15ac6d=!0x0;}}if(_0x15ac6d){_0xf0fac1['customFields'][_0x3bf026(0x39c)]((_0x429a05,_0x4254fd)=>_0x429a05[_0x3bf026(0x1e3)]>_0x4254fd[_0x3bf026(0x1e3)]?0x1:_0x4254fd['order']>_0x429a05[_0x3bf026(0x1e3)]?-0x1:0x0);for(let _0x1aef1e=0x0;_0x1aef1e<_0xf0fac1['customFields'][_0x3bf026(0x239)];_0x1aef1e++)_0xf0fac1[_0x3bf026(0x6f7)][_0x1aef1e][_0x3bf026(0x1e3)]=_0x1aef1e+0x1;}let _0x564e16=await _0xf0fac1[_0x3bf026(0x438)]();return this[_0x3bf026(0x189)]=_0x564e16,this[_0x3bf026(0x21f)][_0x3bf026(0x3a3)](this[_0x3bf026(0x56c)]+'\x20('+this[_0x3bf026(0x18d)]['wuid']+_0x3bf026(0x19c)),this[_0x3bf026(0x21f)]['verbose'](this[_0x3bf026(0x56c)]+'\x20('+this[_0x3bf026(0x18d)][_0x3bf026(0x6ff)]+'):\x20'+this['AutomateSystem']),_0x564e16;}catch(_0x2afe23){throw this[_0x3bf026(0x21f)][_0x3bf026(0x24d)](this[_0x3bf026(0x56c)]+'\x20('+this[_0x3bf026(0x18d)][_0x3bf026(0x6ff)]+_0x3bf026(0x65b)+_0x2afe23),new m('Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+_0x2afe23[_0x3bf026(0x430)]);}}async[a0_0x32ece7(0x201)](_0x3c0a51){const _0x2081cf=a0_0x32ece7;let _0x23fa36=this['instance'][_0x2081cf(0x6ff)];try{let _0x259d28=await ae[_0x2081cf(0x230)](_0x23fa36);_0x259d28||(_0x259d28=new ae({'_id':_0x23fa36}),await _0x259d28[_0x2081cf(0x438)]()),_0x259d28[_0x2081cf(0x483)][_0x2081cf(0x2bf)]=_0x3c0a51?.['enabled']!==void 0x0?_0x3c0a51?.[_0x2081cf(0x2bf)]:_0x259d28['flowConfig'][_0x2081cf(0x2bf)],_0x259d28[_0x2081cf(0x483)]['ignoreGroups']=_0x3c0a51?.[_0x2081cf(0x1e0)]!==void 0x0?_0x3c0a51?.[_0x2081cf(0x1e0)]:_0x259d28[_0x2081cf(0x483)][_0x2081cf(0x1e0)],_0x259d28['flowConfig'][_0x2081cf(0x498)]=_0x3c0a51?.[_0x2081cf(0x498)]??_0x259d28['flowConfig'][_0x2081cf(0x498)],_0x259d28['flowConfig'][_0x2081cf(0x415)]=_0x3c0a51?.['stopConversation']??_0x259d28[_0x2081cf(0x483)][_0x2081cf(0x415)],_0x259d28[_0x2081cf(0x483)][_0x2081cf(0x38e)]=_0x3c0a51?.['stopMinutes']??_0x259d28[_0x2081cf(0x483)][_0x2081cf(0x38e)];let _0x365034=await _0x259d28[_0x2081cf(0x438)]();return this[_0x2081cf(0x189)]=_0x365034,this[_0x2081cf(0x21f)][_0x2081cf(0x3a3)](this[_0x2081cf(0x56c)]+'\x20('+this[_0x2081cf(0x18d)][_0x2081cf(0x6ff)]+_0x2081cf(0x342)),this[_0x2081cf(0x21f)][_0x2081cf(0x3a3)](this[_0x2081cf(0x56c)]+'\x20('+this[_0x2081cf(0x18d)][_0x2081cf(0x6ff)]+_0x2081cf(0x4ac)+this[_0x2081cf(0x189)]),_0x365034;}catch(_0x44d91a){throw this[_0x2081cf(0x21f)][_0x2081cf(0x24d)](this['instanceName']+'\x20('+this[_0x2081cf(0x18d)][_0x2081cf(0x6ff)]+_0x2081cf(0x655)+_0x44d91a),new m(_0x2081cf(0x392)+_0x44d91a['message']);}}async['getAutomateSystem'](){const _0x574098=a0_0x32ece7;let _0x23618e=this[_0x574098(0x18d)][_0x574098(0x6ff)];try{let _0x150bf5=await ae['findById'](_0x23618e);return _0x150bf5||(_0x150bf5=new ae({'_id':_0x23618e})),_0x150bf5[_0x574098(0x483)]=_0x150bf5['flowConfig']||{},_0x150bf5[_0x574098(0x483)]['enabled']===void 0x0&&(_0x150bf5[_0x574098(0x483)][_0x574098(0x2bf)]=!0x1),_0x150bf5[_0x574098(0x483)][_0x574098(0x1e0)]===void 0x0&&(_0x150bf5['flowConfig'][_0x574098(0x1e0)]=!0x0),_0x150bf5[_0x574098(0x483)]['prefixCommand']===void 0x0&&(_0x150bf5[_0x574098(0x483)][_0x574098(0x498)]='!'),_0x150bf5[_0x574098(0x483)]['stopConversation']===void 0x0&&(_0x150bf5[_0x574098(0x483)]['stopConversation']='!stop'),_0x150bf5['flowConfig'][_0x574098(0x38e)]===void 0x0&&(_0x150bf5['flowConfig'][_0x574098(0x38e)]=0x14),await _0x150bf5[_0x574098(0x438)](),this[_0x574098(0x189)]=_0x150bf5,this[_0x574098(0x21f)][_0x574098(0x3a3)](this[_0x574098(0x56c)]+'\x20('+this[_0x574098(0x18d)][_0x574098(0x6ff)]+_0x574098(0x327)),this[_0x574098(0x21f)][_0x574098(0x3a3)](this[_0x574098(0x189)]),_0x150bf5;}catch(_0x4ef975){throw this[_0x574098(0x21f)][_0x574098(0x24d)](this[_0x574098(0x56c)]+'\x20('+this[_0x574098(0x18d)][_0x574098(0x6ff)]+_0x574098(0x477)+_0x4ef975[_0x574098(0x430)]),new m(_0x574098(0x30d)+_0x4ef975[_0x574098(0x430)]);}}async[a0_0x32ece7(0x2ec)](){const _0x44852e=a0_0x32ece7;let _0x3fe57e=()=>{const _0x544b3f=a0_0x1b9c;this[_0x544b3f(0x21f)]['verbose'](this['instanceName']+'\x20('+this[_0x544b3f(0x18d)][_0x544b3f(0x6ff)]+_0x544b3f(0x3f1)+this[_0x544b3f(0x544)]+_0x544b3f(0x2fb));},_0x520006=async()=>{const _0x49eb3c=a0_0x1b9c;this[_0x49eb3c(0x21f)][_0x49eb3c(0x3a3)](this['instanceName']+'\x20('+this[_0x49eb3c(0x18d)]['wuid']+_0x49eb3c(0x252));let _0x438266=Date[_0x49eb3c(0x332)]()-0xc*0x3c*0x3c*0x3e8;return await k[_0x49eb3c(0x1dd)]({'owner':this[_0x49eb3c(0x18d)][_0x49eb3c(0x6ff)],'status':{'$in':['scheduled',_0x49eb3c(0x224)]},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x438266}},{'when':0x0}]});},_0x28f30d=async _0x47d42b=>{const _0x4e1811=a0_0x1b9c;for(let _0x4c2fd8 of _0x47d42b){if(!await k[_0x4e1811(0x660)]({'_id':_0x4c2fd8[_0x4e1811(0x541)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x4e1811(0x332)]()-0x1770}}]},{'$set':{'startSend':Date[_0x4e1811(0x332)]()}}))return;if(!this['isConnected']){this['logger'][_0x4e1811(0x3a3)](this['instanceName']+'\x20('+this[_0x4e1811(0x18d)][_0x4e1811(0x6ff)]+_0x4e1811(0x55f));break;}(!_0x4c2fd8[_0x4e1811(0x4b1)]||_0x4c2fd8[_0x4e1811(0x4b1)][_0x4e1811(0x239)]===0x0)&&(_0x4c2fd8=await k[_0x4e1811(0x386)](_0x4c2fd8[_0x4e1811(0x541)],{'$set':{'status':'sending','remoteJidsRemaining':[..._0x4c2fd8[_0x4e1811(0x2d2)]]}},{'new':!0x0}));for(let _0x2f7236 of _0x4c2fd8[_0x4e1811(0x4b1)]){if(this['lastSend']=Date[_0x4e1811(0x332)](),_0x4c2fd8['messagesSend'][_0x4e1811(0x5d4)](_0x2f9f4b=>_0x2f9f4b['remoteJid']===_0x2f7236)){this['logger'][_0x4e1811(0x3a3)](this[_0x4e1811(0x56c)]+'\x20('+this[_0x4e1811(0x18d)]['wuid']+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x2f7236+_0x4e1811(0x670));continue;}try{let _0x4ca3a0=await this[_0x4e1811(0x380)](_0x2f7236,_0x4c2fd8),_0x549303={'remoteJid':_0x2f7236,'error':_0x4ca3a0['error'],'id':_0x4ca3a0['id']||null,'error_log':_0x4ca3a0[_0x4e1811(0x4be)]||null,'log_timestamp':Date['now']()};if((await k[_0x4e1811(0x386)](_0x4c2fd8[_0x4e1811(0x541)],{'$push':{'messagesSend':_0x549303},'$pull':{'remoteJidsRemaining':_0x2f7236}},{'new':!0x0}))[_0x4e1811(0x4d1)]==='stopped'){this[_0x4e1811(0x21f)][_0x4e1811(0x3a3)](this[_0x4e1811(0x56c)]+'\x20('+this['instance'][_0x4e1811(0x6ff)]+_0x4e1811(0x479)+_0x4c2fd8[_0x4e1811(0x541)]+_0x4e1811(0x5f1));break;}if(!this[_0x4e1811(0x5ed)]){this[_0x4e1811(0x21f)][_0x4e1811(0x3a3)](this[_0x4e1811(0x56c)]+'\x20('+this[_0x4e1811(0x18d)][_0x4e1811(0x6ff)]+_0x4e1811(0x16d));break;}if(!this['processingScheduleMessageId']){this[_0x4e1811(0x21f)]['verbose'](this['instanceName']+'\x20('+this[_0x4e1811(0x18d)][_0x4e1811(0x6ff)]+_0x4e1811(0x479)+_0x4c2fd8[_0x4e1811(0x541)]+_0x4e1811(0x5e8));break;}let _0x5b08e0=this[_0x4e1811(0x178)](_0x4c2fd8[_0x4e1811(0x2b9)],_0x4c2fd8[_0x4e1811(0x2b5)]);await this[_0x4e1811(0x6a2)](_0x5b08e0);}catch(_0x396ace){this['logger'][_0x4e1811(0x24d)](this['instanceName']+'\x20('+this[_0x4e1811(0x18d)][_0x4e1811(0x6ff)]+_0x4e1811(0x37f)+_0x2f7236+':\x20'+_0x396ace[_0x4e1811(0x430)]);let _0x4482df={'remoteJid':_0x2f7236,'status':'error','timestamp':Date[_0x4e1811(0x332)](),'error':_0x396ace[_0x4e1811(0x430)]};await k[_0x4e1811(0x386)](_0x4c2fd8[_0x4e1811(0x541)],{'$push':{'messagesSend':_0x4482df},'$pull':{'remoteJidsRemaining':_0x2f7236}},{'new':!0x0});}}let _0x1ef609=await k[_0x4e1811(0x230)](_0x4c2fd8[_0x4e1811(0x541)]);_0x1ef609['remoteJidsRemaining'][_0x4e1811(0x239)]===0x0&&_0x1ef609[_0x4e1811(0x4d1)]!==_0x4e1811(0x5bb)&&await k[_0x4e1811(0x386)](_0x4c2fd8['_id'],{'$set':{'status':'done'}},{'new':!0x0}),await new Promise(_0x30c4a7=>setTimeout(_0x30c4a7,0x1388));}},_0x42b677=async()=>{const _0x58bc1a=a0_0x1b9c;let _0x4860a1=await k[_0x58bc1a(0x420)]({'owner':this['instance'][_0x58bc1a(0x6ff)],'status':'scheduled','when':{'$gt':Date[_0x58bc1a(0x332)]()}})[_0x58bc1a(0x39c)]({'when':0x1});_0x4860a1&&_0x4860a1[_0x58bc1a(0x474)]-Date[_0x58bc1a(0x332)]()<=0x5265c00?this[_0x58bc1a(0x387)]=_0x4860a1[_0x58bc1a(0x474)]-Date['now']():this[_0x58bc1a(0x387)]=(0x3c+Math[_0x58bc1a(0x5b8)](Math[_0x58bc1a(0x436)]()*0x3c))*0x3c*0x3e8,this[_0x58bc1a(0x387)]=Math[_0x58bc1a(0x39e)](this[_0x58bc1a(0x387)],0x7d0);let _0x5b2034=Math[_0x58bc1a(0x34a)](this[_0x58bc1a(0x387)]/0xea60);if(_0x4860a1){let _0x4d9ffd=new Date(_0x4860a1['when'])[_0x58bc1a(0x14c)]();this[_0x58bc1a(0x21f)][_0x58bc1a(0x3a3)](this[_0x58bc1a(0x56c)]+'\x20('+this[_0x58bc1a(0x18d)][_0x58bc1a(0x6ff)]+_0x58bc1a(0x603)+_0x4d9ffd+_0x58bc1a(0x5ca)+_0x5b2034+_0x58bc1a(0x33e));}else this[_0x58bc1a(0x21f)][_0x58bc1a(0x3a3)](this[_0x58bc1a(0x56c)]+'\x20('+this[_0x58bc1a(0x18d)][_0x58bc1a(0x6ff)]+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x5b2034+_0x58bc1a(0x33e));setTimeout(()=>this[_0x58bc1a(0x2ec)](),this[_0x58bc1a(0x387)]);};if(this[_0x44852e(0x544)]&&Date[_0x44852e(0x332)]()-this[_0x44852e(0x4a4)]<0x1d4c0){_0x3fe57e();return;}try{let _0x598d6f=await _0x520006();_0x598d6f[_0x44852e(0x239)]===0x0?this[_0x44852e(0x21f)]['verbose'](this[_0x44852e(0x56c)]+'\x20('+this[_0x44852e(0x18d)][_0x44852e(0x6ff)]+_0x44852e(0x491)):(this[_0x44852e(0x544)]=_0x598d6f[0x0][_0x44852e(0x541)],await _0x28f30d(_0x598d6f)),await _0x42b677(),this[_0x44852e(0x544)]=null;}catch(_0x109c3d){this[_0x44852e(0x21f)][_0x44852e(0x24d)]('Error\x20in\x20scheduleNextCheck:\x20'+_0x109c3d[_0x44852e(0x430)]);}}['getDelay'](_0x48edf9,_0x4b0969){const _0x239647=a0_0x32ece7;return _0x48edf9=Math['max'](0.5,_0x48edf9),_0x4b0969=Math[_0x239647(0x39e)](0x3,_0x4b0969),Math[_0x239647(0x5b8)](Math[_0x239647(0x436)]()*(_0x4b0969-_0x48edf9+0x1)+_0x48edf9)*0x3e8;}[a0_0x32ece7(0x6a2)](_0x556951){return new Promise(_0x34ade8=>setTimeout(_0x34ade8,_0x556951));}async['getVariablesChat'](_0x54e1f7){const _0x571653=a0_0x32ece7;if(!this[_0x571653(0x189)]&&(await this[_0x571653(0x3d6)](),!this[_0x571653(0x189)]))return null;_0x54e1f7=this[_0x571653(0x1db)](_0x54e1f7);let _0x3351f2=await I[_0x571653(0x420)]({'id':_0x54e1f7,'owner':this[_0x571653(0x18d)]['wuid']}),_0x482dc7={};if(_0x3351f2&&_0x3351f2['leadInfo']){let _0x4c1a53=_0x3351f2[_0x571653(0x5b5)];typeof _0x4c1a53['nome']==_0x571653(0x6e9)&&(_0x482dc7[_0x571653(0x1bb)]=_0x4c1a53['nome']),typeof _0x4c1a53[_0x571653(0x319)]==_0x571653(0x6e9)&&(_0x482dc7['nomecompleto']=_0x4c1a53[_0x571653(0x319)]),typeof _0x4c1a53[_0x571653(0x686)]==_0x571653(0x6e9)&&(_0x482dc7['email']=_0x4c1a53['email']),typeof _0x4c1a53[_0x571653(0x511)]==_0x571653(0x6e9)&&(_0x482dc7['cpf']=_0x4c1a53[_0x571653(0x511)]),typeof _0x4c1a53[_0x571653(0x4d1)]==_0x571653(0x6e9)&&(_0x482dc7['status']=_0x4c1a53['status']),typeof _0x4c1a53[_0x571653(0x64e)]==_0x571653(0x6e9)&&(_0x482dc7[_0x571653(0x64e)]=_0x4c1a53[_0x571653(0x64e)]),typeof _0x4c1a53['responsavelid']==_0x571653(0x6e9)&&(_0x482dc7[_0x571653(0x295)]=_0x4c1a53[_0x571653(0x295)]),Array[_0x571653(0x3c6)](_0x4c1a53[_0x571653(0x3e9)])&&(_0x482dc7[_0x571653(0x3e9)]=_0x4c1a53[_0x571653(0x3e9)]['join'](',\x20'));}return _0x3351f2&&_0x3351f2[_0x571653(0x5b5)]&&_0x3351f2[_0x571653(0x5b5)]['customFields']&&_0x3351f2[_0x571653(0x5b5)][_0x571653(0x6f7)]['forEach'](_0x386cbc=>{const _0x228cc5=_0x571653;let _0x44cddc=this[_0x228cc5(0x189)][_0x228cc5(0x6f7)][_0x228cc5(0x1dd)](_0x33f3e6=>_0x33f3e6[_0x228cc5(0x541)]===_0x386cbc['_id']);_0x44cddc&&(_0x482dc7[_0x44cddc[_0x228cc5(0x1e8)]]=_0x386cbc['value']);}),_0x482dc7;}async['replaceVariablesChat'](_0x31978d,_0x7274a9){const _0x286ff8=a0_0x32ece7;let _0x5f27c6=await this[_0x286ff8(0x6f0)](_0x7274a9);return this[_0x286ff8(0x5b2)](_0x31978d,_0x5f27c6);}async[a0_0x32ece7(0x16c)](_0x613786){const _0x115267=a0_0x32ece7;try{if(this['logger'][_0x115267(0x3a3)](this[_0x115267(0x56c)]+'\x20('+this[_0x115267(0x18d)][_0x115267(0x6ff)]+_0x115267(0x6ac)),_0x613786['delete']&&_0x613786[_0x115267(0x541)]){if(this[_0x115267(0x544)]===_0x613786[_0x115267(0x541)][_0x115267(0x702)]())throw new Error('Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20atualmente\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar');let _0x155d57=await k['findByIdAndDelete'](_0x613786[_0x115267(0x541)]);return setTimeout(()=>this[_0x115267(0x2ec)](),0x7d0),_0x155d57;}let _0x2fbfaa;if(_0x613786[_0x115267(0x541)]&&(_0x2fbfaa=await k['findOne']({'owner':this[_0x115267(0x18d)][_0x115267(0x6ff)],'_id':_0x613786[_0x115267(0x541)]})),_0x2fbfaa){let _0x57bb52=_0x613786;this[_0x115267(0x544)]===_0x2fbfaa['_id'][_0x115267(0x702)]()&&(_0x57bb52={'status':_0x613786[_0x115267(0x4d1)],'_id':_0x613786['_id']});let _0x31a997=await k[_0x115267(0x386)](_0x2fbfaa[_0x115267(0x541)],{'$set':_0x57bb52},{'new':!0x0});return setTimeout(()=>this[_0x115267(0x2ec)](),0x7d0),_0x31a997;}else{_0x613786['owner']=this[_0x115267(0x18d)][_0x115267(0x6ff)];let _0x5cd8c2=await new k(_0x613786)[_0x115267(0x438)]();return setTimeout(()=>this[_0x115267(0x2ec)](),0x7d0),_0x5cd8c2;}}catch(_0x1a56a5){throw this[_0x115267(0x21f)][_0x115267(0x24d)](this[_0x115267(0x56c)]+'\x20('+this[_0x115267(0x18d)][_0x115267(0x6ff)]+_0x115267(0x4af)+_0x1a56a5),new m(_0x115267(0x70e)+_0x1a56a5[_0x115267(0x430)]);}}async[a0_0x32ece7(0x6e2)](){const _0x7822dd=a0_0x32ece7;try{return await k[_0x7822dd(0x1dd)]({'owner':this[_0x7822dd(0x18d)][_0x7822dd(0x6ff)]})[_0x7822dd(0x39c)]({'when':0x1});}catch(_0xb01a91){throw this['logger']['error'](this[_0x7822dd(0x56c)]+'\x20('+this[_0x7822dd(0x18d)][_0x7822dd(0x6ff)]+_0x7822dd(0x58f)+_0xb01a91),new m(_0x7822dd(0x70e)+_0xb01a91[_0x7822dd(0x430)]);}}async[a0_0x32ece7(0x5a4)](){const _0x534f15=a0_0x32ece7;try{return await k[_0x534f15(0x6ee)]({'owner':this['instance'][_0x534f15(0x6ff)],'status':_0x534f15(0x552)}),this[_0x534f15(0x21f)]['verbose'](this['instanceName']+'\x20('+this[_0x534f15(0x18d)][_0x534f15(0x6ff)]+'):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.'),this[_0x534f15(0x6e2)]();}catch(_0x5a3ac6){throw this['logger'][_0x534f15(0x24d)](this[_0x534f15(0x56c)]+'\x20('+this[_0x534f15(0x18d)][_0x534f15(0x6ff)]+_0x534f15(0x4d7)+_0x5a3ac6),new m(_0x534f15(0x70e)+_0x5a3ac6[_0x534f15(0x430)]);}}async[a0_0x32ece7(0x380)](_0x4694a0,_0x4ce3a9){const _0x21ed59=a0_0x32ece7;try{switch(_0x4ce3a9['type']){case'text':return await this[_0x21ed59(0x687)](_0x4ce3a9,_0x4694a0);case _0x21ed59(0x211):return await this[_0x21ed59(0x164)](_0x4ce3a9,_0x4694a0);case _0x21ed59(0x36c):return await this[_0x21ed59(0x2ae)](_0x4ce3a9,_0x4694a0);default:return this[_0x21ed59(0x21f)][_0x21ed59(0x24d)](this['instanceName']+'\x20('+this[_0x21ed59(0x18d)]['wuid']+'):\x20Comando\x20desconhecido:\x20'+_0x4ce3a9[_0x21ed59(0x17d)]),{'status':_0x21ed59(0x24d),'detail':_0x21ed59(0x683)};}}catch(_0x52dc54){return this['logger']['error'](this[_0x21ed59(0x56c)]+'\x20('+this[_0x21ed59(0x18d)][_0x21ed59(0x6ff)]+_0x21ed59(0x237)+_0x52dc54),{'status':_0x21ed59(0x24d),'detail':_0x52dc54['message']};}}['getRandomText'](_0x451385){const _0x31cb30=a0_0x32ece7;let _0x1920f1=_0x451385['split']('|'),_0x271ed4=Math[_0x31cb30(0x5b8)](Math[_0x31cb30(0x436)]()*_0x1920f1[_0x31cb30(0x239)]);return _0x1920f1[_0x271ed4][_0x31cb30(0x3ba)]();}async['scheduleSendText'](_0x5794b,_0x28f16d){const _0x4dd156=a0_0x32ece7;if(this[_0x4dd156(0x21f)]['verbose'](this[_0x4dd156(0x56c)]+'\x20('+this['instance'][_0x4dd156(0x6ff)]+_0x4dd156(0x317)),!_0x5794b[_0x4dd156(0x430)][_0x4dd156(0x70c)]||_0x5794b[_0x4dd156(0x430)][_0x4dd156(0x70c)][_0x4dd156(0x239)]===0x0)return{'error':!0x0,'error_log':'sem\x20texto\x20na\x20mensagem'};let _0x2dbbde=this[_0x4dd156(0x5ef)](_0x5794b['message']['text']),_0x26070b=await this[_0x4dd156(0x1d0)](_0x2dbbde,_0x28f16d),_0x1711c1={'number':_0x28f16d,'options':{'delay':_0x5794b['message'][_0x4dd156(0x38f)]},'textMessage':{'text':_0x26070b}},_0x138407=null;try{let _0x592c64=await this[_0x4dd156(0x622)](_0x1711c1);if(_0x592c64&&_0x592c64[_0x4dd156(0x4d1)])return{'error':!0x1,'id':_0x592c64[_0x4dd156(0x557)]['id']};_0x138407=JSON[_0x4dd156(0x61e)](_0x592c64),this[_0x4dd156(0x21f)][_0x4dd156(0x3a3)](this[_0x4dd156(0x56c)]+'\x20('+this['instance']['wuid']+_0x4dd156(0x4ac)+_0x138407);}catch(_0x4b5466){this['logger'][_0x4dd156(0x24d)](this['instanceName']+'\x20('+this['instance'][_0x4dd156(0x6ff)]+_0x4dd156(0x184)+_0x4b5466),_0x138407=_0x4b5466[_0x4dd156(0x430)];}if(_0x138407)return{'error':!0x0,'error_log':(typeof _0x138407=='object'?JSON['stringify'](_0x138407,null,0x2):_0x138407)[_0x4dd156(0x466)](/[\[\]{}\n]/g,'\x20')[_0x4dd156(0x466)](/  +/g,'\x20')};}async[a0_0x32ece7(0x164)](_0x2f55c,_0x2a5b06){const _0x5db3a8=a0_0x32ece7;this['logger'][_0x5db3a8(0x3a3)](this['instanceName']+'\x20('+this[_0x5db3a8(0x18d)]['wuid']+'):\x20Enviando\x20mídia');let _0x2864f4;if(_0x2f55c[_0x5db3a8(0x430)]['text']&&_0x2f55c[_0x5db3a8(0x430)][_0x5db3a8(0x70c)]['length']>0x0){let _0x2fc0bc=this[_0x5db3a8(0x5ef)](_0x2f55c['message'][_0x5db3a8(0x70c)]);_0x2864f4=await this[_0x5db3a8(0x1d0)](_0x2fc0bc,_0x2a5b06);}let _0x184531={'number':_0x2a5b06,'options':{'delay':_0x2f55c[_0x5db3a8(0x430)][_0x5db3a8(0x38f)]},'mediaMessage':{'mediatype':_0x2f55c['message']['mediatype'],'caption':_0x2864f4,'media':_0x2f55c[_0x5db3a8(0x430)][_0x5db3a8(0x40b)]}},_0x83f27d=null;try{let _0x56b4a1=await this[_0x5db3a8(0x602)](_0x184531);if(_0x56b4a1&&_0x56b4a1[_0x5db3a8(0x4d1)])return{'error':!0x1,'id':_0x56b4a1['key']['id']};_0x83f27d=JSON[_0x5db3a8(0x61e)](_0x56b4a1),this[_0x5db3a8(0x21f)]['verbose'](this['instanceName']+'\x20('+this[_0x5db3a8(0x18d)][_0x5db3a8(0x6ff)]+_0x5db3a8(0x4ac)+_0x83f27d);}catch(_0x347edc){this[_0x5db3a8(0x21f)][_0x5db3a8(0x24d)](this['instanceName']+'\x20('+this['instance'][_0x5db3a8(0x6ff)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:'+_0x347edc[_0x5db3a8(0x430)]),_0x83f27d=_0x347edc[_0x5db3a8(0x430)];}if(_0x83f27d)return{'error':!0x0,'error_log':(typeof _0x83f27d==_0x5db3a8(0x171)?JSON[_0x5db3a8(0x61e)](_0x83f27d,null,0x2):_0x83f27d)['replace'](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async['scheduleSendAudio'](_0x15dcba,_0x300cb5){const _0x2d0f8c=a0_0x32ece7;this[_0x2d0f8c(0x21f)][_0x2d0f8c(0x3a3)](this[_0x2d0f8c(0x56c)]+'\x20('+this['instance']['wuid']+_0x2d0f8c(0x604));let _0x59352b={'number':_0x300cb5,'options':{'delay':_0x15dcba[_0x2d0f8c(0x430)]['delay']},'audioMessage':{'audio':_0x15dcba[_0x2d0f8c(0x430)][_0x2d0f8c(0x40b)]}},_0x4efe37=null;try{let _0x58288=await this['audioWhatsapp'](_0x59352b);if(_0x58288&&_0x58288[_0x2d0f8c(0x4d1)])return{'error':!0x1,'id':_0x58288[_0x2d0f8c(0x557)]['id']};_0x4efe37=JSON[_0x2d0f8c(0x61e)](_0x58288),this[_0x2d0f8c(0x21f)][_0x2d0f8c(0x3a3)](this[_0x2d0f8c(0x56c)]+'\x20('+this[_0x2d0f8c(0x18d)][_0x2d0f8c(0x6ff)]+_0x2d0f8c(0x4ac)+_0x4efe37);}catch(_0x11a90d){this[_0x2d0f8c(0x21f)]['error'](this[_0x2d0f8c(0x56c)]+'\x20('+this[_0x2d0f8c(0x18d)][_0x2d0f8c(0x6ff)]+_0x2d0f8c(0x5d3)+_0x11a90d),_0x4efe37=_0x11a90d[_0x2d0f8c(0x430)];}if(_0x4efe37)return{'error':!0x0,'error_log':(typeof _0x4efe37=='object'?JSON['stringify'](_0x4efe37,null,0x2):_0x4efe37)[_0x2d0f8c(0x466)](/[\[\]{}\n]/g,'\x20')[_0x2d0f8c(0x466)](/  +/g,'\x20')};}},Ee=require(a0_0x32ece7(0x533)),kt=class c{constructor(_0x58d9ef,_0xe4cfea,_0x5e5051){const _0x15cdd3=a0_0x32ece7;this['eventEmitter']=_0x58d9ef,this['configService']=_0xe4cfea,this[_0x15cdd3(0x5d8)]=_0x5e5051,this['db']={},this[_0x15cdd3(0x38c)]={},this[_0x15cdd3(0x21f)]=new C(c[_0x15cdd3(0x1e8)]),this[_0x15cdd3(0x3fd)]={},(this[_0x15cdd3(0x3f8)](),this[_0x15cdd3(0x2a8)](),this[_0x15cdd3(0x273)](),Object['assign'](this['db'],_0xe4cfea[_0x15cdd3(0x5de)](_0x15cdd3(0x52d))),Object[_0x15cdd3(0x6a6)](this[_0x15cdd3(0x38c)],_0xe4cfea[_0x15cdd3(0x5de)](_0x15cdd3(0x25f))),this['dbInstance']=this['db']['ENABLED']?this[_0x15cdd3(0x5d8)][_0x15cdd3(0x648)]?.['db'](this['db'][_0x15cdd3(0x218)][_0x15cdd3(0x4d6)]+'-instances'):void 0x0,this[_0x15cdd3(0x590)]=this[_0x15cdd3(0x38c)]['ENABLED']?new we(this[_0x15cdd3(0x38c)]):void 0x0);}[a0_0x32ece7(0x46e)](_0x334cc3){const _0x166b6d=a0_0x32ece7;let _0x1d58ee=this[_0x166b6d(0x1f7)][_0x166b6d(0x5de)]('DEL_INSTANCE');typeof _0x1d58ee==_0x166b6d(0x17b)&&_0x1d58ee>0x0&&setTimeout(()=>{const _0x25f111=_0x166b6d;this[_0x25f111(0x3fd)][_0x334cc3]?.[_0x25f111(0x174)]?.[_0x25f111(0x6c1)]!==_0x25f111(0x314)&&delete this[_0x25f111(0x3fd)][_0x334cc3];},0x3e8*0x3c*_0x1d58ee);}async['instanceInfo'](_0x238cb3){const _0xb12f7c=a0_0x32ece7;if(_0x238cb3&&!this[_0xb12f7c(0x3fd)][_0x238cb3])throw new L(_0xb12f7c(0x1ad)+_0x238cb3+_0xb12f7c(0x371));let _0x6c35d9=[];for await(let [_0x3a7729,_0x88a3f9]of Object[_0xb12f7c(0x468)](this[_0xb12f7c(0x3fd)]))if(_0x88a3f9&&_0x88a3f9['connectionStatus']['state']===_0xb12f7c(0x314)){let _0x270ca7=await this[_0xb12f7c(0x5d8)][_0xb12f7c(0x1b6)][_0xb12f7c(0x1dd)](_0x3a7729);_0x6c35d9[_0xb12f7c(0x4dc)]({'instance':{'instanceName':_0x3a7729,'apikey':_0x270ca7['apikey'],'owner':_0x88a3f9[_0xb12f7c(0x6ff)],'profileName':await _0x88a3f9[_0xb12f7c(0x2e5)]()||'not\x20loaded','profilePictureUrl':_0x88a3f9['profilePictureUrl']}});}return _0x6c35d9[_0xb12f7c(0x1dd)](_0x341b10=>_0x341b10['instance'][_0xb12f7c(0x56c)]===_0x238cb3)??_0x6c35d9;}[a0_0x32ece7(0x273)](){setInterval(async()=>{const _0x2a1d47=a0_0x1b9c;if(this['db']['ENABLED'])(await this[_0x2a1d47(0x61c)][_0x2a1d47(0x635)]())['forEach'](async _0x2e00e4=>{const _0x49ce71=_0x2a1d47;let _0x38e503=_0x2e00e4[_0x49ce71(0x2ab)]['replace'](/^[\w-]+./,'');await this['dbInstance'][_0x49ce71(0x2f0)](_0x38e503)[_0x49ce71(0x6ee)]({'$or':[{'_id':{'$regex':/^app.state.*/}},{'_id':{'$regex':/^session-.*/}}]});});else{let _0x280757=(0x0,ee['opendirSync'])(V,{'encoding':_0x2a1d47(0x27e)});for await(let _0xb78308 of _0x280757)_0xb78308[_0x2a1d47(0x3b0)]()&&(0x0,ee[_0x2a1d47(0x303)])((0x0,Ee[_0x2a1d47(0x2c3)])(V,_0xb78308[_0x2a1d47(0x1e8)]),{'encoding':_0x2a1d47(0x27e)})[_0x2a1d47(0x15f)](async _0xe0d8af=>{const _0x3c9d40=_0x2a1d47;(_0xe0d8af[_0x3c9d40(0x4b4)](/^app.state.*/)||_0xe0d8af[_0x3c9d40(0x4b4)](/^session-.*/))&&(0x0,ee[_0x3c9d40(0x647)])((0x0,Ee['join'])(V,_0xb78308[_0x3c9d40(0x1e8)],_0xe0d8af),{'recursive':!0x0,'force':!0x0});});}},0xe10*0x3e8*0x2);}async[a0_0x32ece7(0x5b6)](_0x353806){const _0xfa83ba=a0_0x32ece7;this['db'][_0xfa83ba(0x61d)]&&(await this[_0xfa83ba(0x5d8)][_0xfa83ba(0x648)][_0xfa83ba(0x4fa)](),(await this[_0xfa83ba(0x61c)]['collections']())[_0xfa83ba(0x239)]>0x0&&await this[_0xfa83ba(0x61c)][_0xfa83ba(0x68b)](_0x353806)),this['redis'][_0xfa83ba(0x61d)]&&(this['redisCache'][_0xfa83ba(0x278)]=_0x353806,await this['redisCache'][_0xfa83ba(0x412)]()),!this['db'][_0xfa83ba(0x61d)]&&!this[_0xfa83ba(0x38c)][_0xfa83ba(0x61d)]&&(0x0,ee[_0xfa83ba(0x647)])((0x0,Ee[_0xfa83ba(0x2c3)])(V,_0x353806),{'recursive':!0x0,'force':!0x0});}async[a0_0x32ece7(0x1f4)](){const _0x2004b7=a0_0x32ece7;let _0x4f6245=async _0x291136=>{const _0x5a3ecc=a0_0x1b9c;let _0x1ba661=new be(this[_0x5a3ecc(0x1f7)],this[_0x5a3ecc(0x62a)],this[_0x5a3ecc(0x5d8)]);_0x1ba661[_0x5a3ecc(0x56c)]=_0x291136,await _0x1ba661['connectToWhatsapp'](),this['waInstances'][_0x291136]=_0x1ba661;};try{if(this[_0x2004b7(0x38c)][_0x2004b7(0x61d)]){let _0x2dec35=await this['redisCache']['instanceKeys']();_0x2dec35?.[_0x2004b7(0x239)]>0x0&&_0x2dec35[_0x2004b7(0x15f)](async _0x25c888=>await _0x4f6245(_0x25c888[_0x2004b7(0x294)](':')[0x1]));}if(this['db'][_0x2004b7(0x61d)]){await this['repository'][_0x2004b7(0x648)][_0x2004b7(0x4fa)]();let _0x3f9c1e=await this[_0x2004b7(0x61c)][_0x2004b7(0x635)]();_0x3f9c1e[_0x2004b7(0x239)]>0x0&&_0x3f9c1e[_0x2004b7(0x15f)](async _0x51300e=>await _0x4f6245(_0x51300e[_0x2004b7(0x2ab)][_0x2004b7(0x466)](/^[\w-]+\./,'')));return;}let _0x2c42e9=(0x0,ee[_0x2004b7(0x593)])(V,{'encoding':'utf-8'});for await(let _0x11e1bf of _0x2c42e9)if(_0x11e1bf[_0x2004b7(0x3b0)]()){if((0x0,ee[_0x2004b7(0x303)])((0x0,Ee[_0x2004b7(0x2c3)])(V,_0x11e1bf[_0x2004b7(0x1e8)]),{'encoding':_0x2004b7(0x27e)})['length']===0x0){(0x0,ee['rmSync'])((0x0,Ee['join'])(V,_0x11e1bf[_0x2004b7(0x1e8)]),{'recursive':!0x0,'force':!0x0});break;}await _0x4f6245(_0x11e1bf[_0x2004b7(0x1e8)]);}}catch(_0x3ac27b){this[_0x2004b7(0x21f)]['error'](_0x3ac27b);}}['removeInstance'](){const _0x444e83=a0_0x32ece7;this[_0x444e83(0x62a)]['on'](_0x444e83(0x14f),async _0x328279=>{const _0x164d9c=_0x444e83;try{this['waInstances'][_0x328279]=void 0x0;}catch{}try{this[_0x164d9c(0x5b6)](_0x328279);}finally{this[_0x164d9c(0x21f)][_0x164d9c(0x34d)](_0x164d9c(0x1ad)+_0x328279+_0x164d9c(0x5a9));}});}['noConnection'](){this['eventEmitter']['on']('no.connection',async _0xd6af9d=>{const _0x48fa2b=a0_0x1b9c;try{this[_0x48fa2b(0x3fd)][_0xd6af9d]=void 0x0,this['cleaningUp'](_0xd6af9d);}catch(_0x1ae520){this['logger']['error']({'localError':_0x48fa2b(0x2a8),'warn':_0x48fa2b(0x411),'error':_0x1ae520});}finally{this[_0x48fa2b(0x21f)][_0x48fa2b(0x34d)]('Instance\x20\x22'+_0xd6af9d+'\x22\x20-\x20NOT\x20CONNECTION');}});}},xe=require('path'),Ne=require('fs'),Lt=class extends j{constructor(_0x487915,_0x57ea14){const _0x4b15c6=a0_0x32ece7;super(_0x57ea14),this['chatModel']=_0x487915,this[_0x4b15c6(0x1f7)]=_0x57ea14;}async[a0_0x32ece7(0x2ba)](_0x38a1fe,_0x47d3e5=!0x1){const _0x66239e=a0_0x32ece7;if(_0x38a1fe[_0x66239e(0x239)]!==0x0)try{return this['dbSettings'][_0x66239e(0x61d)]&&_0x47d3e5?{'insertCount':(await this['chatModel'][_0x66239e(0x157)]([..._0x38a1fe]))[_0x66239e(0x239)]}:(_0x38a1fe[_0x66239e(0x15f)](_0xd34791=>{const _0xc6ea0f=_0x66239e;this[_0xc6ea0f(0x543)]({'path':(0x0,xe[_0xc6ea0f(0x2c3)])(this[_0xc6ea0f(0x46c)],_0xc6ea0f(0x6c9),_0xd34791['owner']),'fileName':_0xd34791['id'],'data':_0xd34791});}),{'insertCount':_0x38a1fe[_0x66239e(0x239)]});}catch(_0x2892d4){return _0x2892d4;}finally{_0x38a1fe=void 0x0;}}async[a0_0x32ece7(0x1dd)](_0x291ea7){const _0x19a919=a0_0x32ece7;try{if(this[_0x19a919(0x4e4)][_0x19a919(0x61d)])return await this[_0x19a919(0x6b5)]['find']({'owner':_0x291ea7[_0x19a919(0x3de)][_0x19a919(0x1bf)]})[_0x19a919(0x39c)]({'lastmsg':-0x1})[_0x19a919(0x258)](_0x291ea7?.[_0x19a919(0x258)]??0x0)[_0x19a919(0x4ba)]();let _0x400870=[],_0x3ac088=(0x0,Ne['opendirSync'])((0x0,xe[_0x19a919(0x2c3)])(this[_0x19a919(0x46c)],_0x19a919(0x6c9),_0x291ea7[_0x19a919(0x3de)]['owner']));for await(let _0x44162f of _0x3ac088)_0x44162f[_0x19a919(0x47d)]()&&_0x400870[_0x19a919(0x4dc)](JSON[_0x19a919(0x16e)]((0x0,Ne[_0x19a919(0x6af)])((0x0,xe[_0x19a919(0x2c3)])(this['storePath'],'chats',_0x291ea7[_0x19a919(0x3de)][_0x19a919(0x1bf)],_0x44162f[_0x19a919(0x1e8)]),{'encoding':'utf-8'})));return _0x400870;}catch{return[];}}async['delete'](_0x108e26){const _0x269a15=a0_0x32ece7;try{return this[_0x269a15(0x4e4)][_0x269a15(0x61d)]?await this[_0x269a15(0x6b5)][_0x269a15(0x6ee)]({..._0x108e26['where']}):((0x0,Ne[_0x269a15(0x647)])((0x0,xe[_0x269a15(0x2c3)])(this['storePath'],_0x269a15(0x6c9),_0x108e26[_0x269a15(0x3de)]['owner'],_0x108e26[_0x269a15(0x3de)]['id']+'.josn'),{'force':!0x0,'recursive':!0x0}),{'deleted':{'chatId':_0x108e26[_0x269a15(0x3de)]['id']}});}catch(_0x1337d6){return{'error':_0x1337d6?.[_0x269a15(0x702)]()};}}async[a0_0x32ece7(0x420)](_0x4d5f31){const _0x18049f=a0_0x32ece7;try{if(this[_0x18049f(0x4e4)][_0x18049f(0x61d)])return await this[_0x18049f(0x6b5)][_0x18049f(0x420)]({'owner':_0x4d5f31['where']['owner']})[_0x18049f(0x4ba)]();}catch{return null;}}async[a0_0x32ece7(0x3f6)](_0xc92aaf,_0x2ebaa0){const _0x4d5cb5=a0_0x32ece7;try{this['dbSettings'][_0x4d5cb5(0x61d)]&&await this[_0x4d5cb5(0x6b5)][_0x4d5cb5(0x186)]({..._0xc92aaf[_0x4d5cb5(0x3de)]},{'$set':_0x2ebaa0});}catch(_0x4a551d){console[_0x4d5cb5(0x24d)](_0x4a551d);}}async[a0_0x32ece7(0x1e6)](_0x5c1af7,_0x107ac9){const _0x2a759a=a0_0x32ece7;try{if(this[_0x2a759a(0x4e4)][_0x2a759a(0x61d)]){let _0x3d89f1=_0x5c1af7['map']((_0x38b4aa,_0x3d788d)=>({'updateOne':{'filter':{..._0x38b4aa['where']},'update':{'$set':_0x107ac9[_0x3d788d]}}}));await this[_0x2a759a(0x6b5)][_0x2a759a(0x3ad)](_0x3d89f1);}}catch(_0x102790){console[_0x2a759a(0x24d)](_0x102790);}}},Ut=class{constructor(_0x3b5458){const _0x2ccbc3=a0_0x32ece7;this[_0x2ccbc3(0x6f2)]=_0x3b5458;}async['editChat']({instanceName:_0x2fedcb},_0x4d8988){const _0x55098c=a0_0x32ece7;return await this[_0x55098c(0x6f2)][_0x55098c(0x3fd)][_0x2fedcb][_0x55098c(0x626)](_0x4d8988);}async[a0_0x32ece7(0x433)]({instanceName:_0x9a46a4},_0x17cb57){const _0xbd31f0=a0_0x32ece7;return await this['waMonitor']['waInstances'][_0x9a46a4][_0xbd31f0(0x433)](_0x17cb57);}async[a0_0x32ece7(0x203)]({instanceName:_0x57a658},_0x403e5b){const _0x216fe6=a0_0x32ece7;return await this[_0x216fe6(0x6f2)][_0x216fe6(0x3fd)][_0x57a658]['markMessageAsRead'](_0x403e5b);}async[a0_0x32ece7(0x1cc)]({instanceName:_0x8d6ea6},_0x1e80b7){const _0x29f59e=a0_0x32ece7;return await this[_0x29f59e(0x6f2)]['waInstances'][_0x8d6ea6][_0x29f59e(0x1cc)](_0x1e80b7);}async[a0_0x32ece7(0x3d4)]({instanceName:_0x36f254},_0x3dc20f){const _0x4453bf=a0_0x32ece7;return await this[_0x4453bf(0x6f2)][_0x4453bf(0x3fd)][_0x36f254][_0x4453bf(0x3d4)](_0x3dc20f);}async['fetchProfilePicture']({instanceName:_0x32c32c},_0x38af37){const _0x1444ff=a0_0x32ece7;return await this[_0x1444ff(0x6f2)][_0x1444ff(0x3fd)][_0x32c32c][_0x1444ff(0x36d)](_0x38af37[_0x1444ff(0x17b)]);}async['fetchProfile']({instanceName:_0x244546},_0x4e02cf){const _0x37bf70=a0_0x32ece7;return await this[_0x37bf70(0x6f2)]['waInstances'][_0x244546][_0x37bf70(0x324)](_0x244546,_0x4e02cf[_0x37bf70(0x17b)]);}async['fetchContacts']({instanceName:_0x5ab4c0},_0x55c93){const _0x631925=a0_0x32ece7;return await this['waMonitor']['waInstances'][_0x5ab4c0][_0x631925(0x681)](_0x55c93);}async['getBase64FromMediaMessage']({instanceName:_0x3f112a},_0x270658){const _0x4a54f8=a0_0x32ece7;return await this[_0x4a54f8(0x6f2)][_0x4a54f8(0x3fd)][_0x3f112a]['getBase64FromMediaMessage'](_0x270658);}async[a0_0x32ece7(0x2cd)]({instanceName:_0x3e3cc1},_0x9525e9){const _0x234b20=a0_0x32ece7;return await this['waMonitor']['waInstances'][_0x3e3cc1][_0x234b20(0x2cd)](_0x9525e9);}async['fetchStatusMessage']({instanceName:_0x29cb30},_0x328f36){const _0x5e87b9=a0_0x32ece7;return await this[_0x5e87b9(0x6f2)][_0x5e87b9(0x3fd)][_0x29cb30][_0x5e87b9(0x703)](_0x328f36);}async[a0_0x32ece7(0x35e)]({instanceName:_0x2ad5b6}){const _0x49cf4a=a0_0x32ece7;return await this[_0x49cf4a(0x6f2)]['waInstances'][_0x2ad5b6][_0x49cf4a(0x35e)]();}async['fetchPrivacySettings']({instanceName:_0x12e6f8}){const _0x461f03=a0_0x32ece7;return await this[_0x461f03(0x6f2)][_0x461f03(0x3fd)][_0x12e6f8][_0x461f03(0x67e)]();}async[a0_0x32ece7(0x325)]({instanceName:_0x2bb084},_0x2bb3eb){const _0x4a2b43=a0_0x32ece7;return await this[_0x4a2b43(0x6f2)][_0x4a2b43(0x3fd)][_0x2bb084][_0x4a2b43(0x325)](_0x2bb3eb);}async[a0_0x32ece7(0x381)]({instanceName:_0x971fcf},_0x3a4b03){const _0x369cdb=a0_0x32ece7;return await this[_0x369cdb(0x6f2)][_0x369cdb(0x3fd)][_0x971fcf][_0x369cdb(0x381)](_0x3a4b03[_0x369cdb(0x17b)]);}async[a0_0x32ece7(0x4a3)]({instanceName:_0x3c59b2},_0x35bfcb){const _0x52b231=a0_0x32ece7;return await this[_0x52b231(0x6f2)][_0x52b231(0x3fd)][_0x3c59b2][_0x52b231(0x4a3)](_0x35bfcb[_0x52b231(0x1e8)]);}async['updateProfileStatus']({instanceName:_0x4e4ebb},_0x56e34e){const _0xfcbf13=a0_0x32ece7;return await this[_0xfcbf13(0x6f2)][_0xfcbf13(0x3fd)][_0x4e4ebb]['updateProfileStatus'](_0x56e34e[_0xfcbf13(0x4d1)]);}async['updateProfilePicture']({instanceName:_0x39febd},_0x3a1f23){const _0x31a156=a0_0x32ece7;return await this[_0x31a156(0x6f2)][_0x31a156(0x3fd)][_0x39febd][_0x31a156(0x3d5)](_0x3a1f23[_0x31a156(0x587)]);}async['removeProfilePicture']({instanceName:_0x43ca17},_0x200993){const _0x566ff2=a0_0x32ece7;return await this[_0x566ff2(0x6f2)][_0x566ff2(0x3fd)][_0x43ca17]['removeProfilePicture']();}},Ns=require(a0_0x32ece7(0x34f)),Vt=class c{constructor(_0x48a76f,_0x33a7b2,_0x511b3d,_0x4d453c,_0x53d523){const _0x54e006=a0_0x32ece7;this['waMonitor']=_0x48a76f,this[_0x54e006(0x1f7)]=_0x33a7b2,this[_0x54e006(0x5d8)]=_0x511b3d,this[_0x54e006(0x62a)]=_0x4d453c,this[_0x54e006(0x245)]=_0x53d523,this[_0x54e006(0x21f)]=new C(c[_0x54e006(0x1e8)]);}async[a0_0x32ece7(0x42d)]({instanceName:_0x8bcf79,apikey:_0x13b7b7}){const _0x29206d=a0_0x32ece7;let _0x3a3456=new be(this[_0x29206d(0x1f7)],this['eventEmitter'],this[_0x29206d(0x5d8)]);_0x3a3456[_0x29206d(0x56c)]=_0x8bcf79,this[_0x29206d(0x6f2)][_0x29206d(0x3fd)][_0x3a3456[_0x29206d(0x56c)]]=_0x3a3456,this[_0x29206d(0x6f2)][_0x29206d(0x46e)](_0x3a3456[_0x29206d(0x56c)]);let _0x51ebe2={};_0x13b7b7?(await this[_0x29206d(0x5d8)][_0x29206d(0x1b6)][_0x29206d(0x176)]({'apikey':_0x13b7b7},_0x8bcf79),_0x51ebe2[_0x29206d(0x183)]=_0x13b7b7):_0x51ebe2=await this[_0x29206d(0x245)]['generateHash']({'instanceName':_0x3a3456[_0x29206d(0x56c)]});let _0x5da0f2;return await _0x3a3456['connectToWhatsapp'](),await(0x0,Ns[_0x29206d(0x38f)])(0x7d0),_0x5da0f2=_0x3a3456['qrCode'],{'instance':{'instanceName':_0x3a3456[_0x29206d(0x56c)],'status':_0x29206d(0x631)},'hash':_0x51ebe2,'qrcode':_0x5da0f2};}async[a0_0x32ece7(0x22d)]({instanceName:_0x243bc8}){const _0x4991c8=a0_0x32ece7;try{let _0x5995ac=this[_0x4991c8(0x6f2)][_0x4991c8(0x3fd)][_0x243bc8];switch(_0x5995ac[_0x4991c8(0x174)]?.['state']){case _0x4991c8(0x24b):return await _0x5995ac['connectToWhatsapp'](),await(0x0,Ns[_0x4991c8(0x38f)])(0x7d0),_0x5995ac[_0x4991c8(0x410)];case'connecting':return _0x5995ac[_0x4991c8(0x410)];default:return await this['connectionState']({'instanceName':_0x243bc8});}}catch(_0xe80c8d){this[_0x4991c8(0x21f)][_0x4991c8(0x3c5)](_0xe80c8d);}}async[a0_0x32ece7(0x2a6)]({instanceName:_0x647eaa}){const _0x2bdd61=a0_0x32ece7;let _0x242271=this[_0x2bdd61(0x6f2)][_0x2bdd61(0x3fd)][_0x647eaa][_0x2bdd61(0x174)],_0x1b69b8=null;_0x242271['state']===_0x2bdd61(0x314)&&_0x647eaa&&(_0x1b69b8=await this['waMonitor'][_0x2bdd61(0x49c)](_0x647eaa));let _0x416a48=null;return _0x242271[_0x2bdd61(0x6c1)]===_0x2bdd61(0x613)&&_0x647eaa&&(_0x416a48=this['waMonitor'][_0x2bdd61(0x3fd)][_0x647eaa]['qrCode']),{'instance':_0x647eaa,'connectionStatus':_0x242271,'instanceInfo':_0x1b69b8,'qrcode':_0x416a48};}async[a0_0x32ece7(0x46f)]({instanceName:_0x43e4bc}){const _0x26a306=a0_0x32ece7;try{return this['waMonitor'][_0x26a306(0x3fd)][_0x43e4bc]?.[_0x26a306(0x63e)]?.['ws']?.[_0x26a306(0x24b)](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0x26a306(0x4ef)}};}catch(_0x44ffc9){this[_0x26a306(0x21f)]['error'](_0x44ffc9);}}async[a0_0x32ece7(0x383)]({instanceName:_0x9007c0}){const _0x121444=a0_0x32ece7;return _0x9007c0?this[_0x121444(0x6f2)]['instanceInfo'](_0x9007c0):this[_0x121444(0x6f2)]['instanceInfo']();}async[a0_0x32ece7(0x621)]({instanceName:_0x285b5c}){const _0x565368=a0_0x32ece7;try{return await this[_0x565368(0x6f2)][_0x565368(0x3fd)][_0x285b5c]?.[_0x565368(0x63e)]?.[_0x565368(0x621)](_0x565368(0x290)+_0x285b5c),{'error':!0x1,'message':_0x565368(0x461)};}catch(_0x291a55){throw new A(_0x291a55['toString']());}}async[a0_0x32ece7(0x59b)]({instanceName:_0x640f7a}){const _0x4fe871=a0_0x32ece7;if((await this[_0x4fe871(0x2a6)]({'instanceName':_0x640f7a}))[_0x4fe871(0x174)][_0x4fe871(0x6c1)]===_0x4fe871(0x314))throw new m(['Deletion\x20failed',_0x4fe871(0x628)]);try{return delete this[_0x4fe871(0x6f2)]['waInstances'][_0x640f7a],{'error':!0x1,'message':_0x4fe871(0x6d3)};}catch(_0x286b75){throw new m(_0x286b75[_0x4fe871(0x702)]());}}async[a0_0x32ece7(0x19e)](_0x271aba,_0x509cf2){const _0x27710d=a0_0x32ece7;return await this['authService'][_0x27710d(0x19e)](_0x509cf2);}},te=require(a0_0x32ece7(0x3b4)),jt=class{constructor(_0x1c237a){this['waMonitor']=_0x1c237a;}async[a0_0x32ece7(0x1b4)]({instanceName:_0x3ddf34},_0x4ce8b5){const _0x3b39f4=a0_0x32ece7;return await this[_0x3b39f4(0x6f2)][_0x3b39f4(0x3fd)][_0x3ddf34][_0x3b39f4(0x622)](_0x4ce8b5);}async['sendMedia']({instanceName:_0x36968d},_0x12b856){const _0x286598=a0_0x32ece7;if((0x0,te[_0x286598(0x4dd)])(_0x12b856?.[_0x286598(0x602)]?.[_0x286598(0x211)])&&!_0x12b856?.['mediaMessage']?.[_0x286598(0x44e)])throw new m(_0x286598(0x53f));if((0x0,te['isURL'])(_0x12b856?.['mediaMessage']?.[_0x286598(0x211)])||(0x0,te[_0x286598(0x4dd)])(_0x12b856?.['mediaMessage']?.[_0x286598(0x211)]))return await this[_0x286598(0x6f2)][_0x286598(0x3fd)][_0x36968d][_0x286598(0x602)](_0x12b856);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x32ece7(0x470)]({instanceName:_0x54f776},_0x5279d5){const _0x21f444=a0_0x32ece7;if((0x0,te[_0x21f444(0x286)])(_0x5279d5[_0x21f444(0x1a0)][_0x21f444(0x610)])||(0x0,te[_0x21f444(0x4dd)])(_0x5279d5[_0x21f444(0x1a0)][_0x21f444(0x610)]))return await this[_0x21f444(0x6f2)][_0x21f444(0x3fd)][_0x54f776]['mediaSticker'](_0x5279d5);throw new m(_0x21f444(0x549));}async[a0_0x32ece7(0x4a9)]({instanceName:_0x3ddce2},_0x58134d){const _0x4019df=a0_0x32ece7;if((0x0,te['isURL'])(_0x58134d['audioMessage'][_0x4019df(0x36c)])||(0x0,te['isBase64'])(_0x58134d[_0x4019df(0x193)][_0x4019df(0x36c)]))return await this['waMonitor']['waInstances'][_0x3ddce2][_0x4019df(0x2eb)](_0x58134d);throw new m(_0x4019df(0x549));}async[a0_0x32ece7(0x47f)]({instanceName:_0x2156e7},_0x36f370){const _0x2d8ba8=a0_0x32ece7;if((0x0,te[_0x2d8ba8(0x4dd)])(_0x36f370['buttonMessage'][_0x2d8ba8(0x602)]?.['media'])&&!_0x36f370[_0x2d8ba8(0x195)]['mediaMessage']?.[_0x2d8ba8(0x44e)])throw new m(_0x2d8ba8(0x53f));return await this[_0x2d8ba8(0x6f2)][_0x2d8ba8(0x3fd)][_0x2156e7]['buttonMessage'](_0x36f370);}async[a0_0x32ece7(0x229)]({instanceName:_0x389f1f},_0x530459){const _0x490dc5=a0_0x32ece7;return await this[_0x490dc5(0x6f2)][_0x490dc5(0x3fd)][_0x389f1f][_0x490dc5(0x578)](_0x530459);}async[a0_0x32ece7(0x467)]({instanceName:_0x3f4ea4},_0x292c9a){const _0x5aecba=a0_0x32ece7;return await this[_0x5aecba(0x6f2)]['waInstances'][_0x3f4ea4][_0x5aecba(0x384)](_0x292c9a);}async[a0_0x32ece7(0x3b9)]({instanceName:_0x5a430a},_0x4f464d){const _0x561b75=a0_0x32ece7;return await this[_0x561b75(0x6f2)]['waInstances'][_0x5a430a][_0x561b75(0x57b)](_0x4f464d);}async[a0_0x32ece7(0x398)]({instanceName:_0x5391aa},_0x3a7439){const _0x1ed172=a0_0x32ece7;return await this[_0x1ed172(0x6f2)][_0x1ed172(0x3fd)][_0x5391aa]['contactMessage'](_0x3a7439);}async[a0_0x32ece7(0x4f0)]({instanceName:_0x334c1a},_0xa28819){const _0x2dbf2d=a0_0x32ece7;if(!_0xa28819['reactionMessage']['reaction'][_0x2dbf2d(0x4b4)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x2dbf2d(0x3d1));return await this['waMonitor'][_0x2dbf2d(0x3fd)][_0x334c1a][_0x2dbf2d(0x426)](_0xa28819);}async[a0_0x32ece7(0x3c1)]({instanceName:_0x5807ba},_0x316bbb){const _0x1e94df=a0_0x32ece7;return await this[_0x1e94df(0x6f2)][_0x1e94df(0x3fd)][_0x5807ba][_0x1e94df(0x5fc)](_0x316bbb);}},Bt=class{constructor(_0x2693fd){const _0x1e3a76=a0_0x32ece7;this[_0x1e3a76(0x6f2)]=_0x2693fd;}async[a0_0x32ece7(0x564)](_0x3ffcdb,_0x48c362){const _0x3524ab=a0_0x32ece7;return await this[_0x3524ab(0x6f2)][_0x3524ab(0x3fd)][_0x3ffcdb[_0x3524ab(0x56c)]][_0x3524ab(0x564)](_0x48c362);}async['updateGroupPicture'](_0x311b69,_0x471a96){const _0x5dc8c3=a0_0x32ece7;return await this[_0x5dc8c3(0x6f2)][_0x5dc8c3(0x3fd)][_0x311b69['instanceName']]['updateGroupPicture'](_0x471a96);}async[a0_0x32ece7(0x390)](_0x354ccd,_0x5be43b){const _0x1b49a4=a0_0x32ece7;return await this['waMonitor'][_0x1b49a4(0x3fd)][_0x354ccd['instanceName']][_0x1b49a4(0x390)](_0x5be43b);}async[a0_0x32ece7(0x5e0)](_0x240065,_0x4aef4e){const _0x10dc29=a0_0x32ece7;return await this['waMonitor'][_0x10dc29(0x3fd)][_0x240065['instanceName']]['groupName'](_0x4aef4e);}async[a0_0x32ece7(0x336)](_0x1be35c,_0x20bd2c){const _0x53e9b6=a0_0x32ece7;return await this[_0x53e9b6(0x6f2)][_0x53e9b6(0x3fd)][_0x1be35c['instanceName']][_0x53e9b6(0x336)](_0x20bd2c);}async['findGroupInfo'](_0x2aebd4,_0x292837){const _0x250fce=a0_0x32ece7;return await this['waMonitor'][_0x250fce(0x3fd)][_0x2aebd4[_0x250fce(0x56c)]][_0x250fce(0x64f)](_0x292837);}async[a0_0x32ece7(0x2a3)](_0x53ef00){const _0xc6d1f2=a0_0x32ece7;return await this[_0xc6d1f2(0x6f2)][_0xc6d1f2(0x3fd)][_0x53ef00[_0xc6d1f2(0x56c)]][_0xc6d1f2(0x2a3)]();}async['inviteCode'](_0x1cf6ec,_0x4d5126){const _0x386544=a0_0x32ece7;return await this[_0x386544(0x6f2)]['waInstances'][_0x1cf6ec[_0x386544(0x56c)]]['inviteCode'](_0x4d5126);}async[a0_0x32ece7(0x24f)](_0x45f2fc,_0x5c6a18){const _0x283591=a0_0x32ece7;return await this[_0x283591(0x6f2)][_0x283591(0x3fd)][_0x45f2fc['instanceName']][_0x283591(0x24f)](_0x5c6a18);}async[a0_0x32ece7(0x45f)](_0x3b1bf1,_0x38df69){const _0x6d2d74=a0_0x32ece7;return await this[_0x6d2d74(0x6f2)][_0x6d2d74(0x3fd)][_0x3b1bf1[_0x6d2d74(0x56c)]]['revokeInviteCode'](_0x38df69);}async['findParticipants'](_0x4c2f99,_0x1c9c8c){const _0x4c33c4=a0_0x32ece7;return await this[_0x4c33c4(0x6f2)][_0x4c33c4(0x3fd)][_0x4c2f99['instanceName']][_0x4c33c4(0x3a7)](_0x1c9c8c);}async['updateGParticipate'](_0x322d5e,_0x20e694){const _0x2de472=a0_0x32ece7;return await this[_0x2de472(0x6f2)][_0x2de472(0x3fd)][_0x322d5e[_0x2de472(0x56c)]][_0x2de472(0x2b2)](_0x20e694);}async[a0_0x32ece7(0x23c)](_0x47aaa1,_0x1af6e8){const _0x3cc2ab=a0_0x32ece7;return await this['waMonitor'][_0x3cc2ab(0x3fd)][_0x47aaa1[_0x3cc2ab(0x56c)]][_0x3cc2ab(0x23c)](_0x1af6e8);}async[a0_0x32ece7(0x501)](_0x42eb7e,_0x8bea96){const _0x5aec9f=a0_0x32ece7;return await this[_0x5aec9f(0x6f2)][_0x5aec9f(0x3fd)][_0x42eb7e[_0x5aec9f(0x56c)]]['leaveGroup'](_0x8bea96);}},Ft=class{constructor(_0x3522c9,_0x52777d){const _0x53996a=a0_0x32ece7;this[_0x53996a(0x338)]=_0x3522c9,this[_0x53996a(0x1f7)]=_0x52777d;}async[a0_0x32ece7(0x5f7)](_0x1e5898,_0x216e15){const _0x3c4860=a0_0x32ece7;try{let _0x2ac1b1=_0x1e5898['params'];if(this[_0x3c4860(0x338)]['waInstances'][_0x2ac1b1[_0x3c4860(0x56c)]][_0x3c4860(0x174)][_0x3c4860(0x6c1)]===_0x3c4860(0x314))throw new m(_0x3c4860(0x516));let _0x1222d9=this[_0x3c4860(0x1f7)][_0x3c4860(0x5de)]('AUTHENTICATION')[_0x3c4860(0x6b4)];return _0x216e15[_0x3c4860(0x4d1)](0xc8)[_0x3c4860(0x68d)](_0x3c4860(0x5f7),{'type':_0x1222d9,..._0x2ac1b1});}catch(_0x3c0db3){console[_0x3c4860(0x3c5)](_0x3c4860(0x1a7),_0x3c0db3);}}},Gt=class{constructor(_0x1a7ded){this['waMonitor']=_0x1a7ded;}[a0_0x32ece7(0x176)](_0x5a53da,_0x4704fb){const _0x5f0142=a0_0x32ece7;return this[_0x5f0142(0x6f2)][_0x5f0142(0x3fd)][_0x5a53da['instanceName']]['setWebhook'](_0x4704fb);}async[a0_0x32ece7(0x1dd)](_0x374a11){const _0xc6e67b=a0_0x32ece7;try{return await this[_0xc6e67b(0x6f2)][_0xc6e67b(0x3fd)][_0x374a11[_0xc6e67b(0x56c)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},rd=new C(a0_0x32ece7(0x6c4)),Jt=class{constructor(_0xe467ee){this['waMonitor']=_0xe467ee;}async[a0_0x32ece7(0x16c)](_0x4eb3f4,_0x2766e1){const _0x4d7ecb=a0_0x32ece7;return await this[_0x4d7ecb(0x6f2)][_0x4d7ecb(0x3fd)][_0x4eb3f4[_0x4d7ecb(0x56c)]][_0x4d7ecb(0x16c)](_0x2766e1);}async[a0_0x32ece7(0x6e2)](_0x3874eb){const _0x5ddd45=a0_0x32ece7;return await this[_0x5ddd45(0x6f2)]['waInstances'][_0x3874eb[_0x5ddd45(0x56c)]][_0x5ddd45(0x6e2)]();}async[a0_0x32ece7(0x5a4)](_0x27422e){const _0x529cc3=a0_0x32ece7;return await this[_0x529cc3(0x6f2)]['waInstances'][_0x27422e['instanceName']][_0x529cc3(0x5a4)]();}async[a0_0x32ece7(0x3d6)](_0x4cb44d){const _0x902cf0=a0_0x32ece7;return await this[_0x902cf0(0x6f2)]['waInstances'][_0x4cb44d[_0x902cf0(0x56c)]][_0x902cf0(0x3d6)]();}async[a0_0x32ece7(0x554)](_0x1719f5,_0x5be36b){const _0x32970f=a0_0x32ece7;return await this[_0x32970f(0x6f2)]['waInstances'][_0x1719f5[_0x32970f(0x56c)]][_0x32970f(0x554)](_0x5be36b);}async[a0_0x32ece7(0x575)](_0x4e29f1,_0x474170){const _0x355560=a0_0x32ece7;return await this[_0x355560(0x6f2)][_0x355560(0x3fd)][_0x4e29f1[_0x355560(0x56c)]][_0x355560(0x575)](_0x474170);}async['updateFlowConfig'](_0x303964,_0x5925e9){const _0x4bbcfd=a0_0x32ece7;return await this[_0x4bbcfd(0x6f2)][_0x4bbcfd(0x3fd)][_0x303964[_0x4bbcfd(0x56c)]][_0x4bbcfd(0x201)](_0x5925e9);}async['startFlow'](_0x13dcd6,_0x1ae4df){const _0x5ea4bb=a0_0x32ece7;return await this[_0x5ea4bb(0x6f2)]['waInstances'][_0x13dcd6[_0x5ea4bb(0x56c)]][_0x5ea4bb(0x471)](_0x1ae4df);}async[a0_0x32ece7(0x667)](_0xd70313,_0x1058ac){const _0x5d13bd=a0_0x32ece7;return await this[_0x5d13bd(0x6f2)][_0x5d13bd(0x3fd)][_0xd70313[_0x5d13bd(0x56c)]][_0x5d13bd(0x667)](_0x1058ac);}async[a0_0x32ece7(0x663)](_0x434605,_0x554b58){const _0x3ed58f=a0_0x32ece7;return await this['waMonitor'][_0x3ed58f(0x3fd)][_0x434605['instanceName']][_0x3ed58f(0x663)](_0x554b58);}async[a0_0x32ece7(0x351)](_0x25e562,_0x279cbb){const _0x37af8b=a0_0x32ece7;return await this[_0x37af8b(0x6f2)][_0x37af8b(0x3fd)][_0x25e562[_0x37af8b(0x56c)]][_0x37af8b(0x351)](_0x279cbb);}async[a0_0x32ece7(0x5b9)](_0x1261bd,_0x3b9a1f){const _0xaab310=a0_0x32ece7;return await this[_0xaab310(0x6f2)][_0xaab310(0x3fd)][_0x1261bd[_0xaab310(0x56c)]]['deleteConversation'](_0x3b9a1f);}async[a0_0x32ece7(0x63d)](_0x18cacd,_0x26e6e2){const _0x3fe821=a0_0x32ece7;return await this['waMonitor'][_0x3fe821(0x3fd)][_0x18cacd[_0x3fe821(0x56c)]][_0x3fe821(0x63d)](_0x26e6e2['name']);}async[a0_0x32ece7(0x43b)](_0x5bf5fd,_0x41596f){const _0x38bfa5=a0_0x32ece7;return await this[_0x38bfa5(0x6f2)]['waInstances'][_0x5bf5fd['instanceName']][_0x38bfa5(0x43b)](_0x41596f);}async[a0_0x32ece7(0x609)](_0x3a91df,_0x33b22d){const _0x2f692e=a0_0x32ece7;return await this[_0x2f692e(0x6f2)][_0x2f692e(0x3fd)][_0x3a91df[_0x2f692e(0x56c)]][_0x2f692e(0x609)](_0x33b22d);}async[a0_0x32ece7(0x61a)](_0xfd03c6,_0xa5109){const _0x525bc4=a0_0x32ece7;return await this[_0x525bc4(0x6f2)]['waInstances'][_0xfd03c6[_0x525bc4(0x56c)]][_0x525bc4(0x61a)](_0xa5109);}async[a0_0x32ece7(0x205)](_0x7ef74c,_0x2aaa4e){const _0x16990c=a0_0x32ece7;return await this['waMonitor'][_0x16990c(0x3fd)][_0x7ef74c[_0x16990c(0x56c)]][_0x16990c(0x205)](_0x2aaa4e);}async[a0_0x32ece7(0x630)](_0xca0596,_0x358758){const _0x172411=a0_0x32ece7;return await this[_0x172411(0x6f2)]['waInstances'][_0xca0596['instanceName']][_0x172411(0x630)](_0x358758);}async[a0_0x32ece7(0x5ac)](_0xbc926a,_0x31c3d5){const _0x44c4e9=a0_0x32ece7;return await this[_0x44c4e9(0x6f2)][_0x44c4e9(0x3fd)][_0xbc926a['instanceName']][_0x44c4e9(0x5ac)](_0x31c3d5);}async[a0_0x32ece7(0x497)](_0xabefa1,_0x209d30){const _0x538a02=a0_0x32ece7;return await this[_0x538a02(0x6f2)]['waInstances'][_0xabefa1[_0x538a02(0x56c)]]['editFlowVaredit'](_0x209d30);}async[a0_0x32ece7(0x6f3)](_0x31db86,_0x4b7462){const _0x2a7b85=a0_0x32ece7;return await this[_0x2a7b85(0x6f2)][_0x2a7b85(0x3fd)][_0x31db86['instanceName']]['editFlowVariable'](_0x4b7462);}async['deleteFlow'](_0x5f1238,_0x16ab0a){const _0x3a838f=a0_0x32ece7;return await this['waMonitor']['waInstances'][_0x5f1238[_0x3a838f(0x56c)]][_0x3a838f(0x36a)](_0x16ab0a[_0x3a838f(0x1e8)]);}async[a0_0x32ece7(0x42a)](_0x298f26){const _0x52e148=a0_0x32ece7;return await this[_0x52e148(0x6f2)][_0x52e148(0x3fd)][_0x298f26['instanceName']][_0x52e148(0x42a)]();}},qt=class{constructor(_0x551fae){const _0x205163=a0_0x32ece7;this[_0x205163(0x37b)]=_0x551fae;}async[a0_0x32ece7(0x2b1)](_0x3d1273,_0x406e02){const _0x494824=a0_0x32ece7;return this['webhookService'][_0x494824(0x176)](_0x3d1273,_0x406e02);}async[a0_0x32ece7(0x4d5)](_0xc0fd45){const _0x320201=a0_0x32ece7;return this[_0x320201(0x37b)]['find'](_0xc0fd45);}},Wt=class{constructor(_0xc471f8,_0xe577ce,_0x11c1ac,_0x3ec867,_0x2efa2c,_0x1c4be8,_0x16b993){const _0x773c70=a0_0x32ece7;this[_0x773c70(0x430)]=_0xc471f8,this['chat']=_0xe577ce,this[_0x773c70(0x715)]=_0x11c1ac,this[_0x773c70(0x23a)]=_0x3ec867,this[_0x773c70(0x234)]=_0x2efa2c,this[_0x773c70(0x1b6)]=_0x1c4be8,this['dbClient']=_0x16b993;}get['dbServer'](){const _0x2eec03=a0_0x32ece7;return this[_0x2eec03(0x182)];}},Ts=require(a0_0x32ece7(0x36f)),vs=class{},pi=new Ts[(a0_0x32ece7(0x68e))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String,'minlength':0x3,'enum':['android',a0_0x32ece7(0x6c5),'ios']},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),ho=M?.[a0_0x32ece7(0x60d)](vs[a0_0x32ece7(0x1e8)],pi,'messages'),Cs=class{},mi=new Ts[(a0_0x32ece7(0x68e))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String,'required':!0x0,'min':0x1},'id':{'type':String,'required':!0x0,'min':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'min':0x1},'datetime':{'type':Number,'required':!0x0,'min':0x1},'status':{'type':String,'required':!0x0},'owner':{'type':String,'required':!0x0,'min':0x1}}),fo=M?.[a0_0x32ece7(0x60d)](Cs[a0_0x32ece7(0x1e8)],mi,a0_0x32ece7(0x23a)),wo=require(a0_0x32ece7(0x36f)),Ms=class{},gi=new wo[(a0_0x32ece7(0x68e))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1}}),yo=M?.[a0_0x32ece7(0x60d)](Ms[a0_0x32ece7(0x1e8)],gi,a0_0x32ece7(0x197)),bo=require(a0_0x32ece7(0x36f)),Rs=class{},So=new bo[(a0_0x32ece7(0x68e))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});So[a0_0x32ece7(0x3fa)]('save',function(_0x399fd8){const _0x20fe0e=a0_0x32ece7;delete this[_0x20fe0e(0x714)],delete this['flowIgnoreGroups'],delete this[_0x20fe0e(0x4ad)],delete this[_0x20fe0e(0x4bd)],delete this[_0x20fe0e(0x707)],_0x399fd8();});var Eo=M?.[a0_0x32ece7(0x60d)](Rs[a0_0x32ece7(0x1e8)],So,a0_0x32ece7(0x234)),As=require(a0_0x32ece7(0x533)),No=require('fs'),Ht=class extends j{constructor(_0x274647,_0xf5ad32){const _0x2a9486=a0_0x32ece7;super(_0xf5ad32),this[_0x2a9486(0x263)]=_0x274647,this[_0x2a9486(0x1f7)]=_0xf5ad32;}async[a0_0x32ece7(0x176)](_0x3612d0,_0x11ac11){const _0x4e9638=a0_0x32ece7;try{return this[_0x4e9638(0x4e4)][_0x4e9638(0x61d)]?{'insertCount':(await this[_0x4e9638(0x263)][_0x4e9638(0x6ae)]({'_id':_0x11ac11},{..._0x3612d0},{'upsert':!0x0}))[_0x4e9638(0x65f)]}:(this['writeStore']({'path':(0x0,As['join'])(this['storePath'],_0x4e9638(0x234)),'fileName':_0x11ac11,'data':_0x3612d0}),{'insertCount':0x1});}catch(_0x19c6aa){return _0x19c6aa;}}async[a0_0x32ece7(0x1dd)](_0x283e30){const _0x377c97=a0_0x32ece7;try{return this['dbSettings'][_0x377c97(0x61d)]?await this[_0x377c97(0x263)]['findOne']({'_id':_0x283e30}):JSON[_0x377c97(0x16e)]((0x0,No['readFileSync'])((0x0,As['join'])(this[_0x377c97(0x46c)],_0x377c97(0x234),_0x283e30+_0x377c97(0x45e)),{'encoding':_0x377c97(0x27e)}));}catch{return{};}}},Is=require(a0_0x32ece7(0x533)),vo=require('fs'),Kt=class extends j{constructor(_0x27025f,_0x292823){const _0x1529b9=a0_0x32ece7;super(_0x292823),this[_0x1529b9(0x656)]=_0x27025f,this[_0x1529b9(0x1f7)]=_0x292823,this[_0x1529b9(0x1b6)]=_0x292823['get'](_0x1529b9(0x614));}async[a0_0x32ece7(0x176)](_0x3bb0c4,_0x1c4c8e){const _0x5403ff=a0_0x32ece7;try{return this[_0x5403ff(0x4e4)][_0x5403ff(0x61d)]?{'insertCount':(await this[_0x5403ff(0x656)][_0x5403ff(0x6ae)]({'_id':_0x1c4c8e},{..._0x3bb0c4},{'upsert':!0x0}))[_0x5403ff(0x65f)]}:(this['writeStore']({'path':(0x0,Is['join'])(Qt,this['auth']['TYPE']),'fileName':_0x1c4c8e,'data':_0x3bb0c4}),{'insertCount':0x1});}catch(_0x4cb545){return{'error':_0x4cb545};}}async[a0_0x32ece7(0x1dd)](_0x411b18){const _0x30f1c7=a0_0x32ece7;try{return this[_0x30f1c7(0x4e4)][_0x30f1c7(0x61d)]?await this[_0x30f1c7(0x656)][_0x30f1c7(0x420)]({'_id':_0x411b18}):JSON[_0x30f1c7(0x16e)]((0x0,vo[_0x30f1c7(0x6af)])((0x0,Is[_0x30f1c7(0x2c3)])(Qt,this[_0x30f1c7(0x1b6)][_0x30f1c7(0x6b4)],_0x411b18+_0x30f1c7(0x45e)),{'encoding':_0x30f1c7(0x27e)}));}catch{return{};}}},hi=new C(a0_0x32ece7(0x4c1)),fi=new je(ho,y),wi=new Lt(I,y),yi=new Ze(Fe,y),bi=new st(fo,y),Si=new Ht(Eo,y),Ei=new Kt(yo,y),ue=new Wt(fi,wi,yi,bi,Si,Ei,M?.[a0_0x32ece7(0x1f2)]()),B=new kt(es,y,ue),Ni=new gt(y,B,ue),vi=new Gt(B),fs=new qt(vi),R=new Jt(B),ne=new Vt(B,y,ue,es,Ni),Qa=new Ft(B,y),W=new jt(B),P=new Ut(B),U=new Bt(B);hi[a0_0x32ece7(0x598)](a0_0x32ece7(0x5c2));var wp=require('express-async-errors'),Ds=require('fs'),Co=T(require('https')),To=T(require('http')),$e=class c{static #e;static set['app'](_0x1ddfb2){this.#e=_0x1ddfb2;}static get[a0_0x32ece7(0x3c3)](){const _0x138f66=a0_0x32ece7;let {FULLCHAIN:_0x16c842,PRIVKEY:_0x33453c}=y['get'](_0x138f66(0x19b));return Co[_0x138f66(0x70d)]({'cert':(0x0,Ds[_0x138f66(0x6af)])(_0x16c842),'key':(0x0,Ds[_0x138f66(0x6af)])(_0x33453c)},c.#e);}static get['http'](){const _0x4aa1d0=a0_0x32ece7;return To[_0x4aa1d0(0x70d)](c.#e);}},ke=T(require('fs')),Po=T(require(a0_0x32ece7(0x682))),Le=T(require('axios')),zt=T(require(a0_0x32ece7(0x533))),_o=require(a0_0x32ece7(0x513)),$s=require('child_process');function Ci(){const _0xf325c=a0_0x32ece7;B[_0xf325c(0x1f4)]();let _0x2b2c4e=zt[_0xf325c(0x490)][_0xf325c(0x2c3)](__dirname,'downloads');Oo(_0x2b2c4e);}var Oo=_0x1700e8=>{const _0x281af2=a0_0x32ece7;let _0x4c36bb=ke[_0x281af2(0x490)]['readdirSync'](_0x1700e8),_0x418989=0xc*0x3c*0x3c*0x3e8,_0x7f345c=0x2*0x3c*0x3c*0x3e8,_0x391c09=new Date()[_0x281af2(0x16a)]();_0x4c36bb['forEach'](_0x4e9cb5=>{const _0x2c7bba=_0x281af2;let _0x420888=zt[_0x2c7bba(0x490)]['join'](_0x1700e8,_0x4e9cb5),_0x821a09=ke[_0x2c7bba(0x490)][_0x2c7bba(0x70a)](_0x420888)[_0x2c7bba(0x1d1)][_0x2c7bba(0x16a)]();_0x391c09-_0x821a09>_0x418989&&(ke[_0x2c7bba(0x490)][_0x2c7bba(0x212)](_0x420888),console[_0x2c7bba(0x3c5)](_0x2c7bba(0x366)+_0x4e9cb5));}),setTimeout(()=>Oo(_0x1700e8),_0x7f345c);};function Ti(){const _0x276ff3=a0_0x32ece7;let _0x480701=new C(_0x276ff3(0x522)),_0x627e56=(0x0,me[_0x276ff3(0x490)])();_0x627e56['use']((0x0,Do[_0x276ff3(0x490)])({'origin'(_0x57d20c,_0x79bf6b){const _0x39255a=_0x276ff3;let {ORIGIN:_0x4a8b5b}=y[_0x39255a(0x5de)]('CORS');return _0x57d20c||(_0x57d20c='*'),_0x4a8b5b['indexOf']('*')!==-0x1||_0x4a8b5b['indexOf'](_0x57d20c)!==-0x1?_0x79bf6b(null,!0x0):_0x79bf6b(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...y[_0x276ff3(0x5de)]('CORS')[_0x276ff3(0x47a)]],'credentials':y['get']('CORS')[_0x276ff3(0x523)]}),(0x0,me[_0x276ff3(0x556)])({'extended':!0x0,'limit':_0x276ff3(0x6ab)}),(0x0,me[_0x276ff3(0x51e)])({'limit':'50mb'})),_0x627e56['use']((_0x221bb7,_0x52d94c,_0x1ba57e)=>{const _0x3c4dcf=_0x276ff3;_0x221bb7[_0x3c4dcf(0x533)][_0x3c4dcf(0x55b)](_0x3c4dcf(0x162))?_0x1ba57e():(0x0,Io[_0x3c4dcf(0x490)])()(_0x221bb7,_0x52d94c,_0x1ba57e);}),_0x627e56[_0x276ff3(0x4fd)](_0x276ff3(0x2ef),_0x276ff3(0x188)),_0x627e56[_0x276ff3(0x4fd)]('views',(0x0,Ps[_0x276ff3(0x2c3)])(z,_0x276ff3(0x672))),_0x627e56['use'](me[_0x276ff3(0x490)][_0x276ff3(0x6b0)]((0x0,Ps[_0x276ff3(0x2c3)])(z,'public'))),_0x627e56[_0x276ff3(0x285)]((_0x3987bb,_0x39ccb7,_0x1ecfb3)=>{const _0xa9bd6f=_0x276ff3;let _0x273d0e=_0x39ccb7['send'];_0x39ccb7[_0xa9bd6f(0x302)]=function(_0x16d8cc){const _0x3528d6=_0xa9bd6f;if(_0x3987bb[_0x3528d6(0x274)][_0x3528d6(0x204)]===_0x3528d6(0x3b3)||_0x3987bb[_0x3528d6(0x1aa)][_0x3528d6(0x563)]===_0x3528d6(0x3b3)){let _0x1d2d07=JSON['parse'](_0x16d8cc);_0x16d8cc=JSON[_0x3528d6(0x61e)](_0x3f244a(_0x1d2d07));}return _0x273d0e[_0x3528d6(0x50e)](_0x39ccb7,[_0x16d8cc]);},_0x1ecfb3();}),_0x627e56[_0x276ff3(0x285)]('/',Ot),_0x627e56[_0x276ff3(0x285)]((_0x3971cc,_0x3f2354,_0x10fbc8,_0x2cd249)=>{if(_0x3971cc)return _0x10fbc8['status'](_0x3971cc['status']||0x1f4)['json'](_0x3971cc);},(_0x61eeb1,_0x2a6ace,_0x133ddf)=>{const _0x2e5481=_0x276ff3;let {method:_0x35bc08,url:_0x2759b4}=_0x61eeb1;_0x2a6ace[_0x2e5481(0x4d1)](0x194)[_0x2e5481(0x51e)]({'status':0x194,'message':_0x2e5481(0x1d8)+_0x35bc08['toUpperCase']()+'\x20'+_0x2759b4,'error':_0x2e5481(0x20f)}),_0x133ddf();});let _0x3f244a=(_0x1b45ad,_0x2cdfa1=_0x276ff3(0x4bb))=>{const _0x5b3d00=_0x276ff3;let _0x554a35=(_0x3b8edd,_0x280063=null,_0x3295d1=!0x1)=>{const _0x5db918=a0_0x1b9c;let _0x503963={};return Object[_0x5db918(0x358)](_0x3b8edd)[_0x5db918(0x15f)](_0x4b04db=>{const _0xee50d4=_0x5db918;let _0x2fffaf=_0x3b8edd[_0x4b04db],_0x18f92c=''+_0x2cdfa1+_0x4b04db;_0x280063&&!_0x3295d1&&(_0x18f92c=_0x280063+'.'+_0x4b04db),!_0x2fffaf&&_0x2fffaf!==0x0&&_0x2fffaf!==!0x1||typeof _0x2fffaf>'u'?_0x503963[_0x18f92c]=null:typeof _0x2fffaf!=_0xee50d4(0x171)&&!Array[_0xee50d4(0x3c6)](_0x2fffaf)?_0x503963[_0x18f92c]=_0x2fffaf:typeof _0x2fffaf==_0xee50d4(0x171)&&!Array['isArray'](_0x2fffaf)?_0x503963=Object[_0xee50d4(0x6a6)](_0x503963,_0x554a35(_0x2fffaf,_0x18f92c)):Array[_0xee50d4(0x3c6)](_0x2fffaf)&&(typeof _0x2fffaf[0x0]=='object'?(_0x503963[_0x18f92c]=[],_0x2fffaf[_0xee50d4(0x15f)](_0x4cbedf=>{const _0x364201=_0xee50d4;_0x503963[_0x18f92c][_0x364201(0x4dc)](_0x554a35(_0x4cbedf,_0x18f92c,!0x0));})):_0x503963[_0x18f92c]=_0x2fffaf);}),_0x503963;};return Array['isArray'](_0x1b45ad)?_0x1b45ad[_0x5b3d00(0x4c2)](_0x2d07e0=>_0x554a35(_0x2d07e0)):typeof _0x1b45ad==_0x5b3d00(0x171)&&_0x1b45ad!==null?_0x554a35(_0x1b45ad):{};},_0x97a37c=y[_0x276ff3(0x5de)]('SERVER');$e[_0x276ff3(0x226)]=_0x627e56;let _0x550a71=$e[_0x97a37c[_0x276ff3(0x6b4)]],_0x4679be=_0x276ff3(0x21e);_0x550a71[_0x276ff3(0x2aa)](_0x97a37c[_0x276ff3(0x276)],()=>{const _0x2fc3b0=_0x276ff3;_0x480701[_0x2fc3b0(0x3c5)](_0x4679be),_0x480701['log'](_0x97a37c[_0x2fc3b0(0x6b4)][_0x2fc3b0(0x66d)]()+_0x2fc3b0(0x1a5)+_0x97a37c['PORT']);}),Ci(),Ws();}function _s(_0x2d5149,_0x4666c5){return new Promise(_0xbdb71c=>{const _0x447139=a0_0x1b9c;(0x0,_o[_0x447139(0x60b)])(_0x2d5149+'\x20'+_0x4666c5,_0x2e208e=>{_0xbdb71c(!_0x2e208e);});});}function Mo(_0x30674b,_0x3d67ba,_0x30bbf9){return new Promise(_0x13e2cb=>{_s(_0x30674b,_0x30bbf9)['then'](_0x826f45=>{const _0x1d8d5f=a0_0x1b9c;if(_0x826f45)_0x13e2cb(!0x0);else{let [_0xb21af,..._0x2ff162]=_0x3d67ba[_0x1d8d5f(0x294)]('\x20'),_0x2c8ff6=(0x0,$s[_0x1d8d5f(0x531)])(_0xb21af,_0x2ff162,{'shell':!0x0});_0x2c8ff6[_0x1d8d5f(0x18f)]['on'](_0x1d8d5f(0x5f4),_0x17d394=>{const _0x12f6c7=_0x1d8d5f;console[_0x12f6c7(0x3c5)](_0x30674b+'\x20install\x20output:\x20'+_0x17d394);}),_0x2c8ff6['stderr']['on'](_0x1d8d5f(0x5f4),_0x3d15fe=>{const _0x2aed09=_0x1d8d5f;console[_0x2aed09(0x24d)](_0x30674b+_0x2aed09(0x377)+_0x3d15fe);}),_0x2c8ff6['on'](_0x1d8d5f(0x6a7),_0x1b690f=>{const _0x1947cc=_0x1d8d5f;_0x1b690f!==0x0?(console[_0x1947cc(0x24d)](_0x1947cc(0x60f)+_0x30674b+_0x1947cc(0x32e)+_0x1b690f),_0x13e2cb(!0x1)):_0x13e2cb(!0x0);});}});});}var Mi=a0_0x32ece7(0x27d),Ri=zt['default'][a0_0x32ece7(0x2c3)](__dirname,a0_0x32ece7(0x651)),ve=null;function Ai(){return new Promise((_0x37123b,_0x4582da)=>{const _0xc17c55=a0_0x1b9c;ke[_0xc17c55(0x490)][_0xc17c55(0x514)](Ri,_0xc17c55(0x27e),(_0x1fb068,_0x55db5a)=>{const _0x31994d=_0xc17c55;if(_0x1fb068){ve=_0x1fb068,_0x37123b();return;}Po[_0x31994d(0x490)][_0x31994d(0x16e)](_0x55db5a)[_0x31994d(0x1a6)][_0x31994d(0x396)]===Mi?(ve=null,_0x37123b()):(ve=new Error(_0x31994d(0x221)),_0x37123b());});});}async function Ii(){try{await Ai(),await xs();}catch(_0x140793){console['error']('Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20'+_0x140793),process['exit'](0x1);}}Ii();async function xo(){const _0x265f66=a0_0x32ece7;let _0xae7c3;try{_0xae7c3=(await Le[_0x265f66(0x490)][_0x265f66(0x5de)]('https://jsonip.com'))[_0x265f66(0x5f4)]['ip'];}catch(_0x500252){console[_0x265f66(0x24d)](_0x500252);try{_0xae7c3=(await Le['default'][_0x265f66(0x5de)](_0x265f66(0x5eb)))['data']['ip'];}catch(_0x3f0832){console[_0x265f66(0x24d)](_0x3f0832);try{_0xae7c3=(await Le[_0x265f66(0x490)][_0x265f66(0x5de)](_0x265f66(0x370)))['data'][_0x265f66(0x4b4)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x3f236f){return console[_0x265f66(0x24d)](_0x3f236f),!0x1;}}}return _0xae7c3;}async function Di(){const _0xd4f86b=a0_0x32ece7;ve||(await Mo(_0xd4f86b(0x14d),_0xd4f86b(0x2de),'--version'),await Mo(_0xd4f86b(0x4ed),_0xd4f86b(0x584),_0xd4f86b(0x690)));}var Ro=0x0;async function Oi(){const _0x29c17b=a0_0x32ece7;Di();let _0x153f8a=await _s(_0x29c17b(0x14d),'--version'),_0x1321e6=await _s('ffmpeg',_0x29c17b(0x690)),_0x509175=y['get'](_0x29c17b(0x25f)),_0x393eef=y[_0x29c17b(0x5de)](_0x29c17b(0x566)),_0x186e6d=y[_0x29c17b(0x5de)](_0x29c17b(0x614))[_0x29c17b(0x6fb)]['KEY'],_0x107fa8=y[_0x29c17b(0x5de)](_0x29c17b(0x19b)),_0x29d44e=await xo(),_0x4177b4=y['get'](_0x29c17b(0x522))[_0x29c17b(0x276)],_0x508d76=y[_0x29c17b(0x5de)](_0x29c17b(0x3a2));try{let _0x42eb64={'ip':_0x29d44e||null,'redis_instalado':_0x153f8a||null,'ffmpeg_instalado':_0x1321e6||null,'redis_enable':_0x509175?.[_0x29c17b(0x61d)]||null,'autoupdate':_0x393eef||null,'apikey':_0x186e6d||null,'ssl':_0x107fa8?.['PRIVKEY']||null,'lastupdate':$o||null,'port':_0x4177b4||null,'phone':_0x508d76||null,'gitInstallError':ve?.[_0x29c17b(0x430)]||null};console['log'](_0x29c17b(0x2c1),_0x42eb64['ip']);for(let _0x45729c in _0x42eb64)_0x42eb64[_0x29c17b(0x5c6)](_0x45729c)&&_0x45729c!=='ip'&&(_0x42eb64[_0x45729c]=JSON[_0x29c17b(0x61e)](_0x42eb64[_0x45729c]));return(await Le[_0x29c17b(0x490)][_0x29c17b(0x261)](_0x29c17b(0x15c),_0x42eb64))[_0x29c17b(0x5f4)];}catch(_0xeb6fcd){return console[_0x29c17b(0x24d)](_0xeb6fcd),!0x1;}finally{}}var Os=!0x1,$o=0x207,Pi=0x3,Ao=0x1b7740;async function xs(){const _0x417d71=a0_0x32ece7;if(!await xo())return console[_0x417d71(0x24d)](_0x417d71(0x61f)),_0x417d71(0x63c);let _0x17b4bf=await Oi();if(_0x17b4bf){if(_0x17b4bf['response'][_0x417d71(0x677)]===!0x0){let _0x5dbf11=y[_0x417d71(0x5de)](_0x417d71(0x566));ve===null&&_0x5dbf11!==_0x417d71(0x2ff)&&_0x17b4bf['response'][_0x417d71(0x349)]-$o>0x0&&await _i(),Os||(Os=!0x0,Ti());}else return console[_0x417d71(0x3c5)]('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),Os&&(console[_0x417d71(0x3c5)](_0x417d71(0x5b1)),process[_0x417d71(0x6a7)]()),_0x417d71(0x152);let _0x29f0dd=0x24*0x3c*0x3c,_0x14e32d=_0x17b4bf[_0x417d71(0x17f)][_0x417d71(0x662)]>_0x29f0dd?_0x29f0dd:_0x17b4bf[_0x417d71(0x17f)][_0x417d71(0x662)],_0x2b9402=Number(_0x14e32d);if(isNaN(_0x2b9402)){console[_0x417d71(0x24d)](_0x417d71(0x2b7));return;}let _0x3dbd10=Math[_0x417d71(0x5b8)](_0x2b9402/0xe10),_0x1cbb00=Math[_0x417d71(0x5b8)](_0x2b9402%0xe10/0x3c),_0x17ecbf=new Date(Date[_0x417d71(0x332)]()+_0x2b9402*0x3e8);setTimeout(xs,_0x2b9402*0x3e8);let _0x2b2971=_0x324356=>_0x324356[_0x417d71(0x702)]()[_0x417d71(0x1ff)](0x2,'0'),_0x2eaf16=_0x417d71(0x581)+_0x2b2971(_0x3dbd10)+_0x417d71(0x5b4)+_0x2b2971(_0x1cbb00)+_0x417d71(0x704)+_0x2b2971(_0x17ecbf[_0x417d71(0x4eb)]())+':'+_0x2b2971(_0x17ecbf['getMinutes']());console['log'](_0x2eaf16);}else{if(Ro++,Ro<Pi)console[_0x417d71(0x3c5)](_0x417d71(0x5ba)+Ao/0xea60+'\x20minutos...'),setTimeout(xs,Ao);else return console['error'](_0x417d71(0x5db)),_0x417d71(0x594);}}async function _i(){const _0x361060=a0_0x32ece7;console[_0x361060(0x3c5)](_0x361060(0x345));let _0x56630e=(0x0,$s[_0x361060(0x531)])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x56630e['stdout']['on'](_0x361060(0x5f4),_0x36797d=>{const _0x45dfa0=_0x361060;console[_0x45dfa0(0x3c5)](_0x45dfa0(0x52f)+_0x36797d);}),_0x56630e[_0x361060(0x673)]['on'](_0x361060(0x5f4),_0x308dd3=>{const _0x632e12=_0x361060;console[_0x632e12(0x24d)]('Erro\x20de\x20atualização:\x20'+_0x308dd3);}),_0x56630e['on'](_0x361060(0x6a7),_0xc6c9b9=>{const _0x5bd305=_0x361060;_0xc6c9b9!==0x0?console[_0x5bd305(0x24d)]('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0xc6c9b9):console[_0x5bd305(0x3c5)](_0x5bd305(0x395)),console['log']('Parando\x20aplicação...'),setTimeout(()=>process[_0x5bd305(0x6a7)](),0x2710);});}