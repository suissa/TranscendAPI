const a0_0x55f44d=a0_0x1182;(function(_0x563dfa,_0x5ca992){const _0x5e1436=a0_0x1182,_0x2136a8=_0x563dfa();while(!![]){try{const _0x25ddc9=parseInt(_0x5e1436(0x5af))/0x1*(parseInt(_0x5e1436(0x1e0))/0x2)+-parseInt(_0x5e1436(0x820))/0x3+parseInt(_0x5e1436(0x899))/0x4+parseInt(_0x5e1436(0x312))/0x5+-parseInt(_0x5e1436(0x333))/0x6+-parseInt(_0x5e1436(0x685))/0x7+parseInt(_0x5e1436(0x576))/0x8*(parseInt(_0x5e1436(0x5d6))/0x9);if(_0x25ddc9===_0x5ca992)break;else _0x2136a8['push'](_0x2136a8['shift']());}catch(_0x295354){_0x2136a8['push'](_0x2136a8['shift']());}}}(a0_0xb3e5,0x98a74));var Lo=Object[a0_0x55f44d(0x23b)],ke=Object[a0_0x55f44d(0x7c4)],Fo=Object[a0_0x55f44d(0x4ea)],Uo=Object[a0_0x55f44d(0x2ed)],Jo=Object['getPrototypeOf'],qo=Object[a0_0x55f44d(0x223)][a0_0x55f44d(0x596)],Vo=(_0x1a4313,_0x426f46)=>{for(var _0x3e91df in _0x426f46)ke(_0x1a4313,_0x3e91df,{'get':_0x426f46[_0x3e91df],'enumerable':!0x0});},Fs=(_0x428fde,_0x998e2f,_0x5ea8dc,_0x5ea2da)=>{const _0x164133=a0_0x55f44d;if(_0x998e2f&&typeof _0x998e2f==_0x164133(0x2bd)||typeof _0x998e2f=='function'){for(let _0x26d9dd of Uo(_0x998e2f))!qo[_0x164133(0x516)](_0x428fde,_0x26d9dd)&&_0x26d9dd!==_0x5ea8dc&&ke(_0x428fde,_0x26d9dd,{'get':()=>_0x998e2f[_0x26d9dd],'enumerable':!(_0x5ea2da=Fo(_0x998e2f,_0x26d9dd))||_0x5ea2da[_0x164133(0x7af)]});}return _0x428fde;},T=(_0x53d441,_0x44fecc,_0x37e43f)=>(_0x37e43f=_0x53d441!=null?Lo(Jo(_0x53d441)):{},Fs(_0x44fecc||!_0x53d441||!_0x53d441['__esModule']?ke(_0x37e43f,a0_0x55f44d(0x66b),{'value':_0x53d441,'enumerable':!0x0}):_0x37e43f,_0x53d441)),Go=_0x280f66=>Fs(ke({},a0_0x55f44d(0x603),{'value':!0x0}),_0x280f66),oi={};Vo(oi,{'subdomain':()=>xs}),module[a0_0x55f44d(0x697)]=Go(oi);var Io=T(require('compression')),Js=require('fs'),qs=require('js-yaml'),Vs=require(a0_0x55f44d(0x6a1)),je=require(a0_0x55f44d(0x6a1)),ne=process[a0_0x55f44d(0x724)](),me=(0x0,je[a0_0x55f44d(0x1e5)])(ne,'instances'),Us=(0x0,je[a0_0x55f44d(0x1e5)])(ne,a0_0x55f44d(0x838)),Qi=(0x0,je['join'])(ne,'store',a0_0x55f44d(0x4ac)),ns=class{constructor(){const _0x473705=a0_0x55f44d;this[_0x473705(0x48b)]();}[a0_0x55f44d(0x1ef)](_0x2cb714){return this['env'][_0x2cb714];}[a0_0x55f44d(0x48b)](){const _0x5b2ac2=a0_0x55f44d;this[_0x5b2ac2(0x6ea)]=process[_0x5b2ac2(0x6ea)]?.[_0x5b2ac2(0x431)]!==_0x5b2ac2(0x59f)?this[_0x5b2ac2(0x420)]():this[_0x5b2ac2(0x395)](),process[_0x5b2ac2(0x6ea)]?.[_0x5b2ac2(0x431)]===_0x5b2ac2(0x59f)&&(this[_0x5b2ac2(0x6ea)][_0x5b2ac2(0x7c6)]['TYPE']=_0x5b2ac2(0x847),this[_0x5b2ac2(0x6ea)][_0x5b2ac2(0x7c6)]['PORT']=Number[_0x5b2ac2(0x55b)](process['env']?.[_0x5b2ac2(0x4dd)]??_0x5b2ac2(0x8b2)));}[a0_0x55f44d(0x420)](){const _0x458e4e=a0_0x55f44d;return(0x0,qs[_0x458e4e(0x413)])((0x0,Js[_0x458e4e(0x84b)])((0x0,Vs['join'])(Us,_0x458e4e(0x2e7)),{'encoding':_0x458e4e(0x7c1)}));}[a0_0x55f44d(0x395)](){const _0x3ef894=a0_0x55f44d;return{'SERVER':{'TYPE':process[_0x3ef894(0x6ea)]['SERVER_TYPE'],'PORT':Number[_0x3ef894(0x55b)](process[_0x3ef894(0x6ea)][_0x3ef894(0x4dd)]),'URL':process['env'][_0x3ef894(0x68d)]},'CORS':{'ORIGIN':process[_0x3ef894(0x6ea)][_0x3ef894(0x234)][_0x3ef894(0x44b)](','),'METHODS':process[_0x3ef894(0x6ea)][_0x3ef894(0x41f)][_0x3ef894(0x44b)](','),'CREDENTIALS':process[_0x3ef894(0x6ea)]?.['CORS_CREDENTIALS']==='true'},'SSL_CONF':{'PRIVKEY':process[_0x3ef894(0x6ea)]?.[_0x3ef894(0x5d3)],'FULLCHAIN':process[_0x3ef894(0x6ea)]?.[_0x3ef894(0x4eb)]},'STORE':{'CLEANING_INTERVAL':Number[_0x3ef894(0x3bc)](process[_0x3ef894(0x6ea)]?.[_0x3ef894(0x7c9)])?Number[_0x3ef894(0x55b)](process[_0x3ef894(0x6ea)][_0x3ef894(0x7c9)]):void 0x0,'MESSAGES':process[_0x3ef894(0x6ea)]?.[_0x3ef894(0x2d1)]==='true','CONTACTS':process[_0x3ef894(0x6ea)]?.[_0x3ef894(0x35e)]===_0x3ef894(0x59f),'CHATS':process['env']?.[_0x3ef894(0x4d3)]===_0x3ef894(0x59f)},'DATABASE':{'CONNECTION':{'HOST':process[_0x3ef894(0x6ea)]?.[_0x3ef894(0x6a8)],'PORT':Number[_0x3ef894(0x55b)](process[_0x3ef894(0x6ea)]?.[_0x3ef894(0x6a8)]),'USER':process[_0x3ef894(0x6ea)][_0x3ef894(0x370)],'PASSWORD':process[_0x3ef894(0x6ea)][_0x3ef894(0x8a2)],'URI':process[_0x3ef894(0x6ea)]['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process[_0x3ef894(0x6ea)][_0x3ef894(0x427)]},'ENABLED':process[_0x3ef894(0x6ea)]?.[_0x3ef894(0x877)]==='true'},'REDIS':{'ENABLED':process[_0x3ef894(0x6ea)]?.[_0x3ef894(0x444)]===_0x3ef894(0x59f),'URI':process[_0x3ef894(0x6ea)]['REDIS_URI']||_0x3ef894(0x76f),'PREFIX_KEY':process[_0x3ef894(0x6ea)][_0x3ef894(0x602)]||_0x3ef894(0x4c8)},'LOG':{'LEVEL':process[_0x3ef894(0x6ea)]?.[_0x3ef894(0x731)][_0x3ef894(0x44b)](','),'COLOR':process[_0x3ef894(0x6ea)]?.[_0x3ef894(0x5d7)]==='true'},'PROXY':Number[_0x3ef894(0x55b)](process['env']?.['PROXY']),'AUTHENTICATION':{'TYPE':process['env'][_0x3ef894(0x2ac)],'API_KEY':{'KEY':process['env']['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number[_0x3ef894(0x3bc)](process[_0x3ef894(0x6ea)]?.[_0x3ef894(0x6d0)])?Number['parseInt'](process['env']['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process[_0x3ef894(0x6ea)]['AUTHENTICATION_JWT_SECRET']}}};}},b=new ns(),xo=T(require(a0_0x55f44d(0x739))),ge=T(require(a0_0x55f44d(0x40a))),js=require(a0_0x55f44d(0x6a1)),cs=T(require(a0_0x55f44d(0x70e))),ls=(_0x2374e7=>(_0x2374e7[a0_0x55f44d(0x62a)]=a0_0x55f44d(0x72f),_0x2374e7['INFO']=a0_0x55f44d(0x529),_0x2374e7[a0_0x55f44d(0x519)]=a0_0x55f44d(0x7f1),_0x2374e7[a0_0x55f44d(0x4ef)]=a0_0x55f44d(0x50c),_0x2374e7[a0_0x55f44d(0x669)]=a0_0x55f44d(0x2c2),_0x2374e7[a0_0x55f44d(0x791)]=a0_0x55f44d(0x831),_0x2374e7[a0_0x55f44d(0x51c)]=a0_0x55f44d(0x33f),_0x2374e7))(ls||{}),Gs=(_0x3227ad=>(_0x3227ad[a0_0x55f44d(0x62a)]='\x1b[32m%s\x1b[0m',_0x3227ad[a0_0x55f44d(0x51c)]=a0_0x55f44d(0x788),_0x3227ad[a0_0x55f44d(0x836)]=a0_0x55f44d(0x47e),_0x3227ad[a0_0x55f44d(0x519)]=a0_0x55f44d(0x6e7),_0x3227ad[a0_0x55f44d(0x4ef)]=a0_0x55f44d(0x36c),_0x3227ad[a0_0x55f44d(0x669)]='\x1b[36m%s\x1b[0m',_0x3227ad[a0_0x55f44d(0x791)]=a0_0x55f44d(0x774),_0x3227ad))(Gs||{}),Bs=(_0x3a8891=>(_0x3a8891[a0_0x55f44d(0x62a)]=a0_0x55f44d(0x62a),_0x3a8891[a0_0x55f44d(0x519)]='WARN',_0x3a8891['INFO']=a0_0x55f44d(0x836),_0x3a8891[a0_0x55f44d(0x51c)]=a0_0x55f44d(0x51c),_0x3a8891[a0_0x55f44d(0x4ef)]='ERROR',_0x3a8891['DEBUG']=a0_0x55f44d(0x669),_0x3a8891[a0_0x55f44d(0x791)]=a0_0x55f44d(0x791),_0x3a8891))(Bs||{}),Ws=(_0x15193e=>(_0x15193e[a0_0x55f44d(0x62a)]=a0_0x55f44d(0x37e),_0x15193e[a0_0x55f44d(0x836)]=a0_0x55f44d(0x367),_0x15193e[a0_0x55f44d(0x519)]='\x1b[43m',_0x15193e[a0_0x55f44d(0x51c)]=a0_0x55f44d(0x7d0),_0x15193e[a0_0x55f44d(0x4ef)]=a0_0x55f44d(0x6ab),_0x15193e[a0_0x55f44d(0x669)]=a0_0x55f44d(0x7ce),_0x15193e[a0_0x55f44d(0x791)]='\x1b[47m',_0x15193e))(Ws||{}),R=class{constructor(_0x5ede92=a0_0x55f44d(0x705)){const _0x120011=a0_0x55f44d;this[_0x120011(0x26d)]=_0x5ede92,this[_0x120011(0x473)]=b;}['setContext'](_0x2ce51e){const _0x363134=a0_0x55f44d;this[_0x363134(0x26d)]=_0x2ce51e;}[a0_0x55f44d(0x34e)](_0x24c053,_0x27df06){const _0xae959f=a0_0x55f44d;let _0x3b6277=[];this[_0xae959f(0x473)][_0xae959f(0x1ef)](_0xae959f(0x62a))['LEVEL'][_0xae959f(0x27f)](_0x42e32e=>_0x3b6277['push'](Bs[_0x42e32e]));let _0x19b5d4=typeof _0x24c053;_0x3b6277['includes'](_0x27df06)&&(b['get'](_0xae959f(0x62a))['COLOR']?(console[_0xae959f(0x430)](_0xae959f(0x3a9)+Gs[_0x27df06],_0xae959f(0x6c5),(0x0,cs[_0xae959f(0x66b)])()[_0xae959f(0x3cd)](_0xae959f(0x78d)),_0xae959f(0x61f),ls[_0x27df06]+Ws[_0x27df06]+_0xae959f(0x3a9),_0x27df06+_0xae959f(0x589),_0xae959f(0x696),this[_0xae959f(0x26d)]+_0xae959f(0x61f),ls[_0x27df06],_0x19b5d4!==_0xae959f(0x2bd)?_0x24c053:'',_0xae959f(0x61f)),_0x19b5d4===_0xae959f(0x2bd)&&console[_0xae959f(0x430)](_0x24c053,'\x0a')):console[_0xae959f(0x430)]((0x0,cs[_0xae959f(0x66b)])()[_0xae959f(0x3cd)](_0xae959f(0x281)),_0x27df06+'\x20',''+this[_0xae959f(0x26d)],_0x24c053));}[a0_0x55f44d(0x430)](_0x5cc010){const _0x95c218=a0_0x55f44d;this[_0x95c218(0x34e)](_0x5cc010,_0x95c218(0x62a));}[a0_0x55f44d(0x267)](_0x1b14b3){const _0x233154=a0_0x55f44d;this[_0x233154(0x34e)](_0x1b14b3,_0x233154(0x836));}['warn'](_0x44a157){const _0x609748=a0_0x55f44d;this[_0x609748(0x34e)](_0x44a157,_0x609748(0x519));}[a0_0x55f44d(0x752)](_0x371fd3){const _0x187ad2=a0_0x55f44d;this[_0x187ad2(0x34e)](_0x371fd3,_0x187ad2(0x4ef));}[a0_0x55f44d(0x1fa)](_0x5ddc2c){const _0x3c0bb1=a0_0x55f44d;this[_0x3c0bb1(0x34e)](_0x5ddc2c,_0x3c0bb1(0x791));}[a0_0x55f44d(0x43a)](_0x27ddb2){const _0x5c5b26=a0_0x55f44d;this[_0x5c5b26(0x34e)](_0x27ddb2,_0x5c5b26(0x669));}[a0_0x55f44d(0x5fd)](_0xe353a0){const _0x205046=a0_0x55f44d;this[_0x205046(0x34e)](_0xe353a0,_0x205046(0x51c));}};function zs(){const _0x7e965c=a0_0x55f44d;process['on'](_0x7e965c(0x2e4),(_0x119452,_0x4cb67c)=>{const _0x535327=_0x7e965c;new R(_0x535327(0x2e4))[_0x535327(0x752)]({'origin':_0x4cb67c,'stderr':process['stderr']['fd'],'error':_0x119452});}),process['on']('unhandledRejection',(_0x1ba51a,_0x153a22)=>{const _0x275d91=_0x7e965c;new R(_0x275d91(0x825))[_0x275d91(0x752)]({'origin':_0x153a22,'stderr':process['stderr']['fd'],'error':_0x1ba51a});});}var Hs=T(require('eventemitter2')),us=new Hs['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),we=require('mongoose'),Ce=T(require(a0_0x55f44d(0x3ed))),Le=new R(a0_0x55f44d(0x574)),L=b[a0_0x55f44d(0x1ef)]('DATABASE'),O=L[a0_0x55f44d(0x7a1)]?L[a0_0x55f44d(0x1dd)]['URI']?Ce['default']['createConnection'](L[a0_0x55f44d(0x1dd)][a0_0x55f44d(0x309)],{'dbName':L[a0_0x55f44d(0x1dd)][a0_0x55f44d(0x639)]+a0_0x55f44d(0x3fb)}):Ce[a0_0x55f44d(0x66b)][a0_0x55f44d(0x424)]('mongodb://'+L[a0_0x55f44d(0x1dd)][a0_0x55f44d(0x545)]+':'+L[a0_0x55f44d(0x1dd)][a0_0x55f44d(0x777)]+a0_0x55f44d(0x543),{'user':L['CONNECTION'][a0_0x55f44d(0x77e)],'pass':L[a0_0x55f44d(0x1dd)][a0_0x55f44d(0x67a)],'dbName':L[a0_0x55f44d(0x1dd)]['DB_PREFIX_NAME']+'-whatsapp-api'}):null;L[a0_0x55f44d(0x7a1)]&&Le[a0_0x55f44d(0x267)]('ON\x20-\x20dbName:\x20'+O['$dbName']);var fe=L[a0_0x55f44d(0x7a1)]?L[a0_0x55f44d(0x1dd)][a0_0x55f44d(0x309)]?Ce[a0_0x55f44d(0x66b)]['createConnection'](L[a0_0x55f44d(0x1dd)][a0_0x55f44d(0x309)],{'dbName':a0_0x55f44d(0x8a1)}):Ce['default'][a0_0x55f44d(0x424)](a0_0x55f44d(0x702)+L[a0_0x55f44d(0x1dd)][a0_0x55f44d(0x545)]+':'+L[a0_0x55f44d(0x1dd)][a0_0x55f44d(0x777)]+a0_0x55f44d(0x543),{'user':L['CONNECTION'][a0_0x55f44d(0x77e)],'pass':L[a0_0x55f44d(0x1dd)]['PASSWORD'],'dbName':'cachedContacts-whatsapp'}):null;fe&&Le[a0_0x55f44d(0x267)]('ON\x20-\x20dbName:\x20'+fe[a0_0x55f44d(0x4d6)]),process['on']('beforeExit',()=>{const _0x2ae0c8=a0_0x55f44d;O&&O['close'](()=>{const _0x29aa72=a0_0x1182;Le[_0x29aa72(0x267)]('Database\x20connection\x20closed.');}),fe&&fe[_0x2ae0c8(0x4ae)](()=>{const _0x3523eb=_0x2ae0c8;Le[_0x3523eb(0x267)]('CacheContacts\x20database\x20connection\x20closed.');});});var Bo=new we[(a0_0x55f44d(0x759))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Wo=new we[(a0_0x55f44d(0x759))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),zo=new we[(a0_0x55f44d(0x759))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),Ho=new we['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Bo],'default':[]}},{'_id':!0x1}),Ko=new we[(a0_0x55f44d(0x759))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Ho,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Wo},'groupdata':{'type':zo,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Ks=_0x3bec89=>{const _0x201413=a0_0x55f44d;let _0x276558='z_'+_0x3bec89+_0x201413(0x4c6);return O?.[_0x201413(0x676)](_0x201413(0x57e),Ko,_0x276558);},Qs=require(a0_0x55f44d(0x3ed)),Qo=new Qs['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Ys=_0x2db74b=>{const _0x28b70d=a0_0x55f44d;let _0x33d7e4='z_'+_0x2db74b+_0x28b70d(0x616);return O?.[_0x28b70d(0x676)](_0x28b70d(0x3ac),Qo,_0x33d7e4);},Xs=require('mongoose'),ds=class{},Yo=new Xs['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Zs=fe?.[a0_0x55f44d(0x676)](ds[a0_0x55f44d(0x754)],Yo,'ContactsAndGroups'),ea=require(a0_0x55f44d(0x3ed)),Xo=new ea['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),ta=_0x465bd8=>{const _0x29ad22=a0_0x55f44d;let _0x11866a='z_'+_0x465bd8+_0x29ad22(0x6d9);return O?.[_0x29ad22(0x676)]('MessageModel',Xo,_0x11866a);},sa=require('mongoose'),ps=class{},Zo=new sa['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),aa=O?.[a0_0x55f44d(0x676)](ps[a0_0x55f44d(0x754)],Zo,a0_0x55f44d(0x73c)),oa=require(a0_0x55f44d(0x3ed)),hs=class{},ra=new oa[(a0_0x55f44d(0x759))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ra['pre'](a0_0x55f44d(0x849),function(_0x34ae5c){const _0x2b2d1b=a0_0x55f44d;delete this['flowActive'],delete this[_0x2b2d1b(0x226)],delete this['flowPrefixCommand'],delete this['flowStopConversation'],delete this['flowStopMinutes'],_0x34ae5c();});var ia=O?.['model'](hs[a0_0x55f44d(0x754)],ra,a0_0x55f44d(0x745)),k=require(a0_0x55f44d(0x3ed)),na=require(a0_0x55f44d(0x89c)),Fe=class{},ca=new k['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),gs=new k['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),er=new k[(a0_0x55f44d(0x759))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x55f44d(0x340)},'footerText':{'type':String},'buttonText':{'type':String,'default':'Selecione'},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),la=new k[(a0_0x55f44d(0x759))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),tr=new k[(a0_0x55f44d(0x759))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),sr=new k[(a0_0x55f44d(0x759))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),fs=new k[(a0_0x55f44d(0x759))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ua=new k['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':er},'apirequest':tr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),da=new k[(a0_0x55f44d(0x759))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ws=new k[(a0_0x55f44d(0x759))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,na['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'global':{'type':String,'default':a0_0x55f44d(0x514)},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x11b064=a0_0x55f44d;return _0x11b064(0x65b)+Math[_0x11b064(0x44e)]()[_0x11b064(0x6d8)](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[fs],'variablesNotFound':{'type':[String]},'blocks':[ua],'groups':[ca],'conditions':[la],'varedits':[da],'replyOptions':{'type':[gs],'default':[]}});ws[a0_0x55f44d(0x665)](a0_0x55f44d(0x849),function(_0x2de99c){const _0x4a5af1=a0_0x55f44d;let _0x2c1229=new Set(),_0x2f5731=new Set(this[_0x4a5af1(0x353)]?.[_0x4a5af1(0x2b0)](_0x2bbfb8=>_0x2bbfb8['name'])),_0x5301b9=JSON[_0x4a5af1(0x319)](this),_0x3c9fb4=/{{(?!_)([^}]*)}}/g,_0xac32a9;for(;(_0xac32a9=_0x3c9fb4[_0x4a5af1(0x894)](_0x5301b9))!==null;)_0x2f5731[_0x4a5af1(0x5ff)](_0xac32a9[0x1])||_0x2c1229[_0x4a5af1(0x53f)](_0xac32a9[0x1]);_0x2c1229['size']>0x0?(console['warn'](_0x4a5af1(0x2ad),Array[_0x4a5af1(0x4ed)](_0x2c1229)),this['variablesNotFound']=Array[_0x4a5af1(0x4ed)](_0x2c1229)):this['variablesNotFound']=[],_0x2de99c();}),ws[a0_0x55f44d(0x665)](a0_0x55f44d(0x673),function(_0x1d7ec7){const _0x3a6330=a0_0x55f44d;let _0x5af35b=this[_0x3a6330(0x336)]();if(_0x5af35b&&typeof _0x5af35b==_0x3a6330(0x2bd)&&_0x3a6330(0x415)in _0x5af35b){let _0x3a5928=_0x5af35b[_0x3a6330(0x415)];if(_0x3a5928){let _0x43aac0=new Set(),_0x13abdf=new Set(_0x3a5928['variables']?.['map'](_0x453528=>_0x453528[_0x3a6330(0x754)])),_0x26afc0=JSON[_0x3a6330(0x319)](_0x3a5928),_0x2cd96e=/{{(?!_)([^}]*)}}/g,_0x1a21e8;for(;(_0x1a21e8=_0x2cd96e[_0x3a6330(0x894)](_0x26afc0))!==null;)_0x13abdf[_0x3a6330(0x5ff)](_0x1a21e8[0x1])||_0x43aac0[_0x3a6330(0x53f)](_0x1a21e8[0x1]);_0x43aac0[_0x3a6330(0x533)]>0x0?(console[_0x3a6330(0x250)](_0x3a6330(0x2ad),Array[_0x3a6330(0x4ed)](_0x43aac0)),_0x3a5928['variablesNotFound']=Array[_0x3a6330(0x4ed)](_0x43aac0)):_0x3a5928[_0x3a6330(0x4c1)]=[],this[_0x3a6330(0x2b9)]({'$set':_0x3a5928});}}_0x1d7ec7();});var pa=_0x5e54a9=>{const _0x406966=a0_0x55f44d;let _0x2793fd='z_'+_0x5e54a9+'_Flows';return O?.['model'](_0x406966(0x64d),ws,_0x2793fd);},ar=new k[(a0_0x55f44d(0x759))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[fs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[sr]},{'_id':!0x1}),or=new k[(a0_0x55f44d(0x759))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[fs],'blocks':[ua],'groups':[ca],'conditions':[la],'varedits':[da],'replyOptions':{'type':[gs],'default':[]},'chatLog':ar,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':'open'},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'waitingMenu_replyOptions':{'type':[gs],'default':[]}}),ha=_0x4eeb93=>{const _0x28de53=a0_0x55f44d;let _0xebbe6a='z_'+_0x4eeb93+_0x28de53(0x30a);return O?.['model']('ConversationModel',or,_0xebbe6a);},rr=new k[(a0_0x55f44d(0x759))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ir=new k[(a0_0x55f44d(0x759))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),nr=new k[(a0_0x55f44d(0x759))]({'owner':{'type':String},'status':{'type':String,'default':'scheduled'},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':ir,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[rr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ga=_0x35b3c4=>{const _0x56aa74=a0_0x55f44d;let _0x5e69a7='z_'+_0x35b3c4+'_ScheduleMessages';return O?.[_0x56aa74(0x676)]('ScheduleMessageModel',nr,_0x5e69a7);},ms=class{},cr=new k[(a0_0x55f44d(0x759))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),lr=new k['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),ur=new k[(a0_0x55f44d(0x759))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x55f44d(0x1d7)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),dr=new k[(a0_0x55f44d(0x759))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),pr=new k[(a0_0x55f44d(0x759))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[dr]},'customFields':{'type':[lr]},'flowConfig':{'type':ur,'default':{}},'autoCompleteMessages':{'type':[cr],'default':[]}}),Ue=O?.[a0_0x55f44d(0x676)](ms['name'],pr,a0_0x55f44d(0x8a8)),ma=require(a0_0x55f44d(0x3ed)),hr=new ma['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),fa=_0x1820c1=>{const _0x585a5a=a0_0x55f44d;let _0x472dde='z_'+_0x1820c1+_0x585a5a(0x4f9);return O?.[_0x585a5a(0x676)](_0x585a5a(0x3b3),hr,_0x472dde);},x=class{constructor(_0xf97e19){const _0x5b7758=a0_0x55f44d;this[_0x5b7758(0x200)]=_0xf97e19['get'](_0x5b7758(0x674));}};function $(_0x5ed676){const _0x3482af=a0_0x55f44d;let _0x22dcd8={};for(let [_0x207058,_0x35e655]of Object['entries'](_0x5ed676))if(typeof _0x35e655==_0x3482af(0x2bd)&&!Array[_0x3482af(0x629)](_0x35e655)){for(let [_0x35b453,_0x113215]of Object['entries'](_0x35e655))_0x22dcd8[_0x207058+'.'+_0x35b453]=_0x113215;}else _0x22dcd8[_0x207058]=_0x35e655;return _0x22dcd8;}var Je=class{constructor(_0x3a9067,_0x215757,_0x414916,_0x43ae43,_0x275263,_0x142a4a,_0x24e0a8,_0x443e40,_0x2fd292,_0x1c1844,_0xbdcdfd,_0x38eba2){const _0x4e911f=a0_0x55f44d;this[_0x4e911f(0x57a)]=_0x3a9067,this[_0x4e911f(0x504)]=_0x215757,this['contact']=_0x414916,this[_0x4e911f(0x40d)]=_0x43ae43,this[_0x4e911f(0x745)]=_0x275263,this[_0x4e911f(0x4ac)]=_0x142a4a,this[_0x4e911f(0x49b)]=_0x24e0a8,this[_0x4e911f(0x4fb)]=_0x443e40,this[_0x4e911f(0x521)]=_0x2fd292,this['scheduleMessage']=_0x1c1844,this[_0x4e911f(0x725)]=_0xbdcdfd,this[_0x4e911f(0x7bb)]=_0x38eba2;}get[a0_0x55f44d(0x372)](){const _0x6eb4ed=a0_0x55f44d;return this[_0x6eb4ed(0x7bb)];}},qe=class{},Ve=class extends x{['getMessageModelForOwner'](_0x4b9d2e){return ta(_0x4b9d2e);}async['insert'](_0x1db0d0,_0x5a8029){const _0x561fa0=a0_0x55f44d;if(_0x1db0d0['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x561fa0(0x1ec)](_0x5a8029)[_0x561fa0(0x417)]([..._0x1db0d0]))[_0x561fa0(0x2af)]};}catch(_0x4c7155){return _0x4c7155;}}async[a0_0x55f44d(0x408)](_0x1d3f9b,_0x14cfb0){const _0x2000b4=a0_0x55f44d;try{let _0x1741a2=this[_0x2000b4(0x1ec)](_0x14cfb0),_0x59b3de=$(_0x1d3f9b[_0x2000b4(0x728)]);return await _0x1741a2[_0x2000b4(0x408)](_0x59b3de)[_0x2000b4(0x464)]({'messageTimestamp':-0x1})[_0x2000b4(0x4ee)](_0x1d3f9b?.[_0x2000b4(0x4ee)]??0x0)[_0x2000b4(0x2cc)]();}catch{return[];}}async[a0_0x55f44d(0x56f)](_0x58ca9a,_0x29772c){const _0x5a8991=a0_0x55f44d;try{let _0xd9d3c4=this['getMessageModelForOwner'](_0x29772c),_0x2d2d6e=$(_0x58ca9a['where']);await _0xd9d3c4[_0x5a8991(0x266)](_0x2d2d6e);}catch(_0x4ce9fc){console[_0x5a8991(0x752)](_0x4ce9fc);}}async[a0_0x55f44d(0x604)](_0x5156d1,_0x1b5122,_0x3b2098){const _0x174249=a0_0x55f44d;try{let _0xfb8bd2=this[_0x174249(0x1ec)](_0x3b2098),_0xc731b4=$(_0x5156d1[_0x174249(0x728)]);return await _0xfb8bd2[_0x174249(0x673)](_0xc731b4,{'$set':_0x1b5122},{'new':!0x0});}catch(_0x3c0402){throw console[_0x174249(0x752)](_0x3c0402),_0x3c0402;}}async['insertMany'](_0x5e1366,_0x452138){const _0x2ee003=a0_0x55f44d;if(_0x5e1366['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x2ee003(0x1ec)](_0x452138)[_0x2ee003(0x417)]([..._0x5e1366]))['length']};}catch(_0x1452e0){return console[_0x2ee003(0x430)](_0x2ee003(0x4e2),_0x1452e0),_0x1452e0;}}async[a0_0x55f44d(0x7c5)](_0x291ee4){const _0x3e32e6=a0_0x55f44d;try{return await this[_0x3e32e6(0x1ec)](_0x291ee4)['collection'][_0x3e32e6(0x83e)](),{'success':!0x0};}catch(_0x4dac37){return console[_0x3e32e6(0x752)](_0x4dac37),{'success':!0x1,'error':_0x4dac37};}}},Os=T(require(a0_0x55f44d(0x571))),f=T(require('@whiskeysockets/baileys')),Te=require('fs'),F=T(require(a0_0x55f44d(0x6a1))),K=T(require(a0_0x55f44d(0x58e))),Co=require(a0_0x55f44d(0x89c)),Eo=T(require(a0_0x55f44d(0x497))),vo=T(require(a0_0x55f44d(0x3bf))),wa=[a0_0x55f44d(0x54a),'documentMessage',a0_0x55f44d(0x5eb),a0_0x55f44d(0x6f6),a0_0x55f44d(0x884)],ya=['ephemeralMessage','documentWithCaptionMessage',a0_0x55f44d(0x2c4),a0_0x55f44d(0x324)],Ts=require('os'),Pt=T(require('pino')),$e=require(a0_0x55f44d(0x429)),kt=require('node-mime-types'),re=T(require(a0_0x55f44d(0x3ed))),P=require('class-validator'),ye=class{constructor(_0x2c518e,_0x2f4b79,_0x2a431d){const _0x2e0e15=a0_0x55f44d;this['jid']=_0x2c518e,this[_0x2e0e15(0x270)]=_0x2f4b79,this['name']=_0x2a431d;}},Ge=class{},Be=class{},Ee=class{},We=class{},ze=class{},be=class{},He=class{},Ke=class{},Qe=class{},Ye=class{},$t=T(require('express')),ba=require('fs'),Sa=require(a0_0x55f44d(0x6a1));async function Xe(_0x25a3c2){const _0x2ef9fd=a0_0x55f44d;let _0x11358c=G[_0x2ef9fd(0x3be)][_0x25a3c2];if(L[_0x2ef9fd(0x7a1)]){let _0x59bd91=O[_0x2ef9fd(0x4b6)]()['db'](L[_0x2ef9fd(0x1dd)]['DB_PREFIX_NAME']+_0x2ef9fd(0x49c))['collection'](_0x25a3c2);return _0x11358c||(await _0x59bd91[_0x2ef9fd(0x408)]({})[_0x2ef9fd(0x785)]())[_0x2ef9fd(0x2af)]>0x0;}return _0x11358c||(0x0,ba[_0x2ef9fd(0x570)])((0x0,Sa[_0x2ef9fd(0x1e5)])(me,_0x25a3c2));}async function Ma(_0x698c29,_0x588e2a,_0x3ae9cb){const _0x58599d=a0_0x55f44d;if(_0x698c29[_0x58599d(0x37f)][_0x58599d(0x52f)]('/instance/create')||_0x698c29[_0x58599d(0x37f)][_0x58599d(0x52f)](_0x58599d(0x22a))||_0x698c29[_0x58599d(0x37f)][_0x58599d(0x52f)](_0x58599d(0x24c))||_0x698c29['originalUrl']['includes'](_0x58599d(0x84d))||_0x698c29[_0x58599d(0x37f)][_0x58599d(0x52f)](_0x58599d(0x265))||_0x698c29['originalUrl'][_0x58599d(0x52f)](_0x58599d(0x488))||_0x698c29[_0x58599d(0x37f)][_0x58599d(0x52f)]('/instance/delete'))return _0x3ae9cb();let _0x106b29=_0x698c29[_0x58599d(0x57c)];if(!_0x106b29?.['instanceName'])throw new m(_0x58599d(0x3a7));if(!await Xe(_0x106b29[_0x58599d(0x3b5)]))throw new J(_0x58599d(0x77d)+_0x106b29[_0x58599d(0x3b5)]+_0x58599d(0x851));_0x3ae9cb();}async function Ca(_0x25e628,_0x2d4891,_0x46a066){const _0x2c7dd2=a0_0x55f44d;if(_0x25e628[_0x2c7dd2(0x37f)][_0x2c7dd2(0x52f)]('/instance/create')){let _0xa1ed93=_0x25e628[_0x2c7dd2(0x228)];if(await Xe(_0xa1ed93['instanceName']))throw new Q(_0x2c7dd2(0x24d)+_0xa1ed93[_0x2c7dd2(0x3b5)]+_0x2c7dd2(0x536));G['waInstances'][_0xa1ed93['instanceName']]&&delete G[_0x2c7dd2(0x3be)][_0xa1ed93[_0x2c7dd2(0x3b5)]];}_0x46a066();}var Ea=require(a0_0x55f44d(0x33e)),va=T(require(a0_0x55f44d(0x1f4))),Ze=a0_0x55f44d(0x4c8),mr=new R(a0_0x55f44d(0x32b));async function fr(_0x77203b,_0x350dca,_0x41a23b){const _0x38940f=a0_0x55f44d;let _0x2c185d=_0x77203b['get']('apikey');if(_0x2c185d&&b[_0x38940f(0x1ef)]('AUTHENTICATION')['API_KEY'][_0x38940f(0x792)]!==_0x2c185d)throw new se();if(b[_0x38940f(0x1ef)]('AUTHENTICATION')['API_KEY'][_0x38940f(0x792)]===_0x2c185d)return _0x41a23b();if((_0x77203b[_0x38940f(0x37f)]['includes'](_0x38940f(0x77c))||_0x77203b[_0x38940f(0x37f)][_0x38940f(0x52f)]('/instance/fetchInstances'))&&!_0x2c185d)throw new Q(_0x38940f(0x2c0),_0x38940f(0x2c8));let _0x5bbf2f=b[_0x38940f(0x1ef)](_0x38940f(0x7b2))[_0x38940f(0x891)];try{let [_0x317482,_0x25091e]=_0x77203b[_0x38940f(0x1ef)]('authorization')[_0x38940f(0x44b)]('\x20');if(_0x317482['toLowerCase']()!=='bearer')throw new se();if(!(0x0,Ea[_0x38940f(0x3c6)])(_0x25091e))throw new se();let _0x173429=_0x77203b[_0x38940f(0x57c)],_0xbdd2a9=va[_0x38940f(0x66b)]['verify'](_0x25091e,_0x5bbf2f['SECRET'],{'ignoreExpiration':_0x5bbf2f[_0x38940f(0x5aa)]===0x0});if(_0x173429[_0x38940f(0x3b5)]!==_0xbdd2a9[_0x38940f(0x3b5)]||Ze!==_0xbdd2a9[_0x38940f(0x4ca)])throw new se();return _0x41a23b();}catch(_0x502bdd){throw mr[_0x38940f(0x752)](_0x502bdd),new se();}}async function wr(_0x1e90c0,_0x10690e,_0x2f1648){const _0x470996=a0_0x55f44d;let _0x104343=b[_0x470996(0x1ef)](_0x470996(0x7b2))[_0x470996(0x33a)],_0x419b76=_0x1e90c0[_0x470996(0x1ef)](_0x470996(0x2a1));if(_0x104343[_0x470996(0x792)]===_0x419b76)return _0x2f1648();if(_0x1e90c0[_0x470996(0x37f)][_0x470996(0x52f)](_0x470996(0x77c))){let _0x535779=et,_0xec6a42=_0x1e90c0['body'][_0x470996(0x3b5)];if(_0x535779&&_0xec6a42[_0x470996(0x713)]()[_0x470996(0x5b2)](_0x535779[_0x470996(0x713)]()))return _0x2f1648();if(!_0x419b76)throw new Q(_0x470996(0x2c0),_0x470996(0x2c8));}if(_0x1e90c0['originalUrl']['includes'](_0x470996(0x22a))&&!_0x419b76)throw new Q(_0x470996(0x2c0),_0x470996(0x2c8));if(_0x1e90c0[_0x470996(0x37f)]['includes'](_0x470996(0x24c))&&!_0x419b76)throw new Q(_0x470996(0x2c0),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x1e90c0[_0x470996(0x37f)][_0x470996(0x52f)](_0x470996(0x84d))&&!_0x419b76)throw new Q('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');try{let _0xfea61=_0x1e90c0['params'],_0x3dcec3=await de['auth'][_0x470996(0x408)](_0xfea61['instanceName']);if(_0x3dcec3&&_0x3dcec3[_0x470996(0x2a1)]===_0x419b76)return _0x2f1648();}catch{}throw new se();}var Na={'jwt':fr,'apikey':wr},ro=require(a0_0x55f44d(0x40a)),v=require(a0_0x55f44d(0x89c)),E=(..._0x5b8807)=>{const _0x24bf7d=a0_0x55f44d;let _0x1ed09f={};return _0x5b8807['forEach'](_0x7e8d0b=>_0x1ed09f[_0x7e8d0b]={'minLength':0x1,'description':_0x24bf7d(0x245)+_0x7e8d0b+_0x24bf7d(0x5bc)}),{'if':{'propertyNames':{'enum':[..._0x5b8807]}},'then':{'properties':_0x1ed09f}};},N={'$id':(0x0,v['v4'])(),'type':a0_0x55f44d(0x2bd),'properties':{'instanceName':{'type':'string'}},...E(a0_0x55f44d(0x3b5))},ic={'$id':(0x0,v['v4'])(),'type':a0_0x55f44d(0x2bd),'properties':{'oldToken':{'type':a0_0x55f44d(0x4a1)}},'required':[a0_0x55f44d(0x677)],...E(a0_0x55f44d(0x677))},nc={'properties':{'key':{'type':a0_0x55f44d(0x2bd),'properties':{'id':{'type':a0_0x55f44d(0x4a1)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x55f44d(0x35b),'enum':[!0x0,!0x1]}},'required':['id',a0_0x55f44d(0x2a0),a0_0x55f44d(0x7cf)],...E('id','remoteJid')},'message':{'type':a0_0x55f44d(0x2bd)}}},Y={'properties':{'delay':{'type':a0_0x55f44d(0x78c),'description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':a0_0x55f44d(0x4a1),'enum':[a0_0x55f44d(0x259),'available',a0_0x55f44d(0x2c1),'recording',a0_0x55f44d(0x512)]}}},z={'type':'string','description':a0_0x55f44d(0x305)},Ra={'$id':(0x0,v['v4'])(),'type':a0_0x55f44d(0x2bd),'properties':{'number':{...z},'options':{...Y},'textMessage':{'type':a0_0x55f44d(0x2bd),'properties':{'text':{'type':a0_0x55f44d(0x4a1)}},'required':[a0_0x55f44d(0x68c)],...E(a0_0x55f44d(0x68c))}},'required':['textMessage',a0_0x55f44d(0x61e)]},Oa={'type':a0_0x55f44d(0x4a1),'pattern':a0_0x55f44d(0x707),'description':a0_0x55f44d(0x305)},cc={'$id':(0x0,v['v4'])(),'type':a0_0x55f44d(0x2bd),'properties':{'number':{...Oa},'options':{...Y},'textMessage':{'type':a0_0x55f44d(0x2bd),'properties':{'text':{'type':a0_0x55f44d(0x4a1)}},'required':[a0_0x55f44d(0x68c)],...E(a0_0x55f44d(0x68c))}},'required':['textMessage',a0_0x55f44d(0x61e)]},lc={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...Oa},'options':{...Y},'mediaMessage':{'type':a0_0x55f44d(0x2bd),'properties':{'mediatype':{'type':a0_0x55f44d(0x4a1),'enum':[a0_0x55f44d(0x717),a0_0x55f44d(0x827),'video',a0_0x55f44d(0x1de)]},'media':{'type':'string'},'fileName':{'type':a0_0x55f44d(0x4a1)},'caption':{'type':'string'}},'required':[a0_0x55f44d(0x544),a0_0x55f44d(0x26e)],...E('fileName',a0_0x55f44d(0x32a),a0_0x55f44d(0x26e))}},'required':[a0_0x55f44d(0x763),'number']},Ta={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'stickerMessage':{'type':a0_0x55f44d(0x2bd),'properties':{'image':{'type':'string'}},'required':[a0_0x55f44d(0x717)],...E(a0_0x55f44d(0x717))}},'required':[a0_0x55f44d(0x884),a0_0x55f44d(0x61e)]},$a={'$id':(0x0,v['v4'])(),'type':a0_0x55f44d(0x2bd),'properties':{'statusMessage':{'type':a0_0x55f44d(0x2bd),'properties':{'type':{'type':a0_0x55f44d(0x4a1),'enum':[a0_0x55f44d(0x68c),'image','audio',a0_0x55f44d(0x6fb)]},'content':{'type':'string'},'caption':{'type':a0_0x55f44d(0x4a1)},'backgroundColor':{'type':a0_0x55f44d(0x4a1)},'font':{'type':a0_0x55f44d(0x78c),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x55f44d(0x6df),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':'^\x5cd+','description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0x55f44d(0x35b),'enum':[!0x0,!0x1]}},'required':['type','content'],...E('type','content')}},'required':[a0_0x55f44d(0x608)]},Aa={'$id':(0x0,v['v4'])(),'type':a0_0x55f44d(0x2bd),'properties':{'number':{...z},'options':{...Y},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':'string','enum':[a0_0x55f44d(0x717),'document','video','audio']},'media':{'type':a0_0x55f44d(0x4a1)},'fileName':{'type':a0_0x55f44d(0x4a1)},'caption':{'type':a0_0x55f44d(0x4a1)}},'required':[a0_0x55f44d(0x544),a0_0x55f44d(0x26e)],...E('fileName','caption',a0_0x55f44d(0x26e))}},'required':[a0_0x55f44d(0x763),a0_0x55f44d(0x61e)]},Ia={'$id':(0x0,v['v4'])(),'type':a0_0x55f44d(0x2bd),'properties':{'number':{...z},'options':{...Y},'audioMessage':{'type':a0_0x55f44d(0x2bd),'properties':{'audio':{'type':a0_0x55f44d(0x4a1)}},'required':[a0_0x55f44d(0x1de)],...E(a0_0x55f44d(0x1de))}},'required':[a0_0x55f44d(0x5eb),'number']},xa={'$id':(0x0,v['v4'])(),'type':a0_0x55f44d(0x2bd),'properties':{'number':{...z},'pollMessage':{'type':a0_0x55f44d(0x2bd),'properties':{'name':{'type':a0_0x55f44d(0x4a1)},'selectableCount':{'type':a0_0x55f44d(0x61e)},'values':{'type':a0_0x55f44d(0x6df),'minItems':0x2,'uniqueItems':!0x0}},'required':['name','selectableCount','values'],...E('name',a0_0x55f44d(0x506),a0_0x55f44d(0x81b))}},'required':['number','pollMessage']},Da={'$id':(0x0,v['v4'])(),'type':a0_0x55f44d(0x2bd),'properties':{'number':{...z},'menuMessage':{'type':a0_0x55f44d(0x2bd),'properties':{'text':{'type':'string'},'choices':{'type':a0_0x55f44d(0x6df),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x55f44d(0x68c),a0_0x55f44d(0x2e6)],...E(a0_0x55f44d(0x68c),a0_0x55f44d(0x2e6))}},'required':[a0_0x55f44d(0x61e),'menuMessage']},_a={'$id':(0x0,v['v4'])(),'type':a0_0x55f44d(0x2bd),'properties':{'number':{...z},'options':{...Y},'buttonMessage':{'type':a0_0x55f44d(0x2bd),'properties':{'title':{'type':'string'},'description':{'type':'string'},'footerText':{'type':a0_0x55f44d(0x4a1)},'buttons':{'type':a0_0x55f44d(0x6df),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x55f44d(0x2bd),'properties':{'buttonText':{'type':'string'},'buttonId':{'type':a0_0x55f44d(0x4a1)}},'required':[a0_0x55f44d(0x209),a0_0x55f44d(0x84c)],...E(a0_0x55f44d(0x209),a0_0x55f44d(0x84c))}},'mediaMessage':{'type':a0_0x55f44d(0x2bd),'properties':{'media':{'type':a0_0x55f44d(0x4a1)},'fileName':{'type':a0_0x55f44d(0x4a1)},'mediatype':{'type':'string','enum':[a0_0x55f44d(0x717),a0_0x55f44d(0x827),a0_0x55f44d(0x6fb)]}},'required':[a0_0x55f44d(0x26e),'mediatype'],...E(a0_0x55f44d(0x26e),a0_0x55f44d(0x3d4))}},'required':[a0_0x55f44d(0x895),a0_0x55f44d(0x510)],...E(a0_0x55f44d(0x895),a0_0x55f44d(0x743))}},'required':['number',a0_0x55f44d(0x34f)]},Pa={'$id':(0x0,v['v4'])(),'type':a0_0x55f44d(0x2bd),'properties':{'number':{...z},'options':{...Y},'locationMessage':{'type':a0_0x55f44d(0x2bd),'properties':{'latitude':{'type':a0_0x55f44d(0x61e)},'longitude':{'type':a0_0x55f44d(0x61e)},'name':{'type':'string'},'address':{'type':a0_0x55f44d(0x4a1)}},'required':[a0_0x55f44d(0x40c),a0_0x55f44d(0x89e)],...E('name',a0_0x55f44d(0x3fa))}},'required':[a0_0x55f44d(0x61e),a0_0x55f44d(0x244)]},ka={'$id':(0x0,v['v4'])(),'type':a0_0x55f44d(0x2bd),'properties':{'number':{...z},'options':{...Y},'listMessage':{'type':a0_0x55f44d(0x2bd),'properties':{'title':{'type':a0_0x55f44d(0x4a1)},'description':{'type':a0_0x55f44d(0x4a1)},'footerText':{'type':a0_0x55f44d(0x4a1)},'buttonText':{'type':a0_0x55f44d(0x4a1)},'sections':{'type':a0_0x55f44d(0x6df),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x55f44d(0x2bd),'properties':{'title':{'type':a0_0x55f44d(0x4a1)},'rows':{'type':a0_0x55f44d(0x6df),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x55f44d(0x2bd),'properties':{'title':{'type':a0_0x55f44d(0x4a1)},'description':{'type':a0_0x55f44d(0x4a1)},'rowId':{'type':a0_0x55f44d(0x4a1)}},'required':[a0_0x55f44d(0x895),a0_0x55f44d(0x82a)],...E(a0_0x55f44d(0x895),a0_0x55f44d(0x82a))}}},'required':['title',a0_0x55f44d(0x3ce)],...E(a0_0x55f44d(0x895))}}},'required':[a0_0x55f44d(0x895),a0_0x55f44d(0x743),a0_0x55f44d(0x209),a0_0x55f44d(0x873)],...E('title','description',a0_0x55f44d(0x209),a0_0x55f44d(0x232))}},'required':[a0_0x55f44d(0x61e),a0_0x55f44d(0x585)]},ja={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'contactMessage':{'type':a0_0x55f44d(0x6df),'items':{'type':a0_0x55f44d(0x2bd),'properties':{'fullName':{'type':a0_0x55f44d(0x4a1)},'phoneNumber':{'type':a0_0x55f44d(0x4a1),'minLength':0xa}},'required':[a0_0x55f44d(0x218),a0_0x55f44d(0x7d1)],...E(a0_0x55f44d(0x218))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x55f44d(0x61e),a0_0x55f44d(0x881)]},La={'$id':(0x0,v['v4'])(),'type':'object','properties':{'reactionMessage':{'type':a0_0x55f44d(0x2bd),'properties':{'key':{'type':a0_0x55f44d(0x2bd),'properties':{'id':{'type':a0_0x55f44d(0x4a1)},'remoteJid':{'type':a0_0x55f44d(0x4a1)},'fromMe':{'type':a0_0x55f44d(0x35b),'enum':[!0x0,!0x1]}},'required':['id',a0_0x55f44d(0x2a0),'fromMe'],...E('id','remoteJid')},'reaction':{'type':'string'}},'required':['key',a0_0x55f44d(0x2e0)],...E('reaction')}},'required':[a0_0x55f44d(0x490)]},Fa={'$id':(0x0,v['v4'])(),'type':a0_0x55f44d(0x2bd),'properties':{'numbers':{'type':a0_0x55f44d(0x6df),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x55f44d(0x4a1),'pattern':'^\x5cd+','description':a0_0x55f44d(0x2a5)}}}},Ua={'$id':(0x0,v['v4'])(),'type':a0_0x55f44d(0x2bd),'properties':{'readMessages':{'type':a0_0x55f44d(0x6df),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x55f44d(0x4a1)},'fromMe':{'type':a0_0x55f44d(0x35b),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'}},'required':['id','fromMe',a0_0x55f44d(0x2a0)],...E('id',a0_0x55f44d(0x2a0))}}},'required':[a0_0x55f44d(0x63f)]},Ja={'$id':(0x0,v['v4'])(),'type':'object','properties':{'privacySettings':{'type':a0_0x55f44d(0x2bd),'properties':{'readreceipts':{'type':'string','enum':[a0_0x55f44d(0x7ee),a0_0x55f44d(0x81f)]},'profile':{'type':a0_0x55f44d(0x4a1),'enum':[a0_0x55f44d(0x7ee),a0_0x55f44d(0x708),a0_0x55f44d(0x2bf),a0_0x55f44d(0x81f)]},'status':{'type':a0_0x55f44d(0x4a1),'enum':[a0_0x55f44d(0x7ee),'contacts','contact_blacklist',a0_0x55f44d(0x81f)]},'online':{'type':a0_0x55f44d(0x4a1),'enum':[a0_0x55f44d(0x7ee),'match_last_seen']},'last':{'type':a0_0x55f44d(0x4a1),'enum':[a0_0x55f44d(0x7ee),a0_0x55f44d(0x708),a0_0x55f44d(0x2bf),a0_0x55f44d(0x81f)]},'groupadd':{'type':a0_0x55f44d(0x4a1),'enum':[a0_0x55f44d(0x7ee),a0_0x55f44d(0x708),a0_0x55f44d(0x2bf),a0_0x55f44d(0x81f)]}},'required':['readreceipts',a0_0x55f44d(0x217),'status',a0_0x55f44d(0x6b9),a0_0x55f44d(0x5b0),'groupadd'],...E(a0_0x55f44d(0x294),a0_0x55f44d(0x217),a0_0x55f44d(0x346),'online',a0_0x55f44d(0x5b0),'groupadd')}},'required':[a0_0x55f44d(0x6e4)]},qa={'$id':(0x0,v['v4'])(),'type':a0_0x55f44d(0x2bd),'properties':{'lastMessage':{'type':a0_0x55f44d(0x2bd),'properties':{'key':{'type':'object','properties':{'id':{'type':'string'},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x55f44d(0x35b),'enum':[!0x0,!0x1]}},'required':['id',a0_0x55f44d(0x7cf),a0_0x55f44d(0x2a0)],...E('id',a0_0x55f44d(0x2a0))},'messageTimestamp':{'type':a0_0x55f44d(0x78c),'minLength':0x1}},'required':[a0_0x55f44d(0x42e)],...E(a0_0x55f44d(0x291))},'archive':{'type':a0_0x55f44d(0x35b),'enum':[!0x0,!0x1]}},'required':[a0_0x55f44d(0x823),'archive']},Va={'$id':(0x0,v['v4'])(),'type':a0_0x55f44d(0x2bd),'properties':{'id':{'type':a0_0x55f44d(0x4a1)},'fromMe':{'type':a0_0x55f44d(0x35b),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x55f44d(0x4a1)},'participant':{'type':'string'}},'required':['id',a0_0x55f44d(0x7cf),'remoteJid'],...E('id',a0_0x55f44d(0x2a0),a0_0x55f44d(0x527))},Ga={'$id':(0x0,v['v4'])(),'type':a0_0x55f44d(0x2bd),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x55f44d(0x4a1),'minLength':0x1},'pushName':{'type':a0_0x55f44d(0x4a1),'minLength':0x1},'id':{'type':a0_0x55f44d(0x4a1),'minLength':0x1}},...E(a0_0x55f44d(0x20e),'id',a0_0x55f44d(0x507))}}},Ba={'$id':(0x0,v['v4'])(),'type':'object','properties':{'name':{'type':a0_0x55f44d(0x4a1)}},...E(a0_0x55f44d(0x754))},Wa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'status':{'type':a0_0x55f44d(0x4a1)}},...E('status')},ve={'$id':(0x0,v['v4'])(),'type':a0_0x55f44d(0x2bd),'properties':{'number':{'type':'string'},'picture':{'type':a0_0x55f44d(0x4a1)}}},za={'type':a0_0x55f44d(0x2bd),'properties':{'wuid':{'type':'string'},'name':{'type':'string'},'picture':{'type':'string'},'status':{'type':a0_0x55f44d(0x4a1)},'isBusiness':{'type':a0_0x55f44d(0x35b)}}},Ha={'$id':(0x0,v['v4'])(),'type':a0_0x55f44d(0x2bd),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x55f44d(0x4a1),'minLength':0x1},'key':{'type':a0_0x55f44d(0x2bd),'if':{'propertyNames':{'enum':['fromMe','remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':a0_0x55f44d(0x4a1),'minLength':0x1,'description':a0_0x55f44d(0x283)},'id':{'type':'string','minLength':0x1,'description':a0_0x55f44d(0x283)},'fromMe':{'type':a0_0x55f44d(0x35b),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x55f44d(0x2bd)}},...E(a0_0x55f44d(0x20e))},'limit':{'type':a0_0x55f44d(0x78c)}}},uc={'$id':(0x0,v['v4'])(),'type':'object','properties':{'where':{'type':a0_0x55f44d(0x2bd),'properties':{'_id':{'type':a0_0x55f44d(0x4a1)},'remoteJid':{'type':a0_0x55f44d(0x4a1)},'id':{'type':a0_0x55f44d(0x4a1)},'fromMe':{'type':a0_0x55f44d(0x35b),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x55f44d(0x4a1)},'status':{'type':a0_0x55f44d(0x4a1),'enum':[a0_0x55f44d(0x4ef),'PENDING',a0_0x55f44d(0x61c),a0_0x55f44d(0x716),'READ',a0_0x55f44d(0x4e8)]}},...E(a0_0x55f44d(0x20e),a0_0x55f44d(0x2a0),'id',a0_0x55f44d(0x346))},'limit':{'type':a0_0x55f44d(0x78c)}}},Ka={'$id':(0x0,v['v4'])(),'type':a0_0x55f44d(0x2bd),'properties':{'number':{...z},'presence':{'type':a0_0x55f44d(0x4a1),'enum':[a0_0x55f44d(0x259),a0_0x55f44d(0x4e9),a0_0x55f44d(0x2c1),'recording',a0_0x55f44d(0x512)]}},'required':[a0_0x55f44d(0x58a),a0_0x55f44d(0x61e)]},Qa={'$id':(0x0,v['v4'])(),'type':a0_0x55f44d(0x2bd),'properties':{'subject':{'type':a0_0x55f44d(0x4a1)},'description':{'type':a0_0x55f44d(0x4a1)},'profilePicture':{'type':a0_0x55f44d(0x4a1)},'participants':{'type':a0_0x55f44d(0x6df),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x55f44d(0x4a1),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x55f44d(0x33c)}}},'required':['subject','participants'],...E(a0_0x55f44d(0x7c0),a0_0x55f44d(0x743),a0_0x55f44d(0x34d))},Ne={'$id':(0x0,v['v4'])(),'type':a0_0x55f44d(0x2bd),'properties':{'groupJid':{'type':a0_0x55f44d(0x4a1),'pattern':a0_0x55f44d(0x642)}},'required':[a0_0x55f44d(0x73a)],...E('groupJid')},Ya={'$id':(0x0,v['v4'])(),'type':a0_0x55f44d(0x2bd),'properties':{'groupJid':{'type':'string'},'action':{'type':a0_0x55f44d(0x4a1),'enum':['add',a0_0x55f44d(0x51a),'promote',a0_0x55f44d(0x316),a0_0x55f44d(0x802),'approve']},'participants':{'type':a0_0x55f44d(0x6df),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x55f44d(0x4a1),'minLength':0xa,'pattern':a0_0x55f44d(0x465),'description':a0_0x55f44d(0x33c)}}},'required':[a0_0x55f44d(0x73a),'action',a0_0x55f44d(0x489)],...E('groupJid',a0_0x55f44d(0x325))},Xa={'$id':(0x0,v['v4'])(),'type':a0_0x55f44d(0x2bd),'properties':{'groupJid':{'type':a0_0x55f44d(0x4a1)},'expiration':{'type':a0_0x55f44d(0x61e),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid',a0_0x55f44d(0x3d6)],...E(a0_0x55f44d(0x73a),'expiration')},Za={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x55f44d(0x4a1)},'image':{'type':a0_0x55f44d(0x4a1)}},'required':[a0_0x55f44d(0x73a),'image'],...E(a0_0x55f44d(0x73a),a0_0x55f44d(0x717))},eo={'$id':(0x0,v['v4'])(),'type':a0_0x55f44d(0x2bd),'properties':{'groupJid':{'type':a0_0x55f44d(0x4a1)},'description':{'type':a0_0x55f44d(0x4a1)}},'required':['groupJid',a0_0x55f44d(0x743)],...E(a0_0x55f44d(0x73a),a0_0x55f44d(0x743))},to={'$id':(0x0,v['v4'])(),'type':a0_0x55f44d(0x2bd),'properties':{'groupJid':{'type':a0_0x55f44d(0x4a1)},'name':{'type':a0_0x55f44d(0x4a1)}},'required':['groupJid',a0_0x55f44d(0x754)],...E(a0_0x55f44d(0x73a),a0_0x55f44d(0x754))},so={'$id':(0x0,v['v4'])(),'type':a0_0x55f44d(0x2bd),'properties':{'groupJid':{'type':a0_0x55f44d(0x4a1)},'setting':{'type':a0_0x55f44d(0x4a1),'enum':[a0_0x55f44d(0x6c4),a0_0x55f44d(0x2f9),'unlocked',a0_0x55f44d(0x31f)]}},'required':['groupJid','setting'],...E('groupJid',a0_0x55f44d(0x6e2))},ao={'$id':(0x0,v['v4'])(),'type':a0_0x55f44d(0x2bd),'properties':{'groupJid':{'type':a0_0x55f44d(0x4a1)},'restrict':{'type':a0_0x55f44d(0x35b)},'announce':{'type':'boolean'},'memberAddMode':{'type':a0_0x55f44d(0x35b)},'joinApprovalMode':{'type':a0_0x55f44d(0x35b)},'expiration':{'type':a0_0x55f44d(0x78c),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x55f44d(0x4a1)},'description':{'type':a0_0x55f44d(0x4a1)},'image':{'type':'string'}}},ys={'$id':(0x0,v['v4'])(),'type':'object','properties':{'inviteCode':{'type':'string'}},'required':[a0_0x55f44d(0x24f)],...E(a0_0x55f44d(0x24f))},oo={'$id':(0x0,v['v4'])(),'type':a0_0x55f44d(0x2bd),'properties':{'url':{'type':a0_0x55f44d(0x4a1)},'enabled':{'type':a0_0x55f44d(0x35b),'enum':[!0x0,!0x1]}},'required':[a0_0x55f44d(0x68f),'enabled']},dc={'$id':(0x0,v['v4'])(),'type':'object','properties':{'local_map':{'type':a0_0x55f44d(0x35b),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x55f44d(0x35b),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x55f44d(0x35b),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x55f44d(0x35b),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x55f44d(0x35b),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x55f44d(0x35b),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x55f44d(0x35b),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x55f44d(0x35b),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x55f44d(0x35b),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x55f44d(0x35b),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x55f44d(0x35b),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x55f44d(0x35b),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x55f44d(0x35b),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x55f44d(0x35b),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x55f44d(0x35b),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x55f44d(0x35b),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x55f44d(0x35b),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x55f44d(0x35b),'enum':[!0x0,!0x1]}},'required':[a0_0x55f44d(0x607),a0_0x55f44d(0x598),a0_0x55f44d(0x487),a0_0x55f44d(0x71d),a0_0x55f44d(0x624),a0_0x55f44d(0x660),a0_0x55f44d(0x3c2),a0_0x55f44d(0x62d),a0_0x55f44d(0x418),a0_0x55f44d(0x605),'PRESENCE_UPDATE',a0_0x55f44d(0x767),'CHATS_UPSERT','CHATS_UPDATE',a0_0x55f44d(0x38c),'CONNECTION_UPDATE',a0_0x55f44d(0x70c),a0_0x55f44d(0x578),a0_0x55f44d(0x826)],...E(a0_0x55f44d(0x607),'STATUS_INSTANCE',a0_0x55f44d(0x487),a0_0x55f44d(0x71d),a0_0x55f44d(0x624),a0_0x55f44d(0x660),'SEND_MESSAGE','CONTACTS_SET',a0_0x55f44d(0x418),a0_0x55f44d(0x605),a0_0x55f44d(0x89d),'CHATS_SET',a0_0x55f44d(0x38e),'CHATS_UPDATE','CHATS_DELETE','CONNECTION_UPDATE','GROUPS_UPSERT',a0_0x55f44d(0x578),'GROUP_PARTICIPANTS_UPDATE')},tt=class{},st=class extends x{[a0_0x55f44d(0x495)](_0x1e3e05){return Ys(_0x1e3e05);}async['insert'](_0x3bfc2f){const _0x53e225=a0_0x55f44d;if(_0x3bfc2f[_0x53e225(0x2af)]!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x3bfc2f[0x0]['owner'])[_0x53e225(0x417)]([..._0x3bfc2f]))[_0x53e225(0x2af)]};}catch(_0x4d51ef){return _0x4d51ef;}}async[a0_0x55f44d(0x56f)](_0xc8f4ec,_0x18f665){const _0x43cb78=a0_0x55f44d;try{return{'deletedCount':(await this[_0x43cb78(0x495)](_0x18f665)[_0x43cb78(0x266)]({..._0xc8f4ec[_0x43cb78(0x728)]}))['deletedCount']};}catch(_0x38934c){return{'error':_0x38934c?.['toString']()};}}async[a0_0x55f44d(0x604)](_0xd669cd,_0x4e3aee){const _0x3185d5=a0_0x55f44d;try{if(_0xd669cd['length']===0x0)return;let _0x23dfa9=this[_0x3185d5(0x495)](_0x4e3aee),_0x397e99=_0xd669cd[_0x3185d5(0x2b0)](_0x66ff08=>({'updateOne':{'filter':{'_id':_0x66ff08['_id'],'owner':_0x4e3aee},'update':{..._0x66ff08}}})),{modifiedCount:_0xe42fc4}=await _0x23dfa9[_0x3185d5(0x744)](_0x397e99);return{'insertCount':_0xe42fc4};}catch{return;}}async[a0_0x55f44d(0x408)](_0x340de2,_0x378bc4){const _0x2308f6=a0_0x55f44d;try{let _0x5e1f18=this[_0x2308f6(0x495)](_0x378bc4),_0x4617bf=$(_0x340de2[_0x2308f6(0x728)]);return await _0x5e1f18[_0x2308f6(0x408)](_0x4617bf)['limit'](_0x340de2?.['limit']??0x0)[_0x2308f6(0x2cc)]();}catch{return[];}}async['findOne'](_0x1eafb5,_0x356b1d){const _0x3db6ad=a0_0x55f44d;try{let _0x489ecd=this[_0x3db6ad(0x495)](_0x356b1d),_0x2d8275=$(_0x1eafb5['where']);return await _0x489ecd[_0x3db6ad(0x720)](_0x2d8275)[_0x3db6ad(0x2cc)]();}catch{return null;}}async['deleteAll'](_0x538150){const _0x2b5557=a0_0x55f44d;try{return await this[_0x2b5557(0x495)](_0x538150)[_0x2b5557(0x772)][_0x2b5557(0x83e)](),{'success':!0x0};}catch(_0x118ae4){return console['error'](_0x118ae4),{'success':!0x1,'error':_0x118ae4};}}},at=require('jsonschema'),Sc=require(a0_0x55f44d(0x864)),bs=new R(a0_0x55f44d(0x606)),V=class{[a0_0x55f44d(0x323)](_0x195950,_0x53d928=!0x0){let _0x29f63e='/'+_0x195950;return _0x53d928&&(_0x29f63e+='/:instanceName'),_0x29f63e;}async[a0_0x55f44d(0x7f3)](_0x115215){const _0xf12bc3=a0_0x55f44d;let {request:_0x198dac,schema:_0x264479,ClassRef:_0xa18895,execute:_0x40d249}=_0x115215,_0x1a36f7=new _0xa18895(),_0x7a4343=_0x198dac['body'],_0x409fe5=_0x198dac[_0xf12bc3(0x57c)];_0x198dac?.[_0xf12bc3(0x263)]&&Object[_0xf12bc3(0x3cf)](_0x198dac[_0xf12bc3(0x263)])[_0xf12bc3(0x2af)]>0x0&&Object[_0xf12bc3(0x35d)](_0x409fe5,_0x198dac[_0xf12bc3(0x263)]),_0x198dac[_0xf12bc3(0x37f)][_0xf12bc3(0x52f)](_0xf12bc3(0x77c))&&Object[_0xf12bc3(0x35d)](_0x409fe5,_0x7a4343),Object[_0xf12bc3(0x35d)](_0x1a36f7,_0x7a4343);let _0x5c0c4b=_0x264479?(0x0,at[_0xf12bc3(0x71a)])(_0x1a36f7,_0x264479):{'valid':!0x0,'errors':[]};if(!_0x5c0c4b['valid']){let _0xadfb8c=_0x5c0c4b[_0xf12bc3(0x8a9)][_0xf12bc3(0x2b0)](({property:_0x52919b,stack:_0x58ed8b,schema:_0xb73b67})=>{const _0x12b12c=_0xf12bc3;let _0x3cc6f1;return _0xb73b67[_0x12b12c(0x743)]?_0x3cc6f1=_0xb73b67[_0x12b12c(0x743)]:_0x3cc6f1=_0x58ed8b[_0x12b12c(0x8b0)](_0x12b12c(0x65a),''),{'property':_0x52919b['replace'](_0x12b12c(0x65a),''),'message':_0x3cc6f1};});throw bs[_0xf12bc3(0x752)]([..._0xadfb8c]),new m(..._0xadfb8c);}return await _0x40d249(_0x409fe5,_0x1a36f7);}async['groupValidate'](_0x2b4c63){const _0x283c0a=a0_0x55f44d;let {request:_0x585506,ClassRef:_0x294a5d,schema:_0x5024cc,execute:_0x174fac}=_0x2b4c63,_0x3f4201=_0x585506[_0x283c0a(0x263)];if(!_0x3f4201?.['groupJid'])throw new m(_0x283c0a(0x837),_0x283c0a(0x6f8));let _0x47725b=_0x585506[_0x283c0a(0x57c)],_0x5949ca=_0x585506[_0x283c0a(0x228)],_0x243e7f=new _0x294a5d();Object['assign'](_0x5949ca,_0x3f4201),Object['assign'](_0x243e7f,_0x5949ca);let _0x103455=(0x0,at['validate'])(_0x243e7f,_0x5024cc);if(!_0x103455[_0x283c0a(0x76c)]){let _0x2826f5=_0x103455['errors']['map'](({property:_0x378344,stack:_0xce5000,schema:_0x34c456})=>{const _0x41fc05=_0x283c0a;let _0x26e30e;return _0x34c456[_0x41fc05(0x743)]?_0x26e30e=_0x34c456['description']:_0x26e30e=_0xce5000[_0x41fc05(0x8b0)](_0x41fc05(0x65a),''),{'property':_0x378344[_0x41fc05(0x8b0)]('instance.',''),'message':_0x26e30e};});throw bs[_0x283c0a(0x752)]([..._0x2826f5]),new m(..._0x2826f5);}return await _0x174fac(_0x47725b,_0x243e7f);}async[a0_0x55f44d(0x3df)](_0x57e466){const _0x31a3cb=a0_0x55f44d;let {request:_0x51cf7c,ClassRef:_0x301fa4,schema:_0x46c91e,execute:_0x4ac020}=_0x57e466,_0x1f4b71=_0x51cf7c[_0x31a3cb(0x228)];if(!_0x1f4b71?.[_0x31a3cb(0x24f)])throw new m(_0x31a3cb(0x3a0),_0x31a3cb(0x746));let _0xaa8e92=_0x51cf7c[_0x31a3cb(0x57c)],_0xcb040e=_0x51cf7c[_0x31a3cb(0x228)],_0x5eebb0=new _0x301fa4();Object[_0x31a3cb(0x35d)](_0xcb040e,_0x1f4b71),Object[_0x31a3cb(0x35d)](_0x5eebb0,_0xcb040e);let _0x1a893a=(0x0,at[_0x31a3cb(0x71a)])(_0x5eebb0,_0x46c91e);if(!_0x1a893a[_0x31a3cb(0x76c)]){let _0x1b7d5c=_0x1a893a[_0x31a3cb(0x8a9)][_0x31a3cb(0x2b0)](({property:_0x606464,stack:_0xf1af69,schema:_0x1e32a8})=>{const _0x449329=_0x31a3cb;let _0x27fba3;return _0x1e32a8[_0x449329(0x743)]?_0x27fba3=_0x1e32a8['description']:_0x27fba3=_0xf1af69[_0x449329(0x8b0)]('instance.',''),{'property':_0x606464[_0x449329(0x8b0)](_0x449329(0x65a),''),'message':_0x27fba3};});throw bs[_0x31a3cb(0x752)]([..._0x1b7d5c]),new m(..._0x1b7d5c);}return await _0x4ac020(_0xaa8e92,_0x5eebb0);}},C=class{},Pc=new R('ChatRouter'),ot=class extends V{constructor(..._0x51d611){const _0x4480a2=a0_0x55f44d;super(),this[_0x4480a2(0x3a6)]=(0x0,ro[_0x4480a2(0x860)])(),this['router'][_0x4480a2(0x568)](this[_0x4480a2(0x323)](_0x4480a2(0x3e1)),..._0x51d611,async(_0x123f56,_0x1779e7)=>{const _0x3cdcf5=_0x4480a2;let _0x3ef0a7=await this[_0x3cdcf5(0x7f3)]({'request':_0x123f56,'schema':Ka,'ClassRef':Ge,'execute':(_0x5902fa,_0x205e2c)=>_[_0x3cdcf5(0x3e1)](_0x5902fa,_0x205e2c)});return _0x1779e7['status'](0xc9)[_0x3cdcf5(0x6d3)](_0x3ef0a7);})['post'](this[_0x4480a2(0x323)](_0x4480a2(0x44a)),..._0x51d611,async(_0x57b534,_0x2bff71)=>{const _0x457cd2=_0x4480a2;let _0x189024=await this[_0x457cd2(0x7f3)]({'request':_0x57b534,'schema':Fa,'ClassRef':Be,'execute':(_0x95c06a,_0x2fc34c)=>_[_0x457cd2(0x872)](_0x95c06a,_0x2fc34c)});return _0x2bff71[_0x457cd2(0x346)](0xc9)[_0x457cd2(0x6d3)](_0x189024);})['post'](this[_0x4480a2(0x323)](_0x4480a2(0x421)),..._0x51d611,async(_0x2eae60,_0x5471aa)=>{const _0x5a28d1=_0x4480a2;let _0x18c4e0=await this['dataValidate']({'request':_0x2eae60,'schema':N,'ClassRef':C,'execute':(_0x49dddb,_0x2e9800)=>_['editChat'](_0x49dddb,_0x2e9800)});return _0x5471aa[_0x5a28d1(0x346)](0xc9)[_0x5a28d1(0x6d3)](_0x18c4e0);})['put'](this[_0x4480a2(0x323)](_0x4480a2(0x3bd)),..._0x51d611,async(_0x22b89a,_0x51e0c1)=>{const _0xb86f31=_0x4480a2;let _0xbdc0a8=await this[_0xb86f31(0x7f3)]({'request':_0x22b89a,'schema':Ua,'ClassRef':He,'execute':(_0x2f9cf7,_0x46d766)=>_[_0xb86f31(0x25a)](_0x2f9cf7,_0x46d766)});return _0x51e0c1['status'](0xc9)[_0xb86f31(0x6d3)](_0xbdc0a8);})[_0x4480a2(0x1d6)](this[_0x4480a2(0x323)](_0x4480a2(0x467)),..._0x51d611,async(_0x2f69a1,_0x1c4ea6)=>{const _0x4431ab=_0x4480a2;let _0x145d23=await this[_0x4431ab(0x7f3)]({'request':_0x2f69a1,'schema':qa,'ClassRef':Ke,'execute':(_0x49ba7c,_0x30c21b)=>_[_0x4431ab(0x467)](_0x49ba7c,_0x30c21b)});return _0x1c4ea6[_0x4431ab(0x346)](0xc9)[_0x4431ab(0x6d3)](_0x145d23);})[_0x4480a2(0x56f)](this['routerPath'](_0x4480a2(0x3e8)),..._0x51d611,async(_0x1bdcbf,_0x508491)=>{const _0x1eb410=_0x4480a2;let _0x26fb5a=await this[_0x1eb410(0x7f3)]({'request':_0x1bdcbf,'schema':Va,'ClassRef':Ye,'execute':(_0x32bfe7,_0x38e5fe)=>_['deleteMessage'](_0x32bfe7,_0x38e5fe)});return _0x508491[_0x1eb410(0x346)](0xc9)[_0x1eb410(0x6d3)](_0x26fb5a);})[_0x4480a2(0x568)](this[_0x4480a2(0x323)](_0x4480a2(0x5e4)),..._0x51d611,async(_0x49d4d5,_0xd7bc1d)=>{const _0x8ceb7d=_0x4480a2;let _0x3c31c2=await this[_0x8ceb7d(0x7f3)]({'request':_0x49d4d5,'schema':ve,'ClassRef':Ee,'execute':(_0x5079e7,_0x1eb0ce)=>_[_0x8ceb7d(0x308)](_0x5079e7,_0x1eb0ce)});return _0xd7bc1d['status'](0xc8)[_0x8ceb7d(0x6d3)](_0x3c31c2);})['post'](this[_0x4480a2(0x323)](_0x4480a2(0x4e1)),..._0x51d611,async(_0xff5e0e,_0x5aec86)=>{const _0x2567f2=_0x4480a2;let _0x38c61a=await this[_0x2567f2(0x7f3)]({'request':_0xff5e0e,'schema':za,'ClassRef':Ee,'execute':(_0x439c95,_0x32497c)=>_[_0x2567f2(0x4e1)](_0x439c95,_0x32497c)});return _0x5aec86['status'](0xc8)[_0x2567f2(0x6d3)](_0x38c61a);})['post'](this[_0x4480a2(0x323)]('findContacts'),..._0x51d611,async(_0x120ea7,_0x3eb26a)=>{const _0x26470e=_0x4480a2;let _0x536cf9=await this[_0x26470e(0x7f3)]({'request':_0x120ea7,'schema':Ga,'ClassRef':tt,'execute':(_0x357147,_0x166f7b)=>_['fetchContacts'](_0x357147,_0x166f7b)});return _0x3eb26a[_0x26470e(0x346)](0xc8)[_0x26470e(0x6d3)](_0x536cf9);})['post'](this[_0x4480a2(0x323)]('getBase64FromMediaMessage'),..._0x51d611,async(_0x5d91ba,_0x373bb2)=>{const _0x295fce=_0x4480a2;let _0x31f6e1=await this[_0x295fce(0x7f3)]({'request':_0x5d91ba,'schema':null,'ClassRef':Object,'execute':(_0x3c09a9,_0x3696b7)=>_[_0x295fce(0x8a4)](_0x3c09a9,_0x3696b7)});return _0x373bb2[_0x295fce(0x346)](0xc9)[_0x295fce(0x6d3)](_0x31f6e1);})[_0x4480a2(0x568)](this[_0x4480a2(0x323)](_0x4480a2(0x208)),..._0x51d611,async(_0xd641bb,_0x9ac410)=>{const _0x205aac=_0x4480a2;let _0xcac002=await this[_0x205aac(0x7f3)]({'request':_0xd641bb,'schema':Ha,'ClassRef':qe,'execute':(_0x2726ef,_0x3e7b40)=>_['fetchMessages'](_0x2726ef,_0x3e7b40)});return _0x9ac410[_0x205aac(0x346)](0xc8)[_0x205aac(0x6d3)](_0xcac002);})[_0x4480a2(0x1ef)](this[_0x4480a2(0x323)]('findChats'),..._0x51d611,async(_0x54cc36,_0x3fdada)=>{const _0x49bb35=_0x4480a2;let _0x5a79d5=await this[_0x49bb35(0x7f3)]({'request':_0x54cc36,'schema':null,'ClassRef':C,'execute':_0x579322=>_[_0x49bb35(0x2ec)](_0x579322)});return _0x3fdada[_0x49bb35(0x346)](0xc8)[_0x49bb35(0x6d3)](_0x5a79d5);})[_0x4480a2(0x1ef)](this['routerPath'](_0x4480a2(0x4b9)),..._0x51d611,async(_0x5655fd,_0x3acc44)=>{const _0x59517b=_0x4480a2;let _0x1bbece=await this[_0x59517b(0x7f3)]({'request':_0x5655fd,'schema':null,'ClassRef':C,'execute':_0x1763a2=>_[_0x59517b(0x42d)](_0x1763a2)});return _0x3acc44[_0x59517b(0x346)](0xc8)['json'](_0x1bbece);})['put'](this[_0x4480a2(0x323)](_0x4480a2(0x647)),..._0x51d611,async(_0x103c2c,_0x328acc)=>{const _0x31b1fc=_0x4480a2;let _0x67f0a2=await this[_0x31b1fc(0x7f3)]({'request':_0x103c2c,'schema':null,'ClassRef':Array,'execute':(_0x3ff9e1,_0x210467)=>_[_0x31b1fc(0x647)](_0x3ff9e1,_0x210467)});return _0x328acc[_0x31b1fc(0x346)](0xc8)[_0x31b1fc(0x6d3)](_0x67f0a2);})[_0x4480a2(0x1ef)](this[_0x4480a2(0x323)](_0x4480a2(0x3fd)),..._0x51d611,async(_0x3e6a39,_0x19c0e1)=>{const _0x5a306d=_0x4480a2;let _0x2d3289=await this[_0x5a306d(0x7f3)]({'request':_0x3e6a39,'schema':null,'ClassRef':C,'execute':_0x4ee6ee=>_['fetchPrivacySettings'](_0x4ee6ee)});return _0x19c0e1[_0x5a306d(0x346)](0xc8)['json'](_0x2d3289);})[_0x4480a2(0x1d6)](this[_0x4480a2(0x323)](_0x4480a2(0x58c)),..._0x51d611,async(_0x361f79,_0x67749d)=>{const _0x194f4d=_0x4480a2;let _0x9a7a87=await this['dataValidate']({'request':_0x361f79,'schema':Ja,'ClassRef':Qe,'execute':(_0x297f8c,_0x58ed99)=>_[_0x194f4d(0x58c)](_0x297f8c,_0x58ed99)});return _0x67749d[_0x194f4d(0x346)](0xc9)[_0x194f4d(0x6d3)](_0x9a7a87);})[_0x4480a2(0x568)](this['routerPath'](_0x4480a2(0x532)),..._0x51d611,async(_0x179866,_0x36b63c)=>{const _0x57e3ce=_0x4480a2;let _0xbc419=await this[_0x57e3ce(0x7f3)]({'request':_0x179866,'schema':ve,'ClassRef':be,'execute':(_0x2344c4,_0x21ed41)=>_[_0x57e3ce(0x532)](_0x2344c4,_0x21ed41)});return _0x36b63c[_0x57e3ce(0x346)](0xc8)[_0x57e3ce(0x6d3)](_0xbc419);})[_0x4480a2(0x568)](this[_0x4480a2(0x323)](_0x4480a2(0x3f5)),..._0x51d611,async(_0x318930,_0x1ed41c)=>{const _0x3ddefb=_0x4480a2;let _0x5189c2=await this[_0x3ddefb(0x7f3)]({'request':_0x318930,'schema':Ba,'ClassRef':We,'execute':(_0xb6f505,_0xc9e838)=>_[_0x3ddefb(0x3f5)](_0xb6f505,_0xc9e838)});return _0x1ed41c[_0x3ddefb(0x346)](0xc8)[_0x3ddefb(0x6d3)](_0x5189c2);})['post'](this[_0x4480a2(0x323)]('updateProfileStatus'),..._0x51d611,async(_0x36df3b,_0x139daf)=>{const _0x44fec8=_0x4480a2;let _0x4ab732=await this[_0x44fec8(0x7f3)]({'request':_0x36df3b,'schema':Wa,'ClassRef':ze,'execute':(_0xe88318,_0x44e6af)=>_[_0x44fec8(0x5a1)](_0xe88318,_0x44e6af)});return _0x139daf[_0x44fec8(0x346)](0xc8)[_0x44fec8(0x6d3)](_0x4ab732);})['put'](this[_0x4480a2(0x323)]('updateProfilePicture'),..._0x51d611,async(_0x50efac,_0x1bcefb)=>{const _0xebe8c2=_0x4480a2;let _0x2602e4=await this[_0xebe8c2(0x7f3)]({'request':_0x50efac,'schema':ve,'ClassRef':be,'execute':(_0x21bafc,_0x291a24)=>_[_0xebe8c2(0x216)](_0x21bafc,_0x291a24)});return _0x1bcefb[_0xebe8c2(0x346)](0xc8)[_0xebe8c2(0x6d3)](_0x2602e4);})[_0x4480a2(0x56f)](this['routerPath'](_0x4480a2(0x71c)),..._0x51d611,async(_0x2cff3e,_0x19002e)=>{const _0x1b0403=_0x4480a2;let _0x1c3a4d=await this[_0x1b0403(0x7f3)]({'request':_0x2cff3e,'schema':ve,'ClassRef':be,'execute':(_0xb6b04e,_0x665eaf)=>_[_0x1b0403(0x71c)](_0xb6b04e,_0x665eaf)});return _0x19002e['status'](0xc8)['json'](_0x1c3a4d);});}},io=require('express'),rt=class{},it=class{},nt=class{},ct=class{},lt=class{},ut=class{},X=class{},Re=class{},dt=class extends X{},pt=class extends X{},ht=class extends V{constructor(..._0x345c2e){const _0x5c4397=a0_0x55f44d;super(),this[_0x5c4397(0x3a6)]=(0x0,io[_0x5c4397(0x860)])(),this['router'][_0x5c4397(0x568)](this[_0x5c4397(0x323)](_0x5c4397(0x23b)),..._0x345c2e,async(_0x48d576,_0x4fb2ea)=>{const _0x359fa5=_0x5c4397;let _0x5f178b=await this[_0x359fa5(0x7f3)]({'request':_0x48d576,'schema':Qa,'ClassRef':rt,'execute':(_0x740a1,_0x348445)=>q[_0x359fa5(0x74a)](_0x740a1,_0x348445)});_0x4fb2ea[_0x359fa5(0x346)](0xc9)[_0x359fa5(0x6d3)](_0x5f178b);})['put'](this[_0x5c4397(0x323)]('updateGroupPicture'),..._0x345c2e,async(_0x21f8d1,_0x26542e)=>{const _0x5c1505=_0x5c4397;let _0x27440c=await this['groupValidate']({'request':_0x21f8d1,'schema':Za,'ClassRef':it,'execute':(_0x4d9cb0,_0x4256c7)=>q[_0x5c1505(0x3a8)](_0x4d9cb0,_0x4256c7)});_0x26542e['status'](0xc9)[_0x5c1505(0x6d3)](_0x27440c);})['put'](this[_0x5c4397(0x323)]('groupDesc'),..._0x345c2e,async(_0x4b5e92,_0x2c0ff1)=>{const _0x44a274=_0x5c4397;let _0x22296a=await this[_0x44a274(0x25e)]({'request':_0x4b5e92,'schema':eo,'ClassRef':nt,'execute':(_0x4b905f,_0x31dacd)=>q[_0x44a274(0x7f6)](_0x4b905f,_0x31dacd)});_0x2c0ff1[_0x44a274(0x346)](0xc9)[_0x44a274(0x6d3)](_0x22296a);})[_0x5c4397(0x1d6)](this[_0x5c4397(0x323)](_0x5c4397(0x2d8)),..._0x345c2e,async(_0x265ae2,_0x7ea392)=>{const _0x42ade8=_0x5c4397;let _0x39299b=await this[_0x42ade8(0x25e)]({'request':_0x265ae2,'schema':to,'ClassRef':ct,'execute':(_0x64ecee,_0xa0886f)=>q['groupName'](_0x64ecee,_0xa0886f)});_0x7ea392['status'](0xc9)[_0x42ade8(0x6d3)](_0x39299b);})[_0x5c4397(0x1d6)](this[_0x5c4397(0x323)](_0x5c4397(0x5ee)),..._0x345c2e,async(_0x13215e,_0x46a430)=>{const _0x87261c=_0x5c4397;let _0x190d71=await this[_0x87261c(0x25e)]({'request':_0x13215e,'schema':ao,'ClassRef':ut,'execute':(_0x531c39,_0x1d2eac)=>q['groupBetterSetting'](_0x531c39,_0x1d2eac)});_0x46a430[_0x87261c(0x346)](0xc9)[_0x87261c(0x6d3)](_0x190d71);})[_0x5c4397(0x1d6)](this['routerPath'](_0x5c4397(0x2ce)),..._0x345c2e,async(_0x35af17,_0x5af939)=>{const _0x3b6df9=_0x5c4397;let _0x1993ff=await this[_0x3b6df9(0x25e)]({'request':_0x35af17,'schema':so,'ClassRef':lt,'execute':(_0x26125a,_0x1e5d48)=>q['groupSetting'](_0x26125a,_0x1e5d48)});_0x5af939[_0x3b6df9(0x346)](0xc9)[_0x3b6df9(0x6d3)](_0x1993ff);})['put'](this[_0x5c4397(0x323)](_0x5c4397(0x273)),..._0x345c2e,async(_0x3dafd5,_0x59297e)=>{const _0xe37c97=_0x5c4397;let _0x3c4fa8=await this[_0xe37c97(0x25e)]({'request':_0x3dafd5,'schema':Xa,'ClassRef':pt,'execute':(_0x4c7f34,_0x2cb48d)=>q[_0xe37c97(0x273)](_0x4c7f34,_0x2cb48d)});_0x59297e['status'](0xc9)[_0xe37c97(0x6d3)](_0x3c4fa8);})[_0x5c4397(0x1ef)](this[_0x5c4397(0x323)](_0x5c4397(0x63c)),..._0x345c2e,async(_0x49a946,_0x263a23)=>{const _0x16373e=_0x5c4397;let _0x15fefb=await this[_0x16373e(0x25e)]({'request':_0x49a946,'schema':Ne,'ClassRef':X,'execute':(_0x3bb14e,_0x3055be)=>q['findGroupInfo'](_0x3bb14e,_0x3055be)});_0x263a23[_0x16373e(0x346)](0xc8)[_0x16373e(0x6d3)](_0x15fefb);})[_0x5c4397(0x1ef)](this[_0x5c4397(0x323)]('findGroups'),..._0x345c2e,async(_0x357026,_0x2494bc)=>{const _0x365582=_0x5c4397;let _0x13b938=await this['dataValidate']({'request':_0x357026,'schema':N,'ClassRef':C,'execute':_0xfcab25=>q[_0x365582(0x2b7)](_0xfcab25)});_0x2494bc[_0x365582(0x346)](0xc8)['json'](_0x13b938);})[_0x5c4397(0x1ef)](this[_0x5c4397(0x323)]('participants'),..._0x345c2e,async(_0x4f323b,_0x52ac9e)=>{const _0x53d91e=_0x5c4397;let _0x215ada=await this[_0x53d91e(0x25e)]({'request':_0x4f323b,'schema':Ne,'ClassRef':X,'execute':(_0x546013,_0x50e68c)=>q[_0x53d91e(0x655)](_0x546013,_0x50e68c)});_0x52ac9e[_0x53d91e(0x346)](0xc8)['json'](_0x215ada);})[_0x5c4397(0x1ef)](this['routerPath']('inviteCode'),..._0x345c2e,async(_0x3436ab,_0x1c9dd0)=>{const _0x2c06cf=_0x5c4397;let _0x2b23a4=await this[_0x2c06cf(0x25e)]({'request':_0x3436ab,'schema':Ne,'ClassRef':X,'execute':(_0x13be61,_0x20f235)=>q[_0x2c06cf(0x24f)](_0x13be61,_0x20f235)});_0x1c9dd0[_0x2c06cf(0x346)](0xc8)[_0x2c06cf(0x6d3)](_0x2b23a4);})[_0x5c4397(0x568)](this['routerPath'](_0x5c4397(0x735)),..._0x345c2e,async(_0x3d7723,_0x1a994e)=>{const _0x3e731e=_0x5c4397;let _0x4158f3=await this[_0x3e731e(0x3df)]({'request':_0x3d7723,'schema':ys,'ClassRef':Re,'execute':(_0x9cca93,_0x4d7bf6)=>q[_0x3e731e(0x898)](_0x9cca93,_0x4d7bf6)});_0x1a994e[_0x3e731e(0x346)](0xc9)[_0x3e731e(0x6d3)](_0x4158f3);})[_0x5c4397(0x1d6)](this[_0x5c4397(0x323)](_0x5c4397(0x315)),..._0x345c2e,async(_0x2fad0d,_0x57e43d)=>{const _0x3dbb22=_0x5c4397;let _0x8c54d3=await this['joinGroupValidate']({'request':_0x2fad0d,'schema':ys,'ClassRef':Re,'execute':(_0x10000e,_0x5729d8)=>q['joinGroup'](_0x10000e,_0x5729d8)});_0x57e43d[_0x3dbb22(0x346)](0xc9)[_0x3dbb22(0x6d3)](_0x8c54d3);})[_0x5c4397(0x1d6)](this[_0x5c4397(0x323)]('revokeInviteCode'),..._0x345c2e,async(_0x55a12b,_0x4a260f)=>{const _0x446dda=_0x5c4397;let _0x5b582b=await this[_0x446dda(0x25e)]({'request':_0x55a12b,'schema':Ne,'ClassRef':X,'execute':(_0x23303d,_0x2d2aab)=>q['revokeInviteCode'](_0x23303d,_0x2d2aab)});_0x4a260f[_0x446dda(0x346)](0xc9)['json'](_0x5b582b);})[_0x5c4397(0x1d6)](this[_0x5c4397(0x323)](_0x5c4397(0x412)),..._0x345c2e,async(_0x3bc247,_0xc484a0)=>{const _0x5a101f=_0x5c4397;let _0x5728a4=await this[_0x5a101f(0x25e)]({'request':_0x3bc247,'schema':Ya,'ClassRef':dt,'execute':(_0xd8f4f0,_0x3ed864)=>q[_0x5a101f(0x470)](_0xd8f4f0,_0x3ed864)});_0xc484a0[_0x5a101f(0x346)](0xc9)[_0x5a101f(0x6d3)](_0x5728a4);})[_0x5c4397(0x56f)](this[_0x5c4397(0x323)](_0x5c4397(0x88e)),..._0x345c2e,async(_0x934e3e,_0xa8ecd9)=>{const _0x3c4ff3=_0x5c4397;let _0x19aeff=await this['groupValidate']({'request':_0x934e3e,'schema':{},'ClassRef':X,'execute':(_0x3cdb86,_0x239fd6)=>q['leaveGroup'](_0x3cdb86,_0x239fd6)});_0xa8ecd9['status'](0xc8)[_0x3c4ff3(0x6d3)](_0x19aeff);});}},no=require('express'),gt=class extends V{constructor(_0x541fb2,..._0x38c4f1){const _0x557864=a0_0x55f44d;super(),this['configService']=_0x541fb2,this[_0x557864(0x3a6)]=(0x0,no[_0x557864(0x860)])();let _0xe62a06=_0x541fb2[_0x557864(0x1ef)](_0x557864(0x7b2));this[_0x557864(0x3a6)][_0x557864(0x568)](_0x557864(0x587),..._0x38c4f1,async(_0x191d1f,_0xc91f71)=>{const _0x787d72=_0x557864;let {instanceName:_0x3b6c2a,apikey:_0x46b8f9,number:_0x4c0530}=_0x191d1f['body'],_0xc3274=await ce[_0x787d72(0x41b)]({'instanceName':_0x3b6c2a,'apikey':_0x46b8f9,'number':_0x4c0530});return _0xc91f71[_0x787d72(0x346)](0xc9)[_0x787d72(0x6d3)](_0xc3274);})[_0x557864(0x1d6)](this[_0x557864(0x323)](_0x557864(0x502)),..._0x38c4f1,async(_0x3c0287,_0x2caf8c)=>{const _0x96c91f=_0x557864;let _0x334b86=await this[_0x96c91f(0x7f3)]({'request':_0x3c0287,'schema':N,'ClassRef':C,'execute':_0x12cc3e=>ce[_0x96c91f(0x599)](_0x12cc3e)});return _0x2caf8c[_0x96c91f(0x346)](0xc8)[_0x96c91f(0x6d3)](_0x334b86);})[_0x557864(0x1ef)](this[_0x557864(0x323)]('connect'),..._0x38c4f1,async(_0x48f424,_0x2d3485)=>{const _0x202d30=_0x557864;let _0x4cef22=await this['dataValidate']({'request':_0x48f424,'schema':N,'ClassRef':C,'execute':_0x612e48=>ce[_0x202d30(0x5b3)](_0x612e48)});return _0x2d3485[_0x202d30(0x346)](0xc8)[_0x202d30(0x6d3)](_0x4cef22);})[_0x557864(0x1ef)](this[_0x557864(0x323)](_0x557864(0x334)),..._0x38c4f1,async(_0x54d788,_0x4940c0)=>{const _0x1c06f7=_0x557864;let _0x1d85f9=await this['dataValidate']({'request':_0x54d788,'schema':N,'ClassRef':C,'execute':_0x393d26=>ce['connectionState'](_0x393d26)});return _0x4940c0[_0x1c06f7(0x346)](0xc8)[_0x1c06f7(0x6d3)](_0x1d85f9);})[_0x557864(0x1ef)](this[_0x557864(0x323)](_0x557864(0x4b0),!0x1),..._0x38c4f1,async(_0x223877,_0x26321e)=>{const _0x1da639=_0x557864;let _0x1d406f=await this[_0x1da639(0x7f3)]({'request':_0x223877,'schema':null,'ClassRef':C,'execute':_0x591d0c=>ce['fetchInstances'](_0x591d0c)});return _0x26321e[_0x1da639(0x346)](0xc8)[_0x1da639(0x6d3)](_0x1d406f);})[_0x557864(0x56f)](this[_0x557864(0x323)]('logout'),..._0x38c4f1,async(_0x4a447f,_0x47489b)=>{const _0x1959db=_0x557864;let _0x5ca27c=await this[_0x1959db(0x7f3)]({'request':_0x4a447f,'schema':N,'ClassRef':C,'execute':_0x2d24a5=>ce[_0x1959db(0x4d0)](_0x2d24a5)});return _0x47489b[_0x1959db(0x346)](0xc8)[_0x1959db(0x6d3)](_0x5ca27c);})[_0x557864(0x56f)](this[_0x557864(0x323)]('delete'),..._0x38c4f1,async(_0x3d07fb,_0x1bfa8a)=>{const _0x43ce60=_0x557864;let _0xa8c969=await this[_0x43ce60(0x7f3)]({'request':_0x3d07fb,'schema':N,'ClassRef':C,'execute':_0x52a935=>ce['deleteInstance'](_0x52a935)});return _0x1bfa8a['status'](0xc8)[_0x43ce60(0x6d3)](_0xa8c969);});}},co=require(a0_0x55f44d(0x40a)),Ss=class{},W=class extends Ss{},mt=class extends W{},ft=class extends W{},wt=class extends W{},yt=class extends W{},Oe=class extends W{},bt=class extends W{},St=class extends W{},Mt=class extends W{},Ct=class extends W{},Et=class extends W{},vt=class{},Nt=class extends V{constructor(..._0x456b4c){const _0x3f54c6=a0_0x55f44d;super(),this[_0x3f54c6(0x3a6)]=(0x0,co[_0x3f54c6(0x860)])(),this['router']['post'](this[_0x3f54c6(0x323)](_0x3f54c6(0x36b)),..._0x456b4c,async(_0x2cd3ec,_0x6207cf)=>{const _0x4a833e=_0x3f54c6;let _0x6f6efd=await this['dataValidate']({'request':_0x2cd3ec,'schema':Ra,'ClassRef':mt,'execute':(_0x5095b1,_0x174c3a)=>B[_0x4a833e(0x36b)](_0x5095b1,_0x174c3a)});return _0x6207cf[_0x4a833e(0x346)](0xc9)[_0x4a833e(0x6d3)](_0x6f6efd);})[_0x3f54c6(0x568)](this[_0x3f54c6(0x323)](_0x3f54c6(0x3c0)),..._0x456b4c,async(_0x422e13,_0x4fb65a)=>{const _0x105ea7=_0x3f54c6;let _0x4afaef=await this[_0x105ea7(0x7f3)]({'request':_0x422e13,'schema':Aa,'ClassRef':Oe,'execute':(_0x17b51e,_0x28b8ba)=>B[_0x105ea7(0x3c0)](_0x17b51e,_0x28b8ba)});return _0x4fb65a[_0x105ea7(0x346)](0xc9)[_0x105ea7(0x6d3)](_0x4afaef);})['post'](this[_0x3f54c6(0x323)](_0x3f54c6(0x29a)),..._0x456b4c,async(_0x4a31fe,_0x3c49b6)=>{const _0x2b986a=_0x3f54c6;let _0x28a961=await this[_0x2b986a(0x7f3)]({'request':_0x4a31fe,'schema':Da,'ClassRef':yt,'execute':(_0x3ee412,_0x4ef6dc)=>B[_0x2b986a(0x29a)](_0x3ee412,_0x4ef6dc)});return _0x3c49b6[_0x2b986a(0x346)](0xc9)[_0x2b986a(0x6d3)](_0x28a961);})[_0x3f54c6(0x568)](this[_0x3f54c6(0x323)](_0x3f54c6(0x393)),..._0x456b4c,async(_0x141220,_0x3b6c4c)=>{const _0x24fc3b=_0x3f54c6;let _0x38a686=await this[_0x24fc3b(0x7f3)]({'request':_0x141220,'schema':Ia,'ClassRef':Oe,'execute':(_0x140392,_0x15dec9)=>B['sendWhatsAppAudio'](_0x140392,_0x15dec9)});return _0x3b6c4c[_0x24fc3b(0x346)](0xc9)[_0x24fc3b(0x6d3)](_0x38a686);})[_0x3f54c6(0x568)](this[_0x3f54c6(0x323)](_0x3f54c6(0x75d)),..._0x456b4c,async(_0xf69753,_0x4183a4)=>{const _0x33b00a=_0x3f54c6;let _0x40d484=await this['dataValidate']({'request':_0xf69753,'schema':_a,'ClassRef':St,'execute':(_0x3d02ab,_0x40dc30)=>B['sendButtons'](_0x3d02ab,_0x40dc30)});return _0x4183a4['status'](0xc9)[_0x33b00a(0x6d3)](_0x40d484);})[_0x3f54c6(0x568)](this[_0x3f54c6(0x323)](_0x3f54c6(0x736)),..._0x456b4c,async(_0x2526d2,_0x306240)=>{const _0x36ecad=_0x3f54c6;let _0x31b3cb=await this[_0x36ecad(0x7f3)]({'request':_0x2526d2,'schema':Pa,'ClassRef':Mt,'execute':(_0x5e2858,_0x427f9d)=>B[_0x36ecad(0x736)](_0x5e2858,_0x427f9d)});return _0x306240[_0x36ecad(0x346)](0xc9)[_0x36ecad(0x6d3)](_0x31b3cb);})[_0x3f54c6(0x568)](this[_0x3f54c6(0x323)](_0x3f54c6(0x6ed)),..._0x456b4c,async(_0x369354,_0x288d28)=>{const _0x1f9d92=_0x3f54c6;let _0x3af7db=await this[_0x1f9d92(0x7f3)]({'request':_0x369354,'schema':ka,'ClassRef':Ct,'execute':(_0x96b897,_0xeadfd8)=>B['sendList'](_0x96b897,_0xeadfd8)});return _0x288d28[_0x1f9d92(0x346)](0xc9)['json'](_0x3af7db);})[_0x3f54c6(0x568)](this[_0x3f54c6(0x323)]('sendContact'),..._0x456b4c,async(_0x37013f,_0x52f6bd)=>{const _0x23d2a9=_0x3f54c6;let _0x51ea4f=await this[_0x23d2a9(0x7f3)]({'request':_0x37013f,'schema':ja,'ClassRef':Et,'execute':(_0x311d0d,_0x36e68e)=>B[_0x23d2a9(0x3e6)](_0x311d0d,_0x36e68e)});return _0x52f6bd[_0x23d2a9(0x346)](0xc9)['json'](_0x51ea4f);})[_0x3f54c6(0x568)](this[_0x3f54c6(0x323)](_0x3f54c6(0x758)),..._0x456b4c,async(_0x19c408,_0x5402b6)=>{const _0x2b47fd=_0x3f54c6;let _0x43cddb=await this[_0x2b47fd(0x7f3)]({'request':_0x19c408,'schema':La,'ClassRef':vt,'execute':(_0x5a9d69,_0x5c4a0d)=>B[_0x2b47fd(0x758)](_0x5a9d69,_0x5c4a0d)});return _0x5402b6[_0x2b47fd(0x346)](0xc9)['json'](_0x43cddb);})[_0x3f54c6(0x568)](this['routerPath'](_0x3f54c6(0x7dd)),..._0x456b4c,async(_0xdd8ddb,_0x15b321)=>{const _0xe29e5e=_0x3f54c6;let _0x44d8e5=await this[_0xe29e5e(0x7f3)]({'request':_0xdd8ddb,'schema':xa,'ClassRef':wt,'execute':(_0xea3aa0,_0xae2d1e)=>B[_0xe29e5e(0x7dd)](_0xea3aa0,_0xae2d1e)});return _0x15b321[_0xe29e5e(0x346)](0xc9)['json'](_0x44d8e5);})['post'](this[_0x3f54c6(0x323)](_0x3f54c6(0x32d)),..._0x456b4c,async(_0x12f973,_0x395dfe)=>{const _0x35f694=_0x3f54c6;let _0x186aca=await this[_0x35f694(0x7f3)]({'request':_0x12f973,'schema':$a,'ClassRef':ft,'execute':(_0x384cd6,_0x17ca0c)=>B[_0x35f694(0x32d)](_0x384cd6,_0x17ca0c)});return _0x395dfe['status'](0xc9)[_0x35f694(0x6d3)](_0x186aca);})['post'](this[_0x3f54c6(0x323)](_0x3f54c6(0x641)),..._0x456b4c,async(_0x159851,_0x22c55c)=>{const _0x538006=_0x3f54c6;let _0x3dbcbd=await this['dataValidate']({'request':_0x159851,'schema':Ta,'ClassRef':bt,'execute':(_0x39b31d,_0x3f4f4d)=>B[_0x538006(0x641)](_0x39b31d,_0x3f4f4d)});return _0x22c55c[_0x538006(0x346)](0xc9)['json'](_0x3dbcbd);});}},lo=require('express'),Rt=class{},Ot=class extends V{constructor(..._0x58fbe5){const _0x15272b=a0_0x55f44d;super(),this[_0x15272b(0x3a6)]=(0x0,lo[_0x15272b(0x860)])(),this[_0x15272b(0x3a6)][_0x15272b(0x568)](this[_0x15272b(0x323)](_0x15272b(0x5c3)),..._0x58fbe5,async(_0x54f5b2,_0x3433a1)=>{const _0x36382d=_0x15272b;let _0x2d1eeb=await this[_0x36382d(0x7f3)]({'request':_0x54f5b2,'schema':oo,'ClassRef':Rt,'execute':(_0x135a07,_0x31240b)=>Ms[_0x36382d(0x463)](_0x135a07,_0x31240b)});_0x3433a1['status'](0xc9)[_0x36382d(0x6d3)](_0x2d1eeb);})[_0x15272b(0x1ef)](this[_0x15272b(0x323)](_0x15272b(0x408)),..._0x58fbe5,async(_0x2e5c7f,_0x372cc1)=>{const _0x18698a=_0x15272b;let _0x32ad0c=await this[_0x18698a(0x7f3)]({'request':_0x2e5c7f,'schema':N,'ClassRef':C,'execute':_0x4826bf=>Ms['findWebhook'](_0x4826bf)});_0x372cc1[_0x18698a(0x346)](0xc8)[_0x18698a(0x6d3)](_0x32ad0c);});}},uo=require('express'),y=new R(a0_0x55f44d(0x460)),Tt=class extends V{constructor(..._0x4bb50e){const _0x4933ad=a0_0x55f44d;super(),this[_0x4933ad(0x3a6)]=(0x0,uo[_0x4933ad(0x860)])(),this[_0x4933ad(0x3a6)][_0x4933ad(0x568)](this[_0x4933ad(0x323)](_0x4933ad(0x2d0)),..._0x4bb50e,async(_0xaeb698,_0x10140d)=>{const _0x2cae8c=_0x4933ad;let _0x5555f=_0xaeb698[_0x2cae8c(0x228)];y[_0x2cae8c(0x1fa)](_0x2cae8c(0x300)),y['verbose'](_0x2cae8c(0x3e9)),y[_0x2cae8c(0x1fa)](_0xaeb698['body']);let _0x5d5a51=await this[_0x2cae8c(0x7f3)]({'request':_0xaeb698,'schema':N,'ClassRef':C,'execute':_0x240a5e=>A['editScheduleMessage'](_0x240a5e,_0x5555f)});_0x10140d[_0x2cae8c(0x346)](0xc8)['json'](_0x5d5a51);})[_0x4933ad(0x1ef)](this['routerPath']('scheduleMessage'),..._0x4bb50e,async(_0x217885,_0xa2410f)=>{const _0x93135=_0x4933ad;let _0x3f009e=await this[_0x93135(0x7f3)]({'request':_0x217885,'schema':N,'ClassRef':C,'execute':_0x591cec=>A[_0x93135(0x794)](_0x591cec)});_0xa2410f[_0x93135(0x346)](0xc8)[_0x93135(0x6d3)](_0x3f009e);})[_0x4933ad(0x56f)](this[_0x4933ad(0x323)]('deleteDoneMessages'),..._0x4bb50e,async(_0x55f4df,_0x3939d8)=>{const _0x58acaa=_0x4933ad;y[_0x58acaa(0x1fa)](_0x58acaa(0x856));let _0x754896=await this['dataValidate']({'request':_0x55f4df,'schema':N,'ClassRef':C,'execute':_0x3c21eb=>A[_0x58acaa(0x212)](_0x3c21eb)});_0x3939d8[_0x58acaa(0x346)](0xc8)[_0x58acaa(0x6d3)](_0x754896);})[_0x4933ad(0x568)](this[_0x4933ad(0x323)](_0x4933ad(0x1f2)),..._0x4bb50e,async(_0x36b628,_0x366f2f)=>{const _0x47e9cb=_0x4933ad;let _0x331387=_0x36b628['body'];y[_0x47e9cb(0x1fa)](_0x47e9cb(0x388)),y[_0x47e9cb(0x1fa)]('request\x20body:\x20'),y[_0x47e9cb(0x1fa)](_0x36b628['body']);let _0x565640=await this[_0x47e9cb(0x7f3)]({'request':_0x36b628,'schema':N,'ClassRef':C,'execute':_0x16c0ee=>A[_0x47e9cb(0x1f2)](_0x16c0ee,_0x331387)});_0x366f2f['status'](0xc8)[_0x47e9cb(0x6d3)](_0x565640);})[_0x4933ad(0x1ef)](this[_0x4933ad(0x323)]('getAutomateSystem'),..._0x4bb50e,async(_0x441f1e,_0x31f134)=>{const _0x5d5113=_0x4933ad;y[_0x5d5113(0x1fa)]('request\x20received\x20in\x20getAutomateSystem');let _0x4d4f78=await this[_0x5d5113(0x7f3)]({'request':_0x441f1e,'schema':N,'ClassRef':C,'execute':_0x3be267=>A[_0x5d5113(0x302)](_0x3be267)});_0x31f134[_0x5d5113(0x346)](0xc8)[_0x5d5113(0x6d3)](_0x4d4f78);})['get'](this[_0x4933ad(0x323)](_0x4933ad(0x6a3)),..._0x4bb50e,async(_0x189f6a,_0xffb2f4)=>{const _0x30fd54=_0x4933ad;y['verbose'](_0x30fd54(0x3db));let _0x239d35=await this['dataValidate']({'request':_0x189f6a,'schema':N,'ClassRef':C,'execute':_0x468a29=>A[_0x30fd54(0x302)](_0x468a29)});_0xffb2f4['status'](0xc8)[_0x30fd54(0x6d3)](_0x239d35);})[_0x4933ad(0x568)](this[_0x4933ad(0x323)](_0x4933ad(0x59b)),..._0x4bb50e,async(_0x5b75d3,_0x57e5d5)=>{const _0x386970=_0x4933ad;let _0x5e396a=_0x5b75d3[_0x386970(0x228)];y[_0x386970(0x1fa)](_0x386970(0x2e9)),y['verbose'](_0x386970(0x3e9)),y['verbose'](_0x5b75d3[_0x386970(0x228)]);let _0x1266a9=await this[_0x386970(0x7f3)]({'request':_0x5b75d3,'schema':N,'ClassRef':C,'execute':_0x42d419=>A[_0x386970(0x59b)](_0x42d419,_0x5e396a)});_0x57e5d5[_0x386970(0x346)](0xc8)[_0x386970(0x6d3)](_0x1266a9);})[_0x4933ad(0x568)](this[_0x4933ad(0x323)](_0x4933ad(0x7a5)),..._0x4bb50e,async(_0x25f94b,_0x7704a7)=>{const _0x381e4e=_0x4933ad;let _0x386e77=_0x25f94b[_0x381e4e(0x228)];y[_0x381e4e(0x1fa)]('request\x20received\x20in\x20updateCustomFields'),y['verbose'](_0x381e4e(0x3e9)),y[_0x381e4e(0x1fa)](_0x25f94b[_0x381e4e(0x228)]);let _0x261ca5=await this[_0x381e4e(0x7f3)]({'request':_0x25f94b,'schema':N,'ClassRef':C,'execute':_0x26f02a=>A[_0x381e4e(0x7a5)](_0x26f02a,_0x386e77)});_0x7704a7[_0x381e4e(0x346)](0xc8)[_0x381e4e(0x6d3)](_0x261ca5);})[_0x4933ad(0x568)](this[_0x4933ad(0x323)](_0x4933ad(0x3a2)),..._0x4bb50e,async(_0x1d5eff,_0x41f1d8)=>{const _0x59cd0f=_0x4933ad;let _0xfb9112=_0x1d5eff[_0x59cd0f(0x228)];y[_0x59cd0f(0x1fa)](_0x59cd0f(0x7ac)),y[_0x59cd0f(0x1fa)](_0x59cd0f(0x3e9)),y[_0x59cd0f(0x1fa)](_0x1d5eff['body']);let _0x3bb4d9=await this['dataValidate']({'request':_0x1d5eff,'schema':N,'ClassRef':C,'execute':_0x23e73d=>A['updateAutoCompleteMessages'](_0x23e73d,_0xfb9112)});_0x41f1d8[_0x59cd0f(0x346)](0xc8)['json'](_0x3bb4d9);})[_0x4933ad(0x568)](this[_0x4933ad(0x323)](_0x4933ad(0x47a)),..._0x4bb50e,async(_0x5c35a2,_0x4e2bdd)=>{const _0x146724=_0x4933ad;let _0x355dfd=_0x5c35a2[_0x146724(0x228)];y[_0x146724(0x1fa)](_0x146724(0x5ef)),y['verbose'](_0x146724(0x3e9)),y[_0x146724(0x1fa)](_0x5c35a2['body']);let _0x54b310=await this[_0x146724(0x7f3)]({'request':_0x5c35a2,'schema':N,'ClassRef':C,'execute':_0x41f5fe=>A[_0x146724(0x47a)](_0x41f5fe,_0x355dfd)});_0x4e2bdd[_0x146724(0x346)](0xc8)[_0x146724(0x6d3)](_0x54b310);})['post'](this['routerPath'](_0x4933ad(0x55d)),..._0x4bb50e,async(_0x291dd7,_0x2d2cd4)=>{const _0x24b19c=_0x4933ad;let _0x529313=_0x291dd7[_0x24b19c(0x228)];y[_0x24b19c(0x1fa)](_0x24b19c(0x60f)),y[_0x24b19c(0x1fa)](_0x24b19c(0x3e9)),y[_0x24b19c(0x1fa)](_0x291dd7[_0x24b19c(0x228)]);let _0x383cc1=await this[_0x24b19c(0x7f3)]({'request':_0x291dd7,'schema':N,'ClassRef':C,'execute':_0x4c2ef5=>A[_0x24b19c(0x55d)](_0x4c2ef5,_0x529313)});_0x2d2cd4[_0x24b19c(0x346)](0xc8)[_0x24b19c(0x6d3)](_0x383cc1);})['post'](this[_0x4933ad(0x323)](_0x4933ad(0x672)),..._0x4bb50e,async(_0x88188d,_0x230ba3)=>{const _0x5f1053=_0x4933ad;let _0x51723f=_0x88188d[_0x5f1053(0x228)];y['verbose']('request\x20received\x20in\x20fetchConversation'),y[_0x5f1053(0x1fa)](_0x5f1053(0x3e9)),y[_0x5f1053(0x1fa)](_0x88188d[_0x5f1053(0x228)]);let _0x394a97=await this[_0x5f1053(0x7f3)]({'request':_0x88188d,'schema':N,'ClassRef':C,'execute':_0xd58f36=>A[_0x5f1053(0x672)](_0xd58f36,_0x51723f)});_0x230ba3[_0x5f1053(0x346)](0xc8)['json'](_0x394a97);})['post'](this[_0x4933ad(0x323)](_0x4933ad(0x6cc)),..._0x4bb50e,async(_0x4e3193,_0x3716d9)=>{const _0x39f6d6=_0x4933ad;let _0x44b969=_0x4e3193[_0x39f6d6(0x228)];y['verbose'](_0x39f6d6(0x7e5)),y[_0x39f6d6(0x1fa)](_0x39f6d6(0x3e9)),y[_0x39f6d6(0x1fa)](_0x4e3193[_0x39f6d6(0x228)]);let _0x5b0a47=await this[_0x39f6d6(0x7f3)]({'request':_0x4e3193,'schema':N,'ClassRef':C,'execute':_0x28bf2d=>A[_0x39f6d6(0x6cc)](_0x28bf2d,_0x44b969)});_0x3716d9[_0x39f6d6(0x346)](0xc8)[_0x39f6d6(0x6d3)](_0x5b0a47);})[_0x4933ad(0x56f)](this[_0x4933ad(0x323)](_0x4933ad(0x1d9)),..._0x4bb50e,async(_0x19eb75,_0x3a2c5c)=>{const _0x5b19fd=_0x4933ad;let _0x4009fa=_0x19eb75[_0x5b19fd(0x228)];y[_0x5b19fd(0x1fa)](_0x5b19fd(0x2bc)),y['verbose'](_0x5b19fd(0x3e9)),y[_0x5b19fd(0x1fa)](_0x19eb75[_0x5b19fd(0x228)]);let _0x54ca38=await this[_0x5b19fd(0x7f3)]({'request':_0x19eb75,'schema':N,'ClassRef':C,'execute':_0x5de7d4=>A[_0x5b19fd(0x1d9)](_0x5de7d4,_0x4009fa)});_0x3a2c5c[_0x5b19fd(0x346)](0xc8)['json'](_0x54ca38);})[_0x4933ad(0x568)](this[_0x4933ad(0x323)]('createflow'),..._0x4bb50e,async(_0x30e8af,_0x2f7c9e)=>{const _0x53d708=_0x4933ad;let _0x40c32f=_0x30e8af[_0x53d708(0x228)],_0xdec37a=_0x30e8af['headers'][_0x53d708(0x2a1)];y[_0x53d708(0x1fa)](_0x53d708(0x278)),y[_0x53d708(0x1fa)](_0x53d708(0x3e9)),y[_0x53d708(0x1fa)](_0x30e8af[_0x53d708(0x228)]);let _0x10d8ff=await this[_0x53d708(0x7f3)]({'request':_0x30e8af,'schema':N,'ClassRef':C,'execute':_0x144afc=>A[_0x53d708(0x3b0)](_0x144afc,_0x40c32f,_0xdec37a)});_0x2f7c9e[_0x53d708(0x346)](0xc8)['json'](_0x10d8ff);})[_0x4933ad(0x568)](this[_0x4933ad(0x323)](_0x4933ad(0x75f)),..._0x4bb50e,async(_0x542879,_0x5430d8)=>{const _0x1e4fe9=_0x4933ad;let _0xee55f0=_0x542879[_0x1e4fe9(0x228)],_0x40b1d4=_0x542879[_0x1e4fe9(0x5d0)][_0x1e4fe9(0x2a1)];y[_0x1e4fe9(0x1fa)](_0x1e4fe9(0x878)),y['verbose'](_0x1e4fe9(0x3e9)),y['verbose'](_0x542879['body']),delete _0xee55f0[_0x1e4fe9(0x86a)],delete _0xee55f0[_0x1e4fe9(0x353)],delete _0xee55f0['groups'],delete _0xee55f0[_0x1e4fe9(0x207)];let _0x5cacd8=await this['dataValidate']({'request':_0x542879,'schema':N,'ClassRef':C,'execute':_0x55e5c5=>A[_0x1e4fe9(0x332)](_0x55e5c5,_0xee55f0,_0x40b1d4)});_0x5430d8[_0x1e4fe9(0x346)](0xc8)[_0x1e4fe9(0x6d3)](_0x5cacd8);})[_0x4933ad(0x568)](this[_0x4933ad(0x323)](_0x4933ad(0x4b8)),..._0x4bb50e,async(_0x5ef363,_0x1f5582)=>{const _0x239000=_0x4933ad;let _0x358318=_0x5ef363[_0x239000(0x228)],_0x474b3f=_0x5ef363['headers'][_0x239000(0x2a1)];y['verbose']('request\x20received\x20in\x20editFlow'),y[_0x239000(0x1fa)]('request\x20body:\x20'),y[_0x239000(0x1fa)](_0x5ef363[_0x239000(0x228)]);let _0x11bd24=await this['dataValidate']({'request':_0x5ef363,'schema':N,'ClassRef':C,'execute':_0x2534e9=>A[_0x239000(0x83d)](_0x2534e9,_0x358318,_0x474b3f)});_0x1f5582['status'](0xc8)[_0x239000(0x6d3)](_0x11bd24);})[_0x4933ad(0x568)](this['routerPath'](_0x4933ad(0x63d)),..._0x4bb50e,async(_0x3e8f7c,_0x2696f0)=>{const _0x45f58f=_0x4933ad;let _0x54e2fd=_0x3e8f7c['body'],_0x16b655=_0x3e8f7c[_0x45f58f(0x5d0)][_0x45f58f(0x2a1)];y[_0x45f58f(0x1fa)](_0x45f58f(0x878)),y[_0x45f58f(0x1fa)](_0x45f58f(0x3e9)),y[_0x45f58f(0x1fa)](_0x3e8f7c['body']);let _0x51cc80=await this[_0x45f58f(0x7f3)]({'request':_0x3e8f7c,'schema':N,'ClassRef':C,'execute':_0x2a0034=>A[_0x45f58f(0x474)](_0x2a0034,_0x54e2fd,_0x16b655)});_0x2696f0[_0x45f58f(0x346)](0xc8)[_0x45f58f(0x6d3)](_0x51cc80);})['post'](this['routerPath'](_0x4933ad(0x240)),..._0x4bb50e,async(_0x5b608a,_0x34b210)=>{const _0x13efdc=_0x4933ad;let _0x2060d0=_0x5b608a[_0x13efdc(0x228)],_0x205892=_0x5b608a[_0x13efdc(0x5d0)]['apikey'];y[_0x13efdc(0x1fa)](_0x13efdc(0x878)),y[_0x13efdc(0x1fa)](_0x13efdc(0x3e9)),y[_0x13efdc(0x1fa)](_0x5b608a[_0x13efdc(0x228)]);let _0x47ade9=await this[_0x13efdc(0x7f3)]({'request':_0x5b608a,'schema':N,'ClassRef':C,'execute':_0x229a55=>A['editFlowVaredit'](_0x229a55,_0x2060d0,_0x205892)});_0x34b210['status'](0xc8)['json'](_0x47ade9);})[_0x4933ad(0x568)](this[_0x4933ad(0x323)](_0x4933ad(0x4aa)),..._0x4bb50e,async(_0x499e36,_0x325759)=>{const _0x48eef0=_0x4933ad;let _0x367302=_0x499e36[_0x48eef0(0x228)],_0x440803=_0x499e36[_0x48eef0(0x5d0)][_0x48eef0(0x2a1)];y[_0x48eef0(0x1fa)](_0x48eef0(0x69d)),y['verbose'](_0x48eef0(0x3e9)),y[_0x48eef0(0x1fa)](_0x499e36[_0x48eef0(0x228)]);let _0x17ca16=await this['dataValidate']({'request':_0x499e36,'schema':N,'ClassRef':C,'execute':_0x5880b3=>A[_0x48eef0(0x522)](_0x5880b3,_0x367302,_0x440803)});_0x325759['status'](0xc8)[_0x48eef0(0x6d3)](_0x17ca16);})['post'](this[_0x4933ad(0x323)](_0x4933ad(0x39a)),..._0x4bb50e,async(_0x29d601,_0x330f09)=>{const _0x45502d=_0x4933ad;let _0x185e27=_0x29d601[_0x45502d(0x228)],_0x393d7f=_0x29d601['headers'][_0x45502d(0x2a1)];y[_0x45502d(0x1fa)]('request\x20received\x20in\x20editFlowcondition'),y[_0x45502d(0x1fa)](_0x45502d(0x3e9)),y[_0x45502d(0x1fa)](_0x29d601[_0x45502d(0x228)]);let _0x31643a=await this[_0x45502d(0x7f3)]({'request':_0x29d601,'schema':N,'ClassRef':C,'execute':_0x39b096=>A[_0x45502d(0x8ad)](_0x39b096,_0x185e27,_0x393d7f)});_0x330f09[_0x45502d(0x346)](0xc8)[_0x45502d(0x6d3)](_0x31643a);})[_0x4933ad(0x568)](this[_0x4933ad(0x323)](_0x4933ad(0x79e)),..._0x4bb50e,async(_0xe325fb,_0x217cff)=>{const _0x498201=_0x4933ad;let _0x5d864b=_0xe325fb[_0x498201(0x228)],_0xe11895=_0xe325fb[_0x498201(0x5d0)][_0x498201(0x2a1)];y['verbose'](_0x498201(0x61a)),y[_0x498201(0x1fa)](_0x498201(0x3e9)),y[_0x498201(0x1fa)](_0xe325fb[_0x498201(0x228)]);let _0x1eaf6f=await this[_0x498201(0x7f3)]({'request':_0xe325fb,'schema':N,'ClassRef':C,'execute':_0x501b6c=>A[_0x498201(0x481)](_0x501b6c,_0x5d864b,_0xe11895)});_0x217cff[_0x498201(0x346)](0xc8)['json'](_0x1eaf6f);})['post'](this[_0x4933ad(0x323)](_0x4933ad(0x45d)),..._0x4bb50e,async(_0x50a3b3,_0x4a7ea6)=>{const _0x565f38=_0x4933ad;let _0x1b5c45=_0x50a3b3['body'];y['verbose']('request\x20received\x20in\x20getFlow'),y[_0x565f38(0x1fa)](_0x565f38(0x3e9)),y['verbose'](_0x50a3b3['body']);let _0x4b817d=await this['dataValidate']({'request':_0x50a3b3,'schema':N,'ClassRef':C,'execute':_0x33aba9=>A['getFlow'](_0x33aba9,_0x1b5c45)});_0x4a7ea6[_0x565f38(0x346)](0xc8)[_0x565f38(0x6d3)](_0x4b817d);})[_0x4933ad(0x56f)](this[_0x4933ad(0x323)]('deleteflow'),..._0x4bb50e,async(_0x5a6e16,_0x6fd3b3)=>{const _0x335332=_0x4933ad;let _0x33f745=_0x5a6e16[_0x335332(0x228)],_0x4a4445=_0x5a6e16[_0x335332(0x5d0)][_0x335332(0x2a1)];y[_0x335332(0x1fa)]('request\x20received\x20in\x20deleteFlow'),y[_0x335332(0x1fa)](_0x335332(0x3e9)),y[_0x335332(0x1fa)](_0x5a6e16[_0x335332(0x228)]);let _0x1d3fe6=await this[_0x335332(0x7f3)]({'request':_0x5a6e16,'schema':N,'ClassRef':C,'execute':_0x18d08b=>A[_0x335332(0x769)](_0x18d08b,_0x33f745,_0x4a4445)});_0x6fd3b3[_0x335332(0x346)](0xc8)['json'](_0x1d3fe6);})[_0x4933ad(0x1ef)](this[_0x4933ad(0x323)](_0x4933ad(0x1fb)),..._0x4bb50e,async(_0x1c9d86,_0x1dd7a5)=>{const _0x48cf8f=_0x4933ad;y[_0x48cf8f(0x1fa)](_0x48cf8f(0x36a));let _0x3a4a4f=await this['dataValidate']({'request':_0x1c9d86,'schema':N,'ClassRef':C,'execute':_0x569dc3=>A[_0x48cf8f(0x503)](_0x569dc3)});_0x1dd7a5[_0x48cf8f(0x346)](0xc8)[_0x48cf8f(0x6d3)](_0x3a4a4f);});}},mo=T(require('path')),Z={};function po(_0x3c953a,_0xdc9a2a,_0x158458,_0x5e5692){Z[_0x3c953a]||(Z[_0x3c953a]={}),Z[_0x3c953a][_0xdc9a2a]={'id':_0xdc9a2a,'response':_0x158458,'events':_0x5e5692};}function ho(_0x17f37f,_0x335e70){!Z[_0x17f37f]||!Z[_0x17f37f][_0x335e70]||delete Z[_0x17f37f][_0x335e70];}function U(_0x2badc1,_0x1019f9,_0x19ad09){const _0x4ad269=a0_0x55f44d;if(!Z[_0x2badc1])return;let _0x1286c4=_0x4ad269(0x21a)+JSON[_0x4ad269(0x319)](_0x19ad09)+'\x0a\x0a';Object[_0x4ad269(0x81b)](Z[_0x2badc1])[_0x4ad269(0x27f)](_0xcdf723=>{const _0xec39dc=_0x4ad269;_0xcdf723[_0xec39dc(0x893)]['includes'](_0x1019f9)&&_0xcdf723[_0xec39dc(0x7e8)][_0xec39dc(0x2be)](_0x1286c4);});}function go(){const _0xdbee34=a0_0x55f44d;let _0xc782ba={};for(let _0x2170ae in Z)_0xc782ba[_0x2170ae]=Object[_0xdbee34(0x81b)](Z[_0x2170ae])[_0xdbee34(0x2b0)](_0x1f24e1=>({'id':_0x1f24e1['id'],'events':_0x1f24e1[_0xdbee34(0x893)]}));return _0xc782ba;}function a0_0x1182(_0x30d55a,_0x5f17e3){const _0xb3e57b=a0_0xb3e5();return a0_0x1182=function(_0x1182db,_0x21b4eb){_0x1182db=_0x1182db-0x1d3;let _0x42aaf5=_0xb3e57b[_0x1182db];return _0x42aaf5;},a0_0x1182(_0x30d55a,_0x5f17e3);}var fo=require(a0_0x55f44d(0x89c)),Es=require(a0_0x55f44d(0x3ed)),Cs=class{},yr=new Es[(a0_0x55f44d(0x759))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),br=new Es[(a0_0x55f44d(0x759))]({'_id':{'type':String,'default':a0_0x55f44d(0x3c7)},'WebhookGlobal':{'type':yr},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Se=O?.[a0_0x55f44d(0x676)](Cs['name'],br,'All_Instances_Config'),Sr=mo[a0_0x55f44d(0x66b)]['join'](__dirname,a0_0x55f44d(0x286)),At=(0x0,$t['Router'])(),Mr=b['get'](a0_0x55f44d(0x7b2))['TYPE'],ae=[Ma,Ca,Na[Mr]];At[a0_0x55f44d(0x780)](a0_0x55f44d(0x66a),$t[a0_0x55f44d(0x66b)][a0_0x55f44d(0x258)](Sr))[a0_0x55f44d(0x1ef)](a0_0x55f44d(0x31a),async(_0x347df4,_0x2035eb)=>{const _0x1bbf13=a0_0x55f44d;console[_0x1bbf13(0x430)](_0x1bbf13(0x47b));let _0x5e32b6=_0x347df4[_0x1bbf13(0x57c)][_0x1bbf13(0x6bd)],_0x3ffcc2=(_0x347df4[_0x1bbf13(0x263)][_0x1bbf13(0x893)]||'')['split'](','),_0x387b3e=(0x0,fo['v4'])();console[_0x1bbf13(0x430)](_0x1bbf13(0x66e),_0x5e32b6),console[_0x1bbf13(0x430)](_0x1bbf13(0x756),_0x3ffcc2);let _0x2bc791=b[_0x1bbf13(0x1ef)]('AUTHENTICATION')['API_KEY'],_0x2c002f=_0x347df4[_0x1bbf13(0x263)][_0x1bbf13(0x2a1)];if(console['log'](_0x1bbf13(0x634),_0x2c002f),_0x2bc791[_0x1bbf13(0x792)]!==_0x2c002f){console[_0x1bbf13(0x430)]('env.KEY\x20!==\x20key');try{let _0x55be52=await de[_0x1bbf13(0x4ac)][_0x1bbf13(0x408)](_0x5e32b6);if(console[_0x1bbf13(0x430)](_0x1bbf13(0x814),_0x55be52),!_0x55be52||_0x55be52[_0x1bbf13(0x2a1)]!==_0x2c002f)return console['log'](_0x1bbf13(0x451)),_0x2035eb['status'](0x191)[_0x1bbf13(0x6c8)](_0x1bbf13(0x528));}catch(_0x9eedbd){return console[_0x1bbf13(0x752)](_0x1bbf13(0x611),_0x9eedbd),_0x2035eb[_0x1bbf13(0x346)](0x191)[_0x1bbf13(0x6c8)](_0x1bbf13(0x452));}}if(!await Xe(_0x5e32b6))return _0x2035eb[_0x1bbf13(0x346)](0x194)['send'](_0x1bbf13(0x303));_0x2035eb[_0x1bbf13(0x407)](_0x1bbf13(0x5f1),'text/event-stream'),_0x2035eb[_0x1bbf13(0x407)](_0x1bbf13(0x63e),_0x1bbf13(0x1ee)),_0x2035eb[_0x1bbf13(0x407)](_0x1bbf13(0x4b5),_0x1bbf13(0x80a)),_0x2035eb[_0x1bbf13(0x7b0)]();let _0x2f5d0d=_0x1bbf13(0x21a)+JSON['stringify']({'info':_0x1bbf13(0x5a6)})+'\x0a\x0a';_0x2035eb[_0x1bbf13(0x2be)](_0x2f5d0d),po(_0x5e32b6,_0x387b3e,_0x2035eb,_0x3ffcc2),_0x347df4['on'](_0x1bbf13(0x4ae),()=>{const _0x4c5608=_0x1bbf13;console['log'](_0x4c5608(0x2c9)+_0x5e32b6),ho(_0x5e32b6,_0x387b3e);});}),At[a0_0x55f44d(0x1ef)](a0_0x55f44d(0x508),(_0x100deb,_0x53e308)=>{const _0x4bf43e=a0_0x55f44d;let _0x276d20=go();_0x53e308[_0x4bf43e(0x6d3)](_0x276d20);})['get']('/',(_0x4635c8,_0x3a073f)=>{const _0x8fee63=a0_0x55f44d;let _0x3780bb=b[_0x8fee63(0x1ef)](_0x8fee63(0x7c6))[_0x8fee63(0x1f0)];if(_0x3780bb){let _0x542022=encodeURIComponent(''+_0x3780bb);_0x3a073f[_0x8fee63(0x6a7)](_0x8fee63(0x6db)+_0x542022);return;}let _0xd0693f=b[_0x8fee63(0x1ef)](_0x8fee63(0x321)),_0x4227f8=_0xd0693f&&_0xd0693f[_0x8fee63(0x3af)][_0x8fee63(0x44b)]('/')[0x4];if(_0x4227f8){let _0x27ca73=encodeURIComponent(_0x8fee63(0x3b6)+_0x4227f8);_0x3a073f[_0x8fee63(0x6a7)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x27ca73);}else _0x3a073f[_0x8fee63(0x6a7)](_0x8fee63(0x40f));})[a0_0x55f44d(0x1d6)](a0_0x55f44d(0x24c),...ae,async(_0x300d56,_0x2fdd50)=>{const _0x1a898e=a0_0x55f44d;try{console['log'](_0x1a898e(0x404)),_0x2fdd50[_0x1a898e(0x346)](0xc8)[_0x1a898e(0x6d3)]({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x2fdd50['on'](_0x1a898e(0x60a),()=>process[_0x1a898e(0x6ca)](0x0));}catch(_0x39746c){console[_0x1a898e(0x752)](_0x1a898e(0x3c8),_0x39746c),_0x2fdd50[_0x1a898e(0x346)](0x1f4)[_0x1a898e(0x6d3)]({'message':_0x1a898e(0x215)});}})['put']('/config',...ae,async(_0x36bdec,_0x27ab83)=>{const _0x5db2a0=a0_0x55f44d;try{let _0x30319a=_0x36bdec[_0x5db2a0(0x228)];await Se['updateOne']({},{'$set':_0x30319a},{'upsert':!0x0});let _0x24c3e0=await Se[_0x5db2a0(0x720)]();_0x27ab83['json'](_0x24c3e0);}catch(_0x11148b){_0x27ab83[_0x5db2a0(0x346)](0x190)[_0x5db2a0(0x6c8)](_0x11148b[_0x5db2a0(0x57a)]);}})[a0_0x55f44d(0x1ef)](a0_0x55f44d(0x84d),...ae,async(_0x57e565,_0x5366b9)=>{const _0x2eeb7f=a0_0x55f44d;try{let _0x1a498c=await Se[_0x2eeb7f(0x720)]();if(!_0x1a498c)return _0x5366b9[_0x2eeb7f(0x6d3)]({});_0x5366b9['json'](_0x1a498c);}catch(_0x4ff3a7){_0x5366b9['status'](0x1f4)[_0x2eeb7f(0x6c8)](_0x4ff3a7[_0x2eeb7f(0x57a)]);}})['use']('/instance',new gt(b,...ae)['router'])[a0_0x55f44d(0x780)]('/message',new Nt(...ae)['router'])[a0_0x55f44d(0x780)](a0_0x55f44d(0x78a),new ot(...ae)[a0_0x55f44d(0x3a6)])[a0_0x55f44d(0x780)](a0_0x55f44d(0x6ae),new ht(...ae)[a0_0x55f44d(0x3a6)])['use']('/webhook',new Ot(...ae)[a0_0x55f44d(0x3a6)])[a0_0x55f44d(0x780)]('/automate',new Tt(...ae)[a0_0x55f44d(0x3a6)]);var m=class{constructor(..._0x5e55ec){const _0x459eb1=a0_0x55f44d;throw{'status':0x190,'error':_0x459eb1(0x1d3),'message':_0x5e55ec[_0x459eb1(0x2af)]>0x0?_0x5e55ec:void 0x0};}},se=class{constructor(..._0xc1b94f){const _0x53dc04=a0_0x55f44d;throw{'status':0x191,'error':_0x53dc04(0x22e),'message':_0xc1b94f[_0x53dc04(0x2af)]>0x0?_0xc1b94f:void 0x0};}},Q=class{constructor(..._0x3b5f53){const _0x5afab2=a0_0x55f44d;throw{'status':0x193,'error':_0x5afab2(0x619),'message':_0x3b5f53['length']>0x0?_0x3b5f53:void 0x0};}},J=class{constructor(..._0x1d05fc){const _0x4a1b09=a0_0x55f44d;throw{'status':0x194,'error':_0x4a1b09(0x310),'message':_0x1d05fc[_0x4a1b09(0x2af)]>0x0?_0x1d05fc:void 0x0};}},I=class{constructor(..._0x450394){const _0x296d58=a0_0x55f44d;throw{'status':0x1f4,'error':_0x296d58(0x690),'message':_0x450394[_0x296d58(0x2af)]>0x0?_0x450394:void 0x0};}},pe=require(a0_0x55f44d(0x70b));async function vs(_0xa3b25a){const _0xf2d08a=a0_0x55f44d;let _0x57c815=new R(vs[_0xf2d08a(0x754)]),_0x3ea504=O[_0xf2d08a(0x4b6)](),_0xb37fdd=_0x3ea504['db'](b['get']('DATABASE')['CONNECTION'][_0xf2d08a(0x639)]+_0xf2d08a(0x49c))[_0xf2d08a(0x772)](_0xa3b25a),_0x396ab1=async(_0x4b9166,_0x486b0e)=>{const _0x3367b1=_0xf2d08a;try{return await _0x3ea504[_0x3367b1(0x436)](),await _0xb37fdd[_0x3367b1(0x559)]({'_id':_0x486b0e},JSON[_0x3367b1(0x52e)](JSON['stringify'](_0x4b9166,pe[_0x3367b1(0x381)][_0x3367b1(0x79f)])),{'upsert':!0x0});}catch{}},_0xdc385b=async _0x56d255=>{const _0x5c144f=_0xf2d08a;try{await _0x3ea504['connect']();let _0x1692f1=await _0xb37fdd[_0x5c144f(0x720)]({'_id':_0x56d255}),_0x462695=JSON[_0x5c144f(0x319)](_0x1692f1);return JSON[_0x5c144f(0x52e)](_0x462695,pe[_0x5c144f(0x381)][_0x5c144f(0x469)]);}catch{}},_0x40fc6b=async _0x3655c8=>{const _0xd15af4=_0xf2d08a;try{return await _0x3ea504[_0xd15af4(0x436)](),await _0xb37fdd[_0xd15af4(0x44d)]({'_id':_0x3655c8});}catch{}},_0x3e3547=await _0xdc385b(_0xf2d08a(0x6fe))||(0x0,pe[_0xf2d08a(0x374)])();return{'state':{'creds':_0x3e3547,'keys':{'get':async(_0x80e6f1,_0x3cafab)=>{const _0x24b99a=_0xf2d08a;let _0x30b951={};return await Promise[_0x24b99a(0x7ee)](_0x3cafab['map'](async _0x1bae78=>{const _0x8f4ed0=_0x24b99a;let _0x22a9e4=await _0xdc385b(_0x80e6f1+'-'+_0x1bae78);_0x80e6f1===_0x8f4ed0(0x3a1)&&_0x22a9e4&&(_0x22a9e4=pe[_0x8f4ed0(0x390)]['Message']['AppStateSyncKeyData'][_0x8f4ed0(0x461)](_0x22a9e4)),_0x30b951[_0x1bae78]=_0x22a9e4;})),_0x30b951;},'set':async _0x3e0419=>{const _0x33c1f7=_0xf2d08a;let _0x2ef8b0=[];for(let _0x4a3330 in _0x3e0419)for(let _0x3ef997 in _0x3e0419[_0x4a3330]){let _0x3e348b=_0x3e0419[_0x4a3330][_0x3ef997],_0x136aa4=_0x4a3330+'-'+_0x3ef997;_0x2ef8b0[_0x33c1f7(0x3d5)](_0x3e348b?_0x396ab1(_0x3e348b,_0x136aa4):_0x40fc6b(_0x136aa4));}await Promise['all'](_0x2ef8b0);}}},'saveCreds':async()=>_0x396ab1(_0x3e3547,_0xf2d08a(0x6fe))};}var $s=T(require(a0_0x55f44d(0x51e))),As=T(require(a0_0x55f44d(0x6ce))),Dt=require(a0_0x55f44d(0x70b)),wo=require(a0_0x55f44d(0x7a3)),xt=require(a0_0x55f44d(0x70b)),It;function Cr(_0xb3e41b){const _0x37325f=a0_0x55f44d;return It||(It=(0x0,wo['createClient'])({'url':_0xb3e41b[_0x37325f(0x309)]}),It[_0x37325f(0x436)]()),It;}var le=class c{constructor(_0x2a2045,_0x44eac6){const _0x19eec3=a0_0x55f44d;this[_0x19eec3(0x7ea)]=_0x2a2045,this['instanceName']=_0x44eac6,this[_0x19eec3(0x3ff)]=new R(c['name']),this['client']=Cr(_0x2a2045);}set[a0_0x55f44d(0x7bc)](_0x37240c){const _0x40b656=a0_0x55f44d;this[_0x40b656(0x3b5)]=_0x37240c;}async[a0_0x55f44d(0x4fd)](){const _0x4f6368=a0_0x55f44d;try{return await this[_0x4f6368(0x757)]['sendCommand']([_0x4f6368(0x3cf),this[_0x4f6368(0x7ea)][_0x4f6368(0x41c)]+':*']);}catch(_0x144332){this[_0x4f6368(0x3ff)]['error'](_0x144332);}}async[a0_0x55f44d(0x59d)](_0x587810,_0x62a845){const _0x38456d=a0_0x55f44d;try{let _0x52d6f7=JSON[_0x38456d(0x319)](_0x62a845,xt[_0x38456d(0x381)][_0x38456d(0x79f)]);return await this[_0x38456d(0x757)][_0x38456d(0x280)](this['redisEnv'][_0x38456d(0x41c)]+':'+this[_0x38456d(0x3b5)],_0x587810,_0x52d6f7);}catch(_0x3f3ab2){this[_0x38456d(0x3ff)]['error'](_0x3f3ab2);}}async[a0_0x55f44d(0x76e)](){const _0x4f0cc2=a0_0x55f44d;try{let _0x2347c1=await this[_0x4f0cc2(0x757)]['hGetAll'](this[_0x4f0cc2(0x7ea)][_0x4f0cc2(0x41c)]+':'+this['instanceName']);if(_0x2347c1){for(let _0x186266 in _0x2347c1)Object[_0x4f0cc2(0x223)][_0x4f0cc2(0x596)][_0x4f0cc2(0x516)](_0x2347c1,_0x186266)&&(_0x2347c1[_0x186266]=JSON[_0x4f0cc2(0x52e)](_0x2347c1[_0x186266],xt[_0x4f0cc2(0x381)][_0x4f0cc2(0x469)]));return _0x2347c1;}}catch(_0x219659){this[_0x4f0cc2(0x3ff)][_0x4f0cc2(0x752)](_0x219659);}}async['readData'](_0x503217){const _0x44b244=a0_0x55f44d;try{let _0x3cf121=await this['client'][_0x44b244(0x24a)](this[_0x44b244(0x7ea)][_0x44b244(0x41c)]+':'+this[_0x44b244(0x3b5)],_0x503217);if(_0x3cf121)return JSON[_0x44b244(0x52e)](_0x3cf121,xt[_0x44b244(0x381)][_0x44b244(0x469)]);}catch(_0x392613){this[_0x44b244(0x3ff)][_0x44b244(0x752)](_0x392613);}}async[a0_0x55f44d(0x1f6)](_0x56ce7b){const _0x17d678=a0_0x55f44d;try{return await this['client'][_0x17d678(0x86d)](this[_0x17d678(0x7ea)][_0x17d678(0x41c)]+':'+this[_0x17d678(0x3b5)],_0x56ce7b);}catch(_0x12fe45){this[_0x17d678(0x3ff)]['error'](_0x12fe45);}}async[a0_0x55f44d(0x5ba)](_0x372608){const _0x459b74=a0_0x55f44d;try{return await this[_0x459b74(0x757)][_0x459b74(0x384)](_0x372608||this[_0x459b74(0x7ea)]['PREFIX_KEY']+':'+this['instanceName']);}catch(_0x2840d8){this[_0x459b74(0x3ff)][_0x459b74(0x752)](_0x2840d8);}}};async function Ns(_0xa4c6c6,_0x561707){const _0x2340c1=a0_0x55f44d;let _0x27e226=new R(Ns['name']),_0x1a94c2=new le(_0xa4c6c6,_0x561707),_0x249b42=async(_0x131535,_0x22bd66)=>{const _0xb050cf=a0_0x1182;try{return await _0x1a94c2[_0xb050cf(0x59d)](_0x22bd66,_0x131535);}catch(_0x14ed55){return _0x27e226['error']({'localError':_0xb050cf(0x59d),'error':_0x14ed55});}},_0x55370d=async _0x36552f=>{const _0x5d325c=a0_0x1182;try{return await _0x1a94c2[_0x5d325c(0x37a)](_0x36552f);}catch(_0x45b9a4){_0x27e226[_0x5d325c(0x752)]({'readData':_0x5d325c(0x59d),'error':_0x45b9a4});return;}},_0x56cbbe=async _0x4f6c50=>{const _0x5d8f02=a0_0x1182;try{return await _0x1a94c2[_0x5d8f02(0x1f6)](_0x4f6c50);}catch(_0x278e7f){_0x27e226[_0x5d8f02(0x752)]({'readData':_0x5d8f02(0x1f6),'error':_0x278e7f});}},_0x42a27b=await _0x55370d('creds')||(0x0,Dt[_0x2340c1(0x374)])();return{'state':{'creds':_0x42a27b,'keys':{'get':async(_0x22c75d,_0x1517dc)=>{const _0x54bdcc=_0x2340c1;let _0x544bf7={};return await Promise['all'](_0x1517dc[_0x54bdcc(0x2b0)](async _0x4d7e33=>{const _0x101020=_0x54bdcc;let _0x55ec04=await _0x55370d(_0x22c75d+'-'+_0x4d7e33);_0x22c75d===_0x101020(0x3a1)&&_0x55ec04&&(_0x55ec04=Dt[_0x101020(0x390)][_0x101020(0x5b7)][_0x101020(0x7dc)][_0x101020(0x461)](_0x55ec04)),_0x544bf7[_0x4d7e33]=_0x55ec04;})),_0x544bf7;},'set':async _0x10e3c7=>{const _0x3d05b9=_0x2340c1;let _0x129f7c=[];for(let _0x5a8f0b in _0x10e3c7)for(let _0x1a1b93 in _0x10e3c7[_0x5a8f0b]){let _0x4eb696=_0x10e3c7[_0x5a8f0b][_0x1a1b93],_0x5ca0f4=_0x5a8f0b+'-'+_0x1a1b93;_0x129f7c[_0x3d05b9(0x3d5)](_0x4eb696?await _0x249b42(_0x4eb696,_0x5ca0f4):await _0x56cbbe(_0x5ca0f4));}await Promise['all'](_0x129f7c);}}},'saveCreds':async()=>await _0x249b42(_0x42a27b,'creds')};}var j=T(require('fs')),jt=require(a0_0x55f44d(0x89c)),Lt=T(require('sharp')),Ft=require(a0_0x55f44d(0x751)),Er=a0_0x55f44d(0x581)[a0_0x55f44d(0x855)](),_t=Er[a0_0x55f44d(0x44b)]('\x0a')['map'](_0x542847=>{const _0x22e4cc=a0_0x55f44d;let _0x3c1763=_0x542847[_0x22e4cc(0x44b)](':'),_0x4e94d9={'host':_0x3c1763[0x0],'port':_0x3c1763[0x1],'protocol':'http'};return _0x3c1763[_0x22e4cc(0x2af)]===0x4&&(_0x4e94d9[_0x22e4cc(0x7f8)]=_0x3c1763[0x2],_0x4e94d9['password']=_0x3c1763[0x3]),_0x4e94d9;});function yo(_0x484cd1){const _0x3f4364=a0_0x55f44d;return _t[_0x3f4364(0x408)](_0x1b7f37=>_0x1b7f37['host']===_0x484cd1)||null;}function bo(){const _0x2aa2d7=a0_0x55f44d;if(_t[_0x2aa2d7(0x2af)]===0x0)return null;let _0x283a90=Math[_0x2aa2d7(0x68a)](Math[_0x2aa2d7(0x44e)]()*_t[_0x2aa2d7(0x2af)]);return _t[_0x283a90];}function Rs(_0x3aeb85){const _0x368405=a0_0x55f44d;let _0x395ce0=_0x33b8cb=>typeof _0x33b8cb==_0x368405(0x4a1)&&_0x33b8cb[_0x368405(0x2af)]>0x0,_0x2822eb=_0x4a9d44=>{let _0x5ae9f8=parseInt(_0x4a9d44,0xa);return!isNaN(_0x5ae9f8)&&_0x5ae9f8>0x0&&_0x5ae9f8<=0xffff;},_0x1c86ae=_0x230681=>typeof _0x230681==_0x368405(0x4a1)&&_0x230681[_0x368405(0x2af)]>0x0;return _0x3aeb85&&_0x395ce0(_0x3aeb85[_0x368405(0x1f8)])&&_0x2822eb(_0x3aeb85[_0x368405(0x268)])&&(!_0x3aeb85[_0x368405(0x7f8)]||_0x1c86ae(_0x3aeb85['username']))&&(!_0x3aeb85[_0x368405(0x206)]||_0x1c86ae(_0x3aeb85[_0x368405(0x206)]))&&(_0x3aeb85[_0x368405(0x8ae)]==='http'||_0x3aeb85[_0x368405(0x8ae)]===_0x368405(0x6dc));}var Ut=require('crypto'),Is=a0_0x55f44d(0x213),No,ue=null,So=null,et=null,vr=0x3,Nr=null,ee=b[a0_0x55f44d(0x1ef)](a0_0x55f44d(0x7b2))['API_KEY']['KEY'];async function Rr(){const _0x2dd94d=a0_0x55f44d;let _0x39ee16=await Se[_0x2dd94d(0x720)]();ue=_0x39ee16?.[_0x2dd94d(0x801)]??null,Nr=_0x39ee16?.[_0x2dd94d(0x2f8)]??null,Is=_0x39ee16?.[_0x2dd94d(0x5a0)]??_0x2dd94d(0x213),No=_0x39ee16?.['connectedName']??xs??_0x2dd94d(0x4c8),console[_0x2dd94d(0x430)](_0x39ee16);}async function Or(){await Rr();}Or();var Mo={},oe={},Me=class c{constructor(_0x21f172,_0x3a8921,_0x3881ee){const _0x367e2b=a0_0x55f44d;this[_0x367e2b(0x473)]=_0x21f172,this[_0x367e2b(0x781)]=_0x3a8921,this[_0x367e2b(0x82b)]=_0x3881ee,this['AutomateSystem']=null,this['logger']=new R(c[_0x367e2b(0x754)]),this[_0x367e2b(0x6bd)]={},this['localWebhook']={},this[_0x367e2b(0x26b)]={'state':_0x367e2b(0x4ae)},this[_0x367e2b(0x3c4)]=(0x0,F[_0x367e2b(0x1e5)])(ne,_0x367e2b(0x286)),this[_0x367e2b(0x667)]=new As[(_0x367e2b(0x66b))](),this[_0x367e2b(0x3fc)]=new As['default'](),this[_0x367e2b(0x35a)]=!0x1,this['webhookMap']={'status.instance':_0x367e2b(0x809),'connection.update':_0x367e2b(0x809),'qrcode.updated':_0x367e2b(0x620),'messages.upsert':_0x367e2b(0x410),'send.message':_0x367e2b(0x410),'messages.update':_0x367e2b(0x513),'group.upsert':_0x367e2b(0x493),'group.update':_0x367e2b(0x493),'group-participants.update':_0x367e2b(0x493),'messages.set':_0x367e2b(0x6d5),'contacts.set':_0x367e2b(0x742),'contacts.upsert':_0x367e2b(0x742),'contacts.update':_0x367e2b(0x742),'presence.update':'/wa-presence','chats.set':_0x367e2b(0x50f),'chats.update':_0x367e2b(0x50f),'chats.upsert':_0x367e2b(0x50f),'chats.delete':_0x367e2b(0x50f)},this[_0x367e2b(0x54b)]=0x0,this['reconnectTimestamps']=[],this[_0x367e2b(0x39d)]=0xa,this['RECONNECT_TIME_FRAME']=0xea60,this[_0x367e2b(0x3f9)]=!0x1,this['chatHandle']={'chats.upsert':async(_0x1e9b1c,_0xf10abe)=>{const _0x1a0998=_0x367e2b;let _0x1a7afd=[];for await(let _0xf579af of _0x1e9b1c)_0x1a7afd['push']({'_id':_0xf579af['id'],'owner':this[_0x1a0998(0x6bd)][_0x1a0998(0x6f5)],'group':_0xf579af['id']['endsWith'](_0x1a0998(0x858)),'name':_0xf579af[_0x1a0998(0x754)]||_0xf579af['displayName']||null,'contactname':null,'lastmsg':_0xf579af[_0x1a0998(0x2d6)]&&_0xf579af[_0x1a0998(0x2d6)]['toString']()[_0x1a0998(0x2af)]<0xd?_0xf579af['conversationTimestamp']*0x3e8:_0xf579af[_0x1a0998(0x2d6)]||null,'archived':_0xf579af[_0x1a0998(0x750)]||!0x1,'unreadcount':_0xf579af['unreadCount']||0x0,'ephemeralExpiration':_0xf579af[_0x1a0998(0x2e1)]||0x0});this['sendDataWebhook']('chats.upsert',_0x1a7afd);},'chats.update':async(_0x55a263,_0x11e1fb)=>{const _0x236f8b=_0x367e2b;for(let _0x5b8018 of _0x55a263){let _0x3274e9={'_id':_0x5b8018['id'],'owner':this[_0x236f8b(0x6bd)]['wuid'],'archived':_0x5b8018[_0x236f8b(0x750)],'muteEndTime':_0x5b8018[_0x236f8b(0x400)],'ephemeralExpiration':_0x5b8018[_0x236f8b(0x2e1)]},_0x19a706=!0x1,_0x17991a={};_0x3274e9['archived']!=null&&(this[_0x236f8b(0x3ff)][_0x236f8b(0x1fa)](this[_0x236f8b(0x3b5)]+'\x20('+this[_0x236f8b(0x6bd)]['wuid']+_0x236f8b(0x6a5)+_0x5b8018['id']+_0x236f8b(0x834)+_0x5b8018[_0x236f8b(0x750)]),_0x19a706=!0x0,_0x17991a[_0x236f8b(0x750)]=_0x5b8018['archived']),_0x236f8b(0x400)in _0x5b8018&&(this['logger'][_0x236f8b(0x1fa)](this[_0x236f8b(0x3b5)]+'\x20('+this[_0x236f8b(0x6bd)][_0x236f8b(0x6f5)]+_0x236f8b(0x5b5)+_0x5b8018['id']+'\x20:\x20'+(_0x5b8018[_0x236f8b(0x400)]??'0')),_0x19a706=!0x0,_0x17991a['muteEndTime']=_0x5b8018['muteEndTime']??0x0),_0x236f8b(0x2e1)in _0x5b8018&&(this[_0x236f8b(0x3ff)]['verbose'](this[_0x236f8b(0x3b5)]+'\x20('+this[_0x236f8b(0x6bd)][_0x236f8b(0x6f5)]+_0x236f8b(0x65e)+_0x5b8018['id']+_0x236f8b(0x834)+(_0x5b8018[_0x236f8b(0x2e1)]!==void 0x0?_0x5b8018['ephemeralExpiration']:_0x236f8b(0x297))),_0x17991a[_0x236f8b(0x2e1)]=_0x5b8018[_0x236f8b(0x2e1)]===null?0x0:_0x5b8018[_0x236f8b(0x2e1)],_0x19a706=!0x0);let _0x283881;_0x19a706&&(_0x283881=await this['repository'][_0x236f8b(0x504)]['updateOne']({'where':{'_id':_0x5b8018['id']}},_0x17991a,this[_0x236f8b(0x6bd)][_0x236f8b(0x6f5)])),_0x283881&&U(this[_0x236f8b(0x3b5)],_0x236f8b(0x7df),{'chat':_0x283881});}},'chats.delete':async _0x5d14c3=>{const _0x100183=_0x367e2b;for(let _0xe66687 of _0x5d14c3)if(_0xe66687[_0x100183(0x58d)]('@g.us')){await this[_0x100183(0x82b)][_0x100183(0x504)][_0x100183(0x56f)]({'where':{'_id':_0xe66687}},this['instance']['wuid']);let _0x3a6276={'where':{'key':{'remoteJid':_0xe66687}}};await this[_0x100183(0x82b)][_0x100183(0x57a)][_0x100183(0x56f)](_0x3a6276,this[_0x100183(0x6bd)]['wuid']);}else{await this['repository'][_0x100183(0x504)][_0x100183(0x540)]({'where':{'_id':_0xe66687}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x100183(0x6bd)][_0x100183(0x6f5)]);let _0x5d1234={'where':{'key':{'remoteJid':_0xe66687}}};await this[_0x100183(0x82b)][_0x100183(0x57a)][_0x100183(0x56f)](_0x5d1234,this[_0x100183(0x6bd)]['wuid']);}this[_0x100183(0x477)](_0x100183(0x2fe),[..._0x5d14c3]);}},this[_0x367e2b(0x670)]={'contacts.upsert':async(_0x2e4306,_0x24a946)=>{const _0x1c5ea4=_0x367e2b;let _0xfcaf25=await this[_0x1c5ea4(0x82b)]['contact']['find']({'where':{}},this[_0x1c5ea4(0x6bd)]['wuid']),_0x10ec13=[];for await(let _0x5901e4 of _0x2e4306)_0xfcaf25[_0x1c5ea4(0x408)](_0x4eae60=>_0x4eae60[_0x1c5ea4(0x20e)]===_0x5901e4['id'])||_0x10ec13[_0x1c5ea4(0x3d5)]({'_id':_0x5901e4['id'],'pushName':_0x5901e4?.['name']||_0x5901e4?.['verifiedName'],'owner':this[_0x1c5ea4(0x6bd)][_0x1c5ea4(0x6f5)]});this['sendDataWebhook'](_0x1c5ea4(0x88f),_0x10ec13),await this[_0x1c5ea4(0x82b)][_0x1c5ea4(0x446)]['insert'](_0x10ec13);},'contacts.update':async(_0x56c7e5,_0x266017)=>{const _0x4b93c6=_0x367e2b;let _0x157bfd=[];for await(let _0x33ff1f of _0x56c7e5)_0x157bfd[_0x4b93c6(0x3d5)]({'_id':_0x33ff1f['id'],'pushName':_0x33ff1f?.['name']??_0x33ff1f?.[_0x4b93c6(0x3bb)],'owner':this['instance'][_0x4b93c6(0x6f5)]});this[_0x4b93c6(0x477)](_0x4b93c6(0x347),_0x157bfd);}},this['messageHandle']={'messaging-history.set':async({messages:_0x512466,chats:_0x491cc5,isLatest:_0x3209ce},_0x47731d)=>{const _0x18b2f8=_0x367e2b;if(_0x3209ce){let _0x1c725b=await Promise[_0x18b2f8(0x7ee)](_0x491cc5[_0x18b2f8(0x2b0)](async _0x5500e9=>({'_id':_0x5500e9['id'],'owner':this[_0x18b2f8(0x6bd)][_0x18b2f8(0x6f5)],'group':_0x5500e9['id'][_0x18b2f8(0x58d)](_0x18b2f8(0x858)),'name':_0x5500e9[_0x18b2f8(0x754)]||_0x5500e9[_0x18b2f8(0x78f)]||_0x5500e9[_0x18b2f8(0x7f8)]||null,'contactname':null,'lastmsg':_0x5500e9['conversationTimestamp']&&_0x5500e9[_0x18b2f8(0x2d6)]['toString']()[_0x18b2f8(0x2af)]<0xd?_0x5500e9[_0x18b2f8(0x2d6)]*0x3e8:_0x5500e9[_0x18b2f8(0x2d6)]||null,'archived':_0x5500e9[_0x18b2f8(0x750)]||!0x1,'unreadcount':_0x5500e9['unreadCount']||0x0,'ephemeralExpiration':_0x5500e9[_0x18b2f8(0x2e1)]||0x0,'muteEndTime':_0x5500e9[_0x18b2f8(0x400)]||0x0})));this[_0x18b2f8(0x477)](_0x18b2f8(0x30f),_0x1c725b),await this[_0x18b2f8(0x1f3)](_0x1c725b,_0x47731d);}let _0xd1ca18=[],_0x124f33=Date[_0x18b2f8(0x692)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x16e8ab]of Object[_0x18b2f8(0x35c)](_0x512466)){if(_0x16e8ab[_0x18b2f8(0x57a)]?.[_0x18b2f8(0x82e)]||_0x16e8ab[_0x18b2f8(0x57a)]?.[_0x18b2f8(0x7d8)]||!_0x16e8ab[_0x18b2f8(0x57a)]||_0x16e8ab[_0x18b2f8(0x42e)][_0x18b2f8(0x2a0)]===_0x18b2f8(0x2cd)||($s[_0x18b2f8(0x66b)][_0x18b2f8(0x839)](_0x16e8ab?.['messageTimestamp'])&&(_0x16e8ab['messageTimestamp']=_0x16e8ab[_0x18b2f8(0x291)]?.['toNumber']()),_0x16e8ab[_0x18b2f8(0x291)]&&_0x16e8ab['messageTimestamp'][_0x18b2f8(0x6d8)]()[_0x18b2f8(0x2af)]<0xd&&(_0x16e8ab[_0x18b2f8(0x291)]=_0x16e8ab[_0x18b2f8(0x291)]*0x3e8),_0x16e8ab[_0x18b2f8(0x291)]<_0x124f33))continue;let _0x501d15=(0x0,f[_0x18b2f8(0x58f)])(_0x16e8ab['message']),_0x4d0e16=(0x0,f['getContentType'])(_0x501d15),{message_normalized:_0x1dd326}=this['normalizeMessage'](_0x501d15,_0x4d0e16,null);Object[_0x18b2f8(0x3cf)](_0x1dd326)[_0x18b2f8(0x2af)]>0x0&&_0xd1ca18[_0x18b2f8(0x3d5)]({'_id':_0x16e8ab[_0x18b2f8(0x42e)]['id'],'key':_0x16e8ab['key'],'pushName':_0x16e8ab[_0x18b2f8(0x507)],'participant':_0x16e8ab[_0x18b2f8(0x527)],'message':_0x501d15,'messageType':_0x4d0e16,'message_normalized':{'key':_0x16e8ab[_0x18b2f8(0x42e)],'pushName':_0x16e8ab[_0x18b2f8(0x507)],'messageTimestamp':_0x16e8ab[_0x18b2f8(0x291)],..._0x1dd326},'messageTimestamp':_0x16e8ab['messageTimestamp'],'owner':this[_0x18b2f8(0x6bd)]['wuid']});}_0x47731d[_0x18b2f8(0x7a1)]&&_0xd1ca18[_0x18b2f8(0x2af)]>0x0&&(this[_0x18b2f8(0x3ff)][_0x18b2f8(0x1fa)](this['instanceName']+'\x20('+this[_0x18b2f8(0x6bd)][_0x18b2f8(0x6f5)]+_0x18b2f8(0x6bc)+_0xd1ca18[_0x18b2f8(0x2af)]+'\x20mensagens\x20de\x20'+this[_0x18b2f8(0x6bd)][_0x18b2f8(0x6f5)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this['repository'][_0x18b2f8(0x57a)][_0x18b2f8(0x43b)]([..._0xd1ca18],this['instance'][_0x18b2f8(0x6f5)])),this[_0x18b2f8(0x477)](_0x18b2f8(0x257),[..._0xd1ca18]),_0x512466=void 0x0;},'messages.upsert':async({messages:_0x46c103,type:_0x29a8d1},_0x1372ef)=>{const _0x423e28=_0x367e2b;let _0x387e70=_0x46c103[0x0],_0x473e57=_0x387e70[_0x423e28(0x42e)]['id'],_0x51d4b1=_0x387e70[_0x423e28(0x75e)]===0x2,_0x11e063=0xb;if(this['localWebhook']?.[_0x423e28(0x531)]&&_0x387e70[_0x423e28(0x42e)][_0x423e28(0x2a0)][_0x423e28(0x52f)](_0x423e28(0x858))){this[_0x423e28(0x3ff)][_0x423e28(0x1fa)](this[_0x423e28(0x3b5)]+'\x20('+this['instance'][_0x423e28(0x6f5)]+_0x423e28(0x4d8));return;}if(_0x51d4b1){if(oe[_0x473e57]||(oe[_0x473e57]=0x0),oe[_0x473e57]++,this['logger']['error'](this[_0x423e28(0x3b5)]+'\x20('+this['instance']['wuid']+_0x423e28(0x6fa)+_0x387e70[_0x423e28(0x42e)][_0x423e28(0x2a0)]+_0x423e28(0x524)+_0x473e57+':\x20'+oe[_0x473e57]+'/'+_0x11e063),oe[_0x473e57]>=_0x11e063){this[_0x423e28(0x3ff)][_0x423e28(0x752)](this[_0x423e28(0x3b5)]+'\x20('+this[_0x423e28(0x6bd)]['wuid']+_0x423e28(0x480)+_0x387e70[_0x423e28(0x42e)][_0x423e28(0x2a0)]+_0x423e28(0x524)+_0x473e57+'.');let _0x295555={'key':{..._0x387e70[_0x423e28(0x42e)]},'message':{'conversation':_0x423e28(0x5fc)+_0x473e57+_0x423e28(0x48a)}};this[_0x423e28(0x757)]['ev'][_0x423e28(0x58b)](_0x423e28(0x2a8),{'messages':[_0x295555],'type':'notify'}),delete oe[_0x473e57];}}else oe[_0x473e57]&&(this[_0x423e28(0x3ff)][_0x423e28(0x250)]('[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20'+oe[_0x473e57]+_0x423e28(0x579)+_0x387e70[_0x423e28(0x42e)][_0x423e28(0x2a0)]+_0x423e28(0x524)+_0x473e57),delete oe[_0x473e57]);if(_0x29a8d1!==_0x423e28(0x269)||!_0x387e70?.[_0x423e28(0x57a)]||_0x387e70[_0x423e28(0x57a)]?.[_0x423e28(0x82e)]||_0x387e70[_0x423e28(0x57a)][_0x423e28(0x7d8)]||_0x387e70[_0x423e28(0x42e)][_0x423e28(0x2a0)]===_0x423e28(0x2cd))return;let _0x25f010=null,_0x2a143a=null;try{_0x25f010=await this[_0x423e28(0x741)](_0x387e70),_0x2a143a=_0x25f010?_0x25f010[_0x423e28(0x1e5)](','):null;}catch(_0x1a1556){this[_0x423e28(0x3ff)][_0x423e28(0x1fa)](this[_0x423e28(0x3b5)]+'\x20('+this[_0x423e28(0x6bd)][_0x423e28(0x6f5)]+_0x423e28(0x6bc)+(_0x1a1556 instanceof Error?_0x1a1556[_0x423e28(0x57a)]:JSON['stringify'](_0x1a1556,null,0x2))),_0x2a143a=_0x423e28(0x6be);}this[_0x423e28(0x757)][_0x423e28(0x79d)]('unavailable'),$s[_0x423e28(0x66b)][_0x423e28(0x839)](_0x387e70[_0x423e28(0x291)])&&(_0x387e70['messageTimestamp']=_0x387e70[_0x423e28(0x291)]?.[_0x423e28(0x7b5)]()),_0x387e70[_0x423e28(0x291)]&&_0x387e70['messageTimestamp'][_0x423e28(0x6d8)]()[_0x423e28(0x2af)]<0xd&&(_0x387e70[_0x423e28(0x291)]=_0x387e70['messageTimestamp']*0x3e8);let _0x7493e9=_0x387e70['message'],_0x588a97=(0x0,f['normalizeMessageContent'])(_0x7493e9),_0x44b8b6=(0x0,f[_0x423e28(0x61d)])(_0x588a97),{messageContent:_0x4b7f6c,message_normalized:_0x21914a}=this[_0x423e28(0x7c2)](_0x588a97,_0x44b8b6,_0x2a143a);_0x44b8b6===_0x423e28(0x82e)&&_0x4b7f6c?.[_0x423e28(0x808)]&&(_0x44b8b6='editedMessage');let _0xf1c0ac,_0x3bfc4d=_0x387e70[_0x423e28(0x42e)][_0x423e28(0x2a0)][_0x423e28(0x58d)](_0x423e28(0x858));if(_0x387e70[_0x423e28(0x42e)][_0x423e28(0x7cf)])_0xf1c0ac=this[_0x423e28(0x6bd)][_0x423e28(0x498)];else{let _0x2094e7=_0x3bfc4d?_0x387e70['key'][_0x423e28(0x527)]:_0x387e70[_0x423e28(0x42e)][_0x423e28(0x2a0)];_0xf1c0ac=(await this[_0x423e28(0x52d)](_0x2094e7,_0x387e70[_0x423e28(0x507)],!0x1))[_0x423e28(0x701)][_0x423e28(0x5c6)];}let _0x4ac1f3={'_id':_0x387e70[_0x423e28(0x42e)]['id'],'key':_0x387e70['key'],'isGroup':_0x3bfc4d,'profilePictureUrl':_0xf1c0ac,'pushName':_0x387e70['pushName'],'message':_0x588a97,'messageType':_0x44b8b6,'message_normalized':{'key':_0x387e70['key'],'pushName':_0x387e70[_0x423e28(0x507)],'messageTimestamp':_0x387e70[_0x423e28(0x291)],'source':(0x0,f[_0x423e28(0x835)])(_0x387e70[_0x423e28(0x42e)]['id']),..._0x21914a},'messageTimestamp':_0x387e70[_0x423e28(0x291)],'owner':this['instance'][_0x423e28(0x6f5)],'source':(0x0,f['getDevice'])(_0x387e70[_0x423e28(0x42e)]['id']),'expiration':_0x4b7f6c?.[_0x423e28(0x1f1)]?.[_0x423e28(0x3d6)]||0x0};_0x4b7f6c||(console[_0x423e28(0x752)](_0x423e28(0x3b7)),this['logger'][_0x423e28(0x752)](_0x4ac1f3)),this[_0x423e28(0x3ff)]['log'](this[_0x423e28(0x3b5)]+'\x20('+this[_0x423e28(0x6bd)][_0x423e28(0x6f5)]+_0x423e28(0x6bc)+(_0x4ac1f3[_0x423e28(0x42e)]?.[_0x423e28(0x7cf)]?_0x423e28(0x862):'recebido\x20de')+'\x20['+_0x4ac1f3[_0x423e28(0x42e)]?.['remoteJid'][_0x423e28(0x8b0)](_0x423e28(0x704),'')+_0x423e28(0x74f)+_0x4ac1f3['messageType']+')'),_0x4ac1f3[_0x423e28(0x5e6)]?.['text']&&this['logger'][_0x423e28(0x430)](_0x473e57+':\x20'+_0x4ac1f3[_0x423e28(0x5e6)]?.[_0x423e28(0x68c)]),await this[_0x423e28(0x82b)][_0x423e28(0x57a)][_0x423e28(0x43b)]([_0x4ac1f3],this[_0x423e28(0x6bd)]['wuid']),this[_0x423e28(0x477)](_0x423e28(0x2a8),_0x4ac1f3),U(this['instanceName'],_0x423e28(0x4fa),{'message':_0x4ac1f3}),_0x387e70[_0x423e28(0x42e)][_0x423e28(0x2a0)]!==_0x423e28(0x2cd)&&await this[_0x423e28(0x4dc)](_0x1372ef,_0x4ac1f3,'MESSAGES_UPSERT');},'messages.update':async(_0x815497,_0x480053)=>{const _0x37b9ea=_0x367e2b;let _0x61484e={0x0:_0x37b9ea(0x4ef),0x1:'PENDING',0x2:_0x37b9ea(0x61c),0x3:_0x37b9ea(0x716),0x4:_0x37b9ea(0x5db),0x5:'PLAYED'};for await(let {key:_0x324231,update:_0x2aaf66}of _0x815497){if(this[_0x37b9ea(0x509)]?.[_0x37b9ea(0x531)]&&_0x324231[_0x37b9ea(0x2a0)][_0x37b9ea(0x52f)](_0x37b9ea(0x858))){this['logger'][_0x37b9ea(0x1fa)](this[_0x37b9ea(0x3b5)]+'\x20('+this['instance'][_0x37b9ea(0x6f5)]+_0x37b9ea(0x3e7));return;}if(_0x324231[_0x37b9ea(0x2a0)]!=='status@broadcast'){let _0x35cb62=Date[_0x37b9ea(0x692)](),_0x5da0fe;_0x2aaf66[_0x37b9ea(0x57a)]===null&&_0x2aaf66[_0x37b9ea(0x346)]===void 0x0?_0x5da0fe=_0x37b9ea(0x5b8):_0x5da0fe=_0x61484e[_0x2aaf66[_0x37b9ea(0x346)]];let _0x487232=_0x324231[_0x37b9ea(0x2a0)][_0x37b9ea(0x8b0)](/:\d{1,2}@/g,'@'),_0x5204fd={..._0x324231,'remoteJid':_0x487232,'status':_0x5da0fe,'datetime':_0x35cb62,'owner':this[_0x37b9ea(0x6bd)][_0x37b9ea(0x6f5)]};this['sendDataWebhook'](_0x37b9ea(0x2dd),_0x5204fd),await this[_0x37b9ea(0x30b)](_0x324231,_0x5204fd);}}},'labels.association':async({type:_0x31b6c1,association:_0x431fd0})=>{const _0x339662=_0x367e2b;if(_0x431fd0[_0x339662(0x31b)]===_0x339662(0x5ae)){let _0x345b3a,_0x36e144=0x0;for(;!_0x345b3a&&_0x36e144<this[_0x339662(0x88c)];)_0x345b3a=await this[_0x339662(0x82b)][_0x339662(0x504)][_0x339662(0x720)]({'where':{'_id':_0x431fd0[_0x339662(0x87a)]}},this['instance']['wuid']),_0x345b3a||(_0x36e144++,this['logger'][_0x339662(0x267)](this['instanceName']+'\x20('+this[_0x339662(0x6bd)][_0x339662(0x6f5)]+_0x339662(0x7be)+_0x431fd0[_0x339662(0x87a)]+_0x339662(0x22c)+this['delayChatLabel_RETRY_DELAY_MS']+_0x339662(0x5a3)+_0x36e144+'/'+this[_0x339662(0x88c)]+')'),await this[_0x339662(0x2fa)](this[_0x339662(0x4db)]));if(!_0x345b3a){console[_0x339662(0x752)](_0x339662(0x7bf)+_0x431fd0[_0x339662(0x87a)]+_0x339662(0x7fe)+this['delayChatLabel_MAX_RETRIES']+_0x339662(0x276));return;}switch(_0x31b6c1){case _0x339662(0x53f):console[_0x339662(0x430)](_0x431fd0),await this[_0x339662(0x82b)][_0x339662(0x504)][_0x339662(0x540)]({'where':{'_id':_0x431fd0[_0x339662(0x87a)]}},{'leadInfo.etiquetas':_0x431fd0['labelId']},this[_0x339662(0x6bd)][_0x339662(0x6f5)],void 0x0,'$addToSet');break;case _0x339662(0x51a):console['log'](_0x431fd0),await this[_0x339662(0x82b)]['chat'][_0x339662(0x540)]({'where':{'_id':_0x431fd0[_0x339662(0x87a)]}},{'leadInfo.etiquetas':_0x431fd0[_0x339662(0x494)]},this[_0x339662(0x6bd)]['wuid'],void 0x0,_0x339662(0x89a));break;default:console[_0x339662(0x752)](_0x339662(0x79b)+_0x31b6c1+']');}}},'labels.edit':async _0x7efcfb=>{const _0x159b84=_0x367e2b;if(!_0x7efcfb||!_0x7efcfb['id']){console[_0x159b84(0x752)](_0x159b84(0x46f));return;}if(!_0x7efcfb[_0x159b84(0x515)]){let _0x460995=['#ff9484','#64c4ff',_0x159b84(0x238),'#dfaef0','#9ab6c1',_0x159b84(0x5e2),'#fe9dfe',_0x159b84(0x8a0),'#6f7bcf',_0x159b84(0x630),_0x159b84(0x4c9),_0x159b84(0x37d),_0x159b84(0x832),_0x159b84(0x296),_0x159b84(0x307),_0x159b84(0x558),'#ffae04',_0x159b84(0x2f4),'#9ba6ff',_0x159b84(0x88a)],_0xa2f7fd;typeof _0x7efcfb[_0x159b84(0x22b)]==_0x159b84(0x61e)&&_0x7efcfb['color']>=0x0&&_0x7efcfb[_0x159b84(0x22b)]<_0x460995[_0x159b84(0x2af)]?_0xa2f7fd=_0x460995[_0x7efcfb[_0x159b84(0x22b)]]:(console[_0x159b84(0x752)](_0x159b84(0x6f1),_0x7efcfb['color']),_0xa2f7fd=_0x159b84(0x49a));let _0x476f32={'_id':_0x7efcfb['id'],'colorHex':_0xa2f7fd,'color':_0x7efcfb?.['color'],'name':_0x7efcfb?.[_0x159b84(0x754)],'owner':this['instance'][_0x159b84(0x6f5)]};await this[_0x159b84(0x82b)]['label'][_0x159b84(0x540)]({'where':{'_id':_0x7efcfb['id']}},_0x476f32,this[_0x159b84(0x6bd)]['wuid']),this[_0x159b84(0x3ff)][_0x159b84(0x267)](this[_0x159b84(0x3b5)]+'\x20('+this[_0x159b84(0x6bd)]['wuid']+_0x159b84(0x262)+_0x7efcfb);}_0x7efcfb[_0x159b84(0x515)]&&(await this[_0x159b84(0x82b)][_0x159b84(0x521)][_0x159b84(0x56f)]({'where':{'_id':_0x7efcfb['id']}},this[_0x159b84(0x6bd)]['wuid']),this[_0x159b84(0x3ff)][_0x159b84(0x267)](_0x159b84(0x850)+_0x7efcfb['id']));}},this[_0x367e2b(0x2c3)]={'groups.upsert':async _0x2a3c8a=>{const _0x583b1f=_0x367e2b;this[_0x583b1f(0x509)]?.[_0x583b1f(0x531)]||this[_0x583b1f(0x477)](_0x583b1f(0x560),_0x2a3c8a);for(let _0x48899d of _0x2a3c8a)await this[_0x583b1f(0x25f)](_0x48899d);},'groups.update':async _0x35786d=>{const _0xc54346=_0x367e2b;this[_0xc54346(0x509)]?.[_0xc54346(0x531)]||this['sendDataWebhook'](_0xc54346(0x32c),_0x35786d);for(let _0x5f57a5 of _0x35786d)await this['updateGroupWebhook'](_0x5f57a5);},'group-participants.update':async _0x389550=>{const _0x14f718=_0x367e2b;this[_0x14f718(0x509)]?.[_0x14f718(0x531)]||this[_0x14f718(0x477)](_0x14f718(0x368),_0x389550),await this[_0x14f718(0x6f2)](_0x389550);}},this[_0x367e2b(0x88c)]=0x5,this[_0x367e2b(0x4db)]=0x1388,this[_0x367e2b(0x741)]=async _0x44a89f=>{const _0x4596bf=_0x367e2b;if(_0x44a89f[_0x4596bf(0x57a)]?.[_0x4596bf(0x491)]){let _0xd66214=await this[_0x4596bf(0x38a)](_0x44a89f[_0x4596bf(0x57a)]['pollUpdateMessage'][_0x4596bf(0x6f9)],!0x0);if(_0xd66214){let _0x302af6=_0xd66214[_0x4596bf(0x42e)][_0x4596bf(0x7cf)]?this[_0x4596bf(0x6bd)]['wuid']+'@s.whatsapp.net':_0xd66214['key']['participant']||_0xd66214[_0x4596bf(0x42e)][_0x4596bf(0x2a0)],_0x363083=_0xd66214[_0x4596bf(0x42e)]['id'],_0x45c40d=_0xd66214[_0x4596bf(0x57a)],_0x3f35d5=Buffer[_0x4596bf(0x4ed)](_0x45c40d[_0x4596bf(0x74b)][_0x4596bf(0x40e)][_0x4596bf(0x6d8)]('hex'),'hex'),_0x189a23=(0x0,f[_0x4596bf(0x4f1)])(_0x44a89f[_0x4596bf(0x57a)][_0x4596bf(0x491)][_0x4596bf(0x27c)],{'pollCreatorJid':_0x302af6,'pollMsgId':_0x363083,'pollEncKey':_0x3f35d5,'voterJid':_0x44a89f[_0x4596bf(0x42e)][_0x4596bf(0x7cf)]?this[_0x4596bf(0x6bd)][_0x4596bf(0x6f5)]+_0x4596bf(0x704):_0x44a89f[_0x4596bf(0x42e)]['remoteJid'][_0x4596bf(0x58d)](_0x4596bf(0x5b1))?_0x44a89f[_0x4596bf(0x42e)][_0x4596bf(0x527)]:_0x44a89f['key'][_0x4596bf(0x2a0)]}),_0x5112ff=[],_0x1853ff=_0x189a23[_0x4596bf(0x3d3)][_0x4596bf(0x2b0)](_0x158294=>Buffer[_0x4596bf(0x4ed)](_0x158294)[_0x4596bf(0x6d8)](_0x4596bf(0x39c)));for(let {optionName:_0x442024}of _0x45c40d[_0x4596bf(0x1da)]?.[_0x4596bf(0x3e3)]||_0x45c40d['pollCreationMessageV3']?.[_0x4596bf(0x3e3)]||_0x45c40d[_0x4596bf(0x575)]?.['options'])_0x1853ff[_0x4596bf(0x447)]((0x0,f['sha256'])(Buffer[_0x4596bf(0x4ed)](_0x442024))[_0x4596bf(0x6d8)](_0x4596bf(0x39c)))>-0x1&&_0x5112ff[_0x4596bf(0x3d5)](_0x442024);return _0x5112ff;}}return null;},this[_0x367e2b(0x7c2)]=(_0xee37b3,_0x25f33e,_0x2b578c)=>{const _0xa17d9e=_0x367e2b;try{let _0x2f6bd7=_0xee37b3?(0x0,f[_0xa17d9e(0x4f8)])(_0xee37b3)[_0x25f33e]:void 0x0,_0x3c3a80={},_0x20e3d0=null,_0x1ea7ac=null,_0x54f28d=null;_0x25f33e===_0xa17d9e(0x82e)&&_0x2f6bd7?.[_0xa17d9e(0x808)]&&(_0x25f33e=(0x0,f[_0xa17d9e(0x61d)])(_0x2f6bd7[_0xa17d9e(0x808)]),_0x20e3d0=_0xee37b3['protocolMessage'][_0xa17d9e(0x42e)]['id'],_0x2f6bd7=_0xee37b3['protocolMessage'][_0xa17d9e(0x808)][_0x25f33e]),_0xee37b3[_0x25f33e]?.['contextInfo']?.['stanzaId']&&_0xee37b3[_0x25f33e]?.[_0xa17d9e(0x1f1)]?.[_0xa17d9e(0x6b3)]&&(_0x1ea7ac=_0xee37b3[_0x25f33e][_0xa17d9e(0x1f1)][_0xa17d9e(0x365)]),_0xee37b3[_0xa17d9e(0x490)]&&(_0x54f28d=_0xee37b3[_0xa17d9e(0x490)][_0xa17d9e(0x42e)]['id']);let _0x415e82;if(_0x2f6bd7&&typeof _0x2f6bd7==_0xa17d9e(0x2bd)&&_0xa17d9e(0x6f9)in _0x2f6bd7&&({pollCreationMessageKey:_0x415e82}=_0x2f6bd7),_0x25f33e==='pollCreationMessage'||_0x25f33e===_0xa17d9e(0x575)||_0x25f33e===_0xa17d9e(0x8ab)){let _0x217533=_0x2f6bd7[_0xa17d9e(0x3e3)][_0xa17d9e(0x2b0)](_0x231d73=>_0x231d73[_0xa17d9e(0x874)])[_0xa17d9e(0x1e5)]('|');_0x3c3a80[_0xa17d9e(0x3e0)]=_0x217533;}let _0x3383a3='';if(_0x2f6bd7&&(_0x3383a3+=_0x2f6bd7[_0xa17d9e(0x754)]?_0x2f6bd7[_0xa17d9e(0x754)]:'',_0x3383a3+=_0x2f6bd7[_0xa17d9e(0x32a)]?'\x20'+_0x2f6bd7['caption']:'',_0x3383a3+=_0x2f6bd7[_0xa17d9e(0x274)]?'\x20'+_0x2f6bd7[_0xa17d9e(0x274)]:'',_0x3383a3+=_0x2f6bd7['displayName']?'\x20'+_0x2f6bd7[_0xa17d9e(0x78f)]:''),_0x25f33e==='listMessage'){_0x3383a3=(_0x2f6bd7[_0xa17d9e(0x895)]||'')+'\x0a'+(_0x2f6bd7['description']||'')+'\x0a'+(_0x2f6bd7['footerText']||'');let _0x5bdf2d=this[_0xa17d9e(0x7ca)](_0x2f6bd7[_0xa17d9e(0x873)]);_0x3c3a80[_0xa17d9e(0x3e0)]=_0x5bdf2d;}if(_0x25f33e===_0xa17d9e(0x5e5)&&(_0x2b578c=_0x2f6bd7[_0xa17d9e(0x895)]),_0x2f6bd7&&_0x2f6bd7[_0xa17d9e(0x79c)]){let _0x14626f=this[_0xa17d9e(0x56c)](JSON[_0xa17d9e(0x319)](_0x2f6bd7[_0xa17d9e(0x79c)],null,0x2));_0x3383a3=_0x3383a3+'\x0a'+_0x14626f;}if(_0x2f6bd7){let {sections:_0x5489d4,listType:_0x27f23f,displayName:_0x13a2f2,vcard:_0x338b8b,contactVcard:_0x4abe6d,name:_0x14d21d,caption:_0x42fda4,conversation:_0x516998,pollCreationMessageKey:_0x419293,footerText:_0x1bcb87,contentText:_0x2cae51,pageCount:_0x155458,headerType:_0x4372dc,isAvatar:_0x2326c3,isAnimated:_0x190daa,fallbackLc:_0xfa0d0d,fallbackLg:_0x1f4375,namespace:_0x12de6d,elementName:_0x38144a,localizableParams:_0x4fe63f,viewOnce:_0x48840b,height:_0x4898ac,width:_0xb6182a,key:_0x295f25,firstScanLength:_0xc8e8db,firstScanSidecar:_0x2ed870,gifPlayback:_0x37acbc,gifAttribution:_0x276264,midQualityFileSha256:_0x79e350,scansSidecar:_0x4dcc5c,streamingSidecar:_0x1186c1,thumbnailHeight:_0x197c50,thumbnailWidth:_0x3fa734,thumbnailEncSha256:_0x53a1b9,thumbnailDirectPath:_0x3d0d9e,canonicalUrl:_0x4f327d,matchedText:_0x3f3572,previewType:_0x23b94d,thumbnailSha256:_0x156c1f,deviceListMetadataVersion:_0x3ef177,inviteLinkGroupTypeV2:_0xd9f7e7,interactiveAnnotations:_0x33e213,scanLengths:_0x1714b6,jpegThumbnail:_0x1c5e68,url:_0x1d04e3,mediaKeyTimestamp:_0xde2ccc,waveform:_0x193eda,stickerSentTs:_0x4256a9,firstFrameLength:_0x2845ab,fileEncSha256:_0xd6b0b1,contextInfo:_0x39ca19,firstFrameSidecar:_0x45bce4,directPath:_0x368718,fileSha256:_0x43e474,mediaKey:_0x38348f,senderTimestampMs:_0x4c6554,..._0x33b196}=_0x2f6bd7;(_0x25f33e===_0xa17d9e(0x585)||_0x25f33e==='listResponseMessage')&&(delete _0x33b196['title'],delete _0x33b196[_0xa17d9e(0x743)]),typeof _0x2f6bd7=='string'?_0x3c3a80={'text':_0x2f6bd7,'type':_0x25f33e||'conversation',..._0x20e3d0&&{'edited':_0x20e3d0},..._0x1ea7ac&&{'quoted':_0x1ea7ac},..._0x54f28d&&{'reaction':_0x54f28d}}:_0x3c3a80={'text':_0x3383a3,..._0x33b196,..._0x25f33e===_0xa17d9e(0x491)?{'poll_id':_0x2f6bd7[_0xa17d9e(0x6f9)]['id'],'quoted':_0x2f6bd7[_0xa17d9e(0x6f9)]['id'],'vote':_0x2b578c}:{},..._0x25f33e===_0xa17d9e(0x5e5)?{'vote':_0x2b578c}:{},'type':_0x25f33e,..._0x20e3d0&&{'edited':_0x20e3d0},..._0x1ea7ac&&{'quoted':_0x1ea7ac},..._0x54f28d&&{'reaction':_0x54f28d},...(_0x25f33e===_0xa17d9e(0x1da)||_0x25f33e===_0xa17d9e(0x575)||_0x25f33e==='pollCreationMessageV3'||_0x25f33e==='listMessage')&&{'convertedOptions':_0x3c3a80['convertedOptions']}};}return{'messageType':_0x25f33e,'messageContent':_0x2f6bd7,'message_normalized':_0x3c3a80};}catch(_0x25e0cc){return console['error'](_0xa17d9e(0x500),_0x25e0cc),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x367e2b(0x45c)](),this[_0x367e2b(0x6bd)]['qrcode']={'count':0x0},this[_0x367e2b(0x6bd)][_0x367e2b(0x5f4)]={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0x55f44d(0x3b5)](_0x423bd5){const _0x3d977b=a0_0x55f44d;if(!_0x423bd5){this[_0x3d977b(0x6bd)]['name']=(0x0,Co['v4'])();return;}this['instance']['name']=_0x423bd5,this[_0x3d977b(0x477)](_0x3d977b(0x614),{'instance':this[_0x3d977b(0x6bd)][_0x3d977b(0x754)],'status':'created'});}get['instanceName'](){const _0x522242=a0_0x55f44d;return this[_0x522242(0x6bd)][_0x522242(0x754)];}get[a0_0x55f44d(0x6f5)](){const _0x2f16b6=a0_0x55f44d;return this['instance'][_0x2f16b6(0x6f5)];}async['getProfileName'](){const _0x2d33d1=a0_0x55f44d;let _0x4eb017=this[_0x2d33d1(0x757)]['user']?.['name']??this[_0x2d33d1(0x757)][_0x2d33d1(0x733)]?.[_0x2d33d1(0x3bb)];if(!_0x4eb017){if(this['configService']['get']('DATABASE')['ENABLED']){let _0x1f12ac=await O[_0x2d33d1(0x4b6)]()['db'](this[_0x2d33d1(0x473)]['get']('DATABASE')[_0x2d33d1(0x1dd)][_0x2d33d1(0x639)]+'-instances')[_0x2d33d1(0x772)](this[_0x2d33d1(0x3b5)])[_0x2d33d1(0x720)]({'_id':_0x2d33d1(0x6fe)});if(_0x1f12ac){let _0x266343=JSON[_0x2d33d1(0x52e)](JSON[_0x2d33d1(0x319)](_0x1f12ac),f[_0x2d33d1(0x381)]['reviver']);_0x4eb017=_0x266343['me']?.[_0x2d33d1(0x754)]||_0x266343['me']?.['verifiedName'];}}else{if((0x0,Te[_0x2d33d1(0x570)])((0x0,F[_0x2d33d1(0x1e5)])(me,this[_0x2d33d1(0x3b5)],_0x2d33d1(0x6b6)))){let _0x2a8b5b=JSON[_0x2d33d1(0x52e)]((0x0,Te['readFileSync'])((0x0,F[_0x2d33d1(0x1e5)])(me,this[_0x2d33d1(0x3b5)],_0x2d33d1(0x6b6)),{'encoding':'utf-8'}));_0x4eb017=_0x2a8b5b['me']?.[_0x2d33d1(0x754)]||_0x2a8b5b['me']?.[_0x2d33d1(0x3bb)];}}}return _0x4eb017;}get[a0_0x55f44d(0x498)](){const _0x581c98=a0_0x55f44d;return this[_0x581c98(0x6bd)][_0x581c98(0x498)];}get[a0_0x55f44d(0x7e7)](){const _0x523d4a=a0_0x55f44d;return this[_0x523d4a(0x6bd)][_0x523d4a(0x497)]?.[_0x523d4a(0x572)]?{'pairingCode':this[_0x523d4a(0x6bd)][_0x523d4a(0x497)]?.['pairingCode']}:{'code':this[_0x523d4a(0x6bd)]['qrcode']?.[_0x523d4a(0x33d)],'base64':this[_0x523d4a(0x6bd)][_0x523d4a(0x497)]?.[_0x523d4a(0x385)]};}async[a0_0x55f44d(0x3f7)](){const _0x1844a3=a0_0x55f44d;let _0x40c444=await this['repository']['webhook'][_0x1844a3(0x408)](this[_0x1844a3(0x3b5)]);this['localWebhook'][_0x1844a3(0x68f)]=_0x40c444?.['url'],this[_0x1844a3(0x509)][_0x1844a3(0x253)]=_0x40c444?.[_0x1844a3(0x253)],this['localWebhook'][_0x1844a3(0x607)]=_0x40c444?.[_0x1844a3(0x607)],this['localWebhook'][_0x1844a3(0x598)]=_0x40c444?.[_0x1844a3(0x598)],this[_0x1844a3(0x509)]['QRCODE_UPDATED']=_0x40c444?.[_0x1844a3(0x487)],this[_0x1844a3(0x509)][_0x1844a3(0x3c2)]=_0x40c444?.[_0x1844a3(0x3c2)],this[_0x1844a3(0x509)][_0x1844a3(0x660)]=_0x40c444?.[_0x1844a3(0x660)],this[_0x1844a3(0x509)][_0x1844a3(0x624)]=_0x40c444?.[_0x1844a3(0x624)],this[_0x1844a3(0x509)][_0x1844a3(0x70c)]=_0x40c444?.[_0x1844a3(0x70c)],this[_0x1844a3(0x509)]['GROUPS_UPDATE']=_0x40c444?.['GROUPS_UPDATE'],this['localWebhook'][_0x1844a3(0x826)]=_0x40c444?.[_0x1844a3(0x826)],this[_0x1844a3(0x509)]['CHATS_SET']=_0x40c444?.[_0x1844a3(0x767)],this[_0x1844a3(0x509)][_0x1844a3(0x38e)]=_0x40c444?.[_0x1844a3(0x38e)],this['localWebhook'][_0x1844a3(0x40b)]=_0x40c444?.[_0x1844a3(0x40b)],this['localWebhook'][_0x1844a3(0x38c)]=_0x40c444?.[_0x1844a3(0x38c)],this[_0x1844a3(0x509)][_0x1844a3(0x62d)]=_0x40c444?.[_0x1844a3(0x62d)],this[_0x1844a3(0x509)][_0x1844a3(0x418)]=_0x40c444?.['CONTACTS_UPSERT'],this[_0x1844a3(0x509)][_0x1844a3(0x605)]=_0x40c444?.['CONTACTS_UPDATE'],this['localWebhook'][_0x1844a3(0x89d)]=_0x40c444?.[_0x1844a3(0x89d)],this['localWebhook'][_0x1844a3(0x71d)]=_0x40c444?.[_0x1844a3(0x71d)],this[_0x1844a3(0x509)][_0x1844a3(0x2a7)]=_0x40c444?.[_0x1844a3(0x2a7)],this['localWebhook'][_0x1844a3(0x531)]=_0x40c444?.[_0x1844a3(0x531)];}async['setWebhook'](_0x4c6471){const _0x2a5336=a0_0x55f44d;let _0x4ae513=['_id',_0x2a5336(0x68f),_0x2a5336(0x253),_0x2a5336(0x607),_0x2a5336(0x598),'QRCODE_UPDATED','MESSAGES_UPDATE',_0x2a5336(0x660),_0x2a5336(0x3c2),_0x2a5336(0x70c),_0x2a5336(0x578),_0x2a5336(0x826),_0x2a5336(0x767),'CHATS_UPSERT',_0x2a5336(0x40b),_0x2a5336(0x38c),'CONTACTS_SET','CONTACTS_UPSERT',_0x2a5336(0x605),_0x2a5336(0x89d),_0x2a5336(0x71d),_0x2a5336(0x2a7),_0x2a5336(0x531)],_0x5e56c6={};return _0x4ae513[_0x2a5336(0x27f)](_0x16672e=>{_0x4c6471[_0x16672e]!==void 0x0&&(_0x5e56c6[_0x16672e]=_0x4c6471[_0x16672e]);}),_0x5e56c6[_0x2a5336(0x68f)]&&(_0x5e56c6[_0x2a5336(0x68f)]=_0x5e56c6[_0x2a5336(0x68f)][_0x2a5336(0x855)]()),await this[_0x2a5336(0x82b)][_0x2a5336(0x745)]['create'](_0x5e56c6,this[_0x2a5336(0x3b5)]),Object['assign'](this['localWebhook'],_0x5e56c6),await this['repository'][_0x2a5336(0x745)][_0x2a5336(0x408)](this['instanceName']);}async[a0_0x55f44d(0x82f)](){const _0x1d1434=a0_0x55f44d;return await this['repository'][_0x1d1434(0x745)][_0x1d1434(0x408)](this['instanceName']);}async[a0_0x55f44d(0x477)](_0x4c8a54,_0x224bca){const _0xa7e8b7=a0_0x55f44d;let _0x36d1db=_0x4c8a54[_0xa7e8b7(0x8b0)](/[\.-]/gm,'_')[_0xa7e8b7(0x8b1)](),_0x5de758=this[_0xa7e8b7(0x509)][_0xa7e8b7(0x253)]&&(0x0,P[_0xa7e8b7(0x7d6)])(this[_0xa7e8b7(0x509)]['url'])?this[_0xa7e8b7(0x509)][_0xa7e8b7(0x68f)]+(this[_0xa7e8b7(0x509)][_0xa7e8b7(0x607)]?this[_0xa7e8b7(0x45b)][_0x4c8a54]:''):null,_0x52c947=this['localWebhook'][_0x36d1db],_0x3b84cb=ue&&ue[_0xa7e8b7(0x253)]&&(0x0,P['isURL'])(ue[_0xa7e8b7(0x68f)])?ue[_0xa7e8b7(0x68f)]+(ue[_0xa7e8b7(0x607)]?this[_0xa7e8b7(0x45b)][_0x4c8a54]:''):null,_0xd00a08=ue?ue[_0x36d1db]:null;if(_0x52c947&&_0x5de758)try{await K[_0xa7e8b7(0x66b)]['create']({'baseURL':_0x5de758})[_0xa7e8b7(0x568)]('',{'event':_0x4c8a54,'instance':this[_0xa7e8b7(0x6bd)][_0xa7e8b7(0x754)],'apikey':this[_0xa7e8b7(0x6bd)][_0xa7e8b7(0x2a1)],'data':_0x224bca}),this[_0xa7e8b7(0x3ff)]['log'](this[_0xa7e8b7(0x3b5)]+'\x20('+this[_0xa7e8b7(0x6bd)][_0xa7e8b7(0x6f5)]+_0xa7e8b7(0x42a)+_0x4c8a54+':\x20'+_0x5de758);}catch{this[_0xa7e8b7(0x3ff)][_0xa7e8b7(0x752)](this[_0xa7e8b7(0x3b5)]+'\x20('+this[_0xa7e8b7(0x6bd)][_0xa7e8b7(0x6f5)]+_0xa7e8b7(0x4e6)+_0x4c8a54+':\x20'+_0x5de758);}if(_0xd00a08&&_0x3b84cb)try{await K[_0xa7e8b7(0x66b)]['create']({'baseURL':_0x3b84cb})[_0xa7e8b7(0x568)]('',{'event':_0x4c8a54,'instance':this[_0xa7e8b7(0x6bd)][_0xa7e8b7(0x754)],'apikey':this['instance'][_0xa7e8b7(0x2a1)],'data':_0x224bca}),this[_0xa7e8b7(0x3ff)]['log'](this[_0xa7e8b7(0x3b5)]+'\x20('+this[_0xa7e8b7(0x6bd)][_0xa7e8b7(0x6f5)]+'):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x4c8a54+':\x20'+_0x3b84cb);}catch{this[_0xa7e8b7(0x3ff)][_0xa7e8b7(0x752)](this[_0xa7e8b7(0x3b5)]+'\x20('+this[_0xa7e8b7(0x6bd)]['wuid']+_0xa7e8b7(0x1eb)+_0x4c8a54+':\x20'+_0x3b84cb);}}async[a0_0x55f44d(0x821)]({qr:_0x3abcb1,connection:_0x4eabb5,lastDisconnect:_0x4083c7}){const _0xea1cb2=a0_0x55f44d;if(_0x3abcb1){if(this[_0xea1cb2(0x6bd)][_0xea1cb2(0x497)][_0xea1cb2(0x610)]===vr)return this[_0xea1cb2(0x477)]('qrcode.updated',{'message':_0xea1cb2(0x2ff),'statusCode':f[_0xea1cb2(0x6d4)][_0xea1cb2(0x77b)]}),this[_0xea1cb2(0x26b)]={'state':_0xea1cb2(0x53c),'statusReason':f[_0xea1cb2(0x6d4)]['connectionClosed']},this[_0xea1cb2(0x477)]('connection.update',{'instance':this[_0xea1cb2(0x6bd)][_0xea1cb2(0x754)],...this[_0xea1cb2(0x26b)]}),this[_0xea1cb2(0x477)](_0xea1cb2(0x614),{'instance':this[_0xea1cb2(0x6bd)]['name'],'status':_0xea1cb2(0x69a)}),this[_0xea1cb2(0x82b)][_0xea1cb2(0x4ac)][_0xea1cb2(0x23b)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0xea1cb2(0x692)]()},this[_0xea1cb2(0x6bd)][_0xea1cb2(0x754)]),this['endSession']=!0x0,this['eventEmitter'][_0xea1cb2(0x58b)]('no.connection',this[_0xea1cb2(0x6bd)][_0xea1cb2(0x754)]);this['instance']['qrcode'][_0xea1cb2(0x610)]++;let _0x5785c8={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0xea1cb2(0x564),'dark':_0xea1cb2(0x49a)}};Eo[_0xea1cb2(0x66b)][_0xea1cb2(0x87e)](_0x3abcb1,_0x5785c8,(_0x35c54c,_0x183c7c)=>{const _0x24fd6b=_0xea1cb2;if(_0x35c54c){this['logger'][_0x24fd6b(0x752)](this[_0x24fd6b(0x3b5)]+'\x20('+this[_0x24fd6b(0x6bd)][_0x24fd6b(0x6f5)]+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x35c54c instanceof Error?_0x35c54c[_0x24fd6b(0x57a)]:JSON[_0x24fd6b(0x319)](_0x35c54c,null,0x2)));return;}this[_0x24fd6b(0x6bd)]['qrcode'][_0x24fd6b(0x385)]=_0x183c7c,this[_0x24fd6b(0x6bd)][_0x24fd6b(0x497)][_0x24fd6b(0x33d)]=_0x3abcb1,!this[_0x24fd6b(0x7d1)]&&this['sendDataWebhook'](_0x24fd6b(0x687),{'qrcode':{'instance':this[_0x24fd6b(0x6bd)][_0x24fd6b(0x754)],'pairingCode':this[_0x24fd6b(0x6bd)][_0x24fd6b(0x497)]['pairingCode'],'code':_0x3abcb1,'base64':_0x183c7c}});}),this[_0xea1cb2(0x7d1)]?this[_0xea1cb2(0x6bd)][_0xea1cb2(0x497)][_0xea1cb2(0x572)]||(await(0x0,f['delay'])(0x7d0),this['instance'][_0xea1cb2(0x497)][_0xea1cb2(0x572)]=await this['client']['requestPairingCode'](this['phoneNumber'])):this[_0xea1cb2(0x6bd)][_0xea1cb2(0x497)][_0xea1cb2(0x572)]=null,vo['default'][_0xea1cb2(0x845)](_0x3abcb1,{'small':!0x0},_0x36c5a9=>this[_0xea1cb2(0x3ff)][_0xea1cb2(0x430)]('\x0a{\x20instance:\x20'+this['instance'][_0xea1cb2(0x754)]+_0xea1cb2(0x31e)+this[_0xea1cb2(0x6bd)][_0xea1cb2(0x497)][_0xea1cb2(0x610)]+_0xea1cb2(0x76a)+this['instance'][_0xea1cb2(0x497)]['pairingCode']+_0xea1cb2(0x71b)+_0x36c5a9));}if(_0x4eabb5&&(this[_0xea1cb2(0x26b)]={'state':_0x4eabb5,'statusReason':_0x4083c7?.[_0xea1cb2(0x752)]?.[_0xea1cb2(0x4c5)]?.['statusCode']??0xc8},this['sendDataWebhook'](_0xea1cb2(0x4c2),{'instance':this['instance'][_0xea1cb2(0x754)],...this[_0xea1cb2(0x26b)]})),_0x4eabb5===_0xea1cb2(0x4ae)){if(this['reconnectAttempts']++,this[_0xea1cb2(0x621)][_0xea1cb2(0x3d5)](Date['now']()),this[_0xea1cb2(0x621)]=this[_0xea1cb2(0x621)][_0xea1cb2(0x804)](_0x58b542=>Date[_0xea1cb2(0x692)]()-_0x58b542<this['RECONNECT_TIME_FRAME']),_0x4083c7[_0xea1cb2(0x752)]?.[_0xea1cb2(0x4c5)]?.[_0xea1cb2(0x5e1)]!==f[_0xea1cb2(0x6d4)][_0xea1cb2(0x779)]&&this[_0xea1cb2(0x621)][_0xea1cb2(0x2af)]<=this[_0xea1cb2(0x39d)])console['log'](this[_0xea1cb2(0x3b5)]+'\x20Tentativa\x20de\x20reconexão\x20'+this['reconnectAttempts']+'/'+this[_0xea1cb2(0x39d)]+_0xea1cb2(0x5cd)),console['log'](_0xea1cb2(0x6a2)),await this[_0xea1cb2(0x3a5)]();else{this['sendDataWebhook']('status.instance',{'instance':this['instance'][_0xea1cb2(0x754)],'status':_0xea1cb2(0x69a)}),this[_0xea1cb2(0x6bd)][_0xea1cb2(0x5f4)]['isConnected']=!0x1,this[_0xea1cb2(0x82b)]['webhook'][_0xea1cb2(0x56f)](this[_0xea1cb2(0x3b5)]),this[_0xea1cb2(0x82b)][_0xea1cb2(0x4ac)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0xea1cb2(0x692)]()},this[_0xea1cb2(0x6bd)]['name']);try{this['logger'][_0xea1cb2(0x1fa)](this[_0xea1cb2(0x3b5)]+'\x20('+this[_0xea1cb2(0x6bd)]['wuid']+_0xea1cb2(0x661));let _0x11c57e=await this[_0xea1cb2(0x82b)]['message'][_0xea1cb2(0x7c5)](this['instance'][_0xea1cb2(0x6f5)]);_0x11c57e[_0xea1cb2(0x688)]?this['logger']['verbose'](this[_0xea1cb2(0x3b5)]+'\x20('+this['instance'][_0xea1cb2(0x6f5)]+_0xea1cb2(0x689)):console['error']('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:',_0x11c57e[_0xea1cb2(0x752)]);}catch(_0x19ac96){console[_0xea1cb2(0x752)](_0xea1cb2(0x341),_0x19ac96[_0xea1cb2(0x57a)]);}this[_0xea1cb2(0x6bd)][_0xea1cb2(0x5f4)][_0xea1cb2(0x28f)]!==null&&(this['logger']['verbose'](this[_0xea1cb2(0x3b5)]+'\x20('+this[_0xea1cb2(0x6bd)][_0xea1cb2(0x6f5)]+_0xea1cb2(0x6da)),clearInterval(this[_0xea1cb2(0x6bd)][_0xea1cb2(0x5f4)][_0xea1cb2(0x28f)]),this[_0xea1cb2(0x6bd)][_0xea1cb2(0x5f4)]['delayMessage']=null),this[_0xea1cb2(0x3ff)][_0xea1cb2(0x1fa)](this[_0xea1cb2(0x3b5)]+'\x20('+this['instance']['wuid']+'):\x20Limpando\x20AutomateSystem'),this[_0xea1cb2(0x8a8)]=null,this[_0xea1cb2(0x781)][_0xea1cb2(0x58b)](_0xea1cb2(0x863),this[_0xea1cb2(0x6bd)][_0xea1cb2(0x754)],'inner'),this[_0xea1cb2(0x757)]?.['ws']?.[_0xea1cb2(0x4ae)](),this[_0xea1cb2(0x757)]['end'](new Error(_0xea1cb2(0x1e8)));}}if(_0x4eabb5==='open'){this[_0xea1cb2(0x757)]['ev']['flush'](),this[_0xea1cb2(0x28e)],this[_0xea1cb2(0x6bd)][_0xea1cb2(0x6f5)]=this[_0xea1cb2(0x757)][_0xea1cb2(0x733)]['id'][_0xea1cb2(0x8b0)](/:\d+/,'')[_0xea1cb2(0x8b0)](_0xea1cb2(0x704),''),this[_0xea1cb2(0x6bd)]['profilePictureUrl']=(await this[_0xea1cb2(0x34d)](this[_0xea1cb2(0x6bd)]['wuid']+_0xea1cb2(0x704)))[_0xea1cb2(0x498)],this[_0xea1cb2(0x82b)][_0xea1cb2(0x4ac)][_0xea1cb2(0x23b)]({'online':!0x0,'owner':this['instance'][_0xea1cb2(0x6f5)],'lastDisconnect':null},this[_0xea1cb2(0x6bd)][_0xea1cb2(0x754)]);let _0x37feab=_0xea1cb2(0x6fc)+this[_0xea1cb2(0x6bd)][_0xea1cb2(0x6f5)],_0x5d4c51=0x28,_0x48fa07=Math[_0xea1cb2(0x68a)]((_0x5d4c51-_0x37feab[_0xea1cb2(0x2af)])/0x2),_0x2a6a82='\x20'[_0xea1cb2(0x43d)](_0x48fa07),_0x2388a5=_0xea1cb2(0x279),_0x5899f3=_0xea1cb2(0x675)+this[_0xea1cb2(0x6bd)][_0xea1cb2(0x754)],_0x755972=(''+_0x2a6a82+_0x37feab+_0x2a6a82)[_0xea1cb2(0x3ae)](_0x5d4c51,'\x20'),_0xb26e31=(''+_0x2a6a82+_0x2388a5+_0x2a6a82)[_0xea1cb2(0x3ae)](_0x5d4c51,'\x20'),_0x3303fb=(''+_0x2a6a82+_0x5899f3+_0x2a6a82)[_0xea1cb2(0x3ae)](_0x5d4c51,'\x20'),_0x1f9607=Math['max'](_0x755972['length'],_0xb26e31[_0xea1cb2(0x2af)],_0x3303fb[_0xea1cb2(0x2af)]),_0x31793e=_0x755972[_0xea1cb2(0x3ae)](_0x1f9607,'\x20'),_0x5218e6=_0xb26e31['padEnd'](_0x1f9607,'\x20'),_0x8a7354=_0x3303fb['padEnd'](_0x1f9607,'\x20');this['logger']['info']((_0xea1cb2(0x61b)+'─'['repeat'](_0x1f9607)+_0xea1cb2(0x74c)+_0x5218e6+_0xea1cb2(0x8a7)+_0x8a7354+_0xea1cb2(0x8a7)+_0x31793e+_0xea1cb2(0x86f)+'─'[_0xea1cb2(0x43d)](_0x1f9607)+'┘')[_0xea1cb2(0x8b0)](/^ +/gm,'\x20\x20')),this[_0xea1cb2(0x609)](),this[_0xea1cb2(0x6bd)][_0xea1cb2(0x5f4)][_0xea1cb2(0x471)]=!0x0;}}[a0_0x55f44d(0x28e)](){const _0x311ba5=a0_0x55f44d;this[_0x311ba5(0x54b)]=0x0,this[_0x311ba5(0x621)]=[];}async[a0_0x55f44d(0x38a)](_0x1572f3,_0x124b03=!0x1){const _0x445039=a0_0x55f44d;try{let _0xab622a=await this[_0x445039(0x82b)][_0x445039(0x57a)][_0x445039(0x408)]({'where':{'_id':_0x1572f3['id']}},this[_0x445039(0x6bd)]['wuid']);return _0x124b03?_0xab622a[0x0]:_0xab622a[0x0][_0x445039(0x57a)];}catch{return{'conversation':''};}}[a0_0x55f44d(0x45c)](){const _0x2117c2=a0_0x55f44d;let _0x4c95de=this[_0x2117c2(0x473)][_0x2117c2(0x1ef)]('STORE'),_0x4ba088=this[_0x2117c2(0x473)][_0x2117c2(0x1ef)](_0x2117c2(0x674));_0x4c95de?.['CLEANING_INTERVAL']&&!_0x4ba088['ENABLED']&&setInterval(()=>{const _0x3bd73d=_0x2117c2;try{for(let [_0x134073,_0x1a06e4]of Object[_0x3bd73d(0x35c)](_0x4c95de))_0x1a06e4===!0x0&&(0x0,$e[_0x3bd73d(0x539)])(_0x3bd73d(0x29b)+(0x0,F[_0x3bd73d(0x1e5)])(this['storePath'],_0x134073[_0x3bd73d(0x713)](),this['instance'][_0x3bd73d(0x6f5)])+_0x3bd73d(0x50a));}catch{}},(_0x4c95de?.[_0x2117c2(0x6a6)]??0xe10)*0x3e8);}async[a0_0x55f44d(0x554)](){const _0x1a3236=a0_0x55f44d;let _0x4b7129=this[_0x1a3236(0x473)][_0x1a3236(0x1ef)]('DATABASE'),_0x31d1b1=this[_0x1a3236(0x473)][_0x1a3236(0x1ef)]('REDIS');return _0x31d1b1?.[_0x1a3236(0x7a1)]?await Ns(_0x31d1b1,this['instance'][_0x1a3236(0x754)]):_0x4b7129[_0x1a3236(0x7a1)]?await vs(this[_0x1a3236(0x6bd)][_0x1a3236(0x754)]):await(0x0,f[_0x1a3236(0x2f7)])((0x0,F[_0x1a3236(0x1e5)])(me,this[_0x1a3236(0x6bd)]['name']));}async['AutomateFunctions'](){const _0x22d89a=a0_0x55f44d;let _0x2c1dc5=()=>Math[_0x22d89a(0x68a)](Math[_0x22d89a(0x44e)]()*0x2711)+0x7d0,_0x3867fa=async()=>{const _0x3755bd=_0x22d89a;if(!this[_0x3755bd(0x6bd)][_0x3755bd(0x5f4)][_0x3755bd(0x471)]){this['logger'][_0x3755bd(0x1fa)](_0x3755bd(0x817)),this[_0x3755bd(0x3f9)]=!0x1;return;}if(this[_0x3755bd(0x6bd)][_0x3755bd(0x6f5)]&&this[_0x3755bd(0x8a8)]&&this['instance']['ScheduleMessage'][_0x3755bd(0x28f)]!==null&&this['instance'][_0x3755bd(0x5f4)][_0x3755bd(0x28f)]!==void 0x0){let _0x4a33da=Math[_0x3755bd(0x848)](this[_0x3755bd(0x6bd)][_0x3755bd(0x5f4)]['delayMessage']/0xea60);this[_0x3755bd(0x3ff)][_0x3755bd(0x1fa)](this['instanceName']+'\x20('+this['instance'][_0x3755bd(0x6f5)]+'):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20'+_0x4a33da+_0x3755bd(0x48e)),this[_0x3755bd(0x3f9)]=!0x1;return;}else this[_0x3755bd(0x6bd)][_0x3755bd(0x6f5)]&&(this[_0x3755bd(0x3ff)]['verbose'](this[_0x3755bd(0x3b5)]+'\x20('+this[_0x3755bd(0x6bd)][_0x3755bd(0x6f5)]+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this['AutomateSystem']||(await this[_0x3755bd(0x302)](),this['findGroups']()),(this[_0x3755bd(0x6bd)]['ScheduleMessage'][_0x3755bd(0x28f)]===null||this[_0x3755bd(0x6bd)][_0x3755bd(0x5f4)][_0x3755bd(0x28f)]===void 0x0)&&await this[_0x3755bd(0x662)]());if(this[_0x3755bd(0x3f9)]){let _0x1204a2=_0x2c1dc5();this[_0x3755bd(0x3ff)][_0x3755bd(0x1fa)](this[_0x3755bd(0x3b5)]+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x1204a2/0x3e8+_0x3755bd(0x445)),setTimeout(_0x3867fa,_0x1204a2);}};if(this[_0x22d89a(0x3f9)])return;this['isRunning']=!0x0;let _0x531cd8=_0x2c1dc5();setTimeout(_0x3867fa,_0x531cd8);}async[a0_0x55f44d(0x6cb)](_0x482e1c=0x0,_0x27a59a=!0x1){const _0x1e0f1f=a0_0x55f44d;try{let _0x54eccf=this[_0x1e0f1f(0x473)][_0x1e0f1f(0x1ef)](_0x1e0f1f(0x4cf));if(_0x54eccf!==0x1||typeof _0x54eccf>'u'||_0x482e1c>=0x5)return this['logger'][_0x1e0f1f(0x250)](_0x1e0f1f(0x714)),this['repository'][_0x1e0f1f(0x4ac)]['create']({'ip':null},this[_0x1e0f1f(0x6bd)][_0x1e0f1f(0x754)]),{};this[_0x1e0f1f(0x3ff)][_0x1e0f1f(0x1fa)](this['instanceName']+_0x1e0f1f(0x679)+(_0x482e1c+0x1)+'\x20de\x20conectar\x20com\x20IP\x20extra.');let _0x5ae084;if(!_0x27a59a){let _0xc8f9b5=await this[_0x1e0f1f(0x82b)][_0x1e0f1f(0x4ac)]['find'](this[_0x1e0f1f(0x3b5)]);_0xc8f9b5&&_0xc8f9b5['ip']&&(_0x5ae084=yo(_0xc8f9b5['ip']));}if((!_0x5ae084||!Rs(_0x5ae084))&&(this[_0x1e0f1f(0x3ff)][_0x1e0f1f(0x250)](this['instanceName']+_0x1e0f1f(0x868)),_0x5ae084=bo()),_0x5ae084&&Rs(_0x5ae084)){let _0x365321=_0x5ae084[_0x1e0f1f(0x7f8)]&&_0x5ae084[_0x1e0f1f(0x206)]?_0x5ae084[_0x1e0f1f(0x8ae)]+_0x1e0f1f(0x335)+_0x5ae084[_0x1e0f1f(0x7f8)]+':'+_0x5ae084[_0x1e0f1f(0x206)]+'@'+_0x5ae084[_0x1e0f1f(0x1f8)]+':'+_0x5ae084[_0x1e0f1f(0x268)]:_0x5ae084[_0x1e0f1f(0x8ae)]+_0x1e0f1f(0x335)+_0x5ae084[_0x1e0f1f(0x1f8)]+':'+_0x5ae084['port'];return await this['testProxy'](_0x365321,_0x5ae084[_0x1e0f1f(0x1f8)])?(this[_0x1e0f1f(0x3ff)][_0x1e0f1f(0x1fa)](this[_0x1e0f1f(0x3b5)]+':\x20IP\x20funcionando!'),this['repository'][_0x1e0f1f(0x4ac)][_0x1e0f1f(0x23b)]({'ip':_0x5ae084[_0x1e0f1f(0x1f8)]},this[_0x1e0f1f(0x6bd)][_0x1e0f1f(0x754)]),{'agent':new Ft['HttpsProxyAgent'](_0x365321),'fetchAgent':new Ft[(_0x1e0f1f(0x6cd))](_0x365321)}):(this[_0x1e0f1f(0x3ff)][_0x1e0f1f(0x250)](this[_0x1e0f1f(0x3b5)]+_0x1e0f1f(0x4b2)),await(0x0,f[_0x1e0f1f(0x363)])(0xc8),this[_0x1e0f1f(0x6cb)](_0x482e1c+0x1,!0x0));}else return this[_0x1e0f1f(0x3ff)][_0x1e0f1f(0x250)](this['instanceName']+':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...'),await(0x0,f[_0x1e0f1f(0x363)])(0xc8),this[_0x1e0f1f(0x6cb)](_0x482e1c+0x1,!0x0);}catch(_0x58cc4a){return this[_0x1e0f1f(0x3ff)][_0x1e0f1f(0x752)](this['instanceName']+_0x1e0f1f(0x46e)+_0x58cc4a[_0x1e0f1f(0x57a)]),{};}}async[a0_0x55f44d(0x21d)](_0x5eabe6,_0x2db2a4){const _0x1d7256=a0_0x55f44d;let _0x107250=new Ft[(_0x1d7256(0x6cd))](_0x5eabe6),_0x528614=0x1388,_0x397a25=[{'url':_0x1d7256(0x229),'parse':_0x287f97=>_0x287f97['ip']},{'url':_0x1d7256(0x4d1),'parse':_0x4fb341=>_0x4fb341['ip']},{'url':_0x1d7256(0x369),'parse':_0x16e923=>_0x16e923[_0x1d7256(0x7a4)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x1d7256(0x87f),'parse':_0x1149d6=>_0x1149d6['ip']},{'url':'http://ifconfig.me/ip','parse':_0x565ff2=>_0x565ff2[_0x1d7256(0x855)]()},{'url':_0x1d7256(0x7f7),'parse':_0x48c8b9=>_0x48c8b9[_0x1d7256(0x855)]()},{'url':_0x1d7256(0x3d7),'parse':_0x4e5aa9=>_0x4e5aa9[_0x1d7256(0x263)]},{'url':_0x1d7256(0x7c7),'parse':_0x3a4891=>_0x3a4891['trim']()},{'url':_0x1d7256(0x235),'parse':_0x3ac11c=>_0x3ac11c[_0x1d7256(0x855)]()}],_0x56aad0=_0x397a25[Math['floor'](Math[_0x1d7256(0x44e)]()*_0x397a25[_0x1d7256(0x2af)])];try{let _0x1e8ad2=await K['default']['get'](_0x56aad0[_0x1d7256(0x68f)],{'httpsAgent':_0x107250,'timeout':_0x528614}),_0x1e3092=_0x56aad0[_0x1d7256(0x52e)](_0x1e8ad2[_0x1d7256(0x5e3)]);return _0x1e3092===_0x2db2a4?(this[_0x1d7256(0x3ff)][_0x1d7256(0x1fa)](this['instanceName']+_0x1d7256(0x803)+_0x2db2a4+_0x1d7256(0x454)+_0x1e3092+_0x1d7256(0x551)),!0x0):(this[_0x1d7256(0x3ff)][_0x1d7256(0x752)](this[_0x1d7256(0x3b5)]+_0x1d7256(0x803)+_0x2db2a4+_0x1d7256(0x454)+_0x1e3092+_0x1d7256(0x359)),!0x1);}catch(_0x2950bd){return this[_0x1d7256(0x3ff)][_0x1d7256(0x752)](this[_0x1d7256(0x3b5)]+_0x1d7256(0x60b)+_0x56aad0['url']+':\x20'+_0x2950bd[_0x1d7256(0x57a)]),!0x1;}}async[a0_0x55f44d(0x3a5)](_0x416875){const _0xf0467a=a0_0x55f44d;try{let _0x2b1d5a=await this[_0xf0467a(0x6cb)]();this[_0xf0467a(0x3f7)](),this[_0xf0467a(0x6bd)]['apikey']=(await this['repository']['auth'][_0xf0467a(0x408)](this[_0xf0467a(0x6bd)][_0xf0467a(0x754)]))[_0xf0467a(0x2a1)],this[_0xf0467a(0x6bd)][_0xf0467a(0x633)]=await this[_0xf0467a(0x554)]();let {version:_0x46c87b}=await(0x0,f[_0xf0467a(0x1df)])(),_0x38f2a2=[No,Is,(0x0,Ts[_0xf0467a(0x6a4)])()],_0x4dc287={..._0x2b1d5a,'auth':{'creds':this[_0xf0467a(0x6bd)]['authState'][_0xf0467a(0x3b9)][_0xf0467a(0x6fe)],'keys':(0x0,f[_0xf0467a(0x6b7)])(this['instance'][_0xf0467a(0x633)]['state']['keys'],(0x0,Pt[_0xf0467a(0x66b)])({'level':_0xf0467a(0x752)}))},'logger':(0x0,Pt[_0xf0467a(0x66b)])({'level':_0xf0467a(0x752)}),'printQRInTerminal':!0x1,'browser':_0x416875?[_0xf0467a(0x20c),Is,(0x0,Ts[_0xf0467a(0x6a4)])()]:_0x38f2a2,'version':_0x46c87b,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x1c1a02=>{const _0x123dcc=_0xf0467a;let _0x2d80e6=_0x1c1a02[_0x123dcc(0x58d)](_0x123dcc(0x6b1)),_0x301019=this['localWebhook']?.[_0x123dcc(0x531)]&&_0x1c1a02[_0x123dcc(0x58d)](_0x123dcc(0x858));return _0x2d80e6||(0x0,f[_0x123dcc(0x3fe)])(_0x1c1a02)||_0x301019;},'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x11ce5e=>await this['getMessage'](_0x11ce5e),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0xf0467a(0x3fc)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x3c35bf=>(_0x3c35bf[_0xf0467a(0x585)]?.[_0xf0467a(0x2cf)]==f[_0xf0467a(0x390)][_0xf0467a(0x5b7)]['ListMessage'][_0xf0467a(0x231)][_0xf0467a(0x565)]&&(_0x3c35bf=JSON['parse'](JSON['stringify'](_0x3c35bf)),_0x3c35bf['listMessage'][_0xf0467a(0x2cf)]=f[_0xf0467a(0x390)][_0xf0467a(0x5b7)][_0xf0467a(0x85e)]['ListType'][_0xf0467a(0x635)]),_0x3c35bf)};return this[_0xf0467a(0x35a)]=!0x1,this[_0xf0467a(0x757)]=(0x0,f[_0xf0467a(0x66b)])(_0x4dc287),this[_0xf0467a(0x3aa)](),this['phoneNumber']=_0x416875,this['client'];}catch(_0x19ee9b){let _0xbca48=_0xf0467a(0x2d4),_0x44ce5d=_0x19ee9b instanceof Error?_0x19ee9b[_0xf0467a(0x57a)]:typeof _0x19ee9b==_0xf0467a(0x2bd)?JSON[_0xf0467a(0x319)](_0x19ee9b):_0x19ee9b,_0x186b56=_0xbca48+':\x20'+_0x44ce5d;throw this[_0xf0467a(0x3ff)]['error'](this[_0xf0467a(0x3b5)]+'\x20('+this[_0xf0467a(0x6bd)][_0xf0467a(0x6f5)]+_0xf0467a(0x6bc)+_0x186b56),new I(_0x186b56);}}[a0_0x55f44d(0x3aa)](){const _0x24c5e2=a0_0x55f44d;this[_0x24c5e2(0x757)]['ev'][_0x24c5e2(0x35f)](_0x4d7bc2=>{const _0x12b0f9=_0x24c5e2;if(!this[_0x12b0f9(0x35a)]){let _0x16d8fa=this[_0x12b0f9(0x473)][_0x12b0f9(0x1ef)](_0x12b0f9(0x674));if(_0x4d7bc2[_0x12b0f9(0x719)]){let _0x534cb1=_0x4d7bc2[_0x12b0f9(0x719)];this['messageHandle'][_0x12b0f9(0x719)](_0x534cb1);}if(_0x4d7bc2[_0x12b0f9(0x247)]){let _0x34782b=_0x4d7bc2[_0x12b0f9(0x247)];this['messageHandle'][_0x12b0f9(0x247)](_0x34782b);}if(_0x4d7bc2[_0x12b0f9(0x4c2)]&&this[_0x12b0f9(0x821)](_0x4d7bc2['connection.update']),_0x4d7bc2[_0x12b0f9(0x62e)]&&this[_0x12b0f9(0x6bd)]['authState']['saveCreds'](),_0x4d7bc2['messaging-history.set']){let _0x454348=_0x4d7bc2[_0x12b0f9(0x81c)];this[_0x12b0f9(0x2fd)]['messaging-history.set'](_0x454348,_0x16d8fa);}if(_0x4d7bc2[_0x12b0f9(0x2a8)]){let _0x136773=_0x4d7bc2['messages.upsert'];this[_0x12b0f9(0x2fd)][_0x12b0f9(0x2a8)](_0x136773,_0x16d8fa);}if(_0x4d7bc2[_0x12b0f9(0x2dd)]){let _0x31f542=_0x4d7bc2['messages.update'];_0x31f542[_0x12b0f9(0x27f)](_0x4141c8=>{const _0x148211=_0x12b0f9;if(Mo[_0x4141c8[_0x148211(0x42e)]['id']]){this[_0x148211(0x757)]['ev']['emit'](_0x148211(0x2a8),{'messages':[_0x4141c8],'type':_0x148211(0x269)}),delete Mo[_0x4141c8[_0x148211(0x42e)]['id']];return;}}),this[_0x12b0f9(0x2fd)][_0x12b0f9(0x2dd)](_0x31f542,_0x16d8fa);}if(_0x4d7bc2[_0x12b0f9(0x43e)]){let _0x57c519=_0x4d7bc2[_0x12b0f9(0x43e)];if(this[_0x12b0f9(0x509)]?.['groups_ignore']&&_0x57c519['id'][_0x12b0f9(0x52f)](_0x12b0f9(0x858)))return;this[_0x12b0f9(0x477)]('presence.update',_0x57c519);}if(_0x4d7bc2[_0x12b0f9(0x560)]){let _0x8215b7=_0x4d7bc2['groups.upsert'];this[_0x12b0f9(0x2c3)][_0x12b0f9(0x560)](_0x8215b7);}if(_0x4d7bc2[_0x12b0f9(0x32c)]){let _0x5de2c5=_0x4d7bc2[_0x12b0f9(0x32c)];this[_0x12b0f9(0x2c3)][_0x12b0f9(0x32c)](_0x5de2c5);}if(_0x4d7bc2[_0x12b0f9(0x368)]){let _0x5e549b=_0x4d7bc2[_0x12b0f9(0x368)];this[_0x12b0f9(0x2c3)][_0x12b0f9(0x368)](_0x5e549b);}if(_0x4d7bc2[_0x12b0f9(0x3d1)]){let _0x559673=_0x4d7bc2[_0x12b0f9(0x3d1)];this[_0x12b0f9(0x68e)][_0x12b0f9(0x3d1)](_0x559673,_0x16d8fa);}if(_0x4d7bc2[_0x12b0f9(0x594)]){let _0x20cb9c=_0x4d7bc2[_0x12b0f9(0x594)];this[_0x12b0f9(0x68e)][_0x12b0f9(0x594)](_0x20cb9c,_0x16d8fa);}if(_0x4d7bc2[_0x12b0f9(0x2fe)]){let _0x440e10=_0x4d7bc2[_0x12b0f9(0x2fe)];this[_0x12b0f9(0x68e)][_0x12b0f9(0x2fe)](_0x440e10);}if(_0x4d7bc2['contacts.upsert']){let _0x40610f=_0x4d7bc2[_0x12b0f9(0x88f)];this['contactHandle'][_0x12b0f9(0x88f)](_0x40610f,_0x16d8fa);}if(_0x4d7bc2[_0x12b0f9(0x347)]){let _0x167fdf=_0x4d7bc2[_0x12b0f9(0x347)];this[_0x12b0f9(0x670)][_0x12b0f9(0x347)](_0x167fdf,_0x16d8fa);}}});}[a0_0x55f44d(0x2fa)](_0x2b69c1){return new Promise(_0x5dccaa=>setTimeout(_0x5dccaa,_0x2b69c1));}[a0_0x55f44d(0x22d)](_0x611f22){const _0x513f33=a0_0x55f44d;_0x611f22=_0x611f22[_0x513f33(0x8b0)](/\D/g,'');let _0x9f0cc9=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x513f33(0x894)](_0x611f22);if(_0x9f0cc9&&_0x9f0cc9[0x1]==='55'){let _0x2b69b3=_0x9f0cc9[0x2],_0x3eb330=_0x9f0cc9[0x3],_0x2abcee=_0x9f0cc9[0x4];if(parseInt(_0x2b69b3)>=0x1f&&_0x3eb330==='9')return _0x9f0cc9[0x1]+_0x2b69b3+_0x2abcee;}return _0x611f22;}[a0_0x55f44d(0x615)](_0x30b3db){const _0x4d0a20=a0_0x55f44d;return _0x30b3db[_0x4d0a20(0x52f)](_0x4d0a20(0x858))||_0x30b3db[_0x4d0a20(0x52f)](_0x4d0a20(0x704))||_0x30b3db[_0x4d0a20(0x52f)](_0x4d0a20(0x691))?_0x30b3db:(_0x30b3db=_0x30b3db?.[_0x4d0a20(0x8b0)](/\s/g,'')[_0x4d0a20(0x8b0)](/\+/g,'')[_0x4d0a20(0x8b0)](/\(/g,'')[_0x4d0a20(0x8b0)](/\)/g,'')[_0x4d0a20(0x44b)](/\:/)[0x0]['split']('@')[0x0],_0x30b3db['length']>=0x12?(_0x30b3db=_0x30b3db['replace'](/[^\d-]/g,''),_0x30b3db+_0x4d0a20(0x858)):(_0x30b3db=_0x30b3db[_0x4d0a20(0x8b0)](/\D/g,''),_0x30b3db+_0x4d0a20(0x704)));}async['updatePresence'](_0x473190){const _0x5665c8=a0_0x55f44d;let _0x1081a4=(await this['whatsappNumber']({'numbers':[_0x473190[_0x5665c8(0x61e)]]}))[0x0];if(!_0x1081a4[_0x5665c8(0x270)]&&!(0x0,f[_0x5665c8(0x479)])(_0x1081a4[_0x5665c8(0x38d)])&&!_0x1081a4[_0x5665c8(0x38d)][_0x5665c8(0x52f)]('@broadcast'))throw new m(_0x1081a4);let _0x472a5b=_0x1081a4[_0x5665c8(0x38d)];try{return await this[_0x5665c8(0x757)][_0x5665c8(0x3ad)](_0x472a5b),await this[_0x5665c8(0x757)][_0x5665c8(0x79d)](_0x473190[_0x5665c8(0x58a)],_0x472a5b),{'status':0xc8,'presence':_0x473190['presence']};}catch(_0x53806d){let _0x5f4656='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence',_0x338c97=_0x53806d instanceof Error?_0x53806d[_0x5665c8(0x57a)]:typeof _0x53806d==_0x5665c8(0x2bd)?JSON[_0x5665c8(0x319)](_0x53806d):_0x53806d,_0x17aec8=_0x5f4656+':\x20'+_0x338c97;throw this['logger']['error'](this[_0x5665c8(0x3b5)]+'\x20('+this[_0x5665c8(0x6bd)]['wuid']+_0x5665c8(0x6bc)+_0x17aec8),new m(_0x17aec8);}}async['findAndUpdateCacheContact'](_0x4ce3a6,_0x11abee,_0x5541c7,_0x38d7b5=!0x0){const _0x112f0a=a0_0x55f44d;let _0x291f2d=await this[_0x112f0a(0x82b)][_0x112f0a(0x40d)]['findOne']({'where':{'_id':_0x4ce3a6}});if(!_0x291f2d&&!_0x38d7b5)return;let _0x72d1af={'lastUpdate':Date[_0x112f0a(0x692)]()};if(_0x5541c7||!_0x291f2d?.[_0x112f0a(0x42c)]||Date['now']()-_0x291f2d[_0x112f0a(0x42c)]>0x18*0x3c*0x3c*0x3e8)try{let _0x24c258=(await this[_0x112f0a(0x34d)](_0x4ce3a6))[_0x112f0a(0x498)];_0x72d1af[_0x112f0a(0x5c6)]=_0x24c258;}catch(_0x102e4e){let _0xc0a4c0=_0x112f0a(0x2a6),_0x1ae4c3=_0x102e4e instanceof Error?_0x102e4e[_0x112f0a(0x57a)]:typeof _0x102e4e==_0x112f0a(0x2bd)?JSON[_0x112f0a(0x319)](_0x102e4e):_0x102e4e,_0x4c57f4=_0xc0a4c0+':\x20'+_0x1ae4c3;throw this[_0x112f0a(0x3ff)][_0x112f0a(0x752)](this[_0x112f0a(0x3b5)]+'\x20('+this[_0x112f0a(0x6bd)]['wuid']+'):\x20'+_0x4c57f4),new m(_0x4c57f4);}return _0x11abee&&_0x291f2d?.[_0x112f0a(0x754)]!==_0x11abee&&(_0x72d1af[_0x112f0a(0x754)]=_0x11abee),Object[_0x112f0a(0x3cf)](_0x72d1af)[_0x112f0a(0x2af)]>0x1&&(_0x291f2d?await this['repository']['cacheContact'][_0x112f0a(0x604)]({'where':{'_id':_0x4ce3a6}},_0x72d1af):await this['repository']['cacheContact']['insert']([{'_id':_0x4ce3a6,..._0x72d1af}]),_0x291f2d={..._0x291f2d,..._0x72d1af}),{'cachedContact':_0x291f2d};}async[a0_0x55f44d(0x34d)](_0x50fe62){const _0x244579=a0_0x55f44d;let _0x3ca3cf=this[_0x244579(0x615)](_0x50fe62);try{return{'wuid':_0x3ca3cf,'profilePictureUrl':await this[_0x244579(0x757)][_0x244579(0x498)](_0x3ca3cf,_0x244579(0x717))};}catch{return{'wuid':_0x3ca3cf,'profilePictureUrl':null};}}async[a0_0x55f44d(0x6c2)](_0x37c287,_0x1c83e2,_0x577a11){const _0x5a3836=a0_0x55f44d;_0x577a11||(_0x577a11={});let _0x3ab198=(await this[_0x5a3836(0x872)]({'numbers':[_0x37c287]}))[0x0];if(!_0x3ab198['exists']&&!(0x0,f[_0x5a3836(0x479)])(_0x3ab198[_0x5a3836(0x38d)])&&!_0x3ab198[_0x5a3836(0x38d)][_0x5a3836(0x52f)]('@broadcast'))throw new m(_0x3ab198);let _0x542964=_0x3ab198[_0x5a3836(0x38d)];try{if(_0x577a11?.[_0x5a3836(0x363)]){await this[_0x5a3836(0x757)][_0x5a3836(0x3ad)](_0x542964),await this['client'][_0x5a3836(0x79d)](_0x577a11?.[_0x5a3836(0x58a)]??'composing',_0x542964);let _0x5b5678=Math[_0x5a3836(0x7cb)](_0x577a11[_0x5a3836(0x363)],0x2710);await(0x0,f[_0x5a3836(0x363)])(_0x5b5678),await this[_0x5a3836(0x757)][_0x5a3836(0x79d)](_0x5a3836(0x512),_0x542964);}let _0x5515ff=_0x577a11?.[_0x5a3836(0x530)]!=!0x1?void 0x0:!0x1,_0x191287;if(_0x577a11?.[_0x5a3836(0x360)]){let _0x32732d=_0x577a11?.[_0x5a3836(0x360)],_0x29c8ae=_0x32732d?.[_0x5a3836(0x57a)]?_0x32732d:await this['getMessage'](_0x32732d['key'],!0x0);if(!_0x29c8ae)throw _0x5a3836(0x7f2);_0x191287=_0x29c8ae;}let _0x283243;if((0x0,f['isJidGroup'])(_0x542964))try{let _0x25b176=(await this[_0x5a3836(0x82b)]['chat'][_0x5a3836(0x720)]({'where':{'_id':_0x542964}},this['instance'][_0x5a3836(0x6f5)]))[_0x5a3836(0x20d)];if(!_0x25b176)throw new J(_0x5a3836(0x7ab));_0x577a11?.[_0x5a3836(0x638)]&&(_0x577a11['mentions']?.[_0x5a3836(0x21e)]?_0x283243=_0x25b176[_0x5a3836(0x489)]['map'](_0x26a59f=>_0x26a59f['id']):_0x577a11[_0x5a3836(0x638)]?.[_0x5a3836(0x595)]?.[_0x5a3836(0x2af)]&&(_0x283243=_0x577a11[_0x5a3836(0x638)][_0x5a3836(0x595)][_0x5a3836(0x2b0)](_0x22842c=>{const _0x164e46=_0x5a3836;let _0x2ab873=this[_0x164e46(0x615)](_0x22842c);return(0x0,f[_0x164e46(0x479)])(_0x2ab873)?null:_0x2ab873;})));}catch{throw new J(_0x5a3836(0x7ab));}let _0x2928fc=await this['repository'][_0x5a3836(0x504)][_0x5a3836(0x720)]({'where':{'_id':_0x542964}},this[_0x5a3836(0x6bd)][_0x5a3836(0x6f5)]),_0xd12a60=await((async()=>{const _0x4f7a81=_0x5a3836;let _0x394fef={'quoted':_0x191287,'ephemeralExpiration':_0x2928fc?.[_0x4f7a81(0x2e1)]??0x0};if(!_0x1c83e2[_0x4f7a81(0x1de)]&&!_0x1c83e2['poll']&&!_0x1c83e2[_0x4f7a81(0x648)]&&!_0x1c83e2[_0x4f7a81(0x274)]&&_0x542964!=='status@broadcast'&&!_0x1c83e2[_0x4f7a81(0x1de)])return await this[_0x4f7a81(0x757)][_0x4f7a81(0x4ab)](_0x542964,{'forward':{'key':{'remoteJid':this[_0x4f7a81(0x6bd)][_0x4f7a81(0x6f5)],'fromMe':!0x0},'message':_0x1c83e2},'mentions':_0x283243},_0x394fef);if(_0x1c83e2[_0x4f7a81(0x490)])return await this['client'][_0x4f7a81(0x4ab)](_0x542964,{'react':{'text':_0x1c83e2[_0x4f7a81(0x490)][_0x4f7a81(0x68c)],'key':_0x1c83e2[_0x4f7a81(0x490)]['key']}},_0x394fef);if(_0x1c83e2[_0x4f7a81(0x274)]){let _0x47caaf=_0x1c83e2['conversation'];return _0x577a11?.[_0x4f7a81(0x84a)]&&(_0x47caaf=await this[_0x4f7a81(0x57d)](_0x47caaf,_0x542964)),await this['client'][_0x4f7a81(0x4ab)](_0x542964,{'text':_0x47caaf,'mentions':_0x283243,'linkPreview':_0x5515ff},_0x394fef);}return _0x542964===_0x4f7a81(0x2cd)?await this[_0x4f7a81(0x757)][_0x4f7a81(0x4ab)](_0x542964,_0x1c83e2[_0x4f7a81(0x346)]['content'],{'backgroundColor':_0x1c83e2[_0x4f7a81(0x346)]['option'][_0x4f7a81(0x6e6)],'font':_0x1c83e2['status'][_0x4f7a81(0x373)][_0x4f7a81(0x7ec)],'statusJidList':_0x1c83e2['status'][_0x4f7a81(0x373)][_0x4f7a81(0x737)]}):await this[_0x4f7a81(0x757)][_0x4f7a81(0x4ab)](_0x542964,_0x1c83e2,_0x394fef);})()),_0x174551=(0x0,f['normalizeMessageContent'])(_0xd12a60['message']),_0x5703a6=(0x0,f[_0x5a3836(0x61d)])(_0x174551),{message_normalized:_0x4a877f}=this[_0x5a3836(0x7c2)](_0x174551,_0x5703a6,null),_0x5ad5fc={'_id':_0xd12a60[_0x5a3836(0x42e)]['id'],'key':_0xd12a60[_0x5a3836(0x42e)],'pushName':_0xd12a60[_0x5a3836(0x507)],'isGroup':_0xd12a60[_0x5a3836(0x42e)][_0x5a3836(0x2a0)][_0x5a3836(0x58d)](_0x5a3836(0x858)),'profilePictureUrl':this[_0x5a3836(0x6bd)][_0x5a3836(0x498)],'message':_0x174551,'messageType':_0x5703a6,'message_normalized':{'key':_0xd12a60[_0x5a3836(0x42e)],'pushName':_0xd12a60[_0x5a3836(0x507)],'messageTimestamp':_0xd12a60['messageTimestamp']&&_0xd12a60[_0x5a3836(0x291)][_0x5a3836(0x6d8)]()[_0x5a3836(0x2af)]<0xd?_0xd12a60['messageTimestamp']*0x3e8:_0xd12a60['messageTimestamp']||null,'source':(0x0,f[_0x5a3836(0x835)])(_0xd12a60[_0x5a3836(0x42e)]['id']),..._0x4a877f},'messageTimestamp':_0xd12a60[_0x5a3836(0x291)]&&_0xd12a60[_0x5a3836(0x291)][_0x5a3836(0x6d8)]()[_0x5a3836(0x2af)]<0xd?_0xd12a60[_0x5a3836(0x291)]*0x3e8:_0xd12a60[_0x5a3836(0x291)]||null,'owner':this[_0x5a3836(0x6bd)][_0x5a3836(0x6f5)],'source':(0x0,f['getDevice'])(_0xd12a60['key']['id'])};return this[_0x5a3836(0x3ff)][_0x5a3836(0x250)](this[_0x5a3836(0x3b5)]+'\x20('+this['instance']['wuid']+_0x5a3836(0x70a)+_0x5ad5fc[_0x5a3836(0x42e)]?.[_0x5a3836(0x2a0)]['replace']('@s.whatsapp.net','')+_0x5a3836(0x74f)+_0x5ad5fc['messageType']+')'),_0x5ad5fc[_0x5a3836(0x5e6)]?.[_0x5a3836(0x68c)]&&this[_0x5a3836(0x3ff)]['warn'](_0x5ad5fc[_0x5a3836(0x5e6)]?.[_0x5a3836(0x68c)]),this[_0x5a3836(0x477)]('send.message',_0x5ad5fc),U(this[_0x5a3836(0x3b5)],'messages',{'message':_0x5ad5fc}),this['updateChatWithMessage'](this[_0x5a3836(0x473)][_0x5a3836(0x1ef)](_0x5a3836(0x674)),_0x5ad5fc,_0x5a3836(0x3c2),_0x2928fc),await this[_0x5a3836(0x82b)]['message'][_0x5a3836(0x43b)]([_0x5ad5fc],this[_0x5a3836(0x6bd)][_0x5a3836(0x6f5)]),_0xd12a60;}catch(_0x1da97a){let _0x4aa35d=_0x5a3836(0x437),_0x198996=_0x1da97a instanceof Error?_0x1da97a[_0x5a3836(0x57a)]:typeof _0x1da97a==_0x5a3836(0x2bd)?JSON[_0x5a3836(0x319)](_0x1da97a):_0x1da97a,_0x1cc10c=_0x4aa35d+':\x20'+_0x198996;throw this[_0x5a3836(0x3ff)][_0x5a3836(0x752)](this['instanceName']+'\x20('+this[_0x5a3836(0x6bd)][_0x5a3836(0x6f5)]+'):\x20'+_0x1cc10c),new m(_0x1cc10c);}}get[a0_0x55f44d(0x49e)](){const _0x135729=a0_0x55f44d;return this[_0x135729(0x26b)];}async[a0_0x55f44d(0x8b3)](_0x92ade0){const _0x154e1f=a0_0x55f44d;let _0x21ffd4=So,_0x577d42=et;return _0x577d42&&this[_0x154e1f(0x3b5)][_0x154e1f(0x713)]()[_0x154e1f(0x52f)](_0x577d42[_0x154e1f(0x713)]())&&(_0x92ade0[_0x154e1f(0x8b3)]['text']+='\x0a\x0a'+_0x21ffd4),await this[_0x154e1f(0x6c2)](_0x92ade0['number'],{'conversation':_0x92ade0['textMessage'][_0x154e1f(0x68c)]},_0x92ade0?.[_0x154e1f(0x3e3)]);}async[a0_0x55f44d(0x201)](_0xaef0f4){const _0x4549d5=a0_0x55f44d;if(!_0xaef0f4[_0x4549d5(0x31b)])throw new m(_0x4549d5(0x2dc));if(!_0xaef0f4[_0x4549d5(0x2cb)])throw new m(_0x4549d5(0x562));if(_0xaef0f4[_0x4549d5(0x56b)]){let _0x4389f1=await this[_0x4549d5(0x82b)][_0x4549d5(0x446)][_0x4549d5(0x408)]({'where':{}},this[_0x4549d5(0x6bd)]['wuid']);if(!_0x4389f1[_0x4549d5(0x2af)])throw new m(_0x4549d5(0x60d));_0xaef0f4[_0x4549d5(0x737)]=_0x4389f1['filter'](_0x349f6f=>_0x349f6f[_0x4549d5(0x507)])[_0x4549d5(0x2b0)](_0x257569=>_0x257569[_0x4549d5(0x20e)]);}if(!_0xaef0f4['statusJidList']?.[_0x4549d5(0x2af)]&&!_0xaef0f4[_0x4549d5(0x56b)])throw new m(_0x4549d5(0x654));if(_0xaef0f4[_0x4549d5(0x31b)]===_0x4549d5(0x68c)){if(!_0xaef0f4[_0x4549d5(0x6e6)])throw new m(_0x4549d5(0x72c));if(!_0xaef0f4[_0x4549d5(0x7ec)])throw new m('Font\x20is\x20required');return{'content':{'text':_0xaef0f4[_0x4549d5(0x2cb)]},'option':{'backgroundColor':_0xaef0f4[_0x4549d5(0x6e6)],'font':_0xaef0f4[_0x4549d5(0x7ec)],'statusJidList':_0xaef0f4[_0x4549d5(0x737)]}};}if(_0xaef0f4['type']===_0x4549d5(0x717))return{'content':{'image':{'url':_0xaef0f4[_0x4549d5(0x2cb)]},'caption':_0xaef0f4[_0x4549d5(0x32a)]},'option':{'statusJidList':_0xaef0f4['statusJidList']}};if(_0xaef0f4[_0x4549d5(0x31b)]===_0x4549d5(0x6fb))return{'content':{'video':{'url':_0xaef0f4['content']},'caption':_0xaef0f4['caption']},'option':{'statusJidList':_0xaef0f4['statusJidList']}};if(_0xaef0f4['type']===_0x4549d5(0x1de)){this[_0x4549d5(0x3ff)][_0x4549d5(0x1fa)]('Type\x20defined\x20as\x20audio'),this[_0x4549d5(0x3ff)][_0x4549d5(0x1fa)](_0x4549d5(0x7e6));let _0x2eaf4c=await this[_0x4549d5(0x87c)](_0xaef0f4[_0x4549d5(0x2cb)]);if(typeof _0x2eaf4c==_0x4549d5(0x4a1)){this['logger'][_0x4549d5(0x1fa)](_0x4549d5(0x7cd));let _0x387473=j['readFileSync'](_0x2eaf4c)[_0x4549d5(0x6d8)]('base64');return{'content':{'audio':Buffer[_0x4549d5(0x4ed)](_0x387473,_0x4549d5(0x385)),'ptt':!0x0,'mimetype':'audio/ogg'},'option':{'statusJidList':_0xaef0f4['statusJidList']}};}else throw new I(_0x2eaf4c);}throw new m('Type\x20not\x20found');}async[a0_0x55f44d(0x608)](_0x437080){const _0x2af342=a0_0x55f44d;return await this[_0x2af342(0x6c2)](_0x2af342(0x2cd),{'status':await this[_0x2af342(0x201)](_0x437080['statusMessage'])});}async['prepareMediaMessage'](_0x5e9d0d){const _0x581525=a0_0x55f44d;try{let _0x157f2b=await(0x0,f[_0x581525(0x82d)])({[_0x5e9d0d[_0x581525(0x544)]]:(0x0,P['isURL'])(_0x5e9d0d[_0x581525(0x26e)])?{'url':_0x5e9d0d[_0x581525(0x26e)]}:Buffer['from'](_0x5e9d0d[_0x581525(0x26e)],_0x581525(0x385))},{'upload':this[_0x581525(0x757)]['waUploadToServer']}),_0x4968de=_0x5e9d0d['mediatype']+_0x581525(0x5b7);if(_0x5e9d0d[_0x581525(0x544)]===_0x581525(0x827)&&!_0x5e9d0d[_0x581525(0x3d4)]){let _0x350372=new RegExp(/.*\/(.+?)\./)['exec'](_0x5e9d0d[_0x581525(0x26e)]);_0x5e9d0d[_0x581525(0x3d4)]=_0x350372?_0x350372[0x1]:null;}let _0x3377a1=(0x0,P[_0x581525(0x7d6)])(_0x5e9d0d[_0x581525(0x26e)])?_0x5e9d0d['media'][_0x581525(0x44b)]('?')[0x0]:_0x5e9d0d[_0x581525(0x26e)];this[_0x581525(0x3ff)]['verbose'](_0x581525(0x586)+_0x3377a1);let _0x29392c;(0x0,P[_0x581525(0x7d6)])(_0x5e9d0d['media'])?_0x29392c=(0x0,kt[_0x581525(0x4ad)])(_0x3377a1):_0x5e9d0d['fileName']&&_0x5e9d0d[_0x581525(0x3d4)][_0x581525(0x52f)]('.')?_0x29392c=(0x0,kt[_0x581525(0x4ad)])(_0x5e9d0d[_0x581525(0x3d4)]):_0x29392c=(0x0,kt[_0x581525(0x4ad)])(_0x5e9d0d[_0x581525(0x26e)]);let _0x44c95d=So,_0x45d2cd=et;return _0x45d2cd&&this['instanceName'][_0x581525(0x713)]()[_0x581525(0x52f)](_0x45d2cd['toLowerCase']())&&(_0x5e9d0d[_0x581525(0x32a)]+='\x0a\x0a'+_0x44c95d),_0x157f2b[_0x4968de][_0x581525(0x32a)]=_0x5e9d0d?.[_0x581525(0x32a)],_0x157f2b[_0x4968de][_0x581525(0x535)]=_0x29392c,_0x157f2b[_0x4968de][_0x581525(0x3d4)]=_0x5e9d0d['fileName'],_0x5e9d0d[_0x581525(0x544)]===_0x581525(0x6fb)&&(_0x157f2b[_0x4968de][_0x581525(0x583)]=Uint8Array['from']((0x0,Te['readFileSync'])((0x0,F['join'])(process[_0x581525(0x724)](),_0x581525(0x233)))),_0x157f2b[_0x4968de][_0x581525(0x5a7)]=!0x1),(0x0,f['generateWAMessageFromContent'])('',{[_0x4968de]:{..._0x157f2b[_0x4968de]}},{'userJid':this[_0x581525(0x6bd)]['wuid']});}catch(_0x43162d){let _0x14ab3f='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage',_0xa169c1=_0x43162d instanceof Error?_0x43162d[_0x581525(0x57a)]:typeof _0x43162d==_0x581525(0x2bd)?JSON['stringify'](_0x43162d):_0x43162d,_0xa799ca=_0x14ab3f+':\x20'+_0xa169c1;throw this[_0x581525(0x3ff)]['error'](this[_0x581525(0x3b5)]+'\x20('+this[_0x581525(0x6bd)]['wuid']+_0x581525(0x6bc)+_0xa799ca),new I(_0xa799ca);}}async[a0_0x55f44d(0x763)](_0x19971a){const _0x4cd112=a0_0x55f44d;let _0x1bb36e=await this[_0x4cd112(0x538)](_0x19971a[_0x4cd112(0x763)]);return await this['sendMessageWithTyping'](_0x19971a[_0x4cd112(0x61e)],{..._0x1bb36e[_0x4cd112(0x57a)]},_0x19971a?.[_0x4cd112(0x3e3)]);}async[a0_0x55f44d(0x2c6)](_0x5149cc,_0x323baf){const _0xee1d8b=a0_0x55f44d;try{this['logger'][_0xee1d8b(0x1fa)](_0xee1d8b(0x26a));let _0x537424,_0x158965=_0x323baf+'-'+new Date()[_0xee1d8b(0x65c)]();this['logger'][_0xee1d8b(0x1fa)](_0xee1d8b(0x87d)+_0x158965);let _0x4d03de=''+(0x0,F['join'])(this[_0xee1d8b(0x3c4)],_0x158965+_0xee1d8b(0x3f3));if(this[_0xee1d8b(0x3ff)][_0xee1d8b(0x1fa)](_0xee1d8b(0x762)+_0x4d03de),(0x0,P['isBase64'])(_0x5149cc)){this['logger'][_0xee1d8b(0x1fa)](_0xee1d8b(0x651));let _0x136802=_0x5149cc[_0xee1d8b(0x8b0)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x4a09b2=Buffer[_0xee1d8b(0x4ed)](_0x136802,'base64');_0x537424=''+(0x0,F['join'])(this['storePath'],_0xee1d8b(0x345)+_0x158965+_0xee1d8b(0x32e)),this['logger']['verbose']('Image\x20path:\x20'+_0x537424),await(0x0,Lt[_0xee1d8b(0x66b)])(_0x4a09b2)[_0xee1d8b(0x320)](_0x537424),this[_0xee1d8b(0x3ff)]['verbose'](_0xee1d8b(0x4f0));}else{this[_0xee1d8b(0x3ff)]['verbose']('Image\x20is\x20url');let _0x2ad623=new Date()[_0xee1d8b(0x65c)](),_0x441dd0=_0x5149cc+'?timestamp='+_0x2ad623;this[_0xee1d8b(0x3ff)][_0xee1d8b(0x1fa)](_0xee1d8b(0x1e7)+_0x441dd0);let _0x31268a=await K[_0xee1d8b(0x66b)][_0xee1d8b(0x1ef)](_0x441dd0,{'responseType':_0xee1d8b(0x275)});this['logger'][_0xee1d8b(0x1fa)](_0xee1d8b(0x248));let _0x1e9dfe=Buffer[_0xee1d8b(0x4ed)](_0x31268a['data'],_0xee1d8b(0x590));_0x537424=''+(0x0,F[_0xee1d8b(0x1e5)])(this[_0xee1d8b(0x3c4)],_0xee1d8b(0x345)+_0x158965+_0xee1d8b(0x32e)),this[_0xee1d8b(0x3ff)]['verbose'](_0xee1d8b(0x640)+_0x537424),await(0x0,Lt[_0xee1d8b(0x66b)])(_0x1e9dfe)['toFile'](_0x537424),this[_0xee1d8b(0x3ff)]['verbose'](_0xee1d8b(0x4f0));}return await(0x0,Lt[_0xee1d8b(0x66b)])(_0x537424)[_0xee1d8b(0x380)]()[_0xee1d8b(0x320)](_0x4d03de),this[_0xee1d8b(0x3ff)]['verbose']('Image\x20converted\x20to\x20WebP'),j[_0xee1d8b(0x3e5)](_0x537424),this['logger'][_0xee1d8b(0x1fa)](_0xee1d8b(0x33b)),_0x4d03de;}catch(_0x1fe693){let _0x30ad62=_0xee1d8b(0x4e7),_0x50c345=_0x1fe693 instanceof Error?_0x1fe693[_0xee1d8b(0x57a)]:typeof _0x1fe693==_0xee1d8b(0x2bd)?JSON['stringify'](_0x1fe693):_0x1fe693,_0x55135e=_0x30ad62+':\x20'+_0x50c345;this[_0xee1d8b(0x3ff)][_0xee1d8b(0x752)](this['instanceName']+'\x20('+this[_0xee1d8b(0x6bd)][_0xee1d8b(0x6f5)]+_0xee1d8b(0x6bc)+_0x55135e);}}async['mediaSticker'](_0xa9f03f){const _0x2d3a02=a0_0x55f44d;let _0x5381c1=await this[_0x2d3a02(0x2c6)](_0xa9f03f[_0x2d3a02(0x884)][_0x2d3a02(0x717)],_0xa9f03f[_0x2d3a02(0x61e)]),_0x501e7f=await this[_0x2d3a02(0x6c2)](_0xa9f03f[_0x2d3a02(0x61e)],{'sticker':{'url':_0x5381c1}},_0xa9f03f?.[_0x2d3a02(0x3e3)]);return j[_0x2d3a02(0x3e5)](_0x5381c1),this[_0x2d3a02(0x3ff)][_0x2d3a02(0x1fa)](_0x2d3a02(0x27a)),_0x501e7f;}async[a0_0x55f44d(0x3ef)](_0x1efda6){const _0x129b0a=a0_0x55f44d;if(this[_0x129b0a(0x3ff)][_0x129b0a(0x1fa)](_0x129b0a(0x255)),!_0x1efda6[_0x129b0a(0x3e3)]?.['encoding']&&_0x1efda6[_0x129b0a(0x3e3)]?.[_0x129b0a(0x89b)]!==!0x1&&(_0x1efda6[_0x129b0a(0x3e3)][_0x129b0a(0x89b)]=!0x0),_0x1efda6[_0x129b0a(0x3e3)]?.['encoding']){let _0x36d49e=await this['convertaudio'](_0x1efda6[_0x129b0a(0x5eb)][_0x129b0a(0x1de)]);if(typeof _0x36d49e=='string'){let _0x5bdaf1=j['readFileSync'](_0x36d49e)[_0x129b0a(0x6d8)](_0x129b0a(0x385));return this[_0x129b0a(0x6c2)](_0x1efda6[_0x129b0a(0x61e)],{'audio':Buffer[_0x129b0a(0x4ed)](_0x5bdaf1,_0x129b0a(0x385)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x129b0a(0x1e2),'delay':_0x1efda6?.[_0x129b0a(0x3e3)]?.[_0x129b0a(0x363)]});}else throw new I(_0x36d49e);}return await this[_0x129b0a(0x6c2)](_0x1efda6[_0x129b0a(0x61e)],{'audio':(0x0,P[_0x129b0a(0x7d6)])(_0x1efda6[_0x129b0a(0x5eb)][_0x129b0a(0x1de)])?{'url':_0x1efda6[_0x129b0a(0x5eb)][_0x129b0a(0x1de)]}:Buffer[_0x129b0a(0x4ed)](_0x1efda6[_0x129b0a(0x5eb)][_0x129b0a(0x1de)],_0x129b0a(0x385)),'ptt':!0x0,'mimetype':_0x129b0a(0x63a)},{'presence':_0x129b0a(0x1e2),'delay':_0x1efda6?.[_0x129b0a(0x3e3)]?.['delay']});}async[a0_0x55f44d(0x87c)](_0x4bb7b6){const _0x48ffe1=a0_0x55f44d;this['logger'][_0x48ffe1(0x1fa)](_0x48ffe1(0x7e6));let _0x51c8bb=(0x0,P[_0x48ffe1(0x7d6)])(_0x4bb7b6)?(0x0,Ut[_0x48ffe1(0x6f0)])('sha256')[_0x48ffe1(0x604)](_0x4bb7b6)[_0x48ffe1(0x401)](_0x48ffe1(0x39c)):(0x0,Ut[_0x48ffe1(0x6f0)])('sha256')[_0x48ffe1(0x604)](_0x4bb7b6)[_0x48ffe1(0x401)]('hex'),_0x374495=''+(0x0,F['join'])(this[_0x48ffe1(0x3c4)],_0x51c8bb+'.ogg');if(j[_0x48ffe1(0x570)](_0x374495))return this[_0x48ffe1(0x3ff)][_0x48ffe1(0x1fa)](_0x48ffe1(0x666)),_0x374495;let _0x50acc4=''+(0x0,F[_0x48ffe1(0x1e5)])(this[_0x48ffe1(0x3c4)],'temp-'+(0x0,jt['v4'])()+_0x48ffe1(0x4c3));if((0x0,P[_0x48ffe1(0x7d6)])(_0x4bb7b6)){let _0x55740e=new Date()['getTime'](),_0x43f457=_0x4bb7b6+_0x48ffe1(0x391)+_0x55740e,_0x1f4794=await K['default'][_0x48ffe1(0x1ef)](_0x43f457,{'responseType':_0x48ffe1(0x275)});j[_0x48ffe1(0x23d)](_0x50acc4,_0x1f4794[_0x48ffe1(0x5e3)]);}else{let _0x2a4fb7=Buffer[_0x48ffe1(0x4ed)](_0x4bb7b6,_0x48ffe1(0x385));j[_0x48ffe1(0x23d)](_0x50acc4,_0x2a4fb7);}return new Promise((_0x23327a,_0x4e81e7)=>{const _0x3fb49b=_0x48ffe1;(0x0,$e['exec'])(Os[_0x3fb49b(0x66b)][_0x3fb49b(0x6a1)]+_0x3fb49b(0x4be)+_0x50acc4+'\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20'+_0x374495+_0x3fb49b(0x800),_0x55add3=>{const _0x47a503=_0x3fb49b;if(j[_0x47a503(0x3e5)](_0x50acc4),_0x55add3){this['logger'][_0x47a503(0x1fa)]('Error\x20in\x20converting\x20audio'),_0x4e81e7(_0x55add3);return;}this['logger'][_0x47a503(0x1fa)]('Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x23327a(_0x374495);});});}async['convertaudioMP3'](_0x4bb88f){const _0x55b86a=a0_0x55f44d;this['logger']['verbose'](_0x55b86a(0x7e6));let _0x165782=(0x0,Ut[_0x55b86a(0x6f0)])(_0x55b86a(0x64f))[_0x55b86a(0x604)](_0x4bb88f)['digest'](_0x55b86a(0x39c)),_0x3cac70=''+(0x0,F[_0x55b86a(0x1e5)])(this[_0x55b86a(0x3c4)],_0x165782+'.mp3');if(j[_0x55b86a(0x570)](_0x3cac70))return this['logger'][_0x55b86a(0x1fa)](_0x55b86a(0x666)),F['default']['basename'](_0x3cac70);let _0x9e12e6=''+(0x0,F[_0x55b86a(0x1e5)])(this[_0x55b86a(0x3c4)],'temp-'+_0x165782+_0x55b86a(0x865));if((0x0,P['isURL'])(_0x4bb88f)){let _0x40245b=new Date()[_0x55b86a(0x65c)](),_0x56a87d=_0x4bb88f+_0x55b86a(0x391)+_0x40245b,_0x424301=await K[_0x55b86a(0x66b)][_0x55b86a(0x1ef)](_0x56a87d,{'responseType':_0x55b86a(0x275)});j['writeFileSync'](_0x9e12e6,_0x424301['data']);}else{let _0x594a5d=Buffer[_0x55b86a(0x4ed)](_0x4bb88f,_0x55b86a(0x385));j[_0x55b86a(0x23d)](_0x9e12e6,_0x594a5d);}return new Promise((_0xdd849b,_0x4f1274)=>{const _0x1ab5cc=_0x55b86a;(0x0,$e[_0x1ab5cc(0x894)])(Os[_0x1ab5cc(0x66b)][_0x1ab5cc(0x6a1)]+_0x1ab5cc(0x4be)+_0x9e12e6+_0x1ab5cc(0x3c1)+_0x3cac70+'\x20-y',_0x41fe74=>{const _0x1297ad=_0x1ab5cc;if(j['unlinkSync'](_0x9e12e6),_0x41fe74){this[_0x1297ad(0x3ff)][_0x1297ad(0x1fa)](_0x1297ad(0x37b)),_0x4f1274(_0x41fe74);return;}this['logger'][_0x1297ad(0x1fa)](_0x1297ad(0x73f)),_0xdd849b(F[_0x1297ad(0x66b)]['basename'](_0x3cac70));});});}async['buttonMessage'](_0x27a15f){const _0x28f4cb=a0_0x55f44d;let _0x23ceef={},_0x543ef0=_0x28f4cb(0x846);if(_0x27a15f['buttonMessage']?.[_0x28f4cb(0x763)]){_0x543ef0=_0x27a15f['buttonMessage'][_0x28f4cb(0x763)]?.['mediatype'][_0x28f4cb(0x8b1)]()??_0x28f4cb(0x846),_0x23ceef[_0x28f4cb(0x64a)]=_0x543ef0[_0x28f4cb(0x713)]()+_0x28f4cb(0x5b7);let _0x3795cf=await this['prepareMediaMessage'](_0x27a15f[_0x28f4cb(0x34f)][_0x28f4cb(0x763)]);_0x23ceef['message']=_0x3795cf[_0x28f4cb(0x57a)][_0x23ceef[_0x28f4cb(0x64a)]],_0x23ceef[_0x28f4cb(0x853)]='*'+_0x27a15f[_0x28f4cb(0x34f)]['title']+_0x28f4cb(0x6ec)+_0x27a15f[_0x28f4cb(0x34f)][_0x28f4cb(0x743)];}let _0x25f1e1={'text':_0x27a15f['buttonMessage'][_0x28f4cb(0x510)]['map'](_0x8bdcab=>_0x8bdcab['buttonText']),'ids':_0x27a15f['buttonMessage']['buttons'][_0x28f4cb(0x2b0)](_0x3e86a5=>_0x3e86a5['buttonId'])};if(!(0x0,P[_0x28f4cb(0x27d)])(_0x25f1e1['text'])||!(0x0,P[_0x28f4cb(0x27d)])(_0x25f1e1['ids']))throw new m('Button\x20texts\x20cannot\x20be\x20repeated',_0x28f4cb(0x547));return await this[_0x28f4cb(0x6c2)](_0x27a15f[_0x28f4cb(0x61e)],{'buttonsMessage':{'text':_0x23ceef?.[_0x28f4cb(0x64a)]?void 0x0:_0x27a15f[_0x28f4cb(0x34f)][_0x28f4cb(0x895)],'contentText':_0x23ceef?.[_0x28f4cb(0x853)]??_0x27a15f[_0x28f4cb(0x34f)][_0x28f4cb(0x743)],'footerText':_0x27a15f['buttonMessage']?.[_0x28f4cb(0x232)],'buttons':_0x27a15f[_0x28f4cb(0x34f)]['buttons'][_0x28f4cb(0x2b0)](_0x567f09=>({'buttonText':{'displayText':_0x567f09[_0x28f4cb(0x209)]},'buttonId':_0x567f09['buttonId'],'type':0x1})),'headerType':f[_0x28f4cb(0x390)][_0x28f4cb(0x5b7)][_0x28f4cb(0x293)]['HeaderType'][_0x543ef0],[_0x23ceef?.[_0x28f4cb(0x64a)]]:_0x23ceef?.[_0x28f4cb(0x57a)]}},_0x27a15f?.[_0x28f4cb(0x3e3)]);}async[a0_0x55f44d(0x244)](_0x346865){const _0x1dec39=a0_0x55f44d;return await this['sendMessageWithTyping'](_0x346865[_0x1dec39(0x61e)],{'locationMessage':{'degreesLatitude':_0x346865['locationMessage'][_0x1dec39(0x40c)],'degreesLongitude':_0x346865['locationMessage'][_0x1dec39(0x89e)],'name':_0x346865[_0x1dec39(0x244)]?.[_0x1dec39(0x754)],'address':_0x346865['locationMessage']?.['address']}},_0x346865?.['options']);}async[a0_0x55f44d(0x881)](_0x942191){const _0x460745=a0_0x55f44d;let _0x5deb92={},_0xc6b718=async _0x50ba26=>{const _0x4bd7f7=a0_0x1182;let _0xcd3117=_0x4bd7f7(0x775)+_0x50ba26[_0x4bd7f7(0x218)]+_0x4bd7f7(0x678)+_0x50ba26[_0x4bd7f7(0x218)]+'\x0a';_0x50ba26[_0x4bd7f7(0x1e9)]&&(_0xcd3117+='ORG:'+_0x50ba26['organization']+';\x0a'),_0x50ba26[_0x4bd7f7(0x631)]&&(_0xcd3117+=_0x4bd7f7(0x39f)+_0x50ba26['email']+'\x0a'),_0x50ba26[_0x4bd7f7(0x68f)]&&(_0xcd3117+=_0x4bd7f7(0x26f)+_0x50ba26['url']+'\x0a');let _0x189546='',_0x6366a6=0x1;if(_0x50ba26[_0x4bd7f7(0x7d1)]){let _0x4becc7=_0x50ba26[_0x4bd7f7(0x7d1)][_0x4bd7f7(0x44b)]('|');for(let _0x486fc5 of _0x4becc7){let _0x2cc1a0=await this['whatsappNumber']({'numbers':[_0x486fc5]}),_0x33690d=(_0x2cc1a0[_0x4bd7f7(0x2af)]>0x0?_0x2cc1a0[0x0][_0x4bd7f7(0x38d)]:this[_0x4bd7f7(0x615)](_0x486fc5))[_0x4bd7f7(0x8b0)](_0x4bd7f7(0x704),'');_0x189546+=_0x4bd7f7(0x4bb)+_0x6366a6+_0x4bd7f7(0x841)+_0x33690d+':'+_0x486fc5+_0x4bd7f7(0x34b)+_0x6366a6+_0x4bd7f7(0x277),_0x6366a6++;}}return _0xcd3117+=_0x189546+_0x4bd7f7(0x65d),_0xcd3117;};return _0x942191['contactMessage'][_0x460745(0x2af)]===0x1?_0x5deb92[_0x460745(0x881)]={'displayName':_0x942191[_0x460745(0x881)][0x0]['fullName'],'vcard':await _0xc6b718(_0x942191['contactMessage'][0x0])}:_0x5deb92[_0x460745(0x4fc)]={'displayName':_0x942191['contactMessage'][_0x460745(0x2af)]+_0x460745(0x442),'contacts':await Promise['all'](_0x942191[_0x460745(0x881)][_0x460745(0x2b0)](async _0x53db0a=>({'displayName':_0x53db0a[_0x460745(0x218)],'vcard':await _0xc6b718(_0x53db0a)})))},await this['sendMessageWithTyping'](_0x942191[_0x460745(0x61e)],{..._0x5deb92},_0x942191?.[_0x460745(0x3e3)]);}async[a0_0x55f44d(0x490)](_0x3796b4){const _0x4fbea2=a0_0x55f44d;return await this[_0x4fbea2(0x6c2)](_0x3796b4['reactionMessage']['key'][_0x4fbea2(0x2a0)],{'reactionMessage':{'key':_0x3796b4['reactionMessage']['key'],'text':_0x3796b4[_0x4fbea2(0x490)][_0x4fbea2(0x2e0)]}});}async['whatsappNumber'](_0x25ca9a){const _0x39d648=a0_0x55f44d;let _0x116b91=[];for await(let _0x1a2dc3 of _0x25ca9a['numbers']){let _0xbba0fd=this['createJid'](_0x1a2dc3),_0x5e5cd6=!0x1;try{if((0x0,f[_0x39d648(0x479)])(_0xbba0fd)){let _0x3f200a=(await this[_0x39d648(0x82b)][_0x39d648(0x504)][_0x39d648(0x720)]({'where':{'_id':_0xbba0fd}},this[_0x39d648(0x6bd)][_0x39d648(0x6f5)]))['groupdata'];_0x5e5cd6=!!_0x3f200a?.['id']&&!!_0x3f200a?.[_0x39d648(0x3c3)],_0x116b91[_0x39d648(0x3d5)](new ye(_0x3f200a['id'],_0x5e5cd6,_0x3f200a?.['subject']));}else{let _0x3192ee=(await this[_0x39d648(0x757)][_0x39d648(0x7b3)](_0xbba0fd))[0x0];_0x5e5cd6=_0x3192ee[_0x39d648(0x270)],_0x116b91['push'](new ye(_0x3192ee['jid'],_0x5e5cd6));}}catch{(0x0,f[_0x39d648(0x479)])(_0xbba0fd)||await this[_0x39d648(0x6d7)](_0xbba0fd,_0x5e5cd6),_0x116b91['push'](new ye(_0x1a2dc3,!0x1));}}return _0x116b91;}async['deleteImportedChat'](_0x1aaa02,_0x42815a){const _0x53134f=a0_0x55f44d;try{await this[_0x53134f(0x82b)][_0x53134f(0x504)][_0x53134f(0x720)]({'where':{'_id':_0x1aaa02,'imported':!0x0}},this[_0x53134f(0x6bd)][_0x53134f(0x6f5)])&&(_0x42815a||(await this[_0x53134f(0x82b)][_0x53134f(0x504)][_0x53134f(0x34c)](_0x1aaa02,this[_0x53134f(0x6bd)]['wuid']),this[_0x53134f(0x3ff)]['info'](_0x53134f(0x44c)+_0x1aaa02+_0x53134f(0x30c))));}catch(_0x40daee){let _0x43212c='Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat',_0x15f815=_0x40daee instanceof Error?_0x40daee['message']:typeof _0x40daee=='object'?JSON[_0x53134f(0x319)](_0x40daee):_0x40daee,_0x5c4dd7=_0x43212c+':\x20'+_0x15f815;this[_0x53134f(0x3ff)]['error'](this[_0x53134f(0x3b5)]+'\x20('+this[_0x53134f(0x6bd)][_0x53134f(0x6f5)]+_0x53134f(0x6bc)+_0x5c4dd7);}}async[a0_0x55f44d(0x3bd)](_0x489818){const _0x297f2f=a0_0x55f44d;try{let _0x3bae15=_0x489818[_0x297f2f(0x63f)][_0x297f2f(0x804)](_0x4cd79f=>(0x0,f[_0x297f2f(0x479)])(_0x4cd79f[_0x297f2f(0x2a0)])||(0x0,f[_0x297f2f(0x4a0)])(_0x4cd79f[_0x297f2f(0x2a0)]))[_0x297f2f(0x2b0)](_0x5ad732=>({'remoteJid':_0x5ad732[_0x297f2f(0x2a0)],'fromMe':_0x5ad732[_0x297f2f(0x7cf)],'id':_0x5ad732['id']}));await this[_0x297f2f(0x757)]['readMessages'](_0x3bae15);let _0x16fe43=_0x3bae15[_0x297f2f(0x2b0)](_0x405a99=>this[_0x297f2f(0x30b)](_0x405a99,{'status':_0x297f2f(0x5db),'owner':this[_0x297f2f(0x6bd)][_0x297f2f(0x6f5)]})),_0x3500c3=_0x3bae15[_0x297f2f(0x2b0)](_0xa3c7ca=>this['repository'][_0x297f2f(0x504)][_0x297f2f(0x540)]({'where':{'_id':_0xa3c7ca[_0x297f2f(0x2a0)]}},{'unreadcount':0x0},this['instance'][_0x297f2f(0x6f5)])),[_0x48c03f,_0x13cb74]=await Promise[_0x297f2f(0x7ee)]([Promise[_0x297f2f(0x7ee)](_0x16fe43),Promise['all'](_0x3500c3)]);return _0x13cb74[_0x297f2f(0x804)](_0x31f835=>_0x31f835!==null)[_0x297f2f(0x27f)](_0x59e734=>{const _0xd3ed5f=_0x297f2f;U(this[_0xd3ed5f(0x3b5)],'chats',{'chat':_0x59e734});}),{'message':'Read\x20messages','read':'success'};}catch(_0x14c4f4){let _0xabfa37='Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida',_0x1f8e4a=_0x14c4f4 instanceof Error?_0x14c4f4[_0x297f2f(0x57a)]:typeof _0x14c4f4==_0x297f2f(0x2bd)?JSON[_0x297f2f(0x319)](_0x14c4f4):_0x14c4f4,_0x333e8c=_0xabfa37+':\x20'+_0x1f8e4a;throw this['logger'][_0x297f2f(0x752)](this['instanceName']+'\x20('+this[_0x297f2f(0x6bd)]['wuid']+_0x297f2f(0x6bc)+_0x333e8c),new I(_0x333e8c);}}async[a0_0x55f44d(0x6e1)](_0x4e4bc4){const _0xc97655=a0_0x55f44d;let _0x44fcf2={'where':{'key':{'remoteJid':_0x4e4bc4}},'limit':0x1},_0x50b996=await this[_0xc97655(0x67f)](_0x44fcf2);return _0x50b996||(console[_0xc97655(0x752)]('Last\x20message\x20not\x20found\x20for\x20number:',_0x4e4bc4),null);}async[a0_0x55f44d(0x467)](_0x4c4396){const _0x4db27c=a0_0x55f44d;this[_0x4db27c(0x3ff)][_0x4db27c(0x1fa)]('Archiving\x20chat');try{let _0x3066ac=_0x4c4396[_0x4db27c(0x823)],_0xe1a0c7=_0x4c4396[_0x4db27c(0x504)];if(!_0x3066ac&&_0xe1a0c7?_0x3066ac=await this['getLastMessage'](_0xe1a0c7):(_0x3066ac=_0x4c4396[_0x4db27c(0x823)],_0x3066ac[_0x4db27c(0x291)]=_0x3066ac?.[_0x4db27c(0x291)]??Date[_0x4db27c(0x692)](),_0xe1a0c7=_0x3066ac?.[_0x4db27c(0x42e)]?.[_0x4db27c(0x2a0)]),!_0x3066ac||Object[_0x4db27c(0x3cf)](_0x3066ac)[_0x4db27c(0x2af)]===0x0)throw new J(_0x4db27c(0x7ef));this[_0x4db27c(0x3ff)][_0x4db27c(0x1fa)](_0x4db27c(0x1e4)+_0xe1a0c7);try{await this['client'][_0x4db27c(0x406)]({'archive':_0x4c4396[_0x4db27c(0x5fa)],'lastMessages':[_0x3066ac]},this[_0x4db27c(0x615)](_0xe1a0c7));}catch(_0xc40d01){let _0x84b213=_0x4db27c(0x88b)+_0xe1a0c7,_0x39e55d=_0xc40d01 instanceof Error?_0xc40d01[_0x4db27c(0x57a)]:typeof _0xc40d01=='object'?JSON['stringify'](_0xc40d01):_0xc40d01,_0xc790d0=_0x84b213+':\x20'+_0x39e55d;this[_0x4db27c(0x3ff)][_0x4db27c(0x752)](this['instanceName']+'\x20('+this['instance'][_0x4db27c(0x6f5)]+'):\x20'+_0xc790d0);}this[_0x4db27c(0x3ff)][_0x4db27c(0x1fa)](_0x4db27c(0x28d)+_0xe1a0c7);let _0x4fbd13=await this['repository'][_0x4db27c(0x504)]['updateOne']({'where':{'_id':_0x3066ac?.[_0x4db27c(0x42e)]?.[_0x4db27c(0x2a0)]}},{'archived':_0x4c4396['archive']},this['instance'][_0x4db27c(0x6f5)]);return _0x4fbd13?(this[_0x4db27c(0x3ff)][_0x4db27c(0x1fa)]('Notifying\x20clients\x20for\x20chat:\x20'+JSON[_0x4db27c(0x319)](_0x4fbd13)),U(this[_0x4db27c(0x3b5)],_0x4db27c(0x7df),{'chat':_0x4fbd13})):this[_0x4db27c(0x3ff)]['error']('Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0xe1a0c7),{'chatId':_0xe1a0c7,'archived':_0x4c4396[_0x4db27c(0x5fa)]};}catch(_0x4ff7d6){let _0x1767df='Erro\x20ao\x20arquivar\x20chat',_0x4a6b72=_0x4ff7d6 instanceof Error?_0x4ff7d6[_0x4db27c(0x57a)]:typeof _0x4ff7d6=='object'?JSON[_0x4db27c(0x319)](_0x4ff7d6):_0x4ff7d6,_0x5b054a=_0x1767df+':\x20'+_0x4a6b72;throw this[_0x4db27c(0x3ff)][_0x4db27c(0x752)](this[_0x4db27c(0x3b5)]+'\x20('+this[_0x4db27c(0x6bd)]['wuid']+_0x4db27c(0x6bc)+_0x5b054a),new I(_0x5b054a);}}async['deleteChat'](_0x38e02c){const _0x174f3d=a0_0x55f44d;this[_0x174f3d(0x3ff)][_0x174f3d(0x1fa)](_0x174f3d(0x784));try{let _0x2e5f5b=await this['getLastMessage'](_0x38e02c);if(!_0x2e5f5b||Object['keys'](_0x2e5f5b)[_0x174f3d(0x2af)]===0x0)throw new J('Last\x20message\x20not\x20found');let _0x151688=_0x2e5f5b[0x0];this[_0x174f3d(0x3ff)][_0x174f3d(0x1fa)]('Delete\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x38e02c);try{await this['client'][_0x174f3d(0x406)]({'delete':!0x0,'lastMessages':[{'key':_0x151688[_0x174f3d(0x42e)],'messageTimestamp':_0x151688[_0x174f3d(0x291)]}]},this['createJid'](_0x38e02c));}catch(_0x5f5819){this[_0x174f3d(0x3ff)][_0x174f3d(0x752)]('Error\x20in\x20chatModify\x20for\x20number\x20'+_0x38e02c+':\x20'+_0x5f5819['toString']());}this[_0x174f3d(0x3ff)][_0x174f3d(0x1fa)](_0x174f3d(0x28d)+_0x38e02c);return;}catch(_0x11d5c5){throw this[_0x174f3d(0x3ff)][_0x174f3d(0x752)]('Error\x20occurred\x20while\x20archiving\x20chat:\x20'+_0x11d5c5['toString']()),new I({'archived':!0x1,'message':[_0x174f3d(0x449),_0x11d5c5[_0x174f3d(0x6d8)]()]});}}async[a0_0x55f44d(0x7b1)](_0xb17d99){const _0x686699=a0_0x55f44d;try{let _0x5c29aa=await this[_0x686699(0x757)][_0x686699(0x4ab)](_0xb17d99[_0x686699(0x2a0)],{'delete':_0xb17d99});try{let _0x4c02e3=await this[_0x686699(0x30b)](_0xb17d99,{'status':_0x686699(0x5b8),'owner':this[_0x686699(0x6bd)][_0x686699(0x6f5)]});this['logger'][_0x686699(0x1fa)](this['instanceName']+'\x20('+this[_0x686699(0x6bd)][_0x686699(0x6f5)]+_0x686699(0x74e)+_0x4c02e3);}catch(_0x283be2){console[_0x686699(0x752)](_0x686699(0x4f4),_0x283be2);}return _0x5c29aa;}catch(_0x3a8986){throw new I('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x3a8986?.[_0x686699(0x6d8)]());}}async[a0_0x55f44d(0x8a4)](_0x10333f){const _0x49284a=a0_0x55f44d;try{let _0x3205d2=_0x10333f?.[_0x49284a(0x57a)]?_0x10333f:await this['getMessage'](_0x10333f[_0x49284a(0x42e)],!0x0);for(let _0x12bbdd of ya)_0x3205d2['message'][_0x12bbdd]&&(_0x3205d2['message']=_0x3205d2[_0x49284a(0x57a)][_0x12bbdd][_0x49284a(0x57a)]);let _0x519fd6,_0x26fc0e;for(let _0x5481a1 of wa)if(_0x519fd6=_0x3205d2[_0x49284a(0x57a)][_0x5481a1],_0x519fd6){_0x26fc0e=_0x5481a1;break;}if(!_0x519fd6)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x519fd6['mediaKey']==_0x49284a(0x2bd)&&(_0x3205d2['message']=JSON[_0x49284a(0x52e)](JSON[_0x49284a(0x319)](_0x3205d2[_0x49284a(0x57a)])));let _0x58cf32=await(0x0,f[_0x49284a(0x5ca)])({'key':_0x3205d2?.[_0x49284a(0x42e)],'message':_0x3205d2?.[_0x49284a(0x57a)]},_0x49284a(0x86e),{},{'logger':(0x0,Pt[_0x49284a(0x66b)])({'level':_0x49284a(0x482)}),'reuploadRequest':this[_0x49284a(0x757)][_0x49284a(0x626)]});if(!(_0x58cf32 instanceof Buffer))throw new Error(_0x49284a(0x3d9));let _0x3d2116=this[_0x49284a(0x473)][_0x49284a(0x1ef)](_0x49284a(0x674)),_0x3a523b,_0x5328c8;if(_0x519fd6[_0x49284a(0x3d4)])_0x3a523b=_0x519fd6[_0x49284a(0x3d4)];else{let _0xd3a400=_0x519fd6[_0x49284a(0x535)]?.[_0x49284a(0x7a4)](/\/(\w+)/),_0x1ec4a8=_0xd3a400?_0xd3a400[0x1]:null;if(!_0x1ec4a8)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0x3a523b=(0x0,jt['v4'])()+'.'+_0x1ec4a8;}_0x26fc0e===_0x49284a(0x5eb)?_0x5328c8=_0x49284a(0x8aa)+await this[_0x49284a(0x468)](_0x58cf32[_0x49284a(0x6d8)](_0x49284a(0x385))):(await this[_0x49284a(0x457)](_0x58cf32,_0x3a523b),_0x5328c8=_0x49284a(0x8aa)+_0x3a523b);let _0x46cc04=this['configService'][_0x49284a(0x1ef)](_0x49284a(0x7c6))[_0x49284a(0x1f0)];if(!_0x46cc04){let _0xa601d2=this[_0x49284a(0x473)][_0x49284a(0x1ef)](_0x49284a(0x321));_0x46cc04=_0x49284a(0x3b6)+(_0xa601d2&&_0xa601d2[_0x49284a(0x3af)][_0x49284a(0x44b)]('/')[0x4]);}_0x5328c8=''+_0x46cc04+_0x5328c8;let _0x21b6fc=0xc*0x3c*0x3c*0x3e8,_0x3d018f={'where':{'_id':_0x3205d2[_0x49284a(0x42e)]['id']}},_0x31e46f={'message_normalized.fileUrl':_0x5328c8,'message_normalized.expires_fileUrl':Date[_0x49284a(0x692)]()+_0x21b6fc};try{let _0x248bf3=await this[_0x49284a(0x82b)]['message'][_0x49284a(0x604)](_0x3d018f,_0x31e46f,this[_0x49284a(0x6bd)]['wuid']);_0x248bf3&&U(this[_0x49284a(0x3b5)],'messages',{'message':_0x248bf3});}catch(_0x5d02f9){let _0x551498=_0x49284a(0x411),_0x5577ec=_0x5d02f9 instanceof Error?_0x5d02f9[_0x49284a(0x57a)]:typeof _0x5d02f9==_0x49284a(0x2bd)?JSON['stringify'](_0x5d02f9):_0x5d02f9,_0xd764a8=_0x551498+':\x20'+_0x5577ec;this[_0x49284a(0x3ff)][_0x49284a(0x752)](this[_0x49284a(0x3b5)]+'\x20('+this[_0x49284a(0x6bd)][_0x49284a(0x6f5)]+_0x49284a(0x6bc)+_0xd764a8);}return{'mediaType':_0x26fc0e,'fileName':_0x519fd6['fileName'],'caption':_0x519fd6[_0x49284a(0x32a)],'size':{'fileLength':_0x519fd6['fileLength'],'height':_0x519fd6['height'],'width':_0x519fd6[_0x49284a(0x656)]},'mimetype':_0x519fd6['mimetype'],'base64':_0x58cf32[_0x49284a(0x6d8)](_0x49284a(0x385)),'fileUrl':_0x5328c8,'expires_fileUrl':Date[_0x49284a(0x692)]()+_0x21b6fc};}catch(_0x5cdf81){let _0x49c28b=_0x49284a(0x7d7),_0x4570b5=_0x5cdf81 instanceof Error?_0x5cdf81[_0x49284a(0x57a)]:typeof _0x5cdf81==_0x49284a(0x2bd)?JSON[_0x49284a(0x319)](_0x5cdf81):_0x5cdf81,_0x570b10=_0x49c28b+':\x20'+_0x4570b5;throw this[_0x49284a(0x3ff)][_0x49284a(0x752)](this[_0x49284a(0x3b5)]+'\x20('+this[_0x49284a(0x6bd)][_0x49284a(0x6f5)]+_0x49284a(0x6bc)+_0x570b10),new m(_0x570b10);}}async[a0_0x55f44d(0x457)](_0x398e3c,_0xbd0c69){const _0x589650=a0_0x55f44d;let _0x3f93df=F[_0x589650(0x66b)][_0x589650(0x1e5)](__dirname,_0x589650(0x286));j[_0x589650(0x570)](_0x3f93df)||j['mkdirSync'](_0x3f93df,{'recursive':!0x0});let _0x2e0459=F['default'][_0x589650(0x1e5)](_0x3f93df,_0xbd0c69);return new Promise((_0x56e8fe,_0x2333b1)=>{j['writeFile'](_0x2e0459,_0x398e3c,_0x1de9b3=>{const _0x533aa0=a0_0x1182;_0x1de9b3?(this[_0x533aa0(0x3ff)][_0x533aa0(0x752)]('Error\x20writing\x20file:\x20'+(_0x1de9b3 instanceof Error?_0x1de9b3[_0x533aa0(0x57a)]:JSON['stringify'](_0x1de9b3,null,0x2))),_0x2333b1(_0x1de9b3)):(this[_0x533aa0(0x3ff)]['log'](_0x533aa0(0x81d)+_0x2e0459),_0x56e8fe(_0x2e0459));});});}async[a0_0x55f44d(0x5d8)](_0x26f350){const _0x48d719=a0_0x55f44d;return await this[_0x48d719(0x82b)][_0x48d719(0x446)][_0x48d719(0x408)](_0x26f350,this['instance']['wuid']);}async['fetchLabels'](){const _0x52d57a=a0_0x55f44d;return await this['repository'][_0x52d57a(0x521)]['find']({'where':{}},this[_0x52d57a(0x6bd)][_0x52d57a(0x6f5)]);}async['fetchMessages'](_0x35009b){const _0x82ef69=a0_0x55f44d;return await this['repository'][_0x82ef69(0x57a)][_0x82ef69(0x408)](_0x35009b,this[_0x82ef69(0x6bd)]['wuid']);}async[a0_0x55f44d(0x2ec)](){const _0x49e3e4=a0_0x55f44d;return this[_0x49e3e4(0x82b)][_0x49e3e4(0x504)][_0x49e3e4(0x822)](this[_0x49e3e4(0x6bd)][_0x49e3e4(0x6f5)]),this['repository']['chat'][_0x49e3e4(0x3de)](this[_0x49e3e4(0x6bd)][_0x49e3e4(0x6f5)]),this[_0x49e3e4(0x82b)]['chat']['updateMissingTags'](this[_0x49e3e4(0x6bd)][_0x49e3e4(0x6f5)]),this['repository'][_0x49e3e4(0x504)][_0x49e3e4(0x455)](this['instance']['wuid']),await this[_0x49e3e4(0x82b)]['chat'][_0x49e3e4(0x408)]({'where':{}},this[_0x49e3e4(0x6bd)]['wuid']);}async[a0_0x55f44d(0x870)](_0x467dd3){const _0x2e2ad4=a0_0x55f44d;try{if(!Array[_0x2e2ad4(0x629)](_0x467dd3)||_0x467dd3[_0x2e2ad4(0x2af)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x4a5bc3=[],_0x539967=[];for(let _0x20495e of _0x467dd3){if(_0x20495e['_id'])_0x20495e[_0x2e2ad4(0x20e)]=this['createJid'](_0x20495e['_id']);else continue;await this[_0x2e2ad4(0x82b)][_0x2e2ad4(0x504)][_0x2e2ad4(0x720)]({'where':{'_id':_0x20495e['_id']}},this['instance']['wuid'])?_0x539967[_0x2e2ad4(0x3d5)]({'_id':_0x20495e[_0x2e2ad4(0x20e)],'leadInfo':_0x20495e[_0x2e2ad4(0x653)],'owner':this[_0x2e2ad4(0x6bd)][_0x2e2ad4(0x6f5)]}):_0x4a5bc3['push']({'_id':_0x20495e[_0x2e2ad4(0x20e)],'owner':this[_0x2e2ad4(0x6bd)]['wuid'],'leadInfo':_0x20495e[_0x2e2ad4(0x653)],'imported':!0x0});}return _0x539967['length']>0x0&&await this['repository'][_0x2e2ad4(0x504)]['updateMany'](_0x539967[_0x2e2ad4(0x2b0)](_0x13a55d=>({'query':{'where':{'_id':_0x13a55d[_0x2e2ad4(0x20e)],'owner':this['instance'][_0x2e2ad4(0x6f5)]}},'update':_0x13a55d}))),_0x4a5bc3[_0x2e2ad4(0x2af)]>0x0&&await this[_0x2e2ad4(0x82b)][_0x2e2ad4(0x504)]['insertMany'](_0x4a5bc3,this[_0x2e2ad4(0x6bd)]['wuid']),{'updated':_0x539967[_0x2e2ad4(0x2af)],'inserted':_0x4a5bc3[_0x2e2ad4(0x2af)]};}catch(_0x4cc4f8){let _0xb2919d=_0x2e2ad4(0x3eb),_0x8ccfd6=_0x4cc4f8 instanceof Error?_0x4cc4f8[_0x2e2ad4(0x57a)]:typeof _0x4cc4f8==_0x2e2ad4(0x2bd)?JSON[_0x2e2ad4(0x319)](_0x4cc4f8):_0x4cc4f8,_0x14558b=_0xb2919d+':\x20'+_0x8ccfd6;throw this[_0x2e2ad4(0x3ff)]['error'](this[_0x2e2ad4(0x3b5)]+'\x20('+this['instance'][_0x2e2ad4(0x6f5)]+_0x2e2ad4(0x6bc)+_0x14558b),new m(_0x14558b);}}async[a0_0x55f44d(0x647)](_0x22ed77){const _0x197491=a0_0x55f44d;try{if(!Array['isArray'](_0x22ed77)||_0x22ed77[_0x197491(0x2af)]===0x0)throw new Error(_0x197491(0x2c7));let _0x27acec=0x64,_0x317b91=0x0;for(let _0x31be48=0x0;_0x31be48<_0x22ed77[_0x197491(0x2af)];_0x31be48+=_0x27acec){let _0x42a950=_0x22ed77[_0x197491(0x242)](_0x31be48,_0x31be48+_0x27acec),{updated:_0x1f8446}=await this[_0x197491(0x261)](_0x42a950);_0x317b91+=_0x1f8446;}return{'updated':_0x317b91};}catch(_0x1a711f){let _0x57ff4b=_0x197491(0x3eb),_0x3020ac=_0x1a711f instanceof Error?_0x1a711f[_0x197491(0x57a)]:typeof _0x1a711f=='object'?JSON[_0x197491(0x319)](_0x1a711f):_0x1a711f,_0x68b063=_0x57ff4b+':\x20'+_0x3020ac;throw this[_0x197491(0x3ff)][_0x197491(0x752)](this['instanceName']+'\x20('+this[_0x197491(0x6bd)][_0x197491(0x6f5)]+'):\x20'+_0x68b063),new m(_0x68b063);}}async[a0_0x55f44d(0x261)](_0x3b1e09){const _0x4bfa61=a0_0x55f44d;try{let _0x59d968=await this['repository'][_0x4bfa61(0x521)][_0x4bfa61(0x408)]({'where':{}},this[_0x4bfa61(0x6bd)][_0x4bfa61(0x6f5)]),_0xd95d16=new Set(_0x59d968['map'](_0x4b6b41=>_0x4b6b41[_0x4bfa61(0x20e)])),_0x44615a=[],_0x51dd40=[];for(let _0x236d18 of _0x3b1e09){if(!_0x236d18['_id'])continue;_0x236d18[_0x4bfa61(0x20e)]=this[_0x4bfa61(0x615)](_0x236d18['_id']);let _0x41b9dd=await this[_0x4bfa61(0x82b)][_0x4bfa61(0x504)][_0x4bfa61(0x720)]({'where':{'_id':_0x236d18[_0x4bfa61(0x20e)]}},this[_0x4bfa61(0x6bd)][_0x4bfa61(0x6f5)]),_0x2f5943={};if(Object[_0x4bfa61(0x35c)](_0x236d18[_0x4bfa61(0x653)])[_0x4bfa61(0x27f)](([_0x37b257,_0x3adfa5])=>{const _0x5c22e8=_0x4bfa61;_0x2f5943[_0x5c22e8(0x819)+_0x37b257]=_0x3adfa5;}),_0x41b9dd&&!_0x41b9dd[_0x4bfa61(0x75c)]){let _0x2aeee6=(_0x236d18[_0x4bfa61(0x653)][_0x4bfa61(0x73e)]||[])['filter'](_0x5a473d=>_0xd95d16[_0x4bfa61(0x5ff)](_0x5a473d)),_0x271ddf=new Set(_0x41b9dd[_0x4bfa61(0x653)][_0x4bfa61(0x73e)]||[]),_0x5d3e2b=_0x2aeee6['filter'](_0x1b1567=>!_0x271ddf[_0x4bfa61(0x5ff)](_0x1b1567)),_0x125965=[..._0x271ddf][_0x4bfa61(0x804)](_0x4acc0c=>!_0x2aeee6[_0x4bfa61(0x52f)](_0x4acc0c));_0x51dd40[_0x4bfa61(0x3d5)](..._0x5d3e2b['map'](_0x76dc67=>this['AddChatLabel'](_0x76dc67,_0x236d18['_id']))),_0x51dd40[_0x4bfa61(0x3d5)](..._0x125965[_0x4bfa61(0x2b0)](_0x4f30dc=>this[_0x4bfa61(0x47f)](_0x4f30dc,_0x236d18[_0x4bfa61(0x20e)]))),_0x236d18[_0x4bfa61(0x653)]['etiquetas']=_0x2aeee6,_0x44615a[_0x4bfa61(0x3d5)]({'query':{'where':{'_id':_0x236d18[_0x4bfa61(0x20e)],'owner':this[_0x4bfa61(0x6bd)][_0x4bfa61(0x6f5)]}},'update':_0x2f5943});}else _0x2f5943[_0x4bfa61(0x75c)]=!0x0,_0x44615a[_0x4bfa61(0x3d5)]({'query':{'where':{'_id':_0x236d18[_0x4bfa61(0x20e)],'owner':this[_0x4bfa61(0x6bd)][_0x4bfa61(0x6f5)]}},'update':_0x2f5943});}let _0x318579=await this['repository'][_0x4bfa61(0x504)][_0x4bfa61(0x284)](_0x44615a);return await Promise[_0x4bfa61(0x7ee)](_0x51dd40),{'updated':_0x318579};}catch(_0x201366){let _0x1ac3a2=_0x4bfa61(0x3eb),_0x2f4748=_0x201366 instanceof Error?_0x201366['message']:typeof _0x201366==_0x4bfa61(0x2bd)?JSON['stringify'](_0x201366):_0x201366,_0x3322cc=_0x1ac3a2+':\x20'+_0x2f4748;throw this[_0x4bfa61(0x3ff)][_0x4bfa61(0x752)](this[_0x4bfa61(0x3b5)]+'\x20('+this[_0x4bfa61(0x6bd)][_0x4bfa61(0x6f5)]+_0x4bfa61(0x6bc)+_0x3322cc),new m(_0x3322cc);}}async[a0_0x55f44d(0x3fd)](){const _0x15d613=a0_0x55f44d;return await this[_0x15d613(0x757)]['fetchPrivacySettings']();}async['updatePrivacySettings'](_0x2edd0f){const _0x2c5b57=a0_0x55f44d;try{return await this[_0x2c5b57(0x757)][_0x2c5b57(0x72d)](_0x2edd0f['privacySettings'][_0x2c5b57(0x294)]),await this[_0x2c5b57(0x757)][_0x2c5b57(0x2d5)](_0x2edd0f[_0x2c5b57(0x6e4)]['profile']),await this[_0x2c5b57(0x757)][_0x2c5b57(0x271)](_0x2edd0f['privacySettings']['status']),await this[_0x2c5b57(0x757)][_0x2c5b57(0x428)](_0x2edd0f['privacySettings'][_0x2c5b57(0x6b9)]),await this[_0x2c5b57(0x757)]['updateLastSeenPrivacy'](_0x2edd0f[_0x2c5b57(0x6e4)][_0x2c5b57(0x5b0)]),await this['client'][_0x2c5b57(0x376)](_0x2edd0f[_0x2c5b57(0x6e4)]['groupadd']),this[_0x2c5b57(0x757)]?.['ws']?.[_0x2c5b57(0x4ae)](),{'update':_0x2c5b57(0x688),'data':{'readreceipts':_0x2edd0f['privacySettings']['readreceipts'],'profile':_0x2edd0f[_0x2c5b57(0x6e4)][_0x2c5b57(0x217)],'status':_0x2edd0f[_0x2c5b57(0x6e4)][_0x2c5b57(0x346)],'online':_0x2edd0f[_0x2c5b57(0x6e4)][_0x2c5b57(0x6b9)],'last':_0x2edd0f[_0x2c5b57(0x6e4)][_0x2c5b57(0x5b0)],'groupadd':_0x2edd0f[_0x2c5b57(0x6e4)][_0x2c5b57(0x21f)]}};}catch(_0x1ab3e6){let _0x18f202='Erro\x20ao\x20alterar\x20privacidade',_0x1d5d13=_0x1ab3e6 instanceof Error?_0x1ab3e6['message']:typeof _0x1ab3e6=='object'?JSON['stringify'](_0x1ab3e6):_0x1ab3e6,_0x38463b=_0x18f202+':\x20'+_0x1d5d13;throw this[_0x2c5b57(0x3ff)][_0x2c5b57(0x752)](this['instanceName']+'\x20('+this[_0x2c5b57(0x6bd)][_0x2c5b57(0x6f5)]+'):\x20'+_0x38463b),new m(_0x38463b);}}async[a0_0x55f44d(0x4e1)](_0x5c358a){const _0x4159dd=a0_0x55f44d;let _0x4c0240=(_0x5c358a?this[_0x4159dd(0x615)](_0x5c358a):this[_0x4159dd(0x757)]?.[_0x4159dd(0x733)]?.['id'])[_0x4159dd(0x8b0)](/:\d{1,2}@/g,'@');this[_0x4159dd(0x3ff)][_0x4159dd(0x1fa)](_0x4159dd(0x806)+_0x4c0240);let _0x4dd474=await this[_0x4159dd(0x82b)][_0x4159dd(0x446)][_0x4159dd(0x720)]({'where':{'_id':_0x4c0240}},this['instance'][_0x4159dd(0x6f5)]),_0x14b36e=_0x4dd474?_0x4dd474[_0x4159dd(0x507)]:null;try{let _0x5581a5=(await this[_0x4159dd(0x872)]({'numbers':[_0x4c0240]}))?.['shift'](),_0x4730a0=(await this['findAndUpdateCacheContact'](_0x4c0240,null,!0x1))['cachedContact'][_0x4159dd(0x5c6)],_0x3c1aae=await this[_0x4159dd(0x28a)](_0x5581a5?.[_0x4159dd(0x38d)]),_0x389076=await this['fetchBusinessProfile'](_0x5581a5?.['jid']),_0x28202c=(await this[_0x4159dd(0x52d)](_0x4c0240,null,!0x1))['cachedContact']['name'],_0x1bbc46=await this[_0x4159dd(0x82b)]['chat']['findOne']({'where':{'_id':_0x4c0240}},this[_0x4159dd(0x6bd)][_0x4159dd(0x6f5)]),_0x11c2f2={'imagechat':_0x4730a0,'contactname':_0x14b36e||null,'pushName':_0x28202c,'status':_0x3c1aae?.[_0x4159dd(0x346)],'isBusiness':_0x389076[_0x4159dd(0x7f5)],'email':_0x389076?.[_0x4159dd(0x631)],'description':_0x389076?.[_0x4159dd(0x743)],'website':_0x389076?.[_0x4159dd(0x569)]?.[_0x4159dd(0x829)](),'lastcache':Date[_0x4159dd(0x692)](),'imported':!_0x1bbc46},_0x56440d=await this[_0x4159dd(0x82b)]['chat'][_0x4159dd(0x540)]({'where':{'_id':_0x4c0240}},_0x11c2f2,this[_0x4159dd(0x6bd)][_0x4159dd(0x6f5)]),_0x106728={'owner':this[_0x4159dd(0x6bd)][_0x4159dd(0x6f5)],'_id':_0x4c0240,'profilePictureUrl':_0x4730a0,'status':_0x3c1aae?.['status']};return this['repository']['contact'][_0x4159dd(0x604)]([_0x106728],this[_0x4159dd(0x6bd)][_0x4159dd(0x6f5)]),_0x56440d&&U(this[_0x4159dd(0x3b5)],_0x4159dd(0x7df),{'chat':_0x56440d}),{'wuid':_0x5581a5?.[_0x4159dd(0x38d)]||_0x4c0240,'name':_0x5581a5?.[_0x4159dd(0x754)],'pushName':_0x28202c,'numberExists':_0x5581a5?.[_0x4159dd(0x270)],'picture':_0x4730a0,'status':_0x3c1aae?.[_0x4159dd(0x346)],'isBusiness':_0x389076[_0x4159dd(0x7f5)],'email':_0x389076?.[_0x4159dd(0x631)],'description':_0x389076?.[_0x4159dd(0x743)],'website':_0x389076?.[_0x4159dd(0x569)]?.['shift']()};}catch(_0x54a2d9){return this[_0x4159dd(0x3ff)][_0x4159dd(0x752)]('Error\x20fetching\x20and\x20updating\x20profile:\x20'+(_0x54a2d9 instanceof Error?_0x54a2d9[_0x4159dd(0x57a)]:JSON['stringify'](_0x54a2d9,null,0x2))),{};}}async[a0_0x55f44d(0x532)](_0x4462d5){const _0x331698=a0_0x55f44d;this['logger'][_0x331698(0x1fa)](_0x331698(0x721));try{let _0x260005=_0x4462d5?this['createJid'](_0x4462d5):this['instance'][_0x331698(0x6f5)],_0x277826=await this[_0x331698(0x757)][_0x331698(0x225)](_0x260005);return this['logger']['verbose']('Trying\x20to\x20get\x20business\x20profile'),_0x277826?(this[_0x331698(0x3ff)][_0x331698(0x1fa)](_0x331698(0x85f)),{'isBusiness':!0x0,..._0x277826}):{'isBusiness':!0x1,'message':_0x331698(0x2ba),...(await this['whatsappNumber']({'numbers':[_0x260005]}))?.['shift']()};}catch(_0x101fb4){let _0x78173e='Falha\x20ao\x20processar\x20fetchBusinessProfile',_0xe53aed=_0x101fb4 instanceof Error?_0x101fb4[_0x331698(0x57a)]:typeof _0x101fb4==_0x331698(0x2bd)?JSON['stringify'](_0x101fb4):_0x101fb4,_0x2079fb=_0x78173e+':\x20'+_0xe53aed;throw this[_0x331698(0x3ff)][_0x331698(0x752)](this[_0x331698(0x3b5)]+'\x20('+this[_0x331698(0x6bd)][_0x331698(0x6f5)]+_0x331698(0x6bc)+_0x2079fb),new I(_0x2079fb);}}async[a0_0x55f44d(0x28a)](_0x207848){const _0x324411=a0_0x55f44d;let _0x1fc42e=this[_0x324411(0x615)](_0x207848);try{return{'wuid':_0x1fc42e,'status':(await this[_0x324411(0x757)][_0x324411(0x282)](_0x1fc42e))?.['status']};}catch{return{'wuid':_0x1fc42e,'status':null};}}async[a0_0x55f44d(0x3f5)](_0x10a224){const _0x1f07ed=a0_0x55f44d;try{return await this[_0x1f07ed(0x757)]['updateProfileName'](_0x10a224),{'update':_0x1f07ed(0x688)};}catch(_0x206bad){let _0x581719=_0x1f07ed(0x79a),_0x54d6ad=_0x206bad instanceof Error?_0x206bad[_0x1f07ed(0x57a)]:typeof _0x206bad==_0x1f07ed(0x2bd)?JSON['stringify'](_0x206bad):_0x206bad,_0x29cdf5=_0x581719+':\x20'+_0x54d6ad;throw this['logger'][_0x1f07ed(0x752)](this[_0x1f07ed(0x3b5)]+'\x20('+this[_0x1f07ed(0x6bd)][_0x1f07ed(0x6f5)]+_0x1f07ed(0x6bc)+_0x29cdf5),new I(_0x29cdf5);}}async[a0_0x55f44d(0x5a1)](_0xb62039){const _0x272a65=a0_0x55f44d;try{return await this[_0x272a65(0x757)][_0x272a65(0x5a1)](_0xb62039),{'update':'success'};}catch(_0xdbb0a0){let _0x416fbd='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus',_0x5ea519=_0xdbb0a0 instanceof Error?_0xdbb0a0[_0x272a65(0x57a)]:typeof _0xdbb0a0=='object'?JSON[_0x272a65(0x319)](_0xdbb0a0):_0xdbb0a0,_0x2759e1=_0x416fbd+':\x20'+_0x5ea519;throw this[_0x272a65(0x3ff)]['error'](this[_0x272a65(0x3b5)]+'\x20('+this['instance'][_0x272a65(0x6f5)]+_0x272a65(0x6bc)+_0x2759e1),new I(_0x2759e1);}}async[a0_0x55f44d(0x216)](_0x283119){const _0x1341ee=a0_0x55f44d;try{let _0xc300f2;if((0x0,P[_0x1341ee(0x7d6)])(_0x283119)){let _0x249710=new Date()[_0x1341ee(0x65c)](),_0x15c5d2=_0x283119+_0x1341ee(0x391)+_0x249710;_0xc300f2=(await K[_0x1341ee(0x66b)][_0x1341ee(0x1ef)](_0x15c5d2,{'responseType':_0x1341ee(0x275)}))['data'];}else{if((0x0,P[_0x1341ee(0x711)])(_0x283119))_0xc300f2=Buffer['from'](_0x283119,_0x1341ee(0x385));else throw new m(_0x1341ee(0x782));}return await this[_0x1341ee(0x757)][_0x1341ee(0x216)](this[_0x1341ee(0x6bd)]['wuid'],_0xc300f2),{'update':_0x1341ee(0x688)};}catch(_0x24c75b){let _0x50b5f7=_0x1341ee(0x4ce),_0xdc499f=_0x24c75b instanceof Error?_0x24c75b[_0x1341ee(0x57a)]:typeof _0x24c75b==_0x1341ee(0x2bd)?JSON[_0x1341ee(0x319)](_0x24c75b):_0x24c75b,_0x45b622=_0x50b5f7+':\x20'+_0xdc499f;throw this[_0x1341ee(0x3ff)][_0x1341ee(0x752)](this[_0x1341ee(0x3b5)]+'\x20('+this[_0x1341ee(0x6bd)][_0x1341ee(0x6f5)]+_0x1341ee(0x6bc)+_0x45b622),new I(_0x45b622);}}async['removeProfilePicture'](){const _0x4be1ac=a0_0x55f44d;try{return await this[_0x4be1ac(0x757)][_0x4be1ac(0x71c)](this[_0x4be1ac(0x6bd)]['wuid']),{'update':_0x4be1ac(0x688)};}catch(_0x4aa707){let _0x3e5572=_0x4be1ac(0x38b),_0xd0fab2=_0x4aa707 instanceof Error?_0x4aa707[_0x4be1ac(0x57a)]:typeof _0x4aa707==_0x4be1ac(0x2bd)?JSON['stringify'](_0x4aa707):_0x4aa707,_0x5e1d8c=_0x3e5572+':\x20'+_0xd0fab2;throw this[_0x4be1ac(0x3ff)][_0x4be1ac(0x752)](this[_0x4be1ac(0x3b5)]+'\x20('+this['instance']['wuid']+_0x4be1ac(0x6bc)+_0x5e1d8c),new I(_0x5e1d8c);}}async['createGroup'](_0x4d3481){const _0x56487f=a0_0x55f44d;try{let _0x4bfe25=(await this[_0x56487f(0x872)]({'numbers':_0x4d3481[_0x56487f(0x489)]}))[_0x56487f(0x804)](_0x567ac2=>_0x567ac2['exists'])['map'](_0x15826f=>_0x15826f['jid']),{id:_0x91292f}=await this[_0x56487f(0x757)]['groupCreate'](_0x4d3481[_0x56487f(0x7c0)],_0x4bfe25);_0x4d3481?.[_0x56487f(0x743)]&&await this[_0x56487f(0x757)][_0x56487f(0x2e5)](_0x91292f,_0x4d3481['description']);let _0x272af4=await this['client'][_0x56487f(0x462)](_0x91292f);return _0x272af4['awaitingApproval']=[],{'metadata':_0x272af4};}catch(_0x39e413){let _0x3a08df=_0x56487f(0x392),_0x4c50ac=_0x39e413 instanceof Error?_0x39e413['message']:typeof _0x39e413==_0x56487f(0x2bd)?JSON['stringify'](_0x39e413):_0x39e413,_0x43b76f=_0x3a08df+':\x20'+_0x4c50ac;throw this[_0x56487f(0x3ff)][_0x56487f(0x752)](this[_0x56487f(0x3b5)]+'\x20('+this[_0x56487f(0x6bd)]['wuid']+_0x56487f(0x6bc)+_0x43b76f),new I(_0x43b76f);}}async[a0_0x55f44d(0x3a8)](_0x58ec59){const _0x43aae8=a0_0x55f44d;try{let _0x443d26;if((0x0,P[_0x43aae8(0x7d6)])(_0x58ec59[_0x43aae8(0x717)])){let _0x1c5bc4=new Date()['getTime'](),_0x115a02=_0x58ec59['image']+'?timestamp='+_0x1c5bc4;_0x443d26=(await K[_0x43aae8(0x66b)][_0x43aae8(0x1ef)](_0x115a02,{'responseType':_0x43aae8(0x275)}))[_0x43aae8(0x5e3)];}else{if((0x0,P['isBase64'])(_0x58ec59[_0x43aae8(0x717)]))_0x443d26=Buffer['from'](_0x58ec59[_0x43aae8(0x717)],_0x43aae8(0x385));else throw new m(_0x43aae8(0x782));}return await this[_0x43aae8(0x757)]['updateProfilePicture'](_0x58ec59['groupJid'],_0x443d26),{'update':_0x43aae8(0x688)};}catch(_0x4cc0b1){let _0x58ab57=_0x43aae8(0x664),_0x23c751=_0x4cc0b1 instanceof Error?_0x4cc0b1[_0x43aae8(0x57a)]:typeof _0x4cc0b1==_0x43aae8(0x2bd)?JSON[_0x43aae8(0x319)](_0x4cc0b1):_0x4cc0b1,_0x50b989=_0x58ab57+':\x20'+_0x23c751;throw this[_0x43aae8(0x3ff)][_0x43aae8(0x752)](this[_0x43aae8(0x3b5)]+'\x20('+this[_0x43aae8(0x6bd)]['wuid']+'):\x20'+_0x50b989),new I(_0x50b989);}}async[a0_0x55f44d(0x5ee)](_0x218a2d){const _0x310f8a=a0_0x55f44d;try{if(_0x218a2d[_0x310f8a(0x4e4)]===!0x0&&await this[_0x310f8a(0x757)][_0x310f8a(0x4ff)](_0x218a2d[_0x310f8a(0x73a)],_0x310f8a(0x31f)),_0x218a2d['restrict']===!0x1&&await this[_0x310f8a(0x757)][_0x310f8a(0x4ff)](_0x218a2d[_0x310f8a(0x73a)],'unlocked'),_0x218a2d['announce']===!0x0&&await this[_0x310f8a(0x757)][_0x310f8a(0x4ff)](_0x218a2d[_0x310f8a(0x73a)],_0x310f8a(0x6c4)),_0x218a2d[_0x310f8a(0x2df)]===!0x1&&await this[_0x310f8a(0x757)][_0x310f8a(0x4ff)](_0x218a2d[_0x310f8a(0x73a)],_0x310f8a(0x2f9)),_0x218a2d[_0x310f8a(0x695)]===!0x0&&await this['client'][_0x310f8a(0x72b)](_0x218a2d[_0x310f8a(0x73a)],'all_member_add'),_0x218a2d['memberAddMode']===!0x1&&await this['client'][_0x310f8a(0x72b)](_0x218a2d['groupJid'],_0x310f8a(0x4a7)),_0x218a2d[_0x310f8a(0x866)]===!0x0&&await this['client']['groupJoinApprovalMode'](_0x218a2d[_0x310f8a(0x73a)],'on'),_0x218a2d[_0x310f8a(0x866)]===!0x1&&await this[_0x310f8a(0x757)]['groupJoinApprovalMode'](_0x218a2d['groupJid'],_0x310f8a(0x45a)),typeof _0x218a2d[_0x310f8a(0x3d6)]<'u'&&_0x218a2d[_0x310f8a(0x3d6)]!==null&&await this['client'][_0x310f8a(0x5cb)](_0x218a2d[_0x310f8a(0x73a)],_0x218a2d[_0x310f8a(0x3d6)]),_0x218a2d[_0x310f8a(0x754)]&&await this[_0x310f8a(0x757)][_0x310f8a(0x588)](_0x218a2d[_0x310f8a(0x73a)],_0x218a2d[_0x310f8a(0x754)]),_0x218a2d[_0x310f8a(0x743)]&&await this['client'][_0x310f8a(0x2e5)](_0x218a2d[_0x310f8a(0x73a)],_0x218a2d[_0x310f8a(0x743)]),_0x218a2d[_0x310f8a(0x717)]){let _0x1ff552;if((0x0,P[_0x310f8a(0x7d6)])(_0x218a2d[_0x310f8a(0x717)])){let _0x4a1e96=new Date()['getTime'](),_0x368b64=_0x218a2d[_0x310f8a(0x717)]+_0x310f8a(0x391)+_0x4a1e96;_0x1ff552=(await K[_0x310f8a(0x66b)][_0x310f8a(0x1ef)](_0x368b64,{'responseType':_0x310f8a(0x275)}))['data'];}else{if((0x0,P[_0x310f8a(0x711)])(_0x218a2d[_0x310f8a(0x717)]))_0x1ff552=Buffer['from'](_0x218a2d[_0x310f8a(0x717)],_0x310f8a(0x385));else throw new m(_0x310f8a(0x782));}await this['client'][_0x310f8a(0x216)](_0x218a2d['groupJid'],_0x1ff552);}return await this[_0x310f8a(0x6e9)]({'groupJid':_0x218a2d[_0x310f8a(0x73a)]});}catch(_0x1303f6){let _0x3b022e=_0x310f8a(0x5ad),_0x231e0c=_0x1303f6 instanceof Error?_0x1303f6[_0x310f8a(0x57a)]:typeof _0x1303f6=='object'?JSON[_0x310f8a(0x319)](_0x1303f6):_0x1303f6,_0x3f378e=_0x3b022e+':\x20'+_0x231e0c;throw this[_0x310f8a(0x3ff)][_0x310f8a(0x752)](this[_0x310f8a(0x3b5)]+'\x20('+this[_0x310f8a(0x6bd)][_0x310f8a(0x6f5)]+'):\x20'+_0x3f378e),new I(_0x3f378e);}}async['updateGParticipant'](_0x339412){const _0x382e3f=a0_0x55f44d;try{if(_0x339412[_0x382e3f(0x325)]==='approve'||_0x339412[_0x382e3f(0x325)]===_0x382e3f(0x802)){let _0x4a8837=_0x339412[_0x382e3f(0x489)][_0x382e3f(0x2b0)](_0x3dfca7=>this[_0x382e3f(0x615)](_0x3dfca7));await this['client']['groupRequestParticipantsUpdate'](_0x339412['groupJid'],_0x4a8837,_0x339412['action']);}else{if(_0x339412['action']===_0x382e3f(0x53f)){let _0x5eb008=(await this[_0x382e3f(0x872)]({'numbers':_0x339412[_0x382e3f(0x489)]}))[_0x382e3f(0x804)](_0x5d4239=>_0x5d4239['exists'])['map'](_0x3d018e=>this['createJid'](_0x3d018e[_0x382e3f(0x38d)]));if(_0x5eb008[_0x382e3f(0x2af)]===0x0)throw new m(_0x382e3f(0x2a3));await this['client']['groupParticipantsUpdate'](_0x339412[_0x382e3f(0x73a)],_0x5eb008,'add');}else{let _0x1b7536=_0x339412[_0x382e3f(0x489)][_0x382e3f(0x2b0)](_0x481354=>this[_0x382e3f(0x615)](_0x481354));await this[_0x382e3f(0x757)]['groupParticipantsUpdate'](_0x339412[_0x382e3f(0x73a)],_0x1b7536,_0x339412[_0x382e3f(0x325)]);}}return await this[_0x382e3f(0x6e9)]({'groupJid':_0x339412['groupJid']});}catch(_0x3c1500){let _0x1f5a1c=_0x382e3f(0x2b8),_0x2ec8b3=_0x3c1500 instanceof Error?_0x3c1500[_0x382e3f(0x57a)]:typeof _0x3c1500==_0x382e3f(0x2bd)?JSON[_0x382e3f(0x319)](_0x3c1500):_0x3c1500,_0x3cf4d1=_0x1f5a1c+':\x20'+_0x2ec8b3;throw this[_0x382e3f(0x3ff)]['error'](this['instanceName']+'\x20('+this[_0x382e3f(0x6bd)]['wuid']+_0x382e3f(0x6bc)+_0x3cf4d1),new m(_0x3cf4d1);}}async[a0_0x55f44d(0x898)](_0x11a50f){const _0x1a3b2f=a0_0x55f44d;try{return await this['client'][_0x1a3b2f(0x898)](_0x11a50f[_0x1a3b2f(0x24f)]);}catch(_0x3975af){let _0x10c9b4=_0x1a3b2f(0x764),_0x5bc9ae=_0x3975af instanceof Error?_0x3975af['message']:typeof _0x3975af==_0x1a3b2f(0x2bd)?JSON['stringify'](_0x3975af):_0x3975af,_0x50f45b=_0x10c9b4+':\x20'+_0x5bc9ae;throw this[_0x1a3b2f(0x3ff)]['error'](this[_0x1a3b2f(0x3b5)]+'\x20('+this[_0x1a3b2f(0x6bd)][_0x1a3b2f(0x6f5)]+_0x1a3b2f(0x6bc)+_0x50f45b),new m(_0x50f45b);}}async['findGroup'](_0x45036b,_0x37d05a=a0_0x55f44d(0x2c5)){const _0x457d63=a0_0x55f44d;try{let _0x19e052=await this[_0x457d63(0x82b)][_0x457d63(0x504)][_0x457d63(0x720)]({'where':{'_id':_0x45036b[_0x457d63(0x73a)]}},this[_0x457d63(0x6bd)]['wuid']),_0x35136c=_0x19e052?_0x19e052[_0x457d63(0x20d)]:null,_0x4a0442=0x18*0x3c*0x3c*0x3e8;if(!_0x35136c||_0x35136c[_0x457d63(0x42c)]&&Date[_0x457d63(0x692)]()-_0x35136c[_0x457d63(0x42c)]>_0x4a0442){let _0x44fa26=await this[_0x457d63(0x757)][_0x457d63(0x462)](_0x45036b['groupJid']);if(_0x44fa26[_0x457d63(0x5f9)]=_0x44fa26?.['subjectTime']&&_0x44fa26[_0x457d63(0x5f9)][_0x457d63(0x6d8)]()[_0x457d63(0x2af)]<0xd?_0x44fa26?.['subjectTime']*0x3e8:_0x44fa26?.[_0x457d63(0x5f9)]||null,_0x44fa26['creation']=_0x44fa26?.[_0x457d63(0x6d6)]&&_0x44fa26[_0x457d63(0x6d6)][_0x457d63(0x6d8)]()[_0x457d63(0x2af)]<0xd?_0x44fa26?.['creation']*0x3e8:_0x44fa26?.['creation']||null,_0x35136c={..._0x44fa26,'lastUpdate':Date['now']()},!_0x44fa26)return;}let _0x5087c1=_0x35136c[_0x457d63(0x489)][_0x457d63(0x330)](_0x3cd14a=>_0x3cd14a['id']===this[_0x457d63(0x6bd)]['wuid']+_0x457d63(0x704)&&_0x3cd14a[_0x457d63(0x765)]!=null);!_0x35136c[_0x457d63(0x24f)]&&_0x5087c1&&(_0x35136c['inviteCode']=(await this[_0x457d63(0x24f)](_0x45036b,!0x1))[_0x457d63(0x682)]);let _0x56b028=(!_0x35136c['announce']||_0x5087c1)&&(!_0x35136c[_0x457d63(0x2f0)]||_0x35136c[_0x457d63(0x2f0)]&&_0x35136c[_0x457d63(0x5c9)]&&_0x5087c1);_0x35136c[_0x457d63(0x86c)]=_0x5087c1,_0x35136c[_0x457d63(0x3c3)]=_0x56b028;let _0x564c04=[];if(_0x5087c1&&_0x35136c[_0x457d63(0x866)])try{_0x564c04=await this[_0x457d63(0x757)][_0x457d63(0x518)](_0x45036b['groupJid']),_0x35136c[_0x457d63(0x2ef)]=Date['now']();}catch(_0x64b9ba){this['logger'][_0x457d63(0x1fa)](this['instanceName']+'\x20('+this[_0x457d63(0x6bd)][_0x457d63(0x6f5)]+'):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20'+_0x45036b['groupJid']+':\x20'+(_0x64b9ba instanceof Error?_0x64b9ba[_0x457d63(0x57a)]:JSON[_0x457d63(0x319)](_0x64b9ba,null,0x2)));}try{_0x35136c[_0x457d63(0x717)]=(await this[_0x457d63(0x52d)](_0x45036b[_0x457d63(0x73a)],null,!0x0))[_0x457d63(0x701)][_0x457d63(0x5c6)];}catch(_0x3416b5){this[_0x457d63(0x3ff)][_0x457d63(0x1fa)](this[_0x457d63(0x3b5)]+'\x20('+this[_0x457d63(0x6bd)]['wuid']+_0x457d63(0x5dc)+_0x45036b[_0x457d63(0x73a)]+':\x20'+(_0x3416b5 instanceof Error?_0x3416b5['message']:JSON['stringify'](_0x3416b5,null,0x2)));}let _0x38c509=_0x35136c[_0x457d63(0x489)][_0x457d63(0x2b0)](_0x5586e7=>_0x5586e7['id']),_0x383775=_0x564c04['map'](_0x5726e7=>_0x5726e7[_0x457d63(0x38d)]),_0x41a4ca=await this['repository'][_0x457d63(0x40d)][_0x457d63(0x56a)]([..._0x38c509,..._0x383775]);_0x35136c[_0x457d63(0x489)]=_0x35136c[_0x457d63(0x489)][_0x457d63(0x2b0)](_0x336069=>{const _0x146e90=_0x457d63;let _0x2a12b6=_0x41a4ca[_0x146e90(0x408)](_0x137de8=>_0x137de8[_0x146e90(0x20e)]===_0x336069['id']);return{'id':_0x336069['id'],'isAdmin':['admin',_0x146e90(0x2da)][_0x146e90(0x52f)](_0x336069['admin']),'admin':_0x336069[_0x146e90(0x765)],'pushName':_0x2a12b6?.[_0x146e90(0x754)],'profilePictureUrl':_0x2a12b6?.[_0x146e90(0x5c6)]};}),_0x35136c[_0x457d63(0x24b)]=_0x564c04[_0x457d63(0x2b0)](_0x4e6c7d=>{const _0x4c5fe8=_0x457d63;let _0x9f2b54=_0x41a4ca[_0x4c5fe8(0x408)](_0x48c6c2=>_0x48c6c2[_0x4c5fe8(0x20e)]===_0x4e6c7d[_0x4c5fe8(0x38d)]);return{'id':_0x4e6c7d['jid'],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x9f2b54?.[_0x4c5fe8(0x754)],'profilePictureUrl':_0x9f2b54?.[_0x4c5fe8(0x5c6)],'request_method':_0x4e6c7d[_0x4c5fe8(0x29d)],'request_time':_0x4e6c7d[_0x4c5fe8(0x2f3)]};});let _0xccd876=await this[_0x457d63(0x82b)][_0x457d63(0x504)][_0x457d63(0x540)]({'where':{'_id':_0x45036b[_0x457d63(0x73a)]}},{'imagechat':_0x35136c[_0x457d63(0x717)],'name':_0x35136c['subject'],'lastcache':Date[_0x457d63(0x692)](),'groupdata':_0x35136c},this[_0x457d63(0x6bd)][_0x457d63(0x6f5)]);return U(this[_0x457d63(0x3b5)],_0x457d63(0x7df),{'chat':_0xccd876}),{'metadata':_0x35136c};}catch(_0x3331f4){if(_0x37d05a===_0x457d63(0x3c9))return;throw new J(_0x457d63(0x861),_0x3331f4[_0x457d63(0x57a)][_0x457d63(0x6d8)]());}}async[a0_0x55f44d(0x2b7)](){const _0x123cbe=a0_0x55f44d;try{let _0x23e52f=[],_0x2e16f3=await this[_0x123cbe(0x757)][_0x123cbe(0x2b3)](),_0x4593dc=Object[_0x123cbe(0x81b)](_0x2e16f3),_0x21676f=_0x4593dc['filter'](_0x4b1461=>(0x0,f[_0x123cbe(0x479)])(_0x4b1461?.['id']))['map'](async _0x58703a=>{const _0x586a82=_0x123cbe;try{return await this[_0x586a82(0x757)][_0x586a82(0x498)](_0x58703a['id'],_0x586a82(0x5c1));}catch(_0x1b79b5){return this[_0x586a82(0x3ff)][_0x586a82(0x1fa)](this['instanceName']+'\x20('+this[_0x586a82(0x6bd)][_0x586a82(0x6f5)]+_0x586a82(0x5dc)+_0x58703a['id']+':\x20'+(_0x1b79b5 instanceof Error?_0x1b79b5[_0x586a82(0x57a)]:JSON[_0x586a82(0x319)](_0x1b79b5,null,0x2))),null;}}),_0x4e5975=await Promise[_0x123cbe(0x7ee)](_0x21676f);for(let _0x4936d8=0x0;_0x4936d8<_0x4593dc[_0x123cbe(0x2af)];_0x4936d8++){let _0x3343d9=_0x4593dc[_0x4936d8];(0x0,f[_0x123cbe(0x479)])(_0x3343d9?.['id'])&&(_0x23e52f[_0x123cbe(0x3d5)]({'groupJid':_0x3343d9?.['id'],'subject':_0x3343d9?.[_0x123cbe(0x7c0)],'subjectOwner':_0x3343d9?.['subjectOwner']?.[_0x123cbe(0x44b)]('@')[0x0],'subjectTime':_0x3343d9?.[_0x123cbe(0x5f9)],'creation':_0x3343d9?.[_0x123cbe(0x6d6)],'size':_0x3343d9?.[_0x123cbe(0x489)]?.[_0x123cbe(0x2af)],'owner':_0x3343d9?.['owner']?.[_0x123cbe(0x44b)]('@')[0x0],'desc':_0x3343d9?.[_0x123cbe(0x3cc)],'restrict':_0x3343d9?.[_0x123cbe(0x4e4)],'announce':_0x3343d9?.['announce'],'image':_0x4e5975[_0x4936d8],'isCommunity':_0x3343d9?.[_0x123cbe(0x2f0)],'joinApprovalMode':_0x3343d9?.['joinApprovalMode'],'memberCanAddParticipant':_0x3343d9?.[_0x123cbe(0x695)],'participants':_0x3343d9?.['participants'],'descOwner':_0x3343d9?.[_0x123cbe(0x290)],'descId':_0x3343d9?.[_0x123cbe(0x843)],'memberAddMode':_0x3343d9?.[_0x123cbe(0x695)],'isCommunityAnnounce':_0x3343d9?.['isCommunityAnnounce'],'ephemeralDuration':_0x3343d9?.[_0x123cbe(0x75b)]||0x0,'author':_0x3343d9?.[_0x123cbe(0x637)]}),this[_0x123cbe(0x27b)](_0x4593dc[_0x4936d8]));}return _0x23e52f;}catch(_0xc66989){let _0x243b52=_0x123cbe(0x57b),_0x33be85=_0xc66989 instanceof Error?_0xc66989[_0x123cbe(0x57a)]:typeof _0xc66989==_0x123cbe(0x2bd)?JSON['stringify'](_0xc66989):_0xc66989,_0x26a2e2=_0x243b52+':\x20'+_0x33be85;throw this[_0x123cbe(0x3ff)]['error'](this[_0x123cbe(0x3b5)]+'\x20('+this[_0x123cbe(0x6bd)][_0x123cbe(0x6f5)]+_0x123cbe(0x6bc)+_0x26a2e2),new J(_0x26a2e2);}}async[a0_0x55f44d(0x27b)](_0x9ae92e){const _0x359787=a0_0x55f44d;let _0x89f17a=await this[_0x359787(0x82b)][_0x359787(0x504)][_0x359787(0x720)]({'where':{'_id':_0x9ae92e['id']}},this[_0x359787(0x6bd)][_0x359787(0x6f5)]);_0x9ae92e['subjectTime']=_0x9ae92e?.[_0x359787(0x5f9)]&&_0x9ae92e[_0x359787(0x5f9)][_0x359787(0x6d8)]()['length']<0xd?_0x9ae92e?.['subjectTime']*0x3e8:_0x9ae92e?.[_0x359787(0x5f9)]||null,_0x9ae92e['creation']=_0x9ae92e?.[_0x359787(0x6d6)]&&_0x9ae92e[_0x359787(0x6d6)]['toString']()[_0x359787(0x2af)]<0xd?_0x9ae92e?.['creation']*0x3e8:_0x9ae92e?.[_0x359787(0x6d6)]||null;let _0x2da87a=_0x89f17a?.[_0x359787(0x20d)]?.['awaitingApproval']||[],_0x19356f=_0x89f17a?.[_0x359787(0x20d)]?.['lastFetchAwaitingApproval'],_0x278dee=_0x9ae92e['participants']['map'](_0x2b3037=>{const _0x1b1f1c=_0x359787;let _0xe015b0=_0x89f17a?.[_0x1b1f1c(0x20d)]?.[_0x1b1f1c(0x489)][_0x1b1f1c(0x408)](_0x416b14=>_0x416b14['id']===_0x2b3037['id']);return{..._0x2b3037,'isAdmin':[_0x1b1f1c(0x765),_0x1b1f1c(0x2da)][_0x1b1f1c(0x52f)](_0x2b3037['admin']),'admin':_0x2b3037[_0x1b1f1c(0x765)],'name':_0xe015b0?.[_0x1b1f1c(0x754)]||_0x2b3037[_0x1b1f1c(0x754)],'imgUrl':_0xe015b0?.['imgUrl']||_0x2b3037[_0x1b1f1c(0x313)]};}),_0x49bc0d=_0x278dee[_0x359787(0x330)](_0x49d66d=>_0x49d66d['id']===this[_0x359787(0x6bd)][_0x359787(0x6f5)]+_0x359787(0x704)&&_0x49d66d[_0x359787(0x86c)]),_0x590e4f=(!_0x9ae92e[_0x359787(0x2df)]||_0x49bc0d)&&(!_0x9ae92e[_0x359787(0x2f0)]||_0x9ae92e[_0x359787(0x2f0)]&&_0x9ae92e[_0x359787(0x5c9)]&&_0x49bc0d),_0x40b5ee={..._0x9ae92e,'participants':_0x278dee,'awaitingApproval':_0x2da87a,'lastFetchAwaitingApproval':_0x19356f,'isAdmin':_0x49bc0d,'canSendMessage':_0x590e4f,'lastUpdate':Date[_0x359787(0x692)]()};await this['repository'][_0x359787(0x504)]['updateOne']({'where':{'_id':_0x9ae92e['id']}},{'name':_0x9ae92e[_0x359787(0x7c0)],'group':!0x0,'groupdata':_0x40b5ee,'lastcache':Date[_0x359787(0x692)]()},this[_0x359787(0x6bd)]['wuid']),U(this[_0x359787(0x3b5)],'chats',{'chat':_0x9ae92e});}async['updateGroupWebhook'](_0x59d492){const _0x2dbfef=a0_0x55f44d;let _0x33e9c1=await this[_0x2dbfef(0x82b)]['chat'][_0x2dbfef(0x720)]({'where':{'_id':_0x59d492['id']}},this[_0x2dbfef(0x6bd)][_0x2dbfef(0x6f5)]);_0x59d492[_0x2dbfef(0x5f9)]=_0x59d492?.[_0x2dbfef(0x5f9)]&&_0x59d492[_0x2dbfef(0x5f9)][_0x2dbfef(0x6d8)]()[_0x2dbfef(0x2af)]<0xd?_0x59d492?.['subjectTime']*0x3e8:_0x59d492?.[_0x2dbfef(0x5f9)]||null,_0x59d492['creation']=_0x59d492?.[_0x2dbfef(0x6d6)]&&_0x59d492['creation'][_0x2dbfef(0x6d8)]()[_0x2dbfef(0x2af)]<0xd?_0x59d492?.[_0x2dbfef(0x6d6)]*0x3e8:_0x59d492?.[_0x2dbfef(0x6d6)]||null,_0x59d492[_0x2dbfef(0x24f)]&&(_0x59d492[_0x2dbfef(0x24f)]=_0x2dbfef(0x54f)+_0x59d492['inviteCode']);let _0x4e4dc=_0x33e9c1?.['groupdata']?{..._0x33e9c1[_0x2dbfef(0x20d)]}:{};Object[_0x2dbfef(0x3cf)](_0x59d492)['forEach'](_0x1660fe=>{_0x1660fe!=='id'&&(_0x4e4dc[_0x1660fe]=_0x59d492[_0x1660fe]);});let _0x37d9d1=_0x4e4dc[_0x2dbfef(0x489)]?.[_0x2dbfef(0x330)](_0x6ba622=>_0x6ba622['id']===this['instance'][_0x2dbfef(0x6f5)]+_0x2dbfef(0x704)&&_0x6ba622[_0x2dbfef(0x86c)])||!0x1;_0x4e4dc['isAdmin']=_0x37d9d1;let _0x5db934=(!_0x4e4dc[_0x2dbfef(0x2df)]||_0x37d9d1)&&(!_0x4e4dc[_0x2dbfef(0x2f0)]||_0x4e4dc[_0x2dbfef(0x2f0)]&&_0x4e4dc[_0x2dbfef(0x5c9)]&&_0x37d9d1);_0x4e4dc[_0x2dbfef(0x3c3)]=_0x5db934;let _0x420fa1={'group':!0x0,'groupdata':_0x4e4dc};_0x59d492[_0x2dbfef(0x7c0)]&&(_0x420fa1[_0x2dbfef(0x754)]=_0x59d492['subject']),await this[_0x2dbfef(0x82b)]['chat'][_0x2dbfef(0x540)]({'where':{'_id':_0x59d492['id']}},_0x420fa1,this[_0x2dbfef(0x6bd)]['wuid'],{'upsert':!0x0}),U(this['instanceName'],_0x2dbfef(0x7df),{'chat':_0x420fa1});}async[a0_0x55f44d(0x6f2)](_0x57f997){const _0x2c2115=a0_0x55f44d;let _0xf1ac38=await this['repository']['chat'][_0x2c2115(0x720)]({'where':{'_id':_0x57f997['id']}},this['instance'][_0x2c2115(0x6f5)]);if(!_0xf1ac38||!_0xf1ac38[_0x2c2115(0x20d)]){this[_0x2c2115(0x3ff)][_0x2c2115(0x267)](this[_0x2c2115(0x3b5)]+'\x20('+this['instance'][_0x2c2115(0x6f5)]+_0x2c2115(0x3ec)+_0x57f997['id']);return;}let _0x497f12=await this[_0x2c2115(0x82b)][_0x2c2115(0x40d)]['findManyByIds'](_0x57f997[_0x2c2115(0x489)]),_0xd58b02=[..._0xf1ac38[_0x2c2115(0x20d)]?.['participants']];switch(_0x57f997[_0x2c2115(0x325)]){case'add':let _0x38a924=_0x497f12[_0x2c2115(0x2b0)](_0x102303=>({'id':_0x102303[_0x2c2115(0x20e)],'isAdmin':!0x1,'name':_0x102303[_0x2c2115(0x754)],'imgUrl':_0x102303[_0x2c2115(0x5c6)]}));_0xd58b02=[..._0xd58b02,..._0x38a924];break;case _0x2c2115(0x51a):_0xd58b02=_0xd58b02[_0x2c2115(0x804)](_0x342d09=>!_0x57f997[_0x2c2115(0x489)][_0x2c2115(0x52f)](_0x342d09['id']));break;case _0x2c2115(0x658):case _0x2c2115(0x316):_0xd58b02=_0xd58b02['map'](_0x2a8c21=>_0x57f997[_0x2c2115(0x489)][_0x2c2115(0x52f)](_0x2a8c21['id'])?{..._0x2a8c21,'isAdmin':_0x57f997[_0x2c2115(0x325)]===_0x2c2115(0x658)}:_0x2a8c21);break;}let _0x17c37c=_0xd58b02['length'],_0x307f9d=_0xd58b02['some'](_0x1f0fd6=>_0x1f0fd6['id']===this[_0x2c2115(0x6bd)][_0x2c2115(0x6f5)]+_0x2c2115(0x704)),_0x2fd84b=_0x307f9d&&_0xd58b02[_0x2c2115(0x330)](_0x3a73d7=>_0x3a73d7['id']===this[_0x2c2115(0x6bd)][_0x2c2115(0x6f5)]+_0x2c2115(0x704)&&_0x3a73d7[_0x2c2115(0x86c)]),_0x4d2813=_0x307f9d&&(!_0xf1ac38[_0x2c2115(0x20d)][_0x2c2115(0x2df)]||_0x2fd84b)&&(!_0xf1ac38[_0x2c2115(0x20d)][_0x2c2115(0x2f0)]||_0xf1ac38[_0x2c2115(0x20d)]['isCommunity']&&_0x2fd84b);await this[_0x2c2115(0x82b)][_0x2c2115(0x504)][_0x2c2115(0x540)]({'where':{'_id':_0x57f997['id']}},{'groupdata':{..._0xf1ac38['groupdata'],'participants':_0xd58b02,'size':_0x17c37c,'isAdmin':_0x2fd84b,'canSendMessage':_0x4d2813}},this[_0x2c2115(0x6bd)]['wuid']),this['logger'][_0x2c2115(0x267)](this[_0x2c2115(0x3b5)]+'\x20('+this['instance'][_0x2c2115(0x6f5)]+_0x2c2115(0x317)+_0x57f997['id']+_0x2c2115(0x5b9)+_0x57f997[_0x2c2115(0x325)]+_0x2c2115(0x650)+_0x17c37c+_0x2c2115(0x55f)+_0x2fd84b+_0x2c2115(0x7b6)+_0x4d2813);}async[a0_0x55f44d(0x24f)](_0x5dc9ae,_0x57fdd6=!0x0){const _0x1dd70d=a0_0x55f44d;try{let _0x569355=await this['client'][_0x1dd70d(0x3ab)](_0x5dc9ae[_0x1dd70d(0x73a)]),_0x37f701={'groupdata.inviteCode':'https://chat.whatsapp.com/'+_0x569355};if(_0x57fdd6){let _0xf1847b=await this[_0x1dd70d(0x82b)]['chat']['updateOne']({'where':{'_id':_0x5dc9ae[_0x1dd70d(0x73a)]}},_0x37f701,this[_0x1dd70d(0x6bd)][_0x1dd70d(0x6f5)]);}return{'inviteUrl':_0x1dd70d(0x54f)+_0x569355,'inviteCode':_0x569355};}catch(_0x28e876){let _0x4edff7='Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode',_0x99eebd=_0x28e876 instanceof Error?_0x28e876[_0x1dd70d(0x57a)]:typeof _0x28e876==_0x1dd70d(0x2bd)?JSON[_0x1dd70d(0x319)](_0x28e876):_0x28e876,_0x83b043=_0x4edff7+':\x20'+_0x99eebd;throw this[_0x1dd70d(0x3ff)][_0x1dd70d(0x752)](this[_0x1dd70d(0x3b5)]+'\x20('+this[_0x1dd70d(0x6bd)]['wuid']+'):\x20'+_0x83b043),new J(_0x83b043);}}async[a0_0x55f44d(0x6e5)](_0x181e8f){const _0x5b547e=a0_0x55f44d;try{let _0x3a5127=await this[_0x5b547e(0x757)][_0x5b547e(0x60c)](_0x181e8f[_0x5b547e(0x73a)]);return{'revoked':!0x0,'inviteUrl':_0x5b547e(0x54f)+_0x3a5127,'inviteCode':_0x3a5127};}catch(_0x5a3600){let _0x4d6b07=_0x5b547e(0x83f),_0x260642=_0x5a3600 instanceof Error?_0x5a3600[_0x5b547e(0x57a)]:typeof _0x5a3600=='object'?JSON[_0x5b547e(0x319)](_0x5a3600):_0x5a3600,_0x518fe0=_0x4d6b07+':\x20'+_0x260642;throw this[_0x5b547e(0x3ff)]['error'](this[_0x5b547e(0x3b5)]+'\x20('+this['instance'][_0x5b547e(0x6f5)]+_0x5b547e(0x6bc)+_0x518fe0),new J(_0x518fe0);}}async[a0_0x55f44d(0x315)](_0x30a40b){const _0x187a75=a0_0x55f44d;try{if((0x0,P[_0x187a75(0x7d6)])(_0x30a40b[_0x187a75(0x24f)]))var _0x57fefb=_0x30a40b[_0x187a75(0x24f)][_0x187a75(0x44b)]('/')[0x3];else var _0x57fefb=_0x30a40b[_0x187a75(0x24f)];let _0x2d68b7=await this[_0x187a75(0x757)][_0x187a75(0x1dc)](_0x57fefb);return this[_0x187a75(0x3ff)][_0x187a75(0x1fa)](this['instanceName']+'\x20('+this[_0x187a75(0x6bd)][_0x187a75(0x6f5)]+_0x187a75(0x6bc)+_0x2d68b7),{'join':!0x0,'inviteCode':_0x57fefb,'groupJid':_0x2d68b7};}catch(_0x5793a8){let _0x2b9db2='Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x12ec9f=_0x5793a8 instanceof Error?_0x5793a8[_0x187a75(0x57a)]:typeof _0x5793a8=='object'?JSON[_0x187a75(0x319)](_0x5793a8):_0x5793a8,_0x6e9107=_0x2b9db2+':\x20'+_0x12ec9f;throw this[_0x187a75(0x3ff)][_0x187a75(0x752)](this[_0x187a75(0x3b5)]+'\x20('+this[_0x187a75(0x6bd)][_0x187a75(0x6f5)]+_0x187a75(0x6bc)+_0x6e9107),new J(_0x6e9107);}}async[a0_0x55f44d(0x655)](_0x22ef0a){const _0x4bc019=a0_0x55f44d;try{return{'participants':(await this[_0x4bc019(0x757)]['groupMetadata'](_0x22ef0a[_0x4bc019(0x73a)]))[_0x4bc019(0x489)]};}catch(_0x310650){let _0xd06e61=_0x4bc019(0x5f2),_0x237c1e=_0x310650 instanceof Error?_0x310650[_0x4bc019(0x57a)]:typeof _0x310650=='object'?JSON[_0x4bc019(0x319)](_0x310650):_0x310650,_0x2e9e75=_0xd06e61+':\x20'+_0x237c1e;throw this['logger'][_0x4bc019(0x752)](this[_0x4bc019(0x3b5)]+'\x20('+this[_0x4bc019(0x6bd)]['wuid']+_0x4bc019(0x6bc)+_0x2e9e75),new J(_0x2e9e75);}}async[a0_0x55f44d(0x88e)](_0x5e1a55){const _0x26d400=a0_0x55f44d;try{return await this[_0x26d400(0x757)][_0x26d400(0x4e5)](_0x5e1a55[_0x26d400(0x73a)]),{'groupJid':_0x5e1a55['groupJid'],'leave':!0x0};}catch(_0x1309a8){let _0x3ec581=_0x26d400(0x646),_0x2b3bde=_0x1309a8 instanceof Error?_0x1309a8[_0x26d400(0x57a)]:typeof _0x1309a8==_0x26d400(0x2bd)?JSON[_0x26d400(0x319)](_0x1309a8):_0x1309a8,_0x45ff02=_0x3ec581+':\x20'+_0x2b3bde;throw this['logger'][_0x26d400(0x752)](this['instanceName']+'\x20('+this[_0x26d400(0x6bd)][_0x26d400(0x6f5)]+'):\x20'+_0x45ff02),new m(_0x45ff02);}}async[a0_0x55f44d(0x2e2)](_0x2c34d5){const _0x2e8aea=a0_0x55f44d;return await this['sendMessageWithTyping'](_0x2c34d5[_0x2e8aea(0x61e)],{'poll':{'name':_0x2c34d5[_0x2e8aea(0x2e2)]?.['name'],'selectableCount':_0x2c34d5['pollMessage'][_0x2e8aea(0x506)],'values':_0x2c34d5['pollMessage'][_0x2e8aea(0x81b)]}},_0x2c34d5?.[_0x2e8aea(0x3e3)]);}async['listMessage'](_0x1e6609){const _0x50d457=a0_0x55f44d;return await this[_0x50d457(0x6c2)](_0x1e6609[_0x50d457(0x61e)],{'listMessage':{'title':_0x1e6609[_0x50d457(0x585)][_0x50d457(0x895)],'description':_0x1e6609['listMessage'][_0x50d457(0x743)],'buttonText':_0x1e6609['listMessage']?.[_0x50d457(0x209)],'footerText':_0x1e6609['listMessage']?.['footerText'],'sections':_0x1e6609[_0x50d457(0x585)][_0x50d457(0x873)],'listType':0x2}},_0x1e6609?.['options']);}async['menuMessage'](_0x5c37b5){const _0x32a5ff=a0_0x55f44d;let _0x2d685d;if(_0x5c37b5['menuMessage']['type']===_0x32a5ff(0x340)){let _0x4b053d=_0x5c37b5['menuMessage'][_0x32a5ff(0x68c)][_0x32a5ff(0x447)]('\x0a'),_0x3e805e='',_0x16488e='';_0x4b053d!==-0x1?(_0x3e805e=_0x5c37b5['menuMessage']['text'][_0x32a5ff(0x7d9)](0x0,_0x4b053d)['trim'](),_0x16488e=_0x5c37b5[_0x32a5ff(0x64e)]['text'][_0x32a5ff(0x7d9)](_0x4b053d+0x1)):_0x16488e=_0x5c37b5[_0x32a5ff(0x64e)][_0x32a5ff(0x68c)];let _0x4f7d57=_0x5c37b5[_0x32a5ff(0x64e)][_0x32a5ff(0x2e6)]['filter'](_0x31d6c4=>_0x31d6c4[_0x32a5ff(0x855)]()!==''),_0x4d58e2=this[_0x32a5ff(0x625)](_0x4f7d57);_0x2d685d={'listMessage':{'title':_0x3e805e,'description':_0x16488e,'buttonText':_0x5c37b5['menuMessage'][_0x32a5ff(0x209)]||'Selecione','footerText':_0x5c37b5[_0x32a5ff(0x64e)]['footerText'],'sections':_0x4d58e2,'listType':0x2}};}else{if(_0x5c37b5[_0x32a5ff(0x64e)][_0x32a5ff(0x31b)]===_0x32a5ff(0x7d2)){let _0x252c6d=_0x5c37b5[_0x32a5ff(0x64e)][_0x32a5ff(0x2e6)]['filter'](_0x340652=>!(_0x340652[_0x32a5ff(0x5b2)]('[')&&_0x340652['endsWith'](']'))&&_0x340652['trim']()!=='')[_0x32a5ff(0x2b0)](_0x3875c1=>_0x3875c1[_0x32a5ff(0x44b)]('\x0a')[0x0]);_0x2d685d={'poll':{'name':_0x5c37b5['menuMessage'][_0x32a5ff(0x68c)],'selectableCount':_0x5c37b5[_0x32a5ff(0x64e)][_0x32a5ff(0x506)]||0x1,'values':_0x252c6d}};}}return await this['sendMessageWithTyping'](_0x5c37b5[_0x32a5ff(0x61e)],_0x2d685d,_0x5c37b5?.[_0x32a5ff(0x3e3)]);}[a0_0x55f44d(0x625)](_0x3005a1){const _0x226f9f=a0_0x55f44d;let _0x2c2a35=[],_0x3ac9bf={'rows':[]};return _0x3005a1[_0x226f9f(0x27f)](_0x56f703=>{const _0x31034d=_0x226f9f;if(_0x56f703[_0x31034d(0x5b2)]('[')&&_0x56f703[_0x31034d(0x58d)](']'))_0x3ac9bf['rows'][_0x31034d(0x2af)]>0x0&&_0x2c2a35[_0x31034d(0x3d5)](_0x3ac9bf),_0x3ac9bf={'title':_0x56f703[_0x31034d(0x242)](0x1,-0x1),'rows':[]};else{let _0x2b9cb5=_0x56f703['split']('\x0a')[_0x31034d(0x2b0)](_0x3ca3f3=>_0x3ca3f3[_0x31034d(0x855)]()),_0xb14b89=_0x2b9cb5[0x0],_0x108890=_0x2b9cb5[0x1]||null,_0x3855f1=_0x2b9cb5[0x2]||_0xb14b89;_0x3ac9bf[_0x31034d(0x3ce)][_0x31034d(0x3d5)]({'title':_0xb14b89,'description':_0x108890,'rowId':_0x3855f1});}}),_0x3ac9bf[_0x226f9f(0x3ce)][_0x226f9f(0x2af)]>0x0&&_0x2c2a35[_0x226f9f(0x3d5)](_0x3ac9bf),_0x2c2a35;}async[a0_0x55f44d(0x30b)](_0xe721bd,_0x216dd8){const _0x4e7de8=a0_0x55f44d;if(await this[_0x4e7de8(0x38a)](_0xe721bd,!0x0)){let _0x2e1cc1={'where':{'_id':_0xe721bd['id']}},_0x2fc622={'status':[_0x216dd8[_0x4e7de8(0x346)]][0x0]};try{let _0x5e232d=await this[_0x4e7de8(0x82b)][_0x4e7de8(0x57a)]['update'](_0x2e1cc1,_0x2fc622,this[_0x4e7de8(0x6bd)][_0x4e7de8(0x6f5)]);_0x5e232d&&U(this[_0x4e7de8(0x3b5)],_0x4e7de8(0x4fa),{'message':_0x5e232d});}catch{}}}['sectionsToString'](_0x2f3fb2){const _0x1d0ca9=a0_0x55f44d;let _0x4f8919=[];return _0x2f3fb2['forEach'](_0x5cb05e=>{const _0x44772d=a0_0x1182;_0x5cb05e['title']&&_0x4f8919['push']('['+_0x5cb05e[_0x44772d(0x895)]+']'),_0x5cb05e[_0x44772d(0x3ce)][_0x44772d(0x27f)](_0x5be277=>{const _0x2020d7=_0x44772d;_0x4f8919[_0x2020d7(0x3d5)](_0x5be277['title']);});}),_0x4f8919[_0x1d0ca9(0x1e5)]('|');}[a0_0x55f44d(0x56c)](_0x1bfc7f){const _0x2ae4a1=a0_0x55f44d;let _0x3de49c=_0x1bfc7f[_0x2ae4a1(0x8b0)](/\\n/g,'\x0a')[_0x2ae4a1(0x44b)]('\x0a')[_0x2ae4a1(0x804)](_0x45b9fe=>_0x45b9fe['includes'](_0x2ae4a1(0x86b))||_0x45b9fe['includes'](_0x2ae4a1(0x80d))),_0x854bd8='';return _0x3de49c[_0x2ae4a1(0x27f)](_0x4d959a=>{const _0x184987=_0x2ae4a1;let _0x1d0ee3=/TEL(?:.*):(.+)/,_0x27daad=/EMAIL(?:.*):(.+)/,_0x28c751=_0x4d959a[_0x184987(0x7a4)](_0x1d0ee3),_0x3429ab=_0x4d959a[_0x184987(0x7a4)](_0x27daad);if(_0x28c751){let _0x40374c=_0x28c751[0x1][_0x184987(0x8b0)](/-| |\+|\(|\)/g,'')[_0x184987(0x855)]();_0x854bd8+=_0x184987(0x4b7)+_0x40374c+'\x0a';}else{if(_0x3429ab){let _0x38d749=_0x3429ab[0x1]['trim']();_0x854bd8+=_0x184987(0x472)+_0x38d749+'\x0a';}}}),_0x854bd8['trim']();}async[a0_0x55f44d(0x4dc)](_0x489e37,_0x1a39ee,_0x212c1d,_0x1ef10e=null){const _0x273f45=a0_0x55f44d;if(!_0x489e37[_0x273f45(0x7a1)])return;let _0x398487=_0x1a39ee[_0x273f45(0x42e)][_0x273f45(0x2a0)][_0x273f45(0x8b0)](/:\d{1,2}@/g,'@'),_0x2eb790=_0x1a39ee[_0x273f45(0x42e)][_0x273f45(0x7cf)],_0x4c9933=_0x398487[_0x273f45(0x58d)](_0x273f45(0x858)),_0x5a0d9e=_0x1a39ee[_0x273f45(0x527)]?.[_0x273f45(0x8b0)](/:\d{1,2}@/g,'@')||'',_0x5a7880=_0x1a39ee['message_normalized']?.[_0x273f45(0x68c)]||_0x1a39ee[_0x273f45(0x5e6)]?.[_0x273f45(0x32a)]||_0x1a39ee[_0x273f45(0x5e6)]?.[_0x273f45(0x27c)]||_0x1a39ee['message_normalized']?.[_0x273f45(0x754)],_0x432d15={'_id':_0x1a39ee[_0x273f45(0x20e)],'remoteJid':_0x2eb790?this['instance'][_0x273f45(0x6f5)]:_0x4c9933?_0x5a0d9e:_0x398487,'pushName':_0x2eb790?this['instance']['profileName']||'Eu':_0x1a39ee['pushName'],'text':_0x5a7880,'type':_0x1a39ee[_0x273f45(0x329)],'when':_0x1a39ee[_0x273f45(0x291)]||Date[_0x273f45(0x692)]()};_0x1ef10e||(_0x1ef10e=await this[_0x273f45(0x82b)][_0x273f45(0x504)]['findOne']({'where':{'_id':_0x398487}},this[_0x273f45(0x6bd)][_0x273f45(0x6f5)]));let _0x12ca86=_0x1ef10e?_0x2eb790?_0x1ef10e[_0x273f45(0x41a)]:(_0x1ef10e['unreadcount']||0x0)+0x1:_0x2eb790?0x0:0x1,_0x59bf05={'lastmsg':_0x1a39ee[_0x273f45(0x291)]||Date[_0x273f45(0x692)](),'ephemeralExpiration':_0x1a39ee[_0x273f45(0x3d6)],'lastMessage':_0x432d15,'unreadcount':_0x12ca86,..._0x2eb790||_0x4c9933?{}:{'name':_0x1a39ee[_0x273f45(0x507)]},..._0x4c9933?{'group':_0x4c9933}:{},...!_0x2eb790&&!_0x4c9933&&_0x1a39ee[_0x273f45(0x498)]?{'imagechat':_0x1a39ee['profilePictureUrl']}:{}};if(!_0x4c9933&&(!_0x1ef10e?.[_0x273f45(0x653)]||!_0x1ef10e[_0x273f45(0x653)][_0x273f45(0x807)])&&_0x1a39ee[_0x273f45(0x507)]&&!_0x2eb790&&(_0x59bf05={..._0x59bf05,'leadInfo.nome':_0x1a39ee[_0x273f45(0x507)]}),_0x1ef10e?.['leadInfo'][_0x273f45(0x73e)]||(_0x59bf05={..._0x59bf05,'leadInfo.etiquetas':[]}),_0x1ef10e?.[_0x273f45(0x653)]['customFields']||(_0x59bf05={..._0x59bf05,'leadInfo.customFields':[]}),_0x1ef10e?.['leadInfo']['tags']||(_0x59bf05={..._0x59bf05,'leadInfo.tags':[]}),_0x1ef10e&&_0x1ef10e?.[_0x273f45(0x75c)]){let _0x4b3be4=await this[_0x273f45(0x82b)][_0x273f45(0x521)][_0x273f45(0x408)]({'where':{}},this['instance'][_0x273f45(0x6f5)]),_0x36a6f5=new Set(_0x4b3be4['map'](_0x1ab8eb=>_0x1ab8eb['_id'])),_0x4e4009=(_0x1ef10e[_0x273f45(0x653)]?.['etiquetas']||[])[_0x273f45(0x804)](_0x2caf58=>_0x36a6f5[_0x273f45(0x5ff)](_0x2caf58));_0x59bf05={..._0x59bf05,'imported':!0x1,'leadInfo.etiquetas':_0x4e4009};for(let _0x5ce647 of _0x4e4009)await this[_0x273f45(0x795)](_0x5ce647,_0x398487);}if(_0x212c1d==='MESSAGES_UPSERT'&&_0x2eb790&&this['AutomateSystem']?.['flowConfig'][_0x273f45(0x253)]&&!_0x5a7880[_0x273f45(0x5b2)](this[_0x273f45(0x8a8)]?.[_0x273f45(0x548)]['prefixCommand'])){let _0x3f4175=(this[_0x273f45(0x8a8)]?.[_0x273f45(0x548)][_0x273f45(0x5ed)]||0x5)*0xea60,_0xe0faf5=Date[_0x273f45(0x692)]()+_0x3f4175;_0x1ef10e?.[_0x273f45(0x653)]?.['desativadoFluxoAte']===0x0||(_0x59bf05={..._0x59bf05,'leadInfo.desativadoFluxoAte':_0xe0faf5},this[_0x273f45(0x3ff)][_0x273f45(0x1fa)](this[_0x273f45(0x3b5)]+'\x20('+this[_0x273f45(0x6bd)]['wuid']+_0x273f45(0x496)+_0xe0faf5+'.'));}if(_0x1ef10e=await this[_0x273f45(0x82b)]['chat']['updateOne']({'where':{'_id':_0x398487}},_0x59bf05,this['instance'][_0x273f45(0x6f5)],{'new':!0x0,'upsert':!0x0}),_0x1ef10e)U(this[_0x273f45(0x3b5)],_0x273f45(0x7df),{'chat':_0x1ef10e});else{this[_0x273f45(0x3ff)][_0x273f45(0x752)](this[_0x273f45(0x3b5)]+'\x20('+this[_0x273f45(0x6bd)][_0x273f45(0x6f5)]+'):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat');return;}if(!this[_0x273f45(0x8a8)]?.['flowConfig']['enabled'])return this['logger'][_0x273f45(0x1fa)](this[_0x273f45(0x3b5)]+'\x20('+this[_0x273f45(0x6bd)]['wuid']+_0x273f45(0x5ab)),null;if(_0x1ef10e[_0x273f45(0x20e)][_0x273f45(0x52f)]('@g.us')&&this[_0x273f45(0x8a8)]?.['flowConfig'][_0x273f45(0x328)]===!0x0)return this['logger'][_0x273f45(0x1fa)](this[_0x273f45(0x3b5)]+'\x20('+this['instance'][_0x273f45(0x6f5)]+_0x273f45(0x6f7)),null;if(_0x1ef10e[_0x273f45(0x653)]){if(_0x1ef10e[_0x273f45(0x653)][_0x273f45(0x371)]===0x0||_0x1ef10e[_0x273f45(0x653)][_0x273f45(0x69f)])return this[_0x273f45(0x3ff)][_0x273f45(0x1fa)](this[_0x273f45(0x3b5)]+'\x20('+this[_0x273f45(0x6bd)]['wuid']+_0x273f45(0x81e)+_0x398487+_0x273f45(0x3ba)),null;if(_0x1ef10e[_0x273f45(0x653)][_0x273f45(0x371)]>Date['now']()&&!_0x1a39ee[_0x273f45(0x5e6)]?.[_0x273f45(0x27c)])return this['logger'][_0x273f45(0x1fa)](this[_0x273f45(0x3b5)]+'\x20('+this[_0x273f45(0x6bd)][_0x273f45(0x6f5)]+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0x1ef10e[_0x273f45(0x653)][_0x273f45(0x371)])[_0x273f45(0x7c8)]()+_0x273f45(0x3ba)),null;}this[_0x273f45(0x3ff)][_0x273f45(0x1fa)](this[_0x273f45(0x3b5)]+'\x20('+this['instance'][_0x273f45(0x6f5)]+_0x273f45(0x652)),this['StartBot'](_0x212c1d,_0x1a39ee);}async[a0_0x55f44d(0x1f3)](_0x4c2885,_0x4e35ea){const _0xa55a1b=a0_0x55f44d;if(_0x4e35ea[_0xa55a1b(0x7a1)]){let _0x14c1b8=_0x4c2885[_0xa55a1b(0x2b0)](async _0x265cda=>{const _0x2f6d85=_0xa55a1b;try{let _0x533a4f={'_id':_0x265cda[_0x2f6d85(0x20e)],'owner':_0x265cda[_0x2f6d85(0x382)],'lastcache':0x0};if(Object[_0x2f6d85(0x3cf)](_0x265cda)[_0x2f6d85(0x27f)](_0x289643=>{_0x265cda[_0x289643]!==null&&(_0x533a4f[_0x289643]=_0x265cda[_0x289643]);}),_0x533a4f[_0x2f6d85(0x693)]===null&&(_0x533a4f[_0x2f6d85(0x693)]='Imagem\x20não\x20encontrada'),Object['keys'](_0x533a4f)[_0x2f6d85(0x2af)]>0x0)return await this['repository']['chat']['updateOne']({'where':{'_id':_0x265cda[_0x2f6d85(0x20e)]}},_0x533a4f,this[_0x2f6d85(0x6bd)][_0x2f6d85(0x6f5)]);}catch(_0x5caa43){let _0xecdd1a=_0x2f6d85(0x222)+_0x265cda[_0x2f6d85(0x20e)],_0xf487c6=_0x5caa43 instanceof Error?_0x5caa43[_0x2f6d85(0x57a)]:typeof _0x5caa43=='object'?JSON['stringify'](_0x5caa43):_0x5caa43,_0x2cad74=_0xecdd1a+':\x20'+_0xf487c6;return this[_0x2f6d85(0x3ff)]['error'](this[_0x2f6d85(0x3b5)]+'\x20('+this[_0x2f6d85(0x6bd)][_0x2f6d85(0x6f5)]+_0x2f6d85(0x6bc)+_0x2cad74),null;}}),_0x3b0278=(await Promise[_0xa55a1b(0x7ee)](_0x14c1b8))['filter'](_0x243298=>_0x243298!==null)[_0xa55a1b(0x2af)];this[_0xa55a1b(0x3ff)][_0xa55a1b(0x1fa)](this[_0xa55a1b(0x3b5)]+'\x20('+this[_0xa55a1b(0x6bd)]['wuid']+_0xa55a1b(0x6bc)+_0x3b0278+_0xa55a1b(0x47c)+this[_0xa55a1b(0x6bd)][_0xa55a1b(0x6f5)]+_0xa55a1b(0x680));}}async['readMessageBot'](_0x2a03ad){const _0x2f46d6=a0_0x55f44d;this[_0x2f46d6(0x3ff)][_0x2f46d6(0x1fa)](this['instanceName']+'\x20('+this[_0x2f46d6(0x6bd)]['wuid']+'):\x20Ler\x20mensagem');let _0x205790={'readMessages':[{'remoteJid':_0x2a03ad['chatLog'][_0x2f46d6(0x627)]['key']['remoteJid'],'fromMe':_0x2a03ad['chatLog'][_0x2f46d6(0x627)][_0x2f46d6(0x42e)][_0x2f46d6(0x7cf)],'id':_0x2a03ad[_0x2f46d6(0x24e)][_0x2f46d6(0x627)][_0x2f46d6(0x42e)]['id']}]};await this[_0x2f46d6(0x3bd)](_0x205790);}async['StartBot'](_0x5c3a9a,_0x4b045f){const _0xbfa916=a0_0x55f44d;try{let {key:_0x20378c,message_normalized:_0x6f22d0}=_0x4b045f,_0x5e7880=_0x6f22d0,_0x336bfa=_0x6f22d0[_0xbfa916(0x68c)]||_0x6f22d0[_0xbfa916(0x32a)]||_0x6f22d0['vote']||_0x6f22d0['name'],_0x1dc356=_0x20378c[_0xbfa916(0x2a0)],_0x25034d;if(_0x5e7880[_0xbfa916(0x42e)][_0xbfa916(0x7cf)]&&_0x336bfa[_0xbfa916(0x855)]()!==this['AutomateSystem']?.[_0xbfa916(0x548)][_0xbfa916(0x4c0)][_0xbfa916(0x855)]())return this[_0xbfa916(0x3ff)][_0xbfa916(0x1fa)](this['instanceName']+'\x20('+this[_0xbfa916(0x6bd)][_0xbfa916(0x6f5)]+_0xbfa916(0x219)),null;if(_0x5e7880['key'][_0xbfa916(0x7cf)]&&_0x336bfa[_0xbfa916(0x855)]()===this[_0xbfa916(0x8a8)]?.[_0xbfa916(0x548)]['stopConversation'][_0xbfa916(0x855)]()){this[_0xbfa916(0x3ff)][_0xbfa916(0x1fa)](this['instanceName']+'\x20('+this[_0xbfa916(0x6bd)][_0xbfa916(0x6f5)]+_0xbfa916(0x738));let _0x969288=await this['repository'][_0xbfa916(0x4fb)]['find']({'remoteJid':_0x1dc356,'status':_0xbfa916(0x2fb)},this[_0xbfa916(0x6bd)]['wuid']);this[_0xbfa916(0x3ff)]['verbose'](this[_0xbfa916(0x3b5)]+'\x20('+this[_0xbfa916(0x6bd)][_0xbfa916(0x6f5)]+_0xbfa916(0x59a)+_0x969288);let _0x83d25=Date[_0xbfa916(0x692)](),_0x192077;return this['AutomateSystem']?.['flowConfig']['stopMinutes']===0x0?_0x192077={'stoppedUntil':_0x83d25+0x7591f6200}:_0x192077={'stoppedUntil':_0x83d25+this['AutomateSystem']?.['flowConfig'][_0xbfa916(0x842)]*0x3c*0x3e8},this[_0xbfa916(0x3ff)][_0xbfa916(0x1fa)](this['instanceName']+'\x20('+this[_0xbfa916(0x6bd)][_0xbfa916(0x6f5)]+'):\x20Campos\x20a\x20serem\x20atualizados:'+_0x192077),this[_0xbfa916(0x25b)](_0x25034d,_0x192077['stoppedUntil']),null;}if(_0x336bfa&&_0x336bfa[_0xbfa916(0x5b2)](this[_0xbfa916(0x8a8)]?.[_0xbfa916(0x548)][_0xbfa916(0x343)])&&_0x336bfa['length']>0x4){let _0x465cbf=await this['repository']['flow'][_0xbfa916(0x720)]({'where':{'startCommandWord':_0x336bfa}},this['instance'][_0xbfa916(0x6f5)]);if(this['logger'][_0xbfa916(0x1fa)](this[_0xbfa916(0x3b5)]+'\x20('+this[_0xbfa916(0x6bd)][_0xbfa916(0x6f5)]+_0xbfa916(0x366)),_0x465cbf)_0x25034d=await this[_0xbfa916(0x69e)](_0x465cbf,_0x5e7880[_0xbfa916(0x42e)],_0x5e7880);else return this[_0xbfa916(0x3ff)][_0xbfa916(0x1fa)](this[_0xbfa916(0x3b5)]+'\x20('+this[_0xbfa916(0x6bd)][_0xbfa916(0x6f5)]+_0xbfa916(0x511)),null;}else _0x25034d=await this[_0xbfa916(0x2ca)](_0x1dc356,_0x5e7880);if(_0x25034d){this[_0xbfa916(0x3ff)]['verbose'](this[_0xbfa916(0x3b5)]+'\x20('+this[_0xbfa916(0x6bd)]['wuid']+_0xbfa916(0x4f2)),!_0x20378c[_0xbfa916(0x7cf)]&&_0x25034d[_0xbfa916(0x63f)]&&this[_0xbfa916(0x3cb)](_0x25034d);let _0x29ae82=await this[_0xbfa916(0x46b)](_0x25034d);_0x29ae82&&await this[_0xbfa916(0x6ac)](_0x25034d,_0x29ae82);}}catch(_0x420117){this['logger']['error'](this[_0xbfa916(0x3b5)]+'\x20('+this['instance']['wuid']+_0xbfa916(0x205)+(_0x420117 instanceof Error?_0x420117[_0xbfa916(0x57a)]:JSON[_0xbfa916(0x319)](_0x420117,null,0x2)));}}[a0_0x55f44d(0x50b)](_0x183ace,_0x4ab76d='',_0x26f624={}){const _0x888497=a0_0x55f44d;return typeof _0x183ace!='object'||_0x183ace===null?(_0x4ab76d&&(_0x26f624[_0x4ab76d]=_0x183ace),_0x26f624):(Object['entries'](_0x183ace)[_0x888497(0x27f)](([_0x39b52e,_0xd64a21])=>{const _0x177be6=_0x888497;let _0x507b50=_0x4ab76d?_0x4ab76d+'.'+_0x39b52e:'_'+_0x39b52e;Array[_0x177be6(0x629)](_0xd64a21)?_0xd64a21[_0x177be6(0x27f)]((_0x5e8963,_0x50ffb2)=>{const _0x22e50d=_0x177be6;this[_0x22e50d(0x50b)](_0x5e8963,_0x507b50+'['+_0x50ffb2+']',_0x26f624);}):typeof _0xd64a21==_0x177be6(0x2bd)&&_0xd64a21!==null?this[_0x177be6(0x50b)](_0xd64a21,_0x507b50,_0x26f624):_0x26f624[_0x507b50]=String(_0xd64a21);}),_0x26f624);}[a0_0x55f44d(0x2b6)](_0x532014){const _0x1636ae=a0_0x55f44d;let _0x5411d1={};for(let _0x20bb7c of _0x532014)typeof _0x20bb7c['name']==_0x1636ae(0x4a1)&&typeof _0x20bb7c['value']==_0x1636ae(0x4a1)&&(_0x5411d1[_0x20bb7c[_0x1636ae(0x754)]]=_0x20bb7c['value']);return _0x5411d1;}async['NextBlock'](_0x3b8420){const _0xcfcf02=a0_0x55f44d;if(!this[_0xcfcf02(0x8a8)]?.[_0xcfcf02(0x548)][_0xcfcf02(0x253)]||_0x3b8420[_0xcfcf02(0x346)]!=='open'&&_0x3b8420[_0xcfcf02(0x41e)]==='')return null;let _0x4bf40a=_0x3b8420[_0xcfcf02(0x24e)][_0xcfcf02(0x7bd)]||'start';typeof _0x3b8420['chatLog'][_0xcfcf02(0x31c)]>'u'&&(_0x3b8420['chatLog'][_0xcfcf02(0x31c)]=!0x0);let _0x20763b=_0x3b8420[_0xcfcf02(0x24e)]['lastCondition'];this[_0xcfcf02(0x3ff)][_0xcfcf02(0x1fa)](this[_0xcfcf02(0x3b5)]+'\x20('+this[_0xcfcf02(0x6bd)]['wuid']+'):\x20lastBlockId:\x20'+_0x4bf40a+',\x20lastCondition:\x20'+_0x20763b);let _0x499067=_0x4bf40a==='start'?_0x3b8420[_0xcfcf02(0x86a)][_0xcfcf02(0x408)](_0x41b668=>_0x41b668[_0xcfcf02(0x31b)]===_0xcfcf02(0x5bb)):_0x3b8420[_0xcfcf02(0x86a)]['find'](_0xbb6147=>_0xbb6147[_0xcfcf02(0x20e)][_0xcfcf02(0x6d8)]()===_0x4bf40a[_0xcfcf02(0x6d8)]());if(!_0x499067)return this['logger'][_0xcfcf02(0x752)](this['instanceName']+'\x20('+this[_0xcfcf02(0x6bd)][_0xcfcf02(0x6f5)]+_0xcfcf02(0x466)+_0x4bf40a),null;let _0x292b50={'_pushName':_0x3b8420[_0xcfcf02(0x24e)]['lastReceivedMessage'][_0xcfcf02(0x507)],..._0x3b8420[_0xcfcf02(0x24e)][_0xcfcf02(0x39b)]},_0x3dc0b1=null;if(_0x3b8420[_0xcfcf02(0x41e)]){let _0x5be172=_0x3b8420[_0xcfcf02(0x24e)][_0xcfcf02(0x627)][_0xcfcf02(0x27c)],_0x585ab2=_0x3b8420[_0xcfcf02(0x55e)][_0xcfcf02(0x408)](_0xdfe03=>_0xdfe03[_0xcfcf02(0x373)]===_0x5be172);if(_0x585ab2){let _0x210fce=_0x585ab2[_0xcfcf02(0x48c)];if(_0x3dc0b1=_0x3b8420['blocks'][_0xcfcf02(0x408)](_0x5d1fc7=>_0x5d1fc7[_0xcfcf02(0x5ec)]===_0x210fce&&_0x5d1fc7['order']===0x1),_0x499067[_0xcfcf02(0x4c8)][_0xcfcf02(0x4ba)]){let _0x235acc={'id':_0x3b8420['waitingMenu_id'],'remoteJid':_0x3b8420[_0xcfcf02(0x2a0)],'fromMe':!0x0};await this[_0xcfcf02(0x7b1)](_0x235acc);}if(_0x499067[_0xcfcf02(0x4c8)][_0xcfcf02(0x4ba)]&&_0x499067['uazapi']['pollMessageOnDelete']&&_0x499067[_0xcfcf02(0x4c8)]['menuType']===_0xcfcf02(0x7d2)){let _0x322bb0={'number':_0x3b8420[_0xcfcf02(0x2a0)],'options':{'delay':0x0},'textMessage':{'text':_0xcfcf02(0x824)+_0x3b8420[_0xcfcf02(0x4d5)]+_0xcfcf02(0x753)+_0x5be172}};await this[_0xcfcf02(0x8b3)](_0x322bb0);}_0x3b8420[_0xcfcf02(0x346)]=_0xcfcf02(0x2fb),_0x3b8420[_0xcfcf02(0x41e)]='',_0x3b8420[_0xcfcf02(0x4d5)]='',_0x3b8420[_0xcfcf02(0x55e)]=[];}else{this[_0xcfcf02(0x3ff)][_0xcfcf02(0x1fa)](this['instanceName']+'\x20('+this[_0xcfcf02(0x6bd)][_0xcfcf02(0x6f5)]+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x261666={'activatedCount':_0x3b8420[_0xcfcf02(0x24e)][_0xcfcf02(0x7fa)][_0xcfcf02(0x804)](_0xa0bde6=>String(_0xa0bde6[_0xcfcf02(0x749)])===String(_0x4bf40a))[_0xcfcf02(0x2af)],'moreLogs':[_0xcfcf02(0x435)]};if(_0x499067['uazapi'][_0xcfcf02(0x526)]){let _0x2c2270={'number':_0x3b8420[_0xcfcf02(0x2a0)],'options':{'delay':0x0},'textMessage':{'text':_0x499067[_0xcfcf02(0x4c8)]['pollErrorMessage']}};await this['textMessage'](_0x2c2270);}if(_0x499067[_0xcfcf02(0x44f)]!==void 0x0&&_0x261666['activatedCount']>=_0x499067[_0xcfcf02(0x44f)]){let _0x857bdc=Date['now'](),_0x417246=_0x499067['stopMinutesMaxActives']??0xa;isNaN(_0x417246)&&(_0x417246=0xa);let _0x44aefa=_0x857bdc+_0x417246*0x3c*0x3e8;_0x261666['newStoppedUntil']=_0x44aefa,_0x261666[_0xcfcf02(0x202)][_0xcfcf02(0x3d5)](_0xcfcf02(0x815)),this[_0xcfcf02(0x25b)](_0x3b8420,_0x44aefa),_0x3b8420['waitingMenu_id']='',_0x3b8420[_0xcfcf02(0x4d5)]='',_0x3b8420[_0xcfcf02(0x55e)]=[];}return this[_0xcfcf02(0x854)](_0x3b8420,_0x499067,_0x261666,!0x0),null;}}if(_0x20763b&&_0x499067[_0xcfcf02(0x48c)]&&!_0x3b8420[_0xcfcf02(0x41e)]){let _0x1e672f=_0x3b8420[_0xcfcf02(0x86a)][_0xcfcf02(0x804)](_0x2c43b1=>_0x2c43b1['groupId'][_0xcfcf02(0x6d8)]()===_0x499067['next_groupId'][_0xcfcf02(0x6d8)]())[_0xcfcf02(0x464)]((_0x3bed4d,_0xf9c53)=>_0x3bed4d[_0xcfcf02(0x879)]-_0xf9c53[_0xcfcf02(0x879)]);_0x1e672f[_0xcfcf02(0x2af)]>0x0&&(_0x3dc0b1=_0x1e672f[0x0]);}if(!_0x3dc0b1){let _0x14ab93=_0x499067[_0xcfcf02(0x5ec)],_0x252211=_0x3b8420['blocks'][_0xcfcf02(0x804)](_0x38ad45=>_0x38ad45[_0xcfcf02(0x5ec)]===_0x14ab93&&_0x38ad45[_0xcfcf02(0x879)]>_0x499067[_0xcfcf02(0x879)])['sort']((_0x28046c,_0x47fd5c)=>_0x28046c[_0xcfcf02(0x879)]-_0x47fd5c[_0xcfcf02(0x879)]);_0x252211[_0xcfcf02(0x2af)]>0x0&&(_0x3dc0b1=_0x252211[0x0]);}if(!_0x3dc0b1)return _0x3b8420[_0xcfcf02(0x346)]=_0xcfcf02(0x1f9),null;_0x3b8420[_0xcfcf02(0x24e)][_0xcfcf02(0x39b)]=_0x292b50;let _0x54bd02=JSON[_0xcfcf02(0x52e)](JSON[_0xcfcf02(0x319)](_0x3dc0b1));return this[_0xcfcf02(0x890)](_0x54bd02,_0x3b8420[_0xcfcf02(0x24e)]['realVariables']),_0x3b8420[_0xcfcf02(0x24e)]['lastBlockId']=_0x54bd02['_id'],_0x3b8420[_0xcfcf02(0x24e)][_0xcfcf02(0x31c)]=!0x0,_0x54bd02;}[a0_0x55f44d(0x683)](_0x264fd6,_0x3f75e8){const _0x27eb12=a0_0x55f44d;return _0x264fd6[_0x27eb12(0x8b0)](/\{\{([^}]+)\}\}/g,(_0x463dda,_0xa46de2)=>_0x3f75e8[_0xa46de2]||'');}[a0_0x55f44d(0x890)](_0x4133d3,_0x227bf0){const _0x49ab7b=a0_0x55f44d;for(let _0x396450 in _0x4133d3)typeof _0x4133d3[_0x396450]==_0x49ab7b(0x4a1)?_0x4133d3[_0x396450]=this[_0x49ab7b(0x683)](_0x4133d3[_0x396450],_0x227bf0):typeof _0x4133d3[_0x396450]==_0x49ab7b(0x2bd)&&this[_0x49ab7b(0x890)](_0x4133d3[_0x396450],_0x227bf0);}async['goNextblock'](_0x192310,_0x527ac1){const _0x8b7f2a=a0_0x55f44d;let _0x2d5198=_0x527ac1[_0x8b7f2a(0x20e)];if(_0x192310[_0x8b7f2a(0x24e)]&&_0x192310[_0x8b7f2a(0x24e)]['blockLogs']){let _0x2ded13=_0x192310[_0x8b7f2a(0x24e)][_0x8b7f2a(0x7fa)]['filter'](_0x2ac4b5=>String(_0x2ac4b5[_0x8b7f2a(0x749)])===String(_0x2d5198))[_0x8b7f2a(0x77a)]();if(_0x2ded13&&_0x2ded13[_0x8b7f2a(0x752)]&&_0x527ac1['stopIfLastReturnedError'])return _0x192310['status']=_0x8b7f2a(0x1f9),await this[_0x8b7f2a(0x322)](_0x192310),null;}if(_0x527ac1[_0x8b7f2a(0x31b)]===_0x8b7f2a(0x4c8)&&_0x527ac1[_0x8b7f2a(0x4c8)][_0x8b7f2a(0x859)]===_0x8b7f2a(0x7dd)&&_0x192310[_0x8b7f2a(0x41e)])return _0x192310[_0x8b7f2a(0x24e)][_0x8b7f2a(0x7bd)]=_0x2d5198,await this[_0x8b7f2a(0x322)](_0x192310),null;let _0x2ab90c=await this[_0x8b7f2a(0x46b)](_0x192310);if(_0x192310[_0x8b7f2a(0x24e)]&&_0x192310[_0x8b7f2a(0x24e)][_0x8b7f2a(0x7fa)]){let _0x34f3d7=_0x192310['chatLog'][_0x8b7f2a(0x7fa)][_0x8b7f2a(0x804)](_0x3d5241=>String(_0x3d5241['blockId'])===String(_0x2d5198))['length'];if(_0x527ac1[_0x8b7f2a(0x44f)]!==void 0x0&&_0x34f3d7>=_0x527ac1['maxActives']){let _0x3d0f05=Date[_0x8b7f2a(0x692)](),_0x23c3c0=_0x527ac1['stopMinutesMaxActives']??0xa;isNaN(_0x23c3c0)&&(_0x23c3c0=0xa);let _0x21fdfa=_0x3d0f05+_0x23c3c0*0x3c*0x3e8,_0xbb5f46={'newStoppedUntil':_0x21fdfa};return this[_0x8b7f2a(0x25b)](_0x192310,_0x21fdfa),this[_0x8b7f2a(0x854)](_0x192310,_0x527ac1,_0xbb5f46,!0x0),null;}}_0x2ab90c&&_0x2ab90c['type']!==_0x8b7f2a(0x849)&&await this[_0x8b7f2a(0x6ac)](_0x192310,_0x2ab90c),_0x2ab90c||await this[_0x8b7f2a(0x322)](_0x192310),_0x2ab90c&&_0x2ab90c[_0x8b7f2a(0x31b)]==='save'&&(_0x192310[_0x8b7f2a(0x24e)]['lastBlockId']=_0x2d5198,await this[_0x8b7f2a(0x322)](_0x192310));}async[a0_0x55f44d(0x6ac)](_0x42bb63,_0x100439){const _0x3c09a7=a0_0x55f44d;try{let _0x46268c=_0x100439[_0x3c09a7(0x31b)];this['logger'][_0x3c09a7(0x1fa)](this[_0x3c09a7(0x3b5)]+'\x20('+this[_0x3c09a7(0x6bd)]['wuid']+_0x3c09a7(0x337)+_0x46268c);let _0x3817c8={'uazapi':()=>this['processUazapi'](_0x42bb63,_0x100439),'save':()=>this['saveTextReply'](_0x42bb63,_0x100439),'stop':()=>this[_0x3c09a7(0x4c0)](_0x42bb63,_0x100439),'condition':()=>this[_0x3c09a7(0x523)](_0x42bb63,_0x100439),'varedit':()=>this[_0x3c09a7(0x818)](_0x42bb63,_0x100439),'apirequest':()=>this[_0x3c09a7(0x63b)](_0x42bb63,_0x100439),'goToFlow':()=>this['processgoToFlow'](_0x42bb63,_0x100439),'awaitSeconds':()=>this[_0x3c09a7(0x6c1)](_0x42bb63,_0x100439),'clearVariables':()=>this[_0x3c09a7(0x783)](_0x42bb63,_0x100439)}[_0x46268c];_0x3817c8&&await _0x3817c8();}catch(_0x3d58b1){this[_0x3c09a7(0x3ff)]['error'](this['instanceName']+'\x20('+this['instance'][_0x3c09a7(0x6f5)]+_0x3c09a7(0x358)+(_0x3d58b1 instanceof Error?_0x3d58b1['message']:JSON['stringify'](_0x3d58b1,null,0x2)));}}async['processawaitSeconds'](_0x14c44d,_0x46d238){const _0x233adc=a0_0x55f44d;if(this[_0x233adc(0x3ff)]['verbose'](this[_0x233adc(0x3b5)]+'\x20('+this[_0x233adc(0x6bd)][_0x233adc(0x6f5)]+_0x233adc(0x5d9)),!_0x14c44d||!_0x46d238)return this[_0x233adc(0x3ff)][_0x233adc(0x752)](this[_0x233adc(0x3b5)]+'\x20('+this[_0x233adc(0x6bd)]['wuid']+_0x233adc(0x867)),null;let _0x37ab93=+_0x46d238[_0x233adc(0x7e1)];isNaN(_0x37ab93)&&(_0x37ab93=0x0),_0x37ab93=Math[_0x233adc(0x7cb)](_0x37ab93,0x3c),await(0x0,f[_0x233adc(0x363)])(_0x37ab93*0x3e8);let _0x31be79={'moreLogs':[_0x233adc(0x4af)+_0x37ab93+_0x233adc(0x445)]};return await this[_0x233adc(0x854)](_0x14c44d,_0x46d238,_0x31be79),_0x37ab93;}async[a0_0x55f44d(0x783)](_0x2571c5,_0x31f58f){const _0x3ffa69=a0_0x55f44d;if(this[_0x3ffa69(0x3ff)][_0x3ffa69(0x1fa)](this[_0x3ffa69(0x3b5)]+'\x20('+this[_0x3ffa69(0x6bd)][_0x3ffa69(0x6f5)]+_0x3ffa69(0x4a2)),!_0x2571c5||!_0x31f58f)return this[_0x3ffa69(0x3ff)]['error'](this[_0x3ffa69(0x3b5)]+'\x20('+this[_0x3ffa69(0x6bd)][_0x3ffa69(0x6f5)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x46433a=[];if(_0x31f58f[_0x3ffa69(0x6c6)]['trim']()===_0x3ffa69(0x3b8)){let _0x296c4a=[_0x3ffa69(0x85c),_0x3ffa69(0x828),_0x3ffa69(0x7ad),_0x3ffa69(0x224),_0x3ffa69(0x20e),_0x3ffa69(0x476)];_0x46433a=Object['keys'](_0x2571c5['chatLog']['realVariables'])[_0x3ffa69(0x804)](_0x419ad0=>_0x419ad0[_0x3ffa69(0x5b2)]('_')&&!_0x296c4a['includes'](_0x419ad0));}else _0x46433a=_0x31f58f[_0x3ffa69(0x6c6)][_0x3ffa69(0x44b)]('|')[_0x3ffa69(0x2b0)](_0x107f50=>(_0x107f50=_0x107f50[_0x3ffa69(0x8b0)](/[{}]/g,'')[_0x3ffa69(0x855)](),_0x107f50[_0x3ffa69(0x5b2)]('_')?_0x107f50:'_'+_0x107f50));let _0x15752d=[];_0x46433a['forEach'](_0x340a5a=>{const _0x318fa6=_0x3ffa69;_0x340a5a in _0x2571c5[_0x318fa6(0x24e)][_0x318fa6(0x39b)]&&(delete _0x2571c5['chatLog'][_0x318fa6(0x39b)][_0x340a5a],_0x15752d['push'](_0x340a5a));}),_0x15752d['length']>0x0?this[_0x3ffa69(0x3ff)][_0x3ffa69(0x1fa)](this[_0x3ffa69(0x3b5)]+'\x20('+this['instance'][_0x3ffa69(0x6f5)]+_0x3ffa69(0x7f9)+_0x15752d[_0x3ffa69(0x1e5)](',\x20')):this['logger'][_0x3ffa69(0x1fa)](this[_0x3ffa69(0x3b5)]+'\x20('+this[_0x3ffa69(0x6bd)][_0x3ffa69(0x6f5)]+'):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção');let _0x21a1da={'moreLogs':['Removidas\x20as\x20variáveis:\x20'+_0x15752d[_0x3ffa69(0x1e5)](',\x20')]};return await this[_0x3ffa69(0x854)](_0x2571c5,_0x31f58f,_0x21a1da),null;}async['processgoToFlow'](_0x4f3f50,_0x54566f){const _0x309025=a0_0x55f44d;if(this[_0x309025(0x3ff)][_0x309025(0x1fa)](this[_0x309025(0x3b5)]+'\x20('+this[_0x309025(0x6bd)][_0x309025(0x6f5)]+'):\x20Entrou\x20na\x20função\x20goToFlow'),!_0x4f3f50||!_0x54566f)return this[_0x309025(0x3ff)][_0x309025(0x752)](this[_0x309025(0x3b5)]+'\x20('+this[_0x309025(0x6bd)][_0x309025(0x6f5)]+_0x309025(0x867)),null;await this[_0x309025(0x854)](_0x4f3f50,_0x54566f,{},!0x0,!0x0);let _0x55ea76=_0x54566f[_0x309025(0x694)];_0x4f3f50=await this[_0x309025(0x852)](_0x55ea76,_0x4f3f50[_0x309025(0x2a0)],_0x4f3f50[_0x309025(0x24e)]['realVariables']),this[_0x309025(0x3ff)]['verbose'](this['instanceName']+'\x20('+this[_0x309025(0x6bd)][_0x309025(0x6f5)]+_0x309025(0x4cc));let _0x283e16=await this['NextBlock'](_0x4f3f50);_0x283e16&&await this[_0x309025(0x6ac)](_0x4f3f50,_0x283e16);}async[a0_0x55f44d(0x852)](_0x2fb835,_0x30990b,_0x733ece){const _0x4c8b3e=a0_0x55f44d;this[_0x4c8b3e(0x3ff)][_0x4c8b3e(0x1fa)](this[_0x4c8b3e(0x3b5)]+'\x20('+this['instance'][_0x4c8b3e(0x6f5)]+_0x4c8b3e(0x249));try{if(_0x2fb835=await this[_0x4c8b3e(0x82b)]['flow'][_0x4c8b3e(0x720)]({'where':{'name':_0x2fb835}},this[_0x4c8b3e(0x6bd)][_0x4c8b3e(0x6f5)]),!_0x2fb835)return this['logger'][_0x4c8b3e(0x752)](this[_0x4c8b3e(0x3b5)]+'\x20('+this[_0x4c8b3e(0x6bd)][_0x4c8b3e(0x6f5)]+_0x4c8b3e(0x87b)),null;let _0x1671d9=require(_0x4c8b3e(0x6cf))[_0x4c8b3e(0x6ad)],_0x35b18b=Date[_0x4c8b3e(0x692)](),_0x30b43c=_0x4c8b3e(0x5bb),_0x56bb68={},_0x228fc5={},_0x3f58f5={..._0x2fb835,'chatLog':null},_0x2d03aa={'lastReceivedMessage':_0x56bb68,'lastSendMessage':_0x228fc5,'lastBlockId':_0x30b43c,'lastCondition':!0x0,'realVariables':_0x733ece};_0x3f58f5[_0x4c8b3e(0x24e)]=_0x2d03aa,_0x3f58f5['chatLog'][_0x4c8b3e(0x39b)]={..._0x733ece},delete _0x3f58f5['_id'],_0x3f58f5[_0x4c8b3e(0x20e)]=new _0x1671d9(),_0x3f58f5[_0x4c8b3e(0x5a2)]=_0x35b18b,_0x3f58f5[_0x4c8b3e(0x346)]=_0x4c8b3e(0x2fb),_0x3f58f5[_0x4c8b3e(0x2a0)]=_0x30990b;let _0x593bd8=await this[_0x4c8b3e(0x82b)][_0x4c8b3e(0x4fb)][_0x4c8b3e(0x540)](_0x3f58f5[_0x4c8b3e(0x20e)],_0x3f58f5,this['instance'][_0x4c8b3e(0x6f5)]);return this[_0x4c8b3e(0x3ff)]['verbose'](this[_0x4c8b3e(0x3b5)]+'\x20('+this[_0x4c8b3e(0x6bd)][_0x4c8b3e(0x6f5)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x593bd8?_0x3f58f5:null;}catch(_0x5e3df8){let _0x12e23c=_0x4c8b3e(0x243),_0x318eb5=_0x5e3df8 instanceof Error?_0x5e3df8[_0x4c8b3e(0x57a)]:typeof _0x5e3df8=='object'?JSON['stringify'](_0x5e3df8):_0x5e3df8,_0x228514=_0x12e23c+':\x20'+_0x318eb5;throw this['logger']['error'](this[_0x4c8b3e(0x3b5)]+'\x20('+this[_0x4c8b3e(0x6bd)][_0x4c8b3e(0x6f5)]+'):\x20'+_0x228514),new m(_0x228514);}}async[a0_0x55f44d(0x63b)](_0x4f05ab,_0x3222a4){const _0x228a18=a0_0x55f44d;let _0x3ed06a,_0x5a7497;try{let _0x126c94=_0x3222a4['apirequest'];if(!_0x126c94||!_0x126c94[_0x228a18(0x68f)]||!_0x126c94[_0x228a18(0x50e)])throw new Error(_0x228a18(0x2b1));let _0x46a069;(['https://api.openai.com/v1/audio/speech',_0x228a18(0x56e),_0x228a18(0x66d)][_0x228a18(0x330)](_0x5dc966=>_0x126c94[_0x228a18(0x68f)][_0x228a18(0x52f)](_0x5dc966))||_0x126c94[_0x228a18(0x67e)])&&(_0x46a069=_0x228a18(0x275));let _0x26d875='\u205f',_0x266481;try{_0x266481=JSON['parse'](_0x126c94['bodyString'][_0x228a18(0x8b0)](new RegExp(_0x26d875,'g'),''));}catch(_0x584765){throw _0x584765;}let _0x4fbb2b={'method':_0x126c94[_0x228a18(0x50e)],'url':_0x126c94[_0x228a18(0x68f)],'headers':_0x126c94[_0x228a18(0x2fc)]||{},..._0x126c94[_0x228a18(0x50e)][_0x228a18(0x8b1)]()!==_0x228a18(0x5df)&&_0x126c94[_0x228a18(0x811)]?{'data':JSON['parse'](_0x126c94['bodyString'][_0x228a18(0x8b0)](new RegExp(_0x26d875,'g'),''))}:{},..._0x46a069&&{'responseType':_0x46a069}},_0x2b8b02=await(0x0,K['default'])(_0x4fbb2b),_0x3cc1c9=_0x2b8b02[_0x228a18(0x5d0)][_0x228a18(0x7ff)];if(_0x3cc1c9&&_0x3cc1c9[_0x228a18(0x52f)](_0x228a18(0x85d))||typeof _0x2b8b02[_0x228a18(0x5e3)]=='string'){if(typeof _0x2b8b02[_0x228a18(0x5e3)]==_0x228a18(0x4a1)){let _0x1b0a8d=_0x2b8b02[_0x228a18(0x5e3)][_0x228a18(0x8b0)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')['trim']();try{_0x3ed06a=JSON[_0x228a18(0x52e)](_0x1b0a8d);}catch(_0x92075a){console[_0x228a18(0x752)](_0x228a18(0x3f4)+_0x92075a[_0x228a18(0x57a)]),_0x3ed06a={'_apiResponse':_0x2b8b02[_0x228a18(0x5e3)]};}}else _0x3ed06a=_0x2b8b02[_0x228a18(0x5e3)];let _0x3305e0=_0x4f05ab[_0x228a18(0x24e)][_0x228a18(0x39b)],_0x108875=this[_0x228a18(0x50b)](_0x3ed06a);return Object['assign'](_0x3305e0,_0x108875),_0x4f05ab[_0x228a18(0x24e)][_0x228a18(0x39b)]=_0x3305e0,_0x5a7497={'error':!0x1,'apiResponse':_0x3ed06a},this['updateConversation'](_0x4f05ab,_0x3222a4,_0x5a7497),_0x3ed06a;}if(_0x3cc1c9&&(_0x3cc1c9['includes'](_0x228a18(0x7a6))||_0x3cc1c9[_0x228a18(0x52f)](_0x228a18(0x717))||_0x3cc1c9[_0x228a18(0x52f)](_0x228a18(0x1de))||_0x3cc1c9['includes']('video'))){this['logger']['verbose'](this[_0x228a18(0x3b5)]+'\x20('+this[_0x228a18(0x6bd)][_0x228a18(0x6f5)]+_0x228a18(0x734)+_0x3cc1c9);let _0x4ae0cc=(0x0,jt['v4'])(),_0x2cfbb9='',_0x19ebf7={'image/jpeg':_0x228a18(0x1fe),'image/png':_0x228a18(0x32e),'image/gif':_0x228a18(0x67c),'image/webp':'.webp','image/svg+xml':_0x228a18(0x29f),'audio/mpeg':_0x228a18(0x4c3),'audio/ogg':_0x228a18(0x865),'audio/wav':_0x228a18(0x659),'video/mp4':_0x228a18(0x396),'video/webm':_0x228a18(0x555),'video/ogg':_0x228a18(0x709),'text/plain':'.txt','application/pdf':_0x228a18(0x5e7),'application/msword':'.doc','application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x228a18(0x423),'application/vnd.ms-excel':_0x228a18(0x29c),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':'.xlsx','application/vnd.ms-powerpoint':_0x228a18(0x1fc),'application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x19ebf7[_0x3cc1c9]?(_0x2cfbb9=_0x19ebf7[_0x3cc1c9],this[_0x228a18(0x3ff)][_0x228a18(0x1fa)](this[_0x228a18(0x3b5)]+'\x20('+this[_0x228a18(0x6bd)][_0x228a18(0x6f5)]+_0x228a18(0x3b2)+_0x2cfbb9)):(_0x2cfbb9=_0x228a18(0x7eb),this[_0x228a18(0x3ff)][_0x228a18(0x1fa)](this[_0x228a18(0x3b5)]+'\x20('+this['instance']['wuid']+_0x228a18(0x25d)+_0x2cfbb9)),_0x4ae0cc+=_0x2cfbb9,this[_0x228a18(0x3ff)][_0x228a18(0x1fa)](this['instanceName']+'\x20('+this[_0x228a18(0x6bd)][_0x228a18(0x6f5)]+'):\x20Nome\x20do\x20arquivo\x20gerado:\x20'+_0x4ae0cc);let _0x54e7da=this[_0x228a18(0x473)][_0x228a18(0x1ef)](_0x228a18(0x7c6))['URL'];if(!_0x54e7da){let _0x5c73b8=this[_0x228a18(0x473)][_0x228a18(0x1ef)](_0x228a18(0x321));_0x54e7da='https://'+(_0x5c73b8&&_0x5c73b8[_0x228a18(0x3af)][_0x228a18(0x44b)]('/')[0x4]);}let _0xfdfdd=Buffer[_0x228a18(0x4ed)](_0x2b8b02[_0x228a18(0x5e3)]);await this['saveMediaToFile'](_0xfdfdd,_0x4ae0cc);let _0x2a52d1=_0x228a18(0x8aa)+_0x4ae0cc;_0x2a52d1=''+_0x54e7da+_0x2a52d1,_0x3ed06a={'fileUrl':_0x2a52d1},_0x4f05ab[_0x228a18(0x24e)]['realVariables'][_0x228a18(0x645)]=_0x2a52d1;let _0x1ac96a=_0x4f05ab[_0x228a18(0x24e)][_0x228a18(0x39b)],_0x40baf8=this[_0x228a18(0x50b)](_0x3ed06a);return Object[_0x228a18(0x35d)](_0x1ac96a,_0x40baf8),_0x4f05ab[_0x228a18(0x24e)][_0x228a18(0x39b)]=_0x1ac96a,_0x5a7497={'error':!0x1,'apiResponse':{'fileUrl':_0x2a52d1}},this['updateConversation'](_0x4f05ab,_0x3222a4,_0x5a7497),_0x3ed06a;}}catch(_0x566d66){console[_0x228a18(0x752)](_0x228a18(0x64b),_0x566d66[_0x228a18(0x57a)]),_0x566d66[_0x228a18(0x7e8)]&&(_0x3ed06a=_0x566d66['response']['data']);let _0x2f3a76=_0x4f05ab[_0x228a18(0x24e)][_0x228a18(0x39b)],_0x59ff7e=this[_0x228a18(0x50b)](_0x3ed06a);return Object[_0x228a18(0x35d)](_0x2f3a76,_0x59ff7e),_0x4f05ab[_0x228a18(0x24e)][_0x228a18(0x39b)]=_0x2f3a76,_0x5a7497={'error':!0x0,'errorLog':_0x566d66[_0x228a18(0x6d8)](),'apiResponse':_0x3ed06a},this['updateConversation'](_0x4f05ab,_0x3222a4,_0x5a7497),{'success':!0x1};}}[a0_0x55f44d(0x7b9)](_0x2fb864,_0x5cb513){const _0x3fb8cc=a0_0x55f44d;let _0x56d47b=_0x3be021=>{const _0x3a11d1=a0_0x1182;let _0x1f7d99=_0x3be021[_0x3a11d1(0x8b0)](/[^0-9.,-]/g,'')[_0x3a11d1(0x8b0)](',','.'),_0x3042bb=parseFloat(_0x1f7d99);return isNaN(_0x3042bb)?null:_0x3042bb;},_0x2e9763=_0x5cb513[_0x3fb8cc(0x361)],_0x3c72f8=_0x5cb513['secondValue'];typeof _0x2e9763==_0x3fb8cc(0x4a1)&&(_0x2e9763=this[_0x3fb8cc(0x683)](_0x2e9763,_0x2fb864[_0x3fb8cc(0x24e)]['realVariables'])??''),typeof _0x3c72f8==_0x3fb8cc(0x4a1)&&(_0x3c72f8=this[_0x3fb8cc(0x683)](_0x3c72f8,_0x2fb864[_0x3fb8cc(0x24e)][_0x3fb8cc(0x39b)])??'');let _0x8214f3=null;if(!_0x5cb513[_0x3fb8cc(0x4e3)])return null;switch(this[_0x3fb8cc(0x3ff)][_0x3fb8cc(0x1fa)](this['instanceName']+'\x20('+this[_0x3fb8cc(0x6bd)][_0x3fb8cc(0x6f5)]+_0x3fb8cc(0x459)+_0x2e9763),this[_0x3fb8cc(0x3ff)][_0x3fb8cc(0x1fa)](this[_0x3fb8cc(0x3b5)]+'\x20('+this[_0x3fb8cc(0x6bd)][_0x3fb8cc(0x6f5)]+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x3c72f8),_0x5cb513['editOperator']){case'+':case'-':case'*':case'/':let _0x2a534d=_0x56d47b(_0x2e9763||'0'),_0x3f9061=_0x56d47b(_0x3c72f8||'0');if(_0x2a534d===null)return null;switch(_0x5cb513[_0x3fb8cc(0x4e3)]){case'+':_0x8214f3=_0x2a534d+(_0x3f9061??0x0);break;case'-':_0x8214f3=_0x2a534d-(_0x3f9061??0x0);break;case'*':_0x8214f3=_0x2a534d*(_0x3f9061??0x1);break;case'/':_0x3f9061!==0x0&&(_0x8214f3=_0x2a534d/(_0x3f9061??0x1));break;}break;case'findAndReplace':case'findAndReplaceRegex':let _0x17226a=_0x3c72f8,_0x27aaa4=_0x5cb513[_0x3fb8cc(0x889)];if(typeof _0x27aaa4==_0x3fb8cc(0x4a1)&&(_0x27aaa4=this[_0x3fb8cc(0x683)](_0x27aaa4,_0x2fb864[_0x3fb8cc(0x24e)][_0x3fb8cc(0x39b)])??''),_0x17226a&&_0x27aaa4!==void 0x0){let _0x1f73ad=_0x5cb513[_0x3fb8cc(0x4e3)]===_0x3fb8cc(0x6eb)?new RegExp(_0x17226a['replace'](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x17226a,'g');_0x8214f3=_0x2e9763['replace'](_0x1f73ad,_0x27aaa4);}else console[_0x3fb8cc(0x250)](_0x3fb8cc(0x348));break;case _0x3fb8cc(0x2e3):_0x8214f3=_0x3c72f8;break;case _0x3fb8cc(0x771):let _0x33283a=_0x2e9763[_0x3fb8cc(0x7a4)](new RegExp(_0x3c72f8||''));_0x8214f3=_0x33283a?_0x33283a[0x0]:'';break;case _0x3fb8cc(0x5cf):_0x8214f3=_0x2e9763['slice'](0x0,parseInt(_0x3c72f8||'0'));break;case _0x3fb8cc(0x425):let _0x93c779=parseInt(_0x3c72f8||'0');_0x8214f3=_0x2e9763[_0x3fb8cc(0x242)](_0x2e9763[_0x3fb8cc(0x2af)]-_0x93c779);break;case'toBrazilianNumberFormat':let _0x1382e7=_0x56d47b(_0x2e9763),_0x496405=parseInt(_0x3c72f8||'0');_0x496405=Math[_0x3fb8cc(0x4f6)](_0x496405),_0x1382e7!==null?_0x8214f3=_0x1382e7[_0x3fb8cc(0x7c8)](_0x3fb8cc(0x5dd),{'minimumFractionDigits':_0x496405,'maximumFractionDigits':_0x496405}):(console['warn'](_0x3fb8cc(0x350)+_0x2e9763),_0x8214f3=null);break;case _0x3fb8cc(0x71e):let _0x3b0f12=_0x56d47b(_0x2e9763);_0x3b0f12!==null?_0x8214f3=_0x3b0f12[_0x3fb8cc(0x7c8)]('pt-BR',{'style':_0x3fb8cc(0x204),'currency':_0x3fb8cc(0x499)}):(console['warn'](_0x3fb8cc(0x4b3)+_0x2e9763),_0x8214f3=null);break;case _0x3fb8cc(0x53e):_0x8214f3=_0x2e9763[_0x3fb8cc(0x8b1)]();break;case _0x3fb8cc(0x34a):_0x8214f3=_0x2e9763[_0x3fb8cc(0x713)]();break;case'capitalizedWords':_0x8214f3=_0x2e9763['split']('\x20')['map'](_0x29a9a7=>_0x29a9a7[_0x3fb8cc(0x62c)](0x0)[_0x3fb8cc(0x8b1)]()+_0x29a9a7['slice'](0x1)[_0x3fb8cc(0x713)]())[_0x3fb8cc(0x1e5)]('\x20');break;case _0x3fb8cc(0x537):_0x8214f3=_0x2e9763[_0x3fb8cc(0x855)]();break;default:_0x8214f3=_0x2e9763;}return _0x8214f3!==null?_0x8214f3['toString']():null;}async[a0_0x55f44d(0x818)](_0x2cb67d,_0x5a5d27){const _0x23004b=a0_0x55f44d;try{let _0xef63e6=_0x2cb67d[_0x23004b(0x7ed)]?.[_0x23004b(0x804)](_0x773e89=>_0x773e89[_0x23004b(0x749)]===_0x5a5d27[_0x23004b(0x20e)]?.[_0x23004b(0x6d8)]())||[],_0x800be=_0x5a5d27[_0x23004b(0x3a4)],_0x402c18=null,_0x398edb=[],_0x59cd47=_0x2cb67d[_0x23004b(0x24e)]['realVariables'][_0x800be];_0x398edb[_0x23004b(0x3d5)](_0x23004b(0x1d4)+_0x59cd47+'\x22');for(let _0x2d90ad of _0xef63e6){_0x2d90ad[_0x23004b(0x361)]=_0x59cd47,_0x402c18=_0x2d90ad[_0x23004b(0x361)];let _0x488259;try{_0x488259=this['applyvaredit'](_0x2cb67d,_0x2d90ad);}catch(_0x1243d0){console[_0x23004b(0x752)](_0x23004b(0x4f7)+_0x1243d0[_0x23004b(0x57a)]);continue;}if(_0x488259!==null){let _0x372d23=_0x23004b(0x52a)+_0x2d90ad[_0x23004b(0x4e3)]+'\x22',_0x1906ba=['toBRL',_0x23004b(0x53e),_0x23004b(0x34a),_0x23004b(0x4c4),_0x23004b(0x537)];_0x2d90ad[_0x23004b(0x4e3)]===_0x23004b(0x6eb)||_0x2d90ad[_0x23004b(0x4e3)]===_0x23004b(0x288)?_0x372d23+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x2d90ad[_0x23004b(0x416)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x2d90ad['replaceValue']+'\x22':!_0x1906ba[_0x23004b(0x52f)](_0x2d90ad[_0x23004b(0x4e3)])&&_0x2d90ad[_0x23004b(0x416)]!==null&&_0x2d90ad['secondValue']!==void 0x0&&(_0x372d23+=',\x20valor\x20passado:\x20\x22'+_0x2d90ad['secondValue']+'\x22'),_0x372d23+=_0x23004b(0x36f)+_0x488259+'.',_0x398edb['push'](_0x372d23);}_0x488259!==null&&(_0x59cd47=_0x488259);}if(_0x2cb67d[_0x23004b(0x24e)][_0x23004b(0x39b)]&&_0x5a5d27[_0x23004b(0x3a4)]){_0x2cb67d[_0x23004b(0x24e)][_0x23004b(0x39b)][_0x5a5d27['saveVariable']]=_0x59cd47;let _0xfd8d62={'variable':_0x5a5d27[_0x23004b(0x3a4)],'oldValue':_0x402c18,'newValue':_0x59cd47,'moreLogs':_0x398edb};try{this[_0x23004b(0x854)](_0x2cb67d,_0x5a5d27,_0xfd8d62);}catch(_0x5cfd47){console['error']('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x5cfd47[_0x23004b(0x57a)]);}}return _0x800be;}catch(_0xf27213){return console[_0x23004b(0x752)]('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0xf27213[_0x23004b(0x57a)]),null;}}async['processConditions'](_0x35e60a,_0x51edc8){const _0x59cbb3=a0_0x55f44d;try{let _0xe974f4=[],_0x2dcd35=_0x35e60a[_0x59cbb3(0x207)][_0x59cbb3(0x804)](_0x42056f=>_0x42056f[_0x59cbb3(0x749)]===_0x51edc8[_0x59cbb3(0x20e)][_0x59cbb3(0x6d8)]()),_0x4174c4=null,_0x476223=!0x1;for(let _0x3e8e20 of _0x2dcd35){let _0x2b5c95=this['evaluateCondition'](_0x35e60a,_0x3e8e20);_0xe974f4[_0x59cbb3(0x3d5)](_0x59cbb3(0x7db)+_0x3e8e20[_0x59cbb3(0x361)]+_0x59cbb3(0x766)+_0x3e8e20[_0x59cbb3(0x727)]+_0x59cbb3(0x46d)+_0x3e8e20[_0x59cbb3(0x416)]+',\x20Resultado:\x20'+_0x2b5c95),_0x4174c4===null?_0x4174c4=_0x2b5c95:_0x3e8e20[_0x59cbb3(0x5ac)]===_0x59cbb3(0x5d2)?(_0x4174c4=_0x4174c4&&_0x2b5c95,_0x2b5c95||(_0x476223=!0x0)):_0x3e8e20[_0x59cbb3(0x5ac)]==='or'&&(_0x476223||(_0x4174c4=_0x4174c4||_0x2b5c95));}_0x4174c4===null&&(_0x4174c4=!0x0);let _0x573b0a={'moreLogs':_0xe974f4};_0x35e60a[_0x59cbb3(0x24e)][_0x59cbb3(0x31c)]=_0x4174c4,await this['updateConversation'](_0x35e60a,_0x51edc8,_0x573b0a);}catch(_0x3157ea){this[_0x59cbb3(0x3ff)]['error'](this[_0x59cbb3(0x3b5)]+'\x20('+this['instance'][_0x59cbb3(0x6f5)]+_0x59cbb3(0x593)+(_0x3157ea instanceof Error?_0x3157ea[_0x59cbb3(0x57a)]:JSON[_0x59cbb3(0x319)](_0x3157ea,null,0x2)));}}[a0_0x55f44d(0x45e)](_0x577e2c,_0x1bbb76){const _0x5a5e29=a0_0x55f44d;let _0x1d591d=_0x1bbb76[_0x5a5e29(0x361)],_0x20f2ba=_0x1bbb76[_0x5a5e29(0x416)];typeof _0x1d591d==_0x5a5e29(0x4a1)&&(_0x1d591d=this[_0x5a5e29(0x683)](_0x1d591d,_0x577e2c['chatLog'][_0x5a5e29(0x39b)])??''),typeof _0x20f2ba=='string'&&(_0x20f2ba=this[_0x5a5e29(0x683)](_0x20f2ba,_0x577e2c['chatLog'][_0x5a5e29(0x39b)])??'');try{switch(_0x1bbb76[_0x5a5e29(0x727)]){case _0x5a5e29(0x582):return _0x1d591d===_0x20f2ba;case _0x5a5e29(0x210):return _0x1d591d!==_0x20f2ba;case _0x5a5e29(0x57f):return this[_0x5a5e29(0x57f)](_0x1d591d,_0x20f2ba);case'notContains':return!this['contains'](_0x1d591d,_0x20f2ba);case _0x5a5e29(0x349):return parseFloat(_0x1d591d)>parseFloat(_0x20f2ba);case _0x5a5e29(0x6b8):return parseFloat(_0x1d591d)<parseFloat(_0x20f2ba);case'notEmpty':return _0x1d591d!=='';case _0x5a5e29(0x88d):return _0x1d591d==='';case _0x5a5e29(0x39e):return new RegExp(_0x20f2ba)[_0x5a5e29(0x59e)](_0x1d591d);case _0x5a5e29(0x5fe):return!new RegExp(_0x20f2ba)[_0x5a5e29(0x59e)](_0x1d591d);default:return!0x1;}}catch(_0x33386b){return console[_0x5a5e29(0x752)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x33386b),!0x1;}}[a0_0x55f44d(0x57f)](_0x1ff106,_0x3f8433){const _0x9cbd0b=a0_0x55f44d;if(_0x1ff106===_0x3f8433&&/^\d+$/['test'](_0x1ff106))return!0x0;if(this[_0x9cbd0b(0x36e)](_0x1ff106)&&/^\d+$/[_0x9cbd0b(0x59e)](_0x3f8433)){let _0x1700b5=_0x1ff106[_0x9cbd0b(0x44b)](',')['map'](_0x13196a=>parseInt(_0x13196a[_0x9cbd0b(0x855)]())),_0x303ca5=parseInt(_0x3f8433);return _0x1700b5[_0x9cbd0b(0x52f)](_0x303ca5);}return _0x1ff106[_0x9cbd0b(0x52f)](_0x3f8433);}['isListOfNumbers'](_0x48d582){return/^\d+(,\d+)*$/['test'](_0x48d582);}[a0_0x55f44d(0x546)](_0x506454){const _0x5d6066=a0_0x55f44d;let _0x4caf81=!0x0,_0x1acb39=null;for(let _0x17d40b of _0x506454){let _0x307813=this['evaluateConditionTest'](_0x17d40b);if(_0x1acb39==='or'&&_0x307813){_0x4caf81=!0x0;break;}if(_0x1acb39==='and'&&!_0x307813){_0x4caf81=!0x1;break;}_0x1acb39=_0x17d40b[_0x5d6066(0x5ac)];}return _0x4caf81;}['evaluateConditionTest'](_0x4c2b23){const _0x242b57=a0_0x55f44d;let _0x28facc=_0x4c2b23['firstValue'],_0x56faa6=_0x4c2b23['secondValue'];try{switch(_0x4c2b23['expression']){case _0x242b57(0x582):return String(_0x28facc)===String(_0x56faa6);case'notEqual':return String(_0x28facc)!==String(_0x56faa6);case'contains':return String(_0x28facc)[_0x242b57(0x52f)](String(_0x56faa6));case'notContains':return!String(_0x28facc)[_0x242b57(0x52f)](String(_0x56faa6));case'greater':return parseFloat(String(_0x28facc))>parseFloat(String(_0x56faa6));case'less':return parseFloat(String(_0x28facc))<parseFloat(String(_0x56faa6));case _0x242b57(0x70f):return String(_0x28facc)!=='';case _0x242b57(0x88d):return String(_0x28facc)==='';case'matchRegex':return new RegExp(String(_0x56faa6))[_0x242b57(0x59e)](String(_0x28facc));case _0x242b57(0x5fe):return!new RegExp(String(_0x56faa6))[_0x242b57(0x59e)](String(_0x28facc));default:return!0x1;}}catch(_0xe4fb50){return console[_0x242b57(0x752)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0xe4fb50),!0x1;}}async[a0_0x55f44d(0x7b8)](_0x89ee3b,_0x2e4134){const _0x571b3b=a0_0x55f44d;if(this[_0x571b3b(0x3ff)][_0x571b3b(0x1fa)](this[_0x571b3b(0x3b5)]+'\x20('+this[_0x571b3b(0x6bd)]['wuid']+_0x571b3b(0x4da)),!_0x89ee3b||!_0x2e4134)return this['logger'][_0x571b3b(0x752)](this[_0x571b3b(0x3b5)]+'\x20('+this[_0x571b3b(0x6bd)][_0x571b3b(0x6f5)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x233cf4=_0x89ee3b[_0x571b3b(0x24e)][_0x571b3b(0x627)]['key']['id'];this[_0x571b3b(0x3ff)][_0x571b3b(0x1fa)](this['instanceName']+'\x20('+this['instance'][_0x571b3b(0x6f5)]+_0x571b3b(0x221)+_0x233cf4);let _0x421686={'key':{'id':_0x233cf4}},_0x5baf42=_0x2e4134[_0x571b3b(0x3a4)];_0x89ee3b[_0x571b3b(0x24e)][_0x571b3b(0x39b)]['_'+_0x5baf42+'.fileUrl']=null,_0x89ee3b[_0x571b3b(0x24e)][_0x571b3b(0x39b)]['_'+_0x5baf42+_0x571b3b(0x789)]=null,_0x89ee3b[_0x571b3b(0x24e)][_0x571b3b(0x39b)]['_'+_0x5baf42+'.extension']=null,_0x89ee3b[_0x571b3b(0x24e)][_0x571b3b(0x39b)]['_'+_0x5baf42+'.type']=_0x89ee3b[_0x571b3b(0x24e)][_0x571b3b(0x627)][_0x571b3b(0x31b)];try{let _0x43e7bd=await this[_0x571b3b(0x8a4)](_0x421686);this[_0x571b3b(0x3ff)][_0x571b3b(0x1fa)](this[_0x571b3b(0x3b5)]+'\x20('+this[_0x571b3b(0x6bd)][_0x571b3b(0x6f5)]+_0x571b3b(0x327)),_0x89ee3b[_0x571b3b(0x24e)][_0x571b3b(0x39b)]['_'+_0x5baf42+_0x571b3b(0x67b)]=_0x43e7bd[_0x571b3b(0x645)],_0x89ee3b[_0x571b3b(0x24e)][_0x571b3b(0x39b)]['_'+_0x5baf42+'.mimetype']=_0x43e7bd['mimetype'];let _0x17a40a=_0x43e7bd[_0x571b3b(0x535)][_0x571b3b(0x7a4)](/\/(\w+)$/),_0xfe4738=_0x17a40a?_0x17a40a[0x1]:null;_0x89ee3b[_0x571b3b(0x24e)][_0x571b3b(0x39b)]['_'+_0x5baf42+_0x571b3b(0x21b)]=_0xfe4738,this[_0x571b3b(0x3ff)][_0x571b3b(0x1fa)](this[_0x571b3b(0x3b5)]+'\x20('+this['instance'][_0x571b3b(0x6f5)]+'):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27'+_0x5baf42+'\x27.');}catch(_0xa5c60f){this['logger'][_0x571b3b(0x752)](this['instanceName']+'\x20('+this[_0x571b3b(0x6bd)][_0x571b3b(0x6f5)]+_0x571b3b(0x5d1)+_0xa5c60f);}let _0x5ec95d=_0x89ee3b[_0x571b3b(0x24e)]['lastReceivedMessage']['text']||_0x89ee3b[_0x571b3b(0x24e)]['lastReceivedMessage'][_0x571b3b(0x32a)]||_0x89ee3b[_0x571b3b(0x24e)][_0x571b3b(0x627)][_0x571b3b(0x27c)];try{_0x89ee3b[_0x571b3b(0x24e)][_0x571b3b(0x39b)]||(_0x89ee3b[_0x571b3b(0x24e)][_0x571b3b(0x39b)]={});let _0x216873=_0x89ee3b[_0x571b3b(0x24e)]['realVariables'][_0x5baf42];_0x89ee3b[_0x571b3b(0x24e)][_0x571b3b(0x39b)][_0x5baf42]=_0x5ec95d;let _0x45424f={'variable':_0x5baf42,'oldValue':_0x216873,'newValue':_0x5ec95d};this['updateConversation'](_0x89ee3b,_0x2e4134,_0x45424f),this[_0x571b3b(0x3ff)]['verbose'](this[_0x571b3b(0x3b5)]+'\x20('+this[_0x571b3b(0x6bd)][_0x571b3b(0x6f5)]+_0x571b3b(0x37c));}catch(_0x9a8a67){let _0xb5d980={'error':!0x0,'errorLog':_0x9a8a67['toString']()};return this[_0x571b3b(0x854)](_0x89ee3b,_0x2e4134,_0xb5d980),this[_0x571b3b(0x3ff)][_0x571b3b(0x752)](this[_0x571b3b(0x3b5)]+'\x20('+this[_0x571b3b(0x6bd)][_0x571b3b(0x6f5)]+_0x571b3b(0x3ee)+(_0x9a8a67 instanceof Error?_0x9a8a67[_0x571b3b(0x57a)]:JSON[_0x571b3b(0x319)](_0x9a8a67,null,0x2))),null;}}async[a0_0x55f44d(0x4c0)](_0x8354d6,_0x48cbb8){const _0x34ccaf=a0_0x55f44d;if(this[_0x34ccaf(0x3ff)][_0x34ccaf(0x1fa)](this['instanceName']+'\x20('+this[_0x34ccaf(0x6bd)][_0x34ccaf(0x6f5)]+_0x34ccaf(0x7d5)),!_0x8354d6||!_0x48cbb8)return this[_0x34ccaf(0x3ff)][_0x34ccaf(0x752)](this['instanceName']+'\x20('+this[_0x34ccaf(0x6bd)][_0x34ccaf(0x6f5)]+_0x34ccaf(0x867)),null;let _0x3a9994=Date[_0x34ccaf(0x692)](),_0x3099a6=parseInt(_0x48cbb8['stopMinutes'],0xa);if(isNaN(_0x3099a6))return this[_0x34ccaf(0x3ff)][_0x34ccaf(0x752)](this[_0x34ccaf(0x3b5)]+'\x20('+this[_0x34ccaf(0x6bd)][_0x34ccaf(0x6f5)]+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número'),null;let _0x106e27={'newStoppedUntil':_0x3a9994+_0x3099a6*0x3c*0x3e8};return await this[_0x34ccaf(0x854)](_0x8354d6,_0x48cbb8,_0x106e27,!0x0),null;}async[a0_0x55f44d(0x2f5)](_0x4e4d6d,_0x5989b9){const _0x575f9d=a0_0x55f44d;try{switch(_0x5989b9[_0x575f9d(0x4c8)][_0x575f9d(0x859)]){case _0x575f9d(0x36b):await this[_0x575f9d(0x5be)](_0x4e4d6d,_0x5989b9);break;case _0x575f9d(0x3c0):await this[_0x575f9d(0x5fb)](_0x4e4d6d,_0x5989b9);break;case _0x575f9d(0x736):await this['uazapiSendLocation'](_0x4e4d6d,_0x5989b9);break;case'sendAudio':await this[_0x575f9d(0x2b4)](_0x4e4d6d,_0x5989b9);break;case _0x575f9d(0x3e6):await this[_0x575f9d(0x4bf)](_0x4e4d6d,_0x5989b9);break;case _0x575f9d(0x7dd):await this[_0x575f9d(0x6ff)](_0x4e4d6d,_0x5989b9);break;case _0x575f9d(0x29a):await this[_0x575f9d(0x6ff)](_0x4e4d6d,_0x5989b9);break;case _0x575f9d(0x7b1):await this['uazapiDeleteMessage'](_0x4e4d6d,_0x5989b9);break;default:this[_0x575f9d(0x3ff)][_0x575f9d(0x752)](this[_0x575f9d(0x3b5)]+'\x20('+this[_0x575f9d(0x6bd)][_0x575f9d(0x6f5)]+_0x575f9d(0x798)+_0x5989b9[_0x575f9d(0x4c8)][_0x575f9d(0x859)]);}}catch(_0x2033a5){this[_0x575f9d(0x3ff)][_0x575f9d(0x752)](this[_0x575f9d(0x3b5)]+'\x20('+this[_0x575f9d(0x6bd)]['wuid']+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+(_0x2033a5 instanceof Error?_0x2033a5[_0x575f9d(0x57a)]:JSON['stringify'](_0x2033a5,null,0x2)));}}async[a0_0x55f44d(0x854)](_0x5115ff,_0x50240c,_0x224146,_0x426ea8=!0x1,_0x2b5643=!0x1){const _0x9ee0cf=a0_0x55f44d;_0x5115ff['chatLog'][_0x9ee0cf(0x7fa)]||(_0x5115ff[_0x9ee0cf(0x24e)][_0x9ee0cf(0x7fa)]=[]);let _0x179ff7=(_0x5115ff[_0x9ee0cf(0x24e)][_0x9ee0cf(0x7fa)]?.[_0x9ee0cf(0x2af)]??0x0)+0x1,_0x1a5f40=_0x5115ff[_0x9ee0cf(0x24e)]['blockLogs']['filter'](_0x2489fc=>String(_0x2489fc[_0x9ee0cf(0x749)])===String(_0x50240c[_0x9ee0cf(0x20e)]))[_0x9ee0cf(0x2af)]+0x1,_0x476c6e=_0x224146?.[_0x9ee0cf(0x6f3)]??Date[_0x9ee0cf(0x692)](),_0x41a83d=_0x224146?.['error']?_0x224146[_0x9ee0cf(0x7b4)]??_0x224146['error']['toString']():void 0x0,_0x2facfc={'onTime':_0x476c6e,'blockId':_0x50240c[_0x9ee0cf(0x20e)],'order':_0x179ff7,'activatedCount':_0x1a5f40,'error':_0x224146?.[_0x9ee0cf(0x752)]??!0x1,'messageId':_0x224146?.['messageId'],'apiResponse':_0x224146?.[_0x9ee0cf(0x29e)],'apiResponseString':_0x224146?.[_0x9ee0cf(0x29e)]?JSON[_0x9ee0cf(0x319)](_0x224146?.[_0x9ee0cf(0x29e)]):void 0x0,'variable':_0x224146?.[_0x9ee0cf(0x796)],'oldValue':_0x224146?.[_0x9ee0cf(0x534)],'newValue':_0x224146?.[_0x9ee0cf(0x237)],'newStoppedUntil':_0x224146?.[_0x9ee0cf(0x397)],'moreLogs':_0x224146?.[_0x9ee0cf(0x202)],'errorLog':_0x41a83d};if(_0x224146['moreLogs']&&_0x224146[_0x9ee0cf(0x202)][_0x9ee0cf(0x2af)]>0x0){let _0x511517=_0x224146[_0x9ee0cf(0x202)][_0x9ee0cf(0x2b0)](_0x5b8e22=>this[_0x9ee0cf(0x628)](_0x5b8e22,_0x5115ff[_0x9ee0cf(0x24e)][_0x9ee0cf(0x39b)]));_0x2facfc[_0x9ee0cf(0x202)]=_0x511517;}_0x5115ff[_0x9ee0cf(0x24e)]['realVariables']||(_0x5115ff[_0x9ee0cf(0x24e)][_0x9ee0cf(0x39b)]={}),_0x5115ff[_0x9ee0cf(0x24e)][_0x9ee0cf(0x39b)][_0x9ee0cf(0x23a)]=String(_0x1a5f40),_0x5115ff['chatLog'][_0x9ee0cf(0x39b)][_0x9ee0cf(0x828)]=String(_0x224146['error']??!0x1),_0x5115ff[_0x9ee0cf(0x24e)][_0x9ee0cf(0x7fa)]['push'](_0x2facfc),_0x5115ff[_0x9ee0cf(0x24e)][_0x9ee0cf(0x7bd)]=_0x50240c['_id'][_0x9ee0cf(0x6d8)](),_0x5115ff[_0x9ee0cf(0x24e)][_0x9ee0cf(0x20b)]&&(_0x5115ff[_0x9ee0cf(0x24e)]['lastSendMessage']=_0x5115ff['chatLog'][_0x9ee0cf(0x20b)]),_0x5115ff['chatLog'][_0x9ee0cf(0x627)]&&(_0x5115ff[_0x9ee0cf(0x24e)][_0x9ee0cf(0x627)]=_0x5115ff[_0x9ee0cf(0x24e)][_0x9ee0cf(0x627)]),_0x5115ff[_0x9ee0cf(0x24e)][_0x9ee0cf(0x31c)]&&(_0x5115ff[_0x9ee0cf(0x24e)][_0x9ee0cf(0x31c)]=_0x5115ff[_0x9ee0cf(0x24e)][_0x9ee0cf(0x31c)]),_0x2b5643&&(_0x5115ff[_0x9ee0cf(0x346)]=_0x9ee0cf(0x1f9)),_0x426ea8?this[_0x9ee0cf(0x322)](_0x5115ff):this[_0x9ee0cf(0x1f5)](_0x5115ff,_0x50240c);}['replaceVariablesLogs'](_0xf7e564,_0x58f7d6){const _0x4334a4=a0_0x55f44d;return _0xf7e564[_0x4334a4(0x8b0)](/\{\{([^}]+)\}\}/g,(_0x27bb8f,_0x55189f)=>_0x58f7d6[_0x55189f]?'{{'+_0x55189f+_0x4334a4(0x5a4)+_0x58f7d6[_0x55189f]+'\x22':'{{'+_0x55189f+_0x4334a4(0x7ae));}async[a0_0x55f44d(0x322)](_0x34c37f){const _0x46d9cd=a0_0x55f44d;try{let _0x6ed4ee=Object[_0x46d9cd(0x35c)](_0x34c37f[_0x46d9cd(0x24e)][_0x46d9cd(0x39b)])[_0x46d9cd(0x2b0)](([_0x5a873c,_0x3d79fa])=>({'name':_0x5a873c,'value':_0x3d79fa})),_0x2658b5={'status':_0x34c37f[_0x46d9cd(0x346)],'blocks':_0x34c37f[_0x46d9cd(0x86a)],'waitingMenu_id':_0x34c37f[_0x46d9cd(0x41e)],'waitingMenu_text':_0x34c37f[_0x46d9cd(0x4d5)],'waitingMenu_replyOptions':_0x34c37f[_0x46d9cd(0x55e)],'chatLog':{'lastBlockId':_0x34c37f[_0x46d9cd(0x24e)][_0x46d9cd(0x7bd)],'lastSendMessage':_0x34c37f[_0x46d9cd(0x24e)]['lastSendMessage'],'lastReceivedMessage':_0x34c37f[_0x46d9cd(0x24e)]['lastReceivedMessage'],'lastCondition':_0x34c37f['chatLog'][_0x46d9cd(0x31c)],'chatVariables':_0x6ed4ee,'realVariables':_0x34c37f[_0x46d9cd(0x24e)][_0x46d9cd(0x39b)],'blockLogs':_0x34c37f[_0x46d9cd(0x24e)]['blockLogs']}},_0x1b80e9=await this[_0x46d9cd(0x82b)][_0x46d9cd(0x4fb)][_0x46d9cd(0x540)](_0x34c37f[_0x46d9cd(0x20e)],_0x2658b5,this[_0x46d9cd(0x6bd)][_0x46d9cd(0x6f5)]);if(_0x1b80e9){this[_0x46d9cd(0x3ff)]['verbose'](this[_0x46d9cd(0x3b5)]+'\x20('+this[_0x46d9cd(0x6bd)][_0x46d9cd(0x6f5)]+_0x46d9cd(0x414)+_0x1b80e9[_0x46d9cd(0x20e)]);try{let _0x291a5a=['nome',_0x46d9cd(0x4ec),'email',_0x46d9cd(0x8a5),_0x46d9cd(0x346),_0x46d9cd(0x4a3),_0x46d9cd(0x66c),_0x46d9cd(0x1ea),_0x46d9cd(0x73e)];if(!this[_0x46d9cd(0x8a8)]&&(await this['getAutomateSystem'](),!this[_0x46d9cd(0x8a8)]))throw new Error(_0x46d9cd(0x748));let _0x42f9fc=this[_0x46d9cd(0x8a8)]?.[_0x46d9cd(0x426)][_0x46d9cd(0x2b0)](_0x3ded73=>_0x3ded73[_0x46d9cd(0x754)]),_0x492587={};Object[_0x46d9cd(0x35c)](_0x34c37f['chatLog'][_0x46d9cd(0x39b)])[_0x46d9cd(0x27f)](([_0x220aaa,_0x358beb])=>{const _0x4d51c2=_0x46d9cd;_0x291a5a[_0x4d51c2(0x52f)](_0x220aaa)&&(_0x220aaa===_0x4d51c2(0x1ea)&&typeof _0x358beb==_0x4d51c2(0x4a1)?_0x492587[_0x220aaa]=_0x358beb['split'](',')[_0x4d51c2(0x2b0)](_0x14b94e=>_0x14b94e[_0x4d51c2(0x855)]())[_0x4d51c2(0x804)](_0x520d16=>_0x520d16!==''):_0x220aaa===_0x4d51c2(0x73e)&&typeof _0x358beb==_0x4d51c2(0x4a1)?_0x492587[_0x220aaa]=_0x358beb[_0x4d51c2(0x44b)](',')[_0x4d51c2(0x2b0)](_0x5837f9=>_0x5837f9[_0x4d51c2(0x855)]())['filter'](_0x380c1e=>_0x380c1e!==''):_0x492587[_0x220aaa]=_0x358beb);});let _0x2607e6=_0x34c37f['chatLog'][_0x46d9cd(0x7fa)][_0x34c37f[_0x46d9cd(0x24e)]['blockLogs'][_0x46d9cd(0x2af)]-0x1];if(_0x2607e6){let _0x5e5ea2=_0x2607e6[_0x46d9cd(0x397)];_0x5e5ea2!==void 0x0&&(_0x492587[_0x46d9cd(0x371)]=_0x5e5ea2[_0x46d9cd(0x6d8)]());}let _0x2afeca=_0x6ed4ee['filter'](_0x3b0586=>_0x42f9fc[_0x46d9cd(0x52f)](_0x3b0586[_0x46d9cd(0x754)]));this['logger'][_0x46d9cd(0x1fa)](this[_0x46d9cd(0x3b5)]+'\x20('+this[_0x46d9cd(0x6bd)]['wuid']+_0x46d9cd(0x85a)),this[_0x46d9cd(0x3ff)][_0x46d9cd(0x1fa)](_0x492587),this[_0x46d9cd(0x3ff)][_0x46d9cd(0x1fa)](this[_0x46d9cd(0x3b5)]+'\x20('+this[_0x46d9cd(0x6bd)][_0x46d9cd(0x6f5)]+_0x46d9cd(0x3d2)),this[_0x46d9cd(0x3ff)][_0x46d9cd(0x1fa)](_0x2afeca);let _0x155fa6=_0x2afeca[_0x46d9cd(0x2b0)](_0x17609f=>{const _0x2f803b=_0x46d9cd;let _0xa860f6=this[_0x2f803b(0x8a8)]?.[_0x2f803b(0x426)][_0x2f803b(0x408)](_0x65fc6a=>_0x65fc6a[_0x2f803b(0x754)]===_0x17609f[_0x2f803b(0x754)]);if(!_0xa860f6)throw new Error(_0x2f803b(0x41d)+_0x17609f['name']);return{'_id':_0xa860f6[_0x2f803b(0x20e)],'value':_0x17609f[_0x2f803b(0x59c)]};});this[_0x46d9cd(0x3ff)]['verbose'](this[_0x46d9cd(0x3b5)]+'\x20('+this['instance'][_0x46d9cd(0x6f5)]+'):\x20transformedCustomFieldVariables'),this['logger'][_0x46d9cd(0x1fa)](_0x155fa6),await this[_0x46d9cd(0x663)](_0x34c37f[_0x46d9cd(0x2a0)],_0x492587,_0x155fa6);}catch(_0x247076){this[_0x46d9cd(0x3ff)][_0x46d9cd(0x752)](this[_0x46d9cd(0x3b5)]+'\x20('+this[_0x46d9cd(0x6bd)][_0x46d9cd(0x6f5)]+_0x46d9cd(0x3d0)+(_0x247076 instanceof Error?_0x247076[_0x46d9cd(0x57a)]:JSON[_0x46d9cd(0x319)](_0x247076,null,0x2)));}}else this[_0x46d9cd(0x3ff)][_0x46d9cd(0x752)](this[_0x46d9cd(0x3b5)]+'\x20('+this[_0x46d9cd(0x6bd)][_0x46d9cd(0x6f5)]+_0x46d9cd(0x776));}catch(_0x4bbd4c){this[_0x46d9cd(0x3ff)]['error'](this['instanceName']+'\x20('+this[_0x46d9cd(0x6bd)][_0x46d9cd(0x6f5)]+_0x46d9cd(0x5cc)+(_0x4bbd4c instanceof Error?_0x4bbd4c[_0x46d9cd(0x57a)]:JSON[_0x46d9cd(0x319)](_0x4bbd4c,null,0x2)));}}async['saveChatVariables'](_0x43849f,_0x297303,_0x40cb37){const _0x20b231=a0_0x55f44d;try{let _0x3d1ad1={'leadInfo.leadnome':_0x297303['nome'],'leadInfo.nomecompleto':_0x297303[_0x20b231(0x4ec)],'leadInfo.email':_0x297303[_0x20b231(0x631)],'leadInfo.cpf':_0x297303[_0x20b231(0x8a5)],'leadInfo.status':_0x297303[_0x20b231(0x346)],'leadInfo.notas':_0x297303['notas'],'leadInfo.responsavelid':_0x297303[_0x20b231(0x66c)],'leadInfo.tags':_0x297303[_0x20b231(0x1ea)],'leadInfo.etiquetas':_0x297303[_0x20b231(0x73e)],'leadInfo.customFields':_0x40cb37},_0x58e01a=await this['repository']['chat'][_0x20b231(0x720)]({'where':{'_id':_0x43849f}},this[_0x20b231(0x6bd)][_0x20b231(0x6f5)]),_0x110ff2=new Set(_0x58e01a[_0x20b231(0x653)][_0x20b231(0x73e)]||[]),_0x5655cb=new Set(_0x297303[_0x20b231(0x73e)]||[]),_0xcd4f30=await this[_0x20b231(0x82b)][_0x20b231(0x521)][_0x20b231(0x408)]({'where':{}},this['instance'][_0x20b231(0x6f5)]),_0x483668=new Set(_0xcd4f30[_0x20b231(0x2b0)](_0x42b512=>_0x42b512['_id'])),_0x314cc2=[..._0x5655cb][_0x20b231(0x804)](_0xf6583=>!_0x110ff2['has'](_0xf6583)&&_0x483668[_0x20b231(0x5ff)](_0xf6583)),_0x26e189=[..._0x110ff2][_0x20b231(0x804)](_0x4fc994=>!_0x5655cb[_0x20b231(0x5ff)](_0x4fc994));for(let _0x3effa7 of _0x314cc2)await this[_0x20b231(0x795)](_0x3effa7,_0x58e01a[_0x20b231(0x20e)]),_0x110ff2[_0x20b231(0x53f)](_0x3effa7);for(let _0x5e3c7c of _0x26e189)await this[_0x20b231(0x47f)](_0x5e3c7c,_0x58e01a['_id']),_0x110ff2['delete'](_0x5e3c7c);if(_0x20b231(0x371)in _0x297303){let _0x55648f=_0x297303[_0x20b231(0x371)];_0x3d1ad1[_0x20b231(0x618)]=_0x55648f?Number(_0x55648f):null;}let _0x5d14a4=await this['repository'][_0x20b231(0x504)][_0x20b231(0x540)]({'where':{'_id':_0x43849f}},_0x3d1ad1,this[_0x20b231(0x6bd)]['wuid']);_0x5d14a4?(this[_0x20b231(0x3ff)]['verbose'](this[_0x20b231(0x3b5)]+'\x20('+this[_0x20b231(0x6bd)][_0x20b231(0x6f5)]+_0x20b231(0x27e)+_0x5d14a4[_0x20b231(0x20e)]),U(this[_0x20b231(0x3b5)],'chats',{'chat':_0x5d14a4})):this['logger']['error'](this[_0x20b231(0x3b5)]+'\x20('+this[_0x20b231(0x6bd)][_0x20b231(0x6f5)]+'):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD');}catch(_0xff046a){this[_0x20b231(0x3ff)][_0x20b231(0x752)](this['instanceName']+'\x20('+this[_0x20b231(0x6bd)]['wuid']+_0x20b231(0x7a2)+(_0xff046a instanceof Error?_0xff046a[_0x20b231(0x57a)]:JSON[_0x20b231(0x319)](_0xff046a,null,0x2)));}}async[a0_0x55f44d(0x25b)](_0xe34c8c,_0x4cdf54){const _0x2af979=a0_0x55f44d;this['logger'][_0x2af979(0x1fa)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2af979(0x5a5)+_0x4cdf54);try{let _0x1124ff=await this['repository'][_0x2af979(0x504)]['updateOne']({'where':{'_id':_0xe34c8c[_0x2af979(0x2a0)]}},{'leadInfo.desativadoFluxoAte':_0x4cdf54},this[_0x2af979(0x6bd)][_0x2af979(0x6f5)]);this[_0x2af979(0x3ff)][_0x2af979(0x1fa)](this['instanceName']+'\x20('+this[_0x2af979(0x6bd)][_0x2af979(0x6f5)]+_0x2af979(0x8ac)+_0xe34c8c[_0x2af979(0x20e)]),this[_0x2af979(0x3ff)][_0x2af979(0x1fa)](this['instanceName']+'\x20('+this[_0x2af979(0x6bd)][_0x2af979(0x6f5)]+_0x2af979(0x5a5)+JSON[_0x2af979(0x319)](_0x1124ff,null,0x2)),_0x1124ff&&U(this['instanceName'],_0x2af979(0x7df),{'chat':_0x1124ff});}catch(_0x3f1e67){this[_0x2af979(0x3ff)][_0x2af979(0x752)](this['instanceName']+'\x20('+this[_0x2af979(0x6bd)]['wuid']+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0x3f1e67 instanceof Error?_0x3f1e67[_0x2af979(0x57a)]:JSON[_0x2af979(0x319)](_0x3f1e67,null,0x2)));}}async[a0_0x55f44d(0x747)](_0x412652){const _0x1eaabd=a0_0x55f44d;try{this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x1eaabd(0x6bd)][_0x1eaabd(0x6f5)]+_0x1eaabd(0x6c3));let _0x4b5999=_0x412652[_0x1eaabd(0x8b0)](/\D/g,''),_0x350dff=await this[_0x1eaabd(0x82b)][_0x1eaabd(0x49b)][_0x1eaabd(0x720)]({'where':{'testingWith':_0x4b5999}},this[_0x1eaabd(0x6bd)]['wuid']);return _0x350dff||(this['logger'][_0x1eaabd(0x1fa)](this['instanceName']+'\x20('+this['instance'][_0x1eaabd(0x6f5)]+_0x1eaabd(0x311)),_0x350dff=await this[_0x1eaabd(0x82b)]['flow']['findOne']({'where':{'default':!0x0}},this[_0x1eaabd(0x6bd)][_0x1eaabd(0x6f5)])),_0x350dff||(this[_0x1eaabd(0x3ff)][_0x1eaabd(0x1fa)](this[_0x1eaabd(0x3b5)]+'\x20('+this['instance'][_0x1eaabd(0x6f5)]+'):\x20Não\x20achou\x20nenhum\x20flow'),null);}catch(_0xf70218){return this[_0x1eaabd(0x3ff)][_0x1eaabd(0x752)](this[_0x1eaabd(0x3b5)]+'\x20('+this['instance'][_0x1eaabd(0x6f5)]+_0x1eaabd(0x306)+(_0xf70218 instanceof Error?_0xf70218['message']:JSON['stringify'](_0xf70218,null,0x2))),null;}}async[a0_0x55f44d(0x2ca)](_0x3c1665,_0x380fd5){const _0x2c0492=a0_0x55f44d;try{let _0x168a47=!!_0x380fd5[_0x2c0492(0x27c)],_0x45d94d=_0x380fd5[_0x2c0492(0x360)],_0x54a6ed=null;if(this[_0x2c0492(0x3ff)][_0x2c0492(0x1fa)](this[_0x2c0492(0x3b5)]+'\x20('+this['instance'][_0x2c0492(0x6f5)]+_0x2c0492(0x387)+_0x168a47+_0x2c0492(0x1e6)+_0x45d94d),_0x168a47){this['logger'][_0x2c0492(0x1fa)](this[_0x2c0492(0x3b5)]+'\x20('+this[_0x2c0492(0x6bd)][_0x2c0492(0x6f5)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x37af02={'where':{'remoteJid':_0x3c1665,'waitingMenu_id':_0x45d94d}};if(_0x54a6ed=await this[_0x2c0492(0x82b)][_0x2c0492(0x4fb)]['findOne'](_0x37af02,this[_0x2c0492(0x6bd)][_0x2c0492(0x6f5)]),!_0x54a6ed)return this[_0x2c0492(0x3ff)][_0x2c0492(0x1fa)](this['instanceName']+'\x20('+this['instance'][_0x2c0492(0x6f5)]+_0x2c0492(0x318)),null;let _0x21cee1=Date[_0x2c0492(0x692)](),_0x4a86c6=_0x54a6ed?.[_0x2c0492(0x4a9)]||0x0,_0x93bf12=_0x21cee1-_0x4a86c6*0x3c*0x3e8;if(_0x54a6ed['lastInteraction']<_0x93bf12){this[_0x2c0492(0x3ff)][_0x2c0492(0x1fa)](this[_0x2c0492(0x3b5)]+'\x20('+this['instance'][_0x2c0492(0x6f5)]+_0x2c0492(0x3b1));let _0x346dd3={'number':_0x54a6ed['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x54a6ed[_0x2c0492(0x69c)]}};await this[_0x2c0492(0x8b3)](_0x346dd3);let _0x40d9a1={'status':_0x2c0492(0x1f9),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository'][_0x2c0492(0x4fb)][_0x2c0492(0x540)](_0x54a6ed[_0x2c0492(0x20e)],_0x40d9a1,this[_0x2c0492(0x6bd)]['wuid']),null;}return _0x54a6ed[_0x2c0492(0x5a2)]=Date[_0x2c0492(0x692)](),_0x54a6ed['chatLog']['lastReceivedMessage']=_0x380fd5,_0x54a6ed;}else{this[_0x2c0492(0x3ff)]['verbose'](this[_0x2c0492(0x3b5)]+'\x20('+this[_0x2c0492(0x6bd)][_0x2c0492(0x6f5)]+_0x2c0492(0x6bc)+this[_0x2c0492(0x6bd)][_0x2c0492(0x6f5)]+_0x2c0492(0x338)),this[_0x2c0492(0x3ff)][_0x2c0492(0x1fa)](this[_0x2c0492(0x3b5)]+'\x20('+this[_0x2c0492(0x6bd)][_0x2c0492(0x6f5)]+'):\x20Procurando\x20conversa');let _0x31514c={'where':{'remoteJid':_0x3c1665,'status':_0x2c0492(0x2fb)}};if(_0x54a6ed=await this[_0x2c0492(0x82b)]['flowConversation'][_0x2c0492(0x720)](_0x31514c,this[_0x2c0492(0x6bd)][_0x2c0492(0x6f5)]),!_0x54a6ed){let _0x3c2906=await this[_0x2c0492(0x747)](_0x3c1665);if(_0x3c2906&&(_0x54a6ed=await this[_0x2c0492(0x69e)](_0x3c2906,_0x380fd5[_0x2c0492(0x42e)],_0x380fd5)),!_0x54a6ed)return null;}let _0x3dd88f=Date[_0x2c0492(0x692)](),_0x305c0d=_0x54a6ed?.[_0x2c0492(0x4a9)]||0x0,_0x593561=_0x3dd88f-_0x305c0d*0x3c*0x3e8;if(this['logger'][_0x2c0492(0x1fa)](this[_0x2c0492(0x3b5)]+'\x20('+this[_0x2c0492(0x6bd)]['wuid']+_0x2c0492(0x83b)+_0x3dd88f+',\x20Minutes\x20to\x20Close:\x20'+_0x305c0d+_0x2c0492(0x552)+_0x593561),this[_0x2c0492(0x3ff)][_0x2c0492(0x1fa)](this[_0x2c0492(0x3b5)]+'\x20('+this['instance'][_0x2c0492(0x6f5)]+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this['logger'][_0x2c0492(0x1fa)](this[_0x2c0492(0x3b5)]+'\x20('+this['instance'][_0x2c0492(0x6f5)]+_0x2c0492(0x7da)+_0x54a6ed['lastInteraction']),this[_0x2c0492(0x3ff)][_0x2c0492(0x1fa)](this[_0x2c0492(0x3b5)]+'\x20('+this[_0x2c0492(0x6bd)][_0x2c0492(0x6f5)]+_0x2c0492(0x885)+_0x593561),_0x54a6ed[_0x2c0492(0x5a2)]<_0x593561){this[_0x2c0492(0x3ff)][_0x2c0492(0x1fa)](this[_0x2c0492(0x3b5)]+'\x20('+this[_0x2c0492(0x6bd)][_0x2c0492(0x6f5)]+_0x2c0492(0x505));let _0x1df4b4=await this[_0x2c0492(0x747)](_0x3c1665);if(_0x1df4b4===null)return null;_0x54a6ed&&await this[_0x2c0492(0x82b)][_0x2c0492(0x4fb)][_0x2c0492(0x540)](_0x54a6ed[_0x2c0492(0x20e)],{'status':'closed'},this[_0x2c0492(0x6bd)][_0x2c0492(0x6f5)]),_0x54a6ed=await this[_0x2c0492(0x69e)](_0x1df4b4,_0x380fd5[_0x2c0492(0x42e)],_0x380fd5);}return _0x54a6ed['lastInteraction']=_0x3dd88f,_0x54a6ed[_0x2c0492(0x24e)][_0x2c0492(0x627)]=_0x380fd5,_0x54a6ed;}}catch(_0x3eb590){return this[_0x2c0492(0x3ff)]['error'](this['instanceName']+'\x20('+this[_0x2c0492(0x6bd)][_0x2c0492(0x6f5)]+'):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20'+(_0x3eb590 instanceof Error?_0x3eb590[_0x2c0492(0x57a)]:JSON[_0x2c0492(0x319)](_0x3eb590,null,0x2))),null;}}async[a0_0x55f44d(0x69e)](_0x425915,_0x4a3c5b,_0x1fb8ef){const _0x21acc4=a0_0x55f44d;this[_0x21acc4(0x3ff)][_0x21acc4(0x1fa)](this[_0x21acc4(0x3b5)]+'\x20('+this[_0x21acc4(0x6bd)][_0x21acc4(0x6f5)]+'):\x20Criando\x20nova\x20conversa[createNewConversation]');try{let _0x1becfc=require(_0x21acc4(0x6cf))[_0x21acc4(0x6ad)],_0x2988f5=Date[_0x21acc4(0x692)](),_0x469591=_0x21acc4(0x5bb),_0x2774a9=_0x4a3c5b[_0x21acc4(0x7cf)]?null:_0x1fb8ef,_0x32dbde=_0x4a3c5b[_0x21acc4(0x7cf)]?_0x1fb8ef:null,_0x47dde6=_0x4a3c5b['remoteJid'];await this[_0x21acc4(0x812)](_0x47dde6);let _0x221f01={..._0x425915,'chatLog':null},_0x65d369=await this[_0x21acc4(0x2b6)](_0x221f01[_0x21acc4(0x353)]),_0x2303e3=await this['getVariablesChat'](_0x47dde6),_0x2c3698={..._0x65d369,..._0x2303e3,'_remoteJid':_0x47dde6},_0xc2e167={'lastReceivedMessage':_0x2774a9,'lastSendMessage':_0x32dbde,'lastBlockId':_0x469591,'lastCondition':!0x0,'realVariables':_0x2c3698};_0x221f01[_0x21acc4(0x24e)]=_0xc2e167,delete _0x221f01[_0x21acc4(0x20e)],_0x221f01[_0x21acc4(0x20e)]=new _0x1becfc(),_0x221f01[_0x21acc4(0x5a2)]=_0x2988f5,_0x221f01['status']=_0x21acc4(0x2fb),_0x221f01[_0x21acc4(0x2a0)]=_0x47dde6;let _0x5391c7=await this[_0x21acc4(0x82b)]['flowConversation']['updateOne'](_0x221f01[_0x21acc4(0x20e)],_0x221f01,this['instance'][_0x21acc4(0x6f5)]);return this[_0x21acc4(0x3ff)]['verbose'](this[_0x21acc4(0x3b5)]+'\x20('+this[_0x21acc4(0x6bd)][_0x21acc4(0x6f5)]+_0x21acc4(0x409)),_0x5391c7?_0x221f01:null;}catch(_0x586060){return this[_0x21acc4(0x3ff)][_0x21acc4(0x752)](this[_0x21acc4(0x3b5)]+'\x20('+this[_0x21acc4(0x6bd)][_0x21acc4(0x6f5)]+_0x21acc4(0x7e4)+(_0x586060 instanceof Error?_0x586060[_0x21acc4(0x57a)]:JSON[_0x21acc4(0x319)](_0x586060,null,0x2))),_0x586060;}}async[a0_0x55f44d(0x5be)](_0x1dff68,_0x5abd3f){const _0x3a570f=a0_0x55f44d;let _0xf0ab9e=_0x1dff68['remoteJid'];_0x5abd3f[_0x3a570f(0x4c8)][_0x3a570f(0x2a0)]&&_0x5abd3f[_0x3a570f(0x4c8)][_0x3a570f(0x2a0)][_0x3a570f(0x855)]()!==''&&(_0xf0ab9e=_0x5abd3f['uazapi'][_0x3a570f(0x2a0)]['trim']()),this[_0x3a570f(0x3ff)]['verbose'](this[_0x3a570f(0x3b5)]+'\x20('+this['instance'][_0x3a570f(0x6f5)]+_0x3a570f(0x882));let _0x25a741={'number':_0xf0ab9e,'options':{'delay':_0x5abd3f['uazapi'][_0x3a570f(0x363)],'linkPreview':_0x5abd3f[_0x3a570f(0x4c8)][_0x3a570f(0x530)]},'textMessage':{'text':_0x5abd3f[_0x3a570f(0x4c8)][_0x3a570f(0x68c)]}};try{let _0x5ddf51=await this[_0x3a570f(0x8b3)](_0x25a741);if(_0x5ddf51){let _0x247f84={'_id':_0x5ddf51[_0x3a570f(0x42e)]['id'],'_fromMe':_0x5ddf51[_0x3a570f(0x42e)][_0x3a570f(0x7cf)],'_remoteJid':_0x5ddf51[_0x3a570f(0x42e)][_0x3a570f(0x2a0)]},_0x5d80e9=(0x0,f[_0x3a570f(0x58f)])(_0x5ddf51[_0x3a570f(0x57a)]),_0x458ce7=(0x0,f[_0x3a570f(0x61d)])(_0x5d80e9);_0x1dff68[_0x3a570f(0x24e)][_0x3a570f(0x7bd)]=_0x5abd3f[_0x3a570f(0x20e)][_0x3a570f(0x6d8)]();let {message_normalized:_0x2daf1a}=this[_0x3a570f(0x7c2)](_0x5d80e9,_0x458ce7,null);_0x1dff68[_0x3a570f(0x24e)][_0x3a570f(0x20b)]=await _0x2daf1a;let _0x12da88={'messageId':_0x5ddf51[_0x3a570f(0x42e)]['id']},_0x1f39ff=_0x1dff68['chatLog'][_0x3a570f(0x39b)];Object['assign'](_0x1f39ff,_0x247f84),_0x1dff68[_0x3a570f(0x24e)]['realVariables']=_0x1f39ff,this[_0x3a570f(0x854)](_0x1dff68,_0x5abd3f,_0x12da88);}else{let _0x4f607a={'error':!0x0};this[_0x3a570f(0x854)](_0x1dff68,_0x5abd3f,_0x4f607a),this['logger']['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3a570f(0x2d7));}}catch(_0x1bd734){let _0x4c726b={'error':!0x0,'errorLog':_0x1bd734[_0x3a570f(0x6d8)]()};this[_0x3a570f(0x854)](_0x1dff68,_0x5abd3f,_0x4c726b),this[_0x3a570f(0x3ff)][_0x3a570f(0x752)](this[_0x3a570f(0x3b5)]+'\x20('+this[_0x3a570f(0x6bd)]['wuid']+_0x3a570f(0x768)+(_0x1bd734 instanceof Error?_0x1bd734[_0x3a570f(0x57a)]:JSON[_0x3a570f(0x319)](_0x1bd734,null,0x2)));}}async['uazapiSendMedia'](_0x10b21b,_0x9e946e){const _0x4a5765=a0_0x55f44d;let _0x1ee6e2=_0x10b21b[_0x4a5765(0x2a0)];_0x9e946e['uazapi'][_0x4a5765(0x2a0)]&&_0x9e946e[_0x4a5765(0x4c8)][_0x4a5765(0x2a0)][_0x4a5765(0x855)]()!==''&&(_0x1ee6e2=_0x9e946e[_0x4a5765(0x4c8)][_0x4a5765(0x2a0)]['trim']()),this[_0x4a5765(0x3ff)][_0x4a5765(0x1fa)](this[_0x4a5765(0x3b5)]+'\x20('+this[_0x4a5765(0x6bd)][_0x4a5765(0x6f5)]+_0x4a5765(0x7fb));let _0x751b69={'number':_0x1ee6e2,'options':{'delay':_0x9e946e[_0x4a5765(0x4c8)][_0x4a5765(0x363)],'linkPreview':_0x9e946e[_0x4a5765(0x4c8)][_0x4a5765(0x530)]},'mediaMessage':{'mediatype':_0x9e946e[_0x4a5765(0x4c8)]['mediatype'],'caption':_0x9e946e[_0x4a5765(0x4c8)][_0x4a5765(0x32a)],'media':_0x9e946e[_0x4a5765(0x4c8)][_0x4a5765(0x26e)],'fileName':_0x9e946e[_0x4a5765(0x4c8)][_0x4a5765(0x3d4)]}};try{let _0x42f714=await this[_0x4a5765(0x763)](_0x751b69);if(_0x42f714){let _0x59bd2a={'_id':_0x42f714[_0x4a5765(0x42e)]['id'],'_fromMe':_0x42f714[_0x4a5765(0x42e)][_0x4a5765(0x7cf)],'_remoteJid':_0x42f714['key'][_0x4a5765(0x2a0)]},_0x16c566=(0x0,f['normalizeMessageContent'])(_0x42f714[_0x4a5765(0x57a)]),_0x3ebe05=(0x0,f[_0x4a5765(0x61d)])(_0x16c566);_0x10b21b['chatLog'][_0x4a5765(0x7bd)]=_0x9e946e[_0x4a5765(0x20e)][_0x4a5765(0x6d8)]();let {message_normalized:_0x1b4726}=this[_0x4a5765(0x7c2)](_0x16c566,_0x3ebe05,null);_0x10b21b[_0x4a5765(0x24e)]['lastSendMessage']=await _0x1b4726;let _0x4d6432={'messageId':_0x42f714[_0x4a5765(0x42e)]['id']},_0x23832a=_0x10b21b[_0x4a5765(0x24e)][_0x4a5765(0x39b)];Object['assign'](_0x23832a,_0x59bd2a),_0x10b21b[_0x4a5765(0x24e)][_0x4a5765(0x39b)]=_0x23832a,this[_0x4a5765(0x854)](_0x10b21b,_0x9e946e,_0x4d6432);}else{let _0x4bbeb9={'error':!0x0};this[_0x4a5765(0x854)](_0x10b21b,_0x9e946e,_0x4bbeb9),this[_0x4a5765(0x3ff)][_0x4a5765(0x752)](this[_0x4a5765(0x3b5)]+'\x20('+this['instance'][_0x4a5765(0x6f5)]+_0x4a5765(0x292));}}catch(_0x578f8f){let _0x24be84={'error':!0x0,'errorLog':_0x578f8f[_0x4a5765(0x6d8)]()};this[_0x4a5765(0x854)](_0x10b21b,_0x9e946e,_0x24be84),this[_0x4a5765(0x3ff)][_0x4a5765(0x752)](this[_0x4a5765(0x3b5)]+'\x20('+this[_0x4a5765(0x6bd)][_0x4a5765(0x6f5)]+_0x4a5765(0x299)+(_0x578f8f instanceof Error?_0x578f8f[_0x4a5765(0x57a)]:JSON[_0x4a5765(0x319)](_0x578f8f,null,0x2)));}}async['uazapiSendLocation'](_0x1450a6,_0x3cb141){const _0x304053=a0_0x55f44d;let _0x458a1a=_0x1450a6[_0x304053(0x2a0)];_0x3cb141[_0x304053(0x4c8)][_0x304053(0x2a0)]&&_0x3cb141[_0x304053(0x4c8)][_0x304053(0x2a0)][_0x304053(0x855)]()!==''&&(_0x458a1a=_0x3cb141[_0x304053(0x4c8)][_0x304053(0x2a0)][_0x304053(0x855)]()),this[_0x304053(0x3ff)][_0x304053(0x1fa)](this[_0x304053(0x3b5)]+'\x20('+this['instance'][_0x304053(0x6f5)]+_0x304053(0x227));let _0x27d1fe={'number':_0x458a1a,'options':{'delay':_0x3cb141[_0x304053(0x4c8)]['delay']},'locationMessage':{'name':_0x3cb141['uazapi'][_0x304053(0x754)],'address':_0x3cb141[_0x304053(0x4c8)][_0x304053(0x458)],'latitude':_0x3cb141[_0x304053(0x4c8)]['latitude'],'longitude':_0x3cb141[_0x304053(0x4c8)][_0x304053(0x89e)]}};try{let _0x3c2abe=await this[_0x304053(0x244)](_0x27d1fe);if(_0x3c2abe){let _0x10b9b8={'_id':_0x3c2abe['key']['id'],'_fromMe':_0x3c2abe[_0x304053(0x42e)]['fromMe'],'_remoteJid':_0x3c2abe[_0x304053(0x42e)][_0x304053(0x2a0)]},_0x52b741=(0x0,f[_0x304053(0x58f)])(_0x3c2abe['message']),_0x292f27=(0x0,f[_0x304053(0x61d)])(_0x52b741);_0x1450a6[_0x304053(0x24e)][_0x304053(0x7bd)]=_0x3cb141['_id'][_0x304053(0x6d8)]();let {message_normalized:_0x59f376}=this[_0x304053(0x7c2)](_0x52b741,_0x292f27,null);_0x1450a6[_0x304053(0x24e)][_0x304053(0x20b)]=await _0x59f376;let _0x27c065={'messageId':_0x3c2abe[_0x304053(0x42e)]['id']},_0x3f0b05=_0x1450a6[_0x304053(0x24e)]['realVariables'];Object[_0x304053(0x35d)](_0x3f0b05,_0x10b9b8),_0x1450a6[_0x304053(0x24e)][_0x304053(0x39b)]=_0x3f0b05,this[_0x304053(0x854)](_0x1450a6,_0x3cb141,_0x27c065);}else{let _0x58b4e9={'error':!0x0};this['updateConversation'](_0x1450a6,_0x3cb141,_0x58b4e9),this[_0x304053(0x3ff)][_0x304053(0x752)](this[_0x304053(0x3b5)]+'\x20('+this['instance'][_0x304053(0x6f5)]+_0x304053(0x22f));}}catch(_0x3db9f8){let _0x1384a2={'error':!0x0,'errorLog':_0x3db9f8[_0x304053(0x6d8)]()};this['updateConversation'](_0x1450a6,_0x3cb141,_0x1384a2),this['logger'][_0x304053(0x752)](this[_0x304053(0x3b5)]+'\x20('+this['instance'][_0x304053(0x6f5)]+_0x304053(0x492)+(_0x3db9f8 instanceof Error?_0x3db9f8[_0x304053(0x57a)]:JSON[_0x304053(0x319)](_0x3db9f8,null,0x2)));}}async[a0_0x55f44d(0x2b4)](_0x15e224,_0x1ef774){const _0xec8708=a0_0x55f44d;let _0x2c4cfb=_0x15e224[_0xec8708(0x2a0)];_0x1ef774['uazapi'][_0xec8708(0x2a0)]&&_0x1ef774['uazapi'][_0xec8708(0x2a0)][_0xec8708(0x855)]()!==''&&(_0x2c4cfb=_0x1ef774[_0xec8708(0x4c8)][_0xec8708(0x2a0)][_0xec8708(0x855)]()),this['logger'][_0xec8708(0x1fa)](this['instanceName']+'\x20('+this['instance'][_0xec8708(0x6f5)]+'):\x20Enviando\x20áudio');let _0x2a05be={'number':_0x2c4cfb,'options':{'delay':_0x1ef774[_0xec8708(0x4c8)]['delay']},'audioMessage':{'audio':_0x1ef774['uazapi'][_0xec8708(0x1de)]}};try{let _0x2aeea0=await this[_0xec8708(0x3ef)](_0x2a05be);if(_0x2aeea0){let _0x72d757={'_id':_0x2aeea0[_0xec8708(0x42e)]['id'],'_fromMe':_0x2aeea0[_0xec8708(0x42e)][_0xec8708(0x7cf)],'_remoteJid':_0x2aeea0[_0xec8708(0x42e)][_0xec8708(0x2a0)]},_0x5aff75=(0x0,f['normalizeMessageContent'])(_0x2aeea0['message']),_0x1f4a8b=(0x0,f[_0xec8708(0x61d)])(_0x5aff75);_0x15e224[_0xec8708(0x24e)][_0xec8708(0x7bd)]=_0x1ef774['_id'][_0xec8708(0x6d8)]();let {message_normalized:_0x3adb1f}=this[_0xec8708(0x7c2)](_0x5aff75,_0x1f4a8b,null);_0x15e224[_0xec8708(0x24e)][_0xec8708(0x20b)]=await _0x3adb1f;let _0x3be7d2={'messageId':_0x2aeea0['key']['id']},_0x20c989=_0x15e224[_0xec8708(0x24e)][_0xec8708(0x39b)];Object[_0xec8708(0x35d)](_0x20c989,_0x72d757),_0x15e224[_0xec8708(0x24e)][_0xec8708(0x39b)]=_0x20c989,this[_0xec8708(0x854)](_0x15e224,_0x1ef774,_0x3be7d2);}else{let _0x15d343={'error':!0x0};this['updateConversation'](_0x15e224,_0x1ef774,_0x15d343),this[_0xec8708(0x3ff)]['error'](this[_0xec8708(0x3b5)]+'\x20('+this[_0xec8708(0x6bd)][_0xec8708(0x6f5)]+_0xec8708(0x6c9));}}catch(_0x5dfbe5){let _0x193e48={'error':!0x0,'errorLog':_0x5dfbe5[_0xec8708(0x6d8)]()};this[_0xec8708(0x854)](_0x15e224,_0x1ef774,_0x193e48),this[_0xec8708(0x3ff)][_0xec8708(0x752)](this[_0xec8708(0x3b5)]+'\x20('+this[_0xec8708(0x6bd)][_0xec8708(0x6f5)]+_0xec8708(0x722)+(_0x5dfbe5 instanceof Error?_0x5dfbe5[_0xec8708(0x57a)]:JSON[_0xec8708(0x319)](_0x5dfbe5,null,0x2)));}}async[a0_0x55f44d(0x4bf)](_0x53460a,_0xa4b508){const _0x239040=a0_0x55f44d;let _0x5cded6=_0x53460a[_0x239040(0x2a0)];_0xa4b508['uazapi'][_0x239040(0x2a0)]&&_0xa4b508[_0x239040(0x4c8)][_0x239040(0x2a0)]['trim']()!==''&&(_0x5cded6=_0xa4b508['uazapi']['remoteJid']['trim']()),this[_0x239040(0x3ff)][_0x239040(0x1fa)](this[_0x239040(0x3b5)]+'\x20('+this[_0x239040(0x6bd)][_0x239040(0x6f5)]+_0x239040(0x584));let _0x2a3d94={'number':_0x5cded6,'options':{'delay':_0xa4b508['uazapi']['delay']},'contactMessage':[{'fullName':_0xa4b508[_0x239040(0x4c8)][_0x239040(0x218)],'phoneNumber':_0xa4b508[_0x239040(0x4c8)][_0x239040(0x7d1)]}]};try{let _0x1e7343=await this[_0x239040(0x881)](_0x2a3d94);if(_0x1e7343){let _0x2b57eb={'_id':_0x1e7343[_0x239040(0x42e)]['id'],'_fromMe':_0x1e7343[_0x239040(0x42e)][_0x239040(0x7cf)],'_remoteJid':_0x1e7343['key'][_0x239040(0x2a0)]},_0x32fa9b=(0x0,f[_0x239040(0x58f)])(_0x1e7343['message']),_0xc5914a=(0x0,f[_0x239040(0x61d)])(_0x32fa9b);_0x53460a[_0x239040(0x24e)]['lastBlockId']=_0xa4b508[_0x239040(0x20e)][_0x239040(0x6d8)]();let {message_normalized:_0x1dcee9}=this[_0x239040(0x7c2)](_0x32fa9b,_0xc5914a,null);_0x53460a[_0x239040(0x24e)]['lastSendMessage']=await _0x1dcee9;let _0x3e386e={'messageId':_0x1e7343[_0x239040(0x42e)]['id']},_0x5e0e07=_0x53460a[_0x239040(0x24e)]['realVariables'];Object[_0x239040(0x35d)](_0x5e0e07,_0x2b57eb),_0x53460a['chatLog'][_0x239040(0x39b)]=_0x5e0e07,this['updateConversation'](_0x53460a,_0xa4b508,_0x3e386e);}else{let _0x599a3f={'error':!0x0};this['updateConversation'](_0x53460a,_0xa4b508,_0x599a3f),this[_0x239040(0x3ff)][_0x239040(0x752)](this[_0x239040(0x3b5)]+'\x20('+this[_0x239040(0x6bd)]['wuid']+_0x239040(0x378));}}catch(_0x396f18){let _0x3a3d66={'error':!0x0,'errorLog':_0x396f18[_0x239040(0x6d8)]()};this['updateConversation'](_0x53460a,_0xa4b508,_0x3a3d66),this[_0x239040(0x3ff)][_0x239040(0x752)](this[_0x239040(0x3b5)]+'\x20('+this[_0x239040(0x6bd)][_0x239040(0x6f5)]+_0x239040(0x43c)+(_0x396f18 instanceof Error?_0x396f18[_0x239040(0x57a)]:JSON[_0x239040(0x319)](_0x396f18,null,0x2)));}}[a0_0x55f44d(0x30e)](_0x286411,_0x5b9ec5){const _0x137de6=a0_0x55f44d;for(let _0x1b9308 of _0x286411)_0x1b9308[_0x137de6(0x373)]&&(_0x1b9308[_0x137de6(0x373)]=this['replaceVariables'](_0x1b9308[_0x137de6(0x373)],_0x5b9ec5)),_0x1b9308[_0x137de6(0x5ea)]&&(_0x1b9308[_0x137de6(0x5ea)]=this['replaceVariables'](_0x1b9308['optionDescription'],_0x5b9ec5));}async[a0_0x55f44d(0x6ff)](_0x51bcf8,_0x4431f0){const _0x3de7f6=a0_0x55f44d;let _0x35f522=_0x51bcf8[_0x3de7f6(0x2a0)];_0x4431f0[_0x3de7f6(0x4c8)]['remoteJid']&&_0x4431f0[_0x3de7f6(0x4c8)][_0x3de7f6(0x2a0)][_0x3de7f6(0x855)]()!==''&&(_0x35f522=_0x4431f0[_0x3de7f6(0x4c8)][_0x3de7f6(0x2a0)][_0x3de7f6(0x855)]()),this['logger']['verbose'](this[_0x3de7f6(0x3b5)]+'\x20('+this[_0x3de7f6(0x6bd)][_0x3de7f6(0x6f5)]+_0x3de7f6(0x4de));let _0x9d36f7=_0x51bcf8[_0x3de7f6(0x81a)][_0x3de7f6(0x804)](_0x294aee=>_0x294aee['blockId']===_0x4431f0[_0x3de7f6(0x20e)])[_0x3de7f6(0x464)]((_0x165aae,_0x5d1ed2)=>_0x165aae[_0x3de7f6(0x879)]-_0x5d1ed2['order']);this[_0x3de7f6(0x30e)](_0x9d36f7,_0x51bcf8['chatLog']['realVariables']);let _0x1d5d0b=_0x9d36f7[_0x3de7f6(0x2b0)](_0xb61f7a=>_0xb61f7a[_0x3de7f6(0x373)]),_0x1522e6={'number':_0x35f522,'menuMessage':{'type':_0x4431f0['uazapi']['menuType']||'poll','text':_0x4431f0[_0x3de7f6(0x4c8)][_0x3de7f6(0x68c)]||_0x4431f0['uazapi']['name'],'footerText':_0x4431f0[_0x3de7f6(0x4c8)]['footerText'],'buttonText':_0x4431f0[_0x3de7f6(0x4c8)][_0x3de7f6(0x209)],'selectableCount':0x1,'choices':_0x1d5d0b},'options':{'delay':_0x4431f0[_0x3de7f6(0x4c8)]['delay']}};try{let _0x2b1fe8=await this[_0x3de7f6(0x64e)](_0x1522e6);if(_0x2b1fe8){let _0x3afc9b={'_id':_0x2b1fe8[_0x3de7f6(0x42e)]['id'],'_fromMe':_0x2b1fe8['key']['fromMe'],'_remoteJid':_0x2b1fe8['key'][_0x3de7f6(0x2a0)]};_0x4431f0[_0x3de7f6(0x4c8)][_0x3de7f6(0x383)]===!0x0&&(_0x51bcf8[_0x3de7f6(0x346)]=_0x3de7f6(0x264),this[_0x3de7f6(0x3ff)][_0x3de7f6(0x1fa)](this[_0x3de7f6(0x3b5)]+'\x20('+this[_0x3de7f6(0x6bd)]['wuid']+_0x3de7f6(0x3e2)+_0x51bcf8['status'])),this['logger'][_0x3de7f6(0x1fa)](this[_0x3de7f6(0x3b5)]+'\x20('+this['instance']['wuid']+_0x3de7f6(0x8a6)+(_0x4431f0['uazapi'][_0x3de7f6(0x754)]||_0x4431f0[_0x3de7f6(0x4c8)]['text'])),_0x51bcf8[_0x3de7f6(0x41e)]=_0x2b1fe8['key']['id'],_0x51bcf8[_0x3de7f6(0x4d5)]=_0x4431f0['uazapi'][_0x3de7f6(0x754)]||_0x4431f0['uazapi'][_0x3de7f6(0x68c)],_0x51bcf8[_0x3de7f6(0x55e)]=_0x9d36f7,_0x4431f0['uazapi'][_0x3de7f6(0x8a3)]&&(_0x51bcf8[_0x3de7f6(0x69c)]=_0x4431f0[_0x3de7f6(0x4c8)][_0x3de7f6(0x8a3)]),this[_0x3de7f6(0x3ff)]['verbose'](this[_0x3de7f6(0x3b5)]+'\x20('+this['instance']['wuid']+_0x3de7f6(0x439)+_0x51bcf8[_0x3de7f6(0x4d5)]);let _0x33211a=(0x0,f[_0x3de7f6(0x58f)])(_0x2b1fe8['message']),_0x26069d=(0x0,f['getContentType'])(_0x33211a);_0x51bcf8[_0x3de7f6(0x24e)][_0x3de7f6(0x7bd)]=_0x4431f0[_0x3de7f6(0x20e)][_0x3de7f6(0x6d8)]();let {message_normalized:_0x5cf23a}=this[_0x3de7f6(0x7c2)](_0x33211a,_0x26069d,null);_0x51bcf8['chatLog']['lastSendMessage']=await _0x5cf23a;let _0x53cea4={'messageId':_0x2b1fe8[_0x3de7f6(0x42e)]['id']},_0x14d1fe=_0x51bcf8[_0x3de7f6(0x24e)][_0x3de7f6(0x39b)];Object[_0x3de7f6(0x35d)](_0x14d1fe,_0x3afc9b),_0x51bcf8[_0x3de7f6(0x24e)][_0x3de7f6(0x39b)]=_0x14d1fe,this[_0x3de7f6(0x854)](_0x51bcf8,_0x4431f0,_0x53cea4);}else{let _0x7413d9={'error':!0x0};this[_0x3de7f6(0x854)](_0x51bcf8,_0x4431f0,_0x7413d9),this['logger']['error'](this[_0x3de7f6(0x3b5)]+'\x20('+this[_0x3de7f6(0x6bd)][_0x3de7f6(0x6f5)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.');}}catch(_0x233ec2){let _0x29093c={'error':!0x0,'errorLog':_0x233ec2 instanceof Error?_0x233ec2[_0x3de7f6(0x57a)]:JSON[_0x3de7f6(0x319)](_0x233ec2,null,0x2)};this[_0x3de7f6(0x854)](_0x51bcf8,_0x4431f0,_0x29093c),this['logger'][_0x3de7f6(0x752)](this[_0x3de7f6(0x3b5)]+'\x20('+this[_0x3de7f6(0x6bd)][_0x3de7f6(0x6f5)]+_0x3de7f6(0x287)+(_0x233ec2 instanceof Error?_0x233ec2[_0x3de7f6(0x57a)]:JSON[_0x3de7f6(0x319)](_0x233ec2,null,0x2)));}}async[a0_0x55f44d(0x485)](_0x5b269f,_0x5c5a89){const _0x4cc33f=a0_0x55f44d;this['logger'][_0x4cc33f(0x1fa)](this[_0x4cc33f(0x3b5)]+'\x20('+this['instance'][_0x4cc33f(0x6f5)]+_0x4cc33f(0x6d1));let _0x40dfa7=_0x5b269f[_0x4cc33f(0x24e)][_0x4cc33f(0x7fa)][_0x4cc33f(0x408)](_0x5ab3cb=>_0x5ab3cb[_0x4cc33f(0x749)][_0x4cc33f(0x6d8)]()===_0x5c5a89[_0x4cc33f(0x4c8)][_0x4cc33f(0x749)][_0x4cc33f(0x6d8)]()),_0x52ba72={'id':_0x40dfa7[_0x4cc33f(0x591)],'remoteJid':_0x40dfa7[_0x4cc33f(0x2a0)],'fromMe':_0x40dfa7[_0x4cc33f(0x7cf)]};try{let _0x156ee7=await this[_0x4cc33f(0x7b1)](_0x52ba72);if(_0x156ee7){let _0x283d0d=(0x0,f[_0x4cc33f(0x58f)])(_0x156ee7[_0x4cc33f(0x57a)]),_0x597e05=(0x0,f['getContentType'])(_0x283d0d);_0x5b269f[_0x4cc33f(0x24e)][_0x4cc33f(0x7bd)]=_0x5c5a89[_0x4cc33f(0x20e)][_0x4cc33f(0x6d8)]();let {message_normalized:_0x24777d}=this[_0x4cc33f(0x7c2)](_0x283d0d,_0x597e05,null);_0x5b269f[_0x4cc33f(0x24e)]['lastSendMessage']=await _0x24777d;let _0x5e6c44={};this['updateConversation'](_0x5b269f,_0x5c5a89,_0x5e6c44);}else{let _0x22cfd9={'error':!0x0};this['updateConversation'](_0x5b269f,_0x5c5a89,_0x22cfd9),this[_0x4cc33f(0x3ff)][_0x4cc33f(0x752)](this[_0x4cc33f(0x3b5)]+'\x20('+this[_0x4cc33f(0x6bd)][_0x4cc33f(0x6f5)]+_0x4cc33f(0x732));}}catch(_0x2824dc){let _0x29a2ab={'error':!0x0,'errorLog':_0x2824dc instanceof Error?_0x2824dc[_0x4cc33f(0x57a)]:JSON['stringify'](_0x2824dc,null,0x2)};this['updateConversation'](_0x5b269f,_0x5c5a89,_0x29a2ab),this[_0x4cc33f(0x3ff)]['error'](this['instanceName']+'\x20('+this[_0x4cc33f(0x6bd)][_0x4cc33f(0x6f5)]+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x2824dc instanceof Error?_0x2824dc[_0x4cc33f(0x57a)]:JSON['stringify'](_0x2824dc,null,0x2)));}}async[a0_0x55f44d(0x3b0)](_0x2be078,_0x25e1eb){const _0x4c557a=a0_0x55f44d;if(!_0x2be078[_0x4c557a(0x754)])throw new m(_0x4c557a(0x2a2));let _0x187392=_0x2be078?.[_0x4c557a(0x657)]?.['trim']()===_0x4c557a(0x59f)?_0x4c557a(0x657):this[_0x4c557a(0x6bd)][_0x4c557a(0x6f5)],_0x4ae813=await this[_0x4c557a(0x82b)]['flow'][_0x4c557a(0x720)]({'where':{'name':_0x2be078['name']}},_0x187392);if(_0x25e1eb!==ee&&_0x2be078?.[_0x4c557a(0x657)]===_0x4c557a(0x59f))throw new m(_0x4c557a(0x5c4));if(_0x2be078?.['global']!==_0x4c557a(0x59f)&&(_0x2be078[_0x4c557a(0x657)]=_0x4c557a(0x514)),_0x4ae813)throw new m(_0x4c557a(0x4fe));return _0x4c557a(0x754)in _0x2be078&&'sharePass'in _0x2be078&&_0x4c557a(0x382)in _0x2be078?this[_0x4c557a(0x857)](_0x2be078[_0x4c557a(0x382)],_0x2be078[_0x4c557a(0x65f)],_0x2be078[_0x4c557a(0x754)]):this[_0x4c557a(0x56d)](_0x2be078);}async['createSharedFlow'](_0x2dc322,_0xadaf23,_0x49f24b){const _0x5e327a=a0_0x55f44d;try{this['logger'][_0x5e327a(0x1fa)](this['instanceName']+'\x20('+this[_0x5e327a(0x6bd)][_0x5e327a(0x6f5)]+_0x5e327a(0x755));let _0x2ea758=await this[_0x5e327a(0x82b)][_0x5e327a(0x49b)][_0x5e327a(0x720)]({'where':{'sharePass':_0xadaf23}},_0x2dc322);if(!_0x2ea758)throw new m(_0x5e327a(0x289));let _0x149310={..._0x2ea758};_0x149310['owner']=this['instance'][_0x5e327a(0x6f5)];let _0x526604=_0x2ea758[_0x5e327a(0x657)]===_0x5e327a(0x59f)?_0x5e327a(0x657):_0x2ea758[_0x5e327a(0x382)];return(_0x2dc322===_0x5e327a(0x657)||_0x2ea758[_0x5e327a(0x657)]==='true')&&(_0x149310[_0x5e327a(0x657)]=_0x5e327a(0x786),_0x149310[_0x5e327a(0x382)]=_0x5e327a(0x657)),_0x149310[_0x5e327a(0x623)]=Array['from'](new Set([..._0x2ea758[_0x5e327a(0x623)]||[],_0x526604,this[_0x5e327a(0x6bd)][_0x5e327a(0x6f5)]])),_0x2ea758[_0x5e327a(0x623)]=_0x149310[_0x5e327a(0x623)],await this['repository'][_0x5e327a(0x49b)][_0x5e327a(0x540)](_0x2ea758['_id'],{'shareOwners':_0x2ea758[_0x5e327a(0x623)]},_0x526604),_0x2ea758[_0x5e327a(0x66b)]===!0x0&&await this[_0x5e327a(0x82b)][_0x5e327a(0x49b)][_0x5e327a(0x284)]({},{'default':!0x1},this[_0x5e327a(0x6bd)]['wuid']),await this[_0x5e327a(0x82b)][_0x5e327a(0x49b)]['createAndSave'](_0x149310,this[_0x5e327a(0x6bd)][_0x5e327a(0x6f5)]);}catch(_0x132020){let _0x109a25=_0x5e327a(0x394),_0x3d0ce3=_0x132020 instanceof Error?_0x132020['message']:typeof _0x132020==_0x5e327a(0x2bd)?JSON[_0x5e327a(0x319)](_0x132020):_0x132020,_0x24e536=_0x109a25+':\x20'+_0x3d0ce3;throw this[_0x5e327a(0x3ff)][_0x5e327a(0x752)](this[_0x5e327a(0x3b5)]+'\x20('+this['instance'][_0x5e327a(0x6f5)]+'):\x20'+_0x24e536),new m(_0x24e536);}}async[a0_0x55f44d(0x56d)](_0x2517e8){const _0x2bf97b=a0_0x55f44d;try{this[_0x2bf97b(0x3ff)]['verbose'](this[_0x2bf97b(0x3b5)]+'\x20('+this[_0x2bf97b(0x6bd)][_0x2bf97b(0x6f5)]+_0x2bf97b(0x85b));let _0x3a0b92=_0x2517e8?.[_0x2bf97b(0x657)]===_0x2bf97b(0x59f)?_0x2bf97b(0x657):this[_0x2bf97b(0x6bd)][_0x2bf97b(0x6f5)];delete _0x2517e8[_0x2bf97b(0x623)],delete _0x2517e8[_0x2bf97b(0x65f)],delete _0x2517e8['owner'],_0x2517e8[_0x2bf97b(0x66b)]===!0x0&&await this['repository'][_0x2bf97b(0x49b)]['updateMany']({},{'default':!0x1},this['instance']['wuid']);let _0x46ec82=new re[(_0x2bf97b(0x23e))][(_0x2bf97b(0x6ad))](),_0x3f4de1={'_id':_0x46ec82,'default':!0x0,'title':_0x2bf97b(0x613),'x':0x0,'y':0x0},_0x29d581={'_id':new re[(_0x2bf97b(0x23e))][(_0x2bf97b(0x6ad))](),'order':0x1,'groupId':_0x46ec82[_0x2bf97b(0x6d8)](),'type':_0x2bf97b(0x5bb)},_0x440132={'_id':new re[(_0x2bf97b(0x23e))][(_0x2bf97b(0x6ad))](),'owner':this[_0x2bf97b(0x6bd)][_0x2bf97b(0x6f5)],'name':_0x2517e8[_0x2bf97b(0x754)],'groups':[_0x3f4de1],'blocks':[_0x29d581],..._0x2517e8};return await this[_0x2bf97b(0x82b)][_0x2bf97b(0x49b)][_0x2bf97b(0x2f2)](_0x440132,_0x3a0b92);}catch(_0x3db4bf){let _0xa102cc=_0x2bf97b(0x7a7),_0x15beff=_0x3db4bf instanceof Error?_0x3db4bf[_0x2bf97b(0x57a)]:typeof _0x3db4bf=='object'?JSON[_0x2bf97b(0x319)](_0x3db4bf):_0x3db4bf,_0x2ef9fc=_0xa102cc+':\x20'+_0x15beff;throw this[_0x2bf97b(0x3ff)][_0x2bf97b(0x752)](this[_0x2bf97b(0x3b5)]+'\x20('+this[_0x2bf97b(0x6bd)][_0x2bf97b(0x6f5)]+_0x2bf97b(0x6bc)+_0x2ef9fc),new m(_0x2ef9fc);}}async[a0_0x55f44d(0x339)](_0x491dfa,_0x15e79b){const _0x4db3bb=a0_0x55f44d;this[_0x4db3bb(0x3ff)][_0x4db3bb(0x267)]('entrou\x20na\x20função\x20de\x20sincronizar\x20fluxos');try{let _0x3663a4=await this[_0x4db3bb(0x82b)]['flow']['findOne']({'where':{'_id':_0x491dfa}},_0x15e79b);if(delete _0x3663a4[_0x4db3bb(0x66b)],delete _0x3663a4['startCommandWord'],delete _0x3663a4['testingWith'],delete _0x3663a4['minutesToClose'],delete _0x3663a4[_0x4db3bb(0x63f)],_0x3663a4[_0x4db3bb(0x657)]===_0x4db3bb(0x59f)&&(_0x3663a4[_0x4db3bb(0x657)]='sync'),_0x3663a4&&_0x3663a4[_0x4db3bb(0x623)]){for(let _0x29513d of _0x3663a4[_0x4db3bb(0x623)])if(_0x29513d!==_0x15e79b){let _0x455626={..._0x3663a4,'owner':_0x29513d};await this['repository'][_0x4db3bb(0x49b)][_0x4db3bb(0x2db)](_0x3663a4[_0x4db3bb(0x20e)],_0x455626,_0x29513d);}}}catch(_0x50f162){this[_0x4db3bb(0x3ff)][_0x4db3bb(0x752)]('Erro\x20ao\x20sincronizar\x20fluxos:\x20'+_0x50f162);}}async[a0_0x55f44d(0x769)](_0x525c86,_0xc60afe,_0x553c46){const _0x3291a0=a0_0x55f44d;try{this[_0x3291a0(0x3ff)]['verbose'](this[_0x3291a0(0x3b5)]+'\x20('+this['instance']['wuid']+_0x3291a0(0x7ba));let _0x5c09c8=_0x553c46[_0x3291a0(0x855)]()===_0x3291a0(0x59f)?_0x3291a0(0x657):this[_0x3291a0(0x6bd)][_0x3291a0(0x6f5)],_0x4e195d=await this[_0x3291a0(0x82b)]['flow'][_0x3291a0(0x720)]({'where':{'name':_0x525c86}},_0x5c09c8);if(!_0x4e195d)throw new m('Fluxo\x20não\x20encontrado.');if(_0xc60afe!==ee&&_0x4e195d?.[_0x3291a0(0x657)]===_0x3291a0(0x59f)&&_0x4e195d?.['owner']!==this[_0x3291a0(0x6bd)][_0x3291a0(0x6f5)])throw new m(_0x3291a0(0x71f));if(_0x4e195d&&_0x4e195d[_0x3291a0(0x623)]&&_0x4e195d['shareOwners'][_0x3291a0(0x2af)]>0x1){for(let _0x19ef01 of _0x4e195d[_0x3291a0(0x623)])if(_0x19ef01!==this[_0x3291a0(0x6bd)]['wuid']){let _0x56ee69=await this[_0x3291a0(0x82b)][_0x3291a0(0x49b)][_0x3291a0(0x720)]({'where':{'sharePass':_0x4e195d[_0x3291a0(0x65f)]}},_0x19ef01);_0x56ee69&&(_0x56ee69[_0x3291a0(0x623)]=_0x56ee69[_0x3291a0(0x623)][_0x3291a0(0x804)](_0x5d7c2b=>_0x5d7c2b!==_0x4e195d[_0x3291a0(0x382)]),await this['repository'][_0x3291a0(0x49b)][_0x3291a0(0x540)](_0x56ee69[_0x3291a0(0x20e)],{'shareOwners':_0x56ee69[_0x3291a0(0x623)],'global':'false'},_0x19ef01));}}return await this[_0x3291a0(0x82b)][_0x3291a0(0x49b)][_0x3291a0(0x44d)]({'where':{'name':_0x525c86}},_0x5c09c8);}catch(_0x399101){return this[_0x3291a0(0x3ff)]['error'](this[_0x3291a0(0x3b5)]+'\x20('+this[_0x3291a0(0x6bd)][_0x3291a0(0x6f5)]+'):\x20Erro\x20ao\x20deletar\x20fluxo\x20'+(_0x399101 instanceof Error?_0x399101[_0x3291a0(0x57a)]:JSON[_0x3291a0(0x319)](_0x399101,null,0x2))),{'message':_0x3291a0(0x4a6)+_0x399101[_0x3291a0(0x57a)]};}}async[a0_0x55f44d(0x419)](_0x1b14bb,_0x471090){const _0x7486c=a0_0x55f44d;try{this[_0x7486c(0x3ff)]['verbose'](this['instanceName']+'\x20('+this[_0x7486c(0x6bd)][_0x7486c(0x6f5)]+_0x7486c(0x6c3));let _0x107745=_0x471090?.['trim']()===_0x7486c(0x59f)?_0x7486c(0x657):this[_0x7486c(0x6bd)][_0x7486c(0x6f5)],_0x16d3aa=await this[_0x7486c(0x82b)]['flow'][_0x7486c(0x720)]({'where':{'name':_0x1b14bb}},_0x107745);if(!_0x16d3aa)throw new Error(_0x7486c(0x5c7));if(!this[_0x7486c(0x8a8)]&&(await this[_0x7486c(0x302)](),!this[_0x7486c(0x8a8)]))return null;let _0x139a6b=this[_0x7486c(0x8a8)]?.[_0x7486c(0x426)][_0x7486c(0x2b0)](_0x3c4352=>_0x3c4352[_0x7486c(0x754)]),_0x4abc89=['nome','nomecompleto',_0x7486c(0x631),_0x7486c(0x8a5),_0x7486c(0x346),_0x7486c(0x4a3),'responsavelid',_0x7486c(0x1ea),_0x7486c(0x73e)];_0x16d3aa[_0x7486c(0x353)]=_0x16d3aa[_0x7486c(0x353)][_0x7486c(0x804)](_0x4f7afe=>!(_0x4f7afe['folder']===_0x7486c(0x653)||_0x4f7afe['leadInfo'])),_0x4abc89['forEach'](_0x2da4fe=>{const _0x2886f2=_0x7486c;_0x16d3aa[_0x2886f2(0x353)]['push']({'folder':'leadInfo','name':_0x2da4fe,'value':'','doc':'','leadInfo':!0x0});}),_0x139a6b[_0x7486c(0x27f)](_0x2e3b2d=>{const _0x35ceb3=_0x7486c;let _0x4b965c=_0x16d3aa[_0x35ceb3(0x353)][_0x35ceb3(0x239)](_0x42cd16=>_0x42cd16[_0x35ceb3(0x754)]===_0x2e3b2d);_0x4b965c===-0x1?_0x16d3aa[_0x35ceb3(0x353)][_0x35ceb3(0x3d5)]({'folder':'leadInfo','name':_0x2e3b2d,'value':'','doc':'','leadInfo':!0x0}):(_0x16d3aa[_0x35ceb3(0x353)][_0x4b965c][_0x35ceb3(0x75a)]='leadInfo',_0x16d3aa[_0x35ceb3(0x353)][_0x4b965c]['leadInfo']=!0x0);}),_0x16d3aa['blocks']&&_0x16d3aa[_0x7486c(0x86a)][_0x7486c(0x2af)]>0x0&&_0x16d3aa[_0x7486c(0x86a)][_0x7486c(0x27f)](_0x522f69=>{const _0x3d81a2=_0x7486c;_0x522f69[_0x3d81a2(0x5ec)]&&_0x522f69[_0x3d81a2(0x48c)]&&_0x522f69[_0x3d81a2(0x5ec)]===_0x522f69['next_groupId']&&(_0x522f69['next_groupId']=null);});let _0x43f2ff=await this['repository'][_0x7486c(0x49b)][_0x7486c(0x540)](_0x16d3aa[_0x7486c(0x20e)],_0x16d3aa,_0x107745);if(!_0x43f2ff)throw new Error(_0x7486c(0x7e3));return _0x43f2ff;}catch(_0x16daad){let _0xab7f9a=_0x7486c(0x5f5),_0x505d60=_0x16daad instanceof Error?_0x16daad['message']:typeof _0x16daad==_0x7486c(0x2bd)?JSON[_0x7486c(0x319)](_0x16daad):_0x16daad,_0x537cf6=_0xab7f9a+':\x20'+_0x505d60;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x7486c(0x6bd)][_0x7486c(0x6f5)]+_0x7486c(0x6bc)+_0x537cf6),new m(_0x537cf6);}}async['allFlows'](){const _0x3b3c73=a0_0x55f44d;try{this[_0x3b3c73(0x3ff)][_0x3b3c73(0x1fa)](this[_0x3b3c73(0x3b5)]+'\x20('+this['instance'][_0x3b3c73(0x6f5)]+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await this[_0x3b3c73(0x82b)]['flow']['updateMissingShareOwners'](this[_0x3b3c73(0x6bd)]['wuid']);let _0x3e359f=await this['repository'][_0x3b3c73(0x49b)][_0x3b3c73(0x880)]({'where':{}},this[_0x3b3c73(0x6bd)][_0x3b3c73(0x6f5)]),_0x5cd120=await this[_0x3b3c73(0x82b)]['flow'][_0x3b3c73(0x880)]({'where':{}},'global');return _0x3e359f[_0x3b3c73(0x700)](_0x5cd120);}catch(_0x58eeb5){return this['logger'][_0x3b3c73(0x752)](this['instanceName']+'\x20('+this[_0x3b3c73(0x6bd)]['wuid']+_0x3b3c73(0x6e0)+(_0x58eeb5 instanceof Error?_0x58eeb5[_0x3b3c73(0x57a)]:JSON[_0x3b3c73(0x319)](_0x58eeb5,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+_0x58eeb5['message']};}}async[a0_0x55f44d(0x332)](_0x26ab8f,_0x4e3ea8){const _0x1f8719=a0_0x55f44d;try{this[_0x1f8719(0x3ff)]['verbose'](this[_0x1f8719(0x3b5)]+'\x20('+this['instance']['wuid']+_0x1f8719(0x892));let _0x170585=_0x26ab8f?.[_0x1f8719(0x657)]?.[_0x1f8719(0x855)]()===_0x1f8719(0x59f)?'global':this[_0x1f8719(0x6bd)]['wuid'],_0x5d1aac=await this['repository'][_0x1f8719(0x49b)][_0x1f8719(0x720)]({'where':{'name':_0x26ab8f[_0x1f8719(0x754)]}},_0x170585);if(!_0x5d1aac)return{'message':_0x1f8719(0x6e8)};if(_0x4e3ea8!==ee&&_0x5d1aac?.[_0x1f8719(0x657)]===_0x1f8719(0x59f)&&_0x5d1aac?.['owner']!==this['instance']['wuid'])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');_0x5d1aac?.[_0x1f8719(0x657)]===_0x1f8719(0x786)&&(_0x26ab8f={'default':_0x26ab8f['default'],'minutesToClose':_0x26ab8f[_0x1f8719(0x4a9)],'readMessages':_0x26ab8f[_0x1f8719(0x63f)],'testingWith':_0x26ab8f[_0x1f8719(0x7b7)],'startCommandWord':_0x26ab8f['startCommandWord']}),_0x26ab8f[_0x1f8719(0x66b)]===!0x0&&_0x5d1aac?.[_0x1f8719(0x657)]!=='true'&&await this[_0x1f8719(0x82b)][_0x1f8719(0x49b)]['updateMany']({},{'default':!0x1},_0x170585),delete _0x26ab8f['shareOwners'],delete _0x26ab8f['sharePass'],delete _0x26ab8f['global'];let _0x1b58bc=await this['repository'][_0x1f8719(0x49b)][_0x1f8719(0x540)](_0x5d1aac[_0x1f8719(0x20e)],_0x26ab8f,_0x170585);return _0x1b58bc&&_0x1b58bc[_0x1f8719(0x623)]&&_0x1b58bc[_0x1f8719(0x623)][_0x1f8719(0x2af)]>0x1&&_0x1b58bc[_0x1f8719(0x657)]!==_0x1f8719(0x786)&&this[_0x1f8719(0x339)](_0x1b58bc[_0x1f8719(0x20e)],_0x170585),_0x1b58bc;}catch(_0x24fdbe){let _0x134ff6=_0x1f8719(0x1fd),_0x575599=_0x24fdbe instanceof Error?_0x24fdbe[_0x1f8719(0x57a)]:typeof _0x24fdbe==_0x1f8719(0x2bd)?JSON[_0x1f8719(0x319)](_0x24fdbe):_0x24fdbe,_0x21e810=_0x134ff6+':\x20'+_0x575599;throw this[_0x1f8719(0x3ff)][_0x1f8719(0x752)](this[_0x1f8719(0x3b5)]+'\x20('+this[_0x1f8719(0x6bd)]['wuid']+_0x1f8719(0x6bc)+_0x21e810),new m(_0x21e810);}}async['editFlowBlock'](_0x3ac782,_0x19adea){const _0x2ce7f2=a0_0x55f44d;try{this[_0x2ce7f2(0x3ff)][_0x2ce7f2(0x1fa)](this[_0x2ce7f2(0x3b5)]+'\x20('+this[_0x2ce7f2(0x6bd)][_0x2ce7f2(0x6f5)]+_0x2ce7f2(0x8b4));let _0x2fba1e=_0x3ac782?.[_0x2ce7f2(0x657)]?.[_0x2ce7f2(0x855)]()==='true'?_0x2ce7f2(0x657):this[_0x2ce7f2(0x6bd)][_0x2ce7f2(0x6f5)],_0x3e2d6e=await this[_0x2ce7f2(0x82b)][_0x2ce7f2(0x49b)][_0x2ce7f2(0x720)]({'where':{'name':_0x3ac782['name']}},_0x2fba1e);if(_0x3e2d6e||this[_0x2ce7f2(0x220)](_0x2ce7f2(0x5c7)),_0x3e2d6e?.[_0x2ce7f2(0x657)]==='sync')throw new m(_0x2ce7f2(0x580));if(_0x19adea!==ee&&_0x3e2d6e?.[_0x2ce7f2(0x657)]===_0x2ce7f2(0x59f)&&_0x3e2d6e?.[_0x2ce7f2(0x382)]!==this[_0x2ce7f2(0x6bd)][_0x2ce7f2(0x6f5)])throw new m(_0x2ce7f2(0x5b4));let {block:_0x5b7c38}=_0x3ac782;_0x5b7c38?.[_0x2ce7f2(0x644)]?this[_0x2ce7f2(0x671)](_0x3e2d6e,_0x3ac782):_0x5b7c38?.[_0x2ce7f2(0x56f)]?this['deleteBlock'](_0x3e2d6e,_0x3ac782):_0x5b7c38[_0x2ce7f2(0x20e)]?await this['updateBlock'](_0x3e2d6e,_0x3ac782):this[_0x2ce7f2(0x636)](_0x3e2d6e,_0x3ac782);let _0x41b516=await this[_0x2ce7f2(0x82b)][_0x2ce7f2(0x49b)][_0x2ce7f2(0x540)](_0x3e2d6e[_0x2ce7f2(0x20e)],_0x3e2d6e,_0x2fba1e);if(_0x41b516&&_0x41b516['shareOwners']&&_0x41b516[_0x2ce7f2(0x623)][_0x2ce7f2(0x2af)]>0x1&&this[_0x2ce7f2(0x339)](_0x41b516['_id'],this[_0x2ce7f2(0x6bd)][_0x2ce7f2(0x6f5)]),!_0x41b516)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x41b516;}catch(_0x31850f){this[_0x2ce7f2(0x220)](_0x2ce7f2(0x643)+_0x31850f['message']);}}async[a0_0x55f44d(0x671)](_0x3dfc33,_0x4b0589){const _0x5f4743=a0_0x55f44d;let _0x5137cc=_0x4b0589[_0x5f4743(0x830)][_0x5f4743(0x20e)],_0x24bf9c=_0x3dfc33[_0x5f4743(0x86a)][_0x5f4743(0x408)](_0x1a96e1=>_0x1a96e1[_0x5f4743(0x20e)]['toString']()===_0x5137cc);if(!_0x24bf9c){this[_0x5f4743(0x3ff)]['error'](this[_0x5f4743(0x3b5)]+'\x20('+this[_0x5f4743(0x6bd)][_0x5f4743(0x6f5)]+'):\x20Bloco\x20com\x20ID\x20'+_0x5137cc+_0x5f4743(0x52c));return;}this[_0x5f4743(0x3ff)][_0x5f4743(0x1fa)](this['instanceName']+'\x20('+this[_0x5f4743(0x6bd)][_0x5f4743(0x6f5)]+_0x5f4743(0x304)+JSON['stringify'](_0x24bf9c));let _0x19acf6=JSON[_0x5f4743(0x52e)](JSON[_0x5f4743(0x319)](_0x24bf9c));_0x19acf6[_0x5f4743(0x20e)]=new re['default'][(_0x5f4743(0x23e))][(_0x5f4743(0x6ad))](),this['logger']['verbose'](this[_0x5f4743(0x3b5)]+'\x20('+this[_0x5f4743(0x6bd)][_0x5f4743(0x6f5)]+_0x5f4743(0x2ee)+JSON['stringify'](_0x19acf6)),_0x3dfc33[_0x5f4743(0x86a)][_0x5f4743(0x3d5)](_0x19acf6),this[_0x5f4743(0x770)](_0x3dfc33[_0x5f4743(0x86a)],_0x19acf6[_0x5f4743(0x5ec)]);}[a0_0x55f44d(0x220)](_0x3c072b){const _0x4d04ce=a0_0x55f44d;throw this['logger'][_0x4d04ce(0x752)](this[_0x4d04ce(0x3b5)]+'\x20('+this[_0x4d04ce(0x6bd)][_0x4d04ce(0x6f5)]+'):\x20'+_0x3c072b),new m(_0x3c072b);}[a0_0x55f44d(0x2eb)](_0x5d5475,_0x5003c7){const _0x1ca030=a0_0x55f44d;let {block:_0xb3f059}=_0x5003c7;if(_0xb3f059[_0x1ca030(0x31b)]===_0x1ca030(0x5bb)){this[_0x1ca030(0x220)](_0x1ca030(0x7d3));return;}if(!_0xb3f059[_0x1ca030(0x20e)]){this['throwAndLogError'](_0x1ca030(0x6d2));return;}let _0x3e9b1c=_0x5d5475[_0x1ca030(0x86a)]['find'](_0x43c7a3=>_0x43c7a3['_id'][_0x1ca030(0x6d8)]()===_0x5003c7[_0x1ca030(0x830)][_0x1ca030(0x20e)][_0x1ca030(0x6d8)]());if(!_0x3e9b1c){this[_0x1ca030(0x220)]('Bloco\x20com\x20ID\x20'+_0xb3f059[_0x1ca030(0x20e)]+_0x1ca030(0x5a8));return;}_0x5d5475['blocks']=_0x5d5475[_0x1ca030(0x86a)][_0x1ca030(0x804)](_0x3ead4c=>_0x3ead4c[_0x1ca030(0x20e)][_0x1ca030(0x6d8)]()!==_0x5003c7[_0x1ca030(0x830)][_0x1ca030(0x20e)][_0x1ca030(0x6d8)]()),_0x5d5475['conditions']=_0x5d5475[_0x1ca030(0x207)][_0x1ca030(0x804)](_0x2cc51b=>_0x2cc51b[_0x1ca030(0x749)]!==_0xb3f059[_0x1ca030(0x20e)][_0x1ca030(0x6d8)]()),_0x5d5475[_0x1ca030(0x7ed)]=_0x5d5475['varedits'][_0x1ca030(0x804)](_0x522212=>_0x522212[_0x1ca030(0x749)]!==_0xb3f059[_0x1ca030(0x20e)]['toString']()),_0x5d5475[_0x1ca030(0x81a)]=_0x5d5475['replyOptions'][_0x1ca030(0x804)](_0x553053=>_0x553053[_0x1ca030(0x749)]!==_0xb3f059[_0x1ca030(0x20e)][_0x1ca030(0x6d8)]()),this[_0x1ca030(0x770)](_0x5d5475[_0x1ca030(0x86a)],_0x3e9b1c[_0x1ca030(0x5ec)]);}async[a0_0x55f44d(0x73d)](_0x18bde2,_0x9cf92a){const _0x101511=a0_0x55f44d;let _0x44b9a9=_0x18bde2['blocks'][_0x101511(0x239)](_0x3fb8b5=>_0x3fb8b5['_id']['toString']()===_0x9cf92a[_0x101511(0x830)][_0x101511(0x20e)][_0x101511(0x6d8)]());if(this[_0x101511(0x3ff)][_0x101511(0x1fa)](this['instanceName']+'\x20('+this[_0x101511(0x6bd)]['wuid']+_0x101511(0x7e9)+_0x44b9a9),_0x44b9a9===-0x1){this[_0x101511(0x3ff)][_0x101511(0x1fa)](_0x101511(0x730)+_0x9cf92a['block'][_0x101511(0x20e)]+_0x101511(0x2d3));return;}if(_0x18bde2[_0x101511(0x86a)][_0x44b9a9][_0x101511(0x31b)]==='start'){let _0x2301a8=Object[_0x101511(0x3cf)](_0x9cf92a['block']);if(_0x2301a8[_0x101511(0x2af)]>0x2||_0x2301a8[_0x101511(0x2af)]===0x2&&!_0x2301a8[_0x101511(0x52f)]('next_groupId')){this[_0x101511(0x220)]('Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão');return;}}let _0x5b25cc=_0x18bde2[_0x101511(0x86a)][_0x44b9a9][_0x101511(0x5ec)];for(let _0x3a7e15 in _0x9cf92a[_0x101511(0x830)])_0x9cf92a[_0x101511(0x830)][_0x101511(0x596)](_0x3a7e15)&&(_0x18bde2[_0x101511(0x86a)][_0x44b9a9][_0x3a7e15]=_0x9cf92a['block'][_0x3a7e15]);if(this[_0x101511(0x3ff)]['verbose'](this[_0x101511(0x3b5)]+'\x20('+this[_0x101511(0x6bd)][_0x101511(0x6f5)]+_0x101511(0x1d8)+JSON[_0x101511(0x319)](_0x18bde2[_0x101511(0x86a)][_0x44b9a9])),_0x18bde2[_0x101511(0x86a)][_0x44b9a9][_0x101511(0x84e)]&&_0x101511(0x2fc)in _0x18bde2['blocks'][_0x44b9a9][_0x101511(0x84e)]){this[_0x101511(0x3ff)][_0x101511(0x1fa)](this['instanceName']+'\x20('+this['instance'][_0x101511(0x6f5)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x14b392=JSON[_0x101511(0x319)](_0x18bde2[_0x101511(0x86a)][_0x44b9a9][_0x101511(0x84e)]['header'],null,0x1);_0x14b392['length']>0x2&&(_0x14b392=_0x14b392[_0x101511(0x7d9)](0x1,_0x14b392['length']-0x1)[_0x101511(0x855)]()),_0x18bde2['blocks'][_0x44b9a9][_0x101511(0x84e)][_0x101511(0x69b)]=_0x14b392;}if(_0x18bde2['blocks'][_0x44b9a9][_0x101511(0x84e)]&&'body'in _0x18bde2['blocks'][_0x44b9a9][_0x101511(0x84e)]&&!(_0x101511(0x811)in _0x18bde2['blocks'][_0x44b9a9]['apirequest'])){this['logger'][_0x101511(0x1fa)](this[_0x101511(0x3b5)]+'\x20('+this[_0x101511(0x6bd)]['wuid']+_0x101511(0x377)),_0x18bde2[_0x101511(0x86a)][_0x44b9a9][_0x101511(0x84e)][_0x101511(0x883)]=!0x1;let _0xb24e15=JSON[_0x101511(0x319)](_0x18bde2['blocks'][_0x44b9a9][_0x101511(0x84e)]['body'],null,0x2);_0x18bde2[_0x101511(0x86a)][_0x44b9a9][_0x101511(0x84e)][_0x101511(0x811)]=_0xb24e15;}if(_0x18bde2[_0x101511(0x86a)][_0x44b9a9][_0x101511(0x84e)]&&_0x101511(0x811)in _0x18bde2[_0x101511(0x86a)][_0x44b9a9][_0x101511(0x84e)]){_0x18bde2[_0x101511(0x86a)][_0x44b9a9][_0x101511(0x84e)][_0x101511(0x883)]=!0x1;let _0x2e4e55=_0x18bde2[_0x101511(0x86a)][_0x44b9a9][_0x101511(0x84e)][_0x101511(0x811)],_0x131c48=this[_0x101511(0x74d)](_0x2e4e55);_0x18bde2[_0x101511(0x86a)][_0x44b9a9][_0x101511(0x84e)][_0x101511(0x811)]=_0x131c48['result'],_0x18bde2[_0x101511(0x86a)][_0x44b9a9][_0x101511(0x84e)][_0x101511(0x883)]=_0x131c48[_0x101511(0x752)];}let _0x6f174a=_0x18bde2[_0x101511(0x86a)][_0x44b9a9]['groupId'];_0x5b25cc!==_0x6f174a?(this['reorderBlocks'](_0x18bde2[_0x101511(0x86a)],_0x5b25cc),this[_0x101511(0x770)](_0x18bde2[_0x101511(0x86a)],_0x6f174a)):this[_0x101511(0x770)](_0x18bde2[_0x101511(0x86a)],_0x5b25cc);}['beautifyWithPlaceholders'](_0x1561db){const _0x1fcab9=a0_0x55f44d;let _0x1c317a='\u205f',_0x448f47=!0x1,_0x328e23='';for(let _0x30d6e3=0x0;_0x30d6e3<_0x1561db[_0x1fcab9(0x2af)];_0x30d6e3++){let _0x9ebe95=_0x1561db[_0x30d6e3];_0x9ebe95==='\x22'&&(_0x30d6e3===0x0||_0x1561db[_0x30d6e3-0x1]!=='\x5c')&&(_0x448f47=!_0x448f47),!(!_0x448f47&&(_0x9ebe95==='\x0a'||_0x9ebe95==='\x20'||_0x9ebe95===_0x1c317a))&&(_0x328e23+=_0x9ebe95);}let _0x5944f2={},_0x462f7=9876543210.1234,_0x197fbd=_0x328e23[_0x1fcab9(0x8b0)](/\{\{([^}]+)\}\}/g,_0x59462c=>{let _0x6c8bed=_0x59462c,_0x2bc817=''+_0x462f7;return _0x5944f2[_0x2bc817]=_0x6c8bed,_0x462f7+=0.0001,_0x2bc817;}),_0x44dc77='',_0x575f05=!0x1;try{let _0x5c5d36=JSON[_0x1fcab9(0x52e)](_0x197fbd);_0x44dc77=JSON['stringify'](_0x5c5d36,null,0x2),_0x44dc77=_0x44dc77[_0x1fcab9(0x8b0)](/\n( +)/g,(_0x1274c3,_0x552984)=>{const _0x2caa13=_0x1fcab9;let _0x37dff5=_0x552984[_0x2caa13(0x2af)];return'\x0a'+_0x1c317a[_0x2caa13(0x43d)](_0x37dff5*0x2);}),_0x44dc77=_0x44dc77[_0x1fcab9(0x8b0)](/(\d{10,}\.\d+)/g,_0x427a50=>_0x5944f2[_0x427a50]||_0x427a50);}catch(_0x2daf3e){console[_0x1fcab9(0x752)](_0x1fcab9(0x4a5),_0x2daf3e),_0x44dc77=_0x1561db,_0x575f05=!0x0;}return{'result':_0x44dc77,'error':_0x575f05};}['addBlock'](_0x30d935,_0xe06845){const _0x23d288=a0_0x55f44d;if(_0xe06845[_0x23d288(0x830)]['type']===_0x23d288(0x5bb)){this[_0x23d288(0x220)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0xe06845[_0x23d288(0x830)][_0x23d288(0x84e)]&&'header'in _0xe06845[_0x23d288(0x830)][_0x23d288(0x84e)]){this['logger'][_0x23d288(0x1fa)](this[_0x23d288(0x3b5)]+'\x20('+this[_0x23d288(0x6bd)][_0x23d288(0x6f5)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x3ed905=JSON[_0x23d288(0x319)](_0xe06845[_0x23d288(0x830)][_0x23d288(0x84e)][_0x23d288(0x2fc)],null,0x1);_0x3ed905['length']>0x2&&(_0x3ed905=_0x3ed905['substring'](0x1,_0x3ed905[_0x23d288(0x2af)]-0x1)[_0x23d288(0x855)]()),_0xe06845['block']['apirequest'][_0x23d288(0x69b)]=_0x3ed905;}_0xe06845['block']['apirequest']&&_0x23d288(0x228)in _0xe06845[_0x23d288(0x830)][_0x23d288(0x84e)]&&(this[_0x23d288(0x3ff)][_0x23d288(0x1fa)](this[_0x23d288(0x3b5)]+'\x20('+this[_0x23d288(0x6bd)]['wuid']+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0xe06845[_0x23d288(0x830)][_0x23d288(0x84e)][_0x23d288(0x811)]=JSON[_0x23d288(0x319)](_0xe06845[_0x23d288(0x830)][_0x23d288(0x84e)][_0x23d288(0x228)],null,0x1)['trim']()),_0x30d935[_0x23d288(0x86a)][_0x23d288(0x3d5)](_0xe06845[_0x23d288(0x830)]),this[_0x23d288(0x770)](_0x30d935[_0x23d288(0x86a)],_0xe06845[_0x23d288(0x830)][_0x23d288(0x5ec)]);}[a0_0x55f44d(0x770)](_0x3819e0,_0x1da2d5){const _0x493144=a0_0x55f44d;let _0x126dec=_0x3819e0[_0x493144(0x804)](_0x2193c9=>_0x2193c9[_0x493144(0x5ec)]===_0x1da2d5);_0x126dec[_0x493144(0x464)]((_0x488ac2,_0x19e3d1)=>_0x488ac2[_0x493144(0x879)]-_0x19e3d1['order']),_0x126dec[_0x493144(0x27f)]((_0x1ed0c2,_0x1dab8a)=>_0x1ed0c2[_0x493144(0x879)]=_0x1dab8a+0x1);}async[a0_0x55f44d(0x474)](_0x586ae2,_0x238f25){const _0x2d2f4c=a0_0x55f44d;try{this[_0x2d2f4c(0x3ff)]['verbose'](this[_0x2d2f4c(0x3b5)]+'\x20('+this[_0x2d2f4c(0x6bd)][_0x2d2f4c(0x6f5)]+'):\x20Editando\x20replyOption...');let _0x59b545=_0x586ae2?.[_0x2d2f4c(0x657)][_0x2d2f4c(0x855)]()==='true'?_0x2d2f4c(0x657):this['instance'][_0x2d2f4c(0x6f5)];if(!_0x586ae2||!_0x586ae2['replyOption']){this[_0x2d2f4c(0x220)](_0x2d2f4c(0x4d2));return;}let _0x39b974=await this[_0x2d2f4c(0x82b)][_0x2d2f4c(0x49b)][_0x2d2f4c(0x720)]({'where':{'name':_0x586ae2[_0x2d2f4c(0x754)]}},_0x59b545);if(_0x39b974||this[_0x2d2f4c(0x220)](_0x2d2f4c(0x5c7)),_0x39b974?.[_0x2d2f4c(0x657)]===_0x2d2f4c(0x786))throw new m(_0x2d2f4c(0x580));if(_0x238f25!==ee&&_0x39b974?.[_0x2d2f4c(0x657)]===_0x2d2f4c(0x59f)&&_0x39b974?.[_0x2d2f4c(0x382)]!==this[_0x2d2f4c(0x6bd)][_0x2d2f4c(0x6f5)])throw new m(_0x2d2f4c(0x5b4));let {replyOption:_0x209cef}=_0x586ae2;_0x209cef?.[_0x2d2f4c(0x56f)]?(this[_0x2d2f4c(0x54d)](_0x39b974,_0x586ae2),this[_0x2d2f4c(0x6aa)](_0x39b974['replyOptions'],_0x586ae2[_0x2d2f4c(0x6ef)]['blockId'])):_0x209cef[_0x2d2f4c(0x20e)]?(await this[_0x2d2f4c(0x326)](_0x39b974,_0x586ae2),this[_0x2d2f4c(0x6aa)](_0x39b974[_0x2d2f4c(0x81a)],_0x586ae2[_0x2d2f4c(0x6ef)][_0x2d2f4c(0x749)])):(this[_0x2d2f4c(0x3ea)](_0x39b974,_0x586ae2),this['reorderReplyOptions'](_0x39b974['replyOptions'],_0x586ae2[_0x2d2f4c(0x6ef)][_0x2d2f4c(0x749)]));let _0x1d1614=await this['repository'][_0x2d2f4c(0x49b)][_0x2d2f4c(0x540)](_0x39b974[_0x2d2f4c(0x20e)],_0x39b974,_0x59b545);if(_0x1d1614&&_0x1d1614[_0x2d2f4c(0x623)]&&_0x1d1614[_0x2d2f4c(0x623)]['length']>0x1&&_0x1d1614[_0x2d2f4c(0x657)]!==_0x2d2f4c(0x786)&&this[_0x2d2f4c(0x339)](_0x1d1614[_0x2d2f4c(0x20e)],_0x59b545),!_0x1d1614)throw new Error(_0x2d2f4c(0x7e3));return _0x1d1614;}catch(_0x49ead7){this['throwAndLogError'](_0x2d2f4c(0x2f6)+_0x49ead7);}}[a0_0x55f44d(0x6aa)](_0x338058,_0x3efb24){const _0x4c6ce0=a0_0x55f44d;_0x338058['forEach'](_0xee3de7=>{const _0x1f9f6f=a0_0x1182;_0xee3de7[_0x1f9f6f(0x749)]===_0x3efb24&&_0xee3de7['order']===void 0x0&&(_0xee3de7[_0x1f9f6f(0x879)]=0x270f);});let _0x467a60=_0x338058[_0x4c6ce0(0x804)](_0x2f50d4=>_0x2f50d4[_0x4c6ce0(0x749)]===_0x3efb24);_0x467a60[_0x4c6ce0(0x464)]((_0x18bae1,_0x546f76)=>_0x18bae1[_0x4c6ce0(0x879)]-_0x546f76[_0x4c6ce0(0x879)]),_0x467a60['forEach']((_0x28450c,_0x7b072c)=>{const _0x50b5d6=_0x4c6ce0;_0x28450c[_0x50b5d6(0x879)]=_0x7b072c+0x1;}),_0x338058[_0x4c6ce0(0x27f)](_0x3994b7=>{const _0x1ab2e0=_0x4c6ce0;if(_0x3994b7[_0x1ab2e0(0x749)]===_0x3efb24){let _0x31bf0e=_0x467a60[_0x1ab2e0(0x408)](_0x3b20ef=>_0x3b20ef[_0x1ab2e0(0x20e)]&&_0x3994b7[_0x1ab2e0(0x20e)]&&_0x3b20ef[_0x1ab2e0(0x20e)][_0x1ab2e0(0x6d8)]()===_0x3994b7[_0x1ab2e0(0x20e)][_0x1ab2e0(0x6d8)]());_0x31bf0e&&(_0x3994b7['order']=_0x31bf0e[_0x1ab2e0(0x879)]);}});}['deleteReplyOption'](_0x4a4f29,_0x3dbe4f){const _0x327eb0=a0_0x55f44d;let {replyOption:_0x349f99}=_0x3dbe4f;if(!_0x349f99['_id']){this['throwAndLogError'](_0x327eb0(0x30d));return;}if(!_0x4a4f29[_0x327eb0(0x81a)]['find'](_0x2eea43=>_0x2eea43[_0x327eb0(0x20e)][_0x327eb0(0x6d8)]()===_0x3dbe4f[_0x327eb0(0x6ef)]['_id'][_0x327eb0(0x6d8)]())){this[_0x327eb0(0x220)](_0x327eb0(0x450)+_0x349f99[_0x327eb0(0x20e)]+_0x327eb0(0x5a8));return;}_0x4a4f29['replyOptions']=_0x4a4f29['replyOptions'][_0x327eb0(0x804)](_0x1738a3=>_0x1738a3[_0x327eb0(0x20e)][_0x327eb0(0x6d8)]()!==_0x3dbe4f[_0x327eb0(0x6ef)][_0x327eb0(0x20e)][_0x327eb0(0x6d8)]());}async[a0_0x55f44d(0x326)](_0x4cf4ed,_0x195f00){const _0x2ca171=a0_0x55f44d;let _0x4abf59=_0x4cf4ed[_0x2ca171(0x81a)][_0x2ca171(0x239)](_0x32c298=>_0x32c298[_0x2ca171(0x20e)][_0x2ca171(0x6d8)]()===_0x195f00[_0x2ca171(0x6ef)]['_id'][_0x2ca171(0x6d8)]());if(_0x4abf59===-0x1){this[_0x2ca171(0x220)](_0x2ca171(0x450)+_0x195f00['replyOption']['_id']+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0x53f23e in _0x195f00[_0x2ca171(0x6ef)])_0x195f00[_0x2ca171(0x6ef)][_0x2ca171(0x596)](_0x53f23e)&&(_0x4cf4ed[_0x2ca171(0x81a)][_0x4abf59][_0x53f23e]=_0x195f00['replyOption'][_0x53f23e]);}[a0_0x55f44d(0x3ea)](_0x2ff066,_0x233f18){const _0x4c0804=a0_0x55f44d;_0x2ff066[_0x4c0804(0x81a)][_0x4c0804(0x3d5)](_0x233f18[_0x4c0804(0x6ef)]);}async[a0_0x55f44d(0x522)](_0x349abd,_0x131b28){const _0x5b6291=a0_0x55f44d;let _0x3bf321=_0x349abd?.[_0x5b6291(0x657)][_0x5b6291(0x855)]()===_0x5b6291(0x59f)?_0x5b6291(0x657):this['instance'][_0x5b6291(0x6f5)];this[_0x5b6291(0x3ff)]['verbose'](this[_0x5b6291(0x3b5)]+'\x20('+this[_0x5b6291(0x6bd)][_0x5b6291(0x6f5)]+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup:\x20flowOnwer:\x20'+_0x3bf321+_0x5b6291(0x7fc)+_0x131b28+',\x20data:\x20'+JSON['stringify'](_0x349abd,null,0x2));try{this['logger'][_0x5b6291(0x1fa)](this[_0x5b6291(0x3b5)]+'\x20('+this[_0x5b6291(0x6bd)]['wuid']+'):\x20Editando\x20grupo\x20do\x20fluxo...');let _0x2dd9dc=await this[_0x5b6291(0x82b)][_0x5b6291(0x49b)]['findOne']({'where':{'name':_0x349abd['name']}},_0x3bf321);if(!_0x2dd9dc)throw this[_0x5b6291(0x3ff)][_0x5b6291(0x1fa)](this['instanceName']+'\x20('+this[_0x5b6291(0x6bd)][_0x5b6291(0x6f5)]+_0x5b6291(0x87b)),new Error('Flow\x20não\x20encontrado');if(_0x2dd9dc?.[_0x5b6291(0x657)]===_0x5b6291(0x786))throw this[_0x5b6291(0x3ff)][_0x5b6291(0x1fa)](this[_0x5b6291(0x3b5)]+'\x20('+this['instance'][_0x5b6291(0x6f5)]+_0x5b6291(0x726)),new m('A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.');if(_0x131b28!==ee&&_0x2dd9dc?.[_0x5b6291(0x657)]===_0x5b6291(0x59f)&&_0x2dd9dc?.['owner']!==this[_0x5b6291(0x6bd)][_0x5b6291(0x6f5)])throw this[_0x5b6291(0x3ff)]['verbose'](this[_0x5b6291(0x3b5)]+'\x20('+this['instance'][_0x5b6291(0x6f5)]+_0x5b6291(0x456)),new m(_0x5b6291(0x5b4));if(_0x349abd[_0x5b6291(0x600)]&&_0x349abd['group']?.['delete']===!0x0){if(this[_0x5b6291(0x3ff)]['verbose'](this[_0x5b6291(0x3b5)]+'\x20('+this[_0x5b6291(0x6bd)]['wuid']+_0x5b6291(0x6a0)),_0x349abd['group'][_0x5b6291(0x66b)]===!0x0)return{'message':_0x5b6291(0x344)};if(_0x2dd9dc[_0x5b6291(0x86a)][_0x5b6291(0x330)](_0x2e84c3=>_0x2e84c3['groupId']['toString']()===_0x349abd[_0x5b6291(0x600)][_0x5b6291(0x20e)]))return this[_0x5b6291(0x3ff)]['verbose'](this['instanceName']+'\x20('+this[_0x5b6291(0x6bd)][_0x5b6291(0x6f5)]+_0x5b6291(0x51d)),{'message':_0x5b6291(0x2de)};_0x2dd9dc['groups']=_0x2dd9dc[_0x5b6291(0x612)]['filter'](_0xf46b4a=>_0xf46b4a[_0x5b6291(0x20e)][_0x5b6291(0x6d8)]()!==_0x349abd[_0x5b6291(0x600)]['_id']);}else{if(_0x349abd['group']){if(_0x349abd[_0x5b6291(0x600)][_0x5b6291(0x66b)]===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x349abd['group']['_id']){let _0xfada03=_0x2dd9dc[_0x5b6291(0x612)]['find'](_0x2b32a4=>_0x2b32a4[_0x5b6291(0x20e)]['toString']()===_0x349abd[_0x5b6291(0x600)][_0x5b6291(0x20e)]);_0xfada03&&(_0x349abd['group']['x']<0x0&&(_0x349abd[_0x5b6291(0x600)]['x']=0x0),_0x349abd[_0x5b6291(0x600)]['y']<0x0&&(_0x349abd[_0x5b6291(0x600)]['y']=0x0),Object[_0x5b6291(0x35d)](_0xfada03,_0x349abd[_0x5b6291(0x600)]));}else _0x2dd9dc[_0x5b6291(0x612)][_0x5b6291(0x3d5)](_0x349abd[_0x5b6291(0x600)]);}}let _0x1afb36=await this[_0x5b6291(0x82b)][_0x5b6291(0x49b)][_0x5b6291(0x540)](_0x2dd9dc[_0x5b6291(0x20e)],_0x2dd9dc,_0x3bf321);if(_0x1afb36&&_0x1afb36[_0x5b6291(0x623)]&&_0x1afb36[_0x5b6291(0x623)][_0x5b6291(0x2af)]>0x1&&_0x1afb36[_0x5b6291(0x657)]!=='sync'&&this[_0x5b6291(0x339)](_0x1afb36[_0x5b6291(0x20e)],_0x3bf321),!_0x1afb36)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x1afb36;}catch(_0x414e28){let _0x34e3ba=_0x5b6291(0x1db),_0x5ad7e7=_0x414e28 instanceof Error?_0x414e28[_0x5b6291(0x57a)]:typeof _0x414e28==_0x5b6291(0x2bd)?JSON[_0x5b6291(0x319)](_0x414e28):_0x414e28,_0x15110f=_0x34e3ba+':\x20'+_0x5ad7e7;throw this[_0x5b6291(0x3ff)][_0x5b6291(0x752)](this['instanceName']+'\x20('+this[_0x5b6291(0x6bd)][_0x5b6291(0x6f5)]+'):\x20'+_0x15110f),new m(_0x15110f);}}async[a0_0x55f44d(0x8ad)](_0x24bd08,_0x242713){const _0x5440d3=a0_0x55f44d;try{this['logger'][_0x5440d3(0x1fa)](this[_0x5440d3(0x3b5)]+'\x20('+this[_0x5440d3(0x6bd)][_0x5440d3(0x6f5)]+_0x5440d3(0x871));let _0x2d3300=_0x24bd08?.[_0x5440d3(0x657)][_0x5440d3(0x855)]()==='true'?_0x5440d3(0x657):this['instance']['wuid'],_0x3083b2=await this[_0x5440d3(0x82b)]['flow'][_0x5440d3(0x720)]({'where':{'name':_0x24bd08[_0x5440d3(0x754)]}},_0x2d3300);if(!_0x3083b2)throw new Error(_0x5440d3(0x5c7));if(_0x3083b2?.[_0x5440d3(0x657)]===_0x5440d3(0x786))throw new m('A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.');if(_0x242713!==ee&&_0x3083b2?.[_0x5440d3(0x657)]==='true'&&_0x3083b2?.['owner']!==this[_0x5440d3(0x6bd)][_0x5440d3(0x6f5)])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');let _0x510995=!0x1;if(_0x24bd08[_0x5440d3(0x54c)]?.[_0x5440d3(0x56f)]===!0x0)_0x3083b2[_0x5440d3(0x207)]=_0x3083b2[_0x5440d3(0x207)]['filter'](_0x43ecdf=>_0x43ecdf&&_0x24bd08['condition']&&_0x43ecdf['_id']&&_0x24bd08[_0x5440d3(0x54c)][_0x5440d3(0x20e)]&&_0x43ecdf[_0x5440d3(0x20e)][_0x5440d3(0x6d8)]()!==_0x24bd08[_0x5440d3(0x54c)][_0x5440d3(0x20e)][_0x5440d3(0x6d8)]()),_0x510995=!0x0;else{let _0x5bdb2c=_0x3083b2[_0x5440d3(0x207)]['find'](_0x56849a=>_0x56849a&&_0x24bd08[_0x5440d3(0x54c)]&&_0x56849a[_0x5440d3(0x20e)]&&_0x24bd08['condition'][_0x5440d3(0x20e)]&&_0x56849a[_0x5440d3(0x20e)][_0x5440d3(0x6d8)]()===_0x24bd08['condition'][_0x5440d3(0x20e)][_0x5440d3(0x6d8)]());_0x5bdb2c?(_0x510995=_0x5bdb2c['order']!==_0x24bd08[_0x5440d3(0x54c)][_0x5440d3(0x879)],Object[_0x5440d3(0x35d)](_0x5bdb2c,_0x24bd08[_0x5440d3(0x54c)])):(_0x3083b2[_0x5440d3(0x207)][_0x5440d3(0x3d5)](_0x24bd08[_0x5440d3(0x54c)]),_0x510995=!0x0);}if(_0x510995){_0x3083b2[_0x5440d3(0x207)][_0x5440d3(0x464)]((_0x31f310,_0x4b5c12)=>_0x31f310['order']>_0x4b5c12[_0x5440d3(0x879)]?0x1:_0x4b5c12[_0x5440d3(0x879)]>_0x31f310['order']?-0x1:0x0);for(let _0x49bdb2=0x0;_0x49bdb2<_0x3083b2[_0x5440d3(0x207)][_0x5440d3(0x2af)];_0x49bdb2++)_0x3083b2[_0x5440d3(0x207)][_0x49bdb2][_0x5440d3(0x879)]=_0x49bdb2+0x1;_0x3083b2[_0x5440d3(0x207)][_0x5440d3(0x2af)]>0x0&&(_0x3083b2[_0x5440d3(0x207)][0x0]['OrAnd']='and');}let _0x4f5549=await this[_0x5440d3(0x82b)][_0x5440d3(0x49b)][_0x5440d3(0x540)](_0x3083b2['_id'],_0x3083b2,_0x2d3300);if(_0x4f5549&&_0x4f5549[_0x5440d3(0x623)]&&_0x4f5549[_0x5440d3(0x623)][_0x5440d3(0x2af)]>0x1&&_0x4f5549['global']!==_0x5440d3(0x786)&&this[_0x5440d3(0x339)](_0x4f5549[_0x5440d3(0x20e)],_0x2d3300),!_0x4f5549)throw new Error(_0x5440d3(0x7e3));return _0x4f5549;}catch(_0x1cd0f6){let _0x5b7b34=_0x5440d3(0x241),_0x27e07f=_0x1cd0f6 instanceof Error?_0x1cd0f6[_0x5440d3(0x57a)]:typeof _0x1cd0f6==_0x5440d3(0x2bd)?JSON[_0x5440d3(0x319)](_0x1cd0f6):_0x1cd0f6,_0x1de6e5=_0x5b7b34+':\x20'+_0x27e07f;throw this[_0x5440d3(0x3ff)][_0x5440d3(0x752)](this[_0x5440d3(0x3b5)]+'\x20('+this[_0x5440d3(0x6bd)]['wuid']+_0x5440d3(0x6bc)+_0x1de6e5),new m(_0x1de6e5);}}async[a0_0x55f44d(0x1ff)](_0x158105,_0x37da10){const _0xdbfc82=a0_0x55f44d;try{this[_0xdbfc82(0x3ff)][_0xdbfc82(0x1fa)](this[_0xdbfc82(0x3b5)]+'\x20('+this[_0xdbfc82(0x6bd)]['wuid']+'):\x20Editando\x20edição\x20do\x20fluxo...');let _0x2d7f49=_0x158105?.['global'][_0xdbfc82(0x855)]()===_0xdbfc82(0x59f)?_0xdbfc82(0x657):this['instance'][_0xdbfc82(0x6f5)],_0xc18d6e=await this[_0xdbfc82(0x82b)][_0xdbfc82(0x49b)][_0xdbfc82(0x720)]({'where':{'name':_0x158105['name']}},_0x2d7f49);if(!_0xc18d6e)throw new Error('Flow\x20não\x20encontrado');if(_0xc18d6e?.[_0xdbfc82(0x657)]===_0xdbfc82(0x786))throw new m(_0xdbfc82(0x580));if(_0x37da10!==ee&&_0xc18d6e?.['global']===_0xdbfc82(0x59f)&&_0xc18d6e?.[_0xdbfc82(0x382)]!==this[_0xdbfc82(0x6bd)]['wuid'])throw new m(_0xdbfc82(0x5b4));let _0x2b0482=!0x1;if(_0x158105['varedit']?.['delete']===!0x0)_0xc18d6e[_0xdbfc82(0x7ed)]=_0xc18d6e[_0xdbfc82(0x7ed)][_0xdbfc82(0x804)](_0x1d16d5=>_0x1d16d5&&_0x158105[_0xdbfc82(0x875)]&&_0x1d16d5[_0xdbfc82(0x20e)]&&_0x158105[_0xdbfc82(0x875)]['_id']&&_0x1d16d5[_0xdbfc82(0x20e)][_0xdbfc82(0x6d8)]()!==_0x158105[_0xdbfc82(0x875)][_0xdbfc82(0x20e)][_0xdbfc82(0x6d8)]()),_0x2b0482=!0x0;else{let _0x31aca0=_0xc18d6e['varedits']['find'](_0x5c31f4=>_0x5c31f4&&_0x158105[_0xdbfc82(0x875)]&&_0x5c31f4[_0xdbfc82(0x20e)]&&_0x158105[_0xdbfc82(0x875)]['_id']&&_0x5c31f4[_0xdbfc82(0x20e)]['toString']()===_0x158105[_0xdbfc82(0x875)][_0xdbfc82(0x20e)][_0xdbfc82(0x6d8)]());_0x31aca0?(_0x2b0482=_0x31aca0[_0xdbfc82(0x879)]!==_0x158105['varedit'][_0xdbfc82(0x879)],Object[_0xdbfc82(0x35d)](_0x31aca0,_0x158105[_0xdbfc82(0x875)])):(_0xc18d6e[_0xdbfc82(0x7ed)]['push'](_0x158105[_0xdbfc82(0x875)]),_0x2b0482=!0x0);}if(_0x2b0482){_0xc18d6e[_0xdbfc82(0x7ed)][_0xdbfc82(0x464)]((_0x350ab6,_0x34e036)=>_0x350ab6[_0xdbfc82(0x879)]>_0x34e036[_0xdbfc82(0x879)]?0x1:_0x34e036[_0xdbfc82(0x879)]>_0x350ab6[_0xdbfc82(0x879)]?-0x1:0x0);for(let _0x657736=0x0;_0x657736<_0xc18d6e[_0xdbfc82(0x7ed)][_0xdbfc82(0x2af)];_0x657736++)_0xc18d6e['varedits'][_0x657736][_0xdbfc82(0x879)]=_0x657736+0x1;}let _0x34617e=await this[_0xdbfc82(0x82b)][_0xdbfc82(0x49b)][_0xdbfc82(0x540)](_0xc18d6e[_0xdbfc82(0x20e)],_0xc18d6e,_0x2d7f49);if(_0x34617e&&_0x34617e[_0xdbfc82(0x623)]&&_0x34617e[_0xdbfc82(0x623)][_0xdbfc82(0x2af)]>0x1&&_0x34617e['global']!=='sync'&&this['synchronizeFlows'](_0x34617e[_0xdbfc82(0x20e)],_0x2d7f49),!_0x34617e)throw new Error(_0xdbfc82(0x7e3));return _0x34617e;}catch(_0x45f1db){let _0x425d9d='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0x163617=_0x45f1db instanceof Error?_0x45f1db[_0xdbfc82(0x57a)]:typeof _0x45f1db=='object'?JSON[_0xdbfc82(0x319)](_0x45f1db):_0x45f1db,_0x169e7b=_0x425d9d+':\x20'+_0x163617;throw this[_0xdbfc82(0x3ff)][_0xdbfc82(0x752)](this[_0xdbfc82(0x3b5)]+'\x20('+this[_0xdbfc82(0x6bd)][_0xdbfc82(0x6f5)]+_0xdbfc82(0x6bc)+_0x169e7b),new m(_0x169e7b);}}async[a0_0x55f44d(0x481)](_0x3a9ded,_0x56fa9a){const _0x52bf4d=a0_0x55f44d;try{this['logger']['verbose'](this[_0x52bf4d(0x3b5)]+'\x20('+this[_0x52bf4d(0x6bd)][_0x52bf4d(0x6f5)]+_0x52bf4d(0x549));let _0xe1c396=_0x3a9ded?.[_0x52bf4d(0x657)][_0x52bf4d(0x855)]()===_0x52bf4d(0x59f)?_0x52bf4d(0x657):this['instance']['wuid'],_0x8c1c59=await this[_0x52bf4d(0x82b)][_0x52bf4d(0x49b)][_0x52bf4d(0x720)]({'where':{'name':_0x3a9ded[_0x52bf4d(0x754)]}},_0xe1c396);if(!_0x8c1c59)throw new Error(_0x52bf4d(0x5c7));if(_0x8c1c59?.[_0x52bf4d(0x657)]===_0x52bf4d(0x786))throw new m(_0x52bf4d(0x580));if(_0x56fa9a!==ee&&_0x8c1c59?.[_0x52bf4d(0x657)]==='true'&&_0x8c1c59?.[_0x52bf4d(0x382)]!==this['instance']['wuid'])throw new m(_0x52bf4d(0x5b4));if(_0x56fa9a!==ee&&_0x8c1c59?.['global']===_0x52bf4d(0x59f)&&_0x8c1c59?.[_0x52bf4d(0x382)]!==this[_0x52bf4d(0x6bd)]['wuid'])throw new m(_0x52bf4d(0x5b4));_0x3a9ded[_0x52bf4d(0x796)]['name']=_0x3a9ded[_0x52bf4d(0x796)][_0x52bf4d(0x754)]['trim'](),_0x3a9ded[_0x52bf4d(0x796)][_0x52bf4d(0x754)][_0x52bf4d(0x5b2)]('_')&&(_0x3a9ded[_0x52bf4d(0x796)][_0x52bf4d(0x754)]=_0x3a9ded[_0x52bf4d(0x796)]['name'][_0x52bf4d(0x7d9)](0x1)),_0x3a9ded[_0x52bf4d(0x796)][_0x52bf4d(0x754)]=_0x3a9ded[_0x52bf4d(0x796)]['name']['trim']();let _0xb7a544=_0x8c1c59[_0x52bf4d(0x353)]['find'](_0x193e63=>_0x193e63['name']===_0x3a9ded[_0x52bf4d(0x796)][_0x52bf4d(0x754)]);if(_0xb7a544?.[_0x52bf4d(0x653)]===!0x0)throw new Error(_0x52bf4d(0x5da));if(_0x3a9ded[_0x52bf4d(0x796)]?.[_0x52bf4d(0x56f)]===!0x0){if(!_0xb7a544)return{'message':_0x52bf4d(0x761)};_0x8c1c59['variables']=_0x8c1c59[_0x52bf4d(0x353)]['filter'](_0x3fb3c9=>_0x3fb3c9[_0x52bf4d(0x754)]!==_0x3a9ded[_0x52bf4d(0x796)][_0x52bf4d(0x754)]);}else _0xb7a544?Object[_0x52bf4d(0x35d)](_0xb7a544,_0x3a9ded[_0x52bf4d(0x796)]):_0x8c1c59['variables'][_0x52bf4d(0x3d5)](_0x3a9ded[_0x52bf4d(0x796)]);let _0x251ca9=await this[_0x52bf4d(0x82b)][_0x52bf4d(0x49b)]['updateOne'](_0x8c1c59[_0x52bf4d(0x20e)],_0x8c1c59,_0xe1c396);if(_0x251ca9&&_0x251ca9[_0x52bf4d(0x623)]&&_0x251ca9[_0x52bf4d(0x623)]['length']>0x1&&_0x251ca9[_0x52bf4d(0x657)]!=='sync'&&this['synchronizeFlows'](_0x251ca9[_0x52bf4d(0x20e)],_0xe1c396),!_0x251ca9)throw new Error(_0x52bf4d(0x7e3));return _0x251ca9;}catch(_0xdaa47b){let _0x30d395=_0x52bf4d(0x715),_0x100cf1=_0xdaa47b instanceof Error?_0xdaa47b['message']:typeof _0xdaa47b==_0x52bf4d(0x2bd)?JSON['stringify'](_0xdaa47b):_0xdaa47b,_0x3f8101=_0x30d395+':\x20'+_0x100cf1;throw this[_0x52bf4d(0x3ff)]['error'](this[_0x52bf4d(0x3b5)]+'\x20('+this[_0x52bf4d(0x6bd)][_0x52bf4d(0x6f5)]+_0x52bf4d(0x6bc)+_0x3f8101),new m(_0x3f8101);}}async['startFlow'](_0x55ebb6){const _0x36330a=a0_0x55f44d;let _0x301993=null;try{if(!this[_0x36330a(0x8a8)]?.['flowConfig'][_0x36330a(0x253)])throw new m(_0x36330a(0x5e9));this['logger'][_0x36330a(0x1fa)](this[_0x36330a(0x3b5)]+'\x20('+this[_0x36330a(0x6bd)][_0x36330a(0x6f5)]+_0x36330a(0x83a));let _0x4d15cd=(await this['whatsappNumber']({'numbers':[_0x55ebb6['remoteJid']]}))[0x0];if(!_0x4d15cd[_0x36330a(0x270)]&&!(0x0,f['isJidGroup'])(_0x4d15cd[_0x36330a(0x38d)])&&!_0x4d15cd[_0x36330a(0x38d)][_0x36330a(0x52f)](_0x36330a(0x691)))throw _0x301993=JSON['stringify'](_0x4d15cd,null,0x2),new m(_0x4d15cd);let _0x5e10b3=await this['repository'][_0x36330a(0x49b)][_0x36330a(0x720)]({'where':{'name':_0x55ebb6[_0x36330a(0x754)]}},this['instance'][_0x36330a(0x6f5)]);if(!_0x5e10b3)return this[_0x36330a(0x3ff)]['error'](this[_0x36330a(0x3b5)]+'\x20('+this[_0x36330a(0x6bd)][_0x36330a(0x6f5)]+'):\x20Flow\x20não\x20encontrado'),{'message':_0x36330a(0x5c7)};let _0x18e1db=await this[_0x36330a(0x699)](_0x5e10b3,_0x4d15cd[_0x36330a(0x38d)],_0x55ebb6['changeVariables']);if(_0x18e1db){this[_0x36330a(0x3ff)][_0x36330a(0x1fa)](this[_0x36330a(0x3b5)]+'\x20('+this['instance'][_0x36330a(0x6f5)]+_0x36330a(0x7de));let _0x49953c=await this['NextBlock'](_0x18e1db);return _0x49953c&&await this[_0x36330a(0x6ac)](_0x18e1db,_0x49953c),{'message':_0x36330a(0x260)+_0x55ebb6[_0x36330a(0x2a0)]};}}catch(_0x5a0fe7){if(this['logger'][_0x36330a(0x752)](this[_0x36330a(0x3b5)]+'\x20('+this[_0x36330a(0x6bd)][_0x36330a(0x6f5)]+_0x36330a(0x4cb)+(_0x5a0fe7 instanceof Error?_0x5a0fe7[_0x36330a(0x57a)]:JSON[_0x36330a(0x319)](_0x5a0fe7,null,0x2))),_0x301993=_0x5a0fe7 instanceof Error?_0x5a0fe7[_0x36330a(0x57a)]:JSON[_0x36330a(0x319)](_0x5a0fe7,null,0x2),_0x301993)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x301993);}}async[a0_0x55f44d(0x812)](_0x314ed9){const _0x3abef1=a0_0x55f44d;try{let _0x6a2017={'remoteJid':_0x314ed9,'status':_0x3abef1(0x2fb)},_0xe55de9={'status':_0x3abef1(0x1f9)},_0x4ac7a9=await this['repository'][_0x3abef1(0x4fb)][_0x3abef1(0x284)](_0x6a2017,_0xe55de9,this[_0x3abef1(0x6bd)][_0x3abef1(0x6f5)]);return this['logger'][_0x3abef1(0x1fa)](this[_0x3abef1(0x3b5)]+'\x20('+this['instance'][_0x3abef1(0x6f5)]+_0x3abef1(0x475)),_0x4ac7a9;}catch(_0x55cfa7){throw this[_0x3abef1(0x3ff)][_0x3abef1(0x752)](this[_0x3abef1(0x3b5)]+'\x20('+this[_0x3abef1(0x6bd)]['wuid']+_0x3abef1(0x364)+_0x55cfa7[_0x3abef1(0x57a)]),_0x55cfa7;}}async['createConversationforStartFlow'](_0x229aeb,_0x5d88ce,_0x4daec5){const _0x149876=a0_0x55f44d;this[_0x149876(0x3ff)][_0x149876(0x1fa)](this[_0x149876(0x3b5)]+'\x20('+this[_0x149876(0x6bd)][_0x149876(0x6f5)]+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this[_0x149876(0x812)](_0x5d88ce);try{let _0xdd849a=require(_0x149876(0x6cf))['ObjectId'],_0x43afca=Date[_0x149876(0x692)](),_0x3d6506=_0x149876(0x5bb),_0x4cca62={},_0xeef4de={},_0x27aac2={..._0x229aeb,'chatLog':null},_0x6c2db1=await this[_0x149876(0x2b6)](_0x27aac2[_0x149876(0x353)]),_0x28548f=await this[_0x149876(0x5e0)](_0x5d88ce),_0x259001={..._0x6c2db1,..._0x28548f,'_remoteJid':_0x5d88ce},_0x7ef655={'lastReceivedMessage':_0x4cca62,'lastSendMessage':_0xeef4de,'lastBlockId':_0x3d6506,'lastCondition':!0x0,'realVariables':_0x259001};_0x27aac2[_0x149876(0x24e)]=_0x7ef655,_0x27aac2['chatLog'][_0x149876(0x39b)]={..._0x259001,..._0x4daec5},delete _0x27aac2['_id'],_0x27aac2[_0x149876(0x20e)]=new _0xdd849a(),_0x27aac2[_0x149876(0x5a2)]=_0x43afca,_0x27aac2[_0x149876(0x346)]='open',_0x27aac2['remoteJid']=_0x5d88ce;let _0x2cd59d=await this[_0x149876(0x82b)][_0x149876(0x4fb)][_0x149876(0x540)](_0x27aac2['_id'],_0x27aac2,this[_0x149876(0x6bd)]['wuid']);return this[_0x149876(0x3ff)]['verbose'](this[_0x149876(0x3b5)]+'\x20('+this[_0x149876(0x6bd)][_0x149876(0x6f5)]+_0x149876(0x409)),_0x2cd59d?_0x27aac2:null;}catch(_0x2e8604){let _0x2457c3=_0x149876(0x243),_0x52e7b5=_0x2e8604 instanceof Error?_0x2e8604['message']:typeof _0x2e8604=='object'?JSON[_0x149876(0x319)](_0x2e8604):_0x2e8604,_0xabdb87=_0x2457c3+':\x20'+_0x52e7b5;throw this['logger'][_0x149876(0x752)](this['instanceName']+'\x20('+this['instance'][_0x149876(0x6f5)]+_0x149876(0x6bc)+_0xabdb87),new m(_0xabdb87);}}async[a0_0x55f44d(0x55d)](_0xcf7724){const _0x44afec=a0_0x55f44d;try{this[_0x44afec(0x3ff)][_0x44afec(0x1fa)](this[_0x44afec(0x3b5)]+'\x20('+this[_0x44afec(0x6bd)][_0x44afec(0x6f5)]+_0x44afec(0x617)),this[_0x44afec(0x3ff)][_0x44afec(0x1fa)](this[_0x44afec(0x3b5)]+'\x20('+this['instance'][_0x44afec(0x6f5)]+'):\x20Query\x20params:\x20'+_0xcf7724);let _0x541306={'where':{'_id':_0xcf7724}};return await this[_0x44afec(0x82b)][_0x44afec(0x4fb)][_0x44afec(0x720)](_0x541306,this[_0x44afec(0x6bd)][_0x44afec(0x6f5)]);}catch(_0x285e11){let _0x4670d2=_0x44afec(0x1d5),_0x2bdf27=_0x285e11 instanceof Error?_0x285e11[_0x44afec(0x57a)]:typeof _0x285e11==_0x44afec(0x2bd)?JSON[_0x44afec(0x319)](_0x285e11):_0x285e11,_0xbf9102=_0x4670d2+':\x20'+_0x2bdf27;throw this[_0x44afec(0x3ff)][_0x44afec(0x752)](this[_0x44afec(0x3b5)]+'\x20('+this['instance']['wuid']+_0x44afec(0x6bc)+_0xbf9102),new m(_0xbf9102);}}async[a0_0x55f44d(0x672)](_0x39f4cd){const _0x1b81b7=a0_0x55f44d;try{return this[_0x1b81b7(0x3ff)]['verbose'](this[_0x1b81b7(0x3b5)]+'\x20('+this[_0x1b81b7(0x6bd)][_0x1b81b7(0x6f5)]+'):\x20Buscando\x20conversas...'),await this[_0x1b81b7(0x82b)][_0x1b81b7(0x4fb)]['find'](_0x39f4cd,this[_0x1b81b7(0x6bd)][_0x1b81b7(0x6f5)]);}catch(_0x325e6a){let _0x27f4cf=_0x1b81b7(0x342),_0x215592=_0x325e6a instanceof Error?_0x325e6a[_0x1b81b7(0x57a)]:typeof _0x325e6a==_0x1b81b7(0x2bd)?JSON[_0x1b81b7(0x319)](_0x325e6a):_0x325e6a,_0x2c3b89=_0x27f4cf+':\x20'+_0x215592;throw this[_0x1b81b7(0x3ff)][_0x1b81b7(0x752)](this[_0x1b81b7(0x3b5)]+'\x20('+this[_0x1b81b7(0x6bd)][_0x1b81b7(0x6f5)]+_0x1b81b7(0x6bc)+_0x2c3b89),new m(_0x2c3b89);}}async['deleteConversation'](_0x2e0d82){const _0x3fbd59=a0_0x55f44d;try{return this[_0x3fbd59(0x3ff)][_0x3fbd59(0x1fa)](this[_0x3fbd59(0x3b5)]+'\x20('+this[_0x3fbd59(0x6bd)][_0x3fbd59(0x6f5)]+'):\x20Deletando\x20conversa...'),this[_0x3fbd59(0x3ff)]['verbose'](this[_0x3fbd59(0x3b5)]+'\x20('+this['instance']['wuid']+_0x3fbd59(0x2aa)+_0x2e0d82),(await this['repository'][_0x3fbd59(0x4fb)]['deleteOne']({'where':{'_id':_0x2e0d82}},this['instance']['wuid']))[_0x3fbd59(0x64c)]===0x0?{'message':_0x3fbd59(0x72a)}:{'message':_0x3fbd59(0x6b0)};}catch(_0x1e5d1a){let _0x451d72=_0x3fbd59(0x49d),_0x2fc18a=_0x1e5d1a instanceof Error?_0x1e5d1a[_0x3fbd59(0x57a)]:typeof _0x1e5d1a==_0x3fbd59(0x2bd)?JSON[_0x3fbd59(0x319)](_0x1e5d1a):_0x1e5d1a,_0xabc3ec=_0x451d72+':\x20'+_0x2fc18a;throw this[_0x3fbd59(0x3ff)][_0x3fbd59(0x752)](this[_0x3fbd59(0x3b5)]+'\x20('+this['instance'][_0x3fbd59(0x6f5)]+_0x3fbd59(0x6bc)+_0xabc3ec),new m(_0xabc3ec);}}async[a0_0x55f44d(0x6cc)](_0x2fd080){const _0x5bf065=a0_0x55f44d;try{let {_id:_0x10b4bf,chatLog:_0x2fe64f,status:_0x49de8e}=_0x2fd080;if(!_0x10b4bf)return{'message':_0x5bf065(0x1e3)};let _0x1291ba={};if(_0x49de8e!==void 0x0&&(_0x1291ba[_0x5bf065(0x346)]=_0x49de8e),Object[_0x5bf065(0x3cf)](_0x1291ba)[_0x5bf065(0x2af)]===0x0)return{'message':_0x5bf065(0x402)};let _0x5c2989=await this['repository'][_0x5bf065(0x4fb)][_0x5bf065(0x540)](_0x10b4bf,_0x1291ba,this[_0x5bf065(0x6bd)][_0x5bf065(0x6f5)]);return _0x5c2989||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0x53465b){let _0x232433='Erro\x20ao\x20editar\x20a\x20conversa',_0x9816d9=_0x53465b instanceof Error?_0x53465b[_0x5bf065(0x57a)]:typeof _0x53465b==_0x5bf065(0x2bd)?JSON['stringify'](_0x53465b):_0x53465b,_0x393f25=_0x232433+':\x20'+_0x9816d9;throw this[_0x5bf065(0x3ff)][_0x5bf065(0x752)](this[_0x5bf065(0x3b5)]+'\x20('+this['instance'][_0x5bf065(0x6f5)]+_0x5bf065(0x6bc)+_0x393f25),new m(_0x393f25);}}async[a0_0x55f44d(0x421)](_0x17ee5b){const _0x41db5e=a0_0x55f44d;try{_0x17ee5b[_0x41db5e(0x20e)]=this[_0x41db5e(0x615)](_0x17ee5b[_0x41db5e(0x20e)]);let _0x3396bb=await this[_0x41db5e(0x82b)][_0x41db5e(0x504)][_0x41db5e(0x720)]({'where':{'_id':_0x17ee5b[_0x41db5e(0x20e)]}},this[_0x41db5e(0x6bd)][_0x41db5e(0x6f5)]);if(!_0x3396bb)throw new m(_0x41db5e(0x295));let {_id:_0x4765f5,leadInfo:_0x3c5198}=_0x17ee5b;if(!_0x4765f5)throw new Error(_0x41db5e(0x2d9));if(_0x17ee5b[_0x41db5e(0x56f)]===_0x41db5e(0x7ee))return await this[_0x41db5e(0x34c)](_0x17ee5b['_id']),await this[_0x41db5e(0x82b)]['chat']['delete']({'where':{'_id':_0x17ee5b[_0x41db5e(0x20e)]}},this[_0x41db5e(0x6bd)][_0x41db5e(0x6f5)]),await this['repository']['message'][_0x41db5e(0x56f)]({'where':{'key':{'remoteJid':_0x17ee5b[_0x41db5e(0x20e)]}}},this[_0x41db5e(0x6bd)][_0x41db5e(0x6f5)]),_0x17ee5b=await this[_0x41db5e(0x82b)][_0x41db5e(0x504)][_0x41db5e(0x540)]({'where':{'_id':_0x17ee5b['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x41db5e(0x6bd)][_0x41db5e(0x6f5)]),U(this['instanceName'],_0x41db5e(0x7df),{'chat':_0x17ee5b}),{'message':'Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.'};if(_0x17ee5b[_0x41db5e(0x56f)]==='messages')return await this[_0x41db5e(0x82b)][_0x41db5e(0x57a)][_0x41db5e(0x56f)]({'where':{'key':{'remoteJid':_0x17ee5b['_id']}}},this['instance'][_0x41db5e(0x6f5)]),_0x17ee5b=await this[_0x41db5e(0x82b)][_0x41db5e(0x504)][_0x41db5e(0x540)]({'where':{'_id':_0x17ee5b[_0x41db5e(0x20e)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x41db5e(0x6bd)][_0x41db5e(0x6f5)]),U(this[_0x41db5e(0x3b5)],'chats',{'chat':_0x17ee5b}),{'message':_0x41db5e(0x5c8)};let _0x32647b=(_0x24570d,_0x123c3f,_0x1fc2f0)=>{_0x24570d&&_0x1fc2f0['forEach'](_0x11f469=>{const _0x2e06e0=a0_0x1182;_0x24570d[_0x11f469]!==void 0x0&&(_0x123c3f[_0x2e06e0(0x819)+_0x11f469]=_0x24570d[_0x11f469]);});},_0x131a56={};if(_0x41db5e(0x400)in _0x17ee5b&&(this[_0x41db5e(0x3ff)][_0x41db5e(0x1fa)]('Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20'+_0x17ee5b[_0x41db5e(0x20e)]),_0x17ee5b[_0x41db5e(0x400)]=_0x17ee5b[_0x41db5e(0x400)]===0x0?null:-0x1,await this['client']['chatModify']({'mute':_0x17ee5b[_0x41db5e(0x400)]},_0x17ee5b[_0x41db5e(0x20e)]),_0x131a56[_0x41db5e(0x400)]=Number(_0x17ee5b[_0x41db5e(0x400)])),_0x3c5198&&(_0x32647b(_0x3c5198,_0x131a56,[_0x41db5e(0x807),_0x41db5e(0x4ec),_0x41db5e(0x631),_0x41db5e(0x8a5),_0x41db5e(0x346),_0x41db5e(0x4a3),'tags','atendimentoAberto',_0x41db5e(0x66c),_0x41db5e(0x73e)]),Array[_0x41db5e(0x629)](_0x3c5198[_0x41db5e(0x426)])&&(_0x131a56[_0x41db5e(0x6b2)]=_0x3c5198['customFields']['map'](_0x361605=>({'_id':_0x361605[_0x41db5e(0x20e)],'value':_0x361605[_0x41db5e(0x59c)]}))),_0x17ee5b[_0x41db5e(0x653)][_0x41db5e(0x73e)]!==void 0x0)){let _0x19fb58=await this['repository'][_0x41db5e(0x521)][_0x41db5e(0x408)]({'where':{}},this[_0x41db5e(0x6bd)][_0x41db5e(0x6f5)]),_0x45c973=new Set(_0x17ee5b['leadInfo'][_0x41db5e(0x73e)]||[]),_0x36dbb1=new Set(_0x17ee5b[_0x41db5e(0x653)][_0x41db5e(0x73e)]),_0x55cae7=new Set(_0x19fb58[_0x41db5e(0x2b0)](_0x58bef0=>_0x58bef0[_0x41db5e(0x20e)])),_0x2c938d=[..._0x36dbb1]['filter'](_0x2eab46=>!_0x45c973[_0x41db5e(0x5ff)](_0x2eab46)&&_0x55cae7[_0x41db5e(0x5ff)](_0x2eab46)),_0x26d44c=[..._0x45c973][_0x41db5e(0x804)](_0x2cc48d=>!_0x36dbb1[_0x41db5e(0x5ff)](_0x2cc48d));if(_0x131a56['leadInfo.etiquetas']=[..._0x45c973],_0x3396bb&&!_0x3396bb[_0x41db5e(0x75c)]){for(let _0xe3dfd1 of _0x2c938d)await this[_0x41db5e(0x795)](_0xe3dfd1,_0x17ee5b[_0x41db5e(0x20e)]),_0x45c973[_0x41db5e(0x53f)](_0xe3dfd1);for(let _0x1db490 of _0x26d44c)await this[_0x41db5e(0x47f)](_0x1db490,_0x17ee5b['_id']),_0x45c973[_0x41db5e(0x56f)](_0x1db490);}}if(_0x17ee5b[_0x41db5e(0x41a)]!==void 0x0&&(_0x131a56['unreadcount']=Number(_0x17ee5b[_0x41db5e(0x41a)])),Object[_0x41db5e(0x3cf)](_0x131a56)[_0x41db5e(0x2af)]===0x0)throw new Error(_0x41db5e(0x402));let _0x1ac856=await this[_0x41db5e(0x82b)][_0x41db5e(0x504)][_0x41db5e(0x540)]({'where':{'_id':_0x17ee5b[_0x41db5e(0x20e)]}},_0x131a56,this[_0x41db5e(0x6bd)][_0x41db5e(0x6f5)]);return _0x1ac856&&U(this[_0x41db5e(0x3b5)],_0x41db5e(0x7df),{'chat':_0x1ac856}),_0x1ac856?(this[_0x41db5e(0x3ff)][_0x41db5e(0x1fa)](this[_0x41db5e(0x3b5)]+'\x20('+this[_0x41db5e(0x6bd)][_0x41db5e(0x6f5)]+_0x41db5e(0x6bc)+JSON[_0x41db5e(0x319)](_0x1ac856,null,0x2)),_0x1ac856):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x5c8977){let _0x11e383='Erro\x20ao\x20editar\x20o\x20chat',_0x1fcc27=_0x5c8977 instanceof Error?_0x5c8977[_0x41db5e(0x57a)]:typeof _0x5c8977==_0x41db5e(0x2bd)?JSON[_0x41db5e(0x319)](_0x5c8977):_0x5c8977,_0xeac4ca=_0x11e383+':\x20'+_0x1fcc27;throw this[_0x41db5e(0x3ff)][_0x41db5e(0x752)](this[_0x41db5e(0x3b5)]+'\x20('+this['instance'][_0x41db5e(0x6f5)]+_0x41db5e(0x6bc)+_0xeac4ca),new m(_0xeac4ca);}}async['AddChatLabel'](_0x227a8d,_0x4affc2){const _0xf2ab51=a0_0x55f44d;try{await this[_0xf2ab51(0x757)][_0xf2ab51(0x52b)](_0x4affc2,_0x227a8d),this[_0xf2ab51(0x3ff)]['info'](this['instanceName']+'\x20('+this[_0xf2ab51(0x6bd)][_0xf2ab51(0x6f5)]+'):\x20Label\x20'+_0x227a8d+_0xf2ab51(0x7fd)+_0x4affc2+_0xf2ab51(0x230));}catch(_0x1b713a){console[_0xf2ab51(0x752)](_0xf2ab51(0x706)+_0x227a8d+'\x20ao\x20chat\x20'+_0x4affc2+':',_0x1b713a);}}async[a0_0x55f44d(0x47f)](_0x586f6b,_0x3e7e03){const _0x2722a8=a0_0x55f44d;try{await this['client'][_0x2722a8(0x443)](_0x3e7e03,_0x586f6b),this['logger'][_0x2722a8(0x267)](this[_0x2722a8(0x3b5)]+'\x20('+this[_0x2722a8(0x6bd)][_0x2722a8(0x6f5)]+'):\x20Label\x20'+_0x586f6b+'\x20removido\x20do\x20chat\x20'+_0x3e7e03+'\x20com\x20sucesso.');}catch(_0x3b6b98){console[_0x2722a8(0x752)](_0x2722a8(0x887)+_0x586f6b+'\x20do\x20chat\x20'+_0x3e7e03+':',_0x3b6b98);}}async[a0_0x55f44d(0x59b)](_0xdccd){const _0x352f86=a0_0x55f44d;try{let _0x3ccf17=await this[_0x352f86(0x82b)][_0x352f86(0x725)][_0x352f86(0x486)](this['instance'][_0x352f86(0x6f5)]),_0x3a060c=_0xdccd['_id']?_0x3ccf17[_0x352f86(0x6c7)][_0x352f86(0x239)](_0xd005b6=>_0xd005b6[_0x352f86(0x20e)]===_0xdccd[_0x352f86(0x20e)]):-0x1;if(_0xdccd[_0x352f86(0x56f)]&&_0x3a060c>-0x1)_0x3ccf17[_0x352f86(0x6c7)]['splice'](_0x3a060c,0x1);else{if(_0x3a060c>-0x1){let _0x5b8cce=_0x3ccf17['agents'][_0x3a060c];_0xdccd[_0x352f86(0x833)]&&(_0x5b8cce['fone']=_0xdccd['fone']),_0xdccd['name']&&(_0x5b8cce[_0x352f86(0x754)]=_0xdccd[_0x352f86(0x754)]),_0xdccd['email']&&(_0x5b8cce[_0x352f86(0x631)]=_0xdccd[_0x352f86(0x631)]),_0xdccd[_0x352f86(0x53b)]&&(_0x5b8cce[_0x352f86(0x53b)]=_0xdccd[_0x352f86(0x53b)]);}else _0x3ccf17['agents'][_0x352f86(0x3d5)]({'_id':_0xdccd[_0x352f86(0x20e)]||new re[(_0x352f86(0x66b))][(_0x352f86(0x23e))][(_0x352f86(0x6ad))]()[_0x352f86(0x6d8)](),'fone':_0xdccd[_0x352f86(0x833)],'name':_0xdccd[_0x352f86(0x754)],'email':_0xdccd[_0x352f86(0x631)],'role':_0xdccd['role']});}let _0x134e00={'agents':_0x3ccf17['agents']},_0x285562=await this[_0x352f86(0x82b)][_0x352f86(0x725)][_0x352f86(0x604)](_0x134e00,this['instance']['wuid']);return this[_0x352f86(0x8a8)]=_0x285562,this[_0x352f86(0x3ff)][_0x352f86(0x1fa)](this[_0x352f86(0x3b5)]+'\x20('+this[_0x352f86(0x6bd)][_0x352f86(0x6f5)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x352f86(0x3ff)]['verbose'](this[_0x352f86(0x3b5)]+'\x20('+this['instance']['wuid']+_0x352f86(0x6bc)+this[_0x352f86(0x8a8)]),_0x285562;}catch(_0x37ad6e){let _0x42f452=_0x352f86(0x89f),_0x3b5849=_0x37ad6e instanceof Error?_0x37ad6e[_0x352f86(0x57a)]:typeof _0x37ad6e==_0x352f86(0x2bd)?JSON['stringify'](_0x37ad6e):_0x37ad6e,_0x245169=_0x42f452+':\x20'+_0x3b5849;throw this[_0x352f86(0x3ff)]['error'](this['instanceName']+'\x20('+this[_0x352f86(0x6bd)][_0x352f86(0x6f5)]+_0x352f86(0x6bc)+_0x245169),new m(_0x245169);}}async[a0_0x55f44d(0x7a5)](_0x2e1b81){const _0xa42d60=a0_0x55f44d;try{let _0x273afd=await this[_0xa42d60(0x82b)][_0xa42d60(0x725)][_0xa42d60(0x486)](this[_0xa42d60(0x6bd)][_0xa42d60(0x6f5)]),_0x500c8e=_0x2e1b81['_id']?_0x273afd[_0xa42d60(0x426)]['findIndex'](_0x1e676b=>_0x1e676b[_0xa42d60(0x20e)]===_0x2e1b81[_0xa42d60(0x20e)]):-0x1,_0x59d8c2=!0x1,_0x2fba58=_0x273afd[_0xa42d60(0x426)][_0xa42d60(0x330)](_0x2b5c29=>_0x2b5c29[_0xa42d60(0x879)]===_0x2e1b81[_0xa42d60(0x879)]);if(_0x2e1b81[_0xa42d60(0x56f)]&&_0x500c8e>-0x1)_0x273afd[_0xa42d60(0x426)]['splice'](_0x500c8e,0x1),_0x59d8c2=!0x0;else{if(_0x500c8e>-0x1){if(_0x273afd[_0xa42d60(0x426)]['some'](_0x3e05d4=>_0x3e05d4[_0xa42d60(0x754)]===_0x2e1b81[_0xa42d60(0x754)]&&_0x3e05d4['_id']!==_0x2e1b81[_0xa42d60(0x20e)]))throw new Error(_0xa42d60(0x4df));let _0x505538=_0x273afd[_0xa42d60(0x426)][_0x500c8e];_0x2e1b81['order']&&(_0x2fba58||!Number[_0xa42d60(0x3bc)](_0x2e1b81[_0xa42d60(0x879)]))&&(_0x505538[_0xa42d60(0x879)]=_0x2e1b81['order'],_0x59d8c2=!0x0),_0x2e1b81[_0xa42d60(0x754)]&&(_0x505538[_0xa42d60(0x754)]=_0x2e1b81[_0xa42d60(0x754)]);}else{if(_0x273afd['customFields'][_0xa42d60(0x330)](_0x2eccff=>_0x2eccff[_0xa42d60(0x754)]===_0x2e1b81[_0xa42d60(0x754)]&&_0x2eccff[_0xa42d60(0x20e)]!==_0x2e1b81[_0xa42d60(0x20e)]))throw new Error(_0xa42d60(0x4df));_0x273afd[_0xa42d60(0x426)][_0xa42d60(0x3d5)]({'_id':_0x2e1b81[_0xa42d60(0x20e)]||new re['default'][(_0xa42d60(0x23e))][(_0xa42d60(0x6ad))]()[_0xa42d60(0x6d8)](),'order':_0x2e1b81['order'],'name':_0x2e1b81[_0xa42d60(0x754)]}),_0x59d8c2=!0x0;}}if(_0x59d8c2){_0x273afd['customFields'][_0xa42d60(0x464)]((_0x56a76b,_0x2cf132)=>_0x56a76b[_0xa42d60(0x879)]>_0x2cf132['order']?0x1:_0x2cf132[_0xa42d60(0x879)]>_0x56a76b[_0xa42d60(0x879)]?-0x1:0x0);for(let _0x4fa98c=0x0;_0x4fa98c<_0x273afd['customFields'][_0xa42d60(0x2af)];_0x4fa98c++)_0x273afd[_0xa42d60(0x426)][_0x4fa98c][_0xa42d60(0x879)]=_0x4fa98c+0x1;}let _0x85f88c=await this[_0xa42d60(0x82b)][_0xa42d60(0x725)][_0xa42d60(0x604)](_0x273afd,this[_0xa42d60(0x6bd)][_0xa42d60(0x6f5)]);return this[_0xa42d60(0x8a8)]=_0x85f88c,this[_0xa42d60(0x3ff)]['verbose'](this[_0xa42d60(0x3b5)]+'\x20('+this[_0xa42d60(0x6bd)][_0xa42d60(0x6f5)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0xa42d60(0x3ff)][_0xa42d60(0x1fa)](this['instanceName']+'\x20('+this[_0xa42d60(0x6bd)][_0xa42d60(0x6f5)]+_0xa42d60(0x6bc)+this[_0xa42d60(0x8a8)]),_0x85f88c;}catch(_0x375f41){let _0x72488b=_0xa42d60(0x50d),_0x133bc4=_0x375f41 instanceof Error?_0x375f41[_0xa42d60(0x57a)]:typeof _0x375f41=='object'?JSON[_0xa42d60(0x319)](_0x375f41):_0x375f41,_0x1807f9=_0x72488b+':\x20'+_0x133bc4;throw this[_0xa42d60(0x3ff)][_0xa42d60(0x752)](this[_0xa42d60(0x3b5)]+'\x20('+this[_0xa42d60(0x6bd)][_0xa42d60(0x6f5)]+'):\x20'+_0x1807f9),new m(_0x1807f9);}}async[a0_0x55f44d(0x3a2)](_0x471342){const _0x263d9a=a0_0x55f44d;try{let _0x1c4e48=await this[_0x263d9a(0x82b)][_0x263d9a(0x725)]['findOrCreate'](this[_0x263d9a(0x6bd)]['wuid']),_0x3bfcc6=_0x1c4e48[_0x263d9a(0x272)][_0x263d9a(0x239)](_0x19d033=>_0x19d033[_0x263d9a(0x20e)]===_0x471342[_0x263d9a(0x20e)]);if(_0x471342[_0x263d9a(0x56f)])_0x3bfcc6>-0x1&&_0x1c4e48['autoCompleteMessages'][_0x263d9a(0x7c3)](_0x3bfcc6,0x1);else{if(_0x3bfcc6>-0x1){let _0x4b0959=_0x1c4e48[_0x263d9a(0x272)][_0x3bfcc6];_0x4b0959[_0x263d9a(0x879)]=_0x471342[_0x263d9a(0x879)]||_0x4b0959[_0x263d9a(0x879)],_0x4b0959[_0x263d9a(0x859)]=_0x471342[_0x263d9a(0x859)]||_0x4b0959[_0x263d9a(0x859)],_0x4b0959[_0x263d9a(0x57a)]=_0x471342['message']||_0x4b0959[_0x263d9a(0x57a)];}else{let _0x480867={'_id':_0x471342[_0x263d9a(0x20e)]||new re[(_0x263d9a(0x66b))][(_0x263d9a(0x23e))][(_0x263d9a(0x6ad))]()[_0x263d9a(0x6d8)](),'order':_0x471342['order'],'command':_0x471342[_0x263d9a(0x859)],'message':_0x471342[_0x263d9a(0x57a)]};_0x1c4e48[_0x263d9a(0x272)][_0x263d9a(0x3d5)](_0x480867);}}_0x1c4e48['autoCompleteMessages'][_0x263d9a(0x464)]((_0x3221c4,_0x3b1ef6)=>_0x3221c4[_0x263d9a(0x879)]-_0x3b1ef6[_0x263d9a(0x879)]);let _0x3e3962=await this[_0x263d9a(0x82b)][_0x263d9a(0x725)][_0x263d9a(0x604)](_0x1c4e48,this[_0x263d9a(0x6bd)][_0x263d9a(0x6f5)]);return this['AutomateSystem']=_0x3e3962,this[_0x263d9a(0x3ff)][_0x263d9a(0x1fa)](this[_0x263d9a(0x3b5)]+'\x20('+this[_0x263d9a(0x6bd)][_0x263d9a(0x6f5)]+_0x263d9a(0x67d)),_0x3e3962;}catch(_0x42a445){let _0xd41614=_0x263d9a(0x5f6),_0x560eeb=_0x42a445 instanceof Error?_0x42a445[_0x263d9a(0x57a)]:typeof _0x42a445=='object'?JSON[_0x263d9a(0x319)](_0x42a445):_0x42a445,_0x2679a4=_0xd41614+':\x20'+_0x560eeb;throw this[_0x263d9a(0x3ff)][_0x263d9a(0x752)](this[_0x263d9a(0x3b5)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x2679a4),new m(_0x2679a4);}}async[a0_0x55f44d(0x47a)](_0x389177){const _0x2d044c=a0_0x55f44d;try{let _0x458272=await this[_0x2d044c(0x82b)][_0x2d044c(0x725)][_0x2d044c(0x486)](this[_0x2d044c(0x6bd)]['wuid']);if(!_0x458272)throw new Error(_0x2d044c(0x20f));let _0x352151={'_id':_0x458272['_id'],'flowConfig':{'enabled':_0x389177[_0x2d044c(0x253)]??_0x458272[_0x2d044c(0x548)][_0x2d044c(0x253)],'ignoreGroups':_0x389177[_0x2d044c(0x328)]??_0x458272[_0x2d044c(0x548)][_0x2d044c(0x328)],'prefixCommand':_0x389177[_0x2d044c(0x343)]??_0x458272[_0x2d044c(0x548)]['prefixCommand'],'stopConversation':_0x389177[_0x2d044c(0x4c0)]??_0x458272[_0x2d044c(0x548)]['stopConversation'],'stopMinutes':_0x389177[_0x2d044c(0x842)]??_0x458272[_0x2d044c(0x548)]['stopMinutes'],'stopWhenYouSendMsg':_0x389177[_0x2d044c(0x5ed)]??_0x458272[_0x2d044c(0x548)][_0x2d044c(0x5ed)]}},_0x57fa25=await this[_0x2d044c(0x82b)][_0x2d044c(0x725)][_0x2d044c(0x604)](_0x352151,this[_0x2d044c(0x6bd)][_0x2d044c(0x6f5)]);return this[_0x2d044c(0x8a8)]=_0x57fa25,this['logger'][_0x2d044c(0x1fa)](this[_0x2d044c(0x3b5)]+'\x20('+this[_0x2d044c(0x6bd)][_0x2d044c(0x6f5)]+_0x2d044c(0x60e)),this['logger'][_0x2d044c(0x1fa)](this[_0x2d044c(0x3b5)]+'\x20('+this[_0x2d044c(0x6bd)][_0x2d044c(0x6f5)]+'):\x20'+this['AutomateSystem']),setTimeout(()=>this[_0x2d044c(0x662)](),0x7d0),_0x57fa25;}catch(_0x530ce1){let _0x489ee7='Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos',_0x4daf06=_0x530ce1 instanceof Error?_0x530ce1[_0x2d044c(0x57a)]:typeof _0x530ce1=='object'?JSON[_0x2d044c(0x319)](_0x530ce1):_0x530ce1,_0x224a50=_0x489ee7+':\x20'+_0x4daf06;throw this[_0x2d044c(0x3ff)]['error'](this[_0x2d044c(0x3b5)]+'\x20('+this[_0x2d044c(0x6bd)][_0x2d044c(0x6f5)]+_0x2d044c(0x6bc)+_0x224a50),new m(_0x224a50);}}async[a0_0x55f44d(0x302)](){const _0x120a5c=a0_0x55f44d;try{let _0x389f88=await this['repository']['automateSystem'][_0x120a5c(0x486)](this['instance']['wuid']);return this[_0x120a5c(0x8a8)]=_0x389f88,this['logger'][_0x120a5c(0x1fa)](this[_0x120a5c(0x3b5)]+'\x20('+this['instance'][_0x120a5c(0x6f5)]+'):\x20Visualizando\x20AutomateSystem'),this['logger']['verbose'](this[_0x120a5c(0x8a8)]),_0x389f88;}catch(_0x215fba){let _0x4a70fe=_0x120a5c(0x285),_0x24c5bb=_0x215fba instanceof Error?_0x215fba['message']:typeof _0x215fba==_0x120a5c(0x2bd)?JSON[_0x120a5c(0x319)](_0x215fba):_0x215fba,_0x3d4701=_0x4a70fe+':\x20'+_0x24c5bb;throw this['logger'][_0x120a5c(0x752)](this[_0x120a5c(0x3b5)]+'\x20('+this[_0x120a5c(0x6bd)]['wuid']+'):\x20'+_0x3d4701),new m(_0x3d4701);}}async[a0_0x55f44d(0x78b)](){const _0x202338=a0_0x55f44d;this[_0x202338(0x6bd)][_0x202338(0x5f4)][_0x202338(0x23c)]&&clearTimeout(this[_0x202338(0x6bd)]['ScheduleMessage']['timeout']),this[_0x202338(0x6bd)][_0x202338(0x5f4)][_0x202338(0x23c)]=setTimeout(()=>{const _0x29e360=_0x202338;this[_0x29e360(0x5f3)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x55f44d(0x5f3)](){const _0x33dab2=a0_0x55f44d;Date[_0x33dab2(0x692)]()-this[_0x33dab2(0x6bd)][_0x33dab2(0x5f4)][_0x33dab2(0x2e8)]>=0x1d4c0&&(this[_0x33dab2(0x3ff)]['verbose'](this[_0x33dab2(0x3b5)]+'\x20('+this[_0x33dab2(0x6bd)][_0x33dab2(0x6f5)]+_0x33dab2(0x399)),this[_0x33dab2(0x6bd)][_0x33dab2(0x5f4)][_0x33dab2(0x6ee)]=null,this[_0x33dab2(0x6bd)][_0x33dab2(0x5f4)][_0x33dab2(0x2e8)]=0x0,this[_0x33dab2(0x6bd)]['ScheduleMessage']['delayMessage']=0x0,await this[_0x33dab2(0x662)]());}async['scheduleNextCheck'](){const _0x3701c5=a0_0x55f44d;let _0x4b3a2d=()=>{const _0x1061c6=a0_0x1182;this[_0x1061c6(0x3ff)][_0x1061c6(0x1fa)](this[_0x1061c6(0x3b5)]+'\x20('+this[_0x1061c6(0x6bd)]['wuid']+_0x1061c6(0x5f0)+this['instance'][_0x1061c6(0x5f4)]['processing_id']+_0x1061c6(0x3dc));},_0x1a51b8=async()=>{const _0x4991fe=a0_0x1182;this[_0x4991fe(0x3ff)][_0x4991fe(0x1fa)](this[_0x4991fe(0x3b5)]+'\x20('+this[_0x4991fe(0x6bd)]['wuid']+'):\x20Procurando\x20mensagens\x20para\x20envio');let _0x602c2f=Date[_0x4991fe(0x692)]()-0xc*0x3c*0x3c*0x3e8,_0x7031d3={'where':{'status':{'$in':[_0x4991fe(0x698),_0x4991fe(0x592)]},'$or':[{'when':{'$lte':Date[_0x4991fe(0x692)](),'$gte':_0x602c2f}},{'when':0x0}]}};return await this[_0x4991fe(0x82b)][_0x4991fe(0x2d0)][_0x4991fe(0x408)](_0x7031d3,this[_0x4991fe(0x6bd)]['wuid']);},_0x5668bc=async _0x1bab9e=>{const _0x42bdf4=a0_0x1182;for(let _0x4f1e07 of _0x1bab9e){let _0x53a275={'_id':_0x4f1e07[_0x42bdf4(0x20e)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x42bdf4(0x692)]()-0x1770}}]},_0xcb30b3={'startSend':Date['now']()};if(!await this[_0x42bdf4(0x82b)][_0x42bdf4(0x2d0)][_0x42bdf4(0x540)](_0x53a275,_0xcb30b3,this['instance'][_0x42bdf4(0x6f5)]))return;if(!this[_0x42bdf4(0x6bd)][_0x42bdf4(0x5f4)][_0x42bdf4(0x471)]){this[_0x42bdf4(0x3ff)][_0x42bdf4(0x1fa)](this[_0x42bdf4(0x3b5)]+'\x20('+this[_0x42bdf4(0x6bd)][_0x42bdf4(0x6f5)]+_0x42bdf4(0x301));break;}if(_0x4f1e07[_0x42bdf4(0x31b)]==='flow'&&!this[_0x42bdf4(0x8a8)]?.[_0x42bdf4(0x548)][_0x42bdf4(0x253)]){this[_0x42bdf4(0x3ff)][_0x42bdf4(0x752)](this[_0x42bdf4(0x3b5)]+'\x20('+this[_0x42bdf4(0x6bd)][_0x42bdf4(0x6f5)]+_0x42bdf4(0x36d));continue;}(!_0x4f1e07['remoteJidsRemaining']||_0x4f1e07[_0x42bdf4(0x778)][_0x42bdf4(0x2af)]===0x0)&&(_0x4f1e07=await this[_0x42bdf4(0x82b)][_0x42bdf4(0x2d0)]['updateOneById'](_0x4f1e07[_0x42bdf4(0x20e)],{'status':_0x42bdf4(0x592),'remoteJidsRemaining':[..._0x4f1e07['remoteJids']]},this['instance']['wuid']));for(let _0x5e6d8d of _0x4f1e07[_0x42bdf4(0x778)]){if(await this[_0x42bdf4(0x78b)](),this[_0x42bdf4(0x6bd)]['ScheduleMessage'][_0x42bdf4(0x2e8)]=Date[_0x42bdf4(0x692)](),this[_0x42bdf4(0x6bd)][_0x42bdf4(0x5f4)][_0x42bdf4(0x25c)]===_0x5e6d8d){this['logger'][_0x42bdf4(0x752)](this[_0x42bdf4(0x3b5)]+'\x20('+this['instance'][_0x42bdf4(0x6f5)]+_0x42bdf4(0x55a)+_0x5e6d8d+_0x42bdf4(0x7a8));let _0x4a3d7a={'$push':{'messagesSend':{'remoteJid':_0x5e6d8d,'error':!0x0,'id':null,'error_log':_0x42bdf4(0x6a9),'log_timestamp':Date[_0x42bdf4(0x692)]()}},'$pull':{'remoteJidsRemaining':_0x5e6d8d}};await this[_0x42bdf4(0x82b)][_0x42bdf4(0x2d0)]['updateOneById'](_0x4f1e07[_0x42bdf4(0x20e)],_0x4a3d7a,this['instance'][_0x42bdf4(0x6f5)]);continue;}if(this[_0x42bdf4(0x6bd)][_0x42bdf4(0x5f4)]['ultimaTentativaRemoteJid']=_0x5e6d8d,_0x4f1e07[_0x42bdf4(0x375)]['some'](_0x62cf3a=>_0x62cf3a['remoteJid']===_0x5e6d8d)){this[_0x42bdf4(0x3ff)][_0x42bdf4(0x1fa)](this[_0x42bdf4(0x3b5)]+'\x20('+this[_0x42bdf4(0x6bd)][_0x42bdf4(0x6f5)]+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x5e6d8d+_0x42bdf4(0x484));continue;}if(!this[_0x42bdf4(0x6bd)][_0x42bdf4(0x5f4)]['isConnected']){this['logger'][_0x42bdf4(0x1fa)](this['instanceName']+'\x20('+this[_0x42bdf4(0x6bd)][_0x42bdf4(0x6f5)]+'):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.');break;}if(!this['instance'][_0x42bdf4(0x5f4)][_0x42bdf4(0x6ee)]){this[_0x42bdf4(0x3ff)][_0x42bdf4(0x1fa)](this['instanceName']+'\x20('+this[_0x42bdf4(0x6bd)][_0x42bdf4(0x6f5)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x4f1e07['_id']+_0x42bdf4(0x21c));break;}if(_0x4f1e07[_0x42bdf4(0x31b)]===_0x42bdf4(0x49b)&&!this['AutomateSystem']?.[_0x42bdf4(0x548)][_0x42bdf4(0x253)]){this['logger'][_0x42bdf4(0x752)](this[_0x42bdf4(0x3b5)]+'\x20('+this[_0x42bdf4(0x6bd)][_0x42bdf4(0x6f5)]+_0x42bdf4(0x36d));break;}let _0x319191={'remoteJid':_0x5e6d8d,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x42bdf4(0x692)]()},_0x385eee=null;try{let _0x8eb658=await this[_0x42bdf4(0x869)](_0x5e6d8d,_0x4f1e07);_0x319191['error']=_0x8eb658[_0x42bdf4(0x752)],_0x319191['id']=_0x8eb658[_0x42bdf4(0x752)]?null:_0x8eb658['id'],_0x319191[_0x42bdf4(0x567)]=_0x8eb658['error']?_0x8eb658[_0x42bdf4(0x68b)]?_0x8eb658[_0x42bdf4(0x68b)][_0x42bdf4(0x6d8)]():'':null;let _0x41990b={'$push':{'messagesSend':_0x319191},'$pull':{'remoteJidsRemaining':_0x5e6d8d}},_0x5a4f38=_0x4f1e07['_id'];if(_0x385eee=await this[_0x42bdf4(0x82b)][_0x42bdf4(0x2d0)][_0x42bdf4(0x6f4)](_0x5a4f38,_0x41990b,this[_0x42bdf4(0x6bd)][_0x42bdf4(0x6f5)]),_0x8eb658[_0x42bdf4(0x752)])continue;let _0xb199a8=this[_0x42bdf4(0x668)](_0x4f1e07['delaySecMin'],_0x4f1e07['delaySecMax']);await this[_0x42bdf4(0x773)](_0xb199a8);}catch(_0x7e07a1){this['logger'][_0x42bdf4(0x752)](this['instanceName']+'\x20('+this[_0x42bdf4(0x6bd)][_0x42bdf4(0x6f5)]+_0x42bdf4(0x5bf)+_0x5e6d8d+':\x20'+(_0x7e07a1 instanceof Error?_0x7e07a1[_0x42bdf4(0x57a)]:JSON[_0x42bdf4(0x319)](_0x7e07a1,null,0x2))),_0x319191['error']=!0x0,_0x319191[_0x42bdf4(0x567)]=_0x7e07a1[_0x42bdf4(0x57a)];let _0xff7152={'$push':{'messagesSend':_0x319191},'$pull':{'remoteJidsRemaining':_0x5e6d8d}},_0x12ef1d=_0x4f1e07[_0x42bdf4(0x20e)];_0x385eee=await this[_0x42bdf4(0x82b)][_0x42bdf4(0x2d0)][_0x42bdf4(0x6f4)](_0x12ef1d,_0xff7152,this['instance'][_0x42bdf4(0x6f5)]);}finally{if(_0x385eee&&_0x385eee[_0x42bdf4(0x346)]==='stopped'){this['logger'][_0x42bdf4(0x1fa)](this[_0x42bdf4(0x3b5)]+'\x20('+this['instance']['wuid']+_0x42bdf4(0x314)+_0x4f1e07['_id']+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}}}let _0x1eb16a=await this['repository'][_0x42bdf4(0x2d0)]['findById'](_0x4f1e07[_0x42bdf4(0x20e)],this[_0x42bdf4(0x6bd)][_0x42bdf4(0x6f5)]);if(_0x1eb16a[_0x42bdf4(0x778)][_0x42bdf4(0x2af)]===0x0&&_0x1eb16a[_0x42bdf4(0x346)]!=='stopped'){this[_0x42bdf4(0x6bd)][_0x42bdf4(0x5f4)][_0x42bdf4(0x25c)]=null;let _0x38c03a={'$set':{'status':'done'}},_0x526ac1=_0x1eb16a[_0x42bdf4(0x20e)];await this[_0x42bdf4(0x82b)][_0x42bdf4(0x2d0)][_0x42bdf4(0x6f4)](_0x526ac1,_0x38c03a,this[_0x42bdf4(0x6bd)][_0x42bdf4(0x6f5)]);}await new Promise(_0x24d292=>setTimeout(_0x24d292,0x1388));}},_0x6b2e99=async()=>{const _0x5a84d0=a0_0x1182;let _0x571db1={'where':{'status':_0x5a84d0(0x698),'when':{'$gt':Date[_0x5a84d0(0x692)]()}}},_0x211b54=await this[_0x5a84d0(0x82b)]['scheduleMessage'][_0x5a84d0(0x720)](_0x571db1,this[_0x5a84d0(0x6bd)][_0x5a84d0(0x6f5)]);_0x211b54&&_0x211b54[_0x5a84d0(0x441)]-Date[_0x5a84d0(0x692)]()<=0x5265c00?this['instance'][_0x5a84d0(0x5f4)]['delayMessage']=_0x211b54[_0x5a84d0(0x441)]-Date[_0x5a84d0(0x692)]():this[_0x5a84d0(0x6bd)]['ScheduleMessage'][_0x5a84d0(0x28f)]=(0x3c+Math[_0x5a84d0(0x68a)](Math[_0x5a84d0(0x44e)]()*0x3c))*0x3c*0x3e8,this[_0x5a84d0(0x6bd)][_0x5a84d0(0x5f4)][_0x5a84d0(0x28f)]=Math[_0x5a84d0(0x3f0)](this['instance'][_0x5a84d0(0x5f4)][_0x5a84d0(0x28f)],0x7d0);let _0x44738b=Math[_0x5a84d0(0x848)](this[_0x5a84d0(0x6bd)][_0x5a84d0(0x5f4)][_0x5a84d0(0x28f)]/0xea60);if(_0x211b54){let _0x5167a0=new Date(_0x211b54['when'])[_0x5a84d0(0x7c8)]();this[_0x5a84d0(0x3ff)]['verbose'](this[_0x5a84d0(0x3b5)]+'\x20('+this[_0x5a84d0(0x6bd)][_0x5a84d0(0x6f5)]+'):\x20encontrado\x20próxima\x20mensagem\x20para\x20'+_0x5167a0+_0x5a84d0(0x3b4)+_0x44738b+_0x5a84d0(0x4f3));}else this[_0x5a84d0(0x3ff)][_0x5a84d0(0x1fa)](this['instanceName']+'\x20('+this[_0x5a84d0(0x6bd)][_0x5a84d0(0x6f5)]+_0x5a84d0(0x48d)+_0x44738b+'\x20minutos');setTimeout(()=>this[_0x5a84d0(0x662)](),this[_0x5a84d0(0x6bd)]['ScheduleMessage']['delayMessage']);};if(this['instance'][_0x3701c5(0x5f4)][_0x3701c5(0x6ee)]){await this['setRestartTimeout'](),_0x4b3a2d();return;}if(!this['instance'][_0x3701c5(0x5f4)][_0x3701c5(0x471)]){this[_0x3701c5(0x3ff)][_0x3701c5(0x1fa)](this[_0x3701c5(0x3b5)]+'\x20('+this['instance'][_0x3701c5(0x6f5)]+_0x3701c5(0x2ae)),this[_0x3701c5(0x6bd)]['ScheduleMessage'][_0x3701c5(0x6ee)]=null,this[_0x3701c5(0x6bd)][_0x3701c5(0x5f4)][_0x3701c5(0x2e8)]=0x0,this['instance'][_0x3701c5(0x5f4)]['delayMessage']=0x0,this[_0x3701c5(0x6bd)][_0x3701c5(0x5f4)][_0x3701c5(0x25c)]=null;return;}try{let _0x37ca27=await _0x1a51b8();_0x37ca27[_0x3701c5(0x2af)]===0x0?this['logger'][_0x3701c5(0x1fa)](this[_0x3701c5(0x3b5)]+'\x20('+this['instance'][_0x3701c5(0x6f5)]+_0x3701c5(0x54e)):(this[_0x3701c5(0x6bd)][_0x3701c5(0x5f4)][_0x3701c5(0x6ee)]=_0x37ca27[0x0]['_id'],await _0x5668bc(_0x37ca27)),await _0x6b2e99(),this[_0x3701c5(0x6bd)]['ScheduleMessage']['processing_id']=null,this[_0x3701c5(0x6bd)][_0x3701c5(0x5f4)][_0x3701c5(0x25c)]=null;}catch(_0x1f2eb5){this[_0x3701c5(0x3ff)][_0x3701c5(0x752)](_0x3701c5(0x3d8)+(_0x1f2eb5 instanceof Error?_0x1f2eb5[_0x3701c5(0x57a)]:JSON[_0x3701c5(0x319)](_0x1f2eb5,null,0x2)));}}[a0_0x55f44d(0x668)](_0x25b489,_0x356042){const _0x22dc8c=a0_0x55f44d;return _0x25b489=Math[_0x22dc8c(0x3f0)](0.5,_0x25b489),_0x356042=Math[_0x22dc8c(0x7cb)](Math[_0x22dc8c(0x3f0)](0x3,_0x356042),0x78),Math[_0x22dc8c(0x68a)](Math['random']()*(_0x356042-_0x25b489+0x1)+_0x25b489)*0x3e8;}[a0_0x55f44d(0x773)](_0x95c8fc){return new Promise(_0x45d945=>setTimeout(_0x45d945,_0x95c8fc));}async[a0_0x55f44d(0x5e0)](_0x57a2d3){const _0x6e2333=a0_0x55f44d;if(!this['AutomateSystem']&&(await this[_0x6e2333(0x302)](),!this[_0x6e2333(0x8a8)]))return null;_0x57a2d3=this[_0x6e2333(0x615)](_0x57a2d3);let _0x954635=await this['repository'][_0x6e2333(0x504)][_0x6e2333(0x720)]({'where':{'_id':_0x57a2d3}},this[_0x6e2333(0x6bd)][_0x6e2333(0x6f5)]),_0x2537df={};if(_0x954635&&_0x954635[_0x6e2333(0x653)]){let _0x398613=_0x954635[_0x6e2333(0x653)];typeof _0x398613['nome']==_0x6e2333(0x4a1)&&(_0x2537df[_0x6e2333(0x807)]=_0x398613[_0x6e2333(0x807)]),typeof _0x398613[_0x6e2333(0x4ec)]==_0x6e2333(0x4a1)&&(_0x2537df['nomecompleto']=_0x398613[_0x6e2333(0x4ec)]),typeof _0x398613[_0x6e2333(0x631)]==_0x6e2333(0x4a1)&&(_0x2537df['email']=_0x398613[_0x6e2333(0x631)]),typeof _0x398613[_0x6e2333(0x8a5)]=='string'&&(_0x2537df[_0x6e2333(0x8a5)]=_0x398613['cpf']),typeof _0x398613['status']==_0x6e2333(0x4a1)&&(_0x2537df[_0x6e2333(0x346)]=_0x398613[_0x6e2333(0x346)]),typeof _0x398613[_0x6e2333(0x4a3)]=='string'&&(_0x2537df['notas']=_0x398613[_0x6e2333(0x4a3)]),typeof _0x398613[_0x6e2333(0x66c)]==_0x6e2333(0x4a1)&&(_0x2537df[_0x6e2333(0x66c)]=_0x398613[_0x6e2333(0x66c)]),Array[_0x6e2333(0x629)](_0x398613[_0x6e2333(0x1ea)])&&(_0x2537df[_0x6e2333(0x1ea)]=_0x398613['tags'][_0x6e2333(0x1e5)](',\x20')),Array[_0x6e2333(0x629)](_0x398613[_0x6e2333(0x73e)])&&(_0x2537df[_0x6e2333(0x73e)]=_0x398613[_0x6e2333(0x73e)]['join'](',\x20'));}return _0x954635&&_0x954635[_0x6e2333(0x653)]&&_0x954635['leadInfo'][_0x6e2333(0x426)]&&_0x954635[_0x6e2333(0x653)][_0x6e2333(0x426)][_0x6e2333(0x27f)](_0x4de89a=>{const _0x4b15c7=_0x6e2333;let _0x588489=this[_0x4b15c7(0x8a8)]?.[_0x4b15c7(0x426)][_0x4b15c7(0x408)](_0x517d11=>_0x517d11['_id']===_0x4de89a[_0x4b15c7(0x20e)]);_0x588489&&(_0x2537df[_0x588489[_0x4b15c7(0x754)]]=_0x4de89a['value']);}),_0x2537df;}async[a0_0x55f44d(0x57d)](_0x3141d3,_0x7542b){const _0x5dcdaf=a0_0x55f44d;try{let _0x30185c=await this[_0x5dcdaf(0x5e0)](_0x7542b);return this[_0x5dcdaf(0x683)](_0x3141d3,_0x30185c);}catch(_0x38fbbe){return this['logger'][_0x5dcdaf(0x752)]('Erro\x20ao\x20substituir\x20variáveis\x20para\x20'+_0x7542b+':\x20'+_0x38fbbe),_0x3141d3;}}async[a0_0x55f44d(0x5d5)](_0x2aa590){const _0xb22265=a0_0x55f44d;try{if(this[_0xb22265(0x3ff)][_0xb22265(0x1fa)](this['instanceName']+'\x20('+this[_0xb22265(0x6bd)][_0xb22265(0x6f5)]+_0xb22265(0x5c2)),_0x2aa590[_0xb22265(0x56f)]&&_0x2aa590[_0xb22265(0x20e)]){if(this[_0xb22265(0x6bd)]['ScheduleMessage'][_0xb22265(0x6ee)]===_0x2aa590['_id'][_0xb22265(0x6d8)]())throw new Error(_0xb22265(0x5a9));let _0x29fb7e=await this[_0xb22265(0x82b)][_0xb22265(0x2d0)][_0xb22265(0x44d)](_0x2aa590[_0xb22265(0x20e)],this[_0xb22265(0x6bd)][_0xb22265(0x6f5)]);return setTimeout(()=>this[_0xb22265(0x662)](),0x7d0),_0x29fb7e;}let _0x3b21c1;if(_0x2aa590[_0xb22265(0x20e)]&&(_0x3b21c1=await this[_0xb22265(0x82b)]['scheduleMessage'][_0xb22265(0x3e4)](_0x2aa590['_id'],this[_0xb22265(0x6bd)][_0xb22265(0x6f5)])),_0x3b21c1){let _0x398c15;if(this[_0xb22265(0x6bd)][_0xb22265(0x5f4)][_0xb22265(0x6ee)]===_0x3b21c1[_0xb22265(0x20e)][_0xb22265(0x6d8)]())_0x398c15={'$set':{'status':_0x2aa590[_0xb22265(0x346)]}};else{let {_id:_0x290c00,..._0x4812b5}=_0x2aa590;_0x398c15={'$set':_0x4812b5};}let _0x579711=await this[_0xb22265(0x82b)][_0xb22265(0x2d0)][_0xb22265(0x6f4)](_0x2aa590[_0xb22265(0x20e)],_0x398c15,this[_0xb22265(0x6bd)][_0xb22265(0x6f5)]);return setTimeout(()=>this[_0xb22265(0x662)](),0x7d0),_0x579711;}else{_0x2aa590[_0xb22265(0x382)]=this['instance'][_0xb22265(0x6f5)];let _0x3f2990=await this[_0xb22265(0x82b)][_0xb22265(0x2d0)]['createAndSave'](_0x2aa590,this['instance']['wuid']);return setTimeout(()=>this[_0xb22265(0x662)](),0x7d0),_0x3f2990;}}catch(_0x4e5f32){let _0x263271='Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message',_0x361511=_0x4e5f32 instanceof Error?_0x4e5f32[_0xb22265(0x57a)]:typeof _0x4e5f32==_0xb22265(0x2bd)?JSON['stringify'](_0x4e5f32):_0x4e5f32,_0x1ff2bc=_0x263271+':\x20'+_0x361511;throw this['logger']['error'](this[_0xb22265(0x3b5)]+'\x20('+this[_0xb22265(0x6bd)][_0xb22265(0x6f5)]+_0xb22265(0x6bc)+_0x1ff2bc),new m(_0x1ff2bc);}}async[a0_0x55f44d(0x794)](){const _0x414f8c=a0_0x55f44d;try{return await this[_0x414f8c(0x82b)]['scheduleMessage'][_0x414f8c(0x408)]({'where':{}},this[_0x414f8c(0x6bd)][_0x414f8c(0x6f5)]);}catch(_0x5c41bb){let _0xa9e9fa=_0x414f8c(0x5ce),_0x34f86f=_0x5c41bb instanceof Error?_0x5c41bb['message']:typeof _0x5c41bb=='object'?JSON[_0x414f8c(0x319)](_0x5c41bb):_0x5c41bb,_0x338b21=_0xa9e9fa+':\x20'+_0x34f86f;throw this[_0x414f8c(0x3ff)][_0x414f8c(0x752)](this[_0x414f8c(0x3b5)]+'\x20('+this[_0x414f8c(0x6bd)][_0x414f8c(0x6f5)]+_0x414f8c(0x6bc)+_0x338b21),new m(_0x338b21);}}async[a0_0x55f44d(0x212)](){const _0x4363ed=a0_0x55f44d;try{let _0x8a854c={'status':_0x4363ed(0x723)},_0x274729=await this[_0x4363ed(0x82b)][_0x4363ed(0x2d0)][_0x4363ed(0x266)](_0x8a854c,this['instance']['wuid']);if(!_0x274729[_0x4363ed(0x752)])this[_0x4363ed(0x3ff)][_0x4363ed(0x1fa)](this[_0x4363ed(0x3b5)]+'\x20('+this[_0x4363ed(0x6bd)][_0x4363ed(0x6f5)]+_0x4363ed(0x5f8));else throw new Error(_0x274729[_0x4363ed(0x752)][_0x4363ed(0x57a)]||_0x4363ed(0x7a0));return this[_0x4363ed(0x794)]();}catch(_0x440d84){let _0x4a0263=_0x4363ed(0x62b),_0x4e2cb2=_0x440d84 instanceof Error?_0x440d84[_0x4363ed(0x57a)]:typeof _0x440d84==_0x4363ed(0x2bd)?JSON[_0x4363ed(0x319)](_0x440d84):_0x440d84,_0x163f5f=_0x4a0263+':\x20'+_0x4e2cb2;throw this[_0x4363ed(0x3ff)][_0x4363ed(0x752)](this[_0x4363ed(0x3b5)]+'\x20('+this[_0x4363ed(0x6bd)][_0x4363ed(0x6f5)]+_0x4363ed(0x6bc)+_0x163f5f),new m(_0x163f5f);}}async[a0_0x55f44d(0x869)](_0x138cb2,_0x4e1131){const _0x9a53a5=a0_0x55f44d;try{if(_0x4e1131['type']===_0x9a53a5(0x49b)&&!this['AutomateSystem']?.[_0x9a53a5(0x548)][_0x9a53a5(0x253)])return this[_0x9a53a5(0x3ff)][_0x9a53a5(0x752)](this[_0x9a53a5(0x3b5)]+'\x20('+this[_0x9a53a5(0x6bd)][_0x9a53a5(0x6f5)]+'):\x20Fluxos\x20não\x20estão\x20ativados'),{'error':!0x0,'detail':_0x9a53a5(0x5e9)};switch(_0x4e1131[_0x9a53a5(0x31b)]){case'text':return await this[_0x9a53a5(0x2b2)](_0x4e1131,_0x138cb2);case'media':return await this[_0x9a53a5(0x7e0)](_0x4e1131,_0x138cb2);case'audio':return await this[_0x9a53a5(0x80c)](_0x4e1131,_0x138cb2);case'flow':let _0x4ba2f7=new Fe();return _0x4ba2f7[_0x9a53a5(0x754)]=_0x4e1131[_0x9a53a5(0x550)],_0x4ba2f7[_0x9a53a5(0x2a0)]=_0x138cb2,await this[_0x9a53a5(0x1f2)](_0x4ba2f7);break;default:return this['logger'][_0x9a53a5(0x752)](this[_0x9a53a5(0x3b5)]+'\x20('+this['instance'][_0x9a53a5(0x6f5)]+'):\x20Comando\x20desconhecido:\x20'+_0x4e1131[_0x9a53a5(0x31b)]),{'error':!0x0,'detail':_0x9a53a5(0x632)};}}catch(_0x5630e5){return this[_0x9a53a5(0x3ff)][_0x9a53a5(0x752)](this[_0x9a53a5(0x3b5)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x5630e5 instanceof Error?_0x5630e5[_0x9a53a5(0x57a)]:JSON[_0x9a53a5(0x319)](_0x5630e5,null,0x2))),{'error':!0x0,'detail':_0x5630e5[_0x9a53a5(0x57a)]};}}['getRandomText'](_0x18d25f){const _0x55e158=a0_0x55f44d;let _0x569e29=_0x18d25f[_0x55e158(0x44b)]('|'),_0x2b5136=Math['floor'](Math[_0x55e158(0x44e)]()*_0x569e29[_0x55e158(0x2af)]);return _0x569e29[_0x2b5136]['trim']();}async[a0_0x55f44d(0x2b2)](_0x50a3e7,_0x167316){const _0x234b6f=a0_0x55f44d;if(this[_0x234b6f(0x3ff)]['verbose'](this['instanceName']+'\x20('+this[_0x234b6f(0x6bd)]['wuid']+_0x234b6f(0x882)),!_0x50a3e7[_0x234b6f(0x57a)]['text']||_0x50a3e7[_0x234b6f(0x57a)][_0x234b6f(0x68c)][_0x234b6f(0x2af)]===0x0)return{'error':!0x0,'detail':_0x234b6f(0x362)};let _0x1333a4=this['getRandomText'](_0x50a3e7[_0x234b6f(0x57a)]['text']),_0x22d5e2=await this['replaceVariablesChat'](_0x1333a4,_0x167316),_0x37cd4a={'number':_0x167316,'options':{'delay':_0x50a3e7[_0x234b6f(0x57a)][_0x234b6f(0x363)],'linkPreview':_0x50a3e7[_0x234b6f(0x57a)][_0x234b6f(0x530)]},'textMessage':{'text':_0x22d5e2}},_0x13dc09=null;try{let _0x33dad1=await this[_0x234b6f(0x8b3)](_0x37cd4a);if(_0x33dad1&&_0x33dad1[_0x234b6f(0x346)])return{'error':!0x1,'id':_0x33dad1['key']['id']};_0x13dc09=JSON[_0x234b6f(0x319)](_0x33dad1),this['logger'][_0x234b6f(0x1fa)](this[_0x234b6f(0x3b5)]+'\x20('+this[_0x234b6f(0x6bd)][_0x234b6f(0x6f5)]+_0x234b6f(0x6bc)+_0x13dc09);}catch(_0x2f7890){this[_0x234b6f(0x3ff)]['error'](this[_0x234b6f(0x3b5)]+'\x20('+this[_0x234b6f(0x6bd)]['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x2f7890 instanceof Error?_0x2f7890[_0x234b6f(0x57a)]:JSON['stringify'](_0x2f7890,null,0x2))),_0x13dc09=_0x2f7890[_0x234b6f(0x57a)];}if(_0x13dc09)return{'error':!0x0,'detail':(typeof _0x13dc09==_0x234b6f(0x2bd)?JSON[_0x234b6f(0x319)](_0x13dc09,null,0x2):_0x13dc09)[_0x234b6f(0x8b0)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x1189c4,_0x3714bb){const _0xc1dc4f=a0_0x55f44d;this[_0xc1dc4f(0x3ff)]['verbose'](this[_0xc1dc4f(0x3b5)]+'\x20('+this[_0xc1dc4f(0x6bd)][_0xc1dc4f(0x6f5)]+_0xc1dc4f(0x7fb));let _0x5bee9f;if(_0x1189c4[_0xc1dc4f(0x57a)][_0xc1dc4f(0x68c)]&&_0x1189c4[_0xc1dc4f(0x57a)][_0xc1dc4f(0x68c)][_0xc1dc4f(0x2af)]>0x0){let _0x19ab65=this[_0xc1dc4f(0x686)](_0x1189c4[_0xc1dc4f(0x57a)][_0xc1dc4f(0x68c)]);_0x5bee9f=await this[_0xc1dc4f(0x57d)](_0x19ab65,_0x3714bb);}let _0x202315={'number':_0x3714bb,'options':{'delay':_0x1189c4['message'][_0xc1dc4f(0x363)],'linkPreview':_0x1189c4[_0xc1dc4f(0x57a)][_0xc1dc4f(0x530)]},'mediaMessage':{'mediatype':_0x1189c4[_0xc1dc4f(0x57a)][_0xc1dc4f(0x544)],'caption':_0x5bee9f,'media':_0x1189c4['message'][_0xc1dc4f(0x2ea)]}},_0x215e9b=null;try{let _0x49c9a2=await this[_0xc1dc4f(0x763)](_0x202315);if(_0x49c9a2&&_0x49c9a2[_0xc1dc4f(0x346)])return{'error':!0x1,'id':_0x49c9a2[_0xc1dc4f(0x42e)]['id']};_0x215e9b=JSON[_0xc1dc4f(0x319)](_0x49c9a2),this[_0xc1dc4f(0x3ff)]['verbose'](this[_0xc1dc4f(0x3b5)]+'\x20('+this[_0xc1dc4f(0x6bd)][_0xc1dc4f(0x6f5)]+_0xc1dc4f(0x6bc)+_0x215e9b);}catch(_0x358061){this['logger'][_0xc1dc4f(0x752)](this['instanceName']+'\x20('+this[_0xc1dc4f(0x6bd)][_0xc1dc4f(0x6f5)]+_0xc1dc4f(0x6dd)+(_0x358061 instanceof Error?_0x358061[_0xc1dc4f(0x57a)]:JSON[_0xc1dc4f(0x319)](_0x358061,null,0x2))),_0x215e9b=_0x358061[_0xc1dc4f(0x57a)];}if(_0x215e9b)return{'error':!0x0,'detail':(typeof _0x215e9b==_0xc1dc4f(0x2bd)?JSON['stringify'](_0x215e9b,null,0x2):_0x215e9b)[_0xc1dc4f(0x8b0)](/[\[\]{}\n]/g,'\x20')[_0xc1dc4f(0x8b0)](/  +/g,'\x20')};}async['scheduleSendAudio'](_0xc22f33,_0x5dc82a){const _0x148c0a=a0_0x55f44d;this[_0x148c0a(0x3ff)]['verbose'](this[_0x148c0a(0x3b5)]+'\x20('+this[_0x148c0a(0x6bd)][_0x148c0a(0x6f5)]+'):\x20Enviando\x20áudio');let _0x254330={'number':_0x5dc82a,'options':{'delay':_0xc22f33[_0x148c0a(0x57a)][_0x148c0a(0x363)]},'audioMessage':{'audio':_0xc22f33[_0x148c0a(0x57a)][_0x148c0a(0x2ea)]}},_0x2bcb15=null;try{let _0x470794=await this[_0x148c0a(0x3ef)](_0x254330);if(_0x470794&&_0x470794[_0x148c0a(0x346)])return{'error':!0x1,'id':_0x470794[_0x148c0a(0x42e)]['id']};_0x2bcb15=JSON['stringify'](_0x470794),this[_0x148c0a(0x3ff)][_0x148c0a(0x1fa)](this[_0x148c0a(0x3b5)]+'\x20('+this['instance'][_0x148c0a(0x6f5)]+_0x148c0a(0x6bc)+_0x2bcb15);}catch(_0x591da5){this[_0x148c0a(0x3ff)][_0x148c0a(0x752)](this[_0x148c0a(0x3b5)]+'\x20('+this[_0x148c0a(0x6bd)][_0x148c0a(0x6f5)]+_0x148c0a(0x355)+(_0x591da5 instanceof Error?_0x591da5[_0x148c0a(0x57a)]:JSON[_0x148c0a(0x319)](_0x591da5,null,0x2))),_0x2bcb15=_0x591da5[_0x148c0a(0x57a)];}if(_0x2bcb15)return{'error':!0x0,'detail':(typeof _0x2bcb15==_0x148c0a(0x2bd)?JSON[_0x148c0a(0x319)](_0x2bcb15,null,0x2):_0x2bcb15)[_0x148c0a(0x8b0)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x55f44d(0x7f6)](_0xf5c147){const _0x468d02=a0_0x55f44d;try{return await this[_0x468d02(0x757)][_0x468d02(0x2e5)](_0xf5c147[_0x468d02(0x73a)],_0xf5c147[_0x468d02(0x743)]),{'update':'success'};}catch(_0x2a9533){let _0x7f8e7e=_0x468d02(0x3da),_0x43dcc8=_0x2a9533 instanceof Error?_0x2a9533[_0x468d02(0x57a)]:typeof _0x2a9533==_0x468d02(0x2bd)?JSON[_0x468d02(0x319)](_0x2a9533):_0x2a9533,_0xacd122=_0x7f8e7e+':\x20'+_0x43dcc8;throw this[_0x468d02(0x3ff)][_0x468d02(0x752)](this[_0x468d02(0x3b5)]+'\x20('+this[_0x468d02(0x6bd)][_0x468d02(0x6f5)]+_0x468d02(0x6bc)+_0xacd122),new I(_0xacd122);}}async[a0_0x55f44d(0x2d8)](_0x1fdbbd){const _0xda2db=a0_0x55f44d;try{return await this[_0xda2db(0x757)][_0xda2db(0x588)](_0x1fdbbd[_0xda2db(0x73a)],_0x1fdbbd[_0xda2db(0x754)]),{'update':_0xda2db(0x688)};}catch(_0x140064){let _0x3077e6='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName',_0x14a0a3=_0x140064 instanceof Error?_0x140064[_0xda2db(0x57a)]:typeof _0x140064==_0xda2db(0x2bd)?JSON[_0xda2db(0x319)](_0x140064):_0x140064,_0x495e23=_0x3077e6+':\x20'+_0x14a0a3;throw this[_0xda2db(0x3ff)]['error'](this[_0xda2db(0x3b5)]+'\x20('+this[_0xda2db(0x6bd)][_0xda2db(0x6f5)]+_0xda2db(0x6bc)+_0x495e23),new I(_0x495e23);}}async[a0_0x55f44d(0x273)](_0x21784f){const _0x3e8b19=a0_0x55f44d;try{let _0x3a6853=await this[_0x3e8b19(0x757)][_0x3e8b19(0x5cb)](_0x21784f['groupJid'],_0x21784f[_0x3e8b19(0x3d6)]);return{'success':!0x0};}catch(_0x220d70){let _0x4310cb=_0x3e8b19(0x6e3),_0x22cbf8=_0x220d70 instanceof Error?_0x220d70[_0x3e8b19(0x57a)]:typeof _0x220d70==_0x3e8b19(0x2bd)?JSON[_0x3e8b19(0x319)](_0x220d70):_0x220d70,_0x633c89=_0x4310cb+':\x20'+_0x22cbf8;throw this[_0x3e8b19(0x3ff)][_0x3e8b19(0x752)](this[_0x3e8b19(0x3b5)]+'\x20('+this[_0x3e8b19(0x6bd)][_0x3e8b19(0x6f5)]+_0x3e8b19(0x6bc)+_0x633c89),new I(_0x633c89);}}async[a0_0x55f44d(0x2ce)](_0x4dd508){const _0x3b3706=a0_0x55f44d;try{return await this['client']['groupSettingUpdate'](_0x4dd508[_0x3b3706(0x73a)],_0x4dd508[_0x3b3706(0x6e2)]),{'update':_0x3b3706(0x688)};}catch(_0x56c35a){let _0x41c013=_0x3b3706(0x553),_0x447845=_0x56c35a instanceof Error?_0x56c35a['message']:typeof _0x56c35a==_0x3b3706(0x2bd)?JSON[_0x3b3706(0x319)](_0x56c35a):_0x56c35a,_0x495b75=_0x41c013+':\x20'+_0x447845;throw this[_0x3b3706(0x3ff)][_0x3b3706(0x752)](this[_0x3b3706(0x3b5)]+'\x20('+this[_0x3b3706(0x6bd)]['wuid']+_0x3b3706(0x6bc)+_0x495b75),new I(_0x495b75);}}},Jt=class c{constructor(_0x3f381b,_0x280299,_0x11fcd3){const _0x372bbb=a0_0x55f44d;this[_0x372bbb(0x781)]=_0x3f381b,this['configService']=_0x280299,this[_0x372bbb(0x82b)]=_0x11fcd3,this['db']={},this[_0x372bbb(0x718)]={},this[_0x372bbb(0x3ff)]=new R(c[_0x372bbb(0x754)]),this['waInstances']={},(this[_0x372bbb(0x80f)](),this['noConnection'](),Object[_0x372bbb(0x35d)](this['db'],_0x280299[_0x372bbb(0x1ef)]('DATABASE')),Object['assign'](this[_0x372bbb(0x718)],_0x280299['get'](_0x372bbb(0x4c7))),this['dbInstance']=this['db'][_0x372bbb(0x7a1)]?this['repository'][_0x372bbb(0x372)]?.['db'](this['db'][_0x372bbb(0x1dd)][_0x372bbb(0x639)]+_0x372bbb(0x49c)):void 0x0,this[_0x372bbb(0x712)]=this[_0x372bbb(0x718)][_0x372bbb(0x7a1)]?new le(this[_0x372bbb(0x718)]):void 0x0);}async[a0_0x55f44d(0x298)](_0x2e9a9c){const _0x11735d=a0_0x55f44d;if(_0x2e9a9c&&!this['waInstances'][_0x2e9a9c])throw new J(_0x11735d(0x73b)+_0x2e9a9c+_0x11735d(0x710));let _0x549d11=[];for await(let [_0x422bd6,_0xb3c07e]of Object[_0x11735d(0x35c)](this[_0x11735d(0x3be)]))if(_0xb3c07e&&_0xb3c07e[_0x11735d(0x49e)]['state']===_0x11735d(0x2fb)){let _0x2530d1=await this[_0x11735d(0x82b)][_0x11735d(0x4ac)][_0x11735d(0x408)](_0x422bd6);_0x549d11[_0x11735d(0x3d5)]({'instance':{'instanceName':_0x422bd6,'apikey':_0x2530d1[_0x11735d(0x2a1)],'owner':_0xb3c07e[_0x11735d(0x6f5)],'profileName':await _0xb3c07e['getProfileName']()||_0x11735d(0x790),'profilePictureUrl':_0xb3c07e[_0x11735d(0x498)]}});}return _0x549d11[_0x11735d(0x408)](_0x5e20a8=>_0x5e20a8[_0x11735d(0x6bd)]['instanceName']===_0x2e9a9c)??_0x549d11;}async[a0_0x55f44d(0x438)](_0x3e5bde){const _0x3b2d6d=a0_0x55f44d;if(this['db'][_0x3b2d6d(0x7a1)]&&(await this['repository'][_0x3b2d6d(0x372)][_0x3b2d6d(0x436)](),(await this['dbInstance'][_0x3b2d6d(0x3f1)]())['length']>0x0&&await this['dbInstance'][_0x3b2d6d(0x5bd)](_0x3e5bde)),this[_0x3b2d6d(0x718)][_0x3b2d6d(0x7a1)]){this[_0x3b2d6d(0x712)]['reference']=_0x3e5bde,await this[_0x3b2d6d(0x712)][_0x3b2d6d(0x5ba)]();return;}}async[a0_0x55f44d(0x256)](){const _0x57534a=a0_0x55f44d;await this['InstancesAlterarTodas']();let _0xff215a=async _0x194f1c=>{const _0x580751=a0_0x1182;let _0x2ed532=new Me(this[_0x580751(0x473)],this[_0x580751(0x781)],this[_0x580751(0x82b)]);_0x2ed532[_0x580751(0x3b5)]=_0x194f1c,await _0x2ed532['connectToWhatsapp'](),this['waInstances'][_0x194f1c]=_0x2ed532;};try{if(this[_0x57534a(0x718)]['ENABLED']){let _0x2db22f=await this[_0x57534a(0x712)][_0x57534a(0x4fd)]();_0x2db22f?.[_0x57534a(0x2af)]>0x0&&_0x2db22f[_0x57534a(0x27f)](async _0x146e17=>await _0xff215a(_0x146e17[_0x57534a(0x44b)](':')[0x1]));return;}if(this['db'][_0x57534a(0x7a1)]){await this['repository'][_0x57534a(0x372)][_0x57534a(0x436)]();let _0x55a9d4=await this[_0x57534a(0x5de)][_0x57534a(0x3f1)]();_0x55a9d4['length']>0x0&&_0x55a9d4['forEach'](async _0x1348c9=>await _0xff215a(_0x1348c9[_0x57534a(0x48f)][_0x57534a(0x8b0)](/^[\w-]+\./,'')));return;}}catch(_0x3f03e3){this[_0x57534a(0x3ff)][_0x57534a(0x752)](_0x3f03e3);}}async[a0_0x55f44d(0x888)](){const _0x302201=a0_0x55f44d;let _0x1b4f70=await this[_0x302201(0x82b)][_0x302201(0x4ac)][_0x302201(0x880)](),_0x56b3bd=_0x1b4f70[_0x302201(0x804)](_0x54150a=>!this[_0x302201(0x3be)][_0x54150a['_id']]&&(_0x54150a[_0x302201(0x6b9)]||typeof _0x54150a[_0x302201(0x6b9)]>'u'));_0x56b3bd[_0x302201(0x2af)]>0x0&&await Promise['all'](_0x56b3bd[_0x302201(0x2b0)](async _0x176304=>{const _0x147862=_0x302201;let _0x5314ba={'online':!0x1,'lastDisconnect':Date[_0x147862(0x692)]()};await this[_0x147862(0x82b)][_0x147862(0x4ac)]['create'](_0x5314ba,_0x176304[_0x147862(0x20e)]);}));let _0x424741=Date['now']()-0xa*0x18*0x3c*0x3c*0x3e8,_0x5114fa=_0x1b4f70[_0x302201(0x804)](_0x1dd2be=>!this[_0x302201(0x3be)][_0x1dd2be[_0x302201(0x20e)]]&&typeof _0x1dd2be['lastDisconnect']<'u'&&_0x1dd2be[_0x302201(0x398)]<_0x424741);_0x5114fa['length']>0x0&&await Promise[_0x302201(0x7ee)](_0x5114fa[_0x302201(0x2b0)](async _0x135058=>{}));}async[a0_0x55f44d(0x453)](){const _0x5171f5=a0_0x55f44d;try{let _0x3564ee={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x5ba3b1={'online':!0x1,'lastDisconnect':Date[_0x5171f5(0x692)]()},_0x5dd99b=await this['repository']['auth'][_0x5171f5(0x799)](_0x3564ee,_0x5ba3b1);console['log'](_0x5171f5(0x2a4)+_0x5dd99b[_0x5171f5(0x577)]),await this[_0x5171f5(0x80e)]();}catch(_0x51bd25){console[_0x5171f5(0x752)](_0x5171f5(0x805),_0x51bd25);}}async[a0_0x55f44d(0x80e)](){const _0xa2cd8c=a0_0x55f44d;try{let _0xdaf61b={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x404045=await this['repository'][_0xa2cd8c(0x4ac)][_0xa2cd8c(0x266)](_0xdaf61b);console['log'](_0xa2cd8c(0x78e)+_0x404045[_0xa2cd8c(0x577)]);}catch(_0x519bf){console['error'](_0xa2cd8c(0x556),_0x519bf);}}[a0_0x55f44d(0x80f)](){const _0x404280=a0_0x55f44d;this['eventEmitter']['on'](_0x404280(0x863),async _0x3d2a95=>{const _0x189264=_0x404280;try{this['waInstances'][_0x3d2a95]=void 0x0;}catch{}try{this[_0x189264(0x438)](_0x3d2a95);}finally{this[_0x189264(0x3ff)]['warn'](_0x189264(0x73b)+_0x3d2a95+_0x189264(0x214));}});}[a0_0x55f44d(0x541)](){const _0x5d9ce6=a0_0x55f44d;this[_0x5d9ce6(0x781)]['on']('no.connection',async _0xa32a94=>{const _0x126bd0=_0x5d9ce6;try{this[_0x126bd0(0x3be)][_0xa32a94]=void 0x0;}catch{}try{this[_0x126bd0(0x438)](_0xa32a94);}finally{this[_0x126bd0(0x3ff)][_0x126bd0(0x250)](_0x126bd0(0x73b)+_0xa32a94+'\x22\x20-\x20NOT\x20CONNECTION');}});}},qt=class extends x{[a0_0x55f44d(0x55c)](_0x447a2e){return Ks(_0x447a2e);}async[a0_0x55f44d(0x43b)](_0x56c473){const _0xcc892e=a0_0x55f44d;if(_0x56c473[_0xcc892e(0x2af)]!==0x0)try{return{'insertCount':(await this[_0xcc892e(0x55c)](_0x56c473[0x0][_0xcc892e(0x382)])[_0xcc892e(0x417)]([..._0x56c473]))[_0xcc892e(0x2af)]};}catch(_0x5a33e4){return _0x5a33e4;}}async[a0_0x55f44d(0x408)](_0x4c5898,_0x5cd48a){const _0xe9f4ca=a0_0x55f44d;try{let _0xc3002c=this[_0xe9f4ca(0x55c)](_0x5cd48a),_0x33fdeb=$(_0x4c5898[_0xe9f4ca(0x728)]);return await _0xc3002c['find'](_0x33fdeb)[_0xe9f4ca(0x464)]({'lastmsg':-0x1})[_0xe9f4ca(0x4ee)](_0x4c5898?.[_0xe9f4ca(0x4ee)]??0x0)['lean']();}catch{return[];}}async[a0_0x55f44d(0x56f)](_0x3df772,_0xe421e3){const _0x4afc31=a0_0x55f44d;try{return{'deletedCount':(await this[_0x4afc31(0x55c)](_0xe421e3)[_0x4afc31(0x266)]({..._0x3df772['where']}))[_0x4afc31(0x64c)]};}catch(_0x2203eb){return{'error':_0x2203eb?.[_0x4afc31(0x6d8)]()};}}async['deleteAll'](_0x3150cb,_0x505878){const _0x47e1b9=a0_0x55f44d;try{return await this[_0x47e1b9(0x55c)](_0x505878)[_0x47e1b9(0x266)]({..._0x3150cb[_0x47e1b9(0x728)]}),[];}catch(_0x42ec72){return{'error':_0x42ec72?.[_0x47e1b9(0x6d8)]()};}}async[a0_0x55f44d(0x720)](_0x58a12e,_0x50ff8b){const _0xff183=a0_0x55f44d;try{let _0x4d2f21=this['getChatModelForOwner'](_0x50ff8b),_0x26a87f=$(_0x58a12e[_0xff183(0x728)]);return await _0x4d2f21[_0xff183(0x720)](_0x26a87f)[_0xff183(0x2cc)]();}catch{return null;}}async['updateOne'](_0x412970,_0xb1216f,_0x1e480e,_0x38eaf0,_0x296cbf=a0_0x55f44d(0x415)){const _0x2563ba=a0_0x55f44d;try{let _0x2572b9={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x38eaf0},_0x2f3d51=this[_0x2563ba(0x55c)](_0x1e480e),_0x394587=$(_0x412970[_0x2563ba(0x728)]);Object['keys'](_0xb1216f)[_0x2563ba(0x27f)](_0x124216=>{_0xb1216f[_0x124216]==null&&delete _0xb1216f[_0x124216];});let _0x51ea26={};return _0x51ea26[_0x296cbf]=_0xb1216f,await _0x2f3d51['findOneAndUpdate'](_0x394587,_0x51ea26,_0x2572b9);}catch(_0x40976e){return console[_0x2563ba(0x752)](_0x40976e),null;}}async[a0_0x55f44d(0x284)](_0x26a01e){const _0x320a71=a0_0x55f44d;try{let _0x329f94=this['getChatModelForOwner'](_0x26a01e[0x0][_0x320a71(0x263)][_0x320a71(0x728)][_0x320a71(0x382)]),_0x41bd4d=_0x26a01e['map'](_0xa8cbf6=>({'updateOne':{'filter':{..._0xa8cbf6[_0x320a71(0x263)]['where']},'update':{'$set':_0xa8cbf6['update']},'upsert':!0x0}})),_0x337de8=await _0x329f94[_0x320a71(0x744)](_0x41bd4d);return _0x337de8['modifiedCount']+_0x337de8[_0x320a71(0x5b6)];}catch(_0x482060){return console[_0x320a71(0x752)](_0x482060),0x0;}}async[a0_0x55f44d(0x822)](_0x914729){const _0xe17c88=a0_0x55f44d;try{let _0x3e6b78={'group_isCommunity':'','group_announce':'','group_size':''},_0x5d5f0e={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x2623eb={'$unset':_0x3e6b78};return(await this[_0xe17c88(0x55c)](_0x914729)[_0xe17c88(0x284)](_0x5d5f0e,_0x2623eb))[_0xe17c88(0x28b)];}catch(_0x36e053){return console[_0xe17c88(0x752)]('Error\x20removing\x20unused\x20chat\x20fields:',_0x36e053),0x0;}}async[a0_0x55f44d(0x3de)](_0x57f01f){const _0x295052=a0_0x55f44d;try{let _0x4802bd=this[_0x295052(0x55c)](_0x57f01f),_0x3e2899={'leadInfo.etiquetas':{'$exists':!0x1}},_0x47c58f={'$set':{'leadInfo.etiquetas':[]}};return(await _0x4802bd[_0x295052(0x284)](_0x3e2899,_0x47c58f))[_0x295052(0x28b)];}catch(_0x4b7892){return console['error'](_0x4b7892),0x0;}}async['updateMissingTags'](_0x14bf8e){const _0xf9be47=a0_0x55f44d;try{let _0x4cd6a5=this[_0xf9be47(0x55c)](_0x14bf8e),_0x1bd45d={'leadInfo.tags':{'$exists':!0x1}},_0x16d213={'$set':{'leadInfo.tags':[]}};return(await _0x4cd6a5[_0xf9be47(0x284)](_0x1bd45d,_0x16d213))['modifiedCount'];}catch(_0x443414){return console['error'](_0x443414),0x0;}}async[a0_0x55f44d(0x455)](_0x28e786){const _0x499d56=a0_0x55f44d;try{let _0x5eab97=this[_0x499d56(0x55c)](_0x28e786),_0x570178={'leadInfo.customFields':{'$exists':!0x1}},_0x5f4fd3={'$set':{'leadInfo.customFields':[]}};return(await _0x5eab97[_0x499d56(0x284)](_0x570178,_0x5f4fd3))[_0x499d56(0x28b)];}catch(_0x3ef7d6){return console[_0x499d56(0x752)](_0x3ef7d6),0x0;}}async[a0_0x55f44d(0x417)](_0x195914,_0x320ca2){const _0x209c66=a0_0x55f44d;if(!Array['isArray'](_0x195914)||_0x195914[_0x209c66(0x2af)]===0x0)throw new Error(_0x209c66(0x1f7));try{return(await this[_0x209c66(0x55c)](_0x320ca2)[_0x209c66(0x417)](_0x195914))[_0x209c66(0x2af)];}catch(_0x508778){throw console[_0x209c66(0x752)](_0x209c66(0x6bf),_0x508778),_0x508778;}}async[a0_0x55f44d(0x34c)](_0x2fc332,_0x4587d7){const _0x1b857d=a0_0x55f44d;try{await this[_0x1b857d(0x55c)](_0x4587d7)[_0x1b857d(0x44d)]({'_id':_0x2fc332});}catch(_0x4c5050){throw console[_0x1b857d(0x752)]('Erro\x20ao\x20deletar\x20chat:',_0x4c5050),_0x4c5050;}}},Vt=class extends x{constructor(_0x29a32c,_0x52cd60,_0x5e32ee){const _0x365eea=a0_0x55f44d;super(_0x52cd60),this[_0x365eea(0x4b4)]=_0x29a32c,this['configService']=_0x52cd60,this[_0x365eea(0x42f)]=_0x5e32ee;}async[a0_0x55f44d(0x43b)](_0x2a4089){const _0x1dbc58=a0_0x55f44d;if(_0x2a4089[_0x1dbc58(0x2af)]!==0x0)try{return{'insertCount':(await this[_0x1dbc58(0x4b4)][_0x1dbc58(0x417)]([..._0x2a4089]))['length']};}catch(_0x4cdd0c){return _0x4cdd0c;}}async[a0_0x55f44d(0x604)](_0x1612aa,_0x9d8a2d){const _0x3b0326=a0_0x55f44d;try{let _0x471732=$(_0x1612aa['where']);return{'updatedCount':(await this[_0x3b0326(0x4b4)]['updateMany'](_0x471732,{'$set':_0x9d8a2d}))[_0x3b0326(0x28b)]};}catch(_0x21a3d5){return console[_0x3b0326(0x752)](_0x3b0326(0x331),_0x21a3d5),{'error':_0x21a3d5['toString']()};}}async['findManyByIds'](_0x2cc47a){const _0x281fc7=a0_0x55f44d;try{let _0x5e9935={'_id':{'$in':_0x2cc47a}};return await this[_0x281fc7(0x4b4)][_0x281fc7(0x408)](_0x5e9935)[_0x281fc7(0x2cc)]();}catch(_0x3ec25a){return console['error']('Error\x20finding\x20many\x20contacts:',_0x3ec25a),[];}}async[a0_0x55f44d(0x56f)](_0x405339){const _0xafd7ca=a0_0x55f44d;try{return{'deletedCount':(await this[_0xafd7ca(0x4b4)][_0xafd7ca(0x266)]({..._0x405339[_0xafd7ca(0x728)]}))[_0xafd7ca(0x64c)]};}catch(_0x1fcf6e){return{'error':_0x1fcf6e?.[_0xafd7ca(0x6d8)]()};}}async[a0_0x55f44d(0x408)](_0x2cecf6){const _0x3fecb4=a0_0x55f44d;try{let _0x3c1607=$(_0x2cecf6[_0x3fecb4(0x728)]);return await this['cacheContactModel']['find'](_0x3c1607)['limit'](_0x2cecf6?.['limit']??0x0)[_0x3fecb4(0x2cc)]();}catch{return[];}}async[a0_0x55f44d(0x720)](_0x4208d1){const _0x553d17=a0_0x55f44d;try{let _0x108a0d=$(_0x4208d1[_0x553d17(0x728)]);return await this[_0x553d17(0x4b4)][_0x553d17(0x720)](_0x108a0d)[_0x553d17(0x2cc)]();}catch{return null;}}},Gt=class extends x{[a0_0x55f44d(0x2bb)](_0x205cd6){return fa(_0x205cd6);}async[a0_0x55f44d(0x540)](_0x4fb8b1,_0x4d96b6,_0x38746d,_0x261bee){const _0x428cf4=a0_0x55f44d;try{let _0x41271a={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x261bee},_0x1277db=this[_0x428cf4(0x2bb)](_0x38746d),_0x468eac=$(_0x4fb8b1[_0x428cf4(0x728)]);return await _0x1277db[_0x428cf4(0x673)](_0x468eac,{'$set':_0x4d96b6},_0x41271a);}catch(_0x54c7c9){return console['error'](_0x54c7c9),null;}}async['find'](_0x1fabd6,_0x5b4fca){const _0x4c16d6=a0_0x55f44d;try{let _0x514e2e=this[_0x4c16d6(0x2bb)](_0x5b4fca),_0x5ce542=$(_0x1fabd6[_0x4c16d6(0x728)]);return await _0x514e2e[_0x4c16d6(0x408)](_0x5ce542);}catch(_0x1757a0){console['error'](_0x1757a0);}}async['delete'](_0x37dc54,_0x4c47c9){const _0x475d6c=a0_0x55f44d;try{let _0x22c090=this[_0x475d6c(0x2bb)](_0x4c47c9),_0x24f9f3=$(_0x37dc54[_0x475d6c(0x728)]);await _0x22c090['deleteMany'](_0x24f9f3);}catch(_0x3e428b){console[_0x475d6c(0x752)](_0x3e428b);}}async[a0_0x55f44d(0x7c5)](_0x490115){const _0x4a4e95=a0_0x55f44d;try{return await this['getLabelModelForOwner'](_0x490115)[_0x4a4e95(0x772)][_0x4a4e95(0x83e)](),{'success':!0x0};}catch(_0x287997){return console[_0x4a4e95(0x752)](_0x287997),{'success':!0x1,'error':_0x287997};}}},Bt=class{constructor(_0x2c382d){const _0x5e9a3a=a0_0x55f44d;this[_0x5e9a3a(0x42b)]=_0x2c382d;}async['editChat']({instanceName:_0x3eb2c5},_0x2d575d){const _0x505d12=a0_0x55f44d;return await this[_0x505d12(0x42b)][_0x505d12(0x3be)][_0x3eb2c5][_0x505d12(0x421)](_0x2d575d);}async[a0_0x55f44d(0x872)]({instanceName:_0x80df31},_0x234571){const _0x43a5b9=a0_0x55f44d;return await this[_0x43a5b9(0x42b)][_0x43a5b9(0x3be)][_0x80df31][_0x43a5b9(0x872)](_0x234571);}async['importChats']({instanceName:_0x22bc91},_0x32d8cc){const _0x49000a=a0_0x55f44d;return await this[_0x49000a(0x42b)][_0x49000a(0x3be)][_0x22bc91][_0x49000a(0x647)](_0x32d8cc);}async[a0_0x55f44d(0x25a)]({instanceName:_0x3d143f},_0x43ed52){const _0x12ef39=a0_0x55f44d;return await this['waMonitor'][_0x12ef39(0x3be)][_0x3d143f]['markMessageAsRead'](_0x43ed52);}async[a0_0x55f44d(0x467)]({instanceName:_0x24f405},_0x59f987){return await this['waMonitor']['waInstances'][_0x24f405]['archiveChat'](_0x59f987);}async[a0_0x55f44d(0x7b1)]({instanceName:_0x580b92},_0x22a904){const _0x16521b=a0_0x55f44d;return await this[_0x16521b(0x42b)][_0x16521b(0x3be)][_0x580b92][_0x16521b(0x7b1)](_0x22a904);}async[a0_0x55f44d(0x308)]({instanceName:_0x54f734},_0x2ab0aa){const _0xe7e7b5=a0_0x55f44d;return await this['waMonitor'][_0xe7e7b5(0x3be)][_0x54f734]['profilePicture'](_0x2ab0aa[_0xe7e7b5(0x61e)]);}async[a0_0x55f44d(0x4e1)]({instanceName:_0x43056b},_0x216e28){const _0x2bddde=a0_0x55f44d;return await this['waMonitor'][_0x2bddde(0x3be)][_0x43056b]['fetchProfile'](_0x216e28['number']);}async[a0_0x55f44d(0x3e1)]({instanceName:_0x1816c2},_0x2089f5){const _0x135e75=a0_0x55f44d;return await this[_0x135e75(0x42b)][_0x135e75(0x3be)][_0x1816c2][_0x135e75(0x3e1)](_0x2089f5);}async[a0_0x55f44d(0x5d8)]({instanceName:_0xae995d},_0x2a8d9b){const _0x211496=a0_0x55f44d;return await this['waMonitor'][_0x211496(0x3be)][_0xae995d][_0x211496(0x5d8)](_0x2a8d9b);}async[a0_0x55f44d(0x8a4)]({instanceName:_0x41da79},_0x1b9700){const _0x59505c=a0_0x55f44d;return await this[_0x59505c(0x42b)]['waInstances'][_0x41da79][_0x59505c(0x8a4)](_0x1b9700);}async[a0_0x55f44d(0x67f)]({instanceName:_0x4cb227},_0x3059ae){const _0x5ceff9=a0_0x55f44d;return await this[_0x5ceff9(0x42b)][_0x5ceff9(0x3be)][_0x4cb227]['fetchMessages'](_0x3059ae);}async['fetchLabels']({instanceName:_0x3fb61b}){const _0x211d26=a0_0x55f44d;return await this[_0x211d26(0x42b)][_0x211d26(0x3be)][_0x3fb61b][_0x211d26(0x42d)]();}async[a0_0x55f44d(0x2ec)]({instanceName:_0x8cd4e3}){const _0x2b58e4=a0_0x55f44d;return await this[_0x2b58e4(0x42b)][_0x2b58e4(0x3be)][_0x8cd4e3][_0x2b58e4(0x2ec)]();}async['fetchPrivacySettings']({instanceName:_0x4213ea}){const _0x727669=a0_0x55f44d;return await this[_0x727669(0x42b)][_0x727669(0x3be)][_0x4213ea][_0x727669(0x3fd)]();}async['updatePrivacySettings']({instanceName:_0x5c4c94},_0x616a46){const _0x58af47=a0_0x55f44d;return await this[_0x58af47(0x42b)][_0x58af47(0x3be)][_0x5c4c94][_0x58af47(0x58c)](_0x616a46);}async[a0_0x55f44d(0x532)]({instanceName:_0x198f25},_0x580944){const _0x48791e=a0_0x55f44d;return await this['waMonitor'][_0x48791e(0x3be)][_0x198f25][_0x48791e(0x532)](_0x580944[_0x48791e(0x61e)]);}async[a0_0x55f44d(0x3f5)]({instanceName:_0x30aa3d},_0x386806){const _0xb58bf9=a0_0x55f44d;return await this[_0xb58bf9(0x42b)][_0xb58bf9(0x3be)][_0x30aa3d]['updateProfileName'](_0x386806[_0xb58bf9(0x754)]);}async[a0_0x55f44d(0x5a1)]({instanceName:_0x4a6dcf},_0x24cae8){const _0x14dea9=a0_0x55f44d;return await this['waMonitor'][_0x14dea9(0x3be)][_0x4a6dcf][_0x14dea9(0x5a1)](_0x24cae8[_0x14dea9(0x346)]);}async[a0_0x55f44d(0x216)]({instanceName:_0x539e80},_0x527d65){const _0x24807f=a0_0x55f44d;return await this[_0x24807f(0x42b)][_0x24807f(0x3be)][_0x539e80][_0x24807f(0x216)](_0x527d65['picture']);}async[a0_0x55f44d(0x71c)]({instanceName:_0x517f91},_0x57dba0){const _0x5d14b0=a0_0x55f44d;return await this['waMonitor'][_0x5d14b0(0x3be)][_0x517f91][_0x5d14b0(0x71c)]();}},Ds=require(a0_0x55f44d(0x70b)),Wt=class c{constructor(_0x356ee8,_0x5cc893,_0x283ee4,_0x1e2456,_0x430772){const _0x3021bf=a0_0x55f44d;this[_0x3021bf(0x42b)]=_0x356ee8,this[_0x3021bf(0x473)]=_0x5cc893,this[_0x3021bf(0x82b)]=_0x283ee4,this[_0x3021bf(0x781)]=_0x1e2456,this[_0x3021bf(0x5c0)]=_0x430772,this[_0x3021bf(0x3ff)]=new R(c[_0x3021bf(0x754)]);}async['createInstance']({instanceName:_0x52dada,apikey:_0x46bfe0,number:_0x389a23,proxy:_0x9b2171=!0x0}){const _0x1c08cd=a0_0x55f44d;try{let _0x58498f=new Me(this[_0x1c08cd(0x473)],this[_0x1c08cd(0x781)],this['repository']);_0x58498f[_0x1c08cd(0x3b5)]=_0x52dada,this[_0x1c08cd(0x42b)]['waInstances'][_0x58498f['instanceName']]=_0x58498f;let _0x455d4e={};_0x46bfe0?(await this[_0x1c08cd(0x82b)][_0x1c08cd(0x4ac)][_0x1c08cd(0x23b)]({'apikey':_0x46bfe0},_0x52dada),_0x455d4e[_0x1c08cd(0x2a1)]=_0x46bfe0):_0x455d4e=await this['authService'][_0x1c08cd(0x6fd)]({'instanceName':_0x58498f[_0x1c08cd(0x3b5)]});let _0xd4420f;if(_0x389a23){if(_0xd4420f=await this[_0x1c08cd(0x38f)](_0x389a23),_0xd4420f[_0x1c08cd(0x752)])throw new I(_0xd4420f[_0x1c08cd(0x752)][_0x1c08cd(0x6d8)]());_0x389a23=_0xd4420f['number'];}let _0x54f73b;return await _0x58498f[_0x1c08cd(0x3a5)](_0x389a23),await(0x0,Ds[_0x1c08cd(0x363)])(0x7d0),_0x54f73b=_0x58498f[_0x1c08cd(0x7e7)],{'instance':{'instanceName':_0x58498f['instanceName'],'status':_0x1c08cd(0x2d2)},'hash':_0x455d4e,'qrcode':_0x54f73b};}catch(_0x39f10a){throw this[_0x1c08cd(0x3ff)][_0x1c08cd(0x752)](_0x39f10a),_0x39f10a;}}async[a0_0x55f44d(0x5b3)]({instanceName:_0x2e0eaa,number:_0x45dd6a=null}){const _0x3e8891=a0_0x55f44d;try{let _0x43cf86=this[_0x3e8891(0x42b)]['waInstances'][_0x2e0eaa];switch(_0x43cf86?.[_0x3e8891(0x49e)]?.[_0x3e8891(0x3b9)]){case _0x3e8891(0x4ae):return await _0x43cf86['connectToWhatsapp'](_0x45dd6a),await(0x0,Ds[_0x3e8891(0x363)])(0x7d0),_0x43cf86[_0x3e8891(0x7e7)];case _0x3e8891(0x203):return _0x43cf86[_0x3e8891(0x7e7)];default:return await this[_0x3e8891(0x334)]({'instanceName':_0x2e0eaa});}}catch(_0x2d22d6){this[_0x3e8891(0x3ff)][_0x3e8891(0x430)](_0x2d22d6);}}async['connectionState']({instanceName:_0x4b40d2}){const _0x52fb06=a0_0x55f44d;let _0x42f011=this[_0x52fb06(0x42b)][_0x52fb06(0x3be)][_0x4b40d2]['connectionStatus'],_0x12f45c=null;_0x42f011[_0x52fb06(0x3b9)]===_0x52fb06(0x2fb)&&_0x4b40d2&&(_0x12f45c=await this[_0x52fb06(0x42b)][_0x52fb06(0x298)](_0x4b40d2));let _0x2dc10a=null;return _0x42f011['state']===_0x52fb06(0x203)&&_0x4b40d2&&(_0x2dc10a=this[_0x52fb06(0x42b)][_0x52fb06(0x3be)][_0x4b40d2][_0x52fb06(0x7e7)]),{'instance':_0x4b40d2,'connectionStatus':_0x42f011,'instanceInfo':_0x12f45c,'qrcode':_0x2dc10a};}async[a0_0x55f44d(0x38f)](_0x5ade54){const _0x13db4b=a0_0x55f44d;_0x5ade54=_0x5ade54['replace'](/\D/g,'');let _0x57eaab=Object['keys'](this[_0x13db4b(0x42b)]['waInstances'])[_0x13db4b(0x804)](_0x57c120=>{const _0x5558b5=_0x13db4b;let _0x49e067=this[_0x5558b5(0x42b)][_0x5558b5(0x3be)][_0x57c120];return _0x49e067&&_0x49e067['connectionStatus']&&_0x49e067[_0x5558b5(0x49e)][_0x5558b5(0x3b9)]==='open';});if(_0x57eaab['length']===0x0)return{'number':this[_0x13db4b(0x22d)](_0x5ade54)};let _0x34512e=Math[_0x13db4b(0x68a)](Math[_0x13db4b(0x44e)]()*_0x57eaab['length']),_0x32ae88=_0x57eaab[_0x34512e];try{let _0x25d04c=(await this['waMonitor']['waInstances'][_0x32ae88][_0x13db4b(0x872)]({'numbers':[_0x5ade54]}))[_0x13db4b(0x829)]();return _0x25d04c['exists']?{'number':_0x25d04c[_0x13db4b(0x38d)][_0x13db4b(0x8b0)]('@s.whatsapp.net','')}:{'number':_0x5ade54,'error':_0x13db4b(0x501)};}catch(_0x383a9d){return this[_0x13db4b(0x3ff)][_0x13db4b(0x752)](_0x13db4b(0x440)+_0x383a9d),{'number':_0x5ade54,'error':'Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.'};}}[a0_0x55f44d(0x22d)](_0x29ba2b){const _0x297e8e=a0_0x55f44d;let _0x5a32aa=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x297e8e(0x894)](_0x29ba2b);if(_0x5a32aa&&_0x5a32aa[0x1]==='55'){let _0x59a99d=_0x5a32aa[0x2],_0x25b516=_0x5a32aa[0x3],_0x79206f=_0x5a32aa[0x4];if(parseInt(_0x59a99d)>=0x1f&&_0x25b516==='9')return _0x5a32aa[0x1]+_0x59a99d+_0x79206f;}return _0x29ba2b;}async[a0_0x55f44d(0x599)]({instanceName:_0x27c0cf}){const _0x20a4f5=a0_0x55f44d;try{return this[_0x20a4f5(0x42b)][_0x20a4f5(0x3be)][_0x27c0cf]?.[_0x20a4f5(0x757)]?.['ws']?.[_0x20a4f5(0x4ae)](),{'status':_0x20a4f5(0x254),'error':!0x1,'response':{'message':_0x20a4f5(0x4f5)}};}catch(_0x5c6cf8){this[_0x20a4f5(0x3ff)][_0x20a4f5(0x752)](_0x5c6cf8);}}async[a0_0x55f44d(0x4b0)]({instanceName:_0x3af8df}){const _0x45383d=a0_0x55f44d;return _0x3af8df?this[_0x45383d(0x42b)][_0x45383d(0x298)](_0x3af8df):this[_0x45383d(0x42b)][_0x45383d(0x298)]();}async[a0_0x55f44d(0x4d0)]({instanceName:_0x5e2c91}){const _0x5922ed=a0_0x55f44d;try{return await this[_0x5922ed(0x42b)]['waInstances'][_0x5e2c91]?.[_0x5922ed(0x757)]?.[_0x5922ed(0x4d0)]('Log\x20out\x20instance:\x20'+_0x5e2c91),{'error':!0x1,'message':_0x5922ed(0x649)};}catch(_0x20e1c3){throw new I(_0x20e1c3[_0x5922ed(0x6d8)]());}}async[a0_0x55f44d(0x816)]({instanceName:_0x4b4078}){const _0x4eb05b=a0_0x55f44d;if((await this[_0x4eb05b(0x334)]({'instanceName':_0x4b4078}))['connectionStatus'][_0x4eb05b(0x3b9)]===_0x4eb05b(0x2fb))throw new m([_0x4eb05b(0x525),_0x4eb05b(0x4d7)]);try{return delete this[_0x4eb05b(0x42b)]['waInstances'][_0x4b4078],{'error':!0x1,'message':_0x4eb05b(0x211)};}catch(_0x198db3){throw new m(_0x198db3['toString']());}}},te=require('class-validator'),zt=class{constructor(_0x3fb5ea){const _0x2fcb82=a0_0x55f44d;this[_0x2fcb82(0x42b)]=_0x3fb5ea;}async[a0_0x55f44d(0x36b)]({instanceName:_0x21916f},_0x152863){const _0x5d9d4c=a0_0x55f44d;return await this['waMonitor'][_0x5d9d4c(0x3be)][_0x21916f][_0x5d9d4c(0x8b3)](_0x152863);}async[a0_0x55f44d(0x29a)]({instanceName:_0x2b7c29},_0x4a76e9){const _0x160ab6=a0_0x55f44d;return await this[_0x160ab6(0x42b)][_0x160ab6(0x3be)][_0x2b7c29]['menuMessage'](_0x4a76e9);}async['sendMedia']({instanceName:_0x2c3b0d},_0x17dc06){const _0x45b1d6=a0_0x55f44d;if((0x0,te[_0x45b1d6(0x711)])(_0x17dc06?.[_0x45b1d6(0x763)]?.[_0x45b1d6(0x26e)])&&!_0x17dc06?.['mediaMessage']?.[_0x45b1d6(0x3d4)])throw new m(_0x45b1d6(0x76b));if((0x0,te[_0x45b1d6(0x7d6)])(_0x17dc06?.[_0x45b1d6(0x763)]?.[_0x45b1d6(0x26e)])||(0x0,te[_0x45b1d6(0x711)])(_0x17dc06?.[_0x45b1d6(0x763)]?.[_0x45b1d6(0x26e)]))return await this[_0x45b1d6(0x42b)]['waInstances'][_0x2c3b0d][_0x45b1d6(0x763)](_0x17dc06);throw new m(_0x45b1d6(0x7a9));}async[a0_0x55f44d(0x641)]({instanceName:_0xa7093b},_0x100afc){const _0x31d5e8=a0_0x55f44d;if((0x0,te['isURL'])(_0x100afc[_0x31d5e8(0x884)][_0x31d5e8(0x717)])||(0x0,te[_0x31d5e8(0x711)])(_0x100afc[_0x31d5e8(0x884)]['image']))return await this[_0x31d5e8(0x42b)]['waInstances'][_0xa7093b][_0x31d5e8(0x703)](_0x100afc);throw new m(_0x31d5e8(0x7a9));}async[a0_0x55f44d(0x393)]({instanceName:_0x27aa56},_0x1a9c87){const _0xd11a61=a0_0x55f44d;if((0x0,te[_0xd11a61(0x7d6)])(_0x1a9c87[_0xd11a61(0x5eb)]['audio'])||(0x0,te[_0xd11a61(0x711)])(_0x1a9c87['audioMessage'][_0xd11a61(0x1de)]))return await this['waMonitor'][_0xd11a61(0x3be)][_0x27aa56][_0xd11a61(0x3ef)](_0x1a9c87);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x55f44d(0x75d)]({instanceName:_0x555afa},_0x234653){const _0xd6228b=a0_0x55f44d;if((0x0,te[_0xd6228b(0x711)])(_0x234653[_0xd6228b(0x34f)][_0xd6228b(0x763)]?.[_0xd6228b(0x26e)])&&!_0x234653[_0xd6228b(0x34f)][_0xd6228b(0x763)]?.[_0xd6228b(0x3d4)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');return await this[_0xd6228b(0x42b)][_0xd6228b(0x3be)][_0x555afa][_0xd6228b(0x34f)](_0x234653);}async[a0_0x55f44d(0x736)]({instanceName:_0x27878f},_0x5d7500){const _0x2e19a8=a0_0x55f44d;return await this[_0x2e19a8(0x42b)][_0x2e19a8(0x3be)][_0x27878f][_0x2e19a8(0x244)](_0x5d7500);}async[a0_0x55f44d(0x7dd)]({instanceName:_0x19edc0},_0x291797){const _0x258acc=a0_0x55f44d;return await this['waMonitor'][_0x258acc(0x3be)][_0x19edc0][_0x258acc(0x2e2)](_0x291797);}async[a0_0x55f44d(0x6ed)]({instanceName:_0x4cc897},_0x55cb2e){const _0x4a501f=a0_0x55f44d;return await this[_0x4a501f(0x42b)][_0x4a501f(0x3be)][_0x4cc897][_0x4a501f(0x585)](_0x55cb2e);}async['sendContact']({instanceName:_0x18e7b7},_0x101f74){const _0x213d1f=a0_0x55f44d;return await this[_0x213d1f(0x42b)][_0x213d1f(0x3be)][_0x18e7b7][_0x213d1f(0x881)](_0x101f74);}async[a0_0x55f44d(0x758)]({instanceName:_0x1692d0},_0xbf61df){const _0x48239f=a0_0x55f44d;if(!_0xbf61df[_0x48239f(0x490)]['reaction'][_0x48239f(0x7a4)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x48239f(0x681));return await this[_0x48239f(0x42b)][_0x48239f(0x3be)][_0x1692d0][_0x48239f(0x490)](_0xbf61df);}async[a0_0x55f44d(0x32d)]({instanceName:_0xc1ef83},_0x46f182){const _0x1056e1=a0_0x55f44d;return await this[_0x1056e1(0x42b)][_0x1056e1(0x3be)][_0xc1ef83][_0x1056e1(0x608)](_0x46f182);}},Ro=require(a0_0x55f44d(0x1f4)),_s=require(a0_0x55f44d(0x89c)),Ht=class c{constructor(_0x4da1d7,_0x245de4,_0x421979){this['configService']=_0x4da1d7,this['waMonitor']=_0x245de4,this['repository']=_0x421979,this['logger']=new R(c['name']);}async[a0_0x55f44d(0x3f6)](_0x2fec45){const _0x29e4af=a0_0x55f44d;let _0x173cfb=this[_0x29e4af(0x473)]['get']('AUTHENTICATION')[_0x29e4af(0x891)],_0x57345d=(0x0,Ro[_0x29e4af(0x566)])({'instanceName':_0x2fec45[_0x29e4af(0x3b5)],'apiName':Ze,'tokenId':(0x0,_s['v4'])()},_0x173cfb[_0x29e4af(0x684)],{'expiresIn':_0x173cfb[_0x29e4af(0x5aa)],'encoding':_0x29e4af(0x53a),'subject':_0x29e4af(0x7cc)}),_0x2dc70a=await this[_0x29e4af(0x82b)][_0x29e4af(0x4ac)]['create']({'jwt':_0x57345d},_0x2fec45[_0x29e4af(0x3b5)]);if(_0x2dc70a[_0x29e4af(0x752)])throw this[_0x29e4af(0x3ff)][_0x29e4af(0x752)]({'localError':c[_0x29e4af(0x754)]+_0x29e4af(0x3dd),'error':_0x2dc70a[_0x29e4af(0x752)]}),new m(_0x29e4af(0x886),_0x2dc70a[_0x29e4af(0x752)]?.[_0x29e4af(0x6d8)]());return{'jwt':_0x57345d};}async[a0_0x55f44d(0x2a1)](_0x348895){const _0xab3df2=a0_0x55f44d;let _0x3ca42c=(0x0,_s['v4'])()[_0xab3df2(0x8b1)](),_0x595904=await this[_0xab3df2(0x82b)][_0xab3df2(0x4ac)][_0xab3df2(0x23b)]({'apikey':_0x3ca42c},_0x348895[_0xab3df2(0x3b5)]);if(_0x595904[_0xab3df2(0x752)])throw this['logger'][_0xab3df2(0x752)]({'localError':c[_0xab3df2(0x754)]+_0xab3df2(0x3dd),'error':_0x595904['error']}),new m(_0xab3df2(0x886),_0x595904[_0xab3df2(0x752)]?.[_0xab3df2(0x6d8)]());return{'apikey':_0x3ca42c};}async[a0_0x55f44d(0x6fd)](_0x1c210f){const _0x559630=a0_0x55f44d;let _0x1f562f=this[_0x559630(0x473)]['get'](_0x559630(0x7b2));return await this[_0x1f562f[_0x559630(0x356)]](_0x1c210f);}},Kt=class{constructor(_0x36b174){this['waMonitor']=_0x36b174;}async[a0_0x55f44d(0x74a)](_0x52fcf2,_0x212403){return await this['waMonitor']['waInstances'][_0x52fcf2['instanceName']]['createGroup'](_0x212403);}async['updateGroupPicture'](_0x29aedb,_0x16451e){const _0x575d47=a0_0x55f44d;return await this[_0x575d47(0x42b)]['waInstances'][_0x29aedb['instanceName']][_0x575d47(0x3a8)](_0x16451e);}async[a0_0x55f44d(0x7f6)](_0x4e5d00,_0x4013c5){const _0x4afa1f=a0_0x55f44d;return await this[_0x4afa1f(0x42b)][_0x4afa1f(0x3be)][_0x4e5d00[_0x4afa1f(0x3b5)]]['groupDesc'](_0x4013c5);}async['groupName'](_0x2f6537,_0xd98929){const _0x4aa788=a0_0x55f44d;return await this[_0x4aa788(0x42b)][_0x4aa788(0x3be)][_0x2f6537['instanceName']][_0x4aa788(0x2d8)](_0xd98929);}async['groupBetterSetting'](_0x2362de,_0x4d9e92){const _0xbedb0c=a0_0x55f44d;return await this[_0xbedb0c(0x42b)][_0xbedb0c(0x3be)][_0x2362de['instanceName']][_0xbedb0c(0x5ee)](_0x4d9e92);}async[a0_0x55f44d(0x2ce)](_0x53578d,_0x215c09){const _0x250479=a0_0x55f44d;return await this[_0x250479(0x42b)]['waInstances'][_0x53578d[_0x250479(0x3b5)]][_0x250479(0x2ce)](_0x215c09);}async[a0_0x55f44d(0x844)](_0x26b502,_0x2c07f9){const _0x90e510=a0_0x55f44d;return await this[_0x90e510(0x42b)][_0x90e510(0x3be)][_0x26b502[_0x90e510(0x3b5)]][_0x90e510(0x6e9)](_0x2c07f9);}async[a0_0x55f44d(0x2b7)](_0x5bfa46){const _0x3c6ca=a0_0x55f44d;return await this[_0x3c6ca(0x42b)][_0x3c6ca(0x3be)][_0x5bfa46['instanceName']][_0x3c6ca(0x2b7)]();}async[a0_0x55f44d(0x24f)](_0x535c38,_0x5de342){const _0x2c741f=a0_0x55f44d;return await this[_0x2c741f(0x42b)][_0x2c741f(0x3be)][_0x535c38['instanceName']][_0x2c741f(0x24f)](_0x5de342);}async[a0_0x55f44d(0x315)](_0x1f7218,_0x3365f1){const _0x1f7434=a0_0x55f44d;return await this[_0x1f7434(0x42b)][_0x1f7434(0x3be)][_0x1f7218[_0x1f7434(0x3b5)]][_0x1f7434(0x315)](_0x3365f1);}async[a0_0x55f44d(0x898)](_0x534cb5,_0xf4f6a){const _0x5e8466=a0_0x55f44d;return await this[_0x5e8466(0x42b)]['waInstances'][_0x534cb5[_0x5e8466(0x3b5)]][_0x5e8466(0x898)](_0xf4f6a);}async['revokeInviteCode'](_0x111ae7,_0x27af07){const _0x754f6e=a0_0x55f44d;return await this['waMonitor']['waInstances'][_0x111ae7[_0x754f6e(0x3b5)]]['revokeInviteCode'](_0x27af07);}async[a0_0x55f44d(0x655)](_0x199362,_0xf0734){const _0x2444dd=a0_0x55f44d;return await this[_0x2444dd(0x42b)]['waInstances'][_0x199362[_0x2444dd(0x3b5)]][_0x2444dd(0x655)](_0xf0734);}async['updateGParticipate'](_0x1b6249,_0x221815){const _0x4ceaaa=a0_0x55f44d;return await this['waMonitor']['waInstances'][_0x1b6249[_0x4ceaaa(0x3b5)]][_0x4ceaaa(0x8af)](_0x221815);}async[a0_0x55f44d(0x273)](_0x5049ed,_0x44fefa){const _0x4a2b5d=a0_0x55f44d;return await this[_0x4a2b5d(0x42b)][_0x4a2b5d(0x3be)][_0x5049ed[_0x4a2b5d(0x3b5)]][_0x4a2b5d(0x273)](_0x44fefa);}async[a0_0x55f44d(0x88e)](_0x27d0ed,_0x29b52a){const _0x365f55=a0_0x55f44d;return await this[_0x365f55(0x42b)][_0x365f55(0x3be)][_0x27d0ed[_0x365f55(0x3b5)]]['leaveGroup'](_0x29b52a);}},Qt=class{constructor(_0x4c8a1d){const _0x2b912a=a0_0x55f44d;this[_0x2b912a(0x42b)]=_0x4c8a1d;}[a0_0x55f44d(0x23b)](_0x339dcd,_0x215e8e){const _0x5044ef=a0_0x55f44d;return this[_0x5044ef(0x42b)][_0x5044ef(0x3be)][_0x339dcd[_0x5044ef(0x3b5)]][_0x5044ef(0x379)](_0x215e8e);}async[a0_0x55f44d(0x408)](_0x13bcae){const _0x37fe5=a0_0x55f44d;try{return await this[_0x37fe5(0x42b)][_0x37fe5(0x3be)][_0x13bcae[_0x37fe5(0x3b5)]][_0x37fe5(0x82f)]();}catch{return{'enabled':null,'url':''};}}},Ep=new R(a0_0x55f44d(0x3c5)),Yt=class{constructor(_0x1798ff){const _0xb76373=a0_0x55f44d;this[_0xb76373(0x42b)]=_0x1798ff;}async[a0_0x55f44d(0x5d5)](_0x5e513c,_0x210966){const _0x150eb9=a0_0x55f44d;return await this[_0x150eb9(0x42b)][_0x150eb9(0x3be)][_0x5e513c[_0x150eb9(0x3b5)]][_0x150eb9(0x5d5)](_0x210966);}async['getScheduleMessage'](_0x4cf853){const _0xeb4859=a0_0x55f44d;return await this['waMonitor'][_0xeb4859(0x3be)][_0x4cf853[_0xeb4859(0x3b5)]][_0xeb4859(0x794)]();}async[a0_0x55f44d(0x212)](_0x2c1350){const _0x1ae294=a0_0x55f44d;return await this[_0x1ae294(0x42b)][_0x1ae294(0x3be)][_0x2c1350[_0x1ae294(0x3b5)]][_0x1ae294(0x212)]();}async[a0_0x55f44d(0x302)](_0x5f1615){const _0x2cc89f=a0_0x55f44d;return await this[_0x2cc89f(0x42b)][_0x2cc89f(0x3be)][_0x5f1615['instanceName']][_0x2cc89f(0x302)]();}async[a0_0x55f44d(0x59b)](_0x455ed3,_0x49d3b8){const _0x1fddda=a0_0x55f44d;return await this[_0x1fddda(0x42b)][_0x1fddda(0x3be)][_0x455ed3['instanceName']][_0x1fddda(0x59b)](_0x49d3b8);}async['updateCustomFields'](_0x186c25,_0x4e5106){const _0x1a51bc=a0_0x55f44d;return await this[_0x1a51bc(0x42b)][_0x1a51bc(0x3be)][_0x186c25[_0x1a51bc(0x3b5)]][_0x1a51bc(0x7a5)](_0x4e5106);}async[a0_0x55f44d(0x3a2)](_0x22ad57,_0x3b69a7){const _0x3eea6b=a0_0x55f44d;return await this['waMonitor'][_0x3eea6b(0x3be)][_0x22ad57[_0x3eea6b(0x3b5)]][_0x3eea6b(0x3a2)](_0x3b69a7);}async[a0_0x55f44d(0x47a)](_0x4733a2,_0x2f8033){const _0x1faa9b=a0_0x55f44d;return await this['waMonitor']['waInstances'][_0x4733a2[_0x1faa9b(0x3b5)]][_0x1faa9b(0x47a)](_0x2f8033);}async[a0_0x55f44d(0x1f2)](_0x1a08ee,_0x9d2eb2){const _0x2e6db1=a0_0x55f44d;return await this['waMonitor'][_0x2e6db1(0x3be)][_0x1a08ee[_0x2e6db1(0x3b5)]][_0x2e6db1(0x1f2)](_0x9d2eb2);}async['getConversation'](_0x51235f,_0x17d4b1){const _0x1a1c03=a0_0x55f44d;return await this[_0x1a1c03(0x42b)][_0x1a1c03(0x3be)][_0x51235f[_0x1a1c03(0x3b5)]][_0x1a1c03(0x55d)](_0x17d4b1);}async[a0_0x55f44d(0x672)](_0x1f0c79,_0x102464){const _0x2097cc=a0_0x55f44d;return await this[_0x2097cc(0x42b)][_0x2097cc(0x3be)][_0x1f0c79[_0x2097cc(0x3b5)]][_0x2097cc(0x672)](_0x102464);}async[a0_0x55f44d(0x6cc)](_0x5e6e43,_0x3707f4){const _0x3163cf=a0_0x55f44d;return await this['waMonitor'][_0x3163cf(0x3be)][_0x5e6e43[_0x3163cf(0x3b5)]]['editConversation'](_0x3707f4);}async[a0_0x55f44d(0x1d9)](_0x1d59d8,_0x54f480){const _0xcbdec6=a0_0x55f44d;return await this[_0xcbdec6(0x42b)][_0xcbdec6(0x3be)][_0x1d59d8[_0xcbdec6(0x3b5)]][_0xcbdec6(0x1d9)](_0x54f480);}async['getFlow'](_0x5d372d,_0x425bb0){const _0x5deebf=a0_0x55f44d;return await this[_0x5deebf(0x42b)]['waInstances'][_0x5d372d['instanceName']][_0x5deebf(0x419)](_0x425bb0[_0x5deebf(0x754)],_0x425bb0['global']);}async['createFlow'](_0x27c665,_0x7b7ad,_0xf8a3f1){const _0x38a71a=a0_0x55f44d;return await this[_0x38a71a(0x42b)][_0x38a71a(0x3be)][_0x27c665[_0x38a71a(0x3b5)]]['createFlow'](_0x7b7ad,_0xf8a3f1);}async[a0_0x55f44d(0x332)](_0x3cb6a9,_0x50d37d,_0x84bfc4){const _0x1b2af5=a0_0x55f44d;return await this['waMonitor']['waInstances'][_0x3cb6a9[_0x1b2af5(0x3b5)]][_0x1b2af5(0x332)](_0x50d37d,_0x84bfc4);}async[a0_0x55f44d(0x83d)](_0x127f52,_0x24bd63,_0x1b7133){const _0x1adcbf=a0_0x55f44d;return await this[_0x1adcbf(0x42b)][_0x1adcbf(0x3be)][_0x127f52[_0x1adcbf(0x3b5)]]['editFlowBlock'](_0x24bd63,_0x1b7133);}async['editFlowReply'](_0x579d24,_0x3e055e,_0x51fd65){const _0x322cab=a0_0x55f44d;return await this[_0x322cab(0x42b)][_0x322cab(0x3be)][_0x579d24[_0x322cab(0x3b5)]][_0x322cab(0x474)](_0x3e055e,_0x51fd65);}async[a0_0x55f44d(0x522)](_0x51a70c,_0xaf6489,_0x287aef){const _0xf2a59f=a0_0x55f44d;return await this['waMonitor'][_0xf2a59f(0x3be)][_0x51a70c[_0xf2a59f(0x3b5)]]['editFlowGroup'](_0xaf6489,_0x287aef);}async[a0_0x55f44d(0x8ad)](_0x890c5,_0x538d12,_0x44ef7f){const _0x26a324=a0_0x55f44d;return await this[_0x26a324(0x42b)]['waInstances'][_0x890c5[_0x26a324(0x3b5)]][_0x26a324(0x8ad)](_0x538d12,_0x44ef7f);}async[a0_0x55f44d(0x1ff)](_0xeb49f9,_0xc01b69,_0x523fc2){const _0x5b2fad=a0_0x55f44d;return await this['waMonitor'][_0x5b2fad(0x3be)][_0xeb49f9['instanceName']][_0x5b2fad(0x1ff)](_0xc01b69,_0x523fc2);}async['editFlowVariable'](_0xbec299,_0x2f9673,_0x43be67){const _0x7bb9c0=a0_0x55f44d;return await this[_0x7bb9c0(0x42b)][_0x7bb9c0(0x3be)][_0xbec299['instanceName']]['editFlowVariable'](_0x2f9673,_0x43be67);}async[a0_0x55f44d(0x769)](_0x2edae9,_0x5b6f91,_0x1cee4c){const _0x5d9d51=a0_0x55f44d;return await this[_0x5d9d51(0x42b)]['waInstances'][_0x2edae9[_0x5d9d51(0x3b5)]][_0x5d9d51(0x769)](_0x5b6f91,_0x1cee4c,_0x5b6f91[_0x5d9d51(0x657)]);}async['allFlows'](_0x524e46){const _0x1b4c64=a0_0x55f44d;return await this[_0x1b4c64(0x42b)]['waInstances'][_0x524e46[_0x1b4c64(0x3b5)]][_0x1b4c64(0x503)]();}},Xt=class{constructor(_0x4ef7f6){this['webhookService']=_0x4ef7f6;}async[a0_0x55f44d(0x463)](_0x5bf10e,_0x11fe44){const _0x22b988=a0_0x55f44d;return this['webhookService'][_0x22b988(0x23b)](_0x5bf10e,_0x11fe44);}async[a0_0x55f44d(0x82f)](_0x2d33ea){const _0x52124a=a0_0x55f44d;return this[_0x52124a(0x797)]['find'](_0x2d33ea);}},Zt=class extends x{constructor(_0x5d7191,_0xabb29c){const _0xc3c473=a0_0x55f44d;super(_0xabb29c),this[_0xc3c473(0x80b)]=_0x5d7191,this['configService']=_0xabb29c;}async[a0_0x55f44d(0x23b)](_0x15f399,_0x574b2d){const _0x2e505b=a0_0x55f44d;try{return this[_0x2e505b(0x200)][_0x2e505b(0x7a1)]?{'insertCount':(await this[_0x2e505b(0x80b)][_0x2e505b(0x559)]({'_id':_0x574b2d},{..._0x15f399},{'upsert':!0x0}))[_0x2e505b(0x28b)]}:{'insertCount':0x1};}catch(_0x368e3d){return _0x368e3d;}}async[a0_0x55f44d(0x56f)](_0x371347){const _0x30be5e=a0_0x55f44d;try{if(this[_0x30be5e(0x200)][_0x30be5e(0x7a1)]){await this[_0x30be5e(0x80b)][_0x30be5e(0x44d)]({'_id':_0x371347});return;}}catch(_0x5398b3){return{'error':_0x5398b3};}}async[a0_0x55f44d(0x408)](_0x435830){const _0x1467a0=a0_0x55f44d;try{if(this[_0x1467a0(0x200)][_0x1467a0(0x7a1)])return await this[_0x1467a0(0x80b)][_0x1467a0(0x720)]({'_id':_0x435830});}catch{return{};}}},es=class extends x{constructor(_0x22b034,_0x330e9b){const _0x325bd2=a0_0x55f44d;super(_0x330e9b),this[_0x325bd2(0x2ab)]=_0x22b034,this['configService']=_0x330e9b,this[_0x325bd2(0x4ac)]=_0x330e9b[_0x325bd2(0x1ef)]('AUTHENTICATION');}async[a0_0x55f44d(0x23b)](_0x92a341,_0x5f5c1f){const _0x3d521a=a0_0x55f44d;try{if(this[_0x3d521a(0x200)][_0x3d521a(0x7a1)])return{'insertCount':(await this[_0x3d521a(0x2ab)]['updateOne']({'_id':_0x5f5c1f},{'$set':{..._0x92a341}},{'upsert':!0x0}))[_0x3d521a(0x28b)]};}catch(_0x885a0a){return{'error':_0x885a0a};}}async[a0_0x55f44d(0x799)](_0x2f948c,_0x37c075){const _0x259239=a0_0x55f44d;try{if(this[_0x259239(0x200)][_0x259239(0x7a1)])return{'insertCount':(await this[_0x259239(0x2ab)][_0x259239(0x284)](_0x2f948c,{'$set':_0x37c075},{'upsert':!0x1}))[_0x259239(0x28b)]};throw new Error(_0x259239(0x4bc));}catch(_0xcb2f51){return{'error':_0xcb2f51};}}async[a0_0x55f44d(0x266)](_0x1acbf3){const _0x26955e=a0_0x55f44d;try{if(this[_0x26955e(0x200)][_0x26955e(0x7a1)])return{'insertCount':(await this[_0x26955e(0x2ab)]['deleteMany'](_0x1acbf3))[_0x26955e(0x64c)]};throw new Error(_0x26955e(0x4bc));}catch(_0x5637d3){return{'error':_0x5637d3};}}async['delete'](_0x18f3ed){const _0x3cbc94=a0_0x55f44d;try{if(this[_0x3cbc94(0x200)][_0x3cbc94(0x7a1)]){await this['authModel'][_0x3cbc94(0x44d)]({'_id':_0x18f3ed});return;}}catch(_0x414760){return{'error':_0x414760};}}async[a0_0x55f44d(0x408)](_0x78885c){const _0x3c377d=a0_0x55f44d;try{if(this[_0x3c377d(0x200)]['ENABLED'])return await this[_0x3c377d(0x2ab)][_0x3c377d(0x720)]({'_id':_0x78885c});}catch{return{};}}async[a0_0x55f44d(0x880)](){const _0x22e77d=a0_0x55f44d;try{if(this['dbSettings'][_0x22e77d(0x7a1)])return await this[_0x22e77d(0x2ab)]['find']();}catch{return[];}}},ts=class extends x{[a0_0x55f44d(0x557)](_0x118038){return pa(_0x118038);}async[a0_0x55f44d(0x56f)](_0x12c22b,_0x13063b){const _0x249978=a0_0x55f44d;try{let _0x2156c9=this[_0x249978(0x557)](_0x13063b),_0x5c083c=$(_0x12c22b[_0x249978(0x728)]);return{'deletedCount':(await _0x2156c9[_0x249978(0x266)](_0x5c083c))[_0x249978(0x64c)]};}catch(_0x2de591){return{'error':_0x2de591?.['toString']()};}}async[a0_0x55f44d(0x44d)](_0x277832,_0x37d07c){const _0x229842=a0_0x55f44d;try{let _0x19e6d9=this[_0x229842(0x557)](_0x37d07c),_0xdc7195=$(_0x277832[_0x229842(0x728)]);return{'deletedCount':(await _0x19e6d9[_0x229842(0x44d)](_0xdc7195))[_0x229842(0x64c)]};}catch(_0x48d596){return{'error':_0x48d596?.[_0x229842(0x6d8)]()};}}async[a0_0x55f44d(0x559)](_0x1d9c79,_0x5535d7,_0x2c4a89){const _0x3bc563=a0_0x55f44d;try{let _0x290627=await this[_0x3bc563(0x557)](_0x2c4a89)[_0x3bc563(0x4d4)](_0x1d9c79,_0x5535d7,{'overwrite':!0x0,'new':!0x0});return _0x290627||(console[_0x3bc563(0x752)](_0x3bc563(0x6b5),_0x1d9c79),null);}catch(_0x6e50e6){return console[_0x3bc563(0x752)](_0x3bc563(0x6bb),_0x6e50e6),null;}}async[a0_0x55f44d(0x540)](_0x111e86,_0x2bb310,_0x1f29d7){const _0x493991=a0_0x55f44d;try{let _0x2cb590=await this[_0x493991(0x557)](_0x1f29d7)[_0x493991(0x3e4)](_0x111e86);return _0x2cb590?(Object['assign'](_0x2cb590,_0x2bb310),await _0x2cb590[_0x493991(0x849)]()):(console[_0x493991(0x752)]('Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:',_0x111e86),null);}catch(_0x43af11){return console[_0x493991(0x752)](_0x493991(0x6bb),_0x43af11),null;}}async[a0_0x55f44d(0x2db)](_0x4295e0,_0x4b79e3,_0x265da8){const _0x425926=a0_0x55f44d;try{let _0x938306=this['getFlowModelForOwner'](_0x265da8),_0x253609=await _0x938306[_0x425926(0x3e4)](_0x4295e0),_0x15e043=await _0x938306[_0x425926(0x673)]({'_id':_0x4295e0},_0x4b79e3,{'new':!0x0,'runValidators':!0x0});return _0x15e043||(console[_0x425926(0x430)](_0x425926(0x6af)+_0x4295e0+_0x425926(0x82c)+_0x265da8+_0x425926(0x7aa)),null);}catch(_0xc705ae){throw console['error'](_0x425926(0x3ca),_0xc705ae),_0xc705ae;}}async[a0_0x55f44d(0x3a3)](_0x45a011){const _0x275616=a0_0x55f44d;try{let _0x2d95cd=this['getFlowModelForOwner'](_0x45a011),_0x23acc3={'shareOwners':{'$exists':!0x1}},_0x144d8c={'$set':{'shareOwners':[]}};return(await _0x2d95cd[_0x275616(0x284)](_0x23acc3,_0x144d8c))[_0x275616(0x28b)];}catch(_0x165221){return console[_0x275616(0x752)](_0x165221),0x0;}}async[a0_0x55f44d(0x2f2)](_0x9dd63c,_0x39f6a9){const _0x341d0f=a0_0x55f44d;try{let _0x55bdb3=this['getFlowModelForOwner'](_0x39f6a9);return await new _0x55bdb3(_0x9dd63c)[_0x341d0f(0x849)]();}catch(_0x5933ff){return console['error'](_0x341d0f(0x83c),_0x5933ff),null;}}async[a0_0x55f44d(0x284)](_0x571140,_0x10f578,_0x13fdbe){const _0x4131f2=a0_0x55f44d;try{return{'modifiedCount':(await this[_0x4131f2(0x557)](_0x13fdbe)[_0x4131f2(0x284)](_0x571140,{'$set':_0x10f578}))[_0x4131f2(0x28b)]};}catch(_0x17d33d){return console[_0x4131f2(0x752)](_0x4131f2(0x389),_0x17d33d),{'error':_0x17d33d};}}async['findAll'](_0x5ec481,_0xcda2d5){const _0x2a74f1=a0_0x55f44d;try{let _0x1364e8=this[_0x2a74f1(0x557)](_0xcda2d5),_0x113986=$(_0x5ec481[_0x2a74f1(0x728)]);return await _0x1364e8[_0x2a74f1(0x408)](_0x113986)[_0x2a74f1(0x4ee)](_0x5ec481?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0x55f44d(0x720)](_0x31a235,_0x6b25b9){const _0x448597=a0_0x55f44d;try{let _0xdba16e=this[_0x448597(0x557)](_0x6b25b9),_0x584f96=$(_0x31a235[_0x448597(0x728)]);return await _0xdba16e[_0x448597(0x720)](_0x584f96)['lean']();}catch{return null;}}async[a0_0x55f44d(0x7c5)](_0x2c5fdc){const _0x4b527e=a0_0x55f44d;try{return await this['getFlowModelForOwner'](_0x2c5fdc)[_0x4b527e(0x772)]['drop'](),{'success':!0x0};}catch(_0x2ae60e){return console['error'](_0x2ae60e),{'success':!0x1,'error':_0x2ae60e};}}},ss=class extends x{['getConversationModelForOwner'](_0x213f24){return ha(_0x213f24);}async['insert'](_0x3a6540){const _0x1f1037=a0_0x55f44d;if(_0x3a6540[_0x1f1037(0x2af)]!==0x0)try{return{'insertCount':(await this['getConversationModelForOwner'](_0x3a6540[0x0][_0x1f1037(0x382)])[_0x1f1037(0x417)]([..._0x3a6540]))[_0x1f1037(0x2af)]};}catch(_0x1cdb0d){return _0x1cdb0d;}}async['delete'](_0x57c67e,_0x22a609){const _0x49f50e=a0_0x55f44d;try{let _0x3b6fc2=this['getConversationModelForOwner'](_0x22a609),_0x892aad=$(_0x57c67e[_0x49f50e(0x728)]);return{'deletedCount':(await _0x3b6fc2[_0x49f50e(0x266)](_0x892aad))[_0x49f50e(0x64c)]};}catch(_0xe0dad6){return{'error':_0xe0dad6?.[_0x49f50e(0x6d8)]()};}}async[a0_0x55f44d(0x44d)](_0x42439e,_0x1b752f){const _0x252c49=a0_0x55f44d;try{let _0x248996=this[_0x252c49(0x62f)](_0x1b752f),_0x61e002=$(_0x42439e[_0x252c49(0x728)]);return{'deletedCount':(await _0x248996[_0x252c49(0x44d)](_0x61e002))[_0x252c49(0x64c)]};}catch(_0x41a9f6){return{'error':_0x41a9f6?.[_0x252c49(0x6d8)]()};}}async[a0_0x55f44d(0x604)](_0x49be59,_0x3195f7){const _0x2ad8f0=a0_0x55f44d;try{if(_0x49be59[_0x2ad8f0(0x2af)]===0x0)return;let _0x32d4d3=this['getConversationModelForOwner'](_0x3195f7),_0x1125b6=_0x49be59[_0x2ad8f0(0x2b0)](_0x3a697a=>({'updateOne':{'filter':{'name':_0x3a697a[_0x2ad8f0(0x754)],'owner':_0x3195f7},'update':{..._0x3a697a}}})),{modifiedCount:_0x47a6c2}=await _0x32d4d3['bulkWrite'](_0x1125b6);return{'insertCount':_0x47a6c2};}catch{return;}}async[a0_0x55f44d(0x284)](_0x434a20,_0x5ba69f,_0x4af8a9){const _0x46e3f4=a0_0x55f44d;try{return{'modifiedCount':(await this[_0x46e3f4(0x62f)](_0x4af8a9)[_0x46e3f4(0x284)](_0x434a20,{'$set':_0x5ba69f}))[_0x46e3f4(0x28b)]};}catch(_0x42c5a9){return console[_0x46e3f4(0x752)](_0x46e3f4(0x793),_0x42c5a9),{'error':_0x42c5a9};}}async[a0_0x55f44d(0x540)](_0x1a9257,_0x23f0a9,_0x674a66){const _0x116542=a0_0x55f44d;try{return await this[_0x116542(0x62f)](_0x674a66)[_0x116542(0x673)]({'_id':_0x1a9257},{'$set':_0x23f0a9},{'new':!0x0,'upsert':!0x0})[_0x116542(0x2cc)]();}catch(_0x12b9af){return console['error'](_0x12b9af),null;}}async['find'](_0x58b55c,_0x18bef0){const _0x35a8fe=a0_0x55f44d;try{return await this[_0x35a8fe(0x62f)](_0x18bef0)['find'](_0x58b55c)[_0x35a8fe(0x464)]({'lastInteraction':-0x1})[_0x35a8fe(0x2cc)]();}catch{return[];}}async[a0_0x55f44d(0x720)](_0x470b05,_0x3c5638){const _0x392ff9=a0_0x55f44d;try{return await this[_0x392ff9(0x62f)](_0x3c5638)[_0x392ff9(0x720)]({..._0x470b05[_0x392ff9(0x728)]})[_0x392ff9(0x2cc)]();}catch{return null;}}async[a0_0x55f44d(0x7c5)](_0x1b20f1){const _0x12addb=a0_0x55f44d;try{return await this[_0x12addb(0x62f)](_0x1b20f1)[_0x12addb(0x772)][_0x12addb(0x83e)](),{'success':!0x0};}catch(_0x1460b3){return console['error'](_0x1460b3),{'success':!0x1,'error':_0x1460b3};}}},as=class extends x{[a0_0x55f44d(0x813)](_0xd8dc19){return ga(_0xd8dc19);}async[a0_0x55f44d(0x2f2)](_0x4ed3e6,_0x26cba4){const _0x3be729=a0_0x55f44d;try{let _0x254a39=this[_0x3be729(0x813)](_0x26cba4);return await new _0x254a39(_0x4ed3e6)[_0x3be729(0x849)]();}catch(_0x3925f6){return console[_0x3be729(0x752)](_0x3be729(0x83c),_0x3925f6),null;}}async[a0_0x55f44d(0x44d)](_0x56839d,_0x46c4ec){const _0x2945f1=a0_0x55f44d;try{return await this[_0x2945f1(0x813)](_0x46c4ec)[_0x2945f1(0x5c5)](_0x56839d),{};}catch(_0x21693f){return{'error':_0x21693f?.['toString']()};}}async[a0_0x55f44d(0x540)](_0x6ebd82,_0xc32c59,_0x4ebf99){const _0x564d70=a0_0x55f44d;try{return await this[_0x564d70(0x813)](_0x4ebf99)[_0x564d70(0x673)](_0x6ebd82,{'$set':_0xc32c59},{'new':!0x0})[_0x564d70(0x2cc)]();}catch(_0xb1bb7b){return console[_0x564d70(0x752)](_0x564d70(0x403),_0xb1bb7b),null;}}async[a0_0x55f44d(0x6f4)](_0xbd5e93,_0x46492c,_0x5a00d0){const _0x2a3e06=a0_0x55f44d;try{return await this[_0x2a3e06(0x813)](_0x5a00d0)[_0x2a3e06(0x4d4)](_0xbd5e93,_0x46492c,{'new':!0x0})['lean']();}catch(_0x257acd){return console['error'](_0x2a3e06(0x403),_0x257acd),null;}}async['find'](_0x5cd9d6,_0xdc44f6){const _0xbe6467=a0_0x55f44d;try{return await this['getScheduleMessageModelForOwner'](_0xdc44f6)[_0xbe6467(0x408)](_0x5cd9d6[_0xbe6467(0x728)])[_0xbe6467(0x4ee)](_0x5cd9d6?.[_0xbe6467(0x4ee)]??0x0)[_0xbe6467(0x464)]({'when':0x1})[_0xbe6467(0x2cc)]();}catch{return[];}}async[a0_0x55f44d(0x720)](_0xabf0de,_0x3beb15){const _0x2b6c12=a0_0x55f44d;try{return await this[_0x2b6c12(0x813)](_0x3beb15)['findOne'](_0xabf0de[_0x2b6c12(0x728)])['sort']({'when':0x1})['lean']();}catch{return null;}}async[a0_0x55f44d(0x3e4)](_0x17c82e,_0x394d53){const _0x3d9540=a0_0x55f44d;try{return await this[_0x3d9540(0x813)](_0x394d53)[_0x3d9540(0x3e4)](_0x17c82e)['lean']();}catch{return null;}}async[a0_0x55f44d(0x266)](_0x5f2214,_0x312d2e){const _0x1bbd3c=a0_0x55f44d;try{return{'deletedCount':(await this[_0x1bbd3c(0x813)](_0x312d2e)[_0x1bbd3c(0x266)](_0x5f2214))[_0x1bbd3c(0x64c)]};}catch(_0x4df243){return console[_0x1bbd3c(0x752)](_0x1bbd3c(0x478),_0x4df243),{'error':_0x4df243};}}async['deleteAll'](_0x29db75){const _0x5d8324=a0_0x55f44d;try{return await this[_0x5d8324(0x813)](_0x29db75)['collection']['drop'](),{'success':!0x0};}catch(_0x1d6cab){return console[_0x5d8324(0x752)](_0x1d6cab),{'success':!0x1,'error':_0x1d6cab};}}},os=class extends x{async[a0_0x55f44d(0x604)](_0x3c6df7,_0x46c58e){const _0x49e1a5=a0_0x55f44d;try{if(this[_0x49e1a5(0x200)]['ENABLED']){let _0x4a10c0=await Ue[_0x49e1a5(0x673)]({'_id':_0x46c58e},{'$set':_0x3c6df7},{'new':!0x0});return console['log'](_0x49e1a5(0x28c),_0x4a10c0),_0x4a10c0;}}catch(_0x26e3f5){throw console[_0x49e1a5(0x752)](_0x49e1a5(0x84f),_0x26e3f5),_0x26e3f5;}}async[a0_0x55f44d(0x486)](_0x52dee2){const _0x576ddf=a0_0x55f44d;try{let _0x7deea=await Ue['findById'](_0x52dee2);return _0x7deea?_0x7deea['autoCompleteMessages']||(_0x7deea[_0x576ddf(0x272)]=[],await _0x7deea[_0x576ddf(0x849)]()):(_0x7deea=new Ue({'_id':_0x52dee2,'autoCompleteMessages':[]}),await _0x7deea[_0x576ddf(0x849)]()),_0x7deea;}catch(_0x3caf2b){return console['error'](_0x576ddf(0x5e8),_0x3caf2b),null;}}},Tr=new R(a0_0x55f44d(0x51f)),$r=new Ve(b),Ar=new qt(b),Ir=new st(b),xr=new Vt(Zs,b),Dr=new Zt(ia,b),_r=new es(aa,b),Pr=new ts(b),kr=new Gt(b),jr=new ss(b),Lr=new as(b),Fr=new os(b),de=new Je($r,Ar,Ir,xr,Dr,_r,Pr,jr,kr,Lr,Fr,O?.['getClient']()),G=new Jt(us,b,de),Ur=new Ht(b,G,de),Jr=new Qt(G),Ms=new Xt(Jr),A=new Yt(G),ce=new Wt(G,b,de,us,Ur),B=new zt(G),_=new Bt(G),q=new Kt(G);Tr['info'](a0_0x55f44d(0x517));var Uh=require(a0_0x55f44d(0x864)),Ps=require('fs'),Oo=T(require('https')),To=T(require(a0_0x55f44d(0x847))),Ae=class c{static #e;static set[a0_0x55f44d(0x448)](_0x4b0110){this.#e=_0x4b0110;}static get['https'](){const _0xe3dafd=a0_0x55f44d;let {FULLCHAIN:_0x5b40ca,PRIVKEY:_0x1d62da}=b[_0xe3dafd(0x1ef)]('SSL_CONF');return Oo['createServer']({'cert':(0x0,Ps[_0xe3dafd(0x84b)])(_0x5b40ca),'key':(0x0,Ps[_0xe3dafd(0x84b)])(_0x1d62da)},c.#e);}static get[a0_0x55f44d(0x847)](){const _0x1e91a7=a0_0x55f44d;return To[_0x1e91a7(0x760)](c.#e);}},he=T(require('fs')),_o=T(require(a0_0x55f44d(0x1ed))),Ie=T(require(a0_0x55f44d(0x58e))),De=T(require(a0_0x55f44d(0x6a1))),_e=require(a0_0x55f44d(0x429));function qr(){const _0x50fb2b=a0_0x55f44d;G[_0x50fb2b(0x256)]();let _0x21b84d=De['default'][_0x50fb2b(0x1e5)](__dirname,_0x50fb2b(0x286));Do(_0x21b84d);}var Do=_0x592991=>{const _0x417ad6=a0_0x55f44d;let _0x2c6cb8=he['default'][_0x417ad6(0x32f)](_0x592991),_0x229c55=0xc*0x3c*0x3c*0x3e8,_0x577c9c=0x2*0x3c*0x3c*0x3e8,_0x35c1a7=new Date()[_0x417ad6(0x65c)]();_0x2c6cb8[_0x417ad6(0x27f)](_0x2a8367=>{const _0x4f7bdb=_0x417ad6;let _0x18e04b=De['default'][_0x4f7bdb(0x1e5)](_0x592991,_0x2a8367),_0x5aff4a=he[_0x4f7bdb(0x66b)]['statSync'](_0x18e04b)[_0x4f7bdb(0x4b1)][_0x4f7bdb(0x65c)]();_0x35c1a7-_0x5aff4a>_0x229c55&&(he[_0x4f7bdb(0x66b)]['unlinkSync'](_0x18e04b),console[_0x4f7bdb(0x430)](_0x4f7bdb(0x352)+_0x2a8367));}),setTimeout(()=>Do(_0x592991),_0x577c9c);};function a0_0xb3e5(){const _0x23ac80=['none','2744283fyIJQE','connectionUpdate','removeUnusedChatFields','lastMessage','*Pergunta*:\x20\x0a','unhandledRejection','GROUP_PARTICIPANTS_UPDATE','document','_error','shift','rowId','repository','\x20e\x20proprietário\x20','prepareWAMessageMedia','protocolMessage','findWebhook','block','\x1b[37m','#92ceac','fone','\x20:\x20','getDevice','INFO','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','src','isLong','):\x20Iniciando\x20bot...','):\x20Current\x20Time:\x20','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','editFlowBlock','drop','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','hbs','.TEL;waid=','stopMinutes','descId','findGroupInfo','generate','TEXT','http','round','save','changeVariables','readFileSync','buttonId','/config','apirequest','Erro\x20ao\x20atualizar\x20AutomateSystem:','Rótulo\x20deletado:\x27,\x20','\x20instance\x20does\x20not\x20exist','createConversationforgoToFlow','contentText','updateConversation','trim','request\x20received\x20in\x20deleteDoneMessages','createSharedFlow','@g.us','command','):\x20leadInfoVariables','):\x20Criando\x20fluxo\x20regular...','_pushName','application/json','ListMessage','Business\x20profile\x20fetched','Router','Error\x20fetching\x20group','enviado\x20para','remove.instance','express-async-errors','.ogg','joinApprovalMode','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.','SendScheduleMessage','blocks','TEL','isAdmin','hDel','buffer','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','importChatsAntigo','):\x20Editando\x20condição\x20do\x20fluxo...','whatsappNumber','sections','optionName','varedit','50mb','DATABASE_ENABLED','request\x20received\x20in\x20editFlow','order','chatId','):\x20Flow\x20não\x20encontrado','convertaudio','Hash\x20to\x20image\x20name:\x20','toDataURL','https://ipinfo.io/json','findAll','contactMessage','):\x20Enviando\x20texto','bodyStringErrorParse','stickerMessage','):\x20expirationTime:\x20','Authentication\x20error','Erro\x20ao\x20remover\x20label\x20','InstancesAsDisconnectedX','replaceValue','#9568cf','Error\x20in\x20chatModify\x20for\x20number\x20','delayChatLabel_MAX_RETRIES','empty','leaveGroup','contacts.upsert','replaceVariablesInObject','JWT','):\x20Alterando\x20fluxo...','events','exec','title','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','_p_','groupGetInviteInfo','698748RtVMOG','$pull','encoding','uuid','PRESENCE_UPDATE','longitude','Erro\x20ao\x20editar\x20agentes','#d3a91f','cachedData-whatsapp','DATABASE_CONNECTION_PASSWORD','menuExpiredMessage','getBase64FromMediaMessage','cpf','):\x20nextBlock.uazapi.name','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','AutomateSystem','errors','/media/','pollCreationMessageV3','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','editFlowCondition','protocol','updateGParticipant','replace','toUpperCase','8080','textMessage','):\x20Editando\x20bloco...','Bad\x20Request','Valor\x20inicial:\x20\x22','Erro\x20ao\x20buscar\x20a\x20conversa','put','!stop','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','deleteConversation','pollCreationMessage','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','groupAcceptInvite','CONNECTION','audio','fetchLatestBaileysVersion','17402xoPXgz','Not\x20allowed\x20by\x20CORS','recording','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','join','\x20quoted:\x20','including\x20timestamp\x20in\x20url:\x20','Close\x20connection','organization','tags','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','getMessageModelForOwner','ini','no-cache','get','URL','contextInfo','startFlow','upsertChats','jsonwebtoken','goNextblock','removeData','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','host','closed','verbose','allflows','.ppt','Erro\x20ao\x20alterar\x20fluxo','.jpg','editFlowVaredit','dbSettings','formatStatusMessage','moreLogs','connecting','currency','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','password','conditions','findMessages','buttonText','stderr','lastSendMessage','Mac\x20OS','groupdata','_id','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','notEqual','Instance\x20deleted','deleteDoneMessages','Safari','\x22\x20-\x20REMOVED','Erro\x20ao\x20encerrar\x20a\x20API','updateProfilePicture','profile','fullName','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','data:\x20','.extension','\x20foi\x20interrompido\x20pelo\x20usuário.','testProxy','everyOne','groupadd','throwAndLogError','):\x20mediaMessageInfoId\x20:\x20','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','prototype','_remoteJid','getBusinessProfile','flowIgnoreGroups','):\x20Enviando\x20localização','body','https://jsonip.com','/instance/fetchInstances','color','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','formatBRNumber','Unauthorized','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','\x20com\x20sucesso.','ListType','footerText','video-cover.png','CORS_ORIGIN','http://icanhazip.com/','--standalone','newValue','#fed428','findIndex','_activatedCount','create','timeout','writeFileSync','Types','spawn','editflowvaredit','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','slice','Erro\x20ao\x20copiar\x20o\x20documento','locationMessage','The\x20\x22','subdomain','labels.association','Getting\x20image\x20from\x20url','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','hGet','awaitingApproval','/exit','This\x20name\x20','chatLog','inviteCode','warn','views','https://github.com/uazapi/uazapi.git','enabled','SUCCESS','Sending\x20audio\x20whatsapp','loadInstance','messages.set','static','unavailable','readMessage','updateStopChat','ultimaTentativaRemoteJid','):\x20Usando\x20extensão\x20padrão:\x20','groupValidate','updateGroupWebhook','Flow\x20iniciado\x20com\x20','importChatsBatch','):\x20Rótulo\x20atualizado:\x20','query','waitingForReplyMenu','/instance/connect','deleteMany','info','port','notify','Converting\x20image\x20to\x20WebP\x20to\x20sticker','stateConnection','urlencoded','context','media','URL:','exists','updateStatusPrivacy','autoCompleteMessages','toggleEphemeral','conversation','arraybuffer','\x20tentativas.','.X-ABLabel:Celular\x0a','request\x20received\x20in\x20createFlow','CONECTADO\x20À\x20UAZAPI','Converted\x20image\x20deleted','updateChatGroupData','vote','arrayUnique','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','forEach','hSet','HH:mm:ss','fetchStatus','The\x20property\x20cannot\x20be\x20empty','updateMany','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','downloads','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','findAndReplaceRegex','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','getStatus','modifiedCount','Resultado\x20da\x20atualização:','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','resetReconnectionVariables','delayMessage','descOwner','messageTimestamp','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','ButtonsMessage','readreceipts','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','#f64847','undefined','instanceInfo','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','sendMenu','rm\x20-rf\x20','.xls','request_method','apiResponse','.svg','remoteJid','apikey','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','Nenhum\x20participante\x20válido\x20encontrado.','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','CONNECTION_UPDATE','messages.upsert','remote\x20\x22origin\x22','):\x20Query\x20params:','authModel','AUTHENTICATION_TYPE','Variáveis\x20não\x20encontradas:','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','length','map','Falta\x20informação\x20para\x20a\x20chamada\x20API','scheduleSendText','groupFetchAllParticipating','uazapiSendAudio','segundos','variablesToObject','findGroups','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','setUpdate','Not\x20is\x20business\x20profile','getLabelModelForOwner','request\x20received\x20in\x20deleteConversation','object','write','contact_blacklist','Missing\x20global\x20api\x20key','composing','\x1b[36m','groupHandler','viewOnceMessage','out','convertToWebP','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','The\x20global\x20api\x20key\x20must\x20be\x20set','Connection\x20closed\x20for\x20instance:\x20','findConversation','content','lean','status@broadcast','groupSetting','listType','scheduleMessage','STORE_MESSAGE','created','\x20não\x20encontrado\x20para\x20atualização.','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','updateProfilePicturePrivacy','conversationTimestamp','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','groupName','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','superadmin','findAndUpdate','Type\x20is\x20required','messages.update','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','announce','reaction','ephemeralExpiration','pollMessage','setNewValue','uncaughtException','groupUpdateDescription','choices','../env.yml','lastSend','request\x20received\x20in\x20updateAgent','urlOrBase64','deleteBlock','fetchChats','getOwnPropertyNames','):\x20Bloco\x20copiado:\x20','lastFetchAwaitingApproval','isCommunity','SERVER_OFFLINE','createAndSave','request_time','#b4ebff','processUazapi','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','useMultiFileAuthState','DaysToDelete','not_announcement','delayChatLabel','open','header','messageHandle','chats.delete','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','request\x20received\x20in\x20scheduleMessage','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','getAutomateSystem','Instância\x20não\x20encontrada.','):\x20Bloco\x20original\x20para\x20cópia:\x20','Invalid\x20format','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','#00a1f2','fetchProfilePicture','URI','_FlowHistorico','updateMessage','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','replaceVariablesInReplyOptions','chats.set','Not\x20Found','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','2835830BsqeaG','imgUrl','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','joinGroup','demote','):\x20Grupo\x20','):\x20não\x20encontrou','stringify','/events/:instance','type','lastCondition','padStart',',\x20qrcodeCount:\x20','locked','toFile','SSL_CONF','saveConversationToDatabase','routerPath','viewOnceMessageV2','action','updateReplyOption','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','ignoreGroups','messageType','caption','GUARD','groups.update','sendStatus','.png','readdirSync','some','Error\x20updating\x20cache\x20contact:','editFlow','6306114UqvoKH','connectionState','://','getUpdate','):\x20Going\x20to\x20','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','synchronizeFlows','API_KEY','Temp\x20image\x20deleted','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','code','class-validator','\x1b[30m','list','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','Erro\x20ao\x20buscar\x20conversas','prefixCommand','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','temp-','status','contacts.update','Valor\x20de\x20find\x20ou\x20replace\x20ausente','greater','lowerCase','\x0aitem','deleteChat','profilePicture','console','buttonMessage','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','instancias:\x20','Deleted\x20','variables','listen','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','TYPE','METHODS','):\x20Error\x20processing\x20the\x20block:\x20','\x20->\x20NÃO\x20CORRESPONDE.','endSession','boolean','entries','assign','STORE_CONTACTS','process','quoted','firstValue','sem\x20texto\x20na\x20mensagem','delay','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','stanzaId','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','\x1b[44m','group-participants.update','http://checkip.dyndns.org','request\x20received\x20in\x20allFlows','sendText','\x1b[31m%s\x1b[0m','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','isListOfNumbers',',\x20resultado:\x20','DATABASE_CONNECTION_USER','desativadoFluxoAte','dbServer','option','initAuthCreds','messagesSend','updateGroupsAddPrivacy','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','setWebhook','readData','Error\x20in\x20converting\x20audio','):\x20Conversa\x20atualizada\x20em\x20memória','#ffc5c7','\x1b[42m','originalUrl','webp','BufferJSON','owner','menuIgnoreNonVotes','del','base64','certonly','):\x20isVote:\x20','request\x20received\x20in\x20starFlow','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','getMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','CHATS_DELETE','jid','CHATS_UPSERT','verifyWhatsAppNumber','proto','?timestamp=','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','sendWhatsAppAudio','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','envProcess','.mp4','newStoppedUntil','lastDisconnect','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','editflowcondition','realVariables','hex','MAX_RECONNECT_ATTEMPTS','matchRegex','EMAIL:','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','app-state-sync-key','updateAutoCompleteMessages','updateMissingShareOwners','saveVariable','connectToWhatsapp','router','instanceName\x20not\x20provided.','updateGroupPicture','\x1b[1m','eventHandler','groupInviteCode','ContactModel','presenceSubscribe','padEnd','FULLCHAIN','createFlow','):\x20Conversa\x20está\x20expirada\x20-\x20voto','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','LabelModel',',\x20fará\x20nova\x20verificação\x20em\x20','instanceName','https://','Mensagem\x20não\x20suportada','[all]','state',',\x20saindo.','verifiedName','isInteger','markMessageAsRead','waInstances','qrcode-terminal','sendMedia','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','SEND_MESSAGE','canSendMessage','storePath','FlowController','isJWT','config','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','inner','Erro\x20ao\x20atualizar\x20o\x20documento:','readMessageBot','desc','format','rows','keys','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','chats.upsert','):\x20customFieldVariables','selectedOptions','fileName','push','expiration','http://ip-api.com/json','Error\x20in\x20scheduleNextCheck:\x20','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','\x20saindo\x20da\x20função','.jwt','updateMissingEtiquetas','joinGroupValidate','convertedOptions','updatePresence','):\x20conversation.status:\x20','options','findById','unlinkSync','sendContact','):\x20[messages.update]\x20group\x20ignored','deleteMessageForEveryone','request\x20body:\x20','addReplyOption','Erro\x20ao\x20importar\x20chats','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','mongoose','):\x20Erro\x20durante\x20a\x20atualização:\x20','audioWhatsapp','max','collections','getMinutes','.webp','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','updateProfileName','jwt','loadWebhook','shutdown\x20-r\x20now','isRunning','addresss','-whatsapp-api','userDevicesCache','fetchPrivacySettings','isJidBroadcast','logger','muteEndTime','digest','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','interval\x20não\x20é\x20um\x20número','chatModify','setHeader','find','):\x20Conversa\x20inserida\x20com\x20sucesso.','express','CHATS_UPDATE','latitude','cacheContact','messageSecret','https://uazapi-plugin.bubbleapps.io/','/wa-message','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','updateParticipant','load','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','$set','secondValue','insertMany','CONTACTS_UPSERT','getFlow','unreadcount','createInstance','PREFIX_KEY','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','waitingMenu_id','CORS_METHODS','envYaml','editChat','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','.docx','createConnection','truncatedtoEnd','customFields','DATABASE_CONNECTION_DB_PREFIX_NAME','updateOnlinePrivacy','child_process','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','waMonitor','lastUpdate','fetchLabels','key','dbConnection','log','DOCKER_ENV','/events','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','Erro\x20do\x20Certbot:\x20','Não\x20respondeu\x20com\x20a\x20enquete.','connect','Falha\x20ao\x20processar\x20a\x20solicitação\x20messages.upsert','cleaningUp','):\x20conversation.waitingMenu_name','debug','insert','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','repeat','presence.update','Erro\x20de\x20reinicialização:\x20','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','when','\x20contacts','removeChatLabel','REDIS_ENABLED','\x20segundos','contact','indexOf','app','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','whatsappNumbers','split','Chat\x20com\x20ID\x20','deleteOne','random','maxActives','ReplyOption\x20com\x20ID\x20','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','InstancesAlterarTodas','\x20-\x20retornado:\x20','updateMissingCustomFields','):\x20Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.','saveMediaToFile','address','):\x20newFirstValue\x20após\x20replaceVariables:','off','webhookMap','cleanStore','getflow','evaluateCondition','Sistema\x20atualizado\x20com\x20sucesso!','FlowRouter','fromObject','groupMetadata','createWebhook','sort','\x5cd+','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','archiveChat','convertaudioMP3','reviver','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','NextBlock','Erro\x20de\x20atualização:\x20',',\x20Segundo\x20Valor:\x20',':\x20Erro\x20durante\x20loadproxy\x20-\x20','Rótulo\x20inválido\x20ou\x20sem\x20ID.','updateGParticipate','isConnected','E-mail:\x20','configService','editFlowReply','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','_fromMe','sendDataWebhook','Erro\x20ao\x20deletar\x20mensagens:','isJidGroup','updateFlowConfig','bateu\x20events','\x20chats\x20de\x20','instanceCount','\x1b[34m%s\x1b[0m','RemoveChatLabel','):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid=','editFlowVariable','silent','ip:\x20','.\x20Pulando.','uazapiDeleteMessage','findOrCreate','QRCODE_UPDATED','/instance/connectionState','participants','\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.','loadEnv','next_groupId','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','\x20minutos\x20verificará\x20novas\x20mensagens','namespace','reactionMessage','pollUpdateMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','/wa-groups','labelId','getContactModelForOwner','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','qrcode','profilePictureUrl','BRL','#000000','flow','-instances','Erro\x20ao\x20deletar\x20a\x20conversa','connectionStatus','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','isJidUser','string','):\x20Entrou\x20na\x20função\x20clearVariables','notas','stdout','Error\x20parsing\x20JSON:','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','admin_add','NO_IP','minutesToClose','editflowgroup','sendMessage','auth','getMIMEType','close','Pausado\x20por\x20','fetchInstances','birthtime',':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','cacheContactModel','Connection','getClient','Telefone:\x20','editflowblock','findLabels','pollOnReplyDelete','item','Database\x20is\x20not\x20enabled','--agree-tos','\x20-i\x20','uazapiSendContact','stopConversation','variablesNotFound','connection.update','.mp3','capitalizedWords','output','_Chats','REDIS','uazapi','#01d0e2','apiName','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','PROXY','logout','https://api.ipify.org?format=json','Data\x20inválida\x20fornecida','STORE_CHATS','findByIdAndUpdate','waitingMenu_text','$dbName','The\x20instance\x20needs\x20to\x20be\x20disconnected','):\x20[messages.upsert]\x20group\x20ignored','LICENSE_INVALID','):\x20Entrou\x20na\x20função\x20saveReply','delayChatLabel_RETRY_DELAY_MS','updateChatWithMessage','SERVER_PORT','):\x20Enviando\x20enquete','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','fetchProfile','ERROR:\x20','editOperator','restrict','groupLeave','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','PLAYED','available','getOwnPropertyDescriptor','SSL_CONF_FULLCHAIN','nomecompleto','from','limit','ERROR','Image\x20created','decryptPollVote','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','\x20minutos','Error\x20updating\x20message\x20status:','Instance\x20restarted','abs','Erro\x20ao\x20aplicar\x20varedit:\x20','extractMessageContent','_Labels','messages','flowConversation','contactsArrayMessage','instanceKeys','Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome','groupSettingUpdate','Erro\x20ao\x20normalizar\x20a\x20mensagem:','Número\x20não\x20possui\x20WhatsApp.','restart','allFlows','chat','):\x20Conversa\x20está\x20expirada','selectableCount','pushName','/clients-info','localWebhook','/*.json','flattenObject','\x1b[31m','Erro\x20ao\x20tentar\x20updateCustomFields','method','/wa-chats','buttons','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','paused','/wa-message-update','false','deleted','call','Module\x20-\x20ON','groupRequestParticipantsList','WARN','remove','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','DARK','):\x20tem\x20blocks','long','WA\x20MODULE','certbot','label','editFlowGroup','processConditions','\x20e\x20ID=','Deletion\x20failed','pollErrorMessage','participant','API\x20Key\x20inválida.','\x1b[34m','Operador:\x20\x22','addChatLabel','\x20não\x20encontrado\x20para\x20cópia','findAndUpdateCacheContact','parse','includes','linkPreview','groups_ignore','fetchBusinessProfile','size','oldValue','mimetype','\x20is\x20already\x20in\x20use.','trimmed','prepareMediaMessage','execSync','utf8','role','refused','apply','upperCase','add','updateOne','noConnection','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','?authSource=admin&readPreference=primary&directConnection=true','mediatype','HOST','processConditionsTest','Button\x20IDs\x20cannot\x20be\x20repeated.','flowConfig','):\x20Editando\x20variável\x20do\x20fluxo...','imageMessage','reconnectAttempts','condition','deleteReplyOption','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','https://chat.whatsapp.com/','flowName','\x20->\x20CONFIRMADO.',',\x20Expiration\x20Time:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','defineAuthState','.webm','Erro\x20ao\x20remover\x20instâncias\x20antigas:','getFlowModelForOwner','#83e421','replaceOne','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','parseInt','getChatModelForOwner','getConversation','waitingMenu_replyOptions',',\x20isAdmin:\x20','groups.upsert','Certbot:\x20','Content\x20is\x20required','env.yml','#ffffff','PRODUCT_LIST','sign','error_log','post','website','findManyByIds','allContacts','formatVCard','createRegularFlow','https://api.openai.com/v1/images/generations','delete','existsSync','@ffmpeg-installer/ffmpeg','pairingCode','readFile','Db\x20Connection','pollCreationMessageV2','832EyHrtE','insertCount','GROUPS_UPDATE','\x20tentativas:\x20remotejid=','message','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','params','replaceVariablesChat','ChatModel','contains','A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','equal','jpegThumbnail','):\x20Enviando\x20contato','listMessage','URL\x20limpa:\x20','/create','groupUpdateSubject','\x20\x1b[0m','presence','emit','updatePrivacySettings','endsWith','axios','normalizeMessageContent','binary','messageId','sending','):\x20Error\x20processing\x20conditions:\x20','chats.update','mentioned','hasOwnProperty','Certbot\x20executado\x20com\x20sucesso.','STATUS_INSTANCE','restartInstance','):\x20Conversas\x20encontradas:','updateAgent','value','writeData','test','true','connectedClient','updateProfileStatus','lastInteraction','ms\x20(tentativa\x20','}}\x20->\x20\x22','):\x20atualização\x20chat:\x20','Conexão\x20estabelecida','gifPlayback','\x20não\x20encontrado','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','EXPIRIN_IN','):\x20Flow\x20desativado','OrAnd','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','label_jid','93vGOqVS','last','g.us','startsWith','connectToWhatsappController','Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','upsertedCount','Message','DELETED','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','delAll','start','\x22\x20cannot\x20be\x20empty','dropCollection','uazapiSendText','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','authService','preview','):\x20Edit\x20schedule\x20message...','set','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','findByIdAndDelete','pictureUrl','Flow\x20não\x20encontrado','Mensagens\x20deletadas\x20com\x20sucesso.','isCommunityAnnounce','downloadMediaMessage','groupToggleEphemeral','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','.\x20Aguardando\x20antes\x20de\x20reconectar...','Erro\x20ao\x20buscar\x20Schedule\x20Messages','truncatedto','headers','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','and','SSL_CONF_PRIVKEY','<subdomain>','editScheduleMessage','171945ekvXDT','LOG_COLOR','fetchContacts','):\x20Entrou\x20na\x20função\x20processawaitSeconds','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','READ','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','pt-BR','dbInstance','GET','getVariablesChat','statusCode','#56ccb4','data','fetchProfilePictureUrl','listResponseMessage','message_normalized','.pdf','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','Fluxos\x20não\x20estão\x20ativados','optionDescription','audioMessage','groupId','stopWhenYouSendMsg','groupBetterSetting','request\x20received\x20in\x20updateFlowConfig','):\x20this.processing_id:\x20','Content-Type','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','checkAndRestartProcess','ScheduleMessage','Erro\x20ao\x20buscar\x20o\x20fluxo','Erro\x20ao\x20tentar\x20autoCompleteMessages','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','subjectTime','archive','uazapiSendMedia','[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22','dark','notMatchRegex','has','group','\x20minutos...','REDIS_PREFIX_KEY','__esModule','update','CONTACTS_UPDATE','Validate','local_map','statusMessage','AutomateFunctions','finish',':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20','groupRevokeInvite','Contacts\x20not\x20found','):\x20alterando\x20this.AutomateSystem','request\x20received\x20in\x20getConversation','count','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','groups','Início','status.instance','createJid','_Contacts','):\x20Buscando\x20conversa...','leadInfo.desativadoFluxoAte','Forbidden','request\x20received\x20in\x20editFlowvariable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','SERVER_ACK','getContentType','number','\x1b[0m','/wa-qrcode','reconnectTimestamps','PRIVKEY','shareOwners','MESSAGES_UPDATE','createSectionsFromValues','updateMediaMessage','lastReceivedMessage','replaceVariablesLogs','isArray','LOG','Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done','charAt','CONTACTS_SET','creds.update','getConversationModelForOwner','#d8e651','email','Comando\x20desconhecido','authState','API\x20Key\x20from\x20Request:','SINGLE_SELECT','addBlock','author','mentions','DB_PREFIX_NAME','audio/ogg;\x20codecs=opus','processApiRequest','findGroupInfos','editflowreply','Cache-Control','readMessages','Image\x20path:\x20','sendSticker','^\x5cd+([-]\x5cd+)*@g.us$','Erro\x20ao\x20editar\x20o\x20bloco:\x20','copy','fileUrl','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','importChats','sticker','Instance\x20logged\x20out','mediaKey','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','deletedCount','FlowModel','menuMessage','sha256',',\x20Novo\x20tamanho:\x20','Image\x20is\x20base64','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','leadInfo','StatusJidList\x20is\x20required','findParticipants','width','global','promote','.wav','instance.','!cmd_','getTime','END:VCARD','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','sharePass','MESSAGES_UPSERT','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','scheduleNextCheck','saveChatVariables','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','pre','Cached\x20audio\x20found,\x20returning\x20existing\x20file','msgRetryCounterCache','getDelay','DEBUG','/media','default','responsavelid','https://api.elevenlabs.io/v1/text-to-speech/','Instance\x20ID:','augusto.fcs@gmail.com','contactHandle','copyBlock','fetchConversation','findOneAndUpdate','DATABASE','Instância:\x20','model','oldToken','\x0aFN:',':\x20Tentativa\x20','PASSWORD','.url','.gif','):\x20debug\x20alterando\x20this.AutomateSystem','requestFile','fetchMessages','\x20inseridos\x20no\x20banco\x20de\x20dados...','\x22reaction\x22\x20must\x20be\x20an\x20emoji','inviteUrl','replaceVariables','SECRET','6628426QAfVbM','getRandomText','qrcode.updated','success','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','floor','detail','text','SERVER_URL','chatHandle','url','Internal\x20Server\x20Error','@broadcast','now','imagechat','goToFlow','memberAddMode','\x1b[33m\x1b[1m','exports','scheduled','createConversationforStartFlow','removed','headerString','waitingMenu_ExpiredMessage','request\x20received\x20in\x20editFlowgroup','createNewConversation','atendimentoAberto','):\x20delete\x20=\x20true','path','Tentando\x20reconectar...','getTicketSystem','release','):\x20teve\x20mudanças\x20chat.archived:\x20','CLEANING_INTERVAL','redirect','DATABASE_CONNECTION_HOST','Falha\x20após\x20várias\x20tentativas.','reorderReplyOptions','\x1b[41m','processblock','ObjectId','/group','Documento\x20com\x20ID\x20','Conversa\x20deletada\x20com\x20sucesso.','@newsletter','leadInfo.customFields','quotedMessage','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','creds.json','makeCacheableSignalKeyStore','less','online','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','Erro\x20ao\x20atualizar\x20o\x20fluxo:','):\x20','instance','error\x20get\x20vote','Erro\x20ao\x20inserir\x20chats:','\x20horas\x20e\x20','processawaitSeconds','sendMessageWithTyping','):\x20Buscando\x20flow...','announcement','\x1b[1m\x1b[37m','clearVariables','agents','send','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','exit','loadproxy','editConversation','HttpsProxyAgent','node-cache','mongodb','AUTHENTICATION_JWT_EXPIRIN_IN','):\x20Deletando\x20mensagem','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','json','DisconnectReason','/wa-all-message','creation','deleteImportedChat','toString','_Messages','):\x20Limpando\x20delayMessage','https://uazapi-plugin.bubbleapps.io/?url=','https','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','array','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','getLastMessage','setting','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','privacySettings','revokeInviteCode','backgroundColor','\x1b[33m%s\x1b[0m','Fluxo\x20não\x20encontrado','findGroup','env','findAndReplace','*\x0a\x0a','sendList','processing_id','replyOption','createHash','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','updateGroupParticipantsWebhook','onTime','updateOneById','wuid','videoMessage','):\x20Ignoring\x20group\x20messages.','ex:\x20\x22groupJid=120362@g.us\x22','pollCreationMessageKey','):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid=','video','Número:\x20','generateHash','creds','uazapiSendMenu','concat','cachedContact','mongodb://','mediaSticker','@s.whatsapp.net','Logger','Erro\x20ao\x20adicionar\x20label\x20','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','contacts','.ogv','):\x20enviado\x20para\x20[','@whiskeysockets/baileys','GROUPS_UPSERT','./.git/config','dayjs','notEmpty','\x22\x20not\x20found','isBase64','cache','toLowerCase','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','DELIVERY_ACK','image','redis','labels.edit','validate','\x20}\x0a','removeProfilePicture','MESSAGES_SET','toBRL','Esse\x20fluxo\x20é\x20global,\x20para\x20deleta-lo\x20você\x20precisa\x20ser\x20o\x20criador\x20ou\x20usar\x20a\x20apikey\x20global','findOne','Fetching\x20business\x20profile','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','done','cwd','automateSystem','):\x20A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','expression','where','Parando\x20aplicação,\x20atualização\x20recebida','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','groupMemberAddMode','Background\x20color\x20is\x20required','updateReadReceiptsPrivacy','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','\x1b[32m','Bloco\x20com\x20ID\x20','LOG_LEVEL','):\x20Falha\x20ao\x20deletar\x20mensagem.','user','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','inviteCodeDetails','sendLocation','statusJidList','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','cors','groupJid','Instance\x20\x22','authentication','updateBlock','etiquetas','Audio\x20converted\x20and\x20stored\x20in\x20cache','.uazapi.dev','processPollUpdateMessage','/wa-contacts','description','bulkWrite','webhook','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','findFlow','AutomateSystem\x20não\x20foi\x20inicializado','blockId','createGroup','messageContextInfo','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','beautifyWithPlaceholders','):\x20updateResult:',']\x20(','archived','https-proxy-agent','error','\x0a*Você\x20respondeu*:\x0a','name','):\x20Criando\x20fluxo\x20compartilhado...','Subscribed\x20Events:','client','sendReaction','Schema','folder','ephemeralDuration','imported','sendButtons','messageStubType','editflow','createServer','Variável\x20não\x20encontrada!','Output\x20path:\x20','mediaMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','admin',',\x20Comparador:\x20','CHATS_SET','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','deleteFlow',',\x20pairCode:\x20','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','valid','CORS','getAllData','redis://127.0.0.1:6379','reorderBlocks','extractRegex','collection','sleep','\x1b[37m%s\x1b[0m','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','PORT','remoteJidsRemaining','loggedOut','pop','badSession','/instance/create','The\x20','USER','public','use','eventEmitter','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','processclearVariables','Delete\x20chat','toArray','sync','getHours','\x1b[30m%s\x1b[0m','.mimetype','/chat','setRestartTimeout','integer','DD/MM\x20HH:mm:ss','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','displayName','not\x20loaded','VERBOSE','KEY','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','getScheduleMessage','AddChatLabel','variable','webhookService','):\x20Comando\x20desconhecido:\x20','updateAll','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','unknown\x20operation\x20type\x20[','vcard','sendPresenceUpdate','editflowvariable','replacer','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','ENABLED','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','@redis/client','match','updateCustomFields','application/octet-stream','Erro\x20ao\x20criar\x20fluxo\x20regular','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','\x20não\x20encontrado.','Group\x20not\x20found','request\x20received\x20in\x20updateAutoCompleteMessages','_activedCount','}}\x20->\x20valor\x20não\x20encontrado','enumerable','flushHeaders','deleteMessage','AUTHENTICATION','onWhatsApp','errorLog','toNumber',',\x20canSendMessage:\x20','testingWith','saveTextReply','applyvaredit','):\x20Deletando\x20fluxo...','dbClient','reference','lastBlockId','):\x20Chat\x20','Falhou\x20ao\x20encontrar\x20chat\x20','subject','utf-8','normalizeMessage','splice','defineProperty','deleteAll','SERVER','http://myexternalip.com/raw','toLocaleString','STORE_CLEANING_TERMINAL','sectionsToString','min','g-t','Audio\x20processed','\x1b[46m','fromMe','\x1b[40m','phoneNumber','poll','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','):\x20Entrou\x20na\x20função\x20stop','isURL','Falha\x20ao\x20processar\x20a\x20solicitação','senderKeyDistributionMessage','substring','):\x20conversation.lastInteraction:\x20','Primeiro\x20Valor:\x20','AppStateSyncKeyData','sendPoll','):\x20Criou\x20conversa\x20no\x20startFlow:','chats','scheduleSendMedia','awaitSeconds','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','Erro\x20ao\x20atualizar\x20o\x20flow.','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','request\x20received\x20in\x20editConversation','Processing\x20audio','qrCode','response','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','redisEnv','.error','font','varedits','all','Last\x20message\x20not\x20found','Reinicialização\x20iniciada:\x20','\x1b[33m','Message\x20not\x20found','dataValidate','Parando\x20aplicação...','isBusiness','groupDesc','http://ipecho.net/plain','username','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','blockLogs','):\x20Enviando\x20mídia',',\x20apikey:\x20','\x20adicionado\x20ao\x20chat\x20','\x20depois\x20','content-type','\x20-y','WebhookGlobal','reject',':\x20IP\x20configurado:\x20','filter','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','nome','editedMessage','/wa-connection-update','keep-alive','webhookModel','scheduleSendAudio','EMAIL','removeOlderDisconnectedInstances','removeInstance','view\x20engine','bodyString','closeExistingConversations','getScheduleMessageModelForOwner','Instance\x20Key\x20from\x20DB:','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','deleteInstance','Desconectado,\x20parando\x20execução.','processvaredits','leadInfo.','replyOptions','values','messaging-history.set','File\x20written\x20to\x20path:\x20','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'];a0_0xb3e5=function(){return _0x23ac80;};return a0_0xb3e5();}function Vr(){const _0x2b3fdc=a0_0x55f44d;let _0x2c0352=new R(_0x2b3fdc(0x7c6)),_0x51af3e=(0x0,ge[_0x2b3fdc(0x66b)])();_0x51af3e[_0x2b3fdc(0x780)]((0x0,xo[_0x2b3fdc(0x66b)])({'origin'(_0x19bfc4,_0xbcbc9f){const _0x1557f5=_0x2b3fdc;let {ORIGIN:_0x5e13e3}=b[_0x1557f5(0x1ef)](_0x1557f5(0x76d));return _0x19bfc4||(_0x19bfc4='*'),_0x5e13e3['indexOf']('*')!==-0x1||_0x5e13e3[_0x1557f5(0x447)](_0x19bfc4)!==-0x1?_0xbcbc9f(null,!0x0):_0xbcbc9f(new Error(_0x1557f5(0x1e1)));},'methods':[...b[_0x2b3fdc(0x1ef)](_0x2b3fdc(0x76d))[_0x2b3fdc(0x357)]],'credentials':b['get'](_0x2b3fdc(0x76d))['CREDENTIALS']}),(0x0,ge[_0x2b3fdc(0x26c)])({'extended':!0x0,'limit':_0x2b3fdc(0x876)}),(0x0,ge[_0x2b3fdc(0x6d3)])({'limit':_0x2b3fdc(0x876)})),_0x51af3e['use']((_0x34d99b,_0x529c79,_0x13a78b)=>{const _0x36a4d3=_0x2b3fdc;_0x34d99b[_0x36a4d3(0x6a1)][_0x36a4d3(0x5b2)](_0x36a4d3(0x432))?_0x13a78b():(0x0,Io[_0x36a4d3(0x66b)])()(_0x34d99b,_0x529c79,_0x13a78b);}),_0x51af3e['set'](_0x2b3fdc(0x810),_0x2b3fdc(0x840)),_0x51af3e['set']('views',(0x0,js[_0x2b3fdc(0x1e5)])(ne,_0x2b3fdc(0x251))),_0x51af3e[_0x2b3fdc(0x780)](ge[_0x2b3fdc(0x66b)]['static']((0x0,js[_0x2b3fdc(0x1e5)])(ne,_0x2b3fdc(0x77f)))),_0x51af3e['use']((_0x1b027c,_0x49a667,_0x224a87)=>{const _0x3909d7=_0x2b3fdc;let _0x29f6b9=_0x49a667[_0x3909d7(0x6c8)];_0x49a667[_0x3909d7(0x6c8)]=function(_0x296ab6){const _0x2b80c=_0x3909d7;if(_0x1b027c[_0x2b80c(0x263)]['convert']===_0x2b80c(0x59f)||_0x1b027c[_0x2b80c(0x5d0)][_0x2b80c(0x4c8)]==='true'){let _0x150053=JSON[_0x2b80c(0x52e)](_0x296ab6);_0x296ab6=JSON[_0x2b80c(0x319)](_0x4c84f3(_0x150053));}return _0x29f6b9[_0x2b80c(0x53d)](_0x49a667,[_0x296ab6]);},_0x224a87();}),_0x51af3e[_0x2b3fdc(0x780)]('/',At),_0x51af3e[_0x2b3fdc(0x780)]((_0x5f04dc,_0x1ecd96,_0x229155,_0x53eec2)=>{const _0x4c07b9=_0x2b3fdc;if(_0x5f04dc)return _0x229155[_0x4c07b9(0x346)](_0x5f04dc[_0x4c07b9(0x346)]||0x1f4)[_0x4c07b9(0x6d3)](_0x5f04dc);},(_0x1170a8,_0x5e8b5c,_0xb1fc76)=>{const _0x57d3ea=_0x2b3fdc;let {method:_0x330cd7,url:_0x115d6e}=_0x1170a8;_0x5e8b5c[_0x57d3ea(0x346)](0x194)[_0x57d3ea(0x6d3)]({'status':0x194,'message':'Cannot\x20'+_0x330cd7[_0x57d3ea(0x8b1)]()+'\x20'+_0x115d6e,'error':_0x57d3ea(0x310)}),_0xb1fc76();});let _0x4c84f3=(_0x16204b,_0x550c6a=_0x2b3fdc(0x897))=>{const _0x1586cc=_0x2b3fdc;let _0x4a99c2=(_0x404e1e,_0x47e68b=null,_0x56e504=!0x1)=>{const _0x1aa012=a0_0x1182;let _0x31965c={};return Object[_0x1aa012(0x3cf)](_0x404e1e)['forEach'](_0x1864a4=>{const _0x2d1716=_0x1aa012;let _0x3d916d=_0x404e1e[_0x1864a4],_0x28df6c=''+_0x550c6a+_0x1864a4;_0x47e68b&&!_0x56e504&&(_0x28df6c=_0x47e68b+'.'+_0x1864a4),!_0x3d916d&&_0x3d916d!==0x0&&_0x3d916d!==!0x1||typeof _0x3d916d>'u'?_0x31965c[_0x28df6c]=null:typeof _0x3d916d!=_0x2d1716(0x2bd)&&!Array['isArray'](_0x3d916d)?_0x31965c[_0x28df6c]=_0x3d916d:typeof _0x3d916d=='object'&&!Array[_0x2d1716(0x629)](_0x3d916d)?_0x31965c=Object['assign'](_0x31965c,_0x4a99c2(_0x3d916d,_0x28df6c)):Array[_0x2d1716(0x629)](_0x3d916d)&&(typeof _0x3d916d[0x0]==_0x2d1716(0x2bd)?(_0x31965c[_0x28df6c]=[],_0x3d916d['forEach'](_0x498bbe=>{const _0xfa94a7=_0x2d1716;_0x31965c[_0x28df6c][_0xfa94a7(0x3d5)](_0x4a99c2(_0x498bbe,_0x28df6c,!0x0));})):_0x31965c[_0x28df6c]=_0x3d916d);}),_0x31965c;};return Array['isArray'](_0x16204b)?_0x16204b[_0x1586cc(0x2b0)](_0xc40480=>_0x4a99c2(_0xc40480)):typeof _0x16204b==_0x1586cc(0x2bd)&&_0x16204b!==null?_0x4a99c2(_0x16204b):{};},_0x2f5ba5=b[_0x2b3fdc(0x1ef)](_0x2b3fdc(0x7c6));Ae[_0x2b3fdc(0x448)]=_0x51af3e;let _0x1c4393=Ae[_0x2f5ba5[_0x2b3fdc(0x356)]],_0x20a96f=_0x2b3fdc(0x7d4);_0x1c4393[_0x2b3fdc(0x354)](_0x2f5ba5[_0x2b3fdc(0x777)],()=>{const _0x264868=_0x2b3fdc;_0x2c0352[_0x264868(0x430)](_0x20a96f),_0x2c0352[_0x264868(0x430)](_0x2f5ba5['TYPE'][_0x264868(0x8b1)]()+'\x20-\x20ON:\x20'+_0x2f5ba5[_0x264868(0x777)]);}),qr(),zs();}var Gr=a0_0x55f44d(0x252),Br=De['default'][a0_0x55f44d(0x1e5)](__dirname,a0_0x55f44d(0x70d)),xe=null;function Wr(){return new Promise((_0x476747,_0x27c5f6)=>{const _0xbd9d1=a0_0x1182;he[_0xbd9d1(0x66b)][_0xbd9d1(0x573)](Br,_0xbd9d1(0x7c1),(_0x5921b3,_0x182b53)=>{const _0x2e62ee=_0xbd9d1;if(_0x5921b3){xe=_0x5921b3,_0x476747();return;}_o[_0x2e62ee(0x66b)][_0x2e62ee(0x52e)](_0x182b53)[_0x2e62ee(0x2a9)][_0x2e62ee(0x68f)]===Gr?(xe=null,_0x476747()):(xe=new Error(_0x2e62ee(0x422)),_0x476747());});});}async function zr(){const _0x2c6609=a0_0x55f44d;try{await Wr(),await Ls();}catch(_0x1661a){console['error'](_0x2c6609(0x46a)+_0x1661a),process[_0x2c6609(0x6ca)](0x1);}}zr();async function Po(){const _0x5704a1=a0_0x55f44d;let _0x25bdcb;try{_0x25bdcb=(await Ie[_0x5704a1(0x66b)]['get']('https://jsonip.com'))[_0x5704a1(0x5e3)]['ip'];}catch(_0x5cc6d5){console[_0x5704a1(0x752)](_0x5cc6d5);try{_0x25bdcb=(await Ie[_0x5704a1(0x66b)][_0x5704a1(0x1ef)]('https://api.ipify.org?format=json'))[_0x5704a1(0x5e3)]['ip'];}catch(_0xa1c958){console[_0x5704a1(0x752)](_0xa1c958);try{_0x25bdcb=(await Ie[_0x5704a1(0x66b)][_0x5704a1(0x1ef)](_0x5704a1(0x369)))[_0x5704a1(0x5e3)][_0x5704a1(0x7a4)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x1c1830){return console[_0x5704a1(0x752)](_0x1c1830),!0x1;}}}return _0x25bdcb;}var $o=0x0;async function Hr(){const _0x275edb=a0_0x55f44d;let _0x467da4=await new le(b['get'](_0x275edb(0x4c7)))[_0x275edb(0x4fd)]();return console[_0x275edb(0x430)](_0x275edb(0x351),_0x467da4[_0x275edb(0x2af)]),_0x467da4[_0x275edb(0x2af)];}function Kr(_0x15a703){const _0x46f840=a0_0x55f44d;let _0x42f634=_0x15a703['get'](_0x46f840(0x7c6))[_0x46f840(0x1f0)],_0x38a5bc=_0x15a703[_0x46f840(0x1ef)]('SSL_CONF'),_0x53988b;if(_0x42f634){let _0x11628a=_0x42f634[_0x46f840(0x7a4)](/\/\/(.*?)\./);_0x11628a&&_0x11628a[0x1]&&(_0x53988b=_0x11628a[0x1]);}if(!_0x53988b&&_0x38a5bc&&_0x38a5bc[_0x46f840(0x3af)]){let _0x5af116=_0x38a5bc[_0x46f840(0x3af)]['split']('/'),_0x4bab0b=_0x5af116[_0x5af116[_0x46f840(0x2af)]-0x2];if(_0x4bab0b){let _0x15942a=_0x4bab0b[_0x46f840(0x44b)]('.');_0x15942a[_0x46f840(0x2af)]>0x2&&(_0x53988b=_0x15942a[0x0]);}}return _0x53988b;}var xs=Kr(b);async function Qr(){const _0x898843=a0_0x55f44d;let _0x2947a6=b[_0x898843(0x1ef)](_0x898843(0x4c7)),_0x21029b=b['get'](_0x898843(0x7b2))[_0x898843(0x33a)][_0x898843(0x792)],_0x4fc3a2=b[_0x898843(0x1ef)](_0x898843(0x321)),_0x432a78=await Po(),_0x327f5f=b[_0x898843(0x1ef)]('SERVER')[_0x898843(0x777)],_0x399a49=b['get'](_0x898843(0x7c6))[_0x898843(0x1f0)];try{let _0x28001a={'ip':_0x432a78||null,'redis_enable':_0x2947a6?.['ENABLED']||null,'apikey':_0x21029b||null,'ssl':_0x4fc3a2?.[_0x898843(0x622)]||null,'lastupdate':ko||null,'port':_0x327f5f||null,'gitInstallError':xe?.[_0x898843(0x57a)]||null,'url':_0x399a49||null};if(console[_0x898843(0x430)](_0x898843(0x483),_0x28001a['ip']),_0x2947a6&&_0x2947a6[_0x898843(0x7a1)]){let _0x536854=await Hr();_0x28001a[_0x898843(0x47d)]=_0x536854||null;}for(let _0x428963 in _0x28001a)_0x28001a[_0x898843(0x596)](_0x428963)&&_0x428963!=='ip'&&(_0x28001a[_0x428963]=JSON['stringify'](_0x28001a[_0x428963]));return(await Ie[_0x898843(0x66b)][_0x898843(0x568)](_0x898843(0x7e2),_0x28001a))[_0x898843(0x5e3)];}catch(_0x5d975e){return console[_0x898843(0x752)](_0x5d975e),!0x1;}}var ks=!0x1,ko=0x23f,Yr=0x3,Ao=0x1b7740;async function Ls(){const _0x587da6=a0_0x55f44d;if(!await Po())return console[_0x587da6(0x752)](_0x587da6(0x433)),_0x587da6(0x4a8);let _0x4de5f2=await Qr();if(_0x4de5f2){if(_0x4de5f2[_0x587da6(0x7e8)]['licenca']===!0x0){let _0x551696=b[_0x587da6(0x1ef)](_0x587da6(0x321)),_0x413cf2=b[_0x587da6(0x1ef)]('SERVER')['URL'];_0x551696&&_0x551696?.[_0x587da6(0x622)]?.['includes'](_0x587da6(0x5d4))&&_0x4de5f2[_0x587da6(0x7e8)][_0x587da6(0x246)]&&!_0x413cf2&&(await ei(_0x4de5f2[_0x587da6(0x7e8)][_0x587da6(0x246)],Zr),await ti(_0x587da6(0x66f),_0x4de5f2[_0x587da6(0x7e8)][_0x587da6(0x246)]),console['log'](_0x587da6(0x6ba)),setTimeout(()=>ai(),0x2710)),xe===null&&_0x4de5f2[_0x587da6(0x7e8)]['last_update']-ko>0x0&&await Xr(),ks||(ks=!0x0,Vr());let _0x2f343d=0x24*0x3c*0x3c,_0x312018=_0x4de5f2[_0x587da6(0x7e8)][_0x587da6(0x2b5)]>_0x2f343d?_0x2f343d:_0x4de5f2[_0x587da6(0x7e8)][_0x587da6(0x2b5)],_0x321b93=Number(_0x312018);if(isNaN(_0x321b93)){console[_0x587da6(0x752)](_0x587da6(0x405));return;}let _0x5ae953=Math[_0x587da6(0x68a)](_0x321b93/0xe10),_0x108d96=Math['floor'](_0x321b93%0xe10/0x3c),_0x28e97e=new Date(Date['now']()+_0x321b93*0x3e8);setTimeout(Ls,_0x321b93*0x3e8);let _0x4b0f50=_0x1a1b56=>_0x1a1b56[_0x587da6(0x6d8)]()[_0x587da6(0x31d)](0x2,'0'),_0x57a2ce=_0x587da6(0x6b4)+_0x4b0f50(_0x5ae953)+_0x587da6(0x6c0)+_0x4b0f50(_0x108d96)+'\x20minutos.\x20Será\x20às\x20'+_0x4b0f50(_0x28e97e[_0x587da6(0x787)]())+':'+_0x4b0f50(_0x28e97e[_0x587da6(0x3f2)]())+'.';console[_0x587da6(0x430)](_0x57a2ce);}else return console[_0x587da6(0x430)](_0x587da6(0x4e0)),ks&&(console[_0x587da6(0x430)](_0x587da6(0x49f)),process['exit']()),_0x587da6(0x4d9);}else{if($o++,$o<Yr)console[_0x587da6(0x430)](_0x587da6(0x542)+Ao/0xea60+_0x587da6(0x601)),setTimeout(Ls,Ao);else return console[_0x587da6(0x752)]('Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.'),_0x587da6(0x2f1);}}async function Xr(){const _0x3ad044=a0_0x55f44d;console[_0x3ad044(0x430)](_0x3ad044(0x729));let _0x1ea2d2=(0x0,_e['spawn'])(_0x3ad044(0x6de),{'shell':!0x0});_0x1ea2d2[_0x3ad044(0x4a4)]['on'](_0x3ad044(0x5e3),_0x17a3d0=>{console['log']('Atualização:\x20'+_0x17a3d0);}),_0x1ea2d2[_0x3ad044(0x20a)]['on'](_0x3ad044(0x5e3),_0x139b04=>{const _0x5db3d2=_0x3ad044;console[_0x5db3d2(0x752)](_0x5db3d2(0x46c)+_0x139b04);}),_0x1ea2d2['on'](_0x3ad044(0x6ca),_0x20b4eb=>{const _0x1ffb8d=_0x3ad044;_0x20b4eb!==0x0?console[_0x1ffb8d(0x752)](_0x1ffb8d(0x4cd)+_0x20b4eb):console[_0x1ffb8d(0x430)](_0x1ffb8d(0x45f)),console['log'](_0x1ffb8d(0x7f4)),setTimeout(()=>process[_0x1ffb8d(0x6ca)](),0x2710);});}var Zr=De[a0_0x55f44d(0x66b)][a0_0x55f44d(0x1e5)](__dirname,a0_0x55f44d(0x563));async function ei(_0x35b195,_0x255e0e){const _0x73341e=a0_0x55f44d;let _0xcbfbb8=si();_0x35b195=_0x35b195[_0x73341e(0x8b0)](_0x73341e(0x740),'');try{let _0x46e9c3=he[_0x73341e(0x66b)][_0x73341e(0x84b)](_0x255e0e,_0x73341e(0x53a));_0x46e9c3=_0x46e9c3[_0x73341e(0x8b0)](/<apikey>/,_0xcbfbb8),_0x46e9c3=_0x46e9c3[_0x73341e(0x8b0)](/<subdomain>/g,_0x35b195),he['default'][_0x73341e(0x23d)](_0x255e0e,_0x46e9c3,_0x73341e(0x53a)),console[_0x73341e(0x430)](_0x73341e(0x72e));}catch(_0x5c0e28){console[_0x73341e(0x752)]('Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:',_0x5c0e28);}}function ti(_0x1cebdb,_0xa929d1){return new Promise((_0x1fb729,_0xea1c6b)=>{const _0x3863dc=a0_0x1182;let _0x3ed7e9=(0x0,_e[_0x3863dc(0x23f)])(_0x3863dc(0x520),[_0x3863dc(0x386),_0x3863dc(0x236),'-m',_0x1cebdb,_0x3863dc(0x4bd),'-d',_0xa929d1]);_0x3ed7e9['stdout']['on'](_0x3863dc(0x5e3),_0x2d045f=>{const _0x2e6899=_0x3863dc;console[_0x2e6899(0x430)](_0x2e6899(0x561)+_0x2d045f['toString']());}),_0x3ed7e9[_0x3863dc(0x20a)]['on'](_0x3863dc(0x5e3),_0x189edb=>{const _0x2efd89=_0x3863dc;console[_0x2efd89(0x752)](_0x2efd89(0x434)+_0x189edb[_0x2efd89(0x6d8)]());}),_0x3ed7e9['on']('close',_0x27ef1c=>{const _0x31e8f2=_0x3863dc;_0x27ef1c!==0x0?(console[_0x31e8f2(0x752)](_0x31e8f2(0x5f7)+_0x27ef1c),_0xea1c6b(_0x31e8f2(0x5f7)+_0x27ef1c)):(console[_0x31e8f2(0x430)](_0x31e8f2(0x597)),_0x1fb729());});});}function si(_0x41cd38=0x32){const _0x54da35=a0_0x55f44d;let _0x6203b9=_0x54da35(0x51b),_0x232a7e='';for(let _0x1833d5=0x0;_0x1833d5<_0x41cd38;_0x1833d5++)_0x232a7e+=_0x6203b9['charAt'](Math[_0x54da35(0x68a)](Math['random']()*_0x6203b9[_0x54da35(0x2af)]));return _0x232a7e;}function ai(){const _0x3041f7=a0_0x55f44d;(0x0,_e[_0x3041f7(0x894)])(_0x3041f7(0x3f8),(_0x3dde75,_0x5e9939,_0x4a6b59)=>{const _0x4bfd26=_0x3041f7;if(_0x3dde75){console['error'](_0x4bfd26(0x896)+_0x3dde75);return;}if(_0x4a6b59){console[_0x4bfd26(0x752)](_0x4bfd26(0x43f)+_0x4a6b59);return;}console[_0x4bfd26(0x430)](_0x4bfd26(0x7f0)+_0x5e9939);});}0x0&&(module[a0_0x55f44d(0x697)]={'subdomain':subdomain});