const a0_0x420d4d=a0_0x296e;(function(_0x156d66,_0x335b1c){const _0x495624=a0_0x296e,_0x41db6a=_0x156d66();while(!![]){try{const _0x137eae=-parseInt(_0x495624(0x8b8))/0x1*(parseInt(_0x495624(0x5c4))/0x2)+-parseInt(_0x495624(0x603))/0x3+parseInt(_0x495624(0x3e9))/0x4*(-parseInt(_0x495624(0x54d))/0x5)+-parseInt(_0x495624(0x2c5))/0x6+-parseInt(_0x495624(0x746))/0x7+parseInt(_0x495624(0x81e))/0x8*(parseInt(_0x495624(0x210))/0x9)+parseInt(_0x495624(0x611))/0xa;if(_0x137eae===_0x335b1c)break;else _0x41db6a['push'](_0x41db6a['shift']());}catch(_0x119323){_0x41db6a['push'](_0x41db6a['shift']());}}}(a0_0x49fc,0xcac29));function a0_0x49fc(){const _0x4aa2a0=['Forbidden','instance.','messages','flushHeaders','created',',\x20qrcodeCount:\x20','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','waitingMenu_text','testProxy','isCommunityAnnounce','urlencoded','updateGroupPicture','load','AUTHENTICATION_JWT_SECRET','flow','updateOnlinePrivacy','):\x20Buscando\x20conversa...','):\x20Entrou\x20na\x20função\x20processawaitSeconds','/wa-presence','cpf','getMinutes','contains','Last\x20message\x20not\x20found','SERVER_OFFLINE','headerString','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','loadproxy','function','fetchConversation','MESSAGES_UPDATE','deleteDoneMessages','removeOlderDisconnectedInstances','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','shift','mkdirSync','#d3a91f','decryptPollVote','ListType','cleaningUp','noConnection','dbConnection',',\x20Novo\x20tamanho:\x20','PRODUCT_LIST','.txt','false','remoteJids','updateOneById','Error\x20in\x20scheduleNextCheck:\x20','isURL','post','Flow\x20não\x20encontrado','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','textMessage','Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','announcement','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','ON\x20-\x20dbName:\x20',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','flowStopConversation','available','.mimetype','FlowController','recording','updatePresence','updateAutoCompleteMessages','https://jsonip.com','getStatus','firstValue','getClient','conditions','lastReceivedMessage','VERBOSE','stateConnection','audioMessage','getflow','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','sleep','):\x20Editando\x20condição\x20do\x20fluxo...','notContains','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','formatVCard','concat','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','insert','variablesNotFound','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','label_jid','A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','arrayUnique','poll','inviteCodeDetails','\x20removido\x20do\x20chat\x20','presence.update','readreceipts','createFlow','onTime','trim','https://uazapi-plugin.bubbleapps.io/?url=','):\x20Não\x20achou\x20nenhum\x20flow','connectionStatus','ERROR','cachedData-whatsapp',',\x20isAdmin:\x20','ButtonsMessage','https://api.openai.com/v1/audio/speech','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','getFlowModelForOwner','Flow\x20iniciado\x20com\x20','):\x20Criando\x20nova\x20conversa[createNewConversation]','reorderBlocks','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','whatsappNumbers','sync','http','#b4ebff','groupdata','__esModule','importChats','\x0aFN:','processConditionsTest','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','Internal\x20Server\x20Error','):\x20Usando\x20extensão\x20padrão:\x20','loadEnv','READ','\x1b[0m','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','updateProfilePicture','lastDisconnect','CONNECTION','flowActive','online','port','Erro\x20ao\x20tentar\x20updateCustomFields','subjectTime','expiration','sendMessageWithTyping','method','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','scheduleMessage','}}\x20->\x20valor\x20não\x20encontrado','descId','contentText','resetReconnectionVariables','repository','writeFile','downloads','default','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','stopMinutes','random','updateProfileName','\x20tentativas.','/wa-contacts','#ff9484','string','webp','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','hex','sendMenu','bateu\x20events','Deletion\x20failed','express','Bloco\x20com\x20ID\x20','<subdomain>','\x1b[36m','buttonId','.xls','dbSettings','allFlows','Selecione',',\x20apikey:\x20','sendStatus','updateMissingEtiquetas','pre','getDelay','console','REDIS','jid','list','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','):\x20Criando\x20fluxo\x20regular...','Error\x20in\x20converting\x20audio','?authSource=admin&readPreference=primary&directConnection=true','updateAll','EMAIL','errorLog','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','superadmin','208fgWJbz','readFileSync','Falha\x20após\x20várias\x20tentativas.','/webhook','\x1b[40m','floor','output','lastSendMessage','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','findOneAndUpdate','js-yaml','request\x20received\x20in\x20deleteConversation','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','editScheduleMessage','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','error','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','WARN','^\x5cd+([-]\x5cd+)*@g.us$','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','getAllData','delayChatLabel_RETRY_DELAY_MS','fetchProfile','min','Data\x20inválida\x20fornecida','setWebhook','instanceName','flush','\x20saindo\x20da\x20função','NextBlock','readData','getContactModelForOwner','\x1b[1m\x1b[37m','content-type','deleteFlow','utf8','goToFlow','delete','privacySettings','groupUpdateSubject','view\x20engine','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','has','folder','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','caption','notas','):\x20atualização\x20chat:\x20','lastMessage','_Chats','messages.update','set','uazapiSendLocation','$pull','Connection','order','namespace','.xlsx','):\x20Bloco\x20com\x20ID\x20','footerText','findGroup','readMessages','ephemeralDuration','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message','uncaughtException','delayChatLabel','ScheduleMessageModel','DATABASE_CONNECTION_HOST','fetchLatestBaileysVersion','#9ba6ff','\x20chats\x20de\x20','replyOption','findOne','Erro\x20ao\x20remover\x20label\x20','mentions',',\x20Comparador:\x20','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','object','):\x20conversation.lastInteraction:\x20','):\x20Erro\x20durante\x20a\x20atualização:\x20','redirect','description','joinApprovalMode','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','request\x20received\x20in\x20fetchConversation','certbot','createInstance','notEqual','Enter\x20a\x20value\x20in\x20milliseconds','axios','validate','Número\x20não\x20possui\x20WhatsApp.','enabled','enumerable','uazapi','binary','groupMemberAddMode','\x0aitem','.doc','generate','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','isBase64','Erro\x20ao\x20tentar\x20autoCompleteMessages','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','status.instance','Image\x20is\x20url','uuid','saveVariable','\x5c$&','getFlow','authentication','flowName','modifiedCount','instanceName\x20not\x20provided.','findIndex','Missing\x20global\x20api\x20key','https://chat.whatsapp.com/','storePath','unreadcount','headers','uazapiSendText','InstancesAlterarTodas','):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid=','editFlowCondition','owner','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','pollCreationMessage','archive','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','node-mime-types','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','send','lowerCase','):\x20Conversa\x20inserida\x20com\x20sucesso.','\x1b[46m','Deleted\x20','\x20:\x20','eventEmitter','sendMessage','}}\x20->\x20\x22','participants','item','):\x20teve\x20mudanças\x20chat.archived:\x20','truncatedto','\x22\x20-\x20REMOVED','allflows',':\x20Tentativa\x20','sendLocation','getScheduleMessageModelForOwner','Conversa\x20deletada\x20com\x20sucesso.','birthtime','459409xDGRVR','):\x20expirationTime:\x20','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','document','editflowvaredit','updateFlowConfig','verify','PRIVKEY','Erro\x20ao\x20arquivar\x20chat','cors','updateParticipant','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','mimetype','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','evaluateCondition','Type\x20is\x20required','iniciando\x20fluxo\x20router','connection.update','):\x20Entrou\x20na\x20função\x20clearVariables','jsonwebtoken','findParticipants','approve','\x20com\x20sucesso.','autoCompleteMessages.command','\x20-i\x20','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','findAll','/instance/connectionState','pushName','message','):\x20debug\x20alterando\x20this.AutomateSystem','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','paused','Erro\x20ao\x20atualizar\x20o\x20documento:','state','groupHandler','content','@s.whatsapp.net','leadInfo.etiquetas','Fluxo\x20agendado\x20pelo\x20fluxo\x20','readMessage','mongodb://','Authentication\x20error','fileUrl','RECONNECT_TIME_FRAME','applyvaredit','/config','SINGLE_SELECT','notEmpty','createConversationforgoToFlow','viewOnceMessageV2','MESSAGES_SET','round','getHours','moreLogs','DELETED','label','processScheduleFlow','startID','conversation','bodyStringErrorParse','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','FULLCHAIN','processclearVariables','app','including\x20timestamp\x20in\x20url:\x20','\x20Tentativa\x20de\x20reconexão\x20','loadInstance','muteEndTime','Primeiro\x20Valor:\x20','listMessage','):\x20Conversa\x20atualizada\x20em\x20memória','Last\x20message\x20not\x20found\x20for\x20number:','sendButtons','\x0a{\x20instance:\x20','realVariables','authService','Fetching\x20business\x20profile','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','array','request\x20received\x20in\x20getFlow','://','insertMany','group','\x1b[33m','/message','qrcode.updated','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','findGroups','uazapiSendMenu','remoteJid','delayChatLabel_MAX_RETRIES','userDevicesCache','mediaSticker','toLocaleString','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','getConversationModelForOwner','verbose','\x1b[30m','createConversationforStartFlow','creds.json','SERVER_ACK','entries','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','):\x20Entrou\x20na\x20função\x20scheduleFlow','remoteJidsRemaining','sort','toDataURL','inner','):\x20Bloco\x20original\x20para\x20cópia:\x20','Erro\x20ao\x20alterar\x20fluxo','saveConversationToDatabase','and','124506vdNkoT','less','All_Instances_Config','):\x20Enviando\x20mídia','no-cache','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','scheduleSendText','leaveGroup','lastCondition','isRunning','pt-BR','pollOnReplyDelete','https://','awaitingApproval','data:\x20','createHash','demote','AutomateSystem\x20não\x20foi\x20inicializado','desativadoFluxoAte','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','throwAndLogError','PROXY','updateMissingShareOwners','instanceKeys','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','atendimentoAberto','editedMessage','fullName','success','newStoppedUntil','#83e421','getMessage','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','The\x20instance\x20needs\x20to\x20be\x20disconnected','messageType','count','store','locationMessage','instance','message_normalized','\x1b[42m','webhookMap','):\x20Editando\x20bloco...','Error\x20writing\x20file:\x20','deleteOne','lastSend','announce','connectToWhatsappController','canSendMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','insertCount','out','model','):\x20Enviando\x20áudio','findManyByIds','action','The\x20global\x20api\x20key\x20must\x20be\x20set','saveCreds','messages.upsert','processblock','!cmd_','_activedCount','mongoose','Erro\x20ao\x20atualizar\x20conversa:\x20','deleteMessageForEveryone','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','Erro\x20ao\x20adicionar\x20label\x20','listType','writeData','Conexão\x20estabelecida','#64c4ff','Erro\x20ao\x20buscar\x20a\x20conversa','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','):\x20conversation.waitingMenu_name','TYPE','prototype','QRCODE_UPDATED','fetchStatus','keyPattern','width','connect','):\x20Ignoring\x20group\x20messages.','Fluxo\x20não\x20encontrado.','profilePictureUrl','end','Fluxo\x20não\x20encontrado','Error\x20while\x20deleting\x20message\x20for\x20everyone','push','updateChatWithMessage','last','findAndUpdate','bearer','deleteBlock','DELIVERY_ACK','Erro\x20ao\x20importar\x20chats','Audio\x20processed','.docx','HOST','prefixCommand','chatLog','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','.png','request\x20received\x20in\x20updateAutoCompleteMessages','groups.update','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','AddChatLabel','FlowRouter','jwt','empty',':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...','lastUpdate','):\x20nextBlock.uazapi.name','warn','TEL','add','GROUPS_UPDATE','Fluxos\x20não\x20estão\x20ativados','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','send.message','):\x20alterando\x20this.AutomateSystem','static','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','map','parse','sections','updatePrivacySettings','\x20minutos','request\x20received\x20in\x20editFlowvariable','env.KEY\x20!==\x20key','getBusinessProfile','normalizeMessageContent','connectionUpdate','length','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','groupRequestParticipantsList','presence','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','):\x20leadInfoVariables','Erro\x20ao\x20editar\x20o\x20bloco:\x20','variablesToObject','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','Erro\x20ao\x20buscar\x20Schedule\x20Messages','editflowreply','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','imagechat','chats.update','removeInstance','memberAddMode','dbServer','\x22\x20-\x20NOT\x20CONNECTION','host','sticker','):\x20Enviando\x20contato','Converted\x20image\x20deleted','@g.us','splice','long','_FlowHistorico','cachedContact','getMessageModelForOwner','CORS','locked','.mp3','context','undefined','\x1b[36m%s\x1b[0m','):\x20Deletando\x20mensagem','processgoToFlow','editFlow','logger','):\x20Entrou\x20na\x20função\x20saveReply','-instances','parseInt','getTicketSystem','findOrCreate','):\x20tem\x20blocks','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','address','9350796gzXjey','updateConversation','valid','LICENSE_INVALID','uazapiSendContact','Error\x20parsing\x20JSON:','node-cache','#9568cf','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','Instance\x20logged\x20out','Module\x20-\x20ON','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','subdomain','envYaml','imageMessage','bulkWrite','pollMessageOnDelete','conversationTimestamp','initAuthCreds','sendSticker','Certbot\x20executado\x20com\x20sucesso.','):\x20Procurando\x20mensagens\x20para\x20envio','Font\x20is\x20required','createRegularFlow','processawaitSeconds','GROUPS_UPSERT','/clients-info','auth','abs','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','etiquetas','Falha\x20ao\x20processar\x20a\x20solicitação\x20messages.upsert','PENDING','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','delAll','Pausado\x20por\x20','fetchMessages','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','convertaudio','\x5cd+','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','instanceCount','messageTimestamp','flowIgnoreGroups','authState','Erro\x20ao\x20atualizar\x20o\x20fluxo:','fileName','rm\x20-rf\x20','startFlow','del','slice','unlocked','spawn','subject','Validate','connectToWhatsapp','https://api.ipify.org?format=json','Hash\x20to\x20image\x20name:\x20','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','chats','now','findByIdAndDelete','router','inviteCode','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','https-proxy-agent','.extension','jpegThumbnail','release','fetchInstances','profilePicture','messageHandle','?timestamp=','username','updateChatGroupData','findFlow','\x20segundos','getContentType','ContactModel','\x1b[34m','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','connectionState','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','update','contact_blacklist','.error','apiResponse','):\x20Criando\x20fluxo\x20compartilhado...','stringify','bodyString','greater','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','not_announcement','\x20não\x20encontrado.','agents','editflow','name','urlOrBase64','useMultiFileAuthState','CHATS_UPDATE','expression','ip:\x20','Sending\x20audio\x20whatsapp','createflow','licenca','sendPoll','findByIdAndUpdate','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','image','Rótulo\x20inválido\x20ou\x20sem\x20ID.','deleteMessage','DATABASE_CONNECTION_USER','groupInviteCode','displayName','composing','toLowerCase','HttpsProxyAgent','imported','makeCacheableSignalKeyStore','Atualização:\x20','chats.delete','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','buttonText','ContactsAndGroups','OrAnd','):\x20Visualizando\x20AutomateSystem','dbInstance','upsertedCount','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','toNumber','fromObject','pollUpdateMessage','updateLastSeenPrivacy','AUTHENTICATION_JWT_EXPIRIN_IN','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','ConversationModel','public','\x20depois\x20','uazapiSendAudio','unavailable','editChat','CHATS_DELETE','SECRET','password','groupName','drop','uazapiDeleteMessage','):\x20Buscando\x20flow,\x20name:\x20','telefone','isLong','request\x20received\x20in\x20allFlows','CLEANING_INTERVAL','readMessageBot','collections','reference','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','choices','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','fone','redis','RemoveChatLabel','messageStubType','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Variáveis\x20não\x20encontradas:','\x20de\x20conectar\x20com\x20IP\x20extra.','saveMediaToFile','stickerMessage','Processing\x20audio','recebido\x20de','chats.upsert','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','convertedOptions','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','exec','block','Instance\x20ID:','mediatype','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','g-t','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','arraybuffer','STORE','/events/:instance','toggleEphemeral','waitingMenu_id','joinGroupValidate','findMessages','emit','groupadd','pairingCode','):\x20transformedCustomFieldVariables','Mac\x20OS','ERROR:\x20','/media/','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','logout','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','isInteger','instanceInfo','SSL_CONF_PRIVKEY','isAdmin','minutesToClose','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','CHATS_UPSERT','StartBot','.TEL;waid=','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','waMonitor','request\x20received\x20in\x20editFlowgroup','removeUnusedChatFields','src','pino','\x20contacts','updateCustomFields','createSharedFlow','./.git/config','admin','chatId','includes','#ffffff','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','ScheduleMessage','removed','process','log','SUCCESS','groupAcceptInvite','Database\x20is\x20not\x20enabled','WebhookGlobal','groupFetchAllParticipating','desc','optionDescription','startCommandWord','http://ip-api.com/json','global','font','unreadCount','normalizeMessage','LabelModel','color','labels.association','remote\x20\x22origin\x22','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','evaluateConditionTest','path','MAX_RECONNECT_ATTEMPTS','API_KEY','currency','delayMessage','CONTACTS_UPDATE','finish','replaceVariables','Removidas\x20as\x20variáveis:\x20','Operador:\x20\x22','\x20do\x20chat\x20','removeData','stopMinutesMaxActives','scheduleSendMedia','):\x20newFirstValue\x20após\x20replaceVariables:','join','https://api.openai.com/v1/images/generations','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','role','Nenhum\x20participante\x20válido\x20encontrado.','isJidGroup','getMIMEType','Erro\x20de\x20reinicialização:\x20','groupRevokeInvite','URL:','convertaudioMP3','senderKeyDistributionMessage','matchRegex','leadInfo.','start','stopIfLastReturnedError','):\x20Going\x20to\x20','editFlowReply','isBusiness','test','LEVEL','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','messages.set','env','descOwner','cwd','AutomateSystem','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','sendContact','/wa-message','MESSAGES_UPSERT','1343044sVUfXm','Image\x20is\x20base64','getLastMessage','getDevice','stdout','email','base64','groupGetInviteInfo','$set','endSession','CREDENTIALS','Erro\x20ao\x20sincronizar\x20fluxos:\x20','Reinicialização\x20iniciada:\x20','charAt','SERVER_URL','sim','dbClient','shareOwners','):\x20Error\x20processing\x20the\x20block:\x20','upperCase','):\x20lastBlockId:\x20','Content-Type','):\x20updateResult:','error_log','subjectOwner','Not\x20allowed\x20by\x20CORS','pollCreationMessageV3','ephemeralExpiration','true','groupSetting','archiveChat','/group','Request\x20Body:','Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.','phoneNumber','findAndReplace','documentWithCaptionMessage','API\x20Key\x20from\x20Request:','replacer','params','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','):\x20Editando\x20grupo\x20do\x20fluxo...','everyOne','toFile','sendAudio','buttonMessage','sending','put','exists','groupJid','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','hGet','STATUS_INSTANCE','proto','child_process','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','instances','activatedCount','/instance/fetchInstances','cachedContacts-whatsapp','forEach','text','Erro\x20ao\x20inserir\x20chats:','contactMessage','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','reconnectTimestamps','writeFileSync','):\x20A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','qrcode-terminal','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','deleteMany','SERVER_TYPE','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','AUTHENTICATION_TYPE','temp-','):\x20customFieldVariables','generateHash','setContext','File\x20written\x20to\x20path:\x20','groupUpdateDescription','Business\x20profile\x20fetched','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','Desconectado,\x20parando\x20execução.','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','client','editFlowBlock','rows','menuIgnoreNonVotes','Converting\x20image\x20to\x20WebP\x20to\x20sticker','findGroupInfos','Resultado\x20da\x20atualização:','updateStopChat','deleteConversation','setRestartTimeout','LOG','createSectionsFromValues','):\x20Editando\x20replyOption...','entrou\x20na\x20função\x20de\x20sincronizar\x20fluxos','nomecompleto','\x20-y','keep-alive','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','create','REDIS_PREFIX_KEY','restrict','webhookModel','close','removeProfilePicture','synchronizeFlows','flowConfig','routerPath','substring','saveTextReply','request_method','\x1b[44m','findWebhook','DATABASE_CONNECTION_PASSWORD','sharp','extractMessageContent','upsertChats','fromMe','replaceValue','gifPlayback','sha256','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','#f64847','audio','augusto.fcs@gmail.com','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','ENABLED','URI','verifiedName','pictureUrl','\x20foi\x20interrompido\x20pelo\x20usuário.','ListMessage','Imagem\x20não\x20encontrada','open','groupCreate','latitude','express-async-errors','The\x20\x22','Certbot:\x20','_Labels','):\x20this.processing_id:\x20','Error\x20fetching\x20group','varedits','unknown\x20operation\x20type\x20[','not\x20loaded','):\x20Conversa\x20está\x20expirada','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','vcard','removeChatLabel','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','ChatRouter','json','events','):\x20Deletando\x20conversa...','statusCode','editOperator','):\x20Edit\x20schedule\x20message...','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','badSession','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','contacts','flattenObject','status@broadcast','\x20\x1b[0m','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','updateGroupWebhook','PREFIX_KEY','):\x20Query\x20params:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','audioWhatsapp','media','LOG_LEVEL','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','AppStateSyncKeyData','fetchPrivacySettings','silent','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','MessageModel','groupJoinApprovalMode','user','\x20adicionado\x20ao\x20chat\x20','):\x20Limpando\x20AutomateSystem','title','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','capitalizedWords','):\x20Fluxos\x20não\x20estão\x20ativados','verifyWhatsAppNumber','8080','updateOne','pollMessage','fetchProfilePicture','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','archived','remove.instance','contacts.update','goNextblock','#00a1f2','DB_PREFIX_NAME','findAndReplaceRegex','.ogg','updateMissingTags','hSet','\x0a*Você\x20respondeu*:\x0a','METHODS','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','updateMediaMessage','documentMessage','video','Erro\x20ao\x20buscar\x20conversas','.type','none','REDIS_URI','GROUP_PARTICIPANTS_UPDATE','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','Contacts\x20not\x20found','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','no.connection','updateAgent','request\x20received\x20in\x20getConversation','contactsArrayMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','http://checkip.dyndns.org','getAutomateSystem','fetchLabels','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','\x22\x20not\x20found','unlinkSync','type','vote','\x1b[1m','/instance','shutdown\x20-r\x20now','quotedMessage','tags','fetchChats','groupMetadata','setHeader','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','updateGroupParticipantsWebhook','\x20tentativas:\x20remotejid=','deleteImportedChat','views','group-participants.update','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','@broadcast','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','Erro\x20ao\x20editar\x20a\x20conversa','cacheContactModel','SSL_CONF_FULLCHAIN','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','segundos','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','.url','from','variable','deleteChat','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','Mensagens\x20deletadas\x20com\x20sucesso.','@ffmpeg-installer/ffmpeg','#ffae04','save','delaySecMax','variables','HeaderType','menuMessage','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','where','Rótulo\x20deletado:\x27,\x20','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','updateGParticipant','getChatModelForOwner','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','!stop','):\x20Iniciando\x20bot...','mediaKey','ini','Message\x20not\x20found','utf-8','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','Documento\x20com\x20ID\x20','):\x20[messages.upsert]\x20group\x20ignored','):\x20Enviando\x20localização','notMatchRegex','deleted','Erro\x20ao\x20iniciar\x20fluxo:\x20','sendMedia','getScheduleMessage','replaceOne','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','findById','\x20}\x0a','preview','generateWAMessageFromContent','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','editFlowVariable','PASSWORD','Group\x20not\x20found','groupDesc','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','ORG:','connecting','/wa-all-message','unhandledRejection','Connection\x20closed\x20for\x20instance:\x20','):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid=','Content\x20is\x20required','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','startFlowWebhook','reactionMessage','PLAYED','organization','Erro\x20ao\x20atualizar\x20AutomateSystem:','):\x20Ler\x20mensagem','AUTHENTICATION_API_KEY','delay','createNewConversation','hGetAll','importChatsBatch','findGroupInfo','http://icanhazip.com/','editFlowGroup','equal','messageSecret','sectionsToString','formatBRNumber','Background\x20color\x20is\x20required','awaitSeconds','request\x20received\x20in\x20deleteFlow','scheduleSendAudio','info','_pushName','configService','DARK','request\x20received\x20in\x20getAutomateSystem','Erro\x20ao\x20copiar\x20o\x20documento','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','Erro\x20ao\x20buscar\x20o\x20fluxo','\x20global:\x20','statusMessage','deleteInstance','Notifying\x20clients\x20for\x20chat:\x20','.jpg','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','LOG_COLOR','request\x20body:\x20','updateStatusPrivacy','jsonschema','repeat','digest','error\x20get\x20vote','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','waitingMenu_ExpiredMessage','10GXMqvj','groupId','findAndUpdateCacheContact','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','use','closed','downloadMediaMessage','sendWhatsAppAudio','Error\x20removing\x20unused\x20chat\x20fields:','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','BufferJSON','notify','groupValidate','nome','interval\x20não\x20é\x20um\x20número','):\x20','integer','toUpperCase','profile','scheduleFlow','find','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','sign','listResponseMessage','query','findConversation','markMessageAsRead','/events','$dbName','connectedClient','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','qrCode','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','setUpdate','CONNECTION_UPDATE','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','EXPIRIN_IN','padStart','replaceVariablesInObject','Error\x20updating\x20message\x20status:','protocolMessage','replace','\x20quoted:\x20','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','https://ipinfo.io/json','/wa-connection-update',',\x20Expiration\x20Time:\x20','Esse\x20fluxo\x20expirou','website','CONTACTS_SET','editFlowVaredit','replaceVariablesInReplyOptions','videoMessage','truncatedtoEnd','PRESENCE_UPDATE','admin_add','SSL_CONF','varedit','#dfaef0','deleteReplyOption','Número:\x20','AUTHENTICATION','Button\x20texts\x20cannot\x20be\x20repeated','size','pollCreationMessageV2','match','STORE_CHATS','groupLeave','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','Cached\x20audio\x20found,\x20returning\x20existing\x20file','Router','_activatedCount','Erro\x20ao\x20atualizar\x20o\x20flow.','Archiving\x20chat','checkAndRestartProcess','beautifyWithPlaceholders','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','dark','Erro\x20ao\x20remover\x20instâncias\x20antigas:','DisconnectReason','messaging-history.set','Read\x20messages','createServer','reconnectAttempts',']\x20(','addBlock','key','This\x20name\x20','deleteAll','getLabelModelForOwner','cache','apirequest','SERVER_PORT','apiName','selectableCount','secondValue','The\x20property\x20cannot\x20be\x20empty','oldToken','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','restartInstance','config','StartID:','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','localWebhook','createJid','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','WA\x20MODULE','chatHandle','presenceSubscribe','sendCommand','participant','webhookService','\x1b[30m%s\x1b[0m','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','isArray','code','loggedOut','protocol','Mensagem\x20não\x20suportada','2dJiclt','allContacts',',\x20resultado:\x20','cacheContact','-whatsapp-api','remove','onWhatsApp','\x20não\x20encontrado\x20para\x20atualização.','max','url','replyOptions','menuExpiredMessage','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','Error\x20in\x20chatModify\x20for\x20number\x20','collection','flowConversation','toString','number','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','E-mail:\x20','contextInfo','restart','request\x20received\x20in\x20editFlow','exit','Telefone:\x20','saveChatVariables','createAndSave','wuid','):\x20Mensagem\x20já\x20enviada\x20para\x20','longitude','USER','updateProfileStatus','stanzaId','Temp\x20image\x20deleted','errors','fetchContacts','hasOwnProperty','some','stderr','reject','waUploadToServer','request\x20received\x20in\x20deleteDoneMessages','linkPreview','crypto','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','contacts.upsert','stopWhenYouSendMsg','):\x20Flow\x20não\x20encontrado','reviver','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','setting','app-state-sync-key','msgRetryCounterCache','labelId','\x20horas\x20e\x20','Output\x20path:\x20','mentioned','limit','autoCompleteMessages','updateReplyOption','existsSync','\x20is\x20already\x20in\x20use.','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','3344469iUnHWi','toBrazilianNumberFormat',':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20','readFile','lastBlockId',',\x20pairCode:\x20','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','@newsletter','maxActives',',\x20Resultado:\x20','response','refused','PORT','Image\x20created','57506040yTQpgb','GUARD','findLabels','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','Bad\x20Request','Schema','contact','messageContextInfo','customFields','@whiskeysockets/baileys','Erro\x20ao\x20encerrar\x20a\x20API','endsWith','mediaMessage','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','https://uazapi-plugin.bubbleapps.io/','requestPairingCode','exports','Not\x20Found','next_groupId','DATABASE','request\x20received\x20in\x20editConversation','/chat','getRandomText','audio/ogg','clearVariables','cleanStore','_error','body','Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','/wa-groups','Erro\x20ao\x20normalizar\x20a\x20mensagem:','envProcess','The\x20','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','):\x20Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.','statusJidList','\x1b[31m','Sistema\x20atualizado\x20com\x20sucesso!','groups.upsert','editConversation','groupBetterSetting','KEY','processing_id','requestFile','startsWith','header','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','qrcode','text/event-stream','--standalone','pollErrorMessage','Type\x20not\x20found','):\x20enviado\x20para\x20[','Message','reorderReplyOptions','waitingMenu_replyOptions','prepareWAMessageMedia','findContacts','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','Type\x20defined\x20as\x20audio','ObjectId','leadInfo','mongodb','Cache-Control','editflowvariable','dataValidate','/wa-chats','SEND_MESSAGE','getTime','/exit','):\x20Alterando\x20fluxo...','responsavelid','apply','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','split','request\x20received\x20in\x20updateFlowConfig','assign','editflowgroup','blockId','createWebhook','webhook','_id','Types','Audio\x20converted\x20and\x20stored\x20in\x20cache','beforeExit','updateGParticipate','stopConversation','.mp4','A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','.svg','replaceVariablesChat','stopped','createClient','\x1b[32m','testingWith','timeInMinutes','keys','whatsappNumber','messageId','StatusJidList\x20is\x20required','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','groups','all','.webp','backgroundColor','getUpdate','quoted','\x22,\x20valor\x20a\x20substituir:\x20\x22','blockLogs','):\x20Conversas\x20encontradas:','request\x20received\x20in\x20updateCustomFields','#000000','values','http://myexternalip.com/raw','creds','labels.edit','Erro\x20inesperado\x20em\x20processvaredits:\x20','DEBUG','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','.fileUrl','formatStatusMessage','getConversation','/instance/delete','https','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','contactHandle','when','\x22reaction\x22\x20must\x20be\x20an\x20emoji','condition','Instance\x20\x22','updateMessage','command','buttons',':\x20IP\x20funcionando!','INFO','prepareMediaMessage','JWT','):\x20Rótulo\x20atualizado:\x20','status',',\x20fará\x20nova\x20verificação\x20em\x20','format','createConnection','audio/ogg;\x20codecs=opus','updateMany','GET','waInstances','indexOf','deletedCount','):\x20Query\x20params:\x20','blocks','trimmed','):\x20isVote:\x20','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','\x1b[31m%s\x1b[0m','revokeInviteCode','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','createGroup','):\x20[messages.update]\x20group\x20ignored','findChats','.pptx','Erro\x20ao\x20deletar\x20mensagens:','updateBlock','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','compression','50mb','encoding','Comando\x20desconhecido','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','originalUrl','processvaredits','toBRL','sendPresenceUpdate','ReplyOption\x20com\x20ID\x20','\x20mensagens\x20de\x20','Error\x20updating\x20cache\x20contact:','addReplyOption','defineProperty','Erro\x20ao\x20deletar\x20a\x20conversa','data','updateReadReceiptsPrivacy','.\x20Pulando.','Trying\x20to\x20get\x20business\x20profile','filter','.ogv',':\x20Erro\x20durante\x20loadproxy\x20-\x20','#ffc5c7','buffer','joinGroup','\x20não\x20encontrado','\x1b[33m%s\x1b[0m','editflowcondition','replaceVariablesLogs','sendReaction','fetchBusinessProfile','groupSettingUpdate','Instância\x20não\x20encontrada.','Cannot\x20','eventemitter2','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','/:instanceName','):\x20Procurando\x20conversa','editflowblock','isCommunity','apikey','Invalid\x20format','SendScheduleMessage','RemoteJid:','ultimaTentativaRemoteJid','groups_ignore','Erro\x20ao\x20alterar\x20privacidade','optionName','\x1b[37m','chat','getVariablesChat','Logger','Db\x20Connection','scheduled','authModel','.gif','\x20->\x20CONFIRMADO.','\x20-\x20retornado:\x20','/create','deleteflow','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','^\x5cd+','loadWebhook','creds.update','getBase64FromMediaMessage','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','picture','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','isConnected','option','value','):\x20Enviando\x20texto','ms\x20(tentativa\x20','SERVER','pollCreationMessageKey','redis://127.0.0.1:6379','COLOR','):\x20Label\x20','changeVariables','sendDataWebhook','Image\x20path:\x20','options','hbs','timeout','padEnd','creation','addresss','STORE_CLEANING_TERMINAL','oldValue','CONTACTS_UPSERT','Chat\x20com\x20ID\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','local_map','closeExistingConversations','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','URL','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','sharePass','processApiRequest','automateSystem','get','_fromMe','/instance/create','lean','\x20ao\x20chat\x20','\x20minutos\x20verificará\x20novas\x20mensagens','CHATS_SET','\x1b[43m','chatModify','promote','CONECTADO\x20À\x20UAZAPI','viewOnceMessage','_remoteJid','[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22','groupParticipantsUpdate','sendList','):\x20Comando\x20desconhecido:\x20','):\x20Buscando\x20todos\x20os\x20fluxos...','getProfileName','dayjs','_p_','#9ab6c1','groupToggleEphemeral','numbers','lastFetchAwaitingApproval','.jwt','scheduleNextCheck','Error\x20occurred\x20while\x20archiving\x20chat:\x20','ignoreGroups','connectionClosed','DOCKER_ENV','lastInteraction','\x20minutos...','/wa-qrcode','boolean','video-cover.png','toArray','\x1b[47m','enviado\x20para','\x20e\x20ID=','\x20não\x20encontrado\x20para\x20cópia','10328941BryPTU','redisEnv','certonly','sendText','TEXT',':\x20IP\x20configurado:\x20','done','updateMissingCustomFields','\x1b[32m%s\x1b[0m','request\x20received\x20in\x20editFlowcondition','Início','imgUrl','eventHandler','Instance\x20deleted','#fe9dfe','debug','reaction','newValue',':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...','):\x20Current\x20Time:\x20','convertToWebP',',\x20data:\x20','Not\x20is\x20business\x20profile'];a0_0x49fc=function(){return _0x4aa2a0;};return a0_0x49fc();}var Lo=Object[a0_0x420d4d(0x44f)],Je=Object[a0_0x420d4d(0x6c5)],Fo=Object['getOwnPropertyDescriptor'],Jo=Object['getOwnPropertyNames'],Uo=Object['getPrototypeOf'],qo=Object['prototype']['hasOwnProperty'],Vo=(_0x2c1463,_0x7e744)=>{for(var _0x3b094c in _0x7e744)Je(_0x2c1463,_0x3b094c,{'get':_0x7e744[_0x3b094c],'enumerable':!0x0});},Js=(_0x479eff,_0x4d5ef0,_0x432eb6,_0x22cc77)=>{const _0x32949b=a0_0x420d4d;if(_0x4d5ef0&&typeof _0x4d5ef0==_0x32949b(0x86d)||typeof _0x4d5ef0==_0x32949b(0x778)){for(let _0x1a1569 of Jo(_0x4d5ef0))!qo['call'](_0x479eff,_0x1a1569)&&_0x1a1569!==_0x432eb6&&Je(_0x479eff,_0x1a1569,{'get':()=>_0x4d5ef0[_0x1a1569],'enumerable':!(_0x22cc77=Fo(_0x4d5ef0,_0x1a1569))||_0x22cc77[_0x32949b(0x87d)]});}return _0x479eff;},O=(_0x3dd2d2,_0xf007ed,_0x45ae94)=>(_0x45ae94=_0x3dd2d2!=null?Lo(Uo(_0x3dd2d2)):{},Js(_0xf007ed||!_0x3dd2d2||!_0x3dd2d2[a0_0x420d4d(0x7d4)]?Je(_0x45ae94,a0_0x420d4d(0x7f3),{'value':_0x3dd2d2,'enumerable':!0x0}):_0x45ae94,_0x3dd2d2)),Go=_0x21af3d=>Js(Je({},'__esModule',{'value':!0x0}),_0x21af3d),ri={};Vo(ri,{'subdomain':()=>Ds}),module[a0_0x420d4d(0x623)]=Go(ri);var Io=O(require(a0_0x420d4d(0x6b8))),qs=require('fs'),Vs=require(a0_0x420d4d(0x828)),Gs=require(a0_0x420d4d(0x3ba)),Ue=require('path'),ne=process[a0_0x420d4d(0x3e3)](),me=(0x0,Ue['join'])(ne,a0_0x420d4d(0x421)),Us=(0x0,Ue[a0_0x420d4d(0x3c9)])(ne,a0_0x420d4d(0x398)),Yi=(0x0,Ue[a0_0x420d4d(0x3c9)])(ne,a0_0x420d4d(0x236),'auth'),ns=class{constructor(){this['loadEnv']();}[a0_0x420d4d(0x71d)](_0x1b4205){const _0x281a11=a0_0x420d4d;return this[_0x281a11(0x3e1)][_0x1b4205];}[a0_0x420d4d(0x7db)](){const _0x3548c5=a0_0x420d4d;this[_0x3548c5(0x3e1)]=process[_0x3548c5(0x3e1)]?.[_0x3548c5(0x73b)]!==_0x3548c5(0x405)?this['envYaml']():this[_0x3548c5(0x632)](),process['env']?.[_0x3548c5(0x73b)]===_0x3548c5(0x405)&&(this[_0x3548c5(0x3e1)][_0x3548c5(0x702)][_0x3548c5(0x25d)]='http',this[_0x3548c5(0x3e1)][_0x3548c5(0x702)][_0x3548c5(0x60f)]=Number[_0x3548c5(0x2bf)](process['env']?.[_0x3548c5(0x5a9)]??_0x3548c5(0x4a7)));}[a0_0x420d4d(0x2d2)](){const _0x5e8b2a=a0_0x420d4d;return(0x0,Vs[_0x5e8b2a(0x769)])((0x0,qs['readFileSync'])((0x0,Gs['join'])(Us,'../env.yml'),{'encoding':_0x5e8b2a(0x502)}));}['envProcess'](){const _0x22b2c6=a0_0x420d4d;return{'SERVER':{'TYPE':process[_0x22b2c6(0x3e1)][_0x22b2c6(0x430)],'PORT':Number[_0x22b2c6(0x2bf)](process[_0x22b2c6(0x3e1)][_0x22b2c6(0x5a9)]),'URL':process[_0x22b2c6(0x3e1)][_0x22b2c6(0x3f7)]},'CORS':{'ORIGIN':process[_0x22b2c6(0x3e1)]['CORS_ORIGIN'][_0x22b2c6(0x65d)](','),'METHODS':process[_0x22b2c6(0x3e1)]['CORS_METHODS'][_0x22b2c6(0x65d)](','),'CREDENTIALS':process[_0x22b2c6(0x3e1)]?.['CORS_CREDENTIALS']===_0x22b2c6(0x405)},'SSL_CONF':{'PRIVKEY':process[_0x22b2c6(0x3e1)]?.[_0x22b2c6(0x38d)],'FULLCHAIN':process[_0x22b2c6(0x3e1)]?.[_0x22b2c6(0x4e5)]},'STORE':{'CLEANING_INTERVAL':Number[_0x22b2c6(0x38b)](process[_0x22b2c6(0x3e1)]?.[_0x22b2c6(0x710)])?Number[_0x22b2c6(0x2bf)](process['env'][_0x22b2c6(0x710)]):void 0x0,'MESSAGES':process[_0x22b2c6(0x3e1)]?.['STORE_MESSAGE']===_0x22b2c6(0x405),'CONTACTS':process[_0x22b2c6(0x3e1)]?.['STORE_CONTACTS']===_0x22b2c6(0x405),'CHATS':process[_0x22b2c6(0x3e1)]?.[_0x22b2c6(0x58f)]==='true'},'DATABASE':{'CONNECTION':{'HOST':process[_0x22b2c6(0x3e1)]?.['DATABASE_CONNECTION_HOST'],'PORT':Number[_0x22b2c6(0x2bf)](process['env']?.[_0x22b2c6(0x863)]),'USER':process[_0x22b2c6(0x3e1)][_0x22b2c6(0x334)],'PASSWORD':process[_0x22b2c6(0x3e1)][_0x22b2c6(0x45d)],'URI':process[_0x22b2c6(0x3e1)]['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process['env']['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process[_0x22b2c6(0x3e1)]?.['DATABASE_ENABLED']===_0x22b2c6(0x405)},'REDIS':{'ENABLED':process['env']?.['REDIS_ENABLED']===_0x22b2c6(0x405),'URI':process['env'][_0x22b2c6(0x4bf)]||_0x22b2c6(0x704),'PREFIX_KEY':process['env'][_0x22b2c6(0x450)]||_0x22b2c6(0x87e)},'LOG':{'LEVEL':process[_0x22b2c6(0x3e1)]?.[_0x22b2c6(0x497)]['split'](','),'COLOR':process['env']?.[_0x22b2c6(0x544)]==='true'},'PROXY':Number[_0x22b2c6(0x2bf)](process['env']?.['PROXY']),'AUTHENTICATION':{'TYPE':process[_0x22b2c6(0x3e1)][_0x22b2c6(0x432)],'API_KEY':{'KEY':process['env'][_0x22b2c6(0x526)]},'JWT':{'EXPIRIN_IN':Number[_0x22b2c6(0x38b)](process[_0x22b2c6(0x3e1)]?.[_0x22b2c6(0x34a)])?Number[_0x22b2c6(0x2bf)](process[_0x22b2c6(0x3e1)][_0x22b2c6(0x34a)]):0xe10,'SECRET':process[_0x22b2c6(0x3e1)][_0x22b2c6(0x76a)]}}};}},b=new ns(),xo=O(require(a0_0x420d4d(0x8c1))),ge=O(require(a0_0x420d4d(0x802))),Ls=require(a0_0x420d4d(0x3ba)),cs=O(require(a0_0x420d4d(0x730))),ls=(_0x551d37=>(_0x551d37[a0_0x420d4d(0x447)]=a0_0x420d4d(0x670),_0x551d37[a0_0x420d4d(0x69a)]=a0_0x420d4d(0x314),_0x551d37['WARN']=a0_0x420d4d(0x1f3),_0x551d37['ERROR']=a0_0x420d4d(0x637),_0x551d37[a0_0x420d4d(0x688)]=a0_0x420d4d(0x805),_0x551d37['VERBOSE']=a0_0x420d4d(0x6e8),_0x551d37['DARK']=a0_0x420d4d(0x201),_0x551d37))(ls||{}),Bs=(_0x101139=>(_0x101139[a0_0x420d4d(0x447)]=a0_0x420d4d(0x74e),_0x101139[a0_0x420d4d(0x539)]=a0_0x420d4d(0x5bd),_0x101139[a0_0x420d4d(0x69a)]='\x1b[34m%s\x1b[0m',_0x101139['WARN']=a0_0x420d4d(0x6d2),_0x101139[a0_0x420d4d(0x7c4)]=a0_0x420d4d(0x6ad),_0x101139[a0_0x420d4d(0x688)]=a0_0x420d4d(0x2b8),_0x101139[a0_0x420d4d(0x7a6)]='\x1b[37m%s\x1b[0m',_0x101139))(Bs||{}),Ws=(_0x3255dd=>(_0x3255dd[a0_0x420d4d(0x447)]=a0_0x420d4d(0x447),_0x3255dd[a0_0x420d4d(0x831)]=a0_0x420d4d(0x831),_0x3255dd[a0_0x420d4d(0x69a)]=a0_0x420d4d(0x69a),_0x3255dd[a0_0x420d4d(0x539)]=a0_0x420d4d(0x539),_0x3255dd[a0_0x420d4d(0x7c4)]=a0_0x420d4d(0x7c4),_0x3255dd[a0_0x420d4d(0x688)]='DEBUG',_0x3255dd[a0_0x420d4d(0x7a6)]=a0_0x420d4d(0x7a6),_0x3255dd))(Ws||{}),zs=(_0x1dc1d4=>(_0x1dc1d4['LOG']=a0_0x420d4d(0x23a),_0x1dc1d4[a0_0x420d4d(0x69a)]=a0_0x420d4d(0x45b),_0x1dc1d4[a0_0x420d4d(0x831)]=a0_0x420d4d(0x724),_0x1dc1d4['DARK']=a0_0x420d4d(0x822),_0x1dc1d4[a0_0x420d4d(0x7c4)]='\x1b[41m',_0x1dc1d4[a0_0x420d4d(0x688)]=a0_0x420d4d(0x8a7),_0x1dc1d4[a0_0x420d4d(0x7a6)]=a0_0x420d4d(0x742),_0x1dc1d4))(zs||{}),R=class{constructor(_0x4dc25b=a0_0x420d4d(0x6eb)){const _0x274249=a0_0x420d4d;this['context']=_0x4dc25b,this[_0x274249(0x538)]=b;}[a0_0x420d4d(0x436)](_0x4eb9d4){const _0x5634cc=a0_0x420d4d;this[_0x5634cc(0x2b6)]=_0x4eb9d4;}[a0_0x420d4d(0x810)](_0x454c6e,_0x453620){const _0x16c46a=a0_0x420d4d;let _0x35f938=[];this['configService'][_0x16c46a(0x71d)](_0x16c46a(0x447))[_0x16c46a(0x3de)][_0x16c46a(0x425)](_0x168628=>_0x35f938[_0x16c46a(0x26a)](Ws[_0x168628]));let _0x2dcadf=typeof _0x454c6e;_0x35f938['includes'](_0x453620)&&(b[_0x16c46a(0x71d)]('LOG')[_0x16c46a(0x705)]?(console[_0x16c46a(0x3a6)]('\x1b[1m'+Bs[_0x453620],_0x16c46a(0x840),(0x0,cs[_0x16c46a(0x7f3)])()[_0x16c46a(0x6a0)]('DD/MM\x20HH:mm:ss'),_0x16c46a(0x7dd),ls[_0x453620]+zs[_0x453620]+_0x16c46a(0x4d1),_0x453620+_0x16c46a(0x48f),'\x1b[33m\x1b[1m',this['context']+_0x16c46a(0x7dd),ls[_0x453620],_0x2dcadf!=='object'?_0x454c6e:'',_0x16c46a(0x7dd)),_0x2dcadf===_0x16c46a(0x86d)&&console[_0x16c46a(0x3a6)](_0x454c6e,'\x0a')):console[_0x16c46a(0x3a6)]((0x0,cs[_0x16c46a(0x7f3)])()[_0x16c46a(0x6a0)]('HH:mm:ss'),_0x453620+'\x20',''+this[_0x16c46a(0x2b6)],_0x454c6e));}[a0_0x420d4d(0x3a6)](_0x45f4c2){const _0x20d9e0=a0_0x420d4d;this[_0x20d9e0(0x810)](_0x45f4c2,_0x20d9e0(0x447));}[a0_0x420d4d(0x536)](_0x4c3864){const _0x96b19e=a0_0x420d4d;this[_0x96b19e(0x810)](_0x4c3864,_0x96b19e(0x69a));}[a0_0x420d4d(0x283)](_0x305585){const _0x35bf30=a0_0x420d4d;this['console'](_0x305585,_0x35bf30(0x831));}[a0_0x420d4d(0x82e)](_0x5cfd38){const _0x170201=a0_0x420d4d;this['console'](_0x5cfd38,_0x170201(0x7c4));}['verbose'](_0x3a38b9){const _0x3aa5f9=a0_0x420d4d;this[_0x3aa5f9(0x810)](_0x3a38b9,_0x3aa5f9(0x7a6));}[a0_0x420d4d(0x755)](_0x4d2cd7){const _0x5ddf60=a0_0x420d4d;this['console'](_0x4d2cd7,_0x5ddf60(0x688));}[a0_0x420d4d(0x59a)](_0x7c0f02){const _0x27b779=a0_0x420d4d;this['console'](_0x7c0f02,_0x27b779(0x539));}};function Hs(){const _0x1ba11f=a0_0x420d4d;process['on']('uncaughtException',(_0x36183f,_0x2cd691)=>{const _0x62b114=a0_0x296e;new R(_0x62b114(0x860))['error']({'origin':_0x2cd691,'stderr':process['stderr']['fd'],'error':_0x36183f});}),process['on'](_0x1ba11f(0x51b),(_0x5b7c53,_0xcc4156)=>{const _0x4f6721=_0x1ba11f;new R('unhandledRejection')[_0x4f6721(0x82e)]({'origin':_0xcc4156,'stderr':process[_0x4f6721(0x5ea)]['fd'],'error':_0x5b7c53});});}var Ks=O(require(a0_0x420d4d(0x6da))),us=new Ks[(a0_0x420d4d(0x7f3))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),we=require('mongoose'),Ee=O(require(a0_0x420d4d(0x251))),qe=new R(a0_0x420d4d(0x6ec)),L=b[a0_0x420d4d(0x71d)](a0_0x420d4d(0x626)),$=L[a0_0x420d4d(0x46a)]?L[a0_0x420d4d(0x7e1)]['URI']?Ee[a0_0x420d4d(0x7f3)][a0_0x420d4d(0x6a1)](L[a0_0x420d4d(0x7e1)][a0_0x420d4d(0x46b)],{'dbName':L[a0_0x420d4d(0x7e1)][a0_0x420d4d(0x4b1)]+'-whatsapp-api'}):Ee[a0_0x420d4d(0x7f3)][a0_0x420d4d(0x6a1)](a0_0x420d4d(0x1c8)+L[a0_0x420d4d(0x7e1)][a0_0x420d4d(0x274)]+':'+L[a0_0x420d4d(0x7e1)]['PORT']+a0_0x420d4d(0x817),{'user':L[a0_0x420d4d(0x7e1)][a0_0x420d4d(0x5e2)],'pass':L[a0_0x420d4d(0x7e1)][a0_0x420d4d(0x514)],'dbName':L[a0_0x420d4d(0x7e1)][a0_0x420d4d(0x4b1)]+a0_0x420d4d(0x5c8)}):null;L[a0_0x420d4d(0x46a)]&&qe[a0_0x420d4d(0x536)](a0_0x420d4d(0x797)+$[a0_0x420d4d(0x569)]);var fe=L['ENABLED']?L[a0_0x420d4d(0x7e1)][a0_0x420d4d(0x46b)]?Ee[a0_0x420d4d(0x7f3)][a0_0x420d4d(0x6a1)](L[a0_0x420d4d(0x7e1)][a0_0x420d4d(0x46b)],{'dbName':a0_0x420d4d(0x7c5)}):Ee[a0_0x420d4d(0x7f3)]['createConnection']('mongodb://'+L[a0_0x420d4d(0x7e1)]['HOST']+':'+L[a0_0x420d4d(0x7e1)]['PORT']+a0_0x420d4d(0x817),{'user':L[a0_0x420d4d(0x7e1)][a0_0x420d4d(0x5e2)],'pass':L['CONNECTION'][a0_0x420d4d(0x514)],'dbName':a0_0x420d4d(0x424)}):null;fe&&qe[a0_0x420d4d(0x536)](a0_0x420d4d(0x797)+fe[a0_0x420d4d(0x569)]),process['on'](a0_0x420d4d(0x667),()=>{const _0x351aab=a0_0x420d4d;$&&$['close'](()=>{const _0x208d0e=a0_0x296e;qe[_0x208d0e(0x536)]('Database\x20connection\x20closed.');}),fe&&fe[_0x351aab(0x453)](()=>{const _0x4872fc=_0x351aab;qe[_0x4872fc(0x536)]('CacheContacts\x20database\x20connection\x20closed.');});});var Bo=new we[(a0_0x420d4d(0x616))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Wo=new we[(a0_0x420d4d(0x616))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),zo=new we[(a0_0x420d4d(0x616))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),Ho=new we[(a0_0x420d4d(0x616))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Bo],'default':[]}},{'_id':!0x1}),Ko=new we[(a0_0x420d4d(0x616))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Ho,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Wo},'groupdata':{'type':zo,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Qs=_0x47c3ec=>{const _0xbe969b=a0_0x420d4d;let _0xa4aeb3='z_'+_0x47c3ec+_0xbe969b(0x851);return $?.[_0xbe969b(0x247)]('ChatModel',Ko,_0xa4aeb3);},Ys=require(a0_0x420d4d(0x251)),Qo=new Ys[(a0_0x420d4d(0x616))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Xs=_0x9df90b=>{const _0x56e027=a0_0x420d4d;let _0x5b53b6='z_'+_0x9df90b+'_Contacts';return $?.[_0x56e027(0x247)](_0x56e027(0x313),Qo,_0x5b53b6);},Zs=require(a0_0x420d4d(0x251)),ds=class{},Yo=new Zs[(a0_0x420d4d(0x616))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ea=fe?.[a0_0x420d4d(0x247)](ds[a0_0x420d4d(0x325)],Yo,a0_0x420d4d(0x340)),ta=require(a0_0x420d4d(0x251)),Xo=new ta[(a0_0x420d4d(0x616))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),sa=_0x1eaaf2=>{const _0x489553=a0_0x420d4d;let _0x3a37dc='z_'+_0x1eaaf2+'_Messages';return $?.[_0x489553(0x247)](_0x489553(0x49d),Xo,_0x3a37dc);},aa=require(a0_0x420d4d(0x251)),ps=class{},Zo=new aa['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),oa=$?.[a0_0x420d4d(0x247)](ps['name'],Zo,a0_0x420d4d(0x88e)),ra=require(a0_0x420d4d(0x251)),hs=class{},ia=new ra['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ia[a0_0x420d4d(0x80e)](a0_0x420d4d(0x4f1),function(_0x5decca){const _0x5b090e=a0_0x420d4d;delete this[_0x5b090e(0x7e2)],delete this[_0x5b090e(0x2f0)],delete this['flowPrefixCommand'],delete this[_0x5b090e(0x799)],delete this['flowStopMinutes'],_0x5decca();});var na=$?.[a0_0x420d4d(0x247)](hs['name'],ia,'webhook'),_=require(a0_0x420d4d(0x251)),gs=require(a0_0x420d4d(0x88a)),Ve=class{},ca=new _[(a0_0x420d4d(0x616))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ms=new _['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),er=new _[(a0_0x420d4d(0x616))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x420d4d(0x813)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x420d4d(0x80a)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':a0_0x420d4d(0x65c)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),la=new _[(a0_0x420d4d(0x616))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),tr=new _[(a0_0x420d4d(0x616))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),sr=new _[(a0_0x420d4d(0x616))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ws=new _[(a0_0x420d4d(0x616))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ar=new _[(a0_0x420d4d(0x616))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),ua=new _[(a0_0x420d4d(0x616))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':er},'apirequest':tr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':ar,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),da=new _[(a0_0x420d4d(0x616))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ys=new _['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,gs['v4'])()},'startID':{'type':String,'default':()=>(0x0,gs['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'global':{'type':String,'default':'false'},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x164d6c=a0_0x420d4d;return _0x164d6c(0x24f)+Math[_0x164d6c(0x7f6)]()[_0x164d6c(0x5d4)](0x24)[_0x164d6c(0x2f7)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ws],'variablesNotFound':{'type':[String]},'blocks':[ua],'groups':[ca],'conditions':[la],'varedits':[da],'replyOptions':{'type':[ms],'default':[]}});ys['pre']('save',function(_0x487fef){const _0x29cd19=a0_0x420d4d;let _0x1aa2d5=new Set(),_0x4dc6c7=new Set(this[_0x29cd19(0x4f3)]?.[_0x29cd19(0x28d)](_0x1e8212=>_0x1e8212['name'])),_0x30e4fb=JSON['stringify'](this),_0xc69ab4=/{{(?!_)([^}]*)}}/g,_0x59592f;for(;(_0x59592f=_0xc69ab4['exec'](_0x30e4fb))!==null;)_0x4dc6c7['has'](_0x59592f[0x1])||_0x1aa2d5[_0x29cd19(0x285)](_0x59592f[0x1]);_0x1aa2d5[_0x29cd19(0x58c)]>0x0?(console[_0x29cd19(0x283)](_0x29cd19(0x369),Array['from'](_0x1aa2d5)),this[_0x29cd19(0x7b4)]=Array[_0x29cd19(0x4ea)](_0x1aa2d5)):this[_0x29cd19(0x7b4)]=[],_0x487fef();}),ys[a0_0x420d4d(0x80e)](a0_0x420d4d(0x827),function(_0x181f47){const _0x10f147=a0_0x420d4d;let _0x5bbf02=this[_0x10f147(0x67c)]();if(_0x5bbf02&&typeof _0x5bbf02==_0x10f147(0x86d)&&_0x10f147(0x3f1)in _0x5bbf02){let _0x18984e=_0x5bbf02[_0x10f147(0x3f1)];if(_0x18984e){let _0x360977=new Set(),_0x1601a1=new Set(_0x18984e[_0x10f147(0x4f3)]?.[_0x10f147(0x28d)](_0x4c092b=>_0x4c092b[_0x10f147(0x325)])),_0x3c54fb=JSON['stringify'](_0x18984e),_0x3caccc=/{{(?!_)([^}]*)}}/g,_0x36939a;for(;(_0x36939a=_0x3caccc[_0x10f147(0x373)](_0x3c54fb))!==null;)_0x1601a1['has'](_0x36939a[0x1])||_0x360977[_0x10f147(0x285)](_0x36939a[0x1]);_0x360977[_0x10f147(0x58c)]>0x0?(console[_0x10f147(0x283)](_0x10f147(0x369),Array[_0x10f147(0x4ea)](_0x360977)),_0x18984e[_0x10f147(0x7b4)]=Array['from'](_0x360977)):_0x18984e['variablesNotFound']=[],this[_0x10f147(0x56e)]({'$set':_0x18984e});}}_0x181f47();});function a0_0x296e(_0x3fe865,_0xcdee6a){const _0x49fc54=a0_0x49fc();return a0_0x296e=function(_0x296e9b,_0x2c061a){_0x296e9b=_0x296e9b-0x1c7;let _0x1cb978=_0x49fc54[_0x296e9b];return _0x1cb978;},a0_0x296e(_0x3fe865,_0xcdee6a);}var pa=_0x4c009f=>{let _0x99e28b='z_'+_0x4c009f+'_Flows';return $?.['model']('FlowModel',ys,_0x99e28b);},or=new _['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ws],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[sr]},{'_id':!0x1}),rr=new _[(a0_0x420d4d(0x616))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ws],'blocks':[ua],'groups':[ca],'conditions':[la],'varedits':[da],'replyOptions':{'type':[ms],'default':[]},'chatLog':or,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x420d4d(0x471)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x420d4d(0x57c)},'waitingMenu_replyOptions':{'type':[ms],'default':[]}}),ha=_0x16aff0=>{const _0x4e8cdf=a0_0x420d4d;let _0x40f399='z_'+_0x16aff0+_0x4e8cdf(0x2b0);return $?.['model'](_0x4e8cdf(0x34d),rr,_0x40f399);},ir=new _[(a0_0x420d4d(0x616))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),nr=new _[(a0_0x420d4d(0x616))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),cr=new _[(a0_0x420d4d(0x616))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x420d4d(0x6ed)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':nr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[ir],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ga=_0x432f0c=>{const _0x3102f0=a0_0x420d4d;let _0x4f9b7d='z_'+_0x432f0c+'_ScheduleMessages';return $?.[_0x3102f0(0x247)](_0x3102f0(0x862),cr,_0x4f9b7d);},fs=class{},lr=new _[(a0_0x420d4d(0x616))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),ur=new _['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),dr=new _[(a0_0x420d4d(0x616))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x420d4d(0x4fd)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),pr=new _[(a0_0x420d4d(0x616))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),hr=new _[(a0_0x420d4d(0x616))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[pr]},'customFields':{'type':[ur]},'flowConfig':{'type':dr,'default':{}},'autoCompleteMessages':{'type':[lr],'default':[]}}),ve=$?.[a0_0x420d4d(0x247)](fs[a0_0x420d4d(0x325)],hr,a0_0x420d4d(0x3e4)),ma=require(a0_0x420d4d(0x251)),gr=new ma[(a0_0x420d4d(0x616))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),fa=_0x46d329=>{const _0x22aa58=a0_0x420d4d;let _0x587060='z_'+_0x46d329+_0x22aa58(0x477);return $?.[_0x22aa58(0x247)](_0x22aa58(0x3b4),gr,_0x587060);},x=class{constructor(_0x3d6584){const _0x353be1=a0_0x420d4d;this[_0x353be1(0x808)]=_0x3d6584[_0x353be1(0x71d)]('DATABASE');}};function T(_0x5ece22){const _0x39a5d5=a0_0x420d4d;let _0x5064b6={};for(let [_0x526c88,_0x554787]of Object[_0x39a5d5(0x205)](_0x5ece22))if(typeof _0x554787==_0x39a5d5(0x86d)&&!Array[_0x39a5d5(0x5bf)](_0x554787)){for(let [_0x531e30,_0x50886d]of Object[_0x39a5d5(0x205)](_0x554787))_0x5064b6[_0x526c88+'.'+_0x531e30]=_0x50886d;}else _0x5064b6[_0x526c88]=_0x554787;return _0x5064b6;}var Ge=class{constructor(_0x57775f,_0x37e3ea,_0x1a5cbc,_0x1656ec,_0x4599e2,_0x18388a,_0x2ab7e1,_0x2be532,_0x4d02f8,_0x3f0866,_0x63a240,_0x762e6c){const _0x4af019=a0_0x420d4d;this[_0x4af019(0x8d5)]=_0x57775f,this['chat']=_0x37e3ea,this['contact']=_0x1a5cbc,this['cacheContact']=_0x1656ec,this[_0x4af019(0x663)]=_0x4599e2,this['auth']=_0x18388a,this[_0x4af019(0x76b)]=_0x2ab7e1,this['flowConversation']=_0x2be532,this[_0x4af019(0x1d7)]=_0x4d02f8,this[_0x4af019(0x7eb)]=_0x3f0866,this[_0x4af019(0x71c)]=_0x63a240,this[_0x4af019(0x3f9)]=_0x762e6c;}get['dbServer'](){return this['dbClient'];}},Be=class{},We=class extends x{[a0_0x420d4d(0x2b2)](_0x2b63f5){return sa(_0x2b63f5);}async[a0_0x420d4d(0x7b3)](_0x164a4b,_0x352f0f){const _0x41b2b9=a0_0x420d4d;if(_0x164a4b[_0x41b2b9(0x297)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x352f0f)[_0x41b2b9(0x1f1)]([..._0x164a4b]))[_0x41b2b9(0x297)]};}catch(_0x213272){return _0x213272;}}async[a0_0x420d4d(0x561)](_0x29bd7c,_0xe789a5){const _0x1a634c=a0_0x420d4d;try{let _0x362a08=this[_0x1a634c(0x2b2)](_0xe789a5),_0x3b3d35=T(_0x29bd7c[_0x1a634c(0x4f7)]);return await _0x362a08[_0x1a634c(0x561)](_0x3b3d35)[_0x1a634c(0x209)]({'messageTimestamp':-0x1})[_0x1a634c(0x5fd)](_0x29bd7c?.[_0x1a634c(0x5fd)]??0x0)[_0x1a634c(0x720)]();}catch{return[];}}async[a0_0x420d4d(0x845)](_0x6255f,_0x54d64b){const _0x5c5e4a=a0_0x420d4d;try{let _0x2c8066=this[_0x5c5e4a(0x2b2)](_0x54d64b),_0x22ef16=T(_0x6255f[_0x5c5e4a(0x4f7)]);await _0x2c8066[_0x5c5e4a(0x42f)](_0x22ef16);}catch(_0x286538){console[_0x5c5e4a(0x82e)](_0x286538);}}async['update'](_0x4dd119,_0x21785b,_0x5080d6){const _0x177c10=a0_0x420d4d;try{let _0x7ca762=this[_0x177c10(0x2b2)](_0x5080d6),_0x58b459=T(_0x4dd119[_0x177c10(0x4f7)]);return await _0x7ca762[_0x177c10(0x827)](_0x58b459,{'$set':_0x21785b},{'new':!0x0});}catch(_0x52289d){throw console[_0x177c10(0x82e)](_0x52289d),_0x52289d;}}async[a0_0x420d4d(0x1f1)](_0x23a42e,_0x184c92){const _0x31d584=a0_0x420d4d;if(_0x23a42e['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x31d584(0x2b2)](_0x184c92)[_0x31d584(0x1f1)]([..._0x23a42e]))[_0x31d584(0x297)]};}catch(_0x2973b8){return console[_0x31d584(0x3a6)](_0x31d584(0x386),_0x2973b8),_0x2973b8;}}async[a0_0x420d4d(0x5a5)](_0xe0419){const _0x10eb69=a0_0x420d4d;try{return await this[_0x10eb69(0x2b2)](_0xe0419)[_0x10eb69(0x5d2)][_0x10eb69(0x357)](),{'success':!0x0};}catch(_0x539b3f){return console[_0x10eb69(0x82e)](_0x539b3f),{'success':!0x1,'error':_0x539b3f};}}},As=O(require(a0_0x420d4d(0x4ef))),f=O(require(a0_0x420d4d(0x61a))),xe=require('fs'),F=O(require(a0_0x420d4d(0x3ba))),K=O(require(a0_0x420d4d(0x879))),Co=require(a0_0x420d4d(0x88a)),Eo=O(require(a0_0x420d4d(0x642))),vo=O(require(a0_0x420d4d(0x42d))),wa=[a0_0x420d4d(0x2d3),a0_0x420d4d(0x4ba),'audioMessage',a0_0x420d4d(0x581),a0_0x420d4d(0x36c)],ya=['ephemeralMessage',a0_0x420d4d(0x40d),a0_0x420d4d(0x728),a0_0x420d4d(0x1d1)],Os=require('os'),kt=O(require(a0_0x420d4d(0x399))),De=require(a0_0x420d4d(0x41f)),jt=require(a0_0x420d4d(0x8a2)),re=O(require(a0_0x420d4d(0x251))),k=require('class-validator'),ye=class{constructor(_0x5843,_0x197046,_0x4ff0f2){const _0x57df6a=a0_0x420d4d;this[_0x57df6a(0x812)]=_0x5843,this['exists']=_0x197046,this[_0x57df6a(0x325)]=_0x4ff0f2;}},ze=class{},He=class{},Ne=class{},Ke=class{},Qe=class{},be=class{},Ye=class{},Xe=class{},Ze=class{},et=class{},It=O(require(a0_0x420d4d(0x802))),ba=require('fs'),Sa=require(a0_0x420d4d(0x3ba));async function Re(_0x1c5c58){const _0x6a043d=a0_0x420d4d;let _0x1e1edb=G[_0x6a043d(0x6a5)][_0x1c5c58];if(L['ENABLED']){let _0x2bf40f=$[_0x6a043d(0x7a3)]()['db'](L[_0x6a043d(0x7e1)][_0x6a043d(0x4b1)]+_0x6a043d(0x2be))[_0x6a043d(0x5d2)](_0x1c5c58);return _0x1e1edb||(await _0x2bf40f[_0x6a043d(0x561)]({})[_0x6a043d(0x741)]())[_0x6a043d(0x297)]>0x0;}return _0x1e1edb||(0x0,ba[_0x6a043d(0x600)])((0x0,Sa[_0x6a043d(0x3c9)])(me,_0x1c5c58));}async function Ma(_0x3415e2,_0x31f8ed,_0x4da383){const _0x5732e2=a0_0x420d4d;if(_0x3415e2[_0x5732e2(0x6bd)][_0x5732e2(0x3a0)](_0x5732e2(0x71f))||_0x3415e2[_0x5732e2(0x6bd)]['includes'](_0x5732e2(0x423))||_0x3415e2[_0x5732e2(0x6bd)][_0x5732e2(0x3a0)](_0x5732e2(0x658))||_0x3415e2[_0x5732e2(0x6bd)]['includes'](_0x5732e2(0x1cd))||_0x3415e2[_0x5732e2(0x6bd)]['includes']('/instance/connect')||_0x3415e2[_0x5732e2(0x6bd)]['includes'](_0x5732e2(0x8d3))||_0x3415e2[_0x5732e2(0x6bd)]['includes'](_0x5732e2(0x68d)))return _0x4da383();let _0x34f548=_0x3415e2[_0x5732e2(0x410)];if(!_0x34f548?.[_0x5732e2(0x83a)])throw new m(_0x5732e2(0x891));if(!await Re(_0x34f548[_0x5732e2(0x83a)]))throw new U(_0x5732e2(0x633)+_0x34f548[_0x5732e2(0x83a)]+'\x20instance\x20does\x20not\x20exist');_0x4da383();}async function Ca(_0x598f38,_0xf35577,_0x3972f1){const _0x331653=a0_0x420d4d;if(_0x598f38[_0x331653(0x6bd)][_0x331653(0x3a0)](_0x331653(0x71f))){let _0x52d897=_0x598f38[_0x331653(0x62e)];if(await Re(_0x52d897[_0x331653(0x83a)]))throw new Q(_0x331653(0x5a4)+_0x52d897[_0x331653(0x83a)]+_0x331653(0x601));G[_0x331653(0x6a5)][_0x52d897[_0x331653(0x83a)]]&&delete G['waInstances'][_0x52d897['instanceName']];}_0x3972f1();}var Ea=require('class-validator'),va=O(require(a0_0x420d4d(0x8cb))),tt='uazapi',fr=new R(a0_0x420d4d(0x612));async function wr(_0x19bdfb,_0x45dd01,_0x2445b6){const _0x53243b=a0_0x420d4d;let _0x291ee3=_0x19bdfb[_0x53243b(0x71d)](_0x53243b(0x6e0));if(_0x291ee3&&b['get']('AUTHENTICATION')['API_KEY'][_0x53243b(0x63c)]!==_0x291ee3)throw new se();if(b[_0x53243b(0x71d)](_0x53243b(0x58a))[_0x53243b(0x3bc)][_0x53243b(0x63c)]===_0x291ee3)return _0x2445b6();if((_0x19bdfb[_0x53243b(0x6bd)]['includes']('/instance/create')||_0x19bdfb[_0x53243b(0x6bd)][_0x53243b(0x3a0)](_0x53243b(0x423)))&&!_0x291ee3)throw new Q('Missing\x20global\x20api\x20key',_0x53243b(0x24b));let _0x2a6786=b[_0x53243b(0x71d)](_0x53243b(0x58a))['JWT'];try{let [_0x471c4a,_0x1b1fad]=_0x19bdfb[_0x53243b(0x71d)]('authorization')[_0x53243b(0x65d)]('\x20');if(_0x471c4a['toLowerCase']()!==_0x53243b(0x26e))throw new se();if(!(0x0,Ea['isJWT'])(_0x1b1fad))throw new se();let _0x102b7b=_0x19bdfb[_0x53243b(0x410)],_0x323316=va[_0x53243b(0x7f3)][_0x53243b(0x8be)](_0x1b1fad,_0x2a6786[_0x53243b(0x354)],{'ignoreExpiration':_0x2a6786['EXPIRIN_IN']===0x0});if(_0x102b7b[_0x53243b(0x83a)]!==_0x323316[_0x53243b(0x83a)]||tt!==_0x323316[_0x53243b(0x5aa)])throw new se();return _0x2445b6();}catch(_0x23b152){throw fr[_0x53243b(0x82e)](_0x23b152),new se();}}async function yr(_0x59e801,_0x70e0a,_0x52ced4){const _0xdcd547=a0_0x420d4d;let _0x37e894=b[_0xdcd547(0x71d)](_0xdcd547(0x58a))[_0xdcd547(0x3bc)],_0x504f65=_0x59e801[_0xdcd547(0x71d)](_0xdcd547(0x6e0));if(_0x37e894['KEY']===_0x504f65)return _0x52ced4();if(_0x59e801[_0xdcd547(0x6bd)][_0xdcd547(0x3a0)](_0xdcd547(0x71f))){let _0x1f3314=st,_0x57cd4a=_0x59e801[_0xdcd547(0x62e)][_0xdcd547(0x83a)];if(_0x1f3314&&_0x57cd4a[_0xdcd547(0x338)]()['startsWith'](_0x1f3314['toLowerCase']()))return _0x52ced4();if(!_0x504f65)throw new Q(_0xdcd547(0x893),_0xdcd547(0x24b));}if(_0x59e801[_0xdcd547(0x6bd)]['includes'](_0xdcd547(0x423))&&!_0x504f65)throw new Q(_0xdcd547(0x893),_0xdcd547(0x24b));if(_0x59e801[_0xdcd547(0x6bd)][_0xdcd547(0x3a0)](_0xdcd547(0x658))&&!_0x504f65)throw new Q(_0xdcd547(0x893),_0xdcd547(0x24b));if(_0x59e801['originalUrl'][_0xdcd547(0x3a0)](_0xdcd547(0x1cd))&&!_0x504f65)throw new Q(_0xdcd547(0x893),_0xdcd547(0x24b));try{let _0x33c60b=_0x59e801[_0xdcd547(0x410)],_0x1227c5=await de['auth'][_0xdcd547(0x561)](_0x33c60b[_0xdcd547(0x83a)]);if(_0x1227c5&&_0x1227c5[_0xdcd547(0x6e0)]===_0x504f65)return _0x52ced4();}catch{}throw new se();}var Na={'jwt':wr,'apikey':yr},ro=require(a0_0x420d4d(0x802)),v=require(a0_0x420d4d(0x88a)),E=(..._0x143391)=>{const _0xd77057=a0_0x420d4d;let _0x3fcab9={};return _0x143391[_0xd77057(0x425)](_0x1f1fb0=>_0x3fcab9[_0x1f1fb0]={'minLength':0x1,'description':_0xd77057(0x475)+_0x1f1fb0+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x143391]}},'then':{'properties':_0x3fcab9}};},N={'$id':(0x0,v['v4'])(),'type':a0_0x420d4d(0x86d),'properties':{'instanceName':{'type':a0_0x420d4d(0x7fb)}},...E('instanceName')},nc={'$id':(0x0,v['v4'])(),'type':a0_0x420d4d(0x86d),'properties':{'oldToken':{'type':a0_0x420d4d(0x7fb)}},'required':[a0_0x420d4d(0x5ae)],...E(a0_0x420d4d(0x5ae))},cc={'properties':{'key':{'type':a0_0x420d4d(0x86d),'properties':{'id':{'type':a0_0x420d4d(0x7fb)},'remoteJid':{'type':a0_0x420d4d(0x7fb)},'fromMe':{'type':a0_0x420d4d(0x73f),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x420d4d(0x461)],...E('id',a0_0x420d4d(0x1f9))},'message':{'type':a0_0x420d4d(0x86d)}}},Y={'properties':{'delay':{'type':a0_0x420d4d(0x55d),'description':a0_0x420d4d(0x878)},'presence':{'type':a0_0x420d4d(0x7fb),'enum':[a0_0x420d4d(0x351),a0_0x420d4d(0x79a),a0_0x420d4d(0x337),a0_0x420d4d(0x79d),a0_0x420d4d(0x8d8)]}}},z={'type':a0_0x420d4d(0x7fb),'description':a0_0x420d4d(0x6e1)},Ra={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'textMessage':{'type':a0_0x420d4d(0x86d),'properties':{'text':{'type':a0_0x420d4d(0x7fb)}},'required':[a0_0x420d4d(0x426)],...E('text')}},'required':[a0_0x420d4d(0x791),a0_0x420d4d(0x5d5)]},$a={'type':a0_0x420d4d(0x7fb),'pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':'Invalid\x20format'},lc={'$id':(0x0,v['v4'])(),'type':a0_0x420d4d(0x86d),'properties':{'number':{...$a},'options':{...Y},'textMessage':{'type':a0_0x420d4d(0x86d),'properties':{'text':{'type':'string'}},'required':[a0_0x420d4d(0x426)],...E(a0_0x420d4d(0x426))}},'required':[a0_0x420d4d(0x791),'number']},uc={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...$a},'options':{...Y},'mediaMessage':{'type':a0_0x420d4d(0x86d),'properties':{'mediatype':{'type':a0_0x420d4d(0x7fb),'enum':[a0_0x420d4d(0x331),a0_0x420d4d(0x8bb),a0_0x420d4d(0x4bb),a0_0x420d4d(0x467)]},'media':{'type':'string'},'fileName':{'type':a0_0x420d4d(0x7fb)},'caption':{'type':a0_0x420d4d(0x7fb)}},'required':[a0_0x420d4d(0x376),a0_0x420d4d(0x496)],...E(a0_0x420d4d(0x2f3),a0_0x420d4d(0x84d),a0_0x420d4d(0x496))}},'required':['mediaMessage','number']},Aa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'stickerMessage':{'type':a0_0x420d4d(0x86d),'properties':{'image':{'type':'string'}},'required':[a0_0x420d4d(0x331)],...E(a0_0x420d4d(0x331))}},'required':[a0_0x420d4d(0x36c),a0_0x420d4d(0x5d5)]},Oa={'$id':(0x0,v['v4'])(),'type':a0_0x420d4d(0x86d),'properties':{'statusMessage':{'type':a0_0x420d4d(0x86d),'properties':{'type':{'type':a0_0x420d4d(0x7fb),'enum':[a0_0x420d4d(0x426),a0_0x420d4d(0x331),a0_0x420d4d(0x467),a0_0x420d4d(0x4bb)]},'content':{'type':a0_0x420d4d(0x7fb)},'caption':{'type':a0_0x420d4d(0x7fb)},'backgroundColor':{'type':a0_0x420d4d(0x7fb)},'font':{'type':'integer','minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x420d4d(0x1ee),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x420d4d(0x7fb),'pattern':a0_0x420d4d(0x6f5),'description':a0_0x420d4d(0x833)}},'allContacts':{'type':a0_0x420d4d(0x73f),'enum':[!0x0,!0x1]}},'required':[a0_0x420d4d(0x4cf),a0_0x420d4d(0x8dc)],...E('type',a0_0x420d4d(0x8dc))}},'required':['statusMessage']},Ta={'$id':(0x0,v['v4'])(),'type':a0_0x420d4d(0x86d),'properties':{'number':{...z},'options':{...Y},'mediaMessage':{'type':a0_0x420d4d(0x86d),'properties':{'mediatype':{'type':'string','enum':[a0_0x420d4d(0x331),'document',a0_0x420d4d(0x4bb),'audio']},'media':{'type':'string'},'fileName':{'type':a0_0x420d4d(0x7fb)},'caption':{'type':a0_0x420d4d(0x7fb)}},'required':['mediatype','media'],...E(a0_0x420d4d(0x2f3),'caption',a0_0x420d4d(0x496))}},'required':[a0_0x420d4d(0x61d),a0_0x420d4d(0x5d5)]},Ia={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'audioMessage':{'type':a0_0x420d4d(0x86d),'properties':{'audio':{'type':a0_0x420d4d(0x7fb)}},'required':[a0_0x420d4d(0x467)],...E(a0_0x420d4d(0x467))}},'required':[a0_0x420d4d(0x7a8),a0_0x420d4d(0x5d5)]},xa={'$id':(0x0,v['v4'])(),'type':a0_0x420d4d(0x86d),'properties':{'number':{...z},'pollMessage':{'type':a0_0x420d4d(0x86d),'properties':{'name':{'type':a0_0x420d4d(0x7fb)},'selectableCount':{'type':'number'},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x420d4d(0x5ab),a0_0x420d4d(0x683)],...E(a0_0x420d4d(0x325),'selectableCount','values')}},'required':[a0_0x420d4d(0x5d5),'pollMessage']},Da={'$id':(0x0,v['v4'])(),'type':a0_0x420d4d(0x86d),'properties':{'number':{...z},'menuMessage':{'type':a0_0x420d4d(0x86d),'properties':{'text':{'type':a0_0x420d4d(0x7fb)},'choices':{'type':a0_0x420d4d(0x1ee),'minItems':0x2,'uniqueItems':!0x0}},'required':['text',a0_0x420d4d(0x362)],...E(a0_0x420d4d(0x426),a0_0x420d4d(0x362))}},'required':['number',a0_0x420d4d(0x4f5)]},_a={'$id':(0x0,v['v4'])(),'type':a0_0x420d4d(0x86d),'properties':{'number':{...z},'options':{...Y},'buttonMessage':{'type':a0_0x420d4d(0x86d),'properties':{'title':{'type':'string'},'description':{'type':'string'},'footerText':{'type':a0_0x420d4d(0x7fb)},'buttons':{'type':a0_0x420d4d(0x1ee),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':a0_0x420d4d(0x7fb)},'buttonId':{'type':a0_0x420d4d(0x7fb)}},'required':[a0_0x420d4d(0x33f),a0_0x420d4d(0x806)],...E(a0_0x420d4d(0x33f),a0_0x420d4d(0x806))}},'mediaMessage':{'type':a0_0x420d4d(0x86d),'properties':{'media':{'type':'string'},'fileName':{'type':a0_0x420d4d(0x7fb)},'mediatype':{'type':'string','enum':[a0_0x420d4d(0x331),a0_0x420d4d(0x8bb),a0_0x420d4d(0x4bb)]}},'required':[a0_0x420d4d(0x496),'mediatype'],...E(a0_0x420d4d(0x496),'fileName')}},'required':[a0_0x420d4d(0x4a2),'buttons'],...E(a0_0x420d4d(0x4a2),a0_0x420d4d(0x871))}},'required':[a0_0x420d4d(0x5d5),a0_0x420d4d(0x416)]},Pa={'$id':(0x0,v['v4'])(),'type':a0_0x420d4d(0x86d),'properties':{'number':{...z},'options':{...Y},'locationMessage':{'type':a0_0x420d4d(0x86d),'properties':{'latitude':{'type':a0_0x420d4d(0x5d5)},'longitude':{'type':'number'},'name':{'type':a0_0x420d4d(0x7fb)},'address':{'type':a0_0x420d4d(0x7fb)}},'required':[a0_0x420d4d(0x473),a0_0x420d4d(0x5e1)],...E('name',a0_0x420d4d(0x70f))}},'required':[a0_0x420d4d(0x5d5),a0_0x420d4d(0x237)]},ka={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'listMessage':{'type':a0_0x420d4d(0x86d),'properties':{'title':{'type':a0_0x420d4d(0x7fb)},'description':{'type':a0_0x420d4d(0x7fb)},'footerText':{'type':'string'},'buttonText':{'type':a0_0x420d4d(0x7fb)},'sections':{'type':a0_0x420d4d(0x1ee),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x420d4d(0x86d),'properties':{'title':{'type':'string'},'rows':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x420d4d(0x86d),'properties':{'title':{'type':'string'},'description':{'type':a0_0x420d4d(0x7fb)},'rowId':{'type':a0_0x420d4d(0x7fb)}},'required':[a0_0x420d4d(0x4a2),'rowId'],...E(a0_0x420d4d(0x4a2),'rowId')}}},'required':[a0_0x420d4d(0x4a2),a0_0x420d4d(0x43f)],...E(a0_0x420d4d(0x4a2))}}},'required':[a0_0x420d4d(0x4a2),'description','buttonText',a0_0x420d4d(0x28f)],...E(a0_0x420d4d(0x4a2),a0_0x420d4d(0x871),a0_0x420d4d(0x33f),'footerText')}},'required':[a0_0x420d4d(0x5d5),'listMessage']},ja={'$id':(0x0,v['v4'])(),'type':a0_0x420d4d(0x86d),'properties':{'number':{...z},'options':{...Y},'contactMessage':{'type':a0_0x420d4d(0x1ee),'items':{'type':'object','properties':{'fullName':{'type':a0_0x420d4d(0x7fb)},'phoneNumber':{'type':a0_0x420d4d(0x7fb),'minLength':0xa}},'required':['fullName',a0_0x420d4d(0x40b)],...E('fullName')},'minItems':0x1,'uniqueItems':!0x0}},'required':['number',a0_0x420d4d(0x428)]},La={'$id':(0x0,v['v4'])(),'type':a0_0x420d4d(0x86d),'properties':{'reactionMessage':{'type':a0_0x420d4d(0x86d),'properties':{'key':{'type':a0_0x420d4d(0x86d),'properties':{'id':{'type':a0_0x420d4d(0x7fb)},'remoteJid':{'type':a0_0x420d4d(0x7fb)},'fromMe':{'type':a0_0x420d4d(0x73f),'enum':[!0x0,!0x1]}},'required':['id',a0_0x420d4d(0x1f9),'fromMe'],...E('id',a0_0x420d4d(0x1f9))},'reaction':{'type':a0_0x420d4d(0x7fb)}},'required':[a0_0x420d4d(0x5a3),'reaction'],...E(a0_0x420d4d(0x756))}},'required':[a0_0x420d4d(0x521)]},Fa={'$id':(0x0,v['v4'])(),'type':a0_0x420d4d(0x86d),'properties':{'numbers':{'type':a0_0x420d4d(0x1ee),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x420d4d(0x6f5),'description':a0_0x420d4d(0x6f9)}}}},Ja={'$id':(0x0,v['v4'])(),'type':a0_0x420d4d(0x86d),'properties':{'readMessages':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x420d4d(0x7fb)},'fromMe':{'type':a0_0x420d4d(0x73f),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x420d4d(0x7fb)}},'required':['id',a0_0x420d4d(0x461),a0_0x420d4d(0x1f9)],...E('id',a0_0x420d4d(0x1f9))}}},'required':[a0_0x420d4d(0x85d)]},Ua={'$id':(0x0,v['v4'])(),'type':a0_0x420d4d(0x86d),'properties':{'privacySettings':{'type':a0_0x420d4d(0x86d),'properties':{'readreceipts':{'type':a0_0x420d4d(0x7fb),'enum':[a0_0x420d4d(0x679),a0_0x420d4d(0x4be)]},'profile':{'type':a0_0x420d4d(0x7fb),'enum':[a0_0x420d4d(0x679),a0_0x420d4d(0x48c),'contact_blacklist',a0_0x420d4d(0x4be)]},'status':{'type':'string','enum':[a0_0x420d4d(0x679),a0_0x420d4d(0x48c),a0_0x420d4d(0x319),a0_0x420d4d(0x4be)]},'online':{'type':a0_0x420d4d(0x7fb),'enum':[a0_0x420d4d(0x679),'match_last_seen']},'last':{'type':'string','enum':[a0_0x420d4d(0x679),'contacts',a0_0x420d4d(0x319),a0_0x420d4d(0x4be)]},'groupadd':{'type':a0_0x420d4d(0x7fb),'enum':['all',a0_0x420d4d(0x48c),a0_0x420d4d(0x319),a0_0x420d4d(0x4be)]}},'required':[a0_0x420d4d(0x7bd),'profile',a0_0x420d4d(0x69e),a0_0x420d4d(0x7e3),a0_0x420d4d(0x26c),a0_0x420d4d(0x382)],...E(a0_0x420d4d(0x7bd),a0_0x420d4d(0x55f),a0_0x420d4d(0x69e),a0_0x420d4d(0x7e3),'last','groupadd')}},'required':['privacySettings']},qa={'$id':(0x0,v['v4'])(),'type':a0_0x420d4d(0x86d),'properties':{'lastMessage':{'type':a0_0x420d4d(0x86d),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x420d4d(0x7fb)},'remoteJid':{'type':a0_0x420d4d(0x7fb)},'fromMe':{'type':a0_0x420d4d(0x73f),'enum':[!0x0,!0x1]}},'required':['id',a0_0x420d4d(0x461),a0_0x420d4d(0x1f9)],...E('id',a0_0x420d4d(0x1f9))},'messageTimestamp':{'type':a0_0x420d4d(0x55d),'minLength':0x1}},'required':[a0_0x420d4d(0x5a3)],...E(a0_0x420d4d(0x2ef))},'archive':{'type':a0_0x420d4d(0x73f),'enum':[!0x0,!0x1]}},'required':[a0_0x420d4d(0x850),a0_0x420d4d(0x89f)]},Va={'$id':(0x0,v['v4'])(),'type':a0_0x420d4d(0x86d),'properties':{'id':{'type':a0_0x420d4d(0x7fb)},'fromMe':{'type':a0_0x420d4d(0x73f),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':'string'}},'required':['id',a0_0x420d4d(0x461),'remoteJid'],...E('id',a0_0x420d4d(0x1f9),'participant')},Ga={'$id':(0x0,v['v4'])(),'type':a0_0x420d4d(0x86d),'properties':{'where':{'type':a0_0x420d4d(0x86d),'properties':{'_id':{'type':a0_0x420d4d(0x7fb),'minLength':0x1},'pushName':{'type':a0_0x420d4d(0x7fb),'minLength':0x1},'id':{'type':a0_0x420d4d(0x7fb),'minLength':0x1}},...E(a0_0x420d4d(0x664),'id',a0_0x420d4d(0x8d4))}}},Ba={'$id':(0x0,v['v4'])(),'type':'object','properties':{'name':{'type':a0_0x420d4d(0x7fb)}},...E(a0_0x420d4d(0x325))},Wa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'status':{'type':a0_0x420d4d(0x7fb)}},...E(a0_0x420d4d(0x69e))},$e={'$id':(0x0,v['v4'])(),'type':a0_0x420d4d(0x86d),'properties':{'number':{'type':a0_0x420d4d(0x7fb)},'picture':{'type':a0_0x420d4d(0x7fb)}}},za={'type':a0_0x420d4d(0x86d),'properties':{'wuid':{'type':a0_0x420d4d(0x7fb)},'name':{'type':a0_0x420d4d(0x7fb)},'picture':{'type':a0_0x420d4d(0x7fb)},'status':{'type':a0_0x420d4d(0x7fb)},'isBusiness':{'type':'boolean'}}},Ha={'$id':(0x0,v['v4'])(),'type':a0_0x420d4d(0x86d),'properties':{'where':{'type':a0_0x420d4d(0x86d),'properties':{'_id':{'type':a0_0x420d4d(0x7fb),'minLength':0x1},'key':{'type':a0_0x420d4d(0x86d),'if':{'propertyNames':{'enum':[a0_0x420d4d(0x461),a0_0x420d4d(0x1f9),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x420d4d(0x7fb),'minLength':0x1,'description':a0_0x420d4d(0x5ad)},'id':{'type':'string','minLength':0x1,'description':a0_0x420d4d(0x5ad)},'fromMe':{'type':a0_0x420d4d(0x73f),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x420d4d(0x86d)}},...E(a0_0x420d4d(0x664))},'limit':{'type':a0_0x420d4d(0x55d)}}},dc={'$id':(0x0,v['v4'])(),'type':a0_0x420d4d(0x86d),'properties':{'where':{'type':'object','properties':{'_id':{'type':'string'},'remoteJid':{'type':a0_0x420d4d(0x7fb)},'id':{'type':a0_0x420d4d(0x7fb)},'fromMe':{'type':a0_0x420d4d(0x73f),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x420d4d(0x7fb)},'status':{'type':'string','enum':[a0_0x420d4d(0x7c4),a0_0x420d4d(0x2e5),a0_0x420d4d(0x204),'DELIVERY_ACK',a0_0x420d4d(0x7dc),a0_0x420d4d(0x522)]}},...E(a0_0x420d4d(0x664),a0_0x420d4d(0x1f9),'id',a0_0x420d4d(0x69e))},'limit':{'type':a0_0x420d4d(0x55d)}}},Ka={'$id':(0x0,v['v4'])(),'type':a0_0x420d4d(0x86d),'properties':{'number':{...z},'presence':{'type':'string','enum':[a0_0x420d4d(0x351),a0_0x420d4d(0x79a),a0_0x420d4d(0x337),a0_0x420d4d(0x79d),a0_0x420d4d(0x8d8)]}},'required':[a0_0x420d4d(0x29a),a0_0x420d4d(0x5d5)]},Qa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'subject':{'type':a0_0x420d4d(0x7fb)},'description':{'type':a0_0x420d4d(0x7fb)},'profilePicture':{'type':'string'},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x420d4d(0x7fb),'minLength':0xa,'pattern':a0_0x420d4d(0x2ec),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x420d4d(0x2fa),a0_0x420d4d(0x8ad)],...E(a0_0x420d4d(0x2fa),a0_0x420d4d(0x871),'profilePicture')},Ae={'$id':(0x0,v['v4'])(),'type':a0_0x420d4d(0x86d),'properties':{'groupJid':{'type':a0_0x420d4d(0x7fb),'pattern':a0_0x420d4d(0x832)}},'required':['groupJid'],...E('groupJid')},Ya={'$id':(0x0,v['v4'])(),'type':a0_0x420d4d(0x86d),'properties':{'groupJid':{'type':a0_0x420d4d(0x7fb)},'action':{'type':a0_0x420d4d(0x7fb),'enum':[a0_0x420d4d(0x285),a0_0x420d4d(0x5c9),a0_0x420d4d(0x726),a0_0x420d4d(0x222),'reject',a0_0x420d4d(0x8cd)]},'participants':{'type':a0_0x420d4d(0x1ee),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x420d4d(0x7fb),'minLength':0xa,'pattern':a0_0x420d4d(0x2ec),'description':a0_0x420d4d(0x368)}}},'required':[a0_0x420d4d(0x41a),'action',a0_0x420d4d(0x8ad)],...E(a0_0x420d4d(0x41a),a0_0x420d4d(0x24a))},Xa={'$id':(0x0,v['v4'])(),'type':a0_0x420d4d(0x86d),'properties':{'groupJid':{'type':'string'},'expiration':{'type':a0_0x420d4d(0x5d5),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid',a0_0x420d4d(0x7e7)],...E(a0_0x420d4d(0x41a),a0_0x420d4d(0x7e7))},Za={'$id':(0x0,v['v4'])(),'type':a0_0x420d4d(0x86d),'properties':{'groupJid':{'type':'string'},'image':{'type':'string'}},'required':[a0_0x420d4d(0x41a),a0_0x420d4d(0x331)],...E('groupJid',a0_0x420d4d(0x331))},eo={'$id':(0x0,v['v4'])(),'type':a0_0x420d4d(0x86d),'properties':{'groupJid':{'type':'string'},'description':{'type':a0_0x420d4d(0x7fb)}},'required':[a0_0x420d4d(0x41a),'description'],...E(a0_0x420d4d(0x41a),a0_0x420d4d(0x871))},to={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x420d4d(0x7fb)},'name':{'type':a0_0x420d4d(0x7fb)}},'required':[a0_0x420d4d(0x41a),a0_0x420d4d(0x325)],...E(a0_0x420d4d(0x41a),a0_0x420d4d(0x325))},so={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x420d4d(0x7fb)},'setting':{'type':a0_0x420d4d(0x7fb),'enum':['announcement',a0_0x420d4d(0x321),'unlocked',a0_0x420d4d(0x2b4)]}},'required':['groupJid',a0_0x420d4d(0x5f6)],...E('groupJid',a0_0x420d4d(0x5f6))},ao={'$id':(0x0,v['v4'])(),'type':a0_0x420d4d(0x86d),'properties':{'groupJid':{'type':a0_0x420d4d(0x7fb)},'restrict':{'type':'boolean'},'announce':{'type':'boolean'},'memberAddMode':{'type':a0_0x420d4d(0x73f)},'joinApprovalMode':{'type':a0_0x420d4d(0x73f)},'expiration':{'type':a0_0x420d4d(0x55d),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x420d4d(0x7fb)},'description':{'type':a0_0x420d4d(0x7fb)},'image':{'type':a0_0x420d4d(0x7fb)}}},bs={'$id':(0x0,v['v4'])(),'type':a0_0x420d4d(0x86d),'properties':{'inviteCode':{'type':a0_0x420d4d(0x7fb)}},'required':[a0_0x420d4d(0x304)],...E(a0_0x420d4d(0x304))},oo={'$id':(0x0,v['v4'])(),'type':a0_0x420d4d(0x86d),'properties':{'url':{'type':a0_0x420d4d(0x7fb)},'enabled':{'type':a0_0x420d4d(0x73f),'enum':[!0x0,!0x1]}},'required':[a0_0x420d4d(0x5cd),a0_0x420d4d(0x87c)]},pc={'$id':(0x0,v['v4'])(),'type':a0_0x420d4d(0x86d),'properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':'boolean','enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x420d4d(0x73f),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x420d4d(0x73f),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x420d4d(0x73f),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x420d4d(0x73f),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x420d4d(0x73f),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x420d4d(0x73f),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x420d4d(0x73f),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x420d4d(0x73f),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x420d4d(0x73f),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x420d4d(0x73f),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x420d4d(0x73f),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x420d4d(0x73f),'enum':[!0x0,!0x1]}},'required':['local_map',a0_0x420d4d(0x41d),a0_0x420d4d(0x25f),'MESSAGES_SET','MESSAGES_UPDATE',a0_0x420d4d(0x3e8),a0_0x420d4d(0x656),'CONTACTS_SET','CONTACTS_UPSERT',a0_0x420d4d(0x3bf),a0_0x420d4d(0x583),a0_0x420d4d(0x723),a0_0x420d4d(0x391),'CHATS_UPDATE','CHATS_DELETE',a0_0x420d4d(0x56f),a0_0x420d4d(0x2de),a0_0x420d4d(0x286),a0_0x420d4d(0x4c0)],...E('local_map',a0_0x420d4d(0x41d),a0_0x420d4d(0x25f),a0_0x420d4d(0x1d2),a0_0x420d4d(0x77a),'MESSAGES_UPSERT','SEND_MESSAGE','CONTACTS_SET',a0_0x420d4d(0x712),a0_0x420d4d(0x3bf),a0_0x420d4d(0x583),'CHATS_SET',a0_0x420d4d(0x391),'CHATS_UPDATE',a0_0x420d4d(0x353),a0_0x420d4d(0x56f),a0_0x420d4d(0x2de),a0_0x420d4d(0x286),'GROUP_PARTICIPANTS_UPDATE')},at=class{},ot=class extends x{['getContactModelForOwner'](_0xbc6dd3){return Xs(_0xbc6dd3);}async[a0_0x420d4d(0x7b3)](_0x5801a1){const _0x50d216=a0_0x420d4d;if(_0x5801a1[_0x50d216(0x297)]!==0x0)try{return{'insertCount':(await this[_0x50d216(0x83f)](_0x5801a1[0x0][_0x50d216(0x89c)])[_0x50d216(0x1f1)]([..._0x5801a1]))[_0x50d216(0x297)]};}catch(_0x560130){return _0x560130;}}async[a0_0x420d4d(0x845)](_0x3a27bc,_0x54ce20){const _0x57a5d2=a0_0x420d4d;try{return{'deletedCount':(await this['getContactModelForOwner'](_0x54ce20)[_0x57a5d2(0x42f)]({..._0x3a27bc['where']}))[_0x57a5d2(0x6a7)]};}catch(_0x53af12){return{'error':_0x53af12?.['toString']()};}}async[a0_0x420d4d(0x318)](_0x1911f8,_0x1b419e){const _0x7eb7a7=a0_0x420d4d;try{if(_0x1911f8[_0x7eb7a7(0x297)]===0x0)return;let _0xec502e=this[_0x7eb7a7(0x83f)](_0x1b419e),_0x170f75=_0x1911f8[_0x7eb7a7(0x28d)](_0x1e0a0c=>({'updateOne':{'filter':{'_id':_0x1e0a0c[_0x7eb7a7(0x664)],'owner':_0x1b419e},'update':{..._0x1e0a0c}}})),{modifiedCount:_0x19462f}=await _0xec502e[_0x7eb7a7(0x2d4)](_0x170f75);return{'insertCount':_0x19462f};}catch{return;}}async[a0_0x420d4d(0x561)](_0x2c8836,_0x2d6945){const _0x3b076b=a0_0x420d4d;try{let _0x211520=this[_0x3b076b(0x83f)](_0x2d6945),_0x144a6b=T(_0x2c8836[_0x3b076b(0x4f7)]);return await _0x211520[_0x3b076b(0x561)](_0x144a6b)['limit'](_0x2c8836?.[_0x3b076b(0x5fd)]??0x0)[_0x3b076b(0x720)]();}catch{return[];}}async['findOne'](_0x1e12e3,_0x45179f){const _0x429079=a0_0x420d4d;try{let _0x54739a=this['getContactModelForOwner'](_0x45179f),_0x1abf6d=T(_0x1e12e3['where']);return await _0x54739a[_0x429079(0x868)](_0x1abf6d)[_0x429079(0x720)]();}catch{return null;}}async[a0_0x420d4d(0x5a5)](_0x134825){const _0x444f19=a0_0x420d4d;try{return await this['getContactModelForOwner'](_0x134825)['collection'][_0x444f19(0x357)](),{'success':!0x0};}catch(_0x3def2c){return console[_0x444f19(0x82e)](_0x3def2c),{'success':!0x1,'error':_0x3def2c};}}},rt=require(a0_0x420d4d(0x547)),Mc=require('express-async-errors'),Ss=new R(a0_0x420d4d(0x2fb)),V=class{[a0_0x420d4d(0x457)](_0x45f2d8,_0x15653e=!0x0){const _0x3e5cc6=a0_0x420d4d;let _0x8f8084='/'+_0x45f2d8;return _0x15653e&&(_0x8f8084+=_0x3e5cc6(0x6dc)),_0x8f8084;}async[a0_0x420d4d(0x654)](_0x154e97){const _0x5c652d=a0_0x420d4d;let {request:_0x5f3847,schema:_0x16f9fc,ClassRef:_0x4215dd,execute:_0x30feed}=_0x154e97,_0x1d2192=new _0x4215dd(),_0x5bf30b=_0x5f3847['body'],_0x1bb8ff=_0x5f3847[_0x5c652d(0x410)];_0x5f3847?.[_0x5c652d(0x565)]&&Object['keys'](_0x5f3847[_0x5c652d(0x565)])[_0x5c652d(0x297)]>0x0&&Object[_0x5c652d(0x65f)](_0x1bb8ff,_0x5f3847[_0x5c652d(0x565)]),_0x5f3847[_0x5c652d(0x6bd)][_0x5c652d(0x3a0)](_0x5c652d(0x71f))&&Object[_0x5c652d(0x65f)](_0x1bb8ff,_0x5bf30b),Object['assign'](_0x1d2192,_0x5bf30b);let _0x5a58fd=_0x16f9fc?(0x0,rt[_0x5c652d(0x87a)])(_0x1d2192,_0x16f9fc):{'valid':!0x0,'errors':[]};if(!_0x5a58fd[_0x5c652d(0x2c7)]){let _0x569759=_0x5a58fd[_0x5c652d(0x5e6)][_0x5c652d(0x28d)](({property:_0x5d1ee4,stack:_0x3271b7,schema:_0x8a5098})=>{const _0x452d19=_0x5c652d;let _0x23bf05;return _0x8a5098[_0x452d19(0x871)]?_0x23bf05=_0x8a5098[_0x452d19(0x871)]:_0x23bf05=_0x3271b7['replace'](_0x452d19(0x75e),''),{'property':_0x5d1ee4[_0x452d19(0x576)](_0x452d19(0x75e),''),'message':_0x23bf05};});throw Ss[_0x5c652d(0x82e)]([..._0x569759]),new m(..._0x569759);}return await _0x30feed(_0x1bb8ff,_0x1d2192);}async['groupValidate'](_0x237df1){const _0x31ba10=a0_0x420d4d;let {request:_0x23f5fe,ClassRef:_0x2278f2,schema:_0x489c4f,execute:_0x3d0468}=_0x237df1,_0x2e0076=_0x23f5fe['query'];if(!_0x2e0076?.[_0x31ba10(0x41a)])throw new m(_0x31ba10(0x6fb),'ex:\x20\x22groupJid=120362@g.us\x22');let _0x284f62=_0x23f5fe['params'],_0x5ac787=_0x23f5fe[_0x31ba10(0x62e)],_0x526718=new _0x2278f2();Object[_0x31ba10(0x65f)](_0x5ac787,_0x2e0076),Object[_0x31ba10(0x65f)](_0x526718,_0x5ac787);let _0x4e4875=(0x0,rt[_0x31ba10(0x87a)])(_0x526718,_0x489c4f);if(!_0x4e4875[_0x31ba10(0x2c7)]){let _0x13462d=_0x4e4875[_0x31ba10(0x5e6)][_0x31ba10(0x28d)](({property:_0x1a72a6,stack:_0x1c9434,schema:_0x58decd})=>{const _0x55fa1e=_0x31ba10;let _0x3fc632;return _0x58decd['description']?_0x3fc632=_0x58decd[_0x55fa1e(0x871)]:_0x3fc632=_0x1c9434[_0x55fa1e(0x576)](_0x55fa1e(0x75e),''),{'property':_0x1a72a6['replace'](_0x55fa1e(0x75e),''),'message':_0x3fc632};});throw Ss[_0x31ba10(0x82e)]([..._0x13462d]),new m(..._0x13462d);}return await _0x3d0468(_0x284f62,_0x526718);}async[a0_0x420d4d(0x37f)](_0x5ef46e){const _0x1acb27=a0_0x420d4d;let {request:_0x50ed58,ClassRef:_0x5261ea,schema:_0x4ee37d,execute:_0xfdfc5f}=_0x5ef46e,_0x4cac8a=_0x50ed58[_0x1acb27(0x62e)];if(!_0x4cac8a?.[_0x1acb27(0x304)])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22');let _0x27cb25=_0x50ed58['params'],_0x57bef0=_0x50ed58[_0x1acb27(0x62e)],_0x1e38d5=new _0x5261ea();Object[_0x1acb27(0x65f)](_0x57bef0,_0x4cac8a),Object[_0x1acb27(0x65f)](_0x1e38d5,_0x57bef0);let _0x3e1dcb=(0x0,rt[_0x1acb27(0x87a)])(_0x1e38d5,_0x4ee37d);if(!_0x3e1dcb[_0x1acb27(0x2c7)]){let _0x2daa84=_0x3e1dcb[_0x1acb27(0x5e6)][_0x1acb27(0x28d)](({property:_0x41d723,stack:_0x3ff80f,schema:_0x4d9ba9})=>{const _0x4f6efd=_0x1acb27;let _0x399c65;return _0x4d9ba9['description']?_0x399c65=_0x4d9ba9['description']:_0x399c65=_0x3ff80f[_0x4f6efd(0x576)](_0x4f6efd(0x75e),''),{'property':_0x41d723[_0x4f6efd(0x576)](_0x4f6efd(0x75e),''),'message':_0x399c65};});throw Ss[_0x1acb27(0x82e)]([..._0x2daa84]),new m(..._0x2daa84);}return await _0xfdfc5f(_0x27cb25,_0x1e38d5);}},C=class{},kc=new R(a0_0x420d4d(0x482)),it=class extends V{constructor(..._0x4adf7a){const _0x428659=a0_0x420d4d;super(),this[_0x428659(0x303)]=(0x0,ro['Router'])(),this[_0x428659(0x303)][_0x428659(0x78e)](this[_0x428659(0x457)](_0x428659(0x79e)),..._0x4adf7a,async(_0x31e213,_0x1ee50d)=>{const _0x16b5f0=_0x428659;let _0x192b76=await this['dataValidate']({'request':_0x31e213,'schema':Ka,'ClassRef':ze,'execute':(_0xfc2eab,_0x5a5144)=>P[_0x16b5f0(0x79e)](_0xfc2eab,_0x5a5144)});return _0x1ee50d[_0x16b5f0(0x69e)](0xc9)[_0x16b5f0(0x483)](_0x192b76);})[_0x428659(0x78e)](this[_0x428659(0x457)](_0x428659(0x7cf)),..._0x4adf7a,async(_0x2d4734,_0x33cb32)=>{const _0x2a20c7=_0x428659;let _0x10e84e=await this[_0x2a20c7(0x654)]({'request':_0x2d4734,'schema':Fa,'ClassRef':He,'execute':(_0xfaa66c,_0x4348a7)=>P[_0x2a20c7(0x674)](_0xfaa66c,_0x4348a7)});return _0x33cb32[_0x2a20c7(0x69e)](0xc9)[_0x2a20c7(0x483)](_0x10e84e);})[_0x428659(0x78e)](this['routerPath']('editChat'),..._0x4adf7a,async(_0x2191b7,_0x1cc0da)=>{const _0x1003af=_0x428659;let _0x2d3253=await this[_0x1003af(0x654)]({'request':_0x2191b7,'schema':N,'ClassRef':C,'execute':(_0x4d0b92,_0xf6510c)=>P[_0x1003af(0x352)](_0x4d0b92,_0xf6510c)});return _0x1cc0da[_0x1003af(0x69e)](0xc9)[_0x1003af(0x483)](_0x2d3253);})[_0x428659(0x418)](this['routerPath'](_0x428659(0x567)),..._0x4adf7a,async(_0x5e562d,_0x4a818f)=>{const _0x86abb9=_0x428659;let _0x37aedd=await this[_0x86abb9(0x654)]({'request':_0x5e562d,'schema':Ja,'ClassRef':Ye,'execute':(_0x19d7cf,_0x4a370b)=>P[_0x86abb9(0x1c7)](_0x19d7cf,_0x4a370b)});return _0x4a818f['status'](0xc9)[_0x86abb9(0x483)](_0x37aedd);})[_0x428659(0x418)](this[_0x428659(0x457)](_0x428659(0x407)),..._0x4adf7a,async(_0x59826d,_0x229960)=>{const _0x26caa1=_0x428659;let _0x50e474=await this[_0x26caa1(0x654)]({'request':_0x59826d,'schema':qa,'ClassRef':Xe,'execute':(_0x1a601d,_0x5c1e0b)=>P[_0x26caa1(0x407)](_0x1a601d,_0x5c1e0b)});return _0x229960[_0x26caa1(0x69e)](0xc9)[_0x26caa1(0x483)](_0x50e474);})[_0x428659(0x845)](this[_0x428659(0x457)](_0x428659(0x253)),..._0x4adf7a,async(_0x3f0dd3,_0xcb6c36)=>{const _0x563454=_0x428659;let _0x406297=await this[_0x563454(0x654)]({'request':_0x3f0dd3,'schema':Va,'ClassRef':et,'execute':(_0x5e1f02,_0x1d70fd)=>P[_0x563454(0x333)](_0x5e1f02,_0x1d70fd)});return _0xcb6c36[_0x563454(0x69e)](0xc9)['json'](_0x406297);})[_0x428659(0x78e)](this[_0x428659(0x457)]('fetchProfilePictureUrl'),..._0x4adf7a,async(_0xe2363e,_0x42f87c)=>{const _0x1dd726=_0x428659;let _0x2f11f1=await this[_0x1dd726(0x654)]({'request':_0xe2363e,'schema':$e,'ClassRef':Ne,'execute':(_0x221fef,_0x3b4fa2)=>P[_0x1dd726(0x4aa)](_0x221fef,_0x3b4fa2)});return _0x42f87c[_0x1dd726(0x69e)](0xc8)[_0x1dd726(0x483)](_0x2f11f1);})[_0x428659(0x78e)](this['routerPath']('fetchProfile'),..._0x4adf7a,async(_0x2a8caf,_0x18c90a)=>{const _0x2a8d9a=_0x428659;let _0x484ffb=await this[_0x2a8d9a(0x654)]({'request':_0x2a8caf,'schema':za,'ClassRef':Ne,'execute':(_0x15d3af,_0x92555c)=>P[_0x2a8d9a(0x836)](_0x15d3af,_0x92555c)});return _0x18c90a[_0x2a8d9a(0x69e)](0xc8)[_0x2a8d9a(0x483)](_0x484ffb);})[_0x428659(0x78e)](this['routerPath'](_0x428659(0x64c)),..._0x4adf7a,async(_0x5e3d70,_0x25add2)=>{const _0xebe44=_0x428659;let _0x1642a7=await this[_0xebe44(0x654)]({'request':_0x5e3d70,'schema':Ga,'ClassRef':at,'execute':(_0x5c5018,_0x296dbf)=>P[_0xebe44(0x5e7)](_0x5c5018,_0x296dbf)});return _0x25add2['status'](0xc8)['json'](_0x1642a7);})[_0x428659(0x78e)](this['routerPath'](_0x428659(0x6f8)),..._0x4adf7a,async(_0x52414,_0x265892)=>{const _0x19dfb4=_0x428659;let _0x1059ad=await this[_0x19dfb4(0x654)]({'request':_0x52414,'schema':null,'ClassRef':Object,'execute':(_0x49905a,_0xaa5287)=>P[_0x19dfb4(0x6f8)](_0x49905a,_0xaa5287)});return _0x265892['status'](0xc9)['json'](_0x1059ad);})[_0x428659(0x78e)](this[_0x428659(0x457)](_0x428659(0x380)),..._0x4adf7a,async(_0x5ea06d,_0x335d50)=>{const _0x4ea8f1=_0x428659;let _0x931afd=await this[_0x4ea8f1(0x654)]({'request':_0x5ea06d,'schema':Ha,'ClassRef':Be,'execute':(_0x2bcd11,_0x3fcc87)=>P[_0x4ea8f1(0x2e9)](_0x2bcd11,_0x3fcc87)});return _0x335d50['status'](0xc8)[_0x4ea8f1(0x483)](_0x931afd);})['get'](this[_0x428659(0x457)](_0x428659(0x6b2)),..._0x4adf7a,async(_0x367859,_0x32116b)=>{const _0x457b54=_0x428659;let _0x5adabe=await this[_0x457b54(0x654)]({'request':_0x367859,'schema':null,'ClassRef':C,'execute':_0x4b8c8e=>P['fetchChats'](_0x4b8c8e)});return _0x32116b[_0x457b54(0x69e)](0xc8)['json'](_0x5adabe);})[_0x428659(0x71d)](this[_0x428659(0x457)](_0x428659(0x613)),..._0x4adf7a,async(_0x43d6ad,_0x204b2e)=>{const _0x26f933=_0x428659;let _0x2de2d5=await this[_0x26f933(0x654)]({'request':_0x43d6ad,'schema':null,'ClassRef':C,'execute':_0x65453b=>P[_0x26f933(0x4cb)](_0x65453b)});return _0x204b2e[_0x26f933(0x69e)](0xc8)['json'](_0x2de2d5);})[_0x428659(0x418)](this[_0x428659(0x457)]('importChats'),..._0x4adf7a,async(_0x4aaed1,_0x1d58aa)=>{const _0x3b8340=_0x428659;let _0xa6657=await this[_0x3b8340(0x654)]({'request':_0x4aaed1,'schema':null,'ClassRef':Array,'execute':(_0x45b99a,_0x79d08)=>P['importChats'](_0x45b99a,_0x79d08)});return _0x1d58aa[_0x3b8340(0x69e)](0xc8)[_0x3b8340(0x483)](_0xa6657);})[_0x428659(0x71d)](this[_0x428659(0x457)]('fetchPrivacySettings'),..._0x4adf7a,async(_0x5eceea,_0x53425d)=>{const _0x576d40=_0x428659;let _0x45656d=await this[_0x576d40(0x654)]({'request':_0x5eceea,'schema':null,'ClassRef':C,'execute':_0x2dc32c=>P[_0x576d40(0x49a)](_0x2dc32c)});return _0x53425d[_0x576d40(0x69e)](0xc8)['json'](_0x45656d);})['put'](this[_0x428659(0x457)](_0x428659(0x290)),..._0x4adf7a,async(_0x858337,_0x238b0a)=>{const _0x41b036=_0x428659;let _0x3549e7=await this[_0x41b036(0x654)]({'request':_0x858337,'schema':Ua,'ClassRef':Ze,'execute':(_0x3af6c8,_0x31234f)=>P[_0x41b036(0x290)](_0x3af6c8,_0x31234f)});return _0x238b0a[_0x41b036(0x69e)](0xc9)[_0x41b036(0x483)](_0x3549e7);})[_0x428659(0x78e)](this[_0x428659(0x457)](_0x428659(0x6d6)),..._0x4adf7a,async(_0x39718c,_0x5d922a)=>{const _0x406850=_0x428659;let _0x1d5bb7=await this[_0x406850(0x654)]({'request':_0x39718c,'schema':$e,'ClassRef':be,'execute':(_0x5439dc,_0x62edcf)=>P[_0x406850(0x6d6)](_0x5439dc,_0x62edcf)});return _0x5d922a[_0x406850(0x69e)](0xc8)[_0x406850(0x483)](_0x1d5bb7);})[_0x428659(0x78e)](this[_0x428659(0x457)](_0x428659(0x7f7)),..._0x4adf7a,async(_0x1303d2,_0x55c0e6)=>{const _0x1acd7e=_0x428659;let _0x541590=await this[_0x1acd7e(0x654)]({'request':_0x1303d2,'schema':Ba,'ClassRef':Ke,'execute':(_0x1f7038,_0x36401a)=>P[_0x1acd7e(0x7f7)](_0x1f7038,_0x36401a)});return _0x55c0e6['status'](0xc8)[_0x1acd7e(0x483)](_0x541590);})[_0x428659(0x78e)](this[_0x428659(0x457)](_0x428659(0x5e3)),..._0x4adf7a,async(_0x33184d,_0x43abcf)=>{const _0x4d0872=_0x428659;let _0x293a0e=await this[_0x4d0872(0x654)]({'request':_0x33184d,'schema':Wa,'ClassRef':Qe,'execute':(_0x385030,_0x289f57)=>P[_0x4d0872(0x5e3)](_0x385030,_0x289f57)});return _0x43abcf[_0x4d0872(0x69e)](0xc8)['json'](_0x293a0e);})[_0x428659(0x418)](this[_0x428659(0x457)](_0x428659(0x7df)),..._0x4adf7a,async(_0x13e22e,_0x136d05)=>{const _0x3b6935=_0x428659;let _0x15c39d=await this['dataValidate']({'request':_0x13e22e,'schema':$e,'ClassRef':be,'execute':(_0x5ceba3,_0x5b7426)=>P[_0x3b6935(0x7df)](_0x5ceba3,_0x5b7426)});return _0x136d05[_0x3b6935(0x69e)](0xc8)[_0x3b6935(0x483)](_0x15c39d);})[_0x428659(0x845)](this[_0x428659(0x457)]('removeProfilePicture'),..._0x4adf7a,async(_0x41ce52,_0x333585)=>{const _0x404518=_0x428659;let _0x1ef35e=await this[_0x404518(0x654)]({'request':_0x41ce52,'schema':$e,'ClassRef':be,'execute':(_0x962bf5,_0x5a8652)=>P[_0x404518(0x454)](_0x962bf5,_0x5a8652)});return _0x333585[_0x404518(0x69e)](0xc8)[_0x404518(0x483)](_0x1ef35e);});}},io=require(a0_0x420d4d(0x802)),nt=class{},ct=class{},lt=class{},ut=class{},dt=class{},pt=class{},X=class{},Oe=class{},ht=class extends X{},gt=class extends X{},mt=class extends V{constructor(..._0x249794){const _0x15311b=a0_0x420d4d;super(),this[_0x15311b(0x303)]=(0x0,io[_0x15311b(0x593)])(),this[_0x15311b(0x303)][_0x15311b(0x78e)](this['routerPath'](_0x15311b(0x44f)),..._0x249794,async(_0x5b077c,_0x27bf43)=>{const _0x3f7b3e=_0x15311b;let _0x3a1750=await this['dataValidate']({'request':_0x5b077c,'schema':Qa,'ClassRef':nt,'execute':(_0x49dce0,_0x51fc75)=>q['createGroup'](_0x49dce0,_0x51fc75)});_0x27bf43[_0x3f7b3e(0x69e)](0xc9)[_0x3f7b3e(0x483)](_0x3a1750);})[_0x15311b(0x418)](this['routerPath']('updateGroupPicture'),..._0x249794,async(_0x4dd939,_0x314bab)=>{const _0x41ac7f=_0x15311b;let _0xf9c2e=await this[_0x41ac7f(0x559)]({'request':_0x4dd939,'schema':Za,'ClassRef':ct,'execute':(_0x5b959b,_0x45d3f4)=>q[_0x41ac7f(0x768)](_0x5b959b,_0x45d3f4)});_0x314bab[_0x41ac7f(0x69e)](0xc9)[_0x41ac7f(0x483)](_0xf9c2e);})[_0x15311b(0x418)](this[_0x15311b(0x457)]('groupDesc'),..._0x249794,async(_0x1caf99,_0x51ebc2)=>{const _0x171ac2=_0x15311b;let _0x9170f3=await this[_0x171ac2(0x559)]({'request':_0x1caf99,'schema':eo,'ClassRef':lt,'execute':(_0x29a9f2,_0x2308f7)=>q['groupDesc'](_0x29a9f2,_0x2308f7)});_0x51ebc2[_0x171ac2(0x69e)](0xc9)[_0x171ac2(0x483)](_0x9170f3);})['put'](this[_0x15311b(0x457)](_0x15311b(0x356)),..._0x249794,async(_0x5cd31b,_0x3e47ec)=>{const _0x491502=_0x15311b;let _0x43647e=await this[_0x491502(0x559)]({'request':_0x5cd31b,'schema':to,'ClassRef':ut,'execute':(_0x140051,_0x188c99)=>q['groupName'](_0x140051,_0x188c99)});_0x3e47ec[_0x491502(0x69e)](0xc9)['json'](_0x43647e);})[_0x15311b(0x418)](this[_0x15311b(0x457)](_0x15311b(0x63b)),..._0x249794,async(_0x25b207,_0x1a149c)=>{const _0x3cf93c=_0x15311b;let _0x339de7=await this[_0x3cf93c(0x559)]({'request':_0x25b207,'schema':ao,'ClassRef':pt,'execute':(_0x53ff75,_0xdaa987)=>q[_0x3cf93c(0x63b)](_0x53ff75,_0xdaa987)});_0x1a149c[_0x3cf93c(0x69e)](0xc9)[_0x3cf93c(0x483)](_0x339de7);})[_0x15311b(0x418)](this['routerPath'](_0x15311b(0x406)),..._0x249794,async(_0x48cea1,_0x4a61b4)=>{const _0x59a7ea=_0x15311b;let _0xfd27c6=await this[_0x59a7ea(0x559)]({'request':_0x48cea1,'schema':so,'ClassRef':dt,'execute':(_0x45ed37,_0x2ffe61)=>q[_0x59a7ea(0x406)](_0x45ed37,_0x2ffe61)});_0x4a61b4[_0x59a7ea(0x69e)](0xc9)[_0x59a7ea(0x483)](_0xfd27c6);})[_0x15311b(0x418)](this[_0x15311b(0x457)]('toggleEphemeral'),..._0x249794,async(_0x486321,_0x39761)=>{const _0x14936c=_0x15311b;let _0x356788=await this[_0x14936c(0x559)]({'request':_0x486321,'schema':Xa,'ClassRef':gt,'execute':(_0x52f45e,_0x45e000)=>q[_0x14936c(0x37d)](_0x52f45e,_0x45e000)});_0x39761['status'](0xc9)[_0x14936c(0x483)](_0x356788);})['get'](this[_0x15311b(0x457)](_0x15311b(0x442)),..._0x249794,async(_0x270959,_0x369eb9)=>{const _0x1dca55=_0x15311b;let _0x40e9c0=await this['groupValidate']({'request':_0x270959,'schema':Ae,'ClassRef':X,'execute':(_0x34191e,_0x3358c5)=>q[_0x1dca55(0x52b)](_0x34191e,_0x3358c5)});_0x369eb9[_0x1dca55(0x69e)](0xc8)['json'](_0x40e9c0);})[_0x15311b(0x71d)](this[_0x15311b(0x457)](_0x15311b(0x1f7)),..._0x249794,async(_0x4d8e31,_0xb32236)=>{const _0x4f0810=_0x15311b;let _0x2583b6=await this[_0x4f0810(0x654)]({'request':_0x4d8e31,'schema':N,'ClassRef':C,'execute':_0x1ac2fb=>q[_0x4f0810(0x1f7)](_0x1ac2fb)});_0xb32236[_0x4f0810(0x69e)](0xc8)[_0x4f0810(0x483)](_0x2583b6);})[_0x15311b(0x71d)](this[_0x15311b(0x457)](_0x15311b(0x8ad)),..._0x249794,async(_0x3a2a85,_0x1d49e1)=>{const _0x41bea5=_0x15311b;let _0x54ad0e=await this[_0x41bea5(0x559)]({'request':_0x3a2a85,'schema':Ae,'ClassRef':X,'execute':(_0x397fcd,_0x1431fb)=>q[_0x41bea5(0x8cc)](_0x397fcd,_0x1431fb)});_0x1d49e1[_0x41bea5(0x69e)](0xc8)[_0x41bea5(0x483)](_0x54ad0e);})[_0x15311b(0x71d)](this['routerPath'](_0x15311b(0x304)),..._0x249794,async(_0x6001d0,_0x30bc9e)=>{const _0x4268e8=_0x15311b;let _0xd682bd=await this[_0x4268e8(0x559)]({'request':_0x6001d0,'schema':Ae,'ClassRef':X,'execute':(_0x42872d,_0x3badbc)=>q['inviteCode'](_0x42872d,_0x3badbc)});_0x30bc9e['status'](0xc8)[_0x4268e8(0x483)](_0xd682bd);})['post'](this[_0x15311b(0x457)](_0x15311b(0x7ba)),..._0x249794,async(_0x6fe6b7,_0x86c2)=>{const _0xecb16e=_0x15311b;let _0x2c818d=await this[_0xecb16e(0x37f)]({'request':_0x6fe6b7,'schema':bs,'ClassRef':Oe,'execute':(_0x2bb85a,_0x576d43)=>q[_0xecb16e(0x3f0)](_0x2bb85a,_0x576d43)});_0x86c2['status'](0xc9)[_0xecb16e(0x483)](_0x2c818d);})[_0x15311b(0x418)](this[_0x15311b(0x457)]('joinGroup'),..._0x249794,async(_0x493b6e,_0x33aa1e)=>{const _0x755798=_0x15311b;let _0x2ae091=await this[_0x755798(0x37f)]({'request':_0x493b6e,'schema':bs,'ClassRef':Oe,'execute':(_0xd6d88,_0x58e802)=>q[_0x755798(0x6d0)](_0xd6d88,_0x58e802)});_0x33aa1e[_0x755798(0x69e)](0xc9)[_0x755798(0x483)](_0x2ae091);})[_0x15311b(0x418)](this['routerPath'](_0x15311b(0x6ae)),..._0x249794,async(_0x26506d,_0x1f7779)=>{const _0x5ea1fb=_0x15311b;let _0x1a345e=await this[_0x5ea1fb(0x559)]({'request':_0x26506d,'schema':Ae,'ClassRef':X,'execute':(_0x4d7254,_0x17bdf6)=>q[_0x5ea1fb(0x6ae)](_0x4d7254,_0x17bdf6)});_0x1f7779['status'](0xc9)['json'](_0x1a345e);})[_0x15311b(0x418)](this[_0x15311b(0x457)](_0x15311b(0x8c2)),..._0x249794,async(_0x2064ff,_0x108cb0)=>{const _0x4db770=_0x15311b;let _0xf08eeb=await this['groupValidate']({'request':_0x2064ff,'schema':Ya,'ClassRef':ht,'execute':(_0x4b71c1,_0x1e7e92)=>q[_0x4db770(0x668)](_0x4b71c1,_0x1e7e92)});_0x108cb0['status'](0xc9)['json'](_0xf08eeb);})['delete'](this[_0x15311b(0x457)]('leaveGroup'),..._0x249794,async(_0x568c3,_0x2fd0dc)=>{const _0x374f61=_0x15311b;let _0x3a8c12=await this[_0x374f61(0x559)]({'request':_0x568c3,'schema':{},'ClassRef':X,'execute':(_0x419803,_0x353bf4)=>q['leaveGroup'](_0x419803,_0x353bf4)});_0x2fd0dc[_0x374f61(0x69e)](0xc8)[_0x374f61(0x483)](_0x3a8c12);});}},no=require(a0_0x420d4d(0x802)),ft=class extends V{constructor(_0x59c2c4,..._0x191a7b){const _0x8a0531=a0_0x420d4d;super(),this[_0x8a0531(0x538)]=_0x59c2c4,this['router']=(0x0,no[_0x8a0531(0x593)])();let _0x5bec26=_0x59c2c4[_0x8a0531(0x71d)]('AUTHENTICATION');this[_0x8a0531(0x303)][_0x8a0531(0x78e)](_0x8a0531(0x6f2),..._0x191a7b,async(_0x300b5b,_0x5af51c)=>{const _0x443510=_0x8a0531;let {instanceName:_0x3c3037,apikey:_0xde4eb,number:_0x513999}=_0x300b5b[_0x443510(0x62e)],_0x42bf10=await ce[_0x443510(0x876)]({'instanceName':_0x3c3037,'apikey':_0xde4eb,'number':_0x513999});return _0x5af51c['status'](0xc9)[_0x443510(0x483)](_0x42bf10);})[_0x8a0531(0x418)](this[_0x8a0531(0x457)](_0x8a0531(0x5d9)),..._0x191a7b,async(_0x31322d,_0x43dddd)=>{const _0x3b6ac1=_0x8a0531;let _0x1e2a98=await this[_0x3b6ac1(0x654)]({'request':_0x31322d,'schema':N,'ClassRef':C,'execute':_0x56a46d=>ce[_0x3b6ac1(0x5b0)](_0x56a46d)});return _0x43dddd['status'](0xc8)[_0x3b6ac1(0x483)](_0x1e2a98);})[_0x8a0531(0x71d)](this['routerPath'](_0x8a0531(0x263)),..._0x191a7b,async(_0x53106d,_0x1c3bd3)=>{const _0x50e2b5=_0x8a0531;let _0x52ab62=await this[_0x50e2b5(0x654)]({'request':_0x53106d,'schema':N,'ClassRef':C,'execute':_0x2922eb=>ce[_0x50e2b5(0x241)](_0x2922eb)});return _0x1c3bd3[_0x50e2b5(0x69e)](0xc8)[_0x50e2b5(0x483)](_0x52ab62);})[_0x8a0531(0x71d)](this['routerPath'](_0x8a0531(0x316)),..._0x191a7b,async(_0x429a37,_0x3cd156)=>{const _0x26f842=_0x8a0531;let _0x269ea6=await this[_0x26f842(0x654)]({'request':_0x429a37,'schema':N,'ClassRef':C,'execute':_0x297675=>ce['connectionState'](_0x297675)});return _0x3cd156[_0x26f842(0x69e)](0xc8)[_0x26f842(0x483)](_0x269ea6);})[_0x8a0531(0x71d)](this[_0x8a0531(0x457)](_0x8a0531(0x30a),!0x1),..._0x191a7b,async(_0x146110,_0x1003cf)=>{const _0x1d58f4=_0x8a0531;let _0x33215a=await this[_0x1d58f4(0x654)]({'request':_0x146110,'schema':null,'ClassRef':C,'execute':_0x295eb4=>ce[_0x1d58f4(0x30a)](_0x295eb4)});return _0x1003cf[_0x1d58f4(0x69e)](0xc8)[_0x1d58f4(0x483)](_0x33215a);})['delete'](this[_0x8a0531(0x457)]('logout'),..._0x191a7b,async(_0x4dc731,_0x2a1e58)=>{const _0x2a230f=_0x8a0531;let _0x534fe9=await this['dataValidate']({'request':_0x4dc731,'schema':N,'ClassRef':C,'execute':_0x4f81fc=>ce[_0x2a230f(0x389)](_0x4f81fc)});return _0x2a1e58[_0x2a230f(0x69e)](0xc8)[_0x2a230f(0x483)](_0x534fe9);})[_0x8a0531(0x845)](this[_0x8a0531(0x457)](_0x8a0531(0x845)),..._0x191a7b,async(_0x217cf2,_0x2322da)=>{const _0x1e670c=_0x8a0531;let _0x99f239=await this[_0x1e670c(0x654)]({'request':_0x217cf2,'schema':N,'ClassRef':C,'execute':_0x4682db=>ce[_0x1e670c(0x540)](_0x4682db)});return _0x2322da[_0x1e670c(0x69e)](0xc8)[_0x1e670c(0x483)](_0x99f239);});}},co=require('express'),Ms=class{},W=class extends Ms{},wt=class extends W{},yt=class extends W{},bt=class extends W{},St=class extends W{},Te=class extends W{},Mt=class extends W{},Ct=class extends W{},Et=class extends W{},vt=class extends W{},Nt=class extends W{},Rt=class{},$t=class extends V{constructor(..._0x11ac42){const _0xcdaee4=a0_0x420d4d;super(),this[_0xcdaee4(0x303)]=(0x0,co[_0xcdaee4(0x593)])(),this['router'][_0xcdaee4(0x78e)](this['routerPath'](_0xcdaee4(0x749)),..._0x11ac42,async(_0x23de17,_0x212b47)=>{const _0x29bce9=_0xcdaee4;let _0x25e438=await this[_0x29bce9(0x654)]({'request':_0x23de17,'schema':Ra,'ClassRef':wt,'execute':(_0x494c47,_0x52f5b1)=>B[_0x29bce9(0x749)](_0x494c47,_0x52f5b1)});return _0x212b47[_0x29bce9(0x69e)](0xc9)[_0x29bce9(0x483)](_0x25e438);})[_0xcdaee4(0x78e)](this[_0xcdaee4(0x457)](_0xcdaee4(0x50a)),..._0x11ac42,async(_0x1c8b3d,_0x184c47)=>{const _0x4483d8=_0xcdaee4;let _0x3b1de9=await this['dataValidate']({'request':_0x1c8b3d,'schema':Ta,'ClassRef':Te,'execute':(_0x15dd46,_0x414087)=>B[_0x4483d8(0x50a)](_0x15dd46,_0x414087)});return _0x184c47[_0x4483d8(0x69e)](0xc9)['json'](_0x3b1de9);})['post'](this[_0xcdaee4(0x457)](_0xcdaee4(0x7ff)),..._0x11ac42,async(_0x1925fb,_0x2addef)=>{const _0x3b1402=_0xcdaee4;let _0x24f648=await this[_0x3b1402(0x654)]({'request':_0x1925fb,'schema':Da,'ClassRef':St,'execute':(_0x4e8519,_0x152fe8)=>B['sendMenu'](_0x4e8519,_0x152fe8)});return _0x2addef[_0x3b1402(0x69e)](0xc9)[_0x3b1402(0x483)](_0x24f648);})[_0xcdaee4(0x78e)](this[_0xcdaee4(0x457)](_0xcdaee4(0x554)),..._0x11ac42,async(_0x12691a,_0x501485)=>{const _0x51d35a=_0xcdaee4;let _0x403d17=await this[_0x51d35a(0x654)]({'request':_0x12691a,'schema':Ia,'ClassRef':Te,'execute':(_0x4523d4,_0x3c5045)=>B[_0x51d35a(0x554)](_0x4523d4,_0x3c5045)});return _0x501485[_0x51d35a(0x69e)](0xc9)['json'](_0x403d17);})[_0xcdaee4(0x78e)](this[_0xcdaee4(0x457)](_0xcdaee4(0x1e8)),..._0x11ac42,async(_0x504334,_0x132346)=>{const _0x62ffb5=_0xcdaee4;let _0x716d19=await this[_0x62ffb5(0x654)]({'request':_0x504334,'schema':_a,'ClassRef':Ct,'execute':(_0x14724e,_0x1f5f9a)=>B[_0x62ffb5(0x1e8)](_0x14724e,_0x1f5f9a)});return _0x132346[_0x62ffb5(0x69e)](0xc9)['json'](_0x716d19);})['post'](this[_0xcdaee4(0x457)](_0xcdaee4(0x8b4)),..._0x11ac42,async(_0x5c94c5,_0x1a0a69)=>{const _0x455c43=_0xcdaee4;let _0x42c5cd=await this['dataValidate']({'request':_0x5c94c5,'schema':Pa,'ClassRef':Et,'execute':(_0x1933dc,_0x1df828)=>B[_0x455c43(0x8b4)](_0x1933dc,_0x1df828)});return _0x1a0a69[_0x455c43(0x69e)](0xc9)[_0x455c43(0x483)](_0x42c5cd);})[_0xcdaee4(0x78e)](this['routerPath']('sendList'),..._0x11ac42,async(_0x4fcb8e,_0x44e87a)=>{const _0x113b11=_0xcdaee4;let _0x30e5ca=await this[_0x113b11(0x654)]({'request':_0x4fcb8e,'schema':ka,'ClassRef':vt,'execute':(_0x57f5db,_0x26f83d)=>B[_0x113b11(0x72c)](_0x57f5db,_0x26f83d)});return _0x44e87a['status'](0xc9)[_0x113b11(0x483)](_0x30e5ca);})[_0xcdaee4(0x78e)](this['routerPath'](_0xcdaee4(0x3e6)),..._0x11ac42,async(_0x92c1bd,_0x292f8c)=>{const _0x447d97=_0xcdaee4;let _0x173f81=await this['dataValidate']({'request':_0x92c1bd,'schema':ja,'ClassRef':Nt,'execute':(_0x3eeca6,_0x6ba480)=>B[_0x447d97(0x3e6)](_0x3eeca6,_0x6ba480)});return _0x292f8c['status'](0xc9)[_0x447d97(0x483)](_0x173f81);})[_0xcdaee4(0x78e)](this[_0xcdaee4(0x457)](_0xcdaee4(0x6d5)),..._0x11ac42,async(_0x266044,_0x44a44c)=>{const _0x48b8ed=_0xcdaee4;let _0x1562d9=await this[_0x48b8ed(0x654)]({'request':_0x266044,'schema':La,'ClassRef':Rt,'execute':(_0x5bfb7e,_0x463558)=>B[_0x48b8ed(0x6d5)](_0x5bfb7e,_0x463558)});return _0x44a44c[_0x48b8ed(0x69e)](0xc9)[_0x48b8ed(0x483)](_0x1562d9);})['post'](this['routerPath'](_0xcdaee4(0x32e)),..._0x11ac42,async(_0x1a9347,_0x30e593)=>{const _0x3dda03=_0xcdaee4;let _0x4e422b=await this[_0x3dda03(0x654)]({'request':_0x1a9347,'schema':xa,'ClassRef':bt,'execute':(_0x4051d7,_0x1f6f81)=>B[_0x3dda03(0x32e)](_0x4051d7,_0x1f6f81)});return _0x30e593['status'](0xc9)[_0x3dda03(0x483)](_0x4e422b);})[_0xcdaee4(0x78e)](this['routerPath'](_0xcdaee4(0x80c)),..._0x11ac42,async(_0x5d44d3,_0x37e46e)=>{const _0x4441b7=_0xcdaee4;let _0x500eec=await this[_0x4441b7(0x654)]({'request':_0x5d44d3,'schema':Oa,'ClassRef':yt,'execute':(_0x26839d,_0x508b03)=>B[_0x4441b7(0x80c)](_0x26839d,_0x508b03)});return _0x37e46e[_0x4441b7(0x69e)](0xc9)[_0x4441b7(0x483)](_0x500eec);})[_0xcdaee4(0x78e)](this[_0xcdaee4(0x457)](_0xcdaee4(0x2d8)),..._0x11ac42,async(_0x4c9f73,_0x53519b)=>{const _0x526e15=_0xcdaee4;let _0x3c3ac2=await this[_0x526e15(0x654)]({'request':_0x4c9f73,'schema':Aa,'ClassRef':Mt,'execute':(_0x1c6708,_0x3ca598)=>B[_0x526e15(0x2d8)](_0x1c6708,_0x3ca598)});return _0x53519b[_0x526e15(0x69e)](0xc9)['json'](_0x3c3ac2);});}},lo=require(a0_0x420d4d(0x802)),At=class{},Ot=class extends V{constructor(..._0x186f4a){const _0x1671b2=a0_0x420d4d;super(),this[_0x1671b2(0x303)]=(0x0,lo[_0x1671b2(0x593)])(),this[_0x1671b2(0x303)][_0x1671b2(0x78e)](this[_0x1671b2(0x457)](_0x1671b2(0x853)),..._0x186f4a,async(_0x2510ac,_0x4f4621)=>{const _0x4e8a10=_0x1671b2;let _0x3503de=await this['dataValidate']({'request':_0x2510ac,'schema':oo,'ClassRef':At,'execute':(_0x15a97e,_0x584ae6)=>Cs[_0x4e8a10(0x662)](_0x15a97e,_0x584ae6)});_0x4f4621[_0x4e8a10(0x69e)](0xc9)['json'](_0x3503de);})['get'](this[_0x1671b2(0x457)](_0x1671b2(0x561)),..._0x186f4a,async(_0x1c8dc0,_0x32fe25)=>{const _0x399a89=_0x1671b2;let _0x251573=await this['dataValidate']({'request':_0x1c8dc0,'schema':N,'ClassRef':C,'execute':_0x14ccef=>Cs[_0x399a89(0x45c)](_0x14ccef)});_0x32fe25[_0x399a89(0x69e)](0xc8)['json'](_0x251573);});}},uo=require(a0_0x420d4d(0x802)),y=new R(a0_0x420d4d(0x27d)),Tt=class extends V{constructor(..._0x52b671){const _0x49962e=a0_0x420d4d;super(),this['router']=(0x0,uo['Router'])(),this[_0x49962e(0x303)][_0x49962e(0x78e)](this[_0x49962e(0x457)]('scheduleMessage'),..._0x52b671,async(_0x2cc281,_0x2461b4)=>{const _0x48b91a=_0x49962e;let _0x4602ca=_0x2cc281[_0x48b91a(0x62e)];y[_0x48b91a(0x200)]('request\x20received\x20in\x20scheduleMessage'),y['verbose'](_0x48b91a(0x545)),y['verbose'](_0x2cc281[_0x48b91a(0x62e)]);let _0x42c2be=await this['dataValidate']({'request':_0x2cc281,'schema':N,'ClassRef':C,'execute':_0x4207ee=>A[_0x48b91a(0x82c)](_0x4207ee,_0x4602ca)});_0x2461b4['status'](0xc8)[_0x48b91a(0x483)](_0x42c2be);})['get'](this['routerPath'](_0x49962e(0x7eb)),..._0x52b671,async(_0x448ab1,_0x27698b)=>{const _0x5b315e=_0x49962e;let _0x136f46=await this[_0x5b315e(0x654)]({'request':_0x448ab1,'schema':N,'ClassRef':C,'execute':_0x5de7c1=>A[_0x5b315e(0x50b)](_0x5de7c1)});_0x27698b[_0x5b315e(0x69e)](0xc8)[_0x5b315e(0x483)](_0x136f46);})['delete'](this[_0x49962e(0x457)]('deleteDoneMessages'),..._0x52b671,async(_0x61957d,_0x16d2b4)=>{const _0x3ef460=_0x49962e;y['verbose'](_0x3ef460(0x5ed));let _0xf47ff4=await this[_0x3ef460(0x654)]({'request':_0x61957d,'schema':N,'ClassRef':C,'execute':_0x2a08b2=>A[_0x3ef460(0x77b)](_0x2a08b2)});_0x16d2b4['status'](0xc8)[_0x3ef460(0x483)](_0xf47ff4);})[_0x49962e(0x78e)](this[_0x49962e(0x457)](_0x49962e(0x2f5)),..._0x52b671,async(_0x1d897d,_0x5055b2)=>{const _0x65d12a=_0x49962e;let _0x4d1fa8=_0x1d897d[_0x65d12a(0x62e)];y['verbose']('request\x20received\x20in\x20starFlow'),y[_0x65d12a(0x200)]('request\x20body:\x20'),y[_0x65d12a(0x200)](_0x1d897d['body']);let _0x4c7e86=await this[_0x65d12a(0x654)]({'request':_0x1d897d,'schema':N,'ClassRef':C,'execute':_0x1a8ca9=>A[_0x65d12a(0x2f5)](_0x1a8ca9,_0x4d1fa8)});_0x5055b2[_0x65d12a(0x69e)](0xc8)[_0x65d12a(0x483)](_0x4c7e86);})[_0x49962e(0x71d)](this[_0x49962e(0x457)](_0x49962e(0x4ca)),..._0x52b671,async(_0x13be2f,_0x1e26dc)=>{const _0x3f950c=_0x49962e;y[_0x3f950c(0x200)](_0x3f950c(0x53a));let _0x482108=await this['dataValidate']({'request':_0x13be2f,'schema':N,'ClassRef':C,'execute':_0x2f2860=>A[_0x3f950c(0x4ca)](_0x2f2860)});_0x1e26dc[_0x3f950c(0x69e)](0xc8)[_0x3f950c(0x483)](_0x482108);})[_0x49962e(0x71d)](this[_0x49962e(0x457)](_0x49962e(0x2c0)),..._0x52b671,async(_0x4381bd,_0x359b8d)=>{const _0x52fcc0=_0x49962e;y[_0x52fcc0(0x200)](_0x52fcc0(0x5b3));let _0x1f7321=await this[_0x52fcc0(0x654)]({'request':_0x4381bd,'schema':N,'ClassRef':C,'execute':_0x2e8776=>A[_0x52fcc0(0x4ca)](_0x2e8776)});_0x359b8d[_0x52fcc0(0x69e)](0xc8)[_0x52fcc0(0x483)](_0x1f7321);})['post'](this[_0x49962e(0x457)]('updateAgent'),..._0x52b671,async(_0x454d0a,_0x1def62)=>{const _0x410f2c=_0x49962e;let _0x4db5c7=_0x454d0a[_0x410f2c(0x62e)];y['verbose']('request\x20received\x20in\x20updateAgent'),y[_0x410f2c(0x200)]('request\x20body:\x20'),y[_0x410f2c(0x200)](_0x454d0a[_0x410f2c(0x62e)]);let _0x3ca849=await this['dataValidate']({'request':_0x454d0a,'schema':N,'ClassRef':C,'execute':_0x2492aa=>A[_0x410f2c(0x4c5)](_0x2492aa,_0x4db5c7)});_0x1def62['status'](0xc8)['json'](_0x3ca849);})[_0x49962e(0x78e)](this[_0x49962e(0x457)]('updateCustomFields'),..._0x52b671,async(_0x3fb4e2,_0x19d752)=>{const _0x57150c=_0x49962e;let _0x1f4abc=_0x3fb4e2[_0x57150c(0x62e)];y[_0x57150c(0x200)](_0x57150c(0x681)),y[_0x57150c(0x200)](_0x57150c(0x545)),y['verbose'](_0x3fb4e2['body']);let _0xa12474=await this[_0x57150c(0x654)]({'request':_0x3fb4e2,'schema':N,'ClassRef':C,'execute':_0x277e31=>A[_0x57150c(0x39b)](_0x277e31,_0x1f4abc)});_0x19d752['status'](0xc8)[_0x57150c(0x483)](_0xa12474);})[_0x49962e(0x78e)](this[_0x49962e(0x457)](_0x49962e(0x79f)),..._0x52b671,async(_0x38966f,_0x4dfa01)=>{const _0x356aaf=_0x49962e;let _0x56a36b=_0x38966f[_0x356aaf(0x62e)];y[_0x356aaf(0x200)](_0x356aaf(0x279)),y[_0x356aaf(0x200)](_0x356aaf(0x545)),y[_0x356aaf(0x200)](_0x38966f[_0x356aaf(0x62e)]);let _0x275d8c=await this['dataValidate']({'request':_0x38966f,'schema':N,'ClassRef':C,'execute':_0x30d00e=>A[_0x356aaf(0x79f)](_0x30d00e,_0x56a36b)});_0x4dfa01[_0x356aaf(0x69e)](0xc8)[_0x356aaf(0x483)](_0x275d8c);})[_0x49962e(0x78e)](this[_0x49962e(0x457)](_0x49962e(0x8bd)),..._0x52b671,async(_0x5252d3,_0x32052b)=>{const _0x467947=_0x49962e;let _0x105650=_0x5252d3[_0x467947(0x62e)];y['verbose'](_0x467947(0x65e)),y['verbose'](_0x467947(0x545)),y[_0x467947(0x200)](_0x5252d3['body']);let _0x1c7c64=await this[_0x467947(0x654)]({'request':_0x5252d3,'schema':N,'ClassRef':C,'execute':_0x2cd0c8=>A[_0x467947(0x8bd)](_0x2cd0c8,_0x105650)});_0x32052b[_0x467947(0x69e)](0xc8)['json'](_0x1c7c64);})[_0x49962e(0x78e)](this[_0x49962e(0x457)](_0x49962e(0x68c)),..._0x52b671,async(_0x36e6bb,_0x1aa018)=>{const _0x55b999=_0x49962e;let _0x574fc6=_0x36e6bb['body'];y['verbose'](_0x55b999(0x4c6)),y[_0x55b999(0x200)](_0x55b999(0x545)),y[_0x55b999(0x200)](_0x36e6bb[_0x55b999(0x62e)]);let _0x12e38a=await this[_0x55b999(0x654)]({'request':_0x36e6bb,'schema':N,'ClassRef':C,'execute':_0x2b3e92=>A[_0x55b999(0x68c)](_0x2b3e92,_0x574fc6)});_0x1aa018['status'](0xc8)['json'](_0x12e38a);})[_0x49962e(0x78e)](this[_0x49962e(0x457)](_0x49962e(0x779)),..._0x52b671,async(_0x686382,_0x382e5f)=>{const _0x26502b=_0x49962e;let _0x48e199=_0x686382['body'];y['verbose'](_0x26502b(0x874)),y[_0x26502b(0x200)](_0x26502b(0x545)),y[_0x26502b(0x200)](_0x686382[_0x26502b(0x62e)]);let _0x44a589=await this[_0x26502b(0x654)]({'request':_0x686382,'schema':N,'ClassRef':C,'execute':_0xdb1af3=>A[_0x26502b(0x779)](_0xdb1af3,_0x48e199)});_0x382e5f['status'](0xc8)[_0x26502b(0x483)](_0x44a589);})['post'](this[_0x49962e(0x457)](_0x49962e(0x63a)),..._0x52b671,async(_0x14ee68,_0x3a4131)=>{const _0x38bdaf=_0x49962e;let _0xdf5ed8=_0x14ee68[_0x38bdaf(0x62e)];y[_0x38bdaf(0x200)](_0x38bdaf(0x627)),y['verbose'](_0x38bdaf(0x545)),y['verbose'](_0x14ee68['body']);let _0x80d56b=await this[_0x38bdaf(0x654)]({'request':_0x14ee68,'schema':N,'ClassRef':C,'execute':_0x2c440b=>A[_0x38bdaf(0x63a)](_0x2c440b,_0xdf5ed8)});_0x3a4131[_0x38bdaf(0x69e)](0xc8)[_0x38bdaf(0x483)](_0x80d56b);})[_0x49962e(0x845)](this[_0x49962e(0x457)](_0x49962e(0x445)),..._0x52b671,async(_0x42be79,_0x3c9471)=>{const _0x5466fc=_0x49962e;let _0x519723=_0x42be79[_0x5466fc(0x62e)];y[_0x5466fc(0x200)](_0x5466fc(0x829)),y[_0x5466fc(0x200)](_0x5466fc(0x545)),y['verbose'](_0x42be79[_0x5466fc(0x62e)]);let _0x4ba49a=await this[_0x5466fc(0x654)]({'request':_0x42be79,'schema':N,'ClassRef':C,'execute':_0x2b6e1c=>A['deleteConversation'](_0x2b6e1c,_0x519723)});_0x3c9471[_0x5466fc(0x69e)](0xc8)[_0x5466fc(0x483)](_0x4ba49a);})[_0x49962e(0x78e)](this[_0x49962e(0x457)](_0x49962e(0x32c)),..._0x52b671,async(_0x5d2133,_0x1be27e)=>{const _0x4ca57e=_0x49962e;let _0x4c6d04=_0x5d2133[_0x4ca57e(0x62e)],_0x9bf8ae=_0x5d2133[_0x4ca57e(0x897)][_0x4ca57e(0x6e0)];y['verbose']('request\x20received\x20in\x20createFlow'),y[_0x4ca57e(0x200)](_0x4ca57e(0x545)),y['verbose'](_0x5d2133[_0x4ca57e(0x62e)]);let _0x5c81a0=await this[_0x4ca57e(0x654)]({'request':_0x5d2133,'schema':N,'ClassRef':C,'execute':_0x4ede61=>A[_0x4ca57e(0x7be)](_0x4ede61,_0x4c6d04,_0x9bf8ae)});_0x1be27e[_0x4ca57e(0x69e)](0xc8)[_0x4ca57e(0x483)](_0x5c81a0);})['post'](this[_0x49962e(0x457)](_0x49962e(0x324)),..._0x52b671,async(_0x5b3685,_0x49d40d)=>{const _0x56db70=_0x49962e;let _0x5ab794=_0x5b3685[_0x56db70(0x62e)],_0x363985=_0x5b3685[_0x56db70(0x897)][_0x56db70(0x6e0)];y[_0x56db70(0x200)](_0x56db70(0x5da)),y[_0x56db70(0x200)](_0x56db70(0x545)),y[_0x56db70(0x200)](_0x5b3685[_0x56db70(0x62e)]),delete _0x5ab794[_0x56db70(0x6a9)],delete _0x5ab794[_0x56db70(0x4f3)],delete _0x5ab794[_0x56db70(0x678)],delete _0x5ab794[_0x56db70(0x7a4)];let _0x3b81eb=await this[_0x56db70(0x654)]({'request':_0x5b3685,'schema':N,'ClassRef':C,'execute':_0x5bdb15=>A[_0x56db70(0x2bb)](_0x5bdb15,_0x5ab794,_0x363985)});_0x49d40d['status'](0xc8)[_0x56db70(0x483)](_0x3b81eb);})[_0x49962e(0x78e)](this[_0x49962e(0x457)](_0x49962e(0x6de)),..._0x52b671,async(_0x178648,_0x26592d)=>{const _0x7dd606=_0x49962e;let _0x5251d5=_0x178648[_0x7dd606(0x62e)],_0x57815f=_0x178648[_0x7dd606(0x897)]['apikey'];y['verbose']('request\x20received\x20in\x20editFlow'),y['verbose']('request\x20body:\x20'),y[_0x7dd606(0x200)](_0x178648[_0x7dd606(0x62e)]);let _0x55a974=await this[_0x7dd606(0x654)]({'request':_0x178648,'schema':N,'ClassRef':C,'execute':_0x49fae4=>A[_0x7dd606(0x43e)](_0x49fae4,_0x5251d5,_0x57815f)});_0x26592d[_0x7dd606(0x69e)](0xc8)[_0x7dd606(0x483)](_0x55a974);})['post'](this['routerPath'](_0x49962e(0x2a1)),..._0x52b671,async(_0x16fdf4,_0xfd21f0)=>{const _0x1ab847=_0x49962e;let _0x4f68b3=_0x16fdf4[_0x1ab847(0x62e)],_0x2691eb=_0x16fdf4[_0x1ab847(0x897)][_0x1ab847(0x6e0)];y[_0x1ab847(0x200)]('request\x20received\x20in\x20editFlow'),y[_0x1ab847(0x200)](_0x1ab847(0x545)),y[_0x1ab847(0x200)](_0x16fdf4[_0x1ab847(0x62e)]);let _0x4592ef=await this[_0x1ab847(0x654)]({'request':_0x16fdf4,'schema':N,'ClassRef':C,'execute':_0x480b3c=>A[_0x1ab847(0x3db)](_0x480b3c,_0x4f68b3,_0x2691eb)});_0xfd21f0['status'](0xc8)[_0x1ab847(0x483)](_0x4592ef);})[_0x49962e(0x78e)](this[_0x49962e(0x457)](_0x49962e(0x8bc)),..._0x52b671,async(_0x449317,_0x3b0579)=>{const _0x2af3ef=_0x49962e;let _0x3f93c0=_0x449317['body'],_0x49d45a=_0x449317[_0x2af3ef(0x897)]['apikey'];y[_0x2af3ef(0x200)](_0x2af3ef(0x5da)),y['verbose'](_0x2af3ef(0x545)),y[_0x2af3ef(0x200)](_0x449317[_0x2af3ef(0x62e)]);let _0x119367=await this['dataValidate']({'request':_0x449317,'schema':N,'ClassRef':C,'execute':_0x47688d=>A['editFlowVaredit'](_0x47688d,_0x3f93c0,_0x49d45a)});_0x3b0579[_0x2af3ef(0x69e)](0xc8)[_0x2af3ef(0x483)](_0x119367);})[_0x49962e(0x78e)](this[_0x49962e(0x457)](_0x49962e(0x660)),..._0x52b671,async(_0x1ab94d,_0x2ce701)=>{const _0x3abadb=_0x49962e;let _0x4ec4b8=_0x1ab94d[_0x3abadb(0x62e)],_0x1efba7=_0x1ab94d['headers'][_0x3abadb(0x6e0)];y['verbose'](_0x3abadb(0x396)),y[_0x3abadb(0x200)](_0x3abadb(0x545)),y[_0x3abadb(0x200)](_0x1ab94d[_0x3abadb(0x62e)]);let _0x3ef8d7=await this[_0x3abadb(0x654)]({'request':_0x1ab94d,'schema':N,'ClassRef':C,'execute':_0x1877b3=>A[_0x3abadb(0x52d)](_0x1877b3,_0x4ec4b8,_0x1efba7)});_0x2ce701['status'](0xc8)[_0x3abadb(0x483)](_0x3ef8d7);})[_0x49962e(0x78e)](this[_0x49962e(0x457)](_0x49962e(0x6d3)),..._0x52b671,async(_0x531f44,_0x3ac73a)=>{const _0xc6d16a=_0x49962e;let _0x5d0eb0=_0x531f44[_0xc6d16a(0x62e)],_0x25f6e7=_0x531f44[_0xc6d16a(0x897)][_0xc6d16a(0x6e0)];y[_0xc6d16a(0x200)](_0xc6d16a(0x74f)),y[_0xc6d16a(0x200)](_0xc6d16a(0x545)),y[_0xc6d16a(0x200)](_0x531f44[_0xc6d16a(0x62e)]);let _0x4328fa=await this[_0xc6d16a(0x654)]({'request':_0x531f44,'schema':N,'ClassRef':C,'execute':_0x426850=>A[_0xc6d16a(0x89b)](_0x426850,_0x5d0eb0,_0x25f6e7)});_0x3ac73a['status'](0xc8)['json'](_0x4328fa);})[_0x49962e(0x78e)](this[_0x49962e(0x457)](_0x49962e(0x653)),..._0x52b671,async(_0xcd7c2a,_0x35a089)=>{const _0x4f4dfa=_0x49962e;let _0x350ef3=_0xcd7c2a[_0x4f4dfa(0x62e)],_0x3d7703=_0xcd7c2a['headers'][_0x4f4dfa(0x6e0)];y[_0x4f4dfa(0x200)](_0x4f4dfa(0x292)),y['verbose'](_0x4f4dfa(0x545)),y['verbose'](_0xcd7c2a[_0x4f4dfa(0x62e)]);let _0x2ccd95=await this[_0x4f4dfa(0x654)]({'request':_0xcd7c2a,'schema':N,'ClassRef':C,'execute':_0x4f4f60=>A[_0x4f4dfa(0x513)](_0x4f4f60,_0x350ef3,_0x3d7703)});_0x35a089['status'](0xc8)[_0x4f4dfa(0x483)](_0x2ccd95);})[_0x49962e(0x78e)](this['routerPath'](_0x49962e(0x7a9)),..._0x52b671,async(_0x2ac24d,_0x6718f4)=>{const _0x54335e=_0x49962e;let _0x72fd4c=_0x2ac24d['body'];y[_0x54335e(0x200)](_0x54335e(0x1ef)),y[_0x54335e(0x200)](_0x54335e(0x545)),y[_0x54335e(0x200)](_0x2ac24d[_0x54335e(0x62e)]);let _0x15e1fa=await this['dataValidate']({'request':_0x2ac24d,'schema':N,'ClassRef':C,'execute':_0x1a6cdb=>A[_0x54335e(0x88d)](_0x1a6cdb,_0x72fd4c)});_0x6718f4['status'](0xc8)[_0x54335e(0x483)](_0x15e1fa);})[_0x49962e(0x845)](this[_0x49962e(0x457)](_0x49962e(0x6f3)),..._0x52b671,async(_0x3ca739,_0x4056e2)=>{const _0x5903f6=_0x49962e;let _0x3faeb4=_0x3ca739[_0x5903f6(0x62e)],_0x196fa7=_0x3ca739[_0x5903f6(0x897)][_0x5903f6(0x6e0)];y['verbose'](_0x5903f6(0x534)),y[_0x5903f6(0x200)]('request\x20body:\x20'),y['verbose'](_0x3ca739[_0x5903f6(0x62e)]);let _0x364405=await this[_0x5903f6(0x654)]({'request':_0x3ca739,'schema':N,'ClassRef':C,'execute':_0x2045d7=>A[_0x5903f6(0x842)](_0x2045d7,_0x3faeb4,_0x196fa7)});_0x4056e2[_0x5903f6(0x69e)](0xc8)[_0x5903f6(0x483)](_0x364405);})[_0x49962e(0x71d)](this[_0x49962e(0x457)](_0x49962e(0x8b2)),..._0x52b671,async(_0x3eb912,_0x572124)=>{const _0x2a1146=_0x49962e;y[_0x2a1146(0x200)](_0x2a1146(0x35c));let _0x28d32c=await this[_0x2a1146(0x654)]({'request':_0x3eb912,'schema':N,'ClassRef':C,'execute':_0x153022=>A[_0x2a1146(0x809)](_0x153022)});_0x572124['status'](0xc8)[_0x2a1146(0x483)](_0x28d32c);});}},mo=O(require(a0_0x420d4d(0x3ba))),Z={};function po(_0x5239a0,_0x4786d4,_0x289a65,_0x427a72){Z[_0x5239a0]||(Z[_0x5239a0]={}),Z[_0x5239a0][_0x4786d4]={'id':_0x4786d4,'response':_0x289a65,'events':_0x427a72};}function ho(_0x163cf9,_0x5a895d){!Z[_0x163cf9]||!Z[_0x163cf9][_0x5a895d]||delete Z[_0x163cf9][_0x5a895d];}function J(_0x1e81ba,_0x440638,_0x56372e){const _0x54fefa=a0_0x420d4d;if(!Z[_0x1e81ba])return;let _0x5dddf3=_0x54fefa(0x220)+JSON[_0x54fefa(0x31d)](_0x56372e)+'\x0a\x0a';Object[_0x54fefa(0x683)](Z[_0x1e81ba])['forEach'](_0x549556=>{const _0x2ce90b=_0x54fefa;_0x549556[_0x2ce90b(0x484)][_0x2ce90b(0x3a0)](_0x440638)&&_0x549556[_0x2ce90b(0x60d)]['write'](_0x5dddf3);});}function go(){const _0x500c0b=a0_0x420d4d;let _0x4cf8f8={};for(let _0x2cf961 in Z)_0x4cf8f8[_0x2cf961]=Object[_0x500c0b(0x683)](Z[_0x2cf961])[_0x500c0b(0x28d)](_0x4fac31=>({'id':_0x4fac31['id'],'events':_0x4fac31['events']}));return _0x4cf8f8;}var fo=require(a0_0x420d4d(0x88a)),vs=require('mongoose'),Es=class{},br=new vs['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Sr=new vs[(a0_0x420d4d(0x616))]({'_id':{'type':String,'default':a0_0x420d4d(0x5b1)},'WebhookGlobal':{'type':br},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Se=$?.[a0_0x420d4d(0x247)](Es['name'],Sr,a0_0x420d4d(0x212)),Mr=mo[a0_0x420d4d(0x7f3)]['join'](__dirname,a0_0x420d4d(0x7f2)),Ie=(0x0,It['Router'])(),Cr=b[a0_0x420d4d(0x71d)](a0_0x420d4d(0x58a))[a0_0x420d4d(0x25d)],ae=[Ma,Ca,Na[Cr]];Ie[a0_0x420d4d(0x551)]('/media',It[a0_0x420d4d(0x7f3)][a0_0x420d4d(0x28b)](Mr))[a0_0x420d4d(0x71d)](a0_0x420d4d(0x37c),async(_0x1c0b78,_0x10c5de)=>{const _0x3a7a5d=a0_0x420d4d;console[_0x3a7a5d(0x3a6)](_0x3a7a5d(0x800));let _0x1f2be0=_0x1c0b78[_0x3a7a5d(0x410)][_0x3a7a5d(0x238)],_0x3b4c4f=(_0x1c0b78[_0x3a7a5d(0x565)][_0x3a7a5d(0x484)]||'')['split'](','),_0x1afa97=(0x0,fo['v4'])();console[_0x3a7a5d(0x3a6)](_0x3a7a5d(0x375),_0x1f2be0),console[_0x3a7a5d(0x3a6)]('Subscribed\x20Events:',_0x3b4c4f);let _0x3223ff=b[_0x3a7a5d(0x71d)]('AUTHENTICATION')[_0x3a7a5d(0x3bc)],_0xf47a42=_0x1c0b78['query'][_0x3a7a5d(0x6e0)];if(console['log'](_0x3a7a5d(0x40e),_0xf47a42),_0x3223ff[_0x3a7a5d(0x63c)]!==_0xf47a42){console[_0x3a7a5d(0x3a6)](_0x3a7a5d(0x293));try{let _0x2d5616=await de['auth'][_0x3a7a5d(0x561)](_0x1f2be0);if(console['log']('Instance\x20Key\x20from\x20DB:',_0x2d5616),!_0x2d5616||_0x2d5616[_0x3a7a5d(0x6e0)]!==_0xf47a42)return console[_0x3a7a5d(0x3a6)](_0x3a7a5d(0x690)),_0x10c5de['status'](0x191)[_0x3a7a5d(0x8a4)]('API\x20Key\x20inválida.');}catch(_0x37dbb5){return console[_0x3a7a5d(0x82e)](_0x3a7a5d(0x8d7),_0x37dbb5),_0x10c5de[_0x3a7a5d(0x69e)](0x191)['send'](_0x3a7a5d(0x216));}}if(!await Re(_0x1f2be0))return _0x10c5de[_0x3a7a5d(0x69e)](0x194)[_0x3a7a5d(0x8a4)](_0x3a7a5d(0x6d8));_0x10c5de[_0x3a7a5d(0x4d8)](_0x3a7a5d(0x3fe),_0x3a7a5d(0x643)),_0x10c5de['setHeader'](_0x3a7a5d(0x652),_0x3a7a5d(0x214)),_0x10c5de['setHeader'](_0x3a7a5d(0x856),_0x3a7a5d(0x44d)),_0x10c5de[_0x3a7a5d(0x760)]();let _0x384320=_0x3a7a5d(0x220)+JSON[_0x3a7a5d(0x31d)]({'info':_0x3a7a5d(0x258)})+'\x0a\x0a';_0x10c5de['write'](_0x384320),po(_0x1f2be0,_0x1afa97,_0x10c5de,_0x3b4c4f),_0x1c0b78['on']('close',()=>{const _0x9d5a71=_0x3a7a5d;console[_0x9d5a71(0x3a6)](_0x9d5a71(0x51c)+_0x1f2be0),ho(_0x1f2be0,_0x1afa97);});}),Ie['post']('/startFlow/:instance/:startID',async(_0x71bf8f,_0x26b2c4)=>{const _0x31879a=a0_0x420d4d;console[_0x31879a(0x3a6)](_0x31879a(0x8c8));let _0x18a8e1=_0x71bf8f[_0x31879a(0x410)][_0x31879a(0x238)],_0x404edd=_0x71bf8f[_0x31879a(0x410)]['startID'],_0x1e92a9=_0x71bf8f['query'][_0x31879a(0x1f9)]||'',_0x472286=_0x71bf8f[_0x31879a(0x62e)];console[_0x31879a(0x3a6)]('Instance\x20Name:',_0x18a8e1),console[_0x31879a(0x3a6)](_0x31879a(0x5b2),_0x404edd),console[_0x31879a(0x3a6)](_0x31879a(0x6e3),_0x1e92a9),console[_0x31879a(0x3a6)](_0x31879a(0x409),_0x472286);try{if(!await Re(_0x18a8e1))return _0x26b2c4[_0x31879a(0x69e)](0x194)[_0x31879a(0x8a4)](_0x31879a(0x6d8));let _0x400f81=await A[_0x31879a(0x520)](_0x18a8e1,_0x404edd,_0x1e92a9,_0x472286);_0x26b2c4['send'](_0x400f81);}catch(_0xb6bff9){console[_0x31879a(0x82e)](_0xb6bff9),_0x26b2c4['status'](0x1f4)[_0x31879a(0x8a4)]('Erro\x20ao\x20iniciar\x20o\x20fluxo.');}}),Ie[a0_0x420d4d(0x71d)](a0_0x420d4d(0x2df),(_0x2fcd6e,_0x2fe7cf)=>{const _0x10befa=a0_0x420d4d;let _0x12d32d=go();_0x2fe7cf[_0x10befa(0x483)](_0x12d32d);})['get']('/',(_0x157426,_0x1ea682)=>{const _0x7c983d=a0_0x420d4d;let _0x504f08=b[_0x7c983d(0x71d)](_0x7c983d(0x702))[_0x7c983d(0x718)];if(_0x504f08){let _0x475425=encodeURIComponent(''+_0x504f08);_0x1ea682['redirect']('https://uazapi-plugin.bubbleapps.io/?url='+_0x475425);return;}let _0x3a8dc7=b[_0x7c983d(0x71d)](_0x7c983d(0x585)),_0xa05f6d=_0x3a8dc7&&_0x3a8dc7[_0x7c983d(0x1dd)]['split']('/')[0x4];if(_0xa05f6d){let _0x4c5b6d=encodeURIComponent(_0x7c983d(0x21e)+_0xa05f6d);_0x1ea682[_0x7c983d(0x870)](_0x7c983d(0x7c1)+_0x4c5b6d);}else _0x1ea682[_0x7c983d(0x870)](_0x7c983d(0x621));})[a0_0x420d4d(0x418)](a0_0x420d4d(0x658),...ae,async(_0x666f14,_0x423c5d)=>{const _0x2bd0cb=a0_0x420d4d;try{console[_0x2bd0cb(0x3a6)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x423c5d[_0x2bd0cb(0x69e)](0xc8)[_0x2bd0cb(0x483)]({'message':_0x2bd0cb(0x465)}),_0x423c5d['on'](_0x2bd0cb(0x3c0),()=>process[_0x2bd0cb(0x5db)](0x0));}catch(_0x25755e){console[_0x2bd0cb(0x82e)](_0x2bd0cb(0x431),_0x25755e),_0x423c5d[_0x2bd0cb(0x69e)](0x1f4)[_0x2bd0cb(0x483)]({'message':_0x2bd0cb(0x61b)});}})[a0_0x420d4d(0x418)](a0_0x420d4d(0x1cd),...ae,async(_0x1a77b8,_0x29a5fe)=>{const _0x57ddb5=a0_0x420d4d;try{let _0x3b960d=_0x1a77b8[_0x57ddb5(0x62e)];await Se[_0x57ddb5(0x4a8)]({},{'$set':_0x3b960d},{'upsert':!0x0});let _0x55d7a6=await Se['findOne']();_0x29a5fe['json'](_0x55d7a6);}catch(_0x8459c5){_0x29a5fe[_0x57ddb5(0x69e)](0x190)[_0x57ddb5(0x8a4)](_0x8459c5[_0x57ddb5(0x8d5)]);}})['get'](a0_0x420d4d(0x1cd),...ae,async(_0x3db28e,_0x3a3b46)=>{const _0xa1fd10=a0_0x420d4d;try{let _0x57967f=await Se[_0xa1fd10(0x868)]();if(!_0x57967f)return _0x3a3b46[_0xa1fd10(0x483)]({});_0x3a3b46[_0xa1fd10(0x483)](_0x57967f);}catch(_0x5af362){_0x3a3b46['status'](0x1f4)[_0xa1fd10(0x8a4)](_0x5af362['message']);}})[a0_0x420d4d(0x551)](a0_0x420d4d(0x4d2),new ft(b,...ae)['router'])[a0_0x420d4d(0x551)](a0_0x420d4d(0x1f4),new $t(...ae)['router'])['use'](a0_0x420d4d(0x628),new it(...ae)[a0_0x420d4d(0x303)])[a0_0x420d4d(0x551)](a0_0x420d4d(0x408),new mt(...ae)[a0_0x420d4d(0x303)])[a0_0x420d4d(0x551)](a0_0x420d4d(0x821),new Ot(...ae)[a0_0x420d4d(0x303)])['use']('/automate',new Tt(...ae)[a0_0x420d4d(0x303)]);var m=class{constructor(..._0x16dec7){const _0x8704eb=a0_0x420d4d;throw{'status':0x190,'error':_0x8704eb(0x615),'message':_0x16dec7[_0x8704eb(0x297)]>0x0?_0x16dec7:void 0x0};}},se=class{constructor(..._0x69258d){const _0x559476=a0_0x420d4d;throw{'status':0x191,'error':'Unauthorized','message':_0x69258d[_0x559476(0x297)]>0x0?_0x69258d:void 0x0};}},Q=class{constructor(..._0x2869f1){const _0x400c97=a0_0x420d4d;throw{'status':0x193,'error':_0x400c97(0x75d),'message':_0x2869f1['length']>0x0?_0x2869f1:void 0x0};}},U=class{constructor(..._0x2962da){const _0x5c1452=a0_0x420d4d;throw{'status':0x194,'error':_0x5c1452(0x624),'message':_0x2962da[_0x5c1452(0x297)]>0x0?_0x2962da:void 0x0};}},I=class{constructor(..._0x3f4ca9){const _0x222b8b=a0_0x420d4d;throw{'status':0x1f4,'error':_0x222b8b(0x7d9),'message':_0x3f4ca9[_0x222b8b(0x297)]>0x0?_0x3f4ca9:void 0x0};}},pe=require(a0_0x420d4d(0x61a));async function Ns(_0x3080f5){const _0x2385a1=a0_0x420d4d;let _0x2af078=new R(Ns[_0x2385a1(0x325)]),_0x1d5c24=$['getClient'](),_0x5cf826=_0x1d5c24['db'](b['get']('DATABASE')[_0x2385a1(0x7e1)][_0x2385a1(0x4b1)]+_0x2385a1(0x2be))[_0x2385a1(0x5d2)](_0x3080f5),_0xd3d58d=async(_0x265e13,_0x1c5a43)=>{const _0x362247=_0x2385a1;try{return await _0x1d5c24[_0x362247(0x263)](),await _0x5cf826[_0x362247(0x50c)]({'_id':_0x1c5a43},JSON[_0x362247(0x28e)](JSON[_0x362247(0x31d)](_0x265e13,pe[_0x362247(0x557)]['replacer'])),{'upsert':!0x0});}catch{}},_0x48e374=async _0x21a48b=>{const _0x42422a=_0x2385a1;try{await _0x1d5c24[_0x42422a(0x263)]();let _0x321be8=await _0x5cf826[_0x42422a(0x868)]({'_id':_0x21a48b}),_0x109b60=JSON['stringify'](_0x321be8);return JSON[_0x42422a(0x28e)](_0x109b60,pe[_0x42422a(0x557)]['reviver']);}catch{}},_0x40c178=async _0x1f866c=>{const _0x2b05c8=_0x2385a1;try{return await _0x1d5c24[_0x2b05c8(0x263)](),await _0x5cf826['deleteOne']({'_id':_0x1f866c});}catch{}},_0x3a8128=await _0x48e374(_0x2385a1(0x685))||(0x0,pe[_0x2385a1(0x2d7)])();return{'state':{'creds':_0x3a8128,'keys':{'get':async(_0x238ee2,_0x17546d)=>{const _0x25caec=_0x2385a1;let _0x47a15c={};return await Promise[_0x25caec(0x679)](_0x17546d[_0x25caec(0x28d)](async _0x4b4390=>{const _0x359fa7=_0x25caec;let _0x4a4733=await _0x48e374(_0x238ee2+'-'+_0x4b4390);_0x238ee2===_0x359fa7(0x5f7)&&_0x4a4733&&(_0x4a4733=pe[_0x359fa7(0x41e)][_0x359fa7(0x648)]['AppStateSyncKeyData'][_0x359fa7(0x347)](_0x4a4733)),_0x47a15c[_0x4b4390]=_0x4a4733;})),_0x47a15c;},'set':async _0x578f77=>{const _0x4b78bf=_0x2385a1;let _0x5a9eb5=[];for(let _0x2d4bcd in _0x578f77)for(let _0x29e4f9 in _0x578f77[_0x2d4bcd]){let _0x382494=_0x578f77[_0x2d4bcd][_0x29e4f9],_0x4c3d35=_0x2d4bcd+'-'+_0x29e4f9;_0x5a9eb5['push'](_0x382494?_0xd3d58d(_0x382494,_0x4c3d35):_0x40c178(_0x4c3d35));}await Promise[_0x4b78bf(0x679)](_0x5a9eb5);}}},'saveCreds':async()=>_0xd3d58d(_0x3a8128,_0x2385a1(0x685))};}var Ts=O(require(a0_0x420d4d(0x2af))),Is=O(require(a0_0x420d4d(0x2cb))),_t=require(a0_0x420d4d(0x61a)),wo=require('@redis/client'),Dt=require(a0_0x420d4d(0x61a)),xt;function Er(_0xe5a2b4){const _0x2120b1=a0_0x420d4d;return xt||(xt=(0x0,wo[_0x2120b1(0x66f)])({'url':_0xe5a2b4[_0x2120b1(0x46b)]}),xt['connect']()),xt;}var le=class c{constructor(_0x2a1e0e,_0xa647de){const _0x2ff6af=a0_0x420d4d;this['redisEnv']=_0x2a1e0e,this[_0x2ff6af(0x83a)]=_0xa647de,this[_0x2ff6af(0x2bc)]=new R(c[_0x2ff6af(0x325)]),this[_0x2ff6af(0x43d)]=Er(_0x2a1e0e);}set[a0_0x420d4d(0x360)](_0x5c2fed){this['instanceName']=_0x5c2fed;}async[a0_0x420d4d(0x229)](){const _0x3ed830=a0_0x420d4d;try{return await this['client'][_0x3ed830(0x5ba)]([_0x3ed830(0x673),this[_0x3ed830(0x747)][_0x3ed830(0x492)]+':*']);}catch(_0x5d591e){this[_0x3ed830(0x2bc)][_0x3ed830(0x82e)](_0x5d591e);}}async[a0_0x420d4d(0x257)](_0x23a353,_0x3cdfdd){const _0x331ac5=a0_0x420d4d;try{let _0x2641e4=JSON[_0x331ac5(0x31d)](_0x3cdfdd,Dt[_0x331ac5(0x557)][_0x331ac5(0x40f)]);return await this['client'][_0x331ac5(0x4b5)](this['redisEnv'][_0x331ac5(0x492)]+':'+this[_0x331ac5(0x83a)],_0x23a353,_0x2641e4);}catch(_0x23c293){this[_0x331ac5(0x2bc)][_0x331ac5(0x82e)](_0x23c293);}}async[a0_0x420d4d(0x834)](){const _0x49bbcd=a0_0x420d4d;try{let _0x59e936=await this[_0x49bbcd(0x43d)][_0x49bbcd(0x529)](this[_0x49bbcd(0x747)][_0x49bbcd(0x492)]+':'+this['instanceName']);if(_0x59e936){for(let _0x10430c in _0x59e936)Object[_0x49bbcd(0x25e)][_0x49bbcd(0x5e8)]['call'](_0x59e936,_0x10430c)&&(_0x59e936[_0x10430c]=JSON[_0x49bbcd(0x28e)](_0x59e936[_0x10430c],Dt[_0x49bbcd(0x557)][_0x49bbcd(0x5f4)]));return _0x59e936;}}catch(_0x59ddd2){this[_0x49bbcd(0x2bc)][_0x49bbcd(0x82e)](_0x59ddd2);}}async[a0_0x420d4d(0x83e)](_0x117bb6){const _0x214dc6=a0_0x420d4d;try{let _0x4ff988=await this['client'][_0x214dc6(0x41c)](this[_0x214dc6(0x747)][_0x214dc6(0x492)]+':'+this[_0x214dc6(0x83a)],_0x117bb6);if(_0x4ff988)return JSON[_0x214dc6(0x28e)](_0x4ff988,Dt['BufferJSON'][_0x214dc6(0x5f4)]);}catch(_0x518266){this[_0x214dc6(0x2bc)][_0x214dc6(0x82e)](_0x518266);}}async[a0_0x420d4d(0x3c5)](_0x4f1049){const _0x1aa0d9=a0_0x420d4d;try{return await this[_0x1aa0d9(0x43d)]['hDel'](this[_0x1aa0d9(0x747)][_0x1aa0d9(0x492)]+':'+this[_0x1aa0d9(0x83a)],_0x4f1049);}catch(_0x330dfc){this[_0x1aa0d9(0x2bc)]['error'](_0x330dfc);}}async[a0_0x420d4d(0x2e7)](_0x123b89){const _0x2eaf1b=a0_0x420d4d;try{return await this[_0x2eaf1b(0x43d)][_0x2eaf1b(0x2f6)](_0x123b89||this[_0x2eaf1b(0x747)][_0x2eaf1b(0x492)]+':'+this[_0x2eaf1b(0x83a)]);}catch(_0xa18f67){this[_0x2eaf1b(0x2bc)][_0x2eaf1b(0x82e)](_0xa18f67);}}};async function Rs(_0x2b0d3e,_0xd73bd4){const _0x3470d0=a0_0x420d4d;let _0x4cf85c=new R(Rs[_0x3470d0(0x325)]),_0x1c9b87=new le(_0x2b0d3e,_0xd73bd4),_0x30750f=async(_0x5c94ef,_0x23fd13)=>{const _0x14a706=_0x3470d0;try{return await _0x1c9b87[_0x14a706(0x257)](_0x23fd13,_0x5c94ef);}catch(_0x2e1bd6){return _0x4cf85c['error']({'localError':_0x14a706(0x257),'error':_0x2e1bd6});}},_0x20c1a6=async _0x28af60=>{const _0x449acb=_0x3470d0;try{return await _0x1c9b87[_0x449acb(0x83e)](_0x28af60);}catch(_0xb3b5a6){_0x4cf85c[_0x449acb(0x82e)]({'readData':'writeData','error':_0xb3b5a6});return;}},_0x19fa27=async _0x3f5540=>{const _0x3a927f=_0x3470d0;try{return await _0x1c9b87[_0x3a927f(0x3c5)](_0x3f5540);}catch(_0xec5455){_0x4cf85c['error']({'readData':_0x3a927f(0x3c5),'error':_0xec5455});}},_0x28bcd1=await _0x20c1a6(_0x3470d0(0x685))||(0x0,_t['initAuthCreds'])();return{'state':{'creds':_0x28bcd1,'keys':{'get':async(_0x4ef033,_0x4b500e)=>{const _0x4aa787=_0x3470d0;let _0x474a5b={};return await Promise[_0x4aa787(0x679)](_0x4b500e[_0x4aa787(0x28d)](async _0x33a5ac=>{const _0x1bb403=_0x4aa787;let _0x4f4b3c=await _0x20c1a6(_0x4ef033+'-'+_0x33a5ac);_0x4ef033==='app-state-sync-key'&&_0x4f4b3c&&(_0x4f4b3c=_t[_0x1bb403(0x41e)][_0x1bb403(0x648)][_0x1bb403(0x499)]['fromObject'](_0x4f4b3c)),_0x474a5b[_0x33a5ac]=_0x4f4b3c;})),_0x474a5b;},'set':async _0x1aa518=>{const _0x109cc3=_0x3470d0;let _0x5771a3=[];for(let _0x373d64 in _0x1aa518)for(let _0x515b35 in _0x1aa518[_0x373d64]){let _0x477a3b=_0x1aa518[_0x373d64][_0x515b35],_0x2b9960=_0x373d64+'-'+_0x515b35;_0x5771a3[_0x109cc3(0x26a)](_0x477a3b?await _0x30750f(_0x477a3b,_0x2b9960):await _0x19fa27(_0x2b9960));}await Promise[_0x109cc3(0x679)](_0x5771a3);}}},'saveCreds':async()=>await _0x30750f(_0x28bcd1,_0x3470d0(0x685))};}var j=O(require('fs')),Me=require(a0_0x420d4d(0x88a)),Lt=O(require(a0_0x420d4d(0x45e))),Ft=require(a0_0x420d4d(0x306)),vr=a0_0x420d4d(0x512)[a0_0x420d4d(0x7c0)](),Pt=vr['split']('\x0a')[a0_0x420d4d(0x28d)](_0x5766e9=>{const _0xe83e98=a0_0x420d4d;let _0x8aed05=_0x5766e9[_0xe83e98(0x65d)](':'),_0x1b9101={'host':_0x8aed05[0x0],'port':_0x8aed05[0x1],'protocol':_0xe83e98(0x7d1)};return _0x8aed05[_0xe83e98(0x297)]===0x4&&(_0x1b9101[_0xe83e98(0x30e)]=_0x8aed05[0x2],_0x1b9101[_0xe83e98(0x355)]=_0x8aed05[0x3]),_0x1b9101;});function yo(_0x2b9da6){const _0x174fa7=a0_0x420d4d;return Pt[_0x174fa7(0x561)](_0x194cc7=>_0x194cc7['host']===_0x2b9da6)||null;}function bo(){const _0x445acb=a0_0x420d4d;if(Pt[_0x445acb(0x297)]===0x0)return null;let _0x1a514b=Math[_0x445acb(0x823)](Math[_0x445acb(0x7f6)]()*Pt[_0x445acb(0x297)]);return Pt[_0x1a514b];}function $s(_0x3318ba){const _0x2cf6d0=a0_0x420d4d;let _0x4ee936=_0x533349=>typeof _0x533349==_0x2cf6d0(0x7fb)&&_0x533349['length']>0x0,_0x692d16=_0x2bf29d=>{let _0x4bd0c6=parseInt(_0x2bf29d,0xa);return!isNaN(_0x4bd0c6)&&_0x4bd0c6>0x0&&_0x4bd0c6<=0xffff;},_0x3dfe9b=_0x2335f7=>typeof _0x2335f7==_0x2cf6d0(0x7fb)&&_0x2335f7[_0x2cf6d0(0x297)]>0x0;return _0x3318ba&&_0x4ee936(_0x3318ba['host'])&&_0x692d16(_0x3318ba[_0x2cf6d0(0x7e4)])&&(!_0x3318ba[_0x2cf6d0(0x30e)]||_0x3dfe9b(_0x3318ba[_0x2cf6d0(0x30e)]))&&(!_0x3318ba['password']||_0x3dfe9b(_0x3318ba[_0x2cf6d0(0x355)]))&&(_0x3318ba[_0x2cf6d0(0x5c2)]==='http'||_0x3318ba[_0x2cf6d0(0x5c2)]===_0x2cf6d0(0x68e));}var Jt=require(a0_0x420d4d(0x5ef)),xs='Safari',No,ue=null,So=null,st=null,Nr=0x3,Rr=null,ee=b[a0_0x420d4d(0x71d)](a0_0x420d4d(0x58a))[a0_0x420d4d(0x3bc)][a0_0x420d4d(0x63c)];async function $r(){const _0x20fc15=a0_0x420d4d;let _0x584ca5=await Se[_0x20fc15(0x868)]();ue=_0x584ca5?.[_0x20fc15(0x3aa)]??null,Rr=_0x584ca5?.['DaysToDelete']??null,xs=_0x584ca5?.[_0x20fc15(0x56a)]??'Safari',No=_0x584ca5?.['connectedName']??Ds??_0x20fc15(0x87e),console[_0x20fc15(0x3a6)](_0x584ca5);}async function Ar(){await $r();}Ar();var Mo={},oe={},Ce=class c{constructor(_0x2b79cc,_0x4bd2cc,_0x18268e){const _0x5e1d12=a0_0x420d4d;this[_0x5e1d12(0x538)]=_0x2b79cc,this['eventEmitter']=_0x4bd2cc,this[_0x5e1d12(0x7f0)]=_0x18268e,this[_0x5e1d12(0x3e4)]=null,this[_0x5e1d12(0x2bc)]=new R(c['name']),this[_0x5e1d12(0x238)]={},this[_0x5e1d12(0x5b4)]={},this[_0x5e1d12(0x7a7)]={'state':'close'},this[_0x5e1d12(0x895)]=(0x0,F['join'])(ne,_0x5e1d12(0x7f2)),this[_0x5e1d12(0x5f8)]=new Is[(_0x5e1d12(0x7f3))](),this[_0x5e1d12(0x1fb)]=new Is[(_0x5e1d12(0x7f3))](),this[_0x5e1d12(0x3f2)]=!0x1,this['webhookMap']={'status.instance':'/wa-connection-update','connection.update':_0x5e1d12(0x57a),'qrcode.updated':_0x5e1d12(0x73e),'messages.upsert':_0x5e1d12(0x3e7),'send.message':'/wa-message','messages.update':'/wa-message-update','group.upsert':_0x5e1d12(0x630),'group.update':_0x5e1d12(0x630),'group-participants.update':_0x5e1d12(0x630),'messages.set':_0x5e1d12(0x51a),'contacts.set':_0x5e1d12(0x7f9),'contacts.upsert':_0x5e1d12(0x7f9),'contacts.update':_0x5e1d12(0x7f9),'presence.update':_0x5e1d12(0x76f),'chats.set':_0x5e1d12(0x655),'chats.update':_0x5e1d12(0x655),'chats.upsert':_0x5e1d12(0x655),'chats.delete':_0x5e1d12(0x655)},this[_0x5e1d12(0x5a0)]=0x0,this[_0x5e1d12(0x42a)]=[],this[_0x5e1d12(0x3bb)]=0xa,this[_0x5e1d12(0x1cb)]=0xea60,this['isRunning']=!0x1,this['chatHandle']={'chats.upsert':async(_0x2d3d7e,_0x229b19)=>{const _0x77f25d=_0x5e1d12;let _0x155559=[];for await(let _0x3daeab of _0x2d3d7e)_0x155559[_0x77f25d(0x26a)]({'_id':_0x3daeab['id'],'owner':this[_0x77f25d(0x238)][_0x77f25d(0x5df)],'group':_0x3daeab['id']['endsWith'](_0x77f25d(0x2ad)),'name':_0x3daeab['name']||_0x3daeab[_0x77f25d(0x336)]||null,'contactname':null,'lastmsg':_0x3daeab['conversationTimestamp']&&_0x3daeab['conversationTimestamp'][_0x77f25d(0x5d4)]()[_0x77f25d(0x297)]<0xd?_0x3daeab[_0x77f25d(0x2d6)]*0x3e8:_0x3daeab[_0x77f25d(0x2d6)]||null,'archived':_0x3daeab[_0x77f25d(0x4ac)]||!0x1,'unreadcount':_0x3daeab[_0x77f25d(0x3b2)]||0x0,'ephemeralExpiration':_0x3daeab[_0x77f25d(0x404)]||0x0});this['sendDataWebhook'](_0x77f25d(0x36f),_0x155559);},'chats.update':async(_0x57133a,_0x5327e3)=>{const _0x346afa=_0x5e1d12;for(let _0x5eba67 of _0x57133a){let _0x2e14bb={'_id':_0x5eba67['id'],'owner':this[_0x346afa(0x238)][_0x346afa(0x5df)],'archived':_0x5eba67[_0x346afa(0x4ac)],'muteEndTime':_0x5eba67['muteEndTime'],'ephemeralExpiration':_0x5eba67[_0x346afa(0x404)]},_0x1a365d=!0x1,_0x50a7d3={};_0x2e14bb[_0x346afa(0x4ac)]!=null&&(this[_0x346afa(0x2bc)][_0x346afa(0x200)](this[_0x346afa(0x83a)]+'\x20('+this['instance'][_0x346afa(0x5df)]+_0x346afa(0x8af)+_0x5eba67['id']+'\x20:\x20'+_0x5eba67[_0x346afa(0x4ac)]),_0x1a365d=!0x0,_0x50a7d3[_0x346afa(0x4ac)]=_0x5eba67[_0x346afa(0x4ac)]),_0x346afa(0x1e3)in _0x5eba67&&(this[_0x346afa(0x2bc)]['verbose'](this[_0x346afa(0x83a)]+'\x20('+this[_0x346afa(0x238)][_0x346afa(0x5df)]+_0x346afa(0x849)+_0x5eba67['id']+_0x346afa(0x8a9)+(_0x5eba67[_0x346afa(0x1e3)]??'0')),_0x1a365d=!0x0,_0x50a7d3['muteEndTime']=_0x5eba67[_0x346afa(0x1e3)]??0x0),'ephemeralExpiration'in _0x5eba67&&(this[_0x346afa(0x2bc)]['verbose'](this[_0x346afa(0x83a)]+'\x20('+this[_0x346afa(0x238)]['wuid']+'):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20'+_0x5eba67['id']+'\x20:\x20'+(_0x5eba67['ephemeralExpiration']!==void 0x0?_0x5eba67[_0x346afa(0x404)]:_0x346afa(0x2b7))),_0x50a7d3[_0x346afa(0x404)]=_0x5eba67[_0x346afa(0x404)]===null?0x0:_0x5eba67[_0x346afa(0x404)],_0x1a365d=!0x0);let _0x1bfcaf;_0x1a365d&&(_0x1bfcaf=await this[_0x346afa(0x7f0)][_0x346afa(0x6e9)]['updateOne']({'where':{'_id':_0x5eba67['id']}},_0x50a7d3,this['instance']['wuid'])),_0x1bfcaf&&J(this[_0x346afa(0x83a)],'chats',{'chat':_0x1bfcaf});}},'chats.delete':async _0x33f49d=>{const _0x1305ff=_0x5e1d12;for(let _0x193525 of _0x33f49d)if(_0x193525['endsWith'](_0x1305ff(0x2ad))){await this['repository'][_0x1305ff(0x6e9)][_0x1305ff(0x845)]({'where':{'_id':_0x193525}},this[_0x1305ff(0x238)][_0x1305ff(0x5df)]);let _0x2c9648={'where':{'key':{'remoteJid':_0x193525}}};await this['repository'][_0x1305ff(0x8d5)]['delete'](_0x2c9648,this['instance'][_0x1305ff(0x5df)]);}else{await this['repository'][_0x1305ff(0x6e9)][_0x1305ff(0x4a8)]({'where':{'_id':_0x193525}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x1305ff(0x238)][_0x1305ff(0x5df)]);let _0x5bf9c5={'where':{'key':{'remoteJid':_0x193525}}};await this[_0x1305ff(0x7f0)][_0x1305ff(0x8d5)][_0x1305ff(0x845)](_0x5bf9c5,this[_0x1305ff(0x238)][_0x1305ff(0x5df)]);}this['sendDataWebhook'](_0x1305ff(0x33d),[..._0x33f49d]);}},this[_0x5e1d12(0x691)]={'contacts.upsert':async(_0x32889d,_0x42fd1)=>{const _0x317df4=_0x5e1d12;let _0x5cd837=await this[_0x317df4(0x7f0)][_0x317df4(0x617)][_0x317df4(0x561)]({'where':{}},this[_0x317df4(0x238)]['wuid']),_0x25056c=[];for await(let _0x9282fd of _0x32889d)_0x5cd837['find'](_0x1f4d20=>_0x1f4d20[_0x317df4(0x664)]===_0x9282fd['id'])||_0x25056c[_0x317df4(0x26a)]({'_id':_0x9282fd['id'],'pushName':_0x9282fd?.['name']||_0x9282fd?.[_0x317df4(0x46c)],'owner':this[_0x317df4(0x238)][_0x317df4(0x5df)]});this[_0x317df4(0x708)](_0x317df4(0x5f1),_0x25056c),await this[_0x317df4(0x7f0)][_0x317df4(0x617)]['insert'](_0x25056c);},'contacts.update':async(_0x525d38,_0x371239)=>{const _0x607f7b=_0x5e1d12;let _0x5c523b=[];for await(let _0x52d4ed of _0x525d38)_0x5c523b[_0x607f7b(0x26a)]({'_id':_0x52d4ed['id'],'pushName':_0x52d4ed?.[_0x607f7b(0x325)]??_0x52d4ed?.[_0x607f7b(0x46c)],'owner':this[_0x607f7b(0x238)][_0x607f7b(0x5df)]});this['sendDataWebhook'](_0x607f7b(0x4ae),_0x5c523b);}},this[_0x5e1d12(0x30c)]={'messaging-history.set':async({messages:_0x378309,chats:_0x3c91a0,isLatest:_0x3ea180},_0x1ab8b4)=>{const _0x15ddc7=_0x5e1d12;if(_0x3ea180){let _0x5642ad=await Promise[_0x15ddc7(0x679)](_0x3c91a0[_0x15ddc7(0x28d)](async _0xe627b3=>({'_id':_0xe627b3['id'],'owner':this[_0x15ddc7(0x238)]['wuid'],'group':_0xe627b3['id'][_0x15ddc7(0x61c)](_0x15ddc7(0x2ad)),'name':_0xe627b3['name']||_0xe627b3['displayName']||_0xe627b3[_0x15ddc7(0x30e)]||null,'contactname':null,'lastmsg':_0xe627b3[_0x15ddc7(0x2d6)]&&_0xe627b3['conversationTimestamp'][_0x15ddc7(0x5d4)]()[_0x15ddc7(0x297)]<0xd?_0xe627b3['conversationTimestamp']*0x3e8:_0xe627b3[_0x15ddc7(0x2d6)]||null,'archived':_0xe627b3[_0x15ddc7(0x4ac)]||!0x1,'unreadcount':_0xe627b3[_0x15ddc7(0x3b2)]||0x0,'ephemeralExpiration':_0xe627b3[_0x15ddc7(0x404)]||0x0,'muteEndTime':_0xe627b3[_0x15ddc7(0x1e3)]||0x0})));this['sendDataWebhook']('chats.set',_0x5642ad),await this[_0x15ddc7(0x460)](_0x5642ad,_0x1ab8b4);}let _0x16f716=[],_0x29abbc=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x28179a]of Object['entries'](_0x378309)){if(_0x28179a[_0x15ddc7(0x8d5)]?.[_0x15ddc7(0x575)]||_0x28179a[_0x15ddc7(0x8d5)]?.[_0x15ddc7(0x3d5)]||!_0x28179a[_0x15ddc7(0x8d5)]||_0x28179a[_0x15ddc7(0x5a3)][_0x15ddc7(0x1f9)]===_0x15ddc7(0x48e)||(Ts[_0x15ddc7(0x7f3)]['isLong'](_0x28179a?.['messageTimestamp'])&&(_0x28179a[_0x15ddc7(0x2ef)]=_0x28179a[_0x15ddc7(0x2ef)]?.[_0x15ddc7(0x346)]()),_0x28179a[_0x15ddc7(0x2ef)]&&_0x28179a[_0x15ddc7(0x2ef)]['toString']()[_0x15ddc7(0x297)]<0xd&&(_0x28179a[_0x15ddc7(0x2ef)]=_0x28179a[_0x15ddc7(0x2ef)]*0x3e8),_0x28179a[_0x15ddc7(0x2ef)]<_0x29abbc))continue;let _0x325e9f=(0x0,f[_0x15ddc7(0x295)])(_0x28179a[_0x15ddc7(0x8d5)]),_0x182678=(0x0,f[_0x15ddc7(0x312)])(_0x325e9f),{message_normalized:_0x193337}=this['normalizeMessage'](_0x325e9f,_0x182678,null);Object[_0x15ddc7(0x673)](_0x193337)[_0x15ddc7(0x297)]>0x0&&_0x16f716[_0x15ddc7(0x26a)]({'_id':_0x28179a['key']['id'],'key':_0x28179a[_0x15ddc7(0x5a3)],'pushName':_0x28179a['pushName'],'participant':_0x28179a['participant'],'message':_0x325e9f,'messageType':_0x182678,'message_normalized':{'key':_0x28179a['key'],'pushName':_0x28179a[_0x15ddc7(0x8d4)],'messageTimestamp':_0x28179a[_0x15ddc7(0x2ef)],..._0x193337},'messageTimestamp':_0x28179a[_0x15ddc7(0x2ef)],'owner':this[_0x15ddc7(0x238)]['wuid']});}_0x1ab8b4['ENABLED']&&_0x16f716[_0x15ddc7(0x297)]>0x0&&(this[_0x15ddc7(0x2bc)][_0x15ddc7(0x200)](this[_0x15ddc7(0x83a)]+'\x20('+this[_0x15ddc7(0x238)]['wuid']+_0x15ddc7(0x55c)+_0x16f716[_0x15ddc7(0x297)]+_0x15ddc7(0x6c2)+this[_0x15ddc7(0x238)][_0x15ddc7(0x5df)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0x15ddc7(0x7f0)][_0x15ddc7(0x8d5)][_0x15ddc7(0x7b3)]([..._0x16f716],this['instance'][_0x15ddc7(0x5df)])),this[_0x15ddc7(0x708)](_0x15ddc7(0x3e0),[..._0x16f716]),_0x378309=void 0x0;},'messages.upsert':async({messages:_0x235e4d,type:_0x136716},_0x25776a)=>{const _0x3918cc=_0x5e1d12;let _0x433c12=_0x235e4d[0x0],_0x124515=_0x433c12[_0x3918cc(0x5a3)]['id'],_0x67df0d=_0x433c12[_0x3918cc(0x367)]===0x2,_0x5d3cfc=0xb;if(this[_0x3918cc(0x5b4)]?.[_0x3918cc(0x6e5)]&&_0x433c12['key'][_0x3918cc(0x1f9)][_0x3918cc(0x3a0)]('@g.us')){this[_0x3918cc(0x2bc)]['verbose'](this['instanceName']+'\x20('+this[_0x3918cc(0x238)][_0x3918cc(0x5df)]+_0x3918cc(0x505));return;}if(_0x67df0d){if(oe[_0x124515]||(oe[_0x124515]=0x0),oe[_0x124515]++,this[_0x3918cc(0x2bc)][_0x3918cc(0x82e)](this['instanceName']+'\x20('+this[_0x3918cc(0x238)]['wuid']+_0x3918cc(0x51d)+_0x433c12['key'][_0x3918cc(0x1f9)]+_0x3918cc(0x744)+_0x124515+':\x20'+oe[_0x124515]+'/'+_0x5d3cfc),oe[_0x124515]>=_0x5d3cfc){this[_0x3918cc(0x2bc)][_0x3918cc(0x82e)](this[_0x3918cc(0x83a)]+'\x20('+this['instance']['wuid']+_0x3918cc(0x89a)+_0x433c12['key']['remoteJid']+_0x3918cc(0x744)+_0x124515+'.');let _0x50ea18={'key':{..._0x433c12['key']},'message':{'conversation':_0x3918cc(0x72a)+_0x124515+'\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.'}};this[_0x3918cc(0x43d)]['ev'][_0x3918cc(0x381)](_0x3918cc(0x24d),{'messages':[_0x50ea18],'type':_0x3918cc(0x558)}),delete oe[_0x124515];}}else oe[_0x124515]&&(this['logger'][_0x3918cc(0x283)]('[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20'+oe[_0x124515]+_0x3918cc(0x4db)+_0x433c12['key'][_0x3918cc(0x1f9)]+_0x3918cc(0x744)+_0x124515),delete oe[_0x124515]);if(_0x136716!=='notify'||!_0x433c12?.[_0x3918cc(0x8d5)]||_0x433c12[_0x3918cc(0x8d5)]?.[_0x3918cc(0x575)]||_0x433c12[_0x3918cc(0x8d5)][_0x3918cc(0x3d5)]||_0x433c12[_0x3918cc(0x5a3)][_0x3918cc(0x1f9)]===_0x3918cc(0x48e))return;let _0x51fc76=null,_0x3197f4=null;try{_0x51fc76=await this['processPollUpdateMessage'](_0x433c12),_0x3197f4=_0x51fc76?_0x51fc76['join'](','):null;}catch(_0x5c3884){this['logger']['verbose'](this[_0x3918cc(0x83a)]+'\x20('+this[_0x3918cc(0x238)]['wuid']+_0x3918cc(0x55c)+(_0x5c3884 instanceof Error?_0x5c3884[_0x3918cc(0x8d5)]:JSON[_0x3918cc(0x31d)](_0x5c3884,null,0x2))),_0x3197f4=_0x3918cc(0x54a);}this[_0x3918cc(0x43d)][_0x3918cc(0x6c0)](_0x3918cc(0x351)),Ts['default'][_0x3918cc(0x35b)](_0x433c12['messageTimestamp'])&&(_0x433c12[_0x3918cc(0x2ef)]=_0x433c12[_0x3918cc(0x2ef)]?.[_0x3918cc(0x346)]()),_0x433c12[_0x3918cc(0x2ef)]&&_0x433c12[_0x3918cc(0x2ef)][_0x3918cc(0x5d4)]()[_0x3918cc(0x297)]<0xd&&(_0x433c12[_0x3918cc(0x2ef)]=_0x433c12[_0x3918cc(0x2ef)]*0x3e8);let _0x10c931=_0x433c12[_0x3918cc(0x8d5)],_0x3d66de=(0x0,f[_0x3918cc(0x295)])(_0x10c931),_0x40d1fb=(0x0,f['getContentType'])(_0x3d66de),{messageContent:_0x22f979,message_normalized:_0x2a26d9}=this[_0x3918cc(0x3b3)](_0x3d66de,_0x40d1fb,_0x3197f4);_0x40d1fb===_0x3918cc(0x575)&&_0x22f979?.[_0x3918cc(0x22c)]&&(_0x40d1fb=_0x3918cc(0x22c));let _0x1c10b3,_0x3d1943=_0x433c12[_0x3918cc(0x5a3)][_0x3918cc(0x1f9)][_0x3918cc(0x61c)](_0x3918cc(0x2ad));if(_0x433c12[_0x3918cc(0x5a3)][_0x3918cc(0x461)])_0x1c10b3=this[_0x3918cc(0x238)]['profilePictureUrl'];else{let _0x34eaff=_0x3d1943?_0x433c12['key']['participant']:_0x433c12[_0x3918cc(0x5a3)][_0x3918cc(0x1f9)];_0x1c10b3=(await this[_0x3918cc(0x54f)](_0x34eaff,_0x433c12[_0x3918cc(0x8d4)],!0x1))['cachedContact'][_0x3918cc(0x46d)];}let _0x6a955d={'_id':_0x433c12['key']['id'],'key':_0x433c12['key'],'isGroup':_0x3d1943,'profilePictureUrl':_0x1c10b3,'pushName':_0x433c12[_0x3918cc(0x8d4)],'message':_0x3d66de,'messageType':_0x40d1fb,'message_normalized':{'key':_0x433c12[_0x3918cc(0x5a3)],'pushName':_0x433c12[_0x3918cc(0x8d4)],'messageTimestamp':_0x433c12[_0x3918cc(0x2ef)],'source':(0x0,f['getDevice'])(_0x433c12[_0x3918cc(0x5a3)]['id']),..._0x2a26d9},'messageTimestamp':_0x433c12[_0x3918cc(0x2ef)],'owner':this[_0x3918cc(0x238)][_0x3918cc(0x5df)],'source':(0x0,f[_0x3918cc(0x3ec)])(_0x433c12[_0x3918cc(0x5a3)]['id']),'expiration':_0x22f979?.[_0x3918cc(0x5d8)]?.['expiration']||0x0};_0x22f979||(console[_0x3918cc(0x82e)](_0x3918cc(0x5c3)),this[_0x3918cc(0x2bc)][_0x3918cc(0x82e)](_0x6a955d)),this[_0x3918cc(0x2bc)][_0x3918cc(0x3a6)](this[_0x3918cc(0x83a)]+'\x20('+this[_0x3918cc(0x238)][_0x3918cc(0x5df)]+_0x3918cc(0x55c)+(_0x6a955d[_0x3918cc(0x5a3)]?.['fromMe']?_0x3918cc(0x743):_0x3918cc(0x36e))+'\x20['+_0x6a955d[_0x3918cc(0x5a3)]?.[_0x3918cc(0x1f9)][_0x3918cc(0x576)](_0x3918cc(0x8dd),'')+_0x3918cc(0x5a1)+_0x6a955d[_0x3918cc(0x234)]+')'),_0x6a955d['message_normalized']?.['text']&&this['logger'][_0x3918cc(0x3a6)](_0x124515+':\x20'+_0x6a955d['message_normalized']?.['text']),await this[_0x3918cc(0x7f0)][_0x3918cc(0x8d5)][_0x3918cc(0x7b3)]([_0x6a955d],this[_0x3918cc(0x238)][_0x3918cc(0x5df)]),this['sendDataWebhook'](_0x3918cc(0x24d),_0x6a955d),J(this['instanceName'],'messages',{'message':_0x6a955d}),_0x433c12[_0x3918cc(0x5a3)]['remoteJid']!=='status@broadcast'&&await this['updateChatWithMessage'](_0x25776a,_0x6a955d,_0x3918cc(0x3e8));},'messages.update':async(_0xd47c7d,_0x384578)=>{const _0x2bbe2c=_0x5e1d12;let _0x4deb85={0x0:_0x2bbe2c(0x7c4),0x1:_0x2bbe2c(0x2e5),0x2:_0x2bbe2c(0x204),0x3:_0x2bbe2c(0x270),0x4:_0x2bbe2c(0x7dc),0x5:'PLAYED'};for await(let {key:_0x53ced9,update:_0x5d6647}of _0xd47c7d){if(this[_0x2bbe2c(0x5b4)]?.[_0x2bbe2c(0x6e5)]&&_0x53ced9[_0x2bbe2c(0x1f9)][_0x2bbe2c(0x3a0)](_0x2bbe2c(0x2ad))){this[_0x2bbe2c(0x2bc)]['verbose'](this[_0x2bbe2c(0x83a)]+'\x20('+this[_0x2bbe2c(0x238)][_0x2bbe2c(0x5df)]+_0x2bbe2c(0x6b1));return;}if(_0x53ced9[_0x2bbe2c(0x1f9)]!==_0x2bbe2c(0x48e)){let _0x3afeb0=Date['now'](),_0x18c362;_0x5d6647['message']===null&&_0x5d6647[_0x2bbe2c(0x69e)]===void 0x0?_0x18c362=_0x2bbe2c(0x1d6):_0x18c362=_0x4deb85[_0x5d6647[_0x2bbe2c(0x69e)]];let _0x1af98b=_0x53ced9[_0x2bbe2c(0x1f9)][_0x2bbe2c(0x576)](/:\d{1,2}@/g,'@'),_0x3f08c1={..._0x53ced9,'remoteJid':_0x1af98b,'status':_0x18c362,'datetime':_0x3afeb0,'owner':this[_0x2bbe2c(0x238)]['wuid']};this[_0x2bbe2c(0x708)](_0x2bbe2c(0x852),_0x3f08c1),await this[_0x2bbe2c(0x696)](_0x53ced9,_0x3f08c1);}}},'labels.association':async({type:_0x14ddbe,association:_0x265eeb})=>{const _0x2e735c=_0x5e1d12;if(_0x265eeb['type']===_0x2e735c(0x7b6)){let _0x108f29,_0x305288=0x0;for(;!_0x108f29&&_0x305288<this[_0x2e735c(0x1fa)];)_0x108f29=await this[_0x2e735c(0x7f0)][_0x2e735c(0x6e9)][_0x2e735c(0x868)]({'where':{'_id':_0x265eeb[_0x2e735c(0x39f)]}},this[_0x2e735c(0x238)][_0x2e735c(0x5df)]),_0x108f29||(_0x305288++,this[_0x2e735c(0x2bc)][_0x2e735c(0x536)](this[_0x2e735c(0x83a)]+'\x20('+this[_0x2e735c(0x238)][_0x2e735c(0x5df)]+'):\x20Chat\x20'+_0x265eeb[_0x2e735c(0x39f)]+_0x2e735c(0x2c3)+this[_0x2e735c(0x835)]+_0x2e735c(0x701)+_0x305288+'/'+this[_0x2e735c(0x1fa)]+')'),await this[_0x2e735c(0x861)](this[_0x2e735c(0x835)]));if(!_0x108f29){console[_0x2e735c(0x82e)]('Falhou\x20ao\x20encontrar\x20chat\x20'+_0x265eeb[_0x2e735c(0x39f)]+_0x2e735c(0x34f)+this[_0x2e735c(0x1fa)]+_0x2e735c(0x7f8));return;}switch(_0x14ddbe){case _0x2e735c(0x285):console[_0x2e735c(0x3a6)](_0x265eeb),await this[_0x2e735c(0x7f0)][_0x2e735c(0x6e9)][_0x2e735c(0x4a8)]({'where':{'_id':_0x265eeb['chatId']}},{'leadInfo.etiquetas':_0x265eeb[_0x2e735c(0x5f9)]},this[_0x2e735c(0x238)][_0x2e735c(0x5df)],void 0x0,'$addToSet');break;case _0x2e735c(0x5c9):console[_0x2e735c(0x3a6)](_0x265eeb),await this[_0x2e735c(0x7f0)]['chat'][_0x2e735c(0x4a8)]({'where':{'_id':_0x265eeb['chatId']}},{'leadInfo.etiquetas':_0x265eeb[_0x2e735c(0x5f9)]},this[_0x2e735c(0x238)][_0x2e735c(0x5df)],void 0x0,_0x2e735c(0x855));break;default:console['error'](_0x2e735c(0x47b)+_0x14ddbe+']');}}},'labels.edit':async _0x1aba35=>{const _0x90a3c9=_0x5e1d12;if(!_0x1aba35||!_0x1aba35['id']){console[_0x90a3c9(0x82e)](_0x90a3c9(0x332));return;}if(!_0x1aba35['deleted']){let _0x128ce4=[_0x90a3c9(0x7fa),_0x90a3c9(0x259),'#fed428',_0x90a3c9(0x587),_0x90a3c9(0x732),'#56ccb4',_0x90a3c9(0x754),_0x90a3c9(0x780),'#6f7bcf','#d8e651','#01d0e2',_0x90a3c9(0x6ce),'#92ceac',_0x90a3c9(0x466),_0x90a3c9(0x4b0),_0x90a3c9(0x230),_0x90a3c9(0x4f0),_0x90a3c9(0x7d2),_0x90a3c9(0x865),_0x90a3c9(0x2cc)],_0x54d6a8;typeof _0x1aba35[_0x90a3c9(0x3b5)]==_0x90a3c9(0x5d5)&&_0x1aba35['color']>=0x0&&_0x1aba35['color']<_0x128ce4[_0x90a3c9(0x297)]?_0x54d6a8=_0x128ce4[_0x1aba35[_0x90a3c9(0x3b5)]]:(console[_0x90a3c9(0x82e)]('Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:',_0x1aba35[_0x90a3c9(0x3b5)]),_0x54d6a8='#000000');let _0x2eb32f={'_id':_0x1aba35['id'],'colorHex':_0x54d6a8,'color':_0x1aba35?.[_0x90a3c9(0x3b5)],'name':_0x1aba35?.['name'],'owner':this[_0x90a3c9(0x238)]['wuid']};await this[_0x90a3c9(0x7f0)]['label'][_0x90a3c9(0x4a8)]({'where':{'_id':_0x1aba35['id']}},_0x2eb32f,this['instance']['wuid']),this[_0x90a3c9(0x2bc)][_0x90a3c9(0x536)](this[_0x90a3c9(0x83a)]+'\x20('+this[_0x90a3c9(0x238)][_0x90a3c9(0x5df)]+_0x90a3c9(0x69d)+_0x1aba35);}_0x1aba35[_0x90a3c9(0x508)]&&(await this[_0x90a3c9(0x7f0)]['label'][_0x90a3c9(0x845)]({'where':{'_id':_0x1aba35['id']}},this[_0x90a3c9(0x238)][_0x90a3c9(0x5df)]),this[_0x90a3c9(0x2bc)]['info'](_0x90a3c9(0x4f8)+_0x1aba35['id']));}},this[_0x5e1d12(0x8db)]={'groups.upsert':async _0x490e8b=>{const _0x1e148f=_0x5e1d12;this['localWebhook']?.[_0x1e148f(0x6e5)]||this[_0x1e148f(0x708)]('groups.upsert',_0x490e8b);for(let _0x53b58c of _0x490e8b)await this[_0x1e148f(0x491)](_0x53b58c);},'groups.update':async _0x12e29f=>{const _0x61065b=_0x5e1d12;this['localWebhook']?.[_0x61065b(0x6e5)]||this[_0x61065b(0x708)](_0x61065b(0x27a),_0x12e29f);for(let _0x395a03 of _0x12e29f)await this[_0x61065b(0x491)](_0x395a03);},'group-participants.update':async _0x473e3b=>{const _0x4b0181=_0x5e1d12;this['localWebhook']?.[_0x4b0181(0x6e5)]||this[_0x4b0181(0x708)]('group-participants.update',_0x473e3b),await this[_0x4b0181(0x4da)](_0x473e3b);}},this[_0x5e1d12(0x1fa)]=0x5,this[_0x5e1d12(0x835)]=0x1388,this['processPollUpdateMessage']=async _0x1870b5=>{const _0x43383b=_0x5e1d12;if(_0x1870b5[_0x43383b(0x8d5)]?.[_0x43383b(0x348)]){let _0xc59da3=await this[_0x43383b(0x231)](_0x1870b5[_0x43383b(0x8d5)][_0x43383b(0x348)][_0x43383b(0x703)],!0x0);if(_0xc59da3){let _0x531df4=_0xc59da3[_0x43383b(0x5a3)][_0x43383b(0x461)]?this[_0x43383b(0x238)][_0x43383b(0x5df)]+_0x43383b(0x8dd):_0xc59da3[_0x43383b(0x5a3)][_0x43383b(0x5bb)]||_0xc59da3['key']['remoteJid'],_0x1d7f64=_0xc59da3[_0x43383b(0x5a3)]['id'],_0x2cb22c=_0xc59da3['message'],_0x13b582=Buffer[_0x43383b(0x4ea)](_0x2cb22c[_0x43383b(0x618)][_0x43383b(0x52f)][_0x43383b(0x5d4)](_0x43383b(0x7fe)),'hex'),_0x290f62=(0x0,f[_0x43383b(0x781)])(_0x1870b5[_0x43383b(0x8d5)][_0x43383b(0x348)][_0x43383b(0x4d0)],{'pollCreatorJid':_0x531df4,'pollMsgId':_0x1d7f64,'pollEncKey':_0x13b582,'voterJid':_0x1870b5[_0x43383b(0x5a3)][_0x43383b(0x461)]?this[_0x43383b(0x238)][_0x43383b(0x5df)]+_0x43383b(0x8dd):_0x1870b5[_0x43383b(0x5a3)][_0x43383b(0x1f9)][_0x43383b(0x61c)]('g.us')?_0x1870b5[_0x43383b(0x5a3)]['participant']:_0x1870b5[_0x43383b(0x5a3)][_0x43383b(0x1f9)]}),_0x17c121=[],_0x416609=_0x290f62['selectedOptions'][_0x43383b(0x28d)](_0x2ea915=>Buffer[_0x43383b(0x4ea)](_0x2ea915)[_0x43383b(0x5d4)]('hex'));for(let {optionName:_0x51bfe1}of _0x2cb22c[_0x43383b(0x89e)]?.[_0x43383b(0x70a)]||_0x2cb22c[_0x43383b(0x403)]?.[_0x43383b(0x70a)]||_0x2cb22c[_0x43383b(0x58d)]?.['options'])_0x416609[_0x43383b(0x6a6)]((0x0,f[_0x43383b(0x464)])(Buffer[_0x43383b(0x4ea)](_0x51bfe1))['toString'](_0x43383b(0x7fe)))>-0x1&&_0x17c121[_0x43383b(0x26a)](_0x51bfe1);return _0x17c121;}}return null;},this[_0x5e1d12(0x3b3)]=(_0x230f08,_0x522dd0,_0x53e81a)=>{const _0x21e5b2=_0x5e1d12;try{let _0x158e2f=_0x230f08?(0x0,f[_0x21e5b2(0x45f)])(_0x230f08)[_0x522dd0]:void 0x0,_0x4a3468={},_0x13b841=null,_0x53bf1f=null,_0x506fda=null;_0x522dd0===_0x21e5b2(0x575)&&_0x158e2f?.['editedMessage']&&(_0x522dd0=(0x0,f[_0x21e5b2(0x312)])(_0x158e2f[_0x21e5b2(0x22c)]),_0x13b841=_0x230f08['protocolMessage'][_0x21e5b2(0x5a3)]['id'],_0x158e2f=_0x230f08[_0x21e5b2(0x575)][_0x21e5b2(0x22c)][_0x522dd0]),_0x230f08[_0x522dd0]?.[_0x21e5b2(0x5d8)]?.[_0x21e5b2(0x5e4)]&&_0x230f08[_0x522dd0]?.[_0x21e5b2(0x5d8)]?.[_0x21e5b2(0x4d4)]&&(_0x53bf1f=_0x230f08[_0x522dd0][_0x21e5b2(0x5d8)][_0x21e5b2(0x5e4)]),_0x230f08[_0x21e5b2(0x521)]&&(_0x506fda=_0x230f08[_0x21e5b2(0x521)][_0x21e5b2(0x5a3)]['id']);let _0x59fae2;if(_0x158e2f&&typeof _0x158e2f=='object'&&_0x21e5b2(0x703)in _0x158e2f&&({pollCreationMessageKey:_0x59fae2}=_0x158e2f),_0x522dd0===_0x21e5b2(0x89e)||_0x522dd0===_0x21e5b2(0x58d)||_0x522dd0===_0x21e5b2(0x403)){let _0x1c1704=_0x158e2f[_0x21e5b2(0x70a)][_0x21e5b2(0x28d)](_0x3ce450=>_0x3ce450[_0x21e5b2(0x6e7)])[_0x21e5b2(0x3c9)]('|');_0x4a3468[_0x21e5b2(0x371)]=_0x1c1704;}let _0x429d4a='';if(_0x158e2f&&(_0x429d4a+=_0x158e2f[_0x21e5b2(0x325)]?_0x158e2f[_0x21e5b2(0x325)]:'',_0x429d4a+=_0x158e2f[_0x21e5b2(0x84d)]?'\x20'+_0x158e2f['caption']:'',_0x429d4a+=_0x158e2f['conversation']?'\x20'+_0x158e2f[_0x21e5b2(0x1da)]:'',_0x429d4a+=_0x158e2f[_0x21e5b2(0x336)]?'\x20'+_0x158e2f[_0x21e5b2(0x336)]:''),_0x522dd0==='listMessage'){_0x429d4a=(_0x158e2f[_0x21e5b2(0x4a2)]||'')+'\x0a'+(_0x158e2f[_0x21e5b2(0x871)]||'')+'\x0a'+(_0x158e2f[_0x21e5b2(0x85b)]||'');let _0x126273=this[_0x21e5b2(0x530)](_0x158e2f[_0x21e5b2(0x28f)]);_0x4a3468[_0x21e5b2(0x371)]=_0x126273;}if(_0x522dd0===_0x21e5b2(0x564)&&(_0x53e81a=_0x158e2f[_0x21e5b2(0x4a2)]),_0x158e2f&&_0x158e2f[_0x21e5b2(0x47f)]){let _0x4d72fd=this['formatVCard'](JSON[_0x21e5b2(0x31d)](_0x158e2f[_0x21e5b2(0x47f)],null,0x2));_0x429d4a=_0x429d4a+'\x0a'+_0x4d72fd;}if(_0x158e2f){let {sections:_0x382457,listType:_0x5f1f3b,displayName:_0x4a4bbe,vcard:_0x513576,contactVcard:_0x1a9b35,name:_0x19d2b3,caption:_0x116ab9,conversation:_0x2563b5,pollCreationMessageKey:_0x5301b3,footerText:_0x56c3c7,contentText:_0x1d46d4,pageCount:_0x594bd7,headerType:_0x53a941,isAvatar:_0x39dc99,isAnimated:_0x4f69de,fallbackLc:_0x2f5788,fallbackLg:_0x40b466,namespace:_0x317689,elementName:_0x509cbf,localizableParams:_0x357edb,viewOnce:_0x25238c,height:_0x5c640e,width:_0x1b6b34,key:_0x2c7976,firstScanLength:_0x5ddcd2,firstScanSidecar:_0x4b4d7d,gifPlayback:_0x19813a,gifAttribution:_0x179cee,midQualityFileSha256:_0x4caa44,scansSidecar:_0x3a60e1,streamingSidecar:_0x4e665f,thumbnailHeight:_0x89a51a,thumbnailWidth:_0x1ec5b5,thumbnailEncSha256:_0x4ab35d,thumbnailDirectPath:_0x1423e4,canonicalUrl:_0xab6904,matchedText:_0x1fcbd7,previewType:_0x4f24dd,thumbnailSha256:_0x9148d,deviceListMetadataVersion:_0xe4f55f,inviteLinkGroupTypeV2:_0x397818,interactiveAnnotations:_0x1d95f1,scanLengths:_0x43fad5,jpegThumbnail:_0x27097d,url:_0xd6d7f,mediaKeyTimestamp:_0x54e144,waveform:_0x39cd72,stickerSentTs:_0x21123b,firstFrameLength:_0x2f3a4a,fileEncSha256:_0x2d8d82,contextInfo:_0x27606f,firstFrameSidecar:_0x49e5f4,directPath:_0x486bda,fileSha256:_0x5d6aea,mediaKey:_0x212ee6,senderTimestampMs:_0x214713,..._0x13f19b}=_0x158e2f;(_0x522dd0===_0x21e5b2(0x1e5)||_0x522dd0==='listResponseMessage')&&(delete _0x13f19b[_0x21e5b2(0x4a2)],delete _0x13f19b['description']),typeof _0x158e2f==_0x21e5b2(0x7fb)?_0x4a3468={'text':_0x158e2f,'type':_0x522dd0||_0x21e5b2(0x1da),..._0x13b841&&{'edited':_0x13b841},..._0x53bf1f&&{'quoted':_0x53bf1f},..._0x506fda&&{'reaction':_0x506fda}}:_0x4a3468={'text':_0x429d4a,..._0x13f19b,..._0x522dd0===_0x21e5b2(0x348)?{'poll_id':_0x158e2f[_0x21e5b2(0x703)]['id'],'quoted':_0x158e2f['pollCreationMessageKey']['id'],'vote':_0x53e81a}:{},..._0x522dd0===_0x21e5b2(0x564)?{'vote':_0x53e81a}:{},'type':_0x522dd0,..._0x13b841&&{'edited':_0x13b841},..._0x53bf1f&&{'quoted':_0x53bf1f},..._0x506fda&&{'reaction':_0x506fda},...(_0x522dd0===_0x21e5b2(0x89e)||_0x522dd0===_0x21e5b2(0x58d)||_0x522dd0===_0x21e5b2(0x403)||_0x522dd0===_0x21e5b2(0x1e5))&&{'convertedOptions':_0x4a3468[_0x21e5b2(0x371)]}};}return{'messageType':_0x522dd0,'messageContent':_0x158e2f,'message_normalized':_0x4a3468};}catch(_0x15cb5c){return console[_0x21e5b2(0x82e)](_0x21e5b2(0x631),_0x15cb5c),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x5e1d12(0x62c)](),this[_0x5e1d12(0x238)][_0x5e1d12(0x642)]={'count':0x0},this['instance'][_0x5e1d12(0x3a3)]={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0x420d4d(0x83a)](_0x24a3bb){const _0x15cc36=a0_0x420d4d;if(!_0x24a3bb){this['instance'][_0x15cc36(0x325)]=(0x0,Co['v4'])();return;}this[_0x15cc36(0x238)]['name']=_0x24a3bb,this[_0x15cc36(0x708)](_0x15cc36(0x888),{'instance':this['instance'][_0x15cc36(0x325)],'status':_0x15cc36(0x761)});}get[a0_0x420d4d(0x83a)](){const _0x2f7966=a0_0x420d4d;return this[_0x2f7966(0x238)][_0x2f7966(0x325)];}get[a0_0x420d4d(0x5df)](){const _0x418db2=a0_0x420d4d;return this[_0x418db2(0x238)][_0x418db2(0x5df)];}async[a0_0x420d4d(0x72f)](){const _0x30f8c2=a0_0x420d4d;let _0x1e905e=this[_0x30f8c2(0x43d)]['user']?.[_0x30f8c2(0x325)]??this[_0x30f8c2(0x43d)][_0x30f8c2(0x49f)]?.[_0x30f8c2(0x46c)];if(!_0x1e905e){if(this[_0x30f8c2(0x538)][_0x30f8c2(0x71d)](_0x30f8c2(0x626))[_0x30f8c2(0x46a)]){let _0x1ce1b0=await $[_0x30f8c2(0x7a3)]()['db'](this[_0x30f8c2(0x538)][_0x30f8c2(0x71d)]('DATABASE')[_0x30f8c2(0x7e1)][_0x30f8c2(0x4b1)]+'-instances')[_0x30f8c2(0x5d2)](this[_0x30f8c2(0x83a)])[_0x30f8c2(0x868)]({'_id':_0x30f8c2(0x685)});if(_0x1ce1b0){let _0x1cc66e=JSON['parse'](JSON[_0x30f8c2(0x31d)](_0x1ce1b0),f[_0x30f8c2(0x557)]['reviver']);_0x1e905e=_0x1cc66e['me']?.[_0x30f8c2(0x325)]||_0x1cc66e['me']?.[_0x30f8c2(0x46c)];}}else{if((0x0,xe[_0x30f8c2(0x600)])((0x0,F[_0x30f8c2(0x3c9)])(me,this['instanceName'],_0x30f8c2(0x203)))){let _0x33174f=JSON['parse']((0x0,xe[_0x30f8c2(0x81f)])((0x0,F[_0x30f8c2(0x3c9)])(me,this[_0x30f8c2(0x83a)],_0x30f8c2(0x203)),{'encoding':_0x30f8c2(0x502)}));_0x1e905e=_0x33174f['me']?.['name']||_0x33174f['me']?.[_0x30f8c2(0x46c)];}}}return _0x1e905e;}get[a0_0x420d4d(0x266)](){const _0x3343ba=a0_0x420d4d;return this['instance'][_0x3343ba(0x266)];}get[a0_0x420d4d(0x56c)](){const _0x260f29=a0_0x420d4d;return this[_0x260f29(0x238)][_0x260f29(0x642)]?.[_0x260f29(0x383)]?{'pairingCode':this[_0x260f29(0x238)][_0x260f29(0x642)]?.[_0x260f29(0x383)]}:{'code':this['instance'][_0x260f29(0x642)]?.[_0x260f29(0x5c0)],'base64':this[_0x260f29(0x238)][_0x260f29(0x642)]?.[_0x260f29(0x3ef)]};}async['loadWebhook'](){const _0x3c417f=a0_0x420d4d;let _0x203321=await this[_0x3c417f(0x7f0)][_0x3c417f(0x663)]['find'](this[_0x3c417f(0x83a)]);this['localWebhook'][_0x3c417f(0x5cd)]=_0x203321?.[_0x3c417f(0x5cd)],this[_0x3c417f(0x5b4)]['enabled']=_0x203321?.[_0x3c417f(0x87c)],this[_0x3c417f(0x5b4)][_0x3c417f(0x715)]=_0x203321?.[_0x3c417f(0x715)],this[_0x3c417f(0x5b4)]['STATUS_INSTANCE']=_0x203321?.[_0x3c417f(0x41d)],this[_0x3c417f(0x5b4)][_0x3c417f(0x25f)]=_0x203321?.[_0x3c417f(0x25f)],this['localWebhook'][_0x3c417f(0x656)]=_0x203321?.['SEND_MESSAGE'],this[_0x3c417f(0x5b4)][_0x3c417f(0x3e8)]=_0x203321?.[_0x3c417f(0x3e8)],this[_0x3c417f(0x5b4)][_0x3c417f(0x77a)]=_0x203321?.[_0x3c417f(0x77a)],this['localWebhook'][_0x3c417f(0x2de)]=_0x203321?.['GROUPS_UPSERT'],this[_0x3c417f(0x5b4)][_0x3c417f(0x286)]=_0x203321?.[_0x3c417f(0x286)],this['localWebhook'][_0x3c417f(0x4c0)]=_0x203321?.['GROUP_PARTICIPANTS_UPDATE'],this[_0x3c417f(0x5b4)][_0x3c417f(0x723)]=_0x203321?.[_0x3c417f(0x723)],this['localWebhook'][_0x3c417f(0x391)]=_0x203321?.[_0x3c417f(0x391)],this[_0x3c417f(0x5b4)][_0x3c417f(0x328)]=_0x203321?.[_0x3c417f(0x328)],this['localWebhook'][_0x3c417f(0x353)]=_0x203321?.[_0x3c417f(0x353)],this[_0x3c417f(0x5b4)][_0x3c417f(0x57e)]=_0x203321?.['CONTACTS_SET'],this[_0x3c417f(0x5b4)][_0x3c417f(0x712)]=_0x203321?.[_0x3c417f(0x712)],this[_0x3c417f(0x5b4)][_0x3c417f(0x3bf)]=_0x203321?.[_0x3c417f(0x3bf)],this[_0x3c417f(0x5b4)][_0x3c417f(0x583)]=_0x203321?.['PRESENCE_UPDATE'],this[_0x3c417f(0x5b4)][_0x3c417f(0x1d2)]=_0x203321?.[_0x3c417f(0x1d2)],this['localWebhook'][_0x3c417f(0x56f)]=_0x203321?.['CONNECTION_UPDATE'],this[_0x3c417f(0x5b4)][_0x3c417f(0x6e5)]=_0x203321?.[_0x3c417f(0x6e5)];}async['setWebhook'](_0x5a8a68){const _0xdb4146=a0_0x420d4d;let _0xfeb4d1=[_0xdb4146(0x664),'url',_0xdb4146(0x87c),_0xdb4146(0x715),_0xdb4146(0x41d),_0xdb4146(0x25f),_0xdb4146(0x77a),_0xdb4146(0x3e8),'SEND_MESSAGE',_0xdb4146(0x2de),'GROUPS_UPDATE',_0xdb4146(0x4c0),_0xdb4146(0x723),_0xdb4146(0x391),_0xdb4146(0x328),'CHATS_DELETE',_0xdb4146(0x57e),_0xdb4146(0x712),_0xdb4146(0x3bf),'PRESENCE_UPDATE',_0xdb4146(0x1d2),_0xdb4146(0x56f),_0xdb4146(0x6e5)],_0x1f62a8={};return _0xfeb4d1['forEach'](_0x16486b=>{_0x5a8a68[_0x16486b]!==void 0x0&&(_0x1f62a8[_0x16486b]=_0x5a8a68[_0x16486b]);}),_0x1f62a8[_0xdb4146(0x5cd)]&&(_0x1f62a8[_0xdb4146(0x5cd)]=_0x1f62a8[_0xdb4146(0x5cd)][_0xdb4146(0x7c0)]()),await this['repository'][_0xdb4146(0x663)][_0xdb4146(0x44f)](_0x1f62a8,this[_0xdb4146(0x83a)]),Object[_0xdb4146(0x65f)](this['localWebhook'],_0x1f62a8),await this['repository'][_0xdb4146(0x663)][_0xdb4146(0x561)](this['instanceName']);}async['findWebhook'](){const _0x5b67e3=a0_0x420d4d;return await this[_0x5b67e3(0x7f0)][_0x5b67e3(0x663)]['find'](this[_0x5b67e3(0x83a)]);}async[a0_0x420d4d(0x708)](_0x3bd0df,_0x34bb72){const _0x8673b8=a0_0x420d4d;let _0x2c1012=_0x3bd0df[_0x8673b8(0x576)](/[\.-]/gm,'_')[_0x8673b8(0x55e)](),_0x19dd62=this[_0x8673b8(0x5b4)][_0x8673b8(0x87c)]&&(0x0,k['isURL'])(this['localWebhook'][_0x8673b8(0x5cd)])?this['localWebhook'][_0x8673b8(0x5cd)]+(this[_0x8673b8(0x5b4)][_0x8673b8(0x715)]?this[_0x8673b8(0x23b)][_0x3bd0df]:''):null,_0x4bba32=this['localWebhook'][_0x2c1012],_0x4dbf42=ue&&ue[_0x8673b8(0x87c)]&&(0x0,k[_0x8673b8(0x78d)])(ue[_0x8673b8(0x5cd)])?ue[_0x8673b8(0x5cd)]+(ue['local_map']?this[_0x8673b8(0x23b)][_0x3bd0df]:''):null,_0x1b3fae=ue?ue[_0x2c1012]:null;if(_0x4bba32&&_0x19dd62)try{await K['default'][_0x8673b8(0x44f)]({'baseURL':_0x19dd62})['post']('',{'event':_0x3bd0df,'instance':this[_0x8673b8(0x238)][_0x8673b8(0x325)],'apikey':this[_0x8673b8(0x238)][_0x8673b8(0x6e0)],'data':_0x34bb72}),this[_0x8673b8(0x2bc)]['log'](this[_0x8673b8(0x83a)]+'\x20('+this[_0x8673b8(0x238)][_0x8673b8(0x5df)]+_0x8673b8(0x81c)+_0x3bd0df+':\x20'+_0x19dd62);}catch{this[_0x8673b8(0x2bc)]['error'](this['instanceName']+'\x20('+this[_0x8673b8(0x238)][_0x8673b8(0x5df)]+_0x8673b8(0x372)+_0x3bd0df+':\x20'+_0x19dd62);}if(_0x1b3fae&&_0x4dbf42)try{await K[_0x8673b8(0x7f3)][_0x8673b8(0x44f)]({'baseURL':_0x4dbf42})['post']('',{'event':_0x3bd0df,'instance':this['instance']['name'],'apikey':this[_0x8673b8(0x238)][_0x8673b8(0x6e0)],'data':_0x34bb72}),this[_0x8673b8(0x2bc)][_0x8673b8(0x3a6)](this['instanceName']+'\x20('+this[_0x8673b8(0x238)][_0x8673b8(0x5df)]+_0x8673b8(0x793)+_0x3bd0df+':\x20'+_0x4dbf42);}catch{this['logger'][_0x8673b8(0x82e)](this[_0x8673b8(0x83a)]+'\x20('+this[_0x8673b8(0x238)]['wuid']+_0x8673b8(0x609)+_0x3bd0df+':\x20'+_0x4dbf42);}}async['connectionUpdate']({qr:_0x201bae,connection:_0x4819fd,lastDisconnect:_0x58cf08}){const _0x7f8217=a0_0x420d4d;if(_0x201bae){if(this['instance'][_0x7f8217(0x642)]['count']===Nr)return this['sendDataWebhook'](_0x7f8217(0x1f5),{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':f[_0x7f8217(0x59c)][_0x7f8217(0x48a)]}),this[_0x7f8217(0x7a7)]={'state':_0x7f8217(0x60e),'statusReason':f[_0x7f8217(0x59c)][_0x7f8217(0x73a)]},this[_0x7f8217(0x708)](_0x7f8217(0x8c9),{'instance':this[_0x7f8217(0x238)][_0x7f8217(0x325)],...this[_0x7f8217(0x7a7)]}),this[_0x7f8217(0x708)](_0x7f8217(0x888),{'instance':this[_0x7f8217(0x238)][_0x7f8217(0x325)],'status':_0x7f8217(0x3a4)}),this['repository'][_0x7f8217(0x2e0)][_0x7f8217(0x44f)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x7f8217(0x301)]()},this['instance']['name']),this[_0x7f8217(0x3f2)]=!0x0,this['eventEmitter'][_0x7f8217(0x381)](_0x7f8217(0x4c4),this[_0x7f8217(0x238)][_0x7f8217(0x325)]);this['instance']['qrcode'][_0x7f8217(0x235)]++;let _0x97b292={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x7f8217(0x3a1),'dark':_0x7f8217(0x682)}};Eo[_0x7f8217(0x7f3)][_0x7f8217(0x20a)](_0x201bae,_0x97b292,(_0x2bd7ca,_0x165520)=>{const _0x4576d9=_0x7f8217;if(_0x2bd7ca){this[_0x4576d9(0x2bc)][_0x4576d9(0x82e)](this['instanceName']+'\x20('+this[_0x4576d9(0x238)]['wuid']+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x2bd7ca instanceof Error?_0x2bd7ca['message']:JSON[_0x4576d9(0x31d)](_0x2bd7ca,null,0x2)));return;}this['instance'][_0x4576d9(0x642)][_0x4576d9(0x3ef)]=_0x165520,this['instance']['qrcode'][_0x4576d9(0x5c0)]=_0x201bae,!this[_0x4576d9(0x40b)]&&this[_0x4576d9(0x708)]('qrcode.updated',{'qrcode':{'instance':this[_0x4576d9(0x238)][_0x4576d9(0x325)],'pairingCode':this[_0x4576d9(0x238)]['qrcode'][_0x4576d9(0x383)],'code':_0x201bae,'base64':_0x165520}});}),this[_0x7f8217(0x40b)]?this['instance'][_0x7f8217(0x642)][_0x7f8217(0x383)]||(await(0x0,f['delay'])(0x7d0),this['instance'][_0x7f8217(0x642)][_0x7f8217(0x383)]=await this[_0x7f8217(0x43d)][_0x7f8217(0x622)](this[_0x7f8217(0x40b)])):this[_0x7f8217(0x238)]['qrcode'][_0x7f8217(0x383)]=null,vo[_0x7f8217(0x7f3)][_0x7f8217(0x883)](_0x201bae,{'small':!0x0},_0x118036=>this[_0x7f8217(0x2bc)][_0x7f8217(0x3a6)](_0x7f8217(0x1e9)+this[_0x7f8217(0x238)]['name']+_0x7f8217(0x762)+this['instance'][_0x7f8217(0x642)]['count']+_0x7f8217(0x608)+this[_0x7f8217(0x238)]['qrcode'][_0x7f8217(0x383)]+_0x7f8217(0x50f)+_0x118036));}if(_0x4819fd&&(this['stateConnection']={'state':_0x4819fd,'statusReason':_0x58cf08?.[_0x7f8217(0x82e)]?.[_0x7f8217(0x824)]?.[_0x7f8217(0x486)]??0xc8},this['sendDataWebhook']('connection.update',{'instance':this[_0x7f8217(0x238)][_0x7f8217(0x325)],...this[_0x7f8217(0x7a7)]})),_0x4819fd===_0x7f8217(0x453)){if(this['reconnectAttempts']++,this[_0x7f8217(0x42a)]['push'](Date[_0x7f8217(0x301)]()),this[_0x7f8217(0x42a)]=this['reconnectTimestamps'][_0x7f8217(0x6cb)](_0x455b0a=>Date[_0x7f8217(0x301)]()-_0x455b0a<this[_0x7f8217(0x1cb)]),_0x58cf08['error']?.[_0x7f8217(0x824)]?.[_0x7f8217(0x486)]!==f[_0x7f8217(0x59c)][_0x7f8217(0x5c1)]&&this[_0x7f8217(0x42a)]['length']<=this[_0x7f8217(0x3bb)])console[_0x7f8217(0x3a6)](this['instanceName']+_0x7f8217(0x1e1)+this[_0x7f8217(0x5a0)]+'/'+this['MAX_RECONNECT_ATTEMPTS']+'.\x20Aguardando\x20antes\x20de\x20reconectar...'),console[_0x7f8217(0x3a6)]('Tentando\x20reconectar...'),await this[_0x7f8217(0x2fc)]();else{this['sendDataWebhook'](_0x7f8217(0x888),{'instance':this[_0x7f8217(0x238)][_0x7f8217(0x325)],'status':'removed'}),this['instance'][_0x7f8217(0x3a3)]['isConnected']=!0x1,this[_0x7f8217(0x7f0)][_0x7f8217(0x663)]['delete'](this[_0x7f8217(0x83a)]),this[_0x7f8217(0x7f0)][_0x7f8217(0x2e0)][_0x7f8217(0x44f)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x7f8217(0x301)]()},this[_0x7f8217(0x238)][_0x7f8217(0x325)]);try{this[_0x7f8217(0x2bc)][_0x7f8217(0x200)](this[_0x7f8217(0x83a)]+'\x20('+this[_0x7f8217(0x238)][_0x7f8217(0x5df)]+_0x7f8217(0x215));let _0x17eec9=await this[_0x7f8217(0x7f0)][_0x7f8217(0x8d5)][_0x7f8217(0x5a5)](this['instance'][_0x7f8217(0x5df)]);_0x17eec9['success']?this[_0x7f8217(0x2bc)][_0x7f8217(0x200)](this[_0x7f8217(0x83a)]+'\x20('+this[_0x7f8217(0x238)][_0x7f8217(0x5df)]+_0x7f8217(0x298)):console[_0x7f8217(0x82e)](_0x7f8217(0x5af),_0x17eec9[_0x7f8217(0x82e)]);}catch(_0x24c99d){console[_0x7f8217(0x82e)]('Falha\x20ao\x20deletar\x20mensagens\x20antigas:',_0x24c99d['message']);}this[_0x7f8217(0x238)]['ScheduleMessage'][_0x7f8217(0x3be)]!==null&&(this[_0x7f8217(0x2bc)][_0x7f8217(0x200)](this[_0x7f8217(0x83a)]+'\x20('+this[_0x7f8217(0x238)][_0x7f8217(0x5df)]+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x7f8217(0x238)][_0x7f8217(0x3a3)][_0x7f8217(0x3be)]),this[_0x7f8217(0x238)][_0x7f8217(0x3a3)][_0x7f8217(0x3be)]=null),this[_0x7f8217(0x2bc)][_0x7f8217(0x200)](this[_0x7f8217(0x83a)]+'\x20('+this['instance'][_0x7f8217(0x5df)]+_0x7f8217(0x4a1)),this[_0x7f8217(0x3e4)]=null,this['eventEmitter'][_0x7f8217(0x381)](_0x7f8217(0x4ad),this['instance'][_0x7f8217(0x325)],_0x7f8217(0x20b)),this[_0x7f8217(0x43d)]?.['ws']?.[_0x7f8217(0x453)](),this[_0x7f8217(0x43d)][_0x7f8217(0x267)](new Error('Close\x20connection'));}}if(_0x4819fd===_0x7f8217(0x471)){this[_0x7f8217(0x43d)]['ev'][_0x7f8217(0x83b)](),this[_0x7f8217(0x7ef)],this[_0x7f8217(0x238)][_0x7f8217(0x5df)]=this[_0x7f8217(0x43d)][_0x7f8217(0x49f)]['id']['replace'](/:\d+/,'')['replace'](_0x7f8217(0x8dd),''),this[_0x7f8217(0x238)][_0x7f8217(0x266)]=(await this[_0x7f8217(0x30b)](this[_0x7f8217(0x238)]['wuid']+_0x7f8217(0x8dd)))[_0x7f8217(0x266)],this[_0x7f8217(0x7f0)][_0x7f8217(0x2e0)][_0x7f8217(0x44f)]({'online':!0x0,'owner':this[_0x7f8217(0x238)][_0x7f8217(0x5df)],'lastDisconnect':null},this[_0x7f8217(0x238)][_0x7f8217(0x325)]);let _0x4509a2=_0x7f8217(0x589)+this[_0x7f8217(0x238)][_0x7f8217(0x5df)],_0x37b8e2=0x28,_0x4e0b4a=Math[_0x7f8217(0x823)]((_0x37b8e2-_0x4509a2['length'])/0x2),_0x943b3e='\x20'[_0x7f8217(0x548)](_0x4e0b4a),_0x12187b=_0x7f8217(0x727),_0x5de6ca='Instância:\x20'+this['instance'][_0x7f8217(0x325)],_0x49cdc1=(''+_0x943b3e+_0x4509a2+_0x943b3e)['padEnd'](_0x37b8e2,'\x20'),_0x4aec84=(''+_0x943b3e+_0x12187b+_0x943b3e)[_0x7f8217(0x70d)](_0x37b8e2,'\x20'),_0x38aa00=(''+_0x943b3e+_0x5de6ca+_0x943b3e)['padEnd'](_0x37b8e2,'\x20'),_0x42dba6=Math[_0x7f8217(0x5cc)](_0x49cdc1['length'],_0x4aec84[_0x7f8217(0x297)],_0x38aa00[_0x7f8217(0x297)]),_0x53b1a4=_0x49cdc1[_0x7f8217(0x70d)](_0x42dba6,'\x20'),_0x46a0c6=_0x4aec84['padEnd'](_0x42dba6,'\x20'),_0x5b2847=_0x38aa00['padEnd'](_0x42dba6,'\x20');this['logger'][_0x7f8217(0x536)]((_0x7f8217(0x82f)+'─'[_0x7f8217(0x548)](_0x42dba6)+_0x7f8217(0x390)+_0x46a0c6+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x5b2847+_0x7f8217(0x689)+_0x53b1a4+_0x7f8217(0x82d)+'─'[_0x7f8217(0x548)](_0x42dba6)+'┘')[_0x7f8217(0x576)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0x7f8217(0x238)][_0x7f8217(0x3a3)]['isConnected']=!0x0;}}['resetReconnectionVariables'](){const _0x5a6990=a0_0x420d4d;this[_0x5a6990(0x5a0)]=0x0,this[_0x5a6990(0x42a)]=[];}async['getMessage'](_0x54344b,_0x7de322=!0x1){const _0x56d733=a0_0x420d4d;try{let _0x86454=await this[_0x56d733(0x7f0)][_0x56d733(0x8d5)][_0x56d733(0x561)]({'where':{'_id':_0x54344b['id']}},this[_0x56d733(0x238)]['wuid']);return _0x7de322?_0x86454[0x0]:_0x86454[0x0][_0x56d733(0x8d5)];}catch{return{'conversation':''};}}['cleanStore'](){const _0x5c0dc8=a0_0x420d4d;let _0x3f0586=this[_0x5c0dc8(0x538)][_0x5c0dc8(0x71d)](_0x5c0dc8(0x37b)),_0x3f2f30=this[_0x5c0dc8(0x538)][_0x5c0dc8(0x71d)](_0x5c0dc8(0x626));_0x3f0586?.[_0x5c0dc8(0x35d)]&&!_0x3f2f30[_0x5c0dc8(0x46a)]&&setInterval(()=>{const _0x3eb177=_0x5c0dc8;try{for(let [_0x44d9d8,_0x50db9c]of Object[_0x3eb177(0x205)](_0x3f0586))_0x50db9c===!0x0&&(0x0,De['execSync'])(_0x3eb177(0x2f4)+(0x0,F[_0x3eb177(0x3c9)])(this[_0x3eb177(0x895)],_0x44d9d8[_0x3eb177(0x338)](),this[_0x3eb177(0x238)][_0x3eb177(0x5df)])+'/*.json');}catch{}},(_0x3f0586?.[_0x5c0dc8(0x35d)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x4f684a=a0_0x420d4d;let _0x33f951=this[_0x4f684a(0x538)][_0x4f684a(0x71d)](_0x4f684a(0x626)),_0xfbafa1=this[_0x4f684a(0x538)][_0x4f684a(0x71d)]('REDIS');return _0xfbafa1?.['ENABLED']?await Rs(_0xfbafa1,this[_0x4f684a(0x238)][_0x4f684a(0x325)]):_0x33f951[_0x4f684a(0x46a)]?await Ns(this[_0x4f684a(0x238)][_0x4f684a(0x325)]):await(0x0,f[_0x4f684a(0x327)])((0x0,F[_0x4f684a(0x3c9)])(me,this['instance']['name']));}async['AutomateFunctions'](){const _0x7757a9=a0_0x420d4d;let _0x5c1e33=()=>Math['floor'](Math[_0x7757a9(0x7f6)]()*0x2711)+0x7d0,_0x31cbc8=async()=>{const _0x576076=_0x7757a9;if(!this[_0x576076(0x238)]['ScheduleMessage']['isConnected']){this['logger']['verbose'](_0x576076(0x43b)),this[_0x576076(0x21b)]=!0x1;return;}if(this[_0x576076(0x238)][_0x576076(0x5df)]&&this['AutomateSystem']&&this[_0x576076(0x238)][_0x576076(0x3a3)][_0x576076(0x3be)]!==null&&this['instance'][_0x576076(0x3a3)][_0x576076(0x3be)]!==void 0x0){let _0x5568f8=Math[_0x576076(0x1d3)](this['instance'][_0x576076(0x3a3)][_0x576076(0x3be)]/0xea60);this[_0x576076(0x2bc)][_0x576076(0x200)](this['instanceName']+'\x20('+this[_0x576076(0x238)]['wuid']+_0x576076(0x7ae)+_0x5568f8+_0x576076(0x722)),this[_0x576076(0x21b)]=!0x1;return;}else this[_0x576076(0x238)]['wuid']&&(this[_0x576076(0x2bc)]['verbose'](this[_0x576076(0x83a)]+'\x20('+this[_0x576076(0x238)][_0x576076(0x5df)]+_0x576076(0x56b)),this[_0x576076(0x3e4)]||(await this[_0x576076(0x4ca)](),this[_0x576076(0x1f7)]()),(this[_0x576076(0x238)][_0x576076(0x3a3)]['delayMessage']===null||this[_0x576076(0x238)][_0x576076(0x3a3)][_0x576076(0x3be)]===void 0x0)&&await this[_0x576076(0x737)]());if(this[_0x576076(0x21b)]){let _0x183d35=_0x5c1e33();this[_0x576076(0x2bc)]['verbose'](this[_0x576076(0x83a)]+_0x576076(0x798)+_0x183d35/0x3e8+_0x576076(0x311)),setTimeout(_0x31cbc8,_0x183d35);}};if(this[_0x7757a9(0x21b)])return;this[_0x7757a9(0x21b)]=!0x0;let _0x51377b=_0x5c1e33();setTimeout(_0x31cbc8,_0x51377b);}async[a0_0x420d4d(0x777)](_0x2ec114=0x0,_0x4ed275=!0x1){const _0xa434de=a0_0x420d4d;try{let _0x4cb169=this['configService'][_0xa434de(0x71d)](_0xa434de(0x227));if(_0x4cb169!==0x1||typeof _0x4cb169>'u'||_0x2ec114>=0x5)return this[_0xa434de(0x2bc)][_0xa434de(0x283)](_0xa434de(0x320)),this['repository']['auth'][_0xa434de(0x44f)]({'ip':null},this[_0xa434de(0x238)][_0xa434de(0x325)]),{};this[_0xa434de(0x2bc)][_0xa434de(0x200)](this[_0xa434de(0x83a)]+_0xa434de(0x8b3)+(_0x2ec114+0x1)+_0xa434de(0x36a));let _0x70ac58;if(!_0x4ed275){let _0x13b1c9=await this[_0xa434de(0x7f0)]['auth'][_0xa434de(0x561)](this['instanceName']);_0x13b1c9&&_0x13b1c9['ip']&&(_0x70ac58=yo(_0x13b1c9['ip']));}if((!_0x70ac58||!$s(_0x70ac58))&&(this[_0xa434de(0x2bc)][_0xa434de(0x283)](this[_0xa434de(0x83a)]+':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.'),_0x70ac58=bo()),_0x70ac58&&$s(_0x70ac58)){let _0x215bfe=_0x70ac58[_0xa434de(0x30e)]&&_0x70ac58[_0xa434de(0x355)]?_0x70ac58[_0xa434de(0x5c2)]+_0xa434de(0x1f0)+_0x70ac58[_0xa434de(0x30e)]+':'+_0x70ac58[_0xa434de(0x355)]+'@'+_0x70ac58[_0xa434de(0x2a9)]+':'+_0x70ac58[_0xa434de(0x7e4)]:_0x70ac58[_0xa434de(0x5c2)]+_0xa434de(0x1f0)+_0x70ac58[_0xa434de(0x2a9)]+':'+_0x70ac58[_0xa434de(0x7e4)];return await this['testProxy'](_0x215bfe,_0x70ac58[_0xa434de(0x2a9)])?(this[_0xa434de(0x2bc)][_0xa434de(0x200)](this[_0xa434de(0x83a)]+_0xa434de(0x699)),this[_0xa434de(0x7f0)][_0xa434de(0x2e0)][_0xa434de(0x44f)]({'ip':_0x70ac58['host']},this[_0xa434de(0x238)][_0xa434de(0x325)]),{'agent':new Ft[(_0xa434de(0x339))](_0x215bfe),'fetchAgent':new Ft['HttpsProxyAgent'](_0x215bfe)}):(this[_0xa434de(0x2bc)][_0xa434de(0x283)](this[_0xa434de(0x83a)]+_0xa434de(0x758)),await(0x0,f[_0xa434de(0x527)])(0xc8),this[_0xa434de(0x777)](_0x2ec114+0x1,!0x0));}else return this['logger'][_0xa434de(0x283)](this['instanceName']+_0xa434de(0x280)),await(0x0,f[_0xa434de(0x527)])(0xc8),this[_0xa434de(0x777)](_0x2ec114+0x1,!0x0);}catch(_0x5c5efd){return this[_0xa434de(0x2bc)][_0xa434de(0x82e)](this[_0xa434de(0x83a)]+_0xa434de(0x6cd)+_0x5c5efd[_0xa434de(0x8d5)]),{};}}async[a0_0x420d4d(0x765)](_0x47d5b1,_0x4a08e4){const _0x59b9d0=a0_0x420d4d;let _0x3e9ac8=new Ft[(_0x59b9d0(0x339))](_0x47d5b1),_0x451db5=0x1388,_0x2c8919=[{'url':_0x59b9d0(0x7a0),'parse':_0x4ceb88=>_0x4ceb88['ip']},{'url':'https://api.ipify.org?format=json','parse':_0x51b61e=>_0x51b61e['ip']},{'url':_0x59b9d0(0x4c9),'parse':_0x2021f8=>_0x2021f8[_0x59b9d0(0x58e)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x59b9d0(0x579),'parse':_0x5d4e2e=>_0x5d4e2e['ip']},{'url':'http://ifconfig.me/ip','parse':_0x17675d=>_0x17675d[_0x59b9d0(0x7c0)]()},{'url':'http://ipecho.net/plain','parse':_0x5f15e3=>_0x5f15e3['trim']()},{'url':_0x59b9d0(0x3af),'parse':_0x1a15f3=>_0x1a15f3[_0x59b9d0(0x565)]},{'url':_0x59b9d0(0x684),'parse':_0x3230e6=>_0x3230e6[_0x59b9d0(0x7c0)]()},{'url':_0x59b9d0(0x52c),'parse':_0x413832=>_0x413832['trim']()}],_0x32b716=_0x2c8919[Math[_0x59b9d0(0x823)](Math[_0x59b9d0(0x7f6)]()*_0x2c8919[_0x59b9d0(0x297)])];try{let _0x44e5bb=await K['default'][_0x59b9d0(0x71d)](_0x32b716['url'],{'httpsAgent':_0x3e9ac8,'timeout':_0x451db5}),_0x12757d=_0x32b716[_0x59b9d0(0x28e)](_0x44e5bb['data']);return _0x12757d===_0x4a08e4?(this[_0x59b9d0(0x2bc)][_0x59b9d0(0x200)](this['instanceName']+_0x59b9d0(0x74b)+_0x4a08e4+_0x59b9d0(0x6f1)+_0x12757d+_0x59b9d0(0x6f0)),!0x0):(this['logger'][_0x59b9d0(0x82e)](this['instanceName']+_0x59b9d0(0x74b)+_0x4a08e4+_0x59b9d0(0x6f1)+_0x12757d+'\x20->\x20NÃO\x20CORRESPONDE.'),!0x1);}catch(_0x458ba8){return this[_0x59b9d0(0x2bc)][_0x59b9d0(0x82e)](this['instanceName']+_0x59b9d0(0x605)+_0x32b716['url']+':\x20'+_0x458ba8[_0x59b9d0(0x8d5)]),!0x1;}}async['connectToWhatsapp'](_0x637b76){const _0x9cc924=a0_0x420d4d;try{let _0x414bc6=await this[_0x9cc924(0x777)]();this[_0x9cc924(0x6f6)](),this[_0x9cc924(0x238)][_0x9cc924(0x6e0)]=(await this[_0x9cc924(0x7f0)][_0x9cc924(0x2e0)]['find'](this['instance'][_0x9cc924(0x325)]))[_0x9cc924(0x6e0)],this[_0x9cc924(0x238)][_0x9cc924(0x2f1)]=await this['defineAuthState']();let {version:_0x28a431}=await(0x0,f[_0x9cc924(0x864)])(),_0x2fc9fe=[No,xs,(0x0,Os[_0x9cc924(0x309)])()],_0x5e8419={..._0x414bc6,'auth':{'creds':this[_0x9cc924(0x238)][_0x9cc924(0x2f1)][_0x9cc924(0x8da)][_0x9cc924(0x685)],'keys':(0x0,f[_0x9cc924(0x33b)])(this['instance'][_0x9cc924(0x2f1)]['state'][_0x9cc924(0x673)],(0x0,kt[_0x9cc924(0x7f3)])({'level':_0x9cc924(0x82e)}))},'logger':(0x0,kt[_0x9cc924(0x7f3)])({'level':_0x9cc924(0x82e)}),'printQRInTerminal':!0x1,'browser':_0x637b76?[_0x9cc924(0x385),xs,(0x0,Os['release'])()]:_0x2fc9fe,'version':_0x28a431,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x34b7bb=>{const _0x4d28de=_0x9cc924;let _0x47b796=_0x34b7bb[_0x4d28de(0x61c)](_0x4d28de(0x60a)),_0x12e755=this[_0x4d28de(0x5b4)]?.[_0x4d28de(0x6e5)]&&_0x34b7bb['endsWith']('@g.us');return _0x47b796||(0x0,f['isJidBroadcast'])(_0x34b7bb)||_0x12e755;},'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x152300=>await this[_0x9cc924(0x231)](_0x152300),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x9cc924(0x1fb)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x299c10=>(_0x299c10[_0x9cc924(0x1e5)]?.['listType']==f[_0x9cc924(0x41e)][_0x9cc924(0x648)][_0x9cc924(0x46f)]['ListType'][_0x9cc924(0x787)]&&(_0x299c10=JSON['parse'](JSON['stringify'](_0x299c10)),_0x299c10[_0x9cc924(0x1e5)][_0x9cc924(0x256)]=f[_0x9cc924(0x41e)][_0x9cc924(0x648)][_0x9cc924(0x46f)][_0x9cc924(0x782)][_0x9cc924(0x1ce)]),_0x299c10)};return this[_0x9cc924(0x3f2)]=!0x1,this[_0x9cc924(0x43d)]=(0x0,f[_0x9cc924(0x7f3)])(_0x5e8419),this[_0x9cc924(0x752)](),this[_0x9cc924(0x40b)]=_0x637b76,this[_0x9cc924(0x43d)];}catch(_0x1b590e){let _0x45d807=_0x9cc924(0x243),_0x375b91=_0x1b590e instanceof Error?_0x1b590e[_0x9cc924(0x8d5)]:typeof _0x1b590e==_0x9cc924(0x86d)?JSON[_0x9cc924(0x31d)](_0x1b590e):_0x1b590e,_0x1ef5bf=_0x45d807+':\x20'+_0x375b91;throw this[_0x9cc924(0x2bc)]['error'](this[_0x9cc924(0x83a)]+'\x20('+this[_0x9cc924(0x238)]['wuid']+'):\x20'+_0x1ef5bf),new I(_0x1ef5bf);}}[a0_0x420d4d(0x752)](){const _0x406c84=a0_0x420d4d;this[_0x406c84(0x43d)]['ev'][_0x406c84(0x3a5)](_0x28d21c=>{const _0x224335=_0x406c84;if(!this[_0x224335(0x3f2)]){let _0x193281=this['configService'][_0x224335(0x71d)]('DATABASE');if(_0x28d21c[_0x224335(0x686)]){let _0x3698f7=_0x28d21c[_0x224335(0x686)];this[_0x224335(0x30c)][_0x224335(0x686)](_0x3698f7);}if(_0x28d21c[_0x224335(0x3b6)]){let _0x45e4e0=_0x28d21c['labels.association'];this[_0x224335(0x30c)][_0x224335(0x3b6)](_0x45e4e0);}if(_0x28d21c[_0x224335(0x8c9)]&&this[_0x224335(0x296)](_0x28d21c[_0x224335(0x8c9)]),_0x28d21c[_0x224335(0x6f7)]&&this[_0x224335(0x238)][_0x224335(0x2f1)][_0x224335(0x24c)](),_0x28d21c[_0x224335(0x59d)]){let _0x5cbd77=_0x28d21c[_0x224335(0x59d)];this[_0x224335(0x30c)][_0x224335(0x59d)](_0x5cbd77,_0x193281);}if(_0x28d21c[_0x224335(0x24d)]){let _0x5ee0e2=_0x28d21c[_0x224335(0x24d)];this[_0x224335(0x30c)][_0x224335(0x24d)](_0x5ee0e2,_0x193281);}if(_0x28d21c['messages.update']){let _0x142772=_0x28d21c[_0x224335(0x852)];_0x142772[_0x224335(0x425)](_0x2f6608=>{const _0x387a73=_0x224335;if(Mo[_0x2f6608[_0x387a73(0x5a3)]['id']]){this['client']['ev'][_0x387a73(0x381)]('messages.upsert',{'messages':[_0x2f6608],'type':'notify'}),delete Mo[_0x2f6608[_0x387a73(0x5a3)]['id']];return;}}),this[_0x224335(0x30c)][_0x224335(0x852)](_0x142772,_0x193281);}if(_0x28d21c[_0x224335(0x7bc)]){let _0x5eff8c=_0x28d21c[_0x224335(0x7bc)];if(this[_0x224335(0x5b4)]?.['groups_ignore']&&_0x5eff8c['id'][_0x224335(0x3a0)]('@g.us'))return;this[_0x224335(0x708)]('presence.update',_0x5eff8c);}if(_0x28d21c[_0x224335(0x639)]){let _0x2a919a=_0x28d21c['groups.upsert'];this[_0x224335(0x8db)][_0x224335(0x639)](_0x2a919a);}if(_0x28d21c[_0x224335(0x27a)]){let _0x48667c=_0x28d21c['groups.update'];this[_0x224335(0x8db)][_0x224335(0x27a)](_0x48667c);}if(_0x28d21c[_0x224335(0x4de)]){let _0x14571f=_0x28d21c[_0x224335(0x4de)];this[_0x224335(0x8db)][_0x224335(0x4de)](_0x14571f);}if(_0x28d21c['chats.upsert']){let _0x5511ab=_0x28d21c['chats.upsert'];this['chatHandle'][_0x224335(0x36f)](_0x5511ab,_0x193281);}if(_0x28d21c[_0x224335(0x2a4)]){let _0x559470=_0x28d21c[_0x224335(0x2a4)];this['chatHandle'][_0x224335(0x2a4)](_0x559470,_0x193281);}if(_0x28d21c[_0x224335(0x33d)]){let _0x3ffbc0=_0x28d21c[_0x224335(0x33d)];this[_0x224335(0x5b8)][_0x224335(0x33d)](_0x3ffbc0);}if(_0x28d21c[_0x224335(0x5f1)]){let _0x2ff56b=_0x28d21c[_0x224335(0x5f1)];this[_0x224335(0x691)][_0x224335(0x5f1)](_0x2ff56b,_0x193281);}if(_0x28d21c[_0x224335(0x4ae)]){let _0x3adb01=_0x28d21c[_0x224335(0x4ae)];this[_0x224335(0x691)][_0x224335(0x4ae)](_0x3adb01,_0x193281);}}});}[a0_0x420d4d(0x861)](_0xe29ce1){return new Promise(_0x140bd0=>setTimeout(_0x140bd0,_0xe29ce1));}[a0_0x420d4d(0x531)](_0x2a5dec){const _0x345ac2=a0_0x420d4d;_0x2a5dec=_0x2a5dec[_0x345ac2(0x576)](/\D/g,'');let _0xcefe00=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x2a5dec);if(_0xcefe00&&_0xcefe00[0x1]==='55'){let _0x2d3aa9=_0xcefe00[0x2],_0x3755e4=_0xcefe00[0x3],_0x1b08bc=_0xcefe00[0x4];if(parseInt(_0x2d3aa9)>=0x1f&&_0x3755e4==='9')return _0xcefe00[0x1]+_0x2d3aa9+_0x1b08bc;}return _0x2a5dec;}[a0_0x420d4d(0x5b5)](_0x5bfac8){const _0x32b3d3=a0_0x420d4d;return _0x5bfac8['includes'](_0x32b3d3(0x2ad))||_0x5bfac8[_0x32b3d3(0x3a0)]('@s.whatsapp.net')||_0x5bfac8[_0x32b3d3(0x3a0)]('@broadcast')?_0x5bfac8:(_0x5bfac8=_0x5bfac8?.[_0x32b3d3(0x576)](/\s/g,'')[_0x32b3d3(0x576)](/\+/g,'')[_0x32b3d3(0x576)](/\(/g,'')['replace'](/\)/g,'')['split'](/\:/)[0x0]['split']('@')[0x0],_0x5bfac8[_0x32b3d3(0x297)]>=0x12?(_0x5bfac8=_0x5bfac8[_0x32b3d3(0x576)](/[^\d-]/g,''),_0x5bfac8+_0x32b3d3(0x2ad)):(_0x5bfac8=_0x5bfac8[_0x32b3d3(0x576)](/\D/g,''),_0x5bfac8+_0x32b3d3(0x8dd)));}async[a0_0x420d4d(0x79e)](_0x171446){const _0x36af98=a0_0x420d4d;let _0x59de0d=(await this[_0x36af98(0x674)]({'numbers':[_0x171446[_0x36af98(0x5d5)]]}))[0x0];if(!_0x59de0d['exists']&&!(0x0,f[_0x36af98(0x3cf)])(_0x59de0d[_0x36af98(0x812)])&&!_0x59de0d[_0x36af98(0x812)][_0x36af98(0x3a0)](_0x36af98(0x4e0)))throw new m(_0x59de0d);let _0x93cfd2=_0x59de0d[_0x36af98(0x812)];try{return await this[_0x36af98(0x43d)][_0x36af98(0x5b9)](_0x93cfd2),await this['client'][_0x36af98(0x6c0)](_0x171446[_0x36af98(0x29a)],_0x93cfd2),{'status':0xc8,'presence':_0x171446[_0x36af98(0x29a)]};}catch(_0xbc55ff){let _0x2111ea='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence',_0x33276f=_0xbc55ff instanceof Error?_0xbc55ff[_0x36af98(0x8d5)]:typeof _0xbc55ff=='object'?JSON['stringify'](_0xbc55ff):_0xbc55ff,_0x2908d3=_0x2111ea+':\x20'+_0x33276f;throw this[_0x36af98(0x2bc)][_0x36af98(0x82e)](this[_0x36af98(0x83a)]+'\x20('+this[_0x36af98(0x238)][_0x36af98(0x5df)]+'):\x20'+_0x2908d3),new m(_0x2908d3);}}async[a0_0x420d4d(0x54f)](_0x11f77e,_0x5f007c,_0x12b666,_0x8dd1e5=!0x0){const _0x165893=a0_0x420d4d;let _0xff5a29=await this['repository']['cacheContact'][_0x165893(0x868)]({'where':{'_id':_0x11f77e}});if(!_0xff5a29&&!_0x8dd1e5)return;let _0x515feb={'lastUpdate':Date['now']()};if(_0x12b666||!_0xff5a29?.[_0x165893(0x281)]||Date[_0x165893(0x301)]()-_0xff5a29['lastUpdate']>0x18*0x3c*0x3c*0x3e8)try{let _0x26cae3=(await this[_0x165893(0x30b)](_0x11f77e))['profilePictureUrl'];_0x515feb[_0x165893(0x46d)]=_0x26cae3;}catch(_0x3f311e){let _0x3b3322=_0x165893(0x6f4),_0x5977b9=_0x3f311e instanceof Error?_0x3f311e['message']:typeof _0x3f311e==_0x165893(0x86d)?JSON['stringify'](_0x3f311e):_0x3f311e,_0x362427=_0x3b3322+':\x20'+_0x5977b9;throw this['logger'][_0x165893(0x82e)](this[_0x165893(0x83a)]+'\x20('+this[_0x165893(0x238)][_0x165893(0x5df)]+_0x165893(0x55c)+_0x362427),new m(_0x362427);}return _0x5f007c&&_0xff5a29?.[_0x165893(0x325)]!==_0x5f007c&&(_0x515feb[_0x165893(0x325)]=_0x5f007c),Object[_0x165893(0x673)](_0x515feb)[_0x165893(0x297)]>0x1&&(_0xff5a29?await this[_0x165893(0x7f0)]['cacheContact'][_0x165893(0x318)]({'where':{'_id':_0x11f77e}},_0x515feb):await this['repository'][_0x165893(0x5c7)][_0x165893(0x7b3)]([{'_id':_0x11f77e,..._0x515feb}]),_0xff5a29={..._0xff5a29,..._0x515feb}),{'cachedContact':_0xff5a29};}async['profilePicture'](_0x46f564){const _0x475c08=a0_0x420d4d;let _0x1a9351=this[_0x475c08(0x5b5)](_0x46f564);try{return{'wuid':_0x1a9351,'profilePictureUrl':await this[_0x475c08(0x43d)][_0x475c08(0x266)](_0x1a9351,'image')};}catch{return{'wuid':_0x1a9351,'profilePictureUrl':null};}}async[a0_0x420d4d(0x7e8)](_0x4e4470,_0x460bfb,_0x589637){const _0x5842b4=a0_0x420d4d;try{_0x589637||(_0x589637={});let _0x4ebfb9=(await this[_0x5842b4(0x674)]({'numbers':[_0x4e4470]}))[0x0];if(!_0x4ebfb9['exists']&&!(0x0,f[_0x5842b4(0x3cf)])(_0x4ebfb9['jid'])&&!_0x4ebfb9[_0x5842b4(0x812)][_0x5842b4(0x3a0)](_0x5842b4(0x4e0)))throw new m('número\x20não\x20existe');let _0x4eaf63=_0x4ebfb9[_0x5842b4(0x812)];if(_0x589637?.[_0x5842b4(0x527)]){await this[_0x5842b4(0x43d)][_0x5842b4(0x5b9)](_0x4eaf63),await this[_0x5842b4(0x43d)][_0x5842b4(0x6c0)](_0x589637?.['presence']??_0x5842b4(0x337),_0x4eaf63);let _0x549ec5=Math['min'](_0x589637[_0x5842b4(0x527)],0x2710);await(0x0,f[_0x5842b4(0x527)])(_0x549ec5),await this[_0x5842b4(0x43d)][_0x5842b4(0x6c0)]('paused',_0x4eaf63);}let _0x23353b=_0x589637?.[_0x5842b4(0x5ee)]!=!0x1?void 0x0:!0x1,_0x47191b;if(_0x589637?.[_0x5842b4(0x67d)]){let _0x2aad8f=_0x589637?.[_0x5842b4(0x67d)],_0x1293db=_0x2aad8f?.[_0x5842b4(0x8d5)]?_0x2aad8f:await this[_0x5842b4(0x231)](_0x2aad8f[_0x5842b4(0x5a3)],!0x0);if(!_0x1293db)throw _0x5842b4(0x501);_0x47191b=_0x1293db;}let _0x84af5;if((0x0,f[_0x5842b4(0x3cf)])(_0x4eaf63))try{let _0x575db5=(await this[_0x5842b4(0x7f0)][_0x5842b4(0x6e9)]['findOne']({'where':{'_id':_0x4eaf63}},this[_0x5842b4(0x238)][_0x5842b4(0x5df)]))[_0x5842b4(0x7d3)];if(!_0x575db5)throw new U(_0x5842b4(0x515));_0x589637?.['mentions']&&(_0x589637[_0x5842b4(0x86a)]?.[_0x5842b4(0x413)]?_0x84af5=_0x575db5['participants'][_0x5842b4(0x28d)](_0x10555e=>_0x10555e['id']):_0x589637[_0x5842b4(0x86a)]?.[_0x5842b4(0x5fc)]?.[_0x5842b4(0x297)]&&(_0x84af5=_0x589637['mentions'][_0x5842b4(0x5fc)][_0x5842b4(0x28d)](_0x367cc4=>{const _0x2bad10=_0x5842b4;let _0x326091=this[_0x2bad10(0x5b5)](_0x367cc4);return(0x0,f[_0x2bad10(0x3cf)])(_0x326091)?null:_0x326091;})));}catch{throw new U(_0x5842b4(0x515));}let _0x2e9bbd=await this['repository'][_0x5842b4(0x6e9)]['findOne']({'where':{'_id':_0x4eaf63}},this[_0x5842b4(0x238)]['wuid']),_0xd5d32f=await((async()=>{const _0x584fd7=_0x5842b4;let _0x200db5={'quoted':_0x47191b,'ephemeralExpiration':_0x2e9bbd?.[_0x584fd7(0x404)]??0x0};if(!_0x460bfb[_0x584fd7(0x467)]&&!_0x460bfb[_0x584fd7(0x7b9)]&&!_0x460bfb[_0x584fd7(0x2aa)]&&!_0x460bfb['conversation']&&_0x4eaf63!==_0x584fd7(0x48e)&&!_0x460bfb[_0x584fd7(0x467)])return await this['client'][_0x584fd7(0x8ab)](_0x4eaf63,{'forward':{'key':{'remoteJid':this[_0x584fd7(0x238)]['wuid'],'fromMe':!0x0},'message':_0x460bfb},'mentions':_0x84af5},_0x200db5);if(_0x460bfb['reactionMessage'])return await this['client'][_0x584fd7(0x8ab)](_0x4eaf63,{'react':{'text':_0x460bfb['reactionMessage']['text'],'key':_0x460bfb[_0x584fd7(0x521)][_0x584fd7(0x5a3)]}},_0x200db5);if(_0x460bfb['conversation']){let _0x307838=_0x460bfb[_0x584fd7(0x1da)];return _0x589637?.[_0x584fd7(0x707)]&&(_0x307838=await this[_0x584fd7(0x66d)](_0x307838,_0x4eaf63)),await this[_0x584fd7(0x43d)][_0x584fd7(0x8ab)](_0x4eaf63,{'text':_0x307838,'mentions':_0x84af5,'linkPreview':_0x23353b},_0x200db5);}return _0x4eaf63===_0x584fd7(0x48e)?await this[_0x584fd7(0x43d)][_0x584fd7(0x8ab)](_0x4eaf63,_0x460bfb[_0x584fd7(0x69e)][_0x584fd7(0x8dc)],{'backgroundColor':_0x460bfb[_0x584fd7(0x69e)][_0x584fd7(0x6fe)]['backgroundColor'],'font':_0x460bfb[_0x584fd7(0x69e)][_0x584fd7(0x6fe)]['font'],'statusJidList':_0x460bfb[_0x584fd7(0x69e)]['option']['statusJidList']}):await this[_0x584fd7(0x43d)]['sendMessage'](_0x4eaf63,_0x460bfb,_0x200db5);})()),_0xdfa47a=(0x0,f[_0x5842b4(0x295)])(_0xd5d32f['message']),_0x5e49e0=(0x0,f[_0x5842b4(0x312)])(_0xdfa47a),{message_normalized:_0x45ca0e}=this[_0x5842b4(0x3b3)](_0xdfa47a,_0x5e49e0,null),_0x38803a={'_id':_0xd5d32f[_0x5842b4(0x5a3)]['id'],'key':_0xd5d32f[_0x5842b4(0x5a3)],'pushName':_0xd5d32f['pushName'],'isGroup':_0xd5d32f[_0x5842b4(0x5a3)][_0x5842b4(0x1f9)][_0x5842b4(0x61c)](_0x5842b4(0x2ad)),'profilePictureUrl':this[_0x5842b4(0x238)][_0x5842b4(0x266)],'message':_0xdfa47a,'messageType':_0x5e49e0,'message_normalized':{'key':_0xd5d32f['key'],'pushName':_0xd5d32f[_0x5842b4(0x8d4)],'messageTimestamp':_0xd5d32f['messageTimestamp']&&_0xd5d32f[_0x5842b4(0x2ef)][_0x5842b4(0x5d4)]()['length']<0xd?_0xd5d32f[_0x5842b4(0x2ef)]*0x3e8:_0xd5d32f[_0x5842b4(0x2ef)]||null,'source':(0x0,f[_0x5842b4(0x3ec)])(_0xd5d32f[_0x5842b4(0x5a3)]['id']),..._0x45ca0e},'messageTimestamp':_0xd5d32f[_0x5842b4(0x2ef)]&&_0xd5d32f[_0x5842b4(0x2ef)][_0x5842b4(0x5d4)]()[_0x5842b4(0x297)]<0xd?_0xd5d32f['messageTimestamp']*0x3e8:_0xd5d32f[_0x5842b4(0x2ef)]||null,'owner':this[_0x5842b4(0x238)]['wuid'],'source':(0x0,f[_0x5842b4(0x3ec)])(_0xd5d32f[_0x5842b4(0x5a3)]['id'])};return this[_0x5842b4(0x2bc)][_0x5842b4(0x283)](this[_0x5842b4(0x83a)]+'\x20('+this[_0x5842b4(0x238)]['wuid']+_0x5842b4(0x647)+_0x38803a[_0x5842b4(0x5a3)]?.[_0x5842b4(0x1f9)]['replace']('@s.whatsapp.net','')+_0x5842b4(0x5a1)+_0x38803a['messageType']+')'),_0x38803a[_0x5842b4(0x239)]?.[_0x5842b4(0x426)]&&this[_0x5842b4(0x2bc)]['warn'](_0x38803a['message_normalized']?.[_0x5842b4(0x426)]),this['sendDataWebhook'](_0x5842b4(0x289),_0x38803a),J(this[_0x5842b4(0x83a)],_0x5842b4(0x75f),{'message':_0x38803a}),this[_0x5842b4(0x26b)](this[_0x5842b4(0x538)]['get']('DATABASE'),_0x38803a,_0x5842b4(0x656),_0x2e9bbd),await this['repository'][_0x5842b4(0x8d5)]['insert']([_0x38803a],this[_0x5842b4(0x238)][_0x5842b4(0x5df)]),_0xd5d32f;}catch(_0xb77481){let _0x26e8dc=_0x5842b4(0x2e4),_0x12508c=_0xb77481 instanceof Error?_0xb77481[_0x5842b4(0x8d5)]:typeof _0xb77481=='object'?JSON[_0x5842b4(0x31d)](_0xb77481):_0xb77481,_0x4d6146=_0x26e8dc+':\x20'+_0x12508c;throw this[_0x5842b4(0x2bc)][_0x5842b4(0x82e)](this[_0x5842b4(0x83a)]+'\x20('+this[_0x5842b4(0x238)][_0x5842b4(0x5df)]+_0x5842b4(0x55c)+_0x4d6146),new m(_0x4d6146);}}get['connectionStatus'](){const _0x189174=a0_0x420d4d;return this[_0x189174(0x7a7)];}async[a0_0x420d4d(0x791)](_0x1c328d){const _0x13b245=a0_0x420d4d;let _0x3ec4c5=So,_0x387a61=st;return _0x387a61&&this[_0x13b245(0x83a)][_0x13b245(0x338)]()['includes'](_0x387a61[_0x13b245(0x338)]())&&(_0x1c328d[_0x13b245(0x791)][_0x13b245(0x426)]+='\x0a\x0a'+_0x3ec4c5),await this[_0x13b245(0x7e8)](_0x1c328d[_0x13b245(0x5d5)],{'conversation':_0x1c328d[_0x13b245(0x791)][_0x13b245(0x426)]},_0x1c328d?.[_0x13b245(0x70a)]);}async[a0_0x420d4d(0x68b)](_0x1cb6ee){const _0x5b3eb3=a0_0x420d4d;if(!_0x1cb6ee[_0x5b3eb3(0x4cf)])throw new m(_0x5b3eb3(0x8c7));if(!_0x1cb6ee[_0x5b3eb3(0x8dc)])throw new m(_0x5b3eb3(0x51e));if(_0x1cb6ee[_0x5b3eb3(0x5c5)]){let _0x22d756=await this['repository'][_0x5b3eb3(0x617)][_0x5b3eb3(0x561)]({'where':{}},this[_0x5b3eb3(0x238)][_0x5b3eb3(0x5df)]);if(!_0x22d756['length'])throw new m(_0x5b3eb3(0x4c2));_0x1cb6ee[_0x5b3eb3(0x636)]=_0x22d756[_0x5b3eb3(0x6cb)](_0x5ab35e=>_0x5ab35e['pushName'])[_0x5b3eb3(0x28d)](_0x31749d=>_0x31749d[_0x5b3eb3(0x664)]);}if(!_0x1cb6ee['statusJidList']?.[_0x5b3eb3(0x297)]&&!_0x1cb6ee['allContacts'])throw new m(_0x5b3eb3(0x676));if(_0x1cb6ee[_0x5b3eb3(0x4cf)]==='text'){if(!_0x1cb6ee[_0x5b3eb3(0x67b)])throw new m(_0x5b3eb3(0x532));if(!_0x1cb6ee[_0x5b3eb3(0x3b1)])throw new m(_0x5b3eb3(0x2db));return{'content':{'text':_0x1cb6ee[_0x5b3eb3(0x8dc)]},'option':{'backgroundColor':_0x1cb6ee[_0x5b3eb3(0x67b)],'font':_0x1cb6ee[_0x5b3eb3(0x3b1)],'statusJidList':_0x1cb6ee['statusJidList']}};}if(_0x1cb6ee[_0x5b3eb3(0x4cf)]===_0x5b3eb3(0x331))return{'content':{'image':{'url':_0x1cb6ee['content']},'caption':_0x1cb6ee['caption']},'option':{'statusJidList':_0x1cb6ee[_0x5b3eb3(0x636)]}};if(_0x1cb6ee['type']==='video')return{'content':{'video':{'url':_0x1cb6ee[_0x5b3eb3(0x8dc)]},'caption':_0x1cb6ee[_0x5b3eb3(0x84d)]},'option':{'statusJidList':_0x1cb6ee[_0x5b3eb3(0x636)]}};if(_0x1cb6ee[_0x5b3eb3(0x4cf)]===_0x5b3eb3(0x467)){this['logger'][_0x5b3eb3(0x200)](_0x5b3eb3(0x64e)),this['logger'][_0x5b3eb3(0x200)](_0x5b3eb3(0x36d));let _0x5612be=await this['convertaudio'](_0x1cb6ee[_0x5b3eb3(0x8dc)]);if(typeof _0x5612be=='string'){this[_0x5b3eb3(0x2bc)]['verbose'](_0x5b3eb3(0x272));let _0x124ad0=j[_0x5b3eb3(0x81f)](_0x5612be)[_0x5b3eb3(0x5d4)](_0x5b3eb3(0x3ef));return{'content':{'audio':Buffer[_0x5b3eb3(0x4ea)](_0x124ad0,_0x5b3eb3(0x3ef)),'ptt':!0x0,'mimetype':_0x5b3eb3(0x62a)},'option':{'statusJidList':_0x1cb6ee['statusJidList']}};}else throw new I(_0x5612be);}throw new m(_0x5b3eb3(0x646));}async[a0_0x420d4d(0x53f)](_0x204cd7){const _0x453af8=a0_0x420d4d;return await this['sendMessageWithTyping'](_0x453af8(0x48e),{'status':await this[_0x453af8(0x68b)](_0x204cd7['statusMessage'])});}async['prepareMediaMessage'](_0x36fea8){const _0x4a79ad=a0_0x420d4d;try{let _0x36410e=await(0x0,f[_0x4a79ad(0x64b)])({[_0x36fea8[_0x4a79ad(0x376)]]:(0x0,k[_0x4a79ad(0x78d)])(_0x36fea8['media'])?{'url':_0x36fea8[_0x4a79ad(0x496)]}:Buffer[_0x4a79ad(0x4ea)](_0x36fea8[_0x4a79ad(0x496)],_0x4a79ad(0x3ef))},{'upload':this[_0x4a79ad(0x43d)][_0x4a79ad(0x5ec)]}),_0x2ae6e3=_0x36fea8[_0x4a79ad(0x376)]+_0x4a79ad(0x648);if(_0x36fea8[_0x4a79ad(0x376)]===_0x4a79ad(0x8bb)&&!_0x36fea8[_0x4a79ad(0x2f3)]){let _0x2dc776=new RegExp(/.*\/(.+?)\./)[_0x4a79ad(0x373)](_0x36fea8[_0x4a79ad(0x496)]);_0x36fea8[_0x4a79ad(0x2f3)]=_0x2dc776?_0x2dc776[0x1]:null;}let _0x163b35=(0x0,k['isURL'])(_0x36fea8[_0x4a79ad(0x496)])?_0x36fea8[_0x4a79ad(0x496)][_0x4a79ad(0x65d)]('?')[0x0]:_0x36fea8[_0x4a79ad(0x496)],_0x24d3da;(0x0,k[_0x4a79ad(0x78d)])(_0x36fea8[_0x4a79ad(0x496)])?_0x24d3da=(0x0,jt[_0x4a79ad(0x3d0)])(_0x163b35):_0x36fea8[_0x4a79ad(0x2f3)]&&_0x36fea8[_0x4a79ad(0x2f3)][_0x4a79ad(0x3a0)]('.')?_0x24d3da=(0x0,jt['getMIMEType'])(_0x36fea8[_0x4a79ad(0x2f3)]):_0x24d3da=(0x0,jt[_0x4a79ad(0x3d0)])(_0x36fea8[_0x4a79ad(0x496)]);let _0x733df4=So,_0x3b6d99=st;return _0x3b6d99&&this[_0x4a79ad(0x83a)][_0x4a79ad(0x338)]()['includes'](_0x3b6d99[_0x4a79ad(0x338)]())&&(_0x36fea8[_0x4a79ad(0x84d)]+='\x0a\x0a'+_0x733df4),_0x36410e[_0x2ae6e3][_0x4a79ad(0x84d)]=_0x36fea8?.[_0x4a79ad(0x84d)],_0x36410e[_0x2ae6e3][_0x4a79ad(0x8c4)]=_0x24d3da,_0x36410e[_0x2ae6e3]['fileName']=_0x36fea8[_0x4a79ad(0x2f3)],_0x36fea8[_0x4a79ad(0x376)]==='video'&&(_0x36410e[_0x2ae6e3][_0x4a79ad(0x308)]=Uint8Array[_0x4a79ad(0x4ea)]((0x0,xe[_0x4a79ad(0x81f)])((0x0,F['join'])(process[_0x4a79ad(0x3e3)](),_0x4a79ad(0x740)))),_0x36410e[_0x2ae6e3][_0x4a79ad(0x463)]=!0x1),(0x0,f[_0x4a79ad(0x511)])('',{[_0x2ae6e3]:{..._0x36410e[_0x2ae6e3]}},{'userJid':this[_0x4a79ad(0x238)][_0x4a79ad(0x5df)]});}catch(_0x1f7908){let _0x2b8a99=_0x4a79ad(0x469),_0x29767f=_0x1f7908 instanceof Error?_0x1f7908[_0x4a79ad(0x8d5)]:typeof _0x1f7908==_0x4a79ad(0x86d)?JSON[_0x4a79ad(0x31d)](_0x1f7908):_0x1f7908,_0x2e1a77=_0x2b8a99+':\x20'+_0x29767f;throw this[_0x4a79ad(0x2bc)][_0x4a79ad(0x82e)](this[_0x4a79ad(0x83a)]+'\x20('+this[_0x4a79ad(0x238)][_0x4a79ad(0x5df)]+'):\x20'+_0x2e1a77),new I(_0x2e1a77);}}async[a0_0x420d4d(0x61d)](_0x59a84f){const _0x8a6c9e=a0_0x420d4d;let _0xb986b0=await this['prepareMediaMessage'](_0x59a84f[_0x8a6c9e(0x61d)]);return await this[_0x8a6c9e(0x7e8)](_0x59a84f['number'],{..._0xb986b0[_0x8a6c9e(0x8d5)]},_0x59a84f?.[_0x8a6c9e(0x70a)]);}async[a0_0x420d4d(0x75a)](_0x301e3b,_0x331fff){const _0x26fff6=a0_0x420d4d;try{this[_0x26fff6(0x2bc)][_0x26fff6(0x200)](_0x26fff6(0x441));let _0x509ad8,_0x5dc613=_0x331fff+'-'+new Date()['getTime']();this[_0x26fff6(0x2bc)][_0x26fff6(0x200)](_0x26fff6(0x2fe)+_0x5dc613);let _0x43406e=''+(0x0,F[_0x26fff6(0x3c9)])(this[_0x26fff6(0x895)],_0x5dc613+_0x26fff6(0x67a));if(this[_0x26fff6(0x2bc)][_0x26fff6(0x200)](_0x26fff6(0x5fb)+_0x43406e),(0x0,k[_0x26fff6(0x885)])(_0x301e3b)){this['logger'][_0x26fff6(0x200)](_0x26fff6(0x3ea));let _0x5480d9=_0x301e3b[_0x26fff6(0x576)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x548724=Buffer[_0x26fff6(0x4ea)](_0x5480d9,_0x26fff6(0x3ef));_0x509ad8=''+(0x0,F[_0x26fff6(0x3c9)])(this[_0x26fff6(0x895)],_0x26fff6(0x433)+_0x5dc613+_0x26fff6(0x278)),this[_0x26fff6(0x2bc)][_0x26fff6(0x200)](_0x26fff6(0x709)+_0x509ad8),await(0x0,Lt[_0x26fff6(0x7f3)])(_0x548724)[_0x26fff6(0x414)](_0x509ad8),this[_0x26fff6(0x2bc)][_0x26fff6(0x200)](_0x26fff6(0x610));}else{this[_0x26fff6(0x2bc)][_0x26fff6(0x200)](_0x26fff6(0x889));let _0x10a88d=new Date()[_0x26fff6(0x657)](),_0x550a1a=_0x301e3b+_0x26fff6(0x30d)+_0x10a88d;this['logger'][_0x26fff6(0x200)](_0x26fff6(0x1e0)+_0x550a1a);let _0x405580=await K[_0x26fff6(0x7f3)][_0x26fff6(0x71d)](_0x550a1a,{'responseType':'arraybuffer'});this[_0x26fff6(0x2bc)][_0x26fff6(0x200)]('Getting\x20image\x20from\x20url');let _0x3bfdad=Buffer[_0x26fff6(0x4ea)](_0x405580[_0x26fff6(0x6c7)],_0x26fff6(0x87f));_0x509ad8=''+(0x0,F[_0x26fff6(0x3c9)])(this[_0x26fff6(0x895)],_0x26fff6(0x433)+_0x5dc613+_0x26fff6(0x278)),this[_0x26fff6(0x2bc)]['verbose'](_0x26fff6(0x709)+_0x509ad8),await(0x0,Lt['default'])(_0x3bfdad)[_0x26fff6(0x414)](_0x509ad8),this[_0x26fff6(0x2bc)][_0x26fff6(0x200)](_0x26fff6(0x610));}return await(0x0,Lt[_0x26fff6(0x7f3)])(_0x509ad8)[_0x26fff6(0x7fc)]()[_0x26fff6(0x414)](_0x43406e),this['logger']['verbose']('Image\x20converted\x20to\x20WebP'),j[_0x26fff6(0x4ce)](_0x509ad8),this[_0x26fff6(0x2bc)][_0x26fff6(0x200)](_0x26fff6(0x5e5)),_0x43406e;}catch(_0x4080a5){let _0x171ae3=_0x26fff6(0x315),_0x39df6b=_0x4080a5 instanceof Error?_0x4080a5['message']:typeof _0x4080a5==_0x26fff6(0x86d)?JSON[_0x26fff6(0x31d)](_0x4080a5):_0x4080a5,_0x8580cc=_0x171ae3+':\x20'+_0x39df6b;this[_0x26fff6(0x2bc)]['error'](this['instanceName']+'\x20('+this[_0x26fff6(0x238)][_0x26fff6(0x5df)]+'):\x20'+_0x8580cc);}}async[a0_0x420d4d(0x1fc)](_0x12df8a){const _0x4e1b4f=a0_0x420d4d;let _0x47ea80=await this[_0x4e1b4f(0x75a)](_0x12df8a[_0x4e1b4f(0x36c)][_0x4e1b4f(0x331)],_0x12df8a[_0x4e1b4f(0x5d5)]),_0x5303f5=await this[_0x4e1b4f(0x7e8)](_0x12df8a['number'],{'sticker':{'url':_0x47ea80}},_0x12df8a?.['options']);return j[_0x4e1b4f(0x4ce)](_0x47ea80),this[_0x4e1b4f(0x2bc)][_0x4e1b4f(0x200)](_0x4e1b4f(0x2ac)),_0x5303f5;}async[a0_0x420d4d(0x495)](_0xd70600){const _0x4284de=a0_0x420d4d;if(this[_0x4284de(0x2bc)][_0x4284de(0x200)](_0x4284de(0x32b)),!_0xd70600[_0x4284de(0x70a)]?.[_0x4284de(0x6ba)]&&_0xd70600[_0x4284de(0x70a)]?.[_0x4284de(0x6ba)]!==!0x1&&(_0xd70600[_0x4284de(0x70a)][_0x4284de(0x6ba)]=!0x0),_0xd70600['options']?.[_0x4284de(0x6ba)]){let _0x3ef63=await this['convertaudio'](_0xd70600[_0x4284de(0x7a8)][_0x4284de(0x467)]);if(typeof _0x3ef63==_0x4284de(0x7fb)){let _0x4ddc97=j['readFileSync'](_0x3ef63)[_0x4284de(0x5d4)](_0x4284de(0x3ef));return this[_0x4284de(0x7e8)](_0xd70600[_0x4284de(0x5d5)],{'audio':Buffer['from'](_0x4ddc97,'base64'),'ptt':!0x0,'mimetype':_0x4284de(0x6a2)},{'presence':_0x4284de(0x79d),'delay':_0xd70600?.[_0x4284de(0x70a)]?.[_0x4284de(0x527)]});}else throw new I(_0x3ef63);}return await this[_0x4284de(0x7e8)](_0xd70600['number'],{'audio':(0x0,k[_0x4284de(0x78d)])(_0xd70600['audioMessage'][_0x4284de(0x467)])?{'url':_0xd70600[_0x4284de(0x7a8)][_0x4284de(0x467)]}:Buffer[_0x4284de(0x4ea)](_0xd70600[_0x4284de(0x7a8)][_0x4284de(0x467)],_0x4284de(0x3ef)),'ptt':!0x0,'mimetype':_0x4284de(0x6a2)},{'presence':_0x4284de(0x79d),'delay':_0xd70600?.['options']?.['delay']});}async[a0_0x420d4d(0x2eb)](_0x10ce56){const _0x4f1619=a0_0x420d4d;this[_0x4f1619(0x2bc)]['verbose'](_0x4f1619(0x36d));let _0x248a2b=(0x0,k[_0x4f1619(0x78d)])(_0x10ce56)?(0x0,Jt[_0x4f1619(0x221)])(_0x4f1619(0x464))['update'](_0x10ce56)['digest'](_0x4f1619(0x7fe)):(0x0,Jt[_0x4f1619(0x221)])(_0x4f1619(0x464))['update'](_0x10ce56)[_0x4f1619(0x549)](_0x4f1619(0x7fe)),_0x131a55=''+(0x0,F[_0x4f1619(0x3c9)])(this[_0x4f1619(0x895)],_0x248a2b+_0x4f1619(0x4b3));if(j[_0x4f1619(0x600)](_0x131a55))return this[_0x4f1619(0x2bc)][_0x4f1619(0x200)](_0x4f1619(0x592)),_0x131a55;let _0x5ead49=''+(0x0,F[_0x4f1619(0x3c9)])(this[_0x4f1619(0x895)],'temp-'+(0x0,Me['v4'])()+_0x4f1619(0x2b5));if((0x0,k[_0x4f1619(0x78d)])(_0x10ce56)){let _0x24da3e=new Date()[_0x4f1619(0x657)](),_0x44e717=_0x10ce56+_0x4f1619(0x30d)+_0x24da3e,_0x3bc750=await K[_0x4f1619(0x7f3)][_0x4f1619(0x71d)](_0x44e717,{'responseType':_0x4f1619(0x37a)});j['writeFileSync'](_0x5ead49,_0x3bc750[_0x4f1619(0x6c7)]);}else{let _0x239ff6=Buffer[_0x4f1619(0x4ea)](_0x10ce56,'base64');j['writeFileSync'](_0x5ead49,_0x239ff6);}return new Promise((_0x428b83,_0x3aeb16)=>{const _0x3e4c81=_0x4f1619;(0x0,De[_0x3e4c81(0x373)])(As[_0x3e4c81(0x7f3)][_0x3e4c81(0x3ba)]+_0x3e4c81(0x8d0)+_0x5ead49+_0x3e4c81(0x602)+_0x131a55+_0x3e4c81(0x44c),_0x5a4b79=>{const _0x507c73=_0x3e4c81;if(j['unlinkSync'](_0x5ead49),_0x5a4b79){this[_0x507c73(0x2bc)][_0x507c73(0x200)](_0x507c73(0x816)),_0x3aeb16(_0x5a4b79);return;}this[_0x507c73(0x2bc)][_0x507c73(0x200)](_0x507c73(0x666)),_0x428b83(_0x131a55);});});}async[a0_0x420d4d(0x3d4)](_0x23c4e3){const _0x261a9c=a0_0x420d4d;this[_0x261a9c(0x2bc)]['verbose'](_0x261a9c(0x36d));let _0x5d6cf2=(0x0,Jt[_0x261a9c(0x221)])('sha256')[_0x261a9c(0x318)](_0x23c4e3)[_0x261a9c(0x549)](_0x261a9c(0x7fe)),_0x38e952=''+(0x0,F[_0x261a9c(0x3c9)])(this[_0x261a9c(0x895)],_0x5d6cf2+_0x261a9c(0x2b5));if(j[_0x261a9c(0x600)](_0x38e952))return this[_0x261a9c(0x2bc)][_0x261a9c(0x200)](_0x261a9c(0x592)),F[_0x261a9c(0x7f3)]['basename'](_0x38e952);let _0x434160=''+(0x0,F[_0x261a9c(0x3c9)])(this[_0x261a9c(0x895)],_0x261a9c(0x433)+_0x5d6cf2+_0x261a9c(0x4b3));if((0x0,k[_0x261a9c(0x78d)])(_0x23c4e3)){let _0xea21a3=new Date()[_0x261a9c(0x657)](),_0x455e3a=_0x23c4e3+_0x261a9c(0x30d)+_0xea21a3,_0x2c7c9b=await K[_0x261a9c(0x7f3)][_0x261a9c(0x71d)](_0x455e3a,{'responseType':_0x261a9c(0x37a)});j[_0x261a9c(0x42b)](_0x434160,_0x2c7c9b[_0x261a9c(0x6c7)]);}else{let _0x4a08ba=Buffer[_0x261a9c(0x4ea)](_0x23c4e3,_0x261a9c(0x3ef));j[_0x261a9c(0x42b)](_0x434160,_0x4a08ba);}return new Promise((_0x46b9af,_0x101643)=>{const _0x33466e=_0x261a9c;(0x0,De[_0x33466e(0x373)])(As[_0x33466e(0x7f3)][_0x33466e(0x3ba)]+_0x33466e(0x8d0)+_0x434160+_0x33466e(0x5d6)+_0x38e952+_0x33466e(0x44c),_0x79b678=>{const _0x18712f=_0x33466e;if(j[_0x18712f(0x4ce)](_0x434160),_0x79b678){this[_0x18712f(0x2bc)]['verbose']('Error\x20in\x20converting\x20audio'),_0x101643(_0x79b678);return;}this[_0x18712f(0x2bc)][_0x18712f(0x200)](_0x18712f(0x666)),_0x46b9af(F[_0x18712f(0x7f3)]['basename'](_0x38e952));});});}async[a0_0x420d4d(0x416)](_0x38a1de){const _0x1188e7=a0_0x420d4d;let _0x5513b5={},_0x34c45d=_0x1188e7(0x74a);if(_0x38a1de[_0x1188e7(0x416)]?.[_0x1188e7(0x61d)]){_0x34c45d=_0x38a1de['buttonMessage'][_0x1188e7(0x61d)]?.['mediatype']['toUpperCase']()??_0x1188e7(0x74a),_0x5513b5['mediaKey']=_0x34c45d[_0x1188e7(0x338)]()+_0x1188e7(0x648);let _0x528959=await this[_0x1188e7(0x69b)](_0x38a1de[_0x1188e7(0x416)][_0x1188e7(0x61d)]);_0x5513b5['message']=_0x528959[_0x1188e7(0x8d5)][_0x5513b5[_0x1188e7(0x4ff)]],_0x5513b5[_0x1188e7(0x7ee)]='*'+_0x38a1de[_0x1188e7(0x416)][_0x1188e7(0x4a2)]+'*\x0a\x0a'+_0x38a1de[_0x1188e7(0x416)][_0x1188e7(0x871)];}let _0x5e3e38={'text':_0x38a1de[_0x1188e7(0x416)][_0x1188e7(0x698)][_0x1188e7(0x28d)](_0x1c58b9=>_0x1c58b9[_0x1188e7(0x33f)]),'ids':_0x38a1de[_0x1188e7(0x416)][_0x1188e7(0x698)][_0x1188e7(0x28d)](_0x41b46a=>_0x41b46a[_0x1188e7(0x806)])};if(!(0x0,k[_0x1188e7(0x7b8)])(_0x5e3e38[_0x1188e7(0x426)])||!(0x0,k[_0x1188e7(0x7b8)])(_0x5e3e38['ids']))throw new m(_0x1188e7(0x58b),'Button\x20IDs\x20cannot\x20be\x20repeated.');return await this[_0x1188e7(0x7e8)](_0x38a1de[_0x1188e7(0x5d5)],{'buttonsMessage':{'text':_0x5513b5?.[_0x1188e7(0x4ff)]?void 0x0:_0x38a1de['buttonMessage'][_0x1188e7(0x4a2)],'contentText':_0x5513b5?.['contentText']??_0x38a1de[_0x1188e7(0x416)][_0x1188e7(0x871)],'footerText':_0x38a1de[_0x1188e7(0x416)]?.[_0x1188e7(0x85b)],'buttons':_0x38a1de[_0x1188e7(0x416)][_0x1188e7(0x698)][_0x1188e7(0x28d)](_0x31e05d=>({'buttonText':{'displayText':_0x31e05d[_0x1188e7(0x33f)]},'buttonId':_0x31e05d[_0x1188e7(0x806)],'type':0x1})),'headerType':f[_0x1188e7(0x41e)]['Message'][_0x1188e7(0x7c7)][_0x1188e7(0x4f4)][_0x34c45d],[_0x5513b5?.['mediaKey']]:_0x5513b5?.[_0x1188e7(0x8d5)]}},_0x38a1de?.[_0x1188e7(0x70a)]);}async[a0_0x420d4d(0x237)](_0x4b4b37){const _0xbbc08f=a0_0x420d4d;return await this[_0xbbc08f(0x7e8)](_0x4b4b37[_0xbbc08f(0x5d5)],{'locationMessage':{'degreesLatitude':_0x4b4b37[_0xbbc08f(0x237)][_0xbbc08f(0x473)],'degreesLongitude':_0x4b4b37[_0xbbc08f(0x237)][_0xbbc08f(0x5e1)],'name':_0x4b4b37['locationMessage']?.[_0xbbc08f(0x325)],'address':_0x4b4b37['locationMessage']?.['address']}},_0x4b4b37?.[_0xbbc08f(0x70a)]);}async[a0_0x420d4d(0x428)](_0x95d831){const _0x1c05e5=a0_0x420d4d;let _0x35f907={},_0x7906ef=async _0x44ef49=>{const _0x39f1a3=a0_0x296e;let _0x63fc6b=_0x39f1a3(0x4f6)+_0x44ef49['fullName']+_0x39f1a3(0x7d6)+_0x44ef49[_0x39f1a3(0x22d)]+'\x0a';_0x44ef49[_0x39f1a3(0x523)]&&(_0x63fc6b+=_0x39f1a3(0x518)+_0x44ef49[_0x39f1a3(0x523)]+';\x0a'),_0x44ef49[_0x39f1a3(0x3ee)]&&(_0x63fc6b+='EMAIL:'+_0x44ef49[_0x39f1a3(0x3ee)]+'\x0a'),_0x44ef49[_0x39f1a3(0x5cd)]&&(_0x63fc6b+=_0x39f1a3(0x3d3)+_0x44ef49[_0x39f1a3(0x5cd)]+'\x0a');let _0x4d9679='',_0x554f91=0x1;if(_0x44ef49[_0x39f1a3(0x40b)]){let _0x27cdb9=_0x44ef49[_0x39f1a3(0x40b)][_0x39f1a3(0x65d)]('|');for(let _0x32a671 of _0x27cdb9){let _0x2ee151=await this[_0x39f1a3(0x674)]({'numbers':[_0x32a671]}),_0x8b53ea=(_0x2ee151[_0x39f1a3(0x297)]>0x0?_0x2ee151[0x0][_0x39f1a3(0x812)]:this[_0x39f1a3(0x5b5)](_0x32a671))['replace'](_0x39f1a3(0x8dd),'');_0x4d9679+=_0x39f1a3(0x8ae)+_0x554f91+_0x39f1a3(0x393)+_0x8b53ea+':'+_0x32a671+_0x39f1a3(0x881)+_0x554f91+'.X-ABLabel:Celular\x0a',_0x554f91++;}}return _0x63fc6b+=_0x4d9679+'END:VCARD',_0x63fc6b;};return _0x95d831[_0x1c05e5(0x428)][_0x1c05e5(0x297)]===0x1?_0x35f907['contactMessage']={'displayName':_0x95d831[_0x1c05e5(0x428)][0x0][_0x1c05e5(0x22d)],'vcard':await _0x7906ef(_0x95d831[_0x1c05e5(0x428)][0x0])}:_0x35f907[_0x1c05e5(0x4c7)]={'displayName':_0x95d831[_0x1c05e5(0x428)][_0x1c05e5(0x297)]+_0x1c05e5(0x39a),'contacts':await Promise[_0x1c05e5(0x679)](_0x95d831[_0x1c05e5(0x428)][_0x1c05e5(0x28d)](async _0x28f9ed=>({'displayName':_0x28f9ed[_0x1c05e5(0x22d)],'vcard':await _0x7906ef(_0x28f9ed)})))},await this[_0x1c05e5(0x7e8)](_0x95d831['number'],{..._0x35f907},_0x95d831?.[_0x1c05e5(0x70a)]);}async[a0_0x420d4d(0x521)](_0x129def){const _0x5ba304=a0_0x420d4d;return await this[_0x5ba304(0x7e8)](_0x129def['reactionMessage'][_0x5ba304(0x5a3)][_0x5ba304(0x1f9)],{'reactionMessage':{'key':_0x129def[_0x5ba304(0x521)][_0x5ba304(0x5a3)],'text':_0x129def[_0x5ba304(0x521)][_0x5ba304(0x756)]}});}async['whatsappNumber'](_0x565452){const _0x419b0f=a0_0x420d4d;let _0x549645=[];for await(let _0x196354 of _0x565452[_0x419b0f(0x734)]){let _0x54485a=this['createJid'](_0x196354),_0x3933dc=!0x1;try{if((0x0,f['isJidGroup'])(_0x54485a)){let _0x142d38=(await this[_0x419b0f(0x7f0)]['chat'][_0x419b0f(0x868)]({'where':{'_id':_0x54485a}},this[_0x419b0f(0x238)][_0x419b0f(0x5df)]))[_0x419b0f(0x7d3)];_0x3933dc=!!_0x142d38?.['id']&&!!_0x142d38?.[_0x419b0f(0x242)],_0x549645[_0x419b0f(0x26a)](new ye(_0x142d38['id'],_0x3933dc,_0x142d38?.[_0x419b0f(0x2fa)]));}else{let _0xa8dc67=(await this['client'][_0x419b0f(0x5ca)](_0x54485a))[0x0];_0x3933dc=_0xa8dc67[_0x419b0f(0x419)],_0x549645[_0x419b0f(0x26a)](new ye(_0xa8dc67['jid'],_0x3933dc));}}catch{(0x0,f[_0x419b0f(0x3cf)])(_0x54485a)||await this[_0x419b0f(0x4dc)](_0x54485a,_0x3933dc),_0x549645['push'](new ye(_0x196354,!0x1));}}return _0x549645;}async[a0_0x420d4d(0x4dc)](_0x3ba1a7,_0x1fdf76){const _0x5d317d=a0_0x420d4d;try{await this[_0x5d317d(0x7f0)]['chat']['findOne']({'where':{'_id':_0x3ba1a7,'imported':!0x0}},this[_0x5d317d(0x238)][_0x5d317d(0x5df)])&&(_0x1fdf76||(await this[_0x5d317d(0x7f0)][_0x5d317d(0x6e9)][_0x5d317d(0x4ec)](_0x3ba1a7,this[_0x5d317d(0x238)][_0x5d317d(0x5df)]),this[_0x5d317d(0x2bc)][_0x5d317d(0x536)](_0x5d317d(0x713)+_0x3ba1a7+_0x5d317d(0x379))));}catch(_0x222ca8){let _0xaca23e=_0x5d317d(0x620),_0x3fc281=_0x222ca8 instanceof Error?_0x222ca8[_0x5d317d(0x8d5)]:typeof _0x222ca8==_0x5d317d(0x86d)?JSON[_0x5d317d(0x31d)](_0x222ca8):_0x222ca8,_0x2db640=_0xaca23e+':\x20'+_0x3fc281;this[_0x5d317d(0x2bc)][_0x5d317d(0x82e)](this[_0x5d317d(0x83a)]+'\x20('+this[_0x5d317d(0x238)]['wuid']+_0x5d317d(0x55c)+_0x2db640);}}async['markMessageAsRead'](_0x550d72){const _0x4a6e97=a0_0x420d4d;try{let _0x67445c=_0x550d72['readMessages'][_0x4a6e97(0x6cb)](_0x25880f=>(0x0,f['isJidGroup'])(_0x25880f[_0x4a6e97(0x1f9)])||(0x0,f['isJidUser'])(_0x25880f['remoteJid']))['map'](_0x43f3e7=>({'remoteJid':_0x43f3e7['remoteJid'],'fromMe':_0x43f3e7[_0x4a6e97(0x461)],'id':_0x43f3e7['id']}));await this['client'][_0x4a6e97(0x85d)](_0x67445c);let _0x24e3ff=_0x67445c[_0x4a6e97(0x28d)](_0x2ecf26=>this[_0x4a6e97(0x696)](_0x2ecf26,{'status':_0x4a6e97(0x7dc),'owner':this[_0x4a6e97(0x238)][_0x4a6e97(0x5df)]})),_0x5c3bab=_0x67445c[_0x4a6e97(0x28d)](_0x58ff4f=>this[_0x4a6e97(0x7f0)][_0x4a6e97(0x6e9)][_0x4a6e97(0x4a8)]({'where':{'_id':_0x58ff4f[_0x4a6e97(0x1f9)]}},{'unreadcount':0x0},this[_0x4a6e97(0x238)][_0x4a6e97(0x5df)])),[_0xb9157f,_0x4afe43]=await Promise[_0x4a6e97(0x679)]([Promise[_0x4a6e97(0x679)](_0x24e3ff),Promise[_0x4a6e97(0x679)](_0x5c3bab)]);return _0x4afe43[_0x4a6e97(0x6cb)](_0x2db563=>_0x2db563!==null)[_0x4a6e97(0x425)](_0x2a1ee3=>{const _0x3d7575=_0x4a6e97;J(this[_0x3d7575(0x83a)],_0x3d7575(0x300),{'chat':_0x2a1ee3});}),{'message':_0x4a6e97(0x59e),'read':_0x4a6e97(0x22e)};}catch(_0x5cda91){let _0x125931=_0x4a6e97(0x86c),_0x421fdd=_0x5cda91 instanceof Error?_0x5cda91[_0x4a6e97(0x8d5)]:typeof _0x5cda91==_0x4a6e97(0x86d)?JSON[_0x4a6e97(0x31d)](_0x5cda91):_0x5cda91,_0x45687a=_0x125931+':\x20'+_0x421fdd;throw this[_0x4a6e97(0x2bc)]['error'](this[_0x4a6e97(0x83a)]+'\x20('+this[_0x4a6e97(0x238)][_0x4a6e97(0x5df)]+_0x4a6e97(0x55c)+_0x45687a),new I(_0x45687a);}}async[a0_0x420d4d(0x3eb)](_0x1742d4){const _0x14fe3f=a0_0x420d4d;let _0x10137c={'where':{'key':{'remoteJid':_0x1742d4}},'limit':0x1},_0xf72e1a=await this[_0x14fe3f(0x2e9)](_0x10137c);return _0xf72e1a||(console[_0x14fe3f(0x82e)](_0x14fe3f(0x1e7),_0x1742d4),null);}async[a0_0x420d4d(0x407)](_0x1077f3){const _0x594bcf=a0_0x420d4d;this[_0x594bcf(0x2bc)][_0x594bcf(0x200)](_0x594bcf(0x596));try{let _0x51547b=_0x1077f3[_0x594bcf(0x850)],_0x45eb77=_0x1077f3['chat'];if(!_0x51547b&&_0x45eb77?_0x51547b=await this[_0x594bcf(0x3eb)](_0x45eb77):(_0x51547b=_0x1077f3[_0x594bcf(0x850)],_0x51547b['messageTimestamp']=_0x51547b?.['messageTimestamp']??Date[_0x594bcf(0x301)](),_0x45eb77=_0x51547b?.[_0x594bcf(0x5a3)]?.[_0x594bcf(0x1f9)]),!_0x51547b||Object[_0x594bcf(0x673)](_0x51547b)[_0x594bcf(0x297)]===0x0)throw new U(_0x594bcf(0x773));this[_0x594bcf(0x2bc)][_0x594bcf(0x200)](_0x594bcf(0x490)+_0x45eb77);try{await this['client'][_0x594bcf(0x725)]({'archive':_0x1077f3[_0x594bcf(0x89f)],'lastMessages':[_0x51547b]},this[_0x594bcf(0x5b5)](_0x45eb77));}catch(_0x576d9f){let _0x34ed3f=_0x594bcf(0x5d1)+_0x45eb77,_0x43514a=_0x576d9f instanceof Error?_0x576d9f[_0x594bcf(0x8d5)]:typeof _0x576d9f==_0x594bcf(0x86d)?JSON[_0x594bcf(0x31d)](_0x576d9f):_0x576d9f,_0x5ac5ed=_0x34ed3f+':\x20'+_0x43514a;this[_0x594bcf(0x2bc)][_0x594bcf(0x82e)](this[_0x594bcf(0x83a)]+'\x20('+this[_0x594bcf(0x238)]['wuid']+'):\x20'+_0x5ac5ed);}this['logger'][_0x594bcf(0x200)](_0x594bcf(0x790)+_0x45eb77);let _0x26353d=await this[_0x594bcf(0x7f0)][_0x594bcf(0x6e9)]['updateOne']({'where':{'_id':_0x51547b?.[_0x594bcf(0x5a3)]?.[_0x594bcf(0x1f9)]}},{'archived':_0x1077f3[_0x594bcf(0x89f)]},this[_0x594bcf(0x238)][_0x594bcf(0x5df)]);return _0x26353d?(this['logger']['verbose'](_0x594bcf(0x541)+JSON[_0x594bcf(0x31d)](_0x26353d)),J(this[_0x594bcf(0x83a)],_0x594bcf(0x300),{'chat':_0x26353d})):this[_0x594bcf(0x2bc)][_0x594bcf(0x82e)](_0x594bcf(0x49c)+_0x45eb77),{'chatId':_0x45eb77,'archived':_0x1077f3[_0x594bcf(0x89f)]};}catch(_0x371916){let _0x5465b5=_0x594bcf(0x8c0),_0x116d88=_0x371916 instanceof Error?_0x371916[_0x594bcf(0x8d5)]:typeof _0x371916==_0x594bcf(0x86d)?JSON[_0x594bcf(0x31d)](_0x371916):_0x371916,_0x179226=_0x5465b5+':\x20'+_0x116d88;throw this[_0x594bcf(0x2bc)][_0x594bcf(0x82e)](this[_0x594bcf(0x83a)]+'\x20('+this[_0x594bcf(0x238)][_0x594bcf(0x5df)]+_0x594bcf(0x55c)+_0x179226),new I(_0x179226);}}async[a0_0x420d4d(0x4ec)](_0x2d342a){const _0x3f033e=a0_0x420d4d;this[_0x3f033e(0x2bc)]['verbose']('Delete\x20chat');try{let _0x583d82=await this['getLastMessage'](_0x2d342a);if(!_0x583d82||Object[_0x3f033e(0x673)](_0x583d82)[_0x3f033e(0x297)]===0x0)throw new U(_0x3f033e(0x773));let _0x3059af=_0x583d82[0x0];this[_0x3f033e(0x2bc)][_0x3f033e(0x200)]('Delete\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x2d342a);try{await this[_0x3f033e(0x43d)][_0x3f033e(0x725)]({'delete':!0x0,'lastMessages':[{'key':_0x3059af[_0x3f033e(0x5a3)],'messageTimestamp':_0x3059af[_0x3f033e(0x2ef)]}]},this[_0x3f033e(0x5b5)](_0x2d342a));}catch(_0x41736b){this['logger'][_0x3f033e(0x82e)](_0x3f033e(0x5d1)+_0x2d342a+':\x20'+_0x41736b[_0x3f033e(0x5d4)]());}this[_0x3f033e(0x2bc)]['verbose'](_0x3f033e(0x790)+_0x2d342a);return;}catch(_0x38dba9){throw this[_0x3f033e(0x2bc)]['error'](_0x3f033e(0x738)+_0x38dba9[_0x3f033e(0x5d4)]()),new I({'archived':!0x1,'message':['An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.',_0x38dba9[_0x3f033e(0x5d4)]()]});}}async[a0_0x420d4d(0x333)](_0x240f84){const _0x1c441c=a0_0x420d4d;try{let _0x2a8918=await this[_0x1c441c(0x43d)]['sendMessage'](_0x240f84[_0x1c441c(0x1f9)],{'delete':_0x240f84});try{let _0x1888e6=await this[_0x1c441c(0x696)](_0x240f84,{'status':'DELETED','owner':this['instance'][_0x1c441c(0x5df)]});this[_0x1c441c(0x2bc)][_0x1c441c(0x200)](this[_0x1c441c(0x83a)]+'\x20('+this[_0x1c441c(0x238)]['wuid']+_0x1c441c(0x3ff)+_0x1888e6);}catch(_0x3191f4){console[_0x1c441c(0x82e)](_0x1c441c(0x574),_0x3191f4);}return _0x2a8918;}catch(_0x1500fc){throw new I(_0x1c441c(0x269),_0x1500fc?.['toString']());}}async[a0_0x420d4d(0x6f8)](_0x431c64){const _0x155b2f=a0_0x420d4d;try{let _0x4a9fb5=_0x431c64?.['message']?_0x431c64:await this[_0x155b2f(0x231)](_0x431c64[_0x155b2f(0x5a3)],!0x0);for(let _0x239fdc of ya)_0x4a9fb5['message'][_0x239fdc]&&(_0x4a9fb5[_0x155b2f(0x8d5)]=_0x4a9fb5['message'][_0x239fdc][_0x155b2f(0x8d5)]);let _0x250f88,_0x3b974a;for(let _0xe48e29 of wa)if(_0x250f88=_0x4a9fb5['message'][_0xe48e29],_0x250f88){_0x3b974a=_0xe48e29;break;}if(!_0x250f88)throw _0x155b2f(0x305);typeof _0x250f88[_0x155b2f(0x4ff)]=='object'&&(_0x4a9fb5[_0x155b2f(0x8d5)]=JSON[_0x155b2f(0x28e)](JSON[_0x155b2f(0x31d)](_0x4a9fb5[_0x155b2f(0x8d5)])));let _0x3f4ccf=await(0x0,f[_0x155b2f(0x553)])({'key':_0x4a9fb5?.[_0x155b2f(0x5a3)],'message':_0x4a9fb5?.[_0x155b2f(0x8d5)]},_0x155b2f(0x6cf),{},{'logger':(0x0,kt['default'])({'level':_0x155b2f(0x49b)}),'reuploadRequest':this[_0x155b2f(0x43d)][_0x155b2f(0x4b9)]});if(!(_0x3f4ccf instanceof Buffer))throw new Error(_0x155b2f(0x6fc));let _0x4b0e1e=this[_0x155b2f(0x538)][_0x155b2f(0x71d)]('DATABASE'),_0x4bfad2,_0x32705b;if(_0x250f88['fileName'])_0x4bfad2=_0x250f88[_0x155b2f(0x2f3)];else{let _0x41e5c9=_0x250f88[_0x155b2f(0x8c4)]?.[_0x155b2f(0x58e)](/\/(\w+)/),_0x6e97e2=_0x41e5c9?_0x41e5c9[0x1]:null;if(!_0x6e97e2)throw new Error(_0x155b2f(0x7ea));_0x4bfad2=(0x0,Me['v4'])()+'.'+_0x6e97e2;}_0x3b974a===_0x155b2f(0x7a8)?_0x32705b=_0x155b2f(0x387)+await this['convertaudioMP3'](_0x3f4ccf[_0x155b2f(0x5d4)](_0x155b2f(0x3ef))):(await this[_0x155b2f(0x36b)](_0x3f4ccf,_0x4bfad2),_0x32705b=_0x155b2f(0x387)+_0x4bfad2);let _0xcb6ac8=this[_0x155b2f(0x538)][_0x155b2f(0x71d)]('SERVER')[_0x155b2f(0x718)];if(!_0xcb6ac8){let _0x330112=this[_0x155b2f(0x538)][_0x155b2f(0x71d)](_0x155b2f(0x585));_0xcb6ac8=_0x155b2f(0x21e)+(_0x330112&&_0x330112['FULLCHAIN'][_0x155b2f(0x65d)]('/')[0x4]);}_0x32705b=''+_0xcb6ac8+_0x32705b;let _0x239cd4=0xc*0x3c*0x3c*0x3e8,_0x47c1a5={'where':{'_id':_0x4a9fb5[_0x155b2f(0x5a3)]['id']}},_0x5ee846={'message_normalized.fileUrl':_0x32705b,'message_normalized.expires_fileUrl':Date[_0x155b2f(0x301)]()+_0x239cd4};try{let _0x2dd3d1=await this[_0x155b2f(0x7f0)][_0x155b2f(0x8d5)]['update'](_0x47c1a5,_0x5ee846,this[_0x155b2f(0x238)][_0x155b2f(0x5df)]);_0x2dd3d1&&J(this[_0x155b2f(0x83a)],'messages',{'message':_0x2dd3d1});}catch(_0x61f6b7){let _0x38d023=_0x155b2f(0x61f),_0x1b372a=_0x61f6b7 instanceof Error?_0x61f6b7[_0x155b2f(0x8d5)]:typeof _0x61f6b7==_0x155b2f(0x86d)?JSON[_0x155b2f(0x31d)](_0x61f6b7):_0x61f6b7,_0x1bcbaa=_0x38d023+':\x20'+_0x1b372a;this[_0x155b2f(0x2bc)][_0x155b2f(0x82e)](this[_0x155b2f(0x83a)]+'\x20('+this[_0x155b2f(0x238)][_0x155b2f(0x5df)]+_0x155b2f(0x55c)+_0x1bcbaa);}return{'mediaType':_0x3b974a,'fileName':_0x250f88[_0x155b2f(0x2f3)],'caption':_0x250f88[_0x155b2f(0x84d)],'size':{'fileLength':_0x250f88['fileLength'],'height':_0x250f88['height'],'width':_0x250f88[_0x155b2f(0x262)]},'mimetype':_0x250f88['mimetype'],'base64':_0x3f4ccf[_0x155b2f(0x5d4)]('base64'),'fileUrl':_0x32705b,'expires_fileUrl':Date[_0x155b2f(0x301)]()+_0x239cd4};}catch(_0x3b7791){let _0x30672c='Falha\x20ao\x20processar\x20a\x20solicitação',_0x51f55c=_0x3b7791 instanceof Error?_0x3b7791[_0x155b2f(0x8d5)]:typeof _0x3b7791==_0x155b2f(0x86d)?JSON[_0x155b2f(0x31d)](_0x3b7791):_0x3b7791,_0x3f0673=_0x30672c+':\x20'+_0x51f55c;throw this[_0x155b2f(0x2bc)][_0x155b2f(0x82e)](this['instanceName']+'\x20('+this[_0x155b2f(0x238)][_0x155b2f(0x5df)]+_0x155b2f(0x55c)+_0x3f0673),new m(_0x3f0673);}}async['saveMediaToFile'](_0x587434,_0xbf89e6){const _0x5207c5=a0_0x420d4d;let _0x1d0316=F['default'][_0x5207c5(0x3c9)](__dirname,_0x5207c5(0x7f2));j['existsSync'](_0x1d0316)||j[_0x5207c5(0x77f)](_0x1d0316,{'recursive':!0x0});let _0x5288d8=F[_0x5207c5(0x7f3)][_0x5207c5(0x3c9)](_0x1d0316,_0xbf89e6);return new Promise((_0x577a66,_0x65ebe)=>{const _0x455ee6=_0x5207c5;j[_0x455ee6(0x7f1)](_0x5288d8,_0x587434,_0x214ece=>{const _0x1034ef=_0x455ee6;_0x214ece?(this[_0x1034ef(0x2bc)][_0x1034ef(0x82e)](_0x1034ef(0x23d)+(_0x214ece instanceof Error?_0x214ece['message']:JSON[_0x1034ef(0x31d)](_0x214ece,null,0x2))),_0x65ebe(_0x214ece)):(this['logger'][_0x1034ef(0x3a6)](_0x1034ef(0x437)+_0x5288d8),_0x577a66(_0x5288d8));});});}async[a0_0x420d4d(0x5e7)](_0x845222){const _0x3c78a9=a0_0x420d4d;return await this[_0x3c78a9(0x7f0)][_0x3c78a9(0x617)]['find'](_0x845222,this[_0x3c78a9(0x238)][_0x3c78a9(0x5df)]);}async['fetchLabels'](){const _0x42390f=a0_0x420d4d;return await this[_0x42390f(0x7f0)][_0x42390f(0x1d7)]['find']({'where':{}},this[_0x42390f(0x238)][_0x42390f(0x5df)]);}async[a0_0x420d4d(0x2e9)](_0x1a793c){const _0x402582=a0_0x420d4d;return await this[_0x402582(0x7f0)]['message'][_0x402582(0x561)](_0x1a793c,this[_0x402582(0x238)][_0x402582(0x5df)]);}async[a0_0x420d4d(0x4d6)](){const _0x15dfb8=a0_0x420d4d;return this[_0x15dfb8(0x7f0)][_0x15dfb8(0x6e9)][_0x15dfb8(0x397)](this['instance']['wuid']),this[_0x15dfb8(0x7f0)][_0x15dfb8(0x6e9)][_0x15dfb8(0x80d)](this['instance'][_0x15dfb8(0x5df)]),this['repository'][_0x15dfb8(0x6e9)][_0x15dfb8(0x4b4)](this[_0x15dfb8(0x238)]['wuid']),this[_0x15dfb8(0x7f0)][_0x15dfb8(0x6e9)][_0x15dfb8(0x74d)](this[_0x15dfb8(0x238)]['wuid']),await this[_0x15dfb8(0x7f0)][_0x15dfb8(0x6e9)][_0x15dfb8(0x561)]({'where':{}},this[_0x15dfb8(0x238)][_0x15dfb8(0x5df)]);}async['importChatsAntigo'](_0x514ab3){const _0x464552=a0_0x420d4d;try{if(!Array[_0x464552(0x5bf)](_0x514ab3)||_0x514ab3['length']===0x0)throw new Error(_0x464552(0x1fe));let _0x3796bd=[],_0x399e5c=[];for(let _0x1cf673 of _0x514ab3){if(_0x1cf673[_0x464552(0x664)])_0x1cf673[_0x464552(0x664)]=this[_0x464552(0x5b5)](_0x1cf673[_0x464552(0x664)]);else continue;await this[_0x464552(0x7f0)][_0x464552(0x6e9)]['findOne']({'where':{'_id':_0x1cf673[_0x464552(0x664)]}},this[_0x464552(0x238)]['wuid'])?_0x399e5c[_0x464552(0x26a)]({'_id':_0x1cf673[_0x464552(0x664)],'leadInfo':_0x1cf673[_0x464552(0x650)],'owner':this[_0x464552(0x238)]['wuid']}):_0x3796bd['push']({'_id':_0x1cf673[_0x464552(0x664)],'owner':this[_0x464552(0x238)]['wuid'],'leadInfo':_0x1cf673[_0x464552(0x650)],'imported':!0x0});}return _0x399e5c[_0x464552(0x297)]>0x0&&await this[_0x464552(0x7f0)][_0x464552(0x6e9)][_0x464552(0x6a3)](_0x399e5c[_0x464552(0x28d)](_0x2270fe=>({'query':{'where':{'_id':_0x2270fe[_0x464552(0x664)],'owner':this['instance'][_0x464552(0x5df)]}},'update':_0x2270fe}))),_0x3796bd[_0x464552(0x297)]>0x0&&await this['repository'][_0x464552(0x6e9)][_0x464552(0x1f1)](_0x3796bd,this[_0x464552(0x238)][_0x464552(0x5df)]),{'updated':_0x399e5c[_0x464552(0x297)],'inserted':_0x3796bd['length']};}catch(_0x4e8aff){let _0x32bd0b=_0x464552(0x271),_0x3774de=_0x4e8aff instanceof Error?_0x4e8aff[_0x464552(0x8d5)]:typeof _0x4e8aff==_0x464552(0x86d)?JSON[_0x464552(0x31d)](_0x4e8aff):_0x4e8aff,_0xd63f9d=_0x32bd0b+':\x20'+_0x3774de;throw this[_0x464552(0x2bc)][_0x464552(0x82e)](this[_0x464552(0x83a)]+'\x20('+this[_0x464552(0x238)][_0x464552(0x5df)]+'):\x20'+_0xd63f9d),new m(_0xd63f9d);}}async[a0_0x420d4d(0x7d5)](_0x5634da){const _0x58a176=a0_0x420d4d;try{if(!Array['isArray'](_0x5634da)||_0x5634da[_0x58a176(0x297)]===0x0)throw new Error(_0x58a176(0x1fe));let _0x5e089f=0x64,_0x58c12f=0x0;for(let _0x45a27c=0x0;_0x45a27c<_0x5634da['length'];_0x45a27c+=_0x5e089f){let _0x3ae7ca=_0x5634da[_0x58a176(0x2f7)](_0x45a27c,_0x45a27c+_0x5e089f),{updated:_0xf158e1}=await this[_0x58a176(0x52a)](_0x3ae7ca);_0x58c12f+=_0xf158e1;}return{'updated':_0x58c12f};}catch(_0x5926bd){let _0x4cc693=_0x58a176(0x271),_0x9d60b=_0x5926bd instanceof Error?_0x5926bd['message']:typeof _0x5926bd==_0x58a176(0x86d)?JSON[_0x58a176(0x31d)](_0x5926bd):_0x5926bd,_0x4cd479=_0x4cc693+':\x20'+_0x9d60b;throw this[_0x58a176(0x2bc)][_0x58a176(0x82e)](this[_0x58a176(0x83a)]+'\x20('+this[_0x58a176(0x238)][_0x58a176(0x5df)]+_0x58a176(0x55c)+_0x4cd479),new m(_0x4cd479);}}async['importChatsBatch'](_0x3fd17a){const _0x1078d0=a0_0x420d4d;try{let _0x425eb0=await this[_0x1078d0(0x7f0)][_0x1078d0(0x1d7)][_0x1078d0(0x561)]({'where':{}},this[_0x1078d0(0x238)][_0x1078d0(0x5df)]),_0x1bffc7=new Set(_0x425eb0[_0x1078d0(0x28d)](_0x47c953=>_0x47c953[_0x1078d0(0x664)])),_0x3ce9b6=[],_0x5ab720=[];for(let _0x445493 of _0x3fd17a){if(!_0x445493[_0x1078d0(0x664)])continue;_0x445493['_id']=this['createJid'](_0x445493[_0x1078d0(0x664)]);let _0x3d1f4f=await this[_0x1078d0(0x7f0)]['chat'][_0x1078d0(0x868)]({'where':{'_id':_0x445493['_id']}},this[_0x1078d0(0x238)]['wuid']),_0x3846af={};if(Object[_0x1078d0(0x205)](_0x445493[_0x1078d0(0x650)])[_0x1078d0(0x425)](([_0x521b51,_0x121b34])=>{const _0x3ceba1=_0x1078d0;_0x3846af[_0x3ceba1(0x3d7)+_0x521b51]=_0x121b34;}),_0x3d1f4f&&!_0x3d1f4f[_0x1078d0(0x33a)]){let _0x1344b3=(_0x445493['leadInfo'][_0x1078d0(0x2e3)]||[])[_0x1078d0(0x6cb)](_0xc765d5=>_0x1bffc7['has'](_0xc765d5)),_0x1e70dd=new Set(_0x3d1f4f[_0x1078d0(0x650)]['etiquetas']||[]),_0x1ff9a0=_0x1344b3[_0x1078d0(0x6cb)](_0x25dfe0=>!_0x1e70dd['has'](_0x25dfe0)),_0x55a77b=[..._0x1e70dd][_0x1078d0(0x6cb)](_0x2582c4=>!_0x1344b3['includes'](_0x2582c4));_0x5ab720['push'](..._0x1ff9a0[_0x1078d0(0x28d)](_0x30d211=>this['AddChatLabel'](_0x30d211,_0x445493['_id']))),_0x5ab720['push'](..._0x55a77b[_0x1078d0(0x28d)](_0x5a3423=>this[_0x1078d0(0x366)](_0x5a3423,_0x445493[_0x1078d0(0x664)]))),_0x445493[_0x1078d0(0x650)][_0x1078d0(0x2e3)]=_0x1344b3,_0x3ce9b6[_0x1078d0(0x26a)]({'query':{'where':{'_id':_0x445493[_0x1078d0(0x664)],'owner':this['instance']['wuid']}},'update':_0x3846af});}else _0x3846af[_0x1078d0(0x33a)]=!0x0,_0x3ce9b6[_0x1078d0(0x26a)]({'query':{'where':{'_id':_0x445493[_0x1078d0(0x664)],'owner':this[_0x1078d0(0x238)][_0x1078d0(0x5df)]}},'update':_0x3846af});}let _0x3957b3=await this[_0x1078d0(0x7f0)][_0x1078d0(0x6e9)][_0x1078d0(0x6a3)](_0x3ce9b6);return await Promise[_0x1078d0(0x679)](_0x5ab720),{'updated':_0x3957b3};}catch(_0x49ca9f){let _0x3202ac=_0x1078d0(0x271),_0x460c6f=_0x49ca9f instanceof Error?_0x49ca9f[_0x1078d0(0x8d5)]:typeof _0x49ca9f=='object'?JSON[_0x1078d0(0x31d)](_0x49ca9f):_0x49ca9f,_0x1674b8=_0x3202ac+':\x20'+_0x460c6f;throw this[_0x1078d0(0x2bc)][_0x1078d0(0x82e)](this[_0x1078d0(0x83a)]+'\x20('+this['instance'][_0x1078d0(0x5df)]+_0x1078d0(0x55c)+_0x1674b8),new m(_0x1674b8);}}async['fetchPrivacySettings'](){const _0x5075bd=a0_0x420d4d;return await this[_0x5075bd(0x43d)]['fetchPrivacySettings']();}async[a0_0x420d4d(0x290)](_0x307ba4){const _0x1137cd=a0_0x420d4d;try{return await this[_0x1137cd(0x43d)][_0x1137cd(0x6c8)](_0x307ba4[_0x1137cd(0x846)][_0x1137cd(0x7bd)]),await this[_0x1137cd(0x43d)]['updateProfilePicturePrivacy'](_0x307ba4['privacySettings']['profile']),await this[_0x1137cd(0x43d)][_0x1137cd(0x546)](_0x307ba4[_0x1137cd(0x846)]['status']),await this[_0x1137cd(0x43d)][_0x1137cd(0x76c)](_0x307ba4[_0x1137cd(0x846)][_0x1137cd(0x7e3)]),await this['client'][_0x1137cd(0x349)](_0x307ba4[_0x1137cd(0x846)][_0x1137cd(0x26c)]),await this['client']['updateGroupsAddPrivacy'](_0x307ba4[_0x1137cd(0x846)]['groupadd']),this[_0x1137cd(0x43d)]?.['ws']?.[_0x1137cd(0x453)](),{'update':'success','data':{'readreceipts':_0x307ba4['privacySettings'][_0x1137cd(0x7bd)],'profile':_0x307ba4['privacySettings'][_0x1137cd(0x55f)],'status':_0x307ba4['privacySettings'][_0x1137cd(0x69e)],'online':_0x307ba4[_0x1137cd(0x846)][_0x1137cd(0x7e3)],'last':_0x307ba4[_0x1137cd(0x846)][_0x1137cd(0x26c)],'groupadd':_0x307ba4[_0x1137cd(0x846)][_0x1137cd(0x382)]}};}catch(_0x457bb8){let _0x571d3d=_0x1137cd(0x6e6),_0xf07d6f=_0x457bb8 instanceof Error?_0x457bb8[_0x1137cd(0x8d5)]:typeof _0x457bb8==_0x1137cd(0x86d)?JSON[_0x1137cd(0x31d)](_0x457bb8):_0x457bb8,_0x4349a4=_0x571d3d+':\x20'+_0xf07d6f;throw this[_0x1137cd(0x2bc)]['error'](this['instanceName']+'\x20('+this[_0x1137cd(0x238)][_0x1137cd(0x5df)]+_0x1137cd(0x55c)+_0x4349a4),new m(_0x4349a4);}}async[a0_0x420d4d(0x836)](_0x352ea2){const _0xa4007a=a0_0x420d4d;let _0x5bfcbf=(_0x352ea2?this['createJid'](_0x352ea2):this[_0xa4007a(0x43d)]?.[_0xa4007a(0x49f)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0xa4007a(0x2bc)][_0xa4007a(0x200)](_0xa4007a(0x41b)+_0x5bfcbf);let _0x333237=await this[_0xa4007a(0x7f0)][_0xa4007a(0x617)][_0xa4007a(0x868)]({'where':{'_id':_0x5bfcbf}},this[_0xa4007a(0x238)][_0xa4007a(0x5df)]),_0xc9629c=_0x333237?_0x333237[_0xa4007a(0x8d4)]:null;try{let _0x57f613=(await this[_0xa4007a(0x674)]({'numbers':[_0x5bfcbf]}))?.[_0xa4007a(0x77e)](),_0x4f8edf=(await this[_0xa4007a(0x54f)](_0x5bfcbf,null,!0x1))[_0xa4007a(0x2b1)][_0xa4007a(0x46d)],_0x3ea935=await this['getStatus'](_0x57f613?.['jid']),_0x101e33=await this[_0xa4007a(0x6d6)](_0x57f613?.[_0xa4007a(0x812)]),_0x5cb96b=(await this[_0xa4007a(0x54f)](_0x5bfcbf,null,!0x1))[_0xa4007a(0x2b1)][_0xa4007a(0x325)],_0x3fc431=await this['repository'][_0xa4007a(0x6e9)][_0xa4007a(0x868)]({'where':{'_id':_0x5bfcbf}},this[_0xa4007a(0x238)][_0xa4007a(0x5df)]),_0x30072b={'imagechat':_0x4f8edf,'contactname':_0xc9629c||null,'pushName':_0x5cb96b,'status':_0x3ea935?.['status'],'isBusiness':_0x101e33[_0xa4007a(0x3dc)],'email':_0x101e33?.[_0xa4007a(0x3ee)],'description':_0x101e33?.[_0xa4007a(0x871)],'website':_0x101e33?.[_0xa4007a(0x57d)]?.[_0xa4007a(0x77e)](),'lastcache':Date['now'](),'imported':!_0x3fc431},_0x173c1a=await this['repository'][_0xa4007a(0x6e9)][_0xa4007a(0x4a8)]({'where':{'_id':_0x5bfcbf}},_0x30072b,this[_0xa4007a(0x238)][_0xa4007a(0x5df)]),_0x4a1b79={'owner':this[_0xa4007a(0x238)][_0xa4007a(0x5df)],'_id':_0x5bfcbf,'profilePictureUrl':_0x4f8edf,'status':_0x3ea935?.[_0xa4007a(0x69e)]};return this[_0xa4007a(0x7f0)][_0xa4007a(0x617)][_0xa4007a(0x318)]([_0x4a1b79],this[_0xa4007a(0x238)][_0xa4007a(0x5df)]),_0x173c1a&&J(this[_0xa4007a(0x83a)],_0xa4007a(0x300),{'chat':_0x173c1a}),{'wuid':_0x57f613?.[_0xa4007a(0x812)]||_0x5bfcbf,'name':_0x57f613?.[_0xa4007a(0x325)],'pushName':_0x5cb96b,'numberExists':_0x57f613?.[_0xa4007a(0x419)],'picture':_0x4f8edf,'status':_0x3ea935?.['status'],'isBusiness':_0x101e33[_0xa4007a(0x3dc)],'email':_0x101e33?.['email'],'description':_0x101e33?.[_0xa4007a(0x871)],'website':_0x101e33?.[_0xa4007a(0x57d)]?.[_0xa4007a(0x77e)]()};}catch(_0x21512c){return this[_0xa4007a(0x2bc)][_0xa4007a(0x82e)]('Error\x20fetching\x20and\x20updating\x20profile:\x20'+(_0x21512c instanceof Error?_0x21512c['message']:JSON[_0xa4007a(0x31d)](_0x21512c,null,0x2))),{};}}async['fetchBusinessProfile'](_0x56e0ae){const _0x2fb2aa=a0_0x420d4d;this[_0x2fb2aa(0x2bc)][_0x2fb2aa(0x200)](_0x2fb2aa(0x1ec));try{let _0x47b804=_0x56e0ae?this[_0x2fb2aa(0x5b5)](_0x56e0ae):this[_0x2fb2aa(0x238)]['wuid'],_0x111558=await this[_0x2fb2aa(0x43d)][_0x2fb2aa(0x294)](_0x47b804);return this['logger'][_0x2fb2aa(0x200)](_0x2fb2aa(0x6ca)),_0x111558?(this[_0x2fb2aa(0x2bc)][_0x2fb2aa(0x200)](_0x2fb2aa(0x439)),{'isBusiness':!0x0,..._0x111558}):{'isBusiness':!0x1,'message':_0x2fb2aa(0x75c),...(await this[_0x2fb2aa(0x674)]({'numbers':[_0x47b804]}))?.[_0x2fb2aa(0x77e)]()};}catch(_0x281e38){let _0x2e19cd='Falha\x20ao\x20processar\x20fetchBusinessProfile',_0x413903=_0x281e38 instanceof Error?_0x281e38[_0x2fb2aa(0x8d5)]:typeof _0x281e38=='object'?JSON[_0x2fb2aa(0x31d)](_0x281e38):_0x281e38,_0x2e53b2=_0x2e19cd+':\x20'+_0x413903;throw this[_0x2fb2aa(0x2bc)]['error'](this[_0x2fb2aa(0x83a)]+'\x20('+this[_0x2fb2aa(0x238)][_0x2fb2aa(0x5df)]+_0x2fb2aa(0x55c)+_0x2e53b2),new I(_0x2e53b2);}}async[a0_0x420d4d(0x7a1)](_0x4ecd61){const _0x1a4e49=a0_0x420d4d;let _0xcf9f7a=this['createJid'](_0x4ecd61);try{return{'wuid':_0xcf9f7a,'status':(await this[_0x1a4e49(0x43d)][_0x1a4e49(0x260)](_0xcf9f7a))?.[_0x1a4e49(0x69e)]};}catch{return{'wuid':_0xcf9f7a,'status':null};}}async[a0_0x420d4d(0x7f7)](_0x4981a2){const _0x1bb240=a0_0x420d4d;try{return await this['client'][_0x1bb240(0x7f7)](_0x4981a2),{'update':_0x1bb240(0x22e)};}catch(_0x5d4c0d){let _0x5a5cd3=_0x1bb240(0x8a3),_0x3bdb6e=_0x5d4c0d instanceof Error?_0x5d4c0d[_0x1bb240(0x8d5)]:typeof _0x5d4c0d==_0x1bb240(0x86d)?JSON[_0x1bb240(0x31d)](_0x5d4c0d):_0x5d4c0d,_0x1497d8=_0x5a5cd3+':\x20'+_0x3bdb6e;throw this['logger'][_0x1bb240(0x82e)](this[_0x1bb240(0x83a)]+'\x20('+this[_0x1bb240(0x238)][_0x1bb240(0x5df)]+_0x1bb240(0x55c)+_0x1497d8),new I(_0x1497d8);}}async['updateProfileStatus'](_0x307680){const _0x455b2a=a0_0x420d4d;try{return await this[_0x455b2a(0x43d)]['updateProfileStatus'](_0x307680),{'update':'success'};}catch(_0x4202f5){let _0x31ff45=_0x455b2a(0x29f),_0x23c28d=_0x4202f5 instanceof Error?_0x4202f5[_0x455b2a(0x8d5)]:typeof _0x4202f5=='object'?JSON[_0x455b2a(0x31d)](_0x4202f5):_0x4202f5,_0x1a93fb=_0x31ff45+':\x20'+_0x23c28d;throw this[_0x455b2a(0x2bc)][_0x455b2a(0x82e)](this['instanceName']+'\x20('+this[_0x455b2a(0x238)][_0x455b2a(0x5df)]+_0x455b2a(0x55c)+_0x1a93fb),new I(_0x1a93fb);}}async['updateProfilePicture'](_0x125832){const _0x5c8920=a0_0x420d4d;try{let _0x1cba57;if((0x0,k[_0x5c8920(0x78d)])(_0x125832)){let _0x32d2dd=new Date()[_0x5c8920(0x657)](),_0x283f28=_0x125832+_0x5c8920(0x30d)+_0x32d2dd;_0x1cba57=(await K[_0x5c8920(0x7f3)][_0x5c8920(0x71d)](_0x283f28,{'responseType':'arraybuffer'}))[_0x5c8920(0x6c7)];}else{if((0x0,k[_0x5c8920(0x885)])(_0x125832))_0x1cba57=Buffer[_0x5c8920(0x4ea)](_0x125832,_0x5c8920(0x3ef));else throw new m(_0x5c8920(0x814));}return await this[_0x5c8920(0x43d)]['updateProfilePicture'](this[_0x5c8920(0x238)][_0x5c8920(0x5df)],_0x1cba57),{'update':_0x5c8920(0x22e)};}catch(_0xbc5b){let _0x578d23=_0x5c8920(0x6db),_0x1abc54=_0xbc5b instanceof Error?_0xbc5b[_0x5c8920(0x8d5)]:typeof _0xbc5b==_0x5c8920(0x86d)?JSON[_0x5c8920(0x31d)](_0xbc5b):_0xbc5b,_0x6f9e3=_0x578d23+':\x20'+_0x1abc54;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x5c8920(0x238)][_0x5c8920(0x5df)]+'):\x20'+_0x6f9e3),new I(_0x6f9e3);}}async['removeProfilePicture'](){const _0x266e01=a0_0x420d4d;try{return await this[_0x266e01(0x43d)][_0x266e01(0x454)](this[_0x266e01(0x238)][_0x266e01(0x5df)]),{'update':_0x266e01(0x22e)};}catch(_0x6ebcfe){let _0x4c596e=_0x266e01(0x6bc),_0x24aa35=_0x6ebcfe instanceof Error?_0x6ebcfe[_0x266e01(0x8d5)]:typeof _0x6ebcfe=='object'?JSON[_0x266e01(0x31d)](_0x6ebcfe):_0x6ebcfe,_0x3fdac7=_0x4c596e+':\x20'+_0x24aa35;throw this[_0x266e01(0x2bc)]['error'](this[_0x266e01(0x83a)]+'\x20('+this['instance'][_0x266e01(0x5df)]+_0x266e01(0x55c)+_0x3fdac7),new I(_0x3fdac7);}}async['createGroup'](_0x16d58b){const _0x3f4641=a0_0x420d4d;try{let _0xa2c16c=(await this[_0x3f4641(0x674)]({'numbers':_0x16d58b[_0x3f4641(0x8ad)]}))[_0x3f4641(0x6cb)](_0x1771c4=>_0x1771c4[_0x3f4641(0x419)])[_0x3f4641(0x28d)](_0x43f764=>_0x43f764['jid']),{id:_0x318490}=await this[_0x3f4641(0x43d)][_0x3f4641(0x472)](_0x16d58b[_0x3f4641(0x2fa)],_0xa2c16c);_0x16d58b?.[_0x3f4641(0x871)]&&await this['client']['groupUpdateDescription'](_0x318490,_0x16d58b[_0x3f4641(0x871)]);let _0x41871d=await this[_0x3f4641(0x43d)]['groupMetadata'](_0x318490);return _0x41871d[_0x3f4641(0x21f)]=[],{'metadata':_0x41871d};}catch(_0x211fcb){let _0x5c1cd3=_0x3f4641(0x43c),_0x11483b=_0x211fcb instanceof Error?_0x211fcb[_0x3f4641(0x8d5)]:typeof _0x211fcb==_0x3f4641(0x86d)?JSON[_0x3f4641(0x31d)](_0x211fcb):_0x211fcb,_0xc56ef4=_0x5c1cd3+':\x20'+_0x11483b;throw this[_0x3f4641(0x2bc)][_0x3f4641(0x82e)](this[_0x3f4641(0x83a)]+'\x20('+this[_0x3f4641(0x238)]['wuid']+_0x3f4641(0x55c)+_0xc56ef4),new I(_0xc56ef4);}}async['groupBetterSetting'](_0x4dcd6){const _0x1ddb07=a0_0x420d4d;try{if(_0x4dcd6[_0x1ddb07(0x451)]===!0x0&&await this[_0x1ddb07(0x43d)][_0x1ddb07(0x6d7)](_0x4dcd6[_0x1ddb07(0x41a)],'locked'),_0x4dcd6[_0x1ddb07(0x451)]===!0x1&&await this[_0x1ddb07(0x43d)]['groupSettingUpdate'](_0x4dcd6['groupJid'],_0x1ddb07(0x2f8)),_0x4dcd6[_0x1ddb07(0x240)]===!0x0&&await this[_0x1ddb07(0x43d)][_0x1ddb07(0x6d7)](_0x4dcd6['groupJid'],_0x1ddb07(0x795)),_0x4dcd6['announce']===!0x1&&await this['client'][_0x1ddb07(0x6d7)](_0x4dcd6[_0x1ddb07(0x41a)],_0x1ddb07(0x321)),_0x4dcd6['memberAddMode']===!0x0&&await this[_0x1ddb07(0x43d)][_0x1ddb07(0x880)](_0x4dcd6['groupJid'],'all_member_add'),_0x4dcd6[_0x1ddb07(0x2a6)]===!0x1&&await this[_0x1ddb07(0x43d)]['groupMemberAddMode'](_0x4dcd6['groupJid'],_0x1ddb07(0x584)),_0x4dcd6[_0x1ddb07(0x872)]===!0x0&&await this[_0x1ddb07(0x43d)][_0x1ddb07(0x49e)](_0x4dcd6[_0x1ddb07(0x41a)],'on'),_0x4dcd6[_0x1ddb07(0x872)]===!0x1&&await this[_0x1ddb07(0x43d)]['groupJoinApprovalMode'](_0x4dcd6['groupJid'],'off'),typeof _0x4dcd6[_0x1ddb07(0x7e7)]<'u'&&_0x4dcd6[_0x1ddb07(0x7e7)]!==null&&await this[_0x1ddb07(0x43d)]['groupToggleEphemeral'](_0x4dcd6[_0x1ddb07(0x41a)],_0x4dcd6[_0x1ddb07(0x7e7)]),_0x4dcd6[_0x1ddb07(0x325)]&&await this[_0x1ddb07(0x43d)][_0x1ddb07(0x847)](_0x4dcd6[_0x1ddb07(0x41a)],_0x4dcd6[_0x1ddb07(0x325)]),_0x4dcd6[_0x1ddb07(0x871)]&&await this[_0x1ddb07(0x43d)]['groupUpdateDescription'](_0x4dcd6[_0x1ddb07(0x41a)],_0x4dcd6['description']),_0x4dcd6['image']){let _0x2a970d;if((0x0,k[_0x1ddb07(0x78d)])(_0x4dcd6['image'])){let _0x18600a=new Date()[_0x1ddb07(0x657)](),_0x53f322=_0x4dcd6[_0x1ddb07(0x331)]+'?timestamp='+_0x18600a;_0x2a970d=(await K['default'][_0x1ddb07(0x71d)](_0x53f322,{'responseType':_0x1ddb07(0x37a)}))['data'];}else{if((0x0,k[_0x1ddb07(0x885)])(_0x4dcd6[_0x1ddb07(0x331)]))_0x2a970d=Buffer['from'](_0x4dcd6[_0x1ddb07(0x331)],_0x1ddb07(0x3ef));else throw new m(_0x1ddb07(0x814));}await this[_0x1ddb07(0x43d)]['updateProfilePicture'](_0x4dcd6[_0x1ddb07(0x41a)],_0x2a970d);}return await this[_0x1ddb07(0x85c)]({'groupJid':_0x4dcd6[_0x1ddb07(0x41a)]});}catch(_0x29cfa4){let _0x52f2bc=_0x1ddb07(0x4c8),_0x2ec73f=_0x29cfa4 instanceof Error?_0x29cfa4[_0x1ddb07(0x8d5)]:typeof _0x29cfa4=='object'?JSON[_0x1ddb07(0x31d)](_0x29cfa4):_0x29cfa4,_0x355fd2=_0x52f2bc+':\x20'+_0x2ec73f;throw this[_0x1ddb07(0x2bc)][_0x1ddb07(0x82e)](this[_0x1ddb07(0x83a)]+'\x20('+this['instance']['wuid']+_0x1ddb07(0x55c)+_0x355fd2),new I(_0x355fd2);}}async['updateGParticipant'](_0x20acfb){const _0x51ce4e=a0_0x420d4d;try{if(_0x20acfb[_0x51ce4e(0x24a)]===_0x51ce4e(0x8cd)||_0x20acfb[_0x51ce4e(0x24a)]===_0x51ce4e(0x5eb)){let _0x48d610=_0x20acfb[_0x51ce4e(0x8ad)][_0x51ce4e(0x28d)](_0x1ecd69=>this[_0x51ce4e(0x5b5)](_0x1ecd69));await this['client']['groupRequestParticipantsUpdate'](_0x20acfb[_0x51ce4e(0x41a)],_0x48d610,_0x20acfb[_0x51ce4e(0x24a)]);}else{if(_0x20acfb[_0x51ce4e(0x24a)]==='add'){let _0x602033=(await this[_0x51ce4e(0x674)]({'numbers':_0x20acfb[_0x51ce4e(0x8ad)]}))[_0x51ce4e(0x6cb)](_0x44bd63=>_0x44bd63[_0x51ce4e(0x419)])['map'](_0x36b3ba=>this[_0x51ce4e(0x5b5)](_0x36b3ba[_0x51ce4e(0x812)]));if(_0x602033[_0x51ce4e(0x297)]===0x0)throw new m(_0x51ce4e(0x3ce));await this[_0x51ce4e(0x43d)]['groupParticipantsUpdate'](_0x20acfb[_0x51ce4e(0x41a)],_0x602033,_0x51ce4e(0x285));}else{let _0x37ff6e=_0x20acfb[_0x51ce4e(0x8ad)]['map'](_0x37ea5b=>this[_0x51ce4e(0x5b5)](_0x37ea5b));await this[_0x51ce4e(0x43d)][_0x51ce4e(0x72b)](_0x20acfb[_0x51ce4e(0x41a)],_0x37ff6e,_0x20acfb[_0x51ce4e(0x24a)]);}}return await this['findGroup']({'groupJid':_0x20acfb[_0x51ce4e(0x41a)]});}catch(_0x338086){let _0x40ac53=_0x51ce4e(0x81b),_0x5c0b75=_0x338086 instanceof Error?_0x338086[_0x51ce4e(0x8d5)]:typeof _0x338086==_0x51ce4e(0x86d)?JSON[_0x51ce4e(0x31d)](_0x338086):_0x338086,_0x381164=_0x40ac53+':\x20'+_0x5c0b75;throw this[_0x51ce4e(0x2bc)][_0x51ce4e(0x82e)](this[_0x51ce4e(0x83a)]+'\x20('+this[_0x51ce4e(0x238)][_0x51ce4e(0x5df)]+_0x51ce4e(0x55c)+_0x381164),new m(_0x381164);}}async['groupGetInviteInfo'](_0xbb0764){const _0x4dd149=a0_0x420d4d;try{return await this['client'][_0x4dd149(0x3f0)](_0xbb0764['inviteCode']);}catch(_0x5bedc8){let _0x3f1494=_0x4dd149(0x53c),_0x5d240a=_0x5bedc8 instanceof Error?_0x5bedc8[_0x4dd149(0x8d5)]:typeof _0x5bedc8==_0x4dd149(0x86d)?JSON[_0x4dd149(0x31d)](_0x5bedc8):_0x5bedc8,_0x4c245e=_0x3f1494+':\x20'+_0x5d240a;throw this[_0x4dd149(0x2bc)][_0x4dd149(0x82e)](this['instanceName']+'\x20('+this[_0x4dd149(0x238)][_0x4dd149(0x5df)]+_0x4dd149(0x55c)+_0x4c245e),new m(_0x4c245e);}}async[a0_0x420d4d(0x85c)](_0x11d96d,_0x34b1d9=a0_0x420d4d(0x246)){const _0x41183b=a0_0x420d4d;try{let _0x4c4835=await this['repository'][_0x41183b(0x6e9)][_0x41183b(0x868)]({'where':{'_id':_0x11d96d[_0x41183b(0x41a)]}},this['instance'][_0x41183b(0x5df)]),_0xc2028=_0x4c4835?_0x4c4835[_0x41183b(0x7d3)]:null,_0x5de01e=0x18*0x3c*0x3c*0x3e8;if(!_0xc2028||_0xc2028[_0x41183b(0x281)]&&Date[_0x41183b(0x301)]()-_0xc2028[_0x41183b(0x281)]>_0x5de01e){let _0x1bff44=await this['client'][_0x41183b(0x4d7)](_0x11d96d['groupJid']);if(_0x1bff44[_0x41183b(0x7e6)]=_0x1bff44?.[_0x41183b(0x7e6)]&&_0x1bff44['subjectTime'][_0x41183b(0x5d4)]()[_0x41183b(0x297)]<0xd?_0x1bff44?.[_0x41183b(0x7e6)]*0x3e8:_0x1bff44?.[_0x41183b(0x7e6)]||null,_0x1bff44[_0x41183b(0x70e)]=_0x1bff44?.[_0x41183b(0x70e)]&&_0x1bff44[_0x41183b(0x70e)][_0x41183b(0x5d4)]()[_0x41183b(0x297)]<0xd?_0x1bff44?.[_0x41183b(0x70e)]*0x3e8:_0x1bff44?.[_0x41183b(0x70e)]||null,_0xc2028={..._0x1bff44,'lastUpdate':Date['now']()},!_0x1bff44)return;}let _0x3330e5=_0xc2028[_0x41183b(0x8ad)][_0x41183b(0x5e9)](_0x1d7c75=>_0x1d7c75['id']===this['instance'][_0x41183b(0x5df)]+_0x41183b(0x8dd)&&_0x1d7c75[_0x41183b(0x39e)]!=null);!_0xc2028[_0x41183b(0x304)]&&_0x3330e5&&(_0xc2028[_0x41183b(0x304)]=(await this['inviteCode'](_0x11d96d,!0x1))['inviteUrl']);let _0x17cb70=(!_0xc2028['announce']||_0x3330e5)&&(!_0xc2028[_0x41183b(0x6df)]||_0xc2028[_0x41183b(0x6df)]&&_0xc2028[_0x41183b(0x766)]&&_0x3330e5);_0xc2028[_0x41183b(0x38e)]=_0x3330e5,_0xc2028[_0x41183b(0x242)]=_0x17cb70;let _0x4cc3a8=[];if(_0x3330e5&&_0xc2028[_0x41183b(0x872)])try{_0x4cc3a8=await this[_0x41183b(0x43d)][_0x41183b(0x299)](_0x11d96d[_0x41183b(0x41a)]),_0xc2028[_0x41183b(0x735)]=Date['now']();}catch(_0x49ce02){this[_0x41183b(0x2bc)][_0x41183b(0x200)](this[_0x41183b(0x83a)]+'\x20('+this[_0x41183b(0x238)][_0x41183b(0x5df)]+_0x41183b(0x7ce)+_0x11d96d[_0x41183b(0x41a)]+':\x20'+(_0x49ce02 instanceof Error?_0x49ce02[_0x41183b(0x8d5)]:JSON[_0x41183b(0x31d)](_0x49ce02,null,0x2)));}try{_0xc2028[_0x41183b(0x331)]=(await this[_0x41183b(0x54f)](_0x11d96d[_0x41183b(0x41a)],null,!0x0))[_0x41183b(0x2b1)][_0x41183b(0x46d)];}catch(_0x19d95c){this[_0x41183b(0x2bc)][_0x41183b(0x200)](this[_0x41183b(0x83a)]+'\x20('+this['instance'][_0x41183b(0x5df)]+_0x41183b(0x429)+_0x11d96d['groupJid']+':\x20'+(_0x19d95c instanceof Error?_0x19d95c[_0x41183b(0x8d5)]:JSON[_0x41183b(0x31d)](_0x19d95c,null,0x2)));}let _0x588a28=_0xc2028[_0x41183b(0x8ad)]['map'](_0x20e05b=>_0x20e05b['id']),_0x4b9aac=_0x4cc3a8[_0x41183b(0x28d)](_0x259a02=>_0x259a02[_0x41183b(0x812)]),_0x3721c1=await this['repository'][_0x41183b(0x5c7)][_0x41183b(0x249)]([..._0x588a28,..._0x4b9aac]);_0xc2028[_0x41183b(0x8ad)]=_0xc2028[_0x41183b(0x8ad)]['map'](_0x2c54d9=>{const _0x9126a7=_0x41183b;let _0x440477=_0x3721c1['find'](_0x4447d9=>_0x4447d9[_0x9126a7(0x664)]===_0x2c54d9['id']);return{'id':_0x2c54d9['id'],'isAdmin':[_0x9126a7(0x39e),_0x9126a7(0x81d)][_0x9126a7(0x3a0)](_0x2c54d9[_0x9126a7(0x39e)]),'admin':_0x2c54d9['admin'],'pushName':_0x440477?.['name'],'profilePictureUrl':_0x440477?.['pictureUrl']};}),_0xc2028[_0x41183b(0x21f)]=_0x4cc3a8[_0x41183b(0x28d)](_0x46ef49=>{const _0x206a96=_0x41183b;let _0x566824=_0x3721c1[_0x206a96(0x561)](_0x70d5e9=>_0x70d5e9[_0x206a96(0x664)]===_0x46ef49['jid']);return{'id':_0x46ef49[_0x206a96(0x812)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x566824?.['name'],'profilePictureUrl':_0x566824?.['pictureUrl'],'request_method':_0x46ef49[_0x206a96(0x45a)],'request_time':_0x46ef49['request_time']};});let _0xf2b156=await this[_0x41183b(0x7f0)][_0x41183b(0x6e9)][_0x41183b(0x4a8)]({'where':{'_id':_0x11d96d[_0x41183b(0x41a)]}},{'imagechat':_0xc2028['image'],'name':_0xc2028[_0x41183b(0x2fa)],'lastcache':Date['now'](),'groupdata':_0xc2028},this[_0x41183b(0x238)][_0x41183b(0x5df)]);return J(this['instanceName'],'chats',{'chat':_0xf2b156}),{'metadata':_0xc2028};}catch(_0x4426f9){if(_0x34b1d9===_0x41183b(0x20b))return;throw new U(_0x41183b(0x479),_0x4426f9[_0x41183b(0x8d5)]['toString']());}}async[a0_0x420d4d(0x1f7)](){const _0x732688=a0_0x420d4d;try{let _0x50032c=[],_0x341ace=await this[_0x732688(0x43d)][_0x732688(0x3ab)](),_0x17bf0e=Object['values'](_0x341ace),_0x5372c7=_0x17bf0e[_0x732688(0x6cb)](_0x2896ed=>(0x0,f[_0x732688(0x3cf)])(_0x2896ed?.['id']))[_0x732688(0x28d)](async _0xa440e4=>{const _0x166bca=_0x732688;try{return await this[_0x166bca(0x43d)][_0x166bca(0x266)](_0xa440e4['id'],_0x166bca(0x510));}catch(_0x71f647){return this['logger'][_0x166bca(0x200)](this[_0x166bca(0x83a)]+'\x20('+this['instance'][_0x166bca(0x5df)]+_0x166bca(0x429)+_0xa440e4['id']+':\x20'+(_0x71f647 instanceof Error?_0x71f647['message']:JSON[_0x166bca(0x31d)](_0x71f647,null,0x2))),null;}}),_0x17c6d9=await Promise[_0x732688(0x679)](_0x5372c7);for(let _0x335c7c=0x0;_0x335c7c<_0x17bf0e[_0x732688(0x297)];_0x335c7c++){let _0xc7665e=_0x17bf0e[_0x335c7c];(0x0,f[_0x732688(0x3cf)])(_0xc7665e?.['id'])&&(_0x50032c[_0x732688(0x26a)]({'groupJid':_0xc7665e?.['id'],'subject':_0xc7665e?.[_0x732688(0x2fa)],'subjectOwner':_0xc7665e?.[_0x732688(0x401)]?.[_0x732688(0x65d)]('@')[0x0],'subjectTime':_0xc7665e?.[_0x732688(0x7e6)],'creation':_0xc7665e?.[_0x732688(0x70e)],'size':_0xc7665e?.['participants']?.[_0x732688(0x297)],'owner':_0xc7665e?.[_0x732688(0x89c)]?.[_0x732688(0x65d)]('@')[0x0],'desc':_0xc7665e?.[_0x732688(0x3ac)],'restrict':_0xc7665e?.[_0x732688(0x451)],'announce':_0xc7665e?.[_0x732688(0x240)],'image':_0x17c6d9[_0x335c7c],'isCommunity':_0xc7665e?.[_0x732688(0x6df)],'joinApprovalMode':_0xc7665e?.[_0x732688(0x872)],'memberCanAddParticipant':_0xc7665e?.[_0x732688(0x2a6)],'participants':_0xc7665e?.[_0x732688(0x8ad)],'descOwner':_0xc7665e?.[_0x732688(0x3e2)],'descId':_0xc7665e?.[_0x732688(0x7ed)],'memberAddMode':_0xc7665e?.[_0x732688(0x2a6)],'isCommunityAnnounce':_0xc7665e?.[_0x732688(0x766)],'ephemeralDuration':_0xc7665e?.[_0x732688(0x85e)]||0x0,'author':_0xc7665e?.['author']}),this[_0x732688(0x30f)](_0x17bf0e[_0x335c7c]));}return _0x50032c;}catch(_0x8a0382){let _0x12ea10=_0x732688(0x794),_0x273f7c=_0x8a0382 instanceof Error?_0x8a0382[_0x732688(0x8d5)]:typeof _0x8a0382=='object'?JSON[_0x732688(0x31d)](_0x8a0382):_0x8a0382,_0x3634db=_0x12ea10+':\x20'+_0x273f7c;throw this[_0x732688(0x2bc)][_0x732688(0x82e)](this[_0x732688(0x83a)]+'\x20('+this[_0x732688(0x238)][_0x732688(0x5df)]+_0x732688(0x55c)+_0x3634db),new U(_0x3634db);}}async['updateChatGroupData'](_0x595d73){const _0x15b7c8=a0_0x420d4d;let _0x4b2426=await this[_0x15b7c8(0x7f0)]['chat'][_0x15b7c8(0x868)]({'where':{'_id':_0x595d73['id']}},this['instance']['wuid']);_0x595d73[_0x15b7c8(0x7e6)]=_0x595d73?.[_0x15b7c8(0x7e6)]&&_0x595d73['subjectTime'][_0x15b7c8(0x5d4)]()[_0x15b7c8(0x297)]<0xd?_0x595d73?.['subjectTime']*0x3e8:_0x595d73?.['subjectTime']||null,_0x595d73[_0x15b7c8(0x70e)]=_0x595d73?.[_0x15b7c8(0x70e)]&&_0x595d73[_0x15b7c8(0x70e)]['toString']()[_0x15b7c8(0x297)]<0xd?_0x595d73?.['creation']*0x3e8:_0x595d73?.['creation']||null;let _0x2907fe=_0x4b2426?.[_0x15b7c8(0x7d3)]?.[_0x15b7c8(0x21f)]||[],_0xd4a0de=_0x4b2426?.[_0x15b7c8(0x7d3)]?.[_0x15b7c8(0x735)],_0x57c17a=_0x595d73[_0x15b7c8(0x8ad)][_0x15b7c8(0x28d)](_0x28e048=>{const _0x1f8ca7=_0x15b7c8;let _0x496c2d=_0x4b2426?.[_0x1f8ca7(0x7d3)]?.[_0x1f8ca7(0x8ad)][_0x1f8ca7(0x561)](_0x17319e=>_0x17319e['id']===_0x28e048['id']);return{..._0x28e048,'isAdmin':[_0x1f8ca7(0x39e),'superadmin']['includes'](_0x28e048[_0x1f8ca7(0x39e)]),'admin':_0x28e048['admin'],'name':_0x496c2d?.[_0x1f8ca7(0x325)]||_0x28e048[_0x1f8ca7(0x325)],'imgUrl':_0x496c2d?.[_0x1f8ca7(0x751)]||_0x28e048[_0x1f8ca7(0x751)]};}),_0x3f5136=_0x57c17a[_0x15b7c8(0x5e9)](_0x21fb19=>_0x21fb19['id']===this[_0x15b7c8(0x238)]['wuid']+_0x15b7c8(0x8dd)&&_0x21fb19['isAdmin']),_0x4371ce=(!_0x595d73['announce']||_0x3f5136)&&(!_0x595d73[_0x15b7c8(0x6df)]||_0x595d73[_0x15b7c8(0x6df)]&&_0x595d73[_0x15b7c8(0x766)]&&_0x3f5136),_0x3bd57e={..._0x595d73,'participants':_0x57c17a,'awaitingApproval':_0x2907fe,'lastFetchAwaitingApproval':_0xd4a0de,'isAdmin':_0x3f5136,'canSendMessage':_0x4371ce,'lastUpdate':Date[_0x15b7c8(0x301)]()};await this['repository']['chat'][_0x15b7c8(0x4a8)]({'where':{'_id':_0x595d73['id']}},{'name':_0x595d73[_0x15b7c8(0x2fa)],'group':!0x0,'groupdata':_0x3bd57e,'lastcache':Date[_0x15b7c8(0x301)]()},this[_0x15b7c8(0x238)]['wuid']),J(this[_0x15b7c8(0x83a)],_0x15b7c8(0x300),{'chat':_0x595d73});}async['updateGroupWebhook'](_0x5a8625){const _0x3e3c0f=a0_0x420d4d;let _0x2952fe=await this[_0x3e3c0f(0x7f0)][_0x3e3c0f(0x6e9)][_0x3e3c0f(0x868)]({'where':{'_id':_0x5a8625['id']}},this[_0x3e3c0f(0x238)][_0x3e3c0f(0x5df)]);_0x5a8625[_0x3e3c0f(0x7e6)]=_0x5a8625?.[_0x3e3c0f(0x7e6)]&&_0x5a8625[_0x3e3c0f(0x7e6)]['toString']()[_0x3e3c0f(0x297)]<0xd?_0x5a8625?.[_0x3e3c0f(0x7e6)]*0x3e8:_0x5a8625?.[_0x3e3c0f(0x7e6)]||null,_0x5a8625['creation']=_0x5a8625?.[_0x3e3c0f(0x70e)]&&_0x5a8625[_0x3e3c0f(0x70e)]['toString']()['length']<0xd?_0x5a8625?.[_0x3e3c0f(0x70e)]*0x3e8:_0x5a8625?.[_0x3e3c0f(0x70e)]||null,_0x5a8625[_0x3e3c0f(0x304)]&&(_0x5a8625[_0x3e3c0f(0x304)]=_0x3e3c0f(0x894)+_0x5a8625['inviteCode']);let _0x2d9278=_0x2952fe?.[_0x3e3c0f(0x7d3)]?{..._0x2952fe[_0x3e3c0f(0x7d3)]}:{};Object[_0x3e3c0f(0x673)](_0x5a8625)[_0x3e3c0f(0x425)](_0x43744f=>{_0x43744f!=='id'&&(_0x2d9278[_0x43744f]=_0x5a8625[_0x43744f]);});let _0x67213e=_0x2d9278[_0x3e3c0f(0x8ad)]?.[_0x3e3c0f(0x5e9)](_0x4c3f29=>_0x4c3f29['id']===this[_0x3e3c0f(0x238)][_0x3e3c0f(0x5df)]+_0x3e3c0f(0x8dd)&&_0x4c3f29['isAdmin'])||!0x1;_0x2d9278['isAdmin']=_0x67213e;let _0x2ceefe=(!_0x2d9278['announce']||_0x67213e)&&(!_0x2d9278['isCommunity']||_0x2d9278[_0x3e3c0f(0x6df)]&&_0x2d9278['isCommunityAnnounce']&&_0x67213e);_0x2d9278[_0x3e3c0f(0x242)]=_0x2ceefe;let _0x1443c2={'group':!0x0,'groupdata':_0x2d9278};_0x5a8625[_0x3e3c0f(0x2fa)]&&(_0x1443c2[_0x3e3c0f(0x325)]=_0x5a8625[_0x3e3c0f(0x2fa)]),await this[_0x3e3c0f(0x7f0)][_0x3e3c0f(0x6e9)][_0x3e3c0f(0x4a8)]({'where':{'_id':_0x5a8625['id']}},_0x1443c2,this['instance'][_0x3e3c0f(0x5df)],{'upsert':!0x0}),J(this[_0x3e3c0f(0x83a)],_0x3e3c0f(0x300),{'chat':_0x1443c2});}async[a0_0x420d4d(0x4da)](_0x1b3dd7){const _0x4ca678=a0_0x420d4d;let _0x59a9fa=await this[_0x4ca678(0x7f0)][_0x4ca678(0x6e9)][_0x4ca678(0x868)]({'where':{'_id':_0x1b3dd7['id']}},this[_0x4ca678(0x238)][_0x4ca678(0x5df)]);if(!_0x59a9fa||!_0x59a9fa[_0x4ca678(0x7d3)]){this[_0x4ca678(0x2bc)][_0x4ca678(0x536)](this[_0x4ca678(0x83a)]+'\x20('+this[_0x4ca678(0x238)][_0x4ca678(0x5df)]+_0x4ca678(0x54b)+_0x1b3dd7['id']);return;}let _0x2227bd=await this[_0x4ca678(0x7f0)][_0x4ca678(0x5c7)][_0x4ca678(0x249)](_0x1b3dd7[_0x4ca678(0x8ad)]),_0x535cfa=[..._0x59a9fa[_0x4ca678(0x7d3)]?.[_0x4ca678(0x8ad)]];switch(_0x1b3dd7['action']){case _0x4ca678(0x285):let _0x5f2b25=_0x2227bd[_0x4ca678(0x28d)](_0x54760a=>({'id':_0x54760a['_id'],'isAdmin':!0x1,'name':_0x54760a[_0x4ca678(0x325)],'imgUrl':_0x54760a[_0x4ca678(0x46d)]}));_0x535cfa=[..._0x535cfa,..._0x5f2b25];break;case _0x4ca678(0x5c9):_0x535cfa=_0x535cfa['filter'](_0x5f0b08=>!_0x1b3dd7['participants'][_0x4ca678(0x3a0)](_0x5f0b08['id']));break;case _0x4ca678(0x726):case _0x4ca678(0x222):_0x535cfa=_0x535cfa[_0x4ca678(0x28d)](_0x444fcd=>_0x1b3dd7['participants']['includes'](_0x444fcd['id'])?{..._0x444fcd,'isAdmin':_0x1b3dd7['action']===_0x4ca678(0x726)}:_0x444fcd);break;}let _0x144d35=_0x535cfa[_0x4ca678(0x297)],_0x2c6bdb=_0x535cfa['some'](_0x11c393=>_0x11c393['id']===this['instance'][_0x4ca678(0x5df)]+_0x4ca678(0x8dd)),_0x334514=_0x2c6bdb&&_0x535cfa[_0x4ca678(0x5e9)](_0x495d5e=>_0x495d5e['id']===this[_0x4ca678(0x238)][_0x4ca678(0x5df)]+_0x4ca678(0x8dd)&&_0x495d5e[_0x4ca678(0x38e)]),_0x3aeb67=_0x2c6bdb&&(!_0x59a9fa[_0x4ca678(0x7d3)]['announce']||_0x334514)&&(!_0x59a9fa[_0x4ca678(0x7d3)]['isCommunity']||_0x59a9fa['groupdata'][_0x4ca678(0x6df)]&&_0x334514);await this['repository'][_0x4ca678(0x6e9)][_0x4ca678(0x4a8)]({'where':{'_id':_0x1b3dd7['id']}},{'groupdata':{..._0x59a9fa[_0x4ca678(0x7d3)],'participants':_0x535cfa,'size':_0x144d35,'isAdmin':_0x334514,'canSendMessage':_0x3aeb67}},this[_0x4ca678(0x238)]['wuid']),this[_0x4ca678(0x2bc)][_0x4ca678(0x536)](this[_0x4ca678(0x83a)]+'\x20('+this[_0x4ca678(0x238)]['wuid']+'):\x20Grupo\x20'+_0x1b3dd7['id']+'\x20atualizado\x20com\x20sucesso.\x20Ação:\x20'+_0x1b3dd7[_0x4ca678(0x24a)]+_0x4ca678(0x786)+_0x144d35+_0x4ca678(0x7c6)+_0x334514+',\x20canSendMessage:\x20'+_0x3aeb67);}async['inviteCode'](_0x265da1,_0x5c8fad=!0x0){const _0x5593ee=a0_0x420d4d;try{let _0x796c5a=await this[_0x5593ee(0x43d)][_0x5593ee(0x335)](_0x265da1[_0x5593ee(0x41a)]),_0x537557={'groupdata.inviteCode':'https://chat.whatsapp.com/'+_0x796c5a};if(_0x5c8fad){let _0x22ccb1=await this[_0x5593ee(0x7f0)][_0x5593ee(0x6e9)][_0x5593ee(0x4a8)]({'where':{'_id':_0x265da1[_0x5593ee(0x41a)]}},_0x537557,this['instance']['wuid']);}return{'inviteUrl':_0x5593ee(0x894)+_0x796c5a,'inviteCode':_0x796c5a};}catch(_0x3211f3){let _0x299959=_0x5593ee(0x714),_0xa574f1=_0x3211f3 instanceof Error?_0x3211f3['message']:typeof _0x3211f3=='object'?JSON['stringify'](_0x3211f3):_0x3211f3,_0x3d31b0=_0x299959+':\x20'+_0xa574f1;throw this['logger'][_0x5593ee(0x82e)](this[_0x5593ee(0x83a)]+'\x20('+this['instance'][_0x5593ee(0x5df)]+_0x5593ee(0x55c)+_0x3d31b0),new U(_0x3d31b0);}}async['revokeInviteCode'](_0x53644f){const _0x250b68=a0_0x420d4d;try{let _0x2bbae1=await this[_0x250b68(0x43d)][_0x250b68(0x3d2)](_0x53644f[_0x250b68(0x41a)]);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x2bbae1,'inviteCode':_0x2bbae1};}catch(_0x1ab3be){let _0xdd5122='Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode',_0x174f45=_0x1ab3be instanceof Error?_0x1ab3be[_0x250b68(0x8d5)]:typeof _0x1ab3be==_0x250b68(0x86d)?JSON[_0x250b68(0x31d)](_0x1ab3be):_0x1ab3be,_0x2e2322=_0xdd5122+':\x20'+_0x174f45;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x250b68(0x238)][_0x250b68(0x5df)]+'):\x20'+_0x2e2322),new U(_0x2e2322);}}async[a0_0x420d4d(0x6d0)](_0x5a90f1){const _0x4a3f36=a0_0x420d4d;try{if((0x0,k[_0x4a3f36(0x78d)])(_0x5a90f1[_0x4a3f36(0x304)]))var _0x10a6a2=_0x5a90f1[_0x4a3f36(0x304)][_0x4a3f36(0x65d)]('/')[0x3];else var _0x10a6a2=_0x5a90f1['inviteCode'];let _0x703063=await this['client'][_0x4a3f36(0x3a8)](_0x10a6a2);return this[_0x4a3f36(0x2bc)][_0x4a3f36(0x200)](this[_0x4a3f36(0x83a)]+'\x20('+this[_0x4a3f36(0x238)][_0x4a3f36(0x5df)]+_0x4a3f36(0x55c)+_0x703063),{'join':!0x0,'inviteCode':_0x10a6a2,'groupJid':_0x703063};}catch(_0x2c4755){let _0x11e24c=_0x4a3f36(0x4c3),_0x36cff2=_0x2c4755 instanceof Error?_0x2c4755[_0x4a3f36(0x8d5)]:typeof _0x2c4755==_0x4a3f36(0x86d)?JSON[_0x4a3f36(0x31d)](_0x2c4755):_0x2c4755,_0x18fe7a=_0x11e24c+':\x20'+_0x36cff2;throw this[_0x4a3f36(0x2bc)]['error'](this[_0x4a3f36(0x83a)]+'\x20('+this['instance'][_0x4a3f36(0x5df)]+_0x4a3f36(0x55c)+_0x18fe7a),new U(_0x18fe7a);}}async[a0_0x420d4d(0x8cc)](_0x35c2a8){const _0x1a92a7=a0_0x420d4d;try{return{'participants':(await this['repository'][_0x1a92a7(0x6e9)][_0x1a92a7(0x868)]({'where':{'_id':_0x35c2a8[_0x1a92a7(0x41a)]}},this[_0x1a92a7(0x238)][_0x1a92a7(0x5df)]))['groupdata'][_0x1a92a7(0x8ad)]};}catch(_0x5c91d5){let _0x301405='Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants',_0x36f179=_0x5c91d5 instanceof Error?_0x5c91d5[_0x1a92a7(0x8d5)]:typeof _0x5c91d5==_0x1a92a7(0x86d)?JSON['stringify'](_0x5c91d5):_0x5c91d5,_0x282b01=_0x301405+':\x20'+_0x36f179;throw this[_0x1a92a7(0x2bc)][_0x1a92a7(0x82e)](this[_0x1a92a7(0x83a)]+'\x20('+this[_0x1a92a7(0x238)][_0x1a92a7(0x5df)]+_0x1a92a7(0x55c)+_0x282b01),new U(_0x282b01);}}async[a0_0x420d4d(0x219)](_0x14cdd3){const _0x23d3c5=a0_0x420d4d;try{return await this[_0x23d3c5(0x43d)][_0x23d3c5(0x590)](_0x14cdd3[_0x23d3c5(0x41a)]),{'groupJid':_0x14cdd3[_0x23d3c5(0x41a)],'leave':!0x0};}catch(_0x5abeaf){let _0x4bb714='Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup',_0x5623bb=_0x5abeaf instanceof Error?_0x5abeaf[_0x23d3c5(0x8d5)]:typeof _0x5abeaf==_0x23d3c5(0x86d)?JSON[_0x23d3c5(0x31d)](_0x5abeaf):_0x5abeaf,_0x34bf74=_0x4bb714+':\x20'+_0x5623bb;throw this['logger'][_0x23d3c5(0x82e)](this[_0x23d3c5(0x83a)]+'\x20('+this['instance']['wuid']+_0x23d3c5(0x55c)+_0x34bf74),new m(_0x34bf74);}}async[a0_0x420d4d(0x4a9)](_0x38ba63){const _0x3d693d=a0_0x420d4d;return await this[_0x3d693d(0x7e8)](_0x38ba63['number'],{'poll':{'name':_0x38ba63[_0x3d693d(0x4a9)]?.[_0x3d693d(0x325)],'selectableCount':_0x38ba63['pollMessage'][_0x3d693d(0x5ab)],'values':_0x38ba63['pollMessage'][_0x3d693d(0x683)]}},_0x38ba63?.[_0x3d693d(0x70a)]);}async[a0_0x420d4d(0x1e5)](_0x2a5f67){const _0x59755c=a0_0x420d4d;return await this[_0x59755c(0x7e8)](_0x2a5f67[_0x59755c(0x5d5)],{'listMessage':{'title':_0x2a5f67[_0x59755c(0x1e5)]['title'],'description':_0x2a5f67[_0x59755c(0x1e5)][_0x59755c(0x871)],'buttonText':_0x2a5f67['listMessage']?.[_0x59755c(0x33f)],'footerText':_0x2a5f67[_0x59755c(0x1e5)]?.['footerText'],'sections':_0x2a5f67[_0x59755c(0x1e5)]['sections'],'listType':0x2}},_0x2a5f67?.[_0x59755c(0x70a)]);}async[a0_0x420d4d(0x4f5)](_0x59ffc4){const _0x27c9e4=a0_0x420d4d;let _0x178ab8;if(_0x59ffc4['menuMessage'][_0x27c9e4(0x4cf)]===_0x27c9e4(0x813)){let _0x3af4f6=_0x59ffc4[_0x27c9e4(0x4f5)][_0x27c9e4(0x426)]['indexOf']('\x0a'),_0x542485='',_0x6cf959='';_0x3af4f6!==-0x1?(_0x542485=_0x59ffc4['menuMessage'][_0x27c9e4(0x426)][_0x27c9e4(0x458)](0x0,_0x3af4f6)[_0x27c9e4(0x7c0)](),_0x6cf959=_0x59ffc4[_0x27c9e4(0x4f5)][_0x27c9e4(0x426)]['substring'](_0x3af4f6+0x1)):_0x6cf959=_0x59ffc4[_0x27c9e4(0x4f5)][_0x27c9e4(0x426)];let _0x5b4317=_0x59ffc4['menuMessage']['choices'][_0x27c9e4(0x6cb)](_0x25d597=>_0x25d597[_0x27c9e4(0x7c0)]()!==''),_0x18cbe9=this[_0x27c9e4(0x448)](_0x5b4317);_0x178ab8={'listMessage':{'title':_0x542485,'description':_0x6cf959,'buttonText':_0x59ffc4[_0x27c9e4(0x4f5)][_0x27c9e4(0x33f)]||_0x27c9e4(0x80a),'footerText':_0x59ffc4[_0x27c9e4(0x4f5)][_0x27c9e4(0x85b)],'sections':_0x18cbe9,'listType':0x2}};}else{if(_0x59ffc4[_0x27c9e4(0x4f5)][_0x27c9e4(0x4cf)]==='poll'){let _0x40622e=_0x59ffc4['menuMessage'][_0x27c9e4(0x362)][_0x27c9e4(0x6cb)](_0x11970c=>!(_0x11970c[_0x27c9e4(0x63f)]('[')&&_0x11970c[_0x27c9e4(0x61c)](']'))&&_0x11970c[_0x27c9e4(0x7c0)]()!=='')[_0x27c9e4(0x28d)](_0x4b7016=>_0x4b7016['split']('\x0a')[0x0]);_0x178ab8={'poll':{'name':_0x59ffc4[_0x27c9e4(0x4f5)]['text'],'selectableCount':_0x59ffc4[_0x27c9e4(0x4f5)][_0x27c9e4(0x5ab)]||0x1,'values':_0x40622e}};}}return await this[_0x27c9e4(0x7e8)](_0x59ffc4['number'],_0x178ab8,_0x59ffc4?.[_0x27c9e4(0x70a)]);}['createSectionsFromValues'](_0x25d167){const _0x1369d9=a0_0x420d4d;let _0x274af4=[],_0xf1fd={'rows':[]};return _0x25d167[_0x1369d9(0x425)](_0x26bbf4=>{const _0x508ff8=_0x1369d9;if(_0x26bbf4[_0x508ff8(0x63f)]('[')&&_0x26bbf4[_0x508ff8(0x61c)](']'))_0xf1fd[_0x508ff8(0x43f)][_0x508ff8(0x297)]>0x0&&_0x274af4[_0x508ff8(0x26a)](_0xf1fd),_0xf1fd={'title':_0x26bbf4['slice'](0x1,-0x1),'rows':[]};else{let _0x3cc2e7=_0x26bbf4[_0x508ff8(0x65d)]('\x0a')[_0x508ff8(0x28d)](_0xb5bbf5=>_0xb5bbf5[_0x508ff8(0x7c0)]()),_0x1c88ef=_0x3cc2e7[0x0],_0x221b33=_0x3cc2e7[0x1]||null,_0x42eecc=_0x3cc2e7[0x2]||_0x1c88ef;_0xf1fd[_0x508ff8(0x43f)][_0x508ff8(0x26a)]({'title':_0x1c88ef,'description':_0x221b33,'rowId':_0x42eecc});}}),_0xf1fd['rows']['length']>0x0&&_0x274af4[_0x1369d9(0x26a)](_0xf1fd),_0x274af4;}async[a0_0x420d4d(0x696)](_0x50ca04,_0x7c0fbb){const _0x49472b=a0_0x420d4d;if(await this[_0x49472b(0x231)](_0x50ca04,!0x0)){let _0x1e0374={'where':{'_id':_0x50ca04['id']}},_0x2d4703={'status':[_0x7c0fbb['status']][0x0]};try{let _0x5b68bf=await this[_0x49472b(0x7f0)]['message']['update'](_0x1e0374,_0x2d4703,this[_0x49472b(0x238)][_0x49472b(0x5df)]);_0x5b68bf&&J(this[_0x49472b(0x83a)],_0x49472b(0x75f),{'message':_0x5b68bf});}catch{}}}[a0_0x420d4d(0x530)](_0x1d3925){const _0x1cedff=a0_0x420d4d;let _0xb4b0e4=[];return _0x1d3925[_0x1cedff(0x425)](_0x638557=>{const _0x4d72a5=_0x1cedff;_0x638557[_0x4d72a5(0x4a2)]&&_0xb4b0e4[_0x4d72a5(0x26a)]('['+_0x638557['title']+']'),_0x638557[_0x4d72a5(0x43f)][_0x4d72a5(0x425)](_0x4bfb9c=>{const _0x4dd61b=_0x4d72a5;_0xb4b0e4[_0x4dd61b(0x26a)](_0x4bfb9c[_0x4dd61b(0x4a2)]);});}),_0xb4b0e4[_0x1cedff(0x3c9)]('|');}[a0_0x420d4d(0x7af)](_0x4cff15){const _0x574083=a0_0x420d4d;let _0x35a895=_0x4cff15[_0x574083(0x576)](/\\n/g,'\x0a')[_0x574083(0x65d)]('\x0a')[_0x574083(0x6cb)](_0x8d4cc9=>_0x8d4cc9[_0x574083(0x3a0)](_0x574083(0x284))||_0x8d4cc9[_0x574083(0x3a0)](_0x574083(0x819))),_0x456406='';return _0x35a895['forEach'](_0x223657=>{const _0xb9be19=_0x574083;let _0x10f7de=/TEL(?:.*):(.+)/,_0x4ebff0=/EMAIL(?:.*):(.+)/,_0x149508=_0x223657[_0xb9be19(0x58e)](_0x10f7de),_0x1abf76=_0x223657[_0xb9be19(0x58e)](_0x4ebff0);if(_0x149508){let _0x1b507e=_0x149508[0x1][_0xb9be19(0x576)](/-| |\+|\(|\)/g,'')['trim']();_0x456406+=_0xb9be19(0x5dc)+_0x1b507e+'\x0a';}else{if(_0x1abf76){let _0x5b9889=_0x1abf76[0x1][_0xb9be19(0x7c0)]();_0x456406+=_0xb9be19(0x5d7)+_0x5b9889+'\x0a';}}}),_0x456406[_0x574083(0x7c0)]();}async[a0_0x420d4d(0x26b)](_0x5085d7,_0x42ef03,_0x505e3b,_0x5ee19d=null){const _0x48d0a8=a0_0x420d4d;if(_0x5085d7[_0x48d0a8(0x46a)])try{let _0x4e83e0=_0x42ef03['key'][_0x48d0a8(0x1f9)][_0x48d0a8(0x576)](/:\d{1,2}@/g,'@'),_0x36c57a=_0x42ef03[_0x48d0a8(0x5a3)]['fromMe'],_0x3f3c93=_0x4e83e0[_0x48d0a8(0x61c)](_0x48d0a8(0x2ad)),_0x2cd8a6=_0x42ef03[_0x48d0a8(0x5bb)]?.['replace'](/:\d{1,2}@/g,'@')||'',_0x4bf8ca=_0x42ef03[_0x48d0a8(0x239)]?.[_0x48d0a8(0x426)]||_0x42ef03['message_normalized']?.['caption']||_0x42ef03['message_normalized']?.[_0x48d0a8(0x4d0)]||_0x42ef03[_0x48d0a8(0x239)]?.['name']||'',_0x279a3f={'_id':_0x42ef03[_0x48d0a8(0x664)],'remoteJid':_0x36c57a?this[_0x48d0a8(0x238)]['wuid']:_0x3f3c93?_0x2cd8a6:_0x4e83e0,'pushName':_0x36c57a?this['instance']['profileName']||'Eu':_0x42ef03['pushName'],'text':_0x4bf8ca,'type':_0x42ef03[_0x48d0a8(0x234)],'when':_0x42ef03[_0x48d0a8(0x2ef)]||Date[_0x48d0a8(0x301)]()};_0x5ee19d||(_0x5ee19d=await this['repository'][_0x48d0a8(0x6e9)][_0x48d0a8(0x868)]({'where':{'_id':_0x4e83e0}},this[_0x48d0a8(0x238)][_0x48d0a8(0x5df)]));let _0x189a9b=_0x5ee19d?_0x36c57a?_0x5ee19d[_0x48d0a8(0x896)]:(_0x5ee19d[_0x48d0a8(0x896)]||0x0)+0x1:_0x36c57a?0x0:0x1,_0x172352={'lastmsg':_0x42ef03[_0x48d0a8(0x2ef)]||Date['now'](),'ephemeralExpiration':_0x42ef03[_0x48d0a8(0x7e7)],'lastMessage':_0x279a3f,'unreadcount':_0x189a9b,..._0x36c57a||_0x3f3c93?{}:{'name':_0x42ef03[_0x48d0a8(0x8d4)]},..._0x3f3c93?{'group':_0x3f3c93}:{},...!_0x36c57a&&!_0x3f3c93&&_0x42ef03['profilePictureUrl']?{'imagechat':_0x42ef03[_0x48d0a8(0x266)]}:{}};if(!_0x3f3c93&&(!_0x5ee19d?.['leadInfo']||!_0x5ee19d[_0x48d0a8(0x650)][_0x48d0a8(0x55a)])&&_0x42ef03[_0x48d0a8(0x8d4)]&&!_0x36c57a&&(_0x172352={..._0x172352,'leadInfo.nome':_0x42ef03[_0x48d0a8(0x8d4)]}),_0x5ee19d?.[_0x48d0a8(0x650)][_0x48d0a8(0x2e3)]||(_0x172352={..._0x172352,'leadInfo.etiquetas':[]}),_0x5ee19d?.[_0x48d0a8(0x650)][_0x48d0a8(0x619)]||(_0x172352={..._0x172352,'leadInfo.customFields':[]}),_0x5ee19d?.['leadInfo'][_0x48d0a8(0x4d5)]||(_0x172352={..._0x172352,'leadInfo.tags':[]}),_0x5ee19d&&_0x5ee19d?.['imported']){let _0x465944=await this[_0x48d0a8(0x7f0)][_0x48d0a8(0x1d7)]['find']({'where':{}},this[_0x48d0a8(0x238)]['wuid']),_0x461c89=new Set(_0x465944[_0x48d0a8(0x28d)](_0x4a5e51=>_0x4a5e51[_0x48d0a8(0x664)])),_0x3056fb=(_0x5ee19d[_0x48d0a8(0x650)]?.[_0x48d0a8(0x2e3)]||[])[_0x48d0a8(0x6cb)](_0x1ec5b7=>_0x461c89['has'](_0x1ec5b7));_0x172352={..._0x172352,'imported':!0x1,'leadInfo.etiquetas':_0x3056fb};for(let _0x374b7e of _0x3056fb)await this[_0x48d0a8(0x27c)](_0x374b7e,_0x4e83e0);}if(_0x505e3b==='MESSAGES_UPSERT'&&_0x36c57a&&this[_0x48d0a8(0x3e4)]?.[_0x48d0a8(0x456)]['enabled']&&!_0x4bf8ca[_0x48d0a8(0x63f)](this[_0x48d0a8(0x3e4)]?.['flowConfig'][_0x48d0a8(0x275)])){let _0xc11af4=(this[_0x48d0a8(0x3e4)]?.['flowConfig'][_0x48d0a8(0x5f2)]||0x5)*0xea60,_0x513853=Date['now']()+_0xc11af4;_0x5ee19d?.[_0x48d0a8(0x650)]?.[_0x48d0a8(0x224)]===0x0||(_0x172352={..._0x172352,'leadInfo.desativadoFluxoAte':_0x513853},this[_0x48d0a8(0x2bc)][_0x48d0a8(0x200)](this['instanceName']+'\x20('+this['instance'][_0x48d0a8(0x5df)]+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20'+_0x513853+'.'));}if(_0x5ee19d=await this[_0x48d0a8(0x7f0)][_0x48d0a8(0x6e9)][_0x48d0a8(0x4a8)]({'where':{'_id':_0x4e83e0}},_0x172352,this[_0x48d0a8(0x238)]['wuid'],{'new':!0x0,'upsert':!0x0}),_0x5ee19d)J(this[_0x48d0a8(0x83a)],_0x48d0a8(0x300),{'chat':_0x5ee19d});else{this[_0x48d0a8(0x2bc)]['error'](this[_0x48d0a8(0x83a)]+'\x20('+this['instance'][_0x48d0a8(0x5df)]+_0x48d0a8(0x64d));return;}if(!this[_0x48d0a8(0x3e4)]?.[_0x48d0a8(0x456)][_0x48d0a8(0x87c)])return this[_0x48d0a8(0x2bc)][_0x48d0a8(0x200)](this['instanceName']+'\x20('+this[_0x48d0a8(0x238)][_0x48d0a8(0x5df)]+'):\x20Flow\x20desativado'),null;if(_0x5ee19d[_0x48d0a8(0x664)][_0x48d0a8(0x3a0)]('@g.us')&&this[_0x48d0a8(0x3e4)]?.[_0x48d0a8(0x456)][_0x48d0a8(0x739)]===!0x0)return this[_0x48d0a8(0x2bc)][_0x48d0a8(0x200)](this[_0x48d0a8(0x83a)]+'\x20('+this['instance']['wuid']+_0x48d0a8(0x264)),null;if(_0x5ee19d[_0x48d0a8(0x650)]){if(_0x5ee19d[_0x48d0a8(0x650)][_0x48d0a8(0x224)]===0x0||_0x5ee19d[_0x48d0a8(0x650)][_0x48d0a8(0x22b)])return this[_0x48d0a8(0x2bc)][_0x48d0a8(0x200)](this[_0x48d0a8(0x83a)]+'\x20('+this[_0x48d0a8(0x238)]['wuid']+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x4e83e0+',\x20saindo.'),null;if(_0x5ee19d[_0x48d0a8(0x650)]['desativadoFluxoAte']>Date[_0x48d0a8(0x301)]()&&!_0x42ef03['message_normalized']?.[_0x48d0a8(0x4d0)])return this[_0x48d0a8(0x2bc)][_0x48d0a8(0x200)](this[_0x48d0a8(0x83a)]+'\x20('+this[_0x48d0a8(0x238)][_0x48d0a8(0x5df)]+_0x48d0a8(0x570)+new Date(_0x5ee19d[_0x48d0a8(0x650)][_0x48d0a8(0x224)])[_0x48d0a8(0x1fd)]()+',\x20saindo.'),null;}this[_0x48d0a8(0x2bc)][_0x48d0a8(0x200)](this['instanceName']+'\x20('+this[_0x48d0a8(0x238)][_0x48d0a8(0x5df)]+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x48d0a8(0x392)](_0x505e3b,_0x42ef03);}catch(_0x12f93c){let _0x3188fd='Erro\x20na\x20função\x20updateChatWithMessage:\x20',_0x17d1e0=_0x12f93c instanceof Error?_0x12f93c['message']:typeof _0x12f93c==_0x48d0a8(0x86d)?JSON[_0x48d0a8(0x31d)](_0x12f93c):_0x12f93c,_0x297759=_0x3188fd+':\x20'+_0x17d1e0;return this[_0x48d0a8(0x2bc)][_0x48d0a8(0x82e)](this[_0x48d0a8(0x83a)]+'\x20('+this[_0x48d0a8(0x238)]['wuid']+'):\x20'+_0x297759),null;}}async[a0_0x420d4d(0x460)](_0x388a66,_0x526845){const _0x3315d0=a0_0x420d4d;if(_0x526845[_0x3315d0(0x46a)]){let _0x181862=_0x388a66[_0x3315d0(0x28d)](async _0x544e81=>{const _0x3527b2=_0x3315d0;try{let _0x4cf5db={'_id':_0x544e81[_0x3527b2(0x664)],'owner':_0x544e81['owner'],'lastcache':0x0};if(Object[_0x3527b2(0x673)](_0x544e81)[_0x3527b2(0x425)](_0x346eec=>{_0x544e81[_0x346eec]!==null&&(_0x4cf5db[_0x346eec]=_0x544e81[_0x346eec]);}),_0x4cf5db[_0x3527b2(0x2a3)]===null&&(_0x4cf5db[_0x3527b2(0x2a3)]=_0x3527b2(0x470)),Object[_0x3527b2(0x673)](_0x4cf5db)[_0x3527b2(0x297)]>0x0)return await this[_0x3527b2(0x7f0)][_0x3527b2(0x6e9)][_0x3527b2(0x4a8)]({'where':{'_id':_0x544e81[_0x3527b2(0x664)]}},_0x4cf5db,this[_0x3527b2(0x238)][_0x3527b2(0x5df)]);}catch(_0x15505c){let _0x48ff10=_0x3527b2(0x5f5)+_0x544e81['_id'],_0x2bb49b=_0x15505c instanceof Error?_0x15505c[_0x3527b2(0x8d5)]:typeof _0x15505c==_0x3527b2(0x86d)?JSON[_0x3527b2(0x31d)](_0x15505c):_0x15505c,_0x4bc455=_0x48ff10+':\x20'+_0x2bb49b;return this[_0x3527b2(0x2bc)][_0x3527b2(0x82e)](this['instanceName']+'\x20('+this[_0x3527b2(0x238)][_0x3527b2(0x5df)]+_0x3527b2(0x55c)+_0x4bc455),null;}}),_0x5cb24b=(await Promise[_0x3315d0(0x679)](_0x181862))[_0x3315d0(0x6cb)](_0x244203=>_0x244203!==null)[_0x3315d0(0x297)];this[_0x3315d0(0x2bc)]['verbose'](this[_0x3315d0(0x83a)]+'\x20('+this[_0x3315d0(0x238)]['wuid']+'):\x20'+_0x5cb24b+_0x3315d0(0x866)+this[_0x3315d0(0x238)][_0x3315d0(0x5df)]+'\x20inseridos\x20no\x20banco\x20de\x20dados...');}}async[a0_0x420d4d(0x35e)](_0x1c566c){const _0x3ec698=a0_0x420d4d;this[_0x3ec698(0x2bc)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x3ec698(0x5df)]+_0x3ec698(0x525));let _0x248871={'readMessages':[{'remoteJid':_0x1c566c['chatLog'][_0x3ec698(0x7a5)]['key']['remoteJid'],'fromMe':_0x1c566c[_0x3ec698(0x276)][_0x3ec698(0x7a5)]['key'][_0x3ec698(0x461)],'id':_0x1c566c[_0x3ec698(0x276)][_0x3ec698(0x7a5)][_0x3ec698(0x5a3)]['id']}]};await this['markMessageAsRead'](_0x248871);}async['StartBot'](_0x1b1f53,_0x5cde9b){const _0xa9560a=a0_0x420d4d;try{let {key:_0x3282ce,message_normalized:_0x37e5b1}=_0x5cde9b,_0x518de8=_0x37e5b1,_0x2ce291=_0x37e5b1[_0xa9560a(0x426)]||_0x37e5b1[_0xa9560a(0x84d)]||_0x37e5b1[_0xa9560a(0x4d0)]||_0x37e5b1[_0xa9560a(0x325)]||'',_0x240db7=_0x3282ce[_0xa9560a(0x1f9)],_0x3cf913;if(_0x518de8[_0xa9560a(0x5a3)][_0xa9560a(0x461)]&&_0x2ce291[_0xa9560a(0x7c0)]()!==this[_0xa9560a(0x3e4)]?.[_0xa9560a(0x456)][_0xa9560a(0x669)]['trim']())return this[_0xa9560a(0x2bc)][_0xa9560a(0x200)](this[_0xa9560a(0x83a)]+'\x20('+this[_0xa9560a(0x238)]['wuid']+_0xa9560a(0x377)),null;if(_0x518de8[_0xa9560a(0x5a3)][_0xa9560a(0x461)]&&_0x2ce291[_0xa9560a(0x7c0)]()===this[_0xa9560a(0x3e4)]?.[_0xa9560a(0x456)]['stopConversation'][_0xa9560a(0x7c0)]()){this[_0xa9560a(0x2bc)][_0xa9560a(0x200)](this[_0xa9560a(0x83a)]+'\x20('+this[_0xa9560a(0x238)][_0xa9560a(0x5df)]+_0xa9560a(0x830));let _0x3322b8=await this[_0xa9560a(0x7f0)]['flowConversation'][_0xa9560a(0x561)]({'remoteJid':_0x240db7,'status':_0xa9560a(0x471)},this['instance'][_0xa9560a(0x5df)]);this[_0xa9560a(0x2bc)][_0xa9560a(0x200)](this[_0xa9560a(0x83a)]+'\x20('+this[_0xa9560a(0x238)][_0xa9560a(0x5df)]+_0xa9560a(0x680)+_0x3322b8);let _0x49284d=Date[_0xa9560a(0x301)](),_0x5e5989;return this['AutomateSystem']?.[_0xa9560a(0x456)][_0xa9560a(0x7f5)]===0x0?_0x5e5989={'stoppedUntil':_0x49284d+0x7591f6200}:_0x5e5989={'stoppedUntil':_0x49284d+this[_0xa9560a(0x3e4)]?.[_0xa9560a(0x456)][_0xa9560a(0x7f5)]*0x3c*0x3e8},this[_0xa9560a(0x2bc)][_0xa9560a(0x200)](this[_0xa9560a(0x83a)]+'\x20('+this['instance'][_0xa9560a(0x5df)]+'):\x20Campos\x20a\x20serem\x20atualizados:'+_0x5e5989),this[_0xa9560a(0x444)](_0x3cf913,_0x5e5989['stoppedUntil']),null;}if(_0x2ce291&&_0x2ce291[_0xa9560a(0x63f)](this[_0xa9560a(0x3e4)]?.['flowConfig']['prefixCommand'])&&_0x2ce291[_0xa9560a(0x297)]>0x4){let _0x18d62a=await this[_0xa9560a(0x7f0)][_0xa9560a(0x76b)][_0xa9560a(0x868)]({'where':{'startCommandWord':_0x2ce291}},this[_0xa9560a(0x238)][_0xa9560a(0x5df)]);if(this[_0xa9560a(0x2bc)][_0xa9560a(0x200)](this['instanceName']+'\x20('+this[_0xa9560a(0x238)][_0xa9560a(0x5df)]+_0xa9560a(0x489)),_0x18d62a)_0x3cf913=await this['createNewConversation'](_0x18d62a,_0x518de8[_0xa9560a(0x5a3)],_0x518de8);else return this[_0xa9560a(0x2bc)][_0xa9560a(0x200)](this[_0xa9560a(0x83a)]+'\x20('+this[_0xa9560a(0x238)][_0xa9560a(0x5df)]+_0xa9560a(0x4e2)),null;}else _0x3cf913=await this[_0xa9560a(0x566)](_0x240db7,_0x518de8);if(_0x3cf913){this[_0xa9560a(0x2bc)][_0xa9560a(0x200)](this[_0xa9560a(0x83a)]+'\x20('+this[_0xa9560a(0x238)][_0xa9560a(0x5df)]+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x3282ce[_0xa9560a(0x461)]&&_0x3cf913[_0xa9560a(0x85d)]&&this[_0xa9560a(0x35e)](_0x3cf913);let _0x6b7fe9=await this[_0xa9560a(0x83d)](_0x3cf913);_0x6b7fe9&&await this[_0xa9560a(0x24e)](_0x3cf913,_0x6b7fe9);}}catch(_0x4261e2){this[_0xa9560a(0x2bc)]['error'](this[_0xa9560a(0x83a)]+'\x20('+this[_0xa9560a(0x238)]['wuid']+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+(_0x4261e2 instanceof Error?_0x4261e2[_0xa9560a(0x8d5)]:JSON[_0xa9560a(0x31d)](_0x4261e2,null,0x2)));}}[a0_0x420d4d(0x48d)](_0x4f38d7,_0x350dd1='',_0x412792={}){const _0x18eeae=a0_0x420d4d;return typeof _0x4f38d7!='object'||_0x4f38d7===null?(_0x350dd1&&(_0x412792[_0x350dd1]=_0x4f38d7),_0x412792):(Object[_0x18eeae(0x205)](_0x4f38d7)[_0x18eeae(0x425)](([_0x5e48f1,_0x57361a])=>{const _0x3c3ac6=_0x18eeae;let _0x3bb3ec=_0x350dd1?_0x350dd1+'.'+_0x5e48f1:'_'+_0x5e48f1;Array[_0x3c3ac6(0x5bf)](_0x57361a)?_0x57361a['forEach']((_0x48232e,_0x4590c5)=>{const _0x4621b5=_0x3c3ac6;this[_0x4621b5(0x48d)](_0x48232e,_0x3bb3ec+'['+_0x4590c5+']',_0x412792);}):typeof _0x57361a==_0x3c3ac6(0x86d)&&_0x57361a!==null?this[_0x3c3ac6(0x48d)](_0x57361a,_0x3bb3ec,_0x412792):_0x412792[_0x3bb3ec]=String(_0x57361a);}),_0x412792);}[a0_0x420d4d(0x29e)](_0x12b0fd){const _0x4a5152=a0_0x420d4d;let _0x52e60d={};for(let _0x18b876 of _0x12b0fd)typeof _0x18b876['name']==_0x4a5152(0x7fb)&&typeof _0x18b876[_0x4a5152(0x6ff)]==_0x4a5152(0x7fb)&&(_0x52e60d[_0x18b876[_0x4a5152(0x325)]]=_0x18b876['value']);return _0x52e60d;}async['NextBlock'](_0x125206){const _0x35b928=a0_0x420d4d;if(!this[_0x35b928(0x3e4)]?.[_0x35b928(0x456)][_0x35b928(0x87c)]||_0x125206[_0x35b928(0x69e)]!=='open'&&_0x125206['waitingMenu_id']==='')return null;let _0x170ae9=_0x125206[_0x35b928(0x276)]['lastBlockId']||_0x35b928(0x3d8);typeof _0x125206[_0x35b928(0x276)]['lastCondition']>'u'&&(_0x125206[_0x35b928(0x276)]['lastCondition']=!0x0);let _0xba0531=_0x125206[_0x35b928(0x276)][_0x35b928(0x21a)];this['logger'][_0x35b928(0x200)](this[_0x35b928(0x83a)]+'\x20('+this['instance'][_0x35b928(0x5df)]+_0x35b928(0x3fd)+_0x170ae9+',\x20lastCondition:\x20'+_0xba0531);let _0x3d23c0=_0x170ae9==='start'?_0x125206[_0x35b928(0x6a9)][_0x35b928(0x561)](_0x2c358c=>_0x2c358c[_0x35b928(0x4cf)]===_0x35b928(0x3d8)):_0x125206[_0x35b928(0x6a9)][_0x35b928(0x561)](_0x251d30=>_0x251d30[_0x35b928(0x664)][_0x35b928(0x5d4)]()===_0x170ae9['toString']());if(!_0x3d23c0)return this[_0x35b928(0x2bc)]['error'](this[_0x35b928(0x83a)]+'\x20('+this[_0x35b928(0x238)]['wuid']+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x170ae9),null;let _0x102abb={'_pushName':_0x125206?.[_0x35b928(0x276)]?.[_0x35b928(0x7a5)]?.[_0x35b928(0x8d4)]||'',..._0x125206[_0x35b928(0x276)]['realVariables']},_0xbc5add=null;if(_0x125206['waitingMenu_id']){let _0x32658c=_0x125206[_0x35b928(0x276)][_0x35b928(0x7a5)][_0x35b928(0x4d0)],_0x1f0adc=_0x125206[_0x35b928(0x64a)][_0x35b928(0x561)](_0x3de2be=>_0x3de2be[_0x35b928(0x6fe)]===_0x32658c);if(_0x1f0adc){let _0x5409fc=_0x1f0adc[_0x35b928(0x625)];if(_0xbc5add=_0x125206[_0x35b928(0x6a9)]['find'](_0x421083=>_0x421083[_0x35b928(0x54e)]===_0x5409fc&&_0x421083[_0x35b928(0x857)]===0x1),_0x3d23c0[_0x35b928(0x87e)][_0x35b928(0x21d)]){let _0x1d4fd8={'id':_0x125206[_0x35b928(0x37e)],'remoteJid':_0x125206[_0x35b928(0x1f9)],'fromMe':!0x0};await this[_0x35b928(0x333)](_0x1d4fd8);}if(_0x3d23c0[_0x35b928(0x87e)][_0x35b928(0x21d)]&&_0x3d23c0[_0x35b928(0x87e)][_0x35b928(0x2d5)]&&_0x3d23c0[_0x35b928(0x87e)]['menuType']===_0x35b928(0x7b9)){let _0x437adf={'number':_0x125206['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x125206[_0x35b928(0x764)]+_0x35b928(0x4b6)+_0x32658c}};await this[_0x35b928(0x791)](_0x437adf);}_0x125206[_0x35b928(0x69e)]=_0x35b928(0x471),_0x125206['waitingMenu_id']='',_0x125206[_0x35b928(0x764)]='',_0x125206['waitingMenu_replyOptions']=[];}else{this[_0x35b928(0x2bc)][_0x35b928(0x200)](this[_0x35b928(0x83a)]+'\x20('+this[_0x35b928(0x238)][_0x35b928(0x5df)]+_0x35b928(0x498));let _0x474ca2={'activatedCount':_0x125206[_0x35b928(0x276)][_0x35b928(0x67f)]['filter'](_0x541b40=>String(_0x541b40[_0x35b928(0x661)])===String(_0x170ae9))[_0x35b928(0x297)],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x3d23c0['uazapi'][_0x35b928(0x645)]){let _0x408958={'number':_0x125206[_0x35b928(0x1f9)],'options':{'delay':0x0},'textMessage':{'text':_0x3d23c0[_0x35b928(0x87e)][_0x35b928(0x645)]}};await this[_0x35b928(0x791)](_0x408958);}if(_0x3d23c0[_0x35b928(0x60b)]!==void 0x0&&_0x474ca2[_0x35b928(0x422)]>=_0x3d23c0[_0x35b928(0x60b)]){let _0x135bca=Date['now'](),_0x3cd733=_0x3d23c0['stopMinutesMaxActives']??0xa;isNaN(_0x3cd733)&&(_0x3cd733=0xa);let _0x3a4048=_0x135bca+_0x3cd733*0x3c*0x3e8;_0x474ca2[_0x35b928(0x22f)]=_0x3a4048,_0x474ca2[_0x35b928(0x1d5)][_0x35b928(0x26a)](_0x35b928(0x7d8)),this['updateStopChat'](_0x125206,_0x3a4048),_0x125206['waitingMenu_id']='',_0x125206['waitingMenu_text']='',_0x125206[_0x35b928(0x64a)]=[];}return this[_0x35b928(0x2c6)](_0x125206,_0x3d23c0,_0x474ca2,!0x0),null;}}if(_0xba0531&&_0x3d23c0[_0x35b928(0x625)]&&!_0x125206['waitingMenu_id']){let _0x6d0daa=_0x125206['blocks'][_0x35b928(0x6cb)](_0x57110a=>_0x57110a[_0x35b928(0x54e)][_0x35b928(0x5d4)]()===_0x3d23c0[_0x35b928(0x625)]['toString']())['sort']((_0x22ba52,_0x3211d9)=>_0x22ba52['order']-_0x3211d9[_0x35b928(0x857)]);_0x6d0daa[_0x35b928(0x297)]>0x0&&(_0xbc5add=_0x6d0daa[0x0]);}if(!_0xbc5add){let _0x208a41=_0x3d23c0[_0x35b928(0x54e)],_0x48248d=_0x125206[_0x35b928(0x6a9)][_0x35b928(0x6cb)](_0x316949=>_0x316949['groupId']===_0x208a41&&_0x316949[_0x35b928(0x857)]>_0x3d23c0['order'])[_0x35b928(0x209)]((_0x279e58,_0x35187d)=>_0x279e58[_0x35b928(0x857)]-_0x35187d['order']);_0x48248d[_0x35b928(0x297)]>0x0&&(_0xbc5add=_0x48248d[0x0]);}if(!_0xbc5add)return _0x125206[_0x35b928(0x69e)]=_0x35b928(0x552),null;_0x125206['chatLog'][_0x35b928(0x1ea)]=_0x102abb;let _0x7d8ab8=JSON['parse'](JSON['stringify'](_0xbc5add));return this['replaceVariablesInObject'](_0x7d8ab8,_0x125206[_0x35b928(0x276)][_0x35b928(0x1ea)]),_0x125206['chatLog'][_0x35b928(0x607)]=_0x7d8ab8[_0x35b928(0x664)],_0x125206['chatLog'][_0x35b928(0x21a)]=!0x0,_0x7d8ab8;}['replaceVariables'](_0x3fc401,_0x167959){const _0x550ea7=a0_0x420d4d;return _0x3fc401[_0x550ea7(0x576)](/\{\{([^}]+)\}\}/g,(_0x1cf604,_0x24c3b0)=>_0x167959[_0x24c3b0]||'');}[a0_0x420d4d(0x573)](_0x45718b,_0x127f0b){const _0x2d5e88=a0_0x420d4d;for(let _0x50ddd5 in _0x45718b)typeof _0x45718b[_0x50ddd5]==_0x2d5e88(0x7fb)?_0x45718b[_0x50ddd5]=this['replaceVariables'](_0x45718b[_0x50ddd5],_0x127f0b):typeof _0x45718b[_0x50ddd5]==_0x2d5e88(0x86d)&&this[_0x2d5e88(0x573)](_0x45718b[_0x50ddd5],_0x127f0b);}async[a0_0x420d4d(0x4af)](_0x5e5806,_0x5c740b){const _0x37a815=a0_0x420d4d;let _0xff02ad=_0x5c740b[_0x37a815(0x664)];if(_0x5e5806[_0x37a815(0x276)]&&_0x5e5806[_0x37a815(0x276)][_0x37a815(0x67f)]){let _0x4eaaf7=_0x5e5806['chatLog']['blockLogs']['filter'](_0x486ef3=>String(_0x486ef3['blockId'])===String(_0xff02ad))['pop']();if(_0x4eaaf7&&_0x4eaaf7[_0x37a815(0x82e)]&&_0x5c740b[_0x37a815(0x3d9)])return _0x5e5806[_0x37a815(0x69e)]='closed',await this['saveConversationToDatabase'](_0x5e5806),null;}if(_0x5c740b['type']===_0x37a815(0x87e)&&_0x5c740b['uazapi'][_0x37a815(0x697)]===_0x37a815(0x32e)&&_0x5e5806[_0x37a815(0x37e)])return _0x5e5806[_0x37a815(0x276)]['lastBlockId']=_0xff02ad,await this[_0x37a815(0x20e)](_0x5e5806),null;let _0x60b5f5=await this[_0x37a815(0x83d)](_0x5e5806);if(_0x5e5806[_0x37a815(0x276)]&&_0x5e5806[_0x37a815(0x276)][_0x37a815(0x67f)]){let _0x14c4eb=_0x5e5806[_0x37a815(0x276)][_0x37a815(0x67f)][_0x37a815(0x6cb)](_0x3d6fc9=>String(_0x3d6fc9[_0x37a815(0x661)])===String(_0xff02ad))[_0x37a815(0x297)];if(_0x5c740b[_0x37a815(0x60b)]!==void 0x0&&_0x14c4eb>=_0x5c740b[_0x37a815(0x60b)]){let _0x2cfb3e=Date[_0x37a815(0x301)](),_0x546c4c=_0x5c740b[_0x37a815(0x3c6)]??0xa;isNaN(_0x546c4c)&&(_0x546c4c=0xa);let _0x1793cb=_0x2cfb3e+_0x546c4c*0x3c*0x3e8,_0xa7f79d={'newStoppedUntil':_0x1793cb};return this['updateStopChat'](_0x5e5806,_0x1793cb),this['updateConversation'](_0x5e5806,_0x5c740b,_0xa7f79d,!0x0),null;}}_0x60b5f5&&_0x60b5f5[_0x37a815(0x4cf)]!==_0x37a815(0x4f1)&&await this['processblock'](_0x5e5806,_0x60b5f5),_0x60b5f5||await this[_0x37a815(0x20e)](_0x5e5806),_0x60b5f5&&_0x60b5f5[_0x37a815(0x4cf)]===_0x37a815(0x4f1)&&(_0x5e5806[_0x37a815(0x276)][_0x37a815(0x607)]=_0xff02ad,await this['saveConversationToDatabase'](_0x5e5806));}async[a0_0x420d4d(0x24e)](_0x445ce4,_0x4ef6a7){const _0xc6c178=a0_0x420d4d;try{let _0x1c53c2=_0x4ef6a7[_0xc6c178(0x4cf)];this[_0xc6c178(0x2bc)][_0xc6c178(0x200)](this[_0xc6c178(0x83a)]+'\x20('+this['instance'][_0xc6c178(0x5df)]+_0xc6c178(0x3da)+_0x1c53c2);let _0xb08598={'uazapi':()=>this['processUazapi'](_0x445ce4,_0x4ef6a7),'save':()=>this[_0xc6c178(0x459)](_0x445ce4,_0x4ef6a7),'stop':()=>this[_0xc6c178(0x669)](_0x445ce4,_0x4ef6a7),'condition':()=>this['processConditions'](_0x445ce4,_0x4ef6a7),'varedit':()=>this[_0xc6c178(0x6be)](_0x445ce4,_0x4ef6a7),'apirequest':()=>this[_0xc6c178(0x71b)](_0x445ce4,_0x4ef6a7),'goToFlow':()=>this[_0xc6c178(0x2ba)](_0x445ce4,_0x4ef6a7),'scheduleFlow':()=>this['processScheduleFlow'](_0x445ce4,_0x4ef6a7),'awaitSeconds':()=>this[_0xc6c178(0x2dd)](_0x445ce4,_0x4ef6a7),'clearVariables':()=>this[_0xc6c178(0x1de)](_0x445ce4,_0x4ef6a7)}[_0x1c53c2];_0xb08598&&await _0xb08598();}catch(_0x352d86){this['logger']['error'](this[_0xc6c178(0x83a)]+'\x20('+this[_0xc6c178(0x238)][_0xc6c178(0x5df)]+_0xc6c178(0x3fb)+(_0x352d86 instanceof Error?_0x352d86[_0xc6c178(0x8d5)]:JSON[_0xc6c178(0x31d)](_0x352d86,null,0x2)));}}async[a0_0x420d4d(0x2dd)](_0x4e6f87,_0x295ba1){const _0x150866=a0_0x420d4d;if(this[_0x150866(0x2bc)][_0x150866(0x200)](this[_0x150866(0x83a)]+'\x20('+this['instance']['wuid']+_0x150866(0x76e)),!_0x4e6f87||!_0x295ba1)return this[_0x150866(0x2bc)][_0x150866(0x82e)](this[_0x150866(0x83a)]+'\x20('+this[_0x150866(0x238)][_0x150866(0x5df)]+_0x150866(0x361)),null;let _0xddd066=+_0x295ba1[_0x150866(0x533)];isNaN(_0xddd066)&&(_0xddd066=0x0),_0xddd066=Math[_0x150866(0x837)](_0xddd066,0x3c),await(0x0,f[_0x150866(0x527)])(_0xddd066*0x3e8);let _0x2f1765={'moreLogs':[_0x150866(0x2e8)+_0xddd066+_0x150866(0x311)]};return await this[_0x150866(0x2c6)](_0x4e6f87,_0x295ba1,_0x2f1765),_0xddd066;}async[a0_0x420d4d(0x1de)](_0x4b554f,_0x142ac9){const _0x36a0ec=a0_0x420d4d;if(this[_0x36a0ec(0x2bc)]['verbose'](this[_0x36a0ec(0x83a)]+'\x20('+this[_0x36a0ec(0x238)][_0x36a0ec(0x5df)]+_0x36a0ec(0x8ca)),!_0x4b554f||!_0x142ac9)return this[_0x36a0ec(0x2bc)][_0x36a0ec(0x82e)](this['instanceName']+'\x20('+this[_0x36a0ec(0x238)]['wuid']+_0x36a0ec(0x361)),null;let _0x210384=[];if(_0x142ac9[_0x36a0ec(0x62b)]['trim']()==='[all]'){let _0x5741c9=[_0x36a0ec(0x537),_0x36a0ec(0x62d),_0x36a0ec(0x250),_0x36a0ec(0x729),_0x36a0ec(0x664),_0x36a0ec(0x71e)];_0x210384=Object[_0x36a0ec(0x673)](_0x4b554f[_0x36a0ec(0x276)][_0x36a0ec(0x1ea)])[_0x36a0ec(0x6cb)](_0x1e9c2a=>_0x1e9c2a[_0x36a0ec(0x63f)]('_')&&!_0x5741c9[_0x36a0ec(0x3a0)](_0x1e9c2a));}else _0x210384=_0x142ac9[_0x36a0ec(0x62b)][_0x36a0ec(0x65d)]('|')[_0x36a0ec(0x28d)](_0x23782e=>(_0x23782e=_0x23782e[_0x36a0ec(0x576)](/[{}]/g,'')[_0x36a0ec(0x7c0)](),_0x23782e[_0x36a0ec(0x63f)]('_')?_0x23782e:'_'+_0x23782e));let _0x55fcd8=[];_0x210384['forEach'](_0x9c20f4=>{const _0x444a5c=_0x36a0ec;_0x9c20f4 in _0x4b554f[_0x444a5c(0x276)][_0x444a5c(0x1ea)]&&(delete _0x4b554f['chatLog'][_0x444a5c(0x1ea)][_0x9c20f4],_0x55fcd8[_0x444a5c(0x26a)](_0x9c20f4));}),_0x55fcd8[_0x36a0ec(0x297)]>0x0?this[_0x36a0ec(0x2bc)]['verbose'](this[_0x36a0ec(0x83a)]+'\x20('+this[_0x36a0ec(0x238)][_0x36a0ec(0x5df)]+'):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20'+_0x55fcd8[_0x36a0ec(0x3c9)](',\x20')):this[_0x36a0ec(0x2bc)][_0x36a0ec(0x200)](this[_0x36a0ec(0x83a)]+'\x20('+this['instance'][_0x36a0ec(0x5df)]+_0x36a0ec(0x2e2));let _0x441fa2={'moreLogs':[_0x36a0ec(0x3c2)+_0x55fcd8[_0x36a0ec(0x3c9)](',\x20')]};return await this[_0x36a0ec(0x2c6)](_0x4b554f,_0x142ac9,_0x441fa2),null;}async[a0_0x420d4d(0x1d8)](_0x1a7c1b,_0x2ab6c3){const _0x5a7d19=a0_0x420d4d;if(this['logger'][_0x5a7d19(0x200)](this[_0x5a7d19(0x83a)]+'\x20('+this[_0x5a7d19(0x238)][_0x5a7d19(0x5df)]+_0x5a7d19(0x207)),!_0x1a7c1b||!_0x2ab6c3)return this[_0x5a7d19(0x2bc)][_0x5a7d19(0x82e)](this[_0x5a7d19(0x83a)]+'\x20('+this[_0x5a7d19(0x238)][_0x5a7d19(0x5df)]+_0x5a7d19(0x361)),null;let _0x166a9d=_0x1a7c1b['remoteJid'];_0x2ab6c3[_0x5a7d19(0x560)][_0x5a7d19(0x1f9)]&&_0x2ab6c3[_0x5a7d19(0x560)][_0x5a7d19(0x1f9)]['trim']()!==''&&(_0x166a9d=_0x2ab6c3[_0x5a7d19(0x87e)][_0x5a7d19(0x1f9)][_0x5a7d19(0x7c0)]());let _0x2a7e31=_0x2ab6c3[_0x5a7d19(0x560)][_0x5a7d19(0x672)]*0xea60,_0x217554=Date[_0x5a7d19(0x301)]()+_0x2a7e31,_0x389e4e={'status':_0x5a7d19(0x6ed),'info':_0x5a7d19(0x8df)+_0x1a7c1b[_0x5a7d19(0x325)],'remoteJids':[_0x166a9d],'when':_0x217554,'delaySecMin':0x0,'delaySecMax':0x0,'type':'flow','flowName':_0x2ab6c3[_0x5a7d19(0x560)][_0x5a7d19(0x88f)]};this['editScheduleMessage'](_0x389e4e);let _0x39fd59=await this[_0x5a7d19(0x83d)](_0x1a7c1b);_0x39fd59&&await this[_0x5a7d19(0x24e)](_0x1a7c1b,_0x39fd59);}async['processgoToFlow'](_0x25a61e,_0x31b716){const _0x42a20b=a0_0x420d4d;if(this[_0x42a20b(0x2bc)][_0x42a20b(0x200)](this['instanceName']+'\x20('+this[_0x42a20b(0x238)][_0x42a20b(0x5df)]+'):\x20Entrou\x20na\x20função\x20goToFlow'),!_0x25a61e||!_0x31b716)return this['logger'][_0x42a20b(0x82e)](this['instanceName']+'\x20('+this['instance'][_0x42a20b(0x5df)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this[_0x42a20b(0x2c6)](_0x25a61e,_0x31b716,{},!0x0,!0x0);let _0x35eaef=_0x31b716[_0x42a20b(0x844)];_0x25a61e=await this[_0x42a20b(0x1d0)](_0x35eaef,_0x25a61e[_0x42a20b(0x1f9)],_0x25a61e['chatLog'][_0x42a20b(0x1ea)]);let _0x2badff=await this[_0x42a20b(0x83d)](_0x25a61e);_0x2badff&&await this[_0x42a20b(0x24e)](_0x25a61e,_0x2badff);}async[a0_0x420d4d(0x1d0)](_0x9c6c18,_0xe10ae3,_0x1c0680){const _0x241577=a0_0x420d4d;this[_0x241577(0x2bc)][_0x241577(0x200)](this[_0x241577(0x83a)]+'\x20('+this[_0x241577(0x238)][_0x241577(0x5df)]+_0x241577(0x5d0));try{if(_0x9c6c18=await this[_0x241577(0x7f0)][_0x241577(0x76b)][_0x241577(0x868)]({'where':{'name':_0x9c6c18}},this['instance'][_0x241577(0x5df)]),!_0x9c6c18)return this['logger'][_0x241577(0x82e)](this[_0x241577(0x83a)]+'\x20('+this[_0x241577(0x238)][_0x241577(0x5df)]+_0x241577(0x5f3)),null;let _0x5df53b=require(_0x241577(0x651))['ObjectId'],_0x398a44=Date[_0x241577(0x301)](),_0x144d95='start',_0x55eabd={},_0xc0f35d={},_0x3b71b9={..._0x9c6c18,'chatLog':null},_0x260cff={'lastReceivedMessage':_0x55eabd,'lastSendMessage':_0xc0f35d,'lastBlockId':_0x144d95,'lastCondition':!0x0,'realVariables':_0x1c0680};_0x3b71b9['chatLog']=_0x260cff,_0x3b71b9[_0x241577(0x276)][_0x241577(0x1ea)]={..._0x1c0680},delete _0x3b71b9['_id'],_0x3b71b9[_0x241577(0x664)]=new _0x5df53b(),_0x3b71b9[_0x241577(0x73c)]=_0x398a44,_0x3b71b9[_0x241577(0x69e)]=_0x241577(0x471),_0x3b71b9['remoteJid']=_0xe10ae3;let _0xbce179=await this[_0x241577(0x7f0)][_0x241577(0x5d3)][_0x241577(0x4a8)](_0x3b71b9[_0x241577(0x664)],_0x3b71b9,this[_0x241577(0x238)][_0x241577(0x5df)]);return this[_0x241577(0x2bc)][_0x241577(0x200)](this[_0x241577(0x83a)]+'\x20('+this[_0x241577(0x238)][_0x241577(0x5df)]+_0x241577(0x8a6)),_0xbce179?_0x3b71b9:null;}catch(_0x519772){let _0x399b04='Erro\x20ao\x20copiar\x20o\x20documento',_0x2c9c97=_0x519772 instanceof Error?_0x519772[_0x241577(0x8d5)]:typeof _0x519772=='object'?JSON[_0x241577(0x31d)](_0x519772):_0x519772,_0x439977=_0x399b04+':\x20'+_0x2c9c97;throw this[_0x241577(0x2bc)][_0x241577(0x82e)](this[_0x241577(0x83a)]+'\x20('+this[_0x241577(0x238)][_0x241577(0x5df)]+_0x241577(0x55c)+_0x439977),new m(_0x439977);}}async[a0_0x420d4d(0x71b)](_0x748304,_0x347358){const _0x5c9dfd=a0_0x420d4d;let _0x2e6d59,_0x5ad701;try{let _0x1ed32f=_0x347358['apirequest'];if(!_0x1ed32f||!_0x1ed32f[_0x5c9dfd(0x5cd)]||!_0x1ed32f[_0x5c9dfd(0x7e9)])throw new Error('Falta\x20informação\x20para\x20a\x20chamada\x20API');let _0x4510c4;([_0x5c9dfd(0x7c8),_0x5c9dfd(0x3ca),'https://api.elevenlabs.io/v1/text-to-speech/'][_0x5c9dfd(0x5e9)](_0x470107=>_0x1ed32f[_0x5c9dfd(0x5cd)][_0x5c9dfd(0x3a0)](_0x470107))||_0x1ed32f[_0x5c9dfd(0x63e)])&&(_0x4510c4=_0x5c9dfd(0x37a));let _0x1bc4dd='\u205f',_0x2e307f;try{_0x2e307f=JSON['parse'](_0x1ed32f['bodyString'][_0x5c9dfd(0x576)](new RegExp(_0x1bc4dd,'g'),''));}catch(_0x14a476){throw _0x14a476;}let _0x2b75a7={'method':_0x1ed32f[_0x5c9dfd(0x7e9)],'url':_0x1ed32f['url'],'headers':_0x1ed32f[_0x5c9dfd(0x640)]||{},..._0x1ed32f[_0x5c9dfd(0x7e9)][_0x5c9dfd(0x55e)]()!==_0x5c9dfd(0x6a4)&&_0x1ed32f[_0x5c9dfd(0x31e)]?{'data':JSON[_0x5c9dfd(0x28e)](_0x1ed32f['bodyString'][_0x5c9dfd(0x576)](new RegExp(_0x1bc4dd,'g'),''))}:{},..._0x4510c4&&{'responseType':_0x4510c4}},_0x41582f=await(0x0,K['default'])(_0x2b75a7),_0x483403=_0x41582f[_0x5c9dfd(0x897)][_0x5c9dfd(0x841)];if(_0x483403&&_0x483403['includes']('application/json')||typeof _0x41582f['data']=='string'){if(typeof _0x41582f[_0x5c9dfd(0x6c7)]=='string'){let _0x2b11f1=_0x41582f[_0x5c9dfd(0x6c7)]['replace'](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x5c9dfd(0x7c0)]();try{_0x2e6d59=JSON['parse'](_0x2b11f1);}catch(_0x417523){console['error']('Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20'+_0x417523[_0x5c9dfd(0x8d5)]),_0x2e6d59={'_apiResponse':_0x41582f[_0x5c9dfd(0x6c7)]};}}else _0x2e6d59=_0x41582f[_0x5c9dfd(0x6c7)];let _0xef6703=_0x748304['chatLog'][_0x5c9dfd(0x1ea)],_0x398f51=this[_0x5c9dfd(0x48d)](_0x2e6d59);return Object[_0x5c9dfd(0x65f)](_0xef6703,_0x398f51),_0x748304[_0x5c9dfd(0x276)][_0x5c9dfd(0x1ea)]=_0xef6703,_0x5ad701={'error':!0x1,'apiResponse':_0x2e6d59},this[_0x5c9dfd(0x2c6)](_0x748304,_0x347358,_0x5ad701),_0x2e6d59;}if(_0x483403&&(_0x483403[_0x5c9dfd(0x3a0)]('application/octet-stream')||_0x483403['includes'](_0x5c9dfd(0x331))||_0x483403['includes'](_0x5c9dfd(0x467))||_0x483403[_0x5c9dfd(0x3a0)](_0x5c9dfd(0x4bb)))){this['logger']['verbose'](this[_0x5c9dfd(0x83a)]+'\x20('+this[_0x5c9dfd(0x238)][_0x5c9dfd(0x5df)]+_0x5c9dfd(0x89d)+_0x483403);let _0x3c09ac=(0x0,Me['v4'])(),_0x4e9238='',_0x3d6365={'image/jpeg':_0x5c9dfd(0x542),'image/png':_0x5c9dfd(0x278),'image/gif':_0x5c9dfd(0x6ef),'image/webp':_0x5c9dfd(0x67a),'image/svg+xml':_0x5c9dfd(0x66c),'audio/mpeg':_0x5c9dfd(0x2b5),'audio/ogg':_0x5c9dfd(0x4b3),'audio/wav':'.wav','video/mp4':_0x5c9dfd(0x66a),'video/webm':'.webm','video/ogg':_0x5c9dfd(0x6cc),'text/plain':_0x5c9dfd(0x788),'application/pdf':'.pdf','application/msword':_0x5c9dfd(0x882),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x5c9dfd(0x273),'application/vnd.ms-excel':_0x5c9dfd(0x807),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x5c9dfd(0x859),'application/vnd.ms-powerpoint':'.ppt','application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x5c9dfd(0x6b3)};_0x3d6365[_0x483403]?(_0x4e9238=_0x3d6365[_0x483403],this[_0x5c9dfd(0x2bc)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x5c9dfd(0x5df)]+_0x5c9dfd(0x50d)+_0x4e9238)):(_0x4e9238=_0x5c9dfd(0x31a),this[_0x5c9dfd(0x2bc)][_0x5c9dfd(0x200)](this[_0x5c9dfd(0x83a)]+'\x20('+this[_0x5c9dfd(0x238)][_0x5c9dfd(0x5df)]+_0x5c9dfd(0x7da)+_0x4e9238)),_0x3c09ac+=_0x4e9238,this['logger'][_0x5c9dfd(0x200)](this[_0x5c9dfd(0x83a)]+'\x20('+this[_0x5c9dfd(0x238)][_0x5c9dfd(0x5df)]+'):\x20Nome\x20do\x20arquivo\x20gerado:\x20'+_0x3c09ac);let _0x42d8ba=this[_0x5c9dfd(0x538)][_0x5c9dfd(0x71d)]('SERVER')[_0x5c9dfd(0x718)];if(!_0x42d8ba){let _0x397cb4=this[_0x5c9dfd(0x538)]['get'](_0x5c9dfd(0x585));_0x42d8ba=_0x5c9dfd(0x21e)+(_0x397cb4&&_0x397cb4['FULLCHAIN']['split']('/')[0x4]);}let _0x538010=Buffer[_0x5c9dfd(0x4ea)](_0x41582f['data']);await this[_0x5c9dfd(0x36b)](_0x538010,_0x3c09ac);let _0x91d3a5=_0x5c9dfd(0x387)+_0x3c09ac;_0x91d3a5=''+_0x42d8ba+_0x91d3a5,_0x2e6d59={'fileUrl':_0x91d3a5},_0x748304[_0x5c9dfd(0x276)]['realVariables'][_0x5c9dfd(0x1ca)]=_0x91d3a5;let _0x1f2358=_0x748304[_0x5c9dfd(0x276)][_0x5c9dfd(0x1ea)],_0xb6532c=this[_0x5c9dfd(0x48d)](_0x2e6d59);return Object[_0x5c9dfd(0x65f)](_0x1f2358,_0xb6532c),_0x748304[_0x5c9dfd(0x276)][_0x5c9dfd(0x1ea)]=_0x1f2358,_0x5ad701={'error':!0x1,'apiResponse':{'fileUrl':_0x91d3a5}},this[_0x5c9dfd(0x2c6)](_0x748304,_0x347358,_0x5ad701),_0x2e6d59;}}catch(_0x2c1d17){console[_0x5c9dfd(0x82e)]('Erro\x20ao\x20processar\x20a\x20chamada\x20API:',_0x2c1d17[_0x5c9dfd(0x8d5)]),_0x2c1d17[_0x5c9dfd(0x60d)]&&(_0x2e6d59=_0x2c1d17[_0x5c9dfd(0x60d)]['data']);let _0x32ed0a=_0x748304[_0x5c9dfd(0x276)]['realVariables'],_0x25f125=this[_0x5c9dfd(0x48d)](_0x2e6d59);return Object[_0x5c9dfd(0x65f)](_0x32ed0a,_0x25f125),_0x748304[_0x5c9dfd(0x276)][_0x5c9dfd(0x1ea)]=_0x32ed0a,_0x5ad701={'error':!0x0,'errorLog':_0x2c1d17[_0x5c9dfd(0x5d4)](),'apiResponse':_0x2e6d59},this[_0x5c9dfd(0x2c6)](_0x748304,_0x347358,_0x5ad701),{'success':!0x1};}}[a0_0x420d4d(0x1cc)](_0x562067,_0x4d2335){const _0x1b9423=a0_0x420d4d;let _0x520ec7=_0x5a0041=>{const _0x5482f2=a0_0x296e;let _0x316dfe=_0x5a0041[_0x5482f2(0x576)](/[^0-9.,-]/g,'')['replace'](',','.'),_0x5af7d2=parseFloat(_0x316dfe);return isNaN(_0x5af7d2)?null:_0x5af7d2;},_0x111b36=_0x4d2335[_0x1b9423(0x7a2)],_0x1297cb=_0x4d2335[_0x1b9423(0x5ac)];typeof _0x111b36==_0x1b9423(0x7fb)&&(_0x111b36=this[_0x1b9423(0x3c1)](_0x111b36,_0x562067[_0x1b9423(0x276)][_0x1b9423(0x1ea)])??''),typeof _0x1297cb==_0x1b9423(0x7fb)&&(_0x1297cb=this[_0x1b9423(0x3c1)](_0x1297cb,_0x562067['chatLog'][_0x1b9423(0x1ea)])??'');let _0x2bc413=null;if(!_0x4d2335[_0x1b9423(0x487)])return null;switch(this[_0x1b9423(0x2bc)]['verbose'](this['instanceName']+'\x20('+this[_0x1b9423(0x238)][_0x1b9423(0x5df)]+_0x1b9423(0x3c8)+_0x111b36),this[_0x1b9423(0x2bc)][_0x1b9423(0x200)](this[_0x1b9423(0x83a)]+'\x20('+this['instance'][_0x1b9423(0x5df)]+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x1297cb),_0x4d2335['editOperator']){case'+':case'-':case'*':case'/':let _0x516fec=_0x520ec7(_0x111b36||'0'),_0x882361=_0x520ec7(_0x1297cb||'0');if(_0x516fec===null)return null;switch(_0x4d2335[_0x1b9423(0x487)]){case'+':_0x2bc413=_0x516fec+(_0x882361??0x0);break;case'-':_0x2bc413=_0x516fec-(_0x882361??0x0);break;case'*':_0x2bc413=_0x516fec*(_0x882361??0x1);break;case'/':_0x882361!==0x0&&(_0x2bc413=_0x516fec/(_0x882361??0x1));break;}break;case'findAndReplace':case'findAndReplaceRegex':let _0x4e057d=_0x1297cb,_0x55d5e7=_0x4d2335[_0x1b9423(0x462)];if(typeof _0x55d5e7==_0x1b9423(0x7fb)&&(_0x55d5e7=this['replaceVariables'](_0x55d5e7,_0x562067[_0x1b9423(0x276)][_0x1b9423(0x1ea)])??''),_0x4e057d&&_0x55d5e7!==void 0x0){let _0x22803e=_0x4d2335[_0x1b9423(0x487)]===_0x1b9423(0x40c)?new RegExp(_0x4e057d[_0x1b9423(0x576)](/[-\/\\^$*+?.()|[\]{}]/g,_0x1b9423(0x88c)),'g'):new RegExp(_0x4e057d,'g');_0x2bc413=_0x111b36[_0x1b9423(0x576)](_0x22803e,_0x55d5e7);}else console[_0x1b9423(0x283)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case'setNewValue':_0x2bc413=_0x1297cb;break;case'extractRegex':let _0x52ea45=_0x111b36[_0x1b9423(0x58e)](new RegExp(_0x1297cb||''));_0x2bc413=_0x52ea45?_0x52ea45[0x0]:'';break;case _0x1b9423(0x8b0):_0x2bc413=_0x111b36[_0x1b9423(0x2f7)](0x0,parseInt(_0x1297cb||'0'));break;case _0x1b9423(0x582):let _0x1fc9eb=parseInt(_0x1297cb||'0');_0x2bc413=_0x111b36[_0x1b9423(0x2f7)](_0x111b36[_0x1b9423(0x297)]-_0x1fc9eb);break;case _0x1b9423(0x604):let _0x4b5ab5=_0x520ec7(_0x111b36),_0x3ff89a=parseInt(_0x1297cb||'0');_0x3ff89a=Math[_0x1b9423(0x2e1)](_0x3ff89a),_0x4b5ab5!==null?_0x2bc413=_0x4b5ab5[_0x1b9423(0x1fd)](_0x1b9423(0x21c),{'minimumFractionDigits':_0x3ff89a,'maximumFractionDigits':_0x3ff89a}):(console[_0x1b9423(0x283)](_0x1b9423(0x562)+_0x111b36),_0x2bc413=null);break;case _0x1b9423(0x6bf):let _0x280324=_0x520ec7(_0x111b36);_0x280324!==null?_0x2bc413=_0x280324['toLocaleString'](_0x1b9423(0x21c),{'style':_0x1b9423(0x3bd),'currency':'BRL'}):(console[_0x1b9423(0x283)]('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x111b36),_0x2bc413=null);break;case'upperCase':_0x2bc413=_0x111b36[_0x1b9423(0x55e)]();break;case _0x1b9423(0x8a5):_0x2bc413=_0x111b36[_0x1b9423(0x338)]();break;case _0x1b9423(0x4a4):_0x2bc413=_0x111b36['split']('\x20')[_0x1b9423(0x28d)](_0x1e2e06=>_0x1e2e06[_0x1b9423(0x3f6)](0x0)['toUpperCase']()+_0x1e2e06[_0x1b9423(0x2f7)](0x1)[_0x1b9423(0x338)]())[_0x1b9423(0x3c9)]('\x20');break;case'trimmed':_0x2bc413=_0x111b36[_0x1b9423(0x7c0)]();break;default:_0x2bc413=_0x111b36;}return _0x2bc413!==null?_0x2bc413[_0x1b9423(0x5d4)]():null;}async['processvaredits'](_0x50dd11,_0x32716f){const _0x4a70fe=a0_0x420d4d;try{let _0x3cc1e0=_0x50dd11[_0x4a70fe(0x47a)]?.[_0x4a70fe(0x6cb)](_0x56b17e=>_0x56b17e['blockId']===_0x32716f[_0x4a70fe(0x664)]?.[_0x4a70fe(0x5d4)]())||[],_0x593dce=_0x32716f[_0x4a70fe(0x88b)],_0x3dadeb=null,_0x48ffc9=[],_0x5d09a8=_0x50dd11[_0x4a70fe(0x276)][_0x4a70fe(0x1ea)][_0x593dce];_0x48ffc9['push']('Valor\x20inicial:\x20\x22'+_0x5d09a8+'\x22');for(let _0x40bd85 of _0x3cc1e0){_0x40bd85[_0x4a70fe(0x7a2)]=_0x5d09a8,_0x3dadeb=_0x40bd85[_0x4a70fe(0x7a2)];let _0x3a22a5;try{_0x3a22a5=this[_0x4a70fe(0x1cc)](_0x50dd11,_0x40bd85);}catch(_0x1a26e9){console['error']('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x1a26e9[_0x4a70fe(0x8d5)]);continue;}if(_0x3a22a5!==null){let _0x5a4082=_0x4a70fe(0x3c3)+_0x40bd85['editOperator']+'\x22',_0x59995d=[_0x4a70fe(0x6bf),_0x4a70fe(0x3fc),'lowerCase',_0x4a70fe(0x4a4),_0x4a70fe(0x6aa)];_0x40bd85[_0x4a70fe(0x487)]===_0x4a70fe(0x40c)||_0x40bd85['editOperator']===_0x4a70fe(0x4b2)?_0x5a4082+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x40bd85[_0x4a70fe(0x5ac)]+_0x4a70fe(0x67e)+_0x40bd85[_0x4a70fe(0x462)]+'\x22':!_0x59995d[_0x4a70fe(0x3a0)](_0x40bd85[_0x4a70fe(0x487)])&&_0x40bd85[_0x4a70fe(0x5ac)]!==null&&_0x40bd85['secondValue']!==void 0x0&&(_0x5a4082+=',\x20valor\x20passado:\x20\x22'+_0x40bd85[_0x4a70fe(0x5ac)]+'\x22'),_0x5a4082+=_0x4a70fe(0x5c6)+_0x3a22a5+'.',_0x48ffc9[_0x4a70fe(0x26a)](_0x5a4082);}_0x3a22a5!==null&&(_0x5d09a8=_0x3a22a5);}if(_0x50dd11[_0x4a70fe(0x276)][_0x4a70fe(0x1ea)]&&_0x32716f[_0x4a70fe(0x88b)]){_0x50dd11[_0x4a70fe(0x276)]['realVariables'][_0x32716f[_0x4a70fe(0x88b)]]=_0x5d09a8;let _0x2f5465={'variable':_0x32716f[_0x4a70fe(0x88b)],'oldValue':_0x3dadeb,'newValue':_0x5d09a8,'moreLogs':_0x48ffc9};try{this[_0x4a70fe(0x2c6)](_0x50dd11,_0x32716f,_0x2f5465);}catch(_0x134135){console[_0x4a70fe(0x82e)](_0x4a70fe(0x252)+_0x134135[_0x4a70fe(0x8d5)]);}}return _0x593dce;}catch(_0x47c925){return console['error'](_0x4a70fe(0x687)+_0x47c925[_0x4a70fe(0x8d5)]),null;}}async['processConditions'](_0x928ff,_0x5e2bb2){const _0x1d7110=a0_0x420d4d;try{let _0x4ba1ba=[],_0x1a263e=_0x928ff[_0x1d7110(0x7a4)]['filter'](_0x3f638d=>_0x3f638d['blockId']===_0x5e2bb2['_id'][_0x1d7110(0x5d4)]()),_0x5069c3=null,_0xe27591=!0x1;for(let _0x221601 of _0x1a263e){let _0x2f64bb=this[_0x1d7110(0x8c6)](_0x928ff,_0x221601);_0x4ba1ba[_0x1d7110(0x26a)](_0x1d7110(0x1e4)+_0x221601[_0x1d7110(0x7a2)]+_0x1d7110(0x86b)+_0x221601[_0x1d7110(0x329)]+',\x20Segundo\x20Valor:\x20'+_0x221601[_0x1d7110(0x5ac)]+_0x1d7110(0x60c)+_0x2f64bb),_0x5069c3===null?_0x5069c3=_0x2f64bb:_0x221601[_0x1d7110(0x341)]===_0x1d7110(0x20f)?(_0x5069c3=_0x5069c3&&_0x2f64bb,_0x2f64bb||(_0xe27591=!0x0)):_0x221601['OrAnd']==='or'&&(_0xe27591||(_0x5069c3=_0x5069c3||_0x2f64bb));}_0x5069c3===null&&(_0x5069c3=!0x0);let _0x293d0f={'moreLogs':_0x4ba1ba};_0x928ff[_0x1d7110(0x276)][_0x1d7110(0x21a)]=_0x5069c3,await this[_0x1d7110(0x2c6)](_0x928ff,_0x5e2bb2,_0x293d0f);}catch(_0x5d39e1){this[_0x1d7110(0x2bc)][_0x1d7110(0x82e)](this[_0x1d7110(0x83a)]+'\x20('+this[_0x1d7110(0x238)][_0x1d7110(0x5df)]+'):\x20Error\x20processing\x20conditions:\x20'+(_0x5d39e1 instanceof Error?_0x5d39e1[_0x1d7110(0x8d5)]:JSON['stringify'](_0x5d39e1,null,0x2)));}}[a0_0x420d4d(0x8c6)](_0x69812d,_0x381906){const _0x3bb323=a0_0x420d4d;let _0x3f9f67=_0x381906['firstValue'],_0x780824=_0x381906[_0x3bb323(0x5ac)];typeof _0x3f9f67==_0x3bb323(0x7fb)&&(_0x3f9f67=this[_0x3bb323(0x3c1)](_0x3f9f67,_0x69812d['chatLog'][_0x3bb323(0x1ea)])??''),typeof _0x780824==_0x3bb323(0x7fb)&&(_0x780824=this[_0x3bb323(0x3c1)](_0x780824,_0x69812d[_0x3bb323(0x276)][_0x3bb323(0x1ea)])??'');try{switch(_0x381906[_0x3bb323(0x329)]){case _0x3bb323(0x52e):return _0x3f9f67===_0x780824;case _0x3bb323(0x877):return _0x3f9f67!==_0x780824;case _0x3bb323(0x772):return this['contains'](_0x3f9f67,_0x780824);case _0x3bb323(0x7ad):return!this[_0x3bb323(0x772)](_0x3f9f67,_0x780824);case _0x3bb323(0x31f):return parseFloat(_0x3f9f67)>parseFloat(_0x780824);case _0x3bb323(0x211):return parseFloat(_0x3f9f67)<parseFloat(_0x780824);case'notEmpty':return _0x3f9f67!=='';case _0x3bb323(0x27f):return _0x3f9f67==='';case _0x3bb323(0x3d6):return new RegExp(_0x780824)[_0x3bb323(0x3dd)](_0x3f9f67);case _0x3bb323(0x507):return!new RegExp(_0x780824)['test'](_0x3f9f67);default:return!0x1;}}catch(_0x2fc4b2){return console[_0x3bb323(0x82e)](_0x3bb323(0x217)+_0x2fc4b2),!0x1;}}[a0_0x420d4d(0x772)](_0x44b50f,_0x43be98){const _0x79654=a0_0x420d4d;if(_0x44b50f===_0x43be98&&/^\d+$/[_0x79654(0x3dd)](_0x44b50f))return!0x0;if(this['isListOfNumbers'](_0x44b50f)&&/^\d+$/[_0x79654(0x3dd)](_0x43be98)){let _0x39ff26=_0x44b50f[_0x79654(0x65d)](',')[_0x79654(0x28d)](_0x4e1a71=>parseInt(_0x4e1a71[_0x79654(0x7c0)]())),_0xb8b99b=parseInt(_0x43be98);return _0x39ff26['includes'](_0xb8b99b);}return _0x44b50f[_0x79654(0x3a0)](_0x43be98);}['isListOfNumbers'](_0x3fe967){return/^\d+(,\d+)*$/['test'](_0x3fe967);}[a0_0x420d4d(0x7d7)](_0x3d3131){const _0x368e88=a0_0x420d4d;let _0x38c5c2=!0x0,_0x3bdceb=null;for(let _0x1da1a8 of _0x3d3131){let _0x5cd9d7=this[_0x368e88(0x3b9)](_0x1da1a8);if(_0x3bdceb==='or'&&_0x5cd9d7){_0x38c5c2=!0x0;break;}if(_0x3bdceb===_0x368e88(0x20f)&&!_0x5cd9d7){_0x38c5c2=!0x1;break;}_0x3bdceb=_0x1da1a8['OrAnd'];}return _0x38c5c2;}[a0_0x420d4d(0x3b9)](_0x286514){const _0x478e06=a0_0x420d4d;let _0x196e96=_0x286514[_0x478e06(0x7a2)],_0x4107ca=_0x286514[_0x478e06(0x5ac)];try{switch(_0x286514[_0x478e06(0x329)]){case'equal':return String(_0x196e96)===String(_0x4107ca);case _0x478e06(0x877):return String(_0x196e96)!==String(_0x4107ca);case'contains':return String(_0x196e96)['includes'](String(_0x4107ca));case'notContains':return!String(_0x196e96)['includes'](String(_0x4107ca));case'greater':return parseFloat(String(_0x196e96))>parseFloat(String(_0x4107ca));case'less':return parseFloat(String(_0x196e96))<parseFloat(String(_0x4107ca));case _0x478e06(0x1cf):return String(_0x196e96)!=='';case _0x478e06(0x27f):return String(_0x196e96)==='';case _0x478e06(0x3d6):return new RegExp(String(_0x4107ca))[_0x478e06(0x3dd)](String(_0x196e96));case _0x478e06(0x507):return!new RegExp(String(_0x4107ca))[_0x478e06(0x3dd)](String(_0x196e96));default:return!0x1;}}catch(_0x5a82fc){return console[_0x478e06(0x82e)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x5a82fc),!0x1;}}async[a0_0x420d4d(0x459)](_0x50d5d1,_0x32396e){const _0x46b161=a0_0x420d4d;if(this[_0x46b161(0x2bc)][_0x46b161(0x200)](this[_0x46b161(0x83a)]+'\x20('+this[_0x46b161(0x238)][_0x46b161(0x5df)]+_0x46b161(0x2bd)),!_0x50d5d1||!_0x32396e)return this[_0x46b161(0x2bc)]['error'](this['instanceName']+'\x20('+this[_0x46b161(0x238)][_0x46b161(0x5df)]+_0x46b161(0x361)),null;let _0x3a9349=_0x50d5d1[_0x46b161(0x276)][_0x46b161(0x7a5)][_0x46b161(0x5a3)]['id'];this['logger'][_0x46b161(0x200)](this[_0x46b161(0x83a)]+'\x20('+this[_0x46b161(0x238)][_0x46b161(0x5df)]+'):\x20mediaMessageInfoId\x20:\x20'+_0x3a9349);let _0xee5508={'key':{'id':_0x3a9349}},_0x531fe7=_0x32396e[_0x46b161(0x88b)];_0x50d5d1[_0x46b161(0x276)][_0x46b161(0x1ea)]['_'+_0x531fe7+_0x46b161(0x68a)]=null,_0x50d5d1['chatLog'][_0x46b161(0x1ea)]['_'+_0x531fe7+_0x46b161(0x79b)]=null,_0x50d5d1[_0x46b161(0x276)][_0x46b161(0x1ea)]['_'+_0x531fe7+_0x46b161(0x307)]=null,_0x50d5d1[_0x46b161(0x276)]['realVariables']['_'+_0x531fe7+_0x46b161(0x4bd)]=_0x50d5d1[_0x46b161(0x276)]['lastReceivedMessage']['type'];try{let _0x5a7aad=await this[_0x46b161(0x6f8)](_0xee5508);this[_0x46b161(0x2bc)]['verbose'](this[_0x46b161(0x83a)]+'\x20('+this[_0x46b161(0x238)][_0x46b161(0x5df)]+_0x46b161(0x4e6)),_0x50d5d1[_0x46b161(0x276)]['realVariables']['_'+_0x531fe7+_0x46b161(0x4e9)]=_0x5a7aad[_0x46b161(0x1ca)],_0x50d5d1[_0x46b161(0x276)][_0x46b161(0x1ea)]['_'+_0x531fe7+'.mimetype']=_0x5a7aad[_0x46b161(0x8c4)];let _0x8380e=_0x5a7aad[_0x46b161(0x8c4)][_0x46b161(0x58e)](/\/(\w+)$/),_0x3936c1=_0x8380e?_0x8380e[0x1]:null;_0x50d5d1[_0x46b161(0x276)][_0x46b161(0x1ea)]['_'+_0x531fe7+'.extension']=_0x3936c1,this[_0x46b161(0x2bc)][_0x46b161(0x200)](this[_0x46b161(0x83a)]+'\x20('+this[_0x46b161(0x238)]['wuid']+_0x46b161(0x8d1)+_0x531fe7+'\x27.');}catch(_0x3d8d77){this[_0x46b161(0x2bc)]['error'](this[_0x46b161(0x83a)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20'+_0x3d8d77);}let _0x15e397=_0x50d5d1['chatLog'][_0x46b161(0x7a5)][_0x46b161(0x426)]||_0x50d5d1[_0x46b161(0x276)]['lastReceivedMessage'][_0x46b161(0x84d)]||_0x50d5d1[_0x46b161(0x276)][_0x46b161(0x7a5)]['vote'];try{_0x50d5d1[_0x46b161(0x276)][_0x46b161(0x1ea)]||(_0x50d5d1['chatLog'][_0x46b161(0x1ea)]={});let _0x17d3d7=_0x50d5d1[_0x46b161(0x276)][_0x46b161(0x1ea)][_0x531fe7];_0x50d5d1[_0x46b161(0x276)][_0x46b161(0x1ea)][_0x531fe7]=_0x15e397;let _0xcaa7e3={'variable':_0x531fe7,'oldValue':_0x17d3d7,'newValue':_0x15e397};this[_0x46b161(0x2c6)](_0x50d5d1,_0x32396e,_0xcaa7e3),this['logger'][_0x46b161(0x200)](this[_0x46b161(0x83a)]+'\x20('+this[_0x46b161(0x238)][_0x46b161(0x5df)]+_0x46b161(0x1e6));}catch(_0x38602c){let _0x4943cb={'error':!0x0,'errorLog':_0x38602c['toString']()};return this[_0x46b161(0x2c6)](_0x50d5d1,_0x32396e,_0x4943cb),this[_0x46b161(0x2bc)][_0x46b161(0x82e)](this[_0x46b161(0x83a)]+'\x20('+this[_0x46b161(0x238)][_0x46b161(0x5df)]+_0x46b161(0x86f)+(_0x38602c instanceof Error?_0x38602c[_0x46b161(0x8d5)]:JSON[_0x46b161(0x31d)](_0x38602c,null,0x2))),null;}}async[a0_0x420d4d(0x669)](_0x5edfa8,_0x2b9f65){const _0x493cc2=a0_0x420d4d;if(this[_0x493cc2(0x2bc)]['verbose'](this[_0x493cc2(0x83a)]+'\x20('+this[_0x493cc2(0x238)][_0x493cc2(0x5df)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0x5edfa8||!_0x2b9f65)return this['logger']['error'](this['instanceName']+'\x20('+this[_0x493cc2(0x238)][_0x493cc2(0x5df)]+_0x493cc2(0x361)),null;let _0x24a9ea=Date[_0x493cc2(0x301)](),_0x1999d8=parseInt(_0x2b9f65[_0x493cc2(0x7f5)],0xa);if(isNaN(_0x1999d8))return this[_0x493cc2(0x2bc)][_0x493cc2(0x82e)](this[_0x493cc2(0x83a)]+'\x20('+this[_0x493cc2(0x238)][_0x493cc2(0x5df)]+_0x493cc2(0x578)),null;let _0x226b05={'newStoppedUntil':_0x24a9ea+_0x1999d8*0x3c*0x3e8};return await this[_0x493cc2(0x2c6)](_0x5edfa8,_0x2b9f65,_0x226b05,!0x0),null;}async['processUazapi'](_0x3fc58c,_0x175c46){const _0xfd1bfb=a0_0x420d4d;try{switch(_0x175c46[_0xfd1bfb(0x87e)][_0xfd1bfb(0x697)]){case _0xfd1bfb(0x749):await this[_0xfd1bfb(0x898)](_0x3fc58c,_0x175c46);break;case _0xfd1bfb(0x50a):await this['uazapiSendMedia'](_0x3fc58c,_0x175c46);break;case'sendLocation':await this[_0xfd1bfb(0x854)](_0x3fc58c,_0x175c46);break;case _0xfd1bfb(0x415):await this[_0xfd1bfb(0x350)](_0x3fc58c,_0x175c46);break;case'sendContact':await this['uazapiSendContact'](_0x3fc58c,_0x175c46);break;case _0xfd1bfb(0x32e):await this[_0xfd1bfb(0x1f8)](_0x3fc58c,_0x175c46);break;case _0xfd1bfb(0x7ff):await this[_0xfd1bfb(0x1f8)](_0x3fc58c,_0x175c46);break;case'deleteMessage':await this[_0xfd1bfb(0x358)](_0x3fc58c,_0x175c46);break;default:this['logger']['error'](this[_0xfd1bfb(0x83a)]+'\x20('+this[_0xfd1bfb(0x238)]['wuid']+_0xfd1bfb(0x72d)+_0x175c46[_0xfd1bfb(0x87e)][_0xfd1bfb(0x697)]);}}catch(_0xbc0a7){this[_0xfd1bfb(0x2bc)][_0xfd1bfb(0x82e)](this['instanceName']+'\x20('+this[_0xfd1bfb(0x238)][_0xfd1bfb(0x5df)]+_0xfd1bfb(0x420)+(_0xbc0a7 instanceof Error?_0xbc0a7[_0xfd1bfb(0x8d5)]:JSON[_0xfd1bfb(0x31d)](_0xbc0a7,null,0x2)));}}async[a0_0x420d4d(0x2c6)](_0x181f46,_0x1eb73a,_0x55500d,_0x4b35ce=!0x1,_0x2fcb74=!0x1){const _0x508246=a0_0x420d4d;_0x181f46[_0x508246(0x276)][_0x508246(0x67f)]||(_0x181f46[_0x508246(0x276)][_0x508246(0x67f)]=[]);let _0x5bbd15=(_0x181f46[_0x508246(0x276)][_0x508246(0x67f)]?.[_0x508246(0x297)]??0x0)+0x1,_0x50d4d5=_0x181f46[_0x508246(0x276)][_0x508246(0x67f)][_0x508246(0x6cb)](_0x1d67d4=>String(_0x1d67d4[_0x508246(0x661)])===String(_0x1eb73a['_id']))[_0x508246(0x297)]+0x1,_0x2079ea=_0x55500d?.[_0x508246(0x7bf)]??Date['now'](),_0x5b48f9=_0x55500d?.[_0x508246(0x82e)]?_0x55500d[_0x508246(0x81a)]??_0x55500d['error'][_0x508246(0x5d4)]():void 0x0,_0x241bbd={'onTime':_0x2079ea,'blockId':_0x1eb73a['_id'],'order':_0x5bbd15,'activatedCount':_0x50d4d5,'error':_0x55500d?.[_0x508246(0x82e)]??!0x1,'messageId':_0x55500d?.[_0x508246(0x675)],'apiResponse':_0x55500d?.['apiResponse'],'apiResponseString':_0x55500d?.[_0x508246(0x31b)]?JSON['stringify'](_0x55500d?.[_0x508246(0x31b)]):void 0x0,'variable':_0x55500d?.['variable'],'oldValue':_0x55500d?.[_0x508246(0x711)],'newValue':_0x55500d?.[_0x508246(0x757)],'newStoppedUntil':_0x55500d?.['newStoppedUntil'],'moreLogs':_0x55500d?.[_0x508246(0x1d5)],'errorLog':_0x5b48f9};if(_0x55500d[_0x508246(0x1d5)]&&_0x55500d[_0x508246(0x1d5)][_0x508246(0x297)]>0x0){let _0x7b55cf=_0x55500d['moreLogs']['map'](_0xbf38b=>this['replaceVariablesLogs'](_0xbf38b,_0x181f46[_0x508246(0x276)]['realVariables']));_0x241bbd[_0x508246(0x1d5)]=_0x7b55cf;}if(_0x181f46['chatLog']['realVariables']||(_0x181f46['chatLog'][_0x508246(0x1ea)]={}),_0x181f46[_0x508246(0x276)][_0x508246(0x1ea)][_0x508246(0x594)]=String(_0x50d4d5),_0x181f46[_0x508246(0x276)][_0x508246(0x1ea)][_0x508246(0x62d)]=String(_0x55500d[_0x508246(0x82e)]??!0x1),_0x181f46['chatLog']['blockLogs']['push'](_0x241bbd),_0x181f46['chatLog'][_0x508246(0x1ea)][_0x508246(0x35a)]&&_0x181f46[_0x508246(0x276)][_0x508246(0x1ea)][_0x508246(0x35a)]!==_0x181f46[_0x508246(0x1f9)]){let _0x16444e=(await this[_0x508246(0x674)]({'numbers':[_0x181f46[_0x508246(0x276)][_0x508246(0x1ea)]['telefone']]}))[0x0]['jid'];_0x181f46[_0x508246(0x276)][_0x508246(0x1ea)]['telefone']=_0x16444e,_0x181f46[_0x508246(0x1f9)]=_0x16444e;try{let _0x25b1f6={'_id':{'$ne':_0x181f46['_id']},'remoteJid':_0x16444e,'status':_0x508246(0x471)},_0x319f12={'status':_0x508246(0x552)};await this[_0x508246(0x7f0)]['flowConversation'][_0x508246(0x6a3)](_0x25b1f6,_0x319f12,this[_0x508246(0x238)][_0x508246(0x5df)]),this['logger'][_0x508246(0x200)](this['instanceName']+'\x20('+this[_0x508246(0x238)][_0x508246(0x5df)]+_0x508246(0x244));}catch(_0x2d378b){this['logger']['error'](this[_0x508246(0x83a)]+'\x20('+this[_0x508246(0x238)][_0x508246(0x5df)]+_0x508246(0x763)+_0x2d378b[_0x508246(0x8d5)]);}try{let _0x4123aa=_0x181f46[_0x508246(0x276)][_0x508246(0x1ea)],_0x463541=await this[_0x508246(0x6ea)](_0x16444e),_0x18c812={..._0x4123aa,..._0x463541,'_remoteJid':_0x16444e};_0x181f46[_0x508246(0x276)][_0x508246(0x1ea)]=_0x18c812;}catch(_0x1002d8){this['logger']['error'](this[_0x508246(0x83a)]+'\x20('+this[_0x508246(0x238)]['wuid']+_0x508246(0x277)+_0x1002d8[_0x508246(0x8d5)]);}}_0x181f46[_0x508246(0x276)][_0x508246(0x607)]=_0x1eb73a[_0x508246(0x664)][_0x508246(0x5d4)](),_0x181f46[_0x508246(0x276)][_0x508246(0x825)]&&(_0x181f46[_0x508246(0x276)][_0x508246(0x825)]=_0x181f46['chatLog'][_0x508246(0x825)]),_0x181f46[_0x508246(0x276)][_0x508246(0x7a5)]&&(_0x181f46[_0x508246(0x276)][_0x508246(0x7a5)]=_0x181f46['chatLog'][_0x508246(0x7a5)]),_0x181f46[_0x508246(0x276)][_0x508246(0x21a)]&&(_0x181f46[_0x508246(0x276)][_0x508246(0x21a)]=_0x181f46[_0x508246(0x276)][_0x508246(0x21a)]),_0x2fcb74&&(_0x181f46[_0x508246(0x69e)]='closed'),_0x4b35ce?this[_0x508246(0x20e)](_0x181f46):this[_0x508246(0x4af)](_0x181f46,_0x1eb73a);}[a0_0x420d4d(0x6d4)](_0x139b06,_0x4311fd){const _0x23e576=a0_0x420d4d;return _0x139b06[_0x23e576(0x576)](/\{\{([^}]+)\}\}/g,(_0x21cb10,_0x22ba89)=>_0x4311fd[_0x22ba89]?'{{'+_0x22ba89+_0x23e576(0x8ac)+_0x4311fd[_0x22ba89]+'\x22':'{{'+_0x22ba89+_0x23e576(0x7ec));}async[a0_0x420d4d(0x20e)](_0x3be7ad){const _0x6d3e66=a0_0x420d4d;try{let _0x273e44=Object['entries'](_0x3be7ad['chatLog'][_0x6d3e66(0x1ea)])['map'](([_0x4b9f6f,_0x462eb3])=>({'name':_0x4b9f6f,'value':_0x462eb3})),_0x23495c={'status':_0x3be7ad[_0x6d3e66(0x69e)],'remoteJid':_0x3be7ad[_0x6d3e66(0x1f9)],'blocks':_0x3be7ad['blocks'],'waitingMenu_id':_0x3be7ad[_0x6d3e66(0x37e)],'waitingMenu_text':_0x3be7ad[_0x6d3e66(0x764)],'waitingMenu_replyOptions':_0x3be7ad[_0x6d3e66(0x64a)],'chatLog':{'lastBlockId':_0x3be7ad[_0x6d3e66(0x276)][_0x6d3e66(0x607)],'lastSendMessage':_0x3be7ad[_0x6d3e66(0x276)][_0x6d3e66(0x825)],'lastReceivedMessage':_0x3be7ad[_0x6d3e66(0x276)][_0x6d3e66(0x7a5)],'lastCondition':_0x3be7ad['chatLog'][_0x6d3e66(0x21a)],'chatVariables':_0x273e44,'realVariables':_0x3be7ad[_0x6d3e66(0x276)]['realVariables'],'blockLogs':_0x3be7ad[_0x6d3e66(0x276)][_0x6d3e66(0x67f)]}},_0x566dad=await this[_0x6d3e66(0x7f0)][_0x6d3e66(0x5d3)][_0x6d3e66(0x4a8)](_0x3be7ad[_0x6d3e66(0x664)],_0x23495c,this[_0x6d3e66(0x238)][_0x6d3e66(0x5df)]);if(_0x566dad){this[_0x6d3e66(0x2bc)][_0x6d3e66(0x200)](this[_0x6d3e66(0x83a)]+'\x20('+this[_0x6d3e66(0x238)][_0x6d3e66(0x5df)]+_0x6d3e66(0x232)+_0x566dad[_0x6d3e66(0x664)]);try{let _0x37ef51=[_0x6d3e66(0x55a),_0x6d3e66(0x44b),_0x6d3e66(0x3ee),_0x6d3e66(0x770),_0x6d3e66(0x69e),_0x6d3e66(0x84e),_0x6d3e66(0x65a),_0x6d3e66(0x4d5),_0x6d3e66(0x2e3),_0x6d3e66(0x22b)];if(!this[_0x6d3e66(0x3e4)]&&(await this['getAutomateSystem'](),!this[_0x6d3e66(0x3e4)]))throw new Error(_0x6d3e66(0x223));let _0x2e27da=this[_0x6d3e66(0x3e4)]?.[_0x6d3e66(0x619)][_0x6d3e66(0x28d)](_0x552874=>_0x552874['name']),_0x451f16={};Object[_0x6d3e66(0x205)](_0x3be7ad[_0x6d3e66(0x276)][_0x6d3e66(0x1ea)])[_0x6d3e66(0x425)](([_0x6faaa,_0x7dafec])=>{const _0x29f995=_0x6d3e66;_0x37ef51['includes'](_0x6faaa)&&(_0x6faaa===_0x29f995(0x4d5)&&typeof _0x7dafec==_0x29f995(0x7fb)?_0x451f16[_0x6faaa]=_0x7dafec[_0x29f995(0x65d)](',')[_0x29f995(0x28d)](_0x9877cb=>_0x9877cb['trim']())[_0x29f995(0x6cb)](_0x447cf4=>_0x447cf4!==''):_0x6faaa===_0x29f995(0x2e3)&&typeof _0x7dafec==_0x29f995(0x7fb)?_0x451f16[_0x6faaa]=_0x7dafec['split'](',')[_0x29f995(0x28d)](_0x8f8707=>_0x8f8707[_0x29f995(0x7c0)]())['filter'](_0x254f13=>_0x254f13!==''):_0x451f16[_0x6faaa]=_0x7dafec);});let _0x38c5a8=_0x3be7ad[_0x6d3e66(0x276)][_0x6d3e66(0x67f)][_0x3be7ad['chatLog'][_0x6d3e66(0x67f)][_0x6d3e66(0x297)]-0x1];if(_0x38c5a8){let _0x84c608=_0x38c5a8[_0x6d3e66(0x22f)];_0x84c608!==void 0x0&&(_0x451f16[_0x6d3e66(0x224)]=_0x84c608['toString']());}let _0x3956ad=_0x273e44['filter'](_0x52d2a7=>_0x2e27da[_0x6d3e66(0x3a0)](_0x52d2a7['name']));this[_0x6d3e66(0x2bc)][_0x6d3e66(0x200)](this[_0x6d3e66(0x83a)]+'\x20('+this[_0x6d3e66(0x238)][_0x6d3e66(0x5df)]+_0x6d3e66(0x29c)),this[_0x6d3e66(0x2bc)][_0x6d3e66(0x200)](_0x451f16),this[_0x6d3e66(0x2bc)][_0x6d3e66(0x200)](this[_0x6d3e66(0x83a)]+'\x20('+this[_0x6d3e66(0x238)][_0x6d3e66(0x5df)]+_0x6d3e66(0x434)),this[_0x6d3e66(0x2bc)]['verbose'](_0x3956ad);let _0x333899=_0x3956ad[_0x6d3e66(0x28d)](_0x56123d=>{const _0x136e3e=_0x6d3e66;let _0x46c5bf=this[_0x136e3e(0x3e4)]?.['customFields']['find'](_0x2236c9=>_0x2236c9['name']===_0x56123d[_0x136e3e(0x325)]);if(!_0x46c5bf)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x56123d[_0x136e3e(0x325)]);return{'_id':_0x46c5bf[_0x136e3e(0x664)],'value':_0x56123d[_0x136e3e(0x6ff)]};});this[_0x6d3e66(0x2bc)]['verbose'](this[_0x6d3e66(0x83a)]+'\x20('+this[_0x6d3e66(0x238)][_0x6d3e66(0x5df)]+_0x6d3e66(0x384)),this[_0x6d3e66(0x2bc)]['verbose'](_0x333899),await this['saveChatVariables'](_0x3be7ad[_0x6d3e66(0x1f9)],_0x451f16,_0x333899);}catch(_0x175e5b){this['logger'][_0x6d3e66(0x82e)](this[_0x6d3e66(0x83a)]+'\x20('+this[_0x6d3e66(0x238)][_0x6d3e66(0x5df)]+_0x6d3e66(0x503)+(_0x175e5b instanceof Error?_0x175e5b[_0x6d3e66(0x8d5)]:JSON[_0x6d3e66(0x31d)](_0x175e5b,null,0x2)));}}else this[_0x6d3e66(0x2bc)][_0x6d3e66(0x82e)](this[_0x6d3e66(0x83a)]+'\x20('+this[_0x6d3e66(0x238)][_0x6d3e66(0x5df)]+_0x6d3e66(0x4d9));}catch(_0x1044b3){this['logger'][_0x6d3e66(0x82e)](this[_0x6d3e66(0x83a)]+'\x20('+this['instance'][_0x6d3e66(0x5df)]+'):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20'+(_0x1044b3 instanceof Error?_0x1044b3['message']:JSON[_0x6d3e66(0x31d)](_0x1044b3,null,0x2)));}}async[a0_0x420d4d(0x5dd)](_0x54a95f,_0x37f489,_0x4bdaf1){const _0x48fb88=a0_0x420d4d;try{let _0x301065={'leadInfo.leadnome':_0x37f489[_0x48fb88(0x55a)],'leadInfo.nomecompleto':_0x37f489[_0x48fb88(0x44b)],'leadInfo.email':_0x37f489[_0x48fb88(0x3ee)],'leadInfo.cpf':_0x37f489[_0x48fb88(0x770)],'leadInfo.status':_0x37f489[_0x48fb88(0x69e)],'leadInfo.notas':_0x37f489[_0x48fb88(0x84e)],'leadInfo.responsavelid':_0x37f489[_0x48fb88(0x65a)],'leadInfo.tags':_0x37f489[_0x48fb88(0x4d5)],'leadInfo.etiquetas':_0x37f489[_0x48fb88(0x2e3)],'leadInfo.customFields':_0x4bdaf1,'leadInfo.atendimentoAberto':_0x37f489[_0x48fb88(0x22b)]},_0x19c0ae=await this[_0x48fb88(0x7f0)][_0x48fb88(0x6e9)][_0x48fb88(0x868)]({'where':{'_id':_0x54a95f}},this[_0x48fb88(0x238)]['wuid']);if(!_0x19c0ae)return'chat\x20não\x20encontrado';let _0x5d06f2=new Set(_0x19c0ae['leadInfo'][_0x48fb88(0x2e3)]||[]),_0x324416=new Set(_0x37f489['etiquetas']||[]),_0x144d54=await this[_0x48fb88(0x7f0)]['label']['find']({'where':{}},this[_0x48fb88(0x238)][_0x48fb88(0x5df)]),_0x4cd0b6=new Set(_0x144d54[_0x48fb88(0x28d)](_0xe0b4f4=>_0xe0b4f4['_id'])),_0x3c5fdd=[..._0x324416][_0x48fb88(0x6cb)](_0x128953=>!_0x5d06f2[_0x48fb88(0x84a)](_0x128953)&&_0x4cd0b6[_0x48fb88(0x84a)](_0x128953)),_0x32a865=[..._0x5d06f2][_0x48fb88(0x6cb)](_0x15c6d8=>!_0x324416[_0x48fb88(0x84a)](_0x15c6d8));for(let _0x5c5420 of _0x3c5fdd)await this[_0x48fb88(0x27c)](_0x5c5420,_0x19c0ae[_0x48fb88(0x664)]),_0x5d06f2[_0x48fb88(0x285)](_0x5c5420);for(let _0x3ecdff of _0x32a865)await this[_0x48fb88(0x366)](_0x3ecdff,_0x19c0ae[_0x48fb88(0x664)]),_0x5d06f2[_0x48fb88(0x845)](_0x3ecdff);if(_0x48fb88(0x224)in _0x37f489){let _0x2be5e9=_0x37f489[_0x48fb88(0x224)];_0x301065['leadInfo.desativadoFluxoAte']=_0x2be5e9?Number(_0x2be5e9):null;}if(_0x48fb88(0x22b)in _0x37f489){let _0x4c5d5a=_0x37f489['atendimentoAberto'][_0x48fb88(0x338)]();_0x301065['leadInfo.atendimentoAberto']=_0x4c5d5a==='true'||_0x4c5d5a==='1'||_0x4c5d5a==='yes'||_0x4c5d5a===_0x48fb88(0x3f8);}let _0x4d0403=await this[_0x48fb88(0x7f0)][_0x48fb88(0x6e9)]['updateOne']({'where':{'_id':_0x54a95f}},_0x301065,this['instance']['wuid']);_0x4d0403?(this[_0x48fb88(0x2bc)][_0x48fb88(0x200)](this[_0x48fb88(0x83a)]+'\x20('+this['instance'][_0x48fb88(0x5df)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20'+_0x4d0403[_0x48fb88(0x664)]),J(this[_0x48fb88(0x83a)],'chats',{'chat':_0x4d0403})):this[_0x48fb88(0x2bc)][_0x48fb88(0x82e)](this[_0x48fb88(0x83a)]+'\x20('+this[_0x48fb88(0x238)][_0x48fb88(0x5df)]+_0x48fb88(0x363));}catch(_0x2a5496){this['logger'][_0x48fb88(0x82e)](this[_0x48fb88(0x83a)]+'\x20('+this['instance'][_0x48fb88(0x5df)]+_0x48fb88(0x6ac)+(_0x2a5496 instanceof Error?_0x2a5496[_0x48fb88(0x8d5)]:JSON[_0x48fb88(0x31d)](_0x2a5496,null,0x2)));}}async[a0_0x420d4d(0x444)](_0x248156,_0x362533){const _0x4aac52=a0_0x420d4d;this[_0x4aac52(0x2bc)][_0x4aac52(0x200)](this[_0x4aac52(0x83a)]+'\x20('+this[_0x4aac52(0x238)][_0x4aac52(0x5df)]+_0x4aac52(0x84f)+_0x362533);try{let _0x4f41e4=await this[_0x4aac52(0x7f0)][_0x4aac52(0x6e9)][_0x4aac52(0x4a8)]({'where':{'_id':_0x248156['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x362533},this[_0x4aac52(0x238)][_0x4aac52(0x5df)]);this['logger'][_0x4aac52(0x200)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0x248156[_0x4aac52(0x664)]),this[_0x4aac52(0x2bc)][_0x4aac52(0x200)](this[_0x4aac52(0x83a)]+'\x20('+this[_0x4aac52(0x238)][_0x4aac52(0x5df)]+'):\x20atualização\x20chat:\x20'+JSON[_0x4aac52(0x31d)](_0x4f41e4,null,0x2)),_0x4f41e4&&J(this['instanceName'],_0x4aac52(0x300),{'chat':_0x4f41e4});}catch(_0x118bc8){this[_0x4aac52(0x2bc)][_0x4aac52(0x82e)](this[_0x4aac52(0x83a)]+'\x20('+this['instance'][_0x4aac52(0x5df)]+_0x4aac52(0x4e8)+(_0x118bc8 instanceof Error?_0x118bc8[_0x4aac52(0x8d5)]:JSON[_0x4aac52(0x31d)](_0x118bc8,null,0x2)));}}async[a0_0x420d4d(0x310)](_0x39d3f9){const _0x116d4c=a0_0x420d4d;try{this['logger'][_0x116d4c(0x200)](this[_0x116d4c(0x83a)]+'\x20('+this[_0x116d4c(0x238)][_0x116d4c(0x5df)]+'):\x20Buscando\x20flow...');let _0x193347=_0x39d3f9['replace'](/\D/g,''),_0x51f56b=await this['repository'][_0x116d4c(0x76b)][_0x116d4c(0x868)]({'where':{'testingWith':_0x193347}},this[_0x116d4c(0x238)]['wuid']);return _0x51f56b||(this[_0x116d4c(0x2bc)][_0x116d4c(0x200)](this[_0x116d4c(0x83a)]+'\x20('+this[_0x116d4c(0x238)][_0x116d4c(0x5df)]+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0x51f56b=await this['repository'][_0x116d4c(0x76b)][_0x116d4c(0x868)]({'where':{'default':!0x0}},this['instance'][_0x116d4c(0x5df)])),_0x51f56b||(this[_0x116d4c(0x2bc)][_0x116d4c(0x200)](this[_0x116d4c(0x83a)]+'\x20('+this[_0x116d4c(0x238)][_0x116d4c(0x5df)]+_0x116d4c(0x7c2)),null);}catch(_0x209ab8){return this[_0x116d4c(0x2bc)][_0x116d4c(0x82e)](this[_0x116d4c(0x83a)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+(_0x209ab8 instanceof Error?_0x209ab8[_0x116d4c(0x8d5)]:JSON['stringify'](_0x209ab8,null,0x2))),null;}}async[a0_0x420d4d(0x566)](_0x34bd5e,_0x5d99a5){const _0x3f7dcc=a0_0x420d4d;try{let _0x32399f=!!_0x5d99a5[_0x3f7dcc(0x4d0)],_0x27d18c=_0x5d99a5['quoted'],_0x481a84=null;if(this[_0x3f7dcc(0x2bc)]['verbose'](this['instanceName']+'\x20('+this[_0x3f7dcc(0x238)]['wuid']+_0x3f7dcc(0x6ab)+_0x32399f+_0x3f7dcc(0x577)+_0x27d18c),_0x32399f){this[_0x3f7dcc(0x2bc)]['verbose'](this['instanceName']+'\x20('+this[_0x3f7dcc(0x238)][_0x3f7dcc(0x5df)]+_0x3f7dcc(0x3e5));let _0x1154ef={'where':{'remoteJid':_0x34bd5e,'waitingMenu_id':_0x27d18c}};if(_0x481a84=await this[_0x3f7dcc(0x7f0)][_0x3f7dcc(0x5d3)][_0x3f7dcc(0x868)](_0x1154ef,this[_0x3f7dcc(0x238)][_0x3f7dcc(0x5df)]),!_0x481a84)return this[_0x3f7dcc(0x2bc)][_0x3f7dcc(0x200)](this[_0x3f7dcc(0x83a)]+'\x20('+this['instance'][_0x3f7dcc(0x5df)]+'):\x20não\x20encontrou'),null;let _0x599a66=Date[_0x3f7dcc(0x301)](),_0x39d784=_0x481a84?.['minutesToClose']||0x0,_0x3bcb1c=_0x599a66-_0x39d784*0x3c*0x3e8;if(_0x481a84[_0x3f7dcc(0x73c)]<_0x3bcb1c){this[_0x3f7dcc(0x2bc)][_0x3f7dcc(0x200)](this[_0x3f7dcc(0x83a)]+'\x20('+this[_0x3f7dcc(0x238)][_0x3f7dcc(0x5df)]+'):\x20Conversa\x20está\x20expirada\x20-\x20voto');let _0x103eab={'number':_0x481a84[_0x3f7dcc(0x1f9)],'options':{'delay':0x0},'textMessage':{'text':_0x481a84[_0x3f7dcc(0x54c)]}};await this[_0x3f7dcc(0x791)](_0x103eab);let _0x4d6e7f={'status':'closed','waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository'][_0x3f7dcc(0x5d3)][_0x3f7dcc(0x4a8)](_0x481a84[_0x3f7dcc(0x664)],_0x4d6e7f,this[_0x3f7dcc(0x238)][_0x3f7dcc(0x5df)]),null;}return _0x481a84[_0x3f7dcc(0x73c)]=Date[_0x3f7dcc(0x301)](),_0x481a84['chatLog'][_0x3f7dcc(0x7a5)]=_0x5d99a5,_0x481a84;}else{this['logger'][_0x3f7dcc(0x200)](this[_0x3f7dcc(0x83a)]+'\x20('+this[_0x3f7dcc(0x238)]['wuid']+_0x3f7dcc(0x55c)+this['instance'][_0x3f7dcc(0x5df)]+_0x3f7dcc(0x6af)),this[_0x3f7dcc(0x2bc)][_0x3f7dcc(0x200)](this[_0x3f7dcc(0x83a)]+'\x20('+this[_0x3f7dcc(0x238)][_0x3f7dcc(0x5df)]+_0x3f7dcc(0x6dd));let _0x5f5563={'where':{'remoteJid':_0x34bd5e,'status':_0x3f7dcc(0x471)}};if(_0x481a84=await this[_0x3f7dcc(0x7f0)][_0x3f7dcc(0x5d3)][_0x3f7dcc(0x868)](_0x5f5563,this[_0x3f7dcc(0x238)][_0x3f7dcc(0x5df)]),!_0x481a84){let _0x5d23b7=await this['findFlow'](_0x34bd5e);if(_0x5d23b7&&(_0x481a84=await this[_0x3f7dcc(0x528)](_0x5d23b7,_0x5d99a5['key'],_0x5d99a5)),!_0x481a84)return null;}let _0x380f7e=Date[_0x3f7dcc(0x301)](),_0x5f55a8=_0x481a84?.[_0x3f7dcc(0x38f)]||0x0,_0x34f9fe=_0x380f7e-_0x5f55a8*0x3c*0x3e8;if(this['logger'][_0x3f7dcc(0x200)](this[_0x3f7dcc(0x83a)]+'\x20('+this[_0x3f7dcc(0x238)]['wuid']+_0x3f7dcc(0x759)+_0x380f7e+',\x20Minutes\x20to\x20Close:\x20'+_0x5f55a8+_0x3f7dcc(0x57b)+_0x34f9fe),this[_0x3f7dcc(0x2bc)][_0x3f7dcc(0x200)](this[_0x3f7dcc(0x83a)]+'\x20('+this[_0x3f7dcc(0x238)]['wuid']+_0x3f7dcc(0x1dc)),this['logger'][_0x3f7dcc(0x200)](this['instanceName']+'\x20('+this['instance'][_0x3f7dcc(0x5df)]+_0x3f7dcc(0x86e)+_0x481a84[_0x3f7dcc(0x73c)]),this['logger'][_0x3f7dcc(0x200)](this[_0x3f7dcc(0x83a)]+'\x20('+this[_0x3f7dcc(0x238)][_0x3f7dcc(0x5df)]+_0x3f7dcc(0x8b9)+_0x34f9fe),_0x481a84[_0x3f7dcc(0x73c)]<_0x34f9fe){this[_0x3f7dcc(0x2bc)][_0x3f7dcc(0x200)](this[_0x3f7dcc(0x83a)]+'\x20('+this[_0x3f7dcc(0x238)][_0x3f7dcc(0x5df)]+_0x3f7dcc(0x47d));let _0x3d252f=await this['findFlow'](_0x34bd5e);if(_0x3d252f===null)return null;_0x481a84&&await this[_0x3f7dcc(0x7f0)][_0x3f7dcc(0x5d3)][_0x3f7dcc(0x4a8)](_0x481a84[_0x3f7dcc(0x664)],{'status':_0x3f7dcc(0x552)},this[_0x3f7dcc(0x238)]['wuid']),_0x481a84=await this[_0x3f7dcc(0x528)](_0x3d252f,_0x5d99a5[_0x3f7dcc(0x5a3)],_0x5d99a5);}return _0x481a84[_0x3f7dcc(0x73c)]=_0x380f7e,_0x481a84[_0x3f7dcc(0x276)][_0x3f7dcc(0x7a5)]=_0x5d99a5,_0x481a84;}}catch(_0x14735a){return this[_0x3f7dcc(0x2bc)][_0x3f7dcc(0x82e)](this[_0x3f7dcc(0x83a)]+'\x20('+this[_0x3f7dcc(0x238)][_0x3f7dcc(0x5df)]+_0x3f7dcc(0x411)+(_0x14735a instanceof Error?_0x14735a[_0x3f7dcc(0x8d5)]:JSON[_0x3f7dcc(0x31d)](_0x14735a,null,0x2))),null;}}async[a0_0x420d4d(0x528)](_0x33da70,_0x53d050,_0x353bee){const _0x1e2df8=a0_0x420d4d;this[_0x1e2df8(0x2bc)][_0x1e2df8(0x200)](this[_0x1e2df8(0x83a)]+'\x20('+this[_0x1e2df8(0x238)][_0x1e2df8(0x5df)]+_0x1e2df8(0x7cc));try{let _0x2cfa72=require(_0x1e2df8(0x651))[_0x1e2df8(0x64f)],_0xbf1727=Date[_0x1e2df8(0x301)](),_0x257050='start',_0x5dbbc9=_0x53d050[_0x1e2df8(0x461)]?null:_0x353bee,_0x39146c=_0x53d050[_0x1e2df8(0x461)]?_0x353bee:null,_0x2f629b=_0x53d050[_0x1e2df8(0x1f9)];await this['closeExistingConversations'](_0x2f629b);let _0x33b70b={..._0x33da70,'chatLog':null},_0x2f5134=await this[_0x1e2df8(0x29e)](_0x33b70b['variables']),_0x31dec5=await this[_0x1e2df8(0x6ea)](_0x2f629b),_0x13e7ca={..._0x2f5134,..._0x31dec5,'_remoteJid':_0x2f629b},_0x2bff1b={'lastReceivedMessage':_0x5dbbc9,'lastSendMessage':_0x39146c,'lastBlockId':_0x257050,'lastCondition':!0x0,'realVariables':_0x13e7ca};_0x33b70b[_0x1e2df8(0x276)]=_0x2bff1b,delete _0x33b70b[_0x1e2df8(0x664)],_0x33b70b[_0x1e2df8(0x664)]=new _0x2cfa72(),_0x33b70b[_0x1e2df8(0x73c)]=_0xbf1727,_0x33b70b[_0x1e2df8(0x69e)]=_0x1e2df8(0x471),_0x33b70b[_0x1e2df8(0x1f9)]=_0x2f629b;let _0x2ee87b=await this[_0x1e2df8(0x7f0)][_0x1e2df8(0x5d3)][_0x1e2df8(0x4a8)](_0x33b70b[_0x1e2df8(0x664)],_0x33b70b,this[_0x1e2df8(0x238)][_0x1e2df8(0x5df)]);return this[_0x1e2df8(0x2bc)][_0x1e2df8(0x200)](this['instanceName']+'\x20('+this['instance'][_0x1e2df8(0x5df)]+_0x1e2df8(0x8a6)),_0x2ee87b?_0x33b70b:null;}catch(_0x118407){return this['logger'][_0x1e2df8(0x82e)](this[_0x1e2df8(0x83a)]+'\x20('+this[_0x1e2df8(0x238)][_0x1e2df8(0x5df)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x118407 instanceof Error?_0x118407[_0x1e2df8(0x8d5)]:JSON['stringify'](_0x118407,null,0x2))),_0x118407;}}async['uazapiSendText'](_0x488592,_0x1db98f){const _0x2d18db=a0_0x420d4d;let _0x308d9d=_0x488592[_0x2d18db(0x1f9)];_0x1db98f[_0x2d18db(0x87e)][_0x2d18db(0x1f9)]&&_0x1db98f[_0x2d18db(0x87e)][_0x2d18db(0x1f9)][_0x2d18db(0x7c0)]()!==''&&(_0x308d9d=_0x1db98f[_0x2d18db(0x87e)][_0x2d18db(0x1f9)][_0x2d18db(0x7c0)]()),this[_0x2d18db(0x2bc)][_0x2d18db(0x200)](this[_0x2d18db(0x83a)]+'\x20('+this[_0x2d18db(0x238)][_0x2d18db(0x5df)]+_0x2d18db(0x700));let _0x2938ac={'number':_0x308d9d,'options':{'delay':_0x1db98f['uazapi'][_0x2d18db(0x527)],'linkPreview':_0x1db98f[_0x2d18db(0x87e)][_0x2d18db(0x5ee)]},'textMessage':{'text':_0x1db98f[_0x2d18db(0x87e)][_0x2d18db(0x426)]}};try{let _0xd33c8b=await this[_0x2d18db(0x791)](_0x2938ac);if(_0xd33c8b){let _0x4ad81e={'_id':_0xd33c8b[_0x2d18db(0x5a3)]['id'],'_fromMe':_0xd33c8b[_0x2d18db(0x5a3)][_0x2d18db(0x461)],'_remoteJid':_0xd33c8b[_0x2d18db(0x5a3)][_0x2d18db(0x1f9)]},_0x248669=(0x0,f['normalizeMessageContent'])(_0xd33c8b[_0x2d18db(0x8d5)]),_0x406af1=(0x0,f[_0x2d18db(0x312)])(_0x248669);_0x488592[_0x2d18db(0x276)][_0x2d18db(0x607)]=_0x1db98f[_0x2d18db(0x664)]['toString']();let {message_normalized:_0x319248}=this[_0x2d18db(0x3b3)](_0x248669,_0x406af1,null);_0x488592[_0x2d18db(0x276)][_0x2d18db(0x825)]=await _0x319248;let _0xb631c5={'messageId':_0xd33c8b[_0x2d18db(0x5a3)]['id']},_0x434eef=_0x488592[_0x2d18db(0x276)][_0x2d18db(0x1ea)];Object['assign'](_0x434eef,_0x4ad81e),_0x488592['chatLog'][_0x2d18db(0x1ea)]=_0x434eef,this[_0x2d18db(0x2c6)](_0x488592,_0x1db98f,_0xb631c5);}else{let _0x50c444={'error':!0x0};this[_0x2d18db(0x2c6)](_0x488592,_0x1db98f,_0x50c444),this[_0x2d18db(0x2bc)][_0x2d18db(0x82e)](this[_0x2d18db(0x83a)]+'\x20('+this[_0x2d18db(0x238)][_0x2d18db(0x5df)]+_0x2d18db(0x25b));}}catch(_0x29a81e){let _0x19f02d={'error':!0x0,'errorLog':_0x29a81e[_0x2d18db(0x5d4)]()};this[_0x2d18db(0x2c6)](_0x488592,_0x1db98f,_0x19f02d),this[_0x2d18db(0x2bc)][_0x2d18db(0x82e)](this[_0x2d18db(0x83a)]+'\x20('+this[_0x2d18db(0x238)][_0x2d18db(0x5df)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x29a81e instanceof Error?_0x29a81e[_0x2d18db(0x8d5)]:JSON[_0x2d18db(0x31d)](_0x29a81e,null,0x2)));}}async['uazapiSendMedia'](_0x12266e,_0xe9f39c){const _0x5f1072=a0_0x420d4d;let _0x4b91a8=_0x12266e[_0x5f1072(0x1f9)];_0xe9f39c[_0x5f1072(0x87e)]['remoteJid']&&_0xe9f39c[_0x5f1072(0x87e)][_0x5f1072(0x1f9)][_0x5f1072(0x7c0)]()!==''&&(_0x4b91a8=_0xe9f39c['uazapi']['remoteJid']['trim']()),this[_0x5f1072(0x2bc)][_0x5f1072(0x200)](this[_0x5f1072(0x83a)]+'\x20('+this[_0x5f1072(0x238)][_0x5f1072(0x5df)]+_0x5f1072(0x213));let _0x545a32={'number':_0x4b91a8,'options':{'delay':_0xe9f39c[_0x5f1072(0x87e)][_0x5f1072(0x527)],'linkPreview':_0xe9f39c[_0x5f1072(0x87e)][_0x5f1072(0x5ee)]},'mediaMessage':{'mediatype':_0xe9f39c['uazapi']['mediatype'],'caption':_0xe9f39c['uazapi'][_0x5f1072(0x84d)],'media':_0xe9f39c[_0x5f1072(0x87e)][_0x5f1072(0x496)],'fileName':_0xe9f39c['uazapi'][_0x5f1072(0x2f3)]}};try{let _0x168f10=await this['mediaMessage'](_0x545a32);if(_0x168f10){let _0x501474={'_id':_0x168f10[_0x5f1072(0x5a3)]['id'],'_fromMe':_0x168f10[_0x5f1072(0x5a3)][_0x5f1072(0x461)],'_remoteJid':_0x168f10[_0x5f1072(0x5a3)][_0x5f1072(0x1f9)]},_0x3a1913=(0x0,f[_0x5f1072(0x295)])(_0x168f10[_0x5f1072(0x8d5)]),_0x391c79=(0x0,f[_0x5f1072(0x312)])(_0x3a1913);_0x12266e[_0x5f1072(0x276)][_0x5f1072(0x607)]=_0xe9f39c[_0x5f1072(0x664)]['toString']();let {message_normalized:_0x1c18bc}=this[_0x5f1072(0x3b3)](_0x3a1913,_0x391c79,null);_0x12266e[_0x5f1072(0x276)][_0x5f1072(0x825)]=await _0x1c18bc;let _0x532ed3={'messageId':_0x168f10['key']['id']},_0x538388=_0x12266e[_0x5f1072(0x276)][_0x5f1072(0x1ea)];Object[_0x5f1072(0x65f)](_0x538388,_0x501474),_0x12266e['chatLog'][_0x5f1072(0x1ea)]=_0x538388,this[_0x5f1072(0x2c6)](_0x12266e,_0xe9f39c,_0x532ed3);}else{let _0x42a976={'error':!0x0};this['updateConversation'](_0x12266e,_0xe9f39c,_0x42a976),this[_0x5f1072(0x2bc)][_0x5f1072(0x82e)](this[_0x5f1072(0x83a)]+'\x20('+this[_0x5f1072(0x238)][_0x5f1072(0x5df)]+_0x5f1072(0x796));}}catch(_0x479086){let _0x2e3e45={'error':!0x0,'errorLog':_0x479086[_0x5f1072(0x5d4)]()};this[_0x5f1072(0x2c6)](_0x12266e,_0xe9f39c,_0x2e3e45),this[_0x5f1072(0x2bc)][_0x5f1072(0x82e)](this['instanceName']+'\x20('+this[_0x5f1072(0x238)][_0x5f1072(0x5df)]+_0x5f1072(0x7b1)+(_0x479086 instanceof Error?_0x479086[_0x5f1072(0x8d5)]:JSON[_0x5f1072(0x31d)](_0x479086,null,0x2)));}}async[a0_0x420d4d(0x854)](_0x3c4278,_0x348b86){const _0x3ecce0=a0_0x420d4d;let _0x12e377=_0x3c4278[_0x3ecce0(0x1f9)];_0x348b86['uazapi'][_0x3ecce0(0x1f9)]&&_0x348b86[_0x3ecce0(0x87e)][_0x3ecce0(0x1f9)]['trim']()!==''&&(_0x12e377=_0x348b86[_0x3ecce0(0x87e)][_0x3ecce0(0x1f9)][_0x3ecce0(0x7c0)]()),this[_0x3ecce0(0x2bc)][_0x3ecce0(0x200)](this[_0x3ecce0(0x83a)]+'\x20('+this[_0x3ecce0(0x238)][_0x3ecce0(0x5df)]+_0x3ecce0(0x506));let _0x6bcb6e={'number':_0x12e377,'options':{'delay':_0x348b86[_0x3ecce0(0x87e)][_0x3ecce0(0x527)]},'locationMessage':{'name':_0x348b86[_0x3ecce0(0x87e)][_0x3ecce0(0x325)],'address':_0x348b86[_0x3ecce0(0x87e)][_0x3ecce0(0x2c4)],'latitude':_0x348b86[_0x3ecce0(0x87e)][_0x3ecce0(0x473)],'longitude':_0x348b86[_0x3ecce0(0x87e)][_0x3ecce0(0x5e1)]}};try{let _0x1ac0ff=await this[_0x3ecce0(0x237)](_0x6bcb6e);if(_0x1ac0ff){let _0x9e3f32={'_id':_0x1ac0ff[_0x3ecce0(0x5a3)]['id'],'_fromMe':_0x1ac0ff[_0x3ecce0(0x5a3)]['fromMe'],'_remoteJid':_0x1ac0ff[_0x3ecce0(0x5a3)][_0x3ecce0(0x1f9)]},_0x55f2f4=(0x0,f[_0x3ecce0(0x295)])(_0x1ac0ff[_0x3ecce0(0x8d5)]),_0x5cd756=(0x0,f[_0x3ecce0(0x312)])(_0x55f2f4);_0x3c4278[_0x3ecce0(0x276)]['lastBlockId']=_0x348b86[_0x3ecce0(0x664)][_0x3ecce0(0x5d4)]();let {message_normalized:_0x58531e}=this['normalizeMessage'](_0x55f2f4,_0x5cd756,null);_0x3c4278['chatLog'][_0x3ecce0(0x825)]=await _0x58531e;let _0x5537b7={'messageId':_0x1ac0ff[_0x3ecce0(0x5a3)]['id']},_0x293f59=_0x3c4278[_0x3ecce0(0x276)][_0x3ecce0(0x1ea)];Object[_0x3ecce0(0x65f)](_0x293f59,_0x9e3f32),_0x3c4278[_0x3ecce0(0x276)][_0x3ecce0(0x1ea)]=_0x293f59,this['updateConversation'](_0x3c4278,_0x348b86,_0x5537b7);}else{let _0x1f13b6={'error':!0x0};this[_0x3ecce0(0x2c6)](_0x3c4278,_0x348b86,_0x1f13b6),this[_0x3ecce0(0x2bc)][_0x3ecce0(0x82e)](this[_0x3ecce0(0x83a)]+'\x20('+this[_0x3ecce0(0x238)][_0x3ecce0(0x5df)]+_0x3ecce0(0x1ed));}}catch(_0x444f57){let _0x4332b1={'error':!0x0,'errorLog':_0x444f57['toString']()};this[_0x3ecce0(0x2c6)](_0x3c4278,_0x348b86,_0x4332b1),this[_0x3ecce0(0x2bc)][_0x3ecce0(0x82e)](this[_0x3ecce0(0x83a)]+'\x20('+this[_0x3ecce0(0x238)][_0x3ecce0(0x5df)]+_0x3ecce0(0x887)+(_0x444f57 instanceof Error?_0x444f57[_0x3ecce0(0x8d5)]:JSON[_0x3ecce0(0x31d)](_0x444f57,null,0x2)));}}async[a0_0x420d4d(0x350)](_0x3fcd3e,_0x358a8b){const _0x289933=a0_0x420d4d;let _0x48db55=_0x3fcd3e['remoteJid'];_0x358a8b[_0x289933(0x87e)]['remoteJid']&&_0x358a8b[_0x289933(0x87e)][_0x289933(0x1f9)]['trim']()!==''&&(_0x48db55=_0x358a8b['uazapi']['remoteJid'][_0x289933(0x7c0)]()),this[_0x289933(0x2bc)]['verbose'](this[_0x289933(0x83a)]+'\x20('+this[_0x289933(0x238)][_0x289933(0x5df)]+_0x289933(0x248));let _0x315746={'number':_0x48db55,'options':{'delay':_0x358a8b[_0x289933(0x87e)]['delay']},'audioMessage':{'audio':_0x358a8b[_0x289933(0x87e)]['audio']}};try{let _0x3f49ce=await this[_0x289933(0x495)](_0x315746);if(_0x3f49ce){let _0x5a1749={'_id':_0x3f49ce[_0x289933(0x5a3)]['id'],'_fromMe':_0x3f49ce['key'][_0x289933(0x461)],'_remoteJid':_0x3f49ce[_0x289933(0x5a3)][_0x289933(0x1f9)]},_0x19ba9c=(0x0,f[_0x289933(0x295)])(_0x3f49ce[_0x289933(0x8d5)]),_0x174d41=(0x0,f['getContentType'])(_0x19ba9c);_0x3fcd3e['chatLog']['lastBlockId']=_0x358a8b[_0x289933(0x664)][_0x289933(0x5d4)]();let {message_normalized:_0x520a3f}=this['normalizeMessage'](_0x19ba9c,_0x174d41,null);_0x3fcd3e['chatLog'][_0x289933(0x825)]=await _0x520a3f;let _0x3d8d14={'messageId':_0x3f49ce[_0x289933(0x5a3)]['id']},_0x1ffbdd=_0x3fcd3e[_0x289933(0x276)][_0x289933(0x1ea)];Object[_0x289933(0x65f)](_0x1ffbdd,_0x5a1749),_0x3fcd3e[_0x289933(0x276)][_0x289933(0x1ea)]=_0x1ffbdd,this[_0x289933(0x2c6)](_0x3fcd3e,_0x358a8b,_0x3d8d14);}else{let _0x440ee4={'error':!0x0};this['updateConversation'](_0x3fcd3e,_0x358a8b,_0x440ee4),this[_0x289933(0x2bc)]['error'](this[_0x289933(0x83a)]+'\x20('+this['instance'][_0x289933(0x5df)]+_0x289933(0x2cd));}}catch(_0x582089){let _0xc77608={'error':!0x0,'errorLog':_0x582089['toString']()};this['updateConversation'](_0x3fcd3e,_0x358a8b,_0xc77608),this[_0x289933(0x2bc)]['error'](this[_0x289933(0x83a)]+'\x20('+this[_0x289933(0x238)][_0x289933(0x5df)]+_0x289933(0x4ed)+(_0x582089 instanceof Error?_0x582089[_0x289933(0x8d5)]:JSON[_0x289933(0x31d)](_0x582089,null,0x2)));}}async[a0_0x420d4d(0x2c9)](_0x33c405,_0x3476d8){const _0x5c8788=a0_0x420d4d;let _0x2107a8=_0x33c405['remoteJid'];_0x3476d8[_0x5c8788(0x87e)][_0x5c8788(0x1f9)]&&_0x3476d8[_0x5c8788(0x87e)][_0x5c8788(0x1f9)][_0x5c8788(0x7c0)]()!==''&&(_0x2107a8=_0x3476d8['uazapi'][_0x5c8788(0x1f9)][_0x5c8788(0x7c0)]()),this['logger'][_0x5c8788(0x200)](this['instanceName']+'\x20('+this[_0x5c8788(0x238)]['wuid']+_0x5c8788(0x2ab));let _0x9b439d={'number':_0x2107a8,'options':{'delay':_0x3476d8[_0x5c8788(0x87e)][_0x5c8788(0x527)]},'contactMessage':[{'fullName':_0x3476d8['uazapi'][_0x5c8788(0x22d)],'phoneNumber':_0x3476d8[_0x5c8788(0x87e)][_0x5c8788(0x40b)]}]};try{let _0x257082=await this[_0x5c8788(0x428)](_0x9b439d);if(_0x257082){let _0xfd5388={'_id':_0x257082['key']['id'],'_fromMe':_0x257082[_0x5c8788(0x5a3)][_0x5c8788(0x461)],'_remoteJid':_0x257082[_0x5c8788(0x5a3)]['remoteJid']},_0x102524=(0x0,f['normalizeMessageContent'])(_0x257082[_0x5c8788(0x8d5)]),_0x364ffa=(0x0,f['getContentType'])(_0x102524);_0x33c405[_0x5c8788(0x276)][_0x5c8788(0x607)]=_0x3476d8[_0x5c8788(0x664)][_0x5c8788(0x5d4)]();let {message_normalized:_0x3ed3cc}=this[_0x5c8788(0x3b3)](_0x102524,_0x364ffa,null);_0x33c405[_0x5c8788(0x276)]['lastSendMessage']=await _0x3ed3cc;let _0x17897d={'messageId':_0x257082[_0x5c8788(0x5a3)]['id']},_0x1d137b=_0x33c405[_0x5c8788(0x276)][_0x5c8788(0x1ea)];Object[_0x5c8788(0x65f)](_0x1d137b,_0xfd5388),_0x33c405['chatLog'][_0x5c8788(0x1ea)]=_0x1d137b,this[_0x5c8788(0x2c6)](_0x33c405,_0x3476d8,_0x17897d);}else{let _0x251ffb={'error':!0x0};this['updateConversation'](_0x33c405,_0x3476d8,_0x251ffb),this[_0x5c8788(0x2bc)][_0x5c8788(0x82e)](this[_0x5c8788(0x83a)]+'\x20('+this[_0x5c8788(0x238)][_0x5c8788(0x5df)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x1b3f29){let _0x24881c={'error':!0x0,'errorLog':_0x1b3f29[_0x5c8788(0x5d4)]()};this[_0x5c8788(0x2c6)](_0x33c405,_0x3476d8,_0x24881c),this[_0x5c8788(0x2bc)][_0x5c8788(0x82e)](this['instanceName']+'\x20('+this[_0x5c8788(0x238)][_0x5c8788(0x5df)]+_0x5c8788(0x2a2)+(_0x1b3f29 instanceof Error?_0x1b3f29[_0x5c8788(0x8d5)]:JSON[_0x5c8788(0x31d)](_0x1b3f29,null,0x2)));}}[a0_0x420d4d(0x580)](_0x2fe65d,_0xd26cd8){const _0x46325a=a0_0x420d4d;for(let _0x3ee877 of _0x2fe65d)_0x3ee877['option']&&(_0x3ee877['option']=this[_0x46325a(0x3c1)](_0x3ee877[_0x46325a(0x6fe)],_0xd26cd8)),_0x3ee877['optionDescription']&&(_0x3ee877[_0x46325a(0x3ad)]=this[_0x46325a(0x3c1)](_0x3ee877[_0x46325a(0x3ad)],_0xd26cd8));}async[a0_0x420d4d(0x1f8)](_0x28e855,_0x47f726){const _0x4d5668=a0_0x420d4d;let _0xf7190f=_0x28e855[_0x4d5668(0x1f9)];_0x47f726['uazapi'][_0x4d5668(0x1f9)]&&_0x47f726['uazapi']['remoteJid'][_0x4d5668(0x7c0)]()!==''&&(_0xf7190f=_0x47f726[_0x4d5668(0x87e)][_0x4d5668(0x1f9)][_0x4d5668(0x7c0)]()),this['logger']['verbose'](this[_0x4d5668(0x83a)]+'\x20('+this[_0x4d5668(0x238)][_0x4d5668(0x5df)]+'):\x20Enviando\x20enquete');let _0x5e60a9=_0x28e855[_0x4d5668(0x5ce)][_0x4d5668(0x6cb)](_0x2ae187=>_0x2ae187[_0x4d5668(0x661)]===_0x47f726[_0x4d5668(0x664)])[_0x4d5668(0x209)]((_0x2b3a57,_0x270049)=>_0x2b3a57[_0x4d5668(0x857)]-_0x270049[_0x4d5668(0x857)]);this[_0x4d5668(0x580)](_0x5e60a9,_0x28e855['chatLog'][_0x4d5668(0x1ea)]);let _0x3a6a67=_0x5e60a9[_0x4d5668(0x28d)](_0x43a572=>_0x43a572[_0x4d5668(0x6fe)]),_0x321188={'number':_0xf7190f,'menuMessage':{'type':_0x47f726['uazapi']['menuType']||_0x4d5668(0x7b9),'text':_0x47f726[_0x4d5668(0x87e)][_0x4d5668(0x426)]||_0x47f726[_0x4d5668(0x87e)][_0x4d5668(0x325)],'footerText':_0x47f726[_0x4d5668(0x87e)][_0x4d5668(0x85b)],'buttonText':_0x47f726[_0x4d5668(0x87e)][_0x4d5668(0x33f)],'selectableCount':0x1,'choices':_0x3a6a67},'options':{'delay':_0x47f726[_0x4d5668(0x87e)][_0x4d5668(0x527)]}};try{let _0x2e236c=await this[_0x4d5668(0x4f5)](_0x321188);if(_0x2e236c){let _0x5dd928={'_id':_0x2e236c['key']['id'],'_fromMe':_0x2e236c[_0x4d5668(0x5a3)][_0x4d5668(0x461)],'_remoteJid':_0x2e236c[_0x4d5668(0x5a3)][_0x4d5668(0x1f9)]};_0x47f726['uazapi'][_0x4d5668(0x440)]===!0x0&&(_0x28e855[_0x4d5668(0x69e)]='waitingForReplyMenu',this['logger']['verbose'](this[_0x4d5668(0x83a)]+'\x20('+this[_0x4d5668(0x238)][_0x4d5668(0x5df)]+'):\x20conversation.status:\x20'+_0x28e855[_0x4d5668(0x69e)])),this['logger'][_0x4d5668(0x200)](this[_0x4d5668(0x83a)]+'\x20('+this[_0x4d5668(0x238)][_0x4d5668(0x5df)]+_0x4d5668(0x282)+(_0x47f726[_0x4d5668(0x87e)][_0x4d5668(0x325)]||_0x47f726[_0x4d5668(0x87e)]['text'])),_0x28e855[_0x4d5668(0x37e)]=_0x2e236c[_0x4d5668(0x5a3)]['id'],_0x28e855['waitingMenu_text']=_0x47f726[_0x4d5668(0x87e)]['name']||_0x47f726[_0x4d5668(0x87e)][_0x4d5668(0x426)],_0x28e855['waitingMenu_replyOptions']=_0x5e60a9,_0x47f726[_0x4d5668(0x87e)][_0x4d5668(0x5cf)]&&(_0x28e855['waitingMenu_ExpiredMessage']=_0x47f726['uazapi'][_0x4d5668(0x5cf)]),this['logger']['verbose'](this[_0x4d5668(0x83a)]+'\x20('+this[_0x4d5668(0x238)][_0x4d5668(0x5df)]+_0x4d5668(0x25c)+_0x28e855['waitingMenu_text']);let _0x451f12=(0x0,f[_0x4d5668(0x295)])(_0x2e236c[_0x4d5668(0x8d5)]),_0x579d91=(0x0,f[_0x4d5668(0x312)])(_0x451f12);_0x28e855[_0x4d5668(0x276)]['lastBlockId']=_0x47f726[_0x4d5668(0x664)][_0x4d5668(0x5d4)]();let {message_normalized:_0x236660}=this[_0x4d5668(0x3b3)](_0x451f12,_0x579d91,null);_0x28e855[_0x4d5668(0x276)]['lastSendMessage']=await _0x236660;let _0x1f835f={'messageId':_0x2e236c[_0x4d5668(0x5a3)]['id']},_0x175bb9=_0x28e855[_0x4d5668(0x276)][_0x4d5668(0x1ea)];Object['assign'](_0x175bb9,_0x5dd928),_0x28e855[_0x4d5668(0x276)]['realVariables']=_0x175bb9,this[_0x4d5668(0x2c6)](_0x28e855,_0x47f726,_0x1f835f);}else{let _0xa66951={'error':!0x0};this[_0x4d5668(0x2c6)](_0x28e855,_0x47f726,_0xa66951),this[_0x4d5668(0x2bc)][_0x4d5668(0x82e)](this['instanceName']+'\x20('+this['instance'][_0x4d5668(0x5df)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.');}}catch(_0x33a51c){let _0x5ea5cd={'error':!0x0,'errorLog':_0x33a51c instanceof Error?_0x33a51c[_0x4d5668(0x8d5)]:JSON['stringify'](_0x33a51c,null,0x2)};this['updateConversation'](_0x28e855,_0x47f726,_0x5ea5cd),this[_0x4d5668(0x2bc)][_0x4d5668(0x82e)](this[_0x4d5668(0x83a)]+'\x20('+this[_0x4d5668(0x238)][_0x4d5668(0x5df)]+_0x4d5668(0x494)+(_0x33a51c instanceof Error?_0x33a51c['message']:JSON[_0x4d5668(0x31d)](_0x33a51c,null,0x2)));}}async[a0_0x420d4d(0x358)](_0x5358a2,_0x100b03){const _0x4ed0ac=a0_0x420d4d;this['logger'][_0x4ed0ac(0x200)](this[_0x4ed0ac(0x83a)]+'\x20('+this[_0x4ed0ac(0x238)]['wuid']+_0x4ed0ac(0x2b9));let _0x2f3da3=_0x5358a2[_0x4ed0ac(0x276)][_0x4ed0ac(0x67f)][_0x4ed0ac(0x561)](_0x18b2d1=>_0x18b2d1['blockId']['toString']()===_0x100b03['uazapi'][_0x4ed0ac(0x661)][_0x4ed0ac(0x5d4)]()),_0x355de8={'id':_0x2f3da3['messageId'],'remoteJid':_0x2f3da3[_0x4ed0ac(0x1f9)],'fromMe':_0x2f3da3[_0x4ed0ac(0x461)]};try{let _0x215d3c=await this['deleteMessage'](_0x355de8);if(_0x215d3c){let _0x4e04cc=(0x0,f[_0x4ed0ac(0x295)])(_0x215d3c[_0x4ed0ac(0x8d5)]),_0x3d9321=(0x0,f['getContentType'])(_0x4e04cc);_0x5358a2[_0x4ed0ac(0x276)]['lastBlockId']=_0x100b03[_0x4ed0ac(0x664)][_0x4ed0ac(0x5d4)]();let {message_normalized:_0x1652d2}=this[_0x4ed0ac(0x3b3)](_0x4e04cc,_0x3d9321,null);_0x5358a2[_0x4ed0ac(0x276)][_0x4ed0ac(0x825)]=await _0x1652d2;let _0x16e06b={};this[_0x4ed0ac(0x2c6)](_0x5358a2,_0x100b03,_0x16e06b);}else{let _0x4645cd={'error':!0x0};this[_0x4ed0ac(0x2c6)](_0x5358a2,_0x100b03,_0x4645cd),this['logger']['error'](this[_0x4ed0ac(0x83a)]+'\x20('+this['instance'][_0x4ed0ac(0x5df)]+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x192b0e){let _0x1479e3={'error':!0x0,'errorLog':_0x192b0e instanceof Error?_0x192b0e['message']:JSON[_0x4ed0ac(0x31d)](_0x192b0e,null,0x2)};this[_0x4ed0ac(0x2c6)](_0x5358a2,_0x100b03,_0x1479e3),this[_0x4ed0ac(0x2bc)][_0x4ed0ac(0x82e)](this['instanceName']+'\x20('+this[_0x4ed0ac(0x238)]['wuid']+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x192b0e instanceof Error?_0x192b0e[_0x4ed0ac(0x8d5)]:JSON[_0x4ed0ac(0x31d)](_0x192b0e,null,0x2)));}}async[a0_0x420d4d(0x7be)](_0x478b67,_0x2e3fbf){const _0x40dc58=a0_0x420d4d;if(!_0x478b67[_0x40dc58(0x325)])throw new m(_0x40dc58(0x61e));let _0x51e4e8=_0x478b67?.['global']?.[_0x40dc58(0x7c0)]()===_0x40dc58(0x405)?_0x40dc58(0x3b0):this[_0x40dc58(0x238)][_0x40dc58(0x5df)],_0x237257=await this['repository'][_0x40dc58(0x76b)][_0x40dc58(0x868)]({'where':{'name':_0x478b67[_0x40dc58(0x325)]}},_0x51e4e8);if(_0x2e3fbf!==ee&&_0x478b67?.[_0x40dc58(0x3b0)]===_0x40dc58(0x405))throw new m(_0x40dc58(0x4b8));if(_0x478b67?.['global']!==_0x40dc58(0x405)&&(_0x478b67[_0x40dc58(0x3b0)]=_0x40dc58(0x789)),_0x237257)throw new m('Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome');return _0x40dc58(0x325)in _0x478b67&&'sharePass'in _0x478b67&&_0x40dc58(0x89c)in _0x478b67?this['createSharedFlow'](_0x478b67[_0x40dc58(0x89c)],_0x478b67[_0x40dc58(0x71a)],_0x478b67[_0x40dc58(0x325)]):this[_0x40dc58(0x2dc)](_0x478b67);}async[a0_0x420d4d(0x39c)](_0x52d907,_0x16dd4a,_0x102f04){const _0x3cdad5=a0_0x420d4d;try{this[_0x3cdad5(0x2bc)]['verbose'](this['instanceName']+'\x20('+this[_0x3cdad5(0x238)][_0x3cdad5(0x5df)]+_0x3cdad5(0x31c));let _0x36a827=await this[_0x3cdad5(0x7f0)]['flow'][_0x3cdad5(0x868)]({'where':{'sharePass':_0x16dd4a}},_0x52d907);if(!_0x36a827)throw new m(_0x3cdad5(0x5be));let _0x320b2d={..._0x36a827},_0x5d2505=_0x36a827[_0x3cdad5(0x3b0)]==='true'?_0x3cdad5(0x3b0):_0x36a827[_0x3cdad5(0x89c)];return(_0x52d907===_0x3cdad5(0x3b0)||_0x36a827['global']===_0x3cdad5(0x405))&&(_0x320b2d['global']=_0x3cdad5(0x7d0),_0x320b2d[_0x3cdad5(0x89c)]=_0x3cdad5(0x3b0)),_0x320b2d[_0x3cdad5(0x3fa)]=Array[_0x3cdad5(0x4ea)](new Set([..._0x36a827['shareOwners']||[],_0x5d2505,this['instance'][_0x3cdad5(0x5df)]])),_0x36a827[_0x3cdad5(0x3fa)]=_0x320b2d[_0x3cdad5(0x3fa)],await this['repository'][_0x3cdad5(0x76b)][_0x3cdad5(0x4a8)](_0x36a827[_0x3cdad5(0x664)],{'shareOwners':_0x36a827[_0x3cdad5(0x3fa)]},_0x5d2505),_0x36a827[_0x3cdad5(0x7f3)]===!0x0&&await this[_0x3cdad5(0x7f0)][_0x3cdad5(0x76b)][_0x3cdad5(0x6a3)]({},{'default':!0x1},this[_0x3cdad5(0x238)][_0x3cdad5(0x5df)]),_0x320b2d[_0x3cdad5(0x89c)]=this[_0x3cdad5(0x238)][_0x3cdad5(0x5df)],await this[_0x3cdad5(0x7f0)][_0x3cdad5(0x76b)]['createAndSave'](_0x320b2d,this[_0x3cdad5(0x238)][_0x3cdad5(0x5df)]);}catch(_0x3b2923){let _0x3a7189=_0x3cdad5(0x7fd),_0x2b1b35=_0x3b2923 instanceof Error?_0x3b2923[_0x3cdad5(0x8d5)]:typeof _0x3b2923==_0x3cdad5(0x86d)?JSON[_0x3cdad5(0x31d)](_0x3b2923):_0x3b2923,_0x1101b1=_0x3a7189+':\x20'+_0x2b1b35;throw this['logger'][_0x3cdad5(0x82e)](this[_0x3cdad5(0x83a)]+'\x20('+this[_0x3cdad5(0x238)][_0x3cdad5(0x5df)]+'):\x20'+_0x1101b1),new m(_0x1101b1);}}async[a0_0x420d4d(0x2dc)](_0x40e6cb){const _0x2eff84=a0_0x420d4d;try{this[_0x2eff84(0x2bc)][_0x2eff84(0x200)](this[_0x2eff84(0x83a)]+'\x20('+this[_0x2eff84(0x238)]['wuid']+_0x2eff84(0x815));let _0x293d95=_0x40e6cb?.[_0x2eff84(0x3b0)]===_0x2eff84(0x405)?_0x2eff84(0x3b0):this[_0x2eff84(0x238)][_0x2eff84(0x5df)];delete _0x40e6cb['shareOwners'],delete _0x40e6cb[_0x2eff84(0x71a)],delete _0x40e6cb[_0x2eff84(0x89c)],_0x40e6cb['default']===!0x0&&await this[_0x2eff84(0x7f0)][_0x2eff84(0x76b)][_0x2eff84(0x6a3)]({},{'default':!0x1},this['instance']['wuid']);let _0x4fb22a=new re[(_0x2eff84(0x665))][(_0x2eff84(0x64f))](),_0x32af90={'_id':_0x4fb22a,'default':!0x0,'title':_0x2eff84(0x750),'x':0x0,'y':0x0},_0x184389={'_id':new re[(_0x2eff84(0x665))]['ObjectId'](),'order':0x1,'groupId':_0x4fb22a[_0x2eff84(0x5d4)](),'type':'start'},_0x54545f={'_id':new re[(_0x2eff84(0x665))][(_0x2eff84(0x64f))](),'owner':this['instance'][_0x2eff84(0x5df)],'name':_0x40e6cb[_0x2eff84(0x325)],'groups':[_0x32af90],'blocks':[_0x184389],..._0x40e6cb};return await this['repository']['flow']['createAndSave'](_0x54545f,_0x293d95);}catch(_0x258a6f){let _0x46c8e3='Erro\x20ao\x20criar\x20fluxo\x20regular',_0xeb5781=_0x258a6f instanceof Error?_0x258a6f['message']:typeof _0x258a6f==_0x2eff84(0x86d)?JSON[_0x2eff84(0x31d)](_0x258a6f):_0x258a6f,_0xd39d85=_0x46c8e3+':\x20'+_0xeb5781;throw this[_0x2eff84(0x2bc)]['error'](this[_0x2eff84(0x83a)]+'\x20('+this[_0x2eff84(0x238)]['wuid']+_0x2eff84(0x55c)+_0xd39d85),new m(_0xd39d85);}}async[a0_0x420d4d(0x455)](_0x47f4cc,_0x294942){const _0x561659=a0_0x420d4d;this[_0x561659(0x2bc)][_0x561659(0x536)](_0x561659(0x44a));try{let _0x1819de=await this[_0x561659(0x7f0)]['flow'][_0x561659(0x868)]({'where':{'_id':_0x47f4cc}},_0x294942);if(delete _0x1819de[_0x561659(0x7f3)],delete _0x1819de['startCommandWord'],delete _0x1819de['testingWith'],delete _0x1819de['minutesToClose'],delete _0x1819de[_0x561659(0x85d)],_0x1819de[_0x561659(0x3b0)]===_0x561659(0x405)&&(_0x1819de[_0x561659(0x3b0)]=_0x561659(0x7d0)),_0x1819de&&_0x1819de[_0x561659(0x3fa)]){for(let _0x41ca58 of _0x1819de[_0x561659(0x3fa)])if(_0x41ca58!==_0x294942){let _0x4d21d9={..._0x1819de,'owner':_0x41ca58};await this[_0x561659(0x7f0)][_0x561659(0x76b)][_0x561659(0x26d)](_0x1819de[_0x561659(0x664)],_0x4d21d9,_0x41ca58);}}}catch(_0x2a32f9){this[_0x561659(0x2bc)]['error'](_0x561659(0x3f4)+_0x2a32f9);}}async[a0_0x420d4d(0x842)](_0x58f816,_0x4d6bf7){const _0x4be226=a0_0x420d4d;try{this[_0x4be226(0x2bc)]['verbose'](this[_0x4be226(0x83a)]+'\x20('+this[_0x4be226(0x238)][_0x4be226(0x5df)]+'):\x20\x27Deletando\x20fluxo,\x20name:\x20'+_0x58f816[_0x4be226(0x325)]+',\x20global:\x20'+_0x58f816[_0x4be226(0x3b0)]);let _0x2feb34=_0x58f816[_0x4be226(0x3b0)]===_0x4be226(0x405)?_0x4be226(0x3b0):this[_0x4be226(0x238)]['wuid'],_0x34f23f=await this[_0x4be226(0x7f0)][_0x4be226(0x76b)][_0x4be226(0x868)]({'where':{'name':_0x58f816[_0x4be226(0x325)]}},_0x2feb34);if(!_0x34f23f)throw new m(_0x4be226(0x265));if(_0x4d6bf7!==ee&&_0x34f23f?.[_0x4be226(0x3b0)]===_0x4be226(0x405)&&_0x34f23f?.[_0x4be226(0x89c)]!==this[_0x4be226(0x238)]['wuid'])throw new m('Esse\x20fluxo\x20é\x20global,\x20para\x20deletá-lo\x20você\x20precisa\x20ser\x20o\x20criador\x20ou\x20usar\x20a\x20apikey\x20global');if(_0x34f23f&&_0x34f23f[_0x4be226(0x3fa)]&&_0x34f23f[_0x4be226(0x3fa)][_0x4be226(0x297)]>0x0){for(let _0x2848bb of _0x34f23f[_0x4be226(0x3fa)])if(_0x2848bb!==_0x2feb34){let _0x3c9271=await this[_0x4be226(0x7f0)][_0x4be226(0x76b)][_0x4be226(0x868)]({'where':{'sharePass':_0x34f23f[_0x4be226(0x71a)]}},_0x2848bb);if(_0x3c9271){_0x3c9271['shareOwners']=_0x3c9271[_0x4be226(0x3fa)][_0x4be226(0x6cb)](_0x31b545=>_0x31b545!==_0x34f23f[_0x4be226(0x89c)]);let _0xbd2a89={'shareOwners':_0x3c9271[_0x4be226(0x3fa)]};_0x34f23f['global']===_0x4be226(0x405)&&(_0xbd2a89['global']=_0x4be226(0x789)),await this[_0x4be226(0x7f0)][_0x4be226(0x76b)][_0x4be226(0x4a8)](_0x3c9271[_0x4be226(0x664)],_0xbd2a89,_0x2848bb);}}}return await this[_0x4be226(0x7f0)][_0x4be226(0x76b)][_0x4be226(0x23e)]({'where':{'name':_0x58f816[_0x4be226(0x325)]}},_0x2feb34);}catch(_0x5ec6e2){return this[_0x4be226(0x2bc)][_0x4be226(0x82e)](this['instanceName']+'\x20('+this[_0x4be226(0x238)][_0x4be226(0x5df)]+_0x4be226(0x614)+(_0x5ec6e2 instanceof Error?_0x5ec6e2[_0x4be226(0x8d5)]:JSON[_0x4be226(0x31d)](_0x5ec6e2,null,0x2))),{'message':_0x4be226(0x206)+_0x5ec6e2[_0x4be226(0x8d5)]};}}async[a0_0x420d4d(0x88d)](_0x1466fd,_0x2c7b75){const _0x16bb27=a0_0x420d4d;try{this['logger'][_0x16bb27(0x536)](this[_0x16bb27(0x83a)]+'\x20('+this[_0x16bb27(0x238)][_0x16bb27(0x5df)]+_0x16bb27(0x359)+_0x1466fd+_0x16bb27(0x53e)+_0x2c7b75);let _0x54c1b5=_0x2c7b75?.[_0x16bb27(0x7c0)]()===_0x16bb27(0x405)?'global':this[_0x16bb27(0x238)]['wuid'],_0x403f20=await this[_0x16bb27(0x7f0)][_0x16bb27(0x76b)][_0x16bb27(0x868)]({'where':{'name':_0x1466fd}},_0x54c1b5);if(!_0x403f20)throw new Error(_0x16bb27(0x78f));if(_0x403f20[_0x16bb27(0x1d9)]||(_0x403f20[_0x16bb27(0x1d9)]=(0x0,Me['v4'])()),!this[_0x16bb27(0x3e4)]&&(await this[_0x16bb27(0x4ca)](),!this[_0x16bb27(0x3e4)]))return null;let _0x54a3b7=this['AutomateSystem']?.['customFields'][_0x16bb27(0x28d)](_0x59aafe=>_0x59aafe['name']),_0x16a5f4=['nome','nomecompleto',_0x16bb27(0x3ee),_0x16bb27(0x770),_0x16bb27(0x69e),_0x16bb27(0x84e),_0x16bb27(0x65a),_0x16bb27(0x4d5),_0x16bb27(0x2e3),_0x16bb27(0x35a),_0x16bb27(0x22b)];_0x403f20[_0x16bb27(0x4f3)]=_0x403f20[_0x16bb27(0x4f3)][_0x16bb27(0x6cb)](_0x1ba0c7=>!(_0x1ba0c7[_0x16bb27(0x84b)]==='leadInfo'||_0x1ba0c7[_0x16bb27(0x650)])),_0x16a5f4[_0x16bb27(0x425)](_0x10aa11=>{const _0x5bb767=_0x16bb27;_0x403f20['variables'][_0x5bb767(0x26a)]({'folder':'leadInfo','name':_0x10aa11,'value':'','doc':'','leadInfo':!0x0});}),_0x54a3b7['forEach'](_0x3d1ef6=>{const _0x24fca5=_0x16bb27;let _0x2b98ac=_0x403f20[_0x24fca5(0x4f3)][_0x24fca5(0x892)](_0xd998e7=>_0xd998e7[_0x24fca5(0x325)]===_0x3d1ef6);_0x2b98ac===-0x1?_0x403f20[_0x24fca5(0x4f3)][_0x24fca5(0x26a)]({'folder':_0x24fca5(0x650),'name':_0x3d1ef6,'value':'','doc':'','leadInfo':!0x0}):(_0x403f20[_0x24fca5(0x4f3)][_0x2b98ac]['folder']=_0x24fca5(0x650),_0x403f20[_0x24fca5(0x4f3)][_0x2b98ac]['leadInfo']=!0x0);}),_0x403f20[_0x16bb27(0x6a9)]&&_0x403f20[_0x16bb27(0x6a9)][_0x16bb27(0x297)]>0x0&&_0x403f20['blocks'][_0x16bb27(0x425)](_0x47766f=>{const _0x50c8e4=_0x16bb27;_0x47766f['groupId']&&_0x47766f['next_groupId']&&_0x47766f[_0x50c8e4(0x54e)]===_0x47766f[_0x50c8e4(0x625)]&&(_0x47766f[_0x50c8e4(0x625)]=null);});let _0xec6577=await this[_0x16bb27(0x7f0)][_0x16bb27(0x76b)]['updateOne'](_0x403f20[_0x16bb27(0x664)],_0x403f20,_0x54c1b5);if(!_0xec6577)throw new Error(_0x16bb27(0x595));return _0xec6577;}catch(_0x4dd78b){let _0x512794=_0x16bb27(0x53d),_0x5dabac=_0x4dd78b instanceof Error?_0x4dd78b['message']:typeof _0x4dd78b==_0x16bb27(0x86d)?JSON[_0x16bb27(0x31d)](_0x4dd78b):_0x4dd78b,_0xc86675=_0x512794+':\x20'+_0x5dabac;throw this[_0x16bb27(0x2bc)][_0x16bb27(0x82e)](this[_0x16bb27(0x83a)]+'\x20('+this[_0x16bb27(0x238)]['wuid']+_0x16bb27(0x55c)+_0xc86675),new m(_0xc86675);}}async[a0_0x420d4d(0x809)](){const _0x37d0a7=a0_0x420d4d;try{this['logger']['verbose'](this[_0x37d0a7(0x83a)]+'\x20('+this[_0x37d0a7(0x238)][_0x37d0a7(0x5df)]+_0x37d0a7(0x72e)),await this['repository']['flow'][_0x37d0a7(0x228)](this['instance']['wuid']);let _0x2c612c=await this[_0x37d0a7(0x7f0)][_0x37d0a7(0x76b)][_0x37d0a7(0x8d2)]({'where':{}},this['instance']['wuid']),_0x31b645=await this['repository'][_0x37d0a7(0x76b)][_0x37d0a7(0x8d2)]({'where':{}},'global');return _0x2c612c[_0x37d0a7(0x7b0)](_0x31b645);}catch(_0x4ab5ab){return this[_0x37d0a7(0x2bc)][_0x37d0a7(0x82e)](this[_0x37d0a7(0x83a)]+'\x20('+this['instance'][_0x37d0a7(0x5df)]+_0x37d0a7(0x2ed)+(_0x4ab5ab instanceof Error?_0x4ab5ab[_0x37d0a7(0x8d5)]:JSON[_0x37d0a7(0x31d)](_0x4ab5ab,null,0x2))),{'message':_0x37d0a7(0x4a3)+_0x4ab5ab[_0x37d0a7(0x8d5)]};}}async[a0_0x420d4d(0x2bb)](_0x40bade,_0x149e31){const _0x4a9662=a0_0x420d4d;try{this[_0x4a9662(0x2bc)]['verbose'](this[_0x4a9662(0x83a)]+'\x20('+this[_0x4a9662(0x238)]['wuid']+_0x4a9662(0x659));let _0x53dd33=_0x40bade?.[_0x4a9662(0x3b0)]?.['trim']()===_0x4a9662(0x405)?_0x4a9662(0x3b0):this[_0x4a9662(0x238)]['wuid'],_0x529737=await this[_0x4a9662(0x7f0)][_0x4a9662(0x76b)][_0x4a9662(0x868)]({'where':{'name':_0x40bade[_0x4a9662(0x325)]}},_0x53dd33);if(!_0x529737)return{'message':_0x4a9662(0x268)};if(_0x149e31!==ee&&_0x529737?.[_0x4a9662(0x3b0)]===_0x4a9662(0x405)&&_0x529737?.['owner']!==this[_0x4a9662(0x238)][_0x4a9662(0x5df)])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');_0x529737?.[_0x4a9662(0x3b0)]===_0x4a9662(0x7d0)&&(_0x40bade={'default':_0x40bade[_0x4a9662(0x7f3)],'minutesToClose':_0x40bade[_0x4a9662(0x38f)],'readMessages':_0x40bade[_0x4a9662(0x85d)],'testingWith':_0x40bade[_0x4a9662(0x671)],'startCommandWord':_0x40bade[_0x4a9662(0x3ae)]}),_0x40bade[_0x4a9662(0x7f3)]===!0x0&&_0x529737?.[_0x4a9662(0x3b0)]!==_0x4a9662(0x405)&&await this[_0x4a9662(0x7f0)][_0x4a9662(0x76b)][_0x4a9662(0x6a3)]({},{'default':!0x1},_0x53dd33),delete _0x40bade[_0x4a9662(0x3fa)],delete _0x40bade[_0x4a9662(0x71a)],delete _0x40bade[_0x4a9662(0x3b0)];let _0x4af53b=await this[_0x4a9662(0x7f0)][_0x4a9662(0x76b)][_0x4a9662(0x4a8)](_0x529737[_0x4a9662(0x664)],_0x40bade,_0x53dd33);return _0x4af53b&&_0x4af53b[_0x4a9662(0x3fa)]&&_0x4af53b[_0x4a9662(0x3fa)]['length']>0x1&&_0x4af53b['global']!==_0x4a9662(0x7d0)&&this[_0x4a9662(0x455)](_0x4af53b['_id'],_0x53dd33),_0x4af53b;}catch(_0x47a2be){let _0x20892d=_0x4a9662(0x20d),_0x1dcdc9=_0x47a2be instanceof Error?_0x47a2be['message']:typeof _0x47a2be==_0x4a9662(0x86d)?JSON['stringify'](_0x47a2be):_0x47a2be,_0x59fa9d=_0x20892d+':\x20'+_0x1dcdc9;throw this[_0x4a9662(0x2bc)][_0x4a9662(0x82e)](this[_0x4a9662(0x83a)]+'\x20('+this['instance'][_0x4a9662(0x5df)]+_0x4a9662(0x55c)+_0x59fa9d),new m(_0x59fa9d);}}async[a0_0x420d4d(0x43e)](_0x4b80ac,_0x16c591){const _0x16da81=a0_0x420d4d;try{this[_0x16da81(0x2bc)][_0x16da81(0x200)](this[_0x16da81(0x83a)]+'\x20('+this[_0x16da81(0x238)][_0x16da81(0x5df)]+_0x16da81(0x23c));let _0x2920d9=_0x4b80ac?.[_0x16da81(0x3b0)]?.[_0x16da81(0x7c0)]()==='true'?_0x16da81(0x3b0):this[_0x16da81(0x238)][_0x16da81(0x5df)],_0x457fd7=await this[_0x16da81(0x7f0)]['flow'][_0x16da81(0x868)]({'where':{'name':_0x4b80ac[_0x16da81(0x325)]}},_0x2920d9);if(_0x457fd7||this[_0x16da81(0x226)](_0x16da81(0x78f)),_0x457fd7?.[_0x16da81(0x3b0)]===_0x16da81(0x7d0))throw new m(_0x16da81(0x7b7));if(_0x16c591!==ee&&_0x457fd7?.['global']==='true'&&_0x457fd7?.['owner']!==this[_0x16da81(0x238)][_0x16da81(0x5df)])throw new m(_0x16da81(0x40a));let {block:_0xe86e60}=_0x4b80ac;_0xe86e60?.['copy']?this['copyBlock'](_0x457fd7,_0x4b80ac):_0xe86e60?.['delete']?this[_0x16da81(0x26f)](_0x457fd7,_0x4b80ac):_0xe86e60[_0x16da81(0x664)]?await this[_0x16da81(0x6b5)](_0x457fd7,_0x4b80ac):this[_0x16da81(0x5a2)](_0x457fd7,_0x4b80ac);let _0x5a3992=await this[_0x16da81(0x7f0)][_0x16da81(0x76b)][_0x16da81(0x4a8)](_0x457fd7[_0x16da81(0x664)],_0x457fd7,_0x2920d9);if(_0x5a3992&&_0x5a3992[_0x16da81(0x3fa)]&&_0x5a3992['shareOwners']['length']>0x1&&this[_0x16da81(0x455)](_0x5a3992[_0x16da81(0x664)],this['instance'][_0x16da81(0x5df)]),!_0x5a3992)throw new Error(_0x16da81(0x595));return _0x5a3992;}catch(_0xd40fc){this['throwAndLogError'](_0x16da81(0x29d)+_0xd40fc['message']);}}async['copyBlock'](_0x2900dc,_0x3c7333){const _0x48b8fe=a0_0x420d4d;let _0x194073=_0x3c7333[_0x48b8fe(0x374)][_0x48b8fe(0x664)],_0x271603=_0x2900dc[_0x48b8fe(0x6a9)]['find'](_0x1769d8=>_0x1769d8[_0x48b8fe(0x664)][_0x48b8fe(0x5d4)]()===_0x194073);if(!_0x271603){this[_0x48b8fe(0x2bc)][_0x48b8fe(0x82e)](this[_0x48b8fe(0x83a)]+'\x20('+this[_0x48b8fe(0x238)][_0x48b8fe(0x5df)]+_0x48b8fe(0x85a)+_0x194073+_0x48b8fe(0x745));return;}this['logger'][_0x48b8fe(0x200)](this[_0x48b8fe(0x83a)]+'\x20('+this[_0x48b8fe(0x238)]['wuid']+_0x48b8fe(0x20c)+JSON[_0x48b8fe(0x31d)](_0x271603));let _0x4a837c=JSON['parse'](JSON[_0x48b8fe(0x31d)](_0x271603));_0x4a837c[_0x48b8fe(0x664)]=new re[(_0x48b8fe(0x7f3))][(_0x48b8fe(0x665))][(_0x48b8fe(0x64f))](),this[_0x48b8fe(0x2bc)][_0x48b8fe(0x200)](this[_0x48b8fe(0x83a)]+'\x20('+this[_0x48b8fe(0x238)][_0x48b8fe(0x5df)]+'):\x20Bloco\x20copiado:\x20'+JSON[_0x48b8fe(0x31d)](_0x4a837c)),_0x2900dc[_0x48b8fe(0x6a9)][_0x48b8fe(0x26a)](_0x4a837c),this['reorderBlocks'](_0x2900dc[_0x48b8fe(0x6a9)],_0x4a837c[_0x48b8fe(0x54e)]);}[a0_0x420d4d(0x226)](_0xd89665){const _0x297a3f=a0_0x420d4d;throw this[_0x297a3f(0x2bc)][_0x297a3f(0x82e)](this[_0x297a3f(0x83a)]+'\x20('+this[_0x297a3f(0x238)][_0x297a3f(0x5df)]+'):\x20'+_0xd89665),new m(_0xd89665);}['deleteBlock'](_0x16b533,_0x4321f4){const _0x4ce7be=a0_0x420d4d;let {block:_0x2041c5}=_0x4321f4;if(_0x2041c5[_0x4ce7be(0x4cf)]===_0x4ce7be(0x3d8)){this['throwAndLogError'](_0x4ce7be(0x225));return;}if(!_0x2041c5['_id']){this['throwAndLogError'](_0x4ce7be(0x8ba));return;}let _0x4363f2=_0x16b533[_0x4ce7be(0x6a9)][_0x4ce7be(0x561)](_0x40af9f=>_0x40af9f[_0x4ce7be(0x664)][_0x4ce7be(0x5d4)]()===_0x4321f4[_0x4ce7be(0x374)][_0x4ce7be(0x664)][_0x4ce7be(0x5d4)]());if(!_0x4363f2){this[_0x4ce7be(0x226)](_0x4ce7be(0x803)+_0x2041c5[_0x4ce7be(0x664)]+_0x4ce7be(0x6d1));return;}_0x16b533[_0x4ce7be(0x6a9)]=_0x16b533[_0x4ce7be(0x6a9)][_0x4ce7be(0x6cb)](_0x367ecd=>_0x367ecd['_id'][_0x4ce7be(0x5d4)]()!==_0x4321f4[_0x4ce7be(0x374)][_0x4ce7be(0x664)][_0x4ce7be(0x5d4)]()),_0x16b533[_0x4ce7be(0x7a4)]=_0x16b533[_0x4ce7be(0x7a4)][_0x4ce7be(0x6cb)](_0xd1c2e7=>_0xd1c2e7[_0x4ce7be(0x661)]!==_0x2041c5['_id']['toString']()),_0x16b533[_0x4ce7be(0x47a)]=_0x16b533[_0x4ce7be(0x47a)]['filter'](_0x25722b=>_0x25722b[_0x4ce7be(0x661)]!==_0x2041c5[_0x4ce7be(0x664)][_0x4ce7be(0x5d4)]()),_0x16b533[_0x4ce7be(0x5ce)]=_0x16b533['replyOptions']['filter'](_0x1517c4=>_0x1517c4[_0x4ce7be(0x661)]!==_0x2041c5[_0x4ce7be(0x664)]['toString']()),this['reorderBlocks'](_0x16b533[_0x4ce7be(0x6a9)],_0x4363f2[_0x4ce7be(0x54e)]);}async[a0_0x420d4d(0x6b5)](_0x5c8dd0,_0x4f83cc){const _0x5eb88e=a0_0x420d4d;let _0x1e5275=_0x5c8dd0[_0x5eb88e(0x6a9)][_0x5eb88e(0x892)](_0x3faba5=>_0x3faba5[_0x5eb88e(0x664)][_0x5eb88e(0x5d4)]()===_0x4f83cc[_0x5eb88e(0x374)]['_id'][_0x5eb88e(0x5d4)]());if(this['logger']['verbose'](this[_0x5eb88e(0x83a)]+'\x20('+this[_0x5eb88e(0x238)][_0x5eb88e(0x5df)]+_0x5eb88e(0x3a2)+_0x1e5275),_0x1e5275===-0x1){this[_0x5eb88e(0x2bc)]['verbose'](_0x5eb88e(0x803)+_0x4f83cc['block'][_0x5eb88e(0x664)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}if(_0x5c8dd0[_0x5eb88e(0x6a9)][_0x1e5275][_0x5eb88e(0x4cf)]===_0x5eb88e(0x3d8)){let _0x1b6eba=Object[_0x5eb88e(0x673)](_0x4f83cc[_0x5eb88e(0x374)]);if(_0x1b6eba[_0x5eb88e(0x297)]>0x2||_0x1b6eba[_0x5eb88e(0x297)]===0x2&&!_0x1b6eba['includes'](_0x5eb88e(0x625))){this[_0x5eb88e(0x226)](_0x5eb88e(0x84c));return;}}let _0x331514=_0x5c8dd0[_0x5eb88e(0x6a9)][_0x1e5275][_0x5eb88e(0x54e)];for(let _0x44f01d in _0x4f83cc['block'])_0x4f83cc['block'][_0x5eb88e(0x5e8)](_0x44f01d)&&(_0x5c8dd0['blocks'][_0x1e5275][_0x44f01d]=_0x4f83cc['block'][_0x44f01d]);if(this[_0x5eb88e(0x2bc)]['verbose'](this[_0x5eb88e(0x83a)]+'\x20('+this['instance'][_0x5eb88e(0x5df)]+_0x5eb88e(0x6b6)+JSON[_0x5eb88e(0x31d)](_0x5c8dd0['blocks'][_0x1e5275])),_0x5c8dd0[_0x5eb88e(0x6a9)][_0x1e5275][_0x5eb88e(0x5a8)]&&'header'in _0x5c8dd0['blocks'][_0x1e5275][_0x5eb88e(0x5a8)]){this[_0x5eb88e(0x2bc)][_0x5eb88e(0x200)](this[_0x5eb88e(0x83a)]+'\x20('+this[_0x5eb88e(0x238)][_0x5eb88e(0x5df)]+_0x5eb88e(0x873));let _0x53f445=JSON[_0x5eb88e(0x31d)](_0x5c8dd0[_0x5eb88e(0x6a9)][_0x1e5275][_0x5eb88e(0x5a8)]['header'],null,0x1);_0x53f445[_0x5eb88e(0x297)]>0x2&&(_0x53f445=_0x53f445[_0x5eb88e(0x458)](0x1,_0x53f445[_0x5eb88e(0x297)]-0x1)['trim']()),_0x5c8dd0[_0x5eb88e(0x6a9)][_0x1e5275][_0x5eb88e(0x5a8)][_0x5eb88e(0x775)]=_0x53f445;}if(_0x5c8dd0[_0x5eb88e(0x6a9)][_0x1e5275]['apirequest']&&'body'in _0x5c8dd0[_0x5eb88e(0x6a9)][_0x1e5275][_0x5eb88e(0x5a8)]&&!(_0x5eb88e(0x31e)in _0x5c8dd0[_0x5eb88e(0x6a9)][_0x1e5275]['apirequest'])){this['logger'][_0x5eb88e(0x200)](this[_0x5eb88e(0x83a)]+'\x20('+this[_0x5eb88e(0x238)][_0x5eb88e(0x5df)]+_0x5eb88e(0x317)),_0x5c8dd0[_0x5eb88e(0x6a9)][_0x1e5275][_0x5eb88e(0x5a8)][_0x5eb88e(0x1db)]=!0x1;let _0x19a5a8=JSON[_0x5eb88e(0x31d)](_0x5c8dd0[_0x5eb88e(0x6a9)][_0x1e5275][_0x5eb88e(0x5a8)][_0x5eb88e(0x62e)],null,0x2);_0x5c8dd0['blocks'][_0x1e5275]['apirequest']['bodyString']=_0x19a5a8;}if(_0x5c8dd0[_0x5eb88e(0x6a9)][_0x1e5275][_0x5eb88e(0x5a8)]&&_0x5eb88e(0x31e)in _0x5c8dd0[_0x5eb88e(0x6a9)][_0x1e5275][_0x5eb88e(0x5a8)]){_0x5c8dd0[_0x5eb88e(0x6a9)][_0x1e5275][_0x5eb88e(0x5a8)]['bodyStringErrorParse']=!0x1;let _0x56c6dd=_0x5c8dd0[_0x5eb88e(0x6a9)][_0x1e5275][_0x5eb88e(0x5a8)][_0x5eb88e(0x31e)],_0x48de44=this[_0x5eb88e(0x598)](_0x56c6dd);_0x5c8dd0[_0x5eb88e(0x6a9)][_0x1e5275][_0x5eb88e(0x5a8)][_0x5eb88e(0x31e)]=_0x48de44['result'],_0x5c8dd0['blocks'][_0x1e5275]['apirequest'][_0x5eb88e(0x1db)]=_0x48de44[_0x5eb88e(0x82e)];}let _0x1c6779=_0x5c8dd0[_0x5eb88e(0x6a9)][_0x1e5275][_0x5eb88e(0x54e)];_0x331514!==_0x1c6779?(this[_0x5eb88e(0x7cd)](_0x5c8dd0['blocks'],_0x331514),this[_0x5eb88e(0x7cd)](_0x5c8dd0[_0x5eb88e(0x6a9)],_0x1c6779)):this[_0x5eb88e(0x7cd)](_0x5c8dd0[_0x5eb88e(0x6a9)],_0x331514);}[a0_0x420d4d(0x598)](_0x270353){const _0xfa730c=a0_0x420d4d;let _0x4e213d='\u205f',_0xf6aeba=!0x1,_0x1b12d6='';for(let _0x5cf2d1=0x0;_0x5cf2d1<_0x270353['length'];_0x5cf2d1++){let _0x277784=_0x270353[_0x5cf2d1];_0x277784==='\x22'&&(_0x5cf2d1===0x0||_0x270353[_0x5cf2d1-0x1]!=='\x5c')&&(_0xf6aeba=!_0xf6aeba),!(!_0xf6aeba&&(_0x277784==='\x0a'||_0x277784==='\x20'||_0x277784===_0x4e213d))&&(_0x1b12d6+=_0x277784);}let _0x2e75f0={},_0x21b618=9876543210.1234,_0x26d490=_0x1b12d6[_0xfa730c(0x576)](/\{\{([^}]+)\}\}/g,_0x576809=>{let _0x459b7a=_0x576809,_0x10cac8=''+_0x21b618;return _0x2e75f0[_0x10cac8]=_0x459b7a,_0x21b618+=0.0001,_0x10cac8;}),_0x29341c='',_0x5b8a4f=!0x1;try{let _0x3b5b47=JSON[_0xfa730c(0x28e)](_0x26d490);_0x29341c=JSON[_0xfa730c(0x31d)](_0x3b5b47,null,0x2),_0x29341c=_0x29341c[_0xfa730c(0x576)](/\n( +)/g,(_0x385154,_0x2019fc)=>{const _0xc2a491=_0xfa730c;let _0x45dd19=_0x2019fc[_0xc2a491(0x297)];return'\x0a'+_0x4e213d['repeat'](_0x45dd19*0x2);}),_0x29341c=_0x29341c[_0xfa730c(0x576)](/(\d{10,}\.\d+)/g,_0x54fbeb=>_0x2e75f0[_0x54fbeb]||_0x54fbeb);}catch(_0x5b2c9e){console[_0xfa730c(0x82e)](_0xfa730c(0x2ca),_0x5b2c9e),_0x29341c=_0x270353,_0x5b8a4f=!0x0;}return{'result':_0x29341c,'error':_0x5b8a4f};}[a0_0x420d4d(0x5a2)](_0x4f6026,_0x1295b7){const _0x25b1d4=a0_0x420d4d;if(_0x1295b7[_0x25b1d4(0x374)][_0x25b1d4(0x4cf)]===_0x25b1d4(0x3d8)){this[_0x25b1d4(0x226)](_0x25b1d4(0x599));return;}if(_0x1295b7[_0x25b1d4(0x374)][_0x25b1d4(0x5a8)]&&'header'in _0x1295b7['block'][_0x25b1d4(0x5a8)]){this['logger']['verbose'](this[_0x25b1d4(0x83a)]+'\x20('+this['instance'][_0x25b1d4(0x5df)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x18a2a8=JSON[_0x25b1d4(0x31d)](_0x1295b7[_0x25b1d4(0x374)][_0x25b1d4(0x5a8)]['header'],null,0x1);_0x18a2a8['length']>0x2&&(_0x18a2a8=_0x18a2a8['substring'](0x1,_0x18a2a8[_0x25b1d4(0x297)]-0x1)[_0x25b1d4(0x7c0)]()),_0x1295b7[_0x25b1d4(0x374)][_0x25b1d4(0x5a8)][_0x25b1d4(0x775)]=_0x18a2a8;}_0x1295b7[_0x25b1d4(0x374)]['apirequest']&&_0x25b1d4(0x62e)in _0x1295b7[_0x25b1d4(0x374)]['apirequest']&&(this[_0x25b1d4(0x2bc)][_0x25b1d4(0x200)](this[_0x25b1d4(0x83a)]+'\x20('+this[_0x25b1d4(0x238)][_0x25b1d4(0x5df)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x1295b7[_0x25b1d4(0x374)]['apirequest']['bodyString']=JSON[_0x25b1d4(0x31d)](_0x1295b7[_0x25b1d4(0x374)]['apirequest'][_0x25b1d4(0x62e)],null,0x1)[_0x25b1d4(0x7c0)]()),_0x4f6026['blocks']['push'](_0x1295b7[_0x25b1d4(0x374)]),this['reorderBlocks'](_0x4f6026[_0x25b1d4(0x6a9)],_0x1295b7[_0x25b1d4(0x374)][_0x25b1d4(0x54e)]);}[a0_0x420d4d(0x7cd)](_0x43fd3d,_0xf26d30){const _0xaab79b=a0_0x420d4d;let _0x199690=_0x43fd3d[_0xaab79b(0x6cb)](_0xf41719=>_0xf41719[_0xaab79b(0x54e)]===_0xf26d30);_0x199690['sort']((_0x9657ef,_0x517a9e)=>_0x9657ef[_0xaab79b(0x857)]-_0x517a9e[_0xaab79b(0x857)]),_0x199690[_0xaab79b(0x425)]((_0x26584a,_0xe72d88)=>_0x26584a[_0xaab79b(0x857)]=_0xe72d88+0x1);}async[a0_0x420d4d(0x3db)](_0x5a4e66,_0x23c5f2){const _0x1103b5=a0_0x420d4d;try{this[_0x1103b5(0x2bc)][_0x1103b5(0x200)](this[_0x1103b5(0x83a)]+'\x20('+this[_0x1103b5(0x238)][_0x1103b5(0x5df)]+_0x1103b5(0x449));let _0x3dc374=_0x5a4e66?.['global'][_0x1103b5(0x7c0)]()===_0x1103b5(0x405)?'global':this['instance']['wuid'];if(!_0x5a4e66||!_0x5a4e66[_0x1103b5(0x867)]){this[_0x1103b5(0x226)](_0x1103b5(0x838));return;}let _0x3fc69a=await this[_0x1103b5(0x7f0)][_0x1103b5(0x76b)][_0x1103b5(0x868)]({'where':{'name':_0x5a4e66[_0x1103b5(0x325)]}},_0x3dc374);if(_0x3fc69a||this[_0x1103b5(0x226)](_0x1103b5(0x78f)),_0x3fc69a?.[_0x1103b5(0x3b0)]===_0x1103b5(0x7d0))throw new m(_0x1103b5(0x7b7));if(_0x23c5f2!==ee&&_0x3fc69a?.[_0x1103b5(0x3b0)]==='true'&&_0x3fc69a?.[_0x1103b5(0x89c)]!==this[_0x1103b5(0x238)]['wuid'])throw new m(_0x1103b5(0x40a));let {replyOption:_0x35f959}=_0x5a4e66;_0x35f959?.[_0x1103b5(0x845)]?(this[_0x1103b5(0x588)](_0x3fc69a,_0x5a4e66),this[_0x1103b5(0x649)](_0x3fc69a[_0x1103b5(0x5ce)],_0x5a4e66['replyOption'][_0x1103b5(0x661)])):_0x35f959[_0x1103b5(0x664)]?(await this[_0x1103b5(0x5ff)](_0x3fc69a,_0x5a4e66),this[_0x1103b5(0x649)](_0x3fc69a[_0x1103b5(0x5ce)],_0x5a4e66[_0x1103b5(0x867)]['blockId'])):(this['addReplyOption'](_0x3fc69a,_0x5a4e66),this[_0x1103b5(0x649)](_0x3fc69a['replyOptions'],_0x5a4e66[_0x1103b5(0x867)][_0x1103b5(0x661)]));let _0x172e92=await this[_0x1103b5(0x7f0)]['flow']['updateOne'](_0x3fc69a['_id'],_0x3fc69a,_0x3dc374);if(_0x172e92&&_0x172e92['shareOwners']&&_0x172e92['shareOwners']['length']>0x1&&_0x172e92[_0x1103b5(0x3b0)]!==_0x1103b5(0x7d0)&&this[_0x1103b5(0x455)](_0x172e92[_0x1103b5(0x664)],_0x3dc374),!_0x172e92)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x172e92;}catch(_0x64d626){this[_0x1103b5(0x226)](_0x1103b5(0x82a)+_0x64d626);}}['reorderReplyOptions'](_0x3ae9b9,_0x8d517){const _0x29288c=a0_0x420d4d;_0x3ae9b9[_0x29288c(0x425)](_0x47feac=>{const _0x534c19=_0x29288c;_0x47feac[_0x534c19(0x661)]===_0x8d517&&_0x47feac['order']===void 0x0&&(_0x47feac[_0x534c19(0x857)]=0x270f);});let _0x36995d=_0x3ae9b9[_0x29288c(0x6cb)](_0x202da3=>_0x202da3['blockId']===_0x8d517);_0x36995d['sort']((_0x2d0be5,_0x3649be)=>_0x2d0be5[_0x29288c(0x857)]-_0x3649be['order']),_0x36995d['forEach']((_0x3a0935,_0x9a4399)=>{const _0x483766=_0x29288c;_0x3a0935[_0x483766(0x857)]=_0x9a4399+0x1;}),_0x3ae9b9[_0x29288c(0x425)](_0x4c9f5a=>{const _0xbca47b=_0x29288c;if(_0x4c9f5a[_0xbca47b(0x661)]===_0x8d517){let _0x13c569=_0x36995d[_0xbca47b(0x561)](_0x244a47=>_0x244a47[_0xbca47b(0x664)]&&_0x4c9f5a[_0xbca47b(0x664)]&&_0x244a47[_0xbca47b(0x664)]['toString']()===_0x4c9f5a['_id'][_0xbca47b(0x5d4)]());_0x13c569&&(_0x4c9f5a['order']=_0x13c569['order']);}});}[a0_0x420d4d(0x588)](_0x415fc9,_0x17bfbc){const _0x2b23dc=a0_0x420d4d;let {replyOption:_0x3bb4ed}=_0x17bfbc;if(!_0x3bb4ed[_0x2b23dc(0x664)]){this[_0x2b23dc(0x226)](_0x2b23dc(0x1f6));return;}if(!_0x415fc9[_0x2b23dc(0x5ce)][_0x2b23dc(0x561)](_0xb86a9b=>_0xb86a9b['_id'][_0x2b23dc(0x5d4)]()===_0x17bfbc[_0x2b23dc(0x867)][_0x2b23dc(0x664)][_0x2b23dc(0x5d4)]())){this[_0x2b23dc(0x226)](_0x2b23dc(0x6c1)+_0x3bb4ed[_0x2b23dc(0x664)]+_0x2b23dc(0x6d1));return;}_0x415fc9['replyOptions']=_0x415fc9[_0x2b23dc(0x5ce)][_0x2b23dc(0x6cb)](_0x4db264=>_0x4db264[_0x2b23dc(0x664)]['toString']()!==_0x17bfbc[_0x2b23dc(0x867)]['_id']['toString']());}async[a0_0x420d4d(0x5ff)](_0x4c41df,_0x2b17a2){const _0x4c16f2=a0_0x420d4d;let _0x4133a0=_0x4c41df['replyOptions'][_0x4c16f2(0x892)](_0x1ff47a=>_0x1ff47a[_0x4c16f2(0x664)][_0x4c16f2(0x5d4)]()===_0x2b17a2['replyOption'][_0x4c16f2(0x664)][_0x4c16f2(0x5d4)]());if(_0x4133a0===-0x1){this[_0x4c16f2(0x226)]('ReplyOption\x20com\x20ID\x20'+_0x2b17a2['replyOption'][_0x4c16f2(0x664)]+_0x4c16f2(0x5cb));return;}for(let _0xfc32b3 in _0x2b17a2[_0x4c16f2(0x867)])_0x2b17a2[_0x4c16f2(0x867)][_0x4c16f2(0x5e8)](_0xfc32b3)&&(_0x4c41df[_0x4c16f2(0x5ce)][_0x4133a0][_0xfc32b3]=_0x2b17a2[_0x4c16f2(0x867)][_0xfc32b3]);}[a0_0x420d4d(0x6c4)](_0x45ba30,_0x5920b9){const _0x541b77=a0_0x420d4d;_0x45ba30['replyOptions'][_0x541b77(0x26a)](_0x5920b9[_0x541b77(0x867)]);}async[a0_0x420d4d(0x52d)](_0x35d82f,_0x420902){const _0x264a91=a0_0x420d4d;let _0x7291ae=_0x35d82f?.[_0x264a91(0x3b0)][_0x264a91(0x7c0)]()===_0x264a91(0x405)?_0x264a91(0x3b0):this[_0x264a91(0x238)][_0x264a91(0x5df)];this[_0x264a91(0x2bc)][_0x264a91(0x200)](this[_0x264a91(0x83a)]+'\x20('+this['instance'][_0x264a91(0x5df)]+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup:\x20flowOnwer:\x20'+_0x7291ae+_0x264a91(0x80b)+_0x420902+_0x264a91(0x75b)+JSON['stringify'](_0x35d82f,null,0x2));try{this[_0x264a91(0x2bc)][_0x264a91(0x200)](this[_0x264a91(0x83a)]+'\x20('+this[_0x264a91(0x238)][_0x264a91(0x5df)]+_0x264a91(0x412));let _0x202f1=await this['repository'][_0x264a91(0x76b)][_0x264a91(0x868)]({'where':{'name':_0x35d82f[_0x264a91(0x325)]}},_0x7291ae);if(!_0x202f1)throw this[_0x264a91(0x2bc)][_0x264a91(0x200)](this[_0x264a91(0x83a)]+'\x20('+this[_0x264a91(0x238)][_0x264a91(0x5df)]+'):\x20Flow\x20não\x20encontrado'),new Error(_0x264a91(0x78f));if(_0x202f1?.[_0x264a91(0x3b0)]===_0x264a91(0x7d0))throw this['logger'][_0x264a91(0x200)](this[_0x264a91(0x83a)]+'\x20('+this[_0x264a91(0x238)][_0x264a91(0x5df)]+_0x264a91(0x42c)),new m(_0x264a91(0x66b));if(_0x420902!==ee&&_0x202f1?.['global']===_0x264a91(0x405)&&_0x202f1?.[_0x264a91(0x89c)]!==this[_0x264a91(0x238)][_0x264a91(0x5df)])throw this[_0x264a91(0x2bc)][_0x264a91(0x200)](this['instanceName']+'\x20('+this[_0x264a91(0x238)]['wuid']+_0x264a91(0x635)),new m(_0x264a91(0x40a));if(_0x35d82f[_0x264a91(0x1f2)]&&_0x35d82f[_0x264a91(0x1f2)]?.[_0x264a91(0x845)]===!0x0){if(this['logger'][_0x264a91(0x200)](this['instanceName']+'\x20('+this['instance'][_0x264a91(0x5df)]+'):\x20delete\x20=\x20true'),_0x35d82f[_0x264a91(0x1f2)][_0x264a91(0x7f3)]===!0x0)return{'message':_0x264a91(0x43a)};if(_0x202f1[_0x264a91(0x6a9)][_0x264a91(0x5e9)](_0x45290b=>_0x45290b[_0x264a91(0x54e)]['toString']()===_0x35d82f[_0x264a91(0x1f2)]['_id']))return this[_0x264a91(0x2bc)][_0x264a91(0x200)](this[_0x264a91(0x83a)]+'\x20('+this['instance']['wuid']+_0x264a91(0x2c2)),{'message':_0x264a91(0x7de)};_0x202f1[_0x264a91(0x678)]=_0x202f1[_0x264a91(0x678)][_0x264a91(0x6cb)](_0x5a92b5=>_0x5a92b5[_0x264a91(0x664)][_0x264a91(0x5d4)]()!==_0x35d82f[_0x264a91(0x1f2)][_0x264a91(0x664)]);}else{if(_0x35d82f['group']){if(_0x35d82f[_0x264a91(0x1f2)][_0x264a91(0x7f3)]===!0x0)return{'message':_0x264a91(0x641)};if(_0x35d82f[_0x264a91(0x1f2)]['_id']){let _0x34210c=_0x202f1['groups'][_0x264a91(0x561)](_0x515144=>_0x515144[_0x264a91(0x664)][_0x264a91(0x5d4)]()===_0x35d82f[_0x264a91(0x1f2)][_0x264a91(0x664)]);_0x34210c&&(_0x35d82f[_0x264a91(0x1f2)]['x']<0x0&&(_0x35d82f['group']['x']=0x0),_0x35d82f[_0x264a91(0x1f2)]['y']<0x0&&(_0x35d82f[_0x264a91(0x1f2)]['y']=0x0),Object[_0x264a91(0x65f)](_0x34210c,_0x35d82f[_0x264a91(0x1f2)]));}else _0x202f1[_0x264a91(0x678)][_0x264a91(0x26a)](_0x35d82f[_0x264a91(0x1f2)]);}}let _0x385b83=await this[_0x264a91(0x7f0)][_0x264a91(0x76b)]['updateOne'](_0x202f1[_0x264a91(0x664)],_0x202f1,_0x7291ae);if(_0x385b83&&_0x385b83[_0x264a91(0x3fa)]&&_0x385b83['shareOwners'][_0x264a91(0x297)]>0x1&&_0x385b83[_0x264a91(0x3b0)]!=='sync'&&this[_0x264a91(0x455)](_0x385b83[_0x264a91(0x664)],_0x7291ae),!_0x385b83)throw new Error(_0x264a91(0x595));return _0x385b83;}catch(_0x3525ad){let _0x2623a8='Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo',_0xe00ffc=_0x3525ad instanceof Error?_0x3525ad[_0x264a91(0x8d5)]:typeof _0x3525ad==_0x264a91(0x86d)?JSON[_0x264a91(0x31d)](_0x3525ad):_0x3525ad,_0x2530a9=_0x2623a8+':\x20'+_0xe00ffc;throw this[_0x264a91(0x2bc)][_0x264a91(0x82e)](this[_0x264a91(0x83a)]+'\x20('+this[_0x264a91(0x238)][_0x264a91(0x5df)]+_0x264a91(0x55c)+_0x2530a9),new m(_0x2530a9);}}async[a0_0x420d4d(0x89b)](_0xfc52a7,_0x57927d){const _0x515e65=a0_0x420d4d;try{this[_0x515e65(0x2bc)][_0x515e65(0x200)](this[_0x515e65(0x83a)]+'\x20('+this[_0x515e65(0x238)][_0x515e65(0x5df)]+_0x515e65(0x7ac));let _0x24295f=_0xfc52a7?.[_0x515e65(0x3b0)]['trim']()===_0x515e65(0x405)?'global':this[_0x515e65(0x238)][_0x515e65(0x5df)],_0x4e45a4=await this[_0x515e65(0x7f0)]['flow'][_0x515e65(0x868)]({'where':{'name':_0xfc52a7[_0x515e65(0x325)]}},_0x24295f);if(!_0x4e45a4)throw new Error(_0x515e65(0x78f));if(_0x4e45a4?.[_0x515e65(0x3b0)]===_0x515e65(0x7d0))throw new m('A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.');if(_0x57927d!==ee&&_0x4e45a4?.['global']===_0x515e65(0x405)&&_0x4e45a4?.['owner']!==this[_0x515e65(0x238)]['wuid'])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');let _0x15aa4e=!0x1;if(_0xfc52a7[_0x515e65(0x694)]?.[_0x515e65(0x845)]===!0x0)_0x4e45a4[_0x515e65(0x7a4)]=_0x4e45a4[_0x515e65(0x7a4)][_0x515e65(0x6cb)](_0x391c92=>_0x391c92&&_0xfc52a7[_0x515e65(0x694)]&&_0x391c92['_id']&&_0xfc52a7[_0x515e65(0x694)]['_id']&&_0x391c92[_0x515e65(0x664)][_0x515e65(0x5d4)]()!==_0xfc52a7['condition'][_0x515e65(0x664)]['toString']()),_0x15aa4e=!0x0;else{let _0x9b41dd=_0x4e45a4['conditions'][_0x515e65(0x561)](_0x3f18fa=>_0x3f18fa&&_0xfc52a7[_0x515e65(0x694)]&&_0x3f18fa[_0x515e65(0x664)]&&_0xfc52a7['condition']['_id']&&_0x3f18fa[_0x515e65(0x664)][_0x515e65(0x5d4)]()===_0xfc52a7[_0x515e65(0x694)][_0x515e65(0x664)]['toString']());_0x9b41dd?(_0x15aa4e=_0x9b41dd[_0x515e65(0x857)]!==_0xfc52a7[_0x515e65(0x694)][_0x515e65(0x857)],Object[_0x515e65(0x65f)](_0x9b41dd,_0xfc52a7[_0x515e65(0x694)])):(_0x4e45a4[_0x515e65(0x7a4)][_0x515e65(0x26a)](_0xfc52a7['condition']),_0x15aa4e=!0x0);}if(_0x15aa4e){_0x4e45a4[_0x515e65(0x7a4)][_0x515e65(0x209)]((_0x1660a6,_0x505bb0)=>_0x1660a6[_0x515e65(0x857)]>_0x505bb0['order']?0x1:_0x505bb0[_0x515e65(0x857)]>_0x1660a6['order']?-0x1:0x0);for(let _0x51e531=0x0;_0x51e531<_0x4e45a4[_0x515e65(0x7a4)]['length'];_0x51e531++)_0x4e45a4[_0x515e65(0x7a4)][_0x51e531][_0x515e65(0x857)]=_0x51e531+0x1;_0x4e45a4[_0x515e65(0x7a4)][_0x515e65(0x297)]>0x0&&(_0x4e45a4[_0x515e65(0x7a4)][0x0][_0x515e65(0x341)]=_0x515e65(0x20f));}let _0x45db76=await this[_0x515e65(0x7f0)][_0x515e65(0x76b)][_0x515e65(0x4a8)](_0x4e45a4[_0x515e65(0x664)],_0x4e45a4,_0x24295f);if(_0x45db76&&_0x45db76[_0x515e65(0x3fa)]&&_0x45db76[_0x515e65(0x3fa)][_0x515e65(0x297)]>0x1&&_0x45db76[_0x515e65(0x3b0)]!==_0x515e65(0x7d0)&&this[_0x515e65(0x455)](_0x45db76[_0x515e65(0x664)],_0x24295f),!_0x45db76)throw new Error(_0x515e65(0x595));return _0x45db76;}catch(_0x465237){let _0x30e264=_0x515e65(0x56d),_0x444b25=_0x465237 instanceof Error?_0x465237['message']:typeof _0x465237==_0x515e65(0x86d)?JSON[_0x515e65(0x31d)](_0x465237):_0x465237,_0x3a9ae8=_0x30e264+':\x20'+_0x444b25;throw this['logger'][_0x515e65(0x82e)](this[_0x515e65(0x83a)]+'\x20('+this[_0x515e65(0x238)]['wuid']+_0x515e65(0x55c)+_0x3a9ae8),new m(_0x3a9ae8);}}async[a0_0x420d4d(0x57f)](_0x3da6e8,_0x14a571){const _0x392359=a0_0x420d4d;try{this[_0x392359(0x2bc)][_0x392359(0x200)](this[_0x392359(0x83a)]+'\x20('+this[_0x392359(0x238)][_0x392359(0x5df)]+'):\x20Editando\x20edição\x20do\x20fluxo...');let _0x17f14f=_0x3da6e8?.[_0x392359(0x3b0)][_0x392359(0x7c0)]()===_0x392359(0x405)?_0x392359(0x3b0):this['instance'][_0x392359(0x5df)],_0x105a06=await this[_0x392359(0x7f0)][_0x392359(0x76b)][_0x392359(0x868)]({'where':{'name':_0x3da6e8[_0x392359(0x325)]}},_0x17f14f);if(!_0x105a06)throw new Error(_0x392359(0x78f));if(_0x105a06?.[_0x392359(0x3b0)]===_0x392359(0x7d0))throw new m(_0x392359(0x7b7));if(_0x14a571!==ee&&_0x105a06?.['global']===_0x392359(0x405)&&_0x105a06?.[_0x392359(0x89c)]!==this[_0x392359(0x238)]['wuid'])throw new m(_0x392359(0x40a));let _0x5d4835=!0x1;if(_0x3da6e8['varedit']?.['delete']===!0x0)_0x105a06[_0x392359(0x47a)]=_0x105a06[_0x392359(0x47a)]['filter'](_0x51014a=>_0x51014a&&_0x3da6e8[_0x392359(0x586)]&&_0x51014a[_0x392359(0x664)]&&_0x3da6e8['varedit'][_0x392359(0x664)]&&_0x51014a['_id']['toString']()!==_0x3da6e8[_0x392359(0x586)][_0x392359(0x664)][_0x392359(0x5d4)]()),_0x5d4835=!0x0;else{let _0x48bf04=_0x105a06[_0x392359(0x47a)][_0x392359(0x561)](_0x34d659=>_0x34d659&&_0x3da6e8[_0x392359(0x586)]&&_0x34d659[_0x392359(0x664)]&&_0x3da6e8[_0x392359(0x586)]['_id']&&_0x34d659[_0x392359(0x664)]['toString']()===_0x3da6e8[_0x392359(0x586)][_0x392359(0x664)][_0x392359(0x5d4)]());_0x48bf04?(_0x5d4835=_0x48bf04[_0x392359(0x857)]!==_0x3da6e8[_0x392359(0x586)]['order'],Object[_0x392359(0x65f)](_0x48bf04,_0x3da6e8['varedit'])):(_0x105a06['varedits'][_0x392359(0x26a)](_0x3da6e8['varedit']),_0x5d4835=!0x0);}if(_0x5d4835){_0x105a06['varedits'][_0x392359(0x209)]((_0x4e1753,_0x456dc9)=>_0x4e1753[_0x392359(0x857)]>_0x456dc9[_0x392359(0x857)]?0x1:_0x456dc9[_0x392359(0x857)]>_0x4e1753[_0x392359(0x857)]?-0x1:0x0);for(let _0x38733f=0x0;_0x38733f<_0x105a06[_0x392359(0x47a)]['length'];_0x38733f++)_0x105a06['varedits'][_0x38733f][_0x392359(0x857)]=_0x38733f+0x1;}let _0x37bb93=await this[_0x392359(0x7f0)]['flow'][_0x392359(0x4a8)](_0x105a06[_0x392359(0x664)],_0x105a06,_0x17f14f);if(_0x37bb93&&_0x37bb93[_0x392359(0x3fa)]&&_0x37bb93[_0x392359(0x3fa)][_0x392359(0x297)]>0x1&&_0x37bb93[_0x392359(0x3b0)]!=='sync'&&this[_0x392359(0x455)](_0x37bb93[_0x392359(0x664)],_0x17f14f),!_0x37bb93)throw new Error(_0x392359(0x595));return _0x37bb93;}catch(_0x1aac54){let _0x3f56fa='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0x264ddd=_0x1aac54 instanceof Error?_0x1aac54['message']:typeof _0x1aac54==_0x392359(0x86d)?JSON[_0x392359(0x31d)](_0x1aac54):_0x1aac54,_0x29ef2f=_0x3f56fa+':\x20'+_0x264ddd;throw this[_0x392359(0x2bc)][_0x392359(0x82e)](this[_0x392359(0x83a)]+'\x20('+this[_0x392359(0x238)][_0x392359(0x5df)]+_0x392359(0x55c)+_0x29ef2f),new m(_0x29ef2f);}}async['editFlowVariable'](_0x43a9ef,_0x300eab){const _0x2fd1f6=a0_0x420d4d;try{this[_0x2fd1f6(0x2bc)][_0x2fd1f6(0x200)](this['instanceName']+'\x20('+this['instance'][_0x2fd1f6(0x5df)]+'):\x20Editando\x20variável\x20do\x20fluxo...');let _0x27a24a=_0x43a9ef?.[_0x2fd1f6(0x3b0)][_0x2fd1f6(0x7c0)]()==='true'?_0x2fd1f6(0x3b0):this[_0x2fd1f6(0x238)][_0x2fd1f6(0x5df)],_0x2a30b7=await this[_0x2fd1f6(0x7f0)][_0x2fd1f6(0x76b)][_0x2fd1f6(0x868)]({'where':{'name':_0x43a9ef['name']}},_0x27a24a);if(!_0x2a30b7)throw new Error(_0x2fd1f6(0x78f));if(_0x2a30b7?.[_0x2fd1f6(0x3b0)]==='sync')throw new m(_0x2fd1f6(0x7b7));if(_0x300eab!==ee&&_0x2a30b7?.[_0x2fd1f6(0x3b0)]===_0x2fd1f6(0x405)&&_0x2a30b7?.[_0x2fd1f6(0x89c)]!==this[_0x2fd1f6(0x238)][_0x2fd1f6(0x5df)])throw new m(_0x2fd1f6(0x40a));if(_0x300eab!==ee&&_0x2a30b7?.['global']===_0x2fd1f6(0x405)&&_0x2a30b7?.['owner']!==this['instance'][_0x2fd1f6(0x5df)])throw new m(_0x2fd1f6(0x40a));_0x43a9ef['variable'][_0x2fd1f6(0x325)]=_0x43a9ef[_0x2fd1f6(0x4eb)][_0x2fd1f6(0x325)][_0x2fd1f6(0x7c0)](),_0x43a9ef[_0x2fd1f6(0x4eb)][_0x2fd1f6(0x325)][_0x2fd1f6(0x63f)]('_')&&(_0x43a9ef['variable']['name']=_0x43a9ef[_0x2fd1f6(0x4eb)][_0x2fd1f6(0x325)]['substring'](0x1)),_0x43a9ef[_0x2fd1f6(0x4eb)][_0x2fd1f6(0x325)]=_0x43a9ef[_0x2fd1f6(0x4eb)][_0x2fd1f6(0x325)][_0x2fd1f6(0x7c0)]();let _0x4b90e3=_0x2a30b7[_0x2fd1f6(0x4f3)][_0x2fd1f6(0x561)](_0x2f3c13=>_0x2f3c13[_0x2fd1f6(0x325)]===_0x43a9ef[_0x2fd1f6(0x4eb)][_0x2fd1f6(0x325)]);if(_0x4b90e3?.[_0x2fd1f6(0x650)]===!0x0)throw new Error(_0x2fd1f6(0x3cc));if(_0x43a9ef[_0x2fd1f6(0x4eb)]?.[_0x2fd1f6(0x845)]===!0x0){if(!_0x4b90e3)return{'message':'Variável\x20não\x20encontrada!'};_0x2a30b7[_0x2fd1f6(0x4f3)]=_0x2a30b7[_0x2fd1f6(0x4f3)]['filter'](_0x2aefb6=>_0x2aefb6['name']!==_0x43a9ef[_0x2fd1f6(0x4eb)][_0x2fd1f6(0x325)]);}else _0x4b90e3?Object[_0x2fd1f6(0x65f)](_0x4b90e3,_0x43a9ef[_0x2fd1f6(0x4eb)]):_0x2a30b7[_0x2fd1f6(0x4f3)][_0x2fd1f6(0x26a)](_0x43a9ef[_0x2fd1f6(0x4eb)]);let _0x352436=await this[_0x2fd1f6(0x7f0)][_0x2fd1f6(0x76b)]['updateOne'](_0x2a30b7['_id'],_0x2a30b7,_0x27a24a);if(_0x352436&&_0x352436['shareOwners']&&_0x352436[_0x2fd1f6(0x3fa)][_0x2fd1f6(0x297)]>0x1&&_0x352436[_0x2fd1f6(0x3b0)]!==_0x2fd1f6(0x7d0)&&this['synchronizeFlows'](_0x352436['_id'],_0x27a24a),!_0x352436)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x352436;}catch(_0x2646ef){let _0x39ebf6=_0x2fd1f6(0x2d0),_0x196b66=_0x2646ef instanceof Error?_0x2646ef['message']:typeof _0x2646ef==_0x2fd1f6(0x86d)?JSON[_0x2fd1f6(0x31d)](_0x2646ef):_0x2646ef,_0x426e5f=_0x39ebf6+':\x20'+_0x196b66;throw this[_0x2fd1f6(0x2bc)][_0x2fd1f6(0x82e)](this[_0x2fd1f6(0x83a)]+'\x20('+this[_0x2fd1f6(0x238)][_0x2fd1f6(0x5df)]+_0x2fd1f6(0x55c)+_0x426e5f),new m(_0x426e5f);}}async[a0_0x420d4d(0x2f5)](_0x87ad17){const _0x1754d4=a0_0x420d4d;let _0x1132ab=null;try{if(!this[_0x1754d4(0x3e4)]?.[_0x1754d4(0x456)][_0x1754d4(0x87c)])throw new m(_0x1754d4(0x287));this[_0x1754d4(0x2bc)]['verbose'](this[_0x1754d4(0x83a)]+'\x20('+this[_0x1754d4(0x238)][_0x1754d4(0x5df)]+_0x1754d4(0x4fe));let _0x3d6c76=(await this[_0x1754d4(0x674)]({'numbers':[_0x87ad17[_0x1754d4(0x1f9)]]}))[0x0];if(!_0x3d6c76[_0x1754d4(0x419)]&&!(0x0,f[_0x1754d4(0x3cf)])(_0x3d6c76['jid'])&&!_0x3d6c76[_0x1754d4(0x812)][_0x1754d4(0x3a0)](_0x1754d4(0x4e0)))throw _0x1132ab=JSON[_0x1754d4(0x31d)](_0x3d6c76,null,0x2),new m(_0x3d6c76);let _0x441203=await this[_0x1754d4(0x7f0)]['flow'][_0x1754d4(0x868)]({'where':{'name':_0x87ad17['name']}},this['instance'][_0x1754d4(0x5df)]);if(!_0x441203)return this[_0x1754d4(0x2bc)][_0x1754d4(0x82e)](this[_0x1754d4(0x83a)]+'\x20('+this[_0x1754d4(0x238)][_0x1754d4(0x5df)]+'):\x20Flow\x20não\x20encontrado'),{'message':_0x1754d4(0x78f)};let _0xbcd17c=await this[_0x1754d4(0x202)](_0x441203,_0x3d6c76[_0x1754d4(0x812)],_0x87ad17[_0x1754d4(0x707)]);if(_0xbcd17c){this[_0x1754d4(0x2bc)]['verbose'](this[_0x1754d4(0x83a)]+'\x20('+this[_0x1754d4(0x238)]['wuid']+'):\x20Criou\x20conversa\x20no\x20startFlow');let _0x4ffdaf=await this[_0x1754d4(0x83d)](_0xbcd17c);return _0x4ffdaf&&await this[_0x1754d4(0x24e)](_0xbcd17c,_0x4ffdaf),{'message':_0x1754d4(0x7cb)+_0x87ad17[_0x1754d4(0x1f9)]};}}catch(_0xdd32af){if(this[_0x1754d4(0x2bc)][_0x1754d4(0x82e)](this[_0x1754d4(0x83a)]+'\x20('+this[_0x1754d4(0x238)][_0x1754d4(0x5df)]+_0x1754d4(0x288)+(_0xdd32af instanceof Error?_0xdd32af[_0x1754d4(0x8d5)]:JSON['stringify'](_0xdd32af,null,0x2))),_0x1132ab=_0xdd32af instanceof Error?_0xdd32af[_0x1754d4(0x8d5)]:JSON[_0x1754d4(0x31d)](_0xdd32af,null,0x2),_0x1132ab)throw new m(_0x1754d4(0x509)+_0x1132ab);}}async[a0_0x420d4d(0x520)](_0xbfc2c8,_0x481364,_0x258dd4){const _0x298f68=a0_0x420d4d;let _0x17d0ce=null;try{if(!this['AutomateSystem']?.[_0x298f68(0x456)][_0x298f68(0x87c)])throw new m('Fluxos\x20não\x20estão\x20ativados');if(this['logger']['verbose'](this[_0x298f68(0x83a)]+'\x20('+this[_0x298f68(0x238)][_0x298f68(0x5df)]+_0x298f68(0x4fe)),_0x481364){let _0x262680=(await this[_0x298f68(0x674)]({'numbers':[_0x481364]}))[0x0];if(!_0x262680[_0x298f68(0x419)]&&!(0x0,f[_0x298f68(0x3cf)])(_0x262680[_0x298f68(0x812)])&&!_0x262680[_0x298f68(0x812)]['includes'](_0x298f68(0x4e0)))throw _0x17d0ce=JSON[_0x298f68(0x31d)](_0x262680,null,0x2),new m(_0x262680);_0x481364=_0x262680[_0x298f68(0x812)];}else _0x481364||(_0x481364=(0x0,Me['v4'])());let _0x5a9efc=await this[_0x298f68(0x7f0)][_0x298f68(0x76b)][_0x298f68(0x868)]({'where':{'startID':_0xbfc2c8}},this[_0x298f68(0x238)][_0x298f68(0x5df)]);if(!_0x5a9efc)throw this[_0x298f68(0x2bc)][_0x298f68(0x82e)](this[_0x298f68(0x83a)]+'\x20('+this[_0x298f68(0x238)][_0x298f68(0x5df)]+'):\x20Flow\x20não\x20encontrado'),new m(_0x298f68(0x78f));let _0x5b69a8=await this[_0x298f68(0x202)](_0x5a9efc,_0x481364,null);if(_0x5b69a8){this['logger']['verbose'](this[_0x298f68(0x83a)]+'\x20('+this[_0x298f68(0x238)][_0x298f68(0x5df)]+_0x298f68(0x3df));let _0x46da49;if(_0x258dd4){let _0x518707=_0x5b69a8[_0x298f68(0x276)][_0x298f68(0x1ea)],_0x10afa9=this[_0x298f68(0x48d)](_0x258dd4);Object[_0x298f68(0x65f)](_0x518707,_0x10afa9),_0x5b69a8[_0x298f68(0x276)]['realVariables']=_0x518707,_0x46da49={'error':!0x1,'apiResponse':_0x258dd4};}let _0xda0210=await this[_0x298f68(0x83d)](_0x5b69a8);return _0xda0210&&await this[_0x298f68(0x24e)](_0x5b69a8,_0xda0210),{'message':'Flow\x20iniciado'};}}catch(_0x542a5f){if(this[_0x298f68(0x2bc)][_0x298f68(0x82e)](this['instanceName']+'\x20('+this[_0x298f68(0x238)][_0x298f68(0x5df)]+_0x298f68(0x288)+(_0x542a5f instanceof Error?_0x542a5f['message']:JSON[_0x298f68(0x31d)](_0x542a5f,null,0x2))),_0x17d0ce=_0x542a5f instanceof Error?_0x542a5f[_0x298f68(0x8d5)]:JSON[_0x298f68(0x31d)](_0x542a5f,null,0x2),_0x17d0ce)throw new m(_0x298f68(0x509)+_0x17d0ce);}}async[a0_0x420d4d(0x716)](_0x337d78){const _0x3dabd0=a0_0x420d4d;try{let _0x366089={'remoteJid':_0x337d78,'status':_0x3dabd0(0x471)},_0x57bc8b={'status':_0x3dabd0(0x552)},_0x24fbb2=await this[_0x3dabd0(0x7f0)][_0x3dabd0(0x5d3)][_0x3dabd0(0x6a3)](_0x366089,_0x57bc8b,this[_0x3dabd0(0x238)][_0x3dabd0(0x5df)]);return this[_0x3dabd0(0x2bc)][_0x3dabd0(0x200)](this['instanceName']+'\x20('+this[_0x3dabd0(0x238)][_0x3dabd0(0x5df)]+_0x3dabd0(0x244)),_0x24fbb2;}catch(_0xc18d64){throw this[_0x3dabd0(0x2bc)][_0x3dabd0(0x82e)](this[_0x3dabd0(0x83a)]+'\x20('+this['instance'][_0x3dabd0(0x5df)]+_0x3dabd0(0x763)+_0xc18d64[_0x3dabd0(0x8d5)]),_0xc18d64;}}async[a0_0x420d4d(0x202)](_0x1f2dee,_0x218af3,_0x302001){const _0x10b5db=a0_0x420d4d;this[_0x10b5db(0x2bc)][_0x10b5db(0x200)](this[_0x10b5db(0x83a)]+'\x20('+this[_0x10b5db(0x238)][_0x10b5db(0x5df)]+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this[_0x10b5db(0x716)](_0x218af3);try{let _0x7ef661=require(_0x10b5db(0x651))['ObjectId'],_0x535f19=Date[_0x10b5db(0x301)](),_0x2fdec0=_0x10b5db(0x3d8),_0x21c2d6={},_0x217c0b={},_0x12c96a={..._0x1f2dee,'chatLog':null},_0x116221=await this[_0x10b5db(0x29e)](_0x12c96a['variables']),_0x49785c=await this['getVariablesChat'](_0x218af3),_0x189507={..._0x116221,..._0x49785c,'_remoteJid':_0x218af3},_0x52fc3b={'lastReceivedMessage':_0x21c2d6,'lastSendMessage':_0x217c0b,'lastBlockId':_0x2fdec0,'lastCondition':!0x0,'realVariables':_0x189507};_0x12c96a[_0x10b5db(0x276)]=_0x52fc3b,_0x12c96a[_0x10b5db(0x276)]['realVariables']={..._0x189507,..._0x302001},delete _0x12c96a[_0x10b5db(0x664)],_0x12c96a[_0x10b5db(0x664)]=new _0x7ef661(),_0x12c96a[_0x10b5db(0x73c)]=_0x535f19,_0x12c96a[_0x10b5db(0x69e)]=_0x10b5db(0x471),_0x12c96a[_0x10b5db(0x1f9)]=_0x218af3;let _0x2301e6=await this['repository'][_0x10b5db(0x5d3)][_0x10b5db(0x4a8)](_0x12c96a[_0x10b5db(0x664)],_0x12c96a,this['instance']['wuid']);return this['logger'][_0x10b5db(0x200)](this[_0x10b5db(0x83a)]+'\x20('+this[_0x10b5db(0x238)][_0x10b5db(0x5df)]+_0x10b5db(0x8a6)),_0x2301e6?_0x12c96a:null;}catch(_0x42cb5f){let _0x4c9eea=_0x10b5db(0x53b),_0x579d58=_0x42cb5f instanceof Error?_0x42cb5f[_0x10b5db(0x8d5)]:typeof _0x42cb5f==_0x10b5db(0x86d)?JSON[_0x10b5db(0x31d)](_0x42cb5f):_0x42cb5f,_0xd08467=_0x4c9eea+':\x20'+_0x579d58;throw this[_0x10b5db(0x2bc)]['error'](this['instanceName']+'\x20('+this[_0x10b5db(0x238)]['wuid']+_0x10b5db(0x55c)+_0xd08467),new m(_0xd08467);}}async[a0_0x420d4d(0x68c)](_0x5634eb){const _0x2db981=a0_0x420d4d;try{this[_0x2db981(0x2bc)][_0x2db981(0x200)](this[_0x2db981(0x83a)]+'\x20('+this[_0x2db981(0x238)][_0x2db981(0x5df)]+_0x2db981(0x76d)),this[_0x2db981(0x2bc)][_0x2db981(0x200)](this['instanceName']+'\x20('+this[_0x2db981(0x238)]['wuid']+_0x2db981(0x6a8)+_0x5634eb);let _0x152e84={'where':{'_id':_0x5634eb}};return await this['repository'][_0x2db981(0x5d3)][_0x2db981(0x868)](_0x152e84,this[_0x2db981(0x238)][_0x2db981(0x5df)]);}catch(_0x496924){let _0x5b7ccc=_0x2db981(0x25a),_0x5dea1a=_0x496924 instanceof Error?_0x496924[_0x2db981(0x8d5)]:typeof _0x496924==_0x2db981(0x86d)?JSON['stringify'](_0x496924):_0x496924,_0x111256=_0x5b7ccc+':\x20'+_0x5dea1a;throw this[_0x2db981(0x2bc)][_0x2db981(0x82e)](this[_0x2db981(0x83a)]+'\x20('+this[_0x2db981(0x238)][_0x2db981(0x5df)]+_0x2db981(0x55c)+_0x111256),new m(_0x111256);}}async[a0_0x420d4d(0x779)](_0x3c451a){const _0x497d36=a0_0x420d4d;try{return this[_0x497d36(0x2bc)][_0x497d36(0x200)](this['instanceName']+'\x20('+this[_0x497d36(0x238)][_0x497d36(0x5df)]+'):\x20Buscando\x20conversas...'),await this['repository'][_0x497d36(0x5d3)][_0x497d36(0x561)](_0x3c451a,this[_0x497d36(0x238)][_0x497d36(0x5df)]);}catch(_0x1243ab){let _0x6e351a=_0x497d36(0x4bc),_0xc7cb05=_0x1243ab instanceof Error?_0x1243ab[_0x497d36(0x8d5)]:typeof _0x1243ab==_0x497d36(0x86d)?JSON[_0x497d36(0x31d)](_0x1243ab):_0x1243ab,_0x226cb0=_0x6e351a+':\x20'+_0xc7cb05;throw this[_0x497d36(0x2bc)][_0x497d36(0x82e)](this[_0x497d36(0x83a)]+'\x20('+this[_0x497d36(0x238)][_0x497d36(0x5df)]+_0x497d36(0x55c)+_0x226cb0),new m(_0x226cb0);}}async[a0_0x420d4d(0x445)](_0x3d6045){const _0x5bac90=a0_0x420d4d;try{return this[_0x5bac90(0x2bc)][_0x5bac90(0x200)](this[_0x5bac90(0x83a)]+'\x20('+this[_0x5bac90(0x238)][_0x5bac90(0x5df)]+_0x5bac90(0x485)),this[_0x5bac90(0x2bc)][_0x5bac90(0x200)](this[_0x5bac90(0x83a)]+'\x20('+this[_0x5bac90(0x238)]['wuid']+_0x5bac90(0x493)+_0x3d6045),(await this[_0x5bac90(0x7f0)][_0x5bac90(0x5d3)][_0x5bac90(0x23e)]({'where':{'_id':_0x3d6045[_0x5bac90(0x664)]}},this[_0x5bac90(0x238)]['wuid']))[_0x5bac90(0x6a7)]===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':_0x5bac90(0x8b6)};}catch(_0x5485cb){let _0x252a67=_0x5bac90(0x6c6),_0x35a492=_0x5485cb instanceof Error?_0x5485cb[_0x5bac90(0x8d5)]:typeof _0x5485cb==_0x5bac90(0x86d)?JSON[_0x5bac90(0x31d)](_0x5485cb):_0x5485cb,_0x1e8bfd=_0x252a67+':\x20'+_0x35a492;throw this[_0x5bac90(0x2bc)][_0x5bac90(0x82e)](this[_0x5bac90(0x83a)]+'\x20('+this[_0x5bac90(0x238)]['wuid']+_0x5bac90(0x55c)+_0x1e8bfd),new m(_0x1e8bfd);}}async[a0_0x420d4d(0x63a)](_0x656ea4){const _0x51a319=a0_0x420d4d;try{let {_id:_0x25642b,chatLog:_0x7dc644,status:_0x1d0e3c}=_0x656ea4;if(!_0x25642b)return{'message':_0x51a319(0x44e)};let _0x538e7e={};if(_0x1d0e3c!==void 0x0&&(_0x538e7e[_0x51a319(0x69e)]=_0x1d0e3c),Object[_0x51a319(0x673)](_0x538e7e)[_0x51a319(0x297)]===0x0)return{'message':_0x51a319(0x7f4)};let _0x44907f=await this[_0x51a319(0x7f0)][_0x51a319(0x5d3)][_0x51a319(0x4a8)](_0x25642b,_0x538e7e,this[_0x51a319(0x238)][_0x51a319(0x5df)]);return _0x44907f||{'message':_0x51a319(0x7c9)};}catch(_0x3b694d){let _0x5c53a1=_0x51a319(0x4e3),_0x4d70a9=_0x3b694d instanceof Error?_0x3b694d[_0x51a319(0x8d5)]:typeof _0x3b694d==_0x51a319(0x86d)?JSON[_0x51a319(0x31d)](_0x3b694d):_0x3b694d,_0x29825c=_0x5c53a1+':\x20'+_0x4d70a9;throw this[_0x51a319(0x2bc)]['error'](this[_0x51a319(0x83a)]+'\x20('+this['instance']['wuid']+_0x51a319(0x55c)+_0x29825c),new m(_0x29825c);}}async[a0_0x420d4d(0x352)](_0x1f9ff2){const _0x41dc6c=a0_0x420d4d;try{_0x1f9ff2[_0x41dc6c(0x664)]=this['createJid'](_0x1f9ff2[_0x41dc6c(0x664)]);let _0x1fe919=await this['repository'][_0x41dc6c(0x6e9)][_0x41dc6c(0x868)]({'where':{'_id':_0x1f9ff2[_0x41dc6c(0x664)]}},this[_0x41dc6c(0x238)][_0x41dc6c(0x5df)]);if(!_0x1fe919)throw new m(_0x41dc6c(0x4fc));let {_id:_0x83f8c8,leadInfo:_0x461fac}=_0x1f9ff2;if(!_0x83f8c8)throw new Error(_0x41dc6c(0x388));if(_0x1f9ff2[_0x41dc6c(0x845)]===_0x41dc6c(0x679))return await this[_0x41dc6c(0x4ec)](_0x1f9ff2[_0x41dc6c(0x664)]),await this[_0x41dc6c(0x7f0)][_0x41dc6c(0x6e9)][_0x41dc6c(0x845)]({'where':{'_id':_0x1f9ff2[_0x41dc6c(0x664)]}},this[_0x41dc6c(0x238)][_0x41dc6c(0x5df)]),await this[_0x41dc6c(0x7f0)][_0x41dc6c(0x8d5)][_0x41dc6c(0x845)]({'where':{'key':{'remoteJid':_0x1f9ff2['_id']}}},this[_0x41dc6c(0x238)]['wuid']),_0x1f9ff2=await this[_0x41dc6c(0x7f0)]['chat']['updateOne']({'where':{'_id':_0x1f9ff2['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x41dc6c(0x238)][_0x41dc6c(0x5df)]),J(this['instanceName'],'chats',{'chat':_0x1f9ff2}),{'message':_0x41dc6c(0x517)};if(_0x1f9ff2[_0x41dc6c(0x845)]===_0x41dc6c(0x75f))return await this[_0x41dc6c(0x7f0)]['message'][_0x41dc6c(0x845)]({'where':{'key':{'remoteJid':_0x1f9ff2[_0x41dc6c(0x664)]}}},this[_0x41dc6c(0x238)]['wuid']),_0x1f9ff2=await this[_0x41dc6c(0x7f0)]['chat']['updateOne']({'where':{'_id':_0x1f9ff2[_0x41dc6c(0x664)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x41dc6c(0x238)]['wuid']),J(this[_0x41dc6c(0x83a)],'chats',{'chat':_0x1f9ff2}),{'message':_0x41dc6c(0x4ee)};let _0x469106=(_0x635431,_0x1b98fc,_0x35251c)=>{const _0x1e0380=_0x41dc6c;_0x635431&&_0x35251c[_0x1e0380(0x425)](_0x4636fc=>{const _0x271177=_0x1e0380;_0x635431[_0x4636fc]!==void 0x0&&(_0x1b98fc[_0x271177(0x3d7)+_0x4636fc]=_0x635431[_0x4636fc]);});},_0x41ab01={};if('muteEndTime'in _0x1f9ff2&&(this[_0x41dc6c(0x2bc)][_0x41dc6c(0x200)](_0x41dc6c(0x62f)+_0x1f9ff2['_id']),_0x1f9ff2[_0x41dc6c(0x1e3)]=_0x1f9ff2[_0x41dc6c(0x1e3)]===0x0?null:-0x1,await this['client'][_0x41dc6c(0x725)]({'mute':_0x1f9ff2[_0x41dc6c(0x1e3)]},_0x1f9ff2['_id']),_0x41ab01[_0x41dc6c(0x1e3)]=Number(_0x1f9ff2[_0x41dc6c(0x1e3)])),_0x461fac&&(_0x469106(_0x461fac,_0x41ab01,[_0x41dc6c(0x55a),_0x41dc6c(0x44b),_0x41dc6c(0x3ee),_0x41dc6c(0x770),_0x41dc6c(0x69e),_0x41dc6c(0x84e),_0x41dc6c(0x4d5),_0x41dc6c(0x22b),_0x41dc6c(0x65a),_0x41dc6c(0x2e3)]),Array[_0x41dc6c(0x5bf)](_0x461fac['customFields'])&&(_0x41ab01['leadInfo.customFields']=_0x461fac['customFields'][_0x41dc6c(0x28d)](_0x422e1c=>({'_id':_0x422e1c[_0x41dc6c(0x664)],'value':_0x422e1c['value']}))),_0x1f9ff2[_0x41dc6c(0x650)][_0x41dc6c(0x2e3)]!==void 0x0)){let _0x1dbdeb=await this['repository'][_0x41dc6c(0x1d7)][_0x41dc6c(0x561)]({'where':{}},this[_0x41dc6c(0x238)][_0x41dc6c(0x5df)]),_0x46b934=new Set(_0x1f9ff2['leadInfo']['etiquetas']||[]),_0x7f9ae0=new Set(_0x1f9ff2[_0x41dc6c(0x650)][_0x41dc6c(0x2e3)]),_0x3e2ed5=new Set(_0x1dbdeb[_0x41dc6c(0x28d)](_0x51e3c6=>_0x51e3c6['_id'])),_0x89babc=[..._0x7f9ae0][_0x41dc6c(0x6cb)](_0x466145=>!_0x46b934[_0x41dc6c(0x84a)](_0x466145)&&_0x3e2ed5[_0x41dc6c(0x84a)](_0x466145)),_0x21f02a=[..._0x46b934][_0x41dc6c(0x6cb)](_0x58ddf4=>!_0x7f9ae0[_0x41dc6c(0x84a)](_0x58ddf4));if(_0x41ab01[_0x41dc6c(0x8de)]=[..._0x46b934],_0x1fe919&&!_0x1fe919[_0x41dc6c(0x33a)]){for(let _0x2bbc29 of _0x89babc)await this[_0x41dc6c(0x27c)](_0x2bbc29,_0x1f9ff2[_0x41dc6c(0x664)]),_0x46b934['add'](_0x2bbc29);for(let _0x158326 of _0x21f02a)await this['RemoveChatLabel'](_0x158326,_0x1f9ff2[_0x41dc6c(0x664)]),_0x46b934[_0x41dc6c(0x845)](_0x158326);}}if(_0x1f9ff2[_0x41dc6c(0x896)]!==void 0x0&&(_0x41ab01[_0x41dc6c(0x896)]=Number(_0x1f9ff2[_0x41dc6c(0x896)])),Object['keys'](_0x41ab01)[_0x41dc6c(0x297)]===0x0)throw new Error(_0x41dc6c(0x7f4));let _0x48d9d5=await this[_0x41dc6c(0x7f0)][_0x41dc6c(0x6e9)][_0x41dc6c(0x4a8)]({'where':{'_id':_0x1f9ff2[_0x41dc6c(0x664)]}},_0x41ab01,this[_0x41dc6c(0x238)][_0x41dc6c(0x5df)]);return _0x48d9d5&&J(this[_0x41dc6c(0x83a)],_0x41dc6c(0x300),{'chat':_0x48d9d5}),_0x48d9d5?(this[_0x41dc6c(0x2bc)][_0x41dc6c(0x200)](this['instanceName']+'\x20('+this[_0x41dc6c(0x238)][_0x41dc6c(0x5df)]+_0x41dc6c(0x55c)+JSON[_0x41dc6c(0x31d)](_0x48d9d5,null,0x2)),_0x48d9d5):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x1d9bb5){let _0x21cfc7='Erro\x20ao\x20editar\x20o\x20chat',_0x571157=_0x1d9bb5 instanceof Error?_0x1d9bb5['message']:typeof _0x1d9bb5=='object'?JSON[_0x41dc6c(0x31d)](_0x1d9bb5):_0x1d9bb5,_0x33c205=_0x21cfc7+':\x20'+_0x571157;throw this[_0x41dc6c(0x2bc)][_0x41dc6c(0x82e)](this[_0x41dc6c(0x83a)]+'\x20('+this['instance'][_0x41dc6c(0x5df)]+_0x41dc6c(0x55c)+_0x33c205),new m(_0x33c205);}}async[a0_0x420d4d(0x27c)](_0x32e703,_0x3c75de){const _0x58b174=a0_0x420d4d;try{await this[_0x58b174(0x43d)]['addChatLabel'](_0x3c75de,_0x32e703),this[_0x58b174(0x2bc)][_0x58b174(0x536)](this[_0x58b174(0x83a)]+'\x20('+this[_0x58b174(0x238)][_0x58b174(0x5df)]+_0x58b174(0x706)+_0x32e703+_0x58b174(0x4a0)+_0x3c75de+_0x58b174(0x8ce));}catch(_0xd1648f){console['error'](_0x58b174(0x255)+_0x32e703+_0x58b174(0x721)+_0x3c75de+':',_0xd1648f);}}async[a0_0x420d4d(0x366)](_0x2b59f3,_0x5893f1){const _0x5d417b=a0_0x420d4d;try{await this[_0x5d417b(0x43d)][_0x5d417b(0x480)](_0x5893f1,_0x2b59f3),this[_0x5d417b(0x2bc)][_0x5d417b(0x536)](this[_0x5d417b(0x83a)]+'\x20('+this[_0x5d417b(0x238)][_0x5d417b(0x5df)]+_0x5d417b(0x706)+_0x2b59f3+_0x5d417b(0x7bb)+_0x5893f1+_0x5d417b(0x8ce));}catch(_0x52f897){console[_0x5d417b(0x82e)](_0x5d417b(0x869)+_0x2b59f3+_0x5d417b(0x3c4)+_0x5893f1+':',_0x52f897);}}async[a0_0x420d4d(0x4c5)](_0x3373db){const _0x14ccc3=a0_0x420d4d;try{let _0x150221=await this['repository']['automateSystem'][_0x14ccc3(0x2c1)](this['instance']['wuid']),_0x1db5d1=_0x3373db[_0x14ccc3(0x664)]?_0x150221[_0x14ccc3(0x323)][_0x14ccc3(0x892)](_0x532910=>_0x532910[_0x14ccc3(0x664)]===_0x3373db['_id']):-0x1;if(_0x3373db[_0x14ccc3(0x845)]&&_0x1db5d1>-0x1)_0x150221['agents'][_0x14ccc3(0x2ae)](_0x1db5d1,0x1);else{if(_0x1db5d1>-0x1){let _0x283b7a=_0x150221[_0x14ccc3(0x323)][_0x1db5d1];_0x3373db[_0x14ccc3(0x364)]&&(_0x283b7a[_0x14ccc3(0x364)]=_0x3373db[_0x14ccc3(0x364)]),_0x3373db[_0x14ccc3(0x325)]&&(_0x283b7a[_0x14ccc3(0x325)]=_0x3373db[_0x14ccc3(0x325)]),_0x3373db[_0x14ccc3(0x3ee)]&&(_0x283b7a[_0x14ccc3(0x3ee)]=_0x3373db[_0x14ccc3(0x3ee)]),_0x3373db[_0x14ccc3(0x3cd)]&&(_0x283b7a[_0x14ccc3(0x3cd)]=_0x3373db[_0x14ccc3(0x3cd)]);}else _0x150221[_0x14ccc3(0x323)][_0x14ccc3(0x26a)]({'_id':_0x3373db[_0x14ccc3(0x664)]||new re['default'][(_0x14ccc3(0x665))][(_0x14ccc3(0x64f))]()[_0x14ccc3(0x5d4)](),'fone':_0x3373db['fone'],'name':_0x3373db['name'],'email':_0x3373db['email'],'role':_0x3373db[_0x14ccc3(0x3cd)]});}let _0x251784={'agents':_0x150221[_0x14ccc3(0x323)]},_0x43757d=await this[_0x14ccc3(0x7f0)][_0x14ccc3(0x71c)][_0x14ccc3(0x318)](_0x251784,this[_0x14ccc3(0x238)][_0x14ccc3(0x5df)]);return this[_0x14ccc3(0x3e4)]=_0x43757d,this['logger'][_0x14ccc3(0x200)](this[_0x14ccc3(0x83a)]+'\x20('+this['instance'][_0x14ccc3(0x5df)]+_0x14ccc3(0x28a)),this[_0x14ccc3(0x2bc)][_0x14ccc3(0x200)](this[_0x14ccc3(0x83a)]+'\x20('+this['instance']['wuid']+_0x14ccc3(0x55c)+this['AutomateSystem']),_0x43757d;}catch(_0x15655d){let _0x5e47c6='Erro\x20ao\x20editar\x20agentes',_0x36dcb6=_0x15655d instanceof Error?_0x15655d[_0x14ccc3(0x8d5)]:typeof _0x15655d==_0x14ccc3(0x86d)?JSON[_0x14ccc3(0x31d)](_0x15655d):_0x15655d,_0x366642=_0x5e47c6+':\x20'+_0x36dcb6;throw this[_0x14ccc3(0x2bc)][_0x14ccc3(0x82e)](this[_0x14ccc3(0x83a)]+'\x20('+this[_0x14ccc3(0x238)][_0x14ccc3(0x5df)]+'):\x20'+_0x366642),new m(_0x366642);}}async[a0_0x420d4d(0x39b)](_0x591386){const _0x486096=a0_0x420d4d;try{let _0x5a7f57=await this[_0x486096(0x7f0)][_0x486096(0x71c)][_0x486096(0x2c1)](this[_0x486096(0x238)][_0x486096(0x5df)]),_0x964525=_0x591386[_0x486096(0x664)]?_0x5a7f57[_0x486096(0x619)][_0x486096(0x892)](_0x419886=>_0x419886['_id']===_0x591386['_id']):-0x1,_0x3ece25=!0x1,_0x492a30=_0x5a7f57[_0x486096(0x619)][_0x486096(0x5e9)](_0x3d66fe=>_0x3d66fe[_0x486096(0x857)]===_0x591386['order']);if(_0x591386['delete']&&_0x964525>-0x1)_0x5a7f57[_0x486096(0x619)]['splice'](_0x964525,0x1),_0x3ece25=!0x0;else{if(_0x964525>-0x1){if(_0x5a7f57[_0x486096(0x619)][_0x486096(0x5e9)](_0x4c22e7=>_0x4c22e7[_0x486096(0x325)]===_0x591386[_0x486096(0x325)]&&_0x4c22e7['_id']!==_0x591386['_id']))throw new Error(_0x486096(0x370));let _0x5234da=_0x5a7f57[_0x486096(0x619)][_0x964525];_0x591386[_0x486096(0x857)]&&(_0x492a30||!Number['isInteger'](_0x591386['order']))&&(_0x5234da[_0x486096(0x857)]=_0x591386[_0x486096(0x857)],_0x3ece25=!0x0),_0x591386[_0x486096(0x325)]&&(_0x5234da[_0x486096(0x325)]=_0x591386[_0x486096(0x325)]);}else{if(_0x5a7f57[_0x486096(0x619)]['some'](_0x338d0d=>_0x338d0d[_0x486096(0x325)]===_0x591386['name']&&_0x338d0d['_id']!==_0x591386[_0x486096(0x664)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x5a7f57[_0x486096(0x619)][_0x486096(0x26a)]({'_id':_0x591386[_0x486096(0x664)]||new re['default'][(_0x486096(0x665))][(_0x486096(0x64f))]()['toString'](),'order':_0x591386[_0x486096(0x857)],'name':_0x591386[_0x486096(0x325)]}),_0x3ece25=!0x0;}}if(_0x3ece25){_0x5a7f57[_0x486096(0x619)][_0x486096(0x209)]((_0x5cb290,_0x1864ed)=>_0x5cb290['order']>_0x1864ed[_0x486096(0x857)]?0x1:_0x1864ed['order']>_0x5cb290[_0x486096(0x857)]?-0x1:0x0);for(let _0x5330f4=0x0;_0x5330f4<_0x5a7f57['customFields']['length'];_0x5330f4++)_0x5a7f57[_0x486096(0x619)][_0x5330f4][_0x486096(0x857)]=_0x5330f4+0x1;}let _0x425dc8=await this['repository']['automateSystem']['update'](_0x5a7f57,this['instance']['wuid']);return this['AutomateSystem']=_0x425dc8,this[_0x486096(0x2bc)][_0x486096(0x200)](this[_0x486096(0x83a)]+'\x20('+this[_0x486096(0x238)][_0x486096(0x5df)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x486096(0x2bc)]['verbose'](this[_0x486096(0x83a)]+'\x20('+this[_0x486096(0x238)][_0x486096(0x5df)]+_0x486096(0x55c)+this[_0x486096(0x3e4)]),_0x425dc8;}catch(_0x5129f4){let _0x3b3cc1=_0x486096(0x7e5),_0x2304dc=_0x5129f4 instanceof Error?_0x5129f4[_0x486096(0x8d5)]:typeof _0x5129f4==_0x486096(0x86d)?JSON[_0x486096(0x31d)](_0x5129f4):_0x5129f4,_0xb65224=_0x3b3cc1+':\x20'+_0x2304dc;throw this[_0x486096(0x2bc)][_0x486096(0x82e)](this[_0x486096(0x83a)]+'\x20('+this[_0x486096(0x238)][_0x486096(0x5df)]+'):\x20'+_0xb65224),new m(_0xb65224);}}async[a0_0x420d4d(0x79f)](_0x1f12a8){const _0x4a7656=a0_0x420d4d;try{let _0x3c3b61=await this[_0x4a7656(0x7f0)]['automateSystem'][_0x4a7656(0x2c1)](this[_0x4a7656(0x238)][_0x4a7656(0x5df)]),_0xc2086e=_0x3c3b61?.[_0x4a7656(0x5fe)]?.[_0x4a7656(0x892)](_0x58cc97=>_0x58cc97[_0x4a7656(0x664)]===_0x1f12a8?.['_id']);if(_0x1f12a8?.[_0x4a7656(0x845)])_0xc2086e>-0x1&&_0x3c3b61?.[_0x4a7656(0x5fe)]?.[_0x4a7656(0x2ae)](_0xc2086e,0x1);else{if(_0xc2086e>-0x1){let _0x55e46a=_0x3c3b61['autoCompleteMessages'][_0xc2086e];_0x55e46a[_0x4a7656(0x857)]=_0x1f12a8?.['order']||_0x55e46a[_0x4a7656(0x857)],_0x55e46a[_0x4a7656(0x697)]=_0x1f12a8?.[_0x4a7656(0x697)]||_0x55e46a[_0x4a7656(0x697)],_0x55e46a[_0x4a7656(0x8d5)]=_0x1f12a8?.[_0x4a7656(0x8d5)]||_0x55e46a[_0x4a7656(0x8d5)];}else{let _0x16ae69={'_id':_0x1f12a8?.['_id']||new re[(_0x4a7656(0x7f3))][(_0x4a7656(0x665))][(_0x4a7656(0x64f))]()['toString'](),'order':_0x1f12a8?.[_0x4a7656(0x857)],'command':_0x1f12a8?.[_0x4a7656(0x697)],'message':_0x1f12a8?.[_0x4a7656(0x8d5)]};_0x3c3b61?.['autoCompleteMessages']?.['push'](_0x16ae69);}}_0x3c3b61?.[_0x4a7656(0x5fe)]?.[_0x4a7656(0x209)]((_0x1cdbd0,_0x2b3500)=>_0x1cdbd0[_0x4a7656(0x857)]-_0x2b3500[_0x4a7656(0x857)]);let _0xc0a34e=await this['repository']['automateSystem'][_0x4a7656(0x318)](_0x3c3b61,this[_0x4a7656(0x238)][_0x4a7656(0x5df)]);return this[_0x4a7656(0x3e4)]=_0xc0a34e,this[_0x4a7656(0x2bc)][_0x4a7656(0x200)](this[_0x4a7656(0x83a)]+'\x20('+this[_0x4a7656(0x238)][_0x4a7656(0x5df)]+_0x4a7656(0x8d6)),_0xc0a34e;}catch(_0x4ae00c){let _0xae6a82=_0x4a7656(0x886),_0x4eb515=_0x4ae00c instanceof Error?_0x4ae00c[_0x4a7656(0x8d5)]:typeof _0x4ae00c=='object'?JSON[_0x4a7656(0x31d)](_0x4ae00c):_0x4ae00c,_0x98d63e=_0xae6a82+':\x20'+_0x4eb515;throw this[_0x4a7656(0x2bc)][_0x4a7656(0x82e)](this[_0x4a7656(0x83a)]+'\x20('+this[_0x4a7656(0x238)]['wuid']+'):\x20'+_0x98d63e),new m(_0x98d63e);}}async[a0_0x420d4d(0x8bd)](_0x738bc7){const _0x3781d6=a0_0x420d4d;try{let _0x1f2558=await this[_0x3781d6(0x7f0)][_0x3781d6(0x71c)]['findOrCreate'](this['instance']['wuid']);if(!_0x1f2558)throw new Error(_0x3781d6(0x826));let _0x14d140={'_id':_0x1f2558[_0x3781d6(0x664)],'flowConfig':{'enabled':_0x738bc7['enabled']??_0x1f2558[_0x3781d6(0x456)]['enabled'],'ignoreGroups':_0x738bc7[_0x3781d6(0x739)]??_0x1f2558['flowConfig']['ignoreGroups'],'prefixCommand':_0x738bc7[_0x3781d6(0x275)]??_0x1f2558['flowConfig']['prefixCommand'],'stopConversation':_0x738bc7[_0x3781d6(0x669)]??_0x1f2558['flowConfig']['stopConversation'],'stopMinutes':_0x738bc7[_0x3781d6(0x7f5)]??_0x1f2558['flowConfig'][_0x3781d6(0x7f5)],'stopWhenYouSendMsg':_0x738bc7['stopWhenYouSendMsg']??_0x1f2558[_0x3781d6(0x456)][_0x3781d6(0x5f2)]}},_0x150eaf=await this[_0x3781d6(0x7f0)][_0x3781d6(0x71c)]['update'](_0x14d140,this[_0x3781d6(0x238)][_0x3781d6(0x5df)]);return this[_0x3781d6(0x3e4)]=_0x150eaf,this[_0x3781d6(0x2bc)][_0x3781d6(0x200)](this[_0x3781d6(0x83a)]+'\x20('+this[_0x3781d6(0x238)]['wuid']+_0x3781d6(0x28a)),this['logger'][_0x3781d6(0x200)](this[_0x3781d6(0x83a)]+'\x20('+this[_0x3781d6(0x238)][_0x3781d6(0x5df)]+'):\x20'+this[_0x3781d6(0x3e4)]),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x150eaf;}catch(_0x5291bc){let _0x1b9010='Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos',_0x396976=_0x5291bc instanceof Error?_0x5291bc[_0x3781d6(0x8d5)]:typeof _0x5291bc==_0x3781d6(0x86d)?JSON['stringify'](_0x5291bc):_0x5291bc,_0x4bb73b=_0x1b9010+':\x20'+_0x396976;throw this['logger'][_0x3781d6(0x82e)](this[_0x3781d6(0x83a)]+'\x20('+this[_0x3781d6(0x238)]['wuid']+_0x3781d6(0x55c)+_0x4bb73b),new m(_0x4bb73b);}}async[a0_0x420d4d(0x4ca)](){const _0x4a05f3=a0_0x420d4d;try{let _0xf458ca=await this[_0x4a05f3(0x7f0)][_0x4a05f3(0x71c)]['findOrCreate'](this[_0x4a05f3(0x238)][_0x4a05f3(0x5df)]);return this[_0x4a05f3(0x3e4)]=_0xf458ca,this[_0x4a05f3(0x2bc)][_0x4a05f3(0x200)](this[_0x4a05f3(0x83a)]+'\x20('+this[_0x4a05f3(0x238)][_0x4a05f3(0x5df)]+_0x4a05f3(0x342)),this[_0x4a05f3(0x2bc)][_0x4a05f3(0x200)](this['AutomateSystem']),_0xf458ca;}catch(_0x11ba39){let _0x523fbe=_0x4a05f3(0x2ea),_0x1d1adc=_0x11ba39 instanceof Error?_0x11ba39[_0x4a05f3(0x8d5)]:typeof _0x11ba39=='object'?JSON[_0x4a05f3(0x31d)](_0x11ba39):_0x11ba39,_0x5824cc=_0x523fbe+':\x20'+_0x1d1adc;throw this['logger'][_0x4a05f3(0x82e)](this[_0x4a05f3(0x83a)]+'\x20('+this[_0x4a05f3(0x238)][_0x4a05f3(0x5df)]+'):\x20'+_0x5824cc),new m(_0x5824cc);}}async[a0_0x420d4d(0x446)](){const _0x335f29=a0_0x420d4d;this[_0x335f29(0x238)][_0x335f29(0x3a3)]['timeout']&&clearTimeout(this['instance'][_0x335f29(0x3a3)][_0x335f29(0x70c)]),this['instance'][_0x335f29(0x3a3)][_0x335f29(0x70c)]=setTimeout(()=>{const _0x2e5588=_0x335f29;this[_0x2e5588(0x597)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x420d4d(0x597)](){const _0x828eed=a0_0x420d4d;Date['now']()-this[_0x828eed(0x238)][_0x828eed(0x3a3)][_0x828eed(0x23f)]>=0x1d4c0&&(this[_0x828eed(0x2bc)]['verbose'](this[_0x828eed(0x83a)]+'\x20('+this[_0x828eed(0x238)]['wuid']+_0x828eed(0x330)),this[_0x828eed(0x238)][_0x828eed(0x3a3)][_0x828eed(0x63d)]=null,this['instance'][_0x828eed(0x3a3)][_0x828eed(0x23f)]=0x0,this[_0x828eed(0x238)][_0x828eed(0x3a3)]['delayMessage']=0x0,await this['scheduleNextCheck']());}async[a0_0x420d4d(0x737)](){const _0x43f679=a0_0x420d4d;let _0x510fa6=()=>{const _0x349968=a0_0x296e;this[_0x349968(0x2bc)][_0x349968(0x200)](this['instanceName']+'\x20('+this[_0x349968(0x238)][_0x349968(0x5df)]+_0x349968(0x478)+this['instance'][_0x349968(0x3a3)][_0x349968(0x63d)]+_0x349968(0x83c));},_0x4e2e97=async()=>{const _0x48e283=a0_0x296e;this[_0x48e283(0x2bc)]['verbose'](this[_0x48e283(0x83a)]+'\x20('+this[_0x48e283(0x238)]['wuid']+_0x48e283(0x2da));let _0x24135e=Date['now']()-0xc*0x3c*0x3c*0x3e8,_0x4c2dc3={'where':{'status':{'$in':[_0x48e283(0x6ed),_0x48e283(0x417)]},'$or':[{'when':{'$lte':Date[_0x48e283(0x301)](),'$gte':_0x24135e}},{'when':0x0}]}};return await this[_0x48e283(0x7f0)]['scheduleMessage']['find'](_0x4c2dc3,this[_0x48e283(0x238)]['wuid']);},_0x55e385=async _0x1537bf=>{const _0xa03259=a0_0x296e;for(let _0x13cbc9 of _0x1537bf){let _0x183c4e={'_id':_0x13cbc9[_0xa03259(0x664)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0xa03259(0x301)]()-0x1770}}]},_0x412c55={'startSend':Date[_0xa03259(0x301)]()};if(!await this[_0xa03259(0x7f0)][_0xa03259(0x7eb)][_0xa03259(0x4a8)](_0x183c4e,_0x412c55,this[_0xa03259(0x238)][_0xa03259(0x5df)]))return;if(!this['instance'][_0xa03259(0x3a3)][_0xa03259(0x6fd)]){this[_0xa03259(0x2bc)]['verbose'](this[_0xa03259(0x83a)]+'\x20('+this[_0xa03259(0x238)][_0xa03259(0x5df)]+'):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected');break;}if(_0x13cbc9[_0xa03259(0x4cf)]==='flow'&&!this[_0xa03259(0x3e4)]?.[_0xa03259(0x456)][_0xa03259(0x87c)]){this['logger']['error'](this[_0xa03259(0x83a)]+'\x20('+this[_0xa03259(0x238)][_0xa03259(0x5df)]+_0xa03259(0x42e));continue;}(!_0x13cbc9[_0xa03259(0x208)]||_0x13cbc9['remoteJidsRemaining'][_0xa03259(0x297)]===0x0)&&(_0x13cbc9=await this[_0xa03259(0x7f0)][_0xa03259(0x7eb)][_0xa03259(0x78b)](_0x13cbc9['_id'],{'status':_0xa03259(0x417),'remoteJidsRemaining':[..._0x13cbc9[_0xa03259(0x78a)]]},this[_0xa03259(0x238)]['wuid']));for(let _0xa6c322 of _0x13cbc9[_0xa03259(0x208)]){if(await this[_0xa03259(0x446)](),this[_0xa03259(0x238)][_0xa03259(0x3a3)]['lastSend']=Date[_0xa03259(0x301)](),this[_0xa03259(0x238)][_0xa03259(0x3a3)]['ultimaTentativaRemoteJid']===_0xa6c322){this[_0xa03259(0x2bc)][_0xa03259(0x82e)](this[_0xa03259(0x83a)]+'\x20('+this[_0xa03259(0x238)][_0xa03259(0x5df)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20'+_0xa6c322+_0xa03259(0x884));let _0x36d24d={'$push':{'messagesSend':{'remoteJid':_0xa6c322,'error':!0x0,'id':null,'error_log':_0xa03259(0x820),'log_timestamp':Date['now']()}},'$pull':{'remoteJidsRemaining':_0xa6c322}};await this[_0xa03259(0x7f0)][_0xa03259(0x7eb)][_0xa03259(0x78b)](_0x13cbc9[_0xa03259(0x664)],_0x36d24d,this[_0xa03259(0x238)][_0xa03259(0x5df)]);continue;}if(this[_0xa03259(0x238)][_0xa03259(0x3a3)][_0xa03259(0x6e4)]=_0xa6c322,_0x13cbc9['messagesSend']['some'](_0x3dd83f=>_0x3dd83f['remoteJid']===_0xa6c322)){this[_0xa03259(0x2bc)][_0xa03259(0x200)](this[_0xa03259(0x83a)]+'\x20('+this[_0xa03259(0x238)][_0xa03259(0x5df)]+_0xa03259(0x5e0)+_0xa6c322+_0xa03259(0x6c9));continue;}if(!this[_0xa03259(0x238)][_0xa03259(0x3a3)][_0xa03259(0x6fd)]){this[_0xa03259(0x2bc)][_0xa03259(0x200)](this[_0xa03259(0x83a)]+'\x20('+this['instance'][_0xa03259(0x5df)]+_0xa03259(0x394));break;}if(!this[_0xa03259(0x238)][_0xa03259(0x3a3)][_0xa03259(0x63d)]){this['logger']['verbose'](this[_0xa03259(0x83a)]+'\x20('+this[_0xa03259(0x238)][_0xa03259(0x5df)]+_0xa03259(0x4df)+_0x13cbc9['_id']+_0xa03259(0x46e));break;}if(_0x13cbc9[_0xa03259(0x4cf)]==='flow'&&!this[_0xa03259(0x3e4)]?.[_0xa03259(0x456)][_0xa03259(0x87c)]){this[_0xa03259(0x2bc)][_0xa03259(0x82e)](this[_0xa03259(0x83a)]+'\x20('+this['instance']['wuid']+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');break;}let _0x426bab={'remoteJid':_0xa6c322,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0xa03259(0x301)]()},_0x5134b6=null;try{let _0x2bdbd5=await this[_0xa03259(0x6e2)](_0xa6c322,_0x13cbc9);_0x426bab['error']=_0x2bdbd5['error'],_0x426bab['id']=_0x2bdbd5[_0xa03259(0x82e)]?null:_0x2bdbd5['id'],_0x426bab[_0xa03259(0x400)]=_0x2bdbd5[_0xa03259(0x82e)]?_0x2bdbd5['detail']?_0x2bdbd5['detail'][_0xa03259(0x5d4)]():'':null;let _0x31cc26={'$push':{'messagesSend':_0x426bab},'$pull':{'remoteJidsRemaining':_0xa6c322}},_0x55b730=_0x13cbc9[_0xa03259(0x664)];if(_0x5134b6=await this[_0xa03259(0x7f0)][_0xa03259(0x7eb)]['updateOneById'](_0x55b730,_0x31cc26,this[_0xa03259(0x238)]['wuid']),_0x2bdbd5[_0xa03259(0x82e)])continue;let _0xe9d340=this['getDelay'](_0x13cbc9['delaySecMin'],_0x13cbc9[_0xa03259(0x4f2)]);await this[_0xa03259(0x7ab)](_0xe9d340);}catch(_0x539c4c){this['logger'][_0xa03259(0x82e)](this[_0xa03259(0x83a)]+'\x20('+this['instance'][_0xa03259(0x5df)]+_0xa03259(0x4e1)+_0xa6c322+':\x20'+(_0x539c4c instanceof Error?_0x539c4c[_0xa03259(0x8d5)]:JSON[_0xa03259(0x31d)](_0x539c4c,null,0x2))),_0x426bab[_0xa03259(0x82e)]=!0x0,_0x426bab[_0xa03259(0x400)]=_0x539c4c[_0xa03259(0x8d5)];let _0x41dc22={'$push':{'messagesSend':_0x426bab},'$pull':{'remoteJidsRemaining':_0xa6c322}},_0x4aa49b=_0x13cbc9[_0xa03259(0x664)];_0x5134b6=await this['repository']['scheduleMessage'][_0xa03259(0x78b)](_0x4aa49b,_0x41dc22,this['instance'][_0xa03259(0x5df)]);}finally{if(_0x5134b6&&_0x5134b6[_0xa03259(0x69e)]===_0xa03259(0x66e)){this[_0xa03259(0x2bc)][_0xa03259(0x200)](this[_0xa03259(0x83a)]+'\x20('+this[_0xa03259(0x238)][_0xa03259(0x5df)]+_0xa03259(0x4df)+_0x13cbc9[_0xa03259(0x664)]+_0xa03259(0x5b6));break;}}}let _0x914b81=await this[_0xa03259(0x7f0)][_0xa03259(0x7eb)][_0xa03259(0x50e)](_0x13cbc9[_0xa03259(0x664)],this['instance'][_0xa03259(0x5df)]);if(_0x914b81[_0xa03259(0x208)][_0xa03259(0x297)]===0x0&&_0x914b81[_0xa03259(0x69e)]!==_0xa03259(0x66e)){this[_0xa03259(0x238)][_0xa03259(0x3a3)][_0xa03259(0x6e4)]=null;let _0x107ca9={'$set':{'status':'done'}},_0x4f7617=_0x914b81[_0xa03259(0x664)];await this[_0xa03259(0x7f0)][_0xa03259(0x7eb)][_0xa03259(0x78b)](_0x4f7617,_0x107ca9,this[_0xa03259(0x238)][_0xa03259(0x5df)]);}await new Promise(_0x2e8e66=>setTimeout(_0x2e8e66,0x1388));}},_0x5480b4=async()=>{const _0x92c32=a0_0x296e;let _0x388d0a={'where':{'status':_0x92c32(0x6ed),'when':{'$gt':Date[_0x92c32(0x301)]()}}},_0xe82615=await this[_0x92c32(0x7f0)]['scheduleMessage']['findOne'](_0x388d0a,this[_0x92c32(0x238)][_0x92c32(0x5df)]);_0xe82615&&_0xe82615[_0x92c32(0x692)]-Date[_0x92c32(0x301)]()<=0x5265c00?this[_0x92c32(0x238)][_0x92c32(0x3a3)]['delayMessage']=_0xe82615[_0x92c32(0x692)]-Date['now']():this['instance'][_0x92c32(0x3a3)][_0x92c32(0x3be)]=(0x3c+Math[_0x92c32(0x823)](Math[_0x92c32(0x7f6)]()*0x3c))*0x3c*0x3e8,this[_0x92c32(0x238)][_0x92c32(0x3a3)][_0x92c32(0x3be)]=Math['max'](this[_0x92c32(0x238)][_0x92c32(0x3a3)]['delayMessage'],0x7d0);let _0x197b38=Math['round'](this[_0x92c32(0x238)][_0x92c32(0x3a3)][_0x92c32(0x3be)]/0xea60);if(_0xe82615){let _0x5cde26=new Date(_0xe82615[_0x92c32(0x692)])[_0x92c32(0x1fd)]();this[_0x92c32(0x2bc)][_0x92c32(0x200)](this['instanceName']+'\x20('+this[_0x92c32(0x238)][_0x92c32(0x5df)]+_0x92c32(0x34b)+_0x5cde26+_0x92c32(0x69f)+_0x197b38+_0x92c32(0x291));}else this[_0x92c32(0x2bc)]['verbose'](this[_0x92c32(0x83a)]+'\x20('+this[_0x92c32(0x238)][_0x92c32(0x5df)]+_0x92c32(0x8a0)+_0x197b38+_0x92c32(0x291));setTimeout(()=>this[_0x92c32(0x737)](),this[_0x92c32(0x238)][_0x92c32(0x3a3)][_0x92c32(0x3be)]);};if(this[_0x43f679(0x238)][_0x43f679(0x3a3)][_0x43f679(0x63d)]){await this[_0x43f679(0x446)](),_0x510fa6();return;}if(!this[_0x43f679(0x238)][_0x43f679(0x3a3)]['isConnected']){this[_0x43f679(0x2bc)][_0x43f679(0x200)](this['instanceName']+'\x20('+this['instance'][_0x43f679(0x5df)]+_0x43f679(0x591)),this['instance']['ScheduleMessage'][_0x43f679(0x63d)]=null,this['instance']['ScheduleMessage'][_0x43f679(0x23f)]=0x0,this[_0x43f679(0x238)][_0x43f679(0x3a3)][_0x43f679(0x3be)]=0x0,this['instance'][_0x43f679(0x3a3)][_0x43f679(0x6e4)]=null;return;}try{let _0x38a55f=await _0x4e2e97();_0x38a55f['length']===0x0?this[_0x43f679(0x2bc)][_0x43f679(0x200)](this['instanceName']+'\x20('+this['instance'][_0x43f679(0x5df)]+_0x43f679(0x345)):(this[_0x43f679(0x238)][_0x43f679(0x3a3)]['processing_id']=_0x38a55f[0x0][_0x43f679(0x664)],await _0x55e385(_0x38a55f)),await _0x5480b4(),this[_0x43f679(0x238)][_0x43f679(0x3a3)]['processing_id']=null,this[_0x43f679(0x238)][_0x43f679(0x3a3)][_0x43f679(0x6e4)]=null;}catch(_0x55197b){this[_0x43f679(0x2bc)]['error'](_0x43f679(0x78c)+(_0x55197b instanceof Error?_0x55197b[_0x43f679(0x8d5)]:JSON[_0x43f679(0x31d)](_0x55197b,null,0x2)));}}[a0_0x420d4d(0x80f)](_0x575181,_0x5a42b4){const _0x2d7590=a0_0x420d4d;return _0x575181=Math[_0x2d7590(0x5cc)](0.5,_0x575181),_0x5a42b4=Math[_0x2d7590(0x837)](Math[_0x2d7590(0x5cc)](0x3,_0x5a42b4),0x78),Math[_0x2d7590(0x823)](Math[_0x2d7590(0x7f6)]()*(_0x5a42b4-_0x575181+0x1)+_0x575181)*0x3e8;}[a0_0x420d4d(0x7ab)](_0x4d9969){return new Promise(_0xe165bf=>setTimeout(_0xe165bf,_0x4d9969));}async[a0_0x420d4d(0x6ea)](_0x1b1229){const _0x508d55=a0_0x420d4d;if(!this[_0x508d55(0x3e4)]&&(await this['getAutomateSystem'](),!this[_0x508d55(0x3e4)]))return null;_0x1b1229=this[_0x508d55(0x5b5)](_0x1b1229);let _0x619149=await this[_0x508d55(0x7f0)][_0x508d55(0x6e9)][_0x508d55(0x868)]({'where':{'_id':_0x1b1229}},this[_0x508d55(0x238)][_0x508d55(0x5df)]),_0x3411c6={};if(_0x619149&&_0x619149[_0x508d55(0x650)]){let _0x4ee858=_0x619149[_0x508d55(0x650)];typeof _0x4ee858[_0x508d55(0x55a)]==_0x508d55(0x7fb)&&(_0x3411c6[_0x508d55(0x55a)]=_0x4ee858['nome']),typeof _0x4ee858[_0x508d55(0x44b)]==_0x508d55(0x7fb)&&(_0x3411c6[_0x508d55(0x44b)]=_0x4ee858['nomecompleto']),typeof _0x4ee858[_0x508d55(0x3ee)]==_0x508d55(0x7fb)&&(_0x3411c6['email']=_0x4ee858[_0x508d55(0x3ee)]),typeof _0x4ee858[_0x508d55(0x770)]==_0x508d55(0x7fb)&&(_0x3411c6[_0x508d55(0x770)]=_0x4ee858[_0x508d55(0x770)]),typeof _0x4ee858[_0x508d55(0x69e)]==_0x508d55(0x7fb)&&(_0x3411c6[_0x508d55(0x69e)]=_0x4ee858[_0x508d55(0x69e)]),typeof _0x4ee858[_0x508d55(0x84e)]==_0x508d55(0x7fb)&&(_0x3411c6[_0x508d55(0x84e)]=_0x4ee858[_0x508d55(0x84e)]),typeof _0x4ee858[_0x508d55(0x65a)]==_0x508d55(0x7fb)&&(_0x3411c6['responsavelid']=_0x4ee858[_0x508d55(0x65a)]),Array[_0x508d55(0x5bf)](_0x4ee858[_0x508d55(0x4d5)])&&(_0x3411c6[_0x508d55(0x4d5)]=_0x4ee858[_0x508d55(0x4d5)][_0x508d55(0x3c9)](',\x20')),Array[_0x508d55(0x5bf)](_0x4ee858[_0x508d55(0x2e3)])&&(_0x3411c6['etiquetas']=_0x4ee858[_0x508d55(0x2e3)]['join'](',\x20'));}return _0x619149&&_0x619149[_0x508d55(0x650)]&&_0x619149[_0x508d55(0x650)][_0x508d55(0x619)]&&_0x619149[_0x508d55(0x650)][_0x508d55(0x619)]['forEach'](_0x7f40b8=>{const _0x31dff9=_0x508d55;let _0x39895a=this[_0x31dff9(0x3e4)]?.[_0x31dff9(0x619)][_0x31dff9(0x561)](_0x525dea=>_0x525dea['_id']===_0x7f40b8['_id']);_0x39895a&&(_0x3411c6[_0x39895a[_0x31dff9(0x325)]]=_0x7f40b8[_0x31dff9(0x6ff)]);}),_0x3411c6;}async[a0_0x420d4d(0x66d)](_0x594638,_0x1f7793){const _0x4561e9=a0_0x420d4d;try{let _0x15b303=await this[_0x4561e9(0x6ea)](_0x1f7793);return this[_0x4561e9(0x3c1)](_0x594638,_0x15b303);}catch(_0x388bca){return this[_0x4561e9(0x2bc)][_0x4561e9(0x82e)](_0x4561e9(0x7aa)+_0x1f7793+':\x20'+_0x388bca),_0x594638;}}async[a0_0x420d4d(0x82c)](_0xb9e0b7){const _0x13b0bc=a0_0x420d4d;try{if(this[_0x13b0bc(0x2bc)]['verbose'](this[_0x13b0bc(0x83a)]+'\x20('+this[_0x13b0bc(0x238)][_0x13b0bc(0x5df)]+_0x13b0bc(0x488)),_0xb9e0b7['delete']&&_0xb9e0b7[_0x13b0bc(0x664)]){if(this[_0x13b0bc(0x238)][_0x13b0bc(0x3a3)]['processing_id']===_0xb9e0b7['_id']['toString']())throw new Error(_0x13b0bc(0x3b8));let _0x376176=await this[_0x13b0bc(0x7f0)][_0x13b0bc(0x7eb)]['deleteOne'](_0xb9e0b7[_0x13b0bc(0x664)],this['instance']['wuid']);return setTimeout(()=>this[_0x13b0bc(0x737)](),0x7d0),_0x376176;}let _0x40ecff;if(_0xb9e0b7[_0x13b0bc(0x664)]&&(_0x40ecff=await this[_0x13b0bc(0x7f0)]['scheduleMessage'][_0x13b0bc(0x50e)](_0xb9e0b7[_0x13b0bc(0x664)],this[_0x13b0bc(0x238)][_0x13b0bc(0x5df)])),_0x40ecff){let _0x2f0844;if(this[_0x13b0bc(0x238)][_0x13b0bc(0x3a3)][_0x13b0bc(0x63d)]===_0x40ecff[_0x13b0bc(0x664)][_0x13b0bc(0x5d4)]())_0x2f0844={'$set':{'status':_0xb9e0b7['status']}};else{let {_id:_0x585f9c,..._0x3ae773}=_0xb9e0b7;_0x2f0844={'$set':_0x3ae773};}let _0x1349b1=await this[_0x13b0bc(0x7f0)][_0x13b0bc(0x7eb)][_0x13b0bc(0x78b)](_0xb9e0b7['_id'],_0x2f0844,this[_0x13b0bc(0x238)][_0x13b0bc(0x5df)]);return setTimeout(()=>this[_0x13b0bc(0x737)](),0x7d0),_0x1349b1;}else{_0xb9e0b7['owner']=this[_0x13b0bc(0x238)][_0x13b0bc(0x5df)];let _0x436c10=await this['repository']['scheduleMessage'][_0x13b0bc(0x5de)](_0xb9e0b7,this['instance']['wuid']);return setTimeout(()=>this[_0x13b0bc(0x737)](),0x7d0),_0x436c10;}}catch(_0x1e5d80){let _0x30c995=_0x13b0bc(0x85f),_0x3c8c85=_0x1e5d80 instanceof Error?_0x1e5d80[_0x13b0bc(0x8d5)]:typeof _0x1e5d80==_0x13b0bc(0x86d)?JSON[_0x13b0bc(0x31d)](_0x1e5d80):_0x1e5d80,_0x4688ae=_0x30c995+':\x20'+_0x3c8c85;throw this['logger'][_0x13b0bc(0x82e)](this[_0x13b0bc(0x83a)]+'\x20('+this[_0x13b0bc(0x238)][_0x13b0bc(0x5df)]+'):\x20'+_0x4688ae),new m(_0x4688ae);}}async[a0_0x420d4d(0x50b)](){const _0x5e8569=a0_0x420d4d;try{return await this[_0x5e8569(0x7f0)][_0x5e8569(0x7eb)][_0x5e8569(0x561)]({'where':{}},this[_0x5e8569(0x238)][_0x5e8569(0x5df)]);}catch(_0x386b4c){let _0x208526=_0x5e8569(0x2a0),_0x3c0261=_0x386b4c instanceof Error?_0x386b4c[_0x5e8569(0x8d5)]:typeof _0x386b4c=='object'?JSON['stringify'](_0x386b4c):_0x386b4c,_0x6c29aa=_0x208526+':\x20'+_0x3c0261;throw this['logger'][_0x5e8569(0x82e)](this[_0x5e8569(0x83a)]+'\x20('+this['instance']['wuid']+_0x5e8569(0x55c)+_0x6c29aa),new m(_0x6c29aa);}}async[a0_0x420d4d(0x77b)](){const _0x2d448e=a0_0x420d4d;try{let _0x565335={'status':_0x2d448e(0x74c)},_0x5403a2=await this[_0x2d448e(0x7f0)]['scheduleMessage'][_0x2d448e(0x42f)](_0x565335,this[_0x2d448e(0x238)][_0x2d448e(0x5df)]);if(!_0x5403a2['error'])this[_0x2d448e(0x2bc)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x2d448e(0x5df)]+_0x2d448e(0x48b));else throw new Error(_0x5403a2[_0x2d448e(0x82e)][_0x2d448e(0x8d5)]||_0x2d448e(0x556));return this[_0x2d448e(0x50b)]();}catch(_0x583a5a){let _0x4ec806=_0x2d448e(0x792),_0x2ab007=_0x583a5a instanceof Error?_0x583a5a[_0x2d448e(0x8d5)]:typeof _0x583a5a==_0x2d448e(0x86d)?JSON[_0x2d448e(0x31d)](_0x583a5a):_0x583a5a,_0x4531fa=_0x4ec806+':\x20'+_0x2ab007;throw this['logger']['error'](this[_0x2d448e(0x83a)]+'\x20('+this['instance'][_0x2d448e(0x5df)]+_0x2d448e(0x55c)+_0x4531fa),new m(_0x4531fa);}}async[a0_0x420d4d(0x6e2)](_0x1c4d0f,_0x125bc7){const _0x5678b8=a0_0x420d4d;try{if(_0x125bc7['type']===_0x5678b8(0x76b)&&!this['AutomateSystem']?.[_0x5678b8(0x456)][_0x5678b8(0x87c)])return this['logger'][_0x5678b8(0x82e)](this[_0x5678b8(0x83a)]+'\x20('+this[_0x5678b8(0x238)]['wuid']+_0x5678b8(0x4a5)),{'error':!0x0,'detail':_0x5678b8(0x287)};switch(_0x125bc7[_0x5678b8(0x4cf)]){case _0x5678b8(0x426):return await this[_0x5678b8(0x218)](_0x125bc7,_0x1c4d0f);case _0x5678b8(0x496):return await this[_0x5678b8(0x3c7)](_0x125bc7,_0x1c4d0f);case'audio':return await this[_0x5678b8(0x535)](_0x125bc7,_0x1c4d0f);case _0x5678b8(0x76b):let _0x4c7716=new Ve();return _0x4c7716[_0x5678b8(0x325)]=_0x125bc7[_0x5678b8(0x88f)],_0x4c7716[_0x5678b8(0x1f9)]=_0x1c4d0f,await this['startFlow'](_0x4c7716);break;default:return this[_0x5678b8(0x2bc)]['error'](this[_0x5678b8(0x83a)]+'\x20('+this[_0x5678b8(0x238)]['wuid']+_0x5678b8(0x72d)+_0x125bc7[_0x5678b8(0x4cf)]),{'error':!0x0,'detail':_0x5678b8(0x6bb)};}}catch(_0x27c6dc){return this[_0x5678b8(0x2bc)][_0x5678b8(0x82e)](this[_0x5678b8(0x83a)]+'\x20('+this[_0x5678b8(0x238)][_0x5678b8(0x5df)]+_0x5678b8(0x77d)+(_0x27c6dc instanceof Error?_0x27c6dc['message']:JSON[_0x5678b8(0x31d)](_0x27c6dc,null,0x2))),{'error':!0x0,'detail':_0x27c6dc[_0x5678b8(0x8d5)]};}}['getRandomText'](_0x5087a0){const _0x30c2a5=a0_0x420d4d;let _0x353edf=_0x5087a0[_0x30c2a5(0x65d)]('|'),_0x506809=Math[_0x30c2a5(0x823)](Math[_0x30c2a5(0x7f6)]()*_0x353edf[_0x30c2a5(0x297)]);return _0x353edf[_0x506809][_0x30c2a5(0x7c0)]();}async['scheduleSendText'](_0xf39633,_0x4ddc4e){const _0x413090=a0_0x420d4d;if(this['logger']['verbose'](this[_0x413090(0x83a)]+'\x20('+this[_0x413090(0x238)][_0x413090(0x5df)]+_0x413090(0x700)),!_0xf39633[_0x413090(0x8d5)]['text']||_0xf39633[_0x413090(0x8d5)][_0x413090(0x426)][_0x413090(0x297)]===0x0)return{'error':!0x0,'detail':'sem\x20texto\x20na\x20mensagem'};let _0x586f37=this[_0x413090(0x629)](_0xf39633[_0x413090(0x8d5)][_0x413090(0x426)]),_0x163e4c=await this['replaceVariablesChat'](_0x586f37,_0x4ddc4e),_0x44f6b6={'number':_0x4ddc4e,'options':{'delay':_0xf39633[_0x413090(0x8d5)][_0x413090(0x527)],'linkPreview':_0xf39633[_0x413090(0x8d5)][_0x413090(0x5ee)]},'textMessage':{'text':_0x163e4c}},_0x1948ec=null;try{let _0x4c6af8=await this[_0x413090(0x791)](_0x44f6b6);if(_0x4c6af8&&_0x4c6af8[_0x413090(0x69e)])return{'error':!0x1,'id':_0x4c6af8['key']['id']};_0x1948ec=JSON[_0x413090(0x31d)](_0x4c6af8),this[_0x413090(0x2bc)][_0x413090(0x200)](this[_0x413090(0x83a)]+'\x20('+this['instance'][_0x413090(0x5df)]+_0x413090(0x55c)+_0x1948ec);}catch(_0x50cb5a){this[_0x413090(0x2bc)][_0x413090(0x82e)](this[_0x413090(0x83a)]+'\x20('+this[_0x413090(0x238)][_0x413090(0x5df)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x50cb5a instanceof Error?_0x50cb5a[_0x413090(0x8d5)]:JSON[_0x413090(0x31d)](_0x50cb5a,null,0x2))),_0x1948ec=_0x50cb5a[_0x413090(0x8d5)];}if(_0x1948ec)return{'error':!0x0,'detail':(typeof _0x1948ec==_0x413090(0x86d)?JSON[_0x413090(0x31d)](_0x1948ec,null,0x2):_0x1948ec)['replace'](/[\[\]{}\n]/g,'\x20')[_0x413090(0x576)](/  +/g,'\x20')};}async[a0_0x420d4d(0x3c7)](_0x202ea1,_0xf1d18b){const _0x3c0eb4=a0_0x420d4d;this['logger'][_0x3c0eb4(0x200)](this[_0x3c0eb4(0x83a)]+'\x20('+this['instance'][_0x3c0eb4(0x5df)]+_0x3c0eb4(0x213));let _0x4ddcef;if(_0x202ea1[_0x3c0eb4(0x8d5)][_0x3c0eb4(0x426)]&&_0x202ea1[_0x3c0eb4(0x8d5)][_0x3c0eb4(0x426)][_0x3c0eb4(0x297)]>0x0){let _0x3a4e9b=this[_0x3c0eb4(0x629)](_0x202ea1[_0x3c0eb4(0x8d5)]['text']);_0x4ddcef=await this[_0x3c0eb4(0x66d)](_0x3a4e9b,_0xf1d18b);}let _0x37b6b4={'number':_0xf1d18b,'options':{'delay':_0x202ea1[_0x3c0eb4(0x8d5)][_0x3c0eb4(0x527)],'linkPreview':_0x202ea1[_0x3c0eb4(0x8d5)]['linkPreview']},'mediaMessage':{'mediatype':_0x202ea1[_0x3c0eb4(0x8d5)][_0x3c0eb4(0x376)],'caption':_0x4ddcef,'media':_0x202ea1['message'][_0x3c0eb4(0x326)]}},_0x4f43be=null;try{let _0x5c439b=await this[_0x3c0eb4(0x61d)](_0x37b6b4);if(_0x5c439b&&_0x5c439b[_0x3c0eb4(0x69e)])return{'error':!0x1,'id':_0x5c439b[_0x3c0eb4(0x5a3)]['id']};_0x4f43be=JSON[_0x3c0eb4(0x31d)](_0x5c439b),this['logger'][_0x3c0eb4(0x200)](this[_0x3c0eb4(0x83a)]+'\x20('+this['instance'][_0x3c0eb4(0x5df)]+'):\x20'+_0x4f43be);}catch(_0x312778){this[_0x3c0eb4(0x2bc)]['error'](this[_0x3c0eb4(0x83a)]+'\x20('+this[_0x3c0eb4(0x238)][_0x3c0eb4(0x5df)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x312778 instanceof Error?_0x312778[_0x3c0eb4(0x8d5)]:JSON[_0x3c0eb4(0x31d)](_0x312778,null,0x2))),_0x4f43be=_0x312778[_0x3c0eb4(0x8d5)];}if(_0x4f43be)return{'error':!0x0,'detail':(typeof _0x4f43be==_0x3c0eb4(0x86d)?JSON[_0x3c0eb4(0x31d)](_0x4f43be,null,0x2):_0x4f43be)['replace'](/[\[\]{}\n]/g,'\x20')[_0x3c0eb4(0x576)](/  +/g,'\x20')};}async[a0_0x420d4d(0x535)](_0x1af62b,_0x57d425){const _0x308387=a0_0x420d4d;this[_0x308387(0x2bc)][_0x308387(0x200)](this[_0x308387(0x83a)]+'\x20('+this['instance'][_0x308387(0x5df)]+'):\x20Enviando\x20áudio');let _0x878691={'number':_0x57d425,'options':{'delay':_0x1af62b['message'][_0x308387(0x527)]},'audioMessage':{'audio':_0x1af62b[_0x308387(0x8d5)][_0x308387(0x326)]}},_0x364f0b=null;try{let _0x52e43b=await this[_0x308387(0x495)](_0x878691);if(_0x52e43b&&_0x52e43b[_0x308387(0x69e)])return{'error':!0x1,'id':_0x52e43b[_0x308387(0x5a3)]['id']};_0x364f0b=JSON['stringify'](_0x52e43b),this[_0x308387(0x2bc)][_0x308387(0x200)](this[_0x308387(0x83a)]+'\x20('+this[_0x308387(0x238)][_0x308387(0x5df)]+_0x308387(0x55c)+_0x364f0b);}catch(_0x5750c8){this[_0x308387(0x2bc)][_0x308387(0x82e)](this[_0x308387(0x83a)]+'\x20('+this['instance']['wuid']+_0x308387(0x8a1)+(_0x5750c8 instanceof Error?_0x5750c8['message']:JSON[_0x308387(0x31d)](_0x5750c8,null,0x2))),_0x364f0b=_0x5750c8[_0x308387(0x8d5)];}if(_0x364f0b)return{'error':!0x0,'detail':(typeof _0x364f0b==_0x308387(0x86d)?JSON['stringify'](_0x364f0b,null,0x2):_0x364f0b)[_0x308387(0x576)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x420d4d(0x516)](_0x3da6a4){const _0x39f36b=a0_0x420d4d;try{return await this[_0x39f36b(0x43d)][_0x39f36b(0x438)](_0x3da6a4['groupJid'],_0x3da6a4['description']),{'update':_0x39f36b(0x22e)};}catch(_0x289b6f){let _0x3ce517=_0x39f36b(0x34c),_0xa84c4f=_0x289b6f instanceof Error?_0x289b6f[_0x39f36b(0x8d5)]:typeof _0x289b6f==_0x39f36b(0x86d)?JSON[_0x39f36b(0x31d)](_0x289b6f):_0x289b6f,_0xcfb009=_0x3ce517+':\x20'+_0xa84c4f;throw this[_0x39f36b(0x2bc)][_0x39f36b(0x82e)](this[_0x39f36b(0x83a)]+'\x20('+this[_0x39f36b(0x238)][_0x39f36b(0x5df)]+_0x39f36b(0x55c)+_0xcfb009),new I(_0xcfb009);}}async[a0_0x420d4d(0x356)](_0x1aece4){const _0x41293a=a0_0x420d4d;try{return await this[_0x41293a(0x43d)]['groupUpdateSubject'](_0x1aece4['groupJid'],_0x1aece4[_0x41293a(0x325)]),{'update':_0x41293a(0x22e)};}catch(_0x3e69b4){let _0x23e5e5='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName',_0x48c513=_0x3e69b4 instanceof Error?_0x3e69b4[_0x41293a(0x8d5)]:typeof _0x3e69b4=='object'?JSON[_0x41293a(0x31d)](_0x3e69b4):_0x3e69b4,_0x372fb8=_0x23e5e5+':\x20'+_0x48c513;throw this['logger'][_0x41293a(0x82e)](this['instanceName']+'\x20('+this[_0x41293a(0x238)][_0x41293a(0x5df)]+_0x41293a(0x55c)+_0x372fb8),new I(_0x372fb8);}}async[a0_0x420d4d(0x37d)](_0x22785a){const _0x2edfd0=a0_0x420d4d;try{let _0xdada8=await this['client'][_0x2edfd0(0x733)](_0x22785a[_0x2edfd0(0x41a)],_0x22785a[_0x2edfd0(0x7e7)]);return{'success':!0x0};}catch(_0x53a1fd){let _0x5e5826=_0x2edfd0(0x29b),_0x30603e=_0x53a1fd instanceof Error?_0x53a1fd[_0x2edfd0(0x8d5)]:typeof _0x53a1fd==_0x2edfd0(0x86d)?JSON[_0x2edfd0(0x31d)](_0x53a1fd):_0x53a1fd,_0x59c322=_0x5e5826+':\x20'+_0x30603e;throw this[_0x2edfd0(0x2bc)]['error'](this['instanceName']+'\x20('+this[_0x2edfd0(0x238)][_0x2edfd0(0x5df)]+_0x2edfd0(0x55c)+_0x59c322),new I(_0x59c322);}}async[a0_0x420d4d(0x406)](_0x1f7777){const _0x18522b=a0_0x420d4d;try{return await this[_0x18522b(0x43d)]['groupSettingUpdate'](_0x1f7777['groupJid'],_0x1f7777['setting']),{'update':_0x18522b(0x22e)};}catch(_0x44e9a9){let _0x55f31c=_0x18522b(0x717),_0x173f91=_0x44e9a9 instanceof Error?_0x44e9a9[_0x18522b(0x8d5)]:typeof _0x44e9a9==_0x18522b(0x86d)?JSON[_0x18522b(0x31d)](_0x44e9a9):_0x44e9a9,_0x2fdb93=_0x55f31c+':\x20'+_0x173f91;throw this[_0x18522b(0x2bc)]['error'](this[_0x18522b(0x83a)]+'\x20('+this[_0x18522b(0x238)][_0x18522b(0x5df)]+_0x18522b(0x55c)+_0x2fdb93),new I(_0x2fdb93);}}async[a0_0x420d4d(0x768)](_0x1e6212){const _0x1f362e=a0_0x420d4d;try{let _0x28ad93;if((0x0,k[_0x1f362e(0x78d)])(_0x1e6212[_0x1f362e(0x331)])){let _0x1ebaa4=new Date()[_0x1f362e(0x657)](),_0x29195a=_0x1e6212['image']+_0x1f362e(0x30d)+_0x1ebaa4;_0x28ad93=(await K[_0x1f362e(0x7f3)]['get'](_0x29195a,{'responseType':_0x1f362e(0x37a)}))[_0x1f362e(0x6c7)];}else{if((0x0,k[_0x1f362e(0x885)])(_0x1e6212[_0x1f362e(0x331)]))_0x28ad93=Buffer['from'](_0x1e6212[_0x1f362e(0x331)],_0x1f362e(0x3ef));else throw new m(_0x1f362e(0x814));}return await this['client'][_0x1f362e(0x7df)](_0x1e6212['groupJid'],_0x28ad93),{'update':_0x1f362e(0x22e)};}catch(_0x34314){let _0x5ab336=_0x1f362e(0x4ab),_0xafdf19=_0x34314 instanceof Error?_0x34314[_0x1f362e(0x8d5)]:typeof _0x34314==_0x1f362e(0x86d)?JSON[_0x1f362e(0x31d)](_0x34314):_0x34314,_0x3a75e9=_0x5ab336+':\x20'+_0xafdf19;throw this[_0x1f362e(0x2bc)][_0x1f362e(0x82e)](this[_0x1f362e(0x83a)]+'\x20('+this[_0x1f362e(0x238)][_0x1f362e(0x5df)]+'):\x20'+_0x3a75e9),new I(_0x3a75e9);}}},Ut=class c{constructor(_0x2f911e,_0x365abb,_0x25457b){const _0x249cfa=a0_0x420d4d;this[_0x249cfa(0x8aa)]=_0x2f911e,this[_0x249cfa(0x538)]=_0x365abb,this[_0x249cfa(0x7f0)]=_0x25457b,this['db']={},this[_0x249cfa(0x365)]={},this[_0x249cfa(0x2bc)]=new R(c['name']),this[_0x249cfa(0x6a5)]={},(this[_0x249cfa(0x2a5)](),this['noConnection'](),Object['assign'](this['db'],_0x365abb[_0x249cfa(0x71d)](_0x249cfa(0x626))),Object[_0x249cfa(0x65f)](this['redis'],_0x365abb[_0x249cfa(0x71d)](_0x249cfa(0x811))),this['dbInstance']=this['db']['ENABLED']?this['repository']['dbServer']?.['db'](this['db'][_0x249cfa(0x7e1)][_0x249cfa(0x4b1)]+'-instances'):void 0x0,this[_0x249cfa(0x5a7)]=this['redis'][_0x249cfa(0x46a)]?new le(this[_0x249cfa(0x365)]):void 0x0);}async[a0_0x420d4d(0x38c)](_0x3df351){const _0x544add=a0_0x420d4d;if(_0x3df351&&!this[_0x544add(0x6a5)][_0x3df351])throw new U('Instance\x20\x22'+_0x3df351+_0x544add(0x4cd));let _0x36df90=[];for await(let [_0x16f6bc,_0x425ab9]of Object[_0x544add(0x205)](this['waInstances']))if(_0x425ab9&&_0x425ab9[_0x544add(0x7c3)][_0x544add(0x8da)]===_0x544add(0x471)){let _0x319e13=await this['repository'][_0x544add(0x2e0)][_0x544add(0x561)](_0x16f6bc);_0x36df90[_0x544add(0x26a)]({'instance':{'instanceName':_0x16f6bc,'apikey':_0x319e13[_0x544add(0x6e0)],'owner':_0x425ab9[_0x544add(0x5df)],'profileName':await _0x425ab9[_0x544add(0x72f)]()||_0x544add(0x47c),'profilePictureUrl':_0x425ab9[_0x544add(0x266)]}});}return _0x36df90[_0x544add(0x561)](_0x367ed6=>_0x367ed6[_0x544add(0x238)][_0x544add(0x83a)]===_0x3df351)??_0x36df90;}async[a0_0x420d4d(0x783)](_0x5bca1e){const _0x1cc660=a0_0x420d4d;if(this['db'][_0x1cc660(0x46a)]&&(await this[_0x1cc660(0x7f0)]['dbServer'][_0x1cc660(0x263)](),(await this[_0x1cc660(0x343)]['collections']())[_0x1cc660(0x297)]>0x0&&await this[_0x1cc660(0x343)]['dropCollection'](_0x5bca1e)),this[_0x1cc660(0x365)]['ENABLED']){this[_0x1cc660(0x5a7)][_0x1cc660(0x360)]=_0x5bca1e,await this[_0x1cc660(0x5a7)]['delAll']();return;}}async[a0_0x420d4d(0x1e2)](){const _0x3717ae=a0_0x420d4d;await this[_0x3717ae(0x899)]();let _0x1587c3=async _0xf66c4d=>{const _0x3abb82=_0x3717ae;let _0x2f7846=new Ce(this[_0x3abb82(0x538)],this[_0x3abb82(0x8aa)],this[_0x3abb82(0x7f0)]);_0x2f7846[_0x3abb82(0x83a)]=_0xf66c4d,await _0x2f7846[_0x3abb82(0x2fc)](),this[_0x3abb82(0x6a5)][_0xf66c4d]=_0x2f7846;};try{if(this[_0x3717ae(0x365)]['ENABLED']){let _0x32f714=await this[_0x3717ae(0x5a7)][_0x3717ae(0x229)]();_0x32f714?.[_0x3717ae(0x297)]>0x0&&_0x32f714[_0x3717ae(0x425)](async _0x17060a=>await _0x1587c3(_0x17060a['split'](':')[0x1]));return;}if(this['db'][_0x3717ae(0x46a)]){await this[_0x3717ae(0x7f0)][_0x3717ae(0x2a7)][_0x3717ae(0x263)]();let _0x1427dd=await this[_0x3717ae(0x343)][_0x3717ae(0x35f)]();_0x1427dd[_0x3717ae(0x297)]>0x0&&_0x1427dd[_0x3717ae(0x425)](async _0x57bede=>await _0x1587c3(_0x57bede[_0x3717ae(0x858)][_0x3717ae(0x576)](/^[\w-]+\./,'')));return;}}catch(_0x5adb6b){this[_0x3717ae(0x2bc)]['error'](_0x5adb6b);}}async['InstancesAsDisconnectedX'](){const _0x6f8f84=a0_0x420d4d;let _0x295432=await this[_0x6f8f84(0x7f0)][_0x6f8f84(0x2e0)]['findAll'](),_0x4b8c6b=_0x295432[_0x6f8f84(0x6cb)](_0x1abee0=>!this[_0x6f8f84(0x6a5)][_0x1abee0[_0x6f8f84(0x664)]]&&(_0x1abee0[_0x6f8f84(0x7e3)]||typeof _0x1abee0[_0x6f8f84(0x7e3)]>'u'));_0x4b8c6b['length']>0x0&&await Promise[_0x6f8f84(0x679)](_0x4b8c6b[_0x6f8f84(0x28d)](async _0x19657a=>{const _0x13a810=_0x6f8f84;let _0x4d4553={'online':!0x1,'lastDisconnect':Date[_0x13a810(0x301)]()};await this['repository'][_0x13a810(0x2e0)][_0x13a810(0x44f)](_0x4d4553,_0x19657a[_0x13a810(0x664)]);}));let _0x1d0e6f=Date['now']()-0xa*0x18*0x3c*0x3c*0x3e8,_0xb33ea1=_0x295432[_0x6f8f84(0x6cb)](_0x2b4c56=>!this[_0x6f8f84(0x6a5)][_0x2b4c56[_0x6f8f84(0x664)]]&&typeof _0x2b4c56[_0x6f8f84(0x7e0)]<'u'&&_0x2b4c56['lastDisconnect']<_0x1d0e6f);_0xb33ea1['length']>0x0&&await Promise[_0x6f8f84(0x679)](_0xb33ea1[_0x6f8f84(0x28d)](async _0x37d061=>{}));}async[a0_0x420d4d(0x899)](){const _0x37aa8b=a0_0x420d4d;try{let _0x3790cb={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x340248={'online':!0x1,'lastDisconnect':Date[_0x37aa8b(0x301)]()},_0x349187=await this[_0x37aa8b(0x7f0)][_0x37aa8b(0x2e0)][_0x37aa8b(0x818)](_0x3790cb,_0x340248);console['log'](_0x37aa8b(0x82b)+_0x349187['insertCount']),await this[_0x37aa8b(0x77c)]();}catch(_0x3ce112){console['error'](_0x37aa8b(0x719),_0x3ce112);}}async[a0_0x420d4d(0x77c)](){const _0x63af2=a0_0x420d4d;try{let _0xcc0ea1={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0xab0f33=await this[_0x63af2(0x7f0)]['auth'][_0x63af2(0x42f)](_0xcc0ea1);console[_0x63af2(0x3a6)](_0x63af2(0x4cc)+_0xab0f33[_0x63af2(0x245)]);}catch(_0xb5b475){console[_0x63af2(0x82e)](_0x63af2(0x59b),_0xb5b475);}}[a0_0x420d4d(0x2a5)](){const _0x15a391=a0_0x420d4d;this[_0x15a391(0x8aa)]['on'](_0x15a391(0x4ad),async _0x43ea40=>{const _0x5c9f89=_0x15a391;try{this['waInstances'][_0x43ea40]=void 0x0;}catch{}try{this[_0x5c9f89(0x783)](_0x43ea40);}finally{this['logger'][_0x5c9f89(0x283)](_0x5c9f89(0x695)+_0x43ea40+_0x5c9f89(0x8b1));}});}[a0_0x420d4d(0x784)](){const _0x2ccd67=a0_0x420d4d;this[_0x2ccd67(0x8aa)]['on'](_0x2ccd67(0x4c4),async _0x327be7=>{const _0xf96aaa=_0x2ccd67;try{this[_0xf96aaa(0x6a5)][_0x327be7]=void 0x0;}catch{}try{this[_0xf96aaa(0x783)](_0x327be7);}finally{this[_0xf96aaa(0x2bc)][_0xf96aaa(0x283)](_0xf96aaa(0x695)+_0x327be7+_0xf96aaa(0x2a8));}});}},qt=class extends x{[a0_0x420d4d(0x4fb)](_0x2c3bf0){return Qs(_0x2c3bf0);}async[a0_0x420d4d(0x7b3)](_0x4e360d){const _0x4637ec=a0_0x420d4d;if(_0x4e360d['length']!==0x0)try{return{'insertCount':(await this[_0x4637ec(0x4fb)](_0x4e360d[0x0]['owner'])[_0x4637ec(0x1f1)]([..._0x4e360d]))[_0x4637ec(0x297)]};}catch(_0x45ff5e){return _0x45ff5e;}}async[a0_0x420d4d(0x561)](_0x4b7f64,_0x46db0a){const _0x1cf0f3=a0_0x420d4d;try{let _0x57e9c1=this[_0x1cf0f3(0x4fb)](_0x46db0a),_0x1b6afb=T(_0x4b7f64['where']);return await _0x57e9c1[_0x1cf0f3(0x561)](_0x1b6afb)[_0x1cf0f3(0x209)]({'lastmsg':-0x1})[_0x1cf0f3(0x5fd)](_0x4b7f64?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0x420d4d(0x845)](_0x36cf2e,_0x2f83dc){const _0xb9570=a0_0x420d4d;try{return{'deletedCount':(await this[_0xb9570(0x4fb)](_0x2f83dc)['deleteMany']({..._0x36cf2e[_0xb9570(0x4f7)]}))[_0xb9570(0x6a7)]};}catch(_0x458180){return{'error':_0x458180?.[_0xb9570(0x5d4)]()};}}async[a0_0x420d4d(0x5a5)](_0x2c7fc2,_0x32764b){const _0x2bbc53=a0_0x420d4d;try{return await this['getChatModelForOwner'](_0x32764b)[_0x2bbc53(0x42f)]({..._0x2c7fc2['where']}),[];}catch(_0x55975f){return{'error':_0x55975f?.['toString']()};}}async[a0_0x420d4d(0x868)](_0x32d420,_0x22c2bb){const _0xeb31f2=a0_0x420d4d;try{let _0x12e589=this[_0xeb31f2(0x4fb)](_0x22c2bb),_0xd99eea=T(_0x32d420['where']);return await _0x12e589[_0xeb31f2(0x868)](_0xd99eea)['lean']();}catch{return null;}}async[a0_0x420d4d(0x4a8)](_0x2ed63a,_0x33e9a5,_0x327dd2,_0x146962,_0x25b8ef=a0_0x420d4d(0x3f1)){const _0x4f4293=a0_0x420d4d;try{let _0x2c102e={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x146962},_0x21c068=this[_0x4f4293(0x4fb)](_0x327dd2),_0x351a5a=T(_0x2ed63a[_0x4f4293(0x4f7)]);Object[_0x4f4293(0x673)](_0x33e9a5)[_0x4f4293(0x425)](_0x549df2=>{_0x33e9a5[_0x549df2]==null&&delete _0x33e9a5[_0x549df2];});let _0x4dd90e={};return _0x4dd90e[_0x25b8ef]=_0x33e9a5,await _0x21c068[_0x4f4293(0x827)](_0x351a5a,_0x4dd90e,_0x2c102e);}catch(_0x20eb05){return console[_0x4f4293(0x82e)](_0x20eb05),null;}}async['updateMany'](_0x5db4ee){const _0x3d103b=a0_0x420d4d;try{let _0x475152=this['getChatModelForOwner'](_0x5db4ee[0x0][_0x3d103b(0x565)][_0x3d103b(0x4f7)][_0x3d103b(0x89c)]),_0x3bdac8=_0x5db4ee[_0x3d103b(0x28d)](_0x5183d2=>({'updateOne':{'filter':{..._0x5183d2['query'][_0x3d103b(0x4f7)]},'update':{'$set':_0x5183d2['update']},'upsert':!0x0}})),_0x1d95e0=await _0x475152[_0x3d103b(0x2d4)](_0x3bdac8);return _0x1d95e0[_0x3d103b(0x890)]+_0x1d95e0[_0x3d103b(0x344)];}catch(_0x44fe11){return console['error'](_0x44fe11),0x0;}}async['removeUnusedChatFields'](_0x5b5a83){const _0x1d5b59=a0_0x420d4d;try{let _0x248922={'group_isCommunity':'','group_announce':'','group_size':''},_0x1582d1={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x21110e={'$unset':_0x248922};return(await this[_0x1d5b59(0x4fb)](_0x5b5a83)[_0x1d5b59(0x6a3)](_0x1582d1,_0x21110e))[_0x1d5b59(0x890)];}catch(_0x10a57a){return console[_0x1d5b59(0x82e)](_0x1d5b59(0x555),_0x10a57a),0x0;}}async['updateMissingEtiquetas'](_0x1a6e26){const _0x3fd770=a0_0x420d4d;try{let _0x5abca8=this[_0x3fd770(0x4fb)](_0x1a6e26),_0x4ebbc5={'leadInfo.etiquetas':{'$exists':!0x1}},_0xdcc3b6={'$set':{'leadInfo.etiquetas':[]}};return(await _0x5abca8['updateMany'](_0x4ebbc5,_0xdcc3b6))[_0x3fd770(0x890)];}catch(_0x1dc30e){return console[_0x3fd770(0x82e)](_0x1dc30e),0x0;}}async[a0_0x420d4d(0x4b4)](_0x4a29b8){const _0xc9bbce=a0_0x420d4d;try{let _0x1f5e1e=this['getChatModelForOwner'](_0x4a29b8),_0x2b9940={'leadInfo.tags':{'$exists':!0x1}},_0x5f15c6={'$set':{'leadInfo.tags':[]}};return(await _0x1f5e1e[_0xc9bbce(0x6a3)](_0x2b9940,_0x5f15c6))[_0xc9bbce(0x890)];}catch(_0x28e290){return console[_0xc9bbce(0x82e)](_0x28e290),0x0;}}async[a0_0x420d4d(0x74d)](_0x1a5b76){const _0x3a2b04=a0_0x420d4d;try{let _0x3015b4=this['getChatModelForOwner'](_0x1a5b76),_0x9b46d4={'leadInfo.customFields':{'$exists':!0x1}},_0x5d407e={'$set':{'leadInfo.customFields':[]}};return(await _0x3015b4[_0x3a2b04(0x6a3)](_0x9b46d4,_0x5d407e))[_0x3a2b04(0x890)];}catch(_0x338977){return console[_0x3a2b04(0x82e)](_0x338977),0x0;}}async[a0_0x420d4d(0x1f1)](_0x678bf4,_0x555535){const _0x44915c=a0_0x420d4d;if(!Array['isArray'](_0x678bf4)||_0x678bf4['length']===0x0)throw new Error(_0x44915c(0x8c5));try{return(await this[_0x44915c(0x4fb)](_0x555535)[_0x44915c(0x1f1)](_0x678bf4))[_0x44915c(0x297)];}catch(_0xd15677){throw console[_0x44915c(0x82e)](_0x44915c(0x427),_0xd15677),_0xd15677;}}async[a0_0x420d4d(0x4ec)](_0x4ba79e,_0x5113a7){const _0x546671=a0_0x420d4d;try{await this[_0x546671(0x4fb)](_0x5113a7)[_0x546671(0x23e)]({'_id':_0x4ba79e});}catch(_0xaee173){throw console[_0x546671(0x82e)]('Erro\x20ao\x20deletar\x20chat:',_0xaee173),_0xaee173;}}},Vt=class extends x{constructor(_0x1d56fc,_0x21e3e3,_0x40a20c){const _0x54d73c=a0_0x420d4d;super(_0x21e3e3),this['cacheContactModel']=_0x1d56fc,this[_0x54d73c(0x538)]=_0x21e3e3,this[_0x54d73c(0x785)]=_0x40a20c;}async[a0_0x420d4d(0x7b3)](_0x1b0199){const _0x3fd4b0=a0_0x420d4d;if(_0x1b0199[_0x3fd4b0(0x297)]!==0x0)try{return{'insertCount':(await this[_0x3fd4b0(0x4e4)][_0x3fd4b0(0x1f1)]([..._0x1b0199]))['length']};}catch(_0x31faa3){return _0x31faa3;}}async[a0_0x420d4d(0x318)](_0x172e48,_0xd0e39f){const _0x27f3c7=a0_0x420d4d;try{let _0x2a337a=T(_0x172e48[_0x27f3c7(0x4f7)]);return{'updatedCount':(await this[_0x27f3c7(0x4e4)][_0x27f3c7(0x6a3)](_0x2a337a,{'$set':_0xd0e39f}))[_0x27f3c7(0x890)]};}catch(_0x1db3ce){return console[_0x27f3c7(0x82e)](_0x27f3c7(0x6c3),_0x1db3ce),{'error':_0x1db3ce[_0x27f3c7(0x5d4)]()};}}async['findManyByIds'](_0x150ceb){const _0x6d334b=a0_0x420d4d;try{let _0x2ab9aa={'_id':{'$in':_0x150ceb}};return await this[_0x6d334b(0x4e4)][_0x6d334b(0x561)](_0x2ab9aa)[_0x6d334b(0x720)]();}catch(_0x47a29c){return console[_0x6d334b(0x82e)]('Error\x20finding\x20many\x20contacts:',_0x47a29c),[];}}async[a0_0x420d4d(0x845)](_0x5b9968){const _0x32a5c4=a0_0x420d4d;try{return{'deletedCount':(await this[_0x32a5c4(0x4e4)]['deleteMany']({..._0x5b9968[_0x32a5c4(0x4f7)]}))[_0x32a5c4(0x6a7)]};}catch(_0x1cdf9a){return{'error':_0x1cdf9a?.[_0x32a5c4(0x5d4)]()};}}async[a0_0x420d4d(0x561)](_0x58fd16){const _0x16fe5a=a0_0x420d4d;try{let _0x13e3b0=T(_0x58fd16[_0x16fe5a(0x4f7)]);return await this[_0x16fe5a(0x4e4)][_0x16fe5a(0x561)](_0x13e3b0)[_0x16fe5a(0x5fd)](_0x58fd16?.['limit']??0x0)[_0x16fe5a(0x720)]();}catch{return[];}}async[a0_0x420d4d(0x868)](_0x20757a){const _0x3745ba=a0_0x420d4d;try{let _0x531941=T(_0x20757a[_0x3745ba(0x4f7)]);return await this[_0x3745ba(0x4e4)][_0x3745ba(0x868)](_0x531941)[_0x3745ba(0x720)]();}catch{return null;}}},Gt=class extends x{[a0_0x420d4d(0x5a6)](_0x29ca5e){return fa(_0x29ca5e);}async[a0_0x420d4d(0x4a8)](_0x2fd89c,_0x34cb18,_0x4f703c,_0x360f2b){const _0x5e1033=a0_0x420d4d;try{let _0x34c147={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x360f2b},_0x576e39=this[_0x5e1033(0x5a6)](_0x4f703c),_0x1fdffc=T(_0x2fd89c['where']);return await _0x576e39['findOneAndUpdate'](_0x1fdffc,{'$set':_0x34cb18},_0x34c147);}catch(_0x509cc7){return console[_0x5e1033(0x82e)](_0x509cc7),null;}}async['find'](_0x27db21,_0x5ca2e8){const _0x1fb389=a0_0x420d4d;try{let _0x404952=this['getLabelModelForOwner'](_0x5ca2e8),_0x202fc2=T(_0x27db21[_0x1fb389(0x4f7)]);return await _0x404952[_0x1fb389(0x561)](_0x202fc2);}catch(_0x2131d9){console['error'](_0x2131d9);}}async[a0_0x420d4d(0x845)](_0x21088d,_0x1338a8){const _0x3a9b09=a0_0x420d4d;try{let _0x13d6f1=this[_0x3a9b09(0x5a6)](_0x1338a8),_0x79371f=T(_0x21088d[_0x3a9b09(0x4f7)]);await _0x13d6f1[_0x3a9b09(0x42f)](_0x79371f);}catch(_0x1710cd){console['error'](_0x1710cd);}}async[a0_0x420d4d(0x5a5)](_0x145284){const _0xd4d672=a0_0x420d4d;try{return await this[_0xd4d672(0x5a6)](_0x145284)[_0xd4d672(0x5d2)][_0xd4d672(0x357)](),{'success':!0x0};}catch(_0x3c1b4d){return console[_0xd4d672(0x82e)](_0x3c1b4d),{'success':!0x1,'error':_0x3c1b4d};}}},Bt=class{constructor(_0x33a93f){const _0x10cfa1=a0_0x420d4d;this[_0x10cfa1(0x395)]=_0x33a93f;}async[a0_0x420d4d(0x352)]({instanceName:_0x1934c0},_0xae02c3){const _0x29acbc=a0_0x420d4d;return await this['waMonitor'][_0x29acbc(0x6a5)][_0x1934c0][_0x29acbc(0x352)](_0xae02c3);}async[a0_0x420d4d(0x674)]({instanceName:_0x146da9},_0xf1c3e1){const _0x551d4f=a0_0x420d4d;return await this['waMonitor'][_0x551d4f(0x6a5)][_0x146da9]['whatsappNumber'](_0xf1c3e1);}async[a0_0x420d4d(0x7d5)]({instanceName:_0x457a92},_0x282fe1){const _0x82da7c=a0_0x420d4d;return await this[_0x82da7c(0x395)][_0x82da7c(0x6a5)][_0x457a92][_0x82da7c(0x7d5)](_0x282fe1);}async[a0_0x420d4d(0x1c7)]({instanceName:_0x338625},_0x4fc8bd){const _0x572fb4=a0_0x420d4d;return await this[_0x572fb4(0x395)][_0x572fb4(0x6a5)][_0x338625][_0x572fb4(0x567)](_0x4fc8bd);}async[a0_0x420d4d(0x407)]({instanceName:_0x5e7d14},_0x5cbc1a){const _0x126dd0=a0_0x420d4d;return await this[_0x126dd0(0x395)][_0x126dd0(0x6a5)][_0x5e7d14][_0x126dd0(0x407)](_0x5cbc1a);}async[a0_0x420d4d(0x333)]({instanceName:_0x5225d8},_0xf7c3ab){const _0x1c92c5=a0_0x420d4d;return await this[_0x1c92c5(0x395)][_0x1c92c5(0x6a5)][_0x5225d8][_0x1c92c5(0x333)](_0xf7c3ab);}async[a0_0x420d4d(0x4aa)]({instanceName:_0x4af758},_0x5de060){const _0x55a2c5=a0_0x420d4d;return await this['waMonitor'][_0x55a2c5(0x6a5)][_0x4af758][_0x55a2c5(0x30b)](_0x5de060[_0x55a2c5(0x5d5)]);}async['fetchProfile']({instanceName:_0x2af87d},_0x2a7833){const _0x5e3e3b=a0_0x420d4d;return await this['waMonitor'][_0x5e3e3b(0x6a5)][_0x2af87d][_0x5e3e3b(0x836)](_0x2a7833[_0x5e3e3b(0x5d5)]);}async[a0_0x420d4d(0x79e)]({instanceName:_0x5e5651},_0x4b1a51){const _0x33b6ab=a0_0x420d4d;return await this['waMonitor'][_0x33b6ab(0x6a5)][_0x5e5651]['updatePresence'](_0x4b1a51);}async[a0_0x420d4d(0x5e7)]({instanceName:_0x5a6228},_0x12eed3){const _0x23e327=a0_0x420d4d;return await this['waMonitor'][_0x23e327(0x6a5)][_0x5a6228]['fetchContacts'](_0x12eed3);}async[a0_0x420d4d(0x6f8)]({instanceName:_0x59036c},_0x11e05f){const _0xffbc09=a0_0x420d4d;return await this[_0xffbc09(0x395)]['waInstances'][_0x59036c][_0xffbc09(0x6f8)](_0x11e05f);}async[a0_0x420d4d(0x2e9)]({instanceName:_0xf83a70},_0x5dcc0e){const _0x545165=a0_0x420d4d;return await this['waMonitor'][_0x545165(0x6a5)][_0xf83a70]['fetchMessages'](_0x5dcc0e);}async[a0_0x420d4d(0x4cb)]({instanceName:_0x5c308a}){const _0x2544da=a0_0x420d4d;return await this[_0x2544da(0x395)][_0x2544da(0x6a5)][_0x5c308a][_0x2544da(0x4cb)]();}async['fetchChats']({instanceName:_0x3b042a}){const _0x2ff5e5=a0_0x420d4d;return await this[_0x2ff5e5(0x395)][_0x2ff5e5(0x6a5)][_0x3b042a]['fetchChats']();}async[a0_0x420d4d(0x49a)]({instanceName:_0x1dd30b}){const _0x12f49c=a0_0x420d4d;return await this[_0x12f49c(0x395)][_0x12f49c(0x6a5)][_0x1dd30b][_0x12f49c(0x49a)]();}async[a0_0x420d4d(0x290)]({instanceName:_0x17079a},_0x255699){const _0x2a8584=a0_0x420d4d;return await this[_0x2a8584(0x395)][_0x2a8584(0x6a5)][_0x17079a]['updatePrivacySettings'](_0x255699);}async[a0_0x420d4d(0x6d6)]({instanceName:_0x34b14a},_0x9f1e60){const _0x44e4d6=a0_0x420d4d;return await this[_0x44e4d6(0x395)][_0x44e4d6(0x6a5)][_0x34b14a][_0x44e4d6(0x6d6)](_0x9f1e60[_0x44e4d6(0x5d5)]);}async['updateProfileName']({instanceName:_0x4419c8},_0xa5d1a){const _0x207706=a0_0x420d4d;return await this[_0x207706(0x395)][_0x207706(0x6a5)][_0x4419c8][_0x207706(0x7f7)](_0xa5d1a[_0x207706(0x325)]);}async['updateProfileStatus']({instanceName:_0x4856d9},_0x2e556d){const _0x5b679b=a0_0x420d4d;return await this['waMonitor'][_0x5b679b(0x6a5)][_0x4856d9][_0x5b679b(0x5e3)](_0x2e556d['status']);}async[a0_0x420d4d(0x7df)]({instanceName:_0x3470f8},_0x5d3cbe){const _0x4e1f8d=a0_0x420d4d;return await this[_0x4e1f8d(0x395)]['waInstances'][_0x3470f8][_0x4e1f8d(0x7df)](_0x5d3cbe[_0x4e1f8d(0x6fa)]);}async[a0_0x420d4d(0x454)]({instanceName:_0x286a15},_0x6f049c){const _0x3ab436=a0_0x420d4d;return await this[_0x3ab436(0x395)][_0x3ab436(0x6a5)][_0x286a15][_0x3ab436(0x454)]();}},_s=require(a0_0x420d4d(0x61a)),Wt=class c{constructor(_0x1aa9a6,_0x311e4b,_0x9643c4,_0x438db3,_0x5b7275){const _0x410e29=a0_0x420d4d;this['waMonitor']=_0x1aa9a6,this[_0x410e29(0x538)]=_0x311e4b,this[_0x410e29(0x7f0)]=_0x9643c4,this[_0x410e29(0x8aa)]=_0x438db3,this[_0x410e29(0x1eb)]=_0x5b7275,this[_0x410e29(0x2bc)]=new R(c[_0x410e29(0x325)]);}async[a0_0x420d4d(0x876)]({instanceName:_0x26cd94,apikey:_0xb0c089,number:_0x535db6,proxy:_0x353525=!0x0}){const _0x342bd9=a0_0x420d4d;try{let _0x2f6aec=new Ce(this[_0x342bd9(0x538)],this[_0x342bd9(0x8aa)],this[_0x342bd9(0x7f0)]);_0x2f6aec[_0x342bd9(0x83a)]=_0x26cd94,this[_0x342bd9(0x395)][_0x342bd9(0x6a5)][_0x2f6aec[_0x342bd9(0x83a)]]=_0x2f6aec;let _0x340b4d={};_0xb0c089?(await this[_0x342bd9(0x7f0)][_0x342bd9(0x2e0)][_0x342bd9(0x44f)]({'apikey':_0xb0c089},_0x26cd94),_0x340b4d['apikey']=_0xb0c089):_0x340b4d=await this['authService'][_0x342bd9(0x435)]({'instanceName':_0x2f6aec['instanceName']});let _0x639e1a;if(_0x535db6){if(_0x639e1a=await this[_0x342bd9(0x4a6)](_0x535db6),_0x639e1a[_0x342bd9(0x82e)])throw new I(_0x639e1a[_0x342bd9(0x82e)]['toString']());_0x535db6=_0x639e1a[_0x342bd9(0x5d5)];}let _0x5abe34;return await _0x2f6aec[_0x342bd9(0x2fc)](_0x535db6),await(0x0,_s[_0x342bd9(0x527)])(0x7d0),_0x5abe34=_0x2f6aec[_0x342bd9(0x56c)],{'instance':{'instanceName':_0x2f6aec[_0x342bd9(0x83a)],'status':'created'},'hash':_0x340b4d,'qrcode':_0x5abe34};}catch(_0x2ea6d2){throw this[_0x342bd9(0x2bc)]['error'](_0x2ea6d2),_0x2ea6d2;}}async[a0_0x420d4d(0x241)]({instanceName:_0x3c8bb1,number:_0x190b4e=null}){const _0xeb15c9=a0_0x420d4d;try{let _0x56b05b=this['waMonitor'][_0xeb15c9(0x6a5)][_0x3c8bb1];switch(_0x56b05b?.[_0xeb15c9(0x7c3)]?.[_0xeb15c9(0x8da)]){case _0xeb15c9(0x453):return await _0x56b05b[_0xeb15c9(0x2fc)](_0x190b4e),await(0x0,_s[_0xeb15c9(0x527)])(0x7d0),_0x56b05b[_0xeb15c9(0x56c)];case _0xeb15c9(0x519):return _0x56b05b[_0xeb15c9(0x56c)];default:return await this['connectionState']({'instanceName':_0x3c8bb1});}}catch(_0x1ac7ae){this['logger'][_0xeb15c9(0x3a6)](_0x1ac7ae);}}async[a0_0x420d4d(0x316)]({instanceName:_0x32c21c}){const _0x232b7a=a0_0x420d4d;let _0x557261=this[_0x232b7a(0x395)][_0x232b7a(0x6a5)][_0x32c21c][_0x232b7a(0x7c3)],_0x577964=null;_0x557261[_0x232b7a(0x8da)]===_0x232b7a(0x471)&&_0x32c21c&&(_0x577964=await this[_0x232b7a(0x395)][_0x232b7a(0x38c)](_0x32c21c));let _0x20d772=null;return _0x557261['state']===_0x232b7a(0x519)&&_0x32c21c&&(_0x20d772=this[_0x232b7a(0x395)][_0x232b7a(0x6a5)][_0x32c21c][_0x232b7a(0x56c)]),{'instance':_0x32c21c,'connectionStatus':_0x557261,'instanceInfo':_0x577964,'qrcode':_0x20d772};}async[a0_0x420d4d(0x4a6)](_0x11a3ed){const _0x1a4516=a0_0x420d4d;_0x11a3ed=_0x11a3ed['replace'](/\D/g,'');let _0x5f03c6=Object[_0x1a4516(0x673)](this[_0x1a4516(0x395)][_0x1a4516(0x6a5)])[_0x1a4516(0x6cb)](_0x4fba01=>{const _0x5d336e=_0x1a4516;let _0x393df8=this[_0x5d336e(0x395)][_0x5d336e(0x6a5)][_0x4fba01];return _0x393df8&&_0x393df8[_0x5d336e(0x7c3)]&&_0x393df8['connectionStatus'][_0x5d336e(0x8da)]==='open';});if(_0x5f03c6[_0x1a4516(0x297)]===0x0)return{'number':this[_0x1a4516(0x531)](_0x11a3ed)};let _0x53d7d4=Math[_0x1a4516(0x823)](Math[_0x1a4516(0x7f6)]()*_0x5f03c6[_0x1a4516(0x297)]),_0x235ff8=_0x5f03c6[_0x53d7d4];try{let _0x598182=(await this[_0x1a4516(0x395)]['waInstances'][_0x235ff8]['whatsappNumber']({'numbers':[_0x11a3ed]}))[_0x1a4516(0x77e)]();return _0x598182[_0x1a4516(0x419)]?{'number':_0x598182[_0x1a4516(0x812)][_0x1a4516(0x576)]('@s.whatsapp.net','')}:{'number':_0x11a3ed,'error':_0x1a4516(0x87b)};}catch(_0x3ee1be){return this[_0x1a4516(0x2bc)][_0x1a4516(0x82e)](_0x1a4516(0x27b)+_0x3ee1be),{'number':_0x11a3ed,'error':_0x1a4516(0x2ff)};}}[a0_0x420d4d(0x531)](_0x2757f7){const _0x461496=a0_0x420d4d;let _0x57350b=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x461496(0x373)](_0x2757f7);if(_0x57350b&&_0x57350b[0x1]==='55'){let _0x947bb5=_0x57350b[0x2],_0x4e963a=_0x57350b[0x3],_0x18ae11=_0x57350b[0x4];if(parseInt(_0x947bb5)>=0x1f&&_0x4e963a==='9')return _0x57350b[0x1]+_0x947bb5+_0x18ae11;}return _0x2757f7;}async['restartInstance']({instanceName:_0x1d2ddf}){const _0x5ad616=a0_0x420d4d;try{return this['waMonitor']['waInstances'][_0x1d2ddf]?.[_0x5ad616(0x43d)]?.['ws']?.['close'](),{'status':_0x5ad616(0x3a7),'error':!0x1,'response':{'message':'Instance\x20restarted'}};}catch(_0x355a6f){this[_0x5ad616(0x2bc)][_0x5ad616(0x82e)](_0x355a6f);}}async[a0_0x420d4d(0x30a)]({instanceName:_0x4978f5}){const _0x51b758=a0_0x420d4d;return _0x4978f5?this[_0x51b758(0x395)]['instanceInfo'](_0x4978f5):this[_0x51b758(0x395)][_0x51b758(0x38c)]();}async[a0_0x420d4d(0x389)]({instanceName:_0x436afe}){const _0x2254da=a0_0x420d4d;try{return await this['waMonitor'][_0x2254da(0x6a5)][_0x436afe]?.[_0x2254da(0x43d)]?.[_0x2254da(0x389)]('Log\x20out\x20instance:\x20'+_0x436afe),{'error':!0x1,'message':_0x2254da(0x2ce)};}catch(_0x15c659){throw new I(_0x15c659[_0x2254da(0x5d4)]());}}async[a0_0x420d4d(0x540)]({instanceName:_0x11a924}){const _0x50c07e=a0_0x420d4d;if((await this[_0x50c07e(0x316)]({'instanceName':_0x11a924}))[_0x50c07e(0x7c3)][_0x50c07e(0x8da)]===_0x50c07e(0x471))throw new m([_0x50c07e(0x801),_0x50c07e(0x233)]);try{return delete this['waMonitor'][_0x50c07e(0x6a5)][_0x11a924],{'error':!0x1,'message':_0x50c07e(0x753)};}catch(_0x5ca2ab){throw new m(_0x5ca2ab[_0x50c07e(0x5d4)]());}}},te=require('class-validator'),zt=class{constructor(_0x4a8424){const _0x271248=a0_0x420d4d;this[_0x271248(0x395)]=_0x4a8424;}async[a0_0x420d4d(0x749)]({instanceName:_0x41528a},_0x56d762){const _0x8d4637=a0_0x420d4d;return await this[_0x8d4637(0x395)]['waInstances'][_0x41528a][_0x8d4637(0x791)](_0x56d762);}async[a0_0x420d4d(0x7ff)]({instanceName:_0x3c18c4},_0x5906c5){const _0x179919=a0_0x420d4d;return await this[_0x179919(0x395)]['waInstances'][_0x3c18c4][_0x179919(0x4f5)](_0x5906c5);}async[a0_0x420d4d(0x50a)]({instanceName:_0x339d71},_0x30796e){const _0x570f8b=a0_0x420d4d;if((0x0,te['isBase64'])(_0x30796e?.[_0x570f8b(0x61d)]?.[_0x570f8b(0x496)])&&!_0x30796e?.['mediaMessage']?.[_0x570f8b(0x2f3)])throw new m(_0x570f8b(0x51f));if((0x0,te['isURL'])(_0x30796e?.[_0x570f8b(0x61d)]?.['media'])||(0x0,te[_0x570f8b(0x885)])(_0x30796e?.['mediaMessage']?.[_0x570f8b(0x496)]))return await this[_0x570f8b(0x395)][_0x570f8b(0x6a5)][_0x339d71][_0x570f8b(0x61d)](_0x30796e);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x420d4d(0x2d8)]({instanceName:_0x4de9c4},_0x29330f){const _0x34e2b9=a0_0x420d4d;if((0x0,te[_0x34e2b9(0x78d)])(_0x29330f['stickerMessage'][_0x34e2b9(0x331)])||(0x0,te[_0x34e2b9(0x885)])(_0x29330f[_0x34e2b9(0x36c)][_0x34e2b9(0x331)]))return await this[_0x34e2b9(0x395)][_0x34e2b9(0x6a5)][_0x4de9c4]['mediaSticker'](_0x29330f);throw new m(_0x34e2b9(0x4c1));}async[a0_0x420d4d(0x554)]({instanceName:_0x383acc},_0x4d27ec){const _0x5dd23c=a0_0x420d4d;if((0x0,te['isURL'])(_0x4d27ec[_0x5dd23c(0x7a8)][_0x5dd23c(0x467)])||(0x0,te['isBase64'])(_0x4d27ec[_0x5dd23c(0x7a8)]['audio']))return await this['waMonitor'][_0x5dd23c(0x6a5)][_0x383acc][_0x5dd23c(0x495)](_0x4d27ec);throw new m(_0x5dd23c(0x4c1));}async[a0_0x420d4d(0x1e8)]({instanceName:_0x545d46},_0x11160f){const _0x923b18=a0_0x420d4d;if((0x0,te['isBase64'])(_0x11160f[_0x923b18(0x416)][_0x923b18(0x61d)]?.[_0x923b18(0x496)])&&!_0x11160f[_0x923b18(0x416)][_0x923b18(0x61d)]?.[_0x923b18(0x2f3)])throw new m(_0x923b18(0x51f));return await this['waMonitor']['waInstances'][_0x545d46][_0x923b18(0x416)](_0x11160f);}async['sendLocation']({instanceName:_0x357ea0},_0x1f01ea){const _0x1b857d=a0_0x420d4d;return await this[_0x1b857d(0x395)][_0x1b857d(0x6a5)][_0x357ea0][_0x1b857d(0x237)](_0x1f01ea);}async[a0_0x420d4d(0x32e)]({instanceName:_0x238a0a},_0xdccbb4){const _0x410b72=a0_0x420d4d;return await this[_0x410b72(0x395)][_0x410b72(0x6a5)][_0x238a0a]['pollMessage'](_0xdccbb4);}async['sendList']({instanceName:_0x4d37e0},_0x4e3ed7){const _0x2382d3=a0_0x420d4d;return await this[_0x2382d3(0x395)]['waInstances'][_0x4d37e0]['listMessage'](_0x4e3ed7);}async['sendContact']({instanceName:_0x234666},_0x2a6b2e){const _0x2e53b7=a0_0x420d4d;return await this['waMonitor'][_0x2e53b7(0x6a5)][_0x234666][_0x2e53b7(0x428)](_0x2a6b2e);}async[a0_0x420d4d(0x6d5)]({instanceName:_0x45cf9a},_0x2fcb0f){const _0x4b252b=a0_0x420d4d;if(!_0x2fcb0f[_0x4b252b(0x521)][_0x4b252b(0x756)][_0x4b252b(0x58e)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x4b252b(0x693));return await this[_0x4b252b(0x395)][_0x4b252b(0x6a5)][_0x45cf9a][_0x4b252b(0x521)](_0x2fcb0f);}async[a0_0x420d4d(0x80c)]({instanceName:_0x22c408},_0x3d7691){const _0x11186c=a0_0x420d4d;return await this[_0x11186c(0x395)][_0x11186c(0x6a5)][_0x22c408][_0x11186c(0x53f)](_0x3d7691);}},Ro=require(a0_0x420d4d(0x8cb)),Ps=require(a0_0x420d4d(0x88a)),Ht=class c{constructor(_0xfa0793,_0x3c5573,_0x384390){const _0x13f7ff=a0_0x420d4d;this[_0x13f7ff(0x538)]=_0xfa0793,this[_0x13f7ff(0x395)]=_0x3c5573,this[_0x13f7ff(0x7f0)]=_0x384390,this[_0x13f7ff(0x2bc)]=new R(c[_0x13f7ff(0x325)]);}async[a0_0x420d4d(0x27e)](_0x14f6c8){const _0x5d0ad3=a0_0x420d4d;let _0x4ec200=this[_0x5d0ad3(0x538)]['get'](_0x5d0ad3(0x58a))[_0x5d0ad3(0x69c)],_0x278135=(0x0,Ro[_0x5d0ad3(0x563)])({'instanceName':_0x14f6c8[_0x5d0ad3(0x83a)],'apiName':tt,'tokenId':(0x0,Ps['v4'])()},_0x4ec200[_0x5d0ad3(0x354)],{'expiresIn':_0x4ec200[_0x5d0ad3(0x571)],'encoding':'utf8','subject':_0x5d0ad3(0x378)}),_0x19fcbe=await this['repository'][_0x5d0ad3(0x2e0)][_0x5d0ad3(0x44f)]({'jwt':_0x278135},_0x14f6c8[_0x5d0ad3(0x83a)]);if(_0x19fcbe['error'])throw this[_0x5d0ad3(0x2bc)][_0x5d0ad3(0x82e)]({'localError':c['name']+_0x5d0ad3(0x736),'error':_0x19fcbe['error']}),new m(_0x5d0ad3(0x1c9),_0x19fcbe[_0x5d0ad3(0x82e)]?.['toString']());return{'jwt':_0x278135};}async[a0_0x420d4d(0x6e0)](_0x80d9e2){const _0x2b3cd9=a0_0x420d4d;let _0x90700c=(0x0,Ps['v4'])()[_0x2b3cd9(0x55e)](),_0x22df79=await this[_0x2b3cd9(0x7f0)]['auth']['create']({'apikey':_0x90700c},_0x80d9e2[_0x2b3cd9(0x83a)]);if(_0x22df79[_0x2b3cd9(0x82e)])throw this[_0x2b3cd9(0x2bc)][_0x2b3cd9(0x82e)]({'localError':c[_0x2b3cd9(0x325)]+_0x2b3cd9(0x736),'error':_0x22df79['error']}),new m(_0x2b3cd9(0x1c9),_0x22df79[_0x2b3cd9(0x82e)]?.[_0x2b3cd9(0x5d4)]());return{'apikey':_0x90700c};}async[a0_0x420d4d(0x435)](_0x3c1060){const _0x3993de=a0_0x420d4d;let _0x22789c=this[_0x3993de(0x538)]['get'](_0x3993de(0x58a));return await this[_0x22789c['TYPE']](_0x3c1060);}},Kt=class{constructor(_0x39f78e){this['waMonitor']=_0x39f78e;}async[a0_0x420d4d(0x6b0)](_0x3fdf89,_0xf179b4){const _0x18d853=a0_0x420d4d;return await this[_0x18d853(0x395)][_0x18d853(0x6a5)][_0x3fdf89[_0x18d853(0x83a)]][_0x18d853(0x6b0)](_0xf179b4);}async['updateGroupPicture'](_0x2e4fbd,_0x5458c8){const _0x5400a7=a0_0x420d4d;return await this[_0x5400a7(0x395)]['waInstances'][_0x2e4fbd['instanceName']][_0x5400a7(0x768)](_0x5458c8);}async['groupDesc'](_0x2d651e,_0x148508){const _0xca15e4=a0_0x420d4d;return await this[_0xca15e4(0x395)][_0xca15e4(0x6a5)][_0x2d651e[_0xca15e4(0x83a)]]['groupDesc'](_0x148508);}async['groupName'](_0x27625a,_0x7a6b7b){const _0x381c9a=a0_0x420d4d;return await this[_0x381c9a(0x395)][_0x381c9a(0x6a5)][_0x27625a['instanceName']][_0x381c9a(0x356)](_0x7a6b7b);}async[a0_0x420d4d(0x63b)](_0x2f1fc1,_0x1294f7){const _0xe1d916=a0_0x420d4d;return await this[_0xe1d916(0x395)]['waInstances'][_0x2f1fc1[_0xe1d916(0x83a)]]['groupBetterSetting'](_0x1294f7);}async[a0_0x420d4d(0x406)](_0x23cfc3,_0x3842fe){const _0x558321=a0_0x420d4d;return await this['waMonitor']['waInstances'][_0x23cfc3[_0x558321(0x83a)]]['groupSetting'](_0x3842fe);}async[a0_0x420d4d(0x52b)](_0x31d5a7,_0x282279){const _0x40123e=a0_0x420d4d;return await this[_0x40123e(0x395)][_0x40123e(0x6a5)][_0x31d5a7[_0x40123e(0x83a)]][_0x40123e(0x85c)](_0x282279);}async[a0_0x420d4d(0x1f7)](_0x4e4d36){const _0x235577=a0_0x420d4d;return await this[_0x235577(0x395)][_0x235577(0x6a5)][_0x4e4d36[_0x235577(0x83a)]]['findGroups']();}async[a0_0x420d4d(0x304)](_0x429419,_0x53c939){const _0x21883a=a0_0x420d4d;return await this['waMonitor'][_0x21883a(0x6a5)][_0x429419[_0x21883a(0x83a)]]['inviteCode'](_0x53c939);}async[a0_0x420d4d(0x6d0)](_0x4e0d8e,_0x2c78d4){const _0x57adaf=a0_0x420d4d;return await this['waMonitor'][_0x57adaf(0x6a5)][_0x4e0d8e[_0x57adaf(0x83a)]][_0x57adaf(0x6d0)](_0x2c78d4);}async['groupGetInviteInfo'](_0x55adac,_0x48317c){const _0x242c99=a0_0x420d4d;return await this[_0x242c99(0x395)][_0x242c99(0x6a5)][_0x55adac['instanceName']][_0x242c99(0x3f0)](_0x48317c);}async[a0_0x420d4d(0x6ae)](_0x2888b8,_0xc17ffd){const _0x5dff4b=a0_0x420d4d;return await this[_0x5dff4b(0x395)]['waInstances'][_0x2888b8[_0x5dff4b(0x83a)]]['revokeInviteCode'](_0xc17ffd);}async['findParticipants'](_0x317bc8,_0x45eec2){const _0x16a229=a0_0x420d4d;return await this[_0x16a229(0x395)][_0x16a229(0x6a5)][_0x317bc8[_0x16a229(0x83a)]][_0x16a229(0x8cc)](_0x45eec2);}async['updateGParticipate'](_0x433c88,_0x5a5d69){const _0x1aa8fd=a0_0x420d4d;return await this['waMonitor'][_0x1aa8fd(0x6a5)][_0x433c88[_0x1aa8fd(0x83a)]][_0x1aa8fd(0x4fa)](_0x5a5d69);}async[a0_0x420d4d(0x37d)](_0x3c2be3,_0x2f09bd){const _0x130913=a0_0x420d4d;return await this['waMonitor'][_0x130913(0x6a5)][_0x3c2be3[_0x130913(0x83a)]][_0x130913(0x37d)](_0x2f09bd);}async[a0_0x420d4d(0x219)](_0x5f1f5a,_0x53daec){const _0x5891bb=a0_0x420d4d;return await this[_0x5891bb(0x395)][_0x5891bb(0x6a5)][_0x5f1f5a[_0x5891bb(0x83a)]]['leaveGroup'](_0x53daec);}},Qt=class{constructor(_0x154a01){const _0x374d37=a0_0x420d4d;this[_0x374d37(0x395)]=_0x154a01;}[a0_0x420d4d(0x44f)](_0xd001b7,_0x6b9886){const _0x18330d=a0_0x420d4d;return this['waMonitor'][_0x18330d(0x6a5)][_0xd001b7[_0x18330d(0x83a)]][_0x18330d(0x839)](_0x6b9886);}async[a0_0x420d4d(0x561)](_0x107b9a){const _0x475f73=a0_0x420d4d;try{return await this[_0x475f73(0x395)][_0x475f73(0x6a5)][_0x107b9a[_0x475f73(0x83a)]][_0x475f73(0x45c)]();}catch{return{'enabled':null,'url':''};}}},vp=new R(a0_0x420d4d(0x79c)),Yt=class{constructor(_0x12e542){const _0x35c6aa=a0_0x420d4d;this[_0x35c6aa(0x395)]=_0x12e542;}async['editScheduleMessage'](_0x3c4865,_0x189b2c){const _0x55dc56=a0_0x420d4d;return await this[_0x55dc56(0x395)][_0x55dc56(0x6a5)][_0x3c4865[_0x55dc56(0x83a)]][_0x55dc56(0x82c)](_0x189b2c);}async[a0_0x420d4d(0x50b)](_0x1cff87){const _0x220f41=a0_0x420d4d;return await this['waMonitor'][_0x220f41(0x6a5)][_0x1cff87[_0x220f41(0x83a)]]['getScheduleMessage']();}async[a0_0x420d4d(0x77b)](_0x155982){const _0x41e0d5=a0_0x420d4d;return await this['waMonitor']['waInstances'][_0x155982[_0x41e0d5(0x83a)]][_0x41e0d5(0x77b)]();}async[a0_0x420d4d(0x4ca)](_0x2ca5dd){const _0x28010a=a0_0x420d4d;return await this['waMonitor'][_0x28010a(0x6a5)][_0x2ca5dd[_0x28010a(0x83a)]][_0x28010a(0x4ca)]();}async[a0_0x420d4d(0x4c5)](_0x499064,_0x2739a2){const _0x5ac4dd=a0_0x420d4d;return await this[_0x5ac4dd(0x395)][_0x5ac4dd(0x6a5)][_0x499064[_0x5ac4dd(0x83a)]][_0x5ac4dd(0x4c5)](_0x2739a2);}async[a0_0x420d4d(0x39b)](_0x376538,_0x4da5ab){const _0x949e98=a0_0x420d4d;return await this[_0x949e98(0x395)][_0x949e98(0x6a5)][_0x376538['instanceName']][_0x949e98(0x39b)](_0x4da5ab);}async['updateAutoCompleteMessages'](_0x5587d7,_0x8f92b){const _0x4aa092=a0_0x420d4d;return await this[_0x4aa092(0x395)]['waInstances'][_0x5587d7['instanceName']][_0x4aa092(0x79f)](_0x8f92b);}async[a0_0x420d4d(0x8bd)](_0xad573b,_0x4fa984){const _0x1b5809=a0_0x420d4d;return await this[_0x1b5809(0x395)][_0x1b5809(0x6a5)][_0xad573b['instanceName']]['updateFlowConfig'](_0x4fa984);}async[a0_0x420d4d(0x2f5)](_0x48e10c,_0xc6b2f9){const _0x43a69a=a0_0x420d4d;return await this[_0x43a69a(0x395)][_0x43a69a(0x6a5)][_0x48e10c['instanceName']][_0x43a69a(0x2f5)](_0xc6b2f9);}async[a0_0x420d4d(0x520)](_0x22a3ca,_0x48b57b,_0x1cc4ef,_0x3f191b){const _0x135a55=a0_0x420d4d;return await this[_0x135a55(0x395)][_0x135a55(0x6a5)][_0x22a3ca][_0x135a55(0x520)](_0x48b57b,_0x1cc4ef,_0x3f191b);}async[a0_0x420d4d(0x68c)](_0x3f31ff,_0x464b6a){const _0x5d4a0a=a0_0x420d4d;return await this[_0x5d4a0a(0x395)][_0x5d4a0a(0x6a5)][_0x3f31ff[_0x5d4a0a(0x83a)]][_0x5d4a0a(0x68c)](_0x464b6a);}async[a0_0x420d4d(0x779)](_0x1dc91c,_0x390157){const _0x50dc55=a0_0x420d4d;return await this[_0x50dc55(0x395)][_0x50dc55(0x6a5)][_0x1dc91c['instanceName']][_0x50dc55(0x779)](_0x390157);}async[a0_0x420d4d(0x63a)](_0x2ed9e6,_0x41fbce){const _0x8d345f=a0_0x420d4d;return await this[_0x8d345f(0x395)][_0x8d345f(0x6a5)][_0x2ed9e6[_0x8d345f(0x83a)]][_0x8d345f(0x63a)](_0x41fbce);}async['deleteConversation'](_0x3e17cb,_0x1ba5e0){const _0x42c2e=a0_0x420d4d;return await this[_0x42c2e(0x395)][_0x42c2e(0x6a5)][_0x3e17cb[_0x42c2e(0x83a)]][_0x42c2e(0x445)](_0x1ba5e0);}async[a0_0x420d4d(0x88d)](_0x1ec498,_0x4494dd){const _0x4912ba=a0_0x420d4d;return await this[_0x4912ba(0x395)]['waInstances'][_0x1ec498[_0x4912ba(0x83a)]][_0x4912ba(0x88d)](_0x4494dd[_0x4912ba(0x325)],_0x4494dd[_0x4912ba(0x3b0)]);}async['createFlow'](_0x19edf8,_0x53f2d8,_0x59d206){const _0x216f4c=a0_0x420d4d;return await this[_0x216f4c(0x395)][_0x216f4c(0x6a5)][_0x19edf8['instanceName']]['createFlow'](_0x53f2d8,_0x59d206);}async['editFlow'](_0xe83445,_0x5735b0,_0x383c3a){const _0x11c3a9=a0_0x420d4d;return await this['waMonitor']['waInstances'][_0xe83445['instanceName']][_0x11c3a9(0x2bb)](_0x5735b0,_0x383c3a);}async[a0_0x420d4d(0x43e)](_0x5a9c64,_0x4080a9,_0x12f8ae){const _0x2d4c2f=a0_0x420d4d;return await this[_0x2d4c2f(0x395)][_0x2d4c2f(0x6a5)][_0x5a9c64[_0x2d4c2f(0x83a)]][_0x2d4c2f(0x43e)](_0x4080a9,_0x12f8ae);}async[a0_0x420d4d(0x3db)](_0xa2b86d,_0x4fd70e,_0xd46062){const _0x3e3d87=a0_0x420d4d;return await this[_0x3e3d87(0x395)][_0x3e3d87(0x6a5)][_0xa2b86d['instanceName']][_0x3e3d87(0x3db)](_0x4fd70e,_0xd46062);}async[a0_0x420d4d(0x52d)](_0x81b108,_0x2c55e3,_0x556654){const _0x4ec5e5=a0_0x420d4d;return await this['waMonitor'][_0x4ec5e5(0x6a5)][_0x81b108[_0x4ec5e5(0x83a)]][_0x4ec5e5(0x52d)](_0x2c55e3,_0x556654);}async['editFlowCondition'](_0x494c92,_0x53ba80,_0x5a7b2c){const _0x16b058=a0_0x420d4d;return await this[_0x16b058(0x395)][_0x16b058(0x6a5)][_0x494c92['instanceName']]['editFlowCondition'](_0x53ba80,_0x5a7b2c);}async[a0_0x420d4d(0x57f)](_0x1cf9b8,_0x920c96,_0x479555){const _0x24e693=a0_0x420d4d;return await this['waMonitor'][_0x24e693(0x6a5)][_0x1cf9b8['instanceName']]['editFlowVaredit'](_0x920c96,_0x479555);}async[a0_0x420d4d(0x513)](_0x1a67dd,_0x5c372a,_0x20a6a2){const _0x114711=a0_0x420d4d;return await this[_0x114711(0x395)][_0x114711(0x6a5)][_0x1a67dd[_0x114711(0x83a)]]['editFlowVariable'](_0x5c372a,_0x20a6a2);}async['deleteFlow'](_0xcb3b5f,_0x578a68,_0x2f841e){const _0x300c45=a0_0x420d4d;return await this[_0x300c45(0x395)][_0x300c45(0x6a5)][_0xcb3b5f[_0x300c45(0x83a)]][_0x300c45(0x842)](_0x578a68,_0x2f841e);}async[a0_0x420d4d(0x809)](_0x56797f){const _0x2b3e93=a0_0x420d4d;return await this[_0x2b3e93(0x395)]['waInstances'][_0x56797f[_0x2b3e93(0x83a)]][_0x2b3e93(0x809)]();}},Xt=class{constructor(_0x16307d){const _0x366bff=a0_0x420d4d;this[_0x366bff(0x5bc)]=_0x16307d;}async[a0_0x420d4d(0x662)](_0x381c56,_0x428157){const _0x36ba3a=a0_0x420d4d;return this[_0x36ba3a(0x5bc)][_0x36ba3a(0x44f)](_0x381c56,_0x428157);}async[a0_0x420d4d(0x45c)](_0x540215){const _0x5816bf=a0_0x420d4d;return this[_0x5816bf(0x5bc)][_0x5816bf(0x561)](_0x540215);}},Zt=class extends x{constructor(_0x28379e,_0x455058){const _0x24f7cd=a0_0x420d4d;super(_0x455058),this[_0x24f7cd(0x452)]=_0x28379e,this[_0x24f7cd(0x538)]=_0x455058;}async[a0_0x420d4d(0x44f)](_0x376565,_0x5da62c){const _0x45ef9b=a0_0x420d4d;try{return this[_0x45ef9b(0x808)][_0x45ef9b(0x46a)]?{'insertCount':(await this['webhookModel'][_0x45ef9b(0x50c)]({'_id':_0x5da62c},{..._0x376565},{'upsert':!0x0}))[_0x45ef9b(0x890)]}:{'insertCount':0x1};}catch(_0x5b397e){return _0x5b397e;}}async[a0_0x420d4d(0x845)](_0x79993e){const _0x4c5649=a0_0x420d4d;try{if(this[_0x4c5649(0x808)][_0x4c5649(0x46a)]){await this[_0x4c5649(0x452)][_0x4c5649(0x23e)]({'_id':_0x79993e});return;}}catch(_0xe0317){return{'error':_0xe0317};}}async[a0_0x420d4d(0x561)](_0x19971c){const _0x5b6921=a0_0x420d4d;try{if(this['dbSettings'][_0x5b6921(0x46a)])return await this[_0x5b6921(0x452)][_0x5b6921(0x868)]({'_id':_0x19971c});}catch{return{};}}},es=class extends x{constructor(_0x2dc32f,_0x1dcc60){const _0x15121c=a0_0x420d4d;super(_0x1dcc60),this['authModel']=_0x2dc32f,this['configService']=_0x1dcc60,this['auth']=_0x1dcc60['get'](_0x15121c(0x58a));}async['create'](_0x48fa3d,_0x2afb04){const _0x2db3ec=a0_0x420d4d;try{if(this[_0x2db3ec(0x808)][_0x2db3ec(0x46a)])return{'insertCount':(await this['authModel'][_0x2db3ec(0x4a8)]({'_id':_0x2afb04},{'$set':{..._0x48fa3d}},{'upsert':!0x0}))[_0x2db3ec(0x890)]};}catch(_0x1eb05c){return{'error':_0x1eb05c};}}async[a0_0x420d4d(0x818)](_0x889b4,_0x1a71cd){const _0x401721=a0_0x420d4d;try{if(this[_0x401721(0x808)][_0x401721(0x46a)])return{'insertCount':(await this[_0x401721(0x6ee)]['updateMany'](_0x889b4,{'$set':_0x1a71cd},{'upsert':!0x1}))['modifiedCount']};throw new Error(_0x401721(0x3a9));}catch(_0x558b89){return{'error':_0x558b89};}}async[a0_0x420d4d(0x42f)](_0x4eaccc){const _0x2bf26f=a0_0x420d4d;try{if(this['dbSettings'][_0x2bf26f(0x46a)])return{'insertCount':(await this[_0x2bf26f(0x6ee)][_0x2bf26f(0x42f)](_0x4eaccc))[_0x2bf26f(0x6a7)]};throw new Error(_0x2bf26f(0x3a9));}catch(_0x527033){return{'error':_0x527033};}}async[a0_0x420d4d(0x845)](_0x388788){const _0x583c05=a0_0x420d4d;try{if(this[_0x583c05(0x808)][_0x583c05(0x46a)]){await this[_0x583c05(0x6ee)]['deleteOne']({'_id':_0x388788});return;}}catch(_0x5e3dee){return{'error':_0x5e3dee};}}async[a0_0x420d4d(0x561)](_0xe87d9f){const _0x265158=a0_0x420d4d;try{if(this[_0x265158(0x808)][_0x265158(0x46a)])return await this[_0x265158(0x6ee)][_0x265158(0x868)]({'_id':_0xe87d9f});}catch{return{};}}async[a0_0x420d4d(0x8d2)](){const _0xc2fea1=a0_0x420d4d;try{if(this[_0xc2fea1(0x808)]['ENABLED'])return await this[_0xc2fea1(0x6ee)][_0xc2fea1(0x561)]();}catch{return[];}}},ts=class extends x{[a0_0x420d4d(0x7ca)](_0x534798){return pa(_0x534798);}async['delete'](_0x18d11,_0x18c607){const _0x2c31d9=a0_0x420d4d;try{let _0x2547da=this[_0x2c31d9(0x7ca)](_0x18c607),_0x4e6254=T(_0x18d11['where']);return{'deletedCount':(await _0x2547da['deleteMany'](_0x4e6254))[_0x2c31d9(0x6a7)]};}catch(_0x2d45ac){return{'error':_0x2d45ac?.['toString']()};}}async[a0_0x420d4d(0x23e)](_0x2b7ef8,_0x14aa98){const _0x52c1c7=a0_0x420d4d;try{let _0x407459=this[_0x52c1c7(0x7ca)](_0x14aa98),_0x334725=T(_0x2b7ef8['where']);return{'deletedCount':(await _0x407459[_0x52c1c7(0x23e)](_0x334725))['deletedCount']};}catch(_0xdc67e3){return{'error':_0xdc67e3?.[_0x52c1c7(0x5d4)]()};}}async[a0_0x420d4d(0x50c)](_0x448c94,_0x407b9c,_0x144c59){const _0xa239d3=a0_0x420d4d;try{let _0x5a850b=await this[_0xa239d3(0x7ca)](_0x144c59)['findByIdAndUpdate'](_0x448c94,_0x407b9c,{'overwrite':!0x0,'new':!0x0});return _0x5a850b||(console['error']('Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:',_0x448c94),null);}catch(_0xc27dbb){return console['error'](_0xa239d3(0x2f2),_0xc27dbb),null;}}async[a0_0x420d4d(0x4a8)](_0x34786d,_0x166aee,_0x37d64d){const _0x4bdc95=a0_0x420d4d;try{let _0x315319=await this[_0x4bdc95(0x7ca)](_0x37d64d)[_0x4bdc95(0x50e)](_0x34786d);return _0x315319?(Object[_0x4bdc95(0x65f)](_0x315319,_0x166aee),await _0x315319[_0x4bdc95(0x4f1)]()):(console['error'](_0x4bdc95(0x254),_0x34786d),null);}catch(_0x20a806){return console[_0x4bdc95(0x82e)](_0x4bdc95(0x2f2),_0x20a806),null;}}async[a0_0x420d4d(0x26d)](_0x44562b,_0x4ba2a2,_0x2330ec){const _0x49ffc8=a0_0x420d4d;try{let _0x949bf2=this[_0x49ffc8(0x7ca)](_0x2330ec),_0x1ba496=await _0x949bf2[_0x49ffc8(0x50e)](_0x44562b),_0x59aa9f=await _0x949bf2[_0x49ffc8(0x827)]({'_id':_0x44562b},_0x4ba2a2,{'new':!0x0,'runValidators':!0x0});return _0x59aa9f||(console[_0x49ffc8(0x3a6)](_0x49ffc8(0x504)+_0x44562b+'\x20e\x20proprietário\x20'+_0x2330ec+_0x49ffc8(0x322)),null);}catch(_0x2f50fb){throw console[_0x49ffc8(0x82e)](_0x49ffc8(0x8d9),_0x2f50fb),_0x2f50fb;}}async[a0_0x420d4d(0x228)](_0x5874fb){const _0x456a2=a0_0x420d4d;try{let _0x2307d3=this[_0x456a2(0x7ca)](_0x5874fb),_0x49dc44={'shareOwners':{'$exists':!0x1}},_0x4e8719={'$set':{'shareOwners':[]}};return(await _0x2307d3[_0x456a2(0x6a3)](_0x49dc44,_0x4e8719))['modifiedCount'];}catch(_0x362fa7){return console[_0x456a2(0x82e)](_0x362fa7),0x0;}}async[a0_0x420d4d(0x5de)](_0x434a60,_0x3b1fa3){const _0x166439=a0_0x420d4d;try{let _0xd91634=this[_0x166439(0x7ca)](_0x3b1fa3);return await new _0xd91634(_0x434a60)[_0x166439(0x4f1)]();}catch(_0x582c45){return console[_0x166439(0x82e)](_0x166439(0x28c),_0x582c45),null;}}async[a0_0x420d4d(0x6a3)](_0x6ea8f0,_0x426d9d,_0x45b597){const _0x5ad53e=a0_0x420d4d;try{return{'modifiedCount':(await this[_0x5ad53e(0x7ca)](_0x45b597)[_0x5ad53e(0x6a3)](_0x6ea8f0,{'$set':_0x426d9d}))['modifiedCount']};}catch(_0x313e48){return console[_0x5ad53e(0x82e)]('Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:',_0x313e48),{'error':_0x313e48};}}async['findAll'](_0xc646ac,_0x5a849f){const _0x401512=a0_0x420d4d;try{let _0x4bfe1a=this[_0x401512(0x7ca)](_0x5a849f),_0x33c3bd=T(_0xc646ac[_0x401512(0x4f7)]);return await _0x4bfe1a[_0x401512(0x561)](_0x33c3bd)[_0x401512(0x5fd)](_0xc646ac?.[_0x401512(0x5fd)]??0x0)[_0x401512(0x720)]();}catch{return[];}}async[a0_0x420d4d(0x868)](_0x58adb6,_0xe0fc){const _0x4a8d0e=a0_0x420d4d;try{let _0x3a575a=this['getFlowModelForOwner'](_0xe0fc),_0x553dd2=T(_0x58adb6[_0x4a8d0e(0x4f7)]);return await _0x3a575a[_0x4a8d0e(0x868)](_0x553dd2)[_0x4a8d0e(0x720)]();}catch{return null;}}async[a0_0x420d4d(0x5a5)](_0xbd9e38){const _0x3502c8=a0_0x420d4d;try{return await this[_0x3502c8(0x7ca)](_0xbd9e38)['collection']['drop'](),{'success':!0x0};}catch(_0x4b63fc){return console['error'](_0x4b63fc),{'success':!0x1,'error':_0x4b63fc};}}},ss=class extends x{[a0_0x420d4d(0x1ff)](_0x80fbba){return ha(_0x80fbba);}async['insert'](_0x224fdc){const _0x143138=a0_0x420d4d;if(_0x224fdc[_0x143138(0x297)]!==0x0)try{return{'insertCount':(await this[_0x143138(0x1ff)](_0x224fdc[0x0][_0x143138(0x89c)])[_0x143138(0x1f1)]([..._0x224fdc]))[_0x143138(0x297)]};}catch(_0x356c49){return _0x356c49;}}async['delete'](_0x386dea,_0x56a516){const _0x3dc653=a0_0x420d4d;try{let _0x336487=this[_0x3dc653(0x1ff)](_0x56a516),_0x408b6e=T(_0x386dea[_0x3dc653(0x4f7)]);return{'deletedCount':(await _0x336487[_0x3dc653(0x42f)](_0x408b6e))[_0x3dc653(0x6a7)]};}catch(_0x418024){return{'error':_0x418024?.['toString']()};}}async[a0_0x420d4d(0x23e)](_0x157516,_0x2b3e6a){const _0x322779=a0_0x420d4d;try{let _0x4bb35c=this['getConversationModelForOwner'](_0x2b3e6a),_0x42efb6=T(_0x157516['where']);return{'deletedCount':(await _0x4bb35c[_0x322779(0x23e)](_0x42efb6))[_0x322779(0x6a7)]};}catch(_0x598845){return{'error':_0x598845?.[_0x322779(0x5d4)]()};}}async[a0_0x420d4d(0x318)](_0x3a30df,_0x24ff8f){const _0x5d2e93=a0_0x420d4d;try{if(_0x3a30df['length']===0x0)return;let _0x1486a9=this[_0x5d2e93(0x1ff)](_0x24ff8f),_0x1ff569=_0x3a30df[_0x5d2e93(0x28d)](_0x127826=>({'updateOne':{'filter':{'name':_0x127826[_0x5d2e93(0x325)],'owner':_0x24ff8f},'update':{..._0x127826}}})),{modifiedCount:_0x5c68a5}=await _0x1486a9['bulkWrite'](_0x1ff569);return{'insertCount':_0x5c68a5};}catch{return;}}async[a0_0x420d4d(0x6a3)](_0x201eb7,_0x3de51e,_0x4b38f9){const _0x37140a=a0_0x420d4d;try{return{'modifiedCount':(await this[_0x37140a(0x1ff)](_0x4b38f9)['updateMany'](_0x201eb7,{'$set':_0x3de51e})[_0x37140a(0x373)]())['modifiedCount']};}catch(_0x5f076a){return console[_0x37140a(0x82e)](_0x37140a(0x677),_0x5f076a),{'error':_0x5f076a};}}async[a0_0x420d4d(0x4a8)](_0xc62fe3,_0x45ca42,_0x31cd2f){const _0x284600=a0_0x420d4d;try{return await this['getConversationModelForOwner'](_0x31cd2f)[_0x284600(0x827)]({'_id':_0xc62fe3},{'$set':_0x45ca42},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0x32a1a2){return console[_0x284600(0x82e)](_0x32a1a2),null;}}async['find'](_0x5ee6a9,_0x13f4c6){const _0x3bde74=a0_0x420d4d;try{return await this[_0x3bde74(0x1ff)](_0x13f4c6)[_0x3bde74(0x561)](_0x5ee6a9)[_0x3bde74(0x209)]({'lastInteraction':-0x1})[_0x3bde74(0x720)]();}catch{return[];}}async[a0_0x420d4d(0x868)](_0x2667c1,_0x76dba5){const _0x24339f=a0_0x420d4d;try{return await this[_0x24339f(0x1ff)](_0x76dba5)[_0x24339f(0x868)]({..._0x2667c1[_0x24339f(0x4f7)]})[_0x24339f(0x720)]();}catch{return null;}}async['deleteAll'](_0x3ab14c){const _0x12edf1=a0_0x420d4d;try{return await this['getConversationModelForOwner'](_0x3ab14c)['collection']['drop'](),{'success':!0x0};}catch(_0x2d52a9){return console[_0x12edf1(0x82e)](_0x2d52a9),{'success':!0x1,'error':_0x2d52a9};}}},as=class extends x{[a0_0x420d4d(0x8b5)](_0x25b185){return ga(_0x25b185);}async[a0_0x420d4d(0x5de)](_0x37bc47,_0x51b39e){const _0x1a0650=a0_0x420d4d;try{let _0x2a6d73=this[_0x1a0650(0x8b5)](_0x51b39e);return await new _0x2a6d73(_0x37bc47)['save']();}catch(_0xdf1b1e){return console[_0x1a0650(0x82e)](_0x1a0650(0x28c),_0xdf1b1e),null;}}async['deleteOne'](_0x53dea9,_0x11060c){const _0x574184=a0_0x420d4d;try{return await this[_0x574184(0x8b5)](_0x11060c)[_0x574184(0x302)](_0x53dea9),{};}catch(_0x505823){return{'error':_0x505823?.['toString']()};}}async[a0_0x420d4d(0x4a8)](_0x4aa996,_0x45a492,_0x44661c){const _0x4a1ee8=a0_0x420d4d;try{return await this[_0x4a1ee8(0x8b5)](_0x44661c)['findOneAndUpdate'](_0x4aa996,{'$set':_0x45a492},{'new':!0x0})['lean']();}catch(_0x4067fe){return console[_0x4a1ee8(0x82e)](_0x4a1ee8(0x47e),_0x4067fe),null;}}async[a0_0x420d4d(0x78b)](_0x47e9bf,_0x1e5b76,_0x5a9524){const _0x288d0f=a0_0x420d4d;try{return await this[_0x288d0f(0x8b5)](_0x5a9524)[_0x288d0f(0x32f)](_0x47e9bf,_0x1e5b76,{'new':!0x0})['lean']();}catch(_0x12410a){return console[_0x288d0f(0x82e)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x12410a),null;}}async['find'](_0x67013c,_0x25d76c){const _0x557385=a0_0x420d4d;try{return await this[_0x557385(0x8b5)](_0x25d76c)['find'](_0x67013c[_0x557385(0x4f7)])[_0x557385(0x5fd)](_0x67013c?.['limit']??0x0)[_0x557385(0x209)]({'when':0x1})[_0x557385(0x720)]();}catch{return[];}}async['findOne'](_0x5697f7,_0x17495f){const _0x4461c4=a0_0x420d4d;try{return await this[_0x4461c4(0x8b5)](_0x17495f)[_0x4461c4(0x868)](_0x5697f7[_0x4461c4(0x4f7)])['sort']({'when':0x1})['lean']();}catch{return null;}}async[a0_0x420d4d(0x50e)](_0x2d6203,_0x4ece33){const _0x4ac386=a0_0x420d4d;try{return await this['getScheduleMessageModelForOwner'](_0x4ece33)[_0x4ac386(0x50e)](_0x2d6203)[_0x4ac386(0x720)]();}catch{return null;}}async[a0_0x420d4d(0x42f)](_0x58ddb6,_0x2bc167){const _0x5d507a=a0_0x420d4d;try{return{'deletedCount':(await this[_0x5d507a(0x8b5)](_0x2bc167)[_0x5d507a(0x42f)](_0x58ddb6))[_0x5d507a(0x6a7)]};}catch(_0x521c9b){return console[_0x5d507a(0x82e)](_0x5d507a(0x6b4),_0x521c9b),{'error':_0x521c9b};}}async['deleteAll'](_0x183040){const _0x247332=a0_0x420d4d;try{return await this[_0x247332(0x8b5)](_0x183040)[_0x247332(0x5d2)][_0x247332(0x357)](),{'success':!0x0};}catch(_0x1d021d){return console[_0x247332(0x82e)](_0x1d021d),{'success':!0x1,'error':_0x1d021d};}}},os=class extends x{async['update'](_0x15d98c,_0x13ce0a){const _0x442561=a0_0x420d4d;try{if(this[_0x442561(0x808)]['ENABLED']){let _0x4eaf43=await ve[_0x442561(0x827)]({'_id':_0x13ce0a},{'$set':_0x15d98c},{'new':!0x0});return console[_0x442561(0x3a6)](_0x442561(0x443),_0x4eaf43),_0x4eaf43;}}catch(_0x15bf8a){throw console[_0x442561(0x82e)](_0x442561(0x524),_0x15bf8a),_0x15bf8a;}}async[a0_0x420d4d(0x2c1)](_0x388eae){const _0x1a95f6=a0_0x420d4d;try{let _0x16098a=await ve[_0x1a95f6(0x50e)](_0x388eae);return _0x16098a?_0x16098a[_0x1a95f6(0x5fe)]||(_0x16098a[_0x1a95f6(0x5fe)]=[],await _0x16098a[_0x1a95f6(0x4f1)]()):(_0x16098a=new ve({'_id':_0x388eae,'autoCompleteMessages':[]}),await _0x16098a['save']()),_0x16098a;}catch(_0x11c6dd){return _0x11c6dd[_0x1a95f6(0x5c0)]===0x2af8&&_0x11c6dd[_0x1a95f6(0x261)]&&_0x11c6dd[_0x1a95f6(0x261)][_0x1a95f6(0x8cf)]?(console[_0x1a95f6(0x82e)](_0x1a95f6(0x38a)),await ve[_0x1a95f6(0x5d2)]['dropIndex']('autoCompleteMessages.command_1'),null):(console['error'](_0x1a95f6(0x550),_0x11c6dd),null);}}},Or=new R(a0_0x420d4d(0x5b7)),Tr=new We(b),Ir=new qt(b),xr=new ot(b),Dr=new Vt(ea,b),_r=new Zt(na,b),Pr=new es(oa,b),kr=new ts(b),jr=new Gt(b),Lr=new ss(b),Fr=new as(b),Jr=new os(b),de=new Ge(Tr,Ir,xr,Dr,_r,Pr,kr,Lr,jr,Fr,Jr,$?.[a0_0x420d4d(0x7a3)]()),G=new Ut(us,b,de),Ur=new Ht(b,G,de),qr=new Qt(G),Cs=new Xt(qr),A=new Yt(G),ce=new Wt(G,b,de,us,Ur),B=new zt(G),P=new Bt(G),q=new Kt(G);Or[a0_0x420d4d(0x536)](a0_0x420d4d(0x2cf));var Uh=require(a0_0x420d4d(0x474)),ks=require('fs'),$o=O(require(a0_0x420d4d(0x68e))),Ao=O(require('http')),_e=class c{static #e;static set[a0_0x420d4d(0x1df)](_0x3cf41b){this.#e=_0x3cf41b;}static get['https'](){const _0x2e7ed7=a0_0x420d4d;let {FULLCHAIN:_0x5b7657,PRIVKEY:_0x5e1c80}=b['get'](_0x2e7ed7(0x585));return $o[_0x2e7ed7(0x59f)]({'cert':(0x0,ks['readFileSync'])(_0x5b7657),'key':(0x0,ks['readFileSync'])(_0x5e1c80)},c.#e);}static get[a0_0x420d4d(0x7d1)](){const _0x1310b1=a0_0x420d4d;return Ao[_0x1310b1(0x59f)](c.#e);}},he=O(require('fs')),_o=O(require(a0_0x420d4d(0x500))),Pe=O(require(a0_0x420d4d(0x879))),je=O(require(a0_0x420d4d(0x3ba))),Le=require('child_process');function Vr(){const _0xb7ca30=a0_0x420d4d;G[_0xb7ca30(0x1e2)]();let _0x52b97b=je[_0xb7ca30(0x7f3)][_0xb7ca30(0x3c9)](__dirname,'downloads');Do(_0x52b97b);}var Do=_0x34758d=>{const _0x4ac662=a0_0x420d4d;let _0x56a325=he[_0x4ac662(0x7f3)]['readdirSync'](_0x34758d),_0x43b693=0xc*0x3c*0x3c*0x3e8,_0x1bb3af=0x2*0x3c*0x3c*0x3e8,_0x310362=new Date()[_0x4ac662(0x657)]();_0x56a325[_0x4ac662(0x425)](_0xc860df=>{const _0x5d5708=_0x4ac662;let _0x284c47=je['default'][_0x5d5708(0x3c9)](_0x34758d,_0xc860df),_0x2548ee=he[_0x5d5708(0x7f3)]['statSync'](_0x284c47)[_0x5d5708(0x8b7)][_0x5d5708(0x657)]();_0x310362-_0x2548ee>_0x43b693&&(he[_0x5d5708(0x7f3)][_0x5d5708(0x4ce)](_0x284c47),console[_0x5d5708(0x3a6)](_0x5d5708(0x8a8)+_0xc860df));}),setTimeout(()=>Do(_0x34758d),_0x1bb3af);};function Gr(){const _0x17ad19=a0_0x420d4d;let _0x1154ad=new R(_0x17ad19(0x702)),_0x1f64d7=(0x0,ge[_0x17ad19(0x7f3)])();_0x1f64d7[_0x17ad19(0x551)]((0x0,xo[_0x17ad19(0x7f3)])({'origin'(_0x9e3256,_0x281c7a){const _0x15357c=_0x17ad19;let {ORIGIN:_0x20ee37}=b[_0x15357c(0x71d)](_0x15357c(0x2b3));return _0x9e3256||(_0x9e3256='*'),_0x20ee37['indexOf']('*')!==-0x1||_0x20ee37[_0x15357c(0x6a6)](_0x9e3256)!==-0x1?_0x281c7a(null,!0x0):_0x281c7a(new Error(_0x15357c(0x402)));},'methods':[...b['get'](_0x17ad19(0x2b3))[_0x17ad19(0x4b7)]],'credentials':b[_0x17ad19(0x71d)]('CORS')[_0x17ad19(0x3f3)]}),(0x0,ge[_0x17ad19(0x767)])({'extended':!0x0,'limit':'50mb'}),(0x0,ge['json'])({'limit':_0x17ad19(0x6b9)})),_0x1f64d7[_0x17ad19(0x551)]((_0x245797,_0xc83d7a,_0x158246)=>{const _0x409460=_0x17ad19;_0x245797[_0x409460(0x3ba)][_0x409460(0x63f)](_0x409460(0x568))?_0x158246():(0x0,Io[_0x409460(0x7f3)])()(_0x245797,_0xc83d7a,_0x158246);}),_0x1f64d7[_0x17ad19(0x853)](_0x17ad19(0x848),_0x17ad19(0x70b)),_0x1f64d7[_0x17ad19(0x853)](_0x17ad19(0x4dd),(0x0,Ls['join'])(ne,_0x17ad19(0x4dd))),_0x1f64d7[_0x17ad19(0x551)](ge[_0x17ad19(0x7f3)]['static']((0x0,Ls[_0x17ad19(0x3c9)])(ne,_0x17ad19(0x34e)))),_0x1f64d7['use']((_0x2e74b2,_0x481a21,_0x3eab78)=>{const _0x1b7492=_0x17ad19;let _0x459264=_0x481a21['send'];_0x481a21[_0x1b7492(0x8a4)]=function(_0x5df58b){const _0xf82423=_0x1b7492;if(_0x2e74b2[_0xf82423(0x565)]['convert']==='true'||_0x2e74b2['headers'][_0xf82423(0x87e)]===_0xf82423(0x405)){let _0x31fdbd=JSON[_0xf82423(0x28e)](_0x5df58b);_0x5df58b=JSON[_0xf82423(0x31d)](_0x694264(_0x31fdbd));}return _0x459264[_0xf82423(0x65b)](_0x481a21,[_0x5df58b]);},_0x3eab78();}),_0x1f64d7[_0x17ad19(0x551)]('/',Ie),_0x1f64d7['use']((_0x2c0c8b,_0x474fe6,_0x183701,_0x2a4ea9)=>{const _0x47e216=_0x17ad19;if(_0x2c0c8b)return _0x183701[_0x47e216(0x69e)](_0x2c0c8b[_0x47e216(0x69e)]||0x1f4)['json'](_0x2c0c8b);},(_0x342408,_0x6b486,_0x448592)=>{const _0x288d0d=_0x17ad19;let {method:_0x5593b0,url:_0xc63d1b}=_0x342408;_0x6b486[_0x288d0d(0x69e)](0x194)[_0x288d0d(0x483)]({'status':0x194,'message':_0x288d0d(0x6d9)+_0x5593b0[_0x288d0d(0x55e)]()+'\x20'+_0xc63d1b,'error':_0x288d0d(0x624)}),_0x448592();});let _0x694264=(_0x35e4b9,_0x49fa83=_0x17ad19(0x731))=>{const _0x1ca6a6=_0x17ad19;let _0x521062=(_0x3cf7c9,_0x3380d8=null,_0x1f0f0a=!0x1)=>{const _0x516ff9=a0_0x296e;let _0x3416ad={};return Object[_0x516ff9(0x673)](_0x3cf7c9)[_0x516ff9(0x425)](_0x21b8b4=>{const _0xcf8109=_0x516ff9;let _0x3faa37=_0x3cf7c9[_0x21b8b4],_0x5dd8ef=''+_0x49fa83+_0x21b8b4;_0x3380d8&&!_0x1f0f0a&&(_0x5dd8ef=_0x3380d8+'.'+_0x21b8b4),!_0x3faa37&&_0x3faa37!==0x0&&_0x3faa37!==!0x1||typeof _0x3faa37>'u'?_0x3416ad[_0x5dd8ef]=null:typeof _0x3faa37!='object'&&!Array[_0xcf8109(0x5bf)](_0x3faa37)?_0x3416ad[_0x5dd8ef]=_0x3faa37:typeof _0x3faa37=='object'&&!Array[_0xcf8109(0x5bf)](_0x3faa37)?_0x3416ad=Object['assign'](_0x3416ad,_0x521062(_0x3faa37,_0x5dd8ef)):Array[_0xcf8109(0x5bf)](_0x3faa37)&&(typeof _0x3faa37[0x0]==_0xcf8109(0x86d)?(_0x3416ad[_0x5dd8ef]=[],_0x3faa37['forEach'](_0x44e54a=>{_0x3416ad[_0x5dd8ef]['push'](_0x521062(_0x44e54a,_0x5dd8ef,!0x0));})):_0x3416ad[_0x5dd8ef]=_0x3faa37);}),_0x3416ad;};return Array[_0x1ca6a6(0x5bf)](_0x35e4b9)?_0x35e4b9[_0x1ca6a6(0x28d)](_0x550059=>_0x521062(_0x550059)):typeof _0x35e4b9==_0x1ca6a6(0x86d)&&_0x35e4b9!==null?_0x521062(_0x35e4b9):{};},_0x20ae1a=b['get'](_0x17ad19(0x702));_e[_0x17ad19(0x1df)]=_0x1f64d7;let _0x318508=_e[_0x20ae1a[_0x17ad19(0x25d)]],_0x96ae24=_0x17ad19(0x5f0);_0x318508['listen'](_0x20ae1a[_0x17ad19(0x60f)],()=>{const _0x1db707=_0x17ad19;_0x1154ad[_0x1db707(0x3a6)](_0x96ae24),_0x1154ad[_0x1db707(0x3a6)](_0x20ae1a[_0x1db707(0x25d)][_0x1db707(0x55e)]()+'\x20-\x20ON:\x20'+_0x20ae1a[_0x1db707(0x60f)]);}),Vr(),Hs();}var Br='https://github.com/uazapi/uazapi.git',Wr=je['default'][a0_0x420d4d(0x3c9)](__dirname,a0_0x420d4d(0x39d)),ke=null;function zr(){return new Promise((_0x2cd987,_0x36da1c)=>{const _0x3e1647=a0_0x296e;he[_0x3e1647(0x7f3)][_0x3e1647(0x606)](Wr,_0x3e1647(0x502),(_0x1be81f,_0x318ea3)=>{const _0x332db1=_0x3e1647;if(_0x1be81f){ke=_0x1be81f,_0x2cd987();return;}_o[_0x332db1(0x7f3)][_0x332db1(0x28e)](_0x318ea3)[_0x332db1(0x3b7)][_0x332db1(0x5cd)]===Br?(ke=null,_0x2cd987()):(ke=new Error(_0x332db1(0x3cb)),_0x2cd987());});});}async function Hr(){const _0x562776=a0_0x420d4d;try{await zr(),await Fs();}catch(_0x401016){console[_0x562776(0x82e)]('Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20'+_0x401016),process[_0x562776(0x5db)](0x1);}}Hr();async function Po(){const _0xb8eb86=a0_0x420d4d;let _0x13d5b2;try{_0x13d5b2=(await Pe[_0xb8eb86(0x7f3)]['get'](_0xb8eb86(0x7a0)))[_0xb8eb86(0x6c7)]['ip'];}catch(_0x4683f7){console['error'](_0x4683f7);try{_0x13d5b2=(await Pe[_0xb8eb86(0x7f3)][_0xb8eb86(0x71d)](_0xb8eb86(0x2fd)))[_0xb8eb86(0x6c7)]['ip'];}catch(_0x540b56){console[_0xb8eb86(0x82e)](_0x540b56);try{_0x13d5b2=(await Pe[_0xb8eb86(0x7f3)]['get'](_0xb8eb86(0x4c9)))['data']['match'](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x26df8c){return console[_0xb8eb86(0x82e)](_0x26df8c),!0x1;}}}return _0x13d5b2;}var Oo=0x0;async function Kr(){const _0x5636e3=a0_0x420d4d;let _0x54e0e2=await new le(b[_0x5636e3(0x71d)](_0x5636e3(0x811)))['instanceKeys']();return console[_0x5636e3(0x3a6)]('instancias:\x20',_0x54e0e2[_0x5636e3(0x297)]),_0x54e0e2[_0x5636e3(0x297)];}function Qr(_0x2a57fe){const _0x346ce8=a0_0x420d4d;let _0x58b5da=_0x2a57fe[_0x346ce8(0x71d)](_0x346ce8(0x702))[_0x346ce8(0x718)],_0x71c9e3=_0x2a57fe[_0x346ce8(0x71d)]('SSL_CONF'),_0x115b12;if(_0x58b5da){let _0x5488d8=_0x58b5da[_0x346ce8(0x58e)](/\/\/(.*?)\./);_0x5488d8&&_0x5488d8[0x1]&&(_0x115b12=_0x5488d8[0x1]);}if(!_0x115b12&&_0x71c9e3&&_0x71c9e3[_0x346ce8(0x1dd)]){let _0x360818=_0x71c9e3[_0x346ce8(0x1dd)][_0x346ce8(0x65d)]('/'),_0x2e70f2=_0x360818[_0x360818['length']-0x2];if(_0x2e70f2){let _0x41793d=_0x2e70f2[_0x346ce8(0x65d)]('.');_0x41793d['length']>0x2&&(_0x115b12=_0x41793d[0x0]);}}return _0x115b12;}var Ds=Qr(b);async function Yr(){const _0x2859dc=a0_0x420d4d;let _0xabfb2e=b['get'](_0x2859dc(0x811)),_0x5758a6=b[_0x2859dc(0x71d)]('AUTHENTICATION')['API_KEY'][_0x2859dc(0x63c)],_0x56e57a=b['get'](_0x2859dc(0x585)),_0x16fcb7=await Po(),_0x44228d=b[_0x2859dc(0x71d)]('SERVER')[_0x2859dc(0x60f)],_0x158b3d=b[_0x2859dc(0x71d)](_0x2859dc(0x702))['URL'];try{let _0x3d73c9={'ip':_0x16fcb7||null,'redis_enable':_0xabfb2e?.[_0x2859dc(0x46a)]||null,'apikey':_0x5758a6||null,'ssl':_0x56e57a?.[_0x2859dc(0x8bf)]||null,'lastupdate':ko||null,'port':_0x44228d||null,'gitInstallError':ke?.[_0x2859dc(0x8d5)]||null,'url':_0x158b3d||null};if(console[_0x2859dc(0x3a6)](_0x2859dc(0x32a),_0x3d73c9['ip']),_0xabfb2e&&_0xabfb2e[_0x2859dc(0x46a)]){let _0x4da037=await Kr();_0x3d73c9[_0x2859dc(0x2ee)]=_0x4da037||null;}for(let _0x191adc in _0x3d73c9)_0x3d73c9[_0x2859dc(0x5e8)](_0x191adc)&&_0x191adc!=='ip'&&(_0x3d73c9[_0x191adc]=JSON[_0x2859dc(0x31d)](_0x3d73c9[_0x191adc]));return(await Pe[_0x2859dc(0x7f3)][_0x2859dc(0x78e)](_0x2859dc(0x22a),_0x3d73c9))['data'];}catch(_0x510403){return console[_0x2859dc(0x82e)](_0x510403),!0x1;}}var js=!0x1,ko=0x242,Xr=0x3,To=0x1b7740;async function Fs(){const _0x7e35fc=a0_0x420d4d;if(!await Po())return console[_0x7e35fc(0x82e)](_0x7e35fc(0x543)),'NO_IP';let _0x22d910=await Yr();if(_0x22d910){if(_0x22d910[_0x7e35fc(0x60d)][_0x7e35fc(0x32d)]===!0x0){let _0x450bb8=b['get'](_0x7e35fc(0x585)),_0x31a852=b[_0x7e35fc(0x71d)](_0x7e35fc(0x702))[_0x7e35fc(0x718)];_0x450bb8&&_0x450bb8?.[_0x7e35fc(0x8bf)]?.[_0x7e35fc(0x3a0)](_0x7e35fc(0x804))&&_0x22d910['response'][_0x7e35fc(0x2d1)]&&!_0x31a852&&(await ti(_0x22d910[_0x7e35fc(0x60d)][_0x7e35fc(0x2d1)],ei),await si(_0x7e35fc(0x468),_0x22d910[_0x7e35fc(0x60d)][_0x7e35fc(0x2d1)]),console[_0x7e35fc(0x3a6)](_0x7e35fc(0x6b7)),setTimeout(()=>oi(),0x2710)),ke===null&&_0x22d910[_0x7e35fc(0x60d)]['last_update']-ko>0x0&&await Zr(),js||(js=!0x0,Gr());let _0x5581a0=0x24*0x3c*0x3c,_0x271c0d=_0x22d910[_0x7e35fc(0x60d)]['segundos']>_0x5581a0?_0x5581a0:_0x22d910['response'][_0x7e35fc(0x4e7)],_0x5969a0=Number(_0x271c0d);if(isNaN(_0x5969a0)){console[_0x7e35fc(0x82e)](_0x7e35fc(0x55b));return;}let _0x23807c=Math[_0x7e35fc(0x823)](_0x5969a0/0xe10),_0x6e155c=Math[_0x7e35fc(0x823)](_0x5969a0%0xe10/0x3c),_0xc3cc18=new Date(Date['now']()+_0x5969a0*0x3e8);setTimeout(Fs,_0x5969a0*0x3e8);let _0x5be4fa=_0x21a188=>_0x21a188[_0x7e35fc(0x5d4)]()[_0x7e35fc(0x572)](0x2,'0'),_0x5853fd=_0x7e35fc(0x634)+_0x5be4fa(_0x23807c)+_0x7e35fc(0x5fa)+_0x5be4fa(_0x6e155c)+'\x20minutos.\x20Será\x20às\x20'+_0x5be4fa(_0xc3cc18[_0x7e35fc(0x1d4)]())+':'+_0x5be4fa(_0xc3cc18[_0x7e35fc(0x771)]())+'.';console[_0x7e35fc(0x3a6)](_0x5853fd);}else return console[_0x7e35fc(0x3a6)](_0x7e35fc(0x481)),js&&(console[_0x7e35fc(0x3a6)](_0x7e35fc(0x2e6)),process[_0x7e35fc(0x5db)]()),_0x7e35fc(0x2c8);}else{if(Oo++,Oo<Xr)console[_0x7e35fc(0x3a6)](_0x7e35fc(0x33e)+To/0xea60+_0x7e35fc(0x73d)),setTimeout(Fs,To);else return console[_0x7e35fc(0x82e)]('Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.'),_0x7e35fc(0x774);}}async function Zr(){const _0xb2285e=a0_0x420d4d;console['log']('Parando\x20aplicação,\x20atualização\x20recebida');let _0x46be98=(0x0,Le[_0xb2285e(0x2f9)])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x46be98['stdout']['on'](_0xb2285e(0x6c7),_0x5961bf=>{const _0x294699=_0xb2285e;console[_0x294699(0x3a6)](_0x294699(0x33c)+_0x5961bf);}),_0x46be98['stderr']['on'](_0xb2285e(0x6c7),_0x28bfe8=>{const _0x21e074=_0xb2285e;console[_0x21e074(0x82e)]('Erro\x20de\x20atualização:\x20'+_0x28bfe8);}),_0x46be98['on'](_0xb2285e(0x5db),_0x2fb18f=>{const _0x3c50b5=_0xb2285e;_0x2fb18f!==0x0?console[_0x3c50b5(0x82e)](_0x3c50b5(0x4f9)+_0x2fb18f):console[_0x3c50b5(0x3a6)](_0x3c50b5(0x638)),console[_0x3c50b5(0x3a6)]('Parando\x20aplicação...'),setTimeout(()=>process[_0x3c50b5(0x5db)](),0x2710);});}var ei=je['default'][a0_0x420d4d(0x3c9)](__dirname,'env.yml');async function ti(_0x17bd79,_0x18e3e7){const _0x2c07c4=a0_0x420d4d;let _0x51b4cb=ai();_0x17bd79=_0x17bd79['replace']('.uazapi.dev','');try{let _0x541a09=he['default'][_0x2c07c4(0x81f)](_0x18e3e7,_0x2c07c4(0x843));_0x541a09=_0x541a09[_0x2c07c4(0x576)](/<apikey>/,_0x51b4cb),_0x541a09=_0x541a09[_0x2c07c4(0x576)](/<subdomain>/g,_0x17bd79),he['default'][_0x2c07c4(0x42b)](_0x18e3e7,_0x541a09,_0x2c07c4(0x843)),console['log'](_0x2c07c4(0x68f));}catch(_0x2ac135){console['error'](_0x2c07c4(0x776),_0x2ac135);}}function si(_0x943211,_0x4627dc){return new Promise((_0x50676f,_0x12a437)=>{const _0x3950c8=a0_0x296e;let _0x1db061=(0x0,Le[_0x3950c8(0x2f9)])(_0x3950c8(0x875),[_0x3950c8(0x748),_0x3950c8(0x644),'-m',_0x943211,'--agree-tos','-d',_0x4627dc]);_0x1db061[_0x3950c8(0x3ed)]['on']('data',_0x2bc02d=>{const _0x2166ba=_0x3950c8;console[_0x2166ba(0x3a6)](_0x2166ba(0x476)+_0x2bc02d['toString']());}),_0x1db061[_0x3950c8(0x5ea)]['on']('data',_0x317889=>{const _0xe0f7bf=_0x3950c8;console[_0xe0f7bf(0x82e)]('Erro\x20do\x20Certbot:\x20'+_0x317889[_0xe0f7bf(0x5d4)]());}),_0x1db061['on'](_0x3950c8(0x453),_0x34c5fd=>{const _0xc8d35a=_0x3950c8;_0x34c5fd!==0x0?(console['error'](_0xc8d35a(0x8c3)+_0x34c5fd),_0x12a437(_0xc8d35a(0x8c3)+_0x34c5fd)):(console[_0xc8d35a(0x3a6)](_0xc8d35a(0x2d9)),_0x50676f());});});}function ai(_0x4fe7ec=0x32){const _0xff6c64=a0_0x420d4d;let _0x4adac4=_0xff6c64(0x7b2),_0x1beed6='';for(let _0x128180=0x0;_0x128180<_0x4fe7ec;_0x128180++)_0x1beed6+=_0x4adac4[_0xff6c64(0x3f6)](Math[_0xff6c64(0x823)](Math['random']()*_0x4adac4['length']));return _0x1beed6;}function oi(){const _0x11730a=a0_0x420d4d;(0x0,Le[_0x11730a(0x373)])(_0x11730a(0x4d3),(_0x5b20be,_0x52c022,_0x392d3c)=>{const _0x215d7c=_0x11730a;if(_0x5b20be){console[_0x215d7c(0x82e)](_0x215d7c(0x7b5)+_0x5b20be);return;}if(_0x392d3c){console[_0x215d7c(0x82e)](_0x215d7c(0x3d1)+_0x392d3c);return;}console['log'](_0x215d7c(0x3f5)+_0x52c022);});}0x0&&(module[a0_0x420d4d(0x623)]={'subdomain':subdomain});