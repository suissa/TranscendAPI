const a0_0x3f93a9=a0_0x104e;(function(_0x278e5f,_0x1e83ed){const _0x2a6d31=a0_0x104e,_0x3c316c=_0x278e5f();while(!![]){try{const _0x2fe079=parseInt(_0x2a6d31(0x7ca))/0x1+parseInt(_0x2a6d31(0x68d))/0x2*(parseInt(_0x2a6d31(0x3fd))/0x3)+parseInt(_0x2a6d31(0x411))/0x4+-parseInt(_0x2a6d31(0x80e))/0x5*(parseInt(_0x2a6d31(0x78f))/0x6)+parseInt(_0x2a6d31(0x63f))/0x7*(-parseInt(_0x2a6d31(0x61f))/0x8)+-parseInt(_0x2a6d31(0x6b1))/0x9*(parseInt(_0x2a6d31(0x6a5))/0xa)+parseInt(_0x2a6d31(0x7d8))/0xb;if(_0x2fe079===_0x1e83ed)break;else _0x3c316c['push'](_0x3c316c['shift']());}catch(_0x473ae5){_0x3c316c['push'](_0x3c316c['shift']());}}}(a0_0x1772,0xdd428));var qi=Object[a0_0x3f93a9(0x270)],qe=Object['defineProperty'],Vi=Object[a0_0x3f93a9(0x301)],Gi=Object[a0_0x3f93a9(0x792)],Bi=Object[a0_0x3f93a9(0x646)],Wi=Object[a0_0x3f93a9(0x5dd)][a0_0x3f93a9(0x4e1)],zi=(_0x44b7fc,_0x587e4c)=>{for(var _0x1ddd99 in _0x587e4c)qe(_0x44b7fc,_0x1ddd99,{'get':_0x587e4c[_0x1ddd99],'enumerable':!0x0});},qs=(_0x4a53cc,_0x1c72e2,_0x48316d,_0x5e08e6)=>{const _0x2d303a=a0_0x3f93a9;if(_0x1c72e2&&typeof _0x1c72e2==_0x2d303a(0x894)||typeof _0x1c72e2==_0x2d303a(0x72a)){for(let _0x421207 of Gi(_0x1c72e2))!Wi['call'](_0x4a53cc,_0x421207)&&_0x421207!==_0x48316d&&qe(_0x4a53cc,_0x421207,{'get':()=>_0x1c72e2[_0x421207],'enumerable':!(_0x5e08e6=Vi(_0x1c72e2,_0x421207))||_0x5e08e6[_0x2d303a(0x6db)]});}return _0x4a53cc;},T=(_0x3bc855,_0x252ce7,_0x403f6c)=>(_0x403f6c=_0x3bc855!=null?qi(Bi(_0x3bc855)):{},qs(_0x252ce7||!_0x3bc855||!_0x3bc855[a0_0x3f93a9(0x866)]?qe(_0x403f6c,a0_0x3f93a9(0x73f),{'value':_0x3bc855,'enumerable':!0x0}):_0x403f6c,_0x3bc855)),Hi=_0x1e5f66=>qs(qe({},a0_0x3f93a9(0x866),{'value':!0x0}),_0x1e5f66),cr={};zi(cr,{'fullURL':()=>Js,'subdomain':()=>B}),module[a0_0x3f93a9(0x6d3)]=Hi(cr);var ki=T(require(a0_0x3f93a9(0x4fe))),Gs=require('fs'),Bs=require(a0_0x3f93a9(0x36b)),Ws=require('path'),Ve=require(a0_0x3f93a9(0x89b)),ce=process[a0_0x3f93a9(0x24f)](),Se=(0x0,Ve['join'])(ce,a0_0x3f93a9(0x2d6)),Vs=(0x0,Ve[a0_0x3f93a9(0x6ef)])(ce,a0_0x3f93a9(0x74a)),ln=(0x0,Ve['join'])(ce,'store',a0_0x3f93a9(0x30a)),ls=class{constructor(){this['loadEnv']();}['get'](_0x4b1387){const _0x369f14=a0_0x3f93a9;return this[_0x369f14(0x348)][_0x4b1387];}[a0_0x3f93a9(0x72e)](){const _0x80155=a0_0x3f93a9;this[_0x80155(0x348)]=process[_0x80155(0x348)]?.[_0x80155(0x83e)]!==_0x80155(0x4b4)?this['envYaml']():this['envProcess'](),process[_0x80155(0x348)]?.[_0x80155(0x83e)]===_0x80155(0x4b4)&&(this['env']['SERVER']['TYPE']='http',this[_0x80155(0x348)]['SERVER'][_0x80155(0x649)]=Number[_0x80155(0x8e2)](process['env']?.[_0x80155(0x942)]??_0x80155(0x3c8)));}[a0_0x3f93a9(0x389)](){const _0x565da1=a0_0x3f93a9;return(0x0,Bs[_0x565da1(0x6a3)])((0x0,Gs['readFileSync'])((0x0,Ws[_0x565da1(0x6ef)])(Vs,'../env.yml'),{'encoding':_0x565da1(0x2b8)}));}[a0_0x3f93a9(0x37a)](){const _0x317f19=a0_0x3f93a9;return{'SERVER':{'TYPE':process[_0x317f19(0x348)][_0x317f19(0x371)],'PORT':Number[_0x317f19(0x8e2)](process[_0x317f19(0x348)][_0x317f19(0x942)]),'URL':process[_0x317f19(0x348)]['SERVER_URL']},'CORS':{'ORIGIN':process['env']['CORS_ORIGIN'][_0x317f19(0x6a4)](','),'METHODS':process[_0x317f19(0x348)][_0x317f19(0x24c)][_0x317f19(0x6a4)](','),'CREDENTIALS':process[_0x317f19(0x348)]?.['CORS_CREDENTIALS']==='true'},'SSL_CONF':{'PRIVKEY':process[_0x317f19(0x348)]?.[_0x317f19(0x7f3)],'FULLCHAIN':process[_0x317f19(0x348)]?.[_0x317f19(0x234)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process['env']?.[_0x317f19(0x7be)])?Number[_0x317f19(0x8e2)](process['env'][_0x317f19(0x7be)]):void 0x0,'MESSAGES':process['env']?.[_0x317f19(0x379)]===_0x317f19(0x4b4),'CONTACTS':process[_0x317f19(0x348)]?.[_0x317f19(0x1cc)]==='true','CHATS':process['env']?.['STORE_CHATS']===_0x317f19(0x4b4)},'DATABASE':{'CONNECTION':{'HOST':process[_0x317f19(0x348)]?.[_0x317f19(0x3c7)],'PORT':Number[_0x317f19(0x8e2)](process[_0x317f19(0x348)]?.[_0x317f19(0x3c7)]),'USER':process['env'][_0x317f19(0x355)],'PASSWORD':process[_0x317f19(0x348)][_0x317f19(0x741)],'URI':process['env'][_0x317f19(0x245)],'DB_PREFIX_NAME':process[_0x317f19(0x348)][_0x317f19(0x5ca)]},'ENABLED':process[_0x317f19(0x348)]?.[_0x317f19(0x3a4)]==='true'},'REDIS':{'ENABLED':process[_0x317f19(0x348)]?.[_0x317f19(0x69f)]==='true','URI':process[_0x317f19(0x348)][_0x317f19(0x57e)]||_0x317f19(0x943),'PREFIX_KEY':process['env'][_0x317f19(0x69a)]||_0x317f19(0x316)},'LOG':{'LEVEL':process[_0x317f19(0x348)]?.[_0x317f19(0x35b)][_0x317f19(0x6a4)](','),'COLOR':process[_0x317f19(0x348)]?.[_0x317f19(0x2c1)]===_0x317f19(0x4b4)},'PROXY':process[_0x317f19(0x348)]?.[_0x317f19(0x4bf)]===_0x317f19(0x4b4),'AUTHENTICATION':{'TYPE':process[_0x317f19(0x348)][_0x317f19(0x726)],'API_KEY':{'KEY':process[_0x317f19(0x348)][_0x317f19(0x926)]},'JWT':{'EXPIRIN_IN':Number[_0x317f19(0x233)](process['env']?.[_0x317f19(0x4d1)])?Number[_0x317f19(0x8e2)](process[_0x317f19(0x348)]['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process['env'][_0x317f19(0x7dd)]}}};}},S=new ls(),Li=T(require(a0_0x3f93a9(0x5f4))),ye=T(require('express')),Us=require(a0_0x3f93a9(0x89b)),us=T(require(a0_0x3f93a9(0x5ba))),ds=(_0x4dee0b=>(_0x4dee0b[a0_0x3f93a9(0x276)]=a0_0x3f93a9(0x5c4),_0x4dee0b[a0_0x3f93a9(0x911)]=a0_0x3f93a9(0x839),_0x4dee0b[a0_0x3f93a9(0x3ff)]=a0_0x3f93a9(0x514),_0x4dee0b[a0_0x3f93a9(0x53f)]=a0_0x3f93a9(0x38d),_0x4dee0b['DEBUG']=a0_0x3f93a9(0x30e),_0x4dee0b[a0_0x3f93a9(0x506)]=a0_0x3f93a9(0x201),_0x4dee0b[a0_0x3f93a9(0x1e3)]=a0_0x3f93a9(0x6e4),_0x4dee0b))(ds||{}),zs=(_0xe7f3e=>(_0xe7f3e[a0_0x3f93a9(0x276)]=a0_0x3f93a9(0x3e5),_0xe7f3e[a0_0x3f93a9(0x1e3)]=a0_0x3f93a9(0x242),_0xe7f3e[a0_0x3f93a9(0x911)]=a0_0x3f93a9(0x1e7),_0xe7f3e['WARN']=a0_0x3f93a9(0x625),_0xe7f3e['ERROR']=a0_0x3f93a9(0x838),_0xe7f3e[a0_0x3f93a9(0x766)]=a0_0x3f93a9(0x57b),_0xe7f3e['VERBOSE']=a0_0x3f93a9(0x26e),_0xe7f3e))(zs||{}),Hs=(_0xcdc52f=>(_0xcdc52f['LOG']=a0_0x3f93a9(0x276),_0xcdc52f[a0_0x3f93a9(0x3ff)]=a0_0x3f93a9(0x3ff),_0xcdc52f[a0_0x3f93a9(0x911)]=a0_0x3f93a9(0x911),_0xcdc52f[a0_0x3f93a9(0x1e3)]=a0_0x3f93a9(0x1e3),_0xcdc52f['ERROR']='ERROR',_0xcdc52f['DEBUG']=a0_0x3f93a9(0x766),_0xcdc52f[a0_0x3f93a9(0x506)]='VERBOSE',_0xcdc52f))(Hs||{}),Ks=(_0x28f14a=>(_0x28f14a[a0_0x3f93a9(0x276)]=a0_0x3f93a9(0x62a),_0x28f14a[a0_0x3f93a9(0x911)]=a0_0x3f93a9(0x27d),_0x28f14a[a0_0x3f93a9(0x3ff)]=a0_0x3f93a9(0x354),_0x28f14a[a0_0x3f93a9(0x1e3)]='\x1b[40m',_0x28f14a[a0_0x3f93a9(0x53f)]='\x1b[41m',_0x28f14a[a0_0x3f93a9(0x766)]='\x1b[46m',_0x28f14a['VERBOSE']=a0_0x3f93a9(0x6f0),_0x28f14a))(Ks||{}),$=class{constructor(_0x3a70ad=a0_0x3f93a9(0x784)){const _0x304983=a0_0x3f93a9;this[_0x304983(0x443)]=_0x3a70ad,this['configService']=S;}['setContext'](_0x526129){this['context']=_0x526129;}['console'](_0x51deb9,_0x52fba0){const _0x2aa703=a0_0x3f93a9;let _0x4e3050=[];this[_0x2aa703(0x4f6)][_0x2aa703(0x2da)](_0x2aa703(0x276))[_0x2aa703(0x64c)][_0x2aa703(0x3c9)](_0xd1a95b=>_0x4e3050[_0x2aa703(0x6f2)](Hs[_0xd1a95b]));let _0x56667c=typeof _0x51deb9;_0x4e3050['includes'](_0x52fba0)&&(S[_0x2aa703(0x2da)](_0x2aa703(0x276))[_0x2aa703(0x54a)]?(console[_0x2aa703(0x236)](_0x2aa703(0x3a2)+zs[_0x52fba0],'\x1b[1m\x1b[37m',(0x0,us[_0x2aa703(0x73f)])()[_0x2aa703(0x281)](_0x2aa703(0x4dc)),_0x2aa703(0x7db),ds[_0x52fba0]+Ks[_0x52fba0]+_0x2aa703(0x3a2),_0x52fba0+_0x2aa703(0x607),_0x2aa703(0x4e4),this[_0x2aa703(0x443)]+_0x2aa703(0x7db),ds[_0x52fba0],_0x56667c!==_0x2aa703(0x894)?_0x51deb9:'','\x1b[0m'),_0x56667c==='object'&&console[_0x2aa703(0x236)](_0x51deb9,'\x0a')):console[_0x2aa703(0x236)]((0x0,us['default'])()[_0x2aa703(0x281)]('HH:mm:ss'),_0x52fba0+'\x20',''+this['context'],_0x51deb9));}['log'](_0x21ed66){const _0x3fbb30=a0_0x3f93a9;this[_0x3fbb30(0x266)](_0x21ed66,_0x3fbb30(0x276));}[a0_0x3f93a9(0x907)](_0x17ef35){const _0x567569=a0_0x3f93a9;this[_0x567569(0x266)](_0x17ef35,_0x567569(0x911));}[a0_0x3f93a9(0x939)](_0x625d35){const _0x24a10a=a0_0x3f93a9;this[_0x24a10a(0x266)](_0x625d35,'WARN');}[a0_0x3f93a9(0x70d)](_0x575aec){const _0x2e5220=a0_0x3f93a9;this[_0x2e5220(0x266)](_0x575aec,'ERROR');}[a0_0x3f93a9(0x5e2)](_0x11bb7c){const _0x2a71c0=a0_0x3f93a9;this[_0x2a71c0(0x266)](_0x11bb7c,_0x2a71c0(0x506));}[a0_0x3f93a9(0x274)](_0x52a078){const _0xb0600a=a0_0x3f93a9;this['console'](_0x52a078,_0xb0600a(0x766));}[a0_0x3f93a9(0x78a)](_0x445e93){const _0x99a8e6=a0_0x3f93a9;this['console'](_0x445e93,_0x99a8e6(0x1e3));}};function Qs(){const _0x474806=a0_0x3f93a9;process['on'](_0x474806(0x8e9),(_0xe3e91e,_0x5f5a7c)=>{const _0x1d6609=_0x474806;new $('uncaughtException')[_0x1d6609(0x70d)]({'origin':_0x5f5a7c,'stderr':process[_0x1d6609(0x7dc)]['fd'],'error':_0xe3e91e});}),process['on'](_0x474806(0x5e9),(_0x460ae5,_0x385058)=>{const _0x2732c7=_0x474806;new $(_0x2732c7(0x5e9))[_0x2732c7(0x70d)]({'origin':_0x385058,'stderr':process[_0x2732c7(0x7dc)]['fd'],'error':_0x460ae5});});}var Ys=T(require(a0_0x3f93a9(0x4e6))),ps=new Ys[(a0_0x3f93a9(0x73f))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Me=require(a0_0x3f93a9(0x5bc)),Ae=T(require(a0_0x3f93a9(0x5bc))),Ge=new $(a0_0x3f93a9(0x8e1)),L=S[a0_0x3f93a9(0x2da)](a0_0x3f93a9(0x72b)),A=L[a0_0x3f93a9(0x218)]?L['CONNECTION'][a0_0x3f93a9(0x5e4)]?Ae[a0_0x3f93a9(0x73f)][a0_0x3f93a9(0x2c4)](L[a0_0x3f93a9(0x626)][a0_0x3f93a9(0x5e4)],{'dbName':L[a0_0x3f93a9(0x626)][a0_0x3f93a9(0x520)]+a0_0x3f93a9(0x58d)}):Ae['default'][a0_0x3f93a9(0x2c4)](a0_0x3f93a9(0x493)+L[a0_0x3f93a9(0x626)][a0_0x3f93a9(0x439)]+':'+L['CONNECTION'][a0_0x3f93a9(0x649)]+a0_0x3f93a9(0x36c),{'user':L[a0_0x3f93a9(0x626)]['USER'],'pass':L['CONNECTION'][a0_0x3f93a9(0x80f)],'dbName':L[a0_0x3f93a9(0x626)][a0_0x3f93a9(0x520)]+'-whatsapp-api'}):null;L[a0_0x3f93a9(0x218)]&&Ge['info'](a0_0x3f93a9(0x227)+A[a0_0x3f93a9(0x7e6)]);var le=L[a0_0x3f93a9(0x218)]?L[a0_0x3f93a9(0x626)][a0_0x3f93a9(0x5e4)]?Ae[a0_0x3f93a9(0x73f)][a0_0x3f93a9(0x2c4)](L[a0_0x3f93a9(0x626)][a0_0x3f93a9(0x5e4)],{'dbName':a0_0x3f93a9(0x800)}):Ae['default'][a0_0x3f93a9(0x2c4)](a0_0x3f93a9(0x493)+L[a0_0x3f93a9(0x626)][a0_0x3f93a9(0x439)]+':'+L['CONNECTION']['PORT']+a0_0x3f93a9(0x36c),{'user':L[a0_0x3f93a9(0x626)][a0_0x3f93a9(0x919)],'pass':L[a0_0x3f93a9(0x626)][a0_0x3f93a9(0x80f)],'dbName':a0_0x3f93a9(0x2a7)}):null;le&&Ge[a0_0x3f93a9(0x907)]('ON\x20-\x20dbName:\x20'+le[a0_0x3f93a9(0x7e6)]),process['on']('beforeExit',()=>{const _0x3bcd17=a0_0x3f93a9;A&&A[_0x3bcd17(0x322)](()=>{const _0x25a94b=_0x3bcd17;Ge[_0x25a94b(0x907)]('Database\x20connection\x20closed.');}),le&&le[_0x3bcd17(0x322)](()=>{const _0x2d2b4f=_0x3bcd17;Ge['info'](_0x2d2b4f(0x5d8));});});function a0_0x1772(){const _0x3c5433=['.mimetype','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','nome','$dbName','unlinkSync','FULLCHAIN','Type\x20not\x20found','leaveGroup','from','ERROR:\x20','instance','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','ListType','dataValidate','Erro\x20inesperado\x20em\x20processvaredits:\x20','SSL_CONF_PRIVKEY','toNumber','hbs','editFlowVariable','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','substring','groupdata.participants','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','updateBlock','*Pergunta*:\x20\x0a','false','sendPresenceUpdate','cachedData-whatsapp','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','documentMessage','inviteUrl','authState','Mensagem\x20não\x20suportada','ChatRouter','charAt','SendScheduleMessage','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','saveChatVariables','\x22,\x20valor\x20a\x20substituir:\x20\x22','fetchLabels','abs','145OIXcTx','PASSWORD','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','Error\x20while\x20deleting\x20message\x20for\x20everyone','flush','send.message','updateGroupWebhook','limit','chatModify','^\x5cd+','delay','SINGLE_SELECT','Mac\x20OS','getHours','_hour','command','author','):\x20Enviando\x20texto','proto','chats.set','router','vote','startFlowWebhook','config','isJidUser','processConditionsTest','wuid','sha256','awaitSeconds','Instance\x20\x22','setting','updateChatGroupData','queue','\x20}\x0a','?timestamp=','Falhou\x20ao\x20encontrar\x20chat\x20','.wav','uazapiSendContact','originalUrl','Not\x20Found','chatHandle','editFlowCondition','\x1b[31m%s\x1b[0m','\x1b[34m','writeFileSync','END:VCARD','removed','getDevice','DOCKER_ENV','subject','newValue','updateProfilePicturePrivacy','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','$pull','updateMissingCustomFields','):\x20conversation.status:\x20','/wa-chats','findGroup','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','dbSettings','add','relayMessage','isArray','api','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','flows','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','\x20is\x20already\x20in\x20use.','_Labels','):Image\x20is\x20base64','header','groupBetterSetting','moreLogs','https://ifconfig.me/ip','sendSticker','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','connectionUpdate','subjectTime','release','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','GROUPS_UPDATE','count','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','):\x20Flow\x20desativado','textMessage','statusCode','readMessageBot','reject','__esModule','#fed428','promote','block','URL\x20não\x20disponível','ex:\x20\x22groupJid=120362@g.us\x22','):\x20\x27Enviando\x20mídia\x20para\x20\x27','Font\x20is\x20required','fetchProfile','shift','isCommunity','onWhatsApp','description','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','Falha\x20ao\x20criar\x20IPv6.','detail','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','/wa-qrcode','folder','image','AppStateSyncKeyData','editflowvariable','@ffmpeg-installer/ffmpeg','_lastVote','saveTextReply','\x27\x20não\x20encontrado','integer','stopped','hSet','generateHash','getflow','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','has','Erro\x20ao\x20buscar\x20conversas','/wa-presence','Botão\x201','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','_remoteJid','chats.update','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','GET','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','qrcode','updateGroupPicture','createConversationforgoToFlow','object','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','insert','list','/events','deleteImportedChat','empty','path','findGroupsEspecial','Internal\x20Server\x20Error','removeInstance','pushName','interactiveResponseMessage','sim','!stop','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','isListOfNumbers','pictureUrl','insertCount','http://checkip.dyndns.org','method','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','optionDescription','setHeader','readFileSync','noConnection','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','_pushName','sendList','editedMessage','):\x20delete\x20=\x20true','\x20foi\x20interrompido\x20pelo\x20usuário.','nomecompleto','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','getValidWhatsAppNumbers','updateMissingTags','view\x20engine','menuMessage','sections','Erro\x20ao\x20buscar\x20o\x20fluxo','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','muteEndTime','groupMetadata','.txt','processUazapi','networkInterface','MessageModel','deleteDoneMessages','sendAudio','):\x20Encontrado\x20próxima\x20mensagem\x20para\x20','REDIS','initAuthCreds','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','GUARD','firstValue','sem\x20texto\x20na\x20mensagem','exit','Erro\x20na\x20função\x20updateChatWithMessage:\x20',',\x20Comparador:\x20','findWebhook','StartID:','deleteMessage','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','getReadyToSendMessages','http','processvaredits','NextBlock','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','.\x20Aguardando\x20','):\x20Deletando\x20mensagem','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','flowConfig','includes','pollMessage','):\x20Há\x20mensagens\x20prontas,\x20limpando\x20e\x20adicionando\x20à\x20fila','):Image\x20path:\x20','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','Db\x20Connection','parseInt','setWebhook','\x20minutos.\x20Será\x20às\x20','normalizeMessageContent','):\x20Editando\x20grupo\x20do\x20fluxo...','ip\x20-br\x20link\x20show','fetchContacts','uncaughtException','Read\x20messages','whatsappNumber','app-state-sync-key','updateProfileName','contact_blacklist','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','initializeQueue','\x20inseridos\x20no\x20banco\x20de\x20dados...','createClient','CONECTADO\x20À\x20UAZAPI','online','listType','saveVariable','phoneNumber','eventEmitter','status@broadcast','customFields','item','\x20depois\x20','Network\x20Interface\x20detected:\x20','CREDENTIALS','autoCompleteMessages.command','fetchInstances','admin','https://jsonip.com','role','\x20segundos','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','LabelModel','info','jsonwebtoken','editFlow','Message\x20absent\x20from\x20node','\x0a*Você\x20respondeu*:\x0a','configureIPv6','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','getDate','-instances','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','INFO','secondValue','#9ba6ff','delayChatLabel_RETRY_DELAY_MS','app','):\x20Iniciando\x20bot...','):\x20Entrou\x20na\x20função\x20scheduleFlow','getMonth','USER','thumbnailUrl','editOperator','instanceName\x20not\x20provided.',',\x20lastCondition:\x20','atendimentoAberto','/config','execSync','isJidBroadcast','saveMediaToFile','processPollUpdateMessage','processawaitSeconds','unreadcount','AUTHENTICATION_API_KEY','idSchedule','IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.','CORS','updateConversation','ContactsAndGroups','/64\x20dev\x20','getConversation','fromObject','/chat','and','stopWhenYouSendMsg','createSectionsFromValues','DELETED','encoding','ReplyOption\x20com\x20ID\x20','stanzaId','.png','):\x20Conversa\x20está\x20expirada\x20-\x20voto','warn','):\x20Não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','createflow','DisconnectReason','single_select','apiName','Schema','PENDING','presence.update','SERVER_PORT','redis://127.0.0.1:6379','ChatModel','loadWebhook','.url','application/octet-stream','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','pollCreationMessageV2','userDevicesCache','GROUPS_UPSERT','all_member_add','basename','hex','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','STORE_CONTACTS','match','cleaningUp','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','\x20horas\x20e\x20','scheduleSendAudio','getTime','lastInteraction','isURL','options','getLabelModelForOwner','process','uazapiSendLocation','updateCustomFields','):\x20Criou\x20conversa\x20no\x20startFlow','waUploadToServer','Flow\x20iniciado\x20com\x20','none','timeInMinutes','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','readreceipts','Erro\x20ao\x20iniciar\x20fluxo:\x20','removeUnusedChatFields','DARK','instanceInfo','local_map','start','\x1b[34m%s\x1b[0m','uazapiSendAudio','title','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',',\x20received\x20','isCommunityAnnounce','):\x20Chat\x20','code','isAdmin','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','Erro\x20ao\x20atualizar\x20agendamento\x20','announce','addBlock','cleanStore','The\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','throwAndLogError','Número:\x20','imported','keys','CONTACTS_UPSERT','no.connection','messages.set','badSession','replaceVariablesLogs','CONTACTS_SET','\x1b[37m','notEqual','conversationTimestamp','groupSetting','flowStopMinutes','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','.ogv','sendWhatsAppAudio','imgUrl','IP\x20mismatch:\x20configured\x20','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','messageStubParameters','FlowController','pollCreationMessage','global','Rótulo\x20deletado:\x27,\x20','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','):\x20enviado\x20para\x20[','groupValidate','request_method','webhookModel','extractRegex','displayName','ENABLED','Erro\x20ao\x20iniciar\x20o\x20fluxo.','Fluxos\x20não\x20estão\x20ativados','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','synchronizeAndMapFlows','Sistema\x20atualizado\x20com\x20sucesso!','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','#000000','):\x20Enviando\x20mensagem\x20para\x20','modifiedCount','fone','events','createNewConversation','lastBlockId','contact','ON\x20-\x20dbName:\x20','importChats','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','organization','https://v6.ident.me','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','valid','STATUS_INSTANCE','\x20-\x20ON:\x20','pollUpdateMessage','everyOne','.webm','isInteger','SSL_CONF_FULLCHAIN','Error\x20removing\x20IPv6\x20address:\x20','log','hGetAll','Retornando\x20grupos\x20COM\x20cache','post','):\x20Editando\x20replyOption...','rows','/clients-info','Content-Type','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','/instance/fetchInstances','mediaKey','editflow','\x1b[30m%s\x1b[0m','/create','getContentType','DATABASE_CONNECTION_URI','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','.xlsx','SECRET','instanceCount','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','CORS_METHODS','presenceSubscribe','username','cwd','deleteOne','request\x20received\x20in\x20allFlows','):\x20customFieldVariables','remoteJids','MESSAGES_SET','generateRandomIPv6','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','TYPE','yes','Conversa\x20deletada\x20com\x20sucesso.','RemoteJid:',',\x20canSendMessage:\x20','realVariables','extractPhoneNumber','axios','Authentication\x20error','):\x20Bloco\x20com\x20ID\x20','fetchPrivacySettings','document',',\x20qrcodeCount:\x20','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','reference','console','Contacts\x20not\x20found','$addToSet','):\x20conversation.waitingMenu_name','waInstances','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar','contains','[service]\x20request\x20received\x20in\x20sendButtons','\x1b[37m%s\x1b[0m','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','create','Limpando\x20logs\x20do\x20PM2...','statusJidList','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','debug','created','LOG','request\x20received\x20in\x20updateAgent','delayChatLabel_MAX_RETRIES','findOrCreate','importChatsBatch','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','editScheduleMessage','\x1b[44m','updateGParticipant','/exit','urlencoded','format','messaging-history.set','#ffae04','long','protocolMessage','Instância:\x20','dropCollection','trimmed','archiveChat','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','Deletion\x20failed','getScheduleMessage','):\x20Procurando\x20PRONTAS\x20mensagens\x20para\x20envio','write','off','Variáveis\x20não\x20encontradas:','\x27\x20não\x20encontrado\x20na\x20memória','endsWith','quoted','routerPath','buttonMessage','notify','done','desc','base64','TEL','):Audio\x20processed','closeExistingConversations','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','lastFetchAwaitingApproval','isBusiness','getMinutes','replace','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','pairingCode','editMessagesInGroup','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','fakeReceived','cachedContacts-whatsapp','Error\x20updating\x20cache\x20contact:','getBase64FromMediaMessage','subjectOwner','generate','Invalid\x20format','urlOrBase64','vcard','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','profile','connect','Erro\x20ao\x20importar\x20chats','https://api64.ipify.org?format=json','cacheContactModel','messageTimestamp','updateAll','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','utf-8','fora\x20do\x20git','goNextblock','stopMinutesMaxActives','):\x20Editando\x20edição\x20do\x20fluxo...','joinGroup','validate','singleSelectReply','Error\x20fetching\x20group','LOG_COLOR','reorderBlocks','loggedOut','createConnection','sendLocation','findRealGroups','updateProfilePicture','\x20-i\x20','Usando\x20IP\x20existente:\x20','buttonText','Botão\x202','createInstance','env.KEY\x20!==\x20key','\x22\x20not\x20found','docker','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','):\x20Adicionando\x20\x27','express-async-errors','blockLogs','varedit','Erro\x20ao\x20atualizar\x20o\x20flow.','instances','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','messages','editFlowReply','get','reviver','):\x20nextBlock.uazapi.name','exists','label_jid','update','statSync','Types','Fluxo\x20não\x20encontrado\x20na\x20memória.','gifPlayback','qrCode','logout','/*.json','deletedCount','client','clear','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','font','tags','messages.update','etiquetas','Erro\x20ao\x20alterar\x20fluxo','value','URL:','_FlowHistorico','last','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','replaceVariables',']\x20(','Module\x20-\x20ON','chats','https','fromMe','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','):\x20isVote:\x20','Telefone:\x20','editFlowGroup','bodyStringErrorParse','rm\x20-rf\x20','getOwnPropertyDescriptor','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','):Type\x20defined\x20as\x20audio','toDataURL','Parando\x20aplicação,\x20atualização\x20recebida','groupJid','groupName','paused','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','auth','media','authService','leadInfo.etiquetas','\x1b[36m','uuid','util','processingGroup','_p_','Erro\x20ao\x20editar\x20a\x20conversa','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','):\x20Error\x20processing\x20conditions:\x20','uazapi','delaySecMin','stdout','dbInstance','):\x20whoCanEdit\x20before\x20validation:\x20','goToFlow','replaceVariablesInObject','makeCacheableSignalKeyStore','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','oldToken','groups_ignore','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','close','/instance/connectionState','\x20minutos...','ff:fe','sticker','request\x20received\x20in\x20updateCustomFields','findAndReplace','findById','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','button','findOneAndUpdate','p-queue','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','this.reconnectAttempts:\x20','startCommandWord','sendDataWebhook',',\x20fará\x20nova\x20verificação\x20em\x20','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.','Não\x20respondeu\x20com\x20a\x20enquete.','.xls','\x20removido\x20do\x20chat\x20','#83e421','state','):\x20atualização\x20chat:\x20','key','class-validator','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','json','varedits','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','deleted','sendReaction','delete','.type','Enter\x20a\x20value\x20in\x20milliseconds','digest','sendMessageWithTyping','clearVariables','env','updateOne','editFlowBlock','\x20não\x20encontrado','addReplyOption','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','updateMany','remove','getMessage','imagechat','chats.delete','getChatModelForOwner','\x1b[43m','DATABASE_CONNECTION_USER','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','minutesToClose','Bad\x20Request','fileUrl','ipv6Prefix','LOG_LEVEL','getTicketSystem','myAppStateKeyId','Erro\x20ao\x20alterar\x20privacidade','messageId','fetchMessages','):\x20alterando\x20this.AutomateSystem','https://api.openai.com/v1/audio/speech','mkdirSync','findConversation','Pausado\x20por\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','contacts','editChat','quick_reply','instance.','js-yaml','?authSource=admin&readPreference=primary&directConnection=true','fetchProfilePictureUrl','URL','pow','announcement','SERVER_TYPE','localWebhook','getAutomateSystem','evaluateCondition','):\x20mediaMessageInfoId\x20:\x20','#d8e651','):\x20sender\x20=\x20number:\x20','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','STORE_MESSAGE','envProcess','AutomateFunctions','slice','Failed\x20to\x20send\x20buttons\x20message','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','\x20minutos\x20verificará\x20novas\x20mensagens','unreadCount','Database\x20update\x20result:','trim','sendMessage','0123456789ABCDEF','not\x20loaded','createOrUpdate','collection','participants','envYaml','labels.edit','Falha\x20ao\x20processar\x20a\x20solicitação','footer','\x1b[31m','KEY','request\x20received\x20in\x20editFlowgroup','scheduled','interactiveMessage','reconnectTimestamps','*Teste\x20de\x20Título*\x0a\x0aDescrição\x20de\x20Teste\x0a','authModel','application/json','removeChatLabel','choices','utf8','eventHandler','findOne','.webp','match_last_seen','sendMessageAck','SSL_CONF','Selecione\x20uma\x20opção','https://github.com/uazapi/uazapi.git','buffer','\x1b[1m','creds.json','DATABASE_ENABLED','Detalhes\x20do\x20erro:','Erro\x20de\x20atualização:\x20','groupParticipantsUpdate','sendPoll','editflowvaredit','updateGroupsAddPrivacy','endSession','):\x20Grupo\x20','request\x20received\x20in\x20updateAutoCompleteMessages','Subdomínio\x20final:','use','https://api.ipify.org?format=json','):\x20\x27Enviando\x20texto\x20para\x20\x27','getDelay','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','readMessage','selectedRowId','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','contacts.update','chats.upsert','/group','getScheduleMessageModelForOwner','convert','request\x20received\x20in\x20editFlowcondition','chat','entries','public','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','):\x20Conversa\x20está\x20expirada','leadInfo','./.git/config','profilePictureUrl','connectedClient','mimetype','DATABASE_CONNECTION_HOST','8080','forEach','expiration','Erro\x20ao\x20buscar\x20a\x20conversa','some','updateStopChat','mentioned','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','Instância\x20não\x20encontrada.','\x20mensagens\x20de\x20','IPv6\x20Prefix\x20detected:\x20','flow','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','WebhookGlobal','map','):\x20tem\x20blocks','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','Deleted\x20','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','Erro\x20ao\x20deletar\x20a\x20conversa','https://chat.whatsapp.com/','available','fetchProfilePicture','timeout','createGroup','values','Unauthorized','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','less','\x1b[32m%s\x1b[0m','):Getting\x20image\x20from\x20url','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','toUpperCase','deleteInstance','nativeFlowMessage','):Sending\x20audio\x20whatsapp','Erro\x20ao\x20buscar\x20fluxos:','spawn','[AUTH]\x20Database\x20is\x20not\x20enabled','test','g.us','Router','readFile','express','lastSend','contactMessage','StartBot','when','instancias:\x20','url','BRL','Valor\x20de\x20find\x20ou\x20replace\x20ausente','Tentando\x20reconectar...','6IxpFVY','conditions','WARN','processConditions','whoCanUse','verifyWhatsAppNumber','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','readData','fetchBusinessProfile','drop','convertToWebP','flattenObject','updateGParticipate','createIPv6','set','existsSync','unavailable','length','waitingMenu_replyOptions','):\x20Buscando\x20conversas...','6275536uHbjLF','end','.gif','Erro\x20ao\x20criar\x20fluxo','getFlow','audio/ogg','static','):\x20Editando\x20mensagens\x20no\x20grupo...','find','request\x20received\x20in\x20getConversation','mediaMessage','group-participants.update','/wa-connection-update','fullName','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','silent',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','Instance\x20Key\x20from\x20DB:','max','remove.instance','inner',',\x20Minutes\x20to\x20Close:\x20','/media/','):\x20Procurando\x20conversa','Erro\x20ao\x20arquivar\x20chat','documentWithCaptionMessage','Cache-Control','!cmd_','number','\x20minutos','\x22\x20cannot\x20be\x20empty','headerString','applyvaredit','):\x20','setRestartTimeout','profilePicture','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','):\x20updateResult:','equal','Subdomínio\x20extraído\x20da\x20URL:','HOST','AddChatLabel','_ScheduleMessages','Erro\x20ao\x20atualizar\x20AutomateSystem:','capitalizedWords','namespace','/webhook','uazapiSendMenu','Erro\x20ao\x20editar\x20agentes','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','context','groupRequestParticipantsUpdate','replyOptions','qrcode.updated','_activatedCount','senderKeyDistributionMessage','ip\x20-6\x20addr\x20show\x20dev\x20','variables','remote\x20\x22origin\x22','Failed\x20to\x20prepare\x20media\x20message','deleteReplyOption','action','\x20Tentativa\x20de\x20reconexão\x20','isRunning','profileName','templateButtonReplyMessage','Erro\x20ao\x20inserir\x20chats:','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','lastMessage','closed','flowPrefixCommand','logger','whoCanEdit','Log\x20out\x20instance:\x20','convertedOptions','contextInfo','):Converted\x20image\x20deleted','reorderMessages','MESSAGES_UPSERT','connectToWhatsapp','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','label','upperCase','findFlow','currency',',\x20resultado:\x20','API_KEY','):\x20Enviando\x20enquete','sort','/wa-groups','EXPIRIN_IN','):\x20\x27Deletando\x20fluxo,\x20id:\x20','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','toFile','https://ipv6.jsonip.com','createConversationforStartFlow','randomBytes','headers','Erro\x20ao\x20editar\x20o\x20bloco:\x20','updateAgent','response','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','.doc','PREFIX_KEY','connectionStatus','agents','numbers','request\x20received\x20in\x20deleteDoneMessages','keyPattern','processReadyMessages','.mp3','):including\x20timestamp\x20in\x20url:\x20','groupadd','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','/message','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','admin_add','):\x20Editando\x20bloco...','toArray','undefined','video','updateParticipant','autoCompleteMessages','leadInfo.customFields','sendStatus','not_announcement','connectionState','variable','CHATS_UPSERT','mongodb://','waitingForReplyMenu','arraybuffer','CONTACTS_UPDATE','pendingMessages','truncatedtoEnd','send','all','findParticipants','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','\x5c$&','listResponseMessage','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','repository','owner','RemoveChatLabel','Imagem\x20não\x20encontrada','apiResponse','restart','uazapiSendMedia','addresss','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','parse','):Trying\x20to\x20get\x20business\x20profile','recording','groupUpdateDescription','loadInstance','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','isValidIPv6Config','InstancesAlterarTodas','composing','):\x20Enviando\x20áudio','lean','true','downloadMediaMessage','getContactModelForOwner','findAndReplaceRegex','READ','editflowreply','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','Subdomínio\x20não\x20encontrado','archived','/startFlow/:instance/:startID','@whiskeysockets/baileys','PROXY','updateMissingEtiquetas',',\x20Expiration\x20Time:\x20','Network\x20interfaces\x20detected:\x20','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','Close\x20connection','removeData','boolean','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','ScheduleMessageModel','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','menuExpiredMessage','node-cache','listen','Erro\x20ao\x20atualizar\x20cacheInstance:','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','/instance','findLabels','AUTHENTICATION_JWT_EXPIRIN_IN','Erro\x20ao\x20editar\x20o\x20chat','toLocaleString','):\x20Entrou\x20na\x20função\x20goToFlow','selectedOptions','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','changeVariables','repeat','linkPreview','expression','Número\x20não\x20possui\x20WhatsApp.','DD/MM\x20HH:mm:ss','updateProfileStatus','\x22reaction\x22\x20must\x20be\x20an\x20emoji','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','demote','hasOwnProperty','3EB0','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','\x1b[33m\x1b[1m','\x0aFN:','eventemitter2','del','uazapiSendText','QRCODE_UPDATED',',\x20valor\x20a\x20encontrar:\x20\x22','request\x20received\x20in\x20scheduleMessage','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20','shareFlow','fileName','updateStatusPrivacy','redirect','sendButtons','open','API\x20Key\x20inválida.','\x20ao\x20chat\x20','stopIfLastReturnedError','configService','replyOption','approve','updateMessage','_Contacts','audioWhatsapp','content-type','child_process','compression','menuType','inet6','WA\x20MODULE','):Archiving\x20chat','editflowblock','):\x20leadInfoVariables','):\x20debug\x20alterando\x20this.AutomateSystem','VERBOSE','save','AUTHENTICATION','onTime','qrcode-terminal','leadInfo.','email','All_Instances_Config','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','CHATS_UPDATE','shareOwners','height','Connection','):\x20lastBlockId:\x20','\x1b[33m','generateWAMessageFromContent','testingWith','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','stopConversation','50mb','indexOf','request\x20received\x20in\x20deleteConversation','errors','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','@s.whatsapp.net','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','DB_PREFIX_NAME','The\x20property\x20cannot\x20be\x20empty','pm2\x20flush','authentication','matchRegex','.jwt','temp-','--------------------------------------','groupGetInviteInfo','detectIPv6PrefixAndInterface','joinGroupValidate','min','audioMessage','):\x20Current\x20Time:\x20','@broadcast','):\x20Buscando\x20flow...','contactHandle','audio','isJidGroup','rowId','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','):\x20Query\x20params:\x20','):\x20Error\x20processing\x20the\x20block:\x20','name','scheduleNextCheck','round','connection.update','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','dbServer','lastReceivedMessage','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','ERROR','cleanDisconnectedInstances','newStoppedUntil','\x27\x20do\x20banco\x20de\x20dados...','hGet','getStatus','cache','privacySettings','list2','triedToSend','Erro\x20ao\x20copiar\x20o\x20documento','COLOR','reactionMessage','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','automateSystem','sharePass','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','getConversationModelForOwner','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','variablesToObject','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','STORE','ContactModel','_sender','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','_month','/instance/connect','chatId','greater','writeData','https://','Erro\x20ao\x20atualizar\x20conversa:\x20','_year','Error\x20adding\x20IPv6\x20address:\x20','#ff9484','Nenhum\x20participante\x20válido\x20encontrado.','messageHandle','replaceOne','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','IPv6\x20address\x20removed:\x20','pollCreationMessageKey','Primeiro\x20Valor:\x20','mentions','webhookMap','readdirSync','groupDesc','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','awaitingApproval','):\x20Erro\x20durante\x20a\x20atualização:\x20','):\x20Iniciando\x20processReadyMessages','}}\x20->\x20\x22','):Hash\x20to\x20image\x20name:\x20','params','Rodapé\x20de\x20Teste','jpegThumbnail','Instance\x20Name:','messageSecret','order','setNewValue','message_normalized','\x1b[36m%s\x1b[0m','):\x20Conversa\x20atualizada\x20em\x20memória','):\x20Entrou\x20na\x20função\x20clearVariables','REDIS_URI','beautifyWithPlaceholders','Novo\x20IP\x20criado:\x20','Grupo\x20não\x20encontrado','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','createJid','\x20inseridas\x20no\x20banco\x20de\x20dados...','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','padStart','Garbage\x20collection\x20não\x20está\x20disponível.','mediatype','MAX_SAFE_INTEGER','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','selectableCount','-whatsapp-api','buttonParamsJson','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','memberAddMode','updateChatWithMessage','evaluateConditionTest','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','Selecione','model','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','updateGroupParticipantsWebhook','createHash','fetchChats','output','cacheInstanceRepository','canSendMessage','):\x20Não\x20achou\x20nenhum\x20flow','saveConversationToDatabase','Opção\x20Falsa\x20','METHODS','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','now','Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:','lastUpdate','CLEANING_INTERVAL','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','Retornando\x20grupos\x20SEM\x20cache','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','startID','):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!','menuIgnoreNonVotes','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','cacheContact','Validate','flowActive','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','\x0a{\x20instance:\x20','globalShow','where','@g.us','joinApprovalMode','scheduleSendMedia','proxy:\x20','dayjs','pre','mongoose','content','groups.update','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','text/event-stream','SERVER_ACK','Fluxo\x20id\x20\x27','\x1b[32m','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','\x20com\x20sucesso.','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','AddUserFlow','Error\x20in\x20buttonsMessage\x20function:','DATABASE_CONNECTION_DB_PREFIX_NAME','deleteChat','replaceVariablesChat','lowerCase','statusMessage','instanceName','text','ListMessage','Error\x20testing\x20IP\x20with\x20','readMessages','option','getClient','pollErrorMessage','bodyString','CacheContacts\x20database\x20connection\x20closed.','toggleEphemeral','longitude','createWebhook','}}\x20->\x20valor\x20não\x20encontrado','prototype','PRODUCT_LIST','viewOnceMessageV2','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','updateAutoCompleteMessages','verbose','CHATS_DELETE','URI','Last\x20message\x20not\x20found','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','toString','redisEnv','unhandledRejection','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','waitingMenu_ExpiredMessage','apikey','address','upsertedCount','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','waMonitor','flowIgnoreGroups','The\x20global\x20api\x20key\x20must\x20be\x20set','cors','deviceSentMessage','apirequest','):\x20Fluxo\x20\x27','Partes\x20do\x20caminho\x20FULLCHAIN:','getUniqueFlowName','#d3a91f','group','contacts.upsert','no-cache','.ogg','[all]','sendMedia','):Processing\x20audio','\x22\x20-\x20REMOVED','createAndSave','Type\x20is\x20required','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','\x20\x1b[0m','Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','Removidas\x20as\x20variáveis:\x20','selectedId','errorLog','storePath','buttonOrList_id','XX:XX:XX:XX:XX:XX','splice','\x20tentativas.','webp','IP\x20confirmed:\x20','conversation','\x20quoted:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','deleteAll','connecting','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','videoMessage','waitingMenu_id','request\x20received\x20in\x20editFlow','exec','backgroundColor','592eCoYZE','lastRealGroupsFetch','groupId','sharp','\x22\x20-\x20NOT\x20CONNECTION','getVariablesChat','\x1b[33m%s\x1b[0m','CONNECTION','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','delAll','bearer','\x1b[42m','ScheduleMessage','):Error\x20in\x20converting\x20audio','_error','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','chat\x20não\x20encontrado','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped','vir','labels.association','sendText','findGroupInfo','removeIPv6ById','CHATS_SET','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20','stack','Missing\x20global\x20api\x20key','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','interval\x20não\x20é\x20um\x20número','updateReadReceiptsPrivacy','prepareMediaMessage','stopMinutes','89131jCuFXQ','messages.upsert','findIndex','inviteCode','truncatedto','views','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','getPrototypeOf','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','sleep','PORT','pollCreationMessageV3','Erro\x20ao\x20atualizar\x20o\x20fluxo:','LEVEL','Erro\x20desconhecido\x20ao\x20tentar\x20enviar\x20mensagem\x20para\x20o\x20grupo','ObjectId','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','collections','restrict','processApiRequest','upsertChats','color','website','Erro\x20ao\x20buscar\x20Schedule\x20Messages','\x20não\x20encontrado\x20para\x20atualização.','toLowerCase','findManyByIds','processclearVariables','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','caption','updatePresence','enviado\x20para','Início','Esse\x20fluxo\x20expirou','editConversation','\x0aitem','ignoreGroups','condition','):\x20Comando\x20desconhecido:\x20','copy','):\x20Ignoring\x20group\x20messages.','checkAndRestartProcess','cacheInstanceModel','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','decryptPollVote','type','):\x20Entrou\x20na\x20função\x20saveReply','https://api.elevenlabs.io/v1/text-to-speech/','query','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','chatLog','delayChatLabel','#6f7bcf','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','):\x20Mensagens\x20PRONTAS\x20para\x20envio\x20encontradas:\x20','API\x20Key\x20from\x20Request:','Error\x20in\x20chatModify\x20for\x20number\x20','):Image\x20converted\x20to\x20WebP','random','_day','markMessageAsRead','presence','ip\x20-6\x20addr\x20add\x20','groups','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','licenca','):\x20Label\x20','stringify','):\x20Criando\x20fluxo...','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','EMAIL:','No\x20suitable\x20network\x20interface\x20found','groupHandler','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','findGroupInfos','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','1292902uZPRVv','Database\x20is\x20not\x20enabled','updatePrivacySettings','.pptx','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','ephemeralExpiration','floor','resetReconnectionVariables','):\x20Buscando\x20flow,\x20id:\x20','Rótulo\x20inválido\x20ou\x20sem\x20ID.','filter','msgRetryCounterCache','downloads','REDIS_PREFIX_KEY','GROUP_PARTICIPANTS_UPDATE','.docx','request\x20received\x20in\x20createFlow','descOwner','REDIS_ENABLED','processblock','cta_url','Erro\x20ao\x20encerrar\x20a\x20API','load','split','100VuoZAN','assign','string','rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys','groupJoinApprovalMode','messageContextInfo','Generated\x20IPv6:\x20','[TESTE\x20RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','request\x20received\x20in\x20getAutomateSystem','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','/wa-message-update','isBase64','1366182psBmqk','dbConnection','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','setUpdate','deleteConversation','request_time','groupdata','revokeInviteCode','redis','):\x20Editando\x20variável\x20do\x20fluxo...','findChats','SEND_MESSAGE','getMIMEType','scheduleFlow','labelId','.mp4','):\x20newFirstValue\x20após\x20replaceVariables:',',\x20valor\x20passado:\x20\x22','convertToString','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','createButtonSectionsFromValues','deleteFlow','ORG:','scheduleSendText','startCommand','CONNECTION_UPDATE','dropIndex','stickerMessage','reduce','cpf','removeProfilePicture','notEmpty','AutomateSystem','exports','lastCondition','maxActives','Fluxo\x20agendado\x20pelo\x20fluxo\x20','Falta\x20informação\x20para\x20a\x20chamada\x20API','locked','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','latitude','enumerable','jid','PLAYED','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','Erro\x20ao\x20deletar\x20mensagens:','flowConversation','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','fetchConversation','reorderReplyOptions','\x1b[30m','):Image\x20created','):\x20this.client.authState.creds?.myAppStateKeyId:\x20','Filtered\x20network\x20interfaces:\x20','replacer','insertMany','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','):\x20whoCanUse\x20after\x20validation:\x20','creds','.pdf','Cannot\x20','join','\x1b[47m','PRIVKEY','push','replaceVariablesInReplyOptions','listMessage','lastSendMessage','.X-ABLabel:Celular\x0a','editFlowVaredit','Falha\x20ao\x20processar\x20fetchBusinessProfile','Message','remoteJid','pino','findGroups','[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','deleteMany','restartInstance','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','PRESENCE_UPDATE','allflows','\x20instance\x20does\x20not\x20exist','MESSAGES_UPDATE','toBRL','notas','startFlow','\x20chats\x20de\x20','sendMessageWithTypingButtons','dbClient','Instance\x20restarted','getBusinessProfile','error','/wa-all-message','#f64847','picture','poll','cachedContact','creation','pollOnReplyDelete','\x20:\x20','):\x20newSecondValue\x20após\x20replaceVariables:','ephemeralDuration','getMessageModelForOwner','instanceKeys','Instâncias\x20removidas:\x20','blockId','Error\x20updating\x20message\x20status:','FlowRouter','getAllData','Subscribed\x20Events:','createFlow','autoCompleteMessages.command_1','call','IPv6\x20addresses\x20detected:\x20','Erro\x20ao\x20aplicar\x20varedit:\x20','groupUpdateSubject','AUTHENTICATION_TYPE','Flow\x20\x27','messageType','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','function','DATABASE','):\x20Criando\x20nova\x20conversa[createNewConversation]','/instance/create','loadEnv','Valor\x20da\x20URL\x20recuperada:','$set','waitingMenu_text','sendContact','next_groupId','Safari','findAll','uazapiDeleteMessage','allFlows','request\x20received\x20in\x20fetchConversation','.\x20Pulando.','#01d0e2','deleteBlock','user','groupInviteCode','groupRequestParticipantsList','default','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','DATABASE_CONNECTION_PASSWORD','DaysToDelete','request\x20received\x20in\x20editFlowvariable','Instance\x20logged\x20out','delayMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','updateOneById','prepareWAMessageMedia','src','):\x20Enviando\x20contato','\x27...','error\x20get\x20vote','binary','status','finish','Erro\x20ao\x20remover\x20label\x20','/wa-contacts','#56ccb4','retrySendMessage','):\x20ev.flush\x20realizado','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','):Notifying\x20clients\x20for\x20chat:\x20','findAndUpdateCacheContact','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','):Audio\x20converted\x20and\x20stored\x20in\x20cache','OrAnd','formatVCard','updateFlowConfig','footerText','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','variablesNotFound','formatBRNumber','flowName','data','DEBUG','):\x20Flow\x20\x27','SERVER','updateReplyOption','reconnectAttempts','):\x20Limpando\x20delayMessage','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','\x27\x20removido\x20do\x20AutomateSystem.','StatusJidList\x20is\x20required','bulkWrite','locationMessage','BufferJSON','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','webhook','#64c4ff','array',',\x20saindo.','^\x5cd+([-]\x5cd+)*@g.us$',',\x20Novo\x20tamanho:\x20','isConnected','#dfaef0','request\x20received\x20in\x20getFlow','removeIPv6','sendMenu','padEnd','body','groupSettingUpdate','connectionClosed','useMultiFileAuthState','.extension','Logger','):Fetching\x20business\x20profile','g-t','telefone','video-cover.png','E-mail:\x20','dark','):\x20whoCanUse\x20before\x20validation:\x20','leadInfo.atendimentoAberto','):Output\x20path:\x20','):\x20[messages.upsert]\x20group\x20ignored','369624xIcohm','getUpdate','archive','getOwnPropertyNames','blocks','JWT','updateOnlinePrivacy','):\x20Conversa\x20inserida\x20com\x20sucesso.','quotedMessage','isValidAndUniqueIPv6','\x5cd+','imageMessage','verifiedName','_fromMe','Erro\x20ao\x20normalizar\x20a\x20mensagem:','stateConnection','normalizeMessage','desativadoFluxoAte','ConversationModel','last_update','message','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','Error\x20finding\x20many\x20contacts:','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','creds.update','status.instance','mongodb','startsWith','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting',',\x20global:\x20','_id','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','request\x20received\x20in\x20deleteFlow','formatStatusMessage','\x20segundos\x20antes\x20de\x20reconectar...','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','defineAuthState','Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo','whatsappNumbers','allContacts','connectToWhatsappController','):\x20whoCanEdit\x20after\x20validation:\x20','):\x20error:\x20','isLong','promisify','emit','ephemeralMessage','STORE_CLEANING_TERMINAL','createButtonsFromValues','reaction','getLastMessage','Not\x20allowed\x20by\x20CORS','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','node-mime-types','success','enabled','optionName','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','1016756ftuilt','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','participant','webhookService','sign','#92ceac','):Image\x20is\x20url','processScheduleFlow','This\x20name\x20','request\x20body:\x20','put','saveCreds','requestPairingCode','AutomateSystem\x20não\x20foi\x20inicializado','14019236vnhjVX','addChatLabel','\x20não\x20encontrado\x20para\x20cópia','\x1b[0m','stderr','AUTHENTICATION_JWT_SECRET','scheduleMessage','#fe9dfe','leadInfo.desativadoFluxoAte','ip6eui','responsavelid'];a0_0x1772=function(){return _0x3c5433;};return a0_0x1772();}var Ki=new Me[(a0_0x3f93a9(0x93f))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Qi=new Me[(a0_0x3f93a9(0x93f))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),Yi=new Me[(a0_0x3f93a9(0x93f))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),Xi=new Me[(a0_0x3f93a9(0x93f))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Ki],'default':[]}},{'_id':!0x1}),Zi=new Me['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Xi,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Qi},'groupdata':{'type':Yi,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Xs=_0x43fcc3=>{const _0xa68c51=a0_0x3f93a9;let _0x4baaa5='z_'+_0x43fcc3+'_Chats';return A?.[_0xa68c51(0x597)](_0xa68c51(0x944),Zi,_0x4baaa5);},Zs=require(a0_0x3f93a9(0x5bc)),eo=new Zs[(a0_0x3f93a9(0x93f))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ea=_0x133386=>{const _0x3a5396=a0_0x3f93a9;let _0x5709c6='z_'+_0x133386+_0x3a5396(0x4fa);return A?.[_0x3a5396(0x597)](_0x3a5396(0x555),eo,_0x5709c6);},ta=require(a0_0x3f93a9(0x5bc)),hs=class{},to=new ta[(a0_0x3f93a9(0x93f))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),sa=le?.[a0_0x3f93a9(0x597)](hs[a0_0x3f93a9(0x537)],to,a0_0x3f93a9(0x92b)),aa=require(a0_0x3f93a9(0x5bc)),gs=class{},so=new aa[(a0_0x3f93a9(0x93f))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),Be=le?.[a0_0x3f93a9(0x597)](gs[a0_0x3f93a9(0x537)],so,a0_0x3f93a9(0x2d6)),ia=require('mongoose'),ao=new ia[(a0_0x3f93a9(0x93f))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),oa=_0x58b97c=>{const _0x48f845=a0_0x3f93a9;let _0x222d14='z_'+_0x58b97c+'_Messages';return A?.['model'](_0x48f845(0x8c2),ao,_0x222d14);},ra=require('mongoose'),ms=class{},io=new ra[(a0_0x3f93a9(0x93f))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),na=A?.[a0_0x3f93a9(0x597)](ms[a0_0x3f93a9(0x537)],io,a0_0x3f93a9(0x523)),ca=require('mongoose'),fs=class{},la=new ca[(a0_0x3f93a9(0x93f))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});la['pre'](a0_0x3f93a9(0x507),function(_0x1e3681){const _0x2a25a6=a0_0x3f93a9;delete this[_0x2a25a6(0x5b1)],delete this[_0x2a25a6(0x5f2)],delete this[_0x2a25a6(0x457)],delete this['flowStopConversation'],delete this[_0x2a25a6(0x205)],_0x1e3681();});var ua=A?.[a0_0x3f93a9(0x597)](fs['name'],la,a0_0x3f93a9(0x773)),D=require(a0_0x3f93a9(0x5bc)),ws=require(a0_0x3f93a9(0x30f)),We=class{},ys=class{},pa=new D[(a0_0x3f93a9(0x93f))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),bs=new D[(a0_0x3f93a9(0x93f))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),oo=new D[(a0_0x3f93a9(0x93f))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x3f93a9(0x897)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x3f93a9(0x596)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x3f93a9(0x662)},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ha=new D[(a0_0x3f93a9(0x93f))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ro=new D[(a0_0x3f93a9(0x93f))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),no=new D[(a0_0x3f93a9(0x93f))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Ms=new D['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),co=new D[(a0_0x3f93a9(0x93f))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),ga=new D['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':oo},'apirequest':ro,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':co,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ma=new D[(a0_0x3f93a9(0x93f))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),fa=new D[(a0_0x3f93a9(0x93f))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[Ms],'blocks':[ga],'groups':[pa],'conditions':[ha],'varedits':[ma],'replyOptions':{'type':[bs],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x106168=a0_0x3f93a9;return _0x106168(0x42c)+Math[_0x106168(0x67b)]()[_0x106168(0x5e7)](0x24)[_0x106168(0x37c)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x3f93a9(0x7fe)},'startID':{'type':String,'default':()=>(0x0,ws['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,ws['v4'])()},'shareOwners':{'type':[String],'default':[]}});fa[a0_0x3f93a9(0x5bb)](a0_0x3f93a9(0x32c),function(_0x4d64a3){const _0x14240f=a0_0x3f93a9;let _0x4cff53=this[_0x14240f(0x790)]();if(_0x4cff53&&typeof _0x4cff53==_0x14240f(0x894)&&_0x14240f(0x730)in _0x4cff53){let _0x1e9603=_0x4cff53[_0x14240f(0x730)];if(_0x1e9603){let _0x12aedd=new Set(),_0x206a2a=new Set(_0x1e9603['variables']?.[_0x14240f(0x3d6)](_0x3382bb=>_0x3382bb['name'])),_0x5d64e9=JSON[_0x14240f(0x684)](_0x1e9603),_0x1980d8=/{{(?!_)([^}]*)}}/g,_0x1cae5a;for(;(_0x1cae5a=_0x1980d8[_0x14240f(0x61d)](_0x5d64e9))!==null;)_0x206a2a[_0x14240f(0x887)](_0x1cae5a[0x1])||_0x12aedd[_0x14240f(0x84a)](_0x1cae5a[0x1]);_0x12aedd['size']>0x0?(console[_0x14240f(0x939)](_0x14240f(0x290),Array[_0x14240f(0x7eb)](_0x12aedd)),_0x1e9603[_0x14240f(0x762)]=Array[_0x14240f(0x7eb)](_0x12aedd)):_0x1e9603[_0x14240f(0x762)]=[],this[_0x14240f(0x6b5)]({'$set':_0x1e9603});}}_0x4d64a3();});var Ce=A?.[a0_0x3f93a9(0x597)](ys[a0_0x3f93a9(0x537)],fa,a0_0x3f93a9(0x737)),lo=new D[(a0_0x3f93a9(0x93f))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[Ms],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[no]},{'_id':!0x1}),uo=new D['Schema']({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[Ms],'blocks':[ga],'groups':[pa],'conditions':[ha],'varedits':[ma],'replyOptions':{'type':[bs],'default':[]},'chatLog':lo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x3f93a9(0x4f2)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x3f93a9(0x662)},'waitingMenu_replyOptions':{'type':[bs],'default':[]}}),wa=_0x2a59bc=>{const _0x104f48=a0_0x3f93a9;let _0x283071='z_'+_0x2a59bc+_0x104f48(0x2f2);return A?.[_0x104f48(0x597)](_0x104f48(0x7a1),uo,_0x283071);},po=new D['Schema']({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),da=new D[(a0_0x3f93a9(0x93f))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),ho=new D[(a0_0x3f93a9(0x93f))]({'_id':{'type':String,'_id':!0x0},'messages':{'type':[da],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':'scheduled'},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[po],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':da,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),ya=_0x42e6a1=>{const _0x2da9b1=a0_0x3f93a9;let _0x57c8b7='z_'+_0x42e6a1+_0x2da9b1(0x43b);return A?.[_0x2da9b1(0x597)](_0x2da9b1(0x4c8),ho,_0x57c8b7);},Ss=class{},go=new D[(a0_0x3f93a9(0x93f))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),mo=new D['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),fo=new D[(a0_0x3f93a9(0x93f))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),wo=new D[(a0_0x3f93a9(0x93f))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x3f93a9(0x8a2)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),yo=new D[(a0_0x3f93a9(0x93f))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),bo=new D['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[yo]},'customFields':{'type':[fo]},'flowConfig':{'type':wo,'default':{}},'flows':{'type':[mo],'default':[]},'autoCompleteMessages':{'type':[go],'default':[]}}),Te=A?.['model'](Ss[a0_0x3f93a9(0x537)],bo,a0_0x3f93a9(0x6d2)),ba=require(a0_0x3f93a9(0x5bc)),So=new ba[(a0_0x3f93a9(0x93f))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Sa=_0x3c6b6b=>{const _0x1b1f97=a0_0x3f93a9;let _0x161969='z_'+_0x3c6b6b+_0x1b1f97(0x852);return A?.[_0x1b1f97(0x597)](_0x1b1f97(0x906),So,_0x161969);},O=class{constructor(_0x148269){const _0xf7dedb=a0_0x3f93a9;this[_0xf7dedb(0x849)]=_0x148269['get'](_0xf7dedb(0x72b));}};function I(_0x3a17fa){const _0x4083fd=a0_0x3f93a9;let _0x566b1c={};for(let [_0x30587f,_0x26c990]of Object[_0x4083fd(0x3be)](_0x3a17fa))if(typeof _0x26c990==_0x4083fd(0x894)&&!Array[_0x4083fd(0x84c)](_0x26c990)){for(let [_0x2d2ef0,_0xf6cf3c]of Object['entries'](_0x26c990))_0x566b1c[_0x30587f+'.'+_0x2d2ef0]=_0xf6cf3c;}else _0x566b1c[_0x30587f]=_0x26c990;return _0x566b1c;}var ze=class{constructor(_0x189aca,_0x48e355,_0x11725b,_0x2384fa,_0x536b1b,_0x1b24cc,_0x3c9f2b,_0x3f76a2,_0x29ab39,_0x3da83c,_0x3bb06e,_0x5e8356,_0x4c4ec6){const _0x3af47c=a0_0x3f93a9;this[_0x3af47c(0x7a3)]=_0x189aca,this['chat']=_0x48e355,this[_0x3af47c(0x226)]=_0x11725b,this[_0x3af47c(0x5af)]=_0x2384fa,this['webhook']=_0x536b1b,this[_0x3af47c(0x30a)]=_0x1b24cc,this[_0x3af47c(0x7ed)]=_0x3c9f2b,this['flow']=_0x3f76a2,this[_0x3af47c(0x6e0)]=_0x29ab39,this['label']=_0x3da83c,this['scheduleMessage']=_0x3bb06e,this[_0x3af47c(0x54d)]=_0x5e8356,this['dbClient']=_0x4c4ec6;}get['dbServer'](){const _0x5cbf29=a0_0x3f93a9;return this[_0x5cbf29(0x70a)];}},He=class{},Ke=class extends O{['getMessageModelForOwner'](_0x126d17){return oa(_0x126d17);}async[a0_0x3f93a9(0x896)](_0x5b2d4e,_0x42df12){const _0x5048d7=a0_0x3f93a9;if(_0x5b2d4e[_0x5048d7(0x40e)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x5048d7(0x718)](_0x42df12)['insertMany']([..._0x5b2d4e]))[_0x5048d7(0x40e)]};}catch(_0x1618a9){return _0x1618a9;}}async['find'](_0x61827e,_0x158756){const _0x132dc5=a0_0x3f93a9;try{let _0x3c97b7=this['getMessageModelForOwner'](_0x158756),_0x601d2b=I(_0x61827e['where']);return await _0x3c97b7[_0x132dc5(0x419)](_0x601d2b)[_0x132dc5(0x469)]({'messageTimestamp':-0x1})[_0x132dc5(0x815)](_0x61827e?.[_0x132dc5(0x815)]??0x0)[_0x132dc5(0x4b3)]();}catch{return[];}}async[a0_0x3f93a9(0x342)](_0x12d127,_0x399af6){const _0x302ab2=a0_0x3f93a9;try{let _0x25412d=this['getMessageModelForOwner'](_0x399af6),_0x3d55d0=I(_0x12d127[_0x302ab2(0x5b5)]);await _0x25412d[_0x302ab2(0x6fe)](_0x3d55d0);}catch(_0x2b155a){console[_0x302ab2(0x70d)](_0x2b155a);}}async[a0_0x3f93a9(0x2df)](_0xec84e4,_0x53b310,_0x1c5ccb){const _0x2e8d97=a0_0x3f93a9;try{let _0x40ac0b=this[_0x2e8d97(0x718)](_0x1c5ccb),_0x52eb7d=I(_0xec84e4[_0x2e8d97(0x5b5)]);return await _0x40ac0b[_0x2e8d97(0x32c)](_0x52eb7d,{'$set':_0x53b310},{'new':!0x0});}catch(_0x188baa){throw console[_0x2e8d97(0x70d)](_0x188baa),_0x188baa;}}async[a0_0x3f93a9(0x6e9)](_0x18bc5c,_0x57ef43){const _0x1f033a=a0_0x3f93a9;if(_0x18bc5c[_0x1f033a(0x40e)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x57ef43)[_0x1f033a(0x6e9)]([..._0x18bc5c]))[_0x1f033a(0x40e)]};}catch(_0x4d4f82){return console[_0x1f033a(0x236)](_0x1f033a(0x7ec),_0x4d4f82),_0x4d4f82;}}async[a0_0x3f93a9(0x617)](_0x419147){const _0x57764a=a0_0x3f93a9;try{return await this[_0x57764a(0x718)](_0x419147)['collection']['drop'](),{'success':!0x0};}catch(_0x121342){return console['error'](_0x121342),{'success':!0x1,'error':_0x121342};}}},_s=T(require(a0_0x3f93a9(0x87d))),w=T(require(a0_0x3f93a9(0x4be))),Le=require('fs'),j=T(require('path')),Q=T(require(a0_0x3f93a9(0x25e))),$i=require(a0_0x3f93a9(0x30f)),Ri=T(require(a0_0x3f93a9(0x891))),Ai=T(require(a0_0x3f93a9(0x50a))),Ma=['imageMessage',a0_0x3f93a9(0x802),a0_0x3f93a9(0x52c),a0_0x3f93a9(0x61a),a0_0x3f93a9(0x6cd)],Ca=[a0_0x3f93a9(0x7bd),a0_0x3f93a9(0x42a),'viewOnceMessage',a0_0x3f93a9(0x5df)],Os=require('os'),Ft=T(require(a0_0x3f93a9(0x6fb))),Fe=require(a0_0x3f93a9(0x4fd)),Ti=require(a0_0x3f93a9(0x7c5)),ge=T(require(a0_0x3f93a9(0x5bc))),J=require(a0_0x3f93a9(0x33b)),ue=class{constructor(_0x1768aa,_0x325bf6,_0x2598d2){const _0x48cc13=a0_0x3f93a9;this[_0x48cc13(0x6dc)]=_0x1768aa,this['exists']=_0x325bf6,this[_0x48cc13(0x537)]=_0x2598d2;}},Qe=class{},Ye=class{},Ie=class{},Xe=class{},Ze=class{},Ee=class{},et=class{},tt=class{},st=class{},at=class{},Ot=T(require('express')),Ea=require('fs'),va=require(a0_0x3f93a9(0x89b));async function _e(_0x1ed3b8){const _0x1b3bc8=a0_0x3f93a9;let _0x1bf5ea=G[_0x1b3bc8(0x26a)][_0x1ed3b8];if(L['ENABLED']){let _0x2eef7a=A[_0x1b3bc8(0x5d5)]()['db'](L[_0x1b3bc8(0x626)][_0x1b3bc8(0x520)]+_0x1b3bc8(0x90f))['collection'](_0x1ed3b8);return _0x1bf5ea||(await _0x2eef7a[_0x1b3bc8(0x419)]({})[_0x1b3bc8(0x488)]())[_0x1b3bc8(0x40e)]>0x0;}return _0x1bf5ea||(0x0,Ea[_0x1b3bc8(0x40c)])((0x0,va[_0x1b3bc8(0x6ef)])(Se,_0x1ed3b8));}async function Na(_0x4b192e,_0x1aedb1,_0x3c1667){const _0xbf0bbd=a0_0x3f93a9;if(_0x4b192e[_0xbf0bbd(0x834)]['includes'](_0xbf0bbd(0x72d))||_0x4b192e[_0xbf0bbd(0x834)][_0xbf0bbd(0x8dc)]('/instance/fetchInstances')||_0x4b192e['originalUrl']['includes'](_0xbf0bbd(0x27f))||_0x4b192e['originalUrl'][_0xbf0bbd(0x8dc)](_0xbf0bbd(0x91f))||_0x4b192e[_0xbf0bbd(0x834)]['includes'](_0xbf0bbd(0x559))||_0x4b192e[_0xbf0bbd(0x834)][_0xbf0bbd(0x8dc)](_0xbf0bbd(0x323))||_0x4b192e[_0xbf0bbd(0x834)][_0xbf0bbd(0x8dc)]('/instance/delete'))return _0x3c1667();let _0x1206f0=_0x4b192e['params'];if(!_0x1206f0?.['instanceName'])throw new m(_0xbf0bbd(0x91c));if(!await _e(_0x1206f0['instanceName']))throw new U(_0xbf0bbd(0x1f5)+_0x1206f0['instanceName']+_0xbf0bbd(0x703));_0x3c1667();}async function $a(_0x2d2ac7,_0x583e87,_0x32576e){const _0x21b1dd=a0_0x3f93a9;if(_0x2d2ac7[_0x21b1dd(0x834)][_0x21b1dd(0x8dc)](_0x21b1dd(0x72d))){let _0x28e571=_0x2d2ac7[_0x21b1dd(0x77f)];if(await _e(_0x28e571['instanceName']))throw new X(_0x21b1dd(0x7d2)+_0x28e571[_0x21b1dd(0x5cf)]+_0x21b1dd(0x851));G['waInstances'][_0x28e571[_0x21b1dd(0x5cf)]]&&delete G[_0x21b1dd(0x26a)][_0x28e571[_0x21b1dd(0x5cf)]];}_0x32576e();}var Ra=require(a0_0x3f93a9(0x33b)),Aa=T(require('jsonwebtoken')),it=a0_0x3f93a9(0x316),Co=new $(a0_0x3f93a9(0x8c9));async function Eo(_0x727ef2,_0x2f4bf6,_0x5f508d){const _0x228dd3=a0_0x3f93a9;let _0x554b90=_0x727ef2[_0x228dd3(0x2da)](_0x228dd3(0x5ec));if(_0x554b90&&S[_0x228dd3(0x2da)](_0x228dd3(0x508))[_0x228dd3(0x467)][_0x228dd3(0x38e)]!==_0x554b90)throw new ae();if(S[_0x228dd3(0x2da)](_0x228dd3(0x508))['API_KEY']['KEY']===_0x554b90)return _0x5f508d();if((_0x727ef2['originalUrl']['includes']('/instance/create')||_0x727ef2['originalUrl'][_0x228dd3(0x8dc)](_0x228dd3(0x23f)))&&!_0x554b90)throw new X(_0x228dd3(0x639),_0x228dd3(0x5f3));let _0x36a9a3=S[_0x228dd3(0x2da)](_0x228dd3(0x508))[_0x228dd3(0x794)];try{let [_0x34e9dd,_0x4f763f]=_0x727ef2[_0x228dd3(0x2da)]('authorization')['split']('\x20');if(_0x34e9dd[_0x228dd3(0x658)]()!==_0x228dd3(0x629))throw new ae();if(!(0x0,Ra['isJWT'])(_0x4f763f))throw new ae();let _0x58b941=_0x727ef2['params'],_0x1b9e69=Aa[_0x228dd3(0x73f)]['verify'](_0x4f763f,_0x36a9a3['SECRET'],{'ignoreExpiration':_0x36a9a3[_0x228dd3(0x46b)]===0x0});if(_0x58b941['instanceName']!==_0x1b9e69[_0x228dd3(0x5cf)]||it!==_0x1b9e69[_0x228dd3(0x93e)])throw new ae();return _0x5f508d();}catch(_0x98055a){throw Co['error'](_0x98055a),new ae();}}async function vo(_0x2924df,_0x507d0a,_0x2ea212){const _0x1d1944=a0_0x3f93a9;let _0x5b9498=S[_0x1d1944(0x2da)]('AUTHENTICATION')[_0x1d1944(0x467)],_0x111fee=_0x2924df[_0x1d1944(0x2da)](_0x1d1944(0x5ec));if(_0x5b9498[_0x1d1944(0x38e)]===_0x111fee)return _0x2ea212();if(_0x2924df[_0x1d1944(0x834)]['includes'](_0x1d1944(0x72d))){let _0x422a07=Ia,_0x48487a=_0x2924df[_0x1d1944(0x77f)][_0x1d1944(0x5cf)];if(_0x422a07&&_0x48487a[_0x1d1944(0x658)]()['startsWith'](_0x422a07[_0x1d1944(0x658)]()))return _0x2ea212();if(!_0x111fee)throw new X('Missing\x20global\x20api\x20key',_0x1d1944(0x5f3));}if(_0x2924df[_0x1d1944(0x834)]['includes'](_0x1d1944(0x23f))&&!_0x111fee)throw new X(_0x1d1944(0x639),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x2924df[_0x1d1944(0x834)][_0x1d1944(0x8dc)](_0x1d1944(0x27f))&&!_0x111fee)throw new X(_0x1d1944(0x639),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x2924df[_0x1d1944(0x834)][_0x1d1944(0x8dc)](_0x1d1944(0x91f))&&!_0x111fee)throw new X(_0x1d1944(0x639),'The\x20global\x20api\x20key\x20must\x20be\x20set');try{let _0x3b638f=_0x2924df[_0x1d1944(0x573)],_0x36a686=await fe[_0x1d1944(0x30a)][_0x1d1944(0x419)](_0x3b638f['instanceName']);if(_0x36a686&&_0x36a686[_0x1d1944(0x5ec)]===_0x111fee)return _0x2ea212();}catch{}throw new ae();}var Ta={'jwt':Eo,'apikey':vo},li=require(a0_0x3f93a9(0x3f3)),C=require(a0_0x3f93a9(0x30f)),E=(..._0x2dba18)=>{const _0x343078=a0_0x3f93a9;let _0x2df942={};return _0x2dba18['forEach'](_0x5a5866=>_0x2df942[_0x5a5866]={'minLength':0x1,'description':'The\x20\x22'+_0x5a5866+_0x343078(0x42f)}),{'if':{'propertyNames':{'enum':[..._0x2dba18]}},'then':{'properties':_0x2df942}};},N={'$id':(0x0,C['v4'])(),'type':a0_0x3f93a9(0x894),'properties':{'instanceName':{'type':a0_0x3f93a9(0x6a7)}},...E(a0_0x3f93a9(0x5cf))},Mc={'$id':(0x0,C['v4'])(),'type':a0_0x3f93a9(0x894),'properties':{'oldToken':{'type':'string'}},'required':[a0_0x3f93a9(0x31f)],...E(a0_0x3f93a9(0x31f))},Cc={'properties':{'key':{'type':a0_0x3f93a9(0x894),'properties':{'id':{'type':a0_0x3f93a9(0x6a7)},'remoteJid':{'type':a0_0x3f93a9(0x6a7)},'fromMe':{'type':a0_0x3f93a9(0x4c6),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x3f93a9(0x2fa)],...E('id',a0_0x3f93a9(0x6fa))},'message':{'type':a0_0x3f93a9(0x894)}}},ie={'properties':{'delay':{'type':'integer','description':a0_0x3f93a9(0x344)},'presence':{'type':'string','enum':['unavailable',a0_0x3f93a9(0x3dd),a0_0x3f93a9(0x4b1),'recording',a0_0x3f93a9(0x308)]}}},Z={'type':a0_0x3f93a9(0x6a7),'description':a0_0x3f93a9(0x2ac)},_a={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ie},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x3f93a9(0x6a7)}},'required':[a0_0x3f93a9(0x5d0)],...E('text')}},'required':[a0_0x3f93a9(0x862),a0_0x3f93a9(0x42d)]},Oa={'type':'string','pattern':a0_0x3f93a9(0x7c3),'description':a0_0x3f93a9(0x2ac)},Ec={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Oa},'options':{...ie},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x3f93a9(0x6a7)}},'required':[a0_0x3f93a9(0x5d0)],...E(a0_0x3f93a9(0x5d0))}},'required':[a0_0x3f93a9(0x862),'number']},vc={'$id':(0x0,C['v4'])(),'type':a0_0x3f93a9(0x894),'properties':{'number':{...Oa},'options':{...ie},'mediaMessage':{'type':a0_0x3f93a9(0x894),'properties':{'mediatype':{'type':a0_0x3f93a9(0x6a7),'enum':['image',a0_0x3f93a9(0x262),a0_0x3f93a9(0x48a),'audio']},'media':{'type':a0_0x3f93a9(0x6a7)},'fileName':{'type':'string'},'caption':{'type':'string'}},'required':['mediatype',a0_0x3f93a9(0x30b)],...E('fileName',a0_0x3f93a9(0x65e),a0_0x3f93a9(0x30b))}},'required':[a0_0x3f93a9(0x41b),a0_0x3f93a9(0x42d)]},xa={'$id':(0x0,C['v4'])(),'type':a0_0x3f93a9(0x894),'properties':{'number':{...Z},'options':{...ie},'stickerMessage':{'type':'object','properties':{'image':{'type':a0_0x3f93a9(0x6a7)}},'required':[a0_0x3f93a9(0x87a)],...E(a0_0x3f93a9(0x87a))}},'required':[a0_0x3f93a9(0x6cd),a0_0x3f93a9(0x42d)]},Da={'$id':(0x0,C['v4'])(),'type':a0_0x3f93a9(0x894),'properties':{'statusMessage':{'type':a0_0x3f93a9(0x894),'properties':{'type':{'type':a0_0x3f93a9(0x6a7),'enum':[a0_0x3f93a9(0x5d0),'image',a0_0x3f93a9(0x531),a0_0x3f93a9(0x48a)]},'content':{'type':a0_0x3f93a9(0x6a7)},'caption':{'type':'string'},'backgroundColor':{'type':a0_0x3f93a9(0x6a7)},'font':{'type':a0_0x3f93a9(0x881),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x3f93a9(0x817),'description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0x3f93a9(0x4c6),'enum':[!0x0,!0x1]}},'required':[a0_0x3f93a9(0x66e),'content'],...E(a0_0x3f93a9(0x66e),'content')}},'required':[a0_0x3f93a9(0x5ce)]},Pa={'$id':(0x0,C['v4'])(),'type':a0_0x3f93a9(0x894),'properties':{'number':{...Z},'options':{...ie},'mediaMessage':{'type':a0_0x3f93a9(0x894),'properties':{'mediatype':{'type':a0_0x3f93a9(0x6a7),'enum':['image','document',a0_0x3f93a9(0x48a),a0_0x3f93a9(0x531)]},'media':{'type':a0_0x3f93a9(0x6a7)},'fileName':{'type':a0_0x3f93a9(0x6a7)},'caption':{'type':a0_0x3f93a9(0x6a7)}},'required':['mediatype','media'],...E(a0_0x3f93a9(0x4ee),'caption','media')}},'required':[a0_0x3f93a9(0x41b),a0_0x3f93a9(0x42d)]},ka={'$id':(0x0,C['v4'])(),'type':a0_0x3f93a9(0x894),'properties':{'number':{...Z},'options':{...ie},'audioMessage':{'type':a0_0x3f93a9(0x894),'properties':{'audio':{'type':a0_0x3f93a9(0x6a7)}},'required':[a0_0x3f93a9(0x531)],...E(a0_0x3f93a9(0x531))}},'required':[a0_0x3f93a9(0x52c),a0_0x3f93a9(0x42d)]},La={'$id':(0x0,C['v4'])(),'type':a0_0x3f93a9(0x894),'properties':{'number':{...Z},'pollMessage':{'type':'object','properties':{'name':{'type':a0_0x3f93a9(0x6a7)},'selectableCount':{'type':'number'},'values':{'type':a0_0x3f93a9(0x775),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x3f93a9(0x537),'selectableCount',a0_0x3f93a9(0x3e1)],...E(a0_0x3f93a9(0x537),a0_0x3f93a9(0x58c),a0_0x3f93a9(0x3e1))}},'required':[a0_0x3f93a9(0x42d),a0_0x3f93a9(0x8dd)]},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x3f93a9(0x894),'properties':{'number':{...Z},'menuMessage':{'type':a0_0x3f93a9(0x894),'properties':{'text':{'type':'string'},'choices':{'type':a0_0x3f93a9(0x775),'uniqueItems':!0x0}},'required':[a0_0x3f93a9(0x5d0),a0_0x3f93a9(0x397)],...E(a0_0x3f93a9(0x5d0),a0_0x3f93a9(0x397))}},'required':[a0_0x3f93a9(0x42d),'menuMessage']},Ua={'$id':(0x0,C['v4'])(),'type':a0_0x3f93a9(0x894),'properties':{'number':{...Z},'options':{...ie},'locationMessage':{'type':a0_0x3f93a9(0x894),'properties':{'latitude':{'type':a0_0x3f93a9(0x42d)},'longitude':{'type':'number'},'name':{'type':a0_0x3f93a9(0x6a7)},'address':{'type':a0_0x3f93a9(0x6a7)}},'required':[a0_0x3f93a9(0x6da),a0_0x3f93a9(0x5da)],...E(a0_0x3f93a9(0x537),a0_0x3f93a9(0x4a7))}},'required':[a0_0x3f93a9(0x42d),a0_0x3f93a9(0x770)]},ja={'$id':(0x0,C['v4'])(),'type':a0_0x3f93a9(0x894),'properties':{'number':{...Z},'options':{...ie},'listMessage':{'type':a0_0x3f93a9(0x894),'properties':{'title':{'type':a0_0x3f93a9(0x6a7)},'description':{'type':a0_0x3f93a9(0x6a7)},'footerText':{'type':'string'},'buttonText':{'type':a0_0x3f93a9(0x6a7)},'sections':{'type':a0_0x3f93a9(0x775),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':'string'},'rows':{'type':a0_0x3f93a9(0x775),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3f93a9(0x894),'properties':{'title':{'type':a0_0x3f93a9(0x6a7)},'description':{'type':a0_0x3f93a9(0x6a7)},'rowId':{'type':a0_0x3f93a9(0x6a7)}},'required':[a0_0x3f93a9(0x1e9),a0_0x3f93a9(0x533)],...E(a0_0x3f93a9(0x1e9),'rowId')}}},'required':['title','rows'],...E('title')}}},'required':['title',a0_0x3f93a9(0x872),'buttonText',a0_0x3f93a9(0x8ba)],...E('title',a0_0x3f93a9(0x872),a0_0x3f93a9(0x2ca),a0_0x3f93a9(0x760))}},'required':[a0_0x3f93a9(0x42d),a0_0x3f93a9(0x6f4)]},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x3f93a9(0x894),'properties':{'number':{...Z},'options':{...ie},'contactMessage':{'type':a0_0x3f93a9(0x775),'items':{'type':a0_0x3f93a9(0x894),'properties':{'fullName':{'type':a0_0x3f93a9(0x6a7)},'phoneNumber':{'type':'string','minLength':0xa}},'required':[a0_0x3f93a9(0x41e),a0_0x3f93a9(0x8f7)],...E(a0_0x3f93a9(0x41e))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x3f93a9(0x42d),a0_0x3f93a9(0x3f5)]},qa={'$id':(0x0,C['v4'])(),'type':a0_0x3f93a9(0x894),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x3f93a9(0x6a7)},'remoteJid':{'type':a0_0x3f93a9(0x6a7)},'fromMe':{'type':a0_0x3f93a9(0x4c6),'enum':[!0x0,!0x1]}},'required':['id',a0_0x3f93a9(0x6fa),a0_0x3f93a9(0x2fa)],...E('id','remoteJid')},'reaction':{'type':'string'}},'required':[a0_0x3f93a9(0x33a),a0_0x3f93a9(0x7c0)],...E('reaction')}},'required':['reactionMessage']},Va={'$id':(0x0,C['v4'])(),'type':'object','properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3f93a9(0x6a7),'pattern':a0_0x3f93a9(0x817),'description':'\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}}},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x3f93a9(0x894),'properties':{'readMessages':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x3f93a9(0x6a7)},'fromMe':{'type':a0_0x3f93a9(0x4c6),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x3f93a9(0x6a7)}},'required':['id',a0_0x3f93a9(0x2fa),a0_0x3f93a9(0x6fa)],...E('id','remoteJid')}}},'required':['readMessages']},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x3f93a9(0x894),'properties':{'privacySettings':{'type':a0_0x3f93a9(0x894),'properties':{'readreceipts':{'type':a0_0x3f93a9(0x6a7),'enum':[a0_0x3f93a9(0x49a),'none']},'profile':{'type':a0_0x3f93a9(0x6a7),'enum':['all','contacts',a0_0x3f93a9(0x8ee),'none']},'status':{'type':'string','enum':[a0_0x3f93a9(0x49a),a0_0x3f93a9(0x367),a0_0x3f93a9(0x8ee),'none']},'online':{'type':a0_0x3f93a9(0x6a7),'enum':[a0_0x3f93a9(0x49a),a0_0x3f93a9(0x39c)]},'last':{'type':a0_0x3f93a9(0x6a7),'enum':[a0_0x3f93a9(0x49a),a0_0x3f93a9(0x367),a0_0x3f93a9(0x8ee),'none']},'groupadd':{'type':'string','enum':[a0_0x3f93a9(0x49a),a0_0x3f93a9(0x367),a0_0x3f93a9(0x8ee),a0_0x3f93a9(0x1dd)]}},'required':['readreceipts',a0_0x3f93a9(0x2b0),a0_0x3f93a9(0x74f),a0_0x3f93a9(0x8f4),a0_0x3f93a9(0x2f3),a0_0x3f93a9(0x482)],...E(a0_0x3f93a9(0x1e0),a0_0x3f93a9(0x2b0),'status',a0_0x3f93a9(0x8f4),a0_0x3f93a9(0x2f3),a0_0x3f93a9(0x482))}},'required':[a0_0x3f93a9(0x546)]},Wa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'lastMessage':{'type':a0_0x3f93a9(0x894),'properties':{'key':{'type':a0_0x3f93a9(0x894),'properties':{'id':{'type':a0_0x3f93a9(0x6a7)},'remoteJid':{'type':a0_0x3f93a9(0x6a7)},'fromMe':{'type':a0_0x3f93a9(0x4c6),'enum':[!0x0,!0x1]}},'required':['id',a0_0x3f93a9(0x2fa),a0_0x3f93a9(0x6fa)],...E('id',a0_0x3f93a9(0x6fa))},'messageTimestamp':{'type':a0_0x3f93a9(0x881),'minLength':0x1}},'required':['key'],...E('messageTimestamp')},'archive':{'type':a0_0x3f93a9(0x4c6),'enum':[!0x0,!0x1]}},'required':['lastMessage',a0_0x3f93a9(0x791)]},za={'$id':(0x0,C['v4'])(),'type':a0_0x3f93a9(0x894),'properties':{'id':{'type':a0_0x3f93a9(0x6a7)},'fromMe':{'type':a0_0x3f93a9(0x4c6),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':'string'}},'required':['id',a0_0x3f93a9(0x2fa),a0_0x3f93a9(0x6fa)],...E('id',a0_0x3f93a9(0x6fa),a0_0x3f93a9(0x7cc))},Ha={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':a0_0x3f93a9(0x894),'properties':{'_id':{'type':a0_0x3f93a9(0x6a7),'minLength':0x1},'pushName':{'type':a0_0x3f93a9(0x6a7),'minLength':0x1},'id':{'type':a0_0x3f93a9(0x6a7),'minLength':0x1}},...E('_id','id','pushName')}}},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x3f93a9(0x894),'properties':{'name':{'type':'string'}},...E(a0_0x3f93a9(0x537))},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x3f93a9(0x894),'properties':{'status':{'type':'string'}},...E('status')},Oe={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{'type':a0_0x3f93a9(0x6a7)},'picture':{'type':a0_0x3f93a9(0x6a7)}}},Ya={'type':a0_0x3f93a9(0x894),'properties':{'wuid':{'type':a0_0x3f93a9(0x6a7)},'name':{'type':a0_0x3f93a9(0x6a7)},'picture':{'type':a0_0x3f93a9(0x6a7)},'status':{'type':a0_0x3f93a9(0x6a7)},'isBusiness':{'type':a0_0x3f93a9(0x4c6)}}},Xa={'$id':(0x0,C['v4'])(),'type':a0_0x3f93a9(0x894),'properties':{'where':{'type':a0_0x3f93a9(0x894),'properties':{'_id':{'type':a0_0x3f93a9(0x6a7),'minLength':0x1},'key':{'type':a0_0x3f93a9(0x894),'if':{'propertyNames':{'enum':[a0_0x3f93a9(0x2fa),'remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':a0_0x3f93a9(0x6a7),'minLength':0x1,'description':a0_0x3f93a9(0x521)},'id':{'type':'string','minLength':0x1,'description':a0_0x3f93a9(0x521)},'fromMe':{'type':a0_0x3f93a9(0x4c6),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x3f93a9(0x894)}},...E('_id')},'limit':{'type':a0_0x3f93a9(0x881)}}},Nc={'$id':(0x0,C['v4'])(),'type':a0_0x3f93a9(0x894),'properties':{'where':{'type':a0_0x3f93a9(0x894),'properties':{'_id':{'type':a0_0x3f93a9(0x6a7)},'remoteJid':{'type':a0_0x3f93a9(0x6a7)},'id':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'participant':{'type':a0_0x3f93a9(0x6a7)},'status':{'type':a0_0x3f93a9(0x6a7),'enum':['ERROR',a0_0x3f93a9(0x940),'SERVER_ACK','DELIVERY_ACK',a0_0x3f93a9(0x4b8),a0_0x3f93a9(0x6dd)]}},...E(a0_0x3f93a9(0x7ad),a0_0x3f93a9(0x6fa),'id',a0_0x3f93a9(0x74f))},'limit':{'type':'integer'}}},Za={'$id':(0x0,C['v4'])(),'type':a0_0x3f93a9(0x894),'properties':{'number':{...Z},'presence':{'type':a0_0x3f93a9(0x6a7),'enum':[a0_0x3f93a9(0x40d),a0_0x3f93a9(0x3dd),a0_0x3f93a9(0x4b1),a0_0x3f93a9(0x4ab),a0_0x3f93a9(0x308)]}},'required':[a0_0x3f93a9(0x67e),a0_0x3f93a9(0x42d)]},ei={'$id':(0x0,C['v4'])(),'type':a0_0x3f93a9(0x894),'properties':{'subject':{'type':a0_0x3f93a9(0x6a7)},'description':{'type':a0_0x3f93a9(0x6a7)},'profilePicture':{'type':'string'},'participants':{'type':a0_0x3f93a9(0x775),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x3f93a9(0x799),'description':a0_0x3f93a9(0x809)}}},'required':[a0_0x3f93a9(0x83f),a0_0x3f93a9(0x388)],...E(a0_0x3f93a9(0x83f),a0_0x3f93a9(0x872),a0_0x3f93a9(0x434))},xe={'$id':(0x0,C['v4'])(),'type':a0_0x3f93a9(0x894),'properties':{'groupJid':{'type':'string','pattern':a0_0x3f93a9(0x777)}},'required':[a0_0x3f93a9(0x306)],...E(a0_0x3f93a9(0x306))},ti={'$id':(0x0,C['v4'])(),'type':a0_0x3f93a9(0x894),'properties':{'groupJid':{'type':a0_0x3f93a9(0x6a7)},'action':{'type':a0_0x3f93a9(0x6a7),'enum':[a0_0x3f93a9(0x84a),a0_0x3f93a9(0x34f),a0_0x3f93a9(0x868),a0_0x3f93a9(0x4e0),a0_0x3f93a9(0x865),a0_0x3f93a9(0x4f8)]},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3f93a9(0x6a7),'minLength':0xa,'pattern':a0_0x3f93a9(0x799),'description':a0_0x3f93a9(0x809)}}},'required':[a0_0x3f93a9(0x306),a0_0x3f93a9(0x44e),a0_0x3f93a9(0x388)],...E(a0_0x3f93a9(0x306),a0_0x3f93a9(0x44e))},si={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x3f93a9(0x6a7)},'expiration':{'type':a0_0x3f93a9(0x42d),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x3f93a9(0x306),a0_0x3f93a9(0x3ca)],...E(a0_0x3f93a9(0x306),a0_0x3f93a9(0x3ca))},ai={'$id':(0x0,C['v4'])(),'type':a0_0x3f93a9(0x894),'properties':{'groupJid':{'type':a0_0x3f93a9(0x6a7)},'image':{'type':a0_0x3f93a9(0x6a7)}},'required':[a0_0x3f93a9(0x306),a0_0x3f93a9(0x87a)],...E('groupJid',a0_0x3f93a9(0x87a))},ii={'$id':(0x0,C['v4'])(),'type':a0_0x3f93a9(0x894),'properties':{'groupJid':{'type':a0_0x3f93a9(0x6a7)},'description':{'type':a0_0x3f93a9(0x6a7)}},'required':[a0_0x3f93a9(0x306),a0_0x3f93a9(0x872)],...E(a0_0x3f93a9(0x306),'description')},oi={'$id':(0x0,C['v4'])(),'type':a0_0x3f93a9(0x894),'properties':{'groupJid':{'type':a0_0x3f93a9(0x6a7)},'name':{'type':'string'}},'required':[a0_0x3f93a9(0x306),'name'],...E('groupJid',a0_0x3f93a9(0x537))},ri={'$id':(0x0,C['v4'])(),'type':a0_0x3f93a9(0x894),'properties':{'groupJid':{'type':'string'},'setting':{'type':a0_0x3f93a9(0x6a7),'enum':[a0_0x3f93a9(0x370),a0_0x3f93a9(0x48f),'unlocked',a0_0x3f93a9(0x6d8)]}},'required':[a0_0x3f93a9(0x306),'setting'],...E(a0_0x3f93a9(0x306),a0_0x3f93a9(0x82c))},ni={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x3f93a9(0x6a7)},'restrict':{'type':a0_0x3f93a9(0x4c6)},'announce':{'type':a0_0x3f93a9(0x4c6)},'memberAddMode':{'type':'boolean'},'joinApprovalMode':{'type':'boolean'},'expiration':{'type':'integer','enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x3f93a9(0x6a7)},'description':{'type':a0_0x3f93a9(0x6a7)},'image':{'type':a0_0x3f93a9(0x6a7)}}},Cs={'$id':(0x0,C['v4'])(),'type':a0_0x3f93a9(0x894),'properties':{'inviteCode':{'type':a0_0x3f93a9(0x6a7)}},'required':['inviteCode'],...E('inviteCode')},ci={'$id':(0x0,C['v4'])(),'type':a0_0x3f93a9(0x894),'properties':{'url':{'type':'string'},'enabled':{'type':a0_0x3f93a9(0x4c6),'enum':[!0x0,!0x1]}},'required':[a0_0x3f93a9(0x3f9),'enabled']},$c={'$id':(0x0,C['v4'])(),'type':a0_0x3f93a9(0x894),'properties':{'local_map':{'type':a0_0x3f93a9(0x4c6),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':'boolean','enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x3f93a9(0x4c6),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x3f93a9(0x4c6),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x3f93a9(0x4c6),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x3f93a9(0x4c6),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x3f93a9(0x4c6),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x3f93a9(0x4c6),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x3f93a9(0x4c6),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x3f93a9(0x4c6),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x3f93a9(0x4c6),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x3f93a9(0x4c6),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x3f93a9(0x4c6),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x3f93a9(0x4c6),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x3f93a9(0x4c6),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x3f93a9(0x4c6),'enum':[!0x0,!0x1]}},'required':[a0_0x3f93a9(0x1e5),'STATUS_INSTANCE',a0_0x3f93a9(0x4e9),a0_0x3f93a9(0x254),a0_0x3f93a9(0x704),a0_0x3f93a9(0x45f),'SEND_MESSAGE',a0_0x3f93a9(0x200),a0_0x3f93a9(0x1fb),a0_0x3f93a9(0x496),a0_0x3f93a9(0x701),a0_0x3f93a9(0x636),a0_0x3f93a9(0x492),a0_0x3f93a9(0x50f),a0_0x3f93a9(0x5e3),a0_0x3f93a9(0x6cb),a0_0x3f93a9(0x1c7),a0_0x3f93a9(0x85e),a0_0x3f93a9(0x69b)],...E(a0_0x3f93a9(0x1e5),a0_0x3f93a9(0x22e),a0_0x3f93a9(0x4e9),a0_0x3f93a9(0x254),'MESSAGES_UPDATE',a0_0x3f93a9(0x45f),a0_0x3f93a9(0x6bd),'CONTACTS_SET',a0_0x3f93a9(0x1fb),a0_0x3f93a9(0x496),'PRESENCE_UPDATE','CHATS_SET',a0_0x3f93a9(0x492),a0_0x3f93a9(0x50f),a0_0x3f93a9(0x5e3),'CONNECTION_UPDATE','GROUPS_UPSERT',a0_0x3f93a9(0x85e),'GROUP_PARTICIPANTS_UPDATE')},ot=class{},rt=class extends O{[a0_0x3f93a9(0x4b6)](_0x56b403){return ea(_0x56b403);}async[a0_0x3f93a9(0x896)](_0x4be8dc){const _0x397f25=a0_0x3f93a9;if(_0x4be8dc['length']!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x4be8dc[0x0]['owner'])[_0x397f25(0x6e9)]([..._0x4be8dc]))[_0x397f25(0x40e)]};}catch(_0x5e3b85){return _0x5e3b85;}}async['delete'](_0x5eba23,_0x259d28){const _0x53a353=a0_0x3f93a9;try{return{'deletedCount':(await this[_0x53a353(0x4b6)](_0x259d28)[_0x53a353(0x6fe)]({..._0x5eba23[_0x53a353(0x5b5)]}))[_0x53a353(0x2e7)]};}catch(_0x5c4e48){return{'error':_0x5c4e48?.[_0x53a353(0x5e7)]()};}}async[a0_0x3f93a9(0x2df)](_0x16922f,_0x333318){const _0x1bdd84=a0_0x3f93a9;try{if(_0x16922f['length']===0x0)return;let _0x843914=this[_0x1bdd84(0x4b6)](_0x333318),_0xf7e4e0=_0x16922f[_0x1bdd84(0x3d6)](_0x5660b9=>({'updateOne':{'filter':{'_id':_0x5660b9[_0x1bdd84(0x7ad)],'owner':_0x333318},'update':{..._0x5660b9}}})),{modifiedCount:_0x21e750}=await _0x843914['bulkWrite'](_0xf7e4e0);return{'insertCount':_0x21e750};}catch{return;}}async[a0_0x3f93a9(0x419)](_0x262351,_0x51f6fe){const _0x3a2326=a0_0x3f93a9;try{let _0x3c7445=this['getContactModelForOwner'](_0x51f6fe),_0x20b42d=I(_0x262351[_0x3a2326(0x5b5)]);return await _0x3c7445[_0x3a2326(0x419)](_0x20b42d)['limit'](_0x262351?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0x3f93a9(0x39a)](_0x3b6349,_0x5169a3){const _0x394a84=a0_0x3f93a9;try{let _0x473d4e=this[_0x394a84(0x4b6)](_0x5169a3),_0x3c5e57=I(_0x3b6349[_0x394a84(0x5b5)]);return await _0x473d4e[_0x394a84(0x39a)](_0x3c5e57)[_0x394a84(0x4b3)]();}catch{return null;}}async[a0_0x3f93a9(0x617)](_0x4c5849){const _0x23270b=a0_0x3f93a9;try{return await this[_0x23270b(0x4b6)](_0x4c5849)[_0x23270b(0x387)][_0x23270b(0x406)](),{'success':!0x0};}catch(_0x4b1d20){return console['error'](_0x4b1d20),{'success':!0x1,'error':_0x4b1d20};}}},nt=require('jsonschema'),Pc=require(a0_0x3f93a9(0x2d2)),Es=new $(a0_0x3f93a9(0x5b0)),V=class{[a0_0x3f93a9(0x294)](_0x4bfb4a,_0x373780=!0x0){let _0x20ecb8='/'+_0x4bfb4a;return _0x373780&&(_0x20ecb8+='/:instanceName'),_0x20ecb8;}async[a0_0x3f93a9(0x7f1)](_0x27021f){const _0x56450f=a0_0x3f93a9;let {request:_0x3d1af7,schema:_0x1bde59,ClassRef:_0x4179fd,execute:_0x3d457d}=_0x27021f,_0x3e8159=new _0x4179fd(),_0x1f47b8=_0x3d1af7['body'],_0x5dc8c3=_0x3d1af7[_0x56450f(0x573)];_0x3d1af7?.[_0x56450f(0x671)]&&Object[_0x56450f(0x1fa)](_0x3d1af7[_0x56450f(0x671)])[_0x56450f(0x40e)]>0x0&&Object[_0x56450f(0x6a6)](_0x5dc8c3,_0x3d1af7['query']),_0x3d1af7[_0x56450f(0x834)][_0x56450f(0x8dc)](_0x56450f(0x72d))&&Object[_0x56450f(0x6a6)](_0x5dc8c3,_0x1f47b8),Object[_0x56450f(0x6a6)](_0x3e8159,_0x1f47b8);let _0xc6a70c=_0x1bde59?(0x0,nt['validate'])(_0x3e8159,_0x1bde59):{'valid':!0x0,'errors':[]};if(!_0xc6a70c[_0x56450f(0x22d)]){let _0x42ed16=_0xc6a70c[_0x56450f(0x51c)][_0x56450f(0x3d6)](({property:_0x272d9e,stack:_0x5ac3f6,schema:_0x21b283})=>{const _0xf96c8f=_0x56450f;let _0x21c413;return _0x21b283['description']?_0x21c413=_0x21b283['description']:_0x21c413=_0x5ac3f6[_0xf96c8f(0x2a1)]('instance.',''),{'property':_0x272d9e['replace'](_0xf96c8f(0x36a),''),'message':_0x21c413};});throw Es['error']([..._0x42ed16]),new m(..._0x42ed16);}return await _0x3d457d(_0x5dc8c3,_0x3e8159);}async[a0_0x3f93a9(0x213)](_0x30ac0f){const _0x25b9bc=a0_0x3f93a9;let {request:_0x250c4f,ClassRef:_0xfecff9,schema:_0x20fa9e,execute:_0x24f2d3}=_0x30ac0f,_0xc4b04a=_0x250c4f[_0x25b9bc(0x671)];if(!_0xc4b04a?.['groupJid'])throw new m(_0x25b9bc(0x32e),_0x25b9bc(0x86b));let _0x5a8470=_0x250c4f['params'],_0x58df62=_0x250c4f[_0x25b9bc(0x77f)],_0x930bbe=new _0xfecff9();Object[_0x25b9bc(0x6a6)](_0x58df62,_0xc4b04a),Object[_0x25b9bc(0x6a6)](_0x930bbe,_0x58df62);let _0x4e6686=(0x0,nt['validate'])(_0x930bbe,_0x20fa9e);if(!_0x4e6686['valid']){let _0x17faae=_0x4e6686[_0x25b9bc(0x51c)]['map'](({property:_0x141385,stack:_0x3cc986,schema:_0x2af75c})=>{const _0x27429c=_0x25b9bc;let _0x2812d8;return _0x2af75c[_0x27429c(0x872)]?_0x2812d8=_0x2af75c[_0x27429c(0x872)]:_0x2812d8=_0x3cc986[_0x27429c(0x2a1)](_0x27429c(0x36a),''),{'property':_0x141385['replace'](_0x27429c(0x36a),''),'message':_0x2812d8};});throw Es[_0x25b9bc(0x70d)]([..._0x17faae]),new m(..._0x17faae);}return await _0x24f2d3(_0x5a8470,_0x930bbe);}async[a0_0x3f93a9(0x52a)](_0x517a6c){const _0x17bc1c=a0_0x3f93a9;let {request:_0x134567,ClassRef:_0x24aed8,schema:_0x6570e8,execute:_0x352326}=_0x517a6c,_0x576a19=_0x134567['body'];if(!_0x576a19?.[_0x17bc1c(0x642)])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x17bc1c(0x681));let _0x44f498=_0x134567[_0x17bc1c(0x573)],_0x5ee3e6=_0x134567[_0x17bc1c(0x77f)],_0x4fb1b7=new _0x24aed8();Object[_0x17bc1c(0x6a6)](_0x5ee3e6,_0x576a19),Object[_0x17bc1c(0x6a6)](_0x4fb1b7,_0x5ee3e6);let _0x2ef4e1=(0x0,nt[_0x17bc1c(0x2be)])(_0x4fb1b7,_0x6570e8);if(!_0x2ef4e1[_0x17bc1c(0x22d)]){let _0x1f095f=_0x2ef4e1[_0x17bc1c(0x51c)]['map'](({property:_0x2a7aaa,stack:_0x1bd778,schema:_0x26ae9e})=>{const _0x2626b7=_0x17bc1c;let _0x1a81bb;return _0x26ae9e['description']?_0x1a81bb=_0x26ae9e['description']:_0x1a81bb=_0x1bd778[_0x2626b7(0x2a1)](_0x2626b7(0x36a),''),{'property':_0x2a7aaa[_0x2626b7(0x2a1)](_0x2626b7(0x36a),''),'message':_0x1a81bb};});throw Es['error']([..._0x1f095f]),new m(..._0x1f095f);}return await _0x352326(_0x44f498,_0x4fb1b7);}},M=class{},Qc=new $(a0_0x3f93a9(0x806)),ct=class extends V{constructor(..._0x17523f){const _0x5da779=a0_0x3f93a9;super(),this['router']=(0x0,li['Router'])(),this['router'][_0x5da779(0x239)](this[_0x5da779(0x294)]('updatePresence'),..._0x17523f,async(_0x58a583,_0x44b301)=>{const _0x50dce9=_0x5da779;let _0x48df9f=await this[_0x50dce9(0x7f1)]({'request':_0x58a583,'schema':Za,'ClassRef':Qe,'execute':(_0x3f282e,_0x114edb)=>P[_0x50dce9(0x65f)](_0x3f282e,_0x114edb)});return _0x44b301['status'](0xc9)['json'](_0x48df9f);})[_0x5da779(0x239)](this[_0x5da779(0x294)](_0x5da779(0x7b5)),..._0x17523f,async(_0x1e9de6,_0x21c01e)=>{const _0x4a02bf=_0x5da779;let _0x15769a=await this[_0x4a02bf(0x7f1)]({'request':_0x1e9de6,'schema':Va,'ClassRef':Ye,'execute':(_0x560160,_0x3a3544)=>P[_0x4a02bf(0x8eb)](_0x560160,_0x3a3544)});return _0x21c01e['status'](0xc9)[_0x4a02bf(0x33d)](_0x15769a);})[_0x5da779(0x239)](this[_0x5da779(0x294)]('editChat'),..._0x17523f,async(_0xc14497,_0x3720d0)=>{const _0x555a4b=_0x5da779;let _0x3de66b=await this[_0x555a4b(0x7f1)]({'request':_0xc14497,'schema':N,'ClassRef':M,'execute':(_0x26cc37,_0x11d1a7)=>P[_0x555a4b(0x368)](_0x26cc37,_0x11d1a7)});return _0x3720d0[_0x555a4b(0x74f)](0xc9)[_0x555a4b(0x33d)](_0x3de66b);})[_0x5da779(0x7d4)](this[_0x5da779(0x294)]('markMessageAsRead'),..._0x17523f,async(_0x492054,_0x13d3ec)=>{const _0x15dbe4=_0x5da779;let _0x353a34=await this[_0x15dbe4(0x7f1)]({'request':_0x492054,'schema':Ga,'ClassRef':et,'execute':(_0x142f7c,_0x442609)=>P[_0x15dbe4(0x3b4)](_0x142f7c,_0x442609)});return _0x13d3ec[_0x15dbe4(0x74f)](0xc9)['json'](_0x353a34);})[_0x5da779(0x7d4)](this[_0x5da779(0x294)](_0x5da779(0x289)),..._0x17523f,async(_0x21305f,_0x30bc2e)=>{const _0x10385d=_0x5da779;let _0x4fde75=await this[_0x10385d(0x7f1)]({'request':_0x21305f,'schema':Wa,'ClassRef':tt,'execute':(_0x10bdb2,_0x33041d)=>P[_0x10385d(0x289)](_0x10bdb2,_0x33041d)});return _0x30bc2e[_0x10385d(0x74f)](0xc9)[_0x10385d(0x33d)](_0x4fde75);})['delete'](this[_0x5da779(0x294)]('deleteMessageForEveryone'),..._0x17523f,async(_0x403afe,_0x24151f)=>{const _0x5782bf=_0x5da779;let _0x48d212=await this['dataValidate']({'request':_0x403afe,'schema':za,'ClassRef':at,'execute':(_0x59a620,_0x225ae7)=>P['deleteMessage'](_0x59a620,_0x225ae7)});return _0x24151f[_0x5782bf(0x74f)](0xc9)['json'](_0x48d212);})[_0x5da779(0x239)](this['routerPath'](_0x5da779(0x36d)),..._0x17523f,async(_0x5f440e,_0x13ffbd)=>{const _0xe271ba=_0x5da779;let _0x5a2126=await this[_0xe271ba(0x7f1)]({'request':_0x5f440e,'schema':Oe,'ClassRef':Ie,'execute':(_0x17a7c9,_0x2d119f)=>P[_0xe271ba(0x3de)](_0x17a7c9,_0x2d119f)});return _0x13ffbd[_0xe271ba(0x74f)](0xc8)[_0xe271ba(0x33d)](_0x5a2126);})[_0x5da779(0x239)](this[_0x5da779(0x294)]('fetchProfile'),..._0x17523f,async(_0x2cc31d,_0x88e9d4)=>{const _0x2fba7b=_0x5da779;let _0x3fd3c1=await this[_0x2fba7b(0x7f1)]({'request':_0x2cc31d,'schema':Ya,'ClassRef':Ie,'execute':(_0x3cbf9d,_0x2781eb)=>P[_0x2fba7b(0x86e)](_0x3cbf9d,_0x2781eb)});return _0x88e9d4[_0x2fba7b(0x74f)](0xc8)[_0x2fba7b(0x33d)](_0x3fd3c1);})[_0x5da779(0x239)](this['routerPath']('findContacts'),..._0x17523f,async(_0x2b1634,_0x2d260c)=>{const _0xd90a7a=_0x5da779;let _0x2de1f1=await this[_0xd90a7a(0x7f1)]({'request':_0x2b1634,'schema':Ha,'ClassRef':ot,'execute':(_0x54c101,_0x55d6e7)=>P['fetchContacts'](_0x54c101,_0x55d6e7)});return _0x2d260c[_0xd90a7a(0x74f)](0xc8)[_0xd90a7a(0x33d)](_0x2de1f1);})['post'](this[_0x5da779(0x294)](_0x5da779(0x2a9)),..._0x17523f,async(_0x47464,_0x2dba8a)=>{const _0x46df98=_0x5da779;let _0x7f6520=await this[_0x46df98(0x7f1)]({'request':_0x47464,'schema':null,'ClassRef':Object,'execute':(_0x334cbd,_0x2fecdc)=>P[_0x46df98(0x2a9)](_0x334cbd,_0x2fecdc)});return _0x2dba8a['status'](0xc9)[_0x46df98(0x33d)](_0x7f6520);})[_0x5da779(0x239)](this['routerPath']('findMessages'),..._0x17523f,async(_0x662795,_0x56326a)=>{const _0x431dd=_0x5da779;let _0xc95241=await this['dataValidate']({'request':_0x662795,'schema':Xa,'ClassRef':He,'execute':(_0x4b3744,_0x4bd2e5)=>P[_0x431dd(0x360)](_0x4b3744,_0x4bd2e5)});return _0x56326a[_0x431dd(0x74f)](0xc8)[_0x431dd(0x33d)](_0xc95241);})[_0x5da779(0x2da)](this[_0x5da779(0x294)](_0x5da779(0x6bc)),..._0x17523f,async(_0xa724fd,_0x19121f)=>{const _0x3933b4=_0x5da779;let _0x2ee74b=await this[_0x3933b4(0x7f1)]({'request':_0xa724fd,'schema':null,'ClassRef':M,'execute':_0x40e7b5=>P['fetchChats'](_0x40e7b5)});return _0x19121f[_0x3933b4(0x74f)](0xc8)[_0x3933b4(0x33d)](_0x2ee74b);})[_0x5da779(0x2da)](this[_0x5da779(0x294)](_0x5da779(0x4d0)),..._0x17523f,async(_0x3da5f3,_0x536906)=>{const _0x572c70=_0x5da779;let _0x513704=await this[_0x572c70(0x7f1)]({'request':_0x3da5f3,'schema':null,'ClassRef':M,'execute':_0x1b80e1=>P['fetchLabels'](_0x1b80e1)});return _0x536906[_0x572c70(0x74f)](0xc8)[_0x572c70(0x33d)](_0x513704);})['put'](this['routerPath'](_0x5da779(0x228)),..._0x17523f,async(_0x2324b7,_0x198980)=>{const _0x524f20=_0x5da779;let _0x33e735=await this[_0x524f20(0x7f1)]({'request':_0x2324b7,'schema':null,'ClassRef':Array,'execute':(_0x483109,_0x363e0b)=>P[_0x524f20(0x228)](_0x483109,_0x363e0b)});return _0x198980[_0x524f20(0x74f)](0xc8)[_0x524f20(0x33d)](_0x33e735);})[_0x5da779(0x2da)](this[_0x5da779(0x294)](_0x5da779(0x261)),..._0x17523f,async(_0x5dac29,_0x19d739)=>{const _0x43a052=_0x5da779;let _0x60a71e=await this[_0x43a052(0x7f1)]({'request':_0x5dac29,'schema':null,'ClassRef':M,'execute':_0x18f704=>P['fetchPrivacySettings'](_0x18f704)});return _0x19d739[_0x43a052(0x74f)](0xc8)[_0x43a052(0x33d)](_0x60a71e);})['put'](this[_0x5da779(0x294)](_0x5da779(0x68f)),..._0x17523f,async(_0x1515ba,_0x5b99e6)=>{const _0xf04892=_0x5da779;let _0xaafba6=await this['dataValidate']({'request':_0x1515ba,'schema':Ba,'ClassRef':st,'execute':(_0xe880d5,_0x3ea46a)=>P[_0xf04892(0x68f)](_0xe880d5,_0x3ea46a)});return _0x5b99e6[_0xf04892(0x74f)](0xc9)[_0xf04892(0x33d)](_0xaafba6);})[_0x5da779(0x239)](this[_0x5da779(0x294)](_0x5da779(0x405)),..._0x17523f,async(_0xb09462,_0x50ea40)=>{const _0x19f62d=_0x5da779;let _0x38e604=await this[_0x19f62d(0x7f1)]({'request':_0xb09462,'schema':Oe,'ClassRef':Ee,'execute':(_0x13c216,_0x14e0d5)=>P[_0x19f62d(0x405)](_0x13c216,_0x14e0d5)});return _0x50ea40[_0x19f62d(0x74f)](0xc8)[_0x19f62d(0x33d)](_0x38e604);})[_0x5da779(0x239)](this[_0x5da779(0x294)](_0x5da779(0x8ed)),..._0x17523f,async(_0x4d3bb2,_0x4ec80c)=>{const _0x262ae1=_0x5da779;let _0x922bee=await this[_0x262ae1(0x7f1)]({'request':_0x4d3bb2,'schema':Ka,'ClassRef':Xe,'execute':(_0x5ed9c0,_0x5de9ea)=>P[_0x262ae1(0x8ed)](_0x5ed9c0,_0x5de9ea)});return _0x4ec80c[_0x262ae1(0x74f)](0xc8)[_0x262ae1(0x33d)](_0x922bee);})[_0x5da779(0x239)](this['routerPath'](_0x5da779(0x4dd)),..._0x17523f,async(_0x404117,_0x1bdef4)=>{const _0x1a34ee=_0x5da779;let _0x1aeaca=await this[_0x1a34ee(0x7f1)]({'request':_0x404117,'schema':Qa,'ClassRef':Ze,'execute':(_0x1935a3,_0x4147d9)=>P[_0x1a34ee(0x4dd)](_0x1935a3,_0x4147d9)});return _0x1bdef4[_0x1a34ee(0x74f)](0xc8)[_0x1a34ee(0x33d)](_0x1aeaca);})['put'](this['routerPath'](_0x5da779(0x2c7)),..._0x17523f,async(_0x279a38,_0xff5442)=>{const _0x3a670d=_0x5da779;let _0x1ba9f2=await this[_0x3a670d(0x7f1)]({'request':_0x279a38,'schema':Oe,'ClassRef':Ee,'execute':(_0x2e7f0e,_0x396804)=>P[_0x3a670d(0x2c7)](_0x2e7f0e,_0x396804)});return _0xff5442[_0x3a670d(0x74f)](0xc8)[_0x3a670d(0x33d)](_0x1ba9f2);})[_0x5da779(0x342)](this[_0x5da779(0x294)]('removeProfilePicture'),..._0x17523f,async(_0x420f40,_0x8007e0)=>{const _0x7719eb=_0x5da779;let _0x8374bf=await this[_0x7719eb(0x7f1)]({'request':_0x420f40,'schema':Oe,'ClassRef':Ee,'execute':(_0x2dc892,_0x52f918)=>P[_0x7719eb(0x6d0)](_0x2dc892,_0x52f918)});return _0x8007e0[_0x7719eb(0x74f)](0xc8)['json'](_0x8374bf);});}},ui=require('express'),lt=class{},ut=class{},dt=class{},pt=class{},ht=class{},gt=class{},ee=class{},De=class{},mt=class extends ee{},ft=class extends ee{},wt=class extends V{constructor(..._0x2eb03c){const _0x45fd39=a0_0x3f93a9;super(),this[_0x45fd39(0x822)]=(0x0,ui[_0x45fd39(0x3f1)])(),this['router'][_0x45fd39(0x239)](this[_0x45fd39(0x294)]('create'),..._0x2eb03c,async(_0x4f344b,_0x3e993d)=>{const _0x515ccf=_0x45fd39;let _0xb393fc=await this[_0x515ccf(0x7f1)]({'request':_0x4f344b,'schema':ei,'ClassRef':lt,'execute':(_0x551466,_0x2aaf26)=>q[_0x515ccf(0x3e0)](_0x551466,_0x2aaf26)});_0x3e993d['status'](0xc9)['json'](_0xb393fc);})[_0x45fd39(0x7d4)](this[_0x45fd39(0x294)]('updateGroupPicture'),..._0x2eb03c,async(_0x26d148,_0x473384)=>{const _0x8a9486=_0x45fd39;let _0x232d65=await this[_0x8a9486(0x213)]({'request':_0x26d148,'schema':ai,'ClassRef':ut,'execute':(_0xaf4e62,_0x2efcde)=>q[_0x8a9486(0x892)](_0xaf4e62,_0x2efcde)});_0x473384[_0x8a9486(0x74f)](0xc9)[_0x8a9486(0x33d)](_0x232d65);})['put'](this[_0x45fd39(0x294)](_0x45fd39(0x56c)),..._0x2eb03c,async(_0x8c78e0,_0xb4855f)=>{const _0x27e6cf=_0x45fd39;let _0x162a13=await this[_0x27e6cf(0x213)]({'request':_0x8c78e0,'schema':ii,'ClassRef':dt,'execute':(_0x232498,_0x1145a4)=>q[_0x27e6cf(0x56c)](_0x232498,_0x1145a4)});_0xb4855f[_0x27e6cf(0x74f)](0xc9)[_0x27e6cf(0x33d)](_0x162a13);})['put'](this[_0x45fd39(0x294)](_0x45fd39(0x307)),..._0x2eb03c,async(_0x1764f8,_0x4f5bb2)=>{const _0x435b31=_0x45fd39;let _0xd0a03a=await this[_0x435b31(0x213)]({'request':_0x1764f8,'schema':oi,'ClassRef':pt,'execute':(_0x3c4518,_0x2d5780)=>q['groupName'](_0x3c4518,_0x2d5780)});_0x4f5bb2[_0x435b31(0x74f)](0xc9)[_0x435b31(0x33d)](_0xd0a03a);})[_0x45fd39(0x7d4)](this[_0x45fd39(0x294)]('groupBetterSetting'),..._0x2eb03c,async(_0x328380,_0x47ed8d)=>{const _0x1d44d4=_0x45fd39;let _0x3e2a0d=await this[_0x1d44d4(0x213)]({'request':_0x328380,'schema':ni,'ClassRef':gt,'execute':(_0x597bb9,_0xbaa134)=>q[_0x1d44d4(0x855)](_0x597bb9,_0xbaa134)});_0x47ed8d[_0x1d44d4(0x74f)](0xc9)[_0x1d44d4(0x33d)](_0x3e2a0d);})[_0x45fd39(0x7d4)](this['routerPath']('groupSetting'),..._0x2eb03c,async(_0x2c202d,_0x39fb3a)=>{const _0x37e5d8=_0x45fd39;let _0x33afa2=await this['groupValidate']({'request':_0x2c202d,'schema':ri,'ClassRef':ht,'execute':(_0x1cbf21,_0x59f93e)=>q[_0x37e5d8(0x204)](_0x1cbf21,_0x59f93e)});_0x39fb3a[_0x37e5d8(0x74f)](0xc9)[_0x37e5d8(0x33d)](_0x33afa2);})[_0x45fd39(0x7d4)](this[_0x45fd39(0x294)](_0x45fd39(0x5d9)),..._0x2eb03c,async(_0x49c651,_0x3593b6)=>{const _0x59773a=_0x45fd39;let _0x57d881=await this[_0x59773a(0x213)]({'request':_0x49c651,'schema':si,'ClassRef':ft,'execute':(_0x19d5d1,_0xbb04)=>q['toggleEphemeral'](_0x19d5d1,_0xbb04)});_0x3593b6[_0x59773a(0x74f)](0xc9)[_0x59773a(0x33d)](_0x57d881);})[_0x45fd39(0x2da)](this[_0x45fd39(0x294)](_0x45fd39(0x68b)),..._0x2eb03c,async(_0x2f65c4,_0x371250)=>{const _0x725480=_0x45fd39;let _0x486363=await this['groupValidate']({'request':_0x2f65c4,'schema':xe,'ClassRef':ee,'execute':(_0x4c617e,_0x483466)=>q['findGroupInfo'](_0x4c617e,_0x483466)});_0x371250[_0x725480(0x74f)](0xc8)[_0x725480(0x33d)](_0x486363);})[_0x45fd39(0x2da)](this[_0x45fd39(0x294)](_0x45fd39(0x6fc)),..._0x2eb03c,async(_0x3a858b,_0x2371cf)=>{const _0x1b2a5f=_0x45fd39;let _0x40073d=await this[_0x1b2a5f(0x7f1)]({'request':_0x3a858b,'schema':N,'ClassRef':M,'execute':_0x3ab98d=>q['findGroups'](_0x3ab98d)});_0x2371cf['status'](0xc8)[_0x1b2a5f(0x33d)](_0x40073d);})[_0x45fd39(0x2da)](this[_0x45fd39(0x294)](_0x45fd39(0x388)),..._0x2eb03c,async(_0x336656,_0x29a361)=>{const _0x2bc1c5=_0x45fd39;let _0xfe3099=await this[_0x2bc1c5(0x213)]({'request':_0x336656,'schema':xe,'ClassRef':ee,'execute':(_0x36cd0e,_0x5c4060)=>q['findParticipants'](_0x36cd0e,_0x5c4060)});_0x29a361['status'](0xc8)['json'](_0xfe3099);})['get'](this['routerPath']('inviteCode'),..._0x2eb03c,async(_0xe7d4e3,_0x204780)=>{const _0xddbd03=_0x45fd39;let _0x38cb56=await this['groupValidate']({'request':_0xe7d4e3,'schema':xe,'ClassRef':ee,'execute':(_0x1f579c,_0x2a57df)=>q[_0xddbd03(0x642)](_0x1f579c,_0x2a57df)});_0x204780['status'](0xc8)[_0xddbd03(0x33d)](_0x38cb56);})[_0x45fd39(0x239)](this[_0x45fd39(0x294)]('inviteCodeDetails'),..._0x2eb03c,async(_0x5b53ec,_0x1bb067)=>{const _0x2e5d6d=_0x45fd39;let _0x2bcb00=await this[_0x2e5d6d(0x52a)]({'request':_0x5b53ec,'schema':Cs,'ClassRef':De,'execute':(_0x2a7343,_0x296114)=>q['groupGetInviteInfo'](_0x2a7343,_0x296114)});_0x1bb067[_0x2e5d6d(0x74f)](0xc9)[_0x2e5d6d(0x33d)](_0x2bcb00);})[_0x45fd39(0x7d4)](this[_0x45fd39(0x294)](_0x45fd39(0x2bd)),..._0x2eb03c,async(_0xd3f262,_0x161313)=>{const _0x1d6dad=_0x45fd39;let _0x56fc0f=await this['joinGroupValidate']({'request':_0xd3f262,'schema':Cs,'ClassRef':De,'execute':(_0x46fcc6,_0x554807)=>q[_0x1d6dad(0x2bd)](_0x46fcc6,_0x554807)});_0x161313[_0x1d6dad(0x74f)](0xc9)[_0x1d6dad(0x33d)](_0x56fc0f);})['put'](this[_0x45fd39(0x294)](_0x45fd39(0x6b9)),..._0x2eb03c,async(_0x402b01,_0x1c4200)=>{const _0x3b9748=_0x45fd39;let _0xd7a8bc=await this['groupValidate']({'request':_0x402b01,'schema':xe,'ClassRef':ee,'execute':(_0x1941a7,_0x2100ea)=>q[_0x3b9748(0x6b9)](_0x1941a7,_0x2100ea)});_0x1c4200[_0x3b9748(0x74f)](0xc9)[_0x3b9748(0x33d)](_0xd7a8bc);})[_0x45fd39(0x7d4)](this['routerPath'](_0x45fd39(0x48b)),..._0x2eb03c,async(_0x3b0b8e,_0x429947)=>{const _0x5ab662=_0x45fd39;let _0x32f3c4=await this[_0x5ab662(0x213)]({'request':_0x3b0b8e,'schema':ti,'ClassRef':mt,'execute':(_0x4eaad2,_0xa038e1)=>q[_0x5ab662(0x409)](_0x4eaad2,_0xa038e1)});_0x429947[_0x5ab662(0x74f)](0xc9)[_0x5ab662(0x33d)](_0x32f3c4);})[_0x45fd39(0x342)](this[_0x45fd39(0x294)](_0x45fd39(0x7ea)),..._0x2eb03c,async(_0x3b0785,_0x62695f)=>{const _0xa9d10b=_0x45fd39;let _0x23cbf0=await this[_0xa9d10b(0x213)]({'request':_0x3b0785,'schema':{},'ClassRef':ee,'execute':(_0x333587,_0x277ac9)=>q[_0xa9d10b(0x7ea)](_0x333587,_0x277ac9)});_0x62695f[_0xa9d10b(0x74f)](0xc8)[_0xa9d10b(0x33d)](_0x23cbf0);});}},di=require(a0_0x3f93a9(0x3f3)),yt=class extends V{constructor(_0x18b4df,..._0x5a8362){const _0x5ed4a7=a0_0x3f93a9;super(),this[_0x5ed4a7(0x4f6)]=_0x18b4df,this[_0x5ed4a7(0x822)]=(0x0,di[_0x5ed4a7(0x3f1)])();let _0x5ca827=_0x18b4df[_0x5ed4a7(0x2da)](_0x5ed4a7(0x508));this['router'][_0x5ed4a7(0x239)](_0x5ed4a7(0x243),..._0x5a8362,async(_0x216fec,_0x3c0a9a)=>{const _0x133752=_0x5ed4a7;let {instanceName:_0x5bc514,apikey:_0x4c5d03,number:_0x42dbf0}=_0x216fec['body'],_0x2ff168=await de[_0x133752(0x2cc)]({'instanceName':_0x5bc514,'apikey':_0x4c5d03,'number':_0x42dbf0});return _0x3c0a9a[_0x133752(0x74f)](0xc9)[_0x133752(0x33d)](_0x2ff168);})['put'](this[_0x5ed4a7(0x294)](_0x5ed4a7(0x4a5)),..._0x5a8362,async(_0x1b2f72,_0x15d49c)=>{const _0x2dc06d=_0x5ed4a7;let _0x19b167=await this['dataValidate']({'request':_0x1b2f72,'schema':N,'ClassRef':M,'execute':_0x37e2d3=>de[_0x2dc06d(0x6ff)](_0x37e2d3)});return _0x15d49c[_0x2dc06d(0x74f)](0xc8)[_0x2dc06d(0x33d)](_0x19b167);})[_0x5ed4a7(0x2da)](this[_0x5ed4a7(0x294)]('connect'),..._0x5a8362,async(_0x54e082,_0x2ac36a)=>{const _0x1fc097=_0x5ed4a7;let _0x250f88=await this['dataValidate']({'request':_0x54e082,'schema':N,'ClassRef':M,'execute':_0xa95672=>de[_0x1fc097(0x7b7)](_0xa95672)});return _0x2ac36a[_0x1fc097(0x74f)](0xc8)[_0x1fc097(0x33d)](_0x250f88);})[_0x5ed4a7(0x2da)](this[_0x5ed4a7(0x294)]('connectionState'),..._0x5a8362,async(_0x799b80,_0x11423a)=>{const _0x43358f=_0x5ed4a7;let _0x1145f2=await this[_0x43358f(0x7f1)]({'request':_0x799b80,'schema':N,'ClassRef':M,'execute':_0x1a1dbb=>de['connectionState'](_0x1a1dbb)});return _0x11423a[_0x43358f(0x74f)](0xc8)[_0x43358f(0x33d)](_0x1145f2);})[_0x5ed4a7(0x2da)](this[_0x5ed4a7(0x294)](_0x5ed4a7(0x900),!0x1),..._0x5a8362,async(_0x363844,_0x4899a0)=>{const _0x21ec2=_0x5ed4a7;let _0x1cde24=await this[_0x21ec2(0x7f1)]({'request':_0x363844,'schema':null,'ClassRef':M,'execute':_0x22b217=>de[_0x21ec2(0x900)](_0x22b217)});return _0x4899a0['status'](0xc8)[_0x21ec2(0x33d)](_0x1cde24);})['delete'](this[_0x5ed4a7(0x294)](_0x5ed4a7(0x2e5)),..._0x5a8362,async(_0x57e395,_0x4a2efe)=>{const _0x565f74=_0x5ed4a7;let _0x2b81e1=await this['dataValidate']({'request':_0x57e395,'schema':N,'ClassRef':M,'execute':_0x263817=>de[_0x565f74(0x2e5)](_0x263817)});return _0x4a2efe[_0x565f74(0x74f)](0xc8)[_0x565f74(0x33d)](_0x2b81e1);})[_0x5ed4a7(0x342)](this[_0x5ed4a7(0x294)](_0x5ed4a7(0x342)),..._0x5a8362,async(_0x532ca6,_0x572a62)=>{const _0x46928e=_0x5ed4a7;let _0x3cbb5b=await this[_0x46928e(0x7f1)]({'request':_0x532ca6,'schema':N,'ClassRef':M,'execute':_0x436ae6=>de[_0x46928e(0x3e9)](_0x436ae6)});return _0x572a62[_0x46928e(0x74f)](0xc8)[_0x46928e(0x33d)](_0x3cbb5b);});}},pi=require('express'),vs=class{},K=class extends vs{},bt=class extends K{},St=class extends K{},Mt=class extends K{},Ct=class extends K{},Pe=class extends K{},Et=class extends K{},vt=class extends K{},Nt=class extends K{},$t=class extends K{},Rt=class{},At=class extends V{constructor(..._0x5e678d){const _0x35dacf=a0_0x3f93a9;super(),this[_0x35dacf(0x822)]=(0x0,pi[_0x35dacf(0x3f1)])(),this[_0x35dacf(0x822)][_0x35dacf(0x239)](this[_0x35dacf(0x294)](_0x35dacf(0x633)),..._0x5e678d,async(_0x119bc0,_0x2f0b36)=>{const _0x42a541=_0x35dacf;let _0x371623=await this[_0x42a541(0x7f1)]({'request':_0x119bc0,'schema':_a,'ClassRef':bt,'execute':(_0x116e7f,_0xe7fbd6)=>W[_0x42a541(0x633)](_0x116e7f,_0xe7fbd6)});return _0x2f0b36['status'](0xc9)['json'](_0x371623);})['post'](this[_0x35dacf(0x294)](_0x35dacf(0x600)),..._0x5e678d,async(_0x4d94e1,_0x267f4d)=>{const _0x325561=_0x35dacf;let _0x251084=await this[_0x325561(0x7f1)]({'request':_0x4d94e1,'schema':Pa,'ClassRef':Pe,'execute':(_0xf9f0ca,_0x172ac7)=>W[_0x325561(0x600)](_0xf9f0ca,_0x172ac7)});return _0x267f4d['status'](0xc9)[_0x325561(0x33d)](_0x251084);})['post'](this[_0x35dacf(0x294)](_0x35dacf(0x77d)),..._0x5e678d,async(_0xe52e5d,_0x15c776)=>{const _0x1a9e9f=_0x35dacf;let _0x33d949=await this[_0x1a9e9f(0x7f1)]({'request':_0xe52e5d,'schema':Fa,'ClassRef':Ct,'execute':(_0x340b61,_0x51212b)=>W[_0x1a9e9f(0x77d)](_0x340b61,_0x51212b)});return _0x15c776[_0x1a9e9f(0x74f)](0xc9)['json'](_0x33d949);})[_0x35dacf(0x239)](this[_0x35dacf(0x294)](_0x35dacf(0x208)),..._0x5e678d,async(_0x22d750,_0xde851a)=>{const _0x2b7a7e=_0x35dacf;let _0x750ecd=await this['dataValidate']({'request':_0x22d750,'schema':ka,'ClassRef':Pe,'execute':(_0x5ae483,_0x32123a)=>W['sendWhatsAppAudio'](_0x5ae483,_0x32123a)});return _0xde851a[_0x2b7a7e(0x74f)](0xc9)[_0x2b7a7e(0x33d)](_0x750ecd);})[_0x35dacf(0x239)](this['routerPath'](_0x35dacf(0x2c5)),..._0x5e678d,async(_0x403fed,_0x160afa)=>{const _0x3b8160=_0x35dacf;let _0x41f5ad=await this[_0x3b8160(0x7f1)]({'request':_0x403fed,'schema':Ua,'ClassRef':vt,'execute':(_0x3a70b9,_0x42f0b2)=>W['sendLocation'](_0x3a70b9,_0x42f0b2)});return _0x160afa[_0x3b8160(0x74f)](0xc9)['json'](_0x41f5ad);})[_0x35dacf(0x239)](this['routerPath'](_0x35dacf(0x8b0)),..._0x5e678d,async(_0x6d814b,_0x1e3d85)=>{const _0x57ce93=_0x35dacf;let _0x7e1bbf=await this[_0x57ce93(0x7f1)]({'request':_0x6d814b,'schema':ja,'ClassRef':Nt,'execute':(_0x5cd58b,_0x5e0847)=>W[_0x57ce93(0x8b0)](_0x5cd58b,_0x5e0847)});return _0x1e3d85[_0x57ce93(0x74f)](0xc9)[_0x57ce93(0x33d)](_0x7e1bbf);})['post'](this[_0x35dacf(0x294)]('sendContact'),..._0x5e678d,async(_0x34c599,_0x510558)=>{const _0x4d0d5c=_0x35dacf;let _0xdfa551=await this['dataValidate']({'request':_0x34c599,'schema':Ja,'ClassRef':$t,'execute':(_0x517b83,_0x44e26b)=>W[_0x4d0d5c(0x732)](_0x517b83,_0x44e26b)});return _0x510558[_0x4d0d5c(0x74f)](0xc9)[_0x4d0d5c(0x33d)](_0xdfa551);})[_0x35dacf(0x239)](this[_0x35dacf(0x294)]('sendReaction'),..._0x5e678d,async(_0x18ac5f,_0x58b4d8)=>{const _0x140c1b=_0x35dacf;let _0x1080c2=await this[_0x140c1b(0x7f1)]({'request':_0x18ac5f,'schema':qa,'ClassRef':Rt,'execute':(_0x278928,_0x1b3dcc)=>W[_0x140c1b(0x341)](_0x278928,_0x1b3dcc)});return _0x58b4d8[_0x140c1b(0x74f)](0xc9)[_0x140c1b(0x33d)](_0x1080c2);})['post'](this[_0x35dacf(0x294)](_0x35dacf(0x3a8)),..._0x5e678d,async(_0x122317,_0x25ba21)=>{const _0x1455f7=_0x35dacf;let _0x10b003=await this['dataValidate']({'request':_0x122317,'schema':La,'ClassRef':Mt,'execute':(_0x57141f,_0x584814)=>W[_0x1455f7(0x3a8)](_0x57141f,_0x584814)});return _0x25ba21[_0x1455f7(0x74f)](0xc9)['json'](_0x10b003);})[_0x35dacf(0x239)](this[_0x35dacf(0x294)](_0x35dacf(0x48e)),..._0x5e678d,async(_0x4c4f21,_0x114226)=>{const _0x24b4f0=_0x35dacf;let _0x2fdb50=await this[_0x24b4f0(0x7f1)]({'request':_0x4c4f21,'schema':Da,'ClassRef':St,'execute':(_0x5c43dc,_0x3f694f)=>W[_0x24b4f0(0x48e)](_0x5c43dc,_0x3f694f)});return _0x114226[_0x24b4f0(0x74f)](0xc9)[_0x24b4f0(0x33d)](_0x2fdb50);})['post'](this[_0x35dacf(0x294)](_0x35dacf(0x858)),..._0x5e678d,async(_0x4e3c38,_0x381a63)=>{const _0x7df5b0=_0x35dacf;let _0xa2ccc8=await this[_0x7df5b0(0x7f1)]({'request':_0x4e3c38,'schema':xa,'ClassRef':Et,'execute':(_0x388f92,_0x11e294)=>W['sendSticker'](_0x388f92,_0x11e294)});return _0x381a63[_0x7df5b0(0x74f)](0xc9)[_0x7df5b0(0x33d)](_0xa2ccc8);});}},hi=require('express'),Tt=class{},It=class extends V{constructor(..._0x4717ec){const _0x56bea3=a0_0x3f93a9;super(),this[_0x56bea3(0x822)]=(0x0,hi['Router'])(),this[_0x56bea3(0x822)][_0x56bea3(0x239)](this[_0x56bea3(0x294)](_0x56bea3(0x40b)),..._0x4717ec,async(_0x353511,_0x2a5625)=>{const _0x458ae1=_0x56bea3;let _0x36fd07=await this[_0x458ae1(0x7f1)]({'request':_0x353511,'schema':ci,'ClassRef':Tt,'execute':(_0x3a61cc,_0x20278b)=>Ns[_0x458ae1(0x5db)](_0x3a61cc,_0x20278b)});_0x2a5625['status'](0xc9)[_0x458ae1(0x33d)](_0x36fd07);})[_0x56bea3(0x2da)](this['routerPath'](_0x56bea3(0x419)),..._0x4717ec,async(_0x178079,_0x1d8ab3)=>{const _0x55163e=_0x56bea3;let _0x4123af=await this[_0x55163e(0x7f1)]({'request':_0x178079,'schema':N,'ClassRef':M,'execute':_0x586e18=>Ns[_0x55163e(0x8cf)](_0x586e18)});_0x1d8ab3[_0x55163e(0x74f)](0xc8)['json'](_0x4123af);});}},gi=require('express'),y=new $(a0_0x3f93a9(0x71d)),_t=class extends V{constructor(..._0xd0ff3f){const _0x39d622=a0_0x3f93a9;super(),this[_0x39d622(0x822)]=(0x0,gi[_0x39d622(0x3f1)])(),this[_0x39d622(0x822)][_0x39d622(0x239)](this['routerPath']('scheduleMessage'),..._0xd0ff3f,async(_0x4ecc25,_0x5d06ff)=>{const _0x2dea51=_0x39d622;let _0x2d6d89=_0x4ecc25[_0x2dea51(0x77f)];y[_0x2dea51(0x5e2)](_0x2dea51(0x4eb)),y[_0x2dea51(0x5e2)](_0x2dea51(0x7d3)),y[_0x2dea51(0x5e2)](_0x4ecc25[_0x2dea51(0x77f)]);let _0x318e22=await this[_0x2dea51(0x7f1)]({'request':_0x4ecc25,'schema':N,'ClassRef':M,'execute':_0x349e05=>_[_0x2dea51(0x27c)](_0x349e05,_0x2d6d89)});_0x5d06ff[_0x2dea51(0x74f)](0xc8)[_0x2dea51(0x33d)](_0x318e22);})[_0x39d622(0x2da)](this[_0x39d622(0x294)](_0x39d622(0x7de)),..._0xd0ff3f,async(_0x5f0481,_0x4d9893)=>{const _0x2e985b=_0x39d622;let _0x5d0fd5=await this[_0x2e985b(0x7f1)]({'request':_0x5f0481,'schema':N,'ClassRef':M,'execute':_0x5286d8=>_['getScheduleMessage'](_0x5286d8)});_0x4d9893['status'](0xc8)[_0x2e985b(0x33d)](_0x5d0fd5);})[_0x39d622(0x342)](this[_0x39d622(0x294)]('deleteDoneMessages'),..._0xd0ff3f,async(_0x5826b3,_0x7e30e6)=>{const _0x26220d=_0x39d622;y[_0x26220d(0x5e2)](_0x26220d(0x47d));let _0x3107e5=await this[_0x26220d(0x7f1)]({'request':_0x5826b3,'schema':N,'ClassRef':M,'execute':_0x1576ea=>_[_0x26220d(0x8c3)](_0x1576ea)});_0x7e30e6[_0x26220d(0x74f)](0xc8)[_0x26220d(0x33d)](_0x3107e5);})[_0x39d622(0x239)](this[_0x39d622(0x294)](_0x39d622(0x707)),..._0xd0ff3f,async(_0x4ead4e,_0x4d77ad)=>{const _0x533dfe=_0x39d622;let _0x216dbf=_0x4ead4e[_0x533dfe(0x77f)];y[_0x533dfe(0x5e2)]('request\x20received\x20in\x20starFlow'),y[_0x533dfe(0x5e2)](_0x533dfe(0x7d3)),y[_0x533dfe(0x5e2)](_0x4ead4e['body']);let _0x4bcf62=await this[_0x533dfe(0x7f1)]({'request':_0x4ead4e,'schema':N,'ClassRef':M,'execute':_0x4a9d79=>_[_0x533dfe(0x707)](_0x4a9d79,_0x216dbf)});_0x4d77ad[_0x533dfe(0x74f)](0xc8)['json'](_0x4bcf62);})['get'](this[_0x39d622(0x294)](_0x39d622(0x373)),..._0xd0ff3f,async(_0x1c5e82,_0x13bb49)=>{const _0x2b3b44=_0x39d622;y['verbose'](_0x2b3b44(0x6ad));let _0x214b4c=await this[_0x2b3b44(0x7f1)]({'request':_0x1c5e82,'schema':N,'ClassRef':M,'execute':_0xcc9522=>_['getAutomateSystem'](_0xcc9522)});_0x13bb49[_0x2b3b44(0x74f)](0xc8)[_0x2b3b44(0x33d)](_0x214b4c);})[_0x39d622(0x2da)](this[_0x39d622(0x294)](_0x39d622(0x35c)),..._0xd0ff3f,async(_0x3f6c99,_0x16b12a)=>{const _0x47f21a=_0x39d622;y[_0x47f21a(0x5e2)]('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0x5906c4=await this['dataValidate']({'request':_0x3f6c99,'schema':N,'ClassRef':M,'execute':_0x50c7f6=>_[_0x47f21a(0x373)](_0x50c7f6)});_0x16b12a['status'](0xc8)['json'](_0x5906c4);})['post'](this[_0x39d622(0x294)](_0x39d622(0x474)),..._0xd0ff3f,async(_0x4b93bf,_0x1b36f2)=>{const _0x5348f8=_0x39d622;let _0x585b2f=_0x4b93bf[_0x5348f8(0x77f)];y[_0x5348f8(0x5e2)](_0x5348f8(0x277)),y['verbose']('request\x20body:\x20'),y[_0x5348f8(0x5e2)](_0x4b93bf[_0x5348f8(0x77f)]);let _0x35b661=await this['dataValidate']({'request':_0x4b93bf,'schema':N,'ClassRef':M,'execute':_0x46dd7f=>_['updateAgent'](_0x46dd7f,_0x585b2f)});_0x1b36f2[_0x5348f8(0x74f)](0xc8)['json'](_0x35b661);})[_0x39d622(0x239)](this[_0x39d622(0x294)]('updateCustomFields'),..._0xd0ff3f,async(_0x3238aa,_0x14770c)=>{const _0x322032=_0x39d622;let _0x48cb8a=_0x3238aa[_0x322032(0x77f)];y[_0x322032(0x5e2)](_0x322032(0x327)),y['verbose']('request\x20body:\x20'),y[_0x322032(0x5e2)](_0x3238aa[_0x322032(0x77f)]);let _0x3fef71=await this['dataValidate']({'request':_0x3238aa,'schema':N,'ClassRef':M,'execute':_0x477716=>_[_0x322032(0x1d9)](_0x477716,_0x48cb8a)});_0x14770c[_0x322032(0x74f)](0xc8)[_0x322032(0x33d)](_0x3fef71);})[_0x39d622(0x239)](this[_0x39d622(0x294)](_0x39d622(0x5e1)),..._0xd0ff3f,async(_0x5a0653,_0x4e2c00)=>{const _0x2d19e3=_0x39d622;let _0x36d91d=_0x5a0653[_0x2d19e3(0x77f)];y[_0x2d19e3(0x5e2)](_0x2d19e3(0x3ad)),y[_0x2d19e3(0x5e2)](_0x2d19e3(0x7d3)),y[_0x2d19e3(0x5e2)](_0x5a0653[_0x2d19e3(0x77f)]);let _0x473a51=await this['dataValidate']({'request':_0x5a0653,'schema':N,'ClassRef':M,'execute':_0x7e4605=>_[_0x2d19e3(0x5e1)](_0x7e4605,_0x36d91d)});_0x4e2c00[_0x2d19e3(0x74f)](0xc8)[_0x2d19e3(0x33d)](_0x473a51);})[_0x39d622(0x239)](this['routerPath']('updateFlowConfig'),..._0xd0ff3f,async(_0x139982,_0x2ea845)=>{const _0x265396=_0x39d622;let _0x3afae6=_0x139982[_0x265396(0x77f)];y[_0x265396(0x5e2)]('request\x20received\x20in\x20updateFlowConfig'),y[_0x265396(0x5e2)](_0x265396(0x7d3)),y[_0x265396(0x5e2)](_0x139982[_0x265396(0x77f)]);let _0x1756a5=await this[_0x265396(0x7f1)]({'request':_0x139982,'schema':N,'ClassRef':M,'execute':_0x58fb53=>_[_0x265396(0x75f)](_0x58fb53,_0x3afae6)});_0x2ea845['status'](0xc8)['json'](_0x1756a5);})[_0x39d622(0x239)](this[_0x39d622(0x294)](_0x39d622(0x92d)),..._0xd0ff3f,async(_0x1898c0,_0x5715af)=>{const _0x2e9e74=_0x39d622;let _0x275a76=_0x1898c0[_0x2e9e74(0x77f)];y['verbose'](_0x2e9e74(0x41a)),y[_0x2e9e74(0x5e2)](_0x2e9e74(0x7d3)),y['verbose'](_0x1898c0[_0x2e9e74(0x77f)]);let _0x27ab71=await this[_0x2e9e74(0x7f1)]({'request':_0x1898c0,'schema':N,'ClassRef':M,'execute':_0x28e220=>_[_0x2e9e74(0x92d)](_0x28e220,_0x275a76)});_0x5715af['status'](0xc8)[_0x2e9e74(0x33d)](_0x27ab71);})[_0x39d622(0x239)](this[_0x39d622(0x294)](_0x39d622(0x6e2)),..._0xd0ff3f,async(_0x265705,_0x18923c)=>{const _0x4734ba=_0x39d622;let _0x4dab48=_0x265705[_0x4734ba(0x77f)];y[_0x4734ba(0x5e2)](_0x4734ba(0x738)),y['verbose'](_0x4734ba(0x7d3)),y[_0x4734ba(0x5e2)](_0x265705['body']);let _0x588612=await this['dataValidate']({'request':_0x265705,'schema':N,'ClassRef':M,'execute':_0x31048d=>_['fetchConversation'](_0x31048d,_0x4dab48)});_0x18923c[_0x4734ba(0x74f)](0xc8)[_0x4734ba(0x33d)](_0x588612);})['post'](this[_0x39d622(0x294)](_0x39d622(0x663)),..._0xd0ff3f,async(_0x30430a,_0x293f6)=>{const _0xb6b2ce=_0x39d622;let _0x517264=_0x30430a['body'];y['verbose']('request\x20received\x20in\x20editConversation'),y[_0xb6b2ce(0x5e2)](_0xb6b2ce(0x7d3)),y[_0xb6b2ce(0x5e2)](_0x30430a[_0xb6b2ce(0x77f)]);let _0x26c859=await this[_0xb6b2ce(0x7f1)]({'request':_0x30430a,'schema':N,'ClassRef':M,'execute':_0x46b982=>_['editConversation'](_0x46b982,_0x517264)});_0x293f6[_0xb6b2ce(0x74f)](0xc8)[_0xb6b2ce(0x33d)](_0x26c859);})[_0x39d622(0x342)](this['routerPath'](_0x39d622(0x6b6)),..._0xd0ff3f,async(_0x443f14,_0xc42962)=>{const _0x430d69=_0x39d622;let _0x4933fa=_0x443f14['body'];y[_0x430d69(0x5e2)](_0x430d69(0x51b)),y[_0x430d69(0x5e2)](_0x430d69(0x7d3)),y[_0x430d69(0x5e2)](_0x443f14[_0x430d69(0x77f)]);let _0x1c6c56=await this[_0x430d69(0x7f1)]({'request':_0x443f14,'schema':N,'ClassRef':M,'execute':_0x6e12d2=>_['deleteConversation'](_0x6e12d2,_0x4933fa)});_0xc42962[_0x430d69(0x74f)](0xc8)['json'](_0x1c6c56);})[_0x39d622(0x239)](this[_0x39d622(0x294)](_0x39d622(0x93b)),..._0xd0ff3f,async(_0x3cd577,_0x4a892b)=>{const _0x57aadb=_0x39d622;let _0x285719=_0x3cd577[_0x57aadb(0x77f)],_0x19177c=_0x3cd577['headers'][_0x57aadb(0x5ec)];y[_0x57aadb(0x5e2)](_0x57aadb(0x69d)),y['verbose'](_0x57aadb(0x7d3)),y[_0x57aadb(0x5e2)](_0x3cd577[_0x57aadb(0x77f)]);let _0x10cc27=await this[_0x57aadb(0x7f1)]({'request':_0x3cd577,'schema':N,'ClassRef':M,'execute':_0x369936=>_['createFlow'](_0x369936,_0x285719,_0x19177c)});_0x4a892b[_0x57aadb(0x74f)](0xc8)[_0x57aadb(0x33d)](_0x10cc27);})[_0x39d622(0x239)](this[_0x39d622(0x294)](_0x39d622(0x241)),..._0xd0ff3f,async(_0x2df7d8,_0x2f5b70)=>{const _0x56195e=_0x39d622;let _0x6e4eae=_0x2df7d8[_0x56195e(0x77f)],_0x4a63f6=_0x2df7d8[_0x56195e(0x472)][_0x56195e(0x5ec)];y[_0x56195e(0x5e2)](_0x56195e(0x61c)),y[_0x56195e(0x5e2)](_0x56195e(0x7d3)),y[_0x56195e(0x5e2)](_0x2df7d8[_0x56195e(0x77f)]),delete _0x6e4eae[_0x56195e(0x793)],delete _0x6e4eae[_0x56195e(0x44a)],delete _0x6e4eae[_0x56195e(0x680)],delete _0x6e4eae['conditions'];let _0x4939d6=await this[_0x56195e(0x7f1)]({'request':_0x2df7d8,'schema':N,'ClassRef':M,'execute':_0x52e3ec=>_[_0x56195e(0x909)](_0x52e3ec,_0x6e4eae,_0x4a63f6)});_0x2f5b70[_0x56195e(0x74f)](0xc8)[_0x56195e(0x33d)](_0x4939d6);})[_0x39d622(0x239)](this[_0x39d622(0x294)](_0x39d622(0x503)),..._0xd0ff3f,async(_0x3b4a99,_0x52785d)=>{const _0x51faaf=_0x39d622;let _0x53dcc1=_0x3b4a99[_0x51faaf(0x77f)];y[_0x51faaf(0x5e2)]('request\x20received\x20in\x20editFlow'),y['verbose'](_0x51faaf(0x7d3)),y[_0x51faaf(0x5e2)](_0x3b4a99[_0x51faaf(0x77f)]);let _0x3390a9=await this[_0x51faaf(0x7f1)]({'request':_0x3b4a99,'schema':N,'ClassRef':M,'execute':_0x4f3c4c=>_[_0x51faaf(0x34a)](_0x4f3c4c,_0x53dcc1)});_0x52785d[_0x51faaf(0x74f)](0xc8)[_0x51faaf(0x33d)](_0x3390a9);})[_0x39d622(0x239)](this[_0x39d622(0x294)](_0x39d622(0x4b9)),..._0xd0ff3f,async(_0x24c09c,_0x150eef)=>{const _0x5e8f52=_0x39d622;let _0x53960f=_0x24c09c[_0x5e8f52(0x77f)];y[_0x5e8f52(0x5e2)](_0x5e8f52(0x61c)),y[_0x5e8f52(0x5e2)](_0x5e8f52(0x7d3)),y[_0x5e8f52(0x5e2)](_0x24c09c[_0x5e8f52(0x77f)]);let _0x254aca=await this[_0x5e8f52(0x7f1)]({'request':_0x24c09c,'schema':N,'ClassRef':M,'execute':_0x654c73=>_[_0x5e8f52(0x2d9)](_0x654c73,_0x53960f)});_0x150eef['status'](0xc8)['json'](_0x254aca);})[_0x39d622(0x239)](this[_0x39d622(0x294)](_0x39d622(0x3a9)),..._0xd0ff3f,async(_0x5561d3,_0x160cd8)=>{const _0x36d48e=_0x39d622;let _0x23c872=_0x5561d3[_0x36d48e(0x77f)];y[_0x36d48e(0x5e2)]('request\x20received\x20in\x20editFlow'),y[_0x36d48e(0x5e2)]('request\x20body:\x20'),y['verbose'](_0x5561d3['body']);let _0xf332fb=await this[_0x36d48e(0x7f1)]({'request':_0x5561d3,'schema':N,'ClassRef':M,'execute':_0x3eeea8=>_[_0x36d48e(0x6f7)](_0x3eeea8,_0x23c872)});_0x160cd8[_0x36d48e(0x74f)](0xc8)[_0x36d48e(0x33d)](_0xf332fb);})[_0x39d622(0x239)](this['routerPath']('editflowgroup'),..._0xd0ff3f,async(_0x1cc204,_0x490683)=>{const _0x5a6349=_0x39d622;let _0x3c336=_0x1cc204[_0x5a6349(0x77f)];y[_0x5a6349(0x5e2)](_0x5a6349(0x38f)),y[_0x5a6349(0x5e2)](_0x5a6349(0x7d3)),y['verbose'](_0x1cc204[_0x5a6349(0x77f)]);let _0x25153a=await this['dataValidate']({'request':_0x1cc204,'schema':N,'ClassRef':M,'execute':_0x5a5aad=>_[_0x5a6349(0x2fe)](_0x5a5aad,_0x3c336)});_0x490683[_0x5a6349(0x74f)](0xc8)[_0x5a6349(0x33d)](_0x25153a);})[_0x39d622(0x239)](this[_0x39d622(0x294)]('editflowcondition'),..._0xd0ff3f,async(_0x54205f,_0x5d74f4)=>{const _0x570baa=_0x39d622;let _0xab1752=_0x54205f[_0x570baa(0x77f)];y[_0x570baa(0x5e2)](_0x570baa(0x3bc)),y[_0x570baa(0x5e2)]('request\x20body:\x20'),y[_0x570baa(0x5e2)](_0x54205f[_0x570baa(0x77f)]);let _0x4bfbf3=await this[_0x570baa(0x7f1)]({'request':_0x54205f,'schema':N,'ClassRef':M,'execute':_0x3e78ca=>_[_0x570baa(0x837)](_0x3e78ca,_0xab1752)});_0x5d74f4[_0x570baa(0x74f)](0xc8)[_0x570baa(0x33d)](_0x4bfbf3);})['post'](this[_0x39d622(0x294)](_0x39d622(0x87c)),..._0xd0ff3f,async(_0x5eb780,_0x32f4ce)=>{const _0x544c74=_0x39d622;let _0x33f8ce=_0x5eb780['body'];y[_0x544c74(0x5e2)](_0x544c74(0x743)),y[_0x544c74(0x5e2)](_0x544c74(0x7d3)),y[_0x544c74(0x5e2)](_0x5eb780[_0x544c74(0x77f)]);let _0x363fdd=await this['dataValidate']({'request':_0x5eb780,'schema':N,'ClassRef':M,'execute':_0xc8087c=>_[_0x544c74(0x7f6)](_0xc8087c,_0x33f8ce)});_0x32f4ce[_0x544c74(0x74f)](0xc8)[_0x544c74(0x33d)](_0x363fdd);})[_0x39d622(0x239)](this[_0x39d622(0x294)](_0x39d622(0x885)),..._0xd0ff3f,async(_0x312522,_0x50b2c5)=>{const _0x1af276=_0x39d622;let _0xf8ef75=_0x312522[_0x1af276(0x77f)];y[_0x1af276(0x5e2)](_0x1af276(0x77b)),y[_0x1af276(0x5e2)](_0x1af276(0x7d3)),y['verbose'](_0x312522['body']);let _0x5480ed=await this[_0x1af276(0x7f1)]({'request':_0x312522,'schema':N,'ClassRef':M,'execute':_0x20c048=>_[_0x1af276(0x415)](_0x20c048,_0xf8ef75)});_0x50b2c5[_0x1af276(0x74f)](0xc8)[_0x1af276(0x33d)](_0x5480ed);})['delete'](this[_0x39d622(0x294)]('deleteflow'),..._0xd0ff3f,async(_0x2cfa4e,_0x193883)=>{const _0x180802=_0x39d622;let _0x2a760e=_0x2cfa4e['body'];y[_0x180802(0x5e2)](_0x180802(0x7af)),y['verbose']('request\x20body:\x20'),y[_0x180802(0x5e2)](_0x2cfa4e[_0x180802(0x77f)]);let _0x479b70=await this[_0x180802(0x7f1)]({'request':_0x2cfa4e,'schema':N,'ClassRef':M,'execute':_0x245e2d=>_[_0x180802(0x6c7)](_0x245e2d,_0x2a760e)});_0x193883['status'](0xc8)[_0x180802(0x33d)](_0x479b70);})['get'](this['routerPath'](_0x39d622(0x702)),..._0xd0ff3f,async(_0x366d4a,_0xc0c146)=>{const _0x263352=_0x39d622;y[_0x263352(0x5e2)](_0x263352(0x251));let _0x385a66=await this[_0x263352(0x7f1)]({'request':_0x366d4a,'schema':N,'ClassRef':M,'execute':_0xc0e0b3=>_[_0x263352(0x737)](_0xc0e0b3)});_0xc0c146[_0x263352(0x74f)](0xc8)[_0x263352(0x33d)](_0x385a66);});}},yi=T(require('path')),te={};function mi(_0x4f1756,_0x23d16c,_0x37cd81,_0x31bc00){te[_0x4f1756]||(te[_0x4f1756]={}),te[_0x4f1756][_0x23d16c]={'id':_0x23d16c,'response':_0x37cd81,'events':_0x31bc00};}function fi(_0x157096,_0x2b1feb){!te[_0x157096]||!te[_0x157096][_0x2b1feb]||delete te[_0x157096][_0x2b1feb];}function F(_0x3d2b8f,_0x4bdeda,_0x11b942){const _0x52141c=a0_0x3f93a9;if(!te[_0x3d2b8f])return;let _0xc2f562='data:\x20'+JSON[_0x52141c(0x684)](_0x11b942)+'\x0a\x0a';Object['values'](te[_0x3d2b8f])[_0x52141c(0x3c9)](_0x5ca323=>{const _0x325ca7=_0x52141c;_0x5ca323[_0x325ca7(0x223)][_0x325ca7(0x8dc)](_0x4bdeda)&&_0x5ca323['response']['write'](_0xc2f562);});}function wi(){const _0x5b8138=a0_0x3f93a9;let _0x42765e={};for(let _0x39310d in te)_0x42765e[_0x39310d]=Object[_0x5b8138(0x3e1)](te[_0x39310d])[_0x5b8138(0x3d6)](_0x49bef4=>({'id':_0x49bef4['id'],'events':_0x49bef4[_0x5b8138(0x223)]}));return _0x42765e;}var bi=require('uuid'),Rs=require(a0_0x3f93a9(0x5bc)),$s=class{},No=new Rs['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),$o=new Rs[(a0_0x3f93a9(0x93f))]({'_id':{'type':String,'default':a0_0x3f93a9(0x825)},'WebhookGlobal':{'type':No},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ve=A?.[a0_0x3f93a9(0x597)]($s['name'],$o,a0_0x3f93a9(0x50d)),Ro=yi['default'][a0_0x3f93a9(0x6ef)](__dirname,a0_0x3f93a9(0x699)),ke=(0x0,Ot[a0_0x3f93a9(0x3f1)])(),Ao=S[a0_0x3f93a9(0x2da)](a0_0x3f93a9(0x508))['TYPE'],oe=[Na,$a,Ta[Ao]];ke['use']('/media',Ot['default'][a0_0x3f93a9(0x417)](Ro))[a0_0x3f93a9(0x2da)]('/events/:instance',async(_0x1479f4,_0xdb11db)=>{const _0xc6cded=a0_0x3f93a9;console[_0xc6cded(0x236)]('bateu\x20events');let _0x3bf8d1=_0x1479f4[_0xc6cded(0x573)][_0xc6cded(0x7ed)],_0x39ef69=(_0x1479f4[_0xc6cded(0x671)]['events']||'')[_0xc6cded(0x6a4)](','),_0xe94cff=(0x0,bi['v4'])();console[_0xc6cded(0x236)]('Instance\x20ID:',_0x3bf8d1),console[_0xc6cded(0x236)](_0xc6cded(0x71f),_0x39ef69);let _0x31f849=S[_0xc6cded(0x2da)](_0xc6cded(0x508))[_0xc6cded(0x467)],_0x6f426b=_0x1479f4[_0xc6cded(0x671)][_0xc6cded(0x5ec)];if(console[_0xc6cded(0x236)](_0xc6cded(0x678),_0x6f426b),_0x31f849[_0xc6cded(0x38e)]!==_0x6f426b){console[_0xc6cded(0x236)](_0xc6cded(0x2cd));try{let _0x3b14ee=await fe['auth'][_0xc6cded(0x419)](_0x3bf8d1);if(console[_0xc6cded(0x236)](_0xc6cded(0x422),_0x3b14ee),!_0x3b14ee||_0x3b14ee[_0xc6cded(0x5ec)]!==_0x6f426b)return console[_0xc6cded(0x236)](_0xc6cded(0x8d2)),_0xdb11db['status'](0x191)[_0xc6cded(0x499)](_0xc6cded(0x4f3));}catch(_0x14fe9f){return console[_0xc6cded(0x70d)](_0xc6cded(0x551),_0x14fe9f),_0xdb11db[_0xc6cded(0x74f)](0x191)['send']('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await _e(_0x3bf8d1))return _0xdb11db[_0xc6cded(0x74f)](0x194)[_0xc6cded(0x499)](_0xc6cded(0x3d0));_0xdb11db[_0xc6cded(0x8ab)](_0xc6cded(0x23d),_0xc6cded(0x5c1)),_0xdb11db['setHeader'](_0xc6cded(0x42b),_0xc6cded(0x5fd)),_0xdb11db[_0xc6cded(0x8ab)](_0xc6cded(0x512),'keep-alive'),_0xdb11db['flushHeaders']();let _0x51bc08='data:\x20'+JSON[_0xc6cded(0x684)]({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0xdb11db[_0xc6cded(0x28e)](_0x51bc08),mi(_0x3bf8d1,_0xe94cff,_0xdb11db,_0x39ef69),_0x1479f4['on']('close',()=>{console['log']('Connection\x20closed\x20for\x20instance:\x20'+_0x3bf8d1),fi(_0x3bf8d1,_0xe94cff);});}),ke[a0_0x3f93a9(0x239)](a0_0x3f93a9(0x4bd),async(_0x27f09a,_0x46d8cd)=>{const _0x17fb76=a0_0x3f93a9;console[_0x17fb76(0x236)]('iniciando\x20fluxo\x20router');let _0x2d3cba=_0x27f09a[_0x17fb76(0x573)][_0x17fb76(0x7ed)],_0x30a0cb=_0x27f09a[_0x17fb76(0x573)][_0x17fb76(0x5ab)],_0x25c545=_0x27f09a[_0x17fb76(0x671)]['remoteJid']||'',_0x1fb76d=_0x27f09a[_0x17fb76(0x77f)];console[_0x17fb76(0x236)](_0x17fb76(0x576),_0x2d3cba),console[_0x17fb76(0x236)](_0x17fb76(0x8d0),_0x30a0cb),console[_0x17fb76(0x236)](_0x17fb76(0x25a),_0x25c545),console['log']('Request\x20Body:',_0x1fb76d);try{if(!await _e(_0x2d3cba))return _0x46d8cd[_0x17fb76(0x74f)](0x194)[_0x17fb76(0x499)](_0x17fb76(0x3d0));let _0x1463e7=await _['startFlowWebhook'](_0x2d3cba,_0x30a0cb,_0x25c545,_0x1fb76d);_0x46d8cd[_0x17fb76(0x499)](_0x1463e7);}catch(_0x26c240){console[_0x17fb76(0x70d)](_0x26c240),_0x46d8cd[_0x17fb76(0x74f)](0x1f4)[_0x17fb76(0x499)](_0x17fb76(0x219));}}),ke[a0_0x3f93a9(0x2da)](a0_0x3f93a9(0x23c),(_0x1ef4d9,_0x26e56a)=>{const _0x9c9e99=a0_0x3f93a9;let _0x13b755=wi();_0x26e56a[_0x9c9e99(0x33d)](_0x13b755);})[a0_0x3f93a9(0x2da)]('/',(_0xa517ad,_0x2cd22a)=>{const _0x1650f4=a0_0x3f93a9;let _0x2e76c7=S[_0x1650f4(0x2da)]('SERVER')[_0x1650f4(0x36e)];if(_0x2e76c7){let _0x23e2ea=encodeURIComponent(''+_0x2e76c7);_0x2cd22a[_0x1650f4(0x4f0)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x23e2ea);return;}let _0x308be5=S[_0x1650f4(0x2da)](_0x1650f4(0x39e)),_0xa33431=_0x308be5&&_0x308be5[_0x1650f4(0x7e8)]['split']('/')[0x4];if(_0xa33431){let _0x11fb90=encodeURIComponent(_0x1650f4(0x55d)+_0xa33431);_0x2cd22a['redirect']('https://uazapi-plugin.bubbleapps.io/?url='+_0x11fb90);}else _0x2cd22a[_0x1650f4(0x4f0)]('https://uazapi-plugin.bubbleapps.io/');})[a0_0x3f93a9(0x7d4)](a0_0x3f93a9(0x27f),...oe,async(_0x2ea2f7,_0x41c9b5)=>{const _0x4d1118=a0_0x3f93a9;try{console[_0x4d1118(0x236)](_0x4d1118(0x483)),_0x41c9b5[_0x4d1118(0x74f)](0xc8)[_0x4d1118(0x33d)]({'message':_0x4d1118(0x85d)}),_0x41c9b5['on'](_0x4d1118(0x750),()=>process[_0x4d1118(0x8cc)](0x0));}catch(_0x29a6b1){console[_0x4d1118(0x70d)](_0x4d1118(0x700),_0x29a6b1),_0x41c9b5[_0x4d1118(0x74f)](0x1f4)[_0x4d1118(0x33d)]({'message':_0x4d1118(0x6a2)});}})['put']('/config',...oe,async(_0x413450,_0x2ec85a)=>{const _0x161eee=a0_0x3f93a9;try{let _0x40faa6=_0x413450[_0x161eee(0x77f)];await ve[_0x161eee(0x349)]({},{'$set':_0x40faa6},{'upsert':!0x0});let _0x42c6d5=await ve[_0x161eee(0x39a)]();_0x2ec85a[_0x161eee(0x33d)](_0x42c6d5);}catch(_0x59849d){_0x2ec85a[_0x161eee(0x74f)](0x190)[_0x161eee(0x499)](_0x59849d[_0x161eee(0x7a3)]);}})[a0_0x3f93a9(0x2da)]('/config',...oe,async(_0x368908,_0x4772c9)=>{const _0x58765d=a0_0x3f93a9;try{let _0x4dc927=await ve[_0x58765d(0x39a)]();if(!_0x4dc927)return _0x4772c9['json']({});_0x4772c9[_0x58765d(0x33d)](_0x4dc927);}catch(_0xba622b){_0x4772c9['status'](0x1f4)[_0x58765d(0x499)](_0xba622b[_0x58765d(0x7a3)]);}})[a0_0x3f93a9(0x3af)](a0_0x3f93a9(0x4cf),new yt(S,...oe)['router'])['use'](a0_0x3f93a9(0x484),new At(...oe)[a0_0x3f93a9(0x822)])[a0_0x3f93a9(0x3af)](a0_0x3f93a9(0x92f),new ct(...oe)[a0_0x3f93a9(0x822)])[a0_0x3f93a9(0x3af)](a0_0x3f93a9(0x3b9),new wt(...oe)[a0_0x3f93a9(0x822)])[a0_0x3f93a9(0x3af)](a0_0x3f93a9(0x43f),new It(...oe)[a0_0x3f93a9(0x822)])[a0_0x3f93a9(0x3af)]('/automate',new _t(...oe)['router']);var m=class{constructor(..._0x3759ec){const _0x576cfb=a0_0x3f93a9;throw{'status':0x190,'error':_0x576cfb(0x358),'message':_0x3759ec['length']>0x0?_0x3759ec:void 0x0};}},ae=class{constructor(..._0x5622ff){const _0x1ba3ef=a0_0x3f93a9;throw{'status':0x191,'error':_0x1ba3ef(0x3e2),'message':_0x5622ff['length']>0x0?_0x5622ff:void 0x0};}},X=class{constructor(..._0x53c311){const _0x441320=a0_0x3f93a9;throw{'status':0x193,'error':'Forbidden','message':_0x53c311[_0x441320(0x40e)]>0x0?_0x53c311:void 0x0};}},U=class{constructor(..._0x505d3d){const _0x29cbca=a0_0x3f93a9;throw{'status':0x194,'error':_0x29cbca(0x835),'message':_0x505d3d[_0x29cbca(0x40e)]>0x0?_0x505d3d:void 0x0};}},x=class{constructor(..._0xa00967){const _0x16a7f2=a0_0x3f93a9;throw{'status':0x1f4,'error':_0x16a7f2(0x89d),'message':_0xa00967[_0x16a7f2(0x40e)]>0x0?_0xa00967:void 0x0};}},we=require('@whiskeysockets/baileys');async function As(_0x210eea){const _0x57fbf7=a0_0x3f93a9;let _0x544aee=new $(As[_0x57fbf7(0x537)]),_0x5f07ad=A['getClient'](),_0x991996=_0x5f07ad['db'](S[_0x57fbf7(0x2da)](_0x57fbf7(0x72b))[_0x57fbf7(0x626)][_0x57fbf7(0x520)]+_0x57fbf7(0x90f))['collection'](_0x210eea),_0x4142f0=async(_0xcce370,_0x337980)=>{const _0x586bcc=_0x57fbf7;try{return await _0x5f07ad[_0x586bcc(0x2b1)](),await _0x991996[_0x586bcc(0x564)]({'_id':_0x337980},JSON['parse'](JSON['stringify'](_0xcce370,we['BufferJSON'][_0x586bcc(0x6e8)])),{'upsert':!0x0});}catch{}},_0xa22fb=async _0x275c26=>{const _0x405361=_0x57fbf7;try{await _0x5f07ad[_0x405361(0x2b1)]();let _0x1c49e3=await _0x991996['findOne']({'_id':_0x275c26}),_0x3bb517=JSON[_0x405361(0x684)](_0x1c49e3);return JSON[_0x405361(0x4a9)](_0x3bb517,we['BufferJSON'][_0x405361(0x2db)]);}catch{}},_0x1ceb05=async _0x13b16d=>{const _0x3f85f5=_0x57fbf7;try{return await _0x5f07ad[_0x3f85f5(0x2b1)](),await _0x991996[_0x3f85f5(0x250)]({'_id':_0x13b16d});}catch{}},_0x20b767=await _0xa22fb('creds')||(0x0,we['initAuthCreds'])();return{'state':{'creds':_0x20b767,'keys':{'get':async(_0x387cad,_0x21655c)=>{const _0x3550d2=_0x57fbf7;let _0x511d03={};return await Promise[_0x3550d2(0x49a)](_0x21655c['map'](async _0x2527ac=>{const _0x1635d0=_0x3550d2;let _0x1c2a94=await _0xa22fb(_0x387cad+'-'+_0x2527ac);_0x387cad===_0x1635d0(0x8ec)&&_0x1c2a94&&(_0x1c2a94=we[_0x1635d0(0x820)][_0x1635d0(0x6f9)]['AppStateSyncKeyData'][_0x1635d0(0x92e)](_0x1c2a94)),_0x511d03[_0x2527ac]=_0x1c2a94;})),_0x511d03;},'set':async _0x5c3172=>{const _0x72256d=_0x57fbf7;let _0x2684f5=[];for(let _0x21d4e0 in _0x5c3172)for(let _0x152c17 in _0x5c3172[_0x21d4e0]){let _0x543b45=_0x5c3172[_0x21d4e0][_0x152c17],_0x2bdff0=_0x21d4e0+'-'+_0x152c17;_0x2684f5[_0x72256d(0x6f2)](_0x543b45?_0x4142f0(_0x543b45,_0x2bdff0):_0x1ceb05(_0x2bdff0));}await Promise[_0x72256d(0x49a)](_0x2684f5);}}},'saveCreds':async()=>_0x4142f0(_0x20b767,'creds')};}var xs=T(require(a0_0x3f93a9(0x284))),Ds=T(require(a0_0x3f93a9(0x4cb))),Pt=require(a0_0x3f93a9(0x4be)),Si=require('@redis/client'),Dt=require(a0_0x3f93a9(0x4be)),xt;function To(_0x344972){const _0x2fdddc=a0_0x3f93a9;return xt||(xt=(0x0,Si[_0x2fdddc(0x8f2)])({'url':_0x344972[_0x2fdddc(0x5e4)]}),xt[_0x2fdddc(0x2b1)]()),xt;}var pe=class u{constructor(_0x1184b0,_0x2a53a1){const _0x3e2d83=a0_0x3f93a9;this[_0x3e2d83(0x5e8)]=_0x1184b0,this[_0x3e2d83(0x5cf)]=_0x2a53a1,this[_0x3e2d83(0x458)]=new $(u[_0x3e2d83(0x537)]),this['client']=To(_0x1184b0);}set[a0_0x3f93a9(0x265)](_0x17fd4c){this['instanceName']=_0x17fd4c;}async['instanceKeys'](){const _0x5670e2=a0_0x3f93a9;try{return await this[_0x5670e2(0x2e8)]['sendCommand']([_0x5670e2(0x1fa),this[_0x5670e2(0x5e8)]['PREFIX_KEY']+':*']);}catch(_0x40c2d7){this[_0x5670e2(0x458)][_0x5670e2(0x70d)](_0x40c2d7);}}async['writeData'](_0x557c69,_0x1e3043){const _0x26c3b4=a0_0x3f93a9;try{let _0x34fa23=JSON[_0x26c3b4(0x684)](_0x1e3043,Dt[_0x26c3b4(0x771)][_0x26c3b4(0x6e8)]);return await this[_0x26c3b4(0x2e8)][_0x26c3b4(0x883)](this[_0x26c3b4(0x5e8)][_0x26c3b4(0x479)]+':'+this[_0x26c3b4(0x5cf)],_0x557c69,_0x34fa23);}catch(_0x5332ad){this[_0x26c3b4(0x458)][_0x26c3b4(0x70d)](_0x5332ad);}}async[a0_0x3f93a9(0x71e)](){const _0x53e3f0=a0_0x3f93a9;try{let _0x532714=await this[_0x53e3f0(0x2e8)][_0x53e3f0(0x237)](this['redisEnv'][_0x53e3f0(0x479)]+':'+this[_0x53e3f0(0x5cf)]);if(_0x532714){for(let _0x341b8e in _0x532714)Object[_0x53e3f0(0x5dd)][_0x53e3f0(0x4e1)][_0x53e3f0(0x722)](_0x532714,_0x341b8e)&&(_0x532714[_0x341b8e]=JSON[_0x53e3f0(0x4a9)](_0x532714[_0x341b8e],Dt[_0x53e3f0(0x771)][_0x53e3f0(0x2db)]));return _0x532714;}}catch(_0x46e4d8){this[_0x53e3f0(0x458)]['error'](_0x46e4d8);}}async['readData'](_0xcd5143){const _0x2a58ee=a0_0x3f93a9;try{let _0x2b29fb=await this[_0x2a58ee(0x2e8)][_0x2a58ee(0x543)](this[_0x2a58ee(0x5e8)][_0x2a58ee(0x479)]+':'+this[_0x2a58ee(0x5cf)],_0xcd5143);if(_0x2b29fb)return JSON['parse'](_0x2b29fb,Dt[_0x2a58ee(0x771)][_0x2a58ee(0x2db)]);}catch(_0x939f01){this[_0x2a58ee(0x458)][_0x2a58ee(0x70d)](_0x939f01);}}async[a0_0x3f93a9(0x4c5)](_0x24484c){const _0x371497=a0_0x3f93a9;try{return await this[_0x371497(0x2e8)]['hDel'](this[_0x371497(0x5e8)]['PREFIX_KEY']+':'+this['instanceName'],_0x24484c);}catch(_0x1f88fe){this['logger'][_0x371497(0x70d)](_0x1f88fe);}}async[a0_0x3f93a9(0x628)](_0x4a4e78){const _0x29aecb=a0_0x3f93a9;try{return await this[_0x29aecb(0x2e8)][_0x29aecb(0x4e7)](_0x4a4e78||this[_0x29aecb(0x5e8)][_0x29aecb(0x479)]+':'+this[_0x29aecb(0x5cf)]);}catch(_0x293fe2){this[_0x29aecb(0x458)][_0x29aecb(0x70d)](_0x293fe2);}}};async function Ts(_0x50a3f6,_0x56d33d){const _0x559bf7=a0_0x3f93a9;let _0x3549fc=new $(Ts[_0x559bf7(0x537)]),_0x281afb=new pe(_0x50a3f6,_0x56d33d),_0x16a741=async(_0x177ec4,_0x3866a7)=>{const _0x4ef8f9=_0x559bf7;try{return await _0x281afb[_0x4ef8f9(0x55c)](_0x3866a7,_0x177ec4);}catch(_0xbf2ddc){return _0x3549fc['error']({'localError':'writeData','error':_0xbf2ddc});}},_0x3559ae=async _0x557d94=>{const _0x5d4b19=_0x559bf7;try{return await _0x281afb[_0x5d4b19(0x404)](_0x557d94);}catch(_0x31edba){_0x3549fc[_0x5d4b19(0x70d)]({'readData':_0x5d4b19(0x55c),'error':_0x31edba});return;}},_0x21ba8f=async _0x54fcd6=>{const _0x3b020a=_0x559bf7;try{return await _0x281afb[_0x3b020a(0x4c5)](_0x54fcd6);}catch(_0x22bbb2){_0x3549fc[_0x3b020a(0x70d)]({'readData':_0x3b020a(0x4c5),'error':_0x22bbb2});}},_0x1d3abe=await _0x3559ae(_0x559bf7(0x6ec))||(0x0,Pt[_0x559bf7(0x8c7)])();return{'state':{'creds':_0x1d3abe,'keys':{'get':async(_0x51a011,_0x399d6a)=>{const _0x47d926=_0x559bf7;let _0x3b0da1={};return await Promise[_0x47d926(0x49a)](_0x399d6a['map'](async _0x20347a=>{const _0x362c94=_0x47d926;let _0x20a26f=await _0x3559ae(_0x51a011+'-'+_0x20347a);_0x51a011===_0x362c94(0x8ec)&&_0x20a26f&&(_0x20a26f=Pt['proto'][_0x362c94(0x6f9)][_0x362c94(0x87b)][_0x362c94(0x92e)](_0x20a26f)),_0x3b0da1[_0x20347a]=_0x20a26f;})),_0x3b0da1;},'set':async _0x443c3f=>{const _0x4aaf59=_0x559bf7;let _0x21c46a=[];for(let _0xfc46db in _0x443c3f)for(let _0x2c74cf in _0x443c3f[_0xfc46db]){let _0x4ea817=_0x443c3f[_0xfc46db][_0x2c74cf],_0x52f2ee=_0xfc46db+'-'+_0x2c74cf;_0x21c46a[_0x4aaf59(0x6f2)](_0x4ea817?await _0x16a741(_0x4ea817,_0x52f2ee):await _0x21ba8f(_0x52f2ee));}await Promise[_0x4aaf59(0x49a)](_0x21c46a);}}},'saveCreds':async()=>await _0x16a741(_0x1d3abe,_0x559bf7(0x6ec))};}var k=T(require('fs')),Y=require(a0_0x3f93a9(0x30f)),Ut=T(require(a0_0x3f93a9(0x622))),re=require('crypto'),Mi=require('child_process'),Ci=require(a0_0x3f93a9(0x310)),Ei=T(require(a0_0x3f93a9(0x25e))),Ne=class extends O{constructor(_0x6e979b,_0x117cb1,_0x4f7241){const _0x185f44=a0_0x3f93a9;super(_0x117cb1),this['cacheInstanceModel']=_0x6e979b,this[_0x185f44(0x4f6)]=_0x117cb1,this['dbConnection']=_0x4f7241;}async[a0_0x3f93a9(0x386)](_0x2019d1,_0x42d283){const _0x1bf989=a0_0x3f93a9;try{if(this[_0x1bf989(0x849)][_0x1bf989(0x218)]){console[_0x1bf989(0x236)]('Creating\x20or\x20updating\x20instance\x20with\x20id:\x20'+_0x42d283+'\x20and\x20data:',_0x2019d1);let _0x1f678b=await this[_0x1bf989(0x66b)][_0x1bf989(0x32c)]({'_id':_0x42d283},{'$set':_0x2019d1},{'new':!0x0,'upsert':!0x0});return console[_0x1bf989(0x236)](_0x1bf989(0x381),_0x1f678b),_0x1f678b;}}catch(_0x36b93e){throw console['error'](_0x1bf989(0x4cd),_0x36b93e),_0x36b93e;}return null;}async['deleteOne'](_0x3ddd06){const _0x15896a=a0_0x3f93a9;try{let _0x13a217=I(_0x3ddd06[_0x15896a(0x5b5)]);return{'deletedCount':(await this[_0x15896a(0x66b)][_0x15896a(0x250)](_0x13a217))[_0x15896a(0x2e7)]};}catch(_0x172c3b){return{'error':_0x172c3b?.['toString']()};}}async['findOne'](_0x30f4c6){const _0x512812=a0_0x3f93a9;try{let _0x2c5340=I(_0x30f4c6[_0x512812(0x5b5)]);return await this[_0x512812(0x66b)][_0x512812(0x39a)](_0x2c5340)[_0x512812(0x4b3)]();}catch{return null;}}},kt=(0x0,Ci[a0_0x3f93a9(0x7bb)])(Mi[a0_0x3f93a9(0x61d)]),Io=S[a0_0x3f93a9(0x2da)](a0_0x3f93a9(0x4bf)),Is=class{constructor(){const _0xae0619=a0_0x3f93a9;this[_0xae0619(0x59d)]=new Ne(Be,S),(!this['ipv6Prefix']||!this[_0xae0619(0x8c1)])&&Io&&this[_0xae0619(0x529)]()['then'](()=>{const _0x4edb65=_0xae0619;console[_0x4edb65(0x236)](_0x4edb65(0x3d2)+this[_0x4edb65(0x35a)]),console[_0x4edb65(0x236)](_0x4edb65(0x8fd)+this[_0x4edb65(0x8c1)]);})['catch'](_0x5a8632=>{const _0xdbf29f=_0xae0619;console[_0xdbf29f(0x70d)](_0xdbf29f(0x8c8)+_0x5a8632[_0xdbf29f(0x7a3)]);});}async[a0_0x3f93a9(0x529)](){const _0xdcb41e=a0_0x3f93a9;try{let {stdout:_0x343d62}=await kt(_0xdcb41e(0x8e7));console[_0xdcb41e(0x236)](_0xdcb41e(0x4c2)+_0x343d62);let _0x15a466=_0x343d62[_0xdcb41e(0x6a4)]('\x0a')['map'](_0x58a5d6=>_0x58a5d6[_0xdcb41e(0x6a4)]('\x20')[0x0])[_0xdcb41e(0x697)](_0x379745=>!_0x379745['includes']('lo')&&!_0x379745[_0xdcb41e(0x8dc)](_0xdcb41e(0x2cf))&&!_0x379745[_0xdcb41e(0x8dc)](_0xdcb41e(0x631))&&!_0x379745[_0xdcb41e(0x8dc)]('wl')&&!_0x379745[_0xdcb41e(0x8dc)]('@'));if(console[_0xdcb41e(0x236)](_0xdcb41e(0x6e7)+_0x15a466),_0x15a466[_0xdcb41e(0x40e)]===0x0)throw new Error(_0xdcb41e(0x688));this[_0xdcb41e(0x8c1)]=_0x15a466[0x0];let {stdout:_0x92d104}=await kt(_0xdcb41e(0x449)+this[_0xdcb41e(0x8c1)]);console[_0xdcb41e(0x236)](_0xdcb41e(0x723)+_0x92d104);let _0x1b0311=_0x92d104[_0xdcb41e(0x6a4)]('\x0a')[_0xdcb41e(0x419)](_0x68a751=>_0x68a751[_0xdcb41e(0x8dc)](_0xdcb41e(0x500))&&_0x68a751['includes'](_0xdcb41e(0x20f)));if(!_0x1b0311)throw new Error(_0xdcb41e(0x905));let _0x39ccdc=_0x1b0311[_0xdcb41e(0x1cd)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x39ccdc)throw new Error(_0xdcb41e(0x264));let [_0x3fd925,_0x4c7605,_0x2478a8]=_0x39ccdc,_0x53ab71=Math[_0xdcb41e(0x693)](Number(_0x2478a8)/0x10),_0x556077=Number(_0x2478a8)%0x10,_0x250b8f=_0x4c7605[_0xdcb41e(0x6a4)](':')[_0xdcb41e(0x37c)](0x0,_0x53ab71)[_0xdcb41e(0x6ef)](':');if(_0x556077>0x0){let _0x5540e7=_0x4c7605['split'](':')[_0x53ab71],_0x58a89f=0xffff<<0x10-_0x556077&0xffff,_0x5e58dc=(parseInt(_0x5540e7,0x10)&_0x58a89f)[_0xdcb41e(0x5e7)](0x10)[_0xdcb41e(0x586)](0x4,'0');_0x250b8f+=':'+_0x5e58dc;}this[_0xdcb41e(0x35a)]=_0x250b8f+':';}catch(_0x11e7ff){console[_0xdcb41e(0x70d)](_0xdcb41e(0x2d7),_0x11e7ff);}}async[a0_0x3f93a9(0x90c)](_0x76c2e5){const _0x2033d7=a0_0x3f93a9;let _0x8771da=_0x2033d7(0x67f)+_0x76c2e5+_0x2033d7(0x92c)+this['networkInterface'];try{await kt(_0x8771da),console[_0x2033d7(0x236)]('IPv6\x20address\x20configured:\x20'+_0x76c2e5);}catch(_0x2fadff){console['error'](_0x2033d7(0x560)+_0x2fadff);}}async[a0_0x3f93a9(0x77c)](_0x1d3ff6){const _0x28496c=a0_0x3f93a9;let _0x5cf2e4='ip\x20-6\x20addr\x20del\x20'+_0x1d3ff6+_0x28496c(0x92c)+this[_0x28496c(0x8c1)];try{await kt(_0x5cf2e4),console['log'](_0x28496c(0x566)+_0x1d3ff6);}catch(_0x556c58){console['error'](_0x28496c(0x235)+_0x556c58);}}['randomMac'](){const _0x241033=a0_0x3f93a9;return _0x241033(0x60f)[_0x241033(0x2a1)](/X/g,()=>_0x241033(0x384)[_0x241033(0x807)](Math[_0x241033(0x693)](Math[_0x241033(0x67b)]()*0x10)));}[a0_0x3f93a9(0x7e1)](_0x43d229,_0x69c39b){const _0x124ba1=a0_0x3f93a9;let _0x1fdeb0=_0x69c39b[_0x124ba1(0x6a4)](':');return _0x1fdeb0[0x0]=(parseInt(_0x1fdeb0[0x0],0x10)^0x2)[_0x124ba1(0x5e7)](0x10)[_0x124ba1(0x586)](0x2,'0'),''+_0x43d229+_0x1fdeb0[0x0]+_0x1fdeb0[0x1]+':'+_0x1fdeb0[0x2]+_0x124ba1(0x325)+_0x1fdeb0[0x3]+':'+_0x1fdeb0[0x4]+_0x1fdeb0[0x5];}['generateRandomIPv6'](){const _0x371439=a0_0x3f93a9;let _0x11039a=this[_0x371439(0x35a)];_0x11039a[_0x371439(0x292)](':')||(_0x11039a+=':');let _0x5b97a9=this['randomMac']();return this['ip6eui'](_0x11039a,_0x5b97a9);}[a0_0x3f93a9(0x4af)](_0x5e9564){const _0x568c44=a0_0x3f93a9;return new RegExp(_0x568c44(0x461))[_0x568c44(0x3ef)](_0x5e9564);}async['testIPv6'](_0x3d1f48){const _0xfaf25a=a0_0x3f93a9;let _0xab793=[{'url':_0xfaf25a(0x46f),'parse':_0x4efcd0=>_0x4efcd0['ip']},{'url':_0xfaf25a(0x2b3),'parse':_0x3a0c68=>_0x3a0c68['ip']},{'url':_0xfaf25a(0x857),'parse':_0x521b25=>_0x521b25['trim']()},{'url':_0xfaf25a(0x22b),'parse':_0x3babd0=>_0x3babd0['trim']()}],_0x27a849=_0xab793[Math['floor'](Math[_0xfaf25a(0x67b)]()*_0xab793[_0xfaf25a(0x40e)])];try{let _0x59bbb2=await Ei[_0xfaf25a(0x73f)][_0xfaf25a(0x2da)](_0x27a849[_0xfaf25a(0x3f9)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x3d1f48}}),_0x2cc64e=_0x27a849['parse'](_0x59bbb2[_0xfaf25a(0x765)]);return _0x2cc64e[_0xfaf25a(0x658)]()===_0x3d1f48[_0xfaf25a(0x658)]()?(console['log'](_0xfaf25a(0x613)+_0x3d1f48),!0x0):(console[_0xfaf25a(0x70d)](_0xfaf25a(0x20a)+_0x3d1f48+_0xfaf25a(0x1eb)+_0x2cc64e),!0x1);}catch(_0x25e4fd){return console['error'](_0xfaf25a(0x5d2)+_0x27a849['url']+':\x20'+_0x25e4fd['message']),!0x1;}}async[a0_0x3f93a9(0x40a)](_0x19afb7,_0x2c147f){const _0x18480d=a0_0x3f93a9;if(!this[_0x18480d(0x35a)]||!this[_0x18480d(0x8c1)])return console[_0x18480d(0x70d)](_0x18480d(0x51d)),null;let _0x4bd3a6;do _0x4bd3a6=this[_0x18480d(0x255)](),console[_0x18480d(0x236)](_0x18480d(0x6ab)+_0x4bd3a6);while(!await this[_0x18480d(0x798)](_0x4bd3a6));await this['configureIPv6'](_0x4bd3a6),console[_0x18480d(0x236)]('Configured\x20IPv6:\x20'+_0x4bd3a6);let _0x304c7d={'_id':_0x19afb7+'-'+_0x2c147f,'ip':_0x4bd3a6},_0x597a47=await this[_0x18480d(0x59d)]['createOrUpdate'](_0x304c7d,_0x304c7d['_id']);return console[_0x18480d(0x236)]('Cache\x20instance\x20update\x20result:\x20'+_0x597a47),_0x4bd3a6;}async['isValidAndUniqueIPv6'](_0x9d25d6){const _0x8275f2=a0_0x3f93a9;return this[_0x8275f2(0x4af)](_0x9d25d6)?!await this[_0x8275f2(0x59d)][_0x8275f2(0x39a)]({'where':{'ip':_0x9d25d6}}):!0x1;}async[a0_0x3f93a9(0x635)](_0x13b427,_0x16f739){const _0x5bb000=a0_0x3f93a9;let _0x26af69=_0x13b427+'-'+_0x16f739,_0x20ddb5=await this[_0x5bb000(0x59d)][_0x5bb000(0x39a)]({'where':{'_id':_0x26af69}});_0x20ddb5&&_0x20ddb5['ip']&&(await this[_0x5bb000(0x77c)](_0x20ddb5['ip']),await this[_0x5bb000(0x59d)][_0x5bb000(0x250)]({'where':{'_id':_0x26af69}}));}},_o=new Is(),se=_o,Ps=a0_0x3f93a9(0x734),Ii,he=null,Ia=null,Oo=0x3,xo=null,vi=S['get'](a0_0x3f93a9(0x508))['API_KEY'][a0_0x3f93a9(0x38e)],Ni=S[a0_0x3f93a9(0x2da)]('PROXY');async function Do(){const _0x1e504d=a0_0x3f93a9;let _0x5ec33d=await ve['findOne']();he=_0x5ec33d?.[_0x1e504d(0x3d5)]??null,xo=_0x5ec33d?.[_0x1e504d(0x742)]??null,Ps=_0x5ec33d?.[_0x1e504d(0x3c5)]??_0x1e504d(0x734),Ii=_0x5ec33d?.['connectedName']??B??_0x1e504d(0x316);}async function Po(){await Do();}Po();var Lt={},$e=class u{constructor(_0x471d2c,_0x268ac9,_0x5087c2){const _0x4ceca5=a0_0x3f93a9;this[_0x4ceca5(0x4f6)]=_0x471d2c,this[_0x4ceca5(0x8f8)]=_0x268ac9,this[_0x4ceca5(0x4a0)]=_0x5087c2,this[_0x4ceca5(0x6d2)]=null,this['logger']=new $(u[_0x4ceca5(0x537)]),this[_0x4ceca5(0x7ed)]={},this[_0x4ceca5(0x372)]={},this['stateConnection']={'state':_0x4ceca5(0x322)},this[_0x4ceca5(0x60d)]=(0x0,j[_0x4ceca5(0x6ef)])(ce,_0x4ceca5(0x699)),this[_0x4ceca5(0x698)]=new Ds['default'](),this[_0x4ceca5(0x94a)]=new Ds[(_0x4ceca5(0x73f))](),this[_0x4ceca5(0x3ab)]=!0x1,this[_0x4ceca5(0x56a)]={'status.instance':_0x4ceca5(0x41d),'connection.update':'/wa-connection-update','qrcode.updated':_0x4ceca5(0x878),'messages.upsert':'/wa-message','send.message':'/wa-message','messages.update':_0x4ceca5(0x6af),'group.upsert':'/wa-groups','group.update':'/wa-groups','group-participants.update':_0x4ceca5(0x46a),'messages.set':_0x4ceca5(0x70e),'contacts.set':'/wa-contacts','contacts.upsert':_0x4ceca5(0x752),'contacts.update':_0x4ceca5(0x752),'presence.update':_0x4ceca5(0x889),'chats.set':_0x4ceca5(0x846),'chats.update':_0x4ceca5(0x846),'chats.upsert':_0x4ceca5(0x846),'chats.delete':'/wa-chats'},this[_0x4ceca5(0x76a)]=0x0,this[_0x4ceca5(0x392)]=[],this['RECONNECT_TIME_FRAME']=0xea60,this[_0x4ceca5(0x450)]=!0x1,this[_0x4ceca5(0x836)]={'chats.upsert':async(_0xa9e9b9,_0x317d24)=>{const _0x5776ef=_0x4ceca5;let _0x4206d6=[];for await(let _0x4e22b7 of _0xa9e9b9)_0x4206d6[_0x5776ef(0x6f2)]({'_id':_0x4e22b7['id'],'owner':this[_0x5776ef(0x7ed)][_0x5776ef(0x828)],'group':_0x4e22b7['id'][_0x5776ef(0x292)](_0x5776ef(0x5b6)),'name':_0x4e22b7[_0x5776ef(0x537)]||_0x4e22b7['displayName']||null,'contactname':null,'lastmsg':_0x4e22b7['conversationTimestamp']&&_0x4e22b7[_0x5776ef(0x203)]['toString']()[_0x5776ef(0x40e)]<0xd?_0x4e22b7[_0x5776ef(0x203)]*0x3e8:_0x4e22b7[_0x5776ef(0x203)]||null,'archived':_0x4e22b7['archived']||!0x1,'unreadcount':_0x4e22b7['unreadCount']||0x0,'ephemeralExpiration':_0x4e22b7['ephemeralExpiration']||0x0});this[_0x5776ef(0x331)]('chats.upsert',_0x4206d6);},'chats.update':async(_0x2143fc,_0x574060)=>{const _0x4dc4f7=_0x4ceca5;for(let _0x4be734 of _0x2143fc){let _0x59e582={'_id':_0x4be734['id'],'owner':this[_0x4dc4f7(0x7ed)][_0x4dc4f7(0x828)],'archived':_0x4be734[_0x4dc4f7(0x4bc)],'muteEndTime':_0x4be734[_0x4dc4f7(0x8bd)],'ephemeralExpiration':_0x4be734[_0x4dc4f7(0x692)]},_0x1d7097=!0x1,_0x42cc1b={};_0x59e582[_0x4dc4f7(0x4bc)]!=null&&(this[_0x4dc4f7(0x458)][_0x4dc4f7(0x5e2)](this[_0x4dc4f7(0x5cf)]+'\x20('+this[_0x4dc4f7(0x7ed)]['wuid']+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x4be734['id']+_0x4dc4f7(0x715)+_0x4be734['archived']),_0x1d7097=!0x0,_0x42cc1b['archived']=_0x4be734[_0x4dc4f7(0x4bc)]),_0x4dc4f7(0x8bd)in _0x4be734&&(this[_0x4dc4f7(0x458)][_0x4dc4f7(0x5e2)](this[_0x4dc4f7(0x5cf)]+'\x20('+this[_0x4dc4f7(0x7ed)][_0x4dc4f7(0x828)]+_0x4dc4f7(0x5e6)+_0x4be734['id']+'\x20:\x20'+(_0x4be734['muteEndTime']??'0')),_0x1d7097=!0x0,_0x42cc1b[_0x4dc4f7(0x8bd)]=_0x4be734[_0x4dc4f7(0x8bd)]??0x0),_0x4dc4f7(0x692)in _0x4be734&&(this[_0x4dc4f7(0x458)][_0x4dc4f7(0x5e2)](this[_0x4dc4f7(0x5cf)]+'\x20('+this[_0x4dc4f7(0x7ed)]['wuid']+_0x4dc4f7(0x58a)+_0x4be734['id']+'\x20:\x20'+(_0x4be734[_0x4dc4f7(0x692)]!==void 0x0?_0x4be734[_0x4dc4f7(0x692)]:_0x4dc4f7(0x489))),_0x42cc1b['ephemeralExpiration']=_0x4be734[_0x4dc4f7(0x692)]===null?0x0:_0x4be734['ephemeralExpiration'],_0x1d7097=!0x0);let _0x295f85;_0x1d7097&&(_0x295f85=await this[_0x4dc4f7(0x4a0)][_0x4dc4f7(0x3bd)][_0x4dc4f7(0x349)]({'where':{'_id':_0x4be734['id']}},_0x42cc1b,this[_0x4dc4f7(0x7ed)][_0x4dc4f7(0x828)])),_0x295f85&&F(this['instanceName'],'chats',{'chat':_0x295f85});}},'chats.delete':async _0x5363c9=>{const _0x402f42=_0x4ceca5;for(let _0x5f3e27 of _0x5363c9)if(_0x5f3e27[_0x402f42(0x292)](_0x402f42(0x5b6))){await this[_0x402f42(0x4a0)][_0x402f42(0x3bd)][_0x402f42(0x342)]({'where':{'_id':_0x5f3e27}},this['instance']['wuid']);let _0x165665={'where':{'key':{'remoteJid':_0x5f3e27}}};await this[_0x402f42(0x4a0)][_0x402f42(0x7a3)][_0x402f42(0x342)](_0x165665,this[_0x402f42(0x7ed)][_0x402f42(0x828)]);}else{await this['repository'][_0x402f42(0x3bd)][_0x402f42(0x349)]({'where':{'_id':_0x5f3e27}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x402f42(0x7ed)][_0x402f42(0x828)]);let _0x139556={'where':{'key':{'remoteJid':_0x5f3e27}}};await this[_0x402f42(0x4a0)][_0x402f42(0x7a3)]['delete'](_0x139556,this[_0x402f42(0x7ed)][_0x402f42(0x828)]);}this[_0x402f42(0x331)](_0x402f42(0x352),[..._0x5363c9]);}},this[_0x4ceca5(0x530)]={'contacts.upsert':async(_0x50a670,_0x88278e)=>{const _0x4176dc=_0x4ceca5;let _0x4e5b35=await this[_0x4176dc(0x4a0)][_0x4176dc(0x226)][_0x4176dc(0x419)]({'where':{}},this[_0x4176dc(0x7ed)][_0x4176dc(0x828)]),_0x4c7e6f=[];for await(let _0x2d38cc of _0x50a670)_0x4e5b35[_0x4176dc(0x419)](_0x801614=>_0x801614[_0x4176dc(0x7ad)]===_0x2d38cc['id'])||_0x4c7e6f[_0x4176dc(0x6f2)]({'_id':_0x2d38cc['id'],'pushName':_0x2d38cc?.[_0x4176dc(0x537)]||_0x2d38cc?.[_0x4176dc(0x79b)],'owner':this['instance'][_0x4176dc(0x828)]});this[_0x4176dc(0x331)](_0x4176dc(0x5fc),_0x4c7e6f),await this[_0x4176dc(0x4a0)]['contact'][_0x4176dc(0x896)](_0x4c7e6f);},'contacts.update':async(_0xfadcd9,_0xa0bcff)=>{const _0x1b7971=_0x4ceca5;let _0x2eab8e=[];for await(let _0x23eda4 of _0xfadcd9)_0x2eab8e[_0x1b7971(0x6f2)]({'_id':_0x23eda4['id'],'pushName':_0x23eda4?.['name']??_0x23eda4?.['verifiedName'],'owner':this[_0x1b7971(0x7ed)][_0x1b7971(0x828)]});this[_0x1b7971(0x331)](_0x1b7971(0x3b7),_0x2eab8e);}},this[_0x4ceca5(0x563)]={'messaging-history.set':async({messages:_0x52e40b,chats:_0x2953fc,isLatest:_0x1ee480},_0x245b61)=>{const _0x28ca2f=_0x4ceca5;if(_0x1ee480){let _0x4818ce=await Promise[_0x28ca2f(0x49a)](_0x2953fc[_0x28ca2f(0x3d6)](async _0x6ff7d5=>({'_id':_0x6ff7d5['id'],'owner':this[_0x28ca2f(0x7ed)][_0x28ca2f(0x828)],'group':_0x6ff7d5['id']['endsWith'](_0x28ca2f(0x5b6)),'name':_0x6ff7d5[_0x28ca2f(0x537)]||_0x6ff7d5[_0x28ca2f(0x217)]||_0x6ff7d5[_0x28ca2f(0x24e)]||null,'contactname':null,'lastmsg':_0x6ff7d5['conversationTimestamp']&&_0x6ff7d5[_0x28ca2f(0x203)]['toString']()['length']<0xd?_0x6ff7d5[_0x28ca2f(0x203)]*0x3e8:_0x6ff7d5['conversationTimestamp']||null,'archived':_0x6ff7d5[_0x28ca2f(0x4bc)]||!0x1,'unreadcount':_0x6ff7d5[_0x28ca2f(0x380)]||0x0,'ephemeralExpiration':_0x6ff7d5['ephemeralExpiration']||0x0,'muteEndTime':_0x6ff7d5[_0x28ca2f(0x8bd)]||0x0})));this[_0x28ca2f(0x331)](_0x28ca2f(0x821),_0x4818ce),await this[_0x28ca2f(0x653)](_0x4818ce,_0x245b61);}let _0x89519d=[],_0x2c18ea=Date[_0x28ca2f(0x5a4)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x766913]of Object[_0x28ca2f(0x3be)](_0x52e40b)){if(_0x766913[_0x28ca2f(0x7a3)]?.['protocolMessage']||_0x766913['message']?.['senderKeyDistributionMessage']||!_0x766913['message']||_0x766913[_0x28ca2f(0x33a)][_0x28ca2f(0x6fa)]===_0x28ca2f(0x8f9)||(xs[_0x28ca2f(0x73f)][_0x28ca2f(0x7ba)](_0x766913?.[_0x28ca2f(0x2b5)])&&(_0x766913[_0x28ca2f(0x2b5)]=_0x766913[_0x28ca2f(0x2b5)]?.['toNumber']()),_0x766913[_0x28ca2f(0x2b5)]&&_0x766913[_0x28ca2f(0x2b5)][_0x28ca2f(0x5e7)]()[_0x28ca2f(0x40e)]<0xd&&(_0x766913['messageTimestamp']=_0x766913['messageTimestamp']*0x3e8),_0x766913[_0x28ca2f(0x2b5)]<_0x2c18ea))continue;let _0x458862=(0x0,w[_0x28ca2f(0x8e5)])(_0x766913[_0x28ca2f(0x7a3)]),_0x5bbbcb=(0x0,w[_0x28ca2f(0x244)])(_0x458862),{message_normalized:_0x3d4593}=this[_0x28ca2f(0x79f)](_0x458862,_0x5bbbcb,null);Object[_0x28ca2f(0x1fa)](_0x3d4593)['length']>0x0&&_0x89519d[_0x28ca2f(0x6f2)]({'_id':_0x766913[_0x28ca2f(0x33a)]['id'],'key':_0x766913[_0x28ca2f(0x33a)],'pushName':_0x766913[_0x28ca2f(0x89f)],'participant':_0x766913[_0x28ca2f(0x7cc)],'message':_0x458862,'messageType':_0x5bbbcb,'message_normalized':{'key':_0x766913[_0x28ca2f(0x33a)],'pushName':_0x766913[_0x28ca2f(0x89f)],'messageTimestamp':_0x766913[_0x28ca2f(0x2b5)],..._0x3d4593},'messageTimestamp':_0x766913[_0x28ca2f(0x2b5)],'owner':this[_0x28ca2f(0x7ed)][_0x28ca2f(0x828)]});}_0x245b61[_0x28ca2f(0x218)]&&_0x89519d[_0x28ca2f(0x40e)]>0x0&&(this[_0x28ca2f(0x458)][_0x28ca2f(0x5e2)](this[_0x28ca2f(0x5cf)]+'\x20('+this[_0x28ca2f(0x7ed)]['wuid']+_0x28ca2f(0x432)+_0x89519d['length']+_0x28ca2f(0x3d1)+this[_0x28ca2f(0x7ed)][_0x28ca2f(0x828)]+_0x28ca2f(0x584)),await this[_0x28ca2f(0x4a0)][_0x28ca2f(0x7a3)]['insert']([..._0x89519d],this[_0x28ca2f(0x7ed)][_0x28ca2f(0x828)])),this[_0x28ca2f(0x331)](_0x28ca2f(0x1fd),[..._0x89519d]),_0x52e40b=void 0x0;},'messages.upsert':async({messages:_0x408d42,type:_0x4cc7e2},_0x2fd233)=>{const _0x20644a=_0x4ceca5;for(let _0x183141 of _0x408d42){if(this['localWebhook']?.[_0x20644a(0x320)]&&_0x183141['key'][_0x20644a(0x6fa)][_0x20644a(0x8dc)](_0x20644a(0x5b6))){this[_0x20644a(0x458)][_0x20644a(0x5e2)](this[_0x20644a(0x5cf)]+'\x20('+this[_0x20644a(0x7ed)][_0x20644a(0x828)]+_0x20644a(0x78e));return;}if(_0x4cc7e2!==_0x20644a(0x296)||!_0x183141?.['message']||_0x183141['message']?.[_0x20644a(0x285)]||_0x183141[_0x20644a(0x7a3)][_0x20644a(0x448)]||_0x183141['key'][_0x20644a(0x6fa)]===_0x20644a(0x8f9))return;let _0xd317e8=null,_0x2a8e69=null;if(_0x183141[_0x20644a(0x20c)]&&_0x183141[_0x20644a(0x20c)][0x0]===_0x20644a(0x90a)){console['error'](_0x20644a(0x6fd)),Lt[_0x183141[_0x20644a(0x33a)]['id']]=_0x183141,this[_0x20644a(0x754)](_0x183141,0x0);return;}Lt[_0x183141[_0x20644a(0x33a)]['id']]&&(console['error']('[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache'),delete Lt[_0x183141[_0x20644a(0x33a)]['id']]);try{_0xd317e8=await this[_0x20644a(0x923)](_0x183141),_0x2a8e69=_0xd317e8?_0xd317e8[_0x20644a(0x6ef)](','):null;}catch(_0x19f86f){this[_0x20644a(0x458)][_0x20644a(0x5e2)](this[_0x20644a(0x5cf)]+'\x20('+this['instance'][_0x20644a(0x828)]+_0x20644a(0x432)+(_0x19f86f instanceof Error?_0x19f86f[_0x20644a(0x7a3)]:JSON[_0x20644a(0x684)](_0x19f86f,null,0x2))),_0x2a8e69=_0x20644a(0x74d);}this[_0x20644a(0x2e8)]['sendPresenceUpdate'](_0x20644a(0x40d)),xs[_0x20644a(0x73f)][_0x20644a(0x7ba)](_0x183141[_0x20644a(0x2b5)])&&(_0x183141[_0x20644a(0x2b5)]=_0x183141[_0x20644a(0x2b5)]?.[_0x20644a(0x7f4)]()),_0x183141['messageTimestamp']&&_0x183141[_0x20644a(0x2b5)]['toString']()[_0x20644a(0x40e)]<0xd&&(_0x183141[_0x20644a(0x2b5)]=_0x183141[_0x20644a(0x2b5)]*0x3e8);let _0x59660c=_0x183141[_0x20644a(0x7a3)],_0x749ca0=(0x0,w[_0x20644a(0x8e5)])(_0x59660c),_0x134d19=(0x0,w['getContentType'])(_0x749ca0),{messageContent:_0x572d63,message_normalized:_0x35eb6f}=this[_0x20644a(0x79f)](_0x749ca0,_0x134d19,_0x2a8e69);if(_0x134d19===_0x20644a(0x285)&&_0x572d63?.[_0x20644a(0x8b1)]&&(_0x134d19='editedMessage'),_0x134d19===_0x20644a(0x391)&&_0x183141[_0x20644a(0x33a)][_0x20644a(0x2fa)])return;let _0x4ac1d0,_0x5d7c73=_0x183141[_0x20644a(0x33a)][_0x20644a(0x6fa)][_0x20644a(0x292)](_0x20644a(0x5b6));if(_0x183141['key'][_0x20644a(0x2fa)])_0x4ac1d0=this['instance'][_0x20644a(0x3c4)];else{let _0x411cde=_0x5d7c73?_0x183141['key']['participant']:_0x183141[_0x20644a(0x33a)][_0x20644a(0x6fa)];_0x4ac1d0=(await this['findAndUpdateCacheContact'](_0x411cde,_0x183141[_0x20644a(0x89f)],!0x1))[_0x20644a(0x712)][_0x20644a(0x8a5)];}let _0x368cf0={'_id':_0x183141['key']['id'],'key':_0x183141[_0x20644a(0x33a)],'isGroup':_0x5d7c73,'profilePictureUrl':_0x4ac1d0,'pushName':_0x183141[_0x20644a(0x89f)],'message':_0x749ca0,'messageType':_0x134d19,'message_normalized':{'key':_0x183141['key'],'pushName':_0x183141['pushName'],'messageTimestamp':_0x183141[_0x20644a(0x2b5)],'source':(0x0,w[_0x20644a(0x83d)])(_0x183141[_0x20644a(0x33a)]['id']),..._0x35eb6f},'messageTimestamp':_0x183141[_0x20644a(0x2b5)],'owner':this[_0x20644a(0x7ed)]['wuid'],'source':(0x0,w[_0x20644a(0x83d)])(_0x183141[_0x20644a(0x33a)]['id']),'expiration':_0x572d63?.['contextInfo']?.[_0x20644a(0x3ca)]||0x0};if(_0x572d63||(this['logger'][_0x20644a(0x70d)](_0x20644a(0x805)),this['logger'][_0x20644a(0x70d)](_0x368cf0)),_0x35eb6f[_0x20644a(0x5d0)]==='${Message\x20absent\x20from\x20node}'){console[_0x20644a(0x70d)](_0x20644a(0x6ac)),await this[_0x20644a(0x2a6)](_0x183141);return;}this[_0x20644a(0x458)][_0x20644a(0x236)](this[_0x20644a(0x5cf)]+'\x20('+this[_0x20644a(0x7ed)][_0x20644a(0x828)]+_0x20644a(0x432)+(_0x368cf0['key']?.[_0x20644a(0x2fa)]?'enviado\x20para':'recebido\x20de')+'\x20['+_0x368cf0[_0x20644a(0x33a)]?.[_0x20644a(0x6fa)][_0x20644a(0x2a1)](_0x20644a(0x51e),'')+_0x20644a(0x2f6)+_0x368cf0[_0x20644a(0x728)]+')'),_0x368cf0[_0x20644a(0x57a)]?.[_0x20644a(0x5d0)]&&this['logger'][_0x20644a(0x236)](_0x183141[_0x20644a(0x33a)]['id']+':\x20'+_0x368cf0[_0x20644a(0x57a)]?.['text']),await this['repository'][_0x20644a(0x7a3)][_0x20644a(0x896)]([_0x368cf0],this[_0x20644a(0x7ed)][_0x20644a(0x828)]),this['sendDataWebhook'](_0x20644a(0x640),_0x368cf0),F(this['instanceName'],_0x20644a(0x2d8),{'message':_0x368cf0}),_0x183141[_0x20644a(0x33a)][_0x20644a(0x6fa)]!=='status@broadcast'&&await this[_0x20644a(0x591)](_0x2fd233,_0x368cf0,_0x20644a(0x45f));}},'messages.update':async(_0x15de0d,_0x500add)=>{const _0x3478cc=_0x4ceca5;let _0x41048e={0x0:_0x3478cc(0x53f),0x1:_0x3478cc(0x940),0x2:_0x3478cc(0x5c2),0x3:'DELIVERY_ACK',0x4:'READ',0x5:'PLAYED'};for await(let {key:_0x719f11,update:_0x5256d2}of _0x15de0d){if(this[_0x3478cc(0x372)]?.[_0x3478cc(0x320)]&&_0x719f11['remoteJid'][_0x3478cc(0x8dc)]('@g.us')){this[_0x3478cc(0x458)]['verbose'](this[_0x3478cc(0x5cf)]+'\x20('+this[_0x3478cc(0x7ed)][_0x3478cc(0x828)]+'):\x20[messages.update]\x20group\x20ignored');return;}if(_0x719f11['remoteJid']!==_0x3478cc(0x8f9)){let _0x1ccae1=Date[_0x3478cc(0x5a4)](),_0x2dabf2;_0x5256d2[_0x3478cc(0x7a3)]===null&&_0x5256d2['status']===void 0x0?_0x2dabf2=_0x3478cc(0x933):_0x2dabf2=_0x41048e[_0x5256d2['status']];let _0x5b64a7=_0x719f11[_0x3478cc(0x6fa)][_0x3478cc(0x2a1)](/:\d{1,2}@/g,'@'),_0x5b3f34={..._0x719f11,'remoteJid':_0x5b64a7,'status':_0x2dabf2,'datetime':_0x1ccae1,'owner':this[_0x3478cc(0x7ed)]['wuid']};this[_0x3478cc(0x331)](_0x3478cc(0x2ed),_0x5b3f34),await this['updateMessage'](_0x719f11,_0x5b3f34);}}},'labels.association':async({type:_0x30d8d3,association:_0x30d441})=>{const _0x2290f6=_0x4ceca5;if(_0x30d441[_0x2290f6(0x66e)]===_0x2290f6(0x2de)){let _0x589a8c,_0x213a9a=0x0;for(;!_0x589a8c&&_0x213a9a<this[_0x2290f6(0x278)];)_0x589a8c=await this[_0x2290f6(0x4a0)][_0x2290f6(0x3bd)][_0x2290f6(0x39a)]({'where':{'_id':_0x30d441[_0x2290f6(0x55a)]}},this[_0x2290f6(0x7ed)][_0x2290f6(0x828)]),_0x589a8c||(_0x213a9a++,this['logger'][_0x2290f6(0x907)](this[_0x2290f6(0x5cf)]+'\x20('+this['instance']['wuid']+_0x2290f6(0x1ed)+_0x30d441['chatId']+'\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20'+this[_0x2290f6(0x914)]+'ms\x20(tentativa\x20'+_0x213a9a+'/'+this[_0x2290f6(0x278)]+')'),await this[_0x2290f6(0x674)](this[_0x2290f6(0x914)]));if(!_0x589a8c){this[_0x2290f6(0x458)]['error'](_0x2290f6(0x831)+_0x30d441[_0x2290f6(0x55a)]+_0x2290f6(0x8fc)+this[_0x2290f6(0x278)]+_0x2290f6(0x611));return;}switch(_0x30d8d3){case'add':console[_0x2290f6(0x236)](_0x30d441),await this[_0x2290f6(0x4a0)][_0x2290f6(0x3bd)][_0x2290f6(0x349)]({'where':{'_id':_0x30d441['chatId']}},{'leadInfo.etiquetas':_0x30d441[_0x2290f6(0x6c0)]},this['instance'][_0x2290f6(0x828)],void 0x0,_0x2290f6(0x268));break;case'remove':console[_0x2290f6(0x236)](_0x30d441),await this[_0x2290f6(0x4a0)][_0x2290f6(0x3bd)][_0x2290f6(0x349)]({'where':{'_id':_0x30d441[_0x2290f6(0x55a)]}},{'leadInfo.etiquetas':_0x30d441[_0x2290f6(0x6c0)]},this[_0x2290f6(0x7ed)]['wuid'],void 0x0,_0x2290f6(0x843));break;default:this['logger'][_0x2290f6(0x70d)]('unknown\x20operation\x20type\x20['+_0x30d8d3+']');}}},'labels.edit':async _0x97824f=>{const _0x2f8696=_0x4ceca5;if(!_0x97824f||!_0x97824f['id']){this[_0x2f8696(0x458)][_0x2f8696(0x70d)](_0x2f8696(0x696));return;}if(!_0x97824f[_0x2f8696(0x340)]){let _0x1f4e64=[_0x2f8696(0x561),_0x2f8696(0x774),_0x2f8696(0x867),_0x2f8696(0x77a),'#9ab6c1',_0x2f8696(0x753),_0x2f8696(0x7df),_0x2f8696(0x5fa),_0x2f8696(0x675),_0x2f8696(0x376),_0x2f8696(0x73a),'#ffc5c7',_0x2f8696(0x7cf),_0x2f8696(0x70f),'#00a1f2',_0x2f8696(0x337),_0x2f8696(0x283),'#b4ebff',_0x2f8696(0x913),'#9568cf'],_0x25129a;typeof _0x97824f[_0x2f8696(0x654)]==_0x2f8696(0x42d)&&_0x97824f[_0x2f8696(0x654)]>=0x0&&_0x97824f[_0x2f8696(0x654)]<_0x1f4e64[_0x2f8696(0x40e)]?_0x25129a=_0x1f4e64[_0x97824f[_0x2f8696(0x654)]]:(this['logger'][_0x2f8696(0x70d)](_0x2f8696(0x4ec)+_0x97824f[_0x2f8696(0x654)]),_0x25129a=_0x2f8696(0x21f));let _0xa119f3={'_id':_0x97824f['id'],'colorHex':_0x25129a,'color':_0x97824f?.[_0x2f8696(0x654)],'name':_0x97824f?.[_0x2f8696(0x537)],'owner':this[_0x2f8696(0x7ed)][_0x2f8696(0x828)]};await this[_0x2f8696(0x4a0)][_0x2f8696(0x462)][_0x2f8696(0x349)]({'where':{'_id':_0x97824f['id']}},_0xa119f3,this[_0x2f8696(0x7ed)][_0x2f8696(0x828)]),this['logger']['info'](this[_0x2f8696(0x5cf)]+'\x20('+this[_0x2f8696(0x7ed)]['wuid']+'):\x20Rótulo\x20atualizado:\x20'+_0x97824f);}_0x97824f[_0x2f8696(0x340)]&&(await this['repository']['label'][_0x2f8696(0x342)]({'where':{'_id':_0x97824f['id']}},this['instance'][_0x2f8696(0x828)]),this[_0x2f8696(0x458)]['info'](_0x2f8696(0x210)+_0x97824f['id']));}},this[_0x4ceca5(0x689)]={'groups.upsert':async _0x2dee8b=>{const _0x2c01ba=_0x4ceca5;this[_0x2c01ba(0x372)]?.['groups_ignore']||this['sendDataWebhook']('groups.upsert',_0x2dee8b);for(let _0x286822 of _0x2dee8b)await this[_0x2c01ba(0x814)](_0x286822);},'groups.update':async _0x212811=>{const _0x53834b=_0x4ceca5;this[_0x53834b(0x372)]?.[_0x53834b(0x320)]||this[_0x53834b(0x331)](_0x53834b(0x5be),_0x212811);for(let _0x1ea1a7 of _0x212811)await this[_0x53834b(0x814)](_0x1ea1a7);},'group-participants.update':async _0x16dc57=>{const _0x528e2c=_0x4ceca5;this[_0x528e2c(0x372)]?.[_0x528e2c(0x320)]||this[_0x528e2c(0x331)](_0x528e2c(0x41c),_0x16dc57),await this['updateGroupParticipantsWebhook'](_0x16dc57);}},this['delayChatLabel_MAX_RETRIES']=0x5,this[_0x4ceca5(0x914)]=0x1388,this[_0x4ceca5(0x620)]=0x0,this[_0x4ceca5(0x923)]=async _0x3881a5=>{const _0x594be6=_0x4ceca5;if(_0x3881a5[_0x594be6(0x7a3)]?.[_0x594be6(0x230)]){let _0x491108=await this[_0x594be6(0x350)](_0x3881a5[_0x594be6(0x7a3)][_0x594be6(0x230)][_0x594be6(0x567)],!0x0);if(_0x491108){let _0x39c167=_0x491108['key'][_0x594be6(0x2fa)]?this[_0x594be6(0x7ed)]['wuid']+_0x594be6(0x51e):_0x491108[_0x594be6(0x33a)][_0x594be6(0x7cc)]||_0x491108[_0x594be6(0x33a)][_0x594be6(0x6fa)],_0x321804=_0x491108[_0x594be6(0x33a)]['id'],_0x236e1f=_0x491108['message'],_0x4fcd10=Buffer[_0x594be6(0x7eb)](_0x236e1f[_0x594be6(0x6aa)][_0x594be6(0x577)][_0x594be6(0x5e7)](_0x594be6(0x1ca)),_0x594be6(0x1ca)),_0x34a17d=(0x0,w[_0x594be6(0x66d)])(_0x3881a5[_0x594be6(0x7a3)][_0x594be6(0x230)][_0x594be6(0x823)],{'pollCreatorJid':_0x39c167,'pollMsgId':_0x321804,'pollEncKey':_0x4fcd10,'voterJid':_0x3881a5['key'][_0x594be6(0x2fa)]?this['instance'][_0x594be6(0x828)]+_0x594be6(0x51e):_0x3881a5[_0x594be6(0x33a)][_0x594be6(0x6fa)][_0x594be6(0x292)](_0x594be6(0x3f0))?_0x3881a5[_0x594be6(0x33a)][_0x594be6(0x7cc)]:_0x3881a5[_0x594be6(0x33a)][_0x594be6(0x6fa)]}),_0x10977e=[],_0x1c08a4=_0x34a17d[_0x594be6(0x4d5)][_0x594be6(0x3d6)](_0x1c20b2=>Buffer[_0x594be6(0x7eb)](_0x1c20b2)[_0x594be6(0x5e7)](_0x594be6(0x1ca)));for(let {optionName:_0x1b2446}of _0x236e1f[_0x594be6(0x20e)]?.['options']||_0x236e1f['pollCreationMessageV3']?.[_0x594be6(0x1d5)]||_0x236e1f['pollCreationMessageV2']?.['options'])_0x1c08a4['indexOf']((0x0,w[_0x594be6(0x829)])(Buffer['from'](_0x1b2446))[_0x594be6(0x5e7)]('hex'))>-0x1&&_0x10977e['push'](_0x1b2446);return _0x10977e;}}return null;},this[_0x4ceca5(0x79f)]=(_0x584a05,_0x460a65,_0x332a62)=>{const _0x3908ca=_0x4ceca5;try{let _0x222429=_0x584a05?(0x0,w['extractMessageContent'])(_0x584a05)[_0x460a65]:void 0x0,_0xc51775={},_0x49553d=null,_0x3c1eb8=null,_0x177726=null,_0x53d35e=null;_0x460a65===_0x3908ca(0x285)&&_0x222429?.[_0x3908ca(0x8b1)]&&(_0x460a65=(0x0,w[_0x3908ca(0x244)])(_0x222429[_0x3908ca(0x8b1)]),_0x49553d=_0x584a05['protocolMessage'][_0x3908ca(0x33a)]['id'],_0x222429=_0x584a05['protocolMessage'][_0x3908ca(0x8b1)][_0x460a65]),_0x584a05[_0x460a65]?.[_0x3908ca(0x45c)]?.[_0x3908ca(0x936)]&&_0x584a05[_0x460a65]?.[_0x3908ca(0x45c)]?.[_0x3908ca(0x797)]&&(_0x3c1eb8=_0x584a05[_0x460a65][_0x3908ca(0x45c)][_0x3908ca(0x936)]),_0x584a05['reactionMessage']&&(_0x177726=_0x584a05['reactionMessage'][_0x3908ca(0x33a)]['id']);let _0xd267a9;if(_0x222429&&typeof _0x222429=='object'&&_0x3908ca(0x567)in _0x222429&&({pollCreationMessageKey:_0xd267a9}=_0x222429),_0x460a65===_0x3908ca(0x20e)||_0x460a65==='pollCreationMessageV2'||_0x460a65===_0x3908ca(0x64a)){let _0x1fd9c6=_0x222429[_0x3908ca(0x1d5)][_0x3908ca(0x3d6)](_0x3c7ac8=>_0x3c7ac8[_0x3908ca(0x7c8)])[_0x3908ca(0x6ef)]('|');_0xc51775[_0x3908ca(0x45b)]=_0x1fd9c6;}if(_0x460a65==='interactiveMessage'){let _0x49e4ab=_0x222429[_0x3908ca(0x3ea)]['buttons'][_0x3908ca(0x3d6)](_0x2f27f9=>JSON['parse'](_0x2f27f9[_0x3908ca(0x58e)])['display_text'])['join']('|');_0xc51775[_0x3908ca(0x45b)]=_0x49e4ab;}_0x460a65===_0x3908ca(0x49e)&&(_0xc51775[_0x3908ca(0x60e)]=_0x222429?.['singleSelectReply']?.[_0x3908ca(0x3b5)]);let _0x222715='';if(_0x222429&&(_0x222715+=_0x222429[_0x3908ca(0x537)]?_0x222429[_0x3908ca(0x537)]:'',_0x222715+=_0x222429[_0x3908ca(0x65e)]?'\x20'+_0x222429['caption']:'',_0x222715+=_0x222429[_0x3908ca(0x614)]?'\x20'+_0x222429[_0x3908ca(0x614)]:'',_0x222715+=_0x222429[_0x3908ca(0x217)]?'\x20'+_0x222429[_0x3908ca(0x217)]:'',_0x460a65!==_0x3908ca(0x8a0)&&(_0x222715+=_0x222429[_0x3908ca(0x77f)]?.[_0x3908ca(0x5d0)]?'\x20'+_0x222429[_0x3908ca(0x77f)][_0x3908ca(0x5d0)]:''),_0x222715+=_0x222429?.['footer']?.[_0x3908ca(0x5d0)]?'\x20'+_0x222429?.[_0x3908ca(0x38c)]?.[_0x3908ca(0x5d0)]:''),_0x460a65==='listMessage'){_0x222715=(_0x222429[_0x3908ca(0x1e9)]||'')+'\x0a'+(_0x222429[_0x3908ca(0x872)]||'')+'\x0a'+(_0x222429[_0x3908ca(0x760)]||'');let _0xd59453=this['sectionsToString'](_0x222429['sections']);_0xc51775[_0x3908ca(0x45b)]=_0xd59453;}if(_0x460a65===_0x3908ca(0x49e)&&(_0x332a62=_0x222429[_0x3908ca(0x1e9)],_0x53d35e=_0x222429?.[_0x3908ca(0x2bf)]?.['selectedRowId']),_0x460a65==='interactiveResponseMessage'&&(_0x332a62=_0x222429?.[_0x3908ca(0x77f)]?.[_0x3908ca(0x5d0)]),_0x460a65===_0x3908ca(0x452)&&(_0x332a62=_0x222429?.['selectedDisplayText'],_0x53d35e=_0x222429?.[_0x3908ca(0x60b)]),_0x222429&&_0x222429['vcard']){let _0x816183=this[_0x3908ca(0x75e)](JSON[_0x3908ca(0x684)](_0x222429[_0x3908ca(0x2ae)],null,0x2));_0x222715=_0x222715+'\x0a'+_0x816183;}if(_0x222429){let {nativeFlowResponseMessage:_0x2a6d56,selectedId:_0x3ae042,selectedDisplayText:_0xa48ec3,selectedIndex:_0xe805a4,body:_0x198412,nativeFlowMessage:_0x221021,singleSelectReply:_0x1b319e,sections:_0x5e4e82,listType:_0x1f3775,displayName:_0xd2136a,vcard:_0x1c5866,contactVcard:_0x8be27f,name:_0x4193dd,caption:_0x39fd5c,conversation:_0x2d2418,pollCreationMessageKey:_0x857f45,footerText:_0x3bedd7,contentText:_0x1ed27d,pageCount:_0x452256,headerType:_0x4d86d7,isAvatar:_0x22f0b6,isAnimated:_0x4d36ba,fallbackLc:_0x5d083a,fallbackLg:_0x1cf921,namespace:_0x1ce48f,elementName:_0x22fdf6,localizableParams:_0x346239,viewOnce:_0xebbebc,height:_0x3aa1a0,width:_0x51f338,key:_0x57b0bc,firstScanLength:_0x4b8b26,firstScanSidecar:_0x155601,gifPlayback:_0x2d09ba,gifAttribution:_0x154abf,midQualityFileSha256:_0x29c490,scansSidecar:_0x465ff4,streamingSidecar:_0x522bc6,thumbnailHeight:_0x441cb8,thumbnailWidth:_0x2830e3,thumbnailEncSha256:_0x457b0a,thumbnailDirectPath:_0xd68936,canonicalUrl:_0xc8fc89,matchedText:_0x2aaa78,previewType:_0x21e993,thumbnailSha256:_0xeee236,deviceListMetadataVersion:_0x14da9b,inviteLinkGroupTypeV2:_0x1caef0,interactiveAnnotations:_0x495680,scanLengths:_0x3e0714,jpegThumbnail:_0x133a30,url:_0x4bd43d,mediaKeyTimestamp:_0x45464a,waveform:_0x2c43e6,stickerSentTs:_0x566637,firstFrameLength:_0x38a521,fileEncSha256:_0x2879e4,contextInfo:_0xcf1245,firstFrameSidecar:_0x5e6ac1,directPath:_0x379d92,fileSha256:_0x4311e9,mediaKey:_0x21f3b1,senderTimestampMs:_0x2091ac,..._0xbd5a2a}=_0x222429;(_0x460a65===_0x3908ca(0x6f4)||_0x460a65===_0x3908ca(0x49e))&&(delete _0xbd5a2a['title'],delete _0xbd5a2a[_0x3908ca(0x872)]),typeof _0x222429=='string'?_0xc51775={'text':_0x222429,'type':_0x460a65||_0x3908ca(0x614),..._0x49553d&&{'edited':_0x49553d},..._0x3c1eb8&&{'quoted':_0x3c1eb8},..._0x177726&&{'reaction':_0x177726}}:_0xc51775={'text':_0x222715,..._0xbd5a2a,..._0x460a65===_0x3908ca(0x230)?{'poll_id':_0x222429['pollCreationMessageKey']['id'],'quoted':_0x222429[_0x3908ca(0x567)]['id'],'vote':_0x332a62}:{},..._0x460a65==='listResponseMessage'?{'buttonOrList_id':_0x53d35e,'vote':_0x332a62}:{},..._0x460a65===_0x3908ca(0x8a0)?{'vote':_0x332a62}:{},..._0x460a65==='templateButtonReplyMessage'?{'buttonOrList_id':_0x53d35e,'vote':_0x332a62}:{},'type':_0x460a65,..._0x49553d&&{'edited':_0x49553d},..._0x3c1eb8&&{'quoted':_0x3c1eb8},..._0x177726&&{'reaction':_0x177726},...(_0x460a65==='pollCreationMessage'||_0x460a65===_0x3908ca(0x949)||_0x460a65==='pollCreationMessageV3'||_0x460a65==='listMessage'||_0x460a65===_0x3908ca(0x391))&&{'convertedOptions':_0xc51775[_0x3908ca(0x45b)]}};}return{'messageType':_0x460a65,'messageContent':_0x222429,'message_normalized':_0xc51775};}catch(_0x2d202d){return this[_0x3908ca(0x458)]['error'](_0x3908ca(0x79d)+_0x2d202d),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this['pendingMessages']=[],(this['cleanStore'](),this[_0x4ceca5(0x8f0)](),this['instance']['qrcode']={'count':0x0},this[_0x4ceca5(0x7ed)]['ScheduleMessage']={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}set[a0_0x3f93a9(0x5cf)](_0x33ba20){const _0x2975ba=a0_0x3f93a9;if(!_0x33ba20){this['instance'][_0x2975ba(0x537)]=(0x0,$i['v4'])();return;}this[_0x2975ba(0x7ed)][_0x2975ba(0x537)]=_0x33ba20,this['sendDataWebhook'](_0x2975ba(0x7a8),{'instance':this[_0x2975ba(0x7ed)][_0x2975ba(0x537)],'status':_0x2975ba(0x275)});}get[a0_0x3f93a9(0x5cf)](){return this['instance']['name'];}get[a0_0x3f93a9(0x828)](){const _0x17944e=a0_0x3f93a9;return this[_0x17944e(0x7ed)][_0x17944e(0x828)];}async['getProfileName'](){const _0x23cb05=a0_0x3f93a9;let _0x618ebf=this[_0x23cb05(0x2e8)][_0x23cb05(0x73c)]?.[_0x23cb05(0x537)]??this[_0x23cb05(0x2e8)][_0x23cb05(0x73c)]?.[_0x23cb05(0x79b)];if(!_0x618ebf){if(this[_0x23cb05(0x4f6)][_0x23cb05(0x2da)](_0x23cb05(0x72b))[_0x23cb05(0x218)]){let _0x478e03=await A[_0x23cb05(0x5d5)]()['db'](this[_0x23cb05(0x4f6)][_0x23cb05(0x2da)](_0x23cb05(0x72b))[_0x23cb05(0x626)][_0x23cb05(0x520)]+'-instances')[_0x23cb05(0x387)](this[_0x23cb05(0x5cf)])[_0x23cb05(0x39a)]({'_id':_0x23cb05(0x6ec)});if(_0x478e03){let _0x19cc98=JSON[_0x23cb05(0x4a9)](JSON['stringify'](_0x478e03),w[_0x23cb05(0x771)][_0x23cb05(0x2db)]);_0x618ebf=_0x19cc98['me']?.[_0x23cb05(0x537)]||_0x19cc98['me']?.[_0x23cb05(0x79b)];}}else{if((0x0,Le['existsSync'])((0x0,j[_0x23cb05(0x6ef)])(Se,this[_0x23cb05(0x5cf)],_0x23cb05(0x3a3)))){let _0x3ad1f5=JSON[_0x23cb05(0x4a9)]((0x0,Le[_0x23cb05(0x8ac)])((0x0,j['join'])(Se,this[_0x23cb05(0x5cf)],_0x23cb05(0x3a3)),{'encoding':_0x23cb05(0x2b8)}));_0x618ebf=_0x3ad1f5['me']?.[_0x23cb05(0x537)]||_0x3ad1f5['me']?.['verifiedName'];}}}return _0x618ebf;}get[a0_0x3f93a9(0x3c4)](){const _0x328a84=a0_0x3f93a9;return this[_0x328a84(0x7ed)][_0x328a84(0x3c4)];}get[a0_0x3f93a9(0x2e4)](){const _0x57e010=a0_0x3f93a9;return this['instance']['qrcode']?.[_0x57e010(0x2a3)]?{'pairingCode':this[_0x57e010(0x7ed)][_0x57e010(0x891)]?.[_0x57e010(0x2a3)]}:{'code':this[_0x57e010(0x7ed)][_0x57e010(0x891)]?.[_0x57e010(0x1ee)],'base64':this[_0x57e010(0x7ed)][_0x57e010(0x891)]?.[_0x57e010(0x299)]};}async[a0_0x3f93a9(0x945)](){const _0x5029ab=a0_0x3f93a9;let _0xffffcd=await this['repository']['webhook'][_0x5029ab(0x419)](this[_0x5029ab(0x5cf)]);this[_0x5029ab(0x372)][_0x5029ab(0x3f9)]=_0xffffcd?.[_0x5029ab(0x3f9)],this[_0x5029ab(0x372)]['enabled']=_0xffffcd?.[_0x5029ab(0x7c7)],this[_0x5029ab(0x372)][_0x5029ab(0x1e5)]=_0xffffcd?.['local_map'],this[_0x5029ab(0x372)]['STATUS_INSTANCE']=_0xffffcd?.[_0x5029ab(0x22e)],this[_0x5029ab(0x372)]['QRCODE_UPDATED']=_0xffffcd?.[_0x5029ab(0x4e9)],this[_0x5029ab(0x372)][_0x5029ab(0x6bd)]=_0xffffcd?.[_0x5029ab(0x6bd)],this['localWebhook']['MESSAGES_UPSERT']=_0xffffcd?.[_0x5029ab(0x45f)],this[_0x5029ab(0x372)][_0x5029ab(0x704)]=_0xffffcd?.['MESSAGES_UPDATE'],this[_0x5029ab(0x372)][_0x5029ab(0x1c7)]=_0xffffcd?.['GROUPS_UPSERT'],this[_0x5029ab(0x372)]['GROUPS_UPDATE']=_0xffffcd?.[_0x5029ab(0x85e)],this[_0x5029ab(0x372)][_0x5029ab(0x69b)]=_0xffffcd?.['GROUP_PARTICIPANTS_UPDATE'],this[_0x5029ab(0x372)]['CHATS_SET']=_0xffffcd?.[_0x5029ab(0x636)],this[_0x5029ab(0x372)][_0x5029ab(0x492)]=_0xffffcd?.['CHATS_UPSERT'],this[_0x5029ab(0x372)][_0x5029ab(0x50f)]=_0xffffcd?.['CHATS_UPDATE'],this[_0x5029ab(0x372)][_0x5029ab(0x5e3)]=_0xffffcd?.[_0x5029ab(0x5e3)],this[_0x5029ab(0x372)][_0x5029ab(0x200)]=_0xffffcd?.[_0x5029ab(0x200)],this['localWebhook'][_0x5029ab(0x1fb)]=_0xffffcd?.[_0x5029ab(0x1fb)],this[_0x5029ab(0x372)][_0x5029ab(0x496)]=_0xffffcd?.['CONTACTS_UPDATE'],this[_0x5029ab(0x372)]['PRESENCE_UPDATE']=_0xffffcd?.['PRESENCE_UPDATE'],this[_0x5029ab(0x372)][_0x5029ab(0x254)]=_0xffffcd?.[_0x5029ab(0x254)],this[_0x5029ab(0x372)][_0x5029ab(0x6cb)]=_0xffffcd?.[_0x5029ab(0x6cb)],this[_0x5029ab(0x372)][_0x5029ab(0x320)]=_0xffffcd?.['groups_ignore'];}async['setWebhook'](_0x10322f){const _0x34386b=a0_0x3f93a9;let _0x50d10b=[_0x34386b(0x7ad),_0x34386b(0x3f9),'enabled','local_map',_0x34386b(0x22e),_0x34386b(0x4e9),_0x34386b(0x704),'MESSAGES_UPSERT',_0x34386b(0x6bd),_0x34386b(0x1c7),_0x34386b(0x85e),_0x34386b(0x69b),_0x34386b(0x636),_0x34386b(0x492),_0x34386b(0x50f),_0x34386b(0x5e3),_0x34386b(0x200),_0x34386b(0x1fb),_0x34386b(0x496),_0x34386b(0x701),'MESSAGES_SET',_0x34386b(0x6cb),'groups_ignore'],_0x5d78db={};return _0x50d10b[_0x34386b(0x3c9)](_0x40851a=>{_0x10322f[_0x40851a]!==void 0x0&&(_0x5d78db[_0x40851a]=_0x10322f[_0x40851a]);}),_0x5d78db['url']&&(_0x5d78db[_0x34386b(0x3f9)]=_0x5d78db[_0x34386b(0x3f9)][_0x34386b(0x382)]()),await this[_0x34386b(0x4a0)][_0x34386b(0x773)][_0x34386b(0x270)](_0x5d78db,this[_0x34386b(0x5cf)]),Object[_0x34386b(0x6a6)](this[_0x34386b(0x372)],_0x5d78db),await this['repository'][_0x34386b(0x773)]['find'](this[_0x34386b(0x5cf)]);}async[a0_0x3f93a9(0x8cf)](){const _0x1bb85f=a0_0x3f93a9;return await this['repository'][_0x1bb85f(0x773)][_0x1bb85f(0x419)](this[_0x1bb85f(0x5cf)]);}async['sendDataWebhook'](_0x5c0bed,_0x307ce0){const _0x48d3e6=a0_0x3f93a9;let _0x66accf=_0x5c0bed['replace'](/[\.-]/gm,'_')[_0x48d3e6(0x3e8)](),_0x115c51=this[_0x48d3e6(0x372)][_0x48d3e6(0x7c7)]&&(0x0,J['isURL'])(this[_0x48d3e6(0x372)][_0x48d3e6(0x3f9)])?this[_0x48d3e6(0x372)][_0x48d3e6(0x3f9)]+(this[_0x48d3e6(0x372)]['local_map']?this[_0x48d3e6(0x56a)][_0x5c0bed]:''):null,_0x376dfe=this[_0x48d3e6(0x372)][_0x66accf],_0x73bcd1=he&&he[_0x48d3e6(0x7c7)]&&(0x0,J[_0x48d3e6(0x1d4)])(he[_0x48d3e6(0x3f9)])?he[_0x48d3e6(0x3f9)]+(he[_0x48d3e6(0x1e5)]?this[_0x48d3e6(0x56a)][_0x5c0bed]:''):null,_0x1597c4=he?he[_0x66accf]:null;if(_0x376dfe&&_0x115c51)try{await Q['default']['create']({'baseURL':_0x115c51})[_0x48d3e6(0x239)]('',{'event':_0x5c0bed,'instance':this[_0x48d3e6(0x7ed)][_0x48d3e6(0x537)],'apikey':this['instance'][_0x48d3e6(0x5ec)],'data':_0x307ce0}),this[_0x48d3e6(0x458)][_0x48d3e6(0x236)](this[_0x48d3e6(0x5cf)]+'\x20('+this[_0x48d3e6(0x7ed)][_0x48d3e6(0x828)]+_0x48d3e6(0x4c9)+_0x5c0bed+':\x20'+_0x115c51);}catch{this[_0x48d3e6(0x458)][_0x48d3e6(0x70d)](this[_0x48d3e6(0x5cf)]+'\x20('+this[_0x48d3e6(0x7ed)]['wuid']+_0x48d3e6(0x761)+_0x5c0bed+':\x20'+_0x115c51);}if(_0x1597c4&&_0x73bcd1)try{await Q['default'][_0x48d3e6(0x270)]({'baseURL':_0x73bcd1})[_0x48d3e6(0x239)]('',{'event':_0x5c0bed,'instance':this[_0x48d3e6(0x7ed)]['name'],'apikey':this[_0x48d3e6(0x7ed)][_0x48d3e6(0x5ec)],'data':_0x307ce0}),this[_0x48d3e6(0x458)][_0x48d3e6(0x236)](this['instanceName']+'\x20('+this[_0x48d3e6(0x7ed)][_0x48d3e6(0x828)]+_0x48d3e6(0x7cb)+_0x5c0bed+':\x20'+_0x73bcd1);}catch{this[_0x48d3e6(0x458)][_0x48d3e6(0x70d)](this[_0x48d3e6(0x5cf)]+'\x20('+this[_0x48d3e6(0x7ed)][_0x48d3e6(0x828)]+_0x48d3e6(0x850)+_0x5c0bed+':\x20'+_0x73bcd1);}}async[a0_0x3f93a9(0x85a)]({qr:_0xed8b64,connection:_0x57c38f,lastDisconnect:_0x4afce9}){const _0xde1cee=a0_0x3f93a9;if(_0xed8b64){if(this['instance']['qrcode'][_0xde1cee(0x85f)]===Oo)return this[_0xde1cee(0x331)](_0xde1cee(0x446),{'message':_0xde1cee(0x4ce),'statusCode':w['DisconnectReason'][_0xde1cee(0x1fe)]}),this[_0xde1cee(0x79e)]={'state':'refused','statusReason':w['DisconnectReason'][_0xde1cee(0x781)]},this[_0xde1cee(0x331)](_0xde1cee(0x53a),{'instance':this[_0xde1cee(0x7ed)][_0xde1cee(0x537)],...this[_0xde1cee(0x79e)]}),this[_0xde1cee(0x331)](_0xde1cee(0x7a8),{'instance':this[_0xde1cee(0x7ed)][_0xde1cee(0x537)],'status':_0xde1cee(0x83c)}),this[_0xde1cee(0x4a0)][_0xde1cee(0x30a)][_0xde1cee(0x342)](this[_0xde1cee(0x7ed)][_0xde1cee(0x537)]),this['endSession']=!0x0,se[_0xde1cee(0x635)](B,this[_0xde1cee(0x7ed)][_0xde1cee(0x537)]),this[_0xde1cee(0x8f8)][_0xde1cee(0x7bc)](_0xde1cee(0x1fc),this['instance'][_0xde1cee(0x537)]);this[_0xde1cee(0x7ed)][_0xde1cee(0x891)][_0xde1cee(0x85f)]++;let _0xc2f317={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':'#000000'}};Ri['default'][_0xde1cee(0x304)](_0xed8b64,_0xc2f317,(_0x49aa88,_0x146d7b)=>{const _0x3a9a33=_0xde1cee;if(_0x49aa88){this['logger'][_0x3a9a33(0x70d)](this[_0x3a9a33(0x5cf)]+'\x20('+this[_0x3a9a33(0x7ed)][_0x3a9a33(0x828)]+_0x3a9a33(0x8ae)+(_0x49aa88 instanceof Error?_0x49aa88[_0x3a9a33(0x7a3)]:JSON[_0x3a9a33(0x684)](_0x49aa88,null,0x2)));return;}this[_0x3a9a33(0x7ed)][_0x3a9a33(0x891)]['base64']=_0x146d7b,this[_0x3a9a33(0x7ed)][_0x3a9a33(0x891)][_0x3a9a33(0x1ee)]=_0xed8b64,!this[_0x3a9a33(0x8f7)]&&this['sendDataWebhook'](_0x3a9a33(0x446),{'qrcode':{'instance':this[_0x3a9a33(0x7ed)][_0x3a9a33(0x537)],'pairingCode':this[_0x3a9a33(0x7ed)][_0x3a9a33(0x891)]['pairingCode'],'code':_0xed8b64,'base64':_0x146d7b}});}),this['phoneNumber']?this[_0xde1cee(0x7ed)][_0xde1cee(0x891)][_0xde1cee(0x2a3)]||(await(0x0,w[_0xde1cee(0x818)])(0x7d0),this['instance'][_0xde1cee(0x891)][_0xde1cee(0x2a3)]=await this['client'][_0xde1cee(0x7d6)](this[_0xde1cee(0x8f7)])):this[_0xde1cee(0x7ed)][_0xde1cee(0x891)][_0xde1cee(0x2a3)]=null,Ai['default'][_0xde1cee(0x2ab)](_0xed8b64,{'small':!0x0},_0xd81649=>this[_0xde1cee(0x458)]['log'](_0xde1cee(0x5b3)+this[_0xde1cee(0x7ed)][_0xde1cee(0x537)]+_0xde1cee(0x263)+this[_0xde1cee(0x7ed)][_0xde1cee(0x891)][_0xde1cee(0x85f)]+',\x20pairCode:\x20'+this['instance'][_0xde1cee(0x891)][_0xde1cee(0x2a3)]+_0xde1cee(0x82f)+_0xd81649));}if(_0x57c38f&&(this[_0xde1cee(0x79e)]={'state':_0x57c38f,'statusReason':_0x4afce9?.['error']?.['output']?.[_0xde1cee(0x863)]??0xc8},this[_0xde1cee(0x331)]('connection.update',{'instance':this['instance'][_0xde1cee(0x537)],...this[_0xde1cee(0x79e)]})),_0x57c38f===_0xde1cee(0x322)){if(this[_0xde1cee(0x76a)]++,this[_0xde1cee(0x392)][_0xde1cee(0x6f2)](Date['now']()),this[_0xde1cee(0x392)]=this[_0xde1cee(0x392)][_0xde1cee(0x697)](_0x5e1a7f=>Date[_0xde1cee(0x5a4)]()-_0x5e1a7f<this['RECONNECT_TIME_FRAME']),_0x4afce9['error']?.[_0xde1cee(0x59c)]?.[_0xde1cee(0x863)]!==w[_0xde1cee(0x93c)][_0xde1cee(0x2c3)]){let _0x10a349=this[_0xde1cee(0x76a)]<=0x1?0x0:Math[_0xde1cee(0x52b)](Math[_0xde1cee(0x36f)](0x2,this[_0xde1cee(0x76a)]-0x1)*0x3e8,0x493e0);console[_0xde1cee(0x236)](this[_0xde1cee(0x5cf)]+_0xde1cee(0x44f)+this[_0xde1cee(0x76a)]+_0xde1cee(0x8d8)+_0x10a349/0x3e8+_0xde1cee(0x7b1)),await new Promise(_0x547e72=>setTimeout(_0x547e72,_0x10a349)),console[_0xde1cee(0x236)](_0xde1cee(0x3fc)),await this[_0xde1cee(0x460)]();}else{this[_0xde1cee(0x331)](_0xde1cee(0x7a8),{'instance':this[_0xde1cee(0x7ed)][_0xde1cee(0x537)],'status':_0xde1cee(0x83c)}),this['instance'][_0xde1cee(0x62b)][_0xde1cee(0x779)]=!0x1,this[_0xde1cee(0x4a0)][_0xde1cee(0x773)][_0xde1cee(0x342)](this[_0xde1cee(0x5cf)]),this[_0xde1cee(0x4a0)]['auth'][_0xde1cee(0x270)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0xde1cee(0x7ed)][_0xde1cee(0x537)]),se[_0xde1cee(0x635)](B,this[_0xde1cee(0x7ed)][_0xde1cee(0x537)]);try{this[_0xde1cee(0x458)][_0xde1cee(0x5e2)](this['instanceName']+'\x20('+this[_0xde1cee(0x7ed)][_0xde1cee(0x828)]+_0xde1cee(0x627));let _0x2e64d9=await this[_0xde1cee(0x4a0)][_0xde1cee(0x7a3)][_0xde1cee(0x617)](this['instance'][_0xde1cee(0x828)]);_0x2e64d9[_0xde1cee(0x7c6)]?this[_0xde1cee(0x458)][_0xde1cee(0x5e2)](this['instanceName']+'\x20('+this['instance'][_0xde1cee(0x828)]+'):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.'):this[_0xde1cee(0x458)][_0xde1cee(0x70d)](_0xde1cee(0x637)+_0x2e64d9['error']);}catch(_0x1a579a){this[_0xde1cee(0x458)][_0xde1cee(0x70d)](_0xde1cee(0x26f)+_0x1a579a['message']);}this[_0xde1cee(0x7ed)][_0xde1cee(0x62b)]['delayMessage']!==null&&(this[_0xde1cee(0x458)][_0xde1cee(0x5e2)](this[_0xde1cee(0x5cf)]+'\x20('+this['instance'][_0xde1cee(0x828)]+_0xde1cee(0x76b)),clearInterval(this[_0xde1cee(0x7ed)][_0xde1cee(0x62b)][_0xde1cee(0x745)]),this['instance']['ScheduleMessage'][_0xde1cee(0x745)]=null),this[_0xde1cee(0x458)][_0xde1cee(0x5e2)](this[_0xde1cee(0x5cf)]+'\x20('+this[_0xde1cee(0x7ed)]['wuid']+'):\x20Limpando\x20AutomateSystem'),this['AutomateSystem']=null,this[_0xde1cee(0x8f8)][_0xde1cee(0x7bc)](_0xde1cee(0x424),this[_0xde1cee(0x7ed)][_0xde1cee(0x537)],'inner'),this[_0xde1cee(0x2e8)]?.['ws']?.[_0xde1cee(0x322)](),this[_0xde1cee(0x2e8)][_0xde1cee(0x412)](new Error(_0xde1cee(0x4c4)));}}if(_0x57c38f===_0xde1cee(0x4f2)){this[_0xde1cee(0x458)][_0xde1cee(0x939)](this[_0xde1cee(0x5cf)]+'\x20('+this[_0xde1cee(0x7ed)]['wuid']+_0xde1cee(0x6e6)+this[_0xde1cee(0x2e8)][_0xde1cee(0x804)][_0xde1cee(0x6ec)]?.['myAppStateKeyId']),this[_0xde1cee(0x2e8)][_0xde1cee(0x804)][_0xde1cee(0x6ec)]?.[_0xde1cee(0x35d)]||(this['logger'][_0xde1cee(0x939)](this[_0xde1cee(0x5cf)]+'\x20('+this['instance'][_0xde1cee(0x828)]+_0xde1cee(0x755)),this[_0xde1cee(0x2e8)]['ev'][_0xde1cee(0x812)]()),this[_0xde1cee(0x694)],this['instance'][_0xde1cee(0x828)]=this[_0xde1cee(0x2e8)]['user']['id'][_0xde1cee(0x2a1)](/:\d+/,'')['replace'](_0xde1cee(0x51e),''),this[_0xde1cee(0x7ed)][_0xde1cee(0x3c4)]=(await this[_0xde1cee(0x434)](this[_0xde1cee(0x7ed)]['wuid']+_0xde1cee(0x51e)))['profilePictureUrl'],this[_0xde1cee(0x4a0)][_0xde1cee(0x30a)][_0xde1cee(0x270)]({'online':!0x0,'owner':this['instance']['wuid'],'lastDisconnect':null},this['instance']['name']);let _0x174bc8=_0xde1cee(0x1f8)+this[_0xde1cee(0x7ed)]['wuid'],_0x2e6c37=0x28,_0x523e46=Math[_0xde1cee(0x693)]((_0x2e6c37-_0x174bc8[_0xde1cee(0x40e)])/0x2),_0xe5753e='\x20'[_0xde1cee(0x4d8)](_0x523e46),_0xc1288e=_0xde1cee(0x8f3),_0x2ddd08=_0xde1cee(0x286)+this[_0xde1cee(0x7ed)]['name'],_0x202c08=(''+_0xe5753e+_0x174bc8+_0xe5753e)[_0xde1cee(0x77e)](_0x2e6c37,'\x20'),_0x3d8dd7=(''+_0xe5753e+_0xc1288e+_0xe5753e)[_0xde1cee(0x77e)](_0x2e6c37,'\x20'),_0x47ffe3=(''+_0xe5753e+_0x2ddd08+_0xe5753e)[_0xde1cee(0x77e)](_0x2e6c37,'\x20'),_0x3844ba=Math[_0xde1cee(0x423)](_0x202c08['length'],_0x3d8dd7[_0xde1cee(0x40e)],_0x47ffe3[_0xde1cee(0x40e)]),_0x2bb050=_0x202c08['padEnd'](_0x3844ba,'\x20'),_0x53c6f6=_0x3d8dd7[_0xde1cee(0x77e)](_0x3844ba,'\x20'),_0x5af817=_0x47ffe3['padEnd'](_0x3844ba,'\x20');this[_0xde1cee(0x458)][_0xde1cee(0x907)]((_0xde1cee(0x593)+'─'[_0xde1cee(0x4d8)](_0x3844ba)+_0xde1cee(0x2af)+_0x53c6f6+_0xde1cee(0x211)+_0x5af817+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x2bb050+_0xde1cee(0x51f)+'─'[_0xde1cee(0x4d8)](_0x3844ba)+'┘')[_0xde1cee(0x2a1)](/^ +/gm,'\x20\x20')),this[_0xde1cee(0x37b)](),this[_0xde1cee(0x7ed)][_0xde1cee(0x62b)][_0xde1cee(0x779)]=!0x0;}}[a0_0x3f93a9(0x694)](){const _0xb03d0d=a0_0x3f93a9;this[_0xb03d0d(0x76a)]=0x0,this[_0xb03d0d(0x392)]=[];}async[a0_0x3f93a9(0x350)](_0x4746d7,_0x333dab=!0x1){const _0x2be297=a0_0x3f93a9;try{let _0x3df1eb=await this[_0x2be297(0x4a0)]['message'][_0x2be297(0x419)]({'where':{'_id':_0x4746d7['id']}},this[_0x2be297(0x7ed)][_0x2be297(0x828)]);return _0x333dab?_0x3df1eb[0x0]:_0x3df1eb[0x0][_0x2be297(0x7a3)];}catch{return{'conversation':''};}}[a0_0x3f93a9(0x1f4)](){const _0x47b6ac=a0_0x3f93a9;let _0x263b34=this[_0x47b6ac(0x4f6)][_0x47b6ac(0x2da)](_0x47b6ac(0x554)),_0x2ef159=this[_0x47b6ac(0x4f6)][_0x47b6ac(0x2da)](_0x47b6ac(0x72b));_0x263b34?.[_0x47b6ac(0x5a7)]&&!_0x2ef159[_0x47b6ac(0x218)]&&setInterval(()=>{const _0x3be9e2=_0x47b6ac;try{for(let [_0xa7d01b,_0x29c847]of Object[_0x3be9e2(0x3be)](_0x263b34))_0x29c847===!0x0&&(0x0,Fe[_0x3be9e2(0x920)])(_0x3be9e2(0x300)+(0x0,j[_0x3be9e2(0x6ef)])(this[_0x3be9e2(0x60d)],_0xa7d01b[_0x3be9e2(0x658)](),this[_0x3be9e2(0x7ed)]['wuid'])+_0x3be9e2(0x2e6));}catch{}},(_0x263b34?.[_0x47b6ac(0x5a7)]??0xe10)*0x3e8);}async[a0_0x3f93a9(0x7b3)](){const _0x5b9200=a0_0x3f93a9;let _0x928545=this['configService'][_0x5b9200(0x2da)]('DATABASE'),_0x4d5404=this[_0x5b9200(0x4f6)]['get'](_0x5b9200(0x8c6));return _0x4d5404?.[_0x5b9200(0x218)]?await Ts(_0x4d5404,this[_0x5b9200(0x7ed)][_0x5b9200(0x537)]):_0x928545[_0x5b9200(0x218)]?await As(this[_0x5b9200(0x7ed)][_0x5b9200(0x537)]):await(0x0,w[_0x5b9200(0x782)])((0x0,j['join'])(Se,this[_0x5b9200(0x7ed)][_0x5b9200(0x537)]));}async[a0_0x3f93a9(0x37b)](){const _0x18c8da=a0_0x3f93a9;let _0xaa80a5=()=>Math[_0x18c8da(0x693)](Math['random']()*0x4e21)+0x7d0,_0x51c8e8=async()=>{const _0x3bf4b9=_0x18c8da;if(!this[_0x3bf4b9(0x7ed)][_0x3bf4b9(0x62b)][_0x3bf4b9(0x779)]){this[_0x3bf4b9(0x458)][_0x3bf4b9(0x5e2)](this[_0x3bf4b9(0x5cf)]+'\x20('+this[_0x3bf4b9(0x7ed)][_0x3bf4b9(0x828)]+'):Desconectado,\x20parando\x20execução.'),this[_0x3bf4b9(0x450)]=!0x1;return;}if(this[_0x3bf4b9(0x7ed)]['wuid']&&this[_0x3bf4b9(0x6d2)]&&this[_0x3bf4b9(0x7ed)]['ScheduleMessage'][_0x3bf4b9(0x745)]!==null&&this[_0x3bf4b9(0x7ed)][_0x3bf4b9(0x62b)][_0x3bf4b9(0x745)]!==void 0x0){let _0x1ad4af=Math[_0x3bf4b9(0x539)](this[_0x3bf4b9(0x7ed)][_0x3bf4b9(0x62b)]['delayMessage']/0xea60);this[_0x3bf4b9(0x458)][_0x3bf4b9(0x5e2)](this[_0x3bf4b9(0x5cf)]+'\x20('+this[_0x3bf4b9(0x7ed)][_0x3bf4b9(0x828)]+_0x3bf4b9(0x7ae)+_0x1ad4af+_0x3bf4b9(0x37f)),this[_0x3bf4b9(0x450)]=!0x1;return;}else this['instance'][_0x3bf4b9(0x828)]&&(this[_0x3bf4b9(0x458)]['verbose'](this[_0x3bf4b9(0x5cf)]+'\x20('+this['instance'][_0x3bf4b9(0x828)]+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this[_0x3bf4b9(0x6d2)]||(await this['getAutomateSystem'](),this[_0x3bf4b9(0x2c6)](),this['synchronizeAndMapFlows']()),(this[_0x3bf4b9(0x7ed)]['ScheduleMessage']['delayMessage']===null||this[_0x3bf4b9(0x7ed)][_0x3bf4b9(0x62b)][_0x3bf4b9(0x745)]===void 0x0)&&await this[_0x3bf4b9(0x538)]());if(this['isRunning']){let _0x329efd=_0xaa80a5();this[_0x3bf4b9(0x458)][_0x3bf4b9(0x5e2)](this[_0x3bf4b9(0x5cf)]+_0x3bf4b9(0x421)+_0x329efd/0x3e8+'\x20segundos'),setTimeout(_0x51c8e8,_0x329efd);}};if(this[_0x18c8da(0x450)])return;this[_0x18c8da(0x450)]=!0x0;let _0x35d735=_0xaa80a5();setTimeout(_0x51c8e8,_0x35d735);}async[a0_0x3f93a9(0x21c)](){const _0x3ef1bb=a0_0x3f93a9;let _0x462464=this['instance'][_0x3ef1bb(0x828)];try{let _0x3bf064=await this[_0x3ef1bb(0x4a0)][_0x3ef1bb(0x3d3)]['findAll']({'where':{'$or':[{'owner':_0x462464},{'whoCanUse':{'$in':[_0x462464]}},{'shareOwners':{'$in':[_0x462464]}}]}}),_0x20411f=new Map(this[_0x3ef1bb(0x6d2)][_0x3ef1bb(0x84f)][_0x3ef1bb(0x3d6)](_0x18998c=>[_0x18998c[_0x3ef1bb(0x7ad)],_0x18998c])),_0x190224=_0x3bf064[_0x3ef1bb(0x3d6)](_0x5025bf=>{const _0x491345=_0x3ef1bb;let _0x70290e=_0x20411f[_0x491345(0x2da)](_0x5025bf[_0x491345(0x7ad)]?.['toString']());return{'_id':_0x5025bf['_id']?.['toString'](),'name':_0x70290e?.[_0x491345(0x537)]??_0x5025bf[_0x491345(0x537)],'default':_0x70290e?.[_0x491345(0x73f)]??_0x5025bf[_0x491345(0x73f)]??!0x1,'startCommand':_0x70290e?.[_0x491345(0x6ca)]??_0x5025bf[_0x491345(0x330)],'minutesToClose':_0x70290e?.['minutesToClose']??_0x5025bf['minutesToClose']??0xa,'readMessages':_0x70290e?.['readMessages']??_0x5025bf[_0x491345(0x5d3)]??!0x1,'testingWith':_0x70290e?.['testingWith']??_0x5025bf['testingWith'],'canEdit':_0x5025bf[_0x491345(0x4a1)]===_0x462464||(_0x5025bf[_0x491345(0x459)]??[])[_0x491345(0x8dc)](_0x462464),'usersCount':(_0x5025bf[_0x491345(0x510)]??[])[_0x491345(0x40e)]??0x0};}),_0x1b5194=!0x1;_0x190224[_0x3ef1bb(0x3c9)](_0x2a8499=>{const _0x5c339f=_0x3ef1bb;_0x2a8499['default']&&(_0x1b5194?_0x2a8499[_0x5c339f(0x73f)]=!0x1:_0x1b5194=!0x0);}),this[_0x3ef1bb(0x6d2)][_0x3ef1bb(0x84f)]=_0x190224;let _0x594409={'flows':_0x190224};return await this[_0x3ef1bb(0x4a0)]['automateSystem'][_0x3ef1bb(0x2df)](_0x594409,_0x462464),this[_0x3ef1bb(0x458)][_0x3ef1bb(0x5e2)](this[_0x3ef1bb(0x5cf)]+'\x20('+_0x462464+_0x3ef1bb(0x58b)),_0x190224[_0x3ef1bb(0x40e)];}catch(_0x247f3a){return this[_0x3ef1bb(0x458)][_0x3ef1bb(0x70d)](this[_0x3ef1bb(0x5cf)]+'\x20('+_0x462464+_0x3ef1bb(0x2b7)+(_0x247f3a instanceof Error?_0x247f3a[_0x3ef1bb(0x7a3)]:JSON[_0x3ef1bb(0x684)](_0x247f3a,null,0x2))),{'message':_0x3ef1bb(0x435)+(_0x247f3a instanceof Error?_0x247f3a[_0x3ef1bb(0x7a3)]:JSON[_0x3ef1bb(0x684)](_0x247f3a,null,0x2))};}}async['connectToWhatsapp'](_0x40e188){const _0x174ff7=a0_0x3f93a9;try{let _0x349862=await this[_0x174ff7(0x4a0)][_0x174ff7(0x7ed)][_0x174ff7(0x39a)]({'where':{'_id':B+'-'+this[_0x174ff7(0x5cf)]}}),_0x39ea74,_0x610b6f=!se[_0x174ff7(0x35a)]||!se[_0x174ff7(0x8c1)];console['log'](_0x174ff7(0x527)),console[_0x174ff7(0x236)](_0x174ff7(0x5b9),Ni),console['log'](_0x174ff7(0x32f),this[_0x174ff7(0x76a)]),console[_0x174ff7(0x236)](_0x174ff7(0x527)),Ni&&!_0x610b6f&&(this['reconnectAttempts']<0x4||!this[_0x174ff7(0x76a)]?_0x349862&&_0x349862['ip']?(_0x39ea74=_0x349862['ip'],console[_0x174ff7(0x236)](_0x174ff7(0x2c9)+_0x39ea74)):(_0x39ea74=await se['createIPv6'](B,this['instance'][_0x174ff7(0x537)]),_0x39ea74?(console[_0x174ff7(0x236)]('Novo\x20IP\x20criado:\x20'+_0x39ea74),await(0x0,w[_0x174ff7(0x818)])(0x7d0)):console[_0x174ff7(0x70d)](_0x174ff7(0x874))):this[_0x174ff7(0x76a)]<0x6&&(await se[_0x174ff7(0x635)](B,this[_0x174ff7(0x7ed)][_0x174ff7(0x537)]),console[_0x174ff7(0x236)](_0x174ff7(0x928)),_0x39ea74=await se[_0x174ff7(0x40a)](B,this[_0x174ff7(0x7ed)][_0x174ff7(0x537)]),_0x39ea74?(console[_0x174ff7(0x236)](_0x174ff7(0x580)+_0x39ea74),await(0x0,w[_0x174ff7(0x818)])(0x7d0)):console[_0x174ff7(0x70d)]('Falha\x20ao\x20recriar\x20IPv6.'))),this[_0x174ff7(0x945)](),this['instance']['apikey']=(await this[_0x174ff7(0x4a0)][_0x174ff7(0x30a)][_0x174ff7(0x419)](this[_0x174ff7(0x7ed)][_0x174ff7(0x537)]))[_0x174ff7(0x5ec)],this[_0x174ff7(0x7ed)]['authState']=await this['defineAuthState']();let {version:_0x44b087}=await(0x0,w['fetchLatestBaileysVersion'])(),_0x4ff165=[Ii,Ps,(0x0,Os[_0x174ff7(0x85c)])()],_0x6d9555={'localAddress':_0x39ea74,'auth':{'creds':this[_0x174ff7(0x7ed)]['authState'][_0x174ff7(0x338)][_0x174ff7(0x6ec)],'keys':(0x0,w[_0x174ff7(0x31d)])(this[_0x174ff7(0x7ed)][_0x174ff7(0x804)][_0x174ff7(0x338)][_0x174ff7(0x1fa)],(0x0,Ft[_0x174ff7(0x73f)])({'level':_0x174ff7(0x70d)}))},'logger':(0x0,Ft[_0x174ff7(0x73f)])({'level':_0x174ff7(0x70d)}),'printQRInTerminal':!0x1,'browser':_0x40e188?[_0x174ff7(0x81a),Ps,(0x0,Os[_0x174ff7(0x85c)])()]:_0x4ff165,'version':_0x44b087,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x31ab11=>{const _0x2e76ba=_0x174ff7;let _0x1d2882=this[_0x2e76ba(0x372)]?.[_0x2e76ba(0x320)]&&(0x0,w[_0x2e76ba(0x532)])(_0x31ab11);return(0x0,w[_0x2e76ba(0x921)])(_0x31ab11)||_0x1d2882;},'msgRetryCounterCache':this[_0x174ff7(0x698)],'getMessage':async _0x786f2e=>await this[_0x174ff7(0x350)](_0x786f2e),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x22a459){const _0x1dee82=_0x174ff7;return _0x22a459[_0x1dee82(0x5f5)]?.[_0x1dee82(0x7a3)]?.[_0x1dee82(0x6f4)]?.[_0x1dee82(0x8f5)]===w[_0x1dee82(0x820)][_0x1dee82(0x6f9)][_0x1dee82(0x5d1)][_0x1dee82(0x7f0)][_0x1dee82(0x5de)]&&(_0x22a459=JSON[_0x1dee82(0x4a9)](JSON['stringify'](_0x22a459)),_0x22a459['deviceSentMessage']['message']['listMessage'][_0x1dee82(0x8f5)]=w[_0x1dee82(0x820)][_0x1dee82(0x6f9)][_0x1dee82(0x5d1)][_0x1dee82(0x7f0)][_0x1dee82(0x819)]),_0x22a459[_0x1dee82(0x6f4)]?.['listType']==w[_0x1dee82(0x820)]['Message'][_0x1dee82(0x5d1)][_0x1dee82(0x7f0)][_0x1dee82(0x5de)]&&(_0x22a459=JSON[_0x1dee82(0x4a9)](JSON[_0x1dee82(0x684)](_0x22a459)),_0x22a459[_0x1dee82(0x6f4)][_0x1dee82(0x8f5)]=w[_0x1dee82(0x820)]['Message'][_0x1dee82(0x5d1)][_0x1dee82(0x7f0)]['SINGLE_SELECT']),_0x22a459;}};return this[_0x174ff7(0x3ab)]=!0x1,this[_0x174ff7(0x2e8)]=(0x0,w[_0x174ff7(0x73f)])(_0x6d9555),this[_0x174ff7(0x399)](),this['phoneNumber']=_0x40e188,this[_0x174ff7(0x2e8)];}catch(_0x8bc822){let _0x251236='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp',_0x15e05a=_0x8bc822 instanceof Error?_0x8bc822['message']:typeof _0x8bc822==_0x174ff7(0x894)?JSON[_0x174ff7(0x684)](_0x8bc822):_0x8bc822,_0x2ddd18=_0x251236+':\x20'+_0x15e05a;throw this[_0x174ff7(0x458)][_0x174ff7(0x70d)](this[_0x174ff7(0x5cf)]+'\x20('+this[_0x174ff7(0x7ed)][_0x174ff7(0x828)]+'):\x20'+_0x2ddd18),console[_0x174ff7(0x70d)](_0x174ff7(0x3a5),_0x8bc822),_0x8bc822 instanceof Error&&console[_0x174ff7(0x70d)]('Stack\x20trace:',_0x8bc822[_0x174ff7(0x638)]),new x(_0x2ddd18);}}['eventHandler'](){const _0xeadbec=a0_0x3f93a9;this[_0xeadbec(0x2e8)]['ev'][_0xeadbec(0x1d7)](_0x28c489=>{const _0x4abcdf=_0xeadbec;if(!this[_0x4abcdf(0x3ab)]){let _0x33f600=this['configService'][_0x4abcdf(0x2da)]('DATABASE');if(_0x28c489[_0x4abcdf(0x38a)]){let _0x2c9161=_0x28c489['labels.edit'];this['messageHandle'][_0x4abcdf(0x38a)](_0x2c9161);}if(_0x28c489['labels.association']){let _0x16e38a=_0x28c489[_0x4abcdf(0x632)];this[_0x4abcdf(0x563)][_0x4abcdf(0x632)](_0x16e38a);}if(_0x28c489[_0x4abcdf(0x53a)]&&this[_0x4abcdf(0x85a)](_0x28c489[_0x4abcdf(0x53a)]),_0x28c489[_0x4abcdf(0x7a7)]&&this[_0x4abcdf(0x7ed)][_0x4abcdf(0x804)][_0x4abcdf(0x7d5)](),_0x28c489[_0x4abcdf(0x282)]){let _0x4d93da=_0x28c489[_0x4abcdf(0x282)];this[_0x4abcdf(0x563)][_0x4abcdf(0x282)](_0x4d93da,_0x33f600);}if(_0x28c489[_0x4abcdf(0x640)]){let _0x183a87=_0x28c489[_0x4abcdf(0x640)];this[_0x4abcdf(0x563)][_0x4abcdf(0x640)](_0x183a87,_0x33f600);}if(_0x28c489[_0x4abcdf(0x2ed)]){let _0xa32795=_0x28c489['messages.update'];this['messageHandle'][_0x4abcdf(0x2ed)](_0xa32795,_0x33f600);}if(_0x28c489[_0x4abcdf(0x941)]){let _0x51af81=_0x28c489[_0x4abcdf(0x941)];if(this[_0x4abcdf(0x372)]?.[_0x4abcdf(0x320)]&&_0x51af81['id']['includes']('@g.us'))return;this[_0x4abcdf(0x331)](_0x4abcdf(0x941),_0x51af81);}if(_0x28c489['groups.upsert']){let _0x3310f4=_0x28c489['groups.upsert'];this[_0x4abcdf(0x689)]['groups.upsert'](_0x3310f4);}if(_0x28c489[_0x4abcdf(0x5be)]){let _0x1da5c8=_0x28c489[_0x4abcdf(0x5be)];this['groupHandler'][_0x4abcdf(0x5be)](_0x1da5c8);}if(_0x28c489['group-participants.update']){let _0x583251=_0x28c489[_0x4abcdf(0x41c)];this[_0x4abcdf(0x689)]['group-participants.update'](_0x583251);}if(_0x28c489[_0x4abcdf(0x3b8)]){let _0x779c3c=_0x28c489[_0x4abcdf(0x3b8)];this[_0x4abcdf(0x836)][_0x4abcdf(0x3b8)](_0x779c3c,_0x33f600);}if(_0x28c489[_0x4abcdf(0x88d)]){let _0x4f0010=_0x28c489[_0x4abcdf(0x88d)];this[_0x4abcdf(0x836)]['chats.update'](_0x4f0010,_0x33f600);}if(_0x28c489[_0x4abcdf(0x352)]){let _0x2b6f9c=_0x28c489[_0x4abcdf(0x352)];this['chatHandle'][_0x4abcdf(0x352)](_0x2b6f9c);}if(_0x28c489['contacts.upsert']){let _0x1c55e5=_0x28c489[_0x4abcdf(0x5fc)];this['contactHandle']['contacts.upsert'](_0x1c55e5,_0x33f600);}if(_0x28c489[_0x4abcdf(0x3b7)]){let _0x179f8b=_0x28c489[_0x4abcdf(0x3b7)];this[_0x4abcdf(0x530)][_0x4abcdf(0x3b7)](_0x179f8b,_0x33f600);}}});}async[a0_0x3f93a9(0x754)](_0xdb86d5,_0x14605b){const _0xd6211c=a0_0x3f93a9;if(_0x14605b>=0xa){console['error'](this[_0xd6211c(0x5cf)]+'\x20('+this[_0xd6211c(0x7ed)][_0xd6211c(0x828)]+_0xd6211c(0x26b)),await this['fakeReceived'](_0xdb86d5),delete Lt[_0xdb86d5['key']['id']];return;}try{console['error'](this[_0xd6211c(0x5cf)]+'\x20('+this[_0xd6211c(0x7ed)][_0xd6211c(0x828)]+_0xd6211c(0x58f)+(_0x14605b+0x1)),await this[_0xd6211c(0x2e8)][_0xd6211c(0x39d)](JSON[_0xd6211c(0x4a9)](_0xdb86d5[_0xd6211c(0x20c)][0x1],w[_0xd6211c(0x771)][_0xd6211c(0x2db)])),console[_0xd6211c(0x70d)]('[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso');}catch(_0xcec997){console[_0xd6211c(0x70d)](this['instanceName']+'\x20('+this[_0xd6211c(0x7ed)][_0xd6211c(0x828)]+'):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20'+_0xcec997),setTimeout(()=>this[_0xd6211c(0x754)](_0xdb86d5,_0x14605b+0x1),Math[_0xd6211c(0x36f)](0x2,_0x14605b)*0x3e8);}}async[a0_0x3f93a9(0x2a6)](_0x7ae6a3){const _0x142fef=a0_0x3f93a9;let _0x476ae0=_0x7ae6a3[_0x142fef(0x33a)]['remoteJid']['endsWith'](_0x142fef(0x5b6)),_0x4b1a8e;if(_0x7ae6a3[_0x142fef(0x33a)][_0x142fef(0x2fa)])_0x4b1a8e=this[_0x142fef(0x7ed)][_0x142fef(0x3c4)];else{let _0x53248b=_0x476ae0?_0x7ae6a3[_0x142fef(0x33a)][_0x142fef(0x7cc)]:_0x7ae6a3[_0x142fef(0x33a)][_0x142fef(0x6fa)];_0x4b1a8e=(await this[_0x142fef(0x758)](_0x53248b,_0x7ae6a3[_0x142fef(0x89f)],!0x1))['cachedContact']['pictureUrl'];}let _0x4e78a4={'_id':_0x7ae6a3['key']['id'],'key':_0x7ae6a3[_0x142fef(0x33a)],'isGroup':_0x476ae0,'profilePictureUrl':_0x4b1a8e,'pushName':_0x7ae6a3[_0x142fef(0x89f)],'message':{'text':'[\x20SYSTEM\x20-\x20UAZAPI\x20]\x20-\x20Mensagem\x20perdida,\x20não\x20foi\x20possível\x20descriptografá-la,\x20abra\x20no\x20celular\x20para\x20ver'},'messageType':_0x142fef(0x70d),'message_normalized':{'key':_0x7ae6a3[_0x142fef(0x33a)],'pushName':_0x7ae6a3[_0x142fef(0x89f)],'messageTimestamp':_0x7ae6a3['messageTimestamp'],'source':(0x0,w[_0x142fef(0x83d)])(_0x7ae6a3[_0x142fef(0x33a)]['id']),'text':'[\x20SYSTEM\x20-\x20UAZAPI\x20]\x20-\x20Mensagem\x20perdida,\x20não\x20foi\x20possível\x20descriptografá-la,\x20abra\x20no\x20celular\x20para\x20ver'},'messageTimestamp':_0x7ae6a3[_0x142fef(0x2b5)],'owner':this['instance'][_0x142fef(0x828)],'source':(0x0,w[_0x142fef(0x83d)])(_0x7ae6a3[_0x142fef(0x33a)]['id'])};this['logger'][_0x142fef(0x70d)](this[_0x142fef(0x5cf)]+'\x20('+this[_0x142fef(0x7ed)][_0x142fef(0x828)]+_0x142fef(0x432)+(_0x4e78a4[_0x142fef(0x33a)]?.[_0x142fef(0x2fa)]?_0x142fef(0x660):'recebido\x20de')+'\x20['+_0x4e78a4[_0x142fef(0x33a)]?.[_0x142fef(0x6fa)][_0x142fef(0x2a1)]('@s.whatsapp.net','')+']\x20('+_0x4e78a4['messageType']+')'),_0x4e78a4[_0x142fef(0x57a)]?.['text']&&this['logger']['error'](_0x7ae6a3[_0x142fef(0x33a)]['id']+':\x20'+_0x4e78a4[_0x142fef(0x57a)]?.[_0x142fef(0x5d0)]),await this[_0x142fef(0x4a0)]['message'][_0x142fef(0x896)]([_0x4e78a4],this['instance'][_0x142fef(0x828)]),this[_0x142fef(0x331)](_0x142fef(0x640),_0x4e78a4),F(this[_0x142fef(0x5cf)],_0x142fef(0x2d8),{'message':_0x4e78a4});}['delayChatLabel'](_0xe15129){return new Promise(_0x473d96=>setTimeout(_0x473d96,_0xe15129));}[a0_0x3f93a9(0x763)](_0x1c4ab5){const _0x193d72=a0_0x3f93a9;_0x1c4ab5=_0x1c4ab5['replace'](/\D/g,'');let _0x15f8d1=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x193d72(0x61d)](_0x1c4ab5);if(_0x15f8d1&&_0x15f8d1[0x1]==='55'){let _0x593120=_0x15f8d1[0x2],_0x4f0e28=_0x15f8d1[0x3],_0x3cf099=_0x15f8d1[0x4];if(parseInt(_0x593120)>=0x1f&&_0x4f0e28==='9')return _0x15f8d1[0x1]+_0x593120+_0x3cf099;}return _0x1c4ab5;}[a0_0x3f93a9(0x583)](_0x5d5190){const _0x26d7b7=a0_0x3f93a9;return _0x5d5190[_0x26d7b7(0x8dc)]('@g.us')||_0x5d5190[_0x26d7b7(0x8dc)]('@s.whatsapp.net')||_0x5d5190[_0x26d7b7(0x8dc)]('@broadcast')?_0x5d5190:(_0x5d5190=_0x5d5190?.['replace'](/\s/g,'')['replace'](/\+/g,'')[_0x26d7b7(0x2a1)](/\(/g,'')['replace'](/\)/g,'')['split'](/\:/)[0x0]['split']('@')[0x0],_0x5d5190[_0x26d7b7(0x40e)]>=0x12?(_0x5d5190=_0x5d5190[_0x26d7b7(0x2a1)](/[^\d-]/g,''),_0x5d5190+_0x26d7b7(0x5b6)):(_0x5d5190=_0x5d5190[_0x26d7b7(0x2a1)](/\D/g,''),_0x5d5190+_0x26d7b7(0x51e)));}async['updatePresence'](_0x4d9d42){const _0x1dd7ee=a0_0x3f93a9;let _0x32e219=(await this[_0x1dd7ee(0x8eb)]({'numbers':[_0x4d9d42[_0x1dd7ee(0x42d)]]}))[0x0];if(!_0x32e219[_0x1dd7ee(0x2dd)]&&!(0x0,w[_0x1dd7ee(0x532)])(_0x32e219[_0x1dd7ee(0x6dc)])&&!_0x32e219[_0x1dd7ee(0x6dc)][_0x1dd7ee(0x8dc)](_0x1dd7ee(0x52e)))throw new m(_0x32e219);let _0x499942=_0x32e219[_0x1dd7ee(0x6dc)];try{return await this[_0x1dd7ee(0x2e8)][_0x1dd7ee(0x24d)](_0x499942),await this['client'][_0x1dd7ee(0x7ff)](_0x4d9d42[_0x1dd7ee(0x67e)],_0x499942),{'status':0xc8,'presence':_0x4d9d42[_0x1dd7ee(0x67e)]};}catch(_0x32d337){let _0x5867b1=_0x1dd7ee(0x565),_0x53b886=_0x32d337 instanceof Error?_0x32d337[_0x1dd7ee(0x7a3)]:typeof _0x32d337==_0x1dd7ee(0x894)?JSON[_0x1dd7ee(0x684)](_0x32d337):_0x32d337,_0x48be46=_0x5867b1+':\x20'+_0x53b886;throw this[_0x1dd7ee(0x458)][_0x1dd7ee(0x70d)](this[_0x1dd7ee(0x5cf)]+'\x20('+this['instance'][_0x1dd7ee(0x828)]+_0x1dd7ee(0x432)+_0x48be46),new m(_0x48be46);}}async[a0_0x3f93a9(0x758)](_0x345cc8,_0x32d826,_0x4e0ca1,_0x13f893=!0x0){const _0x3eeb1e=a0_0x3f93a9;let _0x45d953=await this['repository']['cacheContact']['findOne']({'where':{'_id':_0x345cc8}});if(!_0x45d953&&!_0x13f893)return;let _0xb4e78={'lastUpdate':Date['now']()};if(_0x4e0ca1||!_0x45d953?.[_0x3eeb1e(0x5a6)]||Date['now']()-_0x45d953[_0x3eeb1e(0x5a6)]>0x18*0x3c*0x3c*0x3e8)try{let _0x70c453=(await this[_0x3eeb1e(0x434)](_0x345cc8))[_0x3eeb1e(0x3c4)];_0xb4e78[_0x3eeb1e(0x8a5)]=_0x70c453;}catch(_0x43ee6b){let _0x3ed87e=_0x3eeb1e(0x5c0),_0x43a177=_0x43ee6b instanceof Error?_0x43ee6b[_0x3eeb1e(0x7a3)]:typeof _0x43ee6b==_0x3eeb1e(0x894)?JSON[_0x3eeb1e(0x684)](_0x43ee6b):_0x43ee6b,_0x39fdc7=_0x3ed87e+':\x20'+_0x43a177;throw this[_0x3eeb1e(0x458)][_0x3eeb1e(0x70d)](this[_0x3eeb1e(0x5cf)]+'\x20('+this['instance'][_0x3eeb1e(0x828)]+_0x3eeb1e(0x432)+_0x39fdc7),new m(_0x39fdc7);}return _0x32d826&&_0x45d953?.[_0x3eeb1e(0x537)]!==_0x32d826&&(_0xb4e78['name']=_0x32d826),Object['keys'](_0xb4e78)[_0x3eeb1e(0x40e)]>0x1&&(_0x45d953?await this[_0x3eeb1e(0x4a0)][_0x3eeb1e(0x5af)]['update']({'where':{'_id':_0x345cc8}},_0xb4e78):await this['repository'][_0x3eeb1e(0x5af)][_0x3eeb1e(0x896)]([{'_id':_0x345cc8,..._0xb4e78}]),_0x45d953={..._0x45d953,..._0xb4e78}),{'cachedContact':_0x45d953};}async[a0_0x3f93a9(0x434)](_0x44c814){const _0x36283e=a0_0x3f93a9;let _0x25cdf6=this[_0x36283e(0x583)](_0x44c814);try{return{'wuid':_0x25cdf6,'profilePictureUrl':await this[_0x36283e(0x2e8)][_0x36283e(0x3c4)](_0x25cdf6,_0x36283e(0x87a))};}catch{return{'wuid':_0x25cdf6,'profilePictureUrl':null};}}async[a0_0x3f93a9(0x346)](_0x56fad9,_0x1d2283,_0x476c05){const _0x1b894d=a0_0x3f93a9;let _0x55cc07;try{let _0x4621cd=(await this[_0x1b894d(0x8eb)]({'numbers':[_0x56fad9]}))?.['shift']();if(!_0x4621cd[_0x1b894d(0x2dd)]&&!(0x0,w['isJidGroup'])(_0x4621cd[_0x1b894d(0x6dc)])&&!_0x4621cd[_0x1b894d(0x6dc)][_0x1b894d(0x8dc)](_0x1b894d(0x52e)))throw new m(_0x4621cd);_0x55cc07=_0x4621cd[_0x1b894d(0x6dc)];}catch(_0x1c546a){_0x55cc07=_0x56fad9,this['logger'][_0x1b894d(0x939)](this[_0x1b894d(0x5cf)]+'\x20('+this[_0x1b894d(0x7ed)][_0x1b894d(0x828)]+_0x1b894d(0x7b9)+_0x1c546a[_0x1b894d(0x7a3)]),this['logger'][_0x1b894d(0x939)](this[_0x1b894d(0x5cf)]+'\x20('+this['instance'][_0x1b894d(0x828)]+_0x1b894d(0x377)+_0x55cc07);}try{if(_0x55cc07||(_0x55cc07=_0x56fad9,this[_0x1b894d(0x458)]['warn'](this[_0x1b894d(0x5cf)]+'\x20('+this[_0x1b894d(0x7ed)][_0x1b894d(0x828)]+_0x1b894d(0x66c)+_0x55cc07)),_0x476c05||(_0x476c05={}),_0x476c05?.[_0x1b894d(0x818)]){await this[_0x1b894d(0x2e8)][_0x1b894d(0x24d)](_0x55cc07),await this[_0x1b894d(0x2e8)][_0x1b894d(0x7ff)](_0x476c05?.[_0x1b894d(0x67e)]??'composing',_0x55cc07);let _0x251179=Math[_0x1b894d(0x52b)](_0x476c05[_0x1b894d(0x818)],0x2710);await(0x0,w[_0x1b894d(0x818)])(_0x251179),await this[_0x1b894d(0x2e8)][_0x1b894d(0x7ff)](_0x1b894d(0x308),_0x55cc07);}let _0xcb62a5=_0x476c05?.[_0x1b894d(0x4d9)]!=!0x1?void 0x0:!0x1,_0xa410d2;if(_0x476c05?.[_0x1b894d(0x293)]){let _0x1dfb47=_0x476c05?.['quoted'],_0x5ee259=_0x1dfb47?.['message']?_0x1dfb47:await this['getMessage'](_0x1dfb47[_0x1b894d(0x33a)],!0x0);_0x5ee259&&(_0xa410d2=_0x5ee259);}let _0x339f69=await this['repository'][_0x1b894d(0x3bd)][_0x1b894d(0x39a)]({'where':{'_id':_0x55cc07}},this[_0x1b894d(0x7ed)][_0x1b894d(0x828)]),_0x22ea0e,_0x25ca2e=null;if((0x0,w[_0x1b894d(0x532)])(_0x55cc07))try{if(_0x25ca2e=_0x339f69[_0x1b894d(0x6b8)],!_0x25ca2e)throw new U('Grupo\x20não\x20encontrado');if(!_0x25ca2e[_0x1b894d(0x59e)])throw new m(_0x1b894d(0x7b4));_0x476c05?.['mentions']&&(_0x476c05['mentions']?.[_0x1b894d(0x231)]?_0x22ea0e=_0x25ca2e['participants']['map'](_0x3e3405=>_0x3e3405['id']):_0x476c05[_0x1b894d(0x569)]?.[_0x1b894d(0x3ce)]?.[_0x1b894d(0x40e)]&&(_0x22ea0e=_0x476c05[_0x1b894d(0x569)][_0x1b894d(0x3ce)][_0x1b894d(0x3d6)](_0x2bf248=>{const _0x21211b=_0x1b894d;let _0x5775d7=this['createJid'](_0x2bf248);return(0x0,w[_0x21211b(0x532)])(_0x5775d7)?null:_0x5775d7;})));}catch(_0x455d29){throw _0x455d29 instanceof U?new U(_0x1b894d(0x581)):_0x455d29 instanceof m?new m(_0x1b894d(0x7b4)):new Error(_0x1b894d(0x64d));}let _0x5b7632=await((async()=>{const _0x2f1dc3=_0x1b894d;let _0x22ff63={'quoted':_0xa410d2,'ephemeralExpiration':_0x339f69?.['ephemeralExpiration']??0x0};if(!_0x1d2283[_0x2f1dc3(0x531)]&&!_0x1d2283['poll']&&!_0x1d2283[_0x2f1dc3(0x326)]&&!_0x1d2283[_0x2f1dc3(0x614)]&&_0x55cc07!=='status@broadcast'&&_0x1d2283[_0x2f1dc3(0x54b)])return await this[_0x2f1dc3(0x2e8)][_0x2f1dc3(0x383)](_0x55cc07,{'react':{'text':_0x1d2283[_0x2f1dc3(0x54b)]['text'],'key':_0x1d2283['reactionMessage'][_0x2f1dc3(0x33a)]}},_0x22ff63);if(_0x1d2283[_0x2f1dc3(0x614)]){let _0x89e297=_0x1d2283[_0x2f1dc3(0x614)];return _0x476c05?.[_0x2f1dc3(0x4d7)]&&(_0x89e297=await this['replaceVariablesChat'](_0x89e297,_0x55cc07)),await this[_0x2f1dc3(0x2e8)][_0x2f1dc3(0x383)](_0x55cc07,{'text':_0x89e297,'mentions':_0x22ea0e,'linkPreview':_0xcb62a5},_0x22ff63);}return!_0x1d2283[_0x2f1dc3(0x531)]&&!_0x1d2283['poll']&&_0x55cc07!=_0x2f1dc3(0x8f9)?await this['client'][_0x2f1dc3(0x383)](_0x55cc07,{'forward':{'key':{'remoteJid':this[_0x2f1dc3(0x7ed)][_0x2f1dc3(0x828)],'fromMe':!0x0},'message':_0x1d2283},'mentions':_0x22ea0e},_0x22ff63):_0x55cc07===_0x2f1dc3(0x8f9)?await this['client'][_0x2f1dc3(0x383)](_0x55cc07,_0x1d2283['status'][_0x2f1dc3(0x5bd)],{'backgroundColor':_0x1d2283['status'][_0x2f1dc3(0x5d4)][_0x2f1dc3(0x61e)],'font':_0x1d2283[_0x2f1dc3(0x74f)][_0x2f1dc3(0x5d4)]['font'],'statusJidList':_0x1d2283[_0x2f1dc3(0x74f)][_0x2f1dc3(0x5d4)][_0x2f1dc3(0x272)]}):await this[_0x2f1dc3(0x2e8)][_0x2f1dc3(0x383)](_0x55cc07,_0x1d2283,_0x22ff63);})()),_0x32d6ce=(0x0,w[_0x1b894d(0x8e5)])(_0x5b7632['message']),_0x16addf=(0x0,w['getContentType'])(_0x32d6ce),{message_normalized:_0x223b1a}=this[_0x1b894d(0x79f)](_0x32d6ce,_0x16addf,null),_0x174e59={'_id':_0x5b7632[_0x1b894d(0x33a)]['id'],'key':_0x5b7632[_0x1b894d(0x33a)],'pushName':_0x5b7632[_0x1b894d(0x89f)],'isGroup':_0x5b7632[_0x1b894d(0x33a)][_0x1b894d(0x6fa)][_0x1b894d(0x292)]('@g.us'),'profilePictureUrl':this[_0x1b894d(0x7ed)]['profilePictureUrl'],'message':_0x32d6ce,'messageType':_0x16addf,'message_normalized':{'key':_0x5b7632['key'],'pushName':_0x5b7632[_0x1b894d(0x89f)],'messageTimestamp':_0x5b7632[_0x1b894d(0x2b5)]&&_0x5b7632['messageTimestamp'][_0x1b894d(0x5e7)]()[_0x1b894d(0x40e)]<0xd?_0x5b7632[_0x1b894d(0x2b5)]*0x3e8:_0x5b7632[_0x1b894d(0x2b5)]||null,'source':(0x0,w['getDevice'])(_0x5b7632[_0x1b894d(0x33a)]['id']),..._0x223b1a},'messageTimestamp':_0x5b7632['messageTimestamp']&&_0x5b7632[_0x1b894d(0x2b5)][_0x1b894d(0x5e7)]()[_0x1b894d(0x40e)]<0xd?_0x5b7632[_0x1b894d(0x2b5)]*0x3e8:_0x5b7632[_0x1b894d(0x2b5)]||null,'owner':this[_0x1b894d(0x7ed)][_0x1b894d(0x828)],'source':(0x0,w[_0x1b894d(0x83d)])(_0x5b7632[_0x1b894d(0x33a)]['id'])};return this[_0x1b894d(0x458)][_0x1b894d(0x939)](this[_0x1b894d(0x5cf)]+'\x20('+this[_0x1b894d(0x7ed)][_0x1b894d(0x828)]+_0x1b894d(0x212)+_0x174e59[_0x1b894d(0x33a)]?.[_0x1b894d(0x6fa)]['replace'](_0x1b894d(0x51e),'')+_0x1b894d(0x2f6)+_0x174e59[_0x1b894d(0x728)]+')'),_0x174e59[_0x1b894d(0x57a)]?.['text']&&this[_0x1b894d(0x458)][_0x1b894d(0x939)](_0x174e59[_0x1b894d(0x57a)]?.[_0x1b894d(0x5d0)]),this[_0x1b894d(0x331)]('send.message',_0x174e59),F(this[_0x1b894d(0x5cf)],_0x1b894d(0x2d8),{'message':_0x174e59}),this[_0x1b894d(0x591)](this[_0x1b894d(0x4f6)][_0x1b894d(0x2da)](_0x1b894d(0x72b)),_0x174e59,_0x1b894d(0x6bd),_0x339f69),await this[_0x1b894d(0x4a0)][_0x1b894d(0x7a3)][_0x1b894d(0x896)]([_0x174e59],this[_0x1b894d(0x7ed)][_0x1b894d(0x828)]),_0x5b7632;}catch(_0x47b210){let _0x51f30f=_0x1b894d(0x2f4)+_0x55cc07,_0x3d88d0=_0x47b210 instanceof Error?_0x47b210[_0x1b894d(0x7a3)]:typeof _0x47b210==_0x1b894d(0x894)?JSON['stringify'](_0x47b210):_0x47b210,_0x2cf82e=_0x51f30f+':\x20'+_0x3d88d0;throw this[_0x1b894d(0x458)][_0x1b894d(0x70d)](this['instanceName']+'\x20('+this[_0x1b894d(0x7ed)][_0x1b894d(0x828)]+_0x1b894d(0x432)+_0x2cf82e),new m(_0x2cf82e);}}async[a0_0x3f93a9(0x709)](_0x37ba9e,_0x562d4a,_0x56ddc2){const _0x884568=a0_0x3f93a9;let _0x49c850=this[_0x884568(0x583)](_0x37ba9e),_0x26582f=(await this[_0x884568(0x8eb)]({'numbers':[_0x49c850]}))[0x0];if(!_0x26582f[_0x884568(0x2dd)]&&!(0x0,w[_0x884568(0x532)])(_0x26582f[_0x884568(0x6dc)]))throw new m(_0x26582f);let _0x4c5637=(0x0,w['isJidGroup'])(_0x49c850)?_0x49c850:_0x26582f['jid'];if((0x0,w['isJidGroup'])(_0x4c5637))try{await this['client'][_0x884568(0x8be)](_0x4c5637);}catch{throw new m('Group\x20not\x20found');}try{_0x56ddc2?.[_0x884568(0x818)]&&(await this['client'][_0x884568(0x24d)](_0x4c5637),await this['client'][_0x884568(0x7ff)](_0x56ddc2?.[_0x884568(0x67e)]??_0x884568(0x4b1),_0x49c850),await(0x0,w['delay'])(_0x56ddc2[_0x884568(0x818)]),await this[_0x884568(0x2e8)][_0x884568(0x7ff)]('paused',_0x4c5637));let _0x36bb51=await((async()=>{const _0x342f4a=_0x884568;let _0x2e7cb1,_0x226a39=_0x342f4a(0x4e2)+(0x0,re[_0x342f4a(0x471)])(0x12)['toString']('hex')[_0x342f4a(0x3e8)](),_0x345274=(0x0,w[_0x342f4a(0x515)])(_0x4c5637,_0x562d4a,{'timestamp':new Date(),'userJid':this[_0x342f4a(0x7ed)]['wuid'],'messageId':_0x226a39,'quoted':_0x2e7cb1}),_0xd4ba7f=await this[_0x342f4a(0x2e8)][_0x342f4a(0x84b)](_0x4c5637,_0x345274[_0x342f4a(0x7a3)],{'messageId':_0x226a39});_0x345274[_0x342f4a(0x33a)]={'id':_0xd4ba7f,'remoteJid':_0x49c850,'participant':(0x0,w[_0x342f4a(0x826)])(_0x49c850)?void 0x0:_0x49c850,'fromMe':!0x0};for(let [_0x2d138d,_0x4aa86d]of Object[_0x342f4a(0x3be)](_0x345274))(!_0x4aa86d||Array[_0x342f4a(0x84c)](_0x4aa86d)&&_0x4aa86d['length']===0x0)&&delete _0x345274[_0x2d138d];return this[_0x342f4a(0x2e8)]['ev'][_0x342f4a(0x7bc)](_0x342f4a(0x640),{'messages':[_0x345274],'type':_0x342f4a(0x296)}),_0x345274;})()),_0x3aa510=await this['repository'][_0x884568(0x3bd)][_0x884568(0x39a)]({'where':{'_id':_0x4c5637}},this[_0x884568(0x7ed)]['wuid']),_0x5b3bc3=(0x0,w[_0x884568(0x8e5)])(_0x36bb51[_0x884568(0x7a3)]),_0x34cb0c=(0x0,w[_0x884568(0x244)])(_0x5b3bc3),{message_normalized:_0x2c2f58}=this['normalizeMessage'](_0x5b3bc3,_0x34cb0c,null),_0x2ad508={'_id':_0x36bb51[_0x884568(0x33a)]['id'],'key':_0x36bb51[_0x884568(0x33a)],'pushName':_0x36bb51[_0x884568(0x89f)],'isGroup':_0x36bb51[_0x884568(0x33a)][_0x884568(0x6fa)][_0x884568(0x292)](_0x884568(0x5b6)),'profilePictureUrl':this[_0x884568(0x7ed)][_0x884568(0x3c4)],'message':_0x5b3bc3,'messageType':_0x34cb0c,'message_normalized':{'key':_0x36bb51[_0x884568(0x33a)],'pushName':_0x36bb51['pushName'],'messageTimestamp':_0x36bb51[_0x884568(0x2b5)]&&_0x36bb51[_0x884568(0x2b5)]['toString']()['length']<0xd?_0x36bb51[_0x884568(0x2b5)]*0x3e8:_0x36bb51['messageTimestamp']||null,'source':(0x0,w['getDevice'])(_0x36bb51[_0x884568(0x33a)]['id']),..._0x2c2f58},'messageTimestamp':_0x36bb51[_0x884568(0x2b5)]&&_0x36bb51[_0x884568(0x2b5)][_0x884568(0x5e7)]()[_0x884568(0x40e)]<0xd?_0x36bb51[_0x884568(0x2b5)]*0x3e8:_0x36bb51['messageTimestamp']||null,'owner':this[_0x884568(0x7ed)][_0x884568(0x828)],'source':(0x0,w[_0x884568(0x83d)])(_0x36bb51[_0x884568(0x33a)]['id'])};return this[_0x884568(0x458)][_0x884568(0x939)](this[_0x884568(0x5cf)]+'\x20('+this['instance'][_0x884568(0x828)]+_0x884568(0x212)+_0x2ad508[_0x884568(0x33a)]?.[_0x884568(0x6fa)]['replace'](_0x884568(0x51e),'')+_0x884568(0x2f6)+_0x2ad508['messageType']+')'),_0x2ad508[_0x884568(0x57a)]?.['text']&&this[_0x884568(0x458)][_0x884568(0x939)](_0x2ad508['message_normalized']?.[_0x884568(0x5d0)]),this[_0x884568(0x331)](_0x884568(0x813),_0x2ad508),F(this[_0x884568(0x5cf)],_0x884568(0x2d8),{'message':_0x2ad508}),this[_0x884568(0x591)](this[_0x884568(0x4f6)][_0x884568(0x2da)]('DATABASE'),_0x2ad508,'SEND_MESSAGE',_0x3aa510),await this[_0x884568(0x4a0)][_0x884568(0x7a3)][_0x884568(0x896)]([_0x2ad508],this[_0x884568(0x7ed)][_0x884568(0x828)]),_0x36bb51;}catch(_0x523d49){throw this[_0x884568(0x458)][_0x884568(0x70d)](_0x523d49),new m(_0x523d49[_0x884568(0x5e7)]());}}get[a0_0x3f93a9(0x47a)](){return this['stateConnection'];}async['textMessage'](_0x1c79a4){const _0x5009aa=a0_0x3f93a9;return await this[_0x5009aa(0x346)](_0x1c79a4[_0x5009aa(0x42d)],{'conversation':_0x1c79a4['textMessage']['text']},_0x1c79a4?.[_0x5009aa(0x1d5)]);}async[a0_0x3f93a9(0x7b0)](_0x5285a1){const _0x46f94e=a0_0x3f93a9;if(!_0x5285a1['type'])throw new m(_0x46f94e(0x604));if(!_0x5285a1[_0x46f94e(0x5bd)])throw new m('Content\x20is\x20required');if(_0x5285a1[_0x46f94e(0x7b6)]){let _0x109c78=await this[_0x46f94e(0x4a0)][_0x46f94e(0x226)]['find']({'where':{}},this[_0x46f94e(0x7ed)]['wuid']);if(!_0x109c78['length'])throw new m(_0x46f94e(0x267));_0x5285a1['statusJidList']=_0x109c78[_0x46f94e(0x697)](_0x335986=>_0x335986[_0x46f94e(0x89f)])['map'](_0x2e5e9c=>_0x2e5e9c[_0x46f94e(0x7ad)]);}if(!_0x5285a1[_0x46f94e(0x272)]?.[_0x46f94e(0x40e)]&&!_0x5285a1[_0x46f94e(0x7b6)])throw new m(_0x46f94e(0x76e));if(_0x5285a1[_0x46f94e(0x66e)]===_0x46f94e(0x5d0)){if(!_0x5285a1[_0x46f94e(0x61e)])throw new m('Background\x20color\x20is\x20required');if(!_0x5285a1[_0x46f94e(0x2eb)])throw new m(_0x46f94e(0x86d));return{'content':{'text':_0x5285a1['content']},'option':{'backgroundColor':_0x5285a1[_0x46f94e(0x61e)],'font':_0x5285a1[_0x46f94e(0x2eb)],'statusJidList':_0x5285a1[_0x46f94e(0x272)]}};}if(_0x5285a1[_0x46f94e(0x66e)]===_0x46f94e(0x87a))return{'content':{'image':{'url':_0x5285a1[_0x46f94e(0x5bd)]},'caption':_0x5285a1[_0x46f94e(0x65e)]},'option':{'statusJidList':_0x5285a1[_0x46f94e(0x272)]}};if(_0x5285a1[_0x46f94e(0x66e)]===_0x46f94e(0x48a))return{'content':{'video':{'url':_0x5285a1[_0x46f94e(0x5bd)]},'caption':_0x5285a1[_0x46f94e(0x65e)]},'option':{'statusJidList':_0x5285a1[_0x46f94e(0x272)]}};if(_0x5285a1[_0x46f94e(0x66e)]===_0x46f94e(0x531)){this[_0x46f94e(0x458)][_0x46f94e(0x5e2)](this[_0x46f94e(0x5cf)]+'\x20('+this[_0x46f94e(0x7ed)]['wuid']+_0x46f94e(0x303)),this[_0x46f94e(0x458)][_0x46f94e(0x5e2)](this['instanceName']+'\x20('+this[_0x46f94e(0x7ed)][_0x46f94e(0x828)]+_0x46f94e(0x601));let _0x4643a8=await this['convertaudio'](_0x5285a1[_0x46f94e(0x5bd)]);if(typeof _0x4643a8=='string'){this[_0x46f94e(0x458)][_0x46f94e(0x5e2)](this[_0x46f94e(0x5cf)]+'\x20('+this[_0x46f94e(0x7ed)][_0x46f94e(0x828)]+_0x46f94e(0x29b));let _0x30f7ac=k['readFileSync'](_0x4643a8)[_0x46f94e(0x5e7)]('base64');return{'content':{'audio':Buffer[_0x46f94e(0x7eb)](_0x30f7ac,_0x46f94e(0x299)),'ptt':!0x0,'mimetype':_0x46f94e(0x416)},'option':{'statusJidList':_0x5285a1[_0x46f94e(0x272)]}};}else throw new x(_0x4643a8);}throw new m(_0x46f94e(0x7e9));}async[a0_0x3f93a9(0x5ce)](_0x27436f){const _0x40671f=a0_0x3f93a9;return await this[_0x40671f(0x346)](_0x40671f(0x8f9),{'status':await this[_0x40671f(0x7b0)](_0x27436f[_0x40671f(0x5ce)])});}async[a0_0x3f93a9(0x63d)](_0x24b4d1){const _0x400d09=a0_0x3f93a9;try{let _0x5c18fe=await(0x0,w[_0x400d09(0x749)])({[_0x24b4d1[_0x400d09(0x588)]]:(0x0,J['isURL'])(_0x24b4d1['media'])?{'url':_0x24b4d1[_0x400d09(0x30b)]}:Buffer[_0x400d09(0x7eb)](_0x24b4d1['media'],_0x400d09(0x299))},{'upload':this['client'][_0x400d09(0x1db)]}),_0x3dff3b=_0x24b4d1[_0x400d09(0x588)]+'Message';if(_0x24b4d1['mediatype']===_0x400d09(0x262)&&!_0x24b4d1[_0x400d09(0x4ee)]){let _0xa6df19=new RegExp(/.*\/(.+?)\./)[_0x400d09(0x61d)](_0x24b4d1[_0x400d09(0x30b)]);_0x24b4d1[_0x400d09(0x4ee)]=_0xa6df19?_0xa6df19[0x1]:null;}let _0x4f38d7;return(0x0,J[_0x400d09(0x1d4)])(_0x24b4d1[_0x400d09(0x30b)])?_0x4f38d7=(await Q[_0x400d09(0x73f)][_0x400d09(0x2da)](_0x24b4d1['media'],{'responseType':'arraybuffer'}))[_0x400d09(0x472)][_0x400d09(0x4fc)]:_0x4f38d7=(0x0,Ti[_0x400d09(0x6be)])(_0x24b4d1[_0x400d09(0x4ee)]),_0x5c18fe[_0x3dff3b]['caption']=_0x24b4d1?.[_0x400d09(0x65e)],_0x5c18fe[_0x3dff3b]['mimetype']=_0x4f38d7,_0x5c18fe[_0x3dff3b]['fileName']=_0x24b4d1[_0x400d09(0x4ee)],_0x24b4d1[_0x400d09(0x588)]===_0x400d09(0x48a)&&(_0x5c18fe[_0x3dff3b][_0x400d09(0x575)]=Uint8Array['from']((0x0,Le['readFileSync'])((0x0,j[_0x400d09(0x6ef)])(process[_0x400d09(0x24f)](),_0x400d09(0x788)))),_0x5c18fe[_0x3dff3b][_0x400d09(0x2e3)]=!0x1),(0x0,w[_0x400d09(0x515)])('',{[_0x3dff3b]:{..._0x5c18fe[_0x3dff3b]}},{'userJid':this[_0x400d09(0x7ed)]['wuid']});}catch(_0x48915c){let _0x2cf1e5=_0x400d09(0x90d),_0x19603d=_0x48915c instanceof Error?_0x48915c[_0x400d09(0x7a3)]:typeof _0x48915c=='object'?JSON[_0x400d09(0x684)](_0x48915c):_0x48915c,_0x2c9edd=_0x2cf1e5+':\x20'+_0x19603d;throw this[_0x400d09(0x458)]['error'](this[_0x400d09(0x5cf)]+'\x20('+this[_0x400d09(0x7ed)][_0x400d09(0x828)]+_0x400d09(0x432)+_0x2c9edd),new x(_0x2c9edd);}}async[a0_0x3f93a9(0x41b)](_0x41e895){const _0xd57cc2=a0_0x3f93a9;let _0x5459cd=await this['prepareMediaMessage'](_0x41e895['mediaMessage']);return await this['sendMessageWithTyping'](_0x41e895[_0xd57cc2(0x42d)],{..._0x5459cd[_0xd57cc2(0x7a3)]},_0x41e895?.[_0xd57cc2(0x1d5)]);}async[a0_0x3f93a9(0x407)](_0x3dec2f,_0x2e7703){const _0x42134c=a0_0x3f93a9;try{this['logger']['verbose'](this[_0x42134c(0x5cf)]+'\x20('+this['instance'][_0x42134c(0x828)]+_0x42134c(0x28a));let _0x433523,_0x77f4f5=_0x2e7703+'-'+new Date()[_0x42134c(0x1d2)]();this[_0x42134c(0x458)][_0x42134c(0x5e2)](this[_0x42134c(0x5cf)]+'\x20('+this['instance'][_0x42134c(0x828)]+_0x42134c(0x572)+_0x77f4f5);let _0x4eef6e=''+(0x0,j[_0x42134c(0x6ef)])(this[_0x42134c(0x60d)],_0x77f4f5+'.webp');if(this[_0x42134c(0x458)][_0x42134c(0x5e2)](this[_0x42134c(0x5cf)]+'\x20('+this[_0x42134c(0x7ed)]['wuid']+_0x42134c(0x78d)+_0x4eef6e),(0x0,J[_0x42134c(0x6b0)])(_0x3dec2f)){this[_0x42134c(0x458)][_0x42134c(0x5e2)](this['instanceName']+'\x20('+this[_0x42134c(0x7ed)]['wuid']+_0x42134c(0x853));let _0x43ef8c=_0x3dec2f[_0x42134c(0x2a1)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x70bc4c=Buffer[_0x42134c(0x7eb)](_0x43ef8c,_0x42134c(0x299));_0x433523=''+(0x0,j[_0x42134c(0x6ef)])(this['storePath'],_0x42134c(0x526)+_0x77f4f5+_0x42134c(0x937)),this[_0x42134c(0x458)][_0x42134c(0x5e2)](this[_0x42134c(0x5cf)]+'\x20('+this['instance'][_0x42134c(0x828)]+'):Image\x20path:\x20'+_0x433523),await(0x0,Ut[_0x42134c(0x73f)])(_0x70bc4c)[_0x42134c(0x46e)](_0x433523),this[_0x42134c(0x458)][_0x42134c(0x5e2)](this[_0x42134c(0x5cf)]+'\x20('+this['instance'][_0x42134c(0x828)]+_0x42134c(0x6e5));}else{this[_0x42134c(0x458)][_0x42134c(0x5e2)](this['instanceName']+'\x20('+this['instance'][_0x42134c(0x828)]+_0x42134c(0x7d0));let _0x58d788=new Date()[_0x42134c(0x1d2)](),_0x464e4b=_0x3dec2f+_0x42134c(0x830)+_0x58d788;this[_0x42134c(0x458)]['verbose'](this[_0x42134c(0x5cf)]+'\x20('+this[_0x42134c(0x7ed)][_0x42134c(0x828)]+_0x42134c(0x481)+_0x464e4b);let _0x1d1573=await Q[_0x42134c(0x73f)][_0x42134c(0x2da)](_0x464e4b,{'responseType':_0x42134c(0x495)});this['logger']['verbose'](this[_0x42134c(0x5cf)]+'\x20('+this['instance'][_0x42134c(0x828)]+_0x42134c(0x3e6));let _0x5f06bf=Buffer[_0x42134c(0x7eb)](_0x1d1573[_0x42134c(0x765)],_0x42134c(0x74e));_0x433523=''+(0x0,j[_0x42134c(0x6ef)])(this[_0x42134c(0x60d)],_0x42134c(0x526)+_0x77f4f5+_0x42134c(0x937)),this[_0x42134c(0x458)][_0x42134c(0x5e2)](this[_0x42134c(0x5cf)]+'\x20('+this[_0x42134c(0x7ed)][_0x42134c(0x828)]+_0x42134c(0x8df)+_0x433523),await(0x0,Ut[_0x42134c(0x73f)])(_0x5f06bf)[_0x42134c(0x46e)](_0x433523),this[_0x42134c(0x458)][_0x42134c(0x5e2)](this[_0x42134c(0x5cf)]+'\x20('+this[_0x42134c(0x7ed)]['wuid']+_0x42134c(0x6e5));}return await(0x0,Ut[_0x42134c(0x73f)])(_0x433523)[_0x42134c(0x612)]()[_0x42134c(0x46e)](_0x4eef6e),this[_0x42134c(0x458)][_0x42134c(0x5e2)](this[_0x42134c(0x5cf)]+'\x20('+this[_0x42134c(0x7ed)][_0x42134c(0x828)]+_0x42134c(0x67a)),k[_0x42134c(0x7e7)](_0x433523),this[_0x42134c(0x458)][_0x42134c(0x5e2)](this['instanceName']+'\x20('+this['instance'][_0x42134c(0x828)]+'):Temp\x20image\x20deleted'),_0x4eef6e;}catch(_0x486b65){let _0x1004fc=_0x42134c(0x7e4),_0x12248d=_0x486b65 instanceof Error?_0x486b65[_0x42134c(0x7a3)]:typeof _0x486b65==_0x42134c(0x894)?JSON[_0x42134c(0x684)](_0x486b65):_0x486b65,_0x5035af=_0x1004fc+':\x20'+_0x12248d;this[_0x42134c(0x458)][_0x42134c(0x70d)](this['instanceName']+'\x20('+this['instance'][_0x42134c(0x828)]+_0x42134c(0x432)+_0x5035af);}}async['mediaSticker'](_0x236ba3){const _0x322a3f=a0_0x3f93a9;let _0x357bb5=await this[_0x322a3f(0x407)](_0x236ba3[_0x322a3f(0x6cd)][_0x322a3f(0x87a)],_0x236ba3['number']),_0x31eb07=await this[_0x322a3f(0x346)](_0x236ba3[_0x322a3f(0x42d)],{'sticker':{'url':_0x357bb5}},_0x236ba3?.[_0x322a3f(0x1d5)]);return k[_0x322a3f(0x7e7)](_0x357bb5),this[_0x322a3f(0x458)]['verbose'](this[_0x322a3f(0x5cf)]+'\x20('+this[_0x322a3f(0x7ed)]['wuid']+_0x322a3f(0x45d)),_0x31eb07;}async[a0_0x3f93a9(0x4fb)](_0x4b9564){const _0x205e24=a0_0x3f93a9;if(this['logger'][_0x205e24(0x5e2)](this[_0x205e24(0x5cf)]+'\x20('+this[_0x205e24(0x7ed)][_0x205e24(0x828)]+_0x205e24(0x3eb)),!_0x4b9564[_0x205e24(0x1d5)]?.[_0x205e24(0x934)]&&_0x4b9564['options']?.[_0x205e24(0x934)]!==!0x1&&(_0x4b9564['options']['encoding']=!0x0),_0x4b9564[_0x205e24(0x1d5)]?.[_0x205e24(0x934)]){let _0x5b86b9=await this['convertaudio'](_0x4b9564[_0x205e24(0x52c)][_0x205e24(0x531)]);if(typeof _0x5b86b9=='string'){let _0xcd7163=k[_0x205e24(0x8ac)](_0x5b86b9)[_0x205e24(0x5e7)](_0x205e24(0x299));return this['sendMessageWithTyping'](_0x4b9564[_0x205e24(0x42d)],{'audio':Buffer[_0x205e24(0x7eb)](_0xcd7163,_0x205e24(0x299)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':'recording','delay':_0x4b9564?.[_0x205e24(0x1d5)]?.[_0x205e24(0x818)]});}else throw new x(_0x5b86b9);}return await this[_0x205e24(0x346)](_0x4b9564[_0x205e24(0x42d)],{'audio':(0x0,J[_0x205e24(0x1d4)])(_0x4b9564['audioMessage']['audio'])?{'url':_0x4b9564[_0x205e24(0x52c)]['audio']}:Buffer['from'](_0x4b9564[_0x205e24(0x52c)]['audio'],_0x205e24(0x299)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x205e24(0x4ab),'delay':_0x4b9564?.[_0x205e24(0x1d5)]?.[_0x205e24(0x818)]});}async['convertaudio'](_0x4f1cac){const _0x429a08=a0_0x3f93a9;this[_0x429a08(0x458)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x429a08(0x828)]+'):Processing\x20audio');let _0x319a10=(0x0,J[_0x429a08(0x1d4)])(_0x4f1cac)?(0x0,re['createHash'])('sha256')[_0x429a08(0x2df)](_0x4f1cac)[_0x429a08(0x345)]('hex'):(0x0,re[_0x429a08(0x59a)])(_0x429a08(0x829))[_0x429a08(0x2df)](_0x4f1cac)[_0x429a08(0x345)](_0x429a08(0x1ca)),_0x1b858c=''+(0x0,j[_0x429a08(0x6ef)])(this['storePath'],_0x319a10+_0x429a08(0x5fe));if(k['existsSync'](_0x1b858c))return this[_0x429a08(0x458)][_0x429a08(0x5e2)](this['instanceName']+'\x20('+this[_0x429a08(0x7ed)][_0x429a08(0x828)]+_0x429a08(0x2a5)),_0x1b858c;let _0x578d32=''+(0x0,j['join'])(this['storePath'],_0x429a08(0x526)+(0x0,Y['v4'])()+_0x429a08(0x480));if((0x0,J['isURL'])(_0x4f1cac)){let _0x4255d8=new Date()[_0x429a08(0x1d2)](),_0x4e610e=_0x4f1cac+_0x429a08(0x830)+_0x4255d8,_0x2a3277=await Q[_0x429a08(0x73f)]['get'](_0x4e610e,{'responseType':'arraybuffer'});k[_0x429a08(0x83a)](_0x578d32,_0x2a3277[_0x429a08(0x765)]);}else{let _0x1188bb=Buffer[_0x429a08(0x7eb)](_0x4f1cac,'base64');k['writeFileSync'](_0x578d32,_0x1188bb);}return new Promise((_0x2a9126,_0x1ce807)=>{const _0x5b427e=_0x429a08;(0x0,Fe[_0x5b427e(0x61d)])(_s['default'][_0x5b427e(0x89b)]+'\x20-i\x20'+_0x578d32+_0x5b427e(0x4d6)+_0x1b858c+'\x20-y',_0x208db4=>{const _0x34ac82=_0x5b427e;if(k[_0x34ac82(0x7e7)](_0x578d32),_0x208db4){this[_0x34ac82(0x458)][_0x34ac82(0x5e2)](this[_0x34ac82(0x5cf)]+'\x20('+this[_0x34ac82(0x7ed)][_0x34ac82(0x828)]+_0x34ac82(0x62c)),_0x1ce807(_0x208db4);return;}this['logger'][_0x34ac82(0x5e2)](this[_0x34ac82(0x5cf)]+'\x20('+this[_0x34ac82(0x7ed)][_0x34ac82(0x828)]+_0x34ac82(0x75c)),_0x2a9126(_0x1b858c);});});}async['convertaudioMP3'](_0xfc93f9){const _0xb140cc=a0_0x3f93a9;this[_0xb140cc(0x458)][_0xb140cc(0x5e2)](this[_0xb140cc(0x5cf)]+'\x20('+this['instance'][_0xb140cc(0x828)]+_0xb140cc(0x601));let _0x4802ca=(0x0,re[_0xb140cc(0x59a)])('sha256')['update'](_0xfc93f9)[_0xb140cc(0x345)](_0xb140cc(0x1ca)),_0x502524=''+(0x0,j[_0xb140cc(0x6ef)])(this[_0xb140cc(0x60d)],_0x4802ca+_0xb140cc(0x480));if(k[_0xb140cc(0x40c)](_0x502524))return this[_0xb140cc(0x458)][_0xb140cc(0x5e2)](this['instanceName']+'\x20('+this[_0xb140cc(0x7ed)][_0xb140cc(0x828)]+_0xb140cc(0x2a5)),j[_0xb140cc(0x73f)][_0xb140cc(0x1c9)](_0x502524);let _0x5d5f41=''+(0x0,j[_0xb140cc(0x6ef)])(this[_0xb140cc(0x60d)],'temp-'+_0x4802ca+_0xb140cc(0x5fe));if((0x0,J[_0xb140cc(0x1d4)])(_0xfc93f9)){let _0x24ab0d=new Date()[_0xb140cc(0x1d2)](),_0x3a6fce=_0xfc93f9+_0xb140cc(0x830)+_0x24ab0d,_0x44634c=await Q['default'][_0xb140cc(0x2da)](_0x3a6fce,{'responseType':_0xb140cc(0x495)});k['writeFileSync'](_0x5d5f41,_0x44634c['data']);}else{let _0x1de345=Buffer['from'](_0xfc93f9,_0xb140cc(0x299));k[_0xb140cc(0x83a)](_0x5d5f41,_0x1de345);}return new Promise((_0xce92f9,_0x3fd534)=>{const _0x17cdfc=_0xb140cc;(0x0,Fe['exec'])(_s[_0x17cdfc(0x73f)][_0x17cdfc(0x89b)]+_0x17cdfc(0x2c8)+_0x5d5f41+_0x17cdfc(0x7ef)+_0x502524+'\x20-y',_0x4f31e6=>{const _0x4b5383=_0x17cdfc;if(k[_0x4b5383(0x7e7)](_0x5d5f41),_0x4f31e6){this[_0x4b5383(0x458)][_0x4b5383(0x5e2)](this[_0x4b5383(0x5cf)]+'\x20('+this['instance'][_0x4b5383(0x828)]+_0x4b5383(0x62c)),_0x3fd534(_0x4f31e6);return;}this[_0x4b5383(0x458)][_0x4b5383(0x5e2)](this[_0x4b5383(0x5cf)]+'\x20('+this['instance']['wuid']+_0x4b5383(0x75c)),_0xce92f9(j['default'][_0x4b5383(0x1c9)](_0x502524));});});}async[a0_0x3f93a9(0x295)](_0x1b3e27){const _0x1c786a=a0_0x3f93a9;console['log'](_0x1c786a(0x26d),_0x1b3e27);let _0x1b8a60;try{_0x1b3e27[_0x1c786a(0x295)]?.[_0x1c786a(0x91a)]&&(_0x1b8a60=await this[_0x1c786a(0x63d)]({'mediatype':_0x1c786a(0x87a),'media':_0x1b3e27[_0x1c786a(0x295)][_0x1c786a(0x91a)]}));}catch(_0x44de27){throw console[_0x1c786a(0x70d)]('Error\x20in\x20prepareMediaMessage:',_0x44de27),new Error(_0x1c786a(0x44c));}try{let _0x26102a={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x1c786a(0x393)},'footer':{'text':_0x1c786a(0x574)},'header':((()=>{const _0x4dbd95=_0x1c786a;if(_0x1b8a60?.['message']?.[_0x4dbd95(0x79a)])return{'hasMediaAttachment':!!_0x1b8a60[_0x4dbd95(0x7a3)][_0x4dbd95(0x79a)],'imageMessage':_0x1b8a60['message'][_0x4dbd95(0x79a)]};})()),'nativeFlowMessage':{'buttons':[{'name':_0x1c786a(0x369),'buttonParamsJson':JSON[_0x1c786a(0x684)]({'display_text':_0x1c786a(0x88a),'id':'1'})},{'name':_0x1c786a(0x369),'buttonParamsJson':JSON[_0x1c786a(0x684)]({'display_text':_0x1c786a(0x2cb),'id':'2'})}],'messageParamsJson':JSON[_0x1c786a(0x684)]({'from':_0x1c786a(0x84d),'templateId':_0x1c786a(0x4e2)+(0x0,re[_0x1c786a(0x471)])(0x12)[_0x1c786a(0x5e7)](_0x1c786a(0x1ca))[_0x1c786a(0x3e8)]()})}}}}};return await this[_0x1c786a(0x709)](_0x1b3e27[_0x1c786a(0x42d)],_0x26102a,_0x1b3e27?.[_0x1c786a(0x1d5)]);}catch(_0x16bc3c){throw console[_0x1c786a(0x70d)](_0x1c786a(0x5c9),_0x16bc3c),new Error(_0x1c786a(0x37d));}}async[a0_0x3f93a9(0x770)](_0x1413cd){const _0x931ed5=a0_0x3f93a9;return await this['sendMessageWithTyping'](_0x1413cd[_0x931ed5(0x42d)],{'locationMessage':{'degreesLatitude':_0x1413cd[_0x931ed5(0x770)][_0x931ed5(0x6da)],'degreesLongitude':_0x1413cd[_0x931ed5(0x770)][_0x931ed5(0x5da)],'name':_0x1413cd[_0x931ed5(0x770)]?.[_0x931ed5(0x537)],'address':_0x1413cd['locationMessage']?.[_0x931ed5(0x5ed)]}},_0x1413cd?.['options']);}async[a0_0x3f93a9(0x3f5)](_0x3f1591){const _0x1bd1ad=a0_0x3f93a9;let _0x7065c2={},_0x277f98=async _0x2b1665=>{const _0x41ac47=a0_0x104e;let _0x47f510='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x2b1665['fullName']+_0x41ac47(0x4e5)+_0x2b1665[_0x41ac47(0x41e)]+'\x0a';_0x2b1665[_0x41ac47(0x22a)]&&(_0x47f510+=_0x41ac47(0x6c8)+_0x2b1665[_0x41ac47(0x22a)]+';\x0a'),_0x2b1665[_0x41ac47(0x50c)]&&(_0x47f510+=_0x41ac47(0x687)+_0x2b1665[_0x41ac47(0x50c)]+'\x0a'),_0x2b1665['url']&&(_0x47f510+=_0x41ac47(0x2f1)+_0x2b1665[_0x41ac47(0x3f9)]+'\x0a');let _0x286834='',_0x2b57f8=0x1;if(_0x2b1665['phoneNumber']){let _0x5f506d=_0x2b1665['phoneNumber'][_0x41ac47(0x6a4)]('|');for(let _0xb8753f of _0x5f506d){let _0x3357f0=await this[_0x41ac47(0x8eb)]({'numbers':[_0xb8753f]}),_0x13389f=(_0x3357f0[_0x41ac47(0x40e)]>0x0?_0x3357f0[0x0][_0x41ac47(0x6dc)]:this[_0x41ac47(0x583)](_0xb8753f))[_0x41ac47(0x2a1)](_0x41ac47(0x51e),'');_0x286834+=_0x41ac47(0x8fb)+_0x2b57f8+'.TEL;waid='+_0x13389f+':'+_0xb8753f+_0x41ac47(0x664)+_0x2b57f8+_0x41ac47(0x6f6),_0x2b57f8++;}}return _0x47f510+=_0x286834+_0x41ac47(0x83b),_0x47f510;};return _0x3f1591[_0x1bd1ad(0x3f5)][_0x1bd1ad(0x40e)]===0x1?_0x7065c2[_0x1bd1ad(0x3f5)]={'displayName':_0x3f1591[_0x1bd1ad(0x3f5)][0x0]['fullName'],'vcard':await _0x277f98(_0x3f1591['contactMessage'][0x0])}:_0x7065c2['contactsArrayMessage']={'displayName':_0x3f1591[_0x1bd1ad(0x3f5)][_0x1bd1ad(0x40e)]+'\x20contacts','contacts':await Promise['all'](_0x3f1591[_0x1bd1ad(0x3f5)][_0x1bd1ad(0x3d6)](async _0x33b618=>({'displayName':_0x33b618[_0x1bd1ad(0x41e)],'vcard':await _0x277f98(_0x33b618)})))},await this[_0x1bd1ad(0x346)](_0x3f1591['number'],{..._0x7065c2},_0x3f1591?.[_0x1bd1ad(0x1d5)]);}async['reactionMessage'](_0x4fb6af){const _0x1c840f=a0_0x3f93a9;return await this[_0x1c840f(0x346)](_0x4fb6af[_0x1c840f(0x54b)]['key'][_0x1c840f(0x6fa)],{'reactionMessage':{'key':_0x4fb6af['reactionMessage'][_0x1c840f(0x33a)],'text':_0x4fb6af[_0x1c840f(0x54b)][_0x1c840f(0x7c0)]}});}async[a0_0x3f93a9(0x8eb)](_0x53c32c){const _0x18fb31=a0_0x3f93a9;let _0x3cc052=[];for await(let _0x48d31d of _0x53c32c[_0x18fb31(0x47c)]){let _0x8d59fd=this[_0x18fb31(0x583)](_0x48d31d),_0x5e0925=!0x1;try{if((0x0,w[_0x18fb31(0x532)])(_0x8d59fd)){let _0xd46670=(await this['repository'][_0x18fb31(0x3bd)]['findOne']({'where':{'_id':_0x8d59fd}},this[_0x18fb31(0x7ed)][_0x18fb31(0x828)]))['groupdata'];_0xd46670?(_0x5e0925=!0x0,_0x3cc052[_0x18fb31(0x6f2)](new ue(_0xd46670['id'],_0x5e0925,_0xd46670?.['subject']))):(_0xd46670=await this[_0x18fb31(0x847)]({'groupJid':_0x8d59fd},_0x18fb31(0x425)),_0x3cc052['push'](new ue(_0xd46670['id'],!!_0xd46670?.['id'],_0xd46670?.[_0x18fb31(0x83f)])));}else{if(_0x8d59fd[_0x18fb31(0x8dc)](_0x18fb31(0x52e)))_0x3cc052[_0x18fb31(0x6f2)](new ue(_0x8d59fd,!0x0));else{let _0x415410=(await this[_0x18fb31(0x2e8)][_0x18fb31(0x871)](_0x8d59fd))[0x0];_0x3cc052['push'](new ue(_0x415410[_0x18fb31(0x6dc)],_0x415410[_0x18fb31(0x2dd)]));}}}catch{(0x0,w[_0x18fb31(0x532)])(_0x8d59fd)||await this[_0x18fb31(0x899)](_0x8d59fd),_0x3cc052[_0x18fb31(0x6f2)](new ue(_0x48d31d,!0x1));}}return _0x3cc052;}async[a0_0x3f93a9(0x899)](_0x38e8f8){const _0x4c364f=a0_0x3f93a9;try{await this[_0x4c364f(0x4a0)][_0x4c364f(0x3bd)][_0x4c364f(0x39a)]({'where':{'_id':_0x38e8f8,'imported':!0x0}},this[_0x4c364f(0x7ed)][_0x4c364f(0x828)])&&(await this[_0x4c364f(0x4a0)]['chat'][_0x4c364f(0x5cb)](_0x38e8f8,this[_0x4c364f(0x7ed)][_0x4c364f(0x828)]),this['logger']['info']('Chat\x20com\x20ID\x20'+_0x38e8f8+_0x4c364f(0x4ae)));}catch(_0x494600){let _0x2e33a7='Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat',_0x421dc9=_0x494600 instanceof Error?_0x494600[_0x4c364f(0x7a3)]:typeof _0x494600==_0x4c364f(0x894)?JSON[_0x4c364f(0x684)](_0x494600):_0x494600,_0x33dae3=_0x2e33a7+':\x20'+_0x421dc9;this['logger'][_0x4c364f(0x70d)](this['instanceName']+'\x20('+this[_0x4c364f(0x7ed)][_0x4c364f(0x828)]+_0x4c364f(0x432)+_0x33dae3);}}async[a0_0x3f93a9(0x67d)](_0x1c2a7b){const _0x4460f4=a0_0x3f93a9;try{let _0x5db35b=_0x1c2a7b[_0x4460f4(0x5d3)][_0x4460f4(0x697)](_0x1226c0=>(0x0,w['isJidGroup'])(_0x1226c0['remoteJid'])||(0x0,w[_0x4460f4(0x826)])(_0x1226c0[_0x4460f4(0x6fa)]))[_0x4460f4(0x3d6)](_0xfab451=>({'remoteJid':_0xfab451[_0x4460f4(0x6fa)],'fromMe':_0xfab451[_0x4460f4(0x2fa)],'id':_0xfab451['id']}));await this[_0x4460f4(0x2e8)][_0x4460f4(0x5d3)](_0x5db35b);let _0x530b7c=_0x5db35b['map'](_0x169858=>this[_0x4460f4(0x4f9)](_0x169858,{'status':_0x4460f4(0x4b8),'owner':this['instance']['wuid']})),_0x594148=_0x5db35b[_0x4460f4(0x3d6)](_0x2d5faa=>this[_0x4460f4(0x4a0)][_0x4460f4(0x3bd)][_0x4460f4(0x349)]({'where':{'_id':_0x2d5faa[_0x4460f4(0x6fa)]}},{'unreadcount':0x0},this[_0x4460f4(0x7ed)][_0x4460f4(0x828)])),[_0x5dde33,_0x1c2740]=await Promise[_0x4460f4(0x49a)]([Promise[_0x4460f4(0x49a)](_0x530b7c),Promise[_0x4460f4(0x49a)](_0x594148)]);return _0x1c2740[_0x4460f4(0x697)](_0x140ea9=>_0x140ea9!==null)[_0x4460f4(0x3c9)](_0x35d759=>{const _0xbffb84=_0x4460f4;F(this[_0xbffb84(0x5cf)],'chats',{'chat':_0x35d759});}),{'message':_0x4460f4(0x8ea),'read':'success'};}catch(_0x3ae718){let _0xa69c5b=_0x4460f4(0x56d),_0x59232c=_0x3ae718 instanceof Error?_0x3ae718[_0x4460f4(0x7a3)]:typeof _0x3ae718=='object'?JSON[_0x4460f4(0x684)](_0x3ae718):_0x3ae718,_0x5748ef=_0xa69c5b+':\x20'+_0x59232c;throw this['logger'][_0x4460f4(0x70d)](this[_0x4460f4(0x5cf)]+'\x20('+this[_0x4460f4(0x7ed)][_0x4460f4(0x828)]+_0x4460f4(0x432)+_0x5748ef),new x(_0x5748ef);}}async['getLastMessage'](_0xbc46c3){const _0x2d25fe=a0_0x3f93a9;let _0x1362c9={'where':{'key':{'remoteJid':_0xbc46c3}},'limit':0x1},_0x5b5d2a=await this[_0x2d25fe(0x360)](_0x1362c9);return _0x5b5d2a||(this[_0x2d25fe(0x458)][_0x2d25fe(0x70d)]('Last\x20message\x20not\x20found\x20for\x20number:\x20'+_0xbc46c3),null);}async[a0_0x3f93a9(0x289)](_0x4284ea){const _0x16f035=a0_0x3f93a9;this['logger'][_0x16f035(0x5e2)](this['instanceName']+'\x20('+this[_0x16f035(0x7ed)][_0x16f035(0x828)]+_0x16f035(0x502));try{let _0x3514a0=_0x4284ea['lastMessage'],_0x1bc44a=_0x4284ea['chat'];if(!_0x3514a0&&_0x1bc44a?_0x3514a0=await this[_0x16f035(0x7c1)](_0x1bc44a):(_0x3514a0=_0x4284ea[_0x16f035(0x455)],_0x3514a0['messageTimestamp']=_0x3514a0?.[_0x16f035(0x2b5)]??Date[_0x16f035(0x5a4)](),_0x1bc44a=_0x3514a0?.['key']?.[_0x16f035(0x6fa)]),!_0x3514a0||Object[_0x16f035(0x1fa)](_0x3514a0)[_0x16f035(0x40e)]===0x0)throw new U(_0x16f035(0x5e5));this[_0x16f035(0x458)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x16f035(0x828)]+'):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x1bc44a);try{await this['client'][_0x16f035(0x816)]({'archive':_0x4284ea['archive'],'lastMessages':[_0x3514a0]},this[_0x16f035(0x583)](_0x1bc44a));}catch(_0x3fefe4){let _0x44eb4e=_0x16f035(0x679)+_0x1bc44a,_0x525a9a=_0x3fefe4 instanceof Error?_0x3fefe4[_0x16f035(0x7a3)]:typeof _0x3fefe4==_0x16f035(0x894)?JSON[_0x16f035(0x684)](_0x3fefe4):_0x3fefe4,_0x149679=_0x44eb4e+':\x20'+_0x525a9a;this['logger'][_0x16f035(0x70d)](this[_0x16f035(0x5cf)]+'\x20('+this[_0x16f035(0x7ed)]['wuid']+_0x16f035(0x432)+_0x149679);}this[_0x16f035(0x458)][_0x16f035(0x5e2)](this[_0x16f035(0x5cf)]+'\x20('+this[_0x16f035(0x7ed)]['wuid']+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x1bc44a);let _0x42bee1=await this[_0x16f035(0x4a0)]['chat'][_0x16f035(0x349)]({'where':{'_id':_0x3514a0?.[_0x16f035(0x33a)]?.[_0x16f035(0x6fa)]}},{'archived':_0x4284ea[_0x16f035(0x791)]},this[_0x16f035(0x7ed)][_0x16f035(0x828)]);return _0x42bee1?(this[_0x16f035(0x458)]['verbose'](this['instanceName']+'\x20('+this[_0x16f035(0x7ed)]['wuid']+_0x16f035(0x757)+JSON[_0x16f035(0x684)](_0x42bee1)),F(this[_0x16f035(0x5cf)],_0x16f035(0x2f8),{'chat':_0x42bee1})):this[_0x16f035(0x458)][_0x16f035(0x70d)](this[_0x16f035(0x5cf)]+'\x20('+this[_0x16f035(0x7ed)][_0x16f035(0x828)]+_0x16f035(0x4a8)+_0x1bc44a),{'chatId':_0x1bc44a,'archived':_0x4284ea['archive']};}catch(_0x16125f){let _0x101aeb=_0x16f035(0x429),_0x3f34db=_0x16125f instanceof Error?_0x16125f['message']:typeof _0x16125f=='object'?JSON[_0x16f035(0x684)](_0x16125f):_0x16125f,_0x50aa2d=_0x101aeb+':\x20'+_0x3f34db;throw this[_0x16f035(0x458)]['error'](this['instanceName']+'\x20('+this[_0x16f035(0x7ed)][_0x16f035(0x828)]+'):\x20'+_0x50aa2d),new x(_0x50aa2d);}}async[a0_0x3f93a9(0x5cb)](_0xd35611){const _0x37501a=a0_0x3f93a9;this['logger'][_0x37501a(0x5e2)](this[_0x37501a(0x5cf)]+'\x20('+this[_0x37501a(0x7ed)][_0x37501a(0x828)]+'):Delete\x20chat');try{let _0x5ee2c8=await this['getLastMessage'](_0xd35611);if(!_0x5ee2c8||Object['keys'](_0x5ee2c8)[_0x37501a(0x40e)]===0x0)throw new U(_0x37501a(0x5e5));let _0x54a6fb=_0x5ee2c8[0x0];this[_0x37501a(0x458)][_0x37501a(0x5e2)](this[_0x37501a(0x5cf)]+'\x20('+this[_0x37501a(0x7ed)][_0x37501a(0x828)]+_0x37501a(0x3b3)+_0xd35611);try{await this[_0x37501a(0x2e8)][_0x37501a(0x816)]({'delete':!0x0,'lastMessages':[{'key':_0x54a6fb['key'],'messageTimestamp':_0x54a6fb[_0x37501a(0x2b5)]}]},this[_0x37501a(0x583)](_0xd35611));}catch(_0x118bd9){this[_0x37501a(0x458)][_0x37501a(0x70d)](_0x37501a(0x679)+_0xd35611+':\x20'+_0x118bd9['toString']());}this[_0x37501a(0x458)][_0x37501a(0x5e2)](this[_0x37501a(0x5cf)]+'\x20('+this['instance'][_0x37501a(0x828)]+_0x37501a(0x20b)+_0xd35611);return;}catch(_0x4d12af){throw this[_0x37501a(0x458)]['error'](this['instanceName']+'\x20('+this[_0x37501a(0x7ed)][_0x37501a(0x828)]+_0x37501a(0x553)+_0x4d12af['toString']()),new x({'archived':!0x1,'message':[_0x37501a(0x5c7),_0x4d12af[_0x37501a(0x5e7)]()]});}}async[a0_0x3f93a9(0x8d1)](_0x84a2f4){const _0x568afc=a0_0x3f93a9;try{let _0x321857=await this['client'][_0x568afc(0x383)](_0x84a2f4[_0x568afc(0x6fa)],{'delete':_0x84a2f4});try{let _0x219b8c=await this[_0x568afc(0x4f9)](_0x84a2f4,{'status':_0x568afc(0x933),'owner':this[_0x568afc(0x7ed)][_0x568afc(0x828)]});this['logger']['verbose'](this[_0x568afc(0x5cf)]+'\x20('+this['instance']['wuid']+_0x568afc(0x436)+_0x219b8c);}catch(_0x3fd110){this['logger'][_0x568afc(0x70d)](_0x568afc(0x71c)+_0x3fd110);}return _0x321857;}catch(_0x27a1f5){throw new x(_0x568afc(0x811),_0x27a1f5?.[_0x568afc(0x5e7)]());}}async[a0_0x3f93a9(0x2a9)](_0x4e4bca){const _0xe6126d=a0_0x3f93a9;try{let _0x50b03d=_0x4e4bca?.[_0xe6126d(0x7a3)]?_0x4e4bca:await this['getMessage'](_0x4e4bca[_0xe6126d(0x33a)],!0x0);for(let _0x148dda of Ca)_0x50b03d[_0xe6126d(0x7a3)][_0x148dda]&&(_0x50b03d[_0xe6126d(0x7a3)]=_0x50b03d[_0xe6126d(0x7a3)][_0x148dda]['message']);let _0xd5dc57,_0x5d49d9;for(let _0x56fc3f of Ma)if(_0xd5dc57=_0x50b03d['message'][_0x56fc3f],_0xd5dc57){_0x5d49d9=_0x56fc3f;break;}if(!_0xd5dc57)throw _0xe6126d(0x65d);typeof _0xd5dc57[_0xe6126d(0x240)]=='object'&&(_0x50b03d[_0xe6126d(0x7a3)]=JSON[_0xe6126d(0x4a9)](JSON['stringify'](_0x50b03d['message'])));let _0x2cb3ea=await(0x0,w[_0xe6126d(0x4b5)])({'key':_0x50b03d?.['key'],'message':_0x50b03d?.[_0xe6126d(0x7a3)]},_0xe6126d(0x3a1),{},{'logger':(0x0,Ft[_0xe6126d(0x73f)])({'level':_0xe6126d(0x420)}),'reuploadRequest':this[_0xe6126d(0x2e8)]['updateMediaMessage']});if(!(_0x2cb3ea instanceof Buffer))throw new Error(_0xe6126d(0x65b));let _0x1e75cc=this[_0xe6126d(0x4f6)][_0xe6126d(0x2da)](_0xe6126d(0x72b)),_0x14815a,_0x335bb8;if(_0xd5dc57[_0xe6126d(0x4ee)])_0x14815a=_0xd5dc57[_0xe6126d(0x4ee)];else{let _0x519b15=_0xd5dc57[_0xe6126d(0x3c6)]?.[_0xe6126d(0x1cd)](/\/(\w+)/),_0x3c6af7=_0x519b15?_0x519b15[0x1]:null;if(!_0x3c6af7)throw new Error(_0xe6126d(0x378));_0x14815a=(0x0,Y['v4'])()+'.'+_0x3c6af7;}_0x5d49d9===_0xe6126d(0x52c)?_0x335bb8='/media/'+await this['convertaudioMP3'](_0x2cb3ea['toString'](_0xe6126d(0x299))):(await this[_0xe6126d(0x922)](_0x2cb3ea,_0x14815a),_0x335bb8=_0xe6126d(0x427)+_0x14815a);let _0x4f3277=this[_0xe6126d(0x4f6)][_0xe6126d(0x2da)](_0xe6126d(0x768))[_0xe6126d(0x36e)];if(!_0x4f3277){let _0x75e68c=this[_0xe6126d(0x4f6)][_0xe6126d(0x2da)](_0xe6126d(0x39e));_0x4f3277=_0xe6126d(0x55d)+(_0x75e68c&&_0x75e68c[_0xe6126d(0x7e8)]['split']('/')[0x4]);}_0x335bb8=''+_0x4f3277+_0x335bb8;let _0x5c0865=0xc*0x3c*0x3c*0x3e8,_0x50f130={'where':{'_id':_0x50b03d[_0xe6126d(0x33a)]['id']}},_0x4ffafc={'message_normalized.fileUrl':_0x335bb8,'message_normalized.expires_fileUrl':Date[_0xe6126d(0x5a4)]()+_0x5c0865};try{let _0x5b47e6=await this[_0xe6126d(0x4a0)][_0xe6126d(0x7a3)][_0xe6126d(0x2df)](_0x50f130,_0x4ffafc,this['instance'][_0xe6126d(0x828)]);_0x5b47e6&&F(this['instanceName'],_0xe6126d(0x2d8),{'message':_0x5b47e6});}catch(_0x34c2d0){let _0x5c4483=_0xe6126d(0x8a3),_0x5154f6=_0x34c2d0 instanceof Error?_0x34c2d0[_0xe6126d(0x7a3)]:typeof _0x34c2d0==_0xe6126d(0x894)?JSON['stringify'](_0x34c2d0):_0x34c2d0,_0x1dc0ae=_0x5c4483+':\x20'+_0x5154f6;this[_0xe6126d(0x458)][_0xe6126d(0x70d)](this[_0xe6126d(0x5cf)]+'\x20('+this[_0xe6126d(0x7ed)][_0xe6126d(0x828)]+_0xe6126d(0x432)+_0x1dc0ae);}return{'mediaType':_0x5d49d9,'fileName':_0xd5dc57[_0xe6126d(0x4ee)],'caption':_0xd5dc57[_0xe6126d(0x65e)],'size':{'fileLength':_0xd5dc57['fileLength'],'height':_0xd5dc57[_0xe6126d(0x511)],'width':_0xd5dc57['width']},'mimetype':_0xd5dc57[_0xe6126d(0x3c6)],'base64':_0x2cb3ea[_0xe6126d(0x5e7)](_0xe6126d(0x299)),'fileUrl':_0x335bb8,'expires_fileUrl':Date['now']()+_0x5c0865};}catch(_0x5a9e08){let _0x11bfeb=_0xe6126d(0x38b),_0xccd56f=_0x5a9e08 instanceof Error?_0x5a9e08[_0xe6126d(0x7a3)]:typeof _0x5a9e08=='object'?JSON[_0xe6126d(0x684)](_0x5a9e08):_0x5a9e08,_0x1df6a9=_0x11bfeb+':\x20'+_0xccd56f;throw this['logger']['error'](this[_0xe6126d(0x5cf)]+'\x20('+this[_0xe6126d(0x7ed)][_0xe6126d(0x828)]+_0xe6126d(0x432)+_0x1df6a9),new m(_0x1df6a9);}}async[a0_0x3f93a9(0x922)](_0x4b7e75,_0x504936){const _0x38a870=a0_0x3f93a9;let _0xbec75f=j[_0x38a870(0x73f)][_0x38a870(0x6ef)](__dirname,_0x38a870(0x699));k['existsSync'](_0xbec75f)||k[_0x38a870(0x363)](_0xbec75f,{'recursive':!0x0});let _0x136754=j[_0x38a870(0x73f)]['join'](_0xbec75f,_0x504936);return new Promise((_0x2dd17b,_0x25cb6f)=>{k['writeFile'](_0x136754,_0x4b7e75,_0x237042=>{const _0x4fa883=a0_0x104e;_0x237042?(this['logger'][_0x4fa883(0x70d)]('Error\x20writing\x20file:\x20'+(_0x237042 instanceof Error?_0x237042[_0x4fa883(0x7a3)]:JSON[_0x4fa883(0x684)](_0x237042,null,0x2))),_0x25cb6f(_0x237042)):(this[_0x4fa883(0x458)][_0x4fa883(0x236)]('File\x20written\x20to\x20path:\x20'+_0x136754),_0x2dd17b(_0x136754));});});}async[a0_0x3f93a9(0x8e8)](_0x59b78f){const _0x5d0201=a0_0x3f93a9;return await this['repository']['contact'][_0x5d0201(0x419)](_0x59b78f,this[_0x5d0201(0x7ed)][_0x5d0201(0x828)]);}async[a0_0x3f93a9(0x80c)](){const _0x555021=a0_0x3f93a9;return await this[_0x555021(0x4a0)][_0x555021(0x462)][_0x555021(0x419)]({'where':{}},this[_0x555021(0x7ed)][_0x555021(0x828)]);}async['fetchMessages'](_0x26fb64){const _0x3ede81=a0_0x3f93a9;return await this['repository'][_0x3ede81(0x7a3)][_0x3ede81(0x419)](_0x26fb64,this[_0x3ede81(0x7ed)][_0x3ede81(0x828)]);}async[a0_0x3f93a9(0x59b)](){const _0x47b1e2=a0_0x3f93a9;return this[_0x47b1e2(0x4a0)][_0x47b1e2(0x3bd)][_0x47b1e2(0x1e2)](this[_0x47b1e2(0x7ed)][_0x47b1e2(0x828)]),this['repository'][_0x47b1e2(0x3bd)][_0x47b1e2(0x4c0)](this[_0x47b1e2(0x7ed)][_0x47b1e2(0x828)]),this['repository']['chat'][_0x47b1e2(0x8b7)](this['instance'][_0x47b1e2(0x828)]),this['repository'][_0x47b1e2(0x3bd)][_0x47b1e2(0x844)](this[_0x47b1e2(0x7ed)][_0x47b1e2(0x828)]),await this['repository'][_0x47b1e2(0x3bd)]['find']({'where':{}},this['instance'][_0x47b1e2(0x828)]);}async['importChatsAntigo'](_0x51e826){const _0x5180e4=a0_0x3f93a9;try{if(!Array[_0x5180e4(0x84c)](_0x51e826)||_0x51e826['length']===0x0)throw new Error(_0x5180e4(0x46d));let _0x3ce39f=[],_0x59979a=[];for(let _0x30a4aa of _0x51e826){if(_0x30a4aa[_0x5180e4(0x7ad)])_0x30a4aa[_0x5180e4(0x7ad)]=this[_0x5180e4(0x583)](_0x30a4aa[_0x5180e4(0x7ad)]);else continue;await this[_0x5180e4(0x4a0)][_0x5180e4(0x3bd)][_0x5180e4(0x39a)]({'where':{'_id':_0x30a4aa[_0x5180e4(0x7ad)]}},this[_0x5180e4(0x7ed)][_0x5180e4(0x828)])?_0x59979a['push']({'_id':_0x30a4aa[_0x5180e4(0x7ad)],'leadInfo':_0x30a4aa[_0x5180e4(0x3c2)],'owner':this['instance'][_0x5180e4(0x828)]}):_0x3ce39f[_0x5180e4(0x6f2)]({'_id':_0x30a4aa['_id'],'owner':this[_0x5180e4(0x7ed)][_0x5180e4(0x828)],'leadInfo':_0x30a4aa[_0x5180e4(0x3c2)],'imported':!0x0});}return _0x59979a[_0x5180e4(0x40e)]>0x0&&await this['repository']['chat'][_0x5180e4(0x34e)](_0x59979a[_0x5180e4(0x3d6)](_0x4bc6e1=>({'query':{'where':{'_id':_0x4bc6e1['_id'],'owner':this[_0x5180e4(0x7ed)][_0x5180e4(0x828)]}},'update':_0x4bc6e1}))),_0x3ce39f['length']>0x0&&await this[_0x5180e4(0x4a0)][_0x5180e4(0x3bd)][_0x5180e4(0x6e9)](_0x3ce39f,this[_0x5180e4(0x7ed)]['wuid']),{'updated':_0x59979a[_0x5180e4(0x40e)],'inserted':_0x3ce39f[_0x5180e4(0x40e)]};}catch(_0x16acf4){let _0xf8ad32=_0x5180e4(0x2b2),_0x89d706=_0x16acf4 instanceof Error?_0x16acf4['message']:typeof _0x16acf4==_0x5180e4(0x894)?JSON[_0x5180e4(0x684)](_0x16acf4):_0x16acf4,_0x1297b0=_0xf8ad32+':\x20'+_0x89d706;throw this[_0x5180e4(0x458)]['error'](this['instanceName']+'\x20('+this['instance'][_0x5180e4(0x828)]+_0x5180e4(0x432)+_0x1297b0),new m(_0x1297b0);}}async[a0_0x3f93a9(0x228)](_0x1af878){const _0x2257ce=a0_0x3f93a9;try{if(!Array[_0x2257ce(0x84c)](_0x1af878)||_0x1af878['length']===0x0)throw new Error(_0x2257ce(0x46d));let _0x10d35e=0x64,_0x5a6b96=0x0;for(let _0x96c542=0x0;_0x96c542<_0x1af878[_0x2257ce(0x40e)];_0x96c542+=_0x10d35e){let _0x533278=_0x1af878[_0x2257ce(0x37c)](_0x96c542,_0x96c542+_0x10d35e),{updated:_0x4da28f}=await this[_0x2257ce(0x27a)](_0x533278);_0x5a6b96+=_0x4da28f;}return{'updated':_0x5a6b96};}catch(_0x454220){let _0x53dc19=_0x2257ce(0x2b2),_0x38730c=_0x454220 instanceof Error?_0x454220['message']:typeof _0x454220==_0x2257ce(0x894)?JSON[_0x2257ce(0x684)](_0x454220):_0x454220,_0x53bbb2=_0x53dc19+':\x20'+_0x38730c;throw this[_0x2257ce(0x458)]['error'](this[_0x2257ce(0x5cf)]+'\x20('+this[_0x2257ce(0x7ed)][_0x2257ce(0x828)]+_0x2257ce(0x432)+_0x53bbb2),new m(_0x53bbb2);}}async[a0_0x3f93a9(0x27a)](_0x39452){const _0x1e7920=a0_0x3f93a9;try{let _0x462734=await this['repository'][_0x1e7920(0x462)][_0x1e7920(0x419)]({'where':{}},this[_0x1e7920(0x7ed)][_0x1e7920(0x828)]),_0x1ffc7c=new Set(_0x462734[_0x1e7920(0x3d6)](_0x5868b5=>_0x5868b5['_id'])),_0x37361c=[],_0x5cfc0a=[];for(let _0x369520 of _0x39452){if(!_0x369520[_0x1e7920(0x7ad)])continue;_0x369520[_0x1e7920(0x7ad)]=this[_0x1e7920(0x583)](_0x369520[_0x1e7920(0x7ad)]);let _0x179433=await this[_0x1e7920(0x4a0)][_0x1e7920(0x3bd)]['findOne']({'where':{'_id':_0x369520[_0x1e7920(0x7ad)]}},this['instance'][_0x1e7920(0x828)]),_0x57c13a={};if(Object['entries'](_0x369520[_0x1e7920(0x3c2)])['forEach'](([_0x5cb80d,_0x11a067])=>{_0x57c13a['leadInfo.'+_0x5cb80d]=_0x11a067;}),_0x179433&&!_0x179433[_0x1e7920(0x1f9)]){let _0x51fbab=(_0x369520['leadInfo'][_0x1e7920(0x2ee)]||[])['filter'](_0x40de19=>_0x1ffc7c['has'](_0x40de19)),_0x4627ce=new Set(_0x179433[_0x1e7920(0x3c2)][_0x1e7920(0x2ee)]||[]),_0x468c8d=_0x51fbab['filter'](_0x4a6575=>!_0x4627ce['has'](_0x4a6575)),_0x5efc72=[..._0x4627ce][_0x1e7920(0x697)](_0x1ea244=>!_0x51fbab[_0x1e7920(0x8dc)](_0x1ea244));_0x5cfc0a['push'](..._0x468c8d['map'](_0x13eff8=>this['AddChatLabel'](_0x13eff8,_0x369520[_0x1e7920(0x7ad)]))),_0x5cfc0a[_0x1e7920(0x6f2)](..._0x5efc72['map'](_0x520e3b=>this['RemoveChatLabel'](_0x520e3b,_0x369520[_0x1e7920(0x7ad)]))),_0x369520[_0x1e7920(0x3c2)][_0x1e7920(0x2ee)]=_0x51fbab,_0x37361c['push']({'query':{'where':{'_id':_0x369520[_0x1e7920(0x7ad)],'owner':this['instance'][_0x1e7920(0x828)]}},'update':_0x57c13a});}else _0x57c13a['imported']=!0x0,_0x37361c[_0x1e7920(0x6f2)]({'query':{'where':{'_id':_0x369520['_id'],'owner':this[_0x1e7920(0x7ed)][_0x1e7920(0x828)]}},'update':_0x57c13a});}let _0x5cf743=await this[_0x1e7920(0x4a0)]['chat'][_0x1e7920(0x34e)](_0x37361c);return await Promise[_0x1e7920(0x49a)](_0x5cfc0a),{'updated':_0x5cf743};}catch(_0x4eb896){let _0x3c8c96='Erro\x20ao\x20importar\x20chats',_0x5d99f1=_0x4eb896 instanceof Error?_0x4eb896[_0x1e7920(0x7a3)]:typeof _0x4eb896==_0x1e7920(0x894)?JSON[_0x1e7920(0x684)](_0x4eb896):_0x4eb896,_0x344fb7=_0x3c8c96+':\x20'+_0x5d99f1;throw this[_0x1e7920(0x458)][_0x1e7920(0x70d)](this[_0x1e7920(0x5cf)]+'\x20('+this['instance'][_0x1e7920(0x828)]+'):\x20'+_0x344fb7),new m(_0x344fb7);}}async[a0_0x3f93a9(0x261)](){const _0x35bbb7=a0_0x3f93a9;return await this[_0x35bbb7(0x2e8)]['fetchPrivacySettings']();}async[a0_0x3f93a9(0x68f)](_0x54034d){const _0x36b7a2=a0_0x3f93a9;try{return await this[_0x36b7a2(0x2e8)][_0x36b7a2(0x63c)](_0x54034d['privacySettings'][_0x36b7a2(0x1e0)]),await this[_0x36b7a2(0x2e8)][_0x36b7a2(0x841)](_0x54034d[_0x36b7a2(0x546)][_0x36b7a2(0x2b0)]),await this[_0x36b7a2(0x2e8)][_0x36b7a2(0x4ef)](_0x54034d[_0x36b7a2(0x546)][_0x36b7a2(0x74f)]),await this[_0x36b7a2(0x2e8)][_0x36b7a2(0x795)](_0x54034d[_0x36b7a2(0x546)][_0x36b7a2(0x8f4)]),await this[_0x36b7a2(0x2e8)]['updateLastSeenPrivacy'](_0x54034d[_0x36b7a2(0x546)][_0x36b7a2(0x2f3)]),await this[_0x36b7a2(0x2e8)][_0x36b7a2(0x3aa)](_0x54034d[_0x36b7a2(0x546)][_0x36b7a2(0x482)]),this['client']?.['ws']?.[_0x36b7a2(0x322)](),{'update':_0x36b7a2(0x7c6),'data':{'readreceipts':_0x54034d[_0x36b7a2(0x546)]['readreceipts'],'profile':_0x54034d['privacySettings'][_0x36b7a2(0x2b0)],'status':_0x54034d[_0x36b7a2(0x546)]['status'],'online':_0x54034d[_0x36b7a2(0x546)][_0x36b7a2(0x8f4)],'last':_0x54034d[_0x36b7a2(0x546)][_0x36b7a2(0x2f3)],'groupadd':_0x54034d[_0x36b7a2(0x546)][_0x36b7a2(0x482)]}};}catch(_0x50af6b){let _0x573b63=_0x36b7a2(0x35e),_0x2ef0f1=_0x50af6b instanceof Error?_0x50af6b['message']:typeof _0x50af6b==_0x36b7a2(0x894)?JSON[_0x36b7a2(0x684)](_0x50af6b):_0x50af6b,_0x1f7aad=_0x573b63+':\x20'+_0x2ef0f1;throw this[_0x36b7a2(0x458)][_0x36b7a2(0x70d)](this[_0x36b7a2(0x5cf)]+'\x20('+this['instance'][_0x36b7a2(0x828)]+'):\x20'+_0x1f7aad),new m(_0x1f7aad);}}async[a0_0x3f93a9(0x86e)](_0x8ae5bc){const _0x4934f0=a0_0x3f93a9;let _0xc536d7=(_0x8ae5bc?this[_0x4934f0(0x583)](_0x8ae5bc):this[_0x4934f0(0x2e8)]?.[_0x4934f0(0x73c)]?.['id'])[_0x4934f0(0x2a1)](/:\d{1,2}@/g,'@');this[_0x4934f0(0x458)][_0x4934f0(0x5e2)](this[_0x4934f0(0x5cf)]+'\x20('+this[_0x4934f0(0x7ed)][_0x4934f0(0x828)]+_0x4934f0(0x256)+_0xc536d7);let _0x57dfc1=await this[_0x4934f0(0x4a0)][_0x4934f0(0x226)][_0x4934f0(0x39a)]({'where':{'_id':_0xc536d7}},this['instance'][_0x4934f0(0x828)]),_0x1a2049=_0x57dfc1?_0x57dfc1[_0x4934f0(0x89f)]:null;try{let _0x25a10d=(await this[_0x4934f0(0x8eb)]({'numbers':[_0xc536d7]}))?.[_0x4934f0(0x86f)](),_0x3cd51f=(await this[_0x4934f0(0x758)](_0xc536d7,null,!0x1))[_0x4934f0(0x712)][_0x4934f0(0x8a5)],_0x201916=await this[_0x4934f0(0x544)](_0x25a10d?.[_0x4934f0(0x6dc)]),_0x1d2ca5=await this[_0x4934f0(0x405)](_0x25a10d?.[_0x4934f0(0x6dc)]),_0x31db1a=(await this[_0x4934f0(0x758)](_0xc536d7,null,!0x1))[_0x4934f0(0x712)][_0x4934f0(0x537)],_0x7dcecd=await this[_0x4934f0(0x4a0)][_0x4934f0(0x3bd)][_0x4934f0(0x39a)]({'where':{'_id':_0xc536d7}},this['instance'][_0x4934f0(0x828)]),_0x1061f2={'imagechat':_0x3cd51f,'contactname':_0x1a2049||null,'pushName':_0x31db1a,'status':_0x201916?.[_0x4934f0(0x74f)],'isBusiness':_0x1d2ca5[_0x4934f0(0x29f)],'email':_0x1d2ca5?.[_0x4934f0(0x50c)],'description':_0x1d2ca5?.[_0x4934f0(0x872)],'website':_0x1d2ca5?.[_0x4934f0(0x655)]?.[_0x4934f0(0x86f)](),'lastcache':Date[_0x4934f0(0x5a4)](),'imported':!_0x7dcecd},_0x1a8bf8=await this['repository'][_0x4934f0(0x3bd)][_0x4934f0(0x349)]({'where':{'_id':_0xc536d7}},_0x1061f2,this['instance'][_0x4934f0(0x828)]),_0x3be7cd={'owner':this[_0x4934f0(0x7ed)]['wuid'],'_id':_0xc536d7,'profilePictureUrl':_0x3cd51f,'status':_0x201916?.[_0x4934f0(0x74f)]};return this[_0x4934f0(0x4a0)][_0x4934f0(0x226)]['update']([_0x3be7cd],this[_0x4934f0(0x7ed)]['wuid']),_0x1a8bf8&&F(this[_0x4934f0(0x5cf)],_0x4934f0(0x2f8),{'chat':_0x1a8bf8}),{'wuid':_0x25a10d?.[_0x4934f0(0x6dc)]||_0xc536d7,'name':_0x25a10d?.[_0x4934f0(0x537)],'pushName':_0x31db1a,'numberExists':_0x25a10d?.[_0x4934f0(0x2dd)],'picture':_0x3cd51f,'status':_0x201916?.[_0x4934f0(0x74f)],'isBusiness':_0x1d2ca5[_0x4934f0(0x29f)],'email':_0x1d2ca5?.['email'],'description':_0x1d2ca5?.[_0x4934f0(0x872)],'website':_0x1d2ca5?.['website']?.['shift']()};}catch(_0x16f4d7){return this['logger'][_0x4934f0(0x70d)]('Error\x20fetching\x20and\x20updating\x20profile:\x20'+(_0x16f4d7 instanceof Error?_0x16f4d7[_0x4934f0(0x7a3)]:JSON['stringify'](_0x16f4d7,null,0x2))),{};}}async[a0_0x3f93a9(0x405)](_0x3130e9){const _0x559206=a0_0x3f93a9;this[_0x559206(0x458)][_0x559206(0x5e2)](this[_0x559206(0x5cf)]+'\x20('+this[_0x559206(0x7ed)]['wuid']+_0x559206(0x785));try{let _0x6dcd94=_0x3130e9?this[_0x559206(0x583)](_0x3130e9):this['instance']['wuid'],_0x1f71b0=await this[_0x559206(0x2e8)][_0x559206(0x70c)](_0x6dcd94);return this[_0x559206(0x458)][_0x559206(0x5e2)](this[_0x559206(0x5cf)]+'\x20('+this[_0x559206(0x7ed)][_0x559206(0x828)]+_0x559206(0x4aa)),_0x1f71b0?(this[_0x559206(0x458)]['verbose'](this[_0x559206(0x5cf)]+'\x20('+this[_0x559206(0x7ed)][_0x559206(0x828)]+'):Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x1f71b0}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this[_0x559206(0x8eb)]({'numbers':[_0x6dcd94]}))?.[_0x559206(0x86f)]()};}catch(_0x304f24){let _0x44a34a=_0x559206(0x6f8),_0x13aa89=_0x304f24 instanceof Error?_0x304f24[_0x559206(0x7a3)]:typeof _0x304f24==_0x559206(0x894)?JSON[_0x559206(0x684)](_0x304f24):_0x304f24,_0x428ef2=_0x44a34a+':\x20'+_0x13aa89;throw this[_0x559206(0x458)][_0x559206(0x70d)](this[_0x559206(0x5cf)]+'\x20('+this['instance'][_0x559206(0x828)]+_0x559206(0x432)+_0x428ef2),new x(_0x428ef2);}}async[a0_0x3f93a9(0x544)](_0x49fa73){const _0x2a0c16=a0_0x3f93a9;let _0x9d5b6a=this['createJid'](_0x49fa73);try{return{'wuid':_0x9d5b6a,'status':(await this[_0x2a0c16(0x2e8)]['fetchStatus'](_0x9d5b6a))[0x0]?.[_0x2a0c16(0x74f)]};}catch{return{'wuid':_0x9d5b6a,'status':null};}}async['updateProfileName'](_0x11d17e){const _0x480ea2=a0_0x3f93a9;try{return await this[_0x480ea2(0x2e8)]['updateProfileName'](_0x11d17e),{'update':'success'};}catch(_0x795c19){let _0x3c7968=_0x480ea2(0x7c4),_0x2c00a9=_0x795c19 instanceof Error?_0x795c19[_0x480ea2(0x7a3)]:typeof _0x795c19=='object'?JSON[_0x480ea2(0x684)](_0x795c19):_0x795c19,_0x57254e=_0x3c7968+':\x20'+_0x2c00a9;throw this[_0x480ea2(0x458)][_0x480ea2(0x70d)](this['instanceName']+'\x20('+this[_0x480ea2(0x7ed)][_0x480ea2(0x828)]+_0x480ea2(0x432)+_0x57254e),new x(_0x57254e);}}async['updateProfileStatus'](_0x3c074c){const _0x267261=a0_0x3f93a9;try{return await this[_0x267261(0x2e8)][_0x267261(0x4dd)](_0x3c074c),{'update':_0x267261(0x7c6)};}catch(_0x685a39){let _0x47285c=_0x267261(0x1f0),_0x2922a2=_0x685a39 instanceof Error?_0x685a39[_0x267261(0x7a3)]:typeof _0x685a39=='object'?JSON[_0x267261(0x684)](_0x685a39):_0x685a39,_0x580e18=_0x47285c+':\x20'+_0x2922a2;throw this[_0x267261(0x458)]['error'](this['instanceName']+'\x20('+this[_0x267261(0x7ed)][_0x267261(0x828)]+_0x267261(0x432)+_0x580e18),new x(_0x580e18);}}async[a0_0x3f93a9(0x2c7)](_0x1f898d){const _0x1f4831=a0_0x3f93a9;try{let _0x5a7b49;if((0x0,J[_0x1f4831(0x1d4)])(_0x1f898d)){let _0x1e8072=new Date()[_0x1f4831(0x1d2)](),_0x1426eb=_0x1f898d+_0x1f4831(0x830)+_0x1e8072;_0x5a7b49=(await Q[_0x1f4831(0x73f)]['get'](_0x1426eb,{'responseType':_0x1f4831(0x495)}))[_0x1f4831(0x765)];}else{if((0x0,J['isBase64'])(_0x1f898d))_0x5a7b49=Buffer[_0x1f4831(0x7eb)](_0x1f898d,'base64');else throw new m(_0x1f4831(0x88e));}return await this[_0x1f4831(0x2e8)]['updateProfilePicture'](this[_0x1f4831(0x7ed)]['wuid'],_0x5a7b49),{'update':_0x1f4831(0x7c6)};}catch(_0x3ead49){let _0x230957=_0x1f4831(0x517),_0x532f4e=_0x3ead49 instanceof Error?_0x3ead49[_0x1f4831(0x7a3)]:typeof _0x3ead49==_0x1f4831(0x894)?JSON['stringify'](_0x3ead49):_0x3ead49,_0x412ad3=_0x230957+':\x20'+_0x532f4e;throw this[_0x1f4831(0x458)][_0x1f4831(0x70d)](this[_0x1f4831(0x5cf)]+'\x20('+this[_0x1f4831(0x7ed)][_0x1f4831(0x828)]+_0x1f4831(0x432)+_0x412ad3),new x(_0x412ad3);}}async[a0_0x3f93a9(0x6d0)](){const _0xd8809a=a0_0x3f93a9;try{return await this[_0xd8809a(0x2e8)][_0xd8809a(0x6d0)](this[_0xd8809a(0x7ed)][_0xd8809a(0x828)]),{'update':_0xd8809a(0x7c6)};}catch(_0x3d00db){let _0x154a5a=_0xd8809a(0x746),_0xcc31f1=_0x3d00db instanceof Error?_0x3d00db[_0xd8809a(0x7a3)]:typeof _0x3d00db==_0xd8809a(0x894)?JSON[_0xd8809a(0x684)](_0x3d00db):_0x3d00db,_0x1a79ef=_0x154a5a+':\x20'+_0xcc31f1;throw this[_0xd8809a(0x458)][_0xd8809a(0x70d)](this[_0xd8809a(0x5cf)]+'\x20('+this['instance'][_0xd8809a(0x828)]+_0xd8809a(0x432)+_0x1a79ef),new x(_0x1a79ef);}}async[a0_0x3f93a9(0x3e0)](_0x22877e){const _0x48e42f=a0_0x3f93a9;try{let _0xe30536=(await this['whatsappNumber']({'numbers':_0x22877e['participants']}))[_0x48e42f(0x697)](_0x359c0e=>_0x359c0e['exists'])[_0x48e42f(0x3d6)](_0x395f0a=>_0x395f0a['jid']),{id:_0x3042c5}=await this[_0x48e42f(0x2e8)]['groupCreate'](_0x22877e[_0x48e42f(0x83f)],_0xe30536);_0x22877e?.['description']&&await this['client'][_0x48e42f(0x4ac)](_0x3042c5,_0x22877e[_0x48e42f(0x872)]);let _0x4cf0ea=await this[_0x48e42f(0x2e8)][_0x48e42f(0x8be)](_0x3042c5);return _0x4cf0ea['awaitingApproval']=[],await this[_0x48e42f(0x2c6)](),{'metadata':_0x4cf0ea};}catch(_0x2287ea){let _0x181289='Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup',_0x113d88=_0x2287ea instanceof Error?_0x2287ea[_0x48e42f(0x7a3)]:typeof _0x2287ea==_0x48e42f(0x894)?JSON[_0x48e42f(0x684)](_0x2287ea):_0x2287ea,_0x1ff346=_0x181289+':\x20'+_0x113d88;throw this['logger']['error'](this[_0x48e42f(0x5cf)]+'\x20('+this[_0x48e42f(0x7ed)]['wuid']+_0x48e42f(0x432)+_0x1ff346),new x(_0x1ff346);}}async['groupBetterSetting'](_0x7457f7){const _0x266633=a0_0x3f93a9;try{if(_0x7457f7[_0x266633(0x651)]===!0x0&&await this[_0x266633(0x2e8)][_0x266633(0x780)](_0x7457f7[_0x266633(0x306)],_0x266633(0x6d8)),_0x7457f7[_0x266633(0x651)]===!0x1&&await this[_0x266633(0x2e8)][_0x266633(0x780)](_0x7457f7[_0x266633(0x306)],'unlocked'),_0x7457f7[_0x266633(0x1f2)]===!0x0&&await this[_0x266633(0x2e8)][_0x266633(0x780)](_0x7457f7[_0x266633(0x306)],_0x266633(0x370)),_0x7457f7[_0x266633(0x1f2)]===!0x1&&await this['client'][_0x266633(0x780)](_0x7457f7[_0x266633(0x306)],_0x266633(0x48f)),_0x7457f7[_0x266633(0x590)]===!0x0&&await this[_0x266633(0x2e8)]['groupMemberAddMode'](_0x7457f7[_0x266633(0x306)],_0x266633(0x1c8)),_0x7457f7[_0x266633(0x590)]===!0x1&&await this['client']['groupMemberAddMode'](_0x7457f7['groupJid'],_0x266633(0x486)),_0x7457f7[_0x266633(0x5b7)]===!0x0&&await this[_0x266633(0x2e8)][_0x266633(0x6a9)](_0x7457f7['groupJid'],'on'),_0x7457f7[_0x266633(0x5b7)]===!0x1&&await this[_0x266633(0x2e8)][_0x266633(0x6a9)](_0x7457f7[_0x266633(0x306)],_0x266633(0x28f)),typeof _0x7457f7['expiration']<'u'&&_0x7457f7[_0x266633(0x3ca)]!==null&&await this[_0x266633(0x2e8)]['groupToggleEphemeral'](_0x7457f7[_0x266633(0x306)],_0x7457f7[_0x266633(0x3ca)]),_0x7457f7[_0x266633(0x537)]&&await this[_0x266633(0x2e8)][_0x266633(0x725)](_0x7457f7['groupJid'],_0x7457f7[_0x266633(0x537)]),_0x7457f7[_0x266633(0x872)]&&await this['client'][_0x266633(0x4ac)](_0x7457f7[_0x266633(0x306)],_0x7457f7[_0x266633(0x872)]),_0x7457f7['image']){let _0x1bb939;if((0x0,J[_0x266633(0x1d4)])(_0x7457f7['image'])){let _0x2721d5=new Date()[_0x266633(0x1d2)](),_0x558c5f=_0x7457f7[_0x266633(0x87a)]+_0x266633(0x830)+_0x2721d5;_0x1bb939=(await Q['default'][_0x266633(0x2da)](_0x558c5f,{'responseType':_0x266633(0x495)}))[_0x266633(0x765)];}else{if((0x0,J['isBase64'])(_0x7457f7[_0x266633(0x87a)]))_0x1bb939=Buffer[_0x266633(0x7eb)](_0x7457f7[_0x266633(0x87a)],_0x266633(0x299));else throw new m(_0x266633(0x88e));}await this[_0x266633(0x2e8)][_0x266633(0x2c7)](_0x7457f7[_0x266633(0x306)],_0x1bb939);}return await this['findGroup']({'groupJid':_0x7457f7[_0x266633(0x306)]});}catch(_0x1e9e8b){let _0x4b00b2=_0x266633(0x616),_0x5c9a6d=_0x1e9e8b instanceof Error?_0x1e9e8b[_0x266633(0x7a3)]:typeof _0x1e9e8b==_0x266633(0x894)?JSON[_0x266633(0x684)](_0x1e9e8b):_0x1e9e8b,_0x41edce=_0x4b00b2+':\x20'+_0x5c9a6d;throw this[_0x266633(0x458)][_0x266633(0x70d)](this['instanceName']+'\x20('+this[_0x266633(0x7ed)]['wuid']+_0x266633(0x432)+_0x41edce),new x(_0x41edce);}}async[a0_0x3f93a9(0x27e)](_0x255a3c){const _0x22dc30=a0_0x3f93a9;try{if(_0x255a3c[_0x22dc30(0x44e)]===_0x22dc30(0x4f8)||_0x255a3c[_0x22dc30(0x44e)]==='reject'){let _0x1fafce=_0x255a3c[_0x22dc30(0x388)]['map'](_0x5787e7=>this[_0x22dc30(0x583)](_0x5787e7));await this[_0x22dc30(0x2e8)][_0x22dc30(0x444)](_0x255a3c[_0x22dc30(0x306)],_0x1fafce,_0x255a3c[_0x22dc30(0x44e)]);}else{if(_0x255a3c['action']===_0x22dc30(0x84a)){let _0x210b37=(await this[_0x22dc30(0x8eb)]({'numbers':_0x255a3c[_0x22dc30(0x388)]}))[_0x22dc30(0x697)](_0xc8d287=>_0xc8d287[_0x22dc30(0x2dd)])[_0x22dc30(0x3d6)](_0x116293=>this[_0x22dc30(0x583)](_0x116293[_0x22dc30(0x6dc)]));if(_0x210b37[_0x22dc30(0x40e)]===0x0)throw new m(_0x22dc30(0x562));await this[_0x22dc30(0x2e8)]['groupParticipantsUpdate'](_0x255a3c[_0x22dc30(0x306)],_0x210b37,_0x22dc30(0x84a));}else{let _0x215b66=_0x255a3c[_0x22dc30(0x388)]['map'](_0x163eba=>this[_0x22dc30(0x583)](_0x163eba));await this[_0x22dc30(0x2e8)][_0x22dc30(0x3a7)](_0x255a3c[_0x22dc30(0x306)],_0x215b66,_0x255a3c[_0x22dc30(0x44e)]);}}return await this[_0x22dc30(0x847)]({'groupJid':_0x255a3c['groupJid']});}catch(_0x51e5fe){let _0x5362a0=_0x22dc30(0x686),_0x22c9a4=_0x51e5fe instanceof Error?_0x51e5fe['message']:typeof _0x51e5fe==_0x22dc30(0x894)?JSON[_0x22dc30(0x684)](_0x51e5fe):_0x51e5fe,_0x52f737=_0x5362a0+':\x20'+_0x22c9a4;throw this['logger'][_0x22dc30(0x70d)](this[_0x22dc30(0x5cf)]+'\x20('+this[_0x22dc30(0x7ed)]['wuid']+'):\x20'+_0x52f737),new m(_0x52f737);}}async[a0_0x3f93a9(0x528)](_0xb5adb0){const _0x3ee8cf=a0_0x3f93a9;try{return await this[_0x3ee8cf(0x2e8)][_0x3ee8cf(0x528)](_0xb5adb0[_0x3ee8cf(0x642)]);}catch(_0x507c63){let _0x585101=_0x3ee8cf(0x7f7),_0x4f8557=_0x507c63 instanceof Error?_0x507c63[_0x3ee8cf(0x7a3)]:typeof _0x507c63==_0x3ee8cf(0x894)?JSON[_0x3ee8cf(0x684)](_0x507c63):_0x507c63,_0x52e9ec=_0x585101+':\x20'+_0x4f8557;throw this[_0x3ee8cf(0x458)]['error'](this[_0x3ee8cf(0x5cf)]+'\x20('+this[_0x3ee8cf(0x7ed)]['wuid']+'):\x20'+_0x52e9ec),new m(_0x52e9ec);}}async[a0_0x3f93a9(0x847)](_0x43e1e5,_0x2731d0='out'){const _0x3d43c3=a0_0x3f93a9;try{let _0x36e58c=await this[_0x3d43c3(0x4a0)][_0x3d43c3(0x3bd)][_0x3d43c3(0x39a)]({'where':{'_id':_0x43e1e5[_0x3d43c3(0x306)]}},this['instance'][_0x3d43c3(0x828)]),_0x2371f8=_0x36e58c?_0x36e58c[_0x3d43c3(0x6b8)]:null,_0x2a04e6=0x18*0x3c*0x3c*0x3e8;if(!_0x2371f8||_0x2371f8[_0x3d43c3(0x5a6)]&&Date[_0x3d43c3(0x5a4)]()-_0x2371f8['lastUpdate']>_0x2a04e6){let _0x47c668=await this[_0x3d43c3(0x2e8)][_0x3d43c3(0x8be)](_0x43e1e5[_0x3d43c3(0x306)]);if(_0x47c668['subjectTime']=_0x47c668?.[_0x3d43c3(0x85b)]&&_0x47c668[_0x3d43c3(0x85b)]['toString']()['length']<0xd?_0x47c668?.[_0x3d43c3(0x85b)]*0x3e8:_0x47c668?.[_0x3d43c3(0x85b)]||null,_0x47c668['creation']=_0x47c668?.[_0x3d43c3(0x713)]&&_0x47c668[_0x3d43c3(0x713)][_0x3d43c3(0x5e7)]()[_0x3d43c3(0x40e)]<0xd?_0x47c668?.[_0x3d43c3(0x713)]*0x3e8:_0x47c668?.[_0x3d43c3(0x713)]||null,_0x2371f8={..._0x47c668,'lastUpdate':Date[_0x3d43c3(0x5a4)]()},!_0x47c668)return;}let _0x7ca5c2=_0x2371f8[_0x3d43c3(0x388)][_0x3d43c3(0x3cc)](_0x4519ee=>_0x4519ee['id']===this[_0x3d43c3(0x7ed)][_0x3d43c3(0x828)]+_0x3d43c3(0x51e)&&_0x4519ee[_0x3d43c3(0x901)]!=null);!_0x2371f8[_0x3d43c3(0x642)]&&_0x7ca5c2&&(_0x2371f8[_0x3d43c3(0x642)]=(await this['inviteCode'](_0x43e1e5,!0x1))[_0x3d43c3(0x803)]);let _0x22c463=(!_0x2371f8[_0x3d43c3(0x1f2)]||_0x7ca5c2)&&(!_0x2371f8[_0x3d43c3(0x870)]||_0x2371f8[_0x3d43c3(0x870)]&&_0x2371f8[_0x3d43c3(0x1ec)]&&_0x7ca5c2);_0x2371f8[_0x3d43c3(0x1ef)]=_0x7ca5c2,_0x2371f8[_0x3d43c3(0x59e)]=_0x22c463;let _0x2b7968=[];if(_0x7ca5c2&&_0x2371f8[_0x3d43c3(0x5b7)])try{_0x2b7968=await this[_0x3d43c3(0x2e8)][_0x3d43c3(0x73e)](_0x43e1e5['groupJid']),_0x2371f8['lastFetchAwaitingApproval']=Date['now']();}catch(_0x2592d1){this[_0x3d43c3(0x458)][_0x3d43c3(0x5e2)](this[_0x3d43c3(0x5cf)]+'\x20('+this[_0x3d43c3(0x7ed)]['wuid']+_0x3d43c3(0x8ef)+_0x43e1e5[_0x3d43c3(0x306)]+':\x20'+(_0x2592d1 instanceof Error?_0x2592d1[_0x3d43c3(0x7a3)]:JSON[_0x3d43c3(0x684)](_0x2592d1,null,0x2)));}try{_0x2371f8[_0x3d43c3(0x87a)]=(await this[_0x3d43c3(0x758)](_0x43e1e5[_0x3d43c3(0x306)],null,!0x0))['cachedContact']['pictureUrl'];}catch(_0x24ad50){this['logger'][_0x3d43c3(0x5e2)](this[_0x3d43c3(0x5cf)]+'\x20('+this[_0x3d43c3(0x7ed)][_0x3d43c3(0x828)]+_0x3d43c3(0x7fa)+_0x43e1e5[_0x3d43c3(0x306)]+':\x20'+(_0x24ad50 instanceof Error?_0x24ad50[_0x3d43c3(0x7a3)]:JSON[_0x3d43c3(0x684)](_0x24ad50,null,0x2)));}let _0x265e21=_0x2371f8['participants'][_0x3d43c3(0x3d6)](_0x366d90=>_0x366d90['id']),_0x5cf6f6=_0x2b7968['map'](_0x42d372=>_0x42d372[_0x3d43c3(0x6dc)]),_0x2f8918=await this[_0x3d43c3(0x4a0)][_0x3d43c3(0x5af)][_0x3d43c3(0x659)]([..._0x265e21,..._0x5cf6f6]);_0x2371f8[_0x3d43c3(0x388)]=_0x2371f8[_0x3d43c3(0x388)][_0x3d43c3(0x3d6)](_0x57b97f=>{const _0x52d3cc=_0x3d43c3;let _0x375e31=_0x2f8918[_0x52d3cc(0x419)](_0x27dd1f=>_0x27dd1f[_0x52d3cc(0x7ad)]===_0x57b97f['id']);return{'id':_0x57b97f['id'],'isAdmin':[_0x52d3cc(0x901),'superadmin']['includes'](_0x57b97f[_0x52d3cc(0x901)]),'admin':_0x57b97f[_0x52d3cc(0x901)],'pushName':_0x375e31?.[_0x52d3cc(0x537)],'profilePictureUrl':_0x375e31?.[_0x52d3cc(0x8a5)]};}),_0x2371f8[_0x3d43c3(0x56e)]=_0x2b7968['map'](_0x2bf8bd=>{const _0x18f92c=_0x3d43c3;let _0x4608b0=_0x2f8918[_0x18f92c(0x419)](_0x320845=>_0x320845[_0x18f92c(0x7ad)]===_0x2bf8bd[_0x18f92c(0x6dc)]);return{'id':_0x2bf8bd[_0x18f92c(0x6dc)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x4608b0?.[_0x18f92c(0x537)],'profilePictureUrl':_0x4608b0?.[_0x18f92c(0x8a5)],'request_method':_0x2bf8bd[_0x18f92c(0x214)],'request_time':_0x2bf8bd[_0x18f92c(0x6b7)]};});let _0x15593b=await this['repository'][_0x3d43c3(0x3bd)][_0x3d43c3(0x349)]({'where':{'_id':_0x43e1e5['groupJid']}},{'imagechat':_0x2371f8[_0x3d43c3(0x87a)],'name':_0x2371f8[_0x3d43c3(0x83f)],'lastcache':Date[_0x3d43c3(0x5a4)](),'groupdata':_0x2371f8},this[_0x3d43c3(0x7ed)][_0x3d43c3(0x828)]);return F(this['instanceName'],'chats',{'chat':_0x15593b}),{'metadata':_0x2371f8};}catch(_0x5ef2e0){if(_0x2731d0===_0x3d43c3(0x425))return;throw new U(_0x3d43c3(0x2c0),_0x5ef2e0[_0x3d43c3(0x7a3)][_0x3d43c3(0x5e7)]());}}async[a0_0x3f93a9(0x6fc)](){const _0x14f553=a0_0x3f93a9;try{this[_0x14f553(0x458)]['info'](_0x14f553(0x238));let _0x561d94=Date[_0x14f553(0x5a4)](),_0x1d6bd3=0x3*0x3c*0x3c*0x3e8;return _0x561d94-this['lastRealGroupsFetch']>_0x1d6bd3&&(this['findRealGroups'](),this[_0x14f553(0x620)]=_0x561d94),(await this[_0x14f553(0x4a0)][_0x14f553(0x3bd)][_0x14f553(0x89c)]({'where':{'group':!0x0}},this[_0x14f553(0x7ed)][_0x14f553(0x828)]))[_0x14f553(0x3d6)](_0xed5e1b=>({..._0xed5e1b[_0x14f553(0x6b8)],'groupJid':_0xed5e1b?.[_0x14f553(0x7ad)],'participants':_0xed5e1b?.['groupdata']?.['participants']||[],'awaitingApproval':_0xed5e1b?.[_0x14f553(0x6b8)]?.[_0x14f553(0x56e)]||[],'image':_0xed5e1b?.[_0x14f553(0x351)]}));}catch(_0x500d31){let _0x2dc409=_0x14f553(0x6de),_0x5b8ef3=_0x500d31 instanceof Error?_0x500d31[_0x14f553(0x7a3)]:typeof _0x500d31==_0x14f553(0x894)?JSON[_0x14f553(0x684)](_0x500d31):_0x500d31,_0x3ec9bf=_0x2dc409+':\x20'+_0x5b8ef3;throw this[_0x14f553(0x458)][_0x14f553(0x70d)](this[_0x14f553(0x5cf)]+'\x20('+this['instance']['wuid']+_0x14f553(0x432)+_0x3ec9bf),new U(_0x3ec9bf);}}async['findRealGroups'](){const _0x342675=a0_0x3f93a9;try{this[_0x342675(0x458)]['info'](_0x342675(0x5a9));let _0x164d83=[],_0x2f67b1=await this[_0x342675(0x2e8)]['groupFetchAllParticipating'](),_0x53c755=Object[_0x342675(0x3e1)](_0x2f67b1),_0x3fb8e9=_0x53c755[_0x342675(0x697)](_0x339a6e=>(0x0,w[_0x342675(0x532)])(_0x339a6e?.['id']))[_0x342675(0x3d6)](async _0x1daf0c=>{const _0x3cc0f4=_0x342675;try{return await this[_0x3cc0f4(0x2e8)]['profilePictureUrl'](_0x1daf0c['id'],'preview');}catch(_0x5dde39){return this[_0x3cc0f4(0x458)][_0x3cc0f4(0x5e2)](this[_0x3cc0f4(0x5cf)]+'\x20('+this[_0x3cc0f4(0x7ed)][_0x3cc0f4(0x828)]+_0x3cc0f4(0x7fa)+_0x1daf0c['id']+':\x20'+(_0x5dde39 instanceof Error?_0x5dde39[_0x3cc0f4(0x7a3)]:JSON['stringify'](_0x5dde39,null,0x2))),null;}}),_0x344f16=await Promise[_0x342675(0x49a)](_0x3fb8e9);for(let _0x11214c=0x0;_0x11214c<_0x53c755['length'];_0x11214c++){let _0x2b6bef=_0x53c755[_0x11214c];(0x0,w[_0x342675(0x532)])(_0x2b6bef?.['id'])&&(_0x164d83[_0x342675(0x6f2)]({'groupJid':_0x2b6bef?.['id'],'subject':_0x2b6bef?.[_0x342675(0x83f)],'subjectOwner':_0x2b6bef?.[_0x342675(0x2aa)]?.[_0x342675(0x6a4)]('@')[0x0],'subjectTime':_0x2b6bef?.[_0x342675(0x85b)],'creation':_0x2b6bef?.[_0x342675(0x713)],'size':_0x2b6bef?.[_0x342675(0x388)]?.[_0x342675(0x40e)],'owner':_0x2b6bef?.[_0x342675(0x4a1)]?.['split']('@')[0x0],'desc':_0x2b6bef?.[_0x342675(0x298)],'restrict':_0x2b6bef?.[_0x342675(0x651)],'announce':_0x2b6bef?.[_0x342675(0x1f2)],'image':_0x344f16[_0x11214c],'isCommunity':_0x2b6bef?.[_0x342675(0x870)],'joinApprovalMode':_0x2b6bef?.[_0x342675(0x5b7)],'memberCanAddParticipant':_0x2b6bef?.[_0x342675(0x590)],'participants':_0x2b6bef?.['participants'],'descOwner':_0x2b6bef?.[_0x342675(0x69e)],'descId':_0x2b6bef?.['descId'],'memberAddMode':_0x2b6bef?.[_0x342675(0x590)],'isCommunityAnnounce':_0x2b6bef?.['isCommunityAnnounce'],'ephemeralDuration':_0x2b6bef?.[_0x342675(0x717)]||0x0,'author':_0x2b6bef?.[_0x342675(0x81e)]}),this[_0x342675(0x82d)](_0x53c755[_0x11214c]));}return _0x164d83;}catch(_0x3906f3){let _0x2eb2d4=_0x342675(0x3e7),_0x2aa854=_0x3906f3 instanceof Error?_0x3906f3[_0x342675(0x7a3)]:typeof _0x3906f3==_0x342675(0x894)?JSON[_0x342675(0x684)](_0x3906f3):_0x3906f3,_0x560927=_0x2eb2d4+':\x20'+_0x2aa854;throw this[_0x342675(0x458)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20'+_0x560927),new U(_0x560927);}}async['updateChatGroupData'](_0x248bec){const _0x5e0c54=a0_0x3f93a9;let _0x13a2f4=await this[_0x5e0c54(0x4a0)][_0x5e0c54(0x3bd)][_0x5e0c54(0x39a)]({'where':{'_id':_0x248bec['id']}},this[_0x5e0c54(0x7ed)]['wuid']);_0x248bec[_0x5e0c54(0x85b)]=_0x248bec?.[_0x5e0c54(0x85b)]&&_0x248bec['subjectTime'][_0x5e0c54(0x5e7)]()[_0x5e0c54(0x40e)]<0xd?_0x248bec?.['subjectTime']*0x3e8:_0x248bec?.[_0x5e0c54(0x85b)]||null,_0x248bec[_0x5e0c54(0x713)]=_0x248bec?.['creation']&&_0x248bec['creation'][_0x5e0c54(0x5e7)]()[_0x5e0c54(0x40e)]<0xd?_0x248bec?.['creation']*0x3e8:_0x248bec?.[_0x5e0c54(0x713)]||null;let _0x487f71=_0x13a2f4?.['groupdata']?.['awaitingApproval']||[],_0x249db0=_0x13a2f4?.[_0x5e0c54(0x6b8)]?.[_0x5e0c54(0x29e)],_0x563af3=_0x248bec[_0x5e0c54(0x388)][_0x5e0c54(0x3d6)](_0x2f2965=>{const _0x1a887e=_0x5e0c54;let _0x22cd56=_0x13a2f4?.['groupdata']?.[_0x1a887e(0x388)][_0x1a887e(0x419)](_0x12b2ea=>_0x12b2ea['id']===_0x2f2965['id']);return{..._0x2f2965,'isAdmin':['admin','superadmin']['includes'](_0x2f2965[_0x1a887e(0x901)]),'admin':_0x2f2965[_0x1a887e(0x901)],'name':_0x22cd56?.[_0x1a887e(0x537)]||_0x2f2965[_0x1a887e(0x537)],'imgUrl':_0x22cd56?.[_0x1a887e(0x209)]||_0x2f2965['imgUrl']};}),_0x4d6ee4=_0x563af3[_0x5e0c54(0x3cc)](_0x495eab=>_0x495eab['id']===this[_0x5e0c54(0x7ed)][_0x5e0c54(0x828)]+_0x5e0c54(0x51e)&&_0x495eab[_0x5e0c54(0x1ef)]),_0x2e194c=(!_0x248bec['announce']||_0x4d6ee4)&&(!_0x248bec['isCommunity']||_0x248bec[_0x5e0c54(0x870)]&&_0x248bec[_0x5e0c54(0x1ec)]&&_0x4d6ee4),_0x8b585f={..._0x248bec,'participants':_0x563af3,'awaitingApproval':_0x487f71,'lastFetchAwaitingApproval':_0x249db0,'isAdmin':_0x4d6ee4,'canSendMessage':_0x2e194c,'lastUpdate':Date['now']()};await this['repository'][_0x5e0c54(0x3bd)][_0x5e0c54(0x349)]({'where':{'_id':_0x248bec['id']}},{'name':_0x248bec[_0x5e0c54(0x83f)],'group':!0x0,'groupdata':_0x8b585f,'lastcache':Date['now']()},this[_0x5e0c54(0x7ed)][_0x5e0c54(0x828)]),F(this[_0x5e0c54(0x5cf)],_0x5e0c54(0x2f8),{'chat':_0x248bec});}async[a0_0x3f93a9(0x814)](_0x2e4b6e){const _0x2920ee=a0_0x3f93a9;let _0xbcc472=await this[_0x2920ee(0x4a0)][_0x2920ee(0x3bd)][_0x2920ee(0x39a)]({'where':{'_id':_0x2e4b6e['id']}},this[_0x2920ee(0x7ed)][_0x2920ee(0x828)]);_0x2e4b6e['subjectTime']=_0x2e4b6e?.['subjectTime']&&_0x2e4b6e[_0x2920ee(0x85b)][_0x2920ee(0x5e7)]()[_0x2920ee(0x40e)]<0xd?_0x2e4b6e?.[_0x2920ee(0x85b)]*0x3e8:_0x2e4b6e?.[_0x2920ee(0x85b)]||null,_0x2e4b6e[_0x2920ee(0x713)]=_0x2e4b6e?.[_0x2920ee(0x713)]&&_0x2e4b6e[_0x2920ee(0x713)]['toString']()[_0x2920ee(0x40e)]<0xd?_0x2e4b6e?.['creation']*0x3e8:_0x2e4b6e?.[_0x2920ee(0x713)]||null,_0x2e4b6e[_0x2920ee(0x642)]&&(_0x2e4b6e[_0x2920ee(0x642)]=_0x2920ee(0x3dc)+_0x2e4b6e[_0x2920ee(0x642)]);let _0x2cbf34=_0xbcc472?.[_0x2920ee(0x6b8)]?{..._0xbcc472['groupdata']}:{};Object[_0x2920ee(0x1fa)](_0x2e4b6e)['forEach'](_0x23e002=>{_0x23e002!=='id'&&(_0x2cbf34[_0x23e002]=_0x2e4b6e[_0x23e002]);});let _0x23c1d1=_0x2cbf34[_0x2920ee(0x388)]?.['some'](_0x21aae7=>_0x21aae7['id']===this[_0x2920ee(0x7ed)][_0x2920ee(0x828)]+_0x2920ee(0x51e)&&_0x21aae7[_0x2920ee(0x1ef)])||!0x1;_0x2cbf34[_0x2920ee(0x1ef)]=_0x23c1d1;let _0xc8099f=(!_0x2cbf34[_0x2920ee(0x1f2)]||_0x23c1d1)&&(!_0x2cbf34[_0x2920ee(0x870)]||_0x2cbf34['isCommunity']&&_0x2cbf34[_0x2920ee(0x1ec)]&&_0x23c1d1);_0x2cbf34[_0x2920ee(0x59e)]=_0xc8099f;let _0x21a4bb={'group':!0x0,'groupdata':_0x2cbf34};_0x2e4b6e['subject']&&(_0x21a4bb[_0x2920ee(0x537)]=_0x2e4b6e[_0x2920ee(0x83f)]),await this[_0x2920ee(0x4a0)]['chat'][_0x2920ee(0x349)]({'where':{'_id':_0x2e4b6e['id']}},_0x21a4bb,this[_0x2920ee(0x7ed)]['wuid'],{'upsert':!0x0}),F(this[_0x2920ee(0x5cf)],_0x2920ee(0x2f8),{'chat':_0x21a4bb});}async[a0_0x3f93a9(0x599)](_0x188853){const _0x48deff=a0_0x3f93a9;let _0x555bda=await this[_0x48deff(0x4a0)][_0x48deff(0x3bd)][_0x48deff(0x39a)]({'where':{'_id':_0x188853['id']}},this[_0x48deff(0x7ed)]['wuid']);if(!_0x555bda||!_0x555bda['groupdata']){this[_0x48deff(0x458)][_0x48deff(0x907)](this[_0x48deff(0x5cf)]+'\x20('+this['instance'][_0x48deff(0x828)]+_0x48deff(0x1cf)+_0x188853['id']);return;}let _0x914f22=await this[_0x48deff(0x4a0)]['cacheContact'][_0x48deff(0x659)](_0x188853[_0x48deff(0x388)]),_0x3a512a=[..._0x555bda[_0x48deff(0x6b8)]?.['participants']];switch(_0x188853[_0x48deff(0x44e)]){case _0x48deff(0x84a):let _0x4711d0=_0x914f22['map'](_0x2b07a2=>({'id':_0x2b07a2[_0x48deff(0x7ad)],'isAdmin':!0x1,'name':_0x2b07a2['name'],'imgUrl':_0x2b07a2[_0x48deff(0x8a5)]}));_0x3a512a=[..._0x3a512a,..._0x4711d0];break;case _0x48deff(0x34f):_0x3a512a=_0x3a512a[_0x48deff(0x697)](_0x521760=>!_0x188853[_0x48deff(0x388)]['includes'](_0x521760['id']));break;case _0x48deff(0x868):case _0x48deff(0x4e0):_0x3a512a=_0x3a512a[_0x48deff(0x3d6)](_0x4551c8=>_0x188853['participants'][_0x48deff(0x8dc)](_0x4551c8['id'])?{..._0x4551c8,'isAdmin':_0x188853['action']==='promote'}:_0x4551c8);break;}let _0xcc5ba0=_0x3a512a[_0x48deff(0x40e)],_0x342fb7=_0x3a512a['some'](_0x47046a=>_0x47046a['id']===this['instance'][_0x48deff(0x828)]+_0x48deff(0x51e)),_0x4e041f=_0x342fb7&&_0x3a512a[_0x48deff(0x3cc)](_0x1bd644=>_0x1bd644['id']===this[_0x48deff(0x7ed)][_0x48deff(0x828)]+_0x48deff(0x51e)&&_0x1bd644[_0x48deff(0x1ef)]),_0x17144c=_0x342fb7&&(!_0x555bda[_0x48deff(0x6b8)][_0x48deff(0x1f2)]||_0x4e041f)&&(!_0x555bda['groupdata'][_0x48deff(0x870)]||_0x555bda[_0x48deff(0x6b8)][_0x48deff(0x870)]&&_0x4e041f);await this[_0x48deff(0x4a0)][_0x48deff(0x3bd)]['updateOne']({'where':{'_id':_0x188853['id']}},{'groupdata':{..._0x555bda[_0x48deff(0x6b8)],'participants':_0x3a512a,'size':_0xcc5ba0,'isAdmin':_0x4e041f,'canSendMessage':_0x17144c}},this[_0x48deff(0x7ed)][_0x48deff(0x828)]),this[_0x48deff(0x458)]['info'](this['instanceName']+'\x20('+this[_0x48deff(0x7ed)][_0x48deff(0x828)]+_0x48deff(0x3ac)+_0x188853['id']+_0x48deff(0x729)+_0x188853['action']+_0x48deff(0x778)+_0xcc5ba0+',\x20isAdmin:\x20'+_0x4e041f+_0x48deff(0x25b)+_0x17144c);}async[a0_0x3f93a9(0x642)](_0x31ca1d,_0x3e5489=!0x0){const _0x25633d=a0_0x3f93a9;try{let _0x3583d6=await this[_0x25633d(0x2e8)][_0x25633d(0x73d)](_0x31ca1d[_0x25633d(0x306)]),_0x26bf7b={'groupdata.inviteCode':_0x25633d(0x3dc)+_0x3583d6};if(_0x3e5489){let _0x39e6c1=await this[_0x25633d(0x4a0)][_0x25633d(0x3bd)]['updateOne']({'where':{'_id':_0x31ca1d[_0x25633d(0x306)]}},_0x26bf7b,this[_0x25633d(0x7ed)][_0x25633d(0x828)]);}return{'inviteUrl':_0x25633d(0x3dc)+_0x3583d6,'inviteCode':_0x3583d6};}catch(_0x16c1c7){let _0x315b26=_0x25633d(0x810),_0xe2ee01=_0x16c1c7 instanceof Error?_0x16c1c7[_0x25633d(0x7a3)]:typeof _0x16c1c7==_0x25633d(0x894)?JSON['stringify'](_0x16c1c7):_0x16c1c7,_0x4b72bd=_0x315b26+':\x20'+_0xe2ee01;throw this[_0x25633d(0x458)][_0x25633d(0x70d)](this[_0x25633d(0x5cf)]+'\x20('+this[_0x25633d(0x7ed)]['wuid']+_0x25633d(0x432)+_0x4b72bd),new U(_0x4b72bd);}}async[a0_0x3f93a9(0x6b9)](_0x5bd151){const _0x25f62f=a0_0x3f93a9;try{let _0x443594=await this[_0x25f62f(0x2e8)]['groupRevokeInvite'](_0x5bd151[_0x25f62f(0x306)]);return{'revoked':!0x0,'inviteUrl':_0x25f62f(0x3dc)+_0x443594,'inviteCode':_0x443594};}catch(_0x25f66b){let _0x2c192c='Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode',_0x2987ad=_0x25f66b instanceof Error?_0x25f66b[_0x25f62f(0x7a3)]:typeof _0x25f66b=='object'?JSON[_0x25f62f(0x684)](_0x25f66b):_0x25f66b,_0x5cf8ce=_0x2c192c+':\x20'+_0x2987ad;throw this['logger']['error'](this[_0x25f62f(0x5cf)]+'\x20('+this[_0x25f62f(0x7ed)][_0x25f62f(0x828)]+_0x25f62f(0x432)+_0x5cf8ce),new U(_0x5cf8ce);}}async['joinGroup'](_0x13aa56){const _0x1bb56e=a0_0x3f93a9;try{if((0x0,J[_0x1bb56e(0x1d4)])(_0x13aa56[_0x1bb56e(0x642)]))var _0x51fd0a=_0x13aa56['inviteCode'][_0x1bb56e(0x6a4)]('/')[0x3];else var _0x51fd0a=_0x13aa56[_0x1bb56e(0x642)];let _0x2ec996=await this[_0x1bb56e(0x2e8)]['groupAcceptInvite'](_0x51fd0a);return this['logger'][_0x1bb56e(0x5e2)](this[_0x1bb56e(0x5cf)]+'\x20('+this['instance']['wuid']+_0x1bb56e(0x432)+_0x2ec996),{'join':!0x0,'inviteCode':_0x51fd0a,'groupJid':_0x2ec996};}catch(_0x7f06c1){let _0x5304ce=_0x1bb56e(0x3cf),_0x4b758b=_0x7f06c1 instanceof Error?_0x7f06c1[_0x1bb56e(0x7a3)]:typeof _0x7f06c1==_0x1bb56e(0x894)?JSON['stringify'](_0x7f06c1):_0x7f06c1,_0x42eddb=_0x5304ce+':\x20'+_0x4b758b;throw this[_0x1bb56e(0x458)][_0x1bb56e(0x70d)](this['instanceName']+'\x20('+this[_0x1bb56e(0x7ed)]['wuid']+_0x1bb56e(0x432)+_0x42eddb),new U(_0x42eddb);}}async[a0_0x3f93a9(0x49b)](_0xde6a2c){const _0x2debdd=a0_0x3f93a9;try{return{'participants':(await this[_0x2debdd(0x4a0)][_0x2debdd(0x3bd)][_0x2debdd(0x39a)]({'where':{'_id':_0xde6a2c[_0x2debdd(0x306)]}},this['instance']['wuid']))[_0x2debdd(0x6b8)][_0x2debdd(0x388)]};}catch(_0x514b03){let _0x36ce89=_0x2debdd(0x606),_0x2fc041=_0x514b03 instanceof Error?_0x514b03[_0x2debdd(0x7a3)]:typeof _0x514b03==_0x2debdd(0x894)?JSON[_0x2debdd(0x684)](_0x514b03):_0x514b03,_0x505626=_0x36ce89+':\x20'+_0x2fc041;throw this[_0x2debdd(0x458)][_0x2debdd(0x70d)](this[_0x2debdd(0x5cf)]+'\x20('+this[_0x2debdd(0x7ed)][_0x2debdd(0x828)]+_0x2debdd(0x432)+_0x505626),new U(_0x505626);}}async['leaveGroup'](_0x38f07c){const _0x56923e=a0_0x3f93a9;try{return await this[_0x56923e(0x2e8)]['groupLeave'](_0x38f07c['groupJid']),{'groupJid':_0x38f07c[_0x56923e(0x306)],'leave':!0x0};}catch(_0x547179){let _0x4c6532=_0x56923e(0x6c5),_0x5e5b9c=_0x547179 instanceof Error?_0x547179[_0x56923e(0x7a3)]:typeof _0x547179==_0x56923e(0x894)?JSON[_0x56923e(0x684)](_0x547179):_0x547179,_0x94379c=_0x4c6532+':\x20'+_0x5e5b9c;throw this[_0x56923e(0x458)][_0x56923e(0x70d)](this['instanceName']+'\x20('+this[_0x56923e(0x7ed)]['wuid']+'):\x20'+_0x94379c),new m(_0x94379c);}}async[a0_0x3f93a9(0x8dd)](_0x15060b){const _0x110c87=a0_0x3f93a9;return await this[_0x110c87(0x346)](_0x15060b[_0x110c87(0x42d)],{'poll':{'name':_0x15060b[_0x110c87(0x8dd)]?.[_0x110c87(0x537)],'selectableCount':_0x15060b[_0x110c87(0x8dd)][_0x110c87(0x58c)],'values':_0x15060b[_0x110c87(0x8dd)]['values']}},_0x15060b?.[_0x110c87(0x1d5)]);}async[a0_0x3f93a9(0x6f4)](_0x4006ca){const _0x26ab77=a0_0x3f93a9;return await this[_0x26ab77(0x346)](_0x4006ca[_0x26ab77(0x42d)],{'listMessage':{'title':_0x4006ca['listMessage'][_0x26ab77(0x1e9)],'description':_0x4006ca[_0x26ab77(0x6f4)][_0x26ab77(0x872)],'buttonText':_0x4006ca[_0x26ab77(0x6f4)]?.[_0x26ab77(0x2ca)],'footerText':_0x4006ca[_0x26ab77(0x6f4)]?.[_0x26ab77(0x760)],'sections':_0x4006ca['listMessage']['sections'],'listType':0x2}},_0x4006ca?.[_0x26ab77(0x1d5)]);}async[a0_0x3f93a9(0x8b9)](_0x2f2d59){const _0x3dc997=a0_0x3f93a9;let _0x1a0de5;if(_0x2f2d59[_0x3dc997(0x8b9)][_0x3dc997(0x66e)]===_0x3dc997(0x547)){let _0x4ceadb=_0x2f2d59['menuMessage'][_0x3dc997(0x5d0)]['indexOf']('\x0a'),_0x55ec77='',_0x17282d='';_0x4ceadb!==-0x1?(_0x55ec77=_0x2f2d59['menuMessage'][_0x3dc997(0x5d0)][_0x3dc997(0x7f8)](0x0,_0x4ceadb)['trim'](),_0x17282d=_0x2f2d59['menuMessage'][_0x3dc997(0x5d0)][_0x3dc997(0x7f8)](_0x4ceadb+0x1)):_0x17282d=_0x2f2d59['menuMessage'][_0x3dc997(0x5d0)];let _0x2abbe7=_0x2f2d59['menuMessage']['choices'][_0x3dc997(0x697)](_0x5e3a08=>_0x5e3a08[_0x3dc997(0x382)]()!==''),_0xda8ae4=this[_0x3dc997(0x932)](_0x2abbe7);_0x1a0de5={'listMessage':{'title':_0x55ec77,'description':_0x17282d,'buttonText':_0x2f2d59[_0x3dc997(0x8b9)][_0x3dc997(0x2ca)]||_0x3dc997(0x596),'footerText':_0x2f2d59[_0x3dc997(0x8b9)][_0x3dc997(0x760)],'sections':_0xda8ae4,'listType':0x2}};}else{if(_0x2f2d59[_0x3dc997(0x8b9)]['type']===_0x3dc997(0x711)){let _0x8d2f3b=_0x2f2d59[_0x3dc997(0x8b9)][_0x3dc997(0x397)][_0x3dc997(0x697)](_0x51a17d=>!(_0x51a17d[_0x3dc997(0x7aa)]('[')&&_0x51a17d[_0x3dc997(0x292)](']'))&&_0x51a17d[_0x3dc997(0x382)]()!=='')[_0x3dc997(0x3d6)](_0x321084=>_0x321084['split']('\x0a')[0x0]);for(;_0x8d2f3b[_0x3dc997(0x40e)]<0x2;)_0x8d2f3b[_0x3dc997(0x6f2)](_0x3dc997(0x5a1)+(_0x8d2f3b[_0x3dc997(0x40e)]+0x1));_0x1a0de5={'poll':{'name':_0x2f2d59[_0x3dc997(0x8b9)][_0x3dc997(0x5d0)],'selectableCount':_0x2f2d59[_0x3dc997(0x8b9)][_0x3dc997(0x58c)]||0x1,'values':_0x8d2f3b}};}else{if(_0x2f2d59['menuMessage'][_0x3dc997(0x66e)]===_0x3dc997(0x32b)){let _0x2dd5e4=this['createButtonsFromValues'](_0x2f2d59[_0x3dc997(0x8b9)]['choices']['filter'](_0x48a08a=>!(_0x48a08a[_0x3dc997(0x7aa)]('[')&&_0x48a08a[_0x3dc997(0x292)](']'))));return _0x1a0de5={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x2f2d59['menuMessage'][_0x3dc997(0x5d0)]},'footer':_0x2f2d59[_0x3dc997(0x8b9)][_0x3dc997(0x760)]?{'text':_0x2f2d59[_0x3dc997(0x8b9)][_0x3dc997(0x760)]}:void 0x0,'nativeFlowMessage':{'buttons':_0x2dd5e4,'messageParamsJson':JSON[_0x3dc997(0x684)]({'from':_0x3dc997(0x84d),'templateId':'3EB0'+(0x0,re['randomBytes'])(0x12)['toString'](_0x3dc997(0x1ca))[_0x3dc997(0x3e8)]()})}}}}},await this['sendMessageWithTypingButtons'](_0x2f2d59[_0x3dc997(0x42d)],_0x1a0de5,_0x2f2d59?.[_0x3dc997(0x1d5)]);}else{if(_0x2f2d59['menuMessage'][_0x3dc997(0x66e)]===_0x3dc997(0x897)){let _0x366af0=this['createButtonSectionsFromValues'](_0x2f2d59[_0x3dc997(0x8b9)]['choices']);return _0x1a0de5={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x2f2d59[_0x3dc997(0x8b9)]['text']},'footer':_0x2f2d59[_0x3dc997(0x8b9)][_0x3dc997(0x760)]?{'text':_0x2f2d59[_0x3dc997(0x8b9)][_0x3dc997(0x760)]}:void 0x0,'nativeFlowMessage':{'buttons':_0x366af0,'messageParamsJson':JSON[_0x3dc997(0x684)]({'from':_0x3dc997(0x84d),'templateId':_0x3dc997(0x4e2)+(0x0,re[_0x3dc997(0x471)])(0x12)[_0x3dc997(0x5e7)]('hex')[_0x3dc997(0x3e8)]()})}}}}},await this[_0x3dc997(0x709)](_0x2f2d59['number'],_0x1a0de5,_0x2f2d59?.[_0x3dc997(0x1d5)]);}}}}return await this['sendMessageWithTyping'](_0x2f2d59[_0x3dc997(0x42d)],_0x1a0de5,_0x2f2d59?.['options']);}[a0_0x3f93a9(0x7bf)](_0x2f3a83){const _0x46ba06=a0_0x3f93a9;return _0x2f3a83[_0x46ba06(0x3d6)](_0x20adcd=>{const _0x364089=_0x46ba06;let _0x485892=_0x20adcd['split']('\x0a')['map'](_0x574a52=>_0x574a52[_0x364089(0x382)]()),_0x349fca=_0x485892[0x0],_0x480537=_0x485892[0x1]||_0x349fca,_0x5a1a82=_0x480537['startsWith'](_0x364089(0x8d4))?_0x364089(0x6a1):_0x364089(0x369);return{'name':_0x5a1a82,'buttonParamsJson':JSON[_0x364089(0x684)]({'display_text':_0x349fca,'id':_0x5a1a82===_0x364089(0x369)?_0x480537:void 0x0,'url':_0x5a1a82===_0x364089(0x6a1)?_0x480537:void 0x0})};});}[a0_0x3f93a9(0x6c6)](_0x463f89){const _0x2ec1e6=a0_0x3f93a9;let _0x57606b=[],_0x50cc63={'title':'','rows':[]};return _0x463f89[_0x2ec1e6(0x3c9)](_0x358427=>{const _0x13ceb6=_0x2ec1e6;if(_0x358427[_0x13ceb6(0x7aa)]('[')&&_0x358427[_0x13ceb6(0x292)](']'))_0x50cc63['rows'][_0x13ceb6(0x40e)]>0x0&&_0x57606b[_0x13ceb6(0x6f2)](_0x50cc63),_0x50cc63={'title':_0x358427['slice'](0x1,-0x1),'rows':[]};else{let _0x3b25b1=_0x358427[_0x13ceb6(0x6a4)]('\x0a')[_0x13ceb6(0x3d6)](_0x57f491=>_0x57f491[_0x13ceb6(0x382)]()),_0x4adfa9=_0x3b25b1[0x0],_0x287418=_0x3b25b1[0x1]?_0x3b25b1[0x1]:void 0x0,_0xdf9ec4=_0x3b25b1[0x2]||_0x4adfa9;_0x50cc63[_0x13ceb6(0x23b)]['push']({'title':_0x4adfa9,'description':_0x287418,'id':_0xdf9ec4});}}),_0x50cc63[_0x2ec1e6(0x23b)][_0x2ec1e6(0x40e)]>0x0&&_0x57606b[_0x2ec1e6(0x6f2)](_0x50cc63),[{'name':_0x2ec1e6(0x93d),'buttonParamsJson':JSON[_0x2ec1e6(0x684)]({'title':_0x2ec1e6(0x39f),'sections':_0x57606b})}];}[a0_0x3f93a9(0x932)](_0x2197c0){const _0x2859a7=a0_0x3f93a9;let _0x1056c1=[],_0x474bbe={'rows':[]};return _0x2197c0[_0x2859a7(0x3c9)](_0x4c5bec=>{const _0x4d49b5=_0x2859a7;if(_0x4c5bec[_0x4d49b5(0x7aa)]('[')&&_0x4c5bec[_0x4d49b5(0x292)](']'))_0x474bbe[_0x4d49b5(0x23b)][_0x4d49b5(0x40e)]>0x0&&_0x1056c1[_0x4d49b5(0x6f2)](_0x474bbe),_0x474bbe={'title':_0x4c5bec['slice'](0x1,-0x1),'rows':[]};else{let _0x5346de=_0x4c5bec[_0x4d49b5(0x6a4)]('\x0a')[_0x4d49b5(0x3d6)](_0x122b65=>_0x122b65['trim']()),_0x1dba95=_0x5346de[0x0],_0x453627=_0x5346de[0x1]||null,_0x174b4a=_0x5346de[0x2]||_0x1dba95;_0x474bbe['rows'][_0x4d49b5(0x6f2)]({'title':_0x1dba95,'description':_0x453627,'rowId':_0x174b4a});}}),_0x474bbe[_0x2859a7(0x23b)][_0x2859a7(0x40e)]>0x0&&_0x1056c1[_0x2859a7(0x6f2)](_0x474bbe),_0x1056c1;}async['updateMessage'](_0x1c0677,_0x146136){const _0x58ec4d=a0_0x3f93a9;if(await this['getMessage'](_0x1c0677,!0x0)){let _0x28f816={'where':{'_id':_0x1c0677['id']}},_0xbf5dd6={'status':[_0x146136[_0x58ec4d(0x74f)]][0x0]};try{let _0x58ec31=await this['repository'][_0x58ec4d(0x7a3)]['update'](_0x28f816,_0xbf5dd6,this[_0x58ec4d(0x7ed)][_0x58ec4d(0x828)]);_0x58ec31&&F(this[_0x58ec4d(0x5cf)],_0x58ec4d(0x2d8),{'message':_0x58ec31});}catch{}}}['sectionsToString'](_0x156f64){const _0x529d18=a0_0x3f93a9;let _0x17e107=[];return _0x156f64[_0x529d18(0x3c9)](_0x4a4293=>{const _0x5551a9=_0x529d18;_0x4a4293[_0x5551a9(0x1e9)]&&_0x17e107['push']('['+_0x4a4293[_0x5551a9(0x1e9)]+']'),_0x4a4293[_0x5551a9(0x23b)]['forEach'](_0x1be8c0=>{const _0x27d612=_0x5551a9;_0x17e107[_0x27d612(0x6f2)](_0x1be8c0['title']);});}),_0x17e107[_0x529d18(0x6ef)]('|');}[a0_0x3f93a9(0x75e)](_0x2abeee){const _0x2f794f=a0_0x3f93a9;let _0x36e054=_0x2abeee[_0x2f794f(0x2a1)](/\\n/g,'\x0a')['split']('\x0a')[_0x2f794f(0x697)](_0x37e60e=>_0x37e60e[_0x2f794f(0x8dc)](_0x2f794f(0x29a))||_0x37e60e[_0x2f794f(0x8dc)]('EMAIL')),_0x4cb6e4='';return _0x36e054[_0x2f794f(0x3c9)](_0x4c7eb7=>{const _0xe9b877=_0x2f794f;let _0x1a1b7e=/TEL(?:.*):(.+)/,_0x574e65=/EMAIL(?:.*):(.+)/,_0x29d97d=_0x4c7eb7['match'](_0x1a1b7e),_0x22ee98=_0x4c7eb7[_0xe9b877(0x1cd)](_0x574e65);if(_0x29d97d){let _0x4bf5cc=_0x29d97d[0x1][_0xe9b877(0x2a1)](/-| |\+|\(|\)/g,'')[_0xe9b877(0x382)]();_0x4cb6e4+=_0xe9b877(0x2fd)+_0x4bf5cc+'\x0a';}else{if(_0x22ee98){let _0x3999e6=_0x22ee98[0x1]['trim']();_0x4cb6e4+=_0xe9b877(0x789)+_0x3999e6+'\x0a';}}}),_0x4cb6e4[_0x2f794f(0x382)]();}async[a0_0x3f93a9(0x591)](_0x422cf8,_0x5310f6,_0xe56128,_0x197f2e=null){const _0x7702cc=a0_0x3f93a9;if(_0x422cf8['ENABLED'])try{let _0x4d6357=_0x5310f6['key'][_0x7702cc(0x6fa)][_0x7702cc(0x2a1)](/:\d{1,2}@/g,'@'),_0x264fe6=_0x5310f6[_0x7702cc(0x33a)][_0x7702cc(0x2fa)],_0x487fcf=_0x4d6357[_0x7702cc(0x292)]('@g.us'),_0x57802b=_0x5310f6['participant']?.[_0x7702cc(0x2a1)](/:\d{1,2}@/g,'@')||'',_0x5d9ed7=_0x5310f6[_0x7702cc(0x57a)]?.[_0x7702cc(0x5d0)]||_0x5310f6[_0x7702cc(0x57a)]?.[_0x7702cc(0x65e)]||_0x5310f6[_0x7702cc(0x57a)]?.['vote']||_0x5310f6['message_normalized']?.[_0x7702cc(0x537)]||'',_0x408367={'_id':_0x5310f6[_0x7702cc(0x7ad)],'remoteJid':_0x264fe6?this['instance'][_0x7702cc(0x828)]:_0x487fcf?_0x57802b:_0x4d6357,'pushName':_0x264fe6?this[_0x7702cc(0x7ed)][_0x7702cc(0x451)]||'Eu':_0x5310f6[_0x7702cc(0x89f)],'text':_0x5d9ed7,'type':_0x5310f6[_0x7702cc(0x728)],'when':_0x5310f6[_0x7702cc(0x2b5)]||Date[_0x7702cc(0x5a4)]()};_0x197f2e||(_0x197f2e=await this[_0x7702cc(0x4a0)]['chat'][_0x7702cc(0x39a)]({'where':{'_id':_0x4d6357}},this['instance']['wuid']));let _0x5c9965=_0x264fe6?0x0:_0x197f2e?(_0x197f2e[_0x7702cc(0x925)]||0x0)+0x1:0x1,_0x29b647={'lastmsg':_0x5310f6[_0x7702cc(0x2b5)]||Date[_0x7702cc(0x5a4)](),'ephemeralExpiration':_0x5310f6['expiration'],'lastMessage':_0x408367,'unreadcount':_0x5c9965,..._0x264fe6||_0x487fcf?{}:{'name':_0x5310f6[_0x7702cc(0x89f)]},..._0x487fcf?{'group':_0x487fcf}:{},...!_0x264fe6&&!_0x487fcf&&_0x5310f6['profilePictureUrl']?{'imagechat':_0x5310f6[_0x7702cc(0x3c4)]}:{}};if(!_0x487fcf&&(!_0x197f2e?.[_0x7702cc(0x3c2)]||!_0x197f2e['leadInfo'][_0x7702cc(0x7e5)])&&_0x5310f6[_0x7702cc(0x89f)]&&!_0x264fe6&&(_0x29b647={..._0x29b647,'leadInfo.nome':_0x5310f6[_0x7702cc(0x89f)]}),_0x197f2e?.[_0x7702cc(0x3c2)][_0x7702cc(0x2ee)]||(_0x29b647={..._0x29b647,'leadInfo.etiquetas':[]}),_0x197f2e?.[_0x7702cc(0x3c2)][_0x7702cc(0x8fa)]||(_0x29b647={..._0x29b647,'leadInfo.customFields':[]}),_0x197f2e?.[_0x7702cc(0x3c2)]['tags']||(_0x29b647={..._0x29b647,'leadInfo.tags':[]}),_0x197f2e&&_0x197f2e?.['imported']){let _0x38ffc4=await this[_0x7702cc(0x4a0)][_0x7702cc(0x462)]['find']({'where':{}},this['instance']['wuid']),_0x4745fd=new Set(_0x38ffc4[_0x7702cc(0x3d6)](_0x34103e=>_0x34103e[_0x7702cc(0x7ad)])),_0xa8cf78=(_0x197f2e[_0x7702cc(0x3c2)]?.[_0x7702cc(0x2ee)]||[])[_0x7702cc(0x697)](_0x38dadc=>_0x4745fd[_0x7702cc(0x887)](_0x38dadc));_0x29b647={..._0x29b647,'imported':!0x1,'leadInfo.etiquetas':_0xa8cf78};for(let _0x24eb41 of _0xa8cf78)await this['AddChatLabel'](_0x24eb41,_0x4d6357);}if(!this[_0x7702cc(0x6d2)][_0x7702cc(0x84f)][_0x7702cc(0x419)](_0x3a79bd=>_0x3a79bd[_0x7702cc(0x6ca)]&&_0x5d9ed7[_0x7702cc(0x8dc)](_0x3a79bd['startCommand']))&&_0xe56128===_0x7702cc(0x45f)&&_0x264fe6&&this[_0x7702cc(0x6d2)]?.[_0x7702cc(0x8db)][_0x7702cc(0x7c7)]&&_0x5d9ed7[_0x7702cc(0x382)]()!==this[_0x7702cc(0x6d2)]?.[_0x7702cc(0x8db)][_0x7702cc(0x518)][_0x7702cc(0x382)]()){let _0x4172aa=(this[_0x7702cc(0x6d2)]?.[_0x7702cc(0x8db)][_0x7702cc(0x931)]||0x0)*0xea60,_0xbeceab=Date['now']()+_0x4172aa;_0x197f2e?.[_0x7702cc(0x3c2)]?.[_0x7702cc(0x7a0)]===0x0||(_0x29b647={..._0x29b647,'leadInfo.desativadoFluxoAte':_0xbeceab},this['logger'][_0x7702cc(0x5e2)](this[_0x7702cc(0x5cf)]+'\x20('+this['instance']['wuid']+_0x7702cc(0x8da)+_0xbeceab+'.'));}if(_0x5d9ed7[_0x7702cc(0x382)]()===this[_0x7702cc(0x6d2)]?.[_0x7702cc(0x8db)][_0x7702cc(0x518)][_0x7702cc(0x382)]()){this[_0x7702cc(0x458)]['verbose'](this['instanceName']+'\x20('+this[_0x7702cc(0x7ed)][_0x7702cc(0x828)]+_0x7702cc(0x476)+_0x5d9ed7);let _0x5c453f=Date[_0x7702cc(0x5a4)]();this[_0x7702cc(0x6d2)]?.[_0x7702cc(0x8db)][_0x7702cc(0x63e)]===0x0?_0x29b647={..._0x29b647,'leadInfo.desativadoFluxoAte':_0x5c453f+0x7591f6200}:_0x29b647={..._0x29b647,'leadInfo.desativadoFluxoAte':_0x5c453f+this[_0x7702cc(0x6d2)]?.[_0x7702cc(0x8db)][_0x7702cc(0x63e)]*0x3c*0x3e8};}if(_0x197f2e=await this[_0x7702cc(0x4a0)][_0x7702cc(0x3bd)]['updateOne']({'where':{'_id':_0x4d6357}},_0x29b647,this[_0x7702cc(0x7ed)][_0x7702cc(0x828)],{'new':!0x0,'upsert':!0x0}),_0x197f2e)F(this[_0x7702cc(0x5cf)],_0x7702cc(0x2f8),{'chat':_0x197f2e});else{this[_0x7702cc(0x458)][_0x7702cc(0x70d)](this[_0x7702cc(0x5cf)]+'\x20('+this[_0x7702cc(0x7ed)][_0x7702cc(0x828)]+_0x7702cc(0x3da));return;}if(_0x264fe6)return this[_0x7702cc(0x458)][_0x7702cc(0x5e2)](this[_0x7702cc(0x5cf)]+'\x20('+this[_0x7702cc(0x7ed)]['wuid']+_0x7702cc(0x33c)),null;if(!this[_0x7702cc(0x6d2)]?.[_0x7702cc(0x8db)][_0x7702cc(0x7c7)])return this['logger']['verbose'](this[_0x7702cc(0x5cf)]+'\x20('+this[_0x7702cc(0x7ed)]['wuid']+_0x7702cc(0x861)),null;if(_0x197f2e[_0x7702cc(0x7ad)][_0x7702cc(0x8dc)]('@g.us')&&this[_0x7702cc(0x6d2)]?.[_0x7702cc(0x8db)][_0x7702cc(0x665)]===!0x0)return this[_0x7702cc(0x458)][_0x7702cc(0x5e2)](this[_0x7702cc(0x5cf)]+'\x20('+this[_0x7702cc(0x7ed)][_0x7702cc(0x828)]+_0x7702cc(0x669)),null;if(_0x197f2e[_0x7702cc(0x3c2)]){if(_0x197f2e[_0x7702cc(0x3c2)][_0x7702cc(0x7a0)]===0x0||_0x197f2e['leadInfo'][_0x7702cc(0x91e)])return this[_0x7702cc(0x458)][_0x7702cc(0x5e2)](this[_0x7702cc(0x5cf)]+'\x20('+this['instance'][_0x7702cc(0x828)]+_0x7702cc(0x647)+_0x4d6357+_0x7702cc(0x776)),null;if(_0x197f2e[_0x7702cc(0x3c2)]['desativadoFluxoAte']>Date[_0x7702cc(0x5a4)]()&&!_0x5310f6['message_normalized']?.[_0x7702cc(0x823)])return this[_0x7702cc(0x458)]['verbose'](this[_0x7702cc(0x5cf)]+'\x20('+this[_0x7702cc(0x7ed)][_0x7702cc(0x828)]+_0x7702cc(0x206)+new Date(_0x197f2e[_0x7702cc(0x3c2)][_0x7702cc(0x7a0)])['toLocaleString']()+_0x7702cc(0x776)),null;}this[_0x7702cc(0x458)][_0x7702cc(0x5e2)](this[_0x7702cc(0x5cf)]+'\x20('+this[_0x7702cc(0x7ed)][_0x7702cc(0x828)]+_0x7702cc(0x8b5)),this[_0x7702cc(0x3f6)](_0x5310f6,_0xe56128);}catch(_0x2c3f04){let _0x506784=_0x7702cc(0x8cd),_0x2a278e=_0x2c3f04 instanceof Error?_0x2c3f04[_0x7702cc(0x7a3)]:typeof _0x2c3f04==_0x7702cc(0x894)?JSON[_0x7702cc(0x684)](_0x2c3f04):_0x2c3f04,_0x508720=_0x506784+':\x20'+_0x2a278e;return this[_0x7702cc(0x458)][_0x7702cc(0x70d)](this['instanceName']+'\x20('+this['instance'][_0x7702cc(0x828)]+'):\x20'+_0x508720),null;}}async['upsertChats'](_0x92a244,_0x1c1c25){const _0x3b705c=a0_0x3f93a9;if(_0x1c1c25['ENABLED']){let _0x33125b=_0x92a244['map'](async _0x13670c=>{const _0x5cce8b=a0_0x104e;try{let _0x8b819b={'_id':_0x13670c['_id'],'owner':_0x13670c[_0x5cce8b(0x4a1)],'lastcache':0x0};if(Object['keys'](_0x13670c)[_0x5cce8b(0x3c9)](_0x4853d5=>{_0x13670c[_0x4853d5]!==null&&(_0x8b819b[_0x4853d5]=_0x13670c[_0x4853d5]);}),_0x8b819b[_0x5cce8b(0x351)]===null&&(_0x8b819b[_0x5cce8b(0x351)]=_0x5cce8b(0x4a3)),Object[_0x5cce8b(0x1fa)](_0x8b819b)['length']>0x0)return await this[_0x5cce8b(0x4a0)][_0x5cce8b(0x3bd)][_0x5cce8b(0x349)]({'where':{'_id':_0x13670c[_0x5cce8b(0x7ad)]}},_0x8b819b,this[_0x5cce8b(0x7ed)][_0x5cce8b(0x828)]);}catch(_0x1e6934){let _0x59ab53=_0x5cce8b(0x6d9)+_0x13670c[_0x5cce8b(0x7ad)],_0x184872=_0x1e6934 instanceof Error?_0x1e6934[_0x5cce8b(0x7a3)]:typeof _0x1e6934==_0x5cce8b(0x894)?JSON[_0x5cce8b(0x684)](_0x1e6934):_0x1e6934,_0x156eb0=_0x59ab53+':\x20'+_0x184872;return this[_0x5cce8b(0x458)]['error'](this[_0x5cce8b(0x5cf)]+'\x20('+this[_0x5cce8b(0x7ed)]['wuid']+_0x5cce8b(0x432)+_0x156eb0),null;}}),_0x431309=(await Promise[_0x3b705c(0x49a)](_0x33125b))['filter'](_0x494444=>_0x494444!==null)[_0x3b705c(0x40e)];this[_0x3b705c(0x458)]['verbose'](this[_0x3b705c(0x5cf)]+'\x20('+this[_0x3b705c(0x7ed)][_0x3b705c(0x828)]+_0x3b705c(0x432)+_0x431309+_0x3b705c(0x708)+this[_0x3b705c(0x7ed)][_0x3b705c(0x828)]+_0x3b705c(0x8f1));}}async[a0_0x3f93a9(0x864)](_0xaa5fd1){const _0x97916a=a0_0x3f93a9;this[_0x97916a(0x458)]['verbose'](this[_0x97916a(0x5cf)]+'\x20('+this[_0x97916a(0x7ed)][_0x97916a(0x828)]+'):\x20Ler\x20mensagem');let _0xfb6dfd={'readMessages':[{'remoteJid':_0xaa5fd1[_0x97916a(0x673)][_0x97916a(0x53d)][_0x97916a(0x33a)][_0x97916a(0x6fa)],'fromMe':_0xaa5fd1[_0x97916a(0x673)][_0x97916a(0x53d)][_0x97916a(0x33a)][_0x97916a(0x2fa)],'id':_0xaa5fd1[_0x97916a(0x673)][_0x97916a(0x53d)][_0x97916a(0x33a)]['id']}]};await this['markMessageAsRead'](_0xfb6dfd);}async['StartBot'](_0x4ed78b,_0x427fd6){const _0x1ef715=a0_0x3f93a9;try{let {key:_0x12b87a,message_normalized:_0x1b6f0c}=_0x4ed78b,_0x5d459d=_0x1b6f0c,_0x4d11a4=_0x1b6f0c[_0x1ef715(0x5d0)]||_0x1b6f0c[_0x1ef715(0x65e)]||_0x1b6f0c['vote']||_0x1b6f0c[_0x1ef715(0x537)]||'',_0x45f520=_0x12b87a['remoteJid'],_0x41e34b=null,_0x23dade=this[_0x1ef715(0x6d2)][_0x1ef715(0x84f)]['find'](_0xe87d9=>_0xe87d9['startCommand']&&_0x4d11a4[_0x1ef715(0x8dc)](_0xe87d9[_0x1ef715(0x6ca)]));if(_0x23dade&&_0x427fd6===_0x1ef715(0x45f)){let _0x500fcd=await this[_0x1ef715(0x4a0)][_0x1ef715(0x3d3)]['findOne']({'where':{'_id':_0x23dade[_0x1ef715(0x7ad)]}});if(this[_0x1ef715(0x458)][_0x1ef715(0x5e2)](this[_0x1ef715(0x5cf)]+'\x20('+this[_0x1ef715(0x7ed)]['wuid']+_0x1ef715(0x6ea)),_0x500fcd&&_0x500fcd['whoCanUse']?.['includes'](this[_0x1ef715(0x7ed)][_0x1ef715(0x828)]))_0x41e34b=await this[_0x1ef715(0x224)](_0x500fcd,_0x12b87a,_0x5d459d);else return this[_0x1ef715(0x458)]['verbose'](this[_0x1ef715(0x5cf)]+'\x20('+this['instance'][_0x1ef715(0x828)]+_0x1ef715(0x356)),null;}else this['logger'][_0x1ef715(0x5e2)](this[_0x1ef715(0x5cf)]+'\x20('+this[_0x1ef715(0x7ed)]['wuid']+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand');if(_0x41e34b=await this[_0x1ef715(0x364)](_0x45f520,_0x5d459d),_0x41e34b){this[_0x1ef715(0x458)][_0x1ef715(0x5e2)](this['instanceName']+'\x20('+this[_0x1ef715(0x7ed)]['wuid']+_0x1ef715(0x4c7)),!_0x12b87a[_0x1ef715(0x2fa)]&&_0x41e34b[_0x1ef715(0x5d3)]&&this[_0x1ef715(0x864)](_0x41e34b);let _0x1c0d43=await this[_0x1ef715(0x8d6)](_0x41e34b);_0x1c0d43&&await this['processblock'](_0x41e34b,_0x1c0d43);}}catch(_0x1b77bc){this[_0x1ef715(0x458)][_0x1ef715(0x70d)](this['instanceName']+'\x20('+this[_0x1ef715(0x7ed)][_0x1ef715(0x828)]+_0x1ef715(0x454)+(_0x1b77bc instanceof Error?_0x1b77bc[_0x1ef715(0x7a3)]:JSON['stringify'](_0x1b77bc,null,0x2)));}}[a0_0x3f93a9(0x408)](_0x260ac1,_0x2dc4e1='',_0xbeb52d={}){const _0x1ee789=a0_0x3f93a9;return typeof _0x260ac1!=_0x1ee789(0x894)||_0x260ac1===null?(_0x2dc4e1&&(_0xbeb52d[_0x2dc4e1]=_0x260ac1),_0xbeb52d):(Object[_0x1ee789(0x3be)](_0x260ac1)[_0x1ee789(0x3c9)](([_0x21b806,_0x51f214])=>{const _0x456e87=_0x1ee789;let _0x17539c=_0x2dc4e1?_0x2dc4e1+'.'+_0x21b806:'_'+_0x21b806;Array[_0x456e87(0x84c)](_0x51f214)?_0x51f214[_0x456e87(0x3c9)]((_0x2d3d4b,_0x48154b)=>{const _0x5c337a=_0x456e87;this[_0x5c337a(0x408)](_0x2d3d4b,_0x17539c+'['+_0x48154b+']',_0xbeb52d);}):typeof _0x51f214=='object'&&_0x51f214!==null?this[_0x456e87(0x408)](_0x51f214,_0x17539c,_0xbeb52d):_0xbeb52d[_0x17539c]=String(_0x51f214);}),_0xbeb52d);}[a0_0x3f93a9(0x552)](_0x3e2d1c){const _0x452429=a0_0x3f93a9;let _0x2f350b={};for(let _0x5ddf60 of _0x3e2d1c)typeof _0x5ddf60['name']==_0x452429(0x6a7)&&typeof _0x5ddf60[_0x452429(0x2f0)]==_0x452429(0x6a7)&&(_0x2f350b[_0x5ddf60[_0x452429(0x537)]]=_0x5ddf60[_0x452429(0x2f0)]);return _0x2f350b;}async['NextBlock'](_0x5bba78){const _0x4500dd=a0_0x3f93a9;if(!this['AutomateSystem']?.[_0x4500dd(0x8db)]['enabled']||_0x5bba78[_0x4500dd(0x74f)]!==_0x4500dd(0x4f2)&&_0x5bba78[_0x4500dd(0x61b)]==='')return null;let _0x226a71=_0x5bba78[_0x4500dd(0x673)][_0x4500dd(0x225)]||_0x4500dd(0x1e6);typeof _0x5bba78[_0x4500dd(0x673)][_0x4500dd(0x6d4)]>'u'&&(_0x5bba78['chatLog'][_0x4500dd(0x6d4)]=!0x0);let _0x595cc6=_0x5bba78[_0x4500dd(0x673)][_0x4500dd(0x6d4)];this['logger']['verbose'](this[_0x4500dd(0x5cf)]+'\x20('+this[_0x4500dd(0x7ed)]['wuid']+_0x4500dd(0x513)+_0x226a71+_0x4500dd(0x91d)+_0x595cc6);let _0x17ed51=_0x226a71===_0x4500dd(0x1e6)?_0x5bba78[_0x4500dd(0x793)][_0x4500dd(0x419)](_0x58b1c2=>_0x58b1c2[_0x4500dd(0x66e)]===_0x4500dd(0x1e6)):_0x5bba78[_0x4500dd(0x793)][_0x4500dd(0x419)](_0x293e4d=>_0x293e4d['_id']['toString']()===_0x226a71[_0x4500dd(0x5e7)]());if(!_0x17ed51)return this[_0x4500dd(0x458)][_0x4500dd(0x70d)](this[_0x4500dd(0x5cf)]+'\x20('+this[_0x4500dd(0x7ed)][_0x4500dd(0x828)]+_0x4500dd(0x7b2)+_0x226a71),null;let _0x30bfb7={'_pushName':_0x5bba78?.[_0x4500dd(0x673)]?.['lastReceivedMessage']?.['pushName']||'','_sender':this[_0x4500dd(0x7ed)][_0x4500dd(0x828)]||'',..._0x5bba78['chatLog'][_0x4500dd(0x25c)]},_0x3ced41=new Date();_0x30bfb7[_0x4500dd(0x67c)]=_0x3ced41[_0x4500dd(0x90e)](),_0x30bfb7[_0x4500dd(0x558)]=_0x3ced41[_0x4500dd(0x918)]()+0x1,_0x30bfb7[_0x4500dd(0x55f)]=_0x3ced41['getFullYear'](),_0x30bfb7[_0x4500dd(0x81c)]=_0x3ced41[_0x4500dd(0x81b)](),_0x30bfb7['_minute']=_0x3ced41[_0x4500dd(0x2a0)](),_0x30bfb7['_second']=_0x3ced41['getSeconds']();let _0x479ab9=null;if(_0x5bba78[_0x4500dd(0x61b)]){let _0x3c6f33=_0x5bba78['chatLog']['lastReceivedMessage'][_0x4500dd(0x823)],_0x2e818e=_0x5bba78['waitingMenu_replyOptions'][_0x4500dd(0x419)](_0x2e51e5=>_0x2e51e5[_0x4500dd(0x5d4)]===_0x3c6f33);if(_0x2e818e){let _0x1a90bd=_0x2e818e[_0x4500dd(0x733)];if(_0x479ab9=_0x5bba78[_0x4500dd(0x793)][_0x4500dd(0x419)](_0xfd6b10=>_0xfd6b10[_0x4500dd(0x621)]===_0x1a90bd&&_0xfd6b10[_0x4500dd(0x578)]===0x1),_0x17ed51['uazapi']['pollOnReplyDelete']){let _0x23536d={'id':_0x5bba78[_0x4500dd(0x61b)],'remoteJid':_0x5bba78[_0x4500dd(0x6fa)],'fromMe':!0x0};await this['deleteMessage'](_0x23536d);}if(_0x17ed51['uazapi'][_0x4500dd(0x714)]&&_0x17ed51[_0x4500dd(0x316)]['pollMessageOnDelete']&&_0x17ed51[_0x4500dd(0x316)][_0x4500dd(0x4ff)]===_0x4500dd(0x711)){let _0x9b8743={'number':_0x5bba78[_0x4500dd(0x6fa)],'options':{'delay':0x0},'textMessage':{'text':_0x4500dd(0x7fd)+_0x5bba78[_0x4500dd(0x731)]+_0x4500dd(0x90b)+_0x3c6f33}};await this[_0x4500dd(0x862)](_0x9b8743);}_0x30bfb7[_0x4500dd(0x87e)]=_0x3c6f33,_0x5bba78[_0x4500dd(0x74f)]=_0x4500dd(0x4f2),_0x5bba78[_0x4500dd(0x61b)]='',_0x5bba78[_0x4500dd(0x731)]='',_0x5bba78['waitingMenu_replyOptions']=[];}else{this[_0x4500dd(0x458)][_0x4500dd(0x5e2)](this['instanceName']+'\x20('+this[_0x4500dd(0x7ed)][_0x4500dd(0x828)]+_0x4500dd(0x582));let _0x29f00e={'activatedCount':_0x5bba78[_0x4500dd(0x673)][_0x4500dd(0x2d3)][_0x4500dd(0x697)](_0x3c9674=>String(_0x3c9674[_0x4500dd(0x71b)])===String(_0x226a71))[_0x4500dd(0x40e)],'moreLogs':[_0x4500dd(0x334)]};if(_0x17ed51[_0x4500dd(0x316)]['pollErrorMessage']){let _0x381336={'number':_0x5bba78['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x17ed51[_0x4500dd(0x316)][_0x4500dd(0x5d6)]}};await this[_0x4500dd(0x862)](_0x381336);}if(_0x17ed51[_0x4500dd(0x6d5)]!==void 0x0&&_0x29f00e['activatedCount']>=_0x17ed51[_0x4500dd(0x6d5)]){let _0x25b132=Date['now'](),_0x51b985=_0x17ed51[_0x4500dd(0x2bb)]??0xa;isNaN(_0x51b985)&&(_0x51b985=0xa);let _0x4c3d33=_0x25b132+_0x51b985*0x3c*0x3e8;_0x29f00e[_0x4500dd(0x541)]=_0x4c3d33,_0x29f00e['moreLogs'][_0x4500dd(0x6f2)](_0x4500dd(0x3d8)),this[_0x4500dd(0x3cd)](_0x5bba78,_0x4c3d33),_0x5bba78['waitingMenu_id']='',_0x5bba78['waitingMenu_text']='',_0x5bba78[_0x4500dd(0x40f)]=[];}return this[_0x4500dd(0x92a)](_0x5bba78,_0x17ed51,_0x29f00e,!0x0),null;}}if(_0x595cc6&&_0x17ed51[_0x4500dd(0x733)]&&!_0x5bba78[_0x4500dd(0x61b)]){let _0x1a1a5a=_0x5bba78[_0x4500dd(0x793)][_0x4500dd(0x697)](_0x2552b1=>_0x2552b1[_0x4500dd(0x621)]['toString']()===_0x17ed51[_0x4500dd(0x733)][_0x4500dd(0x5e7)]())['sort']((_0x547986,_0x206b2e)=>_0x547986[_0x4500dd(0x578)]-_0x206b2e['order']);_0x1a1a5a[_0x4500dd(0x40e)]>0x0&&(_0x479ab9=_0x1a1a5a[0x0]);}if(!_0x479ab9){let _0x111088=_0x17ed51[_0x4500dd(0x621)],_0x6a3f84=_0x5bba78[_0x4500dd(0x793)][_0x4500dd(0x697)](_0x38ce66=>_0x38ce66[_0x4500dd(0x621)]===_0x111088&&_0x38ce66[_0x4500dd(0x578)]>_0x17ed51['order'])[_0x4500dd(0x469)]((_0x2490c1,_0x35e89b)=>_0x2490c1[_0x4500dd(0x578)]-_0x35e89b[_0x4500dd(0x578)]);_0x6a3f84[_0x4500dd(0x40e)]>0x0&&(_0x479ab9=_0x6a3f84[0x0]);}if(!_0x479ab9)return _0x5bba78[_0x4500dd(0x74f)]=_0x4500dd(0x456),null;_0x5bba78[_0x4500dd(0x673)][_0x4500dd(0x25c)]=_0x30bfb7;let _0x34ac5f=JSON[_0x4500dd(0x4a9)](JSON[_0x4500dd(0x684)](_0x479ab9));return this[_0x4500dd(0x31c)](_0x34ac5f,_0x5bba78['chatLog'][_0x4500dd(0x25c)]),_0x5bba78[_0x4500dd(0x673)][_0x4500dd(0x225)]=_0x34ac5f['_id'],_0x5bba78[_0x4500dd(0x673)][_0x4500dd(0x6d4)]=!0x0,_0x34ac5f;}[a0_0x3f93a9(0x2f5)](_0x5638e4,_0x52d116){const _0x3f0311=a0_0x3f93a9;return _0x5638e4[_0x3f0311(0x2a1)](/\{\{([^}]+)\}\}/g,(_0x3318b3,_0x5697bd)=>_0x52d116[_0x5697bd]||'');}['replaceVariablesInObject'](_0x129872,_0x106401){const _0x3853e5=a0_0x3f93a9;for(let _0x4d339c in _0x129872)typeof _0x129872[_0x4d339c]=='string'?_0x129872[_0x4d339c]=this['replaceVariables'](_0x129872[_0x4d339c],_0x106401):typeof _0x129872[_0x4d339c]==_0x3853e5(0x894)&&this[_0x3853e5(0x31c)](_0x129872[_0x4d339c],_0x106401);}async[a0_0x3f93a9(0x2ba)](_0x45554e,_0x3ee4e9){const _0x426b4=a0_0x3f93a9;let _0x343119=_0x3ee4e9[_0x426b4(0x7ad)];if(_0x45554e['chatLog']&&_0x45554e[_0x426b4(0x673)][_0x426b4(0x2d3)]){let _0x47781c=_0x45554e[_0x426b4(0x673)][_0x426b4(0x2d3)][_0x426b4(0x697)](_0x3617bd=>String(_0x3617bd[_0x426b4(0x71b)])===String(_0x343119))['pop']();if(_0x47781c&&_0x47781c[_0x426b4(0x70d)]&&_0x3ee4e9[_0x426b4(0x4f5)])return _0x45554e[_0x426b4(0x74f)]=_0x426b4(0x456),await this['saveConversationToDatabase'](_0x45554e),null;}if(_0x3ee4e9['type']===_0x426b4(0x316)&&_0x3ee4e9['uazapi']['command']===_0x426b4(0x3a8)&&_0x45554e[_0x426b4(0x61b)])return _0x45554e[_0x426b4(0x673)][_0x426b4(0x225)]=_0x343119,await this[_0x426b4(0x5a0)](_0x45554e),null;let _0xba4f5e=await this[_0x426b4(0x8d6)](_0x45554e);if(_0x45554e[_0x426b4(0x673)]&&_0x45554e[_0x426b4(0x673)][_0x426b4(0x2d3)]){let _0x522169=_0x45554e[_0x426b4(0x673)][_0x426b4(0x2d3)][_0x426b4(0x697)](_0x96693d=>String(_0x96693d[_0x426b4(0x71b)])===String(_0x343119))[_0x426b4(0x40e)];if(_0x3ee4e9[_0x426b4(0x6d5)]!==void 0x0&&_0x522169>=_0x3ee4e9['maxActives']){let _0x532503=Date[_0x426b4(0x5a4)](),_0x457d42=_0x3ee4e9['stopMinutesMaxActives']??0xa;isNaN(_0x457d42)&&(_0x457d42=0xa);let _0x1705ce=_0x532503+_0x457d42*0x3c*0x3e8,_0x1cd742={'newStoppedUntil':_0x1705ce};return this[_0x426b4(0x3cd)](_0x45554e,_0x1705ce),this['updateConversation'](_0x45554e,_0x3ee4e9,_0x1cd742,!0x0),null;}}_0xba4f5e&&_0xba4f5e[_0x426b4(0x66e)]!=='save'&&await this[_0x426b4(0x6a0)](_0x45554e,_0xba4f5e),_0xba4f5e||await this['saveConversationToDatabase'](_0x45554e),_0xba4f5e&&_0xba4f5e[_0x426b4(0x66e)]===_0x426b4(0x507)&&(_0x45554e[_0x426b4(0x673)][_0x426b4(0x225)]=_0x343119,await this[_0x426b4(0x5a0)](_0x45554e));}async[a0_0x3f93a9(0x6a0)](_0x1ff036,_0x371e9a){const _0x1ad8d3=a0_0x3f93a9;try{let _0x7e6a56=_0x371e9a[_0x1ad8d3(0x66e)];this[_0x1ad8d3(0x458)][_0x1ad8d3(0x5e2)](this[_0x1ad8d3(0x5cf)]+'\x20('+this['instance']['wuid']+'):\x20Going\x20to\x20'+_0x7e6a56);let _0x398eb3={'uazapi':()=>this['processUazapi'](_0x1ff036,_0x371e9a),'save':()=>this[_0x1ad8d3(0x87f)](_0x1ff036,_0x371e9a),'stop':()=>this[_0x1ad8d3(0x518)](_0x1ff036,_0x371e9a),'condition':()=>this[_0x1ad8d3(0x400)](_0x1ff036,_0x371e9a),'varedit':()=>this[_0x1ad8d3(0x8d5)](_0x1ff036,_0x371e9a),'apirequest':()=>this[_0x1ad8d3(0x652)](_0x1ff036,_0x371e9a),'goToFlow':()=>this['processgoToFlow'](_0x1ff036,_0x371e9a),'scheduleFlow':()=>this[_0x1ad8d3(0x7d1)](_0x1ff036,_0x371e9a),'awaitSeconds':()=>this[_0x1ad8d3(0x924)](_0x1ff036,_0x371e9a),'clearVariables':()=>this[_0x1ad8d3(0x65a)](_0x1ff036,_0x371e9a)}[_0x7e6a56];_0x398eb3&&await _0x398eb3();}catch(_0xdb8b84){this['logger'][_0x1ad8d3(0x70d)](this[_0x1ad8d3(0x5cf)]+'\x20('+this[_0x1ad8d3(0x7ed)][_0x1ad8d3(0x828)]+_0x1ad8d3(0x536)+(_0xdb8b84 instanceof Error?_0xdb8b84[_0x1ad8d3(0x7a3)]:JSON[_0x1ad8d3(0x684)](_0xdb8b84,null,0x2)));}}async['processawaitSeconds'](_0x3c4ac5,_0x495405){const _0x541790=a0_0x3f93a9;if(this[_0x541790(0x458)]['verbose'](this[_0x541790(0x5cf)]+'\x20('+this[_0x541790(0x7ed)][_0x541790(0x828)]+'):\x20Entrou\x20na\x20função\x20processawaitSeconds'),!_0x3c4ac5||!_0x495405)return this[_0x541790(0x458)]['error'](this['instanceName']+'\x20('+this[_0x541790(0x7ed)]['wuid']+_0x541790(0x557)),null;let _0xad2853=+_0x495405[_0x541790(0x82a)];isNaN(_0xad2853)&&(_0xad2853=0x0),_0xad2853=Math[_0x541790(0x52b)](_0xad2853,0x3c),await(0x0,w[_0x541790(0x818)])(_0xad2853*0x3e8);let _0x14d816={'moreLogs':[_0x541790(0x365)+_0xad2853+_0x541790(0x904)]};return await this[_0x541790(0x92a)](_0x3c4ac5,_0x495405,_0x14d816),_0xad2853;}async[a0_0x3f93a9(0x65a)](_0x112cef,_0x2e63b4){const _0x501197=a0_0x3f93a9;if(this[_0x501197(0x458)][_0x501197(0x5e2)](this[_0x501197(0x5cf)]+'\x20('+this[_0x501197(0x7ed)][_0x501197(0x828)]+_0x501197(0x57d)),!_0x112cef||!_0x2e63b4)return this['logger'][_0x501197(0x70d)](this[_0x501197(0x5cf)]+'\x20('+this[_0x501197(0x7ed)][_0x501197(0x828)]+_0x501197(0x557)),null;let _0x26dc2c=[];if(_0x2e63b4['clearVariables']['trim']()===_0x501197(0x5ff)){let _0x317f94=[_0x501197(0x556),_0x501197(0x8af),_0x501197(0x62d),'_activedCount',_0x501197(0x88c),_0x501197(0x7ad),_0x501197(0x79c)];_0x26dc2c=Object[_0x501197(0x1fa)](_0x112cef['chatLog'][_0x501197(0x25c)])[_0x501197(0x697)](_0x380a40=>_0x380a40[_0x501197(0x7aa)]('_')&&!_0x317f94[_0x501197(0x8dc)](_0x380a40));}else _0x26dc2c=_0x2e63b4[_0x501197(0x347)]['split']('|')[_0x501197(0x3d6)](_0x858ad3=>(_0x858ad3=_0x858ad3[_0x501197(0x2a1)](/[{}]/g,'')[_0x501197(0x382)](),_0x858ad3[_0x501197(0x7aa)]('_')?_0x858ad3:'_'+_0x858ad3));let _0x3af90a=[];_0x26dc2c[_0x501197(0x3c9)](_0x24a024=>{const _0x33c1f7=_0x501197;_0x24a024 in _0x112cef['chatLog'][_0x33c1f7(0x25c)]&&(delete _0x112cef[_0x33c1f7(0x673)]['realVariables'][_0x24a024],_0x3af90a[_0x33c1f7(0x6f2)](_0x24a024));}),_0x3af90a[_0x501197(0x40e)]>0x0?this[_0x501197(0x458)][_0x501197(0x5e2)](this[_0x501197(0x5cf)]+'\x20('+this[_0x501197(0x7ed)][_0x501197(0x828)]+'):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20'+_0x3af90a['join'](',\x20')):this[_0x501197(0x458)][_0x501197(0x5e2)](this[_0x501197(0x5cf)]+'\x20('+this['instance'][_0x501197(0x828)]+_0x501197(0x4df));let _0x21aa11={'moreLogs':[_0x501197(0x60a)+_0x3af90a[_0x501197(0x6ef)](',\x20')]};return await this[_0x501197(0x92a)](_0x112cef,_0x2e63b4,_0x21aa11),null;}async[a0_0x3f93a9(0x7d1)](_0x4996d8,_0x29ec14){const _0x5d22a7=a0_0x3f93a9;if(this[_0x5d22a7(0x458)]['verbose'](this[_0x5d22a7(0x5cf)]+'\x20('+this[_0x5d22a7(0x7ed)]['wuid']+_0x5d22a7(0x917)),!_0x4996d8||!_0x29ec14)return this[_0x5d22a7(0x458)][_0x5d22a7(0x70d)](this[_0x5d22a7(0x5cf)]+'\x20('+this[_0x5d22a7(0x7ed)]['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0xed99df=_0x4996d8[_0x5d22a7(0x6fa)];_0x29ec14[_0x5d22a7(0x6bf)][_0x5d22a7(0x6fa)]&&_0x29ec14[_0x5d22a7(0x6bf)]['remoteJid'][_0x5d22a7(0x382)]()!==''&&(_0xed99df=_0x29ec14[_0x5d22a7(0x316)][_0x5d22a7(0x6fa)]['trim']());let _0xf5ba74=_0x29ec14[_0x5d22a7(0x6bf)][_0x5d22a7(0x1de)]*0xea60,_0xfe872a=Date[_0x5d22a7(0x5a4)]()+_0xf5ba74,_0x57ce27={'status':'scheduled','info':_0x5d22a7(0x6d6)+_0x4996d8[_0x5d22a7(0x537)],'remoteJids':[_0xed99df],'when':_0xfe872a,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x5d22a7(0x3d3),'flowName':_0x29ec14[_0x5d22a7(0x6bf)][_0x5d22a7(0x764)]};this[_0x5d22a7(0x27c)](_0x57ce27);let _0x3fd6b=await this['NextBlock'](_0x4996d8);_0x3fd6b&&await this['processblock'](_0x4996d8,_0x3fd6b);}async['processgoToFlow'](_0x2b88fd,_0x2e8459){const _0x2e7f05=a0_0x3f93a9;if(this[_0x2e7f05(0x458)][_0x2e7f05(0x5e2)](this[_0x2e7f05(0x5cf)]+'\x20('+this[_0x2e7f05(0x7ed)][_0x2e7f05(0x828)]+_0x2e7f05(0x4d4)),!_0x2b88fd||!_0x2e8459)return this[_0x2e7f05(0x458)][_0x2e7f05(0x70d)](this[_0x2e7f05(0x5cf)]+'\x20('+this[_0x2e7f05(0x7ed)][_0x2e7f05(0x828)]+_0x2e7f05(0x557)),null;await this['updateConversation'](_0x2b88fd,_0x2e8459,{},!0x0,!0x0);let _0x507c41=_0x2e8459[_0x2e7f05(0x31b)];_0x2b88fd=await this[_0x2e7f05(0x893)](_0x507c41,_0x2b88fd[_0x2e7f05(0x6fa)],_0x2b88fd['chatLog'][_0x2e7f05(0x25c)]);let _0x362171=await this[_0x2e7f05(0x8d6)](_0x2b88fd);_0x362171&&await this['processblock'](_0x2b88fd,_0x362171);}async['createConversationforgoToFlow'](_0xea42ea,_0x55d6b3,_0x317869){const _0x396aa9=a0_0x3f93a9;this[_0x396aa9(0x458)][_0x396aa9(0x5e2)](this[_0x396aa9(0x5cf)]+'\x20('+this[_0x396aa9(0x7ed)][_0x396aa9(0x828)]+_0x396aa9(0x2ea));try{let _0x453dcd=this[_0x396aa9(0x6d2)][_0x396aa9(0x84f)][_0x396aa9(0x419)](_0x2ef11c=>_0x2ef11c[_0x396aa9(0x7ad)]===_0xea42ea);_0x453dcd||this[_0x396aa9(0x458)][_0x396aa9(0x70d)](this[_0x396aa9(0x5cf)]+'\x20('+this['instance'][_0x396aa9(0x828)]+_0x396aa9(0x767)+_0xea42ea+_0x396aa9(0x291));let _0x4754a2=await this[_0x396aa9(0x4a0)][_0x396aa9(0x3d3)][_0x396aa9(0x39a)]({'where':{'_id':_0x453dcd['_id']}});if(!_0x4754a2||!_0x4754a2[_0x396aa9(0x401)]?.['includes'](this[_0x396aa9(0x7ed)][_0x396aa9(0x828)]))throw this['logger'][_0x396aa9(0x70d)](this[_0x396aa9(0x5cf)]+'\x20('+this['instance'][_0x396aa9(0x828)]+_0x396aa9(0x767)+_0xea42ea+_0x396aa9(0x848)),new m(_0x396aa9(0x727)+_0xea42ea+_0x396aa9(0x848));let _0x3e0678=require(_0x396aa9(0x7a9))[_0x396aa9(0x64e)],_0x901ab0=Date[_0x396aa9(0x5a4)](),_0x191d9f=_0x396aa9(0x1e6),_0x7b8d2d={},_0x1f3b97={},_0x257395=this[_0x396aa9(0x6d2)][_0x396aa9(0x84f)][_0x396aa9(0x419)](_0x45e2a2=>_0x45e2a2['_id']===_0x4754a2[_0x396aa9(0x7ad)]?.[_0x396aa9(0x5e7)]()),_0x24c0f5=_0x257395?.[_0x396aa9(0x357)]??_0x4754a2[_0x396aa9(0x357)]??0x0,_0x148bb1=_0x257395?.[_0x396aa9(0x5d3)]??_0x4754a2[_0x396aa9(0x5d3)]??!0x1,_0x90eb0b={'flowId':_0x453dcd[_0x396aa9(0x7ad)],'readMessages':_0x453dcd[_0x396aa9(0x5d3)],..._0x4754a2,'chatLog':null},_0xed9f3c={'lastReceivedMessage':_0x7b8d2d,'lastSendMessage':_0x1f3b97,'lastBlockId':_0x191d9f,'lastCondition':!0x0,'realVariables':_0x317869};_0x90eb0b[_0x396aa9(0x673)]=_0xed9f3c,_0x90eb0b['chatLog']['realVariables']={..._0x317869},delete _0x90eb0b[_0x396aa9(0x7ad)],_0x90eb0b['_id']=new _0x3e0678(),_0x90eb0b[_0x396aa9(0x1d3)]=_0x901ab0,_0x90eb0b[_0x396aa9(0x74f)]=_0x396aa9(0x4f2),_0x90eb0b[_0x396aa9(0x6fa)]=_0x55d6b3,_0x90eb0b['minutesToClose']=_0x24c0f5,_0x90eb0b[_0x396aa9(0x5d3)]=_0x148bb1;let _0x347028=await this[_0x396aa9(0x4a0)][_0x396aa9(0x6e0)][_0x396aa9(0x349)](_0x90eb0b[_0x396aa9(0x7ad)],_0x90eb0b,this[_0x396aa9(0x7ed)][_0x396aa9(0x828)]);return this[_0x396aa9(0x458)][_0x396aa9(0x5e2)](this['instanceName']+'\x20('+this[_0x396aa9(0x7ed)][_0x396aa9(0x828)]+_0x396aa9(0x796)),_0x347028?_0x90eb0b:null;}catch(_0x36ef43){let _0x400156=_0x396aa9(0x549),_0x1f63bd=_0x36ef43 instanceof Error?_0x36ef43['message']:typeof _0x36ef43==_0x396aa9(0x894)?JSON[_0x396aa9(0x684)](_0x36ef43):_0x36ef43,_0x5a715c=_0x400156+':\x20'+_0x1f63bd;throw this['logger']['error'](this[_0x396aa9(0x5cf)]+'\x20('+this[_0x396aa9(0x7ed)][_0x396aa9(0x828)]+'):\x20'+_0x5a715c),new m(_0x5a715c);}}async[a0_0x3f93a9(0x652)](_0x24b1a2,_0x23177c){const _0x5bd1c7=a0_0x3f93a9;let _0x125cef,_0x14c15d;try{let _0x41227b=_0x23177c[_0x5bd1c7(0x5f6)];if(!_0x41227b||!_0x41227b[_0x5bd1c7(0x3f9)]||!_0x41227b[_0x5bd1c7(0x8a8)])throw new Error(_0x5bd1c7(0x6d7));let _0x33532b;([_0x5bd1c7(0x362),'https://api.openai.com/v1/images/generations',_0x5bd1c7(0x670)][_0x5bd1c7(0x3cc)](_0x23adf3=>_0x41227b['url'][_0x5bd1c7(0x8dc)](_0x23adf3))||_0x41227b['requestFile'])&&(_0x33532b=_0x5bd1c7(0x495));let _0x4bdd82='\u205f',_0x34fef3;try{_0x34fef3=JSON['parse'](_0x41227b[_0x5bd1c7(0x5d7)][_0x5bd1c7(0x2a1)](new RegExp(_0x4bdd82,'g'),''));}catch(_0x29c6bb){throw _0x29c6bb;}let _0x1b0992={'method':_0x41227b[_0x5bd1c7(0x8a8)],'url':_0x41227b[_0x5bd1c7(0x3f9)],'headers':_0x41227b[_0x5bd1c7(0x854)]||{},..._0x41227b['method'][_0x5bd1c7(0x3e8)]()!==_0x5bd1c7(0x88f)&&_0x41227b[_0x5bd1c7(0x5d7)]?{'data':JSON[_0x5bd1c7(0x4a9)](_0x41227b['bodyString']['replace'](new RegExp(_0x4bdd82,'g'),''))}:{},..._0x33532b&&{'responseType':_0x33532b}},_0x4ea098=await(0x0,Q[_0x5bd1c7(0x73f)])(_0x1b0992),_0xfdc319=_0x4ea098[_0x5bd1c7(0x472)][_0x5bd1c7(0x4fc)];if(_0xfdc319&&_0xfdc319[_0x5bd1c7(0x8dc)](_0x5bd1c7(0x395))||typeof _0x4ea098[_0x5bd1c7(0x765)]=='string'){if(typeof _0x4ea098[_0x5bd1c7(0x765)]==_0x5bd1c7(0x6a7)){let _0x242f25=_0x4ea098[_0x5bd1c7(0x765)][_0x5bd1c7(0x2a1)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x5bd1c7(0x382)]();try{_0x125cef=JSON[_0x5bd1c7(0x4a9)](_0x242f25);}catch(_0x444de0){this[_0x5bd1c7(0x458)][_0x5bd1c7(0x70d)]('Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20'+_0x444de0[_0x5bd1c7(0x7a3)]),_0x125cef={'_apiResponse':_0x4ea098[_0x5bd1c7(0x765)]};}}else _0x125cef=_0x4ea098['data'];let _0x384f94=_0x24b1a2[_0x5bd1c7(0x673)][_0x5bd1c7(0x25c)],_0x22a05f=this[_0x5bd1c7(0x408)](_0x125cef);return Object[_0x5bd1c7(0x6a6)](_0x384f94,_0x22a05f),_0x24b1a2['chatLog']['realVariables']=_0x384f94,_0x14c15d={'error':!0x1,'apiResponse':_0x125cef},this[_0x5bd1c7(0x92a)](_0x24b1a2,_0x23177c,_0x14c15d),_0x125cef;}if(_0xfdc319&&(_0xfdc319['includes'](_0x5bd1c7(0x947))||_0xfdc319[_0x5bd1c7(0x8dc)]('image')||_0xfdc319[_0x5bd1c7(0x8dc)](_0x5bd1c7(0x531))||_0xfdc319['includes'](_0x5bd1c7(0x48a)))){this[_0x5bd1c7(0x458)][_0x5bd1c7(0x5e2)](this[_0x5bd1c7(0x5cf)]+'\x20('+this['instance'][_0x5bd1c7(0x828)]+'):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20'+_0xfdc319);let _0x93a59e=(0x0,Y['v4'])(),_0x1454c7='',_0x2f4b39={'image/jpeg':'.jpg','image/png':_0x5bd1c7(0x937),'image/gif':_0x5bd1c7(0x413),'image/webp':_0x5bd1c7(0x39b),'image/svg+xml':'.svg','audio/mpeg':_0x5bd1c7(0x480),'audio/ogg':_0x5bd1c7(0x5fe),'audio/wav':_0x5bd1c7(0x832),'video/mp4':_0x5bd1c7(0x6c1),'video/webm':_0x5bd1c7(0x232),'video/ogg':_0x5bd1c7(0x207),'text/plain':_0x5bd1c7(0x8bf),'application/pdf':_0x5bd1c7(0x6ed),'application/msword':_0x5bd1c7(0x478),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x5bd1c7(0x69c),'application/vnd.ms-excel':_0x5bd1c7(0x335),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x5bd1c7(0x247),'application/vnd.ms-powerpoint':'.ppt','application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x5bd1c7(0x690)};_0x2f4b39[_0xfdc319]?(_0x1454c7=_0x2f4b39[_0xfdc319],this[_0x5bd1c7(0x458)][_0x5bd1c7(0x5e2)](this['instanceName']+'\x20('+this[_0x5bd1c7(0x7ed)][_0x5bd1c7(0x828)]+_0x5bd1c7(0x619)+_0x1454c7)):(_0x1454c7='.error',this[_0x5bd1c7(0x458)][_0x5bd1c7(0x5e2)](this[_0x5bd1c7(0x5cf)]+'\x20('+this['instance'][_0x5bd1c7(0x828)]+'):\x20Usando\x20extensão\x20padrão:\x20'+_0x1454c7)),_0x93a59e+=_0x1454c7,this[_0x5bd1c7(0x458)][_0x5bd1c7(0x5e2)](this['instanceName']+'\x20('+this['instance'][_0x5bd1c7(0x828)]+_0x5bd1c7(0x2a2)+_0x93a59e);let _0x48a965=this['configService'][_0x5bd1c7(0x2da)](_0x5bd1c7(0x768))[_0x5bd1c7(0x36e)];if(!_0x48a965){let _0x360919=this[_0x5bd1c7(0x4f6)][_0x5bd1c7(0x2da)](_0x5bd1c7(0x39e));_0x48a965='https://'+(_0x360919&&_0x360919[_0x5bd1c7(0x7e8)]['split']('/')[0x4]);}let _0x3c7046=Buffer[_0x5bd1c7(0x7eb)](_0x4ea098[_0x5bd1c7(0x765)]);await this[_0x5bd1c7(0x922)](_0x3c7046,_0x93a59e);let _0x57a67a=_0x5bd1c7(0x427)+_0x93a59e;_0x57a67a=''+_0x48a965+_0x57a67a,_0x125cef={'fileUrl':_0x57a67a},_0x24b1a2[_0x5bd1c7(0x673)][_0x5bd1c7(0x25c)][_0x5bd1c7(0x359)]=_0x57a67a;let _0xfe8bd2=_0x24b1a2[_0x5bd1c7(0x673)][_0x5bd1c7(0x25c)],_0x46c3e7=this[_0x5bd1c7(0x408)](_0x125cef);return Object[_0x5bd1c7(0x6a6)](_0xfe8bd2,_0x46c3e7),_0x24b1a2[_0x5bd1c7(0x673)][_0x5bd1c7(0x25c)]=_0xfe8bd2,_0x14c15d={'error':!0x1,'apiResponse':{'fileUrl':_0x57a67a}},this[_0x5bd1c7(0x92a)](_0x24b1a2,_0x23177c,_0x14c15d),_0x125cef;}}catch(_0x16e184){this[_0x5bd1c7(0x458)]['error'](_0x5bd1c7(0x477)+_0x16e184[_0x5bd1c7(0x7a3)]),_0x16e184[_0x5bd1c7(0x475)]&&(_0x125cef=_0x16e184[_0x5bd1c7(0x475)]['data']);let _0xf41d93=_0x24b1a2['chatLog'][_0x5bd1c7(0x25c)],_0x3825e2=this['flattenObject'](_0x125cef);return Object[_0x5bd1c7(0x6a6)](_0xf41d93,_0x3825e2),_0x24b1a2['chatLog'][_0x5bd1c7(0x25c)]=_0xf41d93,_0x14c15d={'error':!0x0,'errorLog':_0x16e184['toString'](),'apiResponse':_0x125cef},this[_0x5bd1c7(0x92a)](_0x24b1a2,_0x23177c,_0x14c15d),{'success':!0x1};}}['applyvaredit'](_0x3d7d4e,_0x287c33){const _0x1b1604=a0_0x3f93a9;let _0x29a56f=_0x198a6b=>{const _0x11ebc6=a0_0x104e;let _0x7d1883=_0x198a6b[_0x11ebc6(0x2a1)](/[^0-9.,-]/g,'')[_0x11ebc6(0x2a1)](',','.'),_0x2f2996=parseFloat(_0x7d1883);return isNaN(_0x2f2996)?null:_0x2f2996;},_0x275c3a=_0x287c33[_0x1b1604(0x8ca)],_0x4c8694=_0x287c33['secondValue'];typeof _0x275c3a==_0x1b1604(0x6a7)&&(_0x275c3a=this[_0x1b1604(0x2f5)](_0x275c3a,_0x3d7d4e[_0x1b1604(0x673)][_0x1b1604(0x25c)])??''),typeof _0x4c8694=='string'&&(_0x4c8694=this[_0x1b1604(0x2f5)](_0x4c8694,_0x3d7d4e[_0x1b1604(0x673)][_0x1b1604(0x25c)])??'');let _0x54c7af=null;if(!_0x287c33[_0x1b1604(0x91b)])return null;switch(this['logger'][_0x1b1604(0x5e2)](this[_0x1b1604(0x5cf)]+'\x20('+this[_0x1b1604(0x7ed)][_0x1b1604(0x828)]+_0x1b1604(0x6c2)+_0x275c3a),this['logger']['verbose'](this[_0x1b1604(0x5cf)]+'\x20('+this[_0x1b1604(0x7ed)]['wuid']+_0x1b1604(0x716)+_0x4c8694),_0x287c33[_0x1b1604(0x91b)]){case'+':case'-':case'*':case'/':let _0x11a702=_0x29a56f(_0x275c3a||'0'),_0x8239=_0x29a56f(_0x4c8694||'0');if(_0x11a702===null)return null;switch(_0x287c33['editOperator']){case'+':_0x54c7af=_0x11a702+(_0x8239??0x0);break;case'-':_0x54c7af=_0x11a702-(_0x8239??0x0);break;case'*':_0x54c7af=_0x11a702*(_0x8239??0x1);break;case'/':_0x8239!==0x0&&(_0x54c7af=_0x11a702/(_0x8239??0x1));break;}break;case _0x1b1604(0x328):case _0x1b1604(0x4b7):let _0x3c6338=_0x4c8694,_0x194214=_0x287c33['replaceValue'];if(typeof _0x194214==_0x1b1604(0x6a7)&&(_0x194214=this['replaceVariables'](_0x194214,_0x3d7d4e[_0x1b1604(0x673)][_0x1b1604(0x25c)])??''),_0x3c6338&&_0x194214!==void 0x0){let _0x240640=_0x287c33[_0x1b1604(0x91b)]===_0x1b1604(0x328)?new RegExp(_0x3c6338[_0x1b1604(0x2a1)](/[-\/\\^$*+?.()|[\]{}]/g,_0x1b1604(0x49d)),'g'):new RegExp(_0x3c6338,'g');_0x54c7af=_0x275c3a[_0x1b1604(0x2a1)](_0x240640,_0x194214);}else console[_0x1b1604(0x939)](_0x1b1604(0x3fb));break;case _0x1b1604(0x579):_0x54c7af=_0x4c8694;break;case _0x1b1604(0x216):let _0x535fab=_0x275c3a['match'](new RegExp(_0x4c8694||''));_0x54c7af=_0x535fab?_0x535fab[0x0]:'';break;case _0x1b1604(0x643):_0x54c7af=_0x275c3a[_0x1b1604(0x37c)](0x0,parseInt(_0x4c8694||'0'));break;case _0x1b1604(0x498):let _0x44c326=parseInt(_0x4c8694||'0');_0x54c7af=_0x275c3a[_0x1b1604(0x37c)](_0x275c3a[_0x1b1604(0x40e)]-_0x44c326);break;case'toBrazilianNumberFormat':let _0x351ee8=_0x29a56f(_0x275c3a),_0xed5ef3=parseInt(_0x4c8694||'0');_0xed5ef3=Math[_0x1b1604(0x80d)](_0xed5ef3),_0x351ee8!==null?_0x54c7af=_0x351ee8[_0x1b1604(0x4d3)]('pt-BR',{'minimumFractionDigits':_0xed5ef3,'maximumFractionDigits':_0xed5ef3}):(console['warn'](_0x1b1604(0x6e1)+_0x275c3a),_0x54c7af=null);break;case _0x1b1604(0x705):let _0x5202b8=_0x29a56f(_0x275c3a);_0x5202b8!==null?_0x54c7af=_0x5202b8[_0x1b1604(0x4d3)]('pt-BR',{'style':_0x1b1604(0x465),'currency':_0x1b1604(0x3fa)}):(console[_0x1b1604(0x939)](_0x1b1604(0x76c)+_0x275c3a),_0x54c7af=null);break;case _0x1b1604(0x463):_0x54c7af=_0x275c3a['toUpperCase']();break;case _0x1b1604(0x5cd):_0x54c7af=_0x275c3a[_0x1b1604(0x658)]();break;case'capitalizedWords':_0x54c7af=_0x275c3a['split']('\x20')[_0x1b1604(0x3d6)](_0x427c7f=>_0x427c7f[_0x1b1604(0x807)](0x0)['toUpperCase']()+_0x427c7f['slice'](0x1)[_0x1b1604(0x658)]())[_0x1b1604(0x6ef)]('\x20');break;case _0x1b1604(0x6c4):_0x54c7af=JSON[_0x1b1604(0x684)](_0x275c3a);break;case _0x1b1604(0x288):_0x54c7af=_0x275c3a[_0x1b1604(0x382)]();break;default:_0x54c7af=_0x275c3a;}return _0x54c7af!==null?_0x54c7af[_0x1b1604(0x5e7)]():null;}async[a0_0x3f93a9(0x8d5)](_0x5cbefe,_0x1498d0){const _0x5ee37b=a0_0x3f93a9;try{let _0x38ecfe=_0x5cbefe['varedits']?.[_0x5ee37b(0x697)](_0x2e1815=>_0x2e1815[_0x5ee37b(0x71b)]===_0x1498d0[_0x5ee37b(0x7ad)]?.[_0x5ee37b(0x5e7)]())||[],_0x4c1d7f=_0x1498d0[_0x5ee37b(0x8f6)],_0x4c1356=null,_0x3aeead=[],_0x1a47c8=_0x5cbefe['chatLog'][_0x5ee37b(0x25c)][_0x4c1d7f];_0x3aeead[_0x5ee37b(0x6f2)]('Valor\x20inicial:\x20\x22'+_0x1a47c8+'\x22');for(let _0x40205d of _0x38ecfe){_0x40205d[_0x5ee37b(0x8ca)]=_0x1a47c8,_0x4c1356=_0x40205d[_0x5ee37b(0x8ca)];let _0x1972f2;try{_0x1972f2=this[_0x5ee37b(0x431)](_0x5cbefe,_0x40205d);}catch(_0x4625a0){this[_0x5ee37b(0x458)]['error'](_0x5ee37b(0x724)+_0x4625a0['message']);continue;}if(_0x1972f2!==null){let _0x5634d5='Operador:\x20\x22'+_0x40205d[_0x5ee37b(0x91b)]+'\x22',_0x124b22=[_0x5ee37b(0x705),_0x5ee37b(0x463),_0x5ee37b(0x5cd),_0x5ee37b(0x43d),'trimmed'];_0x40205d[_0x5ee37b(0x91b)]===_0x5ee37b(0x328)||_0x40205d[_0x5ee37b(0x91b)]===_0x5ee37b(0x4b7)?_0x5634d5+=_0x5ee37b(0x4ea)+_0x40205d['secondValue']+_0x5ee37b(0x80b)+_0x40205d['replaceValue']+'\x22':!_0x124b22[_0x5ee37b(0x8dc)](_0x40205d[_0x5ee37b(0x91b)])&&_0x40205d[_0x5ee37b(0x912)]!==null&&_0x40205d[_0x5ee37b(0x912)]!==void 0x0&&(_0x5634d5+=_0x5ee37b(0x6c3)+_0x40205d[_0x5ee37b(0x912)]+'\x22'),_0x5634d5+=_0x5ee37b(0x466)+_0x1972f2+'.',_0x3aeead[_0x5ee37b(0x6f2)](_0x5634d5);}_0x1972f2!==null&&(_0x1a47c8=_0x1972f2);}if(_0x5cbefe[_0x5ee37b(0x673)][_0x5ee37b(0x25c)]&&_0x1498d0['saveVariable']){_0x5cbefe['chatLog'][_0x5ee37b(0x25c)][_0x1498d0['saveVariable']]=_0x1a47c8;let _0x485058={'variable':_0x1498d0[_0x5ee37b(0x8f6)],'oldValue':_0x4c1356,'newValue':_0x1a47c8,'moreLogs':_0x3aeead};try{this[_0x5ee37b(0x92a)](_0x5cbefe,_0x1498d0,_0x485058);}catch(_0x116039){this[_0x5ee37b(0x458)][_0x5ee37b(0x70d)](_0x5ee37b(0x55e)+_0x116039[_0x5ee37b(0x7a3)]);}}return _0x4c1d7f;}catch(_0x4a3417){return this[_0x5ee37b(0x458)][_0x5ee37b(0x70d)](_0x5ee37b(0x7f2)+_0x4a3417[_0x5ee37b(0x7a3)]),null;}}async[a0_0x3f93a9(0x400)](_0xe6381d,_0x65350c){const _0x218a3a=a0_0x3f93a9;try{let _0x20a91d=[],_0x23dc82=_0xe6381d[_0x218a3a(0x3fe)][_0x218a3a(0x697)](_0x61826=>_0x61826[_0x218a3a(0x71b)]===_0x65350c['_id'][_0x218a3a(0x5e7)]()),_0x124c1c=null,_0x2195de=!0x1;for(let _0x1c7d2b of _0x23dc82){let _0x556c73=this['evaluateCondition'](_0xe6381d,_0x1c7d2b);_0x20a91d[_0x218a3a(0x6f2)](_0x218a3a(0x568)+_0x1c7d2b[_0x218a3a(0x8ca)]+_0x218a3a(0x8ce)+_0x1c7d2b[_0x218a3a(0x4da)]+',\x20Segundo\x20Valor:\x20'+_0x1c7d2b[_0x218a3a(0x912)]+',\x20Resultado:\x20'+_0x556c73),_0x124c1c===null?_0x124c1c=_0x556c73:_0x1c7d2b[_0x218a3a(0x75d)]===_0x218a3a(0x930)?(_0x124c1c=_0x124c1c&&_0x556c73,_0x556c73||(_0x2195de=!0x0)):_0x1c7d2b[_0x218a3a(0x75d)]==='or'&&(_0x2195de||(_0x124c1c=_0x124c1c||_0x556c73));}_0x124c1c===null&&(_0x124c1c=!0x0);let _0x3ad8ea={'moreLogs':_0x20a91d};_0xe6381d[_0x218a3a(0x673)][_0x218a3a(0x6d4)]=_0x124c1c,await this[_0x218a3a(0x92a)](_0xe6381d,_0x65350c,_0x3ad8ea);}catch(_0x3ebc4a){this['logger'][_0x218a3a(0x70d)](this['instanceName']+'\x20('+this[_0x218a3a(0x7ed)][_0x218a3a(0x828)]+_0x218a3a(0x315)+(_0x3ebc4a instanceof Error?_0x3ebc4a[_0x218a3a(0x7a3)]:JSON[_0x218a3a(0x684)](_0x3ebc4a,null,0x2)));}}[a0_0x3f93a9(0x374)](_0x4e0b64,_0x39d0a3){const _0x3ede4e=a0_0x3f93a9;let _0x2c9491=_0x39d0a3['firstValue'],_0x30f08b=_0x39d0a3[_0x3ede4e(0x912)];typeof _0x2c9491=='string'&&(_0x2c9491=this[_0x3ede4e(0x2f5)](_0x2c9491,_0x4e0b64['chatLog']['realVariables'])??''),typeof _0x30f08b=='string'&&(_0x30f08b=this['replaceVariables'](_0x30f08b,_0x4e0b64[_0x3ede4e(0x673)][_0x3ede4e(0x25c)])??'');try{switch(_0x39d0a3[_0x3ede4e(0x4da)]){case _0x3ede4e(0x437):return _0x2c9491===_0x30f08b;case'notEqual':return _0x2c9491!==_0x30f08b;case _0x3ede4e(0x26c):return this[_0x3ede4e(0x26c)](_0x2c9491,_0x30f08b);case'notContains':return!this[_0x3ede4e(0x26c)](_0x2c9491,_0x30f08b);case'greater':return parseFloat(_0x2c9491)>parseFloat(_0x30f08b);case _0x3ede4e(0x3e4):return parseFloat(_0x2c9491)<parseFloat(_0x30f08b);case _0x3ede4e(0x6d1):return _0x2c9491!=='';case _0x3ede4e(0x89a):return _0x2c9491==='';case _0x3ede4e(0x524):return new RegExp(_0x30f08b)[_0x3ede4e(0x3ef)](_0x2c9491);case'notMatchRegex':return!new RegExp(_0x30f08b)[_0x3ede4e(0x3ef)](_0x2c9491);default:return!0x1;}}catch(_0x52c0d7){return this[_0x3ede4e(0x458)][_0x3ede4e(0x70d)](_0x3ede4e(0x772)+_0x52c0d7),!0x1;}}[a0_0x3f93a9(0x26c)](_0x210061,_0x19bbf0){const _0x814376=a0_0x3f93a9;if(_0x210061===_0x19bbf0&&/^\d+$/[_0x814376(0x3ef)](_0x210061))return!0x0;if(this[_0x814376(0x8a4)](_0x210061)&&/^\d+$/[_0x814376(0x3ef)](_0x19bbf0)){let _0x3c9513=_0x210061[_0x814376(0x6a4)](',')['map'](_0x33df17=>parseInt(_0x33df17['trim']())),_0x13fbc4=parseInt(_0x19bbf0);return _0x3c9513[_0x814376(0x8dc)](_0x13fbc4);}return _0x210061['includes'](_0x19bbf0);}[a0_0x3f93a9(0x8a4)](_0x2fa3f7){return/^\d+(,\d+)*$/['test'](_0x2fa3f7);}[a0_0x3f93a9(0x827)](_0x5a94c1){const _0xbf0072=a0_0x3f93a9;let _0x45a6ef=!0x0,_0x58a2ad=null;for(let _0x471f70 of _0x5a94c1){let _0x38cd49=this[_0xbf0072(0x592)](_0x471f70);if(_0x58a2ad==='or'&&_0x38cd49){_0x45a6ef=!0x0;break;}if(_0x58a2ad===_0xbf0072(0x930)&&!_0x38cd49){_0x45a6ef=!0x1;break;}_0x58a2ad=_0x471f70[_0xbf0072(0x75d)];}return _0x45a6ef;}[a0_0x3f93a9(0x592)](_0x209672){const _0x5ee65e=a0_0x3f93a9;let _0x327879=_0x209672[_0x5ee65e(0x8ca)],_0xf55cf3=_0x209672['secondValue'];try{switch(_0x209672[_0x5ee65e(0x4da)]){case _0x5ee65e(0x437):return String(_0x327879)===String(_0xf55cf3);case _0x5ee65e(0x202):return String(_0x327879)!==String(_0xf55cf3);case'contains':return String(_0x327879)[_0x5ee65e(0x8dc)](String(_0xf55cf3));case'notContains':return!String(_0x327879)[_0x5ee65e(0x8dc)](String(_0xf55cf3));case _0x5ee65e(0x55b):return parseFloat(String(_0x327879))>parseFloat(String(_0xf55cf3));case _0x5ee65e(0x3e4):return parseFloat(String(_0x327879))<parseFloat(String(_0xf55cf3));case _0x5ee65e(0x6d1):return String(_0x327879)!=='';case _0x5ee65e(0x89a):return String(_0x327879)==='';case _0x5ee65e(0x524):return new RegExp(String(_0xf55cf3))[_0x5ee65e(0x3ef)](String(_0x327879));case'notMatchRegex':return!new RegExp(String(_0xf55cf3))[_0x5ee65e(0x3ef)](String(_0x327879));default:return!0x1;}}catch(_0x4a4b97){return this[_0x5ee65e(0x458)][_0x5ee65e(0x70d)](_0x5ee65e(0x772)+_0x4a4b97),!0x1;}}async['saveTextReply'](_0x83c93b,_0x44eac0){const _0x213354=a0_0x3f93a9;if(this['logger'][_0x213354(0x5e2)](this['instanceName']+'\x20('+this['instance'][_0x213354(0x828)]+_0x213354(0x66f)),!_0x83c93b||!_0x44eac0)return this[_0x213354(0x458)][_0x213354(0x70d)](this[_0x213354(0x5cf)]+'\x20('+this[_0x213354(0x7ed)][_0x213354(0x828)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x2521ec=_0x83c93b[_0x213354(0x673)][_0x213354(0x53d)][_0x213354(0x33a)]['id'];this['logger'][_0x213354(0x5e2)](this[_0x213354(0x5cf)]+'\x20('+this[_0x213354(0x7ed)][_0x213354(0x828)]+_0x213354(0x375)+_0x2521ec);let _0x3a0b71={'key':{'id':_0x2521ec}},_0xe29978=_0x44eac0[_0x213354(0x8f6)];_0x83c93b[_0x213354(0x673)][_0x213354(0x25c)]['_'+_0xe29978+'.fileUrl']=null,_0x83c93b['chatLog']['realVariables']['_'+_0xe29978+_0x213354(0x7e3)]=null,_0x83c93b[_0x213354(0x673)][_0x213354(0x25c)]['_'+_0xe29978+_0x213354(0x783)]=null,_0x83c93b[_0x213354(0x673)]['realVariables']['_'+_0xe29978+_0x213354(0x343)]=_0x83c93b[_0x213354(0x673)][_0x213354(0x53d)][_0x213354(0x66e)];try{let _0x5f221a=await this[_0x213354(0x2a9)](_0x3a0b71);this[_0x213354(0x458)][_0x213354(0x5e2)](this[_0x213354(0x5cf)]+'\x20('+this[_0x213354(0x7ed)]['wuid']+_0x213354(0x595)),_0x83c93b[_0x213354(0x673)]['realVariables']['_'+_0xe29978+_0x213354(0x946)]=_0x5f221a[_0x213354(0x359)],_0x83c93b[_0x213354(0x673)]['realVariables']['_'+_0xe29978+_0x213354(0x7e3)]=_0x5f221a[_0x213354(0x3c6)];let _0x53b41a=_0x5f221a[_0x213354(0x3c6)][_0x213354(0x1cd)](/\/(\w+)$/),_0x3f4052=_0x53b41a?_0x53b41a[0x1]:null;_0x83c93b['chatLog'][_0x213354(0x25c)]['_'+_0xe29978+_0x213354(0x783)]=_0x3f4052,this[_0x213354(0x458)][_0x213354(0x5e2)](this[_0x213354(0x5cf)]+'\x20('+this[_0x213354(0x7ed)][_0x213354(0x828)]+_0x213354(0x485)+_0xe29978+'\x27.');}catch(_0x4624c6){this['logger']['error'](this[_0x213354(0x5cf)]+'\x20('+this[_0x213354(0x7ed)][_0x213354(0x828)]+_0x213354(0x321)+_0x4624c6['message']);}let _0xecf063=_0x83c93b[_0x213354(0x673)][_0x213354(0x53d)][_0x213354(0x5d0)]||_0x83c93b['chatLog']['lastReceivedMessage'][_0x213354(0x65e)]||_0x83c93b[_0x213354(0x673)][_0x213354(0x53d)]['vote'];try{_0x83c93b['chatLog']['realVariables']||(_0x83c93b[_0x213354(0x673)][_0x213354(0x25c)]={});let _0x111e9b=_0x83c93b[_0x213354(0x673)][_0x213354(0x25c)][_0xe29978];_0x83c93b[_0x213354(0x673)]['realVariables'][_0xe29978]=_0xecf063;let _0x277794={'variable':_0xe29978,'oldValue':_0x111e9b,'newValue':_0xecf063};this[_0x213354(0x92a)](_0x83c93b,_0x44eac0,_0x277794),this[_0x213354(0x458)][_0x213354(0x5e2)](this['instanceName']+'\x20('+this['instance'][_0x213354(0x828)]+_0x213354(0x57c));}catch(_0x2e5b4c){let _0x8ac56e={'error':!0x0,'errorLog':_0x2e5b4c[_0x213354(0x5e7)]()};return this['updateConversation'](_0x83c93b,_0x44eac0,_0x8ac56e),this[_0x213354(0x458)][_0x213354(0x70d)](this[_0x213354(0x5cf)]+'\x20('+this['instance'][_0x213354(0x828)]+_0x213354(0x56f)+(_0x2e5b4c instanceof Error?_0x2e5b4c[_0x213354(0x7a3)]:JSON[_0x213354(0x684)](_0x2e5b4c,null,0x2))),null;}}async[a0_0x3f93a9(0x518)](_0x471049,_0x1bfd58){const _0x5c8a7e=a0_0x3f93a9;if(this[_0x5c8a7e(0x458)][_0x5c8a7e(0x5e2)](this[_0x5c8a7e(0x5cf)]+'\x20('+this[_0x5c8a7e(0x7ed)][_0x5c8a7e(0x828)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0x471049||!_0x1bfd58)return this[_0x5c8a7e(0x458)][_0x5c8a7e(0x70d)](this['instanceName']+'\x20('+this[_0x5c8a7e(0x7ed)][_0x5c8a7e(0x828)]+_0x5c8a7e(0x557)),null;let _0xb2f7fb=Date['now'](),_0xb311de=parseInt(_0x1bfd58[_0x5c8a7e(0x63e)],0xa);if(isNaN(_0xb311de))return this[_0x5c8a7e(0x458)][_0x5c8a7e(0x70d)](this[_0x5c8a7e(0x5cf)]+'\x20('+this[_0x5c8a7e(0x7ed)][_0x5c8a7e(0x828)]+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número'),null;let _0x15b567={'newStoppedUntil':_0xb2f7fb+_0xb311de*0x3c*0x3e8};return await this[_0x5c8a7e(0x92a)](_0x471049,_0x1bfd58,_0x15b567,!0x0),null;}async[a0_0x3f93a9(0x8c0)](_0x315d2f,_0x2abe15){const _0x48dadf=a0_0x3f93a9;try{switch(_0x2abe15[_0x48dadf(0x316)][_0x48dadf(0x81d)]){case _0x48dadf(0x633):await this[_0x48dadf(0x4e8)](_0x315d2f,_0x2abe15);break;case'sendMedia':await this[_0x48dadf(0x4a6)](_0x315d2f,_0x2abe15);break;case'sendLocation':await this[_0x48dadf(0x1d8)](_0x315d2f,_0x2abe15);break;case _0x48dadf(0x8c4):await this['uazapiSendAudio'](_0x315d2f,_0x2abe15);break;case'sendContact':await this[_0x48dadf(0x833)](_0x315d2f,_0x2abe15);break;case _0x48dadf(0x3a8):await this[_0x48dadf(0x440)](_0x315d2f,_0x2abe15);break;case _0x48dadf(0x77d):await this[_0x48dadf(0x440)](_0x315d2f,_0x2abe15);break;case'deleteMessage':await this[_0x48dadf(0x736)](_0x315d2f,_0x2abe15);break;default:this[_0x48dadf(0x458)][_0x48dadf(0x70d)](this[_0x48dadf(0x5cf)]+'\x20('+this[_0x48dadf(0x7ed)]['wuid']+_0x48dadf(0x667)+_0x2abe15[_0x48dadf(0x316)][_0x48dadf(0x81d)]);}}catch(_0x246aab){this[_0x48dadf(0x458)][_0x48dadf(0x70d)](this['instanceName']+'\x20('+this['instance'][_0x48dadf(0x828)]+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+(_0x246aab instanceof Error?_0x246aab['message']:JSON[_0x48dadf(0x684)](_0x246aab,null,0x2)));}}async[a0_0x3f93a9(0x92a)](_0x5f601f,_0x551d3c,_0x56660c,_0x4d0742=!0x1,_0x3ff63d=!0x1){const _0x53f73e=a0_0x3f93a9;_0x5f601f[_0x53f73e(0x673)][_0x53f73e(0x2d3)]||(_0x5f601f[_0x53f73e(0x673)][_0x53f73e(0x2d3)]=[]);let _0x1abf62=(_0x5f601f[_0x53f73e(0x673)][_0x53f73e(0x2d3)]?.[_0x53f73e(0x40e)]??0x0)+0x1,_0x5820ba=_0x5f601f[_0x53f73e(0x673)][_0x53f73e(0x2d3)]['filter'](_0x26a1d7=>String(_0x26a1d7[_0x53f73e(0x71b)])===String(_0x551d3c['_id']))[_0x53f73e(0x40e)]+0x1,_0x2e54ec=_0x56660c?.[_0x53f73e(0x509)]??Date[_0x53f73e(0x5a4)](),_0x387dcf=_0x56660c?.[_0x53f73e(0x70d)]?_0x56660c[_0x53f73e(0x60c)]??_0x56660c['error'][_0x53f73e(0x5e7)]():void 0x0,_0x50496f={'onTime':_0x2e54ec,'blockId':_0x551d3c['_id'],'order':_0x1abf62,'activatedCount':_0x5820ba,'error':_0x56660c?.['error']??!0x1,'messageId':_0x56660c?.['messageId'],'apiResponse':_0x56660c?.[_0x53f73e(0x4a4)],'apiResponseString':_0x56660c?.[_0x53f73e(0x4a4)]?JSON[_0x53f73e(0x684)](_0x56660c?.[_0x53f73e(0x4a4)]):void 0x0,'variable':_0x56660c?.[_0x53f73e(0x491)],'oldValue':_0x56660c?.['oldValue'],'newValue':_0x56660c?.[_0x53f73e(0x840)],'newStoppedUntil':_0x56660c?.[_0x53f73e(0x541)],'moreLogs':_0x56660c?.[_0x53f73e(0x856)],'errorLog':_0x387dcf};if(_0x56660c[_0x53f73e(0x856)]&&_0x56660c[_0x53f73e(0x856)]['length']>0x0){let _0x387a7=_0x56660c[_0x53f73e(0x856)][_0x53f73e(0x3d6)](_0x5d1e30=>this[_0x53f73e(0x1ff)](_0x5d1e30,_0x5f601f['chatLog'][_0x53f73e(0x25c)]));_0x50496f[_0x53f73e(0x856)]=_0x387a7;}if(_0x5f601f[_0x53f73e(0x673)]['realVariables']||(_0x5f601f[_0x53f73e(0x673)]['realVariables']={}),_0x5f601f[_0x53f73e(0x673)][_0x53f73e(0x25c)][_0x53f73e(0x447)]=String(_0x5820ba),_0x5f601f[_0x53f73e(0x673)][_0x53f73e(0x25c)][_0x53f73e(0x62d)]=String(_0x56660c[_0x53f73e(0x70d)]??!0x1),_0x5f601f[_0x53f73e(0x673)]['blockLogs'][_0x53f73e(0x6f2)](_0x50496f),_0x5f601f[_0x53f73e(0x673)]['realVariables']['telefone']&&_0x5f601f['chatLog'][_0x53f73e(0x25c)][_0x53f73e(0x787)]!==_0x5f601f[_0x53f73e(0x6fa)]){let _0x579a77=(await this[_0x53f73e(0x8eb)]({'numbers':[_0x5f601f[_0x53f73e(0x673)]['realVariables'][_0x53f73e(0x787)]]}))[0x0][_0x53f73e(0x6dc)];_0x5f601f[_0x53f73e(0x673)][_0x53f73e(0x25c)][_0x53f73e(0x787)]=_0x579a77,_0x5f601f[_0x53f73e(0x6fa)]=_0x579a77;try{let _0x1381c7={'_id':{'$ne':_0x5f601f['_id']},'remoteJid':_0x579a77,'status':_0x53f73e(0x4f2)},_0x44615a={'status':_0x53f73e(0x456)};await this[_0x53f73e(0x4a0)][_0x53f73e(0x6e0)]['updateMany'](_0x1381c7,_0x44615a,this[_0x53f73e(0x7ed)][_0x53f73e(0x828)]),this[_0x53f73e(0x458)][_0x53f73e(0x5e2)](this['instanceName']+'\x20('+this[_0x53f73e(0x7ed)][_0x53f73e(0x828)]+_0x53f73e(0x314));}catch(_0x11f966){this[_0x53f73e(0x458)][_0x53f73e(0x70d)](this[_0x53f73e(0x5cf)]+'\x20('+this[_0x53f73e(0x7ed)][_0x53f73e(0x828)]+_0x53f73e(0x302)+_0x11f966['message']);}try{let _0xe6272b=_0x5f601f[_0x53f73e(0x673)][_0x53f73e(0x25c)],_0x2f6485=await this[_0x53f73e(0x624)](_0x579a77),_0x4b1a8d={..._0xe6272b,..._0x2f6485,'_remoteJid':_0x579a77};_0x5f601f[_0x53f73e(0x673)][_0x53f73e(0x25c)]=_0x4b1a8d;}catch(_0xc3519){this['logger'][_0x53f73e(0x70d)](this[_0x53f73e(0x5cf)]+'\x20('+this['instance'][_0x53f73e(0x828)]+_0x53f73e(0x62e)+_0xc3519[_0x53f73e(0x7a3)]);}}_0x5f601f[_0x53f73e(0x673)][_0x53f73e(0x225)]=_0x551d3c[_0x53f73e(0x7ad)][_0x53f73e(0x5e7)](),_0x5f601f[_0x53f73e(0x673)][_0x53f73e(0x6f5)]&&(_0x5f601f[_0x53f73e(0x673)][_0x53f73e(0x6f5)]=_0x5f601f[_0x53f73e(0x673)][_0x53f73e(0x6f5)]),_0x5f601f[_0x53f73e(0x673)][_0x53f73e(0x53d)]&&(_0x5f601f[_0x53f73e(0x673)]['lastReceivedMessage']=_0x5f601f[_0x53f73e(0x673)][_0x53f73e(0x53d)]),_0x5f601f[_0x53f73e(0x673)][_0x53f73e(0x6d4)]&&(_0x5f601f[_0x53f73e(0x673)]['lastCondition']=_0x5f601f[_0x53f73e(0x673)][_0x53f73e(0x6d4)]),_0x3ff63d&&(_0x5f601f['status']=_0x53f73e(0x456)),_0x4d0742?this[_0x53f73e(0x5a0)](_0x5f601f):this[_0x53f73e(0x2ba)](_0x5f601f,_0x551d3c);}['replaceVariablesLogs'](_0x24e5d9,_0x47dcda){const _0x10239b=a0_0x3f93a9;return _0x24e5d9[_0x10239b(0x2a1)](/\{\{([^}]+)\}\}/g,(_0x151ecb,_0x2f2630)=>_0x47dcda[_0x2f2630]?'{{'+_0x2f2630+_0x10239b(0x571)+_0x47dcda[_0x2f2630]+'\x22':'{{'+_0x2f2630+_0x10239b(0x5dc));}async[a0_0x3f93a9(0x5a0)](_0x1c354e){const _0x46b15c=a0_0x3f93a9;try{let _0x2951c5=Object[_0x46b15c(0x3be)](_0x1c354e[_0x46b15c(0x673)]['realVariables'])[_0x46b15c(0x3d6)](([_0x17f519,_0x1da4a9])=>({'name':_0x17f519,'value':_0x1da4a9})),_0x31b925={'status':_0x1c354e['status'],'remoteJid':_0x1c354e[_0x46b15c(0x6fa)],'blocks':_0x1c354e[_0x46b15c(0x793)],'waitingMenu_id':_0x1c354e[_0x46b15c(0x61b)],'waitingMenu_text':_0x1c354e[_0x46b15c(0x731)],'waitingMenu_replyOptions':_0x1c354e[_0x46b15c(0x40f)],'chatLog':{'lastBlockId':_0x1c354e[_0x46b15c(0x673)]['lastBlockId'],'lastSendMessage':_0x1c354e['chatLog']['lastSendMessage'],'lastReceivedMessage':_0x1c354e[_0x46b15c(0x673)][_0x46b15c(0x53d)],'lastCondition':_0x1c354e['chatLog'][_0x46b15c(0x6d4)],'chatVariables':_0x2951c5,'realVariables':_0x1c354e['chatLog'][_0x46b15c(0x25c)],'blockLogs':_0x1c354e['chatLog']['blockLogs']}},_0x1970a1=await this[_0x46b15c(0x4a0)][_0x46b15c(0x6e0)][_0x46b15c(0x349)](_0x1c354e[_0x46b15c(0x7ad)],_0x31b925,this['instance'][_0x46b15c(0x828)]);if(_0x1970a1){this[_0x46b15c(0x458)][_0x46b15c(0x5e2)](this[_0x46b15c(0x5cf)]+'\x20('+this[_0x46b15c(0x7ed)][_0x46b15c(0x828)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x1970a1['_id']);try{let _0x17f78a=['nome','nomecompleto',_0x46b15c(0x50c),_0x46b15c(0x6cf),_0x46b15c(0x74f),_0x46b15c(0x706),_0x46b15c(0x7e2),_0x46b15c(0x2ec),_0x46b15c(0x2ee),_0x46b15c(0x91e)];if(!this[_0x46b15c(0x6d2)]&&(await this[_0x46b15c(0x373)](),!this[_0x46b15c(0x6d2)]))throw new Error(_0x46b15c(0x7d7));let _0x34dd99=this['AutomateSystem']?.['customFields'][_0x46b15c(0x3d6)](_0x11a31f=>_0x11a31f[_0x46b15c(0x537)]),_0x30e6af={};Object['entries'](_0x1c354e[_0x46b15c(0x673)][_0x46b15c(0x25c)])[_0x46b15c(0x3c9)](([_0x3b2b65,_0x291138])=>{const _0x4f9cab=_0x46b15c;_0x17f78a[_0x4f9cab(0x8dc)](_0x3b2b65)&&(_0x3b2b65===_0x4f9cab(0x2ec)&&typeof _0x291138==_0x4f9cab(0x6a7)?_0x30e6af[_0x3b2b65]=_0x291138[_0x4f9cab(0x6a4)](',')['map'](_0x47be34=>_0x47be34[_0x4f9cab(0x382)]())[_0x4f9cab(0x697)](_0x3c1382=>_0x3c1382!==''):_0x3b2b65===_0x4f9cab(0x2ee)&&typeof _0x291138=='string'?_0x30e6af[_0x3b2b65]=_0x291138[_0x4f9cab(0x6a4)](',')[_0x4f9cab(0x3d6)](_0x37d8f7=>_0x37d8f7[_0x4f9cab(0x382)]())[_0x4f9cab(0x697)](_0x4d5ef8=>_0x4d5ef8!==''):_0x30e6af[_0x3b2b65]=_0x291138);});let _0x55ebf6=_0x1c354e[_0x46b15c(0x673)]['blockLogs'][_0x1c354e[_0x46b15c(0x673)][_0x46b15c(0x2d3)]['length']-0x1];if(_0x55ebf6){let _0x117f80=_0x55ebf6['newStoppedUntil'];_0x117f80!==void 0x0&&(_0x30e6af[_0x46b15c(0x7a0)]=_0x117f80[_0x46b15c(0x5e7)]());}let _0x51a496=_0x2951c5[_0x46b15c(0x697)](_0x2eace2=>_0x34dd99[_0x46b15c(0x8dc)](_0x2eace2[_0x46b15c(0x537)]));this['logger'][_0x46b15c(0x5e2)](this[_0x46b15c(0x5cf)]+'\x20('+this['instance'][_0x46b15c(0x828)]+_0x46b15c(0x504)),this[_0x46b15c(0x458)][_0x46b15c(0x5e2)](_0x30e6af),this[_0x46b15c(0x458)]['verbose'](this['instanceName']+'\x20('+this[_0x46b15c(0x7ed)][_0x46b15c(0x828)]+_0x46b15c(0x252)),this[_0x46b15c(0x458)][_0x46b15c(0x5e2)](_0x51a496);let _0x337218=_0x51a496['map'](_0x44a022=>{const _0x3d976d=_0x46b15c;let _0x371b47=this[_0x3d976d(0x6d2)]?.['customFields']['find'](_0x38d9f1=>_0x38d9f1['name']===_0x44a022['name']);if(!_0x371b47)throw new Error(_0x3d976d(0x442)+_0x44a022[_0x3d976d(0x537)]);return{'_id':_0x371b47['_id'],'value':_0x44a022[_0x3d976d(0x2f0)]};});this[_0x46b15c(0x458)][_0x46b15c(0x5e2)](this[_0x46b15c(0x5cf)]+'\x20('+this[_0x46b15c(0x7ed)][_0x46b15c(0x828)]+'):\x20transformedCustomFieldVariables'),this['logger']['verbose'](_0x337218),await this['saveChatVariables'](_0x1c354e['remoteJid'],_0x30e6af,_0x337218);}catch(_0x1c0f22){this[_0x46b15c(0x458)][_0x46b15c(0x70d)](this[_0x46b15c(0x5cf)]+'\x20('+this[_0x46b15c(0x7ed)][_0x46b15c(0x828)]+_0x46b15c(0x49c)+(_0x1c0f22 instanceof Error?_0x1c0f22[_0x46b15c(0x7a3)]:JSON[_0x46b15c(0x684)](_0x1c0f22,null,0x2)));}}else this[_0x46b15c(0x458)][_0x46b15c(0x70d)](this[_0x46b15c(0x5cf)]+'\x20('+this[_0x46b15c(0x7ed)]['wuid']+_0x46b15c(0x24b));}catch(_0x40ee7a){this['logger'][_0x46b15c(0x70d)](this[_0x46b15c(0x5cf)]+'\x20('+this[_0x46b15c(0x7ed)][_0x46b15c(0x828)]+'):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20'+(_0x40ee7a instanceof Error?_0x40ee7a[_0x46b15c(0x7a3)]:JSON[_0x46b15c(0x684)](_0x40ee7a,null,0x2)));}}async[a0_0x3f93a9(0x80a)](_0x729249,_0x1517bd,_0x131b35){const _0x2c24d9=a0_0x3f93a9;try{let _0x11b58e={'leadInfo.leadnome':_0x1517bd['nome'],'leadInfo.nomecompleto':_0x1517bd['nomecompleto'],'leadInfo.email':_0x1517bd[_0x2c24d9(0x50c)],'leadInfo.cpf':_0x1517bd['cpf'],'leadInfo.status':_0x1517bd[_0x2c24d9(0x74f)],'leadInfo.notas':_0x1517bd[_0x2c24d9(0x706)],'leadInfo.responsavelid':_0x1517bd['responsavelid'],'leadInfo.tags':_0x1517bd[_0x2c24d9(0x2ec)],'leadInfo.etiquetas':_0x1517bd[_0x2c24d9(0x2ee)],'leadInfo.customFields':_0x131b35,'leadInfo.atendimentoAberto':_0x1517bd[_0x2c24d9(0x91e)]},_0x1c02da=await this[_0x2c24d9(0x4a0)][_0x2c24d9(0x3bd)][_0x2c24d9(0x39a)]({'where':{'_id':_0x729249}},this['instance'][_0x2c24d9(0x828)]);if(!_0x1c02da)return _0x2c24d9(0x62f);let _0x29f6f2=new Set(_0x1c02da['leadInfo'][_0x2c24d9(0x2ee)]||[]),_0x75601b=new Set(_0x1517bd[_0x2c24d9(0x2ee)]||[]),_0x3dec77=await this[_0x2c24d9(0x4a0)][_0x2c24d9(0x462)]['find']({'where':{}},this[_0x2c24d9(0x7ed)][_0x2c24d9(0x828)]),_0x27e01d=new Set(_0x3dec77[_0x2c24d9(0x3d6)](_0xd0bbdc=>_0xd0bbdc['_id'])),_0x4c543f=[..._0x75601b][_0x2c24d9(0x697)](_0x3a0146=>!_0x29f6f2['has'](_0x3a0146)&&_0x27e01d['has'](_0x3a0146)),_0x3779fe=[..._0x29f6f2][_0x2c24d9(0x697)](_0x1e6cd2=>!_0x75601b[_0x2c24d9(0x887)](_0x1e6cd2));for(let _0x2bdc36 of _0x4c543f)await this[_0x2c24d9(0x43a)](_0x2bdc36,_0x1c02da['_id']),_0x29f6f2['add'](_0x2bdc36);for(let _0x3d70a8 of _0x3779fe)await this['RemoveChatLabel'](_0x3d70a8,_0x1c02da[_0x2c24d9(0x7ad)]),_0x29f6f2[_0x2c24d9(0x342)](_0x3d70a8);if(_0x2c24d9(0x7a0)in _0x1517bd){let _0x1c3ee3=_0x1517bd[_0x2c24d9(0x7a0)];_0x11b58e[_0x2c24d9(0x7e0)]=_0x1c3ee3?Number(_0x1c3ee3):null;}if('atendimentoAberto'in _0x1517bd){let _0x4b1a11=_0x1517bd[_0x2c24d9(0x91e)]['toLowerCase']();_0x11b58e[_0x2c24d9(0x78c)]=_0x4b1a11===_0x2c24d9(0x4b4)||_0x4b1a11==='1'||_0x4b1a11===_0x2c24d9(0x258)||_0x4b1a11===_0x2c24d9(0x8a1);}let _0x174547=await this[_0x2c24d9(0x4a0)][_0x2c24d9(0x3bd)][_0x2c24d9(0x349)]({'where':{'_id':_0x729249}},_0x11b58e,this[_0x2c24d9(0x7ed)][_0x2c24d9(0x828)]);_0x174547?(this['logger'][_0x2c24d9(0x5e2)](this[_0x2c24d9(0x5cf)]+'\x20('+this[_0x2c24d9(0x7ed)][_0x2c24d9(0x828)]+_0x2c24d9(0x3b6)+_0x174547['_id']),F(this[_0x2c24d9(0x5cf)],_0x2c24d9(0x2f8),{'chat':_0x174547})):this[_0x2c24d9(0x458)][_0x2c24d9(0x70d)](this[_0x2c24d9(0x5cf)]+'\x20('+this['instance'][_0x2c24d9(0x828)]+'):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD');}catch(_0x1672dd){this[_0x2c24d9(0x458)][_0x2c24d9(0x70d)](this['instanceName']+'\x20('+this[_0x2c24d9(0x7ed)]['wuid']+_0x2c24d9(0x6b3)+(_0x1672dd instanceof Error?_0x1672dd[_0x2c24d9(0x7a3)]:JSON[_0x2c24d9(0x684)](_0x1672dd,null,0x2)));}}async[a0_0x3f93a9(0x3cd)](_0x530608,_0x1234f6){const _0x1dc574=a0_0x3f93a9;this[_0x1dc574(0x458)]['verbose'](this[_0x1dc574(0x5cf)]+'\x20('+this[_0x1dc574(0x7ed)][_0x1dc574(0x828)]+_0x1dc574(0x339)+_0x1234f6);try{let _0x13853b=await this[_0x1dc574(0x4a0)]['chat']['updateOne']({'where':{'_id':_0x530608['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x1234f6},this['instance']['wuid']);this[_0x1dc574(0x458)][_0x1dc574(0x5e2)](this[_0x1dc574(0x5cf)]+'\x20('+this['instance']['wuid']+_0x1dc574(0x5f0)+_0x530608[_0x1dc574(0x7ad)]),this[_0x1dc574(0x458)]['verbose'](this['instanceName']+'\x20('+this[_0x1dc574(0x7ed)][_0x1dc574(0x828)]+'):\x20atualização\x20chat:\x20'+JSON[_0x1dc574(0x684)](_0x13853b,null,0x2)),_0x13853b&&F(this[_0x1dc574(0x5cf)],_0x1dc574(0x2f8),{'chat':_0x13853b});}catch(_0x333676){this[_0x1dc574(0x458)]['error'](this[_0x1dc574(0x5cf)]+'\x20('+this['instance'][_0x1dc574(0x828)]+_0x1dc574(0x4c3)+(_0x333676 instanceof Error?_0x333676[_0x1dc574(0x7a3)]:JSON[_0x1dc574(0x684)](_0x333676,null,0x2)));}}async[a0_0x3f93a9(0x464)](_0xd47ca3){const _0x43a940=a0_0x3f93a9;try{this[_0x43a940(0x458)][_0x43a940(0x5e2)](this[_0x43a940(0x5cf)]+'\x20('+this['instance']['wuid']+_0x43a940(0x52f));let _0x500f66=_0xd47ca3[_0x43a940(0x2a1)](/\D/g,''),_0xdff699=this['AutomateSystem'][_0x43a940(0x84f)][_0x43a940(0x419)](_0xa95d20=>_0xa95d20[_0x43a940(0x516)]===_0x500f66);if(_0xdff699||(this['logger'][_0x43a940(0x5e2)](this[_0x43a940(0x5cf)]+'\x20('+this[_0x43a940(0x7ed)][_0x43a940(0x828)]+_0x43a940(0x5c5)),_0xdff699=this[_0x43a940(0x6d2)]['flows']['find'](_0x45b7e0=>_0x45b7e0[_0x43a940(0x73f)]===!0x0)),!_0xdff699)return this[_0x43a940(0x458)][_0x43a940(0x5e2)](this[_0x43a940(0x5cf)]+'\x20('+this['instance'][_0x43a940(0x828)]+_0x43a940(0x59f)),null;let _0x18f464=await this['repository'][_0x43a940(0x3d3)][_0x43a940(0x39a)]({'where':{'_id':_0xdff699[_0x43a940(0x7ad)]}});if(!_0x18f464||!_0x18f464[_0x43a940(0x401)]?.[_0x43a940(0x8dc)](this['instance'][_0x43a940(0x828)]))throw this[_0x43a940(0x458)][_0x43a940(0x70d)](this[_0x43a940(0x5cf)]+'\x20('+this['instance']['wuid']+_0x43a940(0x767)+_0x18f464[_0x43a940(0x7ad)]+_0x43a940(0x848)),new m(_0x43a940(0x727)+_0x18f464[_0x43a940(0x7ad)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');return _0x18f464;}catch(_0x2fc4af){return this[_0x43a940(0x458)]['error'](this[_0x43a940(0x5cf)]+'\x20('+this[_0x43a940(0x7ed)][_0x43a940(0x828)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+(_0x2fc4af instanceof Error?_0x2fc4af[_0x43a940(0x7a3)]:JSON[_0x43a940(0x684)](_0x2fc4af,null,0x2))),null;}}async[a0_0x3f93a9(0x364)](_0x23f34f,_0x3e6c51){const _0x2d9290=a0_0x3f93a9;try{let _0x3e2d02=!!_0x3e6c51[_0x2d9290(0x823)],_0xb22684=_0x3e6c51[_0x2d9290(0x293)],_0x5df746=null;if(this[_0x2d9290(0x458)][_0x2d9290(0x5e2)](this[_0x2d9290(0x5cf)]+'\x20('+this['instance'][_0x2d9290(0x828)]+_0x2d9290(0x2fc)+_0x3e2d02+_0x2d9290(0x615)+_0xb22684),_0x3e2d02){this[_0x2d9290(0x458)][_0x2d9290(0x5e2)](this[_0x2d9290(0x5cf)]+'\x20('+this[_0x2d9290(0x7ed)][_0x2d9290(0x828)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x2b531b={'where':{'remoteJid':_0x23f34f,'waitingMenu_id':_0xb22684}};if(_0x5df746=await this[_0x2d9290(0x4a0)][_0x2d9290(0x6e0)][_0x2d9290(0x39a)](_0x2b531b,this[_0x2d9290(0x7ed)][_0x2d9290(0x828)]),!_0x5df746)return this[_0x2d9290(0x458)][_0x2d9290(0x5e2)](this['instanceName']+'\x20('+this[_0x2d9290(0x7ed)][_0x2d9290(0x828)]+'):\x20não\x20encontrou'),null;let _0x241faa=Date[_0x2d9290(0x5a4)](),_0x295c5b=_0x5df746?.[_0x2d9290(0x357)]||0x0,_0x50f95a=_0x241faa-_0x295c5b*0x3c*0x3e8;if(_0x5df746['lastInteraction']<_0x50f95a){this[_0x2d9290(0x458)][_0x2d9290(0x5e2)](this[_0x2d9290(0x5cf)]+'\x20('+this[_0x2d9290(0x7ed)][_0x2d9290(0x828)]+_0x2d9290(0x938));let _0x2e155c={'number':_0x5df746[_0x2d9290(0x6fa)],'options':{'delay':0x0},'textMessage':{'text':_0x5df746['waitingMenu_ExpiredMessage']}};await this[_0x2d9290(0x862)](_0x2e155c);let _0x3d4687={'status':_0x2d9290(0x456),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x2d9290(0x4a0)]['flowConversation']['updateOne'](_0x5df746[_0x2d9290(0x7ad)],_0x3d4687,this[_0x2d9290(0x7ed)][_0x2d9290(0x828)]),null;}return _0x5df746[_0x2d9290(0x1d3)]=Date[_0x2d9290(0x5a4)](),_0x5df746[_0x2d9290(0x673)]['lastReceivedMessage']=_0x3e6c51,_0x5df746;}else{this[_0x2d9290(0x458)][_0x2d9290(0x5e2)](this[_0x2d9290(0x5cf)]+'\x20('+this[_0x2d9290(0x7ed)][_0x2d9290(0x828)]+_0x2d9290(0x432)+this['instance'][_0x2d9290(0x828)]+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this[_0x2d9290(0x458)]['verbose'](this[_0x2d9290(0x5cf)]+'\x20('+this[_0x2d9290(0x7ed)][_0x2d9290(0x828)]+_0x2d9290(0x428));let _0x245940={'where':{'remoteJid':_0x23f34f,'status':'open'}};if(_0x5df746=await this[_0x2d9290(0x4a0)][_0x2d9290(0x6e0)][_0x2d9290(0x39a)](_0x245940,this[_0x2d9290(0x7ed)][_0x2d9290(0x828)]),!_0x5df746){let _0x2db9ce=await this[_0x2d9290(0x464)](_0x23f34f);if(_0x2db9ce&&(_0x5df746=await this[_0x2d9290(0x224)](_0x2db9ce,_0x3e6c51[_0x2d9290(0x33a)],_0x3e6c51)),!_0x5df746)return null;}let _0x171e55=Date[_0x2d9290(0x5a4)](),_0x4fb099=_0x5df746?.['minutesToClose']||0x0,_0x268ec4=_0x171e55-_0x4fb099*0x3c*0x3e8;if(this[_0x2d9290(0x458)][_0x2d9290(0x5e2)](this[_0x2d9290(0x5cf)]+'\x20('+this[_0x2d9290(0x7ed)]['wuid']+_0x2d9290(0x52d)+_0x171e55+_0x2d9290(0x426)+_0x4fb099+_0x2d9290(0x4c1)+_0x268ec4),this[_0x2d9290(0x458)]['verbose'](this['instanceName']+'\x20('+this[_0x2d9290(0x7ed)][_0x2d9290(0x828)]+_0x2d9290(0x5ae)),this[_0x2d9290(0x458)]['verbose'](this[_0x2d9290(0x5cf)]+'\x20('+this['instance'][_0x2d9290(0x828)]+'):\x20conversation.lastInteraction:\x20'+_0x5df746[_0x2d9290(0x1d3)]),this['logger'][_0x2d9290(0x5e2)](this[_0x2d9290(0x5cf)]+'\x20('+this[_0x2d9290(0x7ed)][_0x2d9290(0x828)]+'):\x20expirationTime:\x20'+_0x268ec4),_0x5df746[_0x2d9290(0x1d3)]<_0x268ec4){this[_0x2d9290(0x458)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x2d9290(0x828)]+_0x2d9290(0x3c1));let _0x271726=await this[_0x2d9290(0x464)](_0x23f34f);if(_0x271726===null)return null;_0x5df746&&await this['repository'][_0x2d9290(0x6e0)][_0x2d9290(0x349)](_0x5df746[_0x2d9290(0x7ad)],{'status':_0x2d9290(0x456)},this[_0x2d9290(0x7ed)]['wuid']),_0x5df746=await this[_0x2d9290(0x224)](_0x271726,_0x3e6c51[_0x2d9290(0x33a)],_0x3e6c51);}return _0x5df746[_0x2d9290(0x1d3)]=_0x171e55,_0x5df746['chatLog'][_0x2d9290(0x53d)]=_0x3e6c51,_0x5df746;}}catch(_0x49bb30){return this[_0x2d9290(0x458)][_0x2d9290(0x70d)](this['instanceName']+'\x20('+this[_0x2d9290(0x7ed)][_0x2d9290(0x828)]+_0x2d9290(0x22c)+(_0x49bb30 instanceof Error?_0x49bb30[_0x2d9290(0x7a3)]:JSON[_0x2d9290(0x684)](_0x49bb30,null,0x2))),null;}}async[a0_0x3f93a9(0x224)](_0x155459,_0x4f1ab3,_0x24de12){const _0x813fca=a0_0x3f93a9;this[_0x813fca(0x458)][_0x813fca(0x5e2)](this[_0x813fca(0x5cf)]+'\x20('+this['instance'][_0x813fca(0x828)]+_0x813fca(0x72c));try{let _0x5f250=require(_0x813fca(0x7a9))[_0x813fca(0x64e)],_0x449df8=Date[_0x813fca(0x5a4)](),_0x4479cb=_0x813fca(0x1e6),_0x5f5a34=_0x4f1ab3[_0x813fca(0x2fa)]?null:_0x24de12,_0x53cb2c=_0x4f1ab3[_0x813fca(0x2fa)]?_0x24de12:null,_0x40022a=_0x4f1ab3['remoteJid'],_0x3e7f15=this[_0x813fca(0x6d2)]['flows'][_0x813fca(0x419)](_0x746269=>_0x746269[_0x813fca(0x7ad)]===_0x155459['_id']?.[_0x813fca(0x5e7)]()),_0x35004d=_0x3e7f15?.[_0x813fca(0x357)]??_0x155459[_0x813fca(0x357)]??0x0,_0x5239df=_0x3e7f15?.[_0x813fca(0x5d3)]??_0x155459[_0x813fca(0x5d3)]??!0x1;await this[_0x813fca(0x29c)](_0x40022a);let _0x5d449f={'flowId':_0x155459['_id'],..._0x155459,'chatLog':null},_0x157454=await this[_0x813fca(0x552)](_0x5d449f[_0x813fca(0x44a)]),_0x397b98=await this[_0x813fca(0x624)](_0x40022a),_0x5aabf6={..._0x157454,..._0x397b98,'_remoteJid':_0x40022a},_0x5c7072={'lastReceivedMessage':_0x5f5a34,'lastSendMessage':_0x53cb2c,'lastBlockId':_0x4479cb,'lastCondition':!0x0,'realVariables':_0x5aabf6};_0x5d449f[_0x813fca(0x673)]=_0x5c7072,delete _0x5d449f[_0x813fca(0x7ad)],_0x5d449f['_id']=new _0x5f250(),_0x5d449f[_0x813fca(0x1d3)]=_0x449df8,_0x5d449f[_0x813fca(0x74f)]=_0x813fca(0x4f2),_0x5d449f['remoteJid']=_0x40022a,_0x5d449f[_0x813fca(0x357)]=_0x35004d,_0x5d449f['readMessages']=_0x5239df;let _0x1d7461=await this['repository']['flowConversation'][_0x813fca(0x349)](_0x5d449f[_0x813fca(0x7ad)],_0x5d449f,this[_0x813fca(0x7ed)]['wuid']);return this[_0x813fca(0x458)][_0x813fca(0x5e2)](this[_0x813fca(0x5cf)]+'\x20('+this[_0x813fca(0x7ed)][_0x813fca(0x828)]+_0x813fca(0x796)),_0x1d7461?_0x5d449f:null;}catch(_0x5d7551){return this['logger'][_0x813fca(0x70d)](this[_0x813fca(0x5cf)]+'\x20('+this[_0x813fca(0x7ed)][_0x813fca(0x828)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x5d7551 instanceof Error?_0x5d7551[_0x813fca(0x7a3)]:JSON[_0x813fca(0x684)](_0x5d7551,null,0x2))),_0x5d7551;}}async[a0_0x3f93a9(0x4e8)](_0x4659dc,_0x5b9dad){const _0x24b85c=a0_0x3f93a9;let _0x18b931=_0x4659dc['remoteJid'];_0x5b9dad[_0x24b85c(0x316)]['remoteJid']&&_0x5b9dad['uazapi'][_0x24b85c(0x6fa)][_0x24b85c(0x382)]()!==''&&(_0x18b931=_0x5b9dad[_0x24b85c(0x316)]['remoteJid'][_0x24b85c(0x382)]()),this[_0x24b85c(0x458)][_0x24b85c(0x5e2)](this[_0x24b85c(0x5cf)]+'\x20('+this[_0x24b85c(0x7ed)][_0x24b85c(0x828)]+_0x24b85c(0x81f));let _0x54ce19={'number':_0x18b931,'options':{'delay':_0x5b9dad[_0x24b85c(0x316)][_0x24b85c(0x818)],'linkPreview':_0x5b9dad[_0x24b85c(0x316)][_0x24b85c(0x4d9)]},'textMessage':{'text':_0x5b9dad[_0x24b85c(0x316)][_0x24b85c(0x5d0)]}};try{let _0x515977=await this[_0x24b85c(0x862)](_0x54ce19);if(_0x515977){let _0x464497={'_id':_0x515977[_0x24b85c(0x33a)]['id'],'_fromMe':_0x515977[_0x24b85c(0x33a)]['fromMe'],'_remoteJid':_0x515977[_0x24b85c(0x33a)][_0x24b85c(0x6fa)]},_0x23aa00=(0x0,w[_0x24b85c(0x8e5)])(_0x515977[_0x24b85c(0x7a3)]),_0x17ebef=(0x0,w['getContentType'])(_0x23aa00);_0x4659dc[_0x24b85c(0x673)][_0x24b85c(0x225)]=_0x5b9dad[_0x24b85c(0x7ad)]['toString']();let {message_normalized:_0x3b75ac}=this[_0x24b85c(0x79f)](_0x23aa00,_0x17ebef,null);_0x4659dc['chatLog'][_0x24b85c(0x6f5)]=await _0x3b75ac;let _0x516a00={'messageId':_0x515977[_0x24b85c(0x33a)]['id']},_0x1fce1c=_0x4659dc[_0x24b85c(0x673)][_0x24b85c(0x25c)];Object[_0x24b85c(0x6a6)](_0x1fce1c,_0x464497),_0x4659dc['chatLog'][_0x24b85c(0x25c)]=_0x1fce1c,this[_0x24b85c(0x92a)](_0x4659dc,_0x5b9dad,_0x516a00);}else{let _0xc495d6={'error':!0x0};this[_0x24b85c(0x92a)](_0x4659dc,_0x5b9dad,_0xc495d6),this[_0x24b85c(0x458)][_0x24b85c(0x70d)](this[_0x24b85c(0x5cf)]+'\x20('+this[_0x24b85c(0x7ed)][_0x24b85c(0x828)]+_0x24b85c(0x5a3));}}catch(_0x2cd560){let _0x3a7c0a={'error':!0x0,'errorLog':_0x2cd560[_0x24b85c(0x5e7)]()};this[_0x24b85c(0x92a)](_0x4659dc,_0x5b9dad,_0x3a7c0a),this[_0x24b85c(0x458)][_0x24b85c(0x70d)](this['instanceName']+'\x20('+this['instance'][_0x24b85c(0x828)]+_0x24b85c(0x68a)+(_0x2cd560 instanceof Error?_0x2cd560[_0x24b85c(0x7a3)]:JSON[_0x24b85c(0x684)](_0x2cd560,null,0x2)));}}async[a0_0x3f93a9(0x4a6)](_0x5119b6,_0xe6668c){const _0x1dc235=a0_0x3f93a9;let _0x2bba46=_0x5119b6[_0x1dc235(0x6fa)];_0xe6668c[_0x1dc235(0x316)][_0x1dc235(0x6fa)]&&_0xe6668c[_0x1dc235(0x316)][_0x1dc235(0x6fa)][_0x1dc235(0x382)]()!==''&&(_0x2bba46=_0xe6668c[_0x1dc235(0x316)][_0x1dc235(0x6fa)][_0x1dc235(0x382)]()),this['logger'][_0x1dc235(0x5e2)](this[_0x1dc235(0x5cf)]+'\x20('+this[_0x1dc235(0x7ed)]['wuid']+'):\x20Enviando\x20mídia');let _0x127c5d={'number':_0x2bba46,'options':{'delay':_0xe6668c[_0x1dc235(0x316)]['delay'],'linkPreview':_0xe6668c['uazapi'][_0x1dc235(0x4d9)]},'mediaMessage':{'mediatype':_0xe6668c['uazapi'][_0x1dc235(0x588)],'caption':_0xe6668c[_0x1dc235(0x316)][_0x1dc235(0x65e)],'media':_0xe6668c[_0x1dc235(0x316)][_0x1dc235(0x30b)],'fileName':_0xe6668c[_0x1dc235(0x316)][_0x1dc235(0x4ee)]}};try{let _0xf0870=await this[_0x1dc235(0x41b)](_0x127c5d);if(_0xf0870){let _0x297aee={'_id':_0xf0870[_0x1dc235(0x33a)]['id'],'_fromMe':_0xf0870[_0x1dc235(0x33a)][_0x1dc235(0x2fa)],'_remoteJid':_0xf0870[_0x1dc235(0x33a)][_0x1dc235(0x6fa)]},_0x28f811=(0x0,w[_0x1dc235(0x8e5)])(_0xf0870[_0x1dc235(0x7a3)]),_0x46f600=(0x0,w['getContentType'])(_0x28f811);_0x5119b6[_0x1dc235(0x673)][_0x1dc235(0x225)]=_0xe6668c[_0x1dc235(0x7ad)]['toString']();let {message_normalized:_0xb5e3c0}=this[_0x1dc235(0x79f)](_0x28f811,_0x46f600,null);_0x5119b6['chatLog'][_0x1dc235(0x6f5)]=await _0xb5e3c0;let _0x359738={'messageId':_0xf0870[_0x1dc235(0x33a)]['id']},_0x5ac289=_0x5119b6[_0x1dc235(0x673)]['realVariables'];Object[_0x1dc235(0x6a6)](_0x5ac289,_0x297aee),_0x5119b6['chatLog'][_0x1dc235(0x25c)]=_0x5ac289,this[_0x1dc235(0x92a)](_0x5119b6,_0xe6668c,_0x359738);}else{let _0xf926ec={'error':!0x0};this[_0x1dc235(0x92a)](_0x5119b6,_0xe6668c,_0xf926ec),this['logger']['error'](this[_0x1dc235(0x5cf)]+'\x20('+this[_0x1dc235(0x7ed)]['wuid']+_0x1dc235(0x8d7));}}catch(_0x1a5ff4){let _0x4f0f59={'error':!0x0,'errorLog':_0x1a5ff4[_0x1dc235(0x5e7)]()};this[_0x1dc235(0x92a)](_0x5119b6,_0xe6668c,_0x4f0f59),this[_0x1dc235(0x458)][_0x1dc235(0x70d)](this[_0x1dc235(0x5cf)]+'\x20('+this[_0x1dc235(0x7ed)][_0x1dc235(0x828)]+_0x1dc235(0x759)+(_0x1a5ff4 instanceof Error?_0x1a5ff4['message']:JSON[_0x1dc235(0x684)](_0x1a5ff4,null,0x2)));}}async['uazapiSendLocation'](_0x30b3c8,_0x26b61e){const _0x487160=a0_0x3f93a9;let _0x1af18d=_0x30b3c8[_0x487160(0x6fa)];_0x26b61e[_0x487160(0x316)][_0x487160(0x6fa)]&&_0x26b61e[_0x487160(0x316)][_0x487160(0x6fa)]['trim']()!==''&&(_0x1af18d=_0x26b61e[_0x487160(0x316)][_0x487160(0x6fa)][_0x487160(0x382)]()),this[_0x487160(0x458)][_0x487160(0x5e2)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Enviando\x20localização');let _0x30ee22={'number':_0x1af18d,'options':{'delay':_0x26b61e[_0x487160(0x316)]['delay']},'locationMessage':{'name':_0x26b61e[_0x487160(0x316)][_0x487160(0x537)],'address':_0x26b61e[_0x487160(0x316)][_0x487160(0x5ed)],'latitude':_0x26b61e[_0x487160(0x316)]['latitude'],'longitude':_0x26b61e['uazapi']['longitude']}};try{let _0x34ed95=await this[_0x487160(0x770)](_0x30ee22);if(_0x34ed95){let _0xbd1166={'_id':_0x34ed95[_0x487160(0x33a)]['id'],'_fromMe':_0x34ed95[_0x487160(0x33a)][_0x487160(0x2fa)],'_remoteJid':_0x34ed95[_0x487160(0x33a)][_0x487160(0x6fa)]},_0x46a54c=(0x0,w[_0x487160(0x8e5)])(_0x34ed95[_0x487160(0x7a3)]),_0x3c45d0=(0x0,w['getContentType'])(_0x46a54c);_0x30b3c8[_0x487160(0x673)]['lastBlockId']=_0x26b61e['_id'][_0x487160(0x5e7)]();let {message_normalized:_0x464837}=this[_0x487160(0x79f)](_0x46a54c,_0x3c45d0,null);_0x30b3c8[_0x487160(0x673)]['lastSendMessage']=await _0x464837;let _0x55b5c8={'messageId':_0x34ed95['key']['id']},_0x54b3f4=_0x30b3c8['chatLog']['realVariables'];Object[_0x487160(0x6a6)](_0x54b3f4,_0xbd1166),_0x30b3c8[_0x487160(0x673)][_0x487160(0x25c)]=_0x54b3f4,this[_0x487160(0x92a)](_0x30b3c8,_0x26b61e,_0x55b5c8);}else{let _0x21e09d={'error':!0x0};this[_0x487160(0x92a)](_0x30b3c8,_0x26b61e,_0x21e09d),this[_0x487160(0x458)]['error'](this[_0x487160(0x5cf)]+'\x20('+this['instance'][_0x487160(0x828)]+_0x487160(0x645));}}catch(_0x575be6){let _0x4c84e5={'error':!0x0,'errorLog':_0x575be6[_0x487160(0x5e7)]()};this[_0x487160(0x92a)](_0x30b3c8,_0x26b61e,_0x4c84e5),this['logger'][_0x487160(0x70d)](this[_0x487160(0x5cf)]+'\x20('+this[_0x487160(0x7ed)][_0x487160(0x828)]+_0x487160(0x890)+(_0x575be6 instanceof Error?_0x575be6['message']:JSON[_0x487160(0x684)](_0x575be6,null,0x2)));}}async[a0_0x3f93a9(0x1e8)](_0x526612,_0xdb3303){const _0x59f444=a0_0x3f93a9;let _0x162741=_0x526612['remoteJid'];_0xdb3303[_0x59f444(0x316)][_0x59f444(0x6fa)]&&_0xdb3303[_0x59f444(0x316)][_0x59f444(0x6fa)][_0x59f444(0x382)]()!==''&&(_0x162741=_0xdb3303[_0x59f444(0x316)]['remoteJid'][_0x59f444(0x382)]()),this[_0x59f444(0x458)]['verbose'](this['instanceName']+'\x20('+this[_0x59f444(0x7ed)][_0x59f444(0x828)]+_0x59f444(0x4b2));let _0x23bb51={'number':_0x162741,'options':{'delay':_0xdb3303['uazapi']['delay']},'audioMessage':{'audio':_0xdb3303['uazapi']['audio']}};try{let _0x5c18fc=await this['audioWhatsapp'](_0x23bb51);if(_0x5c18fc){let _0x293e85={'_id':_0x5c18fc[_0x59f444(0x33a)]['id'],'_fromMe':_0x5c18fc[_0x59f444(0x33a)]['fromMe'],'_remoteJid':_0x5c18fc[_0x59f444(0x33a)]['remoteJid']},_0x2fd3f8=(0x0,w[_0x59f444(0x8e5)])(_0x5c18fc['message']),_0x29354b=(0x0,w[_0x59f444(0x244)])(_0x2fd3f8);_0x526612[_0x59f444(0x673)][_0x59f444(0x225)]=_0xdb3303[_0x59f444(0x7ad)][_0x59f444(0x5e7)]();let {message_normalized:_0x14ca7d}=this[_0x59f444(0x79f)](_0x2fd3f8,_0x29354b,null);_0x526612[_0x59f444(0x673)][_0x59f444(0x6f5)]=await _0x14ca7d;let _0xae0b27={'messageId':_0x5c18fc['key']['id']},_0x92773a=_0x526612[_0x59f444(0x673)]['realVariables'];Object[_0x59f444(0x6a6)](_0x92773a,_0x293e85),_0x526612[_0x59f444(0x673)][_0x59f444(0x25c)]=_0x92773a,this[_0x59f444(0x92a)](_0x526612,_0xdb3303,_0xae0b27);}else{let _0x128ba1={'error':!0x0};this[_0x59f444(0x92a)](_0x526612,_0xdb3303,_0x128ba1),this[_0x59f444(0x458)][_0x59f444(0x70d)](this['instanceName']+'\x20('+this['instance'][_0x59f444(0x828)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x38c0fe){let _0x18fafb={'error':!0x0,'errorLog':_0x38c0fe['toString']()};this['updateConversation'](_0x526612,_0xdb3303,_0x18fafb),this[_0x59f444(0x458)][_0x59f444(0x70d)](this[_0x59f444(0x5cf)]+'\x20('+this[_0x59f444(0x7ed)]['wuid']+_0x59f444(0x740)+(_0x38c0fe instanceof Error?_0x38c0fe[_0x59f444(0x7a3)]:JSON[_0x59f444(0x684)](_0x38c0fe,null,0x2)));}}async['uazapiSendContact'](_0x3b5043,_0x297a5d){const _0x8a40cd=a0_0x3f93a9;let _0x2c32ec=_0x3b5043[_0x8a40cd(0x6fa)];_0x297a5d['uazapi'][_0x8a40cd(0x6fa)]&&_0x297a5d[_0x8a40cd(0x316)][_0x8a40cd(0x6fa)]['trim']()!==''&&(_0x2c32ec=_0x297a5d[_0x8a40cd(0x316)][_0x8a40cd(0x6fa)][_0x8a40cd(0x382)]()),this[_0x8a40cd(0x458)][_0x8a40cd(0x5e2)](this[_0x8a40cd(0x5cf)]+'\x20('+this[_0x8a40cd(0x7ed)][_0x8a40cd(0x828)]+_0x8a40cd(0x74b));let _0x509f82={'number':_0x2c32ec,'options':{'delay':_0x297a5d[_0x8a40cd(0x316)]['delay']},'contactMessage':[{'fullName':_0x297a5d[_0x8a40cd(0x316)][_0x8a40cd(0x41e)],'phoneNumber':_0x297a5d[_0x8a40cd(0x316)][_0x8a40cd(0x8f7)]}]};try{let _0x10790b=await this[_0x8a40cd(0x3f5)](_0x509f82);if(_0x10790b){let _0x454ab1={'_id':_0x10790b[_0x8a40cd(0x33a)]['id'],'_fromMe':_0x10790b[_0x8a40cd(0x33a)]['fromMe'],'_remoteJid':_0x10790b[_0x8a40cd(0x33a)]['remoteJid']},_0x3243f2=(0x0,w[_0x8a40cd(0x8e5)])(_0x10790b['message']),_0x5da468=(0x0,w[_0x8a40cd(0x244)])(_0x3243f2);_0x3b5043[_0x8a40cd(0x673)][_0x8a40cd(0x225)]=_0x297a5d[_0x8a40cd(0x7ad)][_0x8a40cd(0x5e7)]();let {message_normalized:_0x3f392c}=this[_0x8a40cd(0x79f)](_0x3243f2,_0x5da468,null);_0x3b5043[_0x8a40cd(0x673)][_0x8a40cd(0x6f5)]=await _0x3f392c;let _0x3b5090={'messageId':_0x10790b['key']['id']},_0x5b3f65=_0x3b5043[_0x8a40cd(0x673)]['realVariables'];Object[_0x8a40cd(0x6a6)](_0x5b3f65,_0x454ab1),_0x3b5043[_0x8a40cd(0x673)]['realVariables']=_0x5b3f65,this[_0x8a40cd(0x92a)](_0x3b5043,_0x297a5d,_0x3b5090);}else{let _0x319d4c={'error':!0x0};this['updateConversation'](_0x3b5043,_0x297a5d,_0x319d4c),this[_0x8a40cd(0x458)][_0x8a40cd(0x70d)](this['instanceName']+'\x20('+this['instance'][_0x8a40cd(0x828)]+_0x8a40cd(0x873));}}catch(_0x6c0189){let _0x28ab75={'error':!0x0,'errorLog':_0x6c0189[_0x8a40cd(0x5e7)]()};this['updateConversation'](_0x3b5043,_0x297a5d,_0x28ab75),this[_0x8a40cd(0x458)][_0x8a40cd(0x70d)](this[_0x8a40cd(0x5cf)]+'\x20('+this[_0x8a40cd(0x7ed)][_0x8a40cd(0x828)]+_0x8a40cd(0x7c9)+(_0x6c0189 instanceof Error?_0x6c0189[_0x8a40cd(0x7a3)]:JSON[_0x8a40cd(0x684)](_0x6c0189,null,0x2)));}}['replaceVariablesInReplyOptions'](_0x26744b,_0x5b83d7){const _0x206708=a0_0x3f93a9;for(let _0xad68c6 of _0x26744b)_0xad68c6[_0x206708(0x5d4)]&&(_0xad68c6[_0x206708(0x5d4)]=this[_0x206708(0x2f5)](_0xad68c6['option'],_0x5b83d7)),_0xad68c6['optionDescription']&&(_0xad68c6[_0x206708(0x8aa)]=this[_0x206708(0x2f5)](_0xad68c6[_0x206708(0x8aa)],_0x5b83d7));}async[a0_0x3f93a9(0x440)](_0x36a3bc,_0x4bc4b3){const _0x10c5c7=a0_0x3f93a9;let _0x71e90e=_0x36a3bc[_0x10c5c7(0x6fa)];_0x4bc4b3[_0x10c5c7(0x316)]['remoteJid']&&_0x4bc4b3[_0x10c5c7(0x316)][_0x10c5c7(0x6fa)][_0x10c5c7(0x382)]()!==''&&(_0x71e90e=_0x4bc4b3[_0x10c5c7(0x316)]['remoteJid']['trim']()),this[_0x10c5c7(0x458)][_0x10c5c7(0x5e2)](this[_0x10c5c7(0x5cf)]+'\x20('+this[_0x10c5c7(0x7ed)][_0x10c5c7(0x828)]+_0x10c5c7(0x468));let _0x26fbab=_0x36a3bc[_0x10c5c7(0x445)][_0x10c5c7(0x697)](_0xd7c308=>_0xd7c308[_0x10c5c7(0x71b)]===_0x4bc4b3[_0x10c5c7(0x7ad)])[_0x10c5c7(0x469)]((_0x5082ed,_0x4901e9)=>_0x5082ed[_0x10c5c7(0x578)]-_0x4901e9['order']);this[_0x10c5c7(0x6f3)](_0x26fbab,_0x36a3bc[_0x10c5c7(0x673)][_0x10c5c7(0x25c)]);let _0x2cc0e2=_0x26fbab['map'](_0x3c4d5a=>_0x3c4d5a[_0x10c5c7(0x5d4)]),_0x5af590={'number':_0x71e90e,'menuMessage':{'type':_0x4bc4b3['uazapi'][_0x10c5c7(0x4ff)]||'poll','text':_0x4bc4b3[_0x10c5c7(0x316)]['text']||_0x4bc4b3[_0x10c5c7(0x316)]['name'],'footerText':_0x4bc4b3[_0x10c5c7(0x316)][_0x10c5c7(0x760)],'buttonText':_0x4bc4b3[_0x10c5c7(0x316)]['buttonText'],'selectableCount':0x1,'choices':_0x2cc0e2},'options':{'delay':_0x4bc4b3[_0x10c5c7(0x316)][_0x10c5c7(0x818)]}};try{let _0x2ed3ab=await this[_0x10c5c7(0x8b9)](_0x5af590);if(_0x2ed3ab){let _0x176463={'_id':_0x2ed3ab[_0x10c5c7(0x33a)]['id'],'_fromMe':_0x2ed3ab[_0x10c5c7(0x33a)][_0x10c5c7(0x2fa)],'_remoteJid':_0x2ed3ab[_0x10c5c7(0x33a)][_0x10c5c7(0x6fa)]};_0x4bc4b3[_0x10c5c7(0x316)][_0x10c5c7(0x5ad)]===!0x0&&(_0x36a3bc[_0x10c5c7(0x74f)]=_0x10c5c7(0x494),this['logger']['verbose'](this[_0x10c5c7(0x5cf)]+'\x20('+this[_0x10c5c7(0x7ed)]['wuid']+_0x10c5c7(0x845)+_0x36a3bc[_0x10c5c7(0x74f)])),this[_0x10c5c7(0x458)]['verbose'](this['instanceName']+'\x20('+this[_0x10c5c7(0x7ed)][_0x10c5c7(0x828)]+_0x10c5c7(0x2dc)+(_0x4bc4b3['uazapi']['name']||_0x4bc4b3[_0x10c5c7(0x316)]['text'])),_0x36a3bc['waitingMenu_id']=_0x2ed3ab[_0x10c5c7(0x33a)]['id'],_0x36a3bc[_0x10c5c7(0x731)]=_0x4bc4b3['uazapi'][_0x10c5c7(0x537)]||_0x4bc4b3[_0x10c5c7(0x316)][_0x10c5c7(0x5d0)],_0x36a3bc['waitingMenu_replyOptions']=_0x26fbab,_0x4bc4b3[_0x10c5c7(0x316)][_0x10c5c7(0x4ca)]&&(_0x36a3bc[_0x10c5c7(0x5eb)]=_0x4bc4b3['uazapi'][_0x10c5c7(0x4ca)]),this[_0x10c5c7(0x458)][_0x10c5c7(0x5e2)](this[_0x10c5c7(0x5cf)]+'\x20('+this[_0x10c5c7(0x7ed)][_0x10c5c7(0x828)]+_0x10c5c7(0x269)+_0x36a3bc[_0x10c5c7(0x731)]);let _0x549a1a=(0x0,w['normalizeMessageContent'])(_0x2ed3ab[_0x10c5c7(0x7a3)]),_0x1aa0fd=(0x0,w[_0x10c5c7(0x244)])(_0x549a1a);_0x36a3bc[_0x10c5c7(0x673)][_0x10c5c7(0x225)]=_0x4bc4b3[_0x10c5c7(0x7ad)][_0x10c5c7(0x5e7)]();let {message_normalized:_0x4449f2}=this[_0x10c5c7(0x79f)](_0x549a1a,_0x1aa0fd,null);_0x36a3bc[_0x10c5c7(0x673)][_0x10c5c7(0x6f5)]=await _0x4449f2;let _0x140eb7={'messageId':_0x2ed3ab[_0x10c5c7(0x33a)]['id']},_0x260554=_0x36a3bc[_0x10c5c7(0x673)][_0x10c5c7(0x25c)];Object[_0x10c5c7(0x6a6)](_0x260554,_0x176463),_0x36a3bc[_0x10c5c7(0x673)][_0x10c5c7(0x25c)]=_0x260554,this['updateConversation'](_0x36a3bc,_0x4bc4b3,_0x140eb7);}else{let _0x2fe2b4={'error':!0x0};this['updateConversation'](_0x36a3bc,_0x4bc4b3,_0x2fe2b4),this[_0x10c5c7(0x458)][_0x10c5c7(0x70d)](this[_0x10c5c7(0x5cf)]+'\x20('+this[_0x10c5c7(0x7ed)][_0x10c5c7(0x828)]+_0x10c5c7(0x877));}}catch(_0x24ca54){let _0x3574b5={'error':!0x0,'errorLog':_0x24ca54 instanceof Error?_0x24ca54[_0x10c5c7(0x7a3)]:JSON[_0x10c5c7(0x684)](_0x24ca54,null,0x2)};this[_0x10c5c7(0x92a)](_0x36a3bc,_0x4bc4b3,_0x3574b5),this['logger'][_0x10c5c7(0x70d)](this[_0x10c5c7(0x5cf)]+'\x20('+this[_0x10c5c7(0x7ed)][_0x10c5c7(0x828)]+_0x10c5c7(0x366)+(_0x24ca54 instanceof Error?_0x24ca54[_0x10c5c7(0x7a3)]:JSON['stringify'](_0x24ca54,null,0x2)));}}async['uazapiDeleteMessage'](_0x22d3a8,_0x103280){const _0x1f9a27=a0_0x3f93a9;this[_0x1f9a27(0x458)][_0x1f9a27(0x5e2)](this[_0x1f9a27(0x5cf)]+'\x20('+this[_0x1f9a27(0x7ed)][_0x1f9a27(0x828)]+_0x1f9a27(0x8d9));let _0x511c40=_0x22d3a8['chatLog'][_0x1f9a27(0x2d3)][_0x1f9a27(0x419)](_0x135e38=>_0x135e38['blockId'][_0x1f9a27(0x5e7)]()===_0x103280['uazapi'][_0x1f9a27(0x71b)]['toString']()),_0x1806bb={'id':_0x511c40[_0x1f9a27(0x35f)],'remoteJid':_0x511c40[_0x1f9a27(0x6fa)],'fromMe':_0x511c40['fromMe']};try{let _0x96e434=await this[_0x1f9a27(0x8d1)](_0x1806bb);if(_0x96e434){let _0xfd687=(0x0,w['normalizeMessageContent'])(_0x96e434[_0x1f9a27(0x7a3)]),_0x5dc746=(0x0,w[_0x1f9a27(0x244)])(_0xfd687);_0x22d3a8[_0x1f9a27(0x673)][_0x1f9a27(0x225)]=_0x103280[_0x1f9a27(0x7ad)][_0x1f9a27(0x5e7)]();let {message_normalized:_0x41cb01}=this[_0x1f9a27(0x79f)](_0xfd687,_0x5dc746,null);_0x22d3a8[_0x1f9a27(0x673)][_0x1f9a27(0x6f5)]=await _0x41cb01;let _0x4dd5d5={};this['updateConversation'](_0x22d3a8,_0x103280,_0x4dd5d5);}else{let _0x5d1e86={'error':!0x0};this[_0x1f9a27(0x92a)](_0x22d3a8,_0x103280,_0x5d1e86),this[_0x1f9a27(0x458)][_0x1f9a27(0x70d)](this[_0x1f9a27(0x5cf)]+'\x20('+this[_0x1f9a27(0x7ed)][_0x1f9a27(0x828)]+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x1f1f45){let _0x189b7b={'error':!0x0,'errorLog':_0x1f1f45 instanceof Error?_0x1f1f45['message']:JSON[_0x1f9a27(0x684)](_0x1f1f45,null,0x2)};this['updateConversation'](_0x22d3a8,_0x103280,_0x189b7b),this['logger'][_0x1f9a27(0x70d)](this['instanceName']+'\x20('+this[_0x1f9a27(0x7ed)][_0x1f9a27(0x828)]+_0x1f9a27(0x672)+(_0x1f1f45 instanceof Error?_0x1f1f45[_0x1f9a27(0x7a3)]:JSON[_0x1f9a27(0x684)](_0x1f1f45,null,0x2)));}}async[a0_0x3f93a9(0x720)](_0x3be790,_0x31cf9b){const _0x3b3fe3=a0_0x3f93a9;if(_0x3be790[_0x3b3fe3(0x537)]||(_0x3be790['name']=(0x0,Y['v4'])()),_0x31cf9b!==vi&&_0x3be790?.[_0x3b3fe3(0x5b4)])throw new m(_0x3b3fe3(0x75b));if('_id'in _0x3be790&&_0x3b3fe3(0x4a1)in _0x3be790)return this[_0x3b3fe3(0x5c8)](_0x3be790[_0x3b3fe3(0x4a1)],_0x3be790[_0x3b3fe3(0x7ad)]);this[_0x3b3fe3(0x458)][_0x3b3fe3(0x5e2)](this[_0x3b3fe3(0x5cf)]+'\x20('+this[_0x3b3fe3(0x7ed)]['wuid']+_0x3b3fe3(0x685));let _0x169c35=this[_0x3b3fe3(0x5f9)](_0x3be790['name']),_0x4c5534=new ge['Types'][(_0x3b3fe3(0x64e))](),_0xe70552={'_id':_0x4c5534,'default':!0x0,'title':_0x3b3fe3(0x661),'x':0x0,'y':0x0},_0x1e72b3={'_id':new ge[(_0x3b3fe3(0x2e1))][(_0x3b3fe3(0x64e))](),'order':0x1,'groupId':_0x4c5534[_0x3b3fe3(0x5e7)](),'type':_0x3b3fe3(0x1e6)},_0x18fcda=this[_0x3b3fe3(0x7ed)][_0x3b3fe3(0x828)],_0xd2a0bb={'_id':(0x0,Y['v4'])(),'owner':_0x18fcda,'name':_0x169c35,'whoCanEdit':[_0x18fcda],'whoCanUse':[_0x18fcda],'groups':[_0xe70552],'blocks':[_0x1e72b3],..._0x3be790};try{let _0x1cbce9=await this['repository'][_0x3b3fe3(0x3d3)][_0x3b3fe3(0x603)](_0xd2a0bb);return await this['synchronizeAndMapFlows'](),_0x1cbce9;}catch(_0x589f84){let _0x56361e=_0x3b3fe3(0x414),_0x42418a=_0x589f84 instanceof Error?_0x589f84['message']:typeof _0x589f84==_0x3b3fe3(0x894)?JSON[_0x3b3fe3(0x684)](_0x589f84):_0x589f84,_0x5798a0=_0x56361e+':\x20'+_0x42418a;throw this[_0x3b3fe3(0x458)]['error'](this['instanceName']+'\x20('+this[_0x3b3fe3(0x7ed)][_0x3b3fe3(0x828)]+_0x3b3fe3(0x432)+_0x5798a0),new m(_0x5798a0);}}async[a0_0x3f93a9(0x5c8)](_0x54f342,_0x511ee1){const _0x1bc02f=a0_0x3f93a9;try{this[_0x1bc02f(0x458)][_0x1bc02f(0x5e2)](this[_0x1bc02f(0x5cf)]+'\x20('+this[_0x1bc02f(0x7ed)][_0x1bc02f(0x828)]+'):\x20Criando\x20fluxo\x20compartilhado...');let _0x17856e=await this[_0x1bc02f(0x4a0)][_0x1bc02f(0x3d3)][_0x1bc02f(0x39a)]({'where':{'_id':_0x511ee1,'owner':_0x54f342}});if(!_0x17856e)throw new m('Nenhum\x20fluxo\x20correspondente\x20encontrado.');if(_0x17856e[_0x1bc02f(0x4ed)]===!0x1&&!_0x17856e[_0x1bc02f(0x5b4)])throw new m('Esse\x20fluxo\x20não\x20permite\x20importação.');let _0x12ff4a=new Set(_0x17856e['whoCanUse']??[]);_0x12ff4a['add'](this[_0x1bc02f(0x7ed)][_0x1bc02f(0x828)]);let _0x40d217=await this[_0x1bc02f(0x4a0)]['flow'][_0x1bc02f(0x349)](_0x511ee1,{..._0x17856e,'whoCanUse':Array[_0x1bc02f(0x7eb)](_0x12ff4a)});return await this[_0x1bc02f(0x21c)](),_0x40d217;}catch(_0x2f670c){let _0x4e0e4e=_0x1bc02f(0x756),_0x56dfa3=_0x2f670c instanceof Error?_0x2f670c['message']:typeof _0x2f670c=='object'?JSON[_0x1bc02f(0x684)](_0x2f670c):_0x2f670c,_0x4e6824=_0x4e0e4e+':\x20'+_0x56dfa3;throw this[_0x1bc02f(0x458)][_0x1bc02f(0x70d)](this[_0x1bc02f(0x5cf)]+'\x20('+this[_0x1bc02f(0x7ed)][_0x1bc02f(0x828)]+_0x1bc02f(0x432)+_0x4e6824),new m(_0x4e6824);}}[a0_0x3f93a9(0x5f9)](_0x2f65dd){const _0x5c5d9c=a0_0x3f93a9;let _0x12b4b9=_0x2f65dd,_0x47d207=0x1;for(;this['AutomateSystem']['flows'][_0x5c5d9c(0x3cc)](_0x292276=>_0x292276['name']===_0x12b4b9);)_0x47d207++,_0x12b4b9=_0x2f65dd+'\x20('+_0x47d207+')';return _0x12b4b9;}async[a0_0x3f93a9(0x6c7)](_0x12f688){const _0x29f77c=a0_0x3f93a9;try{if(this['logger'][_0x29f77c(0x5e2)](this[_0x29f77c(0x5cf)]+'\x20('+this[_0x29f77c(0x7ed)][_0x29f77c(0x828)]+_0x29f77c(0x46c)+_0x12f688[_0x29f77c(0x7ad)]+_0x29f77c(0x7ac)+_0x12f688['global']),!this[_0x29f77c(0x6d2)]['flows'][_0x29f77c(0x419)](_0x4ecb67=>_0x4ecb67['_id']===_0x12f688[_0x29f77c(0x7ad)]))throw this[_0x29f77c(0x458)][_0x29f77c(0x5e2)](this[_0x29f77c(0x5cf)]+'\x20('+this[_0x29f77c(0x7ed)]['wuid']+_0x29f77c(0x5f7)+_0x12f688['_id']+_0x29f77c(0x880)),new m(_0x29f77c(0x2e2));let _0x505a43=await this[_0x29f77c(0x4a0)][_0x29f77c(0x3d3)][_0x29f77c(0x39a)]({'where':{'_id':_0x12f688[_0x29f77c(0x7ad)]}});if(!_0x505a43)throw new m(_0x29f77c(0x8bc));if(this[_0x29f77c(0x7ed)][_0x29f77c(0x828)]===_0x505a43[_0x29f77c(0x4a1)]){this[_0x29f77c(0x458)]['verbose'](this[_0x29f77c(0x5cf)]+'\x20('+this['instance'][_0x29f77c(0x828)]+'):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27'+_0x12f688[_0x29f77c(0x7ad)]+_0x29f77c(0x542));let _0x3aa7bf=await this[_0x29f77c(0x4a0)]['flow'][_0x29f77c(0x250)]({'where':{'_id':_0x12f688[_0x29f77c(0x7ad)]}});return await this[_0x29f77c(0x21c)](),_0x3aa7bf;}return this['logger']['verbose'](this[_0x29f77c(0x5cf)]+'\x20('+this[_0x29f77c(0x7ed)][_0x29f77c(0x828)]+'):\x20Removendo\x20\x27'+this[_0x29f77c(0x7ed)][_0x29f77c(0x828)]+'\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27'+_0x12f688[_0x29f77c(0x7ad)]+_0x29f77c(0x74c)),_0x505a43[_0x29f77c(0x401)]=(_0x505a43['whoCanUse']??[])[_0x29f77c(0x697)](_0x3f2f47=>_0x3f2f47!==this[_0x29f77c(0x7ed)][_0x29f77c(0x828)]),_0x505a43[_0x29f77c(0x459)]=(_0x505a43[_0x29f77c(0x459)]??[])[_0x29f77c(0x697)](_0x266e41=>_0x266e41!==this[_0x29f77c(0x7ed)][_0x29f77c(0x828)]),_0x505a43[_0x29f77c(0x459)][_0x29f77c(0x40e)]===0x0&&_0x505a43['whoCanUse'][_0x29f77c(0x40e)]>0x0&&(_0x505a43[_0x29f77c(0x459)][_0x29f77c(0x6f2)](_0x505a43[_0x29f77c(0x401)][0x0]),this[_0x29f77c(0x458)][_0x29f77c(0x5e2)](this[_0x29f77c(0x5cf)]+'\x20('+this['instance'][_0x29f77c(0x828)]+_0x29f77c(0x2d1)+_0x505a43[_0x29f77c(0x401)][0x0]+_0x29f77c(0x63a)+_0x12f688[_0x29f77c(0x7ad)]+'\x27...')),await this[_0x29f77c(0x4a0)][_0x29f77c(0x3d3)][_0x29f77c(0x349)](_0x505a43['_id'],_0x505a43),await this[_0x29f77c(0x21c)](),{'message':'Fluxo\x20\x27'+_0x12f688[_0x29f77c(0x537)]+_0x29f77c(0x76d)};}catch(_0x52d8ca){return this[_0x29f77c(0x458)][_0x29f77c(0x70d)](this['instanceName']+'\x20('+this[_0x29f77c(0x7ed)]['wuid']+_0x29f77c(0x24a)+(_0x52d8ca instanceof Error?_0x52d8ca[_0x29f77c(0x7a3)]:JSON['stringify'](_0x52d8ca,null,0x2))),{'message':_0x29f77c(0x3d4)+(_0x52d8ca instanceof Error?_0x52d8ca[_0x29f77c(0x7a3)]:JSON['stringify'](_0x52d8ca,null,0x2))};}}async[a0_0x3f93a9(0x415)](_0x2ea9ae){const _0x22e196=a0_0x3f93a9;try{if(this[_0x22e196(0x458)]['info'](this[_0x22e196(0x5cf)]+'\x20('+this['instance'][_0x22e196(0x828)]+_0x22e196(0x695)+_0x2ea9ae),!this[_0x22e196(0x6d2)]&&(await this[_0x22e196(0x373)](),!this[_0x22e196(0x6d2)]))return null;let _0x31f2c0=await this['repository'][_0x22e196(0x3d3)][_0x22e196(0x39a)]({'where':{'_id':_0x2ea9ae}});if(!_0x31f2c0)throw new m(_0x22e196(0x5c3)+_0x2ea9ae+_0x22e196(0x64f));if(!(_0x31f2c0[_0x22e196(0x5b4)]||_0x31f2c0[_0x22e196(0x401)]?.[_0x22e196(0x8dc)](this['instance'][_0x22e196(0x828)])))throw new m(_0x22e196(0x4ba)+name+'\x27');_0x31f2c0['globalShow']&&!_0x31f2c0['whoCanUse']?.['includes'](this['instance'][_0x22e196(0x828)])&&(_0x31f2c0[_0x22e196(0x401)]=[..._0x31f2c0[_0x22e196(0x401)]??[],this['instance'][_0x22e196(0x828)]],await this[_0x22e196(0x4a0)][_0x22e196(0x3d3)][_0x22e196(0x349)](_0x31f2c0[_0x22e196(0x7ad)],_0x31f2c0),this[_0x22e196(0x21c)]());let _0x13d2e7=this['AutomateSystem']?.['customFields'][_0x22e196(0x3d6)](_0x3a4c01=>_0x3a4c01[_0x22e196(0x537)]),_0x140e1b=['nome','nomecompleto',_0x22e196(0x50c),_0x22e196(0x6cf),_0x22e196(0x74f),_0x22e196(0x706),_0x22e196(0x7e2),_0x22e196(0x2ec),_0x22e196(0x2ee),'telefone',_0x22e196(0x91e)];_0x31f2c0[_0x22e196(0x44a)]=_0x31f2c0[_0x22e196(0x44a)][_0x22e196(0x697)](_0x2d4880=>!(_0x2d4880[_0x22e196(0x879)]==='leadInfo'||_0x2d4880[_0x22e196(0x3c2)])),_0x140e1b[_0x22e196(0x3c9)](_0x1ee1a6=>{const _0xe953b6=_0x22e196;_0x31f2c0[_0xe953b6(0x44a)][_0xe953b6(0x6f2)]({'folder':_0xe953b6(0x3c2),'name':_0x1ee1a6,'value':'','doc':'','leadInfo':!0x0});}),_0x13d2e7[_0x22e196(0x3c9)](_0x225f80=>{const _0x15801b=_0x22e196;let _0xd45866=_0x31f2c0[_0x15801b(0x44a)]['findIndex'](_0x5ab935=>_0x5ab935[_0x15801b(0x537)]===_0x225f80);_0xd45866===-0x1?_0x31f2c0[_0x15801b(0x44a)][_0x15801b(0x6f2)]({'folder':'leadInfo','name':_0x225f80,'value':'','doc':'','leadInfo':!0x0}):(_0x31f2c0[_0x15801b(0x44a)][_0xd45866][_0x15801b(0x879)]=_0x15801b(0x3c2),_0x31f2c0[_0x15801b(0x44a)][_0xd45866]['leadInfo']=!0x0);}),_0x31f2c0[_0x22e196(0x793)]&&_0x31f2c0['blocks'][_0x22e196(0x40e)]>0x0&&_0x31f2c0[_0x22e196(0x793)]['forEach'](_0x11e6d=>{const _0x4bd6f3=_0x22e196;_0x11e6d[_0x4bd6f3(0x621)]&&_0x11e6d['next_groupId']&&_0x11e6d[_0x4bd6f3(0x621)]===_0x11e6d[_0x4bd6f3(0x733)]&&(_0x11e6d[_0x4bd6f3(0x733)]=null);});let _0x2dc3ee=await this[_0x22e196(0x4a0)][_0x22e196(0x3d3)][_0x22e196(0x349)](_0x31f2c0[_0x22e196(0x7ad)],_0x31f2c0);if(!_0x2dc3ee)throw new Error(_0x22e196(0x2d5));return _0x2dc3ee;}catch(_0x254331){let _0x415085=_0x22e196(0x8bb),_0x27a203=_0x254331 instanceof Error?_0x254331[_0x22e196(0x7a3)]:typeof _0x254331==_0x22e196(0x894)?JSON['stringify'](_0x254331):_0x254331,_0x3d48c8=_0x415085+':\x20'+_0x27a203;throw this[_0x22e196(0x458)][_0x22e196(0x70d)](this[_0x22e196(0x5cf)]+'\x20('+this[_0x22e196(0x7ed)][_0x22e196(0x828)]+_0x22e196(0x432)+_0x3d48c8),new m(_0x3d48c8);}}async[a0_0x3f93a9(0x737)](){const _0x23c4d4=a0_0x3f93a9;try{this[_0x23c4d4(0x458)][_0x23c4d4(0x5e2)](this[_0x23c4d4(0x5cf)]+'\x20('+this[_0x23c4d4(0x7ed)]['wuid']+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await this[_0x23c4d4(0x21c)]();let _0x5f07f5=await this[_0x23c4d4(0x4a0)][_0x23c4d4(0x3d3)][_0x23c4d4(0x735)]({'where':{'globalShow':!0x0}});return[...this[_0x23c4d4(0x6d2)]['flows'],..._0x5f07f5];}catch(_0x1b0770){return this[_0x23c4d4(0x458)][_0x23c4d4(0x70d)](this[_0x23c4d4(0x5cf)]+'\x20('+this[_0x23c4d4(0x7ed)]['wuid']+_0x23c4d4(0x84e)+(_0x1b0770 instanceof Error?_0x1b0770[_0x23c4d4(0x7a3)]:JSON[_0x23c4d4(0x684)](_0x1b0770,null,0x2))),{'message':_0x23c4d4(0x88b)+(_0x1b0770 instanceof Error?_0x1b0770[_0x23c4d4(0x7a3)]:String(_0x1b0770))};}}async[a0_0x3f93a9(0x909)](_0x434f0a,_0x4e6edc){const _0x5835ab=a0_0x3f93a9;try{this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x5835ab(0x7ed)][_0x5835ab(0x828)]+'):\x20Alterando\x20fluxo...');let _0x58ced7=this[_0x5835ab(0x6d2)][_0x5835ab(0x84f)][_0x5835ab(0x419)](_0x2786d2=>_0x2786d2['_id']===_0x434f0a[_0x5835ab(0x7ad)]);if(!_0x58ced7)throw this[_0x5835ab(0x458)][_0x5835ab(0x5e2)](this[_0x5835ab(0x5cf)]+'\x20('+this[_0x5835ab(0x7ed)][_0x5835ab(0x828)]+_0x5835ab(0x5f7)+_0x434f0a['_id']+'\x27\x20não\x20encontrado'),new m(_0x5835ab(0x2e2));let _0xfce167=await this[_0x5835ab(0x4a0)][_0x5835ab(0x3d3)][_0x5835ab(0x39a)]({'where':{'_id':_0x434f0a[_0x5835ab(0x7ad)]}});if(!_0xfce167||!_0xfce167[_0x5835ab(0x401)]?.[_0x5835ab(0x8dc)](this['instance'][_0x5835ab(0x828)]))throw this[_0x5835ab(0x458)]['error'](this[_0x5835ab(0x5cf)]+'\x20('+this[_0x5835ab(0x7ed)][_0x5835ab(0x828)]+_0x5835ab(0x767)+_0x434f0a[_0x5835ab(0x7ad)]+_0x5835ab(0x848)),new m('Flow\x20\x27'+_0x434f0a[_0x5835ab(0x7ad)]+_0x5835ab(0x848));let _0x361a93=this['AutomateSystem']['flows'][_0x5835ab(0x641)](_0x3af9f2=>_0x3af9f2[_0x5835ab(0x7ad)]===_0x58ced7['_id']);if(_0x361a93!==-0x1){let _0x45c769=this[_0x5835ab(0x6d2)][_0x5835ab(0x84f)][_0x361a93];if(_0x45c769[_0x5835ab(0x537)]=_0x434f0a['name']??_0x45c769[_0x5835ab(0x537)],_0x45c769['default']=_0x434f0a[_0x5835ab(0x73f)]??_0x45c769[_0x5835ab(0x73f)],_0x45c769[_0x5835ab(0x516)]=_0x434f0a[_0x5835ab(0x516)]??_0x45c769['testingWith'],_0x45c769[_0x5835ab(0x6ca)]=_0x434f0a['startCommandWord']??_0x45c769[_0x5835ab(0x6ca)],_0x45c769[_0x5835ab(0x357)]=_0x434f0a['minutesToClose']??_0x45c769[_0x5835ab(0x357)],_0x45c769[_0x5835ab(0x5d3)]=_0x434f0a['readMessages']??_0x45c769[_0x5835ab(0x5d3)],_0x434f0a['default']&&this[_0x5835ab(0x6d2)][_0x5835ab(0x84f)]['forEach']((_0x466eaf,_0x3a6601)=>{const _0x1b0f5c=_0x5835ab;_0x3a6601!==_0x361a93&&(_0x466eaf[_0x1b0f5c(0x73f)]=!0x1);}),this[_0x5835ab(0x6d2)][_0x5835ab(0x84f)][_0x361a93]=_0x45c769,!await this[_0x5835ab(0x4a0)]['automateSystem']['update']({'flows':this[_0x5835ab(0x6d2)][_0x5835ab(0x84f)]},this[_0x5835ab(0x7ed)][_0x5835ab(0x828)]))throw new m(_0x5835ab(0x50e));}let _0x20b73a=[_0x5835ab(0x20f),_0x5835ab(0x5ab),_0x5835ab(0x54e),_0x5835ab(0x510)];for(let _0x13a839 of _0x20b73a)delete _0x434f0a[_0x13a839];if(_0xfce167['whoCanEdit']?.['includes'](this['instance']['wuid'])||(_0x434f0a={'_id':_0x434f0a[_0x5835ab(0x7ad)]}),_0x4e6edc!==vi&&_0x434f0a?.[_0x5835ab(0x5b4)]&&!_0xfce167?.[_0x5835ab(0x5b4)])throw new m(_0x5835ab(0x608));let _0x2e9947=new Set(_0x434f0a[_0x5835ab(0x459)]??_0xfce167[_0x5835ab(0x459)]);_0x2e9947[_0x5835ab(0x84a)](_0xfce167[_0x5835ab(0x4a1)]);let _0x30fe73=new Set(_0x434f0a['whoCanUse']??_0xfce167[_0x5835ab(0x401)]??[]);_0x2e9947[_0x5835ab(0x3c9)](_0x5a3661=>_0x30fe73[_0x5835ab(0x84a)](_0x5a3661)),_0x30fe73['add'](_0xfce167[_0x5835ab(0x4a1)]),this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x5835ab(0x828)]+_0x5835ab(0x31a)+Array[_0x5835ab(0x7eb)](_0x2e9947)),this['logger'][_0x5835ab(0x5e2)](this[_0x5835ab(0x5cf)]+'\x20('+this['instance'][_0x5835ab(0x828)]+_0x5835ab(0x78b)+Array[_0x5835ab(0x7eb)](_0x30fe73));let _0x2bfa7=await this[_0x5835ab(0x8b6)](Array[_0x5835ab(0x7eb)](_0x30fe73)),_0x5af286=Array['from'](_0x2e9947)[_0x5835ab(0x697)](_0x192c4b=>_0x2bfa7['includes'](_0x192c4b)),_0x184d56=Array['from'](_0x30fe73)[_0x5835ab(0x697)](_0x7b593d=>_0x2bfa7[_0x5835ab(0x8dc)](_0x7b593d));this[_0x5835ab(0x458)]['verbose'](this[_0x5835ab(0x5cf)]+'\x20('+this[_0x5835ab(0x7ed)][_0x5835ab(0x828)]+_0x5835ab(0x7b8)+_0x5af286),this[_0x5835ab(0x458)][_0x5835ab(0x5e2)](this[_0x5835ab(0x5cf)]+'\x20('+this[_0x5835ab(0x7ed)][_0x5835ab(0x828)]+_0x5835ab(0x6eb)+_0x184d56);let _0x3615e9={..._0xfce167,..._0x434f0a,'whoCanEdit':_0x5af286,'whoCanUse':_0x184d56},_0x4ce3c8=await this['repository']['flow'][_0x5835ab(0x349)](_0xfce167[_0x5835ab(0x7ad)],_0x3615e9);return await this[_0x5835ab(0x21c)](),_0x4ce3c8;}catch(_0x2df8e9){let _0x1d27ef=_0x5835ab(0x2ef),_0x208bc9=_0x2df8e9 instanceof Error?_0x2df8e9[_0x5835ab(0x7a3)]:typeof _0x2df8e9==_0x5835ab(0x894)?JSON[_0x5835ab(0x684)](_0x2df8e9):_0x2df8e9,_0x33ecf5=_0x1d27ef+':\x20'+_0x208bc9;throw this[_0x5835ab(0x458)][_0x5835ab(0x70d)](this[_0x5835ab(0x5cf)]+'\x20('+this[_0x5835ab(0x7ed)][_0x5835ab(0x828)]+_0x5835ab(0x432)+_0x33ecf5),new m(_0x33ecf5);}}async[a0_0x3f93a9(0x8b6)](_0x5161b6){const _0x258975=a0_0x3f93a9;let _0xbf9145={'numbers':_0x5161b6};return(await this['whatsappNumber'](_0xbf9145))[_0x258975(0x697)](_0x8f1152=>_0x8f1152[_0x258975(0x2dd)])['map'](_0x1b7853=>_0x1b7853[_0x258975(0x6dc)])['map'](_0x4dd922=>this[_0x258975(0x25d)](_0x4dd922));}[a0_0x3f93a9(0x25d)](_0x262333){const _0x7c72f1=a0_0x3f93a9;let _0x5cfd52=_0x262333[_0x7c72f1(0x1cd)](/\d+/);return _0x5cfd52?_0x5cfd52[0x0]:'';}async[a0_0x3f93a9(0x34a)](_0x45132b){const _0xe184f7=a0_0x3f93a9;try{if(this['logger'][_0xe184f7(0x5e2)](this[_0xe184f7(0x5cf)]+'\x20('+this[_0xe184f7(0x7ed)]['wuid']+_0xe184f7(0x487)),!this[_0xe184f7(0x6d2)][_0xe184f7(0x84f)][_0xe184f7(0x419)](_0x554b8b=>_0x554b8b[_0xe184f7(0x7ad)]===_0x45132b['_id']))throw this[_0xe184f7(0x458)][_0xe184f7(0x5e2)](this[_0xe184f7(0x5cf)]+'\x20('+this['instance'][_0xe184f7(0x828)]+'):\x20Fluxo\x20\x27'+_0x45132b[_0xe184f7(0x7ad)]+_0xe184f7(0x880)),new m(_0xe184f7(0x2e2));let _0x560754=await this[_0xe184f7(0x4a0)]['flow']['findOne']({'where':{'_id':_0x45132b[_0xe184f7(0x7ad)]}});if(!_0x560754||!_0x560754[_0xe184f7(0x401)]?.[_0xe184f7(0x8dc)](this[_0xe184f7(0x7ed)]['wuid']))throw this[_0xe184f7(0x458)][_0xe184f7(0x70d)](this[_0xe184f7(0x5cf)]+'\x20('+this[_0xe184f7(0x7ed)][_0xe184f7(0x828)]+_0xe184f7(0x767)+_0x45132b['_id']+_0xe184f7(0x848)),new m('Flow\x20\x27'+_0x45132b['_id']+_0xe184f7(0x848));if(!_0x560754['whoCanEdit']?.['includes'](this[_0xe184f7(0x7ed)][_0xe184f7(0x828)]))throw new m(_0xe184f7(0x1cb));let {block:_0x2ef660}=_0x45132b;_0x2ef660?.[_0xe184f7(0x668)]?this['copyBlock'](_0x560754,_0x45132b):_0x2ef660?.[_0xe184f7(0x342)]?this['deleteBlock'](_0x560754,_0x45132b):_0x2ef660[_0xe184f7(0x7ad)]?await this['updateBlock'](_0x560754,_0x45132b):this[_0xe184f7(0x1f3)](_0x560754,_0x45132b);let _0x25f987=await this['repository'][_0xe184f7(0x3d3)][_0xe184f7(0x349)](_0x560754[_0xe184f7(0x7ad)],_0x560754);if(!_0x25f987)throw new Error(_0xe184f7(0x2d5));return _0x25f987;}catch(_0x507af7){this[_0xe184f7(0x1f7)](_0xe184f7(0x473)+_0x507af7['message']);}}async['copyBlock'](_0x107eff,_0x149f6f){const _0x4e1d94=a0_0x3f93a9;let _0x166a1d=_0x149f6f[_0x4e1d94(0x869)][_0x4e1d94(0x7ad)],_0x480e49=_0x107eff[_0x4e1d94(0x793)][_0x4e1d94(0x419)](_0x19ac80=>_0x19ac80[_0x4e1d94(0x7ad)][_0x4e1d94(0x5e7)]()===_0x166a1d);if(!_0x480e49){this[_0x4e1d94(0x458)]['error'](this[_0x4e1d94(0x5cf)]+'\x20('+this[_0x4e1d94(0x7ed)][_0x4e1d94(0x828)]+_0x4e1d94(0x260)+_0x166a1d+_0x4e1d94(0x7da));return;}this[_0x4e1d94(0x458)][_0x4e1d94(0x5e2)](this[_0x4e1d94(0x5cf)]+'\x20('+this[_0x4e1d94(0x7ed)][_0x4e1d94(0x828)]+'):\x20Bloco\x20original\x20para\x20cópia:\x20'+JSON[_0x4e1d94(0x684)](_0x480e49));let _0x11c02b=JSON['parse'](JSON[_0x4e1d94(0x684)](_0x480e49));_0x11c02b[_0x4e1d94(0x7ad)]=new ge[(_0x4e1d94(0x73f))][(_0x4e1d94(0x2e1))][(_0x4e1d94(0x64e))](),this[_0x4e1d94(0x458)][_0x4e1d94(0x5e2)](this[_0x4e1d94(0x5cf)]+'\x20('+this[_0x4e1d94(0x7ed)][_0x4e1d94(0x828)]+'):\x20Bloco\x20copiado:\x20'+JSON[_0x4e1d94(0x684)](_0x11c02b)),_0x107eff[_0x4e1d94(0x793)]['push'](_0x11c02b),this[_0x4e1d94(0x2c2)](_0x107eff[_0x4e1d94(0x793)],_0x11c02b[_0x4e1d94(0x621)]);}[a0_0x3f93a9(0x1f7)](_0x3d8537){const _0x2f5e67=a0_0x3f93a9;throw this[_0x2f5e67(0x458)]['error'](this[_0x2f5e67(0x5cf)]+'\x20('+this[_0x2f5e67(0x7ed)]['wuid']+'):\x20'+_0x3d8537),new m(_0x3d8537);}[a0_0x3f93a9(0x73b)](_0x38c585,_0xbfe22d){const _0x334c18=a0_0x3f93a9;let {block:_0x27c936}=_0xbfe22d;if(_0x27c936[_0x334c18(0x66e)]==='start'){this['throwAndLogError']('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x27c936['_id']){this[_0x334c18(0x1f7)]('blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco');return;}let _0xb9d49b=_0x38c585[_0x334c18(0x793)][_0x334c18(0x419)](_0x452452=>_0x452452[_0x334c18(0x7ad)]['toString']()===_0xbfe22d[_0x334c18(0x869)]['_id'][_0x334c18(0x5e7)]());if(!_0xb9d49b){this[_0x334c18(0x1f7)]('Bloco\x20com\x20ID\x20'+_0x27c936[_0x334c18(0x7ad)]+_0x334c18(0x34b));return;}_0x38c585[_0x334c18(0x793)]=_0x38c585[_0x334c18(0x793)][_0x334c18(0x697)](_0x4aeece=>_0x4aeece[_0x334c18(0x7ad)][_0x334c18(0x5e7)]()!==_0xbfe22d[_0x334c18(0x869)][_0x334c18(0x7ad)][_0x334c18(0x5e7)]()),_0x38c585['conditions']=_0x38c585[_0x334c18(0x3fe)][_0x334c18(0x697)](_0x2b2549=>_0x2b2549[_0x334c18(0x71b)]!==_0x27c936['_id'][_0x334c18(0x5e7)]()),_0x38c585[_0x334c18(0x33e)]=_0x38c585[_0x334c18(0x33e)][_0x334c18(0x697)](_0x22e01d=>_0x22e01d[_0x334c18(0x71b)]!==_0x27c936[_0x334c18(0x7ad)][_0x334c18(0x5e7)]()),_0x38c585[_0x334c18(0x445)]=_0x38c585['replyOptions'][_0x334c18(0x697)](_0x542190=>_0x542190[_0x334c18(0x71b)]!==_0x27c936[_0x334c18(0x7ad)][_0x334c18(0x5e7)]()),this[_0x334c18(0x2c2)](_0x38c585['blocks'],_0xb9d49b[_0x334c18(0x621)]);}async[a0_0x3f93a9(0x7fc)](_0x40d26f,_0x5b6020){const _0x11c941=a0_0x3f93a9;let _0x412cc6=_0x40d26f[_0x11c941(0x793)][_0x11c941(0x641)](_0x27e0c4=>_0x27e0c4['_id'][_0x11c941(0x5e7)]()===_0x5b6020[_0x11c941(0x869)][_0x11c941(0x7ad)][_0x11c941(0x5e7)]());if(this[_0x11c941(0x458)][_0x11c941(0x5e2)](this[_0x11c941(0x5cf)]+'\x20('+this[_0x11c941(0x7ed)][_0x11c941(0x828)]+_0x11c941(0x4e3)+_0x412cc6),_0x412cc6===-0x1){this[_0x11c941(0x458)][_0x11c941(0x5e2)]('Bloco\x20com\x20ID\x20'+_0x5b6020[_0x11c941(0x869)][_0x11c941(0x7ad)]+_0x11c941(0x657));return;}if(_0x40d26f['blocks'][_0x412cc6][_0x11c941(0x66e)]===_0x11c941(0x1e6)){let _0x32929f=Object[_0x11c941(0x1fa)](_0x5b6020[_0x11c941(0x869)]);if(_0x32929f[_0x11c941(0x40e)]>0x2||_0x32929f[_0x11c941(0x40e)]===0x2&&!_0x32929f[_0x11c941(0x8dc)](_0x11c941(0x733))){this['throwAndLogError']('Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão');return;}}let _0x163e48=_0x40d26f[_0x11c941(0x793)][_0x412cc6][_0x11c941(0x621)];for(let _0x334e79 in _0x5b6020[_0x11c941(0x869)])_0x5b6020[_0x11c941(0x869)][_0x11c941(0x4e1)](_0x334e79)&&(_0x40d26f['blocks'][_0x412cc6][_0x334e79]=_0x5b6020[_0x11c941(0x869)][_0x334e79]);if(this[_0x11c941(0x458)][_0x11c941(0x5e2)](this[_0x11c941(0x5cf)]+'\x20('+this[_0x11c941(0x7ed)]['wuid']+_0x11c941(0x676)+JSON[_0x11c941(0x684)](_0x40d26f[_0x11c941(0x793)][_0x412cc6])),_0x40d26f[_0x11c941(0x793)][_0x412cc6][_0x11c941(0x5f6)]&&'header'in _0x40d26f[_0x11c941(0x793)][_0x412cc6][_0x11c941(0x5f6)]){this[_0x11c941(0x458)][_0x11c941(0x5e2)](this[_0x11c941(0x5cf)]+'\x20('+this[_0x11c941(0x7ed)][_0x11c941(0x828)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x413ace=JSON['stringify'](_0x40d26f[_0x11c941(0x793)][_0x412cc6]['apirequest'][_0x11c941(0x854)],null,0x1);_0x413ace[_0x11c941(0x40e)]>0x2&&(_0x413ace=_0x413ace['substring'](0x1,_0x413ace[_0x11c941(0x40e)]-0x1)[_0x11c941(0x382)]()),_0x40d26f['blocks'][_0x412cc6][_0x11c941(0x5f6)][_0x11c941(0x430)]=_0x413ace;}if(_0x40d26f['blocks'][_0x412cc6][_0x11c941(0x5f6)]&&_0x11c941(0x77f)in _0x40d26f[_0x11c941(0x793)][_0x412cc6][_0x11c941(0x5f6)]&&!(_0x11c941(0x5d7)in _0x40d26f[_0x11c941(0x793)][_0x412cc6][_0x11c941(0x5f6)])){this[_0x11c941(0x458)][_0x11c941(0x5e2)](this[_0x11c941(0x5cf)]+'\x20('+this[_0x11c941(0x7ed)][_0x11c941(0x828)]+_0x11c941(0x886)),_0x40d26f[_0x11c941(0x793)][_0x412cc6][_0x11c941(0x5f6)][_0x11c941(0x2ff)]=!0x1;let _0x45a882=JSON[_0x11c941(0x684)](_0x40d26f[_0x11c941(0x793)][_0x412cc6]['apirequest']['body'],null,0x2);_0x40d26f[_0x11c941(0x793)][_0x412cc6][_0x11c941(0x5f6)][_0x11c941(0x5d7)]=_0x45a882;}if(_0x40d26f[_0x11c941(0x793)][_0x412cc6][_0x11c941(0x5f6)]&&_0x11c941(0x5d7)in _0x40d26f[_0x11c941(0x793)][_0x412cc6][_0x11c941(0x5f6)]){_0x40d26f[_0x11c941(0x793)][_0x412cc6][_0x11c941(0x5f6)][_0x11c941(0x2ff)]=!0x1;let _0x4c2d8e=_0x40d26f[_0x11c941(0x793)][_0x412cc6][_0x11c941(0x5f6)][_0x11c941(0x5d7)],_0x1945d9=this['beautifyWithPlaceholders'](_0x4c2d8e);_0x40d26f[_0x11c941(0x793)][_0x412cc6][_0x11c941(0x5f6)][_0x11c941(0x5d7)]=_0x1945d9['result'],_0x40d26f[_0x11c941(0x793)][_0x412cc6][_0x11c941(0x5f6)][_0x11c941(0x2ff)]=_0x1945d9[_0x11c941(0x70d)];}let _0x31ee82=_0x40d26f[_0x11c941(0x793)][_0x412cc6][_0x11c941(0x621)];_0x163e48!==_0x31ee82?(this['reorderBlocks'](_0x40d26f['blocks'],_0x163e48),this[_0x11c941(0x2c2)](_0x40d26f['blocks'],_0x31ee82)):this[_0x11c941(0x2c2)](_0x40d26f[_0x11c941(0x793)],_0x163e48);}[a0_0x3f93a9(0x57f)](_0x3810f1){const _0x2191b8=a0_0x3f93a9;let _0x2704e3='\u205f',_0x350316=!0x1,_0x2916ba='';for(let _0xa1ed07=0x0;_0xa1ed07<_0x3810f1[_0x2191b8(0x40e)];_0xa1ed07++){let _0xd3ff6=_0x3810f1[_0xa1ed07];_0xd3ff6==='\x22'&&(_0xa1ed07===0x0||_0x3810f1[_0xa1ed07-0x1]!=='\x5c')&&(_0x350316=!_0x350316),!(!_0x350316&&(_0xd3ff6==='\x0a'||_0xd3ff6==='\x20'||_0xd3ff6===_0x2704e3))&&(_0x2916ba+=_0xd3ff6);}let _0x4b428f={},_0x4bdd06=9876543210.1234,_0x2507b6=_0x2916ba[_0x2191b8(0x2a1)](/\{\{([^}]+)\}\}/g,_0x3437dc=>{let _0x27c5e2=_0x3437dc,_0x122b5c=''+_0x4bdd06;return _0x4b428f[_0x122b5c]=_0x27c5e2,_0x4bdd06+=0.0001,_0x122b5c;}),_0x1c9576='',_0x2d856f=!0x1;try{let _0x50b468=JSON['parse'](_0x2507b6);_0x1c9576=JSON[_0x2191b8(0x684)](_0x50b468,null,0x2),_0x1c9576=_0x1c9576['replace'](/\n( +)/g,(_0x1c8287,_0x59e3ee)=>{const _0x5c3736=_0x2191b8;let _0x509a93=_0x59e3ee[_0x5c3736(0x40e)];return'\x0a'+_0x2704e3[_0x5c3736(0x4d8)](_0x509a93*0x2);}),_0x1c9576=_0x1c9576[_0x2191b8(0x2a1)](/(\d{10,}\.\d+)/g,_0x319837=>_0x4b428f[_0x319837]||_0x319837);}catch(_0x2b891e){this[_0x2191b8(0x458)][_0x2191b8(0x70d)]('Error\x20parsing\x20JSON:'+_0x2b891e),_0x1c9576=_0x3810f1,_0x2d856f=!0x0;}return{'result':_0x1c9576,'error':_0x2d856f};}['addBlock'](_0x1d206d,_0xa7e059){const _0x505387=a0_0x3f93a9;if(_0xa7e059[_0x505387(0x869)][_0x505387(0x66e)]===_0x505387(0x1e6)){this['throwAndLogError'](_0x505387(0x7ee));return;}if(_0xa7e059[_0x505387(0x869)][_0x505387(0x5f6)]&&'header'in _0xa7e059[_0x505387(0x869)][_0x505387(0x5f6)]){this['logger']['verbose'](this[_0x505387(0x5cf)]+'\x20('+this[_0x505387(0x7ed)][_0x505387(0x828)]+_0x505387(0x29d));let _0x543545=JSON[_0x505387(0x684)](_0xa7e059[_0x505387(0x869)][_0x505387(0x5f6)][_0x505387(0x854)],null,0x1);_0x543545[_0x505387(0x40e)]>0x2&&(_0x543545=_0x543545['substring'](0x1,_0x543545[_0x505387(0x40e)]-0x1)['trim']()),_0xa7e059[_0x505387(0x869)][_0x505387(0x5f6)][_0x505387(0x430)]=_0x543545;}_0xa7e059['block']['apirequest']&&_0x505387(0x77f)in _0xa7e059[_0x505387(0x869)][_0x505387(0x5f6)]&&(this['logger'][_0x505387(0x5e2)](this[_0x505387(0x5cf)]+'\x20('+this[_0x505387(0x7ed)]['wuid']+_0x505387(0x886)),_0xa7e059['block']['apirequest'][_0x505387(0x5d7)]=JSON['stringify'](_0xa7e059['block'][_0x505387(0x5f6)]['body'],null,0x1)[_0x505387(0x382)]()),_0x1d206d['blocks'][_0x505387(0x6f2)](_0xa7e059[_0x505387(0x869)]),this[_0x505387(0x2c2)](_0x1d206d['blocks'],_0xa7e059['block']['groupId']);}[a0_0x3f93a9(0x2c2)](_0x90fbb0,_0x3055c1){const _0x35312a=a0_0x3f93a9;let _0x55c2eb=_0x90fbb0[_0x35312a(0x697)](_0x398d39=>_0x398d39['groupId']===_0x3055c1);_0x55c2eb[_0x35312a(0x469)]((_0x4b2647,_0x105d82)=>_0x4b2647['order']-_0x105d82['order']),_0x55c2eb[_0x35312a(0x3c9)]((_0x4a97a2,_0x48f6b6)=>_0x4a97a2[_0x35312a(0x578)]=_0x48f6b6+0x1);}async[a0_0x3f93a9(0x2d9)](_0x2142d3){const _0x12bb50=a0_0x3f93a9;try{if(this[_0x12bb50(0x458)][_0x12bb50(0x5e2)](this[_0x12bb50(0x5cf)]+'\x20('+this[_0x12bb50(0x7ed)][_0x12bb50(0x828)]+_0x12bb50(0x23a)),!_0x2142d3||!_0x2142d3['replyOption']){this[_0x12bb50(0x1f7)]('Data\x20inválida\x20fornecida');return;}if(!this[_0x12bb50(0x6d2)][_0x12bb50(0x84f)][_0x12bb50(0x419)](_0x24499a=>_0x24499a[_0x12bb50(0x7ad)]===_0x2142d3['_id']))throw this[_0x12bb50(0x458)][_0x12bb50(0x5e2)](this[_0x12bb50(0x5cf)]+'\x20('+this[_0x12bb50(0x7ed)]['wuid']+'):\x20Fluxo\x20\x27'+_0x2142d3[_0x12bb50(0x7ad)]+_0x12bb50(0x880)),new m(_0x12bb50(0x2e2));let _0x3842b1=await this[_0x12bb50(0x4a0)][_0x12bb50(0x3d3)][_0x12bb50(0x39a)]({'where':{'_id':_0x2142d3[_0x12bb50(0x7ad)]}});if(!_0x3842b1||!_0x3842b1[_0x12bb50(0x401)]?.['includes'](this['instance'][_0x12bb50(0x828)]))throw this[_0x12bb50(0x458)][_0x12bb50(0x70d)](this[_0x12bb50(0x5cf)]+'\x20('+this['instance'][_0x12bb50(0x828)]+'):\x20Flow\x20\x27'+_0x2142d3['_id']+_0x12bb50(0x848)),new m(_0x12bb50(0x727)+_0x2142d3[_0x12bb50(0x7ad)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x3842b1[_0x12bb50(0x459)]?.['includes'](this['instance'][_0x12bb50(0x828)]))throw new m(_0x12bb50(0x1cb));let {replyOption:_0x1d293}=_0x2142d3;_0x1d293?.[_0x12bb50(0x342)]?(this[_0x12bb50(0x44d)](_0x3842b1,_0x2142d3),this['reorderReplyOptions'](_0x3842b1[_0x12bb50(0x445)],_0x2142d3[_0x12bb50(0x4f7)]['blockId'])):_0x1d293['_id']?(await this['updateReplyOption'](_0x3842b1,_0x2142d3),this[_0x12bb50(0x6e3)](_0x3842b1['replyOptions'],_0x2142d3[_0x12bb50(0x4f7)][_0x12bb50(0x71b)])):(this[_0x12bb50(0x34c)](_0x3842b1,_0x2142d3),this[_0x12bb50(0x6e3)](_0x3842b1[_0x12bb50(0x445)],_0x2142d3[_0x12bb50(0x4f7)]['blockId']));let _0x308e8a=await this[_0x12bb50(0x4a0)][_0x12bb50(0x3d3)][_0x12bb50(0x349)](_0x3842b1[_0x12bb50(0x7ad)],_0x3842b1);if(!_0x308e8a)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x308e8a;}catch(_0x3691d3){this['throwAndLogError'](_0x12bb50(0x33f)+_0x3691d3);}}[a0_0x3f93a9(0x6e3)](_0x57e9fd,_0x179fe1){const _0x268015=a0_0x3f93a9;_0x57e9fd[_0x268015(0x3c9)](_0xb5fbd6=>{const _0x2d351a=_0x268015;_0xb5fbd6[_0x2d351a(0x71b)]===_0x179fe1&&_0xb5fbd6[_0x2d351a(0x578)]===void 0x0&&(_0xb5fbd6[_0x2d351a(0x578)]=0x270f);});let _0xf16b54=_0x57e9fd['filter'](_0x519f87=>_0x519f87[_0x268015(0x71b)]===_0x179fe1);_0xf16b54[_0x268015(0x469)]((_0x2d92db,_0x43912b)=>_0x2d92db[_0x268015(0x578)]-_0x43912b[_0x268015(0x578)]),_0xf16b54[_0x268015(0x3c9)]((_0x49ccf4,_0x8cc7e8)=>{const _0x2c08b7=_0x268015;_0x49ccf4[_0x2c08b7(0x578)]=_0x8cc7e8+0x1;}),_0x57e9fd[_0x268015(0x3c9)](_0x595855=>{const _0x14bf49=_0x268015;if(_0x595855['blockId']===_0x179fe1){let _0x5ee9c1=_0xf16b54[_0x14bf49(0x419)](_0x139483=>_0x139483['_id']&&_0x595855['_id']&&_0x139483[_0x14bf49(0x7ad)][_0x14bf49(0x5e7)]()===_0x595855['_id']['toString']());_0x5ee9c1&&(_0x595855[_0x14bf49(0x578)]=_0x5ee9c1[_0x14bf49(0x578)]);}});}[a0_0x3f93a9(0x44d)](_0x10570b,_0x235dc2){const _0x4efc9a=a0_0x3f93a9;let {replyOption:_0x1557e2}=_0x235dc2;if(!_0x1557e2[_0x4efc9a(0x7ad)]){this['throwAndLogError'](_0x4efc9a(0x23e));return;}if(!_0x10570b['replyOptions'][_0x4efc9a(0x419)](_0x312daf=>_0x312daf['_id'][_0x4efc9a(0x5e7)]()===_0x235dc2['replyOption'][_0x4efc9a(0x7ad)][_0x4efc9a(0x5e7)]())){this['throwAndLogError'](_0x4efc9a(0x935)+_0x1557e2['_id']+_0x4efc9a(0x34b));return;}_0x10570b[_0x4efc9a(0x445)]=_0x10570b[_0x4efc9a(0x445)][_0x4efc9a(0x697)](_0xd1e0c0=>_0xd1e0c0['_id'][_0x4efc9a(0x5e7)]()!==_0x235dc2['replyOption'][_0x4efc9a(0x7ad)][_0x4efc9a(0x5e7)]());}async[a0_0x3f93a9(0x769)](_0x387866,_0x380b28){const _0x3011e1=a0_0x3f93a9;let _0x1a4780=_0x387866['replyOptions'][_0x3011e1(0x641)](_0x132aa8=>_0x132aa8[_0x3011e1(0x7ad)]['toString']()===_0x380b28['replyOption'][_0x3011e1(0x7ad)][_0x3011e1(0x5e7)]());if(_0x1a4780===-0x1){this[_0x3011e1(0x1f7)]('ReplyOption\x20com\x20ID\x20'+_0x380b28[_0x3011e1(0x4f7)][_0x3011e1(0x7ad)]+_0x3011e1(0x657));return;}for(let _0x4271ce in _0x380b28[_0x3011e1(0x4f7)])_0x380b28[_0x3011e1(0x4f7)][_0x3011e1(0x4e1)](_0x4271ce)&&(_0x387866[_0x3011e1(0x445)][_0x1a4780][_0x4271ce]=_0x380b28[_0x3011e1(0x4f7)][_0x4271ce]);}[a0_0x3f93a9(0x34c)](_0x4e5086,_0xfd43bb){const _0x374782=a0_0x3f93a9;_0x4e5086[_0x374782(0x445)][_0x374782(0x6f2)](_0xfd43bb[_0x374782(0x4f7)]);}async[a0_0x3f93a9(0x2fe)](_0xf71ad2){const _0x57ed04=a0_0x3f93a9;this['logger']['verbose'](this[_0x57ed04(0x5cf)]+'\x20('+this['instance'][_0x57ed04(0x828)]+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20'+JSON['stringify'](_0xf71ad2,null,0x2));try{if(this[_0x57ed04(0x458)][_0x57ed04(0x5e2)](this['instanceName']+'\x20('+this[_0x57ed04(0x7ed)][_0x57ed04(0x828)]+_0x57ed04(0x8e6)),!this[_0x57ed04(0x6d2)][_0x57ed04(0x84f)]['find'](_0x495c9a=>_0x495c9a[_0x57ed04(0x7ad)]===_0xf71ad2[_0x57ed04(0x7ad)]))throw this[_0x57ed04(0x458)][_0x57ed04(0x5e2)](this['instanceName']+'\x20('+this['instance'][_0x57ed04(0x828)]+_0x57ed04(0x5f7)+_0xf71ad2[_0x57ed04(0x7ad)]+_0x57ed04(0x880)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x2ce1a9=await this['repository']['flow'][_0x57ed04(0x39a)]({'where':{'_id':_0xf71ad2[_0x57ed04(0x7ad)]}});if(!_0x2ce1a9||!_0x2ce1a9['whoCanUse']?.[_0x57ed04(0x8dc)](this[_0x57ed04(0x7ed)][_0x57ed04(0x828)]))throw this['logger'][_0x57ed04(0x70d)](this[_0x57ed04(0x5cf)]+'\x20('+this[_0x57ed04(0x7ed)]['wuid']+_0x57ed04(0x767)+_0xf71ad2[_0x57ed04(0x7ad)]+_0x57ed04(0x848)),new m(_0x57ed04(0x727)+_0xf71ad2[_0x57ed04(0x7ad)]+_0x57ed04(0x848));if(!_0x2ce1a9[_0x57ed04(0x459)]?.[_0x57ed04(0x8dc)](this[_0x57ed04(0x7ed)]['wuid']))throw new m(_0x57ed04(0x1cb));if(_0xf71ad2['group']&&_0xf71ad2[_0x57ed04(0x5fb)]?.[_0x57ed04(0x342)]===!0x0){if(this[_0x57ed04(0x458)]['verbose'](this[_0x57ed04(0x5cf)]+'\x20('+this[_0x57ed04(0x7ed)][_0x57ed04(0x828)]+_0x57ed04(0x8b2)),_0xf71ad2['group']['default']===!0x0)return{'message':_0x57ed04(0x594)};if(_0x2ce1a9['blocks'][_0x57ed04(0x3cc)](_0x35549d=>_0x35549d[_0x57ed04(0x621)][_0x57ed04(0x5e7)]()===_0xf71ad2['group'][_0x57ed04(0x7ad)]))return this[_0x57ed04(0x458)][_0x57ed04(0x5e2)](this[_0x57ed04(0x5cf)]+'\x20('+this[_0x57ed04(0x7ed)][_0x57ed04(0x828)]+_0x57ed04(0x3d7)),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x2ce1a9['groups']=_0x2ce1a9[_0x57ed04(0x680)][_0x57ed04(0x697)](_0x2602dd=>_0x2602dd[_0x57ed04(0x7ad)][_0x57ed04(0x5e7)]()!==_0xf71ad2['group'][_0x57ed04(0x7ad)]);}else{if(_0xf71ad2[_0x57ed04(0x5fb)]){if(_0xf71ad2[_0x57ed04(0x5fb)][_0x57ed04(0x73f)]===!0x0)return{'message':_0x57ed04(0x910)};if(_0xf71ad2[_0x57ed04(0x5fb)][_0x57ed04(0x7ad)]){let _0x11fbba=_0x2ce1a9[_0x57ed04(0x680)]['find'](_0x43cc8b=>_0x43cc8b[_0x57ed04(0x7ad)][_0x57ed04(0x5e7)]()===_0xf71ad2[_0x57ed04(0x5fb)][_0x57ed04(0x7ad)]);_0x11fbba&&(_0xf71ad2[_0x57ed04(0x5fb)]['x']<0x0&&(_0xf71ad2['group']['x']=0x0),_0xf71ad2[_0x57ed04(0x5fb)]['y']<0x0&&(_0xf71ad2['group']['y']=0x0),Object[_0x57ed04(0x6a6)](_0x11fbba,_0xf71ad2[_0x57ed04(0x5fb)]));}else _0x2ce1a9[_0x57ed04(0x680)][_0x57ed04(0x6f2)](_0xf71ad2[_0x57ed04(0x5fb)]);}}let _0x563ad0=await this[_0x57ed04(0x4a0)][_0x57ed04(0x3d3)][_0x57ed04(0x349)](_0x2ce1a9['_id'],_0x2ce1a9);if(!_0x563ad0)throw new Error(_0x57ed04(0x2d5));return _0x563ad0;}catch(_0x1324d1){let _0x4718ea=_0x57ed04(0x801),_0x117fdd=_0x1324d1 instanceof Error?_0x1324d1[_0x57ed04(0x7a3)]:typeof _0x1324d1==_0x57ed04(0x894)?JSON[_0x57ed04(0x684)](_0x1324d1):_0x1324d1,_0x5699e8=_0x4718ea+':\x20'+_0x117fdd;throw this['logger'][_0x57ed04(0x70d)](this[_0x57ed04(0x5cf)]+'\x20('+this[_0x57ed04(0x7ed)][_0x57ed04(0x828)]+_0x57ed04(0x432)+_0x5699e8),new m(_0x5699e8);}}async[a0_0x3f93a9(0x837)](_0x58d90e){const _0x496d3e=a0_0x3f93a9;try{if(this['logger'][_0x496d3e(0x5e2)](this[_0x496d3e(0x5cf)]+'\x20('+this[_0x496d3e(0x7ed)][_0x496d3e(0x828)]+'):\x20Editando\x20condição\x20do\x20fluxo...'),!this['AutomateSystem'][_0x496d3e(0x84f)]['find'](_0x840b6=>_0x840b6[_0x496d3e(0x7ad)]===_0x58d90e[_0x496d3e(0x7ad)]))throw this[_0x496d3e(0x458)][_0x496d3e(0x5e2)](this[_0x496d3e(0x5cf)]+'\x20('+this[_0x496d3e(0x7ed)]['wuid']+'):\x20Fluxo\x20\x27'+_0x58d90e['_id']+'\x27\x20não\x20encontrado'),new m(_0x496d3e(0x2e2));let _0x12e471=await this[_0x496d3e(0x4a0)][_0x496d3e(0x3d3)][_0x496d3e(0x39a)]({'where':{'_id':_0x58d90e[_0x496d3e(0x7ad)]}});if(!_0x12e471||!_0x12e471[_0x496d3e(0x401)]?.[_0x496d3e(0x8dc)](this[_0x496d3e(0x7ed)][_0x496d3e(0x828)]))throw this['logger'][_0x496d3e(0x70d)](this[_0x496d3e(0x5cf)]+'\x20('+this[_0x496d3e(0x7ed)][_0x496d3e(0x828)]+_0x496d3e(0x767)+_0x58d90e[_0x496d3e(0x7ad)]+_0x496d3e(0x848)),new m('Flow\x20\x27'+_0x58d90e[_0x496d3e(0x7ad)]+_0x496d3e(0x848));if(!_0x12e471[_0x496d3e(0x459)]?.['includes'](this[_0x496d3e(0x7ed)][_0x496d3e(0x828)]))throw new m(_0x496d3e(0x1cb));let _0x32b622=!0x1;if(_0x58d90e[_0x496d3e(0x666)]?.[_0x496d3e(0x342)]===!0x0)_0x12e471[_0x496d3e(0x3fe)]=_0x12e471[_0x496d3e(0x3fe)][_0x496d3e(0x697)](_0x459d9a=>_0x459d9a&&_0x58d90e[_0x496d3e(0x666)]&&_0x459d9a['_id']&&_0x58d90e[_0x496d3e(0x666)][_0x496d3e(0x7ad)]&&_0x459d9a[_0x496d3e(0x7ad)][_0x496d3e(0x5e7)]()!==_0x58d90e[_0x496d3e(0x666)][_0x496d3e(0x7ad)]['toString']()),_0x32b622=!0x0;else{let _0xb5ce99=_0x12e471[_0x496d3e(0x3fe)][_0x496d3e(0x419)](_0x54dbec=>_0x54dbec&&_0x58d90e['condition']&&_0x54dbec[_0x496d3e(0x7ad)]&&_0x58d90e[_0x496d3e(0x666)][_0x496d3e(0x7ad)]&&_0x54dbec['_id'][_0x496d3e(0x5e7)]()===_0x58d90e[_0x496d3e(0x666)][_0x496d3e(0x7ad)][_0x496d3e(0x5e7)]());_0xb5ce99?(_0x32b622=_0xb5ce99['order']!==_0x58d90e['condition'][_0x496d3e(0x578)],Object[_0x496d3e(0x6a6)](_0xb5ce99,_0x58d90e[_0x496d3e(0x666)])):(_0x12e471[_0x496d3e(0x3fe)]['push'](_0x58d90e[_0x496d3e(0x666)]),_0x32b622=!0x0);}if(_0x32b622){_0x12e471[_0x496d3e(0x3fe)][_0x496d3e(0x469)]((_0x3cbd6f,_0x1f48e9)=>_0x3cbd6f['order']>_0x1f48e9[_0x496d3e(0x578)]?0x1:_0x1f48e9[_0x496d3e(0x578)]>_0x3cbd6f[_0x496d3e(0x578)]?-0x1:0x0);for(let _0x3d17d8=0x0;_0x3d17d8<_0x12e471['conditions']['length'];_0x3d17d8++)_0x12e471[_0x496d3e(0x3fe)][_0x3d17d8]['order']=_0x3d17d8+0x1;_0x12e471[_0x496d3e(0x3fe)]['length']>0x0&&(_0x12e471[_0x496d3e(0x3fe)][0x0][_0x496d3e(0x75d)]=_0x496d3e(0x930));}let _0x1ec732=await this[_0x496d3e(0x4a0)][_0x496d3e(0x3d3)][_0x496d3e(0x349)](_0x12e471[_0x496d3e(0x7ad)],_0x12e471);if(!_0x1ec732)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x1ec732;}catch(_0x35be20){let _0x1134b0=_0x496d3e(0x3c0),_0x2579d4=_0x35be20 instanceof Error?_0x35be20[_0x496d3e(0x7a3)]:typeof _0x35be20=='object'?JSON['stringify'](_0x35be20):_0x35be20,_0x440932=_0x1134b0+':\x20'+_0x2579d4;throw this[_0x496d3e(0x458)][_0x496d3e(0x70d)](this[_0x496d3e(0x5cf)]+'\x20('+this[_0x496d3e(0x7ed)][_0x496d3e(0x828)]+'):\x20'+_0x440932),new m(_0x440932);}}async[a0_0x3f93a9(0x6f7)](_0x139789){const _0x5fd066=a0_0x3f93a9;try{if(this['logger'][_0x5fd066(0x5e2)](this[_0x5fd066(0x5cf)]+'\x20('+this['instance']['wuid']+_0x5fd066(0x2bc)),!this[_0x5fd066(0x6d2)][_0x5fd066(0x84f)][_0x5fd066(0x419)](_0x25a794=>_0x25a794[_0x5fd066(0x7ad)]===_0x139789[_0x5fd066(0x7ad)]))throw this[_0x5fd066(0x458)][_0x5fd066(0x5e2)](this[_0x5fd066(0x5cf)]+'\x20('+this[_0x5fd066(0x7ed)][_0x5fd066(0x828)]+_0x5fd066(0x5f7)+_0x139789[_0x5fd066(0x7ad)]+_0x5fd066(0x880)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x4cd981=await this['repository'][_0x5fd066(0x3d3)][_0x5fd066(0x39a)]({'where':{'_id':_0x139789['_id']}});if(!_0x4cd981||!_0x4cd981[_0x5fd066(0x401)]?.['includes'](this[_0x5fd066(0x7ed)][_0x5fd066(0x828)]))throw this[_0x5fd066(0x458)][_0x5fd066(0x70d)](this[_0x5fd066(0x5cf)]+'\x20('+this['instance']['wuid']+_0x5fd066(0x767)+_0x139789[_0x5fd066(0x7ad)]+_0x5fd066(0x848)),new m(_0x5fd066(0x727)+_0x139789['_id']+_0x5fd066(0x848));if(!_0x4cd981[_0x5fd066(0x459)]?.[_0x5fd066(0x8dc)](this[_0x5fd066(0x7ed)][_0x5fd066(0x828)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let _0x302fea=!0x1;if(_0x139789['varedit']?.[_0x5fd066(0x342)]===!0x0)_0x4cd981[_0x5fd066(0x33e)]=_0x4cd981[_0x5fd066(0x33e)][_0x5fd066(0x697)](_0x95de67=>_0x95de67&&_0x139789['varedit']&&_0x95de67['_id']&&_0x139789['varedit']['_id']&&_0x95de67[_0x5fd066(0x7ad)]['toString']()!==_0x139789[_0x5fd066(0x2d4)]['_id'][_0x5fd066(0x5e7)]()),_0x302fea=!0x0;else{let _0x1e4175=_0x4cd981[_0x5fd066(0x33e)][_0x5fd066(0x419)](_0x12b666=>_0x12b666&&_0x139789[_0x5fd066(0x2d4)]&&_0x12b666['_id']&&_0x139789[_0x5fd066(0x2d4)][_0x5fd066(0x7ad)]&&_0x12b666['_id']['toString']()===_0x139789[_0x5fd066(0x2d4)][_0x5fd066(0x7ad)][_0x5fd066(0x5e7)]());_0x1e4175?(_0x302fea=_0x1e4175[_0x5fd066(0x578)]!==_0x139789[_0x5fd066(0x2d4)]['order'],Object[_0x5fd066(0x6a6)](_0x1e4175,_0x139789[_0x5fd066(0x2d4)])):(_0x4cd981[_0x5fd066(0x33e)][_0x5fd066(0x6f2)](_0x139789[_0x5fd066(0x2d4)]),_0x302fea=!0x0);}if(_0x302fea){_0x4cd981['varedits']['sort']((_0x365da5,_0xceb4c7)=>_0x365da5[_0x5fd066(0x578)]>_0xceb4c7[_0x5fd066(0x578)]?0x1:_0xceb4c7[_0x5fd066(0x578)]>_0x365da5['order']?-0x1:0x0);for(let _0x2f6884=0x0;_0x2f6884<_0x4cd981[_0x5fd066(0x33e)]['length'];_0x2f6884++)_0x4cd981[_0x5fd066(0x33e)][_0x2f6884][_0x5fd066(0x578)]=_0x2f6884+0x1;}let _0x4ccd6c=await this[_0x5fd066(0x4a0)][_0x5fd066(0x3d3)]['updateOne'](_0x4cd981[_0x5fd066(0x7ad)],_0x4cd981);if(!_0x4ccd6c)throw new Error(_0x5fd066(0x2d5));return _0x4ccd6c;}catch(_0x257f35){let _0x5747d1=_0x5fd066(0x3c0),_0x59f40a=_0x257f35 instanceof Error?_0x257f35['message']:typeof _0x257f35==_0x5fd066(0x894)?JSON[_0x5fd066(0x684)](_0x257f35):_0x257f35,_0x476322=_0x5747d1+':\x20'+_0x59f40a;throw this[_0x5fd066(0x458)][_0x5fd066(0x70d)](this['instanceName']+'\x20('+this[_0x5fd066(0x7ed)]['wuid']+'):\x20'+_0x476322),new m(_0x476322);}}async[a0_0x3f93a9(0x7f6)](_0x5b8a5e){const _0x55079b=a0_0x3f93a9;try{if(this['logger'][_0x55079b(0x5e2)](this[_0x55079b(0x5cf)]+'\x20('+this['instance'][_0x55079b(0x828)]+_0x55079b(0x6bb)),!this[_0x55079b(0x6d2)]['flows']['find'](_0x2111fc=>_0x2111fc[_0x55079b(0x7ad)]===_0x5b8a5e[_0x55079b(0x7ad)]))throw this[_0x55079b(0x458)][_0x55079b(0x5e2)](this[_0x55079b(0x5cf)]+'\x20('+this[_0x55079b(0x7ed)][_0x55079b(0x828)]+_0x55079b(0x5f7)+_0x5b8a5e[_0x55079b(0x7ad)]+_0x55079b(0x880)),new m(_0x55079b(0x2e2));let _0x526f4b=await this[_0x55079b(0x4a0)][_0x55079b(0x3d3)][_0x55079b(0x39a)]({'where':{'_id':_0x5b8a5e[_0x55079b(0x7ad)]}});if(!_0x526f4b||!_0x526f4b[_0x55079b(0x401)]?.[_0x55079b(0x8dc)](this[_0x55079b(0x7ed)]['wuid']))throw this[_0x55079b(0x458)][_0x55079b(0x70d)](this[_0x55079b(0x5cf)]+'\x20('+this[_0x55079b(0x7ed)][_0x55079b(0x828)]+'):\x20Flow\x20\x27'+_0x5b8a5e['_id']+_0x55079b(0x848)),new m(_0x55079b(0x727)+_0x5b8a5e[_0x55079b(0x7ad)]+_0x55079b(0x848));if(!_0x526f4b['whoCanEdit']?.[_0x55079b(0x8dc)](this[_0x55079b(0x7ed)][_0x55079b(0x828)]))throw new m(_0x55079b(0x1cb));_0x5b8a5e[_0x55079b(0x491)]['name']=_0x5b8a5e['variable'][_0x55079b(0x537)][_0x55079b(0x382)](),_0x5b8a5e[_0x55079b(0x491)][_0x55079b(0x537)][_0x55079b(0x7aa)]('_')&&(_0x5b8a5e[_0x55079b(0x491)][_0x55079b(0x537)]=_0x5b8a5e[_0x55079b(0x491)][_0x55079b(0x537)]['substring'](0x1)),_0x5b8a5e['variable']['name']=_0x5b8a5e[_0x55079b(0x491)]['name']['trim']();let _0x5e4b96=_0x526f4b[_0x55079b(0x44a)][_0x55079b(0x419)](_0x549409=>_0x549409['name']===_0x5b8a5e[_0x55079b(0x491)][_0x55079b(0x537)]);if(_0x5e4b96?.['leadInfo']===!0x0)throw new Error(_0x55079b(0x5b2));if(_0x5b8a5e[_0x55079b(0x491)]?.[_0x55079b(0x342)]===!0x0){if(!_0x5e4b96)return{'message':'Variável\x20não\x20encontrada!'};_0x526f4b[_0x55079b(0x44a)]=_0x526f4b[_0x55079b(0x44a)][_0x55079b(0x697)](_0x5606e3=>_0x5606e3[_0x55079b(0x537)]!==_0x5b8a5e[_0x55079b(0x491)][_0x55079b(0x537)]);}else _0x5e4b96?Object['assign'](_0x5e4b96,_0x5b8a5e[_0x55079b(0x491)]):_0x526f4b['variables']['push'](_0x5b8a5e['variable']);let _0x2998c1=await this[_0x55079b(0x4a0)][_0x55079b(0x3d3)][_0x55079b(0x349)](_0x526f4b[_0x55079b(0x7ad)],_0x526f4b);if(!_0x2998c1)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x2998c1;}catch(_0x58da1b){let _0x7983a1='Erro\x20ao\x20editar\x20variável\x20do\x20fluxo',_0x1eaf08=_0x58da1b instanceof Error?_0x58da1b[_0x55079b(0x7a3)]:typeof _0x58da1b=='object'?JSON[_0x55079b(0x684)](_0x58da1b):_0x58da1b,_0x3c7b28=_0x7983a1+':\x20'+_0x1eaf08;throw this[_0x55079b(0x458)][_0x55079b(0x70d)](this[_0x55079b(0x5cf)]+'\x20('+this['instance'][_0x55079b(0x828)]+_0x55079b(0x432)+_0x3c7b28),new m(_0x3c7b28);}}async['startFlow'](_0x3a5a4b){const _0x188874=a0_0x3f93a9;let _0x4c3b31=null;try{if(!this['AutomateSystem']?.[_0x188874(0x8db)][_0x188874(0x7c7)])throw new m('Fluxos\x20não\x20estão\x20ativados');this['logger'][_0x188874(0x5e2)](this[_0x188874(0x5cf)]+'\x20('+this[_0x188874(0x7ed)][_0x188874(0x828)]+_0x188874(0x916));let _0x421c62=(await this[_0x188874(0x8eb)]({'numbers':[_0x3a5a4b[_0x188874(0x6fa)]]}))[0x0];if(!_0x421c62[_0x188874(0x2dd)]&&!(0x0,w[_0x188874(0x532)])(_0x421c62[_0x188874(0x6dc)])&&!_0x421c62['jid'][_0x188874(0x8dc)]('@broadcast'))throw _0x4c3b31=JSON[_0x188874(0x684)](_0x421c62,null,0x2),new m(_0x421c62);let _0x56c11b;if(_0x3a5a4b[_0x188874(0x537)]['length']===0x24&&/^[0-9a-fA-F-]{36}$/[_0x188874(0x3ef)](_0x3a5a4b[_0x188874(0x537)])?_0x56c11b=this[_0x188874(0x6d2)][_0x188874(0x84f)]['find'](_0xa6449=>_0xa6449['_id']===_0x3a5a4b[_0x188874(0x537)]):_0x56c11b=this[_0x188874(0x6d2)]['flows'][_0x188874(0x419)](_0xbd12c1=>_0xbd12c1['name']===_0x3a5a4b['name']),!_0x56c11b)throw this[_0x188874(0x458)][_0x188874(0x5e2)](this[_0x188874(0x5cf)]+'\x20('+this['instance'][_0x188874(0x828)]+_0x188874(0x5f7)+_0x3a5a4b['name']+_0x188874(0x880)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0xb91421=await this[_0x188874(0x4a0)][_0x188874(0x3d3)]['findOne']({'where':{'_id':_0x56c11b[_0x188874(0x7ad)]}});if(!_0xb91421||!_0xb91421['whoCanUse']?.['includes'](this[_0x188874(0x7ed)][_0x188874(0x828)]))throw this[_0x188874(0x458)]['error'](this[_0x188874(0x5cf)]+'\x20('+this[_0x188874(0x7ed)][_0x188874(0x828)]+'):\x20Flow\x20\x27'+_0x56c11b['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),_0x4c3b31=_0x188874(0x727)+_0x56c11b['_id']+_0x188874(0x848),new m(_0x4c3b31);let _0x1555de=await this[_0x188874(0x470)](_0xb91421,_0x421c62[_0x188874(0x6dc)],_0x3a5a4b[_0x188874(0x4d7)]);if(_0x1555de){this[_0x188874(0x458)]['verbose'](this[_0x188874(0x5cf)]+'\x20('+this[_0x188874(0x7ed)]['wuid']+_0x188874(0x1da));let _0x1168c8=await this[_0x188874(0x8d6)](_0x1555de);return _0x1168c8&&await this[_0x188874(0x6a0)](_0x1555de,_0x1168c8),{'message':_0x188874(0x1dc)+_0x3a5a4b['remoteJid']};}}catch(_0xf6db6){if(this[_0x188874(0x458)][_0x188874(0x70d)](this[_0x188874(0x5cf)]+'\x20('+this[_0x188874(0x7ed)]['wuid']+_0x188874(0x21b)+(_0xf6db6 instanceof Error?_0xf6db6[_0x188874(0x7a3)]:JSON['stringify'](_0xf6db6,null,0x2))),_0x4c3b31=_0xf6db6 instanceof Error?_0xf6db6[_0x188874(0x7a3)]:JSON[_0x188874(0x684)](_0xf6db6,null,0x2),_0x4c3b31)throw new m(_0x188874(0x1e1)+_0x4c3b31);}}async['startFlowWebhook'](_0x4d5da4,_0x44f24b,_0x49d4f8){const _0x77c74c=a0_0x3f93a9;let _0x10f3e5=null;try{if(!this[_0x77c74c(0x6d2)]?.[_0x77c74c(0x8db)][_0x77c74c(0x7c7)])throw new m(_0x77c74c(0x21a));if(this[_0x77c74c(0x458)][_0x77c74c(0x5e2)](this[_0x77c74c(0x5cf)]+'\x20('+this[_0x77c74c(0x7ed)][_0x77c74c(0x828)]+'):\x20Iniciando\x20bot...'),_0x44f24b){let _0x387c97=(await this[_0x77c74c(0x8eb)]({'numbers':[_0x44f24b]}))[0x0];if(!_0x387c97[_0x77c74c(0x2dd)]&&!(0x0,w[_0x77c74c(0x532)])(_0x387c97['jid'])&&!_0x387c97[_0x77c74c(0x6dc)][_0x77c74c(0x8dc)](_0x77c74c(0x52e)))throw _0x10f3e5=JSON['stringify'](_0x387c97,null,0x2),new m(_0x387c97);_0x44f24b=_0x387c97['jid'];}else _0x44f24b||(_0x44f24b=(0x0,Y['v4'])());let _0x386803=await this['repository'][_0x77c74c(0x3d3)][_0x77c74c(0x39a)]({'where':{'_id':_0x4d5da4}});if(!_0x386803||!_0x386803['whoCanUse']?.[_0x77c74c(0x8dc)](this['instance'][_0x77c74c(0x828)]))throw this[_0x77c74c(0x458)][_0x77c74c(0x70d)](this['instanceName']+'\x20('+this[_0x77c74c(0x7ed)]['wuid']+'):\x20Flow\x20\x27'+_0x4d5da4+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x77c74c(0x727)+_0x4d5da4+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x32a662=await this['createConversationforStartFlow'](_0x386803,_0x44f24b,null);if(_0x32a662){this[_0x77c74c(0x458)][_0x77c74c(0x5e2)](this[_0x77c74c(0x5cf)]+'\x20('+this[_0x77c74c(0x7ed)][_0x77c74c(0x828)]+_0x77c74c(0x5ea));let _0x190639;if(_0x49d4f8){let _0x49cc7f=_0x32a662[_0x77c74c(0x673)][_0x77c74c(0x25c)],_0x1732bc=this[_0x77c74c(0x408)](_0x49d4f8);Object[_0x77c74c(0x6a6)](_0x49cc7f,_0x1732bc),_0x32a662[_0x77c74c(0x673)]['realVariables']=_0x49cc7f,_0x190639={'error':!0x1,'apiResponse':_0x49d4f8};}let _0x44117f=await this['NextBlock'](_0x32a662);return _0x44117f&&await this[_0x77c74c(0x6a0)](_0x32a662,_0x44117f),{'message':'Flow\x20iniciado'};}}catch(_0x28aebe){if(this[_0x77c74c(0x458)]['error'](this['instanceName']+'\x20('+this[_0x77c74c(0x7ed)][_0x77c74c(0x828)]+_0x77c74c(0x21b)+(_0x28aebe instanceof Error?_0x28aebe[_0x77c74c(0x7a3)]:JSON[_0x77c74c(0x684)](_0x28aebe,null,0x2))),_0x10f3e5=_0x28aebe instanceof Error?_0x28aebe[_0x77c74c(0x7a3)]:JSON[_0x77c74c(0x684)](_0x28aebe,null,0x2),_0x10f3e5)throw new m(_0x77c74c(0x1e1)+_0x10f3e5);}}async[a0_0x3f93a9(0x29c)](_0x41e9c1){const _0x1bd2b2=a0_0x3f93a9;try{let _0x121d02={'remoteJid':_0x41e9c1,'status':'open'},_0x31fee0={'status':_0x1bd2b2(0x456)},_0x2798a8=await this[_0x1bd2b2(0x4a0)][_0x1bd2b2(0x6e0)][_0x1bd2b2(0x34e)](_0x121d02,_0x31fee0,this[_0x1bd2b2(0x7ed)]['wuid']);return this[_0x1bd2b2(0x458)][_0x1bd2b2(0x5e2)](this[_0x1bd2b2(0x5cf)]+'\x20('+this[_0x1bd2b2(0x7ed)][_0x1bd2b2(0x828)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.'),_0x2798a8;}catch(_0xfcc6d8){throw this[_0x1bd2b2(0x458)][_0x1bd2b2(0x70d)](this[_0x1bd2b2(0x5cf)]+'\x20('+this['instance'][_0x1bd2b2(0x828)]+_0x1bd2b2(0x302)+_0xfcc6d8['message']),_0xfcc6d8;}}async[a0_0x3f93a9(0x470)](_0x355ad0,_0x4a924a,_0x1bc30c){const _0x3718f7=a0_0x3f93a9;this[_0x3718f7(0x458)][_0x3718f7(0x5e2)](this[_0x3718f7(0x5cf)]+'\x20('+this[_0x3718f7(0x7ed)][_0x3718f7(0x828)]+_0x3718f7(0x3e3)),await this[_0x3718f7(0x29c)](_0x4a924a);try{let _0x2fa5a5=require(_0x3718f7(0x7a9))[_0x3718f7(0x64e)],_0x2371d4=Date[_0x3718f7(0x5a4)](),_0x130501='start',_0x315de4={},_0x5b9abe={},_0x25f448=this['AutomateSystem'][_0x3718f7(0x84f)]['find'](_0x1989e8=>_0x1989e8['_id']===_0x355ad0[_0x3718f7(0x7ad)]?.[_0x3718f7(0x5e7)]()),_0xc32209=_0x25f448?.[_0x3718f7(0x357)]??_0x355ad0[_0x3718f7(0x357)]??0x0,_0x2cfda1=_0x25f448?.[_0x3718f7(0x5d3)]??_0x355ad0[_0x3718f7(0x5d3)]??!0x1,_0x287b43={'flowId':_0x355ad0[_0x3718f7(0x7ad)],..._0x355ad0,'chatLog':null},_0x2a4833=await this['variablesToObject'](_0x287b43['variables']),_0x597b82=await this[_0x3718f7(0x624)](_0x4a924a),_0x812397={..._0x2a4833,..._0x597b82,'_remoteJid':_0x4a924a},_0x4f59a5={'lastReceivedMessage':_0x315de4,'lastSendMessage':_0x5b9abe,'lastBlockId':_0x130501,'lastCondition':!0x0,'realVariables':_0x812397};_0x287b43['chatLog']=_0x4f59a5,_0x287b43[_0x3718f7(0x673)][_0x3718f7(0x25c)]={..._0x812397,..._0x1bc30c},delete _0x287b43[_0x3718f7(0x7ad)],_0x287b43[_0x3718f7(0x7ad)]=new _0x2fa5a5(),_0x287b43['lastInteraction']=_0x2371d4,_0x287b43[_0x3718f7(0x74f)]=_0x3718f7(0x4f2),_0x287b43['remoteJid']=_0x4a924a,_0x287b43[_0x3718f7(0x357)]=_0xc32209,_0x287b43['readMessages']=_0x2cfda1,_0x287b43[_0x3718f7(0x7ad)]=_0x355ad0[_0x3718f7(0x7ad)];let _0x454305=await this[_0x3718f7(0x4a0)][_0x3718f7(0x6e0)][_0x3718f7(0x349)](_0x287b43[_0x3718f7(0x7ad)],_0x287b43,this[_0x3718f7(0x7ed)]['wuid']);return this[_0x3718f7(0x458)][_0x3718f7(0x5e2)](this[_0x3718f7(0x5cf)]+'\x20('+this[_0x3718f7(0x7ed)][_0x3718f7(0x828)]+_0x3718f7(0x796)),_0x454305?_0x287b43:null;}catch(_0x34953b){let _0x11dc2d='Erro\x20ao\x20copiar\x20o\x20documento',_0x3aa942=_0x34953b instanceof Error?_0x34953b['message']:typeof _0x34953b=='object'?JSON[_0x3718f7(0x684)](_0x34953b):_0x34953b,_0x5a640d=_0x11dc2d+':\x20'+_0x3aa942;throw this[_0x3718f7(0x458)][_0x3718f7(0x70d)](this[_0x3718f7(0x5cf)]+'\x20('+this[_0x3718f7(0x7ed)]['wuid']+_0x3718f7(0x432)+_0x5a640d),new m(_0x5a640d);}}async[a0_0x3f93a9(0x92d)](_0x4f8753){const _0x12d6a5=a0_0x3f93a9;try{this[_0x12d6a5(0x458)][_0x12d6a5(0x5e2)](this[_0x12d6a5(0x5cf)]+'\x20('+this[_0x12d6a5(0x7ed)][_0x12d6a5(0x828)]+'):\x20Buscando\x20conversa...'),this[_0x12d6a5(0x458)]['verbose'](this[_0x12d6a5(0x5cf)]+'\x20('+this['instance'][_0x12d6a5(0x828)]+_0x12d6a5(0x535)+_0x4f8753);let _0x179aac={'where':{'_id':_0x4f8753}};return await this[_0x12d6a5(0x4a0)][_0x12d6a5(0x6e0)][_0x12d6a5(0x39a)](_0x179aac,this[_0x12d6a5(0x7ed)][_0x12d6a5(0x828)]);}catch(_0x5bcb79){let _0x4f0221=_0x12d6a5(0x3cb),_0x3d5f1a=_0x5bcb79 instanceof Error?_0x5bcb79[_0x12d6a5(0x7a3)]:typeof _0x5bcb79==_0x12d6a5(0x894)?JSON[_0x12d6a5(0x684)](_0x5bcb79):_0x5bcb79,_0x5b4d88=_0x4f0221+':\x20'+_0x3d5f1a;throw this[_0x12d6a5(0x458)]['error'](this[_0x12d6a5(0x5cf)]+'\x20('+this[_0x12d6a5(0x7ed)][_0x12d6a5(0x828)]+_0x12d6a5(0x432)+_0x5b4d88),new m(_0x5b4d88);}}async[a0_0x3f93a9(0x6e2)](_0x2393e6){const _0x1d88f2=a0_0x3f93a9;try{return this[_0x1d88f2(0x458)][_0x1d88f2(0x5e2)](this[_0x1d88f2(0x5cf)]+'\x20('+this[_0x1d88f2(0x7ed)][_0x1d88f2(0x828)]+_0x1d88f2(0x410)),await this['repository'][_0x1d88f2(0x6e0)][_0x1d88f2(0x419)](_0x2393e6,this[_0x1d88f2(0x7ed)][_0x1d88f2(0x828)]);}catch(_0x52b5c7){let _0x3b06cf=_0x1d88f2(0x888),_0x72394a=_0x52b5c7 instanceof Error?_0x52b5c7['message']:typeof _0x52b5c7==_0x1d88f2(0x894)?JSON[_0x1d88f2(0x684)](_0x52b5c7):_0x52b5c7,_0x1de8bd=_0x3b06cf+':\x20'+_0x72394a;throw this[_0x1d88f2(0x458)][_0x1d88f2(0x70d)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1d88f2(0x432)+_0x1de8bd),new m(_0x1de8bd);}}async['deleteConversation'](_0x474bca){const _0x13e3d2=a0_0x3f93a9;try{return this['logger'][_0x13e3d2(0x5e2)](this[_0x13e3d2(0x5cf)]+'\x20('+this[_0x13e3d2(0x7ed)][_0x13e3d2(0x828)]+'):\x20Deletando\x20conversa...'),this['logger'][_0x13e3d2(0x5e2)](this[_0x13e3d2(0x5cf)]+'\x20('+this[_0x13e3d2(0x7ed)][_0x13e3d2(0x828)]+'):\x20Query\x20params:'+_0x474bca),(await this['repository'][_0x13e3d2(0x6e0)]['deleteOne']({'where':{'_id':_0x474bca['_id']}},this[_0x13e3d2(0x7ed)][_0x13e3d2(0x828)]))['deletedCount']===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':_0x13e3d2(0x259)};}catch(_0x3541a5){let _0x2e0e87=_0x13e3d2(0x3db),_0x200e70=_0x3541a5 instanceof Error?_0x3541a5['message']:typeof _0x3541a5=='object'?JSON[_0x13e3d2(0x684)](_0x3541a5):_0x3541a5,_0x8fcb2a=_0x2e0e87+':\x20'+_0x200e70;throw this['logger'][_0x13e3d2(0x70d)](this['instanceName']+'\x20('+this[_0x13e3d2(0x7ed)][_0x13e3d2(0x828)]+_0x13e3d2(0x432)+_0x8fcb2a),new m(_0x8fcb2a);}}async['editConversation'](_0x390f06){const _0x5e7fa7=a0_0x3f93a9;try{let {_id:_0x3307cb,chatLog:_0xf185e5,status:_0xea1057}=_0x390f06;if(!_0x3307cb)return{'message':'O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.'};let _0xeef128={};if(_0xea1057!==void 0x0&&(_0xeef128[_0x5e7fa7(0x74f)]=_0xea1057),Object[_0x5e7fa7(0x1fa)](_0xeef128)[_0x5e7fa7(0x40e)]===0x0)return{'message':_0x5e7fa7(0x534)};let _0x2e3a12=await this[_0x5e7fa7(0x4a0)][_0x5e7fa7(0x6e0)]['updateOne'](_0x3307cb,_0xeef128,this[_0x5e7fa7(0x7ed)][_0x5e7fa7(0x828)]);return _0x2e3a12||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0x5d900b){let _0x576d0c=_0x5e7fa7(0x313),_0x3acf75=_0x5d900b instanceof Error?_0x5d900b[_0x5e7fa7(0x7a3)]:typeof _0x5d900b==_0x5e7fa7(0x894)?JSON['stringify'](_0x5d900b):_0x5d900b,_0x275a25=_0x576d0c+':\x20'+_0x3acf75;throw this['logger']['error'](this[_0x5e7fa7(0x5cf)]+'\x20('+this[_0x5e7fa7(0x7ed)][_0x5e7fa7(0x828)]+'):\x20'+_0x275a25),new m(_0x275a25);}}async[a0_0x3f93a9(0x368)](_0x4021ee){const _0x3e04bb=a0_0x3f93a9;try{_0x4021ee[_0x3e04bb(0x7ad)]=this[_0x3e04bb(0x583)](_0x4021ee['_id']);let _0x1dcf69=await this[_0x3e04bb(0x4a0)][_0x3e04bb(0x3bd)]['findOne']({'where':{'_id':_0x4021ee['_id']}},this[_0x3e04bb(0x7ed)]['wuid']);if(!_0x1dcf69)throw new m(_0x3e04bb(0x34d));let {_id:_0x568c0d,leadInfo:_0x1b4e58}=_0x4021ee;if(!_0x568c0d)throw new Error(_0x3e04bb(0x53e));if(_0x4021ee[_0x3e04bb(0x342)]==='all')return await this[_0x3e04bb(0x5cb)](_0x4021ee[_0x3e04bb(0x7ad)]),await this[_0x3e04bb(0x4a0)]['chat']['delete']({'where':{'_id':_0x4021ee[_0x3e04bb(0x7ad)]}},this[_0x3e04bb(0x7ed)][_0x3e04bb(0x828)]),await this['repository'][_0x3e04bb(0x7a3)][_0x3e04bb(0x342)]({'where':{'key':{'remoteJid':_0x4021ee['_id']}}},this[_0x3e04bb(0x7ed)][_0x3e04bb(0x828)]),_0x4021ee=await this['repository'][_0x3e04bb(0x3bd)][_0x3e04bb(0x349)]({'where':{'_id':_0x4021ee[_0x3e04bb(0x7ad)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance']['wuid']),F(this[_0x3e04bb(0x5cf)],_0x3e04bb(0x2f8),{'chat':_0x4021ee}),{'message':_0x3e04bb(0x21e)};if(_0x4021ee[_0x3e04bb(0x342)]===_0x3e04bb(0x2d8))return await this[_0x3e04bb(0x4a0)][_0x3e04bb(0x7a3)][_0x3e04bb(0x342)]({'where':{'key':{'remoteJid':_0x4021ee['_id']}}},this[_0x3e04bb(0x7ed)]['wuid']),_0x4021ee=await this[_0x3e04bb(0x4a0)][_0x3e04bb(0x3bd)]['updateOne']({'where':{'_id':_0x4021ee[_0x3e04bb(0x7ad)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance']['wuid']),F(this[_0x3e04bb(0x5cf)],'chats',{'chat':_0x4021ee}),{'message':'Mensagens\x20deletadas\x20com\x20sucesso.'};let _0x18c25f=(_0x48bf1c,_0x5bc76f,_0x3dbcc5)=>{_0x48bf1c&&_0x3dbcc5['forEach'](_0x411ec7=>{const _0x119180=a0_0x104e;_0x48bf1c[_0x411ec7]!==void 0x0&&(_0x5bc76f[_0x119180(0x50b)+_0x411ec7]=_0x48bf1c[_0x411ec7]);});},_0x13f847={};if(_0x3e04bb(0x8bd)in _0x4021ee&&(this[_0x3e04bb(0x458)][_0x3e04bb(0x5e2)](this['instanceName']+'\x20('+this[_0x3e04bb(0x7ed)][_0x3e04bb(0x828)]+_0x3e04bb(0x5aa)+_0x4021ee['_id']),_0x4021ee[_0x3e04bb(0x8bd)]=_0x4021ee[_0x3e04bb(0x8bd)]===0x0?null:-0x1,await this[_0x3e04bb(0x2e8)][_0x3e04bb(0x816)]({'mute':_0x4021ee[_0x3e04bb(0x8bd)]},_0x4021ee[_0x3e04bb(0x7ad)]),_0x13f847[_0x3e04bb(0x8bd)]=Number(_0x4021ee[_0x3e04bb(0x8bd)])),_0x1b4e58&&(_0x18c25f(_0x1b4e58,_0x13f847,[_0x3e04bb(0x7e5),_0x3e04bb(0x8b4),_0x3e04bb(0x50c),_0x3e04bb(0x6cf),_0x3e04bb(0x74f),'notas',_0x3e04bb(0x2ec),_0x3e04bb(0x91e),'responsavelid',_0x3e04bb(0x2ee),_0x3e04bb(0x7a0)]),Array[_0x3e04bb(0x84c)](_0x1b4e58[_0x3e04bb(0x8fa)])&&(_0x13f847[_0x3e04bb(0x48d)]=_0x1b4e58[_0x3e04bb(0x8fa)]['map'](_0x3b3919=>({'_id':_0x3b3919['_id'],'value':_0x3b3919[_0x3e04bb(0x2f0)]}))),_0x4021ee[_0x3e04bb(0x3c2)][_0x3e04bb(0x2ee)]!==void 0x0)){let _0x38e0b3=await this[_0x3e04bb(0x4a0)][_0x3e04bb(0x462)][_0x3e04bb(0x419)]({'where':{}},this[_0x3e04bb(0x7ed)][_0x3e04bb(0x828)]),_0x2f109e=new Set(_0x4021ee[_0x3e04bb(0x3c2)][_0x3e04bb(0x2ee)]||[]),_0x160826=new Set(_0x4021ee['leadInfo'][_0x3e04bb(0x2ee)]),_0x1abd24=new Set(_0x38e0b3[_0x3e04bb(0x3d6)](_0x45e9e=>_0x45e9e['_id'])),_0x22d3c0=[..._0x160826][_0x3e04bb(0x697)](_0x40b184=>!_0x2f109e[_0x3e04bb(0x887)](_0x40b184)&&_0x1abd24[_0x3e04bb(0x887)](_0x40b184)),_0x1720fd=[..._0x2f109e][_0x3e04bb(0x697)](_0x4057f1=>!_0x160826['has'](_0x4057f1));if(_0x13f847[_0x3e04bb(0x30d)]=[..._0x2f109e],_0x1dcf69&&!_0x1dcf69['imported']){for(let _0x41e823 of _0x22d3c0)await this[_0x3e04bb(0x43a)](_0x41e823,_0x4021ee['_id']),_0x2f109e['add'](_0x41e823);for(let _0xc797a0 of _0x1720fd)await this[_0x3e04bb(0x4a2)](_0xc797a0,_0x4021ee[_0x3e04bb(0x7ad)]),_0x2f109e[_0x3e04bb(0x342)](_0xc797a0);}}if(_0x4021ee[_0x3e04bb(0x925)]!==void 0x0&&(_0x13f847[_0x3e04bb(0x925)]=Number(_0x4021ee[_0x3e04bb(0x925)])),Object[_0x3e04bb(0x1fa)](_0x13f847)['length']===0x0)throw new Error(_0x3e04bb(0x534));let _0x28abe8=await this['repository'][_0x3e04bb(0x3bd)][_0x3e04bb(0x349)]({'where':{'_id':_0x4021ee[_0x3e04bb(0x7ad)]}},_0x13f847,this['instance'][_0x3e04bb(0x828)]);return _0x28abe8&&F(this[_0x3e04bb(0x5cf)],'chats',{'chat':_0x28abe8}),_0x28abe8?(this[_0x3e04bb(0x458)][_0x3e04bb(0x5e2)](this[_0x3e04bb(0x5cf)]+'\x20('+this['instance'][_0x3e04bb(0x828)]+'):\x20'+JSON['stringify'](_0x28abe8,null,0x2)),_0x28abe8):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0xd41315){let _0x27915d=_0x3e04bb(0x4d2),_0x4ca182=_0xd41315 instanceof Error?_0xd41315['message']:typeof _0xd41315==_0x3e04bb(0x894)?JSON[_0x3e04bb(0x684)](_0xd41315):_0xd41315,_0x475aa2=_0x27915d+':\x20'+_0x4ca182;throw this[_0x3e04bb(0x458)][_0x3e04bb(0x70d)](this[_0x3e04bb(0x5cf)]+'\x20('+this[_0x3e04bb(0x7ed)][_0x3e04bb(0x828)]+_0x3e04bb(0x432)+_0x475aa2),new m(_0x475aa2);}}async[a0_0x3f93a9(0x43a)](_0xcec223,_0x1a579b){const _0xa70d77=a0_0x3f93a9;try{await this[_0xa70d77(0x2e8)][_0xa70d77(0x7d9)](_0x1a579b,_0xcec223),this[_0xa70d77(0x458)][_0xa70d77(0x907)](this['instanceName']+'\x20('+this[_0xa70d77(0x7ed)][_0xa70d77(0x828)]+_0xa70d77(0x683)+_0xcec223+'\x20adicionado\x20ao\x20chat\x20'+_0x1a579b+_0xa70d77(0x5c6));}catch(_0x13182f){this[_0xa70d77(0x458)][_0xa70d77(0x70d)]('Erro\x20ao\x20adicionar\x20label\x20'+_0xcec223+_0xa70d77(0x4f4)+_0x1a579b+':\x20'+_0x13182f);}}async[a0_0x3f93a9(0x4a2)](_0x56ed92,_0x44b82c){const _0x1af83d=a0_0x3f93a9;try{await this['client'][_0x1af83d(0x396)](_0x44b82c,_0x56ed92),this[_0x1af83d(0x458)]['info'](this[_0x1af83d(0x5cf)]+'\x20('+this[_0x1af83d(0x7ed)]['wuid']+_0x1af83d(0x683)+_0x56ed92+_0x1af83d(0x336)+_0x44b82c+_0x1af83d(0x5c6));}catch(_0xedaf61){this['logger'][_0x1af83d(0x70d)](_0x1af83d(0x751)+_0x56ed92+'\x20do\x20chat\x20'+_0x44b82c+':\x20'+_0xedaf61);}}async[a0_0x3f93a9(0x474)](_0x49a75b){const _0x2eee73=a0_0x3f93a9;try{let _0x598ebf=await this[_0x2eee73(0x4a0)]['automateSystem']['findOrCreate'](this[_0x2eee73(0x7ed)][_0x2eee73(0x828)]),_0x2b27f2=_0x49a75b[_0x2eee73(0x7ad)]?_0x598ebf[_0x2eee73(0x47b)][_0x2eee73(0x641)](_0x4fc186=>_0x4fc186[_0x2eee73(0x7ad)]===_0x49a75b['_id']):-0x1;if(_0x49a75b['delete']&&_0x2b27f2>-0x1)_0x598ebf['agents'][_0x2eee73(0x610)](_0x2b27f2,0x1);else{if(_0x2b27f2>-0x1){let _0x3656a0=_0x598ebf[_0x2eee73(0x47b)][_0x2b27f2];_0x49a75b['fone']&&(_0x3656a0['fone']=_0x49a75b[_0x2eee73(0x222)]),_0x49a75b[_0x2eee73(0x537)]&&(_0x3656a0[_0x2eee73(0x537)]=_0x49a75b[_0x2eee73(0x537)]),_0x49a75b[_0x2eee73(0x50c)]&&(_0x3656a0['email']=_0x49a75b[_0x2eee73(0x50c)]),_0x49a75b[_0x2eee73(0x903)]&&(_0x3656a0['role']=_0x49a75b['role']);}else _0x598ebf[_0x2eee73(0x47b)]['push']({'_id':_0x49a75b[_0x2eee73(0x7ad)]||new ge['default']['Types'][(_0x2eee73(0x64e))]()['toString'](),'fone':_0x49a75b[_0x2eee73(0x222)],'name':_0x49a75b[_0x2eee73(0x537)],'email':_0x49a75b[_0x2eee73(0x50c)],'role':_0x49a75b[_0x2eee73(0x903)]});}let _0x4084b6={'agents':_0x598ebf['agents']},_0x2bc151=await this[_0x2eee73(0x4a0)][_0x2eee73(0x54d)][_0x2eee73(0x2df)](_0x4084b6,this[_0x2eee73(0x7ed)][_0x2eee73(0x828)]);return this[_0x2eee73(0x6d2)]=_0x2bc151,this[_0x2eee73(0x458)][_0x2eee73(0x5e2)](this[_0x2eee73(0x5cf)]+'\x20('+this[_0x2eee73(0x7ed)][_0x2eee73(0x828)]+_0x2eee73(0x361)),this[_0x2eee73(0x458)][_0x2eee73(0x5e2)](this[_0x2eee73(0x5cf)]+'\x20('+this[_0x2eee73(0x7ed)][_0x2eee73(0x828)]+_0x2eee73(0x432)+this[_0x2eee73(0x6d2)]),_0x2bc151;}catch(_0x30ba96){let _0x2f1288=_0x2eee73(0x441),_0x46421e=_0x30ba96 instanceof Error?_0x30ba96[_0x2eee73(0x7a3)]:typeof _0x30ba96==_0x2eee73(0x894)?JSON[_0x2eee73(0x684)](_0x30ba96):_0x30ba96,_0x5aa167=_0x2f1288+':\x20'+_0x46421e;throw this[_0x2eee73(0x458)][_0x2eee73(0x70d)](this[_0x2eee73(0x5cf)]+'\x20('+this[_0x2eee73(0x7ed)][_0x2eee73(0x828)]+_0x2eee73(0x432)+_0x5aa167),new m(_0x5aa167);}}async[a0_0x3f93a9(0x1d9)](_0x3d5d6b){const _0x58b2c2=a0_0x3f93a9;try{let _0x13ec4c=await this['repository'][_0x58b2c2(0x54d)][_0x58b2c2(0x279)](this[_0x58b2c2(0x7ed)][_0x58b2c2(0x828)]),_0x5c3399=_0x3d5d6b['_id']?_0x13ec4c[_0x58b2c2(0x8fa)]['findIndex'](_0x4b7425=>_0x4b7425[_0x58b2c2(0x7ad)]===_0x3d5d6b[_0x58b2c2(0x7ad)]):-0x1,_0x401cc5=!0x1,_0x4ba69d=_0x13ec4c[_0x58b2c2(0x8fa)][_0x58b2c2(0x3cc)](_0x233628=>_0x233628[_0x58b2c2(0x578)]===_0x3d5d6b[_0x58b2c2(0x578)]);if(_0x3d5d6b[_0x58b2c2(0x342)]&&_0x5c3399>-0x1)_0x13ec4c[_0x58b2c2(0x8fa)][_0x58b2c2(0x610)](_0x5c3399,0x1),_0x401cc5=!0x0;else{if(_0x5c3399>-0x1){if(_0x13ec4c[_0x58b2c2(0x8fa)][_0x58b2c2(0x3cc)](_0x40b7c0=>_0x40b7c0[_0x58b2c2(0x537)]===_0x3d5d6b['name']&&_0x40b7c0['_id']!==_0x3d5d6b['_id']))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');let _0x19d261=_0x13ec4c['customFields'][_0x5c3399];_0x3d5d6b[_0x58b2c2(0x578)]&&(_0x4ba69d||!Number[_0x58b2c2(0x233)](_0x3d5d6b[_0x58b2c2(0x578)]))&&(_0x19d261['order']=_0x3d5d6b[_0x58b2c2(0x578)],_0x401cc5=!0x0),_0x3d5d6b[_0x58b2c2(0x537)]&&(_0x19d261['name']=_0x3d5d6b[_0x58b2c2(0x537)]);}else{if(_0x13ec4c['customFields'][_0x58b2c2(0x3cc)](_0x1b71fd=>_0x1b71fd[_0x58b2c2(0x537)]===_0x3d5d6b[_0x58b2c2(0x537)]&&_0x1b71fd[_0x58b2c2(0x7ad)]!==_0x3d5d6b[_0x58b2c2(0x7ad)]))throw new Error(_0x58b2c2(0x229));_0x13ec4c['customFields'][_0x58b2c2(0x6f2)]({'_id':_0x3d5d6b['_id']||new ge['default']['Types'][(_0x58b2c2(0x64e))]()[_0x58b2c2(0x5e7)](),'order':_0x3d5d6b[_0x58b2c2(0x578)],'name':_0x3d5d6b['name']}),_0x401cc5=!0x0;}}if(_0x401cc5){_0x13ec4c['customFields'][_0x58b2c2(0x469)]((_0x11b627,_0x3d7c36)=>_0x11b627[_0x58b2c2(0x578)]>_0x3d7c36[_0x58b2c2(0x578)]?0x1:_0x3d7c36['order']>_0x11b627[_0x58b2c2(0x578)]?-0x1:0x0);for(let _0x3bb39e=0x0;_0x3bb39e<_0x13ec4c['customFields'][_0x58b2c2(0x40e)];_0x3bb39e++)_0x13ec4c[_0x58b2c2(0x8fa)][_0x3bb39e][_0x58b2c2(0x578)]=_0x3bb39e+0x1;}let _0x31abe7=await this[_0x58b2c2(0x4a0)]['automateSystem'][_0x58b2c2(0x2df)](_0x13ec4c,this['instance']['wuid']);return this[_0x58b2c2(0x6d2)]=_0x31abe7,this['logger'][_0x58b2c2(0x5e2)](this[_0x58b2c2(0x5cf)]+'\x20('+this[_0x58b2c2(0x7ed)][_0x58b2c2(0x828)]+_0x58b2c2(0x505)),this[_0x58b2c2(0x458)][_0x58b2c2(0x5e2)](this[_0x58b2c2(0x5cf)]+'\x20('+this[_0x58b2c2(0x7ed)][_0x58b2c2(0x828)]+_0x58b2c2(0x432)+this[_0x58b2c2(0x6d2)]),_0x31abe7;}catch(_0xec9818){let _0x47c54c='Erro\x20ao\x20tentar\x20updateCustomFields',_0x39eff2=_0xec9818 instanceof Error?_0xec9818[_0x58b2c2(0x7a3)]:typeof _0xec9818==_0x58b2c2(0x894)?JSON['stringify'](_0xec9818):_0xec9818,_0x3cd7fd=_0x47c54c+':\x20'+_0x39eff2;throw this['logger'][_0x58b2c2(0x70d)](this[_0x58b2c2(0x5cf)]+'\x20('+this[_0x58b2c2(0x7ed)][_0x58b2c2(0x828)]+_0x58b2c2(0x432)+_0x3cd7fd),new m(_0x3cd7fd);}}async[a0_0x3f93a9(0x5e1)](_0x2a3124){const _0x5bfb04=a0_0x3f93a9;try{let _0x14bc68=await this[_0x5bfb04(0x4a0)][_0x5bfb04(0x54d)][_0x5bfb04(0x279)](this[_0x5bfb04(0x7ed)][_0x5bfb04(0x828)]),_0xd1beec=_0x14bc68?.['autoCompleteMessages']?.['findIndex'](_0x577083=>_0x577083[_0x5bfb04(0x7ad)]===_0x2a3124?.[_0x5bfb04(0x7ad)]);if(_0x2a3124?.[_0x5bfb04(0x342)])_0xd1beec>-0x1&&_0x14bc68?.[_0x5bfb04(0x48c)]?.['splice'](_0xd1beec,0x1);else{if(_0xd1beec>-0x1){let _0x25453b=_0x14bc68['autoCompleteMessages'][_0xd1beec];_0x25453b[_0x5bfb04(0x578)]=_0x2a3124?.[_0x5bfb04(0x578)]||_0x25453b['order'],_0x25453b[_0x5bfb04(0x81d)]=_0x2a3124?.[_0x5bfb04(0x81d)]||_0x25453b[_0x5bfb04(0x81d)],_0x25453b[_0x5bfb04(0x7a3)]=_0x2a3124?.[_0x5bfb04(0x7a3)]||_0x25453b[_0x5bfb04(0x7a3)];}else{let _0x12b3d2={'_id':_0x2a3124?.['_id']||new ge[(_0x5bfb04(0x73f))][(_0x5bfb04(0x2e1))][(_0x5bfb04(0x64e))]()[_0x5bfb04(0x5e7)](),'order':_0x2a3124?.['order'],'command':_0x2a3124?.[_0x5bfb04(0x81d)],'message':_0x2a3124?.[_0x5bfb04(0x7a3)]};_0x14bc68?.[_0x5bfb04(0x48c)]?.[_0x5bfb04(0x6f2)](_0x12b3d2);}}_0x14bc68?.[_0x5bfb04(0x48c)]?.[_0x5bfb04(0x469)]((_0x40d908,_0x204422)=>_0x40d908[_0x5bfb04(0x578)]-_0x204422[_0x5bfb04(0x578)]);let _0x3a8094=await this['repository'][_0x5bfb04(0x54d)]['update'](_0x14bc68,this[_0x5bfb04(0x7ed)][_0x5bfb04(0x828)]);return this['AutomateSystem']=_0x3a8094,this[_0x5bfb04(0x458)][_0x5bfb04(0x5e2)](this[_0x5bfb04(0x5cf)]+'\x20('+this[_0x5bfb04(0x7ed)][_0x5bfb04(0x828)]+_0x5bfb04(0x505)),_0x3a8094;}catch(_0x40feac){let _0x5078b2='Erro\x20ao\x20tentar\x20autoCompleteMessages',_0x170405=_0x40feac instanceof Error?_0x40feac[_0x5bfb04(0x7a3)]:typeof _0x40feac==_0x5bfb04(0x894)?JSON[_0x5bfb04(0x684)](_0x40feac):_0x40feac,_0x8db00c=_0x5078b2+':\x20'+_0x170405;throw this[_0x5bfb04(0x458)]['error'](this['instanceName']+'\x20('+this[_0x5bfb04(0x7ed)][_0x5bfb04(0x828)]+'):\x20'+_0x8db00c),new m(_0x8db00c);}}async[a0_0x3f93a9(0x75f)](_0x54106e){const _0x6689bc=a0_0x3f93a9;try{let _0x11841e=await this[_0x6689bc(0x4a0)][_0x6689bc(0x54d)][_0x6689bc(0x279)](this[_0x6689bc(0x7ed)][_0x6689bc(0x828)]);if(!_0x11841e)throw new Error(_0x6689bc(0x54c));let _0x1fe99b={'_id':_0x11841e['_id'],'flowConfig':{'enabled':_0x54106e[_0x6689bc(0x7c7)]??_0x11841e[_0x6689bc(0x8db)][_0x6689bc(0x7c7)],'ignoreGroups':_0x54106e[_0x6689bc(0x665)]??_0x11841e[_0x6689bc(0x8db)]['ignoreGroups'],'stopConversation':_0x54106e[_0x6689bc(0x518)][_0x6689bc(0x382)]()??_0x11841e[_0x6689bc(0x8db)][_0x6689bc(0x518)][_0x6689bc(0x382)](),'stopMinutes':_0x54106e[_0x6689bc(0x63e)]??_0x11841e['flowConfig'][_0x6689bc(0x63e)],'stopWhenYouSendMsg':_0x54106e['stopWhenYouSendMsg']??_0x11841e[_0x6689bc(0x8db)][_0x6689bc(0x931)]}},_0x228ecb=await this[_0x6689bc(0x4a0)]['automateSystem'][_0x6689bc(0x2df)](_0x1fe99b,this[_0x6689bc(0x7ed)][_0x6689bc(0x828)]);return this[_0x6689bc(0x6d2)]=_0x228ecb,this[_0x6689bc(0x458)][_0x6689bc(0x5e2)](this[_0x6689bc(0x5cf)]+'\x20('+this[_0x6689bc(0x7ed)][_0x6689bc(0x828)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x6689bc(0x458)][_0x6689bc(0x5e2)](this[_0x6689bc(0x5cf)]+'\x20('+this[_0x6689bc(0x7ed)][_0x6689bc(0x828)]+_0x6689bc(0x432)+this['AutomateSystem']),setTimeout(()=>this[_0x6689bc(0x538)](),0x7d0),_0x228ecb;}catch(_0x351281){let _0xff916d='Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos',_0x795df5=_0x351281 instanceof Error?_0x351281[_0x6689bc(0x7a3)]:typeof _0x351281=='object'?JSON[_0x6689bc(0x684)](_0x351281):_0x351281,_0x42a598=_0xff916d+':\x20'+_0x795df5;throw this[_0x6689bc(0x458)][_0x6689bc(0x70d)](this[_0x6689bc(0x5cf)]+'\x20('+this[_0x6689bc(0x7ed)][_0x6689bc(0x828)]+_0x6689bc(0x432)+_0x42a598),new m(_0x42a598);}}async['getAutomateSystem'](){const _0x308ac5=a0_0x3f93a9;try{let _0x5d1350=await this[_0x308ac5(0x4a0)][_0x308ac5(0x54d)][_0x308ac5(0x279)](this[_0x308ac5(0x7ed)][_0x308ac5(0x828)]);return this[_0x308ac5(0x6d2)]=_0x5d1350,_0x5d1350;}catch(_0x5c0b9f){let _0x455981=_0x308ac5(0x691),_0x39b896=_0x5c0b9f instanceof Error?_0x5c0b9f[_0x308ac5(0x7a3)]:typeof _0x5c0b9f==_0x308ac5(0x894)?JSON[_0x308ac5(0x684)](_0x5c0b9f):_0x5c0b9f,_0x329ec7=_0x455981+':\x20'+_0x39b896;throw this['logger'][_0x308ac5(0x70d)](this[_0x308ac5(0x5cf)]+'\x20('+this[_0x308ac5(0x7ed)][_0x308ac5(0x828)]+_0x308ac5(0x432)+_0x329ec7),new m(_0x329ec7);}}async[a0_0x3f93a9(0x8f0)](){const _0x1f2560=a0_0x3f93a9;let _0x15a8a4=(await import(_0x1f2560(0x32d)))[_0x1f2560(0x73f)];this[_0x1f2560(0x82e)]=new _0x15a8a4({'concurrency':0x1});}async[a0_0x3f93a9(0x433)](){const _0x314588=a0_0x3f93a9;this['instance'][_0x314588(0x62b)]['timeout']&&clearTimeout(this[_0x314588(0x7ed)]['ScheduleMessage'][_0x314588(0x3df)]),this['instance']['ScheduleMessage'][_0x314588(0x3df)]=setTimeout(()=>{const _0x23f29=_0x314588;this[_0x23f29(0x66a)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x3f93a9(0x66a)](){const _0x4f7abd=a0_0x3f93a9;let _0x580650=this[_0x4f7abd(0x7ed)][_0x4f7abd(0x62b)]['lastSend'];(_0x580650===0x0||_0x580650===null||Date['now']()-_0x580650>=0x1d4c0)&&(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x4f7abd(0x7ed)][_0x4f7abd(0x828)]+_0x4f7abd(0x598)),this[_0x4f7abd(0x7ed)][_0x4f7abd(0x62b)][_0x4f7abd(0x311)]=null,this[_0x4f7abd(0x7ed)][_0x4f7abd(0x62b)][_0x4f7abd(0x3f4)]=0x0,this[_0x4f7abd(0x7ed)]['ScheduleMessage']['delayMessage']=0x0,await this[_0x4f7abd(0x538)]());}async[a0_0x3f93a9(0x538)](){const _0x3950d=a0_0x3f93a9;this[_0x3950d(0x458)][_0x3950d(0x939)](this[_0x3950d(0x5cf)]+'\x20('+this[_0x3950d(0x7ed)][_0x3950d(0x828)]+'):\x20Procurando\x20mensagens\x20para\x20envio'),await this['transformScheduledMessagesByType']();let _0x4cc311=await this[_0x3950d(0x8d3)]();_0x4cc311['length']>0x0&&(setTimeout(()=>this['checkAndRestartProcess'](),0x14*0x3e8),this[_0x3950d(0x458)][_0x3950d(0x939)](this[_0x3950d(0x5cf)]+'\x20('+this[_0x3950d(0x7ed)][_0x3950d(0x828)]+_0x3950d(0x8de)),this[_0x3950d(0x82e)][_0x3950d(0x2e9)](),this[_0x3950d(0x82e)]['add'](()=>this[_0x3950d(0x47f)](_0x4cc311)));let _0x4f028c={'where':{'status':_0x3950d(0x390),'when':{'$gt':Date[_0x3950d(0x5a4)]()}}},_0x38ad98=await this[_0x3950d(0x4a0)][_0x3950d(0x7de)][_0x3950d(0x39a)](_0x4f028c,this[_0x3950d(0x7ed)][_0x3950d(0x828)]);_0x38ad98&&_0x38ad98['when']-Date[_0x3950d(0x5a4)]()<=0x6ddd00?this[_0x3950d(0x7ed)][_0x3950d(0x62b)][_0x3950d(0x745)]=_0x38ad98['when']-Date['now']():this['instance'][_0x3950d(0x62b)][_0x3950d(0x745)]=(0x3c+Math[_0x3950d(0x693)](Math[_0x3950d(0x67b)]()*0x3c))*0x3c*0x3e8,this[_0x3950d(0x7ed)]['ScheduleMessage']['delayMessage']=Math['max'](this[_0x3950d(0x7ed)][_0x3950d(0x62b)]['delayMessage'],0x1*0x2*0x3e8);let _0x521d31=Math['round'](this[_0x3950d(0x7ed)]['ScheduleMessage'][_0x3950d(0x745)]/0xea60);if(_0x38ad98){let _0x71d603=new Date(_0x38ad98[_0x3950d(0x3f7)])['toLocaleString']();this[_0x3950d(0x458)]['warn'](this[_0x3950d(0x5cf)]+'\x20('+this[_0x3950d(0x7ed)][_0x3950d(0x828)]+_0x3950d(0x8c5)+_0x71d603+_0x3950d(0x332)+_0x521d31+_0x3950d(0x42e));}else this[_0x3950d(0x458)]['warn'](this['instanceName']+'\x20('+this[_0x3950d(0x7ed)][_0x3950d(0x828)]+_0x3950d(0x93a)+_0x521d31+_0x3950d(0x42e));setTimeout(()=>{const _0x2ab3f5=_0x3950d;this[_0x2ab3f5(0x538)]();},this[_0x3950d(0x7ed)][_0x3950d(0x62b)]['delayMessage']);}async[a0_0x3f93a9(0x8d3)](){const _0x58f629=a0_0x3f93a9;this[_0x58f629(0x458)]['warn'](this['instanceName']+'\x20('+this[_0x58f629(0x7ed)][_0x58f629(0x828)]+_0x58f629(0x28d));let _0x5ee0bf=Date[_0x58f629(0x5a4)]()-0xc*0x3c*0x3c*0x3e8,_0x52d004={'where':{'status':{'$in':[_0x58f629(0x390),'sending']},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x5ee0bf}},{'when':0x0}]}},_0x30b82d=await this[_0x58f629(0x4a0)][_0x58f629(0x7de)][_0x58f629(0x419)](_0x52d004,this['instance'][_0x58f629(0x828)]);return this[_0x58f629(0x458)][_0x58f629(0x939)](this[_0x58f629(0x5cf)]+'\x20('+this['instance'][_0x58f629(0x828)]+_0x58f629(0x677)+_0x30b82d[_0x58f629(0x40e)]),_0x30b82d;}async[a0_0x3f93a9(0x47f)](_0x8c00c1){const _0x4887b9=a0_0x3f93a9;this[_0x4887b9(0x458)][_0x4887b9(0x939)](this[_0x4887b9(0x5cf)]+'\x20('+this[_0x4887b9(0x7ed)]['wuid']+_0x4887b9(0x570));let _0xa24fff=0x3*0x3e8,_0x5c566b=0x8*0x3e8,_0x780ca0=Math['floor'](Math[_0x4887b9(0x67b)]()*(_0x5c566b-_0xa24fff+0x1))+_0xa24fff,_0x415d29=()=>this['pendingMessages'][_0x4887b9(0x40e)]===0x0?null:this[_0x4887b9(0x497)][_0x4887b9(0x6ce)]((_0x2dcf3d,_0x4cbfb6)=>(_0x2dcf3d[_0x4887b9(0x578)]??Number[_0x4887b9(0x589)])<(_0x4cbfb6[_0x4887b9(0x578)]??Number['MAX_SAFE_INTEGER'])?_0x2dcf3d:_0x4cbfb6,this[_0x4887b9(0x497)][0x0]);_0x8c00c1=await this[_0x4887b9(0x8d3)]();for(let _0x4cfb12 of _0x8c00c1){await this[_0x4887b9(0x433)]();let _0x4c2057=0x3*0x3e8,_0xb57b8={'_id':_0x4cfb12[_0x4887b9(0x7ad)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x4887b9(0x5a4)]()-_0x4c2057}}]},_0x5ee1d8={'startSend':Date['now'](),'status':'sending'},_0x3b6a00=await this[_0x4887b9(0x4a0)][_0x4887b9(0x7de)][_0x4887b9(0x349)](_0xb57b8,_0x5ee1d8,this[_0x4887b9(0x7ed)]['wuid']);if(this['pendingMessages']=_0x3b6a00[_0x4887b9(0x2d8)][_0x4887b9(0x697)](_0x47ea1b=>!_0x47ea1b[_0x4887b9(0x548)]),!_0x3b6a00){setTimeout(()=>this['checkAndRestartProcess'](),0xa*0x3e8);continue;}if(this[_0x4887b9(0x7ed)][_0x4887b9(0x62b)]['processingGroup']=_0x3b6a00,!this['instance'][_0x4887b9(0x62b)][_0x4887b9(0x779)]){this[_0x4887b9(0x458)][_0x4887b9(0x939)](this[_0x4887b9(0x5cf)]+'\x20('+this[_0x4887b9(0x7ed)]['wuid']+_0x4887b9(0x37e));break;}for(;this[_0x4887b9(0x497)]['length']>0x0;){await this['setRestartTimeout']();let _0x49ba54=_0x415d29();if(!_0x49ba54)break;let _0x1bb289=_0x4cfb12[_0x4887b9(0x2d8)][_0x4887b9(0x419)](_0x2ac44a=>_0x2ac44a[_0x4887b9(0x7ad)]===_0x49ba54[_0x4887b9(0x7ad)]);if(!_0x1bb289)break;if(this['instance'][_0x4887b9(0x62b)]['lastSend']=Date[_0x4887b9(0x5a4)](),_0x1bb289[_0x4887b9(0x548)]){this[_0x4887b9(0x458)][_0x4887b9(0x939)](this[_0x4887b9(0x5cf)]+'\x20('+this['instance'][_0x4887b9(0x828)]+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x1bb289[_0x4887b9(0x6fa)]+_0x4887b9(0x739)),this[_0x4887b9(0x497)]=this[_0x4887b9(0x497)][_0x4887b9(0x697)](_0x5692fb=>_0x5692fb['_id']!==_0x1bb289['_id']);continue;}if(!this[_0x4887b9(0x7ed)][_0x4887b9(0x62b)][_0x4887b9(0x779)]){this[_0x4887b9(0x458)][_0x4887b9(0x939)](this['instanceName']+'\x20('+this['instance'][_0x4887b9(0x828)]+_0x4887b9(0x68c));break;}if(!this['instance']['ScheduleMessage']['processingGroup']){this['logger'][_0x4887b9(0x939)](this['instanceName']+'\x20('+this[_0x4887b9(0x7ed)][_0x4887b9(0x828)]+_0x4887b9(0x7a6)+_0x4cfb12['_id']+_0x4887b9(0x8b3));break;}let _0xaf46ec={'idControl':_0x1bb289[_0x4887b9(0x7ad)],'remoteJid':_0x1bb289[_0x4887b9(0x6fa)],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x4887b9(0x5a4)]()},_0x1f5d6e=null;try{this['logger'][_0x4887b9(0x939)](this[_0x4887b9(0x5cf)]+'\x20('+this[_0x4887b9(0x7ed)][_0x4887b9(0x828)]+_0x4887b9(0x220)+_0x1bb289['remoteJid']);let _0x43de2c=await this[_0x4887b9(0x808)](_0x1bb289[_0x4887b9(0x6fa)],_0x1bb289);_0xaf46ec['error']=_0x43de2c[_0x4887b9(0x70d)],_0xaf46ec['id']=_0x43de2c['error']?null:_0x43de2c['id'],_0xaf46ec['error_log']=_0x43de2c[_0x4887b9(0x70d)]?_0x43de2c[_0x4887b9(0x875)]?_0x43de2c[_0x4887b9(0x875)][_0x4887b9(0x5e7)]():'':null;let _0xaaac7d=_0x4cfb12[_0x4887b9(0x2d8)][_0x4887b9(0x641)](_0x12dfd=>_0x12dfd[_0x4887b9(0x7ad)]===_0x1bb289[_0x4887b9(0x7ad)]);_0xaaac7d!==-0x1&&(_0x4cfb12['messages'][_0xaaac7d][_0x4887b9(0x548)]=!0x0);let _0x293607={'$push':{'messagesSend':_0xaf46ec},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x862b10=[{'elem._id':_0x1bb289[_0x4887b9(0x7ad)]}];if(this['logger'][_0x4887b9(0x939)](this[_0x4887b9(0x5cf)]+'\x20('+this[_0x4887b9(0x7ed)][_0x4887b9(0x828)]+'):\x20Atualizando\x20status\x20da\x20mensagem\x20'+_0x1bb289[_0x4887b9(0x7ad)]),_0x1f5d6e=await this[_0x4887b9(0x4a0)][_0x4887b9(0x7de)][_0x4887b9(0x349)]({'_id':_0x4cfb12['_id']},_0x293607,this[_0x4887b9(0x7ed)][_0x4887b9(0x828)],{'arrayFilters':_0x862b10}),_0x43de2c[_0x4887b9(0x70d)]){this[_0x4887b9(0x458)]['error'](this[_0x4887b9(0x5cf)]+'\x20('+this['instance'][_0x4887b9(0x828)]+_0x4887b9(0x273)+_0x43de2c[_0x4887b9(0x875)]);continue;}let _0x3fecef=this['getDelay'](_0x4cfb12[_0x4887b9(0x317)],_0x4cfb12['delaySecMax']);await this[_0x4887b9(0x648)](_0x3fecef);}catch(_0x13e04c){this['logger']['error'](this[_0x4887b9(0x5cf)]+'\x20('+this[_0x4887b9(0x7ed)][_0x4887b9(0x828)]+'):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20'+_0x1bb289[_0x4887b9(0x6fa)]+':\x20'+(_0x13e04c instanceof Error?_0x13e04c['message']:JSON[_0x4887b9(0x684)](_0x13e04c,null,0x2))),_0xaf46ec['error']=!0x0,_0xaf46ec['error_log']=_0x13e04c[_0x4887b9(0x7a3)];let _0x15eea7=_0x4cfb12[_0x4887b9(0x2d8)][_0x4887b9(0x641)](_0x555b34=>_0x555b34['_id']===_0x1bb289['_id']);_0x15eea7!==-0x1&&(_0x4cfb12[_0x4887b9(0x2d8)][_0x15eea7][_0x4887b9(0x548)]=!0x0);let _0x372901={'$push':{'messagesSend':_0xaf46ec},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x5825c0=[{'elem._id':_0x1bb289[_0x4887b9(0x7ad)]}];this[_0x4887b9(0x458)][_0x4887b9(0x939)](this[_0x4887b9(0x5cf)]+'\x20('+this[_0x4887b9(0x7ed)][_0x4887b9(0x828)]+_0x4887b9(0x842)+_0x1bb289[_0x4887b9(0x7ad)]),_0x1f5d6e=await this[_0x4887b9(0x4a0)][_0x4887b9(0x7de)][_0x4887b9(0x349)]({'_id':_0x4cfb12[_0x4887b9(0x7ad)]},_0x372901,this[_0x4887b9(0x7ed)]['wuid'],{'arrayFilters':_0x5825c0});}finally{if(_0x1f5d6e&&_0x1f5d6e['status']===_0x4887b9(0x882)){this[_0x4887b9(0x458)][_0x4887b9(0x939)](this[_0x4887b9(0x5cf)]+'\x20('+this[_0x4887b9(0x7ed)]['wuid']+_0x4887b9(0x7a6)+_0x1bb289[_0x4887b9(0x7ad)]+_0x4887b9(0x8a9));break;}let _0x145c6b=_0x1f5d6e[_0x4887b9(0x2d8)][_0x4887b9(0x419)](_0x17d45d=>_0x17d45d[_0x4887b9(0x7ad)]===_0x1bb289['_id']);if(_0x145c6b&&!_0x145c6b[_0x4887b9(0x548)]){let _0x34f015={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x5e475e=[{'elem._id':_0x1bb289[_0x4887b9(0x7ad)]}];await this[_0x4887b9(0x4a0)][_0x4887b9(0x7de)][_0x4887b9(0x349)]({'_id':_0x1f5d6e[_0x4887b9(0x7ad)]},_0x34f015,this[_0x4887b9(0x7ed)][_0x4887b9(0x828)],{'arrayFilters':_0x5e475e});}if(this[_0x4887b9(0x497)]=_0x1f5d6e[_0x4887b9(0x2d8)][_0x4887b9(0x697)](_0x16bf19=>!_0x16bf19['triedToSend']),!this[_0x4887b9(0x7ed)]['ScheduleMessage']['processingGroup']){await this[_0x4887b9(0x433)](),this['logger'][_0x4887b9(0x939)](this['instanceName']+'\x20('+this[_0x4887b9(0x7ed)][_0x4887b9(0x828)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x4cfb12[_0x4887b9(0x7ad)]+_0x4887b9(0x8b3));break;}}}this['pendingMessages']=[];let _0xe5fb2f=await this['repository'][_0x4887b9(0x7de)][_0x4887b9(0x329)](_0x4cfb12[_0x4887b9(0x7ad)],this[_0x4887b9(0x7ed)]['wuid']);if(_0xe5fb2f[_0x4887b9(0x2d8)]['every'](_0x186001=>_0x186001[_0x4887b9(0x548)])&&_0xe5fb2f['status']!==_0x4887b9(0x882)){let _0xfabb83={'$set':{'status':_0x4887b9(0x297)}};await this[_0x4887b9(0x4a0)][_0x4887b9(0x7de)][_0x4887b9(0x748)](_0xe5fb2f[_0x4887b9(0x7ad)],_0xfabb83,this[_0x4887b9(0x7ed)][_0x4887b9(0x828)]);}await new Promise(_0x346a45=>setTimeout(_0x346a45,_0x780ca0)),global['gc']?global['gc']():console['warn'](_0x4887b9(0x587));}}[a0_0x3f93a9(0x3b2)](_0x16cf68,_0x11e730){const _0x4421ea=a0_0x3f93a9;return _0x16cf68=Math[_0x4421ea(0x423)](0.5,_0x16cf68),_0x11e730=Math[_0x4421ea(0x52b)](Math[_0x4421ea(0x423)](0x3,_0x11e730),0x78),Math[_0x4421ea(0x693)](Math[_0x4421ea(0x67b)]()*(_0x11e730-_0x16cf68+0x1)+_0x16cf68)*0x3e8;}[a0_0x3f93a9(0x648)](_0xe28ebd){return new Promise(_0x29fb37=>setTimeout(_0x29fb37,_0xe28ebd));}async[a0_0x3f93a9(0x624)](_0x22152d){const _0x267c0b=a0_0x3f93a9;if(!this[_0x267c0b(0x6d2)]&&(await this[_0x267c0b(0x373)](),!this[_0x267c0b(0x6d2)]))return null;_0x22152d=this[_0x267c0b(0x583)](_0x22152d);let _0xe6304b=await this[_0x267c0b(0x4a0)][_0x267c0b(0x3bd)]['findOne']({'where':{'_id':_0x22152d}},this['instance'][_0x267c0b(0x828)]),_0x19009b={};if(_0xe6304b&&_0xe6304b['leadInfo']){let _0x11fbf6=_0xe6304b[_0x267c0b(0x3c2)];typeof _0x11fbf6[_0x267c0b(0x7e5)]==_0x267c0b(0x6a7)&&(_0x19009b[_0x267c0b(0x7e5)]=_0x11fbf6[_0x267c0b(0x7e5)]),typeof _0x11fbf6[_0x267c0b(0x8b4)]=='string'&&(_0x19009b[_0x267c0b(0x8b4)]=_0x11fbf6[_0x267c0b(0x8b4)]),typeof _0x11fbf6['email']==_0x267c0b(0x6a7)&&(_0x19009b['email']=_0x11fbf6[_0x267c0b(0x50c)]),typeof _0x11fbf6[_0x267c0b(0x6cf)]==_0x267c0b(0x6a7)&&(_0x19009b[_0x267c0b(0x6cf)]=_0x11fbf6['cpf']),typeof _0x11fbf6['status']=='string'&&(_0x19009b[_0x267c0b(0x74f)]=_0x11fbf6[_0x267c0b(0x74f)]),typeof _0x11fbf6[_0x267c0b(0x706)]=='string'&&(_0x19009b[_0x267c0b(0x706)]=_0x11fbf6[_0x267c0b(0x706)]),typeof _0x11fbf6[_0x267c0b(0x7e2)]=='string'&&(_0x19009b[_0x267c0b(0x7e2)]=_0x11fbf6['responsavelid']),Array[_0x267c0b(0x84c)](_0x11fbf6[_0x267c0b(0x2ec)])&&(_0x19009b[_0x267c0b(0x2ec)]=_0x11fbf6['tags']['join'](',\x20')),Array[_0x267c0b(0x84c)](_0x11fbf6['etiquetas'])&&(_0x19009b[_0x267c0b(0x2ee)]=_0x11fbf6[_0x267c0b(0x2ee)]['join'](',\x20'));}return _0xe6304b&&_0xe6304b[_0x267c0b(0x3c2)]&&_0xe6304b[_0x267c0b(0x3c2)]['customFields']&&_0xe6304b['leadInfo'][_0x267c0b(0x8fa)][_0x267c0b(0x3c9)](_0x48e7ca=>{const _0x5d7bc2=_0x267c0b;let _0x5bd696=this[_0x5d7bc2(0x6d2)]?.[_0x5d7bc2(0x8fa)][_0x5d7bc2(0x419)](_0x340610=>_0x340610[_0x5d7bc2(0x7ad)]===_0x48e7ca[_0x5d7bc2(0x7ad)]);_0x5bd696&&(_0x19009b[_0x5bd696[_0x5d7bc2(0x537)]]=_0x48e7ca['value']);}),_0x19009b;}async[a0_0x3f93a9(0x5cc)](_0xea8832,_0x489425){const _0x351989=a0_0x3f93a9;try{let _0x458d4f=await this[_0x351989(0x624)](_0x489425);return this[_0x351989(0x2f5)](_0xea8832,_0x458d4f);}catch(_0x10921d){return this[_0x351989(0x458)]['error'](_0x351989(0x876)+_0x489425+':\x20'+_0x10921d),_0xea8832;}}async['transformScheduledMessagesByType'](){const _0x2762c0=a0_0x3f93a9;let _0x3a116c=async(_0x43ad9c,_0xc68393)=>{const _0x185288=a0_0x104e;let _0xeda68b=(await this['repository'][_0x185288(0x7de)][_0x185288(0x419)]({'where':{'type':_0x43ad9c}},this['instance'][_0x185288(0x828)]))[_0x185288(0x3d6)](async _0x232852=>{const _0xad056b=_0x185288;let _0x1b1d1c=_0xc68393(_0x232852),_0x48420e=_0x4bbaa1=>/^\d+$/['test'](_0x4bbaa1),_0x51cbe7=_0x232852[_0xad056b(0x253)]['filter'](_0x5a381a=>_0x5a381a['endsWith'](_0xad056b(0x51e))?_0x5a381a['length']>0x19:_0x5a381a[_0xad056b(0x292)]('@g.us')?_0x5a381a[_0xad056b(0x40e)]>0xf:_0x48420e(_0x5a381a)?_0x5a381a['length']>=0xb:!0x1)[_0xad056b(0x3d6)](_0x4155f8=>({'_id':(0x0,Y['v4'])(),'idSchedule':_0x232852['_id'],'type':_0x1b1d1c,'remoteJid':_0x4155f8,'flow':_0x232852[_0xad056b(0x764)],'text':_0x232852[_0xad056b(0x7a3)]?.['text'],'delay':_0x232852[_0xad056b(0x7a3)]?.[_0xad056b(0x818)],'urlOrBase64':_0x232852[_0xad056b(0x7a3)]?.[_0xad056b(0x2ad)],'linkPreview':_0x232852['message']?.[_0xad056b(0x4d9)],'fileName':_0x232852['message']?.[_0xad056b(0x4ee)],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0xad056b(0x4a0)][_0xad056b(0x7de)][_0xad056b(0x748)](_0x232852[_0xad056b(0x7ad)],{'$set':{'messages':_0x51cbe7},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0xad056b(0x7ed)][_0xad056b(0x828)]);}catch(_0x595fc1){console[_0xad056b(0x70d)](_0xad056b(0x1f1)+_0x232852[_0xad056b(0x7ad)]+':',_0x595fc1);}});await Promise[_0x185288(0x49a)](_0xeda68b);};await _0x3a116c(_0x2762c0(0x5d0),_0x14e531=>_0x2762c0(0x5d0)),await _0x3a116c(_0x2762c0(0x30b),_0x58c575=>_0x58c575[_0x2762c0(0x7a3)]?.[_0x2762c0(0x588)]||'media'),await _0x3a116c(_0x2762c0(0x531),_0x125fad=>_0x2762c0(0x531)),await _0x3a116c(_0x2762c0(0x3d3),_0x27ad45=>'flow'),await _0x3a116c(_0x2762c0(0x87a),_0x3d3d6a=>_0x2762c0(0x87a)),await _0x3a116c(_0x2762c0(0x48a),_0x5da802=>_0x2762c0(0x48a)),await _0x3a116c('document',_0x233a6e=>_0x2762c0(0x262)),this[_0x2762c0(0x458)][_0x2762c0(0x939)](this[_0x2762c0(0x5cf)]+'\x20('+this[_0x2762c0(0x7ed)][_0x2762c0(0x828)]+_0x2762c0(0x5ac));}async[a0_0x3f93a9(0x27c)](_0x3494aa){const _0x15684e=a0_0x3f93a9;try{if(this[_0x15684e(0x458)][_0x15684e(0x939)](this[_0x15684e(0x5cf)]+'\x20('+this[_0x15684e(0x7ed)][_0x15684e(0x828)]+_0x15684e(0x54f)),_0x3494aa[_0x15684e(0x7ad)]||(_0x3494aa[_0x15684e(0x7ad)]=(0x0,Y['v4'])()),this[_0x15684e(0x7ed)]['ScheduleMessage'][_0x15684e(0x311)]?.[_0x15684e(0x7ad)]===_0x3494aa[_0x15684e(0x7ad)]?.[_0x15684e(0x5e7)]()){if(_0x3494aa[_0x15684e(0x74f)]===_0x15684e(0x882))this['instance'][_0x15684e(0x62b)][_0x15684e(0x311)]=null;else throw new Error(_0x15684e(0x49f));}if(_0x3494aa[_0x15684e(0x342)]&&_0x3494aa[_0x15684e(0x7ad)]){let _0x3cef07=await this[_0x15684e(0x4a0)]['scheduleMessage'][_0x15684e(0x250)](_0x3494aa[_0x15684e(0x7ad)],this[_0x15684e(0x7ed)]['wuid']);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x3cef07;}let _0xdc69b4=null;if(_0x3494aa[_0x15684e(0x7ad)]&&(_0xdc69b4=await this[_0x15684e(0x4a0)][_0x15684e(0x7de)][_0x15684e(0x329)](_0x3494aa['_id'],this[_0x15684e(0x7ed)][_0x15684e(0x828)])),_0xdc69b4){let {_id:_0x262984,owner:_0x20b5de,messages:_0x2ebd4c,..._0x4edf9f}=_0x3494aa;if(_0x2ebd4c){let _0x116d22=_0x2ebd4c[_0x15684e(0x697)](_0x110349=>!_0x110349[_0x15684e(0x7ad)]),_0x1e8342=_0x2ebd4c[_0x15684e(0x697)](_0x522c52=>_0x522c52[_0x15684e(0x7ad)]&&!_0x522c52[_0x15684e(0x342)]),_0x7eb8d0=_0x2ebd4c['filter'](_0x41adaf=>_0x41adaf[_0x15684e(0x7ad)]&&_0x41adaf['delete']);if(_0x116d22['length']>0x0&&await this['addMessagesToGroup'](_0x3494aa[_0x15684e(0x7ad)],_0x116d22),_0x1e8342[_0x15684e(0x40e)]>0x0&&await this['editMessagesInGroup']({'_id':_0x3494aa[_0x15684e(0x7ad)],'messages':_0x1e8342}),_0x7eb8d0[_0x15684e(0x40e)]>0x0){let _0x19d7f8=_0x7eb8d0[_0x15684e(0x3d6)](_0x9736ce=>({'updateOne':{'filter':{'_id':_0x3494aa['_id']},'update':{'$pull':{'messages':{'_id':_0x9736ce[_0x15684e(0x7ad)]}}}}}));await this[_0x15684e(0x4a0)][_0x15684e(0x7de)][_0x15684e(0x76f)](_0x19d7f8,this[_0x15684e(0x7ed)][_0x15684e(0x828)]);}}let _0x500a4a={'$set':{..._0x4edf9f,'status':_0x3494aa['status']||_0xdc69b4[_0x15684e(0x74f)]}},_0x4fa12d=await this[_0x15684e(0x4a0)]['scheduleMessage'][_0x15684e(0x748)](_0x3494aa['_id'],_0x500a4a,this[_0x15684e(0x7ed)]['wuid']);return _0x4fa12d&&(this[_0x15684e(0x45e)](_0x4fa12d[_0x15684e(0x2d8)]),await this[_0x15684e(0x4a0)][_0x15684e(0x7de)][_0x15684e(0x748)](_0x4fa12d['_id'],{'$set':{'messages':_0x4fa12d[_0x15684e(0x2d8)]}},this['instance'][_0x15684e(0x828)])),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),await this['transformScheduledMessagesByType'](),_0x4fa12d;}else{_0x3494aa[_0x15684e(0x4a1)]=this['instance']['wuid'],_0x3494aa[_0x15684e(0x2d8)]&&_0x3494aa[_0x15684e(0x2d8)][_0x15684e(0x3c9)](_0x5613b9=>{const _0x32b9af=_0x15684e;_0x5613b9['_id']||(_0x5613b9[_0x32b9af(0x7ad)]=(0x0,Y['v4'])()),_0x5613b9[_0x32b9af(0x927)]||(_0x5613b9['idSchedule']=_0x3494aa[_0x32b9af(0x7ad)]),delete _0x5613b9[_0x32b9af(0x548)];});let _0xb5964f=await this[_0x15684e(0x4a0)][_0x15684e(0x7de)]['createAndSave'](_0x3494aa,this[_0x15684e(0x7ed)][_0x15684e(0x828)]);return _0xb5964f&&(this[_0x15684e(0x45e)](_0xb5964f['messages']),await this[_0x15684e(0x4a0)]['scheduleMessage'][_0x15684e(0x748)](_0xb5964f['_id'],{'$set':{'messages':_0xb5964f[_0x15684e(0x2d8)]}},this[_0x15684e(0x7ed)][_0x15684e(0x828)])),setTimeout(()=>this[_0x15684e(0x538)](),0x7d0),_0xb5964f;}}catch(_0x381ee1){let _0x5a1c62='Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens',_0x14d0ef=_0x381ee1 instanceof Error?_0x381ee1[_0x15684e(0x7a3)]:typeof _0x381ee1==_0x15684e(0x894)?JSON[_0x15684e(0x684)](_0x381ee1):_0x381ee1,_0x486e4b=_0x5a1c62+':\x20'+_0x14d0ef;throw this[_0x15684e(0x458)][_0x15684e(0x70d)](this[_0x15684e(0x5cf)]+'\x20('+this[_0x15684e(0x7ed)][_0x15684e(0x828)]+'):\x20'+_0x486e4b),new m(_0x486e4b);}}async['addMessagesToGroup'](_0x4511b8,_0x2e30cb){const _0x407336=a0_0x3f93a9;try{this[_0x407336(0x458)]['verbose'](this[_0x407336(0x5cf)]+'\x20('+this[_0x407336(0x7ed)][_0x407336(0x828)]+_0x407336(0x860)),_0x2e30cb['forEach'](_0x1e57e1=>{const _0x2b3323=_0x407336;_0x1e57e1[_0x2b3323(0x7ad)]||(_0x1e57e1[_0x2b3323(0x7ad)]=(0x0,Y['v4'])()),_0x1e57e1[_0x2b3323(0x927)]||(_0x1e57e1[_0x2b3323(0x927)]=_0x4511b8),delete _0x1e57e1[_0x2b3323(0x548)];});let _0x367a41={'$push':{'messages':{'$each':_0x2e30cb}}},_0x474fb5=await this['repository'][_0x407336(0x7de)][_0x407336(0x748)](_0x4511b8,_0x367a41,this[_0x407336(0x7ed)][_0x407336(0x828)]);return _0x474fb5&&(this['reorderMessages'](_0x474fb5[_0x407336(0x2d8)]),await this[_0x407336(0x4a0)][_0x407336(0x7de)][_0x407336(0x748)](_0x474fb5[_0x407336(0x7ad)],{'$set':{'messages':_0x474fb5[_0x407336(0x2d8)]}},this[_0x407336(0x7ed)][_0x407336(0x828)])),_0x474fb5;}catch(_0x4cc1cd){let _0xfe8f26='Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo',_0x1906a7=_0x4cc1cd instanceof Error?_0x4cc1cd[_0x407336(0x7a3)]:typeof _0x4cc1cd==_0x407336(0x894)?JSON[_0x407336(0x684)](_0x4cc1cd):_0x4cc1cd,_0x362e05=_0xfe8f26+':\x20'+_0x1906a7;throw this['logger'][_0x407336(0x70d)](this[_0x407336(0x5cf)]+'\x20('+this[_0x407336(0x7ed)][_0x407336(0x828)]+'):\x20'+_0x362e05),new m(_0x362e05);}}async[a0_0x3f93a9(0x2a4)](_0x3b08e2){const _0x17ab67=a0_0x3f93a9;try{if(this[_0x17ab67(0x458)]['verbose'](this[_0x17ab67(0x5cf)]+'\x20('+this[_0x17ab67(0x7ed)][_0x17ab67(0x828)]+_0x17ab67(0x418)),!_0x3b08e2[_0x17ab67(0x7ad)]||!_0x3b08e2[_0x17ab67(0x2d8)])throw new Error(_0x17ab67(0x333));let _0x3863b3=_0x3b08e2['_id'],_0x16ac8b=_0x3b08e2[_0x17ab67(0x2d8)],_0x4fcdce=_0x16ac8b['filter'](_0x3073bb=>!_0x3073bb['delete'])['map'](_0x425faf=>{const _0x539b96=_0x17ab67;let _0x3bf41e=_0x425faf['_id'];if(!_0x3bf41e)throw new Error('Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.');return _0x425faf['idSchedule']||(_0x425faf[_0x539b96(0x927)]=_0x3863b3),delete _0x425faf[_0x539b96(0x548)],{'updateOne':{'filter':{'_id':_0x3863b3,'messages._id':_0x3bf41e},'update':{'$set':{'messages.$[elem]':_0x425faf}},'arrayFilters':[{'elem._id':_0x3bf41e}]}};}),_0x41e08d=_0x16ac8b['filter'](_0x16495c=>_0x16495c['delete'])[_0x17ab67(0x3d6)](_0x2a20c4=>{const _0x2a6be4=_0x17ab67;let _0x1b55e9=_0x2a20c4[_0x2a6be4(0x7ad)];if(!_0x1b55e9)throw new Error('Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.');return{'updateOne':{'filter':{'_id':_0x3863b3},'update':{'$pull':{'messages':{'_id':_0x1b55e9}}}}};}),_0x5d8be8=[..._0x4fcdce,..._0x41e08d],_0x1d53ca=await this['repository'][_0x17ab67(0x7de)]['bulkWrite'](_0x5d8be8,this['instance'][_0x17ab67(0x828)]),_0x504953=await this[_0x17ab67(0x4a0)][_0x17ab67(0x7de)]['findById'](_0x3863b3,this[_0x17ab67(0x7ed)][_0x17ab67(0x828)]);return _0x504953&&(this[_0x17ab67(0x45e)](_0x504953[_0x17ab67(0x2d8)]),await this[_0x17ab67(0x4a0)][_0x17ab67(0x7de)]['updateOneById'](_0x504953[_0x17ab67(0x7ad)],{'$set':{'messages':_0x504953[_0x17ab67(0x2d8)]}},this['instance']['wuid'])),_0x504953;}catch(_0x18ab9b){let _0x50dc02=_0x17ab67(0x41f),_0x510069=_0x18ab9b instanceof Error?_0x18ab9b['message']:typeof _0x18ab9b==_0x17ab67(0x894)?JSON[_0x17ab67(0x684)](_0x18ab9b):_0x18ab9b,_0x7f83a8=_0x50dc02+':\x20'+_0x510069;throw this['logger']['error'](this[_0x17ab67(0x5cf)]+'\x20('+this[_0x17ab67(0x7ed)][_0x17ab67(0x828)]+'):\x20'+_0x7f83a8),new m(_0x7f83a8);}}async[a0_0x3f93a9(0x8c3)](){const _0x4a9a41=a0_0x3f93a9;try{let _0x483e6a={'status':_0x4a9a41(0x297)},_0x261b54=await this[_0x4a9a41(0x4a0)][_0x4a9a41(0x7de)][_0x4a9a41(0x6fe)](_0x483e6a,this['instance'][_0x4a9a41(0x828)]);if(!_0x261b54[_0x4a9a41(0x70d)])this[_0x4a9a41(0x458)][_0x4a9a41(0x5e2)](this[_0x4a9a41(0x5cf)]+'\x20('+this['instance'][_0x4a9a41(0x828)]+'):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.');else throw new Error(_0x261b54['error'][_0x4a9a41(0x7a3)]||_0x4a9a41(0x65c));return this[_0x4a9a41(0x28c)]();}catch(_0xd773d6){let _0x374c68=_0x4a9a41(0x630),_0x4e8e59=_0xd773d6 instanceof Error?_0xd773d6[_0x4a9a41(0x7a3)]:typeof _0xd773d6==_0x4a9a41(0x894)?JSON[_0x4a9a41(0x684)](_0xd773d6):_0xd773d6,_0xe62307=_0x374c68+':\x20'+_0x4e8e59;throw this[_0x4a9a41(0x458)][_0x4a9a41(0x70d)](this[_0x4a9a41(0x5cf)]+'\x20('+this[_0x4a9a41(0x7ed)][_0x4a9a41(0x828)]+_0x4a9a41(0x432)+_0xe62307),new m(_0xe62307);}}async[a0_0x3f93a9(0x28c)](){const _0x509296=a0_0x3f93a9;try{return await this[_0x509296(0x4a0)][_0x509296(0x7de)][_0x509296(0x419)]({'where':{}},this[_0x509296(0x7ed)][_0x509296(0x828)]);}catch(_0x3486b0){let _0x565425=_0x509296(0x656),_0x1cbb7b=_0x3486b0 instanceof Error?_0x3486b0[_0x509296(0x7a3)]:typeof _0x3486b0==_0x509296(0x894)?JSON[_0x509296(0x684)](_0x3486b0):_0x3486b0,_0x233833=_0x565425+':\x20'+_0x1cbb7b;throw this[_0x509296(0x458)][_0x509296(0x70d)](this[_0x509296(0x5cf)]+'\x20('+this['instance'][_0x509296(0x828)]+_0x509296(0x432)+_0x233833),new m(_0x233833);}}['reorderMessages'](_0x208a76){const _0x5fd2=a0_0x3f93a9;_0x208a76['sort']((_0x42f789,_0x3de540)=>_0x42f789[_0x5fd2(0x578)]-_0x3de540[_0x5fd2(0x578)]),_0x208a76[_0x5fd2(0x3c9)]((_0x465dd2,_0x31a3dd)=>{const _0x10e606=_0x5fd2;_0x465dd2[_0x10e606(0x578)]=_0x31a3dd+0x1;});}async[a0_0x3f93a9(0x808)](_0x546c6f,_0x5c13d1){const _0x82bdf2=a0_0x3f93a9;try{if(!_0x5c13d1)return this[_0x82bdf2(0x458)]['error'](this[_0x82bdf2(0x5cf)]+'\x20('+this[_0x82bdf2(0x7ed)][_0x82bdf2(0x828)]+_0x82bdf2(0x1df)),{'error':!0x0,'detail':_0x82bdf2(0x7a4)};if(_0x5c13d1[_0x82bdf2(0x66e)]===_0x82bdf2(0x3d3)&&!this['AutomateSystem']?.['flowConfig']['enabled'])return this[_0x82bdf2(0x458)][_0x82bdf2(0x70d)](this[_0x82bdf2(0x5cf)]+'\x20('+this[_0x82bdf2(0x7ed)][_0x82bdf2(0x828)]+'):\x20Fluxos\x20não\x20estão\x20ativados'),{'error':!0x0,'detail':'Fluxos\x20não\x20estão\x20ativados'};switch(_0x5c13d1[_0x82bdf2(0x66e)]){case _0x82bdf2(0x5d0):return await this['scheduleSendText'](_0x5c13d1,_0x546c6f);case _0x82bdf2(0x48a):case _0x82bdf2(0x87a):case _0x82bdf2(0x262):return await this[_0x82bdf2(0x5b8)](_0x5c13d1,_0x546c6f);case _0x82bdf2(0x531):return await this[_0x82bdf2(0x1d1)](_0x5c13d1,_0x546c6f);case _0x82bdf2(0x3d3):let _0x210294=new We();return _0x210294['name']=_0x5c13d1[_0x82bdf2(0x3d3)],_0x210294[_0x82bdf2(0x6fa)]=_0x546c6f,await this[_0x82bdf2(0x707)](_0x210294);default:return this[_0x82bdf2(0x458)][_0x82bdf2(0x70d)](this['instanceName']+'\x20('+this[_0x82bdf2(0x7ed)]['wuid']+_0x82bdf2(0x667)+_0x5c13d1[_0x82bdf2(0x66e)]),{'error':!0x0,'detail':'Comando\x20desconhecido'};}}catch(_0x149997){return this[_0x82bdf2(0x458)]['error'](this['instanceName']+'\x20('+this[_0x82bdf2(0x7ed)][_0x82bdf2(0x828)]+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x149997 instanceof Error?_0x149997[_0x82bdf2(0x7a3)]:JSON[_0x82bdf2(0x684)](_0x149997,null,0x2))),{'error':!0x0,'detail':_0x149997['message']};}}async[a0_0x3f93a9(0x6c9)](_0x305b4c,_0x349aaf){const _0x258719=a0_0x3f93a9;if(this['logger']['verbose'](this[_0x258719(0x5cf)]+'\x20('+this['instance'][_0x258719(0x828)]+_0x258719(0x3b1)+_0x349aaf+'\x27'),!_0x305b4c[_0x258719(0x5d0)]||_0x305b4c[_0x258719(0x5d0)][_0x258719(0x40e)]===0x0)return{'error':!0x0,'detail':_0x258719(0x8cb)};let _0x529a4b=await this['replaceVariablesChat'](_0x305b4c[_0x258719(0x5d0)],_0x349aaf),_0x75c5ab={'number':_0x349aaf,'options':{'delay':_0x305b4c['delay'],'linkPreview':_0x305b4c[_0x258719(0x4d9)]},'textMessage':{'text':_0x529a4b}},_0x42799e=null;try{let _0x329929=await this[_0x258719(0x862)](_0x75c5ab);if(_0x329929&&_0x329929[_0x258719(0x74f)])return{'error':!0x1,'id':_0x329929[_0x258719(0x33a)]['id']};_0x42799e=JSON['stringify'](_0x329929),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x258719(0x7ed)]['wuid']+_0x258719(0x432)+_0x42799e);}catch(_0x4702ce){this['logger'][_0x258719(0x70d)](this[_0x258719(0x5cf)]+'\x20('+this[_0x258719(0x7ed)][_0x258719(0x828)]+_0x258719(0x1f6)+(_0x4702ce instanceof Error?_0x4702ce['message']:JSON[_0x258719(0x684)](_0x4702ce,null,0x2))),_0x42799e=_0x4702ce[_0x258719(0x7a3)];}if(_0x42799e)return{'error':!0x0,'detail':(typeof _0x42799e==_0x258719(0x894)?JSON['stringify'](_0x42799e,null,0x2):_0x42799e)[_0x258719(0x2a1)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x3f93a9(0x5b8)](_0x2cea39,_0x2f4f53){const _0x59eba7=a0_0x3f93a9;this[_0x59eba7(0x458)][_0x59eba7(0x5e2)](this[_0x59eba7(0x5cf)]+'\x20('+this[_0x59eba7(0x7ed)][_0x59eba7(0x828)]+_0x59eba7(0x86c)+_0x2f4f53+'\x27');let _0x444b15;_0x2cea39['text']&&_0x2cea39['text']['length']>0x0&&(_0x444b15=await this[_0x59eba7(0x5cc)](_0x2cea39[_0x59eba7(0x5d0)],_0x2f4f53));let _0x1dcae7={'number':_0x2f4f53,'options':{'delay':_0x2cea39[_0x59eba7(0x818)],'linkPreview':_0x2cea39[_0x59eba7(0x4d9)]},'mediaMessage':{'mediatype':_0x2cea39['type'],'caption':_0x444b15,'media':_0x2cea39[_0x59eba7(0x2ad)]}},_0x5a035a=null;try{let _0x919812=await this[_0x59eba7(0x41b)](_0x1dcae7);if(_0x919812&&_0x919812[_0x59eba7(0x74f)])return{'error':!0x1,'id':_0x919812[_0x59eba7(0x33a)]['id']};_0x5a035a=JSON['stringify'](_0x919812),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x59eba7(0x7ed)][_0x59eba7(0x828)]+_0x59eba7(0x432)+_0x5a035a);}catch(_0x27483b){this[_0x59eba7(0x458)][_0x59eba7(0x70d)](this[_0x59eba7(0x5cf)]+'\x20('+this[_0x59eba7(0x7ed)][_0x59eba7(0x828)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x27483b instanceof Error?_0x27483b['message']:JSON['stringify'](_0x27483b,null,0x2))),_0x5a035a=_0x27483b[_0x59eba7(0x7a3)];}if(_0x5a035a)return{'error':!0x0,'detail':(typeof _0x5a035a=='object'?JSON[_0x59eba7(0x684)](_0x5a035a,null,0x2):_0x5a035a)[_0x59eba7(0x2a1)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x3f93a9(0x1d1)](_0x421931,_0x4dd247){const _0x1ae8f7=a0_0x3f93a9;this[_0x1ae8f7(0x458)][_0x1ae8f7(0x5e2)](this[_0x1ae8f7(0x5cf)]+'\x20('+this[_0x1ae8f7(0x7ed)][_0x1ae8f7(0x828)]+'):\x20\x27Enviando\x20audio\x20para\x20\x27'+_0x4dd247+'\x27');let _0x20f2c3={'number':_0x4dd247,'options':{'delay':_0x421931[_0x1ae8f7(0x818)]},'audioMessage':{'audio':_0x421931[_0x1ae8f7(0x2ad)]}},_0x262131=null;try{let _0x4de407=await this['audioWhatsapp'](_0x20f2c3);if(_0x4de407&&_0x4de407[_0x1ae8f7(0x74f)])return{'error':!0x1,'id':_0x4de407[_0x1ae8f7(0x33a)]['id']};_0x262131=JSON[_0x1ae8f7(0x684)](_0x4de407),this[_0x1ae8f7(0x458)][_0x1ae8f7(0x5e2)](this['instanceName']+'\x20('+this[_0x1ae8f7(0x7ed)][_0x1ae8f7(0x828)]+_0x1ae8f7(0x432)+_0x262131);}catch(_0x12599a){this[_0x1ae8f7(0x458)][_0x1ae8f7(0x70d)](this[_0x1ae8f7(0x5cf)]+'\x20('+this[_0x1ae8f7(0x7ed)][_0x1ae8f7(0x828)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20'+(_0x12599a instanceof Error?_0x12599a[_0x1ae8f7(0x7a3)]:JSON['stringify'](_0x12599a,null,0x2))),_0x262131=_0x12599a[_0x1ae8f7(0x7a3)];}if(_0x262131)return{'error':!0x0,'detail':(typeof _0x262131==_0x1ae8f7(0x894)?JSON[_0x1ae8f7(0x684)](_0x262131,null,0x2):_0x262131)[_0x1ae8f7(0x2a1)](/[\[\]{}\n]/g,'\x20')[_0x1ae8f7(0x2a1)](/  +/g,'\x20')};}async['groupDesc'](_0x5686e2){const _0x12e0c9=a0_0x3f93a9;try{return await this[_0x12e0c9(0x2e8)][_0x12e0c9(0x4ac)](_0x5686e2['groupJid'],_0x5686e2['description']),{'update':_0x12e0c9(0x7c6)};}catch(_0x5189d6){let _0x373e19=_0x12e0c9(0x859),_0x43814a=_0x5189d6 instanceof Error?_0x5189d6['message']:typeof _0x5189d6==_0x12e0c9(0x894)?JSON[_0x12e0c9(0x684)](_0x5189d6):_0x5189d6,_0x1cb0d1=_0x373e19+':\x20'+_0x43814a;throw this[_0x12e0c9(0x458)]['error'](this[_0x12e0c9(0x5cf)]+'\x20('+this[_0x12e0c9(0x7ed)]['wuid']+_0x12e0c9(0x432)+_0x1cb0d1),new x(_0x1cb0d1);}}async[a0_0x3f93a9(0x307)](_0x2d1297){const _0x2bd5d0=a0_0x3f93a9;try{return await this['client'][_0x2bd5d0(0x725)](_0x2d1297[_0x2bd5d0(0x306)],_0x2d1297[_0x2bd5d0(0x537)]),{'update':_0x2bd5d0(0x7c6)};}catch(_0x3f361e){let _0x2f07a7='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName',_0x53545c=_0x3f361e instanceof Error?_0x3f361e['message']:typeof _0x3f361e==_0x2bd5d0(0x894)?JSON[_0x2bd5d0(0x684)](_0x3f361e):_0x3f361e,_0x1eee4e=_0x2f07a7+':\x20'+_0x53545c;throw this[_0x2bd5d0(0x458)][_0x2bd5d0(0x70d)](this['instanceName']+'\x20('+this['instance'][_0x2bd5d0(0x828)]+_0x2bd5d0(0x432)+_0x1eee4e),new x(_0x1eee4e);}}async[a0_0x3f93a9(0x5d9)](_0x3df679){const _0xc2e68b=a0_0x3f93a9;try{let _0x159263=await this[_0xc2e68b(0x2e8)]['groupToggleEphemeral'](_0x3df679[_0xc2e68b(0x306)],_0x3df679['expiration']);return{'success':!0x0};}catch(_0x4446f2){let _0x20dd27='Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral',_0x298cb1=_0x4446f2 instanceof Error?_0x4446f2[_0xc2e68b(0x7a3)]:typeof _0x4446f2==_0xc2e68b(0x894)?JSON[_0xc2e68b(0x684)](_0x4446f2):_0x4446f2,_0x2c38c0=_0x20dd27+':\x20'+_0x298cb1;throw this[_0xc2e68b(0x458)][_0xc2e68b(0x70d)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xc2e68b(0x432)+_0x2c38c0),new x(_0x2c38c0);}}async['groupSetting'](_0x39ad2b){const _0x585ed9=a0_0x3f93a9;try{return await this['client']['groupSettingUpdate'](_0x39ad2b[_0x585ed9(0x306)],_0x39ad2b[_0x585ed9(0x82c)]),{'update':_0x585ed9(0x7c6)};}catch(_0x3ba62e){let _0xd42cc7=_0x585ed9(0x7ab),_0x5ea3f6=_0x3ba62e instanceof Error?_0x3ba62e[_0x585ed9(0x7a3)]:typeof _0x3ba62e==_0x585ed9(0x894)?JSON[_0x585ed9(0x684)](_0x3ba62e):_0x3ba62e,_0x26b7b=_0xd42cc7+':\x20'+_0x5ea3f6;throw this['logger'][_0x585ed9(0x70d)](this['instanceName']+'\x20('+this[_0x585ed9(0x7ed)][_0x585ed9(0x828)]+_0x585ed9(0x432)+_0x26b7b),new x(_0x26b7b);}}async[a0_0x3f93a9(0x892)](_0x50cfcf){const _0x228d63=a0_0x3f93a9;try{let _0x4ec64e;if((0x0,J['isURL'])(_0x50cfcf[_0x228d63(0x87a)])){let _0x29e10f=new Date()['getTime'](),_0x1925ff=_0x50cfcf[_0x228d63(0x87a)]+'?timestamp='+_0x29e10f;_0x4ec64e=(await Q[_0x228d63(0x73f)]['get'](_0x1925ff,{'responseType':_0x228d63(0x495)}))['data'];}else{if((0x0,J[_0x228d63(0x6b0)])(_0x50cfcf['image']))_0x4ec64e=Buffer[_0x228d63(0x7eb)](_0x50cfcf[_0x228d63(0x87a)],'base64');else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x228d63(0x2e8)][_0x228d63(0x2c7)](_0x50cfcf[_0x228d63(0x306)],_0x4ec64e),{'update':_0x228d63(0x7c6)};}catch(_0x494f9f){let _0x440ffe=_0x228d63(0x32a),_0x3d7f1b=_0x494f9f instanceof Error?_0x494f9f['message']:typeof _0x494f9f==_0x228d63(0x894)?JSON[_0x228d63(0x684)](_0x494f9f):_0x494f9f,_0x3e43d4=_0x440ffe+':\x20'+_0x3d7f1b;throw this[_0x228d63(0x458)]['error'](this['instanceName']+'\x20('+this[_0x228d63(0x7ed)][_0x228d63(0x828)]+'):\x20'+_0x3e43d4),new x(_0x3e43d4);}}},jt=class u{constructor(_0x4fdf40,_0x320899,_0x5d6a1f){const _0x3fc7ac=a0_0x3f93a9;this[_0x3fc7ac(0x8f8)]=_0x4fdf40,this[_0x3fc7ac(0x4f6)]=_0x320899,this['repository']=_0x5d6a1f,this['db']={},this[_0x3fc7ac(0x6ba)]={},this[_0x3fc7ac(0x458)]=new $(u[_0x3fc7ac(0x537)]),this[_0x3fc7ac(0x26a)]={},(this[_0x3fc7ac(0x89e)](),this[_0x3fc7ac(0x8ad)](),Object[_0x3fc7ac(0x6a6)](this['db'],_0x320899[_0x3fc7ac(0x2da)]('DATABASE')),Object[_0x3fc7ac(0x6a6)](this['redis'],_0x320899['get']('REDIS')),this[_0x3fc7ac(0x319)]=this['db'][_0x3fc7ac(0x218)]?this[_0x3fc7ac(0x4a0)]['dbServer']?.['db'](this['db'][_0x3fc7ac(0x626)][_0x3fc7ac(0x520)]+'-instances'):void 0x0,this[_0x3fc7ac(0x545)]=this[_0x3fc7ac(0x6ba)]['ENABLED']?new pe(this['redis']):void 0x0);}async[a0_0x3f93a9(0x1e4)](_0x8d27a7){const _0xde6af5=a0_0x3f93a9;if(_0x8d27a7&&!this['waInstances'][_0x8d27a7])throw new U(_0xde6af5(0x82b)+_0x8d27a7+_0xde6af5(0x2ce));let _0x212cbc=[];for await(let [_0x5a93a3,_0x392145]of Object['entries'](this[_0xde6af5(0x26a)]))if(_0x392145&&_0x392145[_0xde6af5(0x47a)][_0xde6af5(0x338)]==='open'){let _0x4599f1=await this[_0xde6af5(0x4a0)]['auth'][_0xde6af5(0x419)](_0x5a93a3);_0x212cbc['push']({'instance':{'instanceName':_0x5a93a3,'apikey':_0x4599f1[_0xde6af5(0x5ec)],'owner':_0x392145['wuid'],'profileName':await _0x392145['getProfileName']()||_0xde6af5(0x385),'profilePictureUrl':_0x392145[_0xde6af5(0x3c4)]}});}return _0x212cbc[_0xde6af5(0x419)](_0x5eb033=>_0x5eb033['instance'][_0xde6af5(0x5cf)]===_0x8d27a7)??_0x212cbc;}async['cleaningUp'](_0x11af10){const _0x63901=a0_0x3f93a9;if(this['db'][_0x63901(0x218)]&&(await this[_0x63901(0x4a0)]['dbServer'][_0x63901(0x2b1)](),(await this['dbInstance'][_0x63901(0x650)]())[_0x63901(0x40e)]>0x0&&await this['dbInstance'][_0x63901(0x287)](_0x11af10)),this['redis']['ENABLED']){this[_0x63901(0x545)][_0x63901(0x265)]=_0x11af10,await this[_0x63901(0x545)][_0x63901(0x628)]();return;}}async[a0_0x3f93a9(0x4ad)](){const _0xfbe9f1=a0_0x3f93a9;await this[_0xfbe9f1(0x4b0)]();let _0x137a4e=async _0x26a495=>{const _0x3d27f7=_0xfbe9f1;let _0x1907e0=new $e(this[_0x3d27f7(0x4f6)],this[_0x3d27f7(0x8f8)],this[_0x3d27f7(0x4a0)]);_0x1907e0['instanceName']=_0x26a495,await _0x1907e0[_0x3d27f7(0x460)](),this['waInstances'][_0x26a495]=_0x1907e0;};try{if(this[_0xfbe9f1(0x6ba)][_0xfbe9f1(0x218)]){let _0x383e8d=await this[_0xfbe9f1(0x545)][_0xfbe9f1(0x719)]();_0x383e8d?.[_0xfbe9f1(0x40e)]>0x0&&_0x383e8d[_0xfbe9f1(0x3c9)](async _0x1fc38d=>await _0x137a4e(_0x1fc38d[_0xfbe9f1(0x6a4)](':')[0x1]));return;}if(this['db'][_0xfbe9f1(0x218)]){await this[_0xfbe9f1(0x4a0)][_0xfbe9f1(0x53c)][_0xfbe9f1(0x2b1)]();let _0x2550d2=await this[_0xfbe9f1(0x319)][_0xfbe9f1(0x650)]();_0x2550d2['length']>0x0&&_0x2550d2[_0xfbe9f1(0x3c9)](async _0x2adc56=>await _0x137a4e(_0x2adc56[_0xfbe9f1(0x43e)][_0xfbe9f1(0x2a1)](/^[\w-]+\./,'')));return;}}catch(_0x3000b5){this['logger'][_0xfbe9f1(0x70d)](_0x3000b5);}}async[a0_0x3f93a9(0x540)](){const _0x8aac4c=a0_0x3f93a9;try{let _0x5db84e=await this['repository'][_0x8aac4c(0x30a)]['findMany']({'online':!0x1});for(let _0xb98777 of _0x5db84e){let _0x11f10b=_0xb98777[_0x8aac4c(0x7ad)];await se[_0x8aac4c(0x635)](B,_0x11f10b);}console['log']('Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20'+_0x5db84e[_0x8aac4c(0x40e)]);let _0x1aebaa={'online':!0x1},_0x2db34d=await this[_0x8aac4c(0x4a0)][_0x8aac4c(0x30a)][_0x8aac4c(0x6fe)](_0x1aebaa);console[_0x8aac4c(0x236)](_0x8aac4c(0x71a)+_0x2db34d[_0x8aac4c(0x8a6)]);}catch(_0x206c76){console[_0x8aac4c(0x70d)](_0x8aac4c(0x309),_0x206c76);}}async[a0_0x3f93a9(0x4b0)](){const _0x811c8d=a0_0x3f93a9;try{let _0x1a5657={'online':!0x1},_0x5f0f8c={'online':!0x1,'lastDisconnect':Date[_0x811c8d(0x5a4)]()},_0x1ae1a4=await this['repository'][_0x811c8d(0x30a)][_0x811c8d(0x2b6)](_0x1a5657,_0x5f0f8c);await this['cleanDisconnectedInstances']();}catch(_0x389a2d){console[_0x811c8d(0x70d)](_0x811c8d(0x895),_0x389a2d);}}['removeInstance'](){const _0xf2ea44=a0_0x3f93a9;this[_0xf2ea44(0x8f8)]['on'](_0xf2ea44(0x424),async _0x274a9b=>{const _0x4ec8ef=_0xf2ea44;try{this['waInstances'][_0x274a9b]=void 0x0;}catch{}try{this['cleaningUp'](_0x274a9b);}finally{this[_0x4ec8ef(0x458)][_0x4ec8ef(0x939)]('Instance\x20\x22'+_0x274a9b+_0x4ec8ef(0x602));}});}['noConnection'](){const _0x4eca2c=a0_0x3f93a9;this['eventEmitter']['on'](_0x4eca2c(0x1fc),async _0x19037c=>{const _0x16ebd0=_0x4eca2c;try{this[_0x16ebd0(0x26a)][_0x19037c]=void 0x0;}catch{}try{this[_0x16ebd0(0x1ce)](_0x19037c);}finally{this[_0x16ebd0(0x458)][_0x16ebd0(0x939)](_0x16ebd0(0x82b)+_0x19037c+_0x16ebd0(0x623));}});}},Jt=class extends O{[a0_0x3f93a9(0x353)](_0x4b4e1d){return Xs(_0x4b4e1d);}async[a0_0x3f93a9(0x896)](_0x3ac5c9){const _0x54079d=a0_0x3f93a9;if(_0x3ac5c9['length']!==0x0)try{return{'insertCount':(await this[_0x54079d(0x353)](_0x3ac5c9[0x0][_0x54079d(0x4a1)])['insertMany']([..._0x3ac5c9]))['length']};}catch(_0x46f3e2){return _0x46f3e2;}}async[a0_0x3f93a9(0x419)](_0xc2074,_0x45e2b8){const _0x6fd048=a0_0x3f93a9;try{let _0x3ea6f4=this[_0x6fd048(0x353)](_0x45e2b8),_0x299df5=I(_0xc2074[_0x6fd048(0x5b5)]);return await _0x3ea6f4[_0x6fd048(0x419)](_0x299df5)['sort']({'lastmsg':-0x1})[_0x6fd048(0x815)](_0xc2074?.[_0x6fd048(0x815)]??0x0)['lean']();}catch{return[];}}async[a0_0x3f93a9(0x89c)](_0x3aab51,_0x51c14e){const _0x58e416=a0_0x3f93a9;try{let _0x522850=this[_0x58e416(0x353)](_0x51c14e),_0x21201e=I(_0x3aab51[_0x58e416(0x5b5)]);return _0x21201e[_0x58e416(0x7f9)]={'$ne':[]},await _0x522850[_0x58e416(0x419)](_0x21201e)[_0x58e416(0x469)]({'lastmsg':-0x1})[_0x58e416(0x815)](_0x3aab51?.[_0x58e416(0x815)]??0x0)['lean']();}catch{return[];}}async[a0_0x3f93a9(0x342)](_0x1967d6,_0x729ca5){const _0x465038=a0_0x3f93a9;try{return{'deletedCount':(await this[_0x465038(0x353)](_0x729ca5)[_0x465038(0x6fe)]({..._0x1967d6[_0x465038(0x5b5)]}))[_0x465038(0x2e7)]};}catch(_0x59f9ad){return{'error':_0x59f9ad?.[_0x465038(0x5e7)]()};}}async[a0_0x3f93a9(0x617)](_0x22718d,_0x364d64){const _0x306139=a0_0x3f93a9;try{return await this['getChatModelForOwner'](_0x364d64)[_0x306139(0x6fe)]({..._0x22718d[_0x306139(0x5b5)]}),[];}catch(_0xdc3eb3){return{'error':_0xdc3eb3?.[_0x306139(0x5e7)]()};}}async['findOne'](_0x3fd3d4,_0x37699c){const _0xb3fdfa=a0_0x3f93a9;try{let _0x3be54b=this[_0xb3fdfa(0x353)](_0x37699c),_0x7e18d1=I(_0x3fd3d4[_0xb3fdfa(0x5b5)]);return await _0x3be54b[_0xb3fdfa(0x39a)](_0x7e18d1)[_0xb3fdfa(0x4b3)]();}catch{return null;}}async[a0_0x3f93a9(0x349)](_0x5abc03,_0x3866e5,_0x44f882,_0x27b7ad,_0x206880=a0_0x3f93a9(0x730)){const _0xc2a818=a0_0x3f93a9;try{let _0x176f91={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x27b7ad},_0x6f1b96=this['getChatModelForOwner'](_0x44f882),_0xdbf8f2=I(_0x5abc03[_0xc2a818(0x5b5)]);Object['keys'](_0x3866e5)[_0xc2a818(0x3c9)](_0x5e6796=>{_0x3866e5[_0x5e6796]==null&&delete _0x3866e5[_0x5e6796];});let _0x3e7f8f={};return _0x3e7f8f[_0x206880]=_0x3866e5,await _0x6f1b96[_0xc2a818(0x32c)](_0xdbf8f2,_0x3e7f8f,_0x176f91);}catch(_0x26ade6){return console[_0xc2a818(0x70d)](_0x26ade6),null;}}async[a0_0x3f93a9(0x34e)](_0x57866d){const _0x2ffec7=a0_0x3f93a9;try{let _0x39826a=this[_0x2ffec7(0x353)](_0x57866d[0x0][_0x2ffec7(0x671)][_0x2ffec7(0x5b5)]['owner']),_0x55a5d3=_0x57866d['map'](_0x37e9ef=>({'updateOne':{'filter':{..._0x37e9ef[_0x2ffec7(0x671)][_0x2ffec7(0x5b5)]},'update':{'$set':_0x37e9ef[_0x2ffec7(0x2df)]},'upsert':!0x0}})),_0x2fbbbb=await _0x39826a['bulkWrite'](_0x55a5d3);return _0x2fbbbb[_0x2ffec7(0x221)]+_0x2fbbbb[_0x2ffec7(0x5ee)];}catch(_0x3b7da6){return console[_0x2ffec7(0x70d)](_0x3b7da6),0x0;}}async[a0_0x3f93a9(0x1e2)](_0x130458){const _0x450a2d=a0_0x3f93a9;try{let _0x21f5c7={'group_isCommunity':'','group_announce':'','group_size':''},_0xe4a13d={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x4dac86={'$unset':_0x21f5c7};return(await this[_0x450a2d(0x353)](_0x130458)[_0x450a2d(0x34e)](_0xe4a13d,_0x4dac86))[_0x450a2d(0x221)];}catch(_0x2ced36){return console[_0x450a2d(0x70d)]('Error\x20removing\x20unused\x20chat\x20fields:',_0x2ced36),0x0;}}async[a0_0x3f93a9(0x4c0)](_0x397d73){const _0xa8f6a=a0_0x3f93a9;try{let _0x48ca6d=this['getChatModelForOwner'](_0x397d73),_0x220f63={'leadInfo.etiquetas':{'$exists':!0x1}},_0x5369a0={'$set':{'leadInfo.etiquetas':[]}};return(await _0x48ca6d[_0xa8f6a(0x34e)](_0x220f63,_0x5369a0))[_0xa8f6a(0x221)];}catch(_0x11e3fa){return console[_0xa8f6a(0x70d)](_0x11e3fa),0x0;}}async[a0_0x3f93a9(0x8b7)](_0xd9d6fe){const _0x123c7a=a0_0x3f93a9;try{let _0x887df3=this[_0x123c7a(0x353)](_0xd9d6fe),_0x3bac98={'leadInfo.tags':{'$exists':!0x1}},_0x12c0c5={'$set':{'leadInfo.tags':[]}};return(await _0x887df3['updateMany'](_0x3bac98,_0x12c0c5))[_0x123c7a(0x221)];}catch(_0x29d0af){return console[_0x123c7a(0x70d)](_0x29d0af),0x0;}}async[a0_0x3f93a9(0x844)](_0x36ca77){const _0x3321b0=a0_0x3f93a9;try{let _0xa0663c=this[_0x3321b0(0x353)](_0x36ca77),_0x5dd939={'leadInfo.customFields':{'$exists':!0x1}},_0x582f8c={'$set':{'leadInfo.customFields':[]}};return(await _0xa0663c['updateMany'](_0x5dd939,_0x582f8c))[_0x3321b0(0x221)];}catch(_0x30969b){return console[_0x3321b0(0x70d)](_0x30969b),0x0;}}async['insertMany'](_0x2dc43d,_0x65e5fc){const _0x7739f9=a0_0x3f93a9;if(!Array[_0x7739f9(0x84c)](_0x2dc43d)||_0x2dc43d[_0x7739f9(0x40e)]===0x0)throw new Error(_0x7739f9(0x403));try{return(await this[_0x7739f9(0x353)](_0x65e5fc)[_0x7739f9(0x6e9)](_0x2dc43d))[_0x7739f9(0x40e)];}catch(_0x4e8a78){throw console['error'](_0x7739f9(0x453),_0x4e8a78),_0x4e8a78;}}async[a0_0x3f93a9(0x5cb)](_0x5331df,_0x2345e8){const _0x456e4e=a0_0x3f93a9;try{await this[_0x456e4e(0x353)](_0x2345e8)[_0x456e4e(0x250)]({'_id':_0x5331df});}catch(_0xe5699c){throw console[_0x456e4e(0x70d)]('Erro\x20ao\x20deletar\x20chat:',_0xe5699c),_0xe5699c;}}},qt=class extends O{constructor(_0xe0a18,_0x3eb7c0,_0x20b74){const _0x1c8201=a0_0x3f93a9;super(_0x3eb7c0),this[_0x1c8201(0x2b4)]=_0xe0a18,this[_0x1c8201(0x4f6)]=_0x3eb7c0,this[_0x1c8201(0x6b2)]=_0x20b74;}async[a0_0x3f93a9(0x896)](_0x23c049){const _0x5cf3a3=a0_0x3f93a9;if(_0x23c049['length']!==0x0)try{return{'insertCount':(await this[_0x5cf3a3(0x2b4)][_0x5cf3a3(0x6e9)]([..._0x23c049]))[_0x5cf3a3(0x40e)]};}catch(_0x4bedca){return _0x4bedca;}}async[a0_0x3f93a9(0x2df)](_0x4aefd5,_0x132a96){const _0x20ab2f=a0_0x3f93a9;try{let _0xcb770d=I(_0x4aefd5['where']);return{'updatedCount':(await this[_0x20ab2f(0x2b4)][_0x20ab2f(0x34e)](_0xcb770d,{'$set':_0x132a96}))[_0x20ab2f(0x221)]};}catch(_0x4c1bd4){return console[_0x20ab2f(0x70d)](_0x20ab2f(0x2a8),_0x4c1bd4),{'error':_0x4c1bd4[_0x20ab2f(0x5e7)]()};}}async[a0_0x3f93a9(0x659)](_0x270b89){const _0xbbc127=a0_0x3f93a9;try{let _0x5d876a={'_id':{'$in':_0x270b89}};return await this[_0xbbc127(0x2b4)][_0xbbc127(0x419)](_0x5d876a)[_0xbbc127(0x4b3)]();}catch(_0xfd09ef){return console[_0xbbc127(0x70d)](_0xbbc127(0x7a5),_0xfd09ef),[];}}async[a0_0x3f93a9(0x342)](_0x2a3b0e){const _0x34fcfb=a0_0x3f93a9;try{return{'deletedCount':(await this[_0x34fcfb(0x2b4)][_0x34fcfb(0x6fe)]({..._0x2a3b0e[_0x34fcfb(0x5b5)]}))['deletedCount']};}catch(_0x272703){return{'error':_0x272703?.['toString']()};}}async[a0_0x3f93a9(0x419)](_0x469474){const _0x6f1ea4=a0_0x3f93a9;try{let _0x5463e6=I(_0x469474[_0x6f1ea4(0x5b5)]);return await this[_0x6f1ea4(0x2b4)][_0x6f1ea4(0x419)](_0x5463e6)[_0x6f1ea4(0x815)](_0x469474?.[_0x6f1ea4(0x815)]??0x0)[_0x6f1ea4(0x4b3)]();}catch{return[];}}async['findOne'](_0x32b1c9){const _0x2d6783=a0_0x3f93a9;try{let _0x118cff=I(_0x32b1c9[_0x2d6783(0x5b5)]);return await this[_0x2d6783(0x2b4)][_0x2d6783(0x39a)](_0x118cff)['lean']();}catch{return null;}}},Vt=class extends O{[a0_0x3f93a9(0x1d6)](_0x435e31){return Sa(_0x435e31);}async[a0_0x3f93a9(0x349)](_0x591d71,_0x2cc459,_0x15f562,_0x38ebaa){const _0x14dc0e=a0_0x3f93a9;try{let _0x54acee={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x38ebaa},_0x370a0e=this[_0x14dc0e(0x1d6)](_0x15f562),_0x20c51c=I(_0x591d71['where']);return await _0x370a0e[_0x14dc0e(0x32c)](_0x20c51c,{'$set':_0x2cc459},_0x54acee);}catch(_0x105e7f){return console['error'](_0x105e7f),null;}}async[a0_0x3f93a9(0x419)](_0x38b6a7,_0x26b2e3){const _0x1046ff=a0_0x3f93a9;try{let _0x5745df=this[_0x1046ff(0x1d6)](_0x26b2e3),_0x4d3690=I(_0x38b6a7[_0x1046ff(0x5b5)]);return await _0x5745df['find'](_0x4d3690);}catch(_0x53d4d7){console[_0x1046ff(0x70d)](_0x53d4d7);}}async[a0_0x3f93a9(0x342)](_0x43d574,_0x520e61){const _0x54d6fe=a0_0x3f93a9;try{let _0x5acde1=this[_0x54d6fe(0x1d6)](_0x520e61),_0x23c76f=I(_0x43d574['where']);await _0x5acde1[_0x54d6fe(0x6fe)](_0x23c76f);}catch(_0x530031){console['error'](_0x530031);}}async[a0_0x3f93a9(0x617)](_0x53facb){const _0x2fc9c1=a0_0x3f93a9;try{return await this['getLabelModelForOwner'](_0x53facb)['collection'][_0x2fc9c1(0x406)](),{'success':!0x0};}catch(_0x591668){return console[_0x2fc9c1(0x70d)](_0x591668),{'success':!0x1,'error':_0x591668};}}},Gt=class{constructor(_0x24ad72){this['waMonitor']=_0x24ad72;}async[a0_0x3f93a9(0x368)]({instanceName:_0x519081},_0x755994){const _0x35a208=a0_0x3f93a9;return await this[_0x35a208(0x5f1)][_0x35a208(0x26a)][_0x519081][_0x35a208(0x368)](_0x755994);}async[a0_0x3f93a9(0x8eb)]({instanceName:_0x21832d},_0x2eb36f){const _0x5580d4=a0_0x3f93a9;return await this['waMonitor'][_0x5580d4(0x26a)][_0x21832d][_0x5580d4(0x8eb)](_0x2eb36f);}async['importChats']({instanceName:_0x278796},_0x21446b){const _0xdaa214=a0_0x3f93a9;return await this[_0xdaa214(0x5f1)][_0xdaa214(0x26a)][_0x278796]['importChats'](_0x21446b);}async[a0_0x3f93a9(0x3b4)]({instanceName:_0x9abb67},_0x354e30){const _0x45168d=a0_0x3f93a9;return await this[_0x45168d(0x5f1)][_0x45168d(0x26a)][_0x9abb67][_0x45168d(0x67d)](_0x354e30);}async['archiveChat']({instanceName:_0x3e45fd},_0x5beb13){const _0x455d05=a0_0x3f93a9;return await this[_0x455d05(0x5f1)]['waInstances'][_0x3e45fd][_0x455d05(0x289)](_0x5beb13);}async[a0_0x3f93a9(0x8d1)]({instanceName:_0x1ef7e7},_0x47ba83){const _0x4b8122=a0_0x3f93a9;return await this[_0x4b8122(0x5f1)]['waInstances'][_0x1ef7e7][_0x4b8122(0x8d1)](_0x47ba83);}async['fetchProfilePicture']({instanceName:_0x14342d},_0x29ecaa){const _0x20377a=a0_0x3f93a9;return await this[_0x20377a(0x5f1)]['waInstances'][_0x14342d][_0x20377a(0x434)](_0x29ecaa[_0x20377a(0x42d)]);}async['fetchProfile']({instanceName:_0x5c1b48},_0x5a760c){const _0x66773b=a0_0x3f93a9;return await this['waMonitor'][_0x66773b(0x26a)][_0x5c1b48][_0x66773b(0x86e)](_0x5a760c[_0x66773b(0x42d)]);}async[a0_0x3f93a9(0x65f)]({instanceName:_0x3b46ea},_0x4b4d3f){const _0x16016c=a0_0x3f93a9;return await this[_0x16016c(0x5f1)][_0x16016c(0x26a)][_0x3b46ea][_0x16016c(0x65f)](_0x4b4d3f);}async[a0_0x3f93a9(0x8e8)]({instanceName:_0x4496d7},_0x2097e7){const _0x6d9146=a0_0x3f93a9;return await this[_0x6d9146(0x5f1)][_0x6d9146(0x26a)][_0x4496d7][_0x6d9146(0x8e8)](_0x2097e7);}async['getBase64FromMediaMessage']({instanceName:_0x443262},_0x234637){const _0x45ed00=a0_0x3f93a9;return await this['waMonitor'][_0x45ed00(0x26a)][_0x443262][_0x45ed00(0x2a9)](_0x234637);}async['fetchMessages']({instanceName:_0x5c5a71},_0x57e3d5){const _0x5bcb8d=a0_0x3f93a9;return await this[_0x5bcb8d(0x5f1)][_0x5bcb8d(0x26a)][_0x5c5a71][_0x5bcb8d(0x360)](_0x57e3d5);}async[a0_0x3f93a9(0x80c)]({instanceName:_0x5f26ca}){const _0x53da12=a0_0x3f93a9;return await this['waMonitor'][_0x53da12(0x26a)][_0x5f26ca][_0x53da12(0x80c)]();}async[a0_0x3f93a9(0x59b)]({instanceName:_0x446f46}){const _0x4c9db5=a0_0x3f93a9;return await this[_0x4c9db5(0x5f1)][_0x4c9db5(0x26a)][_0x446f46]['fetchChats']();}async['fetchPrivacySettings']({instanceName:_0x3959b9}){const _0x5c78ac=a0_0x3f93a9;return await this[_0x5c78ac(0x5f1)][_0x5c78ac(0x26a)][_0x3959b9][_0x5c78ac(0x261)]();}async['updatePrivacySettings']({instanceName:_0x509797},_0x15fa7f){const _0x18eb9a=a0_0x3f93a9;return await this['waMonitor'][_0x18eb9a(0x26a)][_0x509797]['updatePrivacySettings'](_0x15fa7f);}async[a0_0x3f93a9(0x405)]({instanceName:_0x588ef7},_0x386ac0){const _0x231679=a0_0x3f93a9;return await this[_0x231679(0x5f1)][_0x231679(0x26a)][_0x588ef7][_0x231679(0x405)](_0x386ac0[_0x231679(0x42d)]);}async[a0_0x3f93a9(0x8ed)]({instanceName:_0x391b32},_0x1ca4d0){const _0x2b757f=a0_0x3f93a9;return await this[_0x2b757f(0x5f1)]['waInstances'][_0x391b32]['updateProfileName'](_0x1ca4d0['name']);}async[a0_0x3f93a9(0x4dd)]({instanceName:_0x2f174f},_0x57906e){const _0x4e6b4d=a0_0x3f93a9;return await this['waMonitor'][_0x4e6b4d(0x26a)][_0x2f174f][_0x4e6b4d(0x4dd)](_0x57906e[_0x4e6b4d(0x74f)]);}async[a0_0x3f93a9(0x2c7)]({instanceName:_0x472f6b},_0x35b676){const _0xc49924=a0_0x3f93a9;return await this['waMonitor'][_0xc49924(0x26a)][_0x472f6b][_0xc49924(0x2c7)](_0x35b676[_0xc49924(0x710)]);}async[a0_0x3f93a9(0x6d0)]({instanceName:_0xe77b8f},_0x588f58){const _0x4b782b=a0_0x3f93a9;return await this['waMonitor'][_0x4b782b(0x26a)][_0xe77b8f][_0x4b782b(0x6d0)]();}},Bt=require(a0_0x3f93a9(0x4be)),Wt=class u{constructor(_0x5ec6ce,_0x259e4e,_0x1b4012,_0x3e7e48,_0x545ba0){const _0x276d9a=a0_0x3f93a9;this[_0x276d9a(0x5f1)]=_0x5ec6ce,this['configService']=_0x259e4e,this[_0x276d9a(0x4a0)]=_0x1b4012,this[_0x276d9a(0x8f8)]=_0x3e7e48,this[_0x276d9a(0x30c)]=_0x545ba0,this[_0x276d9a(0x458)]=new $(u[_0x276d9a(0x537)]);}async[a0_0x3f93a9(0x2cc)]({instanceName:_0x5d58be,apikey:_0x436cab,number:_0x346e82,proxy:_0x1c25eb=!0x0}){const _0x55320f=a0_0x3f93a9;try{let _0x3b1a52=new $e(this[_0x55320f(0x4f6)],this[_0x55320f(0x8f8)],this[_0x55320f(0x4a0)]);_0x3b1a52['instanceName']=_0x5d58be,this[_0x55320f(0x5f1)]['waInstances'][_0x3b1a52[_0x55320f(0x5cf)]]=_0x3b1a52;let _0x4cc316={};_0x436cab?(await this[_0x55320f(0x4a0)]['auth'][_0x55320f(0x270)]({'apikey':_0x436cab},_0x5d58be),_0x4cc316['apikey']=_0x436cab):_0x4cc316=await this[_0x55320f(0x30c)][_0x55320f(0x884)]({'instanceName':_0x3b1a52[_0x55320f(0x5cf)]});let _0xe98539;if(_0x346e82){if(_0xe98539=await this[_0x55320f(0x402)](_0x346e82),_0xe98539[_0x55320f(0x70d)])throw new x(_0xe98539['error'][_0x55320f(0x5e7)]());_0x346e82=_0xe98539[_0x55320f(0x42d)];}let _0x4969cc;return await _0x3b1a52[_0x55320f(0x460)](_0x346e82),await(0x0,Bt[_0x55320f(0x818)])(0xfa0),_0x346e82&&await(0x0,Bt['delay'])(0xbb8),_0x4969cc=_0x3b1a52[_0x55320f(0x2e4)],{'instance':{'instanceName':_0x3b1a52[_0x55320f(0x5cf)],'status':_0x55320f(0x275)},'hash':_0x4cc316,'qrcode':_0x4969cc};}catch(_0x343737){throw this[_0x55320f(0x458)]['error'](_0x343737),_0x343737;}}async[a0_0x3f93a9(0x7b7)]({instanceName:_0x536639,number:_0x28b4d7=null}){const _0x38bcdb=a0_0x3f93a9;try{let _0x553d64=this[_0x38bcdb(0x5f1)]['waInstances'][_0x536639];switch(_0x553d64?.[_0x38bcdb(0x47a)]?.[_0x38bcdb(0x338)]){case _0x38bcdb(0x322):return await _0x553d64[_0x38bcdb(0x460)](_0x28b4d7),await(0x0,Bt[_0x38bcdb(0x818)])(0x7d0),_0x553d64[_0x38bcdb(0x2e4)];case'connecting':return _0x553d64['qrCode'];default:return await this[_0x38bcdb(0x490)]({'instanceName':_0x536639});}}catch(_0x150e1b){this['logger'][_0x38bcdb(0x236)](_0x150e1b);}}async[a0_0x3f93a9(0x490)]({instanceName:_0x4edc96}){const _0x15fe6b=a0_0x3f93a9;let _0x355064=this[_0x15fe6b(0x5f1)][_0x15fe6b(0x26a)][_0x4edc96][_0x15fe6b(0x47a)],_0x3c09fb=null;_0x355064[_0x15fe6b(0x338)]===_0x15fe6b(0x4f2)&&_0x4edc96&&(_0x3c09fb=await this[_0x15fe6b(0x5f1)][_0x15fe6b(0x1e4)](_0x4edc96));let _0x4f7e9a=null;return _0x355064['state']===_0x15fe6b(0x618)&&_0x4edc96&&(_0x4f7e9a=this[_0x15fe6b(0x5f1)][_0x15fe6b(0x26a)][_0x4edc96][_0x15fe6b(0x2e4)]),{'instance':_0x4edc96,'connectionStatus':_0x355064,'instanceInfo':_0x3c09fb,'qrcode':_0x4f7e9a};}async['verifyWhatsAppNumber'](_0x269e40){const _0x195258=a0_0x3f93a9;_0x269e40=_0x269e40[_0x195258(0x2a1)](/\D/g,'');let _0x2eb1d0=Object[_0x195258(0x1fa)](this[_0x195258(0x5f1)][_0x195258(0x26a)])[_0x195258(0x697)](_0x4f02dd=>{const _0x2e6556=_0x195258;let _0x3993e5=this[_0x2e6556(0x5f1)][_0x2e6556(0x26a)][_0x4f02dd];return _0x3993e5&&_0x3993e5[_0x2e6556(0x47a)]&&_0x3993e5[_0x2e6556(0x47a)][_0x2e6556(0x338)]===_0x2e6556(0x4f2);});if(_0x2eb1d0[_0x195258(0x40e)]===0x0)return{'number':this['formatBRNumber'](_0x269e40)};let _0x422a9b=Math[_0x195258(0x693)](Math[_0x195258(0x67b)]()*_0x2eb1d0[_0x195258(0x40e)]),_0x1547da=_0x2eb1d0[_0x422a9b];try{let _0x3cdfc5=(await this[_0x195258(0x5f1)][_0x195258(0x26a)][_0x1547da][_0x195258(0x8eb)]({'numbers':[_0x269e40]}))[_0x195258(0x86f)]();return _0x3cdfc5[_0x195258(0x2dd)]?{'number':_0x3cdfc5[_0x195258(0x6dc)][_0x195258(0x2a1)](_0x195258(0x51e),'')}:{'number':_0x269e40,'error':_0x195258(0x4db)};}catch(_0x3733f7){return this[_0x195258(0x458)][_0x195258(0x70d)](_0x195258(0x5bf)+_0x3733f7),{'number':_0x269e40,'error':'Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.'};}}[a0_0x3f93a9(0x763)](_0x4ca52a){const _0x5b1c25=a0_0x3f93a9;let _0x1e0413=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x5b1c25(0x61d)](_0x4ca52a);if(_0x1e0413&&_0x1e0413[0x1]==='55'){let _0x3b209e=_0x1e0413[0x2],_0x263c57=_0x1e0413[0x3],_0x54c415=_0x1e0413[0x4];if(parseInt(_0x3b209e)>=0x1f&&_0x263c57==='9')return _0x1e0413[0x1]+_0x3b209e+_0x54c415;}return _0x4ca52a;}async[a0_0x3f93a9(0x6ff)]({instanceName:_0x54a17e}){const _0x2db979=a0_0x3f93a9;try{return this[_0x2db979(0x5f1)][_0x2db979(0x26a)][_0x54a17e]?.[_0x2db979(0x2e8)]?.['ws']?.[_0x2db979(0x322)](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0x2db979(0x70b)}};}catch(_0x130f28){this[_0x2db979(0x458)][_0x2db979(0x70d)](_0x130f28);}}async[a0_0x3f93a9(0x900)]({instanceName:_0x495763}){const _0x5fb966=a0_0x3f93a9;return _0x495763?this[_0x5fb966(0x5f1)][_0x5fb966(0x1e4)](_0x495763):this[_0x5fb966(0x5f1)][_0x5fb966(0x1e4)]();}async['logout']({instanceName:_0x12bfd7}){const _0x3b9db4=a0_0x3f93a9;try{return await this[_0x3b9db4(0x5f1)]['waInstances'][_0x12bfd7]?.[_0x3b9db4(0x2e8)]?.['logout'](_0x3b9db4(0x45a)+_0x12bfd7),{'error':!0x1,'message':_0x3b9db4(0x744)};}catch(_0x493f0e){throw new x(_0x493f0e[_0x3b9db4(0x5e7)]());}}async[a0_0x3f93a9(0x3e9)]({instanceName:_0x2fdcd1}){const _0x48b48c=a0_0x3f93a9;if((await this['connectionState']({'instanceName':_0x2fdcd1}))['connectionStatus']['state']==='open')throw new m([_0x48b48c(0x28b),'The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this['waMonitor']['waInstances'][_0x2fdcd1],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x457973){throw new m(_0x457973[_0x48b48c(0x5e7)]());}}},ne=require(a0_0x3f93a9(0x33b)),zt=class{constructor(_0x4f749b){const _0x31334c=a0_0x3f93a9;this[_0x31334c(0x5f1)]=_0x4f749b;}async['sendText']({instanceName:_0x11f143},_0x463852){const _0x1243bc=a0_0x3f93a9;return await this[_0x1243bc(0x5f1)][_0x1243bc(0x26a)][_0x11f143][_0x1243bc(0x862)](_0x463852);}async['sendMenu']({instanceName:_0x5a3df2},_0x3a7dc0){const _0x4e2321=a0_0x3f93a9;return await this[_0x4e2321(0x5f1)][_0x4e2321(0x26a)][_0x5a3df2][_0x4e2321(0x8b9)](_0x3a7dc0);}async[a0_0x3f93a9(0x600)]({instanceName:_0x5394b6},_0x49efeb){const _0xbc4edd=a0_0x3f93a9;if((0x0,ne[_0xbc4edd(0x6b0)])(_0x49efeb?.[_0xbc4edd(0x41b)]?.[_0xbc4edd(0x30b)])&&!_0x49efeb?.[_0xbc4edd(0x41b)]?.[_0xbc4edd(0x4ee)])throw new m(_0xbc4edd(0x7fb));if((0x0,ne['isURL'])(_0x49efeb?.[_0xbc4edd(0x41b)]?.['media'])||(0x0,ne[_0xbc4edd(0x6b0)])(_0x49efeb?.[_0xbc4edd(0x41b)]?.[_0xbc4edd(0x30b)]))return await this[_0xbc4edd(0x5f1)][_0xbc4edd(0x26a)][_0x5394b6][_0xbc4edd(0x41b)](_0x49efeb);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async['sendSticker']({instanceName:_0x1bc43a},_0x150cd6){const _0x172a52=a0_0x3f93a9;if((0x0,ne[_0x172a52(0x1d4)])(_0x150cd6[_0x172a52(0x6cd)][_0x172a52(0x87a)])||(0x0,ne[_0x172a52(0x6b0)])(_0x150cd6['stickerMessage'][_0x172a52(0x87a)]))return await this['waMonitor'][_0x172a52(0x26a)][_0x1bc43a]['mediaSticker'](_0x150cd6);throw new m(_0x172a52(0x2d0));}async[a0_0x3f93a9(0x208)]({instanceName:_0x5169dc},_0x2b0e6b){const _0x484948=a0_0x3f93a9;if((0x0,ne['isURL'])(_0x2b0e6b[_0x484948(0x52c)][_0x484948(0x531)])||(0x0,ne[_0x484948(0x6b0)])(_0x2b0e6b['audioMessage'][_0x484948(0x531)]))return await this[_0x484948(0x5f1)][_0x484948(0x26a)][_0x5169dc][_0x484948(0x4fb)](_0x2b0e6b);throw new m(_0x484948(0x2d0));}async[a0_0x3f93a9(0x4f1)]({instanceName:_0x2342e9},_0x595385){const _0x326064=a0_0x3f93a9;return await this[_0x326064(0x5f1)][_0x326064(0x26a)][_0x2342e9][_0x326064(0x295)](_0x595385);}async['sendLocation']({instanceName:_0xf55290},_0x51c627){const _0x1d8c9b=a0_0x3f93a9;return await this[_0x1d8c9b(0x5f1)][_0x1d8c9b(0x26a)][_0xf55290][_0x1d8c9b(0x770)](_0x51c627);}async['sendPoll']({instanceName:_0x37160b},_0x552087){const _0x5e867e=a0_0x3f93a9;return await this[_0x5e867e(0x5f1)][_0x5e867e(0x26a)][_0x37160b][_0x5e867e(0x8dd)](_0x552087);}async[a0_0x3f93a9(0x8b0)]({instanceName:_0xf36a34},_0x572a27){const _0x18df71=a0_0x3f93a9;return await this[_0x18df71(0x5f1)][_0x18df71(0x26a)][_0xf36a34][_0x18df71(0x6f4)](_0x572a27);}async[a0_0x3f93a9(0x732)]({instanceName:_0x192fc5},_0x18a173){const _0x31ea6c=a0_0x3f93a9;return await this['waMonitor']['waInstances'][_0x192fc5][_0x31ea6c(0x3f5)](_0x18a173);}async[a0_0x3f93a9(0x341)]({instanceName:_0x414568},_0x12403c){const _0x2576d1=a0_0x3f93a9;if(!_0x12403c['reactionMessage'][_0x2576d1(0x7c0)][_0x2576d1(0x1cd)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x2576d1(0x4de));return await this['waMonitor'][_0x2576d1(0x26a)][_0x414568][_0x2576d1(0x54b)](_0x12403c);}async[a0_0x3f93a9(0x48e)]({instanceName:_0x102001},_0x456c63){const _0x493d82=a0_0x3f93a9;return await this['waMonitor']['waInstances'][_0x102001][_0x493d82(0x5ce)](_0x456c63);}},_i=require(a0_0x3f93a9(0x908)),ks=require('uuid'),Ht=class u{constructor(_0x24a2ce,_0x20e688,_0x196506){const _0x16a0c4=a0_0x3f93a9;this[_0x16a0c4(0x4f6)]=_0x24a2ce,this['waMonitor']=_0x20e688,this['repository']=_0x196506,this[_0x16a0c4(0x458)]=new $(u[_0x16a0c4(0x537)]);}async['jwt'](_0x484c97){const _0x571b0a=a0_0x3f93a9;let _0x265efb=this['configService'][_0x571b0a(0x2da)]('AUTHENTICATION')[_0x571b0a(0x794)],_0x25bf5a=(0x0,_i[_0x571b0a(0x7ce)])({'instanceName':_0x484c97[_0x571b0a(0x5cf)],'apiName':it,'tokenId':(0x0,ks['v4'])()},_0x265efb[_0x571b0a(0x248)],{'expiresIn':_0x265efb[_0x571b0a(0x46b)],'encoding':_0x571b0a(0x398),'subject':_0x571b0a(0x786)}),_0x3d1791=await this[_0x571b0a(0x4a0)][_0x571b0a(0x30a)][_0x571b0a(0x270)]({'jwt':_0x25bf5a},_0x484c97['instanceName']);if(_0x3d1791[_0x571b0a(0x70d)])throw this[_0x571b0a(0x458)][_0x571b0a(0x70d)]({'localError':u[_0x571b0a(0x537)]+_0x571b0a(0x525),'error':_0x3d1791[_0x571b0a(0x70d)]}),new m(_0x571b0a(0x25f),_0x3d1791['error']?.[_0x571b0a(0x5e7)]());return{'jwt':_0x25bf5a};}async[a0_0x3f93a9(0x5ec)](_0x35af3a){const _0x10eb53=a0_0x3f93a9;let _0x127eb8=(0x0,ks['v4'])()[_0x10eb53(0x3e8)](),_0x4f61a0=await this[_0x10eb53(0x4a0)]['auth'][_0x10eb53(0x270)]({'apikey':_0x127eb8},_0x35af3a[_0x10eb53(0x5cf)]);if(_0x4f61a0[_0x10eb53(0x70d)])throw this[_0x10eb53(0x458)][_0x10eb53(0x70d)]({'localError':u[_0x10eb53(0x537)]+_0x10eb53(0x525),'error':_0x4f61a0['error']}),new m(_0x10eb53(0x25f),_0x4f61a0[_0x10eb53(0x70d)]?.[_0x10eb53(0x5e7)]());return{'apikey':_0x127eb8};}async['generateHash'](_0x44040d){const _0xbcb1d5=a0_0x3f93a9;let _0xc1d074=this['configService']['get']('AUTHENTICATION');return await this[_0xc1d074[_0xbcb1d5(0x257)]](_0x44040d);}},Kt=class{constructor(_0x113add){const _0x378885=a0_0x3f93a9;this[_0x378885(0x5f1)]=_0x113add;}async[a0_0x3f93a9(0x3e0)](_0x39a1d,_0x530c3f){const _0x8cd23a=a0_0x3f93a9;return await this[_0x8cd23a(0x5f1)][_0x8cd23a(0x26a)][_0x39a1d[_0x8cd23a(0x5cf)]][_0x8cd23a(0x3e0)](_0x530c3f);}async[a0_0x3f93a9(0x892)](_0x1a0521,_0x292370){const _0x128fe0=a0_0x3f93a9;return await this[_0x128fe0(0x5f1)]['waInstances'][_0x1a0521[_0x128fe0(0x5cf)]][_0x128fe0(0x892)](_0x292370);}async['groupDesc'](_0x5d8172,_0x8aa8ae){const _0x3f8929=a0_0x3f93a9;return await this[_0x3f8929(0x5f1)][_0x3f8929(0x26a)][_0x5d8172[_0x3f8929(0x5cf)]][_0x3f8929(0x56c)](_0x8aa8ae);}async['groupName'](_0x3c5ad7,_0x129838){const _0x199ab1=a0_0x3f93a9;return await this[_0x199ab1(0x5f1)]['waInstances'][_0x3c5ad7['instanceName']]['groupName'](_0x129838);}async[a0_0x3f93a9(0x855)](_0xad4de7,_0x4ad1c0){const _0x385b32=a0_0x3f93a9;return await this[_0x385b32(0x5f1)][_0x385b32(0x26a)][_0xad4de7['instanceName']][_0x385b32(0x855)](_0x4ad1c0);}async[a0_0x3f93a9(0x204)](_0x3b971d,_0x28f593){const _0x13b999=a0_0x3f93a9;return await this[_0x13b999(0x5f1)][_0x13b999(0x26a)][_0x3b971d[_0x13b999(0x5cf)]]['groupSetting'](_0x28f593);}async[a0_0x3f93a9(0x634)](_0x2e0e29,_0x139ba6){const _0x3c5051=a0_0x3f93a9;return await this[_0x3c5051(0x5f1)][_0x3c5051(0x26a)][_0x2e0e29[_0x3c5051(0x5cf)]][_0x3c5051(0x847)](_0x139ba6);}async[a0_0x3f93a9(0x6fc)](_0x3affca){const _0x55e387=a0_0x3f93a9;return await this['waMonitor']['waInstances'][_0x3affca[_0x55e387(0x5cf)]][_0x55e387(0x6fc)]();}async[a0_0x3f93a9(0x642)](_0x3ad90d,_0x50b59f){const _0x5abebc=a0_0x3f93a9;return await this[_0x5abebc(0x5f1)][_0x5abebc(0x26a)][_0x3ad90d['instanceName']][_0x5abebc(0x642)](_0x50b59f);}async[a0_0x3f93a9(0x2bd)](_0x521da4,_0x68942a){const _0x18fe83=a0_0x3f93a9;return await this[_0x18fe83(0x5f1)][_0x18fe83(0x26a)][_0x521da4[_0x18fe83(0x5cf)]]['joinGroup'](_0x68942a);}async['groupGetInviteInfo'](_0x7df266,_0x470c66){const _0x29b449=a0_0x3f93a9;return await this[_0x29b449(0x5f1)][_0x29b449(0x26a)][_0x7df266['instanceName']][_0x29b449(0x528)](_0x470c66);}async['revokeInviteCode'](_0x48ba97,_0x3c00f9){const _0x4f179a=a0_0x3f93a9;return await this['waMonitor'][_0x4f179a(0x26a)][_0x48ba97['instanceName']][_0x4f179a(0x6b9)](_0x3c00f9);}async[a0_0x3f93a9(0x49b)](_0x1b1460,_0x3c32d2){const _0xf0dc5=a0_0x3f93a9;return await this[_0xf0dc5(0x5f1)][_0xf0dc5(0x26a)][_0x1b1460[_0xf0dc5(0x5cf)]]['findParticipants'](_0x3c32d2);}async[a0_0x3f93a9(0x409)](_0x47d9ad,_0x2608f1){const _0x3810e2=a0_0x3f93a9;return await this[_0x3810e2(0x5f1)]['waInstances'][_0x47d9ad[_0x3810e2(0x5cf)]][_0x3810e2(0x27e)](_0x2608f1);}async[a0_0x3f93a9(0x5d9)](_0xcce117,_0x2c6a18){const _0x46ae2d=a0_0x3f93a9;return await this[_0x46ae2d(0x5f1)][_0x46ae2d(0x26a)][_0xcce117['instanceName']][_0x46ae2d(0x5d9)](_0x2c6a18);}async[a0_0x3f93a9(0x7ea)](_0x2450f7,_0x7639a8){const _0x500fa9=a0_0x3f93a9;return await this[_0x500fa9(0x5f1)][_0x500fa9(0x26a)][_0x2450f7[_0x500fa9(0x5cf)]][_0x500fa9(0x7ea)](_0x7639a8);}},Qt=class{constructor(_0x210a90){const _0xd7ceb8=a0_0x3f93a9;this[_0xd7ceb8(0x5f1)]=_0x210a90;}[a0_0x3f93a9(0x270)](_0x42eac8,_0x2bf1a5){const _0x22c0ea=a0_0x3f93a9;return this['waMonitor'][_0x22c0ea(0x26a)][_0x42eac8[_0x22c0ea(0x5cf)]][_0x22c0ea(0x8e3)](_0x2bf1a5);}async[a0_0x3f93a9(0x419)](_0x3fcdb7){const _0x23d4a4=a0_0x3f93a9;try{return await this[_0x23d4a4(0x5f1)][_0x23d4a4(0x26a)][_0x3fcdb7[_0x23d4a4(0x5cf)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},Yp=new $(a0_0x3f93a9(0x20d)),Yt=class{constructor(_0x42accc){const _0x323916=a0_0x3f93a9;this[_0x323916(0x5f1)]=_0x42accc;}async['editScheduleMessage'](_0x1e55ed,_0x5ea9a0){const _0x400c56=a0_0x3f93a9;return await this['waMonitor'][_0x400c56(0x26a)][_0x1e55ed[_0x400c56(0x5cf)]][_0x400c56(0x27c)](_0x5ea9a0);}async[a0_0x3f93a9(0x28c)](_0x48face){const _0x356980=a0_0x3f93a9;return await this[_0x356980(0x5f1)][_0x356980(0x26a)][_0x48face[_0x356980(0x5cf)]][_0x356980(0x28c)]();}async['deleteDoneMessages'](_0xc60b38){const _0x154ab5=a0_0x3f93a9;return await this[_0x154ab5(0x5f1)]['waInstances'][_0xc60b38['instanceName']][_0x154ab5(0x8c3)]();}async[a0_0x3f93a9(0x373)](_0x38a188){const _0x3c8356=a0_0x3f93a9;return await this[_0x3c8356(0x5f1)][_0x3c8356(0x26a)][_0x38a188[_0x3c8356(0x5cf)]][_0x3c8356(0x373)]();}async['updateAgent'](_0x494483,_0x1e991c){const _0x2d76fb=a0_0x3f93a9;return await this['waMonitor'][_0x2d76fb(0x26a)][_0x494483['instanceName']][_0x2d76fb(0x474)](_0x1e991c);}async[a0_0x3f93a9(0x1d9)](_0x1fee27,_0xe8e7ed){const _0x603569=a0_0x3f93a9;return await this[_0x603569(0x5f1)]['waInstances'][_0x1fee27[_0x603569(0x5cf)]][_0x603569(0x1d9)](_0xe8e7ed);}async[a0_0x3f93a9(0x5e1)](_0xcdcf44,_0xab3153){const _0x6e882f=a0_0x3f93a9;return await this[_0x6e882f(0x5f1)][_0x6e882f(0x26a)][_0xcdcf44[_0x6e882f(0x5cf)]]['updateAutoCompleteMessages'](_0xab3153);}async[a0_0x3f93a9(0x75f)](_0x1a8351,_0x2d022a){const _0x478fbc=a0_0x3f93a9;return await this[_0x478fbc(0x5f1)][_0x478fbc(0x26a)][_0x1a8351[_0x478fbc(0x5cf)]][_0x478fbc(0x75f)](_0x2d022a);}async[a0_0x3f93a9(0x707)](_0x30d027,_0x54d7f2){const _0x4f1425=a0_0x3f93a9;return await this[_0x4f1425(0x5f1)]['waInstances'][_0x30d027['instanceName']][_0x4f1425(0x707)](_0x54d7f2);}async[a0_0x3f93a9(0x824)](_0x11cd23,_0x30a98f,_0x3dd600,_0x18a9f8){const _0x269637=a0_0x3f93a9;return await this[_0x269637(0x5f1)][_0x269637(0x26a)][_0x11cd23][_0x269637(0x824)](_0x30a98f,_0x3dd600,_0x18a9f8);}async[a0_0x3f93a9(0x92d)](_0x4c091b,_0x54cd6a){const _0x21f0c6=a0_0x3f93a9;return await this[_0x21f0c6(0x5f1)][_0x21f0c6(0x26a)][_0x4c091b[_0x21f0c6(0x5cf)]][_0x21f0c6(0x92d)](_0x54cd6a);}async[a0_0x3f93a9(0x6e2)](_0x9b196c,_0x811c29){const _0x25128b=a0_0x3f93a9;return await this[_0x25128b(0x5f1)][_0x25128b(0x26a)][_0x9b196c[_0x25128b(0x5cf)]]['fetchConversation'](_0x811c29);}async[a0_0x3f93a9(0x663)](_0x5aaa16,_0x56ce42){const _0x18528c=a0_0x3f93a9;return await this[_0x18528c(0x5f1)]['waInstances'][_0x5aaa16[_0x18528c(0x5cf)]][_0x18528c(0x663)](_0x56ce42);}async[a0_0x3f93a9(0x6b6)](_0xa141e6,_0x3ef33e){const _0x9a43ca=a0_0x3f93a9;return await this[_0x9a43ca(0x5f1)]['waInstances'][_0xa141e6[_0x9a43ca(0x5cf)]][_0x9a43ca(0x6b6)](_0x3ef33e);}async['getFlow'](_0x123195,_0xec8617){const _0x323463=a0_0x3f93a9;return await this[_0x323463(0x5f1)]['waInstances'][_0x123195[_0x323463(0x5cf)]][_0x323463(0x415)](_0xec8617['_id']);}async[a0_0x3f93a9(0x720)](_0x4202b5,_0x3565fb,_0x35ed01){const _0x4596ff=a0_0x3f93a9;return await this[_0x4596ff(0x5f1)][_0x4596ff(0x26a)][_0x4202b5[_0x4596ff(0x5cf)]][_0x4596ff(0x720)](_0x3565fb,_0x35ed01);}async[a0_0x3f93a9(0x909)](_0x34a346,_0x14e4e1,_0x56e9d3){const _0x190d2d=a0_0x3f93a9;return await this[_0x190d2d(0x5f1)][_0x190d2d(0x26a)][_0x34a346[_0x190d2d(0x5cf)]][_0x190d2d(0x909)](_0x14e4e1,_0x56e9d3);}async['editFlowBlock'](_0x46e0ee,_0x213268){const _0x114642=a0_0x3f93a9;return await this[_0x114642(0x5f1)][_0x114642(0x26a)][_0x46e0ee[_0x114642(0x5cf)]]['editFlowBlock'](_0x213268);}async['editFlowReply'](_0x1eaaba,_0x4fc617){const _0x4ba685=a0_0x3f93a9;return await this[_0x4ba685(0x5f1)]['waInstances'][_0x1eaaba[_0x4ba685(0x5cf)]][_0x4ba685(0x2d9)](_0x4fc617);}async[a0_0x3f93a9(0x2fe)](_0x28c709,_0x46a5aa){const _0x3903a5=a0_0x3f93a9;return await this[_0x3903a5(0x5f1)][_0x3903a5(0x26a)][_0x28c709[_0x3903a5(0x5cf)]]['editFlowGroup'](_0x46a5aa);}async[a0_0x3f93a9(0x837)](_0x519470,_0x23419f){const _0x463f17=a0_0x3f93a9;return await this[_0x463f17(0x5f1)][_0x463f17(0x26a)][_0x519470[_0x463f17(0x5cf)]][_0x463f17(0x837)](_0x23419f);}async['editFlowVaredit'](_0x524276,_0x5ccf64){const _0x1fdd0c=a0_0x3f93a9;return await this[_0x1fdd0c(0x5f1)]['waInstances'][_0x524276[_0x1fdd0c(0x5cf)]][_0x1fdd0c(0x6f7)](_0x5ccf64);}async[a0_0x3f93a9(0x7f6)](_0x1b2870,_0x5cfbd5){const _0x689e73=a0_0x3f93a9;return await this[_0x689e73(0x5f1)][_0x689e73(0x26a)][_0x1b2870[_0x689e73(0x5cf)]][_0x689e73(0x7f6)](_0x5cfbd5);}async[a0_0x3f93a9(0x6c7)](_0x46667c,_0x45bd6e){const _0xf3c935=a0_0x3f93a9;return await this[_0xf3c935(0x5f1)]['waInstances'][_0x46667c[_0xf3c935(0x5cf)]]['deleteFlow'](_0x45bd6e);}async[a0_0x3f93a9(0x737)](_0x190d9b){const _0x557ba8=a0_0x3f93a9;return await this['waMonitor'][_0x557ba8(0x26a)][_0x190d9b['instanceName']][_0x557ba8(0x737)]();}},Xt=class{constructor(_0x375846){const _0x2d8d4a=a0_0x3f93a9;this[_0x2d8d4a(0x7cd)]=_0x375846;}async[a0_0x3f93a9(0x5db)](_0x548ed2,_0x363cfc){const _0x4d505c=a0_0x3f93a9;return this['webhookService'][_0x4d505c(0x270)](_0x548ed2,_0x363cfc);}async[a0_0x3f93a9(0x8cf)](_0x5b1cf6){const _0x4a8452=a0_0x3f93a9;return this[_0x4a8452(0x7cd)]['find'](_0x5b1cf6);}},Zt=class extends O{constructor(_0x45ebef,_0x1a5d6a){const _0x4f71b1=a0_0x3f93a9;super(_0x1a5d6a),this[_0x4f71b1(0x215)]=_0x45ebef,this[_0x4f71b1(0x4f6)]=_0x1a5d6a;}async[a0_0x3f93a9(0x270)](_0xf7aa72,_0x3c24dd){const _0x5555d7=a0_0x3f93a9;try{return this['dbSettings'][_0x5555d7(0x218)]?{'insertCount':(await this[_0x5555d7(0x215)][_0x5555d7(0x564)]({'_id':_0x3c24dd},{..._0xf7aa72},{'upsert':!0x0}))[_0x5555d7(0x221)]}:{'insertCount':0x1};}catch(_0x37ecde){return _0x37ecde;}}async[a0_0x3f93a9(0x342)](_0x26f310){const _0x1583e1=a0_0x3f93a9;try{if(this[_0x1583e1(0x849)][_0x1583e1(0x218)]){await this[_0x1583e1(0x215)][_0x1583e1(0x250)]({'_id':_0x26f310});return;}}catch(_0x22a905){return{'error':_0x22a905};}}async[a0_0x3f93a9(0x419)](_0x3fe119){const _0x5a8083=a0_0x3f93a9;try{if(this[_0x5a8083(0x849)][_0x5a8083(0x218)])return await this[_0x5a8083(0x215)][_0x5a8083(0x39a)]({'_id':_0x3fe119});}catch{return{};}}},es=class extends O{constructor(_0x4dda76,_0x5f51f8){const _0x2a5f6a=a0_0x3f93a9;super(_0x5f51f8),this[_0x2a5f6a(0x394)]=_0x4dda76,this[_0x2a5f6a(0x4f6)]=_0x5f51f8,this['auth']=_0x5f51f8['get']('AUTHENTICATION');}async['create'](_0x262187,_0x5d0f35){const _0x5bfae9=a0_0x3f93a9;try{if(this['dbSettings']['ENABLED'])return{'insertCount':(await this[_0x5bfae9(0x394)][_0x5bfae9(0x349)]({'_id':_0x5d0f35},{'$set':{..._0x262187}},{'upsert':!0x0}))[_0x5bfae9(0x221)]};}catch(_0x4267a8){return{'error':_0x4267a8};}}async['updateAll'](_0x516b98,_0x2db00d){const _0x4cb426=a0_0x3f93a9;try{if(this[_0x4cb426(0x849)]['ENABLED'])return{'insertCount':(await this[_0x4cb426(0x394)][_0x4cb426(0x34e)](_0x516b98,{'$set':_0x2db00d},{'upsert':!0x1}))[_0x4cb426(0x221)]};throw new Error(_0x4cb426(0x68e));}catch(_0x5ade95){return{'error':_0x5ade95};}}async[a0_0x3f93a9(0x6fe)](_0x39d9a3){const _0x5f5fc8=a0_0x3f93a9;try{if(this['dbSettings'][_0x5f5fc8(0x218)])return{'insertCount':(await this[_0x5f5fc8(0x394)][_0x5f5fc8(0x6fe)](_0x39d9a3))[_0x5f5fc8(0x2e7)]};throw new Error(_0x5f5fc8(0x3ee));}catch(_0xd6c1af){return{'error':_0xd6c1af};}}async[a0_0x3f93a9(0x342)](_0x295d40){const _0x2d5321=a0_0x3f93a9;try{if(this[_0x2d5321(0x849)][_0x2d5321(0x218)]){await this[_0x2d5321(0x394)]['deleteOne']({'_id':_0x295d40});return;}}catch(_0x2cecbc){return{'error':_0x2cecbc};}}async[a0_0x3f93a9(0x419)](_0x356316){const _0x281e04=a0_0x3f93a9;try{if(this['dbSettings'][_0x281e04(0x218)])return await this[_0x281e04(0x394)][_0x281e04(0x39a)]({'_id':_0x356316});}catch{return{};}}async[a0_0x3f93a9(0x735)](){const _0x5ae0a4=a0_0x3f93a9;try{if(this[_0x5ae0a4(0x849)][_0x5ae0a4(0x218)])return await this['authModel'][_0x5ae0a4(0x419)]();}catch{return[];}}async['findMany'](_0x26fc1d){const _0x10efbf=a0_0x3f93a9;try{if(this[_0x10efbf(0x849)]['ENABLED'])return await this[_0x10efbf(0x394)][_0x10efbf(0x419)](_0x26fc1d);}catch{return[];}}},ts=class extends O{async[a0_0x3f93a9(0x250)](_0x88388){const _0x4268be=a0_0x3f93a9;try{let _0x1e8063=I(_0x88388[_0x4268be(0x5b5)]);return{'deletedCount':(await Ce[_0x4268be(0x250)](_0x1e8063))[_0x4268be(0x2e7)]};}catch(_0x42e9a3){return{'error':_0x42e9a3?.[_0x4268be(0x5e7)]()};}}async['updateOne'](_0x33eb75,_0x43ea36){const _0x41d9a7=a0_0x3f93a9;try{let _0x1c4336=await Ce[_0x41d9a7(0x329)](_0x33eb75);return _0x1c4336?(Object[_0x41d9a7(0x6a6)](_0x1c4336,_0x43ea36),await _0x1c4336[_0x41d9a7(0x507)]()):(console[_0x41d9a7(0x70d)](_0x41d9a7(0x31e),_0x33eb75),null);}catch(_0xfb9d09){return console['error'](_0x41d9a7(0x64b),_0xfb9d09),null;}}async[a0_0x3f93a9(0x603)](_0x10a5f6){const _0x34a838=a0_0x3f93a9;try{return await new Ce(_0x10a5f6)['save']();}catch(_0x4d006a){return console['error'](_0x34a838(0x585),_0x4d006a),null;}}async['findAll'](_0x30fa63){const _0x8a5670=a0_0x3f93a9;try{let _0x1e1d60=_0x30fa63['where']??{};return await Ce['find'](_0x1e1d60)[_0x8a5670(0x815)](_0x30fa63['limit']??0x0)[_0x8a5670(0x4b3)]();}catch(_0x575a9b){return console[_0x8a5670(0x70d)](_0x8a5670(0x3ec),_0x575a9b),[];}}async['findOne'](_0xdcafaf){const _0x184f4e=a0_0x3f93a9;try{let _0x3eda16=I(_0xdcafaf[_0x184f4e(0x5b5)]);return await Ce[_0x184f4e(0x39a)](_0x3eda16)[_0x184f4e(0x4b3)]();}catch{return null;}}},ss=class extends O{['getConversationModelForOwner'](_0x487bd7){return wa(_0x487bd7);}async[a0_0x3f93a9(0x896)](_0x2ac4b4){const _0x384527=a0_0x3f93a9;if(_0x2ac4b4['length']!==0x0)try{return{'insertCount':(await this[_0x384527(0x550)](_0x2ac4b4[0x0][_0x384527(0x4a1)])[_0x384527(0x6e9)]([..._0x2ac4b4]))['length']};}catch(_0xe8d746){return _0xe8d746;}}async[a0_0x3f93a9(0x342)](_0x4d50fb,_0x4f3cbd){const _0x12541f=a0_0x3f93a9;try{let _0xc71885=this[_0x12541f(0x550)](_0x4f3cbd),_0x4e0608=I(_0x4d50fb[_0x12541f(0x5b5)]);return{'deletedCount':(await _0xc71885[_0x12541f(0x6fe)](_0x4e0608))['deletedCount']};}catch(_0x2873be){return{'error':_0x2873be?.['toString']()};}}async[a0_0x3f93a9(0x250)](_0x3c1f56,_0x11da6d){const _0x27ae8e=a0_0x3f93a9;try{let _0x37a319=this['getConversationModelForOwner'](_0x11da6d),_0x2f41cd=I(_0x3c1f56[_0x27ae8e(0x5b5)]);return{'deletedCount':(await _0x37a319['deleteOne'](_0x2f41cd))[_0x27ae8e(0x2e7)]};}catch(_0x281129){return{'error':_0x281129?.[_0x27ae8e(0x5e7)]()};}}async['update'](_0x43c8cd,_0x52a7f2){const _0x222397=a0_0x3f93a9;try{if(_0x43c8cd[_0x222397(0x40e)]===0x0)return;let _0x1d4357=this[_0x222397(0x550)](_0x52a7f2),_0x44b83f=_0x43c8cd[_0x222397(0x3d6)](_0x2cab12=>({'updateOne':{'filter':{'name':_0x2cab12[_0x222397(0x537)],'owner':_0x52a7f2},'update':{..._0x2cab12}}})),{modifiedCount:_0x4fb180}=await _0x1d4357['bulkWrite'](_0x44b83f);return{'insertCount':_0x4fb180};}catch{return;}}async[a0_0x3f93a9(0x34e)](_0x158ea7,_0x386d89,_0x49d175){const _0x5dd0ee=a0_0x3f93a9;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x49d175)[_0x5dd0ee(0x34e)](_0x158ea7,{'$set':_0x386d89})[_0x5dd0ee(0x61d)]())[_0x5dd0ee(0x221)]};}catch(_0x36e6bc){return console[_0x5dd0ee(0x70d)](_0x5dd0ee(0x5ef),_0x36e6bc),{'error':_0x36e6bc};}}async['updateOne'](_0x334077,_0x1b04c7,_0x4f53e1){const _0x5aa90b=a0_0x3f93a9;try{return await this['getConversationModelForOwner'](_0x4f53e1)['findOneAndUpdate']({'_id':_0x334077},{'$set':_0x1b04c7},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0x87c86f){return console[_0x5aa90b(0x70d)](_0x87c86f),null;}}async['find'](_0x1171ce,_0x3075a6){const _0x17a1f0=a0_0x3f93a9;try{return await this[_0x17a1f0(0x550)](_0x3075a6)[_0x17a1f0(0x419)](_0x1171ce)['sort']({'lastInteraction':-0x1})[_0x17a1f0(0x4b3)]();}catch{return[];}}async[a0_0x3f93a9(0x39a)](_0x29567d,_0xaebf49){const _0x54592e=a0_0x3f93a9;try{return await this[_0x54592e(0x550)](_0xaebf49)[_0x54592e(0x39a)]({..._0x29567d[_0x54592e(0x5b5)]})['lean']();}catch{return null;}}async[a0_0x3f93a9(0x617)](_0x5adca5){const _0x3fda53=a0_0x3f93a9;try{return await this[_0x3fda53(0x550)](_0x5adca5)['collection'][_0x3fda53(0x406)](),{'success':!0x0};}catch(_0x34c907){return console[_0x3fda53(0x70d)](_0x34c907),{'success':!0x1,'error':_0x34c907};}}},as=class extends O{[a0_0x3f93a9(0x3ba)](_0x41f65c){return ya(_0x41f65c);}async[a0_0x3f93a9(0x76f)](_0x9b1e5f,_0x41ff72){const _0x4e971d=a0_0x3f93a9;try{return await this[_0x4e971d(0x3ba)](_0x41ff72)[_0x4e971d(0x76f)](_0x9b1e5f);}catch(_0x5187d0){return console[_0x4e971d(0x70d)]('Erro\x20ao\x20executar\x20bulkWrite:',_0x5187d0),null;}}async[a0_0x3f93a9(0x603)](_0x5f3c8a,_0x242d9e){const _0x528fe8=a0_0x3f93a9;try{let _0x5444db=this[_0x528fe8(0x3ba)](_0x242d9e);return await new _0x5444db(_0x5f3c8a)[_0x528fe8(0x507)]();}catch(_0x34efc9){return console[_0x528fe8(0x70d)](_0x528fe8(0x1ea),_0x34efc9),null;}}async[a0_0x3f93a9(0x250)](_0x2f8483,_0x4c3f19){const _0x1506e4=a0_0x3f93a9;try{return await this[_0x1506e4(0x3ba)](_0x4c3f19)['findByIdAndDelete'](_0x2f8483),{};}catch(_0x4567c8){return{'error':_0x4567c8?.['toString']()};}}async[a0_0x3f93a9(0x349)](_0x5dddfa,_0x5ed48d,_0x3c53f4,_0x4dcaa8={}){const _0x5034d1=a0_0x3f93a9;try{return await this[_0x5034d1(0x3ba)](_0x3c53f4)[_0x5034d1(0x32c)](_0x5dddfa,_0x5ed48d,{..._0x4dcaa8,'new':!0x0})[_0x5034d1(0x4b3)]();}catch(_0x55af96){return console[_0x5034d1(0x70d)](_0x5034d1(0x747),_0x55af96),null;}}async[a0_0x3f93a9(0x748)](_0x37e6a5,_0x30803f,_0x4d21aa){const _0xea3258=a0_0x3f93a9;try{return await this['getScheduleMessageModelForOwner'](_0x4d21aa)['findByIdAndUpdate'](_0x37e6a5,_0x30803f,{'new':!0x0})['lean']();}catch(_0x376450){return console['error'](_0xea3258(0x747),_0x376450),null;}}async[a0_0x3f93a9(0x419)](_0x582356,_0x5cb6cd){const _0x1c1743=a0_0x3f93a9;try{return await this['getScheduleMessageModelForOwner'](_0x5cb6cd)[_0x1c1743(0x419)](_0x582356[_0x1c1743(0x5b5)])[_0x1c1743(0x815)](_0x582356?.['limit']??0x0)['sort']({'when':0x1})['lean']();}catch{return[];}}async[a0_0x3f93a9(0x39a)](_0x44d833,_0x46dfba){const _0x124639=a0_0x3f93a9;try{return await this[_0x124639(0x3ba)](_0x46dfba)[_0x124639(0x39a)](_0x44d833['where'])[_0x124639(0x469)]({'when':0x1})['lean']();}catch{return null;}}async['findById'](_0x2e7cb8,_0x43f0cd){const _0x45a867=a0_0x3f93a9;try{return await this[_0x45a867(0x3ba)](_0x43f0cd)[_0x45a867(0x329)](_0x2e7cb8)['lean']();}catch{return null;}}async['deleteMany'](_0x356a66,_0x5c0745){const _0x1fec31=a0_0x3f93a9;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x5c0745)[_0x1fec31(0x6fe)](_0x356a66))[_0x1fec31(0x2e7)]};}catch(_0x3148c9){return console['error'](_0x1fec31(0x6df),_0x3148c9),{'error':_0x3148c9};}}async[a0_0x3f93a9(0x617)](_0xa94a66){const _0x47109f=a0_0x3f93a9;try{return await this[_0x47109f(0x3ba)](_0xa94a66)['collection'][_0x47109f(0x406)](),{'success':!0x0};}catch(_0x503cd7){return console[_0x47109f(0x70d)](_0x503cd7),{'success':!0x1,'error':_0x503cd7};}}},is=class extends O{async[a0_0x3f93a9(0x2df)](_0x391d1b,_0x4813b4){const _0x260edb=a0_0x3f93a9;try{if(this['dbSettings'][_0x260edb(0x218)])return await Te['findOneAndUpdate']({'_id':_0x4813b4},{'$set':_0x391d1b},{'new':!0x0});}catch(_0x387bd6){throw console['error'](_0x260edb(0x43c),_0x387bd6),_0x387bd6;}}async['findOrCreate'](_0x36e413){const _0x5c095b=a0_0x3f93a9;try{let _0x338320=await Te['findById'](_0x36e413);return _0x338320?_0x338320[_0x5c095b(0x48c)]||(_0x338320[_0x5c095b(0x48c)]=[],await _0x338320['save']()):(_0x338320=new Te({'_id':_0x36e413,'autoCompleteMessages':[]}),await _0x338320[_0x5c095b(0x507)]()),_0x338320;}catch(_0x50075f){return _0x50075f['code']===0x2af8&&_0x50075f[_0x5c095b(0x47e)]&&_0x50075f[_0x5c095b(0x47e)][_0x5c095b(0x8ff)]?(console[_0x5c095b(0x70d)](_0x5c095b(0x5a8)),await Te[_0x5c095b(0x387)][_0x5c095b(0x6cc)](_0x5c095b(0x721)),null):(console[_0x5c095b(0x70d)](_0x5c095b(0x2fb),_0x50075f),null);}}},ko=new $(a0_0x3f93a9(0x501)),Lo=new Ke(S),Fo=new Jt(S),Uo=new rt(S),jo=new qt(sa,S),Jo=new Zt(ua,S),qo=new es(na,S),Vo=new Ne(Be,S),Go=new ts(S),Bo=new Vt(S),Wo=new ss(S),zo=new as(S),Ho=new is(S),fe=new ze(Lo,Fo,Uo,jo,Jo,qo,Vo,Go,Wo,Bo,zo,Ho,A?.['getClient']()),G=new jt(ps,S,fe),Ko=new Ht(S,G,fe),Qo=new Qt(G),Ns=new Xt(Qo),_=new Yt(G),de=new Wt(G,S,fe,ps,Ko),W=new zt(G),P=new Gt(G),q=new Kt(G);ko[a0_0x3f93a9(0x907)](a0_0x3f93a9(0x2f7));var gg=require(a0_0x3f93a9(0x2d2)),Ls=require('fs'),Oi=T(require(a0_0x3f93a9(0x2f9))),xi=T(require(a0_0x3f93a9(0x8d4))),Ue=class u{static #e;static set[a0_0x3f93a9(0x915)](_0x5e1455){this.#e=_0x5e1455;}static get['https'](){const _0x255530=a0_0x3f93a9;let {FULLCHAIN:_0x41bd3a,PRIVKEY:_0x47a5cc}=S['get'](_0x255530(0x39e));return Oi['createServer']({'cert':(0x0,Ls[_0x255530(0x8ac)])(_0x41bd3a),'key':(0x0,Ls[_0x255530(0x8ac)])(_0x47a5cc)},u.#e);}static get[a0_0x3f93a9(0x8d4)](){return xi['createServer'](u.#e);}},je=T(require('fs')),Ui=T(require('ini')),Je=T(require(a0_0x3f93a9(0x25e))),rs=T(require(a0_0x3f93a9(0x89b))),os=require('child_process');function Yo(){const _0xeddf04=a0_0x3f93a9;G['loadInstance']();let _0x217398=rs[_0xeddf04(0x73f)][_0xeddf04(0x6ef)](__dirname,'downloads');Fi(_0x217398);}var Fi=_0x3427d1=>{const _0x31994f=a0_0x3f93a9;let _0x20d029=je['default'][_0x31994f(0x56b)](_0x3427d1),_0xdc4a30=0xc*0x3c*0x3c*0x3e8,_0x3800f5=0x2*0x3c*0x3c*0x3e8,_0x406f6a=new Date()[_0x31994f(0x1d2)]();_0x20d029[_0x31994f(0x3c9)](_0x2906f1=>{const _0xac4fb7=_0x31994f;let _0xca1be3=rs[_0xac4fb7(0x73f)][_0xac4fb7(0x6ef)](_0x3427d1,_0x2906f1),_0x1ae99f=je[_0xac4fb7(0x73f)][_0xac4fb7(0x2e0)](_0xca1be3)['birthtime'][_0xac4fb7(0x1d2)]();_0x406f6a-_0x1ae99f>_0xdc4a30&&(je[_0xac4fb7(0x73f)][_0xac4fb7(0x7e7)](_0xca1be3),console[_0xac4fb7(0x236)](_0xac4fb7(0x3d9)+_0x2906f1));}),setTimeout(()=>Fi(_0x3427d1),_0x3800f5);};function Xo(){const _0x187cd1=a0_0x3f93a9;let _0x19ec96=new $(_0x187cd1(0x768)),_0x35847b=(0x0,ye[_0x187cd1(0x73f)])();_0x35847b[_0x187cd1(0x3af)]((0x0,Li['default'])({'origin'(_0x1ff9b0,_0x1556a4){const _0x36ca5d=_0x187cd1;let {ORIGIN:_0x5d4b24}=S[_0x36ca5d(0x2da)](_0x36ca5d(0x929));return _0x1ff9b0||(_0x1ff9b0='*'),_0x5d4b24['indexOf']('*')!==-0x1||_0x5d4b24[_0x36ca5d(0x51a)](_0x1ff9b0)!==-0x1?_0x1556a4(null,!0x0):_0x1556a4(new Error(_0x36ca5d(0x7c2)));},'methods':[...S[_0x187cd1(0x2da)](_0x187cd1(0x929))[_0x187cd1(0x5a2)]],'credentials':S[_0x187cd1(0x2da)](_0x187cd1(0x929))[_0x187cd1(0x8fe)]}),(0x0,ye[_0x187cd1(0x280)])({'extended':!0x0,'limit':_0x187cd1(0x519)}),(0x0,ye[_0x187cd1(0x33d)])({'limit':'50mb'})),_0x35847b['use']((_0x2fddc7,_0xa05fd0,_0x1d331b)=>{const _0x18b97b=_0x187cd1;_0x2fddc7[_0x18b97b(0x89b)][_0x18b97b(0x7aa)](_0x18b97b(0x898))?_0x1d331b():(0x0,ki['default'])()(_0x2fddc7,_0xa05fd0,_0x1d331b);}),_0x35847b[_0x187cd1(0x40b)](_0x187cd1(0x8b8),_0x187cd1(0x7f5)),_0x35847b[_0x187cd1(0x40b)]('views',(0x0,Us[_0x187cd1(0x6ef)])(ce,_0x187cd1(0x644))),_0x35847b[_0x187cd1(0x3af)](ye['default'][_0x187cd1(0x417)]((0x0,Us[_0x187cd1(0x6ef)])(ce,_0x187cd1(0x3bf)))),_0x35847b[_0x187cd1(0x3af)]((_0x4decf4,_0x4f393e,_0x4786d6)=>{const _0x3ec924=_0x187cd1;let _0x54fa38=_0x4f393e['send'];_0x4f393e[_0x3ec924(0x499)]=function(_0x225378){const _0x24339d=_0x3ec924;if(_0x4decf4[_0x24339d(0x671)][_0x24339d(0x3bb)]===_0x24339d(0x4b4)||_0x4decf4[_0x24339d(0x472)][_0x24339d(0x316)]===_0x24339d(0x4b4)){let _0x41b18e=JSON[_0x24339d(0x4a9)](_0x225378);_0x225378=JSON[_0x24339d(0x684)](_0x155860(_0x41b18e));}return _0x54fa38['apply'](_0x4f393e,[_0x225378]);},_0x4786d6();}),_0x35847b[_0x187cd1(0x3af)]('/',ke),_0x35847b['use']((_0x2337a1,_0x437c2d,_0x3f1435,_0x3e1355)=>{const _0x498c52=_0x187cd1;if(_0x2337a1)return _0x3f1435[_0x498c52(0x74f)](_0x2337a1[_0x498c52(0x74f)]||0x1f4)[_0x498c52(0x33d)](_0x2337a1);},(_0xccc861,_0x467714,_0x500a0b)=>{const _0x4390cc=_0x187cd1;let {method:_0x4870fa,url:_0xecb40e}=_0xccc861;_0x467714[_0x4390cc(0x74f)](0x194)[_0x4390cc(0x33d)]({'status':0x194,'message':_0x4390cc(0x6ee)+_0x4870fa[_0x4390cc(0x3e8)]()+'\x20'+_0xecb40e,'error':_0x4390cc(0x835)}),_0x500a0b();});let _0x155860=(_0x25a2dc,_0x29f048=_0x187cd1(0x312))=>{const _0x45c076=_0x187cd1;let _0x5e0956=(_0x36c1b3,_0x493491=null,_0x5cb471=!0x1)=>{const _0x1d89b6=a0_0x104e;let _0xb718a2={};return Object[_0x1d89b6(0x1fa)](_0x36c1b3)[_0x1d89b6(0x3c9)](_0x185354=>{const _0x5dda4e=_0x1d89b6;let _0x328d2c=_0x36c1b3[_0x185354],_0x52dc2c=''+_0x29f048+_0x185354;_0x493491&&!_0x5cb471&&(_0x52dc2c=_0x493491+'.'+_0x185354),!_0x328d2c&&_0x328d2c!==0x0&&_0x328d2c!==!0x1||typeof _0x328d2c>'u'?_0xb718a2[_0x52dc2c]=null:typeof _0x328d2c!=_0x5dda4e(0x894)&&!Array[_0x5dda4e(0x84c)](_0x328d2c)?_0xb718a2[_0x52dc2c]=_0x328d2c:typeof _0x328d2c=='object'&&!Array[_0x5dda4e(0x84c)](_0x328d2c)?_0xb718a2=Object[_0x5dda4e(0x6a6)](_0xb718a2,_0x5e0956(_0x328d2c,_0x52dc2c)):Array[_0x5dda4e(0x84c)](_0x328d2c)&&(typeof _0x328d2c[0x0]==_0x5dda4e(0x894)?(_0xb718a2[_0x52dc2c]=[],_0x328d2c['forEach'](_0x164b9e=>{const _0x5d1698=_0x5dda4e;_0xb718a2[_0x52dc2c][_0x5d1698(0x6f2)](_0x5e0956(_0x164b9e,_0x52dc2c,!0x0));})):_0xb718a2[_0x52dc2c]=_0x328d2c);}),_0xb718a2;};return Array['isArray'](_0x25a2dc)?_0x25a2dc[_0x45c076(0x3d6)](_0xf299ed=>_0x5e0956(_0xf299ed)):typeof _0x25a2dc==_0x45c076(0x894)&&_0x25a2dc!==null?_0x5e0956(_0x25a2dc):{};},_0x32da0f=S[_0x187cd1(0x2da)](_0x187cd1(0x768));Ue[_0x187cd1(0x915)]=_0x35847b;let _0x5cf90a=Ue[_0x32da0f[_0x187cd1(0x257)]],_0x3f76d1=_0x187cd1(0x246);_0x5cf90a[_0x187cd1(0x4cc)](_0x32da0f[_0x187cd1(0x649)],()=>{const _0x181abe=_0x187cd1;_0x19ec96['log'](_0x3f76d1),_0x19ec96[_0x181abe(0x236)](_0x32da0f[_0x181abe(0x257)][_0x181abe(0x3e8)]()+_0x181abe(0x22f)+_0x32da0f[_0x181abe(0x649)]);}),Yo(),Qs();}var Zo=a0_0x3f93a9(0x3a0),er=rs[a0_0x3f93a9(0x73f)][a0_0x3f93a9(0x6ef)](__dirname,a0_0x3f93a9(0x3c3)),Re=null;function tr(){return new Promise((_0x244b99,_0x2ff601)=>{const _0xe4f4c=a0_0x104e;je[_0xe4f4c(0x73f)][_0xe4f4c(0x3f2)](er,_0xe4f4c(0x2b8),(_0x16df93,_0x4b0fb0)=>{const _0x1772fb=_0xe4f4c;if(_0x16df93){Re=_0x16df93,_0x244b99();return;}Ui[_0x1772fb(0x73f)][_0x1772fb(0x4a9)](_0x4b0fb0)[_0x1772fb(0x44b)]['url']===Zo?(Re=null,_0x244b99()):(Re=new Error(_0x1772fb(0x27b)),_0x244b99());});});}async function sr(){const _0x5d48e3=a0_0x3f93a9;try{await tr(),await js();}catch(_0x273a98){console[_0x5d48e3(0x70d)](_0x5d48e3(0x75a)+_0x273a98),process[_0x5d48e3(0x8cc)](0x1);}}sr();async function ji(){const _0x14365a=a0_0x3f93a9;let _0x296682;try{_0x296682=(await Je[_0x14365a(0x73f)][_0x14365a(0x2da)](_0x14365a(0x902)))[_0x14365a(0x765)]['ip'];}catch(_0x1aaa92){console[_0x14365a(0x70d)](_0x1aaa92);try{_0x296682=(await Je['default'][_0x14365a(0x2da)](_0x14365a(0x3b0)))[_0x14365a(0x765)]['ip'];}catch(_0x2efb11){console[_0x14365a(0x70d)](_0x2efb11);try{_0x296682=(await Je[_0x14365a(0x73f)][_0x14365a(0x2da)](_0x14365a(0x8a7)))[_0x14365a(0x765)]['match'](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x5dd9a6){return console[_0x14365a(0x70d)](_0x5dd9a6),!0x1;}}}return _0x296682;}function a0_0x104e(_0x453123,_0x227c40){const _0x17727b=a0_0x1772();return a0_0x104e=function(_0x104e4f,_0xf66565){_0x104e4f=_0x104e4f-0x1c7;let _0x24d2c9=_0x17727b[_0x104e4f];return _0x24d2c9;},a0_0x104e(_0x453123,_0x227c40);}var Di=0x0;async function ar(){const _0x4f1b0c=a0_0x3f93a9;let _0x2756c5=await new pe(S[_0x4f1b0c(0x2da)]('REDIS'))['instanceKeys']();return console[_0x4f1b0c(0x236)](_0x4f1b0c(0x3f8),_0x2756c5['length']),_0x2756c5[_0x4f1b0c(0x40e)];}function ir(_0xd91a98){const _0x315fc7=a0_0x3f93a9;let _0x170fd3=_0xd91a98[_0x315fc7(0x2da)](_0x315fc7(0x768))[_0x315fc7(0x36e)],_0x4a4c8f=_0xd91a98[_0x315fc7(0x2da)](_0x315fc7(0x39e));console[_0x315fc7(0x236)](_0x315fc7(0x72f),_0x170fd3),console['log']('Configuração\x20SSL\x20recuperada:',_0x4a4c8f);let _0x425a72='',_0x1b0759=_0x170fd3||'';if(_0x170fd3){let _0x55511e=_0x170fd3[_0x315fc7(0x1cd)](/\/\/(.*?)\./);console[_0x315fc7(0x236)]('Resultado\x20da\x20correspondência\x20de\x20URL:',_0x55511e),_0x55511e&&_0x55511e[0x1]&&(_0x425a72=_0x55511e[0x1],console[_0x315fc7(0x236)](_0x315fc7(0x438),_0x425a72));}if(!_0x425a72&&_0x4a4c8f&&_0x4a4c8f[_0x315fc7(0x7e8)]){let _0x2df9c9=_0x4a4c8f[_0x315fc7(0x7e8)]['split']('/');console[_0x315fc7(0x236)](_0x315fc7(0x5f8),_0x2df9c9);let _0x52c0d4=_0x2df9c9[_0x2df9c9['length']-0x2];if(console['log'](_0x315fc7(0x5a5),_0x52c0d4),_0x52c0d4){let _0x571019=_0x52c0d4['split']('.');console[_0x315fc7(0x236)]('Partes\x20do\x20domínio:',_0x571019),_0x571019[_0x315fc7(0x40e)]>0x2&&(_0x425a72=_0x571019[0x0],console[_0x315fc7(0x236)]('Subdomínio\x20extraído\x20do\x20caminho\x20SSL:',_0x425a72),_0x1b0759=''+_0x52c0d4);}}return{'subdomain':_0x425a72||_0x315fc7(0x4bb),'fullURL':_0x1b0759||_0x315fc7(0x86a)};}var {subdomain:B,fullURL:Js}=ir(S);console[a0_0x3f93a9(0x236)](a0_0x3f93a9(0x3ae),B),console[a0_0x3f93a9(0x236)]('URL\x20completa:',Js);async function or(){const _0xea1494=a0_0x3f93a9;let _0x4956c2=S[_0xea1494(0x2da)](_0xea1494(0x8c6)),_0x55f9c0=S[_0xea1494(0x2da)](_0xea1494(0x508))[_0xea1494(0x467)][_0xea1494(0x38e)],_0x1b75de=S[_0xea1494(0x2da)](_0xea1494(0x39e)),_0x51a741=await ji(),_0xdc8f9c=S[_0xea1494(0x2da)]('SERVER')[_0xea1494(0x649)],_0x5b3a00=Js;try{let _0x49b48e={'ip':_0x51a741||null,'redis_enable':_0x4956c2?.['ENABLED']||null,'apikey':_0x55f9c0||null,'ssl':_0x1b75de?.[_0xea1494(0x6f1)]||null,'lastupdate':Ji||null,'port':_0xdc8f9c||null,'gitInstallError':Re?.['message']||null,'url':_0x5b3a00||null,'subdomain':B};if(console[_0xea1494(0x236)]('ip:\x20',_0x49b48e['ip']),_0x4956c2&&_0x4956c2['ENABLED']){let _0x29fc31=await ar();_0x49b48e[_0xea1494(0x249)]=_0x29fc31||null;}for(let _0xba8fe in _0x49b48e)_0x49b48e[_0xea1494(0x4e1)](_0xba8fe)&&_0xba8fe!=='ip'&&(_0x49b48e[_0xba8fe]=JSON[_0xea1494(0x684)](_0x49b48e[_0xba8fe]));return(await Je[_0xea1494(0x73f)][_0xea1494(0x239)](_0xea1494(0x5e0),_0x49b48e))[_0xea1494(0x765)];}catch(_0x320070){return console[_0xea1494(0x70d)](_0x320070),!0x1;}}var Fs=!0x1,Ji=0x26c,rr=0x3,Pi=0x1b7740;async function js(){const _0x401f3=a0_0x3f93a9;let _0x18fc3c=_0x401f3(0x2b9);Re===null&&(_0x18fc3c=await ji());let _0x343372=await or();if(_0x343372){if(_0x343372[_0x401f3(0x475)][_0x401f3(0x682)]===!0x0){Re===null&&_0x343372[_0x401f3(0x475)][_0x401f3(0x7a2)]-Ji>0x0&&await nr(),Fs||(Fs=!0x0,Xo());let _0x31988d=0x24*0x3c*0x3c,_0x4bffea=_0x343372[_0x401f3(0x475)]['segundos']>_0x31988d?_0x31988d:_0x343372[_0x401f3(0x475)]['segundos'],_0x1126d7=Number(_0x4bffea);if(isNaN(_0x1126d7)){console[_0x401f3(0x70d)](_0x401f3(0x63b));return;}let _0x4fbbc4=Math[_0x401f3(0x693)](_0x1126d7/0xe10),_0x5480e1=Math[_0x401f3(0x693)](_0x1126d7%0xe10/0x3c),_0x1606e4=new Date(Date['now']()+_0x1126d7*0x3e8);setTimeout(js,_0x1126d7*0x3e8);let _0x230cbb=_0x20871b=>_0x20871b['toString']()[_0x401f3(0x586)](0x2,'0'),_0x43d4a8='Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20'+_0x230cbb(_0x4fbbc4)+_0x401f3(0x1d0)+_0x230cbb(_0x5480e1)+_0x401f3(0x8e4)+_0x230cbb(_0x1606e4[_0x401f3(0x81b)]())+':'+_0x230cbb(_0x1606e4[_0x401f3(0x2a0)]())+'.';console[_0x401f3(0x236)](_0x43d4a8);}else return console[_0x401f3(0x236)](_0x401f3(0x53b)),Fs&&(console[_0x401f3(0x236)](_0x401f3(0x6b4)),process[_0x401f3(0x8cc)]()),'LICENSE_INVALID';}else{if(Di++,Di<rr)console[_0x401f3(0x236)](_0x401f3(0x605)+Pi/0xea60+_0x401f3(0x324)),setTimeout(js,Pi);else return console['error']('Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.'),'SERVER_OFFLINE';}}async function nr(){const _0x304f39=a0_0x3f93a9;console['log'](_0x304f39(0x305)),console[_0x304f39(0x236)](_0x304f39(0x271)),(0x0,os[_0x304f39(0x3ed)])(_0x304f39(0x522),{'shell':!0x0})['on'](_0x304f39(0x322),_0x10b132=>{const _0xe2e5be=_0x304f39;_0x10b132!==0x0?console[_0xe2e5be(0x70d)]('Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.'):(console[_0xe2e5be(0x236)](_0xe2e5be(0x6ae)),console['log'](_0xe2e5be(0x609)),(0x0,os[_0xe2e5be(0x3ed)])(_0xe2e5be(0x6a8),{'shell':!0x0})['on'](_0xe2e5be(0x322),_0x141613=>{const _0x33d6d6=_0xe2e5be;if(_0x141613!==0x0)console['error'](_0x33d6d6(0x948));else{console['log']('Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.');let _0x347974=(0x0,os['spawn'])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x347974[_0x33d6d6(0x318)]['on']('data',_0x3b6d20=>{const _0x1d0761=_0x33d6d6;console[_0x1d0761(0x236)]('Atualização:\x20'+_0x3b6d20);}),_0x347974[_0x33d6d6(0x7dc)]['on'](_0x33d6d6(0x765),_0x391ed3=>{const _0x2116e4=_0x33d6d6;console[_0x2116e4(0x70d)](_0x2116e4(0x3a6)+_0x391ed3);}),_0x347974['on'](_0x33d6d6(0x8cc),_0x4522bf=>{const _0x195a4a=_0x33d6d6;_0x4522bf!==0x0?console['error'](_0x195a4a(0x8e0)+_0x4522bf):console[_0x195a4a(0x236)](_0x195a4a(0x21d)),console['log']('Parando\x20aplicação...'),setTimeout(()=>process['exit'](),0x2710);});}}));});}0x0&&(module[a0_0x3f93a9(0x6d3)]={'fullURL':fullURL,'subdomain':subdomain});