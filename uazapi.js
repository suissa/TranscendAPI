const a0_0x146a96=a0_0x96ea;(function(_0x5621da,_0x7bf4a9){const _0x1e834c=a0_0x96ea,_0x46e9e9=_0x5621da();while(!![]){try{const _0x1c58f7=parseInt(_0x1e834c(0x41e))/0x1*(-parseInt(_0x1e834c(0x46b))/0x2)+parseInt(_0x1e834c(0x66f))/0x3*(-parseInt(_0x1e834c(0x2ec))/0x4)+parseInt(_0x1e834c(0x10e))/0x5+parseInt(_0x1e834c(0x20f))/0x6+parseInt(_0x1e834c(0x1af))/0x7*(parseInt(_0x1e834c(0x4aa))/0x8)+-parseInt(_0x1e834c(0x3dd))/0x9*(-parseInt(_0x1e834c(0x67f))/0xa)+-parseInt(_0x1e834c(0x6c5))/0xb;if(_0x1c58f7===_0x7bf4a9)break;else _0x46e9e9['push'](_0x46e9e9['shift']());}catch(_0x59b5e4){_0x46e9e9['push'](_0x46e9e9['shift']());}}}(a0_0x293c,0x4a46e));var _o=Object[a0_0x146a96(0x6cd)],Ie=Object['defineProperty'],Po=Object['getOwnPropertyDescriptor'],$o=Object[a0_0x146a96(0x290)],ko=Object[a0_0x146a96(0x596)],Lo=Object[a0_0x146a96(0x3f9)][a0_0x146a96(0x2b6)],jo=(_0x3b980c,_0x26b03b)=>{for(var _0x1e1ba2 in _0x26b03b)Ie(_0x3b980c,_0x1e1ba2,{'get':_0x26b03b[_0x1e1ba2],'enumerable':!0x0});},xs=(_0x30c6d5,_0x2df797,_0x1f258b,_0x4db2f6)=>{const _0x231d1f=a0_0x146a96;if(_0x2df797&&typeof _0x2df797==_0x231d1f(0x5e9)||typeof _0x2df797==_0x231d1f(0x445)){for(let _0x5a40bf of $o(_0x2df797))!Lo[_0x231d1f(0x6b1)](_0x30c6d5,_0x5a40bf)&&_0x5a40bf!==_0x1f258b&&Ie(_0x30c6d5,_0x5a40bf,{'get':()=>_0x2df797[_0x5a40bf],'enumerable':!(_0x4db2f6=Po(_0x2df797,_0x5a40bf))||_0x4db2f6[_0x231d1f(0x244)]});}return _0x30c6d5;},R=(_0xdaf251,_0x592cec,_0xbe7ec1)=>(_0xbe7ec1=_0xdaf251!=null?_o(ko(_0xdaf251)):{},xs(_0x592cec||!_0xdaf251||!_0xdaf251[a0_0x146a96(0x234)]?Ie(_0xbe7ec1,a0_0x146a96(0x68f),{'value':_0xdaf251,'enumerable':!0x0}):_0xbe7ec1,_0xdaf251)),Fo=_0x8ac008=>xs(Ie({},a0_0x146a96(0x234),{'value':!0x0}),_0x8ac008),zr={};jo(zr,{'subdomain':()=>vs}),module[a0_0x146a96(0x459)]=Fo(zr);var To=R(require(a0_0x146a96(0x343))),_s=require('fs'),Ps=require('js-yaml'),$s=require(a0_0x146a96(0x317)),xe=require(a0_0x146a96(0x317)),ae=process[a0_0x146a96(0x64a)](),ge=(0x0,xe['join'])(ae,'instances'),Ds=(0x0,xe[a0_0x146a96(0x695)])(ae,'src'),Ui=(0x0,xe['join'])(ae,'store','auth'),Zt=class{constructor(){this['loadEnv']();}[a0_0x146a96(0x3b3)](_0x3cc333){const _0x253ebf=a0_0x146a96;return this[_0x253ebf(0x56a)][_0x3cc333];}[a0_0x146a96(0x2a8)](){const _0x3665e=a0_0x146a96;this[_0x3665e(0x56a)]=process[_0x3665e(0x56a)]?.[_0x3665e(0x544)]!=='true'?this[_0x3665e(0x508)]():this[_0x3665e(0x474)](),process[_0x3665e(0x56a)]?.['DOCKER_ENV']==='true'&&(this[_0x3665e(0x56a)]['SERVER'][_0x3665e(0x2a3)]=_0x3665e(0x408),this[_0x3665e(0x56a)][_0x3665e(0x245)][_0x3665e(0x540)]=Number['parseInt'](process[_0x3665e(0x56a)]?.['SERVER_PORT']??_0x3665e(0x5a4)));}[a0_0x146a96(0x508)](){const _0x2afba8=a0_0x146a96;return(0x0,Ps[_0x2afba8(0x605)])((0x0,_s[_0x2afba8(0x7b)])((0x0,$s[_0x2afba8(0x695)])(Ds,_0x2afba8(0x496)),{'encoding':_0x2afba8(0x1d9)}));}[a0_0x146a96(0x474)](){const _0x498fb3=a0_0x146a96;return{'SERVER':{'TYPE':process[_0x498fb3(0x56a)][_0x498fb3(0x42a)],'PORT':Number[_0x498fb3(0x51a)](process[_0x498fb3(0x56a)][_0x498fb3(0x1ec)]),'URL':process[_0x498fb3(0x56a)][_0x498fb3(0x5ae)]},'CORS':{'ORIGIN':process[_0x498fb3(0x56a)][_0x498fb3(0x3a8)][_0x498fb3(0x5d7)](','),'METHODS':process['env'][_0x498fb3(0x2a6)][_0x498fb3(0x5d7)](','),'CREDENTIALS':process['env']?.[_0x498fb3(0x227)]===_0x498fb3(0x5ef)},'SSL_CONF':{'PRIVKEY':process[_0x498fb3(0x56a)]?.[_0x498fb3(0x3e7)],'FULLCHAIN':process[_0x498fb3(0x56a)]?.['SSL_CONF_FULLCHAIN']},'STORE':{'CLEANING_INTERVAL':Number[_0x498fb3(0x294)](process['env']?.[_0x498fb3(0x15a)])?Number[_0x498fb3(0x51a)](process['env'][_0x498fb3(0x15a)]):void 0x0,'MESSAGES':process[_0x498fb3(0x56a)]?.[_0x498fb3(0xcc)]===_0x498fb3(0x5ef),'CONTACTS':process['env']?.['STORE_CONTACTS']===_0x498fb3(0x5ef),'CHATS':process[_0x498fb3(0x56a)]?.[_0x498fb3(0x59b)]===_0x498fb3(0x5ef)},'DATABASE':{'CONNECTION':{'HOST':process['env']?.[_0x498fb3(0x686)],'PORT':Number[_0x498fb3(0x51a)](process['env']?.[_0x498fb3(0x686)]),'USER':process[_0x498fb3(0x56a)][_0x498fb3(0x396)],'PASSWORD':process[_0x498fb3(0x56a)][_0x498fb3(0x6ad)],'URI':process[_0x498fb3(0x56a)][_0x498fb3(0x39e)],'DB_PREFIX_NAME':process[_0x498fb3(0x56a)]['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process['env']?.[_0x498fb3(0x2c2)]==='true'},'REDIS':{'ENABLED':process[_0x498fb3(0x56a)]?.[_0x498fb3(0x185)]==='true','URI':process['env'][_0x498fb3(0x666)]||_0x498fb3(0x21c),'PREFIX_KEY':process[_0x498fb3(0x56a)][_0x498fb3(0x5fb)]||'uazapi'},'LOG':{'LEVEL':process[_0x498fb3(0x56a)]?.[_0x498fb3(0x270)][_0x498fb3(0x5d7)](','),'COLOR':process[_0x498fb3(0x56a)]?.['LOG_COLOR']===_0x498fb3(0x5ef)},'PROXY':process[_0x498fb3(0x56a)]?.[_0x498fb3(0x351)]===_0x498fb3(0x5ef),'AUTHENTICATION':{'TYPE':process['env'][_0x498fb3(0x250)],'API_KEY':{'KEY':process[_0x498fb3(0x56a)][_0x498fb3(0x258)]},'JWT':{'EXPIRIN_IN':Number[_0x498fb3(0x294)](process[_0x498fb3(0x56a)]?.[_0x498fb3(0x3b2)])?Number[_0x498fb3(0x51a)](process[_0x498fb3(0x56a)][_0x498fb3(0x3b2)]):0xe10,'SECRET':process[_0x498fb3(0x56a)][_0x498fb3(0x326)]}}};}},b=new Zt(),Ao=R(require(a0_0x146a96(0x30d))),pe=R(require(a0_0x146a96(0x98))),Os=require('path'),es=R(require(a0_0x146a96(0x125))),ts=(_0x240234=>(_0x240234['LOG']=a0_0x146a96(0x2d9),_0x240234[a0_0x146a96(0x268)]='\x1b[34m',_0x240234[a0_0x146a96(0x602)]='\x1b[33m',_0x240234[a0_0x146a96(0x45f)]=a0_0x146a96(0x368),_0x240234[a0_0x146a96(0x3b6)]=a0_0x146a96(0x40d),_0x240234[a0_0x146a96(0x19f)]='\x1b[37m',_0x240234[a0_0x146a96(0x2f1)]=a0_0x146a96(0x369),_0x240234))(ts||{}),ks=(_0x1659e2=>(_0x1659e2[a0_0x146a96(0x2d8)]=a0_0x146a96(0x19b),_0x1659e2[a0_0x146a96(0x2f1)]=a0_0x146a96(0x30c),_0x1659e2[a0_0x146a96(0x268)]=a0_0x146a96(0x93),_0x1659e2[a0_0x146a96(0x602)]=a0_0x146a96(0x73),_0x1659e2['ERROR']=a0_0x146a96(0x5f3),_0x1659e2[a0_0x146a96(0x3b6)]=a0_0x146a96(0x5c7),_0x1659e2[a0_0x146a96(0x19f)]='\x1b[37m%s\x1b[0m',_0x1659e2))(ks||{}),Ls=(_0x50789d=>(_0x50789d[a0_0x146a96(0x2d8)]='LOG',_0x50789d[a0_0x146a96(0x602)]=a0_0x146a96(0x602),_0x50789d['INFO']=a0_0x146a96(0x268),_0x50789d[a0_0x146a96(0x2f1)]=a0_0x146a96(0x2f1),_0x50789d['ERROR']=a0_0x146a96(0x45f),_0x50789d['DEBUG']=a0_0x146a96(0x3b6),_0x50789d[a0_0x146a96(0x19f)]='VERBOSE',_0x50789d))(Ls||{}),js=(_0x1a5717=>(_0x1a5717[a0_0x146a96(0x2d8)]='\x1b[42m',_0x1a5717[a0_0x146a96(0x268)]=a0_0x146a96(0x556),_0x1a5717[a0_0x146a96(0x602)]='\x1b[43m',_0x1a5717[a0_0x146a96(0x2f1)]=a0_0x146a96(0x612),_0x1a5717[a0_0x146a96(0x45f)]=a0_0x146a96(0x9a),_0x1a5717[a0_0x146a96(0x3b6)]=a0_0x146a96(0x3d7),_0x1a5717[a0_0x146a96(0x19f)]='\x1b[47m',_0x1a5717))(js||{}),v=class{constructor(_0x1b167e='Logger'){const _0x1c9c2f=a0_0x146a96;this[_0x1c9c2f(0x3bb)]=_0x1b167e,this[_0x1c9c2f(0x598)]=b;}['setContext'](_0x2602aa){const _0x1acada=a0_0x146a96;this[_0x1acada(0x3bb)]=_0x2602aa;}['console'](_0x12cf54,_0x44f17e){const _0x336253=a0_0x146a96;let _0x216c12=[];this['configService'][_0x336253(0x3b3)](_0x336253(0x2d8))[_0x336253(0x1d4)][_0x336253(0x304)](_0xc032c9=>_0x216c12[_0x336253(0x260)](Ls[_0xc032c9]));let _0x267bbb=typeof _0x12cf54;_0x216c12[_0x336253(0x322)](_0x44f17e)&&(b[_0x336253(0x3b3)](_0x336253(0x2d8))[_0x336253(0xd7)]?(console[_0x336253(0x48e)](_0x336253(0xfa)+ks[_0x44f17e],_0x336253(0x58b),(0x0,es['default'])()[_0x336253(0x2d1)](_0x336253(0x3c6)),_0x336253(0x2b1),ts[_0x44f17e]+js[_0x44f17e]+'\x1b[1m',_0x44f17e+_0x336253(0x1b4),_0x336253(0x61c),this['context']+_0x336253(0x2b1),ts[_0x44f17e],_0x267bbb!==_0x336253(0x5e9)?_0x12cf54:'',_0x336253(0x2b1)),_0x267bbb===_0x336253(0x5e9)&&console[_0x336253(0x48e)](_0x12cf54,'\x0a')):console[_0x336253(0x48e)]((0x0,es[_0x336253(0x68f)])()[_0x336253(0x2d1)]('HH:mm:ss'),_0x44f17e+'\x20',''+this['context'],_0x12cf54));}['log'](_0x34af04){const _0x10c843=a0_0x146a96;this[_0x10c843(0x54c)](_0x34af04,_0x10c843(0x2d8));}['info'](_0x3ff8fd){const _0x5b7847=a0_0x146a96;this['console'](_0x3ff8fd,_0x5b7847(0x268));}[a0_0x146a96(0x67b)](_0x3d7e98){const _0x353eaf=a0_0x146a96;this[_0x353eaf(0x54c)](_0x3d7e98,_0x353eaf(0x602));}[a0_0x146a96(0x4e3)](_0x1dbb76){const _0x559328=a0_0x146a96;this[_0x559328(0x54c)](_0x1dbb76,_0x559328(0x45f));}[a0_0x146a96(0xb5)](_0x4de7b9){const _0x13d8bb=a0_0x146a96;this[_0x13d8bb(0x54c)](_0x4de7b9,_0x13d8bb(0x19f));}[a0_0x146a96(0x23e)](_0x3a3fe9){const _0x25db29=a0_0x146a96;this[_0x25db29(0x54c)](_0x3a3fe9,_0x25db29(0x3b6));}['dark'](_0x32a1cd){const _0x5809db=a0_0x146a96;this[_0x5809db(0x54c)](_0x32a1cd,_0x5809db(0x2f1));}};function Fs(){const _0x21b93f=a0_0x146a96;process['on'](_0x21b93f(0x69a),(_0x43f3aa,_0x4fe45c)=>{const _0x10419f=_0x21b93f;new v('uncaughtException')[_0x10419f(0x4e3)]({'origin':_0x4fe45c,'stderr':process['stderr']['fd'],'error':_0x43f3aa});}),process['on']('unhandledRejection',(_0x2aa6b7,_0x4e0294)=>{const _0x4d651b=_0x21b93f;new v(_0x4d651b(0x2a0))[_0x4d651b(0x4e3)]({'origin':_0x4e0294,'stderr':process[_0x4d651b(0x523)]['fd'],'error':_0x2aa6b7});});}var qs=R(require(a0_0x146a96(0x344))),ss=new qs[(a0_0x146a96(0x68f))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),De=require(a0_0x146a96(0x5e4)),as=R(require('mongoose')),qo=new v(a0_0x146a96(0x374)),V=b[a0_0x146a96(0x3b3)](a0_0x146a96(0x56f)),N=V['ENABLED']?V[a0_0x146a96(0x438)][a0_0x146a96(0xbb)]?as[a0_0x146a96(0x68f)][a0_0x146a96(0x41c)](V[a0_0x146a96(0x438)]['URI'],{'dbName':V['CONNECTION']['DB_PREFIX_NAME']+a0_0x146a96(0x62a)}):as[a0_0x146a96(0x68f)]['createConnection'](a0_0x146a96(0x19a)+V[a0_0x146a96(0x438)]['HOST']+':'+V['CONNECTION'][a0_0x146a96(0x540)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':V[a0_0x146a96(0x438)][a0_0x146a96(0x190)],'pass':V['CONNECTION'][a0_0x146a96(0x184)],'dbName':V[a0_0x146a96(0x438)][a0_0x146a96(0x156)]+a0_0x146a96(0x62a)}):null;V[a0_0x146a96(0x6d)]&&qo[a0_0x146a96(0x217)](a0_0x146a96(0x315)+N['$dbName']);var Uo=new De[(a0_0x146a96(0x50d))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Jo=new De['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Uo],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Vo=new De[(a0_0x146a96(0x50d))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Jo,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Us=_0x5c2f4b=>{const _0xdfb4d2=a0_0x146a96;let _0x231da7='z_'+_0x5c2f4b+'_Chats';return N?.[_0xdfb4d2(0x3cf)](_0xdfb4d2(0x3de),Vo,_0x231da7);},Js=require(a0_0x146a96(0x5e4)),Bo=new Js[(a0_0x146a96(0x50d))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Vs=_0x45d45b=>{const _0x48126b=a0_0x146a96;let _0x120f2a='z_'+_0x45d45b+_0x48126b(0x561);return N?.[_0x48126b(0x3cf)]('ContactModel',Bo,_0x120f2a);},Bs=require('mongoose'),Go=new Bs['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Gs=_0x1b5f43=>{const _0x146e5d=a0_0x146a96;let _0x2ed781='z_'+_0x1b5f43+'_Messages';return N?.[_0x146e5d(0x3cf)](_0x146e5d(0x579),Go,_0x2ed781);},Ws=require(a0_0x146a96(0x5e4)),os=class{},Wo=new Ws[(a0_0x146a96(0x50d))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),zs=N?.[a0_0x146a96(0x3cf)](os['name'],Wo,a0_0x146a96(0x3ce)),Hs=require(a0_0x146a96(0x5e4)),rs=class{},Ks=new Hs[(a0_0x146a96(0x50d))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Ks[a0_0x146a96(0x335)](a0_0x146a96(0xd1),function(_0x5c94e0){const _0x575aa5=a0_0x146a96;delete this[_0x575aa5(0x160)],delete this[_0x575aa5(0x42b)],delete this[_0x575aa5(0x3bf)],delete this[_0x575aa5(0x183)],delete this[_0x575aa5(0xc7)],_0x5c94e0();});var Qs=N?.[a0_0x146a96(0x3cf)](rs['name'],Ks,'webhook'),_=require(a0_0x146a96(0x5e4)),_e=class{},Ys=new _[(a0_0x146a96(0x50d))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),is=new _[(a0_0x146a96(0x50d))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),zo=new _['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x146a96(0x570)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x146a96(0x6b2)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x146a96(0x1f2)},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Xs=new _['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Ho=new _[(a0_0x146a96(0x50d))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),Ko=new _['Schema']({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Zs=new _[(a0_0x146a96(0x50d))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':zo},'apirequest':Ho,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ds=new _[(a0_0x146a96(0x50d))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ea=new _[(a0_0x146a96(0x50d))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ns=class{},ps=new _[(a0_0x146a96(0x50d))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x317490=a0_0x146a96;return'!cmd_'+Math[_0x317490(0x421)]()[_0x317490(0xc6)](0x24)[_0x317490(0x86)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ds],'variablesNotFound':{'type':[String]},'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[is],'default':[]}});ps['pre'](a0_0x146a96(0xd1),function(_0x3886fb){const _0x18cfa1=a0_0x146a96;let _0x4f89ba=new Set(),_0x375b42=new Set(this[_0x18cfa1(0x3e0)]?.[_0x18cfa1(0x684)](_0x5cd5a1=>_0x5cd5a1[_0x18cfa1(0x68a)])),_0x44f0cd=JSON['stringify'](this),_0x1bb7d6=/{{(?!_)([^}]*)}}/g,_0x56c034;for(;(_0x56c034=_0x1bb7d6['exec'](_0x44f0cd))!==null;)_0x375b42[_0x18cfa1(0x2ea)](_0x56c034[0x1])||_0x4f89ba[_0x18cfa1(0x4a8)](_0x56c034[0x1]);_0x4f89ba[_0x18cfa1(0x14d)]>0x0?(console[_0x18cfa1(0x67b)](_0x18cfa1(0x104),Array[_0x18cfa1(0x13c)](_0x4f89ba)),this[_0x18cfa1(0x500)]=Array[_0x18cfa1(0x13c)](_0x4f89ba)):this[_0x18cfa1(0x500)]=[],_0x3886fb();});var ta=_0x427a5a=>{const _0x2fbf83=a0_0x146a96;let _0x402f50='z_'+_0x427a5a+'_Flows';return N?.[_0x2fbf83(0x3cf)]('FlowModel',ps,_0x402f50);},sa=N?.[a0_0x146a96(0x3cf)](ns[a0_0x146a96(0x68a)],ps,a0_0x146a96(0x481)),Qo=new _[(a0_0x146a96(0x50d))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ds],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Ko]},{'_id':!0x1}),cs=class{},aa=new _[(a0_0x146a96(0x50d))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ds],'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[is],'default':[]},'chatLog':Qo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':'open'},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x146a96(0x1f2)},'waitingMenu_replyOptions':{'type':[is],'default':[]}}),oa=_0x5a2f90=>{const _0x3d6eb7=a0_0x146a96;let _0x4f3f5a='z_'+_0x5a2f90+_0x3d6eb7(0x3cd);return N?.[_0x3d6eb7(0x3cf)](_0x3d6eb7(0x307),aa,_0x4f3f5a);},ra=N?.[a0_0x146a96(0x3cf)](cs[a0_0x146a96(0x68a)],aa,'flowConversation'),ls=class{},Yo=new _['Schema']({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Xo=new _['Schema']({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ia=new _[(a0_0x146a96(0x50d))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x146a96(0x52f)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Xo,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Yo],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),na=_0x4a4df1=>{const _0x5c7064=a0_0x146a96;let _0x5a9cea='z_'+_0x4a4df1+'_ScheduleMessages';return N?.[_0x5c7064(0x3cf)]('ScheduleMessageModel',ia,_0x5a9cea);},ca=N?.[a0_0x146a96(0x3cf)](ls['name'],ia,'scheduleMessages'),us=class{},Zo=new _['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),er=new _[(a0_0x146a96(0x50d))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x146a96(0x4b4)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),tr=new _[(a0_0x146a96(0x50d))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),sr=new _['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[tr]},'customFields':{'type':[Zo]},'flowConfig':{'type':er,'default':{}}}),Pe=N?.['model'](us[a0_0x146a96(0x68a)],sr,a0_0x146a96(0x10a)),la=require(a0_0x146a96(0x5e4)),ar=new la[(a0_0x146a96(0x50d))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ua=_0x29ad28=>{const _0x70b90d=a0_0x146a96;let _0xc62b0a='z_'+_0x29ad28+'_Labels';return N?.[_0x70b90d(0x3cf)]('LabelModel',ar,_0xc62b0a);},I=class{constructor(_0x48627d){const _0x5b5914=a0_0x146a96;this[_0x5b5914(0x652)]=_0x48627d[_0x5b5914(0x3b3)](_0x5b5914(0x56f));}};function A(_0x38013b){const _0xebfa84=a0_0x146a96;let _0xbe2e9={};for(let [_0x48aec3,_0x9e343]of Object[_0xebfa84(0x14c)](_0x38013b))if(typeof _0x9e343==_0xebfa84(0x5e9)&&!Array[_0xebfa84(0x604)](_0x9e343)){for(let [_0x3b7dd8,_0x54e308]of Object['entries'](_0x9e343))_0xbe2e9[_0x48aec3+'.'+_0x3b7dd8]=_0x54e308;}else _0xbe2e9[_0x48aec3]=_0x9e343;return _0xbe2e9;}var $e=class{constructor(_0x2e0753,_0x4cbab1,_0x4edadf,_0x39f316,_0x5e9879,_0x3267f0,_0x496f75,_0x121037,_0x3d34cb,_0x9dc39,_0x43fcd1){const _0x32bdb6=a0_0x146a96;this[_0x32bdb6(0x404)]=_0x2e0753,this[_0x32bdb6(0x657)]=_0x4cbab1,this['contact']=_0x4edadf,this['webhook']=_0x39f316,this['auth']=_0x5e9879,this[_0x32bdb6(0x481)]=_0x3267f0,this[_0x32bdb6(0x1fc)]=_0x496f75,this['label']=_0x121037,this[_0x32bdb6(0x6cb)]=_0x3d34cb,this[_0x32bdb6(0xd6)]=_0x9dc39,this[_0x32bdb6(0x2c7)]=_0x43fcd1;}get[a0_0x146a96(0x2e4)](){const _0x170748=a0_0x146a96;return this[_0x170748(0x2c7)];}},ke=class{},Le=class extends I{['getMessageModelForOwner'](_0x248a7){return Gs(_0x248a7);}async[a0_0x146a96(0x334)](_0x4473dc,_0x426faa){const _0x9b7184=a0_0x146a96;if(_0x4473dc['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x426faa)[_0x9b7184(0x31d)]([..._0x4473dc]))['length']};}catch(_0x3ff38f){return _0x3ff38f;}}async[a0_0x146a96(0x54e)](_0xb6f70a,_0x596372){const _0x3633b0=a0_0x146a96;try{let _0x125562=this['getMessageModelForOwner'](_0x596372),_0x5a1b80=A(_0xb6f70a[_0x3633b0(0x559)]);return await _0x125562[_0x3633b0(0x54e)](_0x5a1b80)[_0x3633b0(0x193)]({'messageTimestamp':-0x1})[_0x3633b0(0x113)](_0xb6f70a?.[_0x3633b0(0x113)]??0x0)[_0x3633b0(0x8c)]();}catch{return[];}}async[a0_0x146a96(0x487)](_0x1f3c02,_0x3d4851){const _0x17285f=a0_0x146a96;try{let _0x5f45bc=this['getMessageModelForOwner'](_0x3d4851),_0x12ce02=A(_0x1f3c02['where']);await _0x5f45bc[_0x17285f(0x692)](_0x12ce02);}catch(_0x780b17){console[_0x17285f(0x4e3)](_0x780b17);}}async['update'](_0xa0297d,_0x10926a,_0x5918c6){const _0x44de5c=a0_0x146a96;try{let _0x26e16d=this[_0x44de5c(0x45d)](_0x5918c6),_0x15ed75=A(_0xa0297d[_0x44de5c(0x559)]);return await _0x26e16d[_0x44de5c(0x2f2)](_0x15ed75,{'$set':_0x10926a},{'new':!0x0});}catch(_0x2737cb){throw console['error'](_0x2737cb),_0x2737cb;}}async[a0_0x146a96(0x31d)](_0x2dbaa7,_0x4be181){const _0x517c99=a0_0x146a96;if(_0x2dbaa7[_0x517c99(0x29f)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x4be181)[_0x517c99(0x31d)]([..._0x2dbaa7]))[_0x517c99(0x29f)]};}catch(_0x2c057f){return console[_0x517c99(0x48e)](_0x517c99(0x2fd),_0x2c057f),_0x2c057f;}}async[a0_0x146a96(0x377)](_0x3c67ab){const _0xed6726=a0_0x146a96;try{return await this['getMessageModelForOwner'](_0x3c67ab)[_0xed6726(0x1da)][_0xed6726(0x7e)](),{'success':!0x0};}catch(_0x4328d7){return console[_0xed6726(0x4e3)](_0x4328d7),{'success':!0x1,'error':_0x4328d7};}}},wo=R(require(a0_0x146a96(0x6ba))),y=R(require('@whiskeysockets/baileys')),ve=require('fs'),F=R(require(a0_0x146a96(0x317))),se=R(require('axios')),yo=require(a0_0x146a96(0x17d)),bo=R(require(a0_0x146a96(0xde))),So=R(require(a0_0x146a96(0x172))),da=[a0_0x146a96(0x17c),a0_0x146a96(0x275),'audioMessage',a0_0x146a96(0x18e),a0_0x146a96(0x26d)],pa=[a0_0x146a96(0x69b),a0_0x146a96(0x37e),a0_0x146a96(0xa9),'viewOnceMessageV2'],Ss=require('os'),Ot=R(require(a0_0x146a96(0x3cc))),_t=require(a0_0x146a96(0x195)),It=require(a0_0x146a96(0x297)),ie=R(require(a0_0x146a96(0x5e4))),k=require(a0_0x146a96(0x1e9)),me=class{constructor(_0x1f7146,_0x111f5d,_0x14ed42){const _0x9fb6fb=a0_0x146a96;this[_0x9fb6fb(0x7d)]=_0x1f7146,this[_0x9fb6fb(0x59d)]=_0x111f5d,this['name']=_0x14ed42;}},je=class{},Fe=class{},be=class{},qe=class{},Ue=class{},fe=class{},Je=class{},Ve=class{},Be=class{},Ge=class{},Mt=R(require(a0_0x146a96(0x98))),ha=require('fs'),ga=require(a0_0x146a96(0x317));async function We(_0x10f43b){const _0x434b14=a0_0x146a96;let _0x180025=B[_0x434b14(0x45e)][_0x10f43b];if(V[_0x434b14(0x6d)]){let _0x4c89ac=N[_0x434b14(0x3da)]()['db'](V[_0x434b14(0x438)][_0x434b14(0x156)]+_0x434b14(0x202))[_0x434b14(0x1da)](_0x10f43b);return _0x180025||(await _0x4c89ac[_0x434b14(0x54e)]({})['toArray']())[_0x434b14(0x29f)]>0x0;}return _0x180025||(0x0,ha[_0x434b14(0x679)])((0x0,ga[_0x434b14(0x695)])(ge,_0x10f43b));}async function ma(_0x31df4a,_0x21f48e,_0x1db2bd){const _0x4c1dca=a0_0x146a96;if(_0x31df4a[_0x4c1dca(0x158)]['includes'](_0x4c1dca(0x136))||_0x31df4a['originalUrl'][_0x4c1dca(0x322)](_0x4c1dca(0x5e1))||_0x31df4a[_0x4c1dca(0x158)][_0x4c1dca(0x322)](_0x4c1dca(0xcf))||_0x31df4a[_0x4c1dca(0x158)][_0x4c1dca(0x322)](_0x4c1dca(0xb2))||_0x31df4a['originalUrl'][_0x4c1dca(0x322)]('/instance/connect')||_0x31df4a[_0x4c1dca(0x158)][_0x4c1dca(0x322)](_0x4c1dca(0xaf))||_0x31df4a[_0x4c1dca(0x158)][_0x4c1dca(0x322)](_0x4c1dca(0x29b)))return _0x1db2bd();let _0x507a8c=_0x31df4a[_0x4c1dca(0x5c6)];if(!_0x507a8c?.['instanceName'])throw new m(_0x4c1dca(0x70));if(!await We(_0x507a8c[_0x4c1dca(0x381)]))throw new j('The\x20'+_0x507a8c[_0x4c1dca(0x381)]+_0x4c1dca(0x2ee));_0x1db2bd();}async function fa(_0x6d5c84,_0x8d71c3,_0x51bcd7){const _0x6bcdee=a0_0x146a96;if(_0x6d5c84['originalUrl'][_0x6bcdee(0x322)](_0x6bcdee(0x136))){let _0x1c7f27=_0x6d5c84['body'];if(await We(_0x1c7f27[_0x6bcdee(0x381)]))throw new K('This\x20name\x20'+_0x1c7f27[_0x6bcdee(0x381)]+_0x6bcdee(0x5bd));B['waInstances'][_0x1c7f27['instanceName']]&&delete B[_0x6bcdee(0x45e)][_0x1c7f27['instanceName']];}_0x51bcd7();}function a0_0x96ea(_0x37e53c,_0x525616){const _0x293cca=a0_0x293c();return a0_0x96ea=function(_0x96eaf3,_0x30b2e3){_0x96eaf3=_0x96eaf3-0x6d;let _0x1f2071=_0x293cca[_0x96eaf3];return _0x1f2071;},a0_0x96ea(_0x37e53c,_0x525616);}var wa=require(a0_0x146a96(0x1e9)),ya=R(require(a0_0x146a96(0x94))),ze='uazapi',rr=new v(a0_0x146a96(0x24b));async function ir(_0x1f8bcf,_0x1a75d7,_0x4009df){const _0x317326=a0_0x146a96;let _0x19a6a4=_0x1f8bcf[_0x317326(0x3b3)](_0x317326(0x2d4));if(_0x19a6a4&&b['get'](_0x317326(0x328))['API_KEY'][_0x317326(0x2b9)]!==_0x19a6a4)throw new ee();if(b[_0x317326(0x3b3)](_0x317326(0x328))[_0x317326(0x1d7)][_0x317326(0x2b9)]===_0x19a6a4)return _0x4009df();if((_0x1f8bcf[_0x317326(0x158)][_0x317326(0x322)](_0x317326(0x136))||_0x1f8bcf[_0x317326(0x158)][_0x317326(0x322)](_0x317326(0x5e1)))&&!_0x19a6a4)throw new K(_0x317326(0x398),_0x317326(0x568));let _0x20bb64=b[_0x317326(0x3b3)]('AUTHENTICATION')['JWT'];try{let [_0x4aefc6,_0x19d9b0]=_0x1f8bcf[_0x317326(0x3b3)](_0x317326(0xab))[_0x317326(0x5d7)]('\x20');if(_0x4aefc6[_0x317326(0x5a9)]()!==_0x317326(0x48b))throw new ee();if(!(0x0,wa[_0x317326(0x47c)])(_0x19d9b0))throw new ee();let _0x5582ce=_0x1f8bcf[_0x317326(0x5c6)],_0x9a2db9=ya[_0x317326(0x68f)][_0x317326(0x64f)](_0x19d9b0,_0x20bb64[_0x317326(0x12a)],{'ignoreExpiration':_0x20bb64[_0x317326(0x57f)]===0x0});if(_0x5582ce[_0x317326(0x381)]!==_0x9a2db9['instanceName']||ze!==_0x9a2db9[_0x317326(0x248)])throw new ee();return _0x4009df();}catch(_0x3b1e06){throw rr[_0x317326(0x4e3)](_0x3b1e06),new ee();}}async function nr(_0x143bbd,_0x58d42e,_0x3e9f3d){const _0x329b6f=a0_0x146a96;let _0x2fae13=b['get']('AUTHENTICATION')[_0x329b6f(0x1d7)],_0x546b4d=_0x143bbd[_0x329b6f(0x3b3)](_0x329b6f(0x2d4));if(_0x2fae13['KEY']===_0x546b4d)return _0x3e9f3d();if(_0x143bbd[_0x329b6f(0x158)][_0x329b6f(0x322)](_0x329b6f(0x136))){let _0x20fef3=He,_0x28da56=_0x143bbd[_0x329b6f(0x4c6)][_0x329b6f(0x381)];if(_0x20fef3&&_0x28da56[_0x329b6f(0x5a9)]()['startsWith'](_0x20fef3['toLowerCase']()))return _0x3e9f3d();if(!_0x546b4d)throw new K(_0x329b6f(0x398),_0x329b6f(0x568));}if(_0x143bbd[_0x329b6f(0x158)][_0x329b6f(0x322)](_0x329b6f(0x5e1))&&!_0x546b4d)throw new K(_0x329b6f(0x398),_0x329b6f(0x568));if(_0x143bbd[_0x329b6f(0x158)]['includes'](_0x329b6f(0xcf))&&!_0x546b4d)throw new K(_0x329b6f(0x398),_0x329b6f(0x568));if(_0x143bbd[_0x329b6f(0x158)][_0x329b6f(0x322)]('/config')&&!_0x546b4d)throw new K(_0x329b6f(0x398),_0x329b6f(0x568));try{let _0x4caf70=_0x143bbd[_0x329b6f(0x5c6)];if((await ce[_0x329b6f(0x534)][_0x329b6f(0x54e)](_0x4caf70[_0x329b6f(0x381)]))['apikey']===_0x546b4d)return _0x3e9f3d();}catch{}throw new ee();}function a0_0x293c(){const _0x3d047a=['updateProfileStatus','label_jid','):\x20this.processingScheduleMessageId:\x20','SERVER_ACK','WARN','\x20quoted:\x20','isArray','load','copyBlock','reconnectAttempts','):\x20Ler\x20mensagem','subjectOwner','messageSecret','post','Flow\x20não\x20encontrado',')\x20fromMe:\x20','caption','METHODS','allContacts','fetchMessages','\x1b[40m','editConversation','imagechat','getChatModelForOwner','decryptPollVote','\x0a{\x20instance:\x20','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','Falta\x20informação\x20para\x20a\x20chamada\x20API','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','filter','\x1b[33m\x1b[1m','saveConversationToDatabase','API\x20Key\x20inválida.','):\x20expirationTime:\x20','menuMessage','content-type','Not\x20Found','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','request\x20received\x20in\x20starFlow','):\x20Procurando\x20conversa','nome','groupUpdateSubject','.TEL;waid=',',\x20resultado:\x20','-whatsapp-api','):\x20Enviando\x20localização','presence.update','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','):\x20newSecondValue\x20após\x20replaceVariables:','Image\x20created','ids','silent','eventEmitter','instance','Número:\x20','port','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','Valor\x20de\x20find\x20ou\x20replace\x20ausente','requestPairingCode','contacts.upsert','router','data:\x20','Error\x20updating\x20profile\x20name','writeFileSync','static','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','leadInfo','Hash\x20to\x20audio\x20name:\x20','updateMissingCustomFields','send','remote\x20\x22origin\x22','request\x20received\x20in\x20editFlowgroup','groups_ignore','maxActives','lastmsg','cwd','url','sendMedia','):\x20Mensagem\x20já\x20enviada\x20para\x20','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','verify','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','\x20não\x20encontrado\x20para\x20atualização.','dbSettings','updateReadReceiptsPrivacy','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','Proxy\x20funcionando!','toBRL','chat','requestFile','markMessageAsRead','contextInfo','leadInfo.','CORS','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','contacts','fetchContacts','label','Audio\x20is\x20url','local_map','generateHash','connectToWhatsapp','request\x20received\x20in\x20editConversation','REDIS_URI','lastReceivedMessage','editChat','normalizeMessage','allflows','assign','flowName','mediaMessage','listen','616449AXDLwg','profile','deleteMessageForEveryone','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','localWebhook','makeCacheableSignalKeyStore','CHATS_SET','Chrome\x20(Linux)','Instance\x20Key\x20from\x20DB:','sendAudio','existsSync','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','warn','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','contactHandle','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','5579490LwveZC','Host\x20de\x20proxy\x20em\x20\x27auth\x27\x20não\x20encontrado,\x20selecionando\x20um\x20proxy\x20aleatório.','metadata','CLEANING_INTERVAL','buttons','map','):\x20Visualizando\x20AutomateSystem','DATABASE_CONNECTION_HOST','mediaKey','MAX_RECONNECT_ATTEMPTS','locationMessage','name','subjectTime','lastMessage','creation','AppStateSyncKeyData','default','findLabels','remove','deleteMany','request\x20received\x20in\x20deleteFlow','.txt','join','RemoveChatLabel','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','findWebhook','uncaughtException','ephemeralMessage','editFlowGroup','):\x20Criando\x20fluxo...','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','/events','cleanStore','replaceOne','\x20saindo\x20da\x20função','updateMediaMessage','delayChatLabel_MAX_RETRIES','startFlow','type','groupHandler','mentions','Erro\x20de\x20atualização:\x20','STATUS_INSTANCE','reviver','organization','DATABASE_CONNECTION_PASSWORD','GROUP_PARTICIPANTS_UPDATE','floor','newValue','call','Selecione','start','webhookModel','.wav','values','prepareMediaMessage','next_groupId','labels.association','@ffmpeg-installer/ffmpeg','restrict','Erro\x20ao\x20copiar\x20dados:','isLong','FlowController','editflowvaredit','sendText','Erro\x20inesperado\x20em\x20processvaredits:\x20','groupName','):\x20conversation.lastInteraction:\x20','):\x20Bloco\x20original\x20para\x20cópia:\x20','2545895ygRGRN','variable','instance.','\x20segundos','PREFIX_KEY','updateStopChat','scheduleMessage','Error\x20updating\x20participants','create','):\x20leadInfoVariables','<subdomain>','match','findFlow','webp','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','addChatLabel','ENABLED','editOperator','updateProfileName','instanceName\x20not\x20provided.','chats.set','Chrome','\x1b[33m%s\x1b[0m','augusto.fcs@gmail.com','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','Error\x20occurred\x20while\x20archiving\x20chat:\x20','Error\x20updating\x20privacy\x20settings','interval\x20não\x20é\x20um\x20número','resetReconnectionVariables','PRODUCT_LIST','readFileSync','useMultiFileAuthState','jid','drop','):(','editflowblock','fetchLabels','audio/ogg','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','groupUpdateDescription','sendContact','slice',',\x20saindo.','sendPresenceUpdate','sendStatus','unlinkSync','#ffae04','lean','Content\x20is\x20required','https://jsonip.com','request\x20received\x20in\x20fetchConversation','editFlow','MESSAGES_UPSERT','output','\x1b[34m%s\x1b[0m','jsonwebtoken','/wa-contacts','header','senderKeyDistributionMessage','express','apirequest','\x1b[41m','fetchStatus','announce','initAuthCreds','processPollUpdateMessage','preview','getTicketSystem','pairingCode','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','Erro\x20ao\x20deletar\x20mensagens:','viewOnceMessageV2','.svg','-----------------proxyUri---------------------','stopMinutesMaxActives','):\x20Query\x20params:','viewOnceMessage','#fed428','authorization','editedMessage','editflow','validate','/instance/connectionState','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','buttonMessage','/config','text/event-stream','scheduleNextCheck','verbose','proto','Rótulo\x20inválido\x20ou\x20sem\x20ID.','REDIS','reorderBlocks','):\x20Deletando\x20mensagem','URI','realVariables','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','vcard','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','Temp\x20image\x20deleted','messageTimestamp','#fe9dfe','findByIdAndUpdate','Imagem\x20não\x20encontrada','://','toString','flowStopMinutes','^\x5cd+','Instance\x20deleted','newStoppedUntil','updateFlowConfig','STORE_MESSAGE','cleaningUp','key','/exit','Sending\x20audio\x20whatsapp','save','@whiskeysockets/baileys','*\x0a\x0a','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','\x20não\x20encontrado\x20para\x20cópia','automateSystem','COLOR','\x5cd+','/media/','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','status.instance','saveTextReply','parse','qrcode','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','fetchProfilePicture','CHATS_UPDATE','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','):\x20Buscando\x20flow...','request\x20received\x20in\x20updateAgent','subdomain','sendMessage','readMessages','@broadcast','equal','):\x20isVote:\x20','groupSetting','.uazapi.dev','_activatedCount','https://','announcement','selectableCount','Sistema\x20atualizado\x20com\x20sucesso!','Unable\x20to\x20leave\x20the\x20group','media','user','getHours','view\x20engine','getDelay','host','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','\x1b[1m','stopIfLastReturnedError','sendWhatsAppAudio','notify','isBusiness','Valor\x20inicial:\x20\x22','hDel','removeInstance','Getting\x20audio\x20from\x20url','):\x20Current\x20Time:\x20','Variáveis\x20não\x20encontradas:','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','QRCODE_UPDATED','response','createClient','subject','AutomateSystem','formatBRNumber','loggedOut','uazapiSendContact','684740TiwiJi','pollMessage','SendScheduleMessage','processblock','Button\x20texts\x20cannot\x20be\x20repeated','limit','addresss','editFlowBlock','now','#dfaef0','groupCreate','video','update','messaging-history.set','updateChatWithMessage','replaceVariablesInObject','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','conditions','):\x20Dados\x20migrados\x20com\x20sucesso','cache','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','BRL','available','dayjs','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','writeData','/wa-connection-update','whatsappNumbers','SECRET','groupId','.mp4','deleteMessage','sectionsToString','out','CONTACTS_UPSERT','uazapiSendText','BufferJSON','processConditionsTest','getAutomateSystem','testProxy','/instance/create','address','dbInstance','paused','Erro:','restart','from',',\x20valor\x20a\x20encontrar:\x20\x22','Business\x20profile\x20fetched','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','Erro\x20ao\x20atualizar\x20o\x20fluxo:','request\x20received\x20in\x20scheduleMessage','\x20mensagens\x20de\x20','editFlowCondition','textMessage','):\x20Bloco\x20com\x20ID\x20','leadInfo.desativadoFluxoAte','):\x20Campos\x20a\x20serem\x20atualizados:','remoteJids','Error\x20updating\x20profile\x20status','getAllData','updateAll','entries','size','\x20foi\x20interrompido\x20pelo\x20usuário.','statSync','phoneNumber','groupAcceptInvite','statusCode','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','):\x20Flow\x20não\x20encontrado','last_update','DB_PREFIX_NAME','quotedMessage','originalUrl','goToFlow','STORE_CLEANING_TERMINAL','storePath','):\x20Enviando\x20texto','delay','archiveChat','matchRegex','flowActive','getBase64FromMediaMessage','authModel','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','isRunning','.\x20Aguardando\x20antes\x20de\x20reconectar...','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','uazapiSendAudio','Instância:\x20','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','.webm','sending','.png','created','Font\x20is\x20required','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','qrcode-terminal','lastSend','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','Error\x20updating\x20setting','Proxy\x20falhou.\x20Tentando\x20o\x20próximo...','messageHandle','Error\x20creating\x20group','prepareWAMessageMedia','request\x20received\x20in\x20getAutomateSystem','authState','imageMessage','uuid','stdout','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','convert','connectToWhatsappController','flowStopConversation','PASSWORD','REDIS_ENABLED','):\x20customFieldVariables','options','protocol','.mp3','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','oldToken','Erro\x20ao\x20buscar\x20conversas:\x20','finish','videoMessage','waitingMenu_ExpiredMessage','USER','repeat','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','sort','request\x20received\x20in\x20editFlowcondition','child_process','getVariablesChat','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','messageContextInfo','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','mongodb://','\x1b[32m%s\x1b[0m','/wa-chats','updateBlock','toDataURL','VERBOSE','boolean','password','Last\x20message\x20not\x20found\x20for\x20number:','updateProfilePicture','getflow','certbot','/create','displayName','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','/instance','updateGroupsAddPrivacy','urlencoded','open','request\x20received\x20in\x20getFlow','Nenhum\x20chat\x20encontrado\x20para\x20editar.','308eKpojh','NextBlock','toUpperCase','error_log','HeaderType','\x20\x1b[0m','uazapi','deleteBlock','getFlowModelForOwner','Erro\x20do\x20Certbot:\x20','sendReaction','updateCustomFields','unlocked','userDevicesCache','desativadoFluxoAte','Audio\x20converted\x20to\x20mp4','action','Temp\x20audio\x20path:\x20','redis','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','method','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','\x20attempts.','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','promote','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','fileName','instanceInfo','process','saveCreds','writeFile','value','buttonText','min','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','padStart','saveMediaToFile','LEVEL','last','Message\x20not\x20found','API_KEY','getScheduleMessageModelForOwner','utf-8','collection','50mb','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','getLastMessage','sendList','#d3a91f','updateReplyOption','):\x20Conversa\x20inserida\x20com\x20sucesso.','website','Error\x20fetching\x20and\x20updating\x20profile:\x20','notEqual','agents','@g.us','\x20com\x20sucesso.','Image\x20path:\x20','class-validator','getConversationModelForOwner','removed','SERVER_PORT','endsWith','execSync','fileUrl','option','replaceVariablesInReplyOptions','Esse\x20fluxo\x20expirou','\x20not\x20found,\x20retrying\x20in\x20','stopConversation','createConversationforStartFlow','.xlsx','fetchInstances','Variável\x20não\x20encontrada!','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','):\x20Edit\x20schedule\x20message...','picture','flowConversation','deleteFlow','font','Contacts\x20not\x20found','):\x20Editando\x20edição\x20do\x20fluxo...','exec','-instances','):\x20alterando\x20this.AutomateSystem','OrAnd','everyOne','sendCommand','Certbot\x20executado\x20com\x20sucesso.','replyOption','numbers','URL\x20limpa:\x20','.ogg','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','editflowvariable','Button\x20IDs\x20cannot\x20be\x20repeated.','969600luXzJe','#9ba6ff','flowname:\x20','):\x20Entrou\x20na\x20função\x20goToFlow','importChats','getBusinessProfile','findOrCreate','instanceKeys','info','quoted','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','TEXT',',\x20Expiration\x20Time:\x20','redis://127.0.0.1:6379','width','email','CONTACTS_UPDATE','#64c4ff','lastCondition','updateProfilePicturePrivacy','timerId','flushHeaders','Bloco\x20com\x20ID\x20','reference','CORS_CREDENTIALS','#f64847','/clients-info','binary','createConversationforgoToFlow','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','Instance\x20\x22','WA\x20MODULE','saveVariable','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','Output\x20audio\x20path:\x20','createSectionsFromValues','changeVariables','__esModule','):\x20Going\x20to\x20','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','g-t','minutesToClose','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','CHATS_DELETE','):\x20atualização\x20chat:\x20','Temp\x20audio\x20deleted','):\x20Buscando\x20todos\x20os\x20fluxos...','debug','ex:\x20\x22groupJid=120362@g.us\x22','#ff9484','Last\x20message\x20not\x20found','Tentando\x20reconectar...','remoteJidsRemaining','enumerable','SERVER','string','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','apiName','contacts.update','none','GUARD','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','menuType','removeData','):\x20Fluxos\x20não\x20estão\x20ativados','AUTHENTICATION_TYPE','):\x20updateResult:','):\x20Deletando\x20fluxo...','rm\x20-rf\x20','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','findAll','groupValidate','groupadd','AUTHENTICATION_API_KEY','mongodb','ReplyOptions\x20finais\x20após\x20reordenação:','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','Parando\x20aplicação...','data','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','#b4ebff','push','Invalid\x20format','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','evaluateCondition','https-proxy-agent','sendPoll','audio/aac','):\x20Procurando\x20mensagens\x20para\x20envio','INFO','code','PRIVKEY','connectedName','File\x20written\x20to\x20path:\x20','stickerMessage','privacySettings','modifiedCount','LOG_LEVEL','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','Não\x20respondeu\x20com\x20a\x20enquete.','createflow','etiquetas','documentMessage','secondValue','empty','\x20do\x20chat\x20','checkAndRestartProcess','STORE','delaySecMin','deletedCount','TEL','):\x20Enviando\x20mídia','AutomateSystem\x20não\x20foi\x20inicializado','The\x20property\x20cannot\x20be\x20empty','readreceipts','_p_','downloadMediaMessage','HttpsProxyAgent','bulkWrite','groups.upsert','loadWebhook','DELETED','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','findAndReplaceRegex','\x20minutos...','varedits','closeExistingConversations',',\x20lastCondition:\x20','/wa-message-update','getOwnPropertyNames','remoteJid','ObjectId','processApiRequest','isInteger','/chat','):\x20Limpando\x20delayMessage','node-mime-types','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','Erro\x20ao\x20aplicar\x20varedit:\x20','Validate','/instance/delete','labels.edit','joinGroup','waMonitor','length','unhandledRejection','Revoke\x20error','fetchBusinessProfile','TYPE','):\x20teve\x20mudanças\x20chat.archived:\x20','emit','CORS_METHODS','unreadCount','loadEnv','views','deleted','downloads','chats.delete','@redis/client','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','https://api.ipify.org?format=json','connectionUpdate','\x1b[0m','temp-','responsavelid','CONNECTION_UPDATE','locked','hasOwnProperty','toNumber','Converting\x20audio\x20to\x20mp4','KEY','\x20-i\x20','deleteflow','DisconnectReason','findGroupInfo','addBlock','shift','editFlowVariable','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','DATABASE_ENABLED','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','https://chat.whatsapp.com/','mimetype','dbClient','document','pollCreationMessageV3','request\x20received\x20in\x20editFlowvariable','Error\x20change\x20group\x20name','formatStatusMessage','findMessages','/:instanceName','updateParticipant','https://github.com/uazapi/uazapi.git','format','updateOneById','}}\x20->\x20valor\x20não\x20encontrado','apikey','goNextblock','updateGParticipant','/*.json','LOG','\x1b[32m','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','eventHandler','logger','Configuração\x20do\x20Proxy\x20inválida.\x20Tentando\x20o\x20próximo...','deleteInstance','/message','spawn','Image\x20is\x20base64','protocolMessage','dbServer','startsWith','isURL','#00a1f2','API\x20Key\x20from\x20Request:','processgoToFlow','has','?timestamp=','4iCJGLm','when','\x20instance\x20does\x20not\x20exist','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','getScheduleMessage','DARK','findOneAndUpdate','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','pollUpdateMessage','groups.update','https','updateMessage','sharp','updatePresence','delayMessage','groupParticipantsUpdate','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','ERROR:\x20','exit','findByIdAndDelete','deleteConversation','less','image','findContacts','forEach','\x20minutos.\x20Será\x20às\x20','set','ConversationModel','segundos','delayChatLabel','):\x20Enviando\x20áudio','errors','\x1b[30m%s\x1b[0m','cors','creds.update','release','redirect','ListMessage','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','editFlowVaredit','convertaudio','ON\x20-\x20dbName:\x20','prefixCommand','path','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','pollOnReplyDelete','findParticipants','reaction','\x20inseridos\x20no\x20banco\x20de\x20dados...','insertMany','):\x20Bloco\x20copiado:\x20','scheduleSendText','close','delaySecMax','includes','ini','detail','):\x20Buscando\x20conversas...','AUTHENTICATION_JWT_SECRET','Authentication\x20error','AUTHENTICATION','replyOptions','getTime','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','optionName','connectionState','):\x20Iniciando\x20bot...','del','apiResponse','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','importChatsBatch','fetchProfile','insert','pre','command','Certbot:\x20','contains','sendMenu','removeProfilePicture','readFile','waitingMenu_replyOptions','saveChatVariables','content','nomecompleto','editflowcondition','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','role','compression','eventemitter2','\x0aitem','truncatedtoEnd','backgroundColor','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','):\x20nextBlock.uazapi.name','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','#6f7bcf','listType','fromMe','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','PROXY','allFlows','groupJid','no.connection','insertCount','Router','checkAndUpdateChatStatus','Erro\x20ao\x20encerrar\x20a\x20API','Label\x20','chatModify','loadInstance','fetchChats','waitingMenu_id','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','archive','deleteDoneMessages','Instance\x20logged\x20out','done','convertedOptions','AddChatLabel','Processing\x20audio','axios','\x1b[31m','\x1b[30m','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','contact_blacklist','mediaSticker','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','evaluateConditionTest','whatsappNumber','request\x20received\x20in\x20editFlow','Read\x20messages','Db\x20Connection','creds.json','Error\x20in\x20scheduleNextCheck:\x20','deleteAll','PLAYED','keys','InstancesAlterarTodas','choices','instanceCount','.error','documentWithCaptionMessage','updateOnlinePrivacy','waitingMenu_text','instanceName','rowId','Archiving\x20chat','groupSettingUpdate','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','updateMany','creds','splice','findById','/wa-message','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','request\x20body:\x20','*Pergunta*:\x20\x0a','Connection','optionDescription','hbs','findGroups','chats','CHATS_UPSERT','https://uazapi-plugin.bubbleapps.io/','\x5c$&','DATABASE_CONNECTION_USER','chatHandle','Missing\x20global\x20api\x20key','status@broadcast','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','Nenhum\x20proxy\x20funcional\x20encontrado\x20ou\x20desabilitado.','indexOf','request\x20received\x20in\x20deleteDoneMessages','DATABASE_CONNECTION_URI','enabled','Telefone:\x20','atendimentoAberto','@s.whatsapp.net','reactionMessage','leaveGroup','Group\x20not\x20found','replaceVariablesChat','ORG:','CORS_ORIGIN','oldValue','leadInfo.etiquetas','env.yml','ListType','selectedOptions','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','createGroup','Getting\x20profile\x20info','\x20Tentativa\x20de\x20reconexão\x20','AUTHENTICATION_JWT_EXPIRIN_IN','get','messagesSend','setRestartTimer','DEBUG','CONECTADO\x20À\x20UAZAPI','stateConnection','group','deleteOne','context','ReplyOption\x20com\x20ID\x20','updateMissingTags','sendDataWebhook','flowPrefixCommand','pushName','viewOnceMessageV2Extension','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','#9568cf','The\x20instance\x20needs\x20to\x20be\x20disconnected','defineAuthState','DD/MM\x20HH:mm:ss','uazapiSendLocation','replace','\x22\x20not\x20found',',\x20pairCode:\x20','headers','pino','_FlowHistorico','authentication','model','createServer','notas','\x20de\x20conectar\x20com\x20proxy.','throwAndLogError','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','sleep','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','\x1b[46m','Fluxos\x20não\x20estão\x20ativados','updateMissingLabels','getClient','audio/mp4','delAll','9YBubkQ','ChatModel','reorderReplyOptions','variables','Data\x20inválida\x20fornecida','DaysToDelete','lastBlockId','/wa-groups','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','video-cover.png','SSL_CONF_PRIVKEY','connection.update','mediatype','getMessage','Erro\x20ao\x20inserir\x20chats:','/media','):\x20Não\x20achou\x20nenhum\x20flow','revokeInviteCode','#ffffff','\x20}\x0a','Enter\x20a\x20value\x20in\x20milliseconds','jpegThumbnail','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','moreLogs','prototype','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','vote','DELIVERY_ACK','arrayUnique','bodyString','updateGroupPicture','customFields','webhookService','uazapiSendMenu','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','message','findAndReplace','.docx','birthtime','http','\x20-y','restartInstance','cpf','stanzaId','\x1b[36m','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','state',',\x20fará\x20nova\x20verificação\x20em\x20','notContains','pt-BR','joinGroupValidate','^\x5cd+[\x5c.@\x5cw-]+','fetchConversation','Início','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','notMatchRegex','status','statusMessage','isConnected','createConnection','\x20removido\x20do\x20chat\x20','49633uDEDxa','varedit','valid','random','GROUPS_UPSERT','count','fetchPrivacySettings','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','getConversation','.webp','StatusJidList\x20is\x20required','greater','SERVER_TYPE','flowIgnoreGroups','):\x20Comando\x20desconhecido:\x20','fromObject','title','upsertChats','Getting\x20image\x20from\x20url','Type\x20defined\x20as\x20audio','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','unavailable','):\x20delete\x20=\x20true','):\x20Query\x20params:\x20','connectionClosed','fetchLatestBaileysVersion','CONNECTION','removeOlderDisconnectedInstances','Cache-Control','max','sign','\x20-\x20ON:\x20','qrCode','):\x20','abs','upperCase','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','getMinutes','substring','function','success','round','Mensagem\x20não\x20suportada','keep-alive','Deleted\x20','Forbidden','.doc','unknown\x20operation\x20type\x20[','flattenObject','authService','webhook','):\x20Editando\x20variável\x20do\x20fluxo...','createNewConversation','sections','Comando\x20desconhecido','stringify','):\x20Deletando\x20conversa...','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','shutdown\x20-r\x20now','exports','Error\x20in\x20chatModify\x20for\x20number\x20','\x22reaction\x22\x20must\x20be\x20an\x20emoji','Database\x20is\x20not\x20enabled','getMessageModelForOwner','waInstances','ERROR','getLabelModelForOwner','height','replaceVariables','poll','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','online','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.',',\x20valor\x20passado:\x20\x22','waUploadToServer','):\x20Criou\x20conversa\x20no\x20startFlow:','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','14lxlGej','pollCreationMessage','\x20não\x20encontrado','isJidGroup','groupLeave','pop','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','mkdirSync','Error\x20in\x20markMessageAsRead:','envProcess','processUazapi','sticker','toLocaleString','EMAIL','RECONNECT_TIME_FRAME','WebhookGlobal','Not\x20is\x20business\x20profile','isJWT','express-async-errors','padEnd','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','request\x20received\x20in\x20getConversation','flow','query','CONFIGURAÇÃO\x20GERAL:','repository','PRESENCE_UPDATE','StartBot','delete','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','createFlow','bearer','#56ccb4','replaceVariablesLogs','log','stopMinutes','request\x20received\x20in\x20createFlow','all','noConnection','removeChatLabel','composing','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','../env.yml','integer','buttonId','conversation','flowConfig','Erro\x20ao\x20remover\x20label\x20','sendButtons','Resultado\x20da\x20atualização:','The\x20\x22','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','Parando\x20aplicação,\x20atualização\x20recebida','):\x20Alterando\x20fluxo...','base64','refused','isBase64','group\x20ignored','/webhook',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','add','readData','42200hRNABU','Instance\x20restarted','extractRegex','):\x20Erro\x20ao\x20buscar\x20conversas\x20','pollErrorMessage','inviteCode','.xls','ms\x20(Attempt\x20','):\x20Flow\x20desativado','SUCCESS','!stop','\x22\x20-\x20REMOVED','SINGLE_SELECT','editflowgroup','E-mail:\x20','MESSAGES_UPDATE','mentioned','groupMetadata','GROUPS_UPDATE','uazapiDeleteMessage','SSL_CONF','logout','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','Erro\x20ao\x20buscar\x20conversa:\x20','AutomateFunctions','replacer','wuid','footerText','body','findGroup','Desconectado,\x20parando\x20execução.','archived','profilePictureUrl','array','buffer','Converting\x20image\x20to\x20WebP\x20to\x20sticker','notEmpty','Deletion\x20failed','color','Types','number','leadInfo.customFields','no-cache','.jwt','setting','findIndex','connecting','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','connect','Audio\x20is\x20base64','isJidUser','username','FULLCHAIN','ignoreGroups','):\x20Erro\x20ao\x20criar\x20fluxo\x20','activatedCount','some','error','listMessage','InstancesAsDisconnectedX','use','LICENSE_INVALID','message_normalized','processingScheduleMessageId','editFlowReply','request\x20received\x20in\x20allFlows','setHeader','ButtonsMessage','error\x20get\x20vote','test','.gif','arraybuffer','messageType','headerString','):\x20tem\x20blocks','--agree-tos','https://api.elevenlabs.io/v1/text-to-speech/','SEND_MESSAGE','jsonschema','fullName','groupToggleEphemeral','Erro\x20ao\x20importar\x20chats:','Bad\x20Request','URL','):\x20Erro\x20durante\x20a\x20atualização:\x20','getProfileName','variablesNotFound','text','closed','applyvaredit','longitude','copy','blockLogs','CONTACTS_SET','envYaml','isListOfNumbers','readMessageBot','audioMessage','sem\x20texto\x20na\x20mensagem','Schema','verifiedName','put','waitingForReplyMenu','block','latitude','#d8e651','createAndSave','contact','READ','_id','):\x20teve\x20mudanças\x20chat.displayName:\x20',',\x20Segundo\x20Valor:\x20','parseInt','json','chatLog','onTime','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','messages.update','profilePicture','reconnectTimestamps','scheduleSendAudio','stderr','utf8','):\x20Conversa\x20atualizada\x20em\x20memória','formatVCard','getFlow','END:VCARD','getContactModelForOwner','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','owner','events','sendSticker','SERVER_OFFLINE','scheduled','Image\x20converted\x20to\x20WebP','trimmed','audioWhatsapp','imported','auth','messages.upsert','scheduleSendMedia','qrcode.updated','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','connectionStatus','Image\x20is\x20url','sendMessageWithTyping','delayChatLabel_RETRY_DELAY_MS','#92ceac','sendLocation','stopWhenYouSendMsg','PORT','createInstance','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','participants','DOCKER_ENV','loadproxy','trim','Primeiro\x20Valor:\x20','):\x20Editando\x20bloco...','app','not_announcement','toFile','console','findChats','find','participant','):\x20Limpando\x20AutomateSystem','contactMessage','Unauthorized','):\x20Editando\x20condição\x20do\x20fluxo...','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','convertToWebP','\x1b[44m','processConditions','rows','where','messages','Flow\x20iniciado\x20com\x20','apply','pollMessageOnDelete','addReplyOption','/wa-qrcode','env.KEY\x20!==\x20key','_Contacts','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','./.git/config','#ffc5c7','chats.upsert','):\x20Conversas\x20encontradas:','pollCreationMessageV2','The\x20global\x20api\x20key\x20must\x20be\x20set','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','env','request\x20received\x20in\x20deleteConversation','.pdf','capitalizedWords','Reinicialização\x20iniciada:\x20','DATABASE','list','):\x20conversation.waitingMenu_name','contactsArrayMessage','recording','presence','long','ephemeralExpiration','item','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','MessageModel','match_last_seen','Resposta\x20do\x20Teste\x20do\x20Proxy:','bateu\x20events','routerPath','tags','EXPIRIN_IN','\x20contacts','deleteChat','charAt','collections','getDevice','getStatus','getMIMEType','Message','unreadcount','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','\x20ao\x20chat\x20','\x1b[1m\x1b[37m','copyDataToNewModel','Erro\x20ao\x20atualizar\x20AutomateSystem:','Tentativa\x20','Hash\x20to\x20image\x20name:\x20','toggleEphemeral','inner','findOne','expression','#01d0e2','webhookMap','getPrototypeOf','updateAgent','configService','client','messageId','STORE_CHATS','updateMissingEtiquetas','exists','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','fone','Error\x20fetching\x20group','chats.update','conversationTimestamp','dataValidate','8080','linkPreview','http://checkip.dyndns.org','blocks','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','toLowerCase','\x20horas\x20e\x20','#83e421','Erro\x20de\x20reinicialização:\x20','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','SERVER_URL','updateOne','blockId','menuExpiredMessage','lastDisconnect','certonly','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','condition','redisEnv','app-state-sync-key','Erro\x20ao\x20atualizar\x20o\x20flow.','Operador:\x20\x22','request\x20received\x20in\x20updateCustomFields','updateConversation','gifPlayback','\x20is\x20already\x20in\x20use.','pollCreationMessageKey','readMessage','getRandomText','readdirSync','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','MESSAGES_SET','order','editScheduleMessage','params','\x1b[36m%s\x1b[0m','Failed\x20to\x20find\x20chat\x20','description','firstValue','.jpg','groupDesc','updatePrivacySettings','/group','presenceSubscribe','groups','variablesToObject','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','Fetching\x20business\x20profile','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','contactname','expiration','split','end','listResponseMessage','Read\x20messages\x20fail','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','Not\x20allowed\x20by\x20CORS','chatId','Internal\x20Server\x20Error','^\x5cd+([-]\x5cd+)*@g.us$','Cannot\x20','/instance/fetchInstances','statusJidList','audio','mongoose','.ppt','hex','lowerCase','demote','object','Close\x20connection','including\x20timestamp\x20in\x20url:\x20','write','dropCollection','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','true','lastInteraction','setWebhook','getContentType','\x1b[31m%s\x1b[0m','group-participants.update','encoding','lastSendMessage','send.message','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','Error\x20updating\x20message\x20status:','endSession','REDIS_PREFIX_KEY','createJid','All_Instances_Config'];a0_0x293c=function(){return _0x3d047a;};return a0_0x293c();}var ba={'jwt':ir,'apikey':nr},Za=require(a0_0x146a96(0x98)),C=require(a0_0x146a96(0x17d)),S=(..._0x19d84a)=>{const _0x279206=a0_0x146a96;let _0x552ea4={};return _0x19d84a[_0x279206(0x304)](_0x28a296=>_0x552ea4[_0x28a296]={'minLength':0x1,'description':_0x279206(0x49e)+_0x28a296+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x19d84a]}},'then':{'properties':_0x552ea4}};},M={'$id':(0x0,C['v4'])(),'type':a0_0x146a96(0x5e9),'properties':{'instanceName':{'type':a0_0x146a96(0x246)}},...S('instanceName')},Hn={'$id':(0x0,C['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x146a96(0x246)}},'required':[a0_0x146a96(0x18b)],...S(a0_0x146a96(0x18b))},Kn={'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x146a96(0x246)},'remoteJid':{'type':a0_0x146a96(0x246)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x146a96(0x291),a0_0x146a96(0x34d)],...S('id',a0_0x146a96(0x291))},'message':{'type':a0_0x146a96(0x5e9)}}},Q={'properties':{'delay':{'type':a0_0x146a96(0x497),'description':a0_0x146a96(0x3f1)},'presence':{'type':a0_0x146a96(0x246),'enum':[a0_0x146a96(0x433),a0_0x146a96(0x124),a0_0x146a96(0x494),a0_0x146a96(0x573),'paused']}}},z={'type':a0_0x146a96(0x246),'pattern':a0_0x146a96(0x414),'description':a0_0x146a96(0x261)},Sa={'$id':(0x0,C['v4'])(),'type':a0_0x146a96(0x5e9),'properties':{'number':{...z},'options':{...Q},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x146a96(0x246)}},'required':[a0_0x146a96(0x501)],...S(a0_0x146a96(0x501))}},'required':[a0_0x146a96(0x144),a0_0x146a96(0x4d2)]},Ea={'type':'string','pattern':a0_0x146a96(0x254),'description':a0_0x146a96(0x261)},Qn={'$id':(0x0,C['v4'])(),'type':a0_0x146a96(0x5e9),'properties':{'number':{...Ea},'options':{...Q},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x146a96(0x246)}},'required':[a0_0x146a96(0x501)],...S(a0_0x146a96(0x501))}},'required':[a0_0x146a96(0x144),a0_0x146a96(0x4d2)]},Yn={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Ea},'options':{...Q},'mediaMessage':{'type':a0_0x146a96(0x5e9),'properties':{'mediatype':{'type':a0_0x146a96(0x246),'enum':[a0_0x146a96(0x302),'document',a0_0x146a96(0x119),a0_0x146a96(0x5e3)]},'media':{'type':a0_0x146a96(0x246)},'fileName':{'type':a0_0x146a96(0x246)},'caption':{'type':a0_0x146a96(0x246)}},'required':[a0_0x146a96(0x3e9),'media'],...S('fileName','caption',a0_0x146a96(0xf3))}},'required':[a0_0x146a96(0x66d),a0_0x146a96(0x4d2)]},Ca={'$id':(0x0,C['v4'])(),'type':a0_0x146a96(0x5e9),'properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':a0_0x146a96(0x5e9),'properties':{'image':{'type':a0_0x146a96(0x246)}},'required':['image'],...S(a0_0x146a96(0x302))}},'required':[a0_0x146a96(0x26d),a0_0x146a96(0x4d2)]},Ma={'$id':(0x0,C['v4'])(),'type':'object','properties':{'statusMessage':{'type':'object','properties':{'type':{'type':a0_0x146a96(0x246),'enum':[a0_0x146a96(0x501),a0_0x146a96(0x302),a0_0x146a96(0x5e3),a0_0x146a96(0x119)]},'content':{'type':a0_0x146a96(0x246)},'caption':{'type':a0_0x146a96(0x246)},'backgroundColor':{'type':a0_0x146a96(0x246)},'font':{'type':a0_0x146a96(0x497),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x146a96(0x4cb),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x146a96(0x246),'pattern':a0_0x146a96(0xc8),'description':a0_0x146a96(0x542)}},'allContacts':{'type':a0_0x146a96(0x1a0),'enum':[!0x0,!0x1]}},'required':[a0_0x146a96(0x6a6),a0_0x146a96(0x33e)],...S(a0_0x146a96(0x6a6),a0_0x146a96(0x33e))}},'required':['statusMessage']},va={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':a0_0x146a96(0x5e9),'properties':{'mediatype':{'type':a0_0x146a96(0x246),'enum':[a0_0x146a96(0x302),a0_0x146a96(0x2c8),a0_0x146a96(0x119),'audio']},'media':{'type':a0_0x146a96(0x246)},'fileName':{'type':a0_0x146a96(0x246)},'caption':{'type':'string'}},'required':[a0_0x146a96(0x3e9),a0_0x146a96(0xf3)],...S(a0_0x146a96(0x1c9),'caption',a0_0x146a96(0xf3))}},'required':[a0_0x146a96(0x66d),a0_0x146a96(0x4d2)]},Na={'$id':(0x0,C['v4'])(),'type':a0_0x146a96(0x5e9),'properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':a0_0x146a96(0x5e9),'properties':{'audio':{'type':'string'}},'required':['audio'],...S(a0_0x146a96(0x5e3))}},'required':[a0_0x146a96(0x50b),a0_0x146a96(0x4d2)]},Ra={'$id':(0x0,C['v4'])(),'type':a0_0x146a96(0x5e9),'properties':{'number':{...z},'pollMessage':{'type':'object','properties':{'name':{'type':'string'},'selectableCount':{'type':a0_0x146a96(0x4d2)},'values':{'type':a0_0x146a96(0x4cb),'minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x146a96(0xf0),a0_0x146a96(0x6b6)],...S(a0_0x146a96(0x68a),a0_0x146a96(0xf0),'values')}},'required':[a0_0x146a96(0x4d2),a0_0x146a96(0x10f)]},Ta={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'menuMessage':{'type':a0_0x146a96(0x5e9),'properties':{'text':{'type':'string'},'choices':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x146a96(0x501),'choices'],...S('text',a0_0x146a96(0x37b))}},'required':['number','menuMessage']},Aa={'$id':(0x0,C['v4'])(),'type':a0_0x146a96(0x5e9),'properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':'object','properties':{'title':{'type':a0_0x146a96(0x246)},'description':{'type':a0_0x146a96(0x246)},'footerText':{'type':a0_0x146a96(0x246)},'buttons':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x146a96(0x5e9),'properties':{'buttonText':{'type':'string'},'buttonId':{'type':'string'}},'required':[a0_0x146a96(0x1cf),'buttonId'],...S(a0_0x146a96(0x1cf),a0_0x146a96(0x498))}},'mediaMessage':{'type':a0_0x146a96(0x5e9),'properties':{'media':{'type':a0_0x146a96(0x246)},'fileName':{'type':a0_0x146a96(0x246)},'mediatype':{'type':'string','enum':[a0_0x146a96(0x302),'document',a0_0x146a96(0x119)]}},'required':[a0_0x146a96(0xf3),'mediatype'],...S(a0_0x146a96(0xf3),a0_0x146a96(0x1c9))}},'required':[a0_0x146a96(0x42e),'buttons'],...S('title',a0_0x146a96(0x5c9))}},'required':[a0_0x146a96(0x4d2),a0_0x146a96(0xb1)]},Oa={'$id':(0x0,C['v4'])(),'type':a0_0x146a96(0x5e9),'properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':a0_0x146a96(0x5e9),'properties':{'latitude':{'type':a0_0x146a96(0x4d2)},'longitude':{'type':'number'},'name':{'type':a0_0x146a96(0x246)},'address':{'type':a0_0x146a96(0x246)}},'required':['latitude','longitude'],...S(a0_0x146a96(0x68a),a0_0x146a96(0x114))}},'required':[a0_0x146a96(0x4d2),a0_0x146a96(0x689)]},Ia={'$id':(0x0,C['v4'])(),'type':a0_0x146a96(0x5e9),'properties':{'number':{...z},'options':{...Q},'listMessage':{'type':a0_0x146a96(0x5e9),'properties':{'title':{'type':'string'},'description':{'type':'string'},'footerText':{'type':a0_0x146a96(0x246)},'buttonText':{'type':a0_0x146a96(0x246)},'sections':{'type':a0_0x146a96(0x4cb),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x146a96(0x5e9),'properties':{'title':{'type':a0_0x146a96(0x246)},'rows':{'type':a0_0x146a96(0x4cb),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x146a96(0x246)},'description':{'type':'string'},'rowId':{'type':'string'}},'required':[a0_0x146a96(0x42e),a0_0x146a96(0x382)],...S(a0_0x146a96(0x42e),a0_0x146a96(0x382))}}},'required':[a0_0x146a96(0x42e),a0_0x146a96(0x558)],...S(a0_0x146a96(0x42e))}}},'required':[a0_0x146a96(0x42e),a0_0x146a96(0x5c9),a0_0x146a96(0x1cf),a0_0x146a96(0x453)],...S(a0_0x146a96(0x42e),'description',a0_0x146a96(0x1cf),a0_0x146a96(0x4c5))}},'required':[a0_0x146a96(0x4d2),a0_0x146a96(0x4e4)]},xa={'$id':(0x0,C['v4'])(),'type':a0_0x146a96(0x5e9),'properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':a0_0x146a96(0x4cb),'items':{'type':a0_0x146a96(0x5e9),'properties':{'fullName':{'type':a0_0x146a96(0x246)},'phoneNumber':{'type':a0_0x146a96(0x246),'minLength':0xa}},'required':[a0_0x146a96(0x4f9),a0_0x146a96(0x150)],...S(a0_0x146a96(0x4f9))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x146a96(0x4d2),'contactMessage']},Da={'$id':(0x0,C['v4'])(),'type':a0_0x146a96(0x5e9),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':a0_0x146a96(0x5e9),'properties':{'id':{'type':a0_0x146a96(0x246)},'remoteJid':{'type':a0_0x146a96(0x246)},'fromMe':{'type':a0_0x146a96(0x1a0),'enum':[!0x0,!0x1]}},'required':['id',a0_0x146a96(0x291),'fromMe'],...S('id','remoteJid')},'reaction':{'type':a0_0x146a96(0x246)}},'required':[a0_0x146a96(0xce),a0_0x146a96(0x31b)],...S(a0_0x146a96(0x31b))}},'required':[a0_0x146a96(0x3a3)]},_a={'$id':(0x0,C['v4'])(),'type':a0_0x146a96(0x5e9),'properties':{'numbers':{'type':a0_0x146a96(0x4cb),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x146a96(0xc8),'description':'\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}}},Pa={'$id':(0x0,C['v4'])(),'type':a0_0x146a96(0x5e9),'properties':{'readMessages':{'type':a0_0x146a96(0x4cb),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x146a96(0x1a0),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x146a96(0x246)}},'required':['id',a0_0x146a96(0x34d),a0_0x146a96(0x291)],...S('id',a0_0x146a96(0x291))}}},'required':[a0_0x146a96(0xe7)]},$a={'$id':(0x0,C['v4'])(),'type':a0_0x146a96(0x5e9),'properties':{'privacySettings':{'type':a0_0x146a96(0x5e9),'properties':{'readreceipts':{'type':a0_0x146a96(0x246),'enum':[a0_0x146a96(0x491),'none']},'profile':{'type':'string','enum':[a0_0x146a96(0x491),a0_0x146a96(0x65e),a0_0x146a96(0x36b),'none']},'status':{'type':a0_0x146a96(0x246),'enum':['all',a0_0x146a96(0x65e),a0_0x146a96(0x36b),a0_0x146a96(0x24a)]},'online':{'type':'string','enum':['all',a0_0x146a96(0x57a)]},'last':{'type':a0_0x146a96(0x246),'enum':['all','contacts',a0_0x146a96(0x36b),a0_0x146a96(0x24a)]},'groupadd':{'type':a0_0x146a96(0x246),'enum':['all',a0_0x146a96(0x65e),'contact_blacklist',a0_0x146a96(0x24a)]}},'required':[a0_0x146a96(0x281),a0_0x146a96(0x670),'status','online',a0_0x146a96(0x1d5),a0_0x146a96(0x257)],...S('readreceipts',a0_0x146a96(0x670),a0_0x146a96(0x419),a0_0x146a96(0x465),a0_0x146a96(0x1d5),a0_0x146a96(0x257))}},'required':[a0_0x146a96(0x26e)]},ka={'$id':(0x0,C['v4'])(),'type':a0_0x146a96(0x5e9),'properties':{'lastMessage':{'type':a0_0x146a96(0x5e9),'properties':{'key':{'type':a0_0x146a96(0x5e9),'properties':{'id':{'type':a0_0x146a96(0x246)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x146a96(0x1a0),'enum':[!0x0,!0x1]}},'required':['id',a0_0x146a96(0x34d),a0_0x146a96(0x291)],...S('id',a0_0x146a96(0x291))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x146a96(0xce)],...S(a0_0x146a96(0xc1))},'archive':{'type':a0_0x146a96(0x1a0),'enum':[!0x0,!0x1]}},'required':[a0_0x146a96(0x68c),a0_0x146a96(0x360)]},La={'$id':(0x0,C['v4'])(),'type':a0_0x146a96(0x5e9),'properties':{'id':{'type':a0_0x146a96(0x246)},'fromMe':{'type':a0_0x146a96(0x1a0),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x146a96(0x246)},'participant':{'type':a0_0x146a96(0x246)}},'required':['id',a0_0x146a96(0x34d),a0_0x146a96(0x291)],...S('id','remoteJid',a0_0x146a96(0x54f))},ja={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':a0_0x146a96(0x5e9),'properties':{'_id':{'type':a0_0x146a96(0x246),'minLength':0x1},'pushName':{'type':a0_0x146a96(0x246),'minLength':0x1},'id':{'type':a0_0x146a96(0x246),'minLength':0x1}},...S('_id','id','pushName')}}},Fa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'name':{'type':a0_0x146a96(0x246)}},...S(a0_0x146a96(0x68a))},qa={'$id':(0x0,C['v4'])(),'type':a0_0x146a96(0x5e9),'properties':{'status':{'type':'string'}},...S(a0_0x146a96(0x419))},Se={'$id':(0x0,C['v4'])(),'type':a0_0x146a96(0x5e9),'properties':{'number':{'type':a0_0x146a96(0x246)},'picture':{'type':a0_0x146a96(0x246)}}},Ua={'type':a0_0x146a96(0x5e9),'properties':{'wuid':{'type':a0_0x146a96(0x246)},'name':{'type':'string'},'picture':{'type':a0_0x146a96(0x246)},'status':{'type':a0_0x146a96(0x246)},'isBusiness':{'type':a0_0x146a96(0x1a0)}}},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x146a96(0x5e9),'properties':{'where':{'type':a0_0x146a96(0x5e9),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':a0_0x146a96(0x5e9),'if':{'propertyNames':{'enum':[a0_0x146a96(0x34d),'remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':a0_0x146a96(0x246),'minLength':0x1,'description':a0_0x146a96(0x280)},'fromMe':{'type':a0_0x146a96(0x1a0),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x146a96(0x5e9)}},...S('_id')},'limit':{'type':a0_0x146a96(0x497)}}},Xn={'$id':(0x0,C['v4'])(),'type':a0_0x146a96(0x5e9),'properties':{'where':{'type':a0_0x146a96(0x5e9),'properties':{'_id':{'type':a0_0x146a96(0x246)},'remoteJid':{'type':a0_0x146a96(0x246)},'id':{'type':a0_0x146a96(0x246)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'participant':{'type':a0_0x146a96(0x246)},'status':{'type':a0_0x146a96(0x246),'enum':['ERROR','PENDING',a0_0x146a96(0x601),a0_0x146a96(0x3fc),a0_0x146a96(0x516),a0_0x146a96(0x378)]}},...S(a0_0x146a96(0x517),a0_0x146a96(0x291),'id',a0_0x146a96(0x419))},'limit':{'type':'integer'}}},Va={'$id':(0x0,C['v4'])(),'type':a0_0x146a96(0x5e9),'properties':{'number':{...z},'presence':{'type':a0_0x146a96(0x246),'enum':[a0_0x146a96(0x433),a0_0x146a96(0x124),a0_0x146a96(0x494),'recording',a0_0x146a96(0x139)]}},'required':[a0_0x146a96(0x574),'number']},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x146a96(0x5e9),'properties':{'subject':{'type':a0_0x146a96(0x246)},'description':{'type':a0_0x146a96(0x246)},'profilePicture':{'type':a0_0x146a96(0x246)},'participants':{'type':a0_0x146a96(0x4cb),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x146a96(0x246),'minLength':0xa,'pattern':a0_0x146a96(0xd8),'description':a0_0x146a96(0x650)}}},'required':[a0_0x146a96(0x109),a0_0x146a96(0x543)],...S(a0_0x146a96(0x109),a0_0x146a96(0x5c9),a0_0x146a96(0x520))},Ee={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x146a96(0x246),'pattern':a0_0x146a96(0x5df)}},'required':['groupJid'],...S(a0_0x146a96(0x353))},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x146a96(0x5e9),'properties':{'groupJid':{'type':a0_0x146a96(0x246)},'action':{'type':'string','enum':[a0_0x146a96(0x4a8),a0_0x146a96(0x691),a0_0x146a96(0x1c7),a0_0x146a96(0x5e8)]},'participants':{'type':a0_0x146a96(0x4cb),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x146a96(0x246),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x146a96(0x650)}}},'required':[a0_0x146a96(0x353),'action',a0_0x146a96(0x543)],...S('groupJid',a0_0x146a96(0x1bf))},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x146a96(0x5e9),'properties':{'groupJid':{'type':'string'},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x146a96(0x353),a0_0x146a96(0x5d6)],...S(a0_0x146a96(0x353),a0_0x146a96(0x5d6))},za={'$id':(0x0,C['v4'])(),'type':a0_0x146a96(0x5e9),'properties':{'groupJid':{'type':a0_0x146a96(0x246)},'image':{'type':'string'}},'required':[a0_0x146a96(0x353),a0_0x146a96(0x302)],...S(a0_0x146a96(0x353),a0_0x146a96(0x302))},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x146a96(0x5e9),'properties':{'groupJid':{'type':a0_0x146a96(0x246)},'description':{'type':a0_0x146a96(0x246)}},'required':[a0_0x146a96(0x353),'description'],...S(a0_0x146a96(0x353),a0_0x146a96(0x5c9))},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x146a96(0x5e9),'properties':{'groupJid':{'type':'string'},'name':{'type':a0_0x146a96(0x246)}},'required':['groupJid','name'],...S('groupJid',a0_0x146a96(0x68a))},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x146a96(0x5e9),'properties':{'groupJid':{'type':a0_0x146a96(0x246)},'setting':{'type':a0_0x146a96(0x246),'enum':[a0_0x146a96(0xef),a0_0x146a96(0x54a),a0_0x146a96(0x1bb),a0_0x146a96(0x2b5)]}},'required':[a0_0x146a96(0x353),a0_0x146a96(0x4d6)],...S(a0_0x146a96(0x353),a0_0x146a96(0x4d6))},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x146a96(0x5e9),'properties':{'inviteCode':{'type':a0_0x146a96(0x246)}},'required':[a0_0x146a96(0x4af)],...S(a0_0x146a96(0x4af))},Xa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'url':{'type':a0_0x146a96(0x246)},'enabled':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x146a96(0x64b),'enabled']},Zn={'$id':(0x0,C['v4'])(),'type':'object','properties':{'local_map':{'type':a0_0x146a96(0x1a0),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x146a96(0x1a0),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x146a96(0x1a0),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x146a96(0x1a0),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x146a96(0x1a0),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x146a96(0x1a0),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x146a96(0x1a0),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x146a96(0x1a0),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x146a96(0x1a0),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x146a96(0x1a0),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x146a96(0x1a0),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x146a96(0x1a0),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x146a96(0x1a0),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x146a96(0x1a0),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x146a96(0x1a0),'enum':[!0x0,!0x1]}},'required':[a0_0x146a96(0x662),a0_0x146a96(0x6aa),a0_0x146a96(0x106),a0_0x146a96(0x5c3),a0_0x146a96(0x4b9),a0_0x146a96(0x91),a0_0x146a96(0x4f7),'CONTACTS_SET','CONTACTS_UPSERT',a0_0x146a96(0x21f),a0_0x146a96(0x485),a0_0x146a96(0x675),a0_0x146a96(0x393),a0_0x146a96(0xe1),'CHATS_DELETE',a0_0x146a96(0x2b4),'GROUPS_UPSERT',a0_0x146a96(0x4bc),'GROUP_PARTICIPANTS_UPDATE'],...S(a0_0x146a96(0x662),a0_0x146a96(0x6aa),a0_0x146a96(0x106),'MESSAGES_SET','MESSAGES_UPDATE','MESSAGES_UPSERT','SEND_MESSAGE','CONTACTS_SET',a0_0x146a96(0x130),a0_0x146a96(0x21f),a0_0x146a96(0x485),'CHATS_SET',a0_0x146a96(0x393),a0_0x146a96(0xe1),a0_0x146a96(0x23a),a0_0x146a96(0x2b4),a0_0x146a96(0x422),'GROUPS_UPDATE',a0_0x146a96(0x6ae))},Ke=class{},Qe=class extends I{['getContactModelForOwner'](_0x652278){return Vs(_0x652278);}async[a0_0x146a96(0x334)](_0x2b204d){const _0x375671=a0_0x146a96;if(_0x2b204d[_0x375671(0x29f)]!==0x0)try{return{'insertCount':(await this[_0x375671(0x529)](_0x2b204d[0x0][_0x375671(0x52b)])[_0x375671(0x31d)]([..._0x2b204d]))[_0x375671(0x29f)]};}catch(_0x44b5bb){return _0x44b5bb;}}async['delete'](_0x2dab63,_0x32e72a){const _0xeb89a2=a0_0x146a96;try{return{'deletedCount':(await this[_0xeb89a2(0x529)](_0x32e72a)[_0xeb89a2(0x692)]({..._0x2dab63[_0xeb89a2(0x559)]}))[_0xeb89a2(0x27c)]};}catch(_0x37f7c2){return{'error':_0x37f7c2?.[_0xeb89a2(0xc6)]()};}}async['update'](_0x3ba148,_0x3725f2){const _0x572d1b=a0_0x146a96;try{if(_0x3ba148[_0x572d1b(0x29f)]===0x0)return;let _0x34c487=this['getContactModelForOwner'](_0x3725f2),_0x339361=_0x3ba148[_0x572d1b(0x684)](_0x3f61a5=>({'updateOne':{'filter':{'_id':_0x3f61a5[_0x572d1b(0x517)],'owner':_0x3725f2},'update':{..._0x3f61a5}}})),{modifiedCount:_0x575511}=await _0x34c487[_0x572d1b(0x285)](_0x339361);return{'insertCount':_0x575511};}catch{return;}}async['find'](_0x2bda30,_0x3642c7){const _0x2ea9f0=a0_0x146a96;try{let _0x1bb6c5=this[_0x2ea9f0(0x529)](_0x3642c7),_0x379ee4=A(_0x2bda30[_0x2ea9f0(0x559)]);return await _0x1bb6c5[_0x2ea9f0(0x54e)](_0x379ee4)[_0x2ea9f0(0x113)](_0x2bda30?.[_0x2ea9f0(0x113)]??0x0)[_0x2ea9f0(0x8c)]();}catch{return[];}}async[a0_0x146a96(0x592)](_0x33ec6f,_0x14f0ae){const _0x2cb1e9=a0_0x146a96;try{let _0x1566fb=this[_0x2cb1e9(0x529)](_0x14f0ae),_0x30cb71=A(_0x33ec6f[_0x2cb1e9(0x559)]);return await _0x1566fb[_0x2cb1e9(0x592)](_0x30cb71)[_0x2cb1e9(0x8c)]();}catch{return null;}}async[a0_0x146a96(0x377)](_0x360360){const _0x4de3cf=a0_0x146a96;try{return await this['getContactModelForOwner'](_0x360360)[_0x4de3cf(0x1da)][_0x4de3cf(0x7e)](),{'success':!0x0};}catch(_0xad54df){return console['error'](_0xad54df),{'success':!0x1,'error':_0xad54df};}}},Ye=require(a0_0x146a96(0x4f8)),cc=require(a0_0x146a96(0x47d)),hs=new v(a0_0x146a96(0x29a)),U=class{[a0_0x146a96(0x57d)](_0x45f349,_0x3b0683=!0x0){const _0x795d98=a0_0x146a96;let _0x218ed7='/'+_0x45f349;return _0x3b0683&&(_0x218ed7+=_0x795d98(0x2ce)),_0x218ed7;}async['dataValidate'](_0x5acd0f){const _0x1afffa=a0_0x146a96;let {request:_0x54ef6c,schema:_0x17b390,ClassRef:_0x427a2b,execute:_0x47b056}=_0x5acd0f,_0x5dadf1=new _0x427a2b(),_0x174e17=_0x54ef6c[_0x1afffa(0x4c6)],_0x40cc8c=_0x54ef6c[_0x1afffa(0x5c6)];_0x54ef6c?.[_0x1afffa(0x482)]&&Object[_0x1afffa(0x379)](_0x54ef6c[_0x1afffa(0x482)])[_0x1afffa(0x29f)]>0x0&&Object[_0x1afffa(0x66b)](_0x40cc8c,_0x54ef6c[_0x1afffa(0x482)]),_0x54ef6c[_0x1afffa(0x158)]['includes'](_0x1afffa(0x136))&&Object['assign'](_0x40cc8c,_0x174e17),Object[_0x1afffa(0x66b)](_0x5dadf1,_0x174e17);let _0x942ee8=_0x17b390?(0x0,Ye[_0x1afffa(0xae)])(_0x5dadf1,_0x17b390):{'valid':!0x0,'errors':[]};if(!_0x942ee8[_0x1afffa(0x420)]){let _0x3435fd=_0x942ee8[_0x1afffa(0x30b)][_0x1afffa(0x684)](({property:_0x473a23,stack:_0x3ee6fd,schema:_0xed3147})=>{const _0x65977e=_0x1afffa;let _0x3bd059;return _0xed3147[_0x65977e(0x5c9)]?_0x3bd059=_0xed3147['description']:_0x3bd059=_0x3ee6fd[_0x65977e(0x3c8)]('instance.',''),{'property':_0x473a23[_0x65977e(0x3c8)](_0x65977e(0x6c7),''),'message':_0x3bd059};});throw hs[_0x1afffa(0x4e3)]([..._0x3435fd]),new m(..._0x3435fd);}return await _0x47b056(_0x40cc8c,_0x5dadf1);}async[a0_0x146a96(0x256)](_0x1184a4){const _0x5bf9e0=a0_0x146a96;let {request:_0x6bebe6,ClassRef:_0x5d27fc,schema:_0x15be11,execute:_0x483105}=_0x1184a4,_0x260312=_0x6bebe6[_0x5bf9e0(0x482)];if(!_0x260312?.[_0x5bf9e0(0x353)])throw new m(_0x5bf9e0(0x464),_0x5bf9e0(0x23f));let _0x272ae5=_0x6bebe6['params'],_0x5773bb=_0x6bebe6['body'],_0x23fff9=new _0x5d27fc();Object[_0x5bf9e0(0x66b)](_0x5773bb,_0x260312),Object[_0x5bf9e0(0x66b)](_0x23fff9,_0x5773bb);let _0x460b6e=(0x0,Ye['validate'])(_0x23fff9,_0x15be11);if(!_0x460b6e[_0x5bf9e0(0x420)]){let _0x4ba418=_0x460b6e[_0x5bf9e0(0x30b)][_0x5bf9e0(0x684)](({property:_0x2340f4,stack:_0x2fbd46,schema:_0x5959bd})=>{const _0x4316f3=_0x5bf9e0;let _0x576660;return _0x5959bd[_0x4316f3(0x5c9)]?_0x576660=_0x5959bd[_0x4316f3(0x5c9)]:_0x576660=_0x2fbd46[_0x4316f3(0x3c8)]('instance.',''),{'property':_0x2340f4[_0x4316f3(0x3c8)]('instance.',''),'message':_0x576660};});throw hs[_0x5bf9e0(0x4e3)]([..._0x4ba418]),new m(..._0x4ba418);}return await _0x483105(_0x272ae5,_0x23fff9);}async[a0_0x146a96(0x413)](_0xbade93){const _0x56cd51=a0_0x146a96;let {request:_0x1149e8,ClassRef:_0x1162c2,schema:_0x318cde,execute:_0x3c0ee2}=_0xbade93,_0x297bd0=_0x1149e8[_0x56cd51(0x4c6)];if(!_0x297bd0?.[_0x56cd51(0x4af)])throw new m(_0x56cd51(0x197),_0x56cd51(0x166));let _0xd1d1=_0x1149e8['params'],_0x5ccb47=_0x1149e8[_0x56cd51(0x4c6)],_0x573610=new _0x1162c2();Object[_0x56cd51(0x66b)](_0x5ccb47,_0x297bd0),Object['assign'](_0x573610,_0x5ccb47);let _0x2db4c0=(0x0,Ye[_0x56cd51(0xae)])(_0x573610,_0x318cde);if(!_0x2db4c0[_0x56cd51(0x420)]){let _0x295bac=_0x2db4c0['errors'][_0x56cd51(0x684)](({property:_0xf4bbc2,stack:_0x4e6029,schema:_0x4c7fbd})=>{const _0x4013f2=_0x56cd51;let _0x2c3247;return _0x4c7fbd[_0x4013f2(0x5c9)]?_0x2c3247=_0x4c7fbd[_0x4013f2(0x5c9)]:_0x2c3247=_0x4e6029[_0x4013f2(0x3c8)](_0x4013f2(0x6c7),''),{'property':_0xf4bbc2[_0x4013f2(0x3c8)](_0x4013f2(0x6c7),''),'message':_0x2c3247};});throw hs[_0x56cd51(0x4e3)]([..._0x295bac]),new m(..._0x295bac);}return await _0x3c0ee2(_0xd1d1,_0x573610);}},E=class{},Mc=new v('ChatRouter'),Xe=class extends U{constructor(..._0x17efd4){const _0x246a41=a0_0x146a96;super(),this[_0x246a41(0x63b)]=(0x0,Za[_0x246a41(0x356)])(),this[_0x246a41(0x63b)][_0x246a41(0x60b)](this[_0x246a41(0x57d)]('updatePresence'),..._0x17efd4,async(_0x543c25,_0x308ffc)=>{const _0x3c6e80=_0x246a41;let _0x51737d=await this['dataValidate']({'request':_0x543c25,'schema':Va,'ClassRef':je,'execute':(_0x48be1c,_0x138558)=>x[_0x3c6e80(0x2f9)](_0x48be1c,_0x138558)});return _0x308ffc[_0x3c6e80(0x419)](0xc9)[_0x3c6e80(0x51b)](_0x51737d);})[_0x246a41(0x60b)](this[_0x246a41(0x57d)](_0x246a41(0x129)),..._0x17efd4,async(_0x43b209,_0x50b429)=>{const _0x2ea9dd=_0x246a41;let _0x530f68=await this[_0x2ea9dd(0x5a3)]({'request':_0x43b209,'schema':_a,'ClassRef':Fe,'execute':(_0xb2fbac,_0x29910b)=>x['whatsappNumber'](_0xb2fbac,_0x29910b)});return _0x50b429['status'](0xc9)[_0x2ea9dd(0x51b)](_0x530f68);})[_0x246a41(0x60b)](this['routerPath']('editChat'),..._0x17efd4,async(_0x24c21a,_0x47b5c9)=>{const _0x452319=_0x246a41;let _0x22a2b9=await this[_0x452319(0x5a3)]({'request':_0x24c21a,'schema':M,'ClassRef':E,'execute':(_0x137da7,_0x122e54)=>x[_0x452319(0x668)](_0x137da7,_0x122e54)});return _0x47b5c9[_0x452319(0x419)](0xc9)['json'](_0x22a2b9);})[_0x246a41(0x50f)](this[_0x246a41(0x57d)](_0x246a41(0x659)),..._0x17efd4,async(_0x1c5c54,_0x12211f)=>{const _0x1e6f19=_0x246a41;let _0x2ee301=await this[_0x1e6f19(0x5a3)]({'request':_0x1c5c54,'schema':Pa,'ClassRef':Je,'execute':(_0x4594fa,_0x17e639)=>x[_0x1e6f19(0x5bf)](_0x4594fa,_0x17e639)});return _0x12211f[_0x1e6f19(0x419)](0xc9)['json'](_0x2ee301);})[_0x246a41(0x50f)](this[_0x246a41(0x57d)](_0x246a41(0x15e)),..._0x17efd4,async(_0x4cb5cc,_0x56ded3)=>{let _0x58c35f=await this['dataValidate']({'request':_0x4cb5cc,'schema':ka,'ClassRef':Ve,'execute':(_0x5381b4,_0x2d25b5)=>x['archiveChat'](_0x5381b4,_0x2d25b5)});return _0x56ded3['status'](0xc9)['json'](_0x58c35f);})['delete'](this[_0x246a41(0x57d)](_0x246a41(0x671)),..._0x17efd4,async(_0x23208b,_0x27f23e)=>{const _0x235379=_0x246a41;let _0x35beae=await this[_0x235379(0x5a3)]({'request':_0x23208b,'schema':La,'ClassRef':Ge,'execute':(_0x12a086,_0xbaa685)=>x[_0x235379(0x12d)](_0x12a086,_0xbaa685)});return _0x27f23e[_0x235379(0x419)](0xc9)['json'](_0x35beae);})[_0x246a41(0x60b)](this[_0x246a41(0x57d)]('fetchProfilePictureUrl'),..._0x17efd4,async(_0x4fc05d,_0x20347b)=>{const _0x495c5c=_0x246a41;let _0x5bed3d=await this[_0x495c5c(0x5a3)]({'request':_0x4fc05d,'schema':Se,'ClassRef':be,'execute':(_0x1cf4ee,_0x3a993d)=>x[_0x495c5c(0xe0)](_0x1cf4ee,_0x3a993d)});return _0x20347b[_0x495c5c(0x419)](0xc8)[_0x495c5c(0x51b)](_0x5bed3d);})[_0x246a41(0x60b)](this['routerPath']('fetchProfile'),..._0x17efd4,async(_0x578012,_0x57489e)=>{const _0x478e34=_0x246a41;let _0x311fdf=await this[_0x478e34(0x5a3)]({'request':_0x578012,'schema':Ua,'ClassRef':be,'execute':(_0x162ac1,_0x3ada20)=>x[_0x478e34(0x333)](_0x162ac1,_0x3ada20)});return _0x57489e['status'](0xc8)[_0x478e34(0x51b)](_0x311fdf);})[_0x246a41(0x60b)](this[_0x246a41(0x57d)](_0x246a41(0x303)),..._0x17efd4,async(_0x3571b1,_0x2dc955)=>{const _0x266d1f=_0x246a41;let _0x32c1bc=await this[_0x266d1f(0x5a3)]({'request':_0x3571b1,'schema':ja,'ClassRef':Ke,'execute':(_0x30c7ea,_0x1795d7)=>x[_0x266d1f(0x65f)](_0x30c7ea,_0x1795d7)});return _0x2dc955[_0x266d1f(0x419)](0xc8)[_0x266d1f(0x51b)](_0x32c1bc);})['post'](this[_0x246a41(0x57d)]('getBase64FromMediaMessage'),..._0x17efd4,async(_0x16a56e,_0x139cb2)=>{const _0x361fdc=_0x246a41;let _0x4b11ae=await this[_0x361fdc(0x5a3)]({'request':_0x16a56e,'schema':null,'ClassRef':Object,'execute':(_0x4311e9,_0x5a4f07)=>x[_0x361fdc(0x161)](_0x4311e9,_0x5a4f07)});return _0x139cb2[_0x361fdc(0x419)](0xc9)[_0x361fdc(0x51b)](_0x4b11ae);})[_0x246a41(0x60b)](this[_0x246a41(0x57d)](_0x246a41(0x2cd)),..._0x17efd4,async(_0x52b1bd,_0x59f570)=>{const _0x3045d0=_0x246a41;let _0x5c2fbe=await this['dataValidate']({'request':_0x52b1bd,'schema':Ja,'ClassRef':ke,'execute':(_0x36a50c,_0x217753)=>x[_0x3045d0(0x611)](_0x36a50c,_0x217753)});return _0x59f570[_0x3045d0(0x419)](0xc8)[_0x3045d0(0x51b)](_0x5c2fbe);})[_0x246a41(0x3b3)](this[_0x246a41(0x57d)](_0x246a41(0x54d)),..._0x17efd4,async(_0x1e9446,_0x1272d6)=>{const _0x28a97b=_0x246a41;let _0x1225c0=await this[_0x28a97b(0x5a3)]({'request':_0x1e9446,'schema':null,'ClassRef':E,'execute':_0x5f0894=>x[_0x28a97b(0x35c)](_0x5f0894)});return _0x1272d6[_0x28a97b(0x419)](0xc8)[_0x28a97b(0x51b)](_0x1225c0);})['get'](this[_0x246a41(0x57d)](_0x246a41(0x690)),..._0x17efd4,async(_0x49f9f6,_0x4da28d)=>{const _0x2f8bbc=_0x246a41;let _0x17c6c8=await this[_0x2f8bbc(0x5a3)]({'request':_0x49f9f6,'schema':null,'ClassRef':E,'execute':_0x3cc7b0=>x[_0x2f8bbc(0x81)](_0x3cc7b0)});return _0x4da28d[_0x2f8bbc(0x419)](0xc8)[_0x2f8bbc(0x51b)](_0x17c6c8);})[_0x246a41(0x50f)](this[_0x246a41(0x57d)](_0x246a41(0x213)),..._0x17efd4,async(_0x3f7013,_0xc1f836)=>{const _0x682d=_0x246a41;let _0x805476=await this['dataValidate']({'request':_0x3f7013,'schema':null,'ClassRef':Array,'execute':(_0x4c0804,_0x117d1e)=>x[_0x682d(0x213)](_0x4c0804,_0x117d1e)});return _0xc1f836[_0x682d(0x419)](0xc8)[_0x682d(0x51b)](_0x805476);})[_0x246a41(0x3b3)](this['routerPath'](_0x246a41(0x424)),..._0x17efd4,async(_0x1305a4,_0x978def)=>{const _0x1960bb=_0x246a41;let _0x4c889f=await this['dataValidate']({'request':_0x1305a4,'schema':null,'ClassRef':E,'execute':_0x3044ee=>x[_0x1960bb(0x424)](_0x3044ee)});return _0x978def['status'](0xc8)[_0x1960bb(0x51b)](_0x4c889f);})[_0x246a41(0x50f)](this[_0x246a41(0x57d)]('updatePrivacySettings'),..._0x17efd4,async(_0x441dd5,_0x523c4f)=>{const _0x25b5e4=_0x246a41;let _0x5a4a72=await this[_0x25b5e4(0x5a3)]({'request':_0x441dd5,'schema':$a,'ClassRef':Be,'execute':(_0x40e6a5,_0x28b97a)=>x[_0x25b5e4(0x5cd)](_0x40e6a5,_0x28b97a)});return _0x523c4f['status'](0xc9)[_0x25b5e4(0x51b)](_0x5a4a72);})[_0x246a41(0x60b)](this[_0x246a41(0x57d)](_0x246a41(0x2a2)),..._0x17efd4,async(_0x4fb669,_0x5874b6)=>{const _0x544cc9=_0x246a41;let _0x4ecf7e=await this['dataValidate']({'request':_0x4fb669,'schema':Se,'ClassRef':fe,'execute':(_0x3a9214,_0x28b9fb)=>x[_0x544cc9(0x2a2)](_0x3a9214,_0x28b9fb)});return _0x5874b6[_0x544cc9(0x419)](0xc8)[_0x544cc9(0x51b)](_0x4ecf7e);})[_0x246a41(0x60b)](this[_0x246a41(0x57d)](_0x246a41(0x6f)),..._0x17efd4,async(_0x4e167c,_0x2b1625)=>{const _0x3da537=_0x246a41;let _0xd1f4f9=await this[_0x3da537(0x5a3)]({'request':_0x4e167c,'schema':Fa,'ClassRef':qe,'execute':(_0x2d26ab,_0x1f785c)=>x['updateProfileName'](_0x2d26ab,_0x1f785c)});return _0x2b1625[_0x3da537(0x419)](0xc8)['json'](_0xd1f4f9);})[_0x246a41(0x60b)](this[_0x246a41(0x57d)](_0x246a41(0x5fe)),..._0x17efd4,async(_0x2c8c0,_0x125bec)=>{const _0x445edc=_0x246a41;let _0x52ab83=await this[_0x445edc(0x5a3)]({'request':_0x2c8c0,'schema':qa,'ClassRef':Ue,'execute':(_0x1390ec,_0x55d62b)=>x[_0x445edc(0x5fe)](_0x1390ec,_0x55d62b)});return _0x125bec[_0x445edc(0x419)](0xc8)[_0x445edc(0x51b)](_0x52ab83);})[_0x246a41(0x50f)](this['routerPath']('updateProfilePicture'),..._0x17efd4,async(_0x12cdde,_0xd1aba7)=>{const _0x4b252f=_0x246a41;let _0x446e06=await this[_0x4b252f(0x5a3)]({'request':_0x12cdde,'schema':Se,'ClassRef':fe,'execute':(_0x6adee,_0xbc7668)=>x['updateProfilePicture'](_0x6adee,_0xbc7668)});return _0xd1aba7[_0x4b252f(0x419)](0xc8)[_0x4b252f(0x51b)](_0x446e06);})['delete'](this[_0x246a41(0x57d)](_0x246a41(0x33a)),..._0x17efd4,async(_0x62494e,_0x117a03)=>{const _0x379525=_0x246a41;let _0x11783b=await this[_0x379525(0x5a3)]({'request':_0x62494e,'schema':Se,'ClassRef':fe,'execute':(_0x420737,_0xe57fcd)=>x[_0x379525(0x33a)](_0x420737,_0xe57fcd)});return _0x117a03[_0x379525(0x419)](0xc8)['json'](_0x11783b);});}},eo=require('express'),Ze=class{},et=class{},tt=class{},st=class{},at=class{},Y=class{},ot=class{},rt=class extends Y{},it=class extends Y{},nt=class extends U{constructor(..._0x21b891){const _0x4b8cab=a0_0x146a96;super(),this[_0x4b8cab(0x63b)]=(0x0,eo['Router'])(),this[_0x4b8cab(0x63b)]['post'](this[_0x4b8cab(0x57d)](_0x4b8cab(0x6cd)),..._0x21b891,async(_0x22d1e0,_0x52d837)=>{const _0x4a7dbb=_0x4b8cab;let _0x246648=await this['dataValidate']({'request':_0x22d1e0,'schema':Ba,'ClassRef':Ze,'execute':(_0x520afd,_0xed47d4)=>q[_0x4a7dbb(0x3af)](_0x520afd,_0xed47d4)});_0x52d837[_0x4a7dbb(0x419)](0xc9)[_0x4a7dbb(0x51b)](_0x246648);})[_0x4b8cab(0x50f)](this['routerPath']('updateGroupPicture'),..._0x21b891,async(_0x47327b,_0x3c02df)=>{const _0x5df9c9=_0x4b8cab;let _0xa86eb1=await this[_0x5df9c9(0x256)]({'request':_0x47327b,'schema':za,'ClassRef':et,'execute':(_0x190800,_0x51747c)=>q[_0x5df9c9(0x3ff)](_0x190800,_0x51747c)});_0x3c02df[_0x5df9c9(0x419)](0xc9)[_0x5df9c9(0x51b)](_0xa86eb1);})[_0x4b8cab(0x50f)](this[_0x4b8cab(0x57d)](_0x4b8cab(0x5cc)),..._0x21b891,async(_0x1e4fbb,_0x29af62)=>{const _0x10080f=_0x4b8cab;let _0x2fe12f=await this[_0x10080f(0x256)]({'request':_0x1e4fbb,'schema':Ha,'ClassRef':tt,'execute':(_0x2dbf08,_0x5044ea)=>q[_0x10080f(0x5cc)](_0x2dbf08,_0x5044ea)});_0x29af62[_0x10080f(0x419)](0xc9)[_0x10080f(0x51b)](_0x2fe12f);})[_0x4b8cab(0x50f)](this[_0x4b8cab(0x57d)](_0x4b8cab(0x6c2)),..._0x21b891,async(_0x3b7808,_0x5e57a4)=>{const _0x3f2bec=_0x4b8cab;let _0x3b3ff9=await this[_0x3f2bec(0x256)]({'request':_0x3b7808,'schema':Ka,'ClassRef':st,'execute':(_0xd6cc70,_0x4c519b)=>q['groupName'](_0xd6cc70,_0x4c519b)});_0x5e57a4[_0x3f2bec(0x419)](0xc9)['json'](_0x3b3ff9);})['put'](this['routerPath']('groupSetting'),..._0x21b891,async(_0x35783e,_0x256e7b)=>{const _0x328c5a=_0x4b8cab;let _0x4f1f42=await this[_0x328c5a(0x256)]({'request':_0x35783e,'schema':Qa,'ClassRef':at,'execute':(_0x1bf75d,_0x3f5b63)=>q['groupSetting'](_0x1bf75d,_0x3f5b63)});_0x256e7b[_0x328c5a(0x419)](0xc9)['json'](_0x4f1f42);})['put'](this[_0x4b8cab(0x57d)](_0x4b8cab(0x590)),..._0x21b891,async(_0x552f1f,_0x10cc8a)=>{const _0x37e548=_0x4b8cab;let _0xac807f=await this[_0x37e548(0x256)]({'request':_0x552f1f,'schema':Wa,'ClassRef':it,'execute':(_0x35c8eb,_0x50f441)=>q[_0x37e548(0x590)](_0x35c8eb,_0x50f441)});_0x10cc8a['status'](0xc9)['json'](_0xac807f);})[_0x4b8cab(0x3b3)](this[_0x4b8cab(0x57d)]('findGroupInfos'),..._0x21b891,async(_0x91a830,_0x26b4f9)=>{const _0x59ec06=_0x4b8cab;let _0x9baf26=await this[_0x59ec06(0x256)]({'request':_0x91a830,'schema':Ee,'ClassRef':Y,'execute':(_0x24c4dc,_0x2ece96)=>q['findGroupInfo'](_0x24c4dc,_0x2ece96)});_0x26b4f9[_0x59ec06(0x419)](0xc8)[_0x59ec06(0x51b)](_0x9baf26);})[_0x4b8cab(0x3b3)](this[_0x4b8cab(0x57d)](_0x4b8cab(0x391)),..._0x21b891,async(_0x2d3c93,_0x136511)=>{const _0x3f8579=_0x4b8cab;let _0x1562e0=await this['dataValidate']({'request':_0x2d3c93,'schema':M,'ClassRef':E,'execute':_0x1c0d56=>q[_0x3f8579(0x391)](_0x1c0d56)});_0x136511[_0x3f8579(0x419)](0xc8)['json'](_0x1562e0);})['get'](this['routerPath'](_0x4b8cab(0x543)),..._0x21b891,async(_0xc0be08,_0xb1602b)=>{const _0x2305c5=_0x4b8cab;let _0x3f871c=await this[_0x2305c5(0x256)]({'request':_0xc0be08,'schema':Ee,'ClassRef':Y,'execute':(_0x4c5d37,_0x15a7cd)=>q['findParticipants'](_0x4c5d37,_0x15a7cd)});_0xb1602b['status'](0xc8)[_0x2305c5(0x51b)](_0x3f871c);})[_0x4b8cab(0x3b3)](this[_0x4b8cab(0x57d)](_0x4b8cab(0x4af)),..._0x21b891,async(_0x355a48,_0x360742)=>{const _0x4869aa=_0x4b8cab;let _0x65c08c=await this[_0x4869aa(0x256)]({'request':_0x355a48,'schema':Ee,'ClassRef':Y,'execute':(_0x4e7e61,_0x78c607)=>q[_0x4869aa(0x4af)](_0x4e7e61,_0x78c607)});_0x360742[_0x4869aa(0x419)](0xc8)[_0x4869aa(0x51b)](_0x65c08c);})[_0x4b8cab(0x50f)](this['routerPath']('joinGroup'),..._0x21b891,async(_0x5cad8f,_0x30c20f)=>{const _0x780270=_0x4b8cab;let _0x4510be=await this['joinGroupValidate']({'request':_0x5cad8f,'schema':Ya,'ClassRef':ot,'execute':(_0x11a73a,_0xb01e52)=>q[_0x780270(0x29d)](_0x11a73a,_0xb01e52)});_0x30c20f[_0x780270(0x419)](0xc9)['json'](_0x4510be);})[_0x4b8cab(0x50f)](this[_0x4b8cab(0x57d)](_0x4b8cab(0x3ee)),..._0x21b891,async(_0x49fc2f,_0x1c2c8d)=>{const _0x12092e=_0x4b8cab;let _0x2aec04=await this[_0x12092e(0x256)]({'request':_0x49fc2f,'schema':Ee,'ClassRef':Y,'execute':(_0x304a02,_0x52f66d)=>q[_0x12092e(0x3ee)](_0x304a02,_0x52f66d)});_0x1c2c8d[_0x12092e(0x419)](0xc9)[_0x12092e(0x51b)](_0x2aec04);})[_0x4b8cab(0x50f)](this[_0x4b8cab(0x57d)](_0x4b8cab(0x2cf)),..._0x21b891,async(_0x199ffb,_0x59da4d)=>{const _0x55c2e7=_0x4b8cab;let _0x2d17d4=await this['groupValidate']({'request':_0x199ffb,'schema':Ga,'ClassRef':rt,'execute':(_0x1007a6,_0x381b97)=>q['updateGParticipate'](_0x1007a6,_0x381b97)});_0x59da4d[_0x55c2e7(0x419)](0xc9)['json'](_0x2d17d4);})[_0x4b8cab(0x487)](this[_0x4b8cab(0x57d)](_0x4b8cab(0x3a4)),..._0x21b891,async(_0x4ee162,_0x41d35a)=>{const _0x4966fb=_0x4b8cab;let _0x2de18e=await this['groupValidate']({'request':_0x4ee162,'schema':{},'ClassRef':Y,'execute':(_0x50e20e,_0x4b586a)=>q['leaveGroup'](_0x50e20e,_0x4b586a)});_0x41d35a['status'](0xc8)[_0x4966fb(0x51b)](_0x2de18e);});}},to=require('express'),ct=class extends U{constructor(_0x3e04a3,..._0x46b1f7){const _0x3f201f=a0_0x146a96;super(),this[_0x3f201f(0x598)]=_0x3e04a3,this['router']=(0x0,to['Router'])();let _0x822271=_0x3e04a3[_0x3f201f(0x3b3)](_0x3f201f(0x328));this[_0x3f201f(0x63b)]['post'](_0x3f201f(0x1a6),..._0x46b1f7,async(_0x5d711d,_0x1eddbb)=>{const _0x53b77b=_0x3f201f;let {instanceName:_0x3cc107,apikey:_0x4bda51,number:_0x5cae0b}=_0x5d711d[_0x53b77b(0x4c6)],_0x39ecc5=await le[_0x53b77b(0x541)]({'instanceName':_0x3cc107,'apikey':_0x4bda51,'number':_0x5cae0b});return _0x1eddbb[_0x53b77b(0x419)](0xc9)[_0x53b77b(0x51b)](_0x39ecc5);})[_0x3f201f(0x50f)](this[_0x3f201f(0x57d)](_0x3f201f(0x13b)),..._0x46b1f7,async(_0x43a715,_0x3388e5)=>{const _0x5a1240=_0x3f201f;let _0x305a6d=await this['dataValidate']({'request':_0x43a715,'schema':M,'ClassRef':E,'execute':_0xa4cc16=>le[_0x5a1240(0x40a)](_0xa4cc16)});return _0x3388e5['status'](0xc8)[_0x5a1240(0x51b)](_0x305a6d);})[_0x3f201f(0x3b3)](this[_0x3f201f(0x57d)]('connectionState'),..._0x46b1f7,async(_0x22be92,_0xa1ae8c)=>{const _0x3e9c9e=_0x3f201f;let _0x4b16e8=await this[_0x3e9c9e(0x5a3)]({'request':_0x22be92,'schema':M,'ClassRef':E,'execute':_0x4fc416=>le[_0x3e9c9e(0x32d)](_0x4fc416)});return _0xa1ae8c[_0x3e9c9e(0x419)](0xc8)[_0x3e9c9e(0x51b)](_0x4b16e8);})[_0x3f201f(0x3b3)](this[_0x3f201f(0x57d)](_0x3f201f(0x1f7),!0x1),..._0x46b1f7,async(_0x2536ae,_0x21c18b)=>{const _0x2203e5=_0x3f201f;let _0x9cafdf=await this[_0x2203e5(0x5a3)]({'request':_0x2536ae,'schema':null,'ClassRef':E,'execute':_0x442d6a=>le[_0x2203e5(0x1f7)](_0x442d6a)});return _0x21c18b['status'](0xc8)[_0x2203e5(0x51b)](_0x9cafdf);})[_0x3f201f(0x487)](this[_0x3f201f(0x57d)](_0x3f201f(0x4bf)),..._0x46b1f7,async(_0x2b055a,_0x5ad0d0)=>{const _0x4c39de=_0x3f201f;let _0x447a5f=await this[_0x4c39de(0x5a3)]({'request':_0x2b055a,'schema':M,'ClassRef':E,'execute':_0x5949ad=>le['logout'](_0x5949ad)});return _0x5ad0d0[_0x4c39de(0x419)](0xc8)[_0x4c39de(0x51b)](_0x447a5f);})['delete'](this[_0x3f201f(0x57d)](_0x3f201f(0x487)),..._0x46b1f7,async(_0x550bec,_0x4be06d)=>{const _0x23fb84=_0x3f201f;let _0x2789b3=await this[_0x23fb84(0x5a3)]({'request':_0x550bec,'schema':M,'ClassRef':E,'execute':_0x3e509d=>le[_0x23fb84(0x2df)](_0x3e509d)});return _0x4be06d['status'](0xc8)[_0x23fb84(0x51b)](_0x2789b3);});}},so=require(a0_0x146a96(0x98)),gs=class{},W=class extends gs{},lt=class extends W{},ut=class extends W{},dt=class extends W{},pt=class extends W{},Ce=class extends W{},ht=class extends W{},gt=class extends W{},mt=class extends W{},ft=class extends W{},wt=class extends W{},yt=class{},bt=class extends U{constructor(..._0x4a9b7f){const _0x2a5324=a0_0x146a96;super(),this['router']=(0x0,so[_0x2a5324(0x356)])(),this['router'][_0x2a5324(0x60b)](this[_0x2a5324(0x57d)](_0x2a5324(0x6c0)),..._0x4a9b7f,async(_0x4fcea9,_0x1e1811)=>{const _0xa9cdb9=_0x2a5324;let _0x41e073=await this[_0xa9cdb9(0x5a3)]({'request':_0x4fcea9,'schema':Sa,'ClassRef':lt,'execute':(_0x4ad15e,_0x1c3ad9)=>G[_0xa9cdb9(0x6c0)](_0x4ad15e,_0x1c3ad9)});return _0x1e1811[_0xa9cdb9(0x419)](0xc9)[_0xa9cdb9(0x51b)](_0x41e073);})[_0x2a5324(0x60b)](this[_0x2a5324(0x57d)](_0x2a5324(0x64c)),..._0x4a9b7f,async(_0x2a30b0,_0x35127f)=>{const _0x1e3836=_0x2a5324;let _0xe1db91=await this[_0x1e3836(0x5a3)]({'request':_0x2a30b0,'schema':va,'ClassRef':Ce,'execute':(_0x458456,_0x46a13c)=>G[_0x1e3836(0x64c)](_0x458456,_0x46a13c)});return _0x35127f[_0x1e3836(0x419)](0xc9)[_0x1e3836(0x51b)](_0xe1db91);})[_0x2a5324(0x60b)](this[_0x2a5324(0x57d)](_0x2a5324(0x339)),..._0x4a9b7f,async(_0x1891eb,_0x4e9979)=>{const _0x3589dd=_0x2a5324;let _0x56d95a=await this[_0x3589dd(0x5a3)]({'request':_0x1891eb,'schema':Ta,'ClassRef':pt,'execute':(_0x2c3895,_0x31360c)=>G[_0x3589dd(0x339)](_0x2c3895,_0x31360c)});return _0x4e9979[_0x3589dd(0x419)](0xc9)[_0x3589dd(0x51b)](_0x56d95a);})[_0x2a5324(0x60b)](this[_0x2a5324(0x57d)]('sendWhatsAppAudio'),..._0x4a9b7f,async(_0x5326eb,_0x3766e7)=>{const _0x43f846=_0x2a5324;let _0x519b1c=await this[_0x43f846(0x5a3)]({'request':_0x5326eb,'schema':Na,'ClassRef':Ce,'execute':(_0x3c5b01,_0x173e4a)=>G[_0x43f846(0xfc)](_0x3c5b01,_0x173e4a)});return _0x3766e7['status'](0xc9)[_0x43f846(0x51b)](_0x519b1c);})[_0x2a5324(0x60b)](this[_0x2a5324(0x57d)](_0x2a5324(0x49c)),..._0x4a9b7f,async(_0x3b8ad8,_0x26ec76)=>{const _0x58bfe1=_0x2a5324;let _0x5f2471=await this[_0x58bfe1(0x5a3)]({'request':_0x3b8ad8,'schema':Aa,'ClassRef':gt,'execute':(_0x566bec,_0x1ef3e)=>G['sendButtons'](_0x566bec,_0x1ef3e)});return _0x26ec76[_0x58bfe1(0x419)](0xc9)['json'](_0x5f2471);})[_0x2a5324(0x60b)](this[_0x2a5324(0x57d)](_0x2a5324(0x53e)),..._0x4a9b7f,async(_0x853b0a,_0x31688d)=>{const _0x7be848=_0x2a5324;let _0x510e0c=await this['dataValidate']({'request':_0x853b0a,'schema':Oa,'ClassRef':mt,'execute':(_0x2209b4,_0x1bed37)=>G['sendLocation'](_0x2209b4,_0x1bed37)});return _0x31688d['status'](0xc9)[_0x7be848(0x51b)](_0x510e0c);})[_0x2a5324(0x60b)](this[_0x2a5324(0x57d)](_0x2a5324(0x1de)),..._0x4a9b7f,async(_0x53efc6,_0x352b7c)=>{const _0x17d57a=_0x2a5324;let _0x175ae9=await this[_0x17d57a(0x5a3)]({'request':_0x53efc6,'schema':Ia,'ClassRef':ft,'execute':(_0x13325b,_0x4b403a)=>G['sendList'](_0x13325b,_0x4b403a)});return _0x352b7c[_0x17d57a(0x419)](0xc9)[_0x17d57a(0x51b)](_0x175ae9);})[_0x2a5324(0x60b)](this[_0x2a5324(0x57d)](_0x2a5324(0x85)),..._0x4a9b7f,async(_0x216027,_0x1f6eb5)=>{const _0x2755d6=_0x2a5324;let _0x3f4cbb=await this[_0x2755d6(0x5a3)]({'request':_0x216027,'schema':xa,'ClassRef':wt,'execute':(_0x3ba196,_0x461238)=>G[_0x2755d6(0x85)](_0x3ba196,_0x461238)});return _0x1f6eb5[_0x2755d6(0x419)](0xc9)[_0x2755d6(0x51b)](_0x3f4cbb);})['post'](this[_0x2a5324(0x57d)](_0x2a5324(0x1b9)),..._0x4a9b7f,async(_0x4df0e6,_0x1eb308)=>{const _0x3482a1=_0x2a5324;let _0x1700a9=await this[_0x3482a1(0x5a3)]({'request':_0x4df0e6,'schema':Da,'ClassRef':yt,'execute':(_0x2eee99,_0x9cb867)=>G[_0x3482a1(0x1b9)](_0x2eee99,_0x9cb867)});return _0x1eb308['status'](0xc9)['json'](_0x1700a9);})[_0x2a5324(0x60b)](this[_0x2a5324(0x57d)](_0x2a5324(0x265)),..._0x4a9b7f,async(_0x30cea2,_0x5240bb)=>{const _0x534ce0=_0x2a5324;let _0x397361=await this[_0x534ce0(0x5a3)]({'request':_0x30cea2,'schema':Ra,'ClassRef':dt,'execute':(_0x2e5d5f,_0xd60f7a)=>G['sendPoll'](_0x2e5d5f,_0xd60f7a)});return _0x5240bb[_0x534ce0(0x419)](0xc9)[_0x534ce0(0x51b)](_0x397361);})['post'](this[_0x2a5324(0x57d)](_0x2a5324(0x89)),..._0x4a9b7f,async(_0x4653ed,_0x35e05d)=>{const _0x5b460d=_0x2a5324;let _0x25fab9=await this[_0x5b460d(0x5a3)]({'request':_0x4653ed,'schema':Ma,'ClassRef':ut,'execute':(_0x12c165,_0xfd3d58)=>G['sendStatus'](_0x12c165,_0xfd3d58)});return _0x35e05d[_0x5b460d(0x419)](0xc9)[_0x5b460d(0x51b)](_0x25fab9);})[_0x2a5324(0x60b)](this[_0x2a5324(0x57d)](_0x2a5324(0x52d)),..._0x4a9b7f,async(_0x58961b,_0x23189c)=>{const _0xa52970=_0x2a5324;let _0x58f8a9=await this[_0xa52970(0x5a3)]({'request':_0x58961b,'schema':Ca,'ClassRef':ht,'execute':(_0x2e3382,_0x4c4b7f)=>G[_0xa52970(0x52d)](_0x2e3382,_0x4c4b7f)});return _0x23189c[_0xa52970(0x419)](0xc9)[_0xa52970(0x51b)](_0x58f8a9);});}},ao=require(a0_0x146a96(0x98)),St=class{},Et=class extends U{constructor(..._0x2376c7){const _0x137b13=a0_0x146a96;super(),this['router']=(0x0,ao[_0x137b13(0x356)])(),this[_0x137b13(0x63b)][_0x137b13(0x60b)](this[_0x137b13(0x57d)](_0x137b13(0x306)),..._0x2376c7,async(_0xdf3693,_0x401acf)=>{const _0x5e0e98=_0x137b13;let _0x54b1a2=await this[_0x5e0e98(0x5a3)]({'request':_0xdf3693,'schema':Xa,'ClassRef':St,'execute':(_0x5e8ac7,_0x41f739)=>ms['createWebhook'](_0x5e8ac7,_0x41f739)});_0x401acf[_0x5e0e98(0x419)](0xc9)[_0x5e0e98(0x51b)](_0x54b1a2);})[_0x137b13(0x3b3)](this['routerPath'](_0x137b13(0x54e)),..._0x2376c7,async(_0x10610d,_0x5caa5b)=>{const _0x4c918b=_0x137b13;let _0x2af915=await this[_0x4c918b(0x5a3)]({'request':_0x10610d,'schema':M,'ClassRef':E,'execute':_0x559cdf=>ms[_0x4c918b(0x699)](_0x559cdf)});_0x5caa5b[_0x4c918b(0x419)](0xc8)[_0x4c918b(0x51b)](_0x2af915);});}},oo=require(a0_0x146a96(0x98)),f=new v('FlowRouter'),Ct=class extends U{constructor(..._0x26fee9){const _0x220b9c=a0_0x146a96;super(),this[_0x220b9c(0x63b)]=(0x0,oo[_0x220b9c(0x356)])(),this[_0x220b9c(0x63b)]['post'](this['routerPath'](_0x220b9c(0x6cb)),..._0x26fee9,async(_0x443e1d,_0x2d515e)=>{const _0x44bfb4=_0x220b9c;let _0x4971e1=_0x443e1d[_0x44bfb4(0x4c6)];f[_0x44bfb4(0xb5)](_0x44bfb4(0x141)),f['verbose']('request\x20body:\x20'),f['verbose'](_0x443e1d[_0x44bfb4(0x4c6)]);let _0x1c8a4e=await this[_0x44bfb4(0x5a3)]({'request':_0x443e1d,'schema':M,'ClassRef':E,'execute':_0x2cdde5=>T[_0x44bfb4(0x5c5)](_0x2cdde5,_0x4971e1)});_0x2d515e['status'](0xc8)[_0x44bfb4(0x51b)](_0x1c8a4e);})[_0x220b9c(0x3b3)](this[_0x220b9c(0x57d)]('scheduleMessage'),..._0x26fee9,async(_0x1728e7,_0x187780)=>{const _0x260a3b=_0x220b9c;let _0x27d6d1=await this[_0x260a3b(0x5a3)]({'request':_0x1728e7,'schema':M,'ClassRef':E,'execute':_0xd20519=>T[_0x260a3b(0x2f0)](_0xd20519)});_0x187780[_0x260a3b(0x419)](0xc8)[_0x260a3b(0x51b)](_0x27d6d1);})[_0x220b9c(0x487)](this[_0x220b9c(0x57d)]('deleteDoneMessages'),..._0x26fee9,async(_0x296835,_0x17d1f8)=>{const _0x8191b=_0x220b9c;f['verbose'](_0x8191b(0x39d));let _0x2d81ad=await this[_0x8191b(0x5a3)]({'request':_0x296835,'schema':M,'ClassRef':E,'execute':_0x217208=>T[_0x8191b(0x361)](_0x217208)});_0x17d1f8['status'](0xc8)[_0x8191b(0x51b)](_0x2d81ad);})[_0x220b9c(0x60b)](this[_0x220b9c(0x57d)](_0x220b9c(0x6a5)),..._0x26fee9,async(_0x113498,_0x34ec65)=>{const _0x34d678=_0x220b9c;let _0x4cd15d=_0x113498[_0x34d678(0x4c6)];f[_0x34d678(0xb5)](_0x34d678(0x624)),f[_0x34d678(0xb5)](_0x34d678(0x38c)),f[_0x34d678(0xb5)](_0x113498[_0x34d678(0x4c6)]);let _0x370da8=await this['dataValidate']({'request':_0x113498,'schema':M,'ClassRef':E,'execute':_0xb4eecd=>T['startFlow'](_0xb4eecd,_0x4cd15d)});_0x34ec65[_0x34d678(0x419)](0xc8)[_0x34d678(0x51b)](_0x370da8);})[_0x220b9c(0x3b3)](this[_0x220b9c(0x57d)]('getAutomateSystem'),..._0x26fee9,async(_0x4cbafc,_0x12e63b)=>{const _0x59b955=_0x220b9c;f[_0x59b955(0xb5)](_0x59b955(0x17a));let _0x2b821a=await this[_0x59b955(0x5a3)]({'request':_0x4cbafc,'schema':M,'ClassRef':E,'execute':_0x3659a7=>T['getAutomateSystem'](_0x3659a7)});_0x12e63b[_0x59b955(0x419)](0xc8)[_0x59b955(0x51b)](_0x2b821a);})[_0x220b9c(0x3b3)](this['routerPath'](_0x220b9c(0xa0)),..._0x26fee9,async(_0x363444,_0x8edba6)=>{const _0x15db86=_0x220b9c;f[_0x15db86(0xb5)](_0x15db86(0x4c0));let _0x32662b=await this['dataValidate']({'request':_0x363444,'schema':M,'ClassRef':E,'execute':_0x5c3c21=>T[_0x15db86(0x134)](_0x5c3c21)});_0x8edba6[_0x15db86(0x419)](0xc8)[_0x15db86(0x51b)](_0x32662b);})['post'](this['routerPath'](_0x220b9c(0x597)),..._0x26fee9,async(_0x4446dc,_0x20feea)=>{const _0x31b7dc=_0x220b9c;let _0x226f22=_0x4446dc[_0x31b7dc(0x4c6)];f[_0x31b7dc(0xb5)](_0x31b7dc(0xe4)),f['verbose'](_0x31b7dc(0x38c)),f[_0x31b7dc(0xb5)](_0x4446dc[_0x31b7dc(0x4c6)]);let _0x3fa664=await this[_0x31b7dc(0x5a3)]({'request':_0x4446dc,'schema':M,'ClassRef':E,'execute':_0x34814a=>T[_0x31b7dc(0x597)](_0x34814a,_0x226f22)});_0x20feea[_0x31b7dc(0x419)](0xc8)['json'](_0x3fa664);})[_0x220b9c(0x60b)](this[_0x220b9c(0x57d)]('updateCustomFields'),..._0x26fee9,async(_0x207c4d,_0x4f4e68)=>{const _0x1c2bcf=_0x220b9c;let _0x22a10a=_0x207c4d['body'];f['verbose'](_0x1c2bcf(0x5ba)),f[_0x1c2bcf(0xb5)]('request\x20body:\x20'),f[_0x1c2bcf(0xb5)](_0x207c4d[_0x1c2bcf(0x4c6)]);let _0x4ef1c1=await this[_0x1c2bcf(0x5a3)]({'request':_0x207c4d,'schema':M,'ClassRef':E,'execute':_0x2c966c=>T['updateCustomFields'](_0x2c966c,_0x22a10a)});_0x4f4e68[_0x1c2bcf(0x419)](0xc8)[_0x1c2bcf(0x51b)](_0x4ef1c1);})[_0x220b9c(0x60b)](this[_0x220b9c(0x57d)]('updateFlowConfig'),..._0x26fee9,async(_0x1746ea,_0x46f458)=>{const _0x86e321=_0x220b9c;let _0x1b0f21=_0x1746ea[_0x86e321(0x4c6)];f[_0x86e321(0xb5)]('request\x20received\x20in\x20updateFlowConfig'),f[_0x86e321(0xb5)]('request\x20body:\x20'),f['verbose'](_0x1746ea[_0x86e321(0x4c6)]);let _0x5c6f85=await this[_0x86e321(0x5a3)]({'request':_0x1746ea,'schema':M,'ClassRef':E,'execute':_0x5c952d=>T[_0x86e321(0xcb)](_0x5c952d,_0x1b0f21)});_0x46f458[_0x86e321(0x419)](0xc8)[_0x86e321(0x51b)](_0x5c6f85);})[_0x220b9c(0x60b)](this[_0x220b9c(0x57d)](_0x220b9c(0x426)),..._0x26fee9,async(_0x4d72f4,_0x2b8afe)=>{const _0x338bc3=_0x220b9c;let _0x441649=_0x4d72f4['body'];f[_0x338bc3(0xb5)](_0x338bc3(0x480)),f['verbose'](_0x338bc3(0x38c)),f[_0x338bc3(0xb5)](_0x4d72f4[_0x338bc3(0x4c6)]);let _0x327b68=await this[_0x338bc3(0x5a3)]({'request':_0x4d72f4,'schema':M,'ClassRef':E,'execute':_0x1f3dd5=>T[_0x338bc3(0x426)](_0x1f3dd5,_0x441649)});_0x2b8afe[_0x338bc3(0x419)](0xc8)[_0x338bc3(0x51b)](_0x327b68);})[_0x220b9c(0x60b)](this[_0x220b9c(0x57d)](_0x220b9c(0x415)),..._0x26fee9,async(_0x3d2633,_0x52f8f2)=>{const _0x3a84ec=_0x220b9c;let _0x2c15b4=_0x3d2633[_0x3a84ec(0x4c6)];f['verbose'](_0x3a84ec(0x8f)),f[_0x3a84ec(0xb5)]('request\x20body:\x20'),f[_0x3a84ec(0xb5)](_0x3d2633[_0x3a84ec(0x4c6)]);let _0x36f02e=await this[_0x3a84ec(0x5a3)]({'request':_0x3d2633,'schema':M,'ClassRef':E,'execute':_0x2ca8ea=>T[_0x3a84ec(0x415)](_0x2ca8ea,_0x2c15b4)});_0x52f8f2[_0x3a84ec(0x419)](0xc8)[_0x3a84ec(0x51b)](_0x36f02e);})[_0x220b9c(0x60b)](this[_0x220b9c(0x57d)](_0x220b9c(0x613)),..._0x26fee9,async(_0x1c9d5d,_0x108d58)=>{const _0x1f45b3=_0x220b9c;let _0x195f47=_0x1c9d5d[_0x1f45b3(0x4c6)];f[_0x1f45b3(0xb5)](_0x1f45b3(0x665)),f[_0x1f45b3(0xb5)](_0x1f45b3(0x38c)),f[_0x1f45b3(0xb5)](_0x1c9d5d[_0x1f45b3(0x4c6)]);let _0x30bd7e=await this['dataValidate']({'request':_0x1c9d5d,'schema':M,'ClassRef':E,'execute':_0x14385a=>T[_0x1f45b3(0x613)](_0x14385a,_0x195f47)});_0x108d58[_0x1f45b3(0x419)](0xc8)[_0x1f45b3(0x51b)](_0x30bd7e);})['delete'](this[_0x220b9c(0x57d)](_0x220b9c(0x300)),..._0x26fee9,async(_0x87c875,_0x4e6cf8)=>{const _0x19cc6c=_0x220b9c;let _0x3e03ee=_0x87c875[_0x19cc6c(0x4c6)];f[_0x19cc6c(0xb5)](_0x19cc6c(0x56b)),f[_0x19cc6c(0xb5)]('request\x20body:\x20'),f['verbose'](_0x87c875[_0x19cc6c(0x4c6)]);let _0x27cb4a=await this['dataValidate']({'request':_0x87c875,'schema':M,'ClassRef':E,'execute':_0x33282e=>T['deleteConversation'](_0x33282e,_0x3e03ee)});_0x4e6cf8['status'](0xc8)[_0x19cc6c(0x51b)](_0x27cb4a);})[_0x220b9c(0x60b)](this[_0x220b9c(0x57d)](_0x220b9c(0x273)),..._0x26fee9,async(_0x18172c,_0x1c8017)=>{const _0x9d94df=_0x220b9c;let _0x3bb6fa=_0x18172c[_0x9d94df(0x4c6)];f[_0x9d94df(0xb5)](_0x9d94df(0x490)),f[_0x9d94df(0xb5)](_0x9d94df(0x38c)),f[_0x9d94df(0xb5)](_0x18172c[_0x9d94df(0x4c6)]);let _0x97dae9=await this[_0x9d94df(0x5a3)]({'request':_0x18172c,'schema':M,'ClassRef':E,'execute':_0x229fef=>T[_0x9d94df(0x48a)](_0x229fef,_0x3bb6fa)});_0x1c8017[_0x9d94df(0x419)](0xc8)[_0x9d94df(0x51b)](_0x97dae9);})[_0x220b9c(0x60b)](this[_0x220b9c(0x57d)](_0x220b9c(0xad)),..._0x26fee9,async(_0x57474e,_0x2bf25e)=>{const _0xf04fb7=_0x220b9c;let _0x5a87de=_0x57474e[_0xf04fb7(0x4c6)];f[_0xf04fb7(0xb5)](_0xf04fb7(0x372)),f[_0xf04fb7(0xb5)](_0xf04fb7(0x38c)),f[_0xf04fb7(0xb5)](_0x57474e[_0xf04fb7(0x4c6)]),delete _0x5a87de['blocks'],delete _0x5a87de[_0xf04fb7(0x3e0)],delete _0x5a87de[_0xf04fb7(0x5d0)],delete _0x5a87de[_0xf04fb7(0x11f)];let _0x46fea2=await this[_0xf04fb7(0x5a3)]({'request':_0x57474e,'schema':M,'ClassRef':E,'execute':_0x496467=>T[_0xf04fb7(0x90)](_0x496467,_0x5a87de)});_0x2bf25e[_0xf04fb7(0x419)](0xc8)[_0xf04fb7(0x51b)](_0x46fea2);})[_0x220b9c(0x60b)](this['routerPath'](_0x220b9c(0x80)),..._0x26fee9,async(_0x11ae79,_0x502124)=>{const _0x260fca=_0x220b9c;let _0x34b822=_0x11ae79[_0x260fca(0x4c6)];f[_0x260fca(0xb5)](_0x260fca(0x372)),f[_0x260fca(0xb5)]('request\x20body:\x20'),f[_0x260fca(0xb5)](_0x11ae79[_0x260fca(0x4c6)]);let _0x5493c3=await this[_0x260fca(0x5a3)]({'request':_0x11ae79,'schema':M,'ClassRef':E,'execute':_0x3fd018=>T[_0x260fca(0x115)](_0x3fd018,_0x34b822)});_0x502124[_0x260fca(0x419)](0xc8)['json'](_0x5493c3);})[_0x220b9c(0x60b)](this['routerPath']('editflowreply'),..._0x26fee9,async(_0x1517fc,_0x4ef8eb)=>{const _0x159efa=_0x220b9c;let _0x449185=_0x1517fc[_0x159efa(0x4c6)];f[_0x159efa(0xb5)]('request\x20received\x20in\x20editFlow'),f[_0x159efa(0xb5)]('request\x20body:\x20'),f[_0x159efa(0xb5)](_0x1517fc[_0x159efa(0x4c6)]);let _0x5a9852=await this[_0x159efa(0x5a3)]({'request':_0x1517fc,'schema':M,'ClassRef':E,'execute':_0x4a8dda=>T[_0x159efa(0x4ea)](_0x4a8dda,_0x449185)});_0x4ef8eb['status'](0xc8)[_0x159efa(0x51b)](_0x5a9852);})[_0x220b9c(0x60b)](this[_0x220b9c(0x57d)](_0x220b9c(0x6bf)),..._0x26fee9,async(_0x158001,_0x54b813)=>{const _0x47b099=_0x220b9c;let _0x543732=_0x158001['body'];f[_0x47b099(0xb5)](_0x47b099(0x372)),f['verbose'](_0x47b099(0x38c)),f[_0x47b099(0xb5)](_0x158001['body']);let _0x403653=await this[_0x47b099(0x5a3)]({'request':_0x158001,'schema':M,'ClassRef':E,'execute':_0x2b9df3=>T[_0x47b099(0x313)](_0x2b9df3,_0x543732)});_0x54b813[_0x47b099(0x419)](0xc8)[_0x47b099(0x51b)](_0x403653);})[_0x220b9c(0x60b)](this[_0x220b9c(0x57d)](_0x220b9c(0x4b7)),..._0x26fee9,async(_0x516e18,_0x389e82)=>{const _0x2e7302=_0x220b9c;let _0x3320d0=_0x516e18[_0x2e7302(0x4c6)];f[_0x2e7302(0xb5)](_0x2e7302(0x646)),f[_0x2e7302(0xb5)](_0x2e7302(0x38c)),f[_0x2e7302(0xb5)](_0x516e18[_0x2e7302(0x4c6)]);let _0x404d82=await this['dataValidate']({'request':_0x516e18,'schema':M,'ClassRef':E,'execute':_0x41a714=>T[_0x2e7302(0x69c)](_0x41a714,_0x3320d0)});_0x389e82[_0x2e7302(0x419)](0xc8)['json'](_0x404d82);})[_0x220b9c(0x60b)](this[_0x220b9c(0x57d)](_0x220b9c(0x340)),..._0x26fee9,async(_0xe9ca61,_0x4f6e8e)=>{const _0x491f78=_0x220b9c;let _0x431bbc=_0xe9ca61['body'];f[_0x491f78(0xb5)](_0x491f78(0x194)),f[_0x491f78(0xb5)](_0x491f78(0x38c)),f[_0x491f78(0xb5)](_0xe9ca61[_0x491f78(0x4c6)]);let _0x13bbfd=await this[_0x491f78(0x5a3)]({'request':_0xe9ca61,'schema':M,'ClassRef':E,'execute':_0x5e8ebc=>T['editFlowCondition'](_0x5e8ebc,_0x431bbc)});_0x4f6e8e[_0x491f78(0x419)](0xc8)[_0x491f78(0x51b)](_0x13bbfd);})[_0x220b9c(0x60b)](this[_0x220b9c(0x57d)](_0x220b9c(0x20d)),..._0x26fee9,async(_0xb2b45a,_0x17f21d)=>{const _0x5054c0=_0x220b9c;let _0x250bba=_0xb2b45a[_0x5054c0(0x4c6)];f[_0x5054c0(0xb5)](_0x5054c0(0x2ca)),f[_0x5054c0(0xb5)](_0x5054c0(0x38c)),f[_0x5054c0(0xb5)](_0xb2b45a[_0x5054c0(0x4c6)]);let _0x2984b8=await this[_0x5054c0(0x5a3)]({'request':_0xb2b45a,'schema':M,'ClassRef':E,'execute':_0x41cc31=>T[_0x5054c0(0x2c0)](_0x41cc31,_0x250bba)});_0x17f21d[_0x5054c0(0x419)](0xc8)['json'](_0x2984b8);})[_0x220b9c(0x60b)](this[_0x220b9c(0x57d)](_0x220b9c(0x1a4)),..._0x26fee9,async(_0x21230f,_0x20a34d)=>{const _0x10eebb=_0x220b9c;let _0x558125=_0x21230f[_0x10eebb(0x4c6)];f[_0x10eebb(0xb5)](_0x10eebb(0x1ad)),f[_0x10eebb(0xb5)](_0x10eebb(0x38c)),f[_0x10eebb(0xb5)](_0x21230f[_0x10eebb(0x4c6)]);let _0x5b0ed8=await this[_0x10eebb(0x5a3)]({'request':_0x21230f,'schema':M,'ClassRef':E,'execute':_0xb7f560=>T[_0x10eebb(0x527)](_0xb7f560,_0x558125)});_0x20a34d[_0x10eebb(0x419)](0xc8)['json'](_0x5b0ed8);})[_0x220b9c(0x487)](this['routerPath'](_0x220b9c(0x2bb)),..._0x26fee9,async(_0xc893a4,_0x41e457)=>{const _0x3e4a24=_0x220b9c;let _0xe943d5=_0xc893a4[_0x3e4a24(0x4c6)];f[_0x3e4a24(0xb5)](_0x3e4a24(0x693)),f['verbose'](_0x3e4a24(0x38c)),f[_0x3e4a24(0xb5)](_0xc893a4[_0x3e4a24(0x4c6)]);let _0x528c85=await this[_0x3e4a24(0x5a3)]({'request':_0xc893a4,'schema':M,'ClassRef':E,'execute':_0x2d901a=>T['deleteFlow'](_0x2d901a,_0xe943d5)});_0x41e457['status'](0xc8)['json'](_0x528c85);})[_0x220b9c(0x3b3)](this[_0x220b9c(0x57d)](_0x220b9c(0x66a)),..._0x26fee9,async(_0x134138,_0x3238bd)=>{const _0x30a1d6=_0x220b9c;f[_0x30a1d6(0xb5)](_0x30a1d6(0x4eb));let _0x56b684=await this[_0x30a1d6(0x5a3)]({'request':_0x134138,'schema':M,'ClassRef':E,'execute':_0x4a45df=>T[_0x30a1d6(0x352)](_0x4a45df)});_0x3238bd[_0x30a1d6(0x419)](0xc8)[_0x30a1d6(0x51b)](_0x56b684);});}},co=R(require(a0_0x146a96(0x317))),X={};function ro(_0x313217,_0x45fb6f,_0x44ce9d,_0x4e094e){X[_0x313217]||(X[_0x313217]={}),X[_0x313217][_0x45fb6f]={'id':_0x45fb6f,'response':_0x44ce9d,'events':_0x4e094e};}function io(_0x4a0b83,_0x4c16f2){!X[_0x4a0b83]||!X[_0x4a0b83][_0x4c16f2]||delete X[_0x4a0b83][_0x4c16f2];}function J(_0x4518c7,_0x3e3bc2,_0x2760ec){const _0x8a72b3=a0_0x146a96;if(!X[_0x4518c7])return;let _0xfb6ffa=_0x8a72b3(0x63c)+JSON['stringify'](_0x2760ec)+'\x0a\x0a';Object[_0x8a72b3(0x6b6)](X[_0x4518c7])[_0x8a72b3(0x304)](_0x1f4d88=>{const _0x47d125=_0x8a72b3;_0x1f4d88[_0x47d125(0x52c)]['includes'](_0x3e3bc2)&&_0x1f4d88[_0x47d125(0x107)][_0x47d125(0x5ec)](_0xfb6ffa);});}function no(){const _0x547a1b=a0_0x146a96;let _0x45fb25={};for(let _0x17437e in X)_0x45fb25[_0x17437e]=Object[_0x547a1b(0x6b6)](X[_0x17437e])['map'](_0x780acc=>({'id':_0x780acc['id'],'events':_0x780acc[_0x547a1b(0x52c)]}));return _0x45fb25;}var lo=require(a0_0x146a96(0x17d)),ws=require(a0_0x146a96(0x5e4)),fs=class{},cr=new ws[(a0_0x146a96(0x50d))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),lr=new ws[(a0_0x146a96(0x50d))]({'_id':{'type':String,'default':'config'},'WebhookGlobal':{'type':cr},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),we=N?.[a0_0x146a96(0x3cf)](fs[a0_0x146a96(0x68a)],lr,a0_0x146a96(0x5fd)),ur=co['default']['join'](__dirname,a0_0x146a96(0x2ab)),vt=(0x0,Mt[a0_0x146a96(0x356)])(),dr=b[a0_0x146a96(0x3b3)](a0_0x146a96(0x328))[a0_0x146a96(0x2a3)],te=[ma,fa,ba[dr]];vt[a0_0x146a96(0x4e6)](a0_0x146a96(0x3ec),Mt[a0_0x146a96(0x68f)][a0_0x146a96(0x63f)](ur))[a0_0x146a96(0x3b3)]('/events/:instance',async(_0x1d1e1c,_0x168686)=>{const _0x16a533=a0_0x146a96;console[_0x16a533(0x48e)](_0x16a533(0x57c));let _0x21276d=_0x1d1e1c['params']['instance'],_0x53bc5b=(_0x1d1e1c[_0x16a533(0x482)][_0x16a533(0x52c)]||'')['split'](','),_0xedac4b=(0x0,lo['v4'])();console[_0x16a533(0x48e)]('Instance\x20ID:',_0x21276d),console[_0x16a533(0x48e)]('Subscribed\x20Events:',_0x53bc5b);let _0x27233e=b[_0x16a533(0x3b3)](_0x16a533(0x328))[_0x16a533(0x1d7)],_0x5db6f3=_0x1d1e1c[_0x16a533(0x482)][_0x16a533(0x2d4)];if(console['log'](_0x16a533(0x2e8),_0x5db6f3),_0x27233e[_0x16a533(0x2b9)]!==_0x5db6f3){console[_0x16a533(0x48e)](_0x16a533(0x560));try{let _0x3c01bd=await ce[_0x16a533(0x534)][_0x16a533(0x54e)](_0x21276d);if(console['log'](_0x16a533(0x677),_0x3c01bd),!_0x3c01bd||_0x3c01bd[_0x16a533(0x2d4)]!==_0x5db6f3)return console[_0x16a533(0x48e)]('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x168686[_0x16a533(0x419)](0x191)[_0x16a533(0x644)](_0x16a533(0x61e));}catch(_0x13afde){return console[_0x16a533(0x4e3)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x13afde),_0x168686[_0x16a533(0x419)](0x191)[_0x16a533(0x644)](_0x16a533(0x75));}}if(!await We(_0x21276d))return _0x168686[_0x16a533(0x419)](0x194)['send']('Instância\x20não\x20encontrada.');_0x168686[_0x16a533(0x4ec)]('Content-Type',_0x16a533(0xb3)),_0x168686[_0x16a533(0x4ec)](_0x16a533(0x43a),_0x16a533(0x4d4)),_0x168686[_0x16a533(0x4ec)](_0x16a533(0x38e),_0x16a533(0x449)),_0x168686[_0x16a533(0x224)]();let _0x5c6997='data:\x20'+JSON[_0x16a533(0x455)]({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x168686[_0x16a533(0x5ec)](_0x5c6997),ro(_0x21276d,_0xedac4b,_0x168686,_0x53bc5b),_0x1d1e1c['on'](_0x16a533(0x320),()=>{const _0xf12f25=_0x16a533;console[_0xf12f25(0x48e)]('Connection\x20closed\x20for\x20instance:\x20'+_0x21276d),io(_0x21276d,_0xedac4b);});}),vt[a0_0x146a96(0x3b3)](a0_0x146a96(0x229),(_0x327040,_0x2ad2b9)=>{const _0x197da0=a0_0x146a96;let _0x127b2=no();_0x2ad2b9[_0x197da0(0x51b)](_0x127b2);})[a0_0x146a96(0x3b3)]('/',(_0xf41b5c,_0x536ea4)=>{const _0x34792a=a0_0x146a96;let _0x213c4d=b[_0x34792a(0x3b3)]('SSL_CONF'),_0xaf2576=_0x213c4d&&_0x213c4d['FULLCHAIN'][_0x34792a(0x5d7)]('/')[0x4];if(_0xaf2576){let _0x470633=encodeURIComponent(_0x34792a(0xee)+_0xaf2576);_0x536ea4[_0x34792a(0x310)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x470633);}else _0x536ea4['redirect'](_0x34792a(0x394));})[a0_0x146a96(0x50f)]('/exit',...te,async(_0x18a185,_0x30e486)=>{const _0x3de326=a0_0x146a96;try{console[_0x3de326(0x48e)](_0x3de326(0x83)),_0x30e486[_0x3de326(0x419)](0xc8)[_0x3de326(0x51b)]({'message':_0x3de326(0x471)}),_0x30e486['on'](_0x3de326(0x18d),()=>process[_0x3de326(0x2fe)](0x0));}catch(_0x23d7d4){console[_0x3de326(0x4e3)](_0x3de326(0x5f8),_0x23d7d4),_0x30e486[_0x3de326(0x419)](0x1f4)[_0x3de326(0x51b)]({'message':_0x3de326(0x358)});}})[a0_0x146a96(0x50f)]('/config',...te,async(_0x271d37,_0x22e5fb)=>{const _0x1a421c=a0_0x146a96;try{let _0x187558=_0x271d37['body'];await we[_0x1a421c(0x5af)]({},{'$set':_0x187558},{'upsert':!0x0});let _0x141cbb=await we[_0x1a421c(0x592)]();_0x22e5fb['json'](_0x141cbb);}catch(_0x54cdcb){_0x22e5fb['status'](0x190)['send'](_0x54cdcb[_0x1a421c(0x404)]);}})['get']('/config',...te,async(_0x2928a8,_0x5662b8)=>{const _0x2c2188=a0_0x146a96;try{let _0x4455f0=await we[_0x2c2188(0x592)]();if(!_0x4455f0)return _0x5662b8[_0x2c2188(0x51b)]({});_0x5662b8[_0x2c2188(0x51b)](_0x4455f0);}catch(_0x4a1033){_0x5662b8['status'](0x1f4)['send'](_0x4a1033['message']);}})[a0_0x146a96(0x4e6)](a0_0x146a96(0x1a9),new ct(b,...te)['router'])[a0_0x146a96(0x4e6)](a0_0x146a96(0x2e0),new bt(...te)[a0_0x146a96(0x63b)])[a0_0x146a96(0x4e6)](a0_0x146a96(0x295),new Xe(...te)[a0_0x146a96(0x63b)])['use'](a0_0x146a96(0x5ce),new nt(...te)[a0_0x146a96(0x63b)])[a0_0x146a96(0x4e6)](a0_0x146a96(0x4a6),new Et(...te)['router'])[a0_0x146a96(0x4e6)]('/automate',new Ct(...te)[a0_0x146a96(0x63b)]);var m=class{constructor(..._0x3ba6ce){const _0x3189e6=a0_0x146a96;throw{'status':0x190,'error':_0x3189e6(0x4fc),'message':_0x3ba6ce['length']>0x0?_0x3ba6ce:void 0x0};}},ee=class{constructor(..._0x163e15){const _0x3854c1=a0_0x146a96;throw{'status':0x191,'error':_0x3854c1(0x552),'message':_0x163e15['length']>0x0?_0x163e15:void 0x0};}},K=class{constructor(..._0x457cb2){const _0x3471ac=a0_0x146a96;throw{'status':0x193,'error':_0x3471ac(0x44b),'message':_0x457cb2[_0x3471ac(0x29f)]>0x0?_0x457cb2:void 0x0};}},j=class{constructor(..._0x511942){const _0x260e85=a0_0x146a96;throw{'status':0x194,'error':_0x260e85(0x622),'message':_0x511942[_0x260e85(0x29f)]>0x0?_0x511942:void 0x0};}},O=class{constructor(..._0xacdefa){const _0x455726=a0_0x146a96;throw{'status':0x1f4,'error':_0x455726(0x5de),'message':_0xacdefa['length']>0x0?_0xacdefa:void 0x0};}},ue=require(a0_0x146a96(0xd2));async function ys(_0x494781){const _0x379f12=a0_0x146a96;let _0x22a8a8=new v(ys[_0x379f12(0x68a)]),_0x5125ce=N['getClient'](),_0x35f845=_0x5125ce['db'](b[_0x379f12(0x3b3)](_0x379f12(0x56f))[_0x379f12(0x438)][_0x379f12(0x156)]+_0x379f12(0x202))[_0x379f12(0x1da)](_0x494781),_0x3673f2=async(_0x38da05,_0x3acddc)=>{const _0x184956=_0x379f12;try{return await _0x5125ce[_0x184956(0x4da)](),await _0x35f845['replaceOne']({'_id':_0x3acddc},JSON['parse'](JSON[_0x184956(0x455)](_0x38da05,ue[_0x184956(0x132)][_0x184956(0x4c3)])),{'upsert':!0x0});}catch{}},_0x13eeef=async _0x21f4c0=>{const _0x4d6338=_0x379f12;try{await _0x5125ce[_0x4d6338(0x4da)]();let _0x2a1e08=await _0x35f845[_0x4d6338(0x592)]({'_id':_0x21f4c0}),_0x54358f=JSON[_0x4d6338(0x455)](_0x2a1e08);return JSON['parse'](_0x54358f,ue[_0x4d6338(0x132)]['reviver']);}catch{}},_0x15a684=async _0x3f7781=>{const _0x2165e9=_0x379f12;try{return await _0x5125ce[_0x2165e9(0x4da)](),await _0x35f845[_0x2165e9(0x3ba)]({'_id':_0x3f7781});}catch{}},_0x35b8c1=await _0x13eeef(_0x379f12(0x387))||(0x0,ue[_0x379f12(0x9d)])();return{'state':{'creds':_0x35b8c1,'keys':{'get':async(_0x224629,_0x10a760)=>{const _0x1228c6=_0x379f12;let _0x30c517={};return await Promise[_0x1228c6(0x491)](_0x10a760['map'](async _0xe09cba=>{const _0x1b4f61=_0x1228c6;let _0x4d4979=await _0x13eeef(_0x224629+'-'+_0xe09cba);_0x224629===_0x1b4f61(0x5b7)&&_0x4d4979&&(_0x4d4979=ue[_0x1b4f61(0xb6)][_0x1b4f61(0x587)]['AppStateSyncKeyData'][_0x1b4f61(0x42d)](_0x4d4979)),_0x30c517[_0xe09cba]=_0x4d4979;})),_0x30c517;},'set':async _0x1ae8a4=>{const _0x5cfe43=_0x379f12;let _0x59fb74=[];for(let _0x5379aa in _0x1ae8a4)for(let _0x2a2875 in _0x1ae8a4[_0x5379aa]){let _0x473962=_0x1ae8a4[_0x5379aa][_0x2a2875],_0x3e3615=_0x5379aa+'-'+_0x2a2875;_0x59fb74[_0x5cfe43(0x260)](_0x473962?_0x3673f2(_0x473962,_0x3e3615):_0x15a684(_0x3e3615));}await Promise[_0x5cfe43(0x491)](_0x59fb74);}}},'saveCreds':async()=>_0x3673f2(_0x35b8c1,'creds')};}var Es=R(require(a0_0x146a96(0x575))),Cs=R(require('node-cache')),Tt=require(a0_0x146a96(0xd2)),uo=require(a0_0x146a96(0x2ad)),Rt=require('@whiskeysockets/baileys'),Nt;function pr(_0x3399be){const _0x2d33ff=a0_0x146a96;return Nt||(Nt=(0x0,uo[_0x2d33ff(0x108)])({'url':_0x3399be[_0x2d33ff(0xbb)]}),Nt[_0x2d33ff(0x4da)]()),Nt;}var oe=class c{constructor(_0x127358,_0x12951b){const _0x5a7225=a0_0x146a96;this[_0x5a7225(0x5b6)]=_0x127358,this[_0x5a7225(0x381)]=_0x12951b,this[_0x5a7225(0x2dd)]=new v(c[_0x5a7225(0x68a)]),this[_0x5a7225(0x599)]=pr(_0x127358);}set[a0_0x146a96(0x226)](_0x2462dd){const _0xaa8058=a0_0x146a96;this[_0xaa8058(0x381)]=_0x2462dd;}async['instanceKeys'](){const _0x410b4b=a0_0x146a96;try{return await this[_0x410b4b(0x599)][_0x410b4b(0x206)]([_0x410b4b(0x379),this[_0x410b4b(0x5b6)][_0x410b4b(0x6c9)]+':*']);}catch(_0x158ea4){this[_0x410b4b(0x2dd)][_0x410b4b(0x4e3)](_0x158ea4);}}async['writeData'](_0x241047,_0x5d2808){const _0x1f8ee2=a0_0x146a96;try{let _0x24dab5=JSON['stringify'](_0x5d2808,Rt[_0x1f8ee2(0x132)][_0x1f8ee2(0x4c3)]);return await this[_0x1f8ee2(0x599)]['hSet'](this[_0x1f8ee2(0x5b6)][_0x1f8ee2(0x6c9)]+':'+this[_0x1f8ee2(0x381)],_0x241047,_0x24dab5);}catch(_0x52a25e){this[_0x1f8ee2(0x2dd)][_0x1f8ee2(0x4e3)](_0x52a25e);}}async[a0_0x146a96(0x14a)](){const _0x5bda40=a0_0x146a96;try{let _0x32523f=await this[_0x5bda40(0x599)]['hGetAll'](this[_0x5bda40(0x5b6)][_0x5bda40(0x6c9)]+':'+this[_0x5bda40(0x381)]);if(_0x32523f){for(let _0x4756d3 in _0x32523f)Object[_0x5bda40(0x3f9)][_0x5bda40(0x2b6)]['call'](_0x32523f,_0x4756d3)&&(_0x32523f[_0x4756d3]=JSON[_0x5bda40(0xdd)](_0x32523f[_0x4756d3],Rt[_0x5bda40(0x132)][_0x5bda40(0x6ab)]));return _0x32523f;}}catch(_0xffd2a7){this[_0x5bda40(0x2dd)]['error'](_0xffd2a7);}}async[a0_0x146a96(0x4a9)](_0x2540a7){const _0x1e304e=a0_0x146a96;try{let _0x5116bc=await this[_0x1e304e(0x599)]['hGet'](this[_0x1e304e(0x5b6)][_0x1e304e(0x6c9)]+':'+this[_0x1e304e(0x381)],_0x2540a7);if(_0x5116bc)return JSON[_0x1e304e(0xdd)](_0x5116bc,Rt[_0x1e304e(0x132)][_0x1e304e(0x6ab)]);}catch(_0xf8ee0f){this[_0x1e304e(0x2dd)][_0x1e304e(0x4e3)](_0xf8ee0f);}}async[a0_0x146a96(0x24e)](_0x5c514c){const _0x2e6888=a0_0x146a96;try{return await this[_0x2e6888(0x599)][_0x2e6888(0x100)](this['redisEnv'][_0x2e6888(0x6c9)]+':'+this['instanceName'],_0x5c514c);}catch(_0x24cd81){this[_0x2e6888(0x2dd)][_0x2e6888(0x4e3)](_0x24cd81);}}async[a0_0x146a96(0x3dc)](_0x4b94a7){const _0x56e9ed=a0_0x146a96;try{return await this[_0x56e9ed(0x599)][_0x56e9ed(0x32f)](_0x4b94a7||this[_0x56e9ed(0x5b6)][_0x56e9ed(0x6c9)]+':'+this['instanceName']);}catch(_0x386fc8){this[_0x56e9ed(0x2dd)]['error'](_0x386fc8);}}};async function bs(_0x9f39e,_0x4b3162){const _0x5a5e94=a0_0x146a96;let _0xbd220=new v(bs[_0x5a5e94(0x68a)]),_0x574a12=new oe(_0x9f39e,_0x4b3162),_0x5e4078=async(_0x5ab4ec,_0x370ff7)=>{const _0x16391f=_0x5a5e94;try{return await _0x574a12[_0x16391f(0x127)](_0x370ff7,_0x5ab4ec);}catch(_0x910b0d){return _0xbd220['error']({'localError':_0x16391f(0x127),'error':_0x910b0d});}},_0x17c27a=async _0x5d39f2=>{const _0x5c52b1=_0x5a5e94;try{return await _0x574a12[_0x5c52b1(0x4a9)](_0x5d39f2);}catch(_0x13ce6c){_0xbd220[_0x5c52b1(0x4e3)]({'readData':_0x5c52b1(0x127),'error':_0x13ce6c});return;}},_0x240330=async _0x14a169=>{const _0x43a801=_0x5a5e94;try{return await _0x574a12['removeData'](_0x14a169);}catch(_0x248bf2){_0xbd220[_0x43a801(0x4e3)]({'readData':_0x43a801(0x24e),'error':_0x248bf2});}},_0x2c6501=await _0x17c27a(_0x5a5e94(0x387))||(0x0,Tt[_0x5a5e94(0x9d)])();return{'state':{'creds':_0x2c6501,'keys':{'get':async(_0x16afd3,_0x22e90c)=>{const _0x5ab974=_0x5a5e94;let _0x421b49={};return await Promise[_0x5ab974(0x491)](_0x22e90c['map'](async _0x39bdb4=>{const _0x12430a=_0x5ab974;let _0x5de104=await _0x17c27a(_0x16afd3+'-'+_0x39bdb4);_0x16afd3===_0x12430a(0x5b7)&&_0x5de104&&(_0x5de104=Tt['proto'][_0x12430a(0x587)][_0x12430a(0x68e)][_0x12430a(0x42d)](_0x5de104)),_0x421b49[_0x39bdb4]=_0x5de104;})),_0x421b49;},'set':async _0x5504bf=>{const _0x26f1b6=_0x5a5e94;let _0x5c9c9f=[];for(let _0x22700d in _0x5504bf)for(let _0x1720df in _0x5504bf[_0x22700d]){let _0x31b401=_0x5504bf[_0x22700d][_0x1720df],_0x4b4349=_0x22700d+'-'+_0x1720df;_0x5c9c9f[_0x26f1b6(0x260)](_0x31b401?await _0x5e4078(_0x31b401,_0x4b4349):await _0x240330(_0x4b4349));}await Promise['all'](_0x5c9c9f);}}},'saveCreds':async()=>await _0x5e4078(_0x2c6501,_0x5a5e94(0x387))};}var L=R(require('fs')),Me=require(a0_0x146a96(0x17d)),xt=R(require(a0_0x146a96(0x2f8))),Dt=require(a0_0x146a96(0x264)),hr=a0_0x146a96(0x47f)[a0_0x146a96(0x546)](),At=hr[a0_0x146a96(0x5d7)]('\x0a')[a0_0x146a96(0x684)](_0x17ae19=>{const _0x19dc60=a0_0x146a96;let _0x3c19fc=_0x17ae19['split'](':');return{'host':_0x3c19fc[0x0],'port':_0x3c19fc[0x1],'username':_0x3c19fc[0x2],'password':_0x3c19fc[0x3],'protocol':_0x19dc60(0x408)};});function po(_0x15c41d){const _0x187b2=a0_0x146a96;let _0x22d713=At[_0x187b2(0x54e)](_0x3e4cee=>_0x3e4cee['host']===_0x15c41d);return _0x22d713||null;}function ho(){const _0x2f60b4=a0_0x146a96;if(At['length']===0x0)return null;let _0x24649f=Math[_0x2f60b4(0x6af)](Math[_0x2f60b4(0x421)]()*At['length']);return At[_0x24649f];}function go(_0x13256c){const _0xd2cb6d=a0_0x146a96;let _0x11e3a5=_0x22c478=>typeof _0x22c478==_0xd2cb6d(0x246)&&_0x22c478[_0xd2cb6d(0x29f)]>0x0,_0x1c41aa=_0x34a9eb=>{let _0x4e7bb3=parseInt(_0x34a9eb,0xa);return!isNaN(_0x4e7bb3)&&_0x4e7bb3>0x0&&_0x4e7bb3<=0xffff;},_0x3adde0=_0x3aef04=>typeof _0x3aef04==_0xd2cb6d(0x246)&&_0x3aef04[_0xd2cb6d(0x29f)]>0x0;return _0x13256c&&_0x11e3a5(_0x13256c[_0xd2cb6d(0xf8)])&&_0x1c41aa(_0x13256c[_0xd2cb6d(0x635)])&&_0x3adde0(_0x13256c[_0xd2cb6d(0x4dd)])&&_0x3adde0(_0x13256c['password'])&&(_0x13256c[_0xd2cb6d(0x188)]===_0xd2cb6d(0x408)||_0x13256c[_0xd2cb6d(0x188)]===_0xd2cb6d(0x2f6));}var Eo=a0_0x146a96(0x72),Ms,re=null,mo=null,He=null,gr=0x3,mr=null;async function fr(){const _0x16bd94=a0_0x146a96;let _0x18f9f2=await we[_0x16bd94(0x592)]();re=_0x18f9f2?.[_0x16bd94(0x47a)]??null,mr=_0x18f9f2?.[_0x16bd94(0x3e2)]??null,Eo=_0x18f9f2?.['connectedClient']??_0x16bd94(0x72),Ms=_0x18f9f2?.[_0x16bd94(0x26b)]??vs??'uazapi',console[_0x16bd94(0x48e)](_0x16bd94(0x483)),console[_0x16bd94(0x48e)](_0x18f9f2);}async function wr(){await fr();}wr();function $(_0x2071f1){const _0x5b3080=a0_0x146a96;if(_0x2071f1['viewOnceMessage']||_0x2071f1[_0x5b3080(0xa4)]){let _0x4e7eae=_0x2071f1[_0x5b3080(0xa9)]?_0x2071f1[_0x5b3080(0xa9)]['message']:_0x2071f1[_0x5b3080(0xa4)]['message'];if(_0x4e7eae)return(0x0,y['getContentType'])(_0x4e7eae);}return _0x2071f1['pollCreationMessageV3']?_0x5b3080(0x2c9):_0x2071f1['pollCreationMessageV2']?_0x5b3080(0x567):_0x2071f1[_0x5b3080(0x3c1)]?_0x5b3080(0x3c1):(0x0,y[_0x5b3080(0x5f2)])(_0x2071f1);}var fo={},ye=class c{constructor(_0xca04a7,_0x1bfa6b,_0x3c9529){const _0x1e2e4c=a0_0x146a96;this[_0x1e2e4c(0x598)]=_0xca04a7,this[_0x1e2e4c(0x632)]=_0x1bfa6b,this['repository']=_0x3c9529,this[_0x1e2e4c(0x10a)]=null,this[_0x1e2e4c(0x2dd)]=new v(c[_0x1e2e4c(0x68a)]),this['instance']={},this[_0x1e2e4c(0x673)]={},this[_0x1e2e4c(0x3b8)]={'state':_0x1e2e4c(0x320)},this[_0x1e2e4c(0x15b)]=(0x0,F[_0x1e2e4c(0x695)])(ae,_0x1e2e4c(0x2ab)),this['msgRetryCounterCache']=new Cs['default'](),this[_0x1e2e4c(0x1bc)]=new Cs[(_0x1e2e4c(0x68f))](),this[_0x1e2e4c(0x5fa)]=!0x1,this['webhookMap']={'status.instance':'/wa-connection-update','qrcode.updated':_0x1e2e4c(0x55f),'messages.upsert':_0x1e2e4c(0x38a),'messages.update':_0x1e2e4c(0x28f),'send.message':_0x1e2e4c(0x38a),'group.upsert':'/wa-groups','group.update':_0x1e2e4c(0x3e4),'group-participants.update':_0x1e2e4c(0x3e4),'connection.update':_0x1e2e4c(0x128),'messages.set':_0x1e2e4c(0x38a),'contacts.set':_0x1e2e4c(0x95),'contacts.upsert':_0x1e2e4c(0x95),'contacts.update':_0x1e2e4c(0x95),'presence.update':'/wa-presence','chats.set':_0x1e2e4c(0x19c),'chats.update':_0x1e2e4c(0x19c),'chats.upsert':_0x1e2e4c(0x19c),'chats.delete':_0x1e2e4c(0x19c)},this[_0x1e2e4c(0x607)]=0x0,this[_0x1e2e4c(0x521)]=[],this[_0x1e2e4c(0x688)]=0xa,this[_0x1e2e4c(0x479)]=0xea60,this[_0x1e2e4c(0x164)]=!0x1,this[_0x1e2e4c(0x397)]={'chats.upsert':async(_0x16eed0,_0x319add)=>{const _0x4a202e=_0x1e2e4c;let _0x1748f2=[];for await(let _0xf13ab2 of _0x16eed0)_0x1748f2[_0x4a202e(0x260)]({'_id':_0xf13ab2['id'],'owner':this[_0x4a202e(0x633)]['wuid'],'group':_0xf13ab2['id'][_0x4a202e(0x1ed)](_0x4a202e(0x1e6)),'name':_0xf13ab2[_0x4a202e(0x68a)]||_0xf13ab2[_0x4a202e(0x1a7)]||null,'contactname':null,'lastmsg':_0xf13ab2[_0x4a202e(0x5a2)]&&_0xf13ab2[_0x4a202e(0x5a2)]['toString']()['length']<0xd?_0xf13ab2['conversationTimestamp']*0x3e8:_0xf13ab2[_0x4a202e(0x5a2)]||null,'archived':_0xf13ab2[_0x4a202e(0x4c9)]||!0x1,'unreadcount':_0xf13ab2['unreadCount']||0x0});this['sendDataWebhook'](_0x4a202e(0x565),_0x1748f2);},'chats.update':async(_0x52f500,_0x34000b)=>{const _0x41cf06=_0x1e2e4c;for(let _0x3f5474 of _0x52f500){let _0x52aeac={'_id':_0x3f5474['id'],'owner':this[_0x41cf06(0x633)][_0x41cf06(0x4c4)],'group':_0x3f5474['id'][_0x41cf06(0x1ed)](_0x41cf06(0x1e6)),'name':_0x3f5474['name']||_0x3f5474['displayName'],'archived':_0x3f5474['archived'],'ephemeralExpiration':_0x3f5474[_0x41cf06(0x576)]},_0x5467ee=!0x1,_0x3cd048={};_0x52aeac[_0x41cf06(0x4c9)]!=null&&(this['logger'][_0x41cf06(0xb5)](this[_0x41cf06(0x381)]+'\x20('+this[_0x41cf06(0x633)][_0x41cf06(0x4c4)]+_0x41cf06(0x2a4)+_0x3f5474[_0x41cf06(0x4c9)]),_0x5467ee=!0x0,_0x3cd048[_0x41cf06(0x4c9)]=_0x3f5474[_0x41cf06(0x4c9)]),_0x3f5474[_0x41cf06(0x68a)]!=null&&(this[_0x41cf06(0x2dd)][_0x41cf06(0xb5)](this['instanceName']+'\x20('+this[_0x41cf06(0x633)]['wuid']+'):\x20teve\x20mudanças\x20chat.name:\x20'+_0x3f5474[_0x41cf06(0x68a)]),_0x5467ee=!0x0,_0x3cd048[_0x41cf06(0x68a)]=_0x3f5474[_0x41cf06(0x68a)]),_0x3f5474[_0x41cf06(0x1a7)]!=null&&(this[_0x41cf06(0x2dd)][_0x41cf06(0xb5)](this[_0x41cf06(0x381)]+'\x20('+this[_0x41cf06(0x633)]['wuid']+_0x41cf06(0x518)+_0x3f5474['displayName']),_0x5467ee=!0x0,_0x3cd048[_0x41cf06(0x68a)]=_0x3f5474[_0x41cf06(0x1a7)]);let _0x49f786;_0x5467ee&&(_0x49f786=await this[_0x41cf06(0x484)][_0x41cf06(0x657)][_0x41cf06(0x5af)]({'where':{'_id':_0x3f5474['id']}},_0x3cd048,this[_0x41cf06(0x633)][_0x41cf06(0x4c4)])),_0x49f786&&J(this[_0x41cf06(0x381)],'chats',{'chat':_0x49f786});}},'chats.delete':async _0xeef7ec=>{const _0x1d61d6=_0x1e2e4c;this[_0x1d61d6(0x3be)]('chats.delete',[..._0xeef7ec]);}},this[_0x1e2e4c(0x67d)]={'contacts.upsert':async(_0x23da83,_0x485899)=>{const _0x1d9a0b=_0x1e2e4c;let _0x5959ce=await this[_0x1d9a0b(0x484)][_0x1d9a0b(0x515)][_0x1d9a0b(0x54e)]({'where':{}},this[_0x1d9a0b(0x633)][_0x1d9a0b(0x4c4)]),_0x1d57b1=[];for await(let _0x22fcfb of _0x23da83)_0x5959ce['find'](_0x5648a1=>_0x5648a1[_0x1d9a0b(0x517)]===_0x22fcfb['id'])||_0x1d57b1[_0x1d9a0b(0x260)]({'_id':_0x22fcfb['id'],'pushName':_0x22fcfb?.[_0x1d9a0b(0x68a)]||_0x22fcfb?.[_0x1d9a0b(0x50e)],'owner':this[_0x1d9a0b(0x633)][_0x1d9a0b(0x4c4)]});this[_0x1d9a0b(0x3be)]('contacts.upsert',_0x1d57b1),await this[_0x1d9a0b(0x484)][_0x1d9a0b(0x515)][_0x1d9a0b(0x334)](_0x1d57b1);},'contacts.update':async(_0x545db3,_0xafd6cd)=>{const _0x4570a0=_0x1e2e4c;let _0x28832a=[];for await(let _0x299ecf of _0x545db3)_0x28832a[_0x4570a0(0x260)]({'_id':_0x299ecf['id'],'pushName':_0x299ecf?.['name']??_0x299ecf?.[_0x4570a0(0x50e)],'owner':this[_0x4570a0(0x633)]['wuid']});this[_0x4570a0(0x3be)]('contacts.update',_0x28832a);}},this['messageHandle']={'messaging-history.set':async({messages:_0x346fc0,chats:_0x188ef2,isLatest:_0x43a998},_0x5e576e)=>{const _0x242260=_0x1e2e4c;if(_0x43a998){let _0x4eda35=await Promise[_0x242260(0x491)](_0x188ef2[_0x242260(0x684)](async _0x5db970=>({'_id':_0x5db970['id'],'owner':this[_0x242260(0x633)][_0x242260(0x4c4)],'group':_0x5db970['id'][_0x242260(0x1ed)](_0x242260(0x1e6)),'name':_0x5db970[_0x242260(0x68a)]||_0x5db970[_0x242260(0x1a7)]||null,'contactname':null,'lastmsg':_0x5db970['conversationTimestamp']&&_0x5db970[_0x242260(0x5a2)][_0x242260(0xc6)]()[_0x242260(0x29f)]<0xd?_0x5db970[_0x242260(0x5a2)]*0x3e8:_0x5db970[_0x242260(0x5a2)]||null,'archived':_0x5db970[_0x242260(0x4c9)]||!0x1,'unreadcount':_0x5db970[_0x242260(0x2a7)]||0x0})));this[_0x242260(0x3be)](_0x242260(0x71),_0x4eda35),await this[_0x242260(0x42f)](_0x4eda35,_0x5e576e);}let _0x3397a8=[],_0x143244=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x599e72]of Object['entries'](_0x346fc0)){if(_0x599e72[_0x242260(0x404)]?.[_0x242260(0x2e3)]||_0x599e72[_0x242260(0x404)]?.[_0x242260(0x97)]||!_0x599e72['message']||_0x599e72[_0x242260(0xce)][_0x242260(0x291)]===_0x242260(0x399)||(Es[_0x242260(0x68f)][_0x242260(0x6bd)](_0x599e72?.[_0x242260(0xc1)])&&(_0x599e72['messageTimestamp']=_0x599e72[_0x242260(0xc1)]?.['toNumber']()),_0x599e72[_0x242260(0xc1)]&&_0x599e72[_0x242260(0xc1)][_0x242260(0xc6)]()[_0x242260(0x29f)]<0xd&&(_0x599e72[_0x242260(0xc1)]=_0x599e72[_0x242260(0xc1)]*0x3e8),_0x599e72[_0x242260(0xc1)]<_0x143244))continue;let {message_normalized:_0x4dd4a2}=this[_0x242260(0x669)](_0x599e72[_0x242260(0x404)],$(_0x599e72[_0x242260(0x404)]),null);Object['keys'](_0x4dd4a2)[_0x242260(0x29f)]>0x0&&_0x3397a8[_0x242260(0x260)]({'_id':_0x599e72['key']['id'],'key':_0x599e72[_0x242260(0xce)],'pushName':_0x599e72[_0x242260(0x3c0)],'participant':_0x599e72['participant'],'message':{..._0x599e72[_0x242260(0x404)]},'messageType':$(_0x599e72[_0x242260(0x404)]),'message_normalized':{'key':_0x599e72[_0x242260(0xce)],'pushName':_0x599e72[_0x242260(0x3c0)],'messageTimestamp':_0x599e72[_0x242260(0xc1)],..._0x4dd4a2},'messageTimestamp':_0x599e72[_0x242260(0xc1)],'owner':this[_0x242260(0x633)][_0x242260(0x4c4)]});}_0x5e576e['ENABLED']&&_0x3397a8[_0x242260(0x29f)]>0x0&&(this[_0x242260(0x2dd)]['verbose'](this[_0x242260(0x381)]+'\x20('+this['instance'][_0x242260(0x4c4)]+_0x242260(0x43f)+_0x3397a8[_0x242260(0x29f)]+_0x242260(0x142)+this[_0x242260(0x633)][_0x242260(0x4c4)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0x242260(0x484)][_0x242260(0x404)]['insert']([..._0x3397a8],this[_0x242260(0x633)][_0x242260(0x4c4)])),this[_0x242260(0x3be)]('messages.set',[..._0x3397a8]),_0x346fc0=void 0x0;},'messages.upsert':async({messages:_0x54a47d,type:_0x37a2d2},_0x4e0203)=>{const _0x329b95=_0x1e2e4c;let _0x109ac6=_0x54a47d[0x0];if(_0x37a2d2!==_0x329b95(0xfd)||!_0x109ac6?.[_0x329b95(0x404)]||_0x109ac6['message']?.[_0x329b95(0x2e3)]||_0x109ac6['message'][_0x329b95(0x97)]||_0x109ac6[_0x329b95(0xce)][_0x329b95(0x291)]===_0x329b95(0x399))return;let _0x1dc4c2=null,_0x37c5d6=null;try{_0x1dc4c2=await this[_0x329b95(0x9e)](_0x109ac6),_0x37c5d6=_0x1dc4c2?_0x1dc4c2[_0x329b95(0x695)](','):null;}catch(_0x1a0539){this[_0x329b95(0x2dd)][_0x329b95(0xb5)](this[_0x329b95(0x381)]+'\x20('+this['instance'][_0x329b95(0x4c4)]+'):\x20'+(_0x1a0539 instanceof Error?_0x1a0539[_0x329b95(0x404)]:JSON[_0x329b95(0x455)](_0x1a0539,null,0x2))),_0x37c5d6=_0x329b95(0x4ee);}if(this[_0x329b95(0x599)]['sendPresenceUpdate'](_0x329b95(0x433)),Es[_0x329b95(0x68f)][_0x329b95(0x6bd)](_0x109ac6[_0x329b95(0xc1)])&&(_0x109ac6[_0x329b95(0xc1)]=_0x109ac6[_0x329b95(0xc1)]?.[_0x329b95(0x2b7)]()),this[_0x329b95(0x673)]?.[_0x329b95(0x647)]&&_0x109ac6[_0x329b95(0xce)][_0x329b95(0x291)][_0x329b95(0x322)](_0x329b95(0x1e6))){this[_0x329b95(0x2dd)][_0x329b95(0xb5)]('group\x20ignored');return;}_0x109ac6[_0x329b95(0xc1)]&&_0x109ac6[_0x329b95(0xc1)][_0x329b95(0xc6)]()[_0x329b95(0x29f)]<0xd&&(_0x109ac6[_0x329b95(0xc1)]=_0x109ac6[_0x329b95(0xc1)]*0x3e8);let _0x5d5828=_0x109ac6[_0x329b95(0x404)],{messageContent:_0x16176f,message_normalized:_0x2a56af}=this[_0x329b95(0x669)](_0x5d5828,$(_0x109ac6[_0x329b95(0x404)]),_0x37c5d6),_0x39f7e7={'_id':_0x109ac6['key']['id'],'key':_0x109ac6[_0x329b95(0xce)],'pushName':_0x109ac6[_0x329b95(0x3c0)],'message':{..._0x109ac6[_0x329b95(0x404)]},'messageType':$(_0x109ac6[_0x329b95(0x404)]),'message_normalized':{'key':_0x109ac6[_0x329b95(0xce)],'pushName':_0x109ac6[_0x329b95(0x3c0)],'messageTimestamp':_0x109ac6['messageTimestamp'],'source':(0x0,y[_0x329b95(0x584)])(_0x109ac6['key']['id']),..._0x2a56af},'messageTimestamp':_0x109ac6[_0x329b95(0xc1)],'owner':this['instance'][_0x329b95(0x4c4)],'source':(0x0,y[_0x329b95(0x584)])(_0x109ac6[_0x329b95(0xce)]['id'])};_0x16176f||(console[_0x329b95(0x4e3)](_0x329b95(0x448)),this[_0x329b95(0x2dd)][_0x329b95(0x48e)](_0x39f7e7)),this[_0x329b95(0x2dd)][_0x329b95(0x48e)](this[_0x329b95(0x381)]+'\x20('+this[_0x329b95(0x633)][_0x329b95(0x4c4)]+_0x329b95(0x7f)+_0x39f7e7[_0x329b95(0x4f2)]+_0x329b95(0x60d)+_0x39f7e7[_0x329b95(0xce)]?.[_0x329b95(0x34d)]+'\x20['+_0x39f7e7[_0x329b95(0xce)]?.[_0x329b95(0x291)]['replace'](_0x329b95(0x3a2),'')+']:'),_0x39f7e7['message_normalized']?.['text']&&this['logger'][_0x329b95(0x48e)](_0x39f7e7['message_normalized']?.[_0x329b95(0x501)]),await this[_0x329b95(0x484)]['message'][_0x329b95(0x334)]([_0x39f7e7],this[_0x329b95(0x633)][_0x329b95(0x4c4)]),this[_0x329b95(0x3be)]('messages.upsert',_0x39f7e7),J(this[_0x329b95(0x381)],_0x329b95(0x55a),{'message':_0x39f7e7}),_0x109ac6['key'][_0x329b95(0x291)]!==_0x329b95(0x399)&&await this[_0x329b95(0x11c)](_0x4e0203,_0x39f7e7,'MESSAGES_UPSERT');},'messages.update':async(_0x34f7c4,_0x539fc9)=>{const _0x10668f=_0x1e2e4c;let _0xc6dc4={0x0:_0x10668f(0x45f),0x1:'PENDING',0x2:_0x10668f(0x601),0x3:_0x10668f(0x3fc),0x4:_0x10668f(0x516),0x5:'PLAYED'};for await(let {key:_0x36cfb0,update:_0x37dd94}of _0x34f7c4){if(this[_0x10668f(0x673)]?.[_0x10668f(0x647)]&&_0x36cfb0['remoteJid'][_0x10668f(0x322)](_0x10668f(0x1e6))){this[_0x10668f(0x2dd)]['verbose'](_0x10668f(0x4a5));return;}if(_0x36cfb0[_0x10668f(0x291)]!==_0x10668f(0x399)){let _0x51ff42=Date[_0x10668f(0x116)](),_0x2fbc05;_0x37dd94[_0x10668f(0x404)]===null&&_0x37dd94[_0x10668f(0x419)]===void 0x0?_0x2fbc05=_0x10668f(0x288):_0x2fbc05=_0xc6dc4[_0x37dd94[_0x10668f(0x419)]];let _0x184718=_0x36cfb0[_0x10668f(0x291)][_0x10668f(0x3c8)](/:\d{1,2}@/g,'@'),_0x271e26={..._0x36cfb0,'remoteJid':_0x184718,'status':_0x2fbc05,'datetime':_0x51ff42,'owner':this[_0x10668f(0x633)][_0x10668f(0x4c4)]};this[_0x10668f(0x3be)](_0x10668f(0x51f),_0x271e26),await this[_0x10668f(0x2f7)](_0x36cfb0,_0x271e26);}}},'labels.association':async({type:_0x50caa4,association:_0x3ca0c5})=>{const _0x5da38b=_0x1e2e4c;if(_0x3ca0c5[_0x5da38b(0x6a6)]===_0x5da38b(0x5ff)){let _0x36faad,_0x1d46a3=0x0;for(;!_0x36faad&&_0x1d46a3<this[_0x5da38b(0x6a4)];)_0x36faad=await this[_0x5da38b(0x484)][_0x5da38b(0x657)][_0x5da38b(0x592)]({'where':{'_id':_0x3ca0c5['chatId']}},this[_0x5da38b(0x633)][_0x5da38b(0x4c4)]),_0x36faad||(_0x1d46a3++,console['log']('Chat\x20'+_0x3ca0c5[_0x5da38b(0x5dd)]+_0x5da38b(0x1f3)+this[_0x5da38b(0x53c)]+_0x5da38b(0x4b1)+_0x1d46a3+'/'+this['delayChatLabel_MAX_RETRIES']+')'),await this[_0x5da38b(0x309)](this[_0x5da38b(0x53c)]));if(!_0x36faad){console[_0x5da38b(0x4e3)](_0x5da38b(0x5c8)+_0x3ca0c5['chatId']+'\x20after\x20'+this['delayChatLabel_MAX_RETRIES']+_0x5da38b(0x1c5));return;}switch(_0x50caa4){case _0x5da38b(0x4a8):console[_0x5da38b(0x48e)](_0x3ca0c5),await this[_0x5da38b(0x484)]['chat'][_0x5da38b(0x5af)]({'where':{'_id':_0x3ca0c5['chatId']}},{'leadInfo.etiquetas':_0x3ca0c5['labelId']},this['instance'][_0x5da38b(0x4c4)],void 0x0,'$addToSet');break;case _0x5da38b(0x691):console[_0x5da38b(0x48e)](_0x3ca0c5),await this[_0x5da38b(0x484)][_0x5da38b(0x657)]['updateOne']({'where':{'_id':_0x3ca0c5[_0x5da38b(0x5dd)]}},{'leadInfo.etiquetas':_0x3ca0c5['labelId']},this['instance']['wuid'],void 0x0,'$pull');break;default:console['error'](_0x5da38b(0x44d)+_0x50caa4+']');}}},'labels.edit':async _0x3e65dd=>{const _0x1b27b3=_0x1e2e4c;if(!_0x3e65dd||!_0x3e65dd['id']){console[_0x1b27b3(0x4e3)](_0x1b27b3(0xb7));return;}if(!_0x3e65dd['deleted']){let _0x426770=[_0x1b27b3(0x240),_0x1b27b3(0x220),_0x1b27b3(0xaa),_0x1b27b3(0x117),'#9ab6c1',_0x1b27b3(0x48c),_0x1b27b3(0xc2),_0x1b27b3(0x1df),_0x1b27b3(0x34b),_0x1b27b3(0x513),_0x1b27b3(0x594),_0x1b27b3(0x564),_0x1b27b3(0x53d),_0x1b27b3(0x228),_0x1b27b3(0x2e7),_0x1b27b3(0x5ab),_0x1b27b3(0x8b),_0x1b27b3(0x25f),_0x1b27b3(0x210),_0x1b27b3(0x3c3)],_0x308261;typeof _0x3e65dd[_0x1b27b3(0x4d0)]=='number'&&_0x3e65dd[_0x1b27b3(0x4d0)]>=0x0&&_0x3e65dd[_0x1b27b3(0x4d0)]<_0x426770[_0x1b27b3(0x29f)]?_0x308261=_0x426770[_0x3e65dd[_0x1b27b3(0x4d0)]]:(console[_0x1b27b3(0x4e3)](_0x1b27b3(0x247),_0x3e65dd[_0x1b27b3(0x4d0)]),_0x308261='#000000');let _0x3e8c6d={'_id':_0x3e65dd['id'],'colorHex':_0x308261,'color':_0x3e65dd?.[_0x1b27b3(0x4d0)],'name':_0x3e65dd?.['name'],'owner':this[_0x1b27b3(0x633)][_0x1b27b3(0x4c4)]};await this[_0x1b27b3(0x484)][_0x1b27b3(0x660)][_0x1b27b3(0x5af)]({'where':{'_id':_0x3e65dd['id']}},_0x3e8c6d,this['instance'][_0x1b27b3(0x4c4)]),console[_0x1b27b3(0x48e)]('Rótulo\x20atualizado:',_0x3e65dd);}_0x3e65dd[_0x1b27b3(0x2aa)]&&(await this['repository'][_0x1b27b3(0x660)]['delete']({'where':{'_id':_0x3e65dd['id']}},this[_0x1b27b3(0x633)][_0x1b27b3(0x4c4)]),console[_0x1b27b3(0x48e)]('Rótulo\x20deletado:',_0x3e65dd['id']));}},this[_0x1e2e4c(0x6a7)]={'groups.upsert':_0x38595a=>{const _0x2ab742=_0x1e2e4c;this[_0x2ab742(0x3be)](_0x2ab742(0x286),_0x38595a);},'groups.update':_0x169cba=>{const _0x495894=_0x1e2e4c;this['sendDataWebhook'](_0x495894(0x2f5),_0x169cba);},'group-participants.update':_0x278ccc=>{const _0x5607cd=_0x1e2e4c;this[_0x5607cd(0x3be)](_0x5607cd(0x5f4),_0x278ccc);}},this[_0x1e2e4c(0x6a4)]=0x5,this[_0x1e2e4c(0x53c)]=0x1388,this['processPollUpdateMessage']=async _0x3c7d9a=>{const _0x291847=_0x1e2e4c;if(_0x3c7d9a[_0x291847(0x404)]?.['pollUpdateMessage']){let _0x4b6ea6=await this[_0x291847(0x3ea)](_0x3c7d9a['message']['pollUpdateMessage']['pollCreationMessageKey'],!0x0);if(_0x4b6ea6){let _0xc2f61c=_0x4b6ea6[_0x291847(0xce)][_0x291847(0x34d)]?this[_0x291847(0x633)][_0x291847(0x4c4)]+_0x291847(0x3a2):_0x4b6ea6[_0x291847(0xce)][_0x291847(0x54f)]||_0x4b6ea6['key'][_0x291847(0x291)],_0x375adb=_0x4b6ea6[_0x291847(0xce)]['id'],_0xb96363=_0x4b6ea6[_0x291847(0x404)],_0x1391a9=Buffer['from'](_0xb96363[_0x291847(0x198)][_0x291847(0x60a)][_0x291847(0xc6)](_0x291847(0x5e6)),_0x291847(0x5e6)),_0x23af54=(0x0,y[_0x291847(0x616)])(_0x3c7d9a[_0x291847(0x404)][_0x291847(0x2f4)]['vote'],{'pollCreatorJid':_0xc2f61c,'pollMsgId':_0x375adb,'pollEncKey':_0x1391a9,'voterJid':_0x3c7d9a[_0x291847(0xce)][_0x291847(0x34d)]?this[_0x291847(0x633)]['wuid']+_0x291847(0x3a2):_0x3c7d9a[_0x291847(0xce)]['remoteJid'][_0x291847(0x1ed)]('g.us')?_0x3c7d9a[_0x291847(0xce)][_0x291847(0x54f)]:_0x3c7d9a['key']['remoteJid']}),_0x2e0178=[],_0x2ba81f=_0x23af54[_0x291847(0x3ad)][_0x291847(0x684)](_0x112537=>Buffer[_0x291847(0x13c)](_0x112537)[_0x291847(0xc6)](_0x291847(0x5e6)));for(let {optionName:_0x555083}of _0xb96363['pollCreationMessage']?.[_0x291847(0x187)]||_0xb96363['pollCreationMessageV3']?.[_0x291847(0x187)]||_0xb96363[_0x291847(0x567)]?.[_0x291847(0x187)])_0x2ba81f[_0x291847(0x39c)]((0x0,y['sha256'])(Buffer[_0x291847(0x13c)](_0x555083))[_0x291847(0xc6)](_0x291847(0x5e6)))>-0x1&&_0x2e0178[_0x291847(0x260)](_0x555083);return _0x2e0178;}}return null;},this[_0x1e2e4c(0x669)]=(_0x1d3c27,_0x32f3d9,_0x3831d6)=>{const _0x27a3a2=_0x1e2e4c;try{let _0x50d99c=_0x32f3d9?_0x1d3c27[_0x32f3d9]:void 0x0,_0x267b41={},_0x141d4f=null,_0x5d207c=null,_0xd39130=null;if(_0x1d3c27[_0x27a3a2(0xa4)]?(_0x32f3d9=$(_0x1d3c27[_0x27a3a2(0xa4)][_0x27a3a2(0x404)]),_0x50d99c=_0x1d3c27['viewOnceMessageV2'][_0x27a3a2(0x404)][_0x32f3d9]):_0x1d3c27['viewOnceMessageV2Extension']?(_0x32f3d9=$(_0x1d3c27[_0x27a3a2(0x3c1)]['message']),_0x50d99c=_0x1d3c27[_0x27a3a2(0x3c1)][_0x27a3a2(0x404)][_0x32f3d9]):_0x1d3c27[_0x27a3a2(0xa9)]?(_0x32f3d9=$(_0x1d3c27[_0x27a3a2(0xa9)][_0x27a3a2(0x404)]),_0x50d99c=_0x1d3c27[_0x27a3a2(0xa9)][_0x27a3a2(0x404)][_0x32f3d9]):_0x1d3c27[_0x27a3a2(0x69b)]?(_0x32f3d9=$(_0x1d3c27['message']['ephemeralMessage'][_0x27a3a2(0x404)]),_0x50d99c=_0x1d3c27[_0x27a3a2(0x404)][_0x27a3a2(0x69b)][_0x27a3a2(0x404)][_0x32f3d9]):_0x1d3c27[_0x27a3a2(0xac)]?.[_0x27a3a2(0x404)]?.[_0x27a3a2(0x2e3)]?.[_0x27a3a2(0xac)]?(_0x32f3d9=$(_0x1d3c27[_0x27a3a2(0xac)]['message'][_0x27a3a2(0x2e3)][_0x27a3a2(0xac)]),_0x141d4f=_0x1d3c27[_0x27a3a2(0xac)][_0x27a3a2(0x404)][_0x27a3a2(0x2e3)][_0x27a3a2(0xce)]['id'],_0x50d99c=_0x1d3c27[_0x27a3a2(0xac)][_0x27a3a2(0x404)][_0x27a3a2(0x2e3)][_0x27a3a2(0xac)][_0x32f3d9]):_0x50d99c=_0x1d3c27[_0x32f3d9],!_0x32f3d9||!_0x50d99c)return console[_0x27a3a2(0x4e3)]('Unknown\x20message\x20type\x20or\x20empty\x20message',_0x1d3c27),{'messageType':_0x32f3d9,'messageContent':_0x50d99c,'message_normalized':{}};_0x1d3c27[_0x32f3d9]?.[_0x27a3a2(0x65a)]?.[_0x27a3a2(0x40c)]&&_0x1d3c27[_0x32f3d9]?.[_0x27a3a2(0x65a)]?.[_0x27a3a2(0x157)]&&(_0x5d207c=_0x1d3c27[_0x32f3d9][_0x27a3a2(0x65a)]['stanzaId']),_0x1d3c27['reactionMessage']&&(_0xd39130=_0x1d3c27['reactionMessage'][_0x27a3a2(0xce)]['id']);let _0x46b19b;if(_0x50d99c&&typeof _0x50d99c==_0x27a3a2(0x5e9)&&_0x27a3a2(0x5be)in _0x50d99c&&({pollCreationMessageKey:_0x46b19b}=_0x50d99c),_0x32f3d9==='documentWithCaptionMessage'){let _0xbe428b=_0x50d99c?.[_0x27a3a2(0x404)]?.[_0x27a3a2(0x275)];_0xbe428b&&(_0x50d99c=_0xbe428b);}if(_0x32f3d9===_0x27a3a2(0x46c)||_0x32f3d9===_0x27a3a2(0x567)||_0x32f3d9===_0x27a3a2(0x2c9)){let _0x20c178=_0x50d99c[_0x27a3a2(0x187)][_0x27a3a2(0x684)](_0x3bdb82=>_0x3bdb82[_0x27a3a2(0x32c)])[_0x27a3a2(0x695)]('|');_0x267b41[_0x27a3a2(0x364)]=_0x20c178;}let _0x12a0cf=_0x50d99c[_0x27a3a2(0x68a)]||_0x50d99c[_0x27a3a2(0x60e)]||_0x50d99c[_0x27a3a2(0x499)]||_0x50d99c[_0x27a3a2(0x1a7)];if(_0x32f3d9===_0x27a3a2(0x4e4)){_0x12a0cf=(_0x50d99c[_0x27a3a2(0x42e)]||'')+'\x0a'+(_0x50d99c[_0x27a3a2(0x5c9)]||'')+'\x0a'+(_0x50d99c[_0x27a3a2(0x4c5)]||'');let _0x316c09=this[_0x27a3a2(0x12e)](_0x50d99c[_0x27a3a2(0x453)]);_0x267b41[_0x27a3a2(0x364)]=_0x316c09;}if(_0x32f3d9===_0x27a3a2(0x5d9)&&(_0x3831d6=_0x50d99c[_0x27a3a2(0x42e)]),_0x50d99c[_0x27a3a2(0xbe)]){let _0x365f15=this[_0x27a3a2(0x526)](JSON[_0x27a3a2(0x455)](_0x50d99c['vcard'],null,0x2));_0x12a0cf=_0x12a0cf+'\x0a'+_0x365f15;}if(_0x50d99c){let {sections:_0x2eb690,listType:_0x5c2d85,displayName:_0x319e09,vcard:_0x4d8c06,contactVcard:_0x4cd4df,name:_0x2c9844,caption:_0x2a9bfa,conversation:_0x13a36b,pollCreationMessageKey:_0x1c3689,footerText:_0x208f07,contentText:_0x23ade4,pageCount:_0x3429cf,headerType:_0x4575f6,isAvatar:_0x392c34,isAnimated:_0x3d046d,fallbackLc:_0x22d2fb,fallbackLg:_0x47013b,namespace:_0xe4872,elementName:_0x5d9489,localizableParams:_0x1cf980,viewOnce:_0x4f88a8,height:_0x707e4c,width:_0x1054e2,key:_0x3f4feb,firstScanLength:_0x297019,firstScanSidecar:_0x4fa573,gifPlayback:_0x41bca0,gifAttribution:_0x3ace8e,midQualityFileSha256:_0x73457e,scansSidecar:_0x389286,streamingSidecar:_0x1534d1,thumbnailHeight:_0x20319a,thumbnailWidth:_0x5b8cb4,thumbnailEncSha256:_0x47e9c5,thumbnailDirectPath:_0x20a4fd,canonicalUrl:_0x53409d,matchedText:_0x100880,previewType:_0x2d2063,thumbnailSha256:_0x7d3c1c,deviceListMetadataVersion:_0x5242a2,inviteLinkGroupTypeV2:_0x1fee8d,interactiveAnnotations:_0x1eb393,scanLengths:_0xf6b4d5,jpegThumbnail:_0x5da843,url:_0x28cc21,mediaKeyTimestamp:_0x97c86c,waveform:_0x200ee9,stickerSentTs:_0x53b811,firstFrameLength:_0x384588,fileEncSha256:_0x354844,contextInfo:_0x392f31,firstFrameSidecar:_0x10d60b,directPath:_0x172933,fileSha256:_0x4afa7a,mediaKey:_0x1653f6,senderTimestampMs:_0x423293,..._0x5a8585}=_0x50d99c;(_0x32f3d9===_0x27a3a2(0x4e4)||_0x32f3d9===_0x27a3a2(0x5d9))&&(delete _0x5a8585[_0x27a3a2(0x42e)],delete _0x5a8585[_0x27a3a2(0x5c9)]),typeof _0x50d99c==_0x27a3a2(0x246)?_0x267b41={'text':_0x50d99c,'type':_0x32f3d9||_0x27a3a2(0x499),..._0x141d4f&&{'edited':_0x141d4f},..._0x5d207c&&{'quoted':_0x5d207c},..._0xd39130&&{'reaction':_0xd39130}}:_0x267b41={'text':_0x12a0cf,..._0x5a8585,..._0x32f3d9===_0x27a3a2(0x2f4)?{'poll_id':_0x50d99c[_0x27a3a2(0x5be)]['id'],'quoted':_0x50d99c[_0x27a3a2(0x5be)]['id'],'vote':_0x3831d6}:{},..._0x32f3d9===_0x27a3a2(0x5d9)?{'vote':_0x3831d6}:{},'type':_0x32f3d9,..._0x141d4f&&{'edited':_0x141d4f},..._0x5d207c&&{'quoted':_0x5d207c},..._0xd39130&&{'reaction':_0xd39130},...(_0x32f3d9===_0x27a3a2(0x46c)||_0x32f3d9===_0x27a3a2(0x567)||_0x32f3d9===_0x27a3a2(0x2c9)||_0x32f3d9===_0x27a3a2(0x4e4))&&{'convertedOptions':_0x267b41[_0x27a3a2(0x364)]}};}return{'messageType':_0x32f3d9,'messageContent':_0x50d99c,'message_normalized':_0x267b41};}catch(_0x3f3bb8){return console[_0x27a3a2(0x4e3)]('Erro\x20ao\x20normalizar\x20a\x20mensagem:',_0x3f3bb8),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x1e2e4c(0x4e9)]=null,this[_0x1e2e4c(0x173)]=0x0,this[_0x1e2e4c(0x223)]=null,(this[_0x1e2e4c(0x6a0)](),this['instance'][_0x1e2e4c(0xde)]={'count':0x0});}set[a0_0x146a96(0x381)](_0x3b6d71){const _0x1bab8f=a0_0x146a96;if(!_0x3b6d71){this[_0x1bab8f(0x633)][_0x1bab8f(0x68a)]=(0x0,yo['v4'])();return;}this[_0x1bab8f(0x633)]['name']=_0x3b6d71,this[_0x1bab8f(0x3be)](_0x1bab8f(0xdb),{'instance':this[_0x1bab8f(0x633)][_0x1bab8f(0x68a)],'status':_0x1bab8f(0x16f)});}get['instanceName'](){return this['instance']['name'];}get['wuid'](){const _0x4628d2=a0_0x146a96;return this[_0x4628d2(0x633)][_0x4628d2(0x4c4)];}async[a0_0x146a96(0x4ff)](){const _0xfa4ef1=a0_0x146a96;let _0x9d4e23=this['client'][_0xfa4ef1(0xf4)]?.[_0xfa4ef1(0x68a)]??this['client']['user']?.[_0xfa4ef1(0x50e)];if(!_0x9d4e23){if(this[_0xfa4ef1(0x598)][_0xfa4ef1(0x3b3)](_0xfa4ef1(0x56f))[_0xfa4ef1(0x6d)]){let _0x269f7a=await N[_0xfa4ef1(0x3da)]()['db'](this['configService'][_0xfa4ef1(0x3b3)]('DATABASE')[_0xfa4ef1(0x438)]['DB_PREFIX_NAME']+_0xfa4ef1(0x202))[_0xfa4ef1(0x1da)](this[_0xfa4ef1(0x381)])[_0xfa4ef1(0x592)]({'_id':'creds'});if(_0x269f7a){let _0x342cff=JSON[_0xfa4ef1(0xdd)](JSON[_0xfa4ef1(0x455)](_0x269f7a),y['BufferJSON'][_0xfa4ef1(0x6ab)]);_0x9d4e23=_0x342cff['me']?.['name']||_0x342cff['me']?.[_0xfa4ef1(0x50e)];}}else{if((0x0,ve[_0xfa4ef1(0x679)])((0x0,F['join'])(ge,this[_0xfa4ef1(0x381)],_0xfa4ef1(0x375)))){let _0x30b4b7=JSON[_0xfa4ef1(0xdd)]((0x0,ve[_0xfa4ef1(0x7b)])((0x0,F[_0xfa4ef1(0x695)])(ge,this['instanceName'],'creds.json'),{'encoding':_0xfa4ef1(0x1d9)}));_0x9d4e23=_0x30b4b7['me']?.[_0xfa4ef1(0x68a)]||_0x30b4b7['me']?.[_0xfa4ef1(0x50e)];}}}return _0x9d4e23;}get[a0_0x146a96(0x4ca)](){const _0x2d4eff=a0_0x146a96;return this[_0x2d4eff(0x633)]['profilePictureUrl'];}get[a0_0x146a96(0x43e)](){const _0x2a6fd4=a0_0x146a96;return{'pairingCode':this[_0x2a6fd4(0x633)]['qrcode']?.[_0x2a6fd4(0xa1)],'code':this[_0x2a6fd4(0x633)][_0x2a6fd4(0xde)]?.['code'],'base64':this[_0x2a6fd4(0x633)][_0x2a6fd4(0xde)]?.[_0x2a6fd4(0x4a2)]};}async[a0_0x146a96(0x287)](){const _0x71e0b6=a0_0x146a96;let _0x33dc53=await this[_0x71e0b6(0x484)][_0x71e0b6(0x450)][_0x71e0b6(0x54e)](this[_0x71e0b6(0x381)]);this[_0x71e0b6(0x673)][_0x71e0b6(0x64b)]=_0x33dc53?.[_0x71e0b6(0x64b)],this['localWebhook']['enabled']=_0x33dc53?.['enabled'],this[_0x71e0b6(0x673)][_0x71e0b6(0x662)]=_0x33dc53?.[_0x71e0b6(0x662)],this['localWebhook'][_0x71e0b6(0x6aa)]=_0x33dc53?.[_0x71e0b6(0x6aa)],this[_0x71e0b6(0x673)][_0x71e0b6(0x106)]=_0x33dc53?.[_0x71e0b6(0x106)],this[_0x71e0b6(0x673)]['SEND_MESSAGE']=_0x33dc53?.['SEND_MESSAGE'],this['localWebhook'][_0x71e0b6(0x91)]=_0x33dc53?.[_0x71e0b6(0x91)],this['localWebhook'][_0x71e0b6(0x4b9)]=_0x33dc53?.[_0x71e0b6(0x4b9)],this[_0x71e0b6(0x673)]['GROUPS_UPSERT']=_0x33dc53?.[_0x71e0b6(0x422)],this[_0x71e0b6(0x673)][_0x71e0b6(0x4bc)]=_0x33dc53?.[_0x71e0b6(0x4bc)],this[_0x71e0b6(0x673)][_0x71e0b6(0x6ae)]=_0x33dc53?.[_0x71e0b6(0x6ae)],this['localWebhook'][_0x71e0b6(0x675)]=_0x33dc53?.[_0x71e0b6(0x675)],this[_0x71e0b6(0x673)][_0x71e0b6(0x393)]=_0x33dc53?.['CHATS_UPSERT'],this[_0x71e0b6(0x673)]['CHATS_UPDATE']=_0x33dc53?.[_0x71e0b6(0xe1)],this[_0x71e0b6(0x673)][_0x71e0b6(0x23a)]=_0x33dc53?.[_0x71e0b6(0x23a)],this['localWebhook'][_0x71e0b6(0x507)]=_0x33dc53?.[_0x71e0b6(0x507)],this[_0x71e0b6(0x673)][_0x71e0b6(0x130)]=_0x33dc53?.[_0x71e0b6(0x130)],this[_0x71e0b6(0x673)][_0x71e0b6(0x21f)]=_0x33dc53?.[_0x71e0b6(0x21f)],this['localWebhook']['PRESENCE_UPDATE']=_0x33dc53?.['PRESENCE_UPDATE'],this[_0x71e0b6(0x673)][_0x71e0b6(0x5c3)]=_0x33dc53?.[_0x71e0b6(0x5c3)],this['localWebhook'][_0x71e0b6(0x2b4)]=_0x33dc53?.['CONNECTION_UPDATE'],this[_0x71e0b6(0x673)][_0x71e0b6(0x647)]=_0x33dc53?.[_0x71e0b6(0x647)];}async[a0_0x146a96(0x5f1)](_0x421efa){const _0x33a049=a0_0x146a96;let _0x6a7a46=['_id','url',_0x33a049(0x39f),_0x33a049(0x662),_0x33a049(0x6aa),_0x33a049(0x106),_0x33a049(0x4b9),_0x33a049(0x91),'SEND_MESSAGE',_0x33a049(0x422),'GROUPS_UPDATE','GROUP_PARTICIPANTS_UPDATE','CHATS_SET','CHATS_UPSERT',_0x33a049(0xe1),_0x33a049(0x23a),'CONTACTS_SET',_0x33a049(0x130),_0x33a049(0x21f),_0x33a049(0x485),_0x33a049(0x5c3),_0x33a049(0x2b4),'groups_ignore'],_0x202801={};return _0x6a7a46[_0x33a049(0x304)](_0x11cda3=>{_0x421efa[_0x11cda3]!==void 0x0&&(_0x202801[_0x11cda3]=_0x421efa[_0x11cda3]);}),await this[_0x33a049(0x484)][_0x33a049(0x450)]['create'](_0x202801,this[_0x33a049(0x381)]),Object[_0x33a049(0x66b)](this['localWebhook'],_0x202801),await this['repository']['webhook'][_0x33a049(0x54e)](this[_0x33a049(0x381)]);}async[a0_0x146a96(0x699)](){const _0xf4ba17=a0_0x146a96;return await this[_0xf4ba17(0x484)][_0xf4ba17(0x450)]['find'](this[_0xf4ba17(0x381)]);}async[a0_0x146a96(0x3be)](_0x166790,_0xd1ee28){const _0x23dc87=a0_0x146a96;let _0x41c5e3=_0x166790['replace'](/[\.-]/gm,'_')[_0x23dc87(0x1b1)](),_0x59c34e=this[_0x23dc87(0x673)][_0x23dc87(0x39f)]&&(0x0,k['isURL'])(this[_0x23dc87(0x673)][_0x23dc87(0x64b)])?this[_0x23dc87(0x673)][_0x23dc87(0x64b)]+(this[_0x23dc87(0x673)][_0x23dc87(0x662)]?this['webhookMap'][_0x166790]:''):null,_0x138a16=this[_0x23dc87(0x673)][_0x41c5e3],_0x443e11=re&&re[_0x23dc87(0x39f)]&&(0x0,k[_0x23dc87(0x2e6)])(re[_0x23dc87(0x64b)])?re[_0x23dc87(0x64b)]+(re[_0x23dc87(0x662)]?this[_0x23dc87(0x595)][_0x166790]:''):null,_0x582645=re?re[_0x41c5e3]:null;if(_0x138a16&&_0x59c34e)try{await se['default']['create']({'baseURL':_0x59c34e})[_0x23dc87(0x60b)]('',{'event':_0x166790,'instance':this['instance'][_0x23dc87(0x68a)],'data':_0xd1ee28}),this[_0x23dc87(0x2dd)][_0x23dc87(0x48e)](this[_0x23dc87(0x381)]+'\x20('+this['instance'][_0x23dc87(0x4c4)]+_0x23dc87(0x5a8)+_0x166790+':\x20'+_0x59c34e);}catch{this[_0x23dc87(0x2dd)]['error'](this[_0x23dc87(0x381)]+'\x20('+this[_0x23dc87(0x633)][_0x23dc87(0x4c4)]+_0x23dc87(0x1c2)+_0x166790+':\x20'+_0x59c34e);}if(_0x582645&&_0x443e11)try{await se[_0x23dc87(0x68f)][_0x23dc87(0x6cd)]({'baseURL':_0x443e11})[_0x23dc87(0x60b)]('',{'event':_0x166790,'instance':this[_0x23dc87(0x633)][_0x23dc87(0x68a)],'data':_0xd1ee28}),this[_0x23dc87(0x2dd)]['log'](this[_0x23dc87(0x381)]+'\x20('+this[_0x23dc87(0x633)]['wuid']+'):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x166790+':\x20'+_0x443e11);}catch{this[_0x23dc87(0x2dd)]['error'](this[_0x23dc87(0x381)]+'\x20('+this[_0x23dc87(0x633)][_0x23dc87(0x4c4)]+_0x23dc87(0x11e)+_0x166790+':\x20'+_0x443e11);}}async['connectionUpdate']({qr:_0x58a885,connection:_0x1b7b59,lastDisconnect:_0x42d6d8}){const _0x5f5ad8=a0_0x146a96;if(_0x58a885){if(this[_0x5f5ad8(0x633)][_0x5f5ad8(0xde)]['count']===gr)return this[_0x5f5ad8(0x3be)](_0x5f5ad8(0x537),{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':y[_0x5f5ad8(0x2bc)]['badSession']}),this[_0x5f5ad8(0x3b8)]={'state':_0x5f5ad8(0x4a3),'statusReason':y[_0x5f5ad8(0x2bc)][_0x5f5ad8(0x436)]},this[_0x5f5ad8(0x3be)](_0x5f5ad8(0x3e8),{'instance':this[_0x5f5ad8(0x633)]['name'],...this['stateConnection']}),this[_0x5f5ad8(0x3be)](_0x5f5ad8(0xdb),{'instance':this[_0x5f5ad8(0x633)][_0x5f5ad8(0x68a)],'status':'removed'}),this[_0x5f5ad8(0x484)][_0x5f5ad8(0x534)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0x5f5ad8(0x116)]()},this[_0x5f5ad8(0x633)][_0x5f5ad8(0x68a)]),this[_0x5f5ad8(0x5fa)]=!0x0,this['eventEmitter'][_0x5f5ad8(0x2a5)](_0x5f5ad8(0x354),this[_0x5f5ad8(0x633)][_0x5f5ad8(0x68a)]);this[_0x5f5ad8(0x633)][_0x5f5ad8(0xde)][_0x5f5ad8(0x423)]++;let _0x596950={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x5f5ad8(0x3ef),'dark':'#000000'}};bo['default'][_0x5f5ad8(0x19e)](_0x58a885,_0x596950,(_0x1ff699,_0x321227)=>{const _0x2eef6d=_0x5f5ad8;if(_0x1ff699){this[_0x2eef6d(0x2dd)]['error'](this[_0x2eef6d(0x381)]+'\x20('+this['instance'][_0x2eef6d(0x4c4)]+_0x2eef6d(0x16a)+(_0x1ff699 instanceof Error?_0x1ff699[_0x2eef6d(0x404)]:JSON[_0x2eef6d(0x455)](_0x1ff699,null,0x2)));return;}this[_0x2eef6d(0x633)]['qrcode']['base64']=_0x321227,this[_0x2eef6d(0x633)][_0x2eef6d(0xde)][_0x2eef6d(0x269)]=_0x58a885,this['sendDataWebhook'](_0x2eef6d(0x537),{'qrcode':{'instance':this[_0x2eef6d(0x633)][_0x2eef6d(0x68a)],'pairingCode':this[_0x2eef6d(0x633)][_0x2eef6d(0xde)][_0x2eef6d(0xa1)],'code':_0x58a885,'base64':_0x321227}});}),this[_0x5f5ad8(0x150)]?this[_0x5f5ad8(0x633)][_0x5f5ad8(0xde)][_0x5f5ad8(0xa1)]=await this['client'][_0x5f5ad8(0x639)](this[_0x5f5ad8(0x150)]):this[_0x5f5ad8(0x633)][_0x5f5ad8(0xde)]['pairingCode']=null,So['default']['generate'](_0x58a885,{'small':!0x0},_0x37b9b8=>this[_0x5f5ad8(0x2dd)][_0x5f5ad8(0x48e)](_0x5f5ad8(0x617)+this['instance'][_0x5f5ad8(0x68a)]+',\x20qrcodeCount:\x20'+this[_0x5f5ad8(0x633)][_0x5f5ad8(0xde)][_0x5f5ad8(0x423)]+_0x5f5ad8(0x3ca)+this[_0x5f5ad8(0x633)][_0x5f5ad8(0xde)]['pairingCode']+_0x5f5ad8(0x3f0)+_0x37b9b8));}if(_0x1b7b59&&(this[_0x5f5ad8(0x3b8)]={'state':_0x1b7b59,'statusReason':_0x42d6d8?.['error']?.['output']?.['statusCode']??0xc8},this[_0x5f5ad8(0x3be)]('connection.update',{'instance':this[_0x5f5ad8(0x633)]['name'],...this[_0x5f5ad8(0x3b8)]})),_0x1b7b59===_0x5f5ad8(0x320)){if(this['reconnectAttempts']++,this[_0x5f5ad8(0x521)]['push'](Date['now']()),this[_0x5f5ad8(0x521)]=this[_0x5f5ad8(0x521)]['filter'](_0x1080e7=>Date[_0x5f5ad8(0x116)]()-_0x1080e7<this[_0x5f5ad8(0x479)]),_0x42d6d8[_0x5f5ad8(0x4e3)]?.[_0x5f5ad8(0x92)]?.[_0x5f5ad8(0x152)]!==y['DisconnectReason'][_0x5f5ad8(0x10c)]&&this[_0x5f5ad8(0x521)][_0x5f5ad8(0x29f)]<=this[_0x5f5ad8(0x688)])console[_0x5f5ad8(0x48e)](this[_0x5f5ad8(0x381)]+_0x5f5ad8(0x3b1)+this[_0x5f5ad8(0x607)]+'/'+this[_0x5f5ad8(0x688)]+_0x5f5ad8(0x165)),console[_0x5f5ad8(0x48e)](_0x5f5ad8(0x242)),await this[_0x5f5ad8(0x664)]();else{this[_0x5f5ad8(0x3be)]('status.instance',{'instance':this['instance'][_0x5f5ad8(0x68a)],'status':_0x5f5ad8(0x1eb)}),this[_0x5f5ad8(0x41b)]=!0x1,this['repository'][_0x5f5ad8(0x450)][_0x5f5ad8(0x487)](this[_0x5f5ad8(0x381)]),this[_0x5f5ad8(0x484)][_0x5f5ad8(0x534)][_0x5f5ad8(0x6cd)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x5f5ad8(0x116)]()},this[_0x5f5ad8(0x633)][_0x5f5ad8(0x68a)]);try{this[_0x5f5ad8(0x2dd)][_0x5f5ad8(0xb5)](this[_0x5f5ad8(0x381)]+'\x20('+this['instance']['wuid']+_0x5f5ad8(0x654));let _0x18a33d=await this[_0x5f5ad8(0x484)][_0x5f5ad8(0x404)]['deleteAll'](this[_0x5f5ad8(0x633)][_0x5f5ad8(0x4c4)]);_0x18a33d['success']?this[_0x5f5ad8(0x2dd)][_0x5f5ad8(0xb5)](this[_0x5f5ad8(0x381)]+'\x20('+this[_0x5f5ad8(0x633)][_0x5f5ad8(0x4c4)]+_0x5f5ad8(0x2db)):console[_0x5f5ad8(0x4e3)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:',_0x18a33d[_0x5f5ad8(0x4e3)]);}catch(_0x4bd664){console[_0x5f5ad8(0x4e3)](_0x5f5ad8(0x2c4),_0x4bd664);}this[_0x5f5ad8(0x2fa)]!==null&&(this[_0x5f5ad8(0x2dd)][_0x5f5ad8(0xb5)](this['instanceName']+'\x20('+this['instance'][_0x5f5ad8(0x4c4)]+_0x5f5ad8(0x296)),clearInterval(this[_0x5f5ad8(0x2fa)]),this['delayMessage']=null),this[_0x5f5ad8(0x2dd)]['verbose'](this[_0x5f5ad8(0x381)]+'\x20('+this['instance'][_0x5f5ad8(0x4c4)]+_0x5f5ad8(0x550)),this['AutomateSystem']=null,this[_0x5f5ad8(0x632)]['emit']('remove.instance',this['instance'][_0x5f5ad8(0x68a)],'inner'),this['client']?.['ws']?.[_0x5f5ad8(0x320)](),this[_0x5f5ad8(0x599)][_0x5f5ad8(0x5d8)](new Error(_0x5f5ad8(0x5ea)));}}if(_0x1b7b59===_0x5f5ad8(0x1ac)){this[_0x5f5ad8(0x79)],this[_0x5f5ad8(0x633)][_0x5f5ad8(0x4c4)]=this['client']['user']['id'][_0x5f5ad8(0x3c8)](/:\d+/,'')[_0x5f5ad8(0x3c8)](_0x5f5ad8(0x3a2),''),this[_0x5f5ad8(0x633)][_0x5f5ad8(0x4ca)]=(await this[_0x5f5ad8(0x520)](this[_0x5f5ad8(0x633)]['wuid']+_0x5f5ad8(0x3a2)))[_0x5f5ad8(0x4ca)],this[_0x5f5ad8(0x484)][_0x5f5ad8(0x534)][_0x5f5ad8(0x6cd)]({'online':!0x0,'owner':this[_0x5f5ad8(0x633)][_0x5f5ad8(0x4c4)],'lastDisconnect':null},this[_0x5f5ad8(0x633)][_0x5f5ad8(0x68a)]);let _0x59267c=_0x5f5ad8(0x634)+this[_0x5f5ad8(0x633)][_0x5f5ad8(0x4c4)],_0x4dd3f0=0x28,_0x294032=Math[_0x5f5ad8(0x6af)]((_0x4dd3f0-_0x59267c[_0x5f5ad8(0x29f)])/0x2),_0x2ab013='\x20'['repeat'](_0x294032),_0x47ac41=_0x5f5ad8(0x3b7),_0x31f3b3=_0x5f5ad8(0x168)+this['instance'][_0x5f5ad8(0x68a)],_0x44929a=(''+_0x2ab013+_0x59267c+_0x2ab013)[_0x5f5ad8(0x47e)](_0x4dd3f0,'\x20'),_0x66ca49=(''+_0x2ab013+_0x47ac41+_0x2ab013)[_0x5f5ad8(0x47e)](_0x4dd3f0,'\x20'),_0x1fbce7=(''+_0x2ab013+_0x31f3b3+_0x2ab013)[_0x5f5ad8(0x47e)](_0x4dd3f0,'\x20'),_0xdab601=Math[_0x5f5ad8(0x43b)](_0x44929a[_0x5f5ad8(0x29f)],_0x66ca49[_0x5f5ad8(0x29f)],_0x1fbce7['length']),_0xb97815=_0x44929a[_0x5f5ad8(0x47e)](_0xdab601,'\x20'),_0x2f8ea9=_0x66ca49[_0x5f5ad8(0x47e)](_0xdab601,'\x20'),_0x594951=_0x1fbce7['padEnd'](_0xdab601,'\x20');this[_0x5f5ad8(0x2dd)][_0x5f5ad8(0x217)](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌'+'─'['repeat'](_0xdab601)+_0x5f5ad8(0x697)+_0x2f8ea9+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x594951+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0xb97815+_0x5f5ad8(0x62d)+'─'[_0x5f5ad8(0x191)](_0xdab601)+'┘')['replace'](/^ +/gm,'\x20\x20')),this[_0x5f5ad8(0x4c2)](),this['isConnected']=!0x0;}}['resetReconnectionVariables'](){const _0x253308=a0_0x146a96;this['reconnectAttempts']=0x0,this[_0x253308(0x521)]=[];}async[a0_0x146a96(0x3ea)](_0x36c204,_0x1a9aa3=!0x1){const _0x657433=a0_0x146a96;try{let _0x3dfa90=await this[_0x657433(0x484)][_0x657433(0x404)][_0x657433(0x54e)]({'where':{'_id':_0x36c204['id']}},this[_0x657433(0x633)]['wuid']);return _0x1a9aa3?_0x3dfa90[0x0]:_0x3dfa90[0x0][_0x657433(0x404)];}catch{return{'conversation':''};}}[a0_0x146a96(0x6a0)](){const _0x39f8cb=a0_0x146a96;let _0x564ff8=this[_0x39f8cb(0x598)][_0x39f8cb(0x3b3)](_0x39f8cb(0x27a)),_0x59e1ec=this['configService']['get'](_0x39f8cb(0x56f));_0x564ff8?.[_0x39f8cb(0x682)]&&!_0x59e1ec['ENABLED']&&setInterval(()=>{const _0x2e3fde=_0x39f8cb;try{for(let [_0xd97170,_0x959d56]of Object[_0x2e3fde(0x14c)](_0x564ff8))_0x959d56===!0x0&&(0x0,_t[_0x2e3fde(0x1ee)])(_0x2e3fde(0x253)+(0x0,F[_0x2e3fde(0x695)])(this['storePath'],_0xd97170[_0x2e3fde(0x5a9)](),this['instance'][_0x2e3fde(0x4c4)])+_0x2e3fde(0x2d7));}catch{}},(_0x564ff8?.[_0x39f8cb(0x682)]??0xe10)*0x3e8);}async[a0_0x146a96(0x3c5)](){const _0x146db7=a0_0x146a96;let _0x553ca0=this[_0x146db7(0x598)][_0x146db7(0x3b3)](_0x146db7(0x56f)),_0x2c3569=this['configService'][_0x146db7(0x3b3)](_0x146db7(0xb8));return _0x2c3569?.[_0x146db7(0x6d)]?await bs(_0x2c3569,this[_0x146db7(0x633)][_0x146db7(0x68a)]):_0x553ca0[_0x146db7(0x6d)]?await ys(this[_0x146db7(0x633)][_0x146db7(0x68a)]):await(0x0,y[_0x146db7(0x7c)])((0x0,F['join'])(ge,this['instance'][_0x146db7(0x68a)]));}async['AutomateFunctions'](){const _0x4a36f9=a0_0x146a96;let _0x83296c=()=>Math['floor'](Math[_0x4a36f9(0x421)]()*0x2711)+0x7d0,_0x238a84=async()=>{const _0x8e7e04=_0x4a36f9;if(!this[_0x8e7e04(0x41b)]){this['logger'][_0x8e7e04(0xb5)](_0x8e7e04(0x4c8)),this[_0x8e7e04(0x164)]=!0x1;return;}if(this[_0x8e7e04(0x633)][_0x8e7e04(0x4c4)]&&this[_0x8e7e04(0x10a)]&&this[_0x8e7e04(0x2fa)]!==null&&this[_0x8e7e04(0x2fa)]!==void 0x0){let _0x3ce199=Math['round'](this['delayMessage']/0xea60);this[_0x8e7e04(0x2dd)][_0x8e7e04(0xb5)](this[_0x8e7e04(0x381)]+'\x20('+this[_0x8e7e04(0x633)][_0x8e7e04(0x4c4)]+_0x8e7e04(0x180)+_0x3ce199+'\x20minutos\x20verificará\x20novas\x20mensagens'),this[_0x8e7e04(0x164)]=!0x1;return;}else this[_0x8e7e04(0x633)][_0x8e7e04(0x4c4)]&&(this['logger'][_0x8e7e04(0xb5)](this[_0x8e7e04(0x381)]+'\x20('+this[_0x8e7e04(0x633)]['wuid']+_0x8e7e04(0x385)),this[_0x8e7e04(0x2dd)]['verbose'](this[_0x8e7e04(0x381)]+'\x20('+this[_0x8e7e04(0x633)]['wuid']+_0x8e7e04(0x120)),this['AutomateSystem']||await this[_0x8e7e04(0x134)](),(this['delayMessage']===null||this[_0x8e7e04(0x2fa)]===void 0x0)&&await this[_0x8e7e04(0xb4)]());if(this[_0x8e7e04(0x164)]){let _0x13ccea=_0x83296c();this[_0x8e7e04(0x2dd)][_0x8e7e04(0xb5)](this[_0x8e7e04(0x381)]+_0x8e7e04(0x4a7)+_0x13ccea/0x3e8+_0x8e7e04(0x6c8)),setTimeout(_0x238a84,_0x13ccea);}};if(this[_0x4a36f9(0x164)])return;this[_0x4a36f9(0x164)]=!0x0;let _0x17841e=_0x83296c();setTimeout(_0x238a84,_0x17841e);}async['loadproxy'](_0x2d6713=0x0){const _0x36e72d=a0_0x146a96;if(!(this['configService'][_0x36e72d(0x3b3)]('PROXY')||!0x1)||_0x2d6713>=0x3)return this[_0x36e72d(0x2dd)]['warn'](_0x36e72d(0x39b)),this['repository'][_0x36e72d(0x534)][_0x36e72d(0x6cd)]({'ip':null},this[_0x36e72d(0x633)][_0x36e72d(0x68a)]),{};console[_0x36e72d(0x48e)](_0x36e72d(0x58e)+(_0x2d6713+0x1)+_0x36e72d(0x3d2));let _0xafb8d8=(await this[_0x36e72d(0x484)]['auth'][_0x36e72d(0x54e)](this[_0x36e72d(0x381)]))['ip'],_0x1b4473=po(_0xafb8d8);if(_0x1b4473||(console[_0x36e72d(0x48e)](_0x36e72d(0x680)),_0x1b4473=ho()),console[_0x36e72d(0x48e)]('Configuração\x20do\x20ip:',_0x1b4473),_0x1b4473&&go(_0x1b4473)){let _0x1916db=_0x1b4473['protocol']+_0x36e72d(0xc5)+_0x1b4473['username']+':'+_0x1b4473[_0x36e72d(0x1a1)]+'@'+_0x1b4473['host']+':'+_0x1b4473[_0x36e72d(0x635)];return console['log'](_0x36e72d(0xa6)),console[_0x36e72d(0x48e)](_0x1916db),await this[_0x36e72d(0x135)](_0x1916db)?(console[_0x36e72d(0x48e)](_0x36e72d(0x655)),this[_0x36e72d(0x484)][_0x36e72d(0x534)][_0x36e72d(0x6cd)]({'ip':_0x1b4473[_0x36e72d(0xf8)]},this[_0x36e72d(0x633)][_0x36e72d(0x68a)]),{'agent':new Dt[(_0x36e72d(0x284))](_0x1916db),'fetchAgent':new Dt[(_0x36e72d(0x284))](_0x1916db)}):(console[_0x36e72d(0x48e)](_0x36e72d(0x176)),this[_0x36e72d(0x545)](_0x2d6713+0x1));}else return console[_0x36e72d(0x48e)](_0x36e72d(0x2de)),this[_0x36e72d(0x545)](_0x2d6713+0x1);}async[a0_0x146a96(0x135)](_0x1dbe9d){const _0x3db1b9=a0_0x146a96;let _0x595b5c=new Dt['HttpsProxyAgent'](_0x1dbe9d);try{let _0x5a52ee=await se['default'][_0x3db1b9(0x3b3)]('https://api.ipify.org?format=json',{'httpsAgent':_0x595b5c});return console[_0x3db1b9(0x48e)](_0x3db1b9(0x57b),_0x5a52ee[_0x3db1b9(0x25d)]),!0x0;}catch{return console['error']('Erro\x20ao\x20testar\x20o\x20proxy'),!0x1;}}async[a0_0x146a96(0x664)](_0x162c4b){const _0x5ceaac=a0_0x146a96;try{let _0x12ee95=await this[_0x5ceaac(0x545)]();this[_0x5ceaac(0x287)](),this[_0x5ceaac(0x633)][_0x5ceaac(0x17b)]=await this[_0x5ceaac(0x3c5)]();let {version:_0x28b1d8}=await(0x0,y[_0x5ceaac(0x437)])(),_0x195ed0=[Ms,Eo,(0x0,Ss[_0x5ceaac(0x30f)])()],_0xb8e995={..._0x12ee95,'auth':{'creds':this['instance']['authState'][_0x5ceaac(0x40f)][_0x5ceaac(0x387)],'keys':(0x0,y[_0x5ceaac(0x674)])(this[_0x5ceaac(0x633)][_0x5ceaac(0x17b)][_0x5ceaac(0x40f)][_0x5ceaac(0x379)],(0x0,Ot[_0x5ceaac(0x68f)])({'level':_0x5ceaac(0x4e3)}))},'logger':(0x0,Ot['default'])({'level':_0x5ceaac(0x4e3)}),'printQRInTerminal':!0x1,'browser':_0x162c4b?[_0x5ceaac(0x676),Ms,(0x0,Ss[_0x5ceaac(0x30f)])()]:_0x195ed0,'version':_0x28b1d8,'retryRequestDelayMs':0xfa,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x1fadf0=>await this[_0x5ceaac(0x3ea)](_0x1fadf0),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0xa9666c=>(_0xa9666c['listMessage']?.[_0x5ceaac(0x34c)]==y[_0x5ceaac(0xb6)][_0x5ceaac(0x587)][_0x5ceaac(0x311)][_0x5ceaac(0x3ac)][_0x5ceaac(0x7a)]&&(_0xa9666c=JSON[_0x5ceaac(0xdd)](JSON[_0x5ceaac(0x455)](_0xa9666c)),_0xa9666c[_0x5ceaac(0x4e4)][_0x5ceaac(0x34c)]=y[_0x5ceaac(0xb6)]['Message'][_0x5ceaac(0x311)][_0x5ceaac(0x3ac)][_0x5ceaac(0x4b6)]),_0xa9666c)};return this[_0x5ceaac(0x5fa)]=!0x1,this[_0x5ceaac(0x599)]=(0x0,y[_0x5ceaac(0x68f)])(_0xb8e995),this[_0x5ceaac(0x2dc)](),this[_0x5ceaac(0x150)]=_0x162c4b,this[_0x5ceaac(0x599)];}catch(_0x42b839){throw this[_0x5ceaac(0x2dd)][_0x5ceaac(0x4e3)](this[_0x5ceaac(0x381)]+'\x20('+this[_0x5ceaac(0x633)]['wuid']+_0x5ceaac(0x43f)+(_0x42b839 instanceof Error?_0x42b839[_0x5ceaac(0x404)]:JSON['stringify'](_0x42b839,null,0x2))),new O(_0x42b839?.[_0x5ceaac(0xc6)]());}}['eventHandler'](){const _0x2a436e=a0_0x146a96;this[_0x2a436e(0x599)]['ev'][_0x2a436e(0x1cb)](_0x81b3d2=>{const _0x1470e5=_0x2a436e;if(!this['endSession']){let _0x16810d=this['configService'][_0x1470e5(0x3b3)]('DATABASE');if(_0x81b3d2[_0x1470e5(0x29c)]){let _0x1ac77e=_0x81b3d2[_0x1470e5(0x29c)];this[_0x1470e5(0x177)]['labels.edit'](_0x1ac77e);}if(_0x81b3d2['labels.association']){let _0x7a21f4=_0x81b3d2[_0x1470e5(0x6b9)];this[_0x1470e5(0x177)]['labels.association'](_0x7a21f4);}if(_0x81b3d2[_0x1470e5(0x3e8)]&&this[_0x1470e5(0x2b0)](_0x81b3d2['connection.update']),_0x81b3d2[_0x1470e5(0x30e)]&&this['instance']['authState'][_0x1470e5(0x1cc)](),_0x81b3d2[_0x1470e5(0x11b)]){let _0x22b47f=_0x81b3d2[_0x1470e5(0x11b)];this[_0x1470e5(0x177)][_0x1470e5(0x11b)](_0x22b47f,_0x16810d);}if(_0x81b3d2[_0x1470e5(0x535)]){let _0x55e4f3=_0x81b3d2[_0x1470e5(0x535)];this[_0x1470e5(0x177)][_0x1470e5(0x535)](_0x55e4f3,_0x16810d);}if(_0x81b3d2[_0x1470e5(0x51f)]){let _0x1dc04c=_0x81b3d2[_0x1470e5(0x51f)];_0x1dc04c[_0x1470e5(0x304)](_0x3bd232=>{const _0xa920dd=_0x1470e5;if(fo[_0x3bd232[_0xa920dd(0xce)]['id']]){this['client']['ev'][_0xa920dd(0x2a5)](_0xa920dd(0x535),{'messages':[_0x3bd232],'type':_0xa920dd(0xfd)}),delete fo[_0x3bd232[_0xa920dd(0xce)]['id']];return;}}),this['messageHandle'][_0x1470e5(0x51f)](_0x1dc04c,_0x16810d);}if(_0x81b3d2[_0x1470e5(0x62c)]){let _0x3e4b26=_0x81b3d2['presence.update'];if(this[_0x1470e5(0x673)]?.[_0x1470e5(0x647)]&&_0x3e4b26['id'][_0x1470e5(0x322)]('@g.us'))return;this[_0x1470e5(0x3be)]('presence.update',_0x3e4b26);}if(!this[_0x1470e5(0x673)]?.['groups_ignore']){if(_0x81b3d2[_0x1470e5(0x286)]){let _0x19cd6b=_0x81b3d2['groups.upsert'];this['groupHandler'][_0x1470e5(0x286)](_0x19cd6b);}if(_0x81b3d2['groups.update']){let _0x4302d1=_0x81b3d2[_0x1470e5(0x2f5)];this['groupHandler'][_0x1470e5(0x2f5)](_0x4302d1);}if(_0x81b3d2['group-participants.update']){let _0x42c64e=_0x81b3d2[_0x1470e5(0x5f4)];this[_0x1470e5(0x6a7)][_0x1470e5(0x5f4)](_0x42c64e);}}if(_0x81b3d2[_0x1470e5(0x565)]){let _0x3029cb=_0x81b3d2[_0x1470e5(0x565)];this[_0x1470e5(0x397)][_0x1470e5(0x565)](_0x3029cb,_0x16810d);}if(_0x81b3d2[_0x1470e5(0x5a1)]){let _0x5cb59c=_0x81b3d2[_0x1470e5(0x5a1)];this[_0x1470e5(0x397)]['chats.update'](_0x5cb59c,_0x16810d);}if(_0x81b3d2['chats.delete']){let _0x4c25a6=_0x81b3d2[_0x1470e5(0x2ac)];this[_0x1470e5(0x397)][_0x1470e5(0x2ac)](_0x4c25a6);}if(_0x81b3d2[_0x1470e5(0x63a)]){let _0x36e7e2=_0x81b3d2[_0x1470e5(0x63a)];this[_0x1470e5(0x67d)]['contacts.upsert'](_0x36e7e2,_0x16810d);}if(_0x81b3d2[_0x1470e5(0x249)]){let _0x27dbae=_0x81b3d2['contacts.update'];this[_0x1470e5(0x67d)][_0x1470e5(0x249)](_0x27dbae,_0x16810d);}}});}[a0_0x146a96(0x309)](_0x89638){return new Promise(_0x275f49=>setTimeout(_0x275f49,_0x89638));}['formatBRNumber'](_0x3e68df){const _0x26cc67=a0_0x146a96;let _0x2f548d=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x26cc67(0x201)](_0x3e68df);if(_0x2f548d&&_0x2f548d[0x1]==='55'){let _0x3d4355=_0x2f548d[0x2],_0x39ef5f=_0x2f548d[0x3],_0x4587e7=_0x2f548d[0x4];if(_0x3d4355>='31'&&_0x39ef5f==='9')return _0x2f548d[0x1]+_0x3d4355+_0x4587e7;}return _0x3e68df;}[a0_0x146a96(0x5fc)](_0x11a67f){const _0x38a7d2=a0_0x146a96;return _0x11a67f[_0x38a7d2(0x322)](_0x38a7d2(0x1e6))||_0x11a67f[_0x38a7d2(0x322)]('@s.whatsapp.net')||_0x11a67f[_0x38a7d2(0x322)](_0x38a7d2(0xe8))?_0x11a67f:(_0x11a67f=_0x11a67f?.[_0x38a7d2(0x3c8)](/\s/g,'')[_0x38a7d2(0x3c8)](/\+/g,'')[_0x38a7d2(0x3c8)](/\(/g,'')[_0x38a7d2(0x3c8)](/\)/g,'')[_0x38a7d2(0x5d7)](/\:/)[0x0][_0x38a7d2(0x5d7)]('@')[0x0],_0x11a67f['length']>=0x12?(_0x11a67f=_0x11a67f[_0x38a7d2(0x3c8)](/[^\d-]/g,''),_0x11a67f+'@g.us'):(_0x11a67f=_0x11a67f[_0x38a7d2(0x3c8)](/\D/g,''),this[_0x38a7d2(0x10b)](_0x11a67f)+_0x38a7d2(0x3a2)));}async[a0_0x146a96(0x2f9)](_0x4589d8){const _0x1891b9=a0_0x146a96;let _0x58cae5=this['createJid'](_0x4589d8[_0x1891b9(0x4d2)]),_0x420885=(await this[_0x1891b9(0x371)]({'numbers':[_0x58cae5]}))[0x0];if(!_0x420885[_0x1891b9(0x59d)]&&!(0x0,y[_0x1891b9(0x46e)])(_0x420885[_0x1891b9(0x7d)]))throw new m(_0x420885);let _0x23f456=(0x0,y[_0x1891b9(0x46e)])(_0x58cae5)?_0x58cae5:_0x420885[_0x1891b9(0x7d)];if((0x0,y['isJidGroup'])(_0x23f456))try{await this[_0x1891b9(0x599)][_0x1891b9(0x4bb)](_0x23f456);}catch{throw new j('Group\x20not\x20found');}try{return await this['client']['presenceSubscribe'](_0x23f456),await this[_0x1891b9(0x599)][_0x1891b9(0x88)](_0x4589d8[_0x1891b9(0x574)],_0x58cae5),{'status':0xc8,'presence':_0x4589d8['presence']};}catch(_0x423a8f){throw new m(_0x423a8f[_0x1891b9(0xc6)]());}}async[a0_0x146a96(0x520)](_0x393374){const _0x229c05=a0_0x146a96;let _0x50e03c=this[_0x229c05(0x5fc)](_0x393374);try{return{'wuid':_0x50e03c,'profilePictureUrl':await this[_0x229c05(0x599)]['profilePictureUrl'](_0x50e03c,_0x229c05(0x302))};}catch{return{'wuid':_0x50e03c,'profilePictureUrl':null};}}async[a0_0x146a96(0x53b)](_0x46d1d5,_0x4998e8,_0x3cc0ac){const _0x1a80c4=a0_0x146a96;_0x3cc0ac||(_0x3cc0ac={});let _0x2f83b2=(await this[_0x1a80c4(0x371)]({'numbers':[_0x46d1d5]}))[0x0];if(!_0x2f83b2[_0x1a80c4(0x59d)]&&!(0x0,y[_0x1a80c4(0x46e)])(_0x2f83b2[_0x1a80c4(0x7d)])&&!_0x2f83b2[_0x1a80c4(0x7d)]['includes'](_0x1a80c4(0xe8)))throw new m(_0x2f83b2);let _0x1f0dbd=_0x2f83b2['jid'];try{_0x3cc0ac?.[_0x1a80c4(0x15d)]&&(await this[_0x1a80c4(0x599)][_0x1a80c4(0x5cf)](_0x1f0dbd),await this[_0x1a80c4(0x599)][_0x1a80c4(0x88)](_0x3cc0ac?.[_0x1a80c4(0x574)]??'composing',_0x1f0dbd),await(0x0,y[_0x1a80c4(0x15d)])(_0x3cc0ac[_0x1a80c4(0x15d)]),await this[_0x1a80c4(0x599)][_0x1a80c4(0x88)](_0x1a80c4(0x139),_0x1f0dbd));let _0x30d86c=_0x3cc0ac?.[_0x1a80c4(0x5a5)]!=!0x1?void 0x0:!0x1,_0x484498;if(_0x3cc0ac?.[_0x1a80c4(0x218)]){let _0x3377bb=_0x3cc0ac?.[_0x1a80c4(0x218)],_0x435a92=_0x3377bb?.[_0x1a80c4(0x404)]?_0x3377bb:await this['getMessage'](_0x3377bb[_0x1a80c4(0xce)],!0x0);if(!_0x435a92)throw _0x1a80c4(0x1d6);_0x484498=_0x435a92;}let _0xb6b9b9;if((0x0,y[_0x1a80c4(0x46e)])(_0x1f0dbd))try{let _0x975ead=await this[_0x1a80c4(0x599)][_0x1a80c4(0x4bb)](_0x1f0dbd);if(!_0x975ead)throw new j(_0x1a80c4(0x3a5));_0x3cc0ac?.[_0x1a80c4(0x6a8)]&&(_0x3cc0ac[_0x1a80c4(0x6a8)]?.[_0x1a80c4(0x205)]?_0xb6b9b9=_0x975ead[_0x1a80c4(0x543)][_0x1a80c4(0x684)](_0x17efd3=>_0x17efd3['id']):_0x3cc0ac[_0x1a80c4(0x6a8)]?.[_0x1a80c4(0x4ba)]?.[_0x1a80c4(0x29f)]&&(_0xb6b9b9=_0x3cc0ac[_0x1a80c4(0x6a8)][_0x1a80c4(0x4ba)][_0x1a80c4(0x684)](_0x22ada0=>{const _0x38634f=_0x1a80c4;let _0x307ad1=this['createJid'](_0x22ada0);return(0x0,y[_0x38634f(0x46e)])(_0x307ad1)?null:_0x307ad1;})));}catch{throw new j(_0x1a80c4(0x3a5));}let _0x333370=await((async()=>{const _0x58dbc3=_0x1a80c4;let _0x4597f1={'quoted':_0x484498};if(!_0x4998e8[_0x58dbc3(0x5e3)]&&!_0x4998e8[_0x58dbc3(0x463)]&&!_0x4998e8[_0x58dbc3(0x476)]&&!_0x4998e8[_0x58dbc3(0x499)]&&_0x1f0dbd!==_0x58dbc3(0x399)&&!_0x4998e8[_0x58dbc3(0x5e3)])return await this[_0x58dbc3(0x599)]['sendMessage'](_0x1f0dbd,{'forward':{'key':{'remoteJid':this['instance'][_0x58dbc3(0x4c4)],'fromMe':!0x0},'message':_0x4998e8},'mentions':_0xb6b9b9},_0x4597f1);if(_0x4998e8['conversation']){let _0x14d43b=_0x4998e8['conversation'];return _0x3cc0ac?.[_0x58dbc3(0x233)]&&(_0x14d43b=await this['replaceVariablesChat'](_0x14d43b,_0x1f0dbd)),await this[_0x58dbc3(0x599)][_0x58dbc3(0xe6)](_0x1f0dbd,{'text':_0x14d43b,'mentions':_0xb6b9b9,'linkPreview':_0x30d86c},_0x4597f1);}return _0x1f0dbd===_0x58dbc3(0x399)?await this[_0x58dbc3(0x599)][_0x58dbc3(0xe6)](_0x1f0dbd,_0x4998e8[_0x58dbc3(0x419)][_0x58dbc3(0x33e)],{'backgroundColor':_0x4998e8[_0x58dbc3(0x419)][_0x58dbc3(0x1f0)][_0x58dbc3(0x347)],'font':_0x4998e8[_0x58dbc3(0x419)][_0x58dbc3(0x1f0)]['font'],'statusJidList':_0x4998e8[_0x58dbc3(0x419)]['option'][_0x58dbc3(0x5e2)]}):await this['client'][_0x58dbc3(0xe6)](_0x1f0dbd,_0x4998e8,_0x4597f1);})()),{message_normalized:_0x47926a}=this[_0x1a80c4(0x669)](_0x333370[_0x1a80c4(0x404)],$(_0x333370[_0x1a80c4(0x404)]),null),_0xbd3793={'_id':_0x333370[_0x1a80c4(0xce)]['id'],'key':_0x333370[_0x1a80c4(0xce)],'pushName':_0x333370['pushName'],'message':{..._0x333370[_0x1a80c4(0x404)]},'messageType':$(_0x333370[_0x1a80c4(0x404)]),'message_normalized':{'key':_0x333370[_0x1a80c4(0xce)],'pushName':_0x333370[_0x1a80c4(0x3c0)],'messageTimestamp':_0x333370['messageTimestamp']&&_0x333370[_0x1a80c4(0xc1)][_0x1a80c4(0xc6)]()[_0x1a80c4(0x29f)]<0xd?_0x333370[_0x1a80c4(0xc1)]*0x3e8:_0x333370[_0x1a80c4(0xc1)]||null,'source':(0x0,y[_0x1a80c4(0x584)])(_0x333370[_0x1a80c4(0xce)]['id']),..._0x47926a},'messageTimestamp':_0x333370['messageTimestamp']&&_0x333370[_0x1a80c4(0xc1)]['toString']()['length']<0xd?_0x333370[_0x1a80c4(0xc1)]*0x3e8:_0x333370[_0x1a80c4(0xc1)]||null,'owner':this[_0x1a80c4(0x633)][_0x1a80c4(0x4c4)],'source':(0x0,y['getDevice'])(_0x333370[_0x1a80c4(0xce)]['id'])};return this[_0x1a80c4(0x2dd)][_0x1a80c4(0x48e)](_0xbd3793),this[_0x1a80c4(0x3be)](_0x1a80c4(0x5f7),_0xbd3793),J(this[_0x1a80c4(0x381)],'messages',{'message':_0xbd3793}),this['updateChatWithMessage'](this[_0x1a80c4(0x598)][_0x1a80c4(0x3b3)]('DATABASE'),_0xbd3793,'SEND_MESSAGE'),await this[_0x1a80c4(0x484)][_0x1a80c4(0x404)][_0x1a80c4(0x334)]([_0xbd3793],this[_0x1a80c4(0x633)][_0x1a80c4(0x4c4)]),_0x333370;}catch(_0x3a629d){throw this[_0x1a80c4(0x2dd)][_0x1a80c4(0x4e3)](this[_0x1a80c4(0x381)]+'\x20('+this[_0x1a80c4(0x633)][_0x1a80c4(0x4c4)]+'):\x20'+_0x3a629d['toString']()),new m(_0x3a629d['toString']());}}get['connectionStatus'](){const _0x58af17=a0_0x146a96;return this[_0x58af17(0x3b8)];}async['textMessage'](_0x5a80ac){const _0xa5c461=a0_0x146a96;let _0x78e94b=mo,_0x2c3e69=He;return _0x2c3e69&&this[_0xa5c461(0x381)][_0xa5c461(0x5a9)]()[_0xa5c461(0x322)](_0x2c3e69[_0xa5c461(0x5a9)]())&&(_0x5a80ac[_0xa5c461(0x144)][_0xa5c461(0x501)]+='\x0a\x0a'+_0x78e94b),await this[_0xa5c461(0x53b)](_0x5a80ac[_0xa5c461(0x4d2)],{'conversation':_0x5a80ac['textMessage'][_0xa5c461(0x501)]},_0x5a80ac?.[_0xa5c461(0x187)]);}async[a0_0x146a96(0x2cc)](_0x38675b){const _0x10496c=a0_0x146a96;if(!_0x38675b['type'])throw new m('Type\x20is\x20required');if(!_0x38675b['content'])throw new m(_0x10496c(0x8d));if(_0x38675b[_0x10496c(0x610)]){let _0x494472=await this[_0x10496c(0x484)][_0x10496c(0x515)]['find']({'where':{}},this[_0x10496c(0x633)][_0x10496c(0x4c4)]);if(!_0x494472[_0x10496c(0x29f)])throw new m(_0x10496c(0x1ff));_0x38675b[_0x10496c(0x5e2)]=_0x494472[_0x10496c(0x61b)](_0x59707f=>_0x59707f[_0x10496c(0x3c0)])['map'](_0x548256=>_0x548256['_id']);}if(!_0x38675b[_0x10496c(0x5e2)]?.[_0x10496c(0x29f)]&&!_0x38675b[_0x10496c(0x610)])throw new m(_0x10496c(0x428));if(_0x38675b[_0x10496c(0x6a6)]===_0x10496c(0x501)){if(!_0x38675b['backgroundColor'])throw new m('Background\x20color\x20is\x20required');if(!_0x38675b[_0x10496c(0x1fe)])throw new m(_0x10496c(0x170));return{'content':{'text':_0x38675b[_0x10496c(0x33e)]},'option':{'backgroundColor':_0x38675b[_0x10496c(0x347)],'font':_0x38675b[_0x10496c(0x1fe)],'statusJidList':_0x38675b[_0x10496c(0x5e2)]}};}if(_0x38675b[_0x10496c(0x6a6)]===_0x10496c(0x302))return{'content':{'image':{'url':_0x38675b[_0x10496c(0x33e)]},'caption':_0x38675b['caption']},'option':{'statusJidList':_0x38675b['statusJidList']}};if(_0x38675b[_0x10496c(0x6a6)]===_0x10496c(0x119))return{'content':{'video':{'url':_0x38675b[_0x10496c(0x33e)]},'caption':_0x38675b[_0x10496c(0x60e)]},'option':{'statusJidList':_0x38675b[_0x10496c(0x5e2)]}};if(_0x38675b[_0x10496c(0x6a6)]===_0x10496c(0x5e3)){this['logger'][_0x10496c(0xb5)](_0x10496c(0x431)),this[_0x10496c(0x2dd)]['verbose'](_0x10496c(0x366));let _0x2455b0=await this[_0x10496c(0x314)](_0x38675b[_0x10496c(0x33e)]);if(typeof _0x2455b0==_0x10496c(0x246)){this[_0x10496c(0x2dd)][_0x10496c(0xb5)]('Audio\x20processed');let _0x27995a=L[_0x10496c(0x7b)](_0x2455b0)[_0x10496c(0xc6)](_0x10496c(0x4a2)),_0x5b1adf={'content':{'audio':Buffer[_0x10496c(0x13c)](_0x27995a,_0x10496c(0x4a2)),'ptt':!0x0,'mimetype':_0x10496c(0x3db)},'option':{'statusJidList':_0x38675b[_0x10496c(0x5e2)]}};return L['unlinkSync'](_0x2455b0),_0x5b1adf;}else throw new O(_0x2455b0);}throw new m('Type\x20not\x20found');}async['statusMessage'](_0x308e5d){const _0x109ee7=a0_0x146a96;return await this[_0x109ee7(0x53b)](_0x109ee7(0x399),{'status':await this[_0x109ee7(0x2cc)](_0x308e5d[_0x109ee7(0x41a)])});}async[a0_0x146a96(0x6b7)](_0x5984e6){const _0x50e5c7=a0_0x146a96;try{let _0x295a61=await(0x0,y[_0x50e5c7(0x179)])({[_0x5984e6[_0x50e5c7(0x3e9)]]:(0x0,k[_0x50e5c7(0x2e6)])(_0x5984e6[_0x50e5c7(0xf3)])?{'url':_0x5984e6['media']}:Buffer[_0x50e5c7(0x13c)](_0x5984e6['media'],_0x50e5c7(0x4a2))},{'upload':this[_0x50e5c7(0x599)][_0x50e5c7(0x468)]}),_0x3530ca=_0x5984e6[_0x50e5c7(0x3e9)]+_0x50e5c7(0x587);if(_0x5984e6['mediatype']===_0x50e5c7(0x2c8)&&!_0x5984e6[_0x50e5c7(0x1c9)]){let _0x5e2646=new RegExp(/.*\/(.+?)\./)[_0x50e5c7(0x201)](_0x5984e6[_0x50e5c7(0xf3)]);_0x5984e6[_0x50e5c7(0x1c9)]=_0x5e2646?_0x5e2646[0x1]:null;}let _0x237b5e=(0x0,k[_0x50e5c7(0x2e6)])(_0x5984e6[_0x50e5c7(0xf3)])?_0x5984e6['media'][_0x50e5c7(0x5d7)]('?')[0x0]:_0x5984e6['media'];this[_0x50e5c7(0x2dd)][_0x50e5c7(0xb5)](_0x50e5c7(0x20a)+_0x237b5e);let _0x27db3c;(0x0,k[_0x50e5c7(0x2e6)])(_0x5984e6[_0x50e5c7(0xf3)])?_0x27db3c=(0x0,It[_0x50e5c7(0x586)])(_0x237b5e):_0x5984e6[_0x50e5c7(0x1c9)]&&_0x5984e6[_0x50e5c7(0x1c9)]['includes']('.')?_0x27db3c=(0x0,It[_0x50e5c7(0x586)])(_0x5984e6[_0x50e5c7(0x1c9)]):_0x27db3c=(0x0,It[_0x50e5c7(0x586)])(_0x5984e6[_0x50e5c7(0xf3)]);let _0x55f9d3=mo,_0x2e76aa=He;return _0x2e76aa&&this[_0x50e5c7(0x381)]['toLowerCase']()[_0x50e5c7(0x322)](_0x2e76aa[_0x50e5c7(0x5a9)]())&&(_0x5984e6[_0x50e5c7(0x60e)]+='\x0a\x0a'+_0x55f9d3),_0x295a61[_0x3530ca][_0x50e5c7(0x60e)]=_0x5984e6?.[_0x50e5c7(0x60e)],_0x295a61[_0x3530ca][_0x50e5c7(0x2c6)]=_0x27db3c,_0x295a61[_0x3530ca][_0x50e5c7(0x1c9)]=_0x5984e6[_0x50e5c7(0x1c9)],_0x5984e6[_0x50e5c7(0x3e9)]===_0x50e5c7(0x119)&&(_0x295a61[_0x3530ca][_0x50e5c7(0x3f2)]=Uint8Array[_0x50e5c7(0x13c)]((0x0,ve[_0x50e5c7(0x7b)])((0x0,F[_0x50e5c7(0x695)])(process['cwd'](),_0x50e5c7(0x3e6)))),_0x295a61[_0x3530ca][_0x50e5c7(0x5bc)]=!0x1),(0x0,y['generateWAMessageFromContent'])('',{[_0x3530ca]:{..._0x295a61[_0x3530ca]}},{'userJid':this['instance'][_0x50e5c7(0x4c4)]});}catch(_0x4c538d){throw this[_0x50e5c7(0x2dd)][_0x50e5c7(0x4e3)](this['instanceName']+'\x20('+this[_0x50e5c7(0x633)][_0x50e5c7(0x4c4)]+_0x50e5c7(0x43f)+(_0x4c538d instanceof Error?_0x4c538d['message']:JSON[_0x50e5c7(0x455)](_0x4c538d,null,0x2))),new O(_0x4c538d?.['toString']()||_0x4c538d);}}async[a0_0x146a96(0x66d)](_0x4fe5ac){const _0x137753=a0_0x146a96;let _0x12071c=await this[_0x137753(0x6b7)](_0x4fe5ac[_0x137753(0x66d)]);return await this[_0x137753(0x53b)](_0x4fe5ac[_0x137753(0x4d2)],{..._0x12071c[_0x137753(0x404)]},_0x4fe5ac?.[_0x137753(0x187)]);}async['convertToWebP'](_0x59c06e,_0x2291f0){const _0x38d6e3=a0_0x146a96;try{this[_0x38d6e3(0x2dd)][_0x38d6e3(0xb5)](_0x38d6e3(0x4cd));let _0xb84515,_0x3dd731=_0x2291f0+'-'+new Date()[_0x38d6e3(0x32a)]();this[_0x38d6e3(0x2dd)][_0x38d6e3(0xb5)](_0x38d6e3(0x58f)+_0x3dd731);let _0x52ac51=''+(0x0,F['join'])(this[_0x38d6e3(0x15b)],_0x3dd731+'.webp');if(this[_0x38d6e3(0x2dd)][_0x38d6e3(0xb5)]('Output\x20path:\x20'+_0x52ac51),(0x0,k[_0x38d6e3(0x4a4)])(_0x59c06e)){this[_0x38d6e3(0x2dd)][_0x38d6e3(0xb5)](_0x38d6e3(0x2e2));let _0x200291=_0x59c06e['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x25df4b=Buffer[_0x38d6e3(0x13c)](_0x200291,'base64');_0xb84515=''+(0x0,F['join'])(this[_0x38d6e3(0x15b)],'temp-'+_0x3dd731+_0x38d6e3(0x16e)),this[_0x38d6e3(0x2dd)][_0x38d6e3(0xb5)](_0x38d6e3(0x1e8)+_0xb84515),await(0x0,xt['default'])(_0x25df4b)[_0x38d6e3(0x54b)](_0xb84515),this[_0x38d6e3(0x2dd)][_0x38d6e3(0xb5)](_0x38d6e3(0x62f));}else{this[_0x38d6e3(0x2dd)][_0x38d6e3(0xb5)](_0x38d6e3(0x53a));let _0x3273d2=new Date()[_0x38d6e3(0x32a)](),_0x1c8ab2=_0x59c06e+'?timestamp='+_0x3273d2;this[_0x38d6e3(0x2dd)][_0x38d6e3(0xb5)](_0x38d6e3(0x5eb)+_0x1c8ab2);let _0x2beadc=await se[_0x38d6e3(0x68f)]['get'](_0x1c8ab2,{'responseType':'arraybuffer'});this['logger'][_0x38d6e3(0xb5)](_0x38d6e3(0x430));let _0x180c0e=Buffer[_0x38d6e3(0x13c)](_0x2beadc['data'],_0x38d6e3(0x22a));_0xb84515=''+(0x0,F[_0x38d6e3(0x695)])(this[_0x38d6e3(0x15b)],'temp-'+_0x3dd731+_0x38d6e3(0x16e)),this[_0x38d6e3(0x2dd)][_0x38d6e3(0xb5)](_0x38d6e3(0x1e8)+_0xb84515),await(0x0,xt[_0x38d6e3(0x68f)])(_0x180c0e)['toFile'](_0xb84515),this[_0x38d6e3(0x2dd)][_0x38d6e3(0xb5)](_0x38d6e3(0x62f));}return await(0x0,xt['default'])(_0xb84515)[_0x38d6e3(0x6d2)]()['toFile'](_0x52ac51),this[_0x38d6e3(0x2dd)][_0x38d6e3(0xb5)](_0x38d6e3(0x530)),L[_0x38d6e3(0x8a)](_0xb84515),this[_0x38d6e3(0x2dd)][_0x38d6e3(0xb5)](_0x38d6e3(0xc0)),_0x52ac51;}catch(_0x1a9c7f){console[_0x38d6e3(0x4e3)]('Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:',_0x1a9c7f instanceof Error?_0x1a9c7f['message']:JSON[_0x38d6e3(0x455)](_0x1a9c7f,null,0x2));}}async[a0_0x146a96(0x36c)](_0x2b5b35){const _0x15ef17=a0_0x146a96;let _0xdcaf67=await this[_0x15ef17(0x555)](_0x2b5b35[_0x15ef17(0x26d)][_0x15ef17(0x302)],_0x2b5b35[_0x15ef17(0x4d2)]),_0x1aa807=await this[_0x15ef17(0x53b)](_0x2b5b35[_0x15ef17(0x4d2)],{'sticker':{'url':_0xdcaf67}},_0x2b5b35?.[_0x15ef17(0x187)]);return L[_0x15ef17(0x8a)](_0xdcaf67),this[_0x15ef17(0x2dd)][_0x15ef17(0xb5)]('Converted\x20image\x20deleted'),_0x1aa807;}async[a0_0x146a96(0x532)](_0x615b52){const _0x2faa0c=a0_0x146a96;if(this['logger'][_0x2faa0c(0xb5)](_0x2faa0c(0xd0)),!_0x615b52[_0x2faa0c(0x187)]?.[_0x2faa0c(0x5f5)]&&_0x615b52[_0x2faa0c(0x187)]?.['encoding']!==!0x1&&(_0x615b52['options']['encoding']=!0x0),_0x615b52[_0x2faa0c(0x187)]?.[_0x2faa0c(0x5f5)]){let _0x4e0256=await this[_0x2faa0c(0x314)](_0x615b52['audioMessage'][_0x2faa0c(0x5e3)]);if(typeof _0x4e0256==_0x2faa0c(0x246)){let _0x3b23cf=L[_0x2faa0c(0x7b)](_0x4e0256)[_0x2faa0c(0xc6)](_0x2faa0c(0x4a2)),_0x381c6a=this[_0x2faa0c(0x53b)](_0x615b52[_0x2faa0c(0x4d2)],{'audio':Buffer[_0x2faa0c(0x13c)](_0x3b23cf,'base64'),'ptt':!0x0,'mimetype':'audio/mp4'},{'presence':_0x2faa0c(0x573),'delay':_0x615b52?.[_0x2faa0c(0x187)]?.[_0x2faa0c(0x15d)]});return L[_0x2faa0c(0x8a)](_0x4e0256),this[_0x2faa0c(0x2dd)][_0x2faa0c(0xb5)]('Converted\x20audio\x20deleted'),_0x381c6a;}else throw new O(_0x4e0256);}return await this[_0x2faa0c(0x53b)](_0x615b52['number'],{'audio':(0x0,k['isURL'])(_0x615b52['audioMessage'][_0x2faa0c(0x5e3)])?{'url':_0x615b52[_0x2faa0c(0x50b)][_0x2faa0c(0x5e3)]}:Buffer[_0x2faa0c(0x13c)](_0x615b52[_0x2faa0c(0x50b)][_0x2faa0c(0x5e3)],_0x2faa0c(0x4a2)),'ptt':!0x0,'mimetype':_0x2faa0c(0x266)},{'presence':'recording','delay':_0x615b52?.[_0x2faa0c(0x187)]?.[_0x2faa0c(0x15d)]});}async['convertaudio'](_0x44bca2){const _0xfa7f51=a0_0x146a96;this['logger'][_0xfa7f51(0xb5)](_0xfa7f51(0x366));let _0x598ed4,_0x3d7508,_0x27785a=(0x0,Me['v4'])();if(this['logger']['verbose'](_0xfa7f51(0x642)+_0x27785a),(0x0,k['isURL'])(_0x44bca2)){this[_0xfa7f51(0x2dd)]['verbose'](_0xfa7f51(0x661)),_0x3d7508=''+(0x0,F[_0xfa7f51(0x695)])(this[_0xfa7f51(0x15b)],_0x27785a+_0xfa7f51(0x12c)),_0x598ed4=''+(0x0,F[_0xfa7f51(0x695)])(this[_0xfa7f51(0x15b)],_0xfa7f51(0x2b2)+_0x27785a+_0xfa7f51(0x189)),this[_0xfa7f51(0x2dd)][_0xfa7f51(0xb5)]('Output\x20audio\x20path:\x20'+_0x3d7508),this[_0xfa7f51(0x2dd)][_0xfa7f51(0xb5)]('Temp\x20audio\x20path:\x20'+_0x598ed4);let _0x971617=new Date()[_0xfa7f51(0x32a)](),_0x5cb233=_0x44bca2+_0xfa7f51(0x2eb)+_0x971617;this[_0xfa7f51(0x2dd)]['verbose']('Including\x20timestamp\x20in\x20url:\x20'+_0x5cb233);let _0x351f66=await se[_0xfa7f51(0x68f)][_0xfa7f51(0x3b3)](_0x5cb233,{'responseType':_0xfa7f51(0x4f1)});this[_0xfa7f51(0x2dd)][_0xfa7f51(0xb5)](_0xfa7f51(0x102)),L['writeFileSync'](_0x598ed4,_0x351f66[_0xfa7f51(0x25d)]);}else{this[_0xfa7f51(0x2dd)][_0xfa7f51(0xb5)](_0xfa7f51(0x4db)),_0x3d7508=''+(0x0,F[_0xfa7f51(0x695)])(this['storePath'],_0x27785a+_0xfa7f51(0x12c)),_0x598ed4=''+(0x0,F[_0xfa7f51(0x695)])(this['storePath'],'temp-'+_0x27785a+_0xfa7f51(0x189)),this[_0xfa7f51(0x2dd)][_0xfa7f51(0xb5)](_0xfa7f51(0x231)+_0x3d7508),this[_0xfa7f51(0x2dd)][_0xfa7f51(0xb5)](_0xfa7f51(0x1c0)+_0x598ed4);let _0x3b68c0=Buffer[_0xfa7f51(0x13c)](_0x44bca2,_0xfa7f51(0x4a2));L[_0xfa7f51(0x63e)](_0x598ed4,_0x3b68c0),this[_0xfa7f51(0x2dd)][_0xfa7f51(0xb5)]('Temp\x20audio\x20created');}return this[_0xfa7f51(0x2dd)]['verbose'](_0xfa7f51(0x2b8)),new Promise((_0xa33535,_0x428159)=>{const _0x10f21d=_0xfa7f51;(0x0,_t['exec'])(wo[_0x10f21d(0x68f)][_0x10f21d(0x317)]+_0x10f21d(0x2ba)+_0x598ed4+_0x10f21d(0x163)+_0x3d7508+_0x10f21d(0x409),_0x3c7518=>{const _0x4bdd14=_0x10f21d;L['unlinkSync'](_0x598ed4),this[_0x4bdd14(0x2dd)][_0x4bdd14(0xb5)](_0x4bdd14(0x23c)),_0x3c7518&&_0x428159(_0x3c7518),this[_0x4bdd14(0x2dd)]['verbose'](_0x4bdd14(0x1be)),_0xa33535(_0x3d7508);});});}async['buttonMessage'](_0x8ab57b){const _0x33a472=a0_0x146a96;let _0x4ec671={},_0x30caeb=_0x33a472(0x21a);if(_0x8ab57b[_0x33a472(0xb1)]?.[_0x33a472(0x66d)]){_0x30caeb=_0x8ab57b[_0x33a472(0xb1)][_0x33a472(0x66d)]?.['mediatype'][_0x33a472(0x1b1)]()??_0x33a472(0x21a),_0x4ec671['mediaKey']=_0x30caeb[_0x33a472(0x5a9)]()+_0x33a472(0x587);let _0xef8e15=await this[_0x33a472(0x6b7)](_0x8ab57b[_0x33a472(0xb1)][_0x33a472(0x66d)]);_0x4ec671[_0x33a472(0x404)]=_0xef8e15['message'][_0x4ec671[_0x33a472(0x687)]],_0x4ec671['contentText']='*'+_0x8ab57b[_0x33a472(0xb1)][_0x33a472(0x42e)]+_0x33a472(0xd3)+_0x8ab57b[_0x33a472(0xb1)][_0x33a472(0x5c9)];}let _0x427013={'text':_0x8ab57b[_0x33a472(0xb1)][_0x33a472(0x683)][_0x33a472(0x684)](_0x32583a=>_0x32583a[_0x33a472(0x1cf)]),'ids':_0x8ab57b[_0x33a472(0xb1)][_0x33a472(0x683)][_0x33a472(0x684)](_0x55f8c0=>_0x55f8c0[_0x33a472(0x498)])};if(!(0x0,k['arrayUnique'])(_0x427013[_0x33a472(0x501)])||!(0x0,k[_0x33a472(0x3fd)])(_0x427013[_0x33a472(0x630)]))throw new m(_0x33a472(0x112),_0x33a472(0x20e));return await this[_0x33a472(0x53b)](_0x8ab57b[_0x33a472(0x4d2)],{'buttonsMessage':{'text':_0x4ec671?.[_0x33a472(0x687)]?void 0x0:_0x8ab57b[_0x33a472(0xb1)]['title'],'contentText':_0x4ec671?.['contentText']??_0x8ab57b[_0x33a472(0xb1)][_0x33a472(0x5c9)],'footerText':_0x8ab57b[_0x33a472(0xb1)]?.['footerText'],'buttons':_0x8ab57b[_0x33a472(0xb1)][_0x33a472(0x683)][_0x33a472(0x684)](_0x54f825=>({'buttonText':{'displayText':_0x54f825[_0x33a472(0x1cf)]},'buttonId':_0x54f825[_0x33a472(0x498)],'type':0x1})),'headerType':y['proto'][_0x33a472(0x587)][_0x33a472(0x4ed)][_0x33a472(0x1b3)][_0x30caeb],[_0x4ec671?.[_0x33a472(0x687)]]:_0x4ec671?.[_0x33a472(0x404)]}},_0x8ab57b?.[_0x33a472(0x187)]);}async['locationMessage'](_0xd260b0){const _0x54bbf5=a0_0x146a96;return await this[_0x54bbf5(0x53b)](_0xd260b0[_0x54bbf5(0x4d2)],{'locationMessage':{'degreesLatitude':_0xd260b0['locationMessage'][_0x54bbf5(0x512)],'degreesLongitude':_0xd260b0[_0x54bbf5(0x689)][_0x54bbf5(0x504)],'name':_0xd260b0['locationMessage']?.['name'],'address':_0xd260b0['locationMessage']?.[_0x54bbf5(0x137)]}},_0xd260b0?.[_0x54bbf5(0x187)]);}async[a0_0x146a96(0x551)](_0x5649a2){const _0xf165e8=a0_0x146a96;let _0x2fe30b={},_0x305083=_0x93a43a=>{const _0x468616=a0_0x96ea;let _0xeb81e1=_0x468616(0x640)+_0x93a43a[_0x468616(0x4f9)]+'\x0aFN:'+_0x93a43a[_0x468616(0x4f9)]+'\x0a';_0x93a43a[_0x468616(0x6ac)]&&(_0xeb81e1+=_0x468616(0x3a7)+_0x93a43a[_0x468616(0x6ac)]+';\x0a'),_0x93a43a[_0x468616(0x21e)]&&(_0xeb81e1+='EMAIL:'+_0x93a43a['email']+'\x0a'),_0x93a43a[_0x468616(0x64b)]&&(_0xeb81e1+='URL:'+_0x93a43a['url']+'\x0a');let _0x1dd5c2='';return _0x93a43a[_0x468616(0x150)]&&_0x93a43a['phoneNumber']['split']('|')[_0x468616(0x304)]((_0x1b4397,_0x4941f6)=>{const _0x561f86=_0x468616;let _0x5b6b4d=this[_0x561f86(0x5fc)](_0x1b4397)[_0x561f86(0x3c8)](_0x561f86(0x3a2),'');_0x1dd5c2+=_0x561f86(0x577)+(_0x4941f6+0x1)+_0x561f86(0x628)+_0x5b6b4d+':'+_0x1b4397+_0x561f86(0x345)+(_0x4941f6+0x1)+'.X-ABLabel:Celular\x0a';}),_0xeb81e1+=_0x1dd5c2+_0x468616(0x528),_0xeb81e1;};return _0x5649a2['contactMessage'][_0xf165e8(0x29f)]===0x1?_0x2fe30b[_0xf165e8(0x551)]={'displayName':_0x5649a2[_0xf165e8(0x551)][0x0]['fullName'],'vcard':_0x305083(_0x5649a2['contactMessage'][0x0])}:_0x2fe30b[_0xf165e8(0x572)]={'displayName':_0x5649a2['contactMessage']['length']+_0xf165e8(0x580),'contacts':_0x5649a2[_0xf165e8(0x551)]['map'](_0x29f173=>({'displayName':_0x29f173['fullName'],'vcard':_0x305083(_0x29f173)}))},await this[_0xf165e8(0x53b)](_0x5649a2[_0xf165e8(0x4d2)],{..._0x2fe30b},_0x5649a2?.['options']);}async['reactionMessage'](_0x3eaabb){const _0x2b154c=a0_0x146a96;return await this[_0x2b154c(0x53b)](_0x3eaabb[_0x2b154c(0x3a3)][_0x2b154c(0xce)][_0x2b154c(0x291)],{'reactionMessage':{'key':_0x3eaabb['reactionMessage'][_0x2b154c(0xce)],'text':_0x3eaabb[_0x2b154c(0x3a3)][_0x2b154c(0x31b)]}});}async[a0_0x146a96(0x371)](_0x59697c){const _0x378709=a0_0x146a96;let _0x1a78ab=[];for await(let _0x217696 of _0x59697c[_0x378709(0x209)]){let _0x3b7a5f=this[_0x378709(0x5fc)](_0x217696),_0x3e5926=!0x1;try{if((0x0,y[_0x378709(0x46e)])(_0x3b7a5f)){let _0x317129=await this[_0x378709(0x4c7)]({'groupJid':_0x3b7a5f},_0x378709(0x591));_0x1a78ab[_0x378709(0x260)](new me(_0x317129['metadata']['id'],!!_0x317129?.[_0x378709(0x681)]['id'],_0x317129?.['metadata'][_0x378709(0x109)])),_0x3e5926=!!_0x317129?.[_0x378709(0x681)]['id'];}else{let _0x52cfbe=(await this[_0x378709(0x599)]['onWhatsApp'](_0x3b7a5f))[0x0];_0x1a78ab[_0x378709(0x260)](new me(_0x52cfbe[_0x378709(0x7d)],_0x52cfbe[_0x378709(0x59d)])),_0x3e5926=_0x52cfbe[_0x378709(0x59d)];}}catch{await this[_0x378709(0x357)](_0x3b7a5f,_0x3e5926),_0x1a78ab[_0x378709(0x260)](new me(_0x217696,!0x1));}}return _0x1a78ab;}async['checkAndUpdateChatStatus'](_0x14dbe4,_0x386a0c){const _0x4fbb3f=a0_0x146a96;try{await this[_0x4fbb3f(0x484)][_0x4fbb3f(0x657)]['findOne']({'where':{'_id':_0x14dbe4,'imported':!0x0}},this[_0x4fbb3f(0x633)][_0x4fbb3f(0x4c4)])&&(_0x386a0c||(await this[_0x4fbb3f(0x484)][_0x4fbb3f(0x657)][_0x4fbb3f(0x581)](_0x14dbe4,this[_0x4fbb3f(0x633)]['wuid']),console[_0x4fbb3f(0x48e)]('Chat\x20com\x20ID\x20'+_0x14dbe4+_0x4fbb3f(0x5d2))));}catch(_0x2fb921){console[_0x4fbb3f(0x4e3)](_0x4fbb3f(0x16b),_0x2fb921);}}async[a0_0x146a96(0x659)](_0x1161b8){const _0x241f2d=a0_0x146a96;try{let _0x18da6e=_0x1161b8[_0x241f2d(0xe7)][_0x241f2d(0x61b)](_0x2f23cb=>(0x0,y['isJidGroup'])(_0x2f23cb[_0x241f2d(0x291)])||(0x0,y[_0x241f2d(0x4dc)])(_0x2f23cb[_0x241f2d(0x291)]))['map'](_0x5b9642=>({'remoteJid':_0x5b9642[_0x241f2d(0x291)],'fromMe':_0x5b9642[_0x241f2d(0x34d)],'id':_0x5b9642['id']}));await this[_0x241f2d(0x599)][_0x241f2d(0xe7)](_0x18da6e);let _0x4b8753=_0x18da6e['map'](_0xaee621=>this[_0x241f2d(0x2f7)](_0xaee621,{'status':'READ','owner':this[_0x241f2d(0x633)][_0x241f2d(0x4c4)]})),_0x41f3b1=_0x18da6e['map'](_0x1e2728=>this[_0x241f2d(0x484)][_0x241f2d(0x657)]['updateOne']({'where':{'_id':_0x1e2728[_0x241f2d(0x291)]}},{'unreadcount':0x0},this[_0x241f2d(0x633)][_0x241f2d(0x4c4)])),[_0x30867b,_0x3ce223]=await Promise[_0x241f2d(0x491)]([Promise[_0x241f2d(0x491)](_0x4b8753),Promise[_0x241f2d(0x491)](_0x41f3b1)]);return _0x3ce223[_0x241f2d(0x61b)](_0x3cfaab=>_0x3cfaab!==null)[_0x241f2d(0x304)](_0x543f00=>{const _0x345c7=_0x241f2d;J(this['instanceName'],_0x345c7(0x392),{'chat':_0x543f00});}),{'message':_0x241f2d(0x373),'read':_0x241f2d(0x446)};}catch(_0x33fe08){throw console[_0x241f2d(0x4e3)](_0x241f2d(0x473),_0x33fe08),new O(_0x241f2d(0x5da),_0x33fe08[_0x241f2d(0xc6)]());}}async['getLastMessage'](_0x1fea73){const _0xf6d260=a0_0x146a96;let _0x11a557={'where':{'key':{'remoteJid':_0x1fea73}},'limit':0x1},_0xd138eb=await this[_0xf6d260(0x611)](_0x11a557);return _0xd138eb||(console[_0xf6d260(0x4e3)](_0xf6d260(0x1a2),_0x1fea73),null);}async[a0_0x146a96(0x15e)](_0x112d4a){const _0x54f9cc=a0_0x146a96;this[_0x54f9cc(0x2dd)][_0x54f9cc(0xb5)](_0x54f9cc(0x383));try{let _0x189c5c=_0x112d4a[_0x54f9cc(0x68c)],_0x98e1ce=_0x112d4a[_0x54f9cc(0x657)];if(!_0x189c5c&&_0x98e1ce?_0x189c5c=await this[_0x54f9cc(0x1dd)](_0x98e1ce):(_0x189c5c=_0x112d4a['lastMessage'],_0x189c5c[_0x54f9cc(0xc1)]=_0x189c5c?.[_0x54f9cc(0xc1)]??Date[_0x54f9cc(0x116)](),_0x98e1ce=_0x189c5c?.[_0x54f9cc(0xce)]?.[_0x54f9cc(0x291)]),!_0x189c5c||Object[_0x54f9cc(0x379)](_0x189c5c)[_0x54f9cc(0x29f)]===0x0)throw new j(_0x54f9cc(0x241));this[_0x54f9cc(0x2dd)][_0x54f9cc(0xb5)](_0x54f9cc(0x64e)+_0x98e1ce);try{await this[_0x54f9cc(0x599)][_0x54f9cc(0x35a)]({'archive':_0x112d4a['archive'],'lastMessages':[_0x189c5c]},this['createJid'](_0x98e1ce));}catch(_0x1f4921){this['logger'][_0x54f9cc(0x4e3)](_0x54f9cc(0x45a)+_0x98e1ce+':\x20'+_0x1f4921[_0x54f9cc(0xc6)]());}this[_0x54f9cc(0x2dd)][_0x54f9cc(0xb5)](_0x54f9cc(0x34f)+_0x98e1ce);let _0x476a4d=await this['repository'][_0x54f9cc(0x657)]['updateOne']({'where':{'_id':_0x189c5c?.[_0x54f9cc(0xce)]?.[_0x54f9cc(0x291)]}},{'archived':_0x112d4a[_0x54f9cc(0x360)]},this[_0x54f9cc(0x633)][_0x54f9cc(0x4c4)]);return _0x476a4d?(this['logger']['verbose']('Notifying\x20clients\x20for\x20chat:\x20'+JSON[_0x54f9cc(0x455)](_0x476a4d)),J(this[_0x54f9cc(0x381)],_0x54f9cc(0x392),{'chat':_0x476a4d})):this[_0x54f9cc(0x2dd)][_0x54f9cc(0x4e3)](_0x54f9cc(0x2c3)+_0x98e1ce),{'chatId':_0x98e1ce,'archived':_0x112d4a[_0x54f9cc(0x360)]};}catch(_0x40395b){throw this[_0x54f9cc(0x2dd)][_0x54f9cc(0x4e3)](_0x54f9cc(0x76)+_0x40395b[_0x54f9cc(0xc6)]()),new O({'archived':!0x1,'message':['An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.',_0x40395b[_0x54f9cc(0xc6)]()]});}}async['deleteMessage'](_0x5a9f15){const _0x4ab5b1=a0_0x146a96;try{let _0x38d867=await this[_0x4ab5b1(0x599)][_0x4ab5b1(0xe6)](_0x5a9f15[_0x4ab5b1(0x291)],{'delete':_0x5a9f15});try{let _0x763e2=await this['updateMessage'](_0x5a9f15,{'status':_0x4ab5b1(0x288),'owner':this[_0x4ab5b1(0x633)][_0x4ab5b1(0x4c4)]});this[_0x4ab5b1(0x2dd)][_0x4ab5b1(0xb5)](this[_0x4ab5b1(0x381)]+'\x20('+this[_0x4ab5b1(0x633)][_0x4ab5b1(0x4c4)]+_0x4ab5b1(0x251)+_0x763e2);}catch(_0x464a9c){console['error'](_0x4ab5b1(0x5f9),_0x464a9c);}return _0x38d867;}catch(_0x1cbc09){throw new O('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x1cbc09?.[_0x4ab5b1(0xc6)]());}}async[a0_0x146a96(0x161)](_0x19d0dc){const _0xa7b577=a0_0x146a96;try{let _0x2d71c2=_0x19d0dc?.[_0xa7b577(0x404)]?_0x19d0dc:await this[_0xa7b577(0x3ea)](_0x19d0dc[_0xa7b577(0xce)],!0x0);for(let _0x4c0a95 of pa)_0x2d71c2['message'][_0x4c0a95]&&(_0x2d71c2[_0xa7b577(0x404)]=_0x2d71c2[_0xa7b577(0x404)][_0x4c0a95]['message']);let _0x1e8f94,_0x358632;for(let _0x1d7b23 of da)if(_0x1e8f94=_0x2d71c2[_0xa7b577(0x404)][_0x1d7b23],_0x1e8f94){_0x358632=_0x1d7b23;break;}if(!_0x1e8f94)throw _0xa7b577(0xb0);typeof _0x1e8f94[_0xa7b577(0x687)]=='object'&&(_0x2d71c2[_0xa7b577(0x404)]=JSON[_0xa7b577(0xdd)](JSON[_0xa7b577(0x455)](_0x2d71c2[_0xa7b577(0x404)])));let _0x4489f1=await(0x0,y[_0xa7b577(0x283)])({'key':_0x2d71c2?.[_0xa7b577(0xce)],'message':_0x2d71c2?.['message']},_0xa7b577(0x4cc),{},{'logger':(0x0,Ot[_0xa7b577(0x68f)])({'level':_0xa7b577(0x631)}),'reuploadRequest':this[_0xa7b577(0x599)][_0xa7b577(0x6a3)]});if(!(_0x4489f1 instanceof Buffer))throw new Error(_0xa7b577(0x38b));let _0x4efe02=this['configService'][_0xa7b577(0x3b3)]('DATABASE'),_0x38bcc6,_0x3d48a0;if(_0x1e8f94[_0xa7b577(0x1c9)])_0x38bcc6=_0x1e8f94[_0xa7b577(0x1c9)];else{let _0x4551af=_0x1e8f94['mimetype']?.['match'](/\/(\w+)/),_0x2bea3c=_0x4551af?_0x4551af[0x1]:null;if(!_0x2bea3c)throw new Error(_0xa7b577(0x2fc));_0x38bcc6=(0x0,Me['v4'])()+'.'+_0x2bea3c;}_0x358632===_0xa7b577(0x50b)&&_0x1e8f94[_0xa7b577(0x2c6)]===_0xa7b577(0x82)?(_0x38bcc6=(0x0,Me['v4'])()+_0xa7b577(0x20b),_0x3d48a0='/media/'+await this[_0xa7b577(0x314)](_0x4489f1[_0xa7b577(0xc6)]('base64'))):(await this['saveMediaToFile'](_0x4489f1,_0x38bcc6),_0x3d48a0=_0xa7b577(0xd9)+_0x38bcc6);let _0x42b90a=this[_0xa7b577(0x598)]['get']('SERVER')[_0xa7b577(0x4fd)];if(!_0x42b90a){let _0x108393=this[_0xa7b577(0x598)][_0xa7b577(0x3b3)](_0xa7b577(0x4be));_0x42b90a=_0xa7b577(0xee)+(_0x108393&&_0x108393[_0xa7b577(0x4de)][_0xa7b577(0x5d7)]('/')[0x4]);}_0x3d48a0=''+_0x42b90a+_0x3d48a0;let _0x534471=0xc*0x3c*0x3c*0x3e8,_0x5b7946={'where':{'_id':_0x2d71c2[_0xa7b577(0xce)]['id']}},_0x1f1ce6={'message_normalized.fileUrl':_0x3d48a0,'message_normalized.expires_fileUrl':Date['now']()+_0x534471};try{let _0x3fb52f=await this[_0xa7b577(0x484)][_0xa7b577(0x404)]['update'](_0x5b7946,_0x1f1ce6,this[_0xa7b577(0x633)]['wuid']);_0x3fb52f&&J(this[_0xa7b577(0x381)],_0xa7b577(0x55a),{'message':_0x3fb52f});}catch(_0x58e44b){this['logger']['error'](this['instanceName']+'\x20('+this[_0xa7b577(0x633)][_0xa7b577(0x4c4)]+_0xa7b577(0x43f)+(_0x58e44b instanceof Error?_0x58e44b['message']:JSON[_0xa7b577(0x455)](_0x58e44b,null,0x2)));}return{'mediaType':_0x358632,'fileName':_0x1e8f94[_0xa7b577(0x1c9)],'caption':_0x1e8f94[_0xa7b577(0x60e)],'size':{'fileLength':_0x1e8f94['fileLength'],'height':_0x1e8f94[_0xa7b577(0x461)],'width':_0x1e8f94[_0xa7b577(0x21d)]},'mimetype':_0x1e8f94[_0xa7b577(0x2c6)],'base64':_0x4489f1[_0xa7b577(0xc6)](_0xa7b577(0x4a2)),'fileUrl':_0x3d48a0,'expires_fileUrl':Date[_0xa7b577(0x116)]()+_0x534471};}catch(_0x500991){throw this['logger'][_0xa7b577(0x4e3)](this[_0xa7b577(0x381)]+'\x20('+this[_0xa7b577(0x633)]['wuid']+_0xa7b577(0x43f)+(_0x500991 instanceof Error?_0x500991[_0xa7b577(0x404)]:JSON[_0xa7b577(0x455)](_0x500991,null,0x2))),new m(_0x500991[_0xa7b577(0xc6)]());}}async[a0_0x146a96(0x1d3)](_0x429062,_0x58beff){const _0x241a4c=a0_0x146a96;let _0x3ed2ae=F[_0x241a4c(0x68f)][_0x241a4c(0x695)](__dirname,'downloads');L['existsSync'](_0x3ed2ae)||L[_0x241a4c(0x472)](_0x3ed2ae,{'recursive':!0x0});let _0x5343cf=F['default'][_0x241a4c(0x695)](_0x3ed2ae,_0x58beff);return new Promise((_0x184311,_0x17393e)=>{const _0x4c667f=_0x241a4c;L[_0x4c667f(0x1cd)](_0x5343cf,_0x429062,_0x28c711=>{const _0x1e9461=_0x4c667f;_0x28c711?(this[_0x1e9461(0x2dd)][_0x1e9461(0x4e3)]('Error\x20writing\x20file:\x20'+(_0x28c711 instanceof Error?_0x28c711[_0x1e9461(0x404)]:JSON[_0x1e9461(0x455)](_0x28c711,null,0x2))),_0x17393e(_0x28c711)):(this[_0x1e9461(0x2dd)][_0x1e9461(0x48e)](_0x1e9461(0x26c)+_0x5343cf),_0x184311(_0x5343cf));});});}async[a0_0x146a96(0x65f)](_0x140cb2){const _0x12f17c=a0_0x146a96;return await this[_0x12f17c(0x484)]['contact']['find'](_0x140cb2,this['instance'][_0x12f17c(0x4c4)]);}async['fetchLabels'](){const _0x3e7ac8=a0_0x146a96;return await this['repository'][_0x3e7ac8(0x660)][_0x3e7ac8(0x54e)]({'where':{}},this[_0x3e7ac8(0x633)][_0x3e7ac8(0x4c4)]);}async[a0_0x146a96(0x611)](_0x139f1b){const _0x249860=a0_0x146a96;return await this[_0x249860(0x484)][_0x249860(0x404)]['find'](_0x139f1b,this['instance'][_0x249860(0x4c4)]);}async[a0_0x146a96(0x35c)](){const _0xb73a96=a0_0x146a96;return this['repository'][_0xb73a96(0x657)][_0xb73a96(0x3d9)](this[_0xb73a96(0x633)][_0xb73a96(0x4c4)]),this['repository']['chat'][_0xb73a96(0x59c)](this[_0xb73a96(0x633)][_0xb73a96(0x4c4)]),this[_0xb73a96(0x484)][_0xb73a96(0x657)][_0xb73a96(0x3bd)](this[_0xb73a96(0x633)][_0xb73a96(0x4c4)]),this[_0xb73a96(0x484)][_0xb73a96(0x657)]['updateMissingCustomFields'](this[_0xb73a96(0x633)][_0xb73a96(0x4c4)]),await this['repository']['chat']['find']({'where':{}},this[_0xb73a96(0x633)][_0xb73a96(0x4c4)]);}async['importChatsAntigo'](_0x57d58a){const _0x404c5f=a0_0x146a96;try{if(!Array[_0x404c5f(0x604)](_0x57d58a)||_0x57d58a['length']===0x0)throw new Error(_0x404c5f(0x51e));let _0x22d9b9=[],_0x1baa7d=[];for(let _0x37d01c of _0x57d58a){if(_0x37d01c[_0x404c5f(0x517)])_0x37d01c[_0x404c5f(0x517)]=this[_0x404c5f(0x5fc)](_0x37d01c['_id']);else continue;await this['repository'][_0x404c5f(0x657)]['findOne']({'where':{'_id':_0x37d01c[_0x404c5f(0x517)]}},this[_0x404c5f(0x633)][_0x404c5f(0x4c4)])?_0x1baa7d[_0x404c5f(0x260)]({'_id':_0x37d01c[_0x404c5f(0x517)],'leadInfo':_0x37d01c[_0x404c5f(0x641)],'owner':this[_0x404c5f(0x633)][_0x404c5f(0x4c4)]}):_0x22d9b9[_0x404c5f(0x260)]({'_id':_0x37d01c[_0x404c5f(0x517)],'owner':this[_0x404c5f(0x633)][_0x404c5f(0x4c4)],'leadInfo':_0x37d01c['leadInfo'],'imported':!0x0});}return _0x1baa7d['length']>0x0&&await this[_0x404c5f(0x484)]['chat'][_0x404c5f(0x386)](_0x1baa7d['map'](_0x3f5aee=>({'query':{'where':{'_id':_0x3f5aee[_0x404c5f(0x517)],'owner':this[_0x404c5f(0x633)]['wuid']}},'update':_0x3f5aee}))),_0x22d9b9[_0x404c5f(0x29f)]>0x0&&await this[_0x404c5f(0x484)][_0x404c5f(0x657)][_0x404c5f(0x31d)](_0x22d9b9,this['instance'][_0x404c5f(0x4c4)]),{'updated':_0x1baa7d['length'],'inserted':_0x22d9b9[_0x404c5f(0x29f)]};}catch(_0x3c3379){throw console[_0x404c5f(0x4e3)](_0x404c5f(0x4fb),_0x3c3379),_0x3c3379;}}async['importChats'](_0x57f7ba){const _0x1d59aa=a0_0x146a96;try{if(!Array[_0x1d59aa(0x604)](_0x57f7ba)||_0x57f7ba[_0x1d59aa(0x29f)]===0x0)throw new Error(_0x1d59aa(0x51e));let _0x213c49=0x64,_0x6c193d=0x0;for(let _0x5cff24=0x0;_0x5cff24<_0x57f7ba[_0x1d59aa(0x29f)];_0x5cff24+=_0x213c49){let _0x111859=_0x57f7ba[_0x1d59aa(0x86)](_0x5cff24,_0x5cff24+_0x213c49),{updated:_0x1ae7bc}=await this[_0x1d59aa(0x332)](_0x111859);_0x6c193d+=_0x1ae7bc;}return{'updated':_0x6c193d};}catch(_0x5e6913){throw console[_0x1d59aa(0x4e3)](_0x1d59aa(0x4fb),_0x5e6913),_0x5e6913;}}async[a0_0x146a96(0x332)](_0x56c07f){const _0x763bc7=a0_0x146a96;try{let _0x5cb844=await this[_0x763bc7(0x484)]['label'][_0x763bc7(0x54e)]({'where':{}},this[_0x763bc7(0x633)]['wuid']),_0x27e394=new Set(_0x5cb844[_0x763bc7(0x684)](_0x198a3e=>_0x198a3e['_id'])),_0x237994=[],_0x4f4b59=[];for(let _0xdc29a2 of _0x56c07f){if(!_0xdc29a2[_0x763bc7(0x517)])continue;_0xdc29a2[_0x763bc7(0x517)]=this[_0x763bc7(0x5fc)](_0xdc29a2[_0x763bc7(0x517)]);let _0x12f2af=await this[_0x763bc7(0x484)]['chat'][_0x763bc7(0x592)]({'where':{'_id':_0xdc29a2[_0x763bc7(0x517)]}},this[_0x763bc7(0x633)][_0x763bc7(0x4c4)]),_0x21e6c1={};if(Object[_0x763bc7(0x14c)](_0xdc29a2['leadInfo'])[_0x763bc7(0x304)](([_0x11686d,_0x41f9c4])=>{_0x21e6c1['leadInfo.'+_0x11686d]=_0x41f9c4;}),_0x12f2af&&!_0x12f2af['imported']){let _0x141eed=(_0xdc29a2[_0x763bc7(0x641)][_0x763bc7(0x274)]||[])[_0x763bc7(0x61b)](_0x23ec78=>_0x27e394[_0x763bc7(0x2ea)](_0x23ec78)),_0x1938c3=new Set(_0x12f2af[_0x763bc7(0x641)][_0x763bc7(0x274)]||[]),_0x1b9669=_0x141eed['filter'](_0x350fc0=>!_0x1938c3[_0x763bc7(0x2ea)](_0x350fc0)),_0x1a0b48=[..._0x1938c3][_0x763bc7(0x61b)](_0x209fe6=>!_0x141eed[_0x763bc7(0x322)](_0x209fe6));_0x4f4b59[_0x763bc7(0x260)](..._0x1b9669[_0x763bc7(0x684)](_0x75e1=>this[_0x763bc7(0x365)](_0x75e1,_0xdc29a2['_id']))),_0x4f4b59[_0x763bc7(0x260)](..._0x1a0b48[_0x763bc7(0x684)](_0x2ac7ab=>this[_0x763bc7(0x696)](_0x2ac7ab,_0xdc29a2[_0x763bc7(0x517)]))),_0xdc29a2['leadInfo']['etiquetas']=_0x141eed,_0x237994[_0x763bc7(0x260)]({'query':{'where':{'_id':_0xdc29a2[_0x763bc7(0x517)],'owner':this[_0x763bc7(0x633)][_0x763bc7(0x4c4)]}},'update':_0x21e6c1});}else _0x21e6c1['imported']=!0x0,_0x237994['push']({'query':{'where':{'_id':_0xdc29a2['_id'],'owner':this[_0x763bc7(0x633)][_0x763bc7(0x4c4)]}},'update':_0x21e6c1});}let _0x3b05fa=await this[_0x763bc7(0x484)]['chat'][_0x763bc7(0x386)](_0x237994);return await Promise[_0x763bc7(0x491)](_0x4f4b59),{'updated':_0x3b05fa};}catch(_0x31e31a){throw console[_0x763bc7(0x4e3)](_0x763bc7(0x4fb),_0x31e31a),_0x31e31a;}}async[a0_0x146a96(0x424)](){return await this['client']['fetchPrivacySettings']();}async[a0_0x146a96(0x5cd)](_0x47bb23){const _0x2001d2=a0_0x146a96;try{return await this[_0x2001d2(0x599)][_0x2001d2(0x653)](_0x47bb23['privacySettings'][_0x2001d2(0x281)]),await this[_0x2001d2(0x599)][_0x2001d2(0x222)](_0x47bb23[_0x2001d2(0x26e)][_0x2001d2(0x670)]),await this[_0x2001d2(0x599)]['updateStatusPrivacy'](_0x47bb23[_0x2001d2(0x26e)]['status']),await this[_0x2001d2(0x599)][_0x2001d2(0x37f)](_0x47bb23[_0x2001d2(0x26e)][_0x2001d2(0x465)]),await this[_0x2001d2(0x599)]['updateLastSeenPrivacy'](_0x47bb23['privacySettings'][_0x2001d2(0x1d5)]),await this[_0x2001d2(0x599)][_0x2001d2(0x1aa)](_0x47bb23[_0x2001d2(0x26e)]['groupadd']),this['client']?.['ws']?.[_0x2001d2(0x320)](),{'update':_0x2001d2(0x446),'data':{'readreceipts':_0x47bb23[_0x2001d2(0x26e)][_0x2001d2(0x281)],'profile':_0x47bb23[_0x2001d2(0x26e)][_0x2001d2(0x670)],'status':_0x47bb23[_0x2001d2(0x26e)][_0x2001d2(0x419)],'online':_0x47bb23[_0x2001d2(0x26e)][_0x2001d2(0x465)],'last':_0x47bb23[_0x2001d2(0x26e)][_0x2001d2(0x1d5)],'groupadd':_0x47bb23[_0x2001d2(0x26e)][_0x2001d2(0x257)]}};}catch(_0x5b4eee){throw new O(_0x2001d2(0x77),_0x5b4eee[_0x2001d2(0xc6)]());}}async['fetchProfile2'](_0x2b113e){const _0x4b74b9=a0_0x146a96;let _0x46eead=_0x2b113e?this[_0x4b74b9(0x5fc)](_0x2b113e):this['client']?.['user']?.['id'];this[_0x4b74b9(0x2dd)][_0x4b74b9(0xb5)]('Getting\x20profile\x20with\x20jid:\x20'+_0x46eead);try{if(this['logger']['verbose'](_0x4b74b9(0x3b0)),_0x2b113e){let _0x3f6d55=(await this['whatsappNumber']({'numbers':[_0x46eead]}))?.[_0x4b74b9(0x2bf)](),_0x21d554=await this[_0x4b74b9(0x520)](_0x3f6d55?.[_0x4b74b9(0x7d)]),_0x53486f=await this[_0x4b74b9(0x585)](_0x3f6d55?.[_0x4b74b9(0x7d)]),_0x3a1d1f=await this[_0x4b74b9(0x2a2)](_0x3f6d55?.[_0x4b74b9(0x7d)]);return{'wuid':_0x3f6d55?.['jid']||_0x46eead,'name':_0x3f6d55?.[_0x4b74b9(0x68a)],'numberExists':_0x3f6d55?.[_0x4b74b9(0x59d)],'picture':_0x21d554?.[_0x4b74b9(0x4ca)],'status':_0x53486f?.[_0x4b74b9(0x419)],'isBusiness':_0x3a1d1f[_0x4b74b9(0xfe)],'email':_0x3a1d1f?.[_0x4b74b9(0x21e)],'description':_0x3a1d1f?.[_0x4b74b9(0x5c9)],'website':_0x3a1d1f?.[_0x4b74b9(0x1e2)]?.[_0x4b74b9(0x2bf)]()};}}catch{return this[_0x4b74b9(0x2dd)][_0x4b74b9(0xb5)]('Profile\x20not\x20found'),{'wuid':_0x46eead,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x146a96(0x333)](_0x122c71){const _0x459dfc=a0_0x146a96;let _0xf4fc06=(_0x122c71?this[_0x459dfc(0x5fc)](_0x122c71):this['client']?.[_0x459dfc(0xf4)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0x459dfc(0x2dd)]['verbose'](_0x459dfc(0x35f)+_0xf4fc06);let _0x5b06c4=await this[_0x459dfc(0x484)][_0x459dfc(0x515)][_0x459dfc(0x592)]({'where':{'_id':_0xf4fc06}},this[_0x459dfc(0x633)][_0x459dfc(0x4c4)]),_0xe3caa2=_0x5b06c4?_0x5b06c4[_0x459dfc(0x3c0)]:null;try{let _0xd821d3=(await this['whatsappNumber']({'numbers':[_0xf4fc06]}))?.[_0x459dfc(0x2bf)](),_0xde7c1d=await this['profilePicture'](_0xd821d3?.[_0x459dfc(0x7d)]),_0x5b80e1=await this['getStatus'](_0xd821d3?.[_0x459dfc(0x7d)]),_0x37cbcb=await this['fetchBusinessProfile'](_0xd821d3?.[_0x459dfc(0x7d)]),_0x1d3c16=await this[_0x459dfc(0x484)][_0x459dfc(0x657)]['findOne']({'where':{'_id':_0xf4fc06}},this[_0x459dfc(0x633)][_0x459dfc(0x4c4)]),_0x248fc4={'imagechat':_0xde7c1d?.['profilePictureUrl'],'contactname':_0xe3caa2||null,'status':_0x5b80e1?.[_0x459dfc(0x419)],'isBusiness':_0x37cbcb[_0x459dfc(0xfe)],'email':_0x37cbcb?.[_0x459dfc(0x21e)],'description':_0x37cbcb?.['description'],'website':_0x37cbcb?.[_0x459dfc(0x1e2)]?.[_0x459dfc(0x2bf)](),'lastcache':Date[_0x459dfc(0x116)](),'imported':!_0x1d3c16},_0x26a0af=await this['repository'][_0x459dfc(0x657)][_0x459dfc(0x5af)]({'where':{'_id':_0xf4fc06}},_0x248fc4,this[_0x459dfc(0x633)][_0x459dfc(0x4c4)]),_0x571c45={'owner':this['instance']['wuid'],'_id':_0xf4fc06,'profilePictureUrl':_0xde7c1d?.[_0x459dfc(0x4ca)],'status':_0x5b80e1?.[_0x459dfc(0x419)]};return this[_0x459dfc(0x484)][_0x459dfc(0x515)]['update']([_0x571c45],this[_0x459dfc(0x633)][_0x459dfc(0x4c4)]),_0x26a0af&&J(this[_0x459dfc(0x381)],_0x459dfc(0x392),{'chat':_0x26a0af}),{'wuid':_0xd821d3?.['jid']||_0xf4fc06,'name':_0xd821d3?.[_0x459dfc(0x68a)],'numberExists':_0xd821d3?.[_0x459dfc(0x59d)],'picture':_0xde7c1d?.['profilePictureUrl'],'status':_0x5b80e1?.[_0x459dfc(0x419)],'isBusiness':_0x37cbcb[_0x459dfc(0xfe)],'email':_0x37cbcb?.['email'],'description':_0x37cbcb?.[_0x459dfc(0x5c9)],'website':_0x37cbcb?.['website']?.[_0x459dfc(0x2bf)]()};}catch(_0x291bb8){return this[_0x459dfc(0x2dd)][_0x459dfc(0x4e3)](_0x459dfc(0x1e3)+(_0x291bb8 instanceof Error?_0x291bb8[_0x459dfc(0x404)]:JSON[_0x459dfc(0x455)](_0x291bb8,null,0x2))),{};}}async[a0_0x146a96(0x2a2)](_0x46f58b){const _0x731fa8=a0_0x146a96;this[_0x731fa8(0x2dd)][_0x731fa8(0xb5)](_0x731fa8(0x5d3));try{let _0x1b3e31=_0x46f58b?this[_0x731fa8(0x5fc)](_0x46f58b):this[_0x731fa8(0x633)][_0x731fa8(0x4c4)],_0xb6fb43=await this[_0x731fa8(0x599)][_0x731fa8(0x214)](_0x1b3e31);return this[_0x731fa8(0x2dd)][_0x731fa8(0xb5)]('Trying\x20to\x20get\x20business\x20profile'),_0xb6fb43?(this[_0x731fa8(0x2dd)][_0x731fa8(0xb5)](_0x731fa8(0x13e)),{'isBusiness':!0x0,..._0xb6fb43}):{'isBusiness':!0x1,'message':_0x731fa8(0x47b),...(await this[_0x731fa8(0x371)]({'numbers':[_0x1b3e31]}))?.['shift']()};}catch(_0x4f11d9){throw new O(_0x731fa8(0x63d),_0x4f11d9[_0x731fa8(0xc6)]());}}async[a0_0x146a96(0x585)](_0x349ce4){const _0x5020c9=a0_0x146a96;let _0x583d08=this[_0x5020c9(0x5fc)](_0x349ce4);try{return{'wuid':_0x583d08,'status':(await this[_0x5020c9(0x599)][_0x5020c9(0x9b)](_0x583d08))?.[_0x5020c9(0x419)]};}catch{return{'wuid':_0x583d08,'status':null};}}async['updateProfileName'](_0x531faa){const _0x4e1c65=a0_0x146a96;try{return await this['client']['updateProfileName'](_0x531faa),{'update':_0x4e1c65(0x446)};}catch(_0x3a1c36){throw new O(_0x4e1c65(0x63d),_0x3a1c36['toString']());}}async[a0_0x146a96(0x5fe)](_0x47a2ef){const _0x362d7b=a0_0x146a96;try{return await this[_0x362d7b(0x599)][_0x362d7b(0x5fe)](_0x47a2ef),{'update':'success'};}catch(_0x4b374c){throw new O(_0x362d7b(0x149),_0x4b374c['toString']());}}async[a0_0x146a96(0x1a3)](_0xf7b8f8){const _0x4bc016=a0_0x146a96;try{let _0x1db9a2;if((0x0,k[_0x4bc016(0x2e6)])(_0xf7b8f8)){let _0x33a935=new Date()[_0x4bc016(0x32a)](),_0x16c2c1=_0xf7b8f8+_0x4bc016(0x2eb)+_0x33a935;_0x1db9a2=(await se['default']['get'](_0x16c2c1,{'responseType':_0x4bc016(0x4f1)}))[_0x4bc016(0x25d)];}else{if((0x0,k['isBase64'])(_0xf7b8f8))_0x1db9a2=Buffer[_0x4bc016(0x13c)](_0xf7b8f8,_0x4bc016(0x4a2));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x4bc016(0x599)]['updateProfilePicture'](this[_0x4bc016(0x633)][_0x4bc016(0x4c4)],_0x1db9a2),{'update':_0x4bc016(0x446)};}catch(_0x443e22){throw new O('Error\x20updating\x20profile\x20picture',_0x443e22[_0x4bc016(0xc6)]());}}async[a0_0x146a96(0x33a)](){const _0x32274c=a0_0x146a96;try{return await this[_0x32274c(0x599)][_0x32274c(0x33a)](this[_0x32274c(0x633)][_0x32274c(0x4c4)]),{'update':_0x32274c(0x446)};}catch(_0x2c0b01){throw new O('Error\x20removing\x20profile\x20picture',_0x2c0b01[_0x32274c(0xc6)]());}}async[a0_0x146a96(0x3af)](_0x14075a){const _0x3352fb=a0_0x146a96;try{let _0x1ac0a7=_0x14075a['participants']['map'](_0x1bd70e=>this[_0x3352fb(0x5fc)](_0x1bd70e)),{id:_0x4f2072}=await this[_0x3352fb(0x599)][_0x3352fb(0x118)](_0x14075a[_0x3352fb(0x109)],_0x1ac0a7);return _0x14075a?.['description']&&await this[_0x3352fb(0x599)]['groupUpdateDescription'](_0x4f2072,_0x14075a[_0x3352fb(0x5c9)]),{'metadata':await this[_0x3352fb(0x599)][_0x3352fb(0x4bb)](_0x4f2072)};}catch(_0x26a1e4){throw this[_0x3352fb(0x2dd)]['error'](this[_0x3352fb(0x381)]+'\x20('+this[_0x3352fb(0x633)]['wuid']+_0x3352fb(0x43f)+(_0x26a1e4 instanceof Error?_0x26a1e4[_0x3352fb(0x404)]:JSON[_0x3352fb(0x455)](_0x26a1e4,null,0x2))),new O(_0x3352fb(0x178),_0x26a1e4[_0x3352fb(0xc6)]());}}async[a0_0x146a96(0x3ff)](_0x5c3747){const _0x58012f=a0_0x146a96;try{let _0xa06491;if((0x0,k[_0x58012f(0x2e6)])(_0x5c3747['image'])){let _0x3ab65b=new Date()[_0x58012f(0x32a)](),_0x2b79f3=_0x5c3747[_0x58012f(0x302)]+'?timestamp='+_0x3ab65b;_0xa06491=(await se[_0x58012f(0x68f)][_0x58012f(0x3b3)](_0x2b79f3,{'responseType':_0x58012f(0x4f1)}))[_0x58012f(0x25d)];}else{if((0x0,k[_0x58012f(0x4a4)])(_0x5c3747[_0x58012f(0x302)]))_0xa06491=Buffer[_0x58012f(0x13c)](_0x5c3747[_0x58012f(0x302)],'base64');else throw new m(_0x58012f(0x3c2));}return await this[_0x58012f(0x599)]['updateProfilePicture'](_0x5c3747[_0x58012f(0x353)],_0xa06491),{'update':_0x58012f(0x446)};}catch(_0x3c2bbb){throw new O('Error\x20update\x20group\x20picture',_0x3c2bbb[_0x58012f(0xc6)]());}}async[a0_0x146a96(0x4c7)](_0x41f5e5,_0x3991be=a0_0x146a96(0x12f)){const _0x2505d1=a0_0x146a96;try{let _0x482ff6=await this['client'][_0x2505d1(0x4bb)](_0x41f5e5[_0x2505d1(0x353)]),_0x562659=null;try{_0x562659=(await this[_0x2505d1(0x520)](_0x41f5e5[_0x2505d1(0x353)]))[_0x2505d1(0x4ca)];}catch(_0x4912ac){this[_0x2505d1(0x2dd)][_0x2505d1(0xb5)](this[_0x2505d1(0x381)]+'\x20('+this['instance']['wuid']+_0x2505d1(0x61a)+_0x41f5e5[_0x2505d1(0x353)]+':\x20'+(_0x4912ac instanceof Error?_0x4912ac[_0x2505d1(0x404)]:JSON[_0x2505d1(0x455)](_0x4912ac,null,0x2)));}let _0x1d8a1a=await this[_0x2505d1(0x484)]['chat'][_0x2505d1(0x5af)]({'where':{'_id':_0x41f5e5[_0x2505d1(0x353)]}},{'imagechat':_0x562659,'name':_0x482ff6[_0x2505d1(0x109)],'group_size':_0x482ff6[_0x2505d1(0x14d)],'group_announce':_0x482ff6[_0x2505d1(0x9c)],'lastcache':Date[_0x2505d1(0x116)]()},this[_0x2505d1(0x633)]['wuid']);return _0x1d8a1a&&J(this[_0x2505d1(0x381)],_0x2505d1(0x392),{'chat':_0x1d8a1a}),{'metadata':_0x482ff6,'image':_0x562659};}catch(_0xc52ed7){if(_0x3991be===_0x2505d1(0x591))return;throw new j(_0x2505d1(0x5a0),_0xc52ed7[_0x2505d1(0xc6)]());}}async[a0_0x146a96(0x5cc)](_0x2a789a){const _0x1a38b6=a0_0x146a96;try{return await this[_0x1a38b6(0x599)][_0x1a38b6(0x84)](_0x2a789a[_0x1a38b6(0x353)],_0x2a789a[_0x1a38b6(0x5c9)]),{'update':_0x1a38b6(0x446)};}catch(_0x48d487){throw new O('Error\x20change\x20group\x20description',_0x48d487[_0x1a38b6(0xc6)]());}}async[a0_0x146a96(0x6c2)](_0x51bffd){const _0x554ee8=a0_0x146a96;try{return await this[_0x554ee8(0x599)][_0x554ee8(0x627)](_0x51bffd[_0x554ee8(0x353)],_0x51bffd[_0x554ee8(0x68a)]),{'update':_0x554ee8(0x446)};}catch(_0xbf9f44){throw new O(_0x554ee8(0x2cb),_0xbf9f44[_0x554ee8(0xc6)]());}}async['groupSetting'](_0xef4c2c){const _0x39b5d6=a0_0x146a96;try{return await this[_0x39b5d6(0x599)][_0x39b5d6(0x384)](_0xef4c2c[_0x39b5d6(0x353)],_0xef4c2c[_0x39b5d6(0x4d6)]),{'update':_0x39b5d6(0x446)};}catch(_0x1b2e99){throw new O('Error\x20change\x20group\x20setting',_0x1b2e99[_0x39b5d6(0xc6)]());}}async[a0_0x146a96(0x391)](){const _0x5c6cf4=a0_0x146a96;try{let _0x3cfe45=[],_0x55cb3d=await this[_0x5c6cf4(0x599)]['groupFetchAllParticipating'](),_0xbf0c1d=Object[_0x5c6cf4(0x6b6)](_0x55cb3d),_0x24025d=_0xbf0c1d[_0x5c6cf4(0x61b)](_0x11d4e2=>(0x0,y[_0x5c6cf4(0x46e)])(_0x11d4e2?.['id']))['map'](async _0x3ca641=>{const _0x282f01=_0x5c6cf4;try{return await this[_0x282f01(0x599)][_0x282f01(0x4ca)](_0x3ca641['id'],_0x282f01(0x9f));}catch(_0x219a6e){return this[_0x282f01(0x2dd)][_0x282f01(0xb5)](this['instanceName']+'\x20('+this[_0x282f01(0x633)]['wuid']+_0x282f01(0x61a)+_0x3ca641['id']+':\x20'+(_0x219a6e instanceof Error?_0x219a6e['message']:JSON[_0x282f01(0x455)](_0x219a6e,null,0x2))),null;}}),_0x2cd685=await Promise[_0x5c6cf4(0x491)](_0x24025d);for(let _0x23f815=0x0;_0x23f815<_0xbf0c1d[_0x5c6cf4(0x29f)];_0x23f815++){let _0x3e705a=_0xbf0c1d[_0x23f815];(0x0,y['isJidGroup'])(_0x3e705a?.['id'])&&_0x3cfe45[_0x5c6cf4(0x260)]({'groupJid':_0x3e705a?.['id'],'subject':_0x3e705a?.[_0x5c6cf4(0x109)],'subjectOwner':_0x3e705a?.[_0x5c6cf4(0x609)]?.['split']('@')[0x0],'subjectTime':_0x3e705a?.[_0x5c6cf4(0x68b)],'size':_0x3e705a?.[_0x5c6cf4(0x543)]?.[_0x5c6cf4(0x29f)],'owner':_0x3e705a?.[_0x5c6cf4(0x52b)]?.[_0x5c6cf4(0x5d7)]('@')[0x0],'creation':_0x3e705a?.[_0x5c6cf4(0x68d)],'desc':_0x3e705a?.['desc'],'restrict':_0x3e705a?.[_0x5c6cf4(0x6bb)],'announce':_0x3e705a?.['announce'],'image':_0x2cd685[_0x23f815]});}return _0x3cfe45;}catch(_0x5c4886){throw new j(_0x5c6cf4(0x5a0),_0x5c4886[_0x5c6cf4(0xc6)]());}}async[a0_0x146a96(0x4af)](_0x5e37ce){const _0x5c657d=a0_0x146a96;try{let _0x5d8476=await this[_0x5c657d(0x599)]['groupInviteCode'](_0x5e37ce[_0x5c657d(0x353)]);return{'inviteUrl':_0x5c657d(0x2c5)+_0x5d8476,'inviteCode':_0x5d8476};}catch(_0x582947){throw new j('No\x20invite\x20code',_0x582947[_0x5c657d(0xc6)]());}}async['revokeInviteCode'](_0x2b5938){const _0x29f530=a0_0x146a96;try{let _0x4f8c82=await this['client']['groupRevokeInvite'](_0x2b5938[_0x29f530(0x353)]);return{'revoked':!0x0,'inviteUrl':_0x29f530(0x2c5)+_0x4f8c82,'inviteCode':_0x4f8c82};}catch(_0x2bede3){throw new j(_0x29f530(0x2a1),_0x2bede3['toString']());}}async[a0_0x146a96(0x29d)](_0x4da4b4){const _0x52eb82=a0_0x146a96;try{if((0x0,k[_0x52eb82(0x2e6)])(_0x4da4b4['inviteCode']))var _0x3d08f3=_0x4da4b4[_0x52eb82(0x4af)]['split']('/')[0x3];else var _0x3d08f3=_0x4da4b4[_0x52eb82(0x4af)];let _0x2b4365=await this[_0x52eb82(0x599)][_0x52eb82(0x151)](_0x3d08f3);return this[_0x52eb82(0x2dd)]['verbose'](this[_0x52eb82(0x381)]+'\x20('+this[_0x52eb82(0x633)]['wuid']+_0x52eb82(0x43f)+_0x2b4365),{'join':!0x0,'inviteCode':_0x3d08f3,'groupJid':_0x2b4365};}catch(_0x161ea3){throw new j('No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x161ea3[_0x52eb82(0xc6)]());}}async[a0_0x146a96(0x31a)](_0x32481a){const _0x2fe38f=a0_0x146a96;try{return{'participants':(await this['client'][_0x2fe38f(0x4bb)](_0x32481a[_0x2fe38f(0x353)]))[_0x2fe38f(0x543)]};}catch(_0x330612){throw new j('No\x20participants',_0x330612[_0x2fe38f(0xc6)]());}}async[a0_0x146a96(0x2d6)](_0x521464){const _0x4ac737=a0_0x146a96;try{let _0x31920b=_0x521464[_0x4ac737(0x543)][_0x4ac737(0x684)](_0x1459f9=>this[_0x4ac737(0x5fc)](_0x1459f9));return{'updateParticipants':await this[_0x4ac737(0x599)][_0x4ac737(0x2fb)](_0x521464['groupJid'],_0x31920b,_0x521464['action'])};}catch(_0x4b889c){throw new m(_0x4ac737(0x6cc),_0x4b889c['toString']());}}async['toggleEphemeral'](_0x1f9ca6){const _0x42ab9c=a0_0x146a96;try{let _0x58c96f=await this['client'][_0x42ab9c(0x4fa)](_0x1f9ca6[_0x42ab9c(0x353)],_0x1f9ca6[_0x42ab9c(0x5d6)]);return{'success':!0x0};}catch(_0x3a4406){throw new m(_0x42ab9c(0x175),_0x3a4406[_0x42ab9c(0xc6)]());}}async[a0_0x146a96(0x3a4)](_0x3ddf1a){const _0x26d934=a0_0x146a96;try{return await this[_0x26d934(0x599)][_0x26d934(0x46f)](_0x3ddf1a['groupJid']),{'groupJid':_0x3ddf1a[_0x26d934(0x353)],'leave':!0x0};}catch(_0x273d2b){throw new m(_0x26d934(0xf2),_0x273d2b[_0x26d934(0xc6)]());}}async[a0_0x146a96(0x10f)](_0xa9ec40){const _0x20bd44=a0_0x146a96;return await this['sendMessageWithTyping'](_0xa9ec40[_0x20bd44(0x4d2)],{'poll':{'name':_0xa9ec40[_0x20bd44(0x10f)]?.[_0x20bd44(0x68a)],'selectableCount':_0xa9ec40[_0x20bd44(0x10f)][_0x20bd44(0xf0)],'values':_0xa9ec40[_0x20bd44(0x10f)][_0x20bd44(0x6b6)]}},_0xa9ec40?.[_0x20bd44(0x187)]);}async[a0_0x146a96(0x4e4)](_0x599f1f){const _0x25f53c=a0_0x146a96;return await this[_0x25f53c(0x53b)](_0x599f1f[_0x25f53c(0x4d2)],{'listMessage':{'title':_0x599f1f[_0x25f53c(0x4e4)]['title'],'description':_0x599f1f[_0x25f53c(0x4e4)]['description'],'buttonText':_0x599f1f[_0x25f53c(0x4e4)]?.[_0x25f53c(0x1cf)],'footerText':_0x599f1f['listMessage']?.[_0x25f53c(0x4c5)],'sections':_0x599f1f['listMessage'][_0x25f53c(0x453)],'listType':0x2}},_0x599f1f?.['options']);}async[a0_0x146a96(0x620)](_0x2ce9be){const _0x42884d=a0_0x146a96;let _0xa6a12;if(_0x2ce9be[_0x42884d(0x620)][_0x42884d(0x6a6)]==='list'){let _0x19d1cb=_0x2ce9be[_0x42884d(0x620)][_0x42884d(0x501)][_0x42884d(0x39c)]('\x0a'),_0x3a0df8='',_0x1f738e='';_0x19d1cb!==-0x1?(_0x3a0df8=_0x2ce9be[_0x42884d(0x620)]['text']['substring'](0x0,_0x19d1cb)[_0x42884d(0x546)](),_0x1f738e=_0x2ce9be['menuMessage'][_0x42884d(0x501)]['substring'](_0x19d1cb+0x1)):_0x1f738e=_0x2ce9be[_0x42884d(0x620)][_0x42884d(0x501)];let _0x20835e=this[_0x42884d(0x232)](_0x2ce9be[_0x42884d(0x620)][_0x42884d(0x37b)]);_0xa6a12={'listMessage':{'title':_0x3a0df8,'description':_0x1f738e,'buttonText':_0x2ce9be[_0x42884d(0x620)][_0x42884d(0x1cf)]||'Selecione','footerText':_0x2ce9be['menuMessage'][_0x42884d(0x4c5)],'sections':_0x20835e,'listType':0x2}};}else{if(_0x2ce9be['menuMessage']['type']==='poll'){let _0x3966b8=_0x2ce9be[_0x42884d(0x620)][_0x42884d(0x37b)]['filter'](_0x14d130=>!(_0x14d130['startsWith']('[')&&_0x14d130['endsWith'](']')))[_0x42884d(0x684)](_0x5daa56=>_0x5daa56[_0x42884d(0x5d7)]('\x0a')[0x0]);_0xa6a12={'poll':{'name':_0x2ce9be[_0x42884d(0x620)][_0x42884d(0x501)],'selectableCount':_0x2ce9be['menuMessage']['selectableCount']||0x1,'values':_0x3966b8}};}}return await this['sendMessageWithTyping'](_0x2ce9be[_0x42884d(0x4d2)],_0xa6a12,_0x2ce9be?.[_0x42884d(0x187)]);}[a0_0x146a96(0x232)](_0x56069f){const _0x1d3096=a0_0x146a96;let _0x259b2d=[],_0x55abee={'rows':[]};return _0x56069f[_0x1d3096(0x304)](_0x14d63b=>{const _0x132ce9=_0x1d3096;if(_0x14d63b[_0x132ce9(0x2e5)]('[')&&_0x14d63b[_0x132ce9(0x1ed)](']'))_0x55abee['rows'][_0x132ce9(0x29f)]>0x0&&_0x259b2d[_0x132ce9(0x260)](_0x55abee),_0x55abee={'title':_0x14d63b[_0x132ce9(0x86)](0x1,-0x1),'rows':[]};else{let _0x407a6d=_0x14d63b[_0x132ce9(0x5d7)]('\x0a')['map'](_0x1f7bc6=>_0x1f7bc6[_0x132ce9(0x546)]()),_0x5a8461=_0x407a6d[0x0],_0x46dcce=_0x407a6d[0x1]||null,_0xee2c62=_0x407a6d[0x2]||_0x5a8461;_0x55abee['rows'][_0x132ce9(0x260)]({'title':_0x5a8461,'description':_0x46dcce,'rowId':_0xee2c62});}}),_0x55abee[_0x1d3096(0x558)][_0x1d3096(0x29f)]>0x0&&_0x259b2d['push'](_0x55abee),_0x259b2d;}async[a0_0x146a96(0x2f7)](_0x42d702,_0x4da707){const _0x1fadb9=a0_0x146a96;if(await this[_0x1fadb9(0x3ea)](_0x42d702,!0x0)){let _0x39fa91={'where':{'_id':_0x42d702['id']}},_0x566b6b={'status':[_0x4da707[_0x1fadb9(0x419)]][0x0]};try{let _0x4ca47e=await this[_0x1fadb9(0x484)][_0x1fadb9(0x404)][_0x1fadb9(0x11a)](_0x39fa91,_0x566b6b,this[_0x1fadb9(0x633)]['wuid']);_0x4ca47e&&J(this['instanceName'],_0x1fadb9(0x55a),{'message':_0x4ca47e});}catch{}}}[a0_0x146a96(0x12e)](_0x36a197){const _0x6d67f3=a0_0x146a96;let _0x344706=[];return _0x36a197[_0x6d67f3(0x304)](_0x574bd8=>{const _0x2e136c=_0x6d67f3;_0x574bd8[_0x2e136c(0x42e)]&&_0x344706['push']('['+_0x574bd8[_0x2e136c(0x42e)]+']'),_0x574bd8[_0x2e136c(0x558)][_0x2e136c(0x304)](_0x45f9b4=>{const _0x47b44b=_0x2e136c;_0x344706[_0x47b44b(0x260)](_0x45f9b4[_0x47b44b(0x42e)]);});}),_0x344706[_0x6d67f3(0x695)]('|');}[a0_0x146a96(0x526)](_0x5ba62d){const _0x2c62c5=a0_0x146a96;let _0x42a822=_0x5ba62d[_0x2c62c5(0x3c8)](/\\n/g,'\x0a')[_0x2c62c5(0x5d7)]('\x0a')[_0x2c62c5(0x61b)](_0x457bb5=>_0x457bb5[_0x2c62c5(0x322)](_0x2c62c5(0x27d))||_0x457bb5['includes'](_0x2c62c5(0x478))),_0x2ec133='';return _0x42a822[_0x2c62c5(0x304)](_0x14ba5c=>{const _0x3da611=_0x2c62c5;let _0x43c3b7=/TEL(?:.*):(.+)/,_0x1312f3=/EMAIL(?:.*):(.+)/,_0x4a7b67=_0x14ba5c['match'](_0x43c3b7),_0x5e67ca=_0x14ba5c['match'](_0x1312f3);if(_0x4a7b67){let _0x125240=_0x4a7b67[0x1][_0x3da611(0x3c8)](/-| |\+|\(|\)/g,'')[_0x3da611(0x546)]();_0x2ec133+=_0x3da611(0x3a0)+_0x125240+'\x0a';}else{if(_0x5e67ca){let _0x35f578=_0x5e67ca[0x1][_0x3da611(0x546)]();_0x2ec133+=_0x3da611(0x4b8)+_0x35f578+'\x0a';}}}),_0x2ec133['trim']();}async[a0_0x146a96(0x11c)](_0x59a128,_0x34f05e,_0xe99338){const _0x49e9e7=a0_0x146a96;if(!_0x59a128[_0x49e9e7(0x6d)])return;let _0x3f54cd=_0x34f05e[_0x49e9e7(0xce)][_0x49e9e7(0x291)]['replace'](/:\d{1,2}@/g,'@'),_0x3887d2=_0x34f05e[_0x49e9e7(0xce)][_0x49e9e7(0x34d)],_0x3662f2=_0x3f54cd[_0x49e9e7(0x1ed)]('@g.us'),_0x294b1e=_0x34f05e[_0x49e9e7(0x4e8)]?.[_0x49e9e7(0x501)]||_0x34f05e['message_normalized']?.[_0x49e9e7(0x60e)]||_0x34f05e[_0x49e9e7(0x4e8)]?.['vote']||_0x34f05e[_0x49e9e7(0x4e8)]?.[_0x49e9e7(0x68a)],_0x4583aa={'lastmsg':_0x34f05e['messageTimestamp']||Date[_0x49e9e7(0x116)](),'unreadcount':_0x3887d2?0x0:0x1,..._0x3887d2||_0x3662f2?{}:{'name':_0x34f05e[_0x49e9e7(0x3c0)]},..._0x3662f2?{'group':_0x3662f2}:{}},_0x47685c=await this[_0x49e9e7(0x484)]['chat']['updateOne']({'where':{'_id':_0x3f54cd}},_0x4583aa,this[_0x49e9e7(0x633)]['wuid'],{'new':!0x0,'upsert':!0x0});if(_0x47685c[_0x49e9e7(0x533)]){let _0x19421=await this[_0x49e9e7(0x484)][_0x49e9e7(0x660)][_0x49e9e7(0x54e)]({'where':{}},this[_0x49e9e7(0x633)]['wuid']),_0x494d29=new Set(_0x19421[_0x49e9e7(0x684)](_0x114f23=>_0x114f23[_0x49e9e7(0x517)])),_0xae49be=(_0x47685c[_0x49e9e7(0x641)]?.[_0x49e9e7(0x274)]||[])[_0x49e9e7(0x61b)](_0x1c3617=>_0x494d29['has'](_0x1c3617)),_0x563f73={'leadInfo.etiquetas':_0xae49be,'imported':!0x1};_0x47685c=await this[_0x49e9e7(0x484)][_0x49e9e7(0x657)][_0x49e9e7(0x5af)]({'where':{'_id':_0x3f54cd}},_0x563f73,this[_0x49e9e7(0x633)]['wuid']);for(let _0x540207 of _0xae49be)await this[_0x49e9e7(0x365)](_0x540207,_0x3f54cd);}if(!_0x3662f2&&(!_0x47685c?.[_0x49e9e7(0x641)]||!_0x47685c[_0x49e9e7(0x641)][_0x49e9e7(0x626)])&&_0x34f05e[_0x49e9e7(0x3c0)]&&!_0x3887d2&&(_0x47685c=await this[_0x49e9e7(0x484)]['chat'][_0x49e9e7(0x5af)]({'where':{'_id':_0x3f54cd}},{'leadInfo.nome':_0x34f05e[_0x49e9e7(0x3c0)]},this[_0x49e9e7(0x633)][_0x49e9e7(0x4c4)],{'new':!0x0,'upsert':!0x0})),_0xe99338===_0x49e9e7(0x91)&&_0x3887d2&&this[_0x49e9e7(0x10a)]?.['flowConfig'][_0x49e9e7(0x39f)]&&!_0x294b1e['startsWith'](this[_0x49e9e7(0x10a)]?.[_0x49e9e7(0x49a)][_0x49e9e7(0x316)])){let _0x389410=(this[_0x49e9e7(0x10a)]?.[_0x49e9e7(0x49a)][_0x49e9e7(0x53f)]||0x5)*0xea60,_0x5b076d=Date[_0x49e9e7(0x116)]()+_0x389410;_0x47685c?.[_0x49e9e7(0x641)]?.[_0x49e9e7(0x1bd)]===0x0||(await this[_0x49e9e7(0x484)][_0x49e9e7(0x657)][_0x49e9e7(0x5af)]({'where':{'_id':_0x3f54cd}},{'leadInfo.desativadoFluxoAte':_0x5b076d},this[_0x49e9e7(0x633)][_0x49e9e7(0x4c4)],{'new':!0x0,'upsert':!0x1}),this[_0x49e9e7(0x2dd)][_0x49e9e7(0xb5)](this[_0x49e9e7(0x381)]+'\x20('+this[_0x49e9e7(0x633)]['wuid']+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20'+_0x5b076d+'.'));}if(_0x47685c)J(this['instanceName'],_0x49e9e7(0x392),{'chat':_0x47685c});else{this['logger'][_0x49e9e7(0x4e3)](this[_0x49e9e7(0x381)]+'\x20('+this[_0x49e9e7(0x633)]['wuid']+'):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat');return;}if(!this['AutomateSystem']?.[_0x49e9e7(0x49a)][_0x49e9e7(0x39f)])return this['logger'][_0x49e9e7(0xb5)](this[_0x49e9e7(0x381)]+'\x20('+this[_0x49e9e7(0x633)][_0x49e9e7(0x4c4)]+_0x49e9e7(0x4b2)),null;if(_0x47685c[_0x49e9e7(0x517)][_0x49e9e7(0x322)]('@g.us')&&this[_0x49e9e7(0x10a)]?.[_0x49e9e7(0x49a)][_0x49e9e7(0x4df)]===!0x0)return this[_0x49e9e7(0x2dd)][_0x49e9e7(0xb5)](this['instanceName']+'\x20('+this[_0x49e9e7(0x633)][_0x49e9e7(0x4c4)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x47685c['leadInfo']){if(_0x47685c[_0x49e9e7(0x641)][_0x49e9e7(0x1bd)]===0x0||_0x47685c[_0x49e9e7(0x641)]['atendimentoAberto'])return this[_0x49e9e7(0x2dd)][_0x49e9e7(0xb5)](this[_0x49e9e7(0x381)]+'\x20('+this[_0x49e9e7(0x633)][_0x49e9e7(0x4c4)]+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x3f54cd+_0x49e9e7(0x87)),null;if(_0x47685c[_0x49e9e7(0x641)][_0x49e9e7(0x1bd)]>Date[_0x49e9e7(0x116)]()&&!_0x34f05e['message_normalized']?.[_0x49e9e7(0x3fb)])return this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x49e9e7(0x4c4)]+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0x47685c[_0x49e9e7(0x641)][_0x49e9e7(0x1bd)])[_0x49e9e7(0x477)]()+_0x49e9e7(0x87)),null;}this[_0x49e9e7(0x2dd)][_0x49e9e7(0xb5)](this[_0x49e9e7(0x381)]+'\x20('+this[_0x49e9e7(0x633)][_0x49e9e7(0x4c4)]+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this['StartBot'](_0xe99338,_0x34f05e);}async[a0_0x146a96(0x42f)](_0x136665,_0x50b0c5){const _0x4afbc7=a0_0x146a96;if(_0x50b0c5['ENABLED']){let _0x1f268c=_0x136665[_0x4afbc7(0x684)](async _0x34ee2b=>{const _0x54c541=_0x4afbc7;try{let _0x398e61={'_id':_0x34ee2b[_0x54c541(0x517)],'owner':_0x34ee2b[_0x54c541(0x52b)],'lastcache':0x0};if(_0x34ee2b[_0x54c541(0x3b9)]!==null&&(_0x398e61['group']=_0x34ee2b['group']),_0x34ee2b[_0x54c541(0x68a)]!==null&&(_0x398e61[_0x54c541(0x68a)]=_0x34ee2b['name']),_0x34ee2b[_0x54c541(0x5d5)]!==null&&(_0x398e61['contactname']=_0x34ee2b[_0x54c541(0x5d5)]),_0x34ee2b[_0x54c541(0x614)]!==null&&(_0x398e61[_0x54c541(0x614)]=_0x34ee2b[_0x54c541(0x614)]),_0x34ee2b[_0x54c541(0x614)]===null&&(_0x398e61['imagechat']=_0x54c541(0xc4)),_0x34ee2b['lastmsg']!==null&&(_0x398e61[_0x54c541(0x649)]=_0x34ee2b[_0x54c541(0x649)]),_0x34ee2b['archived']!==null&&(_0x398e61[_0x54c541(0x4c9)]=_0x34ee2b[_0x54c541(0x4c9)]),_0x34ee2b['unreadcount']!==null&&(_0x398e61[_0x54c541(0x588)]=_0x34ee2b[_0x54c541(0x588)]),Object[_0x54c541(0x379)](_0x398e61)[_0x54c541(0x29f)]>0x0)return await this[_0x54c541(0x484)][_0x54c541(0x657)][_0x54c541(0x5af)]({'where':{'_id':_0x34ee2b[_0x54c541(0x517)]}},_0x398e61,this[_0x54c541(0x633)][_0x54c541(0x4c4)]);}catch(_0x15cc89){return console[_0x54c541(0x4e3)]('Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x34ee2b['_id']+':',_0x15cc89),null;}}),_0x21a17d=(await Promise['all'](_0x1f268c))[_0x4afbc7(0x61b)](_0x107492=>_0x107492!==null)[_0x4afbc7(0x29f)];this[_0x4afbc7(0x2dd)]['verbose'](this[_0x4afbc7(0x381)]+'\x20('+this[_0x4afbc7(0x633)][_0x4afbc7(0x4c4)]+_0x4afbc7(0x43f)+_0x21a17d+'\x20chats\x20de\x20'+this[_0x4afbc7(0x633)][_0x4afbc7(0x4c4)]+_0x4afbc7(0x31c));}}async[a0_0x146a96(0x50a)](_0x40a183){const _0x50664e=a0_0x146a96;this['logger'][_0x50664e(0xb5)](this[_0x50664e(0x381)]+'\x20('+this[_0x50664e(0x633)][_0x50664e(0x4c4)]+_0x50664e(0x608));let _0x395ae4={'readMessages':[{'remoteJid':_0x40a183[_0x50664e(0x51c)][_0x50664e(0x667)][_0x50664e(0xce)]['remoteJid'],'fromMe':_0x40a183['chatLog']['lastReceivedMessage'][_0x50664e(0xce)][_0x50664e(0x34d)],'id':_0x40a183[_0x50664e(0x51c)]['lastReceivedMessage'][_0x50664e(0xce)]['id']}]};await this['markMessageAsRead'](_0x395ae4);}async[a0_0x146a96(0x486)](_0x53a2fc,_0x54e7b1){const _0x2d6449=a0_0x146a96;try{let {key:_0x3b8019,message_normalized:_0x40021c}=_0x54e7b1,_0x2707cb=_0x40021c,_0x3f4c0c=_0x40021c[_0x2d6449(0x501)]||_0x40021c['caption']||_0x40021c['vote']||_0x40021c[_0x2d6449(0x68a)],_0x30c4de=_0x3b8019[_0x2d6449(0x291)],_0x2efbc0;if(_0x2707cb[_0x2d6449(0xce)][_0x2d6449(0x34d)]&&_0x3f4c0c[_0x2d6449(0x546)]()!==this[_0x2d6449(0x10a)]?.[_0x2d6449(0x49a)][_0x2d6449(0x1f4)][_0x2d6449(0x546)]())return this['logger'][_0x2d6449(0xb5)](this['instanceName']+'\x20('+this[_0x2d6449(0x633)][_0x2d6449(0x4c4)]+_0x2d6449(0x236)),null;if(_0x2707cb[_0x2d6449(0xce)][_0x2d6449(0x34d)]&&_0x3f4c0c[_0x2d6449(0x546)]()===this[_0x2d6449(0x10a)]?.[_0x2d6449(0x49a)][_0x2d6449(0x1f4)]['trim']()){this[_0x2d6449(0x2dd)][_0x2d6449(0xb5)](this[_0x2d6449(0x381)]+'\x20('+this[_0x2d6449(0x633)]['wuid']+_0x2d6449(0x4d9));let _0x2cc227=await this[_0x2d6449(0x484)][_0x2d6449(0x1fc)][_0x2d6449(0x54e)]({'remoteJid':_0x30c4de,'status':'open'},this[_0x2d6449(0x633)][_0x2d6449(0x4c4)]);this[_0x2d6449(0x2dd)][_0x2d6449(0xb5)](this[_0x2d6449(0x381)]+'\x20('+this['instance']['wuid']+_0x2d6449(0x566)+_0x2cc227);let _0x4e2df9=Date['now'](),_0x2fb6b8;return this[_0x2d6449(0x10a)]?.[_0x2d6449(0x49a)][_0x2d6449(0x48f)]===0x0?_0x2fb6b8={'stoppedUntil':_0x4e2df9+0x7591f6200}:_0x2fb6b8={'stoppedUntil':_0x4e2df9+this[_0x2d6449(0x10a)]?.[_0x2d6449(0x49a)][_0x2d6449(0x48f)]*0x3c*0x3e8},this['logger'][_0x2d6449(0xb5)](this[_0x2d6449(0x381)]+'\x20('+this['instance'][_0x2d6449(0x4c4)]+_0x2d6449(0x147)+_0x2fb6b8),this['updateStopChat'](_0x2efbc0,_0x2fb6b8['stoppedUntil']),null;}if(_0x3f4c0c&&_0x3f4c0c[_0x2d6449(0x2e5)](this[_0x2d6449(0x10a)]?.[_0x2d6449(0x49a)][_0x2d6449(0x316)])&&_0x3f4c0c['length']>0x4){let _0x2026f6=await this['repository']['flow'][_0x2d6449(0x592)]({'where':{'startCommandWord':_0x3f4c0c}},this[_0x2d6449(0x633)]['wuid']);if(this[_0x2d6449(0x2dd)][_0x2d6449(0xb5)](this[_0x2d6449(0x381)]+'\x20('+this[_0x2d6449(0x633)][_0x2d6449(0x4c4)]+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x2026f6)_0x2efbc0=await this[_0x2d6449(0x452)](_0x2026f6,_0x2707cb['key'],_0x2707cb);else return this[_0x2d6449(0x2dd)][_0x2d6449(0xb5)](this['instanceName']+'\x20('+this[_0x2d6449(0x633)][_0x2d6449(0x4c4)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand'),null;}else _0x2efbc0=await this['findConversation'](_0x30c4de,_0x2707cb);if(_0x2efbc0){this[_0x2d6449(0x2dd)][_0x2d6449(0xb5)](this[_0x2d6449(0x381)]+'\x20('+this[_0x2d6449(0x633)]['wuid']+_0x2d6449(0x25b)),!_0x3b8019[_0x2d6449(0x34d)]&&_0x2efbc0['readMessages']&&this[_0x2d6449(0x50a)](_0x2efbc0);let _0x3dbf3f=await this[_0x2d6449(0x1b0)](_0x2efbc0);_0x3dbf3f&&await this['processblock'](_0x2efbc0,_0x3dbf3f);}}catch(_0x46e56e){this[_0x2d6449(0x2dd)]['error'](this[_0x2d6449(0x381)]+'\x20('+this['instance'][_0x2d6449(0x4c4)]+_0x2d6449(0x417)+(_0x46e56e instanceof Error?_0x46e56e['message']:JSON[_0x2d6449(0x455)](_0x46e56e,null,0x2)));}}[a0_0x146a96(0x44e)](_0x269645,_0x5880bc='',_0x58a069={},_0x19dd52=!0x0){const _0x16b273=a0_0x146a96;for(let _0x10e1a2 in _0x269645){let _0x5ac5c8=_0x19dd52?'_'+_0x10e1a2:''+_0x5880bc+_0x10e1a2;typeof _0x269645[_0x10e1a2]==_0x16b273(0x5e9)&&_0x269645[_0x10e1a2]!==null?this['flattenObject'](_0x269645[_0x10e1a2],_0x5ac5c8+'.',_0x58a069,!0x1):_0x58a069[_0x5ac5c8]=String(_0x269645[_0x10e1a2]);}return _0x58a069;}[a0_0x146a96(0x5d1)](_0x5d8132){const _0x5d3727=a0_0x146a96;let _0x381dc5={};for(let _0x326799 of _0x5d8132)typeof _0x326799[_0x5d3727(0x68a)]==_0x5d3727(0x246)&&typeof _0x326799[_0x5d3727(0x1ce)]==_0x5d3727(0x246)&&(_0x381dc5[_0x326799[_0x5d3727(0x68a)]]=_0x326799[_0x5d3727(0x1ce)]);return _0x381dc5;}async[a0_0x146a96(0x1b0)](_0x39ac57){const _0x4a8fb1=a0_0x146a96;if(!this['AutomateSystem']?.['flowConfig'][_0x4a8fb1(0x39f)]||_0x39ac57[_0x4a8fb1(0x419)]!==_0x4a8fb1(0x1ac)&&_0x39ac57[_0x4a8fb1(0x35d)]==='')return null;let _0x43ecfc=_0x39ac57[_0x4a8fb1(0x51c)][_0x4a8fb1(0x3e3)]||_0x4a8fb1(0x6b3);typeof _0x39ac57[_0x4a8fb1(0x51c)][_0x4a8fb1(0x221)]>'u'&&(_0x39ac57[_0x4a8fb1(0x51c)][_0x4a8fb1(0x221)]=!0x0);let _0x2c2df2=_0x39ac57[_0x4a8fb1(0x51c)][_0x4a8fb1(0x221)];this['logger'][_0x4a8fb1(0xb5)](this[_0x4a8fb1(0x381)]+'\x20('+this['instance'][_0x4a8fb1(0x4c4)]+'):\x20lastBlockId:\x20'+_0x43ecfc+_0x4a8fb1(0x28e)+_0x2c2df2);let _0x41610a=_0x43ecfc==='start'?_0x39ac57[_0x4a8fb1(0x5a7)][_0x4a8fb1(0x54e)](_0x55c50c=>_0x55c50c[_0x4a8fb1(0x6a6)]==='start'):_0x39ac57[_0x4a8fb1(0x5a7)][_0x4a8fb1(0x54e)](_0xda990a=>_0xda990a[_0x4a8fb1(0x517)]['toString']()===_0x43ecfc['toString']());if(!_0x41610a)return this['logger'][_0x4a8fb1(0x4e3)](this['instanceName']+'\x20('+this[_0x4a8fb1(0x633)][_0x4a8fb1(0x4c4)]+_0x4a8fb1(0x1dc)+_0x43ecfc),null;let _0x4af349={'_pushName':_0x39ac57['chatLog'][_0x4a8fb1(0x667)]['pushName'],..._0x39ac57[_0x4a8fb1(0x51c)]['realVariables']},_0x31c3b2=null;if(_0x39ac57[_0x4a8fb1(0x35d)]){let _0x58db80=_0x39ac57[_0x4a8fb1(0x51c)][_0x4a8fb1(0x667)][_0x4a8fb1(0x3fb)],_0x22179c=_0x39ac57['waitingMenu_replyOptions'][_0x4a8fb1(0x54e)](_0xf8c136=>_0xf8c136[_0x4a8fb1(0x1f0)]===_0x58db80);if(_0x22179c){let _0xedfd4b=_0x22179c['next_groupId'];if(_0x31c3b2=_0x39ac57['blocks'][_0x4a8fb1(0x54e)](_0x269ca9=>_0x269ca9[_0x4a8fb1(0x12b)]===_0xedfd4b&&_0x269ca9['order']===0x1),_0x41610a[_0x4a8fb1(0x1b5)]['pollOnReplyDelete']){let _0x474174={'id':_0x39ac57['waitingMenu_id'],'remoteJid':_0x39ac57[_0x4a8fb1(0x291)],'fromMe':!0x0};await this[_0x4a8fb1(0x12d)](_0x474174);}if(_0x41610a[_0x4a8fb1(0x1b5)][_0x4a8fb1(0x319)]&&_0x41610a[_0x4a8fb1(0x1b5)][_0x4a8fb1(0x55d)]&&_0x41610a[_0x4a8fb1(0x1b5)][_0x4a8fb1(0x24d)]===_0x4a8fb1(0x463)){let _0x48234c={'number':_0x39ac57[_0x4a8fb1(0x291)],'options':{'delay':0x0},'textMessage':{'text':_0x4a8fb1(0x38d)+_0x39ac57['waitingMenu_text']+'\x0a*Você\x20respondeu*:\x0a'+_0x58db80}};await this[_0x4a8fb1(0x144)](_0x48234c);}_0x39ac57[_0x4a8fb1(0x419)]=_0x4a8fb1(0x1ac),_0x39ac57[_0x4a8fb1(0x35d)]='',_0x39ac57['waitingMenu_text']='',_0x39ac57[_0x4a8fb1(0x33c)]=[];}else{this[_0x4a8fb1(0x2dd)][_0x4a8fb1(0xb5)](this[_0x4a8fb1(0x381)]+'\x20('+this[_0x4a8fb1(0x633)][_0x4a8fb1(0x4c4)]+_0x4a8fb1(0x59e));let _0x4ec0c4={'activatedCount':_0x39ac57[_0x4a8fb1(0x51c)]['blockLogs'][_0x4a8fb1(0x61b)](_0x252acf=>String(_0x252acf['blockId'])===String(_0x43ecfc))[_0x4a8fb1(0x29f)],'moreLogs':[_0x4a8fb1(0x272)]};if(_0x41610a[_0x4a8fb1(0x1b5)][_0x4a8fb1(0x4ae)]){let _0x172aa8={'number':_0x39ac57[_0x4a8fb1(0x291)],'options':{'delay':0x0},'textMessage':{'text':_0x41610a[_0x4a8fb1(0x1b5)][_0x4a8fb1(0x4ae)]}};await this[_0x4a8fb1(0x144)](_0x172aa8);}if(_0x41610a[_0x4a8fb1(0x648)]!==void 0x0&&_0x4ec0c4[_0x4a8fb1(0x4e1)]>=_0x41610a[_0x4a8fb1(0x648)]){let _0x36b3a9=Date[_0x4a8fb1(0x116)](),_0x31e2fe=_0x41610a[_0x4a8fb1(0xa7)]??0xa;isNaN(_0x31e2fe)&&(_0x31e2fe=0xa);let _0x25ed87=_0x36b3a9+_0x31e2fe*0x3c*0x3e8;_0x4ec0c4[_0x4a8fb1(0xca)]=_0x25ed87,_0x4ec0c4['moreLogs']['push'](_0x4a8fb1(0x442)),this[_0x4a8fb1(0x6ca)](_0x39ac57,_0x25ed87),_0x39ac57[_0x4a8fb1(0x35d)]='',_0x39ac57[_0x4a8fb1(0x380)]='',_0x39ac57['waitingMenu_replyOptions']=[];}return this[_0x4a8fb1(0x5bb)](_0x39ac57,_0x41610a,_0x4ec0c4,!0x0),null;}}if(_0x2c2df2&&_0x41610a[_0x4a8fb1(0x6b8)]&&!_0x39ac57['waitingMenu_id']){let _0x3f8c79=_0x39ac57[_0x4a8fb1(0x5a7)]['filter'](_0x113218=>_0x113218[_0x4a8fb1(0x12b)]['toString']()===_0x41610a[_0x4a8fb1(0x6b8)][_0x4a8fb1(0xc6)]())[_0x4a8fb1(0x193)]((_0x94c348,_0x33f7cd)=>_0x94c348['order']-_0x33f7cd[_0x4a8fb1(0x5c4)]);_0x3f8c79['length']>0x0&&(_0x31c3b2=_0x3f8c79[0x0]);}if(!_0x31c3b2){let _0x388c78=_0x41610a[_0x4a8fb1(0x12b)],_0xefe7b1=_0x39ac57[_0x4a8fb1(0x5a7)]['filter'](_0x5bd29f=>_0x5bd29f[_0x4a8fb1(0x12b)]===_0x388c78&&_0x5bd29f[_0x4a8fb1(0x5c4)]>_0x41610a[_0x4a8fb1(0x5c4)])['sort']((_0x388cb8,_0x53a688)=>_0x388cb8['order']-_0x53a688[_0x4a8fb1(0x5c4)]);_0xefe7b1[_0x4a8fb1(0x29f)]>0x0&&(_0x31c3b2=_0xefe7b1[0x0]);}if(!_0x31c3b2)return _0x39ac57['status']='closed',null;_0x39ac57[_0x4a8fb1(0x51c)]['realVariables']=_0x4af349;let _0x260313=JSON['parse'](JSON[_0x4a8fb1(0x455)](_0x31c3b2));return this[_0x4a8fb1(0x11d)](_0x260313,_0x39ac57[_0x4a8fb1(0x51c)][_0x4a8fb1(0xbc)]),_0x39ac57['chatLog'][_0x4a8fb1(0x3e3)]=_0x260313[_0x4a8fb1(0x517)],_0x39ac57[_0x4a8fb1(0x51c)][_0x4a8fb1(0x221)]=!0x0,_0x260313;}[a0_0x146a96(0x462)](_0x454c28,_0xfeb06f){return _0x454c28['replace'](/\{\{([^}]+)\}\}/g,(_0x4b7458,_0x3d2433)=>_0xfeb06f[_0x3d2433]||'');}[a0_0x146a96(0x11d)](_0x7eb660,_0x593230){const _0x712dcf=a0_0x146a96;for(let _0x24ca6f in _0x7eb660)typeof _0x7eb660[_0x24ca6f]==_0x712dcf(0x246)?_0x7eb660[_0x24ca6f]=this[_0x712dcf(0x462)](_0x7eb660[_0x24ca6f],_0x593230):typeof _0x7eb660[_0x24ca6f]==_0x712dcf(0x5e9)&&this['replaceVariablesInObject'](_0x7eb660[_0x24ca6f],_0x593230);}async[a0_0x146a96(0x2d5)](_0x250e1b,_0x29a236){const _0x21ffa9=a0_0x146a96;let _0x81490b=_0x29a236[_0x21ffa9(0x517)];if(_0x250e1b[_0x21ffa9(0x51c)]&&_0x250e1b[_0x21ffa9(0x51c)]['blockLogs']){let _0x4891d4=_0x250e1b[_0x21ffa9(0x51c)][_0x21ffa9(0x506)][_0x21ffa9(0x61b)](_0x3bbe66=>String(_0x3bbe66[_0x21ffa9(0x5b0)])===String(_0x81490b))[_0x21ffa9(0x470)]();if(_0x4891d4&&_0x4891d4[_0x21ffa9(0x4e3)]&&_0x29a236[_0x21ffa9(0xfb)])return _0x250e1b['status']=_0x21ffa9(0x502),await this['saveConversationToDatabase'](_0x250e1b),null;}if(_0x29a236['type']===_0x21ffa9(0x1b5)&&_0x29a236[_0x21ffa9(0x1b5)][_0x21ffa9(0x336)]===_0x21ffa9(0x265)&&_0x250e1b[_0x21ffa9(0x35d)])return _0x250e1b['chatLog'][_0x21ffa9(0x3e3)]=_0x81490b,await this['saveConversationToDatabase'](_0x250e1b),null;let _0x287cde=await this[_0x21ffa9(0x1b0)](_0x250e1b);if(_0x250e1b['chatLog']&&_0x250e1b[_0x21ffa9(0x51c)][_0x21ffa9(0x506)]){let _0x34144c=_0x250e1b[_0x21ffa9(0x51c)][_0x21ffa9(0x506)][_0x21ffa9(0x61b)](_0x46a9a3=>String(_0x46a9a3[_0x21ffa9(0x5b0)])===String(_0x81490b))[_0x21ffa9(0x29f)];if(_0x29a236[_0x21ffa9(0x648)]!==void 0x0&&_0x34144c>=_0x29a236['maxActives']){let _0x1a7fad=Date[_0x21ffa9(0x116)](),_0x3fc438=_0x29a236['stopMinutesMaxActives']??0xa;isNaN(_0x3fc438)&&(_0x3fc438=0xa);let _0x58abd7=_0x1a7fad+_0x3fc438*0x3c*0x3e8,_0x1f5477={'newStoppedUntil':_0x58abd7};return this[_0x21ffa9(0x6ca)](_0x250e1b,_0x58abd7),this[_0x21ffa9(0x5bb)](_0x250e1b,_0x29a236,_0x1f5477,!0x0),null;}}_0x287cde&&_0x287cde[_0x21ffa9(0x6a6)]!==_0x21ffa9(0xd1)&&await this[_0x21ffa9(0x111)](_0x250e1b,_0x287cde),_0x287cde||await this[_0x21ffa9(0x61d)](_0x250e1b),_0x287cde&&_0x287cde[_0x21ffa9(0x6a6)]==='save'&&(_0x250e1b[_0x21ffa9(0x51c)]['lastBlockId']=_0x81490b,await this[_0x21ffa9(0x61d)](_0x250e1b));}async[a0_0x146a96(0x111)](_0x2c26c1,_0x3514af){const _0x3a3e54=a0_0x146a96;try{let _0x34f523=_0x3514af[_0x3a3e54(0x6a6)];this[_0x3a3e54(0x2dd)][_0x3a3e54(0xb5)](this[_0x3a3e54(0x381)]+'\x20('+this[_0x3a3e54(0x633)][_0x3a3e54(0x4c4)]+_0x3a3e54(0x235)+_0x34f523);let _0x1bc033={'uazapi':()=>this[_0x3a3e54(0x475)](_0x2c26c1,_0x3514af),'save':()=>this[_0x3a3e54(0xdc)](_0x2c26c1,_0x3514af),'stop':()=>this[_0x3a3e54(0x1f4)](_0x2c26c1,_0x3514af),'condition':()=>this[_0x3a3e54(0x557)](_0x2c26c1,_0x3514af),'varedit':()=>this['processvaredits'](_0x2c26c1,_0x3514af),'apirequest':()=>this[_0x3a3e54(0x293)](_0x2c26c1,_0x3514af),'goToFlow':()=>this[_0x3a3e54(0x2e9)](_0x2c26c1,_0x3514af)}[_0x34f523];_0x1bc033&&await _0x1bc033();}catch(_0x52055b){this[_0x3a3e54(0x2dd)][_0x3a3e54(0x4e3)](this[_0x3a3e54(0x381)]+'\x20('+this[_0x3a3e54(0x633)][_0x3a3e54(0x4c4)]+'):\x20Error\x20processing\x20the\x20block:\x20'+(_0x52055b instanceof Error?_0x52055b[_0x3a3e54(0x404)]:JSON[_0x3a3e54(0x455)](_0x52055b,null,0x2)));}}async['processgoToFlow'](_0x215404,_0x1dcc1e){const _0x40eefd=a0_0x146a96;if(this[_0x40eefd(0x2dd)][_0x40eefd(0xb5)](this[_0x40eefd(0x381)]+'\x20('+this[_0x40eefd(0x633)][_0x40eefd(0x4c4)]+_0x40eefd(0x212)),!_0x215404||!_0x1dcc1e)return this[_0x40eefd(0x2dd)][_0x40eefd(0x4e3)](this[_0x40eefd(0x381)]+'\x20('+this[_0x40eefd(0x633)]['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this[_0x40eefd(0x5bb)](_0x215404,_0x1dcc1e,{},!0x0,!0x0),console[_0x40eefd(0x48e)]('nextBlock:'),console[_0x40eefd(0x48e)](_0x1dcc1e);let _0x7aa099=_0x1dcc1e[_0x40eefd(0x159)];console['log'](_0x40eefd(0x211),_0x7aa099),_0x215404=await this[_0x40eefd(0x22b)](_0x7aa099,_0x215404['remoteJid'],_0x215404['chatLog'][_0x40eefd(0xbc)]),this['logger'][_0x40eefd(0xb5)](this[_0x40eefd(0x381)]+'\x20('+this[_0x40eefd(0x633)][_0x40eefd(0x4c4)]+_0x40eefd(0x35e));let _0x499631=await this[_0x40eefd(0x1b0)](_0x215404);_0x499631&&await this[_0x40eefd(0x111)](_0x215404,_0x499631);}async[a0_0x146a96(0x22b)](_0x46740b,_0x339675,_0x9d7ca3){const _0x30be87=a0_0x146a96;this[_0x30be87(0x2dd)]['verbose'](this[_0x30be87(0x381)]+'\x20('+this['instance'][_0x30be87(0x4c4)]+_0x30be87(0x3e5));try{if(_0x46740b=await this[_0x30be87(0x484)]['flow'][_0x30be87(0x592)]({'where':{'name':_0x46740b}},this[_0x30be87(0x633)]['wuid']),!_0x46740b)return this[_0x30be87(0x2dd)][_0x30be87(0x4e3)](this[_0x30be87(0x381)]+'\x20('+this[_0x30be87(0x633)][_0x30be87(0x4c4)]+_0x30be87(0x154)),null;let _0x1ed499=require('mongodb')['ObjectId'],_0x56b62d=Date['now'](),_0x585fc5='start',_0x32b2f1={},_0xa5a730={},_0x151a0a={..._0x46740b,'chatLog':null},_0x54fcba={'lastReceivedMessage':_0x32b2f1,'lastSendMessage':_0xa5a730,'lastBlockId':_0x585fc5,'lastCondition':!0x0,'realVariables':_0x9d7ca3};_0x151a0a[_0x30be87(0x51c)]=_0x54fcba,_0x151a0a[_0x30be87(0x51c)]['realVariables']={..._0x9d7ca3},delete _0x151a0a['_id'],_0x151a0a[_0x30be87(0x517)]=new _0x1ed499(),_0x151a0a[_0x30be87(0x5f0)]=_0x56b62d,_0x151a0a[_0x30be87(0x419)]='open',_0x151a0a[_0x30be87(0x291)]=_0x339675;let _0x42cd25=await this[_0x30be87(0x484)][_0x30be87(0x1fc)][_0x30be87(0x5af)](_0x151a0a[_0x30be87(0x517)],_0x151a0a,this[_0x30be87(0x633)][_0x30be87(0x4c4)]);return this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x30be87(0x633)][_0x30be87(0x4c4)]+_0x30be87(0x1e1)),_0x42cd25?_0x151a0a:null;}catch(_0x1991c4){throw this[_0x30be87(0x2dd)][_0x30be87(0x4e3)](this[_0x30be87(0x381)]+'\x20('+this['instance'][_0x30be87(0x4c4)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x1991c4 instanceof Error?_0x1991c4[_0x30be87(0x404)]:JSON[_0x30be87(0x455)](_0x1991c4,null,0x2))),new m(_0x1991c4[_0x30be87(0x404)]);}}async['processApiRequest'](_0x3093e2,_0x47e0a8){const _0x36686f=a0_0x146a96;let _0x6f7f26,_0x26a0bc;try{let _0xa24a2d=_0x47e0a8[_0x36686f(0x99)];if(!_0xa24a2d||!_0xa24a2d[_0x36686f(0x64b)]||!_0xa24a2d[_0x36686f(0x1c3)])throw new Error(_0x36686f(0x619));let _0xcf3c92;(['https://api.openai.com/v1/audio/speech','https://api.openai.com/v1/images/generations',_0x36686f(0x4f6)][_0x36686f(0x4e2)](_0x104997=>_0xa24a2d[_0x36686f(0x64b)][_0x36686f(0x322)](_0x104997))||_0xa24a2d[_0x36686f(0x658)])&&(_0xcf3c92=_0x36686f(0x4f1));let _0x107754={'method':_0xa24a2d[_0x36686f(0x1c3)],'url':_0xa24a2d[_0x36686f(0x64b)],'headers':_0xa24a2d['header']||{},'data':_0xa24a2d[_0x36686f(0x4c6)]||{},..._0xcf3c92&&{'responseType':_0xcf3c92}},_0x2a8817=await(0x0,se[_0x36686f(0x68f)])(_0x107754),_0xdcf38=_0x2a8817['headers'][_0x36686f(0x621)];if(_0xdcf38&&_0xdcf38[_0x36686f(0x322)]('application/json')){_0x6f7f26=_0x2a8817['data'];let _0x5d1bf6=_0x3093e2['chatLog'][_0x36686f(0xbc)],_0x6a781f=this[_0x36686f(0x44e)](_0x6f7f26);return Object['assign'](_0x5d1bf6,_0x6a781f),_0x3093e2[_0x36686f(0x51c)]['realVariables']=_0x5d1bf6,_0x26a0bc={'error':!0x1,'apiResponse':_0x6f7f26},this[_0x36686f(0x5bb)](_0x3093e2,_0x47e0a8,_0x26a0bc),_0x6f7f26;}if(_0xdcf38&&(_0xdcf38['includes']('application/octet-stream')||_0xdcf38[_0x36686f(0x322)](_0x36686f(0x302))||_0xdcf38['includes']('audio')||_0xdcf38['includes'](_0x36686f(0x119)))){this[_0x36686f(0x2dd)][_0x36686f(0xb5)](this[_0x36686f(0x381)]+'\x20('+this[_0x36686f(0x633)][_0x36686f(0x4c4)]+'):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20'+_0xdcf38);let _0x43ce16=(0x0,Me['v4'])(),_0xedf00e='',_0x2f51ec={'image/jpeg':_0x36686f(0x5cb),'image/png':'.png','image/gif':_0x36686f(0x4f0),'image/webp':_0x36686f(0x427),'image/svg+xml':_0x36686f(0xa5),'audio/mpeg':_0x36686f(0x189),'audio/ogg':_0x36686f(0x20b),'audio/wav':_0x36686f(0x6b5),'video/mp4':'.mp4','video/webm':_0x36686f(0x16c),'video/ogg':'.ogv','text/plain':_0x36686f(0x694),'application/pdf':_0x36686f(0x56c),'application/msword':_0x36686f(0x44c),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x36686f(0x406),'application/vnd.ms-excel':_0x36686f(0x4b0),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x36686f(0x1f6),'application/vnd.ms-powerpoint':_0x36686f(0x5e5),'application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x2f51ec[_0xdcf38]?(_0xedf00e=_0x2f51ec[_0xdcf38],this[_0x36686f(0x2dd)][_0x36686f(0xb5)](this[_0x36686f(0x381)]+'\x20('+this[_0x36686f(0x633)]['wuid']+_0x36686f(0x69e)+_0xedf00e)):(_0xedf00e=_0x36686f(0x37d),this[_0x36686f(0x2dd)][_0x36686f(0xb5)](this[_0x36686f(0x381)]+'\x20('+this[_0x36686f(0x633)][_0x36686f(0x4c4)]+'):\x20Usando\x20extensão\x20padrão:\x20'+_0xedf00e)),_0x43ce16+=_0xedf00e,this[_0x36686f(0x2dd)][_0x36686f(0xb5)](this[_0x36686f(0x381)]+'\x20('+this[_0x36686f(0x633)][_0x36686f(0x4c4)]+_0x36686f(0x122)+_0x43ce16);let _0x53dee5=this['configService'][_0x36686f(0x3b3)]('SERVER')[_0x36686f(0x4fd)];if(!_0x53dee5){let _0x4d64c5=this[_0x36686f(0x598)][_0x36686f(0x3b3)]('SSL_CONF');_0x53dee5=_0x36686f(0xee)+(_0x4d64c5&&_0x4d64c5[_0x36686f(0x4de)][_0x36686f(0x5d7)]('/')[0x4]);}let _0x469850=Buffer['from'](_0x2a8817[_0x36686f(0x25d)]);await this[_0x36686f(0x1d3)](_0x469850,_0x43ce16);let _0xc2630f='/media/'+_0x43ce16;_0xc2630f=''+_0x53dee5+_0xc2630f,_0x6f7f26={'fileUrl':_0xc2630f},_0x3093e2[_0x36686f(0x51c)][_0x36686f(0xbc)][_0x36686f(0x1ef)]=_0xc2630f;let _0x2d89c5=_0x3093e2[_0x36686f(0x51c)][_0x36686f(0xbc)],_0x5a847d=this[_0x36686f(0x44e)](_0x6f7f26);return Object[_0x36686f(0x66b)](_0x2d89c5,_0x5a847d),_0x3093e2[_0x36686f(0x51c)][_0x36686f(0xbc)]=_0x2d89c5,_0x26a0bc={'error':!0x1,'apiResponse':{'fileUrl':_0xc2630f}},this['updateConversation'](_0x3093e2,_0x47e0a8,_0x26a0bc),_0x6f7f26;}}catch(_0x1d1593){console[_0x36686f(0x4e3)](_0x36686f(0x34e),_0x1d1593),_0x1d1593[_0x36686f(0x107)]&&(_0x6f7f26=_0x1d1593[_0x36686f(0x107)][_0x36686f(0x25d)]);let _0x13680a=_0x3093e2[_0x36686f(0x51c)][_0x36686f(0xbc)],_0xe29731=this[_0x36686f(0x44e)](_0x6f7f26);return Object[_0x36686f(0x66b)](_0x13680a,_0xe29731),_0x3093e2[_0x36686f(0x51c)][_0x36686f(0xbc)]=_0x13680a,_0x26a0bc={'error':!0x0,'errorLog':_0x1d1593[_0x36686f(0xc6)](),'apiResponse':_0x6f7f26},this[_0x36686f(0x5bb)](_0x3093e2,_0x47e0a8,_0x26a0bc),{'success':!0x1};}}[a0_0x146a96(0x503)](_0x57ae32,_0x450703){const _0x3c72ac=a0_0x146a96;let _0x1f6722=_0x141494=>{const _0x48da2e=a0_0x96ea;let _0x4bab2f=_0x141494['replace'](/[^0-9.,-]/g,'')[_0x48da2e(0x3c8)](',','.'),_0xe71211=parseFloat(_0x4bab2f);return isNaN(_0xe71211)?null:_0xe71211;},_0x396f1a=_0x450703[_0x3c72ac(0x5ca)],_0x2d8f1d=_0x450703['secondValue'];typeof _0x396f1a=='string'&&(_0x396f1a=this[_0x3c72ac(0x462)](_0x396f1a,_0x57ae32['chatLog'][_0x3c72ac(0xbc)])??''),typeof _0x2d8f1d==_0x3c72ac(0x246)&&(_0x2d8f1d=this[_0x3c72ac(0x462)](_0x2d8f1d,_0x57ae32[_0x3c72ac(0x51c)][_0x3c72ac(0xbc)])??'');let _0x5d8522=null;if(!_0x450703[_0x3c72ac(0x6e)])return null;switch(this[_0x3c72ac(0x2dd)][_0x3c72ac(0xb5)](this[_0x3c72ac(0x381)]+'\x20('+this[_0x3c72ac(0x633)][_0x3c72ac(0x4c4)]+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0x396f1a),this[_0x3c72ac(0x2dd)][_0x3c72ac(0xb5)](this[_0x3c72ac(0x381)]+'\x20('+this[_0x3c72ac(0x633)]['wuid']+_0x3c72ac(0x62e)+_0x2d8f1d),_0x450703['editOperator']){case'+':case'-':case'*':case'/':let _0x344719=_0x1f6722(_0x396f1a||'0'),_0x3d26bf=_0x1f6722(_0x2d8f1d||'0');if(_0x344719===null)return null;switch(_0x450703[_0x3c72ac(0x6e)]){case'+':_0x5d8522=_0x344719+(_0x3d26bf??0x0);break;case'-':_0x5d8522=_0x344719-(_0x3d26bf??0x0);break;case'*':_0x5d8522=_0x344719*(_0x3d26bf??0x1);break;case'/':_0x3d26bf!==0x0&&(_0x5d8522=_0x344719/(_0x3d26bf??0x1));break;}break;case _0x3c72ac(0x405):case _0x3c72ac(0x28a):let _0x31b02d=_0x2d8f1d,_0x4169ad=_0x450703['replaceValue'];if(typeof _0x4169ad=='string'&&(_0x4169ad=this[_0x3c72ac(0x462)](_0x4169ad,_0x57ae32[_0x3c72ac(0x51c)][_0x3c72ac(0xbc)])??''),_0x31b02d&&_0x4169ad!==void 0x0){let _0x17661d=_0x450703[_0x3c72ac(0x6e)]===_0x3c72ac(0x405)?new RegExp(_0x31b02d[_0x3c72ac(0x3c8)](/[-\/\\^$*+?.()|[\]{}]/g,_0x3c72ac(0x395)),'g'):new RegExp(_0x31b02d,'g');_0x5d8522=_0x396f1a[_0x3c72ac(0x3c8)](_0x17661d,_0x4169ad);}else console['warn'](_0x3c72ac(0x638));break;case'setNewValue':_0x5d8522=_0x2d8f1d;break;case _0x3c72ac(0x4ac):let _0x296e5a=_0x396f1a['match'](new RegExp(_0x2d8f1d||''));_0x5d8522=_0x296e5a?_0x296e5a[0x0]:'';break;case'truncatedto':_0x5d8522=_0x396f1a[_0x3c72ac(0x86)](0x0,parseInt(_0x2d8f1d||'0'));break;case _0x3c72ac(0x346):let _0x3fd170=parseInt(_0x2d8f1d||'0');_0x5d8522=_0x396f1a[_0x3c72ac(0x86)](_0x396f1a[_0x3c72ac(0x29f)]-_0x3fd170);break;case'toBrazilianNumberFormat':let _0x1af328=_0x1f6722(_0x396f1a),_0x36bd88=parseInt(_0x2d8f1d||'0');_0x36bd88=Math[_0x3c72ac(0x440)](_0x36bd88),_0x1af328!==null?_0x5d8522=_0x1af328[_0x3c72ac(0x477)]('pt-BR',{'minimumFractionDigits':_0x36bd88,'maximumFractionDigits':_0x36bd88}):(console[_0x3c72ac(0x67b)](_0x3c72ac(0x219)+_0x396f1a),_0x5d8522=null);break;case _0x3c72ac(0x656):let _0x4763e0=_0x1f6722(_0x396f1a);_0x4763e0!==null?_0x5d8522=_0x4763e0[_0x3c72ac(0x477)](_0x3c72ac(0x412),{'style':'currency','currency':_0x3c72ac(0x123)}):(console[_0x3c72ac(0x67b)](_0x3c72ac(0x538)+_0x396f1a),_0x5d8522=null);break;case _0x3c72ac(0x441):_0x5d8522=_0x396f1a[_0x3c72ac(0x1b1)]();break;case _0x3c72ac(0x5e7):_0x5d8522=_0x396f1a['toLowerCase']();break;case _0x3c72ac(0x56d):_0x5d8522=_0x396f1a['split']('\x20')['map'](_0x17bbf2=>_0x17bbf2[_0x3c72ac(0x582)](0x0)[_0x3c72ac(0x1b1)]()+_0x17bbf2[_0x3c72ac(0x86)](0x1)['toLowerCase']())[_0x3c72ac(0x695)]('\x20');break;case _0x3c72ac(0x531):_0x5d8522=_0x396f1a[_0x3c72ac(0x546)]();break;default:_0x5d8522=_0x396f1a;}return _0x5d8522!==null?_0x5d8522[_0x3c72ac(0xc6)]():null;}async['processvaredits'](_0x197d1a,_0x20434c){const _0x548503=a0_0x146a96;try{let _0x30d8ab=_0x197d1a['varedits']?.['filter'](_0x2c8c6f=>_0x2c8c6f[_0x548503(0x5b0)]===_0x20434c[_0x548503(0x517)]?.[_0x548503(0xc6)]())||[],_0x468ab1=_0x20434c['saveVariable'],_0x3029cc=null,_0x7a5af0=[],_0x4d476c=_0x197d1a[_0x548503(0x51c)]['realVariables'][_0x468ab1];_0x7a5af0['push'](_0x548503(0xff)+_0x4d476c+'\x22');for(let _0x577131 of _0x30d8ab){_0x577131[_0x548503(0x5ca)]=_0x4d476c,_0x3029cc=_0x577131[_0x548503(0x5ca)];let _0x53ad3b;try{_0x53ad3b=this[_0x548503(0x503)](_0x197d1a,_0x577131);}catch(_0x2ce0ae){console[_0x548503(0x4e3)](_0x548503(0x299)+_0x2ce0ae[_0x548503(0x404)]);continue;}if(_0x53ad3b!==null){let _0x2ddbe5=_0x548503(0x5b9)+_0x577131[_0x548503(0x6e)]+'\x22',_0x4e518b=[_0x548503(0x656),_0x548503(0x441),_0x548503(0x5e7),'capitalizedWords',_0x548503(0x531)];_0x577131[_0x548503(0x6e)]===_0x548503(0x405)||_0x577131['editOperator']===_0x548503(0x28a)?_0x2ddbe5+=_0x548503(0x13d)+_0x577131[_0x548503(0x276)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x577131['replaceValue']+'\x22':!_0x4e518b[_0x548503(0x322)](_0x577131[_0x548503(0x6e)])&&_0x577131[_0x548503(0x276)]!==null&&_0x577131[_0x548503(0x276)]!==void 0x0&&(_0x2ddbe5+=_0x548503(0x467)+_0x577131[_0x548503(0x276)]+'\x22'),_0x2ddbe5+=_0x548503(0x629)+_0x53ad3b+'.',_0x7a5af0[_0x548503(0x260)](_0x2ddbe5);}_0x53ad3b!==null&&(_0x4d476c=_0x53ad3b);}if(_0x197d1a[_0x548503(0x51c)][_0x548503(0xbc)]&&_0x20434c[_0x548503(0x22f)]){_0x197d1a[_0x548503(0x51c)][_0x548503(0xbc)][_0x20434c[_0x548503(0x22f)]]=_0x4d476c;let _0x36ea46={'variable':_0x20434c[_0x548503(0x22f)],'oldValue':_0x3029cc,'newValue':_0x4d476c,'moreLogs':_0x7a5af0};try{this[_0x548503(0x5bb)](_0x197d1a,_0x20434c,_0x36ea46);}catch(_0x32963f){console['error']('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x32963f[_0x548503(0x404)]);}}return _0x468ab1;}catch(_0x1b5e0f){return console[_0x548503(0x4e3)](_0x548503(0x6c1)+_0x1b5e0f['message']),null;}}async[a0_0x146a96(0x557)](_0x19ec0a,_0x15118b){const _0x4ebd97=a0_0x146a96;try{let _0x12a05e=[],_0x4ac4b7=_0x19ec0a[_0x4ebd97(0x11f)][_0x4ebd97(0x61b)](_0x1feee6=>_0x1feee6[_0x4ebd97(0x5b0)]===_0x15118b[_0x4ebd97(0x517)][_0x4ebd97(0xc6)]()),_0x2692d4=null,_0xe1705b=!0x1;for(let _0x3a7b30 of _0x4ac4b7){let _0x3d22d2=this[_0x4ebd97(0x263)](_0x19ec0a,_0x3a7b30);_0x12a05e[_0x4ebd97(0x260)](_0x4ebd97(0x547)+_0x3a7b30['firstValue']+',\x20Comparador:\x20'+_0x3a7b30[_0x4ebd97(0x593)]+_0x4ebd97(0x519)+_0x3a7b30[_0x4ebd97(0x276)]+',\x20Resultado:\x20'+_0x3d22d2),_0x2692d4===null?_0x2692d4=_0x3d22d2:_0x3a7b30[_0x4ebd97(0x204)]==='and'?(_0x2692d4=_0x2692d4&&_0x3d22d2,_0x3d22d2||(_0xe1705b=!0x0)):_0x3a7b30[_0x4ebd97(0x204)]==='or'&&(_0xe1705b||(_0x2692d4=_0x2692d4||_0x3d22d2));}_0x2692d4===null&&(_0x2692d4=!0x0);let _0x451686={'moreLogs':_0x12a05e};_0x19ec0a[_0x4ebd97(0x51c)]['lastCondition']=_0x2692d4,await this['updateConversation'](_0x19ec0a,_0x15118b,_0x451686);}catch(_0x19e125){this[_0x4ebd97(0x2dd)][_0x4ebd97(0x4e3)](this['instanceName']+'\x20('+this[_0x4ebd97(0x633)]['wuid']+'):\x20Error\x20processing\x20conditions:\x20'+(_0x19e125 instanceof Error?_0x19e125['message']:JSON[_0x4ebd97(0x455)](_0x19e125,null,0x2)));}}[a0_0x146a96(0x263)](_0x199d3f,_0x4399ce){const _0x24f2dd=a0_0x146a96;let _0x24adf1=_0x4399ce[_0x24f2dd(0x5ca)],_0x97eb91=_0x4399ce['secondValue'];typeof _0x24adf1==_0x24f2dd(0x246)&&(_0x24adf1=this[_0x24f2dd(0x462)](_0x24adf1,_0x199d3f[_0x24f2dd(0x51c)][_0x24f2dd(0xbc)])??''),typeof _0x97eb91==_0x24f2dd(0x246)&&(_0x97eb91=this[_0x24f2dd(0x462)](_0x97eb91,_0x199d3f[_0x24f2dd(0x51c)][_0x24f2dd(0xbc)])??'');try{switch(_0x4399ce['expression']){case _0x24f2dd(0xe9):return _0x24adf1===_0x97eb91;case _0x24f2dd(0x1e4):return _0x24adf1!==_0x97eb91;case _0x24f2dd(0x338):return this['contains'](_0x24adf1,_0x97eb91);case _0x24f2dd(0x411):return!this[_0x24f2dd(0x338)](_0x24adf1,_0x97eb91);case _0x24f2dd(0x429):return parseFloat(_0x24adf1)>parseFloat(_0x97eb91);case _0x24f2dd(0x301):return parseFloat(_0x24adf1)<parseFloat(_0x97eb91);case _0x24f2dd(0x4ce):return _0x24adf1!=='';case _0x24f2dd(0x277):return _0x24adf1==='';case _0x24f2dd(0x15f):return new RegExp(_0x97eb91)[_0x24f2dd(0x4ef)](_0x24adf1);case _0x24f2dd(0x418):return!new RegExp(_0x97eb91)[_0x24f2dd(0x4ef)](_0x24adf1);default:return!0x1;}}catch(_0x41dba9){return console['error'](_0x24f2dd(0x24c)+_0x41dba9),!0x1;}}[a0_0x146a96(0x338)](_0x4b3710,_0x4cd0e0){const _0x236c22=a0_0x146a96;if(_0x4b3710===_0x4cd0e0&&/^\d+$/[_0x236c22(0x4ef)](_0x4b3710))return!0x0;if(this[_0x236c22(0x509)](_0x4b3710)&&/^\d+$/[_0x236c22(0x4ef)](_0x4cd0e0)){let _0x6b73c0=_0x4b3710[_0x236c22(0x5d7)](',')[_0x236c22(0x684)](_0x3139a7=>parseInt(_0x3139a7[_0x236c22(0x546)]())),_0x58fd6d=parseInt(_0x4cd0e0);return _0x6b73c0[_0x236c22(0x322)](_0x58fd6d);}return _0x4b3710['includes'](_0x4cd0e0);}[a0_0x146a96(0x509)](_0x198b0d){const _0x3624a2=a0_0x146a96;return/^\d+(,\d+)*$/[_0x3624a2(0x4ef)](_0x198b0d);}[a0_0x146a96(0x133)](_0x654af){const _0x307b1f=a0_0x146a96;let _0x163b37=!0x0,_0x4ba8bf=null;for(let _0x1b5c4e of _0x654af){let _0x27a88b=this[_0x307b1f(0x370)](_0x1b5c4e);if(_0x4ba8bf==='or'&&_0x27a88b){_0x163b37=!0x0;break;}if(_0x4ba8bf==='and'&&!_0x27a88b){_0x163b37=!0x1;break;}_0x4ba8bf=_0x1b5c4e[_0x307b1f(0x204)];}return _0x163b37;}['evaluateConditionTest'](_0xadfd61){const _0x292c4d=a0_0x146a96;let _0x40057d=_0xadfd61['firstValue'],_0x4c7e25=_0xadfd61[_0x292c4d(0x276)];try{switch(_0xadfd61['expression']){case _0x292c4d(0xe9):return String(_0x40057d)===String(_0x4c7e25);case _0x292c4d(0x1e4):return String(_0x40057d)!==String(_0x4c7e25);case _0x292c4d(0x338):return String(_0x40057d)[_0x292c4d(0x322)](String(_0x4c7e25));case'notContains':return!String(_0x40057d)[_0x292c4d(0x322)](String(_0x4c7e25));case _0x292c4d(0x429):return parseFloat(String(_0x40057d))>parseFloat(String(_0x4c7e25));case'less':return parseFloat(String(_0x40057d))<parseFloat(String(_0x4c7e25));case _0x292c4d(0x4ce):return String(_0x40057d)!=='';case'empty':return String(_0x40057d)==='';case _0x292c4d(0x15f):return new RegExp(String(_0x4c7e25))['test'](String(_0x40057d));case _0x292c4d(0x418):return!new RegExp(String(_0x4c7e25))[_0x292c4d(0x4ef)](String(_0x40057d));default:return!0x1;}}catch(_0x186017){return console[_0x292c4d(0x4e3)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x186017),!0x1;}}async[a0_0x146a96(0xdc)](_0x45e6e3,_0x17448d){const _0x2cadd8=a0_0x146a96;if(this[_0x2cadd8(0x2dd)][_0x2cadd8(0xb5)](this['instanceName']+'\x20('+this[_0x2cadd8(0x633)][_0x2cadd8(0x4c4)]+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x45e6e3||!_0x17448d)return this[_0x2cadd8(0x2dd)][_0x2cadd8(0x4e3)](this['instanceName']+'\x20('+this['instance'][_0x2cadd8(0x4c4)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x58c698=_0x17448d[_0x2cadd8(0x22f)],_0x2da3e2=_0x45e6e3[_0x2cadd8(0x51c)]['lastReceivedMessage']['text']||_0x45e6e3[_0x2cadd8(0x51c)][_0x2cadd8(0x667)][_0x2cadd8(0x60e)]||_0x45e6e3[_0x2cadd8(0x51c)]['lastReceivedMessage'][_0x2cadd8(0x3fb)];try{_0x45e6e3[_0x2cadd8(0x51c)][_0x2cadd8(0xbc)]||(_0x45e6e3[_0x2cadd8(0x51c)][_0x2cadd8(0xbc)]={});let _0x162895=_0x45e6e3[_0x2cadd8(0x51c)][_0x2cadd8(0xbc)][_0x58c698];_0x45e6e3[_0x2cadd8(0x51c)][_0x2cadd8(0xbc)][_0x58c698]=_0x2da3e2;let _0x471542={'variable':_0x58c698,'oldValue':_0x162895,'newValue':_0x2da3e2};this[_0x2cadd8(0x5bb)](_0x45e6e3,_0x17448d,_0x471542),this[_0x2cadd8(0x2dd)][_0x2cadd8(0xb5)](this[_0x2cadd8(0x381)]+'\x20('+this[_0x2cadd8(0x633)][_0x2cadd8(0x4c4)]+_0x2cadd8(0x525));}catch(_0x10ee5c){let _0x5ae0e1={'error':!0x0,'errorLog':_0x10ee5c['toString']()};return this[_0x2cadd8(0x5bb)](_0x45e6e3,_0x17448d,_0x5ae0e1),this[_0x2cadd8(0x2dd)][_0x2cadd8(0x4e3)](this['instanceName']+'\x20('+this[_0x2cadd8(0x633)][_0x2cadd8(0x4c4)]+_0x2cadd8(0x4fe)+(_0x10ee5c instanceof Error?_0x10ee5c[_0x2cadd8(0x404)]:JSON[_0x2cadd8(0x455)](_0x10ee5c,null,0x2))),null;}}async[a0_0x146a96(0x1f4)](_0x11f489,_0x512db4){const _0x13871b=a0_0x146a96;if(this[_0x13871b(0x2dd)][_0x13871b(0xb5)](this[_0x13871b(0x381)]+'\x20('+this['instance'][_0x13871b(0x4c4)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0x11f489||!_0x512db4)return this[_0x13871b(0x2dd)][_0x13871b(0x4e3)](this[_0x13871b(0x381)]+'\x20('+this[_0x13871b(0x633)][_0x13871b(0x4c4)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x315b54=Date[_0x13871b(0x116)](),_0x4d508a=parseInt(_0x512db4[_0x13871b(0x48f)],0xa);if(isNaN(_0x4d508a))return this[_0x13871b(0x2dd)][_0x13871b(0x4e3)](this['instanceName']+'\x20('+this[_0x13871b(0x633)][_0x13871b(0x4c4)]+_0x13871b(0x2f3)),null;let _0x5a9aa0={'newStoppedUntil':_0x315b54+_0x4d508a*0x3c*0x3e8};return await this['updateConversation'](_0x11f489,_0x512db4,_0x5a9aa0,!0x0),null;}async[a0_0x146a96(0x475)](_0x45421b,_0x5b787b){const _0x71664b=a0_0x146a96;try{switch(_0x5b787b['uazapi'][_0x71664b(0x336)]){case'sendText':await this[_0x71664b(0x131)](_0x45421b,_0x5b787b);break;case _0x71664b(0x64c):await this['uazapiSendMedia'](_0x45421b,_0x5b787b);break;case _0x71664b(0x53e):await this[_0x71664b(0x3c7)](_0x45421b,_0x5b787b);break;case _0x71664b(0x678):await this[_0x71664b(0x167)](_0x45421b,_0x5b787b);break;case _0x71664b(0x85):await this[_0x71664b(0x10d)](_0x45421b,_0x5b787b);break;case _0x71664b(0x265):await this[_0x71664b(0x402)](_0x45421b,_0x5b787b);break;case _0x71664b(0x339):await this[_0x71664b(0x402)](_0x45421b,_0x5b787b);break;case _0x71664b(0x12d):await this[_0x71664b(0x4bd)](_0x45421b,_0x5b787b);break;default:this[_0x71664b(0x2dd)][_0x71664b(0x4e3)](this[_0x71664b(0x381)]+'\x20('+this[_0x71664b(0x633)][_0x71664b(0x4c4)]+_0x71664b(0x42c)+_0x5b787b[_0x71664b(0x1b5)]['command']);}}catch(_0x2eddfb){this[_0x71664b(0x2dd)][_0x71664b(0x4e3)](this['instanceName']+'\x20('+this[_0x71664b(0x633)][_0x71664b(0x4c4)]+_0x71664b(0x5c2)+(_0x2eddfb instanceof Error?_0x2eddfb[_0x71664b(0x404)]:JSON[_0x71664b(0x455)](_0x2eddfb,null,0x2)));}}async[a0_0x146a96(0x5bb)](_0x2d5bc6,_0x41833d,_0x311a00,_0x392d44=!0x1,_0x54a0be=!0x1){const _0x2effc7=a0_0x146a96;_0x2d5bc6['chatLog']['blockLogs']||(_0x2d5bc6[_0x2effc7(0x51c)][_0x2effc7(0x506)]=[]);let _0x129ed2=(_0x2d5bc6[_0x2effc7(0x51c)][_0x2effc7(0x506)]?.[_0x2effc7(0x29f)]??0x0)+0x1,_0x3fe084=_0x2d5bc6[_0x2effc7(0x51c)][_0x2effc7(0x506)][_0x2effc7(0x61b)](_0x3dd2ed=>String(_0x3dd2ed['blockId'])===String(_0x41833d[_0x2effc7(0x517)]))['length']+0x1,_0x484328=_0x311a00?.[_0x2effc7(0x51d)]??Date[_0x2effc7(0x116)](),_0xa6e9d3=_0x311a00?.[_0x2effc7(0x4e3)]?_0x311a00['errorLog']??_0x311a00['error'][_0x2effc7(0xc6)]():void 0x0,_0x29163c={'onTime':_0x484328,'blockId':_0x41833d[_0x2effc7(0x517)],'order':_0x129ed2,'activatedCount':_0x3fe084,'error':_0x311a00?.[_0x2effc7(0x4e3)]??!0x1,'messageId':_0x311a00?.[_0x2effc7(0x59a)],'apiResponse':_0x311a00?.[_0x2effc7(0x330)],'apiResponseString':_0x311a00?.['apiResponse']?JSON['stringify'](_0x311a00?.['apiResponse']):void 0x0,'variable':_0x311a00?.[_0x2effc7(0x6c6)],'oldValue':_0x311a00?.[_0x2effc7(0x3a9)],'newValue':_0x311a00?.[_0x2effc7(0x6b0)],'newStoppedUntil':_0x311a00?.[_0x2effc7(0xca)],'moreLogs':_0x311a00?.['moreLogs'],'errorLog':_0xa6e9d3};if(_0x311a00[_0x2effc7(0x3f8)]&&_0x311a00[_0x2effc7(0x3f8)][_0x2effc7(0x29f)]>0x0){let _0x5a8215=_0x311a00[_0x2effc7(0x3f8)][_0x2effc7(0x684)](_0x1753a2=>this[_0x2effc7(0x48d)](_0x1753a2,_0x2d5bc6[_0x2effc7(0x51c)][_0x2effc7(0xbc)]));_0x29163c[_0x2effc7(0x3f8)]=_0x5a8215;}_0x2d5bc6[_0x2effc7(0x51c)]['realVariables']||(_0x2d5bc6['chatLog'][_0x2effc7(0xbc)]={}),_0x2d5bc6[_0x2effc7(0x51c)][_0x2effc7(0xbc)][_0x2effc7(0xed)]=String(_0x3fe084),_0x2d5bc6['chatLog'][_0x2effc7(0xbc)]['_error']=String(_0x311a00[_0x2effc7(0x4e3)]??!0x1),_0x2d5bc6[_0x2effc7(0x51c)][_0x2effc7(0x506)][_0x2effc7(0x260)](_0x29163c),_0x2d5bc6['chatLog'][_0x2effc7(0x3e3)]=_0x41833d[_0x2effc7(0x517)]['toString'](),_0x2d5bc6[_0x2effc7(0x51c)][_0x2effc7(0x5f6)]&&(_0x2d5bc6['chatLog'][_0x2effc7(0x5f6)]=_0x2d5bc6['chatLog'][_0x2effc7(0x5f6)]),_0x2d5bc6['chatLog']['lastReceivedMessage']&&(_0x2d5bc6['chatLog']['lastReceivedMessage']=_0x2d5bc6[_0x2effc7(0x51c)][_0x2effc7(0x667)]),_0x2d5bc6[_0x2effc7(0x51c)][_0x2effc7(0x221)]&&(_0x2d5bc6[_0x2effc7(0x51c)][_0x2effc7(0x221)]=_0x2d5bc6[_0x2effc7(0x51c)][_0x2effc7(0x221)]),_0x54a0be&&(_0x2d5bc6[_0x2effc7(0x419)]=_0x2effc7(0x502)),_0x392d44?this['saveConversationToDatabase'](_0x2d5bc6):this[_0x2effc7(0x2d5)](_0x2d5bc6,_0x41833d);}[a0_0x146a96(0x48d)](_0xf83944,_0x254ceb){const _0x3209dc=a0_0x146a96;return _0xf83944['replace'](/\{\{([^}]+)\}\}/g,(_0x2f0e81,_0x373f12)=>_0x254ceb[_0x373f12]?'{{'+_0x373f12+'}}\x20->\x20\x22'+_0x254ceb[_0x373f12]+'\x22':'{{'+_0x373f12+_0x3209dc(0x2d3));}async[a0_0x146a96(0x61d)](_0x1a63ed){const _0x7f33fb=a0_0x146a96;try{let _0x235b3c=Object[_0x7f33fb(0x14c)](_0x1a63ed['chatLog'][_0x7f33fb(0xbc)])[_0x7f33fb(0x684)](([_0x567f9d,_0x2d504c])=>({'name':_0x567f9d,'value':_0x2d504c})),_0x5ef13e={'status':_0x1a63ed[_0x7f33fb(0x419)],'blocks':_0x1a63ed[_0x7f33fb(0x5a7)],'waitingMenu_id':_0x1a63ed['waitingMenu_id'],'waitingMenu_text':_0x1a63ed[_0x7f33fb(0x380)],'waitingMenu_replyOptions':_0x1a63ed['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x1a63ed[_0x7f33fb(0x51c)][_0x7f33fb(0x3e3)],'lastSendMessage':_0x1a63ed[_0x7f33fb(0x51c)][_0x7f33fb(0x5f6)],'lastReceivedMessage':_0x1a63ed[_0x7f33fb(0x51c)][_0x7f33fb(0x667)],'lastCondition':_0x1a63ed[_0x7f33fb(0x51c)][_0x7f33fb(0x221)],'chatVariables':_0x235b3c,'realVariables':_0x1a63ed[_0x7f33fb(0x51c)][_0x7f33fb(0xbc)],'blockLogs':_0x1a63ed[_0x7f33fb(0x51c)][_0x7f33fb(0x506)]}},_0x37e1e3=await this[_0x7f33fb(0x484)][_0x7f33fb(0x1fc)][_0x7f33fb(0x5af)](_0x1a63ed[_0x7f33fb(0x517)],_0x5ef13e,this[_0x7f33fb(0x633)][_0x7f33fb(0x4c4)]);if(_0x37e1e3){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x7f33fb(0x633)][_0x7f33fb(0x4c4)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x37e1e3[_0x7f33fb(0x517)]);try{let _0x134644=['nome',_0x7f33fb(0x33f),_0x7f33fb(0x21e),_0x7f33fb(0x40b),_0x7f33fb(0x419),_0x7f33fb(0x3d1),_0x7f33fb(0x2b3),'tags','etiquetas'];if(!this[_0x7f33fb(0x10a)]&&(await this[_0x7f33fb(0x134)](),!this[_0x7f33fb(0x10a)]))throw new Error(_0x7f33fb(0x27f));let _0x192d97=this[_0x7f33fb(0x10a)]?.[_0x7f33fb(0x400)][_0x7f33fb(0x684)](_0x4de093=>_0x4de093[_0x7f33fb(0x68a)]),_0xacc5c9={};Object['entries'](_0x1a63ed[_0x7f33fb(0x51c)][_0x7f33fb(0xbc)])[_0x7f33fb(0x304)](([_0x1f2c55,_0xbe55af])=>{const _0x3b385b=_0x7f33fb;_0x134644[_0x3b385b(0x322)](_0x1f2c55)&&(_0x1f2c55===_0x3b385b(0x57e)&&typeof _0xbe55af=='string'?_0xacc5c9[_0x1f2c55]=_0xbe55af[_0x3b385b(0x5d7)](',')['map'](_0x2f0c4d=>_0x2f0c4d[_0x3b385b(0x546)]())['filter'](_0xadd190=>_0xadd190!==''):_0x1f2c55==='etiquetas'&&typeof _0xbe55af==_0x3b385b(0x246)?_0xacc5c9[_0x1f2c55]=_0xbe55af['split'](',')[_0x3b385b(0x684)](_0x423ba8=>_0x423ba8[_0x3b385b(0x546)]())[_0x3b385b(0x61b)](_0x30914a=>_0x30914a!==''):_0xacc5c9[_0x1f2c55]=_0xbe55af);});let _0xdd981a=_0x1a63ed[_0x7f33fb(0x51c)]['blockLogs'][_0x1a63ed['chatLog']['blockLogs'][_0x7f33fb(0x29f)]-0x1];if(_0xdd981a){let _0x1e0365=_0xdd981a[_0x7f33fb(0xca)];_0x1e0365!==void 0x0&&(_0xacc5c9[_0x7f33fb(0x1bd)]=_0x1e0365[_0x7f33fb(0xc6)]());}let _0x25d81e=_0x235b3c[_0x7f33fb(0x61b)](_0x176eec=>_0x192d97[_0x7f33fb(0x322)](_0x176eec['name']));this[_0x7f33fb(0x2dd)]['verbose'](this['instanceName']+'\x20('+this[_0x7f33fb(0x633)]['wuid']+_0x7f33fb(0x6ce)),this['logger']['verbose'](_0xacc5c9),this[_0x7f33fb(0x2dd)][_0x7f33fb(0xb5)](this[_0x7f33fb(0x381)]+'\x20('+this[_0x7f33fb(0x633)][_0x7f33fb(0x4c4)]+_0x7f33fb(0x186)),this[_0x7f33fb(0x2dd)][_0x7f33fb(0xb5)](_0x25d81e);let _0x5666da=_0x25d81e[_0x7f33fb(0x684)](_0x4fae46=>{const _0xb20f73=_0x7f33fb;let _0x1ade23=this[_0xb20f73(0x10a)]?.[_0xb20f73(0x400)]['find'](_0xd6db9=>_0xd6db9['name']===_0x4fae46[_0xb20f73(0x68a)]);if(!_0x1ade23)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x4fae46[_0xb20f73(0x68a)]);return{'_id':_0x1ade23['_id'],'value':_0x4fae46[_0xb20f73(0x1ce)]};});this[_0x7f33fb(0x2dd)][_0x7f33fb(0xb5)](this[_0x7f33fb(0x381)]+'\x20('+this[_0x7f33fb(0x633)][_0x7f33fb(0x4c4)]+'):\x20transformedCustomFieldVariables'),this[_0x7f33fb(0x2dd)]['verbose'](_0x5666da),await this[_0x7f33fb(0x33d)](_0x1a63ed[_0x7f33fb(0x291)],_0xacc5c9,_0x5666da);}catch(_0x33aa98){this[_0x7f33fb(0x2dd)][_0x7f33fb(0x4e3)](this[_0x7f33fb(0x381)]+'\x20('+this[_0x7f33fb(0x633)][_0x7f33fb(0x4c4)]+_0x7f33fb(0xf9)+(_0x33aa98 instanceof Error?_0x33aa98[_0x7f33fb(0x404)]:JSON[_0x7f33fb(0x455)](_0x33aa98,null,0x2)));}}else this['logger'][_0x7f33fb(0x4e3)](this[_0x7f33fb(0x381)]+'\x20('+this[_0x7f33fb(0x633)][_0x7f33fb(0x4c4)]+_0x7f33fb(0x5b4));}catch(_0x53406f){this[_0x7f33fb(0x2dd)][_0x7f33fb(0x4e3)](this[_0x7f33fb(0x381)]+'\x20('+this[_0x7f33fb(0x633)]['wuid']+_0x7f33fb(0x623)+(_0x53406f instanceof Error?_0x53406f[_0x7f33fb(0x404)]:JSON[_0x7f33fb(0x455)](_0x53406f,null,0x2)));}}async['saveChatVariables'](_0x4993c2,_0x39bcbb,_0x4ac4bd){const _0x33149e=a0_0x146a96;try{let _0x440261={'leadInfo.leadnome':_0x39bcbb[_0x33149e(0x626)],'leadInfo.nomecompleto':_0x39bcbb[_0x33149e(0x33f)],'leadInfo.email':_0x39bcbb[_0x33149e(0x21e)],'leadInfo.cpf':_0x39bcbb['cpf'],'leadInfo.status':_0x39bcbb[_0x33149e(0x419)],'leadInfo.notas':_0x39bcbb[_0x33149e(0x3d1)],'leadInfo.responsavelid':_0x39bcbb[_0x33149e(0x2b3)],'leadInfo.tags':_0x39bcbb[_0x33149e(0x57e)],'leadInfo.etiquetas':_0x39bcbb['etiquetas'],'leadInfo.customFields':_0x4ac4bd},_0x1b0cd0=await this[_0x33149e(0x484)][_0x33149e(0x657)][_0x33149e(0x592)]({'where':{'_id':_0x4993c2}},this[_0x33149e(0x633)][_0x33149e(0x4c4)]),_0x29cde4=new Set(_0x1b0cd0[_0x33149e(0x641)][_0x33149e(0x274)]||[]),_0x16c186=new Set(_0x39bcbb['etiquetas']||[]),_0x2b220e=await this[_0x33149e(0x484)][_0x33149e(0x660)][_0x33149e(0x54e)]({'where':{}},this[_0x33149e(0x633)]['wuid']),_0x3d5754=new Set(_0x2b220e['map'](_0x280409=>_0x280409[_0x33149e(0x517)])),_0x2c8e48=[..._0x16c186][_0x33149e(0x61b)](_0x1e0a05=>!_0x29cde4[_0x33149e(0x2ea)](_0x1e0a05)&&_0x3d5754[_0x33149e(0x2ea)](_0x1e0a05)),_0x350a2a=[..._0x29cde4][_0x33149e(0x61b)](_0x289e85=>!_0x16c186[_0x33149e(0x2ea)](_0x289e85));for(let _0x2af782 of _0x2c8e48)await this['AddChatLabel'](_0x2af782,_0x1b0cd0[_0x33149e(0x517)]),_0x29cde4[_0x33149e(0x4a8)](_0x2af782);for(let _0x557791 of _0x350a2a)await this['RemoveChatLabel'](_0x557791,_0x1b0cd0[_0x33149e(0x517)]),_0x29cde4[_0x33149e(0x487)](_0x557791);if('desativadoFluxoAte'in _0x39bcbb){let _0x52be38=_0x39bcbb[_0x33149e(0x1bd)];_0x440261[_0x33149e(0x146)]=_0x52be38?Number(_0x52be38):null;}let _0x5df78=await this[_0x33149e(0x484)]['chat'][_0x33149e(0x5af)]({'where':{'_id':_0x4993c2}},_0x440261,this[_0x33149e(0x633)][_0x33149e(0x4c4)]);_0x5df78?(this[_0x33149e(0x2dd)]['verbose'](this['instanceName']+'\x20('+this[_0x33149e(0x633)][_0x33149e(0x4c4)]+_0x33149e(0x569)+_0x5df78[_0x33149e(0x517)]),J(this[_0x33149e(0x381)],_0x33149e(0x392),{'chat':_0x5df78})):this[_0x33149e(0x2dd)][_0x33149e(0x4e3)](this[_0x33149e(0x381)]+'\x20('+this[_0x33149e(0x633)][_0x33149e(0x4c4)]+_0x33149e(0x457));}catch(_0x27ede7){this[_0x33149e(0x2dd)][_0x33149e(0x4e3)](this[_0x33149e(0x381)]+'\x20('+this[_0x33149e(0x633)][_0x33149e(0x4c4)]+_0x33149e(0x298)+(_0x27ede7 instanceof Error?_0x27ede7[_0x33149e(0x404)]:JSON['stringify'](_0x27ede7,null,0x2)));}}async[a0_0x146a96(0x6ca)](_0x39110e,_0x53552e){const _0x9ac0cb=a0_0x146a96;this[_0x9ac0cb(0x2dd)]['verbose'](this['instanceName']+'\x20('+this[_0x9ac0cb(0x633)][_0x9ac0cb(0x4c4)]+_0x9ac0cb(0x23b)+_0x53552e);try{let _0x2e1d75=await this[_0x9ac0cb(0x484)]['chat'][_0x9ac0cb(0x5af)]({'where':{'_id':_0x39110e['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x53552e},this[_0x9ac0cb(0x633)][_0x9ac0cb(0x4c4)]);this[_0x9ac0cb(0x2dd)][_0x9ac0cb(0xb5)](this[_0x9ac0cb(0x381)]+'\x20('+this[_0x9ac0cb(0x633)][_0x9ac0cb(0x4c4)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0x39110e[_0x9ac0cb(0x517)]),this[_0x9ac0cb(0x2dd)]['verbose'](this['instanceName']+'\x20('+this[_0x9ac0cb(0x633)][_0x9ac0cb(0x4c4)]+_0x9ac0cb(0x23b)+JSON['stringify'](_0x2e1d75,null,0x2)),_0x2e1d75&&J(this[_0x9ac0cb(0x381)],_0x9ac0cb(0x392),{'chat':_0x2e1d75});}catch(_0x5845a1){this[_0x9ac0cb(0x2dd)][_0x9ac0cb(0x4e3)](this[_0x9ac0cb(0x381)]+'\x20('+this[_0x9ac0cb(0x633)][_0x9ac0cb(0x4c4)]+_0x9ac0cb(0x3fa)+(_0x5845a1 instanceof Error?_0x5845a1[_0x9ac0cb(0x404)]:JSON[_0x9ac0cb(0x455)](_0x5845a1,null,0x2)));}}async[a0_0x146a96(0x6d1)](_0x3018d4){const _0x2cf97f=a0_0x146a96;try{this[_0x2cf97f(0x2dd)][_0x2cf97f(0xb5)](this['instanceName']+'\x20('+this[_0x2cf97f(0x633)][_0x2cf97f(0x4c4)]+'):\x20Buscando\x20flow...');let _0x3cdd53=_0x3018d4[_0x2cf97f(0x3c8)](/\D/g,''),_0x52c858=await this['repository'][_0x2cf97f(0x481)]['findOne']({'where':{'testingWith':_0x3cdd53}},this[_0x2cf97f(0x633)][_0x2cf97f(0x4c4)]);return _0x52c858||(this[_0x2cf97f(0x2dd)]['verbose'](this['instanceName']+'\x20('+this[_0x2cf97f(0x633)][_0x2cf97f(0x4c4)]+_0x2cf97f(0x432)),_0x52c858=await this[_0x2cf97f(0x484)][_0x2cf97f(0x481)][_0x2cf97f(0x592)]({'where':{'default':!0x0}},this[_0x2cf97f(0x633)][_0x2cf97f(0x4c4)])),_0x52c858||(this[_0x2cf97f(0x2dd)]['verbose'](this[_0x2cf97f(0x381)]+'\x20('+this['instance'][_0x2cf97f(0x4c4)]+_0x2cf97f(0x3ed)),null);}catch(_0x3cf2d9){return this[_0x2cf97f(0x2dd)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+(_0x3cf2d9 instanceof Error?_0x3cf2d9['message']:JSON['stringify'](_0x3cf2d9,null,0x2))),null;}}async['findConversation'](_0x429601,_0x5c54b4){const _0x3505a5=a0_0x146a96;try{let _0x45d9c7=!!_0x5c54b4[_0x3505a5(0x3fb)],_0x254963=_0x5c54b4['quoted'],_0xd1adbc=null;if(this[_0x3505a5(0x2dd)][_0x3505a5(0xb5)](this[_0x3505a5(0x381)]+'\x20('+this[_0x3505a5(0x633)]['wuid']+_0x3505a5(0xea)+_0x45d9c7+_0x3505a5(0x603)+_0x254963),_0x45d9c7){this[_0x3505a5(0x2dd)][_0x3505a5(0xb5)](this[_0x3505a5(0x381)]+'\x20('+this[_0x3505a5(0x633)][_0x3505a5(0x4c4)]+_0x3505a5(0x312));let _0x2953f6={'where':{'remoteJid':_0x429601,'waitingMenu_id':_0x254963}};if(_0xd1adbc=await this[_0x3505a5(0x484)][_0x3505a5(0x1fc)][_0x3505a5(0x592)](_0x2953f6,this[_0x3505a5(0x633)]['wuid']),!_0xd1adbc)return this[_0x3505a5(0x2dd)][_0x3505a5(0xb5)](this[_0x3505a5(0x381)]+'\x20('+this[_0x3505a5(0x633)]['wuid']+'):\x20não\x20encontrou'),null;let _0x15ead2=Date[_0x3505a5(0x116)](),_0x3342e4=_0xd1adbc?.[_0x3505a5(0x238)]||0x0,_0x51fd3a=_0x15ead2-_0x3342e4*0x3c*0x3e8;if(_0xd1adbc['lastInteraction']<_0x51fd3a){this['logger']['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Conversa\x20está\x20expirada\x20-\x20voto');let _0x406f61={'number':_0xd1adbc[_0x3505a5(0x291)],'options':{'delay':0x0},'textMessage':{'text':_0xd1adbc['waitingMenu_ExpiredMessage']}};await this[_0x3505a5(0x144)](_0x406f61);let _0x3e9b4e={'status':_0x3505a5(0x502),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository'][_0x3505a5(0x1fc)][_0x3505a5(0x5af)](_0xd1adbc[_0x3505a5(0x517)],_0x3e9b4e,this['instance']['wuid']),null;}return _0xd1adbc['lastInteraction']=Date[_0x3505a5(0x116)](),_0xd1adbc[_0x3505a5(0x51c)][_0x3505a5(0x667)]=_0x5c54b4,_0xd1adbc;}else{this[_0x3505a5(0x2dd)][_0x3505a5(0xb5)](this[_0x3505a5(0x381)]+'\x20('+this[_0x3505a5(0x633)]['wuid']+_0x3505a5(0x43f)+this[_0x3505a5(0x633)][_0x3505a5(0x4c4)]+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this[_0x3505a5(0x2dd)][_0x3505a5(0xb5)](this[_0x3505a5(0x381)]+'\x20('+this[_0x3505a5(0x633)]['wuid']+_0x3505a5(0x625));let _0x1bd428={'where':{'remoteJid':_0x429601,'status':_0x3505a5(0x1ac)}};if(_0xd1adbc=await this[_0x3505a5(0x484)]['flowConversation'][_0x3505a5(0x592)](_0x1bd428,this[_0x3505a5(0x633)][_0x3505a5(0x4c4)]),!_0xd1adbc){let _0x1bec5f=await this[_0x3505a5(0x6d1)](_0x429601);if(_0x1bec5f&&(_0xd1adbc=await this[_0x3505a5(0x452)](_0x1bec5f,_0x5c54b4['key'],_0x5c54b4)),!_0xd1adbc)return null;}let _0x4477ee=Date[_0x3505a5(0x116)](),_0x2f9063=_0xd1adbc?.[_0x3505a5(0x238)]||0x0,_0x2148a3=_0x4477ee-_0x2f9063*0x3c*0x3e8;if(this[_0x3505a5(0x2dd)][_0x3505a5(0xb5)](this['instanceName']+'\x20('+this[_0x3505a5(0x633)][_0x3505a5(0x4c4)]+_0x3505a5(0x103)+_0x4477ee+',\x20Minutes\x20to\x20Close:\x20'+_0x2f9063+_0x3505a5(0x21b)+_0x2148a3),this[_0x3505a5(0x2dd)][_0x3505a5(0xb5)](this['instanceName']+'\x20('+this[_0x3505a5(0x633)]['wuid']+_0x3505a5(0x589)),this[_0x3505a5(0x2dd)][_0x3505a5(0xb5)](this[_0x3505a5(0x381)]+'\x20('+this[_0x3505a5(0x633)][_0x3505a5(0x4c4)]+_0x3505a5(0x6c3)+_0xd1adbc['lastInteraction']),this['logger']['verbose'](this[_0x3505a5(0x381)]+'\x20('+this[_0x3505a5(0x633)][_0x3505a5(0x4c4)]+_0x3505a5(0x61f)+_0x2148a3),_0xd1adbc[_0x3505a5(0x5f0)]<_0x2148a3){this[_0x3505a5(0x2dd)][_0x3505a5(0xb5)](this['instanceName']+'\x20('+this['instance'][_0x3505a5(0x4c4)]+'):\x20Conversa\x20está\x20expirada');let _0x44e111=await this[_0x3505a5(0x6d1)](_0x429601);if(_0x44e111===null)return null;_0xd1adbc&&await this[_0x3505a5(0x484)][_0x3505a5(0x1fc)]['updateOne'](_0xd1adbc[_0x3505a5(0x517)],{'status':'closed'},this[_0x3505a5(0x633)][_0x3505a5(0x4c4)]),_0xd1adbc=await this[_0x3505a5(0x452)](_0x44e111,_0x5c54b4['key'],_0x5c54b4);}return _0xd1adbc[_0x3505a5(0x5f0)]=_0x4477ee,_0xd1adbc[_0x3505a5(0x51c)][_0x3505a5(0x667)]=_0x5c54b4,_0xd1adbc;}}catch(_0x3658a2){return this[_0x3505a5(0x2dd)][_0x3505a5(0x4e3)](this[_0x3505a5(0x381)]+'\x20('+this[_0x3505a5(0x633)][_0x3505a5(0x4c4)]+'):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20'+(_0x3658a2 instanceof Error?_0x3658a2[_0x3505a5(0x404)]:JSON[_0x3505a5(0x455)](_0x3658a2,null,0x2))),null;}}async[a0_0x146a96(0x452)](_0x3eb3a9,_0x23a69d,_0x5bb04e){const _0x509f93=a0_0x146a96;this[_0x509f93(0x2dd)][_0x509f93(0xb5)](this['instanceName']+'\x20('+this[_0x509f93(0x633)]['wuid']+'):\x20Criando\x20nova\x20conversa[createNewConversation]');try{let _0x55d18c=require('mongodb')[_0x509f93(0x292)],_0x2a22a9=Date[_0x509f93(0x116)](),_0x154966=_0x509f93(0x6b3),_0x4d3fcf=_0x23a69d[_0x509f93(0x34d)]?null:_0x5bb04e,_0x41be63=_0x23a69d[_0x509f93(0x34d)]?_0x5bb04e:null,_0x467e10=_0x23a69d[_0x509f93(0x291)];await this['closeExistingConversations'](_0x467e10);let _0x21d5f0={..._0x3eb3a9,'chatLog':null},_0x195c5d=await this[_0x509f93(0x5d1)](_0x21d5f0['variables']),_0x329e2b=await this[_0x509f93(0x196)](_0x467e10),_0x21113f={..._0x195c5d,..._0x329e2b,'_remoteJid':_0x467e10},_0x3699ba={'lastReceivedMessage':_0x4d3fcf,'lastSendMessage':_0x41be63,'lastBlockId':_0x154966,'lastCondition':!0x0,'realVariables':_0x21113f};_0x21d5f0[_0x509f93(0x51c)]=_0x3699ba,delete _0x21d5f0[_0x509f93(0x517)],_0x21d5f0['_id']=new _0x55d18c(),_0x21d5f0[_0x509f93(0x5f0)]=_0x2a22a9,_0x21d5f0[_0x509f93(0x419)]=_0x509f93(0x1ac),_0x21d5f0[_0x509f93(0x291)]=_0x467e10;let _0x5325ed=await this[_0x509f93(0x484)][_0x509f93(0x1fc)][_0x509f93(0x5af)](_0x21d5f0['_id'],_0x21d5f0,this[_0x509f93(0x633)]['wuid']);return this['logger']['verbose'](this[_0x509f93(0x381)]+'\x20('+this[_0x509f93(0x633)][_0x509f93(0x4c4)]+_0x509f93(0x1e1)),_0x5325ed?_0x21d5f0:null;}catch(_0x484dba){return this['logger']['error'](this[_0x509f93(0x381)]+'\x20('+this[_0x509f93(0x633)][_0x509f93(0x4c4)]+_0x509f93(0x36d)+(_0x484dba instanceof Error?_0x484dba[_0x509f93(0x404)]:JSON[_0x509f93(0x455)](_0x484dba,null,0x2))),_0x484dba;}}async['uazapiSendText'](_0xaba22b,_0x3e9214){const _0x4259c2=a0_0x146a96;let _0x11128b=_0xaba22b[_0x4259c2(0x291)];_0x3e9214['uazapi'][_0x4259c2(0x291)]&&_0x3e9214[_0x4259c2(0x1b5)][_0x4259c2(0x291)][_0x4259c2(0x546)]()!==''&&(_0x11128b=_0x3e9214[_0x4259c2(0x1b5)][_0x4259c2(0x291)][_0x4259c2(0x546)]()),this[_0x4259c2(0x2dd)][_0x4259c2(0xb5)](this[_0x4259c2(0x381)]+'\x20('+this[_0x4259c2(0x633)][_0x4259c2(0x4c4)]+_0x4259c2(0x15c));let _0x529870={'number':_0x11128b,'options':{'delay':_0x3e9214['uazapi'][_0x4259c2(0x15d)]},'textMessage':{'text':_0x3e9214['uazapi'][_0x4259c2(0x501)]}};try{let _0x3ac11d=await this['textMessage'](_0x529870);if(_0x3ac11d){let _0x8bdbc1={'_id':_0x3ac11d[_0x4259c2(0xce)]['id'],'_fromMe':_0x3ac11d[_0x4259c2(0xce)]['fromMe'],'_remoteJid':_0x3ac11d[_0x4259c2(0xce)]['remoteJid']};_0xaba22b[_0x4259c2(0x51c)][_0x4259c2(0x3e3)]=_0x3e9214[_0x4259c2(0x517)][_0x4259c2(0xc6)]();let {message_normalized:_0x1da2ff}=this[_0x4259c2(0x669)](_0x3ac11d[_0x4259c2(0x404)],$(_0x3ac11d['message']),null);_0xaba22b[_0x4259c2(0x51c)][_0x4259c2(0x5f6)]=await _0x1da2ff;let _0x1616e0={'messageId':_0x3ac11d[_0x4259c2(0xce)]['id']},_0x1e5143=_0xaba22b['chatLog'][_0x4259c2(0xbc)];Object['assign'](_0x1e5143,_0x8bdbc1),_0xaba22b[_0x4259c2(0x51c)]['realVariables']=_0x1e5143,this[_0x4259c2(0x5bb)](_0xaba22b,_0x3e9214,_0x1616e0);}else{let _0x23580d={'error':!0x0};this['updateConversation'](_0xaba22b,_0x3e9214,_0x23580d),this['logger']['error'](this[_0x4259c2(0x381)]+'\x20('+this[_0x4259c2(0x633)][_0x4259c2(0x4c4)]+_0x4259c2(0xdf));}}catch(_0x262be1){let _0x2994f8={'error':!0x0,'errorLog':_0x262be1[_0x4259c2(0xc6)]()};this[_0x4259c2(0x5bb)](_0xaba22b,_0x3e9214,_0x2994f8),this[_0x4259c2(0x2dd)][_0x4259c2(0x4e3)](this['instanceName']+'\x20('+this['instance'][_0x4259c2(0x4c4)]+_0x4259c2(0x1a8)+(_0x262be1 instanceof Error?_0x262be1[_0x4259c2(0x404)]:JSON[_0x4259c2(0x455)](_0x262be1,null,0x2)));}}async['uazapiSendMedia'](_0x25b1f6,_0x4e0d64){const _0x2011b5=a0_0x146a96;let _0x25f52c=_0x25b1f6['remoteJid'];_0x4e0d64[_0x2011b5(0x1b5)][_0x2011b5(0x291)]&&_0x4e0d64['uazapi'][_0x2011b5(0x291)]['trim']()!==''&&(_0x25f52c=_0x4e0d64[_0x2011b5(0x1b5)]['remoteJid']['trim']()),this[_0x2011b5(0x2dd)][_0x2011b5(0xb5)](this[_0x2011b5(0x381)]+'\x20('+this[_0x2011b5(0x633)]['wuid']+'):\x20Enviando\x20mídia');let _0x5c1e15={'number':_0x25f52c,'options':{'delay':_0x4e0d64[_0x2011b5(0x1b5)][_0x2011b5(0x15d)]},'mediaMessage':{'mediatype':_0x4e0d64[_0x2011b5(0x1b5)][_0x2011b5(0x3e9)],'caption':_0x4e0d64[_0x2011b5(0x1b5)]['caption'],'media':_0x4e0d64['uazapi'][_0x2011b5(0xf3)],'fileName':_0x4e0d64[_0x2011b5(0x1b5)][_0x2011b5(0x1c9)]}};try{let _0xc53c54=await this[_0x2011b5(0x66d)](_0x5c1e15);if(_0xc53c54){let _0x51bd2c={'_id':_0xc53c54[_0x2011b5(0xce)]['id'],'_fromMe':_0xc53c54[_0x2011b5(0xce)]['fromMe'],'_remoteJid':_0xc53c54[_0x2011b5(0xce)][_0x2011b5(0x291)]};_0x25b1f6[_0x2011b5(0x51c)][_0x2011b5(0x3e3)]=_0x4e0d64[_0x2011b5(0x517)]['toString']();let {message_normalized:_0x4deae5}=this[_0x2011b5(0x669)](_0xc53c54['message'],$(_0xc53c54[_0x2011b5(0x404)]),null);_0x25b1f6[_0x2011b5(0x51c)][_0x2011b5(0x5f6)]=await _0x4deae5;let _0x226155={'messageId':_0xc53c54[_0x2011b5(0xce)]['id']},_0x3f252f=_0x25b1f6[_0x2011b5(0x51c)][_0x2011b5(0xbc)];Object[_0x2011b5(0x66b)](_0x3f252f,_0x51bd2c),_0x25b1f6[_0x2011b5(0x51c)][_0x2011b5(0xbc)]=_0x3f252f,this[_0x2011b5(0x5bb)](_0x25b1f6,_0x4e0d64,_0x226155);}else{let _0xfabe72={'error':!0x0};this[_0x2011b5(0x5bb)](_0x25b1f6,_0x4e0d64,_0xfabe72),this[_0x2011b5(0x2dd)][_0x2011b5(0x4e3)](this[_0x2011b5(0x381)]+'\x20('+this[_0x2011b5(0x633)][_0x2011b5(0x4c4)]+_0x2011b5(0x34a));}}catch(_0x529bf9){let _0x217e77={'error':!0x0,'errorLog':_0x529bf9[_0x2011b5(0xc6)]()};this[_0x2011b5(0x5bb)](_0x25b1f6,_0x4e0d64,_0x217e77),this[_0x2011b5(0x2dd)][_0x2011b5(0x4e3)](this['instanceName']+'\x20('+this[_0x2011b5(0x633)]['wuid']+_0x2011b5(0x2ef)+(_0x529bf9 instanceof Error?_0x529bf9[_0x2011b5(0x404)]:JSON[_0x2011b5(0x455)](_0x529bf9,null,0x2)));}}async[a0_0x146a96(0x3c7)](_0x55d9ba,_0x1466a0){const _0x5eec9d=a0_0x146a96;let _0x30cc4f=_0x55d9ba['remoteJid'];_0x1466a0[_0x5eec9d(0x1b5)][_0x5eec9d(0x291)]&&_0x1466a0[_0x5eec9d(0x1b5)][_0x5eec9d(0x291)][_0x5eec9d(0x546)]()!==''&&(_0x30cc4f=_0x1466a0[_0x5eec9d(0x1b5)][_0x5eec9d(0x291)]['trim']()),this[_0x5eec9d(0x2dd)][_0x5eec9d(0xb5)](this[_0x5eec9d(0x381)]+'\x20('+this['instance'][_0x5eec9d(0x4c4)]+_0x5eec9d(0x62b));let _0x1dd5e5={'number':_0x30cc4f,'options':{'delay':_0x1466a0[_0x5eec9d(0x1b5)]['delay']},'locationMessage':{'name':_0x1466a0['uazapi'][_0x5eec9d(0x68a)],'address':_0x1466a0[_0x5eec9d(0x1b5)][_0x5eec9d(0x137)],'latitude':_0x1466a0['uazapi'][_0x5eec9d(0x512)],'longitude':_0x1466a0['uazapi']['longitude']}};try{let _0x325748=await this[_0x5eec9d(0x689)](_0x1dd5e5);if(_0x325748){let _0x12684d={'_id':_0x325748[_0x5eec9d(0xce)]['id'],'_fromMe':_0x325748[_0x5eec9d(0xce)][_0x5eec9d(0x34d)],'_remoteJid':_0x325748[_0x5eec9d(0xce)][_0x5eec9d(0x291)]};_0x55d9ba[_0x5eec9d(0x51c)][_0x5eec9d(0x3e3)]=_0x1466a0[_0x5eec9d(0x517)][_0x5eec9d(0xc6)]();let {message_normalized:_0x378aff}=this[_0x5eec9d(0x669)](_0x325748[_0x5eec9d(0x404)],$(_0x325748['message']),null);_0x55d9ba[_0x5eec9d(0x51c)][_0x5eec9d(0x5f6)]=await _0x378aff;let _0xdaa70c={'messageId':_0x325748[_0x5eec9d(0xce)]['id']},_0x59a129=_0x55d9ba[_0x5eec9d(0x51c)]['realVariables'];Object[_0x5eec9d(0x66b)](_0x59a129,_0x12684d),_0x55d9ba[_0x5eec9d(0x51c)]['realVariables']=_0x59a129,this[_0x5eec9d(0x5bb)](_0x55d9ba,_0x1466a0,_0xdaa70c);}else{let _0x2639c6={'error':!0x0};this[_0x5eec9d(0x5bb)](_0x55d9ba,_0x1466a0,_0x2639c6),this[_0x5eec9d(0x2dd)][_0x5eec9d(0x4e3)](this[_0x5eec9d(0x381)]+'\x20('+this[_0x5eec9d(0x633)][_0x5eec9d(0x4c4)]+_0x5eec9d(0x488));}}catch(_0x42bbca){let _0x5ed9c4={'error':!0x0,'errorLog':_0x42bbca[_0x5eec9d(0xc6)]()};this[_0x5eec9d(0x5bb)](_0x55d9ba,_0x1466a0,_0x5ed9c4),this[_0x5eec9d(0x2dd)]['error'](this['instanceName']+'\x20('+this[_0x5eec9d(0x633)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20'+(_0x42bbca instanceof Error?_0x42bbca[_0x5eec9d(0x404)]:JSON[_0x5eec9d(0x455)](_0x42bbca,null,0x2)));}}async[a0_0x146a96(0x167)](_0x220309,_0x54050e){const _0x2c470c=a0_0x146a96;let _0x3a3621=_0x220309[_0x2c470c(0x291)];_0x54050e[_0x2c470c(0x1b5)][_0x2c470c(0x291)]&&_0x54050e[_0x2c470c(0x1b5)][_0x2c470c(0x291)]['trim']()!==''&&(_0x3a3621=_0x54050e[_0x2c470c(0x1b5)][_0x2c470c(0x291)]['trim']()),this['logger'][_0x2c470c(0xb5)](this[_0x2c470c(0x381)]+'\x20('+this[_0x2c470c(0x633)][_0x2c470c(0x4c4)]+'):\x20Enviando\x20áudio');let _0x402a0c={'number':_0x3a3621,'options':{'delay':_0x54050e[_0x2c470c(0x1b5)]['delay']},'audioMessage':{'audio':_0x54050e[_0x2c470c(0x1b5)]['audio']}};try{let _0x4e1726=await this[_0x2c470c(0x532)](_0x402a0c);if(_0x4e1726){let _0xec9cca={'_id':_0x4e1726['key']['id'],'_fromMe':_0x4e1726[_0x2c470c(0xce)][_0x2c470c(0x34d)],'_remoteJid':_0x4e1726['key'][_0x2c470c(0x291)]};_0x220309[_0x2c470c(0x51c)][_0x2c470c(0x3e3)]=_0x54050e[_0x2c470c(0x517)]['toString']();let {message_normalized:_0x38a9cb}=this[_0x2c470c(0x669)](_0x4e1726[_0x2c470c(0x404)],$(_0x4e1726[_0x2c470c(0x404)]),null);_0x220309[_0x2c470c(0x51c)][_0x2c470c(0x5f6)]=await _0x38a9cb;let _0x3b7d10={'messageId':_0x4e1726['key']['id']},_0x32c381=_0x220309[_0x2c470c(0x51c)][_0x2c470c(0xbc)];Object['assign'](_0x32c381,_0xec9cca),_0x220309[_0x2c470c(0x51c)][_0x2c470c(0xbc)]=_0x32c381,this[_0x2c470c(0x5bb)](_0x220309,_0x54050e,_0x3b7d10);}else{let _0x4ad915={'error':!0x0};this[_0x2c470c(0x5bb)](_0x220309,_0x54050e,_0x4ad915),this[_0x2c470c(0x2dd)][_0x2c470c(0x4e3)](this[_0x2c470c(0x381)]+'\x20('+this[_0x2c470c(0x633)][_0x2c470c(0x4c4)]+_0x2c470c(0x174));}}catch(_0x56efc7){let _0x470e8d={'error':!0x0,'errorLog':_0x56efc7[_0x2c470c(0xc6)]()};this[_0x2c470c(0x5bb)](_0x220309,_0x54050e,_0x470e8d),this['logger'][_0x2c470c(0x4e3)](this[_0x2c470c(0x381)]+'\x20('+this[_0x2c470c(0x633)][_0x2c470c(0x4c4)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+(_0x56efc7 instanceof Error?_0x56efc7[_0x2c470c(0x404)]:JSON[_0x2c470c(0x455)](_0x56efc7,null,0x2)));}}async[a0_0x146a96(0x10d)](_0xe307fd,_0x148599){const _0x52c462=a0_0x146a96;let _0x338b58=_0xe307fd['remoteJid'];_0x148599['uazapi'][_0x52c462(0x291)]&&_0x148599[_0x52c462(0x1b5)]['remoteJid'][_0x52c462(0x546)]()!==''&&(_0x338b58=_0x148599['uazapi']['remoteJid'][_0x52c462(0x546)]()),this['logger'][_0x52c462(0xb5)](this['instanceName']+'\x20('+this[_0x52c462(0x633)]['wuid']+'):\x20Enviando\x20contato');let _0x142e7b={'number':_0x338b58,'options':{'delay':_0x148599['uazapi'][_0x52c462(0x15d)]},'contactMessage':[{'fullName':_0x148599[_0x52c462(0x1b5)]['fullName'],'phoneNumber':_0x148599[_0x52c462(0x1b5)][_0x52c462(0x150)]}]};try{let _0x4e8589=await this['contactMessage'](_0x142e7b);if(_0x4e8589){let _0x372153={'_id':_0x4e8589[_0x52c462(0xce)]['id'],'_fromMe':_0x4e8589['key'][_0x52c462(0x34d)],'_remoteJid':_0x4e8589['key'][_0x52c462(0x291)]};_0xe307fd[_0x52c462(0x51c)][_0x52c462(0x3e3)]=_0x148599[_0x52c462(0x517)][_0x52c462(0xc6)]();let {message_normalized:_0x4a67ec}=this[_0x52c462(0x669)](_0x4e8589['message'],$(_0x4e8589['message']),null);_0xe307fd[_0x52c462(0x51c)]['lastSendMessage']=await _0x4a67ec;let _0x218fe3={'messageId':_0x4e8589[_0x52c462(0xce)]['id']},_0x5e952f=_0xe307fd[_0x52c462(0x51c)][_0x52c462(0xbc)];Object[_0x52c462(0x66b)](_0x5e952f,_0x372153),_0xe307fd[_0x52c462(0x51c)]['realVariables']=_0x5e952f,this[_0x52c462(0x5bb)](_0xe307fd,_0x148599,_0x218fe3);}else{let _0x13a42a={'error':!0x0};this[_0x52c462(0x5bb)](_0xe307fd,_0x148599,_0x13a42a),this['logger']['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x52c462(0xbd));}}catch(_0x5db7a6){let _0x5df177={'error':!0x0,'errorLog':_0x5db7a6[_0x52c462(0xc6)]()};this[_0x52c462(0x5bb)](_0xe307fd,_0x148599,_0x5df177),this[_0x52c462(0x2dd)]['error'](this[_0x52c462(0x381)]+'\x20('+this[_0x52c462(0x633)][_0x52c462(0x4c4)]+_0x52c462(0x192)+(_0x5db7a6 instanceof Error?_0x5db7a6[_0x52c462(0x404)]:JSON[_0x52c462(0x455)](_0x5db7a6,null,0x2)));}}['replaceVariablesInReplyOptions'](_0x17c86e,_0x440d1e){const _0x3c4d8c=a0_0x146a96;for(let _0x5db1ee of _0x17c86e)_0x5db1ee[_0x3c4d8c(0x1f0)]&&(_0x5db1ee[_0x3c4d8c(0x1f0)]=this['replaceVariables'](_0x5db1ee['option'],_0x440d1e)),_0x5db1ee[_0x3c4d8c(0x38f)]&&(_0x5db1ee['optionDescription']=this[_0x3c4d8c(0x462)](_0x5db1ee[_0x3c4d8c(0x38f)],_0x440d1e));}async['uazapiSendMenu'](_0x516e82,_0x157055){const _0xaf2a57=a0_0x146a96;let _0x3c234f=_0x516e82[_0xaf2a57(0x291)];_0x157055[_0xaf2a57(0x1b5)][_0xaf2a57(0x291)]&&_0x157055[_0xaf2a57(0x1b5)][_0xaf2a57(0x291)][_0xaf2a57(0x546)]()!==''&&(_0x3c234f=_0x157055[_0xaf2a57(0x1b5)][_0xaf2a57(0x291)][_0xaf2a57(0x546)]()),this[_0xaf2a57(0x2dd)][_0xaf2a57(0xb5)](this[_0xaf2a57(0x381)]+'\x20('+this[_0xaf2a57(0x633)]['wuid']+'):\x20Enviando\x20enquete');let _0x55247a=_0x516e82['replyOptions']['filter'](_0x2a247f=>_0x2a247f['blockId']===_0x157055[_0xaf2a57(0x517)])[_0xaf2a57(0x193)]((_0xc1f38e,_0x443dcc)=>_0xc1f38e['order']-_0x443dcc[_0xaf2a57(0x5c4)]);this[_0xaf2a57(0x1f1)](_0x55247a,_0x516e82[_0xaf2a57(0x51c)][_0xaf2a57(0xbc)]);let _0x18e54e=_0x55247a['map'](_0x1b4361=>_0x1b4361[_0xaf2a57(0x1f0)]),_0x4e056a={'number':_0x3c234f,'menuMessage':{'type':_0x157055['uazapi'][_0xaf2a57(0x24d)]||_0xaf2a57(0x463),'text':_0x157055['uazapi']['text']||_0x157055[_0xaf2a57(0x1b5)][_0xaf2a57(0x68a)],'footerText':_0x157055[_0xaf2a57(0x1b5)][_0xaf2a57(0x4c5)],'buttonText':_0x157055[_0xaf2a57(0x1b5)][_0xaf2a57(0x1cf)],'selectableCount':0x1,'choices':_0x18e54e},'options':{'delay':_0x157055[_0xaf2a57(0x1b5)][_0xaf2a57(0x15d)]}};try{let _0x59f424=await this[_0xaf2a57(0x620)](_0x4e056a);if(_0x59f424){let _0x1f349a={'_id':_0x59f424[_0xaf2a57(0xce)]['id'],'_fromMe':_0x59f424[_0xaf2a57(0xce)][_0xaf2a57(0x34d)],'_remoteJid':_0x59f424[_0xaf2a57(0xce)]['remoteJid']};_0x157055[_0xaf2a57(0x1b5)]['menuIgnoreNonVotes']===!0x0&&(_0x516e82['status']=_0xaf2a57(0x510),this[_0xaf2a57(0x2dd)]['verbose'](this[_0xaf2a57(0x381)]+'\x20('+this[_0xaf2a57(0x633)][_0xaf2a57(0x4c4)]+'):\x20conversation.status:\x20'+_0x516e82[_0xaf2a57(0x419)])),this['logger'][_0xaf2a57(0xb5)](this[_0xaf2a57(0x381)]+'\x20('+this[_0xaf2a57(0x633)][_0xaf2a57(0x4c4)]+_0xaf2a57(0x349)+(_0x157055[_0xaf2a57(0x1b5)][_0xaf2a57(0x68a)]||_0x157055[_0xaf2a57(0x1b5)][_0xaf2a57(0x501)])),_0x516e82['waitingMenu_id']=_0x59f424[_0xaf2a57(0xce)]['id'],_0x516e82['waitingMenu_text']=_0x157055[_0xaf2a57(0x1b5)]['name']||_0x157055[_0xaf2a57(0x1b5)]['text'],_0x516e82[_0xaf2a57(0x33c)]=_0x55247a,_0x157055['uazapi'][_0xaf2a57(0x5b1)]&&(_0x516e82[_0xaf2a57(0x18f)]=_0x157055['uazapi'][_0xaf2a57(0x5b1)]),this[_0xaf2a57(0x2dd)][_0xaf2a57(0xb5)](this['instanceName']+'\x20('+this[_0xaf2a57(0x633)][_0xaf2a57(0x4c4)]+_0xaf2a57(0x571)+_0x516e82[_0xaf2a57(0x380)]),_0x516e82[_0xaf2a57(0x51c)][_0xaf2a57(0x3e3)]=_0x157055[_0xaf2a57(0x517)][_0xaf2a57(0xc6)]();let {message_normalized:_0x3c3204}=this[_0xaf2a57(0x669)](_0x59f424[_0xaf2a57(0x404)],$(_0x59f424['message']),null);_0x516e82['chatLog'][_0xaf2a57(0x5f6)]=await _0x3c3204;let _0x585576={'messageId':_0x59f424['key']['id']},_0x3c95d8=_0x516e82[_0xaf2a57(0x51c)]['realVariables'];Object[_0xaf2a57(0x66b)](_0x3c95d8,_0x1f349a),_0x516e82['chatLog'][_0xaf2a57(0xbc)]=_0x3c95d8,this[_0xaf2a57(0x5bb)](_0x516e82,_0x157055,_0x585576);}else{let _0x4c2ca4={'error':!0x0};this['updateConversation'](_0x516e82,_0x157055,_0x4c2ca4),this[_0xaf2a57(0x2dd)][_0xaf2a57(0x4e3)](this[_0xaf2a57(0x381)]+'\x20('+this['instance'][_0xaf2a57(0x4c4)]+_0xaf2a57(0xda));}}catch(_0x4749ea){let _0x3aaff4={'error':!0x0,'errorLog':_0x4749ea instanceof Error?_0x4749ea[_0xaf2a57(0x404)]:JSON[_0xaf2a57(0x455)](_0x4749ea,null,0x2)};this[_0xaf2a57(0x5bb)](_0x516e82,_0x157055,_0x3aaff4),this[_0xaf2a57(0x2dd)][_0xaf2a57(0x4e3)](this[_0xaf2a57(0x381)]+'\x20('+this[_0xaf2a57(0x633)][_0xaf2a57(0x4c4)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0x4749ea instanceof Error?_0x4749ea[_0xaf2a57(0x404)]:JSON[_0xaf2a57(0x455)](_0x4749ea,null,0x2)));}}async[a0_0x146a96(0x4bd)](_0x523687,_0x5707b0){const _0x1d2623=a0_0x146a96;this[_0x1d2623(0x2dd)][_0x1d2623(0xb5)](this['instanceName']+'\x20('+this[_0x1d2623(0x633)][_0x1d2623(0x4c4)]+_0x1d2623(0xba));let _0x33c538=_0x523687[_0x1d2623(0x51c)]['blockLogs']['find'](_0x325387=>_0x325387[_0x1d2623(0x5b0)][_0x1d2623(0xc6)]()===_0x5707b0[_0x1d2623(0x1b5)][_0x1d2623(0x5b0)]['toString']()),_0x4852db={'id':_0x33c538[_0x1d2623(0x59a)],'remoteJid':_0x33c538[_0x1d2623(0x291)],'fromMe':_0x33c538[_0x1d2623(0x34d)]};try{let _0x3b9009=await this[_0x1d2623(0x12d)](_0x4852db);if(_0x3b9009){_0x523687[_0x1d2623(0x51c)]['lastBlockId']=_0x5707b0[_0x1d2623(0x517)][_0x1d2623(0xc6)]();let {message_normalized:_0x2ec796}=this['normalizeMessage'](_0x3b9009[_0x1d2623(0x404)],$(_0x3b9009['message']),null);_0x523687[_0x1d2623(0x51c)][_0x1d2623(0x5f6)]=await _0x2ec796;let _0x504d46={};this[_0x1d2623(0x5bb)](_0x523687,_0x5707b0,_0x504d46);}else{let _0x18b03a={'error':!0x0};this['updateConversation'](_0x523687,_0x5707b0,_0x18b03a),this[_0x1d2623(0x2dd)][_0x1d2623(0x4e3)](this['instanceName']+'\x20('+this['instance'][_0x1d2623(0x4c4)]+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x191042){let _0x251e81={'error':!0x0,'errorLog':_0x191042 instanceof Error?_0x191042[_0x1d2623(0x404)]:JSON[_0x1d2623(0x455)](_0x191042,null,0x2)};this[_0x1d2623(0x5bb)](_0x523687,_0x5707b0,_0x251e81),this[_0x1d2623(0x2dd)][_0x1d2623(0x4e3)](this[_0x1d2623(0x381)]+'\x20('+this[_0x1d2623(0x633)]['wuid']+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x191042 instanceof Error?_0x191042[_0x1d2623(0x404)]:JSON[_0x1d2623(0x455)](_0x191042,null,0x2)));}}async[a0_0x146a96(0x48a)](_0x504a22){const _0x34e521=a0_0x146a96;try{if(this[_0x34e521(0x2dd)][_0x34e521(0xb5)](this[_0x34e521(0x381)]+'\x20('+this[_0x34e521(0x633)][_0x34e521(0x4c4)]+_0x34e521(0x69d)),await this['repository'][_0x34e521(0x481)][_0x34e521(0x592)]({'where':{'name':_0x504a22['name']}},this[_0x34e521(0x633)][_0x34e521(0x4c4)]))return{'message':'Flow\x20already\x20exists'};_0x504a22[_0x34e521(0x68f)]===!0x0&&await this[_0x34e521(0x484)][_0x34e521(0x481)]['updateMany']({},{'default':!0x1},this[_0x34e521(0x633)][_0x34e521(0x4c4)]);let _0x4e953b=new ie['Types'][(_0x34e521(0x292))](),_0x37f129={'_id':_0x4e953b,'default':!0x0,'title':_0x34e521(0x416),'x':0x0,'y':0x0},_0x4e4260={'_id':new ie['Types']['ObjectId'](),'order':0x1,'groupId':_0x4e953b[_0x34e521(0xc6)](),'type':_0x34e521(0x6b3)},_0x58ba8f={'_id':new ie[(_0x34e521(0x4d1))][(_0x34e521(0x292))](),'owner':this[_0x34e521(0x633)][_0x34e521(0x4c4)],'name':_0x504a22['name'],'groups':[_0x37f129],'blocks':[_0x4e4260],..._0x504a22};return _0x58ba8f=await this[_0x34e521(0x484)][_0x34e521(0x481)]['createAndSave'](_0x58ba8f,this[_0x34e521(0x633)][_0x34e521(0x4c4)]),_0x58ba8f;}catch(_0x54e9d9){throw this['logger']['error'](this[_0x34e521(0x381)]+'\x20('+this[_0x34e521(0x633)][_0x34e521(0x4c4)]+_0x34e521(0x4e0)+(_0x54e9d9 instanceof Error?_0x54e9d9['message']:JSON['stringify'](_0x54e9d9,null,0x2))),new m(_0x34e521(0x46a)+_0x54e9d9);}}async[a0_0x146a96(0x1fd)](_0x3fd63e){const _0x4c63be=a0_0x146a96;try{return this[_0x4c63be(0x2dd)]['verbose'](this[_0x4c63be(0x381)]+'\x20('+this[_0x4c63be(0x633)][_0x4c63be(0x4c4)]+_0x4c63be(0x252)),await this[_0x4c63be(0x484)][_0x4c63be(0x481)][_0x4c63be(0x3ba)]({'where':{'name':_0x3fd63e}},this[_0x4c63be(0x633)][_0x4c63be(0x4c4)]);}catch(_0x2e8a9e){return this[_0x4c63be(0x2dd)][_0x4c63be(0x4e3)](this[_0x4c63be(0x381)]+'\x20('+this[_0x4c63be(0x633)][_0x4c63be(0x4c4)]+_0x4c63be(0x348)+(_0x2e8a9e instanceof Error?_0x2e8a9e[_0x4c63be(0x404)]:JSON[_0x4c63be(0x455)](_0x2e8a9e,null,0x2))),{'message':_0x4c63be(0xd4)+_0x2e8a9e};}}async[a0_0x146a96(0x527)](_0x4158b3){const _0x19e573=a0_0x146a96;try{this[_0x19e573(0x2dd)][_0x19e573(0xb5)](this[_0x19e573(0x381)]+'\x20('+this[_0x19e573(0x633)][_0x19e573(0x4c4)]+_0x19e573(0xe3));let _0x3487dc=await this[_0x19e573(0x484)][_0x19e573(0x481)][_0x19e573(0x592)]({'where':{'name':_0x4158b3}},this[_0x19e573(0x633)][_0x19e573(0x4c4)]);if(!_0x3487dc)throw new Error(_0x19e573(0x60c));if(!this[_0x19e573(0x10a)]&&(await this[_0x19e573(0x134)](),!this[_0x19e573(0x10a)]))return null;let _0x19b3cb=this[_0x19e573(0x10a)]?.['customFields'][_0x19e573(0x684)](_0x4c2530=>_0x4c2530[_0x19e573(0x68a)]),_0x63f8ac=['nome',_0x19e573(0x33f),_0x19e573(0x21e),_0x19e573(0x40b),_0x19e573(0x419),'notas',_0x19e573(0x2b3),_0x19e573(0x57e),_0x19e573(0x274)];_0x3487dc[_0x19e573(0x3e0)]=_0x3487dc['variables']['filter'](_0x24fa79=>!(_0x24fa79['folder']==='leadInfo'||_0x24fa79[_0x19e573(0x641)])),_0x63f8ac[_0x19e573(0x304)](_0x38ef76=>{const _0x4775cb=_0x19e573;_0x3487dc[_0x4775cb(0x3e0)][_0x4775cb(0x260)]({'folder':'leadInfo','name':_0x38ef76,'value':'','doc':'','leadInfo':!0x0});}),_0x19b3cb[_0x19e573(0x304)](_0x49cf41=>{const _0x469251=_0x19e573;let _0x57d212=_0x3487dc[_0x469251(0x3e0)][_0x469251(0x4d7)](_0x16975d=>_0x16975d[_0x469251(0x68a)]===_0x49cf41);_0x57d212===-0x1?_0x3487dc[_0x469251(0x3e0)][_0x469251(0x260)]({'folder':'leadInfo','name':_0x49cf41,'value':'','doc':'','leadInfo':!0x0}):(_0x3487dc[_0x469251(0x3e0)][_0x57d212]['folder']=_0x469251(0x641),_0x3487dc[_0x469251(0x3e0)][_0x57d212][_0x469251(0x641)]=!0x0);}),_0x3487dc['blocks']&&_0x3487dc[_0x19e573(0x5a7)][_0x19e573(0x29f)]>0x0&&_0x3487dc['blocks']['forEach'](_0x444ee5=>{const _0x44052f=_0x19e573;_0x444ee5[_0x44052f(0x12b)]&&_0x444ee5['next_groupId']&&_0x444ee5[_0x44052f(0x12b)]===_0x444ee5['next_groupId']&&(_0x444ee5['next_groupId']=null);});let _0x3b8614=await this[_0x19e573(0x484)][_0x19e573(0x481)][_0x19e573(0x5af)](_0x3487dc[_0x19e573(0x517)],_0x3487dc,this[_0x19e573(0x633)]['wuid']);if(!_0x3b8614)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x3b8614;}catch(_0x2b0557){throw this[_0x19e573(0x2dd)][_0x19e573(0x4e3)](this[_0x19e573(0x381)]+'\x20('+this[_0x19e573(0x633)][_0x19e573(0x4c4)]+_0x19e573(0x169)+(_0x2b0557 instanceof Error?_0x2b0557[_0x19e573(0x404)]:JSON[_0x19e573(0x455)](_0x2b0557,null,0x2))),new m(_0x19e573(0x495)+_0x2b0557);}}async[a0_0x146a96(0x352)](){const _0x2ef779=a0_0x146a96;try{return this['logger'][_0x2ef779(0xb5)](this[_0x2ef779(0x381)]+'\x20('+this[_0x2ef779(0x633)][_0x2ef779(0x4c4)]+_0x2ef779(0x23d)),await this[_0x2ef779(0x484)][_0x2ef779(0x481)][_0x2ef779(0x255)]({'where':{}},this[_0x2ef779(0x633)][_0x2ef779(0x4c4)]);}catch(_0x1d11cb){return this[_0x2ef779(0x2dd)][_0x2ef779(0x4e3)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20'+(_0x1d11cb instanceof Error?_0x1d11cb[_0x2ef779(0x404)]:JSON[_0x2ef779(0x455)](_0x1d11cb,null,0x2))),{'message':_0x2ef779(0x271)+_0x1d11cb};}}async['editFlow'](_0xb48961){const _0x254f10=a0_0x146a96;try{this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x254f10(0x4c4)]+_0x254f10(0x4a1));let _0x312cb7=await this['repository']['flow'][_0x254f10(0x592)]({'where':{'name':_0xb48961[_0x254f10(0x68a)]}},this[_0x254f10(0x633)][_0x254f10(0x4c4)]);return _0x312cb7?(_0xb48961[_0x254f10(0x68f)]===!0x0&&await this[_0x254f10(0x484)][_0x254f10(0x481)]['updateMany']({},{'default':!0x1},this[_0x254f10(0x633)][_0x254f10(0x4c4)]),await this[_0x254f10(0x484)][_0x254f10(0x481)][_0x254f10(0x5af)](_0x312cb7['_id'],_0xb48961,this['instance'][_0x254f10(0x4c4)])):{'message':'Fluxo\x20não\x20encontrado'};}catch(_0x5e3c8a){throw this[_0x254f10(0x2dd)]['error'](this[_0x254f10(0x381)]+'\x20('+this['instance'][_0x254f10(0x4c4)]+_0x254f10(0x3d4)+(_0x5e3c8a instanceof Error?_0x5e3c8a[_0x254f10(0x404)]:JSON[_0x254f10(0x455)](_0x5e3c8a,null,0x2))),new m('Erro\x20ao\x20alterar\x20o\x20fluxo:\x20'+(_0x5e3c8a instanceof Error?_0x5e3c8a['message']:JSON[_0x254f10(0x455)](_0x5e3c8a,null,0x2)));}}async[a0_0x146a96(0x115)](_0x39e94c){const _0x13464a=a0_0x146a96;try{this[_0x13464a(0x2dd)][_0x13464a(0xb5)](this[_0x13464a(0x381)]+'\x20('+this['instance'][_0x13464a(0x4c4)]+_0x13464a(0x548));let _0x557a19=await this[_0x13464a(0x484)]['flow'][_0x13464a(0x592)]({'where':{'name':_0x39e94c['name']}},this[_0x13464a(0x633)][_0x13464a(0x4c4)]);_0x557a19||this['throwAndLogError'](_0x13464a(0x60c));let {block:_0x2c2737}=_0x39e94c;_0x2c2737?.[_0x13464a(0x505)]?this[_0x13464a(0x606)](_0x557a19,_0x39e94c):_0x2c2737?.[_0x13464a(0x487)]?this[_0x13464a(0x1b6)](_0x557a19,_0x39e94c):_0x2c2737['_id']?await this[_0x13464a(0x19d)](_0x557a19,_0x39e94c):this[_0x13464a(0x2be)](_0x557a19,_0x39e94c);let _0x23f2ee=await this[_0x13464a(0x484)][_0x13464a(0x481)]['updateOne'](_0x557a19[_0x13464a(0x517)],_0x557a19,this[_0x13464a(0x633)][_0x13464a(0x4c4)]);if(!_0x23f2ee)throw new Error(_0x13464a(0x5b8));return _0x23f2ee;}catch(_0x46f88d){this[_0x13464a(0x3d3)]('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x46f88d);}}async[a0_0x146a96(0x606)](_0xfcfa91,_0x20c626){const _0x451c22=a0_0x146a96;let _0x26e05c=_0x20c626[_0x451c22(0x511)]['_id'],_0xcd09bf=_0xfcfa91[_0x451c22(0x5a7)][_0x451c22(0x54e)](_0x1e0e64=>_0x1e0e64['_id'][_0x451c22(0xc6)]()===_0x26e05c);if(!_0xcd09bf){this[_0x451c22(0x2dd)]['error'](this[_0x451c22(0x381)]+'\x20('+this['instance'][_0x451c22(0x4c4)]+_0x451c22(0x145)+_0x26e05c+_0x451c22(0xd5));return;}this[_0x451c22(0x2dd)][_0x451c22(0xb5)](this[_0x451c22(0x381)]+'\x20('+this[_0x451c22(0x633)][_0x451c22(0x4c4)]+_0x451c22(0x6c4)+JSON[_0x451c22(0x455)](_0xcd09bf));let _0x327521=JSON['parse'](JSON[_0x451c22(0x455)](_0xcd09bf));_0x327521[_0x451c22(0x517)]=new ie[(_0x451c22(0x68f))]['Types']['ObjectId'](),this['logger'][_0x451c22(0xb5)](this[_0x451c22(0x381)]+'\x20('+this[_0x451c22(0x633)]['wuid']+_0x451c22(0x31e)+JSON[_0x451c22(0x455)](_0x327521)),_0xfcfa91['blocks'][_0x451c22(0x260)](_0x327521),this[_0x451c22(0xb9)](_0xfcfa91[_0x451c22(0x5a7)],_0x327521[_0x451c22(0x12b)]);}[a0_0x146a96(0x3d3)](_0x389f28){const _0x5bda5a=a0_0x146a96;throw this[_0x5bda5a(0x2dd)][_0x5bda5a(0x4e3)](this[_0x5bda5a(0x381)]+'\x20('+this[_0x5bda5a(0x633)]['wuid']+_0x5bda5a(0x43f)+_0x389f28),new m(_0x389f28);}['deleteBlock'](_0x3aab2f,_0x33e10a){const _0x5a19d0=a0_0x146a96;let {block:_0x2cee06}=_0x33e10a;if(_0x2cee06[_0x5a19d0(0x6a6)]==='start'){this[_0x5a19d0(0x3d3)](_0x5a19d0(0x562));return;}if(!_0x2cee06[_0x5a19d0(0x517)]){this[_0x5a19d0(0x3d3)]('blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco');return;}let _0xbb57ee=_0x3aab2f['blocks'][_0x5a19d0(0x54e)](_0x528386=>_0x528386[_0x5a19d0(0x517)][_0x5a19d0(0xc6)]()===_0x33e10a[_0x5a19d0(0x511)][_0x5a19d0(0x517)][_0x5a19d0(0xc6)]());if(!_0xbb57ee){this['throwAndLogError'](_0x5a19d0(0x225)+_0x2cee06['_id']+_0x5a19d0(0x46d));return;}_0x3aab2f[_0x5a19d0(0x5a7)]=_0x3aab2f[_0x5a19d0(0x5a7)][_0x5a19d0(0x61b)](_0x33872d=>_0x33872d[_0x5a19d0(0x517)][_0x5a19d0(0xc6)]()!==_0x33e10a[_0x5a19d0(0x511)][_0x5a19d0(0x517)][_0x5a19d0(0xc6)]()),_0x3aab2f['conditions']=_0x3aab2f[_0x5a19d0(0x11f)][_0x5a19d0(0x61b)](_0x25fabe=>_0x25fabe[_0x5a19d0(0x5b0)]!==_0x2cee06[_0x5a19d0(0x517)]['toString']()),_0x3aab2f[_0x5a19d0(0x28c)]=_0x3aab2f[_0x5a19d0(0x28c)]['filter'](_0x472aa8=>_0x472aa8[_0x5a19d0(0x5b0)]!==_0x2cee06[_0x5a19d0(0x517)][_0x5a19d0(0xc6)]()),_0x3aab2f[_0x5a19d0(0x329)]=_0x3aab2f[_0x5a19d0(0x329)][_0x5a19d0(0x61b)](_0x1a1d82=>_0x1a1d82[_0x5a19d0(0x5b0)]!==_0x2cee06[_0x5a19d0(0x517)][_0x5a19d0(0xc6)]()),this[_0x5a19d0(0xb9)](_0x3aab2f[_0x5a19d0(0x5a7)],_0xbb57ee[_0x5a19d0(0x12b)]);}async[a0_0x146a96(0x19d)](_0x64c3b9,_0x218f0f){const _0x3e4966=a0_0x146a96;let _0x1d566b=_0x64c3b9[_0x3e4966(0x5a7)][_0x3e4966(0x4d7)](_0x5471a3=>_0x5471a3['_id'][_0x3e4966(0xc6)]()===_0x218f0f[_0x3e4966(0x511)][_0x3e4966(0x517)][_0x3e4966(0xc6)]());if(this[_0x3e4966(0x2dd)][_0x3e4966(0xb5)](this[_0x3e4966(0x381)]+'\x20('+this[_0x3e4966(0x633)][_0x3e4966(0x4c4)]+_0x3e4966(0x36f)+_0x1d566b),_0x1d566b===-0x1){this['logger']['verbose'](_0x3e4966(0x225)+_0x218f0f[_0x3e4966(0x511)][_0x3e4966(0x517)]+_0x3e4966(0x651));return;}if(_0x64c3b9[_0x3e4966(0x5a7)][_0x1d566b]['type']===_0x3e4966(0x6b3)){let _0x1e21ad=Object[_0x3e4966(0x379)](_0x218f0f['block']);if(_0x1e21ad[_0x3e4966(0x29f)]>0x2||_0x1e21ad[_0x3e4966(0x29f)]===0x2&&!_0x1e21ad['includes']('next_groupId')){this[_0x3e4966(0x3d3)]('Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão');return;}}let _0x4bbffe=_0x64c3b9['blocks'][_0x1d566b]['groupId'];for(let _0x20732f in _0x218f0f[_0x3e4966(0x511)])_0x218f0f[_0x3e4966(0x511)][_0x3e4966(0x2b6)](_0x20732f)&&(_0x64c3b9[_0x3e4966(0x5a7)][_0x1d566b][_0x20732f]=_0x218f0f[_0x3e4966(0x511)][_0x20732f]);if(this[_0x3e4966(0x2dd)]['verbose'](this[_0x3e4966(0x381)]+'\x20('+this['instance']['wuid']+_0x3e4966(0x403)+JSON[_0x3e4966(0x455)](_0x64c3b9[_0x3e4966(0x5a7)][_0x1d566b])),_0x64c3b9[_0x3e4966(0x5a7)][_0x1d566b]['apirequest']&&_0x3e4966(0x96)in _0x64c3b9['blocks'][_0x1d566b][_0x3e4966(0x99)]){this['logger'][_0x3e4966(0xb5)](this[_0x3e4966(0x381)]+'\x20('+this['instance'][_0x3e4966(0x4c4)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x3333ea=JSON[_0x3e4966(0x455)](_0x64c3b9['blocks'][_0x1d566b][_0x3e4966(0x99)][_0x3e4966(0x96)],null,0x1);_0x3333ea[_0x3e4966(0x29f)]>0x2&&(_0x3333ea=_0x3333ea[_0x3e4966(0x444)](0x1,_0x3333ea['length']-0x1)[_0x3e4966(0x546)]()),_0x64c3b9[_0x3e4966(0x5a7)][_0x1d566b][_0x3e4966(0x99)]['headerString']=_0x3333ea;}if(_0x64c3b9[_0x3e4966(0x5a7)][_0x1d566b][_0x3e4966(0x99)]&&_0x3e4966(0x4c6)in _0x64c3b9['blocks'][_0x1d566b][_0x3e4966(0x99)]){this[_0x3e4966(0x2dd)][_0x3e4966(0xb5)](this[_0x3e4966(0x381)]+'\x20('+this[_0x3e4966(0x633)][_0x3e4966(0x4c4)]+_0x3e4966(0x331));let _0x28144f=JSON[_0x3e4966(0x455)](_0x64c3b9[_0x3e4966(0x5a7)][_0x1d566b][_0x3e4966(0x99)][_0x3e4966(0x4c6)],null,0x1);_0x28144f[_0x3e4966(0x29f)]>0x2&&(_0x28144f=_0x28144f['substring'](0x1,_0x28144f[_0x3e4966(0x29f)]-0x1)[_0x3e4966(0x546)]()),_0x64c3b9['blocks'][_0x1d566b][_0x3e4966(0x99)]['bodyString']=_0x28144f;}let _0x10d4a5=_0x64c3b9[_0x3e4966(0x5a7)][_0x1d566b][_0x3e4966(0x12b)];_0x4bbffe!==_0x10d4a5?(this[_0x3e4966(0xb9)](_0x64c3b9[_0x3e4966(0x5a7)],_0x4bbffe),this[_0x3e4966(0xb9)](_0x64c3b9[_0x3e4966(0x5a7)],_0x10d4a5)):this[_0x3e4966(0xb9)](_0x64c3b9['blocks'],_0x4bbffe);}[a0_0x146a96(0x2be)](_0x28e37d,_0x3d5fbd){const _0x19652c=a0_0x146a96;if(_0x3d5fbd[_0x19652c(0x511)]['type']==='start'){this[_0x19652c(0x3d3)](_0x19652c(0x289));return;}if(_0x3d5fbd[_0x19652c(0x511)][_0x19652c(0x99)]&&_0x19652c(0x96)in _0x3d5fbd['block'][_0x19652c(0x99)]){this[_0x19652c(0x2dd)][_0x19652c(0xb5)](this[_0x19652c(0x381)]+'\x20('+this['instance']['wuid']+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x404c4a=JSON['stringify'](_0x3d5fbd[_0x19652c(0x511)][_0x19652c(0x99)][_0x19652c(0x96)],null,0x1);_0x404c4a[_0x19652c(0x29f)]>0x2&&(_0x404c4a=_0x404c4a[_0x19652c(0x444)](0x1,_0x404c4a['length']-0x1)[_0x19652c(0x546)]()),_0x3d5fbd[_0x19652c(0x511)][_0x19652c(0x99)][_0x19652c(0x4f3)]=_0x404c4a;}_0x3d5fbd[_0x19652c(0x511)][_0x19652c(0x99)]&&_0x19652c(0x4c6)in _0x3d5fbd['block'][_0x19652c(0x99)]&&(this[_0x19652c(0x2dd)][_0x19652c(0xb5)](this[_0x19652c(0x381)]+'\x20('+this[_0x19652c(0x633)]['wuid']+_0x19652c(0x331)),_0x3d5fbd[_0x19652c(0x511)][_0x19652c(0x99)][_0x19652c(0x3fe)]=JSON[_0x19652c(0x455)](_0x3d5fbd[_0x19652c(0x511)]['apirequest'][_0x19652c(0x4c6)],null,0x1)[_0x19652c(0x546)]()),_0x28e37d['blocks'][_0x19652c(0x260)](_0x3d5fbd[_0x19652c(0x511)]),this['reorderBlocks'](_0x28e37d[_0x19652c(0x5a7)],_0x3d5fbd[_0x19652c(0x511)]['groupId']);}[a0_0x146a96(0xb9)](_0x4e037b,_0x46f4e1){const _0x19e925=a0_0x146a96;let _0x2a25de=_0x4e037b[_0x19e925(0x61b)](_0x3723e8=>_0x3723e8[_0x19e925(0x12b)]===_0x46f4e1);_0x2a25de[_0x19e925(0x193)]((_0x31bc04,_0x298984)=>_0x31bc04[_0x19e925(0x5c4)]-_0x298984['order']),_0x2a25de[_0x19e925(0x304)]((_0x2d65b1,_0x590dfb)=>_0x2d65b1[_0x19e925(0x5c4)]=_0x590dfb+0x1);}async[a0_0x146a96(0x4ea)](_0x20fdc9){const _0x5f3d61=a0_0x146a96;try{if(this[_0x5f3d61(0x2dd)][_0x5f3d61(0xb5)](this[_0x5f3d61(0x381)]+'\x20('+this[_0x5f3d61(0x633)][_0x5f3d61(0x4c4)]+'):\x20Editando\x20replyOption...'),!_0x20fdc9||!_0x20fdc9[_0x5f3d61(0x208)]){this[_0x5f3d61(0x3d3)](_0x5f3d61(0x3e1));return;}let _0x142746=await this['repository'][_0x5f3d61(0x481)]['findOne']({'where':{'name':_0x20fdc9[_0x5f3d61(0x68a)]}},this[_0x5f3d61(0x633)][_0x5f3d61(0x4c4)]);_0x142746||this[_0x5f3d61(0x3d3)]('Flow\x20não\x20encontrado');let {replyOption:_0x28393d}=_0x20fdc9;_0x28393d?.[_0x5f3d61(0x487)]?(this['deleteReplyOption'](_0x142746,_0x20fdc9),this[_0x5f3d61(0x3df)](_0x142746['replyOptions'],_0x20fdc9['replyOption'][_0x5f3d61(0x5b0)])):_0x28393d[_0x5f3d61(0x517)]?(await this[_0x5f3d61(0x1e0)](_0x142746,_0x20fdc9),this[_0x5f3d61(0x3df)](_0x142746[_0x5f3d61(0x329)],_0x20fdc9['replyOption'][_0x5f3d61(0x5b0)])):(this['addReplyOption'](_0x142746,_0x20fdc9),this[_0x5f3d61(0x3df)](_0x142746[_0x5f3d61(0x329)],_0x20fdc9[_0x5f3d61(0x208)][_0x5f3d61(0x5b0)]));let _0x1ec0a0=await this[_0x5f3d61(0x484)][_0x5f3d61(0x481)][_0x5f3d61(0x5af)](_0x142746[_0x5f3d61(0x517)],_0x142746,this[_0x5f3d61(0x633)][_0x5f3d61(0x4c4)]);if(!_0x1ec0a0)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x1ec0a0;}catch(_0x5212e9){this[_0x5f3d61(0x3d3)](_0x5f3d61(0x49f)+_0x5212e9);}}[a0_0x146a96(0x3df)](_0x630bcd,_0x5689f1){const _0x45d714=a0_0x146a96;console['log']('Reordenando\x20replyOptions\x20para\x20o\x20blockId:',_0x5689f1),_0x630bcd[_0x45d714(0x304)](_0x145307=>{const _0x5701a2=_0x45d714;_0x145307['blockId']===_0x5689f1&&_0x145307[_0x5701a2(0x5c4)]===void 0x0&&(_0x145307['order']=0x270f);});let _0x328cbe=_0x630bcd[_0x45d714(0x61b)](_0x1786a3=>_0x1786a3[_0x45d714(0x5b0)]===_0x5689f1);_0x328cbe[_0x45d714(0x193)]((_0x27af91,_0x461b79)=>_0x27af91['order']-_0x461b79[_0x45d714(0x5c4)]),_0x328cbe[_0x45d714(0x304)]((_0x3472b2,_0x562cbf)=>{_0x3472b2['order']=_0x562cbf+0x1;}),_0x630bcd['forEach'](_0x16b0ad=>{const _0x2e9567=_0x45d714;if(_0x16b0ad[_0x2e9567(0x5b0)]===_0x5689f1){let _0x81705d=_0x328cbe['find'](_0x2748a3=>_0x2748a3['_id']&&_0x16b0ad[_0x2e9567(0x517)]&&_0x2748a3[_0x2e9567(0x517)][_0x2e9567(0xc6)]()===_0x16b0ad[_0x2e9567(0x517)][_0x2e9567(0xc6)]());_0x81705d&&(_0x16b0ad['order']=_0x81705d['order']);}}),console[_0x45d714(0x48e)](_0x45d714(0x25a),_0x630bcd);}['deleteReplyOption'](_0x1ec22b,_0x48179c){const _0x19f4dc=a0_0x146a96;let {replyOption:_0x5bf6ea}=_0x48179c;if(!_0x5bf6ea['_id']){this[_0x19f4dc(0x3d3)](_0x19f4dc(0x25e));return;}if(!_0x1ec22b[_0x19f4dc(0x329)][_0x19f4dc(0x54e)](_0x1966d1=>_0x1966d1[_0x19f4dc(0x517)][_0x19f4dc(0xc6)]()===_0x48179c[_0x19f4dc(0x208)]['_id'][_0x19f4dc(0xc6)]())){this[_0x19f4dc(0x3d3)]('ReplyOption\x20com\x20ID\x20'+_0x5bf6ea['_id']+_0x19f4dc(0x46d));return;}_0x1ec22b[_0x19f4dc(0x329)]=_0x1ec22b[_0x19f4dc(0x329)][_0x19f4dc(0x61b)](_0x590168=>_0x590168[_0x19f4dc(0x517)][_0x19f4dc(0xc6)]()!==_0x48179c['replyOption'][_0x19f4dc(0x517)]['toString']());}async[a0_0x146a96(0x1e0)](_0x2e6e8,_0x1310d9){const _0x453d95=a0_0x146a96;let _0xd30a80=_0x2e6e8[_0x453d95(0x329)]['findIndex'](_0x4fe678=>_0x4fe678[_0x453d95(0x517)]['toString']()===_0x1310d9[_0x453d95(0x208)][_0x453d95(0x517)]['toString']());if(_0xd30a80===-0x1){this['throwAndLogError'](_0x453d95(0x3bc)+_0x1310d9[_0x453d95(0x208)][_0x453d95(0x517)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0x514680 in _0x1310d9[_0x453d95(0x208)])_0x1310d9['replyOption'][_0x453d95(0x2b6)](_0x514680)&&(_0x2e6e8[_0x453d95(0x329)][_0xd30a80][_0x514680]=_0x1310d9[_0x453d95(0x208)][_0x514680]);}[a0_0x146a96(0x55e)](_0x2941b3,_0x5dac5c){const _0x568e24=a0_0x146a96;_0x2941b3[_0x568e24(0x329)]['push'](_0x5dac5c[_0x568e24(0x208)]);}async[a0_0x146a96(0x69c)](_0x147733){const _0x11360f=a0_0x146a96;this[_0x11360f(0x2dd)]['verbose'](this[_0x11360f(0x381)]+'\x20('+this[_0x11360f(0x633)][_0x11360f(0x4c4)]+_0x11360f(0x171)+_0x147733);try{this['logger'][_0x11360f(0xb5)](this['instanceName']+'\x20('+this[_0x11360f(0x633)][_0x11360f(0x4c4)]+'):\x20Editando\x20grupo\x20do\x20fluxo...');let _0x2c985c=await this[_0x11360f(0x484)][_0x11360f(0x481)][_0x11360f(0x592)]({'where':{'name':_0x147733[_0x11360f(0x68a)]}},this[_0x11360f(0x633)][_0x11360f(0x4c4)]);if(!_0x2c985c)throw new Error(_0x11360f(0x60c));if(_0x147733[_0x11360f(0x3b9)]&&_0x147733[_0x11360f(0x3b9)]?.[_0x11360f(0x487)]===!0x0){if(this['logger']['verbose'](this[_0x11360f(0x381)]+'\x20('+this[_0x11360f(0x633)][_0x11360f(0x4c4)]+_0x11360f(0x434)),_0x147733[_0x11360f(0x3b9)][_0x11360f(0x68f)]===!0x0)return{'message':'Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão'};if(_0x2c985c[_0x11360f(0x5a7)]['some'](_0x29a87a=>_0x29a87a[_0x11360f(0x12b)][_0x11360f(0xc6)]()===_0x147733['group'][_0x11360f(0x517)]))return this[_0x11360f(0x2dd)][_0x11360f(0xb5)](this[_0x11360f(0x381)]+'\x20('+this['instance'][_0x11360f(0x4c4)]+_0x11360f(0x4f4)),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x2c985c[_0x11360f(0x5d0)]=_0x2c985c['groups'][_0x11360f(0x61b)](_0x1c7889=>_0x1c7889[_0x11360f(0x517)]['toString']()!==_0x147733[_0x11360f(0x3b9)][_0x11360f(0x517)]);}else{if(_0x147733[_0x11360f(0x3b9)]){if(_0x147733['group']['default']===!0x0)return{'message':_0x11360f(0xa2)};if(_0x147733[_0x11360f(0x3b9)][_0x11360f(0x517)]){let _0x459318=_0x2c985c[_0x11360f(0x5d0)][_0x11360f(0x54e)](_0x391fa2=>_0x391fa2[_0x11360f(0x517)][_0x11360f(0xc6)]()===_0x147733[_0x11360f(0x3b9)][_0x11360f(0x517)]);_0x459318&&(_0x147733['group']['x']<0x0&&(_0x147733['group']['x']=0x0),_0x147733[_0x11360f(0x3b9)]['y']<0x0&&(_0x147733[_0x11360f(0x3b9)]['y']=0x0),Object['assign'](_0x459318,_0x147733[_0x11360f(0x3b9)]));}else _0x2c985c[_0x11360f(0x5d0)][_0x11360f(0x260)](_0x147733[_0x11360f(0x3b9)]);}}let _0x22c7fd=await this[_0x11360f(0x484)]['flow']['updateOne'](_0x2c985c[_0x11360f(0x517)],_0x2c985c,this[_0x11360f(0x633)][_0x11360f(0x4c4)]);if(!_0x22c7fd)throw new Error(_0x11360f(0x5b8));return _0x22c7fd;}catch(_0x5749b7){throw this[_0x11360f(0x2dd)][_0x11360f(0x4e3)](this[_0x11360f(0x381)]+'\x20('+this['instance']['wuid']+_0x11360f(0x13f)+(_0x5749b7 instanceof Error?_0x5749b7['message']:JSON['stringify'](_0x5749b7,null,0x2))),new m(_0x11360f(0x3f6)+(_0x5749b7 instanceof Error?_0x5749b7[_0x11360f(0x404)]:JSON[_0x11360f(0x455)](_0x5749b7,null,0x2)));}}async[a0_0x146a96(0x143)](_0x42a767){const _0x5c0e73=a0_0x146a96;try{this[_0x5c0e73(0x2dd)][_0x5c0e73(0xb5)](this[_0x5c0e73(0x381)]+'\x20('+this['instance'][_0x5c0e73(0x4c4)]+_0x5c0e73(0x553));let _0x3919a6=await this['repository'][_0x5c0e73(0x481)]['findOne']({'where':{'name':_0x42a767[_0x5c0e73(0x68a)]}},this[_0x5c0e73(0x633)]['wuid']);if(!_0x3919a6)throw new Error(_0x5c0e73(0x60c));let _0x244d57=!0x1;if(_0x42a767[_0x5c0e73(0x5b5)]?.[_0x5c0e73(0x487)]===!0x0)_0x3919a6[_0x5c0e73(0x11f)]=_0x3919a6['conditions'][_0x5c0e73(0x61b)](_0x306d2f=>_0x306d2f&&_0x42a767[_0x5c0e73(0x5b5)]&&_0x306d2f[_0x5c0e73(0x517)]&&_0x42a767[_0x5c0e73(0x5b5)][_0x5c0e73(0x517)]&&_0x306d2f['_id'][_0x5c0e73(0xc6)]()!==_0x42a767['condition'][_0x5c0e73(0x517)][_0x5c0e73(0xc6)]()),_0x244d57=!0x0;else{let _0x1a6b26=_0x3919a6['conditions'][_0x5c0e73(0x54e)](_0x549a79=>_0x549a79&&_0x42a767['condition']&&_0x549a79['_id']&&_0x42a767['condition']['_id']&&_0x549a79['_id'][_0x5c0e73(0xc6)]()===_0x42a767[_0x5c0e73(0x5b5)][_0x5c0e73(0x517)][_0x5c0e73(0xc6)]());_0x1a6b26?(_0x244d57=_0x1a6b26[_0x5c0e73(0x5c4)]!==_0x42a767[_0x5c0e73(0x5b5)][_0x5c0e73(0x5c4)],Object[_0x5c0e73(0x66b)](_0x1a6b26,_0x42a767[_0x5c0e73(0x5b5)])):(_0x3919a6[_0x5c0e73(0x11f)]['push'](_0x42a767[_0x5c0e73(0x5b5)]),_0x244d57=!0x0);}if(_0x244d57){_0x3919a6[_0x5c0e73(0x11f)][_0x5c0e73(0x193)]((_0x394c6b,_0x25a52d)=>_0x394c6b['order']>_0x25a52d[_0x5c0e73(0x5c4)]?0x1:_0x25a52d[_0x5c0e73(0x5c4)]>_0x394c6b[_0x5c0e73(0x5c4)]?-0x1:0x0);for(let _0x36cc33=0x0;_0x36cc33<_0x3919a6[_0x5c0e73(0x11f)]['length'];_0x36cc33++)_0x3919a6['conditions'][_0x36cc33][_0x5c0e73(0x5c4)]=_0x36cc33+0x1;_0x3919a6[_0x5c0e73(0x11f)][_0x5c0e73(0x29f)]>0x0&&(_0x3919a6[_0x5c0e73(0x11f)][0x0][_0x5c0e73(0x204)]='and');}let _0x3de1fe=await this[_0x5c0e73(0x484)]['flow'][_0x5c0e73(0x5af)](_0x3919a6[_0x5c0e73(0x517)],_0x3919a6,this[_0x5c0e73(0x633)][_0x5c0e73(0x4c4)]);if(!_0x3de1fe)throw new Error(_0x5c0e73(0x5b8));return _0x3de1fe;}catch(_0x2bfeea){throw this[_0x5c0e73(0x2dd)][_0x5c0e73(0x4e3)](this[_0x5c0e73(0x381)]+'\x20('+this['instance'][_0x5c0e73(0x4c4)]+_0x5c0e73(0x1c6)+(_0x2bfeea instanceof Error?_0x2bfeea[_0x5c0e73(0x404)]:JSON['stringify'](_0x2bfeea,null,0x2))),new Error(_0x5c0e73(0x39a)+(_0x2bfeea instanceof Error?_0x2bfeea[_0x5c0e73(0x404)]:JSON[_0x5c0e73(0x455)](_0x2bfeea,null,0x2)));}}async[a0_0x146a96(0x313)](_0x5cf864){const _0x3bd177=a0_0x146a96;try{this[_0x3bd177(0x2dd)][_0x3bd177(0xb5)](this[_0x3bd177(0x381)]+'\x20('+this['instance'][_0x3bd177(0x4c4)]+_0x3bd177(0x200));let _0x49c881=await this[_0x3bd177(0x484)][_0x3bd177(0x481)][_0x3bd177(0x592)]({'where':{'name':_0x5cf864[_0x3bd177(0x68a)]}},this[_0x3bd177(0x633)][_0x3bd177(0x4c4)]);if(!_0x49c881)throw new Error(_0x3bd177(0x60c));let _0x426da2=!0x1;if(_0x5cf864[_0x3bd177(0x41f)]?.[_0x3bd177(0x487)]===!0x0)_0x49c881['varedits']=_0x49c881[_0x3bd177(0x28c)]['filter'](_0x7b6831=>_0x7b6831&&_0x5cf864['varedit']&&_0x7b6831[_0x3bd177(0x517)]&&_0x5cf864['varedit']['_id']&&_0x7b6831[_0x3bd177(0x517)]['toString']()!==_0x5cf864[_0x3bd177(0x41f)][_0x3bd177(0x517)][_0x3bd177(0xc6)]()),_0x426da2=!0x0;else{let _0xe1bdb7=_0x49c881[_0x3bd177(0x28c)]['find'](_0x34d888=>_0x34d888&&_0x5cf864['varedit']&&_0x34d888['_id']&&_0x5cf864[_0x3bd177(0x41f)]['_id']&&_0x34d888[_0x3bd177(0x517)][_0x3bd177(0xc6)]()===_0x5cf864['varedit'][_0x3bd177(0x517)][_0x3bd177(0xc6)]());_0xe1bdb7?(_0x426da2=_0xe1bdb7[_0x3bd177(0x5c4)]!==_0x5cf864[_0x3bd177(0x41f)][_0x3bd177(0x5c4)],Object[_0x3bd177(0x66b)](_0xe1bdb7,_0x5cf864[_0x3bd177(0x41f)])):(_0x49c881['varedits'][_0x3bd177(0x260)](_0x5cf864[_0x3bd177(0x41f)]),_0x426da2=!0x0);}if(_0x426da2){_0x49c881['varedits']['sort']((_0x2187dd,_0x5e31a1)=>_0x2187dd[_0x3bd177(0x5c4)]>_0x5e31a1[_0x3bd177(0x5c4)]?0x1:_0x5e31a1['order']>_0x2187dd[_0x3bd177(0x5c4)]?-0x1:0x0);for(let _0x1e9aee=0x0;_0x1e9aee<_0x49c881['varedits']['length'];_0x1e9aee++)_0x49c881[_0x3bd177(0x28c)][_0x1e9aee][_0x3bd177(0x5c4)]=_0x1e9aee+0x1;}let _0x1bfd3b=await this[_0x3bd177(0x484)][_0x3bd177(0x481)][_0x3bd177(0x5af)](_0x49c881['_id'],_0x49c881,this[_0x3bd177(0x633)][_0x3bd177(0x4c4)]);if(!_0x1bfd3b)throw new Error(_0x3bd177(0x5b8));return _0x1bfd3b;}catch(_0x1cc969){throw this['logger'][_0x3bd177(0x4e3)](this[_0x3bd177(0x381)]+'\x20('+this['instance'][_0x3bd177(0x4c4)]+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x1cc969 instanceof Error?_0x1cc969[_0x3bd177(0x404)]:JSON[_0x3bd177(0x455)](_0x1cc969,null,0x2))),new m('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x1cc969 instanceof Error?_0x1cc969['message']:JSON[_0x3bd177(0x455)](_0x1cc969,null,0x2)));}}async[a0_0x146a96(0x2c0)](_0x41d170){const _0x4e1bf8=a0_0x146a96;try{this['logger'][_0x4e1bf8(0xb5)](this['instanceName']+'\x20('+this['instance'][_0x4e1bf8(0x4c4)]+_0x4e1bf8(0x451));let _0x318522=await this[_0x4e1bf8(0x484)]['flow'][_0x4e1bf8(0x592)]({'where':{'name':_0x41d170['name']}},this[_0x4e1bf8(0x633)][_0x4e1bf8(0x4c4)]);if(!_0x318522)throw new Error(_0x4e1bf8(0x60c));_0x41d170[_0x4e1bf8(0x6c6)][_0x4e1bf8(0x68a)]=_0x41d170[_0x4e1bf8(0x6c6)][_0x4e1bf8(0x68a)][_0x4e1bf8(0x546)](),_0x41d170[_0x4e1bf8(0x6c6)][_0x4e1bf8(0x68a)]['startsWith']('_')&&(_0x41d170[_0x4e1bf8(0x6c6)]['name']=_0x41d170[_0x4e1bf8(0x6c6)][_0x4e1bf8(0x68a)]['substring'](0x1)),_0x41d170[_0x4e1bf8(0x6c6)][_0x4e1bf8(0x68a)]=_0x41d170[_0x4e1bf8(0x6c6)][_0x4e1bf8(0x68a)][_0x4e1bf8(0x546)]();let _0x315e91=_0x318522['variables']['find'](_0x5d89df=>_0x5d89df[_0x4e1bf8(0x68a)]===_0x41d170[_0x4e1bf8(0x6c6)]['name']);if(_0x315e91?.[_0x4e1bf8(0x641)]===!0x0)throw new Error(_0x4e1bf8(0x3f3));if(_0x41d170[_0x4e1bf8(0x6c6)]?.[_0x4e1bf8(0x487)]===!0x0){if(!_0x315e91)return{'message':_0x4e1bf8(0x1f8)};_0x318522['variables']=_0x318522[_0x4e1bf8(0x3e0)][_0x4e1bf8(0x61b)](_0x16eeed=>_0x16eeed['name']!==_0x41d170[_0x4e1bf8(0x6c6)][_0x4e1bf8(0x68a)]);}else _0x315e91?Object['assign'](_0x315e91,_0x41d170[_0x4e1bf8(0x6c6)]):_0x318522[_0x4e1bf8(0x3e0)][_0x4e1bf8(0x260)](_0x41d170['variable']);let _0x4b48ef=await this['repository']['flow'][_0x4e1bf8(0x5af)](_0x318522[_0x4e1bf8(0x517)],_0x318522,this[_0x4e1bf8(0x633)][_0x4e1bf8(0x4c4)]);if(!_0x4b48ef)throw new Error(_0x4e1bf8(0x5b8));return _0x4b48ef;}catch(_0x35e267){throw this[_0x4e1bf8(0x2dd)]['error'](this[_0x4e1bf8(0x381)]+'\x20('+this['instance']['wuid']+_0x4e1bf8(0x67c)+(_0x35e267 instanceof Error?_0x35e267[_0x4e1bf8(0x404)]:JSON[_0x4e1bf8(0x455)](_0x35e267,null,0x2))),new m(_0x4e1bf8(0x2da)+(_0x35e267 instanceof Error?_0x35e267[_0x4e1bf8(0x404)]:JSON[_0x4e1bf8(0x455)](_0x35e267,null,0x2)));}}async[a0_0x146a96(0x6a5)](_0x17b52d){const _0x483d4d=a0_0x146a96;let _0x239db2=null;try{if(!this[_0x483d4d(0x10a)]?.[_0x483d4d(0x49a)][_0x483d4d(0x39f)])throw new m(_0x483d4d(0x3d8));this[_0x483d4d(0x2dd)][_0x483d4d(0xb5)](this[_0x483d4d(0x381)]+'\x20('+this[_0x483d4d(0x633)]['wuid']+_0x483d4d(0x32e));let _0x3affbe=(await this[_0x483d4d(0x371)]({'numbers':[_0x17b52d[_0x483d4d(0x291)]]}))[0x0];if(!_0x3affbe[_0x483d4d(0x59d)]&&!(0x0,y[_0x483d4d(0x46e)])(_0x3affbe[_0x483d4d(0x7d)])&&!_0x3affbe['jid'][_0x483d4d(0x322)](_0x483d4d(0xe8)))throw _0x239db2=JSON[_0x483d4d(0x455)](_0x3affbe,null,0x2),new m(_0x3affbe);let _0x56ee61=await this[_0x483d4d(0x484)][_0x483d4d(0x481)]['findOne']({'where':{'name':_0x17b52d[_0x483d4d(0x68a)]}},this[_0x483d4d(0x633)][_0x483d4d(0x4c4)]);if(!_0x56ee61)return this[_0x483d4d(0x2dd)][_0x483d4d(0x4e3)](this[_0x483d4d(0x381)]+'\x20('+this['instance']['wuid']+_0x483d4d(0x154)),{'message':_0x483d4d(0x60c)};let _0x4fbcfd=await this[_0x483d4d(0x1f5)](_0x56ee61,_0x3affbe[_0x483d4d(0x7d)],_0x17b52d[_0x483d4d(0x233)]);if(_0x4fbcfd){this['logger']['verbose'](this[_0x483d4d(0x381)]+'\x20('+this[_0x483d4d(0x633)]['wuid']+_0x483d4d(0x469));let _0x170a70=await this[_0x483d4d(0x1b0)](_0x4fbcfd);return _0x170a70&&await this[_0x483d4d(0x111)](_0x4fbcfd,_0x170a70),{'message':_0x483d4d(0x55b)+_0x17b52d[_0x483d4d(0x291)]};}}catch(_0x47dced){if(this[_0x483d4d(0x2dd)][_0x483d4d(0x4e3)](this[_0x483d4d(0x381)]+'\x20('+this[_0x483d4d(0x633)][_0x483d4d(0x4c4)]+_0x483d4d(0x350)+(_0x47dced instanceof Error?_0x47dced[_0x483d4d(0x404)]:JSON[_0x483d4d(0x455)](_0x47dced,null,0x2))),_0x239db2=_0x47dced instanceof Error?_0x47dced[_0x483d4d(0x404)]:JSON['stringify'](_0x47dced,null,0x2),_0x239db2)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x239db2);}}async['closeExistingConversations'](_0x2b87f7){const _0x1f9639=a0_0x146a96;try{let _0x51f818={'remoteJid':_0x2b87f7,'status':_0x1f9639(0x1ac)},_0x2db58f={'status':_0x1f9639(0x502)},_0x4dc628=await this[_0x1f9639(0x484)][_0x1f9639(0x1fc)][_0x1f9639(0x386)](_0x51f818,_0x2db58f,this[_0x1f9639(0x633)][_0x1f9639(0x4c4)]);return this[_0x1f9639(0x2dd)][_0x1f9639(0xb5)](this['instanceName']+'\x20('+this[_0x1f9639(0x633)]['wuid']+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.'),_0x4dc628;}catch(_0x50b58a){throw this['logger'][_0x1f9639(0x4e3)](this[_0x1f9639(0x381)]+'\x20('+this[_0x1f9639(0x633)][_0x1f9639(0x4c4)]+_0x1f9639(0x262)+_0x50b58a[_0x1f9639(0x404)]),_0x50b58a;}}async[a0_0x146a96(0x1f5)](_0x79b69a,_0x25b674,_0x1a2891){const _0x29ac73=a0_0x146a96;this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x29ac73(0x633)][_0x29ac73(0x4c4)]+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this[_0x29ac73(0x28d)](_0x25b674);try{let _0x55b7b8=require(_0x29ac73(0x259))[_0x29ac73(0x292)],_0x1347e2=Date['now'](),_0x70cc09='start',_0x56524d={},_0x106afb={},_0x38b8bd={..._0x79b69a,'chatLog':null},_0xb6e0c8=await this['variablesToObject'](_0x38b8bd['variables']),_0x308f64=await this[_0x29ac73(0x196)](_0x25b674),_0x477e54={..._0xb6e0c8,..._0x308f64,'_remoteJid':_0x25b674},_0x3a1399={'lastReceivedMessage':_0x56524d,'lastSendMessage':_0x106afb,'lastBlockId':_0x70cc09,'lastCondition':!0x0,'realVariables':_0x477e54};_0x38b8bd[_0x29ac73(0x51c)]=_0x3a1399,_0x38b8bd['chatLog'][_0x29ac73(0xbc)]={..._0x477e54,..._0x1a2891},delete _0x38b8bd[_0x29ac73(0x517)],_0x38b8bd[_0x29ac73(0x517)]=new _0x55b7b8(),_0x38b8bd[_0x29ac73(0x5f0)]=_0x1347e2,_0x38b8bd[_0x29ac73(0x419)]=_0x29ac73(0x1ac),_0x38b8bd[_0x29ac73(0x291)]=_0x25b674;let _0x20d9a8=await this[_0x29ac73(0x484)][_0x29ac73(0x1fc)][_0x29ac73(0x5af)](_0x38b8bd[_0x29ac73(0x517)],_0x38b8bd,this[_0x29ac73(0x633)][_0x29ac73(0x4c4)]);return this[_0x29ac73(0x2dd)][_0x29ac73(0xb5)](this[_0x29ac73(0x381)]+'\x20('+this['instance']['wuid']+_0x29ac73(0x1e1)),_0x20d9a8?_0x38b8bd:null;}catch(_0x1ee304){throw this[_0x29ac73(0x2dd)][_0x29ac73(0x4e3)](this[_0x29ac73(0x381)]+'\x20('+this[_0x29ac73(0x633)][_0x29ac73(0x4c4)]+_0x29ac73(0x36d)+(_0x1ee304 instanceof Error?_0x1ee304[_0x29ac73(0x404)]:JSON[_0x29ac73(0x455)](_0x1ee304,null,0x2))),new m(_0x1ee304['message']);}}async[a0_0x146a96(0x426)](_0x5ef229){const _0x438919=a0_0x146a96;try{this[_0x438919(0x2dd)][_0x438919(0xb5)](this[_0x438919(0x381)]+'\x20('+this[_0x438919(0x633)][_0x438919(0x4c4)]+'):\x20Buscando\x20conversa...'),this[_0x438919(0x2dd)][_0x438919(0xb5)](this[_0x438919(0x381)]+'\x20('+this['instance'][_0x438919(0x4c4)]+_0x438919(0x435)+_0x5ef229);let _0x59a4bb={'where':{'_id':_0x5ef229}};return await this[_0x438919(0x484)][_0x438919(0x1fc)][_0x438919(0x592)](_0x59a4bb,this[_0x438919(0x633)][_0x438919(0x4c4)]);}catch(_0x1fc182){throw this[_0x438919(0x2dd)][_0x438919(0x4e3)](this[_0x438919(0x381)]+'\x20('+this['instance']['wuid']+_0x438919(0x126)+(_0x1fc182 instanceof Error?_0x1fc182[_0x438919(0x404)]:JSON[_0x438919(0x455)](_0x1fc182,null,0x2))),new m(_0x438919(0x4c1)+_0x1fc182[_0x438919(0x404)]);}}async[a0_0x146a96(0x415)](_0x5a85f0){const _0x174b2f=a0_0x146a96;try{return this[_0x174b2f(0x2dd)][_0x174b2f(0xb5)](this[_0x174b2f(0x381)]+'\x20('+this[_0x174b2f(0x633)][_0x174b2f(0x4c4)]+_0x174b2f(0x325)),await this[_0x174b2f(0x484)][_0x174b2f(0x1fc)][_0x174b2f(0x54e)](_0x5a85f0,this[_0x174b2f(0x633)]['wuid']);}catch(_0x500af6){throw this[_0x174b2f(0x2dd)][_0x174b2f(0x4e3)](this[_0x174b2f(0x381)]+'\x20('+this[_0x174b2f(0x633)][_0x174b2f(0x4c4)]+_0x174b2f(0x4ad)+(_0x500af6 instanceof Error?_0x500af6[_0x174b2f(0x404)]:JSON[_0x174b2f(0x455)](_0x500af6,null,0x2))),new m(_0x174b2f(0x18c)+_0x500af6[_0x174b2f(0x404)]);}}async[a0_0x146a96(0x300)](_0x135035){const _0x1f129b=a0_0x146a96;try{return this[_0x1f129b(0x2dd)][_0x1f129b(0xb5)](this[_0x1f129b(0x381)]+'\x20('+this[_0x1f129b(0x633)]['wuid']+_0x1f129b(0x456)),this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x1f129b(0x4c4)]+_0x1f129b(0xa8)+_0x135035),(await this[_0x1f129b(0x484)]['flowConversation']['deleteOne']({'where':{'_id':_0x135035}},this[_0x1f129b(0x633)][_0x1f129b(0x4c4)]))['deletedCount']===0x0?{'message':_0x1f129b(0x5db)}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x4cafa9){throw this['logger'][_0x1f129b(0x4e3)](this[_0x1f129b(0x381)]+'\x20('+this[_0x1f129b(0x633)]['wuid']+'):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20'+(_0x4cafa9 instanceof Error?_0x4cafa9['message']:JSON[_0x1f129b(0x455)](_0x4cafa9,null,0x2))),new m(_0x1f129b(0x578)+_0x4cafa9[_0x1f129b(0x404)]);}}async['editConversation'](_0x3c8adb){const _0x348b32=a0_0x146a96;try{let {_id:_0x5a60bd,chatLog:_0x2234d1,status:_0x271515}=_0x3c8adb;if(!_0x5a60bd)return{'message':_0x348b32(0x32b)};let _0x4ee928={};if(_0x271515!==void 0x0&&(_0x4ee928['status']=_0x271515),Object['keys'](_0x4ee928)[_0x348b32(0x29f)]===0x0)return{'message':_0x348b32(0x672)};let _0x4e97a1=await this[_0x348b32(0x484)]['flowConversation']['updateOne'](_0x5a60bd,_0x4ee928,this[_0x348b32(0x633)][_0x348b32(0x4c4)]);return _0x4e97a1||{'message':_0x348b32(0x554)};}catch(_0x2d29a6){throw this[_0x348b32(0x2dd)][_0x348b32(0x4e3)](this[_0x348b32(0x381)]+'\x20('+this['instance'][_0x348b32(0x4c4)]+_0x348b32(0x67a)+(_0x2d29a6 instanceof Error?_0x2d29a6['message']:JSON[_0x348b32(0x455)](_0x2d29a6,null,0x2))),new m('Erro\x20ao\x20editar\x20a\x20conversa:\x20'+_0x2d29a6[_0x348b32(0x404)]);}}async['editChat'](_0x4dce32){const _0x5dfbf8=a0_0x146a96;let _0x57d6fc=await this[_0x5dfbf8(0x484)][_0x5dfbf8(0x657)][_0x5dfbf8(0x592)]({'where':{'_id':_0x4dce32['_id']}},this[_0x5dfbf8(0x633)]['wuid']);if(!_0x57d6fc)throw new m(_0x5dfbf8(0x239));console[_0x5dfbf8(0x48e)](_0x4dce32);try{_0x4dce32[_0x5dfbf8(0x517)]=this[_0x5dfbf8(0x5fc)](_0x4dce32['_id']);let {_id:_0x45ae4e,leadInfo:_0x467e91}=_0x4dce32;if(!_0x45ae4e)throw new Error(_0x5dfbf8(0x18a));let _0x18ec1b=(_0x5685e6,_0x5f527b,_0x28b76c)=>{const _0x5f3bac=_0x5dfbf8;_0x5685e6&&_0x28b76c[_0x5f3bac(0x304)](_0xa5568c=>{const _0x2f485c=_0x5f3bac;_0x5685e6[_0xa5568c]!==void 0x0&&(_0x5f527b[_0x2f485c(0x65b)+_0xa5568c]=_0x5685e6[_0xa5568c]);});},_0x31a6f6={};if(_0x467e91&&(_0x18ec1b(_0x467e91,_0x31a6f6,[_0x5dfbf8(0x626),_0x5dfbf8(0x33f),_0x5dfbf8(0x21e),_0x5dfbf8(0x40b),_0x5dfbf8(0x419),_0x5dfbf8(0x3d1),_0x5dfbf8(0x57e),_0x5dfbf8(0x3a1),_0x5dfbf8(0x2b3),_0x5dfbf8(0x274)]),Array[_0x5dfbf8(0x604)](_0x467e91[_0x5dfbf8(0x400)])&&(_0x31a6f6[_0x5dfbf8(0x4d3)]=_0x467e91['customFields']['map'](_0x269786=>({'_id':_0x269786[_0x5dfbf8(0x517)],'value':_0x269786['value']}))),_0x4dce32[_0x5dfbf8(0x641)][_0x5dfbf8(0x274)]!==void 0x0)){let _0x20921d=await this['repository'][_0x5dfbf8(0x660)][_0x5dfbf8(0x54e)]({'where':{}},this[_0x5dfbf8(0x633)][_0x5dfbf8(0x4c4)]),_0x3901df=new Set(_0x4dce32[_0x5dfbf8(0x641)][_0x5dfbf8(0x274)]||[]),_0x53e43e=new Set(_0x4dce32[_0x5dfbf8(0x641)]['etiquetas']),_0x46c3e5=new Set(_0x20921d['map'](_0x27f76d=>_0x27f76d[_0x5dfbf8(0x517)])),_0x3c0639=[..._0x53e43e]['filter'](_0x59d5fa=>!_0x3901df['has'](_0x59d5fa)&&_0x46c3e5[_0x5dfbf8(0x2ea)](_0x59d5fa)),_0x28f764=[..._0x3901df][_0x5dfbf8(0x61b)](_0xd2ce06=>!_0x53e43e[_0x5dfbf8(0x2ea)](_0xd2ce06));if(_0x31a6f6[_0x5dfbf8(0x3aa)]=[..._0x3901df],_0x57d6fc&&!_0x57d6fc[_0x5dfbf8(0x533)]){for(let _0x5e1d82 of _0x3c0639)await this[_0x5dfbf8(0x365)](_0x5e1d82,_0x4dce32[_0x5dfbf8(0x517)]),_0x3901df[_0x5dfbf8(0x4a8)](_0x5e1d82);for(let _0x16fa1e of _0x28f764)await this[_0x5dfbf8(0x696)](_0x16fa1e,_0x4dce32[_0x5dfbf8(0x517)]),_0x3901df[_0x5dfbf8(0x487)](_0x16fa1e);}}if(_0x4dce32[_0x5dfbf8(0x588)]!==void 0x0&&(_0x31a6f6[_0x5dfbf8(0x588)]=Number(_0x4dce32[_0x5dfbf8(0x588)])),Object['keys'](_0x31a6f6)[_0x5dfbf8(0x29f)]===0x0)throw new Error('Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.');let _0xb8cbe5=await this['repository'][_0x5dfbf8(0x657)][_0x5dfbf8(0x5af)]({'where':{'_id':_0x4dce32[_0x5dfbf8(0x517)]}},_0x31a6f6,this['instance']['wuid']);return _0xb8cbe5&&J(this[_0x5dfbf8(0x381)],_0x5dfbf8(0x392),{'chat':_0xb8cbe5}),_0xb8cbe5?(this['logger'][_0x5dfbf8(0xb5)](this[_0x5dfbf8(0x381)]+'\x20('+this[_0x5dfbf8(0x633)][_0x5dfbf8(0x4c4)]+_0x5dfbf8(0x43f)+JSON[_0x5dfbf8(0x455)](_0xb8cbe5,null,0x2)),_0xb8cbe5):{'message':_0x5dfbf8(0x1ae)};}catch(_0x1cadee){throw this[_0x5dfbf8(0x2dd)][_0x5dfbf8(0x4e3)](this[_0x5dfbf8(0x381)]+'\x20('+this[_0x5dfbf8(0x633)][_0x5dfbf8(0x4c4)]+_0x5dfbf8(0x40e)+(_0x1cadee instanceof Error?_0x1cadee[_0x5dfbf8(0x404)]:JSON['stringify'](_0x1cadee,null,0x2))),new m('Erro\x20ao\x20editar\x20o\x20chat:\x20'+_0x1cadee['message']);}}async[a0_0x146a96(0x365)](_0x3cc1c9,_0x5624e7){const _0x2d28fc=a0_0x146a96;try{await this['client'][_0x2d28fc(0x6d4)](_0x5624e7,_0x3cc1c9),console[_0x2d28fc(0x48e)](_0x2d28fc(0x359)+_0x3cc1c9+'\x20adicionado\x20ao\x20chat\x20'+_0x5624e7+_0x2d28fc(0x1e7));}catch(_0x36c730){console[_0x2d28fc(0x4e3)]('Erro\x20ao\x20adicionar\x20label\x20'+_0x3cc1c9+_0x2d28fc(0x58a)+_0x5624e7+':',_0x36c730);}}async[a0_0x146a96(0x696)](_0x32fdbc,_0x9e56af){const _0x4e3b0c=a0_0x146a96;try{await this[_0x4e3b0c(0x599)][_0x4e3b0c(0x493)](_0x9e56af,_0x32fdbc),console['log']('Label\x20'+_0x32fdbc+_0x4e3b0c(0x41d)+_0x9e56af+_0x4e3b0c(0x1e7));}catch(_0x4eccc4){console[_0x4e3b0c(0x4e3)](_0x4e3b0c(0x49b)+_0x32fdbc+_0x4e3b0c(0x278)+_0x9e56af+':',_0x4eccc4);}}async['updateAgent'](_0x373609){const _0x51a7a0=a0_0x146a96;try{let _0x1630da=await this[_0x51a7a0(0x484)]['automateSystem']['findOrCreate'](this[_0x51a7a0(0x633)][_0x51a7a0(0x4c4)]),_0x29daa8=_0x373609[_0x51a7a0(0x517)]?_0x1630da[_0x51a7a0(0x1e5)][_0x51a7a0(0x4d7)](_0x4ad086=>_0x4ad086[_0x51a7a0(0x517)]===_0x373609[_0x51a7a0(0x517)]):-0x1;if(_0x373609[_0x51a7a0(0x487)]&&_0x29daa8>-0x1)_0x1630da[_0x51a7a0(0x1e5)][_0x51a7a0(0x388)](_0x29daa8,0x1);else{if(_0x29daa8>-0x1){let _0x5cb54f=_0x1630da[_0x51a7a0(0x1e5)][_0x29daa8];_0x373609[_0x51a7a0(0x59f)]&&(_0x5cb54f['fone']=_0x373609[_0x51a7a0(0x59f)]),_0x373609[_0x51a7a0(0x68a)]&&(_0x5cb54f[_0x51a7a0(0x68a)]=_0x373609[_0x51a7a0(0x68a)]),_0x373609[_0x51a7a0(0x21e)]&&(_0x5cb54f[_0x51a7a0(0x21e)]=_0x373609[_0x51a7a0(0x21e)]),_0x373609[_0x51a7a0(0x342)]&&(_0x5cb54f[_0x51a7a0(0x342)]=_0x373609[_0x51a7a0(0x342)]);}else _0x1630da['agents'][_0x51a7a0(0x260)]({'_id':_0x373609[_0x51a7a0(0x517)]||new ie[(_0x51a7a0(0x68f))][(_0x51a7a0(0x4d1))][(_0x51a7a0(0x292))]()[_0x51a7a0(0xc6)](),'fone':_0x373609['fone'],'name':_0x373609['name'],'email':_0x373609['email'],'role':_0x373609[_0x51a7a0(0x342)]});}let _0x220388={'agents':_0x1630da[_0x51a7a0(0x1e5)]},_0x59c594=await this[_0x51a7a0(0x484)][_0x51a7a0(0xd6)][_0x51a7a0(0x11a)](_0x220388,this['instance'][_0x51a7a0(0x4c4)]);return this[_0x51a7a0(0x10a)]=_0x59c594,this[_0x51a7a0(0x2dd)][_0x51a7a0(0xb5)](this[_0x51a7a0(0x381)]+'\x20('+this[_0x51a7a0(0x633)][_0x51a7a0(0x4c4)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x51a7a0(0x2dd)][_0x51a7a0(0xb5)](this[_0x51a7a0(0x381)]+'\x20('+this[_0x51a7a0(0x633)][_0x51a7a0(0x4c4)]+'):\x20'+this['AutomateSystem']),_0x59c594;}catch(_0x4ead8b){throw this[_0x51a7a0(0x2dd)][_0x51a7a0(0x4e3)](this[_0x51a7a0(0x381)]+'\x20('+this[_0x51a7a0(0x633)][_0x51a7a0(0x4c4)]+'):\x20Erro\x20ao\x20editar\x20agentes:\x20'+(_0x4ead8b instanceof Error?_0x4ead8b[_0x51a7a0(0x404)]:JSON[_0x51a7a0(0x455)](_0x4ead8b,null,0x2))),new m('Erro\x20ao\x20editar\x20agentes:\x20'+_0x4ead8b['message']);}}async[a0_0x146a96(0x1ba)](_0x44ed13){const _0x8bb257=a0_0x146a96;try{let _0x47b7d2=await this[_0x8bb257(0x484)][_0x8bb257(0xd6)][_0x8bb257(0x215)](this[_0x8bb257(0x633)][_0x8bb257(0x4c4)]),_0xf8fbe3=_0x44ed13[_0x8bb257(0x517)]?_0x47b7d2[_0x8bb257(0x400)]['findIndex'](_0x1fdc10=>_0x1fdc10[_0x8bb257(0x517)]===_0x44ed13['_id']):-0x1,_0x1c1b6f=!0x1,_0x11ef35=_0x47b7d2[_0x8bb257(0x400)][_0x8bb257(0x4e2)](_0x286619=>_0x286619['order']===_0x44ed13[_0x8bb257(0x5c4)]);if(_0x44ed13[_0x8bb257(0x487)]&&_0xf8fbe3>-0x1)_0x47b7d2[_0x8bb257(0x400)][_0x8bb257(0x388)](_0xf8fbe3,0x1),_0x1c1b6f=!0x0;else{if(_0xf8fbe3>-0x1){if(_0x47b7d2['customFields'][_0x8bb257(0x4e2)](_0x80a036=>_0x80a036[_0x8bb257(0x68a)]===_0x44ed13[_0x8bb257(0x68a)]&&_0x80a036[_0x8bb257(0x517)]!==_0x44ed13[_0x8bb257(0x517)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');let _0x1dadc3=_0x47b7d2[_0x8bb257(0x400)][_0xf8fbe3];_0x44ed13[_0x8bb257(0x5c4)]&&(_0x11ef35||!Number[_0x8bb257(0x294)](_0x44ed13['order']))&&(_0x1dadc3[_0x8bb257(0x5c4)]=_0x44ed13['order'],_0x1c1b6f=!0x0),_0x44ed13[_0x8bb257(0x68a)]&&(_0x1dadc3['name']=_0x44ed13[_0x8bb257(0x68a)]);}else{if(_0x47b7d2[_0x8bb257(0x400)][_0x8bb257(0x4e2)](_0x395116=>_0x395116[_0x8bb257(0x68a)]===_0x44ed13['name']&&_0x395116[_0x8bb257(0x517)]!==_0x44ed13[_0x8bb257(0x517)]))throw new Error(_0x8bb257(0x466));_0x47b7d2[_0x8bb257(0x400)]['push']({'_id':_0x44ed13['_id']||new ie[(_0x8bb257(0x68f))][(_0x8bb257(0x4d1))][(_0x8bb257(0x292))]()[_0x8bb257(0xc6)](),'order':_0x44ed13[_0x8bb257(0x5c4)],'name':_0x44ed13[_0x8bb257(0x68a)]}),_0x1c1b6f=!0x0;}}if(_0x1c1b6f){_0x47b7d2[_0x8bb257(0x400)][_0x8bb257(0x193)]((_0x38fa45,_0x6f96dc)=>_0x38fa45[_0x8bb257(0x5c4)]>_0x6f96dc[_0x8bb257(0x5c4)]?0x1:_0x6f96dc[_0x8bb257(0x5c4)]>_0x38fa45[_0x8bb257(0x5c4)]?-0x1:0x0);for(let _0x51ea36=0x0;_0x51ea36<_0x47b7d2[_0x8bb257(0x400)][_0x8bb257(0x29f)];_0x51ea36++)_0x47b7d2[_0x8bb257(0x400)][_0x51ea36][_0x8bb257(0x5c4)]=_0x51ea36+0x1;}let _0x1578cc=await this[_0x8bb257(0x484)][_0x8bb257(0xd6)]['update'](_0x47b7d2,this[_0x8bb257(0x633)][_0x8bb257(0x4c4)]);return this[_0x8bb257(0x10a)]=_0x1578cc,this['logger'][_0x8bb257(0xb5)](this[_0x8bb257(0x381)]+'\x20('+this[_0x8bb257(0x633)]['wuid']+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x8bb257(0x2dd)][_0x8bb257(0xb5)](this[_0x8bb257(0x381)]+'\x20('+this[_0x8bb257(0x633)]['wuid']+_0x8bb257(0x43f)+this[_0x8bb257(0x10a)]),_0x1578cc;}catch(_0x10362a){throw this[_0x8bb257(0x2dd)][_0x8bb257(0x4e3)](this[_0x8bb257(0x381)]+'\x20('+this[_0x8bb257(0x633)][_0x8bb257(0x4c4)]+_0x8bb257(0xbf)+(_0x10362a instanceof Error?_0x10362a[_0x8bb257(0x404)]:JSON['stringify'](_0x10362a,null,0x2))),new m(_0x8bb257(0x425)+_0x10362a[_0x8bb257(0x404)]);}}async['updateFlowConfig'](_0x3e0fb4){const _0x1a7913=a0_0x146a96;try{let _0x627426=await this[_0x1a7913(0x484)][_0x1a7913(0xd6)][_0x1a7913(0x215)](this['instance'][_0x1a7913(0x4c4)]);if(!_0x627426)throw new Error(_0x1a7913(0x1d1));let _0x5093e5={'_id':_0x627426[_0x1a7913(0x517)],'flowConfig':{'enabled':_0x3e0fb4[_0x1a7913(0x39f)]??_0x627426['flowConfig']['enabled'],'ignoreGroups':_0x3e0fb4[_0x1a7913(0x4df)]??_0x627426[_0x1a7913(0x49a)][_0x1a7913(0x4df)],'prefixCommand':_0x3e0fb4[_0x1a7913(0x316)]??_0x627426[_0x1a7913(0x49a)]['prefixCommand'],'stopConversation':_0x3e0fb4[_0x1a7913(0x1f4)]??_0x627426[_0x1a7913(0x49a)]['stopConversation'],'stopMinutes':_0x3e0fb4['stopMinutes']??_0x627426[_0x1a7913(0x49a)][_0x1a7913(0x48f)],'stopWhenYouSendMsg':_0x3e0fb4[_0x1a7913(0x53f)]??_0x627426[_0x1a7913(0x49a)]['stopWhenYouSendMsg']}},_0xf72240=await this[_0x1a7913(0x484)][_0x1a7913(0xd6)][_0x1a7913(0x11a)](_0x5093e5,this[_0x1a7913(0x633)][_0x1a7913(0x4c4)]);return this['AutomateSystem']=_0xf72240,this[_0x1a7913(0x2dd)][_0x1a7913(0xb5)](this['instanceName']+'\x20('+this[_0x1a7913(0x633)][_0x1a7913(0x4c4)]+_0x1a7913(0x203)),this[_0x1a7913(0x2dd)][_0x1a7913(0xb5)](this[_0x1a7913(0x381)]+'\x20('+this[_0x1a7913(0x633)][_0x1a7913(0x4c4)]+'):\x20'+this[_0x1a7913(0x10a)]),setTimeout(()=>this[_0x1a7913(0xb4)](),0x7d0),_0xf72240;}catch(_0x34ca35){throw this[_0x1a7913(0x2dd)][_0x1a7913(0x4e3)](this[_0x1a7913(0x381)]+'\x20('+this[_0x1a7913(0x633)][_0x1a7913(0x4c4)]+'):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20'+(_0x34ca35 instanceof Error?_0x34ca35['message']:JSON[_0x1a7913(0x455)](_0x34ca35,null,0x2))),new m(_0x1a7913(0x6d3)+_0x34ca35['message']);}}async['getAutomateSystem'](){const _0x16a558=a0_0x146a96;try{let _0x43bdcd=await this[_0x16a558(0x484)][_0x16a558(0xd6)][_0x16a558(0x215)](this['instance'][_0x16a558(0x4c4)]);return this[_0x16a558(0x10a)]=_0x43bdcd,this[_0x16a558(0x2dd)]['verbose'](this['instanceName']+'\x20('+this[_0x16a558(0x633)][_0x16a558(0x4c4)]+_0x16a558(0x685)),this[_0x16a558(0x2dd)]['verbose'](this['AutomateSystem']),_0x43bdcd;}catch(_0x4d0827){throw this[_0x16a558(0x2dd)]['error'](this[_0x16a558(0x381)]+'\x20('+this[_0x16a558(0x633)][_0x16a558(0x4c4)]+_0x16a558(0x2c1)+(_0x4d0827 instanceof Error?_0x4d0827[_0x16a558(0x404)]:JSON[_0x16a558(0x455)](_0x4d0827,null,0x2))),new m('Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+_0x4d0827['message']);}}async['setRestartTimer'](){const _0x4b508a=a0_0x146a96;this[_0x4b508a(0x223)]&&clearTimeout(this[_0x4b508a(0x223)]),this[_0x4b508a(0x223)]=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x146a96(0x279)](){const _0xb9b14c=a0_0x146a96;Date['now']()-this['lastSend']>=0x1d4c0&&(this['logger'][_0xb9b14c(0xb5)](this[_0xb9b14c(0x381)]+'\x20('+this[_0xb9b14c(0x633)][_0xb9b14c(0x4c4)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0xb9b14c(0x4e9)]=null,this[_0xb9b14c(0x173)]=0x0,this['delayMessage']=0x0,await this[_0xb9b14c(0xb4)]());}async['scheduleNextCheck'](){const _0x2e59ae=a0_0x146a96;let _0x576ea6=()=>{const _0x59dfd2=a0_0x96ea;this['logger']['verbose'](this[_0x59dfd2(0x381)]+'\x20('+this[_0x59dfd2(0x633)][_0x59dfd2(0x4c4)]+_0x59dfd2(0x600)+this[_0x59dfd2(0x4e9)]+_0x59dfd2(0x6a2));},_0x8e27c4=async()=>{const _0x3b9b16=a0_0x96ea;this['logger'][_0x3b9b16(0xb5)](this[_0x3b9b16(0x381)]+'\x20('+this['instance'][_0x3b9b16(0x4c4)]+_0x3b9b16(0x267));let _0x472a17=Date['now']()-0xc*0x3c*0x3c*0x3e8,_0xb74246={'where':{'status':{'$in':['scheduled',_0x3b9b16(0x16d)]},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x472a17}},{'when':0x0}]}};return await this[_0x3b9b16(0x484)]['scheduleMessage']['find'](_0xb74246,this['instance']['wuid']);},_0x13a483=async _0x7cbcab=>{const _0x24cb5e=a0_0x96ea;for(let _0x51cc1e of _0x7cbcab){let _0x5d93e1={'_id':_0x51cc1e[_0x24cb5e(0x517)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x24cb5e(0x116)]()-0x1770}}]},_0x126400={'startSend':Date[_0x24cb5e(0x116)]()};if(!await this[_0x24cb5e(0x484)]['scheduleMessage'][_0x24cb5e(0x5af)](_0x5d93e1,_0x126400,this[_0x24cb5e(0x633)][_0x24cb5e(0x4c4)]))return;if(!this[_0x24cb5e(0x41b)]){this[_0x24cb5e(0x2dd)]['verbose'](this[_0x24cb5e(0x381)]+'\x20('+this[_0x24cb5e(0x633)][_0x24cb5e(0x4c4)]+'):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected');break;}if(_0x51cc1e[_0x24cb5e(0x6a6)]===_0x24cb5e(0x481)&&!this[_0x24cb5e(0x10a)]?.[_0x24cb5e(0x49a)]['enabled']){this['logger'][_0x24cb5e(0x4e3)](this[_0x24cb5e(0x381)]+'\x20('+this['instance'][_0x24cb5e(0x4c4)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');continue;}(!_0x51cc1e[_0x24cb5e(0x243)]||_0x51cc1e['remoteJidsRemaining'][_0x24cb5e(0x29f)]===0x0)&&(_0x51cc1e=await this['repository']['scheduleMessage']['updateOneById'](_0x51cc1e['_id'],{'status':_0x24cb5e(0x16d),'remoteJidsRemaining':[..._0x51cc1e[_0x24cb5e(0x148)]]},this['instance'][_0x24cb5e(0x4c4)]));for(let _0x236498 of _0x51cc1e['remoteJidsRemaining']){if(await this['setRestartTimer'](),this[_0x24cb5e(0x173)]=Date[_0x24cb5e(0x116)](),_0x51cc1e[_0x24cb5e(0x3b4)]['some'](_0x22df77=>_0x22df77[_0x24cb5e(0x291)]===_0x236498)){this[_0x24cb5e(0x2dd)]['verbose'](this['instanceName']+'\x20('+this[_0x24cb5e(0x633)][_0x24cb5e(0x4c4)]+_0x24cb5e(0x64d)+_0x236498+'.\x20Pulando.');continue;}if(!this[_0x24cb5e(0x41b)]){this[_0x24cb5e(0x2dd)]['verbose'](this[_0x24cb5e(0x381)]+'\x20('+this[_0x24cb5e(0x633)][_0x24cb5e(0x4c4)]+_0x24cb5e(0x36a));break;}if(!this[_0x24cb5e(0x4e9)]){this[_0x24cb5e(0x2dd)][_0x24cb5e(0xb5)](this[_0x24cb5e(0x381)]+'\x20('+this[_0x24cb5e(0x633)][_0x24cb5e(0x4c4)]+_0x24cb5e(0x1c4)+_0x51cc1e[_0x24cb5e(0x517)]+_0x24cb5e(0x14e));break;}if(_0x51cc1e[_0x24cb5e(0x6a6)]===_0x24cb5e(0x481)&&!this[_0x24cb5e(0x10a)]?.[_0x24cb5e(0x49a)]['enabled']){this['logger'][_0x24cb5e(0x4e3)](this[_0x24cb5e(0x381)]+'\x20('+this[_0x24cb5e(0x633)][_0x24cb5e(0x4c4)]+_0x24cb5e(0x22c));break;}let _0x1222ca={'remoteJid':_0x236498,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x24cb5e(0x116)]()},_0x494491=null;try{let _0x258620=await this[_0x24cb5e(0x110)](_0x236498,_0x51cc1e);_0x1222ca[_0x24cb5e(0x4e3)]=_0x258620[_0x24cb5e(0x4e3)],_0x1222ca['id']=_0x258620[_0x24cb5e(0x4e3)]?null:_0x258620['id'],_0x1222ca['error_log']=_0x258620[_0x24cb5e(0x4e3)]?_0x258620[_0x24cb5e(0x324)]?_0x258620[_0x24cb5e(0x324)][_0x24cb5e(0xc6)]():'':null;let _0x4d7471={'$push':{'messagesSend':_0x1222ca},'$pull':{'remoteJidsRemaining':_0x236498}},_0x404c9a=_0x51cc1e[_0x24cb5e(0x517)];if(_0x494491=await this[_0x24cb5e(0x484)][_0x24cb5e(0x6cb)][_0x24cb5e(0x2d2)](_0x404c9a,_0x4d7471,this['instance'][_0x24cb5e(0x4c4)]),_0x258620[_0x24cb5e(0x4e3)])continue;let _0x11124b=this[_0x24cb5e(0xf7)](_0x51cc1e[_0x24cb5e(0x27b)],_0x51cc1e[_0x24cb5e(0x321)]);await this['sleep'](_0x11124b);}catch(_0x1f5662){this[_0x24cb5e(0x2dd)][_0x24cb5e(0x4e3)](this[_0x24cb5e(0x381)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20'+_0x236498+':\x20'+(_0x1f5662 instanceof Error?_0x1f5662[_0x24cb5e(0x404)]:JSON[_0x24cb5e(0x455)](_0x1f5662,null,0x2))),_0x1222ca[_0x24cb5e(0x4e3)]=!0x0,_0x1222ca[_0x24cb5e(0x1b2)]=_0x1f5662[_0x24cb5e(0x404)];let _0x2267af={'$push':{'messagesSend':_0x1222ca},'$pull':{'remoteJidsRemaining':_0x236498}},_0x46174d=_0x51cc1e[_0x24cb5e(0x517)];_0x494491=await this[_0x24cb5e(0x484)][_0x24cb5e(0x6cb)][_0x24cb5e(0x2d2)](_0x46174d,_0x2267af,this[_0x24cb5e(0x633)]['wuid']);}finally{if(_0x494491&&_0x494491[_0x24cb5e(0x419)]==='stopped'){this[_0x24cb5e(0x2dd)]['verbose'](this[_0x24cb5e(0x381)]+'\x20('+this['instance']['wuid']+_0x24cb5e(0x1c4)+_0x51cc1e[_0x24cb5e(0x517)]+_0x24cb5e(0x199));break;}}}let _0x4da849=await this['repository'][_0x24cb5e(0x6cb)][_0x24cb5e(0x389)](_0x51cc1e['_id'],this[_0x24cb5e(0x633)][_0x24cb5e(0x4c4)]);if(_0x4da849[_0x24cb5e(0x243)][_0x24cb5e(0x29f)]===0x0&&_0x4da849['status']!=='stopped'){let _0x2f3a33={'$set':{'status':_0x24cb5e(0x363)}},_0x32351d=_0x4da849[_0x24cb5e(0x517)];await this[_0x24cb5e(0x484)][_0x24cb5e(0x6cb)][_0x24cb5e(0x2d2)](_0x32351d,_0x2f3a33,this[_0x24cb5e(0x633)][_0x24cb5e(0x4c4)]);}await new Promise(_0x1ccd97=>setTimeout(_0x1ccd97,0x1388));}},_0x8c6deb=async()=>{const _0x403b77=a0_0x96ea;let _0x35dedd={'where':{'status':'scheduled','when':{'$gt':Date[_0x403b77(0x116)]()}}},_0x32234e=await this['repository'][_0x403b77(0x6cb)][_0x403b77(0x592)](_0x35dedd,this[_0x403b77(0x633)]['wuid']);_0x32234e&&_0x32234e[_0x403b77(0x2ed)]-Date[_0x403b77(0x116)]()<=0x5265c00?this[_0x403b77(0x2fa)]=_0x32234e[_0x403b77(0x2ed)]-Date[_0x403b77(0x116)]():this['delayMessage']=(0x3c+Math[_0x403b77(0x6af)](Math[_0x403b77(0x421)]()*0x3c))*0x3c*0x3e8,this[_0x403b77(0x2fa)]=Math[_0x403b77(0x43b)](this['delayMessage'],0x7d0);let _0x4ff6ec=Math[_0x403b77(0x447)](this['delayMessage']/0xea60);if(_0x32234e){let _0x60acce=new Date(_0x32234e[_0x403b77(0x2ed)])[_0x403b77(0x477)]();this['logger'][_0x403b77(0xb5)](this[_0x403b77(0x381)]+'\x20('+this[_0x403b77(0x633)][_0x403b77(0x4c4)]+_0x403b77(0x3ae)+_0x60acce+_0x403b77(0x410)+_0x4ff6ec+'\x20minutos');}else this[_0x403b77(0x2dd)][_0x403b77(0xb5)](this[_0x403b77(0x381)]+'\x20('+this['instance'][_0x403b77(0x4c4)]+_0x403b77(0x1f9)+_0x4ff6ec+'\x20minutos');setTimeout(()=>this[_0x403b77(0xb4)](),this[_0x403b77(0x2fa)]);};if(this[_0x2e59ae(0x4e9)]){await this[_0x2e59ae(0x3b5)](),_0x576ea6();return;}if(!this[_0x2e59ae(0x41b)]){this[_0x2e59ae(0x2dd)]['verbose'](this[_0x2e59ae(0x381)]+'\x20('+this['instance']['wuid']+_0x2e59ae(0x3f5)),this['processingScheduleMessageId']=null,this[_0x2e59ae(0x173)]=0x0,this['delayMessage']=0x0;return;}try{let _0x5cc6c1=await _0x8e27c4();_0x5cc6c1[_0x2e59ae(0x29f)]===0x0?this[_0x2e59ae(0x2dd)]['verbose'](this[_0x2e59ae(0x381)]+'\x20('+this[_0x2e59ae(0x633)][_0x2e59ae(0x4c4)]+'):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.'):(this['processingScheduleMessageId']=_0x5cc6c1[0x0][_0x2e59ae(0x517)],await _0x13a483(_0x5cc6c1)),await _0x8c6deb(),this[_0x2e59ae(0x4e9)]=null;}catch(_0x9e022b){this[_0x2e59ae(0x2dd)][_0x2e59ae(0x4e3)](_0x2e59ae(0x376)+(_0x9e022b instanceof Error?_0x9e022b[_0x2e59ae(0x404)]:JSON[_0x2e59ae(0x455)](_0x9e022b,null,0x2)));}}[a0_0x146a96(0xf7)](_0x13a9fc,_0x18b9f4){const _0xba2efc=a0_0x146a96;return _0x13a9fc=Math[_0xba2efc(0x43b)](0.5,_0x13a9fc),_0x18b9f4=Math[_0xba2efc(0x1d0)](Math['max'](0x3,_0x18b9f4),0x78),Math['floor'](Math['random']()*(_0x18b9f4-_0x13a9fc+0x1)+_0x13a9fc)*0x3e8;}[a0_0x146a96(0x3d5)](_0x3b2840){return new Promise(_0x957b36=>setTimeout(_0x957b36,_0x3b2840));}async['getVariablesChat'](_0x4e524c){const _0x321e05=a0_0x146a96;if(!this[_0x321e05(0x10a)]&&(await this[_0x321e05(0x134)](),!this[_0x321e05(0x10a)]))return null;_0x4e524c=this[_0x321e05(0x5fc)](_0x4e524c);let _0x4a6b8f=await this[_0x321e05(0x484)][_0x321e05(0x657)]['findOne']({'where':{'_id':_0x4e524c}},this[_0x321e05(0x633)][_0x321e05(0x4c4)]),_0xe2aff6={};if(_0x4a6b8f&&_0x4a6b8f['leadInfo']){let _0x3fedbe=_0x4a6b8f[_0x321e05(0x641)];typeof _0x3fedbe[_0x321e05(0x626)]==_0x321e05(0x246)&&(_0xe2aff6[_0x321e05(0x626)]=_0x3fedbe['nome']),typeof _0x3fedbe['nomecompleto']=='string'&&(_0xe2aff6[_0x321e05(0x33f)]=_0x3fedbe[_0x321e05(0x33f)]),typeof _0x3fedbe['email']==_0x321e05(0x246)&&(_0xe2aff6[_0x321e05(0x21e)]=_0x3fedbe['email']),typeof _0x3fedbe[_0x321e05(0x40b)]==_0x321e05(0x246)&&(_0xe2aff6['cpf']=_0x3fedbe[_0x321e05(0x40b)]),typeof _0x3fedbe[_0x321e05(0x419)]==_0x321e05(0x246)&&(_0xe2aff6[_0x321e05(0x419)]=_0x3fedbe[_0x321e05(0x419)]),typeof _0x3fedbe[_0x321e05(0x3d1)]==_0x321e05(0x246)&&(_0xe2aff6[_0x321e05(0x3d1)]=_0x3fedbe[_0x321e05(0x3d1)]),typeof _0x3fedbe[_0x321e05(0x2b3)]==_0x321e05(0x246)&&(_0xe2aff6['responsavelid']=_0x3fedbe['responsavelid']),Array[_0x321e05(0x604)](_0x3fedbe[_0x321e05(0x57e)])&&(_0xe2aff6['tags']=_0x3fedbe[_0x321e05(0x57e)][_0x321e05(0x695)](',\x20')),Array[_0x321e05(0x604)](_0x3fedbe[_0x321e05(0x274)])&&(_0xe2aff6[_0x321e05(0x274)]=_0x3fedbe[_0x321e05(0x274)][_0x321e05(0x695)](',\x20'));}return _0x4a6b8f&&_0x4a6b8f[_0x321e05(0x641)]&&_0x4a6b8f['leadInfo'][_0x321e05(0x400)]&&_0x4a6b8f[_0x321e05(0x641)][_0x321e05(0x400)][_0x321e05(0x304)](_0x5082f3=>{const _0xcf5f20=_0x321e05;let _0x51ab16=this[_0xcf5f20(0x10a)]?.[_0xcf5f20(0x400)][_0xcf5f20(0x54e)](_0x362a0b=>_0x362a0b['_id']===_0x5082f3['_id']);_0x51ab16&&(_0xe2aff6[_0x51ab16[_0xcf5f20(0x68a)]]=_0x5082f3[_0xcf5f20(0x1ce)]);}),_0xe2aff6;}async['replaceVariablesChat'](_0x32bbeb,_0x1ee7ae){const _0x422d00=a0_0x146a96;let _0x4c71ce=await this[_0x422d00(0x196)](_0x1ee7ae);return this[_0x422d00(0x462)](_0x32bbeb,_0x4c71ce);}async['editScheduleMessage'](_0x57db33){const _0x5b7b7d=a0_0x146a96;try{if(this[_0x5b7b7d(0x2dd)][_0x5b7b7d(0xb5)](this[_0x5b7b7d(0x381)]+'\x20('+this[_0x5b7b7d(0x633)][_0x5b7b7d(0x4c4)]+_0x5b7b7d(0x1fa)),_0x57db33[_0x5b7b7d(0x487)]&&_0x57db33['_id']){if(this[_0x5b7b7d(0x4e9)]===_0x57db33[_0x5b7b7d(0x517)][_0x5b7b7d(0xc6)]())throw new Error('Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar');let _0x292327=await this[_0x5b7b7d(0x484)][_0x5b7b7d(0x6cb)][_0x5b7b7d(0x3ba)](_0x57db33[_0x5b7b7d(0x517)],this[_0x5b7b7d(0x633)][_0x5b7b7d(0x4c4)]);return setTimeout(()=>this[_0x5b7b7d(0xb4)](),0x7d0),_0x292327;}let _0xfb43fd;if(_0x57db33['_id']&&(_0xfb43fd=await this[_0x5b7b7d(0x484)]['scheduleMessage']['findById'](_0x57db33[_0x5b7b7d(0x517)],this[_0x5b7b7d(0x633)][_0x5b7b7d(0x4c4)])),_0xfb43fd){let _0x3f1ebe;if(this[_0x5b7b7d(0x4e9)]===_0xfb43fd[_0x5b7b7d(0x517)][_0x5b7b7d(0xc6)]())_0x3f1ebe={'$set':{'status':_0x57db33[_0x5b7b7d(0x419)]}};else{let {_id:_0x57fd6e,..._0x2262d9}=_0x57db33;_0x3f1ebe={'$set':_0x2262d9};}let _0x456f11=await this[_0x5b7b7d(0x484)][_0x5b7b7d(0x6cb)]['updateOneById'](_0x57db33[_0x5b7b7d(0x517)],_0x3f1ebe,this['instance'][_0x5b7b7d(0x4c4)]);return setTimeout(()=>this[_0x5b7b7d(0xb4)](),0x7d0),_0x456f11;}else{_0x57db33[_0x5b7b7d(0x52b)]=this[_0x5b7b7d(0x633)]['wuid'];let _0x389ae1=await this[_0x5b7b7d(0x484)][_0x5b7b7d(0x6cb)][_0x5b7b7d(0x514)](_0x57db33,this[_0x5b7b7d(0x633)]['wuid']);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x389ae1;}}catch(_0x57a821){throw this['logger'][_0x5b7b7d(0x4e3)](this[_0x5b7b7d(0x381)]+'\x20('+this['instance'][_0x5b7b7d(0x4c4)]+'):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20'+(_0x57a821 instanceof Error?_0x57a821[_0x5b7b7d(0x404)]:JSON[_0x5b7b7d(0x455)](_0x57a821,null,0x2))),new m(_0x5b7b7d(0x13a)+_0x57a821[_0x5b7b7d(0x404)]);}}async[a0_0x146a96(0x2f0)](){const _0x3f398f=a0_0x146a96;try{return await this[_0x3f398f(0x484)][_0x3f398f(0x6cb)][_0x3f398f(0x54e)]({'where':{}},this[_0x3f398f(0x633)]['wuid']);}catch(_0x4e0b47){throw this[_0x3f398f(0x2dd)]['error'](this[_0x3f398f(0x381)]+'\x20('+this[_0x3f398f(0x633)][_0x3f398f(0x4c4)]+_0x3f398f(0x341)+(_0x4e0b47 instanceof Error?_0x4e0b47[_0x3f398f(0x404)]:JSON[_0x3f398f(0x455)](_0x4e0b47,null,0x2))),new m(_0x3f398f(0x13a)+_0x4e0b47[_0x3f398f(0x404)]);}}async['deleteDoneMessages'](){const _0x46667f=a0_0x146a96;try{let _0x11cebd={'status':_0x46667f(0x363)},_0x41d81a=await this[_0x46667f(0x484)]['scheduleMessage'][_0x46667f(0x692)](_0x11cebd,this[_0x46667f(0x633)]['wuid']);if(!_0x41d81a[_0x46667f(0x4e3)])this[_0x46667f(0x2dd)][_0x46667f(0xb5)](this['instanceName']+'\x20('+this[_0x46667f(0x633)]['wuid']+_0x46667f(0x3f4));else throw new Error(_0x41d81a[_0x46667f(0x4e3)]['message']||_0x46667f(0x36e));return this[_0x46667f(0x2f0)]();}catch(_0x57a675){throw this[_0x46667f(0x2dd)]['error'](this[_0x46667f(0x381)]+'\x20('+this['instance']['wuid']+_0x46667f(0x636)+(_0x57a675 instanceof Error?_0x57a675[_0x46667f(0x404)]:JSON[_0x46667f(0x455)](_0x57a675,null,0x2))),new m('Erro:'+_0x57a675[_0x46667f(0x404)]);}}async['SendScheduleMessage'](_0x14797b,_0x5c2ebf){const _0x4e9ef2=a0_0x146a96;try{if(_0x5c2ebf['type']===_0x4e9ef2(0x481)&&!this[_0x4e9ef2(0x10a)]?.[_0x4e9ef2(0x49a)][_0x4e9ef2(0x39f)])return this[_0x4e9ef2(0x2dd)][_0x4e9ef2(0x4e3)](this[_0x4e9ef2(0x381)]+'\x20('+this[_0x4e9ef2(0x633)][_0x4e9ef2(0x4c4)]+_0x4e9ef2(0x24f)),{'error':!0x0,'detail':_0x4e9ef2(0x3d8)};switch(_0x5c2ebf[_0x4e9ef2(0x6a6)]){case _0x4e9ef2(0x501):return await this['scheduleSendText'](_0x5c2ebf,_0x14797b);case _0x4e9ef2(0xf3):return await this[_0x4e9ef2(0x536)](_0x5c2ebf,_0x14797b);case _0x4e9ef2(0x5e3):return await this[_0x4e9ef2(0x522)](_0x5c2ebf,_0x14797b);case'flow':let _0x139dea=new _e();return _0x139dea['name']=_0x5c2ebf[_0x4e9ef2(0x66c)],_0x139dea[_0x4e9ef2(0x291)]=_0x14797b,await this[_0x4e9ef2(0x6a5)](_0x139dea);break;default:return this[_0x4e9ef2(0x2dd)][_0x4e9ef2(0x4e3)](this[_0x4e9ef2(0x381)]+'\x20('+this[_0x4e9ef2(0x633)][_0x4e9ef2(0x4c4)]+_0x4e9ef2(0x42c)+_0x5c2ebf['type']),{'error':!0x0,'detail':_0x4e9ef2(0x454)};}}catch(_0x29160a){return this['logger']['error'](this['instanceName']+'\x20('+this[_0x4e9ef2(0x633)][_0x4e9ef2(0x4c4)]+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x29160a instanceof Error?_0x29160a[_0x4e9ef2(0x404)]:JSON['stringify'](_0x29160a,null,0x2))),{'error':!0x0,'detail':_0x29160a['message']};}}[a0_0x146a96(0x5c0)](_0x53b36b){const _0x1bab32=a0_0x146a96;let _0x486aea=_0x53b36b['split']('|'),_0x43605c=Math['floor'](Math[_0x1bab32(0x421)]()*_0x486aea[_0x1bab32(0x29f)]);return _0x486aea[_0x43605c][_0x1bab32(0x546)]();}async[a0_0x146a96(0x31f)](_0x492e33,_0x38806c){const _0x19b9c0=a0_0x146a96;if(this['logger'][_0x19b9c0(0xb5)](this[_0x19b9c0(0x381)]+'\x20('+this[_0x19b9c0(0x633)][_0x19b9c0(0x4c4)]+_0x19b9c0(0x15c)),!_0x492e33['message'][_0x19b9c0(0x501)]||_0x492e33[_0x19b9c0(0x404)][_0x19b9c0(0x501)]['length']===0x0)return{'error':!0x0,'detail':_0x19b9c0(0x50c)};let _0x2a7cf7=this[_0x19b9c0(0x5c0)](_0x492e33['message']['text']),_0x3f2156=await this[_0x19b9c0(0x3a6)](_0x2a7cf7,_0x38806c),_0x3aa92b={'number':_0x38806c,'options':{'delay':_0x492e33[_0x19b9c0(0x404)][_0x19b9c0(0x15d)]},'textMessage':{'text':_0x3f2156}},_0x5c9464=null;try{let _0x1d3606=await this[_0x19b9c0(0x144)](_0x3aa92b);if(_0x1d3606&&_0x1d3606['status'])return{'error':!0x1,'id':_0x1d3606['key']['id']};_0x5c9464=JSON['stringify'](_0x1d3606),this['logger'][_0x19b9c0(0xb5)](this[_0x19b9c0(0x381)]+'\x20('+this[_0x19b9c0(0x633)][_0x19b9c0(0x4c4)]+_0x19b9c0(0x43f)+_0x5c9464);}catch(_0x2016b9){this[_0x19b9c0(0x2dd)]['error'](this[_0x19b9c0(0x381)]+'\x20('+this['instance'][_0x19b9c0(0x4c4)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x2016b9 instanceof Error?_0x2016b9[_0x19b9c0(0x404)]:JSON[_0x19b9c0(0x455)](_0x2016b9,null,0x2))),_0x5c9464=_0x2016b9[_0x19b9c0(0x404)];}if(_0x5c9464)return{'error':!0x0,'detail':(typeof _0x5c9464==_0x19b9c0(0x5e9)?JSON[_0x19b9c0(0x455)](_0x5c9464,null,0x2):_0x5c9464)[_0x19b9c0(0x3c8)](/[\[\]{}\n]/g,'\x20')[_0x19b9c0(0x3c8)](/  +/g,'\x20')};}async[a0_0x146a96(0x536)](_0x3fce61,_0x921c42){const _0x2489bc=a0_0x146a96;this[_0x2489bc(0x2dd)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x2489bc(0x4c4)]+_0x2489bc(0x27e));let _0x5b20c8;if(_0x3fce61[_0x2489bc(0x404)][_0x2489bc(0x501)]&&_0x3fce61[_0x2489bc(0x404)][_0x2489bc(0x501)][_0x2489bc(0x29f)]>0x0){let _0x4dd7f7=this[_0x2489bc(0x5c0)](_0x3fce61[_0x2489bc(0x404)][_0x2489bc(0x501)]);_0x5b20c8=await this['replaceVariablesChat'](_0x4dd7f7,_0x921c42);}let _0xd6c802={'number':_0x921c42,'options':{'delay':_0x3fce61[_0x2489bc(0x404)]['delay']},'mediaMessage':{'mediatype':_0x3fce61[_0x2489bc(0x404)][_0x2489bc(0x3e9)],'caption':_0x5b20c8,'media':_0x3fce61[_0x2489bc(0x404)]['urlOrBase64']}},_0x3b928d=null;try{let _0x8ada5a=await this[_0x2489bc(0x66d)](_0xd6c802);if(_0x8ada5a&&_0x8ada5a[_0x2489bc(0x419)])return{'error':!0x1,'id':_0x8ada5a[_0x2489bc(0xce)]['id']};_0x3b928d=JSON[_0x2489bc(0x455)](_0x8ada5a),this[_0x2489bc(0x2dd)][_0x2489bc(0xb5)](this[_0x2489bc(0x381)]+'\x20('+this[_0x2489bc(0x633)][_0x2489bc(0x4c4)]+_0x2489bc(0x43f)+_0x3b928d);}catch(_0x16610e){this['logger'][_0x2489bc(0x4e3)](this[_0x2489bc(0x381)]+'\x20('+this[_0x2489bc(0x633)]['wuid']+_0x2489bc(0x698)+(_0x16610e instanceof Error?_0x16610e['message']:JSON[_0x2489bc(0x455)](_0x16610e,null,0x2))),_0x3b928d=_0x16610e[_0x2489bc(0x404)];}if(_0x3b928d)return{'error':!0x0,'detail':(typeof _0x3b928d=='object'?JSON['stringify'](_0x3b928d,null,0x2):_0x3b928d)['replace'](/[\[\]{}\n]/g,'\x20')[_0x2489bc(0x3c8)](/  +/g,'\x20')};}async[a0_0x146a96(0x522)](_0x116db3,_0x3a3c30){const _0x1d8c3e=a0_0x146a96;this[_0x1d8c3e(0x2dd)][_0x1d8c3e(0xb5)](this[_0x1d8c3e(0x381)]+'\x20('+this[_0x1d8c3e(0x633)][_0x1d8c3e(0x4c4)]+_0x1d8c3e(0x30a));let _0x1a8e3f={'number':_0x3a3c30,'options':{'delay':_0x116db3[_0x1d8c3e(0x404)][_0x1d8c3e(0x15d)]},'audioMessage':{'audio':_0x116db3[_0x1d8c3e(0x404)]['urlOrBase64']}},_0x4c0cca=null;try{let _0x54d851=await this[_0x1d8c3e(0x532)](_0x1a8e3f);if(_0x54d851&&_0x54d851[_0x1d8c3e(0x419)])return{'error':!0x1,'id':_0x54d851[_0x1d8c3e(0xce)]['id']};_0x4c0cca=JSON['stringify'](_0x54d851),this[_0x1d8c3e(0x2dd)]['verbose'](this[_0x1d8c3e(0x381)]+'\x20('+this[_0x1d8c3e(0x633)][_0x1d8c3e(0x4c4)]+_0x1d8c3e(0x43f)+_0x4c0cca);}catch(_0x1d24d9){this['logger'][_0x1d8c3e(0x4e3)](this[_0x1d8c3e(0x381)]+'\x20('+this['instance']['wuid']+_0x1d8c3e(0x489)+(_0x1d24d9 instanceof Error?_0x1d24d9[_0x1d8c3e(0x404)]:JSON[_0x1d8c3e(0x455)](_0x1d24d9,null,0x2))),_0x4c0cca=_0x1d24d9['message'];}if(_0x4c0cca)return{'error':!0x0,'detail':(typeof _0x4c0cca==_0x1d8c3e(0x5e9)?JSON['stringify'](_0x4c0cca,null,0x2):_0x4c0cca)[_0x1d8c3e(0x3c8)](/[\[\]{}\n]/g,'\x20')[_0x1d8c3e(0x3c8)](/  +/g,'\x20')};}},Pt=class c{constructor(_0x2c4484,_0x53f1ca,_0x18269c){const _0x5e0938=a0_0x146a96;this['eventEmitter']=_0x2c4484,this[_0x5e0938(0x598)]=_0x53f1ca,this['repository']=_0x18269c,this['db']={},this[_0x5e0938(0x1c1)]={},this[_0x5e0938(0x2dd)]=new v(c[_0x5e0938(0x68a)]),this[_0x5e0938(0x45e)]={},(this[_0x5e0938(0x101)](),this['noConnection'](),Object[_0x5e0938(0x66b)](this['db'],_0x53f1ca[_0x5e0938(0x3b3)](_0x5e0938(0x56f))),Object['assign'](this['redis'],_0x53f1ca[_0x5e0938(0x3b3)](_0x5e0938(0xb8))),this[_0x5e0938(0x138)]=this['db']['ENABLED']?this[_0x5e0938(0x484)][_0x5e0938(0x2e4)]?.['db'](this['db'][_0x5e0938(0x438)][_0x5e0938(0x156)]+_0x5e0938(0x202)):void 0x0,this[_0x5e0938(0x121)]=this[_0x5e0938(0x1c1)][_0x5e0938(0x6d)]?new oe(this[_0x5e0938(0x1c1)]):void 0x0);}async[a0_0x146a96(0x1ca)](_0x298b79){const _0x2c21e7=a0_0x146a96;if(_0x298b79&&!this['waInstances'][_0x298b79])throw new j(_0x2c21e7(0x22d)+_0x298b79+_0x2c21e7(0x3c9));let _0x14a10a=[];for await(let [_0x9a76fa,_0x1a9a0b]of Object['entries'](this['waInstances']))if(_0x1a9a0b&&_0x1a9a0b[_0x2c21e7(0x539)][_0x2c21e7(0x40f)]===_0x2c21e7(0x1ac)){let _0x486203=await this['repository'][_0x2c21e7(0x534)][_0x2c21e7(0x54e)](_0x9a76fa);_0x14a10a[_0x2c21e7(0x260)]({'instance':{'instanceName':_0x9a76fa,'apikey':_0x486203[_0x2c21e7(0x2d4)],'owner':_0x1a9a0b['wuid'],'profileName':await _0x1a9a0b['getProfileName']()||'not\x20loaded','profilePictureUrl':_0x1a9a0b[_0x2c21e7(0x4ca)]}});}return _0x14a10a[_0x2c21e7(0x54e)](_0x2f6c74=>_0x2f6c74[_0x2c21e7(0x633)][_0x2c21e7(0x381)]===_0x298b79)??_0x14a10a;}async[a0_0x146a96(0xcd)](_0x190165){const _0x4b967e=a0_0x146a96;if(this['db'][_0x4b967e(0x6d)]&&(await this['repository'][_0x4b967e(0x2e4)][_0x4b967e(0x4da)](),(await this[_0x4b967e(0x138)][_0x4b967e(0x583)]())[_0x4b967e(0x29f)]>0x0&&await this['dbInstance'][_0x4b967e(0x5ed)](_0x190165)),this['redis']['ENABLED']){this[_0x4b967e(0x121)]['reference']=_0x190165,await this[_0x4b967e(0x121)][_0x4b967e(0x3dc)]();return;}}async[a0_0x146a96(0x35b)](){const _0x5c8787=a0_0x146a96;await this[_0x5c8787(0x37a)]();let _0x31f19a=async _0x1605b1=>{const _0x483a7e=_0x5c8787;let _0x235f2b=new ye(this[_0x483a7e(0x598)],this['eventEmitter'],this['repository']);_0x235f2b[_0x483a7e(0x381)]=_0x1605b1,await _0x235f2b[_0x483a7e(0x664)](),this[_0x483a7e(0x45e)][_0x1605b1]=_0x235f2b;};try{if(this['redis']['ENABLED']){let _0x5e0178=await this[_0x5c8787(0x121)][_0x5c8787(0x216)]();_0x5e0178?.[_0x5c8787(0x29f)]>0x0&&_0x5e0178[_0x5c8787(0x304)](async _0x3686ab=>await _0x31f19a(_0x3686ab[_0x5c8787(0x5d7)](':')[0x1]));return;}if(this['db'][_0x5c8787(0x6d)]){await this[_0x5c8787(0x484)][_0x5c8787(0x2e4)][_0x5c8787(0x4da)]();let _0x5ce0e4=await this[_0x5c8787(0x138)]['collections']();_0x5ce0e4[_0x5c8787(0x29f)]>0x0&&_0x5ce0e4[_0x5c8787(0x304)](async _0x23536b=>await _0x31f19a(_0x23536b['namespace'][_0x5c8787(0x3c8)](/^[\w-]+\./,'')));return;}}catch(_0x4fbd6e){this[_0x5c8787(0x2dd)][_0x5c8787(0x4e3)](_0x4fbd6e);}}async[a0_0x146a96(0x4e5)](){const _0x4ea1f6=a0_0x146a96;let _0x4dcf24=await this[_0x4ea1f6(0x484)]['auth']['findAll'](),_0x44defb=_0x4dcf24[_0x4ea1f6(0x61b)](_0x5474c6=>!this[_0x4ea1f6(0x45e)][_0x5474c6['_id']]&&(_0x5474c6[_0x4ea1f6(0x465)]||typeof _0x5474c6[_0x4ea1f6(0x465)]>'u'));_0x44defb[_0x4ea1f6(0x29f)]>0x0&&await Promise[_0x4ea1f6(0x491)](_0x44defb['map'](async _0xe95760=>{const _0xe5a5c7=_0x4ea1f6;let _0x240f1f={'online':!0x1,'lastDisconnect':Date[_0xe5a5c7(0x116)]()};await this['repository'][_0xe5a5c7(0x534)]['create'](_0x240f1f,_0xe95760['_id']);}));let _0x36fcba=Date[_0x4ea1f6(0x116)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x43bc40=_0x4dcf24[_0x4ea1f6(0x61b)](_0x43b1ce=>!this[_0x4ea1f6(0x45e)][_0x43b1ce[_0x4ea1f6(0x517)]]&&typeof _0x43b1ce[_0x4ea1f6(0x5b2)]<'u'&&_0x43b1ce['lastDisconnect']<_0x36fcba);_0x43bc40['length']>0x0&&await Promise[_0x4ea1f6(0x491)](_0x43bc40[_0x4ea1f6(0x684)](async _0x4f9213=>{}));}async[a0_0x146a96(0x37a)](){const _0x3904a9=a0_0x146a96;try{let _0x49f9d9={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x5cbbd9={'online':!0x1,'lastDisconnect':Date[_0x3904a9(0x116)]()},_0x3b3c96=await this[_0x3904a9(0x484)][_0x3904a9(0x534)]['updateAll'](_0x49f9d9,_0x5cbbd9);console['log']('Instâncias\x20atualizadas\x20como\x20desconectadas:\x20'+_0x3b3c96[_0x3904a9(0x355)]),await this[_0x3904a9(0x439)]();}catch(_0x2ae12e){console[_0x3904a9(0x4e3)](_0x3904a9(0x618),_0x2ae12e);}}async[a0_0x146a96(0x439)](){const _0x384c10=a0_0x146a96;try{let _0x2a109a={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x39d63e=await this[_0x384c10(0x484)][_0x384c10(0x534)]['deleteMany'](_0x2a109a);console[_0x384c10(0x48e)]('Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20'+_0x39d63e[_0x384c10(0x355)]);}catch(_0x5eb39b){console[_0x384c10(0x4e3)]('Erro\x20ao\x20remover\x20instâncias\x20antigas:',_0x5eb39b);}}['removeInstance'](){const _0x5a6bb2=a0_0x146a96;this[_0x5a6bb2(0x632)]['on']('remove.instance',async _0x3185af=>{const _0x5f2fd9=_0x5a6bb2;try{this[_0x5f2fd9(0x45e)][_0x3185af]=void 0x0;}catch{}try{this[_0x5f2fd9(0xcd)](_0x3185af);}finally{this[_0x5f2fd9(0x2dd)][_0x5f2fd9(0x67b)](_0x5f2fd9(0x22d)+_0x3185af+_0x5f2fd9(0x4b5));}});}[a0_0x146a96(0x492)](){const _0x1ae805=a0_0x146a96;this[_0x1ae805(0x632)]['on']('no.connection',async _0x3a9ff8=>{const _0x3bf491=_0x1ae805;try{this[_0x3bf491(0x45e)][_0x3a9ff8]=void 0x0;}catch{}try{this['cleaningUp'](_0x3a9ff8);}finally{this[_0x3bf491(0x2dd)][_0x3bf491(0x67b)](_0x3bf491(0x22d)+_0x3a9ff8+'\x22\x20-\x20NOT\x20CONNECTION');}});}},$t=class extends I{[a0_0x146a96(0x615)](_0x277438){return Us(_0x277438);}async[a0_0x146a96(0x334)](_0x256909){const _0x120e9a=a0_0x146a96;if(_0x256909['length']!==0x0)try{return{'insertCount':(await this[_0x120e9a(0x615)](_0x256909[0x0][_0x120e9a(0x52b)])['insertMany']([..._0x256909]))[_0x120e9a(0x29f)]};}catch(_0x560a11){return _0x560a11;}}async[a0_0x146a96(0x54e)](_0x25e6ab,_0xf1867e){const _0x1590f3=a0_0x146a96;try{let _0x1ebb15=this[_0x1590f3(0x615)](_0xf1867e),_0x540563=A(_0x25e6ab[_0x1590f3(0x559)]);return await _0x1ebb15[_0x1590f3(0x54e)](_0x540563)[_0x1590f3(0x193)]({'lastmsg':-0x1})[_0x1590f3(0x113)](_0x25e6ab?.['limit']??0x0)[_0x1590f3(0x8c)]();}catch{return[];}}async[a0_0x146a96(0x377)](_0x43e233,_0x5a70e0){const _0x5621f1=a0_0x146a96;try{return await this['getChatModelForOwner'](_0x5a70e0)[_0x5621f1(0x692)]({..._0x43e233['where']}),[];}catch(_0x11433b){return{'error':_0x11433b?.[_0x5621f1(0xc6)]()};}}async[a0_0x146a96(0x592)](_0x53e10c,_0x5b9597){const _0x1bdd8a=a0_0x146a96;try{let _0x1a5fcd=this[_0x1bdd8a(0x615)](_0x5b9597),_0x37f952=A(_0x53e10c[_0x1bdd8a(0x559)]);return await _0x1a5fcd[_0x1bdd8a(0x592)](_0x37f952)['lean']();}catch{return null;}}async[a0_0x146a96(0x5af)](_0x47ea40,_0x5ae0c6,_0x4813f6,_0x5a4779,_0x5190b3='$set'){const _0x243311=a0_0x146a96;try{let _0x36f5db={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x5a4779},_0x5846cc=this['getChatModelForOwner'](_0x4813f6),_0x359e06=A(_0x47ea40[_0x243311(0x559)]);Object[_0x243311(0x379)](_0x5ae0c6)[_0x243311(0x304)](_0x57000c=>{_0x5ae0c6[_0x57000c]==null&&delete _0x5ae0c6[_0x57000c];});let _0x201b8d={};return _0x201b8d[_0x5190b3]=_0x5ae0c6,await _0x5846cc[_0x243311(0x2f2)](_0x359e06,_0x201b8d,_0x36f5db);}catch(_0x309077){return console[_0x243311(0x4e3)](_0x309077),null;}}async[a0_0x146a96(0x386)](_0x920f3d){const _0x326849=a0_0x146a96;try{let _0x397168=this[_0x326849(0x615)](_0x920f3d[0x0][_0x326849(0x482)][_0x326849(0x559)][_0x326849(0x52b)]),_0x54bf46=_0x920f3d['map'](_0xf88a47=>({'updateOne':{'filter':{..._0xf88a47[_0x326849(0x482)]['where']},'update':{'$set':_0xf88a47[_0x326849(0x11a)]},'upsert':!0x0}})),_0x4348ab=await _0x397168['bulkWrite'](_0x54bf46);return _0x4348ab[_0x326849(0x26f)]+_0x4348ab['upsertedCount'];}catch(_0x166bb0){return console['error'](_0x166bb0),0x0;}}async['updateMissingLabels'](_0x168a2d){const _0x30576b=a0_0x146a96;try{let _0x19b899=this[_0x30576b(0x615)](_0x168a2d),_0x49cbc5={'labels':{'$exists':!0x0}},_0x3269ce={'$unset':{'labels':''}};return(await _0x19b899[_0x30576b(0x386)](_0x49cbc5,_0x3269ce))['modifiedCount'];}catch(_0x54f26d){return console[_0x30576b(0x4e3)](_0x54f26d),0x0;}}async[a0_0x146a96(0x59c)](_0x3dbffd){const _0x3bd85f=a0_0x146a96;try{let _0xdd94c5=this['getChatModelForOwner'](_0x3dbffd),_0x4de410={'leadInfo.etiquetas':{'$exists':!0x1}},_0x28bef0={'$set':{'leadInfo.etiquetas':[]}};return(await _0xdd94c5[_0x3bd85f(0x386)](_0x4de410,_0x28bef0))['modifiedCount'];}catch(_0x40013c){return console[_0x3bd85f(0x4e3)](_0x40013c),0x0;}}async[a0_0x146a96(0x3bd)](_0x5d0dbb){const _0x5105ae=a0_0x146a96;try{let _0xcc4bef=this['getChatModelForOwner'](_0x5d0dbb),_0x3990a4={'leadInfo.tags':{'$exists':!0x1}},_0x116c84={'$set':{'leadInfo.tags':[]}};return(await _0xcc4bef[_0x5105ae(0x386)](_0x3990a4,_0x116c84))[_0x5105ae(0x26f)];}catch(_0x3d2bd2){return console[_0x5105ae(0x4e3)](_0x3d2bd2),0x0;}}async[a0_0x146a96(0x643)](_0x545930){const _0x25d172=a0_0x146a96;try{let _0x32c7d0=this[_0x25d172(0x615)](_0x545930),_0x858332={'leadInfo.customFields':{'$exists':!0x1}},_0x58bdc3={'$set':{'leadInfo.customFields':[]}};return(await _0x32c7d0[_0x25d172(0x386)](_0x858332,_0x58bdc3))['modifiedCount'];}catch(_0x2e900a){return console[_0x25d172(0x4e3)](_0x2e900a),0x0;}}async['insertMany'](_0x1e949b,_0xca8846){const _0x597303=a0_0x146a96;if(!Array['isArray'](_0x1e949b)||_0x1e949b[_0x597303(0x29f)]===0x0)throw new Error(_0x597303(0x3f7));try{return(await this[_0x597303(0x615)](_0xca8846)[_0x597303(0x31d)](_0x1e949b))[_0x597303(0x29f)];}catch(_0x5849ce){throw console[_0x597303(0x4e3)](_0x597303(0x3eb),_0x5849ce),_0x5849ce;}}async[a0_0x146a96(0x581)](_0x52a527,_0x5a09c5){const _0x1f6639=a0_0x146a96;try{await this[_0x1f6639(0x615)](_0x5a09c5)[_0x1f6639(0x3ba)]({'_id':_0x52a527});}catch(_0x24949d){throw console[_0x1f6639(0x4e3)]('Erro\x20ao\x20deletar\x20chat:',_0x24949d),_0x24949d;}}},kt=class extends I{[a0_0x146a96(0x460)](_0x19422a){return ua(_0x19422a);}async[a0_0x146a96(0x5af)](_0x214be5,_0x45434f,_0xe53480,_0x31bbeb){const _0x2b2f08=a0_0x146a96;try{let _0x121a4f={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x31bbeb},_0x8c3d9a=this[_0x2b2f08(0x460)](_0xe53480),_0x5b574e=A(_0x214be5[_0x2b2f08(0x559)]);return await _0x8c3d9a[_0x2b2f08(0x2f2)](_0x5b574e,{'$set':_0x45434f},_0x121a4f);}catch(_0x239b4f){return console[_0x2b2f08(0x4e3)](_0x239b4f),null;}}async[a0_0x146a96(0x54e)](_0x320393,_0x503235){const _0x208020=a0_0x146a96;try{let _0x4128bf=this[_0x208020(0x460)](_0x503235),_0x365ed9=A(_0x320393[_0x208020(0x559)]);return await _0x4128bf['find'](_0x365ed9);}catch(_0x4500ad){console[_0x208020(0x4e3)](_0x4500ad);}}async[a0_0x146a96(0x487)](_0x155981,_0x3bb61f){const _0x2e0ccf=a0_0x146a96;try{let _0x277cea=this[_0x2e0ccf(0x460)](_0x3bb61f),_0x5478ea=A(_0x155981[_0x2e0ccf(0x559)]);await _0x277cea[_0x2e0ccf(0x692)](_0x5478ea);}catch(_0xb1ddb0){console[_0x2e0ccf(0x4e3)](_0xb1ddb0);}}async[a0_0x146a96(0x377)](_0x407310){const _0x50f25a=a0_0x146a96;try{return await this['getLabelModelForOwner'](_0x407310)['collection'][_0x50f25a(0x7e)](),{'success':!0x0};}catch(_0x57a5b6){return console[_0x50f25a(0x4e3)](_0x57a5b6),{'success':!0x1,'error':_0x57a5b6};}}},Lt=class{constructor(_0x14dfb3){this['waMonitor']=_0x14dfb3;}async[a0_0x146a96(0x668)]({instanceName:_0x3d527e},_0x55c01d){const _0x432872=a0_0x146a96;return await this[_0x432872(0x29e)][_0x432872(0x45e)][_0x3d527e]['editChat'](_0x55c01d);}async[a0_0x146a96(0x371)]({instanceName:_0x1fe3c4},_0x3c3766){const _0x4a0e68=a0_0x146a96;return await this[_0x4a0e68(0x29e)][_0x4a0e68(0x45e)][_0x1fe3c4]['whatsappNumber'](_0x3c3766);}async[a0_0x146a96(0x213)]({instanceName:_0x24d22a},_0x97597e){const _0x31fd0e=a0_0x146a96;return await this[_0x31fd0e(0x29e)]['waInstances'][_0x24d22a][_0x31fd0e(0x213)](_0x97597e);}async[a0_0x146a96(0x5bf)]({instanceName:_0xa9e956},_0x33d219){const _0x596b39=a0_0x146a96;return await this['waMonitor']['waInstances'][_0xa9e956][_0x596b39(0x659)](_0x33d219);}async[a0_0x146a96(0x15e)]({instanceName:_0x481696},_0x176f39){const _0x370a1d=a0_0x146a96;return await this['waMonitor'][_0x370a1d(0x45e)][_0x481696][_0x370a1d(0x15e)](_0x176f39);}async[a0_0x146a96(0x12d)]({instanceName:_0x3f62b8},_0x2e4c73){const _0x5dfcdb=a0_0x146a96;return await this[_0x5dfcdb(0x29e)][_0x5dfcdb(0x45e)][_0x3f62b8][_0x5dfcdb(0x12d)](_0x2e4c73);}async['fetchProfilePicture']({instanceName:_0x2a3eaa},_0x4e9060){const _0x5790e4=a0_0x146a96;return await this[_0x5790e4(0x29e)][_0x5790e4(0x45e)][_0x2a3eaa]['profilePicture'](_0x4e9060[_0x5790e4(0x4d2)]);}async[a0_0x146a96(0x333)]({instanceName:_0x3f20eb},_0x216edf){const _0x199594=a0_0x146a96;return await this['waMonitor'][_0x199594(0x45e)][_0x3f20eb]['fetchProfile'](_0x216edf[_0x199594(0x4d2)]);}async[a0_0x146a96(0x2f9)]({instanceName:_0x13b5ab},_0x56ef63){const _0x5f116b=a0_0x146a96;return await this[_0x5f116b(0x29e)][_0x5f116b(0x45e)][_0x13b5ab][_0x5f116b(0x2f9)](_0x56ef63);}async['fetchContacts']({instanceName:_0x5866b0},_0x58e4c3){const _0x519262=a0_0x146a96;return await this['waMonitor'][_0x519262(0x45e)][_0x5866b0][_0x519262(0x65f)](_0x58e4c3);}async['getBase64FromMediaMessage']({instanceName:_0xaf7c1c},_0x436fa5){const _0x5e3a82=a0_0x146a96;return await this['waMonitor'][_0x5e3a82(0x45e)][_0xaf7c1c]['getBase64FromMediaMessage'](_0x436fa5);}async[a0_0x146a96(0x611)]({instanceName:_0xaf0726},_0x3f5de6){const _0x3bd254=a0_0x146a96;return await this['waMonitor']['waInstances'][_0xaf0726][_0x3bd254(0x611)](_0x3f5de6);}async[a0_0x146a96(0x81)]({instanceName:_0x455d27}){const _0x1355ac=a0_0x146a96;return await this['waMonitor']['waInstances'][_0x455d27][_0x1355ac(0x81)]();}async[a0_0x146a96(0x35c)]({instanceName:_0x1f01be}){return await this['waMonitor']['waInstances'][_0x1f01be]['fetchChats']();}async[a0_0x146a96(0x424)]({instanceName:_0x3b6f31}){const _0x43fcec=a0_0x146a96;return await this[_0x43fcec(0x29e)][_0x43fcec(0x45e)][_0x3b6f31][_0x43fcec(0x424)]();}async[a0_0x146a96(0x5cd)]({instanceName:_0x4af978},_0x6fcd60){const _0x5ce012=a0_0x146a96;return await this[_0x5ce012(0x29e)]['waInstances'][_0x4af978][_0x5ce012(0x5cd)](_0x6fcd60);}async[a0_0x146a96(0x2a2)]({instanceName:_0x2fa8ea},_0x35c72a){const _0x43cc35=a0_0x146a96;return await this[_0x43cc35(0x29e)][_0x43cc35(0x45e)][_0x2fa8ea][_0x43cc35(0x2a2)](_0x35c72a[_0x43cc35(0x4d2)]);}async[a0_0x146a96(0x6f)]({instanceName:_0x11aa4a},_0x2996ec){const _0x45b7d0=a0_0x146a96;return await this['waMonitor'][_0x45b7d0(0x45e)][_0x11aa4a][_0x45b7d0(0x6f)](_0x2996ec[_0x45b7d0(0x68a)]);}async['updateProfileStatus']({instanceName:_0x93f457},_0x1bffe6){const _0x2d4bb1=a0_0x146a96;return await this['waMonitor'][_0x2d4bb1(0x45e)][_0x93f457][_0x2d4bb1(0x5fe)](_0x1bffe6[_0x2d4bb1(0x419)]);}async[a0_0x146a96(0x1a3)]({instanceName:_0x409b29},_0x43a5f3){const _0x386d2a=a0_0x146a96;return await this[_0x386d2a(0x29e)][_0x386d2a(0x45e)][_0x409b29]['updateProfilePicture'](_0x43a5f3[_0x386d2a(0x1fb)]);}async[a0_0x146a96(0x33a)]({instanceName:_0x473940},_0x171906){const _0x3476b5=a0_0x146a96;return await this[_0x3476b5(0x29e)]['waInstances'][_0x473940][_0x3476b5(0x33a)]();}},Ns=require('@whiskeysockets/baileys'),jt=class c{constructor(_0x17098a,_0x5f0e5e,_0x5b165c,_0x541b03,_0x4cbb05){const _0x2d6e1f=a0_0x146a96;this[_0x2d6e1f(0x29e)]=_0x17098a,this[_0x2d6e1f(0x598)]=_0x5f0e5e,this[_0x2d6e1f(0x484)]=_0x5b165c,this['eventEmitter']=_0x541b03,this[_0x2d6e1f(0x44f)]=_0x4cbb05,this[_0x2d6e1f(0x2dd)]=new v(c[_0x2d6e1f(0x68a)]);}async['createInstance']({instanceName:_0x55ee55,apikey:_0x175629,number:_0x37236a,proxy:_0x3b21cd=!0x0}){const _0x59b759=a0_0x146a96;try{let _0x78696d=new ye(this[_0x59b759(0x598)],this[_0x59b759(0x632)],this[_0x59b759(0x484)]);_0x78696d[_0x59b759(0x381)]=_0x55ee55,this[_0x59b759(0x29e)][_0x59b759(0x45e)][_0x78696d[_0x59b759(0x381)]]=_0x78696d;let _0x206dd7={};_0x175629?(await this['repository']['auth'][_0x59b759(0x6cd)]({'apikey':_0x175629},_0x55ee55),_0x206dd7[_0x59b759(0x2d4)]=_0x175629):_0x206dd7=await this[_0x59b759(0x44f)][_0x59b759(0x663)]({'instanceName':_0x78696d[_0x59b759(0x381)]});let _0x5f4301;return await _0x78696d[_0x59b759(0x664)](_0x37236a,_0x3b21cd),await(0x0,Ns['delay'])(0x7d0),_0x5f4301=_0x78696d[_0x59b759(0x43e)],{'instance':{'instanceName':_0x78696d[_0x59b759(0x381)],'status':_0x59b759(0x16f)},'hash':_0x206dd7,'qrcode':_0x5f4301};}catch(_0x5f00c6){this[_0x59b759(0x2dd)][_0x59b759(0x4e3)](_0x5f00c6);}}async[a0_0x146a96(0x182)]({instanceName:_0x194889,number:_0x51f3ea=null,proxy:_0x4c22bc=!0x0}){const _0x561af8=a0_0x146a96;try{let _0x386fed=this['waMonitor']['waInstances'][_0x194889];switch(_0x386fed?.[_0x561af8(0x539)]?.[_0x561af8(0x40f)]){case _0x561af8(0x320):return await _0x386fed[_0x561af8(0x664)](_0x51f3ea,_0x4c22bc),await(0x0,Ns['delay'])(0x7d0),_0x386fed[_0x561af8(0x43e)];case _0x561af8(0x4d8):return _0x386fed[_0x561af8(0x43e)];default:return await this[_0x561af8(0x32d)]({'instanceName':_0x194889});}}catch(_0x7346a6){this['logger'][_0x561af8(0x48e)](_0x7346a6);}}async['connectionState']({instanceName:_0x454c94}){const _0x2915f0=a0_0x146a96;let _0x5708c0=this['waMonitor']['waInstances'][_0x454c94][_0x2915f0(0x539)],_0x14c712=null;_0x5708c0[_0x2915f0(0x40f)]===_0x2915f0(0x1ac)&&_0x454c94&&(_0x14c712=await this['waMonitor'][_0x2915f0(0x1ca)](_0x454c94));let _0x30144d=null;return _0x5708c0['state']===_0x2915f0(0x4d8)&&_0x454c94&&(_0x30144d=this[_0x2915f0(0x29e)]['waInstances'][_0x454c94][_0x2915f0(0x43e)]),{'instance':_0x454c94,'connectionStatus':_0x5708c0,'instanceInfo':_0x14c712,'qrcode':_0x30144d};}async[a0_0x146a96(0x40a)]({instanceName:_0x22bc77}){const _0x32f9e8=a0_0x146a96;try{return this[_0x32f9e8(0x29e)][_0x32f9e8(0x45e)][_0x22bc77]?.['client']?.['ws']?.[_0x32f9e8(0x320)](),{'status':_0x32f9e8(0x4b3),'error':!0x1,'response':{'message':_0x32f9e8(0x4ab)}};}catch(_0x126830){this[_0x32f9e8(0x2dd)][_0x32f9e8(0x4e3)](_0x126830);}}async[a0_0x146a96(0x1f7)]({instanceName:_0x561b7f}){const _0x379bd2=a0_0x146a96;return _0x561b7f?this['waMonitor'][_0x379bd2(0x1ca)](_0x561b7f):this[_0x379bd2(0x29e)]['instanceInfo']();}async[a0_0x146a96(0x4bf)]({instanceName:_0x327da7}){const _0xe4315c=a0_0x146a96;try{return await this['waMonitor']['waInstances'][_0x327da7]?.['client']?.[_0xe4315c(0x4bf)]('Log\x20out\x20instance:\x20'+_0x327da7),{'error':!0x1,'message':_0xe4315c(0x362)};}catch(_0x335b0a){throw new O(_0x335b0a[_0xe4315c(0xc6)]());}}async[a0_0x146a96(0x2df)]({instanceName:_0x5bd6e7}){const _0x2eb1c5=a0_0x146a96;if((await this['connectionState']({'instanceName':_0x5bd6e7}))[_0x2eb1c5(0x539)]['state']===_0x2eb1c5(0x1ac))throw new m([_0x2eb1c5(0x4cf),_0x2eb1c5(0x3c4)]);try{return delete this[_0x2eb1c5(0x29e)][_0x2eb1c5(0x45e)][_0x5bd6e7],{'error':!0x1,'message':_0x2eb1c5(0xc9)};}catch(_0x4b6ba9){throw new m(_0x4b6ba9[_0x2eb1c5(0xc6)]());}}},Z=require(a0_0x146a96(0x1e9)),Ft=class{constructor(_0x359b7d){this['waMonitor']=_0x359b7d;}async[a0_0x146a96(0x6c0)]({instanceName:_0x23c92f},_0x31040e){const _0x2caab9=a0_0x146a96;return await this[_0x2caab9(0x29e)][_0x2caab9(0x45e)][_0x23c92f][_0x2caab9(0x144)](_0x31040e);}async[a0_0x146a96(0x339)]({instanceName:_0x5b40e8},_0x43b8d6){const _0x3f85ab=a0_0x146a96;return await this[_0x3f85ab(0x29e)]['waInstances'][_0x5b40e8][_0x3f85ab(0x620)](_0x43b8d6);}async[a0_0x146a96(0x64c)]({instanceName:_0x2f2b50},_0x56ebf2){const _0x4ea63a=a0_0x146a96;if((0x0,Z[_0x4ea63a(0x4a4)])(_0x56ebf2?.[_0x4ea63a(0x66d)]?.[_0x4ea63a(0xf3)])&&!_0x56ebf2?.['mediaMessage']?.[_0x4ea63a(0x1c9)])throw new m(_0x4ea63a(0x2ae));if((0x0,Z[_0x4ea63a(0x2e6)])(_0x56ebf2?.[_0x4ea63a(0x66d)]?.[_0x4ea63a(0xf3)])||(0x0,Z['isBase64'])(_0x56ebf2?.[_0x4ea63a(0x66d)]?.[_0x4ea63a(0xf3)]))return await this[_0x4ea63a(0x29e)][_0x4ea63a(0x45e)][_0x2f2b50][_0x4ea63a(0x66d)](_0x56ebf2);throw new m(_0x4ea63a(0x3d6));}async[a0_0x146a96(0x52d)]({instanceName:_0x434bb8},_0x309fd3){const _0x223a39=a0_0x146a96;if((0x0,Z[_0x223a39(0x2e6)])(_0x309fd3[_0x223a39(0x26d)][_0x223a39(0x302)])||(0x0,Z[_0x223a39(0x4a4)])(_0x309fd3[_0x223a39(0x26d)][_0x223a39(0x302)]))return await this[_0x223a39(0x29e)][_0x223a39(0x45e)][_0x434bb8][_0x223a39(0x36c)](_0x309fd3);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async['sendWhatsAppAudio']({instanceName:_0x5e72ba},_0x27fdf4){const _0x1f3fcf=a0_0x146a96;if((0x0,Z[_0x1f3fcf(0x2e6)])(_0x27fdf4[_0x1f3fcf(0x50b)][_0x1f3fcf(0x5e3)])||(0x0,Z[_0x1f3fcf(0x4a4)])(_0x27fdf4[_0x1f3fcf(0x50b)][_0x1f3fcf(0x5e3)]))return await this['waMonitor'][_0x1f3fcf(0x45e)][_0x5e72ba]['audioWhatsapp'](_0x27fdf4);throw new m(_0x1f3fcf(0x3d6));}async[a0_0x146a96(0x49c)]({instanceName:_0x2c0396},_0x4b162c){const _0x5881bd=a0_0x146a96;if((0x0,Z[_0x5881bd(0x4a4)])(_0x4b162c[_0x5881bd(0xb1)][_0x5881bd(0x66d)]?.['media'])&&!_0x4b162c[_0x5881bd(0xb1)]['mediaMessage']?.[_0x5881bd(0x1c9)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');return await this[_0x5881bd(0x29e)]['waInstances'][_0x2c0396][_0x5881bd(0xb1)](_0x4b162c);}async[a0_0x146a96(0x53e)]({instanceName:_0x20bbc6},_0x3a8fe2){const _0x2af178=a0_0x146a96;return await this[_0x2af178(0x29e)][_0x2af178(0x45e)][_0x20bbc6][_0x2af178(0x689)](_0x3a8fe2);}async[a0_0x146a96(0x265)]({instanceName:_0x36c689},_0x3f89dd){const _0x3bd22f=a0_0x146a96;return await this['waMonitor'][_0x3bd22f(0x45e)][_0x36c689][_0x3bd22f(0x10f)](_0x3f89dd);}async[a0_0x146a96(0x1de)]({instanceName:_0x2954cc},_0x1d31b0){const _0x4c0697=a0_0x146a96;return await this[_0x4c0697(0x29e)]['waInstances'][_0x2954cc][_0x4c0697(0x4e4)](_0x1d31b0);}async[a0_0x146a96(0x85)]({instanceName:_0xab3f17},_0x2698e2){const _0x3bc165=a0_0x146a96;return await this['waMonitor'][_0x3bc165(0x45e)][_0xab3f17]['contactMessage'](_0x2698e2);}async[a0_0x146a96(0x1b9)]({instanceName:_0x1b0b58},_0x46a7d6){const _0x177f8d=a0_0x146a96;if(!_0x46a7d6[_0x177f8d(0x3a3)]['reaction'][_0x177f8d(0x6d0)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x177f8d(0x45b));return await this[_0x177f8d(0x29e)][_0x177f8d(0x45e)][_0x1b0b58]['reactionMessage'](_0x46a7d6);}async[a0_0x146a96(0x89)]({instanceName:_0x3fa1ff},_0x4742d5){const _0x35c203=a0_0x146a96;return await this[_0x35c203(0x29e)][_0x35c203(0x45e)][_0x3fa1ff][_0x35c203(0x41a)](_0x4742d5);}},Co=require(a0_0x146a96(0x94)),Rs=require('uuid'),qt=class c{constructor(_0xc95fe2,_0x1dfe62,_0x4d19ad){const _0x3ba067=a0_0x146a96;this['configService']=_0xc95fe2,this['waMonitor']=_0x1dfe62,this['repository']=_0x4d19ad,this[_0x3ba067(0x2dd)]=new v(c['name']);}async['jwt'](_0x5a4d9f){const _0x343b19=a0_0x146a96;let _0x2673a4=this[_0x343b19(0x598)][_0x343b19(0x3b3)](_0x343b19(0x328))['JWT'],_0xbae42e=(0x0,Co[_0x343b19(0x43c)])({'instanceName':_0x5a4d9f[_0x343b19(0x381)],'apiName':ze,'tokenId':(0x0,Rs['v4'])()},_0x2673a4[_0x343b19(0x12a)],{'expiresIn':_0x2673a4[_0x343b19(0x57f)],'encoding':_0x343b19(0x524),'subject':_0x343b19(0x237)}),_0x3c25f0=await this[_0x343b19(0x484)][_0x343b19(0x534)][_0x343b19(0x6cd)]({'jwt':_0xbae42e},_0x5a4d9f[_0x343b19(0x381)]);if(_0x3c25f0[_0x343b19(0x4e3)])throw this['logger'][_0x343b19(0x4e3)]({'localError':c[_0x343b19(0x68a)]+_0x343b19(0x4d5),'error':_0x3c25f0[_0x343b19(0x4e3)]}),new m('Authentication\x20error',_0x3c25f0['error']?.['toString']());return{'jwt':_0xbae42e};}async[a0_0x146a96(0x2d4)](_0x25cd3f){const _0x4812fa=a0_0x146a96;let _0x4ba863=(0x0,Rs['v4'])()[_0x4812fa(0x1b1)](),_0x157c2e=await this[_0x4812fa(0x484)][_0x4812fa(0x534)][_0x4812fa(0x6cd)]({'apikey':_0x4ba863},_0x25cd3f[_0x4812fa(0x381)]);if(_0x157c2e['error'])throw this[_0x4812fa(0x2dd)][_0x4812fa(0x4e3)]({'localError':c['name']+_0x4812fa(0x4d5),'error':_0x157c2e[_0x4812fa(0x4e3)]}),new m(_0x4812fa(0x327),_0x157c2e[_0x4812fa(0x4e3)]?.[_0x4812fa(0xc6)]());return{'apikey':_0x4ba863};}async[a0_0x146a96(0x663)](_0x3822c3){const _0xe2cbeb=a0_0x146a96;let _0x339dc8=this[_0xe2cbeb(0x598)][_0xe2cbeb(0x3b3)]('AUTHENTICATION');return await this[_0x339dc8[_0xe2cbeb(0x2a3)]](_0x3822c3);}},Ut=class{constructor(_0x2eba9d){this['waMonitor']=_0x2eba9d;}async[a0_0x146a96(0x3af)](_0x4d7382,_0x21f97e){const _0x3f0965=a0_0x146a96;return await this[_0x3f0965(0x29e)][_0x3f0965(0x45e)][_0x4d7382['instanceName']]['createGroup'](_0x21f97e);}async[a0_0x146a96(0x3ff)](_0x35b995,_0x5470a0){const _0x11e047=a0_0x146a96;return await this['waMonitor'][_0x11e047(0x45e)][_0x35b995[_0x11e047(0x381)]][_0x11e047(0x3ff)](_0x5470a0);}async[a0_0x146a96(0x5cc)](_0x14fcfc,_0x4fa47b){const _0x45319e=a0_0x146a96;return await this[_0x45319e(0x29e)][_0x45319e(0x45e)][_0x14fcfc[_0x45319e(0x381)]][_0x45319e(0x5cc)](_0x4fa47b);}async[a0_0x146a96(0x6c2)](_0xfa4762,_0x1e4b6c){const _0x378f9d=a0_0x146a96;return await this['waMonitor'][_0x378f9d(0x45e)][_0xfa4762[_0x378f9d(0x381)]][_0x378f9d(0x6c2)](_0x1e4b6c);}async[a0_0x146a96(0xeb)](_0x4a06b9,_0x18b115){const _0x40332e=a0_0x146a96;return await this[_0x40332e(0x29e)][_0x40332e(0x45e)][_0x4a06b9[_0x40332e(0x381)]]['groupSetting'](_0x18b115);}async[a0_0x146a96(0x2bd)](_0x2db655,_0x257b6c){const _0xed7edd=a0_0x146a96;return await this[_0xed7edd(0x29e)][_0xed7edd(0x45e)][_0x2db655[_0xed7edd(0x381)]][_0xed7edd(0x4c7)](_0x257b6c);}async[a0_0x146a96(0x391)](_0x3399ce){const _0x10a62d=a0_0x146a96;return await this[_0x10a62d(0x29e)]['waInstances'][_0x3399ce[_0x10a62d(0x381)]][_0x10a62d(0x391)]();}async[a0_0x146a96(0x4af)](_0xce373b,_0xfee7a2){const _0x31915f=a0_0x146a96;return await this[_0x31915f(0x29e)][_0x31915f(0x45e)][_0xce373b[_0x31915f(0x381)]][_0x31915f(0x4af)](_0xfee7a2);}async[a0_0x146a96(0x29d)](_0x20f827,_0x55a91d){const _0x531064=a0_0x146a96;return await this[_0x531064(0x29e)]['waInstances'][_0x20f827['instanceName']][_0x531064(0x29d)](_0x55a91d);}async[a0_0x146a96(0x3ee)](_0xdfdd6a,_0x5319fc){const _0x8c30db=a0_0x146a96;return await this[_0x8c30db(0x29e)]['waInstances'][_0xdfdd6a[_0x8c30db(0x381)]][_0x8c30db(0x3ee)](_0x5319fc);}async[a0_0x146a96(0x31a)](_0x522a6c,_0x443c04){const _0x5b2dff=a0_0x146a96;return await this[_0x5b2dff(0x29e)][_0x5b2dff(0x45e)][_0x522a6c['instanceName']][_0x5b2dff(0x31a)](_0x443c04);}async['updateGParticipate'](_0x2269a3,_0x5cce9c){const _0x45a163=a0_0x146a96;return await this['waMonitor'][_0x45a163(0x45e)][_0x2269a3['instanceName']][_0x45a163(0x2d6)](_0x5cce9c);}async[a0_0x146a96(0x590)](_0x7cb7dd,_0x2b7cbe){const _0x466152=a0_0x146a96;return await this[_0x466152(0x29e)][_0x466152(0x45e)][_0x7cb7dd[_0x466152(0x381)]][_0x466152(0x590)](_0x2b7cbe);}async['leaveGroup'](_0x5904a0,_0x330ee3){const _0x35a7ff=a0_0x146a96;return await this[_0x35a7ff(0x29e)][_0x35a7ff(0x45e)][_0x5904a0['instanceName']][_0x35a7ff(0x3a4)](_0x330ee3);}},Jt=class{constructor(_0x5e9039){this['waMonitor']=_0x5e9039;}['create'](_0x4cbd28,_0x9b5a0b){const _0x35e3bc=a0_0x146a96;return this[_0x35e3bc(0x29e)][_0x35e3bc(0x45e)][_0x4cbd28[_0x35e3bc(0x381)]][_0x35e3bc(0x5f1)](_0x9b5a0b);}async[a0_0x146a96(0x54e)](_0x772b31){const _0x4e69e6=a0_0x146a96;try{return await this[_0x4e69e6(0x29e)][_0x4e69e6(0x45e)][_0x772b31[_0x4e69e6(0x381)]][_0x4e69e6(0x699)]();}catch{return{'enabled':null,'url':''};}}},Yd=new v(a0_0x146a96(0x6be)),Vt=class{constructor(_0x4033cf){const _0x1c1618=a0_0x146a96;this[_0x1c1618(0x29e)]=_0x4033cf;}async[a0_0x146a96(0x5c5)](_0x3b89e7,_0x4b7fa2){const _0x3486ad=a0_0x146a96;return await this[_0x3486ad(0x29e)]['waInstances'][_0x3b89e7[_0x3486ad(0x381)]][_0x3486ad(0x5c5)](_0x4b7fa2);}async[a0_0x146a96(0x2f0)](_0x268346){const _0x3fcdef=a0_0x146a96;return await this[_0x3fcdef(0x29e)][_0x3fcdef(0x45e)][_0x268346[_0x3fcdef(0x381)]]['getScheduleMessage']();}async[a0_0x146a96(0x361)](_0x3f6b3a){const _0x32c9e1=a0_0x146a96;return await this[_0x32c9e1(0x29e)][_0x32c9e1(0x45e)][_0x3f6b3a['instanceName']][_0x32c9e1(0x361)]();}async[a0_0x146a96(0x134)](_0x439502){const _0x189993=a0_0x146a96;return await this[_0x189993(0x29e)][_0x189993(0x45e)][_0x439502[_0x189993(0x381)]][_0x189993(0x134)]();}async[a0_0x146a96(0x597)](_0x474cf3,_0x5da493){const _0x4ee537=a0_0x146a96;return await this[_0x4ee537(0x29e)][_0x4ee537(0x45e)][_0x474cf3[_0x4ee537(0x381)]]['updateAgent'](_0x5da493);}async[a0_0x146a96(0x1ba)](_0x5ceb5c,_0x3c815d){const _0x40fb9d=a0_0x146a96;return await this[_0x40fb9d(0x29e)][_0x40fb9d(0x45e)][_0x5ceb5c[_0x40fb9d(0x381)]]['updateCustomFields'](_0x3c815d);}async[a0_0x146a96(0xcb)](_0x5f1468,_0x3e29fd){const _0x59cbac=a0_0x146a96;return await this['waMonitor'][_0x59cbac(0x45e)][_0x5f1468[_0x59cbac(0x381)]][_0x59cbac(0xcb)](_0x3e29fd);}async[a0_0x146a96(0x6a5)](_0x3cd6dd,_0x2fba2f){const _0x2af3cc=a0_0x146a96;return await this['waMonitor']['waInstances'][_0x3cd6dd[_0x2af3cc(0x381)]][_0x2af3cc(0x6a5)](_0x2fba2f);}async[a0_0x146a96(0x426)](_0x2b1efa,_0xabbbae){const _0x3d8a1d=a0_0x146a96;return await this['waMonitor'][_0x3d8a1d(0x45e)][_0x2b1efa['instanceName']][_0x3d8a1d(0x426)](_0xabbbae);}async[a0_0x146a96(0x415)](_0x241866,_0x1d67b6){const _0x5d4171=a0_0x146a96;return await this[_0x5d4171(0x29e)][_0x5d4171(0x45e)][_0x241866[_0x5d4171(0x381)]][_0x5d4171(0x415)](_0x1d67b6);}async['editConversation'](_0x4b2710,_0x1db11b){const _0x2baba9=a0_0x146a96;return await this[_0x2baba9(0x29e)][_0x2baba9(0x45e)][_0x4b2710[_0x2baba9(0x381)]][_0x2baba9(0x613)](_0x1db11b);}async[a0_0x146a96(0x300)](_0x2c87ee,_0x45c620){const _0x3a2777=a0_0x146a96;return await this['waMonitor'][_0x3a2777(0x45e)][_0x2c87ee[_0x3a2777(0x381)]][_0x3a2777(0x300)](_0x45c620);}async[a0_0x146a96(0x527)](_0x288496,_0x3b3ce1){const _0x40b649=a0_0x146a96;return await this[_0x40b649(0x29e)]['waInstances'][_0x288496[_0x40b649(0x381)]][_0x40b649(0x527)](_0x3b3ce1[_0x40b649(0x68a)]);}async[a0_0x146a96(0x48a)](_0x972988,_0x1a2e30){const _0x581a36=a0_0x146a96;return await this['waMonitor'][_0x581a36(0x45e)][_0x972988['instanceName']][_0x581a36(0x48a)](_0x1a2e30);}async[a0_0x146a96(0x90)](_0x1ebe8b,_0x5e67ab){const _0x122c66=a0_0x146a96;return await this[_0x122c66(0x29e)][_0x122c66(0x45e)][_0x1ebe8b[_0x122c66(0x381)]][_0x122c66(0x90)](_0x5e67ab);}async['editFlowBlock'](_0x2ab92e,_0x39913e){const _0x54c218=a0_0x146a96;return await this[_0x54c218(0x29e)][_0x54c218(0x45e)][_0x2ab92e['instanceName']][_0x54c218(0x115)](_0x39913e);}async[a0_0x146a96(0x4ea)](_0x13b7be,_0x37bc23){const _0x47ce0a=a0_0x146a96;return await this['waMonitor']['waInstances'][_0x13b7be['instanceName']][_0x47ce0a(0x4ea)](_0x37bc23);}async[a0_0x146a96(0x69c)](_0x562a69,_0xadce2a){const _0x511466=a0_0x146a96;return await this['waMonitor'][_0x511466(0x45e)][_0x562a69[_0x511466(0x381)]][_0x511466(0x69c)](_0xadce2a);}async[a0_0x146a96(0x143)](_0x2c25cd,_0x4bcf43){const _0x388583=a0_0x146a96;return await this[_0x388583(0x29e)][_0x388583(0x45e)][_0x2c25cd['instanceName']][_0x388583(0x143)](_0x4bcf43);}async['editFlowVaredit'](_0x43d02d,_0x369af5){const _0x227146=a0_0x146a96;return await this[_0x227146(0x29e)]['waInstances'][_0x43d02d['instanceName']][_0x227146(0x313)](_0x369af5);}async[a0_0x146a96(0x2c0)](_0x4166fa,_0x458190){const _0x2a40a7=a0_0x146a96;return await this[_0x2a40a7(0x29e)][_0x2a40a7(0x45e)][_0x4166fa['instanceName']][_0x2a40a7(0x2c0)](_0x458190);}async[a0_0x146a96(0x1fd)](_0x4e3a90,_0xc6f120){const _0x45e6a7=a0_0x146a96;return await this['waMonitor'][_0x45e6a7(0x45e)][_0x4e3a90[_0x45e6a7(0x381)]][_0x45e6a7(0x1fd)](_0xc6f120[_0x45e6a7(0x68a)]);}async[a0_0x146a96(0x352)](_0x76d8f5){const _0x4007f3=a0_0x146a96;return await this['waMonitor'][_0x4007f3(0x45e)][_0x76d8f5[_0x4007f3(0x381)]][_0x4007f3(0x352)]();}},Bt=class{constructor(_0x46600b){const _0x520741=a0_0x146a96;this[_0x520741(0x401)]=_0x46600b;}async['createWebhook'](_0x1a920e,_0x2ff639){const _0x4a0fa6=a0_0x146a96;return this[_0x4a0fa6(0x401)][_0x4a0fa6(0x6cd)](_0x1a920e,_0x2ff639);}async[a0_0x146a96(0x699)](_0x7cecfd){const _0x10a5a3=a0_0x146a96;return this[_0x10a5a3(0x401)]['find'](_0x7cecfd);}},Gt=class extends I{constructor(_0x2eda07,_0x2f9ea6){const _0x1508b3=a0_0x146a96;super(_0x2f9ea6),this[_0x1508b3(0x6b4)]=_0x2eda07,this[_0x1508b3(0x598)]=_0x2f9ea6;}async[a0_0x146a96(0x6cd)](_0x51986b,_0x54cdcc){const _0x50a974=a0_0x146a96;try{return this[_0x50a974(0x652)][_0x50a974(0x6d)]?{'insertCount':(await this[_0x50a974(0x6b4)][_0x50a974(0x6a1)]({'_id':_0x54cdcc},{..._0x51986b},{'upsert':!0x0}))['modifiedCount']}:{'insertCount':0x1};}catch(_0x293aa4){return _0x293aa4;}}async[a0_0x146a96(0x487)](_0x1a4c87){const _0x302882=a0_0x146a96;try{if(this[_0x302882(0x652)][_0x302882(0x6d)]){await this[_0x302882(0x6b4)][_0x302882(0x3ba)]({'_id':_0x1a4c87});return;}}catch(_0x813db5){return{'error':_0x813db5};}}async[a0_0x146a96(0x54e)](_0x79db66){const _0x4a9439=a0_0x146a96;try{if(this[_0x4a9439(0x652)][_0x4a9439(0x6d)])return await this[_0x4a9439(0x6b4)][_0x4a9439(0x592)]({'_id':_0x79db66});}catch{return{};}}},Wt=class extends I{constructor(_0xcfb0d8,_0x2a0ade){const _0x4e5f7a=a0_0x146a96;super(_0x2a0ade),this['authModel']=_0xcfb0d8,this[_0x4e5f7a(0x598)]=_0x2a0ade,this[_0x4e5f7a(0x534)]=_0x2a0ade[_0x4e5f7a(0x3b3)](_0x4e5f7a(0x328));}async[a0_0x146a96(0x6cd)](_0x30eee3,_0xfb224a){const _0x291528=a0_0x146a96;try{if(this[_0x291528(0x652)]['ENABLED'])return{'insertCount':(await this[_0x291528(0x162)][_0x291528(0x5af)]({'_id':_0xfb224a},{'$set':{..._0x30eee3}},{'upsert':!0x0}))[_0x291528(0x26f)]};}catch(_0x4e5b45){return{'error':_0x4e5b45};}}async[a0_0x146a96(0x14b)](_0xe30f62,_0x36bbdf){const _0x57fde6=a0_0x146a96;try{if(this[_0x57fde6(0x652)][_0x57fde6(0x6d)])return{'insertCount':(await this[_0x57fde6(0x162)][_0x57fde6(0x386)](_0xe30f62,{'$set':_0x36bbdf},{'upsert':!0x1}))['modifiedCount']};throw new Error(_0x57fde6(0x45c));}catch(_0x5e48e4){return{'error':_0x5e48e4};}}async[a0_0x146a96(0x692)](_0x48986c){const _0x409709=a0_0x146a96;try{if(this[_0x409709(0x652)][_0x409709(0x6d)])return{'insertCount':(await this[_0x409709(0x162)]['deleteMany'](_0x48986c))[_0x409709(0x27c)]};throw new Error(_0x409709(0x45c));}catch(_0x3bf52b){return{'error':_0x3bf52b};}}async[a0_0x146a96(0x487)](_0xc8a664){const _0x16ec2f=a0_0x146a96;try{if(this[_0x16ec2f(0x652)]['ENABLED']){await this[_0x16ec2f(0x162)][_0x16ec2f(0x3ba)]({'_id':_0xc8a664});return;}}catch(_0x54c24b){return{'error':_0x54c24b};}}async['find'](_0x8a9f7e){const _0x9e81c5=a0_0x146a96;try{if(this[_0x9e81c5(0x652)][_0x9e81c5(0x6d)])return await this['authModel'][_0x9e81c5(0x592)]({'_id':_0x8a9f7e});}catch{return{};}}async[a0_0x146a96(0x255)](){const _0x2e63ce=a0_0x146a96;try{if(this[_0x2e63ce(0x652)][_0x2e63ce(0x6d)])return await this[_0x2e63ce(0x162)][_0x2e63ce(0x54e)]();}catch{return[];}}},zt=class extends I{[a0_0x146a96(0x1b7)](_0x49204a){return ta(_0x49204a);}async['copyDataToNewModel'](_0x4a6128){const _0x12fd50=a0_0x146a96;try{let _0x15b926=sa,_0x15c334=this[_0x12fd50(0x1b7)](_0x4a6128),_0xb254b0=await _0x15b926['find']({'owner':_0x4a6128})[_0x12fd50(0x8c)](),_0x510313=[],_0x171d52=[];for(let _0x411e80 of _0xb254b0)await _0x15c334[_0x12fd50(0x389)](_0x411e80[_0x12fd50(0x517)])[_0x12fd50(0x8c)]()||(_0x510313['push'](_0x411e80),_0x171d52[_0x12fd50(0x260)](_0x411e80[_0x12fd50(0x517)]));return _0x510313[_0x12fd50(0x29f)]>0x0&&await _0x15c334[_0x12fd50(0x31d)](_0x510313,{'ordered':!0x1}),{'success':!0x0};}catch(_0x297331){return console[_0x12fd50(0x4e3)](_0x12fd50(0x6bc),_0x297331),{'success':!0x1,'error':_0x297331};}}async[a0_0x146a96(0x487)](_0x50ea06,_0x217e22){const _0x486de8=a0_0x146a96;try{let _0x5add7a=this[_0x486de8(0x1b7)](_0x217e22),_0x572243=A(_0x50ea06[_0x486de8(0x559)]);return{'deletedCount':(await _0x5add7a[_0x486de8(0x692)](_0x572243))['deletedCount']};}catch(_0x45086f){return{'error':_0x45086f?.[_0x486de8(0xc6)]()};}}async[a0_0x146a96(0x3ba)](_0xd3ef1f,_0x54eadf){const _0x547f18=a0_0x146a96;try{let _0xb4188e=this[_0x547f18(0x1b7)](_0x54eadf),_0x355a18=A(_0xd3ef1f['where']);return{'deletedCount':(await _0xb4188e['deleteOne'](_0x355a18))[_0x547f18(0x27c)]};}catch(_0x113a2f){return{'error':_0x113a2f?.[_0x547f18(0xc6)]()};}}async[a0_0x146a96(0x5af)](_0x2546bd,_0x541e61,_0x35f654){const _0x589797=a0_0x146a96;try{return await this[_0x589797(0x1b7)](_0x35f654)[_0x589797(0xc3)](_0x2546bd,_0x541e61,{'new':!0x0});}catch(_0x28cb44){return console[_0x589797(0x4e3)](_0x589797(0x140),_0x28cb44),null;}}async['createAndSave'](_0x3b4110,_0x45e63d){const _0x24f397=a0_0x146a96;try{let _0x57e9d=this[_0x24f397(0x1b7)](_0x45e63d);return await new _0x57e9d(_0x3b4110)[_0x24f397(0xd1)]();}catch(_0x187017){return console['error']('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x187017),null;}}async[a0_0x146a96(0x386)](_0x39157c,_0x4f5e34,_0x1438c8){const _0x4c5151=a0_0x146a96;try{return{'modifiedCount':(await this[_0x4c5151(0x1b7)](_0x1438c8)[_0x4c5151(0x386)](_0x39157c,{'$set':_0x4f5e34}))[_0x4c5151(0x26f)]};}catch(_0x2fc2da){return console[_0x4c5151(0x4e3)](_0x4c5151(0x105),_0x2fc2da),{'error':_0x2fc2da};}}async[a0_0x146a96(0x255)](_0x360e91,_0x11f9e5){const _0x2f4efd=a0_0x146a96;try{let _0x14d7e1=this['getFlowModelForOwner'](_0x11f9e5),_0x1a1a7a=A(_0x360e91['where']);return await _0x14d7e1[_0x2f4efd(0x54e)](_0x1a1a7a)[_0x2f4efd(0x113)](_0x360e91?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0x146a96(0x592)](_0x3e90c3,_0x51674c){const _0x3465d2=a0_0x146a96;try{let _0x54c390=this['getFlowModelForOwner'](_0x51674c),_0x54c191=A(_0x3e90c3[_0x3465d2(0x559)]);return await _0x54c390[_0x3465d2(0x592)](_0x54c191)[_0x3465d2(0x8c)]();}catch{return null;}}async['deleteAll'](_0x7a8ecb){const _0x2625f9=a0_0x146a96;try{return await this['getFlowModelForOwner'](_0x7a8ecb)[_0x2625f9(0x1da)][_0x2625f9(0x7e)](),{'success':!0x0};}catch(_0xb3e151){return console[_0x2625f9(0x4e3)](_0xb3e151),{'success':!0x1,'error':_0xb3e151};}}},Ht=class extends I{['getConversationModelForOwner'](_0x4e5e65){return oa(_0x4e5e65);}async[a0_0x146a96(0x58c)](_0x173ac3){const _0x4de507=a0_0x146a96;try{let _0x4b19e8=ra,_0x1854b1=this['getConversationModelForOwner'](_0x173ac3),_0x4017ca=await _0x4b19e8[_0x4de507(0x54e)]({'owner':_0x173ac3})['lean'](),_0x20a782=[],_0x319a23=[];for(let _0x3163a0 of _0x4017ca)await _0x1854b1[_0x4de507(0x389)](_0x3163a0[_0x4de507(0x517)])[_0x4de507(0x8c)]()||(_0x20a782[_0x4de507(0x260)](_0x3163a0),_0x319a23[_0x4de507(0x260)](_0x3163a0[_0x4de507(0x517)]));return _0x20a782[_0x4de507(0x29f)]>0x0&&await _0x1854b1[_0x4de507(0x31d)](_0x20a782,{'ordered':!0x1}),{'success':!0x0};}catch(_0x25d43f){return console[_0x4de507(0x4e3)](_0x4de507(0x6bc),_0x25d43f),{'success':!0x1,'error':_0x25d43f};}}async[a0_0x146a96(0x334)](_0x5f4a8c){const _0x4edf03=a0_0x146a96;if(_0x5f4a8c[_0x4edf03(0x29f)]!==0x0)try{return{'insertCount':(await this[_0x4edf03(0x1ea)](_0x5f4a8c[0x0][_0x4edf03(0x52b)])['insertMany']([..._0x5f4a8c]))[_0x4edf03(0x29f)]};}catch(_0xf8d939){return _0xf8d939;}}async[a0_0x146a96(0x487)](_0xcee604,_0x3816a2){const _0x5dcd3e=a0_0x146a96;try{let _0x32960e=this['getConversationModelForOwner'](_0x3816a2),_0x348a78=A(_0xcee604[_0x5dcd3e(0x559)]);return{'deletedCount':(await _0x32960e['deleteMany'](_0x348a78))[_0x5dcd3e(0x27c)]};}catch(_0x55e604){return{'error':_0x55e604?.['toString']()};}}async[a0_0x146a96(0x3ba)](_0x6966d7,_0xf3e5dc){const _0x4e0acd=a0_0x146a96;try{let _0x2ead9f=this[_0x4e0acd(0x1ea)](_0xf3e5dc),_0x547332=A(_0x6966d7[_0x4e0acd(0x559)]);return{'deletedCount':(await _0x2ead9f[_0x4e0acd(0x3ba)](_0x547332))['deletedCount']};}catch(_0x38f594){return{'error':_0x38f594?.[_0x4e0acd(0xc6)]()};}}async['update'](_0x10f082,_0x525597){const _0x592839=a0_0x146a96;try{if(_0x10f082[_0x592839(0x29f)]===0x0)return;let _0x16b5b4=this[_0x592839(0x1ea)](_0x525597),_0x533fc5=_0x10f082[_0x592839(0x684)](_0x3e794c=>({'updateOne':{'filter':{'name':_0x3e794c[_0x592839(0x68a)],'owner':_0x525597},'update':{..._0x3e794c}}})),{modifiedCount:_0x5732ca}=await _0x16b5b4[_0x592839(0x285)](_0x533fc5);return{'insertCount':_0x5732ca};}catch{return;}}async['updateMany'](_0x50d031,_0x358d64,_0x5a65be){const _0x4be9ad=a0_0x146a96;try{return{'modifiedCount':(await this[_0x4be9ad(0x1ea)](_0x5a65be)['updateMany'](_0x50d031,{'$set':_0x358d64}))[_0x4be9ad(0x26f)]};}catch(_0x265c07){return console[_0x4be9ad(0x4e3)]('Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:',_0x265c07),{'error':_0x265c07};}}async[a0_0x146a96(0x5af)](_0x55ce80,_0x1e117d,_0x19918d){const _0x3fbf28=a0_0x146a96;try{return await this[_0x3fbf28(0x1ea)](_0x19918d)['findOneAndUpdate']({'_id':_0x55ce80},{'$set':_0x1e117d},{'new':!0x0,'upsert':!0x0})[_0x3fbf28(0x8c)]();}catch(_0x3c89ca){return console[_0x3fbf28(0x4e3)](_0x3c89ca),null;}}async['find'](_0xe64514,_0x2904ee){const _0x4c768d=a0_0x146a96;try{return await this[_0x4c768d(0x1ea)](_0x2904ee)[_0x4c768d(0x54e)](_0xe64514)[_0x4c768d(0x193)]({'lastInteraction':-0x1})[_0x4c768d(0x8c)]();}catch{return[];}}async[a0_0x146a96(0x592)](_0x2f43f0,_0x4477cc){const _0x1459eb=a0_0x146a96;try{return await this['getConversationModelForOwner'](_0x4477cc)[_0x1459eb(0x592)]({..._0x2f43f0['where']})[_0x1459eb(0x8c)]();}catch{return null;}}async[a0_0x146a96(0x377)](_0x30b0d0){const _0x50a026=a0_0x146a96;try{return await this[_0x50a026(0x1ea)](_0x30b0d0)[_0x50a026(0x1da)][_0x50a026(0x7e)](),{'success':!0x0};}catch(_0x5a758c){return console['error'](_0x5a758c),{'success':!0x1,'error':_0x5a758c};}}},Kt=class extends I{['getScheduleMessageModelForOwner'](_0x50b675){return na(_0x50b675);}async['copyDataToNewModel'](_0x48ae6f){const _0x129d02=a0_0x146a96;try{let _0x4714b6=ca,_0x4a7e3c=this[_0x129d02(0x1d8)](_0x48ae6f),_0x785946=await _0x4714b6['find']({'owner':_0x48ae6f})[_0x129d02(0x8c)](),_0x32da8b=[],_0x2d3ec3=[];for(let _0x4ec68f of _0x785946)await _0x4a7e3c['findById'](_0x4ec68f[_0x129d02(0x517)])[_0x129d02(0x8c)]()||(_0x32da8b['push'](_0x4ec68f),_0x2d3ec3[_0x129d02(0x260)](_0x4ec68f[_0x129d02(0x517)]));return _0x32da8b['length']>0x0&&await _0x4a7e3c['insertMany'](_0x32da8b,{'ordered':!0x1}),{'success':!0x0};}catch(_0x54ce99){return console[_0x129d02(0x4e3)](_0x129d02(0x6bc),_0x54ce99),{'success':!0x1,'error':_0x54ce99};}}async[a0_0x146a96(0x514)](_0x4d268e,_0x70bfa7){const _0x3a9364=a0_0x146a96;try{let _0x594f00=this[_0x3a9364(0x1d8)](_0x70bfa7);return await new _0x594f00(_0x4d268e)[_0x3a9364(0xd1)]();}catch(_0x5e8329){return console[_0x3a9364(0x4e3)](_0x3a9364(0x1c8),_0x5e8329),null;}}async[a0_0x146a96(0x3ba)](_0x446ae9,_0x2501e6){const _0xba735a=a0_0x146a96;try{return await this[_0xba735a(0x1d8)](_0x2501e6)[_0xba735a(0x2ff)](_0x446ae9),{};}catch(_0x5874b7){return{'error':_0x5874b7?.[_0xba735a(0xc6)]()};}}async[a0_0x146a96(0x5af)](_0x914978,_0x43a3e9,_0x58085b){const _0x248b17=a0_0x146a96;try{return await this[_0x248b17(0x1d8)](_0x58085b)[_0x248b17(0x2f2)](_0x914978,{'$set':_0x43a3e9},{'new':!0x0})[_0x248b17(0x8c)]();}catch(_0x5af5d2){return console['error']('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x5af5d2),null;}}async['updateOneById'](_0x2b2e84,_0x3735f5,_0x5859c0){const _0x4046d4=a0_0x146a96;try{return await this[_0x4046d4(0x1d8)](_0x5859c0)[_0x4046d4(0xc3)](_0x2b2e84,_0x3735f5,{'new':!0x0})['lean']();}catch(_0x255d2e){return console['error'](_0x4046d4(0x52a),_0x255d2e),null;}}async['find'](_0x51571a,_0x386afc){const _0x42080d=a0_0x146a96;try{return await this[_0x42080d(0x1d8)](_0x386afc)[_0x42080d(0x54e)](_0x51571a[_0x42080d(0x559)])[_0x42080d(0x113)](_0x51571a?.[_0x42080d(0x113)]??0x0)[_0x42080d(0x193)]({'when':0x1})[_0x42080d(0x8c)]();}catch{return[];}}async[a0_0x146a96(0x592)](_0x256d2a,_0x4b7615){const _0x868874=a0_0x146a96;try{return await this[_0x868874(0x1d8)](_0x4b7615)[_0x868874(0x592)](_0x256d2a[_0x868874(0x559)])[_0x868874(0x193)]({'when':0x1})['lean']();}catch{return null;}}async[a0_0x146a96(0x389)](_0x52a05d,_0x4ae02c){const _0xb40bd4=a0_0x146a96;try{return await this[_0xb40bd4(0x1d8)](_0x4ae02c)[_0xb40bd4(0x389)](_0x52a05d)[_0xb40bd4(0x8c)]();}catch{return null;}}async['deleteMany'](_0x3c7cc8,_0xaaf54a){const _0x58778c=a0_0x146a96;try{return{'deletedCount':(await this[_0x58778c(0x1d8)](_0xaaf54a)[_0x58778c(0x692)](_0x3c7cc8))[_0x58778c(0x27c)]};}catch(_0xfa7857){return console[_0x58778c(0x4e3)](_0x58778c(0xa3),_0xfa7857),{'error':_0xfa7857};}}async['deleteAll'](_0x128b45){const _0x3e7756=a0_0x146a96;try{return await this[_0x3e7756(0x1d8)](_0x128b45)[_0x3e7756(0x1da)][_0x3e7756(0x7e)](),{'success':!0x0};}catch(_0x50093d){return console[_0x3e7756(0x4e3)](_0x50093d),{'success':!0x1,'error':_0x50093d};}}},Qt=class extends I{async[a0_0x146a96(0x11a)](_0xe75156,_0x3e3ad6){const _0x377e8a=a0_0x146a96;try{if(this[_0x377e8a(0x652)][_0x377e8a(0x6d)]){let _0x158557=await Pe['findOneAndUpdate']({'_id':_0x3e3ad6},{'$set':_0xe75156},{'new':!0x0});return console[_0x377e8a(0x48e)](_0x377e8a(0x49d),_0x158557),_0x158557;}}catch(_0x58b210){throw console[_0x377e8a(0x4e3)](_0x377e8a(0x58d),_0x58b210),_0x58b210;}}async[a0_0x146a96(0x215)](_0x275356){const _0x2618de=a0_0x146a96;try{let _0x56df57=await Pe[_0x2618de(0x389)](_0x275356);return _0x56df57||(_0x56df57=new Pe({'_id':_0x275356}),await _0x56df57[_0x2618de(0xd1)]()),_0x56df57;}catch(_0x4f7557){return console[_0x2618de(0x4e3)](_0x2618de(0x5ad),_0x4f7557),null;}}},yr=new v(a0_0x146a96(0x22e)),br=new Le(b),Sr=new $t(b),Er=new Qe(b),Cr=new Gt(Qs,b),Mr=new Wt(zs,b),vr=new zt(b),Nr=new kt(b),Rr=new Ht(b),Tr=new Kt(b),Ar=new Qt(b),ce=new $e(br,Sr,Er,Cr,Mr,vr,Rr,Nr,Tr,Ar,N?.[a0_0x146a96(0x3da)]()),B=new Pt(ss,b,ce),Or=new qt(b,B,ce),Ir=new Jt(B),ms=new Bt(Ir),T=new Vt(B),le=new jt(B,b,ce,ss,Or),G=new Ft(B),x=new Lt(B),q=new Ut(B);yr[a0_0x146a96(0x217)]('Module\x20-\x20ON');var hh=require('express-async-errors'),Ts=require('fs'),Mo=R(require('https')),vo=R(require(a0_0x146a96(0x408))),Ne=class c{static #e;static set[a0_0x146a96(0x549)](_0x1e5a35){this.#e=_0x1e5a35;}static get[a0_0x146a96(0x2f6)](){const _0x1d9fbf=a0_0x146a96;let {FULLCHAIN:_0x1f26b4,PRIVKEY:_0x56f346}=b['get']('SSL_CONF');return Mo[_0x1d9fbf(0x3d0)]({'cert':(0x0,Ts[_0x1d9fbf(0x7b)])(_0x1f26b4),'key':(0x0,Ts[_0x1d9fbf(0x7b)])(_0x56f346)},c.#e);}static get['http'](){return vo['createServer'](c.#e);}},de=R(require('fs')),Io=R(require(a0_0x146a96(0x323))),Re=R(require(a0_0x146a96(0x367))),Ae=R(require('path')),Oe=require(a0_0x146a96(0x195));function xr(){const _0x440257=a0_0x146a96;B[_0x440257(0x35b)]();let _0x13c32b=Ae[_0x440257(0x68f)][_0x440257(0x695)](__dirname,_0x440257(0x2ab));Oo(_0x13c32b);}var Oo=_0x49bc9b=>{const _0x52426b=a0_0x146a96;let _0x249c8d=de[_0x52426b(0x68f)][_0x52426b(0x5c1)](_0x49bc9b),_0x2adb1b=0xc*0x3c*0x3c*0x3e8,_0x234512=0x2*0x3c*0x3c*0x3e8,_0x1785b5=new Date()[_0x52426b(0x32a)]();_0x249c8d[_0x52426b(0x304)](_0x38492e=>{const _0x4e561b=_0x52426b;let _0x47687c=Ae[_0x4e561b(0x68f)][_0x4e561b(0x695)](_0x49bc9b,_0x38492e),_0x33d68d=de[_0x4e561b(0x68f)][_0x4e561b(0x14f)](_0x47687c)[_0x4e561b(0x407)][_0x4e561b(0x32a)]();_0x1785b5-_0x33d68d>_0x2adb1b&&(de[_0x4e561b(0x68f)]['unlinkSync'](_0x47687c),console[_0x4e561b(0x48e)](_0x4e561b(0x44a)+_0x38492e));}),setTimeout(()=>Oo(_0x49bc9b),_0x234512);};function Dr(){const _0x570752=a0_0x146a96;let _0x336b55=new v('SERVER'),_0x116f5f=(0x0,pe[_0x570752(0x68f)])();_0x116f5f[_0x570752(0x4e6)]((0x0,Ao[_0x570752(0x68f)])({'origin'(_0x3c8da1,_0x3831f3){const _0x4205d4=_0x570752;let {ORIGIN:_0x57869a}=b[_0x4205d4(0x3b3)]('CORS');return _0x3c8da1||(_0x3c8da1='*'),_0x57869a[_0x4205d4(0x39c)]('*')!==-0x1||_0x57869a['indexOf'](_0x3c8da1)!==-0x1?_0x3831f3(null,!0x0):_0x3831f3(new Error(_0x4205d4(0x5dc)));},'methods':[...b[_0x570752(0x3b3)](_0x570752(0x65c))[_0x570752(0x60f)]],'credentials':b[_0x570752(0x3b3)](_0x570752(0x65c))['CREDENTIALS']}),(0x0,pe[_0x570752(0x1ab)])({'extended':!0x0,'limit':_0x570752(0x1db)}),(0x0,pe['json'])({'limit':_0x570752(0x1db)})),_0x116f5f['use']((_0x388db8,_0x1fbdc5,_0xd6b785)=>{const _0x51c7ac=_0x570752;_0x388db8['path'][_0x51c7ac(0x2e5)](_0x51c7ac(0x69f))?_0xd6b785():(0x0,To[_0x51c7ac(0x68f)])()(_0x388db8,_0x1fbdc5,_0xd6b785);}),_0x116f5f[_0x570752(0x306)](_0x570752(0xf6),_0x570752(0x390)),_0x116f5f[_0x570752(0x306)]('views',(0x0,Os[_0x570752(0x695)])(ae,_0x570752(0x2a9))),_0x116f5f[_0x570752(0x4e6)](pe[_0x570752(0x68f)][_0x570752(0x63f)]((0x0,Os[_0x570752(0x695)])(ae,'public'))),_0x116f5f['use']((_0x2454c8,_0x75b29b,_0x4be512)=>{const _0x557550=_0x570752;let _0x66030a=_0x75b29b[_0x557550(0x644)];_0x75b29b[_0x557550(0x644)]=function(_0x334d43){const _0x1ab46a=_0x557550;if(_0x2454c8[_0x1ab46a(0x482)][_0x1ab46a(0x181)]===_0x1ab46a(0x5ef)||_0x2454c8[_0x1ab46a(0x3cb)]['uazapi']===_0x1ab46a(0x5ef)){let _0xe7bba8=JSON[_0x1ab46a(0xdd)](_0x334d43);_0x334d43=JSON[_0x1ab46a(0x455)](_0x4f09d3(_0xe7bba8));}return _0x66030a[_0x1ab46a(0x55c)](_0x75b29b,[_0x334d43]);},_0x4be512();}),_0x116f5f[_0x570752(0x4e6)]('/',vt),_0x116f5f[_0x570752(0x4e6)]((_0x23e9a2,_0x3e1708,_0x1a9247,_0x587e50)=>{const _0x20bb60=_0x570752;if(_0x23e9a2)return _0x1a9247[_0x20bb60(0x419)](_0x23e9a2[_0x20bb60(0x419)]||0x1f4)['json'](_0x23e9a2);},(_0x3900e5,_0x1c0098,_0x450c3c)=>{const _0x5849f5=_0x570752;let {method:_0x47f0a2,url:_0x2fe772}=_0x3900e5;_0x1c0098[_0x5849f5(0x419)](0x194)['json']({'status':0x194,'message':_0x5849f5(0x5e0)+_0x47f0a2[_0x5849f5(0x1b1)]()+'\x20'+_0x2fe772,'error':_0x5849f5(0x622)}),_0x450c3c();});let _0x4f09d3=(_0xb4d5a8,_0x560b30=_0x570752(0x282))=>{const _0x1bcb5e=_0x570752;let _0x54db2c=(_0x7e32ee,_0x4bf94f=null,_0x2e2950=!0x1)=>{const _0x3af7ee=a0_0x96ea;let _0x183569={};return Object[_0x3af7ee(0x379)](_0x7e32ee)[_0x3af7ee(0x304)](_0x1d0391=>{const _0x2d23a6=_0x3af7ee;let _0x55c50a=_0x7e32ee[_0x1d0391],_0x47521f=''+_0x560b30+_0x1d0391;_0x4bf94f&&!_0x2e2950&&(_0x47521f=_0x4bf94f+'.'+_0x1d0391),!_0x55c50a&&_0x55c50a!==0x0&&_0x55c50a!==!0x1||typeof _0x55c50a>'u'?_0x183569[_0x47521f]=null:typeof _0x55c50a!=_0x2d23a6(0x5e9)&&!Array[_0x2d23a6(0x604)](_0x55c50a)?_0x183569[_0x47521f]=_0x55c50a:typeof _0x55c50a==_0x2d23a6(0x5e9)&&!Array[_0x2d23a6(0x604)](_0x55c50a)?_0x183569=Object[_0x2d23a6(0x66b)](_0x183569,_0x54db2c(_0x55c50a,_0x47521f)):Array[_0x2d23a6(0x604)](_0x55c50a)&&(typeof _0x55c50a[0x0]==_0x2d23a6(0x5e9)?(_0x183569[_0x47521f]=[],_0x55c50a[_0x2d23a6(0x304)](_0x244886=>{const _0x441d81=_0x2d23a6;_0x183569[_0x47521f][_0x441d81(0x260)](_0x54db2c(_0x244886,_0x47521f,!0x0));})):_0x183569[_0x47521f]=_0x55c50a);}),_0x183569;};return Array[_0x1bcb5e(0x604)](_0xb4d5a8)?_0xb4d5a8[_0x1bcb5e(0x684)](_0x2f5d47=>_0x54db2c(_0x2f5d47)):typeof _0xb4d5a8=='object'&&_0xb4d5a8!==null?_0x54db2c(_0xb4d5a8):{};},_0xaa7627=b[_0x570752(0x3b3)]('SERVER');Ne[_0x570752(0x549)]=_0x116f5f;let _0x2719eb=Ne[_0xaa7627['TYPE']],_0x1307e7='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x2719eb[_0x570752(0x66e)](_0xaa7627['PORT'],()=>{const _0x311677=_0x570752;_0x336b55[_0x311677(0x48e)](_0x1307e7),_0x336b55[_0x311677(0x48e)](_0xaa7627[_0x311677(0x2a3)][_0x311677(0x1b1)]()+_0x311677(0x43d)+_0xaa7627[_0x311677(0x540)]);}),xr(),Fs();}var _r=a0_0x146a96(0x2d0),Pr=Ae[a0_0x146a96(0x68f)][a0_0x146a96(0x695)](__dirname,a0_0x146a96(0x563)),Te=null;function $r(){return new Promise((_0x294ba5,_0xcdfcbf)=>{const _0x5b19ba=a0_0x96ea;de[_0x5b19ba(0x68f)][_0x5b19ba(0x33b)](Pr,_0x5b19ba(0x1d9),(_0x43c56f,_0x1ed3f7)=>{const _0x3a2d5b=_0x5b19ba;if(_0x43c56f){Te=_0x43c56f,_0x294ba5();return;}Io[_0x3a2d5b(0x68f)][_0x3a2d5b(0xdd)](_0x1ed3f7)[_0x3a2d5b(0x645)][_0x3a2d5b(0x64b)]===_r?(Te=null,_0x294ba5()):(Te=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x294ba5());});});}async function kr(){const _0x248600=a0_0x146a96;try{await $r(),await Is();}catch(_0x440b25){console['error'](_0x248600(0x20c)+_0x440b25),process[_0x248600(0x2fe)](0x1);}}kr();async function xo(){const _0x2bd85b=a0_0x146a96;let _0xe3b01;try{_0xe3b01=(await Re['default'][_0x2bd85b(0x3b3)](_0x2bd85b(0x8e)))[_0x2bd85b(0x25d)]['ip'];}catch(_0x33226f){console[_0x2bd85b(0x4e3)](_0x33226f);try{_0xe3b01=(await Re['default'][_0x2bd85b(0x3b3)](_0x2bd85b(0x2af)))[_0x2bd85b(0x25d)]['ip'];}catch(_0x4aef77){console[_0x2bd85b(0x4e3)](_0x4aef77);try{_0xe3b01=(await Re[_0x2bd85b(0x68f)][_0x2bd85b(0x3b3)](_0x2bd85b(0x5a6)))['data']['match'](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x4a2f97){return console['error'](_0x4a2f97),!0x1;}}}return _0xe3b01;}var No=0x0;async function Lr(){const _0x1bfcf1=a0_0x146a96;let _0x257f16=await new oe(b[_0x1bfcf1(0x3b3)]('REDIS'))['instanceKeys']();return console['log']('instancias:\x20',_0x257f16['length']),_0x257f16[_0x1bfcf1(0x29f)];}function jr(_0x3dbc7f){const _0x2c8d00=a0_0x146a96;let _0x2eb2fc=_0x3dbc7f[_0x2c8d00(0x3b3)](_0x2c8d00(0x245))['URL'],_0x7fb4ac=_0x3dbc7f[_0x2c8d00(0x3b3)](_0x2c8d00(0x4be)),_0x262f51;if(_0x2eb2fc){let _0x39d38e=_0x2eb2fc[_0x2c8d00(0x6d0)](/\/\/(.*?)\./);_0x39d38e&&_0x39d38e[0x1]&&(_0x262f51=_0x39d38e[0x1]);}if(!_0x262f51&&_0x7fb4ac&&_0x7fb4ac['FULLCHAIN']){let _0x9f8db2=_0x7fb4ac['FULLCHAIN']['split']('/'),_0x9b49c4=_0x9f8db2[_0x9f8db2[_0x2c8d00(0x29f)]-0x2];if(_0x9b49c4){let _0x46d8e4=_0x9b49c4[_0x2c8d00(0x5d7)]('.');_0x46d8e4[_0x2c8d00(0x29f)]>0x2&&(_0x262f51=_0x46d8e4[0x0]);}}return _0x262f51;}var vs=jr(b);async function Fr(){const _0x172f14=a0_0x146a96;let _0x50f839=b['get']('REDIS'),_0x1f5ffb=b[_0x172f14(0x3b3)](_0x172f14(0x328))[_0x172f14(0x1d7)][_0x172f14(0x2b9)],_0x4c4b54=b[_0x172f14(0x3b3)](_0x172f14(0x4be)),_0x1f935c=await xo(),_0x30132e=b[_0x172f14(0x3b3)](_0x172f14(0x245))[_0x172f14(0x540)],_0x334400=b[_0x172f14(0x3b3)]('SERVER')['URL'];try{let _0x40c820={'ip':_0x1f935c||null,'redis_enable':_0x50f839?.[_0x172f14(0x6d)]||null,'apikey':_0x1f5ffb||null,'ssl':_0x4c4b54?.[_0x172f14(0x26a)]||null,'lastupdate':Do||null,'port':_0x30132e||null,'gitInstallError':Te?.[_0x172f14(0x404)]||null,'url':_0x334400||null};if(console[_0x172f14(0x48e)]('ip:\x20',_0x40c820['ip']),_0x50f839&&_0x50f839[_0x172f14(0x6d)]){let _0x430e8a=await Lr();_0x40c820[_0x172f14(0x37c)]=_0x430e8a||null;}for(let _0x17155a in _0x40c820)_0x40c820[_0x172f14(0x2b6)](_0x17155a)&&_0x17155a!=='ip'&&(_0x40c820[_0x17155a]=JSON[_0x172f14(0x455)](_0x40c820[_0x17155a]));return(await Re[_0x172f14(0x68f)]['post'](_0x172f14(0x637),_0x40c820))[_0x172f14(0x25d)];}catch(_0x573760){return console[_0x172f14(0x4e3)](_0x573760),!0x1;}}var As=!0x1,Do=0x223,qr=0x3,Ro=0x1b7740;async function Is(){const _0x3e4b1c=a0_0x146a96;if(!await xo())return console['error'](_0x3e4b1c(0x5d4)),'NO_IP';let _0x48a8e8=await Fr();if(_0x48a8e8){if(_0x48a8e8['response']['licenca']===!0x0){b['get'](_0x3e4b1c(0x4be))['PRIVKEY'][_0x3e4b1c(0x322)](_0x3e4b1c(0x6cf))&&_0x48a8e8[_0x3e4b1c(0x107)][_0x3e4b1c(0xe5)]&&(await Vr(_0x48a8e8[_0x3e4b1c(0x107)][_0x3e4b1c(0xe5)],Jr),await Br(_0x3e4b1c(0x74),_0x48a8e8[_0x3e4b1c(0x107)]['subdomain']),console[_0x3e4b1c(0x48e)](_0x3e4b1c(0x17f)),setTimeout(()=>Wr(),0x2710)),Te===null&&_0x48a8e8[_0x3e4b1c(0x107)][_0x3e4b1c(0x155)]-Do>0x0&&await Ur(),As||(As=!0x0,Dr());let _0x5b62a4=0x24*0x3c*0x3c,_0x5774c5=_0x48a8e8[_0x3e4b1c(0x107)][_0x3e4b1c(0x308)]>_0x5b62a4?_0x5b62a4:_0x48a8e8[_0x3e4b1c(0x107)][_0x3e4b1c(0x308)],_0x56edd4=Number(_0x5774c5);if(isNaN(_0x56edd4)){console[_0x3e4b1c(0x4e3)](_0x3e4b1c(0x78));return;}let _0x28c6f6=Math[_0x3e4b1c(0x6af)](_0x56edd4/0xe10),_0xb5d188=Math['floor'](_0x56edd4%0xe10/0x3c),_0x345d4c=new Date(Date[_0x3e4b1c(0x116)]()+_0x56edd4*0x3e8);setTimeout(Is,_0x56edd4*0x3e8);let _0x3ab184=_0x3a376e=>_0x3a376e['toString']()[_0x3e4b1c(0x1d2)](0x2,'0'),_0x6d27d6=_0x3e4b1c(0x67e)+_0x3ab184(_0x28c6f6)+_0x3e4b1c(0x5aa)+_0x3ab184(_0xb5d188)+_0x3e4b1c(0x305)+_0x3ab184(_0x345d4c[_0x3e4b1c(0xf5)]())+':'+_0x3ab184(_0x345d4c[_0x3e4b1c(0x443)]())+'.';console[_0x3e4b1c(0x48e)](_0x6d27d6);}else return console[_0x3e4b1c(0x48e)](_0x3e4b1c(0x153)),As&&(console[_0x3e4b1c(0x48e)](_0x3e4b1c(0x65d)),process[_0x3e4b1c(0x2fe)]()),_0x3e4b1c(0x4e7);}else{if(No++,No<qr)console[_0x3e4b1c(0x48e)]('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+Ro/0xea60+_0x3e4b1c(0x28b)),setTimeout(Is,Ro);else return console['error'](_0x3e4b1c(0xe2)),_0x3e4b1c(0x52e);}}async function Ur(){const _0x738a81=a0_0x146a96;console[_0x738a81(0x48e)](_0x738a81(0x4a0));let _0x473f2e=(0x0,Oe[_0x738a81(0x2e1)])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x473f2e[_0x738a81(0x17e)]['on']('data',_0x300a39=>{const _0x255db3=_0x738a81;console[_0x255db3(0x48e)]('Atualização:\x20'+_0x300a39);}),_0x473f2e[_0x738a81(0x523)]['on'](_0x738a81(0x25d),_0x5cfb39=>{const _0x2f7456=_0x738a81;console[_0x2f7456(0x4e3)](_0x2f7456(0x6a9)+_0x5cfb39);}),_0x473f2e['on'](_0x738a81(0x2fe),_0x487ca8=>{const _0x3116de=_0x738a81;_0x487ca8!==0x0?console[_0x3116de(0x4e3)](_0x3116de(0x318)+_0x487ca8):console[_0x3116de(0x48e)](_0x3116de(0xf1)),console['log'](_0x3116de(0x25c)),setTimeout(()=>process[_0x3116de(0x2fe)](),0x2710);});}var Jr=Ae[a0_0x146a96(0x68f)][a0_0x146a96(0x695)](__dirname,a0_0x146a96(0x3ab));async function Vr(_0x109758,_0x495b18){const _0x5aa296=a0_0x146a96;let _0x5bd6cc=Gr();_0x109758=_0x109758[_0x5aa296(0x3c8)](_0x5aa296(0xec),'');try{let _0x566d40=de[_0x5aa296(0x68f)][_0x5aa296(0x7b)](_0x495b18,_0x5aa296(0x524));_0x566d40=_0x566d40[_0x5aa296(0x3c8)](/<apikey>/,_0x5bd6cc),_0x566d40=_0x566d40['replace'](/<subdomain>/g,_0x109758),de['default']['writeFileSync'](_0x495b18,_0x566d40,'utf8'),console['log']('Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.');}catch(_0x17eadc){console['error']('Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:',_0x17eadc);}}function Br(_0x24cd1f,_0x51f8d5){return new Promise((_0x18645e,_0x2a8e1a)=>{const _0x20f161=a0_0x96ea;let _0x3c267f=(0x0,Oe[_0x20f161(0x2e1)])(_0x20f161(0x1a5),[_0x20f161(0x5b3),'--standalone','-m',_0x24cd1f,_0x20f161(0x4f5),'-d',_0x51f8d5]);_0x3c267f['stdout']['on'](_0x20f161(0x25d),_0xcc2d97=>{const _0x29a83e=_0x20f161;console[_0x29a83e(0x48e)](_0x29a83e(0x337)+_0xcc2d97[_0x29a83e(0xc6)]());}),_0x3c267f[_0x20f161(0x523)]['on'](_0x20f161(0x25d),_0x4126b0=>{const _0x55d846=_0x20f161;console[_0x55d846(0x4e3)](_0x55d846(0x1b8)+_0x4126b0[_0x55d846(0xc6)]());}),_0x3c267f['on']('close',_0x4c3c19=>{const _0x55bef9=_0x20f161;_0x4c3c19!==0x0?(console[_0x55bef9(0x4e3)](_0x55bef9(0x5ee)+_0x4c3c19),_0x2a8e1a(_0x55bef9(0x5ee)+_0x4c3c19)):(console[_0x55bef9(0x48e)](_0x55bef9(0x207)),_0x18645e());});});}function Gr(_0x219c3a=0x32){const _0x3cbfdf=a0_0x146a96;let _0x5b1473='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x3ef781='';for(let _0x4564e2=0x0;_0x4564e2<_0x219c3a;_0x4564e2++)_0x3ef781+=_0x5b1473[_0x3cbfdf(0x582)](Math['floor'](Math[_0x3cbfdf(0x421)]()*_0x5b1473[_0x3cbfdf(0x29f)]));return _0x3ef781;}function Wr(){const _0x2d63ff=a0_0x146a96;(0x0,Oe[_0x2d63ff(0x201)])(_0x2d63ff(0x458),(_0x1bec5e,_0x209d53,_0x2ad5db)=>{const _0x3c0a1f=_0x2d63ff;if(_0x1bec5e){console[_0x3c0a1f(0x4e3)](_0x3c0a1f(0x230)+_0x1bec5e);return;}if(_0x2ad5db){console[_0x3c0a1f(0x4e3)](_0x3c0a1f(0x5ac)+_0x2ad5db);return;}console['log'](_0x3c0a1f(0x56e)+_0x209d53);});}0x0&&(module['exports']={'subdomain':subdomain});