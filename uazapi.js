const a0_0x2a4c6a=a0_0x5ebe;(function(_0x27f4c8,_0x568b80){const _0x4e03d7=a0_0x5ebe,_0x4fb23d=_0x27f4c8();while(!![]){try{const _0x1cd9c5=-parseInt(_0x4e03d7(0x6d7))/0x1+-parseInt(_0x4e03d7(0x625))/0x2*(-parseInt(_0x4e03d7(0x221))/0x3)+-parseInt(_0x4e03d7(0x110))/0x4+parseInt(_0x4e03d7(0x6c5))/0x5+parseInt(_0x4e03d7(0x37f))/0x6*(-parseInt(_0x4e03d7(0x294))/0x7)+parseInt(_0x4e03d7(0x541))/0x8*(parseInt(_0x4e03d7(0x6cb))/0x9)+parseInt(_0x4e03d7(0x6d9))/0xa*(parseInt(_0x4e03d7(0x25d))/0xb);if(_0x1cd9c5===_0x568b80)break;else _0x4fb23d['push'](_0x4fb23d['shift']());}catch(_0x1fe0a5){_0x4fb23d['push'](_0x4fb23d['shift']());}}}(a0_0x17e6,0x2298b));var Ir=Object[a0_0x2a4c6a(0x47f)],Ae=Object[a0_0x2a4c6a(0x101)],Dr=Object[a0_0x2a4c6a(0x262)],xr=Object[a0_0x2a4c6a(0x649)],_r=Object[a0_0x2a4c6a(0x6e6)],Pr=Object[a0_0x2a4c6a(0x55f)][a0_0x2a4c6a(0x640)],$r=(_0x175274,_0x38e49d)=>{for(var _0x64809d in _0x38e49d)Ae(_0x175274,_0x64809d,{'get':_0x38e49d[_0x64809d],'enumerable':!0x0});},Os=(_0x116e3d,_0x25c7ef,_0x127167,_0x3c92c3)=>{const _0x1d3e6a=a0_0x2a4c6a;if(_0x25c7ef&&typeof _0x25c7ef==_0x1d3e6a(0x192)||typeof _0x25c7ef==_0x1d3e6a(0x305)){for(let _0x33a77e of xr(_0x25c7ef))!Pr[_0x1d3e6a(0x688)](_0x116e3d,_0x33a77e)&&_0x33a77e!==_0x127167&&Ae(_0x116e3d,_0x33a77e,{'get':()=>_0x25c7ef[_0x33a77e],'enumerable':!(_0x3c92c3=Dr(_0x25c7ef,_0x33a77e))||_0x3c92c3[_0x1d3e6a(0x59a)]});}return _0x116e3d;},R=(_0x5baaf0,_0x210330,_0x19e257)=>(_0x19e257=_0x5baaf0!=null?Ir(_r(_0x5baaf0)):{},Os(_0x210330||!_0x5baaf0||!_0x5baaf0[a0_0x2a4c6a(0x63c)]?Ae(_0x19e257,a0_0x2a4c6a(0x51f),{'value':_0x5baaf0,'enumerable':!0x0}):_0x19e257,_0x5baaf0)),kr=_0x5a4a8f=>Os(Ae({},'__esModule',{'value':!0x0}),_0x5a4a8f),Go={};$r(Go,{'subdomain':()=>Es}),module[a0_0x2a4c6a(0x21c)]=kr(Go);var vr=R(require(a0_0x2a4c6a(0x103))),Ds=require('fs'),xs=require('js-yaml'),_s=require(a0_0x2a4c6a(0x4f6)),Oe=require(a0_0x2a4c6a(0x4f6)),se=process[a0_0x2a4c6a(0xd7)](),de=(0x0,Oe[a0_0x2a4c6a(0x404)])(se,a0_0x2a4c6a(0x3fd)),Is=(0x0,Oe[a0_0x2a4c6a(0x404)])(se,a0_0x2a4c6a(0xb6)),ji=(0x0,Oe['join'])(se,'store','auth'),Ht=class{constructor(){const _0x5ad602=a0_0x2a4c6a;this[_0x5ad602(0x2d5)]();}['get'](_0x5da6fe){const _0x3c3c59=a0_0x2a4c6a;return this[_0x3c3c59(0x4d6)][_0x5da6fe];}[a0_0x2a4c6a(0x2d5)](){const _0x38486e=a0_0x2a4c6a;this['env']=process['env']?.[_0x38486e(0x13d)]!==_0x38486e(0x564)?this['envYaml']():this[_0x38486e(0x6cc)](),process['env']?.[_0x38486e(0x13d)]===_0x38486e(0x564)&&(this[_0x38486e(0x4d6)][_0x38486e(0x4ad)][_0x38486e(0x54b)]=_0x38486e(0x6bd),this['env'][_0x38486e(0x4ad)][_0x38486e(0x6ce)]=Number[_0x38486e(0x1be)](process[_0x38486e(0x4d6)]?.[_0x38486e(0x465)]??'8080'));}[a0_0x2a4c6a(0x1ae)](){const _0x595d50=a0_0x2a4c6a;return(0x0,xs[_0x595d50(0x154)])((0x0,Ds[_0x595d50(0x238)])((0x0,_s[_0x595d50(0x404)])(Is,_0x595d50(0x44a)),{'encoding':_0x595d50(0xfb)}));}[a0_0x2a4c6a(0x6cc)](){const _0x45f2d3=a0_0x2a4c6a;return{'SERVER':{'TYPE':process[_0x45f2d3(0x4d6)][_0x45f2d3(0x668)],'PORT':Number[_0x45f2d3(0x1be)](process[_0x45f2d3(0x4d6)]['SERVER_PORT']),'URL':process['env'][_0x45f2d3(0x579)]},'CORS':{'ORIGIN':process[_0x45f2d3(0x4d6)][_0x45f2d3(0x5ef)]['split'](','),'METHODS':process[_0x45f2d3(0x4d6)][_0x45f2d3(0x6c9)][_0x45f2d3(0xe8)](','),'CREDENTIALS':process[_0x45f2d3(0x4d6)]?.['CORS_CREDENTIALS']===_0x45f2d3(0x564)},'SSL_CONF':{'PRIVKEY':process[_0x45f2d3(0x4d6)]?.[_0x45f2d3(0x5a5)],'FULLCHAIN':process[_0x45f2d3(0x4d6)]?.[_0x45f2d3(0x185)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process['env']?.[_0x45f2d3(0x1e0)])?Number[_0x45f2d3(0x1be)](process[_0x45f2d3(0x4d6)]['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process[_0x45f2d3(0x4d6)]?.[_0x45f2d3(0x5f3)]===_0x45f2d3(0x564),'CONTACTS':process[_0x45f2d3(0x4d6)]?.[_0x45f2d3(0x475)]===_0x45f2d3(0x564),'CHATS':process[_0x45f2d3(0x4d6)]?.[_0x45f2d3(0x1bf)]===_0x45f2d3(0x564)},'DATABASE':{'CONNECTION':{'HOST':process['env']?.['DATABASE_CONNECTION_HOST'],'PORT':Number['parseInt'](process['env']?.[_0x45f2d3(0x4d1)]),'USER':process['env'][_0x45f2d3(0x4e6)],'PASSWORD':process[_0x45f2d3(0x4d6)]['DATABASE_CONNECTION_PASSWORD'],'URI':process['env']['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process['env'][_0x45f2d3(0x5e7)]},'ENABLED':process['env']?.[_0x45f2d3(0x4ee)]===_0x45f2d3(0x564)},'REDIS':{'ENABLED':process['env']?.[_0x45f2d3(0x117)]==='true','URI':process[_0x45f2d3(0x4d6)][_0x45f2d3(0x493)]||_0x45f2d3(0x54c),'PREFIX_KEY':process['env'][_0x45f2d3(0x2a4)]||_0x45f2d3(0x321)},'LOG':{'LEVEL':process[_0x45f2d3(0x4d6)]?.[_0x45f2d3(0x4d5)][_0x45f2d3(0xe8)](','),'COLOR':process[_0x45f2d3(0x4d6)]?.[_0x45f2d3(0x196)]===_0x45f2d3(0x564)},'AUTHENTICATION':{'TYPE':process[_0x45f2d3(0x4d6)][_0x45f2d3(0x583)],'API_KEY':{'KEY':process[_0x45f2d3(0x4d6)][_0x45f2d3(0x282)]},'JWT':{'EXPIRIN_IN':Number['isInteger'](process[_0x45f2d3(0x4d6)]?.[_0x45f2d3(0x3af)])?Number[_0x45f2d3(0x1be)](process['env'][_0x45f2d3(0x3af)]):0xe10,'SECRET':process[_0x45f2d3(0x4d6)]['AUTHENTICATION_JWT_SECRET']}}};}},b=new Ht(),Nr=R(require('cors')),ue=R(require(a0_0x2a4c6a(0x464))),Rs=require(a0_0x2a4c6a(0x4f6)),Kt=R(require('dayjs')),Qt=(_0x141656=>(_0x141656[a0_0x2a4c6a(0xb5)]=a0_0x2a4c6a(0x44b),_0x141656[a0_0x2a4c6a(0x366)]='\x1b[34m',_0x141656[a0_0x2a4c6a(0x5e4)]=a0_0x2a4c6a(0x27a),_0x141656[a0_0x2a4c6a(0x457)]=a0_0x2a4c6a(0x2f8),_0x141656[a0_0x2a4c6a(0x234)]=a0_0x2a4c6a(0x51c),_0x141656[a0_0x2a4c6a(0x55a)]=a0_0x2a4c6a(0x2c8),_0x141656['DARK']='\x1b[30m',_0x141656))(Qt||{}),Ps=(_0x2a82f0=>(_0x2a82f0['LOG']='\x1b[32m%s\x1b[0m',_0x2a82f0[a0_0x2a4c6a(0x417)]=a0_0x2a4c6a(0x104),_0x2a82f0[a0_0x2a4c6a(0x366)]=a0_0x2a4c6a(0xaf),_0x2a82f0[a0_0x2a4c6a(0x5e4)]=a0_0x2a4c6a(0x2c9),_0x2a82f0['ERROR']=a0_0x2a4c6a(0x27c),_0x2a82f0[a0_0x2a4c6a(0x234)]=a0_0x2a4c6a(0x2fc),_0x2a82f0['VERBOSE']='\x1b[37m%s\x1b[0m',_0x2a82f0))(Ps||{}),$s=(_0x385bfb=>(_0x385bfb[a0_0x2a4c6a(0xb5)]=a0_0x2a4c6a(0xb5),_0x385bfb[a0_0x2a4c6a(0x5e4)]=a0_0x2a4c6a(0x5e4),_0x385bfb['INFO']=a0_0x2a4c6a(0x366),_0x385bfb['DARK']=a0_0x2a4c6a(0x417),_0x385bfb['ERROR']=a0_0x2a4c6a(0x457),_0x385bfb['DEBUG']=a0_0x2a4c6a(0x234),_0x385bfb[a0_0x2a4c6a(0x55a)]='VERBOSE',_0x385bfb))($s||{}),ks=(_0x1bac84=>(_0x1bac84[a0_0x2a4c6a(0xb5)]=a0_0x2a4c6a(0x109),_0x1bac84[a0_0x2a4c6a(0x366)]=a0_0x2a4c6a(0x679),_0x1bac84[a0_0x2a4c6a(0x5e4)]=a0_0x2a4c6a(0x388),_0x1bac84[a0_0x2a4c6a(0x417)]=a0_0x2a4c6a(0x663),_0x1bac84['ERROR']='\x1b[41m',_0x1bac84[a0_0x2a4c6a(0x234)]=a0_0x2a4c6a(0x111),_0x1bac84[a0_0x2a4c6a(0x55a)]=a0_0x2a4c6a(0x3b1),_0x1bac84))(ks||{}),v=class{constructor(_0x59545d='Logger'){const _0x4e9d6c=a0_0x2a4c6a;this[_0x4e9d6c(0x571)]=_0x59545d,this[_0x4e9d6c(0x5c8)]=b;}[a0_0x2a4c6a(0x4b5)](_0x4d9df0){const _0x477422=a0_0x2a4c6a;this[_0x477422(0x571)]=_0x4d9df0;}[a0_0x2a4c6a(0x4aa)](_0x329545,_0x33eb45){const _0x3fccd7=a0_0x2a4c6a;let _0x417916=[];this[_0x3fccd7(0x5c8)]['get']('LOG')[_0x3fccd7(0x57f)][_0x3fccd7(0x532)](_0x22dac9=>_0x417916[_0x3fccd7(0x63a)]($s[_0x22dac9]));let _0x107f53=typeof _0x329545;_0x417916[_0x3fccd7(0x587)](_0x33eb45)&&(b[_0x3fccd7(0x471)](_0x3fccd7(0xb5))[_0x3fccd7(0x44c)]?(console['log'](_0x3fccd7(0x32c)+Ps[_0x33eb45],_0x3fccd7(0x10b),(0x0,Kt[_0x3fccd7(0x51f)])()[_0x3fccd7(0x113)](_0x3fccd7(0x15e)),'\x1b[0m',Qt[_0x33eb45]+ks[_0x33eb45]+_0x3fccd7(0x32c),_0x33eb45+_0x3fccd7(0x5f4),_0x3fccd7(0x470),this[_0x3fccd7(0x571)]+_0x3fccd7(0xaa),Qt[_0x33eb45],_0x107f53!=='object'?_0x329545:'',_0x3fccd7(0xaa)),_0x107f53===_0x3fccd7(0x192)&&console[_0x3fccd7(0x168)](_0x329545,'\x0a')):console[_0x3fccd7(0x168)]((0x0,Kt[_0x3fccd7(0x51f)])()[_0x3fccd7(0x113)](_0x3fccd7(0x182)),_0x33eb45+'\x20',''+this[_0x3fccd7(0x571)],_0x329545));}[a0_0x2a4c6a(0x168)](_0x5af7de){const _0x3fd1cb=a0_0x2a4c6a;this[_0x3fd1cb(0x4aa)](_0x5af7de,_0x3fd1cb(0xb5));}[a0_0x2a4c6a(0x25c)](_0x45ce0a){const _0xf66a5d=a0_0x2a4c6a;this[_0xf66a5d(0x4aa)](_0x45ce0a,_0xf66a5d(0x366));}[a0_0x2a4c6a(0x399)](_0x8e036d){const _0xd5d76d=a0_0x2a4c6a;this['console'](_0x8e036d,_0xd5d76d(0x5e4));}[a0_0x2a4c6a(0x53e)](_0xdecade){const _0x458a7b=a0_0x2a4c6a;this[_0x458a7b(0x4aa)](_0xdecade,'ERROR');}[a0_0x2a4c6a(0x33d)](_0x770043){const _0xc0ca37=a0_0x2a4c6a;this['console'](_0x770043,_0xc0ca37(0x55a));}[a0_0x2a4c6a(0x3fe)](_0x28aae0){const _0x425c76=a0_0x2a4c6a;this[_0x425c76(0x4aa)](_0x28aae0,_0x425c76(0x234));}['dark'](_0x2689f0){const _0x82bd2e=a0_0x2a4c6a;this['console'](_0x2689f0,_0x82bd2e(0x417));}};function Ls(){const _0x4a6b15=a0_0x2a4c6a;process['on'](_0x4a6b15(0x4a3),(_0x3db38a,_0x5127cd)=>{const _0x46531d=_0x4a6b15;new v(_0x46531d(0x4a3))[_0x46531d(0x53e)]({'origin':_0x5127cd,'stderr':process[_0x46531d(0x4cf)]['fd'],'error':_0x3db38a});}),process['on'](_0x4a6b15(0x47b),(_0x3a52e1,_0x289050)=>{const _0x455432=_0x4a6b15;new v(_0x455432(0x47b))[_0x455432(0x53e)]({'origin':_0x289050,'stderr':process[_0x455432(0x4cf)]['fd'],'error':_0x3a52e1});});}var Fs=R(require('eventemitter2')),Yt=new Fs['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Ie=require(a0_0x2a4c6a(0x2f9)),Xt=R(require(a0_0x2a4c6a(0x2f9))),Lr=new v(a0_0x2a4c6a(0x6d5)),q=b['get'](a0_0x2a4c6a(0x38f)),N=q[a0_0x2a4c6a(0x351)]?q[a0_0x2a4c6a(0x3dd)][a0_0x2a4c6a(0x145)]?Xt[a0_0x2a4c6a(0x51f)][a0_0x2a4c6a(0x4be)](q['CONNECTION'][a0_0x2a4c6a(0x145)],{'dbName':q[a0_0x2a4c6a(0x3dd)][a0_0x2a4c6a(0x2fa)]+a0_0x2a4c6a(0x692)}):Xt['default']['createConnection'](a0_0x2a4c6a(0x5f1)+q['CONNECTION']['HOST']+':'+q[a0_0x2a4c6a(0x3dd)]['PORT']+a0_0x2a4c6a(0xeb),{'user':q[a0_0x2a4c6a(0x3dd)][a0_0x2a4c6a(0x15c)],'pass':q[a0_0x2a4c6a(0x3dd)][a0_0x2a4c6a(0xc0)],'dbName':q[a0_0x2a4c6a(0x3dd)][a0_0x2a4c6a(0x2fa)]+a0_0x2a4c6a(0x692)}):null;q[a0_0x2a4c6a(0x351)]&&Lr[a0_0x2a4c6a(0x25c)](a0_0x2a4c6a(0x5d1)+N[a0_0x2a4c6a(0x4a6)]);var Fr=new Ie[(a0_0x2a4c6a(0x188))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String},'chatId':{'type':String}}),Ur=new Ie[(a0_0x2a4c6a(0x188))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Fr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Jr=new Ie[(a0_0x2a4c6a(0x188))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Ur,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String]}}),Us=_0x2d2171=>{const _0x21ece1=a0_0x2a4c6a;let _0x17a7c8='z_'+_0x2d2171+_0x21ece1(0x229);return N?.[_0x21ece1(0xba)](_0x21ece1(0x429),Jr,_0x17a7c8);},Js=require('mongoose'),jr=new Js[(a0_0x2a4c6a(0x188))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),js=_0x2d396f=>{const _0x345b81=a0_0x2a4c6a;let _0x1275ae='z_'+_0x2d396f+_0x345b81(0x291);return N?.[_0x345b81(0xba)](_0x345b81(0x1de),jr,_0x1275ae);},qs=require('mongoose'),qr=new qs[(a0_0x2a4c6a(0x188))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String,'minlength':0x3,'enum':[a0_0x2a4c6a(0x516),a0_0x2a4c6a(0x556),a0_0x2a4c6a(0x60e)]},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Vs=_0x5ebd01=>{const _0xa36264=a0_0x2a4c6a;let _0x4f4622='z_'+_0x5ebd01+_0xa36264(0x5d3);return N?.[_0xa36264(0xba)](_0xa36264(0x3b6),qr,_0x4f4622);},Bs=require(a0_0x2a4c6a(0x2f9)),Zt=class{},Vr=new Bs['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'proxy':{'type':String}}),Gs=N?.[a0_0x2a4c6a(0xba)](Zt[a0_0x2a4c6a(0x194)],Vr,'authentication'),Ws=require(a0_0x2a4c6a(0x2f9)),es=class{},zs=new Ws[(a0_0x2a4c6a(0x188))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});zs['pre'](a0_0x2a4c6a(0x36f),function(_0x1f77f2){const _0x1a8911=a0_0x2a4c6a;delete this['flowActive'],delete this[_0x1a8911(0x264)],delete this[_0x1a8911(0x5fe)],delete this[_0x1a8911(0x49d)],delete this[_0x1a8911(0xf1)],_0x1f77f2();});var Hs=N?.[a0_0x2a4c6a(0xba)](es[a0_0x2a4c6a(0x194)],zs,'webhook'),x=require(a0_0x2a4c6a(0x2f9)),De=class{},Ks=new x[(a0_0x2a4c6a(0x188))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ts=new x[(a0_0x2a4c6a(0x188))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Br=new x[(a0_0x2a4c6a(0x188))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x2a4c6a(0xa3)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x2a4c6a(0x4db)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x2a4c6a(0x386)},'pollErrorMessage':{'type':String,'default':a0_0x2a4c6a(0x463)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Qs=new x[(a0_0x2a4c6a(0x188))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Gr=new x[(a0_0x2a4c6a(0x188))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),Wr=new x['Schema']({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Ys=new x[(a0_0x2a4c6a(0x188))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Br},'apirequest':Gr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),is=new x[(a0_0x2a4c6a(0x188))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),Xs=new x[(a0_0x2a4c6a(0x188))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ss=class{},ns=new x[(a0_0x2a4c6a(0x188))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x181f2d=a0_0x2a4c6a;return _0x181f2d(0x3f1)+Math[_0x181f2d(0x275)]()['toString'](0x24)[_0x181f2d(0x211)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[is],'variablesNotFound':{'type':[String]},'blocks':[Ys],'groups':[Ks],'conditions':[Qs],'varedits':[Xs],'replyOptions':{'type':[ts],'default':[]}});ns['pre'](a0_0x2a4c6a(0x36f),function(_0x4c1f2c){const _0x557048=a0_0x2a4c6a;let _0x4fe12e=new Set(),_0x428ab0=new Set(this[_0x557048(0x5dd)]?.[_0x557048(0xfe)](_0x371c7f=>_0x371c7f[_0x557048(0x194)])),_0x2acc38=JSON[_0x557048(0x45c)](this),_0xa2ba04=/{{(?!_)([^}]*)}}/g,_0x40fc0c;for(;(_0x40fc0c=_0xa2ba04[_0x557048(0x1f2)](_0x2acc38))!==null;)_0x428ab0[_0x557048(0x3e1)](_0x40fc0c[0x1])||_0x4fe12e[_0x557048(0x697)](_0x40fc0c[0x1]);_0x4fe12e[_0x557048(0x624)]>0x0?(console[_0x557048(0x399)](_0x557048(0x381),Array[_0x557048(0x489)](_0x4fe12e)),this[_0x557048(0x488)]=Array[_0x557048(0x489)](_0x4fe12e)):this['variablesNotFound']=[],_0x4c1f2c();});var Zs=_0x3dc35f=>{const _0x327725=a0_0x2a4c6a;let _0x40d6c3='z_'+_0x3dc35f+_0x327725(0x498);return N?.['model'](_0x327725(0x551),ns,_0x40d6c3);},ea=N?.[a0_0x2a4c6a(0xba)](ss[a0_0x2a4c6a(0x194)],ns,a0_0x2a4c6a(0x231)),zr=new x[(a0_0x2a4c6a(0x188))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[is],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Wr]},{'_id':!0x1}),as=class{},ta=new x[(a0_0x2a4c6a(0x188))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[is],'blocks':[Ys],'groups':[Ks],'conditions':[Qs],'varedits':[Xs],'replyOptions':{'type':[ts],'default':[]},'chatLog':zr,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x2a4c6a(0x35e)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x2a4c6a(0x386)},'waitingMenu_replyOptions':{'type':[ts],'default':[]}}),sa=_0x2783f6=>{const _0x173984=a0_0x2a4c6a;let _0x1503a4='z_'+_0x2783f6+_0x173984(0x58d);return N?.['model'](_0x173984(0x670),ta,_0x1503a4);},aa=N?.[a0_0x2a4c6a(0xba)](as[a0_0x2a4c6a(0x194)],ta,a0_0x2a4c6a(0x467)),rs=class{},Hr=new x[(a0_0x2a4c6a(0x188))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Kr=new x[(a0_0x2a4c6a(0x188))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ra=new x[(a0_0x2a4c6a(0x188))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x2a4c6a(0x6c1)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Kr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Hr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),oa=_0x19dc4f=>{const _0x4082c8=a0_0x2a4c6a;let _0xea5e63='z_'+_0x19dc4f+_0x4082c8(0x50e);return N?.[_0x4082c8(0xba)](_0x4082c8(0x1ca),ra,_0xea5e63);},ia=N?.['model'](rs[a0_0x2a4c6a(0x194)],ra,a0_0x2a4c6a(0x449)),os=class{},Qr=new x[(a0_0x2a4c6a(0x188))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Yr=new x[(a0_0x2a4c6a(0x188))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x2a4c6a(0x4e0)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),Xr=new x[(a0_0x2a4c6a(0x188))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Zr=new x[(a0_0x2a4c6a(0x188))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[Xr]},'customFields':{'type':[Qr]},'flowConfig':{'type':Yr,'default':{}}}),xe=N?.[a0_0x2a4c6a(0xba)](os[a0_0x2a4c6a(0x194)],Zr,a0_0x2a4c6a(0x25b)),na=require(a0_0x2a4c6a(0x2f9)),eo=new na[(a0_0x2a4c6a(0x188))]({'_id':{'type':String},'name':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ca=_0x251c20=>{const _0x59a127=a0_0x2a4c6a;let _0x28c860='z_'+_0x251c20+'_Labels';return N?.['model'](_0x59a127(0x332),eo,_0x28c860);},I=class{constructor(_0x1f85c1){const _0x13f128=a0_0x2a4c6a;this['dbSettings']=_0x1f85c1[_0x13f128(0x471)](_0x13f128(0x38f));}};function A(_0x2d5a61){const _0x3a8b6d=a0_0x2a4c6a;let _0x17d47a={};for(let [_0x2bdab3,_0x29c10c]of Object[_0x3a8b6d(0x577)](_0x2d5a61))if(typeof _0x29c10c==_0x3a8b6d(0x192)&&!Array[_0x3a8b6d(0x403)](_0x29c10c)){for(let [_0x1b6908,_0xe28d16]of Object[_0x3a8b6d(0x577)](_0x29c10c))_0x17d47a[_0x2bdab3+'.'+_0x1b6908]=_0xe28d16;}else _0x17d47a[_0x2bdab3]=_0x29c10c;return _0x17d47a;}var _e=class{constructor(_0x470086,_0x2c30b9,_0x1dc0b,_0xcabd41,_0x3d7f64,_0x3a411d,_0x591e55,_0x2ebd46,_0xf90cc2,_0x4ee9bb,_0x162295){const _0x3504d0=a0_0x2a4c6a;this[_0x3504d0(0x55b)]=_0x470086,this[_0x3504d0(0x633)]=_0x2c30b9,this[_0x3504d0(0x2a3)]=_0x1dc0b,this[_0x3504d0(0x393)]=_0xcabd41,this[_0x3504d0(0x124)]=_0x3d7f64,this[_0x3504d0(0x231)]=_0x3a411d,this[_0x3504d0(0x467)]=_0x591e55,this[_0x3504d0(0x4cd)]=_0x2ebd46,this[_0x3504d0(0x40b)]=_0xf90cc2,this[_0x3504d0(0x459)]=_0x4ee9bb,this[_0x3504d0(0x3b5)]=_0x162295;}get[a0_0x2a4c6a(0xc8)](){const _0x5ee82a=a0_0x2a4c6a;return this[_0x5ee82a(0x3b5)];}},Pe=class{},$e=class extends I{[a0_0x2a4c6a(0x2a7)](_0x56063b){return Vs(_0x56063b);}async[a0_0x2a4c6a(0x434)](_0x267cb6,_0x1ed2a7){const _0x3d4c3d=a0_0x2a4c6a;if(_0x267cb6['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x1ed2a7)[_0x3d4c3d(0x22b)]([..._0x267cb6]))['length']};}catch(_0x1a2d73){return console[_0x3d4c3d(0x168)](_0x3d4c3d(0x2dd),_0x1a2d73),_0x1a2d73;}}async['find'](_0x480359,_0x25e818){const _0x1bc0f0=a0_0x2a4c6a;try{let _0x1cd528=this[_0x1bc0f0(0x2a7)](_0x25e818),_0x5d1c24=A(_0x480359[_0x1bc0f0(0x249)]);return await _0x1cd528['find'](_0x5d1c24)[_0x1bc0f0(0x38e)]({'messageTimestamp':-0x1})[_0x1bc0f0(0x520)](_0x480359?.['limit']??0x0)[_0x1bc0f0(0x14b)]();}catch{return[];}}async[a0_0x2a4c6a(0x572)](_0x5746b6,_0x14ce6d){const _0x1fbbbb=a0_0x2a4c6a;try{let _0x4af5df=this[_0x1fbbbb(0x2a7)](_0x14ce6d),_0x1c821c=A(_0x5746b6['where']);await _0x4af5df[_0x1fbbbb(0x267)](_0x1c821c);}catch(_0x20a143){console[_0x1fbbbb(0x53e)](_0x20a143);}}async[a0_0x2a4c6a(0x25a)](_0x3602ad,_0x1b957b,_0x2ac89c){const _0x427b9e=a0_0x2a4c6a;try{let _0x5b4f83=this[_0x427b9e(0x2a7)](_0x2ac89c),_0x571082=A(_0x3602ad[_0x427b9e(0x249)]);return await _0x5b4f83[_0x427b9e(0x39b)](_0x571082,{'$set':_0x1b957b},{'new':!0x0});}catch(_0x54c5f6){throw console['error'](_0x54c5f6),_0x54c5f6;}}async[a0_0x2a4c6a(0x22b)](_0x4bf6cb,_0x13c84b){const _0x1271dc=a0_0x2a4c6a;if(_0x4bf6cb['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x1271dc(0x2a7)](_0x13c84b)[_0x1271dc(0x22b)]([..._0x4bf6cb]))['length']};}catch(_0x1be064){return console[_0x1271dc(0x168)]('ERROR:\x20',_0x1be064),_0x1be064;}}async[a0_0x2a4c6a(0x1c4)](_0x53ade9){const _0xd0114b=a0_0x2a4c6a;try{return await this['getMessageModelForOwner'](_0x53ade9)[_0xd0114b(0x26b)][_0xd0114b(0x343)](),{'success':!0x0};}catch(_0x2ad543){return console[_0xd0114b(0x53e)](_0x2ad543),{'success':!0x1,'error':_0x2ad543};}}},pr=R(require('@ffmpeg-installer/ffmpeg')),w=R(require('@whiskeysockets/baileys')),Ee=require('fs'),P=R(require(a0_0x2a4c6a(0x4f6))),te=R(require(a0_0x2a4c6a(0x2ac))),gr=require(a0_0x2a4c6a(0xa8)),hr=R(require(a0_0x2a4c6a(0x115))),mr=R(require(a0_0x2a4c6a(0x569))),la=['imageMessage',a0_0x2a4c6a(0x174),'audioMessage','videoMessage',a0_0x2a4c6a(0x5fc)],ua=[a0_0x2a4c6a(0x534),a0_0x2a4c6a(0x61c),'viewOnceMessage','viewOnceMessageV2'],ys=require('os'),Rt=R(require(a0_0x2a4c6a(0x4bf))),Ot=require('child_process'),Tt=require(a0_0x2a4c6a(0x531)),ie=R(require(a0_0x2a4c6a(0x2f9))),$=require(a0_0x2a4c6a(0x39e)),pe=class{constructor(_0x4a62ce,_0x534e2d,_0x4bd139){const _0x7c1d5c=a0_0x2a4c6a;this[_0x7c1d5c(0xa5)]=_0x4a62ce,this[_0x7c1d5c(0x500)]=_0x534e2d,this['name']=_0x4bd139;}},ke=class{},Le=class{},ye=class{},Fe=class{},Ue=class{},ge=class{},Je=class{},je=class{},qe=class{},Ve=class{},Et=R(require(a0_0x2a4c6a(0x464))),da=require('fs'),pa=require(a0_0x2a4c6a(0x4f6));async function Be(_0x3166df){const _0x483b3b=a0_0x2a4c6a;let _0x278dc7=V['waInstances'][_0x3166df];if(q[_0x483b3b(0x351)]){let _0x55b550=N[_0x483b3b(0x6e9)]()['db'](q[_0x483b3b(0x3dd)][_0x483b3b(0x2fa)]+_0x483b3b(0x5e1))[_0x483b3b(0x26b)](_0x3166df);return _0x278dc7||(await _0x55b550[_0x483b3b(0x2e9)]({})['toArray']())[_0x483b3b(0x378)]>0x0;}return _0x278dc7||(0x0,da['existsSync'])((0x0,pa[_0x483b3b(0x404)])(de,_0x3166df));}async function ga(_0x2e7698,_0x1d5c47,_0x4965c3){const _0x3676f4=a0_0x2a4c6a;if(_0x2e7698[_0x3676f4(0x42f)][_0x3676f4(0x587)](_0x3676f4(0x443))||_0x2e7698[_0x3676f4(0x42f)][_0x3676f4(0x587)](_0x3676f4(0x61a))||_0x2e7698[_0x3676f4(0x42f)][_0x3676f4(0x587)](_0x3676f4(0x539))||_0x2e7698[_0x3676f4(0x42f)]['includes'](_0x3676f4(0x6a9))||_0x2e7698['originalUrl'][_0x3676f4(0x587)]('/instance/connect')||_0x2e7698[_0x3676f4(0x42f)][_0x3676f4(0x587)](_0x3676f4(0x269))||_0x2e7698['originalUrl'][_0x3676f4(0x587)](_0x3676f4(0x1f7)))return _0x4965c3();let _0x4ad612=_0x2e7698['params'];if(!_0x4ad612?.['instanceName'])throw new h(_0x3676f4(0x62b));if(!await Be(_0x4ad612[_0x3676f4(0x180)]))throw new L(_0x3676f4(0x4c2)+_0x4ad612['instanceName']+'\x20instance\x20does\x20not\x20exist');_0x4965c3();}async function ha(_0x5cae9b,_0x36f6ea,_0xbe5b38){const _0x39af64=a0_0x2a4c6a;if(_0x5cae9b[_0x39af64(0x42f)]['includes']('/instance/create')){let _0x4b7013=_0x5cae9b['body'];if(await Be(_0x4b7013['instanceName']))throw new H(_0x39af64(0x24d)+_0x4b7013[_0x39af64(0x180)]+'\x20is\x20already\x20in\x20use.');V[_0x39af64(0x11b)][_0x4b7013[_0x39af64(0x180)]]&&delete V[_0x39af64(0x11b)][_0x4b7013['instanceName']];}_0xbe5b38();}var ma=require('class-validator'),fa=R(require('jsonwebtoken')),Ge=a0_0x2a4c6a(0x321),so=new v(a0_0x2a4c6a(0x60c));async function ao(_0x19bfcc,_0x1f60b7,_0x2eb7e3){const _0x5435aa=a0_0x2a4c6a;let _0x1a4d7a=_0x19bfcc['get']('apikey');if(_0x1a4d7a&&b[_0x5435aa(0x471)](_0x5435aa(0x68f))[_0x5435aa(0x5ee)][_0x5435aa(0x59f)]!==_0x1a4d7a)throw new Z();if(b['get'](_0x5435aa(0x68f))[_0x5435aa(0x5ee)][_0x5435aa(0x59f)]===_0x1a4d7a)return _0x2eb7e3();if((_0x19bfcc[_0x5435aa(0x42f)][_0x5435aa(0x587)](_0x5435aa(0x443))||_0x19bfcc[_0x5435aa(0x42f)][_0x5435aa(0x587)](_0x5435aa(0x61a)))&&!_0x1a4d7a)throw new H(_0x5435aa(0x6e8),_0x5435aa(0x1dc));let _0xa36a9a=b[_0x5435aa(0x471)](_0x5435aa(0x68f))[_0x5435aa(0xd8)];try{let [_0x225925,_0xfa9f49]=_0x19bfcc[_0x5435aa(0x471)]('authorization')[_0x5435aa(0xe8)]('\x20');if(_0x225925[_0x5435aa(0x3b2)]()!==_0x5435aa(0x4cb))throw new Z();if(!(0x0,ma[_0x5435aa(0x56e)])(_0xfa9f49))throw new Z();let _0x275e44=_0x19bfcc[_0x5435aa(0x1cc)],_0x137577=fa[_0x5435aa(0x51f)][_0x5435aa(0x428)](_0xfa9f49,_0xa36a9a[_0x5435aa(0x5f2)],{'ignoreExpiration':_0xa36a9a[_0x5435aa(0x1fe)]===0x0});if(_0x275e44[_0x5435aa(0x180)]!==_0x137577[_0x5435aa(0x180)]||Ge!==_0x137577[_0x5435aa(0x1f1)])throw new Z();return _0x2eb7e3();}catch(_0x69926b){throw so[_0x5435aa(0x53e)](_0x69926b),new Z();}}function a0_0x17e6(){const _0x4fa542=['createJid','groupCreate','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','valid','web','updateGroupPicture','Instance\x20\x22','updateMediaMessage','VERBOSE','message','string','Error\x20fetching\x20group','removed','prototype','downloadMediaMessage','bodyString','\x20segundos','fetchMessages','true','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','\x22,\x20valor\x20a\x20substituir:\x20\x22','uazapiSendMenu','defineAuthState','qrcode-terminal','https://api.ipify.org?format=json','findFlow','):\x20','\x20não\x20encontrado\x20para\x20atualização.','isJWT','deleteConversation','BRL','context','delete','\x20saindo\x20da\x20função','request\x20received\x20in\x20deleteFlow','remoteJid','redis','entries','expiration','SERVER_URL','leadInfo.customFields.','findAll','deleteFlow','editConversation','@s.whatsapp.net','LEVEL','Trying\x20to\x20get\x20business\x20profile','json','updateParticipant','AUTHENTICATION_TYPE','getFlowModelForOwner','sendWhatsAppAudio','remove.instance','includes','Valor\x20inicial:\x20\x22','unlocked','count','footerText','):\x20alterando\x20this.AutomateSystem','_FlowHistorico','flowname:\x20','replaceVariablesChat','):\x20customFieldVariables','deletedCount','keys','vote','Unable\x20to\x20leave\x20the\x20group','pollErrorMessage','):\x20Conversa\x20inserida\x20com\x20sucesso.','errno','Converted\x20image\x20deleted','EMAIL:','enumerable','max','FULLCHAIN','startFlow','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','KEY','groupName','repository','createConversationforgoToFlow','\x0a38.154.227.167:5868:bkcihaei:jxnd6wd97u0s\x0a185.199.229.156:7492:bkcihaei:jxnd6wd97u0s\x0a185.199.228.220:7300:bkcihaei:jxnd6wd97u0s\x0a185.199.231.45:8382:bkcihaei:jxnd6wd97u0s\x0a188.74.210.207:6286:bkcihaei:jxnd6wd97u0s\x0a188.74.183.10:8279:bkcihaei:jxnd6wd97u0s\x0a188.74.210.21:6100:bkcihaei:jxnd6wd97u0s\x0a45.155.68.129:8133:bkcihaei:jxnd6wd97u0s\x0a154.95.36.199:6893:bkcihaei:jxnd6wd97u0s\x0a45.94.47.66:8110:bkcihaei:jxnd6wd97u0s\x0a','sem\x20texto\x20na\x20mensagem','SSL_CONF_PRIVKEY','Label\x20','pt-BR','/webhook','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','action','Error\x20removing\x20profile\x20picture','release','updateOne','processApiRequest','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','hex','Erro\x20ao\x20normalizar\x20a\x20mensagem:','checkAndUpdateChatStatus','del','requested\x20testProxy','findAndReplaceRegex','scheduleSendMedia','array','updateOnlinePrivacy','editflowvariable','editFlowReply',',\x20Segundo\x20Valor:\x20','----------------------REMOVE----------------------------','convert','$set','creds','Content-Type','headerString','folder','width','request\x20received\x20in\x20editFlowcondition','Error\x20creating\x20group','CONTACTS_UPSERT','unavailable','configService','Erro\x20ao\x20copiar\x20dados:','syscall','^\x5cd+','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','delayMessage','/wa-groups','state','ON\x20-\x20dbName:\x20',',\x20Minutes\x20to\x20Close:\x20','_Messages',',\x20Expiration\x20Time:\x20','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','min','presence.update','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','@whiskeysockets/baileys','hGet','capitalizedWords','variables','varedit','getLabelModelForOwner','video-cover.png','-instances','):\x20Criando\x20nova\x20conversa[createNewConversation]','.mp4','WARN','findWebhook','/wa-contacts','DATABASE_CONNECTION_DB_PREFIX_NAME','Certbot:\x20','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','generateWAMessageFromContent','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','dbInstance','chatId','API_KEY','CORS_ORIGIN','quoted','mongodb://','SECRET','STORE_MESSAGE','\x20\x1b[0m',',\x20Resultado:\x20','):\x20Enviando\x20áudio','hostname','sectionsToString','Resultado\x20da\x20atualização:','messageId','Module\x20-\x20ON','stickerMessage','available','flowPrefixCommand','username','remoteJidsRemaining','jsonwebtoken','trimmed','Erro\x20ao\x20editar\x20a\x20conversa:\x20','Error\x20updating\x20profile\x20name','/automate','ReplyOption\x20com\x20ID\x20','throwAndLogError','\x20do\x20chat\x20','Bad\x20Request','https://uazapi-plugin.bubbleapps.io/?url=','viewOnceMessageV2','GUARD','):\x20Editando\x20condição\x20do\x20fluxo...','ios','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','isJidGroup','createServer','):\x20Conversas\x20encontradas:','delay','pollMessageOnDelete','MESSAGES_UPDATE','readreceipts','wuid','website','startsWith','/instance/fetchInstances','CHATS_DELETE','documentWithCaptionMessage','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','):\x20Going\x20to\x20','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','inviteCode','presenceSubscribe','connectionUpdate','audioMessage','size','2xHMlyi','^\x5cd+[\x5c.@\x5cw-]+','linkPreview','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','Type\x20is\x20required','AllProxy','instanceName\x20not\x20provided.','):\x20lastBlockId:\x20','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','eventEmitter','setRestartTimer','Conversa\x20deletada\x20com\x20sucesso.','):\x20Buscando\x20flow...','https://chat.whatsapp.com/','chat','Hash\x20to\x20audio\x20name:\x20','storePath','https://','):\x20Erro\x20durante\x20a\x20atualização:\x20','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','arrayUnique','push','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','__esModule','editOperator','instanceInfo','response','hasOwnProperty','stoppedUntil',',\x20Comparador:\x20','findByIdAndDelete','deleted','recording','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','):\x20transformedCustomFieldVariables','Invalid\x20format','getOwnPropertyNames','sleep','test','request\x20received\x20in\x20editFlowgroup','Cannot\x20','buttonId','padStart','remoteJids','audio/mp4','picture','):\x20teve\x20mudanças\x20chat.displayName:\x20','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','editflowgroup','convertaudio','request\x20body:\x20','\x20não\x20encontrado\x20para\x20cópia','webhookService','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','truncatedtoEnd','Erro\x20ao\x20encerrar\x20a\x20API','/wa-message-update','\x22\x20-\x20NOT\x20CONNECTION','updateMany','archived','toBrazilianNumberFormat','\x1b[40m','updateAll','incrementIsValidAttempts','updateProfilePicturePrivacy','displayName','SERVER_TYPE','expression','copy','updateProfileName','getConversation','resetReconnectionVariables','findParticipants','editedMessage','ConversationModel','CLEANING_INTERVAL','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','getContactModelForOwner','contacts','.jwt','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','splice','/chat','\x1b[44m','fetchInstances','Operador:\x20\x22','reconnectTimestamps','label_jid','Fluxo\x20não\x20encontrado','processgoToFlow','groupadd','groupUpdateDescription','Início','latitude','@redis/client','contentText','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','oldToken','call','\x22reaction\x22\x20must\x20be\x20an\x20emoji','desc','connectionStatus','Imagem\x20não\x20encontrada','isBusiness','buttonText','AUTHENTICATION','replyOptions','labels','-whatsapp-api','Fluxos\x20não\x20estão\x20ativados','locked','Sending\x20audio\x20whatsapp','BufferJSON','add','pollCreationMessageV2','and','_error','Message\x20not\x20found','getAllData','Error\x20headers:','exit','$addToSet','):\x20Ignoring\x20group\x20messages.','Message','API\x20Key\x20inválida.','userDevicesCache','truncatedto','Nenhum\x20chat\x20encontrado\x20para\x20editar.','deleteBlock','):\x20Comando\x20desconhecido:\x20','instance','/config','ip:\x20','extname','):\x20Conversa\x20está\x20expirada','Erro\x20ao\x20atualizar\x20o\x20flow.','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','InstancesAlterarTodas','leadInfo.desativadoFluxoAte','bulkWrite','emit','\x20minutos...','title','.\x20Pulando.','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','groupValidate','updateBlock','code','listMessage','listResponseMessage','.chatId','http','):\x20Erro\x20ao\x20buscar\x20conversas\x20','mediaSticker','menuType','scheduled','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','_id','jwt','617655yXUVeP','unknown\x20operation\x20type\x20[','Media\x20folder\x20path:','.TEL;waid=','CORS_METHODS','fone','153uHJIQn','envProcess','.uazapi.dev','PORT','updateGroupsAddPrivacy','Desconectado,\x20parando\x20execução.','realVariables','Enter\x20a\x20value\x20in\x20milliseconds','findMessages','apirequest','Db\x20Connection','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','255366EQZmbI','uazapiSendMedia','10oAmLSe','URL\x20limpa:\x20','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','Close\x20connection','updateReadReceiptsPrivacy','execSync','role','upperCase','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','equal','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','pairingCode','error_log','getPrototypeOf','setHeader','Missing\x20global\x20api\x20key','getClient','evaluateCondition','endsWith','user','list','No\x20response\x20received:','jid','Contacts\x20not\x20found','findOrCreate','uuid','indexOf','\x1b[0m','activatedCount','formatVCard','):\x20Entrou\x20na\x20função\x20saveReply','findOne','\x1b[34m%s\x1b[0m','mkdirSync','SSL_CONF','writeFile','https://github.com/uazapi/uazapi.git','message_normalized','LOG','src','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','Not\x20allowed\x20by\x20CORS','Não\x20respondeu\x20com\x20a\x20enquete.','model','messageTimestamp','sendMenu','creation','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','getConversationModelForOwner','PASSWORD','Connection\x20closed\x20for\x20instance:\x20','stopped','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','ex:\x20\x22groupJid=120362@g.us\x22','sendReaction','\x20-i\x20','lowerCase','dbServer','contacts.upsert','proxy-agent','uazapiDeleteMessage','fileUrl','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','$unset','getStatus','setting','leadInfo.','enabled','STATUS_INSTANCE','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','lastCondition','cwd','JWT','):\x20Limpando\x20AutomateSystem','announce','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','STORE','groupSetting','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','stdout','logger','port','success','notMatchRegex','sendCommand','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','findAndReplace','fetchContacts','split','replaceVariablesInReplyOptions','--standalone','?authSource=admin&readPreference=primary&directConnection=true','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','validate','CONTACTS_UPDATE','options','delAll','flowStopMinutes','scheduleNextCheck','unreadCount','):\x20Entrou\x20na\x20função\x20goToFlow','):\x20Current\x20Time:\x20','The\x20property\x20cannot\x20be\x20empty','logout','notContains','Instance\x20deleted','\x20não\x20encontrado','utf-8','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','senderKeyDistributionMessage','map','ChatRouter','request\x20received\x20in\x20getFlow','defineProperty','close','compression','\x1b[30m%s\x1b[0m','Error\x20data:','data','Parando\x20aplicação...','events','\x1b[42m','stateConnection','\x1b[1m\x1b[37m','*Pergunta*:\x20\x0a','/wa-chats','createflow','request\x20received\x20in\x20updateAgent','726596nvEYXq','\x1b[46m','listen','format','stopIfLastReturnedError','qrcode','detail','REDIS_ENABLED','pollUpdateMessage','groupHandler','updateAgent','waInstances','editFlowCondition','app-state-sync-key','editflow','subject','audio/aac','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','fromMe','addChatLabel','auth','updatePrivacySettings','generateHash','unreadcount','abs','*\x0a\x0a','):\x20Buscando\x20conversa...','\x22\x20not\x20found','editflowreply','host','query','updateFlowConfig','updatePresence','font','copyBlock','contactMessage','router','SUCCESS',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','groupJid','organization','viewOnceMessageV2Extension','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','findConversation','uazapiSendAudio','DOCKER_ENV','address','no-cache','replaceValue','selectedOptions','Instância\x20não\x20encontrada.','mongodb','lastMessage','URI','request\x20received\x20in\x20editFlow','statusCode','option','):\x20conversation.status:\x20','Error\x20updating\x20profile\x20status','lean','messages','useMultiFileAuthState','dataValidate','backgroundColor','):\x20Não\x20achou\x20nenhum\x20flow','HeaderType','Mensagem\x20não\x20suportada','saveConversationToDatabase','load',',\x20qrcodeCount:\x20','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','keep-alive','responsavelid','):\x20Edit\x20schedule\x20message...','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','USER','API\x20Key\x20from\x20Request:','DD/MM\x20HH:mm:ss','):\x20Ler\x20mensagem','messages.update','Types','longitude','No\x20join\x20group\x20invite\x20code\x20or\x20url','pollOnReplyDelete','urlOrBase64','scheduleSendAudio','archive','log','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','InstancesAsDisconnectedX','revokeInviteCode','SendScheduleMessage','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','next_groupId','):\x20leadInfoVariables','editFlowVaredit','):\x20Editando\x20grupo\x20do\x20fluxo...','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','getScheduleMessageModelForOwner','documentMessage','profile','localWebhook','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','values','groupId','closeExistingConversations','):\x20Error\x20processing\x20conditions:\x20','rows','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','uazapiSendText','send','instanceName','text/event-stream','HH:mm:ss','leaveGroup','removeOlderDisconnectedInstances','SSL_CONF_FULLCHAIN','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','\x0a*Você\x20respondeu*:\x0a','Schema','noConnection','metadata','http://checkip.dyndns.org','body','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','fetchPrivacySettings','notEmpty','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','Getting\x20profile\x20info','object','Erro\x20ao\x20iniciar\x20fluxo:\x20','name','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','LOG_COLOR','reorderReplyOptions','CREDENTIALS','CONECTADO\x20À\x20UAZAPI','Erro\x20ao\x20remover\x20label\x20','blocks','blockLogs','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','groups_ignore','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','toggleEphemeral','Unknown\x20message\x20type\x20or\x20empty\x20message','verifiedName','upsertChats','selectableCount','MESSAGES_UPSERT','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','Image\x20is\x20base64','instance.','fetchConversation','Error\x20change\x20group\x20name','sendMedia','):\x20Limpando\x20delayMessage','apikey','envYaml','pollCreationMessageV3','Instance\x20restarted','timerId','CONNECTION_UPDATE','command','OrAnd','jpegThumbnail','lastBlockId','shutdown\x20-r\x20now','parse','):\x20Deletando\x20conversa...','PRESENCE_UPDATE','/wa-presence','waitingMenu_ExpiredMessage','pollCreationMessageKey','parseInt','STORE_CHATS','closed','Not\x20is\x20business\x20profile','apiResponse','group','deleteAll','redirect','generate','height','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','optionDescription','ScheduleMessageModel','Media\x20folder\x20does\x20not\x20exist,\x20creating\x20folder...','params','Image\x20is\x20url','reviver','number','fetchBusinessProfile','request\x20received\x20in\x20deleteDoneMessages','Error\x20updating\x20profile\x20picture','status@broadcast','sendDataWebhook','):\x20Deletando\x20fluxo...','createAndSave','request','messaging-history.set','group-participants.update','QRCODE_UPDATED','base64','The\x20global\x20api\x20key\x20must\x20be\x20set','nomecompleto','ContactModel','badSession','STORE_CLEANING_TERMINAL','\x20minutos','no.connection','whatsappNumber','write','conversation','maxActives','insertCount','buttons','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','Font\x20is\x20required','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','mentions','views','processUazapi','?timestamp=','desativadoFluxoAte','apiName','exec','Erro\x20ao\x20configurar\x20proxy:\x20','--agree-tos','TEXT','notas','/instance/delete','content','editFlow','reference','connectionState','getHours','50mb','EXPIRIN_IN','groupFetchAllParticipating','sending','not_announcement','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','put','moreLogs','integer','goToFlow','dropCollection','Nenhum\x20proxy\x20funcional\x20encontrado\x20após\x203\x20tentativas.\x20Prosseguindo\x20sem\x20proxy.','conversationTimestamp','\x5c$&','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','editFlowBlock','RECONNECT_TIME_FRAME','description','toFile','slice','\x20com\x20sucesso.','FlowRouter','isInteger','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','_activatedCount','Error\x20updating\x20message\x20status:','group\x20ignored','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','flowName','fetchChats','exports','lastSendMessage','SEND_MESSAGE','):\x20Enviando\x20texto','sha256','714912orAQfv','authModel','paused','sendPresenceUpdate','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','fetchLabels','binary','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','_Chats','greater','insertMany','#ffffff','saveMediaToFile','deleteMessageForEveryone','audio','All_Instances_Config','flow','owner','updateOneById','DEBUG','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','contactsArrayMessage','restartInstance','readFileSync','editflowcondition','cleanStore','\x22\x20-\x20REMOVED','toString','groups.update','prefixCommand','menuExpiredMessage','reaction','Flow\x20não\x20encontrado','hGetAll','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','Bloco\x20com\x20ID\x20','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','changeVariables','@g.us','encoding','where','waMonitor','updateStopChat','getflow','This\x20name\x20','Instance\x20logged\x20out','env.KEY\x20!==\x20key','ListType','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','stopMinutesMaxActives','Processing\x20audio','prepareWAMessageMedia','document','deleteChat','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','Read\x20messages','local_map','update','AutomateSystem','info','832821svlklH','Erro\x20ao\x20aplicar\x20varedit:\x20','pollCreationMessage','):\x20Bloco\x20copiado:\x20','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','getOwnPropertyDescriptor','updateConversation','flowIgnoreGroups','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','/wa-message','deleteMany','contact_blacklist','/instance/connectionState','online','collection','audioWhatsapp','toDataURL','nextBlock:','@broadcast','isRunning','/*.json','):\x20atualização\x20chat:\x20','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','URL','random','readMessageBot','Error\x20status:','getMIMEType','createGroup','\x1b[33m','.png','\x1b[31m%s\x1b[0m','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','chatLog','app','last','AUTHENTICATION_API_KEY','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','markMessageAsRead','PLAYED','Error\x20updating\x20participants','Error\x20updating\x20setting','sendMessageWithTyping','Error\x20writing\x20file:\x20','deleteMessage','newStoppedUntil','proto','customFields','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','groupParticipantsUpdate','):\x20nextBlock.uazapi.name','_Contacts','reactionMessage','/clients-info','1113FRXUal','importChats','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','Group\x20not\x20found','blockId','existsSync','Rótulo\x20deletado:','convertedOptions','createProxyConfig','lastInteraction','request\x20received\x20in\x20editConversation','deleteOne','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','created','Erro\x20ao\x20atualizar\x20conversa:\x20','contact','REDIS_PREFIX_KEY','request\x20received\x20in\x20updateCustomFields','AddChatLabel','getMessageModelForOwner','cache','LICENSE_INVALID','joinGroupValidate','cleaningUp','axios','status','order','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','Data\x20inválida\x20fornecida','.X-ABLabel:Celular\x0a','nome','Configuração\x20de\x20proxy\x20inválida\x20gerada.','Rótulo\x20atualizado:','replaceVariables','):\x20Campos\x20a\x20serem\x20atualizados:','Error\x20message:','optionName','request\x20received\x20in\x20fetchConversation','):\x20Entrou\x20na\x20função\x20stop','type','processPollUpdateMessage','oldValue','prepareMediaMessage','isBase64','AppStateSyncKeyData','<subdomain>',',\x20fará\x20nova\x20verificação\x20em\x20','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','editChat','formatBRNumber','Rótulo\x20inválido\x20ou\x20sem\x20ID.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','\x1b[37m','\x1b[33m%s\x1b[0m','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','):\x20Flow\x20não\x20encontrado','secondValue','\x20foi\x20interrompido\x20pelo\x20usuário.','lastSend','):\x20Criando\x20fluxo...','sendButtons','key','DaysToDelete','none','updateProfilePicture','loadEnv','DELETED','):\x20Erro\x20ao\x20criar\x20fluxo\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','hbs','READ','chatHandle','toLocaleString','ERROR:\x20','sendAudio','redisEnv','messageSecret','PENDING','contactname','Database\x20is\x20not\x20enabled','notEqual','\x20minutos\x20verificará\x20novas\x20mensagens','stopConversation','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','modifiedCount','find','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','image','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.',',\x20saindo.','):\x20expirationTime:\x20','rowId','getTicketSystem','request\x20received\x20in\x20createFlow','video','view\x20engine','fetchProfile2','fetchProfile','sendMessage','saveChatVariables','\x1b[31m','mongoose','DB_PREFIX_NAME','Not\x20Found','\x1b[36m%s\x1b[0m','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','last_update','Image\x20created','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','Atualização:\x20','Temp\x20audio\x20path:\x20','readMessages','condition','function','replaceOne','protocolMessage','trim','updateReplyOption','checkAndRestartProcess','flattenObject','sendText','GROUP_PARTICIPANTS_UPDATE','namespace','Sistema\x20atualizado\x20com\x20sucesso!','delaySecMin','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','done','The\x20instance\x20needs\x20to\x20be\x20disconnected','hDel','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','instanceCount','.mp3','NO_IP','removeData','):\x20Error\x20processing\x20the\x20block:\x20','saveCreds','boolean','error\x20get\x20vote','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','groupMetadata','buttonMessage','uazapi','chats.update','contains','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','testProxy','fullName','}}\x20->\x20valor\x20não\x20encontrado','):\x20Procurando\x20mensagens\x20para\x20envio','replaceVariablesLogs','floor','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','\x1b[1m','collections','color','):\x20Enviando\x20enquete','createConversationforStartFlow','\x20mensagens\x20de\x20','LabelModel','sticker','pollMessage','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','):\x20newSecondValue\x20após\x20replaceVariables:','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','getBusinessProfile','creds.json','evaluateConditionTest','}}\x20->\x20\x22','MAX_RECONNECT_ATTEMPTS','verbose','webhookMap','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','groupToggleEphemeral','webhookModel','drop','\x20ao\x20chat\x20','round','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','Initial\x20__dirname:','waitingMenu_id','sharp','findIndex','replace','item','chats.delete','getTime','empty','createInstance','ENABLED','updateGParticipant','qrcode.updated','some','refused','variable','participants','processingScheduleMessageId','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','msgRetryCounterCache','fetchProfilePicture','toBRL','conditions','open','Router','deleteflow','Flow\x20already\x20exists','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','----------------------ADD----------------------------','use','getLastMessage','INFO','convertToWebP','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','onWhatsApp',',\x20resultado:\x20','isLong','mediaKey','):\x20Enviando\x20contato','ensureChatIdsExist','save','request\x20received\x20in\x20scheduleMessage','addresss','CORS','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','setWebhook','Erro\x20ao\x20inserir\x20chats:','pushName','length','writeData','AutomateFunctions','variablesToObject','archiveChat','testProxy\x20response\x20from\x20','groupDesc','4548whXYuk','Profile\x20not\x20found','Variáveis\x20não\x20encontradas:','shift','statusJidList','connecting','participant','Esse\x20fluxo\x20expirou','static','\x1b[43m','ButtonsMessage','Instance\x20Key\x20from\x20DB:','):\x20Buscando\x20todos\x20os\x20fluxos...','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','\x20chats\x20de\x20','sort','DATABASE','processblock','DisconnectReason','loadWebhook','webhook','sections','working','Button\x20texts\x20cannot\x20be\x20repeated','Instance\x20ID:','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','warn','Internal\x20Server\x20Error','findOneAndUpdate','contactHandle','pop','class-validator','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','\x0a{\x20instance:\x20','remove','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','Audio\x20processed','):\x20não\x20encontrou','mimetype','request\x20received\x20in\x20allFlows','delaySecMax',',\x20lastCondition:\x20','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','eventHandler','):\x20tem\x20blocks','errors','Audio\x20is\x20base64','GROUPS_UPDATE','AUTHENTICATION_JWT_EXPIRIN_IN','^\x5cd+([-]\x5cd+)*@g.us$','\x1b[47m','toLowerCase','Erro\x20ao\x20deletar\x20mensagens:','inner','dbClient','MessageModel','#000000','fileName','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','Erro\x20ao\x20remover\x20instâncias\x20antigas:','):\x20Alterando\x20fluxo...','----------------------------','deleteDoneMessages','content-disposition','unlinkSync','imagechat','Archiving\x20chat','node-cache','applyvaredit','https','connectedClient','Read\x20messages\x20fail','set','Error\x20in\x20markMessageAsRead:','/media/','ReplyOptions\x20finais\x20após\x20reordenação:','certbot','uazapiSendContact','request\x20received\x20in\x20updateFlowConfig','process','ObjectId','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','fileLength','lastmsg','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','processConditions','isConnected','loadInstance','saveVariable','Revoke\x20error','editScheduleMessage','createNewConversation','contacts.update','profilePictureUrl','CONNECTION','varedits','loggedOut','application/octet-stream','has','Erro\x20ao\x20adicionar\x20label\x20','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','Error\x20change\x20group\x20setting','sendContact','updateGParticipate','text','AutomateSystem\x20não\x20foi\x20inicializado','removeInstance','Parando\x20aplicação,\x20atualização\x20recebida','method','connectToWhatsappController','labels.association','\x0aFN:','\x5cd+','SERVER_ACK','!cmd_','Type\x20not\x20found','EMAIL','fromObject','REDIS','uazapiSendLocation','charAt','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','initAuthCreds','data:\x20','padEnd','Temp\x20audio\x20deleted','instances','debug','No\x20invite\x20code','replacer','Erro\x20ao\x20deletar\x20chat:','sendSticker','isArray','join','./.git/config','mediatype','allFlows','):\x20Enviando\x20localização','connect','chats','scheduleMessage','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','Converted\x20audio\x20deleted','StartBot','updateCustomFields','getAutomateSystem','\x20}\x0a','minutesToClose','/:instanceName','sendPoll','Número:\x20','Erro\x20ao\x20incrementar\x20isValidAttempts:','DARK','match_last_seen','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','express-async-errors','Image\x20converted\x20to\x20WebP','request\x20received\x20in\x20getAutomateSystem','Erro\x20ao\x20atualizar\x20o\x20fluxo:','Converting\x20audio\x20to\x20mp4','composing','poll','Erro\x20ao\x20editar\x20o\x20chat:\x20','reorderBlocks','getVariablesChat','://','headers','lastReceivedMessage','leadInfo','verify','ChatModel','output','isURL','locationMessage','child_process','findByIdAndUpdate','originalUrl','addReplyOption','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','CONFIGURAÇÃO\x20GERAL:','readdirSync','insert','Fetching\x20business\x20profile','Deletion\x20failed','authState','getMinutes','processConditionsTest','reconnectAttempts','restrict','\x20inseridos\x20no\x20banco\x20de\x20dados...','.ogg','block','all','stopMinutes','viewOnceMessage','announcement','/instance/create','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','Including\x20timestamp\x20in\x20url:\x20','No\x20participants','ListMessage','textMessage','scheduleMessages','../env.yml','\x1b[32m','COLOR','readMessage','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','apply','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','client','GROUPS_UPSERT','E-mail:\x20','copyDataToNewModel','writeFileSync','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','ERROR','Output\x20audio\x20path:\x20','automateSystem','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','getChatModelForOwner','stringify','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','password','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','certonly','matchRegex','):\x20newFirstValue\x20após\x20replaceVariables:','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','express','SERVER_PORT','cpf','flowConversation','allflows','status.instance','):\x20conversation.lastInteraction:\x20','Authentication\x20error','toNumber','readFile','vcard','g.us','\x1b[33m\x1b[1m','get','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','ProxyAgent','segundos','STORE_CONTACTS','email','phoneNumber','contextInfo','chats.upsert','arraybuffer','unhandledRejection','NextBlock','leadInfo.customFields','CHATS_SET','create','findGroups','content-type','media','RemoveChatLabel','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','Converting\x20image\x20to\x20WebP\x20to\x20sticker','formatStatusMessage','toUpperCase','variablesNotFound','from','privacySettings','Erro\x20de\x20reinicialização:\x20','findById','updateChatWithMessage','Log\x20out\x20instance:\x20','Variável\x20não\x20encontrada!','getBase64FromMediaMessage','Getting\x20audio\x20from\x20url','buffer','REDIS_URI','waitingMenu_text','getContentType','FlowController','preview','_Flows','findGroup','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','header','messages.upsert','flowStopConversation','https://jsonip.com','waitingMenu_replyOptions','labelId','CHATS_UPSERT','onTime','uncaughtException',',\x20valor\x20a\x20encontrar:\x20\x22','):\x20debug\x20alterando\x20this.AutomateSystem','$dbName','downloads','sendStatus','Erro\x20ao\x20editar\x20o\x20bloco:\x20','console','editFlowGroup','Business\x20profile\x20fetched','SERVER','subdomain','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','sendLocation','):\x20Enviando\x20mídia','config','sendList','normalizeMessage','setContext','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','including\x20timestamp\x20in\x20url:\x20','match','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','replyOption','goNextblock','Connection','start','createConnection','pino','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','saveTextReply','The\x20','\x20-y','spawn','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','findChats','):\x20Deletando\x20mensagem','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','messageHandle','PREFIX_KEY','bearer','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','label','CHATS_UPDATE','stderr','assign','DATABASE_CONNECTION_HOST','post','stopWhenYouSendMsg','repeat','LOG_LEVEL','env','updateMessage','Erro\x20ao\x20editar\x20agentes:\x20','getFlow','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','Selecione','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','agents','routerPath','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','!stop','editFlowVariable','getMessage','createSectionsFromValues','qrCode','Erro\x20ao\x20buscar\x20conversa:\x20','DATABASE_CONNECTION_USER','replaceVariablesInObject','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','groups','\x22\x20cannot\x20be\x20empty','groups.upsert','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','editflowblock','DATABASE_ENABLED','utf8','instanceKeys','now','errorLog','application/json','connection.update','allContacts','path','scheduleSendText','):\x20Fluxos\x20não\x20estão\x20ativados','choices','tags','mediaMessage','):\x20Buscando\x20conversas...','profilePicture','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','statusMessage','exists','connectToWhatsapp','removeProfilePicture','connectionClosed','deleteReplyOption','createFlow','listType','menuMessage','end','temp-','):\x20Visualizando\x20AutomateSystem','/message','dbSettings','):\x20Editando\x20edição\x20do\x20fluxo...','_ScheduleMessages','Temp\x20audio\x20created','Error\x20while\x20deleting\x20message\x20for\x20everyone','Erro:','notify','getDevice','\x20removido\x20do\x20chat\x20','Image\x20path:\x20','android','endSession','newValue','value','createWebhook','messagesSend','\x1b[36m','caption','.webp','default','limit','statSync','getScheduleMessage','presence','when','joinGroup','MESSAGES_SET','CONTACTS_SET','flowConfig','updateProfileStatus','Conexão\x20estabelecida','):\x20Query\x20params:\x20','):\x20Iniciando\x20bot...','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','getProfileName','webp','node-mime-types','forEach','getRandomText','ephemeralMessage','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','less','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','stack','/exit','ignoreGroups','Getting\x20image\x20from\x20url','labels.edit','tryProxy','error','DELIVERY_ACK','atendimentoAberto','123152ljGMCI','firstValue','request\x20received\x20in\x20deleteConversation','ephemeralExpiration','\x20-\x20ON:\x20','messageContextInfo','findGroupInfo','url','filter','):\x20updateResult:','TYPE','redis://127.0.0.1:6379','deleteInstance','substring','quotedMessage','groupSettingUpdate','FlowModel'];a0_0x17e6=function(){return _0x4fa542;};return a0_0x17e6();}async function ro(_0x47c166,_0x5cc6c1,_0x27af1f){const _0x15ef46=a0_0x2a4c6a;let _0x215908=b[_0x15ef46(0x471)](_0x15ef46(0x68f))['API_KEY'],_0xe9325c=_0x47c166[_0x15ef46(0x471)]('apikey');if(_0x215908[_0x15ef46(0x59f)]===_0xe9325c)return _0x27af1f();if(_0x47c166['originalUrl'][_0x15ef46(0x587)]('/instance/create')){let _0x2ce8a5=We,_0x1a947b=_0x47c166[_0x15ef46(0x18c)][_0x15ef46(0x180)];if(_0x2ce8a5&&_0x1a947b['toLowerCase']()[_0x15ef46(0x619)](_0x2ce8a5[_0x15ef46(0x3b2)]()))return _0x27af1f();if(!_0xe9325c)throw new H(_0x15ef46(0x6e8),_0x15ef46(0x1dc));}if(_0x47c166[_0x15ef46(0x42f)][_0x15ef46(0x587)](_0x15ef46(0x61a))&&!_0xe9325c)throw new H(_0x15ef46(0x6e8),_0x15ef46(0x1dc));if(_0x47c166['originalUrl'][_0x15ef46(0x587)]('/exit')&&!_0xe9325c)throw new H(_0x15ef46(0x6e8),_0x15ef46(0x1dc));if(_0x47c166[_0x15ef46(0x42f)][_0x15ef46(0x587)](_0x15ef46(0x6a9))&&!_0xe9325c)throw new H(_0x15ef46(0x6e8),_0x15ef46(0x1dc));try{let _0x448a43=_0x47c166[_0x15ef46(0x1cc)];if((await ne[_0x15ef46(0x124)][_0x15ef46(0x2e9)](_0x448a43[_0x15ef46(0x180)]))[_0x15ef46(0x1ad)]===_0xe9325c)return _0x27af1f();}catch{}throw new Z();}var ya={'jwt':ao,'apikey':ro},Ya=require(a0_0x2a4c6a(0x464)),M=require(a0_0x2a4c6a(0xa8)),E=(..._0x9efbdc)=>{const _0x1ec5ec=a0_0x2a4c6a;let _0x14072a={};return _0x9efbdc['forEach'](_0x8b3ade=>_0x14072a[_0x8b3ade]={'minLength':0x1,'description':'The\x20\x22'+_0x8b3ade+_0x1ec5ec(0x4ea)}),{'if':{'propertyNames':{'enum':[..._0x9efbdc]}},'then':{'properties':_0x14072a}};},C={'$id':(0x0,M['v4'])(),'type':a0_0x2a4c6a(0x192),'properties':{'instanceName':{'type':'string'}},...E(a0_0x2a4c6a(0x180))},Hn={'$id':(0x0,M['v4'])(),'type':a0_0x2a4c6a(0x192),'properties':{'oldToken':{'type':a0_0x2a4c6a(0x55c)}},'required':[a0_0x2a4c6a(0x687)],...E(a0_0x2a4c6a(0x687))},Kn={'properties':{'key':{'type':a0_0x2a4c6a(0x192),'properties':{'id':{'type':a0_0x2a4c6a(0x55c)},'remoteJid':{'type':a0_0x2a4c6a(0x55c)},'fromMe':{'type':a0_0x2a4c6a(0x31c),'enum':[!0x0,!0x1]}},'required':['id',a0_0x2a4c6a(0x575),a0_0x2a4c6a(0x122)],...E('id',a0_0x2a4c6a(0x575))},'message':{'type':a0_0x2a4c6a(0x192)}}},K={'properties':{'delay':{'type':a0_0x2a4c6a(0x206),'description':a0_0x2a4c6a(0x6d2)},'presence':{'type':a0_0x2a4c6a(0x55c),'enum':[a0_0x2a4c6a(0x5c7),'available','composing',a0_0x2a4c6a(0x645),a0_0x2a4c6a(0x223)]}}},W={'type':'string','pattern':a0_0x2a4c6a(0x626),'description':a0_0x2a4c6a(0x648)},wa={'$id':(0x0,M['v4'])(),'type':a0_0x2a4c6a(0x192),'properties':{'number':{...W},'options':{...K},'textMessage':{'type':a0_0x2a4c6a(0x192),'properties':{'text':{'type':'string'}},'required':[a0_0x2a4c6a(0x3e7)],...E(a0_0x2a4c6a(0x3e7))}},'required':[a0_0x2a4c6a(0x448),a0_0x2a4c6a(0x1cf)]},ba={'type':a0_0x2a4c6a(0x55c),'pattern':a0_0x2a4c6a(0x340),'description':a0_0x2a4c6a(0x648)},Qn={'$id':(0x0,M['v4'])(),'type':a0_0x2a4c6a(0x192),'properties':{'number':{...ba},'options':{...K},'textMessage':{'type':a0_0x2a4c6a(0x192),'properties':{'text':{'type':a0_0x2a4c6a(0x55c)}},'required':[a0_0x2a4c6a(0x3e7)],...E('text')}},'required':[a0_0x2a4c6a(0x448),a0_0x2a4c6a(0x1cf)]},Yn={'$id':(0x0,M['v4'])(),'type':a0_0x2a4c6a(0x192),'properties':{'number':{...ba},'options':{...K},'mediaMessage':{'type':a0_0x2a4c6a(0x192),'properties':{'mediatype':{'type':'string','enum':[a0_0x2a4c6a(0x2eb),a0_0x2a4c6a(0x255),a0_0x2a4c6a(0x2f2),'audio']},'media':{'type':a0_0x2a4c6a(0x55c)},'fileName':{'type':a0_0x2a4c6a(0x55c)},'caption':{'type':a0_0x2a4c6a(0x55c)}},'required':['mediatype',a0_0x2a4c6a(0x482)],...E(a0_0x2a4c6a(0x3b8),'caption','media')}},'required':[a0_0x2a4c6a(0x4fb),a0_0x2a4c6a(0x1cf)]},Sa={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...W},'options':{...K},'stickerMessage':{'type':a0_0x2a4c6a(0x192),'properties':{'image':{'type':a0_0x2a4c6a(0x55c)}},'required':[a0_0x2a4c6a(0x2eb)],...E(a0_0x2a4c6a(0x2eb))}},'required':[a0_0x2a4c6a(0x5fc),a0_0x2a4c6a(0x1cf)]},Ea={'$id':(0x0,M['v4'])(),'type':'object','properties':{'statusMessage':{'type':'object','properties':{'type':{'type':a0_0x2a4c6a(0x55c),'enum':[a0_0x2a4c6a(0x3e7),'image',a0_0x2a4c6a(0x22f),a0_0x2a4c6a(0x2f2)]},'content':{'type':a0_0x2a4c6a(0x55c)},'caption':{'type':a0_0x2a4c6a(0x55c)},'backgroundColor':{'type':a0_0x2a4c6a(0x55c)},'font':{'type':a0_0x2a4c6a(0x206),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x2a4c6a(0x5b7),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2a4c6a(0x55c),'pattern':a0_0x2a4c6a(0x5cb),'description':a0_0x2a4c6a(0x38c)}},'allContacts':{'type':a0_0x2a4c6a(0x31c),'enum':[!0x0,!0x1]}},'required':[a0_0x2a4c6a(0x2bb),'content'],...E(a0_0x2a4c6a(0x2bb),a0_0x2a4c6a(0x1f8))}},'required':['statusMessage']},Ma={'$id':(0x0,M['v4'])(),'type':a0_0x2a4c6a(0x192),'properties':{'number':{...W},'options':{...K},'mediaMessage':{'type':a0_0x2a4c6a(0x192),'properties':{'mediatype':{'type':a0_0x2a4c6a(0x55c),'enum':[a0_0x2a4c6a(0x2eb),a0_0x2a4c6a(0x255),'video',a0_0x2a4c6a(0x22f)]},'media':{'type':'string'},'fileName':{'type':a0_0x2a4c6a(0x55c)},'caption':{'type':a0_0x2a4c6a(0x55c)}},'required':[a0_0x2a4c6a(0x406),'media'],...E(a0_0x2a4c6a(0x3b8),a0_0x2a4c6a(0x51d),a0_0x2a4c6a(0x482))}},'required':['mediaMessage','number']},Ca={'$id':(0x0,M['v4'])(),'type':a0_0x2a4c6a(0x192),'properties':{'number':{...W},'options':{...K},'audioMessage':{'type':'object','properties':{'audio':{'type':a0_0x2a4c6a(0x55c)}},'required':['audio'],...E(a0_0x2a4c6a(0x22f))}},'required':[a0_0x2a4c6a(0x623),a0_0x2a4c6a(0x1cf)]},va={'$id':(0x0,M['v4'])(),'type':a0_0x2a4c6a(0x192),'properties':{'number':{...W},'pollMessage':{'type':a0_0x2a4c6a(0x192),'properties':{'name':{'type':a0_0x2a4c6a(0x55c)},'selectableCount':{'type':'number'},'values':{'type':a0_0x2a4c6a(0x5b7),'minItems':0x2,'uniqueItems':!0x0}},'required':['name','selectableCount',a0_0x2a4c6a(0x178)],...E('name',a0_0x2a4c6a(0x1a4),a0_0x2a4c6a(0x178))}},'required':[a0_0x2a4c6a(0x1cf),a0_0x2a4c6a(0x334)]},Na={'$id':(0x0,M['v4'])(),'type':a0_0x2a4c6a(0x192),'properties':{'number':{...W},'menuMessage':{'type':'object','properties':{'text':{'type':'string'},'choices':{'type':a0_0x2a4c6a(0x5b7),'minItems':0x2,'uniqueItems':!0x0}},'required':['text','choices'],...E('text',a0_0x2a4c6a(0x4f9))}},'required':['number',a0_0x2a4c6a(0x507)]},Ra={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...W},'options':{...K},'buttonMessage':{'type':a0_0x2a4c6a(0x192),'properties':{'title':{'type':a0_0x2a4c6a(0x55c)},'description':{'type':'string'},'footerText':{'type':a0_0x2a4c6a(0x55c)},'buttons':{'type':a0_0x2a4c6a(0x5b7),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2a4c6a(0x192),'properties':{'buttonText':{'type':a0_0x2a4c6a(0x55c)},'buttonId':{'type':a0_0x2a4c6a(0x55c)}},'required':[a0_0x2a4c6a(0x68e),a0_0x2a4c6a(0x64e)],...E('buttonText',a0_0x2a4c6a(0x64e))}},'mediaMessage':{'type':'object','properties':{'media':{'type':'string'},'fileName':{'type':a0_0x2a4c6a(0x55c)},'mediatype':{'type':'string','enum':['image','document',a0_0x2a4c6a(0x2f2)]}},'required':[a0_0x2a4c6a(0x482),a0_0x2a4c6a(0x406)],...E('media',a0_0x2a4c6a(0x3b8))}},'required':[a0_0x2a4c6a(0x6b4),a0_0x2a4c6a(0x1e8)],...E(a0_0x2a4c6a(0x6b4),a0_0x2a4c6a(0x20f))}},'required':[a0_0x2a4c6a(0x1cf),a0_0x2a4c6a(0x320)]},Ta={'$id':(0x0,M['v4'])(),'type':a0_0x2a4c6a(0x192),'properties':{'number':{...W},'options':{...K},'locationMessage':{'type':a0_0x2a4c6a(0x192),'properties':{'latitude':{'type':a0_0x2a4c6a(0x1cf)},'longitude':{'type':a0_0x2a4c6a(0x1cf)},'name':{'type':a0_0x2a4c6a(0x55c)},'address':{'type':'string'}},'required':['latitude',a0_0x2a4c6a(0x162)],...E(a0_0x2a4c6a(0x194),a0_0x2a4c6a(0x371))}},'required':[a0_0x2a4c6a(0x1cf),a0_0x2a4c6a(0x42c)]},Aa={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...W},'options':{...K},'listMessage':{'type':a0_0x2a4c6a(0x192),'properties':{'title':{'type':'string'},'description':{'type':a0_0x2a4c6a(0x55c)},'footerText':{'type':'string'},'buttonText':{'type':'string'},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2a4c6a(0x192),'properties':{'title':{'type':a0_0x2a4c6a(0x55c)},'rows':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2a4c6a(0x192),'properties':{'title':{'type':a0_0x2a4c6a(0x55c)},'description':{'type':a0_0x2a4c6a(0x55c)},'rowId':{'type':a0_0x2a4c6a(0x55c)}},'required':['title',a0_0x2a4c6a(0x2ef)],...E(a0_0x2a4c6a(0x6b4),a0_0x2a4c6a(0x2ef))}}},'required':[a0_0x2a4c6a(0x6b4),a0_0x2a4c6a(0x17c)],...E(a0_0x2a4c6a(0x6b4))}}},'required':['title',a0_0x2a4c6a(0x20f),a0_0x2a4c6a(0x68e),a0_0x2a4c6a(0x394)],...E('title',a0_0x2a4c6a(0x20f),a0_0x2a4c6a(0x68e),a0_0x2a4c6a(0x58b))}},'required':[a0_0x2a4c6a(0x1cf),a0_0x2a4c6a(0x6ba)]},Oa={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...W},'options':{...K},'contactMessage':{'type':'array','items':{'type':a0_0x2a4c6a(0x192),'properties':{'fullName':{'type':'string'},'phoneNumber':{'type':'string','minLength':0xa}},'required':[a0_0x2a4c6a(0x326),a0_0x2a4c6a(0x477)],...E('fullName')},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x2a4c6a(0x1cf),a0_0x2a4c6a(0x133)]},Ia={'$id':(0x0,M['v4'])(),'type':a0_0x2a4c6a(0x192),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':a0_0x2a4c6a(0x192),'properties':{'id':{'type':a0_0x2a4c6a(0x55c)},'remoteJid':{'type':a0_0x2a4c6a(0x55c)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','remoteJid','fromMe'],...E('id',a0_0x2a4c6a(0x575))},'reaction':{'type':'string'}},'required':[a0_0x2a4c6a(0x2d1),'reaction'],...E('reaction')}},'required':['reactionMessage']},Da={'$id':(0x0,M['v4'])(),'type':'object','properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2a4c6a(0x55c),'pattern':a0_0x2a4c6a(0x5cb),'description':'\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}}},xa={'$id':(0x0,M['v4'])(),'type':'object','properties':{'readMessages':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x2a4c6a(0x55c)},'fromMe':{'type':a0_0x2a4c6a(0x31c),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'}},'required':['id',a0_0x2a4c6a(0x122),a0_0x2a4c6a(0x575)],...E('id',a0_0x2a4c6a(0x575))}}},'required':['readMessages']},_a={'$id':(0x0,M['v4'])(),'type':a0_0x2a4c6a(0x192),'properties':{'privacySettings':{'type':a0_0x2a4c6a(0x192),'properties':{'readreceipts':{'type':a0_0x2a4c6a(0x55c),'enum':[a0_0x2a4c6a(0x43f),a0_0x2a4c6a(0x2d3)]},'profile':{'type':a0_0x2a4c6a(0x55c),'enum':['all','contacts','contact_blacklist',a0_0x2a4c6a(0x2d3)]},'status':{'type':a0_0x2a4c6a(0x55c),'enum':['all',a0_0x2a4c6a(0x674),'contact_blacklist',a0_0x2a4c6a(0x2d3)]},'online':{'type':'string','enum':[a0_0x2a4c6a(0x43f),a0_0x2a4c6a(0x418)]},'last':{'type':a0_0x2a4c6a(0x55c),'enum':[a0_0x2a4c6a(0x43f),a0_0x2a4c6a(0x674),a0_0x2a4c6a(0x268),a0_0x2a4c6a(0x2d3)]},'groupadd':{'type':a0_0x2a4c6a(0x55c),'enum':['all',a0_0x2a4c6a(0x674),a0_0x2a4c6a(0x268),a0_0x2a4c6a(0x2d3)]}},'required':['readreceipts','profile',a0_0x2a4c6a(0x2ad),a0_0x2a4c6a(0x26a),a0_0x2a4c6a(0x281),a0_0x2a4c6a(0x680)],...E(a0_0x2a4c6a(0x616),a0_0x2a4c6a(0x175),a0_0x2a4c6a(0x2ad),a0_0x2a4c6a(0x26a),a0_0x2a4c6a(0x281),a0_0x2a4c6a(0x680))}},'required':[a0_0x2a4c6a(0x48a)]},Pa={'$id':(0x0,M['v4'])(),'type':a0_0x2a4c6a(0x192),'properties':{'lastMessage':{'type':a0_0x2a4c6a(0x192),'properties':{'key':{'type':a0_0x2a4c6a(0x192),'properties':{'id':{'type':a0_0x2a4c6a(0x55c)},'remoteJid':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0x2a4c6a(0x575)],...E('id',a0_0x2a4c6a(0x575))},'messageTimestamp':{'type':a0_0x2a4c6a(0x206),'minLength':0x1}},'required':[a0_0x2a4c6a(0x2d1)],...E(a0_0x2a4c6a(0xbb))},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x2a4c6a(0x144),'archive']},$a={'$id':(0x0,M['v4'])(),'type':a0_0x2a4c6a(0x192),'properties':{'id':{'type':a0_0x2a4c6a(0x55c)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x2a4c6a(0x55c)},'participant':{'type':'string'}},'required':['id',a0_0x2a4c6a(0x122),'remoteJid'],...E('id',a0_0x2a4c6a(0x575),a0_0x2a4c6a(0x385))},ka={'$id':(0x0,M['v4'])(),'type':a0_0x2a4c6a(0x192),'properties':{'where':{'type':a0_0x2a4c6a(0x192),'properties':{'_id':{'type':a0_0x2a4c6a(0x55c),'minLength':0x1},'pushName':{'type':a0_0x2a4c6a(0x55c),'minLength':0x1},'id':{'type':a0_0x2a4c6a(0x55c),'minLength':0x1}},...E('_id','id',a0_0x2a4c6a(0x377))}}},La={'$id':(0x0,M['v4'])(),'type':a0_0x2a4c6a(0x192),'properties':{'name':{'type':a0_0x2a4c6a(0x55c)}},...E(a0_0x2a4c6a(0x194))},Fa={'$id':(0x0,M['v4'])(),'type':'object','properties':{'status':{'type':a0_0x2a4c6a(0x55c)}},...E('status')},we={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{'type':a0_0x2a4c6a(0x55c)},'picture':{'type':a0_0x2a4c6a(0x55c)}}},Ua={'type':a0_0x2a4c6a(0x192),'properties':{'wuid':{'type':a0_0x2a4c6a(0x55c)},'name':{'type':a0_0x2a4c6a(0x55c)},'picture':{'type':a0_0x2a4c6a(0x55c)},'status':{'type':a0_0x2a4c6a(0x55c)},'isBusiness':{'type':a0_0x2a4c6a(0x31c)}}},Ja={'$id':(0x0,M['v4'])(),'type':a0_0x2a4c6a(0x192),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x2a4c6a(0x55c),'minLength':0x1},'key':{'type':a0_0x2a4c6a(0x192),'if':{'propertyNames':{'enum':[a0_0x2a4c6a(0x122),a0_0x2a4c6a(0x575),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x2a4c6a(0x55c),'minLength':0x1,'description':a0_0x2a4c6a(0xf6)},'id':{'type':a0_0x2a4c6a(0x55c),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x2a4c6a(0x192)}},...E(a0_0x2a4c6a(0x6c3))},'limit':{'type':a0_0x2a4c6a(0x206)}}},Xn={'$id':(0x0,M['v4'])(),'type':a0_0x2a4c6a(0x192),'properties':{'where':{'type':'object','properties':{'_id':{'type':'string'},'remoteJid':{'type':a0_0x2a4c6a(0x55c)},'id':{'type':'string'},'fromMe':{'type':a0_0x2a4c6a(0x31c),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x2a4c6a(0x55c)},'status':{'type':a0_0x2a4c6a(0x55c),'enum':[a0_0x2a4c6a(0x457),'PENDING',a0_0x2a4c6a(0x3f0),a0_0x2a4c6a(0x53f),a0_0x2a4c6a(0x2da),a0_0x2a4c6a(0x285)]}},...E(a0_0x2a4c6a(0x6c3),a0_0x2a4c6a(0x575),'id','status')},'limit':{'type':a0_0x2a4c6a(0x206)}}},ja={'$id':(0x0,M['v4'])(),'type':a0_0x2a4c6a(0x192),'properties':{'number':{...W},'presence':{'type':'string','enum':[a0_0x2a4c6a(0x5c7),a0_0x2a4c6a(0x5fd),a0_0x2a4c6a(0x41f),'recording',a0_0x2a4c6a(0x223)]}},'required':[a0_0x2a4c6a(0x523),'number']},qa={'$id':(0x0,M['v4'])(),'type':'object','properties':{'subject':{'type':a0_0x2a4c6a(0x55c)},'description':{'type':a0_0x2a4c6a(0x55c)},'profilePicture':{'type':a0_0x2a4c6a(0x55c)},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2a4c6a(0x55c),'minLength':0xa,'pattern':a0_0x2a4c6a(0x3ef),'description':a0_0x2a4c6a(0x156)}}},'required':['subject','participants'],...E('subject',a0_0x2a4c6a(0x20f),'profilePicture')},be={'$id':(0x0,M['v4'])(),'type':a0_0x2a4c6a(0x192),'properties':{'groupJid':{'type':a0_0x2a4c6a(0x55c),'pattern':a0_0x2a4c6a(0x3b0)}},'required':[a0_0x2a4c6a(0x137)],...E(a0_0x2a4c6a(0x137))},Va={'$id':(0x0,M['v4'])(),'type':a0_0x2a4c6a(0x192),'properties':{'groupJid':{'type':'string'},'action':{'type':a0_0x2a4c6a(0x55c),'enum':[a0_0x2a4c6a(0x697),'remove','promote','demote']},'participants':{'type':a0_0x2a4c6a(0x5b7),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2a4c6a(0x55c),'minLength':0xa,'pattern':a0_0x2a4c6a(0x3ef),'description':a0_0x2a4c6a(0x156)}}},'required':['groupJid',a0_0x2a4c6a(0x5aa),'participants'],...E(a0_0x2a4c6a(0x137),a0_0x2a4c6a(0x5aa))},Ba={'$id':(0x0,M['v4'])(),'type':a0_0x2a4c6a(0x192),'properties':{'groupJid':{'type':a0_0x2a4c6a(0x55c)},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid','expiration'],...E(a0_0x2a4c6a(0x137),a0_0x2a4c6a(0x578))},Ga={'$id':(0x0,M['v4'])(),'type':a0_0x2a4c6a(0x192),'properties':{'groupJid':{'type':'string'},'image':{'type':a0_0x2a4c6a(0x55c)}},'required':[a0_0x2a4c6a(0x137),a0_0x2a4c6a(0x2eb)],...E(a0_0x2a4c6a(0x137),a0_0x2a4c6a(0x2eb))},Wa={'$id':(0x0,M['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'description':{'type':'string'}},'required':[a0_0x2a4c6a(0x137),a0_0x2a4c6a(0x20f)],...E(a0_0x2a4c6a(0x137),a0_0x2a4c6a(0x20f))},za={'$id':(0x0,M['v4'])(),'type':a0_0x2a4c6a(0x192),'properties':{'groupJid':{'type':a0_0x2a4c6a(0x55c)},'name':{'type':a0_0x2a4c6a(0x55c)}},'required':['groupJid','name'],...E(a0_0x2a4c6a(0x137),'name')},Ha={'$id':(0x0,M['v4'])(),'type':a0_0x2a4c6a(0x192),'properties':{'groupJid':{'type':a0_0x2a4c6a(0x55c)},'setting':{'type':a0_0x2a4c6a(0x55c),'enum':[a0_0x2a4c6a(0x442),a0_0x2a4c6a(0x201),a0_0x2a4c6a(0x589),a0_0x2a4c6a(0x694)]}},'required':[a0_0x2a4c6a(0x137),a0_0x2a4c6a(0xd1)],...E('groupJid',a0_0x2a4c6a(0xd1))},Ka={'$id':(0x0,M['v4'])(),'type':a0_0x2a4c6a(0x192),'properties':{'inviteCode':{'type':'string'}},'required':[a0_0x2a4c6a(0x620)],...E(a0_0x2a4c6a(0x620))},Qa={'$id':(0x0,M['v4'])(),'type':a0_0x2a4c6a(0x192),'properties':{'url':{'type':a0_0x2a4c6a(0x55c)},'enabled':{'type':a0_0x2a4c6a(0x31c),'enum':[!0x0,!0x1]}},'required':[a0_0x2a4c6a(0x548),a0_0x2a4c6a(0xd3)]},Zn={'$id':(0x0,M['v4'])(),'type':a0_0x2a4c6a(0x192),'properties':{'local_map':{'type':a0_0x2a4c6a(0x31c),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x2a4c6a(0x31c),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x2a4c6a(0x31c),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x2a4c6a(0x31c),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x2a4c6a(0x31c),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x2a4c6a(0x31c),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x2a4c6a(0x31c),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x2a4c6a(0x31c),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x2a4c6a(0x31c),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x2a4c6a(0x31c),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x2a4c6a(0x31c),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x2a4c6a(0x31c),'enum':[!0x0,!0x1]}},'required':[a0_0x2a4c6a(0x259),a0_0x2a4c6a(0xd4),'QRCODE_UPDATED',a0_0x2a4c6a(0x526),a0_0x2a4c6a(0x615),a0_0x2a4c6a(0x1a5),a0_0x2a4c6a(0x21e),'CONTACTS_SET',a0_0x2a4c6a(0x5c6),a0_0x2a4c6a(0xee),a0_0x2a4c6a(0x1ba),'CHATS_SET',a0_0x2a4c6a(0x4a1),'CHATS_UPDATE',a0_0x2a4c6a(0x61b),a0_0x2a4c6a(0x1b2),a0_0x2a4c6a(0x452),a0_0x2a4c6a(0x3ae),a0_0x2a4c6a(0x30d)],...E(a0_0x2a4c6a(0x259),a0_0x2a4c6a(0xd4),'QRCODE_UPDATED',a0_0x2a4c6a(0x526),a0_0x2a4c6a(0x615),a0_0x2a4c6a(0x1a5),'SEND_MESSAGE',a0_0x2a4c6a(0x527),a0_0x2a4c6a(0x5c6),a0_0x2a4c6a(0xee),a0_0x2a4c6a(0x1ba),a0_0x2a4c6a(0x47e),a0_0x2a4c6a(0x4a1),a0_0x2a4c6a(0x4ce),'CHATS_DELETE',a0_0x2a4c6a(0x1b2),'GROUPS_UPSERT',a0_0x2a4c6a(0x3ae),a0_0x2a4c6a(0x30d))},ze=class{},He=class extends I{[a0_0x2a4c6a(0x673)](_0x25a459){return js(_0x25a459);}async[a0_0x2a4c6a(0x434)](_0x1b03af){const _0x590c5d=a0_0x2a4c6a;if(_0x1b03af[_0x590c5d(0x378)]!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x1b03af[0x0][_0x590c5d(0x232)])['insertMany']([..._0x1b03af]))[_0x590c5d(0x378)]};}catch(_0x4ab51d){return _0x4ab51d;}}async['delete'](_0x24cd56,_0x56f1c2){const _0x50e22f=a0_0x2a4c6a;try{return{'deletedCount':(await this[_0x50e22f(0x673)](_0x56f1c2)['deleteMany']({..._0x24cd56[_0x50e22f(0x249)]}))['deletedCount']};}catch(_0x4f296b){return{'error':_0x4f296b?.['toString']()};}}async['update'](_0x43a4cd,_0x4a07c2){const _0x58b3dc=a0_0x2a4c6a;try{if(_0x43a4cd[_0x58b3dc(0x378)]===0x0)return;let _0x4e218d=this[_0x58b3dc(0x673)](_0x4a07c2),_0x3b89d1=_0x43a4cd[_0x58b3dc(0xfe)](_0x2b3452=>({'updateOne':{'filter':{'_id':_0x2b3452[_0x58b3dc(0x6c3)],'owner':_0x4a07c2},'update':{..._0x2b3452}}})),{modifiedCount:_0x5bc0f4}=await _0x4e218d[_0x58b3dc(0x6b1)](_0x3b89d1);return{'insertCount':_0x5bc0f4};}catch{return;}}async[a0_0x2a4c6a(0x2e9)](_0x5e7956,_0x29525a){const _0x56d36c=a0_0x2a4c6a;try{let _0x3f20f8=this['getContactModelForOwner'](_0x29525a),_0x97400=A(_0x5e7956[_0x56d36c(0x249)]);return await _0x3f20f8[_0x56d36c(0x2e9)](_0x97400)[_0x56d36c(0x520)](_0x5e7956?.[_0x56d36c(0x520)]??0x0)[_0x56d36c(0x14b)]();}catch{return[];}}async[a0_0x2a4c6a(0xae)](_0x487676,_0xa1cc7e){const _0x257bde=a0_0x2a4c6a;try{let _0x10d32f=this[_0x257bde(0x673)](_0xa1cc7e),_0x2ce4c7=A(_0x487676[_0x257bde(0x249)]);return await _0x10d32f[_0x257bde(0xae)](_0x2ce4c7)[_0x257bde(0x14b)]();}catch{return null;}}async[a0_0x2a4c6a(0x1c4)](_0x574c0e){const _0x3bfb93=a0_0x2a4c6a;try{return await this[_0x3bfb93(0x673)](_0x574c0e)[_0x3bfb93(0x26b)]['drop'](),{'success':!0x0};}catch(_0x1f1436){return console['error'](_0x1f1436),{'success':!0x1,'error':_0x1f1436};}}},Ke=require('jsonschema'),cc=require('express-async-errors'),cs=new v('Validate'),J=class{['routerPath'](_0x2c8515,_0x55bf2d=!0x0){const _0x4a1f5f=a0_0x2a4c6a;let _0x5a21fc='/'+_0x2c8515;return _0x55bf2d&&(_0x5a21fc+=_0x4a1f5f(0x413)),_0x5a21fc;}async['dataValidate'](_0x59f88a){const _0x26e144=a0_0x2a4c6a;let {request:_0x15bf5e,schema:_0x2f47c5,ClassRef:_0x6b8d6c,execute:_0x12e6ad}=_0x59f88a,_0x1d26d8=new _0x6b8d6c(),_0x3b5bb8=_0x15bf5e[_0x26e144(0x18c)],_0x387ae7=_0x15bf5e[_0x26e144(0x1cc)];_0x15bf5e?.[_0x26e144(0x12e)]&&Object[_0x26e144(0x592)](_0x15bf5e[_0x26e144(0x12e)])['length']>0x0&&Object[_0x26e144(0x4d0)](_0x387ae7,_0x15bf5e[_0x26e144(0x12e)]),_0x15bf5e['originalUrl']['includes'](_0x26e144(0x443))&&Object[_0x26e144(0x4d0)](_0x387ae7,_0x3b5bb8),Object[_0x26e144(0x4d0)](_0x1d26d8,_0x3b5bb8);let _0xa5990f=_0x2f47c5?(0x0,Ke[_0x26e144(0xed)])(_0x1d26d8,_0x2f47c5):{'valid':!0x0,'errors':[]};if(!_0xa5990f[_0x26e144(0x555)]){let _0x125c57=_0xa5990f['errors'][_0x26e144(0xfe)](({property:_0xa1c745,stack:_0x51a17b,schema:_0x2c65b9})=>{const _0x55ef19=_0x26e144;let _0x46aa7e;return _0x2c65b9[_0x55ef19(0x20f)]?_0x46aa7e=_0x2c65b9[_0x55ef19(0x20f)]:_0x46aa7e=_0x51a17b[_0x55ef19(0x34b)](_0x55ef19(0x1a8),''),{'property':_0xa1c745[_0x55ef19(0x34b)]('instance.',''),'message':_0x46aa7e};});throw cs[_0x26e144(0x53e)]([..._0x125c57]),new h(..._0x125c57);}return await _0x12e6ad(_0x387ae7,_0x1d26d8);}async[a0_0x2a4c6a(0x6b7)](_0x3dd6fe){const _0x4e5223=a0_0x2a4c6a;let {request:_0x485810,ClassRef:_0x2ce514,schema:_0x3b1a4a,execute:_0x2630b6}=_0x3dd6fe,_0x59770b=_0x485810['query'];if(!_0x59770b?.[_0x4e5223(0x137)])throw new h(_0x4e5223(0x243),_0x4e5223(0xc4));let _0x2ccf04=_0x485810[_0x4e5223(0x1cc)],_0x5d759c=_0x485810[_0x4e5223(0x18c)],_0x39fd11=new _0x2ce514();Object[_0x4e5223(0x4d0)](_0x5d759c,_0x59770b),Object[_0x4e5223(0x4d0)](_0x39fd11,_0x5d759c);let _0xe0b216=(0x0,Ke['validate'])(_0x39fd11,_0x3b1a4a);if(!_0xe0b216[_0x4e5223(0x555)]){let _0x5d5929=_0xe0b216[_0x4e5223(0x3ac)][_0x4e5223(0xfe)](({property:_0x3a0e6a,stack:_0x45b112,schema:_0x186fa2})=>{const _0x4be79b=_0x4e5223;let _0x26f800;return _0x186fa2[_0x4be79b(0x20f)]?_0x26f800=_0x186fa2[_0x4be79b(0x20f)]:_0x26f800=_0x45b112[_0x4be79b(0x34b)](_0x4be79b(0x1a8),''),{'property':_0x3a0e6a[_0x4be79b(0x34b)](_0x4be79b(0x1a8),''),'message':_0x26f800};});throw cs[_0x4e5223(0x53e)]([..._0x5d5929]),new h(..._0x5d5929);}return await _0x2630b6(_0x2ccf04,_0x39fd11);}async[a0_0x2a4c6a(0x2aa)](_0x2bf713){const _0x4e3e45=a0_0x2a4c6a;let {request:_0xb356d3,ClassRef:_0x183709,schema:_0x19258d,execute:_0x22ded9}=_0x2bf713,_0x19d1eb=_0xb356d3[_0x4e3e45(0x18c)];if(!_0x19d1eb?.[_0x4e3e45(0x620)])throw new h(_0x4e3e45(0x186),'ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22');let _0x359327=_0xb356d3[_0x4e3e45(0x1cc)],_0x16f4f0=_0xb356d3[_0x4e3e45(0x18c)],_0x44083e=new _0x183709();Object[_0x4e3e45(0x4d0)](_0x16f4f0,_0x19d1eb),Object['assign'](_0x44083e,_0x16f4f0);let _0xa73425=(0x0,Ke['validate'])(_0x44083e,_0x19258d);if(!_0xa73425[_0x4e3e45(0x555)]){let _0x5d88d4=_0xa73425[_0x4e3e45(0x3ac)][_0x4e3e45(0xfe)](({property:_0x5de3ff,stack:_0x3a6d9f,schema:_0x536526})=>{const _0x4897b8=_0x4e3e45;let _0x5608a2;return _0x536526['description']?_0x5608a2=_0x536526[_0x4897b8(0x20f)]:_0x5608a2=_0x3a6d9f[_0x4897b8(0x34b)]('instance.',''),{'property':_0x5de3ff['replace']('instance.',''),'message':_0x5608a2};});throw cs[_0x4e3e45(0x53e)]([..._0x5d88d4]),new h(..._0x5d88d4);}return await _0x22ded9(_0x359327,_0x44083e);}},S=class{},Cc=new v(a0_0x2a4c6a(0xff)),Qe=class extends J{constructor(..._0x4ce639){const _0x560c88=a0_0x2a4c6a;super(),this[_0x560c88(0x134)]=(0x0,Ya['Router'])(),this[_0x560c88(0x134)][_0x560c88(0x4d2)](this['routerPath'](_0x560c88(0x130)),..._0x4ce639,async(_0xe11048,_0x4335a9)=>{const _0x3c74a1=_0x560c88;let _0x2a3b26=await this[_0x3c74a1(0x14e)]({'request':_0xe11048,'schema':ja,'ClassRef':ke,'execute':(_0x46f35f,_0x4ad26d)=>D[_0x3c74a1(0x130)](_0x46f35f,_0x4ad26d)});return _0x4335a9[_0x3c74a1(0x2ad)](0xc9)[_0x3c74a1(0x581)](_0x2a3b26);})[_0x560c88(0x4d2)](this[_0x560c88(0x4de)]('whatsappNumbers'),..._0x4ce639,async(_0x26f732,_0x3b2180)=>{const _0x44ca9d=_0x560c88;let _0x612d29=await this[_0x44ca9d(0x14e)]({'request':_0x26f732,'schema':Da,'ClassRef':Le,'execute':(_0x1bdff2,_0x2cb4cc)=>D['whatsappNumber'](_0x1bdff2,_0x2cb4cc)});return _0x3b2180[_0x44ca9d(0x2ad)](0xc9)[_0x44ca9d(0x581)](_0x612d29);})['post'](this['routerPath'](_0x560c88(0x2c4)),..._0x4ce639,async(_0x210078,_0x279658)=>{const _0x48e643=_0x560c88;let _0x4a84fb=await this[_0x48e643(0x14e)]({'request':_0x210078,'schema':C,'ClassRef':S,'execute':(_0x4b0c5c,_0x15a64c)=>D['editChat'](_0x4b0c5c,_0x15a64c)});return _0x279658[_0x48e643(0x2ad)](0xc9)[_0x48e643(0x581)](_0x4a84fb);})[_0x560c88(0x204)](this[_0x560c88(0x4de)](_0x560c88(0x284)),..._0x4ce639,async(_0x4c44e0,_0x55fa65)=>{const _0x326497=_0x560c88;let _0x598590=await this['dataValidate']({'request':_0x4c44e0,'schema':xa,'ClassRef':Je,'execute':(_0x223023,_0x1effa4)=>D[_0x326497(0x44d)](_0x223023,_0x1effa4)});return _0x55fa65[_0x326497(0x2ad)](0xc9)[_0x326497(0x581)](_0x598590);})[_0x560c88(0x204)](this[_0x560c88(0x4de)]('archiveChat'),..._0x4ce639,async(_0x416c7d,_0xa98159)=>{const _0x378cf9=_0x560c88;let _0xa8ff3c=await this[_0x378cf9(0x14e)]({'request':_0x416c7d,'schema':Pa,'ClassRef':je,'execute':(_0x2f860c,_0x151399)=>D['archiveChat'](_0x2f860c,_0x151399)});return _0xa98159[_0x378cf9(0x2ad)](0xc9)[_0x378cf9(0x581)](_0xa8ff3c);})[_0x560c88(0x572)](this[_0x560c88(0x4de)](_0x560c88(0x22e)),..._0x4ce639,async(_0x35bc72,_0x4a70d0)=>{const _0x58bc63=_0x560c88;let _0x46289c=await this['dataValidate']({'request':_0x35bc72,'schema':$a,'ClassRef':Ve,'execute':(_0x41e4e2,_0x378b1b)=>D[_0x58bc63(0x28a)](_0x41e4e2,_0x378b1b)});return _0x4a70d0['status'](0xc9)[_0x58bc63(0x581)](_0x46289c);})[_0x560c88(0x4d2)](this[_0x560c88(0x4de)]('fetchProfilePictureUrl'),..._0x4ce639,async(_0x1adec1,_0x32e881)=>{const _0x51564f=_0x560c88;let _0x228fe9=await this[_0x51564f(0x14e)]({'request':_0x1adec1,'schema':we,'ClassRef':ye,'execute':(_0x5b4373,_0x21f7f8)=>D[_0x51564f(0x35b)](_0x5b4373,_0x21f7f8)});return _0x32e881['status'](0xc8)[_0x51564f(0x581)](_0x228fe9);})['post'](this[_0x560c88(0x4de)](_0x560c88(0x2f5)),..._0x4ce639,async(_0x188278,_0x10492b)=>{const _0x46f352=_0x560c88;let _0x2d4197=await this[_0x46f352(0x14e)]({'request':_0x188278,'schema':Ua,'ClassRef':ye,'execute':(_0x291f08,_0x7f87fe)=>D['fetchProfile'](_0x291f08,_0x7f87fe)});return _0x10492b[_0x46f352(0x2ad)](0xc8)[_0x46f352(0x581)](_0x2d4197);})['post'](this['routerPath']('findContacts'),..._0x4ce639,async(_0x4d4921,_0x34907e)=>{const _0x4de715=_0x560c88;let _0x3a8547=await this[_0x4de715(0x14e)]({'request':_0x4d4921,'schema':ka,'ClassRef':ze,'execute':(_0x377278,_0x24dcfb)=>D[_0x4de715(0xe7)](_0x377278,_0x24dcfb)});return _0x34907e[_0x4de715(0x2ad)](0xc8)[_0x4de715(0x581)](_0x3a8547);})[_0x560c88(0x4d2)](this[_0x560c88(0x4de)](_0x560c88(0x490)),..._0x4ce639,async(_0x523e63,_0x378ecc)=>{const _0xaf281f=_0x560c88;let _0x282b8d=await this[_0xaf281f(0x14e)]({'request':_0x523e63,'schema':null,'ClassRef':Object,'execute':(_0x7cbbbe,_0x366ffb)=>D['getBase64FromMediaMessage'](_0x7cbbbe,_0x366ffb)});return _0x378ecc[_0xaf281f(0x2ad)](0xc9)[_0xaf281f(0x581)](_0x282b8d);})[_0x560c88(0x4d2)](this[_0x560c88(0x4de)](_0x560c88(0x6d3)),..._0x4ce639,async(_0x3261c2,_0x3a2e67)=>{const _0x3ba4ba=_0x560c88;let _0x3feb2a=await this[_0x3ba4ba(0x14e)]({'request':_0x3261c2,'schema':Ja,'ClassRef':Pe,'execute':(_0x52e7e,_0x581726)=>D['fetchMessages'](_0x52e7e,_0x581726)});return _0x3a2e67[_0x3ba4ba(0x2ad)](0xc8)['json'](_0x3feb2a);})['get'](this[_0x560c88(0x4de)](_0x560c88(0x4c6)),..._0x4ce639,async(_0xc946d2,_0x38292c)=>{const _0x49a6aa=_0x560c88;let _0x8aa934=await this['dataValidate']({'request':_0xc946d2,'schema':null,'ClassRef':S,'execute':_0x331d60=>D['fetchChats'](_0x331d60)});return _0x38292c[_0x49a6aa(0x2ad)](0xc8)[_0x49a6aa(0x581)](_0x8aa934);})['get'](this[_0x560c88(0x4de)]('findLabels'),..._0x4ce639,async(_0x145853,_0x4b3401)=>{const _0x34469a=_0x560c88;let _0x25e008=await this[_0x34469a(0x14e)]({'request':_0x145853,'schema':null,'ClassRef':S,'execute':_0x47efc8=>D[_0x34469a(0x226)](_0x47efc8)});return _0x4b3401[_0x34469a(0x2ad)](0xc8)['json'](_0x25e008);})['put'](this[_0x560c88(0x4de)](_0x560c88(0x295)),..._0x4ce639,async(_0x1244f0,_0x5e34af)=>{const _0x4573ee=_0x560c88;let _0x5c492c=await this[_0x4573ee(0x14e)]({'request':_0x1244f0,'schema':null,'ClassRef':Array,'execute':(_0x52917a,_0x133a83)=>D[_0x4573ee(0x295)](_0x52917a,_0x133a83)});return _0x5e34af[_0x4573ee(0x2ad)](0xc8)[_0x4573ee(0x581)](_0x5c492c);})[_0x560c88(0x471)](this[_0x560c88(0x4de)](_0x560c88(0x18e)),..._0x4ce639,async(_0x274a4f,_0x30e6b0)=>{const _0x41e8df=_0x560c88;let _0x2cba2b=await this[_0x41e8df(0x14e)]({'request':_0x274a4f,'schema':null,'ClassRef':S,'execute':_0x51d465=>D[_0x41e8df(0x18e)](_0x51d465)});return _0x30e6b0[_0x41e8df(0x2ad)](0xc8)[_0x41e8df(0x581)](_0x2cba2b);})[_0x560c88(0x204)](this['routerPath']('updatePrivacySettings'),..._0x4ce639,async(_0x43fd3d,_0x113700)=>{const _0x5ae9f2=_0x560c88;let _0x39cf72=await this[_0x5ae9f2(0x14e)]({'request':_0x43fd3d,'schema':_a,'ClassRef':qe,'execute':(_0xd6aba9,_0x2bd079)=>D[_0x5ae9f2(0x125)](_0xd6aba9,_0x2bd079)});return _0x113700['status'](0xc9)[_0x5ae9f2(0x581)](_0x39cf72);})[_0x560c88(0x4d2)](this[_0x560c88(0x4de)]('fetchBusinessProfile'),..._0x4ce639,async(_0x273897,_0x69c0c7)=>{const _0x5f2298=_0x560c88;let _0x2fc437=await this['dataValidate']({'request':_0x273897,'schema':we,'ClassRef':ge,'execute':(_0x267fca,_0x10571e)=>D['fetchBusinessProfile'](_0x267fca,_0x10571e)});return _0x69c0c7[_0x5f2298(0x2ad)](0xc8)[_0x5f2298(0x581)](_0x2fc437);})['post'](this[_0x560c88(0x4de)]('updateProfileName'),..._0x4ce639,async(_0x24f21b,_0x537a00)=>{const _0x49c247=_0x560c88;let _0x3c7d23=await this[_0x49c247(0x14e)]({'request':_0x24f21b,'schema':La,'ClassRef':Fe,'execute':(_0x5a1440,_0x389c94)=>D['updateProfileName'](_0x5a1440,_0x389c94)});return _0x537a00[_0x49c247(0x2ad)](0xc8)[_0x49c247(0x581)](_0x3c7d23);})['post'](this[_0x560c88(0x4de)](_0x560c88(0x529)),..._0x4ce639,async(_0x4a8564,_0x21fe2a)=>{const _0x32f630=_0x560c88;let _0xed3afb=await this[_0x32f630(0x14e)]({'request':_0x4a8564,'schema':Fa,'ClassRef':Ue,'execute':(_0x3ed49a,_0x3522d4)=>D[_0x32f630(0x529)](_0x3ed49a,_0x3522d4)});return _0x21fe2a[_0x32f630(0x2ad)](0xc8)['json'](_0xed3afb);})[_0x560c88(0x204)](this[_0x560c88(0x4de)](_0x560c88(0x2d4)),..._0x4ce639,async(_0x51fe6a,_0x3a0270)=>{const _0x56ef6e=_0x560c88;let _0x500376=await this[_0x56ef6e(0x14e)]({'request':_0x51fe6a,'schema':we,'ClassRef':ge,'execute':(_0x20127c,_0x27d321)=>D[_0x56ef6e(0x2d4)](_0x20127c,_0x27d321)});return _0x3a0270['status'](0xc8)[_0x56ef6e(0x581)](_0x500376);})[_0x560c88(0x572)](this[_0x560c88(0x4de)](_0x560c88(0x502)),..._0x4ce639,async(_0x3f2cd1,_0x1f31d3)=>{const _0x30eee4=_0x560c88;let _0x5ad7a8=await this[_0x30eee4(0x14e)]({'request':_0x3f2cd1,'schema':we,'ClassRef':ge,'execute':(_0x518612,_0x78bb6c)=>D[_0x30eee4(0x502)](_0x518612,_0x78bb6c)});return _0x1f31d3['status'](0xc8)[_0x30eee4(0x581)](_0x5ad7a8);});}},Xa=require('express'),Ye=class{},Xe=class{},Ze=class{},et=class{},tt=class{},Q=class{},st=class{},at=class extends Q{},rt=class extends Q{},ot=class extends J{constructor(..._0x56daf4){const _0x17584f=a0_0x2a4c6a;super(),this['router']=(0x0,Xa['Router'])(),this['router'][_0x17584f(0x4d2)](this[_0x17584f(0x4de)](_0x17584f(0x47f)),..._0x56daf4,async(_0x2735a,_0x5b9b03)=>{const _0x7a78b2=_0x17584f;let _0x4f777a=await this[_0x7a78b2(0x14e)]({'request':_0x2735a,'schema':qa,'ClassRef':Ye,'execute':(_0x4d2599,_0x4fb942)=>U['createGroup'](_0x4d2599,_0x4fb942)});_0x5b9b03[_0x7a78b2(0x2ad)](0xc9)[_0x7a78b2(0x581)](_0x4f777a);})[_0x17584f(0x204)](this[_0x17584f(0x4de)](_0x17584f(0x557)),..._0x56daf4,async(_0x2499bb,_0x2d68d9)=>{const _0x12b06c=_0x17584f;let _0x49ee0a=await this[_0x12b06c(0x6b7)]({'request':_0x2499bb,'schema':Ga,'ClassRef':Xe,'execute':(_0x30b3b4,_0x406b18)=>U[_0x12b06c(0x557)](_0x30b3b4,_0x406b18)});_0x2d68d9['status'](0xc9)[_0x12b06c(0x581)](_0x49ee0a);})[_0x17584f(0x204)](this['routerPath']('groupDesc'),..._0x56daf4,async(_0x569b4e,_0xf93940)=>{const _0x5a2509=_0x17584f;let _0x2387e7=await this[_0x5a2509(0x6b7)]({'request':_0x569b4e,'schema':Wa,'ClassRef':Ze,'execute':(_0xb0fe1e,_0x569aac)=>U[_0x5a2509(0x37e)](_0xb0fe1e,_0x569aac)});_0xf93940[_0x5a2509(0x2ad)](0xc9)[_0x5a2509(0x581)](_0x2387e7);})[_0x17584f(0x204)](this[_0x17584f(0x4de)](_0x17584f(0x5a0)),..._0x56daf4,async(_0x5ce599,_0x41738d)=>{const _0x1b6c47=_0x17584f;let _0x4a2a1d=await this[_0x1b6c47(0x6b7)]({'request':_0x5ce599,'schema':za,'ClassRef':et,'execute':(_0x571292,_0x33701d)=>U[_0x1b6c47(0x5a0)](_0x571292,_0x33701d)});_0x41738d[_0x1b6c47(0x2ad)](0xc9)[_0x1b6c47(0x581)](_0x4a2a1d);})[_0x17584f(0x204)](this[_0x17584f(0x4de)](_0x17584f(0xdd)),..._0x56daf4,async(_0x3a9b15,_0x5c7451)=>{const _0x3a437b=_0x17584f;let _0x799ff=await this['groupValidate']({'request':_0x3a9b15,'schema':Ha,'ClassRef':tt,'execute':(_0x39383f,_0xa68cce)=>U[_0x3a437b(0xdd)](_0x39383f,_0xa68cce)});_0x5c7451[_0x3a437b(0x2ad)](0xc9)[_0x3a437b(0x581)](_0x799ff);})[_0x17584f(0x204)](this[_0x17584f(0x4de)](_0x17584f(0x1a0)),..._0x56daf4,async(_0x2c6763,_0x964e81)=>{const _0x19d143=_0x17584f;let _0x345fab=await this['groupValidate']({'request':_0x2c6763,'schema':Ba,'ClassRef':rt,'execute':(_0x386f48,_0x5a7a75)=>U['toggleEphemeral'](_0x386f48,_0x5a7a75)});_0x964e81[_0x19d143(0x2ad)](0xc9)[_0x19d143(0x581)](_0x345fab);})[_0x17584f(0x471)](this[_0x17584f(0x4de)]('findGroupInfos'),..._0x56daf4,async(_0x987ab8,_0x660aae)=>{const _0x4909b3=_0x17584f;let _0x3ad85e=await this['groupValidate']({'request':_0x987ab8,'schema':be,'ClassRef':Q,'execute':(_0x21cb6d,_0x336611)=>U[_0x4909b3(0x547)](_0x21cb6d,_0x336611)});_0x660aae[_0x4909b3(0x2ad)](0xc8)['json'](_0x3ad85e);})[_0x17584f(0x471)](this['routerPath'](_0x17584f(0x480)),..._0x56daf4,async(_0x1c2579,_0x11d63a)=>{const _0x4487e5=_0x17584f;let _0x4a694d=await this['dataValidate']({'request':_0x1c2579,'schema':C,'ClassRef':S,'execute':_0xd50bb3=>U['findGroups'](_0xd50bb3)});_0x11d63a[_0x4487e5(0x2ad)](0xc8)[_0x4487e5(0x581)](_0x4a694d);})['get'](this['routerPath']('participants'),..._0x56daf4,async(_0xc8c016,_0x3788d7)=>{const _0x65298c=_0x17584f;let _0x2e8952=await this[_0x65298c(0x6b7)]({'request':_0xc8c016,'schema':be,'ClassRef':Q,'execute':(_0x2c1115,_0x537b63)=>U[_0x65298c(0x66e)](_0x2c1115,_0x537b63)});_0x3788d7['status'](0xc8)[_0x65298c(0x581)](_0x2e8952);})['get'](this[_0x17584f(0x4de)](_0x17584f(0x620)),..._0x56daf4,async(_0x1aa167,_0x1672c8)=>{const _0x124eb6=_0x17584f;let _0x4a7932=await this[_0x124eb6(0x6b7)]({'request':_0x1aa167,'schema':be,'ClassRef':Q,'execute':(_0x10be9e,_0x53b043)=>U[_0x124eb6(0x620)](_0x10be9e,_0x53b043)});_0x1672c8['status'](0xc8)[_0x124eb6(0x581)](_0x4a7932);})[_0x17584f(0x204)](this[_0x17584f(0x4de)](_0x17584f(0x525)),..._0x56daf4,async(_0x47f3d3,_0x5a959e)=>{const _0x4bd377=_0x17584f;let _0x25ab99=await this['joinGroupValidate']({'request':_0x47f3d3,'schema':Ka,'ClassRef':st,'execute':(_0x30d510,_0x42ca69)=>U[_0x4bd377(0x525)](_0x30d510,_0x42ca69)});_0x5a959e[_0x4bd377(0x2ad)](0xc9)[_0x4bd377(0x581)](_0x25ab99);})['put'](this[_0x17584f(0x4de)](_0x17584f(0x16b)),..._0x56daf4,async(_0x1a7290,_0x3e7bbe)=>{const _0x214065=_0x17584f;let _0x54fc72=await this[_0x214065(0x6b7)]({'request':_0x1a7290,'schema':be,'ClassRef':Q,'execute':(_0x461eb3,_0x1cee09)=>U[_0x214065(0x16b)](_0x461eb3,_0x1cee09)});_0x3e7bbe[_0x214065(0x2ad)](0xc9)[_0x214065(0x581)](_0x54fc72);})[_0x17584f(0x204)](this[_0x17584f(0x4de)](_0x17584f(0x582)),..._0x56daf4,async(_0x48e860,_0xb8dc33)=>{const _0x55d3a7=_0x17584f;let _0x484ccd=await this['groupValidate']({'request':_0x48e860,'schema':Va,'ClassRef':at,'execute':(_0xf607bb,_0x32c048)=>U[_0x55d3a7(0x3e6)](_0xf607bb,_0x32c048)});_0xb8dc33[_0x55d3a7(0x2ad)](0xc9)[_0x55d3a7(0x581)](_0x484ccd);})[_0x17584f(0x572)](this[_0x17584f(0x4de)](_0x17584f(0x183)),..._0x56daf4,async(_0xc90a15,_0x16e908)=>{const _0x291a0a=_0x17584f;let _0x1af9b8=await this['groupValidate']({'request':_0xc90a15,'schema':{},'ClassRef':Q,'execute':(_0x31f77a,_0x135e33)=>U['leaveGroup'](_0x31f77a,_0x135e33)});_0x16e908[_0x291a0a(0x2ad)](0xc8)[_0x291a0a(0x581)](_0x1af9b8);});}},Za=require(a0_0x2a4c6a(0x464)),it=class extends J{constructor(_0x2754fb,..._0x2ce7fc){const _0x28b3f6=a0_0x2a4c6a;super(),this[_0x28b3f6(0x5c8)]=_0x2754fb,this['router']=(0x0,Za[_0x28b3f6(0x35f)])();let _0x27a619=_0x2754fb['get'](_0x28b3f6(0x68f));this[_0x28b3f6(0x134)][_0x28b3f6(0x4d2)]('/create',..._0x2ce7fc,async(_0x32f954,_0x5afbf0)=>{const _0x7b7db=_0x28b3f6;let {instanceName:_0x35f58d,apikey:_0x518360,number:_0x5281e9}=_0x32f954[_0x7b7db(0x18c)],_0x1d7cc5=await ae['createInstance']({'instanceName':_0x35f58d,'apikey':_0x518360,'number':_0x5281e9});return _0x5afbf0[_0x7b7db(0x2ad)](0xc9)['json'](_0x1d7cc5);})[_0x28b3f6(0x204)](this[_0x28b3f6(0x4de)]('restart'),..._0x2ce7fc,async(_0x9fc4e1,_0x479616)=>{const _0x658960=_0x28b3f6;let _0x36e72a=await this[_0x658960(0x14e)]({'request':_0x9fc4e1,'schema':C,'ClassRef':S,'execute':_0x4276d7=>ae['restartInstance'](_0x4276d7)});return _0x479616[_0x658960(0x2ad)](0xc8)['json'](_0x36e72a);})[_0x28b3f6(0x4d2)](this[_0x28b3f6(0x4de)]('connect'),..._0x2ce7fc,async(_0xfaf0e0,_0x3413dd)=>{const _0x298073=_0x28b3f6;let _0xb5aacc=await this[_0x298073(0x14e)]({'request':_0xfaf0e0,'schema':C,'ClassRef':S,'execute':_0xaf28ca=>ae[_0x298073(0x3ec)](_0xaf28ca)});return _0x3413dd['status'](0xc8)[_0x298073(0x581)](_0xb5aacc);})[_0x28b3f6(0x471)](this[_0x28b3f6(0x4de)](_0x28b3f6(0x1fb)),..._0x2ce7fc,async(_0x4585e0,_0x42fb2f)=>{const _0x8513e6=_0x28b3f6;let _0x17ff02=await this[_0x8513e6(0x14e)]({'request':_0x4585e0,'schema':C,'ClassRef':S,'execute':_0x54710c=>ae[_0x8513e6(0x1fb)](_0x54710c)});return _0x42fb2f[_0x8513e6(0x2ad)](0xc8)[_0x8513e6(0x581)](_0x17ff02);})['get'](this['routerPath'](_0x28b3f6(0x67a),!0x1),..._0x2ce7fc,async(_0x317f63,_0x503845)=>{const _0x391824=_0x28b3f6;let _0x28da01=await this[_0x391824(0x14e)]({'request':_0x317f63,'schema':null,'ClassRef':S,'execute':_0x20b0d4=>ae[_0x391824(0x67a)](_0x20b0d4)});return _0x503845['status'](0xc8)['json'](_0x28da01);})[_0x28b3f6(0x572)](this['routerPath'](_0x28b3f6(0xf7)),..._0x2ce7fc,async(_0x50a49f,_0x3766eb)=>{const _0x3d1d65=_0x28b3f6;let _0x3133dd=await this['dataValidate']({'request':_0x50a49f,'schema':C,'ClassRef':S,'execute':_0x5a4573=>ae[_0x3d1d65(0xf7)](_0x5a4573)});return _0x3766eb[_0x3d1d65(0x2ad)](0xc8)[_0x3d1d65(0x581)](_0x3133dd);})[_0x28b3f6(0x572)](this[_0x28b3f6(0x4de)](_0x28b3f6(0x572)),..._0x2ce7fc,async(_0x6a4906,_0x1cc4e2)=>{const _0x279625=_0x28b3f6;let _0x24b6ed=await this[_0x279625(0x14e)]({'request':_0x6a4906,'schema':C,'ClassRef':S,'execute':_0x3d9b82=>ae[_0x279625(0x54d)](_0x3d9b82)});return _0x1cc4e2['status'](0xc8)[_0x279625(0x581)](_0x24b6ed);});}},er=require('express'),ls=class{},G=class extends ls{},nt=class extends G{},ct=class extends G{},lt=class extends G{},ut=class extends G{},Se=class extends G{},dt=class extends G{},pt=class extends G{},gt=class extends G{},ht=class extends G{},mt=class extends G{},ft=class{},yt=class extends J{constructor(..._0x2c4c9f){const _0x568017=a0_0x2a4c6a;super(),this[_0x568017(0x134)]=(0x0,er['Router'])(),this['router'][_0x568017(0x4d2)](this[_0x568017(0x4de)](_0x568017(0x30c)),..._0x2c4c9f,async(_0x129aa0,_0x46495a)=>{const _0x2974d9=_0x568017;let _0x3bfb3b=await this['dataValidate']({'request':_0x129aa0,'schema':wa,'ClassRef':nt,'execute':(_0x32faa,_0x175f5e)=>B[_0x2974d9(0x30c)](_0x32faa,_0x175f5e)});return _0x46495a[_0x2974d9(0x2ad)](0xc9)[_0x2974d9(0x581)](_0x3bfb3b);})[_0x568017(0x4d2)](this[_0x568017(0x4de)](_0x568017(0x1ab)),..._0x2c4c9f,async(_0x4cab3e,_0x18e782)=>{const _0x1c813e=_0x568017;let _0x22875d=await this[_0x1c813e(0x14e)]({'request':_0x4cab3e,'schema':Ma,'ClassRef':Se,'execute':(_0x4d9ec7,_0x125ce1)=>B[_0x1c813e(0x1ab)](_0x4d9ec7,_0x125ce1)});return _0x18e782['status'](0xc9)[_0x1c813e(0x581)](_0x22875d);})['post'](this['routerPath']('sendMenu'),..._0x2c4c9f,async(_0x15406d,_0x46869c)=>{const _0x236317=_0x568017;let _0x2a0101=await this['dataValidate']({'request':_0x15406d,'schema':Na,'ClassRef':ut,'execute':(_0x1ad676,_0x3b414a)=>B[_0x236317(0xbc)](_0x1ad676,_0x3b414a)});return _0x46869c['status'](0xc9)[_0x236317(0x581)](_0x2a0101);})[_0x568017(0x4d2)](this[_0x568017(0x4de)](_0x568017(0x585)),..._0x2c4c9f,async(_0xe82563,_0x5d6c65)=>{const _0x504db6=_0x568017;let _0x598964=await this['dataValidate']({'request':_0xe82563,'schema':Ca,'ClassRef':Se,'execute':(_0x7400b2,_0x216e12)=>B[_0x504db6(0x585)](_0x7400b2,_0x216e12)});return _0x5d6c65['status'](0xc9)[_0x504db6(0x581)](_0x598964);})[_0x568017(0x4d2)](this[_0x568017(0x4de)](_0x568017(0x2d0)),..._0x2c4c9f,async(_0x424269,_0x4609d2)=>{const _0x5611ce=_0x568017;let _0x23bb93=await this['dataValidate']({'request':_0x424269,'schema':Ra,'ClassRef':pt,'execute':(_0x42961a,_0x4bec9d)=>B[_0x5611ce(0x2d0)](_0x42961a,_0x4bec9d)});return _0x4609d2[_0x5611ce(0x2ad)](0xc9)[_0x5611ce(0x581)](_0x23bb93);})['post'](this[_0x568017(0x4de)]('sendLocation'),..._0x2c4c9f,async(_0x35bbb6,_0x5ed9f7)=>{const _0xb6aff7=_0x568017;let _0xbf51c6=await this[_0xb6aff7(0x14e)]({'request':_0x35bbb6,'schema':Ta,'ClassRef':gt,'execute':(_0x40ff8a,_0x3f548a)=>B['sendLocation'](_0x40ff8a,_0x3f548a)});return _0x5ed9f7['status'](0xc9)[_0xb6aff7(0x581)](_0xbf51c6);})['post'](this[_0x568017(0x4de)](_0x568017(0x4b3)),..._0x2c4c9f,async(_0x5ba590,_0xc05be1)=>{const _0x49b968=_0x568017;let _0x524e5=await this[_0x49b968(0x14e)]({'request':_0x5ba590,'schema':Aa,'ClassRef':ht,'execute':(_0x4863e0,_0x573968)=>B[_0x49b968(0x4b3)](_0x4863e0,_0x573968)});return _0xc05be1[_0x49b968(0x2ad)](0xc9)[_0x49b968(0x581)](_0x524e5);})[_0x568017(0x4d2)](this[_0x568017(0x4de)](_0x568017(0x3e5)),..._0x2c4c9f,async(_0x13b00b,_0x281e7c)=>{const _0x249215=_0x568017;let _0x8905aa=await this['dataValidate']({'request':_0x13b00b,'schema':Oa,'ClassRef':mt,'execute':(_0xb5eaeb,_0xa077ae)=>B[_0x249215(0x3e5)](_0xb5eaeb,_0xa077ae)});return _0x281e7c['status'](0xc9)['json'](_0x8905aa);})[_0x568017(0x4d2)](this[_0x568017(0x4de)](_0x568017(0xc5)),..._0x2c4c9f,async(_0xd9d381,_0x2c4681)=>{const _0x3126c1=_0x568017;let _0x49500f=await this[_0x3126c1(0x14e)]({'request':_0xd9d381,'schema':Ia,'ClassRef':ft,'execute':(_0x420537,_0x14e76a)=>B[_0x3126c1(0xc5)](_0x420537,_0x14e76a)});return _0x2c4681[_0x3126c1(0x2ad)](0xc9)[_0x3126c1(0x581)](_0x49500f);})[_0x568017(0x4d2)](this[_0x568017(0x4de)](_0x568017(0x414)),..._0x2c4c9f,async(_0x27fb6d,_0x2080b3)=>{const _0xdd89ea=_0x568017;let _0x24eee0=await this[_0xdd89ea(0x14e)]({'request':_0x27fb6d,'schema':va,'ClassRef':lt,'execute':(_0x1932e6,_0x517f92)=>B['sendPoll'](_0x1932e6,_0x517f92)});return _0x2080b3[_0xdd89ea(0x2ad)](0xc9)[_0xdd89ea(0x581)](_0x24eee0);})['post'](this[_0x568017(0x4de)]('sendStatus'),..._0x2c4c9f,async(_0x64972c,_0x477ac9)=>{const _0x418ade=_0x568017;let _0x3ae367=await this[_0x418ade(0x14e)]({'request':_0x64972c,'schema':Ea,'ClassRef':ct,'execute':(_0x4cbd90,_0x48131b)=>B[_0x418ade(0x4a8)](_0x4cbd90,_0x48131b)});return _0x477ac9[_0x418ade(0x2ad)](0xc9)[_0x418ade(0x581)](_0x3ae367);})[_0x568017(0x4d2)](this[_0x568017(0x4de)](_0x568017(0x402)),..._0x2c4c9f,async(_0x18656f,_0x291608)=>{const _0x541377=_0x568017;let _0xf18377=await this[_0x541377(0x14e)]({'request':_0x18656f,'schema':Sa,'ClassRef':dt,'execute':(_0x2e48aa,_0x7a5c9b)=>B['sendSticker'](_0x2e48aa,_0x7a5c9b)});return _0x291608['status'](0xc9)[_0x541377(0x581)](_0xf18377);});}},tr=require(a0_0x2a4c6a(0x464)),wt=class{},bt=class extends J{constructor(..._0x31151e){const _0x740172=a0_0x2a4c6a;super(),this[_0x740172(0x134)]=(0x0,tr['Router'])(),this[_0x740172(0x134)][_0x740172(0x4d2)](this[_0x740172(0x4de)](_0x740172(0x3c7)),..._0x31151e,async(_0x10329c,_0x9d809)=>{const _0xa34a00=_0x740172;let _0x3857a9=await this[_0xa34a00(0x14e)]({'request':_0x10329c,'schema':Qa,'ClassRef':wt,'execute':(_0xb063a5,_0x4df645)=>us[_0xa34a00(0x51a)](_0xb063a5,_0x4df645)});_0x9d809['status'](0xc9)[_0xa34a00(0x581)](_0x3857a9);})[_0x740172(0x471)](this[_0x740172(0x4de)](_0x740172(0x2e9)),..._0x31151e,async(_0x31fa8b,_0x2463ed)=>{const _0x463d13=_0x740172;let _0x47c407=await this[_0x463d13(0x14e)]({'request':_0x31fa8b,'schema':C,'ClassRef':S,'execute':_0x1d918c=>us['findWebhook'](_0x1d918c)});_0x2463ed[_0x463d13(0x2ad)](0xc8)[_0x463d13(0x581)](_0x47c407);});}},sr=require(a0_0x2a4c6a(0x464)),f=new v(a0_0x2a4c6a(0x213)),St=class extends J{constructor(..._0x55e40a){const _0x8ebc12=a0_0x2a4c6a;super(),this[_0x8ebc12(0x134)]=(0x0,sr[_0x8ebc12(0x35f)])(),this[_0x8ebc12(0x134)][_0x8ebc12(0x4d2)](this[_0x8ebc12(0x4de)](_0x8ebc12(0x40b)),..._0x55e40a,async(_0x1f2879,_0x6fb3d5)=>{const _0xe2e002=_0x8ebc12;let _0x41dd7a=_0x1f2879[_0xe2e002(0x18c)];f[_0xe2e002(0x33d)](_0xe2e002(0x370)),f[_0xe2e002(0x33d)]('request\x20body:\x20'),f[_0xe2e002(0x33d)](_0x1f2879['body']);let _0x1cfb7f=await this[_0xe2e002(0x14e)]({'request':_0x1f2879,'schema':C,'ClassRef':S,'execute':_0x18cef2=>T[_0xe2e002(0x3d9)](_0x18cef2,_0x41dd7a)});_0x6fb3d5[_0xe2e002(0x2ad)](0xc8)['json'](_0x1cfb7f);})['get'](this[_0x8ebc12(0x4de)](_0x8ebc12(0x40b)),..._0x55e40a,async(_0x579a50,_0x5f59c4)=>{const _0x38491a=_0x8ebc12;let _0x14318a=await this[_0x38491a(0x14e)]({'request':_0x579a50,'schema':C,'ClassRef':S,'execute':_0x338e25=>T['getScheduleMessage'](_0x338e25)});_0x5f59c4[_0x38491a(0x2ad)](0xc8)[_0x38491a(0x581)](_0x14318a);})[_0x8ebc12(0x572)](this[_0x8ebc12(0x4de)](_0x8ebc12(0x3bd)),..._0x55e40a,async(_0x2e9614,_0x5e13b1)=>{const _0x37139e=_0x8ebc12;f[_0x37139e(0x33d)](_0x37139e(0x1d1));let _0x349ede=await this[_0x37139e(0x14e)]({'request':_0x2e9614,'schema':C,'ClassRef':S,'execute':_0x148f12=>T['deleteDoneMessages'](_0x148f12)});_0x5e13b1[_0x37139e(0x2ad)](0xc8)['json'](_0x349ede);})[_0x8ebc12(0x4d2)](this[_0x8ebc12(0x4de)](_0x8ebc12(0x59d)),..._0x55e40a,async(_0x150557,_0x3b6c88)=>{const _0x307b93=_0x8ebc12;let _0x2bae9a=_0x150557[_0x307b93(0x18c)];f[_0x307b93(0x33d)]('request\x20received\x20in\x20starFlow'),f[_0x307b93(0x33d)](_0x307b93(0x657)),f[_0x307b93(0x33d)](_0x150557['body']);let _0x2459fd=await this[_0x307b93(0x14e)]({'request':_0x150557,'schema':C,'ClassRef':S,'execute':_0x5e0fcc=>T[_0x307b93(0x59d)](_0x5e0fcc,_0x2bae9a)});_0x3b6c88[_0x307b93(0x2ad)](0xc8)[_0x307b93(0x581)](_0x2459fd);})['get'](this['routerPath'](_0x8ebc12(0x410)),..._0x55e40a,async(_0x17273e,_0x222b94)=>{const _0x19358f=_0x8ebc12;f[_0x19358f(0x33d)](_0x19358f(0x41c));let _0x1dafd6=await this['dataValidate']({'request':_0x17273e,'schema':C,'ClassRef':S,'execute':_0x51d5cc=>T[_0x19358f(0x410)](_0x51d5cc)});_0x222b94[_0x19358f(0x2ad)](0xc8)[_0x19358f(0x581)](_0x1dafd6);})[_0x8ebc12(0x471)](this[_0x8ebc12(0x4de)](_0x8ebc12(0x2f0)),..._0x55e40a,async(_0x25790d,_0x6c204)=>{const _0x37f076=_0x8ebc12;f[_0x37f076(0x33d)](_0x37f076(0x157));let _0x44f137=await this[_0x37f076(0x14e)]({'request':_0x25790d,'schema':C,'ClassRef':S,'execute':_0x133974=>T[_0x37f076(0x410)](_0x133974)});_0x6c204[_0x37f076(0x2ad)](0xc8)['json'](_0x44f137);})[_0x8ebc12(0x4d2)](this['routerPath'](_0x8ebc12(0x11a)),..._0x55e40a,async(_0x425c16,_0x5d4dbe)=>{const _0x287c05=_0x8ebc12;let _0x3d4920=_0x425c16['body'];f[_0x287c05(0x33d)](_0x287c05(0x10f)),f[_0x287c05(0x33d)]('request\x20body:\x20'),f[_0x287c05(0x33d)](_0x425c16['body']);let _0x41a827=await this[_0x287c05(0x14e)]({'request':_0x425c16,'schema':C,'ClassRef':S,'execute':_0x5b7979=>T[_0x287c05(0x11a)](_0x5b7979,_0x3d4920)});_0x5d4dbe['status'](0xc8)[_0x287c05(0x581)](_0x41a827);})[_0x8ebc12(0x4d2)](this[_0x8ebc12(0x4de)](_0x8ebc12(0x40f)),..._0x55e40a,async(_0x519fcf,_0x38d163)=>{const _0x1c4ffe=_0x8ebc12;let _0x428a59=_0x519fcf[_0x1c4ffe(0x18c)];f['verbose'](_0x1c4ffe(0x2a5)),f[_0x1c4ffe(0x33d)](_0x1c4ffe(0x657)),f['verbose'](_0x519fcf['body']);let _0x59d31d=await this[_0x1c4ffe(0x14e)]({'request':_0x519fcf,'schema':C,'ClassRef':S,'execute':_0x22578a=>T[_0x1c4ffe(0x40f)](_0x22578a,_0x428a59)});_0x38d163[_0x1c4ffe(0x2ad)](0xc8)[_0x1c4ffe(0x581)](_0x59d31d);})[_0x8ebc12(0x4d2)](this[_0x8ebc12(0x4de)](_0x8ebc12(0x12f)),..._0x55e40a,async(_0x404d07,_0x1a7a9a)=>{const _0x4dfbb7=_0x8ebc12;let _0x4b4968=_0x404d07[_0x4dfbb7(0x18c)];f[_0x4dfbb7(0x33d)](_0x4dfbb7(0x3cd)),f[_0x4dfbb7(0x33d)]('request\x20body:\x20'),f[_0x4dfbb7(0x33d)](_0x404d07[_0x4dfbb7(0x18c)]);let _0x54af47=await this['dataValidate']({'request':_0x404d07,'schema':C,'ClassRef':S,'execute':_0x16cb4d=>T[_0x4dfbb7(0x12f)](_0x16cb4d,_0x4b4968)});_0x1a7a9a['status'](0xc8)[_0x4dfbb7(0x581)](_0x54af47);})[_0x8ebc12(0x4d2)](this[_0x8ebc12(0x4de)](_0x8ebc12(0x66c)),..._0x55e40a,async(_0x15250f,_0x225a1e)=>{const _0x1ddfa4=_0x8ebc12;let _0x150dca=_0x15250f['body'];f['verbose']('request\x20received\x20in\x20getConversation'),f[_0x1ddfa4(0x33d)](_0x1ddfa4(0x657)),f[_0x1ddfa4(0x33d)](_0x15250f['body']);let _0x247b62=await this['dataValidate']({'request':_0x15250f,'schema':C,'ClassRef':S,'execute':_0x5b17ef=>T[_0x1ddfa4(0x66c)](_0x5b17ef,_0x150dca)});_0x225a1e['status'](0xc8)[_0x1ddfa4(0x581)](_0x247b62);})[_0x8ebc12(0x4d2)](this[_0x8ebc12(0x4de)](_0x8ebc12(0x1a9)),..._0x55e40a,async(_0xa81694,_0x427b78)=>{const _0xd14f6f=_0x8ebc12;let _0xc3a6ee=_0xa81694[_0xd14f6f(0x18c)];f[_0xd14f6f(0x33d)](_0xd14f6f(0x2b9)),f[_0xd14f6f(0x33d)](_0xd14f6f(0x657)),f[_0xd14f6f(0x33d)](_0xa81694[_0xd14f6f(0x18c)]);let _0x24e62d=await this[_0xd14f6f(0x14e)]({'request':_0xa81694,'schema':C,'ClassRef':S,'execute':_0x491dfc=>T[_0xd14f6f(0x1a9)](_0x491dfc,_0xc3a6ee)});_0x427b78[_0xd14f6f(0x2ad)](0xc8)[_0xd14f6f(0x581)](_0x24e62d);})[_0x8ebc12(0x4d2)](this['routerPath']('editConversation'),..._0x55e40a,async(_0x2300be,_0xa3915f)=>{const _0x46ef47=_0x8ebc12;let _0x126ba0=_0x2300be[_0x46ef47(0x18c)];f[_0x46ef47(0x33d)](_0x46ef47(0x29e)),f[_0x46ef47(0x33d)](_0x46ef47(0x657)),f[_0x46ef47(0x33d)](_0x2300be[_0x46ef47(0x18c)]);let _0x2cd719=await this[_0x46ef47(0x14e)]({'request':_0x2300be,'schema':C,'ClassRef':S,'execute':_0x2ea57b=>T[_0x46ef47(0x57d)](_0x2ea57b,_0x126ba0)});_0xa3915f[_0x46ef47(0x2ad)](0xc8)[_0x46ef47(0x581)](_0x2cd719);})[_0x8ebc12(0x572)](this[_0x8ebc12(0x4de)](_0x8ebc12(0x56f)),..._0x55e40a,async(_0x2c68c8,_0x1cc353)=>{const _0x1c6a30=_0x8ebc12;let _0xaded47=_0x2c68c8[_0x1c6a30(0x18c)];f[_0x1c6a30(0x33d)](_0x1c6a30(0x543)),f[_0x1c6a30(0x33d)](_0x1c6a30(0x657)),f[_0x1c6a30(0x33d)](_0x2c68c8[_0x1c6a30(0x18c)]);let _0x515027=await this[_0x1c6a30(0x14e)]({'request':_0x2c68c8,'schema':C,'ClassRef':S,'execute':_0x3f2ef4=>T[_0x1c6a30(0x56f)](_0x3f2ef4,_0xaded47)});_0x1cc353['status'](0xc8)['json'](_0x515027);})[_0x8ebc12(0x4d2)](this[_0x8ebc12(0x4de)](_0x8ebc12(0x10e)),..._0x55e40a,async(_0x6a4a91,_0xd46b6f)=>{const _0x2aead7=_0x8ebc12;let _0x5558e3=_0x6a4a91[_0x2aead7(0x18c)];f[_0x2aead7(0x33d)](_0x2aead7(0x2f1)),f[_0x2aead7(0x33d)](_0x2aead7(0x657)),f[_0x2aead7(0x33d)](_0x6a4a91[_0x2aead7(0x18c)]);let _0x17c532=await this[_0x2aead7(0x14e)]({'request':_0x6a4a91,'schema':C,'ClassRef':S,'execute':_0x2f0da7=>T[_0x2aead7(0x505)](_0x2f0da7,_0x5558e3)});_0xd46b6f[_0x2aead7(0x2ad)](0xc8)[_0x2aead7(0x581)](_0x17c532);})[_0x8ebc12(0x4d2)](this[_0x8ebc12(0x4de)](_0x8ebc12(0x11e)),..._0x55e40a,async(_0x41a3d6,_0x26b0e6)=>{const _0x5062d7=_0x8ebc12;let _0x172167=_0x41a3d6[_0x5062d7(0x18c)];f[_0x5062d7(0x33d)](_0x5062d7(0x146)),f['verbose']('request\x20body:\x20'),f['verbose'](_0x41a3d6['body']),delete _0x172167[_0x5062d7(0x19b)],delete _0x172167[_0x5062d7(0x5dd)],delete _0x172167['groups'],delete _0x172167[_0x5062d7(0x35d)];let _0x1a9983=await this[_0x5062d7(0x14e)]({'request':_0x41a3d6,'schema':C,'ClassRef':S,'execute':_0x533731=>T[_0x5062d7(0x1f9)](_0x533731,_0x172167)});_0x26b0e6[_0x5062d7(0x2ad)](0xc8)[_0x5062d7(0x581)](_0x1a9983);})[_0x8ebc12(0x4d2)](this[_0x8ebc12(0x4de)](_0x8ebc12(0x4ed)),..._0x55e40a,async(_0x4e0d8f,_0xe4cb57)=>{const _0x55af5f=_0x8ebc12;let _0x4dbb3c=_0x4e0d8f[_0x55af5f(0x18c)];f[_0x55af5f(0x33d)](_0x55af5f(0x146)),f['verbose'](_0x55af5f(0x657)),f[_0x55af5f(0x33d)](_0x4e0d8f[_0x55af5f(0x18c)]);let _0x3aca10=await this[_0x55af5f(0x14e)]({'request':_0x4e0d8f,'schema':C,'ClassRef':S,'execute':_0x284d7c=>T[_0x55af5f(0x20d)](_0x284d7c,_0x4dbb3c)});_0xe4cb57[_0x55af5f(0x2ad)](0xc8)[_0x55af5f(0x581)](_0x3aca10);})['post'](this[_0x8ebc12(0x4de)](_0x8ebc12(0x12c)),..._0x55e40a,async(_0x3b8936,_0x284812)=>{const _0x58e4c8=_0x8ebc12;let _0x5afa7c=_0x3b8936['body'];f[_0x58e4c8(0x33d)]('request\x20received\x20in\x20editFlow'),f[_0x58e4c8(0x33d)]('request\x20body:\x20'),f[_0x58e4c8(0x33d)](_0x3b8936[_0x58e4c8(0x18c)]);let _0x13bf5f=await this[_0x58e4c8(0x14e)]({'request':_0x3b8936,'schema':C,'ClassRef':S,'execute':_0x6cc10d=>T[_0x58e4c8(0x5ba)](_0x6cc10d,_0x5afa7c)});_0x284812['status'](0xc8)[_0x58e4c8(0x581)](_0x13bf5f);})[_0x8ebc12(0x4d2)](this[_0x8ebc12(0x4de)]('editflowvaredit'),..._0x55e40a,async(_0x437b9c,_0x4db22c)=>{const _0x5125b4=_0x8ebc12;let _0x10bd60=_0x437b9c[_0x5125b4(0x18c)];f['verbose'](_0x5125b4(0x146)),f[_0x5125b4(0x33d)](_0x5125b4(0x657)),f['verbose'](_0x437b9c['body']);let _0x505abd=await this[_0x5125b4(0x14e)]({'request':_0x437b9c,'schema':C,'ClassRef':S,'execute':_0x5bc08e=>T[_0x5125b4(0x170)](_0x5bc08e,_0x10bd60)});_0x4db22c['status'](0xc8)['json'](_0x505abd);})[_0x8ebc12(0x4d2)](this[_0x8ebc12(0x4de)](_0x8ebc12(0x655)),..._0x55e40a,async(_0x1de775,_0x25f38e)=>{const _0x2217d0=_0x8ebc12;let _0x48fae4=_0x1de775[_0x2217d0(0x18c)];f[_0x2217d0(0x33d)](_0x2217d0(0x64c)),f['verbose'](_0x2217d0(0x657)),f[_0x2217d0(0x33d)](_0x1de775['body']);let _0x59aa56=await this[_0x2217d0(0x14e)]({'request':_0x1de775,'schema':C,'ClassRef':S,'execute':_0x1c2f1a=>T['editFlowGroup'](_0x1c2f1a,_0x48fae4)});_0x25f38e[_0x2217d0(0x2ad)](0xc8)[_0x2217d0(0x581)](_0x59aa56);})[_0x8ebc12(0x4d2)](this[_0x8ebc12(0x4de)](_0x8ebc12(0x239)),..._0x55e40a,async(_0x4cfe29,_0x16d0d8)=>{const _0x27861e=_0x8ebc12;let _0x5dfefd=_0x4cfe29[_0x27861e(0x18c)];f[_0x27861e(0x33d)](_0x27861e(0x5c4)),f['verbose'](_0x27861e(0x657)),f[_0x27861e(0x33d)](_0x4cfe29['body']);let _0x1cc7bd=await this[_0x27861e(0x14e)]({'request':_0x4cfe29,'schema':C,'ClassRef':S,'execute':_0x2bb0ec=>T[_0x27861e(0x11c)](_0x2bb0ec,_0x5dfefd)});_0x16d0d8[_0x27861e(0x2ad)](0xc8)[_0x27861e(0x581)](_0x1cc7bd);})[_0x8ebc12(0x4d2)](this['routerPath'](_0x8ebc12(0x5b9)),..._0x55e40a,async(_0x4656c3,_0x4d575e)=>{const _0x112436=_0x8ebc12;let _0x15b0cb=_0x4656c3[_0x112436(0x18c)];f[_0x112436(0x33d)]('request\x20received\x20in\x20editFlowvariable'),f[_0x112436(0x33d)]('request\x20body:\x20'),f[_0x112436(0x33d)](_0x4656c3[_0x112436(0x18c)]);let _0x21d488=await this[_0x112436(0x14e)]({'request':_0x4656c3,'schema':C,'ClassRef':S,'execute':_0x1e0250=>T[_0x112436(0x4e1)](_0x1e0250,_0x15b0cb)});_0x4d575e[_0x112436(0x2ad)](0xc8)['json'](_0x21d488);})[_0x8ebc12(0x4d2)](this['routerPath'](_0x8ebc12(0x24c)),..._0x55e40a,async(_0xaf3e53,_0x254b7d)=>{const _0x4b1480=_0x8ebc12;let _0x5930db=_0xaf3e53[_0x4b1480(0x18c)];f[_0x4b1480(0x33d)](_0x4b1480(0x100)),f[_0x4b1480(0x33d)](_0x4b1480(0x657)),f[_0x4b1480(0x33d)](_0xaf3e53[_0x4b1480(0x18c)]);let _0x47499f=await this[_0x4b1480(0x14e)]({'request':_0xaf3e53,'schema':C,'ClassRef':S,'execute':_0x34505b=>T['getFlow'](_0x34505b,_0x5930db)});_0x254b7d[_0x4b1480(0x2ad)](0xc8)[_0x4b1480(0x581)](_0x47499f);})[_0x8ebc12(0x572)](this[_0x8ebc12(0x4de)](_0x8ebc12(0x360)),..._0x55e40a,async(_0x5b3187,_0x2eaab3)=>{const _0x23a04f=_0x8ebc12;let _0x17d080=_0x5b3187[_0x23a04f(0x18c)];f[_0x23a04f(0x33d)](_0x23a04f(0x574)),f['verbose'](_0x23a04f(0x657)),f[_0x23a04f(0x33d)](_0x5b3187[_0x23a04f(0x18c)]);let _0x9ddb58=await this[_0x23a04f(0x14e)]({'request':_0x5b3187,'schema':C,'ClassRef':S,'execute':_0x5b6470=>T[_0x23a04f(0x57c)](_0x5b6470,_0x17d080)});_0x2eaab3[_0x23a04f(0x2ad)](0xc8)['json'](_0x9ddb58);})[_0x8ebc12(0x471)](this[_0x8ebc12(0x4de)](_0x8ebc12(0x468)),..._0x55e40a,async(_0x379e26,_0x53a205)=>{const _0x806adc=_0x8ebc12;f[_0x806adc(0x33d)](_0x806adc(0x3a6));let _0x2c1eb7=await this[_0x806adc(0x14e)]({'request':_0x379e26,'schema':C,'ClassRef':S,'execute':_0x25a996=>T[_0x806adc(0x407)](_0x25a996)});_0x53a205['status'](0xc8)[_0x806adc(0x581)](_0x2c1eb7);});}},ir=R(require(a0_0x2a4c6a(0x4f6))),Y={};function ar(_0x542493,_0x246133,_0x3c3cb1,_0x8dd5ac){Y[_0x542493]||(Y[_0x542493]={}),Y[_0x542493][_0x246133]={'id':_0x246133,'response':_0x3c3cb1,'events':_0x8dd5ac};}function rr(_0x57159c,_0xbd1c96){!Y[_0x57159c]||!Y[_0x57159c][_0xbd1c96]||delete Y[_0x57159c][_0xbd1c96];}function j(_0x17e9f1,_0xedcbe4,_0x386e0a){const _0x5cccc0=a0_0x2a4c6a;if(!Y[_0x17e9f1])return;let _0x448365='data:\x20'+JSON[_0x5cccc0(0x45c)](_0x386e0a)+'\x0a\x0a';Object[_0x5cccc0(0x178)](Y[_0x17e9f1])[_0x5cccc0(0x532)](_0x57f26a=>{const _0x4738eb=_0x5cccc0;_0x57f26a['events'][_0x4738eb(0x587)](_0xedcbe4)&&_0x57f26a[_0x4738eb(0x63f)][_0x4738eb(0x1e4)](_0x448365);});}function or(){const _0x5d084c=a0_0x2a4c6a;let _0x2f4442={};for(let _0x4efac6 in Y)_0x2f4442[_0x4efac6]=Object[_0x5d084c(0x178)](Y[_0x4efac6])['map'](_0xcd35f3=>({'id':_0xcd35f3['id'],'events':_0xcd35f3[_0x5d084c(0x108)]}));return _0x2f4442;}var nr=require(a0_0x2a4c6a(0xa8)),ps=require('mongoose'),ds=class{},oo=new ps['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),io=new ps[(a0_0x2a4c6a(0x188))]({'_id':{'type':String,'default':a0_0x2a4c6a(0x4b2)},'WebhookGlobal':{'type':oo},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),he=N?.['model'](ds[a0_0x2a4c6a(0x194)],io,a0_0x2a4c6a(0x230)),no=ir[a0_0x2a4c6a(0x51f)][a0_0x2a4c6a(0x404)](__dirname,a0_0x2a4c6a(0x4a7)),Mt=(0x0,Et[a0_0x2a4c6a(0x35f)])(),co=b[a0_0x2a4c6a(0x471)](a0_0x2a4c6a(0x68f))[a0_0x2a4c6a(0x54b)],ee=[ga,ha,ya[co]];Mt['use']('/media',Et[a0_0x2a4c6a(0x51f)][a0_0x2a4c6a(0x387)](no))[a0_0x2a4c6a(0x471)]('/events/:instance',async(_0x2acaea,_0x4adfac)=>{const _0x87324e=a0_0x2a4c6a;console[_0x87324e(0x168)]('bateu\x20events');let _0xe029f2=_0x2acaea[_0x87324e(0x1cc)][_0x87324e(0x6a8)],_0x424f26=(_0x2acaea[_0x87324e(0x12e)][_0x87324e(0x108)]||'')[_0x87324e(0xe8)](','),_0x16d63c=(0x0,nr['v4'])();console[_0x87324e(0x168)](_0x87324e(0x397),_0xe029f2),console['log']('Subscribed\x20Events:',_0x424f26);let _0x26c082=b[_0x87324e(0x471)]('AUTHENTICATION')[_0x87324e(0x5ee)],_0x52b4b6=_0x2acaea[_0x87324e(0x12e)][_0x87324e(0x1ad)];if(console[_0x87324e(0x168)](_0x87324e(0x15d),_0x52b4b6),_0x26c082['KEY']!==_0x52b4b6){console[_0x87324e(0x168)](_0x87324e(0x24f));try{let _0x5f2138=await ne[_0x87324e(0x124)][_0x87324e(0x2e9)](_0xe029f2);if(console[_0x87324e(0x168)](_0x87324e(0x38a),_0x5f2138),!_0x5f2138||_0x5f2138[_0x87324e(0x1ad)]!==_0x52b4b6)return console[_0x87324e(0x168)](_0x87324e(0x686)),_0x4adfac['status'](0x191)['send'](_0x87324e(0x6a2));}catch(_0x6b54e5){return console[_0x87324e(0x53e)](_0x87324e(0x2ca),_0x6b54e5),_0x4adfac[_0x87324e(0x2ad)](0x191)[_0x87324e(0x17f)](_0x87324e(0x169));}}if(!await Be(_0xe029f2))return _0x4adfac[_0x87324e(0x2ad)](0x194)[_0x87324e(0x17f)](_0x87324e(0x142));_0x4adfac[_0x87324e(0x6e7)](_0x87324e(0x5c0),_0x87324e(0x181)),_0x4adfac['setHeader']('Cache-Control',_0x87324e(0x13f)),_0x4adfac[_0x87324e(0x6e7)](_0x87324e(0x4bc),_0x87324e(0x158)),_0x4adfac['flushHeaders']();let _0x5341d6=_0x87324e(0x3fa)+JSON['stringify']({'info':_0x87324e(0x52a)})+'\x0a\x0a';_0x4adfac[_0x87324e(0x1e4)](_0x5341d6),ar(_0xe029f2,_0x16d63c,_0x4adfac,_0x424f26),_0x2acaea['on'](_0x87324e(0x102),()=>{const _0x505d8e=_0x87324e;console['log'](_0x505d8e(0xc1)+_0xe029f2),rr(_0xe029f2,_0x16d63c);});}),Mt['get'](a0_0x2a4c6a(0x293),(_0x2b2f7d,_0x37ac3c)=>{const _0x67c9b9=a0_0x2a4c6a;let _0x2cb986=or();_0x37ac3c[_0x67c9b9(0x581)](_0x2cb986);})[a0_0x2a4c6a(0x471)]('/',(_0x25dadd,_0x507508)=>{const _0x515399=a0_0x2a4c6a;let _0x4cf79b=b[_0x515399(0x471)]('SSL_CONF'),_0x1ef713=_0x4cf79b&&_0x4cf79b[_0x515399(0x59c)][_0x515399(0xe8)]('/')[0x4];if(_0x1ef713){let _0x597939=encodeURIComponent(_0x515399(0x636)+_0x1ef713);_0x507508['redirect'](_0x515399(0x60a)+_0x597939);}else _0x507508[_0x515399(0x1c5)]('https://uazapi-plugin.bubbleapps.io/');})['put'](a0_0x2a4c6a(0x539),...ee,async(_0xfa3abb,_0x289c41)=>{const _0x1538fe=a0_0x2a4c6a;try{console[_0x1538fe(0x168)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x289c41[_0x1538fe(0x2ad)](0xc8)[_0x1538fe(0x581)]({'message':_0x1538fe(0x2ea)}),_0x289c41['on']('finish',()=>process['exit'](0x0));}catch(_0x448c25){console[_0x1538fe(0x53e)]('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x448c25),_0x289c41[_0x1538fe(0x2ad)](0x1f4)[_0x1538fe(0x581)]({'message':_0x1538fe(0x65d)});}})['put']('/config',...ee,async(_0x15bdc4,_0x58f3cb)=>{const _0x3da5a8=a0_0x2a4c6a;try{let _0xfc25d2=_0x15bdc4[_0x3da5a8(0x18c)];await he[_0x3da5a8(0x5ad)]({},{'$set':_0xfc25d2},{'upsert':!0x0});let _0x57e577=await he[_0x3da5a8(0xae)]();_0x58f3cb[_0x3da5a8(0x581)](_0x57e577);}catch(_0x112956){_0x58f3cb[_0x3da5a8(0x2ad)](0x190)['send'](_0x112956['message']);}})[a0_0x2a4c6a(0x471)]('/config',...ee,async(_0x1420b0,_0x206ec8)=>{const _0x1b85f3=a0_0x2a4c6a;try{let _0x4a738e=await he[_0x1b85f3(0xae)]();if(!_0x4a738e)return _0x206ec8[_0x1b85f3(0x581)]({});_0x206ec8[_0x1b85f3(0x581)](_0x4a738e);}catch(_0x3e61cf){_0x206ec8[_0x1b85f3(0x2ad)](0x1f4)['send'](_0x3e61cf[_0x1b85f3(0x55b)]);}})[a0_0x2a4c6a(0x364)]('/instance',new it(b,...ee)['router'])[a0_0x2a4c6a(0x364)](a0_0x2a4c6a(0x50b),new yt(...ee)[a0_0x2a4c6a(0x134)])['use'](a0_0x2a4c6a(0x678),new Qe(...ee)[a0_0x2a4c6a(0x134)])[a0_0x2a4c6a(0x364)]('/group',new ot(...ee)[a0_0x2a4c6a(0x134)])[a0_0x2a4c6a(0x364)](a0_0x2a4c6a(0x5a8),new bt(...ee)[a0_0x2a4c6a(0x134)])[a0_0x2a4c6a(0x364)](a0_0x2a4c6a(0x605),new St(...ee)[a0_0x2a4c6a(0x134)]);var h=class{constructor(..._0x499e18){const _0xc29644=a0_0x2a4c6a;throw{'status':0x190,'error':_0xc29644(0x609),'message':_0x499e18[_0xc29644(0x378)]>0x0?_0x499e18:void 0x0};}},Z=class{constructor(..._0x365c9e){const _0x1949f0=a0_0x2a4c6a;throw{'status':0x191,'error':'Unauthorized','message':_0x365c9e[_0x1949f0(0x378)]>0x0?_0x365c9e:void 0x0};}},H=class{constructor(..._0xbe7122){throw{'status':0x193,'error':'Forbidden','message':_0xbe7122['length']>0x0?_0xbe7122:void 0x0};}},L=class{constructor(..._0x4ae18f){const _0x14a5b0=a0_0x2a4c6a;throw{'status':0x194,'error':_0x14a5b0(0x2fb),'message':_0x4ae18f[_0x14a5b0(0x378)]>0x0?_0x4ae18f:void 0x0};}},O=class{constructor(..._0x11d039){const _0x51329f=a0_0x2a4c6a;throw{'status':0x1f4,'error':_0x51329f(0x39a),'message':_0x11d039[_0x51329f(0x378)]>0x0?_0x11d039:void 0x0};}},ce=require(a0_0x2a4c6a(0x5da));async function gs(_0x27ff1f){const _0x19e7fd=a0_0x2a4c6a;let _0x1cec2c=new v(gs[_0x19e7fd(0x194)]),_0x11383e=N[_0x19e7fd(0x6e9)](),_0xbc634d=_0x11383e['db'](b[_0x19e7fd(0x471)](_0x19e7fd(0x38f))[_0x19e7fd(0x3dd)][_0x19e7fd(0x2fa)]+_0x19e7fd(0x5e1))['collection'](_0x27ff1f),_0x5d98af=async(_0x124648,_0x4230a2)=>{const _0x49b509=_0x19e7fd;try{return await _0x11383e['connect'](),await _0xbc634d['replaceOne']({'_id':_0x4230a2},JSON['parse'](JSON[_0x49b509(0x45c)](_0x124648,ce[_0x49b509(0x696)][_0x49b509(0x400)])),{'upsert':!0x0});}catch{}},_0x5b0fcc=async _0x1bb804=>{const _0x4259c1=_0x19e7fd;try{await _0x11383e[_0x4259c1(0x409)]();let _0x4a3165=await _0xbc634d[_0x4259c1(0xae)]({'_id':_0x1bb804}),_0x281443=JSON[_0x4259c1(0x45c)](_0x4a3165);return JSON[_0x4259c1(0x1b8)](_0x281443,ce[_0x4259c1(0x696)][_0x4259c1(0x1ce)]);}catch{}},_0x30d107=async _0x51e21a=>{const _0x37f2cd=_0x19e7fd;try{return await _0x11383e['connect'](),await _0xbc634d[_0x37f2cd(0x29f)]({'_id':_0x51e21a});}catch{}},_0x2a30e2=await _0x5b0fcc(_0x19e7fd(0x5bf))||(0x0,ce[_0x19e7fd(0x3f9)])();return{'state':{'creds':_0x2a30e2,'keys':{'get':async(_0x329f5b,_0x2c92a0)=>{const _0x39c773=_0x19e7fd;let _0xd079ff={};return await Promise[_0x39c773(0x43f)](_0x2c92a0[_0x39c773(0xfe)](async _0x278b17=>{const _0x20d0dd=_0x39c773;let _0x18fe54=await _0x5b0fcc(_0x329f5b+'-'+_0x278b17);_0x329f5b==='app-state-sync-key'&&_0x18fe54&&(_0x18fe54=ce[_0x20d0dd(0x28c)][_0x20d0dd(0x6a1)]['AppStateSyncKeyData']['fromObject'](_0x18fe54)),_0xd079ff[_0x278b17]=_0x18fe54;})),_0xd079ff;},'set':async _0x4ab096=>{const _0x44d32=_0x19e7fd;let _0x4de57c=[];for(let _0xbdc400 in _0x4ab096)for(let _0x540ea2 in _0x4ab096[_0xbdc400]){let _0xc560b4=_0x4ab096[_0xbdc400][_0x540ea2],_0x257518=_0xbdc400+'-'+_0x540ea2;_0x4de57c['push'](_0xc560b4?_0x5d98af(_0xc560b4,_0x257518):_0x30d107(_0x257518));}await Promise[_0x44d32(0x43f)](_0x4de57c);}}},'saveCreds':async()=>_0x5d98af(_0x2a30e2,_0x19e7fd(0x5bf))};}var ws=R(require('long')),bs=R(require(a0_0x2a4c6a(0x3c2))),Nt=require(a0_0x2a4c6a(0x5da)),cr=require(a0_0x2a4c6a(0x684)),vt=require(a0_0x2a4c6a(0x5da)),Ct;function lo(_0x2941a4){const _0x533be6=a0_0x2a4c6a;return Ct||(Ct=(0x0,cr['createClient'])({'url':_0x2941a4[_0x533be6(0x145)]}),Ct[_0x533be6(0x409)]()),Ct;}var re=class c{constructor(_0x5507a4,_0x2f291b){const _0xfb6e90=a0_0x2a4c6a;this[_0xfb6e90(0x2df)]=_0x5507a4,this['instanceName']=_0x2f291b,this[_0xfb6e90(0xe0)]=new v(c['name']),this[_0xfb6e90(0x451)]=lo(_0x5507a4);}set[a0_0x2a4c6a(0x1fa)](_0x2f1d62){const _0x466f89=a0_0x2a4c6a;this[_0x466f89(0x180)]=_0x2f1d62;}async[a0_0x2a4c6a(0x4f0)](){const _0x21a3d7=a0_0x2a4c6a;try{return await this[_0x21a3d7(0x451)][_0x21a3d7(0xe4)]([_0x21a3d7(0x592),this['redisEnv'][_0x21a3d7(0x4ca)]+':*']);}catch(_0x59bcdd){this['logger'][_0x21a3d7(0x53e)](_0x59bcdd);}}async['writeData'](_0x1af309,_0x4b45e1){const _0x384c5d=a0_0x2a4c6a;try{let _0x495c48=JSON[_0x384c5d(0x45c)](_0x4b45e1,vt[_0x384c5d(0x696)]['replacer']);return await this['client']['hSet'](this[_0x384c5d(0x2df)][_0x384c5d(0x4ca)]+':'+this[_0x384c5d(0x180)],_0x1af309,_0x495c48);}catch(_0xf89ce6){this[_0x384c5d(0xe0)][_0x384c5d(0x53e)](_0xf89ce6);}}async[a0_0x2a4c6a(0x69c)](){const _0x24f0d5=a0_0x2a4c6a;try{let _0x4bb25d=await this[_0x24f0d5(0x451)][_0x24f0d5(0x242)](this[_0x24f0d5(0x2df)][_0x24f0d5(0x4ca)]+':'+this[_0x24f0d5(0x180)]);if(_0x4bb25d){for(let _0x1c1fc7 in _0x4bb25d)Object[_0x24f0d5(0x55f)][_0x24f0d5(0x640)][_0x24f0d5(0x688)](_0x4bb25d,_0x1c1fc7)&&(_0x4bb25d[_0x1c1fc7]=JSON[_0x24f0d5(0x1b8)](_0x4bb25d[_0x1c1fc7],vt[_0x24f0d5(0x696)][_0x24f0d5(0x1ce)]));return _0x4bb25d;}}catch(_0x4e62e8){this['logger'][_0x24f0d5(0x53e)](_0x4e62e8);}}async['readData'](_0x23f11c){const _0x5691ae=a0_0x2a4c6a;try{let _0x39c0da=await this[_0x5691ae(0x451)][_0x5691ae(0x5db)](this[_0x5691ae(0x2df)][_0x5691ae(0x4ca)]+':'+this[_0x5691ae(0x180)],_0x23f11c);if(_0x39c0da)return JSON[_0x5691ae(0x1b8)](_0x39c0da,vt[_0x5691ae(0x696)][_0x5691ae(0x1ce)]);}catch(_0xd3b7c6){this[_0x5691ae(0xe0)]['error'](_0xd3b7c6);}}async[a0_0x2a4c6a(0x319)](_0x40b455){const _0x206b69=a0_0x2a4c6a;try{return await this[_0x206b69(0x451)][_0x206b69(0x314)](this['redisEnv'][_0x206b69(0x4ca)]+':'+this[_0x206b69(0x180)],_0x40b455);}catch(_0x3e2844){this[_0x206b69(0xe0)][_0x206b69(0x53e)](_0x3e2844);}}async[a0_0x2a4c6a(0xf0)](_0x3a3c36){const _0x3f7610=a0_0x2a4c6a;try{return await this[_0x3f7610(0x451)][_0x3f7610(0x5b3)](_0x3a3c36||this[_0x3f7610(0x2df)][_0x3f7610(0x4ca)]+':'+this[_0x3f7610(0x180)]);}catch(_0x6debe7){this['logger'][_0x3f7610(0x53e)](_0x6debe7);}}};async function hs(_0x3e964f,_0x104386){const _0x1afe95=a0_0x2a4c6a;let _0x5139bc=new v(hs[_0x1afe95(0x194)]),_0x492730=new re(_0x3e964f,_0x104386),_0x5e9e6a=async(_0x16f7c3,_0x1b6ab1)=>{const _0x25b5e9=_0x1afe95;try{return await _0x492730['writeData'](_0x1b6ab1,_0x16f7c3);}catch(_0x339573){return _0x5139bc['error']({'localError':_0x25b5e9(0x379),'error':_0x339573});}},_0x3354b0=async _0x53b622=>{const _0x50f0f1=_0x1afe95;try{return await _0x492730['readData'](_0x53b622);}catch(_0x33db61){_0x5139bc[_0x50f0f1(0x53e)]({'readData':_0x50f0f1(0x379),'error':_0x33db61});return;}},_0x12f666=async _0x6186ab=>{const _0x393fed=_0x1afe95;try{return await _0x492730[_0x393fed(0x319)](_0x6186ab);}catch(_0xc46b83){_0x5139bc[_0x393fed(0x53e)]({'readData':_0x393fed(0x319),'error':_0xc46b83});}},_0x222de7=await _0x3354b0(_0x1afe95(0x5bf))||(0x0,Nt[_0x1afe95(0x3f9)])();return{'state':{'creds':_0x222de7,'keys':{'get':async(_0x1a3d93,_0x44376b)=>{const _0x2c9fda=_0x1afe95;let _0x30c2b3={};return await Promise['all'](_0x44376b[_0x2c9fda(0xfe)](async _0xd8a38=>{const _0x36c2da=_0x2c9fda;let _0x1327df=await _0x3354b0(_0x1a3d93+'-'+_0xd8a38);_0x1a3d93===_0x36c2da(0x11d)&&_0x1327df&&(_0x1327df=Nt[_0x36c2da(0x28c)]['Message'][_0x36c2da(0x2c0)][_0x36c2da(0x3f4)](_0x1327df)),_0x30c2b3[_0xd8a38]=_0x1327df;})),_0x30c2b3;},'set':async _0x26bd24=>{const _0x32a1c7=_0x1afe95;let _0x279976=[];for(let _0xad35b in _0x26bd24)for(let _0x24ca30 in _0x26bd24[_0xad35b]){let _0xa1e24f=_0x26bd24[_0xad35b][_0x24ca30],_0x3af0c2=_0xad35b+'-'+_0x24ca30;_0x279976['push'](_0xa1e24f?await _0x5e9e6a(_0xa1e24f,_0x3af0c2):await _0x12f666(_0x3af0c2));}await Promise[_0x32a1c7(0x43f)](_0x279976);}}},'saveCreds':async()=>await _0x5e9e6a(_0x222de7,_0x1afe95(0x5bf))};}var k=R(require('fs')),me=require('uuid'),At=R(require(a0_0x2a4c6a(0x349))),fr=require(a0_0x2a4c6a(0xca)),uo=a0_0x2a4c6a(0x5a3)['trim'](),ms=uo[a0_0x2a4c6a(0xe8)]('\x0a')[a0_0x2a4c6a(0xfe)](_0x5582da=>{const _0x459352=a0_0x2a4c6a;let _0x91b1b6=_0x5582da[_0x459352(0xe8)](':');return{'host':_0x91b1b6[0x0],'port':_0x91b1b6[0x1],'username':_0x91b1b6[0x2],'password':_0x91b1b6[0x3],'protocol':'http'};});function lr(){const _0x470662=a0_0x2a4c6a;if(ms[_0x470662(0x378)]===0x0)return null;let _0x51ca31=Math[_0x470662(0x32a)](Math[_0x470662(0x275)]()*ms[_0x470662(0x378)]);return ms[_0x51ca31];}function fs(_0xb017e5){const _0x442077=a0_0x2a4c6a;return _0xb017e5&&_0xb017e5[_0x442077(0x12d)]&&_0xb017e5['port']&&_0xb017e5['username']&&_0xb017e5[_0x442077(0x45e)];}var yr='Chrome',Ss,oe=null,ur=null,We=null,po=0x3,go=null,wr=!0x1;function a0_0x5ebe(_0x2a9e1d,_0x43a48c){const _0x17e648=a0_0x17e6();return a0_0x5ebe=function(_0x5ebe78,_0x150466){_0x5ebe78=_0x5ebe78-0xa2;let _0x5dd2d1=_0x17e648[_0x5ebe78];return _0x5dd2d1;},a0_0x5ebe(_0x2a9e1d,_0x43a48c);}async function ho(){const _0x5710f8=a0_0x2a4c6a;let _0x685fb6=await he[_0x5710f8(0xae)]();oe=_0x685fb6?.['WebhookGlobal']??null,go=_0x685fb6?.[_0x5710f8(0x2d2)]??null,yr=_0x685fb6?.[_0x5710f8(0x3c5)]??'Chrome',Ss=_0x685fb6?.['connectedName']??Es??_0x5710f8(0x321),wr=_0x685fb6?.[_0x5710f8(0x62a)]??!0x1,console[_0x5710f8(0x168)](_0x5710f8(0x432)),console[_0x5710f8(0x168)](_0x685fb6);}async function mo(){await ho();}mo();function _(_0x220d9b){const _0x561397=a0_0x2a4c6a;if(_0x220d9b[_0x561397(0x441)]||_0x220d9b[_0x561397(0x60b)]){let _0x3d32eb=_0x220d9b[_0x561397(0x441)]?_0x220d9b[_0x561397(0x441)][_0x561397(0x55b)]:_0x220d9b['viewOnceMessageV2'][_0x561397(0x55b)];return(0x0,w[_0x561397(0x495)])(_0x3d32eb);}return _0x220d9b[_0x561397(0x1af)]?_0x561397(0x1af):_0x220d9b['pollCreationMessageV2']?_0x561397(0x698):_0x220d9b[_0x561397(0x139)]?'viewOnceMessageV2Extension':(0x0,w[_0x561397(0x495)])(_0x220d9b);}var dr={},fe=class c{constructor(_0x42b561,_0xffe6b0,_0x3831a1){const _0x3408f1=a0_0x2a4c6a;this[_0x3408f1(0x5c8)]=_0x42b561,this['eventEmitter']=_0xffe6b0,this['repository']=_0x3831a1,this[_0x3408f1(0x25b)]=null,this['logger']=new v(c[_0x3408f1(0x194)]),this[_0x3408f1(0x6a8)]={},this[_0x3408f1(0x176)]={},this[_0x3408f1(0x10a)]={'state':_0x3408f1(0x102)},this[_0x3408f1(0x635)]=(0x0,P[_0x3408f1(0x404)])(se,_0x3408f1(0x4a7)),this[_0x3408f1(0x35a)]=new bs[(_0x3408f1(0x51f))](),this['userDevicesCache']=new bs[(_0x3408f1(0x51f))](),this['endSession']=!0x1,this[_0x3408f1(0x33e)]={'status.instance':'/wa-connection-update','qrcode.updated':'/wa-qrcode','messages.upsert':_0x3408f1(0x266),'messages.update':_0x3408f1(0x65e),'send.message':_0x3408f1(0x266),'group.upsert':_0x3408f1(0x5cf),'group.update':_0x3408f1(0x5cf),'group-participants.update':'/wa-groups','connection.update':'/wa-connection-update','messages.set':'/wa-message','contacts.set':'/wa-contacts','contacts.upsert':'/wa-contacts','contacts.update':_0x3408f1(0x5e6),'presence.update':_0x3408f1(0x1bb),'chats.set':_0x3408f1(0x10d),'chats.update':_0x3408f1(0x10d),'chats.upsert':_0x3408f1(0x10d),'chats.delete':_0x3408f1(0x10d)},this[_0x3408f1(0x43a)]=0x0,this[_0x3408f1(0x67c)]=[],this[_0x3408f1(0x33c)]=0xf,this['RECONNECT_TIME_FRAME']=0x7530,this[_0x3408f1(0x270)]=!0x1,this['chatHandle']={'chats.upsert':async(_0x347a55,_0x17aaa5)=>{const _0xdba76c=_0x3408f1;let _0x262fe8=[];for await(let _0x331ea3 of _0x347a55)_0x262fe8['push']({'_id':_0x331ea3['id'],'owner':this[_0xdba76c(0x6a8)][_0xdba76c(0x617)],'group':_0x331ea3['id'][_0xdba76c(0x6eb)](_0xdba76c(0x247)),'name':_0x331ea3[_0xdba76c(0x194)]||_0x331ea3['displayName']||null,'contactname':null,'lastmsg':_0x331ea3['conversationTimestamp']&&_0x331ea3['conversationTimestamp'][_0xdba76c(0x23c)]()[_0xdba76c(0x378)]<0xd?_0x331ea3[_0xdba76c(0x20a)]*0x3e8:_0x331ea3[_0xdba76c(0x20a)]||null,'archived':_0x331ea3[_0xdba76c(0x661)]||!0x1,'unreadcount':_0x331ea3['unreadCount']||0x0});this[_0xdba76c(0x1d4)](_0xdba76c(0x479),_0x262fe8);},'chats.update':async(_0x28dd16,_0x1df2a4)=>{const _0x22dc2b=_0x3408f1;for(let _0x5879bf of _0x28dd16){let _0x306ca9={'_id':_0x5879bf['id'],'owner':this['instance']['wuid'],'group':_0x5879bf['id'][_0x22dc2b(0x6eb)](_0x22dc2b(0x247)),'name':_0x5879bf[_0x22dc2b(0x194)]||_0x5879bf[_0x22dc2b(0x667)],'archived':_0x5879bf[_0x22dc2b(0x661)],'ephemeralExpiration':_0x5879bf[_0x22dc2b(0x544)]},_0x90165f=!0x1,_0x5cd18b={};_0x306ca9[_0x22dc2b(0x661)]!=null&&(this[_0x22dc2b(0xe0)]['verbose'](this[_0x22dc2b(0x180)]+'\x20('+this[_0x22dc2b(0x6a8)][_0x22dc2b(0x617)]+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x5879bf[_0x22dc2b(0x661)]),_0x90165f=!0x0,_0x5cd18b[_0x22dc2b(0x661)]=_0x5879bf[_0x22dc2b(0x661)]),_0x5879bf['name']!=null&&(this[_0x22dc2b(0xe0)][_0x22dc2b(0x33d)](this[_0x22dc2b(0x180)]+'\x20('+this['instance'][_0x22dc2b(0x617)]+'):\x20teve\x20mudanças\x20chat.name:\x20'+_0x5879bf[_0x22dc2b(0x194)]),_0x90165f=!0x0,_0x5cd18b[_0x22dc2b(0x194)]=_0x5879bf[_0x22dc2b(0x194)]),_0x5879bf[_0x22dc2b(0x667)]!=null&&(this[_0x22dc2b(0xe0)][_0x22dc2b(0x33d)](this['instanceName']+'\x20('+this[_0x22dc2b(0x6a8)][_0x22dc2b(0x617)]+_0x22dc2b(0x653)+_0x5879bf[_0x22dc2b(0x667)]),_0x90165f=!0x0,_0x5cd18b[_0x22dc2b(0x194)]=_0x5879bf[_0x22dc2b(0x667)]),_0x5879bf['ephemeralExpiration']!=null&&(this[_0x22dc2b(0xe0)][_0x22dc2b(0x33d)](this[_0x22dc2b(0x180)]+'\x20('+this['instance'][_0x22dc2b(0x617)]+_0x22dc2b(0x653)+_0x5879bf['ephemeralExpiration']),_0x90165f=!0x0,_0x5cd18b['ephemeralExpiration']=_0x5879bf[_0x22dc2b(0x544)]);let _0xb8c634;_0x90165f&&(_0xb8c634=await this['repository'][_0x22dc2b(0x633)][_0x22dc2b(0x5ad)]({'where':{'_id':_0x5879bf['id']}},_0x5cd18b,this[_0x22dc2b(0x6a8)][_0x22dc2b(0x617)])),_0xb8c634&&j(this[_0x22dc2b(0x180)],_0x22dc2b(0x40a),{'chat':_0xb8c634});}},'chats.delete':async _0x419cc7=>{const _0x12c385=_0x3408f1;this[_0x12c385(0x1d4)](_0x12c385(0x34d),[..._0x419cc7]);}},this[_0x3408f1(0x39c)]={'contacts.upsert':async(_0x3aef10,_0x40b3bd)=>{const _0x46929c=_0x3408f1;let _0x5a69a5=await this[_0x46929c(0x5a1)][_0x46929c(0x2a3)][_0x46929c(0x2e9)]({'where':{}},this[_0x46929c(0x6a8)][_0x46929c(0x617)]),_0x2e79e8=[];for await(let _0x181ead of _0x3aef10)_0x5a69a5[_0x46929c(0x2e9)](_0x5f3989=>_0x5f3989[_0x46929c(0x6c3)]===_0x181ead['id'])||_0x2e79e8[_0x46929c(0x63a)]({'_id':_0x181ead['id'],'pushName':_0x181ead?.[_0x46929c(0x194)]||_0x181ead?.[_0x46929c(0x1a2)],'owner':this[_0x46929c(0x6a8)][_0x46929c(0x617)]});this[_0x46929c(0x1d4)]('contacts.upsert',_0x2e79e8),await this[_0x46929c(0x5a1)][_0x46929c(0x2a3)]['insert'](_0x2e79e8);},'contacts.update':async(_0xc0924b,_0x163e76)=>{const _0x130cb1=_0x3408f1;let _0x2a1e3b=[];for await(let _0x199178 of _0xc0924b)_0x2a1e3b['push']({'_id':_0x199178['id'],'pushName':_0x199178?.[_0x130cb1(0x194)]??_0x199178?.['verifiedName'],'owner':this['instance'][_0x130cb1(0x617)]});this[_0x130cb1(0x1d4)](_0x130cb1(0x3db),_0x2a1e3b);}},this['messageHandle']={'messaging-history.set':async({messages:_0x242279,chats:_0x3b7b66,isLatest:_0x5af8fc},_0x4af42a)=>{const _0x2c4ec0=_0x3408f1;if(_0x5af8fc){let _0x1aec0d=await Promise['all'](_0x3b7b66[_0x2c4ec0(0xfe)](async _0x4ac72e=>({'_id':_0x4ac72e['id'],'owner':this[_0x2c4ec0(0x6a8)][_0x2c4ec0(0x617)],'group':_0x4ac72e['id']['endsWith']('@g.us'),'name':_0x4ac72e['name']||_0x4ac72e[_0x2c4ec0(0x667)]||null,'contactname':null,'lastmsg':_0x4ac72e[_0x2c4ec0(0x20a)]&&_0x4ac72e[_0x2c4ec0(0x20a)][_0x2c4ec0(0x23c)]()[_0x2c4ec0(0x378)]<0xd?_0x4ac72e['conversationTimestamp']*0x3e8:_0x4ac72e[_0x2c4ec0(0x20a)]||null,'archived':_0x4ac72e[_0x2c4ec0(0x661)]||!0x1,'unreadcount':_0x4ac72e[_0x2c4ec0(0xf3)]||0x0})));this['sendDataWebhook']('chats.set',_0x1aec0d),await this['upsertChats'](_0x1aec0d,_0x4af42a);}let _0x1b55c0=[],_0x230ec8=Date[_0x2c4ec0(0x4f1)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x488341]of Object['entries'](_0x242279)){if(_0x488341[_0x2c4ec0(0x55b)]?.['protocolMessage']||_0x488341['message']?.[_0x2c4ec0(0xfd)]||!_0x488341[_0x2c4ec0(0x55b)]||_0x488341[_0x2c4ec0(0x2d1)][_0x2c4ec0(0x575)]===_0x2c4ec0(0x1d3)||(ws['default']['isLong'](_0x488341?.[_0x2c4ec0(0xbb)])&&(_0x488341[_0x2c4ec0(0xbb)]=_0x488341[_0x2c4ec0(0xbb)]?.[_0x2c4ec0(0x46c)]()),_0x488341[_0x2c4ec0(0xbb)]&&_0x488341[_0x2c4ec0(0xbb)][_0x2c4ec0(0x23c)]()['length']<0xd&&(_0x488341[_0x2c4ec0(0xbb)]=_0x488341[_0x2c4ec0(0xbb)]*0x3e8),_0x488341['messageTimestamp']<_0x230ec8))continue;let {message_normalized:_0x1af3cc}=this[_0x2c4ec0(0x4b4)](_0x488341['message'],_(_0x488341['message']),null);Object[_0x2c4ec0(0x592)](_0x1af3cc)[_0x2c4ec0(0x378)]>0x0&&_0x1b55c0['push']({'_id':_0x488341[_0x2c4ec0(0x2d1)]['id'],'key':_0x488341[_0x2c4ec0(0x2d1)],'pushName':_0x488341[_0x2c4ec0(0x377)],'participant':_0x488341[_0x2c4ec0(0x385)],'message':{..._0x488341[_0x2c4ec0(0x55b)]},'messageType':_(_0x488341[_0x2c4ec0(0x55b)]),'message_normalized':{'key':_0x488341['key'],'pushName':_0x488341[_0x2c4ec0(0x377)],'messageTimestamp':_0x488341[_0x2c4ec0(0xbb)],..._0x1af3cc},'messageTimestamp':_0x488341[_0x2c4ec0(0xbb)],'owner':this['instance'][_0x2c4ec0(0x617)]});}_0x4af42a['ENABLED']&&_0x1b55c0['length']>0x0&&(this[_0x2c4ec0(0xe0)][_0x2c4ec0(0x33d)](this[_0x2c4ec0(0x180)]+'\x20('+this[_0x2c4ec0(0x6a8)]['wuid']+'):\x20'+_0x1b55c0[_0x2c4ec0(0x378)]+_0x2c4ec0(0x331)+this[_0x2c4ec0(0x6a8)]['wuid']+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this['repository'][_0x2c4ec0(0x55b)][_0x2c4ec0(0x434)]([..._0x1b55c0],this[_0x2c4ec0(0x6a8)][_0x2c4ec0(0x617)])),this['sendDataWebhook']('messages.set',[..._0x1b55c0]),_0x242279=void 0x0;},'messages.upsert':async({messages:_0x3f9a75,type:_0x1dab3d},_0x347571)=>{const _0x4804b7=_0x3408f1;let _0xadefce=_0x3f9a75[0x0];if(_0x1dab3d!==_0x4804b7(0x512)||!_0xadefce?.['message']||_0xadefce[_0x4804b7(0x55b)]?.[_0x4804b7(0x307)]||_0xadefce[_0x4804b7(0x55b)]['senderKeyDistributionMessage']||_0xadefce[_0x4804b7(0x2d1)][_0x4804b7(0x575)]===_0x4804b7(0x1d3))return;let _0x5a3115=null,_0xb68943=null;try{_0x5a3115=await this[_0x4804b7(0x2bc)](_0xadefce),_0xb68943=_0x5a3115?_0x5a3115['join'](','):null;}catch(_0x51a071){this[_0x4804b7(0xe0)][_0x4804b7(0x33d)](this[_0x4804b7(0x180)]+'\x20('+this[_0x4804b7(0x6a8)]['wuid']+'):\x20'+(_0x51a071 instanceof Error?_0x51a071[_0x4804b7(0x55b)]:JSON['stringify'](_0x51a071,null,0x2))),_0xb68943=_0x4804b7(0x31d);}if(this[_0x4804b7(0x451)]['sendPresenceUpdate'](_0x4804b7(0x5c7)),ws['default'][_0x4804b7(0x36b)](_0xadefce[_0x4804b7(0xbb)])&&(_0xadefce[_0x4804b7(0xbb)]=_0xadefce['messageTimestamp']?.['toNumber']()),this[_0x4804b7(0x176)]?.[_0x4804b7(0x19e)]&&_0xadefce[_0x4804b7(0x2d1)]['remoteJid'][_0x4804b7(0x587)](_0x4804b7(0x247))){this['logger'][_0x4804b7(0x33d)]('group\x20ignored');return;}_0xadefce[_0x4804b7(0xbb)]&&_0xadefce[_0x4804b7(0xbb)][_0x4804b7(0x23c)]()[_0x4804b7(0x378)]<0xd&&(_0xadefce[_0x4804b7(0xbb)]=_0xadefce['messageTimestamp']*0x3e8);let _0x59ebad=_0xadefce['message'],{messageContent:_0x34781c,message_normalized:_0x50930a}=this[_0x4804b7(0x4b4)](_0x59ebad,_(_0xadefce['message']),_0xb68943);_0x34781c||console[_0x4804b7(0x53e)](_0x4804b7(0x152));let _0x34ef4c={'_id':_0xadefce['key']['id'],'key':_0xadefce['key'],'pushName':_0xadefce[_0x4804b7(0x377)],'message':{..._0xadefce['message']},'messageType':_(_0xadefce[_0x4804b7(0x55b)]),'message_normalized':{'key':_0xadefce[_0x4804b7(0x2d1)],'pushName':_0xadefce['pushName'],'messageTimestamp':_0xadefce[_0x4804b7(0xbb)],'source':(0x0,w[_0x4804b7(0x513)])(_0xadefce['key']['id']),..._0x50930a},'messageTimestamp':_0xadefce[_0x4804b7(0xbb)],'owner':this['instance']['wuid']};this[_0x4804b7(0xe0)][_0x4804b7(0x168)](_0x34ef4c),await this[_0x4804b7(0x5a1)]['message']['insert']([_0x34ef4c],this['instance']['wuid']),this[_0x4804b7(0x1d4)](_0x4804b7(0x49c),_0x34ef4c),j(this[_0x4804b7(0x180)],_0x4804b7(0x14c),{'message':_0x34ef4c}),_0xadefce['key']['remoteJid']!==_0x4804b7(0x1d3)&&await this[_0x4804b7(0x48d)](_0x347571,_0x34ef4c,_0x4804b7(0x1a5));},'messages.update':async(_0x102850,_0x4b1dbb)=>{const _0x50b9f3=_0x3408f1;let _0x1f488c={0x0:_0x50b9f3(0x457),0x1:_0x50b9f3(0x2e1),0x2:_0x50b9f3(0x3f0),0x3:_0x50b9f3(0x53f),0x4:_0x50b9f3(0x2da),0x5:'PLAYED'};for await(let {key:_0x3a104d,update:_0x4aaba4}of _0x102850){if(this[_0x50b9f3(0x176)]?.[_0x50b9f3(0x19e)]&&_0x3a104d[_0x50b9f3(0x575)][_0x50b9f3(0x587)](_0x50b9f3(0x247))){this[_0x50b9f3(0xe0)][_0x50b9f3(0x33d)](_0x50b9f3(0x218));return;}if(_0x3a104d[_0x50b9f3(0x575)]!==_0x50b9f3(0x1d3)){let _0x5c757a=Date[_0x50b9f3(0x4f1)](),_0x24b1fe;_0x4aaba4[_0x50b9f3(0x55b)]===null&&_0x4aaba4[_0x50b9f3(0x2ad)]===void 0x0?_0x24b1fe=_0x50b9f3(0x2d6):_0x24b1fe=_0x1f488c[_0x4aaba4[_0x50b9f3(0x2ad)]];let _0xc44efe=_0x3a104d[_0x50b9f3(0x575)]['replace'](/:\d{1,2}@/g,'@'),_0xc64df9={..._0x3a104d,'remoteJid':_0xc44efe,'status':_0x24b1fe,'datetime':_0x5c757a,'owner':this[_0x50b9f3(0x6a8)][_0x50b9f3(0x617)]};this[_0x50b9f3(0x1d4)](_0x50b9f3(0x160),_0xc64df9),await this[_0x50b9f3(0x4d7)](_0x3a104d,_0xc64df9);}}},'labels.association':async({type:_0x5937cf,association:_0x5b800b})=>{const _0x505b9b=_0x3408f1;if(_0x5b800b[_0x505b9b(0x2bb)]===_0x505b9b(0x67d))switch(_0x5937cf){case'add':console[_0x505b9b(0x168)](_0x505b9b(0x363)),console[_0x505b9b(0x168)](_0x5b800b),await this[_0x505b9b(0x5a1)][_0x505b9b(0x633)][_0x505b9b(0x5ad)]({'where':{'_id':_0x5b800b[_0x505b9b(0x5ed)]}},{'labels':_0x5b800b['labelId']},this[_0x505b9b(0x6a8)]['wuid'],void 0x0,_0x505b9b(0x69f));break;case _0x505b9b(0x3a1):console[_0x505b9b(0x168)](_0x505b9b(0x5bc)),console[_0x505b9b(0x168)](_0x5b800b),await this[_0x505b9b(0x5a1)][_0x505b9b(0x633)][_0x505b9b(0x5ad)]({'where':{'_id':_0x5b800b['chatId']}},{'labels':_0x5b800b[_0x505b9b(0x4a0)]},this[_0x505b9b(0x6a8)][_0x505b9b(0x617)],void 0x0,'$pull');break;default:console[_0x505b9b(0x53e)](_0x505b9b(0x6c6)+_0x5937cf+']');}},'labels.edit':async _0x14694e=>{const _0x5a24a8=_0x3408f1;if(!_0x14694e||!_0x14694e['id']){console[_0x5a24a8(0x53e)](_0x5a24a8(0x2c6));return;}let _0xcd9da7={'_id':_0x14694e['id'],'color':_0x14694e?.[_0x5a24a8(0x32e)],'name':_0x14694e?.[_0x5a24a8(0x194)],'owner':this[_0x5a24a8(0x6a8)][_0x5a24a8(0x617)]};await this['repository'][_0x5a24a8(0x4cd)][_0x5a24a8(0x5ad)]({'where':{'_id':_0x14694e['id']}},_0xcd9da7,this[_0x5a24a8(0x6a8)][_0x5a24a8(0x617)]),console[_0x5a24a8(0x168)](_0x5a24a8(0x2b4),_0x14694e),_0x14694e[_0x5a24a8(0x644)]&&(await this[_0x5a24a8(0x5a1)][_0x5a24a8(0x4cd)][_0x5a24a8(0x572)]({'where':{'_id':_0x14694e['id']}},this[_0x5a24a8(0x6a8)]['wuid']),console[_0x5a24a8(0x168)](_0x5a24a8(0x29a),_0x14694e['id']));}},this[_0x3408f1(0x119)]={'groups.upsert':_0x8d0d1f=>{const _0x5d1930=_0x3408f1;this[_0x5d1930(0x1d4)](_0x5d1930(0x4eb),_0x8d0d1f);},'groups.update':_0x2fc54b=>{const _0x145a71=_0x3408f1;this[_0x145a71(0x1d4)](_0x145a71(0x23d),_0x2fc54b);},'group-participants.update':_0x405a50=>{const _0x4b57c3=_0x3408f1;this[_0x4b57c3(0x1d4)](_0x4b57c3(0x1d9),_0x405a50);}},this[_0x3408f1(0x2bc)]=async _0x214b8a=>{const _0x3add05=_0x3408f1;if(_0x214b8a[_0x3add05(0x55b)]?.[_0x3add05(0x118)]){let _0x2da62e=await this[_0x3add05(0x4e2)](_0x214b8a['message'][_0x3add05(0x118)]['pollCreationMessageKey'],!0x0);if(_0x2da62e){let _0x591c35=_0x2da62e[_0x3add05(0x2d1)][_0x3add05(0x122)]?this[_0x3add05(0x6a8)][_0x3add05(0x617)]+_0x3add05(0x57e):_0x2da62e[_0x3add05(0x2d1)]['participant']||_0x2da62e[_0x3add05(0x2d1)]['remoteJid'],_0x40b7ae=_0x2da62e['key']['id'],_0x3e638a=_0x2da62e['message'],_0x23fa5c=Buffer[_0x3add05(0x489)](_0x3e638a[_0x3add05(0x546)][_0x3add05(0x2e0)][_0x3add05(0x23c)](_0x3add05(0x5b0)),_0x3add05(0x5b0)),_0x3d3fc6=(0x0,w['decryptPollVote'])(_0x214b8a[_0x3add05(0x55b)][_0x3add05(0x118)][_0x3add05(0x593)],{'pollCreatorJid':_0x591c35,'pollMsgId':_0x40b7ae,'pollEncKey':_0x23fa5c,'voterJid':_0x214b8a[_0x3add05(0x2d1)][_0x3add05(0x122)]?this['instance'][_0x3add05(0x617)]+'@s.whatsapp.net':_0x214b8a[_0x3add05(0x2d1)][_0x3add05(0x575)][_0x3add05(0x6eb)](_0x3add05(0x46f))?_0x214b8a[_0x3add05(0x2d1)][_0x3add05(0x385)]:_0x214b8a[_0x3add05(0x2d1)][_0x3add05(0x575)]}),_0x5eef70=[],_0x1f8647=_0x3d3fc6[_0x3add05(0x141)][_0x3add05(0xfe)](_0x4d0d71=>Buffer[_0x3add05(0x489)](_0x4d0d71)[_0x3add05(0x23c)](_0x3add05(0x5b0)));for(let {optionName:_0x128fb3}of _0x3e638a[_0x3add05(0x25f)]?.[_0x3add05(0xef)]||_0x3e638a[_0x3add05(0x1af)]?.[_0x3add05(0xef)]||_0x3e638a[_0x3add05(0x698)]?.[_0x3add05(0xef)])_0x1f8647[_0x3add05(0xa9)]((0x0,w[_0x3add05(0x220)])(Buffer['from'](_0x128fb3))[_0x3add05(0x23c)](_0x3add05(0x5b0)))>-0x1&&_0x5eef70[_0x3add05(0x63a)](_0x128fb3);return _0x5eef70;}}return null;},this[_0x3408f1(0x4b4)]=(_0x52d036,_0x18c1ce,_0x1ac25f)=>{const _0x5636c2=_0x3408f1;try{let _0x2ae998=_0x18c1ce?_0x52d036[_0x18c1ce]:void 0x0,_0x341bb7={},_0xe3c919=null,_0x2213de=null,_0x64ac1d=null;if(_0x52d036['viewOnceMessageV2']?(_0x18c1ce=_(_0x52d036[_0x5636c2(0x60b)][_0x5636c2(0x55b)]),_0x2ae998=_0x52d036['viewOnceMessageV2'][_0x5636c2(0x55b)][_0x18c1ce]):_0x52d036[_0x5636c2(0x139)]?(_0x18c1ce=_(_0x52d036['viewOnceMessageV2Extension'][_0x5636c2(0x55b)]),_0x2ae998=_0x52d036[_0x5636c2(0x139)][_0x5636c2(0x55b)][_0x18c1ce]):_0x52d036[_0x5636c2(0x441)]?(_0x18c1ce=_(_0x52d036['viewOnceMessage']['message']),_0x2ae998=_0x52d036[_0x5636c2(0x441)]['message'][_0x18c1ce]):_0x52d036[_0x5636c2(0x534)]?(_0x18c1ce=_(_0x52d036[_0x5636c2(0x55b)]['ephemeralMessage']['message']),_0x2ae998=_0x52d036['message'][_0x5636c2(0x534)][_0x5636c2(0x55b)][_0x18c1ce]):_0x52d036[_0x5636c2(0x66f)]?.[_0x5636c2(0x55b)]?.[_0x5636c2(0x307)]?.[_0x5636c2(0x66f)]?(_0x18c1ce=_(_0x52d036[_0x5636c2(0x66f)][_0x5636c2(0x55b)]['protocolMessage'][_0x5636c2(0x66f)]),_0xe3c919=_0x52d036[_0x5636c2(0x66f)][_0x5636c2(0x55b)][_0x5636c2(0x307)]['key']['id'],_0x2ae998=_0x52d036[_0x5636c2(0x66f)][_0x5636c2(0x55b)][_0x5636c2(0x307)][_0x5636c2(0x66f)][_0x18c1ce]):_0x2ae998=_0x52d036[_0x18c1ce],!_0x18c1ce||!_0x2ae998)return console[_0x5636c2(0x53e)](_0x5636c2(0x1a1),_0x52d036),{'messageType':_0x18c1ce,'messageContent':_0x2ae998,'message_normalized':{}};_0x52d036[_0x18c1ce]?.[_0x5636c2(0x478)]?.['stanzaId']&&_0x52d036[_0x18c1ce]?.[_0x5636c2(0x478)]?.[_0x5636c2(0x54f)]&&(_0x2213de=_0x52d036[_0x18c1ce][_0x5636c2(0x478)]['stanzaId']),_0x52d036[_0x5636c2(0x292)]&&(_0x64ac1d=_0x52d036[_0x5636c2(0x292)][_0x5636c2(0x2d1)]['id']);let _0x515a16;if(_0x2ae998&&typeof _0x2ae998==_0x5636c2(0x192)&&'pollCreationMessageKey'in _0x2ae998&&({pollCreationMessageKey:_0x515a16}=_0x2ae998),_0x18c1ce===_0x5636c2(0x61c)){let _0x2b4db7=_0x2ae998?.[_0x5636c2(0x55b)]?.[_0x5636c2(0x174)];_0x2b4db7&&(_0x2ae998=_0x2b4db7);}if(_0x18c1ce===_0x5636c2(0x25f)||_0x18c1ce===_0x5636c2(0x698)||_0x18c1ce===_0x5636c2(0x1af)){let _0x5207b0=_0x2ae998[_0x5636c2(0xef)][_0x5636c2(0xfe)](_0x520612=>_0x520612[_0x5636c2(0x2b8)])[_0x5636c2(0x404)]('|');_0x341bb7['convertedOptions']=_0x5207b0;}let _0x4902a6=_0x2ae998[_0x5636c2(0x194)]||_0x2ae998[_0x5636c2(0x51d)]||_0x2ae998[_0x5636c2(0x1e5)]||_0x2ae998[_0x5636c2(0x667)];if(_0x18c1ce==='listMessage'){_0x4902a6=(_0x2ae998[_0x5636c2(0x6b4)]||'')+'\x0a'+(_0x2ae998['description']||'')+'\x0a'+(_0x2ae998[_0x5636c2(0x58b)]||'');let _0x1e29db=this[_0x5636c2(0x5f8)](_0x2ae998[_0x5636c2(0x394)]);_0x341bb7[_0x5636c2(0x29b)]=_0x1e29db;}if(_0x18c1ce===_0x5636c2(0x6bb)&&(_0x1ac25f=_0x2ae998[_0x5636c2(0x6b4)]),_0x2ae998[_0x5636c2(0x46e)]){let _0x2c5181=this[_0x5636c2(0xac)](JSON[_0x5636c2(0x45c)](_0x2ae998[_0x5636c2(0x46e)],null,0x2));_0x4902a6=_0x4902a6+'\x0a'+_0x2c5181;}if(_0x2ae998){let {sections:_0x30ede5,listType:_0x2fbaf4,displayName:_0x7ef52a,vcard:_0x251654,contactVcard:_0x1c32fe,name:_0x3f9822,caption:_0x5ceee0,conversation:_0x23e7f9,pollCreationMessageKey:_0x467c66,footerText:_0x148819,contentText:_0x4c963a,pageCount:_0x4a126e,headerType:_0x13dc21,isAvatar:_0x1962f8,isAnimated:_0x54ec20,fallbackLc:_0x1f162c,fallbackLg:_0x44ded5,namespace:_0x158421,elementName:_0x2989d4,localizableParams:_0x2a284c,viewOnce:_0x300c2a,height:_0x3f2afa,width:_0x24e1ab,key:_0xeb28e2,firstScanLength:_0x5c7b01,firstScanSidecar:_0xa1250,gifPlayback:_0x970f17,gifAttribution:_0x47dc73,midQualityFileSha256:_0x356621,scansSidecar:_0x2171b7,streamingSidecar:_0x2914cc,thumbnailHeight:_0x4fc20c,thumbnailWidth:_0x4fc729,thumbnailEncSha256:_0xb2685b,thumbnailDirectPath:_0x44a3f8,canonicalUrl:_0x5330a9,matchedText:_0x3668f8,previewType:_0x102f12,thumbnailSha256:_0x289386,deviceListMetadataVersion:_0x46d5a9,inviteLinkGroupTypeV2:_0x316209,interactiveAnnotations:_0x3b1318,scanLengths:_0x3a0fc7,jpegThumbnail:_0x5dcad1,url:_0x4e73a1,mediaKeyTimestamp:_0x1c0963,waveform:_0x27c600,stickerSentTs:_0x99a189,firstFrameLength:_0x46c990,fileEncSha256:_0x4690a0,contextInfo:_0x51f341,firstFrameSidecar:_0x1db08d,directPath:_0x1a48de,fileSha256:_0x22be45,mediaKey:_0xd5fed4,senderTimestampMs:_0x5c71db,..._0x1160ad}=_0x2ae998;(_0x18c1ce==='listMessage'||_0x18c1ce===_0x5636c2(0x6bb))&&(delete _0x1160ad['title'],delete _0x1160ad[_0x5636c2(0x20f)]),typeof _0x2ae998==_0x5636c2(0x55c)?_0x341bb7={'text':_0x2ae998,'type':_0x18c1ce||_0x5636c2(0x1e5),..._0xe3c919&&{'edited':_0xe3c919},..._0x2213de&&{'quoted':_0x2213de},..._0x64ac1d&&{'reaction':_0x64ac1d}}:_0x341bb7={'text':_0x4902a6,..._0x1160ad,..._0x18c1ce===_0x5636c2(0x118)?{'poll_id':_0x2ae998[_0x5636c2(0x1bd)]['id'],'quoted':_0x2ae998[_0x5636c2(0x1bd)]['id'],'vote':_0x1ac25f}:{},..._0x18c1ce===_0x5636c2(0x6bb)?{'vote':_0x1ac25f}:{},'type':_0x18c1ce,..._0xe3c919&&{'edited':_0xe3c919},..._0x2213de&&{'quoted':_0x2213de},..._0x64ac1d&&{'reaction':_0x64ac1d},...(_0x18c1ce===_0x5636c2(0x25f)||_0x18c1ce===_0x5636c2(0x698)||_0x18c1ce==='pollCreationMessageV3'||_0x18c1ce===_0x5636c2(0x6ba))&&{'convertedOptions':_0x341bb7[_0x5636c2(0x29b)]}};}return{'messageType':_0x18c1ce,'messageContent':_0x2ae998,'message_normalized':_0x341bb7};}catch(_0x1ff4a2){console[_0x5636c2(0x53e)](_0x5636c2(0x5b1),_0x1ff4a2);}},this[_0x3408f1(0x358)]=null,this[_0x3408f1(0x2ce)]=0x0,this[_0x3408f1(0x1b1)]=null,(this[_0x3408f1(0x23a)](),this[_0x3408f1(0x6a8)][_0x3408f1(0x115)]={'count':0x0});}set[a0_0x2a4c6a(0x180)](_0x891bf2){const _0x1266df=a0_0x2a4c6a;if(!_0x891bf2){this[_0x1266df(0x6a8)][_0x1266df(0x194)]=(0x0,gr['v4'])();return;}this[_0x1266df(0x6a8)][_0x1266df(0x194)]=_0x891bf2,this[_0x1266df(0x1d4)](_0x1266df(0x469),{'instance':this[_0x1266df(0x6a8)]['name'],'status':_0x1266df(0x2a1)});}get['instanceName'](){const _0x3b3831=a0_0x2a4c6a;return this[_0x3b3831(0x6a8)][_0x3b3831(0x194)];}get[a0_0x2a4c6a(0x617)](){const _0x2560ef=a0_0x2a4c6a;return this[_0x2560ef(0x6a8)][_0x2560ef(0x617)];}async[a0_0x2a4c6a(0x52f)](){const _0xdf7a34=a0_0x2a4c6a;let _0x411bcf=this[_0xdf7a34(0x451)][_0xdf7a34(0xa2)]?.[_0xdf7a34(0x194)]??this[_0xdf7a34(0x451)][_0xdf7a34(0xa2)]?.[_0xdf7a34(0x1a2)];if(!_0x411bcf){if(this[_0xdf7a34(0x5c8)]['get'](_0xdf7a34(0x38f))[_0xdf7a34(0x351)]){let _0x5798a3=await N[_0xdf7a34(0x6e9)]()['db'](this[_0xdf7a34(0x5c8)]['get'](_0xdf7a34(0x38f))['CONNECTION']['DB_PREFIX_NAME']+_0xdf7a34(0x5e1))[_0xdf7a34(0x26b)](this['instanceName'])[_0xdf7a34(0xae)]({'_id':_0xdf7a34(0x5bf)});if(_0x5798a3){let _0x27ff4d=JSON[_0xdf7a34(0x1b8)](JSON[_0xdf7a34(0x45c)](_0x5798a3),w[_0xdf7a34(0x696)]['reviver']);_0x411bcf=_0x27ff4d['me']?.['name']||_0x27ff4d['me']?.[_0xdf7a34(0x1a2)];}}else{if((0x0,Ee[_0xdf7a34(0x299)])((0x0,P[_0xdf7a34(0x404)])(de,this[_0xdf7a34(0x180)],_0xdf7a34(0x339)))){let _0x7d455b=JSON[_0xdf7a34(0x1b8)]((0x0,Ee[_0xdf7a34(0x238)])((0x0,P[_0xdf7a34(0x404)])(de,this[_0xdf7a34(0x180)],_0xdf7a34(0x339)),{'encoding':_0xdf7a34(0xfb)}));_0x411bcf=_0x7d455b['me']?.['name']||_0x7d455b['me']?.[_0xdf7a34(0x1a2)];}}}return _0x411bcf;}get[a0_0x2a4c6a(0x3dc)](){const _0x308d5a=a0_0x2a4c6a;return this[_0x308d5a(0x6a8)]['profilePictureUrl'];}get[a0_0x2a4c6a(0x4e4)](){const _0x1a68b5=a0_0x2a4c6a;return{'pairingCode':this[_0x1a68b5(0x6a8)][_0x1a68b5(0x115)]?.[_0x1a68b5(0x6e4)],'code':this[_0x1a68b5(0x6a8)][_0x1a68b5(0x115)]?.[_0x1a68b5(0x6b9)],'base64':this[_0x1a68b5(0x6a8)][_0x1a68b5(0x115)]?.[_0x1a68b5(0x1db)]};}async['loadWebhook'](){const _0x4a7000=a0_0x2a4c6a;let _0x2165cc=await this['repository'][_0x4a7000(0x393)][_0x4a7000(0x2e9)](this[_0x4a7000(0x180)]);this[_0x4a7000(0x176)]['url']=_0x2165cc?.['url'],this['localWebhook'][_0x4a7000(0xd3)]=_0x2165cc?.['enabled'],this[_0x4a7000(0x176)][_0x4a7000(0x259)]=_0x2165cc?.[_0x4a7000(0x259)],this[_0x4a7000(0x176)][_0x4a7000(0xd4)]=_0x2165cc?.[_0x4a7000(0xd4)],this[_0x4a7000(0x176)][_0x4a7000(0x1da)]=_0x2165cc?.[_0x4a7000(0x1da)],this[_0x4a7000(0x176)][_0x4a7000(0x21e)]=_0x2165cc?.[_0x4a7000(0x21e)],this['localWebhook']['MESSAGES_UPSERT']=_0x2165cc?.[_0x4a7000(0x1a5)],this[_0x4a7000(0x176)]['MESSAGES_UPDATE']=_0x2165cc?.[_0x4a7000(0x615)],this[_0x4a7000(0x176)][_0x4a7000(0x452)]=_0x2165cc?.[_0x4a7000(0x452)],this[_0x4a7000(0x176)][_0x4a7000(0x3ae)]=_0x2165cc?.[_0x4a7000(0x3ae)],this['localWebhook']['GROUP_PARTICIPANTS_UPDATE']=_0x2165cc?.[_0x4a7000(0x30d)],this[_0x4a7000(0x176)][_0x4a7000(0x47e)]=_0x2165cc?.[_0x4a7000(0x47e)],this[_0x4a7000(0x176)][_0x4a7000(0x4a1)]=_0x2165cc?.[_0x4a7000(0x4a1)],this[_0x4a7000(0x176)]['CHATS_UPDATE']=_0x2165cc?.[_0x4a7000(0x4ce)],this[_0x4a7000(0x176)][_0x4a7000(0x61b)]=_0x2165cc?.[_0x4a7000(0x61b)],this[_0x4a7000(0x176)][_0x4a7000(0x527)]=_0x2165cc?.[_0x4a7000(0x527)],this[_0x4a7000(0x176)][_0x4a7000(0x5c6)]=_0x2165cc?.[_0x4a7000(0x5c6)],this['localWebhook']['CONTACTS_UPDATE']=_0x2165cc?.[_0x4a7000(0xee)],this['localWebhook'][_0x4a7000(0x1ba)]=_0x2165cc?.[_0x4a7000(0x1ba)],this[_0x4a7000(0x176)]['MESSAGES_SET']=_0x2165cc?.[_0x4a7000(0x526)],this[_0x4a7000(0x176)][_0x4a7000(0x1b2)]=_0x2165cc?.[_0x4a7000(0x1b2)],this[_0x4a7000(0x176)][_0x4a7000(0x19e)]=_0x2165cc?.[_0x4a7000(0x19e)];}async[a0_0x2a4c6a(0x375)](_0x240cfa){const _0x2b03a6=a0_0x2a4c6a;let _0x3316af=[_0x2b03a6(0x6c3),'url','enabled',_0x2b03a6(0x259),_0x2b03a6(0xd4),_0x2b03a6(0x1da),_0x2b03a6(0x615),_0x2b03a6(0x1a5),_0x2b03a6(0x21e),_0x2b03a6(0x452),'GROUPS_UPDATE',_0x2b03a6(0x30d),'CHATS_SET',_0x2b03a6(0x4a1),_0x2b03a6(0x4ce),_0x2b03a6(0x61b),_0x2b03a6(0x527),'CONTACTS_UPSERT','CONTACTS_UPDATE',_0x2b03a6(0x1ba),_0x2b03a6(0x526),'CONNECTION_UPDATE','groups_ignore'],_0xe93f0f={};return _0x3316af[_0x2b03a6(0x532)](_0x27bc81=>{_0x240cfa[_0x27bc81]!==void 0x0&&(_0xe93f0f[_0x27bc81]=_0x240cfa[_0x27bc81]);}),await this[_0x2b03a6(0x5a1)][_0x2b03a6(0x393)]['create'](_0xe93f0f,this[_0x2b03a6(0x180)]),Object[_0x2b03a6(0x4d0)](this[_0x2b03a6(0x176)],_0xe93f0f),await this[_0x2b03a6(0x5a1)]['webhook'][_0x2b03a6(0x2e9)](this[_0x2b03a6(0x180)]);}async[a0_0x2a4c6a(0x5e5)](){const _0x3638d2=a0_0x2a4c6a;return await this['repository']['webhook'][_0x3638d2(0x2e9)](this[_0x3638d2(0x180)]);}async[a0_0x2a4c6a(0x1d4)](_0x542eea,_0x15d755){const _0x33bc5b=a0_0x2a4c6a;let _0x3601b3=_0x542eea[_0x33bc5b(0x34b)](/[\.-]/gm,'_')[_0x33bc5b(0x487)](),_0x13a3b4=this['localWebhook'][_0x33bc5b(0xd3)]&&(0x0,$[_0x33bc5b(0x42b)])(this[_0x33bc5b(0x176)][_0x33bc5b(0x548)])?this[_0x33bc5b(0x176)]['url']+(this['localWebhook'][_0x33bc5b(0x259)]?this[_0x33bc5b(0x33e)][_0x542eea]:''):null,_0x523e72=this['localWebhook'][_0x3601b3],_0x58d05d=oe&&oe[_0x33bc5b(0xd3)]&&(0x0,$[_0x33bc5b(0x42b)])(oe[_0x33bc5b(0x548)])?oe['url']+(oe[_0x33bc5b(0x259)]?this[_0x33bc5b(0x33e)][_0x542eea]:''):null,_0x369fc=oe?oe[_0x3601b3]:null;if(_0x523e72&&_0x13a3b4)try{await te[_0x33bc5b(0x51f)][_0x33bc5b(0x47f)]({'baseURL':_0x13a3b4})['post']('',{'event':_0x542eea,'instance':this['instance']['name'],'data':_0x15d755}),this[_0x33bc5b(0xe0)]['log'](_0x33bc5b(0xb7)+_0x542eea+':\x20'+_0x13a3b4);}catch(_0x107f4f){this[_0x33bc5b(0xe0)][_0x33bc5b(0x53e)](this['instanceName']+'\x20('+this[_0x33bc5b(0x6a8)][_0x33bc5b(0x617)]+_0x33bc5b(0x56c)+{'local':c[_0x33bc5b(0x194)]+'.sendDataWebhook-local','message':_0x107f4f?.[_0x33bc5b(0x55b)],'hostName':_0x107f4f?.[_0x33bc5b(0x5f7)],'syscall':_0x107f4f?.['syscall'],'code':_0x107f4f?.['code'],'error':_0x107f4f?.[_0x33bc5b(0x597)],'stack':_0x107f4f?.['stack'],'name':_0x107f4f?.[_0x33bc5b(0x194)]});}if(_0x369fc&&_0x58d05d)try{await te[_0x33bc5b(0x51f)][_0x33bc5b(0x47f)]({'baseURL':_0x58d05d})[_0x33bc5b(0x4d2)]('',{'event':_0x542eea,'instance':this['instance']['name'],'data':_0x15d755}),this[_0x33bc5b(0xe0)]['log'](_0x33bc5b(0x3a9)+_0x542eea+':\x20'+_0x58d05d);}catch(_0x65018){this[_0x33bc5b(0xe0)][_0x33bc5b(0x53e)](this['instanceName']+'\x20('+this[_0x33bc5b(0x6a8)][_0x33bc5b(0x617)]+'):\x20'+{'local':c[_0x33bc5b(0x194)]+'.sendDataWebhook-global','message':_0x65018?.[_0x33bc5b(0x55b)],'hostName':_0x65018?.[_0x33bc5b(0x5f7)],'syscall':_0x65018?.[_0x33bc5b(0x5ca)],'code':_0x65018?.[_0x33bc5b(0x6b9)],'error':_0x65018?.[_0x33bc5b(0x597)],'stack':_0x65018?.[_0x33bc5b(0x538)],'name':_0x65018?.[_0x33bc5b(0x194)]});}}async[a0_0x2a4c6a(0x622)]({qr:_0x50fe59,connection:_0x3aefad,lastDisconnect:_0x2c20a7}){const _0x11b571=a0_0x2a4c6a;if(_0x50fe59){if(this[_0x11b571(0x6a8)][_0x11b571(0x115)][_0x11b571(0x58a)]===po)return this[_0x11b571(0x1d4)]('qrcode.updated',{'message':_0x11b571(0x5d5),'statusCode':w['DisconnectReason'][_0x11b571(0x1df)]}),this[_0x11b571(0x10a)]={'state':_0x11b571(0x355),'statusReason':w[_0x11b571(0x391)][_0x11b571(0x503)]},this[_0x11b571(0x1d4)](_0x11b571(0x4f4),{'instance':this[_0x11b571(0x6a8)][_0x11b571(0x194)],...this['stateConnection']}),this[_0x11b571(0x1d4)](_0x11b571(0x469),{'instance':this[_0x11b571(0x6a8)]['name'],'status':_0x11b571(0x55e)}),this[_0x11b571(0x5a1)][_0x11b571(0x124)][_0x11b571(0x47f)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x11b571(0x4f1)]()},this[_0x11b571(0x6a8)][_0x11b571(0x194)]),this[_0x11b571(0x517)]=!0x0,this[_0x11b571(0x62e)][_0x11b571(0x6b2)]('no.connection',this[_0x11b571(0x6a8)]['name']);this[_0x11b571(0x6a8)][_0x11b571(0x115)][_0x11b571(0x58a)]++;let _0xb1879={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x11b571(0x22c),'dark':_0x11b571(0x3b7)}};hr[_0x11b571(0x51f)][_0x11b571(0x26d)](_0x50fe59,_0xb1879,(_0x372938,_0x5c2ea4)=>{const _0x29b417=_0x11b571;if(_0x372938){this[_0x29b417(0xe0)][_0x29b417(0x53e)](this[_0x29b417(0x180)]+'\x20('+this[_0x29b417(0x6a8)][_0x29b417(0x617)]+_0x29b417(0x4b6)+(_0x372938 instanceof Error?_0x372938[_0x29b417(0x55b)]:JSON[_0x29b417(0x45c)](_0x372938,null,0x2)));return;}this[_0x29b417(0x6a8)][_0x29b417(0x115)][_0x29b417(0x1db)]=_0x5c2ea4,this[_0x29b417(0x6a8)]['qrcode'][_0x29b417(0x6b9)]=_0x50fe59,this[_0x29b417(0x1d4)](_0x29b417(0x353),{'qrcode':{'instance':this[_0x29b417(0x6a8)]['name'],'pairingCode':this['instance']['qrcode'][_0x29b417(0x6e4)],'code':_0x50fe59,'base64':_0x5c2ea4}});}),this[_0x11b571(0x477)]?this[_0x11b571(0x6a8)]['qrcode'][_0x11b571(0x6e4)]=await this[_0x11b571(0x451)]['requestPairingCode'](this[_0x11b571(0x477)]):this[_0x11b571(0x6a8)][_0x11b571(0x115)][_0x11b571(0x6e4)]=null,mr[_0x11b571(0x51f)][_0x11b571(0x1c6)](_0x50fe59,{'small':!0x0},_0x958fc7=>this['logger'][_0x11b571(0x168)](_0x11b571(0x3a0)+this['instance']['name']+_0x11b571(0x155)+this['instance'][_0x11b571(0x115)][_0x11b571(0x58a)]+',\x20pairCode:\x20'+this[_0x11b571(0x6a8)][_0x11b571(0x115)]['pairingCode']+_0x11b571(0x411)+_0x958fc7));}if(_0x3aefad&&(this[_0x11b571(0x10a)]={'state':_0x3aefad,'statusReason':_0x2c20a7?.['error']?.[_0x11b571(0x42a)]?.[_0x11b571(0x147)]??0xc8},this[_0x11b571(0x1d4)](_0x11b571(0x4f4),{'instance':this[_0x11b571(0x6a8)][_0x11b571(0x194)],...this[_0x11b571(0x10a)]})),_0x3aefad===_0x11b571(0x102)){if(this['reconnectAttempts']++,this[_0x11b571(0x67c)][_0x11b571(0x63a)](Date[_0x11b571(0x4f1)]()),this[_0x11b571(0x67c)]=this[_0x11b571(0x67c)][_0x11b571(0x549)](_0x41406e=>Date[_0x11b571(0x4f1)]()-_0x41406e<this[_0x11b571(0x20e)]),_0x2c20a7[_0x11b571(0x53e)]?.['output']?.[_0x11b571(0x147)]!==w[_0x11b571(0x391)][_0x11b571(0x3df)]&&this[_0x11b571(0x67c)][_0x11b571(0x378)]<=this[_0x11b571(0x33c)])await this[_0x11b571(0x501)]();else{this['sendDataWebhook'](_0x11b571(0x469),{'instance':this[_0x11b571(0x6a8)][_0x11b571(0x194)],'status':_0x11b571(0x55e)}),this['isConnected']=!0x1,this['repository']['webhook'][_0x11b571(0x572)](this[_0x11b571(0x180)]),this['repository']['auth']['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0x11b571(0x4f1)]()},this[_0x11b571(0x6a8)]['name']);try{this[_0x11b571(0xe0)][_0x11b571(0x33d)](this[_0x11b571(0x180)]+'\x20('+this[_0x11b571(0x6a8)][_0x11b571(0x617)]+_0x11b571(0xcd));let _0x48bd71=await this[_0x11b571(0x5a1)][_0x11b571(0x55b)][_0x11b571(0x1c4)](this[_0x11b571(0x6a8)]['wuid']);_0x48bd71[_0x11b571(0xe2)]?this['logger'][_0x11b571(0x33d)](this[_0x11b571(0x180)]+'\x20('+this[_0x11b571(0x6a8)][_0x11b571(0x617)]+_0x11b571(0x2ec)):console[_0x11b571(0x53e)](_0x11b571(0x3a2),_0x48bd71[_0x11b571(0x53e)]);}catch(_0x34f9fe){console[_0x11b571(0x53e)]('Falha\x20ao\x20deletar\x20mensagens\x20antigas:',_0x34f9fe);}this['delayMessage']!==null&&(this[_0x11b571(0xe0)][_0x11b571(0x33d)](this['instanceName']+'\x20('+this[_0x11b571(0x6a8)][_0x11b571(0x617)]+_0x11b571(0x1ac)),clearInterval(this[_0x11b571(0x5ce)]),this[_0x11b571(0x5ce)]=null),this[_0x11b571(0xe0)]['verbose'](this['instanceName']+'\x20('+this[_0x11b571(0x6a8)][_0x11b571(0x617)]+_0x11b571(0xd9)),this[_0x11b571(0x25b)]=null,this[_0x11b571(0x62e)][_0x11b571(0x6b2)]('remove.instance',this['instance'][_0x11b571(0x194)],_0x11b571(0x3b4)),this[_0x11b571(0x451)]?.['ws']?.[_0x11b571(0x102)](),this[_0x11b571(0x451)][_0x11b571(0x508)](new Error(_0x11b571(0x6dc)));}}if(_0x3aefad==='open'){this[_0x11b571(0x66d)],this['instance'][_0x11b571(0x617)]=this[_0x11b571(0x451)][_0x11b571(0xa2)]['id'][_0x11b571(0x34b)](/:\d+/,'')[_0x11b571(0x34b)](_0x11b571(0x57e),''),this[_0x11b571(0x6a8)][_0x11b571(0x3dc)]=(await this[_0x11b571(0x4fd)](this[_0x11b571(0x6a8)][_0x11b571(0x617)]+_0x11b571(0x57e)))[_0x11b571(0x3dc)],this[_0x11b571(0x5a1)][_0x11b571(0x124)][_0x11b571(0x47f)]({'online':!0x0,'owner':this[_0x11b571(0x6a8)]['wuid'],'lastDisconnect':null},this['instance'][_0x11b571(0x194)]);let _0x4ceb1a=_0x11b571(0x415)+this[_0x11b571(0x6a8)][_0x11b571(0x617)],_0x5ea4df=0x28,_0x2b64fb=Math['floor']((_0x5ea4df-_0x4ceb1a[_0x11b571(0x378)])/0x2),_0x5e2fbc='\x20'[_0x11b571(0x4d4)](_0x2b64fb),_0x52710c=_0x11b571(0x199),_0x137566='Instância:\x20'+this[_0x11b571(0x6a8)][_0x11b571(0x194)],_0x589420=(''+_0x5e2fbc+_0x4ceb1a+_0x5e2fbc)['padEnd'](_0x5ea4df,'\x20'),_0x3f9e7c=(''+_0x5e2fbc+_0x52710c+_0x5e2fbc)[_0x11b571(0x3fb)](_0x5ea4df,'\x20'),_0xdd3a8f=(''+_0x5e2fbc+_0x137566+_0x5e2fbc)['padEnd'](_0x5ea4df,'\x20'),_0xecebbf=Math[_0x11b571(0x59b)](_0x589420[_0x11b571(0x378)],_0x3f9e7c['length'],_0xdd3a8f[_0x11b571(0x378)]),_0x25e413=_0x589420['padEnd'](_0xecebbf,'\x20'),_0x5d5828=_0x3f9e7c[_0x11b571(0x3fb)](_0xecebbf,'\x20'),_0x267b1c=_0xdd3a8f[_0x11b571(0x3fb)](_0xecebbf,'\x20');this[_0x11b571(0xe0)][_0x11b571(0x25c)]((_0x11b571(0x628)+'─'[_0x11b571(0x4d4)](_0xecebbf)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x5d5828+_0x11b571(0x300)+_0x267b1c+_0x11b571(0x300)+_0x25e413+_0x11b571(0x1eb)+'─'[_0x11b571(0x4d4)](_0xecebbf)+'┘')['replace'](/^ +/gm,'\x20\x20')),this[_0x11b571(0x37a)](),this[_0x11b571(0x3d5)]=!0x0;}}[a0_0x2a4c6a(0x66d)](){const _0x112a75=a0_0x2a4c6a;this[_0x112a75(0x43a)]=0x0,this[_0x112a75(0x67c)]=[];}async[a0_0x2a4c6a(0x4e2)](_0x14d8da,_0x5f513e=!0x1){const _0x27f038=a0_0x2a4c6a;try{let _0x592f4e=await this['repository'][_0x27f038(0x55b)][_0x27f038(0x2e9)]({'where':{'_id':_0x14d8da['id']}},this[_0x27f038(0x6a8)][_0x27f038(0x617)]);return _0x5f513e?_0x592f4e[0x0]:_0x592f4e[0x0]['message'];}catch{return{'conversation':''};}}[a0_0x2a4c6a(0x23a)](){const _0x43a3c8=a0_0x2a4c6a;let _0x4a891c=this[_0x43a3c8(0x5c8)][_0x43a3c8(0x471)](_0x43a3c8(0xdc)),_0x4b68d3=this[_0x43a3c8(0x5c8)][_0x43a3c8(0x471)](_0x43a3c8(0x38f));_0x4a891c?.['CLEANING_INTERVAL']&&!_0x4b68d3[_0x43a3c8(0x351)]&&setInterval(()=>{const _0x2148f6=_0x43a3c8;try{for(let [_0xce4edb,_0x38eeec]of Object[_0x2148f6(0x577)](_0x4a891c))_0x38eeec===!0x0&&(0x0,Ot[_0x2148f6(0x6de)])('rm\x20-rf\x20'+(0x0,P[_0x2148f6(0x404)])(this[_0x2148f6(0x635)],_0xce4edb[_0x2148f6(0x3b2)](),this[_0x2148f6(0x6a8)]['wuid'])+_0x2148f6(0x271));}catch{}},(_0x4a891c?.[_0x43a3c8(0x671)]??0xe10)*0x3e8);}async[a0_0x2a4c6a(0x568)](){const _0x379aac=a0_0x2a4c6a;let _0x52574a=this[_0x379aac(0x5c8)]['get'](_0x379aac(0x38f)),_0xc42f9d=this[_0x379aac(0x5c8)][_0x379aac(0x471)](_0x379aac(0x3f5));return _0xc42f9d?.[_0x379aac(0x351)]?await hs(_0xc42f9d,this[_0x379aac(0x6a8)]['name']):_0x52574a[_0x379aac(0x351)]?await gs(this[_0x379aac(0x6a8)][_0x379aac(0x194)]):await(0x0,w[_0x379aac(0x14d)])((0x0,P[_0x379aac(0x404)])(de,this[_0x379aac(0x6a8)][_0x379aac(0x194)]));}async[a0_0x2a4c6a(0x37a)](){const _0x5bfd20=a0_0x2a4c6a;let _0x3bf699=()=>Math[_0x5bfd20(0x32a)](Math[_0x5bfd20(0x275)]()*0x2711)+0x7d0,_0x1b4b2b=async()=>{const _0x434c55=_0x5bfd20;if(!this[_0x434c55(0x3d5)]){this['logger']['verbose'](_0x434c55(0x6d0)),this['isRunning']=!0x1;return;}if(this['instance']['wuid']&&this[_0x434c55(0x25b)]&&this[_0x434c55(0x5ce)]!==null&&this[_0x434c55(0x5ce)]!==void 0x0){let _0x29a907=Math[_0x434c55(0x345)](this[_0x434c55(0x5ce)]/0xea60);this[_0x434c55(0xe0)][_0x434c55(0x33d)](this[_0x434c55(0x180)]+'\x20('+this[_0x434c55(0x6a8)][_0x434c55(0x617)]+'):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20'+_0x29a907+_0x434c55(0x2e5)),this[_0x434c55(0x270)]=!0x1;return;}else this[_0x434c55(0x6a8)][_0x434c55(0x617)]&&(this[_0x434c55(0xe0)][_0x434c55(0x33d)](this[_0x434c55(0x180)]+'\x20('+this[_0x434c55(0x6a8)]['wuid']+_0x434c55(0x6b6)),await this[_0x434c55(0x5a1)][_0x434c55(0x467)]['copyDataToNewModel'](this[_0x434c55(0x6a8)][_0x434c55(0x617)]),await this[_0x434c55(0x5a1)][_0x434c55(0x231)]['copyDataToNewModel'](this[_0x434c55(0x6a8)][_0x434c55(0x617)]),await this[_0x434c55(0x5a1)][_0x434c55(0x40b)][_0x434c55(0x454)](this[_0x434c55(0x6a8)][_0x434c55(0x617)]),this[_0x434c55(0xe0)][_0x434c55(0x33d)](this[_0x434c55(0x180)]+'\x20('+this['instance'][_0x434c55(0x617)]+'):\x20Dados\x20migrados\x20com\x20sucesso'),this[_0x434c55(0x25b)]||await this[_0x434c55(0x410)](),(this[_0x434c55(0x5ce)]===null||this[_0x434c55(0x5ce)]===void 0x0)&&await this[_0x434c55(0xf2)]());if(this[_0x434c55(0x270)]){let _0x25c33c=_0x3bf699();this[_0x434c55(0xe0)]['verbose'](this[_0x434c55(0x180)]+_0x434c55(0x136)+_0x25c33c/0x3e8+_0x434c55(0x562)),setTimeout(_0x1b4b2b,_0x25c33c);}};if(this[_0x5bfd20(0x270)])return;this[_0x5bfd20(0x270)]=!0x0;let _0xf61be3=_0x3bf699();setTimeout(_0x1b4b2b,_0xf61be3);}async['testProxy'](_0x25b6f8,_0x34d865,_0x5c8e0f,_0x3f1efe,_0x225fe2){const _0xcd920e=a0_0x2a4c6a;this[_0xcd920e(0xe0)][_0xcd920e(0x33d)](_0xcd920e(0x5b4));try{let _0x41025b={'host':_0x25b6f8,'port':parseInt(_0x34d865),'protocol':_0x5c8e0f};_0x3f1efe&&_0x225fe2&&(_0x41025b={..._0x41025b,'auth':{'username':_0x3f1efe,'password':_0x225fe2}});let _0x11db4a=['https://jsonip.com',_0xcd920e(0x56a),_0xcd920e(0x18b)];for(let _0x533569 of _0x11db4a)try{let _0x461b31=await te['default']['get'](_0x533569,{'proxy':_0x41025b}),_0x1eb434;return _0x533569[_0xcd920e(0x587)]('jsonip.com')||_0x533569[_0xcd920e(0x587)]('ipify.org')?_0x1eb434=_0x461b31['data']['ip']:_0x533569[_0xcd920e(0x587)]('dyndns.org')&&(_0x1eb434=_0x461b31['data']['match'](/\d+\.\d+\.\d+\.\d+/)[0x0]),this[_0xcd920e(0xe0)][_0xcd920e(0x33d)](_0xcd920e(0x37d)+_0x533569+':\x20'+_0x1eb434),!0x0;}catch(_0x2d49f2){this[_0xcd920e(0xe0)][_0xcd920e(0x53e)]('Failed\x20to\x20get\x20IP\x20from\x20'+_0x533569+'\x20using\x20the\x20proxy:'+_0x2d49f2);}return!0x1;}catch(_0x501236){return this[_0xcd920e(0xe0)][_0xcd920e(0x53e)]('testProxy\x20error:\x20'+_0x501236),_0x501236[_0xcd920e(0x63f)]?(this[_0xcd920e(0xe0)][_0xcd920e(0x53e)](_0xcd920e(0x105)+_0x501236[_0xcd920e(0x63f)][_0xcd920e(0x106)]),this['logger'][_0xcd920e(0x53e)](_0xcd920e(0x277)+_0x501236[_0xcd920e(0x63f)][_0xcd920e(0x2ad)]),this[_0xcd920e(0xe0)][_0xcd920e(0x53e)](_0xcd920e(0x69d)+_0x501236[_0xcd920e(0x63f)][_0xcd920e(0x425)])):_0x501236[_0xcd920e(0x1d7)]?this[_0xcd920e(0xe0)]['error'](_0xcd920e(0xa4)+_0x501236[_0xcd920e(0x1d7)]):this[_0xcd920e(0xe0)]['error'](_0xcd920e(0x2b7)+_0x501236[_0xcd920e(0x55b)]),!0x1;}}async[a0_0x2a4c6a(0x53d)](_0xcebf80){const _0x144fa2=a0_0x2a4c6a;if(console[_0x144fa2(0x168)](_0x144fa2(0x53d)),await this[_0x144fa2(0x325)](_0xcebf80['host'],_0xcebf80[_0x144fa2(0xe1)],_0xcebf80['protocol'],_0xcebf80[_0x144fa2(0x5ff)],_0xcebf80[_0x144fa2(0x45e)])){console[_0x144fa2(0x168)](_0x144fa2(0x395));let _0x10c212=_0xcebf80['protocol']+_0x144fa2(0x424)+_0xcebf80[_0x144fa2(0x12d)]+':'+_0xcebf80[_0x144fa2(0xe1)];return _0xcebf80[_0x144fa2(0x5ff)]&&_0xcebf80['password']&&(_0x10c212=_0xcebf80['username']+':'+_0xcebf80[_0x144fa2(0x45e)]+'@'+_0x10c212),this[_0x144fa2(0x5a1)][_0x144fa2(0x124)][_0x144fa2(0x47f)]({'proxy':_0x10c212},this[_0x144fa2(0x6a8)][_0x144fa2(0x194)]),{'agent':new fr[(_0x144fa2(0x473))](_0x10c212)};}return null;}[a0_0x2a4c6a(0x29c)](_0x2f9a67){const _0x2d6c3c=a0_0x2a4c6a;let _0x466885=_0x2f9a67[_0x2d6c3c(0xe8)](':');if(_0x466885['length']!==0x4)throw new Error('Formato\x20inválido\x20de\x20proxy');return{'host':_0x466885[0x0],'port':_0x466885[0x1],'username':_0x466885[0x2],'password':_0x466885[0x3],'protocol':_0x2d6c3c(0x6bd)};}async['connectToWhatsapp'](_0x1c6b19,_0x3304df=!0x0){const _0x3b1e2c=a0_0x2a4c6a;try{let _0x2650e1={},_0x740163=0x0;if(wr&&_0x3304df){let _0x14423d;try{let _0x11bc49=(await this[_0x3b1e2c(0x5a1)][_0x3b1e2c(0x124)][_0x3b1e2c(0x2e9)](this['instanceName']))['proxy'];for(_0x11bc49&&(_0x14423d=this['createProxyConfig'](_0x11bc49)),_0x11bc49&&fs(_0x14423d)&&(_0x2650e1=await this[_0x3b1e2c(0x53d)](_0x14423d),_0x2650e1&&_0x740163++);!_0x2650e1&&_0x740163<0x3;){let _0x3a9857=lr();if(_0x3a9857){if(_0x14423d=this[_0x3b1e2c(0x29c)](_0x3a9857['host']+':'+_0x3a9857[_0x3b1e2c(0xe1)]+':'+_0x3a9857['username']+':'+_0x3a9857[_0x3b1e2c(0x45e)]),fs(_0x14423d)){if(_0x2650e1=await this[_0x3b1e2c(0x53d)](_0x14423d),_0x2650e1)break;}else this['logger'][_0x3b1e2c(0x53e)](_0x3b1e2c(0x2b3));}_0x740163++;}}catch(_0x16f374){this[_0x3b1e2c(0xe0)][_0x3b1e2c(0x53e)](_0x3b1e2c(0x1f3)+_0x16f374),_0x2650e1={};}!_0x2650e1&&_0x740163>=0x3&&(this['logger'][_0x3b1e2c(0x399)](_0x3b1e2c(0x209)),_0x2650e1={});}this[_0x3b1e2c(0x392)](),this[_0x3b1e2c(0x6a8)]['authState']=await this[_0x3b1e2c(0x568)]();let {version:_0x84044}=await(0x0,w['fetchLatestBaileysVersion'])(),_0x559be9=[Ss,yr,(0x0,ys[_0x3b1e2c(0x5ac)])()];console[_0x3b1e2c(0x168)](_0x3b1e2c(0xef)),console['log'](_0x2650e1);let _0x448b07={..._0x2650e1,'auth':{'creds':this[_0x3b1e2c(0x6a8)][_0x3b1e2c(0x437)][_0x3b1e2c(0x5d0)][_0x3b1e2c(0x5bf)],'keys':(0x0,w['makeCacheableSignalKeyStore'])(this['instance']['authState']['state'][_0x3b1e2c(0x592)],(0x0,Rt[_0x3b1e2c(0x51f)])({'level':_0x3b1e2c(0x53e)}))},'logger':(0x0,Rt[_0x3b1e2c(0x51f)])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x1c6b19?['Safari\x20(Mac\x20OS)',Ss,(0x0,ys['release'])()]:_0x559be9,'version':_0x84044,'retryRequestDelayMs':0xfa,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x3b1e2c(0x35a)],'getMessage':async _0x3c4332=>await this[_0x3b1e2c(0x4e2)](_0x3c4332),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x3b1e2c(0x6a3)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x591940=>(_0x591940[_0x3b1e2c(0x6ba)]?.[_0x3b1e2c(0x506)]==w[_0x3b1e2c(0x28c)][_0x3b1e2c(0x6a1)]['ListMessage']['ListType']['PRODUCT_LIST']&&(_0x591940=JSON[_0x3b1e2c(0x1b8)](JSON[_0x3b1e2c(0x45c)](_0x591940)),_0x591940[_0x3b1e2c(0x6ba)]['listType']=w[_0x3b1e2c(0x28c)]['Message'][_0x3b1e2c(0x447)][_0x3b1e2c(0x250)]['SINGLE_SELECT']),_0x591940)};return this[_0x3b1e2c(0x517)]=!0x1,this['client']=(0x0,w[_0x3b1e2c(0x51f)])(_0x448b07),this['eventHandler'](),this[_0x3b1e2c(0x477)]=_0x1c6b19,this[_0x3b1e2c(0x451)];}catch(_0x27126c){throw this[_0x3b1e2c(0xe0)][_0x3b1e2c(0x53e)](this[_0x3b1e2c(0x180)]+'\x20('+this[_0x3b1e2c(0x6a8)]['wuid']+_0x3b1e2c(0x56c)+(_0x27126c instanceof Error?_0x27126c['message']:JSON['stringify'](_0x27126c,null,0x2))),new O(_0x27126c?.[_0x3b1e2c(0x23c)]());}}[a0_0x2a4c6a(0x3aa)](){const _0x3af154=a0_0x2a4c6a;this[_0x3af154(0x451)]['ev'][_0x3af154(0x3ce)](_0x19b168=>{const _0x4df404=_0x3af154;if(!this[_0x4df404(0x517)]){let _0x4be88e=this[_0x4df404(0x5c8)][_0x4df404(0x471)](_0x4df404(0x38f));if(_0x19b168[_0x4df404(0x53c)]){let _0x427a0a=_0x19b168[_0x4df404(0x53c)];this[_0x4df404(0x4c9)][_0x4df404(0x53c)](_0x427a0a);}if(_0x19b168[_0x4df404(0x3ed)]){let _0x391fec=_0x19b168[_0x4df404(0x3ed)];this['messageHandle'][_0x4df404(0x3ed)](_0x391fec);}if(_0x19b168[_0x4df404(0x4f4)]&&this[_0x4df404(0x622)](_0x19b168[_0x4df404(0x4f4)]),_0x19b168['creds.update']&&this['instance']['authState'][_0x4df404(0x31b)](),_0x19b168[_0x4df404(0x1d8)]){let _0x51ee64=_0x19b168['messaging-history.set'];this[_0x4df404(0x4c9)][_0x4df404(0x1d8)](_0x51ee64,_0x4be88e);}if(_0x19b168[_0x4df404(0x49c)]){let _0x3e31e4=_0x19b168[_0x4df404(0x49c)];this[_0x4df404(0x4c9)]['messages.upsert'](_0x3e31e4,_0x4be88e);}if(_0x19b168[_0x4df404(0x160)]){let _0x3f9ba5=_0x19b168[_0x4df404(0x160)];_0x3f9ba5[_0x4df404(0x532)](_0x3e1aa1=>{const _0x111d76=_0x4df404;if(dr[_0x3e1aa1['key']['id']]){this['client']['ev'][_0x111d76(0x6b2)]('messages.upsert',{'messages':[_0x3e1aa1],'type':'notify'}),delete dr[_0x3e1aa1['key']['id']];return;}}),this['messageHandle']['messages.update'](_0x3f9ba5,_0x4be88e);}if(_0x19b168[_0x4df404(0x5d8)]){let _0x45335c=_0x19b168[_0x4df404(0x5d8)];if(this[_0x4df404(0x176)]?.[_0x4df404(0x19e)]&&_0x45335c['id']['includes'](_0x4df404(0x247)))return;this['sendDataWebhook'](_0x4df404(0x5d8),_0x45335c);}if(!this[_0x4df404(0x176)]?.[_0x4df404(0x19e)]){if(_0x19b168['groups.upsert']){let _0x11ee0f=_0x19b168[_0x4df404(0x4eb)];this[_0x4df404(0x119)][_0x4df404(0x4eb)](_0x11ee0f);}if(_0x19b168[_0x4df404(0x23d)]){let _0x5a2c21=_0x19b168[_0x4df404(0x23d)];this[_0x4df404(0x119)][_0x4df404(0x23d)](_0x5a2c21);}if(_0x19b168[_0x4df404(0x1d9)]){let _0x215b20=_0x19b168[_0x4df404(0x1d9)];this['groupHandler'][_0x4df404(0x1d9)](_0x215b20);}}if(_0x19b168[_0x4df404(0x479)]){let _0x57005c=_0x19b168[_0x4df404(0x479)];this[_0x4df404(0x2db)]['chats.upsert'](_0x57005c,_0x4be88e);}if(_0x19b168[_0x4df404(0x322)]){let _0x405cea=_0x19b168['chats.update'];this[_0x4df404(0x2db)]['chats.update'](_0x405cea,_0x4be88e);}if(_0x19b168[_0x4df404(0x34d)]){let _0xa2a36c=_0x19b168['chats.delete'];this[_0x4df404(0x2db)][_0x4df404(0x34d)](_0xa2a36c);}if(_0x19b168[_0x4df404(0xc9)]){let _0x4bf33e=_0x19b168[_0x4df404(0xc9)];this['contactHandle'][_0x4df404(0xc9)](_0x4bf33e,_0x4be88e);}if(_0x19b168[_0x4df404(0x3db)]){let _0x584a87=_0x19b168['contacts.update'];this['contactHandle'][_0x4df404(0x3db)](_0x584a87,_0x4be88e);}}});}['formatBRNumber'](_0x536588){let _0x177976=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x536588);if(_0x177976&&_0x177976[0x1]==='55'){let _0x455b85=_0x177976[0x2],_0x52b450=_0x177976[0x3],_0x3fc8d9=_0x177976[0x4];if(_0x455b85>='31'&&_0x52b450==='9')return _0x177976[0x1]+_0x455b85+_0x3fc8d9;}return _0x536588;}[a0_0x2a4c6a(0x552)](_0x3657e6){const _0x21a407=a0_0x2a4c6a;return _0x3657e6[_0x21a407(0x587)](_0x21a407(0x247))||_0x3657e6[_0x21a407(0x587)](_0x21a407(0x57e))||_0x3657e6[_0x21a407(0x587)](_0x21a407(0x26f))?_0x3657e6:(_0x3657e6=_0x3657e6?.['replace'](/\s/g,'')[_0x21a407(0x34b)](/\+/g,'')['replace'](/\(/g,'')[_0x21a407(0x34b)](/\)/g,'')[_0x21a407(0xe8)](/\:/)[0x0][_0x21a407(0xe8)]('@')[0x0],_0x3657e6['length']>=0x12?(_0x3657e6=_0x3657e6[_0x21a407(0x34b)](/[^\d-]/g,''),_0x3657e6+_0x21a407(0x247)):(_0x3657e6=_0x3657e6['replace'](/\D/g,''),this[_0x21a407(0x2c5)](_0x3657e6)+_0x21a407(0x57e)));}async[a0_0x2a4c6a(0x130)](_0x5823be){const _0x281c6b=a0_0x2a4c6a;let _0xccdae=this[_0x281c6b(0x552)](_0x5823be[_0x281c6b(0x1cf)]),_0x4ba65d=(await this[_0x281c6b(0x1e3)]({'numbers':[_0xccdae]}))[0x0];if(!_0x4ba65d['exists']&&!(0x0,w['isJidGroup'])(_0x4ba65d[_0x281c6b(0xa5)]))throw new h(_0x4ba65d);let _0x39add8=(0x0,w[_0x281c6b(0x610)])(_0xccdae)?_0xccdae:_0x4ba65d[_0x281c6b(0xa5)];if((0x0,w[_0x281c6b(0x610)])(_0x39add8))try{await this[_0x281c6b(0x451)][_0x281c6b(0x31f)](_0x39add8);}catch{throw new L(_0x281c6b(0x297));}try{return await this[_0x281c6b(0x451)][_0x281c6b(0x621)](_0x39add8),await this[_0x281c6b(0x451)]['sendPresenceUpdate'](_0x5823be[_0x281c6b(0x523)],_0xccdae),{'status':0xc8,'presence':_0x5823be[_0x281c6b(0x523)]};}catch(_0x576347){throw new h(_0x576347[_0x281c6b(0x23c)]());}}async[a0_0x2a4c6a(0x4fd)](_0x14b26d){const _0xbf7087=a0_0x2a4c6a;let _0x57c8db=this[_0xbf7087(0x552)](_0x14b26d);try{return{'wuid':_0x57c8db,'profilePictureUrl':await this['client'][_0xbf7087(0x3dc)](_0x57c8db,_0xbf7087(0x2eb))};}catch{return{'wuid':_0x57c8db,'profilePictureUrl':null};}}async[a0_0x2a4c6a(0x288)](_0x168ab4,_0x503a25,_0xb25c59){const _0x3bdd4a=a0_0x2a4c6a;_0xb25c59||(_0xb25c59={});let _0x3f9694=(await this['whatsappNumber']({'numbers':[_0x168ab4]}))[0x0];if(!_0x3f9694[_0x3bdd4a(0x500)]&&!(0x0,w[_0x3bdd4a(0x610)])(_0x3f9694[_0x3bdd4a(0xa5)])&&!_0x3f9694[_0x3bdd4a(0xa5)][_0x3bdd4a(0x587)](_0x3bdd4a(0x26f)))throw new h(_0x3f9694);let _0x288992=_0x3f9694[_0x3bdd4a(0xa5)];try{_0xb25c59?.[_0x3bdd4a(0x613)]&&(await this['client']['presenceSubscribe'](_0x288992),await this[_0x3bdd4a(0x451)][_0x3bdd4a(0x224)](_0xb25c59?.[_0x3bdd4a(0x523)]??'composing',_0x288992),await(0x0,w[_0x3bdd4a(0x613)])(_0xb25c59[_0x3bdd4a(0x613)]),await this[_0x3bdd4a(0x451)]['sendPresenceUpdate'](_0x3bdd4a(0x223),_0x288992));let _0x1bd5e6=_0xb25c59?.[_0x3bdd4a(0x627)]!=!0x1?void 0x0:!0x1,_0x1215e8;if(_0xb25c59?.[_0x3bdd4a(0x5f0)]){let _0x55fa76=_0xb25c59?.['quoted'],_0x27a397=_0x55fa76?.[_0x3bdd4a(0x55b)]?_0x55fa76:await this[_0x3bdd4a(0x4e2)](_0x55fa76[_0x3bdd4a(0x2d1)],!0x0);if(!_0x27a397)throw _0x3bdd4a(0x69b);_0x1215e8=_0x27a397;}let _0x103b89;if((0x0,w[_0x3bdd4a(0x610)])(_0x288992))try{let _0x52d981=await this[_0x3bdd4a(0x451)][_0x3bdd4a(0x31f)](_0x288992);if(!_0x52d981)throw new L(_0x3bdd4a(0x297));_0xb25c59?.[_0x3bdd4a(0x1ec)]&&(_0xb25c59['mentions']?.['everyOne']?_0x103b89=_0x52d981[_0x3bdd4a(0x357)][_0x3bdd4a(0xfe)](_0x4684b4=>_0x4684b4['id']):_0xb25c59['mentions']?.['mentioned']?.[_0x3bdd4a(0x378)]&&(_0x103b89=_0xb25c59['mentions']['mentioned'][_0x3bdd4a(0xfe)](_0x4532b5=>{const _0x5b93d0=_0x3bdd4a;let _0x61b785=this[_0x5b93d0(0x552)](_0x4532b5);return(0x0,w[_0x5b93d0(0x610)])(_0x61b785)?null:_0x61b785;})));}catch{throw new L(_0x3bdd4a(0x297));}let _0x3e74e0=await((async()=>{const _0x5d0960=_0x3bdd4a;let _0x5b6b00={'quoted':_0x1215e8};if(!_0x503a25[_0x5d0960(0x22f)]&&!_0x503a25[_0x5d0960(0x420)]&&!_0x503a25[_0x5d0960(0x333)]&&!_0x503a25[_0x5d0960(0x1e5)]&&_0x288992!==_0x5d0960(0x1d3)&&!_0x503a25[_0x5d0960(0x22f)])return await this[_0x5d0960(0x451)][_0x5d0960(0x2f6)](_0x288992,{'forward':{'key':{'remoteJid':this['instance'][_0x5d0960(0x617)],'fromMe':!0x0},'message':_0x503a25},'mentions':_0x103b89},_0x5b6b00);if(_0x503a25[_0x5d0960(0x1e5)]){let _0x51ac5c=_0x503a25[_0x5d0960(0x1e5)];return _0xb25c59?.['changeVariables']&&(_0x51ac5c=await this[_0x5d0960(0x58f)](_0x51ac5c,_0x288992)),await this['client'][_0x5d0960(0x2f6)](_0x288992,{'text':_0x51ac5c,'mentions':_0x103b89,'linkPreview':_0x1bd5e6},_0x5b6b00);}return _0x288992===_0x5d0960(0x1d3)?await this['client'][_0x5d0960(0x2f6)](_0x288992,_0x503a25['status'][_0x5d0960(0x1f8)],{'backgroundColor':_0x503a25['status']['option'][_0x5d0960(0x14f)],'font':_0x503a25[_0x5d0960(0x2ad)][_0x5d0960(0x148)][_0x5d0960(0x131)],'statusJidList':_0x503a25['status'][_0x5d0960(0x148)][_0x5d0960(0x383)]}):await this['client'][_0x5d0960(0x2f6)](_0x288992,_0x503a25,_0x5b6b00);})()),{message_normalized:_0x4c5b91}=this[_0x3bdd4a(0x4b4)](_0x3e74e0[_0x3bdd4a(0x55b)],_(_0x3e74e0[_0x3bdd4a(0x55b)]),null),_0x14255f={'_id':_0x3e74e0[_0x3bdd4a(0x2d1)]['id'],'key':_0x3e74e0[_0x3bdd4a(0x2d1)],'pushName':_0x3e74e0[_0x3bdd4a(0x377)],'message':{..._0x3e74e0[_0x3bdd4a(0x55b)]},'messageType':_(_0x3e74e0['message']),'message_normalized':{'key':_0x3e74e0[_0x3bdd4a(0x2d1)],'pushName':_0x3e74e0[_0x3bdd4a(0x377)],'messageTimestamp':_0x3e74e0[_0x3bdd4a(0xbb)]&&_0x3e74e0[_0x3bdd4a(0xbb)]['toString']()[_0x3bdd4a(0x378)]<0xd?_0x3e74e0[_0x3bdd4a(0xbb)]*0x3e8:_0x3e74e0[_0x3bdd4a(0xbb)]||null,'source':(0x0,w[_0x3bdd4a(0x513)])(_0x3e74e0['key']['id']),..._0x4c5b91},'messageTimestamp':_0x3e74e0[_0x3bdd4a(0xbb)]&&_0x3e74e0['messageTimestamp'][_0x3bdd4a(0x23c)]()[_0x3bdd4a(0x378)]<0xd?_0x3e74e0[_0x3bdd4a(0xbb)]*0x3e8:_0x3e74e0[_0x3bdd4a(0xbb)]||null,'owner':this[_0x3bdd4a(0x6a8)][_0x3bdd4a(0x617)],'source':(0x0,w['getDevice'])(_0x3e74e0[_0x3bdd4a(0x2d1)]['id'])};return this[_0x3bdd4a(0xe0)][_0x3bdd4a(0x168)](_0x14255f),this[_0x3bdd4a(0x1d4)]('send.message',_0x14255f),j(this[_0x3bdd4a(0x180)],_0x3bdd4a(0x14c),{'message':_0x14255f}),this[_0x3bdd4a(0x48d)](this[_0x3bdd4a(0x5c8)]['get'](_0x3bdd4a(0x38f)),_0x14255f,_0x3bdd4a(0x21e)),await this[_0x3bdd4a(0x5a1)][_0x3bdd4a(0x55b)][_0x3bdd4a(0x434)]([_0x14255f],this[_0x3bdd4a(0x6a8)][_0x3bdd4a(0x617)]),_0x3e74e0;}catch(_0x16ce6c){throw this[_0x3bdd4a(0xe0)][_0x3bdd4a(0x53e)](this[_0x3bdd4a(0x180)]+'\x20('+this[_0x3bdd4a(0x6a8)]['wuid']+_0x3bdd4a(0x56c)+_0x16ce6c['toString']()),new h(_0x16ce6c['toString']());}}get[a0_0x2a4c6a(0x68b)](){const _0x2c94a4=a0_0x2a4c6a;return this[_0x2c94a4(0x10a)];}async['textMessage'](_0x1213f6){const _0x47e53a=a0_0x2a4c6a;let _0x4277bc=ur,_0xd34bf=We;return _0xd34bf&&this[_0x47e53a(0x180)][_0x47e53a(0x3b2)]()['includes'](_0xd34bf[_0x47e53a(0x3b2)]())&&(_0x1213f6[_0x47e53a(0x448)]['text']+='\x0a\x0a'+_0x4277bc),await this['sendMessageWithTyping'](_0x1213f6['number'],{'conversation':_0x1213f6[_0x47e53a(0x448)]['text']},_0x1213f6?.[_0x47e53a(0xef)]);}async[a0_0x2a4c6a(0x486)](_0x1e2900){const _0x3483dc=a0_0x2a4c6a;if(!_0x1e2900[_0x3483dc(0x2bb)])throw new h(_0x3483dc(0x629));if(!_0x1e2900['content'])throw new h('Content\x20is\x20required');if(_0x1e2900['allContacts']){let _0x186120=await this[_0x3483dc(0x5a1)][_0x3483dc(0x2a3)][_0x3483dc(0x2e9)]({'where':{}},this[_0x3483dc(0x6a8)][_0x3483dc(0x617)]);if(!_0x186120['length'])throw new h(_0x3483dc(0xa6));_0x1e2900[_0x3483dc(0x383)]=_0x186120['filter'](_0x553d71=>_0x553d71[_0x3483dc(0x377)])['map'](_0x7f5bdd=>_0x7f5bdd[_0x3483dc(0x6c3)]);}if(!_0x1e2900[_0x3483dc(0x383)]?.['length']&&!_0x1e2900[_0x3483dc(0x4f5)])throw new h('StatusJidList\x20is\x20required');if(_0x1e2900[_0x3483dc(0x2bb)]===_0x3483dc(0x3e7)){if(!_0x1e2900[_0x3483dc(0x14f)])throw new h('Background\x20color\x20is\x20required');if(!_0x1e2900['font'])throw new h(_0x3483dc(0x1ea));return{'content':{'text':_0x1e2900[_0x3483dc(0x1f8)]},'option':{'backgroundColor':_0x1e2900[_0x3483dc(0x14f)],'font':_0x1e2900['font'],'statusJidList':_0x1e2900[_0x3483dc(0x383)]}};}if(_0x1e2900['type']===_0x3483dc(0x2eb))return{'content':{'image':{'url':_0x1e2900['content']},'caption':_0x1e2900['caption']},'option':{'statusJidList':_0x1e2900[_0x3483dc(0x383)]}};if(_0x1e2900[_0x3483dc(0x2bb)]===_0x3483dc(0x2f2))return{'content':{'video':{'url':_0x1e2900[_0x3483dc(0x1f8)]},'caption':_0x1e2900[_0x3483dc(0x51d)]},'option':{'statusJidList':_0x1e2900['statusJidList']}};if(_0x1e2900[_0x3483dc(0x2bb)]==='audio'){this[_0x3483dc(0xe0)][_0x3483dc(0x33d)]('Type\x20defined\x20as\x20audio'),this['logger'][_0x3483dc(0x33d)]('Processing\x20audio');let _0x39c694=await this[_0x3483dc(0x656)](_0x1e2900[_0x3483dc(0x1f8)]);if(typeof _0x39c694==_0x3483dc(0x55c)){this[_0x3483dc(0xe0)][_0x3483dc(0x33d)](_0x3483dc(0x3a3));let _0x302e58=k[_0x3483dc(0x238)](_0x39c694)[_0x3483dc(0x23c)](_0x3483dc(0x1db)),_0x55608c={'content':{'audio':Buffer[_0x3483dc(0x489)](_0x302e58,'base64'),'ptt':!0x0,'mimetype':'audio/mp4'},'option':{'statusJidList':_0x1e2900[_0x3483dc(0x383)]}};return k[_0x3483dc(0x3bf)](_0x39c694),_0x55608c;}else throw new O(_0x39c694);}throw new h(_0x3483dc(0x3f2));}async[a0_0x2a4c6a(0x4ff)](_0x3d5942){const _0x4e458b=a0_0x2a4c6a;return await this[_0x4e458b(0x288)]('status@broadcast',{'status':await this[_0x4e458b(0x486)](_0x3d5942[_0x4e458b(0x4ff)])});}async['prepareMediaMessage'](_0xcb7145){const _0x234e9a=a0_0x2a4c6a;try{let _0xfb88a2=await(0x0,w[_0x234e9a(0x254)])({[_0xcb7145[_0x234e9a(0x406)]]:(0x0,$[_0x234e9a(0x42b)])(_0xcb7145[_0x234e9a(0x482)])?{'url':_0xcb7145['media']}:Buffer['from'](_0xcb7145[_0x234e9a(0x482)],_0x234e9a(0x1db))},{'upload':this[_0x234e9a(0x451)]['waUploadToServer']}),_0x1432d5=_0xcb7145['mediatype']+_0x234e9a(0x6a1);if(_0xcb7145['mediatype']===_0x234e9a(0x255)&&!_0xcb7145[_0x234e9a(0x3b8)]){let _0x111409=new RegExp(/.*\/(.+?)\./)['exec'](_0xcb7145[_0x234e9a(0x482)]);_0xcb7145[_0x234e9a(0x3b8)]=_0x111409?_0x111409[0x1]:null;}let _0x37313e=(0x0,$[_0x234e9a(0x42b)])(_0xcb7145[_0x234e9a(0x482)])?_0xcb7145['media']['split']('?')[0x0]:_0xcb7145[_0x234e9a(0x482)];this[_0x234e9a(0xe0)]['verbose'](_0x234e9a(0x6da)+_0x37313e);let _0x4d90f0;(0x0,$[_0x234e9a(0x42b)])(_0xcb7145[_0x234e9a(0x482)])?_0x4d90f0=(0x0,Tt['getMIMEType'])(_0x37313e):_0xcb7145[_0x234e9a(0x3b8)]&&_0xcb7145[_0x234e9a(0x3b8)][_0x234e9a(0x587)]('.')?_0x4d90f0=(0x0,Tt[_0x234e9a(0x278)])(_0xcb7145[_0x234e9a(0x3b8)]):_0x4d90f0=(0x0,Tt[_0x234e9a(0x278)])(_0xcb7145[_0x234e9a(0x482)]);let _0x37c02b=ur,_0x644ecb=We;return _0x644ecb&&this[_0x234e9a(0x180)][_0x234e9a(0x3b2)]()[_0x234e9a(0x587)](_0x644ecb[_0x234e9a(0x3b2)]())&&(_0xcb7145['caption']+='\x0a\x0a'+_0x37c02b),_0xfb88a2[_0x1432d5][_0x234e9a(0x51d)]=_0xcb7145?.[_0x234e9a(0x51d)],_0xfb88a2[_0x1432d5][_0x234e9a(0x3a5)]=_0x4d90f0,_0xfb88a2[_0x1432d5]['fileName']=_0xcb7145[_0x234e9a(0x3b8)],_0xcb7145[_0x234e9a(0x406)]===_0x234e9a(0x2f2)&&(_0xfb88a2[_0x1432d5][_0x234e9a(0x1b5)]=Uint8Array['from']((0x0,Ee['readFileSync'])((0x0,P[_0x234e9a(0x404)])(process[_0x234e9a(0xd7)](),_0x234e9a(0x5e0)))),_0xfb88a2[_0x1432d5]['gifPlayback']=!0x1),(0x0,w[_0x234e9a(0x5ea)])('',{[_0x1432d5]:{..._0xfb88a2[_0x1432d5]}},{'userJid':this[_0x234e9a(0x6a8)][_0x234e9a(0x617)]});}catch(_0x20c705){throw this[_0x234e9a(0xe0)][_0x234e9a(0x53e)](this[_0x234e9a(0x180)]+'\x20('+this[_0x234e9a(0x6a8)][_0x234e9a(0x617)]+_0x234e9a(0x56c)+(_0x20c705 instanceof Error?_0x20c705['message']:JSON[_0x234e9a(0x45c)](_0x20c705,null,0x2))),new O(_0x20c705?.[_0x234e9a(0x23c)]()||_0x20c705);}}async[a0_0x2a4c6a(0x4fb)](_0x4d7c41){const _0x54372f=a0_0x2a4c6a;let _0x52596f=await this['prepareMediaMessage'](_0x4d7c41[_0x54372f(0x4fb)]);return await this['sendMessageWithTyping'](_0x4d7c41[_0x54372f(0x1cf)],{..._0x52596f['message']},_0x4d7c41?.[_0x54372f(0xef)]);}async[a0_0x2a4c6a(0x367)](_0x227dbd,_0x5ba4f0){const _0x365ac5=a0_0x2a4c6a;try{this[_0x365ac5(0xe0)][_0x365ac5(0x33d)](_0x365ac5(0x485));let _0x37d240,_0x4b479b=_0x5ba4f0+'-'+new Date()[_0x365ac5(0x34e)]();this[_0x365ac5(0xe0)][_0x365ac5(0x33d)]('Hash\x20to\x20image\x20name:\x20'+_0x4b479b);let _0x38e19b=''+(0x0,P[_0x365ac5(0x404)])(this['storePath'],_0x4b479b+_0x365ac5(0x51e));if(this['logger'][_0x365ac5(0x33d)]('Output\x20path:\x20'+_0x38e19b),(0x0,$[_0x365ac5(0x2bf)])(_0x227dbd)){this[_0x365ac5(0xe0)][_0x365ac5(0x33d)](_0x365ac5(0x1a7));let _0x58d7e2=_0x227dbd[_0x365ac5(0x34b)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x392b7a=Buffer['from'](_0x58d7e2,'base64');_0x37d240=''+(0x0,P['join'])(this[_0x365ac5(0x635)],_0x365ac5(0x509)+_0x4b479b+_0x365ac5(0x27b)),this[_0x365ac5(0xe0)]['verbose'](_0x365ac5(0x515)+_0x37d240),await(0x0,At[_0x365ac5(0x51f)])(_0x392b7a)[_0x365ac5(0x210)](_0x37d240),this['logger']['verbose'](_0x365ac5(0x2ff));}else{this[_0x365ac5(0xe0)][_0x365ac5(0x33d)](_0x365ac5(0x1cd));let _0x3d1020=new Date()[_0x365ac5(0x34e)](),_0x25008c=_0x227dbd+_0x365ac5(0x1ef)+_0x3d1020;this[_0x365ac5(0xe0)][_0x365ac5(0x33d)](_0x365ac5(0x4b7)+_0x25008c);let _0x3f5518=await te[_0x365ac5(0x51f)]['get'](_0x25008c,{'responseType':'arraybuffer'});this[_0x365ac5(0xe0)][_0x365ac5(0x33d)](_0x365ac5(0x53b));let _0x52f98e=Buffer[_0x365ac5(0x489)](_0x3f5518[_0x365ac5(0x106)],_0x365ac5(0x227));_0x37d240=''+(0x0,P[_0x365ac5(0x404)])(this[_0x365ac5(0x635)],_0x365ac5(0x509)+_0x4b479b+'.png'),this[_0x365ac5(0xe0)][_0x365ac5(0x33d)](_0x365ac5(0x515)+_0x37d240),await(0x0,At[_0x365ac5(0x51f)])(_0x52f98e)[_0x365ac5(0x210)](_0x37d240),this['logger'][_0x365ac5(0x33d)](_0x365ac5(0x2ff));}return await(0x0,At[_0x365ac5(0x51f)])(_0x37d240)[_0x365ac5(0x530)]()[_0x365ac5(0x210)](_0x38e19b),this[_0x365ac5(0xe0)][_0x365ac5(0x33d)](_0x365ac5(0x41b)),k[_0x365ac5(0x3bf)](_0x37d240),this[_0x365ac5(0xe0)][_0x365ac5(0x33d)]('Temp\x20image\x20deleted'),_0x38e19b;}catch(_0x55a874){console['error']('Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:',_0x55a874 instanceof Error?_0x55a874['message']:JSON[_0x365ac5(0x45c)](_0x55a874,null,0x2));}}async[a0_0x2a4c6a(0x6bf)](_0x49cd76){const _0x2f902d=a0_0x2a4c6a;let _0x4fcbb0=await this[_0x2f902d(0x367)](_0x49cd76[_0x2f902d(0x5fc)][_0x2f902d(0x2eb)],_0x49cd76[_0x2f902d(0x1cf)]),_0x359d28=await this['sendMessageWithTyping'](_0x49cd76[_0x2f902d(0x1cf)],{'sticker':{'url':_0x4fcbb0}},_0x49cd76?.[_0x2f902d(0xef)]);return k[_0x2f902d(0x3bf)](_0x4fcbb0),this['logger']['verbose'](_0x2f902d(0x598)),_0x359d28;}async[a0_0x2a4c6a(0x26c)](_0x3c0e05){const _0x3f0872=a0_0x2a4c6a;if(this['logger'][_0x3f0872(0x33d)](_0x3f0872(0x695)),!_0x3c0e05[_0x3f0872(0xef)]?.['encoding']&&_0x3c0e05[_0x3f0872(0xef)]?.['encoding']!==!0x1&&(_0x3c0e05[_0x3f0872(0xef)][_0x3f0872(0x248)]=!0x0),_0x3c0e05[_0x3f0872(0xef)]?.[_0x3f0872(0x248)]){let _0x51139d=await this[_0x3f0872(0x656)](_0x3c0e05['audioMessage']['audio']);if(typeof _0x51139d==_0x3f0872(0x55c)){let _0x188959=k['readFileSync'](_0x51139d)[_0x3f0872(0x23c)](_0x3f0872(0x1db)),_0xedcfa6=this[_0x3f0872(0x288)](_0x3c0e05[_0x3f0872(0x1cf)],{'audio':Buffer[_0x3f0872(0x489)](_0x188959,'base64'),'ptt':!0x0,'mimetype':_0x3f0872(0x651)},{'presence':_0x3f0872(0x645),'delay':_0x3c0e05?.[_0x3f0872(0xef)]?.['delay']});return k[_0x3f0872(0x3bf)](_0x51139d),this[_0x3f0872(0xe0)]['verbose'](_0x3f0872(0x40d)),_0xedcfa6;}else throw new O(_0x51139d);}return await this[_0x3f0872(0x288)](_0x3c0e05['number'],{'audio':(0x0,$['isURL'])(_0x3c0e05[_0x3f0872(0x623)]['audio'])?{'url':_0x3c0e05['audioMessage'][_0x3f0872(0x22f)]}:Buffer[_0x3f0872(0x489)](_0x3c0e05['audioMessage'][_0x3f0872(0x22f)],_0x3f0872(0x1db)),'ptt':!0x0,'mimetype':_0x3f0872(0x120)},{'presence':'recording','delay':_0x3c0e05?.[_0x3f0872(0xef)]?.[_0x3f0872(0x613)]});}async['convertaudio'](_0x2ff01a){const _0x4cdf8b=a0_0x2a4c6a;this[_0x4cdf8b(0xe0)][_0x4cdf8b(0x33d)](_0x4cdf8b(0x253));let _0x548956,_0x38cadb,_0x1c5c34=(0x0,me['v4'])();if(this['logger']['verbose'](_0x4cdf8b(0x634)+_0x1c5c34),(0x0,$[_0x4cdf8b(0x42b)])(_0x2ff01a)){this[_0x4cdf8b(0xe0)][_0x4cdf8b(0x33d)]('Audio\x20is\x20url'),_0x38cadb=''+(0x0,P['join'])(this[_0x4cdf8b(0x635)],_0x1c5c34+'.mp4'),_0x548956=''+(0x0,P[_0x4cdf8b(0x404)])(this['storePath'],_0x4cdf8b(0x509)+_0x1c5c34+'.mp3'),this['logger'][_0x4cdf8b(0x33d)]('Output\x20audio\x20path:\x20'+_0x38cadb),this[_0x4cdf8b(0xe0)][_0x4cdf8b(0x33d)](_0x4cdf8b(0x302)+_0x548956);let _0x49ed68=new Date()['getTime'](),_0x1f5426=_0x2ff01a+_0x4cdf8b(0x1ef)+_0x49ed68;this[_0x4cdf8b(0xe0)][_0x4cdf8b(0x33d)](_0x4cdf8b(0x445)+_0x1f5426);let _0x503158=await te[_0x4cdf8b(0x51f)][_0x4cdf8b(0x471)](_0x1f5426,{'responseType':_0x4cdf8b(0x47a)});this[_0x4cdf8b(0xe0)][_0x4cdf8b(0x33d)](_0x4cdf8b(0x491)),k[_0x4cdf8b(0x455)](_0x548956,_0x503158[_0x4cdf8b(0x106)]);}else{this['logger'][_0x4cdf8b(0x33d)](_0x4cdf8b(0x3ad)),_0x38cadb=''+(0x0,P['join'])(this[_0x4cdf8b(0x635)],_0x1c5c34+_0x4cdf8b(0x5e3)),_0x548956=''+(0x0,P['join'])(this[_0x4cdf8b(0x635)],'temp-'+_0x1c5c34+_0x4cdf8b(0x317)),this[_0x4cdf8b(0xe0)][_0x4cdf8b(0x33d)](_0x4cdf8b(0x458)+_0x38cadb),this[_0x4cdf8b(0xe0)][_0x4cdf8b(0x33d)](_0x4cdf8b(0x302)+_0x548956);let _0x2ec8b6=Buffer[_0x4cdf8b(0x489)](_0x2ff01a,_0x4cdf8b(0x1db));k[_0x4cdf8b(0x455)](_0x548956,_0x2ec8b6),this[_0x4cdf8b(0xe0)][_0x4cdf8b(0x33d)](_0x4cdf8b(0x50f));}return this[_0x4cdf8b(0xe0)]['verbose'](_0x4cdf8b(0x41e)),new Promise((_0x3adc5b,_0x14c38e)=>{const _0x2d3d09=_0x4cdf8b;(0x0,Ot[_0x2d3d09(0x1f2)])(pr[_0x2d3d09(0x51f)]['path']+_0x2d3d09(0xc6)+_0x548956+_0x2d3d09(0x20c)+_0x38cadb+_0x2d3d09(0x4c3),_0x4be0ab=>{const _0x52ebc5=_0x2d3d09;k[_0x52ebc5(0x3bf)](_0x548956),this[_0x52ebc5(0xe0)]['verbose'](_0x52ebc5(0x3fc)),_0x4be0ab&&_0x14c38e(_0x4be0ab),this[_0x52ebc5(0xe0)][_0x52ebc5(0x33d)]('Audio\x20converted\x20to\x20mp4'),_0x3adc5b(_0x38cadb);});});}async[a0_0x2a4c6a(0x320)](_0xb7ad0f){const _0x47768a=a0_0x2a4c6a;let _0x4f1fca={},_0x2c1614='TEXT';if(_0xb7ad0f[_0x47768a(0x320)]?.[_0x47768a(0x4fb)]){_0x2c1614=_0xb7ad0f[_0x47768a(0x320)][_0x47768a(0x4fb)]?.[_0x47768a(0x406)][_0x47768a(0x487)]()??_0x47768a(0x1f5),_0x4f1fca['mediaKey']=_0x2c1614[_0x47768a(0x3b2)]()+_0x47768a(0x6a1);let _0x3b8f46=await this[_0x47768a(0x2be)](_0xb7ad0f[_0x47768a(0x320)][_0x47768a(0x4fb)]);_0x4f1fca['message']=_0x3b8f46['message'][_0x4f1fca[_0x47768a(0x36c)]],_0x4f1fca['contentText']='*'+_0xb7ad0f[_0x47768a(0x320)][_0x47768a(0x6b4)]+_0x47768a(0x129)+_0xb7ad0f[_0x47768a(0x320)][_0x47768a(0x20f)];}let _0x496e4f={'text':_0xb7ad0f[_0x47768a(0x320)]['buttons'][_0x47768a(0xfe)](_0x3f4df3=>_0x3f4df3['buttonText']),'ids':_0xb7ad0f[_0x47768a(0x320)][_0x47768a(0x1e8)][_0x47768a(0xfe)](_0x323b0d=>_0x323b0d['buttonId'])};if(!(0x0,$[_0x47768a(0x639)])(_0x496e4f[_0x47768a(0x3e7)])||!(0x0,$[_0x47768a(0x639)])(_0x496e4f['ids']))throw new h(_0x47768a(0x396),'Button\x20IDs\x20cannot\x20be\x20repeated.');return await this[_0x47768a(0x288)](_0xb7ad0f[_0x47768a(0x1cf)],{'buttonsMessage':{'text':_0x4f1fca?.[_0x47768a(0x36c)]?void 0x0:_0xb7ad0f['buttonMessage'][_0x47768a(0x6b4)],'contentText':_0x4f1fca?.[_0x47768a(0x685)]??_0xb7ad0f[_0x47768a(0x320)][_0x47768a(0x20f)],'footerText':_0xb7ad0f[_0x47768a(0x320)]?.[_0x47768a(0x58b)],'buttons':_0xb7ad0f[_0x47768a(0x320)][_0x47768a(0x1e8)][_0x47768a(0xfe)](_0x5016fd=>({'buttonText':{'displayText':_0x5016fd[_0x47768a(0x68e)]},'buttonId':_0x5016fd[_0x47768a(0x64e)],'type':0x1})),'headerType':w[_0x47768a(0x28c)]['Message'][_0x47768a(0x389)][_0x47768a(0x151)][_0x2c1614],[_0x4f1fca?.[_0x47768a(0x36c)]]:_0x4f1fca?.[_0x47768a(0x55b)]}},_0xb7ad0f?.['options']);}async[a0_0x2a4c6a(0x42c)](_0x4624f4){const _0x5bfda8=a0_0x2a4c6a;return await this[_0x5bfda8(0x288)](_0x4624f4[_0x5bfda8(0x1cf)],{'locationMessage':{'degreesLatitude':_0x4624f4['locationMessage'][_0x5bfda8(0x683)],'degreesLongitude':_0x4624f4['locationMessage'][_0x5bfda8(0x162)],'name':_0x4624f4[_0x5bfda8(0x42c)]?.['name'],'address':_0x4624f4[_0x5bfda8(0x42c)]?.[_0x5bfda8(0x13e)]}},_0x4624f4?.['options']);}async[a0_0x2a4c6a(0x133)](_0x461802){const _0x3770fa=a0_0x2a4c6a;let _0x57dee8={},_0x3bcdec=_0x244211=>{const _0xc41e3=a0_0x5ebe;let _0x266a9e=_0xc41e3(0x2c3)+_0x244211['fullName']+_0xc41e3(0x3ee)+_0x244211[_0xc41e3(0x326)]+'\x0a';_0x244211[_0xc41e3(0x138)]&&(_0x266a9e+='ORG:'+_0x244211[_0xc41e3(0x138)]+';\x0a'),_0x244211[_0xc41e3(0x476)]&&(_0x266a9e+=_0xc41e3(0x599)+_0x244211[_0xc41e3(0x476)]+'\x0a'),_0x244211[_0xc41e3(0x548)]&&(_0x266a9e+='URL:'+_0x244211[_0xc41e3(0x548)]+'\x0a');let _0x10c6be='';return _0x244211[_0xc41e3(0x477)]&&_0x244211[_0xc41e3(0x477)][_0xc41e3(0xe8)]('|')[_0xc41e3(0x532)]((_0xacda72,_0x2ab1b8)=>{const _0x34549d=_0xc41e3;let _0x17f39e=this[_0x34549d(0x552)](_0xacda72)[_0x34549d(0x34b)](_0x34549d(0x57e),'');_0x10c6be+=_0x34549d(0x34c)+(_0x2ab1b8+0x1)+_0x34549d(0x6c8)+_0x17f39e+':'+_0xacda72+'\x0aitem'+(_0x2ab1b8+0x1)+_0x34549d(0x2b1);}),_0x266a9e+=_0x10c6be+'END:VCARD',_0x266a9e;};return _0x461802[_0x3770fa(0x133)]['length']===0x1?_0x57dee8[_0x3770fa(0x133)]={'displayName':_0x461802[_0x3770fa(0x133)][0x0][_0x3770fa(0x326)],'vcard':_0x3bcdec(_0x461802[_0x3770fa(0x133)][0x0])}:_0x57dee8[_0x3770fa(0x236)]={'displayName':_0x461802[_0x3770fa(0x133)]['length']+'\x20contacts','contacts':_0x461802['contactMessage']['map'](_0x458123=>({'displayName':_0x458123['fullName'],'vcard':_0x3bcdec(_0x458123)}))},await this[_0x3770fa(0x288)](_0x461802[_0x3770fa(0x1cf)],{..._0x57dee8},_0x461802?.[_0x3770fa(0xef)]);}async['reactionMessage'](_0x26794c){const _0x3a0d20=a0_0x2a4c6a;return await this[_0x3a0d20(0x288)](_0x26794c[_0x3a0d20(0x292)][_0x3a0d20(0x2d1)][_0x3a0d20(0x575)],{'reactionMessage':{'key':_0x26794c[_0x3a0d20(0x292)][_0x3a0d20(0x2d1)],'text':_0x26794c['reactionMessage']['reaction']}});}async['whatsappNumber'](_0x1f9162){const _0x26809b=a0_0x2a4c6a;let _0x8f5d4=[];for await(let _0x5b10a7 of _0x1f9162['numbers']){let _0x424023=this['createJid'](_0x5b10a7),_0xdf72e=!0x1;try{if((0x0,w['isJidGroup'])(_0x424023)){let _0x5d3cd1=await this[_0x26809b(0x499)]({'groupJid':_0x424023},_0x26809b(0x3b4));_0x8f5d4[_0x26809b(0x63a)](new pe(_0x5d3cd1[_0x26809b(0x18a)]['id'],!!_0x5d3cd1?.['metadata']['id'],_0x5d3cd1?.['metadata'][_0x26809b(0x11f)])),_0xdf72e=!!_0x5d3cd1?.['metadata']['id'];}else{let _0x14f539=(await this[_0x26809b(0x451)][_0x26809b(0x369)](_0x424023))[0x0];_0x8f5d4[_0x26809b(0x63a)](new pe(_0x14f539[_0x26809b(0xa5)],_0x14f539[_0x26809b(0x500)])),_0xdf72e=_0x14f539[_0x26809b(0x500)];}}catch{_0x8f5d4[_0x26809b(0x63a)](new pe(_0x5b10a7,!0x1));}finally{await this['checkAndUpdateChatStatus'](_0x424023,_0xdf72e);}}return _0x8f5d4;}async[a0_0x2a4c6a(0x5b2)](_0x3dd35e,_0xb25ccf){const _0x1edf56=a0_0x2a4c6a;try{await this[_0x1edf56(0x5a1)][_0x1edf56(0x633)][_0x1edf56(0xae)]({'where':{'_id':_0x3dd35e,'imported':!0x0}},this[_0x1edf56(0x6a8)]['wuid'])&&(_0xb25ccf?await this[_0x1edf56(0x5a1)][_0x1edf56(0x633)][_0x1edf56(0x5ad)]({'where':{'_id':_0x3dd35e}},{'imported':!0x1},this['instance'][_0x1edf56(0x617)],void 0x0,_0x1edf56(0xcf)):(await this[_0x1edf56(0x5a1)][_0x1edf56(0x633)][_0x1edf56(0x256)](_0x3dd35e,this[_0x1edf56(0x6a8)][_0x1edf56(0x617)]),console['log']('Chat\x20com\x20ID\x20'+_0x3dd35e+_0x1edf56(0xce))));}catch(_0x3463e4){console[_0x1edf56(0x53e)](_0x1edf56(0x265),_0x3463e4);}}async[a0_0x2a4c6a(0x284)](_0x198dc8){const _0x86b79c=a0_0x2a4c6a;try{let _0x16918f=_0x198dc8['readMessages'][_0x86b79c(0x549)](_0x383aa0=>(0x0,w[_0x86b79c(0x610)])(_0x383aa0[_0x86b79c(0x575)])||(0x0,w['isJidUser'])(_0x383aa0[_0x86b79c(0x575)]))['map'](_0x44b477=>({'remoteJid':_0x44b477['remoteJid'],'fromMe':_0x44b477['fromMe'],'id':_0x44b477['id']}));await this[_0x86b79c(0x451)][_0x86b79c(0x303)](_0x16918f);let _0x4ea044=_0x16918f[_0x86b79c(0xfe)](_0x286f1f=>this[_0x86b79c(0x4d7)](_0x286f1f,{'status':_0x86b79c(0x2da),'owner':this[_0x86b79c(0x6a8)]['wuid']})),_0x44a002=_0x16918f['map'](_0x452fe2=>this[_0x86b79c(0x5a1)][_0x86b79c(0x633)][_0x86b79c(0x5ad)]({'where':{'_id':_0x452fe2[_0x86b79c(0x575)]}},{'unreadcount':0x0},this['instance']['wuid'])),[_0x54c3a2,_0x76eccb]=await Promise[_0x86b79c(0x43f)]([Promise[_0x86b79c(0x43f)](_0x4ea044),Promise['all'](_0x44a002)]);return _0x76eccb[_0x86b79c(0x549)](_0x2938e5=>_0x2938e5!==null)[_0x86b79c(0x532)](_0x48b20b=>{const _0x566abc=_0x86b79c;j(this[_0x566abc(0x180)],_0x566abc(0x40a),{'chat':_0x48b20b});}),{'message':_0x86b79c(0x258),'read':_0x86b79c(0xe2)};}catch(_0xf5b2f3){throw console['error'](_0x86b79c(0x3c8),_0xf5b2f3),new O(_0x86b79c(0x3c6),_0xf5b2f3['toString']());}}async[a0_0x2a4c6a(0x365)](_0x380d8b){const _0xdbb1ce=a0_0x2a4c6a;let _0x40f044=await this['fetchMessages']({'where':{'key':{'remoteJid':_0x380d8b}}}),_0x81a3d0=_0x40f044[_0xdbb1ce(0x39d)]();for(let _0x32767e of _0x40f044)_0x32767e[_0xdbb1ce(0xbb)]>=_0x81a3d0['messageTimestamp']&&(_0x81a3d0=_0x32767e);return _0x81a3d0;}async[a0_0x2a4c6a(0x37c)](_0x5c55b0){const _0x3bbd71=a0_0x2a4c6a;this[_0x3bbd71(0xe0)][_0x3bbd71(0x33d)](_0x3bbd71(0x3c1));try{let _0x20c482=_0x5c55b0[_0x3bbd71(0x144)],_0x4fec51=_0x5c55b0[_0x3bbd71(0x633)];if(!_0x20c482&&_0x4fec51?_0x20c482=await this[_0x3bbd71(0x365)](_0x4fec51):(_0x20c482=_0x5c55b0[_0x3bbd71(0x144)],_0x20c482[_0x3bbd71(0xbb)]=_0x20c482?.[_0x3bbd71(0xbb)]??Date[_0x3bbd71(0x4f1)](),_0x4fec51=_0x20c482?.[_0x3bbd71(0x2d1)]?.[_0x3bbd71(0x575)]),!_0x20c482||Object[_0x3bbd71(0x592)](_0x20c482)[_0x3bbd71(0x378)]===0x0)throw new L('Last\x20message\x20not\x20found');await this['client']['chatModify']({'archive':_0x5c55b0[_0x3bbd71(0x167)],'lastMessages':[_0x20c482]},this[_0x3bbd71(0x552)](_0x4fec51));let _0xf118fd=await this[_0x3bbd71(0x5a1)][_0x3bbd71(0x633)]['updateOne']({'where':{'_id':_0x20c482?.['key']?.['remoteJid']}},{'archived':_0x5c55b0[_0x3bbd71(0x167)]},this[_0x3bbd71(0x6a8)][_0x3bbd71(0x617)]);return _0xf118fd&&j(this['instanceName'],_0x3bbd71(0x40a),{'chat':_0xf118fd}),{'chatId':_0x4fec51,'archived':_0x5c55b0['archive']};}catch(_0xb7a566){throw new O({'archived':!0x1,'message':[_0x3bbd71(0x59e),_0xb7a566['toString']()]});}}async[a0_0x2a4c6a(0x28a)](_0x33a509){const _0x660e26=a0_0x2a4c6a;try{let _0x9279a2=await this[_0x660e26(0x451)]['sendMessage'](_0x33a509[_0x660e26(0x575)],{'delete':_0x33a509});try{let _0x6442fb=await this['updateMessage'](_0x33a509,{'status':_0x660e26(0x2d6),'owner':this[_0x660e26(0x6a8)][_0x660e26(0x617)]});this['logger']['verbose'](this[_0x660e26(0x180)]+'\x20('+this[_0x660e26(0x6a8)]['wuid']+_0x660e26(0x54a)+_0x6442fb);}catch(_0x21376a){console[_0x660e26(0x53e)](_0x660e26(0x217),_0x21376a);}return _0x9279a2;}catch(_0x411b1d){throw new O(_0x660e26(0x510),_0x411b1d?.[_0x660e26(0x23c)]());}}async[a0_0x2a4c6a(0x490)](_0x407b05){const _0x1be6ae=a0_0x2a4c6a;try{let _0x4b18e5=_0x407b05?.[_0x1be6ae(0x55b)]?_0x407b05:await this['getMessage'](_0x407b05[_0x1be6ae(0x2d1)],!0x0);for(let _0x28c16c of ua)_0x4b18e5[_0x1be6ae(0x55b)][_0x28c16c]&&(_0x4b18e5[_0x1be6ae(0x55b)]=_0x4b18e5[_0x1be6ae(0x55b)][_0x28c16c]['message']);let _0x554893,_0x46f427;for(let _0x564fc1 of la)if(_0x554893=_0x4b18e5[_0x1be6ae(0x55b)][_0x564fc1],_0x554893){_0x46f427=_0x564fc1;break;}if(!_0x554893)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x554893[_0x1be6ae(0x36c)]==_0x1be6ae(0x192)&&(_0x4b18e5[_0x1be6ae(0x55b)]=JSON[_0x1be6ae(0x1b8)](JSON['stringify'](_0x4b18e5[_0x1be6ae(0x55b)])));let _0x4006b2=await(0x0,w[_0x1be6ae(0x560)])({'key':_0x4b18e5?.[_0x1be6ae(0x2d1)],'message':_0x4b18e5?.['message']},_0x1be6ae(0x492),{},{'logger':(0x0,Rt[_0x1be6ae(0x51f)])({'level':'silent'}),'reuploadRequest':this[_0x1be6ae(0x451)][_0x1be6ae(0x559)]});if(!(_0x4006b2 instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x30b63c=this[_0x1be6ae(0x5c8)][_0x1be6ae(0x471)]('DATABASE'),_0x25305a,_0x3145e7;if(_0x554893[_0x1be6ae(0x3b8)])_0x25305a=_0x554893[_0x1be6ae(0x3b8)];else{let _0x399c3b=_0x554893[_0x1be6ae(0x3a5)]?.[_0x1be6ae(0x4b8)](/\/(\w+)/),_0x597faa=_0x399c3b?_0x399c3b[0x1]:null;if(!_0x597faa)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0x25305a=(0x0,me['v4'])()+'.'+_0x597faa;}_0x46f427===_0x1be6ae(0x623)&&_0x554893[_0x1be6ae(0x3a5)]==='audio/ogg'?(_0x25305a=(0x0,me['v4'])()+_0x1be6ae(0x43d),_0x3145e7=_0x1be6ae(0x3c9)+await this[_0x1be6ae(0x656)](_0x4006b2[_0x1be6ae(0x23c)](_0x1be6ae(0x1db)))):(await this[_0x1be6ae(0x22d)](_0x4006b2,_0x25305a),_0x3145e7=_0x1be6ae(0x3c9)+_0x25305a);let _0x17cb78=this[_0x1be6ae(0x5c8)][_0x1be6ae(0x471)](_0x1be6ae(0x4ad))['URL'];if(!_0x17cb78){let _0x4bd56e=this[_0x1be6ae(0x5c8)][_0x1be6ae(0x471)]('SSL_CONF');_0x17cb78='https://'+(_0x4bd56e&&_0x4bd56e[_0x1be6ae(0x59c)]['split']('/')[0x4]);}_0x3145e7=''+_0x17cb78+_0x3145e7;let _0x3274b2=0xc*0x3c*0x3c*0x3e8,_0x14c572={'where':{'_id':_0x4b18e5[_0x1be6ae(0x2d1)]['id']}},_0x199848={'message_normalized.fileUrl':_0x3145e7,'message_normalized.expires_fileUrl':Date[_0x1be6ae(0x4f1)]()+_0x3274b2};try{let _0x300dc9=await this['repository'][_0x1be6ae(0x55b)]['update'](_0x14c572,_0x199848,this[_0x1be6ae(0x6a8)][_0x1be6ae(0x617)]);_0x300dc9&&j(this[_0x1be6ae(0x180)],_0x1be6ae(0x14c),{'message':_0x300dc9});}catch(_0x345d9d){this['logger'][_0x1be6ae(0x53e)](this['instanceName']+'\x20('+this[_0x1be6ae(0x6a8)]['wuid']+_0x1be6ae(0x56c)+(_0x345d9d instanceof Error?_0x345d9d[_0x1be6ae(0x55b)]:JSON[_0x1be6ae(0x45c)](_0x345d9d,null,0x2)));}return{'mediaType':_0x46f427,'fileName':_0x554893[_0x1be6ae(0x3b8)],'caption':_0x554893['caption'],'size':{'fileLength':_0x554893[_0x1be6ae(0x3d1)],'height':_0x554893[_0x1be6ae(0x1c7)],'width':_0x554893[_0x1be6ae(0x5c3)]},'mimetype':_0x554893[_0x1be6ae(0x3a5)],'base64':_0x4006b2[_0x1be6ae(0x23c)](_0x1be6ae(0x1db)),'fileUrl':_0x3145e7,'expires_fileUrl':Date['now']()+_0x3274b2};}catch(_0x44e5f9){throw this[_0x1be6ae(0xe0)][_0x1be6ae(0x53e)](this['instanceName']+'\x20('+this[_0x1be6ae(0x6a8)]['wuid']+_0x1be6ae(0x56c)+(_0x44e5f9 instanceof Error?_0x44e5f9['message']:JSON[_0x1be6ae(0x45c)](_0x44e5f9,null,0x2))),new h(_0x44e5f9[_0x1be6ae(0x23c)]());}}async[a0_0x2a4c6a(0x22d)](_0x436dbb,_0x3510fc){const _0x3a5cc9=a0_0x2a4c6a;console[_0x3a5cc9(0x168)](_0x3a5cc9(0x347),__dirname),console[_0x3a5cc9(0x168)]('Original\x20filename:',_0x3510fc);let _0x52270d=P[_0x3a5cc9(0x51f)]['join'](__dirname,_0x3a5cc9(0x4a7));console[_0x3a5cc9(0x168)](_0x3a5cc9(0x6c7),_0x52270d),k['existsSync'](_0x52270d)||(this[_0x3a5cc9(0xe0)]['log'](_0x3a5cc9(0x1cb)),k[_0x3a5cc9(0xb0)](_0x52270d,{'recursive':!0x0}));let _0x4b3c2a=P['default'][_0x3a5cc9(0x404)](_0x52270d,_0x3510fc);return console['log']('Full\x20file\x20path:',_0x4b3c2a),new Promise((_0x13cbb5,_0x5d7352)=>{const _0x5b97d8=_0x3a5cc9;k[_0x5b97d8(0xb2)](_0x4b3c2a,_0x436dbb,_0x2dd262=>{const _0x93fc92=_0x5b97d8;_0x2dd262?(this[_0x93fc92(0xe0)][_0x93fc92(0x53e)](_0x93fc92(0x289)+(_0x2dd262 instanceof Error?_0x2dd262['message']:JSON[_0x93fc92(0x45c)](_0x2dd262,null,0x2))),_0x5d7352(_0x2dd262)):(this[_0x93fc92(0xe0)]['log']('File\x20written\x20to\x20path:\x20'+_0x4b3c2a),_0x13cbb5(_0x4b3c2a));});});}async[a0_0x2a4c6a(0xe7)](_0x9beca){const _0x889165=a0_0x2a4c6a;return await this[_0x889165(0x5a1)][_0x889165(0x2a3)][_0x889165(0x2e9)](_0x9beca,this['instance'][_0x889165(0x617)]);}async[a0_0x2a4c6a(0x226)](){const _0x3cd2fd=a0_0x2a4c6a;return await this[_0x3cd2fd(0x5a1)][_0x3cd2fd(0x4cd)][_0x3cd2fd(0x2e9)]({'where':{}},this[_0x3cd2fd(0x6a8)][_0x3cd2fd(0x617)]);}async['fetchMessages'](_0xd7332d){const _0x180ba0=a0_0x2a4c6a;return await this[_0x180ba0(0x5a1)][_0x180ba0(0x55b)][_0x180ba0(0x2e9)](_0xd7332d,this[_0x180ba0(0x6a8)][_0x180ba0(0x617)]);}async['fetchChats'](){const _0x2ebf36=a0_0x2a4c6a;let _0x1d8299=[{'query':{'where':{'owner':this[_0x2ebf36(0x6a8)][_0x2ebf36(0x617)],'leadInfo.tags':{'$exists':!0x1}}},'update':{'leadInfo':{'tags':[]}}},{'query':{'where':{'owner':this[_0x2ebf36(0x6a8)]['wuid'],'leadInfo.customFields':{'$exists':!0x1}}},'update':{'leadInfo':{'customFields':[]}}}];return await this[_0x2ebf36(0x5a1)][_0x2ebf36(0x633)][_0x2ebf36(0x660)](_0x1d8299),this[_0x2ebf36(0x36e)](),await this[_0x2ebf36(0x5a1)][_0x2ebf36(0x633)]['find']({'where':{}},this[_0x2ebf36(0x6a8)][_0x2ebf36(0x617)]);}async[a0_0x2a4c6a(0x36e)](){const _0x13902c=a0_0x2a4c6a;let _0x202c7d=await this[_0x13902c(0x5a1)]['chat'][_0x13902c(0x2e9)]({'where':{}},this['instance'][_0x13902c(0x617)]);for(let _0x4bfe17 of _0x202c7d)for(let _0x27240b=0x0;_0x27240b<_0x4bfe17['leadInfo'][_0x13902c(0x28d)][_0x13902c(0x378)];_0x27240b++)if(!_0x4bfe17[_0x13902c(0x427)][_0x13902c(0x28d)][_0x27240b][_0x13902c(0x5ed)]){let _0x44b5bf={'where':{'_id':_0x4bfe17[_0x13902c(0x6c3)]}},_0x11b963={[_0x13902c(0x57a)+_0x27240b+_0x13902c(0x6bc)]:_0x4bfe17[_0x13902c(0x6c3)]};await this[_0x13902c(0x5a1)][_0x13902c(0x633)]['updateOne'](_0x44b5bf,_0x11b963,this[_0x13902c(0x6a8)][_0x13902c(0x617)]);}}async[a0_0x2a4c6a(0x295)](_0x16c418){const _0x3aa61e=a0_0x2a4c6a;console['log']('entrou\x20na\x20função\x20importChats2'),console['log'](_0x3aa61e(0x3bc)),console['log'](_0x16c418),console[_0x3aa61e(0x168)]('----------------------------');try{if(!Array[_0x3aa61e(0x403)](_0x16c418)||_0x16c418[_0x3aa61e(0x378)]===0x0)throw new Error(_0x3aa61e(0x215));let _0x484e84=[],_0x30dd97=[];for(let _0x1d7c6e of _0x16c418){if(_0x1d7c6e[_0x3aa61e(0x6c3)])_0x1d7c6e[_0x3aa61e(0x6c3)]=this['createJid'](_0x1d7c6e[_0x3aa61e(0x6c3)]);else continue;await this['repository'][_0x3aa61e(0x633)][_0x3aa61e(0xae)]({'where':{'_id':_0x1d7c6e[_0x3aa61e(0x6c3)]}},this[_0x3aa61e(0x6a8)][_0x3aa61e(0x617)])?_0x30dd97['push']({'_id':_0x1d7c6e[_0x3aa61e(0x6c3)],'leadInfo':_0x1d7c6e[_0x3aa61e(0x427)],'owner':this[_0x3aa61e(0x6a8)]['wuid']}):_0x484e84[_0x3aa61e(0x63a)]({'_id':_0x1d7c6e[_0x3aa61e(0x6c3)],'owner':this['instance'][_0x3aa61e(0x617)],'leadInfo':_0x1d7c6e['leadInfo']});}return _0x30dd97[_0x3aa61e(0x378)]>0x0&&await this[_0x3aa61e(0x5a1)][_0x3aa61e(0x633)]['updateMany'](_0x30dd97[_0x3aa61e(0xfe)](_0x311fb9=>({'query':{'where':{'_id':_0x311fb9['_id'],'owner':this[_0x3aa61e(0x6a8)]['wuid']}},'update':_0x311fb9}))),_0x484e84[_0x3aa61e(0x378)]>0x0&&await this[_0x3aa61e(0x5a1)][_0x3aa61e(0x633)][_0x3aa61e(0x22b)](_0x484e84,this[_0x3aa61e(0x6a8)][_0x3aa61e(0x617)]),{'updated':_0x30dd97['length'],'inserted':_0x484e84[_0x3aa61e(0x378)]};}catch(_0x10dd9f){throw console[_0x3aa61e(0x53e)]('Erro\x20ao\x20importar\x20chats:',_0x10dd9f),_0x10dd9f;}}async[a0_0x2a4c6a(0x18e)](){const _0x1575f1=a0_0x2a4c6a;return await this['client'][_0x1575f1(0x18e)]();}async[a0_0x2a4c6a(0x125)](_0x1a87f8){const _0x5ce2ef=a0_0x2a4c6a;try{return await this[_0x5ce2ef(0x451)][_0x5ce2ef(0x6dd)](_0x1a87f8['privacySettings'][_0x5ce2ef(0x616)]),await this['client'][_0x5ce2ef(0x666)](_0x1a87f8[_0x5ce2ef(0x48a)][_0x5ce2ef(0x175)]),await this['client']['updateStatusPrivacy'](_0x1a87f8[_0x5ce2ef(0x48a)]['status']),await this[_0x5ce2ef(0x451)][_0x5ce2ef(0x5b8)](_0x1a87f8[_0x5ce2ef(0x48a)][_0x5ce2ef(0x26a)]),await this[_0x5ce2ef(0x451)]['updateLastSeenPrivacy'](_0x1a87f8['privacySettings']['last']),await this[_0x5ce2ef(0x451)][_0x5ce2ef(0x6cf)](_0x1a87f8[_0x5ce2ef(0x48a)][_0x5ce2ef(0x680)]),this[_0x5ce2ef(0x451)]?.['ws']?.['close'](),{'update':_0x5ce2ef(0xe2),'data':{'readreceipts':_0x1a87f8[_0x5ce2ef(0x48a)]['readreceipts'],'profile':_0x1a87f8['privacySettings'][_0x5ce2ef(0x175)],'status':_0x1a87f8[_0x5ce2ef(0x48a)][_0x5ce2ef(0x2ad)],'online':_0x1a87f8[_0x5ce2ef(0x48a)][_0x5ce2ef(0x26a)],'last':_0x1a87f8['privacySettings'][_0x5ce2ef(0x281)],'groupadd':_0x1a87f8[_0x5ce2ef(0x48a)]['groupadd']}};}catch(_0x4d3191){throw new O('Error\x20updating\x20privacy\x20settings',_0x4d3191[_0x5ce2ef(0x23c)]());}}async[a0_0x2a4c6a(0x2f4)](_0x1aed2f){const _0x37b9fa=a0_0x2a4c6a;let _0x33e36e=_0x1aed2f?this['createJid'](_0x1aed2f):this[_0x37b9fa(0x451)]?.[_0x37b9fa(0xa2)]?.['id'];this[_0x37b9fa(0xe0)]['verbose']('Getting\x20profile\x20with\x20jid:\x20'+_0x33e36e);try{if(this[_0x37b9fa(0xe0)][_0x37b9fa(0x33d)](_0x37b9fa(0x191)),_0x1aed2f){let _0x38b67b=(await this[_0x37b9fa(0x1e3)]({'numbers':[_0x33e36e]}))?.[_0x37b9fa(0x382)](),_0x4b7bcc=await this[_0x37b9fa(0x4fd)](_0x38b67b?.['jid']),_0x325b13=await this[_0x37b9fa(0xd0)](_0x38b67b?.[_0x37b9fa(0xa5)]),_0x404004=await this[_0x37b9fa(0x1d0)](_0x38b67b?.[_0x37b9fa(0xa5)]);return{'wuid':_0x38b67b?.['jid']||_0x33e36e,'name':_0x38b67b?.[_0x37b9fa(0x194)],'numberExists':_0x38b67b?.['exists'],'picture':_0x4b7bcc?.[_0x37b9fa(0x3dc)],'status':_0x325b13?.[_0x37b9fa(0x2ad)],'isBusiness':_0x404004['isBusiness'],'email':_0x404004?.['email'],'description':_0x404004?.[_0x37b9fa(0x20f)],'website':_0x404004?.[_0x37b9fa(0x618)]?.[_0x37b9fa(0x382)]()};}}catch{return this[_0x37b9fa(0xe0)][_0x37b9fa(0x33d)](_0x37b9fa(0x380)),{'wuid':_0x33e36e,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async['fetchProfile'](_0x603137){const _0x151e7d=a0_0x2a4c6a;let _0x3973aa=(_0x603137?this[_0x151e7d(0x552)](_0x603137):this[_0x151e7d(0x451)]?.[_0x151e7d(0xa2)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0x151e7d(0xe0)][_0x151e7d(0x33d)](_0x151e7d(0x4c0)+_0x3973aa);let _0x2081d5=await this['repository'][_0x151e7d(0x2a3)]['findOne']({'where':{'_id':_0x3973aa}},this[_0x151e7d(0x6a8)][_0x151e7d(0x617)]),_0x29434b=_0x2081d5?_0x2081d5[_0x151e7d(0x377)]:null;try{let _0x572e9d=(await this[_0x151e7d(0x1e3)]({'numbers':[_0x3973aa]}))?.['shift'](),_0x10dcbc=await this[_0x151e7d(0x4fd)](_0x572e9d?.[_0x151e7d(0xa5)]),_0x240529=await this['getStatus'](_0x572e9d?.['jid']),_0x1b3f25=await this[_0x151e7d(0x1d0)](_0x572e9d?.[_0x151e7d(0xa5)]),_0x4a0747={'imagechat':_0x10dcbc?.[_0x151e7d(0x3dc)],'contactname':_0x29434b||null,'status':_0x240529?.[_0x151e7d(0x2ad)],'isBusiness':_0x1b3f25[_0x151e7d(0x68d)],'email':_0x1b3f25?.[_0x151e7d(0x476)],'description':_0x1b3f25?.[_0x151e7d(0x20f)],'website':_0x1b3f25?.['website']?.[_0x151e7d(0x382)](),'lastcache':Date[_0x151e7d(0x4f1)]()},_0x2793c6=await this[_0x151e7d(0x5a1)][_0x151e7d(0x633)]['updateOne']({'where':{'_id':_0x3973aa}},_0x4a0747,this[_0x151e7d(0x6a8)][_0x151e7d(0x617)]),_0x13022e={'owner':this['instance'][_0x151e7d(0x617)],'_id':_0x3973aa,'profilePictureUrl':_0x10dcbc?.['profilePictureUrl'],'status':_0x240529?.[_0x151e7d(0x2ad)]};return this[_0x151e7d(0x5a1)]['contact'][_0x151e7d(0x25a)]([_0x13022e],this[_0x151e7d(0x6a8)][_0x151e7d(0x617)]),_0x2793c6&&j(this[_0x151e7d(0x180)],_0x151e7d(0x40a),{'chat':_0x2793c6}),{'wuid':_0x572e9d?.['jid']||_0x3973aa,'name':_0x572e9d?.[_0x151e7d(0x194)],'numberExists':_0x572e9d?.[_0x151e7d(0x500)],'picture':_0x10dcbc?.[_0x151e7d(0x3dc)],'status':_0x240529?.['status'],'isBusiness':_0x1b3f25[_0x151e7d(0x68d)],'email':_0x1b3f25?.[_0x151e7d(0x476)],'description':_0x1b3f25?.['description'],'website':_0x1b3f25?.['website']?.[_0x151e7d(0x382)]()};}catch(_0x5c2daa){return this['logger'][_0x151e7d(0x53e)]('Error\x20fetching\x20and\x20updating\x20profile:\x20'+(_0x5c2daa instanceof Error?_0x5c2daa[_0x151e7d(0x55b)]:JSON[_0x151e7d(0x45c)](_0x5c2daa,null,0x2))),{};}}async[a0_0x2a4c6a(0x1d0)](_0x4af652){const _0x1f6f8a=a0_0x2a4c6a;this[_0x1f6f8a(0xe0)][_0x1f6f8a(0x33d)](_0x1f6f8a(0x435));try{let _0x3a9780=_0x4af652?this[_0x1f6f8a(0x552)](_0x4af652):this[_0x1f6f8a(0x6a8)][_0x1f6f8a(0x617)],_0x148ff2=await this[_0x1f6f8a(0x451)][_0x1f6f8a(0x338)](_0x3a9780);return this['logger'][_0x1f6f8a(0x33d)](_0x1f6f8a(0x580)),_0x148ff2?(this[_0x1f6f8a(0xe0)][_0x1f6f8a(0x33d)](_0x1f6f8a(0x4ac)),{'isBusiness':!0x0,..._0x148ff2}):{'isBusiness':!0x1,'message':_0x1f6f8a(0x1c1),...(await this[_0x1f6f8a(0x1e3)]({'numbers':[_0x3a9780]}))?.[_0x1f6f8a(0x382)]()};}catch(_0x265b49){throw new O(_0x1f6f8a(0x604),_0x265b49[_0x1f6f8a(0x23c)]());}}async[a0_0x2a4c6a(0xd0)](_0xb5ba9f){const _0x3a8283=a0_0x2a4c6a;let _0x414fd1=this[_0x3a8283(0x552)](_0xb5ba9f);try{return{'wuid':_0x414fd1,'status':(await this[_0x3a8283(0x451)]['fetchStatus'](_0x414fd1))?.[_0x3a8283(0x2ad)]};}catch{return{'wuid':_0x414fd1,'status':null};}}async[a0_0x2a4c6a(0x66b)](_0x2b4421){const _0x211b68=a0_0x2a4c6a;try{return await this['client'][_0x211b68(0x66b)](_0x2b4421),{'update':_0x211b68(0xe2)};}catch(_0x325696){throw new O('Error\x20updating\x20profile\x20name',_0x325696[_0x211b68(0x23c)]());}}async[a0_0x2a4c6a(0x529)](_0x2bd2d5){const _0x54f6bf=a0_0x2a4c6a;try{return await this[_0x54f6bf(0x451)][_0x54f6bf(0x529)](_0x2bd2d5),{'update':'success'};}catch(_0x540282){throw new O(_0x54f6bf(0x14a),_0x540282[_0x54f6bf(0x23c)]());}}async['updateProfilePicture'](_0x638f2c){const _0x2ee985=a0_0x2a4c6a;try{let _0x1c3508;if((0x0,$['isURL'])(_0x638f2c)){let _0x539ebe=new Date()[_0x2ee985(0x34e)](),_0x24866c=_0x638f2c+_0x2ee985(0x1ef)+_0x539ebe;_0x1c3508=(await te[_0x2ee985(0x51f)]['get'](_0x24866c,{'responseType':_0x2ee985(0x47a)}))[_0x2ee985(0x106)];}else{if((0x0,$[_0x2ee985(0x2bf)])(_0x638f2c))_0x1c3508=Buffer[_0x2ee985(0x489)](_0x638f2c,'base64');else throw new h(_0x2ee985(0x251));}return await this['client'][_0x2ee985(0x2d4)](this[_0x2ee985(0x6a8)][_0x2ee985(0x617)],_0x1c3508),{'update':_0x2ee985(0xe2)};}catch(_0x3481ab){throw new O(_0x2ee985(0x1d2),_0x3481ab[_0x2ee985(0x23c)]());}}async[a0_0x2a4c6a(0x502)](){const _0x9012a2=a0_0x2a4c6a;try{return await this[_0x9012a2(0x451)][_0x9012a2(0x502)](this['instance'][_0x9012a2(0x617)]),{'update':_0x9012a2(0xe2)};}catch(_0x454f25){throw new O(_0x9012a2(0x5ab),_0x454f25[_0x9012a2(0x23c)]());}}async[a0_0x2a4c6a(0x279)](_0x40c86f){const _0x494484=a0_0x2a4c6a;try{let _0x4895c6=_0x40c86f[_0x494484(0x357)]['map'](_0x17a9e5=>this[_0x494484(0x552)](_0x17a9e5)),{id:_0x552762}=await this[_0x494484(0x451)][_0x494484(0x553)](_0x40c86f[_0x494484(0x11f)],_0x4895c6);return _0x40c86f?.[_0x494484(0x20f)]&&await this[_0x494484(0x451)][_0x494484(0x681)](_0x552762,_0x40c86f[_0x494484(0x20f)]),{'metadata':await this['client'][_0x494484(0x31f)](_0x552762)};}catch(_0x10276d){throw this[_0x494484(0xe0)][_0x494484(0x53e)](this[_0x494484(0x180)]+'\x20('+this[_0x494484(0x6a8)]['wuid']+_0x494484(0x56c)+(_0x10276d instanceof Error?_0x10276d[_0x494484(0x55b)]:JSON['stringify'](_0x10276d,null,0x2))),new O(_0x494484(0x5c5),_0x10276d[_0x494484(0x23c)]());}}async['updateGroupPicture'](_0x37976d){const _0x8cbf95=a0_0x2a4c6a;try{let _0x3d51d1;if((0x0,$[_0x8cbf95(0x42b)])(_0x37976d[_0x8cbf95(0x2eb)])){let _0x515e76=new Date()[_0x8cbf95(0x34e)](),_0x35b0c9=_0x37976d[_0x8cbf95(0x2eb)]+_0x8cbf95(0x1ef)+_0x515e76;_0x3d51d1=(await te['default'][_0x8cbf95(0x471)](_0x35b0c9,{'responseType':_0x8cbf95(0x47a)}))[_0x8cbf95(0x106)];}else{if((0x0,$['isBase64'])(_0x37976d[_0x8cbf95(0x2eb)]))_0x3d51d1=Buffer[_0x8cbf95(0x489)](_0x37976d['image'],_0x8cbf95(0x1db));else throw new h(_0x8cbf95(0x251));}return await this[_0x8cbf95(0x451)][_0x8cbf95(0x2d4)](_0x37976d[_0x8cbf95(0x137)],_0x3d51d1),{'update':_0x8cbf95(0xe2)};}catch(_0x1d94f4){throw new O('Error\x20update\x20group\x20picture',_0x1d94f4[_0x8cbf95(0x23c)]());}}async['findGroup'](_0x15d2d8,_0x53fbb9='out'){const _0x117aaa=a0_0x2a4c6a;try{let _0x5c9da4=await this[_0x117aaa(0x451)][_0x117aaa(0x31f)](_0x15d2d8['groupJid']),_0x128ee7=null;try{_0x128ee7=(await this[_0x117aaa(0x4fd)](_0x15d2d8[_0x117aaa(0x137)]))['profilePictureUrl'];}catch(_0x4ff66){this[_0x117aaa(0xe0)][_0x117aaa(0x33d)](this['instanceName']+'\x20('+this[_0x117aaa(0x6a8)][_0x117aaa(0x617)]+_0x117aaa(0x346)+_0x15d2d8[_0x117aaa(0x137)]+':\x20'+(_0x4ff66 instanceof Error?_0x4ff66[_0x117aaa(0x55b)]:JSON[_0x117aaa(0x45c)](_0x4ff66,null,0x2)));}let _0x5df63c=await this[_0x117aaa(0x5a1)][_0x117aaa(0x633)][_0x117aaa(0x5ad)]({'where':{'_id':_0x15d2d8[_0x117aaa(0x137)]}},{'imagechat':_0x128ee7,'name':_0x5c9da4[_0x117aaa(0x11f)],'group_size':_0x5c9da4['size'],'group_announce':_0x5c9da4['announce'],'lastcache':Date[_0x117aaa(0x4f1)]()},this['instance']['wuid']);return _0x5df63c&&j(this[_0x117aaa(0x180)],'chats',{'chat':_0x5df63c}),{'metadata':_0x5c9da4,'image':_0x128ee7};}catch(_0x36a5ea){if(_0x53fbb9===_0x117aaa(0x3b4))return;throw new L(_0x117aaa(0x55d),_0x36a5ea['toString']());}}async['groupDesc'](_0x372c86){const _0x1eb488=a0_0x2a4c6a;try{return await this[_0x1eb488(0x451)][_0x1eb488(0x681)](_0x372c86[_0x1eb488(0x137)],_0x372c86[_0x1eb488(0x20f)]),{'update':_0x1eb488(0xe2)};}catch(_0x4a08ea){throw new O('Error\x20change\x20group\x20description',_0x4a08ea[_0x1eb488(0x23c)]());}}async[a0_0x2a4c6a(0x5a0)](_0x464da9){const _0x3db766=a0_0x2a4c6a;try{return await this[_0x3db766(0x451)]['groupUpdateSubject'](_0x464da9[_0x3db766(0x137)],_0x464da9[_0x3db766(0x194)]),{'update':_0x3db766(0xe2)};}catch(_0x4a8397){throw new O(_0x3db766(0x1aa),_0x4a8397['toString']());}}async[a0_0x2a4c6a(0xdd)](_0xabdb8b){const _0x3b786a=a0_0x2a4c6a;try{return await this['client'][_0x3b786a(0x550)](_0xabdb8b[_0x3b786a(0x137)],_0xabdb8b[_0x3b786a(0xd1)]),{'update':_0x3b786a(0xe2)};}catch(_0x17b354){throw new O(_0x3b786a(0x3e4),_0x17b354[_0x3b786a(0x23c)]());}}async[a0_0x2a4c6a(0x480)](){const _0x572492=a0_0x2a4c6a;try{let _0x80a4f9=[],_0xdc3ce9=await this[_0x572492(0x451)][_0x572492(0x1ff)](),_0x5e3d34=Object[_0x572492(0x178)](_0xdc3ce9),_0x3dcb24=_0x5e3d34['filter'](_0x2f7bef=>(0x0,w[_0x572492(0x610)])(_0x2f7bef?.['id']))[_0x572492(0xfe)](async _0x37f42a=>{const _0x486278=_0x572492;try{return await this[_0x486278(0x451)][_0x486278(0x3dc)](_0x37f42a['id'],_0x486278(0x497));}catch(_0x288656){return this[_0x486278(0xe0)]['verbose'](this[_0x486278(0x180)]+'\x20('+this[_0x486278(0x6a8)][_0x486278(0x617)]+_0x486278(0x346)+_0x37f42a['id']+':\x20'+(_0x288656 instanceof Error?_0x288656[_0x486278(0x55b)]:JSON[_0x486278(0x45c)](_0x288656,null,0x2))),null;}}),_0x158474=await Promise['all'](_0x3dcb24);for(let _0xe5ea11=0x0;_0xe5ea11<_0x5e3d34[_0x572492(0x378)];_0xe5ea11++){let _0x4c673b=_0x5e3d34[_0xe5ea11];(0x0,w['isJidGroup'])(_0x4c673b?.['id'])&&_0x80a4f9[_0x572492(0x63a)]({'groupJid':_0x4c673b?.['id'],'subject':_0x4c673b?.[_0x572492(0x11f)],'subjectOwner':_0x4c673b?.['subjectOwner']?.[_0x572492(0xe8)]('@')[0x0],'subjectTime':_0x4c673b?.['subjectTime'],'size':_0x4c673b?.[_0x572492(0x357)]?.[_0x572492(0x378)],'owner':_0x4c673b?.[_0x572492(0x232)]?.[_0x572492(0xe8)]('@')[0x0],'creation':_0x4c673b?.[_0x572492(0xbd)],'desc':_0x4c673b?.[_0x572492(0x68a)],'restrict':_0x4c673b?.[_0x572492(0x43b)],'announce':_0x4c673b?.[_0x572492(0xda)],'image':_0x158474[_0xe5ea11]});}return _0x80a4f9;}catch(_0x30f832){throw new L(_0x572492(0x55d),_0x30f832[_0x572492(0x23c)]());}}async[a0_0x2a4c6a(0x620)](_0x3386f5){const _0x52931c=a0_0x2a4c6a;try{let _0x203b30=await this[_0x52931c(0x451)]['groupInviteCode'](_0x3386f5[_0x52931c(0x137)]);return{'inviteUrl':_0x52931c(0x632)+_0x203b30,'inviteCode':_0x203b30};}catch(_0xcf6046){throw new L(_0x52931c(0x3ff),_0xcf6046[_0x52931c(0x23c)]());}}async[a0_0x2a4c6a(0x16b)](_0x429c74){const _0x34a17e=a0_0x2a4c6a;try{let _0x2f9ba2=await this[_0x34a17e(0x451)]['groupRevokeInvite'](_0x429c74[_0x34a17e(0x137)]);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x2f9ba2,'inviteCode':_0x2f9ba2};}catch(_0x1bbe17){throw new L(_0x34a17e(0x3d8),_0x1bbe17[_0x34a17e(0x23c)]());}}async[a0_0x2a4c6a(0x525)](_0x520c3b){const _0x3700f1=a0_0x2a4c6a;try{if((0x0,$[_0x3700f1(0x42b)])(_0x520c3b[_0x3700f1(0x620)]))var _0x25259b=_0x520c3b['inviteCode']['split']('/')[0x3];else var _0x25259b=_0x520c3b['inviteCode'];let _0x240e8c=await this['client']['groupAcceptInvite'](_0x25259b);return this[_0x3700f1(0xe0)][_0x3700f1(0x33d)](this[_0x3700f1(0x180)]+'\x20('+this['instance'][_0x3700f1(0x617)]+_0x3700f1(0x56c)+_0x240e8c),{'join':!0x0,'inviteCode':_0x25259b,'groupJid':_0x240e8c};}catch(_0x4f1fde){throw new L(_0x3700f1(0x163),_0x4f1fde['toString']());}}async[a0_0x2a4c6a(0x66e)](_0x56a816){const _0x5d2389=a0_0x2a4c6a;try{return{'participants':(await this[_0x5d2389(0x451)][_0x5d2389(0x31f)](_0x56a816[_0x5d2389(0x137)]))[_0x5d2389(0x357)]};}catch(_0x2349ed){throw new L(_0x5d2389(0x446),_0x2349ed[_0x5d2389(0x23c)]());}}async[a0_0x2a4c6a(0x352)](_0x237614){const _0x12194b=a0_0x2a4c6a;try{let _0x1141df=_0x237614[_0x12194b(0x357)][_0x12194b(0xfe)](_0x20dee3=>this[_0x12194b(0x552)](_0x20dee3));return{'updateParticipants':await this[_0x12194b(0x451)][_0x12194b(0x28f)](_0x237614['groupJid'],_0x1141df,_0x237614[_0x12194b(0x5aa)])};}catch(_0x40e7a3){throw new h(_0x12194b(0x286),_0x40e7a3[_0x12194b(0x23c)]());}}async[a0_0x2a4c6a(0x1a0)](_0x9f9de0){const _0x110b02=a0_0x2a4c6a;try{let _0x1f700a=await this[_0x110b02(0x451)][_0x110b02(0x341)](_0x9f9de0['groupJid'],_0x9f9de0[_0x110b02(0x578)]);return{'success':!0x0};}catch(_0x515d75){throw new h(_0x110b02(0x287),_0x515d75[_0x110b02(0x23c)]());}}async[a0_0x2a4c6a(0x183)](_0x255a44){const _0x52f316=a0_0x2a4c6a;try{return await this[_0x52f316(0x451)]['groupLeave'](_0x255a44['groupJid']),{'groupJid':_0x255a44['groupJid'],'leave':!0x0};}catch(_0x345afd){throw new h(_0x52f316(0x594),_0x345afd['toString']());}}async[a0_0x2a4c6a(0x334)](_0x365034){const _0x29e58c=a0_0x2a4c6a;return await this[_0x29e58c(0x288)](_0x365034['number'],{'poll':{'name':_0x365034[_0x29e58c(0x334)]?.[_0x29e58c(0x194)],'selectableCount':_0x365034[_0x29e58c(0x334)]['selectableCount'],'values':_0x365034[_0x29e58c(0x334)][_0x29e58c(0x178)]}},_0x365034?.[_0x29e58c(0xef)]);}async['listMessage'](_0x46a15c){const _0x29cd71=a0_0x2a4c6a;return await this[_0x29cd71(0x288)](_0x46a15c[_0x29cd71(0x1cf)],{'listMessage':{'title':_0x46a15c[_0x29cd71(0x6ba)][_0x29cd71(0x6b4)],'description':_0x46a15c[_0x29cd71(0x6ba)][_0x29cd71(0x20f)],'buttonText':_0x46a15c[_0x29cd71(0x6ba)]?.['buttonText'],'footerText':_0x46a15c['listMessage']?.[_0x29cd71(0x58b)],'sections':_0x46a15c['listMessage']['sections'],'listType':0x2}},_0x46a15c?.[_0x29cd71(0xef)]);}async['menuMessage'](_0x2b3b2b){const _0x30a408=a0_0x2a4c6a;let _0x434e09;if(_0x2b3b2b['menuMessage'][_0x30a408(0x2bb)]===_0x30a408(0xa3)){let _0x62ca14=_0x2b3b2b[_0x30a408(0x507)][_0x30a408(0x3e7)][_0x30a408(0xa9)]('\x0a'),_0x4c6518='',_0x32c325='';_0x62ca14!==-0x1?(_0x4c6518=_0x2b3b2b[_0x30a408(0x507)]['text']['substring'](0x0,_0x62ca14)[_0x30a408(0x308)](),_0x32c325=_0x2b3b2b[_0x30a408(0x507)]['text'][_0x30a408(0x54e)](_0x62ca14+0x1)):_0x32c325=_0x2b3b2b['menuMessage'][_0x30a408(0x3e7)];let _0x451e88=this['createSectionsFromValues'](_0x2b3b2b[_0x30a408(0x507)][_0x30a408(0x4f9)]);_0x434e09={'listMessage':{'title':_0x4c6518,'description':_0x32c325,'buttonText':_0x2b3b2b[_0x30a408(0x507)][_0x30a408(0x68e)]||_0x30a408(0x4db),'footerText':_0x2b3b2b[_0x30a408(0x507)][_0x30a408(0x58b)],'sections':_0x451e88,'listType':0x2}};}else{if(_0x2b3b2b[_0x30a408(0x507)][_0x30a408(0x2bb)]===_0x30a408(0x420)){let _0x3edc05=_0x2b3b2b[_0x30a408(0x507)][_0x30a408(0x4f9)][_0x30a408(0x549)](_0x14309b=>!(_0x14309b[_0x30a408(0x619)]('[')&&_0x14309b[_0x30a408(0x6eb)](']')))['map'](_0x2259cf=>_0x2259cf['split']('\x0a')[0x0]);_0x434e09={'poll':{'name':_0x2b3b2b[_0x30a408(0x507)]['text'],'selectableCount':_0x2b3b2b[_0x30a408(0x507)][_0x30a408(0x1a4)]||0x1,'values':_0x3edc05}};}}return await this['sendMessageWithTyping'](_0x2b3b2b[_0x30a408(0x1cf)],_0x434e09,_0x2b3b2b?.[_0x30a408(0xef)]);}[a0_0x2a4c6a(0x4e3)](_0x2c147d){const _0x2d8b67=a0_0x2a4c6a;let _0xf4bf88=[],_0x1666b1={'rows':[]};return _0x2c147d[_0x2d8b67(0x532)](_0x429a44=>{const _0x958766=_0x2d8b67;if(_0x429a44['startsWith']('[')&&_0x429a44[_0x958766(0x6eb)](']'))_0x1666b1[_0x958766(0x17c)][_0x958766(0x378)]>0x0&&_0xf4bf88[_0x958766(0x63a)](_0x1666b1),_0x1666b1={'title':_0x429a44['slice'](0x1,-0x1),'rows':[]};else{let _0x5a8bd0=_0x429a44[_0x958766(0xe8)]('\x0a')[_0x958766(0xfe)](_0x13490f=>_0x13490f[_0x958766(0x308)]()),_0x59a884=_0x5a8bd0[0x0],_0x38e98e=_0x5a8bd0[0x1]||null,_0x7247e9=_0x5a8bd0[0x2]||_0x59a884;_0x1666b1[_0x958766(0x17c)]['push']({'title':_0x59a884,'description':_0x38e98e,'rowId':_0x7247e9});}}),_0x1666b1[_0x2d8b67(0x17c)][_0x2d8b67(0x378)]>0x0&&_0xf4bf88[_0x2d8b67(0x63a)](_0x1666b1),_0xf4bf88;}async[a0_0x2a4c6a(0x4d7)](_0x1cb5da,_0x2f8007){const _0x741e44=a0_0x2a4c6a;if(await this['getMessage'](_0x1cb5da,!0x0)){let _0x474387={'where':{'_id':_0x1cb5da['id']}},_0x2da35f={'status':[_0x2f8007['status']][0x0]};try{let _0x2fc0f2=await this[_0x741e44(0x5a1)][_0x741e44(0x55b)][_0x741e44(0x25a)](_0x474387,_0x2da35f,this[_0x741e44(0x6a8)][_0x741e44(0x617)]);_0x2fc0f2&&j(this[_0x741e44(0x180)],_0x741e44(0x14c),{'message':_0x2fc0f2});}catch{}}}['sectionsToString'](_0x1aabb2){const _0x57c4a2=a0_0x2a4c6a;let _0x5a30e8=[];return _0x1aabb2[_0x57c4a2(0x532)](_0x30443f=>{const _0x3e47ec=_0x57c4a2;_0x30443f['title']&&_0x5a30e8[_0x3e47ec(0x63a)]('['+_0x30443f[_0x3e47ec(0x6b4)]+']'),_0x30443f['rows']['forEach'](_0x47cf80=>{const _0xefd1ca=_0x3e47ec;let _0x57ac8b=_0x47cf80['title'];_0x47cf80[_0xefd1ca(0x20f)]&&(_0x57ac8b+='\x0a'+_0x47cf80['description']),_0x57ac8b+='\x0a'+_0x47cf80[_0xefd1ca(0x2ef)],_0x5a30e8['push'](_0x57ac8b);});}),_0x5a30e8[_0x57c4a2(0x404)]('|');}['formatVCard'](_0xdd8255){const _0x4c3bce=a0_0x2a4c6a;let _0x294651=_0xdd8255[_0x4c3bce(0x34b)](/\\n/g,'\x0a')['split']('\x0a')[_0x4c3bce(0x549)](_0x345134=>_0x345134[_0x4c3bce(0x587)]('TEL')||_0x345134['includes'](_0x4c3bce(0x3f3))),_0x2ef6d9='';return _0x294651[_0x4c3bce(0x532)](_0x2794e0=>{const _0x504ada=_0x4c3bce;let _0x1226d5=/TEL(?:.*):(.+)/,_0x10be8d=/EMAIL(?:.*):(.+)/,_0x73c5c3=_0x2794e0[_0x504ada(0x4b8)](_0x1226d5),_0x19c0d4=_0x2794e0[_0x504ada(0x4b8)](_0x10be8d);if(_0x73c5c3){let _0x48e19c=_0x73c5c3[0x1][_0x504ada(0x34b)](/-| |\+|\(|\)/g,'')[_0x504ada(0x308)]();_0x2ef6d9+='Telefone:\x20'+_0x48e19c+'\x0a';}else{if(_0x19c0d4){let _0x5f4105=_0x19c0d4[0x1][_0x504ada(0x308)]();_0x2ef6d9+=_0x504ada(0x453)+_0x5f4105+'\x0a';}}}),_0x2ef6d9[_0x4c3bce(0x308)]();}async[a0_0x2a4c6a(0x48d)](_0x2f8f2a,_0x2dfe82,_0x3b4733){const _0x59040a=a0_0x2a4c6a;if(!_0x2f8f2a[_0x59040a(0x351)])return;let _0x36de9f=_0x2dfe82[_0x59040a(0x2d1)][_0x59040a(0x575)]['replace'](/:\d{1,2}@/g,'@'),_0xd8d237=_0x2dfe82[_0x59040a(0x2d1)][_0x59040a(0x122)],_0x107633=_0x36de9f[_0x59040a(0x6eb)]('@g.us'),_0xe2f68a=_0x2dfe82[_0x59040a(0xb4)]?.[_0x59040a(0x3e7)]||_0x2dfe82[_0x59040a(0xb4)]?.[_0x59040a(0x51d)]||_0x2dfe82[_0x59040a(0xb4)]?.['vote']||_0x2dfe82['message_normalized']?.[_0x59040a(0x194)],_0x254dd1={'lastmsg':_0x2dfe82['messageTimestamp']||Date[_0x59040a(0x4f1)](),'unreadcount':_0xd8d237?0x0:0x1,..._0xd8d237||_0x107633?{}:{'name':_0x2dfe82[_0x59040a(0x377)]},..._0x107633?{'group':_0x107633}:{}};if(_0x3b4733==='MESSAGES_UPSERT'&&_0xd8d237&&this[_0x59040a(0x25b)]?.['flowConfig'][_0x59040a(0xd3)]&&!_0xe2f68a[_0x59040a(0x619)](this[_0x59040a(0x25b)]?.['flowConfig']['prefixCommand'])){let _0x34756=(this[_0x59040a(0x25b)]?.[_0x59040a(0x528)][_0x59040a(0x4d3)]||0x5)*0xea60,_0x1c5e50=Date[_0x59040a(0x4f1)]()+_0x34756;_0x254dd1[_0x59040a(0x6b0)]=_0x1c5e50,this[_0x59040a(0xe0)][_0x59040a(0x33d)](this[_0x59040a(0x180)]+'\x20('+this[_0x59040a(0x6a8)][_0x59040a(0x617)]+_0x59040a(0x2a0)+_0x1c5e50+'.');}let _0x34e7c6=await this[_0x59040a(0x5a1)]['chat']['updateOne']({'where':{'_id':_0x36de9f}},_0x254dd1,this[_0x59040a(0x6a8)][_0x59040a(0x617)],{'new':!0x0,'upsert':!0x0});if(!_0x107633&&(!_0x34e7c6?.[_0x59040a(0x427)]||!_0x34e7c6[_0x59040a(0x427)][_0x59040a(0x2b2)])&&_0x2dfe82[_0x59040a(0x377)]&&!_0xd8d237&&await this[_0x59040a(0x5a1)][_0x59040a(0x633)][_0x59040a(0x5ad)]({'where':{'_id':_0x36de9f}},{'leadInfo':{'nome':_0x2dfe82[_0x59040a(0x377)]}},this[_0x59040a(0x6a8)]['wuid'],{'new':!0x0,'upsert':!0x1}),_0x34e7c6)j(this['instanceName'],_0x59040a(0x40a),{'chat':_0x34e7c6});else{this[_0x59040a(0xe0)][_0x59040a(0x53e)](this[_0x59040a(0x180)]+'\x20('+this['instance']['wuid']+_0x59040a(0x27e));return;}if(!this[_0x59040a(0x25b)]?.[_0x59040a(0x528)][_0x59040a(0xd3)])return this[_0x59040a(0xe0)][_0x59040a(0x33d)](this[_0x59040a(0x180)]+'\x20('+this[_0x59040a(0x6a8)][_0x59040a(0x617)]+'):\x20Flow\x20desativado'),null;if(_0x34e7c6[_0x59040a(0x6c3)][_0x59040a(0x587)]('@g.us')&&this[_0x59040a(0x25b)]?.[_0x59040a(0x528)][_0x59040a(0x53a)]===!0x0)return this['logger'][_0x59040a(0x33d)](this[_0x59040a(0x180)]+'\x20('+this[_0x59040a(0x6a8)]['wuid']+_0x59040a(0x6a0)),null;if(_0x34e7c6[_0x59040a(0x427)]){if(_0x34e7c6['leadInfo'][_0x59040a(0x1f0)]===0x0||_0x34e7c6[_0x59040a(0x427)][_0x59040a(0x540)])return this[_0x59040a(0xe0)][_0x59040a(0x33d)](this[_0x59040a(0x180)]+'\x20('+this[_0x59040a(0x6a8)][_0x59040a(0x617)]+_0x59040a(0xd5)+_0x36de9f+_0x59040a(0x2ed)),null;if(_0x34e7c6[_0x59040a(0x427)][_0x59040a(0x1f0)]>Date[_0x59040a(0x4f1)]()&&!_0x2dfe82[_0x59040a(0xb4)]?.[_0x59040a(0x593)])return this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x59040a(0x617)]+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0x34e7c6['leadInfo'][_0x59040a(0x1f0)])[_0x59040a(0x2dc)]()+_0x59040a(0x2ed)),null;}this[_0x59040a(0xe0)][_0x59040a(0x33d)](this[_0x59040a(0x180)]+'\x20('+this[_0x59040a(0x6a8)]['wuid']+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x59040a(0x40e)](_0x3b4733,_0x2dfe82);}async[a0_0x2a4c6a(0x1a3)](_0x4be581,_0xc359){const _0x1f5bd4=a0_0x2a4c6a;if(_0xc359[_0x1f5bd4(0x351)]){let _0x150632=_0x4be581[_0x1f5bd4(0xfe)](async _0x4dfef9=>{const _0x1c6ed5=_0x1f5bd4;try{let _0x2bee75={'_id':_0x4dfef9[_0x1c6ed5(0x6c3)],'owner':_0x4dfef9[_0x1c6ed5(0x232)],'lastcache':0x0};if(_0x4dfef9[_0x1c6ed5(0x1c3)]!==null&&(_0x2bee75[_0x1c6ed5(0x1c3)]=_0x4dfef9[_0x1c6ed5(0x1c3)]),_0x4dfef9[_0x1c6ed5(0x194)]!==null&&(_0x2bee75['name']=_0x4dfef9[_0x1c6ed5(0x194)]),_0x4dfef9['contactname']!==null&&(_0x2bee75[_0x1c6ed5(0x2e2)]=_0x4dfef9[_0x1c6ed5(0x2e2)]),_0x4dfef9[_0x1c6ed5(0x3c0)]!==null&&(_0x2bee75[_0x1c6ed5(0x3c0)]=_0x4dfef9['imagechat']),_0x4dfef9[_0x1c6ed5(0x3c0)]===null&&(_0x2bee75['imagechat']=_0x1c6ed5(0x68c)),_0x4dfef9[_0x1c6ed5(0x3d2)]!==null&&(_0x2bee75[_0x1c6ed5(0x3d2)]=_0x4dfef9[_0x1c6ed5(0x3d2)]),_0x4dfef9[_0x1c6ed5(0x661)]!==null&&(_0x2bee75[_0x1c6ed5(0x661)]=_0x4dfef9[_0x1c6ed5(0x661)]),_0x4dfef9[_0x1c6ed5(0x127)]!==null&&(_0x2bee75[_0x1c6ed5(0x127)]=_0x4dfef9[_0x1c6ed5(0x127)]),Object[_0x1c6ed5(0x592)](_0x2bee75)['length']>0x0)return await this[_0x1c6ed5(0x5a1)][_0x1c6ed5(0x633)][_0x1c6ed5(0x5ad)]({'where':{'_id':_0x4dfef9[_0x1c6ed5(0x6c3)]}},_0x2bee75,this[_0x1c6ed5(0x6a8)][_0x1c6ed5(0x617)]);}catch(_0x1f2503){return console[_0x1c6ed5(0x53e)](_0x1c6ed5(0x672)+_0x4dfef9[_0x1c6ed5(0x6c3)]+':',_0x1f2503),null;}}),_0x1dc530=(await Promise[_0x1f5bd4(0x43f)](_0x150632))[_0x1f5bd4(0x549)](_0x18f371=>_0x18f371!==null)[_0x1f5bd4(0x378)];this['logger']['verbose'](this[_0x1f5bd4(0x180)]+'\x20('+this[_0x1f5bd4(0x6a8)]['wuid']+'):\x20'+_0x1dc530+_0x1f5bd4(0x38d)+this[_0x1f5bd4(0x6a8)][_0x1f5bd4(0x617)]+_0x1f5bd4(0x43c));}}async[a0_0x2a4c6a(0x276)](_0x2c6cf0){const _0x33dd09=a0_0x2a4c6a;this['logger'][_0x33dd09(0x33d)](this[_0x33dd09(0x180)]+'\x20('+this[_0x33dd09(0x6a8)]['wuid']+_0x33dd09(0x15f));let _0x2fe60f={'readMessages':[{'remoteJid':_0x2c6cf0[_0x33dd09(0x27f)][_0x33dd09(0x426)]['key'][_0x33dd09(0x575)],'fromMe':_0x2c6cf0[_0x33dd09(0x27f)][_0x33dd09(0x426)][_0x33dd09(0x2d1)][_0x33dd09(0x122)],'id':_0x2c6cf0[_0x33dd09(0x27f)][_0x33dd09(0x426)][_0x33dd09(0x2d1)]['id']}]};await this[_0x33dd09(0x284)](_0x2fe60f);}async[a0_0x2a4c6a(0x40e)](_0x8694b9,_0x5effda){const _0x2ee6ba=a0_0x2a4c6a;try{let {key:_0x40b11a,message_normalized:_0x2a7225}=_0x5effda,_0x1a1663=_0x2a7225,_0x26ef96=_0x2a7225[_0x2ee6ba(0x3e7)]||_0x2a7225[_0x2ee6ba(0x51d)]||_0x2a7225[_0x2ee6ba(0x593)]||_0x2a7225['name'],_0x2910da=_0x40b11a[_0x2ee6ba(0x575)],_0x484135;if(_0x1a1663[_0x2ee6ba(0x2d1)][_0x2ee6ba(0x122)]&&_0x26ef96[_0x2ee6ba(0x308)]()!==this[_0x2ee6ba(0x25b)]?.[_0x2ee6ba(0x528)][_0x2ee6ba(0x2e6)][_0x2ee6ba(0x308)]())return this[_0x2ee6ba(0xe0)]['verbose'](this[_0x2ee6ba(0x180)]+'\x20('+this[_0x2ee6ba(0x6a8)][_0x2ee6ba(0x617)]+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.'),null;if(_0x1a1663[_0x2ee6ba(0x2d1)][_0x2ee6ba(0x122)]&&_0x26ef96[_0x2ee6ba(0x308)]()===this[_0x2ee6ba(0x25b)]?.[_0x2ee6ba(0x528)][_0x2ee6ba(0x2e6)][_0x2ee6ba(0x308)]()){this[_0x2ee6ba(0xe0)]['verbose'](this['instanceName']+'\x20('+this[_0x2ee6ba(0x6a8)]['wuid']+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo');let _0x2ef675=await this[_0x2ee6ba(0x5a1)]['flowConversation']['find']({'where':{'remoteJid':_0x2910da,'status':_0x2ee6ba(0x35e)}},this[_0x2ee6ba(0x6a8)]['wuid']);this[_0x2ee6ba(0xe0)][_0x2ee6ba(0x33d)](this[_0x2ee6ba(0x180)]+'\x20('+this[_0x2ee6ba(0x6a8)]['wuid']+_0x2ee6ba(0x612)+_0x2ef675);let _0x224858=Date['now'](),_0x9ca850;return this[_0x2ee6ba(0x25b)]?.[_0x2ee6ba(0x528)][_0x2ee6ba(0x440)]===0x0?_0x9ca850={'stoppedUntil':_0x224858+0x7591f6200}:_0x9ca850={'stoppedUntil':_0x224858+this[_0x2ee6ba(0x25b)]?.[_0x2ee6ba(0x528)][_0x2ee6ba(0x440)]*0x3c*0x3e8},this[_0x2ee6ba(0xe0)][_0x2ee6ba(0x33d)](this[_0x2ee6ba(0x180)]+'\x20('+this[_0x2ee6ba(0x6a8)]['wuid']+_0x2ee6ba(0x2b6)+_0x9ca850),this[_0x2ee6ba(0x24b)](_0x484135,_0x9ca850[_0x2ee6ba(0x641)]),null;}if(_0x26ef96&&_0x26ef96[_0x2ee6ba(0x619)](this[_0x2ee6ba(0x25b)]?.[_0x2ee6ba(0x528)][_0x2ee6ba(0x23e)])&&_0x26ef96[_0x2ee6ba(0x378)]>0x4){let _0x5036ad=await this[_0x2ee6ba(0x5a1)]['flow']['findOne']({'where':{'startCommandWord':_0x26ef96}},this['instance'][_0x2ee6ba(0x617)]);if(this[_0x2ee6ba(0xe0)][_0x2ee6ba(0x33d)](this[_0x2ee6ba(0x180)]+'\x20('+this[_0x2ee6ba(0x6a8)]['wuid']+_0x2ee6ba(0x3d0)),_0x5036ad)_0x484135=await this['createNewConversation'](_0x5036ad,_0x1a1663[_0x2ee6ba(0x2d1)],_0x1a1663);else return this[_0x2ee6ba(0xe0)][_0x2ee6ba(0x33d)](this['instanceName']+'\x20('+this[_0x2ee6ba(0x6a8)][_0x2ee6ba(0x617)]+_0x2ee6ba(0xe5)),null;}else _0x484135=await this[_0x2ee6ba(0x13b)](_0x2910da,_0x1a1663);if(_0x484135){this['logger'][_0x2ee6ba(0x33d)](this[_0x2ee6ba(0x180)]+'\x20('+this['instance'][_0x2ee6ba(0x617)]+_0x2ee6ba(0x19f)),!_0x40b11a[_0x2ee6ba(0x122)]&&_0x484135['readMessages']&&this['readMessageBot'](_0x484135);let _0x3091a3=await this[_0x2ee6ba(0x47c)](_0x484135);_0x3091a3&&await this[_0x2ee6ba(0x390)](_0x484135,_0x3091a3);}}catch(_0x592b8f){this[_0x2ee6ba(0xe0)]['error'](this[_0x2ee6ba(0x180)]+'\x20('+this['instance']['wuid']+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+(_0x592b8f instanceof Error?_0x592b8f[_0x2ee6ba(0x55b)]:JSON[_0x2ee6ba(0x45c)](_0x592b8f,null,0x2)));}}['flattenObject'](_0x56968d,_0x305c53='',_0x318cca={},_0x4a86c0=!0x0){const _0x1aa11e=a0_0x2a4c6a;for(let _0x2ff83a in _0x56968d){let _0x495b6d=_0x4a86c0?'_'+_0x2ff83a:''+_0x305c53+_0x2ff83a;typeof _0x56968d[_0x2ff83a]==_0x1aa11e(0x192)&&_0x56968d[_0x2ff83a]!==null?this[_0x1aa11e(0x30b)](_0x56968d[_0x2ff83a],_0x495b6d+'.',_0x318cca,!0x1):_0x318cca[_0x495b6d]=String(_0x56968d[_0x2ff83a]);}return _0x318cca;}['variablesToObject'](_0x37758e){const _0x576225=a0_0x2a4c6a;let _0x9a9b8d={};for(let _0x3452ec of _0x37758e)typeof _0x3452ec['name']==_0x576225(0x55c)&&typeof _0x3452ec[_0x576225(0x519)]==_0x576225(0x55c)&&(_0x9a9b8d[_0x3452ec[_0x576225(0x194)]]=_0x3452ec[_0x576225(0x519)]);return _0x9a9b8d;}async['NextBlock'](_0x20e901){const _0x181cfe=a0_0x2a4c6a;if(!this[_0x181cfe(0x25b)]?.[_0x181cfe(0x528)][_0x181cfe(0xd3)]||_0x20e901[_0x181cfe(0x2ad)]!==_0x181cfe(0x35e)&&_0x20e901[_0x181cfe(0x348)]==='')return null;let _0x20cd34=_0x20e901[_0x181cfe(0x27f)][_0x181cfe(0x1b6)]||_0x181cfe(0x4bd);typeof _0x20e901[_0x181cfe(0x27f)][_0x181cfe(0xd6)]>'u'&&(_0x20e901['chatLog'][_0x181cfe(0xd6)]=!0x0);let _0x586399=_0x20e901[_0x181cfe(0x27f)][_0x181cfe(0xd6)];this[_0x181cfe(0xe0)][_0x181cfe(0x33d)](this[_0x181cfe(0x180)]+'\x20('+this['instance'][_0x181cfe(0x617)]+_0x181cfe(0x62c)+_0x20cd34+_0x181cfe(0x3a8)+_0x586399);let _0x47d043=_0x20cd34===_0x181cfe(0x4bd)?_0x20e901[_0x181cfe(0x19b)][_0x181cfe(0x2e9)](_0x44dddc=>_0x44dddc[_0x181cfe(0x2bb)]==='start'):_0x20e901['blocks'][_0x181cfe(0x2e9)](_0x4edf87=>_0x4edf87[_0x181cfe(0x6c3)][_0x181cfe(0x23c)]()===_0x20cd34[_0x181cfe(0x23c)]());if(!_0x47d043)return this[_0x181cfe(0xe0)][_0x181cfe(0x53e)](this[_0x181cfe(0x180)]+'\x20('+this['instance']['wuid']+_0x181cfe(0x431)+_0x20cd34),null;let _0x5f1754={'_pushName':_0x20e901[_0x181cfe(0x27f)][_0x181cfe(0x426)]['pushName'],..._0x20e901['chatLog'][_0x181cfe(0x6d1)]},_0x5114b8=null;if(_0x20e901['waitingMenu_id']){let _0x36428b=_0x20e901[_0x181cfe(0x27f)]['lastReceivedMessage'][_0x181cfe(0x593)],_0x7a7774=_0x20e901['waitingMenu_replyOptions'][_0x181cfe(0x2e9)](_0x56df03=>_0x56df03[_0x181cfe(0x148)]===_0x36428b);if(_0x7a7774){let _0x1fb0ca=_0x7a7774[_0x181cfe(0x16e)];if(_0x5114b8=_0x20e901[_0x181cfe(0x19b)][_0x181cfe(0x2e9)](_0x1ac72c=>_0x1ac72c[_0x181cfe(0x179)]===_0x1fb0ca&&_0x1ac72c[_0x181cfe(0x2ae)]===0x1),_0x47d043[_0x181cfe(0x321)][_0x181cfe(0x164)]){let _0x3c9721={'id':_0x20e901[_0x181cfe(0x348)],'remoteJid':_0x20e901[_0x181cfe(0x575)],'fromMe':!0x0};await this[_0x181cfe(0x28a)](_0x3c9721);}if(_0x47d043[_0x181cfe(0x321)]['pollOnReplyDelete']&&_0x47d043[_0x181cfe(0x321)][_0x181cfe(0x614)]&&_0x47d043[_0x181cfe(0x321)][_0x181cfe(0x6c0)]===_0x181cfe(0x420)){let _0x5d2174={'number':_0x20e901[_0x181cfe(0x575)],'options':{'delay':0x0},'textMessage':{'text':_0x181cfe(0x10c)+_0x20e901['waitingMenu_text']+_0x181cfe(0x187)+_0x36428b}};await this[_0x181cfe(0x448)](_0x5d2174);}_0x20e901[_0x181cfe(0x2ad)]=_0x181cfe(0x35e),_0x20e901[_0x181cfe(0x348)]='',_0x20e901['waitingMenu_text']='',_0x20e901[_0x181cfe(0x49f)]=[];}else{this[_0x181cfe(0xe0)][_0x181cfe(0x33d)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x181cfe(0x4c5));let _0x27aea6={'activatedCount':_0x20e901[_0x181cfe(0x27f)]['blockLogs']['filter'](_0x2af302=>String(_0x2af302[_0x181cfe(0x298)])===String(_0x20cd34))[_0x181cfe(0x378)],'moreLogs':[_0x181cfe(0xb9)]};if(_0x47d043[_0x181cfe(0x321)][_0x181cfe(0x595)]){let _0x10e25c={'number':_0x20e901[_0x181cfe(0x575)],'options':{'delay':0x0},'textMessage':{'text':_0x47d043[_0x181cfe(0x321)]['pollErrorMessage']}};await this[_0x181cfe(0x448)](_0x10e25c);}if(_0x47d043[_0x181cfe(0x1e6)]!==void 0x0&&_0x27aea6[_0x181cfe(0xab)]>=_0x47d043[_0x181cfe(0x1e6)]){let _0xfd9e84=Date['now'](),_0xaeb554=_0x47d043[_0x181cfe(0x252)]??0xa;isNaN(_0xaeb554)&&(_0xaeb554=0xa);let _0x498598=_0xfd9e84+_0xaeb554*0x3c*0x3e8;_0x27aea6[_0x181cfe(0x28b)]=_0x498598,_0x27aea6[_0x181cfe(0x205)]['push'](_0x181cfe(0x676)),this[_0x181cfe(0x24b)](_0x20e901,_0x498598),_0x20e901[_0x181cfe(0x348)]='',_0x20e901[_0x181cfe(0x494)]='',_0x20e901[_0x181cfe(0x49f)]=[];}return this[_0x181cfe(0x263)](_0x20e901,_0x47d043,_0x27aea6,!0x0),null;}}if(_0x586399&&_0x47d043[_0x181cfe(0x16e)]&&!_0x20e901[_0x181cfe(0x348)]){let _0x590b00=_0x20e901['blocks'][_0x181cfe(0x549)](_0xba9340=>_0xba9340[_0x181cfe(0x179)][_0x181cfe(0x23c)]()===_0x47d043[_0x181cfe(0x16e)][_0x181cfe(0x23c)]())[_0x181cfe(0x38e)]((_0x46a5ae,_0xa55b66)=>_0x46a5ae[_0x181cfe(0x2ae)]-_0xa55b66['order']);_0x590b00[_0x181cfe(0x378)]>0x0&&(_0x5114b8=_0x590b00[0x0]);}if(!_0x5114b8){let _0x4975fe=_0x47d043[_0x181cfe(0x179)],_0x51a590=_0x20e901[_0x181cfe(0x19b)]['filter'](_0x3be136=>_0x3be136[_0x181cfe(0x179)]===_0x4975fe&&_0x3be136[_0x181cfe(0x2ae)]>_0x47d043[_0x181cfe(0x2ae)])[_0x181cfe(0x38e)]((_0x2ff59a,_0x179dee)=>_0x2ff59a[_0x181cfe(0x2ae)]-_0x179dee[_0x181cfe(0x2ae)]);_0x51a590['length']>0x0&&(_0x5114b8=_0x51a590[0x0]);}if(!_0x5114b8)return _0x20e901['status']='closed',null;_0x20e901[_0x181cfe(0x27f)][_0x181cfe(0x6d1)]=_0x5f1754;let _0x4b0472=JSON[_0x181cfe(0x1b8)](JSON[_0x181cfe(0x45c)](_0x5114b8));return this[_0x181cfe(0x4e7)](_0x4b0472,_0x20e901['chatLog'][_0x181cfe(0x6d1)]),_0x20e901[_0x181cfe(0x27f)]['lastBlockId']=_0x4b0472[_0x181cfe(0x6c3)],_0x20e901['chatLog'][_0x181cfe(0xd6)]=!0x0,_0x4b0472;}[a0_0x2a4c6a(0x2b5)](_0x42a57c,_0x57d01e){return _0x42a57c['replace'](/\{\{([^}]+)\}\}/g,(_0x5978b8,_0xb778ec)=>_0x57d01e[_0xb778ec]||'');}['replaceVariablesInObject'](_0x74e0c1,_0x15b39b){const _0x1d5acb=a0_0x2a4c6a;for(let _0x253329 in _0x74e0c1)typeof _0x74e0c1[_0x253329]=='string'?_0x74e0c1[_0x253329]=this['replaceVariables'](_0x74e0c1[_0x253329],_0x15b39b):typeof _0x74e0c1[_0x253329]==_0x1d5acb(0x192)&&this[_0x1d5acb(0x4e7)](_0x74e0c1[_0x253329],_0x15b39b);}async[a0_0x2a4c6a(0x4bb)](_0x193eab,_0x242eba){const _0x23dd3d=a0_0x2a4c6a;let _0x11a1dc=_0x242eba['_id'];if(_0x193eab[_0x23dd3d(0x27f)]&&_0x193eab[_0x23dd3d(0x27f)]['blockLogs']){let _0x3d02b3=_0x193eab[_0x23dd3d(0x27f)][_0x23dd3d(0x19c)]['filter'](_0x4dba9f=>String(_0x4dba9f['blockId'])===String(_0x11a1dc))[_0x23dd3d(0x39d)]();if(_0x3d02b3&&_0x3d02b3[_0x23dd3d(0x53e)]&&_0x242eba[_0x23dd3d(0x114)])return _0x193eab[_0x23dd3d(0x2ad)]=_0x23dd3d(0x1c0),await this[_0x23dd3d(0x153)](_0x193eab),null;}if(_0x242eba[_0x23dd3d(0x2bb)]===_0x23dd3d(0x321)&&_0x242eba[_0x23dd3d(0x321)]['command']===_0x23dd3d(0x414)&&_0x193eab[_0x23dd3d(0x348)])return _0x193eab[_0x23dd3d(0x27f)][_0x23dd3d(0x1b6)]=_0x11a1dc,await this[_0x23dd3d(0x153)](_0x193eab),null;let _0x49c9fe=await this['NextBlock'](_0x193eab);if(_0x193eab[_0x23dd3d(0x27f)]&&_0x193eab[_0x23dd3d(0x27f)][_0x23dd3d(0x19c)]){let _0xf5922d=_0x193eab[_0x23dd3d(0x27f)][_0x23dd3d(0x19c)][_0x23dd3d(0x549)](_0x595097=>String(_0x595097[_0x23dd3d(0x298)])===String(_0x11a1dc))[_0x23dd3d(0x378)];if(_0x242eba[_0x23dd3d(0x1e6)]!==void 0x0&&_0xf5922d>=_0x242eba['maxActives']){let _0x1c55d4=Date[_0x23dd3d(0x4f1)](),_0x1ca85d=_0x242eba[_0x23dd3d(0x252)]??0xa;isNaN(_0x1ca85d)&&(_0x1ca85d=0xa);let _0x3f4543=_0x1c55d4+_0x1ca85d*0x3c*0x3e8,_0x4a0f2d={'newStoppedUntil':_0x3f4543};return this[_0x23dd3d(0x24b)](_0x193eab,_0x3f4543),this[_0x23dd3d(0x263)](_0x193eab,_0x242eba,_0x4a0f2d,!0x0),null;}}_0x49c9fe&&_0x49c9fe[_0x23dd3d(0x2bb)]!==_0x23dd3d(0x36f)&&await this[_0x23dd3d(0x390)](_0x193eab,_0x49c9fe),_0x49c9fe||await this['saveConversationToDatabase'](_0x193eab),_0x49c9fe&&_0x49c9fe[_0x23dd3d(0x2bb)]==='save'&&(_0x193eab[_0x23dd3d(0x27f)][_0x23dd3d(0x1b6)]=_0x11a1dc,await this[_0x23dd3d(0x153)](_0x193eab));}async[a0_0x2a4c6a(0x390)](_0x34dbe9,_0xcc618c){const _0x547bdc=a0_0x2a4c6a;try{let _0x2520dd=_0xcc618c['type'];this[_0x547bdc(0xe0)][_0x547bdc(0x33d)](this[_0x547bdc(0x180)]+'\x20('+this[_0x547bdc(0x6a8)][_0x547bdc(0x617)]+_0x547bdc(0x61e)+_0x2520dd);let _0xa81e63={'uazapi':()=>this[_0x547bdc(0x1ee)](_0x34dbe9,_0xcc618c),'save':()=>this[_0x547bdc(0x4c1)](_0x34dbe9,_0xcc618c),'stop':()=>this['stopConversation'](_0x34dbe9,_0xcc618c),'condition':()=>this[_0x547bdc(0x3d4)](_0x34dbe9,_0xcc618c),'varedit':()=>this['processvaredits'](_0x34dbe9,_0xcc618c),'apirequest':()=>this[_0x547bdc(0x5ae)](_0x34dbe9,_0xcc618c),'goToFlow':()=>this[_0x547bdc(0x67f)](_0x34dbe9,_0xcc618c)}[_0x2520dd];_0xa81e63&&await _0xa81e63();}catch(_0x35c13e){this[_0x547bdc(0xe0)][_0x547bdc(0x53e)](this['instanceName']+'\x20('+this[_0x547bdc(0x6a8)][_0x547bdc(0x617)]+_0x547bdc(0x31a)+(_0x35c13e instanceof Error?_0x35c13e[_0x547bdc(0x55b)]:JSON[_0x547bdc(0x45c)](_0x35c13e,null,0x2)));}}async[a0_0x2a4c6a(0x67f)](_0x2b3c64,_0x239e23){const _0x47e783=a0_0x2a4c6a;if(this[_0x47e783(0xe0)][_0x47e783(0x33d)](this['instanceName']+'\x20('+this[_0x47e783(0x6a8)][_0x47e783(0x617)]+_0x47e783(0xf4)),!_0x2b3c64||!_0x239e23)return this[_0x47e783(0xe0)][_0x47e783(0x53e)](this[_0x47e783(0x180)]+'\x20('+this['instance']['wuid']+_0x47e783(0x450)),null;await this[_0x47e783(0x263)](_0x2b3c64,_0x239e23,{},!0x0,!0x0),console[_0x47e783(0x168)](_0x47e783(0x26e)),console[_0x47e783(0x168)](_0x239e23);let _0x1f1438=_0x239e23[_0x47e783(0x207)];console[_0x47e783(0x168)](_0x47e783(0x58e),_0x1f1438),_0x2b3c64=await this[_0x47e783(0x5a2)](_0x1f1438,_0x2b3c64[_0x47e783(0x575)],_0x2b3c64['chatLog']['realVariables']),this[_0x47e783(0xe0)][_0x47e783(0x33d)](this['instanceName']+'\x20('+this[_0x47e783(0x6a8)][_0x47e783(0x617)]+_0x47e783(0x368));let _0x24a2c1=await this['NextBlock'](_0x2b3c64);_0x24a2c1&&await this[_0x47e783(0x390)](_0x2b3c64,_0x24a2c1);}async[a0_0x2a4c6a(0x5a2)](_0x29b92f,_0x4db86f,_0x20db85){const _0x40fce5=a0_0x2a4c6a;this[_0x40fce5(0xe0)][_0x40fce5(0x33d)](this[_0x40fce5(0x180)]+'\x20('+this[_0x40fce5(0x6a8)][_0x40fce5(0x617)]+_0x40fce5(0x261));try{if(_0x29b92f=await this['repository'][_0x40fce5(0x231)]['findOne']({'where':{'name':_0x29b92f}},this[_0x40fce5(0x6a8)]['wuid']),!_0x29b92f)return this[_0x40fce5(0xe0)][_0x40fce5(0x53e)](this[_0x40fce5(0x180)]+'\x20('+this['instance'][_0x40fce5(0x617)]+_0x40fce5(0x2cb)),null;let _0x26585f=require('mongodb')[_0x40fce5(0x3cf)],_0x7f7e48=Date[_0x40fce5(0x4f1)](),_0x30884c=_0x40fce5(0x4bd),_0x542c5a={},_0x31a3c3={},_0x28e874={..._0x29b92f,'chatLog':null},_0x577c50={'lastReceivedMessage':_0x542c5a,'lastSendMessage':_0x31a3c3,'lastBlockId':_0x30884c,'lastCondition':!0x0,'realVariables':_0x20db85};_0x28e874['chatLog']=_0x577c50,_0x28e874[_0x40fce5(0x27f)][_0x40fce5(0x6d1)]={..._0x20db85},delete _0x28e874[_0x40fce5(0x6c3)],_0x28e874[_0x40fce5(0x6c3)]=new _0x26585f(),_0x28e874[_0x40fce5(0x29d)]=_0x7f7e48,_0x28e874[_0x40fce5(0x2ad)]=_0x40fce5(0x35e),_0x28e874[_0x40fce5(0x575)]=_0x4db86f;let _0x357ada=await this[_0x40fce5(0x5a1)][_0x40fce5(0x467)][_0x40fce5(0x5ad)](_0x28e874[_0x40fce5(0x6c3)],_0x28e874,this[_0x40fce5(0x6a8)][_0x40fce5(0x617)]);return this[_0x40fce5(0xe0)][_0x40fce5(0x33d)](this[_0x40fce5(0x180)]+'\x20('+this[_0x40fce5(0x6a8)][_0x40fce5(0x617)]+_0x40fce5(0x596)),_0x357ada?_0x28e874:null;}catch(_0x1b0c50){throw this[_0x40fce5(0xe0)][_0x40fce5(0x53e)](this[_0x40fce5(0x180)]+'\x20('+this['instance'][_0x40fce5(0x617)]+_0x40fce5(0x456)+(_0x1b0c50 instanceof Error?_0x1b0c50[_0x40fce5(0x55b)]:JSON[_0x40fce5(0x45c)](_0x1b0c50,null,0x2))),new h(_0x1b0c50[_0x40fce5(0x55b)]);}}async[a0_0x2a4c6a(0x5ae)](_0x201e58,_0x11b758){const _0x140cee=a0_0x2a4c6a;let _0x5a4bd2,_0x54cb3e;try{let _0x15f311=_0x11b758['apirequest'];if(!_0x15f311||!_0x15f311[_0x140cee(0x548)]||!_0x15f311[_0x140cee(0x3eb)])throw new Error('Falta\x20informação\x20para\x20a\x20chamada\x20API');let _0x396813={'method':_0x15f311[_0x140cee(0x3eb)],'url':_0x15f311[_0x140cee(0x548)],'headers':_0x15f311['header']||{},'data':_0x15f311[_0x140cee(0x18c)]||{}},_0x577f6e=await(0x0,te[_0x140cee(0x51f)])(_0x396813),_0x575caa=_0x577f6e[_0x140cee(0x425)][_0x140cee(0x481)];if(_0x575caa&&_0x575caa[_0x140cee(0x587)](_0x140cee(0x4f3))){_0x5a4bd2=_0x577f6e[_0x140cee(0x106)];let _0xd8562a=_0x201e58[_0x140cee(0x27f)]['realVariables'],_0x405c41=this[_0x140cee(0x30b)](_0x5a4bd2);return Object['assign'](_0xd8562a,_0x405c41),_0x201e58['chatLog'][_0x140cee(0x6d1)]=_0xd8562a,_0x54cb3e={'error':!0x1,'apiResponse':_0x5a4bd2},this[_0x140cee(0x263)](_0x201e58,_0x11b758,_0x54cb3e),_0x5a4bd2;}else{if(_0x575caa&&(_0x575caa[_0x140cee(0x587)](_0x140cee(0x3e0))||_0x575caa[_0x140cee(0x587)](_0x140cee(0x2eb))||_0x575caa[_0x140cee(0x587)](_0x140cee(0x22f))||_0x575caa['includes'](_0x140cee(0x2f2)))){let _0x22d2f8=''+(0x0,me['v4'])(),_0x227c57=_0x577f6e['headers'][_0x140cee(0x3be)];if(_0x227c57){let _0x4fc13f=_0x227c57[_0x140cee(0x4b8)](/filename="?(.+)"?/);if(_0x4fc13f&&_0x4fc13f[0x1]){let _0x2ee53f=_0x4fc13f[0x1],_0x1bbc0f=P[_0x140cee(0x51f)][_0x140cee(0x6ab)](_0x2ee53f);_0x22d2f8=''+(0x0,me['v4'])()+_0x1bbc0f;}}let _0x199d8b=this['configService']['get'](_0x140cee(0x4ad))[_0x140cee(0x274)];if(!_0x199d8b){let _0x2ef864=this[_0x140cee(0x5c8)][_0x140cee(0x471)](_0x140cee(0xb1));_0x199d8b=_0x140cee(0x636)+(_0x2ef864&&_0x2ef864['FULLCHAIN']['split']('/')[0x4]);}let _0x27ce67=Buffer[_0x140cee(0x489)](_0x577f6e[_0x140cee(0x106)]);await this[_0x140cee(0x22d)](_0x27ce67,_0x22d2f8);let _0x423333='/media/'+_0x22d2f8;return _0x423333=''+_0x199d8b+_0x423333,_0x5a4bd2={'fileUrl':_0x423333},_0x201e58['chatLog'][_0x140cee(0x6d1)][_0x140cee(0xcc)]=_0x423333,_0x54cb3e={'error':!0x1,'apiResponse':{'fileUrl':_0x423333}},this[_0x140cee(0x263)](_0x201e58,_0x11b758,_0x54cb3e),_0x5a4bd2;}}}catch(_0x409b95){console['error'](_0x140cee(0x1a6),_0x409b95),_0x409b95[_0x140cee(0x63f)]&&(_0x5a4bd2=_0x409b95[_0x140cee(0x63f)][_0x140cee(0x106)]);let _0x48a778=_0x201e58[_0x140cee(0x27f)]['realVariables'],_0xd666ec=this[_0x140cee(0x30b)](_0x5a4bd2);return Object[_0x140cee(0x4d0)](_0x48a778,_0xd666ec),_0x201e58[_0x140cee(0x27f)][_0x140cee(0x6d1)]=_0x48a778,_0x54cb3e={'error':!0x0,'errorLog':_0x409b95[_0x140cee(0x23c)](),'apiResponse':_0x5a4bd2},this[_0x140cee(0x263)](_0x201e58,_0x11b758,_0x54cb3e),{'success':!0x1};}}[a0_0x2a4c6a(0x3c3)](_0x3ee2ed,_0x56b304){const _0x4e0c73=a0_0x2a4c6a;let _0x37acce=_0x4865cf=>{const _0x2f6c85=a0_0x5ebe;let _0xe2a26=_0x4865cf['replace'](/[^0-9.,-]/g,'')[_0x2f6c85(0x34b)](',','.'),_0x43421b=parseFloat(_0xe2a26);return isNaN(_0x43421b)?null:_0x43421b;},_0x4e45f9=_0x56b304[_0x4e0c73(0x542)],_0x50444c=_0x56b304[_0x4e0c73(0x2cc)];typeof _0x4e45f9=='string'&&(_0x4e45f9=this[_0x4e0c73(0x2b5)](_0x4e45f9,_0x3ee2ed[_0x4e0c73(0x27f)][_0x4e0c73(0x6d1)])??''),typeof _0x50444c=='string'&&(_0x50444c=this[_0x4e0c73(0x2b5)](_0x50444c,_0x3ee2ed[_0x4e0c73(0x27f)][_0x4e0c73(0x6d1)])??'');let _0x2705d2=null;if(!_0x56b304[_0x4e0c73(0x63d)])return null;switch(this[_0x4e0c73(0xe0)][_0x4e0c73(0x33d)](this['instanceName']+'\x20('+this[_0x4e0c73(0x6a8)][_0x4e0c73(0x617)]+_0x4e0c73(0x462)+_0x4e45f9),this[_0x4e0c73(0xe0)]['verbose'](this[_0x4e0c73(0x180)]+'\x20('+this[_0x4e0c73(0x6a8)][_0x4e0c73(0x617)]+_0x4e0c73(0x336)+_0x50444c),_0x56b304['editOperator']){case'+':case'-':case'*':case'/':let _0xfdc8af=_0x37acce(_0x4e45f9||'0'),_0x28409f=_0x37acce(_0x50444c||'0');if(_0xfdc8af===null)return null;switch(_0x56b304[_0x4e0c73(0x63d)]){case'+':_0x2705d2=_0xfdc8af+(_0x28409f??0x0);break;case'-':_0x2705d2=_0xfdc8af-(_0x28409f??0x0);break;case'*':_0x2705d2=_0xfdc8af*(_0x28409f??0x1);break;case'/':_0x28409f!==0x0&&(_0x2705d2=_0xfdc8af/(_0x28409f??0x1));break;}break;case _0x4e0c73(0xe6):case _0x4e0c73(0x5b5):let _0x3fd088=_0x50444c,_0x263da5=_0x56b304[_0x4e0c73(0x140)];if(typeof _0x263da5==_0x4e0c73(0x55c)&&(_0x263da5=this[_0x4e0c73(0x2b5)](_0x263da5,_0x3ee2ed['chatLog'][_0x4e0c73(0x6d1)])??''),_0x3fd088&&_0x263da5!==void 0x0){let _0x4e6f3d=_0x56b304[_0x4e0c73(0x63d)]===_0x4e0c73(0xe6)?new RegExp(_0x3fd088[_0x4e0c73(0x34b)](/[-\/\\^$*+?.()|[\]{}]/g,_0x4e0c73(0x20b)),'g'):new RegExp(_0x3fd088,'g');_0x2705d2=_0x4e45f9[_0x4e0c73(0x34b)](_0x4e6f3d,_0x263da5);}else console['warn']('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case'setNewValue':_0x2705d2=_0x50444c;break;case'extractRegex':let _0x3d1a27=_0x4e45f9[_0x4e0c73(0x4b8)](new RegExp(_0x50444c||''));_0x2705d2=_0x3d1a27?_0x3d1a27[0x0]:'';break;case _0x4e0c73(0x6a4):_0x2705d2=_0x4e45f9[_0x4e0c73(0x211)](0x0,parseInt(_0x50444c||'0'));break;case _0x4e0c73(0x65c):let _0x14a062=parseInt(_0x50444c||'0');_0x2705d2=_0x4e45f9['slice'](_0x4e45f9[_0x4e0c73(0x378)]-_0x14a062);break;case _0x4e0c73(0x662):let _0x10db08=_0x37acce(_0x4e45f9),_0x458802=parseInt(_0x50444c||'0');_0x458802=Math[_0x4e0c73(0x128)](_0x458802),_0x10db08!==null?_0x2705d2=_0x10db08[_0x4e0c73(0x2dc)](_0x4e0c73(0x5a7),{'minimumFractionDigits':_0x458802,'maximumFractionDigits':_0x458802}):(console[_0x4e0c73(0x399)](_0x4e0c73(0x311)+_0x4e45f9),_0x2705d2=null);break;case'toBRL':let _0x3a8115=_0x37acce(_0x4e45f9);_0x3a8115!==null?_0x2705d2=_0x3a8115['toLocaleString'](_0x4e0c73(0x5a7),{'style':'currency','currency':_0x4e0c73(0x570)}):(console[_0x4e0c73(0x399)](_0x4e0c73(0x6ae)+_0x4e45f9),_0x2705d2=null);break;case'upperCase':_0x2705d2=_0x4e45f9['toUpperCase']();break;case'lowerCase':_0x2705d2=_0x4e45f9[_0x4e0c73(0x3b2)]();break;case _0x4e0c73(0x5dc):_0x2705d2=_0x4e45f9[_0x4e0c73(0xe8)]('\x20')[_0x4e0c73(0xfe)](_0x2b7c21=>_0x2b7c21[_0x4e0c73(0x3f7)](0x0)[_0x4e0c73(0x487)]()+_0x2b7c21[_0x4e0c73(0x211)](0x1)[_0x4e0c73(0x3b2)]())['join']('\x20');break;case _0x4e0c73(0x602):_0x2705d2=_0x4e45f9[_0x4e0c73(0x308)]();break;default:_0x2705d2=_0x4e45f9;}return _0x2705d2!==null?_0x2705d2['toString']():null;}async['processvaredits'](_0x2aff53,_0x475947){const _0x7401=a0_0x2a4c6a;try{let _0x3bdf26=_0x2aff53[_0x7401(0x3de)]?.[_0x7401(0x549)](_0x3fd564=>_0x3fd564[_0x7401(0x298)]===_0x475947[_0x7401(0x6c3)]?.[_0x7401(0x23c)]())||[],_0x2f6fde=_0x475947[_0x7401(0x3d7)],_0x534df9=null,_0xf19aa4=[],_0x463736=_0x2aff53[_0x7401(0x27f)][_0x7401(0x6d1)][_0x2f6fde];_0xf19aa4['push'](_0x7401(0x588)+_0x463736+'\x22');for(let _0x331cb7 of _0x3bdf26){_0x331cb7[_0x7401(0x542)]=_0x463736,_0x534df9=_0x331cb7[_0x7401(0x542)];let _0x6c6a3d;try{_0x6c6a3d=this[_0x7401(0x3c3)](_0x2aff53,_0x331cb7);}catch(_0x548f79){console[_0x7401(0x53e)](_0x7401(0x25e)+_0x548f79[_0x7401(0x55b)]);continue;}if(_0x6c6a3d!==null){let _0xbf5825=_0x7401(0x67b)+_0x331cb7[_0x7401(0x63d)]+'\x22',_0x1c9970=[_0x7401(0x35c),_0x7401(0x6e0),_0x7401(0xc7),_0x7401(0x5dc),_0x7401(0x602)];_0x331cb7[_0x7401(0x63d)]===_0x7401(0xe6)||_0x331cb7[_0x7401(0x63d)]===_0x7401(0x5b5)?_0xbf5825+=_0x7401(0x4a4)+_0x331cb7[_0x7401(0x2cc)]+_0x7401(0x566)+_0x331cb7[_0x7401(0x140)]+'\x22':!_0x1c9970[_0x7401(0x587)](_0x331cb7['editOperator'])&&_0x331cb7[_0x7401(0x2cc)]!==null&&_0x331cb7[_0x7401(0x2cc)]!==void 0x0&&(_0xbf5825+=',\x20valor\x20passado:\x20\x22'+_0x331cb7[_0x7401(0x2cc)]+'\x22'),_0xbf5825+=_0x7401(0x36a)+_0x6c6a3d+'.',_0xf19aa4[_0x7401(0x63a)](_0xbf5825);}_0x6c6a3d!==null&&(_0x463736=_0x6c6a3d);}if(_0x2aff53[_0x7401(0x27f)]['realVariables']&&_0x475947[_0x7401(0x3d7)]){_0x2aff53[_0x7401(0x27f)][_0x7401(0x6d1)][_0x475947[_0x7401(0x3d7)]]=_0x463736;let _0x41cf52={'variable':_0x475947[_0x7401(0x3d7)],'oldValue':_0x534df9,'newValue':_0x463736,'moreLogs':_0xf19aa4};try{this['updateConversation'](_0x2aff53,_0x475947,_0x41cf52);}catch(_0x4fd067){console[_0x7401(0x53e)](_0x7401(0x2a2)+_0x4fd067[_0x7401(0x55b)]);}}return _0x2f6fde;}catch(_0x4fa762){return console['error']('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x4fa762[_0x7401(0x55b)]),null;}}async[a0_0x2a4c6a(0x3d4)](_0x35acba,_0x51de8d){const _0x18a3ad=a0_0x2a4c6a;try{let _0x95bd7b=[],_0xb4db6e=_0x35acba[_0x18a3ad(0x35d)][_0x18a3ad(0x549)](_0x1e57ac=>_0x1e57ac[_0x18a3ad(0x298)]===_0x51de8d['_id'][_0x18a3ad(0x23c)]()),_0x26641c=null,_0x43f1f2=!0x1;for(let _0x2778e6 of _0xb4db6e){let _0x5755e8=this['evaluateCondition'](_0x35acba,_0x2778e6);_0x95bd7b['push']('Primeiro\x20Valor:\x20'+_0x2778e6['firstValue']+_0x18a3ad(0x642)+_0x2778e6['expression']+_0x18a3ad(0x5bb)+_0x2778e6[_0x18a3ad(0x2cc)]+_0x18a3ad(0x5f5)+_0x5755e8),_0x26641c===null?_0x26641c=_0x5755e8:_0x2778e6[_0x18a3ad(0x1b4)]===_0x18a3ad(0x699)?(_0x26641c=_0x26641c&&_0x5755e8,_0x5755e8||(_0x43f1f2=!0x0)):_0x2778e6[_0x18a3ad(0x1b4)]==='or'&&(_0x43f1f2||(_0x26641c=_0x26641c||_0x5755e8));}_0x26641c===null&&(_0x26641c=!0x0);let _0xa9e3fb={'moreLogs':_0x95bd7b};_0x35acba[_0x18a3ad(0x27f)]['lastCondition']=_0x26641c,await this[_0x18a3ad(0x263)](_0x35acba,_0x51de8d,_0xa9e3fb);}catch(_0xfc2fde){this[_0x18a3ad(0xe0)]['error'](this[_0x18a3ad(0x180)]+'\x20('+this[_0x18a3ad(0x6a8)][_0x18a3ad(0x617)]+_0x18a3ad(0x17b)+(_0xfc2fde instanceof Error?_0xfc2fde[_0x18a3ad(0x55b)]:JSON[_0x18a3ad(0x45c)](_0xfc2fde,null,0x2)));}}[a0_0x2a4c6a(0x6ea)](_0x2964f1,_0x477387){const _0x2ac46e=a0_0x2a4c6a;let _0x301bff=_0x477387[_0x2ac46e(0x542)],_0xd3e593=_0x477387[_0x2ac46e(0x2cc)];typeof _0x301bff=='string'&&(_0x301bff=this[_0x2ac46e(0x2b5)](_0x301bff,_0x2964f1['chatLog'][_0x2ac46e(0x6d1)])??''),typeof _0xd3e593=='string'&&(_0xd3e593=this[_0x2ac46e(0x2b5)](_0xd3e593,_0x2964f1['chatLog'][_0x2ac46e(0x6d1)])??'');try{switch(_0x477387[_0x2ac46e(0x669)]){case _0x2ac46e(0x6e2):return _0x301bff===_0xd3e593;case _0x2ac46e(0x2e4):return _0x301bff!==_0xd3e593;case _0x2ac46e(0x323):return _0x301bff['includes'](_0xd3e593);case _0x2ac46e(0xf8):return!_0x301bff[_0x2ac46e(0x587)](_0xd3e593);case _0x2ac46e(0x22a):return parseFloat(_0x301bff)>parseFloat(_0xd3e593);case _0x2ac46e(0x536):return parseFloat(_0x301bff)<parseFloat(_0xd3e593);case'notEmpty':return _0x301bff!=='';case _0x2ac46e(0x34f):return _0x301bff==='';case _0x2ac46e(0x461):return new RegExp(_0xd3e593)[_0x2ac46e(0x64b)](_0x301bff);case'notMatchRegex':return!new RegExp(_0xd3e593)['test'](_0x301bff);default:return!0x1;}}catch(_0x435db8){return console[_0x2ac46e(0x53e)](_0x2ac46e(0x65b)+_0x435db8),!0x1;}}[a0_0x2a4c6a(0x439)](_0x4aebf7){const _0x2cd47f=a0_0x2a4c6a;let _0x111595=!0x0,_0x516455=null;for(let _0x51990d of _0x4aebf7){let _0x35d6ff=this[_0x2cd47f(0x33a)](_0x51990d);if(_0x516455==='or'&&_0x35d6ff){_0x111595=!0x0;break;}if(_0x516455===_0x2cd47f(0x699)&&!_0x35d6ff){_0x111595=!0x1;break;}_0x516455=_0x51990d[_0x2cd47f(0x1b4)];}return _0x111595;}[a0_0x2a4c6a(0x33a)](_0x31483f){const _0x5596c0=a0_0x2a4c6a;let _0x5cd948=_0x31483f['firstValue'],_0x1ef358=_0x31483f[_0x5596c0(0x2cc)];try{switch(_0x31483f[_0x5596c0(0x669)]){case _0x5596c0(0x6e2):return String(_0x5cd948)===String(_0x1ef358);case _0x5596c0(0x2e4):return String(_0x5cd948)!==String(_0x1ef358);case'contains':return String(_0x5cd948)[_0x5596c0(0x587)](String(_0x1ef358));case _0x5596c0(0xf8):return!String(_0x5cd948)[_0x5596c0(0x587)](String(_0x1ef358));case _0x5596c0(0x22a):return parseFloat(String(_0x5cd948))>parseFloat(String(_0x1ef358));case _0x5596c0(0x536):return parseFloat(String(_0x5cd948))<parseFloat(String(_0x1ef358));case _0x5596c0(0x18f):return String(_0x5cd948)!=='';case _0x5596c0(0x34f):return String(_0x5cd948)==='';case _0x5596c0(0x461):return new RegExp(String(_0x1ef358))[_0x5596c0(0x64b)](String(_0x5cd948));case _0x5596c0(0xe3):return!new RegExp(String(_0x1ef358))['test'](String(_0x5cd948));default:return!0x1;}}catch(_0x4107d2){return console['error'](_0x5596c0(0x65b)+_0x4107d2),!0x1;}}async['saveTextReply'](_0x5bb7ee,_0x472526){const _0x4ab6aa=a0_0x2a4c6a;if(this[_0x4ab6aa(0xe0)][_0x4ab6aa(0x33d)](this[_0x4ab6aa(0x180)]+'\x20('+this[_0x4ab6aa(0x6a8)][_0x4ab6aa(0x617)]+_0x4ab6aa(0xad)),!_0x5bb7ee||!_0x472526)return this[_0x4ab6aa(0xe0)]['error'](this[_0x4ab6aa(0x180)]+'\x20('+this[_0x4ab6aa(0x6a8)]['wuid']+_0x4ab6aa(0x450)),null;let _0x4407bc=_0x472526[_0x4ab6aa(0x3d7)],_0x1c9066=_0x5bb7ee[_0x4ab6aa(0x27f)][_0x4ab6aa(0x426)][_0x4ab6aa(0x3e7)]||_0x5bb7ee[_0x4ab6aa(0x27f)]['lastReceivedMessage']['caption']||_0x5bb7ee['chatLog'][_0x4ab6aa(0x426)][_0x4ab6aa(0x593)];try{_0x5bb7ee[_0x4ab6aa(0x27f)][_0x4ab6aa(0x6d1)]||(_0x5bb7ee[_0x4ab6aa(0x27f)][_0x4ab6aa(0x6d1)]={});let _0x4b5d02=_0x5bb7ee['chatLog'][_0x4ab6aa(0x6d1)][_0x4407bc];_0x5bb7ee[_0x4ab6aa(0x27f)][_0x4ab6aa(0x6d1)][_0x4407bc]=_0x1c9066;let _0x45e389={'variable':_0x4407bc,'oldValue':_0x4b5d02,'newValue':_0x1c9066};this['updateConversation'](_0x5bb7ee,_0x472526,_0x45e389),this[_0x4ab6aa(0xe0)][_0x4ab6aa(0x33d)](this[_0x4ab6aa(0x180)]+'\x20('+this['instance']['wuid']+'):\x20Conversa\x20atualizada\x20em\x20memória');}catch(_0x58bf2c){let _0x182284={'error':!0x0,'errorLog':_0x58bf2c[_0x4ab6aa(0x23c)]()};return this[_0x4ab6aa(0x263)](_0x5bb7ee,_0x472526,_0x182284),this[_0x4ab6aa(0xe0)][_0x4ab6aa(0x53e)](this[_0x4ab6aa(0x180)]+'\x20('+this[_0x4ab6aa(0x6a8)][_0x4ab6aa(0x617)]+_0x4ab6aa(0x637)+(_0x58bf2c instanceof Error?_0x58bf2c[_0x4ab6aa(0x55b)]:JSON['stringify'](_0x58bf2c,null,0x2))),null;}}async[a0_0x2a4c6a(0x2e6)](_0x447230,_0x327a51){const _0x1d3e87=a0_0x2a4c6a;if(this[_0x1d3e87(0xe0)][_0x1d3e87(0x33d)](this[_0x1d3e87(0x180)]+'\x20('+this[_0x1d3e87(0x6a8)][_0x1d3e87(0x617)]+_0x1d3e87(0x2ba)),!_0x447230||!_0x327a51)return this[_0x1d3e87(0xe0)][_0x1d3e87(0x53e)](this[_0x1d3e87(0x180)]+'\x20('+this[_0x1d3e87(0x6a8)][_0x1d3e87(0x617)]+_0x1d3e87(0x450)),null;let _0x473c53=Date[_0x1d3e87(0x4f1)](),_0x5123b0=parseInt(_0x327a51[_0x1d3e87(0x440)],0xa);if(isNaN(_0x5123b0))return this[_0x1d3e87(0xe0)][_0x1d3e87(0x53e)](this[_0x1d3e87(0x180)]+'\x20('+this[_0x1d3e87(0x6a8)][_0x1d3e87(0x617)]+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número'),null;let _0x23a806={'newStoppedUntil':_0x473c53+_0x5123b0*0x3c*0x3e8};return await this[_0x1d3e87(0x263)](_0x447230,_0x327a51,_0x23a806,!0x0),null;}async[a0_0x2a4c6a(0x1ee)](_0x209bf5,_0x73784){const _0x155b36=a0_0x2a4c6a;try{switch(_0x73784[_0x155b36(0x321)]['command']){case'sendText':await this[_0x155b36(0x17e)](_0x209bf5,_0x73784);break;case _0x155b36(0x1ab):await this[_0x155b36(0x6d8)](_0x209bf5,_0x73784);break;case _0x155b36(0x4b0):await this[_0x155b36(0x3f6)](_0x209bf5,_0x73784);break;case _0x155b36(0x2de):await this[_0x155b36(0x13c)](_0x209bf5,_0x73784);break;case'sendContact':await this[_0x155b36(0x3cc)](_0x209bf5,_0x73784);break;case'sendPoll':await this[_0x155b36(0x567)](_0x209bf5,_0x73784);break;case _0x155b36(0xbc):await this[_0x155b36(0x567)](_0x209bf5,_0x73784);break;case _0x155b36(0x28a):await this[_0x155b36(0xcb)](_0x209bf5,_0x73784);break;default:this[_0x155b36(0xe0)][_0x155b36(0x53e)](this[_0x155b36(0x180)]+'\x20('+this[_0x155b36(0x6a8)][_0x155b36(0x617)]+_0x155b36(0x6a7)+_0x73784[_0x155b36(0x321)][_0x155b36(0x1b3)]);}}catch(_0x39d50c){this[_0x155b36(0xe0)][_0x155b36(0x53e)](this[_0x155b36(0x180)]+'\x20('+this[_0x155b36(0x6a8)][_0x155b36(0x617)]+_0x155b36(0x3b9)+(_0x39d50c instanceof Error?_0x39d50c['message']:JSON[_0x155b36(0x45c)](_0x39d50c,null,0x2)));}}async[a0_0x2a4c6a(0x263)](_0x65c105,_0x3ec8db,_0x2a8f9b,_0x265fcf=!0x1,_0x2beb8f=!0x1){const _0x257fca=a0_0x2a4c6a;_0x65c105[_0x257fca(0x27f)][_0x257fca(0x19c)]||(_0x65c105[_0x257fca(0x27f)][_0x257fca(0x19c)]=[]);let _0x4011c2=(_0x65c105['chatLog'][_0x257fca(0x19c)]?.['length']??0x0)+0x1,_0x2c3ec7=_0x65c105['chatLog']['blockLogs'][_0x257fca(0x549)](_0x250446=>String(_0x250446[_0x257fca(0x298)])===String(_0x3ec8db[_0x257fca(0x6c3)]))[_0x257fca(0x378)]+0x1,_0x21ce63=_0x2a8f9b?.[_0x257fca(0x4a2)]??Date[_0x257fca(0x4f1)](),_0x4d8570=_0x2a8f9b?.[_0x257fca(0x53e)]?_0x2a8f9b[_0x257fca(0x4f2)]??_0x2a8f9b[_0x257fca(0x53e)][_0x257fca(0x23c)]():void 0x0,_0x52c729={'onTime':_0x21ce63,'blockId':_0x3ec8db[_0x257fca(0x6c3)],'order':_0x4011c2,'activatedCount':_0x2c3ec7,'error':_0x2a8f9b?.[_0x257fca(0x53e)]??!0x1,'messageId':_0x2a8f9b?.[_0x257fca(0x5fa)],'apiResponse':_0x2a8f9b?.[_0x257fca(0x1c2)],'apiResponseString':_0x2a8f9b?.[_0x257fca(0x1c2)]?JSON[_0x257fca(0x45c)](_0x2a8f9b?.[_0x257fca(0x1c2)]):void 0x0,'variable':_0x2a8f9b?.[_0x257fca(0x356)],'oldValue':_0x2a8f9b?.[_0x257fca(0x2bd)],'newValue':_0x2a8f9b?.[_0x257fca(0x518)],'newStoppedUntil':_0x2a8f9b?.[_0x257fca(0x28b)],'moreLogs':_0x2a8f9b?.[_0x257fca(0x205)],'errorLog':_0x4d8570};if(_0x2a8f9b[_0x257fca(0x205)]&&_0x2a8f9b[_0x257fca(0x205)][_0x257fca(0x378)]>0x0){let _0x34f7b6=_0x2a8f9b[_0x257fca(0x205)][_0x257fca(0xfe)](_0x9917cd=>this[_0x257fca(0x329)](_0x9917cd,_0x65c105[_0x257fca(0x27f)][_0x257fca(0x6d1)]));_0x52c729[_0x257fca(0x205)]=_0x34f7b6;}_0x65c105[_0x257fca(0x27f)][_0x257fca(0x6d1)]||(_0x65c105[_0x257fca(0x27f)][_0x257fca(0x6d1)]={}),_0x65c105['chatLog'][_0x257fca(0x6d1)][_0x257fca(0x216)]=String(_0x2c3ec7),_0x65c105[_0x257fca(0x27f)][_0x257fca(0x6d1)][_0x257fca(0x69a)]=String(_0x2a8f9b['error']??!0x1),_0x65c105['chatLog'][_0x257fca(0x19c)][_0x257fca(0x63a)](_0x52c729),_0x65c105['chatLog'][_0x257fca(0x1b6)]=_0x3ec8db[_0x257fca(0x6c3)][_0x257fca(0x23c)](),_0x65c105[_0x257fca(0x27f)][_0x257fca(0x21d)]&&(_0x65c105[_0x257fca(0x27f)][_0x257fca(0x21d)]=_0x65c105[_0x257fca(0x27f)][_0x257fca(0x21d)]),_0x65c105[_0x257fca(0x27f)][_0x257fca(0x426)]&&(_0x65c105[_0x257fca(0x27f)][_0x257fca(0x426)]=_0x65c105[_0x257fca(0x27f)][_0x257fca(0x426)]),_0x65c105['chatLog'][_0x257fca(0xd6)]&&(_0x65c105[_0x257fca(0x27f)][_0x257fca(0xd6)]=_0x65c105[_0x257fca(0x27f)][_0x257fca(0xd6)]),_0x2beb8f&&(_0x65c105[_0x257fca(0x2ad)]='closed'),_0x265fcf?this[_0x257fca(0x153)](_0x65c105):this['goNextblock'](_0x65c105,_0x3ec8db);}[a0_0x2a4c6a(0x329)](_0x4e9164,_0x4d12bc){const _0x3316ae=a0_0x2a4c6a;return _0x4e9164[_0x3316ae(0x34b)](/\{\{([^}]+)\}\}/g,(_0x2a4aaa,_0x22fe20)=>_0x4d12bc[_0x22fe20]?'{{'+_0x22fe20+_0x3316ae(0x33b)+_0x4d12bc[_0x22fe20]+'\x22':'{{'+_0x22fe20+_0x3316ae(0x327));}async['saveConversationToDatabase'](_0x3755cf){const _0x5cc160=a0_0x2a4c6a;try{let _0x29633c=Object[_0x5cc160(0x577)](_0x3755cf[_0x5cc160(0x27f)]['realVariables'])[_0x5cc160(0xfe)](([_0xfd3c8,_0x46df5e])=>({'name':_0xfd3c8,'value':_0x46df5e})),_0x1837a9={'status':_0x3755cf[_0x5cc160(0x2ad)],'blocks':_0x3755cf['blocks'],'waitingMenu_id':_0x3755cf[_0x5cc160(0x348)],'waitingMenu_text':_0x3755cf[_0x5cc160(0x494)],'waitingMenu_replyOptions':_0x3755cf[_0x5cc160(0x49f)],'chatLog':{'lastBlockId':_0x3755cf[_0x5cc160(0x27f)][_0x5cc160(0x1b6)],'lastSendMessage':_0x3755cf['chatLog'][_0x5cc160(0x21d)],'lastReceivedMessage':_0x3755cf[_0x5cc160(0x27f)]['lastReceivedMessage'],'lastCondition':_0x3755cf[_0x5cc160(0x27f)][_0x5cc160(0xd6)],'chatVariables':_0x29633c,'realVariables':_0x3755cf['chatLog'][_0x5cc160(0x6d1)],'blockLogs':_0x3755cf[_0x5cc160(0x27f)][_0x5cc160(0x19c)]}},_0x487f3b=await this[_0x5cc160(0x5a1)]['flowConversation'][_0x5cc160(0x5ad)](_0x3755cf[_0x5cc160(0x6c3)],_0x1837a9,this[_0x5cc160(0x6a8)]['wuid']);if(_0x487f3b){this[_0x5cc160(0xe0)][_0x5cc160(0x33d)](this[_0x5cc160(0x180)]+'\x20('+this[_0x5cc160(0x6a8)][_0x5cc160(0x617)]+_0x5cc160(0x49a)+_0x487f3b[_0x5cc160(0x6c3)]);try{let _0x559e3e=[_0x5cc160(0x2b2),_0x5cc160(0x1dd),_0x5cc160(0x476),_0x5cc160(0x466),_0x5cc160(0x2ad),'notas',_0x5cc160(0x159),_0x5cc160(0x4fa)];if(!this[_0x5cc160(0x25b)]&&(await this[_0x5cc160(0x410)](),!this[_0x5cc160(0x25b)]))throw new Error(_0x5cc160(0x3e8));let _0x209597=this[_0x5cc160(0x25b)]?.[_0x5cc160(0x28d)][_0x5cc160(0xfe)](_0x30d031=>_0x30d031[_0x5cc160(0x194)]),_0x550227={};Object[_0x5cc160(0x577)](_0x3755cf[_0x5cc160(0x27f)][_0x5cc160(0x6d1)])['forEach'](([_0x1cdd17,_0x367fd2])=>{const _0x2522b3=_0x5cc160;_0x559e3e[_0x2522b3(0x587)](_0x1cdd17)&&(_0x1cdd17===_0x2522b3(0x4fa)&&typeof _0x367fd2==_0x2522b3(0x55c)?_0x550227[_0x1cdd17]=_0x367fd2[_0x2522b3(0xe8)](',')[_0x2522b3(0xfe)](_0x228463=>_0x228463[_0x2522b3(0x308)]())['filter'](_0x2f33c3=>_0x2f33c3!==''):_0x550227[_0x1cdd17]=_0x367fd2);});let _0x49c571=_0x3755cf['chatLog'][_0x5cc160(0x19c)][_0x3755cf['chatLog'][_0x5cc160(0x19c)]['length']-0x1];if(_0x49c571){let _0x6acd7e=_0x49c571[_0x5cc160(0x28b)];_0x6acd7e!==void 0x0&&(_0x550227['desativadoFluxoAte']=_0x6acd7e[_0x5cc160(0x23c)]());}let _0x17c387=_0x29633c[_0x5cc160(0x549)](_0x4822c9=>_0x209597[_0x5cc160(0x587)](_0x4822c9[_0x5cc160(0x194)]));this[_0x5cc160(0xe0)]['verbose'](this[_0x5cc160(0x180)]+'\x20('+this['instance'][_0x5cc160(0x617)]+_0x5cc160(0x16f)),this[_0x5cc160(0xe0)]['verbose'](_0x550227),this[_0x5cc160(0xe0)]['verbose'](this[_0x5cc160(0x180)]+'\x20('+this['instance']['wuid']+_0x5cc160(0x590)),this['logger']['verbose'](_0x17c387);let _0x1c9f21=_0x17c387[_0x5cc160(0xfe)](_0x345506=>{const _0x5804c9=_0x5cc160;let _0x1ba0b5=this[_0x5804c9(0x25b)]?.['customFields'][_0x5804c9(0x2e9)](_0x43a958=>_0x43a958[_0x5804c9(0x194)]===_0x345506[_0x5804c9(0x194)]);if(!_0x1ba0b5)throw new Error(_0x5804c9(0x296)+_0x345506[_0x5804c9(0x194)]);return{'_id':_0x1ba0b5[_0x5804c9(0x6c3)],'value':_0x345506[_0x5804c9(0x519)]};});this['logger']['verbose'](this[_0x5cc160(0x180)]+'\x20('+this['instance']['wuid']+_0x5cc160(0x647)),this[_0x5cc160(0xe0)][_0x5cc160(0x33d)](_0x1c9f21),await this[_0x5cc160(0x2f7)](_0x3755cf[_0x5cc160(0x575)],_0x550227,_0x1c9f21);}catch(_0x4c5588){this['logger'][_0x5cc160(0x53e)](this[_0x5cc160(0x180)]+'\x20('+this[_0x5cc160(0x6a8)][_0x5cc160(0x617)]+'):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20'+(_0x4c5588 instanceof Error?_0x4c5588[_0x5cc160(0x55b)]:JSON[_0x5cc160(0x45c)](_0x4c5588,null,0x2)));}}else this[_0x5cc160(0xe0)][_0x5cc160(0x53e)](this[_0x5cc160(0x180)]+'\x20('+this[_0x5cc160(0x6a8)]['wuid']+_0x5cc160(0x39f));}catch(_0x4f2286){this[_0x5cc160(0xe0)]['error'](this['instanceName']+'\x20('+this['instance'][_0x5cc160(0x617)]+_0x5cc160(0x235)+(_0x4f2286 instanceof Error?_0x4f2286[_0x5cc160(0x55b)]:JSON['stringify'](_0x4f2286,null,0x2)));}}async[a0_0x2a4c6a(0x2f7)](_0x1efba9,_0x46a42f,_0x2e825b){const _0x8472e8=a0_0x2a4c6a;try{let _0x553ac7={'leadInfo.leadnome':_0x46a42f[_0x8472e8(0x2b2)],'leadInfo.nomecompleto':_0x46a42f['nomecompleto'],'leadInfo.email':_0x46a42f[_0x8472e8(0x476)],'leadInfo.cpf':_0x46a42f[_0x8472e8(0x466)],'leadInfo.status':_0x46a42f[_0x8472e8(0x2ad)],'leadInfo.notas':_0x46a42f['notas'],'leadInfo.responsavelid':_0x46a42f[_0x8472e8(0x159)],'leadInfo.tags':_0x46a42f[_0x8472e8(0x4fa)],'leadInfo.customFields':_0x2e825b};if(_0x8472e8(0x1f0)in _0x46a42f){let _0x2ae5a8=_0x46a42f[_0x8472e8(0x1f0)];_0x553ac7[_0x8472e8(0x6b0)]=_0x2ae5a8?Number(_0x2ae5a8):null;}let _0x4a55ba=await this['repository'][_0x8472e8(0x633)]['updateOne']({'where':{'_id':_0x1efba9}},_0x553ac7,this[_0x8472e8(0x6a8)][_0x8472e8(0x617)]);_0x4a55ba?(this[_0x8472e8(0xe0)][_0x8472e8(0x33d)](this['instanceName']+'\x20('+this['instance'][_0x8472e8(0x617)]+_0x8472e8(0x44e)+_0x4a55ba['_id']),j(this[_0x8472e8(0x180)],'chats',{'chat':_0x4a55ba})):this[_0x8472e8(0xe0)][_0x8472e8(0x53e)](this[_0x8472e8(0x180)]+'\x20('+this[_0x8472e8(0x6a8)][_0x8472e8(0x617)]+_0x8472e8(0x273));}catch(_0x2b8f30){this[_0x8472e8(0xe0)][_0x8472e8(0x53e)](this[_0x8472e8(0x180)]+'\x20('+this[_0x8472e8(0x6a8)]['wuid']+_0x8472e8(0x257)+(_0x2b8f30 instanceof Error?_0x2b8f30[_0x8472e8(0x55b)]:JSON[_0x8472e8(0x45c)](_0x2b8f30,null,0x2)));}}async['updateStopChat'](_0x578e1e,_0x48140a){const _0x102a28=a0_0x2a4c6a;this[_0x102a28(0xe0)][_0x102a28(0x33d)](this['instanceName']+'\x20('+this['instance'][_0x102a28(0x617)]+_0x102a28(0x272)+_0x48140a);try{let _0x165019=await this[_0x102a28(0x5a1)][_0x102a28(0x633)][_0x102a28(0x5ad)]({'where':{'_id':_0x578e1e[_0x102a28(0x575)]}},{'leadInfo.desativadoFluxoAte':_0x48140a},this[_0x102a28(0x6a8)]['wuid']);this[_0x102a28(0xe0)]['verbose'](this[_0x102a28(0x180)]+'\x20('+this[_0x102a28(0x6a8)][_0x102a28(0x617)]+_0x102a28(0x172)+_0x578e1e[_0x102a28(0x6c3)]),this['logger'][_0x102a28(0x33d)](this[_0x102a28(0x180)]+'\x20('+this[_0x102a28(0x6a8)][_0x102a28(0x617)]+_0x102a28(0x272)+JSON[_0x102a28(0x45c)](_0x165019,null,0x2)),_0x165019&&j(this['instanceName'],_0x102a28(0x40a),{'chat':_0x165019});}catch(_0x54ac0c){this['logger'][_0x102a28(0x53e)](this['instanceName']+'\x20('+this[_0x102a28(0x6a8)][_0x102a28(0x617)]+_0x102a28(0x335)+(_0x54ac0c instanceof Error?_0x54ac0c[_0x102a28(0x55b)]:JSON[_0x102a28(0x45c)](_0x54ac0c,null,0x2)));}}async['findFlow'](_0x56fdb5){const _0x6c6d07=a0_0x2a4c6a;try{this[_0x6c6d07(0xe0)]['verbose'](this[_0x6c6d07(0x180)]+'\x20('+this[_0x6c6d07(0x6a8)][_0x6c6d07(0x617)]+_0x6c6d07(0x631));let _0x173dc=_0x56fdb5[_0x6c6d07(0x34b)](/\D/g,''),_0x54c381=await this[_0x6c6d07(0x5a1)][_0x6c6d07(0x231)][_0x6c6d07(0xae)]({'where':{'testingWith':_0x173dc}},this[_0x6c6d07(0x6a8)][_0x6c6d07(0x617)]);return _0x54c381||(this[_0x6c6d07(0xe0)][_0x6c6d07(0x33d)](this['instanceName']+'\x20('+this['instance'][_0x6c6d07(0x617)]+_0x6c6d07(0x4e8)),_0x54c381=await this[_0x6c6d07(0x5a1)][_0x6c6d07(0x231)][_0x6c6d07(0xae)]({'where':{'default':!0x0}},this[_0x6c6d07(0x6a8)]['wuid'])),_0x54c381||(this[_0x6c6d07(0xe0)][_0x6c6d07(0x33d)](this[_0x6c6d07(0x180)]+'\x20('+this[_0x6c6d07(0x6a8)]['wuid']+_0x6c6d07(0x150)),null);}catch(_0x29dc33){return this[_0x6c6d07(0xe0)][_0x6c6d07(0x53e)](this[_0x6c6d07(0x180)]+'\x20('+this[_0x6c6d07(0x6a8)][_0x6c6d07(0x617)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+(_0x29dc33 instanceof Error?_0x29dc33['message']:JSON[_0x6c6d07(0x45c)](_0x29dc33,null,0x2))),null;}}async[a0_0x2a4c6a(0x13b)](_0x3fd876,_0xe33d06){const _0x45f603=a0_0x2a4c6a;try{let _0x1b44ea=!!_0xe33d06[_0x45f603(0x593)],_0x553677=_0xe33d06[_0x45f603(0x5f0)],_0x2f3de5=null;if(this[_0x45f603(0xe0)][_0x45f603(0x33d)](this[_0x45f603(0x180)]+'\x20('+this[_0x45f603(0x6a8)][_0x45f603(0x617)]+'):\x20isVote:\x20'+_0x1b44ea+'\x20quoted:\x20'+_0x553677),_0x1b44ea){this[_0x45f603(0xe0)][_0x45f603(0x33d)](this['instanceName']+'\x20('+this[_0x45f603(0x6a8)][_0x45f603(0x617)]+_0x45f603(0x195));let _0x174b08={'where':{'remoteJid':_0x3fd876,'waitingMenu_id':_0x553677}};if(_0x2f3de5=await this[_0x45f603(0x5a1)][_0x45f603(0x467)][_0x45f603(0xae)](_0x174b08,this[_0x45f603(0x6a8)][_0x45f603(0x617)]),!_0x2f3de5)return this[_0x45f603(0xe0)][_0x45f603(0x33d)](this['instanceName']+'\x20('+this[_0x45f603(0x6a8)]['wuid']+_0x45f603(0x3a4)),null;let _0x429fb5=Date[_0x45f603(0x4f1)](),_0x4c4e54=_0x2f3de5?.[_0x45f603(0x412)]||0x0,_0x2cdab1=_0x429fb5-_0x4c4e54*0x3c*0x3e8;if(_0x2f3de5[_0x45f603(0x29d)]<_0x2cdab1){this[_0x45f603(0xe0)][_0x45f603(0x33d)](this[_0x45f603(0x180)]+'\x20('+this['instance'][_0x45f603(0x617)]+'):\x20Conversa\x20está\x20expirada\x20-\x20voto');let _0x4cdba5={'number':_0x2f3de5['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x2f3de5[_0x45f603(0x1bc)]}};await this['textMessage'](_0x4cdba5);let _0x3bea89={'status':_0x45f603(0x1c0),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x45f603(0x5a1)][_0x45f603(0x467)]['updateOne'](_0x2f3de5['_id'],_0x3bea89,this[_0x45f603(0x6a8)][_0x45f603(0x617)]),null;}return _0x2f3de5['lastInteraction']=Date['now'](),_0x2f3de5[_0x45f603(0x27f)][_0x45f603(0x426)]=_0xe33d06,_0x2f3de5;}else{this[_0x45f603(0xe0)][_0x45f603(0x33d)](this[_0x45f603(0x180)]+'\x20('+this['instance'][_0x45f603(0x617)]+_0x45f603(0x56c)+this[_0x45f603(0x6a8)][_0x45f603(0x617)]+_0x45f603(0x2fd)),this[_0x45f603(0xe0)][_0x45f603(0x33d)](this[_0x45f603(0x180)]+'\x20('+this[_0x45f603(0x6a8)][_0x45f603(0x617)]+'):\x20Procurando\x20conversa');let _0x4e2f53={'where':{'remoteJid':_0x3fd876,'status':_0x45f603(0x35e)}};if(_0x2f3de5=await this[_0x45f603(0x5a1)][_0x45f603(0x467)][_0x45f603(0xae)](_0x4e2f53,this['instance'][_0x45f603(0x617)]),!_0x2f3de5){let _0x20f29e=await this[_0x45f603(0x56b)](_0x3fd876);if(_0x20f29e&&(_0x2f3de5=await this[_0x45f603(0x3da)](_0x20f29e,_0xe33d06[_0x45f603(0x2d1)],_0xe33d06)),!_0x2f3de5)return null;}let _0x279bb5=Date[_0x45f603(0x4f1)](),_0xa715b8=_0x2f3de5?.['minutesToClose']||0x0,_0x59bceb=_0x279bb5-_0xa715b8*0x3c*0x3e8;if(this[_0x45f603(0xe0)][_0x45f603(0x33d)](this[_0x45f603(0x180)]+'\x20('+this[_0x45f603(0x6a8)][_0x45f603(0x617)]+_0x45f603(0xf5)+_0x279bb5+_0x45f603(0x5d2)+_0xa715b8+_0x45f603(0x5d4)+_0x59bceb),this[_0x45f603(0xe0)][_0x45f603(0x33d)](this['instanceName']+'\x20('+this[_0x45f603(0x6a8)][_0x45f603(0x617)]+_0x45f603(0x177)),this['logger']['verbose'](this[_0x45f603(0x180)]+'\x20('+this['instance'][_0x45f603(0x617)]+_0x45f603(0x46a)+_0x2f3de5[_0x45f603(0x29d)]),this[_0x45f603(0xe0)][_0x45f603(0x33d)](this['instanceName']+'\x20('+this[_0x45f603(0x6a8)][_0x45f603(0x617)]+_0x45f603(0x2ee)+_0x59bceb),_0x2f3de5[_0x45f603(0x29d)]<_0x59bceb){this['logger'][_0x45f603(0x33d)](this[_0x45f603(0x180)]+'\x20('+this[_0x45f603(0x6a8)][_0x45f603(0x617)]+_0x45f603(0x6ac));let _0x19755b=await this[_0x45f603(0x56b)](_0x3fd876);if(_0x19755b===null)return null;_0x2f3de5&&await this[_0x45f603(0x5a1)][_0x45f603(0x467)]['updateOne'](_0x2f3de5[_0x45f603(0x6c3)],{'status':'closed'},this[_0x45f603(0x6a8)][_0x45f603(0x617)]),_0x2f3de5=await this['createNewConversation'](_0x19755b,_0xe33d06[_0x45f603(0x2d1)],_0xe33d06);}return _0x2f3de5[_0x45f603(0x29d)]=_0x279bb5,_0x2f3de5[_0x45f603(0x27f)][_0x45f603(0x426)]=_0xe33d06,_0x2f3de5;}}catch(_0x1caa1e){return this['logger'][_0x45f603(0x53e)](this['instanceName']+'\x20('+this[_0x45f603(0x6a8)][_0x45f603(0x617)]+_0x45f603(0x203)+(_0x1caa1e instanceof Error?_0x1caa1e['message']:JSON[_0x45f603(0x45c)](_0x1caa1e,null,0x2))),null;}}async[a0_0x2a4c6a(0x3da)](_0xd09c67,_0x3310b3,_0x4027cd){const _0x5e5b04=a0_0x2a4c6a;this[_0x5e5b04(0xe0)][_0x5e5b04(0x33d)](this[_0x5e5b04(0x180)]+'\x20('+this[_0x5e5b04(0x6a8)][_0x5e5b04(0x617)]+_0x5e5b04(0x5e2));try{let _0x39c10a=require(_0x5e5b04(0x143))[_0x5e5b04(0x3cf)],_0x2afaf4=Date[_0x5e5b04(0x4f1)](),_0x553f33=_0x5e5b04(0x4bd),_0x8ff310=_0x3310b3[_0x5e5b04(0x122)]?null:_0x4027cd,_0x2dbf1d=_0x3310b3['fromMe']?_0x4027cd:null,_0x4c730c=_0x3310b3['remoteJid'];await this[_0x5e5b04(0x17a)](_0x4c730c);let _0x44b1b6={..._0xd09c67,'chatLog':null},_0x19e297=await this[_0x5e5b04(0x37b)](_0x44b1b6[_0x5e5b04(0x5dd)]),_0x54bab6=await this[_0x5e5b04(0x423)](_0x4c730c),_0x18e3bc={..._0x19e297,..._0x54bab6,'_remoteJid':_0x4c730c},_0x4243fc={'lastReceivedMessage':_0x8ff310,'lastSendMessage':_0x2dbf1d,'lastBlockId':_0x553f33,'lastCondition':!0x0,'realVariables':_0x18e3bc};_0x44b1b6['chatLog']=_0x4243fc,delete _0x44b1b6[_0x5e5b04(0x6c3)],_0x44b1b6[_0x5e5b04(0x6c3)]=new _0x39c10a(),_0x44b1b6['lastInteraction']=_0x2afaf4,_0x44b1b6[_0x5e5b04(0x2ad)]='open',_0x44b1b6[_0x5e5b04(0x575)]=_0x4c730c;let _0x439528=await this['repository'][_0x5e5b04(0x467)][_0x5e5b04(0x5ad)](_0x44b1b6[_0x5e5b04(0x6c3)],_0x44b1b6,this[_0x5e5b04(0x6a8)][_0x5e5b04(0x617)]);return this[_0x5e5b04(0xe0)][_0x5e5b04(0x33d)](this[_0x5e5b04(0x180)]+'\x20('+this['instance'][_0x5e5b04(0x617)]+_0x5e5b04(0x596)),_0x439528?_0x44b1b6:null;}catch(_0x150b78){return this[_0x5e5b04(0xe0)][_0x5e5b04(0x53e)](this[_0x5e5b04(0x180)]+'\x20('+this[_0x5e5b04(0x6a8)]['wuid']+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x150b78 instanceof Error?_0x150b78['message']:JSON['stringify'](_0x150b78,null,0x2))),_0x150b78;}}async[a0_0x2a4c6a(0x17e)](_0x5301d7,_0x9f6a57){const _0x284792=a0_0x2a4c6a;let _0x5616fb=_0x5301d7[_0x284792(0x575)];_0x9f6a57['uazapi'][_0x284792(0x575)]&&_0x9f6a57['uazapi'][_0x284792(0x575)][_0x284792(0x308)]()!==''&&(_0x5616fb=_0x9f6a57[_0x284792(0x321)]['remoteJid']['trim']()),this[_0x284792(0xe0)]['verbose'](this[_0x284792(0x180)]+'\x20('+this[_0x284792(0x6a8)][_0x284792(0x617)]+_0x284792(0x21f));let _0x4c8b7e={'number':_0x5616fb,'options':{'delay':_0x9f6a57['uazapi'][_0x284792(0x613)]},'textMessage':{'text':_0x9f6a57['uazapi'][_0x284792(0x3e7)]}};try{let _0x44a349=await this[_0x284792(0x448)](_0x4c8b7e);if(_0x44a349){let _0xe5aa5={'_id':_0x44a349[_0x284792(0x2d1)]['id'],'_fromMe':_0x44a349[_0x284792(0x2d1)][_0x284792(0x122)],'_remoteJid':_0x44a349['key'][_0x284792(0x575)]};_0x5301d7[_0x284792(0x27f)][_0x284792(0x1b6)]=_0x9f6a57[_0x284792(0x6c3)][_0x284792(0x23c)]();let {message_normalized:_0x5f47aa}=this[_0x284792(0x4b4)](_0x44a349['message'],_(_0x44a349[_0x284792(0x55b)]),null);_0x5301d7[_0x284792(0x27f)][_0x284792(0x21d)]=await _0x5f47aa;let _0x45b739={'messageId':_0x44a349[_0x284792(0x2d1)]['id']},_0x933454=_0x5301d7['chatLog'][_0x284792(0x6d1)];Object['assign'](_0x933454,_0xe5aa5),_0x5301d7[_0x284792(0x27f)][_0x284792(0x6d1)]=_0x933454,this['updateConversation'](_0x5301d7,_0x9f6a57,_0x45b739);}else{let _0x235cde={'error':!0x0};this['updateConversation'](_0x5301d7,_0x9f6a57,_0x235cde),this[_0x284792(0xe0)][_0x284792(0x53e)](this['instanceName']+'\x20('+this[_0x284792(0x6a8)][_0x284792(0x617)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0xbf9e65){let _0x291147={'error':!0x0,'errorLog':_0xbf9e65['toString']()};this[_0x284792(0x263)](_0x5301d7,_0x9f6a57,_0x291147),this[_0x284792(0xe0)][_0x284792(0x53e)](this['instanceName']+'\x20('+this['instance'][_0x284792(0x617)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0xbf9e65 instanceof Error?_0xbf9e65[_0x284792(0x55b)]:JSON[_0x284792(0x45c)](_0xbf9e65,null,0x2)));}}async[a0_0x2a4c6a(0x6d8)](_0x5d71ec,_0x171061){const _0x564c84=a0_0x2a4c6a;let _0x111c37=_0x5d71ec['remoteJid'];_0x171061['uazapi'][_0x564c84(0x575)]&&_0x171061['uazapi'][_0x564c84(0x575)][_0x564c84(0x308)]()!==''&&(_0x111c37=_0x171061[_0x564c84(0x321)][_0x564c84(0x575)]['trim']()),this[_0x564c84(0xe0)][_0x564c84(0x33d)](this[_0x564c84(0x180)]+'\x20('+this[_0x564c84(0x6a8)][_0x564c84(0x617)]+_0x564c84(0x4b1));let _0x35de2c={'number':_0x111c37,'options':{'delay':_0x171061['uazapi'][_0x564c84(0x613)]},'mediaMessage':{'mediatype':_0x171061[_0x564c84(0x321)][_0x564c84(0x406)],'caption':_0x171061['uazapi'][_0x564c84(0x51d)],'media':_0x171061['uazapi'][_0x564c84(0x482)],'fileName':_0x171061[_0x564c84(0x321)][_0x564c84(0x3b8)]}};try{let _0x2706f8=await this[_0x564c84(0x4fb)](_0x35de2c);if(_0x2706f8){let _0x56c512={'_id':_0x2706f8[_0x564c84(0x2d1)]['id'],'_fromMe':_0x2706f8['key'][_0x564c84(0x122)],'_remoteJid':_0x2706f8[_0x564c84(0x2d1)][_0x564c84(0x575)]};_0x5d71ec[_0x564c84(0x27f)][_0x564c84(0x1b6)]=_0x171061['_id'][_0x564c84(0x23c)]();let {message_normalized:_0x2cf80b}=this[_0x564c84(0x4b4)](_0x2706f8[_0x564c84(0x55b)],_(_0x2706f8[_0x564c84(0x55b)]),null);_0x5d71ec[_0x564c84(0x27f)][_0x564c84(0x21d)]=await _0x2cf80b;let _0x116196={'messageId':_0x2706f8[_0x564c84(0x2d1)]['id']},_0x3c0cd6=_0x5d71ec[_0x564c84(0x27f)][_0x564c84(0x6d1)];Object['assign'](_0x3c0cd6,_0x56c512),_0x5d71ec['chatLog']['realVariables']=_0x3c0cd6,this[_0x564c84(0x263)](_0x5d71ec,_0x171061,_0x116196);}else{let _0x39f108={'error':!0x0};this['updateConversation'](_0x5d71ec,_0x171061,_0x39f108),this[_0x564c84(0xe0)][_0x564c84(0x53e)](this[_0x564c84(0x180)]+'\x20('+this[_0x564c84(0x6a8)]['wuid']+_0x564c84(0x190));}}catch(_0x1c9821){let _0x2427e8={'error':!0x0,'errorLog':_0x1c9821[_0x564c84(0x23c)]()};this[_0x564c84(0x263)](_0x5d71ec,_0x171061,_0x2427e8),this[_0x564c84(0xe0)][_0x564c84(0x53e)](this[_0x564c84(0x180)]+'\x20('+this[_0x564c84(0x6a8)][_0x564c84(0x617)]+_0x564c84(0x3f8)+(_0x1c9821 instanceof Error?_0x1c9821[_0x564c84(0x55b)]:JSON[_0x564c84(0x45c)](_0x1c9821,null,0x2)));}}async[a0_0x2a4c6a(0x3f6)](_0x2ed482,_0x23a480){const _0x1818a1=a0_0x2a4c6a;let _0x43a61a=_0x2ed482['remoteJid'];_0x23a480[_0x1818a1(0x321)][_0x1818a1(0x575)]&&_0x23a480[_0x1818a1(0x321)][_0x1818a1(0x575)][_0x1818a1(0x308)]()!==''&&(_0x43a61a=_0x23a480[_0x1818a1(0x321)][_0x1818a1(0x575)][_0x1818a1(0x308)]()),this[_0x1818a1(0xe0)][_0x1818a1(0x33d)](this[_0x1818a1(0x180)]+'\x20('+this[_0x1818a1(0x6a8)][_0x1818a1(0x617)]+_0x1818a1(0x408));let _0x4a05ee={'number':_0x43a61a,'options':{'delay':_0x23a480[_0x1818a1(0x321)][_0x1818a1(0x613)]},'locationMessage':{'name':_0x23a480[_0x1818a1(0x321)][_0x1818a1(0x194)],'address':_0x23a480['uazapi'][_0x1818a1(0x13e)],'latitude':_0x23a480[_0x1818a1(0x321)][_0x1818a1(0x683)],'longitude':_0x23a480[_0x1818a1(0x321)][_0x1818a1(0x162)]}};try{let _0x1b915f=await this[_0x1818a1(0x42c)](_0x4a05ee);if(_0x1b915f){let _0x4f2199={'_id':_0x1b915f['key']['id'],'_fromMe':_0x1b915f[_0x1818a1(0x2d1)]['fromMe'],'_remoteJid':_0x1b915f[_0x1818a1(0x2d1)][_0x1818a1(0x575)]};_0x2ed482[_0x1818a1(0x27f)][_0x1818a1(0x1b6)]=_0x23a480[_0x1818a1(0x6c3)]['toString']();let {message_normalized:_0x4fb6f3}=this['normalizeMessage'](_0x1b915f[_0x1818a1(0x55b)],_(_0x1b915f[_0x1818a1(0x55b)]),null);_0x2ed482[_0x1818a1(0x27f)][_0x1818a1(0x21d)]=await _0x4fb6f3;let _0x3c862c={'messageId':_0x1b915f[_0x1818a1(0x2d1)]['id']},_0x1d4418=_0x2ed482['chatLog'][_0x1818a1(0x6d1)];Object['assign'](_0x1d4418,_0x4f2199),_0x2ed482[_0x1818a1(0x27f)][_0x1818a1(0x6d1)]=_0x1d4418,this[_0x1818a1(0x263)](_0x2ed482,_0x23a480,_0x3c862c);}else{let _0x2c6b6d={'error':!0x0};this[_0x1818a1(0x263)](_0x2ed482,_0x23a480,_0x2c6b6d),this[_0x1818a1(0xe0)]['error'](this[_0x1818a1(0x180)]+'\x20('+this[_0x1818a1(0x6a8)][_0x1818a1(0x617)]+_0x1818a1(0x2c7));}}catch(_0x27f696){let _0x3d0723={'error':!0x0,'errorLog':_0x27f696[_0x1818a1(0x23c)]()};this[_0x1818a1(0x263)](_0x2ed482,_0x23a480,_0x3d0723),this[_0x1818a1(0xe0)][_0x1818a1(0x53e)](this[_0x1818a1(0x180)]+'\x20('+this[_0x1818a1(0x6a8)][_0x1818a1(0x617)]+_0x1818a1(0x45f)+(_0x27f696 instanceof Error?_0x27f696['message']:JSON[_0x1818a1(0x45c)](_0x27f696,null,0x2)));}}async[a0_0x2a4c6a(0x13c)](_0x3f871f,_0x2d9b68){const _0x3b70d6=a0_0x2a4c6a;let _0x370094=_0x3f871f[_0x3b70d6(0x575)];_0x2d9b68[_0x3b70d6(0x321)][_0x3b70d6(0x575)]&&_0x2d9b68[_0x3b70d6(0x321)][_0x3b70d6(0x575)][_0x3b70d6(0x308)]()!==''&&(_0x370094=_0x2d9b68[_0x3b70d6(0x321)][_0x3b70d6(0x575)][_0x3b70d6(0x308)]()),this[_0x3b70d6(0xe0)][_0x3b70d6(0x33d)](this['instanceName']+'\x20('+this[_0x3b70d6(0x6a8)][_0x3b70d6(0x617)]+_0x3b70d6(0x5f6));let _0xd0926a={'number':_0x370094,'options':{'delay':_0x2d9b68[_0x3b70d6(0x321)][_0x3b70d6(0x613)]},'audioMessage':{'audio':_0x2d9b68[_0x3b70d6(0x321)][_0x3b70d6(0x22f)]}};try{let _0x78f64d=await this[_0x3b70d6(0x26c)](_0xd0926a);if(_0x78f64d){let _0x3c4bc3={'_id':_0x78f64d[_0x3b70d6(0x2d1)]['id'],'_fromMe':_0x78f64d[_0x3b70d6(0x2d1)][_0x3b70d6(0x122)],'_remoteJid':_0x78f64d[_0x3b70d6(0x2d1)][_0x3b70d6(0x575)]};_0x3f871f[_0x3b70d6(0x27f)]['lastBlockId']=_0x2d9b68[_0x3b70d6(0x6c3)]['toString']();let {message_normalized:_0x381ecb}=this[_0x3b70d6(0x4b4)](_0x78f64d[_0x3b70d6(0x55b)],_(_0x78f64d[_0x3b70d6(0x55b)]),null);_0x3f871f['chatLog']['lastSendMessage']=await _0x381ecb;let _0x473598={'messageId':_0x78f64d[_0x3b70d6(0x2d1)]['id']},_0x101f54=_0x3f871f['chatLog'][_0x3b70d6(0x6d1)];Object[_0x3b70d6(0x4d0)](_0x101f54,_0x3c4bc3),_0x3f871f[_0x3b70d6(0x27f)][_0x3b70d6(0x6d1)]=_0x101f54,this['updateConversation'](_0x3f871f,_0x2d9b68,_0x473598);}else{let _0x27c0d5={'error':!0x0};this['updateConversation'](_0x3f871f,_0x2d9b68,_0x27c0d5),this[_0x3b70d6(0xe0)][_0x3b70d6(0x53e)](this[_0x3b70d6(0x180)]+'\x20('+this['instance'][_0x3b70d6(0x617)]+_0x3b70d6(0x2d8));}}catch(_0x1f30ae){let _0x2590ec={'error':!0x0,'errorLog':_0x1f30ae[_0x3b70d6(0x23c)]()};this[_0x3b70d6(0x263)](_0x3f871f,_0x2d9b68,_0x2590ec),this[_0x3b70d6(0xe0)][_0x3b70d6(0x53e)](this[_0x3b70d6(0x180)]+'\x20('+this['instance'][_0x3b70d6(0x617)]+_0x3b70d6(0x27d)+(_0x1f30ae instanceof Error?_0x1f30ae[_0x3b70d6(0x55b)]:JSON[_0x3b70d6(0x45c)](_0x1f30ae,null,0x2)));}}async[a0_0x2a4c6a(0x3cc)](_0x1b0e19,_0x23fec6){const _0x30342d=a0_0x2a4c6a;let _0xce92f8=_0x1b0e19[_0x30342d(0x575)];_0x23fec6[_0x30342d(0x321)][_0x30342d(0x575)]&&_0x23fec6[_0x30342d(0x321)][_0x30342d(0x575)][_0x30342d(0x308)]()!==''&&(_0xce92f8=_0x23fec6['uazapi'][_0x30342d(0x575)]['trim']()),this[_0x30342d(0xe0)]['verbose'](this['instanceName']+'\x20('+this[_0x30342d(0x6a8)][_0x30342d(0x617)]+_0x30342d(0x36d));let _0x5770fe={'number':_0xce92f8,'options':{'delay':_0x23fec6[_0x30342d(0x321)][_0x30342d(0x613)]},'contactMessage':[{'fullName':_0x23fec6['uazapi'][_0x30342d(0x326)],'phoneNumber':_0x23fec6[_0x30342d(0x321)]['phoneNumber']}]};try{let _0x52183c=await this[_0x30342d(0x133)](_0x5770fe);if(_0x52183c){let _0x2e0c74={'_id':_0x52183c[_0x30342d(0x2d1)]['id'],'_fromMe':_0x52183c['key'][_0x30342d(0x122)],'_remoteJid':_0x52183c[_0x30342d(0x2d1)][_0x30342d(0x575)]};_0x1b0e19[_0x30342d(0x27f)][_0x30342d(0x1b6)]=_0x23fec6[_0x30342d(0x6c3)][_0x30342d(0x23c)]();let {message_normalized:_0x3b92b9}=this[_0x30342d(0x4b4)](_0x52183c[_0x30342d(0x55b)],_(_0x52183c[_0x30342d(0x55b)]),null);_0x1b0e19[_0x30342d(0x27f)][_0x30342d(0x21d)]=await _0x3b92b9;let _0x3667b0={'messageId':_0x52183c['key']['id']},_0x4b5e29=_0x1b0e19[_0x30342d(0x27f)][_0x30342d(0x6d1)];Object[_0x30342d(0x4d0)](_0x4b5e29,_0x2e0c74),_0x1b0e19['chatLog'][_0x30342d(0x6d1)]=_0x4b5e29,this[_0x30342d(0x263)](_0x1b0e19,_0x23fec6,_0x3667b0);}else{let _0x36d93e={'error':!0x0};this['updateConversation'](_0x1b0e19,_0x23fec6,_0x36d93e),this[_0x30342d(0xe0)][_0x30342d(0x53e)](this[_0x30342d(0x180)]+'\x20('+this[_0x30342d(0x6a8)][_0x30342d(0x617)]+_0x30342d(0x4dc));}}catch(_0x2b3c14){let _0x457d05={'error':!0x0,'errorLog':_0x2b3c14[_0x30342d(0x23c)]()};this[_0x30342d(0x263)](_0x1b0e19,_0x23fec6,_0x457d05),this[_0x30342d(0xe0)][_0x30342d(0x53e)](this['instanceName']+'\x20('+this[_0x30342d(0x6a8)][_0x30342d(0x617)]+_0x30342d(0x4df)+(_0x2b3c14 instanceof Error?_0x2b3c14['message']:JSON[_0x30342d(0x45c)](_0x2b3c14,null,0x2)));}}[a0_0x2a4c6a(0xe9)](_0x537805,_0x422c34){const _0x4d62a9=a0_0x2a4c6a;for(let _0x290130 of _0x537805)_0x290130['option']&&(_0x290130['option']=this['replaceVariables'](_0x290130[_0x4d62a9(0x148)],_0x422c34)),_0x290130[_0x4d62a9(0x1c9)]&&(_0x290130[_0x4d62a9(0x1c9)]=this[_0x4d62a9(0x2b5)](_0x290130[_0x4d62a9(0x1c9)],_0x422c34));}async['uazapiSendMenu'](_0x2fd6a8,_0x2803ac){const _0xb5d27e=a0_0x2a4c6a;let _0xcde467=_0x2fd6a8[_0xb5d27e(0x575)];_0x2803ac[_0xb5d27e(0x321)]['remoteJid']&&_0x2803ac[_0xb5d27e(0x321)][_0xb5d27e(0x575)][_0xb5d27e(0x308)]()!==''&&(_0xcde467=_0x2803ac[_0xb5d27e(0x321)][_0xb5d27e(0x575)][_0xb5d27e(0x308)]()),this[_0xb5d27e(0xe0)]['verbose'](this[_0xb5d27e(0x180)]+'\x20('+this['instance'][_0xb5d27e(0x617)]+_0xb5d27e(0x32f));let _0x371b22=_0x2fd6a8[_0xb5d27e(0x690)][_0xb5d27e(0x549)](_0x1f9eec=>_0x1f9eec['blockId']===_0x2803ac[_0xb5d27e(0x6c3)])[_0xb5d27e(0x38e)]((_0xc858af,_0x861f13)=>_0xc858af['order']-_0x861f13['order']);this['replaceVariablesInReplyOptions'](_0x371b22,_0x2fd6a8[_0xb5d27e(0x27f)][_0xb5d27e(0x6d1)]);let _0x354c4f=_0x371b22[_0xb5d27e(0xfe)](_0x153f87=>_0x153f87[_0xb5d27e(0x148)]),_0x4fac78={'number':_0xcde467,'menuMessage':{'type':_0x2803ac[_0xb5d27e(0x321)]['menuType']||_0xb5d27e(0x420),'text':_0x2803ac['uazapi'][_0xb5d27e(0x3e7)]||_0x2803ac[_0xb5d27e(0x321)]['name'],'footerText':_0x2803ac[_0xb5d27e(0x321)]['footerText'],'buttonText':_0x2803ac[_0xb5d27e(0x321)][_0xb5d27e(0x68e)],'selectableCount':0x1,'choices':_0x354c4f},'options':{'delay':_0x2803ac[_0xb5d27e(0x321)][_0xb5d27e(0x613)]}};try{let _0x3974e2=await this[_0xb5d27e(0x507)](_0x4fac78);if(_0x3974e2){let _0x27c068={'_id':_0x3974e2['key']['id'],'_fromMe':_0x3974e2[_0xb5d27e(0x2d1)][_0xb5d27e(0x122)],'_remoteJid':_0x3974e2[_0xb5d27e(0x2d1)][_0xb5d27e(0x575)]};_0x2803ac['uazapi']['menuIgnoreNonVotes']===!0x0&&(_0x2fd6a8[_0xb5d27e(0x2ad)]='waitingForReplyMenu',this[_0xb5d27e(0xe0)][_0xb5d27e(0x33d)](this[_0xb5d27e(0x180)]+'\x20('+this[_0xb5d27e(0x6a8)]['wuid']+_0xb5d27e(0x149)+_0x2fd6a8['status'])),this[_0xb5d27e(0xe0)]['verbose'](this['instanceName']+'\x20('+this[_0xb5d27e(0x6a8)][_0xb5d27e(0x617)]+_0xb5d27e(0x290)+(_0x2803ac['uazapi'][_0xb5d27e(0x194)]||_0x2803ac[_0xb5d27e(0x321)][_0xb5d27e(0x3e7)])),_0x2fd6a8[_0xb5d27e(0x348)]=_0x3974e2[_0xb5d27e(0x2d1)]['id'],_0x2fd6a8[_0xb5d27e(0x494)]=_0x2803ac[_0xb5d27e(0x321)]['name']||_0x2803ac[_0xb5d27e(0x321)][_0xb5d27e(0x3e7)],_0x2fd6a8[_0xb5d27e(0x49f)]=_0x371b22,_0x2803ac[_0xb5d27e(0x321)][_0xb5d27e(0x23f)]&&(_0x2fd6a8[_0xb5d27e(0x1bc)]=_0x2803ac['uazapi'][_0xb5d27e(0x23f)]),this[_0xb5d27e(0xe0)][_0xb5d27e(0x33d)](this[_0xb5d27e(0x180)]+'\x20('+this[_0xb5d27e(0x6a8)][_0xb5d27e(0x617)]+'):\x20conversation.waitingMenu_name'+_0x2fd6a8[_0xb5d27e(0x494)]),_0x2fd6a8['chatLog'][_0xb5d27e(0x1b6)]=_0x2803ac[_0xb5d27e(0x6c3)][_0xb5d27e(0x23c)]();let {message_normalized:_0x568ef8}=this[_0xb5d27e(0x4b4)](_0x3974e2[_0xb5d27e(0x55b)],_(_0x3974e2[_0xb5d27e(0x55b)]),null);_0x2fd6a8['chatLog'][_0xb5d27e(0x21d)]=await _0x568ef8;let _0x539e0e={'messageId':_0x3974e2['key']['id']},_0x3a4252=_0x2fd6a8[_0xb5d27e(0x27f)][_0xb5d27e(0x6d1)];Object['assign'](_0x3a4252,_0x27c068),_0x2fd6a8['chatLog']['realVariables']=_0x3a4252,this[_0xb5d27e(0x263)](_0x2fd6a8,_0x2803ac,_0x539e0e);}else{let _0x4c7384={'error':!0x0};this[_0xb5d27e(0x263)](_0x2fd6a8,_0x2803ac,_0x4c7384),this[_0xb5d27e(0xe0)][_0xb5d27e(0x53e)](this[_0xb5d27e(0x180)]+'\x20('+this['instance'][_0xb5d27e(0x617)]+_0xb5d27e(0x646));}}catch(_0x3f48b6){let _0x38299d={'error':!0x0,'errorLog':_0x3f48b6 instanceof Error?_0x3f48b6[_0xb5d27e(0x55b)]:JSON[_0xb5d27e(0x45c)](_0x3f48b6,null,0x2)};this[_0xb5d27e(0x263)](_0x2fd6a8,_0x2803ac,_0x38299d),this[_0xb5d27e(0xe0)][_0xb5d27e(0x53e)](this[_0xb5d27e(0x180)]+'\x20('+this[_0xb5d27e(0x6a8)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0x3f48b6 instanceof Error?_0x3f48b6[_0xb5d27e(0x55b)]:JSON[_0xb5d27e(0x45c)](_0x3f48b6,null,0x2)));}}async[a0_0x2a4c6a(0xcb)](_0x3fc5dc,_0x10485a){const _0x43d8d5=a0_0x2a4c6a;this[_0x43d8d5(0xe0)]['verbose'](this['instanceName']+'\x20('+this[_0x43d8d5(0x6a8)][_0x43d8d5(0x617)]+_0x43d8d5(0x4c7));let _0x4c0a02=_0x3fc5dc[_0x43d8d5(0x27f)]['blockLogs'][_0x43d8d5(0x2e9)](_0x1afe3a=>_0x1afe3a[_0x43d8d5(0x298)][_0x43d8d5(0x23c)]()===_0x10485a['uazapi'][_0x43d8d5(0x298)]['toString']()),_0x46f06e={'id':_0x4c0a02['messageId'],'remoteJid':_0x4c0a02[_0x43d8d5(0x575)],'fromMe':_0x4c0a02['fromMe']};try{let _0x5b2785=await this['deleteMessage'](_0x46f06e);if(_0x5b2785){_0x3fc5dc[_0x43d8d5(0x27f)][_0x43d8d5(0x1b6)]=_0x10485a['_id'][_0x43d8d5(0x23c)]();let {message_normalized:_0x56b0c4}=this['normalizeMessage'](_0x5b2785['message'],_(_0x5b2785['message']),null);_0x3fc5dc[_0x43d8d5(0x27f)][_0x43d8d5(0x21d)]=await _0x56b0c4;let _0x38dc88={};this['updateConversation'](_0x3fc5dc,_0x10485a,_0x38dc88);}else{let _0x403cfe={'error':!0x0};this['updateConversation'](_0x3fc5dc,_0x10485a,_0x403cfe),this['logger'][_0x43d8d5(0x53e)](this[_0x43d8d5(0x180)]+'\x20('+this['instance'][_0x43d8d5(0x617)]+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x5a1e6f){let _0x364e45={'error':!0x0,'errorLog':_0x5a1e6f instanceof Error?_0x5a1e6f[_0x43d8d5(0x55b)]:JSON['stringify'](_0x5a1e6f,null,0x2)};this[_0x43d8d5(0x263)](_0x3fc5dc,_0x10485a,_0x364e45),this[_0x43d8d5(0xe0)][_0x43d8d5(0x53e)](this['instanceName']+'\x20('+this['instance'][_0x43d8d5(0x617)]+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x5a1e6f instanceof Error?_0x5a1e6f[_0x43d8d5(0x55b)]:JSON[_0x43d8d5(0x45c)](_0x5a1e6f,null,0x2)));}}async[a0_0x2a4c6a(0x505)](_0x3f8e50){const _0x1a1dfd=a0_0x2a4c6a;try{if(this[_0x1a1dfd(0xe0)][_0x1a1dfd(0x33d)](this[_0x1a1dfd(0x180)]+'\x20('+this[_0x1a1dfd(0x6a8)][_0x1a1dfd(0x617)]+_0x1a1dfd(0x2cf)),await this[_0x1a1dfd(0x5a1)][_0x1a1dfd(0x231)][_0x1a1dfd(0xae)]({'where':{'name':_0x3f8e50[_0x1a1dfd(0x194)]}},this[_0x1a1dfd(0x6a8)][_0x1a1dfd(0x617)]))return{'message':_0x1a1dfd(0x361)};_0x3f8e50[_0x1a1dfd(0x51f)]===!0x0&&await this['repository'][_0x1a1dfd(0x231)][_0x1a1dfd(0x660)]({},{'default':!0x1},this[_0x1a1dfd(0x6a8)][_0x1a1dfd(0x617)]);let _0x548dcf=new ie[(_0x1a1dfd(0x161))][(_0x1a1dfd(0x3cf))](),_0x3bc7bf={'_id':_0x548dcf,'default':!0x0,'title':_0x1a1dfd(0x682),'x':0x0,'y':0x0},_0x2a797b={'_id':new ie[(_0x1a1dfd(0x161))][(_0x1a1dfd(0x3cf))](),'order':0x1,'groupId':_0x548dcf['toString'](),'type':_0x1a1dfd(0x4bd)},_0x524952={'_id':new ie[(_0x1a1dfd(0x161))]['ObjectId'](),'owner':this[_0x1a1dfd(0x6a8)][_0x1a1dfd(0x617)],'name':_0x3f8e50[_0x1a1dfd(0x194)],'groups':[_0x3bc7bf],'blocks':[_0x2a797b],..._0x3f8e50};return _0x524952=await this[_0x1a1dfd(0x5a1)]['flow'][_0x1a1dfd(0x1d6)](_0x524952,this[_0x1a1dfd(0x6a8)][_0x1a1dfd(0x617)]),_0x524952;}catch(_0x13c84e){throw this['logger']['error'](this[_0x1a1dfd(0x180)]+'\x20('+this[_0x1a1dfd(0x6a8)][_0x1a1dfd(0x617)]+_0x1a1dfd(0x2d7)+(_0x13c84e instanceof Error?_0x13c84e[_0x1a1dfd(0x55b)]:JSON[_0x1a1dfd(0x45c)](_0x13c84e,null,0x2))),new h(_0x1a1dfd(0x4ec)+_0x13c84e);}}async[a0_0x2a4c6a(0x57c)](_0x2844cb){const _0x1ca68b=a0_0x2a4c6a;try{return this['logger'][_0x1ca68b(0x33d)](this[_0x1ca68b(0x180)]+'\x20('+this[_0x1ca68b(0x6a8)][_0x1ca68b(0x617)]+_0x1ca68b(0x1d5)),await this['repository'][_0x1ca68b(0x231)][_0x1ca68b(0x29f)]({'where':{'name':_0x2844cb}},this[_0x1ca68b(0x6a8)][_0x1ca68b(0x617)]);}catch(_0xaaae39){return this[_0x1ca68b(0xe0)][_0x1ca68b(0x53e)](this[_0x1ca68b(0x180)]+'\x20('+this[_0x1ca68b(0x6a8)]['wuid']+_0x1ca68b(0x4da)+(_0xaaae39 instanceof Error?_0xaaae39['message']:JSON[_0x1ca68b(0x45c)](_0xaaae39,null,0x2))),{'message':_0x1ca68b(0x52e)+_0xaaae39};}}async['getFlow'](_0x33ab0c){const _0x27cfe4=a0_0x2a4c6a;try{this['logger']['verbose'](this[_0x27cfe4(0x180)]+'\x20('+this['instance'][_0x27cfe4(0x617)]+_0x27cfe4(0x631));let _0x3c4762=await this[_0x27cfe4(0x5a1)][_0x27cfe4(0x231)][_0x27cfe4(0xae)]({'where':{'name':_0x33ab0c}},this[_0x27cfe4(0x6a8)][_0x27cfe4(0x617)]);if(!_0x3c4762)throw new Error(_0x27cfe4(0x241));if(!this[_0x27cfe4(0x25b)]&&(await this[_0x27cfe4(0x410)](),!this[_0x27cfe4(0x25b)]))return null;let _0x4069dc=this[_0x27cfe4(0x25b)]?.['customFields'][_0x27cfe4(0xfe)](_0x44048d=>_0x44048d[_0x27cfe4(0x194)]),_0x5da234=[_0x27cfe4(0x2b2),_0x27cfe4(0x1dd),_0x27cfe4(0x476),'cpf','status',_0x27cfe4(0x1f6),_0x27cfe4(0x159),_0x27cfe4(0x4fa)];_0x3c4762[_0x27cfe4(0x5dd)]=_0x3c4762[_0x27cfe4(0x5dd)][_0x27cfe4(0x549)](_0xb45940=>!(_0xb45940[_0x27cfe4(0x5c2)]==='leadInfo'||_0xb45940[_0x27cfe4(0x427)])),_0x5da234[_0x27cfe4(0x532)](_0x6eede0=>{const _0x3af3dc=_0x27cfe4;_0x3c4762[_0x3af3dc(0x5dd)][_0x3af3dc(0x63a)]({'folder':_0x3af3dc(0x427),'name':_0x6eede0,'value':'','doc':'','leadInfo':!0x0});}),_0x4069dc[_0x27cfe4(0x532)](_0x143f83=>{const _0x3deee9=_0x27cfe4;let _0x1923e8=_0x3c4762[_0x3deee9(0x5dd)][_0x3deee9(0x34a)](_0x47ce02=>_0x47ce02[_0x3deee9(0x194)]===_0x143f83);_0x1923e8===-0x1?_0x3c4762['variables'][_0x3deee9(0x63a)]({'folder':_0x3deee9(0x427),'name':_0x143f83,'value':'','doc':'','leadInfo':!0x0}):(_0x3c4762[_0x3deee9(0x5dd)][_0x1923e8][_0x3deee9(0x5c2)]='leadInfo',_0x3c4762[_0x3deee9(0x5dd)][_0x1923e8][_0x3deee9(0x427)]=!0x0);}),_0x3c4762[_0x27cfe4(0x19b)]&&_0x3c4762[_0x27cfe4(0x19b)][_0x27cfe4(0x378)]>0x0&&_0x3c4762[_0x27cfe4(0x19b)]['forEach'](_0x4bf8ef=>{const _0x537992=_0x27cfe4;_0x4bf8ef[_0x537992(0x179)]&&_0x4bf8ef[_0x537992(0x16e)]&&_0x4bf8ef[_0x537992(0x179)]===_0x4bf8ef[_0x537992(0x16e)]&&(_0x4bf8ef[_0x537992(0x16e)]=null);});let _0x154db8=await this[_0x27cfe4(0x5a1)][_0x27cfe4(0x231)][_0x27cfe4(0x5ad)](_0x3c4762[_0x27cfe4(0x6c3)],_0x3c4762,this[_0x27cfe4(0x6a8)][_0x27cfe4(0x617)]);if(!_0x154db8)throw new Error(_0x27cfe4(0x6ad));return _0x154db8;}catch(_0x572af4){throw this[_0x27cfe4(0xe0)][_0x27cfe4(0x53e)](this[_0x27cfe4(0x180)]+'\x20('+this[_0x27cfe4(0x6a8)]['wuid']+_0x27cfe4(0x63b)+(_0x572af4 instanceof Error?_0x572af4[_0x27cfe4(0x55b)]:JSON[_0x27cfe4(0x45c)](_0x572af4,null,0x2))),new h(_0x27cfe4(0x31e)+_0x572af4);}}async['allFlows'](){const _0x5ee40e=a0_0x2a4c6a;try{return this[_0x5ee40e(0xe0)][_0x5ee40e(0x33d)](this[_0x5ee40e(0x180)]+'\x20('+this[_0x5ee40e(0x6a8)][_0x5ee40e(0x617)]+_0x5ee40e(0x38b)),await this[_0x5ee40e(0x5a1)][_0x5ee40e(0x231)][_0x5ee40e(0x57b)]({'where':{}},this[_0x5ee40e(0x6a8)][_0x5ee40e(0x617)]);}catch(_0x14d249){return this[_0x5ee40e(0xe0)][_0x5ee40e(0x53e)](this['instanceName']+'\x20('+this['instance'][_0x5ee40e(0x617)]+_0x5ee40e(0x65a)+(_0x14d249 instanceof Error?_0x14d249[_0x5ee40e(0x55b)]:JSON['stringify'](_0x14d249,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+_0x14d249};}}async['editFlow'](_0x252c12){const _0x106546=a0_0x2a4c6a;try{this[_0x106546(0xe0)]['verbose'](this[_0x106546(0x180)]+'\x20('+this[_0x106546(0x6a8)][_0x106546(0x617)]+_0x106546(0x3bb));let _0x59aef3=await this[_0x106546(0x5a1)][_0x106546(0x231)][_0x106546(0xae)]({'where':{'name':_0x252c12[_0x106546(0x194)]}},this[_0x106546(0x6a8)][_0x106546(0x617)]);return _0x59aef3?(_0x252c12['default']===!0x0&&await this[_0x106546(0x5a1)][_0x106546(0x231)][_0x106546(0x660)]({},{'default':!0x1},this['instance'][_0x106546(0x617)]),await this[_0x106546(0x5a1)][_0x106546(0x231)][_0x106546(0x5ad)](_0x59aef3[_0x106546(0x6c3)],_0x252c12,this[_0x106546(0x6a8)][_0x106546(0x617)])):{'message':_0x106546(0x67e)};}catch(_0x108f11){throw this[_0x106546(0xe0)][_0x106546(0x53e)](this[_0x106546(0x180)]+'\x20('+this[_0x106546(0x6a8)][_0x106546(0x617)]+_0x106546(0x5cc)+(_0x108f11 instanceof Error?_0x108f11[_0x106546(0x55b)]:JSON['stringify'](_0x108f11,null,0x2))),new h(_0x106546(0xec)+(_0x108f11 instanceof Error?_0x108f11['message']:JSON[_0x106546(0x45c)](_0x108f11,null,0x2)));}}async[a0_0x2a4c6a(0x20d)](_0x19d463){const _0x38670f=a0_0x2a4c6a;try{this[_0x38670f(0xe0)]['verbose'](this['instanceName']+'\x20('+this[_0x38670f(0x6a8)][_0x38670f(0x617)]+'):\x20Editando\x20bloco...');let _0x36740f=await this['repository'][_0x38670f(0x231)][_0x38670f(0xae)]({'where':{'name':_0x19d463[_0x38670f(0x194)]}},this['instance'][_0x38670f(0x617)]);_0x36740f||this[_0x38670f(0x607)](_0x38670f(0x241));let {block:_0x53a509}=_0x19d463;_0x53a509?.[_0x38670f(0x66a)]?this[_0x38670f(0x132)](_0x36740f,_0x19d463):_0x53a509?.[_0x38670f(0x572)]?this['deleteBlock'](_0x36740f,_0x19d463):_0x53a509['_id']?await this[_0x38670f(0x6b8)](_0x36740f,_0x19d463):this['addBlock'](_0x36740f,_0x19d463);let _0x60b55d=await this[_0x38670f(0x5a1)][_0x38670f(0x231)][_0x38670f(0x5ad)](_0x36740f[_0x38670f(0x6c3)],_0x36740f,this[_0x38670f(0x6a8)][_0x38670f(0x617)]);if(!_0x60b55d)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x60b55d;}catch(_0x229ce1){this[_0x38670f(0x607)](_0x38670f(0x4a9)+_0x229ce1);}}async[a0_0x2a4c6a(0x132)](_0x4361bf,_0x44c054){const _0x458e42=a0_0x2a4c6a;let _0xb41afe=_0x44c054['block']['_id'],_0x1e1975=_0x4361bf[_0x458e42(0x19b)][_0x458e42(0x2e9)](_0x5c70a4=>_0x5c70a4[_0x458e42(0x6c3)]['toString']()===_0xb41afe);if(!_0x1e1975){this['logger'][_0x458e42(0x53e)](this[_0x458e42(0x180)]+'\x20('+this[_0x458e42(0x6a8)][_0x458e42(0x617)]+'):\x20Bloco\x20com\x20ID\x20'+_0xb41afe+_0x458e42(0x658));return;}this[_0x458e42(0xe0)][_0x458e42(0x33d)](this[_0x458e42(0x180)]+'\x20('+this[_0x458e42(0x6a8)][_0x458e42(0x617)]+'):\x20Bloco\x20original\x20para\x20cópia:\x20'+JSON['stringify'](_0x1e1975));let _0x238cdd=JSON['parse'](JSON[_0x458e42(0x45c)](_0x1e1975));_0x238cdd[_0x458e42(0x6c3)]=new ie[(_0x458e42(0x51f))]['Types'][(_0x458e42(0x3cf))](),this['logger']['verbose'](this[_0x458e42(0x180)]+'\x20('+this[_0x458e42(0x6a8)][_0x458e42(0x617)]+_0x458e42(0x260)+JSON['stringify'](_0x238cdd)),_0x4361bf[_0x458e42(0x19b)][_0x458e42(0x63a)](_0x238cdd),this[_0x458e42(0x422)](_0x4361bf['blocks'],_0x238cdd[_0x458e42(0x179)]);}[a0_0x2a4c6a(0x607)](_0x34e936){const _0x5dad0e=a0_0x2a4c6a;throw this[_0x5dad0e(0xe0)][_0x5dad0e(0x53e)](this['instanceName']+'\x20('+this[_0x5dad0e(0x6a8)][_0x5dad0e(0x617)]+_0x5dad0e(0x56c)+_0x34e936),new h(_0x34e936);}[a0_0x2a4c6a(0x6a6)](_0x3142ec,_0x9e00f8){const _0x3b503b=a0_0x2a4c6a;let {block:_0xe1bf41}=_0x9e00f8;if(_0xe1bf41[_0x3b503b(0x2bb)]===_0x3b503b(0x4bd)){this['throwAndLogError'](_0x3b503b(0x554));return;}if(!_0xe1bf41['_id']){this[_0x3b503b(0x607)](_0x3b503b(0x6e1));return;}let _0x5ba97b=_0x3142ec[_0x3b503b(0x19b)][_0x3b503b(0x2e9)](_0x290ceb=>_0x290ceb[_0x3b503b(0x6c3)]['toString']()===_0x9e00f8[_0x3b503b(0x43e)][_0x3b503b(0x6c3)][_0x3b503b(0x23c)]());if(!_0x5ba97b){this[_0x3b503b(0x607)](_0x3b503b(0x244)+_0xe1bf41['_id']+_0x3b503b(0xfa));return;}_0x3142ec['blocks']=_0x3142ec['blocks'][_0x3b503b(0x549)](_0x19ed99=>_0x19ed99[_0x3b503b(0x6c3)]['toString']()!==_0x9e00f8[_0x3b503b(0x43e)][_0x3b503b(0x6c3)][_0x3b503b(0x23c)]()),_0x3142ec[_0x3b503b(0x35d)]=_0x3142ec[_0x3b503b(0x35d)][_0x3b503b(0x549)](_0x3492ba=>_0x3492ba[_0x3b503b(0x298)]!==_0xe1bf41['_id'][_0x3b503b(0x23c)]()),_0x3142ec[_0x3b503b(0x3de)]=_0x3142ec[_0x3b503b(0x3de)]['filter'](_0x15033f=>_0x15033f[_0x3b503b(0x298)]!==_0xe1bf41[_0x3b503b(0x6c3)][_0x3b503b(0x23c)]()),_0x3142ec['replyOptions']=_0x3142ec[_0x3b503b(0x690)][_0x3b503b(0x549)](_0x3e2063=>_0x3e2063[_0x3b503b(0x298)]!==_0xe1bf41['_id']['toString']()),this[_0x3b503b(0x422)](_0x3142ec['blocks'],_0x5ba97b['groupId']);}async[a0_0x2a4c6a(0x6b8)](_0x73a19a,_0x314fcc){const _0x2a4bd5=a0_0x2a4c6a;let _0x244422=_0x73a19a['blocks'][_0x2a4bd5(0x34a)](_0x41e15c=>_0x41e15c[_0x2a4bd5(0x6c3)][_0x2a4bd5(0x23c)]()===_0x314fcc[_0x2a4bd5(0x43e)][_0x2a4bd5(0x6c3)]['toString']());if(this[_0x2a4bd5(0xe0)][_0x2a4bd5(0x33d)](this['instanceName']+'\x20('+this[_0x2a4bd5(0x6a8)][_0x2a4bd5(0x617)]+_0x2a4bd5(0xfc)+_0x244422),_0x244422===-0x1){this[_0x2a4bd5(0xe0)]['verbose'](_0x2a4bd5(0x244)+_0x314fcc[_0x2a4bd5(0x43e)]['_id']+_0x2a4bd5(0x56d));return;}if(_0x73a19a[_0x2a4bd5(0x19b)][_0x244422]['type']==='start'){let _0x441a17=Object[_0x2a4bd5(0x592)](_0x314fcc[_0x2a4bd5(0x43e)]);if(_0x441a17[_0x2a4bd5(0x378)]>0x2||_0x441a17[_0x2a4bd5(0x378)]===0x2&&!_0x441a17[_0x2a4bd5(0x587)](_0x2a4bd5(0x16e))){this[_0x2a4bd5(0x607)]('Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão');return;}}let _0x3015a4=_0x73a19a[_0x2a4bd5(0x19b)][_0x244422][_0x2a4bd5(0x179)];for(let _0x3ba1ab in _0x314fcc[_0x2a4bd5(0x43e)])_0x314fcc['block'][_0x2a4bd5(0x640)](_0x3ba1ab)&&(_0x73a19a['blocks'][_0x244422][_0x3ba1ab]=_0x314fcc[_0x2a4bd5(0x43e)][_0x3ba1ab]);if(this[_0x2a4bd5(0xe0)][_0x2a4bd5(0x33d)](this[_0x2a4bd5(0x180)]+'\x20('+this[_0x2a4bd5(0x6a8)][_0x2a4bd5(0x617)]+_0x2a4bd5(0x398)+JSON['stringify'](_0x73a19a['blocks'][_0x244422])),_0x73a19a['blocks'][_0x244422][_0x2a4bd5(0x6d4)]&&_0x2a4bd5(0x49b)in _0x73a19a[_0x2a4bd5(0x19b)][_0x244422][_0x2a4bd5(0x6d4)]){this['logger']['verbose'](this[_0x2a4bd5(0x180)]+'\x20('+this[_0x2a4bd5(0x6a8)]['wuid']+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x1c60ac=JSON[_0x2a4bd5(0x45c)](_0x73a19a[_0x2a4bd5(0x19b)][_0x244422][_0x2a4bd5(0x6d4)][_0x2a4bd5(0x49b)],null,0x1);_0x1c60ac[_0x2a4bd5(0x378)]>0x2&&(_0x1c60ac=_0x1c60ac[_0x2a4bd5(0x54e)](0x1,_0x1c60ac[_0x2a4bd5(0x378)]-0x1)[_0x2a4bd5(0x308)]()),_0x73a19a[_0x2a4bd5(0x19b)][_0x244422]['apirequest'][_0x2a4bd5(0x5c1)]=_0x1c60ac;}if(_0x73a19a['blocks'][_0x244422]['apirequest']&&_0x2a4bd5(0x18c)in _0x73a19a[_0x2a4bd5(0x19b)][_0x244422]['apirequest']){this['logger'][_0x2a4bd5(0x33d)](this[_0x2a4bd5(0x180)]+'\x20('+this[_0x2a4bd5(0x6a8)][_0x2a4bd5(0x617)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString');let _0x26114f=JSON[_0x2a4bd5(0x45c)](_0x73a19a[_0x2a4bd5(0x19b)][_0x244422][_0x2a4bd5(0x6d4)][_0x2a4bd5(0x18c)],null,0x1);_0x26114f[_0x2a4bd5(0x378)]>0x2&&(_0x26114f=_0x26114f[_0x2a4bd5(0x54e)](0x1,_0x26114f[_0x2a4bd5(0x378)]-0x1)[_0x2a4bd5(0x308)]()),_0x73a19a[_0x2a4bd5(0x19b)][_0x244422]['apirequest'][_0x2a4bd5(0x561)]=_0x26114f;}let _0x398df2=_0x73a19a[_0x2a4bd5(0x19b)][_0x244422][_0x2a4bd5(0x179)];_0x3015a4!==_0x398df2?(this[_0x2a4bd5(0x422)](_0x73a19a[_0x2a4bd5(0x19b)],_0x3015a4),this[_0x2a4bd5(0x422)](_0x73a19a[_0x2a4bd5(0x19b)],_0x398df2)):this['reorderBlocks'](_0x73a19a[_0x2a4bd5(0x19b)],_0x3015a4);}['addBlock'](_0x41cf0f,_0x273442){const _0x11b100=a0_0x2a4c6a;if(_0x273442[_0x11b100(0x43e)][_0x11b100(0x2bb)]===_0x11b100(0x4bd)){this[_0x11b100(0x607)](_0x11b100(0x6c2));return;}if(_0x273442[_0x11b100(0x43e)]['apirequest']&&'header'in _0x273442[_0x11b100(0x43e)][_0x11b100(0x6d4)]){this[_0x11b100(0xe0)][_0x11b100(0x33d)](this[_0x11b100(0x180)]+'\x20('+this[_0x11b100(0x6a8)][_0x11b100(0x617)]+_0x11b100(0x61d));let _0x312e29=JSON[_0x11b100(0x45c)](_0x273442[_0x11b100(0x43e)][_0x11b100(0x6d4)]['header'],null,0x1);_0x312e29['length']>0x2&&(_0x312e29=_0x312e29[_0x11b100(0x54e)](0x1,_0x312e29[_0x11b100(0x378)]-0x1)[_0x11b100(0x308)]()),_0x273442[_0x11b100(0x43e)]['apirequest']['headerString']=_0x312e29;}_0x273442[_0x11b100(0x43e)]['apirequest']&&'body'in _0x273442[_0x11b100(0x43e)][_0x11b100(0x6d4)]&&(this[_0x11b100(0xe0)][_0x11b100(0x33d)](this['instanceName']+'\x20('+this[_0x11b100(0x6a8)]['wuid']+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x273442[_0x11b100(0x43e)][_0x11b100(0x6d4)]['bodyString']=JSON[_0x11b100(0x45c)](_0x273442[_0x11b100(0x43e)]['apirequest'][_0x11b100(0x18c)],null,0x1)[_0x11b100(0x308)]()),_0x41cf0f[_0x11b100(0x19b)]['push'](_0x273442['block']),this[_0x11b100(0x422)](_0x41cf0f[_0x11b100(0x19b)],_0x273442['block'][_0x11b100(0x179)]);}[a0_0x2a4c6a(0x422)](_0xc8e39d,_0x1e5764){const _0x37f59e=a0_0x2a4c6a;let _0x9893c=_0xc8e39d[_0x37f59e(0x549)](_0x5e6d00=>_0x5e6d00[_0x37f59e(0x179)]===_0x1e5764);_0x9893c['sort']((_0x6b7734,_0x217900)=>_0x6b7734['order']-_0x217900['order']),_0x9893c[_0x37f59e(0x532)]((_0x4c5f57,_0x287d1f)=>_0x4c5f57[_0x37f59e(0x2ae)]=_0x287d1f+0x1);}async['editFlowReply'](_0xb9d155){const _0x5f51d5=a0_0x2a4c6a;try{if(this[_0x5f51d5(0xe0)][_0x5f51d5(0x33d)](this[_0x5f51d5(0x180)]+'\x20('+this[_0x5f51d5(0x6a8)][_0x5f51d5(0x617)]+'):\x20Editando\x20replyOption...'),!_0xb9d155||!_0xb9d155[_0x5f51d5(0x4ba)]){this[_0x5f51d5(0x607)](_0x5f51d5(0x2b0));return;}let _0xf0078=await this[_0x5f51d5(0x5a1)][_0x5f51d5(0x231)][_0x5f51d5(0xae)]({'where':{'name':_0xb9d155[_0x5f51d5(0x194)]}},this[_0x5f51d5(0x6a8)][_0x5f51d5(0x617)]);_0xf0078||this[_0x5f51d5(0x607)](_0x5f51d5(0x241));let {replyOption:_0x5541af}=_0xb9d155;_0x5541af?.['delete']?(this[_0x5f51d5(0x504)](_0xf0078,_0xb9d155),this[_0x5f51d5(0x197)](_0xf0078[_0x5f51d5(0x690)],_0xb9d155['replyOption'][_0x5f51d5(0x298)])):_0x5541af[_0x5f51d5(0x6c3)]?(await this[_0x5f51d5(0x309)](_0xf0078,_0xb9d155),this[_0x5f51d5(0x197)](_0xf0078[_0x5f51d5(0x690)],_0xb9d155[_0x5f51d5(0x4ba)]['blockId'])):(this[_0x5f51d5(0x430)](_0xf0078,_0xb9d155),this[_0x5f51d5(0x197)](_0xf0078[_0x5f51d5(0x690)],_0xb9d155[_0x5f51d5(0x4ba)][_0x5f51d5(0x298)]));let _0x21cede=await this[_0x5f51d5(0x5a1)]['flow'][_0x5f51d5(0x5ad)](_0xf0078['_id'],_0xf0078,this['instance'][_0x5f51d5(0x617)]);if(!_0x21cede)throw new Error(_0x5f51d5(0x6ad));return _0x21cede;}catch(_0x4b17d3){this['throwAndLogError']('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x4b17d3);}}['reorderReplyOptions'](_0x27ff64,_0x289aab){const _0x4962f6=a0_0x2a4c6a;console[_0x4962f6(0x168)](_0x4962f6(0xde),_0x289aab),_0x27ff64['forEach'](_0x1c4071=>{const _0x1a1684=_0x4962f6;_0x1c4071[_0x1a1684(0x298)]===_0x289aab&&_0x1c4071[_0x1a1684(0x2ae)]===void 0x0&&(_0x1c4071[_0x1a1684(0x2ae)]=0x270f);});let _0x25f3f8=_0x27ff64['filter'](_0x27bc42=>_0x27bc42[_0x4962f6(0x298)]===_0x289aab);_0x25f3f8[_0x4962f6(0x38e)]((_0x3ca08a,_0x2e7512)=>_0x3ca08a[_0x4962f6(0x2ae)]-_0x2e7512[_0x4962f6(0x2ae)]),_0x25f3f8[_0x4962f6(0x532)]((_0x31721e,_0xaec63d)=>{const _0xf57c46=_0x4962f6;_0x31721e[_0xf57c46(0x2ae)]=_0xaec63d+0x1;}),_0x27ff64[_0x4962f6(0x532)](_0x53c8a8=>{const _0x504e2f=_0x4962f6;if(_0x53c8a8[_0x504e2f(0x298)]===_0x289aab){let _0xef0f27=_0x25f3f8[_0x504e2f(0x2e9)](_0x557507=>_0x557507[_0x504e2f(0x6c3)][_0x504e2f(0x23c)]()===_0x53c8a8[_0x504e2f(0x6c3)][_0x504e2f(0x23c)]());_0xef0f27&&(_0x53c8a8[_0x504e2f(0x2ae)]=_0xef0f27[_0x504e2f(0x2ae)]);}}),console[_0x4962f6(0x168)](_0x4962f6(0x3ca),_0x27ff64);}[a0_0x2a4c6a(0x504)](_0x1ee3d3,_0xcb66f7){const _0x497138=a0_0x2a4c6a;let {replyOption:_0x39a2b2}=_0xcb66f7;if(!_0x39a2b2[_0x497138(0x6c3)]){this[_0x497138(0x607)](_0x497138(0x5cd));return;}if(!_0x1ee3d3[_0x497138(0x690)]['find'](_0x536c93=>_0x536c93['_id'][_0x497138(0x23c)]()===_0xcb66f7[_0x497138(0x4ba)][_0x497138(0x6c3)][_0x497138(0x23c)]())){this[_0x497138(0x607)]('ReplyOption\x20com\x20ID\x20'+_0x39a2b2['_id']+'\x20não\x20encontrado');return;}_0x1ee3d3['replyOptions']=_0x1ee3d3[_0x497138(0x690)][_0x497138(0x549)](_0x332cc5=>_0x332cc5[_0x497138(0x6c3)]['toString']()!==_0xcb66f7[_0x497138(0x4ba)]['_id'][_0x497138(0x23c)]());}async[a0_0x2a4c6a(0x309)](_0x1a6c62,_0x30b689){const _0x16eacc=a0_0x2a4c6a;let _0x317d1b=_0x1a6c62[_0x16eacc(0x690)][_0x16eacc(0x34a)](_0x43b284=>_0x43b284[_0x16eacc(0x6c3)][_0x16eacc(0x23c)]()===_0x30b689[_0x16eacc(0x4ba)]['_id'][_0x16eacc(0x23c)]());if(_0x317d1b===-0x1){this[_0x16eacc(0x607)](_0x16eacc(0x606)+_0x30b689[_0x16eacc(0x4ba)]['_id']+_0x16eacc(0x56d));return;}for(let _0x1034e8 in _0x30b689[_0x16eacc(0x4ba)])_0x30b689[_0x16eacc(0x4ba)][_0x16eacc(0x640)](_0x1034e8)&&(_0x1a6c62[_0x16eacc(0x690)][_0x317d1b][_0x1034e8]=_0x30b689[_0x16eacc(0x4ba)][_0x1034e8]);}[a0_0x2a4c6a(0x430)](_0x862783,_0x156f9f){const _0xa18245=a0_0x2a4c6a;_0x862783[_0xa18245(0x690)][_0xa18245(0x63a)](_0x156f9f[_0xa18245(0x4ba)]);}async[a0_0x2a4c6a(0x4ab)](_0x4873b6){const _0x226666=a0_0x2a4c6a;this['logger'][_0x226666(0x33d)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x226666(0x4b9)+_0x4873b6);try{this[_0x226666(0xe0)][_0x226666(0x33d)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x226666(0x171));let _0x181f4e=await this[_0x226666(0x5a1)][_0x226666(0x231)][_0x226666(0xae)]({'where':{'name':_0x4873b6['name']}},this['instance'][_0x226666(0x617)]);if(!_0x181f4e)throw new Error('Flow\x20não\x20encontrado');if(_0x4873b6[_0x226666(0x1c3)]&&_0x4873b6[_0x226666(0x1c3)]?.[_0x226666(0x572)]===!0x0){if(this[_0x226666(0xe0)][_0x226666(0x33d)](this[_0x226666(0x180)]+'\x20('+this[_0x226666(0x6a8)][_0x226666(0x617)]+'):\x20delete\x20=\x20true'),_0x4873b6['group'][_0x226666(0x51f)]===!0x0)return{'message':'Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão'};if(_0x181f4e[_0x226666(0x19b)]['some'](_0x3e7681=>_0x3e7681[_0x226666(0x179)][_0x226666(0x23c)]()===_0x4873b6['group'][_0x226666(0x6c3)]))return this['logger'][_0x226666(0x33d)](this[_0x226666(0x180)]+'\x20('+this[_0x226666(0x6a8)][_0x226666(0x617)]+_0x226666(0x3ab)),{'message':_0x226666(0x6e3)};_0x181f4e[_0x226666(0x4e9)]=_0x181f4e[_0x226666(0x4e9)][_0x226666(0x549)](_0x53a687=>_0x53a687[_0x226666(0x6c3)][_0x226666(0x23c)]()!==_0x4873b6[_0x226666(0x1c3)][_0x226666(0x6c3)]);}else{if(_0x4873b6[_0x226666(0x1c3)]){if(_0x4873b6['group'][_0x226666(0x51f)]===!0x0)return{'message':_0x226666(0x283)};if(_0x4873b6[_0x226666(0x1c3)][_0x226666(0x6c3)]){let _0x2d5da8=_0x181f4e[_0x226666(0x4e9)]['find'](_0x10129f=>_0x10129f[_0x226666(0x6c3)][_0x226666(0x23c)]()===_0x4873b6[_0x226666(0x1c3)][_0x226666(0x6c3)]);_0x2d5da8&&(_0x4873b6[_0x226666(0x1c3)]['x']<0x0&&(_0x4873b6[_0x226666(0x1c3)]['x']=0x0),_0x4873b6[_0x226666(0x1c3)]['y']<0x0&&(_0x4873b6[_0x226666(0x1c3)]['y']=0x0),Object['assign'](_0x2d5da8,_0x4873b6['group']));}else _0x181f4e['groups'][_0x226666(0x63a)](_0x4873b6[_0x226666(0x1c3)]);}}let _0x35d1e9=await this[_0x226666(0x5a1)]['flow'][_0x226666(0x5ad)](_0x181f4e['_id'],_0x181f4e,this[_0x226666(0x6a8)]['wuid']);if(!_0x35d1e9)throw new Error(_0x226666(0x6ad));return _0x35d1e9;}catch(_0x317c93){throw this['logger'][_0x226666(0x53e)](this[_0x226666(0x180)]+'\x20('+this[_0x226666(0x6a8)][_0x226666(0x617)]+_0x226666(0x6d6)+(_0x317c93 instanceof Error?_0x317c93[_0x226666(0x55b)]:JSON['stringify'](_0x317c93,null,0x2))),new h(_0x226666(0x225)+(_0x317c93 instanceof Error?_0x317c93[_0x226666(0x55b)]:JSON['stringify'](_0x317c93,null,0x2)));}}async[a0_0x2a4c6a(0x11c)](_0x1c52c9){const _0x47f486=a0_0x2a4c6a;try{this[_0x47f486(0xe0)][_0x47f486(0x33d)](this['instanceName']+'\x20('+this[_0x47f486(0x6a8)]['wuid']+_0x47f486(0x60d));let _0x505ebd=await this[_0x47f486(0x5a1)]['flow']['findOne']({'where':{'name':_0x1c52c9['name']}},this['instance']['wuid']);if(!_0x505ebd)throw new Error(_0x47f486(0x241));let _0x168d71=!0x1;if(_0x1c52c9[_0x47f486(0x304)]?.[_0x47f486(0x572)]===!0x0)_0x505ebd[_0x47f486(0x35d)]=_0x505ebd['conditions'][_0x47f486(0x549)](_0x1c02c9=>_0x1c02c9&&_0x1c52c9[_0x47f486(0x304)]&&_0x1c02c9[_0x47f486(0x6c3)]&&_0x1c52c9[_0x47f486(0x304)]['_id']&&_0x1c02c9[_0x47f486(0x6c3)]['toString']()!==_0x1c52c9[_0x47f486(0x304)]['_id'][_0x47f486(0x23c)]()),_0x168d71=!0x0;else{let _0x23a2db=_0x505ebd[_0x47f486(0x35d)][_0x47f486(0x2e9)](_0x75f07a=>_0x75f07a&&_0x1c52c9['condition']&&_0x75f07a['_id']&&_0x1c52c9[_0x47f486(0x304)][_0x47f486(0x6c3)]&&_0x75f07a['_id'][_0x47f486(0x23c)]()===_0x1c52c9[_0x47f486(0x304)]['_id'][_0x47f486(0x23c)]());_0x23a2db?(_0x168d71=_0x23a2db[_0x47f486(0x2ae)]!==_0x1c52c9[_0x47f486(0x304)]['order'],Object[_0x47f486(0x4d0)](_0x23a2db,_0x1c52c9[_0x47f486(0x304)])):(_0x505ebd[_0x47f486(0x35d)][_0x47f486(0x63a)](_0x1c52c9['condition']),_0x168d71=!0x0);}if(_0x168d71){_0x505ebd['conditions'][_0x47f486(0x38e)]((_0x56c33d,_0x1683c9)=>_0x56c33d[_0x47f486(0x2ae)]>_0x1683c9['order']?0x1:_0x1683c9[_0x47f486(0x2ae)]>_0x56c33d[_0x47f486(0x2ae)]?-0x1:0x0);for(let _0xde0298=0x0;_0xde0298<_0x505ebd[_0x47f486(0x35d)]['length'];_0xde0298++)_0x505ebd[_0x47f486(0x35d)][_0xde0298]['order']=_0xde0298+0x1;_0x505ebd[_0x47f486(0x35d)][_0x47f486(0x378)]>0x0&&(_0x505ebd['conditions'][0x0][_0x47f486(0x1b4)]=_0x47f486(0x699));}let _0x500d50=await this[_0x47f486(0x5a1)][_0x47f486(0x231)][_0x47f486(0x5ad)](_0x505ebd[_0x47f486(0x6c3)],_0x505ebd,this[_0x47f486(0x6a8)][_0x47f486(0x617)]);if(!_0x500d50)throw new Error(_0x47f486(0x6ad));return _0x500d50;}catch(_0x594d3e){throw this['logger'][_0x47f486(0x53e)](this[_0x47f486(0x180)]+'\x20('+this[_0x47f486(0x6a8)][_0x47f486(0x617)]+_0x47f486(0x45a)+(_0x594d3e instanceof Error?_0x594d3e[_0x47f486(0x55b)]:JSON[_0x47f486(0x45c)](_0x594d3e,null,0x2))),new Error(_0x47f486(0x5af)+(_0x594d3e instanceof Error?_0x594d3e[_0x47f486(0x55b)]:JSON[_0x47f486(0x45c)](_0x594d3e,null,0x2)));}}async[a0_0x2a4c6a(0x170)](_0x4dd1ce){const _0x44deb6=a0_0x2a4c6a;try{this['logger'][_0x44deb6(0x33d)](this['instanceName']+'\x20('+this['instance'][_0x44deb6(0x617)]+_0x44deb6(0x50d));let _0xcafb26=await this[_0x44deb6(0x5a1)][_0x44deb6(0x231)][_0x44deb6(0xae)]({'where':{'name':_0x4dd1ce['name']}},this[_0x44deb6(0x6a8)]['wuid']);if(!_0xcafb26)throw new Error('Flow\x20não\x20encontrado');let _0xa20cdf=!0x1;if(_0x4dd1ce[_0x44deb6(0x5de)]?.[_0x44deb6(0x572)]===!0x0)_0xcafb26[_0x44deb6(0x3de)]=_0xcafb26[_0x44deb6(0x3de)][_0x44deb6(0x549)](_0x14f635=>_0x14f635&&_0x4dd1ce['varedit']&&_0x14f635['_id']&&_0x4dd1ce['varedit'][_0x44deb6(0x6c3)]&&_0x14f635[_0x44deb6(0x6c3)][_0x44deb6(0x23c)]()!==_0x4dd1ce[_0x44deb6(0x5de)][_0x44deb6(0x6c3)][_0x44deb6(0x23c)]()),_0xa20cdf=!0x0;else{let _0x40fda2=_0xcafb26[_0x44deb6(0x3de)][_0x44deb6(0x2e9)](_0x2fa550=>_0x2fa550&&_0x4dd1ce[_0x44deb6(0x5de)]&&_0x2fa550['_id']&&_0x4dd1ce[_0x44deb6(0x5de)][_0x44deb6(0x6c3)]&&_0x2fa550[_0x44deb6(0x6c3)]['toString']()===_0x4dd1ce['varedit'][_0x44deb6(0x6c3)]['toString']());_0x40fda2?(_0xa20cdf=_0x40fda2['order']!==_0x4dd1ce['varedit'][_0x44deb6(0x2ae)],Object[_0x44deb6(0x4d0)](_0x40fda2,_0x4dd1ce['varedit'])):(_0xcafb26['varedits'][_0x44deb6(0x63a)](_0x4dd1ce[_0x44deb6(0x5de)]),_0xa20cdf=!0x0);}if(_0xa20cdf){_0xcafb26['varedits'][_0x44deb6(0x38e)]((_0x36ae81,_0x2ae8d0)=>_0x36ae81[_0x44deb6(0x2ae)]>_0x2ae8d0[_0x44deb6(0x2ae)]?0x1:_0x2ae8d0['order']>_0x36ae81[_0x44deb6(0x2ae)]?-0x1:0x0);for(let _0x504aa1=0x0;_0x504aa1<_0xcafb26[_0x44deb6(0x3de)][_0x44deb6(0x378)];_0x504aa1++)_0xcafb26[_0x44deb6(0x3de)][_0x504aa1][_0x44deb6(0x2ae)]=_0x504aa1+0x1;}let _0xd20c02=await this[_0x44deb6(0x5a1)][_0x44deb6(0x231)][_0x44deb6(0x5ad)](_0xcafb26[_0x44deb6(0x6c3)],_0xcafb26,this['instance'][_0x44deb6(0x617)]);if(!_0xd20c02)throw new Error(_0x44deb6(0x6ad));return _0xd20c02;}catch(_0xccad45){throw this[_0x44deb6(0xe0)][_0x44deb6(0x53e)](this[_0x44deb6(0x180)]+'\x20('+this[_0x44deb6(0x6a8)][_0x44deb6(0x617)]+_0x44deb6(0x45a)+(_0xccad45 instanceof Error?_0xccad45['message']:JSON[_0x44deb6(0x45c)](_0xccad45,null,0x2))),new h(_0x44deb6(0x5af)+(_0xccad45 instanceof Error?_0xccad45['message']:JSON['stringify'](_0xccad45,null,0x2)));}}async[a0_0x2a4c6a(0x4e1)](_0x3dbaa2){const _0x2fbec3=a0_0x2a4c6a;try{this[_0x2fbec3(0xe0)][_0x2fbec3(0x33d)](this[_0x2fbec3(0x180)]+'\x20('+this['instance'][_0x2fbec3(0x617)]+'):\x20Editando\x20variável\x20do\x20fluxo...');let _0x82163b=await this[_0x2fbec3(0x5a1)][_0x2fbec3(0x231)][_0x2fbec3(0xae)]({'where':{'name':_0x3dbaa2[_0x2fbec3(0x194)]}},this[_0x2fbec3(0x6a8)][_0x2fbec3(0x617)]);if(!_0x82163b)throw new Error(_0x2fbec3(0x241));_0x3dbaa2['variable'][_0x2fbec3(0x194)]=_0x3dbaa2[_0x2fbec3(0x356)][_0x2fbec3(0x194)][_0x2fbec3(0x308)](),_0x3dbaa2['variable']['name']['startsWith']('_')&&(_0x3dbaa2[_0x2fbec3(0x356)][_0x2fbec3(0x194)]=_0x3dbaa2[_0x2fbec3(0x356)][_0x2fbec3(0x194)][_0x2fbec3(0x54e)](0x1)),_0x3dbaa2[_0x2fbec3(0x356)][_0x2fbec3(0x194)]=_0x3dbaa2[_0x2fbec3(0x356)][_0x2fbec3(0x194)][_0x2fbec3(0x308)]();let _0x274049=_0x82163b['variables']['find'](_0xf04ed0=>_0xf04ed0[_0x2fbec3(0x194)]===_0x3dbaa2['variable']['name']);if(_0x274049?.[_0x2fbec3(0x427)]===!0x0)throw new Error(_0x2fbec3(0x5d6));if(_0x3dbaa2['variable']?.['delete']===!0x0){if(!_0x274049)return{'message':_0x2fbec3(0x48f)};_0x82163b[_0x2fbec3(0x5dd)]=_0x82163b[_0x2fbec3(0x5dd)][_0x2fbec3(0x549)](_0x9042e5=>_0x9042e5[_0x2fbec3(0x194)]!==_0x3dbaa2[_0x2fbec3(0x356)][_0x2fbec3(0x194)]);}else _0x274049?Object['assign'](_0x274049,_0x3dbaa2[_0x2fbec3(0x356)]):_0x82163b['variables'][_0x2fbec3(0x63a)](_0x3dbaa2['variable']);let _0x2eacb0=await this[_0x2fbec3(0x5a1)]['flow']['updateOne'](_0x82163b['_id'],_0x82163b,this[_0x2fbec3(0x6a8)][_0x2fbec3(0x617)]);if(!_0x2eacb0)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x2eacb0;}catch(_0x365248){throw this[_0x2fbec3(0xe0)][_0x2fbec3(0x53e)](this[_0x2fbec3(0x180)]+'\x20('+this[_0x2fbec3(0x6a8)][_0x2fbec3(0x617)]+'):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20'+(_0x365248 instanceof Error?_0x365248[_0x2fbec3(0x55b)]:JSON[_0x2fbec3(0x45c)](_0x365248,null,0x2))),new h(_0x2fbec3(0x654)+(_0x365248 instanceof Error?_0x365248['message']:JSON[_0x2fbec3(0x45c)](_0x365248,null,0x2)));}}async[a0_0x2a4c6a(0x59d)](_0x2da27b){const _0x3c85f6=a0_0x2a4c6a;let _0x360f1e=null;try{if(!this[_0x3c85f6(0x25b)]?.['flowConfig'][_0x3c85f6(0xd3)])throw new h('Fluxos\x20não\x20estão\x20ativados');this[_0x3c85f6(0xe0)][_0x3c85f6(0x33d)](this['instanceName']+'\x20('+this[_0x3c85f6(0x6a8)][_0x3c85f6(0x617)]+_0x3c85f6(0x52c));let _0x4f90c9=(await this['whatsappNumber']({'numbers':[_0x2da27b[_0x3c85f6(0x575)]]}))[0x0];if(!_0x4f90c9[_0x3c85f6(0x500)]&&!(0x0,w['isJidGroup'])(_0x4f90c9[_0x3c85f6(0xa5)])&&!_0x4f90c9[_0x3c85f6(0xa5)][_0x3c85f6(0x587)]('@broadcast'))throw _0x360f1e=JSON['stringify'](_0x4f90c9,null,0x2),new h(_0x4f90c9);let _0x36eff5=await this[_0x3c85f6(0x5a1)][_0x3c85f6(0x231)][_0x3c85f6(0xae)]({'where':{'name':_0x2da27b[_0x3c85f6(0x194)]}},this[_0x3c85f6(0x6a8)][_0x3c85f6(0x617)]);if(!_0x36eff5)return this[_0x3c85f6(0xe0)]['error'](this['instanceName']+'\x20('+this[_0x3c85f6(0x6a8)][_0x3c85f6(0x617)]+_0x3c85f6(0x2cb)),{'message':_0x3c85f6(0x241)};let _0x20d265=await this['createConversationforStartFlow'](_0x36eff5,_0x4f90c9[_0x3c85f6(0xa5)],_0x2da27b[_0x3c85f6(0x246)]);if(_0x20d265){this['logger'][_0x3c85f6(0x33d)](this[_0x3c85f6(0x180)]+'\x20('+this[_0x3c85f6(0x6a8)]['wuid']+'):\x20Criou\x20conversa\x20no\x20startFlow:');let _0x1b7bda=await this['NextBlock'](_0x20d265);return _0x1b7bda&&await this[_0x3c85f6(0x390)](_0x20d265,_0x1b7bda),{'message':'Flow\x20iniciado\x20com\x20'+_0x2da27b[_0x3c85f6(0x575)]};}}catch(_0xd2d896){if(this[_0x3c85f6(0xe0)][_0x3c85f6(0x53e)](this[_0x3c85f6(0x180)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0xd2d896 instanceof Error?_0xd2d896['message']:JSON[_0x3c85f6(0x45c)](_0xd2d896,null,0x2))),_0x360f1e=_0xd2d896 instanceof Error?_0xd2d896[_0x3c85f6(0x55b)]:JSON['stringify'](_0xd2d896,null,0x2),_0x360f1e)throw new h(_0x3c85f6(0x193)+_0x360f1e);}}async[a0_0x2a4c6a(0x17a)](_0x325c56){const _0x19bf9a=a0_0x2a4c6a;try{let _0x574377={'remoteJid':_0x325c56,'status':_0x19bf9a(0x35e)},_0x293a56={'status':_0x19bf9a(0x1c0)},_0x2f7b21=await this[_0x19bf9a(0x5a1)]['flowConversation'][_0x19bf9a(0x660)](_0x574377,_0x293a56,this[_0x19bf9a(0x6a8)][_0x19bf9a(0x617)]);return this[_0x19bf9a(0xe0)]['verbose'](this[_0x19bf9a(0x180)]+'\x20('+this[_0x19bf9a(0x6a8)]['wuid']+_0x19bf9a(0x60f)),_0x2f7b21;}catch(_0x45620e){throw this['logger'][_0x19bf9a(0x53e)](this[_0x19bf9a(0x180)]+'\x20('+this[_0x19bf9a(0x6a8)][_0x19bf9a(0x617)]+_0x19bf9a(0x17d)+_0x45620e['message']),_0x45620e;}}async[a0_0x2a4c6a(0x330)](_0x5a1f07,_0x42f477,_0x1fa192){const _0x7b5e8=a0_0x2a4c6a;this['logger'][_0x7b5e8(0x33d)](this['instanceName']+'\x20('+this[_0x7b5e8(0x6a8)]['wuid']+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this[_0x7b5e8(0x17a)](_0x42f477);try{let _0x2ac206=require('mongodb')[_0x7b5e8(0x3cf)],_0x182223=Date[_0x7b5e8(0x4f1)](),_0x431328=_0x7b5e8(0x4bd),_0x11ce56={},_0x522afe={},_0x12c4ab={..._0x5a1f07,'chatLog':null},_0x318cbb=await this[_0x7b5e8(0x37b)](_0x12c4ab[_0x7b5e8(0x5dd)]),_0x48ef9b=await this['getVariablesChat'](_0x42f477),_0x22bb3a={..._0x318cbb,..._0x48ef9b,'_remoteJid':_0x42f477},_0x56ae54={'lastReceivedMessage':_0x11ce56,'lastSendMessage':_0x522afe,'lastBlockId':_0x431328,'lastCondition':!0x0,'realVariables':_0x22bb3a};_0x12c4ab['chatLog']=_0x56ae54,_0x12c4ab[_0x7b5e8(0x27f)][_0x7b5e8(0x6d1)]={..._0x22bb3a,..._0x1fa192},delete _0x12c4ab[_0x7b5e8(0x6c3)],_0x12c4ab[_0x7b5e8(0x6c3)]=new _0x2ac206(),_0x12c4ab[_0x7b5e8(0x29d)]=_0x182223,_0x12c4ab[_0x7b5e8(0x2ad)]=_0x7b5e8(0x35e),_0x12c4ab[_0x7b5e8(0x575)]=_0x42f477;let _0x2829b7=await this['repository'][_0x7b5e8(0x467)][_0x7b5e8(0x5ad)](_0x12c4ab[_0x7b5e8(0x6c3)],_0x12c4ab,this['instance'][_0x7b5e8(0x617)]);return this[_0x7b5e8(0xe0)][_0x7b5e8(0x33d)](this[_0x7b5e8(0x180)]+'\x20('+this[_0x7b5e8(0x6a8)]['wuid']+_0x7b5e8(0x596)),_0x2829b7?_0x12c4ab:null;}catch(_0x36496d){throw this[_0x7b5e8(0xe0)][_0x7b5e8(0x53e)](this[_0x7b5e8(0x180)]+'\x20('+this[_0x7b5e8(0x6a8)][_0x7b5e8(0x617)]+_0x7b5e8(0x456)+(_0x36496d instanceof Error?_0x36496d[_0x7b5e8(0x55b)]:JSON[_0x7b5e8(0x45c)](_0x36496d,null,0x2))),new h(_0x36496d[_0x7b5e8(0x55b)]);}}async[a0_0x2a4c6a(0x66c)](_0x4b60b9){const _0x17b86f=a0_0x2a4c6a;try{this['logger'][_0x17b86f(0x33d)](this[_0x17b86f(0x180)]+'\x20('+this[_0x17b86f(0x6a8)][_0x17b86f(0x617)]+_0x17b86f(0x12a)),this['logger']['verbose'](this[_0x17b86f(0x180)]+'\x20('+this[_0x17b86f(0x6a8)][_0x17b86f(0x617)]+_0x17b86f(0x52b)+_0x4b60b9);let _0x36ee1b={'where':{'_id':_0x4b60b9}};return await this[_0x17b86f(0x5a1)][_0x17b86f(0x467)][_0x17b86f(0xae)](_0x36ee1b,this[_0x17b86f(0x6a8)][_0x17b86f(0x617)]);}catch(_0x27a96a){throw this[_0x17b86f(0xe0)]['error'](this[_0x17b86f(0x180)]+'\x20('+this['instance']['wuid']+_0x17b86f(0x245)+(_0x27a96a instanceof Error?_0x27a96a[_0x17b86f(0x55b)]:JSON[_0x17b86f(0x45c)](_0x27a96a,null,0x2))),new h(_0x17b86f(0x4e5)+_0x27a96a[_0x17b86f(0x55b)]);}}async['fetchConversation'](_0x2d771e,_0x4d3f02=0x64){const _0x184eb0=a0_0x2a4c6a;try{return this['logger'][_0x184eb0(0x33d)](this['instanceName']+'\x20('+this[_0x184eb0(0x6a8)][_0x184eb0(0x617)]+_0x184eb0(0x4fc)),await this[_0x184eb0(0x5a1)]['flowConversation'][_0x184eb0(0x2e9)](_0x2d771e,this['instance']['wuid']);}catch(_0x23122c){throw this[_0x184eb0(0xe0)]['error'](this[_0x184eb0(0x180)]+'\x20('+this[_0x184eb0(0x6a8)]['wuid']+_0x184eb0(0x6be)+(_0x23122c instanceof Error?_0x23122c[_0x184eb0(0x55b)]:JSON[_0x184eb0(0x45c)](_0x23122c,null,0x2))),new h('Erro\x20ao\x20buscar\x20conversas:\x20'+_0x23122c[_0x184eb0(0x55b)]);}}async[a0_0x2a4c6a(0x56f)](_0x2f6f89){const _0x20f3da=a0_0x2a4c6a;try{return this[_0x20f3da(0xe0)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x20f3da(0x617)]+_0x20f3da(0x1b9)),this['logger'][_0x20f3da(0x33d)](this[_0x20f3da(0x180)]+'\x20('+this[_0x20f3da(0x6a8)][_0x20f3da(0x617)]+'):\x20Query\x20params:'+_0x2f6f89),(await this[_0x20f3da(0x5a1)][_0x20f3da(0x467)][_0x20f3da(0x29f)]({'where':{'_id':_0x2f6f89}},this[_0x20f3da(0x6a8)]['wuid']))[_0x20f3da(0x591)]===0x0?{'message':_0x20f3da(0x52d)}:{'message':_0x20f3da(0x630)};}catch(_0x51687c){throw this['logger'][_0x20f3da(0x53e)](this[_0x20f3da(0x180)]+'\x20('+this[_0x20f3da(0x6a8)][_0x20f3da(0x617)]+_0x20f3da(0x537)+(_0x51687c instanceof Error?_0x51687c[_0x20f3da(0x55b)]:JSON['stringify'](_0x51687c,null,0x2))),new h(_0x20f3da(0x45d)+_0x51687c[_0x20f3da(0x55b)]);}}async[a0_0x2a4c6a(0x57d)](_0x1805d4){const _0x2efe41=a0_0x2a4c6a;try{let {_id:_0x321586,chatLog:_0x30b24e,status:_0x429000}=_0x1805d4;if(!_0x321586)return{'message':_0x2efe41(0x565)};let _0x236e66={};if(_0x429000!==void 0x0&&(_0x236e66[_0x2efe41(0x2ad)]=_0x429000),Object[_0x2efe41(0x592)](_0x236e66)[_0x2efe41(0x378)]===0x0)return{'message':_0x2efe41(0x5eb)};let _0x3e3068=await this[_0x2efe41(0x5a1)][_0x2efe41(0x467)][_0x2efe41(0x5ad)](_0x321586,_0x236e66,this[_0x2efe41(0x6a8)][_0x2efe41(0x617)]);return _0x3e3068||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0x25dffb){throw this['logger'][_0x2efe41(0x53e)](this[_0x2efe41(0x180)]+'\x20('+this['instance'][_0x2efe41(0x617)]+'):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20'+(_0x25dffb instanceof Error?_0x25dffb[_0x2efe41(0x55b)]:JSON['stringify'](_0x25dffb,null,0x2))),new h(_0x2efe41(0x603)+_0x25dffb[_0x2efe41(0x55b)]);}}async[a0_0x2a4c6a(0x2c4)](_0x40ff4b){const _0x50b653=a0_0x2a4c6a;try{_0x40ff4b[_0x50b653(0x6c3)]=this[_0x50b653(0x552)](_0x40ff4b[_0x50b653(0x6c3)]);let {_id:_0x43d9ec,leadInfo:_0x4eb4e9}=_0x40ff4b;if(!_0x43d9ec)throw new Error(_0x50b653(0x484));let _0x37c817=(_0x479fd8,_0x37b768,_0x9366b7)=>{const _0x5cd4a7=_0x50b653;_0x9366b7[_0x5cd4a7(0x532)](_0x3b4e9f=>{const _0x403809=_0x5cd4a7;_0x479fd8[_0x3b4e9f]!==void 0x0&&(_0x37b768[_0x403809(0xd2)+_0x3b4e9f]=_0x479fd8[_0x3b4e9f]);});},_0xebccdb={};if(_0x37c817(_0x4eb4e9,_0xebccdb,[_0x50b653(0x2b2),_0x50b653(0x1dd),_0x50b653(0x476),_0x50b653(0x466),_0x50b653(0x2ad),_0x50b653(0x1f6),_0x50b653(0x4fa),_0x50b653(0x540),_0x50b653(0x159)]),Array[_0x50b653(0x403)](_0x4eb4e9[_0x50b653(0x28d)])&&(_0xebccdb[_0x50b653(0x47d)]=_0x4eb4e9['customFields']['map'](_0x2dcafd=>({'_id':_0x2dcafd[_0x50b653(0x6c3)],'value':_0x2dcafd['value']}))),_0x40ff4b[_0x50b653(0x427)][_0x50b653(0x1f0)]!==void 0x0&&(_0xebccdb[_0x50b653(0x6b0)]=Number(_0x40ff4b[_0x50b653(0x427)][_0x50b653(0x1f0)])),_0x40ff4b[_0x50b653(0x127)]!==void 0x0&&(_0xebccdb[_0x50b653(0x127)]=Number(_0x40ff4b[_0x50b653(0x127)])),Object[_0x50b653(0x592)](_0xebccdb)[_0x50b653(0x378)]===0x0)throw new Error(_0x50b653(0x5eb));let _0x2f542c=await this['repository']['chat'][_0x50b653(0xae)]({'where':{'_id':_0x40ff4b[_0x50b653(0x6c3)]}},this[_0x50b653(0x6a8)]['wuid']);if(!_0x2f542c){let _0x4f7fed=(await this[_0x50b653(0x1e3)]({'numbers':[_0x40ff4b[_0x50b653(0x6c3)]]}))[0x0];if(!_0x4f7fed[_0x50b653(0x500)]&&!(0x0,w[_0x50b653(0x610)])(_0x4f7fed[_0x50b653(0xa5)])&&!_0x4f7fed['jid'][_0x50b653(0x587)]('@broadcast'))throw new h(_0x4f7fed);_0x40ff4b[_0x50b653(0x6c3)]=_0x4f7fed[_0x50b653(0xa5)];}if(_0x40ff4b[_0x50b653(0x691)]!==void 0x0){let _0x48430c=await this[_0x50b653(0x5a1)][_0x50b653(0x4cd)][_0x50b653(0x2e9)]({'where':{}},this[_0x50b653(0x6a8)]['wuid']),_0x5d675c=new Set(_0x2f542c[_0x50b653(0x691)]||[]),_0x3d2bd8=new Set(_0x40ff4b['labels']),_0x434f91=new Set(_0x48430c[_0x50b653(0xfe)](_0x2d3788=>_0x2d3788[_0x50b653(0x6c3)])),_0x17ea01=[..._0x3d2bd8]['filter'](_0x4a4ab0=>!_0x5d675c[_0x50b653(0x3e1)](_0x4a4ab0)&&_0x434f91[_0x50b653(0x3e1)](_0x4a4ab0)),_0x11418b=[..._0x5d675c][_0x50b653(0x549)](_0x46ca2b=>!_0x3d2bd8['has'](_0x46ca2b));for(let _0xff7157 of _0x17ea01)await this[_0x50b653(0x2a6)](_0xff7157,_0x40ff4b[_0x50b653(0x6c3)]),_0x5d675c['add'](_0xff7157);for(let _0x1ce867 of _0x11418b)await this[_0x50b653(0x483)](_0x1ce867,_0x40ff4b[_0x50b653(0x6c3)]),_0x5d675c['delete'](_0x1ce867);_0xebccdb[_0x50b653(0x691)]=[..._0x5d675c];}let _0x392bce=await this[_0x50b653(0x5a1)][_0x50b653(0x633)]['updateOne']({'where':{'_id':_0x40ff4b['_id']}},_0xebccdb,this[_0x50b653(0x6a8)]['wuid']);return _0x392bce&&j(this[_0x50b653(0x180)],_0x50b653(0x40a),{'chat':_0x392bce}),_0x392bce?(this[_0x50b653(0xe0)]['verbose'](this[_0x50b653(0x180)]+'\x20('+this[_0x50b653(0x6a8)][_0x50b653(0x617)]+_0x50b653(0x56c)+JSON[_0x50b653(0x45c)](_0x392bce,null,0x2)),_0x392bce):{'message':_0x50b653(0x6a5)};}catch(_0x19778b){throw this[_0x50b653(0xe0)][_0x50b653(0x53e)](this[_0x50b653(0x180)]+'\x20('+this[_0x50b653(0x6a8)][_0x50b653(0x617)]+_0x50b653(0x6db)+(_0x19778b instanceof Error?_0x19778b[_0x50b653(0x55b)]:JSON[_0x50b653(0x45c)](_0x19778b,null,0x2))),new h(_0x50b653(0x421)+_0x19778b[_0x50b653(0x55b)]);}}async[a0_0x2a4c6a(0x2a6)](_0x9ca757,_0x3ad44e){const _0x44af65=a0_0x2a4c6a;try{await this[_0x44af65(0x451)][_0x44af65(0x123)](_0x3ad44e,_0x9ca757),console[_0x44af65(0x168)](_0x44af65(0x5a6)+_0x9ca757+'\x20adicionado\x20ao\x20chat\x20'+_0x3ad44e+_0x44af65(0x212));}catch(_0x462f84){console[_0x44af65(0x53e)](_0x44af65(0x3e2)+_0x9ca757+_0x44af65(0x344)+_0x3ad44e+':',_0x462f84);}}async[a0_0x2a4c6a(0x483)](_0x524a34,_0x3cf4a3){const _0x3f5d66=a0_0x2a4c6a;try{await this[_0x3f5d66(0x451)]['removeChatLabel'](_0x3cf4a3,_0x524a34),console['log'](_0x3f5d66(0x5a6)+_0x524a34+_0x3f5d66(0x514)+_0x3cf4a3+'\x20com\x20sucesso.');}catch(_0xd2a804){console[_0x3f5d66(0x53e)](_0x3f5d66(0x19a)+_0x524a34+_0x3f5d66(0x608)+_0x3cf4a3+':',_0xd2a804);}}async[a0_0x2a4c6a(0x11a)](_0x102f35){const _0x26dcd1=a0_0x2a4c6a;try{let _0x899e2=await this[_0x26dcd1(0x5a1)][_0x26dcd1(0x459)][_0x26dcd1(0xa7)](this['instance'][_0x26dcd1(0x617)]),_0x1d6898=_0x102f35[_0x26dcd1(0x6c3)]?_0x899e2['agents']['findIndex'](_0x49abb5=>_0x49abb5[_0x26dcd1(0x6c3)]===_0x102f35[_0x26dcd1(0x6c3)]):-0x1;if(_0x102f35[_0x26dcd1(0x572)]&&_0x1d6898>-0x1)_0x899e2[_0x26dcd1(0x4dd)][_0x26dcd1(0x677)](_0x1d6898,0x1);else{if(_0x1d6898>-0x1){let _0x58b607=_0x899e2['agents'][_0x1d6898];_0x102f35[_0x26dcd1(0x6ca)]&&(_0x58b607[_0x26dcd1(0x6ca)]=_0x102f35[_0x26dcd1(0x6ca)]),_0x102f35[_0x26dcd1(0x194)]&&(_0x58b607[_0x26dcd1(0x194)]=_0x102f35[_0x26dcd1(0x194)]),_0x102f35['email']&&(_0x58b607[_0x26dcd1(0x476)]=_0x102f35[_0x26dcd1(0x476)]),_0x102f35[_0x26dcd1(0x6df)]&&(_0x58b607[_0x26dcd1(0x6df)]=_0x102f35[_0x26dcd1(0x6df)]);}else _0x899e2[_0x26dcd1(0x4dd)][_0x26dcd1(0x63a)]({'_id':_0x102f35[_0x26dcd1(0x6c3)]||new ie[(_0x26dcd1(0x51f))][(_0x26dcd1(0x161))][(_0x26dcd1(0x3cf))]()[_0x26dcd1(0x23c)](),'fone':_0x102f35[_0x26dcd1(0x6ca)],'name':_0x102f35[_0x26dcd1(0x194)],'email':_0x102f35[_0x26dcd1(0x476)],'role':_0x102f35[_0x26dcd1(0x6df)]});}let _0x5c3449={'agents':_0x899e2[_0x26dcd1(0x4dd)]},_0x592faa=await this[_0x26dcd1(0x5a1)][_0x26dcd1(0x459)]['update'](_0x5c3449,this['instance'][_0x26dcd1(0x617)]);return this[_0x26dcd1(0x25b)]=_0x592faa,this[_0x26dcd1(0xe0)][_0x26dcd1(0x33d)](this[_0x26dcd1(0x180)]+'\x20('+this['instance'][_0x26dcd1(0x617)]+_0x26dcd1(0x58c)),this[_0x26dcd1(0xe0)]['verbose'](this[_0x26dcd1(0x180)]+'\x20('+this[_0x26dcd1(0x6a8)][_0x26dcd1(0x617)]+_0x26dcd1(0x56c)+this[_0x26dcd1(0x25b)]),_0x592faa;}catch(_0x13ddd1){throw this[_0x26dcd1(0xe0)][_0x26dcd1(0x53e)](this[_0x26dcd1(0x180)]+'\x20('+this[_0x26dcd1(0x6a8)][_0x26dcd1(0x617)]+'):\x20Erro\x20ao\x20editar\x20agentes:\x20'+(_0x13ddd1 instanceof Error?_0x13ddd1[_0x26dcd1(0x55b)]:JSON[_0x26dcd1(0x45c)](_0x13ddd1,null,0x2))),new h(_0x26dcd1(0x4d8)+_0x13ddd1[_0x26dcd1(0x55b)]);}}async[a0_0x2a4c6a(0x40f)](_0x4160a){const _0x59df86=a0_0x2a4c6a;try{let _0xf8a7ef=await this['repository'][_0x59df86(0x459)][_0x59df86(0xa7)](this[_0x59df86(0x6a8)][_0x59df86(0x617)]),_0x23e8c5=_0x4160a[_0x59df86(0x6c3)]?_0xf8a7ef[_0x59df86(0x28d)][_0x59df86(0x34a)](_0x1b1e02=>_0x1b1e02[_0x59df86(0x6c3)]===_0x4160a['_id']):-0x1,_0x501c46=!0x1,_0x5a6c18=_0xf8a7ef[_0x59df86(0x28d)]['some'](_0x3f8709=>_0x3f8709[_0x59df86(0x2ae)]===_0x4160a[_0x59df86(0x2ae)]);if(_0x4160a[_0x59df86(0x572)]&&_0x23e8c5>-0x1)_0xf8a7ef[_0x59df86(0x28d)][_0x59df86(0x677)](_0x23e8c5,0x1),_0x501c46=!0x0;else{if(_0x23e8c5>-0x1){if(_0xf8a7ef[_0x59df86(0x28d)]['some'](_0x4640a1=>_0x4640a1[_0x59df86(0x194)]===_0x4160a[_0x59df86(0x194)]&&_0x4640a1[_0x59df86(0x6c3)]!==_0x4160a[_0x59df86(0x6c3)]))throw new Error(_0x59df86(0x362));let _0x1d48bf=_0xf8a7ef[_0x59df86(0x28d)][_0x23e8c5];_0x4160a[_0x59df86(0x2ae)]&&(_0x5a6c18||!Number[_0x59df86(0x214)](_0x4160a['order']))&&(_0x1d48bf['order']=_0x4160a['order'],_0x501c46=!0x0),_0x4160a[_0x59df86(0x194)]&&(_0x1d48bf['name']=_0x4160a['name']);}else{if(_0xf8a7ef['customFields']['some'](_0xaadb5a=>_0xaadb5a['name']===_0x4160a['name']&&_0xaadb5a[_0x59df86(0x6c3)]!==_0x4160a[_0x59df86(0x6c3)]))throw new Error(_0x59df86(0x362));_0xf8a7ef['customFields'][_0x59df86(0x63a)]({'_id':_0x4160a[_0x59df86(0x6c3)]||new ie[(_0x59df86(0x51f))][(_0x59df86(0x161))][(_0x59df86(0x3cf))]()[_0x59df86(0x23c)](),'order':_0x4160a[_0x59df86(0x2ae)],'name':_0x4160a['name']}),_0x501c46=!0x0;}}if(_0x501c46){_0xf8a7ef[_0x59df86(0x28d)]['sort']((_0x2af4ff,_0x3ac080)=>_0x2af4ff[_0x59df86(0x2ae)]>_0x3ac080[_0x59df86(0x2ae)]?0x1:_0x3ac080['order']>_0x2af4ff['order']?-0x1:0x0);for(let _0x5343e6=0x0;_0x5343e6<_0xf8a7ef[_0x59df86(0x28d)]['length'];_0x5343e6++)_0xf8a7ef[_0x59df86(0x28d)][_0x5343e6][_0x59df86(0x2ae)]=_0x5343e6+0x1;}let _0x4bbf38=await this[_0x59df86(0x5a1)][_0x59df86(0x459)]['update'](_0xf8a7ef,this[_0x59df86(0x6a8)]['wuid']);return this[_0x59df86(0x25b)]=_0x4bbf38,this[_0x59df86(0xe0)][_0x59df86(0x33d)](this[_0x59df86(0x180)]+'\x20('+this[_0x59df86(0x6a8)][_0x59df86(0x617)]+_0x59df86(0x4a5)),this[_0x59df86(0xe0)]['verbose'](this[_0x59df86(0x180)]+'\x20('+this[_0x59df86(0x6a8)][_0x59df86(0x617)]+_0x59df86(0x56c)+this['AutomateSystem']),_0x4bbf38;}catch(_0x49dcb7){throw this[_0x59df86(0xe0)][_0x59df86(0x53e)](this[_0x59df86(0x180)]+'\x20('+this[_0x59df86(0x6a8)]['wuid']+_0x59df86(0x1c8)+(_0x49dcb7 instanceof Error?_0x49dcb7['message']:JSON[_0x59df86(0x45c)](_0x49dcb7,null,0x2))),new h(_0x59df86(0x28e)+_0x49dcb7[_0x59df86(0x55b)]);}}async[a0_0x2a4c6a(0x12f)](_0x3db1e5){const _0x58f33e=a0_0x2a4c6a;try{let _0x3db5d2=await this[_0x58f33e(0x5a1)][_0x58f33e(0x459)][_0x58f33e(0xa7)](this[_0x58f33e(0x6a8)][_0x58f33e(0x617)]);if(!_0x3db5d2)throw new Error(_0x58f33e(0x374));let _0xb2c9d6={'_id':_0x3db5d2[_0x58f33e(0x6c3)],'flowConfig':{'enabled':_0x3db1e5['enabled']??_0x3db5d2[_0x58f33e(0x528)][_0x58f33e(0xd3)],'ignoreGroups':_0x3db1e5[_0x58f33e(0x53a)]??_0x3db5d2[_0x58f33e(0x528)]['ignoreGroups'],'prefixCommand':_0x3db1e5['prefixCommand']??_0x3db5d2['flowConfig'][_0x58f33e(0x23e)],'stopConversation':_0x3db1e5[_0x58f33e(0x2e6)]??_0x3db5d2[_0x58f33e(0x528)][_0x58f33e(0x2e6)],'stopMinutes':_0x3db1e5[_0x58f33e(0x440)]??_0x3db5d2[_0x58f33e(0x528)]['stopMinutes'],'stopWhenYouSendMsg':_0x3db1e5[_0x58f33e(0x4d3)]??_0x3db5d2['flowConfig'][_0x58f33e(0x4d3)]}},_0xa6d7c7=await this['repository'][_0x58f33e(0x459)][_0x58f33e(0x25a)](_0xb2c9d6,this[_0x58f33e(0x6a8)][_0x58f33e(0x617)]);return this[_0x58f33e(0x25b)]=_0xa6d7c7,this[_0x58f33e(0xe0)][_0x58f33e(0x33d)](this['instanceName']+'\x20('+this[_0x58f33e(0x6a8)][_0x58f33e(0x617)]+_0x58f33e(0x58c)),this['logger'][_0x58f33e(0x33d)](this[_0x58f33e(0x180)]+'\x20('+this[_0x58f33e(0x6a8)][_0x58f33e(0x617)]+_0x58f33e(0x56c)+this[_0x58f33e(0x25b)]),setTimeout(()=>this[_0x58f33e(0xf2)](),0x7d0),_0xa6d7c7;}catch(_0x4d52c1){throw this[_0x58f33e(0xe0)][_0x58f33e(0x53e)](this[_0x58f33e(0x180)]+'\x20('+this[_0x58f33e(0x6a8)][_0x58f33e(0x617)]+_0x58f33e(0x13a)+(_0x4d52c1 instanceof Error?_0x4d52c1['message']:JSON[_0x58f33e(0x45c)](_0x4d52c1,null,0x2))),new h(_0x58f33e(0x18d)+_0x4d52c1['message']);}}async[a0_0x2a4c6a(0x410)](){const _0x1d7633=a0_0x2a4c6a;try{let _0xd09b54=await this[_0x1d7633(0x5a1)][_0x1d7633(0x459)][_0x1d7633(0xa7)](this['instance'][_0x1d7633(0x617)]);return this[_0x1d7633(0x25b)]=_0xd09b54,this[_0x1d7633(0xe0)][_0x1d7633(0x33d)](this[_0x1d7633(0x180)]+'\x20('+this[_0x1d7633(0x6a8)][_0x1d7633(0x617)]+_0x1d7633(0x50a)),this[_0x1d7633(0xe0)][_0x1d7633(0x33d)](this[_0x1d7633(0x25b)]),_0xd09b54;}catch(_0x1a3fa8){throw this[_0x1d7633(0xe0)]['error'](this[_0x1d7633(0x180)]+'\x20('+this[_0x1d7633(0x6a8)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+(_0x1a3fa8 instanceof Error?_0x1a3fa8[_0x1d7633(0x55b)]:JSON[_0x1d7633(0x45c)](_0x1a3fa8,null,0x2))),new h('Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+_0x1a3fa8[_0x1d7633(0x55b)]);}}async['setRestartTimer'](){const _0x243706=a0_0x2a4c6a;this[_0x243706(0x1b1)]&&clearTimeout(this['timerId']),this['timerId']=setTimeout(()=>{const _0xd59edd=_0x243706;this[_0xd59edd(0x30a)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async['checkAndRestartProcess'](){const _0x158a7d=a0_0x2a4c6a;Date[_0x158a7d(0x4f1)]()-this[_0x158a7d(0x2ce)]>=0x1d4c0&&(this[_0x158a7d(0xe0)][_0x158a7d(0x33d)](this[_0x158a7d(0x180)]+'\x20('+this['instance']['wuid']+_0x158a7d(0x373)),this[_0x158a7d(0x358)]=null,this['lastSend']=0x0,this[_0x158a7d(0x5ce)]=0x0,await this[_0x158a7d(0xf2)]());}async['scheduleNextCheck'](){const _0x324c6c=a0_0x2a4c6a;let _0x4dd83a=()=>{const _0x1c1660=a0_0x5ebe;this[_0x1c1660(0xe0)][_0x1c1660(0x33d)](this[_0x1c1660(0x180)]+'\x20('+this[_0x1c1660(0x6a8)][_0x1c1660(0x617)]+'):\x20this.processingScheduleMessageId:\x20'+this[_0x1c1660(0x358)]+_0x1c1660(0x573));},_0x188a7b=async()=>{const _0x3fa46a=a0_0x5ebe;this[_0x3fa46a(0xe0)]['verbose'](this[_0x3fa46a(0x180)]+'\x20('+this[_0x3fa46a(0x6a8)][_0x3fa46a(0x617)]+_0x3fa46a(0x328));let _0x48f131=Date[_0x3fa46a(0x4f1)]()-0xc*0x3c*0x3c*0x3e8,_0x4ac208={'where':{'status':{'$in':[_0x3fa46a(0x6c1),_0x3fa46a(0x200)]},'$or':[{'when':{'$lte':Date[_0x3fa46a(0x4f1)](),'$gte':_0x48f131}},{'when':0x0}]}};return await this[_0x3fa46a(0x5a1)][_0x3fa46a(0x40b)][_0x3fa46a(0x2e9)](_0x4ac208,this[_0x3fa46a(0x6a8)][_0x3fa46a(0x617)]);},_0x8cf311=async _0x4a1128=>{const _0x51e08d=a0_0x5ebe;for(let _0x71dd89 of _0x4a1128){if(!await this['repository'][_0x51e08d(0x40b)]['updateOne']({'_id':_0x71dd89['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x51e08d(0x4f1)]()-0x1770}}]},{'$set':{'startSend':Date['now']()}},this['instance']['wuid']))return;if(!this[_0x51e08d(0x3d5)]){this[_0x51e08d(0xe0)][_0x51e08d(0x33d)](this[_0x51e08d(0x180)]+'\x20('+this[_0x51e08d(0x6a8)][_0x51e08d(0x617)]+_0x51e08d(0x15b));break;}if(_0x71dd89['type']===_0x51e08d(0x231)&&!this['AutomateSystem']?.[_0x51e08d(0x528)]['enabled']){this[_0x51e08d(0xe0)][_0x51e08d(0x53e)](this[_0x51e08d(0x180)]+'\x20('+this[_0x51e08d(0x6a8)][_0x51e08d(0x617)]+_0x51e08d(0x1e9));continue;}(!_0x71dd89['remoteJidsRemaining']||_0x71dd89[_0x51e08d(0x600)][_0x51e08d(0x378)]===0x0)&&(_0x71dd89=await this[_0x51e08d(0x5a1)][_0x51e08d(0x40b)][_0x51e08d(0x233)](_0x71dd89[_0x51e08d(0x6c3)],{'status':_0x51e08d(0x200),'remoteJidsRemaining':[..._0x71dd89[_0x51e08d(0x650)]]},this[_0x51e08d(0x6a8)][_0x51e08d(0x617)]));for(let _0x59e0ae of _0x71dd89['remoteJidsRemaining']){if(await this[_0x51e08d(0x62f)](),this[_0x51e08d(0x2ce)]=Date[_0x51e08d(0x4f1)](),_0x71dd89[_0x51e08d(0x51b)][_0x51e08d(0x354)](_0x3fd93d=>_0x3fd93d[_0x51e08d(0x575)]===_0x59e0ae)){this[_0x51e08d(0xe0)][_0x51e08d(0x33d)](this[_0x51e08d(0x180)]+'\x20('+this[_0x51e08d(0x6a8)][_0x51e08d(0x617)]+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x59e0ae+_0x51e08d(0x6b5));continue;}if(!this['isConnected']){this['logger'][_0x51e08d(0x33d)](this[_0x51e08d(0x180)]+'\x20('+this['instance'][_0x51e08d(0x617)]+_0x51e08d(0x61f));break;}if(!this['processingScheduleMessageId']){this[_0x51e08d(0xe0)]['verbose'](this[_0x51e08d(0x180)]+'\x20('+this[_0x51e08d(0x6a8)][_0x51e08d(0x617)]+_0x51e08d(0x3d3)+_0x71dd89[_0x51e08d(0x6c3)]+_0x51e08d(0x2cd));break;}if(_0x71dd89[_0x51e08d(0x2bb)]===_0x51e08d(0x231)&&!this[_0x51e08d(0x25b)]?.['flowConfig'][_0x51e08d(0xd3)]){this['logger'][_0x51e08d(0x53e)](this[_0x51e08d(0x180)]+'\x20('+this[_0x51e08d(0x6a8)][_0x51e08d(0x617)]+_0x51e08d(0x1e9));break;}let _0x2caba9={'remoteJid':_0x59e0ae,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date['now']()},_0x1361d5=null;try{let _0x4925a0=await this[_0x51e08d(0x16c)](_0x59e0ae,_0x71dd89);_0x2caba9[_0x51e08d(0x53e)]=_0x4925a0[_0x51e08d(0x53e)],_0x2caba9['id']=_0x4925a0[_0x51e08d(0x53e)]?null:_0x4925a0['id'],_0x2caba9['error_log']=_0x4925a0[_0x51e08d(0x53e)]?_0x4925a0[_0x51e08d(0x116)]?_0x4925a0[_0x51e08d(0x116)][_0x51e08d(0x23c)]():'':null;let _0x29fc08={'$push':{'messagesSend':_0x2caba9},'$pull':{'remoteJidsRemaining':_0x59e0ae}},_0x1b7b67=_0x71dd89[_0x51e08d(0x6c3)];if(_0x1361d5=await this['repository'][_0x51e08d(0x40b)]['updateOneById'](_0x1b7b67,_0x29fc08,this[_0x51e08d(0x6a8)][_0x51e08d(0x617)]),_0x4925a0['error'])continue;let _0x4fe0d1=this['getDelay'](_0x71dd89[_0x51e08d(0x310)],_0x71dd89[_0x51e08d(0x3a7)]);await this[_0x51e08d(0x64a)](_0x4fe0d1);}catch(_0x4a83fb){this[_0x51e08d(0xe0)][_0x51e08d(0x53e)](this['instanceName']+'\x20('+this[_0x51e08d(0x6a8)][_0x51e08d(0x617)]+'):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20'+_0x59e0ae+':\x20'+(_0x4a83fb instanceof Error?_0x4a83fb[_0x51e08d(0x55b)]:JSON[_0x51e08d(0x45c)](_0x4a83fb,null,0x2))),_0x2caba9[_0x51e08d(0x53e)]=!0x0,_0x2caba9[_0x51e08d(0x6e5)]=_0x4a83fb[_0x51e08d(0x55b)];let _0x3a80ed={'$push':{'messagesSend':_0x2caba9},'$pull':{'remoteJidsRemaining':_0x59e0ae}},_0x208a6f=_0x71dd89['_id'];_0x1361d5=await this[_0x51e08d(0x5a1)][_0x51e08d(0x40b)][_0x51e08d(0x233)](_0x208a6f,_0x3a80ed,this[_0x51e08d(0x6a8)][_0x51e08d(0x617)]);}finally{if(_0x1361d5&&_0x1361d5[_0x51e08d(0x2ad)]===_0x51e08d(0xc2)){this[_0x51e08d(0xe0)][_0x51e08d(0x33d)](this[_0x51e08d(0x180)]+'\x20('+this[_0x51e08d(0x6a8)]['wuid']+_0x51e08d(0x3d3)+_0x71dd89[_0x51e08d(0x6c3)]+_0x51e08d(0x121));break;}}}let _0x3f7643=await this[_0x51e08d(0x5a1)][_0x51e08d(0x40b)][_0x51e08d(0x48c)](_0x71dd89[_0x51e08d(0x6c3)],this[_0x51e08d(0x6a8)][_0x51e08d(0x617)]);if(_0x3f7643[_0x51e08d(0x600)]['length']===0x0&&_0x3f7643[_0x51e08d(0x2ad)]!=='stopped'){let _0x18f1a2={'$set':{'status':_0x51e08d(0x312)}},_0x4441a4=_0x3f7643[_0x51e08d(0x6c3)];await this[_0x51e08d(0x5a1)]['scheduleMessage']['updateOneById'](_0x4441a4,_0x18f1a2,this['instance'][_0x51e08d(0x617)]);}await new Promise(_0x241fcb=>setTimeout(_0x241fcb,0x1388));}},_0x87aab2=async()=>{const _0x578641=a0_0x5ebe;let _0x2957cc={'where':{'status':_0x578641(0x6c1),'when':{'$gt':Date['now']()}}},_0x41bf27=await this[_0x578641(0x5a1)][_0x578641(0x40b)][_0x578641(0xae)](_0x2957cc,this[_0x578641(0x6a8)][_0x578641(0x617)]);_0x41bf27&&_0x41bf27[_0x578641(0x524)]-Date[_0x578641(0x4f1)]()<=0x5265c00?this[_0x578641(0x5ce)]=_0x41bf27[_0x578641(0x524)]-Date[_0x578641(0x4f1)]():this[_0x578641(0x5ce)]=(0x3c+Math['floor'](Math[_0x578641(0x275)]()*0x3c))*0x3c*0x3e8,this['delayMessage']=Math[_0x578641(0x59b)](this['delayMessage'],0x7d0);let _0x149227=Math[_0x578641(0x345)](this[_0x578641(0x5ce)]/0xea60);if(_0x41bf27){let _0x5158fe=new Date(_0x41bf27[_0x578641(0x524)])[_0x578641(0x2dc)]();this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x578641(0x6a8)][_0x578641(0x617)]+_0x578641(0x337)+_0x5158fe+_0x578641(0x2c2)+_0x149227+_0x578641(0x1e1));}else this[_0x578641(0xe0)][_0x578641(0x33d)](this[_0x578641(0x180)]+'\x20('+this[_0x578641(0x6a8)][_0x578641(0x617)]+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x149227+_0x578641(0x1e1));setTimeout(()=>this[_0x578641(0xf2)](),this[_0x578641(0x5ce)]);};if(this[_0x324c6c(0x358)]){await this[_0x324c6c(0x62f)](),_0x4dd83a();return;}if(!this[_0x324c6c(0x3d5)]){this[_0x324c6c(0xe0)][_0x324c6c(0x33d)](this[_0x324c6c(0x180)]+'\x20('+this[_0x324c6c(0x6a8)]['wuid']+_0x324c6c(0x219)),this['processingScheduleMessageId']=null,this[_0x324c6c(0x2ce)]=0x0,this[_0x324c6c(0x5ce)]=0x0;return;}try{let _0x491104=await _0x188a7b();_0x491104[_0x324c6c(0x378)]===0x0?this[_0x324c6c(0xe0)][_0x324c6c(0x33d)](this[_0x324c6c(0x180)]+'\x20('+this[_0x324c6c(0x6a8)][_0x324c6c(0x617)]+_0x324c6c(0x4af)):(this[_0x324c6c(0x358)]=_0x491104[0x0]['_id'],await _0x8cf311(_0x491104)),await _0x87aab2(),this[_0x324c6c(0x358)]=null;}catch(_0x49d0ce){this[_0x324c6c(0xe0)][_0x324c6c(0x53e)]('Error\x20in\x20scheduleNextCheck:\x20'+(_0x49d0ce instanceof Error?_0x49d0ce['message']:JSON[_0x324c6c(0x45c)](_0x49d0ce,null,0x2)));}}['getDelay'](_0xcc0bf2,_0x2e9be2){const _0x429f0c=a0_0x2a4c6a;return _0xcc0bf2=Math[_0x429f0c(0x59b)](0.5,_0xcc0bf2),_0x2e9be2=Math[_0x429f0c(0x5d7)](Math[_0x429f0c(0x59b)](0x3,_0x2e9be2),0x78),Math[_0x429f0c(0x32a)](Math[_0x429f0c(0x275)]()*(_0x2e9be2-_0xcc0bf2+0x1)+_0xcc0bf2)*0x3e8;}[a0_0x2a4c6a(0x64a)](_0x2567ba){return new Promise(_0x28a132=>setTimeout(_0x28a132,_0x2567ba));}async['getVariablesChat'](_0xf48e48){const _0x434d2d=a0_0x2a4c6a;if(!this['AutomateSystem']&&(await this[_0x434d2d(0x410)](),!this['AutomateSystem']))return null;_0xf48e48=this[_0x434d2d(0x552)](_0xf48e48);let _0x5c50a0=await this['repository'][_0x434d2d(0x633)][_0x434d2d(0xae)]({'where':{'_id':_0xf48e48}},this['instance'][_0x434d2d(0x617)]),_0xf2ac83={};if(_0x5c50a0&&_0x5c50a0['leadInfo']){let _0x186fd5=_0x5c50a0[_0x434d2d(0x427)];typeof _0x186fd5[_0x434d2d(0x2b2)]=='string'&&(_0xf2ac83[_0x434d2d(0x2b2)]=_0x186fd5[_0x434d2d(0x2b2)]),typeof _0x186fd5[_0x434d2d(0x1dd)]==_0x434d2d(0x55c)&&(_0xf2ac83[_0x434d2d(0x1dd)]=_0x186fd5[_0x434d2d(0x1dd)]),typeof _0x186fd5['email']=='string'&&(_0xf2ac83['email']=_0x186fd5[_0x434d2d(0x476)]),typeof _0x186fd5[_0x434d2d(0x466)]==_0x434d2d(0x55c)&&(_0xf2ac83[_0x434d2d(0x466)]=_0x186fd5[_0x434d2d(0x466)]),typeof _0x186fd5[_0x434d2d(0x2ad)]==_0x434d2d(0x55c)&&(_0xf2ac83[_0x434d2d(0x2ad)]=_0x186fd5['status']),typeof _0x186fd5['notas']==_0x434d2d(0x55c)&&(_0xf2ac83[_0x434d2d(0x1f6)]=_0x186fd5['notas']),typeof _0x186fd5[_0x434d2d(0x159)]==_0x434d2d(0x55c)&&(_0xf2ac83['responsavelid']=_0x186fd5[_0x434d2d(0x159)]),Array[_0x434d2d(0x403)](_0x186fd5['tags'])&&(_0xf2ac83['tags']=_0x186fd5[_0x434d2d(0x4fa)][_0x434d2d(0x404)](',\x20'));}return _0x5c50a0&&_0x5c50a0[_0x434d2d(0x427)]&&_0x5c50a0[_0x434d2d(0x427)][_0x434d2d(0x28d)]&&_0x5c50a0[_0x434d2d(0x427)][_0x434d2d(0x28d)][_0x434d2d(0x532)](_0xd0eeaf=>{const _0x516ea1=_0x434d2d;let _0x10f27f=this[_0x516ea1(0x25b)]?.[_0x516ea1(0x28d)][_0x516ea1(0x2e9)](_0x381206=>_0x381206['_id']===_0xd0eeaf[_0x516ea1(0x6c3)]);_0x10f27f&&(_0xf2ac83[_0x10f27f[_0x516ea1(0x194)]]=_0xd0eeaf['value']);}),_0xf2ac83;}async[a0_0x2a4c6a(0x58f)](_0x23360e,_0x30e923){const _0x1e2f61=a0_0x2a4c6a;let _0x5e2ea4=await this[_0x1e2f61(0x423)](_0x30e923);return this[_0x1e2f61(0x2b5)](_0x23360e,_0x5e2ea4);}async['editScheduleMessage'](_0x370b22){const _0x1db2fd=a0_0x2a4c6a;try{if(this[_0x1db2fd(0xe0)][_0x1db2fd(0x33d)](this[_0x1db2fd(0x180)]+'\x20('+this[_0x1db2fd(0x6a8)][_0x1db2fd(0x617)]+_0x1db2fd(0x15a)),_0x370b22[_0x1db2fd(0x572)]&&_0x370b22['_id']){if(this['processingScheduleMessageId']===_0x370b22[_0x1db2fd(0x6c3)]['toString']())throw new Error(_0x1db2fd(0xbe));let _0x5405e0=await this[_0x1db2fd(0x5a1)][_0x1db2fd(0x40b)][_0x1db2fd(0x29f)](_0x370b22[_0x1db2fd(0x6c3)],this['instance']['wuid']);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x5405e0;}let _0xcb2d66;if(_0x370b22[_0x1db2fd(0x6c3)]&&(_0xcb2d66=await this[_0x1db2fd(0x5a1)][_0x1db2fd(0x40b)][_0x1db2fd(0x48c)](_0x370b22[_0x1db2fd(0x6c3)],this['instance'][_0x1db2fd(0x617)])),_0xcb2d66){let _0x5ae316;if(this['processingScheduleMessageId']===_0xcb2d66[_0x1db2fd(0x6c3)][_0x1db2fd(0x23c)]())_0x5ae316={'$set':{'status':_0x370b22[_0x1db2fd(0x2ad)]}};else{let {_id:_0x45ceaa,..._0x107f25}=_0x370b22;_0x5ae316={'$set':_0x107f25};}let _0x283f3b=await this[_0x1db2fd(0x5a1)][_0x1db2fd(0x40b)][_0x1db2fd(0x233)](_0x370b22[_0x1db2fd(0x6c3)],_0x5ae316,this[_0x1db2fd(0x6a8)][_0x1db2fd(0x617)]);return setTimeout(()=>this[_0x1db2fd(0xf2)](),0x7d0),_0x283f3b;}else{_0x370b22[_0x1db2fd(0x232)]=this['instance'][_0x1db2fd(0x617)];let _0x5a1c06=await this['repository'][_0x1db2fd(0x40b)][_0x1db2fd(0x1d6)](_0x370b22,this['instance'][_0x1db2fd(0x617)]);return setTimeout(()=>this[_0x1db2fd(0xf2)](),0x7d0),_0x5a1c06;}}catch(_0x2a0d1d){throw this['logger'][_0x1db2fd(0x53e)](this[_0x1db2fd(0x180)]+'\x20('+this[_0x1db2fd(0x6a8)][_0x1db2fd(0x617)]+_0x1db2fd(0x3e3)+(_0x2a0d1d instanceof Error?_0x2a0d1d[_0x1db2fd(0x55b)]:JSON[_0x1db2fd(0x45c)](_0x2a0d1d,null,0x2))),new h('Erro:'+_0x2a0d1d[_0x1db2fd(0x55b)]);}}async['getScheduleMessage'](){const _0x1241b1=a0_0x2a4c6a;try{return await this[_0x1241b1(0x5a1)][_0x1241b1(0x40b)][_0x1241b1(0x2e9)]({'where':{}},this[_0x1241b1(0x6a8)][_0x1241b1(0x617)]);}catch(_0xa448fd){throw this[_0x1241b1(0xe0)][_0x1241b1(0x53e)](this[_0x1241b1(0x180)]+'\x20('+this[_0x1241b1(0x6a8)][_0x1241b1(0x617)]+_0x1241b1(0x32b)+(_0xa448fd instanceof Error?_0xa448fd[_0x1241b1(0x55b)]:JSON['stringify'](_0xa448fd,null,0x2))),new h(_0x1241b1(0x511)+_0xa448fd[_0x1241b1(0x55b)]);}}async[a0_0x2a4c6a(0x3bd)](){const _0x5cb1b2=a0_0x2a4c6a;try{let _0x5f1d3a={'status':'done'},_0x176422=await this[_0x5cb1b2(0x5a1)][_0x5cb1b2(0x40b)][_0x5cb1b2(0x267)](_0x5f1d3a,this['instance'][_0x5cb1b2(0x617)]);if(!_0x176422[_0x5cb1b2(0x53e)])this['logger'][_0x5cb1b2(0x33d)](this['instanceName']+'\x20('+this[_0x5cb1b2(0x6a8)]['wuid']+_0x5cb1b2(0x472));else throw new Error(_0x176422[_0x5cb1b2(0x53e)][_0x5cb1b2(0x55b)]||_0x5cb1b2(0x2e7));return this[_0x5cb1b2(0x522)]();}catch(_0x50572e){throw this[_0x5cb1b2(0xe0)][_0x5cb1b2(0x53e)](this['instanceName']+'\x20('+this[_0x5cb1b2(0x6a8)][_0x5cb1b2(0x617)]+_0x5cb1b2(0x4fe)+(_0x50572e instanceof Error?_0x50572e[_0x5cb1b2(0x55b)]:JSON[_0x5cb1b2(0x45c)](_0x50572e,null,0x2))),new h(_0x5cb1b2(0x511)+_0x50572e['message']);}}async[a0_0x2a4c6a(0x16c)](_0xa12fde,_0x170ed5){const _0x1b4596=a0_0x2a4c6a;try{if(_0x170ed5[_0x1b4596(0x2bb)]===_0x1b4596(0x231)&&!this[_0x1b4596(0x25b)]?.[_0x1b4596(0x528)][_0x1b4596(0xd3)])return this[_0x1b4596(0xe0)][_0x1b4596(0x53e)](this['instanceName']+'\x20('+this['instance'][_0x1b4596(0x617)]+_0x1b4596(0x4f8)),{'error':!0x0,'detail':_0x1b4596(0x693)};switch(_0x170ed5[_0x1b4596(0x2bb)]){case _0x1b4596(0x3e7):return await this[_0x1b4596(0x4f7)](_0x170ed5,_0xa12fde);case _0x1b4596(0x482):return await this['scheduleSendMedia'](_0x170ed5,_0xa12fde);case _0x1b4596(0x22f):return await this['scheduleSendAudio'](_0x170ed5,_0xa12fde);case'flow':let _0x3f4797=new De();return _0x3f4797[_0x1b4596(0x194)]=_0x170ed5[_0x1b4596(0x21a)],_0x3f4797[_0x1b4596(0x575)]=_0xa12fde,await this[_0x1b4596(0x59d)](_0x3f4797);break;default:return this[_0x1b4596(0xe0)][_0x1b4596(0x53e)](this['instanceName']+'\x20('+this[_0x1b4596(0x6a8)][_0x1b4596(0x617)]+'):\x20Comando\x20desconhecido:\x20'+_0x170ed5['type']),{'error':!0x0,'detail':'Comando\x20desconhecido'};}}catch(_0x354b3c){return this[_0x1b4596(0xe0)][_0x1b4596(0x53e)](this[_0x1b4596(0x180)]+'\x20('+this[_0x1b4596(0x6a8)][_0x1b4596(0x617)]+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x354b3c instanceof Error?_0x354b3c[_0x1b4596(0x55b)]:JSON[_0x1b4596(0x45c)](_0x354b3c,null,0x2))),{'error':!0x0,'detail':_0x354b3c[_0x1b4596(0x55b)]};}}['getRandomText'](_0x14ba8f){const _0x189f21=a0_0x2a4c6a;let _0x430cb1=_0x14ba8f[_0x189f21(0xe8)]('|'),_0x5c1acd=Math[_0x189f21(0x32a)](Math[_0x189f21(0x275)]()*_0x430cb1[_0x189f21(0x378)]);return _0x430cb1[_0x5c1acd][_0x189f21(0x308)]();}async[a0_0x2a4c6a(0x4f7)](_0x2cd1f9,_0x327900){const _0x1169e1=a0_0x2a4c6a;if(this[_0x1169e1(0xe0)][_0x1169e1(0x33d)](this[_0x1169e1(0x180)]+'\x20('+this['instance']['wuid']+'):\x20Enviando\x20texto'),!_0x2cd1f9[_0x1169e1(0x55b)][_0x1169e1(0x3e7)]||_0x2cd1f9['message'][_0x1169e1(0x3e7)][_0x1169e1(0x378)]===0x0)return{'error':!0x0,'detail':_0x1169e1(0x5a4)};let _0x4221d4=this[_0x1169e1(0x533)](_0x2cd1f9['message'][_0x1169e1(0x3e7)]),_0x5e987=await this['replaceVariablesChat'](_0x4221d4,_0x327900),_0x24df17={'number':_0x327900,'options':{'delay':_0x2cd1f9[_0x1169e1(0x55b)][_0x1169e1(0x613)]},'textMessage':{'text':_0x5e987}},_0x401a30=null;try{let _0x3220fb=await this['textMessage'](_0x24df17);if(_0x3220fb&&_0x3220fb[_0x1169e1(0x2ad)])return{'error':!0x1,'id':_0x3220fb[_0x1169e1(0x2d1)]['id']};_0x401a30=JSON[_0x1169e1(0x45c)](_0x3220fb),this['logger'][_0x1169e1(0x33d)](this[_0x1169e1(0x180)]+'\x20('+this[_0x1169e1(0x6a8)][_0x1169e1(0x617)]+_0x1169e1(0x56c)+_0x401a30);}catch(_0x3f7af2){this[_0x1169e1(0xe0)]['error'](this[_0x1169e1(0x180)]+'\x20('+this[_0x1169e1(0x6a8)]['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x3f7af2 instanceof Error?_0x3f7af2['message']:JSON[_0x1169e1(0x45c)](_0x3f7af2,null,0x2))),_0x401a30=_0x3f7af2['message'];}if(_0x401a30)return{'error':!0x0,'detail':(typeof _0x401a30=='object'?JSON[_0x1169e1(0x45c)](_0x401a30,null,0x2):_0x401a30)[_0x1169e1(0x34b)](/[\[\]{}\n]/g,'\x20')[_0x1169e1(0x34b)](/  +/g,'\x20')};}async[a0_0x2a4c6a(0x5b6)](_0x321002,_0x5bcef3){const _0x2ec9e9=a0_0x2a4c6a;this[_0x2ec9e9(0xe0)]['verbose'](this[_0x2ec9e9(0x180)]+'\x20('+this[_0x2ec9e9(0x6a8)][_0x2ec9e9(0x617)]+_0x2ec9e9(0x4b1));let _0x571efb;if(_0x321002[_0x2ec9e9(0x55b)][_0x2ec9e9(0x3e7)]&&_0x321002[_0x2ec9e9(0x55b)][_0x2ec9e9(0x3e7)]['length']>0x0){let _0x13e82f=this[_0x2ec9e9(0x533)](_0x321002[_0x2ec9e9(0x55b)][_0x2ec9e9(0x3e7)]);_0x571efb=await this['replaceVariablesChat'](_0x13e82f,_0x5bcef3);}let _0x3a4e54={'number':_0x5bcef3,'options':{'delay':_0x321002[_0x2ec9e9(0x55b)]['delay']},'mediaMessage':{'mediatype':_0x321002[_0x2ec9e9(0x55b)][_0x2ec9e9(0x406)],'caption':_0x571efb,'media':_0x321002[_0x2ec9e9(0x55b)]['urlOrBase64']}},_0x4a94b6=null;try{let _0x3eb24d=await this[_0x2ec9e9(0x4fb)](_0x3a4e54);if(_0x3eb24d&&_0x3eb24d[_0x2ec9e9(0x2ad)])return{'error':!0x1,'id':_0x3eb24d[_0x2ec9e9(0x2d1)]['id']};_0x4a94b6=JSON[_0x2ec9e9(0x45c)](_0x3eb24d),this['logger'][_0x2ec9e9(0x33d)](this[_0x2ec9e9(0x180)]+'\x20('+this['instance'][_0x2ec9e9(0x617)]+_0x2ec9e9(0x56c)+_0x4a94b6);}catch(_0x3e8345){this[_0x2ec9e9(0xe0)][_0x2ec9e9(0x53e)](this[_0x2ec9e9(0x180)]+'\x20('+this[_0x2ec9e9(0x6a8)][_0x2ec9e9(0x617)]+_0x2ec9e9(0x419)+(_0x3e8345 instanceof Error?_0x3e8345['message']:JSON[_0x2ec9e9(0x45c)](_0x3e8345,null,0x2))),_0x4a94b6=_0x3e8345['message'];}if(_0x4a94b6)return{'error':!0x0,'detail':(typeof _0x4a94b6=='object'?JSON[_0x2ec9e9(0x45c)](_0x4a94b6,null,0x2):_0x4a94b6)[_0x2ec9e9(0x34b)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x2a4c6a(0x166)](_0x50fa36,_0x45ee22){const _0x2b57a1=a0_0x2a4c6a;this['logger'][_0x2b57a1(0x33d)](this[_0x2b57a1(0x180)]+'\x20('+this[_0x2b57a1(0x6a8)][_0x2b57a1(0x617)]+_0x2b57a1(0x5f6));let _0x2f63c2={'number':_0x45ee22,'options':{'delay':_0x50fa36[_0x2b57a1(0x55b)][_0x2b57a1(0x613)]},'audioMessage':{'audio':_0x50fa36[_0x2b57a1(0x55b)][_0x2b57a1(0x165)]}},_0x77b177=null;try{let _0x1c4429=await this[_0x2b57a1(0x26c)](_0x2f63c2);if(_0x1c4429&&_0x1c4429[_0x2b57a1(0x2ad)])return{'error':!0x1,'id':_0x1c4429[_0x2b57a1(0x2d1)]['id']};_0x77b177=JSON[_0x2b57a1(0x45c)](_0x1c4429),this[_0x2b57a1(0xe0)][_0x2b57a1(0x33d)](this[_0x2b57a1(0x180)]+'\x20('+this[_0x2b57a1(0x6a8)]['wuid']+_0x2b57a1(0x56c)+_0x77b177);}catch(_0xf709de){this['logger'][_0x2b57a1(0x53e)](this[_0x2b57a1(0x180)]+'\x20('+this[_0x2b57a1(0x6a8)][_0x2b57a1(0x617)]+_0x2b57a1(0x202)+(_0xf709de instanceof Error?_0xf709de['message']:JSON['stringify'](_0xf709de,null,0x2))),_0x77b177=_0xf709de['message'];}if(_0x77b177)return{'error':!0x0,'detail':(typeof _0x77b177=='object'?JSON[_0x2b57a1(0x45c)](_0x77b177,null,0x2):_0x77b177)[_0x2b57a1(0x34b)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}},It=class c{constructor(_0x2c26e8,_0x469b31,_0x39d25c){const _0x37fd89=a0_0x2a4c6a;this[_0x37fd89(0x62e)]=_0x2c26e8,this['configService']=_0x469b31,this['repository']=_0x39d25c,this['db']={},this[_0x37fd89(0x576)]={},this['logger']=new v(c[_0x37fd89(0x194)]),this[_0x37fd89(0x11b)]={},(this[_0x37fd89(0x3e9)](),this[_0x37fd89(0x189)](),Object['assign'](this['db'],_0x469b31[_0x37fd89(0x471)](_0x37fd89(0x38f))),Object[_0x37fd89(0x4d0)](this[_0x37fd89(0x576)],_0x469b31['get'](_0x37fd89(0x3f5))),this[_0x37fd89(0x5ec)]=this['db']['ENABLED']?this['repository'][_0x37fd89(0xc8)]?.['db'](this['db'][_0x37fd89(0x3dd)][_0x37fd89(0x2fa)]+_0x37fd89(0x5e1)):void 0x0,this[_0x37fd89(0x2a8)]=this[_0x37fd89(0x576)][_0x37fd89(0x351)]?new re(this[_0x37fd89(0x576)]):void 0x0);}async['instanceInfo'](_0x11ec40){const _0x1dbc09=a0_0x2a4c6a;if(_0x11ec40&&!this[_0x1dbc09(0x11b)][_0x11ec40])throw new L(_0x1dbc09(0x558)+_0x11ec40+_0x1dbc09(0x12b));let _0x22215c=[];for await(let [_0x477956,_0x37940f]of Object[_0x1dbc09(0x577)](this[_0x1dbc09(0x11b)]))if(_0x37940f&&_0x37940f[_0x1dbc09(0x68b)][_0x1dbc09(0x5d0)]===_0x1dbc09(0x35e)){let _0xd71c1=await this[_0x1dbc09(0x5a1)][_0x1dbc09(0x124)][_0x1dbc09(0x2e9)](_0x477956);_0x22215c[_0x1dbc09(0x63a)]({'instance':{'instanceName':_0x477956,'apikey':_0xd71c1['apikey'],'owner':_0x37940f['wuid'],'profileName':await _0x37940f['getProfileName']()||'not\x20loaded','profilePictureUrl':_0x37940f[_0x1dbc09(0x3dc)]}});}return _0x22215c[_0x1dbc09(0x2e9)](_0x708a26=>_0x708a26[_0x1dbc09(0x6a8)][_0x1dbc09(0x180)]===_0x11ec40)??_0x22215c;}async[a0_0x2a4c6a(0x2ab)](_0x16b389){const _0x2bf564=a0_0x2a4c6a;if(this['db'][_0x2bf564(0x351)]&&(await this[_0x2bf564(0x5a1)][_0x2bf564(0xc8)][_0x2bf564(0x409)](),(await this['dbInstance'][_0x2bf564(0x32d)]())[_0x2bf564(0x378)]>0x0&&await this[_0x2bf564(0x5ec)][_0x2bf564(0x208)](_0x16b389)),this[_0x2bf564(0x576)][_0x2bf564(0x351)]){this['cache'][_0x2bf564(0x1fa)]=_0x16b389,await this[_0x2bf564(0x2a8)]['delAll']();return;}}async[a0_0x2a4c6a(0x3d6)](){const _0xe7300b=a0_0x2a4c6a;await this['InstancesAlterarTodas']();let _0x67612b=async _0x55a7a7=>{const _0x39a8de=a0_0x5ebe;let _0x1ef599=new fe(this[_0x39a8de(0x5c8)],this[_0x39a8de(0x62e)],this[_0x39a8de(0x5a1)]);_0x1ef599[_0x39a8de(0x180)]=_0x55a7a7,await _0x1ef599[_0x39a8de(0x501)](),this['waInstances'][_0x55a7a7]=_0x1ef599;};try{if(this[_0xe7300b(0x576)]['ENABLED']){let _0x5b3835=await this[_0xe7300b(0x2a8)]['instanceKeys']();_0x5b3835?.['length']>0x0&&_0x5b3835[_0xe7300b(0x532)](async _0x519f9b=>await _0x67612b(_0x519f9b['split'](':')[0x1]));return;}if(this['db'][_0xe7300b(0x351)]){await this[_0xe7300b(0x5a1)][_0xe7300b(0xc8)][_0xe7300b(0x409)]();let _0x15a2a1=await this['dbInstance'][_0xe7300b(0x32d)]();_0x15a2a1[_0xe7300b(0x378)]>0x0&&_0x15a2a1[_0xe7300b(0x532)](async _0x1f6c9e=>await _0x67612b(_0x1f6c9e[_0xe7300b(0x30e)][_0xe7300b(0x34b)](/^[\w-]+\./,'')));return;}}catch(_0x595884){this[_0xe7300b(0xe0)]['error'](_0x595884);}}async[a0_0x2a4c6a(0x16a)](){const _0x2daeff=a0_0x2a4c6a;let _0x1cd112=await this['repository'][_0x2daeff(0x124)][_0x2daeff(0x57b)](),_0x47a4b5=_0x1cd112[_0x2daeff(0x549)](_0x4719f5=>!this[_0x2daeff(0x11b)][_0x4719f5['_id']]&&(_0x4719f5[_0x2daeff(0x26a)]||typeof _0x4719f5[_0x2daeff(0x26a)]>'u'));_0x47a4b5[_0x2daeff(0x378)]>0x0&&await Promise[_0x2daeff(0x43f)](_0x47a4b5[_0x2daeff(0xfe)](async _0x58be11=>{const _0x55b285=_0x2daeff;let _0x21a2a5={'online':!0x1,'lastDisconnect':Date[_0x55b285(0x4f1)]()};await this[_0x55b285(0x5a1)][_0x55b285(0x124)][_0x55b285(0x47f)](_0x21a2a5,_0x58be11['_id']);}));let _0x59eddf=Date[_0x2daeff(0x4f1)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x5993ed=_0x1cd112[_0x2daeff(0x549)](_0x21eb07=>!this['waInstances'][_0x21eb07['_id']]&&typeof _0x21eb07['lastDisconnect']<'u'&&_0x21eb07['lastDisconnect']<_0x59eddf);_0x5993ed['length']>0x0&&await Promise[_0x2daeff(0x43f)](_0x5993ed['map'](async _0x562daf=>{}));}async[a0_0x2a4c6a(0x6af)](){const _0x4207c5=a0_0x2a4c6a;try{let _0x5b1800={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x4b9faf={'online':!0x1,'lastDisconnect':Date['now']()},_0x33321e=await this[_0x4207c5(0x5a1)]['auth'][_0x4207c5(0x664)](_0x5b1800,_0x4b9faf);console[_0x4207c5(0x168)]('Instâncias\x20atualizadas\x20como\x20desconectadas:\x20'+_0x33321e['insertCount']),await this[_0x4207c5(0x184)]();}catch(_0x36dc1c){console[_0x4207c5(0x53e)]('Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:',_0x36dc1c);}}async['removeOlderDisconnectedInstances'](){const _0x5b84ef=a0_0x2a4c6a;try{let _0x1a7916={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x936149=await this[_0x5b84ef(0x5a1)]['auth'][_0x5b84ef(0x267)](_0x1a7916);console[_0x5b84ef(0x168)]('Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20'+_0x936149[_0x5b84ef(0x1e7)]);}catch(_0x860aa3){console[_0x5b84ef(0x53e)](_0x5b84ef(0x3ba),_0x860aa3);}}[a0_0x2a4c6a(0x3e9)](){const _0x126408=a0_0x2a4c6a;this[_0x126408(0x62e)]['on'](_0x126408(0x586),async _0x1ac880=>{const _0x4e5b59=_0x126408;try{this['waInstances'][_0x1ac880]=void 0x0;}catch{}try{this[_0x4e5b59(0x2ab)](_0x1ac880);}finally{this[_0x4e5b59(0xe0)][_0x4e5b59(0x399)](_0x4e5b59(0x558)+_0x1ac880+_0x4e5b59(0x23b));}});}['noConnection'](){const _0x5afed4=a0_0x2a4c6a;this[_0x5afed4(0x62e)]['on'](_0x5afed4(0x1e2),async _0x1c5feb=>{const _0x4faa7f=_0x5afed4;try{this[_0x4faa7f(0x11b)][_0x1c5feb]=void 0x0;}catch{}try{this[_0x4faa7f(0x2ab)](_0x1c5feb);}finally{this['logger']['warn'](_0x4faa7f(0x558)+_0x1c5feb+_0x4faa7f(0x65f));}});}},Dt=class extends I{[a0_0x2a4c6a(0x45b)](_0x19e2d9){return Us(_0x19e2d9);}async[a0_0x2a4c6a(0x434)](_0x5f178a){const _0x53e127=a0_0x2a4c6a;if(_0x5f178a[_0x53e127(0x378)]!==0x0)try{return{'insertCount':(await this[_0x53e127(0x45b)](_0x5f178a[0x0][_0x53e127(0x232)])[_0x53e127(0x22b)]([..._0x5f178a]))[_0x53e127(0x378)]};}catch(_0x1dc3b1){return _0x1dc3b1;}}async[a0_0x2a4c6a(0x2e9)](_0x167eb4,_0x32a11f){const _0xed975f=a0_0x2a4c6a;try{let _0x5e0ee0=this[_0xed975f(0x45b)](_0x32a11f),_0x309fd7=A(_0x167eb4['where']);return await _0x5e0ee0[_0xed975f(0x2e9)](_0x309fd7)[_0xed975f(0x38e)]({'lastmsg':-0x1})[_0xed975f(0x520)](_0x167eb4?.[_0xed975f(0x520)]??0x0)[_0xed975f(0x14b)]();}catch{return[];}}async['deleteAll'](_0x5e010f,_0xde5a5f){const _0x4a816a=a0_0x2a4c6a;try{return await this[_0x4a816a(0x45b)](_0xde5a5f)[_0x4a816a(0x267)]({..._0x5e010f['where']}),[];}catch(_0x5192dc){return{'error':_0x5192dc?.[_0x4a816a(0x23c)]()};}}async[a0_0x2a4c6a(0xae)](_0x2f2974,_0x52790f){const _0x829068=a0_0x2a4c6a;try{let _0x2b6841=this[_0x829068(0x45b)](_0x52790f),_0x376744=A(_0x2f2974[_0x829068(0x249)]);return await _0x2b6841[_0x829068(0xae)](_0x376744)['lean']();}catch{return null;}}async[a0_0x2a4c6a(0x5ad)](_0x20d9ad,_0x167f4e,_0x1b1076,_0x4b10bc,_0x5da934=a0_0x2a4c6a(0x5be)){const _0x4c0b11=a0_0x2a4c6a;try{let _0x493b4e={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x4b10bc},_0x13ab22=this[_0x4c0b11(0x45b)](_0x1b1076),_0x37945a=A(_0x20d9ad[_0x4c0b11(0x249)]),_0x2af534={};return _0x2af534[_0x5da934]=_0x167f4e,await _0x13ab22[_0x4c0b11(0x39b)](_0x37945a,_0x2af534,_0x493b4e);}catch(_0x15b81e){return console[_0x4c0b11(0x53e)](_0x15b81e),null;}}async[a0_0x2a4c6a(0x660)](_0x3765){const _0x1d8260=a0_0x2a4c6a;try{let _0x2a2dae=this['getChatModelForOwner'](_0x3765[0x0][_0x1d8260(0x12e)][_0x1d8260(0x249)]['owner']),_0x23402c=_0x3765['map'](_0x1f41a3=>({'updateOne':{'filter':{..._0x1f41a3['query']['where']},'update':{'$set':_0x1f41a3['update']}}}));return(await _0x2a2dae[_0x1d8260(0x6b1)](_0x23402c))[_0x1d8260(0x2e8)];}catch(_0x258e3e){return console[_0x1d8260(0x53e)](_0x258e3e),0x0;}}async[a0_0x2a4c6a(0x22b)](_0x496067,_0x2f4a87){const _0x34e241=a0_0x2a4c6a;if(!Array['isArray'](_0x496067)||_0x496067[_0x34e241(0x378)]===0x0)throw new Error(_0x34e241(0x5e9));try{return(await this['getChatModelForOwner'](_0x2f4a87)[_0x34e241(0x22b)](_0x496067))[_0x34e241(0x378)];}catch(_0x591401){throw console['error'](_0x34e241(0x376),_0x591401),_0x591401;}}async[a0_0x2a4c6a(0x665)](_0x2e7ca3,_0x417cf7){const _0x45d67d=a0_0x2a4c6a;try{await this['getChatModelForOwner'](_0x417cf7)[_0x45d67d(0x5ad)]({'_id':_0x2e7ca3},{'$inc':{'isValidAttempts':0x1}});}catch(_0x465d7b){throw console[_0x45d67d(0x53e)](_0x45d67d(0x416),_0x465d7b),_0x465d7b;}}async[a0_0x2a4c6a(0x256)](_0x14dc6d,_0x1f5258){const _0x3269ef=a0_0x2a4c6a;try{await this['getChatModelForOwner'](_0x1f5258)[_0x3269ef(0x29f)]({'_id':_0x14dc6d});}catch(_0x5e39b7){throw console[_0x3269ef(0x53e)](_0x3269ef(0x401),_0x5e39b7),_0x5e39b7;}}},xt=class extends I{[a0_0x2a4c6a(0x5df)](_0x44aadb){return ca(_0x44aadb);}async[a0_0x2a4c6a(0x5ad)](_0x18bd12,_0x41bb6c,_0x18f81e,_0x55dc48){const _0x2e5444=a0_0x2a4c6a;try{let _0x1c8a5d={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x55dc48},_0x272fd4=this[_0x2e5444(0x5df)](_0x18f81e),_0x3c6b0f=A(_0x18bd12['where']);return await _0x272fd4['findOneAndUpdate'](_0x3c6b0f,{'$set':_0x41bb6c},_0x1c8a5d);}catch(_0x5b1ee7){return console[_0x2e5444(0x53e)](_0x5b1ee7),null;}}async['find'](_0x537e59,_0x58db5c){const _0x126ede=a0_0x2a4c6a;try{let _0x26db04=this[_0x126ede(0x5df)](_0x58db5c),_0x1629ed=A(_0x537e59[_0x126ede(0x249)]);return await _0x26db04[_0x126ede(0x2e9)](_0x1629ed);}catch(_0x949f){console[_0x126ede(0x53e)](_0x949f);}}async[a0_0x2a4c6a(0x572)](_0x5da28c,_0x5da230){const _0x5b443e=a0_0x2a4c6a;try{let _0x17caca=this[_0x5b443e(0x5df)](_0x5da230),_0x1cb3e3=A(_0x5da28c[_0x5b443e(0x249)]);await _0x17caca[_0x5b443e(0x267)](_0x1cb3e3);}catch(_0x524423){console[_0x5b443e(0x53e)](_0x524423);}}async[a0_0x2a4c6a(0x1c4)](_0x1df814){const _0x49e9af=a0_0x2a4c6a;try{return await this['getLabelModelForOwner'](_0x1df814)[_0x49e9af(0x26b)]['drop'](),{'success':!0x0};}catch(_0x15bf66){return console[_0x49e9af(0x53e)](_0x15bf66),{'success':!0x1,'error':_0x15bf66};}}},_t=class{constructor(_0x36e798){const _0x2d8b8d=a0_0x2a4c6a;this[_0x2d8b8d(0x24a)]=_0x36e798;}async[a0_0x2a4c6a(0x2c4)]({instanceName:_0x1edf3b},_0x46fab7){return await this['waMonitor']['waInstances'][_0x1edf3b]['editChat'](_0x46fab7);}async['whatsappNumber']({instanceName:_0x1d2bc2},_0x3f8bd9){const _0x508bcf=a0_0x2a4c6a;return await this[_0x508bcf(0x24a)]['waInstances'][_0x1d2bc2][_0x508bcf(0x1e3)](_0x3f8bd9);}async[a0_0x2a4c6a(0x295)]({instanceName:_0x2617ca},_0x222977){const _0x28f9e8=a0_0x2a4c6a;return await this[_0x28f9e8(0x24a)]['waInstances'][_0x2617ca][_0x28f9e8(0x295)](_0x222977);}async[a0_0x2a4c6a(0x44d)]({instanceName:_0x71b9bd},_0x32c399){const _0x5a57b5=a0_0x2a4c6a;return await this[_0x5a57b5(0x24a)][_0x5a57b5(0x11b)][_0x71b9bd][_0x5a57b5(0x284)](_0x32c399);}async['archiveChat']({instanceName:_0x2f656f},_0x3bea0d){const _0x7dfb6f=a0_0x2a4c6a;return await this[_0x7dfb6f(0x24a)]['waInstances'][_0x2f656f][_0x7dfb6f(0x37c)](_0x3bea0d);}async[a0_0x2a4c6a(0x28a)]({instanceName:_0x152c2b},_0x2a2bd5){const _0x332b68=a0_0x2a4c6a;return await this['waMonitor']['waInstances'][_0x152c2b][_0x332b68(0x28a)](_0x2a2bd5);}async[a0_0x2a4c6a(0x35b)]({instanceName:_0xe5b8a},_0x51864e){const _0x440a53=a0_0x2a4c6a;return await this[_0x440a53(0x24a)][_0x440a53(0x11b)][_0xe5b8a][_0x440a53(0x4fd)](_0x51864e['number']);}async[a0_0x2a4c6a(0x2f5)]({instanceName:_0x41e2e2},_0x5c6140){const _0x3e30ab=a0_0x2a4c6a;return await this[_0x3e30ab(0x24a)][_0x3e30ab(0x11b)][_0x41e2e2]['fetchProfile'](_0x5c6140[_0x3e30ab(0x1cf)]);}async[a0_0x2a4c6a(0x130)]({instanceName:_0x23e965},_0x2da036){const _0xbcd7=a0_0x2a4c6a;return await this[_0xbcd7(0x24a)][_0xbcd7(0x11b)][_0x23e965][_0xbcd7(0x130)](_0x2da036);}async[a0_0x2a4c6a(0xe7)]({instanceName:_0x3d5466},_0x1448f9){const _0x10e593=a0_0x2a4c6a;return await this[_0x10e593(0x24a)][_0x10e593(0x11b)][_0x3d5466][_0x10e593(0xe7)](_0x1448f9);}async[a0_0x2a4c6a(0x490)]({instanceName:_0xff55d0},_0x5583ac){const _0x26b004=a0_0x2a4c6a;return await this[_0x26b004(0x24a)][_0x26b004(0x11b)][_0xff55d0][_0x26b004(0x490)](_0x5583ac);}async[a0_0x2a4c6a(0x563)]({instanceName:_0x45bab6},_0x2b66af){const _0x5da5cd=a0_0x2a4c6a;return await this[_0x5da5cd(0x24a)][_0x5da5cd(0x11b)][_0x45bab6][_0x5da5cd(0x563)](_0x2b66af);}async[a0_0x2a4c6a(0x226)]({instanceName:_0x4f1a58}){const _0xd11d74=a0_0x2a4c6a;return await this['waMonitor'][_0xd11d74(0x11b)][_0x4f1a58]['fetchLabels']();}async[a0_0x2a4c6a(0x21b)]({instanceName:_0x29ebc7}){const _0x137a6c=a0_0x2a4c6a;return await this[_0x137a6c(0x24a)][_0x137a6c(0x11b)][_0x29ebc7]['fetchChats']();}async[a0_0x2a4c6a(0x18e)]({instanceName:_0x4a8dd3}){const _0x56c32f=a0_0x2a4c6a;return await this[_0x56c32f(0x24a)][_0x56c32f(0x11b)][_0x4a8dd3][_0x56c32f(0x18e)]();}async[a0_0x2a4c6a(0x125)]({instanceName:_0x2da43e},_0x107acf){const _0x173d59=a0_0x2a4c6a;return await this[_0x173d59(0x24a)]['waInstances'][_0x2da43e]['updatePrivacySettings'](_0x107acf);}async[a0_0x2a4c6a(0x1d0)]({instanceName:_0x2916d0},_0x5d8230){const _0x2434c5=a0_0x2a4c6a;return await this[_0x2434c5(0x24a)][_0x2434c5(0x11b)][_0x2916d0]['fetchBusinessProfile'](_0x5d8230[_0x2434c5(0x1cf)]);}async['updateProfileName']({instanceName:_0x412b46},_0x542d76){const _0x342d42=a0_0x2a4c6a;return await this['waMonitor'][_0x342d42(0x11b)][_0x412b46]['updateProfileName'](_0x542d76[_0x342d42(0x194)]);}async[a0_0x2a4c6a(0x529)]({instanceName:_0x29ccc5},_0x5b36fe){const _0x4db94e=a0_0x2a4c6a;return await this['waMonitor'][_0x4db94e(0x11b)][_0x29ccc5][_0x4db94e(0x529)](_0x5b36fe[_0x4db94e(0x2ad)]);}async[a0_0x2a4c6a(0x2d4)]({instanceName:_0x4249a6},_0x2a848d){const _0x3dfb02=a0_0x2a4c6a;return await this[_0x3dfb02(0x24a)][_0x3dfb02(0x11b)][_0x4249a6][_0x3dfb02(0x2d4)](_0x2a848d[_0x3dfb02(0x652)]);}async[a0_0x2a4c6a(0x502)]({instanceName:_0x4a8b40},_0x1bbae5){const _0x533991=a0_0x2a4c6a;return await this[_0x533991(0x24a)][_0x533991(0x11b)][_0x4a8b40][_0x533991(0x502)]();}},Ms=require(a0_0x2a4c6a(0x5da)),Pt=class c{constructor(_0xf175f5,_0x266ff8,_0xffab18,_0x1ec6d6,_0x5b9a8d){const _0xff3572=a0_0x2a4c6a;this[_0xff3572(0x24a)]=_0xf175f5,this[_0xff3572(0x5c8)]=_0x266ff8,this[_0xff3572(0x5a1)]=_0xffab18,this[_0xff3572(0x62e)]=_0x1ec6d6,this['authService']=_0x5b9a8d,this[_0xff3572(0xe0)]=new v(c['name']);}async[a0_0x2a4c6a(0x350)]({instanceName:_0x2e0a60,apikey:_0x2b67c1,number:_0x2f515a,proxy:_0x3808e7=!0x0}){const _0x2e1440=a0_0x2a4c6a;try{let _0xa6aef6=new fe(this[_0x2e1440(0x5c8)],this[_0x2e1440(0x62e)],this[_0x2e1440(0x5a1)]);_0xa6aef6['instanceName']=_0x2e0a60,this[_0x2e1440(0x24a)][_0x2e1440(0x11b)][_0xa6aef6['instanceName']]=_0xa6aef6;let _0xcdce09={};_0x2b67c1?(await this[_0x2e1440(0x5a1)]['auth']['create']({'apikey':_0x2b67c1},_0x2e0a60),_0xcdce09[_0x2e1440(0x1ad)]=_0x2b67c1):_0xcdce09=await this['authService'][_0x2e1440(0x126)]({'instanceName':_0xa6aef6[_0x2e1440(0x180)]});let _0x3734eb;return await _0xa6aef6['connectToWhatsapp'](_0x2f515a,_0x3808e7),await(0x0,Ms[_0x2e1440(0x613)])(0x7d0),_0x3734eb=_0xa6aef6[_0x2e1440(0x4e4)],{'instance':{'instanceName':_0xa6aef6[_0x2e1440(0x180)],'status':_0x2e1440(0x2a1)},'hash':_0xcdce09,'qrcode':_0x3734eb};}catch(_0x5edee9){this[_0x2e1440(0xe0)][_0x2e1440(0x53e)](_0x5edee9);}}async[a0_0x2a4c6a(0x3ec)]({instanceName:_0x5ccaa4,number:_0x5f3845=null,proxy:_0x5102e5=!0x0}){const _0x48f865=a0_0x2a4c6a;try{let _0x261c98=this[_0x48f865(0x24a)]['waInstances'][_0x5ccaa4];switch(_0x261c98?.[_0x48f865(0x68b)]?.['state']){case'close':return await _0x261c98[_0x48f865(0x501)](_0x5f3845,_0x5102e5),await(0x0,Ms['delay'])(0x7d0),_0x261c98[_0x48f865(0x4e4)];case _0x48f865(0x384):return _0x261c98[_0x48f865(0x4e4)];default:return await this[_0x48f865(0x1fb)]({'instanceName':_0x5ccaa4});}}catch(_0x25a1ba){this[_0x48f865(0xe0)][_0x48f865(0x168)](_0x25a1ba);}}async[a0_0x2a4c6a(0x1fb)]({instanceName:_0x150699}){const _0x18f93b=a0_0x2a4c6a;let _0x475cc7=this[_0x18f93b(0x24a)][_0x18f93b(0x11b)][_0x150699][_0x18f93b(0x68b)],_0xa70b92=null;_0x475cc7[_0x18f93b(0x5d0)]===_0x18f93b(0x35e)&&_0x150699&&(_0xa70b92=await this[_0x18f93b(0x24a)]['instanceInfo'](_0x150699));let _0x2308bd=null;return _0x475cc7[_0x18f93b(0x5d0)]===_0x18f93b(0x384)&&_0x150699&&(_0x2308bd=this[_0x18f93b(0x24a)][_0x18f93b(0x11b)][_0x150699][_0x18f93b(0x4e4)]),{'instance':_0x150699,'connectionStatus':_0x475cc7,'instanceInfo':_0xa70b92,'qrcode':_0x2308bd};}async[a0_0x2a4c6a(0x237)]({instanceName:_0x1aab9c}){const _0x447ad5=a0_0x2a4c6a;try{return this['waMonitor'][_0x447ad5(0x11b)][_0x1aab9c]?.[_0x447ad5(0x451)]?.['ws']?.['close'](),{'status':_0x447ad5(0x135),'error':!0x1,'response':{'message':_0x447ad5(0x1b0)}};}catch(_0x1386a7){this[_0x447ad5(0xe0)][_0x447ad5(0x53e)](_0x1386a7);}}async[a0_0x2a4c6a(0x67a)]({instanceName:_0xaf2dff}){const _0x4d9d1d=a0_0x2a4c6a;return _0xaf2dff?this[_0x4d9d1d(0x24a)][_0x4d9d1d(0x63e)](_0xaf2dff):this['waMonitor'][_0x4d9d1d(0x63e)]();}async['logout']({instanceName:_0x570fee}){const _0x32d757=a0_0x2a4c6a;try{return await this[_0x32d757(0x24a)][_0x32d757(0x11b)][_0x570fee]?.[_0x32d757(0x451)]?.[_0x32d757(0xf7)](_0x32d757(0x48e)+_0x570fee),{'error':!0x1,'message':_0x32d757(0x24e)};}catch(_0x16dad8){throw new O(_0x16dad8['toString']());}}async['deleteInstance']({instanceName:_0x32b2cc}){const _0x233cf6=a0_0x2a4c6a;if((await this['connectionState']({'instanceName':_0x32b2cc}))[_0x233cf6(0x68b)][_0x233cf6(0x5d0)]===_0x233cf6(0x35e))throw new h([_0x233cf6(0x436),_0x233cf6(0x313)]);try{return delete this[_0x233cf6(0x24a)][_0x233cf6(0x11b)][_0x32b2cc],{'error':!0x1,'message':_0x233cf6(0xf9)};}catch(_0x35d3e5){throw new h(_0x35d3e5[_0x233cf6(0x23c)]());}}},X=require(a0_0x2a4c6a(0x39e)),$t=class{constructor(_0x2f1bfb){const _0x2f6306=a0_0x2a4c6a;this[_0x2f6306(0x24a)]=_0x2f1bfb;}async[a0_0x2a4c6a(0x30c)]({instanceName:_0x419a4b},_0x466bb6){const _0x53b236=a0_0x2a4c6a;return await this[_0x53b236(0x24a)][_0x53b236(0x11b)][_0x419a4b][_0x53b236(0x448)](_0x466bb6);}async[a0_0x2a4c6a(0xbc)]({instanceName:_0x5c7567},_0x3f6e86){const _0x3e6929=a0_0x2a4c6a;return await this[_0x3e6929(0x24a)][_0x3e6929(0x11b)][_0x5c7567]['menuMessage'](_0x3f6e86);}async[a0_0x2a4c6a(0x1ab)]({instanceName:_0x34174d},_0x32a9b6){const _0x13e78b=a0_0x2a4c6a;if((0x0,X[_0x13e78b(0x2bf)])(_0x32a9b6?.[_0x13e78b(0x4fb)]?.[_0x13e78b(0x482)])&&!_0x32a9b6?.[_0x13e78b(0x4fb)]?.[_0x13e78b(0x3b8)])throw new h('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,X['isURL'])(_0x32a9b6?.[_0x13e78b(0x4fb)]?.[_0x13e78b(0x482)])||(0x0,X[_0x13e78b(0x2bf)])(_0x32a9b6?.[_0x13e78b(0x4fb)]?.['media']))return await this[_0x13e78b(0x24a)]['waInstances'][_0x34174d][_0x13e78b(0x4fb)](_0x32a9b6);throw new h('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x2a4c6a(0x402)]({instanceName:_0x4f2d90},_0x27fc90){const _0x21d90b=a0_0x2a4c6a;if((0x0,X['isURL'])(_0x27fc90[_0x21d90b(0x5fc)][_0x21d90b(0x2eb)])||(0x0,X[_0x21d90b(0x2bf)])(_0x27fc90['stickerMessage'][_0x21d90b(0x2eb)]))return await this['waMonitor'][_0x21d90b(0x11b)][_0x4f2d90][_0x21d90b(0x6bf)](_0x27fc90);throw new h(_0x21d90b(0x535));}async[a0_0x2a4c6a(0x585)]({instanceName:_0x27fac5},_0x54e1db){const _0x424e61=a0_0x2a4c6a;if((0x0,X[_0x424e61(0x42b)])(_0x54e1db['audioMessage']['audio'])||(0x0,X[_0x424e61(0x2bf)])(_0x54e1db['audioMessage'][_0x424e61(0x22f)]))return await this[_0x424e61(0x24a)][_0x424e61(0x11b)][_0x27fac5][_0x424e61(0x26c)](_0x54e1db);throw new h(_0x424e61(0x535));}async[a0_0x2a4c6a(0x2d0)]({instanceName:_0x4bb656},_0x6c3b87){const _0x25dca8=a0_0x2a4c6a;if((0x0,X['isBase64'])(_0x6c3b87['buttonMessage'][_0x25dca8(0x4fb)]?.['media'])&&!_0x6c3b87[_0x25dca8(0x320)][_0x25dca8(0x4fb)]?.[_0x25dca8(0x3b8)])throw new h(_0x25dca8(0x444));return await this[_0x25dca8(0x24a)][_0x25dca8(0x11b)][_0x4bb656]['buttonMessage'](_0x6c3b87);}async['sendLocation']({instanceName:_0x33ea09},_0x1fd37b){const _0x50385e=a0_0x2a4c6a;return await this[_0x50385e(0x24a)][_0x50385e(0x11b)][_0x33ea09]['locationMessage'](_0x1fd37b);}async[a0_0x2a4c6a(0x414)]({instanceName:_0x2cb803},_0x2f9ec3){const _0x28d49c=a0_0x2a4c6a;return await this['waMonitor'][_0x28d49c(0x11b)][_0x2cb803]['pollMessage'](_0x2f9ec3);}async['sendList']({instanceName:_0x3d7163},_0x43a288){const _0x492965=a0_0x2a4c6a;return await this[_0x492965(0x24a)][_0x492965(0x11b)][_0x3d7163][_0x492965(0x6ba)](_0x43a288);}async[a0_0x2a4c6a(0x3e5)]({instanceName:_0x4e3dc0},_0x165181){const _0x4b405c=a0_0x2a4c6a;return await this[_0x4b405c(0x24a)]['waInstances'][_0x4e3dc0]['contactMessage'](_0x165181);}async[a0_0x2a4c6a(0xc5)]({instanceName:_0x15111b},_0x69e604){const _0xd843be=a0_0x2a4c6a;if(!_0x69e604['reactionMessage'][_0xd843be(0x240)][_0xd843be(0x4b8)](/[^\(\)\w\sà-ú"-\+]+/))throw new h(_0xd843be(0x689));return await this[_0xd843be(0x24a)][_0xd843be(0x11b)][_0x15111b][_0xd843be(0x292)](_0x69e604);}async[a0_0x2a4c6a(0x4a8)]({instanceName:_0x28e677},_0x45363f){const _0x58bce0=a0_0x2a4c6a;return await this[_0x58bce0(0x24a)]['waInstances'][_0x28e677][_0x58bce0(0x4ff)](_0x45363f);}},br=require(a0_0x2a4c6a(0x601)),Cs=require(a0_0x2a4c6a(0xa8)),kt=class c{constructor(_0x49e1fa,_0x3c60c6,_0x31f4b7){const _0x5b724c=a0_0x2a4c6a;this[_0x5b724c(0x5c8)]=_0x49e1fa,this[_0x5b724c(0x24a)]=_0x3c60c6,this[_0x5b724c(0x5a1)]=_0x31f4b7,this['logger']=new v(c[_0x5b724c(0x194)]);}async[a0_0x2a4c6a(0x6c4)](_0x239016){const _0x7584d5=a0_0x2a4c6a;let _0x2c99de=this['configService'][_0x7584d5(0x471)]('AUTHENTICATION')[_0x7584d5(0xd8)],_0x50029e=(0x0,br['sign'])({'instanceName':_0x239016[_0x7584d5(0x180)],'apiName':Ge,'tokenId':(0x0,Cs['v4'])()},_0x2c99de[_0x7584d5(0x5f2)],{'expiresIn':_0x2c99de['EXPIRIN_IN'],'encoding':_0x7584d5(0x4ef),'subject':'g-t'}),_0x47d677=await this[_0x7584d5(0x5a1)][_0x7584d5(0x124)]['create']({'jwt':_0x50029e},_0x239016[_0x7584d5(0x180)]);if(_0x47d677['error'])throw this['logger']['error']({'localError':c[_0x7584d5(0x194)]+_0x7584d5(0x675),'error':_0x47d677[_0x7584d5(0x53e)]}),new h(_0x7584d5(0x46b),_0x47d677[_0x7584d5(0x53e)]?.[_0x7584d5(0x23c)]());return{'jwt':_0x50029e};}async[a0_0x2a4c6a(0x1ad)](_0xec071c){const _0xd1b391=a0_0x2a4c6a;let _0x31b682=(0x0,Cs['v4'])()['toUpperCase'](),_0x3840dc=await this[_0xd1b391(0x5a1)][_0xd1b391(0x124)][_0xd1b391(0x47f)]({'apikey':_0x31b682},_0xec071c[_0xd1b391(0x180)]);if(_0x3840dc[_0xd1b391(0x53e)])throw this[_0xd1b391(0xe0)][_0xd1b391(0x53e)]({'localError':c['name']+_0xd1b391(0x675),'error':_0x3840dc[_0xd1b391(0x53e)]}),new h('Authentication\x20error',_0x3840dc[_0xd1b391(0x53e)]?.['toString']());return{'apikey':_0x31b682};}async[a0_0x2a4c6a(0x126)](_0x5a598e){const _0x135762=a0_0x2a4c6a;let _0xaa0e33=this[_0x135762(0x5c8)]['get'](_0x135762(0x68f));return await this[_0xaa0e33[_0x135762(0x54b)]](_0x5a598e);}},Lt=class{constructor(_0x2aa8e9){this['waMonitor']=_0x2aa8e9;}async[a0_0x2a4c6a(0x279)](_0x288de3,_0x2a01bc){const _0x213482=a0_0x2a4c6a;return await this[_0x213482(0x24a)][_0x213482(0x11b)][_0x288de3[_0x213482(0x180)]]['createGroup'](_0x2a01bc);}async[a0_0x2a4c6a(0x557)](_0xedae85,_0x407fa6){const _0x211530=a0_0x2a4c6a;return await this[_0x211530(0x24a)][_0x211530(0x11b)][_0xedae85[_0x211530(0x180)]][_0x211530(0x557)](_0x407fa6);}async['groupDesc'](_0x3409d6,_0x504b35){const _0x2a30d4=a0_0x2a4c6a;return await this['waMonitor'][_0x2a30d4(0x11b)][_0x3409d6[_0x2a30d4(0x180)]][_0x2a30d4(0x37e)](_0x504b35);}async['groupName'](_0x4726fb,_0xa6d730){const _0x2c765f=a0_0x2a4c6a;return await this[_0x2c765f(0x24a)][_0x2c765f(0x11b)][_0x4726fb[_0x2c765f(0x180)]][_0x2c765f(0x5a0)](_0xa6d730);}async[a0_0x2a4c6a(0xdd)](_0x5cc8a3,_0x32f9df){const _0x320efd=a0_0x2a4c6a;return await this[_0x320efd(0x24a)][_0x320efd(0x11b)][_0x5cc8a3['instanceName']][_0x320efd(0xdd)](_0x32f9df);}async[a0_0x2a4c6a(0x547)](_0x37af6e,_0x1f96d5){const _0x80acd9=a0_0x2a4c6a;return await this[_0x80acd9(0x24a)][_0x80acd9(0x11b)][_0x37af6e[_0x80acd9(0x180)]]['findGroup'](_0x1f96d5);}async[a0_0x2a4c6a(0x480)](_0x3bdd09){const _0x36d1fa=a0_0x2a4c6a;return await this['waMonitor'][_0x36d1fa(0x11b)][_0x3bdd09[_0x36d1fa(0x180)]]['findGroups']();}async[a0_0x2a4c6a(0x620)](_0x132e97,_0x24392f){const _0x539fab=a0_0x2a4c6a;return await this[_0x539fab(0x24a)][_0x539fab(0x11b)][_0x132e97['instanceName']][_0x539fab(0x620)](_0x24392f);}async[a0_0x2a4c6a(0x525)](_0x21106d,_0x1eed62){const _0x273d37=a0_0x2a4c6a;return await this['waMonitor'][_0x273d37(0x11b)][_0x21106d['instanceName']][_0x273d37(0x525)](_0x1eed62);}async[a0_0x2a4c6a(0x16b)](_0x4da522,_0x266a9d){const _0x31f6de=a0_0x2a4c6a;return await this[_0x31f6de(0x24a)]['waInstances'][_0x4da522[_0x31f6de(0x180)]][_0x31f6de(0x16b)](_0x266a9d);}async[a0_0x2a4c6a(0x66e)](_0x4786d2,_0x5d0031){const _0x2bbf8a=a0_0x2a4c6a;return await this[_0x2bbf8a(0x24a)]['waInstances'][_0x4786d2[_0x2bbf8a(0x180)]][_0x2bbf8a(0x66e)](_0x5d0031);}async['updateGParticipate'](_0x2b9ceb,_0x3d3100){const _0x5c5a15=a0_0x2a4c6a;return await this[_0x5c5a15(0x24a)]['waInstances'][_0x2b9ceb[_0x5c5a15(0x180)]][_0x5c5a15(0x352)](_0x3d3100);}async[a0_0x2a4c6a(0x1a0)](_0x5baec4,_0x46fd7f){const _0x3d84b1=a0_0x2a4c6a;return await this['waMonitor'][_0x3d84b1(0x11b)][_0x5baec4[_0x3d84b1(0x180)]][_0x3d84b1(0x1a0)](_0x46fd7f);}async['leaveGroup'](_0x2033c6,_0x18339c){const _0x1262d3=a0_0x2a4c6a;return await this[_0x1262d3(0x24a)][_0x1262d3(0x11b)][_0x2033c6[_0x1262d3(0x180)]]['leaveGroup'](_0x18339c);}},Ft=class{constructor(_0x4e51ef){const _0x557596=a0_0x2a4c6a;this[_0x557596(0x24a)]=_0x4e51ef;}[a0_0x2a4c6a(0x47f)](_0x4811a0,_0xbaa8bb){const _0x2dae49=a0_0x2a4c6a;return this['waMonitor'][_0x2dae49(0x11b)][_0x4811a0[_0x2dae49(0x180)]][_0x2dae49(0x375)](_0xbaa8bb);}async[a0_0x2a4c6a(0x2e9)](_0x346fcb){const _0x56017e=a0_0x2a4c6a;try{return await this[_0x56017e(0x24a)]['waInstances'][_0x346fcb['instanceName']][_0x56017e(0x5e5)]();}catch{return{'enabled':null,'url':''};}}},Qd=new v(a0_0x2a4c6a(0x496)),Ut=class{constructor(_0x29c403){this['waMonitor']=_0x29c403;}async[a0_0x2a4c6a(0x3d9)](_0xf2b941,_0x4ad644){const _0x3cc5f8=a0_0x2a4c6a;return await this['waMonitor'][_0x3cc5f8(0x11b)][_0xf2b941[_0x3cc5f8(0x180)]][_0x3cc5f8(0x3d9)](_0x4ad644);}async['getScheduleMessage'](_0x3dd731){const _0x13b907=a0_0x2a4c6a;return await this['waMonitor'][_0x13b907(0x11b)][_0x3dd731['instanceName']]['getScheduleMessage']();}async['deleteDoneMessages'](_0xd63fa0){const _0xb7a818=a0_0x2a4c6a;return await this['waMonitor'][_0xb7a818(0x11b)][_0xd63fa0[_0xb7a818(0x180)]][_0xb7a818(0x3bd)]();}async[a0_0x2a4c6a(0x410)](_0x33723a){const _0x1ae26d=a0_0x2a4c6a;return await this[_0x1ae26d(0x24a)][_0x1ae26d(0x11b)][_0x33723a[_0x1ae26d(0x180)]][_0x1ae26d(0x410)]();}async['updateAgent'](_0x1d69c9,_0x1d4bb8){const _0x1611b3=a0_0x2a4c6a;return await this[_0x1611b3(0x24a)][_0x1611b3(0x11b)][_0x1d69c9['instanceName']][_0x1611b3(0x11a)](_0x1d4bb8);}async[a0_0x2a4c6a(0x40f)](_0x5cc97f,_0x40dd9b){const _0x20b391=a0_0x2a4c6a;return await this[_0x20b391(0x24a)]['waInstances'][_0x5cc97f[_0x20b391(0x180)]][_0x20b391(0x40f)](_0x40dd9b);}async['updateFlowConfig'](_0x5c156a,_0x2f13d0){const _0x5df3ab=a0_0x2a4c6a;return await this[_0x5df3ab(0x24a)][_0x5df3ab(0x11b)][_0x5c156a[_0x5df3ab(0x180)]][_0x5df3ab(0x12f)](_0x2f13d0);}async[a0_0x2a4c6a(0x59d)](_0x578da3,_0x38e62b){const _0x2194dd=a0_0x2a4c6a;return await this[_0x2194dd(0x24a)]['waInstances'][_0x578da3['instanceName']][_0x2194dd(0x59d)](_0x38e62b);}async[a0_0x2a4c6a(0x66c)](_0xdf2c1,_0x3be673){const _0x6ec5bf=a0_0x2a4c6a;return await this['waMonitor'][_0x6ec5bf(0x11b)][_0xdf2c1[_0x6ec5bf(0x180)]]['getConversation'](_0x3be673);}async[a0_0x2a4c6a(0x1a9)](_0x3388c9,_0x4dd7f8){const _0x32be7c=a0_0x2a4c6a;return await this[_0x32be7c(0x24a)][_0x32be7c(0x11b)][_0x3388c9[_0x32be7c(0x180)]][_0x32be7c(0x1a9)](_0x4dd7f8);}async['editConversation'](_0x1bf554,_0xecd924){const _0xfc681a=a0_0x2a4c6a;return await this[_0xfc681a(0x24a)][_0xfc681a(0x11b)][_0x1bf554[_0xfc681a(0x180)]][_0xfc681a(0x57d)](_0xecd924);}async[a0_0x2a4c6a(0x56f)](_0xd884a8,_0x1961b5){const _0x2521c6=a0_0x2a4c6a;return await this['waMonitor']['waInstances'][_0xd884a8[_0x2521c6(0x180)]][_0x2521c6(0x56f)](_0x1961b5);}async[a0_0x2a4c6a(0x4d9)](_0x3d4b29,_0x332e67){const _0x18694e=a0_0x2a4c6a;return await this['waMonitor']['waInstances'][_0x3d4b29[_0x18694e(0x180)]]['getFlow'](_0x332e67['name']);}async[a0_0x2a4c6a(0x505)](_0xfa8e03,_0x434353){const _0x3af3d2=a0_0x2a4c6a;return await this[_0x3af3d2(0x24a)][_0x3af3d2(0x11b)][_0xfa8e03[_0x3af3d2(0x180)]][_0x3af3d2(0x505)](_0x434353);}async[a0_0x2a4c6a(0x1f9)](_0x3d0d64,_0x2367a7){const _0x2bad3c=a0_0x2a4c6a;return await this[_0x2bad3c(0x24a)][_0x2bad3c(0x11b)][_0x3d0d64[_0x2bad3c(0x180)]]['editFlow'](_0x2367a7);}async[a0_0x2a4c6a(0x20d)](_0x2a0edf,_0x5902cd){const _0x4bc80d=a0_0x2a4c6a;return await this[_0x4bc80d(0x24a)]['waInstances'][_0x2a0edf['instanceName']][_0x4bc80d(0x20d)](_0x5902cd);}async['editFlowReply'](_0x4b8e23,_0x31a259){const _0x29eace=a0_0x2a4c6a;return await this[_0x29eace(0x24a)][_0x29eace(0x11b)][_0x4b8e23[_0x29eace(0x180)]]['editFlowReply'](_0x31a259);}async[a0_0x2a4c6a(0x4ab)](_0xecd937,_0x8c3c28){const _0x4d8a01=a0_0x2a4c6a;return await this[_0x4d8a01(0x24a)][_0x4d8a01(0x11b)][_0xecd937[_0x4d8a01(0x180)]][_0x4d8a01(0x4ab)](_0x8c3c28);}async[a0_0x2a4c6a(0x11c)](_0x4d2e0c,_0x79963e){const _0x356fda=a0_0x2a4c6a;return await this[_0x356fda(0x24a)][_0x356fda(0x11b)][_0x4d2e0c[_0x356fda(0x180)]][_0x356fda(0x11c)](_0x79963e);}async[a0_0x2a4c6a(0x170)](_0x4ce647,_0x39c1a2){const _0x16677e=a0_0x2a4c6a;return await this[_0x16677e(0x24a)][_0x16677e(0x11b)][_0x4ce647['instanceName']][_0x16677e(0x170)](_0x39c1a2);}async['editFlowVariable'](_0x54b1b7,_0x646b0c){const _0x3f07bd=a0_0x2a4c6a;return await this['waMonitor'][_0x3f07bd(0x11b)][_0x54b1b7['instanceName']][_0x3f07bd(0x4e1)](_0x646b0c);}async[a0_0x2a4c6a(0x57c)](_0xbd3780,_0x3466a3){const _0xb3afc5=a0_0x2a4c6a;return await this[_0xb3afc5(0x24a)][_0xb3afc5(0x11b)][_0xbd3780['instanceName']][_0xb3afc5(0x57c)](_0x3466a3[_0xb3afc5(0x194)]);}async[a0_0x2a4c6a(0x407)](_0x2cc421){const _0x1770fc=a0_0x2a4c6a;return await this['waMonitor'][_0x1770fc(0x11b)][_0x2cc421[_0x1770fc(0x180)]][_0x1770fc(0x407)]();}},Jt=class{constructor(_0x5c71fc){const _0x168313=a0_0x2a4c6a;this[_0x168313(0x659)]=_0x5c71fc;}async[a0_0x2a4c6a(0x51a)](_0x13bb33,_0x4a4208){const _0x58df04=a0_0x2a4c6a;return this[_0x58df04(0x659)][_0x58df04(0x47f)](_0x13bb33,_0x4a4208);}async[a0_0x2a4c6a(0x5e5)](_0xb2404a){const _0x3b01ed=a0_0x2a4c6a;return this[_0x3b01ed(0x659)]['find'](_0xb2404a);}},jt=class extends I{constructor(_0x18ff78,_0x423ccb){const _0x331264=a0_0x2a4c6a;super(_0x423ccb),this[_0x331264(0x342)]=_0x18ff78,this[_0x331264(0x5c8)]=_0x423ccb;}async[a0_0x2a4c6a(0x47f)](_0x4b9fb9,_0x7775d9){const _0x5952d1=a0_0x2a4c6a;try{return this[_0x5952d1(0x50c)][_0x5952d1(0x351)]?{'insertCount':(await this['webhookModel'][_0x5952d1(0x306)]({'_id':_0x7775d9},{..._0x4b9fb9},{'upsert':!0x0}))[_0x5952d1(0x2e8)]}:{'insertCount':0x1};}catch(_0x590399){return _0x590399;}}async[a0_0x2a4c6a(0x572)](_0xe42605){const _0xf420f0=a0_0x2a4c6a;try{if(this[_0xf420f0(0x50c)][_0xf420f0(0x351)]){await this[_0xf420f0(0x342)][_0xf420f0(0x29f)]({'_id':_0xe42605});return;}}catch(_0x19a9b8){return{'error':_0x19a9b8};}}async[a0_0x2a4c6a(0x2e9)](_0x53eb90){const _0x319c5c=a0_0x2a4c6a;try{if(this[_0x319c5c(0x50c)][_0x319c5c(0x351)])return await this[_0x319c5c(0x342)][_0x319c5c(0xae)]({'_id':_0x53eb90});}catch{return{};}}},qt=class extends I{constructor(_0x1545dd,_0x28935d){const _0x4ade5d=a0_0x2a4c6a;super(_0x28935d),this[_0x4ade5d(0x222)]=_0x1545dd,this[_0x4ade5d(0x5c8)]=_0x28935d,this['auth']=_0x28935d[_0x4ade5d(0x471)](_0x4ade5d(0x68f));}async['create'](_0x20390d,_0x5ab353){const _0x2922cd=a0_0x2a4c6a;try{if(this['dbSettings'][_0x2922cd(0x351)])return{'insertCount':(await this['authModel'][_0x2922cd(0x5ad)]({'_id':_0x5ab353},{'$set':{..._0x20390d}},{'upsert':!0x0}))[_0x2922cd(0x2e8)]};}catch(_0x1072a7){return{'error':_0x1072a7};}}async[a0_0x2a4c6a(0x664)](_0x17ffb2,_0x8f7142){const _0x3de2a5=a0_0x2a4c6a;try{if(this[_0x3de2a5(0x50c)][_0x3de2a5(0x351)])return{'insertCount':(await this[_0x3de2a5(0x222)][_0x3de2a5(0x660)](_0x17ffb2,{'$set':_0x8f7142},{'upsert':!0x1}))[_0x3de2a5(0x2e8)]};throw new Error(_0x3de2a5(0x2e3));}catch(_0x5f4943){return{'error':_0x5f4943};}}async[a0_0x2a4c6a(0x267)](_0x472009){const _0x25ef0e=a0_0x2a4c6a;try{if(this[_0x25ef0e(0x50c)][_0x25ef0e(0x351)])return{'insertCount':(await this[_0x25ef0e(0x222)][_0x25ef0e(0x267)](_0x472009))[_0x25ef0e(0x591)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x28cb1c){return{'error':_0x28cb1c};}}async[a0_0x2a4c6a(0x572)](_0x4ebb97){const _0x5cf0a4=a0_0x2a4c6a;try{if(this[_0x5cf0a4(0x50c)][_0x5cf0a4(0x351)]){await this[_0x5cf0a4(0x222)][_0x5cf0a4(0x29f)]({'_id':_0x4ebb97});return;}}catch(_0x4421c2){return{'error':_0x4421c2};}}async[a0_0x2a4c6a(0x2e9)](_0x31ff91){const _0x4badba=a0_0x2a4c6a;try{if(this[_0x4badba(0x50c)][_0x4badba(0x351)])return await this[_0x4badba(0x222)]['findOne']({'_id':_0x31ff91});}catch{return{};}}async[a0_0x2a4c6a(0x57b)](){const _0x48beb8=a0_0x2a4c6a;try{if(this[_0x48beb8(0x50c)][_0x48beb8(0x351)])return await this[_0x48beb8(0x222)][_0x48beb8(0x2e9)]();}catch{return[];}}},Vt=class extends I{['getFlowModelForOwner'](_0x1e0bdd){return Zs(_0x1e0bdd);}async['copyDataToNewModel'](_0x2ac2b5){const _0x3ba5fe=a0_0x2a4c6a;try{let _0x414c1e=ea,_0xa1ea3c=this[_0x3ba5fe(0x584)](_0x2ac2b5),_0x20a733=await _0x414c1e[_0x3ba5fe(0x2e9)]({'owner':_0x2ac2b5})[_0x3ba5fe(0x14b)](),_0x1ece28=[],_0x4f3f88=[];for(let _0x52b4f7 of _0x20a733)await _0xa1ea3c['findById'](_0x52b4f7[_0x3ba5fe(0x6c3)])[_0x3ba5fe(0x14b)]()||(_0x1ece28[_0x3ba5fe(0x63a)](_0x52b4f7),_0x4f3f88[_0x3ba5fe(0x63a)](_0x52b4f7[_0x3ba5fe(0x6c3)]));return _0x1ece28[_0x3ba5fe(0x378)]>0x0&&await _0xa1ea3c[_0x3ba5fe(0x22b)](_0x1ece28,{'ordered':!0x1}),{'success':!0x0};}catch(_0xe3456c){return console['error'](_0x3ba5fe(0x5c9),_0xe3456c),{'success':!0x1,'error':_0xe3456c};}}async['delete'](_0x27b29e,_0x32e601){const _0x47b0ff=a0_0x2a4c6a;try{let _0x3603fc=this[_0x47b0ff(0x584)](_0x32e601),_0x34d5c0=A(_0x27b29e[_0x47b0ff(0x249)]);return{'deletedCount':(await _0x3603fc[_0x47b0ff(0x267)](_0x34d5c0))[_0x47b0ff(0x591)]};}catch(_0x1dcd7b){return{'error':_0x1dcd7b?.['toString']()};}}async[a0_0x2a4c6a(0x29f)](_0x5767aa,_0x553c62){const _0x36259f=a0_0x2a4c6a;try{let _0x496d7c=this[_0x36259f(0x584)](_0x553c62),_0x33dca7=A(_0x5767aa[_0x36259f(0x249)]);return{'deletedCount':(await _0x496d7c[_0x36259f(0x29f)](_0x33dca7))[_0x36259f(0x591)]};}catch(_0x4bf908){return{'error':_0x4bf908?.[_0x36259f(0x23c)]()};}}async['updateOne'](_0x58a66f,_0x5cf978,_0x16a435){const _0xaf0417=a0_0x2a4c6a;try{return await this[_0xaf0417(0x584)](_0x16a435)[_0xaf0417(0x42e)](_0x58a66f,_0x5cf978,{'new':!0x0});}catch(_0x93b52f){return console[_0xaf0417(0x53e)](_0xaf0417(0x41d),_0x93b52f),null;}}async[a0_0x2a4c6a(0x1d6)](_0x3450aa,_0x5c8a70){const _0x50ba98=a0_0x2a4c6a;try{let _0x4f20d7=this[_0x50ba98(0x584)](_0x5c8a70);return await new _0x4f20d7(_0x3450aa)[_0x50ba98(0x36f)]();}catch(_0x2c62b8){return console[_0x50ba98(0x53e)](_0x50ba98(0xc3),_0x2c62b8),null;}}async[a0_0x2a4c6a(0x660)](_0x1ed96e,_0x2dbfb0,_0x2f22e0){const _0x6e0e35=a0_0x2a4c6a;try{return{'modifiedCount':(await this['getFlowModelForOwner'](_0x2f22e0)[_0x6e0e35(0x660)](_0x1ed96e,{'$set':_0x2dbfb0}))[_0x6e0e35(0x2e8)]};}catch(_0x1b0f3e){return console[_0x6e0e35(0x53e)](_0x6e0e35(0xdb),_0x1b0f3e),{'error':_0x1b0f3e};}}async[a0_0x2a4c6a(0x57b)](_0xb1f7be,_0x6112df){const _0x1d4c8c=a0_0x2a4c6a;try{let _0x1d375e=this[_0x1d4c8c(0x584)](_0x6112df),_0xd8b40=A(_0xb1f7be['where']);return await _0x1d375e[_0x1d4c8c(0x2e9)](_0xd8b40)[_0x1d4c8c(0x520)](_0xb1f7be?.[_0x1d4c8c(0x520)]??0x0)[_0x1d4c8c(0x14b)]();}catch{return[];}}async[a0_0x2a4c6a(0xae)](_0x2cac79,_0x2770f5){const _0x3f7ea7=a0_0x2a4c6a;try{let _0x50f225=this['getFlowModelForOwner'](_0x2770f5),_0x5cc120=A(_0x2cac79[_0x3f7ea7(0x249)]);return await _0x50f225[_0x3f7ea7(0xae)](_0x5cc120)[_0x3f7ea7(0x14b)]();}catch{return null;}}async[a0_0x2a4c6a(0x1c4)](_0x3b5acd){const _0x44ce0a=a0_0x2a4c6a;try{return await this[_0x44ce0a(0x584)](_0x3b5acd)[_0x44ce0a(0x26b)]['drop'](),{'success':!0x0};}catch(_0x497c11){return console['error'](_0x497c11),{'success':!0x1,'error':_0x497c11};}}},Bt=class extends I{[a0_0x2a4c6a(0xbf)](_0x223680){return sa(_0x223680);}async['copyDataToNewModel'](_0x35cfd7){const _0x422ede=a0_0x2a4c6a;try{let _0x5f3978=aa,_0x1aa0a2=this['getConversationModelForOwner'](_0x35cfd7),_0x468602=await _0x5f3978['find']({'owner':_0x35cfd7})[_0x422ede(0x14b)](),_0x30c418=[],_0x1cadf5=[];for(let _0x58e5fd of _0x468602)await _0x1aa0a2['findById'](_0x58e5fd[_0x422ede(0x6c3)])[_0x422ede(0x14b)]()||(_0x30c418[_0x422ede(0x63a)](_0x58e5fd),_0x1cadf5['push'](_0x58e5fd[_0x422ede(0x6c3)]));return _0x30c418['length']>0x0&&await _0x1aa0a2[_0x422ede(0x22b)](_0x30c418,{'ordered':!0x1}),{'success':!0x0};}catch(_0xc6af2b){return console['error'](_0x422ede(0x5c9),_0xc6af2b),{'success':!0x1,'error':_0xc6af2b};}}async[a0_0x2a4c6a(0x434)](_0x325f4a){const _0x287175=a0_0x2a4c6a;if(_0x325f4a[_0x287175(0x378)]!==0x0)try{return{'insertCount':(await this['getConversationModelForOwner'](_0x325f4a[0x0][_0x287175(0x232)])[_0x287175(0x22b)]([..._0x325f4a]))['length']};}catch(_0x452fea){return _0x452fea;}}async[a0_0x2a4c6a(0x572)](_0x5086ed,_0x156660){const _0x331d72=a0_0x2a4c6a;try{let _0x1bc82d=this[_0x331d72(0xbf)](_0x156660),_0xad3e88=A(_0x5086ed[_0x331d72(0x249)]);return{'deletedCount':(await _0x1bc82d[_0x331d72(0x267)](_0xad3e88))[_0x331d72(0x591)]};}catch(_0x4f4ae1){return{'error':_0x4f4ae1?.[_0x331d72(0x23c)]()};}}async[a0_0x2a4c6a(0x29f)](_0x5c0ee0,_0x59aa7d){const _0x464e74=a0_0x2a4c6a;try{let _0x12840b=this[_0x464e74(0xbf)](_0x59aa7d),_0x41d2da=A(_0x5c0ee0['where']);return{'deletedCount':(await _0x12840b[_0x464e74(0x29f)](_0x41d2da))[_0x464e74(0x591)]};}catch(_0x40cc38){return{'error':_0x40cc38?.[_0x464e74(0x23c)]()};}}async[a0_0x2a4c6a(0x25a)](_0x4ad1e8,_0x5b4331){const _0x2ddde3=a0_0x2a4c6a;try{if(_0x4ad1e8[_0x2ddde3(0x378)]===0x0)return;let _0x1524c7=this['getConversationModelForOwner'](_0x5b4331),_0x1c4f7d=_0x4ad1e8[_0x2ddde3(0xfe)](_0x2ecb53=>({'updateOne':{'filter':{'name':_0x2ecb53[_0x2ddde3(0x194)],'owner':_0x5b4331},'update':{..._0x2ecb53}}})),{modifiedCount:_0x35f7b4}=await _0x1524c7['bulkWrite'](_0x1c4f7d);return{'insertCount':_0x35f7b4};}catch{return;}}async[a0_0x2a4c6a(0x660)](_0x4371d3,_0x133144,_0x3c8fb7){const _0x53f46f=a0_0x2a4c6a;try{return{'modifiedCount':(await this[_0x53f46f(0xbf)](_0x3c8fb7)[_0x53f46f(0x660)](_0x4371d3,{'$set':_0x133144}))[_0x53f46f(0x2e8)]};}catch(_0x318b23){return console[_0x53f46f(0x53e)]('Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:',_0x318b23),{'error':_0x318b23};}}async[a0_0x2a4c6a(0x5ad)](_0x3b073f,_0x45c5ad,_0x53a628){const _0x37d2eb=a0_0x2a4c6a;try{return await this[_0x37d2eb(0xbf)](_0x53a628)[_0x37d2eb(0x39b)]({'_id':_0x3b073f},{'$set':_0x45c5ad},{'new':!0x0,'upsert':!0x0})[_0x37d2eb(0x14b)]();}catch(_0x319192){return console['error'](_0x319192),null;}}async['find'](_0x32fa17,_0x12ee0f){const _0x38be82=a0_0x2a4c6a;try{let _0x4b6ba2=this[_0x38be82(0xbf)](_0x12ee0f),_0x3979c7=A(_0x32fa17[_0x38be82(0x249)]);return await _0x4b6ba2['find'](_0x3979c7)['limit'](_0x32fa17?.[_0x38be82(0x520)]??0x0)[_0x38be82(0x38e)]({'lastInteraction':-0x1})[_0x38be82(0x14b)]();}catch{return[];}}async['findOne'](_0x457769,_0x15e488){const _0x5d8ef3=a0_0x2a4c6a;try{return await this[_0x5d8ef3(0xbf)](_0x15e488)[_0x5d8ef3(0xae)]({..._0x457769[_0x5d8ef3(0x249)]})[_0x5d8ef3(0x14b)]();}catch{return null;}}async[a0_0x2a4c6a(0x1c4)](_0x4b0b3f){const _0x3ba7d8=a0_0x2a4c6a;try{return await this[_0x3ba7d8(0xbf)](_0x4b0b3f)[_0x3ba7d8(0x26b)][_0x3ba7d8(0x343)](),{'success':!0x0};}catch(_0x3bb63d){return console['error'](_0x3bb63d),{'success':!0x1,'error':_0x3bb63d};}}},Gt=class extends I{[a0_0x2a4c6a(0x173)](_0x1cd1b6){return oa(_0x1cd1b6);}async[a0_0x2a4c6a(0x454)](_0x377503){const _0x370d6e=a0_0x2a4c6a;try{let _0x1fa7c2=ia,_0x546540=this[_0x370d6e(0x173)](_0x377503),_0x237a5b=await _0x1fa7c2[_0x370d6e(0x2e9)]({'owner':_0x377503})[_0x370d6e(0x14b)](),_0x36440e=[],_0x5897a5=[];for(let _0x2bfb18 of _0x237a5b)await _0x546540[_0x370d6e(0x48c)](_0x2bfb18['_id'])[_0x370d6e(0x14b)]()||(_0x36440e[_0x370d6e(0x63a)](_0x2bfb18),_0x5897a5['push'](_0x2bfb18[_0x370d6e(0x6c3)]));return _0x36440e['length']>0x0&&await _0x546540[_0x370d6e(0x22b)](_0x36440e,{'ordered':!0x1}),{'success':!0x0};}catch(_0x5af071){return console['error'](_0x370d6e(0x5c9),_0x5af071),{'success':!0x1,'error':_0x5af071};}}async['createAndSave'](_0x5a0105,_0xa9f2dd){const _0x295f5d=a0_0x2a4c6a;try{let _0x3110a0=this[_0x295f5d(0x173)](_0xa9f2dd);return await new _0x3110a0(_0x5a0105)[_0x295f5d(0x36f)]();}catch(_0x38201d){return console['error'](_0x295f5d(0xc3),_0x38201d),null;}}async[a0_0x2a4c6a(0x29f)](_0x4b2ce9,_0x2b7546){const _0x1794c6=a0_0x2a4c6a;try{return await this[_0x1794c6(0x173)](_0x2b7546)[_0x1794c6(0x643)](_0x4b2ce9),{};}catch(_0x14f2af){return{'error':_0x14f2af?.['toString']()};}}async[a0_0x2a4c6a(0x5ad)](_0x432d14,_0x3bbf50,_0x39ea1c){const _0x5959f2=a0_0x2a4c6a;try{return await this[_0x5959f2(0x173)](_0x39ea1c)[_0x5959f2(0x39b)](_0x432d14,{'$set':_0x3bbf50})['lean']();}catch(_0x4dab08){return console[_0x5959f2(0x53e)](_0x5959f2(0x5d9),_0x4dab08),null;}}async[a0_0x2a4c6a(0x233)](_0x13be0b,_0x8684b6,_0x2b182a){const _0x51f290=a0_0x2a4c6a;try{return await this[_0x51f290(0x173)](_0x2b182a)[_0x51f290(0x42e)](_0x13be0b,_0x8684b6,{'new':!0x0})['lean']();}catch(_0x5dea08){return console['error']('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x5dea08),null;}}async[a0_0x2a4c6a(0x2e9)](_0x3a124c,_0x38029b){const _0x1811af=a0_0x2a4c6a;try{return await this[_0x1811af(0x173)](_0x38029b)[_0x1811af(0x2e9)](_0x3a124c[_0x1811af(0x249)])[_0x1811af(0x520)](_0x3a124c?.[_0x1811af(0x520)]??0x0)[_0x1811af(0x38e)]({'when':0x1})[_0x1811af(0x14b)]();}catch{return[];}}async[a0_0x2a4c6a(0xae)](_0x45108e,_0x4a4ed6){const _0x1a78a7=a0_0x2a4c6a;try{return await this[_0x1a78a7(0x173)](_0x4a4ed6)[_0x1a78a7(0xae)](_0x45108e['where'])[_0x1a78a7(0x38e)]({'when':0x1})['lean']();}catch{return null;}}async[a0_0x2a4c6a(0x48c)](_0x4bc533,_0x23a4b9){const _0x18364b=a0_0x2a4c6a;try{return await this[_0x18364b(0x173)](_0x23a4b9)[_0x18364b(0x48c)](_0x4bc533)['lean']();}catch{return null;}}async[a0_0x2a4c6a(0x267)](_0x462934,_0x312ea2){const _0x4501f2=a0_0x2a4c6a;try{return{'deletedCount':(await this[_0x4501f2(0x173)](_0x312ea2)['deleteMany'](_0x462934))[_0x4501f2(0x591)]};}catch(_0x3a75f8){return console[_0x4501f2(0x53e)](_0x4501f2(0x3b3),_0x3a75f8),{'error':_0x3a75f8};}}async[a0_0x2a4c6a(0x1c4)](_0xab9cf1){const _0x5c5d6b=a0_0x2a4c6a;try{return await this[_0x5c5d6b(0x173)](_0xab9cf1)[_0x5c5d6b(0x26b)][_0x5c5d6b(0x343)](),{'success':!0x0};}catch(_0x5db12f){return console[_0x5c5d6b(0x53e)](_0x5db12f),{'success':!0x1,'error':_0x5db12f};}}},Wt=class extends I{async[a0_0x2a4c6a(0x25a)](_0x5cf027,_0x2e29bf){const _0x469b33=a0_0x2a4c6a;try{if(this[_0x469b33(0x50c)][_0x469b33(0x351)]){let _0x42107e=await xe[_0x469b33(0x39b)]({'_id':_0x2e29bf},{'$set':_0x5cf027},{'new':!0x0});return console['log'](_0x469b33(0x5f9),_0x42107e),_0x42107e;}}catch(_0x3bab77){throw console[_0x469b33(0x53e)]('Erro\x20ao\x20atualizar\x20AutomateSystem:',_0x3bab77),_0x3bab77;}}async['findOrCreate'](_0x1fdc78){const _0x45ca26=a0_0x2a4c6a;try{let _0x2b74f3=await xe[_0x45ca26(0x48c)](_0x1fdc78);return _0x2b74f3||(_0x2b74f3=new xe({'_id':_0x1fdc78}),await _0x2b74f3[_0x45ca26(0x36f)]()),_0x2b74f3;}catch(_0x4d3e0d){return console[_0x45ca26(0x53e)](_0x45ca26(0x315),_0x4d3e0d),null;}}},fo=new v('WA\x20MODULE'),yo=new $e(b),wo=new Dt(b),bo=new He(b),So=new jt(Hs,b),Eo=new qt(Gs,b),Mo=new Vt(b),Co=new xt(b),vo=new Bt(b),No=new Gt(b),Ro=new Wt(b),ne=new _e(yo,wo,bo,So,Eo,Mo,vo,Co,No,Ro,N?.[a0_0x2a4c6a(0x6e9)]()),V=new It(Yt,b,ne),To=new kt(b,V,ne),Ao=new Ft(V),us=new Jt(Ao),T=new Ut(V),ae=new Pt(V,b,ne,Yt,To),B=new $t(V),D=new _t(V),U=new Lt(V);fo[a0_0x2a4c6a(0x25c)](a0_0x2a4c6a(0x5fb));var pg=require(a0_0x2a4c6a(0x41a)),vs=require('fs'),Sr=R(require(a0_0x2a4c6a(0x3c4))),Er=R(require(a0_0x2a4c6a(0x6bd))),Me=class c{static #e;static set['app'](_0x544111){this.#e=_0x544111;}static get['https'](){const _0xfc94a8=a0_0x2a4c6a;let {FULLCHAIN:_0x4c8347,PRIVKEY:_0x2bbc4e}=b[_0xfc94a8(0x471)](_0xfc94a8(0xb1));return Sr[_0xfc94a8(0x611)]({'cert':(0x0,vs[_0xfc94a8(0x238)])(_0x4c8347),'key':(0x0,vs[_0xfc94a8(0x238)])(_0x2bbc4e)},c.#e);}static get[a0_0x2a4c6a(0x6bd)](){const _0x113d00=a0_0x2a4c6a;return Er[_0x113d00(0x611)](c.#e);}},le=R(require('fs')),Tr=R(require('ini')),Ce=R(require(a0_0x2a4c6a(0x2ac))),Ne=R(require('path')),Re=require(a0_0x2a4c6a(0x42d));function Oo(){const _0x2466e8=a0_0x2a4c6a;V[_0x2466e8(0x3d6)]();let _0x5d39af=Ne[_0x2466e8(0x51f)][_0x2466e8(0x404)](__dirname,_0x2466e8(0x4a7));Rr(_0x5d39af);}var Rr=_0x348bfd=>{const _0xec185c=a0_0x2a4c6a;let _0x17a80b=le[_0xec185c(0x51f)][_0xec185c(0x433)](_0x348bfd),_0x1fc5c7=0xc*0x3c*0x3c*0x3e8,_0x5f5ad3=0x2*0x3c*0x3c*0x3e8,_0x24ab20=new Date()[_0xec185c(0x34e)]();_0x17a80b[_0xec185c(0x532)](_0x130e0c=>{const _0x2e831d=_0xec185c;let _0x442a20=Ne[_0x2e831d(0x51f)][_0x2e831d(0x404)](_0x348bfd,_0x130e0c),_0x4b8553=le[_0x2e831d(0x51f)][_0x2e831d(0x521)](_0x442a20)['birthtime'][_0x2e831d(0x34e)]();_0x24ab20-_0x4b8553>_0x1fc5c7&&(le['default'][_0x2e831d(0x3bf)](_0x442a20),console[_0x2e831d(0x168)]('Deleted\x20'+_0x130e0c));}),setTimeout(()=>Rr(_0x348bfd),_0x5f5ad3);};function Io(){const _0x319ee6=a0_0x2a4c6a;let _0x514c8e=new v(_0x319ee6(0x4ad)),_0x1ad6a0=(0x0,ue[_0x319ee6(0x51f)])();_0x1ad6a0[_0x319ee6(0x364)]((0x0,Nr['default'])({'origin'(_0x31a9a7,_0x206051){const _0x36d9a6=_0x319ee6;let {ORIGIN:_0x439cc1}=b[_0x36d9a6(0x471)](_0x36d9a6(0x372));return _0x31a9a7||(_0x31a9a7='*'),_0x439cc1['indexOf']('*')!==-0x1||_0x439cc1[_0x36d9a6(0xa9)](_0x31a9a7)!==-0x1?_0x206051(null,!0x0):_0x206051(new Error(_0x36d9a6(0xb8)));},'methods':[...b[_0x319ee6(0x471)](_0x319ee6(0x372))['METHODS']],'credentials':b[_0x319ee6(0x471)](_0x319ee6(0x372))[_0x319ee6(0x198)]}),(0x0,ue['urlencoded'])({'extended':!0x0,'limit':_0x319ee6(0x1fd)}),(0x0,ue[_0x319ee6(0x581)])({'limit':_0x319ee6(0x1fd)})),_0x1ad6a0[_0x319ee6(0x364)]((_0x2e30aa,_0x1ccfe8,_0x41a288)=>{const _0xafb03=_0x319ee6;_0x2e30aa['path'][_0xafb03(0x619)]('/events')?_0x41a288():(0x0,vr[_0xafb03(0x51f)])()(_0x2e30aa,_0x1ccfe8,_0x41a288);}),_0x1ad6a0[_0x319ee6(0x3c7)](_0x319ee6(0x2f3),_0x319ee6(0x2d9)),_0x1ad6a0[_0x319ee6(0x3c7)]('views',(0x0,Rs['join'])(se,_0x319ee6(0x1ed))),_0x1ad6a0[_0x319ee6(0x364)](ue[_0x319ee6(0x51f)][_0x319ee6(0x387)]((0x0,Rs[_0x319ee6(0x404)])(se,'public'))),_0x1ad6a0[_0x319ee6(0x364)]((_0x3ef28a,_0x466d0e,_0x11918f)=>{let _0x147839=_0x466d0e['send'];_0x466d0e['send']=function(_0x29d6aa){const _0x3e4f82=a0_0x5ebe;if(_0x3ef28a['query'][_0x3e4f82(0x5bd)]===_0x3e4f82(0x564)||_0x3ef28a[_0x3e4f82(0x425)]['uazapi']==='true'){let _0xd9d9f7=JSON['parse'](_0x29d6aa);_0x29d6aa=JSON['stringify'](_0x24bb91(_0xd9d9f7));}return _0x147839[_0x3e4f82(0x44f)](_0x466d0e,[_0x29d6aa]);},_0x11918f();}),_0x1ad6a0[_0x319ee6(0x364)]('/',Mt),_0x1ad6a0[_0x319ee6(0x364)]((_0x38b689,_0x391c79,_0x978104,_0x78c321)=>{const _0x2764d0=_0x319ee6;if(_0x38b689)return _0x978104[_0x2764d0(0x2ad)](_0x38b689[_0x2764d0(0x2ad)]||0x1f4)[_0x2764d0(0x581)](_0x38b689);},(_0xe43ee9,_0x1edca5,_0x2023d4)=>{const _0x586f52=_0x319ee6;let {method:_0x20aa4e,url:_0xfd2947}=_0xe43ee9;_0x1edca5[_0x586f52(0x2ad)](0x194)['json']({'status':0x194,'message':_0x586f52(0x64d)+_0x20aa4e['toUpperCase']()+'\x20'+_0xfd2947,'error':_0x586f52(0x2fb)}),_0x2023d4();});let _0x24bb91=(_0x1bac6c,_0x506a02='_p_')=>{const _0x978f8c=_0x319ee6;let _0x246fe1=(_0x2ecc69,_0x550985=null,_0x491911=!0x1)=>{const _0x41aca6=a0_0x5ebe;let _0xd47bb3={};return Object['keys'](_0x2ecc69)[_0x41aca6(0x532)](_0x1d9175=>{const _0x45c886=_0x41aca6;let _0x1b5c47=_0x2ecc69[_0x1d9175],_0x3d863e=''+_0x506a02+_0x1d9175;_0x550985&&!_0x491911&&(_0x3d863e=_0x550985+'.'+_0x1d9175),!_0x1b5c47&&_0x1b5c47!==0x0&&_0x1b5c47!==!0x1||typeof _0x1b5c47>'u'?_0xd47bb3[_0x3d863e]=null:typeof _0x1b5c47!=_0x45c886(0x192)&&!Array['isArray'](_0x1b5c47)?_0xd47bb3[_0x3d863e]=_0x1b5c47:typeof _0x1b5c47==_0x45c886(0x192)&&!Array[_0x45c886(0x403)](_0x1b5c47)?_0xd47bb3=Object['assign'](_0xd47bb3,_0x246fe1(_0x1b5c47,_0x3d863e)):Array['isArray'](_0x1b5c47)&&(typeof _0x1b5c47[0x0]==_0x45c886(0x192)?(_0xd47bb3[_0x3d863e]=[],_0x1b5c47[_0x45c886(0x532)](_0x449fef=>{const _0x261a86=_0x45c886;_0xd47bb3[_0x3d863e][_0x261a86(0x63a)](_0x246fe1(_0x449fef,_0x3d863e,!0x0));})):_0xd47bb3[_0x3d863e]=_0x1b5c47);}),_0xd47bb3;};return Array[_0x978f8c(0x403)](_0x1bac6c)?_0x1bac6c['map'](_0x13d4ef=>_0x246fe1(_0x13d4ef)):typeof _0x1bac6c==_0x978f8c(0x192)&&_0x1bac6c!==null?_0x246fe1(_0x1bac6c):{};},_0x5c349f=b[_0x319ee6(0x471)](_0x319ee6(0x4ad));Me[_0x319ee6(0x280)]=_0x1ad6a0;let _0x21535b=Me[_0x5c349f[_0x319ee6(0x54b)]],_0x2eeda7='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x21535b[_0x319ee6(0x112)](_0x5c349f[_0x319ee6(0x6ce)],()=>{const _0xdc94a1=_0x319ee6;_0x514c8e[_0xdc94a1(0x168)](_0x2eeda7),_0x514c8e[_0xdc94a1(0x168)](_0x5c349f['TYPE'][_0xdc94a1(0x487)]()+_0xdc94a1(0x545)+_0x5c349f['PORT']);}),Oo(),Ls();}var Do=a0_0x2a4c6a(0xb3),xo=Ne['default'][a0_0x2a4c6a(0x404)](__dirname,a0_0x2a4c6a(0x405)),ve=null;function _o(){return new Promise((_0x214575,_0x2407e8)=>{const _0x2e2e8e=a0_0x5ebe;le['default'][_0x2e2e8e(0x46d)](xo,_0x2e2e8e(0xfb),(_0x3754a8,_0x5575cc)=>{const _0x87373d=_0x2e2e8e;if(_0x3754a8){ve=_0x3754a8,_0x214575();return;}Tr[_0x87373d(0x51f)][_0x87373d(0x1b8)](_0x5575cc)['remote\x20\x22origin\x22'][_0x87373d(0x548)]===Do?(ve=null,_0x214575()):(ve=new Error(_0x87373d(0x62d)),_0x214575());});});}async function Po(){const _0x43a30c=a0_0x2a4c6a;try{await _o(),await Ts();}catch(_0x1806cc){console['error'](_0x43a30c(0x5a9)+_0x1806cc),process[_0x43a30c(0x69e)](0x1);}}Po();async function Ar(){const _0x4664bf=a0_0x2a4c6a;let _0x1ec188;try{_0x1ec188=(await Ce[_0x4664bf(0x51f)]['get'](_0x4664bf(0x49e)))['data']['ip'];}catch(_0x3d1c88){console[_0x4664bf(0x53e)](_0x3d1c88);try{_0x1ec188=(await Ce[_0x4664bf(0x51f)][_0x4664bf(0x471)]('https://api.ipify.org?format=json'))[_0x4664bf(0x106)]['ip'];}catch(_0x467f3c){console[_0x4664bf(0x53e)](_0x467f3c);try{_0x1ec188=(await Ce[_0x4664bf(0x51f)][_0x4664bf(0x471)](_0x4664bf(0x18b)))[_0x4664bf(0x106)][_0x4664bf(0x4b8)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x29e6c1){return console[_0x4664bf(0x53e)](_0x29e6c1),!0x1;}}}return _0x1ec188;}var Mr=0x0;async function $o(){const _0x52604e=a0_0x2a4c6a;let _0x21d067=await new re(b[_0x52604e(0x471)](_0x52604e(0x3f5)))[_0x52604e(0x4f0)]();return console[_0x52604e(0x168)]('instancias:\x20',_0x21d067[_0x52604e(0x378)]),_0x21d067[_0x52604e(0x378)];}function ko(_0xc09b79){const _0x461d75=a0_0x2a4c6a;let _0x56376c=_0xc09b79[_0x461d75(0x471)](_0x461d75(0x4ad))['URL'],_0x5c4525=_0xc09b79[_0x461d75(0x471)](_0x461d75(0xb1)),_0x57e8b7;if(_0x56376c){let _0x2d9a7b=_0x56376c['match'](/\/\/(.*?)\./);_0x2d9a7b&&_0x2d9a7b[0x1]&&(_0x57e8b7=_0x2d9a7b[0x1]);}if(!_0x57e8b7&&_0x5c4525&&_0x5c4525['FULLCHAIN']){let _0x326777=_0x5c4525[_0x461d75(0x59c)][_0x461d75(0xe8)]('/'),_0x91f227=_0x326777[_0x326777['length']-0x2];if(_0x91f227){let _0x29dcdb=_0x91f227[_0x461d75(0xe8)]('.');_0x29dcdb[_0x461d75(0x378)]>0x2&&(_0x57e8b7=_0x29dcdb[0x0]);}}return _0x57e8b7;}var Es=ko(b);async function Lo(){const _0x2ffcc6=a0_0x2a4c6a;let _0x320ae6=b[_0x2ffcc6(0x471)](_0x2ffcc6(0x3f5)),_0x3009ba=b['get']('AUTHENTICATION')[_0x2ffcc6(0x5ee)][_0x2ffcc6(0x59f)],_0x8669aa=b['get'](_0x2ffcc6(0xb1)),_0x17aa39=await Ar(),_0x2922bb=b[_0x2ffcc6(0x471)](_0x2ffcc6(0x4ad))['PORT'],_0x595b45=b['get'](_0x2ffcc6(0x4ad))['URL'];try{let _0x535db5={'ip':_0x17aa39||null,'redis_enable':_0x320ae6?.[_0x2ffcc6(0x351)]||null,'apikey':_0x3009ba||null,'ssl':_0x8669aa?.['PRIVKEY']||null,'lastupdate':Or||null,'port':_0x2922bb||null,'gitInstallError':ve?.[_0x2ffcc6(0x55b)]||null,'url':_0x595b45||null};if(console['log'](_0x2ffcc6(0x6aa),_0x535db5['ip']),_0x320ae6&&_0x320ae6[_0x2ffcc6(0x351)]){let _0x1d51ca=await $o();_0x535db5[_0x2ffcc6(0x316)]=_0x1d51ca||null;}for(let _0x5cca75 in _0x535db5)_0x535db5['hasOwnProperty'](_0x5cca75)&&_0x5cca75!=='ip'&&(_0x535db5[_0x5cca75]=JSON[_0x2ffcc6(0x45c)](_0x535db5[_0x5cca75]));return(await Ce[_0x2ffcc6(0x51f)]['post'](_0x2ffcc6(0x19d),_0x535db5))[_0x2ffcc6(0x106)];}catch(_0x6d46f2){return console[_0x2ffcc6(0x53e)](_0x6d46f2),!0x1;}}var Ns=!0x1,Or=0x21c,Fo=0x3,Cr=0x1b7740;async function Ts(){const _0x5476cd=a0_0x2a4c6a;if(!await Ar())return console[_0x5476cd(0x53e)]('Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.'),_0x5476cd(0x318);let _0xe30539=await Lo();if(_0xe30539){if(_0xe30539[_0x5476cd(0x63f)]['licenca']===!0x0){b[_0x5476cd(0x471)]('SSL_CONF')['PRIVKEY'][_0x5476cd(0x587)](_0x5476cd(0x2c1))&&_0xe30539['response']['subdomain']&&(await jo(_0xe30539['response'][_0x5476cd(0x4ae)],Jo),await qo('augusto.fcs@gmail.com',_0xe30539[_0x5476cd(0x63f)][_0x5476cd(0x4ae)]),console[_0x5476cd(0x168)](_0x5476cd(0x16d)),setTimeout(()=>Bo(),0x2710)),ve===null&&_0xe30539['response'][_0x5476cd(0x2fe)]-Or>0x0&&await Uo(),Ns||(Ns=!0x0,Io());let _0x401ccc=0x24*0x3c*0x3c,_0x20cee0=_0xe30539[_0x5476cd(0x63f)]['segundos']>_0x401ccc?_0x401ccc:_0xe30539['response'][_0x5476cd(0x474)],_0x5ad033=Number(_0x20cee0);if(isNaN(_0x5ad033)){console[_0x5476cd(0x53e)]('interval\x20não\x20é\x20um\x20número');return;}let _0x13e12d=Math['floor'](_0x5ad033/0xe10),_0x8d8d35=Math[_0x5476cd(0x32a)](_0x5ad033%0xe10/0x3c),_0x4855e4=new Date(Date[_0x5476cd(0x4f1)]()+_0x5ad033*0x3e8);setTimeout(Ts,_0x5ad033*0x3e8);let _0x53a982=_0x106809=>_0x106809[_0x5476cd(0x23c)]()[_0x5476cd(0x64f)](0x2,'0'),_0x401e3a=_0x5476cd(0x40c)+_0x53a982(_0x13e12d)+'\x20horas\x20e\x20'+_0x53a982(_0x8d8d35)+'\x20minutos.\x20Será\x20às\x20'+_0x53a982(_0x4855e4[_0x5476cd(0x1fc)]())+':'+_0x53a982(_0x4855e4[_0x5476cd(0x438)]())+'.';console[_0x5476cd(0x168)](_0x401e3a);}else return console[_0x5476cd(0x168)]('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),Ns&&(console[_0x5476cd(0x168)](_0x5476cd(0x33f)),process[_0x5476cd(0x69e)]()),_0x5476cd(0x2a9);}else{if(Mr++,Mr<Fo)console[_0x5476cd(0x168)](_0x5476cd(0x359)+Cr/0xea60+_0x5476cd(0x6b3)),setTimeout(Ts,Cr);else return console[_0x5476cd(0x53e)](_0x5476cd(0x4cc)),'SERVER_OFFLINE';}}async function Uo(){const _0x232842=a0_0x2a4c6a;console[_0x232842(0x168)](_0x232842(0x3ea));let _0x310cc3=(0x0,Re[_0x232842(0x4c4)])(_0x232842(0x638),{'shell':!0x0});_0x310cc3[_0x232842(0xdf)]['on'](_0x232842(0x106),_0x54bf5b=>{const _0x1ce9ba=_0x232842;console[_0x1ce9ba(0x168)](_0x1ce9ba(0x301)+_0x54bf5b);}),_0x310cc3['stderr']['on'](_0x232842(0x106),_0x3a529b=>{console['error']('Erro\x20de\x20atualização:\x20'+_0x3a529b);}),_0x310cc3['on'](_0x232842(0x69e),_0x1f2018=>{const _0x58a7e7=_0x232842;_0x1f2018!==0x0?console[_0x58a7e7(0x53e)](_0x58a7e7(0x324)+_0x1f2018):console['log'](_0x58a7e7(0x30f)),console[_0x58a7e7(0x168)](_0x58a7e7(0x107)),setTimeout(()=>process[_0x58a7e7(0x69e)](),0x2710);});}var Jo=Ne[a0_0x2a4c6a(0x51f)]['join'](__dirname,'env.yml');async function jo(_0x130df9,_0x2bc981){const _0x4185d7=a0_0x2a4c6a;let _0x569c83=Vo();_0x130df9=_0x130df9[_0x4185d7(0x34b)](_0x4185d7(0x6cd),'');try{let _0x1525f7=le['default'][_0x4185d7(0x238)](_0x2bc981,_0x4185d7(0x4ef));_0x1525f7=_0x1525f7['replace'](/<apikey>/,_0x569c83),_0x1525f7=_0x1525f7[_0x4185d7(0x34b)](/<subdomain>/g,_0x130df9),le[_0x4185d7(0x51f)]['writeFileSync'](_0x2bc981,_0x1525f7,'utf8'),console[_0x4185d7(0x168)](_0x4185d7(0x4c8));}catch(_0xd9f583){console[_0x4185d7(0x53e)](_0x4185d7(0x228),_0xd9f583);}}function qo(_0x822824,_0x518905){return new Promise((_0x35538b,_0x42e796)=>{const _0x1f4970=a0_0x5ebe;let _0x5c6106=(0x0,Re['spawn'])(_0x1f4970(0x3cb),[_0x1f4970(0x460),_0x1f4970(0xea),'-m',_0x822824,_0x1f4970(0x1f4),'-d',_0x518905]);_0x5c6106[_0x1f4970(0xdf)]['on'](_0x1f4970(0x106),_0x1f2293=>{const _0x23a297=_0x1f4970;console[_0x23a297(0x168)](_0x23a297(0x5e8)+_0x1f2293['toString']());}),_0x5c6106[_0x1f4970(0x4cf)]['on'](_0x1f4970(0x106),_0x57370e=>{const _0x59c98b=_0x1f4970;console[_0x59c98b(0x53e)]('Erro\x20do\x20Certbot:\x20'+_0x57370e['toString']());}),_0x5c6106['on']('close',_0x162e34=>{const _0x2b4ac5=_0x1f4970;_0x162e34!==0x0?(console[_0x2b4ac5(0x53e)]('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x162e34),_0x42e796('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x162e34)):(console[_0x2b4ac5(0x168)]('Certbot\x20executado\x20com\x20sucesso.'),_0x35538b());});});}function Vo(_0x4f3223=0x32){const _0xf47c82=a0_0x2a4c6a;let _0x16aea8='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x24000e='';for(let _0x44852f=0x0;_0x44852f<_0x4f3223;_0x44852f++)_0x24000e+=_0x16aea8['charAt'](Math[_0xf47c82(0x32a)](Math['random']()*_0x16aea8[_0xf47c82(0x378)]));return _0x24000e;}function Bo(){const _0x41e314=a0_0x2a4c6a;(0x0,Re[_0x41e314(0x1f2)])(_0x41e314(0x1b7),(_0x4a9035,_0x4c7d13,_0x7eb715)=>{const _0x49acbd=_0x41e314;if(_0x4a9035){console['error'](_0x49acbd(0x2af)+_0x4a9035);return;}if(_0x7eb715){console[_0x49acbd(0x53e)](_0x49acbd(0x48b)+_0x7eb715);return;}console[_0x49acbd(0x168)]('Reinicialização\x20iniciada:\x20'+_0x4c7d13);});}0x0&&(module[a0_0x2a4c6a(0x21c)]={'subdomain':subdomain});