const a0_0x156424=a0_0x4ecf;(function(_0x3d8122,_0x41ed1c){const _0x15ef9a=a0_0x4ecf,_0x569930=_0x3d8122();while(!![]){try{const _0x4aacbb=parseInt(_0x15ef9a(0x203))/0x1*(parseInt(_0x15ef9a(0x1ac))/0x2)+-parseInt(_0x15ef9a(0x175))/0x3*(parseInt(_0x15ef9a(0x2e1))/0x4)+parseInt(_0x15ef9a(0x678))/0x5+parseInt(_0x15ef9a(0x4a5))/0x6*(-parseInt(_0x15ef9a(0x5a4))/0x7)+parseInt(_0x15ef9a(0x24a))/0x8*(parseInt(_0x15ef9a(0x10d))/0x9)+-parseInt(_0x15ef9a(0x5c0))/0xa+parseInt(_0x15ef9a(0x29b))/0xb;if(_0x4aacbb===_0x41ed1c)break;else _0x569930['push'](_0x569930['shift']());}catch(_0x326bd9){_0x569930['push'](_0x569930['shift']());}}}(a0_0x26ab,0x82926));var Pi=Object[a0_0x156424(0x291)],Fe=Object[a0_0x156424(0x57b)],ki=Object[a0_0x156424(0x2cc)],ji=Object['getOwnPropertyNames'],Li=Object[a0_0x156424(0x15d)],Fi=Object[a0_0x156424(0x3d7)][a0_0x156424(0xfc)],Ji=(_0x10c481,_0x5c71b2)=>{for(var _0x3a4d97 in _0x5c71b2)Fe(_0x10c481,_0x3a4d97,{'get':_0x5c71b2[_0x3a4d97],'enumerable':!0x0});},Fs=(_0x223833,_0x352bbf,_0x1be72b,_0x25983c)=>{const _0x1c4142=a0_0x156424;if(_0x352bbf&&typeof _0x352bbf==_0x1c4142(0x666)||typeof _0x352bbf==_0x1c4142(0x6ef)){for(let _0x4fdbee of ji(_0x352bbf))!Fi[_0x1c4142(0x762)](_0x223833,_0x4fdbee)&&_0x4fdbee!==_0x1be72b&&Fe(_0x223833,_0x4fdbee,{'get':()=>_0x352bbf[_0x4fdbee],'enumerable':!(_0x25983c=ki(_0x352bbf,_0x4fdbee))||_0x25983c[_0x1c4142(0x2f5)]});}return _0x223833;},O=(_0x54d44d,_0x4571fb,_0x122f5f)=>(_0x122f5f=_0x54d44d!=null?Pi(Li(_0x54d44d)):{},Fs(_0x4571fb||!_0x54d44d||!_0x54d44d['__esModule']?Fe(_0x122f5f,a0_0x156424(0x72b),{'value':_0x54d44d,'enumerable':!0x0}):_0x122f5f,_0x54d44d)),Ui=_0x4dce47=>Fs(Fe({},a0_0x156424(0x4e0),{'value':!0x0}),_0x4dce47),ar={};Ji(ar,{'subdomain':()=>xs}),module['exports']=Ui(ar);var Ai=O(require(a0_0x156424(0x3a7))),Us=require('fs'),qs=require(a0_0x156424(0x3dd)),Vs=require(a0_0x156424(0x1f5)),Je=require(a0_0x156424(0x1f5)),re=process[a0_0x156424(0x10f)](),me=(0x0,Je[a0_0x156424(0xdb)])(re,'instances'),Js=(0x0,Je[a0_0x156424(0xdb)])(re,a0_0x156424(0x641)),Kr=(0x0,Je['join'])(re,a0_0x156424(0x662),a0_0x156424(0x39b)),rs=class{constructor(){const _0x140f31=a0_0x156424;this[_0x140f31(0x5d9)]();}[a0_0x156424(0x2cb)](_0x25244e){const _0x1dc19e=a0_0x156424;return this[_0x1dc19e(0x1d8)][_0x25244e];}[a0_0x156424(0x5d9)](){const _0x44b02b=a0_0x156424;this[_0x44b02b(0x1d8)]=process['env']?.[_0x44b02b(0x713)]!==_0x44b02b(0x6cc)?this['envYaml']():this[_0x44b02b(0x2bf)](),process[_0x44b02b(0x1d8)]?.[_0x44b02b(0x713)]==='true'&&(this[_0x44b02b(0x1d8)][_0x44b02b(0x14f)][_0x44b02b(0x1ab)]=_0x44b02b(0x49b),this[_0x44b02b(0x1d8)][_0x44b02b(0x14f)][_0x44b02b(0x3e9)]=Number[_0x44b02b(0x586)](process['env']?.[_0x44b02b(0x2d5)]??_0x44b02b(0x553)));}[a0_0x156424(0x1cc)](){const _0x364419=a0_0x156424;return(0x0,qs[_0x364419(0x1b7)])((0x0,Us[_0x364419(0xde)])((0x0,Vs['join'])(Js,_0x364419(0x112)),{'encoding':_0x364419(0x730)}));}[a0_0x156424(0x2bf)](){const _0x4ec939=a0_0x156424;return{'SERVER':{'TYPE':process[_0x4ec939(0x1d8)][_0x4ec939(0xb8)],'PORT':Number[_0x4ec939(0x586)](process[_0x4ec939(0x1d8)]['SERVER_PORT']),'URL':process[_0x4ec939(0x1d8)][_0x4ec939(0x29e)]},'CORS':{'ORIGIN':process['env'][_0x4ec939(0x156)]['split'](','),'METHODS':process[_0x4ec939(0x1d8)][_0x4ec939(0x371)][_0x4ec939(0x277)](','),'CREDENTIALS':process['env']?.[_0x4ec939(0x44c)]==='true'},'SSL_CONF':{'PRIVKEY':process[_0x4ec939(0x1d8)]?.[_0x4ec939(0x6a8)],'FULLCHAIN':process[_0x4ec939(0x1d8)]?.[_0x4ec939(0x41b)]},'STORE':{'CLEANING_INTERVAL':Number[_0x4ec939(0x2d4)](process['env']?.[_0x4ec939(0x188)])?Number[_0x4ec939(0x586)](process[_0x4ec939(0x1d8)]['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process[_0x4ec939(0x1d8)]?.[_0x4ec939(0x665)]===_0x4ec939(0x6cc),'CONTACTS':process[_0x4ec939(0x1d8)]?.[_0x4ec939(0x270)]===_0x4ec939(0x6cc),'CHATS':process['env']?.[_0x4ec939(0x1ad)]===_0x4ec939(0x6cc)},'DATABASE':{'CONNECTION':{'HOST':process[_0x4ec939(0x1d8)]?.[_0x4ec939(0x1fa)],'PORT':Number[_0x4ec939(0x586)](process['env']?.[_0x4ec939(0x1fa)]),'USER':process[_0x4ec939(0x1d8)][_0x4ec939(0x63b)],'PASSWORD':process[_0x4ec939(0x1d8)][_0x4ec939(0x5ea)],'URI':process[_0x4ec939(0x1d8)][_0x4ec939(0x683)],'DB_PREFIX_NAME':process[_0x4ec939(0x1d8)][_0x4ec939(0x41c)]},'ENABLED':process[_0x4ec939(0x1d8)]?.[_0x4ec939(0x28a)]===_0x4ec939(0x6cc)},'REDIS':{'ENABLED':process[_0x4ec939(0x1d8)]?.['REDIS_ENABLED']===_0x4ec939(0x6cc),'URI':process['env'][_0x4ec939(0x172)]||_0x4ec939(0x3dc),'PREFIX_KEY':process[_0x4ec939(0x1d8)][_0x4ec939(0x1f8)]||_0x4ec939(0x30d)},'LOG':{'LEVEL':process[_0x4ec939(0x1d8)]?.[_0x4ec939(0xf8)][_0x4ec939(0x277)](','),'COLOR':process[_0x4ec939(0x1d8)]?.[_0x4ec939(0x316)]===_0x4ec939(0x6cc)},'PROXY':Number['parseInt'](process[_0x4ec939(0x1d8)]?.[_0x4ec939(0x23a)]),'AUTHENTICATION':{'TYPE':process[_0x4ec939(0x1d8)][_0x4ec939(0x2b7)],'API_KEY':{'KEY':process[_0x4ec939(0x1d8)][_0x4ec939(0x62e)]},'JWT':{'EXPIRIN_IN':Number[_0x4ec939(0x2d4)](process[_0x4ec939(0x1d8)]?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number[_0x4ec939(0x586)](process['env']['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process[_0x4ec939(0x1d8)][_0x4ec939(0x689)]}}};}},S=new rs(),Oi=O(require(a0_0x156424(0x6dd))),he=O(require(a0_0x156424(0x4cf))),js=require(a0_0x156424(0x1f5)),ns=O(require(a0_0x156424(0x191))),cs=(_0x1a374a=>(_0x1a374a[a0_0x156424(0x676)]=a0_0x156424(0x4c3),_0x1a374a[a0_0x156424(0x143)]='\x1b[34m',_0x1a374a['WARN']=a0_0x156424(0x1ea),_0x1a374a['ERROR']=a0_0x156424(0x741),_0x1a374a['DEBUG']=a0_0x156424(0x65b),_0x1a374a[a0_0x156424(0x379)]=a0_0x156424(0x15f),_0x1a374a['DARK']=a0_0x156424(0x575),_0x1a374a))(cs||{}),Gs=(_0x3eecc3=>(_0x3eecc3[a0_0x156424(0x676)]='\x1b[32m%s\x1b[0m',_0x3eecc3[a0_0x156424(0x209)]=a0_0x156424(0x1dc),_0x3eecc3[a0_0x156424(0x143)]='\x1b[34m%s\x1b[0m',_0x3eecc3[a0_0x156424(0x60f)]=a0_0x156424(0x2e4),_0x3eecc3['ERROR']=a0_0x156424(0x4e1),_0x3eecc3['DEBUG']='\x1b[36m%s\x1b[0m',_0x3eecc3['VERBOSE']=a0_0x156424(0x2f3),_0x3eecc3))(Gs||{}),Bs=(_0x33e1b2=>(_0x33e1b2[a0_0x156424(0x676)]=a0_0x156424(0x676),_0x33e1b2['WARN']=a0_0x156424(0x60f),_0x33e1b2[a0_0x156424(0x143)]=a0_0x156424(0x143),_0x33e1b2[a0_0x156424(0x209)]=a0_0x156424(0x209),_0x33e1b2['ERROR']=a0_0x156424(0x60a),_0x33e1b2[a0_0x156424(0x6c1)]=a0_0x156424(0x6c1),_0x33e1b2[a0_0x156424(0x379)]=a0_0x156424(0x379),_0x33e1b2))(Bs||{}),Ws=(_0x184ba1=>(_0x184ba1[a0_0x156424(0x676)]='\x1b[42m',_0x184ba1[a0_0x156424(0x143)]=a0_0x156424(0x407),_0x184ba1['WARN']=a0_0x156424(0x2f2),_0x184ba1[a0_0x156424(0x209)]='\x1b[40m',_0x184ba1['ERROR']=a0_0x156424(0x704),_0x184ba1[a0_0x156424(0x6c1)]=a0_0x156424(0x193),_0x184ba1['VERBOSE']=a0_0x156424(0x52c),_0x184ba1))(Ws||{}),R=class{constructor(_0x2ad386=a0_0x156424(0x23f)){const _0x241aba=a0_0x156424;this[_0x241aba(0x226)]=_0x2ad386,this[_0x241aba(0x2b4)]=S;}['setContext'](_0x5ea34f){this['context']=_0x5ea34f;}[a0_0x156424(0x2a7)](_0x50b430,_0x4e38f6){const _0x22a5f4=a0_0x156424;let _0x1711f3=[];this[_0x22a5f4(0x2b4)][_0x22a5f4(0x2cb)]('LOG')[_0x22a5f4(0x55b)][_0x22a5f4(0x6cb)](_0x515e90=>_0x1711f3[_0x22a5f4(0x211)](Bs[_0x515e90]));let _0x184bb3=typeof _0x50b430;_0x1711f3[_0x22a5f4(0x341)](_0x4e38f6)&&(S[_0x22a5f4(0x2cb)]('LOG')[_0x22a5f4(0x38e)]?(console[_0x22a5f4(0x155)](_0x22a5f4(0x566)+Gs[_0x4e38f6],'\x1b[1m\x1b[37m',(0x0,ns['default'])()[_0x22a5f4(0x4bf)](_0x22a5f4(0x55d)),_0x22a5f4(0x5e2),cs[_0x4e38f6]+Ws[_0x4e38f6]+'\x1b[1m',_0x4e38f6+_0x22a5f4(0x1d0),_0x22a5f4(0x54e),this[_0x22a5f4(0x226)]+_0x22a5f4(0x5e2),cs[_0x4e38f6],_0x184bb3!=='object'?_0x50b430:'',_0x22a5f4(0x5e2)),_0x184bb3===_0x22a5f4(0x666)&&console[_0x22a5f4(0x155)](_0x50b430,'\x0a')):console[_0x22a5f4(0x155)]((0x0,ns[_0x22a5f4(0x72b)])()[_0x22a5f4(0x4bf)](_0x22a5f4(0x5a3)),_0x4e38f6+'\x20',''+this['context'],_0x50b430));}[a0_0x156424(0x155)](_0x4a23e1){const _0x9a94a2=a0_0x156424;this[_0x9a94a2(0x2a7)](_0x4a23e1,_0x9a94a2(0x676));}[a0_0x156424(0xf5)](_0x2eda1e){const _0x988a3e=a0_0x156424;this[_0x988a3e(0x2a7)](_0x2eda1e,'INFO');}[a0_0x156424(0x234)](_0x5beeac){const _0x106cca=a0_0x156424;this['console'](_0x5beeac,_0x106cca(0x60f));}[a0_0x156424(0x363)](_0x31006f){const _0x3f4380=a0_0x156424;this[_0x3f4380(0x2a7)](_0x31006f,'ERROR');}['verbose'](_0x1c5f70){this['console'](_0x1c5f70,'VERBOSE');}[a0_0x156424(0x17a)](_0x51be15){const _0x2ca1da=a0_0x156424;this[_0x2ca1da(0x2a7)](_0x51be15,'DEBUG');}[a0_0x156424(0x6b6)](_0x904116){const _0x4cd4e0=a0_0x156424;this[_0x4cd4e0(0x2a7)](_0x904116,_0x4cd4e0(0x209));}};function zs(){const _0x42cdbb=a0_0x156424;process['on']('uncaughtException',(_0x1b21ba,_0x1b0907)=>{const _0x2bd050=a0_0x4ecf;new R('uncaughtException')['error']({'origin':_0x1b0907,'stderr':process[_0x2bd050(0x66c)]['fd'],'error':_0x1b21ba});}),process['on'](_0x42cdbb(0x6ec),(_0x346543,_0x1a1ae8)=>{const _0x33ff6f=_0x42cdbb;new R(_0x33ff6f(0x6ec))['error']({'origin':_0x1a1ae8,'stderr':process[_0x33ff6f(0x66c)]['fd'],'error':_0x346543});});}var Hs=O(require('eventemitter2')),ls=new Hs[(a0_0x156424(0x72b))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),we=require(a0_0x156424(0x5c6)),Ee=O(require(a0_0x156424(0x5c6))),Ue=new R(a0_0x156424(0x137)),L=S[a0_0x156424(0x2cb)](a0_0x156424(0x3be)),$=L[a0_0x156424(0x237)]?L[a0_0x156424(0x5c8)][a0_0x156424(0x4f1)]?Ee['default'][a0_0x156424(0x772)](L['CONNECTION'][a0_0x156424(0x4f1)],{'dbName':L[a0_0x156424(0x5c8)][a0_0x156424(0x3e6)]+a0_0x156424(0x262)}):Ee[a0_0x156424(0x72b)][a0_0x156424(0x772)]('mongodb://'+L['CONNECTION'][a0_0x156424(0x5f5)]+':'+L[a0_0x156424(0x5c8)][a0_0x156424(0x3e9)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':L[a0_0x156424(0x5c8)][a0_0x156424(0x2a4)],'pass':L[a0_0x156424(0x5c8)][a0_0x156424(0x422)],'dbName':L['CONNECTION']['DB_PREFIX_NAME']+'-whatsapp-api'}):null;L[a0_0x156424(0x237)]&&Ue['info'](a0_0x156424(0x5ab)+$[a0_0x156424(0x1c2)]);var fe=L['ENABLED']?L['CONNECTION'][a0_0x156424(0x4f1)]?Ee[a0_0x156424(0x72b)][a0_0x156424(0x772)](L[a0_0x156424(0x5c8)]['URI'],{'dbName':a0_0x156424(0xfd)}):Ee[a0_0x156424(0x72b)]['createConnection'](a0_0x156424(0x630)+L['CONNECTION'][a0_0x156424(0x5f5)]+':'+L[a0_0x156424(0x5c8)]['PORT']+a0_0x156424(0x563),{'user':L[a0_0x156424(0x5c8)][a0_0x156424(0x2a4)],'pass':L['CONNECTION']['PASSWORD'],'dbName':a0_0x156424(0x118)}):null;fe&&Ue[a0_0x156424(0xf5)]('ON\x20-\x20dbName:\x20'+fe[a0_0x156424(0x1c2)]),process['on']('beforeExit',()=>{const _0x31d3db=a0_0x156424;$&&$[_0x31d3db(0x314)](()=>{const _0x3e46d1=_0x31d3db;Ue[_0x3e46d1(0xf5)](_0x3e46d1(0x78d));}),fe&&fe[_0x31d3db(0x314)](()=>{const _0x1960fc=_0x31d3db;Ue['info'](_0x1960fc(0x440));});});var qi=new we[(a0_0x156424(0x3c2))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Vi=new we[(a0_0x156424(0x3c2))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),Gi=new we[(a0_0x156424(0x3c2))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),Bi=new we[(a0_0x156424(0x3c2))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[qi],'default':[]}},{'_id':!0x1}),Wi=new we[(a0_0x156424(0x3c2))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Bi,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Vi},'groupdata':{'type':Gi,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Ks=_0x5ce131=>{const _0x502eb7=a0_0x156424;let _0x56ff2e='z_'+_0x5ce131+_0x502eb7(0x347);return $?.[_0x502eb7(0x36e)](_0x502eb7(0xcd),Wi,_0x56ff2e);},Qs=require('mongoose'),zi=new Qs[(a0_0x156424(0x3c2))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Ys=_0x406564=>{const _0x1d835f=a0_0x156424;let _0x45706e='z_'+_0x406564+_0x1d835f(0x2a3);return $?.[_0x1d835f(0x36e)](_0x1d835f(0x147),zi,_0x45706e);},Xs=require(a0_0x156424(0x5c6)),us=class{},Hi=new Xs[(a0_0x156424(0x3c2))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Zs=fe?.[a0_0x156424(0x36e)](us['name'],Hi,'ContactsAndGroups'),ea=require(a0_0x156424(0x5c6)),Ki=new ea['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),ta=_0x715d3b=>{const _0x558ebd=a0_0x156424;let _0x2ef3d7='z_'+_0x715d3b+_0x558ebd(0x5b0);return $?.[_0x558ebd(0x36e)](_0x558ebd(0x76d),Ki,_0x2ef3d7);},sa=require(a0_0x156424(0x5c6)),ds=class{},Qi=new sa['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),aa=$?.[a0_0x156424(0x36e)](ds['name'],Qi,'authentication'),ia=require(a0_0x156424(0x5c6)),ps=class{},oa=new ia[(a0_0x156424(0x3c2))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});oa[a0_0x156424(0x536)](a0_0x156424(0x751),function(_0x3a6209){const _0x31d36c=a0_0x156424;delete this[_0x31d36c(0x100)],delete this[_0x31d36c(0x420)],delete this['flowPrefixCommand'],delete this[_0x31d36c(0xf6)],delete this['flowStopMinutes'],_0x3a6209();});var ra=$?.[a0_0x156424(0x36e)](ps[a0_0x156424(0x350)],oa,'webhook'),D=require(a0_0x156424(0x5c6)),hs=require('uuid'),qe=class{},na=new D[(a0_0x156424(0x3c2))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),gs=new D[(a0_0x156424(0x3c2))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Yi=new D[(a0_0x156424(0x3c2))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x156424(0x5c3)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x156424(0x123)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x156424(0x244)},'pollErrorMessage':{'type':String,'default':a0_0x156424(0x5d2)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ca=new D[(a0_0x156424(0x3c2))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Xi=new D[(a0_0x156424(0x3c2))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),Zi=new D[(a0_0x156424(0x3c2))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),fs=new D[(a0_0x156424(0x3c2))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),eo=new D[(a0_0x156424(0x3c2))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),la=new D[(a0_0x156424(0x3c2))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Yi},'apirequest':Xi,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':eo,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ua=new D[(a0_0x156424(0x3c2))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ws=new D['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,hs['v4'])()},'startID':{'type':String,'default':()=>(0x0,hs['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'global':{'type':String,'default':a0_0x156424(0x682)},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x4b20aa=a0_0x156424;return _0x4b20aa(0x29d)+Math[_0x4b20aa(0x1cb)]()[_0x4b20aa(0x50d)](0x24)[_0x4b20aa(0x550)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[fs],'variablesNotFound':{'type':[String]},'blocks':[la],'groups':[na],'conditions':[ca],'varedits':[ua],'replyOptions':{'type':[gs],'default':[]}});ws['pre'](a0_0x156424(0x751),function(_0x18e8d0){const _0x2eb19e=a0_0x156424;let _0x2cc65b=new Set(),_0x3821c2=new Set(this[_0x2eb19e(0x43a)]?.[_0x2eb19e(0x5ad)](_0x54aa59=>_0x54aa59[_0x2eb19e(0x350)])),_0x3799ed=JSON[_0x2eb19e(0x389)](this),_0x33c39d=/{{(?!_)([^}]*)}}/g,_0x569c72;for(;(_0x569c72=_0x33c39d[_0x2eb19e(0xf1)](_0x3799ed))!==null;)_0x3821c2['has'](_0x569c72[0x1])||_0x2cc65b[_0x2eb19e(0x364)](_0x569c72[0x1]);_0x2cc65b[_0x2eb19e(0x18f)]>0x0?(console[_0x2eb19e(0x234)](_0x2eb19e(0x1c4),Array[_0x2eb19e(0x32d)](_0x2cc65b)),this[_0x2eb19e(0x555)]=Array[_0x2eb19e(0x32d)](_0x2cc65b)):this[_0x2eb19e(0x555)]=[],_0x18e8d0();}),ws[a0_0x156424(0x536)](a0_0x156424(0x6b8),function(_0x3a9347){const _0x67c227=a0_0x156424;let _0x340330=this[_0x67c227(0x122)]();if(_0x340330&&typeof _0x340330==_0x67c227(0x666)&&_0x67c227(0x469)in _0x340330){let _0x27e961=_0x340330['$set'];if(_0x27e961){let _0x54b853=new Set(),_0xb05c71=new Set(_0x27e961['variables']?.[_0x67c227(0x5ad)](_0x5ece02=>_0x5ece02['name'])),_0x3062df=JSON['stringify'](_0x27e961),_0x14c6a1=/{{(?!_)([^}]*)}}/g,_0x55690a;for(;(_0x55690a=_0x14c6a1[_0x67c227(0xf1)](_0x3062df))!==null;)_0xb05c71[_0x67c227(0x419)](_0x55690a[0x1])||_0x54b853[_0x67c227(0x364)](_0x55690a[0x1]);_0x54b853[_0x67c227(0x18f)]>0x0?(console[_0x67c227(0x234)]('Variáveis\x20não\x20encontradas:',Array[_0x67c227(0x32d)](_0x54b853)),_0x27e961[_0x67c227(0x555)]=Array['from'](_0x54b853)):_0x27e961['variablesNotFound']=[],this[_0x67c227(0x560)]({'$set':_0x27e961});}}_0x3a9347();});var da=_0x2b1607=>{const _0x2dda48=a0_0x156424;let _0x2328fd='z_'+_0x2b1607+'_Flows';return $?.['model'](_0x2dda48(0x5d5),ws,_0x2328fd);},to=new D[(a0_0x156424(0x3c2))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[fs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Zi]},{'_id':!0x1}),so=new D['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[fs],'blocks':[la],'groups':[na],'conditions':[ca],'varedits':[ua],'replyOptions':{'type':[gs],'default':[]},'chatLog':to,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x156424(0x3a9)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x156424(0x244)},'waitingMenu_replyOptions':{'type':[gs],'default':[]}}),pa=_0x592898=>{const _0x16c879=a0_0x156424;let _0xd66df8='z_'+_0x592898+_0x16c879(0x5cf);return $?.[_0x16c879(0x36e)](_0x16c879(0x632),so,_0xd66df8);},ao=new D[(a0_0x156424(0x3c2))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),io=new D[(a0_0x156424(0x3c2))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),oo=new D[(a0_0x156424(0x3c2))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x156424(0x37e)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':io,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[ao],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ha=_0x3abfd2=>{const _0x2fb5df=a0_0x156424;let _0x2b378e='z_'+_0x3abfd2+_0x2fb5df(0x391);return $?.['model']('ScheduleMessageModel',oo,_0x2b378e);},ms=class{},ro=new D[(a0_0x156424(0x3c2))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),no=new D[(a0_0x156424(0x3c2))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),co=new D[(a0_0x156424(0x3c2))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),lo=new D[(a0_0x156424(0x3c2))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),uo=new D[(a0_0x156424(0x3c2))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[lo]},'customFields':{'type':[no]},'flowConfig':{'type':co,'default':{}},'autoCompleteMessages':{'type':[ro],'default':[]}}),ve=$?.[a0_0x156424(0x36e)](ms[a0_0x156424(0x350)],uo,a0_0x156424(0x105)),ga=require(a0_0x156424(0x5c6)),po=new ga[(a0_0x156424(0x3c2))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ma=_0x37d787=>{const _0x41cd55=a0_0x156424;let _0x476bcb='z_'+_0x37d787+_0x41cd55(0x20f);return $?.[_0x41cd55(0x36e)](_0x41cd55(0x694),po,_0x476bcb);},x=class{constructor(_0x15adcd){const _0x5a8ff7=a0_0x156424;this['dbSettings']=_0x15adcd[_0x5a8ff7(0x2cb)](_0x5a8ff7(0x3be));}};function T(_0x595cc1){const _0x4751f6=a0_0x156424;let _0x19c9f9={};for(let [_0x5903b4,_0x4862d4]of Object[_0x4751f6(0xd5)](_0x595cc1))if(typeof _0x4862d4=='object'&&!Array[_0x4751f6(0x2b8)](_0x4862d4)){for(let [_0x128ac6,_0x45f3b8]of Object[_0x4751f6(0xd5)](_0x4862d4))_0x19c9f9[_0x5903b4+'.'+_0x128ac6]=_0x45f3b8;}else _0x19c9f9[_0x5903b4]=_0x4862d4;return _0x19c9f9;}var Ve=class{constructor(_0x1587e8,_0x358966,_0x4c03f6,_0x5ae8e3,_0x1a7872,_0x60380c,_0x552a70,_0x602e0f,_0x4b2916,_0x5b638c,_0x7fc127,_0x4b37c1){const _0x50bef6=a0_0x156424;this[_0x50bef6(0x6b3)]=_0x1587e8,this[_0x50bef6(0x2ea)]=_0x358966,this[_0x50bef6(0x2e0)]=_0x4c03f6,this['cacheContact']=_0x5ae8e3,this[_0x50bef6(0x208)]=_0x1a7872,this[_0x50bef6(0x39b)]=_0x60380c,this[_0x50bef6(0x321)]=_0x552a70,this[_0x50bef6(0x628)]=_0x602e0f,this[_0x50bef6(0x590)]=_0x4b2916,this['scheduleMessage']=_0x5b638c,this[_0x50bef6(0x794)]=_0x7fc127,this[_0x50bef6(0x303)]=_0x4b37c1;}get[a0_0x156424(0x6a4)](){const _0x46b42f=a0_0x156424;return this[_0x46b42f(0x303)];}},Ge=class{},Be=class extends x{[a0_0x156424(0xa8)](_0x4ed862){return ta(_0x4ed862);}async['insert'](_0x3c250d,_0x4162cc){const _0x207c6b=a0_0x156424;if(_0x3c250d['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x4162cc)[_0x207c6b(0x51e)]([..._0x3c250d]))[_0x207c6b(0x476)]};}catch(_0x4ca7c3){return _0x4ca7c3;}}async[a0_0x156424(0x5ae)](_0x11c60d,_0x9757f2){const _0x252dfc=a0_0x156424;try{let _0x2e06cc=this['getMessageModelForOwner'](_0x9757f2),_0x92c5aa=T(_0x11c60d[_0x252dfc(0x4e9)]);return await _0x2e06cc['find'](_0x92c5aa)[_0x252dfc(0x660)]({'messageTimestamp':-0x1})[_0x252dfc(0x717)](_0x11c60d?.[_0x252dfc(0x717)]??0x0)['lean']();}catch{return[];}}async['delete'](_0x26c45e,_0x523434){const _0x47f842=a0_0x156424;try{let _0x153f6a=this[_0x47f842(0xa8)](_0x523434),_0x14b88a=T(_0x26c45e[_0x47f842(0x4e9)]);await _0x153f6a['deleteMany'](_0x14b88a);}catch(_0x1d6b86){console[_0x47f842(0x363)](_0x1d6b86);}}async[a0_0x156424(0x2ab)](_0x544666,_0x34acd9,_0x4f8d71){const _0x33ed2b=a0_0x156424;try{let _0x128d2f=this[_0x33ed2b(0xa8)](_0x4f8d71),_0x5d7b25=T(_0x544666['where']);return await _0x128d2f[_0x33ed2b(0x6b8)](_0x5d7b25,{'$set':_0x34acd9},{'new':!0x0});}catch(_0x42fc9a){throw console[_0x33ed2b(0x363)](_0x42fc9a),_0x42fc9a;}}async[a0_0x156424(0x51e)](_0x5a542f,_0x36627b){const _0xc95e68=a0_0x156424;if(_0x5a542f[_0xc95e68(0x476)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0xc95e68(0xa8)](_0x36627b)[_0xc95e68(0x51e)]([..._0x5a542f]))[_0xc95e68(0x476)]};}catch(_0x5e53d3){return console['log'](_0xc95e68(0x32e),_0x5e53d3),_0x5e53d3;}}async[a0_0x156424(0x5bf)](_0x19387c){const _0x5186c4=a0_0x156424;try{return await this[_0x5186c4(0xa8)](_0x19387c)['collection'][_0x5186c4(0x4b1)](),{'success':!0x0};}catch(_0x235e69){return console[_0x5186c4(0x363)](_0x235e69),{'success':!0x1,'error':_0x235e69};}}},$s=O(require(a0_0x156424(0x545))),w=O(require('@whiskeysockets/baileys')),xe=require('fs'),F=O(require(a0_0x156424(0x1f5))),K=O(require(a0_0x156424(0x1c7))),bi=require(a0_0x156424(0x45e)),Si=O(require(a0_0x156424(0x37c))),Mi=O(require('qrcode-terminal')),fa=[a0_0x156424(0x4b7),'documentMessage',a0_0x156424(0x401),a0_0x156424(0x708),a0_0x156424(0x149)],wa=[a0_0x156424(0x207),a0_0x156424(0x50b),'viewOnceMessage','viewOnceMessageV2'],As=require('os'),Pt=O(require(a0_0x156424(0x1c6))),De=require(a0_0x156424(0x216)),kt=require(a0_0x156424(0x612)),oe=O(require('mongoose')),P=require(a0_0x156424(0x732)),ye=class{constructor(_0x6c17c2,_0x481482,_0x38b871){const _0x1ca14a=a0_0x156424;this[_0x1ca14a(0x2f4)]=_0x6c17c2,this[_0x1ca14a(0x710)]=_0x481482,this[_0x1ca14a(0x350)]=_0x38b871;}},We=class{},ze=class{},Ne=class{},He=class{},Ke=class{},be=class{},Qe=class{},Ye=class{},Xe=class{},Ze=class{},Tt=O(require('express')),ya=require('fs'),ba=require('path');async function Re(_0x409ea8){const _0x418fc5=a0_0x156424;let _0x95a7cd=G[_0x418fc5(0x11a)][_0x409ea8];if(L[_0x418fc5(0x237)]){let _0x9c34e7=$[_0x418fc5(0x21b)]()['db'](L[_0x418fc5(0x5c8)][_0x418fc5(0x3e6)]+_0x418fc5(0x714))[_0x418fc5(0x3f5)](_0x409ea8);return _0x95a7cd||(await _0x9c34e7['find']({})[_0x418fc5(0x4f6)]())[_0x418fc5(0x476)]>0x0;}return _0x95a7cd||(0x0,ya[_0x418fc5(0x66d)])((0x0,ba[_0x418fc5(0xdb)])(me,_0x409ea8));}async function Sa(_0xf15536,_0xc2628d,_0x53dd01){const _0x2e6839=a0_0x156424;if(_0xf15536[_0x2e6839(0x6f1)]['includes'](_0x2e6839(0x1d9))||_0xf15536[_0x2e6839(0x6f1)][_0x2e6839(0x341)](_0x2e6839(0x4eb))||_0xf15536['originalUrl'][_0x2e6839(0x341)](_0x2e6839(0x377))||_0xf15536[_0x2e6839(0x6f1)]['includes'](_0x2e6839(0x515))||_0xf15536[_0x2e6839(0x6f1)][_0x2e6839(0x341)]('/instance/connect')||_0xf15536[_0x2e6839(0x6f1)]['includes']('/instance/connectionState')||_0xf15536[_0x2e6839(0x6f1)]['includes'](_0x2e6839(0x308)))return _0x53dd01();let _0x384898=_0xf15536['params'];if(!_0x384898?.['instanceName'])throw new m(_0x2e6839(0x127));if(!await Re(_0x384898[_0x2e6839(0x194)]))throw new U(_0x2e6839(0x671)+_0x384898[_0x2e6839(0x194)]+_0x2e6839(0x264));_0x53dd01();}async function Ma(_0x478fba,_0x481739,_0x19fddb){const _0x3cf51d=a0_0x156424;if(_0x478fba[_0x3cf51d(0x6f1)]['includes'](_0x3cf51d(0x1d9))){let _0x19e5a8=_0x478fba['body'];if(await Re(_0x19e5a8[_0x3cf51d(0x194)]))throw new Q(_0x3cf51d(0x4c7)+_0x19e5a8[_0x3cf51d(0x194)]+'\x20is\x20already\x20in\x20use.');G[_0x3cf51d(0x11a)][_0x19e5a8[_0x3cf51d(0x194)]]&&delete G[_0x3cf51d(0x11a)][_0x19e5a8[_0x3cf51d(0x194)]];}_0x19fddb();}var Ca=require(a0_0x156424(0x732)),Ea=O(require(a0_0x156424(0x791))),et=a0_0x156424(0x30d),go=new R('GUARD');async function mo(_0x516bf9,_0x5a0295,_0x46b28b){const _0x210c1b=a0_0x156424;let _0x19b2bf=_0x516bf9[_0x210c1b(0x2cb)](_0x210c1b(0x70b));if(_0x19b2bf&&S[_0x210c1b(0x2cb)](_0x210c1b(0x388))[_0x210c1b(0x516)]['KEY']!==_0x19b2bf)throw new ae();if(S['get'](_0x210c1b(0x388))['API_KEY'][_0x210c1b(0x1db)]===_0x19b2bf)return _0x46b28b();if((_0x516bf9['originalUrl'][_0x210c1b(0x341)](_0x210c1b(0x1d9))||_0x516bf9[_0x210c1b(0x6f1)][_0x210c1b(0x341)](_0x210c1b(0x4eb)))&&!_0x19b2bf)throw new Q(_0x210c1b(0x70f),_0x210c1b(0x2c3));let _0x4bf295=S[_0x210c1b(0x2cb)]('AUTHENTICATION')[_0x210c1b(0x17e)];try{let [_0x18475f,_0x3c06de]=_0x516bf9[_0x210c1b(0x2cb)](_0x210c1b(0x160))[_0x210c1b(0x277)]('\x20');if(_0x18475f['toLowerCase']()!==_0x210c1b(0x78f))throw new ae();if(!(0x0,Ca[_0x210c1b(0x3e4)])(_0x3c06de))throw new ae();let _0xfddaef=_0x516bf9[_0x210c1b(0x2e6)],_0x3409e6=Ea[_0x210c1b(0x72b)]['verify'](_0x3c06de,_0x4bf295[_0x210c1b(0x362)],{'ignoreExpiration':_0x4bf295['EXPIRIN_IN']===0x0});if(_0xfddaef[_0x210c1b(0x194)]!==_0x3409e6['instanceName']||et!==_0x3409e6[_0x210c1b(0x19c)])throw new ae();return _0x46b28b();}catch(_0x6a6fae){throw go[_0x210c1b(0x363)](_0x6a6fae),new ae();}}async function fo(_0x35d2d0,_0x1d792b,_0x442a98){const _0x479526=a0_0x156424;let _0x2e605d=S[_0x479526(0x2cb)](_0x479526(0x388))['API_KEY'],_0x3ba65c=_0x35d2d0[_0x479526(0x2cb)](_0x479526(0x70b));if(_0x2e605d['KEY']===_0x3ba65c)return _0x442a98();if(_0x35d2d0['originalUrl'][_0x479526(0x341)](_0x479526(0x1d9))){let _0x5a25f7=tt,_0x1682f2=_0x35d2d0[_0x479526(0x2f6)][_0x479526(0x194)];if(_0x5a25f7&&_0x1682f2[_0x479526(0x18d)]()[_0x479526(0x278)](_0x5a25f7[_0x479526(0x18d)]()))return _0x442a98();if(!_0x3ba65c)throw new Q(_0x479526(0x70f),'The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x35d2d0[_0x479526(0x6f1)][_0x479526(0x341)](_0x479526(0x4eb))&&!_0x3ba65c)throw new Q(_0x479526(0x70f),_0x479526(0x2c3));if(_0x35d2d0['originalUrl'][_0x479526(0x341)](_0x479526(0x377))&&!_0x3ba65c)throw new Q(_0x479526(0x70f),_0x479526(0x2c3));if(_0x35d2d0['originalUrl'][_0x479526(0x341)](_0x479526(0x515))&&!_0x3ba65c)throw new Q(_0x479526(0x70f),'The\x20global\x20api\x20key\x20must\x20be\x20set');try{let _0x4fad70=_0x35d2d0[_0x479526(0x2e6)],_0x526867=await ue[_0x479526(0x39b)][_0x479526(0x5ae)](_0x4fad70[_0x479526(0x194)]);if(_0x526867&&_0x526867['apikey']===_0x3ba65c)return _0x442a98();}catch{}throw new ae();}var va={'jwt':mo,'apikey':fo},ii=require(a0_0x156424(0x4cf)),E=require(a0_0x156424(0x45e)),C=(..._0x33f761)=>{const _0x40fa66=a0_0x156424;let _0x225c6c={};return _0x33f761['forEach'](_0x51ea7d=>_0x225c6c[_0x51ea7d]={'minLength':0x1,'description':_0x40fa66(0x280)+_0x51ea7d+_0x40fa66(0x4bd)}),{'if':{'propertyNames':{'enum':[..._0x33f761]}},'then':{'properties':_0x225c6c}};},v={'$id':(0x0,E['v4'])(),'type':'object','properties':{'instanceName':{'type':a0_0x156424(0x40b)}},...C(a0_0x156424(0x194))},oc={'$id':(0x0,E['v4'])(),'type':a0_0x156424(0x666),'properties':{'oldToken':{'type':a0_0x156424(0x40b)}},'required':[a0_0x156424(0x365)],...C(a0_0x156424(0x365))},rc={'properties':{'key':{'type':a0_0x156424(0x666),'properties':{'id':{'type':a0_0x156424(0x40b)},'remoteJid':{'type':a0_0x156424(0x40b)},'fromMe':{'type':a0_0x156424(0x532),'enum':[!0x0,!0x1]}},'required':['id',a0_0x156424(0x740),a0_0x156424(0xf9)],...C('id','remoteJid')},'message':{'type':a0_0x156424(0x666)}}},Y={'properties':{'delay':{'type':'integer','description':a0_0x156424(0x2c0)},'presence':{'type':a0_0x156424(0x40b),'enum':[a0_0x156424(0xa5),a0_0x156424(0xdf),a0_0x156424(0x44a),a0_0x156424(0x2d9),a0_0x156424(0x5a5)]}}},z={'type':a0_0x156424(0x40b),'description':a0_0x156424(0x1da)},Na={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'textMessage':{'type':a0_0x156424(0x666),'properties':{'text':{'type':a0_0x156424(0x40b)}},'required':[a0_0x156424(0x727)],...C(a0_0x156424(0x727))}},'required':['textMessage',a0_0x156424(0xf2)]},Ra={'type':'string','pattern':a0_0x156424(0x21f),'description':'Invalid\x20format'},nc={'$id':(0x0,E['v4'])(),'type':a0_0x156424(0x666),'properties':{'number':{...Ra},'options':{...Y},'textMessage':{'type':a0_0x156424(0x666),'properties':{'text':{'type':a0_0x156424(0x40b)}},'required':[a0_0x156424(0x727)],...C('text')}},'required':['textMessage',a0_0x156424(0xf2)]},cc={'$id':(0x0,E['v4'])(),'type':a0_0x156424(0x666),'properties':{'number':{...Ra},'options':{...Y},'mediaMessage':{'type':a0_0x156424(0x666),'properties':{'mediatype':{'type':a0_0x156424(0x40b),'enum':[a0_0x156424(0x49c),'document','video',a0_0x156424(0x5f8)]},'media':{'type':a0_0x156424(0x40b)},'fileName':{'type':a0_0x156424(0x40b)},'caption':{'type':a0_0x156424(0x40b)}},'required':[a0_0x156424(0x27d),a0_0x156424(0x582)],...C('fileName',a0_0x156424(0x200),a0_0x156424(0x582))}},'required':[a0_0x156424(0xb4),a0_0x156424(0xf2)]},$a={'$id':(0x0,E['v4'])(),'type':a0_0x156424(0x666),'properties':{'number':{...z},'options':{...Y},'stickerMessage':{'type':a0_0x156424(0x666),'properties':{'image':{'type':a0_0x156424(0x40b)}},'required':[a0_0x156424(0x49c)],...C(a0_0x156424(0x49c))}},'required':[a0_0x156424(0x149),a0_0x156424(0xf2)]},Aa={'$id':(0x0,E['v4'])(),'type':a0_0x156424(0x666),'properties':{'statusMessage':{'type':'object','properties':{'type':{'type':a0_0x156424(0x40b),'enum':[a0_0x156424(0x727),a0_0x156424(0x49c),a0_0x156424(0x5f8),a0_0x156424(0x4d1)]},'content':{'type':'string'},'caption':{'type':a0_0x156424(0x40b)},'backgroundColor':{'type':a0_0x156424(0x40b)},'font':{'type':'integer','minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x156424(0x4c0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x156424(0x40b),'pattern':a0_0x156424(0x340),'description':a0_0x156424(0x4a7)}},'allContacts':{'type':a0_0x156424(0x532),'enum':[!0x0,!0x1]}},'required':[a0_0x156424(0x136),a0_0x156424(0x6d3)],...C(a0_0x156424(0x136),'content')}},'required':[a0_0x156424(0x5ce)]},Oa={'$id':(0x0,E['v4'])(),'type':a0_0x156424(0x666),'properties':{'number':{...z},'options':{...Y},'mediaMessage':{'type':a0_0x156424(0x666),'properties':{'mediatype':{'type':a0_0x156424(0x40b),'enum':['image',a0_0x156424(0x352),a0_0x156424(0x4d1),a0_0x156424(0x5f8)]},'media':{'type':a0_0x156424(0x40b)},'fileName':{'type':a0_0x156424(0x40b)},'caption':{'type':a0_0x156424(0x40b)}},'required':[a0_0x156424(0x27d),'media'],...C(a0_0x156424(0x6cf),'caption',a0_0x156424(0x582))}},'required':['mediaMessage',a0_0x156424(0xf2)]},Ta={'$id':(0x0,E['v4'])(),'type':a0_0x156424(0x666),'properties':{'number':{...z},'options':{...Y},'audioMessage':{'type':a0_0x156424(0x666),'properties':{'audio':{'type':a0_0x156424(0x40b)}},'required':[a0_0x156424(0x5f8)],...C(a0_0x156424(0x5f8))}},'required':[a0_0x156424(0x401),a0_0x156424(0xf2)]},Ia={'$id':(0x0,E['v4'])(),'type':a0_0x156424(0x666),'properties':{'number':{...z},'pollMessage':{'type':'object','properties':{'name':{'type':a0_0x156424(0x40b)},'selectableCount':{'type':a0_0x156424(0xf2)},'values':{'type':a0_0x156424(0x4c0),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x156424(0x350),a0_0x156424(0x42c),a0_0x156424(0x251)],...C(a0_0x156424(0x350),a0_0x156424(0x42c),a0_0x156424(0x251))}},'required':[a0_0x156424(0xf2),a0_0x156424(0x6ab)]},xa={'$id':(0x0,E['v4'])(),'type':a0_0x156424(0x666),'properties':{'number':{...z},'menuMessage':{'type':a0_0x156424(0x666),'properties':{'text':{'type':a0_0x156424(0x40b)},'choices':{'type':a0_0x156424(0x4c0),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x156424(0x727),a0_0x156424(0x3ec)],...C(a0_0x156424(0x727),a0_0x156424(0x3ec))}},'required':[a0_0x156424(0xf2),a0_0x156424(0x204)]},Da={'$id':(0x0,E['v4'])(),'type':a0_0x156424(0x666),'properties':{'number':{...z},'options':{...Y},'buttonMessage':{'type':a0_0x156424(0x666),'properties':{'title':{'type':a0_0x156424(0x40b)},'description':{'type':a0_0x156424(0x40b)},'footerText':{'type':'string'},'buttons':{'type':a0_0x156424(0x4c0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x156424(0x666),'properties':{'buttonText':{'type':a0_0x156424(0x40b)},'buttonId':{'type':a0_0x156424(0x40b)}},'required':[a0_0x156424(0x621),a0_0x156424(0x403)],...C(a0_0x156424(0x621),a0_0x156424(0x403))}},'mediaMessage':{'type':a0_0x156424(0x666),'properties':{'media':{'type':a0_0x156424(0x40b)},'fileName':{'type':a0_0x156424(0x40b)},'mediatype':{'type':a0_0x156424(0x40b),'enum':[a0_0x156424(0x49c),a0_0x156424(0x352),a0_0x156424(0x4d1)]}},'required':['media',a0_0x156424(0x27d)],...C(a0_0x156424(0x582),a0_0x156424(0x6cf))}},'required':[a0_0x156424(0x69f),'buttons'],...C(a0_0x156424(0x69f),'description')}},'required':['number',a0_0x156424(0x18a)]},_a={'$id':(0x0,E['v4'])(),'type':a0_0x156424(0x666),'properties':{'number':{...z},'options':{...Y},'locationMessage':{'type':a0_0x156424(0x666),'properties':{'latitude':{'type':'number'},'longitude':{'type':'number'},'name':{'type':a0_0x156424(0x40b)},'address':{'type':a0_0x156424(0x40b)}},'required':[a0_0x156424(0x5aa),a0_0x156424(0x275)],...C(a0_0x156424(0x350),a0_0x156424(0x113))}},'required':['number',a0_0x156424(0x222)]},Pa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'listMessage':{'type':a0_0x156424(0x666),'properties':{'title':{'type':a0_0x156424(0x40b)},'description':{'type':a0_0x156424(0x40b)},'footerText':{'type':'string'},'buttonText':{'type':'string'},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x156424(0x666),'properties':{'title':{'type':a0_0x156424(0x40b)},'rows':{'type':a0_0x156424(0x4c0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x156424(0x40b)},'description':{'type':a0_0x156424(0x40b)},'rowId':{'type':'string'}},'required':[a0_0x156424(0x69f),a0_0x156424(0x261)],...C(a0_0x156424(0x69f),'rowId')}}},'required':['title',a0_0x156424(0x283)],...C(a0_0x156424(0x69f))}}},'required':[a0_0x156424(0x69f),a0_0x156424(0x4bb),a0_0x156424(0x621),'sections'],...C(a0_0x156424(0x69f),a0_0x156424(0x4bb),a0_0x156424(0x621),a0_0x156424(0x196))}},'required':['number',a0_0x156424(0x69e)]},ka={'$id':(0x0,E['v4'])(),'type':a0_0x156424(0x666),'properties':{'number':{...z},'options':{...Y},'contactMessage':{'type':a0_0x156424(0x4c0),'items':{'type':'object','properties':{'fullName':{'type':a0_0x156424(0x40b)},'phoneNumber':{'type':a0_0x156424(0x40b),'minLength':0xa}},'required':['fullName',a0_0x156424(0x580)],...C(a0_0x156424(0xfb))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x156424(0xf2),a0_0x156424(0x6f3)]},ja={'$id':(0x0,E['v4'])(),'type':'object','properties':{'reactionMessage':{'type':a0_0x156424(0x666),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x156424(0x40b)},'remoteJid':{'type':a0_0x156424(0x40b)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','remoteJid','fromMe'],...C('id',a0_0x156424(0x740))},'reaction':{'type':a0_0x156424(0x40b)}},'required':[a0_0x156424(0x13f),a0_0x156424(0x393)],...C(a0_0x156424(0x393))}},'required':[a0_0x156424(0x6e4)]},La={'$id':(0x0,E['v4'])(),'type':a0_0x156424(0x666),'properties':{'numbers':{'type':a0_0x156424(0x4c0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x156424(0x340),'description':a0_0x156424(0x274)}}}},Fa={'$id':(0x0,E['v4'])(),'type':a0_0x156424(0x666),'properties':{'readMessages':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x156424(0x532),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'}},'required':['id',a0_0x156424(0xf9),a0_0x156424(0x740)],...C('id',a0_0x156424(0x740))}}},'required':[a0_0x156424(0x62a)]},Ja={'$id':(0x0,E['v4'])(),'type':a0_0x156424(0x666),'properties':{'privacySettings':{'type':a0_0x156424(0x666),'properties':{'readreceipts':{'type':a0_0x156424(0x40b),'enum':[a0_0x156424(0x2b9),a0_0x156424(0x232)]},'profile':{'type':a0_0x156424(0x40b),'enum':[a0_0x156424(0x2b9),a0_0x156424(0x67f),'contact_blacklist',a0_0x156424(0x232)]},'status':{'type':'string','enum':['all',a0_0x156424(0x67f),a0_0x156424(0x444),a0_0x156424(0x232)]},'online':{'type':'string','enum':['all',a0_0x156424(0x385)]},'last':{'type':a0_0x156424(0x40b),'enum':[a0_0x156424(0x2b9),a0_0x156424(0x67f),a0_0x156424(0x444),'none']},'groupadd':{'type':'string','enum':['all',a0_0x156424(0x67f),a0_0x156424(0x444),a0_0x156424(0x232)]}},'required':[a0_0x156424(0x400),a0_0x156424(0x4b4),'status','online',a0_0x156424(0x734),a0_0x156424(0x75c)],...C('readreceipts','profile',a0_0x156424(0x2f7),a0_0x156424(0x5d0),a0_0x156424(0x734),a0_0x156424(0x75c))}},'required':[a0_0x156424(0x4af)]},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x156424(0x666),'properties':{'lastMessage':{'type':a0_0x156424(0x666),'properties':{'key':{'type':a0_0x156424(0x666),'properties':{'id':{'type':a0_0x156424(0x40b)},'remoteJid':{'type':a0_0x156424(0x40b)},'fromMe':{'type':a0_0x156424(0x532),'enum':[!0x0,!0x1]}},'required':['id','fromMe','remoteJid'],...C('id',a0_0x156424(0x740))},'messageTimestamp':{'type':a0_0x156424(0x305),'minLength':0x1}},'required':['key'],...C('messageTimestamp')},'archive':{'type':a0_0x156424(0x532),'enum':[!0x0,!0x1]}},'required':['lastMessage',a0_0x156424(0x477)]},qa={'$id':(0x0,E['v4'])(),'type':a0_0x156424(0x666),'properties':{'id':{'type':a0_0x156424(0x40b)},'fromMe':{'type':a0_0x156424(0x532),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x156424(0x40b)},'participant':{'type':'string'}},'required':['id',a0_0x156424(0xf9),a0_0x156424(0x740)],...C('id',a0_0x156424(0x740),a0_0x156424(0x64e))},Va={'$id':(0x0,E['v4'])(),'type':a0_0x156424(0x666),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x156424(0x40b),'minLength':0x1},'pushName':{'type':a0_0x156424(0x40b),'minLength':0x1},'id':{'type':'string','minLength':0x1}},...C(a0_0x156424(0x21c),'id','pushName')}}},Ga={'$id':(0x0,E['v4'])(),'type':a0_0x156424(0x666),'properties':{'name':{'type':a0_0x156424(0x40b)}},...C(a0_0x156424(0x350))},Ba={'$id':(0x0,E['v4'])(),'type':a0_0x156424(0x666),'properties':{'status':{'type':a0_0x156424(0x40b)}},...C(a0_0x156424(0x2f7))},$e={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{'type':'string'},'picture':{'type':'string'}}},Wa={'type':a0_0x156424(0x666),'properties':{'wuid':{'type':a0_0x156424(0x40b)},'name':{'type':a0_0x156424(0x40b)},'picture':{'type':a0_0x156424(0x40b)},'status':{'type':a0_0x156424(0x40b)},'isBusiness':{'type':a0_0x156424(0x532)}}},za={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x156424(0x40b),'minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x156424(0xf9),a0_0x156424(0x740),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x156424(0x40b),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':a0_0x156424(0x40b),'minLength':0x1,'description':a0_0x156424(0x159)},'fromMe':{'type':a0_0x156424(0x532),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x156424(0x666)}},...C(a0_0x156424(0x21c))},'limit':{'type':a0_0x156424(0x305)}}},lc={'$id':(0x0,E['v4'])(),'type':a0_0x156424(0x666),'properties':{'where':{'type':a0_0x156424(0x666),'properties':{'_id':{'type':a0_0x156424(0x40b)},'remoteJid':{'type':a0_0x156424(0x40b)},'id':{'type':a0_0x156424(0x40b)},'fromMe':{'type':a0_0x156424(0x532),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':a0_0x156424(0x40b),'enum':[a0_0x156424(0x60a),a0_0x156424(0x64d),a0_0x156424(0x4d9),'DELIVERY_ACK','READ',a0_0x156424(0x2de)]}},...C(a0_0x156424(0x21c),'remoteJid','id',a0_0x156424(0x2f7))},'limit':{'type':a0_0x156424(0x305)}}},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x156424(0x666),'properties':{'number':{...z},'presence':{'type':a0_0x156424(0x40b),'enum':[a0_0x156424(0xa5),'available',a0_0x156424(0x44a),a0_0x156424(0x2d9),a0_0x156424(0x5a5)]}},'required':[a0_0x156424(0x703),a0_0x156424(0xf2)]},Ka={'$id':(0x0,E['v4'])(),'type':'object','properties':{'subject':{'type':'string'},'description':{'type':a0_0x156424(0x40b)},'profilePicture':{'type':a0_0x156424(0x40b)},'participants':{'type':a0_0x156424(0x4c0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x156424(0x40b),'minLength':0xa,'pattern':'\x5cd+','description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x156424(0xdc),a0_0x156424(0x573)],...C(a0_0x156424(0xdc),'description',a0_0x156424(0x5dc))},Ae={'$id':(0x0,E['v4'])(),'type':a0_0x156424(0x666),'properties':{'groupJid':{'type':a0_0x156424(0x40b),'pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':[a0_0x156424(0x672)],...C(a0_0x156424(0x672))},Qa={'$id':(0x0,E['v4'])(),'type':a0_0x156424(0x666),'properties':{'groupJid':{'type':'string'},'action':{'type':'string','enum':[a0_0x156424(0x364),a0_0x156424(0x6d7),'promote',a0_0x156424(0x3ab),a0_0x156424(0x647),a0_0x156424(0x38a)]},'participants':{'type':a0_0x156424(0x4c0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x156424(0x40b),'minLength':0xa,'pattern':a0_0x156424(0x271),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x156424(0x672),a0_0x156424(0x366),'participants'],...C(a0_0x156424(0x672),a0_0x156424(0x366))},Ya={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x156424(0x40b)},'expiration':{'type':a0_0x156424(0xf2),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x156424(0x672),'expiration'],...C(a0_0x156424(0x672),a0_0x156424(0x737))},Xa={'$id':(0x0,E['v4'])(),'type':a0_0x156424(0x666),'properties':{'groupJid':{'type':a0_0x156424(0x40b)},'image':{'type':a0_0x156424(0x40b)}},'required':[a0_0x156424(0x672),a0_0x156424(0x49c)],...C(a0_0x156424(0x672),'image')},Za={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x156424(0x40b)},'description':{'type':'string'}},'required':['groupJid',a0_0x156424(0x4bb)],...C(a0_0x156424(0x672),'description')},ei={'$id':(0x0,E['v4'])(),'type':a0_0x156424(0x666),'properties':{'groupJid':{'type':a0_0x156424(0x40b)},'name':{'type':a0_0x156424(0x40b)}},'required':['groupJid',a0_0x156424(0x350)],...C(a0_0x156424(0x672),a0_0x156424(0x350))},ti={'$id':(0x0,E['v4'])(),'type':a0_0x156424(0x666),'properties':{'groupJid':{'type':'string'},'setting':{'type':'string','enum':[a0_0x156424(0x256),'not_announcement',a0_0x156424(0x359),a0_0x156424(0x4ba)]}},'required':[a0_0x156424(0x672),'setting'],...C('groupJid',a0_0x156424(0x6b0))},si={'$id':(0x0,E['v4'])(),'type':a0_0x156424(0x666),'properties':{'groupJid':{'type':'string'},'restrict':{'type':a0_0x156424(0x532)},'announce':{'type':'boolean'},'memberAddMode':{'type':'boolean'},'joinApprovalMode':{'type':a0_0x156424(0x532)},'expiration':{'type':a0_0x156424(0x305),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x156424(0x40b)},'description':{'type':a0_0x156424(0x40b)},'image':{'type':a0_0x156424(0x40b)}}},ys={'$id':(0x0,E['v4'])(),'type':a0_0x156424(0x666),'properties':{'inviteCode':{'type':'string'}},'required':[a0_0x156424(0x2eb)],...C(a0_0x156424(0x2eb))},ai={'$id':(0x0,E['v4'])(),'type':a0_0x156424(0x666),'properties':{'url':{'type':a0_0x156424(0x40b)},'enabled':{'type':a0_0x156424(0x532),'enum':[!0x0,!0x1]}},'required':[a0_0x156424(0x1cf),'enabled']},uc={'$id':(0x0,E['v4'])(),'type':a0_0x156424(0x666),'properties':{'local_map':{'type':a0_0x156424(0x532),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x156424(0x532),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x156424(0x532),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x156424(0x532),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x156424(0x532),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x156424(0x532),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x156424(0x532),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x156424(0x532),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x156424(0x532),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x156424(0x532),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x156424(0x532),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x156424(0x532),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x156424(0x532),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x156424(0x532),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x156424(0x532),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x156424(0x532),'enum':[!0x0,!0x1]}},'required':[a0_0x156424(0x34b),a0_0x156424(0xc6),a0_0x156424(0x1d5),a0_0x156424(0x290),a0_0x156424(0x4e3),a0_0x156424(0x637),a0_0x156424(0xec),'CONTACTS_SET',a0_0x156424(0x202),a0_0x156424(0x148),a0_0x156424(0xcc),a0_0x156424(0x5ed),a0_0x156424(0x34e),a0_0x156424(0x3d8),'CHATS_DELETE','CONNECTION_UPDATE',a0_0x156424(0x51b),'GROUPS_UPDATE',a0_0x156424(0xe9)],...C('local_map',a0_0x156424(0xc6),a0_0x156424(0x1d5),a0_0x156424(0x290),a0_0x156424(0x4e3),a0_0x156424(0x637),a0_0x156424(0xec),a0_0x156424(0x2b5),a0_0x156424(0x202),'CONTACTS_UPDATE',a0_0x156424(0xcc),a0_0x156424(0x5ed),a0_0x156424(0x34e),a0_0x156424(0x3d8),a0_0x156424(0x503),a0_0x156424(0x468),a0_0x156424(0x51b),'GROUPS_UPDATE',a0_0x156424(0xe9))},st=class{},at=class extends x{[a0_0x156424(0x17f)](_0x49b83e){return Ys(_0x49b83e);}async[a0_0x156424(0x6b2)](_0x3f31c4){const _0x2e0612=a0_0x156424;if(_0x3f31c4[_0x2e0612(0x476)]!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x3f31c4[0x0][_0x2e0612(0x585)])[_0x2e0612(0x51e)]([..._0x3f31c4]))[_0x2e0612(0x476)]};}catch(_0x5a9a25){return _0x5a9a25;}}async[a0_0x156424(0x4f4)](_0x5a16a2,_0x4d6062){const _0x8e649c=a0_0x156424;try{return{'deletedCount':(await this[_0x8e649c(0x17f)](_0x4d6062)[_0x8e649c(0x1c5)]({..._0x5a16a2[_0x8e649c(0x4e9)]}))['deletedCount']};}catch(_0xbd053){return{'error':_0xbd053?.[_0x8e649c(0x50d)]()};}}async[a0_0x156424(0x2ab)](_0x37fdda,_0x243425){const _0x12c62a=a0_0x156424;try{if(_0x37fdda[_0x12c62a(0x476)]===0x0)return;let _0x145c94=this[_0x12c62a(0x17f)](_0x243425),_0x194965=_0x37fdda['map'](_0x51256f=>({'updateOne':{'filter':{'_id':_0x51256f['_id'],'owner':_0x243425},'update':{..._0x51256f}}})),{modifiedCount:_0x1be099}=await _0x145c94[_0x12c62a(0x461)](_0x194965);return{'insertCount':_0x1be099};}catch{return;}}async['find'](_0x4cd489,_0x17de2e){const _0x56141c=a0_0x156424;try{let _0x30ee2a=this[_0x56141c(0x17f)](_0x17de2e),_0x43449c=T(_0x4cd489['where']);return await _0x30ee2a['find'](_0x43449c)[_0x56141c(0x717)](_0x4cd489?.[_0x56141c(0x717)]??0x0)[_0x56141c(0x53b)]();}catch{return[];}}async[a0_0x156424(0x6d5)](_0x8c05f8,_0x46eeb8){const _0x8e9835=a0_0x156424;try{let _0x49f0ac=this[_0x8e9835(0x17f)](_0x46eeb8),_0x5ac85d=T(_0x8c05f8[_0x8e9835(0x4e9)]);return await _0x49f0ac[_0x8e9835(0x6d5)](_0x5ac85d)[_0x8e9835(0x53b)]();}catch{return null;}}async[a0_0x156424(0x5bf)](_0x18084d){const _0x5182ae=a0_0x156424;try{return await this[_0x5182ae(0x17f)](_0x18084d)[_0x5182ae(0x3f5)][_0x5182ae(0x4b1)](),{'success':!0x0};}catch(_0x157f17){return console[_0x5182ae(0x363)](_0x157f17),{'success':!0x1,'error':_0x157f17};}}},it=require(a0_0x156424(0x39d)),bc=require(a0_0x156424(0x512)),bs=new R(a0_0x156424(0x482)),V=class{[a0_0x156424(0x74d)](_0x2eb3e3,_0x5a70fb=!0x0){const _0x20147e=a0_0x156424;let _0x4072b5='/'+_0x2eb3e3;return _0x5a70fb&&(_0x4072b5+=_0x20147e(0x141)),_0x4072b5;}async[a0_0x156424(0x120)](_0x41b35b){const _0x101895=a0_0x156424;let {request:_0xfb65fa,schema:_0x4b52b8,ClassRef:_0x4433d0,execute:_0x45252b}=_0x41b35b,_0x10f28b=new _0x4433d0(),_0x32b733=_0xfb65fa[_0x101895(0x2f6)],_0x2e17c9=_0xfb65fa['params'];_0xfb65fa?.[_0x101895(0x1ba)]&&Object[_0x101895(0x153)](_0xfb65fa[_0x101895(0x1ba)])[_0x101895(0x476)]>0x0&&Object[_0x101895(0x263)](_0x2e17c9,_0xfb65fa[_0x101895(0x1ba)]),_0xfb65fa[_0x101895(0x6f1)]['includes'](_0x101895(0x1d9))&&Object[_0x101895(0x263)](_0x2e17c9,_0x32b733),Object[_0x101895(0x263)](_0x10f28b,_0x32b733);let _0x1ef9a2=_0x4b52b8?(0x0,it['validate'])(_0x10f28b,_0x4b52b8):{'valid':!0x0,'errors':[]};if(!_0x1ef9a2['valid']){let _0x28957d=_0x1ef9a2[_0x101895(0x777)]['map'](({property:_0x288aa7,stack:_0x58a08e,schema:_0x4ad0ca})=>{const _0xfc60ac=_0x101895;let _0x194e89;return _0x4ad0ca[_0xfc60ac(0x4bb)]?_0x194e89=_0x4ad0ca[_0xfc60ac(0x4bb)]:_0x194e89=_0x58a08e[_0xfc60ac(0x367)](_0xfc60ac(0x6f2),''),{'property':_0x288aa7['replace'](_0xfc60ac(0x6f2),''),'message':_0x194e89};});throw bs['error']([..._0x28957d]),new m(..._0x28957d);}return await _0x45252b(_0x2e17c9,_0x10f28b);}async[a0_0x156424(0x6dc)](_0x4a71f8){const _0x2f499b=a0_0x156424;let {request:_0x1f9102,ClassRef:_0x5070cc,schema:_0x2431a5,execute:_0x2090d6}=_0x4a71f8,_0x5ab0ab=_0x1f9102[_0x2f499b(0x1ba)];if(!_0x5ab0ab?.['groupJid'])throw new m('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query',_0x2f499b(0x502));let _0x205d77=_0x1f9102[_0x2f499b(0x2e6)],_0x5a4d17=_0x1f9102[_0x2f499b(0x2f6)],_0x298a84=new _0x5070cc();Object[_0x2f499b(0x263)](_0x5a4d17,_0x5ab0ab),Object['assign'](_0x298a84,_0x5a4d17);let _0x17d9d8=(0x0,it[_0x2f499b(0x6d9)])(_0x298a84,_0x2431a5);if(!_0x17d9d8['valid']){let _0x256fe2=_0x17d9d8[_0x2f499b(0x777)]['map'](({property:_0x570c85,stack:_0x5407b8,schema:_0x5cbebf})=>{const _0x3d0b44=_0x2f499b;let _0x3a0cc0;return _0x5cbebf[_0x3d0b44(0x4bb)]?_0x3a0cc0=_0x5cbebf['description']:_0x3a0cc0=_0x5407b8[_0x3d0b44(0x367)](_0x3d0b44(0x6f2),''),{'property':_0x570c85[_0x3d0b44(0x367)](_0x3d0b44(0x6f2),''),'message':_0x3a0cc0};});throw bs[_0x2f499b(0x363)]([..._0x256fe2]),new m(..._0x256fe2);}return await _0x2090d6(_0x205d77,_0x298a84);}async[a0_0x156424(0x206)](_0x299e98){const _0x35433a=a0_0x156424;let {request:_0x454a0b,ClassRef:_0x4234fd,schema:_0x5a0272,execute:_0x10ff94}=_0x299e98,_0x5196b7=_0x454a0b[_0x35433a(0x2f6)];if(!_0x5196b7?.[_0x35433a(0x2eb)])throw new m(_0x35433a(0x792),'ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22');let _0xd11e88=_0x454a0b[_0x35433a(0x2e6)],_0x447783=_0x454a0b[_0x35433a(0x2f6)],_0xf3804d=new _0x4234fd();Object[_0x35433a(0x263)](_0x447783,_0x5196b7),Object[_0x35433a(0x263)](_0xf3804d,_0x447783);let _0x449cae=(0x0,it[_0x35433a(0x6d9)])(_0xf3804d,_0x5a0272);if(!_0x449cae[_0x35433a(0x1a2)]){let _0x425a7a=_0x449cae[_0x35433a(0x777)][_0x35433a(0x5ad)](({property:_0x5ced43,stack:_0x197c9d,schema:_0xccaa6a})=>{const _0x290222=_0x35433a;let _0x7f2062;return _0xccaa6a['description']?_0x7f2062=_0xccaa6a[_0x290222(0x4bb)]:_0x7f2062=_0x197c9d[_0x290222(0x367)](_0x290222(0x6f2),''),{'property':_0x5ced43['replace'](_0x290222(0x6f2),''),'message':_0x7f2062};});throw bs['error']([..._0x425a7a]),new m(..._0x425a7a);}return await _0x10ff94(_0xd11e88,_0xf3804d);}},M=class{},_c=new R(a0_0x156424(0x3d2)),ot=class extends V{constructor(..._0x5ded79){const _0x4939c7=a0_0x156424;super(),this[_0x4939c7(0x396)]=(0x0,ii[_0x4939c7(0x4c9)])(),this[_0x4939c7(0x396)][_0x4939c7(0x4ff)](this[_0x4939c7(0x74d)](_0x4939c7(0x2a8)),..._0x5ded79,async(_0x3e817f,_0x1cfa67)=>{const _0x192346=_0x4939c7;let _0x22506c=await this[_0x192346(0x120)]({'request':_0x3e817f,'schema':Ha,'ClassRef':We,'execute':(_0x348481,_0x49d915)=>_[_0x192346(0x2a8)](_0x348481,_0x49d915)});return _0x1cfa67['status'](0xc9)['json'](_0x22506c);})['post'](this['routerPath'](_0x4939c7(0x282)),..._0x5ded79,async(_0x21d336,_0x258bb6)=>{const _0x15b4a0=_0x4939c7;let _0x39443f=await this[_0x15b4a0(0x120)]({'request':_0x21d336,'schema':La,'ClassRef':ze,'execute':(_0x470419,_0x1bad1f)=>_[_0x15b4a0(0x225)](_0x470419,_0x1bad1f)});return _0x258bb6[_0x15b4a0(0x2f7)](0xc9)['json'](_0x39443f);})[_0x4939c7(0x4ff)](this['routerPath'](_0x4939c7(0x13e)),..._0x5ded79,async(_0x472051,_0x4d3bba)=>{const _0x1fa56f=_0x4939c7;let _0x4ef2d7=await this[_0x1fa56f(0x120)]({'request':_0x472051,'schema':v,'ClassRef':M,'execute':(_0x2d4db5,_0x533d62)=>_[_0x1fa56f(0x13e)](_0x2d4db5,_0x533d62)});return _0x4d3bba[_0x1fa56f(0x2f7)](0xc9)[_0x1fa56f(0x295)](_0x4ef2d7);})[_0x4939c7(0x5f3)](this[_0x4939c7(0x74d)](_0x4939c7(0x307)),..._0x5ded79,async(_0x3ef5d0,_0x13b98d)=>{const _0x48ca4f=_0x4939c7;let _0x1b2c0d=await this[_0x48ca4f(0x120)]({'request':_0x3ef5d0,'schema':Fa,'ClassRef':Qe,'execute':(_0x4ce6eb,_0x3377fd)=>_[_0x48ca4f(0xd1)](_0x4ce6eb,_0x3377fd)});return _0x13b98d[_0x48ca4f(0x2f7)](0xc9)[_0x48ca4f(0x295)](_0x1b2c0d);})[_0x4939c7(0x5f3)](this[_0x4939c7(0x74d)](_0x4939c7(0x4fd)),..._0x5ded79,async(_0xfad487,_0x3e27ac)=>{const _0x13719b=_0x4939c7;let _0x1dd275=await this[_0x13719b(0x120)]({'request':_0xfad487,'schema':Ua,'ClassRef':Ye,'execute':(_0x36a16d,_0x423504)=>_[_0x13719b(0x4fd)](_0x36a16d,_0x423504)});return _0x3e27ac[_0x13719b(0x2f7)](0xc9)[_0x13719b(0x295)](_0x1dd275);})['delete'](this[_0x4939c7(0x74d)](_0x4939c7(0x1ed)),..._0x5ded79,async(_0x233226,_0x15d242)=>{const _0x133420=_0x4939c7;let _0x108cfe=await this[_0x133420(0x120)]({'request':_0x233226,'schema':qa,'ClassRef':Ze,'execute':(_0x4bae9c,_0x21d205)=>_[_0x133420(0x6ee)](_0x4bae9c,_0x21d205)});return _0x15d242[_0x133420(0x2f7)](0xc9)[_0x133420(0x295)](_0x108cfe);})[_0x4939c7(0x4ff)](this[_0x4939c7(0x74d)]('fetchProfilePictureUrl'),..._0x5ded79,async(_0x418558,_0x2859ec)=>{const _0x23f6a5=_0x4939c7;let _0x29ed9c=await this[_0x23f6a5(0x120)]({'request':_0x418558,'schema':$e,'ClassRef':Ne,'execute':(_0x364608,_0x47dc3c)=>_['fetchProfilePicture'](_0x364608,_0x47dc3c)});return _0x2859ec[_0x23f6a5(0x2f7)](0xc8)[_0x23f6a5(0x295)](_0x29ed9c);})[_0x4939c7(0x4ff)](this[_0x4939c7(0x74d)](_0x4939c7(0x3bd)),..._0x5ded79,async(_0x19b914,_0x196b22)=>{const _0x5c6b6f=_0x4939c7;let _0x51acab=await this[_0x5c6b6f(0x120)]({'request':_0x19b914,'schema':Wa,'ClassRef':Ne,'execute':(_0x1a7364,_0x34e3ff)=>_[_0x5c6b6f(0x3bd)](_0x1a7364,_0x34e3ff)});return _0x196b22[_0x5c6b6f(0x2f7)](0xc8)[_0x5c6b6f(0x295)](_0x51acab);})['post'](this['routerPath']('findContacts'),..._0x5ded79,async(_0x13ee5e,_0x17f2cc)=>{const _0x3c8a2d=_0x4939c7;let _0x3d6c27=await this[_0x3c8a2d(0x120)]({'request':_0x13ee5e,'schema':Va,'ClassRef':st,'execute':(_0x2dedf1,_0x16f5f8)=>_[_0x3c8a2d(0xed)](_0x2dedf1,_0x16f5f8)});return _0x17f2cc[_0x3c8a2d(0x2f7)](0xc8)[_0x3c8a2d(0x295)](_0x3d6c27);})[_0x4939c7(0x4ff)](this[_0x4939c7(0x74d)](_0x4939c7(0x3cd)),..._0x5ded79,async(_0x15ff2f,_0x1f63e5)=>{const _0x5b5732=_0x4939c7;let _0x51476b=await this['dataValidate']({'request':_0x15ff2f,'schema':null,'ClassRef':Object,'execute':(_0x4d43dc,_0x5b26aa)=>_[_0x5b5732(0x3cd)](_0x4d43dc,_0x5b26aa)});return _0x1f63e5[_0x5b5732(0x2f7)](0xc9)[_0x5b5732(0x295)](_0x51476b);})['post'](this[_0x4939c7(0x74d)](_0x4939c7(0x3e8)),..._0x5ded79,async(_0x561a89,_0x341fed)=>{const _0x4436f0=_0x4939c7;let _0x1af0dd=await this[_0x4436f0(0x120)]({'request':_0x561a89,'schema':za,'ClassRef':Ge,'execute':(_0x595cda,_0x56cb8b)=>_[_0x4436f0(0x6a5)](_0x595cda,_0x56cb8b)});return _0x341fed['status'](0xc8)[_0x4436f0(0x295)](_0x1af0dd);})['get'](this[_0x4939c7(0x74d)]('findChats'),..._0x5ded79,async(_0x5be11e,_0x42b96f)=>{const _0x52e89f=_0x4939c7;let _0x22c8e3=await this[_0x52e89f(0x120)]({'request':_0x5be11e,'schema':null,'ClassRef':M,'execute':_0xc5e4=>_['fetchChats'](_0xc5e4)});return _0x42b96f[_0x52e89f(0x2f7)](0xc8)[_0x52e89f(0x295)](_0x22c8e3);})[_0x4939c7(0x2cb)](this[_0x4939c7(0x74d)](_0x4939c7(0x255)),..._0x5ded79,async(_0x15e70e,_0x5711ec)=>{const _0x48ab43=_0x4939c7;let _0x66b43=await this[_0x48ab43(0x120)]({'request':_0x15e70e,'schema':null,'ClassRef':M,'execute':_0x1c3a80=>_['fetchLabels'](_0x1c3a80)});return _0x5711ec[_0x48ab43(0x2f7)](0xc8)['json'](_0x66b43);})[_0x4939c7(0x5f3)](this[_0x4939c7(0x74d)](_0x4939c7(0x6c6)),..._0x5ded79,async(_0x45547a,_0x147268)=>{const _0x4d2b01=_0x4939c7;let _0x3a14af=await this[_0x4d2b01(0x120)]({'request':_0x45547a,'schema':null,'ClassRef':Array,'execute':(_0x47f48d,_0x59d6cc)=>_[_0x4d2b01(0x6c6)](_0x47f48d,_0x59d6cc)});return _0x147268[_0x4d2b01(0x2f7)](0xc8)[_0x4d2b01(0x295)](_0x3a14af);})[_0x4939c7(0x2cb)](this[_0x4939c7(0x74d)](_0x4939c7(0x3d0)),..._0x5ded79,async(_0x4de7f6,_0x8ad0cf)=>{const _0x135c7a=_0x4939c7;let _0x44a679=await this[_0x135c7a(0x120)]({'request':_0x4de7f6,'schema':null,'ClassRef':M,'execute':_0x428024=>_[_0x135c7a(0x3d0)](_0x428024)});return _0x8ad0cf['status'](0xc8)[_0x135c7a(0x295)](_0x44a679);})[_0x4939c7(0x5f3)](this[_0x4939c7(0x74d)](_0x4939c7(0x3db)),..._0x5ded79,async(_0x2594bc,_0x4679e2)=>{const _0x545d5b=_0x4939c7;let _0xd27fce=await this[_0x545d5b(0x120)]({'request':_0x2594bc,'schema':Ja,'ClassRef':Xe,'execute':(_0x24e2fa,_0x1f41c6)=>_[_0x545d5b(0x3db)](_0x24e2fa,_0x1f41c6)});return _0x4679e2[_0x545d5b(0x2f7)](0xc9)[_0x545d5b(0x295)](_0xd27fce);})[_0x4939c7(0x4ff)](this['routerPath']('fetchBusinessProfile'),..._0x5ded79,async(_0x5ace55,_0x17b4d1)=>{const _0x1ab6c3=_0x4939c7;let _0x2f5b49=await this[_0x1ab6c3(0x120)]({'request':_0x5ace55,'schema':$e,'ClassRef':be,'execute':(_0x566344,_0x44773a)=>_['fetchBusinessProfile'](_0x566344,_0x44773a)});return _0x17b4d1[_0x1ab6c3(0x2f7)](0xc8)[_0x1ab6c3(0x295)](_0x2f5b49);})[_0x4939c7(0x4ff)](this[_0x4939c7(0x74d)](_0x4939c7(0x67a)),..._0x5ded79,async(_0x55e539,_0x558ac6)=>{const _0x9e172f=_0x4939c7;let _0x47c79c=await this['dataValidate']({'request':_0x55e539,'schema':Ga,'ClassRef':He,'execute':(_0x3d0b49,_0x20f1d9)=>_['updateProfileName'](_0x3d0b49,_0x20f1d9)});return _0x558ac6['status'](0xc8)[_0x9e172f(0x295)](_0x47c79c);})[_0x4939c7(0x4ff)](this[_0x4939c7(0x74d)](_0x4939c7(0x538)),..._0x5ded79,async(_0x23fccd,_0x1b99a4)=>{const _0x61dcb=_0x4939c7;let _0x205cfb=await this[_0x61dcb(0x120)]({'request':_0x23fccd,'schema':Ba,'ClassRef':Ke,'execute':(_0x728f33,_0x128d79)=>_[_0x61dcb(0x538)](_0x728f33,_0x128d79)});return _0x1b99a4[_0x61dcb(0x2f7)](0xc8)[_0x61dcb(0x295)](_0x205cfb);})['put'](this[_0x4939c7(0x74d)](_0x4939c7(0x4fa)),..._0x5ded79,async(_0x288c41,_0xf4f2b9)=>{const _0x4787d8=_0x4939c7;let _0x5d7a26=await this[_0x4787d8(0x120)]({'request':_0x288c41,'schema':$e,'ClassRef':be,'execute':(_0x48f5ea,_0x197d6d)=>_[_0x4787d8(0x4fa)](_0x48f5ea,_0x197d6d)});return _0xf4f2b9[_0x4787d8(0x2f7)](0xc8)[_0x4787d8(0x295)](_0x5d7a26);})[_0x4939c7(0x4f4)](this[_0x4939c7(0x74d)]('removeProfilePicture'),..._0x5ded79,async(_0x4d0d18,_0x341abd)=>{const _0x246a9c=_0x4939c7;let _0x332e05=await this[_0x246a9c(0x120)]({'request':_0x4d0d18,'schema':$e,'ClassRef':be,'execute':(_0x1605b6,_0x13905e)=>_['removeProfilePicture'](_0x1605b6,_0x13905e)});return _0x341abd['status'](0xc8)[_0x246a9c(0x295)](_0x332e05);});}},oi=require(a0_0x156424(0x4cf)),rt=class{},nt=class{},ct=class{},lt=class{},ut=class{},dt=class{},X=class{},Oe=class{},pt=class extends X{},ht=class extends X{},gt=class extends V{constructor(..._0x3fc109){const _0x49b10d=a0_0x156424;super(),this[_0x49b10d(0x396)]=(0x0,oi[_0x49b10d(0x4c9)])(),this[_0x49b10d(0x396)]['post'](this[_0x49b10d(0x74d)](_0x49b10d(0x291)),..._0x3fc109,async(_0x90c44e,_0x10293f)=>{const _0x4f5e05=_0x49b10d;let _0x53137a=await this[_0x4f5e05(0x120)]({'request':_0x90c44e,'schema':Ka,'ClassRef':rt,'execute':(_0x2edda7,_0x1ad7b3)=>q['createGroup'](_0x2edda7,_0x1ad7b3)});_0x10293f[_0x4f5e05(0x2f7)](0xc9)['json'](_0x53137a);})[_0x49b10d(0x5f3)](this[_0x49b10d(0x74d)](_0x49b10d(0xa2)),..._0x3fc109,async(_0x515c64,_0x3753f1)=>{const _0x4609ee=_0x49b10d;let _0x18e10e=await this[_0x4609ee(0x6dc)]({'request':_0x515c64,'schema':Xa,'ClassRef':nt,'execute':(_0x4a33cd,_0x32419c)=>q[_0x4609ee(0xa2)](_0x4a33cd,_0x32419c)});_0x3753f1['status'](0xc9)['json'](_0x18e10e);})[_0x49b10d(0x5f3)](this[_0x49b10d(0x74d)](_0x49b10d(0x31e)),..._0x3fc109,async(_0x37c69e,_0xd4a382)=>{const _0x596e62=_0x49b10d;let _0x16b2a8=await this[_0x596e62(0x6dc)]({'request':_0x37c69e,'schema':Za,'ClassRef':ct,'execute':(_0x227641,_0x1e7314)=>q[_0x596e62(0x31e)](_0x227641,_0x1e7314)});_0xd4a382[_0x596e62(0x2f7)](0xc9)[_0x596e62(0x295)](_0x16b2a8);})[_0x49b10d(0x5f3)](this[_0x49b10d(0x74d)]('groupName'),..._0x3fc109,async(_0x543c5f,_0xe605d1)=>{const _0x1bca59=_0x49b10d;let _0x21bbb6=await this[_0x1bca59(0x6dc)]({'request':_0x543c5f,'schema':ei,'ClassRef':lt,'execute':(_0xaae622,_0x3cc9e3)=>q[_0x1bca59(0x4f3)](_0xaae622,_0x3cc9e3)});_0xe605d1['status'](0xc9)['json'](_0x21bbb6);})['put'](this[_0x49b10d(0x74d)](_0x49b10d(0x453)),..._0x3fc109,async(_0x11ea3f,_0x306719)=>{const _0x57451a=_0x49b10d;let _0x13a786=await this[_0x57451a(0x6dc)]({'request':_0x11ea3f,'schema':si,'ClassRef':dt,'execute':(_0x1b3632,_0x191392)=>q['groupBetterSetting'](_0x1b3632,_0x191392)});_0x306719[_0x57451a(0x2f7)](0xc9)[_0x57451a(0x295)](_0x13a786);})['put'](this[_0x49b10d(0x74d)](_0x49b10d(0x771)),..._0x3fc109,async(_0x3eb6bc,_0x2f1577)=>{const _0x1f5b3f=_0x49b10d;let _0x3e98ab=await this[_0x1f5b3f(0x6dc)]({'request':_0x3eb6bc,'schema':ti,'ClassRef':ut,'execute':(_0x158268,_0xb95139)=>q[_0x1f5b3f(0x771)](_0x158268,_0xb95139)});_0x2f1577[_0x1f5b3f(0x2f7)](0xc9)[_0x1f5b3f(0x295)](_0x3e98ab);})[_0x49b10d(0x5f3)](this[_0x49b10d(0x74d)]('toggleEphemeral'),..._0x3fc109,async(_0x3b7968,_0x3f9020)=>{const _0x1d6f8b=_0x49b10d;let _0x714ae4=await this[_0x1d6f8b(0x6dc)]({'request':_0x3b7968,'schema':Ya,'ClassRef':ht,'execute':(_0x252c9b,_0xfcc93)=>q[_0x1d6f8b(0x54d)](_0x252c9b,_0xfcc93)});_0x3f9020[_0x1d6f8b(0x2f7)](0xc9)[_0x1d6f8b(0x295)](_0x714ae4);})[_0x49b10d(0x2cb)](this[_0x49b10d(0x74d)](_0x49b10d(0x788)),..._0x3fc109,async(_0x3c5644,_0x529d5f)=>{const _0x4c7f15=_0x49b10d;let _0x50419e=await this[_0x4c7f15(0x6dc)]({'request':_0x3c5644,'schema':Ae,'ClassRef':X,'execute':(_0x1aa05d,_0x20efdc)=>q[_0x4c7f15(0x285)](_0x1aa05d,_0x20efdc)});_0x529d5f[_0x4c7f15(0x2f7)](0xc8)[_0x4c7f15(0x295)](_0x50419e);})[_0x49b10d(0x2cb)](this[_0x49b10d(0x74d)](_0x49b10d(0x496)),..._0x3fc109,async(_0x5c6a8b,_0x3d0441)=>{const _0x51a5b0=_0x49b10d;let _0x2d9f90=await this[_0x51a5b0(0x120)]({'request':_0x5c6a8b,'schema':v,'ClassRef':M,'execute':_0xe8a402=>q[_0x51a5b0(0x496)](_0xe8a402)});_0x3d0441[_0x51a5b0(0x2f7)](0xc8)[_0x51a5b0(0x295)](_0x2d9f90);})[_0x49b10d(0x2cb)](this['routerPath'](_0x49b10d(0x573)),..._0x3fc109,async(_0x394738,_0x3b5b8b)=>{const _0x22b42e=_0x49b10d;let _0x484074=await this[_0x22b42e(0x6dc)]({'request':_0x394738,'schema':Ae,'ClassRef':X,'execute':(_0x208e50,_0x26794c)=>q[_0x22b42e(0x185)](_0x208e50,_0x26794c)});_0x3b5b8b['status'](0xc8)[_0x22b42e(0x295)](_0x484074);})['get'](this['routerPath'](_0x49b10d(0x2eb)),..._0x3fc109,async(_0x3f8031,_0x404b8c)=>{const _0x51c62b=_0x49b10d;let _0x2e83ae=await this[_0x51c62b(0x6dc)]({'request':_0x3f8031,'schema':Ae,'ClassRef':X,'execute':(_0x58b487,_0x283832)=>q[_0x51c62b(0x2eb)](_0x58b487,_0x283832)});_0x404b8c[_0x51c62b(0x2f7)](0xc8)['json'](_0x2e83ae);})[_0x49b10d(0x4ff)](this[_0x49b10d(0x74d)]('inviteCodeDetails'),..._0x3fc109,async(_0x549dc3,_0xb660ea)=>{const _0x465de6=_0x49b10d;let _0xefa9f4=await this[_0x465de6(0x206)]({'request':_0x549dc3,'schema':ys,'ClassRef':Oe,'execute':(_0x3178eb,_0x3e30f1)=>q[_0x465de6(0x6d4)](_0x3178eb,_0x3e30f1)});_0xb660ea[_0x465de6(0x2f7)](0xc9)[_0x465de6(0x295)](_0xefa9f4);})['put'](this['routerPath'](_0x49b10d(0x686)),..._0x3fc109,async(_0x3b86e0,_0x3f615b)=>{const _0x1b04f7=_0x49b10d;let _0x1d1ab8=await this['joinGroupValidate']({'request':_0x3b86e0,'schema':ys,'ClassRef':Oe,'execute':(_0x38c2bf,_0x57c809)=>q['joinGroup'](_0x38c2bf,_0x57c809)});_0x3f615b[_0x1b04f7(0x2f7)](0xc9)[_0x1b04f7(0x295)](_0x1d1ab8);})['put'](this[_0x49b10d(0x74d)](_0x49b10d(0x5c5)),..._0x3fc109,async(_0xe5f01b,_0x562065)=>{const _0x48696f=_0x49b10d;let _0x395956=await this['groupValidate']({'request':_0xe5f01b,'schema':Ae,'ClassRef':X,'execute':(_0xb4e859,_0x18c5c6)=>q[_0x48696f(0x5c5)](_0xb4e859,_0x18c5c6)});_0x562065['status'](0xc9)['json'](_0x395956);})['put'](this[_0x49b10d(0x74d)]('updateParticipant'),..._0x3fc109,async(_0x267778,_0x80d9a)=>{const _0x4e704e=_0x49b10d;let _0x36ab96=await this[_0x4e704e(0x6dc)]({'request':_0x267778,'schema':Qa,'ClassRef':pt,'execute':(_0x18b2c4,_0x5ce60b)=>q['updateGParticipate'](_0x18b2c4,_0x5ce60b)});_0x80d9a['status'](0xc9)[_0x4e704e(0x295)](_0x36ab96);})[_0x49b10d(0x4f4)](this[_0x49b10d(0x74d)](_0x49b10d(0x6e6)),..._0x3fc109,async(_0x2e4c3f,_0x5b3901)=>{const _0x261e18=_0x49b10d;let _0x1cdfc7=await this['groupValidate']({'request':_0x2e4c3f,'schema':{},'ClassRef':X,'execute':(_0x3f9128,_0x3fc4a2)=>q[_0x261e18(0x6e6)](_0x3f9128,_0x3fc4a2)});_0x5b3901[_0x261e18(0x2f7)](0xc8)[_0x261e18(0x295)](_0x1cdfc7);});}},ri=require('express'),mt=class extends V{constructor(_0x22d534,..._0x5a0bdf){const _0x3d3d8a=a0_0x156424;super(),this['configService']=_0x22d534,this[_0x3d3d8a(0x396)]=(0x0,ri[_0x3d3d8a(0x4c9)])();let _0x433160=_0x22d534['get'](_0x3d3d8a(0x388));this['router'][_0x3d3d8a(0x4ff)](_0x3d3d8a(0x75d),..._0x5a0bdf,async(_0x457ce3,_0x522698)=>{const _0x401f26=_0x3d3d8a;let {instanceName:_0x1fb37b,apikey:_0x2566d2,number:_0x130925}=_0x457ce3[_0x401f26(0x2f6)],_0x4e4895=await ne['createInstance']({'instanceName':_0x1fb37b,'apikey':_0x2566d2,'number':_0x130925});return _0x522698[_0x401f26(0x2f7)](0xc9)[_0x401f26(0x295)](_0x4e4895);})[_0x3d3d8a(0x5f3)](this[_0x3d3d8a(0x74d)]('restart'),..._0x5a0bdf,async(_0x371c6e,_0x1d1247)=>{const _0x3afbd8=_0x3d3d8a;let _0x58857a=await this[_0x3afbd8(0x120)]({'request':_0x371c6e,'schema':v,'ClassRef':M,'execute':_0x45798f=>ne['restartInstance'](_0x45798f)});return _0x1d1247[_0x3afbd8(0x2f7)](0xc8)[_0x3afbd8(0x295)](_0x58857a);})['get'](this[_0x3d3d8a(0x74d)](_0x3d3d8a(0x487)),..._0x5a0bdf,async(_0x3a1da8,_0x3d0b52)=>{const _0x45e304=_0x3d3d8a;let _0x14a4b3=await this[_0x45e304(0x120)]({'request':_0x3a1da8,'schema':v,'ClassRef':M,'execute':_0x13ac0f=>ne[_0x45e304(0x70a)](_0x13ac0f)});return _0x3d0b52[_0x45e304(0x2f7)](0xc8)[_0x45e304(0x295)](_0x14a4b3);})['get'](this[_0x3d3d8a(0x74d)](_0x3d3d8a(0x13b)),..._0x5a0bdf,async(_0x3d3667,_0x41cf24)=>{const _0xfe5682=_0x3d3d8a;let _0x58911e=await this[_0xfe5682(0x120)]({'request':_0x3d3667,'schema':v,'ClassRef':M,'execute':_0x37de8d=>ne[_0xfe5682(0x13b)](_0x37de8d)});return _0x41cf24[_0xfe5682(0x2f7)](0xc8)[_0xfe5682(0x295)](_0x58911e);})[_0x3d3d8a(0x2cb)](this['routerPath'](_0x3d3d8a(0x766),!0x1),..._0x5a0bdf,async(_0x26cd50,_0x3c3094)=>{const _0x4b6a51=_0x3d3d8a;let _0x199c7e=await this[_0x4b6a51(0x120)]({'request':_0x26cd50,'schema':null,'ClassRef':M,'execute':_0x5338c3=>ne['fetchInstances'](_0x5338c3)});return _0x3c3094[_0x4b6a51(0x2f7)](0xc8)['json'](_0x199c7e);})[_0x3d3d8a(0x4f4)](this['routerPath'](_0x3d3d8a(0x705)),..._0x5a0bdf,async(_0x103401,_0x2000aa)=>{const _0x1dec23=_0x3d3d8a;let _0x47337a=await this[_0x1dec23(0x120)]({'request':_0x103401,'schema':v,'ClassRef':M,'execute':_0x39e019=>ne[_0x1dec23(0x705)](_0x39e019)});return _0x2000aa['status'](0xc8)[_0x1dec23(0x295)](_0x47337a);})['delete'](this[_0x3d3d8a(0x74d)](_0x3d3d8a(0x4f4)),..._0x5a0bdf,async(_0x48b418,_0x3a5c05)=>{const _0x5b787c=_0x3d3d8a;let _0x4f0900=await this[_0x5b787c(0x120)]({'request':_0x48b418,'schema':v,'ClassRef':M,'execute':_0x9a57b3=>ne[_0x5b787c(0x3fd)](_0x9a57b3)});return _0x3a5c05[_0x5b787c(0x2f7)](0xc8)[_0x5b787c(0x295)](_0x4f0900);});}},ni=require('express'),Ss=class{},W=class extends Ss{},ft=class extends W{},wt=class extends W{},yt=class extends W{},bt=class extends W{},Te=class extends W{},St=class extends W{},Mt=class extends W{},Ct=class extends W{},Et=class extends W{},vt=class extends W{},Nt=class{},Rt=class extends V{constructor(..._0xcfa202){const _0x5072b4=a0_0x156424;super(),this[_0x5072b4(0x396)]=(0x0,ni[_0x5072b4(0x4c9)])(),this['router'][_0x5072b4(0x4ff)](this[_0x5072b4(0x74d)]('sendText'),..._0xcfa202,async(_0x1aa1c9,_0x457004)=>{const _0x31c216=_0x5072b4;let _0x2172e8=await this[_0x31c216(0x120)]({'request':_0x1aa1c9,'schema':Na,'ClassRef':ft,'execute':(_0x139b53,_0x1e5f54)=>B[_0x31c216(0x36d)](_0x139b53,_0x1e5f54)});return _0x457004[_0x31c216(0x2f7)](0xc9)[_0x31c216(0x295)](_0x2172e8);})[_0x5072b4(0x4ff)](this[_0x5072b4(0x74d)]('sendMedia'),..._0xcfa202,async(_0x290e0d,_0x154355)=>{const _0x5519ca=_0x5072b4;let _0x5963bb=await this[_0x5519ca(0x120)]({'request':_0x290e0d,'schema':Oa,'ClassRef':Te,'execute':(_0x3efc27,_0x5da84a)=>B['sendMedia'](_0x3efc27,_0x5da84a)});return _0x154355[_0x5519ca(0x2f7)](0xc9)['json'](_0x5963bb);})[_0x5072b4(0x4ff)](this[_0x5072b4(0x74d)](_0x5072b4(0x33c)),..._0xcfa202,async(_0x1d188b,_0x10155b)=>{const _0x3745fc=_0x5072b4;let _0x3e6dce=await this[_0x3745fc(0x120)]({'request':_0x1d188b,'schema':xa,'ClassRef':bt,'execute':(_0x3d47cf,_0x18a387)=>B[_0x3745fc(0x33c)](_0x3d47cf,_0x18a387)});return _0x10155b[_0x3745fc(0x2f7)](0xc9)[_0x3745fc(0x295)](_0x3e6dce);})[_0x5072b4(0x4ff)](this['routerPath'](_0x5072b4(0x53c)),..._0xcfa202,async(_0x227fa8,_0x5a21c3)=>{const _0x46d339=_0x5072b4;let _0x2c2503=await this[_0x46d339(0x120)]({'request':_0x227fa8,'schema':Ta,'ClassRef':Te,'execute':(_0x1d1edf,_0x39f5dd)=>B[_0x46d339(0x53c)](_0x1d1edf,_0x39f5dd)});return _0x5a21c3[_0x46d339(0x2f7)](0xc9)[_0x46d339(0x295)](_0x2c2503);})[_0x5072b4(0x4ff)](this[_0x5072b4(0x74d)]('sendButtons'),..._0xcfa202,async(_0x3a33e6,_0x3c8c)=>{const _0x553430=_0x5072b4;let _0x410788=await this[_0x553430(0x120)]({'request':_0x3a33e6,'schema':Da,'ClassRef':Mt,'execute':(_0x5e353a,_0x4c2f8f)=>B['sendButtons'](_0x5e353a,_0x4c2f8f)});return _0x3c8c['status'](0xc9)[_0x553430(0x295)](_0x410788);})[_0x5072b4(0x4ff)](this['routerPath']('sendLocation'),..._0xcfa202,async(_0x27d3a4,_0x2a394b)=>{const _0x229099=_0x5072b4;let _0x17e84a=await this[_0x229099(0x120)]({'request':_0x27d3a4,'schema':_a,'ClassRef':Ct,'execute':(_0x1a7cd4,_0x1c9b82)=>B[_0x229099(0xd3)](_0x1a7cd4,_0x1c9b82)});return _0x2a394b[_0x229099(0x2f7)](0xc9)[_0x229099(0x295)](_0x17e84a);})[_0x5072b4(0x4ff)](this[_0x5072b4(0x74d)]('sendList'),..._0xcfa202,async(_0x47881a,_0x6c920b)=>{const _0x1dbd93=_0x5072b4;let _0x3faa63=await this[_0x1dbd93(0x120)]({'request':_0x47881a,'schema':Pa,'ClassRef':Et,'execute':(_0xedac94,_0x35980e)=>B[_0x1dbd93(0x565)](_0xedac94,_0x35980e)});return _0x6c920b[_0x1dbd93(0x2f7)](0xc9)[_0x1dbd93(0x295)](_0x3faa63);})[_0x5072b4(0x4ff)](this[_0x5072b4(0x74d)](_0x5072b4(0x2c5)),..._0xcfa202,async(_0xc2c15d,_0x2b7e2f)=>{const _0x1ab48c=_0x5072b4;let _0x192758=await this['dataValidate']({'request':_0xc2c15d,'schema':ka,'ClassRef':vt,'execute':(_0x10b406,_0x5e21d6)=>B[_0x1ab48c(0x2c5)](_0x10b406,_0x5e21d6)});return _0x2b7e2f[_0x1ab48c(0x2f7)](0xc9)[_0x1ab48c(0x295)](_0x192758);})[_0x5072b4(0x4ff)](this[_0x5072b4(0x74d)](_0x5072b4(0x2bc)),..._0xcfa202,async(_0x343ec9,_0x51427c)=>{const _0x15ae3a=_0x5072b4;let _0x4a65d6=await this[_0x15ae3a(0x120)]({'request':_0x343ec9,'schema':ja,'ClassRef':Nt,'execute':(_0x3ff4c0,_0x2e2664)=>B[_0x15ae3a(0x2bc)](_0x3ff4c0,_0x2e2664)});return _0x51427c['status'](0xc9)[_0x15ae3a(0x295)](_0x4a65d6);})[_0x5072b4(0x4ff)](this['routerPath'](_0x5072b4(0x451)),..._0xcfa202,async(_0x55fce9,_0x2387fd)=>{const _0x5e66c0=_0x5072b4;let _0x4cf3b5=await this[_0x5e66c0(0x120)]({'request':_0x55fce9,'schema':Ia,'ClassRef':yt,'execute':(_0x47ce4f,_0x56d287)=>B[_0x5e66c0(0x451)](_0x47ce4f,_0x56d287)});return _0x2387fd[_0x5e66c0(0x2f7)](0xc9)[_0x5e66c0(0x295)](_0x4cf3b5);})[_0x5072b4(0x4ff)](this[_0x5072b4(0x74d)](_0x5072b4(0x11e)),..._0xcfa202,async(_0x5658a1,_0x61f59e)=>{const _0x5a3756=_0x5072b4;let _0x3f01ce=await this[_0x5a3756(0x120)]({'request':_0x5658a1,'schema':Aa,'ClassRef':wt,'execute':(_0x81ffcc,_0x4fb994)=>B[_0x5a3756(0x11e)](_0x81ffcc,_0x4fb994)});return _0x61f59e[_0x5a3756(0x2f7)](0xc9)[_0x5a3756(0x295)](_0x3f01ce);})[_0x5072b4(0x4ff)](this[_0x5072b4(0x74d)](_0x5072b4(0x738)),..._0xcfa202,async(_0x192fa9,_0x3d5689)=>{const _0x5c1583=_0x5072b4;let _0x50e106=await this[_0x5c1583(0x120)]({'request':_0x192fa9,'schema':$a,'ClassRef':St,'execute':(_0x4df330,_0x5a4217)=>B[_0x5c1583(0x738)](_0x4df330,_0x5a4217)});return _0x3d5689[_0x5c1583(0x2f7)](0xc9)[_0x5c1583(0x295)](_0x50e106);});}},ci=require(a0_0x156424(0x4cf)),$t=class{},At=class extends V{constructor(..._0x45806a){const _0xbed806=a0_0x156424;super(),this[_0xbed806(0x396)]=(0x0,ci[_0xbed806(0x4c9)])(),this['router'][_0xbed806(0x4ff)](this[_0xbed806(0x74d)](_0xbed806(0x6fc)),..._0x45806a,async(_0x192f5e,_0x3fa191)=>{const _0xa632ac=_0xbed806;let _0x2b17de=await this['dataValidate']({'request':_0x192f5e,'schema':ai,'ClassRef':$t,'execute':(_0x21adca,_0x10e034)=>Ms[_0xa632ac(0x72f)](_0x21adca,_0x10e034)});_0x3fa191['status'](0xc9)[_0xa632ac(0x295)](_0x2b17de);})['get'](this[_0xbed806(0x74d)](_0xbed806(0x5ae)),..._0x45806a,async(_0x9b3cc0,_0x1b5607)=>{const _0x3c7ebc=_0xbed806;let _0x4dc459=await this[_0x3c7ebc(0x120)]({'request':_0x9b3cc0,'schema':v,'ClassRef':M,'execute':_0x5bbf34=>Ms[_0x3c7ebc(0x593)](_0x5bbf34)});_0x1b5607[_0x3c7ebc(0x2f7)](0xc8)[_0x3c7ebc(0x295)](_0x4dc459);});}},li=require(a0_0x156424(0x4cf)),y=new R(a0_0x156424(0x664)),Ot=class extends V{constructor(..._0x5b6c9d){const _0x3cfc86=a0_0x156424;super(),this['router']=(0x0,li[_0x3cfc86(0x4c9)])(),this[_0x3cfc86(0x396)][_0x3cfc86(0x4ff)](this[_0x3cfc86(0x74d)]('scheduleMessage'),..._0x5b6c9d,async(_0x5113ec,_0x3864b9)=>{const _0xea5842=_0x3cfc86;let _0x433098=_0x5113ec[_0xea5842(0x2f6)];y[_0xea5842(0x361)](_0xea5842(0x1be)),y['verbose'](_0xea5842(0x549)),y[_0xea5842(0x361)](_0x5113ec[_0xea5842(0x2f6)]);let _0x115981=await this['dataValidate']({'request':_0x5113ec,'schema':v,'ClassRef':M,'execute':_0x2db3f6=>A[_0xea5842(0x121)](_0x2db3f6,_0x433098)});_0x3864b9[_0xea5842(0x2f7)](0xc8)[_0xea5842(0x295)](_0x115981);})[_0x3cfc86(0x2cb)](this[_0x3cfc86(0x74d)](_0x3cfc86(0x345)),..._0x5b6c9d,async(_0x50646f,_0x242e22)=>{const _0x18a3c0=_0x3cfc86;let _0x44c832=await this[_0x18a3c0(0x120)]({'request':_0x50646f,'schema':v,'ClassRef':M,'execute':_0x1b2ae1=>A[_0x18a3c0(0x5fe)](_0x1b2ae1)});_0x242e22[_0x18a3c0(0x2f7)](0xc8)[_0x18a3c0(0x295)](_0x44c832);})[_0x3cfc86(0x4f4)](this['routerPath']('deleteDoneMessages'),..._0x5b6c9d,async(_0x213c3d,_0x4d1490)=>{const _0x1e1d2b=_0x3cfc86;y[_0x1e1d2b(0x361)](_0x1e1d2b(0x22a));let _0x4f0e56=await this[_0x1e1d2b(0x120)]({'request':_0x213c3d,'schema':v,'ClassRef':M,'execute':_0x2d0584=>A[_0x1e1d2b(0x606)](_0x2d0584)});_0x4d1490[_0x1e1d2b(0x2f7)](0xc8)['json'](_0x4f0e56);})['post'](this['routerPath'](_0x3cfc86(0x73f)),..._0x5b6c9d,async(_0x22955b,_0xeff870)=>{const _0x38412a=_0x3cfc86;let _0x287402=_0x22955b[_0x38412a(0x2f6)];y[_0x38412a(0x361)]('request\x20received\x20in\x20starFlow'),y[_0x38412a(0x361)](_0x38412a(0x549)),y[_0x38412a(0x361)](_0x22955b[_0x38412a(0x2f6)]);let _0xba6ecc=await this[_0x38412a(0x120)]({'request':_0x22955b,'schema':v,'ClassRef':M,'execute':_0x40c6b2=>A[_0x38412a(0x73f)](_0x40c6b2,_0x287402)});_0xeff870['status'](0xc8)[_0x38412a(0x295)](_0xba6ecc);})[_0x3cfc86(0x2cb)](this[_0x3cfc86(0x74d)](_0x3cfc86(0x220)),..._0x5b6c9d,async(_0x53cc9c,_0x3f94fe)=>{const _0x7b65a2=_0x3cfc86;y[_0x7b65a2(0x361)]('request\x20received\x20in\x20getAutomateSystem');let _0x439c6e=await this[_0x7b65a2(0x120)]({'request':_0x53cc9c,'schema':v,'ClassRef':M,'execute':_0x3c12d3=>A['getAutomateSystem'](_0x3c12d3)});_0x3f94fe[_0x7b65a2(0x2f7)](0xc8)[_0x7b65a2(0x295)](_0x439c6e);})[_0x3cfc86(0x2cb)](this['routerPath'](_0x3cfc86(0x798)),..._0x5b6c9d,async(_0x3c0950,_0x291cff)=>{const _0x1c9faf=_0x3cfc86;y[_0x1c9faf(0x361)](_0x1c9faf(0x668));let _0x165971=await this[_0x1c9faf(0x120)]({'request':_0x3c0950,'schema':v,'ClassRef':M,'execute':_0x14dfd9=>A['getAutomateSystem'](_0x14dfd9)});_0x291cff[_0x1c9faf(0x2f7)](0xc8)[_0x1c9faf(0x295)](_0x165971);})[_0x3cfc86(0x4ff)](this[_0x3cfc86(0x74d)](_0x3cfc86(0x3f4)),..._0x5b6c9d,async(_0x5b7287,_0x32831c)=>{const _0x2f0dce=_0x3cfc86;let _0x33e610=_0x5b7287[_0x2f0dce(0x2f6)];y['verbose']('request\x20received\x20in\x20updateAgent'),y[_0x2f0dce(0x361)]('request\x20body:\x20'),y[_0x2f0dce(0x361)](_0x5b7287['body']);let _0x56b6d9=await this[_0x2f0dce(0x120)]({'request':_0x5b7287,'schema':v,'ClassRef':M,'execute':_0x5bda92=>A[_0x2f0dce(0x3f4)](_0x5bda92,_0x33e610)});_0x32831c[_0x2f0dce(0x2f7)](0xc8)[_0x2f0dce(0x295)](_0x56b6d9);})[_0x3cfc86(0x4ff)](this[_0x3cfc86(0x74d)](_0x3cfc86(0x6ba)),..._0x5b6c9d,async(_0x3c7ddd,_0xb0eedf)=>{const _0xb265a9=_0x3cfc86;let _0x5aa459=_0x3c7ddd[_0xb265a9(0x2f6)];y[_0xb265a9(0x361)](_0xb265a9(0x47b)),y['verbose'](_0xb265a9(0x549)),y[_0xb265a9(0x361)](_0x3c7ddd[_0xb265a9(0x2f6)]);let _0x5d892b=await this[_0xb265a9(0x120)]({'request':_0x3c7ddd,'schema':v,'ClassRef':M,'execute':_0x15ab63=>A[_0xb265a9(0x6ba)](_0x15ab63,_0x5aa459)});_0xb0eedf[_0xb265a9(0x2f7)](0xc8)[_0xb265a9(0x295)](_0x5d892b);})[_0x3cfc86(0x4ff)](this[_0x3cfc86(0x74d)](_0x3cfc86(0x15a)),..._0x5b6c9d,async(_0xedc13d,_0x56582f)=>{const _0x1ea097=_0x3cfc86;let _0x6bcb87=_0xedc13d[_0x1ea097(0x2f6)];y[_0x1ea097(0x361)]('request\x20received\x20in\x20updateAutoCompleteMessages'),y['verbose'](_0x1ea097(0x549)),y[_0x1ea097(0x361)](_0xedc13d['body']);let _0x38f6c2=await this[_0x1ea097(0x120)]({'request':_0xedc13d,'schema':v,'ClassRef':M,'execute':_0x17acd3=>A['updateAutoCompleteMessages'](_0x17acd3,_0x6bcb87)});_0x56582f[_0x1ea097(0x2f7)](0xc8)[_0x1ea097(0x295)](_0x38f6c2);})[_0x3cfc86(0x4ff)](this[_0x3cfc86(0x74d)](_0x3cfc86(0x1d2)),..._0x5b6c9d,async(_0x134bed,_0x48c37f)=>{const _0x1431ab=_0x3cfc86;let _0x460d40=_0x134bed[_0x1431ab(0x2f6)];y[_0x1431ab(0x361)](_0x1431ab(0x272)),y[_0x1431ab(0x361)](_0x1431ab(0x549)),y[_0x1431ab(0x361)](_0x134bed[_0x1431ab(0x2f6)]);let _0x136a10=await this[_0x1431ab(0x120)]({'request':_0x134bed,'schema':v,'ClassRef':M,'execute':_0xc84da=>A[_0x1431ab(0x1d2)](_0xc84da,_0x460d40)});_0x48c37f[_0x1431ab(0x2f7)](0xc8)[_0x1431ab(0x295)](_0x136a10);})[_0x3cfc86(0x4ff)](this['routerPath'](_0x3cfc86(0xb0)),..._0x5b6c9d,async(_0xc9f202,_0x1de166)=>{const _0x4dbe5f=_0x3cfc86;let _0x1459e6=_0xc9f202[_0x4dbe5f(0x2f6)];y[_0x4dbe5f(0x361)](_0x4dbe5f(0x16d)),y[_0x4dbe5f(0x361)](_0x4dbe5f(0x549)),y[_0x4dbe5f(0x361)](_0xc9f202[_0x4dbe5f(0x2f6)]);let _0x4db127=await this[_0x4dbe5f(0x120)]({'request':_0xc9f202,'schema':v,'ClassRef':M,'execute':_0x3e782f=>A['getConversation'](_0x3e782f,_0x1459e6)});_0x1de166[_0x4dbe5f(0x2f7)](0xc8)['json'](_0x4db127);})[_0x3cfc86(0x4ff)](this['routerPath'](_0x3cfc86(0x527)),..._0x5b6c9d,async(_0xe45c85,_0x9c5447)=>{const _0x108bf2=_0x3cfc86;let _0x4782b1=_0xe45c85[_0x108bf2(0x2f6)];y['verbose'](_0x108bf2(0x5fc)),y[_0x108bf2(0x361)](_0x108bf2(0x549)),y[_0x108bf2(0x361)](_0xe45c85[_0x108bf2(0x2f6)]);let _0x41b7b3=await this['dataValidate']({'request':_0xe45c85,'schema':v,'ClassRef':M,'execute':_0x25ab01=>A[_0x108bf2(0x527)](_0x25ab01,_0x4782b1)});_0x9c5447[_0x108bf2(0x2f7)](0xc8)[_0x108bf2(0x295)](_0x41b7b3);})[_0x3cfc86(0x4ff)](this[_0x3cfc86(0x74d)](_0x3cfc86(0x1b4)),..._0x5b6c9d,async(_0x3731bc,_0x39fa9a)=>{const _0x21af3b=_0x3cfc86;let _0x1ffc56=_0x3731bc[_0x21af3b(0x2f6)];y[_0x21af3b(0x361)](_0x21af3b(0x221)),y[_0x21af3b(0x361)]('request\x20body:\x20'),y[_0x21af3b(0x361)](_0x3731bc['body']);let _0x3055cc=await this[_0x21af3b(0x120)]({'request':_0x3731bc,'schema':v,'ClassRef':M,'execute':_0x3f89e6=>A[_0x21af3b(0x1b4)](_0x3f89e6,_0x1ffc56)});_0x39fa9a['status'](0xc8)[_0x21af3b(0x295)](_0x3055cc);})[_0x3cfc86(0x4f4)](this['routerPath']('deleteConversation'),..._0x5b6c9d,async(_0x2a5de1,_0x3234bf)=>{const _0x239fd9=_0x3cfc86;let _0x310551=_0x2a5de1[_0x239fd9(0x2f6)];y[_0x239fd9(0x361)]('request\x20received\x20in\x20deleteConversation'),y[_0x239fd9(0x361)](_0x239fd9(0x549)),y[_0x239fd9(0x361)](_0x2a5de1[_0x239fd9(0x2f6)]);let _0x2c1113=await this[_0x239fd9(0x120)]({'request':_0x2a5de1,'schema':v,'ClassRef':M,'execute':_0x1d1ed0=>A[_0x239fd9(0x2ac)](_0x1d1ed0,_0x310551)});_0x3234bf[_0x239fd9(0x2f7)](0xc8)[_0x239fd9(0x295)](_0x2c1113);})['post'](this[_0x3cfc86(0x74d)](_0x3cfc86(0x782)),..._0x5b6c9d,async(_0x1925dd,_0x417c22)=>{const _0x5df7d5=_0x3cfc86;let _0xd2b3ee=_0x1925dd['body'],_0x575755=_0x1925dd[_0x5df7d5(0x184)][_0x5df7d5(0x70b)];y['verbose'](_0x5df7d5(0x131)),y['verbose'](_0x5df7d5(0x549)),y[_0x5df7d5(0x361)](_0x1925dd[_0x5df7d5(0x2f6)]);let _0x8a7689=await this['dataValidate']({'request':_0x1925dd,'schema':v,'ClassRef':M,'execute':_0x31dd5b=>A['createFlow'](_0x31dd5b,_0xd2b3ee,_0x575755)});_0x417c22[_0x5df7d5(0x2f7)](0xc8)[_0x5df7d5(0x295)](_0x8a7689);})[_0x3cfc86(0x4ff)](this[_0x3cfc86(0x74d)]('editflow'),..._0x5b6c9d,async(_0x15131c,_0x222afd)=>{const _0x336ed7=_0x3cfc86;let _0x14118d=_0x15131c[_0x336ed7(0x2f6)],_0x2028cb=_0x15131c[_0x336ed7(0x184)][_0x336ed7(0x70b)];y[_0x336ed7(0x361)](_0x336ed7(0x492)),y[_0x336ed7(0x361)](_0x336ed7(0x549)),y[_0x336ed7(0x361)](_0x15131c[_0x336ed7(0x2f6)]),delete _0x14118d[_0x336ed7(0x167)],delete _0x14118d[_0x336ed7(0x43a)],delete _0x14118d[_0x336ed7(0x20d)],delete _0x14118d['conditions'];let _0xc86896=await this[_0x336ed7(0x120)]({'request':_0x15131c,'schema':v,'ClassRef':M,'execute':_0x413ee4=>A[_0x336ed7(0x3e7)](_0x413ee4,_0x14118d,_0x2028cb)});_0x222afd[_0x336ed7(0x2f7)](0xc8)[_0x336ed7(0x295)](_0xc86896);})[_0x3cfc86(0x4ff)](this[_0x3cfc86(0x74d)](_0x3cfc86(0x386)),..._0x5b6c9d,async(_0x5e9865,_0x580602)=>{const _0x15ec92=_0x3cfc86;let _0x58e6ab=_0x5e9865[_0x15ec92(0x2f6)],_0xebacf9=_0x5e9865[_0x15ec92(0x184)][_0x15ec92(0x70b)];y[_0x15ec92(0x361)](_0x15ec92(0x492)),y[_0x15ec92(0x361)](_0x15ec92(0x549)),y[_0x15ec92(0x361)](_0x5e9865[_0x15ec92(0x2f6)]);let _0x5e9552=await this[_0x15ec92(0x120)]({'request':_0x5e9865,'schema':v,'ClassRef':M,'execute':_0x2daf54=>A['editFlowBlock'](_0x2daf54,_0x58e6ab,_0xebacf9)});_0x580602['status'](0xc8)[_0x15ec92(0x295)](_0x5e9552);})[_0x3cfc86(0x4ff)](this[_0x3cfc86(0x74d)]('editflowreply'),..._0x5b6c9d,async(_0x57595c,_0x412b70)=>{const _0x2c387c=_0x3cfc86;let _0x42cce1=_0x57595c[_0x2c387c(0x2f6)],_0x57db6a=_0x57595c[_0x2c387c(0x184)]['apikey'];y['verbose']('request\x20received\x20in\x20editFlow'),y[_0x2c387c(0x361)](_0x2c387c(0x549)),y[_0x2c387c(0x361)](_0x57595c[_0x2c387c(0x2f6)]);let _0x324712=await this[_0x2c387c(0x120)]({'request':_0x57595c,'schema':v,'ClassRef':M,'execute':_0x255a14=>A['editFlowReply'](_0x255a14,_0x42cce1,_0x57db6a)});_0x412b70[_0x2c387c(0x2f7)](0xc8)[_0x2c387c(0x295)](_0x324712);})[_0x3cfc86(0x4ff)](this[_0x3cfc86(0x74d)](_0x3cfc86(0x6d2)),..._0x5b6c9d,async(_0x599363,_0x1b8519)=>{const _0x2dce01=_0x3cfc86;let _0x2c8230=_0x599363[_0x2dce01(0x2f6)],_0x53a080=_0x599363[_0x2dce01(0x184)][_0x2dce01(0x70b)];y['verbose'](_0x2dce01(0x492)),y[_0x2dce01(0x361)]('request\x20body:\x20'),y['verbose'](_0x599363['body']);let _0x4ed849=await this['dataValidate']({'request':_0x599363,'schema':v,'ClassRef':M,'execute':_0x1a3918=>A[_0x2dce01(0x434)](_0x1a3918,_0x2c8230,_0x53a080)});_0x1b8519[_0x2dce01(0x2f7)](0xc8)[_0x2dce01(0x295)](_0x4ed849);})[_0x3cfc86(0x4ff)](this['routerPath']('editflowgroup'),..._0x5b6c9d,async(_0x194ad2,_0x3f1c2e)=>{const _0x46f099=_0x3cfc86;let _0x2dde05=_0x194ad2[_0x46f099(0x2f6)],_0x2f0d7d=_0x194ad2['headers'][_0x46f099(0x70b)];y[_0x46f099(0x361)](_0x46f099(0x1fe)),y['verbose']('request\x20body:\x20'),y['verbose'](_0x194ad2['body']);let _0x2b4954=await this[_0x46f099(0x120)]({'request':_0x194ad2,'schema':v,'ClassRef':M,'execute':_0x3c845d=>A['editFlowGroup'](_0x3c845d,_0x2dde05,_0x2f0d7d)});_0x3f1c2e[_0x46f099(0x2f7)](0xc8)[_0x46f099(0x295)](_0x2b4954);})['post'](this[_0x3cfc86(0x74d)](_0x3cfc86(0x57c)),..._0x5b6c9d,async(_0x5301b8,_0x35882e)=>{const _0x2f76aa=_0x3cfc86;let _0x27cbe6=_0x5301b8['body'],_0x2149b8=_0x5301b8[_0x2f76aa(0x184)][_0x2f76aa(0x70b)];y[_0x2f76aa(0x361)](_0x2f76aa(0x53d)),y['verbose'](_0x2f76aa(0x549)),y['verbose'](_0x5301b8['body']);let _0x282b92=await this['dataValidate']({'request':_0x5301b8,'schema':v,'ClassRef':M,'execute':_0x550a3e=>A[_0x2f76aa(0x32a)](_0x550a3e,_0x27cbe6,_0x2149b8)});_0x35882e[_0x2f76aa(0x2f7)](0xc8)['json'](_0x282b92);})[_0x3cfc86(0x4ff)](this[_0x3cfc86(0x74d)](_0x3cfc86(0x63e)),..._0x5b6c9d,async(_0x226168,_0x49858d)=>{const _0x6fbc23=_0x3cfc86;let _0x571f3d=_0x226168[_0x6fbc23(0x2f6)],_0x27493a=_0x226168[_0x6fbc23(0x184)][_0x6fbc23(0x70b)];y[_0x6fbc23(0x361)](_0x6fbc23(0x765)),y['verbose'](_0x6fbc23(0x549)),y['verbose'](_0x226168['body']);let _0x35a8ef=await this[_0x6fbc23(0x120)]({'request':_0x226168,'schema':v,'ClassRef':M,'execute':_0x5668d2=>A['editFlowVariable'](_0x5668d2,_0x571f3d,_0x27493a)});_0x49858d[_0x6fbc23(0x2f7)](0xc8)[_0x6fbc23(0x295)](_0x35a8ef);})[_0x3cfc86(0x4ff)](this[_0x3cfc86(0x74d)](_0x3cfc86(0x38f)),..._0x5b6c9d,async(_0x1202b2,_0x1dc74e)=>{const _0x157592=_0x3cfc86;let _0x754866=_0x1202b2['body'];y['verbose'](_0x157592(0x1f3)),y['verbose'](_0x157592(0x549)),y['verbose'](_0x1202b2[_0x157592(0x2f6)]);let _0x29d43d=await this[_0x157592(0x120)]({'request':_0x1202b2,'schema':v,'ClassRef':M,'execute':_0x566ace=>A[_0x157592(0x4aa)](_0x566ace,_0x754866)});_0x1dc74e[_0x157592(0x2f7)](0xc8)[_0x157592(0x295)](_0x29d43d);})['delete'](this[_0x3cfc86(0x74d)](_0x3cfc86(0x1e2)),..._0x5b6c9d,async(_0x487a73,_0x3e2ca8)=>{const _0xdc23d2=_0x3cfc86;let _0x125793=_0x487a73[_0xdc23d2(0x2f6)],_0x1ad2ae=_0x487a73['headers'][_0xdc23d2(0x70b)];y['verbose'](_0xdc23d2(0x557)),y[_0xdc23d2(0x361)](_0xdc23d2(0x549)),y['verbose'](_0x487a73[_0xdc23d2(0x2f6)]);let _0x2b805c=await this[_0xdc23d2(0x120)]({'request':_0x487a73,'schema':v,'ClassRef':M,'execute':_0x648e34=>A[_0xdc23d2(0x114)](_0x648e34,_0x125793,_0x1ad2ae)});_0x3e2ca8[_0xdc23d2(0x2f7)](0xc8)['json'](_0x2b805c);})[_0x3cfc86(0x2cb)](this['routerPath']('allflows'),..._0x5b6c9d,async(_0x58e513,_0x31076d)=>{const _0x4e2f1f=_0x3cfc86;y[_0x4e2f1f(0x361)](_0x4e2f1f(0x56a));let _0x3159f0=await this[_0x4e2f1f(0x120)]({'request':_0x58e513,'schema':v,'ClassRef':M,'execute':_0x260a17=>A[_0x4e2f1f(0x6d1)](_0x260a17)});_0x31076d[_0x4e2f1f(0x2f7)](0xc8)[_0x4e2f1f(0x295)](_0x3159f0);});}},hi=O(require(a0_0x156424(0x1f5))),Z={};function ui(_0x2d38ef,_0x1507bd,_0x25370e,_0x499e5e){Z[_0x2d38ef]||(Z[_0x2d38ef]={}),Z[_0x2d38ef][_0x1507bd]={'id':_0x1507bd,'response':_0x25370e,'events':_0x499e5e};}function di(_0x224b5e,_0x2dc5fb){!Z[_0x224b5e]||!Z[_0x224b5e][_0x2dc5fb]||delete Z[_0x224b5e][_0x2dc5fb];}function J(_0x1d0a8f,_0x1f736b,_0xc30006){const _0x189f8d=a0_0x156424;if(!Z[_0x1d0a8f])return;let _0x4baed0=_0x189f8d(0x214)+JSON[_0x189f8d(0x389)](_0xc30006)+'\x0a\x0a';Object[_0x189f8d(0x251)](Z[_0x1d0a8f])[_0x189f8d(0x6cb)](_0x30a66f=>{const _0x3b009e=_0x189f8d;_0x30a66f['events']['includes'](_0x1f736b)&&_0x30a66f[_0x3b009e(0x402)]['write'](_0x4baed0);});}function pi(){const _0x5d837b=a0_0x156424;let _0x2e3688={};for(let _0x51da55 in Z)_0x2e3688[_0x51da55]=Object[_0x5d837b(0x251)](Z[_0x51da55])[_0x5d837b(0x5ad)](_0x491fd8=>({'id':_0x491fd8['id'],'events':_0x491fd8[_0x5d837b(0x69a)]}));return _0x2e3688;}var gi=require(a0_0x156424(0x45e)),Es=require('mongoose'),Cs=class{},wo=new Es[(a0_0x156424(0x3c2))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),yo=new Es['Schema']({'_id':{'type':String,'default':a0_0x156424(0x31a)},'WebhookGlobal':{'type':wo},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Se=$?.[a0_0x156424(0x36e)](Cs[a0_0x156424(0x350)],yo,a0_0x156424(0xe0)),bo=hi[a0_0x156424(0x72b)]['join'](__dirname,a0_0x156424(0x688)),Ie=(0x0,Tt['Router'])(),So=S[a0_0x156424(0x2cb)](a0_0x156424(0x388))[a0_0x156424(0x1ab)],ie=[Sa,Ma,va[So]];Ie['use'](a0_0x156424(0x23c),Tt['default'][a0_0x156424(0x370)](bo))['get'](a0_0x156424(0x4d7),async(_0x14bb2c,_0x3e00d9)=>{const _0x2fb45e=a0_0x156424;console[_0x2fb45e(0x155)]('bateu\x20events');let _0x9b4cb0=_0x14bb2c[_0x2fb45e(0x2e6)][_0x2fb45e(0x6e9)],_0x332777=(_0x14bb2c[_0x2fb45e(0x1ba)]['events']||'')[_0x2fb45e(0x277)](','),_0x2fe0f9=(0x0,gi['v4'])();console[_0x2fb45e(0x155)](_0x2fb45e(0x735),_0x9b4cb0),console[_0x2fb45e(0x155)](_0x2fb45e(0x524),_0x332777);let _0x5693d4=S['get'](_0x2fb45e(0x388))['API_KEY'],_0x8e09d=_0x14bb2c[_0x2fb45e(0x1ba)][_0x2fb45e(0x70b)];if(console[_0x2fb45e(0x155)](_0x2fb45e(0x381),_0x8e09d),_0x5693d4[_0x2fb45e(0x1db)]!==_0x8e09d){console['log'](_0x2fb45e(0x779));try{let _0x2199d5=await ue[_0x2fb45e(0x39b)]['find'](_0x9b4cb0);if(console[_0x2fb45e(0x155)](_0x2fb45e(0x728),_0x2199d5),!_0x2199d5||_0x2199d5[_0x2fb45e(0x70b)]!==_0x8e09d)return console['log'](_0x2fb45e(0x254)),_0x3e00d9[_0x2fb45e(0x2f7)](0x191)[_0x2fb45e(0x304)]('API\x20Key\x20inválida.');}catch(_0x4d665f){return console[_0x2fb45e(0x363)](_0x2fb45e(0x6e2),_0x4d665f),_0x3e00d9[_0x2fb45e(0x2f7)](0x191)[_0x2fb45e(0x304)](_0x2fb45e(0x2fd));}}if(!await Re(_0x9b4cb0))return _0x3e00d9['status'](0x194)['send'](_0x2fb45e(0x49d));_0x3e00d9[_0x2fb45e(0x52e)](_0x2fb45e(0x2b2),_0x2fb45e(0x23b)),_0x3e00d9['setHeader'](_0x2fb45e(0x52b),'no-cache'),_0x3e00d9['setHeader'](_0x2fb45e(0x541),_0x2fb45e(0x2ed)),_0x3e00d9[_0x2fb45e(0x70e)]();let _0x3edd66=_0x2fb45e(0x214)+JSON[_0x2fb45e(0x389)]({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x3e00d9[_0x2fb45e(0x654)](_0x3edd66),ui(_0x9b4cb0,_0x2fe0f9,_0x3e00d9,_0x332777),_0x14bb2c['on'](_0x2fb45e(0x314),()=>{const _0x56cc36=_0x2fb45e;console[_0x56cc36(0x155)](_0x56cc36(0x6b7)+_0x9b4cb0),di(_0x9b4cb0,_0x2fe0f9);});}),Ie[a0_0x156424(0x4ff)](a0_0x156424(0x55a),async(_0x18f07b,_0x2f917d)=>{const _0x35fece=a0_0x156424;console[_0x35fece(0x155)](_0x35fece(0x21a));let _0x357316=_0x18f07b[_0x35fece(0x2e6)][_0x35fece(0x6e9)],_0x1a68c9=_0x18f07b[_0x35fece(0x2e6)][_0x35fece(0x61e)],_0x94bced=_0x18f07b[_0x35fece(0x1ba)][_0x35fece(0x740)]||'',_0x518b88=_0x18f07b[_0x35fece(0x2f6)];console[_0x35fece(0x155)](_0x35fece(0x35c),_0x357316),console[_0x35fece(0x155)](_0x35fece(0xd4),_0x1a68c9),console[_0x35fece(0x155)](_0x35fece(0x34c),_0x94bced),console[_0x35fece(0x155)]('Request\x20Body:',_0x518b88);try{if(!await Re(_0x357316))return _0x2f917d[_0x35fece(0x2f7)](0x194)[_0x35fece(0x304)](_0x35fece(0x49d));let _0x4eecfc=await A['startFlowWebhook'](_0x357316,_0x1a68c9,_0x94bced,_0x518b88);_0x2f917d[_0x35fece(0x304)](_0x4eecfc);}catch(_0x21d00a){console[_0x35fece(0x363)](_0x21d00a),_0x2f917d['status'](0x1f4)[_0x35fece(0x304)](_0x35fece(0x466));}}),Ie[a0_0x156424(0x2cb)](a0_0x156424(0x257),(_0x6d2997,_0x3a7ae4)=>{let _0x359a60=pi();_0x3a7ae4['json'](_0x359a60);})[a0_0x156424(0x2cb)]('/',(_0xf87517,_0x4f14dc)=>{const _0x4c076c=a0_0x156424;let _0x246b5f=S[_0x4c076c(0x2cb)](_0x4c076c(0x14f))[_0x4c076c(0x723)];if(_0x246b5f){let _0x4e1cc2=encodeURIComponent(''+_0x246b5f);_0x4f14dc[_0x4c076c(0x1b3)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x4e1cc2);return;}let _0x46d007=S[_0x4c076c(0x2cb)]('SSL_CONF'),_0x5b568f=_0x46d007&&_0x46d007[_0x4c076c(0x4a3)][_0x4c076c(0x277)]('/')[0x4];if(_0x5b568f){let _0x5d58bc=encodeURIComponent(_0x4c076c(0x238)+_0x5b568f);_0x4f14dc[_0x4c076c(0x1b3)](_0x4c076c(0x629)+_0x5d58bc);}else _0x4f14dc[_0x4c076c(0x1b3)]('https://uazapi-plugin.bubbleapps.io/');})[a0_0x156424(0x5f3)](a0_0x156424(0x377),...ie,async(_0x377de8,_0x5d1ef9)=>{const _0x4eb90e=a0_0x156424;try{console[_0x4eb90e(0x155)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x5d1ef9[_0x4eb90e(0x2f7)](0xc8)[_0x4eb90e(0x295)]({'message':_0x4eb90e(0x1dd)}),_0x5d1ef9['on'](_0x4eb90e(0x6ae),()=>process[_0x4eb90e(0x739)](0x0));}catch(_0x204068){console[_0x4eb90e(0x363)](_0x4eb90e(0x79a),_0x204068),_0x5d1ef9[_0x4eb90e(0x2f7)](0x1f4)[_0x4eb90e(0x295)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0x156424(0x5f3)]('/config',...ie,async(_0x50e3d4,_0x396217)=>{const _0x360266=a0_0x156424;try{let _0x4d9a99=_0x50e3d4['body'];await Se[_0x360266(0x2e5)]({},{'$set':_0x4d9a99},{'upsert':!0x0});let _0x106b73=await Se['findOne']();_0x396217[_0x360266(0x295)](_0x106b73);}catch(_0x4d0754){_0x396217[_0x360266(0x2f7)](0x190)[_0x360266(0x304)](_0x4d0754[_0x360266(0x6b3)]);}})['get']('/config',...ie,async(_0x65a9a4,_0x36ff6c)=>{const _0x2809f5=a0_0x156424;try{let _0x2bc334=await Se[_0x2809f5(0x6d5)]();if(!_0x2bc334)return _0x36ff6c['json']({});_0x36ff6c[_0x2809f5(0x295)](_0x2bc334);}catch(_0x39cda9){_0x36ff6c[_0x2809f5(0x2f7)](0x1f4)[_0x2809f5(0x304)](_0x39cda9[_0x2809f5(0x6b3)]);}})[a0_0x156424(0x351)]('/instance',new mt(S,...ie)[a0_0x156424(0x396)])[a0_0x156424(0x351)](a0_0x156424(0x2be),new Rt(...ie)[a0_0x156424(0x396)])[a0_0x156424(0x351)](a0_0x156424(0x614),new ot(...ie)[a0_0x156424(0x396)])['use'](a0_0x156424(0x2aa),new gt(...ie)[a0_0x156424(0x396)])[a0_0x156424(0x351)](a0_0x156424(0x658),new At(...ie)[a0_0x156424(0x396)])[a0_0x156424(0x351)](a0_0x156424(0x310),new Ot(...ie)[a0_0x156424(0x396)]);var m=class{constructor(..._0x355dcf){const _0x5dcc6e=a0_0x156424;throw{'status':0x190,'error':'Bad\x20Request','message':_0x355dcf[_0x5dcc6e(0x476)]>0x0?_0x355dcf:void 0x0};}},ae=class{constructor(..._0x448279){const _0xe16741=a0_0x156424;throw{'status':0x191,'error':_0xe16741(0x655),'message':_0x448279[_0xe16741(0x476)]>0x0?_0x448279:void 0x0};}},Q=class{constructor(..._0x1effd1){throw{'status':0x193,'error':'Forbidden','message':_0x1effd1['length']>0x0?_0x1effd1:void 0x0};}},U=class{constructor(..._0x56c929){const _0x306890=a0_0x156424;throw{'status':0x194,'error':_0x306890(0x4b9),'message':_0x56c929[_0x306890(0x476)]>0x0?_0x56c929:void 0x0};}},I=class{constructor(..._0x6a5cba){const _0xd029d9=a0_0x156424;throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x6a5cba[_0xd029d9(0x476)]>0x0?_0x6a5cba:void 0x0};}},de=require(a0_0x156424(0x1a3));async function vs(_0xa03352){const _0x263244=a0_0x156424;let _0x34db13=new R(vs[_0x263244(0x350)]),_0x1f19aa=$[_0x263244(0x21b)](),_0xc5df48=_0x1f19aa['db'](S[_0x263244(0x2cb)](_0x263244(0x3be))[_0x263244(0x5c8)][_0x263244(0x3e6)]+_0x263244(0x714))['collection'](_0xa03352),_0x4db239=async(_0x523388,_0x22d99c)=>{const _0x54b889=_0x263244;try{return await _0x1f19aa['connect'](),await _0xc5df48[_0x54b889(0x5a1)]({'_id':_0x22d99c},JSON[_0x54b889(0x3a0)](JSON[_0x54b889(0x389)](_0x523388,de[_0x54b889(0x6d0)][_0x54b889(0xb7)])),{'upsert':!0x0});}catch{}},_0x34b7c0=async _0x1f9fb1=>{const _0x20575e=_0x263244;try{await _0x1f19aa[_0x20575e(0x487)]();let _0x125255=await _0xc5df48['findOne']({'_id':_0x1f9fb1}),_0x3e4924=JSON[_0x20575e(0x389)](_0x125255);return JSON[_0x20575e(0x3a0)](_0x3e4924,de[_0x20575e(0x6d0)][_0x20575e(0x1bf)]);}catch{}},_0x4777b5=async _0x58b58e=>{const _0x99d858=_0x263244;try{return await _0x1f19aa[_0x99d858(0x487)](),await _0xc5df48[_0x99d858(0x3b7)]({'_id':_0x58b58e});}catch{}},_0x35a1d1=await _0x34b7c0(_0x263244(0x432))||(0x0,de['initAuthCreds'])();return{'state':{'creds':_0x35a1d1,'keys':{'get':async(_0x13dbff,_0x44def9)=>{const _0x29f1f3=_0x263244;let _0x1b0ec2={};return await Promise['all'](_0x44def9[_0x29f1f3(0x5ad)](async _0x4b3eef=>{const _0x49663f=_0x29f1f3;let _0x7c8f2f=await _0x34b7c0(_0x13dbff+'-'+_0x4b3eef);_0x13dbff===_0x49663f(0x51f)&&_0x7c8f2f&&(_0x7c8f2f=de['proto']['Message'][_0x49663f(0x2d1)]['fromObject'](_0x7c8f2f)),_0x1b0ec2[_0x4b3eef]=_0x7c8f2f;})),_0x1b0ec2;},'set':async _0x36b84f=>{const _0x37faa9=_0x263244;let _0x37c727=[];for(let _0x41bfa0 in _0x36b84f)for(let _0x4642e2 in _0x36b84f[_0x41bfa0]){let _0x4a8a02=_0x36b84f[_0x41bfa0][_0x4642e2],_0x37cc06=_0x41bfa0+'-'+_0x4642e2;_0x37c727[_0x37faa9(0x211)](_0x4a8a02?_0x4db239(_0x4a8a02,_0x37cc06):_0x4777b5(_0x37cc06));}await Promise[_0x37faa9(0x2b9)](_0x37c727);}}},'saveCreds':async()=>_0x4db239(_0x35a1d1,_0x263244(0x432))};}var Os=O(require(a0_0x156424(0x510))),Ts=O(require(a0_0x156424(0x511))),Dt=require(a0_0x156424(0x1a3)),mi=require(a0_0x156424(0x604)),xt=require('@whiskeysockets/baileys'),It;function Mo(_0x2b7895){const _0x74ae94=a0_0x156424;return It||(It=(0x0,mi[_0x74ae94(0x71c)])({'url':_0x2b7895['URI']}),It[_0x74ae94(0x487)]()),It;}var ce=class c{constructor(_0x31e494,_0x2e3ad3){const _0x438c6e=a0_0x156424;this[_0x438c6e(0x77e)]=_0x31e494,this[_0x438c6e(0x194)]=_0x2e3ad3,this[_0x438c6e(0x48b)]=new R(c['name']),this['client']=Mo(_0x31e494);}set[a0_0x156424(0x5e0)](_0x594898){const _0x31c618=a0_0x156424;this[_0x31c618(0x194)]=_0x594898;}async[a0_0x156424(0x413)](){const _0x12a7a0=a0_0x156424;try{return await this[_0x12a7a0(0x439)][_0x12a7a0(0x116)]([_0x12a7a0(0x153),this[_0x12a7a0(0x77e)][_0x12a7a0(0x5c9)]+':*']);}catch(_0x521ce4){this['logger'][_0x12a7a0(0x363)](_0x521ce4);}}async[a0_0x156424(0x4f0)](_0x2b65e0,_0x3e44c3){const _0x4b8e2f=a0_0x156424;try{let _0x4d7227=JSON[_0x4b8e2f(0x389)](_0x3e44c3,xt[_0x4b8e2f(0x6d0)][_0x4b8e2f(0xb7)]);return await this[_0x4b8e2f(0x439)][_0x4b8e2f(0x4e4)](this['redisEnv'][_0x4b8e2f(0x5c9)]+':'+this[_0x4b8e2f(0x194)],_0x2b65e0,_0x4d7227);}catch(_0xe43953){this[_0x4b8e2f(0x48b)][_0x4b8e2f(0x363)](_0xe43953);}}async[a0_0x156424(0x267)](){const _0xec7649=a0_0x156424;try{let _0x44c425=await this[_0xec7649(0x439)][_0xec7649(0xb9)](this['redisEnv'][_0xec7649(0x5c9)]+':'+this[_0xec7649(0x194)]);if(_0x44c425){for(let _0x4ee05c in _0x44c425)Object[_0xec7649(0x3d7)]['hasOwnProperty'][_0xec7649(0x762)](_0x44c425,_0x4ee05c)&&(_0x44c425[_0x4ee05c]=JSON[_0xec7649(0x3a0)](_0x44c425[_0x4ee05c],xt['BufferJSON'][_0xec7649(0x1bf)]));return _0x44c425;}}catch(_0x1d1b8e){this['logger'][_0xec7649(0x363)](_0x1d1b8e);}}async[a0_0x156424(0x663)](_0x42820d){const _0xa1b1b1=a0_0x156424;try{let _0x457164=await this[_0xa1b1b1(0x439)]['hGet'](this[_0xa1b1b1(0x77e)][_0xa1b1b1(0x5c9)]+':'+this['instanceName'],_0x42820d);if(_0x457164)return JSON['parse'](_0x457164,xt[_0xa1b1b1(0x6d0)]['reviver']);}catch(_0x5534bb){this[_0xa1b1b1(0x48b)]['error'](_0x5534bb);}}async[a0_0x156424(0x279)](_0x5b716a){const _0x135a90=a0_0x156424;try{return await this['client'][_0x135a90(0xeb)](this[_0x135a90(0x77e)][_0x135a90(0x5c9)]+':'+this[_0x135a90(0x194)],_0x5b716a);}catch(_0x1aabea){this[_0x135a90(0x48b)][_0x135a90(0x363)](_0x1aabea);}}async[a0_0x156424(0x74c)](_0x500946){const _0x93ab87=a0_0x156424;try{return await this[_0x93ab87(0x439)][_0x93ab87(0x799)](_0x500946||this['redisEnv'][_0x93ab87(0x5c9)]+':'+this[_0x93ab87(0x194)]);}catch(_0x19d0bc){this['logger']['error'](_0x19d0bc);}}};async function Ns(_0x1ad0ee,_0x55056b){const _0x4a904e=a0_0x156424;let _0x4d0e33=new R(Ns[_0x4a904e(0x350)]),_0x220701=new ce(_0x1ad0ee,_0x55056b),_0x2345cf=async(_0x276e8b,_0x34adae)=>{const _0xeaab4a=_0x4a904e;try{return await _0x220701[_0xeaab4a(0x4f0)](_0x34adae,_0x276e8b);}catch(_0x5387f6){return _0x4d0e33[_0xeaab4a(0x363)]({'localError':'writeData','error':_0x5387f6});}},_0x46780b=async _0x5e7486=>{const _0x3182ef=_0x4a904e;try{return await _0x220701[_0x3182ef(0x663)](_0x5e7486);}catch(_0x59bc62){_0x4d0e33[_0x3182ef(0x363)]({'readData':_0x3182ef(0x4f0),'error':_0x59bc62});return;}},_0x2b4f52=async _0x30e04a=>{const _0x3c7a8c=_0x4a904e;try{return await _0x220701[_0x3c7a8c(0x279)](_0x30e04a);}catch(_0xbd62fd){_0x4d0e33[_0x3c7a8c(0x363)]({'readData':_0x3c7a8c(0x279),'error':_0xbd62fd});}},_0x27250c=await _0x46780b(_0x4a904e(0x432))||(0x0,Dt[_0x4a904e(0x384)])();return{'state':{'creds':_0x27250c,'keys':{'get':async(_0x2e31b7,_0x274ca7)=>{const _0xe0517c=_0x4a904e;let _0xca1dff={};return await Promise[_0xe0517c(0x2b9)](_0x274ca7[_0xe0517c(0x5ad)](async _0x411b58=>{const _0x4c4ff9=_0xe0517c;let _0x3dc98e=await _0x46780b(_0x2e31b7+'-'+_0x411b58);_0x2e31b7===_0x4c4ff9(0x51f)&&_0x3dc98e&&(_0x3dc98e=Dt[_0x4c4ff9(0x596)][_0x4c4ff9(0x372)][_0x4c4ff9(0x2d1)][_0x4c4ff9(0x77a)](_0x3dc98e)),_0xca1dff[_0x411b58]=_0x3dc98e;})),_0xca1dff;},'set':async _0x5bfcdb=>{const _0x2e64f3=_0x4a904e;let _0x5bedfc=[];for(let _0x3f7338 in _0x5bfcdb)for(let _0x2dfe3e in _0x5bfcdb[_0x3f7338]){let _0x75849=_0x5bfcdb[_0x3f7338][_0x2dfe3e],_0x46c7aa=_0x3f7338+'-'+_0x2dfe3e;_0x5bedfc[_0x2e64f3(0x211)](_0x75849?await _0x2345cf(_0x75849,_0x46c7aa):await _0x2b4f52(_0x46c7aa));}await Promise[_0x2e64f3(0x2b9)](_0x5bedfc);}}},'saveCreds':async()=>await _0x2345cf(_0x27250c,'creds')};}var j=O(require('fs')),Me=require('uuid'),jt=O(require(a0_0x156424(0x1c3))),Lt=require('https-proxy-agent'),Co=a0_0x156424(0x170)[a0_0x156424(0x652)](),_t=Co['split']('\x0a')[a0_0x156424(0x5ad)](_0x560ab7=>{const _0x6f2444=a0_0x156424;let _0x540b7f=_0x560ab7[_0x6f2444(0x277)](':'),_0x371f05={'host':_0x540b7f[0x0],'port':_0x540b7f[0x1],'protocol':'http'};return _0x540b7f[_0x6f2444(0x476)]===0x4&&(_0x371f05[_0x6f2444(0x471)]=_0x540b7f[0x2],_0x371f05[_0x6f2444(0x648)]=_0x540b7f[0x3]),_0x371f05;});function fi(_0x43dbef){const _0x33b8e8=a0_0x156424;return _t['find'](_0x50011d=>_0x50011d[_0x33b8e8(0x5d8)]===_0x43dbef)||null;}function wi(){const _0x408011=a0_0x156424;if(_t[_0x408011(0x476)]===0x0)return null;let _0x4267f8=Math[_0x408011(0x3ef)](Math[_0x408011(0x1cb)]()*_t[_0x408011(0x476)]);return _t[_0x4267f8];}function Rs(_0x5cfc3b){const _0xda0c19=a0_0x156424;let _0x27f717=_0x3cbec2=>typeof _0x3cbec2=='string'&&_0x3cbec2[_0xda0c19(0x476)]>0x0,_0x12180b=_0x5ee7a3=>{let _0x315167=parseInt(_0x5ee7a3,0xa);return!isNaN(_0x315167)&&_0x315167>0x0&&_0x315167<=0xffff;},_0x33f0d6=_0x3f9335=>typeof _0x3f9335==_0xda0c19(0x40b)&&_0x3f9335[_0xda0c19(0x476)]>0x0;return _0x5cfc3b&&_0x27f717(_0x5cfc3b[_0xda0c19(0x5d8)])&&_0x12180b(_0x5cfc3b[_0xda0c19(0x4c2)])&&(!_0x5cfc3b[_0xda0c19(0x471)]||_0x33f0d6(_0x5cfc3b[_0xda0c19(0x471)]))&&(!_0x5cfc3b[_0xda0c19(0x648)]||_0x33f0d6(_0x5cfc3b[_0xda0c19(0x648)]))&&(_0x5cfc3b[_0xda0c19(0x445)]===_0xda0c19(0x49b)||_0x5cfc3b['protocol']===_0xda0c19(0x3f3));}var Ft=require(a0_0x156424(0x245)),Is=a0_0x156424(0x32f),Ci,le=null,yi=null,tt=null,Eo=0x3,vo=null,ee=S[a0_0x156424(0x2cb)](a0_0x156424(0x388))['API_KEY'][a0_0x156424(0x1db)];async function No(){const _0x5a4cac=a0_0x156424;let _0x5a0128=await Se[_0x5a4cac(0x6d5)]();le=_0x5a0128?.[_0x5a4cac(0x320)]??null,vo=_0x5a0128?.[_0x5a4cac(0x5f2)]??null,Is=_0x5a0128?.[_0x5a4cac(0x77f)]??_0x5a4cac(0x32f),Ci=_0x5a0128?.['connectedName']??xs??'uazapi',console['log'](_0x5a0128);}async function Ro(){await No();}Ro();var Ce=class c{constructor(_0x4525b5,_0x4c4c67,_0x364022){const _0x3429ba=a0_0x156424;this[_0x3429ba(0x2b4)]=_0x4525b5,this[_0x3429ba(0x5a9)]=_0x4c4c67,this[_0x3429ba(0x2c2)]=_0x364022,this[_0x3429ba(0x105)]=null,this[_0x3429ba(0x48b)]=new R(c[_0x3429ba(0x350)]),this[_0x3429ba(0x6e9)]={},this['localWebhook']={},this[_0x3429ba(0x3a2)]={'state':_0x3429ba(0x314)},this[_0x3429ba(0x353)]=(0x0,F['join'])(re,'downloads'),this[_0x3429ba(0x1e6)]=new Ts[(_0x3429ba(0x72b))](),this[_0x3429ba(0xc7)]=new Ts[(_0x3429ba(0x72b))](),this[_0x3429ba(0x182)]=!0x1,this[_0x3429ba(0x35b)]={'status.instance':_0x3429ba(0x1d1),'connection.update':_0x3429ba(0x1d1),'qrcode.updated':'/wa-qrcode','messages.upsert':_0x3429ba(0x269),'send.message':_0x3429ba(0x269),'messages.update':_0x3429ba(0x711),'group.upsert':_0x3429ba(0x441),'group.update':'/wa-groups','group-participants.update':_0x3429ba(0x441),'messages.set':_0x3429ba(0xa9),'contacts.set':_0x3429ba(0x5d3),'contacts.upsert':_0x3429ba(0x5d3),'contacts.update':_0x3429ba(0x5d3),'presence.update':_0x3429ba(0x15c),'chats.set':_0x3429ba(0x644),'chats.update':_0x3429ba(0x644),'chats.upsert':_0x3429ba(0x644),'chats.delete':_0x3429ba(0x644)},this[_0x3429ba(0x547)]=0x0,this[_0x3429ba(0x546)]=[],this[_0x3429ba(0x197)]=0xa,this['RECONNECT_TIME_FRAME']=0xea60,this['isRunning']=!0x1,this[_0x3429ba(0x773)]={'chats.upsert':async(_0x25dc1c,_0xebf19)=>{const _0x5e0c8a=_0x3429ba;let _0x102265=[];for await(let _0x23a09b of _0x25dc1c)_0x102265[_0x5e0c8a(0x211)]({'_id':_0x23a09b['id'],'owner':this[_0x5e0c8a(0x6e9)]['wuid'],'group':_0x23a09b['id'][_0x5e0c8a(0x3e3)](_0x5e0c8a(0x119)),'name':_0x23a09b[_0x5e0c8a(0x350)]||_0x23a09b[_0x5e0c8a(0x519)]||null,'contactname':null,'lastmsg':_0x23a09b[_0x5e0c8a(0x74a)]&&_0x23a09b[_0x5e0c8a(0x74a)][_0x5e0c8a(0x50d)]()['length']<0xd?_0x23a09b['conversationTimestamp']*0x3e8:_0x23a09b['conversationTimestamp']||null,'archived':_0x23a09b[_0x5e0c8a(0x1e9)]||!0x1,'unreadcount':_0x23a09b[_0x5e0c8a(0x134)]||0x0,'ephemeralExpiration':_0x23a09b[_0x5e0c8a(0x778)]||0x0});this[_0x5e0c8a(0x35d)](_0x5e0c8a(0x609),_0x102265);},'chats.update':async(_0x37da70,_0x540868)=>{const _0x327dd3=_0x3429ba;for(let _0x3da7c2 of _0x37da70){let _0x489e8f={'_id':_0x3da7c2['id'],'owner':this['instance'][_0x327dd3(0x4f9)],'archived':_0x3da7c2[_0x327dd3(0x1e9)],'muteEndTime':_0x3da7c2[_0x327dd3(0x6be)],'ephemeralExpiration':_0x3da7c2[_0x327dd3(0x778)]},_0x1ae4fb=!0x1,_0x427f3b={};_0x489e8f[_0x327dd3(0x1e9)]!=null&&(this[_0x327dd3(0x48b)][_0x327dd3(0x361)](this[_0x327dd3(0x194)]+'\x20('+this[_0x327dd3(0x6e9)][_0x327dd3(0x4f9)]+_0x327dd3(0x542)+_0x3da7c2['id']+_0x327dd3(0x700)+_0x3da7c2[_0x327dd3(0x1e9)]),_0x1ae4fb=!0x0,_0x427f3b['archived']=_0x3da7c2[_0x327dd3(0x1e9)]),_0x327dd3(0x6be)in _0x3da7c2&&(this[_0x327dd3(0x48b)][_0x327dd3(0x361)](this[_0x327dd3(0x194)]+'\x20('+this['instance']['wuid']+_0x327dd3(0x507)+_0x3da7c2['id']+_0x327dd3(0x700)+(_0x3da7c2[_0x327dd3(0x6be)]??'0')),_0x1ae4fb=!0x0,_0x427f3b[_0x327dd3(0x6be)]=_0x3da7c2[_0x327dd3(0x6be)]??0x0),_0x327dd3(0x778)in _0x3da7c2&&(this['logger'][_0x327dd3(0x361)](this[_0x327dd3(0x194)]+'\x20('+this[_0x327dd3(0x6e9)][_0x327dd3(0x4f9)]+_0x327dd3(0x394)+_0x3da7c2['id']+'\x20:\x20'+(_0x3da7c2[_0x327dd3(0x778)]!==void 0x0?_0x3da7c2[_0x327dd3(0x778)]:_0x327dd3(0x620))),_0x427f3b['ephemeralExpiration']=_0x3da7c2['ephemeralExpiration']===null?0x0:_0x3da7c2[_0x327dd3(0x778)],_0x1ae4fb=!0x0);let _0x382084;_0x1ae4fb&&(_0x382084=await this[_0x327dd3(0x2c2)]['chat']['updateOne']({'where':{'_id':_0x3da7c2['id']}},_0x427f3b,this[_0x327dd3(0x6e9)][_0x327dd3(0x4f9)])),_0x382084&&J(this['instanceName'],_0x327dd3(0x348),{'chat':_0x382084});}},'chats.delete':async _0x31e762=>{const _0x8281ae=_0x3429ba;for(let _0x56fbc4 of _0x31e762)if(_0x56fbc4['endsWith']('@g.us')){await this['repository']['chat'][_0x8281ae(0x4f4)]({'where':{'_id':_0x56fbc4}},this[_0x8281ae(0x6e9)][_0x8281ae(0x4f9)]);let _0x5689d5={'where':{'key':{'remoteJid':_0x56fbc4}}};await this[_0x8281ae(0x2c2)]['message'][_0x8281ae(0x4f4)](_0x5689d5,this[_0x8281ae(0x6e9)][_0x8281ae(0x4f9)]);}else{await this[_0x8281ae(0x2c2)]['chat'][_0x8281ae(0x2e5)]({'where':{'_id':_0x56fbc4}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x8281ae(0x6e9)][_0x8281ae(0x4f9)]);let _0x5ad5ed={'where':{'key':{'remoteJid':_0x56fbc4}}};await this[_0x8281ae(0x2c2)][_0x8281ae(0x6b3)]['delete'](_0x5ad5ed,this['instance'][_0x8281ae(0x4f9)]);}this[_0x8281ae(0x35d)](_0x8281ae(0x433),[..._0x31e762]);}},this['contactHandle']={'contacts.upsert':async(_0x5798ec,_0x51a502)=>{const _0x526bcc=_0x3429ba;let _0xe46415=await this[_0x526bcc(0x2c2)][_0x526bcc(0x2e0)][_0x526bcc(0x5ae)]({'where':{}},this['instance']['wuid']),_0x505af1=[];for await(let _0x199573 of _0x5798ec)_0xe46415[_0x526bcc(0x5ae)](_0x47cfb9=>_0x47cfb9[_0x526bcc(0x21c)]===_0x199573['id'])||_0x505af1[_0x526bcc(0x211)]({'_id':_0x199573['id'],'pushName':_0x199573?.[_0x526bcc(0x350)]||_0x199573?.[_0x526bcc(0x633)],'owner':this[_0x526bcc(0x6e9)][_0x526bcc(0x4f9)]});this[_0x526bcc(0x35d)](_0x526bcc(0x3cb),_0x505af1),await this['repository'][_0x526bcc(0x2e0)]['insert'](_0x505af1);},'contacts.update':async(_0x17069f,_0x14d8e8)=>{const _0x297131=_0x3429ba;let _0x138b0f=[];for await(let _0x4b3e06 of _0x17069f)_0x138b0f[_0x297131(0x211)]({'_id':_0x4b3e06['id'],'pushName':_0x4b3e06?.[_0x297131(0x350)]??_0x4b3e06?.['verifiedName'],'owner':this[_0x297131(0x6e9)][_0x297131(0x4f9)]});this[_0x297131(0x35d)](_0x297131(0x301),_0x138b0f);}},this[_0x3429ba(0x746)]={'messaging-history.set':async({messages:_0x440ddf,chats:_0x203517,isLatest:_0x19907e},_0x4e2b15)=>{const _0x1d1cb3=_0x3429ba;if(_0x19907e){let _0x4bb955=await Promise[_0x1d1cb3(0x2b9)](_0x203517[_0x1d1cb3(0x5ad)](async _0x2fd8b7=>({'_id':_0x2fd8b7['id'],'owner':this[_0x1d1cb3(0x6e9)][_0x1d1cb3(0x4f9)],'group':_0x2fd8b7['id'][_0x1d1cb3(0x3e3)](_0x1d1cb3(0x119)),'name':_0x2fd8b7['name']||_0x2fd8b7[_0x1d1cb3(0x519)]||_0x2fd8b7['username']||null,'contactname':null,'lastmsg':_0x2fd8b7[_0x1d1cb3(0x74a)]&&_0x2fd8b7['conversationTimestamp'][_0x1d1cb3(0x50d)]()[_0x1d1cb3(0x476)]<0xd?_0x2fd8b7[_0x1d1cb3(0x74a)]*0x3e8:_0x2fd8b7[_0x1d1cb3(0x74a)]||null,'archived':_0x2fd8b7[_0x1d1cb3(0x1e9)]||!0x1,'unreadcount':_0x2fd8b7[_0x1d1cb3(0x134)]||0x0,'ephemeralExpiration':_0x2fd8b7['ephemeralExpiration']||0x0,'muteEndTime':_0x2fd8b7[_0x1d1cb3(0x6be)]||0x0})));this[_0x1d1cb3(0x35d)]('chats.set',_0x4bb955),await this[_0x1d1cb3(0xaf)](_0x4bb955,_0x4e2b15);}let _0x1a5b62=[],_0x305c6d=Date[_0x1d1cb3(0x605)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0xe2da55]of Object[_0x1d1cb3(0xd5)](_0x440ddf)){if(_0xe2da55[_0x1d1cb3(0x6b3)]?.['protocolMessage']||_0xe2da55[_0x1d1cb3(0x6b3)]?.[_0x1d1cb3(0x133)]||!_0xe2da55[_0x1d1cb3(0x6b3)]||_0xe2da55[_0x1d1cb3(0x13f)][_0x1d1cb3(0x740)]===_0x1d1cb3(0x447)||(Os[_0x1d1cb3(0x72b)][_0x1d1cb3(0x3a8)](_0xe2da55?.[_0x1d1cb3(0x3f9)])&&(_0xe2da55[_0x1d1cb3(0x3f9)]=_0xe2da55[_0x1d1cb3(0x3f9)]?.['toNumber']()),_0xe2da55[_0x1d1cb3(0x3f9)]&&_0xe2da55[_0x1d1cb3(0x3f9)]['toString']()[_0x1d1cb3(0x476)]<0xd&&(_0xe2da55[_0x1d1cb3(0x3f9)]=_0xe2da55[_0x1d1cb3(0x3f9)]*0x3e8),_0xe2da55['messageTimestamp']<_0x305c6d))continue;let _0x1932a9=(0x0,w[_0x1d1cb3(0x4d5)])(_0xe2da55[_0x1d1cb3(0x6b3)]),_0x29f732=(0x0,w['getContentType'])(_0x1932a9),{message_normalized:_0x47068b}=this[_0x1d1cb3(0x342)](_0x1932a9,_0x29f732,null);Object[_0x1d1cb3(0x153)](_0x47068b)[_0x1d1cb3(0x476)]>0x0&&_0x1a5b62[_0x1d1cb3(0x211)]({'_id':_0xe2da55[_0x1d1cb3(0x13f)]['id'],'key':_0xe2da55[_0x1d1cb3(0x13f)],'pushName':_0xe2da55[_0x1d1cb3(0x435)],'participant':_0xe2da55[_0x1d1cb3(0x64e)],'message':_0x1932a9,'messageType':_0x29f732,'message_normalized':{'key':_0xe2da55[_0x1d1cb3(0x13f)],'pushName':_0xe2da55[_0x1d1cb3(0x435)],'messageTimestamp':_0xe2da55[_0x1d1cb3(0x3f9)],..._0x47068b},'messageTimestamp':_0xe2da55[_0x1d1cb3(0x3f9)],'owner':this['instance'][_0x1d1cb3(0x4f9)]});}_0x4e2b15['ENABLED']&&_0x1a5b62[_0x1d1cb3(0x476)]>0x0&&(this[_0x1d1cb3(0x48b)][_0x1d1cb3(0x361)](this[_0x1d1cb3(0x194)]+'\x20('+this[_0x1d1cb3(0x6e9)][_0x1d1cb3(0x4f9)]+'):\x20'+_0x1a5b62[_0x1d1cb3(0x476)]+_0x1d1cb3(0x517)+this[_0x1d1cb3(0x6e9)]['wuid']+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0x1d1cb3(0x2c2)][_0x1d1cb3(0x6b3)][_0x1d1cb3(0x6b2)]([..._0x1a5b62],this['instance'][_0x1d1cb3(0x4f9)])),this[_0x1d1cb3(0x35d)](_0x1d1cb3(0x73b),[..._0x1a5b62]),_0x440ddf=void 0x0;},'messages.upsert':async({messages:_0x3fcf85,type:_0x52c351},_0x278d4d)=>{const _0x27fcf6=_0x3429ba;let _0x286e1a=_0x3fcf85[0x0],_0x3644e7=_0x286e1a[_0x27fcf6(0x619)]&&_0x286e1a[_0x27fcf6(0x619)][0x0]==='Message\x20absent\x20from\x20node';if(this[_0x27fcf6(0x300)]?.['groups_ignore']&&_0x286e1a['key']['remoteJid'][_0x27fcf6(0x341)](_0x27fcf6(0x119))){this[_0x27fcf6(0x48b)]['verbose'](this[_0x27fcf6(0x194)]+'\x20('+this[_0x27fcf6(0x6e9)]['wuid']+'):\x20[messages.upsert]\x20group\x20ignored');return;}if(_0x3644e7){for(let _0x31349d=0x0;_0x31349d<0x5;_0x31349d++)try{await this[_0x27fcf6(0x439)][_0x27fcf6(0x11b)](JSON[_0x27fcf6(0x3a0)](_0x286e1a[_0x27fcf6(0x619)][0x1],w[_0x27fcf6(0x6d0)]['reviver'])),this[_0x27fcf6(0x48b)][_0x27fcf6(0xf5)](this['instanceName']+'\x20('+this[_0x27fcf6(0x6e9)][_0x27fcf6(0x4f9)]+_0x27fcf6(0x5ca)+(_0x31349d+0x1)+_0x27fcf6(0x368)+_0x286e1a[_0x27fcf6(0x13f)]['id']+_0x27fcf6(0x2a2)+_0x286e1a[_0x27fcf6(0x13f)][_0x27fcf6(0x740)]+')');break;}catch(_0x3d1447){if(this[_0x27fcf6(0x48b)][_0x27fcf6(0x363)](this[_0x27fcf6(0x194)]+'\x20('+this[_0x27fcf6(0x6e9)][_0x27fcf6(0x4f9)]+'):\x20Erro\x20ao\x20tentar\x20recuperar\x20a\x20mensagem.\x20Tentativa\x20'+(_0x31349d+0x1)+_0x27fcf6(0x109)+_0x286e1a[_0x27fcf6(0x13f)]['id']+_0x27fcf6(0x2a2)+_0x286e1a[_0x27fcf6(0x13f)][_0x27fcf6(0x740)]+')'),_0x31349d===0x4)throw _0x3d1447;await new Promise(_0x3f0cdf=>setTimeout(_0x3f0cdf,0x7d0));}}if(_0x52c351!==_0x27fcf6(0x146)||!_0x286e1a?.['message']||_0x286e1a[_0x27fcf6(0x6b3)]?.['protocolMessage']||_0x286e1a['message'][_0x27fcf6(0x133)]||_0x286e1a[_0x27fcf6(0x13f)][_0x27fcf6(0x740)]===_0x27fcf6(0x447))return;let _0x4f0fd4=null,_0x2e8f1d=null;try{_0x4f0fd4=await this['processPollUpdateMessage'](_0x286e1a),_0x2e8f1d=_0x4f0fd4?_0x4f0fd4[_0x27fcf6(0xdb)](','):null;}catch(_0x4364f8){this[_0x27fcf6(0x48b)][_0x27fcf6(0x361)](this[_0x27fcf6(0x194)]+'\x20('+this[_0x27fcf6(0x6e9)][_0x27fcf6(0x4f9)]+'):\x20'+(_0x4364f8 instanceof Error?_0x4364f8[_0x27fcf6(0x6b3)]:JSON[_0x27fcf6(0x389)](_0x4364f8,null,0x2))),_0x2e8f1d=_0x27fcf6(0x4ee);}this[_0x27fcf6(0x439)][_0x27fcf6(0x53f)]('unavailable'),Os['default'][_0x27fcf6(0x3a8)](_0x286e1a[_0x27fcf6(0x3f9)])&&(_0x286e1a[_0x27fcf6(0x3f9)]=_0x286e1a[_0x27fcf6(0x3f9)]?.[_0x27fcf6(0x324)]()),_0x286e1a[_0x27fcf6(0x3f9)]&&_0x286e1a[_0x27fcf6(0x3f9)][_0x27fcf6(0x50d)]()[_0x27fcf6(0x476)]<0xd&&(_0x286e1a[_0x27fcf6(0x3f9)]=_0x286e1a[_0x27fcf6(0x3f9)]*0x3e8);let _0x2a002e=_0x286e1a['message'],_0x349090=(0x0,w[_0x27fcf6(0x4d5)])(_0x2a002e),_0x416328=(0x0,w[_0x27fcf6(0x501)])(_0x349090),{messageContent:_0x92167d,message_normalized:_0xc5896d}=this[_0x27fcf6(0x342)](_0x349090,_0x416328,_0x2e8f1d);_0x416328==='protocolMessage'&&_0x92167d?.[_0x27fcf6(0x5be)]&&(_0x416328=_0x27fcf6(0x5be));let _0x4ee692,_0x2aa285=_0x286e1a[_0x27fcf6(0x13f)][_0x27fcf6(0x740)][_0x27fcf6(0x3e3)]('@g.us');if(_0x286e1a['key'][_0x27fcf6(0xf9)])_0x4ee692=this[_0x27fcf6(0x6e9)][_0x27fcf6(0x1ae)];else{let _0x56b1cb=_0x2aa285?_0x286e1a[_0x27fcf6(0x13f)][_0x27fcf6(0x64e)]:_0x286e1a['key'][_0x27fcf6(0x740)];_0x4ee692=(await this[_0x27fcf6(0x11f)](_0x56b1cb,_0x286e1a[_0x27fcf6(0x435)],!0x1))['cachedContact'][_0x27fcf6(0x104)];}let _0x503944={'_id':_0x286e1a['key']['id'],'key':_0x286e1a['key'],'isGroup':_0x2aa285,'profilePictureUrl':_0x4ee692,'pushName':_0x286e1a[_0x27fcf6(0x435)],'message':_0x349090,'messageType':_0x416328,'message_normalized':{'key':_0x286e1a[_0x27fcf6(0x13f)],'pushName':_0x286e1a[_0x27fcf6(0x435)],'messageTimestamp':_0x286e1a[_0x27fcf6(0x3f9)],'source':(0x0,w[_0x27fcf6(0xac)])(_0x286e1a[_0x27fcf6(0x13f)]['id']),..._0xc5896d},'messageTimestamp':_0x286e1a[_0x27fcf6(0x3f9)],'owner':this[_0x27fcf6(0x6e9)][_0x27fcf6(0x4f9)],'source':(0x0,w[_0x27fcf6(0xac)])(_0x286e1a[_0x27fcf6(0x13f)]['id']),'expiration':_0x92167d?.[_0x27fcf6(0x653)]?.[_0x27fcf6(0x737)]||0x0};_0x92167d||(console['error']('Mensagem\x20não\x20suportada'),this[_0x27fcf6(0x48b)][_0x27fcf6(0x363)](_0x503944)),this[_0x27fcf6(0x48b)][_0x27fcf6(0x155)](this[_0x27fcf6(0x194)]+'\x20('+this[_0x27fcf6(0x6e9)][_0x27fcf6(0x4f9)]+'):\x20'+(_0x503944['key']?.[_0x27fcf6(0xf9)]?_0x27fcf6(0x4c1):_0x27fcf6(0x568))+'\x20['+_0x503944[_0x27fcf6(0x13f)]?.[_0x27fcf6(0x740)][_0x27fcf6(0x367)]('@s.whatsapp.net','')+_0x27fcf6(0x744)+_0x503944[_0x27fcf6(0x58d)]+')'),_0x503944[_0x27fcf6(0x4d2)]?.[_0x27fcf6(0x727)]&&this[_0x27fcf6(0x48b)][_0x27fcf6(0x155)](_0x286e1a[_0x27fcf6(0x13f)]['id']+':\x20'+_0x503944['message_normalized']?.[_0x27fcf6(0x727)]),await this[_0x27fcf6(0x2c2)][_0x27fcf6(0x6b3)][_0x27fcf6(0x6b2)]([_0x503944],this['instance'][_0x27fcf6(0x4f9)]),this[_0x27fcf6(0x35d)](_0x27fcf6(0x52f),_0x503944),J(this[_0x27fcf6(0x194)],_0x27fcf6(0x1c8),{'message':_0x503944}),_0x286e1a[_0x27fcf6(0x13f)][_0x27fcf6(0x740)]!==_0x27fcf6(0x447)&&await this['updateChatWithMessage'](_0x278d4d,_0x503944,_0x27fcf6(0x637));},'messages.update':async(_0x42ed96,_0x4a2549)=>{const _0xaef707=_0x3429ba;let _0x4026b3={0x0:_0xaef707(0x60a),0x1:'PENDING',0x2:_0xaef707(0x4d9),0x3:'DELIVERY_ACK',0x4:_0xaef707(0x189),0x5:_0xaef707(0x2de)};for await(let {key:_0x452ef,update:_0x88398e}of _0x42ed96){if(this[_0xaef707(0x300)]?.['groups_ignore']&&_0x452ef[_0xaef707(0x740)][_0xaef707(0x341)]('@g.us')){this[_0xaef707(0x48b)][_0xaef707(0x361)](this[_0xaef707(0x194)]+'\x20('+this[_0xaef707(0x6e9)]['wuid']+_0xaef707(0x757));return;}if(_0x452ef['remoteJid']!==_0xaef707(0x447)){let _0x39d575=Date[_0xaef707(0x605)](),_0x33ea6f;_0x88398e['message']===null&&_0x88398e[_0xaef707(0x2f7)]===void 0x0?_0x33ea6f=_0xaef707(0x592):_0x33ea6f=_0x4026b3[_0x88398e['status']];let _0x4bbb22=_0x452ef[_0xaef707(0x740)][_0xaef707(0x367)](/:\d{1,2}@/g,'@'),_0x14a05b={..._0x452ef,'remoteJid':_0x4bbb22,'status':_0x33ea6f,'datetime':_0x39d575,'owner':this[_0xaef707(0x6e9)][_0xaef707(0x4f9)]};this['sendDataWebhook']('messages.update',_0x14a05b),await this['updateMessage'](_0x452ef,_0x14a05b);}}},'labels.association':async({type:_0x2de6e4,association:_0x3df162})=>{const _0x516878=_0x3429ba;if(_0x3df162[_0x516878(0x136)]===_0x516878(0x183)){let _0x440429,_0x40bc9d=0x0;for(;!_0x440429&&_0x40bc9d<this[_0x516878(0x355)];)_0x440429=await this['repository']['chat'][_0x516878(0x6d5)]({'where':{'_id':_0x3df162[_0x516878(0x5b8)]}},this['instance'][_0x516878(0x4f9)]),_0x440429||(_0x40bc9d++,this[_0x516878(0x48b)][_0x516878(0xf5)](this[_0x516878(0x194)]+'\x20('+this[_0x516878(0x6e9)][_0x516878(0x4f9)]+_0x516878(0x659)+_0x3df162[_0x516878(0x5b8)]+'\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20'+this[_0x516878(0xcb)]+_0x516878(0xb5)+_0x40bc9d+'/'+this[_0x516878(0x355)]+')'),await this['delayChatLabel'](this[_0x516878(0xcb)]));if(!_0x440429){console['error'](_0x516878(0x73e)+_0x3df162[_0x516878(0x5b8)]+_0x516878(0x34d)+this['delayChatLabel_MAX_RETRIES']+_0x516878(0x775));return;}switch(_0x2de6e4){case'add':console[_0x516878(0x155)](_0x3df162),await this[_0x516878(0x2c2)]['chat'][_0x516878(0x2e5)]({'where':{'_id':_0x3df162['chatId']}},{'leadInfo.etiquetas':_0x3df162[_0x516878(0xfe)]},this[_0x516878(0x6e9)][_0x516878(0x4f9)],void 0x0,'$addToSet');break;case _0x516878(0x6d7):console[_0x516878(0x155)](_0x3df162),await this[_0x516878(0x2c2)]['chat'][_0x516878(0x2e5)]({'where':{'_id':_0x3df162[_0x516878(0x5b8)]}},{'leadInfo.etiquetas':_0x3df162[_0x516878(0xfe)]},this[_0x516878(0x6e9)][_0x516878(0x4f9)],void 0x0,'$pull');break;default:console[_0x516878(0x363)](_0x516878(0x68b)+_0x2de6e4+']');}}},'labels.edit':async _0x19c856=>{const _0x488232=_0x3429ba;if(!_0x19c856||!_0x19c856['id']){console[_0x488232(0x363)](_0x488232(0x478));return;}if(!_0x19c856['deleted']){let _0x48b9bf=[_0x488232(0x1d6),_0x488232(0x5b7),_0x488232(0x425),'#dfaef0',_0x488232(0x4bc),_0x488232(0x37a),_0x488232(0x1b1),'#d3a91f',_0x488232(0x759),_0x488232(0x776),_0x488232(0x1c1),_0x488232(0x570),_0x488232(0x68f),_0x488232(0x5e3),'#00a1f2','#83e421','#ffae04',_0x488232(0x6c8),_0x488232(0x733),'#9568cf'],_0x3c58b9;typeof _0x19c856[_0x488232(0x1e4)]==_0x488232(0xf2)&&_0x19c856['color']>=0x0&&_0x19c856[_0x488232(0x1e4)]<_0x48b9bf[_0x488232(0x476)]?_0x3c58b9=_0x48b9bf[_0x19c856['color']]:(console[_0x488232(0x363)]('Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:',_0x19c856[_0x488232(0x1e4)]),_0x3c58b9=_0x488232(0x587));let _0x5887be={'_id':_0x19c856['id'],'colorHex':_0x3c58b9,'color':_0x19c856?.['color'],'name':_0x19c856?.['name'],'owner':this['instance'][_0x488232(0x4f9)]};await this['repository'][_0x488232(0x590)]['updateOne']({'where':{'_id':_0x19c856['id']}},_0x5887be,this[_0x488232(0x6e9)][_0x488232(0x4f9)]),this[_0x488232(0x48b)]['info'](this[_0x488232(0x194)]+'\x20('+this[_0x488232(0x6e9)][_0x488232(0x4f9)]+_0x488232(0x69d)+_0x19c856);}_0x19c856['deleted']&&(await this[_0x488232(0x2c2)][_0x488232(0x590)][_0x488232(0x4f4)]({'where':{'_id':_0x19c856['id']}},this['instance'][_0x488232(0x4f9)]),this[_0x488232(0x48b)]['info'](_0x488232(0x63c)+_0x19c856['id']));}},this[_0x3429ba(0x514)]={'groups.upsert':async _0x2532a1=>{const _0x1d3227=_0x3429ba;this[_0x1d3227(0x300)]?.[_0x1d3227(0x43f)]||this[_0x1d3227(0x35d)]('groups.upsert',_0x2532a1);for(let _0x17b9e0 of _0x2532a1)await this[_0x1d3227(0x40e)](_0x17b9e0);},'groups.update':async _0xfb3b5a=>{const _0x35d024=_0x3429ba;this['localWebhook']?.['groups_ignore']||this['sendDataWebhook'](_0x35d024(0x670),_0xfb3b5a);for(let _0x8dc0c9 of _0xfb3b5a)await this[_0x35d024(0x40e)](_0x8dc0c9);},'group-participants.update':async _0x4f265e=>{const _0x90f117=_0x3429ba;this[_0x90f117(0x300)]?.[_0x90f117(0x43f)]||this[_0x90f117(0x35d)](_0x90f117(0xc2),_0x4f265e),await this['updateGroupParticipantsWebhook'](_0x4f265e);}},this['delayChatLabel_MAX_RETRIES']=0x5,this[_0x3429ba(0xcb)]=0x1388,this['processPollUpdateMessage']=async _0x2e4c9d=>{const _0x3e2549=_0x3429ba;if(_0x2e4c9d[_0x3e2549(0x6b3)]?.['pollUpdateMessage']){let _0x3d9cc6=await this[_0x3e2549(0x1bb)](_0x2e4c9d[_0x3e2549(0x6b3)]['pollUpdateMessage'][_0x3e2549(0x67e)],!0x0);if(_0x3d9cc6){let _0x3180d4=_0x3d9cc6[_0x3e2549(0x13f)][_0x3e2549(0xf9)]?this[_0x3e2549(0x6e9)][_0x3e2549(0x4f9)]+_0x3e2549(0x4e2):_0x3d9cc6[_0x3e2549(0x13f)]['participant']||_0x3d9cc6['key'][_0x3e2549(0x740)],_0x457f3b=_0x3d9cc6[_0x3e2549(0x13f)]['id'],_0x192e96=_0x3d9cc6['message'],_0x5d5033=Buffer['from'](_0x192e96['messageContextInfo'][_0x3e2549(0x294)][_0x3e2549(0x50d)]('hex'),'hex'),_0x256401=(0x0,w[_0x3e2549(0x35e)])(_0x2e4c9d[_0x3e2549(0x6b3)][_0x3e2549(0x6db)]['vote'],{'pollCreatorJid':_0x3180d4,'pollMsgId':_0x457f3b,'pollEncKey':_0x5d5033,'voterJid':_0x2e4c9d[_0x3e2549(0x13f)][_0x3e2549(0xf9)]?this[_0x3e2549(0x6e9)]['wuid']+_0x3e2549(0x4e2):_0x2e4c9d[_0x3e2549(0x13f)][_0x3e2549(0x740)]['endsWith']('g.us')?_0x2e4c9d[_0x3e2549(0x13f)][_0x3e2549(0x64e)]:_0x2e4c9d['key']['remoteJid']}),_0x2ed92d=[],_0x136172=_0x256401['selectedOptions'][_0x3e2549(0x5ad)](_0x44905a=>Buffer[_0x3e2549(0x32d)](_0x44905a)[_0x3e2549(0x50d)](_0x3e2549(0x4d4)));for(let {optionName:_0xac506a}of _0x192e96['pollCreationMessage']?.['options']||_0x192e96[_0x3e2549(0x10b)]?.[_0x3e2549(0x47d)]||_0x192e96[_0x3e2549(0x769)]?.[_0x3e2549(0x47d)])_0x136172[_0x3e2549(0x39f)]((0x0,w[_0x3e2549(0x428)])(Buffer[_0x3e2549(0x32d)](_0xac506a))[_0x3e2549(0x50d)](_0x3e2549(0x4d4)))>-0x1&&_0x2ed92d[_0x3e2549(0x211)](_0xac506a);return _0x2ed92d;}}return null;},this[_0x3429ba(0x342)]=(_0x214331,_0x3a1e2e,_0x3f49d6)=>{const _0xd3fcd3=_0x3429ba;try{let _0x534b79=_0x214331?(0x0,w[_0xd3fcd3(0x360)])(_0x214331)[_0x3a1e2e]:void 0x0,_0x57e4ba={},_0x71dae8=null,_0x383c4c=null,_0x3ef1f0=null;_0x3a1e2e===_0xd3fcd3(0x2f9)&&_0x534b79?.[_0xd3fcd3(0x5be)]&&(_0x3a1e2e=(0x0,w['getContentType'])(_0x534b79[_0xd3fcd3(0x5be)]),_0x71dae8=_0x214331[_0xd3fcd3(0x2f9)]['key']['id'],_0x534b79=_0x214331[_0xd3fcd3(0x2f9)][_0xd3fcd3(0x5be)][_0x3a1e2e]),_0x214331[_0x3a1e2e]?.[_0xd3fcd3(0x653)]?.[_0xd3fcd3(0x64b)]&&_0x214331[_0x3a1e2e]?.[_0xd3fcd3(0x653)]?.[_0xd3fcd3(0x2d2)]&&(_0x383c4c=_0x214331[_0x3a1e2e][_0xd3fcd3(0x653)]['stanzaId']),_0x214331[_0xd3fcd3(0x6e4)]&&(_0x3ef1f0=_0x214331[_0xd3fcd3(0x6e4)]['key']['id']);let _0xd55a5e;if(_0x534b79&&typeof _0x534b79==_0xd3fcd3(0x666)&&_0xd3fcd3(0x67e)in _0x534b79&&({pollCreationMessageKey:_0xd55a5e}=_0x534b79),_0x3a1e2e==='pollCreationMessage'||_0x3a1e2e===_0xd3fcd3(0x769)||_0x3a1e2e==='pollCreationMessageV3'){let _0x3047d8=_0x534b79[_0xd3fcd3(0x47d)][_0xd3fcd3(0x5ad)](_0xf23582=>_0xf23582[_0xd3fcd3(0x4d3)])[_0xd3fcd3(0xdb)]('|');_0x57e4ba[_0xd3fcd3(0x22f)]=_0x3047d8;}let _0x3c923d='';if(_0x534b79&&(_0x3c923d+=_0x534b79[_0xd3fcd3(0x350)]?_0x534b79['name']:'',_0x3c923d+=_0x534b79[_0xd3fcd3(0x200)]?'\x20'+_0x534b79['caption']:'',_0x3c923d+=_0x534b79[_0xd3fcd3(0x1a7)]?'\x20'+_0x534b79['conversation']:'',_0x3c923d+=_0x534b79[_0xd3fcd3(0x519)]?'\x20'+_0x534b79[_0xd3fcd3(0x519)]:''),_0x3a1e2e==='listMessage'){_0x3c923d=(_0x534b79['title']||'')+'\x0a'+(_0x534b79[_0xd3fcd3(0x4bb)]||'')+'\x0a'+(_0x534b79[_0xd3fcd3(0x196)]||'');let _0x21d0af=this[_0xd3fcd3(0x72a)](_0x534b79[_0xd3fcd3(0x5e4)]);_0x57e4ba['convertedOptions']=_0x21d0af;}if(_0x3a1e2e===_0xd3fcd3(0x48f)&&(_0x3f49d6=_0x534b79['title']),_0x534b79&&_0x534b79[_0xd3fcd3(0x54f)]){let _0x51de2e=this[_0xd3fcd3(0x446)](JSON[_0xd3fcd3(0x389)](_0x534b79[_0xd3fcd3(0x54f)],null,0x2));_0x3c923d=_0x3c923d+'\x0a'+_0x51de2e;}if(_0x534b79){let {sections:_0x3cf1bf,listType:_0x4ca03a,displayName:_0x167fee,vcard:_0x248616,contactVcard:_0x4b4ff9,name:_0x71384e,caption:_0x1d3be7,conversation:_0x4f48a8,pollCreationMessageKey:_0x573ede,footerText:_0x508ce4,contentText:_0x2f3ed7,pageCount:_0x194c25,headerType:_0x27452b,isAvatar:_0x413f7e,isAnimated:_0x470be6,fallbackLc:_0x161a89,fallbackLg:_0x111a20,namespace:_0xbe513b,elementName:_0x46db7e,localizableParams:_0x464598,viewOnce:_0x4a8ee1,height:_0x4bb508,width:_0x2cf764,key:_0x2ab2e2,firstScanLength:_0x330158,firstScanSidecar:_0x47eed1,gifPlayback:_0x37ee5c,gifAttribution:_0x1927e7,midQualityFileSha256:_0x597be3,scansSidecar:_0x162c24,streamingSidecar:_0x4d2cd9,thumbnailHeight:_0x330071,thumbnailWidth:_0x3dba6f,thumbnailEncSha256:_0x2d4ccb,thumbnailDirectPath:_0x7e30ac,canonicalUrl:_0x16fd5b,matchedText:_0x1e2279,previewType:_0x5e06bb,thumbnailSha256:_0x1c31f7,deviceListMetadataVersion:_0x2c950f,inviteLinkGroupTypeV2:_0x5d25ca,interactiveAnnotations:_0x55e39b,scanLengths:_0x4f7908,jpegThumbnail:_0x164d55,url:_0x2c932f,mediaKeyTimestamp:_0x30d0df,waveform:_0x3b4da5,stickerSentTs:_0x5439dd,firstFrameLength:_0x5369a1,fileEncSha256:_0x4f2fcf,contextInfo:_0xd9f6b4,firstFrameSidecar:_0x1ca42a,directPath:_0x305cbc,fileSha256:_0x263bb4,mediaKey:_0x2ae232,senderTimestampMs:_0x2eb8f5,..._0xf0cdd9}=_0x534b79;(_0x3a1e2e===_0xd3fcd3(0x69e)||_0x3a1e2e==='listResponseMessage')&&(delete _0xf0cdd9[_0xd3fcd3(0x69f)],delete _0xf0cdd9['description']),typeof _0x534b79=='string'?_0x57e4ba={'text':_0x534b79,'type':_0x3a1e2e||'conversation',..._0x71dae8&&{'edited':_0x71dae8},..._0x383c4c&&{'quoted':_0x383c4c},..._0x3ef1f0&&{'reaction':_0x3ef1f0}}:_0x57e4ba={'text':_0x3c923d,..._0xf0cdd9,..._0x3a1e2e===_0xd3fcd3(0x6db)?{'poll_id':_0x534b79[_0xd3fcd3(0x67e)]['id'],'quoted':_0x534b79[_0xd3fcd3(0x67e)]['id'],'vote':_0x3f49d6}:{},..._0x3a1e2e==='listResponseMessage'?{'vote':_0x3f49d6}:{},'type':_0x3a1e2e,..._0x71dae8&&{'edited':_0x71dae8},..._0x383c4c&&{'quoted':_0x383c4c},..._0x3ef1f0&&{'reaction':_0x3ef1f0},...(_0x3a1e2e===_0xd3fcd3(0x537)||_0x3a1e2e===_0xd3fcd3(0x769)||_0x3a1e2e===_0xd3fcd3(0x10b)||_0x3a1e2e===_0xd3fcd3(0x69e))&&{'convertedOptions':_0x57e4ba['convertedOptions']}};}return{'messageType':_0x3a1e2e,'messageContent':_0x534b79,'message_normalized':_0x57e4ba};}catch(_0x3870a1){return console[_0xd3fcd3(0x363)]('Erro\x20ao\x20normalizar\x20a\x20mensagem:',_0x3870a1),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x3429ba(0x1ee)](),this[_0x3429ba(0x6e9)][_0x3429ba(0x37c)]={'count':0x0},this[_0x3429ba(0x6e9)]['ScheduleMessage']={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0x156424(0x194)](_0x25678c){const _0x42c228=a0_0x156424;if(!_0x25678c){this[_0x42c228(0x6e9)][_0x42c228(0x350)]=(0x0,bi['v4'])();return;}this[_0x42c228(0x6e9)][_0x42c228(0x350)]=_0x25678c,this['sendDataWebhook']('status.instance',{'instance':this['instance']['name'],'status':'created'});}get['instanceName'](){const _0x3789df=a0_0x156424;return this[_0x3789df(0x6e9)]['name'];}get[a0_0x156424(0x4f9)](){const _0x321f3a=a0_0x156424;return this[_0x321f3a(0x6e9)]['wuid'];}async['getProfileName'](){const _0x174834=a0_0x156424;let _0x430f52=this[_0x174834(0x439)][_0x174834(0x42b)]?.[_0x174834(0x350)]??this['client'][_0x174834(0x42b)]?.[_0x174834(0x633)];if(!_0x430f52){if(this[_0x174834(0x2b4)][_0x174834(0x2cb)]('DATABASE')['ENABLED']){let _0xc9569=await $[_0x174834(0x21b)]()['db'](this[_0x174834(0x2b4)][_0x174834(0x2cb)](_0x174834(0x3be))[_0x174834(0x5c8)]['DB_PREFIX_NAME']+_0x174834(0x714))[_0x174834(0x3f5)](this[_0x174834(0x194)])['findOne']({'_id':_0x174834(0x432)});if(_0xc9569){let _0x5bf7d5=JSON[_0x174834(0x3a0)](JSON[_0x174834(0x389)](_0xc9569),w[_0x174834(0x6d0)][_0x174834(0x1bf)]);_0x430f52=_0x5bf7d5['me']?.['name']||_0x5bf7d5['me']?.['verifiedName'];}}else{if((0x0,xe['existsSync'])((0x0,F[_0x174834(0xdb)])(me,this[_0x174834(0x194)],'creds.json'))){let _0x48809c=JSON[_0x174834(0x3a0)]((0x0,xe[_0x174834(0xde)])((0x0,F[_0x174834(0xdb)])(me,this['instanceName'],_0x174834(0x19a)),{'encoding':_0x174834(0x730)}));_0x430f52=_0x48809c['me']?.[_0x174834(0x350)]||_0x48809c['me']?.[_0x174834(0x633)];}}}return _0x430f52;}get[a0_0x156424(0x1ae)](){const _0x425a7d=a0_0x156424;return this['instance'][_0x425a7d(0x1ae)];}get['qrCode'](){const _0x4ac05d=a0_0x156424;return this[_0x4ac05d(0x6e9)][_0x4ac05d(0x37c)]?.[_0x4ac05d(0x243)]?{'pairingCode':this['instance'][_0x4ac05d(0x37c)]?.[_0x4ac05d(0x243)]}:{'code':this[_0x4ac05d(0x6e9)][_0x4ac05d(0x37c)]?.[_0x4ac05d(0x5a0)],'base64':this[_0x4ac05d(0x6e9)][_0x4ac05d(0x37c)]?.[_0x4ac05d(0x5f9)]};}async[a0_0x156424(0x3ee)](){const _0xd82fc8=a0_0x156424;let _0x5598d3=await this[_0xd82fc8(0x2c2)][_0xd82fc8(0x208)][_0xd82fc8(0x5ae)](this[_0xd82fc8(0x194)]);this['localWebhook']['url']=_0x5598d3?.[_0xd82fc8(0x1cf)],this[_0xd82fc8(0x300)][_0xd82fc8(0x494)]=_0x5598d3?.[_0xd82fc8(0x494)],this[_0xd82fc8(0x300)][_0xd82fc8(0x34b)]=_0x5598d3?.[_0xd82fc8(0x34b)],this['localWebhook'][_0xd82fc8(0xc6)]=_0x5598d3?.[_0xd82fc8(0xc6)],this[_0xd82fc8(0x300)]['QRCODE_UPDATED']=_0x5598d3?.[_0xd82fc8(0x1d5)],this['localWebhook'][_0xd82fc8(0xec)]=_0x5598d3?.[_0xd82fc8(0xec)],this[_0xd82fc8(0x300)][_0xd82fc8(0x637)]=_0x5598d3?.[_0xd82fc8(0x637)],this[_0xd82fc8(0x300)][_0xd82fc8(0x4e3)]=_0x5598d3?.['MESSAGES_UPDATE'],this[_0xd82fc8(0x300)][_0xd82fc8(0x51b)]=_0x5598d3?.[_0xd82fc8(0x51b)],this[_0xd82fc8(0x300)][_0xd82fc8(0x19e)]=_0x5598d3?.[_0xd82fc8(0x19e)],this[_0xd82fc8(0x300)][_0xd82fc8(0xe9)]=_0x5598d3?.[_0xd82fc8(0xe9)],this[_0xd82fc8(0x300)][_0xd82fc8(0x5ed)]=_0x5598d3?.[_0xd82fc8(0x5ed)],this[_0xd82fc8(0x300)][_0xd82fc8(0x34e)]=_0x5598d3?.[_0xd82fc8(0x34e)],this[_0xd82fc8(0x300)][_0xd82fc8(0x3d8)]=_0x5598d3?.[_0xd82fc8(0x3d8)],this[_0xd82fc8(0x300)][_0xd82fc8(0x503)]=_0x5598d3?.[_0xd82fc8(0x503)],this[_0xd82fc8(0x300)][_0xd82fc8(0x2b5)]=_0x5598d3?.['CONTACTS_SET'],this[_0xd82fc8(0x300)][_0xd82fc8(0x202)]=_0x5598d3?.['CONTACTS_UPSERT'],this[_0xd82fc8(0x300)][_0xd82fc8(0x148)]=_0x5598d3?.[_0xd82fc8(0x148)],this[_0xd82fc8(0x300)]['PRESENCE_UPDATE']=_0x5598d3?.['PRESENCE_UPDATE'],this['localWebhook'][_0xd82fc8(0x290)]=_0x5598d3?.[_0xd82fc8(0x290)],this['localWebhook'][_0xd82fc8(0x468)]=_0x5598d3?.[_0xd82fc8(0x468)],this[_0xd82fc8(0x300)][_0xd82fc8(0x43f)]=_0x5598d3?.[_0xd82fc8(0x43f)];}async[a0_0x156424(0xe7)](_0x4e31ee){const _0x515059=a0_0x156424;let _0x446793=[_0x515059(0x21c),'url',_0x515059(0x494),_0x515059(0x34b),_0x515059(0xc6),_0x515059(0x1d5),_0x515059(0x4e3),_0x515059(0x637),_0x515059(0xec),_0x515059(0x51b),_0x515059(0x19e),_0x515059(0xe9),_0x515059(0x5ed),_0x515059(0x34e),_0x515059(0x3d8),'CHATS_DELETE',_0x515059(0x2b5),'CONTACTS_UPSERT',_0x515059(0x148),_0x515059(0xcc),_0x515059(0x290),_0x515059(0x468),'groups_ignore'],_0x2b6b4b={};return _0x446793[_0x515059(0x6cb)](_0x5d7453=>{_0x4e31ee[_0x5d7453]!==void 0x0&&(_0x2b6b4b[_0x5d7453]=_0x4e31ee[_0x5d7453]);}),_0x2b6b4b['url']&&(_0x2b6b4b['url']=_0x2b6b4b['url'][_0x515059(0x652)]()),await this['repository'][_0x515059(0x208)][_0x515059(0x291)](_0x2b6b4b,this[_0x515059(0x194)]),Object[_0x515059(0x263)](this['localWebhook'],_0x2b6b4b),await this['repository']['webhook']['find'](this[_0x515059(0x194)]);}async[a0_0x156424(0x593)](){const _0x164cea=a0_0x156424;return await this[_0x164cea(0x2c2)][_0x164cea(0x208)]['find'](this[_0x164cea(0x194)]);}async[a0_0x156424(0x35d)](_0x462127,_0x295f64){const _0x134574=a0_0x156424;let _0x23e0d6=_0x462127[_0x134574(0x367)](/[\.-]/gm,'_')[_0x134574(0x427)](),_0xf5650d=this[_0x134574(0x300)]['enabled']&&(0x0,P[_0x134574(0x223)])(this['localWebhook']['url'])?this[_0x134574(0x300)][_0x134574(0x1cf)]+(this[_0x134574(0x300)]['local_map']?this[_0x134574(0x35b)][_0x462127]:''):null,_0xa26991=this['localWebhook'][_0x23e0d6],_0x302fe6=le&&le['enabled']&&(0x0,P[_0x134574(0x223)])(le[_0x134574(0x1cf)])?le['url']+(le['local_map']?this[_0x134574(0x35b)][_0x462127]:''):null,_0x5af81f=le?le[_0x23e0d6]:null;if(_0xa26991&&_0xf5650d)try{await K[_0x134574(0x72b)][_0x134574(0x291)]({'baseURL':_0xf5650d})[_0x134574(0x4ff)]('',{'event':_0x462127,'instance':this[_0x134574(0x6e9)][_0x134574(0x350)],'apikey':this[_0x134574(0x6e9)]['apikey'],'data':_0x295f64}),this['logger']['log'](this[_0x134574(0x194)]+'\x20('+this[_0x134574(0x6e9)][_0x134574(0x4f9)]+_0x134574(0x1b6)+_0x462127+':\x20'+_0xf5650d);}catch{this[_0x134574(0x48b)]['error'](this[_0x134574(0x194)]+'\x20('+this[_0x134574(0x6e9)][_0x134574(0x4f9)]+_0x134574(0x6c9)+_0x462127+':\x20'+_0xf5650d);}if(_0x5af81f&&_0x302fe6)try{await K[_0x134574(0x72b)][_0x134574(0x291)]({'baseURL':_0x302fe6})[_0x134574(0x4ff)]('',{'event':_0x462127,'instance':this[_0x134574(0x6e9)][_0x134574(0x350)],'apikey':this['instance'][_0x134574(0x70b)],'data':_0x295f64}),this[_0x134574(0x48b)][_0x134574(0x155)](this['instanceName']+'\x20('+this[_0x134574(0x6e9)][_0x134574(0x4f9)]+_0x134574(0x720)+_0x462127+':\x20'+_0x302fe6);}catch{this['logger'][_0x134574(0x363)](this['instanceName']+'\x20('+this[_0x134574(0x6e9)][_0x134574(0x4f9)]+_0x134574(0x493)+_0x462127+':\x20'+_0x302fe6);}}async[a0_0x156424(0x69c)]({qr:_0x1440f2,connection:_0x292646,lastDisconnect:_0x1b49af}){const _0x58e8cd=a0_0x156424;if(_0x1440f2){if(this[_0x58e8cd(0x6e9)][_0x58e8cd(0x37c)][_0x58e8cd(0x6e5)]===Eo)return this[_0x58e8cd(0x35d)]('qrcode.updated',{'message':_0x58e8cd(0xad),'statusCode':w[_0x58e8cd(0x69b)][_0x58e8cd(0x4fb)]}),this[_0x58e8cd(0x3a2)]={'state':_0x58e8cd(0x3f8),'statusReason':w[_0x58e8cd(0x69b)][_0x58e8cd(0x102)]},this[_0x58e8cd(0x35d)](_0x58e8cd(0x12e),{'instance':this['instance'][_0x58e8cd(0x350)],...this[_0x58e8cd(0x3a2)]}),this[_0x58e8cd(0x35d)](_0x58e8cd(0x248),{'instance':this[_0x58e8cd(0x6e9)][_0x58e8cd(0x350)],'status':'removed'}),this['repository']['auth'][_0x58e8cd(0x291)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this['instance'][_0x58e8cd(0x350)]),this[_0x58e8cd(0x182)]=!0x0,this[_0x58e8cd(0x5a9)][_0x58e8cd(0x452)](_0x58e8cd(0x55c),this['instance'][_0x58e8cd(0x350)]);this[_0x58e8cd(0x6e9)]['qrcode'][_0x58e8cd(0x6e5)]++;let _0x3c8994={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':_0x58e8cd(0x587)}};Si[_0x58e8cd(0x72b)][_0x58e8cd(0x2a1)](_0x1440f2,_0x3c8994,(_0x26f4c5,_0x35530e)=>{const _0x132967=_0x58e8cd;if(_0x26f4c5){this[_0x132967(0x48b)][_0x132967(0x363)](this[_0x132967(0x194)]+'\x20('+this[_0x132967(0x6e9)][_0x132967(0x4f9)]+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x26f4c5 instanceof Error?_0x26f4c5[_0x132967(0x6b3)]:JSON[_0x132967(0x389)](_0x26f4c5,null,0x2)));return;}this[_0x132967(0x6e9)][_0x132967(0x37c)][_0x132967(0x5f9)]=_0x35530e,this[_0x132967(0x6e9)][_0x132967(0x37c)][_0x132967(0x5a0)]=_0x1440f2,!this['phoneNumber']&&this[_0x132967(0x35d)]('qrcode.updated',{'qrcode':{'instance':this[_0x132967(0x6e9)][_0x132967(0x350)],'pairingCode':this['instance'][_0x132967(0x37c)]['pairingCode'],'code':_0x1440f2,'base64':_0x35530e}});}),this[_0x58e8cd(0x580)]?this[_0x58e8cd(0x6e9)][_0x58e8cd(0x37c)][_0x58e8cd(0x243)]||(await(0x0,w['delay'])(0x7d0),this[_0x58e8cd(0x6e9)]['qrcode'][_0x58e8cd(0x243)]=await this[_0x58e8cd(0x439)][_0x58e8cd(0x2ff)](this[_0x58e8cd(0x580)])):this[_0x58e8cd(0x6e9)][_0x58e8cd(0x37c)][_0x58e8cd(0x243)]=null,Mi[_0x58e8cd(0x72b)]['generate'](_0x1440f2,{'small':!0x0},_0x4ae7fe=>this[_0x58e8cd(0x48b)]['log'](_0x58e8cd(0x638)+this['instance'][_0x58e8cd(0x350)]+_0x58e8cd(0x27a)+this[_0x58e8cd(0x6e9)]['qrcode'][_0x58e8cd(0x6e5)]+',\x20pairCode:\x20'+this['instance'][_0x58e8cd(0x37c)]['pairingCode']+_0x58e8cd(0x6cd)+_0x4ae7fe));}if(_0x292646&&(this[_0x58e8cd(0x3a2)]={'state':_0x292646,'statusReason':_0x1b49af?.['error']?.[_0x58e8cd(0x2cf)]?.[_0x58e8cd(0x2e3)]??0xc8},this['sendDataWebhook'](_0x58e8cd(0x12e),{'instance':this[_0x58e8cd(0x6e9)][_0x58e8cd(0x350)],...this['stateConnection']})),_0x292646===_0x58e8cd(0x314)){if(this['reconnectAttempts']++,this[_0x58e8cd(0x546)]['push'](Date[_0x58e8cd(0x605)]()),this[_0x58e8cd(0x546)]=this[_0x58e8cd(0x546)]['filter'](_0x5d030a=>Date[_0x58e8cd(0x605)]()-_0x5d030a<this[_0x58e8cd(0x14d)]),_0x1b49af['error']?.[_0x58e8cd(0x2cf)]?.[_0x58e8cd(0x2e3)]!==w[_0x58e8cd(0x69b)][_0x58e8cd(0x2e2)]&&this['reconnectTimestamps'][_0x58e8cd(0x476)]<=this[_0x58e8cd(0x197)])console[_0x58e8cd(0x155)](this[_0x58e8cd(0x194)]+_0x58e8cd(0x674)+this[_0x58e8cd(0x547)]+'/'+this[_0x58e8cd(0x197)]+_0x58e8cd(0x4d0)),console[_0x58e8cd(0x155)](_0x58e8cd(0x490)),await this[_0x58e8cd(0x212)]();else{this['sendDataWebhook'](_0x58e8cd(0x248),{'instance':this[_0x58e8cd(0x6e9)][_0x58e8cd(0x350)],'status':_0x58e8cd(0x3ba)}),this[_0x58e8cd(0x6e9)][_0x58e8cd(0x5f6)][_0x58e8cd(0x6f9)]=!0x1,this[_0x58e8cd(0x2c2)][_0x58e8cd(0x208)][_0x58e8cd(0x4f4)](this[_0x58e8cd(0x194)]),this[_0x58e8cd(0x2c2)][_0x58e8cd(0x39b)][_0x58e8cd(0x291)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x58e8cd(0x6e9)][_0x58e8cd(0x350)]);try{this[_0x58e8cd(0x48b)]['verbose'](this[_0x58e8cd(0x194)]+'\x20('+this['instance'][_0x58e8cd(0x4f9)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x5c9cdf=await this[_0x58e8cd(0x2c2)][_0x58e8cd(0x6b3)]['deleteAll'](this[_0x58e8cd(0x6e9)][_0x58e8cd(0x4f9)]);_0x5c9cdf[_0x58e8cd(0x229)]?this[_0x58e8cd(0x48b)][_0x58e8cd(0x361)](this[_0x58e8cd(0x194)]+'\x20('+this[_0x58e8cd(0x6e9)][_0x58e8cd(0x4f9)]+'):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.'):console[_0x58e8cd(0x363)](_0x58e8cd(0x180),_0x5c9cdf[_0x58e8cd(0x363)]);}catch(_0x3dfd53){console[_0x58e8cd(0x363)](_0x58e8cd(0x53a),_0x3dfd53[_0x58e8cd(0x6b3)]);}this[_0x58e8cd(0x6e9)]['ScheduleMessage'][_0x58e8cd(0x27f)]!==null&&(this['logger'][_0x58e8cd(0x361)](this[_0x58e8cd(0x194)]+'\x20('+this[_0x58e8cd(0x6e9)][_0x58e8cd(0x4f9)]+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x58e8cd(0x6e9)][_0x58e8cd(0x5f6)][_0x58e8cd(0x27f)]),this[_0x58e8cd(0x6e9)][_0x58e8cd(0x5f6)][_0x58e8cd(0x27f)]=null),this['logger'][_0x58e8cd(0x361)](this[_0x58e8cd(0x194)]+'\x20('+this[_0x58e8cd(0x6e9)]['wuid']+'):\x20Limpando\x20AutomateSystem'),this[_0x58e8cd(0x105)]=null,this[_0x58e8cd(0x5a9)][_0x58e8cd(0x452)]('remove.instance',this[_0x58e8cd(0x6e9)][_0x58e8cd(0x350)],'inner'),this[_0x58e8cd(0x439)]?.['ws']?.[_0x58e8cd(0x314)](),this['client'][_0x58e8cd(0x567)](new Error(_0x58e8cd(0x6b5)));}}if(_0x292646===_0x58e8cd(0x3a9)){this[_0x58e8cd(0x439)]['ev'][_0x58e8cd(0x2b6)](),this[_0x58e8cd(0x1f0)],this[_0x58e8cd(0x6e9)]['wuid']=this[_0x58e8cd(0x439)][_0x58e8cd(0x42b)]['id']['replace'](/:\d+/,'')[_0x58e8cd(0x367)](_0x58e8cd(0x4e2),''),this['instance'][_0x58e8cd(0x1ae)]=(await this[_0x58e8cd(0x5dc)](this[_0x58e8cd(0x6e9)]['wuid']+'@s.whatsapp.net'))[_0x58e8cd(0x1ae)],this[_0x58e8cd(0x2c2)][_0x58e8cd(0x39b)][_0x58e8cd(0x291)]({'online':!0x0,'owner':this[_0x58e8cd(0x6e9)][_0x58e8cd(0x4f9)],'lastDisconnect':null},this[_0x58e8cd(0x6e9)][_0x58e8cd(0x350)]);let _0x453b77=_0x58e8cd(0x2d7)+this[_0x58e8cd(0x6e9)][_0x58e8cd(0x4f9)],_0x59f841=0x28,_0x2852cb=Math[_0x58e8cd(0x3ef)]((_0x59f841-_0x453b77[_0x58e8cd(0x476)])/0x2),_0xb358ba='\x20'[_0x58e8cd(0x5f7)](_0x2852cb),_0x2dd4d6=_0x58e8cd(0x1ec),_0x650501='Instância:\x20'+this[_0x58e8cd(0x6e9)][_0x58e8cd(0x350)],_0x15d08b=(''+_0xb358ba+_0x453b77+_0xb358ba)[_0x58e8cd(0x50e)](_0x59f841,'\x20'),_0x22a7df=(''+_0xb358ba+_0x2dd4d6+_0xb358ba)[_0x58e8cd(0x50e)](_0x59f841,'\x20'),_0x39395a=(''+_0xb358ba+_0x650501+_0xb358ba)[_0x58e8cd(0x50e)](_0x59f841,'\x20'),_0x2059ea=Math[_0x58e8cd(0x430)](_0x15d08b[_0x58e8cd(0x476)],_0x22a7df[_0x58e8cd(0x476)],_0x39395a[_0x58e8cd(0x476)]),_0x22221b=_0x15d08b[_0x58e8cd(0x50e)](_0x2059ea,'\x20'),_0x15b7e2=_0x22a7df[_0x58e8cd(0x50e)](_0x2059ea,'\x20'),_0x18b910=_0x39395a['padEnd'](_0x2059ea,'\x20');this[_0x58e8cd(0x48b)]['info']((_0x58e8cd(0x722)+'─'['repeat'](_0x2059ea)+_0x58e8cd(0x4dd)+_0x15b7e2+_0x58e8cd(0x76c)+_0x18b910+_0x58e8cd(0x76c)+_0x22221b+_0x58e8cd(0x38b)+'─'['repeat'](_0x2059ea)+'┘')[_0x58e8cd(0x367)](/^ +/gm,'\x20\x20')),this[_0x58e8cd(0x463)](),this[_0x58e8cd(0x6e9)][_0x58e8cd(0x5f6)]['isConnected']=!0x0;}}[a0_0x156424(0x1f0)](){const _0x54b5a8=a0_0x156424;this[_0x54b5a8(0x547)]=0x0,this['reconnectTimestamps']=[];}async[a0_0x156424(0x1bb)](_0x141500,_0x1a104e=!0x1){const _0x576fcd=a0_0x156424;try{let _0x201571=await this[_0x576fcd(0x2c2)][_0x576fcd(0x6b3)][_0x576fcd(0x5ae)]({'where':{'_id':_0x141500['id']}},this[_0x576fcd(0x6e9)][_0x576fcd(0x4f9)]);return _0x1a104e?_0x201571[0x0]:_0x201571[0x0]['message'];}catch{return{'conversation':''};}}['cleanStore'](){const _0x3f9a5d=a0_0x156424;let _0x39f640=this[_0x3f9a5d(0x2b4)]['get'](_0x3f9a5d(0x349)),_0x3dd8e8=this['configService'][_0x3f9a5d(0x2cb)](_0x3f9a5d(0x3be));_0x39f640?.['CLEANING_INTERVAL']&&!_0x3dd8e8[_0x3f9a5d(0x237)]&&setInterval(()=>{const _0xf6e601=_0x3f9a5d;try{for(let [_0x291bcc,_0x337ea1]of Object[_0xf6e601(0xd5)](_0x39f640))_0x337ea1===!0x0&&(0x0,De[_0xf6e601(0x783)])(_0xf6e601(0x1a5)+(0x0,F[_0xf6e601(0xdb)])(this[_0xf6e601(0x353)],_0x291bcc[_0xf6e601(0x18d)](),this['instance'][_0xf6e601(0x4f9)])+_0xf6e601(0x4de));}catch{}},(_0x39f640?.[_0x3f9a5d(0x73c)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x3c7614=a0_0x156424;let _0x21b1c8=this[_0x3c7614(0x2b4)][_0x3c7614(0x2cb)](_0x3c7614(0x3be)),_0x1c6931=this[_0x3c7614(0x2b4)]['get'](_0x3c7614(0x4ca));return _0x1c6931?.[_0x3c7614(0x237)]?await Ns(_0x1c6931,this[_0x3c7614(0x6e9)]['name']):_0x21b1c8[_0x3c7614(0x237)]?await vs(this[_0x3c7614(0x6e9)][_0x3c7614(0x350)]):await(0x0,w[_0x3c7614(0x29f)])((0x0,F[_0x3c7614(0xdb)])(me,this[_0x3c7614(0x6e9)]['name']));}async[a0_0x156424(0x463)](){const _0x38557d=a0_0x156424;let _0x4bf436=()=>Math[_0x38557d(0x3ef)](Math['random']()*0x2711)+0x7d0,_0x45c21b=async()=>{const _0x4171c4=_0x38557d;if(!this[_0x4171c4(0x6e9)][_0x4171c4(0x5f6)][_0x4171c4(0x6f9)]){this[_0x4171c4(0x48b)]['verbose'](this[_0x4171c4(0x194)]+'\x20('+this[_0x4171c4(0x6e9)]['wuid']+'):Desconectado,\x20parando\x20execução.'),this['isRunning']=!0x1;return;}if(this[_0x4171c4(0x6e9)][_0x4171c4(0x4f9)]&&this['AutomateSystem']&&this[_0x4171c4(0x6e9)]['ScheduleMessage'][_0x4171c4(0x27f)]!==null&&this[_0x4171c4(0x6e9)][_0x4171c4(0x5f6)]['delayMessage']!==void 0x0){let _0x17209e=Math[_0x4171c4(0x6b4)](this[_0x4171c4(0x6e9)][_0x4171c4(0x5f6)][_0x4171c4(0x27f)]/0xea60);this[_0x4171c4(0x48b)][_0x4171c4(0x361)](this[_0x4171c4(0x194)]+'\x20('+this[_0x4171c4(0x6e9)]['wuid']+_0x4171c4(0x1fd)+_0x17209e+_0x4171c4(0x702)),this[_0x4171c4(0x763)]=!0x1;return;}else this[_0x4171c4(0x6e9)][_0x4171c4(0x4f9)]&&(this[_0x4171c4(0x48b)]['verbose'](this['instanceName']+'\x20('+this[_0x4171c4(0x6e9)]['wuid']+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this[_0x4171c4(0x105)]||(await this[_0x4171c4(0x220)](),this['findGroups']()),(this[_0x4171c4(0x6e9)]['ScheduleMessage'][_0x4171c4(0x27f)]===null||this['instance'][_0x4171c4(0x5f6)][_0x4171c4(0x27f)]===void 0x0)&&await this[_0x4171c4(0x2d8)]());if(this[_0x4171c4(0x763)]){let _0x54e787=_0x4bf436();this[_0x4171c4(0x48b)][_0x4171c4(0x361)](this[_0x4171c4(0x194)]+_0x4171c4(0x2c4)+_0x54e787/0x3e8+_0x4171c4(0x774)),setTimeout(_0x45c21b,_0x54e787);}};if(this['isRunning'])return;this[_0x38557d(0x763)]=!0x0;let _0x40c15e=_0x4bf436();setTimeout(_0x45c21b,_0x40c15e);}async[a0_0x156424(0x1d3)](_0x4e3829=0x0,_0x44f78b=!0x1){const _0x2f2d8c=a0_0x156424;try{let _0x4f7c78=this[_0x2f2d8c(0x2b4)]['get'](_0x2f2d8c(0x23a));if(_0x4f7c78!==0x1||typeof _0x4f7c78>'u'||_0x4e3829>=0x5)return this[_0x2f2d8c(0x48b)][_0x2f2d8c(0x234)](_0x2f2d8c(0x4f8)),this['repository'][_0x2f2d8c(0x39b)][_0x2f2d8c(0x291)]({'ip':null},this['instance']['name']),{};this[_0x2f2d8c(0x48b)]['verbose'](this['instanceName']+_0x2f2d8c(0x3b0)+(_0x4e3829+0x1)+'\x20de\x20conectar\x20com\x20IP\x20extra.');let _0x4f3338;if(!_0x44f78b){let _0x4a7c4c=await this[_0x2f2d8c(0x2c2)]['auth'][_0x2f2d8c(0x5ae)](this[_0x2f2d8c(0x194)]);_0x4a7c4c&&_0x4a7c4c['ip']&&(_0x4f3338=fi(_0x4a7c4c['ip']));}if((!_0x4f3338||!Rs(_0x4f3338))&&(this['logger'][_0x2f2d8c(0x234)](this[_0x2f2d8c(0x194)]+_0x2f2d8c(0x480)),_0x4f3338=wi()),_0x4f3338&&Rs(_0x4f3338)){let _0xb6974b=_0x4f3338[_0x2f2d8c(0x471)]&&_0x4f3338[_0x2f2d8c(0x648)]?_0x4f3338['protocol']+_0x2f2d8c(0x5b4)+_0x4f3338[_0x2f2d8c(0x471)]+':'+_0x4f3338['password']+'@'+_0x4f3338[_0x2f2d8c(0x5d8)]+':'+_0x4f3338[_0x2f2d8c(0x4c2)]:_0x4f3338[_0x2f2d8c(0x445)]+_0x2f2d8c(0x5b4)+_0x4f3338[_0x2f2d8c(0x5d8)]+':'+_0x4f3338[_0x2f2d8c(0x4c2)];return await this['testProxy'](_0xb6974b,_0x4f3338['host'])?(this['logger'][_0x2f2d8c(0x361)](this[_0x2f2d8c(0x194)]+_0x2f2d8c(0x424)),this[_0x2f2d8c(0x2c2)][_0x2f2d8c(0x39b)][_0x2f2d8c(0x291)]({'ip':_0x4f3338[_0x2f2d8c(0x5d8)]},this['instance'][_0x2f2d8c(0x350)]),{'agent':new Lt['HttpsProxyAgent'](_0xb6974b),'fetchAgent':new Lt[(_0x2f2d8c(0x488))](_0xb6974b)}):(this[_0x2f2d8c(0x48b)][_0x2f2d8c(0x234)](this['instanceName']+':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...'),await(0x0,w[_0x2f2d8c(0x2e7)])(0xc8),this[_0x2f2d8c(0x1d3)](_0x4e3829+0x1,!0x0));}else return this[_0x2f2d8c(0x48b)][_0x2f2d8c(0x234)](this[_0x2f2d8c(0x194)]+_0x2f2d8c(0x13d)),await(0x0,w[_0x2f2d8c(0x2e7)])(0xc8),this[_0x2f2d8c(0x1d3)](_0x4e3829+0x1,!0x0);}catch(_0x2e5474){return this['logger'][_0x2f2d8c(0x363)](this['instanceName']+_0x2f2d8c(0x19d)+_0x2e5474[_0x2f2d8c(0x6b3)]),{};}}async['testProxy'](_0x2a46ea,_0x5a62f8){const _0x2b3b89=a0_0x156424;let _0x2d2c54=new Lt[(_0x2b3b89(0x488))](_0x2a46ea),_0xf4b94c=0x1388,_0x3fc3f1=[{'url':_0x2b3b89(0x205),'parse':_0x5bbda8=>_0x5bbda8['ip']},{'url':_0x2b3b89(0x39e),'parse':_0xd6c737=>_0xd6c737['ip']},{'url':_0x2b3b89(0x6f7),'parse':_0x153523=>_0x153523['match'](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x2b3b89(0x3d1),'parse':_0x3fed65=>_0x3fed65['ip']},{'url':'http://ifconfig.me/ip','parse':_0x388a5e=>_0x388a5e[_0x2b3b89(0x652)]()},{'url':'http://ipecho.net/plain','parse':_0x133754=>_0x133754[_0x2b3b89(0x652)]()},{'url':_0x2b3b89(0x322),'parse':_0x4c8bf1=>_0x4c8bf1['query']},{'url':_0x2b3b89(0x5a2),'parse':_0x16cd04=>_0x16cd04[_0x2b3b89(0x652)]()},{'url':_0x2b3b89(0xfa),'parse':_0x530e63=>_0x530e63[_0x2b3b89(0x652)]()}],_0x4ef63b=_0x3fc3f1[Math[_0x2b3b89(0x3ef)](Math[_0x2b3b89(0x1cb)]()*_0x3fc3f1[_0x2b3b89(0x476)])];try{let _0x4020ba=await K[_0x2b3b89(0x72b)]['get'](_0x4ef63b['url'],{'httpsAgent':_0x2d2c54,'timeout':_0xf4b94c}),_0x24af8b=_0x4ef63b[_0x2b3b89(0x3a0)](_0x4020ba[_0x2b3b89(0x3cf)]);return _0x24af8b===_0x5a62f8?(this[_0x2b3b89(0x48b)][_0x2b3b89(0x361)](this[_0x2b3b89(0x194)]+':\x20IP\x20configurado:\x20'+_0x5a62f8+_0x2b3b89(0x395)+_0x24af8b+_0x2b3b89(0xbe)),!0x0):(this[_0x2b3b89(0x48b)][_0x2b3b89(0x363)](this[_0x2b3b89(0x194)]+_0x2b3b89(0x2dd)+_0x5a62f8+_0x2b3b89(0x395)+_0x24af8b+_0x2b3b89(0x22b)),!0x1);}catch(_0x54f7a9){return this[_0x2b3b89(0x48b)][_0x2b3b89(0x363)](this[_0x2b3b89(0x194)]+_0x2b3b89(0x46c)+_0x4ef63b[_0x2b3b89(0x1cf)]+':\x20'+_0x54f7a9['message']),!0x1;}}async[a0_0x156424(0x212)](_0x501a2f){const _0x335057=a0_0x156424;try{let _0x1c5b67=await this['loadproxy']();this['loadWebhook'](),this[_0x335057(0x6e9)][_0x335057(0x70b)]=(await this[_0x335057(0x2c2)][_0x335057(0x39b)][_0x335057(0x5ae)](this[_0x335057(0x6e9)][_0x335057(0x350)]))[_0x335057(0x70b)],this[_0x335057(0x6e9)][_0x335057(0x436)]=await this[_0x335057(0x5d7)]();let {version:_0x31c64d}=await(0x0,w['fetchLatestBaileysVersion'])(),_0x328be0=[Ci,Is,(0x0,As[_0x335057(0x1c0)])()],_0x18a15e={..._0x1c5b67,'auth':{'creds':this[_0x335057(0x6e9)]['authState'][_0x335057(0x758)]['creds'],'keys':(0x0,w[_0x335057(0x544)])(this[_0x335057(0x6e9)][_0x335057(0x436)][_0x335057(0x758)][_0x335057(0x153)],(0x0,Pt[_0x335057(0x72b)])({'level':_0x335057(0x363)}))},'logger':(0x0,Pt[_0x335057(0x72b)])({'level':_0x335057(0x363)}),'printQRInTerminal':!0x1,'browser':_0x501a2f?['Mac\x20OS',Is,(0x0,As[_0x335057(0x1c0)])()]:_0x328be0,'version':_0x31c64d,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x22b10c=>{const _0xe19026=_0x335057;let _0x1e8905=_0x22b10c[_0xe19026(0x3e3)](_0xe19026(0x358)),_0x4f02f1=this[_0xe19026(0x300)]?.[_0xe19026(0x43f)]&&_0x22b10c['endsWith']('@g.us');return _0x1e8905||(0x0,w[_0xe19026(0x41e)])(_0x22b10c)||_0x4f02f1;},'msgRetryCounterCache':this[_0x335057(0x1e6)],'getMessage':async _0x5ac47e=>await this['getMessage'](_0x5ac47e),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x335057(0xc7)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x2c4c30=>(_0x2c4c30['listMessage']?.[_0x335057(0x618)]==w[_0x335057(0x596)]['Message'][_0x335057(0x62c)][_0x335057(0x588)][_0x335057(0x215)]&&(_0x2c4c30=JSON[_0x335057(0x3a0)](JSON[_0x335057(0x389)](_0x2c4c30)),_0x2c4c30[_0x335057(0x69e)][_0x335057(0x618)]=w[_0x335057(0x596)][_0x335057(0x372)][_0x335057(0x62c)][_0x335057(0x588)][_0x335057(0x56e)]),_0x2c4c30)};return this['endSession']=!0x1,this['client']=(0x0,w[_0x335057(0x72b)])(_0x18a15e),this[_0x335057(0x6a7)](),this[_0x335057(0x580)]=_0x501a2f,this[_0x335057(0x439)];}catch(_0x3c38cf){let _0xb145f8=_0x335057(0x6b9),_0x1cd5a2=_0x3c38cf instanceof Error?_0x3c38cf['message']:typeof _0x3c38cf==_0x335057(0x666)?JSON['stringify'](_0x3c38cf):_0x3c38cf,_0x2135fc=_0xb145f8+':\x20'+_0x1cd5a2;throw this['logger'][_0x335057(0x363)](this[_0x335057(0x194)]+'\x20('+this[_0x335057(0x6e9)][_0x335057(0x4f9)]+'):\x20'+_0x2135fc),new I(_0x2135fc);}}['eventHandler'](){const _0x3257c2=a0_0x156424;this['client']['ev'][_0x3257c2(0x24f)](_0xbd5955=>{const _0x490251=_0x3257c2;if(!this[_0x490251(0x182)]){let _0x253454=this[_0x490251(0x2b4)][_0x490251(0x2cb)](_0x490251(0x3be));if(_0xbd5955[_0x490251(0x10c)]){let _0x430a39=_0xbd5955[_0x490251(0x10c)];this[_0x490251(0x746)][_0x490251(0x10c)](_0x430a39);}if(_0xbd5955[_0x490251(0x579)]){let _0x1596e8=_0xbd5955[_0x490251(0x579)];this[_0x490251(0x746)][_0x490251(0x579)](_0x1596e8);}if(_0xbd5955[_0x490251(0x12e)]&&this[_0x490251(0x69c)](_0xbd5955[_0x490251(0x12e)]),_0xbd5955['creds.update']&&this['instance']['authState']['saveCreds'](),_0xbd5955[_0x490251(0x130)]){let _0x4e0559=_0xbd5955[_0x490251(0x130)];this[_0x490251(0x746)]['messaging-history.set'](_0x4e0559,_0x253454);}if(_0xbd5955[_0x490251(0x52f)]){let _0xb5b32e=_0xbd5955[_0x490251(0x52f)];this['messageHandle'][_0x490251(0x52f)](_0xb5b32e,_0x253454);}if(_0xbd5955['messages.update']){let _0x203fd5=_0xbd5955[_0x490251(0x5d4)];this[_0x490251(0x746)][_0x490251(0x5d4)](_0x203fd5,_0x253454);}if(_0xbd5955[_0x490251(0x16b)]){let _0x219502=_0xbd5955['presence.update'];if(this['localWebhook']?.['groups_ignore']&&_0x219502['id'][_0x490251(0x341)](_0x490251(0x119)))return;this['sendDataWebhook'](_0x490251(0x16b),_0x219502);}if(_0xbd5955['groups.upsert']){let _0x509314=_0xbd5955[_0x490251(0x289)];this[_0x490251(0x514)][_0x490251(0x289)](_0x509314);}if(_0xbd5955[_0x490251(0x670)]){let _0x1df3c6=_0xbd5955[_0x490251(0x670)];this['groupHandler'][_0x490251(0x670)](_0x1df3c6);}if(_0xbd5955[_0x490251(0xc2)]){let _0x5010c8=_0xbd5955[_0x490251(0xc2)];this[_0x490251(0x514)][_0x490251(0xc2)](_0x5010c8);}if(_0xbd5955[_0x490251(0x609)]){let _0x3e249f=_0xbd5955[_0x490251(0x609)];this[_0x490251(0x773)]['chats.upsert'](_0x3e249f,_0x253454);}if(_0xbd5955[_0x490251(0x33b)]){let _0x3f3280=_0xbd5955[_0x490251(0x33b)];this[_0x490251(0x773)]['chats.update'](_0x3f3280,_0x253454);}if(_0xbd5955[_0x490251(0x433)]){let _0x1e8065=_0xbd5955[_0x490251(0x433)];this[_0x490251(0x773)]['chats.delete'](_0x1e8065);}if(_0xbd5955[_0x490251(0x3cb)]){let _0xd01c75=_0xbd5955[_0x490251(0x3cb)];this[_0x490251(0x26f)][_0x490251(0x3cb)](_0xd01c75,_0x253454);}if(_0xbd5955['contacts.update']){let _0x621393=_0xbd5955['contacts.update'];this['contactHandle'][_0x490251(0x301)](_0x621393,_0x253454);}}});}[a0_0x156424(0x56c)](_0x58e443){return new Promise(_0x1377ab=>setTimeout(_0x1377ab,_0x58e443));}['formatBRNumber'](_0x1ac424){const _0x560767=a0_0x156424;_0x1ac424=_0x1ac424[_0x560767(0x367)](/\D/g,'');let _0x2f857f=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x1ac424);if(_0x2f857f&&_0x2f857f[0x1]==='55'){let _0x30ed77=_0x2f857f[0x2],_0x21272c=_0x2f857f[0x3],_0x42b628=_0x2f857f[0x4];if(parseInt(_0x30ed77)>=0x1f&&_0x21272c==='9')return _0x2f857f[0x1]+_0x30ed77+_0x42b628;}return _0x1ac424;}['createJid'](_0x19e85d){const _0x619599=a0_0x156424;return _0x19e85d[_0x619599(0x341)]('@g.us')||_0x19e85d[_0x619599(0x341)](_0x619599(0x4e2))||_0x19e85d[_0x619599(0x341)](_0x619599(0x530))?_0x19e85d:(_0x19e85d=_0x19e85d?.['replace'](/\s/g,'')[_0x619599(0x367)](/\+/g,'')['replace'](/\(/g,'')[_0x619599(0x367)](/\)/g,'')[_0x619599(0x277)](/\:/)[0x0][_0x619599(0x277)]('@')[0x0],_0x19e85d[_0x619599(0x476)]>=0x12?(_0x19e85d=_0x19e85d[_0x619599(0x367)](/[^\d-]/g,''),_0x19e85d+_0x619599(0x119)):(_0x19e85d=_0x19e85d[_0x619599(0x367)](/\D/g,''),_0x19e85d+_0x619599(0x4e2)));}async[a0_0x156424(0x2a8)](_0x38778f){const _0x40054a=a0_0x156424;let _0x5eba67=(await this[_0x40054a(0x225)]({'numbers':[_0x38778f[_0x40054a(0xf2)]]}))[0x0];if(!_0x5eba67['exists']&&!(0x0,w[_0x40054a(0x28c)])(_0x5eba67[_0x40054a(0x2f4)])&&!_0x5eba67[_0x40054a(0x2f4)]['includes'](_0x40054a(0x530)))throw new m(_0x5eba67);let _0x2541f0=_0x5eba67['jid'];try{return await this['client'][_0x40054a(0x16e)](_0x2541f0),await this[_0x40054a(0x439)][_0x40054a(0x53f)](_0x38778f[_0x40054a(0x703)],_0x2541f0),{'status':0xc8,'presence':_0x38778f[_0x40054a(0x703)]};}catch(_0x206b8f){let _0x53c844='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence',_0x38d9e3=_0x206b8f instanceof Error?_0x206b8f[_0x40054a(0x6b3)]:typeof _0x206b8f==_0x40054a(0x666)?JSON[_0x40054a(0x389)](_0x206b8f):_0x206b8f,_0x5dcacb=_0x53c844+':\x20'+_0x38d9e3;throw this[_0x40054a(0x48b)][_0x40054a(0x363)](this[_0x40054a(0x194)]+'\x20('+this[_0x40054a(0x6e9)][_0x40054a(0x4f9)]+_0x40054a(0x5a6)+_0x5dcacb),new m(_0x5dcacb);}}async[a0_0x156424(0x11f)](_0x3aff41,_0x23dc89,_0xa1c42,_0x1f943a=!0x0){const _0x5e2220=a0_0x156424;let _0x53986e=await this['repository'][_0x5e2220(0x645)][_0x5e2220(0x6d5)]({'where':{'_id':_0x3aff41}});if(!_0x53986e&&!_0x1f943a)return;let _0x4f1c26={'lastUpdate':Date[_0x5e2220(0x605)]()};if(_0xa1c42||!_0x53986e?.[_0x5e2220(0x49a)]||Date[_0x5e2220(0x605)]()-_0x53986e['lastUpdate']>0x18*0x3c*0x3c*0x3e8)try{let _0x39fdd0=(await this['profilePicture'](_0x3aff41))['profilePictureUrl'];_0x4f1c26[_0x5e2220(0x104)]=_0x39fdd0;}catch(_0x5a7a07){let _0x4ce387=_0x5e2220(0x13a),_0x55dda5=_0x5a7a07 instanceof Error?_0x5a7a07[_0x5e2220(0x6b3)]:typeof _0x5a7a07==_0x5e2220(0x666)?JSON[_0x5e2220(0x389)](_0x5a7a07):_0x5a7a07,_0x510b7f=_0x4ce387+':\x20'+_0x55dda5;throw this[_0x5e2220(0x48b)][_0x5e2220(0x363)](this['instanceName']+'\x20('+this[_0x5e2220(0x6e9)]['wuid']+_0x5e2220(0x5a6)+_0x510b7f),new m(_0x510b7f);}return _0x23dc89&&_0x53986e?.['name']!==_0x23dc89&&(_0x4f1c26[_0x5e2220(0x350)]=_0x23dc89),Object['keys'](_0x4f1c26)[_0x5e2220(0x476)]>0x1&&(_0x53986e?await this[_0x5e2220(0x2c2)][_0x5e2220(0x645)]['update']({'where':{'_id':_0x3aff41}},_0x4f1c26):await this[_0x5e2220(0x2c2)][_0x5e2220(0x645)][_0x5e2220(0x6b2)]([{'_id':_0x3aff41,..._0x4f1c26}]),_0x53986e={..._0x53986e,..._0x4f1c26}),{'cachedContact':_0x53986e};}async['profilePicture'](_0x51d40b){const _0x26492f=a0_0x156424;let _0x48c1e6=this[_0x26492f(0x18e)](_0x51d40b);try{return{'wuid':_0x48c1e6,'profilePictureUrl':await this[_0x26492f(0x439)][_0x26492f(0x1ae)](_0x48c1e6,'image')};}catch{return{'wuid':_0x48c1e6,'profilePictureUrl':null};}}async['sendMessageWithTyping'](_0x55ad58,_0x1df93c,_0x27e6df){const _0x5b9b61=a0_0x156424;try{_0x27e6df||(_0x27e6df={});let _0x2e4ea6=(await this['whatsappNumber']({'numbers':[_0x55ad58]}))[0x0];if(!_0x2e4ea6[_0x5b9b61(0x710)]&&!(0x0,w[_0x5b9b61(0x28c)])(_0x2e4ea6[_0x5b9b61(0x2f4)])&&!_0x2e4ea6[_0x5b9b61(0x2f4)]['includes'](_0x5b9b61(0x530)))throw new m(_0x2e4ea6);let _0x3e458e=_0x2e4ea6[_0x5b9b61(0x2f4)];if(_0x27e6df?.[_0x5b9b61(0x2e7)]){await this[_0x5b9b61(0x439)][_0x5b9b61(0x16e)](_0x3e458e),await this[_0x5b9b61(0x439)]['sendPresenceUpdate'](_0x27e6df?.[_0x5b9b61(0x703)]??_0x5b9b61(0x44a),_0x3e458e);let _0x296936=Math[_0x5b9b61(0x25a)](_0x27e6df[_0x5b9b61(0x2e7)],0x2710);await(0x0,w['delay'])(_0x296936),await this[_0x5b9b61(0x439)][_0x5b9b61(0x53f)](_0x5b9b61(0x5a5),_0x3e458e);}let _0x330012=_0x27e6df?.[_0x5b9b61(0x12f)]!=!0x1?void 0x0:!0x1,_0x18b6f8;if(_0x27e6df?.[_0x5b9b61(0x5bd)]){let _0x138d2a=_0x27e6df?.[_0x5b9b61(0x5bd)],_0x216cd4=_0x138d2a?.[_0x5b9b61(0x6b3)]?_0x138d2a:await this['getMessage'](_0x138d2a[_0x5b9b61(0x13f)],!0x0);if(!_0x216cd4)throw _0x5b9b61(0xdd);_0x18b6f8=_0x216cd4;}let _0x245f66;if((0x0,w[_0x5b9b61(0x28c)])(_0x3e458e))try{let _0xbe813b=(await this[_0x5b9b61(0x2c2)][_0x5b9b61(0x2ea)]['findOne']({'where':{'_id':_0x3e458e}},this[_0x5b9b61(0x6e9)][_0x5b9b61(0x4f9)]))[_0x5b9b61(0x45a)];if(!_0xbe813b)throw new U('Group\x20not\x20found');_0x27e6df?.[_0x5b9b61(0x4f2)]&&(_0x27e6df[_0x5b9b61(0x4f2)]?.[_0x5b9b61(0x15e)]?_0x245f66=_0xbe813b['participants'][_0x5b9b61(0x5ad)](_0x161140=>_0x161140['id']):_0x27e6df[_0x5b9b61(0x4f2)]?.[_0x5b9b61(0x679)]?.[_0x5b9b61(0x476)]&&(_0x245f66=_0x27e6df[_0x5b9b61(0x4f2)]['mentioned']['map'](_0x5075e3=>{const _0x40adf=_0x5b9b61;let _0x2898ad=this[_0x40adf(0x18e)](_0x5075e3);return(0x0,w[_0x40adf(0x28c)])(_0x2898ad)?null:_0x2898ad;})));}catch{throw new U('Group\x20not\x20found');}let _0x4b8ee4=await this[_0x5b9b61(0x2c2)][_0x5b9b61(0x2ea)][_0x5b9b61(0x6d5)]({'where':{'_id':_0x3e458e}},this['instance'][_0x5b9b61(0x4f9)]),_0x2c577a=await((async()=>{const _0x181255=_0x5b9b61;let _0x2666b4={'quoted':_0x18b6f8,'ephemeralExpiration':_0x4b8ee4?.[_0x181255(0x778)]??0x0};if(!_0x1df93c[_0x181255(0x5f8)]&&!_0x1df93c['poll']&&!_0x1df93c[_0x181255(0x299)]&&!_0x1df93c['conversation']&&_0x3e458e!==_0x181255(0x447)&&!_0x1df93c[_0x181255(0x5f8)])return await this['client'][_0x181255(0x266)](_0x3e458e,{'forward':{'key':{'remoteJid':this['instance'][_0x181255(0x4f9)],'fromMe':!0x0},'message':_0x1df93c},'mentions':_0x245f66},_0x2666b4);if(_0x1df93c[_0x181255(0x6e4)])return await this[_0x181255(0x439)][_0x181255(0x266)](_0x3e458e,{'react':{'text':_0x1df93c[_0x181255(0x6e4)]['text'],'key':_0x1df93c[_0x181255(0x6e4)]['key']}},_0x2666b4);if(_0x1df93c[_0x181255(0x1a7)]){let _0x530baa=_0x1df93c['conversation'];return _0x27e6df?.[_0x181255(0x38d)]&&(_0x530baa=await this['replaceVariablesChat'](_0x530baa,_0x3e458e)),await this[_0x181255(0x439)][_0x181255(0x266)](_0x3e458e,{'text':_0x530baa,'mentions':_0x245f66,'linkPreview':_0x330012},_0x2666b4);}return _0x3e458e===_0x181255(0x447)?await this[_0x181255(0x439)][_0x181255(0x266)](_0x3e458e,_0x1df93c['status'][_0x181255(0x6d3)],{'backgroundColor':_0x1df93c['status'][_0x181255(0x36b)][_0x181255(0x3c4)],'font':_0x1df93c[_0x181255(0x2f7)][_0x181255(0x36b)]['font'],'statusJidList':_0x1df93c[_0x181255(0x2f7)][_0x181255(0x36b)][_0x181255(0x1a4)]}):await this['client'][_0x181255(0x266)](_0x3e458e,_0x1df93c,_0x2666b4);})()),_0x3a2d96=(0x0,w['normalizeMessageContent'])(_0x2c577a['message']),_0x599988=(0x0,w[_0x5b9b61(0x501)])(_0x3a2d96),{message_normalized:_0x5bb641}=this[_0x5b9b61(0x342)](_0x3a2d96,_0x599988,null),_0x36ae9a={'_id':_0x2c577a[_0x5b9b61(0x13f)]['id'],'key':_0x2c577a[_0x5b9b61(0x13f)],'pushName':_0x2c577a['pushName'],'isGroup':_0x2c577a[_0x5b9b61(0x13f)]['remoteJid'][_0x5b9b61(0x3e3)](_0x5b9b61(0x119)),'profilePictureUrl':this[_0x5b9b61(0x6e9)][_0x5b9b61(0x1ae)],'message':_0x3a2d96,'messageType':_0x599988,'message_normalized':{'key':_0x2c577a[_0x5b9b61(0x13f)],'pushName':_0x2c577a[_0x5b9b61(0x435)],'messageTimestamp':_0x2c577a[_0x5b9b61(0x3f9)]&&_0x2c577a[_0x5b9b61(0x3f9)][_0x5b9b61(0x50d)]()[_0x5b9b61(0x476)]<0xd?_0x2c577a['messageTimestamp']*0x3e8:_0x2c577a[_0x5b9b61(0x3f9)]||null,'source':(0x0,w[_0x5b9b61(0xac)])(_0x2c577a[_0x5b9b61(0x13f)]['id']),..._0x5bb641},'messageTimestamp':_0x2c577a[_0x5b9b61(0x3f9)]&&_0x2c577a[_0x5b9b61(0x3f9)][_0x5b9b61(0x50d)]()[_0x5b9b61(0x476)]<0xd?_0x2c577a[_0x5b9b61(0x3f9)]*0x3e8:_0x2c577a[_0x5b9b61(0x3f9)]||null,'owner':this[_0x5b9b61(0x6e9)][_0x5b9b61(0x4f9)],'source':(0x0,w['getDevice'])(_0x2c577a['key']['id'])};return this[_0x5b9b61(0x48b)][_0x5b9b61(0x234)](this['instanceName']+'\x20('+this[_0x5b9b61(0x6e9)][_0x5b9b61(0x4f9)]+_0x5b9b61(0x376)+_0x36ae9a[_0x5b9b61(0x13f)]?.['remoteJid']['replace']('@s.whatsapp.net','')+_0x5b9b61(0x744)+_0x36ae9a[_0x5b9b61(0x58d)]+')'),_0x36ae9a[_0x5b9b61(0x4d2)]?.[_0x5b9b61(0x727)]&&this[_0x5b9b61(0x48b)][_0x5b9b61(0x234)](_0x36ae9a[_0x5b9b61(0x4d2)]?.[_0x5b9b61(0x727)]),this[_0x5b9b61(0x35d)](_0x5b9b61(0x6eb),_0x36ae9a),J(this[_0x5b9b61(0x194)],'messages',{'message':_0x36ae9a}),this[_0x5b9b61(0x6a2)](this[_0x5b9b61(0x2b4)]['get'](_0x5b9b61(0x3be)),_0x36ae9a,_0x5b9b61(0xec),_0x4b8ee4),await this['repository'][_0x5b9b61(0x6b3)][_0x5b9b61(0x6b2)]([_0x36ae9a],this[_0x5b9b61(0x6e9)]['wuid']),_0x2c577a;}catch(_0x3973d9){let _0x2cb675='Falha\x20ao\x20processar\x20a\x20solicitação\x20messages.upsert',_0x311663=_0x3973d9 instanceof Error?_0x3973d9[_0x5b9b61(0x6b3)]:typeof _0x3973d9==_0x5b9b61(0x666)?JSON['stringify'](_0x3973d9):_0x3973d9,_0x4efa11=_0x2cb675+':\x20'+_0x311663;throw this[_0x5b9b61(0x48b)][_0x5b9b61(0x363)](this[_0x5b9b61(0x194)]+'\x20('+this[_0x5b9b61(0x6e9)][_0x5b9b61(0x4f9)]+_0x5b9b61(0x5a6)+_0x4efa11),new m(_0x4efa11);}}get[a0_0x156424(0x62b)](){return this['stateConnection'];}async[a0_0x156424(0x3c1)](_0x1e6f65){const _0x382e27=a0_0x156424;let _0xee26f=yi,_0xa23dfa=tt;return _0xa23dfa&&this[_0x382e27(0x194)]['toLowerCase']()[_0x382e27(0x341)](_0xa23dfa['toLowerCase']())&&(_0x1e6f65[_0x382e27(0x3c1)][_0x382e27(0x727)]+='\x0a\x0a'+_0xee26f),await this[_0x382e27(0x6bb)](_0x1e6f65[_0x382e27(0xf2)],{'conversation':_0x1e6f65[_0x382e27(0x3c1)]['text']},_0x1e6f65?.['options']);}async[a0_0x156424(0x543)](_0x3af170){const _0x434126=a0_0x156424;if(!_0x3af170[_0x434126(0x136)])throw new m(_0x434126(0x623));if(!_0x3af170[_0x434126(0x6d3)])throw new m(_0x434126(0x4d6));if(_0x3af170[_0x434126(0x240)]){let _0x10d2b0=await this[_0x434126(0x2c2)][_0x434126(0x2e0)][_0x434126(0x5ae)]({'where':{}},this['instance'][_0x434126(0x4f9)]);if(!_0x10d2b0[_0x434126(0x476)])throw new m('Contacts\x20not\x20found');_0x3af170[_0x434126(0x1a4)]=_0x10d2b0['filter'](_0x442c36=>_0x442c36[_0x434126(0x435)])[_0x434126(0x5ad)](_0x3ac334=>_0x3ac334['_id']);}if(!_0x3af170[_0x434126(0x1a4)]?.[_0x434126(0x476)]&&!_0x3af170[_0x434126(0x240)])throw new m(_0x434126(0x6ca));if(_0x3af170['type']===_0x434126(0x727)){if(!_0x3af170[_0x434126(0x3c4)])throw new m('Background\x20color\x20is\x20required');if(!_0x3af170[_0x434126(0x31b)])throw new m(_0x434126(0x1d7));return{'content':{'text':_0x3af170[_0x434126(0x6d3)]},'option':{'backgroundColor':_0x3af170[_0x434126(0x3c4)],'font':_0x3af170[_0x434126(0x31b)],'statusJidList':_0x3af170[_0x434126(0x1a4)]}};}if(_0x3af170[_0x434126(0x136)]===_0x434126(0x49c))return{'content':{'image':{'url':_0x3af170[_0x434126(0x6d3)]},'caption':_0x3af170[_0x434126(0x200)]},'option':{'statusJidList':_0x3af170[_0x434126(0x1a4)]}};if(_0x3af170[_0x434126(0x136)]===_0x434126(0x4d1))return{'content':{'video':{'url':_0x3af170[_0x434126(0x6d3)]},'caption':_0x3af170[_0x434126(0x200)]},'option':{'statusJidList':_0x3af170[_0x434126(0x1a4)]}};if(_0x3af170[_0x434126(0x136)]===_0x434126(0x5f8)){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x434126(0x6e9)]['wuid']+'):Type\x20defined\x20as\x20audio'),this[_0x434126(0x48b)][_0x434126(0x361)](this[_0x434126(0x194)]+'\x20('+this['instance']['wuid']+_0x434126(0x48e));let _0x438941=await this[_0x434126(0x786)](_0x3af170[_0x434126(0x6d3)]);if(typeof _0x438941=='string'){this[_0x434126(0x48b)][_0x434126(0x361)](this[_0x434126(0x194)]+'\x20('+this[_0x434126(0x6e9)][_0x434126(0x4f9)]+_0x434126(0x4c6));let _0x3635d3=j[_0x434126(0xde)](_0x438941)[_0x434126(0x50d)](_0x434126(0x5f9));return{'content':{'audio':Buffer['from'](_0x3635d3,'base64'),'ptt':!0x0,'mimetype':'audio/ogg'},'option':{'statusJidList':_0x3af170['statusJidList']}};}else throw new I(_0x438941);}throw new m('Type\x20not\x20found');}async[a0_0x156424(0x5ce)](_0xa67ae3){const _0x532bad=a0_0x156424;return await this[_0x532bad(0x6bb)](_0x532bad(0x447),{'status':await this[_0x532bad(0x543)](_0xa67ae3[_0x532bad(0x5ce)])});}async[a0_0x156424(0x66b)](_0x314be0){const _0x2f80b2=a0_0x156424;try{let _0x57b6af=await(0x0,w['prepareWAMessageMedia'])({[_0x314be0[_0x2f80b2(0x27d)]]:(0x0,P[_0x2f80b2(0x223)])(_0x314be0['media'])?{'url':_0x314be0['media']}:Buffer[_0x2f80b2(0x32d)](_0x314be0['media'],_0x2f80b2(0x5f9))},{'upload':this['client']['waUploadToServer']}),_0x11ef13=_0x314be0[_0x2f80b2(0x27d)]+'Message';if(_0x314be0[_0x2f80b2(0x27d)]===_0x2f80b2(0x352)&&!_0x314be0[_0x2f80b2(0x6cf)]){let _0xdfa56a=new RegExp(/.*\/(.+?)\./)[_0x2f80b2(0xf1)](_0x314be0['media']);_0x314be0[_0x2f80b2(0x6cf)]=_0xdfa56a?_0xdfa56a[0x1]:null;}let _0xcfff30=(0x0,P['isURL'])(_0x314be0['media'])?_0x314be0['media'][_0x2f80b2(0x277)]('?')[0x0]:_0x314be0[_0x2f80b2(0x582)],_0x276640;(0x0,P[_0x2f80b2(0x223)])(_0x314be0[_0x2f80b2(0x582)])?_0x276640=(0x0,kt['getMIMEType'])(_0xcfff30):_0x314be0['fileName']&&_0x314be0[_0x2f80b2(0x6cf)][_0x2f80b2(0x341)]('.')?_0x276640=(0x0,kt[_0x2f80b2(0xf4)])(_0x314be0['fileName']):_0x276640=(0x0,kt[_0x2f80b2(0xf4)])(_0x314be0[_0x2f80b2(0x582)]);let _0x3e53cd=yi,_0x2ed17a=tt;return _0x2ed17a&&this[_0x2f80b2(0x194)]['toLowerCase']()[_0x2f80b2(0x341)](_0x2ed17a[_0x2f80b2(0x18d)]())&&(_0x314be0[_0x2f80b2(0x200)]+='\x0a\x0a'+_0x3e53cd),_0x57b6af[_0x11ef13][_0x2f80b2(0x200)]=_0x314be0?.['caption'],_0x57b6af[_0x11ef13][_0x2f80b2(0x35f)]=_0x276640,_0x57b6af[_0x11ef13][_0x2f80b2(0x6cf)]=_0x314be0[_0x2f80b2(0x6cf)],_0x314be0[_0x2f80b2(0x27d)]===_0x2f80b2(0x4d1)&&(_0x57b6af[_0x11ef13][_0x2f80b2(0x3a3)]=Uint8Array['from']((0x0,xe['readFileSync'])((0x0,F[_0x2f80b2(0xdb)])(process[_0x2f80b2(0x10f)](),_0x2f80b2(0x5c4)))),_0x57b6af[_0x11ef13][_0x2f80b2(0x5fb)]=!0x1),(0x0,w['generateWAMessageFromContent'])('',{[_0x11ef13]:{..._0x57b6af[_0x11ef13]}},{'userJid':this[_0x2f80b2(0x6e9)][_0x2f80b2(0x4f9)]});}catch(_0x47e2ba){let _0x5e4fe5=_0x2f80b2(0x3b1),_0x78e0c4=_0x47e2ba instanceof Error?_0x47e2ba[_0x2f80b2(0x6b3)]:typeof _0x47e2ba==_0x2f80b2(0x666)?JSON['stringify'](_0x47e2ba):_0x47e2ba,_0x1d3605=_0x5e4fe5+':\x20'+_0x78e0c4;throw this[_0x2f80b2(0x48b)][_0x2f80b2(0x363)](this['instanceName']+'\x20('+this[_0x2f80b2(0x6e9)]['wuid']+'):\x20'+_0x1d3605),new I(_0x1d3605);}}async[a0_0x156424(0xb4)](_0x57a651){const _0x314af0=a0_0x156424;let _0xa1329a=await this[_0x314af0(0x66b)](_0x57a651[_0x314af0(0xb4)]);return await this[_0x314af0(0x6bb)](_0x57a651['number'],{..._0xa1329a[_0x314af0(0x6b3)]},_0x57a651?.[_0x314af0(0x47d)]);}async[a0_0x156424(0x635)](_0x2d0644,_0x20217e){const _0x45a5ff=a0_0x156424;try{this[_0x45a5ff(0x48b)][_0x45a5ff(0x361)](this[_0x45a5ff(0x194)]+'\x20('+this['instance'][_0x45a5ff(0x4f9)]+_0x45a5ff(0x4c5));let _0x269cb8,_0x4a8610=_0x20217e+'-'+new Date()[_0x45a5ff(0x6bd)]();this[_0x45a5ff(0x48b)][_0x45a5ff(0x361)](this[_0x45a5ff(0x194)]+'\x20('+this[_0x45a5ff(0x6e9)]['wuid']+'):Hash\x20to\x20image\x20name:\x20'+_0x4a8610);let _0x44bac4=''+(0x0,F[_0x45a5ff(0xdb)])(this['storePath'],_0x4a8610+_0x45a5ff(0x1a9));if(this[_0x45a5ff(0x48b)]['verbose'](this[_0x45a5ff(0x194)]+'\x20('+this['instance'][_0x45a5ff(0x4f9)]+_0x45a5ff(0x67c)+_0x44bac4),(0x0,P[_0x45a5ff(0x187)])(_0x2d0644)){this[_0x45a5ff(0x48b)][_0x45a5ff(0x361)](this[_0x45a5ff(0x194)]+'\x20('+this[_0x45a5ff(0x6e9)][_0x45a5ff(0x4f9)]+'):Image\x20is\x20base64');let _0x254065=_0x2d0644[_0x45a5ff(0x367)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x4c63c4=Buffer[_0x45a5ff(0x32d)](_0x254065,_0x45a5ff(0x5f9));_0x269cb8=''+(0x0,F[_0x45a5ff(0xdb)])(this[_0x45a5ff(0x353)],_0x45a5ff(0x756)+_0x4a8610+'.png'),this[_0x45a5ff(0x48b)][_0x45a5ff(0x361)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x45a5ff(0x583)+_0x269cb8),await(0x0,jt[_0x45a5ff(0x72b)])(_0x4c63c4)[_0x45a5ff(0x646)](_0x269cb8),this['logger'][_0x45a5ff(0x361)](this[_0x45a5ff(0x194)]+'\x20('+this[_0x45a5ff(0x6e9)][_0x45a5ff(0x4f9)]+_0x45a5ff(0x337));}else{this[_0x45a5ff(0x48b)][_0x45a5ff(0x361)](this[_0x45a5ff(0x194)]+'\x20('+this[_0x45a5ff(0x6e9)][_0x45a5ff(0x4f9)]+_0x45a5ff(0x591));let _0x143f46=new Date()[_0x45a5ff(0x6bd)](),_0x1451f8=_0x2d0644+_0x45a5ff(0x60e)+_0x143f46;this['logger'][_0x45a5ff(0x361)](this[_0x45a5ff(0x194)]+'\x20('+this[_0x45a5ff(0x6e9)][_0x45a5ff(0x4f9)]+_0x45a5ff(0x36f)+_0x1451f8);let _0x48fe2d=await K[_0x45a5ff(0x72b)][_0x45a5ff(0x2cb)](_0x1451f8,{'responseType':_0x45a5ff(0x719)});this[_0x45a5ff(0x48b)][_0x45a5ff(0x361)](this[_0x45a5ff(0x194)]+'\x20('+this[_0x45a5ff(0x6e9)][_0x45a5ff(0x4f9)]+'):Getting\x20image\x20from\x20url');let _0x512d1f=Buffer[_0x45a5ff(0x32d)](_0x48fe2d[_0x45a5ff(0x3cf)],_0x45a5ff(0x34a));_0x269cb8=''+(0x0,F['join'])(this[_0x45a5ff(0x353)],_0x45a5ff(0x756)+_0x4a8610+_0x45a5ff(0x27c)),this[_0x45a5ff(0x48b)][_0x45a5ff(0x361)](this[_0x45a5ff(0x194)]+'\x20('+this[_0x45a5ff(0x6e9)][_0x45a5ff(0x4f9)]+_0x45a5ff(0x583)+_0x269cb8),await(0x0,jt['default'])(_0x512d1f)['toFile'](_0x269cb8),this[_0x45a5ff(0x48b)][_0x45a5ff(0x361)](this[_0x45a5ff(0x194)]+'\x20('+this['instance'][_0x45a5ff(0x4f9)]+'):Image\x20created');}return await(0x0,jt[_0x45a5ff(0x72b)])(_0x269cb8)[_0x45a5ff(0x6a6)]()[_0x45a5ff(0x646)](_0x44bac4),this[_0x45a5ff(0x48b)][_0x45a5ff(0x361)](this[_0x45a5ff(0x194)]+'\x20('+this[_0x45a5ff(0x6e9)]['wuid']+_0x45a5ff(0x3b6)),j['unlinkSync'](_0x269cb8),this[_0x45a5ff(0x48b)]['verbose'](this[_0x45a5ff(0x194)]+'\x20('+this['instance'][_0x45a5ff(0x4f9)]+_0x45a5ff(0x693)),_0x44bac4;}catch(_0x13b631){let _0x1cde5b=_0x45a5ff(0x572),_0x112759=_0x13b631 instanceof Error?_0x13b631['message']:typeof _0x13b631==_0x45a5ff(0x666)?JSON['stringify'](_0x13b631):_0x13b631,_0x4e4a3b=_0x1cde5b+':\x20'+_0x112759;this['logger'][_0x45a5ff(0x363)](this[_0x45a5ff(0x194)]+'\x20('+this[_0x45a5ff(0x6e9)][_0x45a5ff(0x4f9)]+_0x45a5ff(0x5a6)+_0x4e4a3b);}}async[a0_0x156424(0x72c)](_0x23ec1d){const _0x54f57a=a0_0x156424;let _0xddb6ef=await this['convertToWebP'](_0x23ec1d['stickerMessage']['image'],_0x23ec1d[_0x54f57a(0xf2)]),_0x253ef8=await this[_0x54f57a(0x6bb)](_0x23ec1d[_0x54f57a(0xf2)],{'sticker':{'url':_0xddb6ef}},_0x23ec1d?.[_0x54f57a(0x47d)]);return j['unlinkSync'](_0xddb6ef),this[_0x54f57a(0x48b)][_0x54f57a(0x361)](this[_0x54f57a(0x194)]+'\x20('+this[_0x54f57a(0x6e9)][_0x54f57a(0x4f9)]+_0x54f57a(0x552)),_0x253ef8;}async[a0_0x156424(0x505)](_0x5e80d2){const _0x1fba4d=a0_0x156424;if(this[_0x1fba4d(0x48b)][_0x1fba4d(0x361)](this[_0x1fba4d(0x194)]+'\x20('+this['instance'][_0x1fba4d(0x4f9)]+_0x1fba4d(0x53e)),!_0x5e80d2[_0x1fba4d(0x47d)]?.[_0x1fba4d(0x61d)]&&_0x5e80d2[_0x1fba4d(0x47d)]?.[_0x1fba4d(0x61d)]!==!0x1&&(_0x5e80d2['options'][_0x1fba4d(0x61d)]=!0x0),_0x5e80d2[_0x1fba4d(0x47d)]?.[_0x1fba4d(0x61d)]){let _0x422abe=await this['convertaudio'](_0x5e80d2[_0x1fba4d(0x401)][_0x1fba4d(0x5f8)]);if(typeof _0x422abe==_0x1fba4d(0x40b)){let _0x25dce7=j[_0x1fba4d(0xde)](_0x422abe)[_0x1fba4d(0x50d)](_0x1fba4d(0x5f9));return this['sendMessageWithTyping'](_0x5e80d2[_0x1fba4d(0xf2)],{'audio':Buffer[_0x1fba4d(0x32d)](_0x25dce7,'base64'),'ptt':!0x0,'mimetype':_0x1fba4d(0x11c)},{'presence':'recording','delay':_0x5e80d2?.['options']?.['delay']});}else throw new I(_0x422abe);}return await this[_0x1fba4d(0x6bb)](_0x5e80d2[_0x1fba4d(0xf2)],{'audio':(0x0,P[_0x1fba4d(0x223)])(_0x5e80d2[_0x1fba4d(0x401)][_0x1fba4d(0x5f8)])?{'url':_0x5e80d2[_0x1fba4d(0x401)][_0x1fba4d(0x5f8)]}:Buffer[_0x1fba4d(0x32d)](_0x5e80d2[_0x1fba4d(0x401)][_0x1fba4d(0x5f8)],_0x1fba4d(0x5f9)),'ptt':!0x0,'mimetype':_0x1fba4d(0x11c)},{'presence':_0x1fba4d(0x2d9),'delay':_0x5e80d2?.[_0x1fba4d(0x47d)]?.['delay']});}async[a0_0x156424(0x786)](_0x44c65f){const _0x2ca9b0=a0_0x156424;this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x2ca9b0(0x6e9)][_0x2ca9b0(0x4f9)]+_0x2ca9b0(0x48e));let _0x32a1b9=(0x0,P[_0x2ca9b0(0x223)])(_0x44c65f)?(0x0,Ft['createHash'])(_0x2ca9b0(0x428))[_0x2ca9b0(0x2ab)](_0x44c65f)[_0x2ca9b0(0x115)](_0x2ca9b0(0x4d4)):(0x0,Ft['createHash'])(_0x2ca9b0(0x428))[_0x2ca9b0(0x2ab)](_0x44c65f)[_0x2ca9b0(0x115)]('hex'),_0x2b9273=''+(0x0,F[_0x2ca9b0(0xdb)])(this[_0x2ca9b0(0x353)],_0x32a1b9+_0x2ca9b0(0x574));if(j['existsSync'](_0x2b9273))return this[_0x2ca9b0(0x48b)]['verbose'](this[_0x2ca9b0(0x194)]+'\x20('+this[_0x2ca9b0(0x6e9)][_0x2ca9b0(0x4f9)]+_0x2ca9b0(0x59a)),_0x2b9273;let _0x10c92a=''+(0x0,F[_0x2ca9b0(0xdb)])(this[_0x2ca9b0(0x353)],_0x2ca9b0(0x756)+(0x0,Me['v4'])()+_0x2ca9b0(0x642));if((0x0,P[_0x2ca9b0(0x223)])(_0x44c65f)){let _0x41f9b5=new Date()[_0x2ca9b0(0x6bd)](),_0x23ebc8=_0x44c65f+_0x2ca9b0(0x60e)+_0x41f9b5,_0x4547d0=await K['default'][_0x2ca9b0(0x2cb)](_0x23ebc8,{'responseType':_0x2ca9b0(0x719)});j[_0x2ca9b0(0x616)](_0x10c92a,_0x4547d0['data']);}else{let _0x568b40=Buffer[_0x2ca9b0(0x32d)](_0x44c65f,'base64');j[_0x2ca9b0(0x616)](_0x10c92a,_0x568b40);}return new Promise((_0x1be181,_0x315c9c)=>{const _0x506444=_0x2ca9b0;(0x0,De[_0x506444(0xf1)])($s[_0x506444(0x72b)][_0x506444(0x1f5)]+_0x506444(0x311)+_0x10c92a+_0x506444(0x2fc)+_0x2b9273+_0x506444(0x68a),_0x280b9b=>{const _0x4f234d=_0x506444;if(j['unlinkSync'](_0x10c92a),_0x280b9b){this[_0x4f234d(0x48b)][_0x4f234d(0x361)](this['instanceName']+'\x20('+this[_0x4f234d(0x6e9)][_0x4f234d(0x4f9)]+_0x4f234d(0x5f1)),_0x315c9c(_0x280b9b);return;}this[_0x4f234d(0x48b)][_0x4f234d(0x361)](this[_0x4f234d(0x194)]+'\x20('+this['instance'][_0x4f234d(0x4f9)]+_0x4f234d(0x4fc)),_0x1be181(_0x2b9273);});});}async[a0_0x156424(0x383)](_0x27c7f1){const _0x442539=a0_0x156424;this['logger'][_0x442539(0x361)](this[_0x442539(0x194)]+'\x20('+this[_0x442539(0x6e9)][_0x442539(0x4f9)]+_0x442539(0x48e));let _0x52d79f=(0x0,Ft[_0x442539(0x3ff)])(_0x442539(0x428))[_0x442539(0x2ab)](_0x27c7f1)[_0x442539(0x115)]('hex'),_0x2e2369=''+(0x0,F[_0x442539(0xdb)])(this[_0x442539(0x353)],_0x52d79f+_0x442539(0x642));if(j[_0x442539(0x66d)](_0x2e2369))return this[_0x442539(0x48b)][_0x442539(0x361)](this[_0x442539(0x194)]+'\x20('+this[_0x442539(0x6e9)][_0x442539(0x4f9)]+_0x442539(0x59a)),F['default'][_0x442539(0x5b6)](_0x2e2369);let _0x2805ca=''+(0x0,F[_0x442539(0xdb)])(this[_0x442539(0x353)],'temp-'+_0x52d79f+_0x442539(0x574));if((0x0,P[_0x442539(0x223)])(_0x27c7f1)){let _0x297a69=new Date()['getTime'](),_0x4d261c=_0x27c7f1+'?timestamp='+_0x297a69,_0x1fef56=await K[_0x442539(0x72b)][_0x442539(0x2cb)](_0x4d261c,{'responseType':_0x442539(0x719)});j[_0x442539(0x616)](_0x2805ca,_0x1fef56[_0x442539(0x3cf)]);}else{let _0x46c149=Buffer['from'](_0x27c7f1,_0x442539(0x5f9));j['writeFileSync'](_0x2805ca,_0x46c149);}return new Promise((_0x5c341d,_0x4eb73f)=>{const _0x49d80e=_0x442539;(0x0,De['exec'])($s[_0x49d80e(0x72b)][_0x49d80e(0x1f5)]+_0x49d80e(0x311)+_0x2805ca+_0x49d80e(0x479)+_0x2e2369+_0x49d80e(0x68a),_0xce9cc=>{const _0x539aac=_0x49d80e;if(j[_0x539aac(0x6a1)](_0x2805ca),_0xce9cc){this[_0x539aac(0x48b)][_0x539aac(0x361)](this[_0x539aac(0x194)]+'\x20('+this[_0x539aac(0x6e9)][_0x539aac(0x4f9)]+_0x539aac(0x5f1)),_0x4eb73f(_0xce9cc);return;}this[_0x539aac(0x48b)][_0x539aac(0x361)](this[_0x539aac(0x194)]+'\x20('+this['instance'][_0x539aac(0x4f9)]+_0x539aac(0x4fc)),_0x5c341d(F[_0x539aac(0x72b)][_0x539aac(0x5b6)](_0x2e2369));});});}async[a0_0x156424(0x18a)](_0x42dea3){const _0x202eaf=a0_0x156424;let _0x3e8977={},_0x2db2b2=_0x202eaf(0x47c);if(_0x42dea3[_0x202eaf(0x18a)]?.['mediaMessage']){_0x2db2b2=_0x42dea3[_0x202eaf(0x18a)][_0x202eaf(0xb4)]?.[_0x202eaf(0x27d)][_0x202eaf(0x427)]()??_0x202eaf(0x47c),_0x3e8977[_0x202eaf(0x4ea)]=_0x2db2b2['toLowerCase']()+'Message';let _0x1acb2a=await this['prepareMediaMessage'](_0x42dea3['buttonMessage']['mediaMessage']);_0x3e8977['message']=_0x1acb2a[_0x202eaf(0x6b3)][_0x3e8977[_0x202eaf(0x4ea)]],_0x3e8977[_0x202eaf(0x770)]='*'+_0x42dea3[_0x202eaf(0x18a)][_0x202eaf(0x69f)]+_0x202eaf(0x1d4)+_0x42dea3[_0x202eaf(0x18a)][_0x202eaf(0x4bb)];}let _0x2b19d8={'text':_0x42dea3[_0x202eaf(0x18a)][_0x202eaf(0x59c)][_0x202eaf(0x5ad)](_0x493fba=>_0x493fba[_0x202eaf(0x621)]),'ids':_0x42dea3[_0x202eaf(0x18a)]['buttons'][_0x202eaf(0x5ad)](_0x2552bd=>_0x2552bd[_0x202eaf(0x403)])};if(!(0x0,P['arrayUnique'])(_0x2b19d8[_0x202eaf(0x727)])||!(0x0,P[_0x202eaf(0x4ec)])(_0x2b19d8[_0x202eaf(0x293)]))throw new m('Button\x20texts\x20cannot\x20be\x20repeated',_0x202eaf(0x37b));return await this[_0x202eaf(0x6bb)](_0x42dea3['number'],{'buttonsMessage':{'text':_0x3e8977?.['mediaKey']?void 0x0:_0x42dea3[_0x202eaf(0x18a)]['title'],'contentText':_0x3e8977?.['contentText']??_0x42dea3[_0x202eaf(0x18a)][_0x202eaf(0x4bb)],'footerText':_0x42dea3[_0x202eaf(0x18a)]?.[_0x202eaf(0x196)],'buttons':_0x42dea3[_0x202eaf(0x18a)][_0x202eaf(0x59c)][_0x202eaf(0x5ad)](_0x4b276b=>({'buttonText':{'displayText':_0x4b276b[_0x202eaf(0x621)]},'buttonId':_0x4b276b['buttonId'],'type':0x1})),'headerType':w[_0x202eaf(0x596)]['Message'][_0x202eaf(0x3a1)]['HeaderType'][_0x2db2b2],[_0x3e8977?.[_0x202eaf(0x4ea)]]:_0x3e8977?.['message']}},_0x42dea3?.[_0x202eaf(0x47d)]);}async['locationMessage'](_0x481ac8){const _0x14c5ce=a0_0x156424;return await this[_0x14c5ce(0x6bb)](_0x481ac8[_0x14c5ce(0xf2)],{'locationMessage':{'degreesLatitude':_0x481ac8[_0x14c5ce(0x222)][_0x14c5ce(0x5aa)],'degreesLongitude':_0x481ac8[_0x14c5ce(0x222)][_0x14c5ce(0x275)],'name':_0x481ac8[_0x14c5ce(0x222)]?.['name'],'address':_0x481ac8[_0x14c5ce(0x222)]?.[_0x14c5ce(0x70c)]}},_0x481ac8?.[_0x14c5ce(0x47d)]);}async[a0_0x156424(0x6f3)](_0x1a6dfe){const _0x5ab946=a0_0x156424;let _0x28bf43={},_0x5b4f56=async _0x57b304=>{const _0x45ff6d=a0_0x4ecf;let _0x33f2d1=_0x45ff6d(0x124)+_0x57b304['fullName']+_0x45ff6d(0x106)+_0x57b304[_0x45ff6d(0xfb)]+'\x0a';_0x57b304[_0x45ff6d(0x25f)]&&(_0x33f2d1+=_0x45ff6d(0x63f)+_0x57b304['organization']+';\x0a'),_0x57b304[_0x45ff6d(0x343)]&&(_0x33f2d1+=_0x45ff6d(0x3d9)+_0x57b304[_0x45ff6d(0x343)]+'\x0a'),_0x57b304[_0x45ff6d(0x1cf)]&&(_0x33f2d1+=_0x45ff6d(0x201)+_0x57b304[_0x45ff6d(0x1cf)]+'\x0a');let _0x314173='',_0x57d593=0x1;if(_0x57b304[_0x45ff6d(0x580)]){let _0x282406=_0x57b304[_0x45ff6d(0x580)][_0x45ff6d(0x277)]('|');for(let _0x118972 of _0x282406){let _0x262ba1=await this[_0x45ff6d(0x225)]({'numbers':[_0x118972]}),_0x201092=(_0x262ba1[_0x45ff6d(0x476)]>0x0?_0x262ba1[0x0][_0x45ff6d(0x2f4)]:this[_0x45ff6d(0x18e)](_0x118972))['replace'](_0x45ff6d(0x4e2),'');_0x314173+='item'+_0x57d593+_0x45ff6d(0x3fc)+_0x201092+':'+_0x118972+_0x45ff6d(0x412)+_0x57d593+_0x45ff6d(0x2ef),_0x57d593++;}}return _0x33f2d1+=_0x314173+_0x45ff6d(0x3ed),_0x33f2d1;};return _0x1a6dfe[_0x5ab946(0x6f3)]['length']===0x1?_0x28bf43[_0x5ab946(0x6f3)]={'displayName':_0x1a6dfe['contactMessage'][0x0][_0x5ab946(0xfb)],'vcard':await _0x5b4f56(_0x1a6dfe[_0x5ab946(0x6f3)][0x0])}:_0x28bf43[_0x5ab946(0x2ca)]={'displayName':_0x1a6dfe[_0x5ab946(0x6f3)][_0x5ab946(0x476)]+_0x5ab946(0x111),'contacts':await Promise[_0x5ab946(0x2b9)](_0x1a6dfe[_0x5ab946(0x6f3)][_0x5ab946(0x5ad)](async _0x34d851=>({'displayName':_0x34d851['fullName'],'vcard':await _0x5b4f56(_0x34d851)})))},await this[_0x5ab946(0x6bb)](_0x1a6dfe[_0x5ab946(0xf2)],{..._0x28bf43},_0x1a6dfe?.[_0x5ab946(0x47d)]);}async[a0_0x156424(0x6e4)](_0x19c414){const _0x24be93=a0_0x156424;return await this[_0x24be93(0x6bb)](_0x19c414['reactionMessage'][_0x24be93(0x13f)][_0x24be93(0x740)],{'reactionMessage':{'key':_0x19c414['reactionMessage']['key'],'text':_0x19c414['reactionMessage'][_0x24be93(0x393)]}});}async[a0_0x156424(0x225)](_0x516bfe){const _0x17c7be=a0_0x156424;let _0x24a31a=[];for await(let _0x28ca59 of _0x516bfe[_0x17c7be(0x6ff)]){let _0x2b4e28=this[_0x17c7be(0x18e)](_0x28ca59),_0x1b2038=!0x1;try{if((0x0,w[_0x17c7be(0x28c)])(_0x2b4e28)){let _0x488f2f=(await this[_0x17c7be(0x2c2)][_0x17c7be(0x2ea)][_0x17c7be(0x6d5)]({'where':{'_id':_0x2b4e28}},this[_0x17c7be(0x6e9)]['wuid']))[_0x17c7be(0x45a)];_0x1b2038=!!_0x488f2f?.['id']&&!!_0x488f2f?.[_0x17c7be(0x3b9)],_0x24a31a[_0x17c7be(0x211)](new ye(_0x488f2f['id'],_0x1b2038,_0x488f2f?.[_0x17c7be(0xdc)]));}else{let _0x415ff0=(await this['client'][_0x17c7be(0x4fe)](_0x2b4e28))[0x0];_0x1b2038=_0x415ff0[_0x17c7be(0x710)],_0x24a31a['push'](new ye(_0x415ff0[_0x17c7be(0x2f4)],_0x1b2038));}}catch{(0x0,w['isJidGroup'])(_0x2b4e28)||await this[_0x17c7be(0x18c)](_0x2b4e28,_0x1b2038),_0x24a31a['push'](new ye(_0x28ca59,!0x1));}}return _0x24a31a;}async[a0_0x156424(0x18c)](_0x152a53,_0x3b5bc7){const _0x14b417=a0_0x156424;try{await this[_0x14b417(0x2c2)][_0x14b417(0x2ea)][_0x14b417(0x6d5)]({'where':{'_id':_0x152a53,'imported':!0x0}},this[_0x14b417(0x6e9)][_0x14b417(0x4f9)])&&(_0x3b5bc7||(await this[_0x14b417(0x2c2)][_0x14b417(0x2ea)]['deleteChat'](_0x152a53,this[_0x14b417(0x6e9)][_0x14b417(0x4f9)]),this[_0x14b417(0x48b)][_0x14b417(0xf5)](_0x14b417(0x25d)+_0x152a53+'\x20foi\x20removido\x20por\x20não\x20ser\x20válido.')));}catch(_0x40ccc9){let _0x1589b2=_0x14b417(0x77d),_0x2433db=_0x40ccc9 instanceof Error?_0x40ccc9[_0x14b417(0x6b3)]:typeof _0x40ccc9=='object'?JSON[_0x14b417(0x389)](_0x40ccc9):_0x40ccc9,_0x7df529=_0x1589b2+':\x20'+_0x2433db;this[_0x14b417(0x48b)][_0x14b417(0x363)](this['instanceName']+'\x20('+this[_0x14b417(0x6e9)][_0x14b417(0x4f9)]+_0x14b417(0x5a6)+_0x7df529);}}async[a0_0x156424(0x307)](_0x4a32da){const _0x48c533=a0_0x156424;try{let _0x5deaa7=_0x4a32da[_0x48c533(0x62a)][_0x48c533(0x3f2)](_0x4c09dc=>(0x0,w[_0x48c533(0x28c)])(_0x4c09dc[_0x48c533(0x740)])||(0x0,w[_0x48c533(0x171)])(_0x4c09dc[_0x48c533(0x740)]))[_0x48c533(0x5ad)](_0x5b4297=>({'remoteJid':_0x5b4297[_0x48c533(0x740)],'fromMe':_0x5b4297[_0x48c533(0xf9)],'id':_0x5b4297['id']}));await this[_0x48c533(0x439)][_0x48c533(0x62a)](_0x5deaa7);let _0x4f8e59=_0x5deaa7[_0x48c533(0x5ad)](_0x4df41e=>this[_0x48c533(0x523)](_0x4df41e,{'status':_0x48c533(0x189),'owner':this['instance'][_0x48c533(0x4f9)]})),_0x2b959e=_0x5deaa7[_0x48c533(0x5ad)](_0x5f105d=>this[_0x48c533(0x2c2)][_0x48c533(0x2ea)]['updateOne']({'where':{'_id':_0x5f105d[_0x48c533(0x740)]}},{'unreadcount':0x0},this[_0x48c533(0x6e9)]['wuid'])),[_0x32aea9,_0x1c773c]=await Promise[_0x48c533(0x2b9)]([Promise[_0x48c533(0x2b9)](_0x4f8e59),Promise[_0x48c533(0x2b9)](_0x2b959e)]);return _0x1c773c[_0x48c533(0x3f2)](_0x443e84=>_0x443e84!==null)[_0x48c533(0x6cb)](_0x2b046c=>{const _0x46186f=_0x48c533;J(this[_0x46186f(0x194)],_0x46186f(0x348),{'chat':_0x2b046c});}),{'message':'Read\x20messages','read':_0x48c533(0x229)};}catch(_0x3e2abc){let _0x2deee9=_0x48c533(0x731),_0x1d9c6f=_0x3e2abc instanceof Error?_0x3e2abc[_0x48c533(0x6b3)]:typeof _0x3e2abc==_0x48c533(0x666)?JSON[_0x48c533(0x389)](_0x3e2abc):_0x3e2abc,_0x1c2b71=_0x2deee9+':\x20'+_0x1d9c6f;throw this[_0x48c533(0x48b)][_0x48c533(0x363)](this[_0x48c533(0x194)]+'\x20('+this['instance'][_0x48c533(0x4f9)]+_0x48c533(0x5a6)+_0x1c2b71),new I(_0x1c2b71);}}async[a0_0x156424(0x64c)](_0x5f5407){const _0x397fe6=a0_0x156424;let _0x17f5e0={'where':{'key':{'remoteJid':_0x5f5407}},'limit':0x1},_0xf630fb=await this[_0x397fe6(0x6a5)](_0x17f5e0);return _0xf630fb||(console[_0x397fe6(0x363)](_0x397fe6(0x1e7),_0x5f5407),null);}async[a0_0x156424(0x4fd)](_0x4c8b15){const _0x4ebe99=a0_0x156424;this[_0x4ebe99(0x48b)][_0x4ebe99(0x361)](this[_0x4ebe99(0x194)]+'\x20('+this[_0x4ebe99(0x6e9)][_0x4ebe99(0x4f9)]+_0x4ebe99(0x726));try{let _0x361ca3=_0x4c8b15[_0x4ebe99(0x25e)],_0x36d78f=_0x4c8b15[_0x4ebe99(0x2ea)];if(!_0x361ca3&&_0x36d78f?_0x361ca3=await this['getLastMessage'](_0x36d78f):(_0x361ca3=_0x4c8b15[_0x4ebe99(0x25e)],_0x361ca3[_0x4ebe99(0x3f9)]=_0x361ca3?.['messageTimestamp']??Date[_0x4ebe99(0x605)](),_0x36d78f=_0x361ca3?.[_0x4ebe99(0x13f)]?.[_0x4ebe99(0x740)]),!_0x361ca3||Object[_0x4ebe99(0x153)](_0x361ca3)[_0x4ebe99(0x476)]===0x0)throw new U(_0x4ebe99(0x3c3));this[_0x4ebe99(0x48b)][_0x4ebe99(0x361)](this[_0x4ebe99(0x194)]+'\x20('+this[_0x4ebe99(0x6e9)][_0x4ebe99(0x4f9)]+'):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x36d78f);try{await this[_0x4ebe99(0x439)]['chatModify']({'archive':_0x4c8b15[_0x4ebe99(0x477)],'lastMessages':[_0x361ca3]},this[_0x4ebe99(0x18e)](_0x36d78f));}catch(_0x3315c4){let _0x9e1594=_0x4ebe99(0x23e)+_0x36d78f,_0x166e77=_0x3315c4 instanceof Error?_0x3315c4['message']:typeof _0x3315c4==_0x4ebe99(0x666)?JSON[_0x4ebe99(0x389)](_0x3315c4):_0x3315c4,_0x53560d=_0x9e1594+':\x20'+_0x166e77;this[_0x4ebe99(0x48b)][_0x4ebe99(0x363)](this['instanceName']+'\x20('+this[_0x4ebe99(0x6e9)][_0x4ebe99(0x4f9)]+'):\x20'+_0x53560d);}this[_0x4ebe99(0x48b)]['verbose'](this[_0x4ebe99(0x194)]+'\x20('+this['instance']['wuid']+_0x4ebe99(0x5dd)+_0x36d78f);let _0x4a0e00=await this['repository'][_0x4ebe99(0x2ea)]['updateOne']({'where':{'_id':_0x361ca3?.[_0x4ebe99(0x13f)]?.['remoteJid']}},{'archived':_0x4c8b15['archive']},this[_0x4ebe99(0x6e9)][_0x4ebe99(0x4f9)]);return _0x4a0e00?(this[_0x4ebe99(0x48b)][_0x4ebe99(0x361)](this['instanceName']+'\x20('+this[_0x4ebe99(0x6e9)][_0x4ebe99(0x4f9)]+_0x4ebe99(0x16f)+JSON[_0x4ebe99(0x389)](_0x4a0e00)),J(this[_0x4ebe99(0x194)],'chats',{'chat':_0x4a0e00})):this[_0x4ebe99(0x48b)][_0x4ebe99(0x363)](this['instanceName']+'\x20('+this['instance'][_0x4ebe99(0x4f9)]+_0x4ebe99(0x33f)+_0x36d78f),{'chatId':_0x36d78f,'archived':_0x4c8b15[_0x4ebe99(0x477)]};}catch(_0x537190){let _0x282bbf='Erro\x20ao\x20arquivar\x20chat',_0x14321f=_0x537190 instanceof Error?_0x537190[_0x4ebe99(0x6b3)]:typeof _0x537190==_0x4ebe99(0x666)?JSON['stringify'](_0x537190):_0x537190,_0xfe4e5f=_0x282bbf+':\x20'+_0x14321f;throw this[_0x4ebe99(0x48b)][_0x4ebe99(0x363)](this['instanceName']+'\x20('+this[_0x4ebe99(0x6e9)][_0x4ebe99(0x4f9)]+_0x4ebe99(0x5a6)+_0xfe4e5f),new I(_0xfe4e5f);}}async['deleteChat'](_0x2270a7){const _0x1b9133=a0_0x156424;this[_0x1b9133(0x48b)][_0x1b9133(0x361)](this[_0x1b9133(0x194)]+'\x20('+this[_0x1b9133(0x6e9)]['wuid']+'):Delete\x20chat');try{let _0x10d117=await this['getLastMessage'](_0x2270a7);if(!_0x10d117||Object['keys'](_0x10d117)[_0x1b9133(0x476)]===0x0)throw new U(_0x1b9133(0x3c3));let _0x373bff=_0x10d117[0x0];this[_0x1b9133(0x48b)][_0x1b9133(0x361)](this[_0x1b9133(0x194)]+'\x20('+this[_0x1b9133(0x6e9)][_0x1b9133(0x4f9)]+_0x1b9133(0x405)+_0x2270a7);try{await this['client']['chatModify']({'delete':!0x0,'lastMessages':[{'key':_0x373bff['key'],'messageTimestamp':_0x373bff[_0x1b9133(0x3f9)]}]},this[_0x1b9133(0x18e)](_0x2270a7));}catch(_0x5de052){this[_0x1b9133(0x48b)]['error'](_0x1b9133(0x23e)+_0x2270a7+':\x20'+_0x5de052[_0x1b9133(0x50d)]());}this['logger'][_0x1b9133(0x361)](this[_0x1b9133(0x194)]+'\x20('+this[_0x1b9133(0x6e9)][_0x1b9133(0x4f9)]+_0x1b9133(0x5dd)+_0x2270a7);return;}catch(_0x301904){throw this[_0x1b9133(0x48b)]['error'](this['instanceName']+'\x20('+this[_0x1b9133(0x6e9)][_0x1b9133(0x4f9)]+_0x1b9133(0x508)+_0x301904[_0x1b9133(0x50d)]()),new I({'archived':!0x1,'message':['An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.',_0x301904[_0x1b9133(0x50d)]()]});}}async[a0_0x156424(0x6ee)](_0x2607a5){const _0x1a2297=a0_0x156424;try{let _0x3cb08a=await this['client'][_0x1a2297(0x266)](_0x2607a5[_0x1a2297(0x740)],{'delete':_0x2607a5});try{let _0x234863=await this[_0x1a2297(0x523)](_0x2607a5,{'status':_0x1a2297(0x592),'owner':this['instance'][_0x1a2297(0x4f9)]});this[_0x1a2297(0x48b)][_0x1a2297(0x361)](this['instanceName']+'\x20('+this['instance'][_0x1a2297(0x4f9)]+'):\x20updateResult:'+_0x234863);}catch(_0x43097b){console['error'](_0x1a2297(0x332),_0x43097b);}return _0x3cb08a;}catch(_0x13634f){throw new I('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x13634f?.[_0x1a2297(0x50d)]());}}async[a0_0x156424(0x3cd)](_0x18b3dc){const _0x2155c4=a0_0x156424;try{let _0x3ed6b6=_0x18b3dc?.['message']?_0x18b3dc:await this[_0x2155c4(0x1bb)](_0x18b3dc[_0x2155c4(0x13f)],!0x0);for(let _0x33606c of wa)_0x3ed6b6[_0x2155c4(0x6b3)][_0x33606c]&&(_0x3ed6b6['message']=_0x3ed6b6[_0x2155c4(0x6b3)][_0x33606c][_0x2155c4(0x6b3)]);let _0xf7f4cb,_0x4dbfb2;for(let _0x5d446f of fa)if(_0xf7f4cb=_0x3ed6b6[_0x2155c4(0x6b3)][_0x5d446f],_0xf7f4cb){_0x4dbfb2=_0x5d446f;break;}if(!_0xf7f4cb)throw _0x2155c4(0x326);typeof _0xf7f4cb['mediaKey']=='object'&&(_0x3ed6b6[_0x2155c4(0x6b3)]=JSON[_0x2155c4(0x3a0)](JSON[_0x2155c4(0x389)](_0x3ed6b6[_0x2155c4(0x6b3)])));let _0x395e14=await(0x0,w[_0x2155c4(0x54a)])({'key':_0x3ed6b6?.[_0x2155c4(0x13f)],'message':_0x3ed6b6?.[_0x2155c4(0x6b3)]},_0x2155c4(0x30e),{},{'logger':(0x0,Pt['default'])({'level':_0x2155c4(0xae)}),'reuploadRequest':this[_0x2155c4(0x439)][_0x2155c4(0x1ce)]});if(!(_0x395e14 instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x562e99=this['configService'][_0x2155c4(0x2cb)](_0x2155c4(0x3be)),_0x59e9bb,_0x271310;if(_0xf7f4cb[_0x2155c4(0x6cf)])_0x59e9bb=_0xf7f4cb[_0x2155c4(0x6cf)];else{let _0xdc6dee=_0xf7f4cb['mimetype']?.['match'](/\/(\w+)/),_0x27a859=_0xdc6dee?_0xdc6dee[0x1]:null;if(!_0x27a859)throw new Error(_0x2155c4(0x577));_0x59e9bb=(0x0,Me['v4'])()+'.'+_0x27a859;}_0x4dbfb2===_0x2155c4(0x401)?_0x271310=_0x2155c4(0x78c)+await this[_0x2155c4(0x383)](_0x395e14[_0x2155c4(0x50d)](_0x2155c4(0x5f9))):(await this[_0x2155c4(0x48d)](_0x395e14,_0x59e9bb),_0x271310=_0x2155c4(0x78c)+_0x59e9bb);let _0x1ea719=this[_0x2155c4(0x2b4)]['get'](_0x2155c4(0x14f))[_0x2155c4(0x723)];if(!_0x1ea719){let _0x28a515=this[_0x2155c4(0x2b4)][_0x2155c4(0x2cb)](_0x2155c4(0x65a));_0x1ea719=_0x2155c4(0x238)+(_0x28a515&&_0x28a515[_0x2155c4(0x4a3)][_0x2155c4(0x277)]('/')[0x4]);}_0x271310=''+_0x1ea719+_0x271310;let _0x7dfdf1=0xc*0x3c*0x3c*0x3e8,_0x5680bd={'where':{'_id':_0x3ed6b6['key']['id']}},_0x1ae8a0={'message_normalized.fileUrl':_0x271310,'message_normalized.expires_fileUrl':Date[_0x2155c4(0x605)]()+_0x7dfdf1};try{let _0xa950c3=await this[_0x2155c4(0x2c2)][_0x2155c4(0x6b3)][_0x2155c4(0x2ab)](_0x5680bd,_0x1ae8a0,this['instance'][_0x2155c4(0x4f9)]);_0xa950c3&&J(this[_0x2155c4(0x194)],_0x2155c4(0x1c8),{'message':_0xa950c3});}catch(_0x467137){let _0x5a3b94=_0x2155c4(0x108),_0x239597=_0x467137 instanceof Error?_0x467137[_0x2155c4(0x6b3)]:typeof _0x467137==_0x2155c4(0x666)?JSON[_0x2155c4(0x389)](_0x467137):_0x467137,_0x5a8b9f=_0x5a3b94+':\x20'+_0x239597;this['logger'][_0x2155c4(0x363)](this['instanceName']+'\x20('+this[_0x2155c4(0x6e9)][_0x2155c4(0x4f9)]+_0x2155c4(0x5a6)+_0x5a8b9f);}return{'mediaType':_0x4dbfb2,'fileName':_0xf7f4cb[_0x2155c4(0x6cf)],'caption':_0xf7f4cb['caption'],'size':{'fileLength':_0xf7f4cb['fileLength'],'height':_0xf7f4cb['height'],'width':_0xf7f4cb[_0x2155c4(0x3ce)]},'mimetype':_0xf7f4cb[_0x2155c4(0x35f)],'base64':_0x395e14[_0x2155c4(0x50d)]('base64'),'fileUrl':_0x271310,'expires_fileUrl':Date[_0x2155c4(0x605)]()+_0x7dfdf1};}catch(_0xc90d4){let _0x13bb21='Falha\x20ao\x20processar\x20a\x20solicitação',_0x2c8b08=_0xc90d4 instanceof Error?_0xc90d4[_0x2155c4(0x6b3)]:typeof _0xc90d4==_0x2155c4(0x666)?JSON[_0x2155c4(0x389)](_0xc90d4):_0xc90d4,_0x131e4f=_0x13bb21+':\x20'+_0x2c8b08;throw this['logger']['error'](this[_0x2155c4(0x194)]+'\x20('+this['instance'][_0x2155c4(0x4f9)]+_0x2155c4(0x5a6)+_0x131e4f),new m(_0x131e4f);}}async['saveMediaToFile'](_0x47a1ab,_0x1e7e66){const _0x28ae31=a0_0x156424;let _0x2ce326=F[_0x28ae31(0x72b)][_0x28ae31(0xdb)](__dirname,_0x28ae31(0x688));j['existsSync'](_0x2ce326)||j[_0x28ae31(0x25b)](_0x2ce326,{'recursive':!0x0});let _0x3fcda7=F[_0x28ae31(0x72b)][_0x28ae31(0xdb)](_0x2ce326,_0x1e7e66);return new Promise((_0x43106c,_0x27bb35)=>{const _0x522799=_0x28ae31;j[_0x522799(0x328)](_0x3fcda7,_0x47a1ab,_0x252f65=>{const _0x211b11=_0x522799;_0x252f65?(this['logger'][_0x211b11(0x363)](_0x211b11(0x3ea)+(_0x252f65 instanceof Error?_0x252f65[_0x211b11(0x6b3)]:JSON[_0x211b11(0x389)](_0x252f65,null,0x2))),_0x27bb35(_0x252f65)):(this['logger'][_0x211b11(0x155)](_0x211b11(0x19b)+_0x3fcda7),_0x43106c(_0x3fcda7));});});}async[a0_0x156424(0xed)](_0x19ddcb){const _0x4d343a=a0_0x156424;return await this['repository'][_0x4d343a(0x2e0)]['find'](_0x19ddcb,this[_0x4d343a(0x6e9)][_0x4d343a(0x4f9)]);}async[a0_0x156424(0x415)](){const _0x113d4c=a0_0x156424;return await this[_0x113d4c(0x2c2)][_0x113d4c(0x590)][_0x113d4c(0x5ae)]({'where':{}},this['instance'][_0x113d4c(0x4f9)]);}async[a0_0x156424(0x6a5)](_0x15e230){const _0x1264e=a0_0x156424;return await this[_0x1264e(0x2c2)]['message'][_0x1264e(0x5ae)](_0x15e230,this[_0x1264e(0x6e9)][_0x1264e(0x4f9)]);}async['fetchChats'](){const _0x41f052=a0_0x156424;return this[_0x41f052(0x2c2)]['chat'][_0x41f052(0x312)](this['instance']['wuid']),this[_0x41f052(0x2c2)][_0x41f052(0x2ea)][_0x41f052(0x5c1)](this[_0x41f052(0x6e9)][_0x41f052(0x4f9)]),this['repository'][_0x41f052(0x2ea)][_0x41f052(0x6e1)](this[_0x41f052(0x6e9)][_0x41f052(0x4f9)]),this[_0x41f052(0x2c2)]['chat'][_0x41f052(0x631)](this[_0x41f052(0x6e9)][_0x41f052(0x4f9)]),await this[_0x41f052(0x2c2)][_0x41f052(0x2ea)][_0x41f052(0x5ae)]({'where':{}},this['instance']['wuid']);}async[a0_0x156424(0x181)](_0x58700a){const _0xe8fdd6=a0_0x156424;try{if(!Array[_0xe8fdd6(0x2b8)](_0x58700a)||_0x58700a['length']===0x0)throw new Error(_0xe8fdd6(0x3cc));let _0x1db17c=[],_0x11250=[];for(let _0x4213a4 of _0x58700a){if(_0x4213a4[_0xe8fdd6(0x21c)])_0x4213a4['_id']=this[_0xe8fdd6(0x18e)](_0x4213a4[_0xe8fdd6(0x21c)]);else continue;await this[_0xe8fdd6(0x2c2)][_0xe8fdd6(0x2ea)][_0xe8fdd6(0x6d5)]({'where':{'_id':_0x4213a4[_0xe8fdd6(0x21c)]}},this[_0xe8fdd6(0x6e9)][_0xe8fdd6(0x4f9)])?_0x11250[_0xe8fdd6(0x211)]({'_id':_0x4213a4['_id'],'leadInfo':_0x4213a4['leadInfo'],'owner':this[_0xe8fdd6(0x6e9)][_0xe8fdd6(0x4f9)]}):_0x1db17c[_0xe8fdd6(0x211)]({'_id':_0x4213a4[_0xe8fdd6(0x21c)],'owner':this[_0xe8fdd6(0x6e9)]['wuid'],'leadInfo':_0x4213a4[_0xe8fdd6(0x753)],'imported':!0x0});}return _0x11250['length']>0x0&&await this['repository'][_0xe8fdd6(0x2ea)][_0xe8fdd6(0x2dc)](_0x11250[_0xe8fdd6(0x5ad)](_0x1d4ee9=>({'query':{'where':{'_id':_0x1d4ee9[_0xe8fdd6(0x21c)],'owner':this[_0xe8fdd6(0x6e9)][_0xe8fdd6(0x4f9)]}},'update':_0x1d4ee9}))),_0x1db17c[_0xe8fdd6(0x476)]>0x0&&await this[_0xe8fdd6(0x2c2)][_0xe8fdd6(0x2ea)][_0xe8fdd6(0x51e)](_0x1db17c,this['instance']['wuid']),{'updated':_0x11250[_0xe8fdd6(0x476)],'inserted':_0x1db17c['length']};}catch(_0x5b2f2d){let _0x20867e='Erro\x20ao\x20importar\x20chats',_0x39b6d4=_0x5b2f2d instanceof Error?_0x5b2f2d[_0xe8fdd6(0x6b3)]:typeof _0x5b2f2d==_0xe8fdd6(0x666)?JSON['stringify'](_0x5b2f2d):_0x5b2f2d,_0x485ecb=_0x20867e+':\x20'+_0x39b6d4;throw this['logger'][_0xe8fdd6(0x363)](this[_0xe8fdd6(0x194)]+'\x20('+this[_0xe8fdd6(0x6e9)][_0xe8fdd6(0x4f9)]+_0xe8fdd6(0x5a6)+_0x485ecb),new m(_0x485ecb);}}async[a0_0x156424(0x6c6)](_0x44da83){const _0x1fc0c7=a0_0x156424;try{if(!Array[_0x1fc0c7(0x2b8)](_0x44da83)||_0x44da83[_0x1fc0c7(0x476)]===0x0)throw new Error(_0x1fc0c7(0x3cc));let _0x5c9ff3=0x64,_0x2f0c24=0x0;for(let _0x3c2772=0x0;_0x3c2772<_0x44da83[_0x1fc0c7(0x476)];_0x3c2772+=_0x5c9ff3){let _0x13b683=_0x44da83['slice'](_0x3c2772,_0x3c2772+_0x5c9ff3),{updated:_0x1d87f4}=await this['importChatsBatch'](_0x13b683);_0x2f0c24+=_0x1d87f4;}return{'updated':_0x2f0c24};}catch(_0x4fa24){let _0xd9af70='Erro\x20ao\x20importar\x20chats',_0x2fc05b=_0x4fa24 instanceof Error?_0x4fa24[_0x1fc0c7(0x6b3)]:typeof _0x4fa24==_0x1fc0c7(0x666)?JSON[_0x1fc0c7(0x389)](_0x4fa24):_0x4fa24,_0x2ab276=_0xd9af70+':\x20'+_0x2fc05b;throw this[_0x1fc0c7(0x48b)][_0x1fc0c7(0x363)](this[_0x1fc0c7(0x194)]+'\x20('+this[_0x1fc0c7(0x6e9)][_0x1fc0c7(0x4f9)]+_0x1fc0c7(0x5a6)+_0x2ab276),new m(_0x2ab276);}}async[a0_0x156424(0x45f)](_0x5d9b83){const _0x22f9c4=a0_0x156424;try{let _0x55dfc7=await this[_0x22f9c4(0x2c2)][_0x22f9c4(0x590)]['find']({'where':{}},this['instance'][_0x22f9c4(0x4f9)]),_0xa32293=new Set(_0x55dfc7[_0x22f9c4(0x5ad)](_0xb201ee=>_0xb201ee['_id'])),_0xea2d0a=[],_0x3f6247=[];for(let _0x406a12 of _0x5d9b83){if(!_0x406a12[_0x22f9c4(0x21c)])continue;_0x406a12[_0x22f9c4(0x21c)]=this[_0x22f9c4(0x18e)](_0x406a12['_id']);let _0xe3c8dc=await this[_0x22f9c4(0x2c2)]['chat']['findOne']({'where':{'_id':_0x406a12[_0x22f9c4(0x21c)]}},this[_0x22f9c4(0x6e9)]['wuid']),_0x5108bb={};if(Object[_0x22f9c4(0xd5)](_0x406a12['leadInfo'])['forEach'](([_0x35a8aa,_0x58ce23])=>{const _0x533812=_0x22f9c4;_0x5108bb[_0x533812(0x3f6)+_0x35a8aa]=_0x58ce23;}),_0xe3c8dc&&!_0xe3c8dc[_0x22f9c4(0x27e)]){let _0x27952a=(_0x406a12['leadInfo'][_0x22f9c4(0xf0)]||[])[_0x22f9c4(0x3f2)](_0x84c5dc=>_0xa32293[_0x22f9c4(0x419)](_0x84c5dc)),_0x2ae05d=new Set(_0xe3c8dc[_0x22f9c4(0x753)][_0x22f9c4(0xf0)]||[]),_0x3d9e26=_0x27952a[_0x22f9c4(0x3f2)](_0x1e4efd=>!_0x2ae05d[_0x22f9c4(0x419)](_0x1e4efd)),_0x4b3d3f=[..._0x2ae05d][_0x22f9c4(0x3f2)](_0x5c32c9=>!_0x27952a[_0x22f9c4(0x341)](_0x5c32c9));_0x3f6247[_0x22f9c4(0x211)](..._0x3d9e26['map'](_0x5e4e4d=>this[_0x22f9c4(0x458)](_0x5e4e4d,_0x406a12['_id']))),_0x3f6247[_0x22f9c4(0x211)](..._0x4b3d3f[_0x22f9c4(0x5ad)](_0x54c86e=>this['RemoveChatLabel'](_0x54c86e,_0x406a12['_id']))),_0x406a12['leadInfo'][_0x22f9c4(0xf0)]=_0x27952a,_0xea2d0a[_0x22f9c4(0x211)]({'query':{'where':{'_id':_0x406a12[_0x22f9c4(0x21c)],'owner':this['instance']['wuid']}},'update':_0x5108bb});}else _0x5108bb['imported']=!0x0,_0xea2d0a[_0x22f9c4(0x211)]({'query':{'where':{'_id':_0x406a12[_0x22f9c4(0x21c)],'owner':this[_0x22f9c4(0x6e9)]['wuid']}},'update':_0x5108bb});}let _0x584635=await this['repository'][_0x22f9c4(0x2ea)][_0x22f9c4(0x2dc)](_0xea2d0a);return await Promise[_0x22f9c4(0x2b9)](_0x3f6247),{'updated':_0x584635};}catch(_0x2c7d8e){let _0x16583c=_0x22f9c4(0x2f8),_0x358688=_0x2c7d8e instanceof Error?_0x2c7d8e['message']:typeof _0x2c7d8e=='object'?JSON[_0x22f9c4(0x389)](_0x2c7d8e):_0x2c7d8e,_0x478f47=_0x16583c+':\x20'+_0x358688;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x22f9c4(0x6e9)][_0x22f9c4(0x4f9)]+_0x22f9c4(0x5a6)+_0x478f47),new m(_0x478f47);}}async[a0_0x156424(0x3d0)](){const _0x176507=a0_0x156424;return await this[_0x176507(0x439)][_0x176507(0x3d0)]();}async[a0_0x156424(0x3db)](_0x143212){const _0x515543=a0_0x156424;try{return await this[_0x515543(0x439)][_0x515543(0x75b)](_0x143212['privacySettings']['readreceipts']),await this[_0x515543(0x439)][_0x515543(0x625)](_0x143212[_0x515543(0x4af)]['profile']),await this[_0x515543(0x439)][_0x515543(0x151)](_0x143212['privacySettings'][_0x515543(0x2f7)]),await this[_0x515543(0x439)]['updateOnlinePrivacy'](_0x143212['privacySettings']['online']),await this[_0x515543(0x439)]['updateLastSeenPrivacy'](_0x143212['privacySettings'][_0x515543(0x734)]),await this[_0x515543(0x439)]['updateGroupsAddPrivacy'](_0x143212['privacySettings'][_0x515543(0x75c)]),this['client']?.['ws']?.[_0x515543(0x314)](),{'update':_0x515543(0x229),'data':{'readreceipts':_0x143212['privacySettings'][_0x515543(0x400)],'profile':_0x143212[_0x515543(0x4af)]['profile'],'status':_0x143212[_0x515543(0x4af)][_0x515543(0x2f7)],'online':_0x143212[_0x515543(0x4af)][_0x515543(0x5d0)],'last':_0x143212[_0x515543(0x4af)]['last'],'groupadd':_0x143212['privacySettings']['groupadd']}};}catch(_0x5cbb5e){let _0xa4a0be=_0x515543(0x1f7),_0x115cbc=_0x5cbb5e instanceof Error?_0x5cbb5e['message']:typeof _0x5cbb5e==_0x515543(0x666)?JSON[_0x515543(0x389)](_0x5cbb5e):_0x5cbb5e,_0x198838=_0xa4a0be+':\x20'+_0x115cbc;throw this[_0x515543(0x48b)][_0x515543(0x363)](this[_0x515543(0x194)]+'\x20('+this['instance']['wuid']+_0x515543(0x5a6)+_0x198838),new m(_0x198838);}}async['fetchProfile'](_0x3ff127){const _0x27b898=a0_0x156424;let _0x56d59c=(_0x3ff127?this[_0x27b898(0x18e)](_0x3ff127):this[_0x27b898(0x439)]?.['user']?.['id'])[_0x27b898(0x367)](/:\d{1,2}@/g,'@');this[_0x27b898(0x48b)][_0x27b898(0x361)](this[_0x27b898(0x194)]+'\x20('+this[_0x27b898(0x6e9)]['wuid']+'):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0x56d59c);let _0x2efa65=await this['repository']['contact'][_0x27b898(0x6d5)]({'where':{'_id':_0x56d59c}},this[_0x27b898(0x6e9)]['wuid']),_0xa89ba5=_0x2efa65?_0x2efa65['pushName']:null;try{let _0x1dd0c5=(await this[_0x27b898(0x225)]({'numbers':[_0x56d59c]}))?.[_0x27b898(0x571)](),_0x2a697b=(await this['findAndUpdateCacheContact'](_0x56d59c,null,!0x1))[_0x27b898(0x1aa)][_0x27b898(0x104)],_0x3a7b1a=await this[_0x27b898(0x5c2)](_0x1dd0c5?.[_0x27b898(0x2f4)]),_0x14e2fa=await this[_0x27b898(0x692)](_0x1dd0c5?.['jid']),_0x5eae63=(await this['findAndUpdateCacheContact'](_0x56d59c,null,!0x1))[_0x27b898(0x1aa)][_0x27b898(0x350)],_0x3e8a9c=await this[_0x27b898(0x2c2)][_0x27b898(0x2ea)][_0x27b898(0x6d5)]({'where':{'_id':_0x56d59c}},this[_0x27b898(0x6e9)]['wuid']),_0x17d956={'imagechat':_0x2a697b,'contactname':_0xa89ba5||null,'pushName':_0x5eae63,'status':_0x3a7b1a?.[_0x27b898(0x2f7)],'isBusiness':_0x14e2fa[_0x27b898(0x73d)],'email':_0x14e2fa?.[_0x27b898(0x343)],'description':_0x14e2fa?.['description'],'website':_0x14e2fa?.[_0x27b898(0x520)]?.['shift'](),'lastcache':Date[_0x27b898(0x605)](),'imported':!_0x3e8a9c},_0x3f2aba=await this[_0x27b898(0x2c2)]['chat']['updateOne']({'where':{'_id':_0x56d59c}},_0x17d956,this[_0x27b898(0x6e9)][_0x27b898(0x4f9)]),_0x195f43={'owner':this[_0x27b898(0x6e9)][_0x27b898(0x4f9)],'_id':_0x56d59c,'profilePictureUrl':_0x2a697b,'status':_0x3a7b1a?.['status']};return this[_0x27b898(0x2c2)][_0x27b898(0x2e0)][_0x27b898(0x2ab)]([_0x195f43],this[_0x27b898(0x6e9)][_0x27b898(0x4f9)]),_0x3f2aba&&J(this[_0x27b898(0x194)],_0x27b898(0x348),{'chat':_0x3f2aba}),{'wuid':_0x1dd0c5?.[_0x27b898(0x2f4)]||_0x56d59c,'name':_0x1dd0c5?.[_0x27b898(0x350)],'pushName':_0x5eae63,'numberExists':_0x1dd0c5?.['exists'],'picture':_0x2a697b,'status':_0x3a7b1a?.['status'],'isBusiness':_0x14e2fa[_0x27b898(0x73d)],'email':_0x14e2fa?.[_0x27b898(0x343)],'description':_0x14e2fa?.[_0x27b898(0x4bb)],'website':_0x14e2fa?.[_0x27b898(0x520)]?.[_0x27b898(0x571)]()};}catch(_0x26d883){return this[_0x27b898(0x48b)][_0x27b898(0x363)](_0x27b898(0x6ce)+(_0x26d883 instanceof Error?_0x26d883[_0x27b898(0x6b3)]:JSON[_0x27b898(0x389)](_0x26d883,null,0x2))),{};}}async['fetchBusinessProfile'](_0x571c45){const _0x307566=a0_0x156424;this[_0x307566(0x48b)][_0x307566(0x361)](this[_0x307566(0x194)]+'\x20('+this['instance']['wuid']+_0x307566(0x2b0));try{let _0x3eaf00=_0x571c45?this[_0x307566(0x18e)](_0x571c45):this[_0x307566(0x6e9)]['wuid'],_0x2e0335=await this[_0x307566(0x439)]['getBusinessProfile'](_0x3eaf00);return this[_0x307566(0x48b)][_0x307566(0x361)](this[_0x307566(0x194)]+'\x20('+this['instance'][_0x307566(0x4f9)]+_0x307566(0x5bb)),_0x2e0335?(this[_0x307566(0x48b)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x307566(0x4f9)]+'):Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x2e0335}):{'isBusiness':!0x1,'message':_0x307566(0x57d),...(await this[_0x307566(0x225)]({'numbers':[_0x3eaf00]}))?.['shift']()};}catch(_0x5ba6fd){let _0x26f8c4=_0x307566(0x724),_0x25b401=_0x5ba6fd instanceof Error?_0x5ba6fd['message']:typeof _0x5ba6fd==_0x307566(0x666)?JSON[_0x307566(0x389)](_0x5ba6fd):_0x5ba6fd,_0x7eeef3=_0x26f8c4+':\x20'+_0x25b401;throw this['logger'][_0x307566(0x363)](this[_0x307566(0x194)]+'\x20('+this['instance'][_0x307566(0x4f9)]+_0x307566(0x5a6)+_0x7eeef3),new I(_0x7eeef3);}}async['getStatus'](_0x15bebb){const _0x13a4ce=a0_0x156424;let _0x419aa8=this[_0x13a4ce(0x18e)](_0x15bebb);try{return{'wuid':_0x419aa8,'status':(await this[_0x13a4ce(0x439)]['fetchStatus'](_0x419aa8))?.['status']};}catch{return{'wuid':_0x419aa8,'status':null};}}async['updateProfileName'](_0x1c2d5d){const _0x33c6bd=a0_0x156424;try{return await this[_0x33c6bd(0x439)][_0x33c6bd(0x67a)](_0x1c2d5d),{'update':_0x33c6bd(0x229)};}catch(_0x4ba3b6){let _0xa8c774=_0x33c6bd(0x624),_0x2c41dd=_0x4ba3b6 instanceof Error?_0x4ba3b6[_0x33c6bd(0x6b3)]:typeof _0x4ba3b6==_0x33c6bd(0x666)?JSON[_0x33c6bd(0x389)](_0x4ba3b6):_0x4ba3b6,_0x8a5a4d=_0xa8c774+':\x20'+_0x2c41dd;throw this[_0x33c6bd(0x48b)][_0x33c6bd(0x363)](this['instanceName']+'\x20('+this['instance'][_0x33c6bd(0x4f9)]+_0x33c6bd(0x5a6)+_0x8a5a4d),new I(_0x8a5a4d);}}async[a0_0x156424(0x538)](_0x2bdd3e){const _0x2e5072=a0_0x156424;try{return await this[_0x2e5072(0x439)]['updateProfileStatus'](_0x2bdd3e),{'update':_0x2e5072(0x229)};}catch(_0x50ffc9){let _0x57b92c=_0x2e5072(0x699),_0x2eacab=_0x50ffc9 instanceof Error?_0x50ffc9[_0x2e5072(0x6b3)]:typeof _0x50ffc9==_0x2e5072(0x666)?JSON['stringify'](_0x50ffc9):_0x50ffc9,_0x4688b3=_0x57b92c+':\x20'+_0x2eacab;throw this[_0x2e5072(0x48b)]['error'](this[_0x2e5072(0x194)]+'\x20('+this[_0x2e5072(0x6e9)]['wuid']+'):\x20'+_0x4688b3),new I(_0x4688b3);}}async['updateProfilePicture'](_0x1512be){const _0x2d884d=a0_0x156424;try{let _0x256726;if((0x0,P[_0x2d884d(0x223)])(_0x1512be)){let _0x3ecbb7=new Date()[_0x2d884d(0x6bd)](),_0x369bae=_0x1512be+_0x2d884d(0x60e)+_0x3ecbb7;_0x256726=(await K['default'][_0x2d884d(0x2cb)](_0x369bae,{'responseType':_0x2d884d(0x719)}))[_0x2d884d(0x3cf)];}else{if((0x0,P[_0x2d884d(0x187)])(_0x1512be))_0x256726=Buffer[_0x2d884d(0x32d)](_0x1512be,'base64');else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x2d884d(0x439)][_0x2d884d(0x4fa)](this['instance']['wuid'],_0x256726),{'update':_0x2d884d(0x229)};}catch(_0x47131d){let _0x461281=_0x2d884d(0x46f),_0xfdb447=_0x47131d instanceof Error?_0x47131d[_0x2d884d(0x6b3)]:typeof _0x47131d==_0x2d884d(0x666)?JSON[_0x2d884d(0x389)](_0x47131d):_0x47131d,_0x29c3a1=_0x461281+':\x20'+_0xfdb447;throw this[_0x2d884d(0x48b)][_0x2d884d(0x363)](this[_0x2d884d(0x194)]+'\x20('+this[_0x2d884d(0x6e9)]['wuid']+_0x2d884d(0x5a6)+_0x29c3a1),new I(_0x29c3a1);}}async['removeProfilePicture'](){const _0x1600c5=a0_0x156424;try{return await this[_0x1600c5(0x439)][_0x1600c5(0xd2)](this[_0x1600c5(0x6e9)]['wuid']),{'update':'success'};}catch(_0x3197bd){let _0x24d2ee='Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture',_0x314458=_0x3197bd instanceof Error?_0x3197bd[_0x1600c5(0x6b3)]:typeof _0x3197bd==_0x1600c5(0x666)?JSON[_0x1600c5(0x389)](_0x3197bd):_0x3197bd,_0x4e1fee=_0x24d2ee+':\x20'+_0x314458;throw this[_0x1600c5(0x48b)][_0x1600c5(0x363)](this[_0x1600c5(0x194)]+'\x20('+this[_0x1600c5(0x6e9)]['wuid']+_0x1600c5(0x5a6)+_0x4e1fee),new I(_0x4e1fee);}}async['createGroup'](_0x109fcb){const _0x36ed3b=a0_0x156424;try{let _0x2de78d=(await this[_0x36ed3b(0x225)]({'numbers':_0x109fcb[_0x36ed3b(0x573)]}))[_0x36ed3b(0x3f2)](_0x122b4c=>_0x122b4c[_0x36ed3b(0x710)])[_0x36ed3b(0x5ad)](_0x443fba=>_0x443fba['jid']),{id:_0x410689}=await this[_0x36ed3b(0x439)]['groupCreate'](_0x109fcb[_0x36ed3b(0xdc)],_0x2de78d);_0x109fcb?.[_0x36ed3b(0x4bb)]&&await this[_0x36ed3b(0x439)][_0x36ed3b(0x382)](_0x410689,_0x109fcb['description']);let _0x26b664=await this[_0x36ed3b(0x439)][_0x36ed3b(0x250)](_0x410689);return _0x26b664[_0x36ed3b(0x6aa)]=[],{'metadata':_0x26b664};}catch(_0x5fd4db){let _0x56f059=_0x36ed3b(0x20a),_0x1b0030=_0x5fd4db instanceof Error?_0x5fd4db['message']:typeof _0x5fd4db==_0x36ed3b(0x666)?JSON[_0x36ed3b(0x389)](_0x5fd4db):_0x5fd4db,_0x3acc2a=_0x56f059+':\x20'+_0x1b0030;throw this['logger']['error'](this[_0x36ed3b(0x194)]+'\x20('+this[_0x36ed3b(0x6e9)][_0x36ed3b(0x4f9)]+'):\x20'+_0x3acc2a),new I(_0x3acc2a);}}async[a0_0x156424(0x453)](_0x2a4a13){const _0x35946f=a0_0x156424;try{if(_0x2a4a13['restrict']===!0x0&&await this[_0x35946f(0x439)][_0x35946f(0x44d)](_0x2a4a13[_0x35946f(0x672)],_0x35946f(0x4ba)),_0x2a4a13[_0x35946f(0x500)]===!0x1&&await this[_0x35946f(0x439)][_0x35946f(0x44d)](_0x2a4a13[_0x35946f(0x672)],_0x35946f(0x359)),_0x2a4a13[_0x35946f(0x6c2)]===!0x0&&await this[_0x35946f(0x439)][_0x35946f(0x44d)](_0x2a4a13[_0x35946f(0x672)],_0x35946f(0x256)),_0x2a4a13[_0x35946f(0x6c2)]===!0x1&&await this[_0x35946f(0x439)][_0x35946f(0x44d)](_0x2a4a13[_0x35946f(0x672)],'not_announcement'),_0x2a4a13[_0x35946f(0x4c8)]===!0x0&&await this['client'][_0x35946f(0x548)](_0x2a4a13['groupJid'],_0x35946f(0x173)),_0x2a4a13['memberAddMode']===!0x1&&await this[_0x35946f(0x439)][_0x35946f(0x548)](_0x2a4a13[_0x35946f(0x672)],'admin_add'),_0x2a4a13[_0x35946f(0x2a0)]===!0x0&&await this[_0x35946f(0x439)][_0x35946f(0x716)](_0x2a4a13[_0x35946f(0x672)],'on'),_0x2a4a13[_0x35946f(0x2a0)]===!0x1&&await this[_0x35946f(0x439)][_0x35946f(0x716)](_0x2a4a13[_0x35946f(0x672)],_0x35946f(0x4c4)),typeof _0x2a4a13[_0x35946f(0x737)]<'u'&&_0x2a4a13['expiration']!==null&&await this[_0x35946f(0x439)][_0x35946f(0x292)](_0x2a4a13['groupJid'],_0x2a4a13[_0x35946f(0x737)]),_0x2a4a13['name']&&await this[_0x35946f(0x439)]['groupUpdateSubject'](_0x2a4a13['groupJid'],_0x2a4a13[_0x35946f(0x350)]),_0x2a4a13[_0x35946f(0x4bb)]&&await this[_0x35946f(0x439)][_0x35946f(0x382)](_0x2a4a13[_0x35946f(0x672)],_0x2a4a13[_0x35946f(0x4bb)]),_0x2a4a13[_0x35946f(0x49c)]){let _0x11819a;if((0x0,P['isURL'])(_0x2a4a13[_0x35946f(0x49c)])){let _0x5a2759=new Date()[_0x35946f(0x6bd)](),_0x1f3780=_0x2a4a13[_0x35946f(0x49c)]+'?timestamp='+_0x5a2759;_0x11819a=(await K[_0x35946f(0x72b)][_0x35946f(0x2cb)](_0x1f3780,{'responseType':_0x35946f(0x719)}))[_0x35946f(0x3cf)];}else{if((0x0,P[_0x35946f(0x187)])(_0x2a4a13['image']))_0x11819a=Buffer[_0x35946f(0x32d)](_0x2a4a13[_0x35946f(0x49c)],'base64');else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}await this[_0x35946f(0x439)][_0x35946f(0x4fa)](_0x2a4a13[_0x35946f(0x672)],_0x11819a);}return await this[_0x35946f(0x685)]({'groupJid':_0x2a4a13[_0x35946f(0x672)]});}catch(_0x298d61){let _0x4db4eb=_0x35946f(0x2b3),_0x428f11=_0x298d61 instanceof Error?_0x298d61[_0x35946f(0x6b3)]:typeof _0x298d61==_0x35946f(0x666)?JSON[_0x35946f(0x389)](_0x298d61):_0x298d61,_0x92cb1=_0x4db4eb+':\x20'+_0x428f11;throw this[_0x35946f(0x48b)][_0x35946f(0x363)](this[_0x35946f(0x194)]+'\x20('+this[_0x35946f(0x6e9)][_0x35946f(0x4f9)]+'):\x20'+_0x92cb1),new I(_0x92cb1);}}async[a0_0x156424(0x438)](_0x205efe){const _0x8c8182=a0_0x156424;try{if(_0x205efe[_0x8c8182(0x366)]===_0x8c8182(0x38a)||_0x205efe[_0x8c8182(0x366)]===_0x8c8182(0x647)){let _0x350730=_0x205efe[_0x8c8182(0x573)]['map'](_0x23d066=>this[_0x8c8182(0x18e)](_0x23d066));await this[_0x8c8182(0x439)][_0x8c8182(0x5af)](_0x205efe[_0x8c8182(0x672)],_0x350730,_0x205efe['action']);}else{if(_0x205efe[_0x8c8182(0x366)]===_0x8c8182(0x364)){let _0x2e71a3=(await this[_0x8c8182(0x225)]({'numbers':_0x205efe['participants']}))[_0x8c8182(0x3f2)](_0x2caa2b=>_0x2caa2b[_0x8c8182(0x710)])[_0x8c8182(0x5ad)](_0x4d5212=>this[_0x8c8182(0x18e)](_0x4d5212[_0x8c8182(0x2f4)]));if(_0x2e71a3[_0x8c8182(0x476)]===0x0)throw new m(_0x8c8182(0x1df));await this['client'][_0x8c8182(0x327)](_0x205efe[_0x8c8182(0x672)],_0x2e71a3,'add');}else{let _0x14cc67=_0x205efe[_0x8c8182(0x573)]['map'](_0x4d44db=>this[_0x8c8182(0x18e)](_0x4d44db));await this['client']['groupParticipantsUpdate'](_0x205efe[_0x8c8182(0x672)],_0x14cc67,_0x205efe[_0x8c8182(0x366)]);}}return await this[_0x8c8182(0x685)]({'groupJid':_0x205efe[_0x8c8182(0x672)]});}catch(_0x25ca66){let _0x398f04=_0x8c8182(0xc9),_0x1aa970=_0x25ca66 instanceof Error?_0x25ca66[_0x8c8182(0x6b3)]:typeof _0x25ca66==_0x8c8182(0x666)?JSON[_0x8c8182(0x389)](_0x25ca66):_0x25ca66,_0x2fad36=_0x398f04+':\x20'+_0x1aa970;throw this[_0x8c8182(0x48b)][_0x8c8182(0x363)](this[_0x8c8182(0x194)]+'\x20('+this[_0x8c8182(0x6e9)]['wuid']+_0x8c8182(0x5a6)+_0x2fad36),new m(_0x2fad36);}}async[a0_0x156424(0x6d4)](_0x5cab10){const _0x458062=a0_0x156424;try{return await this['client'][_0x458062(0x6d4)](_0x5cab10[_0x458062(0x2eb)]);}catch(_0x32bb4f){let _0x12e806=_0x458062(0x59d),_0x1d444f=_0x32bb4f instanceof Error?_0x32bb4f['message']:typeof _0x32bb4f==_0x458062(0x666)?JSON[_0x458062(0x389)](_0x32bb4f):_0x32bb4f,_0x461d96=_0x12e806+':\x20'+_0x1d444f;throw this['logger'][_0x458062(0x363)](this[_0x458062(0x194)]+'\x20('+this[_0x458062(0x6e9)]['wuid']+_0x458062(0x5a6)+_0x461d96),new m(_0x461d96);}}async[a0_0x156424(0x685)](_0x302750,_0x26d9d1=a0_0x156424(0x344)){const _0x40cc65=a0_0x156424;try{let _0x135394=await this[_0x40cc65(0x2c2)][_0x40cc65(0x2ea)][_0x40cc65(0x6d5)]({'where':{'_id':_0x302750[_0x40cc65(0x672)]}},this['instance'][_0x40cc65(0x4f9)]),_0x1c4066=_0x135394?_0x135394[_0x40cc65(0x45a)]:null,_0x2b9965=0x18*0x3c*0x3c*0x3e8;if(!_0x1c4066||_0x1c4066[_0x40cc65(0x49a)]&&Date[_0x40cc65(0x605)]()-_0x1c4066[_0x40cc65(0x49a)]>_0x2b9965){let _0x3f4e46=await this[_0x40cc65(0x439)][_0x40cc65(0x250)](_0x302750['groupJid']);if(_0x3f4e46[_0x40cc65(0x165)]=_0x3f4e46?.[_0x40cc65(0x165)]&&_0x3f4e46[_0x40cc65(0x165)][_0x40cc65(0x50d)]()[_0x40cc65(0x476)]<0xd?_0x3f4e46?.['subjectTime']*0x3e8:_0x3f4e46?.[_0x40cc65(0x165)]||null,_0x3f4e46['creation']=_0x3f4e46?.['creation']&&_0x3f4e46[_0x40cc65(0xc8)]['toString']()[_0x40cc65(0x476)]<0xd?_0x3f4e46?.['creation']*0x3e8:_0x3f4e46?.['creation']||null,_0x1c4066={..._0x3f4e46,'lastUpdate':Date[_0x40cc65(0x605)]()},!_0x3f4e46)return;}let _0x9a385d=_0x1c4066[_0x40cc65(0x573)][_0x40cc65(0x2d6)](_0x43a204=>_0x43a204['id']===this[_0x40cc65(0x6e9)][_0x40cc65(0x4f9)]+_0x40cc65(0x4e2)&&_0x43a204[_0x40cc65(0x534)]!=null);!_0x1c4066['inviteCode']&&_0x9a385d&&(_0x1c4066[_0x40cc65(0x2eb)]=(await this[_0x40cc65(0x2eb)](_0x302750,!0x1))['inviteUrl']);let _0x510923=(!_0x1c4066[_0x40cc65(0x6c2)]||_0x9a385d)&&(!_0x1c4066[_0x40cc65(0x129)]||_0x1c4066[_0x40cc65(0x129)]&&_0x1c4066[_0x40cc65(0x558)]&&_0x9a385d);_0x1c4066['isAdmin']=_0x9a385d,_0x1c4066['canSendMessage']=_0x510923;let _0x2d98c8=[];if(_0x9a385d&&_0x1c4066[_0x40cc65(0x2a0)])try{_0x2d98c8=await this[_0x40cc65(0x439)][_0x40cc65(0x218)](_0x302750['groupJid']),_0x1c4066[_0x40cc65(0x721)]=Date[_0x40cc65(0x605)]();}catch(_0x4b05d6){this[_0x40cc65(0x48b)]['verbose'](this[_0x40cc65(0x194)]+'\x20('+this[_0x40cc65(0x6e9)][_0x40cc65(0x4f9)]+_0x40cc65(0x4a9)+_0x302750[_0x40cc65(0x672)]+':\x20'+(_0x4b05d6 instanceof Error?_0x4b05d6[_0x40cc65(0x6b3)]:JSON['stringify'](_0x4b05d6,null,0x2)));}try{_0x1c4066[_0x40cc65(0x49c)]=(await this[_0x40cc65(0x11f)](_0x302750[_0x40cc65(0x672)],null,!0x0))[_0x40cc65(0x1aa)][_0x40cc65(0x104)];}catch(_0x15de5f){this[_0x40cc65(0x48b)]['verbose'](this[_0x40cc65(0x194)]+'\x20('+this[_0x40cc65(0x6e9)]['wuid']+_0x40cc65(0x29a)+_0x302750['groupJid']+':\x20'+(_0x15de5f instanceof Error?_0x15de5f[_0x40cc65(0x6b3)]:JSON[_0x40cc65(0x389)](_0x15de5f,null,0x2)));}let _0x590216=_0x1c4066[_0x40cc65(0x573)]['map'](_0x41e6ae=>_0x41e6ae['id']),_0x111998=_0x2d98c8[_0x40cc65(0x5ad)](_0x10deb3=>_0x10deb3[_0x40cc65(0x2f4)]),_0x1c1674=await this[_0x40cc65(0x2c2)][_0x40cc65(0x645)][_0x40cc65(0x607)]([..._0x590216,..._0x111998]);_0x1c4066[_0x40cc65(0x573)]=_0x1c4066[_0x40cc65(0x573)]['map'](_0x33702a=>{const _0x522afe=_0x40cc65;let _0x118c84=_0x1c1674['find'](_0xdff0de=>_0xdff0de[_0x522afe(0x21c)]===_0x33702a['id']);return{'id':_0x33702a['id'],'isAdmin':[_0x522afe(0x534),_0x522afe(0x260)][_0x522afe(0x341)](_0x33702a['admin']),'admin':_0x33702a[_0x522afe(0x534)],'pushName':_0x118c84?.['name'],'profilePictureUrl':_0x118c84?.[_0x522afe(0x104)]};}),_0x1c4066[_0x40cc65(0x6aa)]=_0x2d98c8[_0x40cc65(0x5ad)](_0x5388a8=>{const _0x5acba7=_0x40cc65;let _0x5bd5a6=_0x1c1674[_0x5acba7(0x5ae)](_0x1c2d1c=>_0x1c2d1c[_0x5acba7(0x21c)]===_0x5388a8[_0x5acba7(0x2f4)]);return{'id':_0x5388a8[_0x5acba7(0x2f4)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x5bd5a6?.[_0x5acba7(0x350)],'profilePictureUrl':_0x5bd5a6?.[_0x5acba7(0x104)],'request_method':_0x5388a8[_0x5acba7(0x416)],'request_time':_0x5388a8['request_time']};});let _0x43a119=await this[_0x40cc65(0x2c2)][_0x40cc65(0x2ea)][_0x40cc65(0x2e5)]({'where':{'_id':_0x302750[_0x40cc65(0x672)]}},{'imagechat':_0x1c4066[_0x40cc65(0x49c)],'name':_0x1c4066[_0x40cc65(0xdc)],'lastcache':Date[_0x40cc65(0x605)](),'groupdata':_0x1c4066},this[_0x40cc65(0x6e9)]['wuid']);return J(this[_0x40cc65(0x194)],_0x40cc65(0x348),{'chat':_0x43a119}),{'metadata':_0x1c4066};}catch(_0x118b6f){if(_0x26d9d1===_0x40cc65(0x617))return;throw new U('Error\x20fetching\x20group',_0x118b6f[_0x40cc65(0x6b3)]['toString']());}}async[a0_0x156424(0x496)](){const _0x340224=a0_0x156424;try{let _0x4c485b=[],_0x270e1f=await this[_0x340224(0x439)]['groupFetchAllParticipating'](),_0x438e43=Object['values'](_0x270e1f),_0x32599b=_0x438e43[_0x340224(0x3f2)](_0x2c0c13=>(0x0,w[_0x340224(0x28c)])(_0x2c0c13?.['id']))[_0x340224(0x5ad)](async _0x8f38de=>{const _0xfb30b0=_0x340224;try{return await this['client'][_0xfb30b0(0x1ae)](_0x8f38de['id'],_0xfb30b0(0x5a8));}catch(_0x13363b){return this[_0xfb30b0(0x48b)]['verbose'](this['instanceName']+'\x20('+this[_0xfb30b0(0x6e9)][_0xfb30b0(0x4f9)]+_0xfb30b0(0x29a)+_0x8f38de['id']+':\x20'+(_0x13363b instanceof Error?_0x13363b[_0xfb30b0(0x6b3)]:JSON['stringify'](_0x13363b,null,0x2))),null;}}),_0x40697b=await Promise[_0x340224(0x2b9)](_0x32599b);for(let _0x58512a=0x0;_0x58512a<_0x438e43[_0x340224(0x476)];_0x58512a++){let _0x3e4bff=_0x438e43[_0x58512a];(0x0,w[_0x340224(0x28c)])(_0x3e4bff?.['id'])&&(_0x4c485b['push']({'groupJid':_0x3e4bff?.['id'],'subject':_0x3e4bff?.['subject'],'subjectOwner':_0x3e4bff?.[_0x340224(0x125)]?.[_0x340224(0x277)]('@')[0x0],'subjectTime':_0x3e4bff?.[_0x340224(0x165)],'creation':_0x3e4bff?.[_0x340224(0xc8)],'size':_0x3e4bff?.[_0x340224(0x573)]?.['length'],'owner':_0x3e4bff?.[_0x340224(0x585)]?.[_0x340224(0x277)]('@')[0x0],'desc':_0x3e4bff?.[_0x340224(0x74f)],'restrict':_0x3e4bff?.['restrict'],'announce':_0x3e4bff?.['announce'],'image':_0x40697b[_0x58512a],'isCommunity':_0x3e4bff?.[_0x340224(0x129)],'joinApprovalMode':_0x3e4bff?.[_0x340224(0x2a0)],'memberCanAddParticipant':_0x3e4bff?.[_0x340224(0x4c8)],'participants':_0x3e4bff?.[_0x340224(0x573)],'descOwner':_0x3e4bff?.[_0x340224(0x1a8)],'descId':_0x3e4bff?.[_0x340224(0x421)],'memberAddMode':_0x3e4bff?.[_0x340224(0x4c8)],'isCommunityAnnounce':_0x3e4bff?.[_0x340224(0x558)],'ephemeralDuration':_0x3e4bff?.['ephemeralDuration']||0x0,'author':_0x3e4bff?.['author']}),this[_0x340224(0x373)](_0x438e43[_0x58512a]));}return _0x4c485b;}catch(_0x43779c){let _0x32230e='Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups',_0x2dc4f5=_0x43779c instanceof Error?_0x43779c[_0x340224(0x6b3)]:typeof _0x43779c=='object'?JSON['stringify'](_0x43779c):_0x43779c,_0x1265e5=_0x32230e+':\x20'+_0x2dc4f5;throw this[_0x340224(0x48b)][_0x340224(0x363)](this[_0x340224(0x194)]+'\x20('+this[_0x340224(0x6e9)][_0x340224(0x4f9)]+_0x340224(0x5a6)+_0x1265e5),new U(_0x1265e5);}}async[a0_0x156424(0x373)](_0x2ab3d5){const _0x3fa143=a0_0x156424;let _0x6c5455=await this[_0x3fa143(0x2c2)]['chat'][_0x3fa143(0x6d5)]({'where':{'_id':_0x2ab3d5['id']}},this[_0x3fa143(0x6e9)][_0x3fa143(0x4f9)]);_0x2ab3d5[_0x3fa143(0x165)]=_0x2ab3d5?.['subjectTime']&&_0x2ab3d5['subjectTime'][_0x3fa143(0x50d)]()[_0x3fa143(0x476)]<0xd?_0x2ab3d5?.['subjectTime']*0x3e8:_0x2ab3d5?.['subjectTime']||null,_0x2ab3d5['creation']=_0x2ab3d5?.[_0x3fa143(0xc8)]&&_0x2ab3d5['creation'][_0x3fa143(0x50d)]()[_0x3fa143(0x476)]<0xd?_0x2ab3d5?.[_0x3fa143(0xc8)]*0x3e8:_0x2ab3d5?.[_0x3fa143(0xc8)]||null;let _0x461039=_0x6c5455?.['groupdata']?.['awaitingApproval']||[],_0xaa24e8=_0x6c5455?.[_0x3fa143(0x45a)]?.[_0x3fa143(0x721)],_0xb180ed=_0x2ab3d5['participants'][_0x3fa143(0x5ad)](_0x346b0a=>{const _0x55c6bc=_0x3fa143;let _0x45da44=_0x6c5455?.[_0x55c6bc(0x45a)]?.['participants']['find'](_0x5877d5=>_0x5877d5['id']===_0x346b0a['id']);return{..._0x346b0a,'isAdmin':[_0x55c6bc(0x534),_0x55c6bc(0x260)][_0x55c6bc(0x341)](_0x346b0a[_0x55c6bc(0x534)]),'admin':_0x346b0a['admin'],'name':_0x45da44?.[_0x55c6bc(0x350)]||_0x346b0a[_0x55c6bc(0x350)],'imgUrl':_0x45da44?.[_0x55c6bc(0x457)]||_0x346b0a['imgUrl']};}),_0x34cb4b=_0xb180ed['some'](_0x14ccc3=>_0x14ccc3['id']===this[_0x3fa143(0x6e9)][_0x3fa143(0x4f9)]+_0x3fa143(0x4e2)&&_0x14ccc3[_0x3fa143(0x5e1)]),_0x4e1590=(!_0x2ab3d5[_0x3fa143(0x6c2)]||_0x34cb4b)&&(!_0x2ab3d5[_0x3fa143(0x129)]||_0x2ab3d5[_0x3fa143(0x129)]&&_0x2ab3d5['isCommunityAnnounce']&&_0x34cb4b),_0x26f5d7={..._0x2ab3d5,'participants':_0xb180ed,'awaitingApproval':_0x461039,'lastFetchAwaitingApproval':_0xaa24e8,'isAdmin':_0x34cb4b,'canSendMessage':_0x4e1590,'lastUpdate':Date[_0x3fa143(0x605)]()};await this[_0x3fa143(0x2c2)]['chat']['updateOne']({'where':{'_id':_0x2ab3d5['id']}},{'name':_0x2ab3d5['subject'],'group':!0x0,'groupdata':_0x26f5d7,'lastcache':Date[_0x3fa143(0x605)]()},this[_0x3fa143(0x6e9)][_0x3fa143(0x4f9)]),J(this[_0x3fa143(0x194)],_0x3fa143(0x348),{'chat':_0x2ab3d5});}async[a0_0x156424(0x40e)](_0x5e578a){const _0x28ddc2=a0_0x156424;let _0x25c53e=await this[_0x28ddc2(0x2c2)][_0x28ddc2(0x2ea)][_0x28ddc2(0x6d5)]({'where':{'_id':_0x5e578a['id']}},this[_0x28ddc2(0x6e9)][_0x28ddc2(0x4f9)]);_0x5e578a[_0x28ddc2(0x165)]=_0x5e578a?.[_0x28ddc2(0x165)]&&_0x5e578a[_0x28ddc2(0x165)][_0x28ddc2(0x50d)]()[_0x28ddc2(0x476)]<0xd?_0x5e578a?.['subjectTime']*0x3e8:_0x5e578a?.[_0x28ddc2(0x165)]||null,_0x5e578a[_0x28ddc2(0xc8)]=_0x5e578a?.['creation']&&_0x5e578a[_0x28ddc2(0xc8)]['toString']()['length']<0xd?_0x5e578a?.[_0x28ddc2(0xc8)]*0x3e8:_0x5e578a?.[_0x28ddc2(0xc8)]||null,_0x5e578a[_0x28ddc2(0x2eb)]&&(_0x5e578a[_0x28ddc2(0x2eb)]=_0x28ddc2(0x20e)+_0x5e578a[_0x28ddc2(0x2eb)]);let _0x56114b=_0x25c53e?.[_0x28ddc2(0x45a)]?{..._0x25c53e['groupdata']}:{};Object[_0x28ddc2(0x153)](_0x5e578a)[_0x28ddc2(0x6cb)](_0x467ac3=>{_0x467ac3!=='id'&&(_0x56114b[_0x467ac3]=_0x5e578a[_0x467ac3]);});let _0x42e51b=_0x56114b[_0x28ddc2(0x573)]?.[_0x28ddc2(0x2d6)](_0x5aee02=>_0x5aee02['id']===this[_0x28ddc2(0x6e9)][_0x28ddc2(0x4f9)]+_0x28ddc2(0x4e2)&&_0x5aee02['isAdmin'])||!0x1;_0x56114b[_0x28ddc2(0x5e1)]=_0x42e51b;let _0x3bcf0b=(!_0x56114b[_0x28ddc2(0x6c2)]||_0x42e51b)&&(!_0x56114b['isCommunity']||_0x56114b['isCommunity']&&_0x56114b[_0x28ddc2(0x558)]&&_0x42e51b);_0x56114b[_0x28ddc2(0x3b9)]=_0x3bcf0b;let _0x4bb0ee={'group':!0x0,'groupdata':_0x56114b};_0x5e578a[_0x28ddc2(0xdc)]&&(_0x4bb0ee[_0x28ddc2(0x350)]=_0x5e578a[_0x28ddc2(0xdc)]),await this[_0x28ddc2(0x2c2)]['chat']['updateOne']({'where':{'_id':_0x5e578a['id']}},_0x4bb0ee,this[_0x28ddc2(0x6e9)][_0x28ddc2(0x4f9)],{'upsert':!0x0}),J(this[_0x28ddc2(0x194)],_0x28ddc2(0x348),{'chat':_0x4bb0ee});}async[a0_0x156424(0x613)](_0x3d0b9f){const _0x13e1df=a0_0x156424;let _0x2ae7fe=await this[_0x13e1df(0x2c2)][_0x13e1df(0x2ea)][_0x13e1df(0x6d5)]({'where':{'_id':_0x3d0b9f['id']}},this[_0x13e1df(0x6e9)][_0x13e1df(0x4f9)]);if(!_0x2ae7fe||!_0x2ae7fe['groupdata']){this[_0x13e1df(0x48b)][_0x13e1df(0xf5)](this['instanceName']+'\x20('+this[_0x13e1df(0x6e9)]['wuid']+_0x13e1df(0x26d)+_0x3d0b9f['id']);return;}let _0x350ba6=await this[_0x13e1df(0x2c2)][_0x13e1df(0x645)][_0x13e1df(0x607)](_0x3d0b9f[_0x13e1df(0x573)]),_0x43c751=[..._0x2ae7fe['groupdata']?.[_0x13e1df(0x573)]];switch(_0x3d0b9f[_0x13e1df(0x366)]){case'add':let _0x18f0c1=_0x350ba6['map'](_0x2fc2fb=>({'id':_0x2fc2fb[_0x13e1df(0x21c)],'isAdmin':!0x1,'name':_0x2fc2fb[_0x13e1df(0x350)],'imgUrl':_0x2fc2fb[_0x13e1df(0x104)]}));_0x43c751=[..._0x43c751,..._0x18f0c1];break;case _0x13e1df(0x6d7):_0x43c751=_0x43c751[_0x13e1df(0x3f2)](_0x2edeeb=>!_0x3d0b9f[_0x13e1df(0x573)][_0x13e1df(0x341)](_0x2edeeb['id']));break;case'promote':case _0x13e1df(0x3ab):_0x43c751=_0x43c751[_0x13e1df(0x5ad)](_0x7af363=>_0x3d0b9f[_0x13e1df(0x573)][_0x13e1df(0x341)](_0x7af363['id'])?{..._0x7af363,'isAdmin':_0x3d0b9f['action']==='promote'}:_0x7af363);break;}let _0x5bd0af=_0x43c751[_0x13e1df(0x476)],_0x4dfeca=_0x43c751['some'](_0x54d00a=>_0x54d00a['id']===this[_0x13e1df(0x6e9)][_0x13e1df(0x4f9)]+_0x13e1df(0x4e2)),_0x4f1b83=_0x4dfeca&&_0x43c751[_0x13e1df(0x2d6)](_0x4b4774=>_0x4b4774['id']===this[_0x13e1df(0x6e9)][_0x13e1df(0x4f9)]+_0x13e1df(0x4e2)&&_0x4b4774[_0x13e1df(0x5e1)]),_0x2e2526=_0x4dfeca&&(!_0x2ae7fe[_0x13e1df(0x45a)]['announce']||_0x4f1b83)&&(!_0x2ae7fe[_0x13e1df(0x45a)][_0x13e1df(0x129)]||_0x2ae7fe[_0x13e1df(0x45a)][_0x13e1df(0x129)]&&_0x4f1b83);await this['repository'][_0x13e1df(0x2ea)]['updateOne']({'where':{'_id':_0x3d0b9f['id']}},{'groupdata':{..._0x2ae7fe[_0x13e1df(0x45a)],'participants':_0x43c751,'size':_0x5bd0af,'isAdmin':_0x4f1b83,'canSendMessage':_0x2e2526}},this['instance'][_0x13e1df(0x4f9)]),this['logger']['info'](this[_0x13e1df(0x194)]+'\x20('+this[_0x13e1df(0x6e9)][_0x13e1df(0x4f9)]+_0x13e1df(0x2ad)+_0x3d0b9f['id']+_0x13e1df(0xbc)+_0x3d0b9f[_0x13e1df(0x366)]+_0x13e1df(0x5d1)+_0x5bd0af+_0x13e1df(0x3a6)+_0x4f1b83+',\x20canSendMessage:\x20'+_0x2e2526);}async[a0_0x156424(0x2eb)](_0x6dc89a,_0x1bcb94=!0x0){const _0x17c0d5=a0_0x156424;try{let _0x24d41c=await this[_0x17c0d5(0x439)][_0x17c0d5(0x331)](_0x6dc89a[_0x17c0d5(0x672)]),_0x2228a2={'groupdata.inviteCode':_0x17c0d5(0x20e)+_0x24d41c};if(_0x1bcb94){let _0x5b085c=await this['repository'][_0x17c0d5(0x2ea)][_0x17c0d5(0x2e5)]({'where':{'_id':_0x6dc89a[_0x17c0d5(0x672)]}},_0x2228a2,this[_0x17c0d5(0x6e9)][_0x17c0d5(0x4f9)]);}return{'inviteUrl':_0x17c0d5(0x20e)+_0x24d41c,'inviteCode':_0x24d41c};}catch(_0x3e72be){let _0x49ee9e=_0x17c0d5(0xea),_0x3b602a=_0x3e72be instanceof Error?_0x3e72be['message']:typeof _0x3e72be==_0x17c0d5(0x666)?JSON[_0x17c0d5(0x389)](_0x3e72be):_0x3e72be,_0x2eaf4e=_0x49ee9e+':\x20'+_0x3b602a;throw this[_0x17c0d5(0x48b)]['error'](this[_0x17c0d5(0x194)]+'\x20('+this[_0x17c0d5(0x6e9)][_0x17c0d5(0x4f9)]+_0x17c0d5(0x5a6)+_0x2eaf4e),new U(_0x2eaf4e);}}async[a0_0x156424(0x5c5)](_0x493c16){const _0x31bcbd=a0_0x156424;try{let _0x4ac2a3=await this[_0x31bcbd(0x439)][_0x31bcbd(0x128)](_0x493c16['groupJid']);return{'revoked':!0x0,'inviteUrl':_0x31bcbd(0x20e)+_0x4ac2a3,'inviteCode':_0x4ac2a3};}catch(_0x14d9d3){let _0x528d4d='Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode',_0x2e24c2=_0x14d9d3 instanceof Error?_0x14d9d3[_0x31bcbd(0x6b3)]:typeof _0x14d9d3==_0x31bcbd(0x666)?JSON[_0x31bcbd(0x389)](_0x14d9d3):_0x14d9d3,_0x3b4efe=_0x528d4d+':\x20'+_0x2e24c2;throw this[_0x31bcbd(0x48b)]['error'](this['instanceName']+'\x20('+this['instance'][_0x31bcbd(0x4f9)]+'):\x20'+_0x3b4efe),new U(_0x3b4efe);}}async[a0_0x156424(0x686)](_0x1bdfc9){const _0x24b9ae=a0_0x156424;try{if((0x0,P[_0x24b9ae(0x223)])(_0x1bdfc9[_0x24b9ae(0x2eb)]))var _0x2650ad=_0x1bdfc9[_0x24b9ae(0x2eb)][_0x24b9ae(0x277)]('/')[0x3];else var _0x2650ad=_0x1bdfc9[_0x24b9ae(0x2eb)];let _0x5b1cbc=await this[_0x24b9ae(0x439)][_0x24b9ae(0x667)](_0x2650ad);return this[_0x24b9ae(0x48b)][_0x24b9ae(0x361)](this[_0x24b9ae(0x194)]+'\x20('+this[_0x24b9ae(0x6e9)][_0x24b9ae(0x4f9)]+_0x24b9ae(0x5a6)+_0x5b1cbc),{'join':!0x0,'inviteCode':_0x2650ad,'groupJid':_0x5b1cbc};}catch(_0x5431ca){let _0x2fa774='Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x316d32=_0x5431ca instanceof Error?_0x5431ca[_0x24b9ae(0x6b3)]:typeof _0x5431ca==_0x24b9ae(0x666)?JSON[_0x24b9ae(0x389)](_0x5431ca):_0x5431ca,_0x4f7f81=_0x2fa774+':\x20'+_0x316d32;throw this['logger'][_0x24b9ae(0x363)](this[_0x24b9ae(0x194)]+'\x20('+this[_0x24b9ae(0x6e9)][_0x24b9ae(0x4f9)]+_0x24b9ae(0x5a6)+_0x4f7f81),new U(_0x4f7f81);}}async[a0_0x156424(0x185)](_0xde36dc){const _0x59b3bd=a0_0x156424;try{return{'participants':(await this['repository'][_0x59b3bd(0x2ea)][_0x59b3bd(0x6d5)]({'where':{'_id':_0xde36dc['groupJid']}},this[_0x59b3bd(0x6e9)][_0x59b3bd(0x4f9)]))[_0x59b3bd(0x45a)]['participants']};}catch(_0x3f495f){let _0x95d5f7=_0x59b3bd(0xbf),_0x3ce5df=_0x3f495f instanceof Error?_0x3f495f['message']:typeof _0x3f495f=='object'?JSON[_0x59b3bd(0x389)](_0x3f495f):_0x3f495f,_0x1e961f=_0x95d5f7+':\x20'+_0x3ce5df;throw this['logger']['error'](this[_0x59b3bd(0x194)]+'\x20('+this[_0x59b3bd(0x6e9)][_0x59b3bd(0x4f9)]+_0x59b3bd(0x5a6)+_0x1e961f),new U(_0x1e961f);}}async[a0_0x156424(0x6e6)](_0x4fd222){const _0x4b4fe=a0_0x156424;try{return await this[_0x4b4fe(0x439)][_0x4b4fe(0x68c)](_0x4fd222['groupJid']),{'groupJid':_0x4fd222[_0x4b4fe(0x672)],'leave':!0x0};}catch(_0x2066c0){let _0x52d7ee='Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup',_0x2aeed8=_0x2066c0 instanceof Error?_0x2066c0[_0x4b4fe(0x6b3)]:typeof _0x2066c0==_0x4b4fe(0x666)?JSON['stringify'](_0x2066c0):_0x2066c0,_0x4851b6=_0x52d7ee+':\x20'+_0x2aeed8;throw this[_0x4b4fe(0x48b)][_0x4b4fe(0x363)](this[_0x4b4fe(0x194)]+'\x20('+this[_0x4b4fe(0x6e9)][_0x4b4fe(0x4f9)]+_0x4b4fe(0x5a6)+_0x4851b6),new m(_0x4851b6);}}async['pollMessage'](_0x565234){const _0x41ac7e=a0_0x156424;return await this[_0x41ac7e(0x6bb)](_0x565234[_0x41ac7e(0xf2)],{'poll':{'name':_0x565234[_0x41ac7e(0x6ab)]?.['name'],'selectableCount':_0x565234[_0x41ac7e(0x6ab)][_0x41ac7e(0x42c)],'values':_0x565234['pollMessage']['values']}},_0x565234?.[_0x41ac7e(0x47d)]);}async[a0_0x156424(0x69e)](_0x354466){const _0xf36a30=a0_0x156424;return await this[_0xf36a30(0x6bb)](_0x354466['number'],{'listMessage':{'title':_0x354466[_0xf36a30(0x69e)][_0xf36a30(0x69f)],'description':_0x354466['listMessage']['description'],'buttonText':_0x354466[_0xf36a30(0x69e)]?.[_0xf36a30(0x621)],'footerText':_0x354466[_0xf36a30(0x69e)]?.[_0xf36a30(0x196)],'sections':_0x354466[_0xf36a30(0x69e)][_0xf36a30(0x5e4)],'listType':0x2}},_0x354466?.[_0xf36a30(0x47d)]);}async[a0_0x156424(0x204)](_0x32cc7f){const _0x59f1dc=a0_0x156424;let _0x4ec777;if(_0x32cc7f[_0x59f1dc(0x204)][_0x59f1dc(0x136)]==='list'){let _0x2ce8f7=_0x32cc7f[_0x59f1dc(0x204)][_0x59f1dc(0x727)][_0x59f1dc(0x39f)]('\x0a'),_0x32abd6='',_0x4b0e79='';_0x2ce8f7!==-0x1?(_0x32abd6=_0x32cc7f[_0x59f1dc(0x204)][_0x59f1dc(0x727)]['substring'](0x0,_0x2ce8f7)['trim'](),_0x4b0e79=_0x32cc7f[_0x59f1dc(0x204)][_0x59f1dc(0x727)]['substring'](_0x2ce8f7+0x1)):_0x4b0e79=_0x32cc7f[_0x59f1dc(0x204)]['text'];let _0x4cd673=_0x32cc7f['menuMessage']['choices']['filter'](_0x36e0c8=>_0x36e0c8[_0x59f1dc(0x652)]()!==''),_0x4abbdf=this[_0x59f1dc(0x483)](_0x4cd673);_0x4ec777={'listMessage':{'title':_0x32abd6,'description':_0x4b0e79,'buttonText':_0x32cc7f[_0x59f1dc(0x204)][_0x59f1dc(0x621)]||_0x59f1dc(0x123),'footerText':_0x32cc7f[_0x59f1dc(0x204)][_0x59f1dc(0x196)],'sections':_0x4abbdf,'listType':0x2}};}else{if(_0x32cc7f[_0x59f1dc(0x204)][_0x59f1dc(0x136)]==='poll'){let _0x1a1bc9=_0x32cc7f[_0x59f1dc(0x204)][_0x59f1dc(0x3ec)][_0x59f1dc(0x3f2)](_0x3e876a=>!(_0x3e876a['startsWith']('[')&&_0x3e876a[_0x59f1dc(0x3e3)](']'))&&_0x3e876a[_0x59f1dc(0x652)]()!=='')[_0x59f1dc(0x5ad)](_0x4a24bf=>_0x4a24bf[_0x59f1dc(0x277)]('\x0a')[0x0]);_0x4ec777={'poll':{'name':_0x32cc7f[_0x59f1dc(0x204)]['text'],'selectableCount':_0x32cc7f[_0x59f1dc(0x204)]['selectableCount']||0x1,'values':_0x1a1bc9}};}}return await this[_0x59f1dc(0x6bb)](_0x32cc7f[_0x59f1dc(0xf2)],_0x4ec777,_0x32cc7f?.[_0x59f1dc(0x47d)]);}[a0_0x156424(0x483)](_0x4f248a){const _0x393515=a0_0x156424;let _0x46438b=[],_0x33677f={'rows':[]};return _0x4f248a[_0x393515(0x6cb)](_0x340316=>{const _0x38ee8d=_0x393515;if(_0x340316[_0x38ee8d(0x278)]('[')&&_0x340316['endsWith'](']'))_0x33677f[_0x38ee8d(0x283)][_0x38ee8d(0x476)]>0x0&&_0x46438b[_0x38ee8d(0x211)](_0x33677f),_0x33677f={'title':_0x340316[_0x38ee8d(0x550)](0x1,-0x1),'rows':[]};else{let _0x2c8492=_0x340316[_0x38ee8d(0x277)]('\x0a')[_0x38ee8d(0x5ad)](_0x316838=>_0x316838[_0x38ee8d(0x652)]()),_0x32e19b=_0x2c8492[0x0],_0x23231c=_0x2c8492[0x1]||null,_0x39a464=_0x2c8492[0x2]||_0x32e19b;_0x33677f['rows']['push']({'title':_0x32e19b,'description':_0x23231c,'rowId':_0x39a464});}}),_0x33677f['rows'][_0x393515(0x476)]>0x0&&_0x46438b['push'](_0x33677f),_0x46438b;}async[a0_0x156424(0x523)](_0x20553f,_0x394cce){const _0x36f39a=a0_0x156424;if(await this[_0x36f39a(0x1bb)](_0x20553f,!0x0)){let _0x246769={'where':{'_id':_0x20553f['id']}},_0xfa3d76={'status':[_0x394cce[_0x36f39a(0x2f7)]][0x0]};try{let _0xed0b0e=await this[_0x36f39a(0x2c2)][_0x36f39a(0x6b3)][_0x36f39a(0x2ab)](_0x246769,_0xfa3d76,this[_0x36f39a(0x6e9)][_0x36f39a(0x4f9)]);_0xed0b0e&&J(this['instanceName'],_0x36f39a(0x1c8),{'message':_0xed0b0e});}catch{}}}[a0_0x156424(0x72a)](_0x5c9b5d){let _0x10b6c4=[];return _0x5c9b5d['forEach'](_0x240805=>{const _0x41d8d0=a0_0x4ecf;_0x240805['title']&&_0x10b6c4[_0x41d8d0(0x211)]('['+_0x240805[_0x41d8d0(0x69f)]+']'),_0x240805[_0x41d8d0(0x283)][_0x41d8d0(0x6cb)](_0x4b3263=>{const _0x5d3c2a=_0x41d8d0;_0x10b6c4[_0x5d3c2a(0x211)](_0x4b3263[_0x5d3c2a(0x69f)]);});}),_0x10b6c4['join']('|');}['formatVCard'](_0x1ecf12){const _0x2cc3b5=a0_0x156424;let _0x3d6953=_0x1ecf12[_0x2cc3b5(0x367)](/\\n/g,'\x0a')[_0x2cc3b5(0x277)]('\x0a')[_0x2cc3b5(0x3f2)](_0x5e4172=>_0x5e4172[_0x2cc3b5(0x341)]('TEL')||_0x5e4172[_0x2cc3b5(0x341)](_0x2cc3b5(0x602))),_0x5c791e='';return _0x3d6953[_0x2cc3b5(0x6cb)](_0x483320=>{const _0x259655=_0x2cc3b5;let _0x41dbd0=/TEL(?:.*):(.+)/,_0x17dd6b=/EMAIL(?:.*):(.+)/,_0x2ba0b3=_0x483320[_0x259655(0x4ac)](_0x41dbd0),_0x17d96f=_0x483320[_0x259655(0x4ac)](_0x17dd6b);if(_0x2ba0b3){let _0x3a5449=_0x2ba0b3[0x1][_0x259655(0x367)](/-| |\+|\(|\)/g,'')[_0x259655(0x652)]();_0x5c791e+=_0x259655(0x498)+_0x3a5449+'\x0a';}else{if(_0x17d96f){let _0x1b5d1d=_0x17d96f[0x1]['trim']();_0x5c791e+='E-mail:\x20'+_0x1b5d1d+'\x0a';}}}),_0x5c791e[_0x2cc3b5(0x652)]();}async['updateChatWithMessage'](_0x18d5bf,_0x3e927c,_0x5da283,_0x495fe3=null){const _0x3a1a16=a0_0x156424;if(_0x18d5bf[_0x3a1a16(0x237)])try{let _0x47db1e=_0x3e927c[_0x3a1a16(0x13f)][_0x3a1a16(0x740)]['replace'](/:\d{1,2}@/g,'@'),_0x587473=_0x3e927c['key'][_0x3a1a16(0xf9)],_0x1b2dd5=_0x47db1e[_0x3a1a16(0x3e3)](_0x3a1a16(0x119)),_0x3bb1f9=_0x3e927c[_0x3a1a16(0x64e)]?.[_0x3a1a16(0x367)](/:\d{1,2}@/g,'@')||'',_0x22f47a=_0x3e927c['message_normalized']?.[_0x3a1a16(0x727)]||_0x3e927c['message_normalized']?.[_0x3a1a16(0x200)]||_0x3e927c[_0x3a1a16(0x4d2)]?.[_0x3a1a16(0x338)]||_0x3e927c['message_normalized']?.[_0x3a1a16(0x350)]||'',_0x22dcc0={'_id':_0x3e927c['_id'],'remoteJid':_0x587473?this[_0x3a1a16(0x6e9)][_0x3a1a16(0x4f9)]:_0x1b2dd5?_0x3bb1f9:_0x47db1e,'pushName':_0x587473?this[_0x3a1a16(0x6e9)]['profileName']||'Eu':_0x3e927c['pushName'],'text':_0x22f47a,'type':_0x3e927c[_0x3a1a16(0x58d)],'when':_0x3e927c[_0x3a1a16(0x3f9)]||Date[_0x3a1a16(0x605)]()};_0x495fe3||(_0x495fe3=await this[_0x3a1a16(0x2c2)][_0x3a1a16(0x2ea)]['findOne']({'where':{'_id':_0x47db1e}},this[_0x3a1a16(0x6e9)][_0x3a1a16(0x4f9)]));let _0x3f8ac4=_0x495fe3?_0x587473?_0x495fe3[_0x3a1a16(0x284)]:(_0x495fe3[_0x3a1a16(0x284)]||0x0)+0x1:_0x587473?0x0:0x1,_0x5cf0ba={'lastmsg':_0x3e927c[_0x3a1a16(0x3f9)]||Date[_0x3a1a16(0x605)](),'ephemeralExpiration':_0x3e927c[_0x3a1a16(0x737)],'lastMessage':_0x22dcc0,'unreadcount':_0x3f8ac4,..._0x587473||_0x1b2dd5?{}:{'name':_0x3e927c[_0x3a1a16(0x435)]},..._0x1b2dd5?{'group':_0x1b2dd5}:{},...!_0x587473&&!_0x1b2dd5&&_0x3e927c[_0x3a1a16(0x1ae)]?{'imagechat':_0x3e927c[_0x3a1a16(0x1ae)]}:{}};if(!_0x1b2dd5&&(!_0x495fe3?.[_0x3a1a16(0x753)]||!_0x495fe3[_0x3a1a16(0x753)][_0x3a1a16(0x288)])&&_0x3e927c[_0x3a1a16(0x435)]&&!_0x587473&&(_0x5cf0ba={..._0x5cf0ba,'leadInfo.nome':_0x3e927c[_0x3a1a16(0x435)]}),_0x495fe3?.[_0x3a1a16(0x753)][_0x3a1a16(0xf0)]||(_0x5cf0ba={..._0x5cf0ba,'leadInfo.etiquetas':[]}),_0x495fe3?.[_0x3a1a16(0x753)][_0x3a1a16(0x2b1)]||(_0x5cf0ba={..._0x5cf0ba,'leadInfo.customFields':[]}),_0x495fe3?.[_0x3a1a16(0x753)][_0x3a1a16(0x140)]||(_0x5cf0ba={..._0x5cf0ba,'leadInfo.tags':[]}),_0x495fe3&&_0x495fe3?.[_0x3a1a16(0x27e)]){let _0x30da21=await this[_0x3a1a16(0x2c2)][_0x3a1a16(0x590)][_0x3a1a16(0x5ae)]({'where':{}},this['instance'][_0x3a1a16(0x4f9)]),_0x452cba=new Set(_0x30da21[_0x3a1a16(0x5ad)](_0x2e5ee7=>_0x2e5ee7['_id'])),_0x1649de=(_0x495fe3[_0x3a1a16(0x753)]?.[_0x3a1a16(0xf0)]||[])['filter'](_0x588860=>_0x452cba[_0x3a1a16(0x419)](_0x588860));_0x5cf0ba={..._0x5cf0ba,'imported':!0x1,'leadInfo.etiquetas':_0x1649de};for(let _0x2dab63 of _0x1649de)await this[_0x3a1a16(0x458)](_0x2dab63,_0x47db1e);}if(_0x5da283===_0x3a1a16(0x637)&&_0x587473&&this[_0x3a1a16(0x105)]?.['flowConfig'][_0x3a1a16(0x494)]&&!_0x22f47a['startsWith'](this[_0x3a1a16(0x105)]?.[_0x3a1a16(0x745)][_0x3a1a16(0x781)])){let _0x3007d7=(this['AutomateSystem']?.[_0x3a1a16(0x745)][_0x3a1a16(0x50c)]||0x5)*0xea60,_0x4c2f73=Date[_0x3a1a16(0x605)]()+_0x3007d7;_0x495fe3?.[_0x3a1a16(0x753)]?.[_0x3a1a16(0x157)]===0x0||(_0x5cf0ba={..._0x5cf0ba,'leadInfo.desativadoFluxoAte':_0x4c2f73},this[_0x3a1a16(0x48b)][_0x3a1a16(0x361)](this[_0x3a1a16(0x194)]+'\x20('+this[_0x3a1a16(0x6e9)]['wuid']+_0x3a1a16(0x231)+_0x4c2f73+'.'));}if(_0x495fe3=await this['repository'][_0x3a1a16(0x2ea)][_0x3a1a16(0x2e5)]({'where':{'_id':_0x47db1e}},_0x5cf0ba,this['instance'][_0x3a1a16(0x4f9)],{'new':!0x0,'upsert':!0x0}),_0x495fe3)J(this['instanceName'],'chats',{'chat':_0x495fe3});else{this['logger'][_0x3a1a16(0x363)](this[_0x3a1a16(0x194)]+'\x20('+this[_0x3a1a16(0x6e9)][_0x3a1a16(0x4f9)]+_0x3a1a16(0x4ab));return;}if(!this['AutomateSystem']?.['flowConfig']['enabled'])return this['logger'][_0x3a1a16(0x361)](this[_0x3a1a16(0x194)]+'\x20('+this[_0x3a1a16(0x6e9)][_0x3a1a16(0x4f9)]+_0x3a1a16(0x77b)),null;if(_0x495fe3[_0x3a1a16(0x21c)]['includes']('@g.us')&&this[_0x3a1a16(0x105)]?.['flowConfig'][_0x3a1a16(0x1b0)]===!0x0)return this[_0x3a1a16(0x48b)][_0x3a1a16(0x361)](this[_0x3a1a16(0x194)]+'\x20('+this[_0x3a1a16(0x6e9)][_0x3a1a16(0x4f9)]+_0x3a1a16(0x59e)),null;if(_0x495fe3['leadInfo']){if(_0x495fe3[_0x3a1a16(0x753)]['desativadoFluxoAte']===0x0||_0x495fe3[_0x3a1a16(0x753)][_0x3a1a16(0x306)])return this[_0x3a1a16(0x48b)][_0x3a1a16(0x361)](this['instanceName']+'\x20('+this[_0x3a1a16(0x6e9)][_0x3a1a16(0x4f9)]+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x47db1e+_0x3a1a16(0x3b3)),null;if(_0x495fe3[_0x3a1a16(0x753)]['desativadoFluxoAte']>Date['now']()&&!_0x3e927c[_0x3a1a16(0x4d2)]?.[_0x3a1a16(0x338)])return this[_0x3a1a16(0x48b)]['verbose'](this[_0x3a1a16(0x194)]+'\x20('+this['instance'][_0x3a1a16(0x4f9)]+_0x3a1a16(0x526)+new Date(_0x495fe3[_0x3a1a16(0x753)]['desativadoFluxoAte'])[_0x3a1a16(0x601)]()+_0x3a1a16(0x3b3)),null;}this['logger'][_0x3a1a16(0x361)](this[_0x3a1a16(0x194)]+'\x20('+this[_0x3a1a16(0x6e9)][_0x3a1a16(0x4f9)]+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x3a1a16(0x75f)](_0x5da283,_0x3e927c);}catch(_0x2a3f5e){let _0x8d30b2=_0x3a1a16(0x135),_0x39f942=_0x2a3f5e instanceof Error?_0x2a3f5e[_0x3a1a16(0x6b3)]:typeof _0x2a3f5e=='object'?JSON[_0x3a1a16(0x389)](_0x2a3f5e):_0x2a3f5e,_0x5d52e0=_0x8d30b2+':\x20'+_0x39f942;return this[_0x3a1a16(0x48b)]['error'](this[_0x3a1a16(0x194)]+'\x20('+this['instance'][_0x3a1a16(0x4f9)]+_0x3a1a16(0x5a6)+_0x5d52e0),null;}}async[a0_0x156424(0xaf)](_0x266fc0,_0x2db898){const _0x47405d=a0_0x156424;if(_0x2db898[_0x47405d(0x237)]){let _0x50741a=_0x266fc0[_0x47405d(0x5ad)](async _0x182445=>{const _0x4d8a76=_0x47405d;try{let _0x5a5f93={'_id':_0x182445['_id'],'owner':_0x182445[_0x4d8a76(0x585)],'lastcache':0x0};if(Object[_0x4d8a76(0x153)](_0x182445)[_0x4d8a76(0x6cb)](_0x441126=>{_0x182445[_0x441126]!==null&&(_0x5a5f93[_0x441126]=_0x182445[_0x441126]);}),_0x5a5f93['imagechat']===null&&(_0x5a5f93[_0x4d8a76(0x224)]=_0x4d8a76(0x16c)),Object['keys'](_0x5a5f93)['length']>0x0)return await this[_0x4d8a76(0x2c2)][_0x4d8a76(0x2ea)][_0x4d8a76(0x2e5)]({'where':{'_id':_0x182445['_id']}},_0x5a5f93,this[_0x4d8a76(0x6e9)][_0x4d8a76(0x4f9)]);}catch(_0x5b5d82){let _0x3b78c6='Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x182445[_0x4d8a76(0x21c)],_0x3d9926=_0x5b5d82 instanceof Error?_0x5b5d82[_0x4d8a76(0x6b3)]:typeof _0x5b5d82==_0x4d8a76(0x666)?JSON['stringify'](_0x5b5d82):_0x5b5d82,_0x571b7b=_0x3b78c6+':\x20'+_0x3d9926;return this['logger'][_0x4d8a76(0x363)](this[_0x4d8a76(0x194)]+'\x20('+this['instance'][_0x4d8a76(0x4f9)]+_0x4d8a76(0x5a6)+_0x571b7b),null;}}),_0x1e7c7d=(await Promise[_0x47405d(0x2b9)](_0x50741a))[_0x47405d(0x3f2)](_0x11e43d=>_0x11e43d!==null)[_0x47405d(0x476)];this[_0x47405d(0x48b)]['verbose'](this[_0x47405d(0x194)]+'\x20('+this['instance']['wuid']+_0x47405d(0x5a6)+_0x1e7c7d+_0x47405d(0x66f)+this['instance'][_0x47405d(0x4f9)]+_0x47405d(0x71f));}}async[a0_0x156424(0x3e0)](_0x5506b1){const _0x100087=a0_0x156424;this['logger']['verbose'](this[_0x100087(0x194)]+'\x20('+this[_0x100087(0x6e9)][_0x100087(0x4f9)]+'):\x20Ler\x20mensagem');let _0x2caa47={'readMessages':[{'remoteJid':_0x5506b1[_0x100087(0x6c5)]['lastReceivedMessage'][_0x100087(0x13f)][_0x100087(0x740)],'fromMe':_0x5506b1[_0x100087(0x6c5)][_0x100087(0x4ad)][_0x100087(0x13f)][_0x100087(0xf9)],'id':_0x5506b1[_0x100087(0x6c5)][_0x100087(0x4ad)][_0x100087(0x13f)]['id']}]};await this[_0x100087(0x307)](_0x2caa47);}async[a0_0x156424(0x75f)](_0x25b276,_0xb70364){const _0x17041a=a0_0x156424;try{let {key:_0x6738db,message_normalized:_0x4f6903}=_0xb70364,_0x479da5=_0x4f6903,_0x4dac14=_0x4f6903[_0x17041a(0x727)]||_0x4f6903['caption']||_0x4f6903[_0x17041a(0x338)]||_0x4f6903['name']||'',_0x2b89da=_0x6738db[_0x17041a(0x740)],_0x29ea4a;if(_0x479da5[_0x17041a(0x13f)]['fromMe']&&_0x4dac14[_0x17041a(0x652)]()!==this[_0x17041a(0x105)]?.[_0x17041a(0x745)][_0x17041a(0x5db)][_0x17041a(0x652)]())return this[_0x17041a(0x48b)][_0x17041a(0x361)](this[_0x17041a(0x194)]+'\x20('+this['instance']['wuid']+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.'),null;if(_0x479da5[_0x17041a(0x13f)][_0x17041a(0xf9)]&&_0x4dac14[_0x17041a(0x652)]()===this[_0x17041a(0x105)]?.[_0x17041a(0x745)][_0x17041a(0x5db)][_0x17041a(0x652)]()){this[_0x17041a(0x48b)][_0x17041a(0x361)](this[_0x17041a(0x194)]+'\x20('+this[_0x17041a(0x6e9)][_0x17041a(0x4f9)]+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo');let _0x36ef9a=await this[_0x17041a(0x2c2)][_0x17041a(0x628)][_0x17041a(0x5ae)]({'remoteJid':_0x2b89da,'status':_0x17041a(0x3a9)},this[_0x17041a(0x6e9)][_0x17041a(0x4f9)]);this[_0x17041a(0x48b)][_0x17041a(0x361)](this[_0x17041a(0x194)]+'\x20('+this[_0x17041a(0x6e9)][_0x17041a(0x4f9)]+_0x17041a(0x3fb)+_0x36ef9a);let _0x33ff47=Date[_0x17041a(0x605)](),_0x2cee53;return this[_0x17041a(0x105)]?.[_0x17041a(0x745)]['stopMinutes']===0x0?_0x2cee53={'stoppedUntil':_0x33ff47+0x7591f6200}:_0x2cee53={'stoppedUntil':_0x33ff47+this[_0x17041a(0x105)]?.[_0x17041a(0x745)][_0x17041a(0x701)]*0x3c*0x3e8},this['logger'][_0x17041a(0x361)](this['instanceName']+'\x20('+this[_0x17041a(0x6e9)][_0x17041a(0x4f9)]+_0x17041a(0xd8)+_0x2cee53),this[_0x17041a(0x31d)](_0x29ea4a,_0x2cee53[_0x17041a(0x14b)]),null;}if(_0x4dac14&&_0x4dac14[_0x17041a(0x278)](this['AutomateSystem']?.[_0x17041a(0x745)][_0x17041a(0x781)])&&_0x4dac14[_0x17041a(0x476)]>0x4){let _0x5b30e6=await this[_0x17041a(0x2c2)][_0x17041a(0x321)]['findOne']({'where':{'startCommandWord':_0x4dac14}},this[_0x17041a(0x6e9)][_0x17041a(0x4f9)]);if(this[_0x17041a(0x48b)][_0x17041a(0x361)](this[_0x17041a(0x194)]+'\x20('+this[_0x17041a(0x6e9)][_0x17041a(0x4f9)]+_0x17041a(0x179)),_0x5b30e6)_0x29ea4a=await this[_0x17041a(0x712)](_0x5b30e6,_0x479da5['key'],_0x479da5);else return this[_0x17041a(0x48b)]['verbose'](this[_0x17041a(0x194)]+'\x20('+this['instance'][_0x17041a(0x4f9)]+_0x17041a(0x17c)),null;}else _0x29ea4a=await this[_0x17041a(0x491)](_0x2b89da,_0x479da5);if(_0x29ea4a){this['logger'][_0x17041a(0x361)](this[_0x17041a(0x194)]+'\x20('+this[_0x17041a(0x6e9)]['wuid']+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x6738db[_0x17041a(0xf9)]&&_0x29ea4a[_0x17041a(0x62a)]&&this[_0x17041a(0x3e0)](_0x29ea4a);let _0x4bca14=await this[_0x17041a(0x132)](_0x29ea4a);_0x4bca14&&await this['processblock'](_0x29ea4a,_0x4bca14);}}catch(_0x3bd827){this[_0x17041a(0x48b)][_0x17041a(0x363)](this[_0x17041a(0x194)]+'\x20('+this[_0x17041a(0x6e9)][_0x17041a(0x4f9)]+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+(_0x3bd827 instanceof Error?_0x3bd827[_0x17041a(0x6b3)]:JSON[_0x17041a(0x389)](_0x3bd827,null,0x2)));}}[a0_0x156424(0x578)](_0x245d8a,_0x5281c5='',_0x2c4ab3={}){const _0x4b0572=a0_0x156424;return typeof _0x245d8a!='object'||_0x245d8a===null?(_0x5281c5&&(_0x2c4ab3[_0x5281c5]=_0x245d8a),_0x2c4ab3):(Object[_0x4b0572(0xd5)](_0x245d8a)[_0x4b0572(0x6cb)](([_0x133854,_0x218707])=>{const _0x4107ec=_0x4b0572;let _0x5b5c94=_0x5281c5?_0x5281c5+'.'+_0x133854:'_'+_0x133854;Array['isArray'](_0x218707)?_0x218707['forEach']((_0x3b3d78,_0x16c223)=>{const _0x5ee78b=a0_0x4ecf;this[_0x5ee78b(0x578)](_0x3b3d78,_0x5b5c94+'['+_0x16c223+']',_0x2c4ab3);}):typeof _0x218707==_0x4107ec(0x666)&&_0x218707!==null?this['flattenObject'](_0x218707,_0x5b5c94,_0x2c4ab3):_0x2c4ab3[_0x5b5c94]=String(_0x218707);}),_0x2c4ab3);}[a0_0x156424(0xe4)](_0x3a651a){const _0x22b4da=a0_0x156424;let _0x155eae={};for(let _0x2d1cb3 of _0x3a651a)typeof _0x2d1cb3['name']=='string'&&typeof _0x2d1cb3[_0x22b4da(0x16a)]==_0x22b4da(0x40b)&&(_0x155eae[_0x2d1cb3[_0x22b4da(0x350)]]=_0x2d1cb3['value']);return _0x155eae;}async[a0_0x156424(0x132)](_0x527810){const _0x4cc9c5=a0_0x156424;if(!this[_0x4cc9c5(0x105)]?.['flowConfig']['enabled']||_0x527810['status']!==_0x4cc9c5(0x3a9)&&_0x527810[_0x4cc9c5(0xee)]==='')return null;let _0xf59f6f=_0x527810['chatLog'][_0x4cc9c5(0x4cd)]||'start';typeof _0x527810[_0x4cc9c5(0x6c5)][_0x4cc9c5(0x33d)]>'u'&&(_0x527810[_0x4cc9c5(0x6c5)][_0x4cc9c5(0x33d)]=!0x0);let _0x4a9964=_0x527810[_0x4cc9c5(0x6c5)][_0x4cc9c5(0x33d)];this[_0x4cc9c5(0x48b)][_0x4cc9c5(0x361)](this[_0x4cc9c5(0x194)]+'\x20('+this[_0x4cc9c5(0x6e9)][_0x4cc9c5(0x4f9)]+_0x4cc9c5(0x455)+_0xf59f6f+',\x20lastCondition:\x20'+_0x4a9964);let _0x4cce88=_0xf59f6f===_0x4cc9c5(0xcf)?_0x527810[_0x4cc9c5(0x167)][_0x4cc9c5(0x5ae)](_0x224803=>_0x224803[_0x4cc9c5(0x136)]===_0x4cc9c5(0xcf)):_0x527810[_0x4cc9c5(0x167)][_0x4cc9c5(0x5ae)](_0x5c3192=>_0x5c3192['_id'][_0x4cc9c5(0x50d)]()===_0xf59f6f['toString']());if(!_0x4cce88)return this['logger'][_0x4cc9c5(0x363)](this[_0x4cc9c5(0x194)]+'\x20('+this[_0x4cc9c5(0x6e9)][_0x4cc9c5(0x4f9)]+_0x4cc9c5(0x410)+_0xf59f6f),null;let _0x570a40={'_pushName':_0x527810?.[_0x4cc9c5(0x6c5)]?.[_0x4cc9c5(0x4ad)]?.[_0x4cc9c5(0x435)]||'',..._0x527810[_0x4cc9c5(0x6c5)][_0x4cc9c5(0x474)]},_0x454ce8=null;if(_0x527810['waitingMenu_id']){let _0x148640=_0x527810[_0x4cc9c5(0x6c5)][_0x4cc9c5(0x4ad)][_0x4cc9c5(0x338)],_0x560130=_0x527810[_0x4cc9c5(0x1e3)][_0x4cc9c5(0x5ae)](_0x5a7f99=>_0x5a7f99[_0x4cc9c5(0x36b)]===_0x148640);if(_0x560130){let _0x4f7aa9=_0x560130[_0x4cc9c5(0x49f)];if(_0x454ce8=_0x527810[_0x4cc9c5(0x167)][_0x4cc9c5(0x5ae)](_0x44516c=>_0x44516c[_0x4cc9c5(0x3bc)]===_0x4f7aa9&&_0x44516c['order']===0x1),_0x4cce88[_0x4cc9c5(0x30d)]['pollOnReplyDelete']){let _0x2aac40={'id':_0x527810[_0x4cc9c5(0xee)],'remoteJid':_0x527810[_0x4cc9c5(0x740)],'fromMe':!0x0};await this[_0x4cc9c5(0x6ee)](_0x2aac40);}if(_0x4cce88[_0x4cc9c5(0x30d)][_0x4cc9c5(0x404)]&&_0x4cce88['uazapi'][_0x4cc9c5(0x63a)]&&_0x4cce88[_0x4cc9c5(0x30d)]['menuType']===_0x4cc9c5(0x162)){let _0x189ea1={'number':_0x527810['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x4cc9c5(0x47f)+_0x527810['waitingMenu_text']+_0x4cc9c5(0x1e0)+_0x148640}};await this[_0x4cc9c5(0x3c1)](_0x189ea1);}_0x527810[_0x4cc9c5(0x2f7)]=_0x4cc9c5(0x3a9),_0x527810[_0x4cc9c5(0xee)]='',_0x527810[_0x4cc9c5(0x43b)]='',_0x527810[_0x4cc9c5(0x1e3)]=[];}else{this[_0x4cc9c5(0x48b)][_0x4cc9c5(0x361)](this[_0x4cc9c5(0x194)]+'\x20('+this['instance']['wuid']+_0x4cc9c5(0x59f));let _0x150a43={'activatedCount':_0x527810['chatLog'][_0x4cc9c5(0x789)]['filter'](_0x49674e=>String(_0x49674e['blockId'])===String(_0xf59f6f))[_0x4cc9c5(0x476)],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x4cce88[_0x4cc9c5(0x30d)]['pollErrorMessage']){let _0xfe9d68={'number':_0x527810[_0x4cc9c5(0x740)],'options':{'delay':0x0},'textMessage':{'text':_0x4cce88[_0x4cc9c5(0x30d)][_0x4cc9c5(0x1b8)]}};await this['textMessage'](_0xfe9d68);}if(_0x4cce88[_0x4cc9c5(0xc5)]!==void 0x0&&_0x150a43[_0x4cc9c5(0x761)]>=_0x4cce88['maxActives']){let _0x16efd9=Date['now'](),_0x1ef6f1=_0x4cce88[_0x4cc9c5(0x2fa)]??0xa;isNaN(_0x1ef6f1)&&(_0x1ef6f1=0xa);let _0x2259c0=_0x16efd9+_0x1ef6f1*0x3c*0x3e8;_0x150a43[_0x4cc9c5(0x3c6)]=_0x2259c0,_0x150a43[_0x4cc9c5(0x325)][_0x4cc9c5(0x211)](_0x4cc9c5(0x398)),this['updateStopChat'](_0x527810,_0x2259c0),_0x527810[_0x4cc9c5(0xee)]='',_0x527810[_0x4cc9c5(0x43b)]='',_0x527810[_0x4cc9c5(0x1e3)]=[];}return this[_0x4cc9c5(0x1e8)](_0x527810,_0x4cce88,_0x150a43,!0x0),null;}}if(_0x4a9964&&_0x4cce88[_0x4cc9c5(0x49f)]&&!_0x527810[_0x4cc9c5(0xee)]){let _0x206570=_0x527810[_0x4cc9c5(0x167)]['filter'](_0x29d188=>_0x29d188[_0x4cc9c5(0x3bc)][_0x4cc9c5(0x50d)]()===_0x4cce88['next_groupId'][_0x4cc9c5(0x50d)]())[_0x4cc9c5(0x660)]((_0x87ace0,_0xb9d8e8)=>_0x87ace0[_0x4cc9c5(0x4e6)]-_0xb9d8e8[_0x4cc9c5(0x4e6)]);_0x206570[_0x4cc9c5(0x476)]>0x0&&(_0x454ce8=_0x206570[0x0]);}if(!_0x454ce8){let _0x276874=_0x4cce88[_0x4cc9c5(0x3bc)],_0x22fdfc=_0x527810[_0x4cc9c5(0x167)][_0x4cc9c5(0x3f2)](_0x257bf6=>_0x257bf6[_0x4cc9c5(0x3bc)]===_0x276874&&_0x257bf6[_0x4cc9c5(0x4e6)]>_0x4cce88[_0x4cc9c5(0x4e6)])[_0x4cc9c5(0x660)]((_0x104e02,_0x27c921)=>_0x104e02['order']-_0x27c921[_0x4cc9c5(0x4e6)]);_0x22fdfc['length']>0x0&&(_0x454ce8=_0x22fdfc[0x0]);}if(!_0x454ce8)return _0x527810[_0x4cc9c5(0x2f7)]=_0x4cc9c5(0x242),null;_0x527810[_0x4cc9c5(0x6c5)]['realVariables']=_0x570a40;let _0x474888=JSON[_0x4cc9c5(0x3a0)](JSON[_0x4cc9c5(0x389)](_0x454ce8));return this[_0x4cc9c5(0x599)](_0x474888,_0x527810['chatLog']['realVariables']),_0x527810[_0x4cc9c5(0x6c5)][_0x4cc9c5(0x4cd)]=_0x474888['_id'],_0x527810['chatLog'][_0x4cc9c5(0x33d)]=!0x0,_0x474888;}[a0_0x156424(0x513)](_0xf13f73,_0x3cd379){const _0x5a100d=a0_0x156424;return _0xf13f73[_0x5a100d(0x367)](/\{\{([^}]+)\}\}/g,(_0x1a1a7b,_0x42a292)=>_0x3cd379[_0x42a292]||'');}[a0_0x156424(0x599)](_0x4d3cd2,_0x544d4f){const _0x222988=a0_0x156424;for(let _0x16bdd4 in _0x4d3cd2)typeof _0x4d3cd2[_0x16bdd4]==_0x222988(0x40b)?_0x4d3cd2[_0x16bdd4]=this[_0x222988(0x513)](_0x4d3cd2[_0x16bdd4],_0x544d4f):typeof _0x4d3cd2[_0x16bdd4]=='object'&&this[_0x222988(0x599)](_0x4d3cd2[_0x16bdd4],_0x544d4f);}async['goNextblock'](_0x3cb61e,_0x21677a){const _0x330ec1=a0_0x156424;let _0x39e7ce=_0x21677a[_0x330ec1(0x21c)];if(_0x3cb61e[_0x330ec1(0x6c5)]&&_0x3cb61e[_0x330ec1(0x6c5)][_0x330ec1(0x789)]){let _0x22fc2c=_0x3cb61e[_0x330ec1(0x6c5)]['blockLogs'][_0x330ec1(0x3f2)](_0x28bf6b=>String(_0x28bf6b[_0x330ec1(0x78b)])===String(_0x39e7ce))['pop']();if(_0x22fc2c&&_0x22fc2c[_0x330ec1(0x363)]&&_0x21677a['stopIfLastReturnedError'])return _0x3cb61e[_0x330ec1(0x2f7)]=_0x330ec1(0x242),await this[_0x330ec1(0x5e9)](_0x3cb61e),null;}if(_0x21677a[_0x330ec1(0x136)]===_0x330ec1(0x30d)&&_0x21677a[_0x330ec1(0x30d)][_0x330ec1(0x3e5)]===_0x330ec1(0x451)&&_0x3cb61e['waitingMenu_id'])return _0x3cb61e[_0x330ec1(0x6c5)][_0x330ec1(0x4cd)]=_0x39e7ce,await this['saveConversationToDatabase'](_0x3cb61e),null;let _0x4ca73b=await this[_0x330ec1(0x132)](_0x3cb61e);if(_0x3cb61e[_0x330ec1(0x6c5)]&&_0x3cb61e['chatLog']['blockLogs']){let _0x360b49=_0x3cb61e[_0x330ec1(0x6c5)][_0x330ec1(0x789)]['filter'](_0x18e101=>String(_0x18e101[_0x330ec1(0x78b)])===String(_0x39e7ce))['length'];if(_0x21677a[_0x330ec1(0xc5)]!==void 0x0&&_0x360b49>=_0x21677a[_0x330ec1(0xc5)]){let _0x543828=Date[_0x330ec1(0x605)](),_0x5f877=_0x21677a[_0x330ec1(0x2fa)]??0xa;isNaN(_0x5f877)&&(_0x5f877=0xa);let _0x3a09d3=_0x543828+_0x5f877*0x3c*0x3e8,_0x2ff659={'newStoppedUntil':_0x3a09d3};return this[_0x330ec1(0x31d)](_0x3cb61e,_0x3a09d3),this[_0x330ec1(0x1e8)](_0x3cb61e,_0x21677a,_0x2ff659,!0x0),null;}}_0x4ca73b&&_0x4ca73b['type']!==_0x330ec1(0x751)&&await this['processblock'](_0x3cb61e,_0x4ca73b),_0x4ca73b||await this[_0x330ec1(0x5e9)](_0x3cb61e),_0x4ca73b&&_0x4ca73b[_0x330ec1(0x136)]===_0x330ec1(0x751)&&(_0x3cb61e['chatLog'][_0x330ec1(0x4cd)]=_0x39e7ce,await this[_0x330ec1(0x5e9)](_0x3cb61e));}async[a0_0x156424(0x696)](_0x44e409,_0x20ec5e){const _0x25ecae=a0_0x156424;try{let _0x32b7db=_0x20ec5e[_0x25ecae(0x136)];this['logger'][_0x25ecae(0x361)](this[_0x25ecae(0x194)]+'\x20('+this['instance'][_0x25ecae(0x4f9)]+'):\x20Going\x20to\x20'+_0x32b7db);let _0x174dc5={'uazapi':()=>this[_0x25ecae(0x126)](_0x44e409,_0x20ec5e),'save':()=>this[_0x25ecae(0x24c)](_0x44e409,_0x20ec5e),'stop':()=>this[_0x25ecae(0x5db)](_0x44e409,_0x20ec5e),'condition':()=>this['processConditions'](_0x44e409,_0x20ec5e),'varedit':()=>this['processvaredits'](_0x44e409,_0x20ec5e),'apirequest':()=>this[_0x25ecae(0x3bb)](_0x44e409,_0x20ec5e),'goToFlow':()=>this['processgoToFlow'](_0x44e409,_0x20ec5e),'scheduleFlow':()=>this[_0x25ecae(0x286)](_0x44e409,_0x20ec5e),'awaitSeconds':()=>this[_0x25ecae(0x1e5)](_0x44e409,_0x20ec5e),'clearVariables':()=>this['processclearVariables'](_0x44e409,_0x20ec5e)}[_0x32b7db];_0x174dc5&&await _0x174dc5();}catch(_0x346b9b){this[_0x25ecae(0x48b)]['error'](this[_0x25ecae(0x194)]+'\x20('+this[_0x25ecae(0x6e9)][_0x25ecae(0x4f9)]+_0x25ecae(0xef)+(_0x346b9b instanceof Error?_0x346b9b['message']:JSON[_0x25ecae(0x389)](_0x346b9b,null,0x2)));}}async[a0_0x156424(0x1e5)](_0xeca4b2,_0x1dcb42){const _0x3aeda7=a0_0x156424;if(this[_0x3aeda7(0x48b)][_0x3aeda7(0x361)](this[_0x3aeda7(0x194)]+'\x20('+this[_0x3aeda7(0x6e9)][_0x3aeda7(0x4f9)]+'):\x20Entrou\x20na\x20função\x20processawaitSeconds'),!_0xeca4b2||!_0x1dcb42)return this[_0x3aeda7(0x48b)]['error'](this[_0x3aeda7(0x194)]+'\x20('+this[_0x3aeda7(0x6e9)][_0x3aeda7(0x4f9)]+_0x3aeda7(0x2db)),null;let _0x2d880a=+_0x1dcb42['awaitSeconds'];isNaN(_0x2d880a)&&(_0x2d880a=0x0),_0x2d880a=Math['min'](_0x2d880a,0x3c),await(0x0,w[_0x3aeda7(0x2e7)])(_0x2d880a*0x3e8);let _0x3c8ee8={'moreLogs':['Pausado\x20por\x20'+_0x2d880a+_0x3aeda7(0x774)]};return await this[_0x3aeda7(0x1e8)](_0xeca4b2,_0x1dcb42,_0x3c8ee8),_0x2d880a;}async[a0_0x156424(0x5ac)](_0x2209b5,_0x3b84ee){const _0x11ab47=a0_0x156424;if(this[_0x11ab47(0x48b)][_0x11ab47(0x361)](this[_0x11ab47(0x194)]+'\x20('+this[_0x11ab47(0x6e9)]['wuid']+'):\x20Entrou\x20na\x20função\x20clearVariables'),!_0x2209b5||!_0x3b84ee)return this[_0x11ab47(0x48b)][_0x11ab47(0x363)](this[_0x11ab47(0x194)]+'\x20('+this[_0x11ab47(0x6e9)][_0x11ab47(0x4f9)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x2cade2=[];if(_0x3b84ee[_0x11ab47(0x409)][_0x11ab47(0x652)]()===_0x11ab47(0x56f)){let _0x5591d6=[_0x11ab47(0x2a5),_0x11ab47(0x417),_0x11ab47(0x2df),'_remoteJid',_0x11ab47(0x21c),_0x11ab47(0x5cd)];_0x2cade2=Object[_0x11ab47(0x153)](_0x2209b5[_0x11ab47(0x6c5)]['realVariables'])['filter'](_0x1e1679=>_0x1e1679[_0x11ab47(0x278)]('_')&&!_0x5591d6[_0x11ab47(0x341)](_0x1e1679));}else _0x2cade2=_0x3b84ee['clearVariables']['split']('|')[_0x11ab47(0x5ad)](_0x490a4e=>(_0x490a4e=_0x490a4e[_0x11ab47(0x367)](/[{}]/g,'')[_0x11ab47(0x652)](),_0x490a4e[_0x11ab47(0x278)]('_')?_0x490a4e:'_'+_0x490a4e));let _0x14c0e2=[];_0x2cade2[_0x11ab47(0x6cb)](_0x5e213b=>{const _0x1abe57=_0x11ab47;_0x5e213b in _0x2209b5[_0x1abe57(0x6c5)][_0x1abe57(0x474)]&&(delete _0x2209b5[_0x1abe57(0x6c5)]['realVariables'][_0x5e213b],_0x14c0e2[_0x1abe57(0x211)](_0x5e213b));}),_0x14c0e2['length']>0x0?this[_0x11ab47(0x48b)][_0x11ab47(0x361)](this[_0x11ab47(0x194)]+'\x20('+this[_0x11ab47(0x6e9)]['wuid']+'):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20'+_0x14c0e2['join'](',\x20')):this[_0x11ab47(0x48b)][_0x11ab47(0x361)](this[_0x11ab47(0x194)]+'\x20('+this['instance']['wuid']+'):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção');let _0x3c053f={'moreLogs':['Removidas\x20as\x20variáveis:\x20'+_0x14c0e2['join'](',\x20')]};return await this[_0x11ab47(0x1e8)](_0x2209b5,_0x3b84ee,_0x3c053f),null;}async[a0_0x156424(0x286)](_0x4614d2,_0x4673b4){const _0x5b80f5=a0_0x156424;if(this[_0x5b80f5(0x48b)][_0x5b80f5(0x361)](this[_0x5b80f5(0x194)]+'\x20('+this[_0x5b80f5(0x6e9)][_0x5b80f5(0x4f9)]+'):\x20Entrou\x20na\x20função\x20scheduleFlow'),!_0x4614d2||!_0x4673b4)return this[_0x5b80f5(0x48b)][_0x5b80f5(0x363)](this[_0x5b80f5(0x194)]+'\x20('+this[_0x5b80f5(0x6e9)][_0x5b80f5(0x4f9)]+_0x5b80f5(0x2db)),null;let _0xffd042=_0x4614d2[_0x5b80f5(0x740)];_0x4673b4['scheduleFlow'][_0x5b80f5(0x740)]&&_0x4673b4[_0x5b80f5(0x764)]['remoteJid'][_0x5b80f5(0x652)]()!==''&&(_0xffd042=_0x4673b4[_0x5b80f5(0x30d)][_0x5b80f5(0x740)][_0x5b80f5(0x652)]());let _0x36a0b5=_0x4673b4['scheduleFlow'][_0x5b80f5(0x6f4)]*0xea60,_0x2b85d5=Date['now']()+_0x36a0b5,_0x444db0={'status':_0x5b80f5(0x37e),'info':_0x5b80f5(0x22d)+_0x4614d2[_0x5b80f5(0x350)],'remoteJids':[_0xffd042],'when':_0x2b85d5,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x5b80f5(0x321),'flowName':_0x4673b4[_0x5b80f5(0x764)][_0x5b80f5(0x3b8)]};this['editScheduleMessage'](_0x444db0);let _0x109914=await this[_0x5b80f5(0x132)](_0x4614d2);_0x109914&&await this['processblock'](_0x4614d2,_0x109914);}async[a0_0x156424(0x576)](_0x5abf77,_0xf12b1b){const _0x5341c3=a0_0x156424;if(this['logger']['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Entrou\x20na\x20função\x20goToFlow'),!_0x5abf77||!_0xf12b1b)return this[_0x5341c3(0x48b)]['error'](this[_0x5341c3(0x194)]+'\x20('+this[_0x5341c3(0x6e9)][_0x5341c3(0x4f9)]+_0x5341c3(0x2db)),null;await this['updateConversation'](_0x5abf77,_0xf12b1b,{},!0x0,!0x0);let _0x54ad31=_0xf12b1b[_0x5341c3(0x24e)];_0x5abf77=await this[_0x5341c3(0x54b)](_0x54ad31,_0x5abf77[_0x5341c3(0x740)],_0x5abf77[_0x5341c3(0x6c5)][_0x5341c3(0x474)]);let _0x526739=await this['NextBlock'](_0x5abf77);_0x526739&&await this['processblock'](_0x5abf77,_0x526739);}async[a0_0x156424(0x54b)](_0x3bc950,_0xf42797,_0x220a9f){const _0x2abc23=a0_0x156424;this[_0x2abc23(0x48b)][_0x2abc23(0x361)](this[_0x2abc23(0x194)]+'\x20('+this[_0x2abc23(0x6e9)]['wuid']+_0x2abc23(0x6f6));try{if(_0x3bc950=await this[_0x2abc23(0x2c2)][_0x2abc23(0x321)][_0x2abc23(0x6d5)]({'where':{'name':_0x3bc950}},this['instance'][_0x2abc23(0x4f9)]),!_0x3bc950)return this[_0x2abc23(0x48b)][_0x2abc23(0x363)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Flow\x20não\x20encontrado'),null;let _0x29a09d=require(_0x2abc23(0xe2))[_0x2abc23(0x6e3)],_0x375b65=Date[_0x2abc23(0x605)](),_0x3e77bf='start',_0x174ed0={},_0x3f1a8e={},_0x5d4d74={..._0x3bc950,'chatLog':null},_0x34cfb7={'lastReceivedMessage':_0x174ed0,'lastSendMessage':_0x3f1a8e,'lastBlockId':_0x3e77bf,'lastCondition':!0x0,'realVariables':_0x220a9f};_0x5d4d74[_0x2abc23(0x6c5)]=_0x34cfb7,_0x5d4d74[_0x2abc23(0x6c5)]['realVariables']={..._0x220a9f},delete _0x5d4d74[_0x2abc23(0x21c)],_0x5d4d74[_0x2abc23(0x21c)]=new _0x29a09d(),_0x5d4d74[_0x2abc23(0x273)]=_0x375b65,_0x5d4d74['status']=_0x2abc23(0x3a9),_0x5d4d74[_0x2abc23(0x740)]=_0xf42797;let _0x473b7f=await this[_0x2abc23(0x2c2)][_0x2abc23(0x628)][_0x2abc23(0x2e5)](_0x5d4d74[_0x2abc23(0x21c)],_0x5d4d74,this[_0x2abc23(0x6e9)]['wuid']);return this[_0x2abc23(0x48b)][_0x2abc23(0x361)](this[_0x2abc23(0x194)]+'\x20('+this['instance'][_0x2abc23(0x4f9)]+_0x2abc23(0x30f)),_0x473b7f?_0x5d4d74:null;}catch(_0x1bc143){let _0x5453e8='Erro\x20ao\x20copiar\x20o\x20documento',_0x137a8f=_0x1bc143 instanceof Error?_0x1bc143[_0x2abc23(0x6b3)]:typeof _0x1bc143==_0x2abc23(0x666)?JSON[_0x2abc23(0x389)](_0x1bc143):_0x1bc143,_0x1ed696=_0x5453e8+':\x20'+_0x137a8f;throw this[_0x2abc23(0x48b)][_0x2abc23(0x363)](this[_0x2abc23(0x194)]+'\x20('+this[_0x2abc23(0x6e9)][_0x2abc23(0x4f9)]+'):\x20'+_0x1ed696),new m(_0x1ed696);}}async[a0_0x156424(0x3bb)](_0x38137d,_0x3f05f7){const _0x19f8eb=a0_0x156424;let _0x207610,_0x489fc8;try{let _0x49ae7c=_0x3f05f7['apirequest'];if(!_0x49ae7c||!_0x49ae7c[_0x19f8eb(0x1cf)]||!_0x49ae7c[_0x19f8eb(0x2c9)])throw new Error(_0x19f8eb(0x318));let _0x55c731;([_0x19f8eb(0x247),'https://api.openai.com/v1/images/generations',_0x19f8eb(0x5b5)]['some'](_0x47ca78=>_0x49ae7c[_0x19f8eb(0x1cf)][_0x19f8eb(0x341)](_0x47ca78))||_0x49ae7c[_0x19f8eb(0x3bf)])&&(_0x55c731=_0x19f8eb(0x719));let _0xe0babf='\u205f',_0x5e834e;try{_0x5e834e=JSON[_0x19f8eb(0x3a0)](_0x49ae7c[_0x19f8eb(0x4e5)]['replace'](new RegExp(_0xe0babf,'g'),''));}catch(_0x7a1c20){throw _0x7a1c20;}let _0x154ba1={'method':_0x49ae7c[_0x19f8eb(0x2c9)],'url':_0x49ae7c[_0x19f8eb(0x1cf)],'headers':_0x49ae7c['header']||{},..._0x49ae7c[_0x19f8eb(0x2c9)][_0x19f8eb(0x427)]()!==_0x19f8eb(0x6e8)&&_0x49ae7c[_0x19f8eb(0x4e5)]?{'data':JSON[_0x19f8eb(0x3a0)](_0x49ae7c[_0x19f8eb(0x4e5)][_0x19f8eb(0x367)](new RegExp(_0xe0babf,'g'),''))}:{},..._0x55c731&&{'responseType':_0x55c731}},_0x3a47a3=await(0x0,K[_0x19f8eb(0x72b)])(_0x154ba1),_0x56d2f7=_0x3a47a3[_0x19f8eb(0x184)][_0x19f8eb(0xbb)];if(_0x56d2f7&&_0x56d2f7[_0x19f8eb(0x341)](_0x19f8eb(0x747))||typeof _0x3a47a3[_0x19f8eb(0x3cf)]==_0x19f8eb(0x40b)){if(typeof _0x3a47a3[_0x19f8eb(0x3cf)]=='string'){let _0x4a9f3e=_0x3a47a3['data']['replace'](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x19f8eb(0x652)]();try{_0x207610=JSON[_0x19f8eb(0x3a0)](_0x4a9f3e);}catch(_0xede10a){console['error']('Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20'+_0xede10a[_0x19f8eb(0x6b3)]),_0x207610={'_apiResponse':_0x3a47a3[_0x19f8eb(0x3cf)]};}}else _0x207610=_0x3a47a3['data'];let _0x2b039c=_0x38137d[_0x19f8eb(0x6c5)][_0x19f8eb(0x474)],_0x459fe0=this[_0x19f8eb(0x578)](_0x207610);return Object[_0x19f8eb(0x263)](_0x2b039c,_0x459fe0),_0x38137d['chatLog'][_0x19f8eb(0x474)]=_0x2b039c,_0x489fc8={'error':!0x1,'apiResponse':_0x207610},this['updateConversation'](_0x38137d,_0x3f05f7,_0x489fc8),_0x207610;}if(_0x56d2f7&&(_0x56d2f7[_0x19f8eb(0x341)](_0x19f8eb(0x6fa))||_0x56d2f7[_0x19f8eb(0x341)](_0x19f8eb(0x49c))||_0x56d2f7[_0x19f8eb(0x341)](_0x19f8eb(0x5f8))||_0x56d2f7[_0x19f8eb(0x341)]('video'))){this[_0x19f8eb(0x48b)][_0x19f8eb(0x361)](this[_0x19f8eb(0x194)]+'\x20('+this[_0x19f8eb(0x6e9)][_0x19f8eb(0x4f9)]+'):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20'+_0x56d2f7);let _0x1f7863=(0x0,Me['v4'])(),_0xecc4dd='',_0x4d2baf={'image/jpeg':_0x19f8eb(0x227),'image/png':_0x19f8eb(0x27c),'image/gif':_0x19f8eb(0x52a),'image/webp':_0x19f8eb(0x1a9),'image/svg+xml':_0x19f8eb(0x265),'audio/mpeg':_0x19f8eb(0x642),'audio/ogg':_0x19f8eb(0x574),'audio/wav':'.wav','video/mp4':_0x19f8eb(0xc3),'video/webm':_0x19f8eb(0x40f),'video/ogg':_0x19f8eb(0x76e),'text/plain':_0x19f8eb(0x12b),'application/pdf':_0x19f8eb(0x37d),'application/msword':_0x19f8eb(0xd9),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x19f8eb(0x675),'application/vnd.ms-excel':_0x19f8eb(0x354),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x19f8eb(0x3fa),'application/vnd.ms-powerpoint':'.ppt','application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x4d2baf[_0x56d2f7]?(_0xecc4dd=_0x4d2baf[_0x56d2f7],this[_0x19f8eb(0x48b)][_0x19f8eb(0x361)](this['instanceName']+'\x20('+this[_0x19f8eb(0x6e9)][_0x19f8eb(0x4f9)]+_0x19f8eb(0xa4)+_0xecc4dd)):(_0xecc4dd=_0x19f8eb(0x1c9),this[_0x19f8eb(0x48b)][_0x19f8eb(0x361)](this[_0x19f8eb(0x194)]+'\x20('+this['instance']['wuid']+'):\x20Usando\x20extensão\x20padrão:\x20'+_0xecc4dd)),_0x1f7863+=_0xecc4dd,this[_0x19f8eb(0x48b)][_0x19f8eb(0x361)](this[_0x19f8eb(0x194)]+'\x20('+this[_0x19f8eb(0x6e9)][_0x19f8eb(0x4f9)]+_0x19f8eb(0x18b)+_0x1f7863);let _0x41aa1b=this[_0x19f8eb(0x2b4)][_0x19f8eb(0x2cb)](_0x19f8eb(0x14f))['URL'];if(!_0x41aa1b){let _0x14e503=this[_0x19f8eb(0x2b4)][_0x19f8eb(0x2cb)](_0x19f8eb(0x65a));_0x41aa1b=_0x19f8eb(0x238)+(_0x14e503&&_0x14e503[_0x19f8eb(0x4a3)][_0x19f8eb(0x277)]('/')[0x4]);}let _0x288c3d=Buffer[_0x19f8eb(0x32d)](_0x3a47a3[_0x19f8eb(0x3cf)]);await this[_0x19f8eb(0x48d)](_0x288c3d,_0x1f7863);let _0x309d7d='/media/'+_0x1f7863;_0x309d7d=''+_0x41aa1b+_0x309d7d,_0x207610={'fileUrl':_0x309d7d},_0x38137d[_0x19f8eb(0x6c5)][_0x19f8eb(0x474)][_0x19f8eb(0xe1)]=_0x309d7d;let _0x157507=_0x38137d[_0x19f8eb(0x6c5)][_0x19f8eb(0x474)],_0x277040=this['flattenObject'](_0x207610);return Object[_0x19f8eb(0x263)](_0x157507,_0x277040),_0x38137d[_0x19f8eb(0x6c5)][_0x19f8eb(0x474)]=_0x157507,_0x489fc8={'error':!0x1,'apiResponse':{'fileUrl':_0x309d7d}},this[_0x19f8eb(0x1e8)](_0x38137d,_0x3f05f7,_0x489fc8),_0x207610;}}catch(_0x44dd1e){console[_0x19f8eb(0x363)]('Erro\x20ao\x20processar\x20a\x20chamada\x20API:',_0x44dd1e['message']),_0x44dd1e[_0x19f8eb(0x402)]&&(_0x207610=_0x44dd1e[_0x19f8eb(0x402)][_0x19f8eb(0x3cf)]);let _0x27d7b6=_0x38137d[_0x19f8eb(0x6c5)][_0x19f8eb(0x474)],_0x58f59a=this['flattenObject'](_0x207610);return Object[_0x19f8eb(0x263)](_0x27d7b6,_0x58f59a),_0x38137d[_0x19f8eb(0x6c5)][_0x19f8eb(0x474)]=_0x27d7b6,_0x489fc8={'error':!0x0,'errorLog':_0x44dd1e[_0x19f8eb(0x50d)](),'apiResponse':_0x207610},this['updateConversation'](_0x38137d,_0x3f05f7,_0x489fc8),{'success':!0x1};}}[a0_0x156424(0x475)](_0x200120,_0x3e398a){const _0x23f26c=a0_0x156424;let _0x348365=_0x1008c1=>{const _0x171576=a0_0x4ecf;let _0x4ff1d6=_0x1008c1[_0x171576(0x367)](/[^0-9.,-]/g,'')[_0x171576(0x367)](',','.'),_0x4d2564=parseFloat(_0x4ff1d6);return isNaN(_0x4d2564)?null:_0x4d2564;},_0x25cd41=_0x3e398a[_0x23f26c(0x780)],_0x5bb6ea=_0x3e398a[_0x23f26c(0x287)];typeof _0x25cd41=='string'&&(_0x25cd41=this['replaceVariables'](_0x25cd41,_0x200120[_0x23f26c(0x6c5)]['realVariables'])??''),typeof _0x5bb6ea==_0x23f26c(0x40b)&&(_0x5bb6ea=this[_0x23f26c(0x513)](_0x5bb6ea,_0x200120[_0x23f26c(0x6c5)][_0x23f26c(0x474)])??'');let _0x22f737=null;if(!_0x3e398a[_0x23f26c(0x356)])return null;switch(this[_0x23f26c(0x48b)][_0x23f26c(0x361)](this[_0x23f26c(0x194)]+'\x20('+this['instance']['wuid']+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0x25cd41),this[_0x23f26c(0x48b)][_0x23f26c(0x361)](this[_0x23f26c(0x194)]+'\x20('+this[_0x23f26c(0x6e9)]['wuid']+_0x23f26c(0xa6)+_0x5bb6ea),_0x3e398a[_0x23f26c(0x356)]){case'+':case'-':case'*':case'/':let _0xb4e4b6=_0x348365(_0x25cd41||'0'),_0xf5133c=_0x348365(_0x5bb6ea||'0');if(_0xb4e4b6===null)return null;switch(_0x3e398a['editOperator']){case'+':_0x22f737=_0xb4e4b6+(_0xf5133c??0x0);break;case'-':_0x22f737=_0xb4e4b6-(_0xf5133c??0x0);break;case'*':_0x22f737=_0xb4e4b6*(_0xf5133c??0x1);break;case'/':_0xf5133c!==0x0&&(_0x22f737=_0xb4e4b6/(_0xf5133c??0x1));break;}break;case _0x23f26c(0xca):case _0x23f26c(0xb1):let _0x13316f=_0x5bb6ea,_0x365bd1=_0x3e398a['replaceValue'];if(typeof _0x365bd1=='string'&&(_0x365bd1=this['replaceVariables'](_0x365bd1,_0x200120[_0x23f26c(0x6c5)][_0x23f26c(0x474)])??''),_0x13316f&&_0x365bd1!==void 0x0){let _0x103263=_0x3e398a[_0x23f26c(0x356)]===_0x23f26c(0xca)?new RegExp(_0x13316f[_0x23f26c(0x367)](/[-\/\\^$*+?.()|[\]{}]/g,_0x23f26c(0x142)),'g'):new RegExp(_0x13316f,'g');_0x22f737=_0x25cd41[_0x23f26c(0x367)](_0x103263,_0x365bd1);}else console[_0x23f26c(0x234)](_0x23f26c(0x540));break;case _0x23f26c(0x4b3):_0x22f737=_0x5bb6ea;break;case _0x23f26c(0x521):let _0x1568fb=_0x25cd41[_0x23f26c(0x4ac)](new RegExp(_0x5bb6ea||''));_0x22f737=_0x1568fb?_0x1568fb[0x0]:'';break;case _0x23f26c(0x5ff):_0x22f737=_0x25cd41[_0x23f26c(0x550)](0x0,parseInt(_0x5bb6ea||'0'));break;case _0x23f26c(0x697):let _0x223928=parseInt(_0x5bb6ea||'0');_0x22f737=_0x25cd41[_0x23f26c(0x550)](_0x25cd41[_0x23f26c(0x476)]-_0x223928);break;case _0x23f26c(0x456):let _0x23fb29=_0x348365(_0x25cd41),_0x47e2d1=parseInt(_0x5bb6ea||'0');_0x47e2d1=Math['abs'](_0x47e2d1),_0x23fb29!==null?_0x22f737=_0x23fb29[_0x23f26c(0x601)](_0x23f26c(0x380),{'minimumFractionDigits':_0x47e2d1,'maximumFractionDigits':_0x47e2d1}):(console[_0x23f26c(0x234)](_0x23f26c(0x64a)+_0x25cd41),_0x22f737=null);break;case _0x23f26c(0x258):let _0x4ab890=_0x348365(_0x25cd41);_0x4ab890!==null?_0x22f737=_0x4ab890[_0x23f26c(0x601)](_0x23f26c(0x380),{'style':_0x23f26c(0x6ea),'currency':_0x23f26c(0x67d)}):(console[_0x23f26c(0x234)](_0x23f26c(0x334)+_0x25cd41),_0x22f737=null);break;case'upperCase':_0x22f737=_0x25cd41[_0x23f26c(0x427)]();break;case'lowerCase':_0x22f737=_0x25cd41[_0x23f26c(0x18d)]();break;case _0x23f26c(0xba):_0x22f737=_0x25cd41[_0x23f26c(0x277)]('\x20')[_0x23f26c(0x5ad)](_0x49068b=>_0x49068b[_0x23f26c(0x192)](0x0)[_0x23f26c(0x427)]()+_0x49068b[_0x23f26c(0x550)](0x1)[_0x23f26c(0x18d)]())[_0x23f26c(0xdb)]('\x20');break;case _0x23f26c(0x60c):_0x22f737=_0x25cd41['trim']();break;default:_0x22f737=_0x25cd41;}return _0x22f737!==null?_0x22f737['toString']():null;}async[a0_0x156424(0x3b2)](_0x585704,_0xe3d937){const _0x2b642a=a0_0x156424;try{let _0x45b2b4=_0x585704[_0x2b642a(0x718)]?.[_0x2b642a(0x3f2)](_0x4a3bb1=>_0x4a3bb1[_0x2b642a(0x78b)]===_0xe3d937['_id']?.[_0x2b642a(0x50d)]())||[],_0x1be790=_0xe3d937[_0x2b642a(0x1a1)],_0x416170=null,_0x38a36c=[],_0x511ecd=_0x585704[_0x2b642a(0x6c5)]['realVariables'][_0x1be790];_0x38a36c[_0x2b642a(0x211)](_0x2b642a(0x681)+_0x511ecd+'\x22');for(let _0x146879 of _0x45b2b4){_0x146879[_0x2b642a(0x780)]=_0x511ecd,_0x416170=_0x146879['firstValue'];let _0x349dc0;try{_0x349dc0=this[_0x2b642a(0x475)](_0x585704,_0x146879);}catch(_0x37fa6e){console['error']('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x37fa6e[_0x2b642a(0x6b3)]);continue;}if(_0x349dc0!==null){let _0x4e5069='Operador:\x20\x22'+_0x146879[_0x2b642a(0x356)]+'\x22',_0x2f131e=[_0x2b642a(0x258),_0x2b642a(0x408),'lowerCase',_0x2b642a(0xba),_0x2b642a(0x60c)];_0x146879[_0x2b642a(0x356)]==='findAndReplace'||_0x146879[_0x2b642a(0x356)]===_0x2b642a(0xb1)?_0x4e5069+=_0x2b642a(0x797)+_0x146879['secondValue']+_0x2b642a(0x691)+_0x146879[_0x2b642a(0x24b)]+'\x22':!_0x2f131e[_0x2b642a(0x341)](_0x146879[_0x2b642a(0x356)])&&_0x146879[_0x2b642a(0x287)]!==null&&_0x146879[_0x2b642a(0x287)]!==void 0x0&&(_0x4e5069+=',\x20valor\x20passado:\x20\x22'+_0x146879[_0x2b642a(0x287)]+'\x22'),_0x4e5069+=_0x2b642a(0x44b)+_0x349dc0+'.',_0x38a36c[_0x2b642a(0x211)](_0x4e5069);}_0x349dc0!==null&&(_0x511ecd=_0x349dc0);}if(_0x585704[_0x2b642a(0x6c5)][_0x2b642a(0x474)]&&_0xe3d937[_0x2b642a(0x1a1)]){_0x585704['chatLog'][_0x2b642a(0x474)][_0xe3d937[_0x2b642a(0x1a1)]]=_0x511ecd;let _0x232064={'variable':_0xe3d937['saveVariable'],'oldValue':_0x416170,'newValue':_0x511ecd,'moreLogs':_0x38a36c};try{this[_0x2b642a(0x1e8)](_0x585704,_0xe3d937,_0x232064);}catch(_0x5666c8){console[_0x2b642a(0x363)](_0x2b642a(0x3de)+_0x5666c8['message']);}}return _0x1be790;}catch(_0x5342ae){return console[_0x2b642a(0x363)](_0x2b642a(0x690)+_0x5342ae[_0x2b642a(0x6b3)]),null;}}async['processConditions'](_0x45288e,_0x396629){const _0x2ec790=a0_0x156424;try{let _0x483787=[],_0x3be196=_0x45288e[_0x2ec790(0x25c)]['filter'](_0x12c779=>_0x12c779[_0x2ec790(0x78b)]===_0x396629[_0x2ec790(0x21c)][_0x2ec790(0x50d)]()),_0x3df900=null,_0x11f253=!0x1;for(let _0x5b91c1 of _0x3be196){let _0x3ae04e=this['evaluateCondition'](_0x45288e,_0x5b91c1);_0x483787['push'](_0x2ec790(0x378)+_0x5b91c1[_0x2ec790(0x780)]+_0x2ec790(0x22c)+_0x5b91c1[_0x2ec790(0x3b5)]+_0x2ec790(0x317)+_0x5b91c1[_0x2ec790(0x287)]+_0x2ec790(0x4e7)+_0x3ae04e),_0x3df900===null?_0x3df900=_0x3ae04e:_0x5b91c1[_0x2ec790(0x5b9)]===_0x2ec790(0x529)?(_0x3df900=_0x3df900&&_0x3ae04e,_0x3ae04e||(_0x11f253=!0x0)):_0x5b91c1['OrAnd']==='or'&&(_0x11f253||(_0x3df900=_0x3df900||_0x3ae04e));}_0x3df900===null&&(_0x3df900=!0x0);let _0x840572={'moreLogs':_0x483787};_0x45288e[_0x2ec790(0x6c5)][_0x2ec790(0x33d)]=_0x3df900,await this[_0x2ec790(0x1e8)](_0x45288e,_0x396629,_0x840572);}catch(_0x3f265f){this[_0x2ec790(0x48b)][_0x2ec790(0x363)](this['instanceName']+'\x20('+this[_0x2ec790(0x6e9)]['wuid']+_0x2ec790(0x1fc)+(_0x3f265f instanceof Error?_0x3f265f['message']:JSON[_0x2ec790(0x389)](_0x3f265f,null,0x2)));}}[a0_0x156424(0x3c7)](_0xfcfb8c,_0x588340){const _0xa018b4=a0_0x156424;let _0x3bfa50=_0x588340[_0xa018b4(0x780)],_0x1cb0cd=_0x588340[_0xa018b4(0x287)];typeof _0x3bfa50==_0xa018b4(0x40b)&&(_0x3bfa50=this[_0xa018b4(0x513)](_0x3bfa50,_0xfcfb8c[_0xa018b4(0x6c5)][_0xa018b4(0x474)])??''),typeof _0x1cb0cd==_0xa018b4(0x40b)&&(_0x1cb0cd=this['replaceVariables'](_0x1cb0cd,_0xfcfb8c[_0xa018b4(0x6c5)][_0xa018b4(0x474)])??'');try{switch(_0x588340[_0xa018b4(0x3b5)]){case _0xa018b4(0x48a):return _0x3bfa50===_0x1cb0cd;case'notEqual':return _0x3bfa50!==_0x1cb0cd;case'contains':return this[_0xa018b4(0x154)](_0x3bfa50,_0x1cb0cd);case _0xa018b4(0x6fe):return!this[_0xa018b4(0x154)](_0x3bfa50,_0x1cb0cd);case _0xa018b4(0xbd):return parseFloat(_0x3bfa50)>parseFloat(_0x1cb0cd);case _0xa018b4(0x26e):return parseFloat(_0x3bfa50)<parseFloat(_0x1cb0cd);case'notEmpty':return _0x3bfa50!=='';case _0xa018b4(0x71e):return _0x3bfa50==='';case'matchRegex':return new RegExp(_0x1cb0cd)[_0xa018b4(0x589)](_0x3bfa50);case _0xa018b4(0x2ae):return!new RegExp(_0x1cb0cd)[_0xa018b4(0x589)](_0x3bfa50);default:return!0x1;}}catch(_0x3946a2){return console[_0xa018b4(0x363)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x3946a2),!0x1;}}[a0_0x156424(0x154)](_0x155823,_0x2669b5){const _0x1f8662=a0_0x156424;if(_0x155823===_0x2669b5&&/^\d+$/[_0x1f8662(0x589)](_0x155823))return!0x0;if(this[_0x1f8662(0x437)](_0x155823)&&/^\d+$/[_0x1f8662(0x589)](_0x2669b5)){let _0x8c85a3=_0x155823[_0x1f8662(0x277)](',')[_0x1f8662(0x5ad)](_0x5e3685=>parseInt(_0x5e3685[_0x1f8662(0x652)]())),_0x3d8af5=parseInt(_0x2669b5);return _0x8c85a3[_0x1f8662(0x341)](_0x3d8af5);}return _0x155823[_0x1f8662(0x341)](_0x2669b5);}[a0_0x156424(0x437)](_0x2b30f7){const _0xdee910=a0_0x156424;return/^\d+(,\d+)*$/[_0xdee910(0x589)](_0x2b30f7);}[a0_0x156424(0x3c9)](_0x3b075d){const _0x16031b=a0_0x156424;let _0x57fc91=!0x0,_0x8cf2a5=null;for(let _0x50c7a8 of _0x3b075d){let _0x12e205=this[_0x16031b(0x17b)](_0x50c7a8);if(_0x8cf2a5==='or'&&_0x12e205){_0x57fc91=!0x0;break;}if(_0x8cf2a5===_0x16031b(0x529)&&!_0x12e205){_0x57fc91=!0x1;break;}_0x8cf2a5=_0x50c7a8['OrAnd'];}return _0x57fc91;}['evaluateConditionTest'](_0x3d5adc){const _0x59a108=a0_0x156424;let _0x30534a=_0x3d5adc[_0x59a108(0x780)],_0x5d6591=_0x3d5adc[_0x59a108(0x287)];try{switch(_0x3d5adc['expression']){case _0x59a108(0x48a):return String(_0x30534a)===String(_0x5d6591);case'notEqual':return String(_0x30534a)!==String(_0x5d6591);case'contains':return String(_0x30534a)['includes'](String(_0x5d6591));case _0x59a108(0x6fe):return!String(_0x30534a)['includes'](String(_0x5d6591));case _0x59a108(0xbd):return parseFloat(String(_0x30534a))>parseFloat(String(_0x5d6591));case'less':return parseFloat(String(_0x30534a))<parseFloat(String(_0x5d6591));case'notEmpty':return String(_0x30534a)!=='';case _0x59a108(0x71e):return String(_0x30534a)==='';case _0x59a108(0x369):return new RegExp(String(_0x5d6591))[_0x59a108(0x589)](String(_0x30534a));case _0x59a108(0x2ae):return!new RegExp(String(_0x5d6591))[_0x59a108(0x589)](String(_0x30534a));default:return!0x1;}}catch(_0x4b05a6){return console[_0x59a108(0x363)](_0x59a108(0x603)+_0x4b05a6),!0x1;}}async[a0_0x156424(0x24c)](_0x4e571b,_0xe93df){const _0x589ff7=a0_0x156424;if(this[_0x589ff7(0x48b)][_0x589ff7(0x361)](this[_0x589ff7(0x194)]+'\x20('+this[_0x589ff7(0x6e9)][_0x589ff7(0x4f9)]+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x4e571b||!_0xe93df)return this[_0x589ff7(0x48b)][_0x589ff7(0x363)](this[_0x589ff7(0x194)]+'\x20('+this[_0x589ff7(0x6e9)][_0x589ff7(0x4f9)]+_0x589ff7(0x2db)),null;let _0x368c20=_0x4e571b[_0x589ff7(0x6c5)]['lastReceivedMessage'][_0x589ff7(0x13f)]['id'];this[_0x589ff7(0x48b)][_0x589ff7(0x361)](this[_0x589ff7(0x194)]+'\x20('+this[_0x589ff7(0x6e9)][_0x589ff7(0x4f9)]+'):\x20mediaMessageInfoId\x20:\x20'+_0x368c20);let _0x2b4dea={'key':{'id':_0x368c20}},_0x477d83=_0xe93df[_0x589ff7(0x1a1)];_0x4e571b[_0x589ff7(0x6c5)]['realVariables']['_'+_0x477d83+_0x589ff7(0x3da)]=null,_0x4e571b[_0x589ff7(0x6c5)][_0x589ff7(0x474)]['_'+_0x477d83+_0x589ff7(0x60b)]=null,_0x4e571b[_0x589ff7(0x6c5)][_0x589ff7(0x474)]['_'+_0x477d83+_0x589ff7(0x268)]=null,_0x4e571b[_0x589ff7(0x6c5)][_0x589ff7(0x474)]['_'+_0x477d83+_0x589ff7(0x346)]=_0x4e571b['chatLog'][_0x589ff7(0x4ad)]['type'];try{let _0x586326=await this['getBase64FromMediaMessage'](_0x2b4dea);this['logger'][_0x589ff7(0x361)](this[_0x589ff7(0x194)]+'\x20('+this['instance'][_0x589ff7(0x4f9)]+_0x589ff7(0x39a)),_0x4e571b[_0x589ff7(0x6c5)]['realVariables']['_'+_0x477d83+'.url']=_0x586326['fileUrl'],_0x4e571b[_0x589ff7(0x6c5)][_0x589ff7(0x474)]['_'+_0x477d83+_0x589ff7(0x60b)]=_0x586326['mimetype'];let _0x280ede=_0x586326[_0x589ff7(0x35f)][_0x589ff7(0x4ac)](/\/(\w+)$/),_0x8dd384=_0x280ede?_0x280ede[0x1]:null;_0x4e571b[_0x589ff7(0x6c5)][_0x589ff7(0x474)]['_'+_0x477d83+_0x589ff7(0x268)]=_0x8dd384,this[_0x589ff7(0x48b)][_0x589ff7(0x361)](this[_0x589ff7(0x194)]+'\x20('+this[_0x589ff7(0x6e9)][_0x589ff7(0x4f9)]+_0x589ff7(0x176)+_0x477d83+'\x27.');}catch(_0x397e60){this['logger'][_0x589ff7(0x363)](this[_0x589ff7(0x194)]+'\x20('+this[_0x589ff7(0x6e9)][_0x589ff7(0x4f9)]+_0x589ff7(0x467)+_0x397e60[_0x589ff7(0x6b3)]);}let _0x1ac229=_0x4e571b[_0x589ff7(0x6c5)]['lastReceivedMessage'][_0x589ff7(0x727)]||_0x4e571b['chatLog'][_0x589ff7(0x4ad)][_0x589ff7(0x200)]||_0x4e571b['chatLog'][_0x589ff7(0x4ad)][_0x589ff7(0x338)];try{_0x4e571b[_0x589ff7(0x6c5)]['realVariables']||(_0x4e571b['chatLog']['realVariables']={});let _0xc025db=_0x4e571b[_0x589ff7(0x6c5)]['realVariables'][_0x477d83];_0x4e571b[_0x589ff7(0x6c5)][_0x589ff7(0x474)][_0x477d83]=_0x1ac229;let _0x111f91={'variable':_0x477d83,'oldValue':_0xc025db,'newValue':_0x1ac229};this['updateConversation'](_0x4e571b,_0xe93df,_0x111f91),this[_0x589ff7(0x48b)][_0x589ff7(0x361)](this[_0x589ff7(0x194)]+'\x20('+this['instance'][_0x589ff7(0x4f9)]+_0x589ff7(0x429));}catch(_0x4d7a31){let _0x3221b4={'error':!0x0,'errorLog':_0x4d7a31[_0x589ff7(0x50d)]()};return this[_0x589ff7(0x1e8)](_0x4e571b,_0xe93df,_0x3221b4),this[_0x589ff7(0x48b)][_0x589ff7(0x363)](this[_0x589ff7(0x194)]+'\x20('+this[_0x589ff7(0x6e9)][_0x589ff7(0x4f9)]+'):\x20Erro\x20durante\x20a\x20atualização:\x20'+(_0x4d7a31 instanceof Error?_0x4d7a31[_0x589ff7(0x6b3)]:JSON[_0x589ff7(0x389)](_0x4d7a31,null,0x2))),null;}}async['stopConversation'](_0x9987c3,_0x257751){const _0x3ad488=a0_0x156424;if(this[_0x3ad488(0x48b)]['verbose'](this[_0x3ad488(0x194)]+'\x20('+this[_0x3ad488(0x6e9)][_0x3ad488(0x4f9)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0x9987c3||!_0x257751)return this['logger'][_0x3ad488(0x363)](this[_0x3ad488(0x194)]+'\x20('+this['instance']['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x1691d5=Date[_0x3ad488(0x605)](),_0x547083=parseInt(_0x257751[_0x3ad488(0x701)],0xa);if(isNaN(_0x547083))return this[_0x3ad488(0x48b)]['error'](this['instanceName']+'\x20('+this[_0x3ad488(0x6e9)][_0x3ad488(0x4f9)]+_0x3ad488(0x58f)),null;let _0x4abb7f={'newStoppedUntil':_0x1691d5+_0x547083*0x3c*0x3e8};return await this['updateConversation'](_0x9987c3,_0x257751,_0x4abb7f,!0x0),null;}async[a0_0x156424(0x126)](_0x49ab01,_0x244485){const _0x4cfe8c=a0_0x156424;try{switch(_0x244485['uazapi']['command']){case _0x4cfe8c(0x36d):await this[_0x4cfe8c(0x158)](_0x49ab01,_0x244485);break;case'sendMedia':await this[_0x4cfe8c(0x28b)](_0x49ab01,_0x244485);break;case _0x4cfe8c(0xd3):await this[_0x4cfe8c(0xc0)](_0x49ab01,_0x244485);break;case'sendAudio':await this[_0x4cfe8c(0x249)](_0x49ab01,_0x244485);break;case _0x4cfe8c(0x2c5):await this['uazapiSendContact'](_0x49ab01,_0x244485);break;case _0x4cfe8c(0x451):await this[_0x4cfe8c(0x608)](_0x49ab01,_0x244485);break;case _0x4cfe8c(0x33c):await this['uazapiSendMenu'](_0x49ab01,_0x244485);break;case _0x4cfe8c(0x6ee):await this[_0x4cfe8c(0x754)](_0x49ab01,_0x244485);break;default:this['logger'][_0x4cfe8c(0x363)](this[_0x4cfe8c(0x194)]+'\x20('+this[_0x4cfe8c(0x6e9)]['wuid']+_0x4cfe8c(0x615)+_0x244485['uazapi']['command']);}}catch(_0x1db4c3){this[_0x4cfe8c(0x48b)]['error'](this[_0x4cfe8c(0x194)]+'\x20('+this[_0x4cfe8c(0x6e9)]['wuid']+_0x4cfe8c(0x309)+(_0x1db4c3 instanceof Error?_0x1db4c3['message']:JSON[_0x4cfe8c(0x389)](_0x1db4c3,null,0x2)));}}async[a0_0x156424(0x1e8)](_0x3e0f12,_0x14ed0a,_0x538d04,_0x57fdf9=!0x1,_0x29c551=!0x1){const _0x3fb8c1=a0_0x156424;_0x3e0f12[_0x3fb8c1(0x6c5)][_0x3fb8c1(0x789)]||(_0x3e0f12[_0x3fb8c1(0x6c5)][_0x3fb8c1(0x789)]=[]);let _0x539356=(_0x3e0f12[_0x3fb8c1(0x6c5)]['blockLogs']?.['length']??0x0)+0x1,_0x2ba905=_0x3e0f12['chatLog'][_0x3fb8c1(0x789)][_0x3fb8c1(0x3f2)](_0x5db52a=>String(_0x5db52a['blockId'])===String(_0x14ed0a['_id']))[_0x3fb8c1(0x476)]+0x1,_0x229b7e=_0x538d04?.[_0x3fb8c1(0x21d)]??Date[_0x3fb8c1(0x605)](),_0x3a6743=_0x538d04?.[_0x3fb8c1(0x363)]?_0x538d04[_0x3fb8c1(0x522)]??_0x538d04[_0x3fb8c1(0x363)][_0x3fb8c1(0x50d)]():void 0x0,_0x572775={'onTime':_0x229b7e,'blockId':_0x14ed0a[_0x3fb8c1(0x21c)],'order':_0x539356,'activatedCount':_0x2ba905,'error':_0x538d04?.['error']??!0x1,'messageId':_0x538d04?.[_0x3fb8c1(0x335)],'apiResponse':_0x538d04?.[_0x3fb8c1(0x2e9)],'apiResponseString':_0x538d04?.[_0x3fb8c1(0x2e9)]?JSON[_0x3fb8c1(0x389)](_0x538d04?.[_0x3fb8c1(0x2e9)]):void 0x0,'variable':_0x538d04?.[_0x3fb8c1(0x569)],'oldValue':_0x538d04?.[_0x3fb8c1(0x6f8)],'newValue':_0x538d04?.[_0x3fb8c1(0x55f)],'newStoppedUntil':_0x538d04?.[_0x3fb8c1(0x3c6)],'moreLogs':_0x538d04?.[_0x3fb8c1(0x325)],'errorLog':_0x3a6743};if(_0x538d04[_0x3fb8c1(0x325)]&&_0x538d04[_0x3fb8c1(0x325)]['length']>0x0){let _0x1cc1f1=_0x538d04[_0x3fb8c1(0x325)][_0x3fb8c1(0x5ad)](_0x21a9f8=>this[_0x3fb8c1(0x643)](_0x21a9f8,_0x3e0f12[_0x3fb8c1(0x6c5)]['realVariables']));_0x572775['moreLogs']=_0x1cc1f1;}if(_0x3e0f12[_0x3fb8c1(0x6c5)][_0x3fb8c1(0x474)]||(_0x3e0f12[_0x3fb8c1(0x6c5)]['realVariables']={}),_0x3e0f12['chatLog'][_0x3fb8c1(0x474)]['_activatedCount']=String(_0x2ba905),_0x3e0f12[_0x3fb8c1(0x6c5)][_0x3fb8c1(0x474)][_0x3fb8c1(0x417)]=String(_0x538d04['error']??!0x1),_0x3e0f12['chatLog']['blockLogs'][_0x3fb8c1(0x211)](_0x572775),_0x3e0f12[_0x3fb8c1(0x6c5)][_0x3fb8c1(0x474)][_0x3fb8c1(0x77c)]&&_0x3e0f12['chatLog'][_0x3fb8c1(0x474)]['telefone']!==_0x3e0f12[_0x3fb8c1(0x740)]){let _0x1fe409=(await this[_0x3fb8c1(0x225)]({'numbers':[_0x3e0f12[_0x3fb8c1(0x6c5)][_0x3fb8c1(0x474)][_0x3fb8c1(0x77c)]]}))[0x0][_0x3fb8c1(0x2f4)];_0x3e0f12[_0x3fb8c1(0x6c5)][_0x3fb8c1(0x474)]['telefone']=_0x1fe409,_0x3e0f12[_0x3fb8c1(0x740)]=_0x1fe409;try{let _0x5d90ea={'_id':{'$ne':_0x3e0f12[_0x3fb8c1(0x21c)]},'remoteJid':_0x1fe409,'status':_0x3fb8c1(0x3a9)},_0x538372={'status':_0x3fb8c1(0x242)};await this[_0x3fb8c1(0x2c2)][_0x3fb8c1(0x628)][_0x3fb8c1(0x2dc)](_0x5d90ea,_0x538372,this[_0x3fb8c1(0x6e9)]['wuid']),this[_0x3fb8c1(0x48b)][_0x3fb8c1(0x361)](this[_0x3fb8c1(0x194)]+'\x20('+this[_0x3fb8c1(0x6e9)][_0x3fb8c1(0x4f9)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.');}catch(_0x235118){this[_0x3fb8c1(0x48b)][_0x3fb8c1(0x363)](this['instanceName']+'\x20('+this[_0x3fb8c1(0x6e9)]['wuid']+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x235118[_0x3fb8c1(0x6b3)]);}try{let _0x578c9a=_0x3e0f12['chatLog'][_0x3fb8c1(0x474)],_0x5ef006=await this['getVariablesChat'](_0x1fe409),_0x55feca={..._0x578c9a,..._0x5ef006,'_remoteJid':_0x1fe409};_0x3e0f12[_0x3fb8c1(0x6c5)][_0x3fb8c1(0x474)]=_0x55feca;}catch(_0x17a023){this[_0x3fb8c1(0x48b)][_0x3fb8c1(0x363)](this[_0x3fb8c1(0x194)]+'\x20('+this['instance'][_0x3fb8c1(0x4f9)]+_0x3fb8c1(0x68e)+_0x17a023[_0x3fb8c1(0x6b3)]);}}_0x3e0f12[_0x3fb8c1(0x6c5)][_0x3fb8c1(0x4cd)]=_0x14ed0a[_0x3fb8c1(0x21c)]['toString'](),_0x3e0f12['chatLog'][_0x3fb8c1(0xc1)]&&(_0x3e0f12[_0x3fb8c1(0x6c5)][_0x3fb8c1(0xc1)]=_0x3e0f12[_0x3fb8c1(0x6c5)]['lastSendMessage']),_0x3e0f12[_0x3fb8c1(0x6c5)][_0x3fb8c1(0x4ad)]&&(_0x3e0f12[_0x3fb8c1(0x6c5)]['lastReceivedMessage']=_0x3e0f12['chatLog'][_0x3fb8c1(0x4ad)]),_0x3e0f12[_0x3fb8c1(0x6c5)][_0x3fb8c1(0x33d)]&&(_0x3e0f12[_0x3fb8c1(0x6c5)][_0x3fb8c1(0x33d)]=_0x3e0f12[_0x3fb8c1(0x6c5)][_0x3fb8c1(0x33d)]),_0x29c551&&(_0x3e0f12['status']=_0x3fb8c1(0x242)),_0x57fdf9?this[_0x3fb8c1(0x5e9)](_0x3e0f12):this['goNextblock'](_0x3e0f12,_0x14ed0a);}[a0_0x156424(0x643)](_0x4f9484,_0x8b812d){const _0x52fcd1=a0_0x156424;return _0x4f9484[_0x52fcd1(0x367)](/\{\{([^}]+)\}\}/g,(_0x40aa92,_0x306a58)=>_0x8b812d[_0x306a58]?'{{'+_0x306a58+_0x52fcd1(0x450)+_0x8b812d[_0x306a58]+'\x22':'{{'+_0x306a58+_0x52fcd1(0x5b2));}async[a0_0x156424(0x5e9)](_0x1421b9){const _0x5d9c2f=a0_0x156424;try{let _0x102e6f=Object[_0x5d9c2f(0xd5)](_0x1421b9[_0x5d9c2f(0x6c5)][_0x5d9c2f(0x474)])[_0x5d9c2f(0x5ad)](([_0x409ee8,_0x2ed412])=>({'name':_0x409ee8,'value':_0x2ed412})),_0x158b49={'status':_0x1421b9[_0x5d9c2f(0x2f7)],'remoteJid':_0x1421b9[_0x5d9c2f(0x740)],'blocks':_0x1421b9[_0x5d9c2f(0x167)],'waitingMenu_id':_0x1421b9['waitingMenu_id'],'waitingMenu_text':_0x1421b9[_0x5d9c2f(0x43b)],'waitingMenu_replyOptions':_0x1421b9[_0x5d9c2f(0x1e3)],'chatLog':{'lastBlockId':_0x1421b9[_0x5d9c2f(0x6c5)][_0x5d9c2f(0x4cd)],'lastSendMessage':_0x1421b9[_0x5d9c2f(0x6c5)][_0x5d9c2f(0xc1)],'lastReceivedMessage':_0x1421b9[_0x5d9c2f(0x6c5)][_0x5d9c2f(0x4ad)],'lastCondition':_0x1421b9[_0x5d9c2f(0x6c5)][_0x5d9c2f(0x33d)],'chatVariables':_0x102e6f,'realVariables':_0x1421b9['chatLog'][_0x5d9c2f(0x474)],'blockLogs':_0x1421b9[_0x5d9c2f(0x6c5)][_0x5d9c2f(0x789)]}},_0x1d2536=await this[_0x5d9c2f(0x2c2)]['flowConversation']['updateOne'](_0x1421b9['_id'],_0x158b49,this[_0x5d9c2f(0x6e9)]['wuid']);if(_0x1d2536){this[_0x5d9c2f(0x48b)]['verbose'](this['instanceName']+'\x20('+this[_0x5d9c2f(0x6e9)][_0x5d9c2f(0x4f9)]+_0x5d9c2f(0x30a)+_0x1d2536[_0x5d9c2f(0x21c)]);try{let _0x4e255a=['nome',_0x5d9c2f(0xd7),'email',_0x5d9c2f(0x4d8),_0x5d9c2f(0x2f7),'notas',_0x5d9c2f(0x3d5),'tags','etiquetas',_0x5d9c2f(0x306)];if(!this[_0x5d9c2f(0x105)]&&(await this[_0x5d9c2f(0x220)](),!this['AutomateSystem']))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x161f7d=this['AutomateSystem']?.['customFields'][_0x5d9c2f(0x5ad)](_0x387ec7=>_0x387ec7['name']),_0x2d21ab={};Object[_0x5d9c2f(0xd5)](_0x1421b9[_0x5d9c2f(0x6c5)][_0x5d9c2f(0x474)])[_0x5d9c2f(0x6cb)](([_0x333461,_0x502547])=>{const _0x55d8fa=_0x5d9c2f;_0x4e255a['includes'](_0x333461)&&(_0x333461==='tags'&&typeof _0x502547==_0x55d8fa(0x40b)?_0x2d21ab[_0x333461]=_0x502547[_0x55d8fa(0x277)](',')[_0x55d8fa(0x5ad)](_0x5e1c38=>_0x5e1c38[_0x55d8fa(0x652)]())[_0x55d8fa(0x3f2)](_0x2b03dd=>_0x2b03dd!==''):_0x333461===_0x55d8fa(0xf0)&&typeof _0x502547==_0x55d8fa(0x40b)?_0x2d21ab[_0x333461]=_0x502547[_0x55d8fa(0x277)](',')['map'](_0x4c7b7f=>_0x4c7b7f['trim']())['filter'](_0x1b08dc=>_0x1b08dc!==''):_0x2d21ab[_0x333461]=_0x502547);});let _0x1ac3aa=_0x1421b9[_0x5d9c2f(0x6c5)]['blockLogs'][_0x1421b9['chatLog']['blockLogs'][_0x5d9c2f(0x476)]-0x1];if(_0x1ac3aa){let _0xe1fa1d=_0x1ac3aa[_0x5d9c2f(0x3c6)];_0xe1fa1d!==void 0x0&&(_0x2d21ab[_0x5d9c2f(0x157)]=_0xe1fa1d[_0x5d9c2f(0x50d)]());}let _0x1a7cb4=_0x102e6f[_0x5d9c2f(0x3f2)](_0x4715c9=>_0x161f7d['includes'](_0x4715c9[_0x5d9c2f(0x350)]));this[_0x5d9c2f(0x48b)][_0x5d9c2f(0x361)](this[_0x5d9c2f(0x194)]+'\x20('+this[_0x5d9c2f(0x6e9)][_0x5d9c2f(0x4f9)]+_0x5d9c2f(0x752)),this[_0x5d9c2f(0x48b)][_0x5d9c2f(0x361)](_0x2d21ab),this['logger'][_0x5d9c2f(0x361)](this[_0x5d9c2f(0x194)]+'\x20('+this[_0x5d9c2f(0x6e9)]['wuid']+_0x5d9c2f(0x12c)),this[_0x5d9c2f(0x48b)][_0x5d9c2f(0x361)](_0x1a7cb4);let _0x1c0e23=_0x1a7cb4[_0x5d9c2f(0x5ad)](_0x16c1e3=>{const _0x166382=_0x5d9c2f;let _0x135d17=this[_0x166382(0x105)]?.[_0x166382(0x2b1)][_0x166382(0x5ae)](_0x161ccb=>_0x161ccb[_0x166382(0x350)]===_0x16c1e3[_0x166382(0x350)]);if(!_0x135d17)throw new Error(_0x166382(0x26b)+_0x16c1e3[_0x166382(0x350)]);return{'_id':_0x135d17['_id'],'value':_0x16c1e3[_0x166382(0x16a)]};});this[_0x5d9c2f(0x48b)][_0x5d9c2f(0x361)](this[_0x5d9c2f(0x194)]+'\x20('+this[_0x5d9c2f(0x6e9)]['wuid']+_0x5d9c2f(0x5e6)),this[_0x5d9c2f(0x48b)]['verbose'](_0x1c0e23),await this[_0x5d9c2f(0x755)](_0x1421b9[_0x5d9c2f(0x740)],_0x2d21ab,_0x1c0e23);}catch(_0x76eac9){this[_0x5d9c2f(0x48b)][_0x5d9c2f(0x363)](this[_0x5d9c2f(0x194)]+'\x20('+this[_0x5d9c2f(0x6e9)][_0x5d9c2f(0x4f9)]+_0x5d9c2f(0x2c1)+(_0x76eac9 instanceof Error?_0x76eac9[_0x5d9c2f(0x6b3)]:JSON[_0x5d9c2f(0x389)](_0x76eac9,null,0x2)));}}else this[_0x5d9c2f(0x48b)][_0x5d9c2f(0x363)](this[_0x5d9c2f(0x194)]+'\x20('+this[_0x5d9c2f(0x6e9)]['wuid']+_0x5d9c2f(0x423));}catch(_0xe1edda){this[_0x5d9c2f(0x48b)][_0x5d9c2f(0x363)](this[_0x5d9c2f(0x194)]+'\x20('+this['instance'][_0x5d9c2f(0x4f9)]+_0x5d9c2f(0x70d)+(_0xe1edda instanceof Error?_0xe1edda['message']:JSON[_0x5d9c2f(0x389)](_0xe1edda,null,0x2)));}}async['saveChatVariables'](_0x55d862,_0x28255e,_0x309cc9){const _0x3af6d2=a0_0x156424;try{let _0x26a076={'leadInfo.leadnome':_0x28255e['nome'],'leadInfo.nomecompleto':_0x28255e[_0x3af6d2(0xd7)],'leadInfo.email':_0x28255e[_0x3af6d2(0x343)],'leadInfo.cpf':_0x28255e[_0x3af6d2(0x4d8)],'leadInfo.status':_0x28255e[_0x3af6d2(0x2f7)],'leadInfo.notas':_0x28255e[_0x3af6d2(0x297)],'leadInfo.responsavelid':_0x28255e[_0x3af6d2(0x3d5)],'leadInfo.tags':_0x28255e[_0x3af6d2(0x140)],'leadInfo.etiquetas':_0x28255e[_0x3af6d2(0xf0)],'leadInfo.customFields':_0x309cc9,'leadInfo.atendimentoAberto':_0x28255e[_0x3af6d2(0x306)]},_0x533b59=await this[_0x3af6d2(0x2c2)][_0x3af6d2(0x2ea)]['findOne']({'where':{'_id':_0x55d862}},this[_0x3af6d2(0x6e9)][_0x3af6d2(0x4f9)]);if(!_0x533b59)return _0x3af6d2(0x74e);let _0x341ac6=new Set(_0x533b59[_0x3af6d2(0x753)][_0x3af6d2(0xf0)]||[]),_0x41b2f2=new Set(_0x28255e[_0x3af6d2(0xf0)]||[]),_0x2dcf07=await this[_0x3af6d2(0x2c2)][_0x3af6d2(0x590)][_0x3af6d2(0x5ae)]({'where':{}},this['instance'][_0x3af6d2(0x4f9)]),_0x47bc59=new Set(_0x2dcf07[_0x3af6d2(0x5ad)](_0x7cd3ad=>_0x7cd3ad[_0x3af6d2(0x21c)])),_0x4db1f1=[..._0x41b2f2]['filter'](_0x6abc90=>!_0x341ac6[_0x3af6d2(0x419)](_0x6abc90)&&_0x47bc59[_0x3af6d2(0x419)](_0x6abc90)),_0x5e7221=[..._0x341ac6]['filter'](_0x1fb7c8=>!_0x41b2f2[_0x3af6d2(0x419)](_0x1fb7c8));for(let _0x36b7a1 of _0x4db1f1)await this[_0x3af6d2(0x458)](_0x36b7a1,_0x533b59[_0x3af6d2(0x21c)]),_0x341ac6['add'](_0x36b7a1);for(let _0x6e4684 of _0x5e7221)await this[_0x3af6d2(0xb3)](_0x6e4684,_0x533b59[_0x3af6d2(0x21c)]),_0x341ac6[_0x3af6d2(0x4f4)](_0x6e4684);if(_0x3af6d2(0x157)in _0x28255e){let _0x577784=_0x28255e[_0x3af6d2(0x157)];_0x26a076[_0x3af6d2(0x375)]=_0x577784?Number(_0x577784):null;}if(_0x3af6d2(0x306)in _0x28255e){let _0x547245=_0x28255e[_0x3af6d2(0x306)]['toLowerCase']();_0x26a076['leadInfo.atendimentoAberto']=_0x547245==='true'||_0x547245==='1'||_0x547245==='yes'||_0x547245===_0x3af6d2(0xd6);}let _0x1b33c8=await this['repository'][_0x3af6d2(0x2ea)]['updateOne']({'where':{'_id':_0x55d862}},_0x26a076,this[_0x3af6d2(0x6e9)][_0x3af6d2(0x4f9)]);_0x1b33c8?(this[_0x3af6d2(0x48b)][_0x3af6d2(0x361)](this[_0x3af6d2(0x194)]+'\x20('+this[_0x3af6d2(0x6e9)]['wuid']+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20'+_0x1b33c8[_0x3af6d2(0x21c)]),J(this[_0x3af6d2(0x194)],_0x3af6d2(0x348),{'chat':_0x1b33c8})):this[_0x3af6d2(0x48b)][_0x3af6d2(0x363)](this[_0x3af6d2(0x194)]+'\x20('+this['instance'][_0x3af6d2(0x4f9)]+_0x3af6d2(0x481));}catch(_0x54bf8b){this['logger'][_0x3af6d2(0x363)](this[_0x3af6d2(0x194)]+'\x20('+this[_0x3af6d2(0x6e9)][_0x3af6d2(0x4f9)]+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x54bf8b instanceof Error?_0x54bf8b[_0x3af6d2(0x6b3)]:JSON[_0x3af6d2(0x389)](_0x54bf8b,null,0x2)));}}async['updateStopChat'](_0x1a66db,_0x321e5d){const _0x2a905d=a0_0x156424;this[_0x2a905d(0x48b)][_0x2a905d(0x361)](this[_0x2a905d(0x194)]+'\x20('+this[_0x2a905d(0x6e9)][_0x2a905d(0x4f9)]+_0x2a905d(0x30c)+_0x321e5d);try{let _0x44f256=await this['repository'][_0x2a905d(0x2ea)]['updateOne']({'where':{'_id':_0x1a66db[_0x2a905d(0x740)]}},{'leadInfo.desativadoFluxoAte':_0x321e5d},this[_0x2a905d(0x6e9)][_0x2a905d(0x4f9)]);this['logger'][_0x2a905d(0x361)](this[_0x2a905d(0x194)]+'\x20('+this[_0x2a905d(0x6e9)][_0x2a905d(0x4f9)]+_0x2a905d(0x4f5)+_0x1a66db[_0x2a905d(0x21c)]),this[_0x2a905d(0x48b)][_0x2a905d(0x361)](this[_0x2a905d(0x194)]+'\x20('+this['instance'][_0x2a905d(0x4f9)]+_0x2a905d(0x30c)+JSON['stringify'](_0x44f256,null,0x2)),_0x44f256&&J(this[_0x2a905d(0x194)],_0x2a905d(0x348),{'chat':_0x44f256});}catch(_0x225f54){this[_0x2a905d(0x48b)][_0x2a905d(0x363)](this['instanceName']+'\x20('+this[_0x2a905d(0x6e9)][_0x2a905d(0x4f9)]+_0x2a905d(0x20c)+(_0x225f54 instanceof Error?_0x225f54[_0x2a905d(0x6b3)]:JSON[_0x2a905d(0x389)](_0x225f54,null,0x2)));}}async[a0_0x156424(0x5f4)](_0x39fe1f){const _0x3cc592=a0_0x156424;try{this[_0x3cc592(0x48b)][_0x3cc592(0x361)](this[_0x3cc592(0x194)]+'\x20('+this[_0x3cc592(0x6e9)]['wuid']+'):\x20Buscando\x20flow...');let _0x26c948=_0x39fe1f['replace'](/\D/g,''),_0x3df9ae=await this['repository']['flow'][_0x3cc592(0x6d5)]({'where':{'testingWith':_0x26c948}},this[_0x3cc592(0x6e9)][_0x3cc592(0x4f9)]);return _0x3df9ae||(this[_0x3cc592(0x48b)]['verbose'](this[_0x3cc592(0x194)]+'\x20('+this[_0x3cc592(0x6e9)]['wuid']+_0x3cc592(0x71d)),_0x3df9ae=await this[_0x3cc592(0x2c2)][_0x3cc592(0x321)][_0x3cc592(0x6d5)]({'where':{'default':!0x0}},this[_0x3cc592(0x6e9)][_0x3cc592(0x4f9)])),_0x3df9ae||(this['logger']['verbose'](this[_0x3cc592(0x194)]+'\x20('+this[_0x3cc592(0x6e9)][_0x3cc592(0x4f9)]+_0x3cc592(0x6ed)),null);}catch(_0x5d59c2){return this[_0x3cc592(0x48b)][_0x3cc592(0x363)](this[_0x3cc592(0x194)]+'\x20('+this[_0x3cc592(0x6e9)][_0x3cc592(0x4f9)]+_0x3cc592(0x2d0)+(_0x5d59c2 instanceof Error?_0x5d59c2[_0x3cc592(0x6b3)]:JSON['stringify'](_0x5d59c2,null,0x2))),null;}}async[a0_0x156424(0x491)](_0x1f03e1,_0x359fa7){const _0x2bb518=a0_0x156424;try{let _0x1074ac=!!_0x359fa7['vote'],_0x57dccb=_0x359fa7['quoted'],_0x60149=null;if(this['logger'][_0x2bb518(0x361)](this[_0x2bb518(0x194)]+'\x20('+this[_0x2bb518(0x6e9)][_0x2bb518(0x4f9)]+_0x2bb518(0x34f)+_0x1074ac+_0x2bb518(0x6c7)+_0x57dccb),_0x1074ac){this['logger'][_0x2bb518(0x361)](this['instanceName']+'\x20('+this[_0x2bb518(0x6e9)][_0x2bb518(0x4f9)]+_0x2bb518(0x61c));let _0x768e9a={'where':{'remoteJid':_0x1f03e1,'waitingMenu_id':_0x57dccb}};if(_0x60149=await this[_0x2bb518(0x2c2)][_0x2bb518(0x628)][_0x2bb518(0x6d5)](_0x768e9a,this[_0x2bb518(0x6e9)]['wuid']),!_0x60149)return this[_0x2bb518(0x48b)][_0x2bb518(0x361)](this[_0x2bb518(0x194)]+'\x20('+this[_0x2bb518(0x6e9)][_0x2bb518(0x4f9)]+_0x2bb518(0x313)),null;let _0x3dbdca=Date[_0x2bb518(0x605)](),_0x289930=_0x60149?.[_0x2bb518(0x329)]||0x0,_0xda51d5=_0x3dbdca-_0x289930*0x3c*0x3e8;if(_0x60149[_0x2bb518(0x273)]<_0xda51d5){this[_0x2bb518(0x48b)][_0x2bb518(0x361)](this['instanceName']+'\x20('+this[_0x2bb518(0x6e9)][_0x2bb518(0x4f9)]+_0x2bb518(0x190));let _0x8311c2={'number':_0x60149[_0x2bb518(0x740)],'options':{'delay':0x0},'textMessage':{'text':_0x60149[_0x2bb518(0x3d6)]}};await this['textMessage'](_0x8311c2);let _0x2da5d9={'status':'closed','waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x2bb518(0x2c2)][_0x2bb518(0x628)]['updateOne'](_0x60149[_0x2bb518(0x21c)],_0x2da5d9,this['instance'][_0x2bb518(0x4f9)]),null;}return _0x60149[_0x2bb518(0x273)]=Date['now'](),_0x60149[_0x2bb518(0x6c5)][_0x2bb518(0x4ad)]=_0x359fa7,_0x60149;}else{this[_0x2bb518(0x48b)][_0x2bb518(0x361)](this[_0x2bb518(0x194)]+'\x20('+this['instance'][_0x2bb518(0x4f9)]+_0x2bb518(0x5a6)+this[_0x2bb518(0x6e9)]['wuid']+_0x2bb518(0x46a)),this['logger']['verbose'](this[_0x2bb518(0x194)]+'\x20('+this[_0x2bb518(0x6e9)][_0x2bb518(0x4f9)]+'):\x20Procurando\x20conversa');let _0x1a7c19={'where':{'remoteJid':_0x1f03e1,'status':_0x2bb518(0x3a9)}};if(_0x60149=await this['repository'][_0x2bb518(0x628)][_0x2bb518(0x6d5)](_0x1a7c19,this[_0x2bb518(0x6e9)]['wuid']),!_0x60149){let _0x1a2557=await this[_0x2bb518(0x5f4)](_0x1f03e1);if(_0x1a2557&&(_0x60149=await this[_0x2bb518(0x712)](_0x1a2557,_0x359fa7['key'],_0x359fa7)),!_0x60149)return null;}let _0x3f7e2d=Date[_0x2bb518(0x605)](),_0x1fe79e=_0x60149?.[_0x2bb518(0x329)]||0x0,_0x324951=_0x3f7e2d-_0x1fe79e*0x3c*0x3e8;if(this[_0x2bb518(0x48b)][_0x2bb518(0x361)](this['instanceName']+'\x20('+this[_0x2bb518(0x6e9)][_0x2bb518(0x4f9)]+_0x2bb518(0x76b)+_0x3f7e2d+_0x2bb518(0x707)+_0x1fe79e+',\x20Expiration\x20Time:\x20'+_0x324951),this['logger']['verbose'](this[_0x2bb518(0x194)]+'\x20('+this['instance']['wuid']+_0x2bb518(0x6df)),this['logger']['verbose'](this[_0x2bb518(0x194)]+'\x20('+this[_0x2bb518(0x6e9)][_0x2bb518(0x4f9)]+'):\x20conversation.lastInteraction:\x20'+_0x60149[_0x2bb518(0x273)]),this[_0x2bb518(0x48b)]['verbose'](this[_0x2bb518(0x194)]+'\x20('+this[_0x2bb518(0x6e9)]['wuid']+_0x2bb518(0x4a2)+_0x324951),_0x60149[_0x2bb518(0x273)]<_0x324951){this[_0x2bb518(0x48b)][_0x2bb518(0x361)](this[_0x2bb518(0x194)]+'\x20('+this[_0x2bb518(0x6e9)][_0x2bb518(0x4f9)]+_0x2bb518(0x2da));let _0x4d37ee=await this['findFlow'](_0x1f03e1);if(_0x4d37ee===null)return null;_0x60149&&await this[_0x2bb518(0x2c2)][_0x2bb518(0x628)][_0x2bb518(0x2e5)](_0x60149[_0x2bb518(0x21c)],{'status':_0x2bb518(0x242)},this['instance'][_0x2bb518(0x4f9)]),_0x60149=await this['createNewConversation'](_0x4d37ee,_0x359fa7['key'],_0x359fa7);}return _0x60149[_0x2bb518(0x273)]=_0x3f7e2d,_0x60149['chatLog'][_0x2bb518(0x4ad)]=_0x359fa7,_0x60149;}}catch(_0x1e4761){return this[_0x2bb518(0x48b)][_0x2bb518(0x363)](this[_0x2bb518(0x194)]+'\x20('+this[_0x2bb518(0x6e9)][_0x2bb518(0x4f9)]+_0x2bb518(0x489)+(_0x1e4761 instanceof Error?_0x1e4761[_0x2bb518(0x6b3)]:JSON[_0x2bb518(0x389)](_0x1e4761,null,0x2))),null;}}async[a0_0x156424(0x712)](_0x417b58,_0x140cc8,_0x403056){const _0x171bcf=a0_0x156424;this[_0x171bcf(0x48b)][_0x171bcf(0x361)](this[_0x171bcf(0x194)]+'\x20('+this[_0x171bcf(0x6e9)]['wuid']+_0x171bcf(0x626));try{let _0x1ef830=require(_0x171bcf(0xe2))[_0x171bcf(0x6e3)],_0x126c72=Date[_0x171bcf(0x605)](),_0x121df8=_0x171bcf(0xcf),_0x4ae79c=_0x140cc8['fromMe']?null:_0x403056,_0x19375f=_0x140cc8[_0x171bcf(0xf9)]?_0x403056:null,_0x5b3c66=_0x140cc8[_0x171bcf(0x740)];await this[_0x171bcf(0xaa)](_0x5b3c66);let _0x42356d={..._0x417b58,'chatLog':null},_0x2c24e6=await this[_0x171bcf(0xe4)](_0x42356d[_0x171bcf(0x43a)]),_0x18061f=await this['getVariablesChat'](_0x5b3c66),_0x1bdbde={..._0x2c24e6,..._0x18061f,'_remoteJid':_0x5b3c66},_0x2d75b9={'lastReceivedMessage':_0x4ae79c,'lastSendMessage':_0x19375f,'lastBlockId':_0x121df8,'lastCondition':!0x0,'realVariables':_0x1bdbde};_0x42356d[_0x171bcf(0x6c5)]=_0x2d75b9,delete _0x42356d[_0x171bcf(0x21c)],_0x42356d['_id']=new _0x1ef830(),_0x42356d[_0x171bcf(0x273)]=_0x126c72,_0x42356d[_0x171bcf(0x2f7)]=_0x171bcf(0x3a9),_0x42356d['remoteJid']=_0x5b3c66;let _0x462ed2=await this['repository']['flowConversation'][_0x171bcf(0x2e5)](_0x42356d[_0x171bcf(0x21c)],_0x42356d,this['instance'][_0x171bcf(0x4f9)]);return this[_0x171bcf(0x48b)][_0x171bcf(0x361)](this['instanceName']+'\x20('+this[_0x171bcf(0x6e9)]['wuid']+_0x171bcf(0x30f)),_0x462ed2?_0x42356d:null;}catch(_0x315d34){return this[_0x171bcf(0x48b)][_0x171bcf(0x363)](this[_0x171bcf(0x194)]+'\x20('+this[_0x171bcf(0x6e9)][_0x171bcf(0x4f9)]+_0x171bcf(0x3fe)+(_0x315d34 instanceof Error?_0x315d34[_0x171bcf(0x6b3)]:JSON[_0x171bcf(0x389)](_0x315d34,null,0x2))),_0x315d34;}}async[a0_0x156424(0x158)](_0x4cbec2,_0xf38c68){const _0x16040b=a0_0x156424;let _0x3df2d9=_0x4cbec2[_0x16040b(0x740)];_0xf38c68[_0x16040b(0x30d)]['remoteJid']&&_0xf38c68[_0x16040b(0x30d)][_0x16040b(0x740)][_0x16040b(0x652)]()!==''&&(_0x3df2d9=_0xf38c68[_0x16040b(0x30d)][_0x16040b(0x740)][_0x16040b(0x652)]()),this[_0x16040b(0x48b)][_0x16040b(0x361)](this[_0x16040b(0x194)]+'\x20('+this[_0x16040b(0x6e9)][_0x16040b(0x4f9)]+_0x16040b(0x36c));let _0x227340={'number':_0x3df2d9,'options':{'delay':_0xf38c68[_0x16040b(0x30d)][_0x16040b(0x2e7)],'linkPreview':_0xf38c68[_0x16040b(0x30d)][_0x16040b(0x12f)]},'textMessage':{'text':_0xf38c68[_0x16040b(0x30d)][_0x16040b(0x727)]}};try{let _0x13ebff=await this[_0x16040b(0x3c1)](_0x227340);if(_0x13ebff){let _0x39b49b={'_id':_0x13ebff['key']['id'],'_fromMe':_0x13ebff[_0x16040b(0x13f)][_0x16040b(0xf9)],'_remoteJid':_0x13ebff[_0x16040b(0x13f)][_0x16040b(0x740)]},_0x535906=(0x0,w[_0x16040b(0x4d5)])(_0x13ebff[_0x16040b(0x6b3)]),_0x4c84dc=(0x0,w[_0x16040b(0x501)])(_0x535906);_0x4cbec2[_0x16040b(0x6c5)][_0x16040b(0x4cd)]=_0xf38c68[_0x16040b(0x21c)]['toString']();let {message_normalized:_0x1b89ae}=this[_0x16040b(0x342)](_0x535906,_0x4c84dc,null);_0x4cbec2[_0x16040b(0x6c5)][_0x16040b(0xc1)]=await _0x1b89ae;let _0x2eda37={'messageId':_0x13ebff[_0x16040b(0x13f)]['id']},_0x58bf07=_0x4cbec2[_0x16040b(0x6c5)]['realVariables'];Object['assign'](_0x58bf07,_0x39b49b),_0x4cbec2[_0x16040b(0x6c5)]['realVariables']=_0x58bf07,this[_0x16040b(0x1e8)](_0x4cbec2,_0xf38c68,_0x2eda37);}else{let _0x549e99={'error':!0x0};this['updateConversation'](_0x4cbec2,_0xf38c68,_0x549e99),this[_0x16040b(0x48b)][_0x16040b(0x363)](this['instanceName']+'\x20('+this[_0x16040b(0x6e9)][_0x16040b(0x4f9)]+_0x16040b(0x2f1));}}catch(_0x1795e6){let _0x2e519f={'error':!0x0,'errorLog':_0x1795e6[_0x16040b(0x50d)]()};this[_0x16040b(0x1e8)](_0x4cbec2,_0xf38c68,_0x2e519f),this[_0x16040b(0x48b)][_0x16040b(0x363)](this[_0x16040b(0x194)]+'\x20('+this['instance'][_0x16040b(0x4f9)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x1795e6 instanceof Error?_0x1795e6[_0x16040b(0x6b3)]:JSON['stringify'](_0x1795e6,null,0x2)));}}async[a0_0x156424(0x28b)](_0x46382c,_0x568e0a){const _0x3de55c=a0_0x156424;let _0x51f1a7=_0x46382c['remoteJid'];_0x568e0a[_0x3de55c(0x30d)][_0x3de55c(0x740)]&&_0x568e0a[_0x3de55c(0x30d)][_0x3de55c(0x740)][_0x3de55c(0x652)]()!==''&&(_0x51f1a7=_0x568e0a[_0x3de55c(0x30d)]['remoteJid'][_0x3de55c(0x652)]()),this[_0x3de55c(0x48b)]['verbose'](this[_0x3de55c(0x194)]+'\x20('+this['instance'][_0x3de55c(0x4f9)]+'):\x20Enviando\x20mídia');let _0x14b381={'number':_0x51f1a7,'options':{'delay':_0x568e0a[_0x3de55c(0x30d)][_0x3de55c(0x2e7)],'linkPreview':_0x568e0a[_0x3de55c(0x30d)][_0x3de55c(0x12f)]},'mediaMessage':{'mediatype':_0x568e0a[_0x3de55c(0x30d)][_0x3de55c(0x27d)],'caption':_0x568e0a[_0x3de55c(0x30d)][_0x3de55c(0x200)],'media':_0x568e0a['uazapi']['media'],'fileName':_0x568e0a['uazapi']['fileName']}};try{let _0x312675=await this[_0x3de55c(0xb4)](_0x14b381);if(_0x312675){let _0x2f7c74={'_id':_0x312675[_0x3de55c(0x13f)]['id'],'_fromMe':_0x312675['key'][_0x3de55c(0xf9)],'_remoteJid':_0x312675[_0x3de55c(0x13f)][_0x3de55c(0x740)]},_0x25b719=(0x0,w[_0x3de55c(0x4d5)])(_0x312675[_0x3de55c(0x6b3)]),_0x4d6abe=(0x0,w[_0x3de55c(0x501)])(_0x25b719);_0x46382c[_0x3de55c(0x6c5)]['lastBlockId']=_0x568e0a[_0x3de55c(0x21c)][_0x3de55c(0x50d)]();let {message_normalized:_0x114a3d}=this[_0x3de55c(0x342)](_0x25b719,_0x4d6abe,null);_0x46382c['chatLog'][_0x3de55c(0xc1)]=await _0x114a3d;let _0x4c2213={'messageId':_0x312675[_0x3de55c(0x13f)]['id']},_0x2bbde3=_0x46382c[_0x3de55c(0x6c5)][_0x3de55c(0x474)];Object[_0x3de55c(0x263)](_0x2bbde3,_0x2f7c74),_0x46382c[_0x3de55c(0x6c5)][_0x3de55c(0x474)]=_0x2bbde3,this['updateConversation'](_0x46382c,_0x568e0a,_0x4c2213);}else{let _0x364d5d={'error':!0x0};this['updateConversation'](_0x46382c,_0x568e0a,_0x364d5d),this['logger'][_0x3de55c(0x363)](this[_0x3de55c(0x194)]+'\x20('+this[_0x3de55c(0x6e9)]['wuid']+_0x3de55c(0x551));}}catch(_0xa5ec15){let _0x1f2e34={'error':!0x0,'errorLog':_0xa5ec15[_0x3de55c(0x50d)]()};this[_0x3de55c(0x1e8)](_0x46382c,_0x568e0a,_0x1f2e34),this[_0x3de55c(0x48b)]['error'](this['instanceName']+'\x20('+this['instance'][_0x3de55c(0x4f9)]+_0x3de55c(0x729)+(_0xa5ec15 instanceof Error?_0xa5ec15[_0x3de55c(0x6b3)]:JSON['stringify'](_0xa5ec15,null,0x2)));}}async[a0_0x156424(0xc0)](_0x46aaf1,_0x11dee3){const _0x1aa1d6=a0_0x156424;let _0x483546=_0x46aaf1[_0x1aa1d6(0x740)];_0x11dee3[_0x1aa1d6(0x30d)]['remoteJid']&&_0x11dee3[_0x1aa1d6(0x30d)][_0x1aa1d6(0x740)]['trim']()!==''&&(_0x483546=_0x11dee3[_0x1aa1d6(0x30d)][_0x1aa1d6(0x740)]['trim']()),this['logger']['verbose'](this[_0x1aa1d6(0x194)]+'\x20('+this[_0x1aa1d6(0x6e9)]['wuid']+'):\x20Enviando\x20localização');let _0x37dd96={'number':_0x483546,'options':{'delay':_0x11dee3[_0x1aa1d6(0x30d)][_0x1aa1d6(0x2e7)]},'locationMessage':{'name':_0x11dee3[_0x1aa1d6(0x30d)][_0x1aa1d6(0x350)],'address':_0x11dee3[_0x1aa1d6(0x30d)][_0x1aa1d6(0x70c)],'latitude':_0x11dee3[_0x1aa1d6(0x30d)][_0x1aa1d6(0x5aa)],'longitude':_0x11dee3[_0x1aa1d6(0x30d)][_0x1aa1d6(0x275)]}};try{let _0x1fdbca=await this[_0x1aa1d6(0x222)](_0x37dd96);if(_0x1fdbca){let _0x46d1ed={'_id':_0x1fdbca[_0x1aa1d6(0x13f)]['id'],'_fromMe':_0x1fdbca['key'][_0x1aa1d6(0xf9)],'_remoteJid':_0x1fdbca[_0x1aa1d6(0x13f)]['remoteJid']},_0x4a694b=(0x0,w['normalizeMessageContent'])(_0x1fdbca[_0x1aa1d6(0x6b3)]),_0x2df4f2=(0x0,w[_0x1aa1d6(0x501)])(_0x4a694b);_0x46aaf1[_0x1aa1d6(0x6c5)][_0x1aa1d6(0x4cd)]=_0x11dee3[_0x1aa1d6(0x21c)][_0x1aa1d6(0x50d)]();let {message_normalized:_0x1bfaab}=this[_0x1aa1d6(0x342)](_0x4a694b,_0x2df4f2,null);_0x46aaf1['chatLog'][_0x1aa1d6(0xc1)]=await _0x1bfaab;let _0x4f9088={'messageId':_0x1fdbca[_0x1aa1d6(0x13f)]['id']},_0x2bbac4=_0x46aaf1[_0x1aa1d6(0x6c5)]['realVariables'];Object[_0x1aa1d6(0x263)](_0x2bbac4,_0x46d1ed),_0x46aaf1['chatLog'][_0x1aa1d6(0x474)]=_0x2bbac4,this['updateConversation'](_0x46aaf1,_0x11dee3,_0x4f9088);}else{let _0x3720dc={'error':!0x0};this[_0x1aa1d6(0x1e8)](_0x46aaf1,_0x11dee3,_0x3720dc),this['logger'][_0x1aa1d6(0x363)](this[_0x1aa1d6(0x194)]+'\x20('+this[_0x1aa1d6(0x6e9)][_0x1aa1d6(0x4f9)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.');}}catch(_0x2ed195){let _0x4eac4c={'error':!0x0,'errorLog':_0x2ed195['toString']()};this[_0x1aa1d6(0x1e8)](_0x46aaf1,_0x11dee3,_0x4eac4c),this[_0x1aa1d6(0x48b)]['error'](this[_0x1aa1d6(0x194)]+'\x20('+this['instance'][_0x1aa1d6(0x4f9)]+_0x1aa1d6(0x509)+(_0x2ed195 instanceof Error?_0x2ed195[_0x1aa1d6(0x6b3)]:JSON[_0x1aa1d6(0x389)](_0x2ed195,null,0x2)));}}async[a0_0x156424(0x249)](_0x327afa,_0x3f57e8){const _0x431dfc=a0_0x156424;let _0x4df2e1=_0x327afa[_0x431dfc(0x740)];_0x3f57e8[_0x431dfc(0x30d)][_0x431dfc(0x740)]&&_0x3f57e8[_0x431dfc(0x30d)][_0x431dfc(0x740)]['trim']()!==''&&(_0x4df2e1=_0x3f57e8[_0x431dfc(0x30d)][_0x431dfc(0x740)][_0x431dfc(0x652)]()),this[_0x431dfc(0x48b)][_0x431dfc(0x361)](this[_0x431dfc(0x194)]+'\x20('+this[_0x431dfc(0x6e9)][_0x431dfc(0x4f9)]+_0x431dfc(0x41f));let _0x7528cc={'number':_0x4df2e1,'options':{'delay':_0x3f57e8[_0x431dfc(0x30d)]['delay']},'audioMessage':{'audio':_0x3f57e8[_0x431dfc(0x30d)][_0x431dfc(0x5f8)]}};try{let _0x649766=await this['audioWhatsapp'](_0x7528cc);if(_0x649766){let _0x2a77a9={'_id':_0x649766[_0x431dfc(0x13f)]['id'],'_fromMe':_0x649766[_0x431dfc(0x13f)][_0x431dfc(0xf9)],'_remoteJid':_0x649766[_0x431dfc(0x13f)]['remoteJid']},_0x4d36d3=(0x0,w['normalizeMessageContent'])(_0x649766['message']),_0x32cf80=(0x0,w[_0x431dfc(0x501)])(_0x4d36d3);_0x327afa['chatLog']['lastBlockId']=_0x3f57e8[_0x431dfc(0x21c)][_0x431dfc(0x50d)]();let {message_normalized:_0x2fb2f2}=this['normalizeMessage'](_0x4d36d3,_0x32cf80,null);_0x327afa[_0x431dfc(0x6c5)][_0x431dfc(0xc1)]=await _0x2fb2f2;let _0x519795={'messageId':_0x649766[_0x431dfc(0x13f)]['id']},_0x28b7c4=_0x327afa[_0x431dfc(0x6c5)]['realVariables'];Object[_0x431dfc(0x263)](_0x28b7c4,_0x2a77a9),_0x327afa['chatLog'][_0x431dfc(0x474)]=_0x28b7c4,this[_0x431dfc(0x1e8)](_0x327afa,_0x3f57e8,_0x519795);}else{let _0xeff364={'error':!0x0};this[_0x431dfc(0x1e8)](_0x327afa,_0x3f57e8,_0xeff364),this[_0x431dfc(0x48b)][_0x431dfc(0x363)](this[_0x431dfc(0x194)]+'\x20('+this[_0x431dfc(0x6e9)]['wuid']+_0x431dfc(0x6bf));}}catch(_0x46c5f7){let _0x3d0b39={'error':!0x0,'errorLog':_0x46c5f7['toString']()};this[_0x431dfc(0x1e8)](_0x327afa,_0x3f57e8,_0x3d0b39),this['logger'][_0x431dfc(0x363)](this['instanceName']+'\x20('+this[_0x431dfc(0x6e9)][_0x431dfc(0x4f9)]+_0x431dfc(0x796)+(_0x46c5f7 instanceof Error?_0x46c5f7[_0x431dfc(0x6b3)]:JSON[_0x431dfc(0x389)](_0x46c5f7,null,0x2)));}}async[a0_0x156424(0x213)](_0x1dbe31,_0xec23ac){const _0xd0b49=a0_0x156424;let _0x444b6c=_0x1dbe31[_0xd0b49(0x740)];_0xec23ac[_0xd0b49(0x30d)]['remoteJid']&&_0xec23ac['uazapi'][_0xd0b49(0x740)][_0xd0b49(0x652)]()!==''&&(_0x444b6c=_0xec23ac['uazapi'][_0xd0b49(0x740)][_0xd0b49(0x652)]()),this[_0xd0b49(0x48b)][_0xd0b49(0x361)](this[_0xd0b49(0x194)]+'\x20('+this[_0xd0b49(0x6e9)][_0xd0b49(0x4f9)]+_0xd0b49(0x3af));let _0x267596={'number':_0x444b6c,'options':{'delay':_0xec23ac['uazapi'][_0xd0b49(0x2e7)]},'contactMessage':[{'fullName':_0xec23ac[_0xd0b49(0x30d)][_0xd0b49(0xfb)],'phoneNumber':_0xec23ac['uazapi']['phoneNumber']}]};try{let _0xeaa88f=await this[_0xd0b49(0x6f3)](_0x267596);if(_0xeaa88f){let _0x2cff53={'_id':_0xeaa88f['key']['id'],'_fromMe':_0xeaa88f[_0xd0b49(0x13f)][_0xd0b49(0xf9)],'_remoteJid':_0xeaa88f['key']['remoteJid']},_0x63da04=(0x0,w[_0xd0b49(0x4d5)])(_0xeaa88f['message']),_0x3e4141=(0x0,w[_0xd0b49(0x501)])(_0x63da04);_0x1dbe31['chatLog'][_0xd0b49(0x4cd)]=_0xec23ac[_0xd0b49(0x21c)][_0xd0b49(0x50d)]();let {message_normalized:_0xe6d26}=this[_0xd0b49(0x342)](_0x63da04,_0x3e4141,null);_0x1dbe31[_0xd0b49(0x6c5)][_0xd0b49(0xc1)]=await _0xe6d26;let _0x2431ee={'messageId':_0xeaa88f['key']['id']},_0x11cfd5=_0x1dbe31[_0xd0b49(0x6c5)][_0xd0b49(0x474)];Object[_0xd0b49(0x263)](_0x11cfd5,_0x2cff53),_0x1dbe31[_0xd0b49(0x6c5)]['realVariables']=_0x11cfd5,this['updateConversation'](_0x1dbe31,_0xec23ac,_0x2431ee);}else{let _0x52d5e2={'error':!0x0};this[_0xd0b49(0x1e8)](_0x1dbe31,_0xec23ac,_0x52d5e2),this[_0xd0b49(0x48b)][_0xd0b49(0x363)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xd0b49(0x554));}}catch(_0xa46a32){let _0x1bdab5={'error':!0x0,'errorLog':_0xa46a32[_0xd0b49(0x50d)]()};this[_0xd0b49(0x1e8)](_0x1dbe31,_0xec23ac,_0x1bdab5),this[_0xd0b49(0x48b)][_0xd0b49(0x363)](this[_0xd0b49(0x194)]+'\x20('+this[_0xd0b49(0x6e9)]['wuid']+_0xd0b49(0x392)+(_0xa46a32 instanceof Error?_0xa46a32['message']:JSON[_0xd0b49(0x389)](_0xa46a32,null,0x2)));}}[a0_0x156424(0x6f0)](_0xeebd4d,_0x20cbdf){const _0x2291ea=a0_0x156424;for(let _0x27fca5 of _0xeebd4d)_0x27fca5[_0x2291ea(0x36b)]&&(_0x27fca5[_0x2291ea(0x36b)]=this[_0x2291ea(0x513)](_0x27fca5['option'],_0x20cbdf)),_0x27fca5[_0x2291ea(0x58b)]&&(_0x27fca5[_0x2291ea(0x58b)]=this[_0x2291ea(0x513)](_0x27fca5[_0x2291ea(0x58b)],_0x20cbdf));}async[a0_0x156424(0x608)](_0x404dbd,_0x4a6590){const _0x2fb6c6=a0_0x156424;let _0x14b8e9=_0x404dbd[_0x2fb6c6(0x740)];_0x4a6590[_0x2fb6c6(0x30d)][_0x2fb6c6(0x740)]&&_0x4a6590[_0x2fb6c6(0x30d)][_0x2fb6c6(0x740)][_0x2fb6c6(0x652)]()!==''&&(_0x14b8e9=_0x4a6590[_0x2fb6c6(0x30d)][_0x2fb6c6(0x740)][_0x2fb6c6(0x652)]()),this[_0x2fb6c6(0x48b)][_0x2fb6c6(0x361)](this[_0x2fb6c6(0x194)]+'\x20('+this['instance'][_0x2fb6c6(0x4f9)]+_0x2fb6c6(0x484));let _0x3009cf=_0x404dbd['replyOptions'][_0x2fb6c6(0x3f2)](_0x71ce9c=>_0x71ce9c[_0x2fb6c6(0x78b)]===_0x4a6590[_0x2fb6c6(0x21c)])[_0x2fb6c6(0x660)]((_0x56be5a,_0x1caeab)=>_0x56be5a[_0x2fb6c6(0x4e6)]-_0x1caeab[_0x2fb6c6(0x4e6)]);this['replaceVariablesInReplyOptions'](_0x3009cf,_0x404dbd[_0x2fb6c6(0x6c5)][_0x2fb6c6(0x474)]);let _0x298613=_0x3009cf['map'](_0x1b35f9=>_0x1b35f9[_0x2fb6c6(0x36b)]),_0x4517c3={'number':_0x14b8e9,'menuMessage':{'type':_0x4a6590[_0x2fb6c6(0x30d)][_0x2fb6c6(0x6a3)]||_0x2fb6c6(0x162),'text':_0x4a6590['uazapi']['text']||_0x4a6590[_0x2fb6c6(0x30d)][_0x2fb6c6(0x350)],'footerText':_0x4a6590[_0x2fb6c6(0x30d)][_0x2fb6c6(0x196)],'buttonText':_0x4a6590['uazapi'][_0x2fb6c6(0x621)],'selectableCount':0x1,'choices':_0x298613},'options':{'delay':_0x4a6590['uazapi'][_0x2fb6c6(0x2e7)]}};try{let _0x55bd57=await this[_0x2fb6c6(0x204)](_0x4517c3);if(_0x55bd57){let _0x1a8c09={'_id':_0x55bd57['key']['id'],'_fromMe':_0x55bd57[_0x2fb6c6(0x13f)][_0x2fb6c6(0xf9)],'_remoteJid':_0x55bd57[_0x2fb6c6(0x13f)][_0x2fb6c6(0x740)]};_0x4a6590[_0x2fb6c6(0x30d)][_0x2fb6c6(0x2d3)]===!0x0&&(_0x404dbd[_0x2fb6c6(0x2f7)]='waitingForReplyMenu',this[_0x2fb6c6(0x48b)]['verbose'](this[_0x2fb6c6(0x194)]+'\x20('+this[_0x2fb6c6(0x6e9)][_0x2fb6c6(0x4f9)]+_0x2fb6c6(0x4ce)+_0x404dbd[_0x2fb6c6(0x2f7)])),this[_0x2fb6c6(0x48b)]['verbose'](this[_0x2fb6c6(0x194)]+'\x20('+this[_0x2fb6c6(0x6e9)][_0x2fb6c6(0x4f9)]+_0x2fb6c6(0x50f)+(_0x4a6590[_0x2fb6c6(0x30d)][_0x2fb6c6(0x350)]||_0x4a6590[_0x2fb6c6(0x30d)][_0x2fb6c6(0x727)])),_0x404dbd['waitingMenu_id']=_0x55bd57['key']['id'],_0x404dbd[_0x2fb6c6(0x43b)]=_0x4a6590['uazapi'][_0x2fb6c6(0x350)]||_0x4a6590[_0x2fb6c6(0x30d)][_0x2fb6c6(0x727)],_0x404dbd['waitingMenu_replyOptions']=_0x3009cf,_0x4a6590[_0x2fb6c6(0x30d)]['menuExpiredMessage']&&(_0x404dbd[_0x2fb6c6(0x3d6)]=_0x4a6590['uazapi'][_0x2fb6c6(0x210)]),this[_0x2fb6c6(0x48b)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x2fb6c6(0x4f9)]+_0x2fb6c6(0x4a4)+_0x404dbd['waitingMenu_text']);let _0x1397c6=(0x0,w[_0x2fb6c6(0x4d5)])(_0x55bd57[_0x2fb6c6(0x6b3)]),_0x3449d2=(0x0,w['getContentType'])(_0x1397c6);_0x404dbd[_0x2fb6c6(0x6c5)]['lastBlockId']=_0x4a6590[_0x2fb6c6(0x21c)]['toString']();let {message_normalized:_0x42f519}=this[_0x2fb6c6(0x342)](_0x1397c6,_0x3449d2,null);_0x404dbd[_0x2fb6c6(0x6c5)]['lastSendMessage']=await _0x42f519;let _0x38aae8={'messageId':_0x55bd57[_0x2fb6c6(0x13f)]['id']},_0x44635c=_0x404dbd[_0x2fb6c6(0x6c5)]['realVariables'];Object[_0x2fb6c6(0x263)](_0x44635c,_0x1a8c09),_0x404dbd[_0x2fb6c6(0x6c5)][_0x2fb6c6(0x474)]=_0x44635c,this[_0x2fb6c6(0x1e8)](_0x404dbd,_0x4a6590,_0x38aae8);}else{let _0x4b58c8={'error':!0x0};this['updateConversation'](_0x404dbd,_0x4a6590,_0x4b58c8),this[_0x2fb6c6(0x48b)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.');}}catch(_0x4fb3c9){let _0x21608b={'error':!0x0,'errorLog':_0x4fb3c9 instanceof Error?_0x4fb3c9['message']:JSON[_0x2fb6c6(0x389)](_0x4fb3c9,null,0x2)};this[_0x2fb6c6(0x1e8)](_0x404dbd,_0x4a6590,_0x21608b),this['logger'][_0x2fb6c6(0x363)](this[_0x2fb6c6(0x194)]+'\x20('+this[_0x2fb6c6(0x6e9)][_0x2fb6c6(0x4f9)]+_0x2fb6c6(0x460)+(_0x4fb3c9 instanceof Error?_0x4fb3c9[_0x2fb6c6(0x6b3)]:JSON[_0x2fb6c6(0x389)](_0x4fb3c9,null,0x2)));}}async[a0_0x156424(0x754)](_0x421521,_0xba604a){const _0x253cb6=a0_0x156424;this[_0x253cb6(0x48b)]['verbose'](this[_0x253cb6(0x194)]+'\x20('+this['instance'][_0x253cb6(0x4f9)]+_0x253cb6(0x5de));let _0x179a71=_0x421521[_0x253cb6(0x6c5)]['blockLogs']['find'](_0x1685a8=>_0x1685a8[_0x253cb6(0x78b)][_0x253cb6(0x50d)]()===_0xba604a[_0x253cb6(0x30d)][_0x253cb6(0x78b)][_0x253cb6(0x50d)]()),_0x565fea={'id':_0x179a71[_0x253cb6(0x335)],'remoteJid':_0x179a71[_0x253cb6(0x740)],'fromMe':_0x179a71[_0x253cb6(0xf9)]};try{let _0x1cf605=await this[_0x253cb6(0x6ee)](_0x565fea);if(_0x1cf605){let _0x4e0ac3=(0x0,w[_0x253cb6(0x4d5)])(_0x1cf605[_0x253cb6(0x6b3)]),_0x1cb38d=(0x0,w[_0x253cb6(0x501)])(_0x4e0ac3);_0x421521['chatLog']['lastBlockId']=_0xba604a[_0x253cb6(0x21c)][_0x253cb6(0x50d)]();let {message_normalized:_0x4fe686}=this[_0x253cb6(0x342)](_0x4e0ac3,_0x1cb38d,null);_0x421521[_0x253cb6(0x6c5)]['lastSendMessage']=await _0x4fe686;let _0x35b288={};this[_0x253cb6(0x1e8)](_0x421521,_0xba604a,_0x35b288);}else{let _0x20fd59={'error':!0x0};this[_0x253cb6(0x1e8)](_0x421521,_0xba604a,_0x20fd59),this['logger'][_0x253cb6(0x363)](this[_0x253cb6(0x194)]+'\x20('+this[_0x253cb6(0x6e9)]['wuid']+_0x253cb6(0x725));}}catch(_0x13dbb7){let _0x3592e5={'error':!0x0,'errorLog':_0x13dbb7 instanceof Error?_0x13dbb7[_0x253cb6(0x6b3)]:JSON[_0x253cb6(0x389)](_0x13dbb7,null,0x2)};this[_0x253cb6(0x1e8)](_0x421521,_0xba604a,_0x3592e5),this['logger'][_0x253cb6(0x363)](this[_0x253cb6(0x194)]+'\x20('+this[_0x253cb6(0x6e9)]['wuid']+_0x253cb6(0x3d3)+(_0x13dbb7 instanceof Error?_0x13dbb7[_0x253cb6(0x6b3)]:JSON[_0x253cb6(0x389)](_0x13dbb7,null,0x2)));}}async[a0_0x156424(0x1f1)](_0x3ab57b,_0x258af3){const _0x347cd8=a0_0x156424;if(!_0x3ab57b['name'])throw new m(_0x347cd8(0x1ff));let _0x85629d=_0x3ab57b?.[_0x347cd8(0x598)]?.['trim']()===_0x347cd8(0x6cc)?_0x347cd8(0x598):this[_0x347cd8(0x6e9)]['wuid'],_0x369b4d=await this['repository'][_0x347cd8(0x321)][_0x347cd8(0x6d5)]({'where':{'name':_0x3ab57b[_0x347cd8(0x350)]}},_0x85629d);if(_0x258af3!==ee&&_0x3ab57b?.[_0x347cd8(0x598)]===_0x347cd8(0x6cc))throw new m(_0x347cd8(0x454));if(_0x3ab57b?.[_0x347cd8(0x598)]!==_0x347cd8(0x6cc)&&(_0x3ab57b['global']=_0x347cd8(0x682)),_0x369b4d)throw new m(_0x347cd8(0x1f2));return _0x347cd8(0x350)in _0x3ab57b&&_0x347cd8(0x1bc)in _0x3ab57b&&_0x347cd8(0x585)in _0x3ab57b?this[_0x347cd8(0x235)](_0x3ab57b['owner'],_0x3ab57b['sharePass'],_0x3ab57b[_0x347cd8(0x350)]):this[_0x347cd8(0x414)](_0x3ab57b);}async[a0_0x156424(0x235)](_0xa64b1b,_0x188b4e,_0x49aaf6){const _0x2e40f8=a0_0x156424;try{this[_0x2e40f8(0x48b)][_0x2e40f8(0x361)](this[_0x2e40f8(0x194)]+'\x20('+this[_0x2e40f8(0x6e9)][_0x2e40f8(0x4f9)]+_0x2e40f8(0x54c));let _0x564fb0=await this[_0x2e40f8(0x2c2)][_0x2e40f8(0x321)][_0x2e40f8(0x6d5)]({'where':{'sharePass':_0x188b4e}},_0xa64b1b);if(!_0x564fb0)throw new m(_0x2e40f8(0x5ba));let _0x141123={..._0x564fb0},_0x36e447=_0x564fb0[_0x2e40f8(0x598)]===_0x2e40f8(0x6cc)?_0x2e40f8(0x598):_0x564fb0[_0x2e40f8(0x585)];return(_0xa64b1b===_0x2e40f8(0x598)||_0x564fb0[_0x2e40f8(0x598)]===_0x2e40f8(0x6cc))&&(_0x141123['global']='sync',_0x141123['owner']=_0x2e40f8(0x598)),_0x141123[_0x2e40f8(0x239)]=Array[_0x2e40f8(0x32d)](new Set([..._0x564fb0[_0x2e40f8(0x239)]||[],_0x36e447,this[_0x2e40f8(0x6e9)]['wuid']])),_0x564fb0[_0x2e40f8(0x239)]=_0x141123[_0x2e40f8(0x239)],await this['repository'][_0x2e40f8(0x321)][_0x2e40f8(0x2e5)](_0x564fb0[_0x2e40f8(0x21c)],{'shareOwners':_0x564fb0[_0x2e40f8(0x239)]},_0x36e447),_0x564fb0[_0x2e40f8(0x72b)]===!0x0&&await this['repository']['flow'][_0x2e40f8(0x2dc)]({},{'default':!0x1},this[_0x2e40f8(0x6e9)]['wuid']),_0x141123[_0x2e40f8(0x585)]=this[_0x2e40f8(0x6e9)][_0x2e40f8(0x4f9)],await this['repository'][_0x2e40f8(0x321)][_0x2e40f8(0x397)](_0x141123,this[_0x2e40f8(0x6e9)]['wuid']);}catch(_0x2fd5c3){let _0x3f16ee=_0x2e40f8(0x768),_0x4f454d=_0x2fd5c3 instanceof Error?_0x2fd5c3[_0x2e40f8(0x6b3)]:typeof _0x2fd5c3=='object'?JSON[_0x2e40f8(0x389)](_0x2fd5c3):_0x2fd5c3,_0x5ac5a8=_0x3f16ee+':\x20'+_0x4f454d;throw this[_0x2e40f8(0x48b)][_0x2e40f8(0x363)](this[_0x2e40f8(0x194)]+'\x20('+this[_0x2e40f8(0x6e9)][_0x2e40f8(0x4f9)]+'):\x20'+_0x5ac5a8),new m(_0x5ac5a8);}}async['createRegularFlow'](_0x1f745a){const _0x2de122=a0_0x156424;try{this['logger'][_0x2de122(0x361)](this[_0x2de122(0x194)]+'\x20('+this['instance'][_0x2de122(0x4f9)]+_0x2de122(0x486));let _0x4faef2=_0x1f745a?.['global']===_0x2de122(0x6cc)?_0x2de122(0x598):this[_0x2de122(0x6e9)][_0x2de122(0x4f9)];delete _0x1f745a[_0x2de122(0x239)],delete _0x1f745a[_0x2de122(0x1bc)],delete _0x1f745a[_0x2de122(0x585)],_0x1f745a['default']===!0x0&&await this['repository'][_0x2de122(0x321)][_0x2de122(0x2dc)]({},{'default':!0x1},this['instance'][_0x2de122(0x4f9)]);let _0x59c52b=new oe[(_0x2de122(0x241))][(_0x2de122(0x6e3))](),_0x1d59c0={'_id':_0x59c52b,'default':!0x0,'title':_0x2de122(0x47e),'x':0x0,'y':0x0},_0x40da98={'_id':new oe[(_0x2de122(0x241))][(_0x2de122(0x6e3))](),'order':0x1,'groupId':_0x59c52b['toString'](),'type':_0x2de122(0xcf)},_0x405b45={'_id':new oe[(_0x2de122(0x241))][(_0x2de122(0x6e3))](),'owner':this['instance'][_0x2de122(0x4f9)],'name':_0x1f745a[_0x2de122(0x350)],'groups':[_0x1d59c0],'blocks':[_0x40da98],..._0x1f745a};return await this[_0x2de122(0x2c2)]['flow'][_0x2de122(0x397)](_0x405b45,_0x4faef2);}catch(_0x17d9cd){let _0x35cc37=_0x2de122(0x139),_0x239754=_0x17d9cd instanceof Error?_0x17d9cd[_0x2de122(0x6b3)]:typeof _0x17d9cd=='object'?JSON[_0x2de122(0x389)](_0x17d9cd):_0x17d9cd,_0x2e4d7e=_0x35cc37+':\x20'+_0x239754;throw this[_0x2de122(0x48b)][_0x2de122(0x363)](this[_0x2de122(0x194)]+'\x20('+this[_0x2de122(0x6e9)][_0x2de122(0x4f9)]+'):\x20'+_0x2e4d7e),new m(_0x2e4d7e);}}async[a0_0x156424(0x236)](_0x554c60,_0x5aa52e){const _0x464b15=a0_0x156424;this[_0x464b15(0x48b)][_0x464b15(0xf5)](_0x464b15(0x35a));try{let _0x509aca=await this[_0x464b15(0x2c2)][_0x464b15(0x321)]['findOne']({'where':{'_id':_0x554c60}},_0x5aa52e);if(delete _0x509aca[_0x464b15(0x72b)],delete _0x509aca[_0x464b15(0x2ee)],delete _0x509aca[_0x464b15(0x43d)],delete _0x509aca[_0x464b15(0x329)],delete _0x509aca[_0x464b15(0x62a)],_0x509aca['global']===_0x464b15(0x6cc)&&(_0x509aca[_0x464b15(0x598)]=_0x464b15(0x43c)),_0x509aca&&_0x509aca[_0x464b15(0x239)]){for(let _0x2a3ffb of _0x509aca[_0x464b15(0x239)])if(_0x2a3ffb!==_0x5aa52e){let _0x19b972={..._0x509aca,'owner':_0x2a3ffb};await this[_0x464b15(0x2c2)][_0x464b15(0x321)][_0x464b15(0x45c)](_0x509aca[_0x464b15(0x21c)],_0x19b972,_0x2a3ffb);}}}catch(_0x362cb3){this[_0x464b15(0x48b)][_0x464b15(0x363)](_0x464b15(0x28f)+_0x362cb3);}}async[a0_0x156424(0x114)](_0x14762,_0x5cf483){const _0x3b1913=a0_0x156424;try{this[_0x3b1913(0x48b)][_0x3b1913(0x361)](this[_0x3b1913(0x194)]+'\x20('+this[_0x3b1913(0x6e9)][_0x3b1913(0x4f9)]+_0x3b1913(0xce)+_0x14762['name']+_0x3b1913(0x749)+_0x14762[_0x3b1913(0x598)]);let _0x1e5034=_0x14762['global']===_0x3b1913(0x6cc)?'global':this[_0x3b1913(0x6e9)][_0x3b1913(0x4f9)],_0x1eba07=await this['repository']['flow'][_0x3b1913(0x6d5)]({'where':{'name':_0x14762[_0x3b1913(0x350)]}},_0x1e5034);if(!_0x1eba07)throw new m(_0x3b1913(0x495));if(_0x5cf483!==ee&&_0x1eba07?.[_0x3b1913(0x598)]===_0x3b1913(0x6cc)&&_0x1eba07?.[_0x3b1913(0x585)]!==this[_0x3b1913(0x6e9)][_0x3b1913(0x4f9)])throw new m('Esse\x20fluxo\x20é\x20global,\x20para\x20deletá-lo\x20você\x20precisa\x20ser\x20o\x20criador\x20ou\x20usar\x20a\x20apikey\x20global');if(_0x1eba07&&_0x1eba07['shareOwners']&&_0x1eba07['shareOwners'][_0x3b1913(0x476)]>0x0){for(let _0x31245f of _0x1eba07[_0x3b1913(0x239)])if(_0x31245f!==_0x1e5034){let _0x50db6a=await this[_0x3b1913(0x2c2)]['flow'][_0x3b1913(0x6d5)]({'where':{'sharePass':_0x1eba07[_0x3b1913(0x1bc)]}},_0x31245f);if(_0x50db6a){_0x50db6a[_0x3b1913(0x239)]=_0x50db6a[_0x3b1913(0x239)][_0x3b1913(0x3f2)](_0x20442b=>_0x20442b!==_0x1eba07[_0x3b1913(0x585)]);let _0x49dd4f={'shareOwners':_0x50db6a[_0x3b1913(0x239)]};_0x1eba07[_0x3b1913(0x598)]==='true'&&(_0x49dd4f[_0x3b1913(0x598)]=_0x3b1913(0x682)),await this['repository'][_0x3b1913(0x321)][_0x3b1913(0x2e5)](_0x50db6a[_0x3b1913(0x21c)],_0x49dd4f,_0x31245f);}}}return await this[_0x3b1913(0x2c2)]['flow']['deleteOne']({'where':{'name':_0x14762[_0x3b1913(0x350)]}},_0x1e5034);}catch(_0x19bde5){return this[_0x3b1913(0x48b)][_0x3b1913(0x363)](this[_0x3b1913(0x194)]+'\x20('+this[_0x3b1913(0x6e9)]['wuid']+_0x3b1913(0x5eb)+(_0x19bde5 instanceof Error?_0x19bde5[_0x3b1913(0x6b3)]:JSON[_0x3b1913(0x389)](_0x19bde5,null,0x2))),{'message':_0x3b1913(0x233)+_0x19bde5[_0x3b1913(0x6b3)]};}}async['getFlow'](_0x4b590e,_0x274684){const _0x23dcac=a0_0x156424;try{this[_0x23dcac(0x48b)][_0x23dcac(0xf5)](this[_0x23dcac(0x194)]+'\x20('+this['instance'][_0x23dcac(0x4f9)]+_0x23dcac(0x10e)+_0x4b590e+_0x23dcac(0x6bc)+_0x274684);let _0x3ab7ed=_0x274684?.[_0x23dcac(0x652)]()==='true'?'global':this[_0x23dcac(0x6e9)]['wuid'],_0x57ee55=await this[_0x23dcac(0x2c2)]['flow'][_0x23dcac(0x6d5)]({'where':{'name':_0x4b590e}},_0x3ab7ed);if(!_0x57ee55)throw new Error(_0x23dcac(0x5f0));if(_0x57ee55[_0x23dcac(0x61e)]||(_0x57ee55[_0x23dcac(0x61e)]=(0x0,Me['v4'])()),!this[_0x23dcac(0x105)]&&(await this[_0x23dcac(0x220)](),!this['AutomateSystem']))return null;let _0x5b9fb7=this[_0x23dcac(0x105)]?.[_0x23dcac(0x2b1)]['map'](_0x2cd46a=>_0x2cd46a[_0x23dcac(0x350)]),_0x31a153=[_0x23dcac(0x288),_0x23dcac(0xd7),_0x23dcac(0x343),_0x23dcac(0x4d8),_0x23dcac(0x2f7),_0x23dcac(0x297),_0x23dcac(0x3d5),'tags','etiquetas',_0x23dcac(0x77c),_0x23dcac(0x306)];_0x57ee55[_0x23dcac(0x43a)]=_0x57ee55[_0x23dcac(0x43a)]['filter'](_0x13c457=>!(_0x13c457['folder']==='leadInfo'||_0x13c457[_0x23dcac(0x753)])),_0x31a153[_0x23dcac(0x6cb)](_0x5a27b2=>{const _0x108605=_0x23dcac;_0x57ee55[_0x108605(0x43a)]['push']({'folder':_0x108605(0x753),'name':_0x5a27b2,'value':'','doc':'','leadInfo':!0x0});}),_0x5b9fb7[_0x23dcac(0x6cb)](_0x2e7072=>{const _0x46ae86=_0x23dcac;let _0x28f4d8=_0x57ee55['variables'][_0x46ae86(0x64f)](_0x3d3381=>_0x3d3381[_0x46ae86(0x350)]===_0x2e7072);_0x28f4d8===-0x1?_0x57ee55['variables']['push']({'folder':_0x46ae86(0x753),'name':_0x2e7072,'value':'','doc':'','leadInfo':!0x0}):(_0x57ee55['variables'][_0x28f4d8][_0x46ae86(0x33a)]=_0x46ae86(0x753),_0x57ee55[_0x46ae86(0x43a)][_0x28f4d8][_0x46ae86(0x753)]=!0x0);}),_0x57ee55[_0x23dcac(0x167)]&&_0x57ee55[_0x23dcac(0x167)]['length']>0x0&&_0x57ee55[_0x23dcac(0x167)][_0x23dcac(0x6cb)](_0x3e7d9b=>{const _0x1b8882=_0x23dcac;_0x3e7d9b[_0x1b8882(0x3bc)]&&_0x3e7d9b[_0x1b8882(0x49f)]&&_0x3e7d9b[_0x1b8882(0x3bc)]===_0x3e7d9b[_0x1b8882(0x49f)]&&(_0x3e7d9b['next_groupId']=null);});let _0x1bbec6=await this[_0x23dcac(0x2c2)][_0x23dcac(0x321)]['updateOne'](_0x57ee55['_id'],_0x57ee55,_0x3ab7ed);if(!_0x1bbec6)throw new Error(_0x23dcac(0x1bd));return _0x1bbec6;}catch(_0x9ed952){let _0x48c090=_0x23dcac(0x680),_0x4cd07c=_0x9ed952 instanceof Error?_0x9ed952['message']:typeof _0x9ed952=='object'?JSON[_0x23dcac(0x389)](_0x9ed952):_0x9ed952,_0x57fa1f=_0x48c090+':\x20'+_0x4cd07c;throw this[_0x23dcac(0x48b)][_0x23dcac(0x363)](this[_0x23dcac(0x194)]+'\x20('+this[_0x23dcac(0x6e9)][_0x23dcac(0x4f9)]+'):\x20'+_0x57fa1f),new m(_0x57fa1f);}}async['allFlows'](){const _0x44607c=a0_0x156424;try{this[_0x44607c(0x48b)]['verbose'](this[_0x44607c(0x194)]+'\x20('+this[_0x44607c(0x6e9)]['wuid']+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await this[_0x44607c(0x2c2)][_0x44607c(0x321)]['updateMissingShareOwners'](this['instance'][_0x44607c(0x4f9)]);let _0x385bd0=await this[_0x44607c(0x2c2)][_0x44607c(0x321)]['findAll']({'where':{}},this['instance'][_0x44607c(0x4f9)]),_0x26baaa=await this[_0x44607c(0x2c2)]['flow'][_0x44607c(0x6de)]({'where':{}},_0x44607c(0x598));return _0x385bd0['concat'](_0x26baaa);}catch(_0x435ec5){return this[_0x44607c(0x48b)][_0x44607c(0x363)](this[_0x44607c(0x194)]+'\x20('+this[_0x44607c(0x6e9)][_0x44607c(0x4f9)]+_0x44607c(0x6a0)+(_0x435ec5 instanceof Error?_0x435ec5[_0x44607c(0x6b3)]:JSON[_0x44607c(0x389)](_0x435ec5,null,0x2))),{'message':_0x44607c(0x11d)+_0x435ec5['message']};}}async['editFlow'](_0x2bb837,_0x22dbea){const _0x23cef8=a0_0x156424;try{this[_0x23cef8(0x48b)][_0x23cef8(0x361)](this[_0x23cef8(0x194)]+'\x20('+this[_0x23cef8(0x6e9)][_0x23cef8(0x4f9)]+_0x23cef8(0x3a5));let _0x135fc7=_0x2bb837?.[_0x23cef8(0x598)]?.[_0x23cef8(0x652)]()===_0x23cef8(0x6cc)?_0x23cef8(0x598):this[_0x23cef8(0x6e9)]['wuid'],_0x26e939=await this[_0x23cef8(0x2c2)][_0x23cef8(0x321)]['findOne']({'where':{'name':_0x2bb837[_0x23cef8(0x350)]}},_0x135fc7);if(!_0x26e939)return{'message':'Fluxo\x20não\x20encontrado'};if(_0x22dbea!==ee&&_0x26e939?.['global']===_0x23cef8(0x6cc)&&_0x26e939?.['owner']!==this['instance']['wuid'])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');_0x26e939?.[_0x23cef8(0x598)]===_0x23cef8(0x43c)&&(_0x2bb837={'default':_0x2bb837['default'],'minutesToClose':_0x2bb837[_0x23cef8(0x329)],'readMessages':_0x2bb837[_0x23cef8(0x62a)],'testingWith':_0x2bb837[_0x23cef8(0x43d)],'startCommandWord':_0x2bb837[_0x23cef8(0x2ee)]}),_0x2bb837['default']===!0x0&&_0x26e939?.[_0x23cef8(0x598)]!==_0x23cef8(0x6cc)&&await this[_0x23cef8(0x2c2)][_0x23cef8(0x321)][_0x23cef8(0x2dc)]({},{'default':!0x1},_0x135fc7),delete _0x2bb837[_0x23cef8(0x239)],delete _0x2bb837[_0x23cef8(0x1bc)],delete _0x2bb837[_0x23cef8(0x598)];let _0x3fe32d=await this['repository'][_0x23cef8(0x321)][_0x23cef8(0x2e5)](_0x26e939[_0x23cef8(0x21c)],_0x2bb837,_0x135fc7);return _0x3fe32d&&_0x3fe32d['shareOwners']&&_0x3fe32d[_0x23cef8(0x239)]['length']>0x1&&_0x3fe32d[_0x23cef8(0x598)]!=='sync'&&this[_0x23cef8(0x236)](_0x3fe32d[_0x23cef8(0x21c)],_0x135fc7),_0x3fe32d;}catch(_0x5cceee){let _0x1b1cad=_0x23cef8(0x253),_0x470b9d=_0x5cceee instanceof Error?_0x5cceee[_0x23cef8(0x6b3)]:typeof _0x5cceee==_0x23cef8(0x666)?JSON[_0x23cef8(0x389)](_0x5cceee):_0x5cceee,_0x102787=_0x1b1cad+':\x20'+_0x470b9d;throw this['logger'][_0x23cef8(0x363)](this['instanceName']+'\x20('+this[_0x23cef8(0x6e9)][_0x23cef8(0x4f9)]+_0x23cef8(0x5a6)+_0x102787),new m(_0x102787);}}async[a0_0x156424(0x3f0)](_0x42bc8a,_0x33722a){const _0x5f56a5=a0_0x156424;try{this[_0x5f56a5(0x48b)][_0x5f56a5(0x361)](this['instanceName']+'\x20('+this[_0x5f56a5(0x6e9)][_0x5f56a5(0x4f9)]+_0x5f56a5(0xc4));let _0x2ed81d=_0x42bc8a?.[_0x5f56a5(0x598)]?.[_0x5f56a5(0x652)]()==='true'?_0x5f56a5(0x598):this[_0x5f56a5(0x6e9)][_0x5f56a5(0x4f9)],_0x541465=await this[_0x5f56a5(0x2c2)][_0x5f56a5(0x321)][_0x5f56a5(0x6d5)]({'where':{'name':_0x42bc8a[_0x5f56a5(0x350)]}},_0x2ed81d);if(_0x541465||this['throwAndLogError'](_0x5f56a5(0x5f0)),_0x541465?.[_0x5f56a5(0x598)]===_0x5f56a5(0x43c))throw new m(_0x5f56a5(0x5b3));if(_0x33722a!==ee&&_0x541465?.[_0x5f56a5(0x598)]===_0x5f56a5(0x6cc)&&_0x541465?.[_0x5f56a5(0x585)]!==this['instance'][_0x5f56a5(0x4f9)])throw new m(_0x5f56a5(0x4ef));let {block:_0x56e22b}=_0x42bc8a;_0x56e22b?.[_0x5f56a5(0x465)]?this[_0x5f56a5(0x29c)](_0x541465,_0x42bc8a):_0x56e22b?.[_0x5f56a5(0x4f4)]?this['deleteBlock'](_0x541465,_0x42bc8a):_0x56e22b[_0x5f56a5(0x21c)]?await this[_0x5f56a5(0x43e)](_0x541465,_0x42bc8a):this[_0x5f56a5(0x42d)](_0x541465,_0x42bc8a);let _0x41f9f5=await this['repository'][_0x5f56a5(0x321)][_0x5f56a5(0x2e5)](_0x541465[_0x5f56a5(0x21c)],_0x541465,_0x2ed81d);if(_0x41f9f5&&_0x41f9f5[_0x5f56a5(0x239)]&&_0x41f9f5[_0x5f56a5(0x239)]['length']>0x1&&this[_0x5f56a5(0x236)](_0x41f9f5[_0x5f56a5(0x21c)],this[_0x5f56a5(0x6e9)][_0x5f56a5(0x4f9)]),!_0x41f9f5)throw new Error(_0x5f56a5(0x1bd));return _0x41f9f5;}catch(_0x3325ff){this[_0x5f56a5(0x5fd)](_0x5f56a5(0x785)+_0x3325ff['message']);}}async[a0_0x156424(0x29c)](_0x19fe84,_0x148134){const _0x760e6c=a0_0x156424;let _0x507c4f=_0x148134['block']['_id'],_0x321a83=_0x19fe84[_0x760e6c(0x167)]['find'](_0x4cd0e9=>_0x4cd0e9[_0x760e6c(0x21c)][_0x760e6c(0x50d)]()===_0x507c4f);if(!_0x321a83){this['logger'][_0x760e6c(0x363)](this[_0x760e6c(0x194)]+'\x20('+this['instance'][_0x760e6c(0x4f9)]+'):\x20Bloco\x20com\x20ID\x20'+_0x507c4f+'\x20não\x20encontrado\x20para\x20cópia');return;}this[_0x760e6c(0x48b)][_0x760e6c(0x361)](this[_0x760e6c(0x194)]+'\x20('+this['instance'][_0x760e6c(0x4f9)]+'):\x20Bloco\x20original\x20para\x20cópia:\x20'+JSON[_0x760e6c(0x389)](_0x321a83));let _0xae99c=JSON[_0x760e6c(0x3a0)](JSON[_0x760e6c(0x389)](_0x321a83));_0xae99c[_0x760e6c(0x21c)]=new oe['default']['Types']['ObjectId'](),this[_0x760e6c(0x48b)]['verbose'](this[_0x760e6c(0x194)]+'\x20('+this[_0x760e6c(0x6e9)][_0x760e6c(0x4f9)]+'):\x20Bloco\x20copiado:\x20'+JSON[_0x760e6c(0x389)](_0xae99c)),_0x19fe84[_0x760e6c(0x167)][_0x760e6c(0x211)](_0xae99c),this[_0x760e6c(0x12a)](_0x19fe84[_0x760e6c(0x167)],_0xae99c[_0x760e6c(0x3bc)]);}[a0_0x156424(0x5fd)](_0x5b9d66){const _0x142366=a0_0x156424;throw this[_0x142366(0x48b)][_0x142366(0x363)](this[_0x142366(0x194)]+'\x20('+this['instance']['wuid']+_0x142366(0x5a6)+_0x5b9d66),new m(_0x5b9d66);}[a0_0x156424(0x539)](_0x433b7d,_0x5fa9be){const _0x3f27e2=a0_0x156424;let {block:_0x15e860}=_0x5fa9be;if(_0x15e860[_0x3f27e2(0x136)]===_0x3f27e2(0xcf)){this[_0x3f27e2(0x5fd)](_0x3f27e2(0xd0));return;}if(!_0x15e860[_0x3f27e2(0x21c)]){this['throwAndLogError'](_0x3f27e2(0x581));return;}let _0x206359=_0x433b7d[_0x3f27e2(0x167)][_0x3f27e2(0x5ae)](_0xd95f6a=>_0xd95f6a[_0x3f27e2(0x21c)][_0x3f27e2(0x50d)]()===_0x5fa9be[_0x3f27e2(0x1b9)]['_id'][_0x3f27e2(0x50d)]());if(!_0x206359){this[_0x3f27e2(0x5fd)]('Bloco\x20com\x20ID\x20'+_0x15e860[_0x3f27e2(0x21c)]+_0x3f27e2(0x246));return;}_0x433b7d[_0x3f27e2(0x167)]=_0x433b7d[_0x3f27e2(0x167)][_0x3f27e2(0x3f2)](_0x14fccd=>_0x14fccd[_0x3f27e2(0x21c)]['toString']()!==_0x5fa9be[_0x3f27e2(0x1b9)][_0x3f27e2(0x21c)][_0x3f27e2(0x50d)]()),_0x433b7d[_0x3f27e2(0x25c)]=_0x433b7d[_0x3f27e2(0x25c)]['filter'](_0x3b64ad=>_0x3b64ad[_0x3f27e2(0x78b)]!==_0x15e860['_id'][_0x3f27e2(0x50d)]()),_0x433b7d[_0x3f27e2(0x718)]=_0x433b7d[_0x3f27e2(0x718)][_0x3f27e2(0x3f2)](_0x458223=>_0x458223['blockId']!==_0x15e860['_id']['toString']()),_0x433b7d['replyOptions']=_0x433b7d[_0x3f27e2(0x448)][_0x3f27e2(0x3f2)](_0x4d4dce=>_0x4d4dce[_0x3f27e2(0x78b)]!==_0x15e860[_0x3f27e2(0x21c)][_0x3f27e2(0x50d)]()),this['reorderBlocks'](_0x433b7d['blocks'],_0x206359['groupId']);}async[a0_0x156424(0x43e)](_0x179f33,_0x4edf88){const _0x5cf60c=a0_0x156424;let _0x1e67a8=_0x179f33['blocks'][_0x5cf60c(0x64f)](_0x125896=>_0x125896[_0x5cf60c(0x21c)][_0x5cf60c(0x50d)]()===_0x4edf88[_0x5cf60c(0x1b9)][_0x5cf60c(0x21c)][_0x5cf60c(0x50d)]());if(this[_0x5cf60c(0x48b)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x5cf60c(0x4f9)]+_0x5cf60c(0x449)+_0x1e67a8),_0x1e67a8===-0x1){this[_0x5cf60c(0x48b)][_0x5cf60c(0x361)](_0x5cf60c(0xe3)+_0x4edf88[_0x5cf60c(0x1b9)][_0x5cf60c(0x21c)]+_0x5cf60c(0x3f7));return;}if(_0x179f33['blocks'][_0x1e67a8][_0x5cf60c(0x136)]===_0x5cf60c(0xcf)){let _0x597a1a=Object['keys'](_0x4edf88['block']);if(_0x597a1a[_0x5cf60c(0x476)]>0x2||_0x597a1a[_0x5cf60c(0x476)]===0x2&&!_0x597a1a['includes'](_0x5cf60c(0x49f))){this[_0x5cf60c(0x5fd)]('Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão');return;}}let _0x26e9b7=_0x179f33[_0x5cf60c(0x167)][_0x1e67a8][_0x5cf60c(0x3bc)];for(let _0x13c955 in _0x4edf88[_0x5cf60c(0x1b9)])_0x4edf88['block'][_0x5cf60c(0xfc)](_0x13c955)&&(_0x179f33[_0x5cf60c(0x167)][_0x1e67a8][_0x13c955]=_0x4edf88[_0x5cf60c(0x1b9)][_0x13c955]);if(this[_0x5cf60c(0x48b)]['verbose'](this[_0x5cf60c(0x194)]+'\x20('+this[_0x5cf60c(0x6e9)][_0x5cf60c(0x4f9)]+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON[_0x5cf60c(0x389)](_0x179f33[_0x5cf60c(0x167)][_0x1e67a8])),_0x179f33[_0x5cf60c(0x167)][_0x1e67a8][_0x5cf60c(0x65f)]&&'header'in _0x179f33[_0x5cf60c(0x167)][_0x1e67a8]['apirequest']){this[_0x5cf60c(0x48b)][_0x5cf60c(0x361)](this[_0x5cf60c(0x194)]+'\x20('+this[_0x5cf60c(0x6e9)][_0x5cf60c(0x4f9)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x485dc0=JSON[_0x5cf60c(0x389)](_0x179f33['blocks'][_0x1e67a8][_0x5cf60c(0x65f)][_0x5cf60c(0x199)],null,0x1);_0x485dc0[_0x5cf60c(0x476)]>0x2&&(_0x485dc0=_0x485dc0[_0x5cf60c(0x174)](0x1,_0x485dc0['length']-0x1)['trim']()),_0x179f33[_0x5cf60c(0x167)][_0x1e67a8][_0x5cf60c(0x65f)][_0x5cf60c(0x20b)]=_0x485dc0;}if(_0x179f33[_0x5cf60c(0x167)][_0x1e67a8][_0x5cf60c(0x65f)]&&_0x5cf60c(0x2f6)in _0x179f33[_0x5cf60c(0x167)][_0x1e67a8][_0x5cf60c(0x65f)]&&!(_0x5cf60c(0x4e5)in _0x179f33['blocks'][_0x1e67a8][_0x5cf60c(0x65f)])){this['logger']['verbose'](this[_0x5cf60c(0x194)]+'\x20('+this[_0x5cf60c(0x6e9)][_0x5cf60c(0x4f9)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x179f33[_0x5cf60c(0x167)][_0x1e67a8]['apirequest'][_0x5cf60c(0x49e)]=!0x1;let _0x5f13cd=JSON[_0x5cf60c(0x389)](_0x179f33[_0x5cf60c(0x167)][_0x1e67a8][_0x5cf60c(0x65f)]['body'],null,0x2);_0x179f33[_0x5cf60c(0x167)][_0x1e67a8]['apirequest'][_0x5cf60c(0x4e5)]=_0x5f13cd;}if(_0x179f33[_0x5cf60c(0x167)][_0x1e67a8][_0x5cf60c(0x65f)]&&'bodyString'in _0x179f33[_0x5cf60c(0x167)][_0x1e67a8]['apirequest']){_0x179f33[_0x5cf60c(0x167)][_0x1e67a8][_0x5cf60c(0x65f)][_0x5cf60c(0x49e)]=!0x1;let _0x78123f=_0x179f33[_0x5cf60c(0x167)][_0x1e67a8][_0x5cf60c(0x65f)][_0x5cf60c(0x4e5)],_0x11fed4=this[_0x5cf60c(0x3df)](_0x78123f);_0x179f33[_0x5cf60c(0x167)][_0x1e67a8][_0x5cf60c(0x65f)][_0x5cf60c(0x4e5)]=_0x11fed4['result'],_0x179f33['blocks'][_0x1e67a8]['apirequest']['bodyStringErrorParse']=_0x11fed4['error'];}let _0x5f49fd=_0x179f33['blocks'][_0x1e67a8][_0x5cf60c(0x3bc)];_0x26e9b7!==_0x5f49fd?(this[_0x5cf60c(0x12a)](_0x179f33['blocks'],_0x26e9b7),this[_0x5cf60c(0x12a)](_0x179f33[_0x5cf60c(0x167)],_0x5f49fd)):this['reorderBlocks'](_0x179f33[_0x5cf60c(0x167)],_0x26e9b7);}[a0_0x156424(0x3df)](_0x474481){const _0x7c798f=a0_0x156424;let _0x5318d0='\u205f',_0x2b724c=!0x1,_0x57ad8f='';for(let _0x48359c=0x0;_0x48359c<_0x474481[_0x7c798f(0x476)];_0x48359c++){let _0x3fc1d5=_0x474481[_0x48359c];_0x3fc1d5==='\x22'&&(_0x48359c===0x0||_0x474481[_0x48359c-0x1]!=='\x5c')&&(_0x2b724c=!_0x2b724c),!(!_0x2b724c&&(_0x3fc1d5==='\x0a'||_0x3fc1d5==='\x20'||_0x3fc1d5===_0x5318d0))&&(_0x57ad8f+=_0x3fc1d5);}let _0x9d2d33={},_0x5d1d62=9876543210.1234,_0x1747d8=_0x57ad8f[_0x7c798f(0x367)](/\{\{([^}]+)\}\}/g,_0x36f0dd=>{let _0x5d8147=_0x36f0dd,_0xb09e7=''+_0x5d1d62;return _0x9d2d33[_0xb09e7]=_0x5d8147,_0x5d1d62+=0.0001,_0xb09e7;}),_0x4f1700='',_0x248411=!0x1;try{let _0x15d9cd=JSON[_0x7c798f(0x3a0)](_0x1747d8);_0x4f1700=JSON[_0x7c798f(0x389)](_0x15d9cd,null,0x2),_0x4f1700=_0x4f1700['replace'](/\n( +)/g,(_0x35af33,_0x355a06)=>{const _0xd2fe2a=_0x7c798f;let _0x15bb7d=_0x355a06['length'];return'\x0a'+_0x5318d0[_0xd2fe2a(0x5f7)](_0x15bb7d*0x2);}),_0x4f1700=_0x4f1700[_0x7c798f(0x367)](/(\d{10,}\.\d+)/g,_0x34bdc3=>_0x9d2d33[_0x34bdc3]||_0x34bdc3);}catch(_0x2d5506){console[_0x7c798f(0x363)](_0x7c798f(0x40d),_0x2d5506),_0x4f1700=_0x474481,_0x248411=!0x0;}return{'result':_0x4f1700,'error':_0x248411};}[a0_0x156424(0x42d)](_0x3f6c0a,_0x2113f4){const _0x4d79b4=a0_0x156424;if(_0x2113f4[_0x4d79b4(0x1b9)][_0x4d79b4(0x136)]===_0x4d79b4(0xcf)){this[_0x4d79b4(0x5fd)](_0x4d79b4(0x198));return;}if(_0x2113f4[_0x4d79b4(0x1b9)][_0x4d79b4(0x65f)]&&_0x4d79b4(0x199)in _0x2113f4[_0x4d79b4(0x1b9)]['apirequest']){this[_0x4d79b4(0x48b)][_0x4d79b4(0x361)](this[_0x4d79b4(0x194)]+'\x20('+this[_0x4d79b4(0x6e9)][_0x4d79b4(0x4f9)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0xacf1da=JSON['stringify'](_0x2113f4['block'][_0x4d79b4(0x65f)][_0x4d79b4(0x199)],null,0x1);_0xacf1da[_0x4d79b4(0x476)]>0x2&&(_0xacf1da=_0xacf1da[_0x4d79b4(0x174)](0x1,_0xacf1da['length']-0x1)[_0x4d79b4(0x652)]()),_0x2113f4[_0x4d79b4(0x1b9)][_0x4d79b4(0x65f)][_0x4d79b4(0x20b)]=_0xacf1da;}_0x2113f4[_0x4d79b4(0x1b9)][_0x4d79b4(0x65f)]&&_0x4d79b4(0x2f6)in _0x2113f4['block'][_0x4d79b4(0x65f)]&&(this[_0x4d79b4(0x48b)]['verbose'](this['instanceName']+'\x20('+this[_0x4d79b4(0x6e9)][_0x4d79b4(0x4f9)]+_0x4d79b4(0x6f5)),_0x2113f4[_0x4d79b4(0x1b9)][_0x4d79b4(0x65f)]['bodyString']=JSON[_0x4d79b4(0x389)](_0x2113f4[_0x4d79b4(0x1b9)][_0x4d79b4(0x65f)][_0x4d79b4(0x2f6)],null,0x1)['trim']()),_0x3f6c0a['blocks']['push'](_0x2113f4[_0x4d79b4(0x1b9)]),this['reorderBlocks'](_0x3f6c0a[_0x4d79b4(0x167)],_0x2113f4[_0x4d79b4(0x1b9)][_0x4d79b4(0x3bc)]);}['reorderBlocks'](_0x115d6c,_0x1f01da){const _0x4d0eee=a0_0x156424;let _0x2ae623=_0x115d6c[_0x4d0eee(0x3f2)](_0x367374=>_0x367374[_0x4d0eee(0x3bc)]===_0x1f01da);_0x2ae623['sort']((_0x3dad37,_0x22c952)=>_0x3dad37[_0x4d0eee(0x4e6)]-_0x22c952[_0x4d0eee(0x4e6)]),_0x2ae623['forEach']((_0x5ec9da,_0x5185df)=>_0x5ec9da[_0x4d0eee(0x4e6)]=_0x5185df+0x1);}async[a0_0x156424(0x51a)](_0x4d98cc,_0x261ec0){const _0x52b56c=a0_0x156424;try{this['logger'][_0x52b56c(0x361)](this[_0x52b56c(0x194)]+'\x20('+this['instance'][_0x52b56c(0x4f9)]+_0x52b56c(0x399));let _0x5b05b7=_0x4d98cc?.[_0x52b56c(0x598)][_0x52b56c(0x652)]()===_0x52b56c(0x6cc)?_0x52b56c(0x598):this['instance'][_0x52b56c(0x4f9)];if(!_0x4d98cc||!_0x4d98cc['replyOption']){this[_0x52b56c(0x5fd)](_0x52b56c(0xf7));return;}let _0x3ee5e8=await this[_0x52b56c(0x2c2)][_0x52b56c(0x321)][_0x52b56c(0x6d5)]({'where':{'name':_0x4d98cc[_0x52b56c(0x350)]}},_0x5b05b7);if(_0x3ee5e8||this[_0x52b56c(0x5fd)](_0x52b56c(0x5f0)),_0x3ee5e8?.['global']===_0x52b56c(0x43c))throw new m(_0x52b56c(0x5b3));if(_0x261ec0!==ee&&_0x3ee5e8?.[_0x52b56c(0x598)]===_0x52b56c(0x6cc)&&_0x3ee5e8?.[_0x52b56c(0x585)]!==this['instance'][_0x52b56c(0x4f9)])throw new m(_0x52b56c(0x4ef));let {replyOption:_0x213438}=_0x4d98cc;_0x213438?.[_0x52b56c(0x4f4)]?(this[_0x52b56c(0x5bc)](_0x3ee5e8,_0x4d98cc),this[_0x52b56c(0x164)](_0x3ee5e8[_0x52b56c(0x448)],_0x4d98cc['replyOption']['blockId'])):_0x213438[_0x52b56c(0x21c)]?(await this[_0x52b56c(0x58e)](_0x3ee5e8,_0x4d98cc),this[_0x52b56c(0x164)](_0x3ee5e8[_0x52b56c(0x448)],_0x4d98cc['replyOption']['blockId'])):(this['addReplyOption'](_0x3ee5e8,_0x4d98cc),this[_0x52b56c(0x164)](_0x3ee5e8[_0x52b56c(0x448)],_0x4d98cc[_0x52b56c(0x4ed)][_0x52b56c(0x78b)]));let _0x117795=await this[_0x52b56c(0x2c2)]['flow'][_0x52b56c(0x2e5)](_0x3ee5e8[_0x52b56c(0x21c)],_0x3ee5e8,_0x5b05b7);if(_0x117795&&_0x117795[_0x52b56c(0x239)]&&_0x117795[_0x52b56c(0x239)]['length']>0x1&&_0x117795[_0x52b56c(0x598)]!==_0x52b56c(0x43c)&&this[_0x52b56c(0x236)](_0x117795[_0x52b56c(0x21c)],_0x5b05b7),!_0x117795)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x117795;}catch(_0x117130){this['throwAndLogError'](_0x52b56c(0x1de)+_0x117130);}}[a0_0x156424(0x164)](_0x482de4,_0x1863ba){const _0x1c658f=a0_0x156424;_0x482de4[_0x1c658f(0x6cb)](_0x22d3ed=>{const _0xd6af03=_0x1c658f;_0x22d3ed['blockId']===_0x1863ba&&_0x22d3ed['order']===void 0x0&&(_0x22d3ed[_0xd6af03(0x4e6)]=0x270f);});let _0x2ab690=_0x482de4[_0x1c658f(0x3f2)](_0x4a224b=>_0x4a224b['blockId']===_0x1863ba);_0x2ab690['sort']((_0x43cb58,_0x371ab2)=>_0x43cb58['order']-_0x371ab2[_0x1c658f(0x4e6)]),_0x2ab690[_0x1c658f(0x6cb)]((_0x21718e,_0x1fdfab)=>{const _0x449cf1=_0x1c658f;_0x21718e[_0x449cf1(0x4e6)]=_0x1fdfab+0x1;}),_0x482de4[_0x1c658f(0x6cb)](_0x43ebea=>{const _0x59a9b2=_0x1c658f;if(_0x43ebea[_0x59a9b2(0x78b)]===_0x1863ba){let _0x3423f9=_0x2ab690[_0x59a9b2(0x5ae)](_0x552834=>_0x552834[_0x59a9b2(0x21c)]&&_0x43ebea[_0x59a9b2(0x21c)]&&_0x552834[_0x59a9b2(0x21c)][_0x59a9b2(0x50d)]()===_0x43ebea[_0x59a9b2(0x21c)][_0x59a9b2(0x50d)]());_0x3423f9&&(_0x43ebea[_0x59a9b2(0x4e6)]=_0x3423f9['order']);}});}[a0_0x156424(0x5bc)](_0x35798b,_0xfe4cf6){const _0x1373eb=a0_0x156424;let {replyOption:_0x50be90}=_0xfe4cf6;if(!_0x50be90[_0x1373eb(0x21c)]){this[_0x1373eb(0x5fd)](_0x1373eb(0x748));return;}if(!_0x35798b[_0x1373eb(0x448)][_0x1373eb(0x5ae)](_0x2a03be=>_0x2a03be[_0x1373eb(0x21c)][_0x1373eb(0x50d)]()===_0xfe4cf6[_0x1373eb(0x4ed)][_0x1373eb(0x21c)]['toString']())){this['throwAndLogError'](_0x1373eb(0x3c0)+_0x50be90[_0x1373eb(0x21c)]+_0x1373eb(0x246));return;}_0x35798b[_0x1373eb(0x448)]=_0x35798b[_0x1373eb(0x448)]['filter'](_0x6f9a78=>_0x6f9a78[_0x1373eb(0x21c)][_0x1373eb(0x50d)]()!==_0xfe4cf6[_0x1373eb(0x4ed)]['_id'][_0x1373eb(0x50d)]());}async[a0_0x156424(0x58e)](_0x3e7ada,_0x1d8a23){const _0x3be8cb=a0_0x156424;let _0x584842=_0x3e7ada[_0x3be8cb(0x448)][_0x3be8cb(0x64f)](_0x4f4aad=>_0x4f4aad[_0x3be8cb(0x21c)][_0x3be8cb(0x50d)]()===_0x1d8a23[_0x3be8cb(0x4ed)]['_id'][_0x3be8cb(0x50d)]());if(_0x584842===-0x1){this[_0x3be8cb(0x5fd)]('ReplyOption\x20com\x20ID\x20'+_0x1d8a23['replyOption'][_0x3be8cb(0x21c)]+_0x3be8cb(0x3f7));return;}for(let _0x11f279 in _0x1d8a23['replyOption'])_0x1d8a23['replyOption']['hasOwnProperty'](_0x11f279)&&(_0x3e7ada[_0x3be8cb(0x448)][_0x584842][_0x11f279]=_0x1d8a23[_0x3be8cb(0x4ed)][_0x11f279]);}[a0_0x156424(0x4df)](_0x58969c,_0x57f09d){const _0xca1086=a0_0x156424;_0x58969c[_0xca1086(0x448)][_0xca1086(0x211)](_0x57f09d[_0xca1086(0x4ed)]);}async[a0_0x156424(0x230)](_0x230e37,_0xc5dd5e){const _0x230201=a0_0x156424;let _0x477220=_0x230e37?.[_0x230201(0x598)][_0x230201(0x652)]()===_0x230201(0x6cc)?_0x230201(0x598):this['instance'][_0x230201(0x4f9)];this[_0x230201(0x48b)][_0x230201(0x361)](this['instanceName']+'\x20('+this[_0x230201(0x6e9)][_0x230201(0x4f9)]+_0x230201(0x5ec)+_0x477220+_0x230201(0x5df)+_0xc5dd5e+_0x230201(0x1f9)+JSON[_0x230201(0x389)](_0x230e37,null,0x2));try{this[_0x230201(0x48b)][_0x230201(0x361)](this[_0x230201(0x194)]+'\x20('+this[_0x230201(0x6e9)][_0x230201(0x4f9)]+_0x230201(0x65c));let _0x3cd6b4=await this['repository']['flow'][_0x230201(0x6d5)]({'where':{'name':_0x230e37[_0x230201(0x350)]}},_0x477220);if(!_0x3cd6b4)throw this[_0x230201(0x48b)]['verbose'](this[_0x230201(0x194)]+'\x20('+this[_0x230201(0x6e9)][_0x230201(0x4f9)]+_0x230201(0x19f)),new Error(_0x230201(0x5f0));if(_0x3cd6b4?.[_0x230201(0x598)]===_0x230201(0x43c))throw this['logger'][_0x230201(0x361)](this[_0x230201(0x194)]+'\x20('+this[_0x230201(0x6e9)]['wuid']+_0x230201(0x56d)),new m(_0x230201(0x177));if(_0xc5dd5e!==ee&&_0x3cd6b4?.[_0x230201(0x598)]===_0x230201(0x6cc)&&_0x3cd6b4?.[_0x230201(0x585)]!==this[_0x230201(0x6e9)][_0x230201(0x4f9)])throw this[_0x230201(0x48b)][_0x230201(0x361)](this['instanceName']+'\x20('+this[_0x230201(0x6e9)][_0x230201(0x4f9)]+_0x230201(0x4cb)),new m(_0x230201(0x4ef));if(_0x230e37[_0x230201(0x58c)]&&_0x230e37[_0x230201(0x58c)]?.[_0x230201(0x4f4)]===!0x0){if(this[_0x230201(0x48b)]['verbose'](this[_0x230201(0x194)]+'\x20('+this[_0x230201(0x6e9)][_0x230201(0x4f9)]+_0x230201(0x163)),_0x230e37[_0x230201(0x58c)][_0x230201(0x72b)]===!0x0)return{'message':'Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão'};if(_0x3cd6b4['blocks']['some'](_0x542b4d=>_0x542b4d['groupId']['toString']()===_0x230e37['group'][_0x230201(0x21c)]))return this['logger'][_0x230201(0x361)](this[_0x230201(0x194)]+'\x20('+this[_0x230201(0x6e9)][_0x230201(0x4f9)]+_0x230201(0x4ae)),{'message':_0x230201(0x594)};_0x3cd6b4[_0x230201(0x20d)]=_0x3cd6b4[_0x230201(0x20d)]['filter'](_0x7dc88=>_0x7dc88[_0x230201(0x21c)][_0x230201(0x50d)]()!==_0x230e37[_0x230201(0x58c)][_0x230201(0x21c)]);}else{if(_0x230e37['group']){if(_0x230e37[_0x230201(0x58c)]['default']===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x230e37[_0x230201(0x58c)][_0x230201(0x21c)]){let _0x2bd0f0=_0x3cd6b4[_0x230201(0x20d)][_0x230201(0x5ae)](_0x58b129=>_0x58b129[_0x230201(0x21c)][_0x230201(0x50d)]()===_0x230e37['group'][_0x230201(0x21c)]);_0x2bd0f0&&(_0x230e37[_0x230201(0x58c)]['x']<0x0&&(_0x230e37['group']['x']=0x0),_0x230e37[_0x230201(0x58c)]['y']<0x0&&(_0x230e37[_0x230201(0x58c)]['y']=0x0),Object['assign'](_0x2bd0f0,_0x230e37[_0x230201(0x58c)]));}else _0x3cd6b4[_0x230201(0x20d)]['push'](_0x230e37[_0x230201(0x58c)]);}}let _0x2d1651=await this[_0x230201(0x2c2)][_0x230201(0x321)][_0x230201(0x2e5)](_0x3cd6b4['_id'],_0x3cd6b4,_0x477220);if(_0x2d1651&&_0x2d1651[_0x230201(0x239)]&&_0x2d1651[_0x230201(0x239)]['length']>0x1&&_0x2d1651[_0x230201(0x598)]!==_0x230201(0x43c)&&this[_0x230201(0x236)](_0x2d1651['_id'],_0x477220),!_0x2d1651)throw new Error(_0x230201(0x1bd));return _0x2d1651;}catch(_0x27d9e2){let _0x987daa=_0x230201(0x28d),_0x98a9e=_0x27d9e2 instanceof Error?_0x27d9e2['message']:typeof _0x27d9e2==_0x230201(0x666)?JSON['stringify'](_0x27d9e2):_0x27d9e2,_0x460775=_0x987daa+':\x20'+_0x98a9e;throw this['logger'][_0x230201(0x363)](this['instanceName']+'\x20('+this[_0x230201(0x6e9)]['wuid']+_0x230201(0x5a6)+_0x460775),new m(_0x460775);}}async[a0_0x156424(0x32a)](_0x282133,_0x4b2fc4){const _0x4095bb=a0_0x156424;try{this[_0x4095bb(0x48b)]['verbose'](this[_0x4095bb(0x194)]+'\x20('+this[_0x4095bb(0x6e9)][_0x4095bb(0x4f9)]+'):\x20Editando\x20condição\x20do\x20fluxo...');let _0x369270=_0x282133?.[_0x4095bb(0x598)][_0x4095bb(0x652)]()==='true'?'global':this['instance']['wuid'],_0x1a45e8=await this['repository'][_0x4095bb(0x321)]['findOne']({'where':{'name':_0x282133['name']}},_0x369270);if(!_0x1a45e8)throw new Error('Flow\x20não\x20encontrado');if(_0x1a45e8?.[_0x4095bb(0x598)]===_0x4095bb(0x43c))throw new m('A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.');if(_0x4b2fc4!==ee&&_0x1a45e8?.[_0x4095bb(0x598)]==='true'&&_0x1a45e8?.['owner']!==this[_0x4095bb(0x6e9)][_0x4095bb(0x4f9)])throw new m(_0x4095bb(0x4ef));let _0x4130fd=!0x1;if(_0x282133[_0x4095bb(0x562)]?.[_0x4095bb(0x4f4)]===!0x0)_0x1a45e8[_0x4095bb(0x25c)]=_0x1a45e8[_0x4095bb(0x25c)][_0x4095bb(0x3f2)](_0x38ef7c=>_0x38ef7c&&_0x282133[_0x4095bb(0x562)]&&_0x38ef7c[_0x4095bb(0x21c)]&&_0x282133[_0x4095bb(0x562)][_0x4095bb(0x21c)]&&_0x38ef7c[_0x4095bb(0x21c)][_0x4095bb(0x50d)]()!==_0x282133['condition']['_id']['toString']()),_0x4130fd=!0x0;else{let _0x351c32=_0x1a45e8[_0x4095bb(0x25c)][_0x4095bb(0x5ae)](_0x8e779e=>_0x8e779e&&_0x282133['condition']&&_0x8e779e[_0x4095bb(0x21c)]&&_0x282133[_0x4095bb(0x562)][_0x4095bb(0x21c)]&&_0x8e779e[_0x4095bb(0x21c)][_0x4095bb(0x50d)]()===_0x282133['condition'][_0x4095bb(0x21c)][_0x4095bb(0x50d)]());_0x351c32?(_0x4130fd=_0x351c32[_0x4095bb(0x4e6)]!==_0x282133['condition'][_0x4095bb(0x4e6)],Object[_0x4095bb(0x263)](_0x351c32,_0x282133[_0x4095bb(0x562)])):(_0x1a45e8[_0x4095bb(0x25c)][_0x4095bb(0x211)](_0x282133['condition']),_0x4130fd=!0x0);}if(_0x4130fd){_0x1a45e8[_0x4095bb(0x25c)][_0x4095bb(0x660)]((_0x52a13c,_0x519f00)=>_0x52a13c[_0x4095bb(0x4e6)]>_0x519f00[_0x4095bb(0x4e6)]?0x1:_0x519f00[_0x4095bb(0x4e6)]>_0x52a13c['order']?-0x1:0x0);for(let _0x1407cd=0x0;_0x1407cd<_0x1a45e8[_0x4095bb(0x25c)][_0x4095bb(0x476)];_0x1407cd++)_0x1a45e8[_0x4095bb(0x25c)][_0x1407cd][_0x4095bb(0x4e6)]=_0x1407cd+0x1;_0x1a45e8['conditions']['length']>0x0&&(_0x1a45e8[_0x4095bb(0x25c)][0x0][_0x4095bb(0x5b9)]='and');}let _0x3e3bf6=await this['repository'][_0x4095bb(0x321)][_0x4095bb(0x2e5)](_0x1a45e8[_0x4095bb(0x21c)],_0x1a45e8,_0x369270);if(_0x3e3bf6&&_0x3e3bf6['shareOwners']&&_0x3e3bf6[_0x4095bb(0x239)][_0x4095bb(0x476)]>0x1&&_0x3e3bf6[_0x4095bb(0x598)]!==_0x4095bb(0x43c)&&this[_0x4095bb(0x236)](_0x3e3bf6[_0x4095bb(0x21c)],_0x369270),!_0x3e3bf6)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x3e3bf6;}catch(_0x29453a){let _0xef798='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0xc1d3c6=_0x29453a instanceof Error?_0x29453a[_0x4095bb(0x6b3)]:typeof _0x29453a=='object'?JSON['stringify'](_0x29453a):_0x29453a,_0x46c2c9=_0xef798+':\x20'+_0xc1d3c6;throw this[_0x4095bb(0x48b)][_0x4095bb(0x363)](this[_0x4095bb(0x194)]+'\x20('+this[_0x4095bb(0x6e9)]['wuid']+_0x4095bb(0x5a6)+_0x46c2c9),new m(_0x46c2c9);}}async[a0_0x156424(0x434)](_0x34c55c,_0x7956e7){const _0x505ce2=a0_0x156424;try{this['logger'][_0x505ce2(0x361)](this[_0x505ce2(0x194)]+'\x20('+this[_0x505ce2(0x6e9)][_0x505ce2(0x4f9)]+_0x505ce2(0x31c));let _0x5bb47d=_0x34c55c?.['global'][_0x505ce2(0x652)]()===_0x505ce2(0x6cc)?_0x505ce2(0x598):this[_0x505ce2(0x6e9)][_0x505ce2(0x4f9)],_0x2a1050=await this['repository']['flow'][_0x505ce2(0x6d5)]({'where':{'name':_0x34c55c[_0x505ce2(0x350)]}},_0x5bb47d);if(!_0x2a1050)throw new Error(_0x505ce2(0x5f0));if(_0x2a1050?.[_0x505ce2(0x598)]===_0x505ce2(0x43c))throw new m(_0x505ce2(0x5b3));if(_0x7956e7!==ee&&_0x2a1050?.[_0x505ce2(0x598)]===_0x505ce2(0x6cc)&&_0x2a1050?.[_0x505ce2(0x585)]!==this[_0x505ce2(0x6e9)][_0x505ce2(0x4f9)])throw new m(_0x505ce2(0x4ef));let _0x2941e9=!0x1;if(_0x34c55c[_0x505ce2(0x5b1)]?.[_0x505ce2(0x4f4)]===!0x0)_0x2a1050[_0x505ce2(0x718)]=_0x2a1050[_0x505ce2(0x718)][_0x505ce2(0x3f2)](_0x596802=>_0x596802&&_0x34c55c[_0x505ce2(0x5b1)]&&_0x596802[_0x505ce2(0x21c)]&&_0x34c55c['varedit']['_id']&&_0x596802['_id'][_0x505ce2(0x50d)]()!==_0x34c55c[_0x505ce2(0x5b1)][_0x505ce2(0x21c)][_0x505ce2(0x50d)]()),_0x2941e9=!0x0;else{let _0x435f5f=_0x2a1050[_0x505ce2(0x718)][_0x505ce2(0x5ae)](_0x21ccf8=>_0x21ccf8&&_0x34c55c[_0x505ce2(0x5b1)]&&_0x21ccf8['_id']&&_0x34c55c['varedit'][_0x505ce2(0x21c)]&&_0x21ccf8[_0x505ce2(0x21c)][_0x505ce2(0x50d)]()===_0x34c55c[_0x505ce2(0x5b1)]['_id'][_0x505ce2(0x50d)]());_0x435f5f?(_0x2941e9=_0x435f5f[_0x505ce2(0x4e6)]!==_0x34c55c['varedit'][_0x505ce2(0x4e6)],Object[_0x505ce2(0x263)](_0x435f5f,_0x34c55c[_0x505ce2(0x5b1)])):(_0x2a1050[_0x505ce2(0x718)][_0x505ce2(0x211)](_0x34c55c[_0x505ce2(0x5b1)]),_0x2941e9=!0x0);}if(_0x2941e9){_0x2a1050[_0x505ce2(0x718)][_0x505ce2(0x660)]((_0x59e99a,_0x2efb57)=>_0x59e99a[_0x505ce2(0x4e6)]>_0x2efb57[_0x505ce2(0x4e6)]?0x1:_0x2efb57['order']>_0x59e99a[_0x505ce2(0x4e6)]?-0x1:0x0);for(let _0x5080f8=0x0;_0x5080f8<_0x2a1050['varedits'][_0x505ce2(0x476)];_0x5080f8++)_0x2a1050['varedits'][_0x5080f8][_0x505ce2(0x4e6)]=_0x5080f8+0x1;}let _0x324f4a=await this[_0x505ce2(0x2c2)][_0x505ce2(0x321)][_0x505ce2(0x2e5)](_0x2a1050[_0x505ce2(0x21c)],_0x2a1050,_0x5bb47d);if(_0x324f4a&&_0x324f4a[_0x505ce2(0x239)]&&_0x324f4a[_0x505ce2(0x239)][_0x505ce2(0x476)]>0x1&&_0x324f4a['global']!==_0x505ce2(0x43c)&&this[_0x505ce2(0x236)](_0x324f4a[_0x505ce2(0x21c)],_0x5bb47d),!_0x324f4a)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x324f4a;}catch(_0x1264c1){let _0x17fa9d=_0x505ce2(0x39c),_0x4a5ef6=_0x1264c1 instanceof Error?_0x1264c1['message']:typeof _0x1264c1=='object'?JSON['stringify'](_0x1264c1):_0x1264c1,_0x19c1eb=_0x17fa9d+':\x20'+_0x4a5ef6;throw this[_0x505ce2(0x48b)][_0x505ce2(0x363)](this[_0x505ce2(0x194)]+'\x20('+this[_0x505ce2(0x6e9)][_0x505ce2(0x4f9)]+_0x505ce2(0x5a6)+_0x19c1eb),new m(_0x19c1eb);}}async[a0_0x156424(0x63d)](_0x3082db,_0x3e089c){const _0x10e55b=a0_0x156424;try{this['logger'][_0x10e55b(0x361)](this[_0x10e55b(0x194)]+'\x20('+this[_0x10e55b(0x6e9)]['wuid']+_0x10e55b(0x78e));let _0x55200c=_0x3082db?.[_0x10e55b(0x598)][_0x10e55b(0x652)]()==='true'?_0x10e55b(0x598):this[_0x10e55b(0x6e9)][_0x10e55b(0x4f9)],_0x3b4234=await this[_0x10e55b(0x2c2)]['flow']['findOne']({'where':{'name':_0x3082db[_0x10e55b(0x350)]}},_0x55200c);if(!_0x3b4234)throw new Error('Flow\x20não\x20encontrado');if(_0x3b4234?.[_0x10e55b(0x598)]===_0x10e55b(0x43c))throw new m(_0x10e55b(0x5b3));if(_0x3e089c!==ee&&_0x3b4234?.[_0x10e55b(0x598)]===_0x10e55b(0x6cc)&&_0x3b4234?.[_0x10e55b(0x585)]!==this['instance'][_0x10e55b(0x4f9)])throw new m(_0x10e55b(0x4ef));if(_0x3e089c!==ee&&_0x3b4234?.[_0x10e55b(0x598)]===_0x10e55b(0x6cc)&&_0x3b4234?.['owner']!==this['instance'][_0x10e55b(0x4f9)])throw new m(_0x10e55b(0x4ef));_0x3082db[_0x10e55b(0x569)][_0x10e55b(0x350)]=_0x3082db['variable'][_0x10e55b(0x350)][_0x10e55b(0x652)](),_0x3082db[_0x10e55b(0x569)][_0x10e55b(0x350)][_0x10e55b(0x278)]('_')&&(_0x3082db['variable'][_0x10e55b(0x350)]=_0x3082db[_0x10e55b(0x569)][_0x10e55b(0x350)][_0x10e55b(0x174)](0x1)),_0x3082db[_0x10e55b(0x569)][_0x10e55b(0x350)]=_0x3082db[_0x10e55b(0x569)]['name']['trim']();let _0x37c64c=_0x3b4234['variables'][_0x10e55b(0x5ae)](_0x57f1be=>_0x57f1be['name']===_0x3082db[_0x10e55b(0x569)][_0x10e55b(0x350)]);if(_0x37c64c?.[_0x10e55b(0x753)]===!0x0)throw new Error(_0x10e55b(0x750));if(_0x3082db[_0x10e55b(0x569)]?.[_0x10e55b(0x4f4)]===!0x0){if(!_0x37c64c)return{'message':_0x10e55b(0x584)};_0x3b4234[_0x10e55b(0x43a)]=_0x3b4234[_0x10e55b(0x43a)]['filter'](_0x359d6b=>_0x359d6b[_0x10e55b(0x350)]!==_0x3082db[_0x10e55b(0x569)]['name']);}else _0x37c64c?Object[_0x10e55b(0x263)](_0x37c64c,_0x3082db[_0x10e55b(0x569)]):_0x3b4234[_0x10e55b(0x43a)][_0x10e55b(0x211)](_0x3082db[_0x10e55b(0x569)]);let _0x53e538=await this[_0x10e55b(0x2c2)][_0x10e55b(0x321)][_0x10e55b(0x2e5)](_0x3b4234['_id'],_0x3b4234,_0x55200c);if(_0x53e538&&_0x53e538['shareOwners']&&_0x53e538[_0x10e55b(0x239)][_0x10e55b(0x476)]>0x1&&_0x53e538[_0x10e55b(0x598)]!=='sync'&&this[_0x10e55b(0x236)](_0x53e538[_0x10e55b(0x21c)],_0x55200c),!_0x53e538)throw new Error(_0x10e55b(0x1bd));return _0x53e538;}catch(_0x38d429){let _0x333adb=_0x10e55b(0x3b4),_0x41dc49=_0x38d429 instanceof Error?_0x38d429[_0x10e55b(0x6b3)]:typeof _0x38d429==_0x10e55b(0x666)?JSON[_0x10e55b(0x389)](_0x38d429):_0x38d429,_0x17687d=_0x333adb+':\x20'+_0x41dc49;throw this['logger'][_0x10e55b(0x363)](this[_0x10e55b(0x194)]+'\x20('+this['instance'][_0x10e55b(0x4f9)]+_0x10e55b(0x5a6)+_0x17687d),new m(_0x17687d);}}async[a0_0x156424(0x73f)](_0x4f8a68){const _0x26e59f=a0_0x156424;let _0x51613f=null;try{if(!this[_0x26e59f(0x105)]?.['flowConfig'][_0x26e59f(0x494)])throw new m(_0x26e59f(0x564));this[_0x26e59f(0x48b)][_0x26e59f(0x361)](this[_0x26e59f(0x194)]+'\x20('+this[_0x26e59f(0x6e9)][_0x26e59f(0x4f9)]+'):\x20Iniciando\x20bot...');let _0x44aaba=(await this['whatsappNumber']({'numbers':[_0x4f8a68['remoteJid']]}))[0x0];if(!_0x44aaba[_0x26e59f(0x710)]&&!(0x0,w['isJidGroup'])(_0x44aaba[_0x26e59f(0x2f4)])&&!_0x44aaba[_0x26e59f(0x2f4)]['includes'](_0x26e59f(0x530)))throw _0x51613f=JSON[_0x26e59f(0x389)](_0x44aaba,null,0x2),new m(_0x44aaba);let _0x553b10=await this['repository'][_0x26e59f(0x321)][_0x26e59f(0x6d5)]({'where':{'name':_0x4f8a68['name']}},this[_0x26e59f(0x6e9)][_0x26e59f(0x4f9)]);if(!_0x553b10)return this['logger']['error'](this[_0x26e59f(0x194)]+'\x20('+this[_0x26e59f(0x6e9)][_0x26e59f(0x4f9)]+_0x26e59f(0x19f)),{'message':_0x26e59f(0x5f0)};let _0x5151db=await this[_0x26e59f(0x319)](_0x553b10,_0x44aaba[_0x26e59f(0x2f4)],_0x4f8a68[_0x26e59f(0x38d)]);if(_0x5151db){this[_0x26e59f(0x48b)][_0x26e59f(0x361)](this[_0x26e59f(0x194)]+'\x20('+this[_0x26e59f(0x6e9)][_0x26e59f(0x4f9)]+'):\x20Criou\x20conversa\x20no\x20startFlow');let _0x114191=await this[_0x26e59f(0x132)](_0x5151db);return _0x114191&&await this['processblock'](_0x5151db,_0x114191),{'message':_0x26e59f(0x333)+_0x4f8a68['remoteJid']};}}catch(_0x1436d0){if(this[_0x26e59f(0x48b)][_0x26e59f(0x363)](this['instanceName']+'\x20('+this[_0x26e59f(0x6e9)]['wuid']+_0x26e59f(0x357)+(_0x1436d0 instanceof Error?_0x1436d0['message']:JSON[_0x26e59f(0x389)](_0x1436d0,null,0x2))),_0x51613f=_0x1436d0 instanceof Error?_0x1436d0[_0x26e59f(0x6b3)]:JSON[_0x26e59f(0x389)](_0x1436d0,null,0x2),_0x51613f)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x51613f);}}async[a0_0x156424(0x673)](_0x1f5035,_0x582728,_0x4bd1f1){const _0x304781=a0_0x156424;let _0xc2cf4a=null;try{if(!this[_0x304781(0x105)]?.[_0x304781(0x745)]['enabled'])throw new m('Fluxos\x20não\x20estão\x20ativados');if(this['logger']['verbose'](this[_0x304781(0x194)]+'\x20('+this[_0x304781(0x6e9)][_0x304781(0x4f9)]+'):\x20Iniciando\x20bot...'),_0x582728){let _0x3c9653=(await this['whatsappNumber']({'numbers':[_0x582728]}))[0x0];if(!_0x3c9653[_0x304781(0x710)]&&!(0x0,w[_0x304781(0x28c)])(_0x3c9653[_0x304781(0x2f4)])&&!_0x3c9653['jid'][_0x304781(0x341)](_0x304781(0x530)))throw _0xc2cf4a=JSON[_0x304781(0x389)](_0x3c9653,null,0x2),new m(_0x3c9653);_0x582728=_0x3c9653[_0x304781(0x2f4)];}else _0x582728||(_0x582728=(0x0,Me['v4'])());let _0x59b60e=await this[_0x304781(0x2c2)][_0x304781(0x321)][_0x304781(0x6d5)]({'where':{'startID':_0x1f5035}},this[_0x304781(0x6e9)][_0x304781(0x4f9)]);if(!_0x59b60e)throw this['logger'][_0x304781(0x363)](this['instanceName']+'\x20('+this[_0x304781(0x6e9)][_0x304781(0x4f9)]+'):\x20Flow\x20não\x20encontrado'),new m(_0x304781(0x5f0));let _0x5307b5=await this[_0x304781(0x319)](_0x59b60e,_0x582728,null);if(_0x5307b5){this[_0x304781(0x48b)]['verbose'](this[_0x304781(0x194)]+'\x20('+this['instance'][_0x304781(0x4f9)]+_0x304781(0x72e));let _0x52a00a;if(_0x4bd1f1){let _0x28a233=_0x5307b5['chatLog'][_0x304781(0x474)],_0x3b0a78=this[_0x304781(0x578)](_0x4bd1f1);Object[_0x304781(0x263)](_0x28a233,_0x3b0a78),_0x5307b5[_0x304781(0x6c5)]['realVariables']=_0x28a233,_0x52a00a={'error':!0x1,'apiResponse':_0x4bd1f1};}let _0x219bad=await this['NextBlock'](_0x5307b5);return _0x219bad&&await this[_0x304781(0x696)](_0x5307b5,_0x219bad),{'message':'Flow\x20iniciado'};}}catch(_0x1c33aa){if(this[_0x304781(0x48b)][_0x304781(0x363)](this[_0x304781(0x194)]+'\x20('+this[_0x304781(0x6e9)][_0x304781(0x4f9)]+_0x304781(0x357)+(_0x1c33aa instanceof Error?_0x1c33aa['message']:JSON[_0x304781(0x389)](_0x1c33aa,null,0x2))),_0xc2cf4a=_0x1c33aa instanceof Error?_0x1c33aa[_0x304781(0x6b3)]:JSON[_0x304781(0x389)](_0x1c33aa,null,0x2),_0xc2cf4a)throw new m(_0x304781(0x790)+_0xc2cf4a);}}async[a0_0x156424(0xaa)](_0x2d9df0){const _0x82747f=a0_0x156424;try{let _0x259e3a={'remoteJid':_0x2d9df0,'status':_0x82747f(0x3a9)},_0x58ea7f={'status':_0x82747f(0x242)},_0x5d35f2=await this[_0x82747f(0x2c2)][_0x82747f(0x628)][_0x82747f(0x2dc)](_0x259e3a,_0x58ea7f,this['instance'][_0x82747f(0x4f9)]);return this[_0x82747f(0x48b)][_0x82747f(0x361)](this[_0x82747f(0x194)]+'\x20('+this[_0x82747f(0x6e9)][_0x82747f(0x4f9)]+_0x82747f(0x32c)),_0x5d35f2;}catch(_0x2bd762){throw this['logger'][_0x82747f(0x363)](this[_0x82747f(0x194)]+'\x20('+this['instance'][_0x82747f(0x4f9)]+_0x82747f(0x27b)+_0x2bd762[_0x82747f(0x6b3)]),_0x2bd762;}}async['createConversationforStartFlow'](_0x382717,_0x723435,_0x225afe){const _0x274248=a0_0x156424;this[_0x274248(0x48b)]['verbose'](this[_0x274248(0x194)]+'\x20('+this[_0x274248(0x6e9)][_0x274248(0x4f9)]+_0x274248(0x74b)),await this[_0x274248(0xaa)](_0x723435);try{let _0x4c47a2=require(_0x274248(0xe2))[_0x274248(0x6e3)],_0x2506eb=Date[_0x274248(0x605)](),_0x3c2e23='start',_0x54e3d1={},_0x1e7b17={},_0x27bb19={..._0x382717,'chatLog':null},_0x23ef52=await this[_0x274248(0xe4)](_0x27bb19[_0x274248(0x43a)]),_0x3a407b=await this[_0x274248(0x627)](_0x723435),_0x30c252={..._0x23ef52,..._0x3a407b,'_remoteJid':_0x723435},_0x503042={'lastReceivedMessage':_0x54e3d1,'lastSendMessage':_0x1e7b17,'lastBlockId':_0x3c2e23,'lastCondition':!0x0,'realVariables':_0x30c252};_0x27bb19[_0x274248(0x6c5)]=_0x503042,_0x27bb19[_0x274248(0x6c5)][_0x274248(0x474)]={..._0x30c252,..._0x225afe},delete _0x27bb19[_0x274248(0x21c)],_0x27bb19['_id']=new _0x4c47a2(),_0x27bb19['lastInteraction']=_0x2506eb,_0x27bb19[_0x274248(0x2f7)]=_0x274248(0x3a9),_0x27bb19['remoteJid']=_0x723435;let _0x129e84=await this[_0x274248(0x2c2)]['flowConversation'][_0x274248(0x2e5)](_0x27bb19[_0x274248(0x21c)],_0x27bb19,this[_0x274248(0x6e9)][_0x274248(0x4f9)]);return this['logger'][_0x274248(0x361)](this['instanceName']+'\x20('+this[_0x274248(0x6e9)][_0x274248(0x4f9)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x129e84?_0x27bb19:null;}catch(_0xfdeced){let _0x15535b=_0x274248(0x44e),_0x4b1911=_0xfdeced instanceof Error?_0xfdeced[_0x274248(0x6b3)]:typeof _0xfdeced==_0x274248(0x666)?JSON[_0x274248(0x389)](_0xfdeced):_0xfdeced,_0x3839d7=_0x15535b+':\x20'+_0x4b1911;throw this[_0x274248(0x48b)][_0x274248(0x363)](this['instanceName']+'\x20('+this[_0x274248(0x6e9)][_0x274248(0x4f9)]+_0x274248(0x5a6)+_0x3839d7),new m(_0x3839d7);}}async[a0_0x156424(0xb0)](_0x437bbe){const _0x50e37c=a0_0x156424;try{this['logger']['verbose'](this[_0x50e37c(0x194)]+'\x20('+this[_0x50e37c(0x6e9)][_0x50e37c(0x4f9)]+_0x50e37c(0x2c7)),this[_0x50e37c(0x48b)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x50e37c(0x656)+_0x437bbe);let _0x3a2140={'where':{'_id':_0x437bbe}};return await this[_0x50e37c(0x2c2)][_0x50e37c(0x628)][_0x50e37c(0x6d5)](_0x3a2140,this[_0x50e37c(0x6e9)][_0x50e37c(0x4f9)]);}catch(_0x514769){let _0x24b245=_0x50e37c(0x46d),_0x59abdb=_0x514769 instanceof Error?_0x514769['message']:typeof _0x514769==_0x50e37c(0x666)?JSON[_0x50e37c(0x389)](_0x514769):_0x514769,_0x338d31=_0x24b245+':\x20'+_0x59abdb;throw this[_0x50e37c(0x48b)][_0x50e37c(0x363)](this[_0x50e37c(0x194)]+'\x20('+this[_0x50e37c(0x6e9)][_0x50e37c(0x4f9)]+_0x50e37c(0x5a6)+_0x338d31),new m(_0x338d31);}}async[a0_0x156424(0x527)](_0x5d667a){const _0x162c60=a0_0x156424;try{return this['logger'][_0x162c60(0x361)](this[_0x162c60(0x194)]+'\x20('+this['instance'][_0x162c60(0x4f9)]+_0x162c60(0x65d)),await this['repository'][_0x162c60(0x628)][_0x162c60(0x5ae)](_0x5d667a,this[_0x162c60(0x6e9)]['wuid']);}catch(_0x7c8046){let _0x45310f=_0x162c60(0x61f),_0x55f080=_0x7c8046 instanceof Error?_0x7c8046[_0x162c60(0x6b3)]:typeof _0x7c8046=='object'?JSON['stringify'](_0x7c8046):_0x7c8046,_0x4383c3=_0x45310f+':\x20'+_0x55f080;throw this['logger']['error'](this[_0x162c60(0x194)]+'\x20('+this['instance'][_0x162c60(0x4f9)]+_0x162c60(0x5a6)+_0x4383c3),new m(_0x4383c3);}}async[a0_0x156424(0x2ac)](_0x4b8c11){const _0x2ebe02=a0_0x156424;try{return this[_0x2ebe02(0x48b)]['verbose'](this[_0x2ebe02(0x194)]+'\x20('+this[_0x2ebe02(0x6e9)][_0x2ebe02(0x4f9)]+_0x2ebe02(0x26c)),this['logger'][_0x2ebe02(0x361)](this['instanceName']+'\x20('+this[_0x2ebe02(0x6e9)]['wuid']+_0x2ebe02(0x6a9)+_0x4b8c11),(await this[_0x2ebe02(0x2c2)][_0x2ebe02(0x628)]['deleteOne']({'where':{'_id':_0x4b8c11[_0x2ebe02(0x21c)]}},this[_0x2ebe02(0x6e9)][_0x2ebe02(0x4f9)]))[_0x2ebe02(0x715)]===0x0?{'message':_0x2ebe02(0x418)}:{'message':_0x2ebe02(0x71b)};}catch(_0x4b9d2b){let _0x39be04=_0x2ebe02(0x2ce),_0x34c9ef=_0x4b9d2b instanceof Error?_0x4b9d2b[_0x2ebe02(0x6b3)]:typeof _0x4b9d2b==_0x2ebe02(0x666)?JSON[_0x2ebe02(0x389)](_0x4b9d2b):_0x4b9d2b,_0x50b0c8=_0x39be04+':\x20'+_0x34c9ef;throw this[_0x2ebe02(0x48b)]['error'](this[_0x2ebe02(0x194)]+'\x20('+this[_0x2ebe02(0x6e9)][_0x2ebe02(0x4f9)]+_0x2ebe02(0x5a6)+_0x50b0c8),new m(_0x50b0c8);}}async[a0_0x156424(0x1b4)](_0x13ce91){const _0x26b349=a0_0x156424;try{let {_id:_0x47e449,chatLog:_0xe7574a,status:_0x340a3e}=_0x13ce91;if(!_0x47e449)return{'message':_0x26b349(0x2bb)};let _0x3b7c41={};if(_0x340a3e!==void 0x0&&(_0x3b7c41[_0x26b349(0x2f7)]=_0x340a3e),Object[_0x26b349(0x153)](_0x3b7c41)['length']===0x0)return{'message':_0x26b349(0x742)};let _0x30ce3d=await this[_0x26b349(0x2c2)][_0x26b349(0x628)][_0x26b349(0x2e5)](_0x47e449,_0x3b7c41,this[_0x26b349(0x6e9)][_0x26b349(0x4f9)]);return _0x30ce3d||{'message':_0x26b349(0x59b)};}catch(_0x46533d){let _0x4a2db8=_0x26b349(0x669),_0x3ed75b=_0x46533d instanceof Error?_0x46533d[_0x26b349(0x6b3)]:typeof _0x46533d==_0x26b349(0x666)?JSON[_0x26b349(0x389)](_0x46533d):_0x46533d,_0x11b971=_0x4a2db8+':\x20'+_0x3ed75b;throw this[_0x26b349(0x48b)][_0x26b349(0x363)](this[_0x26b349(0x194)]+'\x20('+this[_0x26b349(0x6e9)][_0x26b349(0x4f9)]+'):\x20'+_0x11b971),new m(_0x11b971);}}async[a0_0x156424(0x13e)](_0x55a4f4){const _0x46e190=a0_0x156424;try{_0x55a4f4[_0x46e190(0x21c)]=this[_0x46e190(0x18e)](_0x55a4f4[_0x46e190(0x21c)]);let _0xbc55aa=await this[_0x46e190(0x2c2)][_0x46e190(0x2ea)][_0x46e190(0x6d5)]({'where':{'_id':_0x55a4f4['_id']}},this[_0x46e190(0x6e9)][_0x46e190(0x4f9)]);if(!_0xbc55aa)throw new m('Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo');let {_id:_0x2186e1,leadInfo:_0x179709}=_0x55a4f4;if(!_0x2186e1)throw new Error('O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.');if(_0x55a4f4[_0x46e190(0x4f4)]===_0x46e190(0x2b9))return await this[_0x46e190(0x62d)](_0x55a4f4[_0x46e190(0x21c)]),await this[_0x46e190(0x2c2)][_0x46e190(0x2ea)]['delete']({'where':{'_id':_0x55a4f4[_0x46e190(0x21c)]}},this['instance'][_0x46e190(0x4f9)]),await this[_0x46e190(0x2c2)][_0x46e190(0x6b3)]['delete']({'where':{'key':{'remoteJid':_0x55a4f4[_0x46e190(0x21c)]}}},this['instance']['wuid']),_0x55a4f4=await this[_0x46e190(0x2c2)][_0x46e190(0x2ea)]['updateOne']({'where':{'_id':_0x55a4f4[_0x46e190(0x21c)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x46e190(0x4f9)]),J(this[_0x46e190(0x194)],'chats',{'chat':_0x55a4f4}),{'message':_0x46e190(0x706)};if(_0x55a4f4[_0x46e190(0x4f4)]===_0x46e190(0x1c8))return await this['repository']['message'][_0x46e190(0x4f4)]({'where':{'key':{'remoteJid':_0x55a4f4[_0x46e190(0x21c)]}}},this[_0x46e190(0x6e9)][_0x46e190(0x4f9)]),_0x55a4f4=await this[_0x46e190(0x2c2)]['chat'][_0x46e190(0x2e5)]({'where':{'_id':_0x55a4f4[_0x46e190(0x21c)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x46e190(0x6e9)][_0x46e190(0x4f9)]),J(this[_0x46e190(0x194)],_0x46e190(0x348),{'chat':_0x55a4f4}),{'message':_0x46e190(0x651)};let _0x25cd26=(_0x2c1c4d,_0x5c249f,_0x5a8475)=>{const _0x7378fe=_0x46e190;_0x2c1c4d&&_0x5a8475[_0x7378fe(0x6cb)](_0x277b4b=>{_0x2c1c4d[_0x277b4b]!==void 0x0&&(_0x5c249f['leadInfo.'+_0x277b4b]=_0x2c1c4d[_0x277b4b]);});},_0x26e4f0={};if(_0x46e190(0x6be)in _0x55a4f4&&(this['logger'][_0x46e190(0x361)](this[_0x46e190(0x194)]+'\x20('+this[_0x46e190(0x6e9)]['wuid']+_0x46e190(0x73a)+_0x55a4f4[_0x46e190(0x21c)]),_0x55a4f4[_0x46e190(0x6be)]=_0x55a4f4['muteEndTime']===0x0?null:-0x1,await this[_0x46e190(0x439)][_0x46e190(0x6c0)]({'mute':_0x55a4f4[_0x46e190(0x6be)]},_0x55a4f4['_id']),_0x26e4f0['muteEndTime']=Number(_0x55a4f4[_0x46e190(0x6be)])),_0x179709&&(_0x25cd26(_0x179709,_0x26e4f0,['nome','nomecompleto','email',_0x46e190(0x4d8),'status',_0x46e190(0x297),_0x46e190(0x140),_0x46e190(0x306),_0x46e190(0x3d5),_0x46e190(0xf0)]),Array[_0x46e190(0x2b8)](_0x179709[_0x46e190(0x2b1)])&&(_0x26e4f0[_0x46e190(0x3eb)]=_0x179709[_0x46e190(0x2b1)][_0x46e190(0x5ad)](_0x25b624=>({'_id':_0x25b624[_0x46e190(0x21c)],'value':_0x25b624[_0x46e190(0x16a)]}))),_0x55a4f4[_0x46e190(0x753)][_0x46e190(0xf0)]!==void 0x0)){let _0x493b2b=await this[_0x46e190(0x2c2)][_0x46e190(0x590)]['find']({'where':{}},this[_0x46e190(0x6e9)][_0x46e190(0x4f9)]),_0x2cbc1f=new Set(_0x55a4f4[_0x46e190(0x753)][_0x46e190(0xf0)]||[]),_0x2eae91=new Set(_0x55a4f4['leadInfo'][_0x46e190(0xf0)]),_0x54ba4b=new Set(_0x493b2b[_0x46e190(0x5ad)](_0x238391=>_0x238391[_0x46e190(0x21c)])),_0x145ccd=[..._0x2eae91][_0x46e190(0x3f2)](_0x46be34=>!_0x2cbc1f[_0x46e190(0x419)](_0x46be34)&&_0x54ba4b['has'](_0x46be34)),_0x20c10c=[..._0x2cbc1f]['filter'](_0x593a6c=>!_0x2eae91['has'](_0x593a6c));if(_0x26e4f0[_0x46e190(0xb6)]=[..._0x2cbc1f],_0xbc55aa&&!_0xbc55aa['imported']){for(let _0x58139a of _0x145ccd)await this[_0x46e190(0x458)](_0x58139a,_0x55a4f4['_id']),_0x2cbc1f[_0x46e190(0x364)](_0x58139a);for(let _0x1e8322 of _0x20c10c)await this[_0x46e190(0xb3)](_0x1e8322,_0x55a4f4[_0x46e190(0x21c)]),_0x2cbc1f[_0x46e190(0x4f4)](_0x1e8322);}}if(_0x55a4f4[_0x46e190(0x284)]!==void 0x0&&(_0x26e4f0[_0x46e190(0x284)]=Number(_0x55a4f4[_0x46e190(0x284)])),Object[_0x46e190(0x153)](_0x26e4f0)[_0x46e190(0x476)]===0x0)throw new Error(_0x46e190(0x742));let _0x1ef009=await this[_0x46e190(0x2c2)]['chat'][_0x46e190(0x2e5)]({'where':{'_id':_0x55a4f4[_0x46e190(0x21c)]}},_0x26e4f0,this[_0x46e190(0x6e9)][_0x46e190(0x4f9)]);return _0x1ef009&&J(this[_0x46e190(0x194)],_0x46e190(0x348),{'chat':_0x1ef009}),_0x1ef009?(this['logger'][_0x46e190(0x361)](this[_0x46e190(0x194)]+'\x20('+this['instance'][_0x46e190(0x4f9)]+_0x46e190(0x5a6)+JSON[_0x46e190(0x389)](_0x1ef009,null,0x2)),_0x1ef009):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0xc4b5e){let _0x533087=_0x46e190(0x47a),_0x4c0dc3=_0xc4b5e instanceof Error?_0xc4b5e[_0x46e190(0x6b3)]:typeof _0xc4b5e==_0x46e190(0x666)?JSON[_0x46e190(0x389)](_0xc4b5e):_0xc4b5e,_0x2d74e3=_0x533087+':\x20'+_0x4c0dc3;throw this['logger']['error'](this[_0x46e190(0x194)]+'\x20('+this[_0x46e190(0x6e9)][_0x46e190(0x4f9)]+'):\x20'+_0x2d74e3),new m(_0x2d74e3);}}async[a0_0x156424(0x458)](_0x4c57a5,_0x7e5d68){const _0x1a9ea2=a0_0x156424;try{await this[_0x1a9ea2(0x439)][_0x1a9ea2(0x252)](_0x7e5d68,_0x4c57a5),this[_0x1a9ea2(0x48b)]['info'](this[_0x1a9ea2(0x194)]+'\x20('+this[_0x1a9ea2(0x6e9)][_0x1a9ea2(0x4f9)]+_0x1a9ea2(0x186)+_0x4c57a5+_0x1a9ea2(0x6c4)+_0x7e5d68+_0x1a9ea2(0x411));}catch(_0x571395){console['error'](_0x1a9ea2(0x17d)+_0x4c57a5+_0x1a9ea2(0x6d6)+_0x7e5d68+':',_0x571395);}}async[a0_0x156424(0xb3)](_0x45160b,_0x499320){const _0x5515f7=a0_0x156424;try{await this['client'][_0x5515f7(0x600)](_0x499320,_0x45160b),this[_0x5515f7(0x48b)]['info'](this['instanceName']+'\x20('+this[_0x5515f7(0x6e9)][_0x5515f7(0x4f9)]+'):\x20Label\x20'+_0x45160b+_0x5515f7(0x3ca)+_0x499320+_0x5515f7(0x411));}catch(_0x46a0ea){console[_0x5515f7(0x363)](_0x5515f7(0x4be)+_0x45160b+_0x5515f7(0x2ba)+_0x499320+':',_0x46a0ea);}}async[a0_0x156424(0x3f4)](_0x9a8013){const _0x518fe2=a0_0x156424;try{let _0x5b6615=await this[_0x518fe2(0x2c2)]['automateSystem'][_0x518fe2(0x610)](this['instance'][_0x518fe2(0x4f9)]),_0x23fe51=_0x9a8013['_id']?_0x5b6615[_0x518fe2(0x374)][_0x518fe2(0x64f)](_0x4357df=>_0x4357df[_0x518fe2(0x21c)]===_0x9a8013[_0x518fe2(0x21c)]):-0x1;if(_0x9a8013[_0x518fe2(0x4f4)]&&_0x23fe51>-0x1)_0x5b6615[_0x518fe2(0x374)][_0x518fe2(0x4cc)](_0x23fe51,0x1);else{if(_0x23fe51>-0x1){let _0x49ffb7=_0x5b6615[_0x518fe2(0x374)][_0x23fe51];_0x9a8013['fone']&&(_0x49ffb7[_0x518fe2(0x12d)]=_0x9a8013['fone']),_0x9a8013[_0x518fe2(0x350)]&&(_0x49ffb7[_0x518fe2(0x350)]=_0x9a8013[_0x518fe2(0x350)]),_0x9a8013[_0x518fe2(0x343)]&&(_0x49ffb7[_0x518fe2(0x343)]=_0x9a8013[_0x518fe2(0x343)]),_0x9a8013[_0x518fe2(0x78a)]&&(_0x49ffb7['role']=_0x9a8013[_0x518fe2(0x78a)]);}else _0x5b6615[_0x518fe2(0x374)][_0x518fe2(0x211)]({'_id':_0x9a8013[_0x518fe2(0x21c)]||new oe[(_0x518fe2(0x72b))][(_0x518fe2(0x241))][(_0x518fe2(0x6e3))]()[_0x518fe2(0x50d)](),'fone':_0x9a8013[_0x518fe2(0x12d)],'name':_0x9a8013['name'],'email':_0x9a8013[_0x518fe2(0x343)],'role':_0x9a8013[_0x518fe2(0x78a)]});}let _0x429270={'agents':_0x5b6615[_0x518fe2(0x374)]},_0x5cd441=await this[_0x518fe2(0x2c2)][_0x518fe2(0x794)][_0x518fe2(0x2ab)](_0x429270,this[_0x518fe2(0x6e9)][_0x518fe2(0x4f9)]);return this[_0x518fe2(0x105)]=_0x5cd441,this['logger'][_0x518fe2(0x361)](this[_0x518fe2(0x194)]+'\x20('+this[_0x518fe2(0x6e9)][_0x518fe2(0x4f9)]+_0x518fe2(0x14c)),this[_0x518fe2(0x48b)][_0x518fe2(0x361)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x518fe2(0x5a6)+this['AutomateSystem']),_0x5cd441;}catch(_0x45ad17){let _0x1ad536=_0x518fe2(0x46e),_0x22bee2=_0x45ad17 instanceof Error?_0x45ad17[_0x518fe2(0x6b3)]:typeof _0x45ad17==_0x518fe2(0x666)?JSON[_0x518fe2(0x389)](_0x45ad17):_0x45ad17,_0x203405=_0x1ad536+':\x20'+_0x22bee2;throw this[_0x518fe2(0x48b)][_0x518fe2(0x363)](this[_0x518fe2(0x194)]+'\x20('+this['instance'][_0x518fe2(0x4f9)]+_0x518fe2(0x5a6)+_0x203405),new m(_0x203405);}}async[a0_0x156424(0x6ba)](_0x4f760c){const _0x563c88=a0_0x156424;try{let _0x421c18=await this['repository'][_0x563c88(0x794)]['findOrCreate'](this[_0x563c88(0x6e9)]['wuid']),_0xe6e783=_0x4f760c[_0x563c88(0x21c)]?_0x421c18[_0x563c88(0x2b1)][_0x563c88(0x64f)](_0x324f59=>_0x324f59[_0x563c88(0x21c)]===_0x4f760c['_id']):-0x1,_0x56fff8=!0x1,_0x4866aa=_0x421c18['customFields'][_0x563c88(0x2d6)](_0x31f9fc=>_0x31f9fc[_0x563c88(0x4e6)]===_0x4f760c[_0x563c88(0x4e6)]);if(_0x4f760c['delete']&&_0xe6e783>-0x1)_0x421c18['customFields']['splice'](_0xe6e783,0x1),_0x56fff8=!0x0;else{if(_0xe6e783>-0x1){if(_0x421c18['customFields'][_0x563c88(0x2d6)](_0x13918c=>_0x13918c[_0x563c88(0x350)]===_0x4f760c['name']&&_0x13918c[_0x563c88(0x21c)]!==_0x4f760c[_0x563c88(0x21c)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');let _0x51bb90=_0x421c18['customFields'][_0xe6e783];_0x4f760c[_0x563c88(0x4e6)]&&(_0x4866aa||!Number[_0x563c88(0x2d4)](_0x4f760c[_0x563c88(0x4e6)]))&&(_0x51bb90[_0x563c88(0x4e6)]=_0x4f760c[_0x563c88(0x4e6)],_0x56fff8=!0x0),_0x4f760c[_0x563c88(0x350)]&&(_0x51bb90[_0x563c88(0x350)]=_0x4f760c[_0x563c88(0x350)]);}else{if(_0x421c18[_0x563c88(0x2b1)][_0x563c88(0x2d6)](_0x425ef2=>_0x425ef2[_0x563c88(0x350)]===_0x4f760c[_0x563c88(0x350)]&&_0x425ef2[_0x563c88(0x21c)]!==_0x4f760c[_0x563c88(0x21c)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x421c18[_0x563c88(0x2b1)][_0x563c88(0x211)]({'_id':_0x4f760c[_0x563c88(0x21c)]||new oe[(_0x563c88(0x72b))][(_0x563c88(0x241))][(_0x563c88(0x6e3))]()[_0x563c88(0x50d)](),'order':_0x4f760c[_0x563c88(0x4e6)],'name':_0x4f760c[_0x563c88(0x350)]}),_0x56fff8=!0x0;}}if(_0x56fff8){_0x421c18[_0x563c88(0x2b1)][_0x563c88(0x660)]((_0x396ab1,_0x1f67e5)=>_0x396ab1[_0x563c88(0x4e6)]>_0x1f67e5[_0x563c88(0x4e6)]?0x1:_0x1f67e5['order']>_0x396ab1[_0x563c88(0x4e6)]?-0x1:0x0);for(let _0x28b8c6=0x0;_0x28b8c6<_0x421c18[_0x563c88(0x2b1)][_0x563c88(0x476)];_0x28b8c6++)_0x421c18['customFields'][_0x28b8c6][_0x563c88(0x4e6)]=_0x28b8c6+0x1;}let _0x155e1b=await this[_0x563c88(0x2c2)][_0x563c88(0x794)][_0x563c88(0x2ab)](_0x421c18,this[_0x563c88(0x6e9)][_0x563c88(0x4f9)]);return this[_0x563c88(0x105)]=_0x155e1b,this[_0x563c88(0x48b)][_0x563c88(0x361)](this[_0x563c88(0x194)]+'\x20('+this[_0x563c88(0x6e9)]['wuid']+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x563c88(0x48b)][_0x563c88(0x361)](this['instanceName']+'\x20('+this[_0x563c88(0x6e9)][_0x563c88(0x4f9)]+_0x563c88(0x5a6)+this[_0x563c88(0x105)]),_0x155e1b;}catch(_0x14aab3){let _0x3335e3=_0x563c88(0x2a6),_0x53fffe=_0x14aab3 instanceof Error?_0x14aab3[_0x563c88(0x6b3)]:typeof _0x14aab3==_0x563c88(0x666)?JSON[_0x563c88(0x389)](_0x14aab3):_0x14aab3,_0x26892f=_0x3335e3+':\x20'+_0x53fffe;throw this[_0x563c88(0x48b)][_0x563c88(0x363)](this[_0x563c88(0x194)]+'\x20('+this[_0x563c88(0x6e9)][_0x563c88(0x4f9)]+'):\x20'+_0x26892f),new m(_0x26892f);}}async['updateAutoCompleteMessages'](_0xade0f3){const _0x786071=a0_0x156424;try{let _0x49f90f=await this['repository'][_0x786071(0x794)]['findOrCreate'](this[_0x786071(0x6e9)][_0x786071(0x4f9)]),_0x5aba24=_0x49f90f?.[_0x786071(0x38c)]?.[_0x786071(0x64f)](_0x8c0161=>_0x8c0161[_0x786071(0x21c)]===_0xade0f3?.[_0x786071(0x21c)]);if(_0xade0f3?.[_0x786071(0x4f4)])_0x5aba24>-0x1&&_0x49f90f?.[_0x786071(0x38c)]?.[_0x786071(0x4cc)](_0x5aba24,0x1);else{if(_0x5aba24>-0x1){let _0x2fc9e5=_0x49f90f['autoCompleteMessages'][_0x5aba24];_0x2fc9e5[_0x786071(0x4e6)]=_0xade0f3?.[_0x786071(0x4e6)]||_0x2fc9e5[_0x786071(0x4e6)],_0x2fc9e5[_0x786071(0x3e5)]=_0xade0f3?.[_0x786071(0x3e5)]||_0x2fc9e5['command'],_0x2fc9e5[_0x786071(0x6b3)]=_0xade0f3?.['message']||_0x2fc9e5[_0x786071(0x6b3)];}else{let _0x353e47={'_id':_0xade0f3?.[_0x786071(0x21c)]||new oe[(_0x786071(0x72b))][(_0x786071(0x241))]['ObjectId']()[_0x786071(0x50d)](),'order':_0xade0f3?.[_0x786071(0x4e6)],'command':_0xade0f3?.[_0x786071(0x3e5)],'message':_0xade0f3?.[_0x786071(0x6b3)]};_0x49f90f?.['autoCompleteMessages']?.[_0x786071(0x211)](_0x353e47);}}_0x49f90f?.[_0x786071(0x38c)]?.[_0x786071(0x660)]((_0x384010,_0x11f02b)=>_0x384010[_0x786071(0x4e6)]-_0x11f02b[_0x786071(0x4e6)]);let _0x2807c7=await this[_0x786071(0x2c2)][_0x786071(0x794)][_0x786071(0x2ab)](_0x49f90f,this[_0x786071(0x6e9)][_0x786071(0x4f9)]);return this['AutomateSystem']=_0x2807c7,this[_0x786071(0x48b)][_0x786071(0x361)](this[_0x786071(0x194)]+'\x20('+this[_0x786071(0x6e9)][_0x786071(0x4f9)]+_0x786071(0x473)),_0x2807c7;}catch(_0x2b208c){let _0x55af80=_0x786071(0x2af),_0x110ecf=_0x2b208c instanceof Error?_0x2b208c[_0x786071(0x6b3)]:typeof _0x2b208c==_0x786071(0x666)?JSON[_0x786071(0x389)](_0x2b208c):_0x2b208c,_0x2aefb9=_0x55af80+':\x20'+_0x110ecf;throw this[_0x786071(0x48b)][_0x786071(0x363)](this[_0x786071(0x194)]+'\x20('+this[_0x786071(0x6e9)][_0x786071(0x4f9)]+_0x786071(0x5a6)+_0x2aefb9),new m(_0x2aefb9);}}async[a0_0x156424(0x1d2)](_0x4c6b3b){const _0x4aa400=a0_0x156424;try{let _0x51071a=await this[_0x4aa400(0x2c2)][_0x4aa400(0x794)][_0x4aa400(0x610)](this[_0x4aa400(0x6e9)][_0x4aa400(0x4f9)]);if(!_0x51071a)throw new Error(_0x4aa400(0x506));let _0x2d443b={'_id':_0x51071a[_0x4aa400(0x21c)],'flowConfig':{'enabled':_0x4c6b3b[_0x4aa400(0x494)]??_0x51071a[_0x4aa400(0x745)][_0x4aa400(0x494)],'ignoreGroups':_0x4c6b3b[_0x4aa400(0x1b0)]??_0x51071a[_0x4aa400(0x745)][_0x4aa400(0x1b0)],'prefixCommand':_0x4c6b3b['prefixCommand']??_0x51071a[_0x4aa400(0x745)]['prefixCommand'],'stopConversation':_0x4c6b3b[_0x4aa400(0x5db)]??_0x51071a[_0x4aa400(0x745)][_0x4aa400(0x5db)],'stopMinutes':_0x4c6b3b[_0x4aa400(0x701)]??_0x51071a[_0x4aa400(0x745)][_0x4aa400(0x701)],'stopWhenYouSendMsg':_0x4c6b3b['stopWhenYouSendMsg']??_0x51071a['flowConfig'][_0x4aa400(0x50c)]}},_0x2c828d=await this[_0x4aa400(0x2c2)][_0x4aa400(0x794)][_0x4aa400(0x2ab)](_0x2d443b,this[_0x4aa400(0x6e9)][_0x4aa400(0x4f9)]);return this['AutomateSystem']=_0x2c828d,this[_0x4aa400(0x48b)][_0x4aa400(0x361)](this['instanceName']+'\x20('+this[_0x4aa400(0x6e9)][_0x4aa400(0x4f9)]+_0x4aa400(0x14c)),this[_0x4aa400(0x48b)][_0x4aa400(0x361)](this['instanceName']+'\x20('+this[_0x4aa400(0x6e9)][_0x4aa400(0x4f9)]+_0x4aa400(0x5a6)+this[_0x4aa400(0x105)]),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x2c828d;}catch(_0x46592e){let _0x3f81f9=_0x4aa400(0x1eb),_0x3881e8=_0x46592e instanceof Error?_0x46592e['message']:typeof _0x46592e=='object'?JSON[_0x4aa400(0x389)](_0x46592e):_0x46592e,_0x3eb696=_0x3f81f9+':\x20'+_0x3881e8;throw this['logger']['error'](this[_0x4aa400(0x194)]+'\x20('+this[_0x4aa400(0x6e9)][_0x4aa400(0x4f9)]+'):\x20'+_0x3eb696),new m(_0x3eb696);}}async[a0_0x156424(0x220)](){const _0x3a1b2b=a0_0x156424;try{let _0x1bd0eb=await this[_0x3a1b2b(0x2c2)][_0x3a1b2b(0x794)][_0x3a1b2b(0x610)](this[_0x3a1b2b(0x6e9)][_0x3a1b2b(0x4f9)]);return this[_0x3a1b2b(0x105)]=_0x1bd0eb,this[_0x3a1b2b(0x48b)][_0x3a1b2b(0x361)](this[_0x3a1b2b(0x194)]+'\x20('+this[_0x3a1b2b(0x6e9)][_0x3a1b2b(0x4f9)]+_0x3a1b2b(0x3c8)),this[_0x3a1b2b(0x48b)]['verbose'](this[_0x3a1b2b(0x105)]),_0x1bd0eb;}catch(_0x30324a){let _0x21361a=_0x3a1b2b(0x75a),_0x63d6ec=_0x30324a instanceof Error?_0x30324a['message']:typeof _0x30324a==_0x3a1b2b(0x666)?JSON['stringify'](_0x30324a):_0x30324a,_0x29af95=_0x21361a+':\x20'+_0x63d6ec;throw this[_0x3a1b2b(0x48b)][_0x3a1b2b(0x363)](this[_0x3a1b2b(0x194)]+'\x20('+this['instance'][_0x3a1b2b(0x4f9)]+'):\x20'+_0x29af95),new m(_0x29af95);}}async[a0_0x156424(0x5e5)](){const _0x260c46=a0_0x156424;this[_0x260c46(0x6e9)][_0x260c46(0x5f6)]['timeout']&&clearTimeout(this[_0x260c46(0x6e9)][_0x260c46(0x5f6)][_0x260c46(0x41a)]),this[_0x260c46(0x6e9)][_0x260c46(0x5f6)][_0x260c46(0x41a)]=setTimeout(()=>{const _0x24c9bf=_0x260c46;this[_0x24c9bf(0x4e8)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x156424(0x4e8)](){const _0x1a807d=a0_0x156424;Date['now']()-this[_0x1a807d(0x6e9)][_0x1a807d(0x5f6)][_0x1a807d(0x6e0)]>=0x1d4c0&&(this[_0x1a807d(0x48b)]['verbose'](this['instanceName']+'\x20('+this[_0x1a807d(0x6e9)][_0x1a807d(0x4f9)]+_0x1a807d(0x4a0)),this[_0x1a807d(0x6e9)]['ScheduleMessage'][_0x1a807d(0x228)]=null,this[_0x1a807d(0x6e9)][_0x1a807d(0x5f6)]['lastSend']=0x0,this['instance'][_0x1a807d(0x5f6)][_0x1a807d(0x27f)]=0x0,await this['scheduleNextCheck']());}async['scheduleNextCheck'](){const _0x2e7d44=a0_0x156424;let _0x56da34=()=>{const _0x3bea42=a0_0x4ecf;this[_0x3bea42(0x48b)][_0x3bea42(0x361)](this['instanceName']+'\x20('+this['instance'][_0x3bea42(0x4f9)]+_0x3bea42(0x31f)+this[_0x3bea42(0x6e9)][_0x3bea42(0x5f6)][_0x3bea42(0x228)]+_0x3bea42(0x687));},_0x2321cb=async()=>{const _0x196949=a0_0x4ecf;this[_0x196949(0x48b)][_0x196949(0x361)](this[_0x196949(0x194)]+'\x20('+this[_0x196949(0x6e9)][_0x196949(0x4f9)]+_0x196949(0x695));let _0x5ceda4=Date[_0x196949(0x605)]()-0xc*0x3c*0x3c*0x3e8,_0x5197da={'where':{'status':{'$in':['scheduled',_0x196949(0x4db)]},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x5ceda4}},{'when':0x0}]}};return await this['repository']['scheduleMessage'][_0x196949(0x5ae)](_0x5197da,this[_0x196949(0x6e9)][_0x196949(0x4f9)]);},_0x44c61d=async _0x27110f=>{const _0x2d8c28=a0_0x4ecf;for(let _0x56f2dc of _0x27110f){let _0x4a616b={'_id':_0x56f2dc[_0x2d8c28(0x21c)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x2d8c28(0x605)]()-0x1770}}]},_0x5b43a3={'startSend':Date[_0x2d8c28(0x605)]()};if(!await this[_0x2d8c28(0x2c2)][_0x2d8c28(0x345)]['updateOne'](_0x4a616b,_0x5b43a3,this[_0x2d8c28(0x6e9)][_0x2d8c28(0x4f9)]))return;if(!this[_0x2d8c28(0x6e9)][_0x2d8c28(0x5f6)][_0x2d8c28(0x6f9)]){this['logger'][_0x2d8c28(0x361)](this[_0x2d8c28(0x194)]+'\x20('+this[_0x2d8c28(0x6e9)][_0x2d8c28(0x4f9)]+_0x2d8c28(0x45d));break;}if(_0x56f2dc['type']===_0x2d8c28(0x321)&&!this[_0x2d8c28(0x105)]?.[_0x2d8c28(0x745)]['enabled']){this[_0x2d8c28(0x48b)][_0x2d8c28(0x363)](this[_0x2d8c28(0x194)]+'\x20('+this['instance'][_0x2d8c28(0x4f9)]+_0x2d8c28(0x677));continue;}(!_0x56f2dc[_0x2d8c28(0x46b)]||_0x56f2dc[_0x2d8c28(0x46b)]['length']===0x0)&&(_0x56f2dc=await this[_0x2d8c28(0x2c2)]['scheduleMessage']['updateOneById'](_0x56f2dc[_0x2d8c28(0x21c)],{'status':'sending','remoteJidsRemaining':[..._0x56f2dc[_0x2d8c28(0x6e7)]]},this[_0x2d8c28(0x6e9)][_0x2d8c28(0x4f9)]));for(let _0x40ca5a of _0x56f2dc[_0x2d8c28(0x46b)]){if(await this[_0x2d8c28(0x5e5)](),this[_0x2d8c28(0x6e9)]['ScheduleMessage'][_0x2d8c28(0x6e0)]=Date['now'](),this[_0x2d8c28(0x6e9)][_0x2d8c28(0x5f6)]['ultimaTentativaRemoteJid']===_0x40ca5a){this[_0x2d8c28(0x48b)][_0x2d8c28(0x363)](this[_0x2d8c28(0x194)]+'\x20('+this[_0x2d8c28(0x6e9)][_0x2d8c28(0x4f9)]+_0x2d8c28(0x3e2)+_0x40ca5a+'.\x20Removendo\x20da\x20lista\x20de\x20tentativas.');let _0x55ef11={'$push':{'messagesSend':{'remoteJid':_0x40ca5a,'error':!0x0,'id':null,'error_log':'Falha\x20após\x20várias\x20tentativas.','log_timestamp':Date['now']()}},'$pull':{'remoteJidsRemaining':_0x40ca5a}};await this[_0x2d8c28(0x2c2)][_0x2d8c28(0x345)][_0x2d8c28(0x2cd)](_0x56f2dc[_0x2d8c28(0x21c)],_0x55ef11,this[_0x2d8c28(0x6e9)][_0x2d8c28(0x4f9)]);continue;}if(this[_0x2d8c28(0x6e9)][_0x2d8c28(0x5f6)][_0x2d8c28(0x217)]=_0x40ca5a,_0x56f2dc[_0x2d8c28(0x559)]['some'](_0x5a54c5=>_0x5a54c5[_0x2d8c28(0x740)]===_0x40ca5a)){this[_0x2d8c28(0x48b)][_0x2d8c28(0x361)](this[_0x2d8c28(0x194)]+'\x20('+this['instance'][_0x2d8c28(0x4f9)]+_0x2d8c28(0x45b)+_0x40ca5a+_0x2d8c28(0x485));continue;}if(!this[_0x2d8c28(0x6e9)][_0x2d8c28(0x5f6)]['isConnected']){this['logger']['verbose'](this[_0x2d8c28(0x194)]+'\x20('+this[_0x2d8c28(0x6e9)][_0x2d8c28(0x4f9)]+_0x2d8c28(0x1ca));break;}if(!this[_0x2d8c28(0x6e9)][_0x2d8c28(0x5f6)][_0x2d8c28(0x228)]){this[_0x2d8c28(0x48b)][_0x2d8c28(0x361)](this[_0x2d8c28(0x194)]+'\x20('+this[_0x2d8c28(0x6e9)]['wuid']+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x56f2dc[_0x2d8c28(0x21c)]+_0x2d8c28(0x117));break;}if(_0x56f2dc['type']===_0x2d8c28(0x321)&&!this[_0x2d8c28(0x105)]?.[_0x2d8c28(0x745)][_0x2d8c28(0x494)]){this[_0x2d8c28(0x48b)][_0x2d8c28(0x363)](this[_0x2d8c28(0x194)]+'\x20('+this[_0x2d8c28(0x6e9)][_0x2d8c28(0x4f9)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');break;}let _0x1f0e38={'remoteJid':_0x40ca5a,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x2d8c28(0x605)]()},_0x21eb29=null;try{let _0xc71f4c=await this[_0x2d8c28(0x3c5)](_0x40ca5a,_0x56f2dc);_0x1f0e38[_0x2d8c28(0x363)]=_0xc71f4c[_0x2d8c28(0x363)],_0x1f0e38['id']=_0xc71f4c[_0x2d8c28(0x363)]?null:_0xc71f4c['id'],_0x1f0e38[_0x2d8c28(0x6fb)]=_0xc71f4c[_0x2d8c28(0x363)]?_0xc71f4c[_0x2d8c28(0x1f6)]?_0xc71f4c[_0x2d8c28(0x1f6)][_0x2d8c28(0x50d)]():'':null;let _0x48c9c4={'$push':{'messagesSend':_0x1f0e38},'$pull':{'remoteJidsRemaining':_0x40ca5a}},_0x2dc0bf=_0x56f2dc[_0x2d8c28(0x21c)];if(_0x21eb29=await this[_0x2d8c28(0x2c2)][_0x2d8c28(0x345)]['updateOneById'](_0x2dc0bf,_0x48c9c4,this['instance'][_0x2d8c28(0x4f9)]),_0xc71f4c[_0x2d8c28(0x363)])continue;let _0x4abf2d=this[_0x2d8c28(0x66e)](_0x56f2dc[_0x2d8c28(0x6da)],_0x56f2dc[_0x2d8c28(0x103)]);await this[_0x2d8c28(0x55e)](_0x4abf2d);}catch(_0x21528f){this['logger']['error'](this[_0x2d8c28(0x194)]+'\x20('+this[_0x2d8c28(0x6e9)][_0x2d8c28(0x4f9)]+'):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20'+_0x40ca5a+':\x20'+(_0x21528f instanceof Error?_0x21528f[_0x2d8c28(0x6b3)]:JSON[_0x2d8c28(0x389)](_0x21528f,null,0x2))),_0x1f0e38['error']=!0x0,_0x1f0e38['error_log']=_0x21528f[_0x2d8c28(0x6b3)];let _0x13d78e={'$push':{'messagesSend':_0x1f0e38},'$pull':{'remoteJidsRemaining':_0x40ca5a}},_0x555ccf=_0x56f2dc[_0x2d8c28(0x21c)];_0x21eb29=await this['repository'][_0x2d8c28(0x345)][_0x2d8c28(0x2cd)](_0x555ccf,_0x13d78e,this[_0x2d8c28(0x6e9)]['wuid']);}finally{if(_0x21eb29&&_0x21eb29[_0x2d8c28(0x2f7)]===_0x2d8c28(0x51c)){this[_0x2d8c28(0x48b)][_0x2d8c28(0x361)](this[_0x2d8c28(0x194)]+'\x20('+this[_0x2d8c28(0x6e9)][_0x2d8c28(0x4f9)]+_0x2d8c28(0x634)+_0x56f2dc[_0x2d8c28(0x21c)]+_0x2d8c28(0x5c7));break;}}}let _0xfc9d70=await this[_0x2d8c28(0x2c2)][_0x2d8c28(0x345)][_0x2d8c28(0x636)](_0x56f2dc[_0x2d8c28(0x21c)],this[_0x2d8c28(0x6e9)][_0x2d8c28(0x4f9)]);if(_0xfc9d70['remoteJidsRemaining'][_0x2d8c28(0x476)]===0x0&&_0xfc9d70['status']!==_0x2d8c28(0x51c)){this[_0x2d8c28(0x6e9)][_0x2d8c28(0x5f6)][_0x2d8c28(0x217)]=null;let _0x25f8b0={'$set':{'status':_0x2d8c28(0x68d)}},_0x43c67d=_0xfc9d70[_0x2d8c28(0x21c)];await this[_0x2d8c28(0x2c2)][_0x2d8c28(0x345)]['updateOneById'](_0x43c67d,_0x25f8b0,this['instance'][_0x2d8c28(0x4f9)]);}await new Promise(_0x3c0e46=>setTimeout(_0x3c0e46,0x1388));}},_0x471cad=async()=>{const _0x25204c=a0_0x4ecf;let _0x466109={'where':{'status':_0x25204c(0x37e),'when':{'$gt':Date[_0x25204c(0x605)]()}}},_0x586d97=await this['repository'][_0x25204c(0x345)][_0x25204c(0x6d5)](_0x466109,this[_0x25204c(0x6e9)][_0x25204c(0x4f9)]);_0x586d97&&_0x586d97[_0x25204c(0x4f7)]-Date[_0x25204c(0x605)]()<=0x5265c00?this[_0x25204c(0x6e9)][_0x25204c(0x5f6)][_0x25204c(0x27f)]=_0x586d97[_0x25204c(0x4f7)]-Date[_0x25204c(0x605)]():this[_0x25204c(0x6e9)][_0x25204c(0x5f6)][_0x25204c(0x27f)]=(0x3c+Math['floor'](Math[_0x25204c(0x1cb)]()*0x3c))*0x3c*0x3e8,this[_0x25204c(0x6e9)]['ScheduleMessage']['delayMessage']=Math[_0x25204c(0x430)](this[_0x25204c(0x6e9)][_0x25204c(0x5f6)][_0x25204c(0x27f)],0x7d0);let _0x465328=Math[_0x25204c(0x6b4)](this[_0x25204c(0x6e9)]['ScheduleMessage'][_0x25204c(0x27f)]/0xea60);if(_0x586d97){let _0x1049f8=new Date(_0x586d97[_0x25204c(0x4f7)])[_0x25204c(0x601)]();this[_0x25204c(0x48b)]['verbose'](this[_0x25204c(0x194)]+'\x20('+this[_0x25204c(0x6e9)]['wuid']+_0x25204c(0x1a0)+_0x1049f8+_0x25204c(0x561)+_0x465328+_0x25204c(0x459));}else this[_0x25204c(0x48b)][_0x25204c(0x361)](this[_0x25204c(0x194)]+'\x20('+this[_0x25204c(0x6e9)][_0x25204c(0x4f9)]+_0x25204c(0x61a)+_0x465328+'\x20minutos');setTimeout(()=>this[_0x25204c(0x2d8)](),this[_0x25204c(0x6e9)][_0x25204c(0x5f6)]['delayMessage']);};if(this[_0x2e7d44(0x6e9)]['ScheduleMessage'][_0x2e7d44(0x228)]){await this[_0x2e7d44(0x5e5)](),_0x56da34();return;}if(!this[_0x2e7d44(0x6e9)][_0x2e7d44(0x5f6)][_0x2e7d44(0x6f9)]){this[_0x2e7d44(0x48b)][_0x2e7d44(0x361)](this[_0x2e7d44(0x194)]+'\x20('+this[_0x2e7d44(0x6e9)]['wuid']+_0x2e7d44(0x640)),this[_0x2e7d44(0x6e9)][_0x2e7d44(0x5f6)]['processing_id']=null,this[_0x2e7d44(0x6e9)][_0x2e7d44(0x5f6)][_0x2e7d44(0x6e0)]=0x0,this[_0x2e7d44(0x6e9)]['ScheduleMessage'][_0x2e7d44(0x27f)]=0x0,this['instance'][_0x2e7d44(0x5f6)][_0x2e7d44(0x217)]=null;return;}try{let _0x34d815=await _0x2321cb();_0x34d815[_0x2e7d44(0x476)]===0x0?this[_0x2e7d44(0x48b)]['verbose'](this['instanceName']+'\x20('+this[_0x2e7d44(0x6e9)][_0x2e7d44(0x4f9)]+'):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.'):(this[_0x2e7d44(0x6e9)][_0x2e7d44(0x5f6)][_0x2e7d44(0x228)]=_0x34d815[0x0][_0x2e7d44(0x21c)],await _0x44c61d(_0x34d815)),await _0x471cad(),this[_0x2e7d44(0x6e9)][_0x2e7d44(0x5f6)][_0x2e7d44(0x228)]=null,this['instance'][_0x2e7d44(0x5f6)][_0x2e7d44(0x217)]=null;}catch(_0x967c36){this[_0x2e7d44(0x48b)][_0x2e7d44(0x363)](_0x2e7d44(0x649)+(_0x967c36 instanceof Error?_0x967c36[_0x2e7d44(0x6b3)]:JSON[_0x2e7d44(0x389)](_0x967c36,null,0x2)));}}[a0_0x156424(0x66e)](_0x494c35,_0x296080){const _0x58a861=a0_0x156424;return _0x494c35=Math[_0x58a861(0x430)](0.5,_0x494c35),_0x296080=Math[_0x58a861(0x25a)](Math[_0x58a861(0x430)](0x3,_0x296080),0x78),Math['floor'](Math[_0x58a861(0x1cb)]()*(_0x296080-_0x494c35+0x1)+_0x494c35)*0x3e8;}[a0_0x156424(0x55e)](_0x16b177){return new Promise(_0x14fdee=>setTimeout(_0x14fdee,_0x16b177));}async['getVariablesChat'](_0x498d7e){const _0x19a8e5=a0_0x156424;if(!this[_0x19a8e5(0x105)]&&(await this[_0x19a8e5(0x220)](),!this[_0x19a8e5(0x105)]))return null;_0x498d7e=this[_0x19a8e5(0x18e)](_0x498d7e);let _0x2a97b1=await this[_0x19a8e5(0x2c2)][_0x19a8e5(0x2ea)][_0x19a8e5(0x6d5)]({'where':{'_id':_0x498d7e}},this[_0x19a8e5(0x6e9)][_0x19a8e5(0x4f9)]),_0x5ebe59={};if(_0x2a97b1&&_0x2a97b1['leadInfo']){let _0x3f0f0a=_0x2a97b1[_0x19a8e5(0x753)];typeof _0x3f0f0a[_0x19a8e5(0x288)]=='string'&&(_0x5ebe59[_0x19a8e5(0x288)]=_0x3f0f0a[_0x19a8e5(0x288)]),typeof _0x3f0f0a[_0x19a8e5(0xd7)]=='string'&&(_0x5ebe59[_0x19a8e5(0xd7)]=_0x3f0f0a['nomecompleto']),typeof _0x3f0f0a[_0x19a8e5(0x343)]==_0x19a8e5(0x40b)&&(_0x5ebe59[_0x19a8e5(0x343)]=_0x3f0f0a[_0x19a8e5(0x343)]),typeof _0x3f0f0a['cpf']==_0x19a8e5(0x40b)&&(_0x5ebe59[_0x19a8e5(0x4d8)]=_0x3f0f0a[_0x19a8e5(0x4d8)]),typeof _0x3f0f0a[_0x19a8e5(0x2f7)]==_0x19a8e5(0x40b)&&(_0x5ebe59['status']=_0x3f0f0a['status']),typeof _0x3f0f0a['notas']=='string'&&(_0x5ebe59[_0x19a8e5(0x297)]=_0x3f0f0a['notas']),typeof _0x3f0f0a['responsavelid']==_0x19a8e5(0x40b)&&(_0x5ebe59[_0x19a8e5(0x3d5)]=_0x3f0f0a[_0x19a8e5(0x3d5)]),Array[_0x19a8e5(0x2b8)](_0x3f0f0a[_0x19a8e5(0x140)])&&(_0x5ebe59[_0x19a8e5(0x140)]=_0x3f0f0a['tags']['join'](',\x20')),Array[_0x19a8e5(0x2b8)](_0x3f0f0a['etiquetas'])&&(_0x5ebe59[_0x19a8e5(0xf0)]=_0x3f0f0a[_0x19a8e5(0xf0)][_0x19a8e5(0xdb)](',\x20'));}return _0x2a97b1&&_0x2a97b1[_0x19a8e5(0x753)]&&_0x2a97b1[_0x19a8e5(0x753)][_0x19a8e5(0x2b1)]&&_0x2a97b1[_0x19a8e5(0x753)]['customFields']['forEach'](_0xae1ead=>{const _0x146c8a=_0x19a8e5;let _0x44ddb0=this['AutomateSystem']?.[_0x146c8a(0x2b1)][_0x146c8a(0x5ae)](_0x46d7b1=>_0x46d7b1[_0x146c8a(0x21c)]===_0xae1ead[_0x146c8a(0x21c)]);_0x44ddb0&&(_0x5ebe59[_0x44ddb0[_0x146c8a(0x350)]]=_0xae1ead[_0x146c8a(0x16a)]);}),_0x5ebe59;}async[a0_0x156424(0x166)](_0x52fb83,_0x45af9f){const _0xe9c5cb=a0_0x156424;try{let _0x17706a=await this[_0xe9c5cb(0x627)](_0x45af9f);return this[_0xe9c5cb(0x513)](_0x52fb83,_0x17706a);}catch(_0x337de9){return this['logger'][_0xe9c5cb(0x363)](_0xe9c5cb(0x61b)+_0x45af9f+':\x20'+_0x337de9),_0x52fb83;}}async[a0_0x156424(0x121)](_0x433b37){const _0x3bbf27=a0_0x156424;try{if(this[_0x3bbf27(0x48b)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x3bbf27(0x4f9)]+_0x3bbf27(0x611)),_0x433b37['delete']&&_0x433b37['_id']){if(this[_0x3bbf27(0x6e9)][_0x3bbf27(0x5f6)][_0x3bbf27(0x228)]===_0x433b37[_0x3bbf27(0x21c)][_0x3bbf27(0x50d)]())throw new Error(_0x3bbf27(0x3d4));let _0x389357=await this[_0x3bbf27(0x2c2)][_0x3bbf27(0x345)][_0x3bbf27(0x3b7)](_0x433b37['_id'],this[_0x3bbf27(0x6e9)][_0x3bbf27(0x4f9)]);return setTimeout(()=>this[_0x3bbf27(0x2d8)](),0x7d0),_0x389357;}let _0x3bfaa7;if(_0x433b37['_id']&&(_0x3bfaa7=await this[_0x3bbf27(0x2c2)][_0x3bbf27(0x345)][_0x3bbf27(0x636)](_0x433b37['_id'],this[_0x3bbf27(0x6e9)][_0x3bbf27(0x4f9)])),_0x3bfaa7){let _0xdb2f04;if(this['instance'][_0x3bbf27(0x5f6)][_0x3bbf27(0x228)]===_0x3bfaa7[_0x3bbf27(0x21c)][_0x3bbf27(0x50d)]())_0xdb2f04={'$set':{'status':_0x433b37[_0x3bbf27(0x2f7)]}};else{let {_id:_0x486135,..._0x460b08}=_0x433b37;_0xdb2f04={'$set':_0x460b08};}let _0x3368e7=await this[_0x3bbf27(0x2c2)][_0x3bbf27(0x345)]['updateOneById'](_0x433b37[_0x3bbf27(0x21c)],_0xdb2f04,this['instance']['wuid']);return setTimeout(()=>this[_0x3bbf27(0x2d8)](),0x7d0),_0x3368e7;}else{_0x433b37[_0x3bbf27(0x585)]=this[_0x3bbf27(0x6e9)][_0x3bbf27(0x4f9)];let _0x46eeed=await this[_0x3bbf27(0x2c2)][_0x3bbf27(0x345)][_0x3bbf27(0x397)](_0x433b37,this[_0x3bbf27(0x6e9)][_0x3bbf27(0x4f9)]);return setTimeout(()=>this[_0x3bbf27(0x2d8)](),0x7d0),_0x46eeed;}}catch(_0x204e81){let _0xb405af='Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message',_0x1e640e=_0x204e81 instanceof Error?_0x204e81[_0x3bbf27(0x6b3)]:typeof _0x204e81==_0x3bbf27(0x666)?JSON['stringify'](_0x204e81):_0x204e81,_0x5ef793=_0xb405af+':\x20'+_0x1e640e;throw this[_0x3bbf27(0x48b)]['error'](this[_0x3bbf27(0x194)]+'\x20('+this[_0x3bbf27(0x6e9)]['wuid']+_0x3bbf27(0x5a6)+_0x5ef793),new m(_0x5ef793);}}async[a0_0x156424(0x5fe)](){const _0x3ce95c=a0_0x156424;try{return await this['repository']['scheduleMessage'][_0x3ce95c(0x5ae)]({'where':{}},this[_0x3ce95c(0x6e9)][_0x3ce95c(0x4f9)]);}catch(_0x3a7a3b){let _0x43ef9e=_0x3ce95c(0x37f),_0x329902=_0x3a7a3b instanceof Error?_0x3a7a3b[_0x3ce95c(0x6b3)]:typeof _0x3a7a3b==_0x3ce95c(0x666)?JSON[_0x3ce95c(0x389)](_0x3a7a3b):_0x3a7a3b,_0x5931a2=_0x43ef9e+':\x20'+_0x329902;throw this[_0x3ce95c(0x48b)][_0x3ce95c(0x363)](this[_0x3ce95c(0x194)]+'\x20('+this[_0x3ce95c(0x6e9)][_0x3ce95c(0x4f9)]+_0x3ce95c(0x5a6)+_0x5931a2),new m(_0x5931a2);}}async[a0_0x156424(0x606)](){const _0x48edbd=a0_0x156424;try{let _0x48fef0={'status':'done'},_0x4043b5=await this[_0x48edbd(0x2c2)][_0x48edbd(0x345)][_0x48edbd(0x1c5)](_0x48fef0,this[_0x48edbd(0x6e9)][_0x48edbd(0x4f9)]);if(!_0x4043b5[_0x48edbd(0x363)])this[_0x48edbd(0x48b)]['verbose'](this[_0x48edbd(0x194)]+'\x20('+this[_0x48edbd(0x6e9)][_0x48edbd(0x4f9)]+_0x48edbd(0xe5));else throw new Error(_0x4043b5[_0x48edbd(0x363)]['message']||_0x48edbd(0x296));return this[_0x48edbd(0x5fe)]();}catch(_0xa62112){let _0x3ee40f=_0x48edbd(0x42f),_0x43878c=_0xa62112 instanceof Error?_0xa62112[_0x48edbd(0x6b3)]:typeof _0xa62112==_0x48edbd(0x666)?JSON['stringify'](_0xa62112):_0xa62112,_0x55d4f0=_0x3ee40f+':\x20'+_0x43878c;throw this[_0x48edbd(0x48b)][_0x48edbd(0x363)](this[_0x48edbd(0x194)]+'\x20('+this[_0x48edbd(0x6e9)][_0x48edbd(0x4f9)]+_0x48edbd(0x5a6)+_0x55d4f0),new m(_0x55d4f0);}}async[a0_0x156424(0x3c5)](_0x22262c,_0x4b645e){const _0x50b7a0=a0_0x156424;try{if(_0x4b645e['type']===_0x50b7a0(0x321)&&!this['AutomateSystem']?.[_0x50b7a0(0x745)]['enabled'])return this[_0x50b7a0(0x48b)][_0x50b7a0(0x363)](this[_0x50b7a0(0x194)]+'\x20('+this['instance'][_0x50b7a0(0x4f9)]+'):\x20Fluxos\x20não\x20estão\x20ativados'),{'error':!0x0,'detail':'Fluxos\x20não\x20estão\x20ativados'};switch(_0x4b645e[_0x50b7a0(0x136)]){case'text':return await this[_0x50b7a0(0x32b)](_0x4b645e,_0x22262c);case _0x50b7a0(0x582):return await this[_0x50b7a0(0x597)](_0x4b645e,_0x22262c);case'audio':return await this[_0x50b7a0(0x15b)](_0x4b645e,_0x22262c);case _0x50b7a0(0x321):let _0x39824c=new qe();return _0x39824c[_0x50b7a0(0x350)]=_0x4b645e[_0x50b7a0(0x3b8)],_0x39824c[_0x50b7a0(0x740)]=_0x22262c,await this[_0x50b7a0(0x73f)](_0x39824c);break;default:return this[_0x50b7a0(0x48b)][_0x50b7a0(0x363)](this[_0x50b7a0(0x194)]+'\x20('+this[_0x50b7a0(0x6e9)][_0x50b7a0(0x4f9)]+_0x50b7a0(0x615)+_0x4b645e[_0x50b7a0(0x136)]),{'error':!0x0,'detail':_0x50b7a0(0x178)};}}catch(_0x1333c3){return this[_0x50b7a0(0x48b)][_0x50b7a0(0x363)](this[_0x50b7a0(0x194)]+'\x20('+this['instance'][_0x50b7a0(0x4f9)]+_0x50b7a0(0x518)+(_0x1333c3 instanceof Error?_0x1333c3['message']:JSON[_0x50b7a0(0x389)](_0x1333c3,null,0x2))),{'error':!0x0,'detail':_0x1333c3[_0x50b7a0(0x6b3)]};}}[a0_0x156424(0x4da)](_0x2d8ed6){const _0x286e27=a0_0x156424;let _0x188772=_0x2d8ed6['split']('|'),_0x403eff=Math[_0x286e27(0x3ef)](Math[_0x286e27(0x1cb)]()*_0x188772[_0x286e27(0x476)]);return _0x188772[_0x403eff][_0x286e27(0x652)]();}async[a0_0x156424(0x32b)](_0x76b827,_0x459005){const _0x5b3d46=a0_0x156424;if(this['logger'][_0x5b3d46(0x361)](this[_0x5b3d46(0x194)]+'\x20('+this[_0x5b3d46(0x6e9)][_0x5b3d46(0x4f9)]+'):\x20Enviando\x20texto'),!_0x76b827[_0x5b3d46(0x6b3)][_0x5b3d46(0x727)]||_0x76b827['message']['text'][_0x5b3d46(0x476)]===0x0)return{'error':!0x0,'detail':_0x5b3d46(0x107)};let _0x30bee3=this[_0x5b3d46(0x4da)](_0x76b827[_0x5b3d46(0x6b3)][_0x5b3d46(0x727)]),_0x3199eb=await this[_0x5b3d46(0x166)](_0x30bee3,_0x459005),_0x2e315e={'number':_0x459005,'options':{'delay':_0x76b827[_0x5b3d46(0x6b3)][_0x5b3d46(0x2e7)],'linkPreview':_0x76b827['message'][_0x5b3d46(0x12f)]},'textMessage':{'text':_0x3199eb}},_0x10ed19=null;try{let _0x2af6e7=await this[_0x5b3d46(0x3c1)](_0x2e315e);if(_0x2af6e7&&_0x2af6e7[_0x5b3d46(0x2f7)])return{'error':!0x1,'id':_0x2af6e7[_0x5b3d46(0x13f)]['id']};_0x10ed19=JSON[_0x5b3d46(0x389)](_0x2af6e7),this[_0x5b3d46(0x48b)]['verbose'](this[_0x5b3d46(0x194)]+'\x20('+this[_0x5b3d46(0x6e9)]['wuid']+_0x5b3d46(0x5a6)+_0x10ed19);}catch(_0x3a0770){this[_0x5b3d46(0x48b)][_0x5b3d46(0x363)](this[_0x5b3d46(0x194)]+'\x20('+this[_0x5b3d46(0x6e9)][_0x5b3d46(0x4f9)]+_0x5b3d46(0x101)+(_0x3a0770 instanceof Error?_0x3a0770[_0x5b3d46(0x6b3)]:JSON['stringify'](_0x3a0770,null,0x2))),_0x10ed19=_0x3a0770[_0x5b3d46(0x6b3)];}if(_0x10ed19)return{'error':!0x0,'detail':(typeof _0x10ed19==_0x5b3d46(0x666)?JSON[_0x5b3d46(0x389)](_0x10ed19,null,0x2):_0x10ed19)[_0x5b3d46(0x367)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x156424(0x597)](_0xe259ea,_0x191194){const _0x4002e9=a0_0x156424;this[_0x4002e9(0x48b)][_0x4002e9(0x361)](this[_0x4002e9(0x194)]+'\x20('+this[_0x4002e9(0x6e9)][_0x4002e9(0x4f9)]+_0x4002e9(0x3a4));let _0x135188;if(_0xe259ea[_0x4002e9(0x6b3)]['text']&&_0xe259ea['message'][_0x4002e9(0x727)][_0x4002e9(0x476)]>0x0){let _0x2150ae=this[_0x4002e9(0x4da)](_0xe259ea[_0x4002e9(0x6b3)][_0x4002e9(0x727)]);_0x135188=await this['replaceVariablesChat'](_0x2150ae,_0x191194);}let _0x57d183={'number':_0x191194,'options':{'delay':_0xe259ea[_0x4002e9(0x6b3)]['delay'],'linkPreview':_0xe259ea[_0x4002e9(0x6b3)][_0x4002e9(0x12f)]},'mediaMessage':{'mediatype':_0xe259ea[_0x4002e9(0x6b3)][_0x4002e9(0x27d)],'caption':_0x135188,'media':_0xe259ea[_0x4002e9(0x6b3)][_0x4002e9(0xa3)]}},_0x49a12e=null;try{let _0x5e318a=await this[_0x4002e9(0xb4)](_0x57d183);if(_0x5e318a&&_0x5e318a[_0x4002e9(0x2f7)])return{'error':!0x1,'id':_0x5e318a[_0x4002e9(0x13f)]['id']};_0x49a12e=JSON[_0x4002e9(0x389)](_0x5e318a),this[_0x4002e9(0x48b)]['verbose'](this[_0x4002e9(0x194)]+'\x20('+this[_0x4002e9(0x6e9)][_0x4002e9(0x4f9)]+_0x4002e9(0x5a6)+_0x49a12e);}catch(_0x5ce470){this[_0x4002e9(0x48b)][_0x4002e9(0x363)](this['instanceName']+'\x20('+this['instance'][_0x4002e9(0x4f9)]+_0x4002e9(0x22e)+(_0x5ce470 instanceof Error?_0x5ce470[_0x4002e9(0x6b3)]:JSON[_0x4002e9(0x389)](_0x5ce470,null,0x2))),_0x49a12e=_0x5ce470[_0x4002e9(0x6b3)];}if(_0x49a12e)return{'error':!0x0,'detail':(typeof _0x49a12e=='object'?JSON[_0x4002e9(0x389)](_0x49a12e,null,0x2):_0x49a12e)[_0x4002e9(0x367)](/[\[\]{}\n]/g,'\x20')[_0x4002e9(0x367)](/  +/g,'\x20')};}async[a0_0x156424(0x15b)](_0x496198,_0x5b92a3){const _0x268815=a0_0x156424;this[_0x268815(0x48b)]['verbose'](this['instanceName']+'\x20('+this[_0x268815(0x6e9)]['wuid']+_0x268815(0x41f));let _0x4004b8={'number':_0x5b92a3,'options':{'delay':_0x496198[_0x268815(0x6b3)]['delay']},'audioMessage':{'audio':_0x496198[_0x268815(0x6b3)][_0x268815(0xa3)]}},_0x51743f=null;try{let _0x5a65d3=await this[_0x268815(0x505)](_0x4004b8);if(_0x5a65d3&&_0x5a65d3['status'])return{'error':!0x1,'id':_0x5a65d3[_0x268815(0x13f)]['id']};_0x51743f=JSON[_0x268815(0x389)](_0x5a65d3),this[_0x268815(0x48b)][_0x268815(0x361)](this[_0x268815(0x194)]+'\x20('+this['instance'][_0x268815(0x4f9)]+_0x268815(0x5a6)+_0x51743f);}catch(_0x7c8cfd){this['logger'][_0x268815(0x363)](this[_0x268815(0x194)]+'\x20('+this[_0x268815(0x6e9)][_0x268815(0x4f9)]+_0x268815(0x72d)+(_0x7c8cfd instanceof Error?_0x7c8cfd[_0x268815(0x6b3)]:JSON[_0x268815(0x389)](_0x7c8cfd,null,0x2))),_0x51743f=_0x7c8cfd[_0x268815(0x6b3)];}if(_0x51743f)return{'error':!0x0,'detail':(typeof _0x51743f=='object'?JSON[_0x268815(0x389)](_0x51743f,null,0x2):_0x51743f)[_0x268815(0x367)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x156424(0x31e)](_0x11420e){const _0x47ebf7=a0_0x156424;try{return await this[_0x47ebf7(0x439)][_0x47ebf7(0x382)](_0x11420e['groupJid'],_0x11420e[_0x47ebf7(0x4bb)]),{'update':_0x47ebf7(0x229)};}catch(_0x3c82e5){let _0xdcdb57=_0x47ebf7(0x336),_0x27ca48=_0x3c82e5 instanceof Error?_0x3c82e5['message']:typeof _0x3c82e5==_0x47ebf7(0x666)?JSON[_0x47ebf7(0x389)](_0x3c82e5):_0x3c82e5,_0x327b54=_0xdcdb57+':\x20'+_0x27ca48;throw this['logger'][_0x47ebf7(0x363)](this[_0x47ebf7(0x194)]+'\x20('+this['instance'][_0x47ebf7(0x4f9)]+'):\x20'+_0x327b54),new I(_0x327b54);}}async[a0_0x156424(0x4f3)](_0x56e26f){const _0x3afdad=a0_0x156424;try{return await this[_0x3afdad(0x439)][_0x3afdad(0x276)](_0x56e26f['groupJid'],_0x56e26f['name']),{'update':'success'};}catch(_0x2bfe51){let _0x4b0a0b=_0x3afdad(0x2c8),_0x12ae65=_0x2bfe51 instanceof Error?_0x2bfe51['message']:typeof _0x2bfe51==_0x3afdad(0x666)?JSON['stringify'](_0x2bfe51):_0x2bfe51,_0x5d4513=_0x4b0a0b+':\x20'+_0x12ae65;throw this[_0x3afdad(0x48b)][_0x3afdad(0x363)](this[_0x3afdad(0x194)]+'\x20('+this[_0x3afdad(0x6e9)][_0x3afdad(0x4f9)]+_0x3afdad(0x5a6)+_0x5d4513),new I(_0x5d4513);}}async[a0_0x156424(0x54d)](_0x14ae92){const _0x3cec4f=a0_0x156424;try{let _0x19d1dc=await this['client'][_0x3cec4f(0x292)](_0x14ae92['groupJid'],_0x14ae92['expiration']);return{'success':!0x0};}catch(_0x116a3d){let _0x1b6588=_0x3cec4f(0x497),_0x64a659=_0x116a3d instanceof Error?_0x116a3d[_0x3cec4f(0x6b3)]:typeof _0x116a3d==_0x3cec4f(0x666)?JSON['stringify'](_0x116a3d):_0x116a3d,_0x15ad2f=_0x1b6588+':\x20'+_0x64a659;throw this[_0x3cec4f(0x48b)]['error'](this[_0x3cec4f(0x194)]+'\x20('+this[_0x3cec4f(0x6e9)][_0x3cec4f(0x4f9)]+_0x3cec4f(0x5a6)+_0x15ad2f),new I(_0x15ad2f);}}async[a0_0x156424(0x771)](_0x3fb0eb){const _0x395f71=a0_0x156424;try{return await this[_0x395f71(0x439)][_0x395f71(0x44d)](_0x3fb0eb['groupJid'],_0x3fb0eb[_0x395f71(0x6b0)]),{'update':_0x395f71(0x229)};}catch(_0x26cd6f){let _0x29bdae=_0x395f71(0x1f4),_0x10bbd6=_0x26cd6f instanceof Error?_0x26cd6f[_0x395f71(0x6b3)]:typeof _0x26cd6f==_0x395f71(0x666)?JSON[_0x395f71(0x389)](_0x26cd6f):_0x26cd6f,_0x31bf24=_0x29bdae+':\x20'+_0x10bbd6;throw this[_0x395f71(0x48b)]['error'](this['instanceName']+'\x20('+this[_0x395f71(0x6e9)][_0x395f71(0x4f9)]+_0x395f71(0x5a6)+_0x31bf24),new I(_0x31bf24);}}async[a0_0x156424(0xa2)](_0x13c817){const _0x433a22=a0_0x156424;try{let _0x166c83;if((0x0,P['isURL'])(_0x13c817[_0x433a22(0x49c)])){let _0x43bf42=new Date()[_0x433a22(0x6bd)](),_0x11789d=_0x13c817[_0x433a22(0x49c)]+'?timestamp='+_0x43bf42;_0x166c83=(await K[_0x433a22(0x72b)][_0x433a22(0x2cb)](_0x11789d,{'responseType':_0x433a22(0x719)}))[_0x433a22(0x3cf)];}else{if((0x0,P[_0x433a22(0x187)])(_0x13c817['image']))_0x166c83=Buffer[_0x433a22(0x32d)](_0x13c817[_0x433a22(0x49c)],_0x433a22(0x5f9));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x433a22(0x439)][_0x433a22(0x4fa)](_0x13c817[_0x433a22(0x672)],_0x166c83),{'update':_0x433a22(0x229)};}catch(_0x3acc47){let _0x2980b6=_0x433a22(0x28e),_0x11c7a3=_0x3acc47 instanceof Error?_0x3acc47[_0x433a22(0x6b3)]:typeof _0x3acc47==_0x433a22(0x666)?JSON[_0x433a22(0x389)](_0x3acc47):_0x3acc47,_0x5524cc=_0x2980b6+':\x20'+_0x11c7a3;throw this[_0x433a22(0x48b)]['error'](this['instanceName']+'\x20('+this[_0x433a22(0x6e9)][_0x433a22(0x4f9)]+_0x433a22(0x5a6)+_0x5524cc),new I(_0x5524cc);}}},Jt=class c{constructor(_0x328c22,_0xb49b24,_0x2aa655){const _0xf8272a=a0_0x156424;this['eventEmitter']=_0x328c22,this[_0xf8272a(0x2b4)]=_0xb49b24,this['repository']=_0x2aa655,this['db']={},this[_0xf8272a(0x743)]={},this[_0xf8272a(0x48b)]=new R(c[_0xf8272a(0x350)]),this['waInstances']={},(this[_0xf8272a(0x323)](),this[_0xf8272a(0x1b5)](),Object[_0xf8272a(0x263)](this['db'],_0xb49b24[_0xf8272a(0x2cb)](_0xf8272a(0x3be))),Object[_0xf8272a(0x263)](this[_0xf8272a(0x743)],_0xb49b24[_0xf8272a(0x2cb)](_0xf8272a(0x4ca))),this[_0xf8272a(0x661)]=this['db'][_0xf8272a(0x237)]?this[_0xf8272a(0x2c2)][_0xf8272a(0x6a4)]?.['db'](this['db'][_0xf8272a(0x5c8)][_0xf8272a(0x3e6)]+_0xf8272a(0x714)):void 0x0,this[_0xf8272a(0x330)]=this[_0xf8272a(0x743)][_0xf8272a(0x237)]?new ce(this[_0xf8272a(0x743)]):void 0x0);}async[a0_0x156424(0x298)](_0x5e95ff){const _0x338b64=a0_0x156424;if(_0x5e95ff&&!this[_0x338b64(0x11a)][_0x5e95ff])throw new U('Instance\x20\x22'+_0x5e95ff+_0x338b64(0x71a));let _0x55cc67=[];for await(let [_0x3aa36a,_0x3d6ce8]of Object['entries'](this[_0x338b64(0x11a)]))if(_0x3d6ce8&&_0x3d6ce8[_0x338b64(0x62b)]['state']===_0x338b64(0x3a9)){let _0x48112c=await this[_0x338b64(0x2c2)][_0x338b64(0x39b)][_0x338b64(0x5ae)](_0x3aa36a);_0x55cc67[_0x338b64(0x211)]({'instance':{'instanceName':_0x3aa36a,'apikey':_0x48112c['apikey'],'owner':_0x3d6ce8[_0x338b64(0x4f9)],'profileName':await _0x3d6ce8[_0x338b64(0x622)]()||_0x338b64(0x787),'profilePictureUrl':_0x3d6ce8[_0x338b64(0x1ae)]}});}return _0x55cc67[_0x338b64(0x5ae)](_0x5336f3=>_0x5336f3[_0x338b64(0x6e9)][_0x338b64(0x194)]===_0x5e95ff)??_0x55cc67;}async['cleaningUp'](_0x4b4b84){const _0x964e3d=a0_0x156424;if(this['db'][_0x964e3d(0x237)]&&(await this[_0x964e3d(0x2c2)]['dbServer'][_0x964e3d(0x487)](),(await this[_0x964e3d(0x661)]['collections']())[_0x964e3d(0x476)]>0x0&&await this[_0x964e3d(0x661)][_0x964e3d(0x4b6)](_0x4b4b84)),this[_0x964e3d(0x743)][_0x964e3d(0x237)]){this[_0x964e3d(0x330)][_0x964e3d(0x5e0)]=_0x4b4b84,await this[_0x964e3d(0x330)][_0x964e3d(0x74c)]();return;}}async[a0_0x156424(0x30b)](){const _0x54263e=a0_0x156424;await this[_0x54263e(0x40c)]();let _0x240f68=async _0x4cec4b=>{const _0x25ae95=_0x54263e;let _0x9c3665=new Ce(this[_0x25ae95(0x2b4)],this[_0x25ae95(0x5a9)],this[_0x25ae95(0x2c2)]);_0x9c3665[_0x25ae95(0x194)]=_0x4cec4b,await _0x9c3665[_0x25ae95(0x212)](),this[_0x25ae95(0x11a)][_0x4cec4b]=_0x9c3665;};try{if(this[_0x54263e(0x743)][_0x54263e(0x237)]){let _0x452265=await this[_0x54263e(0x330)][_0x54263e(0x413)]();_0x452265?.[_0x54263e(0x476)]>0x0&&_0x452265[_0x54263e(0x6cb)](async _0x5291b1=>await _0x240f68(_0x5291b1[_0x54263e(0x277)](':')[0x1]));return;}if(this['db'][_0x54263e(0x237)]){await this[_0x54263e(0x2c2)][_0x54263e(0x6a4)][_0x54263e(0x487)]();let _0x44b8e7=await this['dbInstance']['collections']();_0x44b8e7[_0x54263e(0x476)]>0x0&&_0x44b8e7[_0x54263e(0x6cb)](async _0xc0bb88=>await _0x240f68(_0xc0bb88[_0x54263e(0x57a)]['replace'](/^[\w-]+\./,'')));return;}}catch(_0x34c353){this[_0x54263e(0x48b)][_0x54263e(0x363)](_0x34c353);}}async[a0_0x156424(0x44f)](){const _0x480234=a0_0x156424;let _0x1ef854=await this[_0x480234(0x2c2)][_0x480234(0x39b)][_0x480234(0x6de)](),_0x38b451=_0x1ef854['filter'](_0x505b4b=>!this[_0x480234(0x11a)][_0x505b4b[_0x480234(0x21c)]]&&(_0x505b4b[_0x480234(0x5d0)]||typeof _0x505b4b['online']>'u'));_0x38b451['length']>0x0&&await Promise[_0x480234(0x2b9)](_0x38b451[_0x480234(0x5ad)](async _0x7c6337=>{const _0x13bacc=_0x480234;let _0x37fa7a={'online':!0x1,'lastDisconnect':Date['now']()};await this[_0x13bacc(0x2c2)][_0x13bacc(0x39b)][_0x13bacc(0x291)](_0x37fa7a,_0x7c6337[_0x13bacc(0x21c)]);}));let _0x55c15a=Date[_0x480234(0x605)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x2621bc=_0x1ef854[_0x480234(0x3f2)](_0x13e44a=>!this[_0x480234(0x11a)][_0x13e44a['_id']]&&typeof _0x13e44a[_0x480234(0x709)]<'u'&&_0x13e44a['lastDisconnect']<_0x55c15a);_0x2621bc[_0x480234(0x476)]>0x0&&await Promise['all'](_0x2621bc[_0x480234(0x5ad)](async _0x533eed=>{}));}async[a0_0x156424(0x40c)](){const _0x719d34=a0_0x156424;try{let _0x984224={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0xc1d0d8={'online':!0x1,'lastDisconnect':Date[_0x719d34(0x605)]()},_0xb6bcaa=await this[_0x719d34(0x2c2)][_0x719d34(0x39b)]['updateAll'](_0x984224,_0xc1d0d8);console['log'](_0x719d34(0x42e)+_0xb6bcaa[_0x719d34(0x431)]),await this[_0x719d34(0x556)]();}catch(_0x2ff282){console['error']('Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:',_0x2ff282);}}async[a0_0x156424(0x556)](){const _0x310325=a0_0x156424;try{let _0x23adc8={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x2a2a49=await this[_0x310325(0x2c2)][_0x310325(0x39b)][_0x310325(0x1c5)](_0x23adc8);console['log'](_0x310325(0xe6)+_0x2a2a49[_0x310325(0x431)]);}catch(_0x30ee39){console['error'](_0x310325(0x5d6),_0x30ee39);}}[a0_0x156424(0x323)](){const _0x2241d6=a0_0x156424;this[_0x2241d6(0x5a9)]['on']('remove.instance',async _0x1f6a19=>{const _0x1aaf85=_0x2241d6;try{this[_0x1aaf85(0x11a)][_0x1f6a19]=void 0x0;}catch{}try{this[_0x1aaf85(0x4dc)](_0x1f6a19);}finally{this[_0x1aaf85(0x48b)][_0x1aaf85(0x234)](_0x1aaf85(0x3aa)+_0x1f6a19+'\x22\x20-\x20REMOVED');}});}[a0_0x156424(0x1b5)](){this['eventEmitter']['on']('no.connection',async _0x3f91ed=>{const _0x3567e6=a0_0x4ecf;try{this[_0x3567e6(0x11a)][_0x3f91ed]=void 0x0;}catch{}try{this[_0x3567e6(0x4dc)](_0x3f91ed);}finally{this['logger'][_0x3567e6(0x234)]('Instance\x20\x22'+_0x3f91ed+_0x3567e6(0x1a6));}});}},Ut=class extends x{[a0_0x156424(0x10a)](_0x253840){return Ks(_0x253840);}async[a0_0x156424(0x6b2)](_0x52e56a){const _0x5dc64e=a0_0x156424;if(_0x52e56a[_0x5dc64e(0x476)]!==0x0)try{return{'insertCount':(await this[_0x5dc64e(0x10a)](_0x52e56a[0x0]['owner'])[_0x5dc64e(0x51e)]([..._0x52e56a]))[_0x5dc64e(0x476)]};}catch(_0x10d4c5){return _0x10d4c5;}}async[a0_0x156424(0x5ae)](_0x4c5a74,_0x2fd8be){const _0x2ce52c=a0_0x156424;try{let _0x359eb4=this[_0x2ce52c(0x10a)](_0x2fd8be),_0x2ddd6f=T(_0x4c5a74['where']);return await _0x359eb4[_0x2ce52c(0x5ae)](_0x2ddd6f)[_0x2ce52c(0x660)]({'lastmsg':-0x1})[_0x2ce52c(0x717)](_0x4c5a74?.[_0x2ce52c(0x717)]??0x0)[_0x2ce52c(0x53b)]();}catch{return[];}}async[a0_0x156424(0x4f4)](_0x55fdac,_0x4a89df){const _0x1def5e=a0_0x156424;try{return{'deletedCount':(await this[_0x1def5e(0x10a)](_0x4a89df)[_0x1def5e(0x1c5)]({..._0x55fdac['where']}))[_0x1def5e(0x715)]};}catch(_0x15840e){return{'error':_0x15840e?.[_0x1def5e(0x50d)]()};}}async[a0_0x156424(0x5bf)](_0x31b07d,_0x170ddf){const _0x1100c9=a0_0x156424;try{return await this[_0x1100c9(0x10a)](_0x170ddf)['deleteMany']({..._0x31b07d[_0x1100c9(0x4e9)]}),[];}catch(_0x33f2e1){return{'error':_0x33f2e1?.[_0x1100c9(0x50d)]()};}}async[a0_0x156424(0x6d5)](_0x444979,_0x1728be){const _0x10497d=a0_0x156424;try{let _0x4f5067=this['getChatModelForOwner'](_0x1728be),_0x3cf245=T(_0x444979['where']);return await _0x4f5067[_0x10497d(0x6d5)](_0x3cf245)[_0x10497d(0x53b)]();}catch{return null;}}async['updateOne'](_0x1680b8,_0x1a0dab,_0x396403,_0xdcb664,_0x4ffafb='$set'){const _0x11a13d=a0_0x156424;try{let _0x156593={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0xdcb664},_0x16e9dd=this[_0x11a13d(0x10a)](_0x396403),_0xdda838=T(_0x1680b8[_0x11a13d(0x4e9)]);Object['keys'](_0x1a0dab)[_0x11a13d(0x6cb)](_0x54a454=>{_0x1a0dab[_0x54a454]==null&&delete _0x1a0dab[_0x54a454];});let _0x16fbc9={};return _0x16fbc9[_0x4ffafb]=_0x1a0dab,await _0x16e9dd[_0x11a13d(0x6b8)](_0xdda838,_0x16fbc9,_0x156593);}catch(_0x5a7db8){return console[_0x11a13d(0x363)](_0x5a7db8),null;}}async[a0_0x156424(0x2dc)](_0xbeba56){const _0x3b6506=a0_0x156424;try{let _0x1e16a6=this[_0x3b6506(0x10a)](_0xbeba56[0x0][_0x3b6506(0x1ba)][_0x3b6506(0x4e9)][_0x3b6506(0x585)]),_0x4db9b4=_0xbeba56[_0x3b6506(0x5ad)](_0x53077c=>({'updateOne':{'filter':{..._0x53077c[_0x3b6506(0x1ba)]['where']},'update':{'$set':_0x53077c[_0x3b6506(0x2ab)]},'upsert':!0x0}})),_0xb03d7d=await _0x1e16a6[_0x3b6506(0x461)](_0x4db9b4);return _0xb03d7d[_0x3b6506(0x152)]+_0xb03d7d[_0x3b6506(0x40a)];}catch(_0x17f196){return console['error'](_0x17f196),0x0;}}async['removeUnusedChatFields'](_0x5abbe9){const _0x34579a=a0_0x156424;try{let _0x34a813={'group_isCommunity':'','group_announce':'','group_size':''},_0x1cda77={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x62392a={'$unset':_0x34a813};return(await this[_0x34579a(0x10a)](_0x5abbe9)['updateMany'](_0x1cda77,_0x62392a))[_0x34579a(0x152)];}catch(_0x1e6894){return console[_0x34579a(0x363)](_0x34579a(0x531),_0x1e6894),0x0;}}async[a0_0x156424(0x5c1)](_0x115fa6){const _0x3024da=a0_0x156424;try{let _0x22e8a5=this[_0x3024da(0x10a)](_0x115fa6),_0x48bd01={'leadInfo.etiquetas':{'$exists':!0x1}},_0xfbc9b4={'$set':{'leadInfo.etiquetas':[]}};return(await _0x22e8a5[_0x3024da(0x2dc)](_0x48bd01,_0xfbc9b4))[_0x3024da(0x152)];}catch(_0x2c5e0f){return console[_0x3024da(0x363)](_0x2c5e0f),0x0;}}async[a0_0x156424(0x6e1)](_0x260291){const _0x53bc96=a0_0x156424;try{let _0x20eadc=this['getChatModelForOwner'](_0x260291),_0xd8f554={'leadInfo.tags':{'$exists':!0x1}},_0x2ac9bf={'$set':{'leadInfo.tags':[]}};return(await _0x20eadc[_0x53bc96(0x2dc)](_0xd8f554,_0x2ac9bf))[_0x53bc96(0x152)];}catch(_0x26873f){return console[_0x53bc96(0x363)](_0x26873f),0x0;}}async['updateMissingCustomFields'](_0x3ba6ba){const _0x22e232=a0_0x156424;try{let _0x51791a=this[_0x22e232(0x10a)](_0x3ba6ba),_0x25c0da={'leadInfo.customFields':{'$exists':!0x1}},_0x8e2987={'$set':{'leadInfo.customFields':[]}};return(await _0x51791a[_0x22e232(0x2dc)](_0x25c0da,_0x8e2987))['modifiedCount'];}catch(_0x575b2b){return console[_0x22e232(0x363)](_0x575b2b),0x0;}}async[a0_0x156424(0x51e)](_0x42711a,_0x5a652f){const _0x37d680=a0_0x156424;if(!Array[_0x37d680(0x2b8)](_0x42711a)||_0x42711a[_0x37d680(0x476)]===0x0)throw new Error(_0x37d680(0x26a));try{return(await this['getChatModelForOwner'](_0x5a652f)[_0x37d680(0x51e)](_0x42711a))[_0x37d680(0x476)];}catch(_0x5a6f63){throw console['error'](_0x37d680(0x2ec),_0x5a6f63),_0x5a6f63;}}async['deleteChat'](_0xa19521,_0x12b773){const _0x1ee780=a0_0x156424;try{await this[_0x1ee780(0x10a)](_0x12b773)['deleteOne']({'_id':_0xa19521});}catch(_0x5052af){throw console['error']('Erro\x20ao\x20deletar\x20chat:',_0x5052af),_0x5052af;}}},qt=class extends x{constructor(_0x3768c8,_0xd4487b,_0x5bce3c){const _0x1f0320=a0_0x156424;super(_0xd4487b),this['cacheContactModel']=_0x3768c8,this[_0x1f0320(0x2b4)]=_0xd4487b,this['dbConnection']=_0x5bce3c;}async[a0_0x156424(0x6b2)](_0x4c0b8c){const _0x1d3a52=a0_0x156424;if(_0x4c0b8c[_0x1d3a52(0x476)]!==0x0)try{return{'insertCount':(await this['cacheContactModel'][_0x1d3a52(0x51e)]([..._0x4c0b8c]))[_0x1d3a52(0x476)]};}catch(_0x41a10a){return _0x41a10a;}}async[a0_0x156424(0x2ab)](_0x39264e,_0x2fecdb){const _0x3eb688=a0_0x156424;try{let _0x5b8fcc=T(_0x39264e[_0x3eb688(0x4e9)]);return{'updatedCount':(await this[_0x3eb688(0x168)]['updateMany'](_0x5b8fcc,{'$set':_0x2fecdb}))['modifiedCount']};}catch(_0x453e39){return console[_0x3eb688(0x363)](_0x3eb688(0x3ac),_0x453e39),{'error':_0x453e39[_0x3eb688(0x50d)]()};}}async[a0_0x156424(0x607)](_0x2440b1){const _0x1c65c2=a0_0x156424;try{let _0x2a91ac={'_id':{'$in':_0x2440b1}};return await this[_0x1c65c2(0x168)][_0x1c65c2(0x5ae)](_0x2a91ac)[_0x1c65c2(0x53b)]();}catch(_0x126c55){return console[_0x1c65c2(0x363)](_0x1c65c2(0x56b),_0x126c55),[];}}async['delete'](_0x525239){const _0x517845=a0_0x156424;try{return{'deletedCount':(await this['cacheContactModel'][_0x517845(0x1c5)]({..._0x525239[_0x517845(0x4e9)]}))[_0x517845(0x715)]};}catch(_0x1c495f){return{'error':_0x1c495f?.[_0x517845(0x50d)]()};}}async['find'](_0x3567d5){const _0x3a6257=a0_0x156424;try{let _0x2f45e1=T(_0x3567d5[_0x3a6257(0x4e9)]);return await this['cacheContactModel'][_0x3a6257(0x5ae)](_0x2f45e1)['limit'](_0x3567d5?.[_0x3a6257(0x717)]??0x0)[_0x3a6257(0x53b)]();}catch{return[];}}async[a0_0x156424(0x6d5)](_0x1b28a1){const _0x38ae62=a0_0x156424;try{let _0x1914b3=T(_0x1b28a1[_0x38ae62(0x4e9)]);return await this[_0x38ae62(0x168)][_0x38ae62(0x6d5)](_0x1914b3)['lean']();}catch{return null;}}},Vt=class extends x{[a0_0x156424(0x3f1)](_0x1eadfc){return ma(_0x1eadfc);}async[a0_0x156424(0x2e5)](_0x1426fd,_0x27badc,_0x4f54ce,_0x111780){const _0x3bab8a=a0_0x156424;try{let _0x3c62a7={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x111780},_0x2cdb6a=this['getLabelModelForOwner'](_0x4f54ce),_0x196b06=T(_0x1426fd['where']);return await _0x2cdb6a['findOneAndUpdate'](_0x196b06,{'$set':_0x27badc},_0x3c62a7);}catch(_0x4faada){return console[_0x3bab8a(0x363)](_0x4faada),null;}}async[a0_0x156424(0x5ae)](_0x45bfdc,_0x4a8a22){const _0x55652c=a0_0x156424;try{let _0x2332e8=this[_0x55652c(0x3f1)](_0x4a8a22),_0x12b113=T(_0x45bfdc[_0x55652c(0x4e9)]);return await _0x2332e8[_0x55652c(0x5ae)](_0x12b113);}catch(_0x4698e9){console[_0x55652c(0x363)](_0x4698e9);}}async[a0_0x156424(0x4f4)](_0x2a6910,_0x2ca7a7){const _0x2f3730=a0_0x156424;try{let _0x486e1=this['getLabelModelForOwner'](_0x2ca7a7),_0x24142f=T(_0x2a6910['where']);await _0x486e1[_0x2f3730(0x1c5)](_0x24142f);}catch(_0x24846d){console[_0x2f3730(0x363)](_0x24846d);}}async[a0_0x156424(0x5bf)](_0x2d237c){const _0x559af7=a0_0x156424;try{return await this['getLabelModelForOwner'](_0x2d237c)[_0x559af7(0x3f5)][_0x559af7(0x4b1)](),{'success':!0x0};}catch(_0x47ca5c){return console[_0x559af7(0x363)](_0x47ca5c),{'success':!0x1,'error':_0x47ca5c};}}},Gt=class{constructor(_0xffd1da){this['waMonitor']=_0xffd1da;}async[a0_0x156424(0x13e)]({instanceName:_0x9f465f},_0x44ca03){const _0x4ee7e5=a0_0x156424;return await this[_0x4ee7e5(0x62f)]['waInstances'][_0x9f465f][_0x4ee7e5(0x13e)](_0x44ca03);}async[a0_0x156424(0x225)]({instanceName:_0x5b1f68},_0x4bcafb){const _0x3cff54=a0_0x156424;return await this[_0x3cff54(0x62f)][_0x3cff54(0x11a)][_0x5b1f68]['whatsappNumber'](_0x4bcafb);}async[a0_0x156424(0x6c6)]({instanceName:_0x13b1a7},_0x160b8b){const _0x17c08f=a0_0x156424;return await this['waMonitor'][_0x17c08f(0x11a)][_0x13b1a7][_0x17c08f(0x6c6)](_0x160b8b);}async[a0_0x156424(0xd1)]({instanceName:_0x14fe26},_0xfc23fc){const _0x2e3a27=a0_0x156424;return await this[_0x2e3a27(0x62f)][_0x2e3a27(0x11a)][_0x14fe26][_0x2e3a27(0x307)](_0xfc23fc);}async['archiveChat']({instanceName:_0x1d8f5a},_0x3460ec){const _0x2b056b=a0_0x156424;return await this[_0x2b056b(0x62f)][_0x2b056b(0x11a)][_0x1d8f5a]['archiveChat'](_0x3460ec);}async[a0_0x156424(0x6ee)]({instanceName:_0x308ef3},_0x572615){const _0x225f7f=a0_0x156424;return await this[_0x225f7f(0x62f)][_0x225f7f(0x11a)][_0x308ef3][_0x225f7f(0x6ee)](_0x572615);}async[a0_0x156424(0x13c)]({instanceName:_0x284e6d},_0x2f6c5a){const _0x518461=a0_0x156424;return await this[_0x518461(0x62f)]['waInstances'][_0x284e6d][_0x518461(0x5dc)](_0x2f6c5a[_0x518461(0xf2)]);}async[a0_0x156424(0x3bd)]({instanceName:_0x252eda},_0x8e52c){const _0x3f6253=a0_0x156424;return await this['waMonitor'][_0x3f6253(0x11a)][_0x252eda][_0x3f6253(0x3bd)](_0x8e52c[_0x3f6253(0xf2)]);}async['updatePresence']({instanceName:_0x462ac1},_0x1ed283){const _0x46f2eb=a0_0x156424;return await this['waMonitor']['waInstances'][_0x462ac1][_0x46f2eb(0x2a8)](_0x1ed283);}async[a0_0x156424(0xed)]({instanceName:_0x2fe378},_0x120982){const _0x545190=a0_0x156424;return await this[_0x545190(0x62f)][_0x545190(0x11a)][_0x2fe378]['fetchContacts'](_0x120982);}async[a0_0x156424(0x3cd)]({instanceName:_0x2ab512},_0x3f12e5){const _0x2831c2=a0_0x156424;return await this['waMonitor'][_0x2831c2(0x11a)][_0x2ab512]['getBase64FromMediaMessage'](_0x3f12e5);}async['fetchMessages']({instanceName:_0x3a4d1f},_0x490594){const _0xe27ee6=a0_0x156424;return await this['waMonitor'][_0xe27ee6(0x11a)][_0x3a4d1f]['fetchMessages'](_0x490594);}async['fetchLabels']({instanceName:_0x5c53e9}){const _0x557615=a0_0x156424;return await this[_0x557615(0x62f)]['waInstances'][_0x5c53e9]['fetchLabels']();}async[a0_0x156424(0x1e1)]({instanceName:_0xee606}){const _0x129320=a0_0x156424;return await this[_0x129320(0x62f)][_0x129320(0x11a)][_0xee606][_0x129320(0x1e1)]();}async['fetchPrivacySettings']({instanceName:_0x4016b7}){const _0x2d5ec3=a0_0x156424;return await this['waMonitor'][_0x2d5ec3(0x11a)][_0x4016b7]['fetchPrivacySettings']();}async['updatePrivacySettings']({instanceName:_0x375c3e},_0x527fff){const _0x176ec2=a0_0x156424;return await this[_0x176ec2(0x62f)][_0x176ec2(0x11a)][_0x375c3e][_0x176ec2(0x3db)](_0x527fff);}async['fetchBusinessProfile']({instanceName:_0x3e504c},_0x297598){const _0x160a3a=a0_0x156424;return await this['waMonitor']['waInstances'][_0x3e504c]['fetchBusinessProfile'](_0x297598[_0x160a3a(0xf2)]);}async[a0_0x156424(0x67a)]({instanceName:_0x261223},_0xf58494){const _0x2bf884=a0_0x156424;return await this[_0x2bf884(0x62f)][_0x2bf884(0x11a)][_0x261223]['updateProfileName'](_0xf58494['name']);}async[a0_0x156424(0x538)]({instanceName:_0x35d321},_0xa01f6d){const _0x33e3b5=a0_0x156424;return await this['waMonitor'][_0x33e3b5(0x11a)][_0x35d321]['updateProfileStatus'](_0xa01f6d['status']);}async['updateProfilePicture']({instanceName:_0x27b5ab},_0x3214d3){const _0x5afa18=a0_0x156424;return await this[_0x5afa18(0x62f)][_0x5afa18(0x11a)][_0x27b5ab][_0x5afa18(0x4fa)](_0x3214d3['picture']);}async[a0_0x156424(0xd2)]({instanceName:_0x1436d3},_0x250c6a){const _0x131c96=a0_0x156424;return await this[_0x131c96(0x62f)]['waInstances'][_0x1436d3][_0x131c96(0xd2)]();}},Ds=require(a0_0x156424(0x1a3)),Bt=class c{constructor(_0x457f27,_0x8bb137,_0x2a9b75,_0x326982,_0x58a7e4){const _0x4799d1=a0_0x156424;this[_0x4799d1(0x62f)]=_0x457f27,this[_0x4799d1(0x2b4)]=_0x8bb137,this['repository']=_0x2a9b75,this['eventEmitter']=_0x326982,this['authService']=_0x58a7e4,this[_0x4799d1(0x48b)]=new R(c['name']);}async['createInstance']({instanceName:_0x382abd,apikey:_0x5f094b,number:_0x4cd516,proxy:_0x189e14=!0x0}){const _0x3debeb=a0_0x156424;try{let _0x45b015=new Ce(this[_0x3debeb(0x2b4)],this['eventEmitter'],this[_0x3debeb(0x2c2)]);_0x45b015['instanceName']=_0x382abd,this[_0x3debeb(0x62f)][_0x3debeb(0x11a)][_0x45b015[_0x3debeb(0x194)]]=_0x45b015;let _0x3b57c8={};_0x5f094b?(await this['repository'][_0x3debeb(0x39b)][_0x3debeb(0x291)]({'apikey':_0x5f094b},_0x382abd),_0x3b57c8[_0x3debeb(0x70b)]=_0x5f094b):_0x3b57c8=await this['authService']['generateHash']({'instanceName':_0x45b015[_0x3debeb(0x194)]});let _0x18d973;if(_0x4cd516){if(_0x18d973=await this[_0x3debeb(0x406)](_0x4cd516),_0x18d973[_0x3debeb(0x363)])throw new I(_0x18d973[_0x3debeb(0x363)][_0x3debeb(0x50d)]());_0x4cd516=_0x18d973[_0x3debeb(0xf2)];}let _0x428d56;return await _0x45b015[_0x3debeb(0x212)](_0x4cd516),await(0x0,Ds[_0x3debeb(0x2e7)])(0x7d0),_0x428d56=_0x45b015['qrCode'],{'instance':{'instanceName':_0x45b015[_0x3debeb(0x194)],'status':'created'},'hash':_0x3b57c8,'qrcode':_0x428d56};}catch(_0x1d6f04){throw this['logger']['error'](_0x1d6f04),_0x1d6f04;}}async['connectToWhatsappController']({instanceName:_0x257249,number:_0x2a22f1=null}){const _0x3f4e33=a0_0x156424;try{let _0x63324d=this[_0x3f4e33(0x62f)][_0x3f4e33(0x11a)][_0x257249];switch(_0x63324d?.[_0x3f4e33(0x62b)]?.['state']){case _0x3f4e33(0x314):return await _0x63324d['connectToWhatsapp'](_0x2a22f1),await(0x0,Ds[_0x3f4e33(0x2e7)])(0x7d0),_0x63324d[_0x3f4e33(0x5fa)];case _0x3f4e33(0x795):return _0x63324d[_0x3f4e33(0x5fa)];default:return await this[_0x3f4e33(0x13b)]({'instanceName':_0x257249});}}catch(_0x132348){this['logger'][_0x3f4e33(0x155)](_0x132348);}}async[a0_0x156424(0x13b)]({instanceName:_0x1c25c3}){const _0x5ab565=a0_0x156424;let _0x5e7c8f=this[_0x5ab565(0x62f)][_0x5ab565(0x11a)][_0x1c25c3][_0x5ab565(0x62b)],_0x45dc43=null;_0x5e7c8f[_0x5ab565(0x758)]===_0x5ab565(0x3a9)&&_0x1c25c3&&(_0x45dc43=await this[_0x5ab565(0x62f)]['instanceInfo'](_0x1c25c3));let _0x159483=null;return _0x5e7c8f['state']===_0x5ab565(0x795)&&_0x1c25c3&&(_0x159483=this[_0x5ab565(0x62f)]['waInstances'][_0x1c25c3][_0x5ab565(0x5fa)]),{'instance':_0x1c25c3,'connectionStatus':_0x5e7c8f,'instanceInfo':_0x45dc43,'qrcode':_0x159483};}async['verifyWhatsAppNumber'](_0x28984f){const _0x4a5f90=a0_0x156424;_0x28984f=_0x28984f[_0x4a5f90(0x367)](/\D/g,'');let _0x138f37=Object[_0x4a5f90(0x153)](this[_0x4a5f90(0x62f)]['waInstances'])['filter'](_0x530180=>{const _0x36e2f7=_0x4a5f90;let _0xa836f8=this[_0x36e2f7(0x62f)][_0x36e2f7(0x11a)][_0x530180];return _0xa836f8&&_0xa836f8[_0x36e2f7(0x62b)]&&_0xa836f8[_0x36e2f7(0x62b)][_0x36e2f7(0x758)]===_0x36e2f7(0x3a9);});if(_0x138f37['length']===0x0)return{'number':this['formatBRNumber'](_0x28984f)};let _0x1b60ea=Math[_0x4a5f90(0x3ef)](Math[_0x4a5f90(0x1cb)]()*_0x138f37[_0x4a5f90(0x476)]),_0x102a2a=_0x138f37[_0x1b60ea];try{let _0x2cedff=(await this[_0x4a5f90(0x62f)]['waInstances'][_0x102a2a][_0x4a5f90(0x225)]({'numbers':[_0x28984f]}))[_0x4a5f90(0x571)]();return _0x2cedff['exists']?{'number':_0x2cedff['jid'][_0x4a5f90(0x367)](_0x4a5f90(0x4e2),'')}:{'number':_0x28984f,'error':_0x4a5f90(0x2fb)};}catch(_0x1cd8a2){return this[_0x4a5f90(0x48b)][_0x4a5f90(0x363)](_0x4a5f90(0x698)+_0x1cd8a2),{'number':_0x28984f,'error':_0x4a5f90(0x1cd)};}}['formatBRNumber'](_0x29ace0){let _0x256136=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x29ace0);if(_0x256136&&_0x256136[0x1]==='55'){let _0x405aab=_0x256136[0x2],_0x262dd7=_0x256136[0x3],_0x829e48=_0x256136[0x4];if(parseInt(_0x405aab)>=0x1f&&_0x262dd7==='9')return _0x256136[0x1]+_0x405aab+_0x829e48;}return _0x29ace0;}async['restartInstance']({instanceName:_0x393781}){const _0x190491=a0_0x156424;try{return this['waMonitor']['waInstances'][_0x393781]?.[_0x190491(0x439)]?.['ws']?.['close'](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0x190491(0x50a)}};}catch(_0x2a3f1c){this[_0x190491(0x48b)][_0x190491(0x363)](_0x2a3f1c);}}async['fetchInstances']({instanceName:_0x31553e}){const _0x598c6b=a0_0x156424;return _0x31553e?this[_0x598c6b(0x62f)][_0x598c6b(0x298)](_0x31553e):this['waMonitor'][_0x598c6b(0x298)]();}async[a0_0x156424(0x705)]({instanceName:_0x8af0db}){const _0x200d16=a0_0x156424;try{return await this[_0x200d16(0x62f)][_0x200d16(0x11a)][_0x8af0db]?.[_0x200d16(0x439)]?.[_0x200d16(0x705)]('Log\x20out\x20instance:\x20'+_0x8af0db),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x236121){throw new I(_0x236121['toString']());}}async[a0_0x156424(0x3fd)]({instanceName:_0x238c56}){const _0x9c8db7=a0_0x156424;if((await this[_0x9c8db7(0x13b)]({'instanceName':_0x238c56}))[_0x9c8db7(0x62b)][_0x9c8db7(0x758)]==='open')throw new m([_0x9c8db7(0x504),_0x9c8db7(0x6ad)]);try{return delete this[_0x9c8db7(0x62f)][_0x9c8db7(0x11a)][_0x238c56],{'error':!0x1,'message':_0x9c8db7(0x595)};}catch(_0xb286b3){throw new m(_0xb286b3[_0x9c8db7(0x50d)]());}}},te=require(a0_0x156424(0x732)),Wt=class{constructor(_0xe750e4){const _0x3af0da=a0_0x156424;this[_0x3af0da(0x62f)]=_0xe750e4;}async[a0_0x156424(0x36d)]({instanceName:_0x15a3e6},_0xbee50e){const _0x259590=a0_0x156424;return await this[_0x259590(0x62f)][_0x259590(0x11a)][_0x15a3e6][_0x259590(0x3c1)](_0xbee50e);}async[a0_0x156424(0x33c)]({instanceName:_0x4539eb},_0x213d94){const _0x53e97d=a0_0x156424;return await this[_0x53e97d(0x62f)][_0x53e97d(0x11a)][_0x4539eb][_0x53e97d(0x204)](_0x213d94);}async[a0_0x156424(0x2e8)]({instanceName:_0x24def9},_0x526da9){const _0x2aa461=a0_0x156424;if((0x0,te[_0x2aa461(0x187)])(_0x526da9?.[_0x2aa461(0xb4)]?.[_0x2aa461(0x582)])&&!_0x526da9?.[_0x2aa461(0xb4)]?.[_0x2aa461(0x6cf)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,te[_0x2aa461(0x223)])(_0x526da9?.[_0x2aa461(0xb4)]?.[_0x2aa461(0x582)])||(0x0,te[_0x2aa461(0x187)])(_0x526da9?.[_0x2aa461(0xb4)]?.[_0x2aa461(0x582)]))return await this[_0x2aa461(0x62f)]['waInstances'][_0x24def9][_0x2aa461(0xb4)](_0x526da9);throw new m(_0x2aa461(0x5ee));}async[a0_0x156424(0x738)]({instanceName:_0x31a476},_0x470fc0){const _0x10de93=a0_0x156424;if((0x0,te[_0x10de93(0x223)])(_0x470fc0[_0x10de93(0x149)][_0x10de93(0x49c)])||(0x0,te['isBase64'])(_0x470fc0[_0x10de93(0x149)][_0x10de93(0x49c)]))return await this['waMonitor'][_0x10de93(0x11a)][_0x31a476][_0x10de93(0x72c)](_0x470fc0);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async['sendWhatsAppAudio']({instanceName:_0x2624ef},_0x2ff598){const _0x237a51=a0_0x156424;if((0x0,te[_0x237a51(0x223)])(_0x2ff598[_0x237a51(0x401)][_0x237a51(0x5f8)])||(0x0,te[_0x237a51(0x187)])(_0x2ff598[_0x237a51(0x401)]['audio']))return await this[_0x237a51(0x62f)]['waInstances'][_0x2624ef][_0x237a51(0x505)](_0x2ff598);throw new m(_0x237a51(0x5ee));}async['sendButtons']({instanceName:_0x5a48d6},_0xf037ed){const _0x5c0159=a0_0x156424;if((0x0,te[_0x5c0159(0x187)])(_0xf037ed['buttonMessage'][_0x5c0159(0xb4)]?.[_0x5c0159(0x582)])&&!_0xf037ed[_0x5c0159(0x18a)]['mediaMessage']?.[_0x5c0159(0x6cf)])throw new m(_0x5c0159(0x5cc));return await this['waMonitor'][_0x5c0159(0x11a)][_0x5a48d6]['buttonMessage'](_0xf037ed);}async[a0_0x156424(0xd3)]({instanceName:_0xbfe907},_0x132b1d){const _0x5656ef=a0_0x156424;return await this[_0x5656ef(0x62f)][_0x5656ef(0x11a)][_0xbfe907][_0x5656ef(0x222)](_0x132b1d);}async['sendPoll']({instanceName:_0x272a1c},_0x173792){const _0x315cb8=a0_0x156424;return await this['waMonitor'][_0x315cb8(0x11a)][_0x272a1c]['pollMessage'](_0x173792);}async[a0_0x156424(0x565)]({instanceName:_0x59a13a},_0x13fc8a){const _0x5a0db3=a0_0x156424;return await this[_0x5a0db3(0x62f)][_0x5a0db3(0x11a)][_0x59a13a][_0x5a0db3(0x69e)](_0x13fc8a);}async[a0_0x156424(0x2c5)]({instanceName:_0xacd301},_0x4bf05f){const _0x2cf640=a0_0x156424;return await this[_0x2cf640(0x62f)][_0x2cf640(0x11a)][_0xacd301]['contactMessage'](_0x4bf05f);}async[a0_0x156424(0x2bc)]({instanceName:_0x3e8a37},_0x1eec32){const _0x1b8bed=a0_0x156424;if(!_0x1eec32[_0x1b8bed(0x6e4)][_0x1b8bed(0x393)]['match'](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x1b8bed(0x14e));return await this[_0x1b8bed(0x62f)]['waInstances'][_0x3e8a37][_0x1b8bed(0x6e4)](_0x1eec32);}async[a0_0x156424(0x11e)]({instanceName:_0xcdddf9},_0x676835){const _0x3ed37a=a0_0x156424;return await this[_0x3ed37a(0x62f)]['waInstances'][_0xcdddf9][_0x3ed37a(0x5ce)](_0x676835);}},Ei=require('jsonwebtoken'),_s=require(a0_0x156424(0x45e)),zt=class c{constructor(_0x1655ef,_0x36e35e,_0x1d07da){const _0x32e33f=a0_0x156424;this['configService']=_0x1655ef,this[_0x32e33f(0x62f)]=_0x36e35e,this[_0x32e33f(0x2c2)]=_0x1d07da,this[_0x32e33f(0x48b)]=new R(c[_0x32e33f(0x350)]);}async[a0_0x156424(0x6af)](_0x4f815c){const _0xe1913a=a0_0x156424;let _0x4b7301=this['configService'][_0xe1913a(0x2cb)](_0xe1913a(0x388))[_0xe1913a(0x17e)],_0x407e58=(0x0,Ei['sign'])({'instanceName':_0x4f815c[_0xe1913a(0x194)],'apiName':et,'tokenId':(0x0,_s['v4'])()},_0x4b7301['SECRET'],{'expiresIn':_0x4b7301[_0xe1913a(0xab)],'encoding':_0xe1913a(0x464),'subject':_0xe1913a(0x4b5)}),_0x190a05=await this['repository'][_0xe1913a(0x39b)][_0xe1913a(0x291)]({'jwt':_0x407e58},_0x4f815c['instanceName']);if(_0x190a05[_0xe1913a(0x363)])throw this[_0xe1913a(0x48b)][_0xe1913a(0x363)]({'localError':c[_0xe1913a(0x350)]+_0xe1913a(0x470),'error':_0x190a05[_0xe1913a(0x363)]}),new m(_0xe1913a(0x2f0),_0x190a05[_0xe1913a(0x363)]?.[_0xe1913a(0x50d)]());return{'jwt':_0x407e58};}async[a0_0x156424(0x70b)](_0x5e9c86){const _0x4184c9=a0_0x156424;let _0x1a77e5=(0x0,_s['v4'])()[_0x4184c9(0x427)](),_0x45a6c7=await this[_0x4184c9(0x2c2)][_0x4184c9(0x39b)][_0x4184c9(0x291)]({'apikey':_0x1a77e5},_0x5e9c86[_0x4184c9(0x194)]);if(_0x45a6c7[_0x4184c9(0x363)])throw this[_0x4184c9(0x48b)]['error']({'localError':c['name']+_0x4184c9(0x470),'error':_0x45a6c7[_0x4184c9(0x363)]}),new m('Authentication\x20error',_0x45a6c7[_0x4184c9(0x363)]?.[_0x4184c9(0x50d)]());return{'apikey':_0x1a77e5};}async['generateHash'](_0x1771a8){const _0x1ee7f9=a0_0x156424;let _0x4aa7fe=this[_0x1ee7f9(0x2b4)][_0x1ee7f9(0x2cb)](_0x1ee7f9(0x388));return await this[_0x4aa7fe[_0x1ee7f9(0x1ab)]](_0x1771a8);}},Ht=class{constructor(_0x49f8e6){const _0x26c44f=a0_0x156424;this[_0x26c44f(0x62f)]=_0x49f8e6;}async[a0_0x156424(0x60d)](_0xb26541,_0x495f49){const _0x1da852=a0_0x156424;return await this[_0x1da852(0x62f)][_0x1da852(0x11a)][_0xb26541[_0x1da852(0x194)]][_0x1da852(0x60d)](_0x495f49);}async[a0_0x156424(0xa2)](_0x5706dd,_0x317933){const _0x1bd56e=a0_0x156424;return await this[_0x1bd56e(0x62f)][_0x1bd56e(0x11a)][_0x5706dd['instanceName']][_0x1bd56e(0xa2)](_0x317933);}async[a0_0x156424(0x31e)](_0x4a2f3c,_0x217733){const _0x763b30=a0_0x156424;return await this[_0x763b30(0x62f)][_0x763b30(0x11a)][_0x4a2f3c['instanceName']][_0x763b30(0x31e)](_0x217733);}async[a0_0x156424(0x4f3)](_0x39c091,_0x333bc9){const _0x514a36=a0_0x156424;return await this[_0x514a36(0x62f)][_0x514a36(0x11a)][_0x39c091[_0x514a36(0x194)]][_0x514a36(0x4f3)](_0x333bc9);}async[a0_0x156424(0x453)](_0x432ec8,_0x32326f){const _0x48a7bc=a0_0x156424;return await this[_0x48a7bc(0x62f)][_0x48a7bc(0x11a)][_0x432ec8[_0x48a7bc(0x194)]][_0x48a7bc(0x453)](_0x32326f);}async[a0_0x156424(0x771)](_0x3a3f55,_0x47a09){const _0x3c36f2=a0_0x156424;return await this[_0x3c36f2(0x62f)][_0x3c36f2(0x11a)][_0x3a3f55[_0x3c36f2(0x194)]]['groupSetting'](_0x47a09);}async[a0_0x156424(0x285)](_0xf16c14,_0x564837){const _0x1c3f86=a0_0x156424;return await this[_0x1c3f86(0x62f)][_0x1c3f86(0x11a)][_0xf16c14[_0x1c3f86(0x194)]]['findGroup'](_0x564837);}async[a0_0x156424(0x496)](_0x14676e){const _0x48da83=a0_0x156424;return await this['waMonitor']['waInstances'][_0x14676e['instanceName']][_0x48da83(0x496)]();}async[a0_0x156424(0x2eb)](_0xdba4df,_0x3d57fa){const _0x261add=a0_0x156424;return await this[_0x261add(0x62f)]['waInstances'][_0xdba4df[_0x261add(0x194)]]['inviteCode'](_0x3d57fa);}async[a0_0x156424(0x686)](_0x41bd4b,_0x47a8ba){const _0x5daab9=a0_0x156424;return await this[_0x5daab9(0x62f)][_0x5daab9(0x11a)][_0x41bd4b[_0x5daab9(0x194)]]['joinGroup'](_0x47a8ba);}async[a0_0x156424(0x6d4)](_0x9c599d,_0x475f15){const _0x5c1f7b=a0_0x156424;return await this[_0x5c1f7b(0x62f)]['waInstances'][_0x9c599d[_0x5c1f7b(0x194)]][_0x5c1f7b(0x6d4)](_0x475f15);}async[a0_0x156424(0x5c5)](_0xe97cf9,_0x4f5eb9){const _0x5c7404=a0_0x156424;return await this[_0x5c7404(0x62f)]['waInstances'][_0xe97cf9[_0x5c7404(0x194)]][_0x5c7404(0x5c5)](_0x4f5eb9);}async[a0_0x156424(0x185)](_0x2952f1,_0x3b818b){const _0x18901e=a0_0x156424;return await this[_0x18901e(0x62f)]['waInstances'][_0x2952f1['instanceName']][_0x18901e(0x185)](_0x3b818b);}async[a0_0x156424(0x302)](_0x1bd8b1,_0x14d001){const _0xc6a0b2=a0_0x156424;return await this[_0xc6a0b2(0x62f)]['waInstances'][_0x1bd8b1[_0xc6a0b2(0x194)]]['updateGParticipant'](_0x14d001);}async['toggleEphemeral'](_0x2e682e,_0x3dfb67){const _0x357d83=a0_0x156424;return await this['waMonitor'][_0x357d83(0x11a)][_0x2e682e['instanceName']]['toggleEphemeral'](_0x3dfb67);}async['leaveGroup'](_0x3ba637,_0x29a789){const _0x3eb24a=a0_0x156424;return await this['waMonitor'][_0x3eb24a(0x11a)][_0x3ba637[_0x3eb24a(0x194)]]['leaveGroup'](_0x29a789);}},Kt=class{constructor(_0x2f4908){const _0x1267e3=a0_0x156424;this[_0x1267e3(0x62f)]=_0x2f4908;}[a0_0x156424(0x291)](_0x4f64cb,_0x4a26e3){const _0x567a42=a0_0x156424;return this[_0x567a42(0x62f)]['waInstances'][_0x4f64cb[_0x567a42(0x194)]]['setWebhook'](_0x4a26e3);}async[a0_0x156424(0x5ae)](_0x15fd01){const _0x389522=a0_0x156424;try{return await this[_0x389522(0x62f)][_0x389522(0x11a)][_0x15fd01[_0x389522(0x194)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},Cp=new R(a0_0x156424(0x169)),Qt=class{constructor(_0x24f7c2){this['waMonitor']=_0x24f7c2;}async[a0_0x156424(0x121)](_0x43f8f1,_0x30ce5b){const _0x5b6202=a0_0x156424;return await this[_0x5b6202(0x62f)]['waInstances'][_0x43f8f1['instanceName']][_0x5b6202(0x121)](_0x30ce5b);}async[a0_0x156424(0x5fe)](_0x12cf8f){const _0x170913=a0_0x156424;return await this['waMonitor']['waInstances'][_0x12cf8f[_0x170913(0x194)]]['getScheduleMessage']();}async[a0_0x156424(0x606)](_0x1d5b4c){const _0x432a57=a0_0x156424;return await this[_0x432a57(0x62f)][_0x432a57(0x11a)][_0x1d5b4c[_0x432a57(0x194)]][_0x432a57(0x606)]();}async[a0_0x156424(0x220)](_0x15e006){const _0x55dbde=a0_0x156424;return await this[_0x55dbde(0x62f)][_0x55dbde(0x11a)][_0x15e006[_0x55dbde(0x194)]][_0x55dbde(0x220)]();}async[a0_0x156424(0x3f4)](_0x5944a4,_0x1e8f56){const _0x4d1202=a0_0x156424;return await this[_0x4d1202(0x62f)]['waInstances'][_0x5944a4['instanceName']][_0x4d1202(0x3f4)](_0x1e8f56);}async['updateCustomFields'](_0x11b090,_0x5a27a9){const _0x41f7a4=a0_0x156424;return await this[_0x41f7a4(0x62f)]['waInstances'][_0x11b090[_0x41f7a4(0x194)]][_0x41f7a4(0x6ba)](_0x5a27a9);}async['updateAutoCompleteMessages'](_0x1676de,_0x4fcb13){const _0x51be76=a0_0x156424;return await this['waMonitor']['waInstances'][_0x1676de['instanceName']][_0x51be76(0x15a)](_0x4fcb13);}async['updateFlowConfig'](_0x561303,_0xde2c09){const _0x5a09c8=a0_0x156424;return await this['waMonitor']['waInstances'][_0x561303[_0x5a09c8(0x194)]][_0x5a09c8(0x1d2)](_0xde2c09);}async['startFlow'](_0x554ba4,_0x4c9f0e){const _0xeae948=a0_0x156424;return await this[_0xeae948(0x62f)]['waInstances'][_0x554ba4[_0xeae948(0x194)]][_0xeae948(0x73f)](_0x4c9f0e);}async['startFlowWebhook'](_0x130cee,_0x4bfe19,_0xaa394e,_0x5d45ea){const _0x57621d=a0_0x156424;return await this['waMonitor'][_0x57621d(0x11a)][_0x130cee]['startFlowWebhook'](_0x4bfe19,_0xaa394e,_0x5d45ea);}async[a0_0x156424(0xb0)](_0x16e8eb,_0x18c0b2){const _0x46dd6e=a0_0x156424;return await this[_0x46dd6e(0x62f)][_0x46dd6e(0x11a)][_0x16e8eb[_0x46dd6e(0x194)]][_0x46dd6e(0xb0)](_0x18c0b2);}async['fetchConversation'](_0xe78ee,_0x9ffb60){const _0x2fc2d0=a0_0x156424;return await this[_0x2fc2d0(0x62f)][_0x2fc2d0(0x11a)][_0xe78ee[_0x2fc2d0(0x194)]]['fetchConversation'](_0x9ffb60);}async[a0_0x156424(0x1b4)](_0x2e6cd8,_0x2a81b8){const _0x434043=a0_0x156424;return await this[_0x434043(0x62f)][_0x434043(0x11a)][_0x2e6cd8['instanceName']][_0x434043(0x1b4)](_0x2a81b8);}async[a0_0x156424(0x2ac)](_0x265f22,_0x44d366){const _0xe010e2=a0_0x156424;return await this[_0xe010e2(0x62f)][_0xe010e2(0x11a)][_0x265f22[_0xe010e2(0x194)]][_0xe010e2(0x2ac)](_0x44d366);}async[a0_0x156424(0x4aa)](_0x3f11ae,_0x40fbe0){const _0x49c6d9=a0_0x156424;return await this[_0x49c6d9(0x62f)][_0x49c6d9(0x11a)][_0x3f11ae[_0x49c6d9(0x194)]][_0x49c6d9(0x4aa)](_0x40fbe0['name'],_0x40fbe0[_0x49c6d9(0x598)]);}async[a0_0x156424(0x1f1)](_0x3e5cd7,_0x33b545,_0x3b828d){const _0x265ac5=a0_0x156424;return await this[_0x265ac5(0x62f)][_0x265ac5(0x11a)][_0x3e5cd7[_0x265ac5(0x194)]]['createFlow'](_0x33b545,_0x3b828d);}async[a0_0x156424(0x3e7)](_0xa11510,_0x2b9c2e,_0x3b3250){const _0x1a4728=a0_0x156424;return await this[_0x1a4728(0x62f)]['waInstances'][_0xa11510['instanceName']][_0x1a4728(0x3e7)](_0x2b9c2e,_0x3b3250);}async[a0_0x156424(0x3f0)](_0x3c38be,_0x49d364,_0x5d2e0e){const _0x8a9539=a0_0x156424;return await this[_0x8a9539(0x62f)][_0x8a9539(0x11a)][_0x3c38be[_0x8a9539(0x194)]][_0x8a9539(0x3f0)](_0x49d364,_0x5d2e0e);}async['editFlowReply'](_0x142f45,_0x163c64,_0x153514){const _0x4adf84=a0_0x156424;return await this[_0x4adf84(0x62f)][_0x4adf84(0x11a)][_0x142f45[_0x4adf84(0x194)]][_0x4adf84(0x51a)](_0x163c64,_0x153514);}async[a0_0x156424(0x230)](_0x187db7,_0x2251e8,_0x593fd9){const _0x913c13=a0_0x156424;return await this[_0x913c13(0x62f)][_0x913c13(0x11a)][_0x187db7[_0x913c13(0x194)]][_0x913c13(0x230)](_0x2251e8,_0x593fd9);}async[a0_0x156424(0x32a)](_0x46385b,_0xa28c24,_0x1674e4){const _0x4ed15e=a0_0x156424;return await this[_0x4ed15e(0x62f)][_0x4ed15e(0x11a)][_0x46385b['instanceName']][_0x4ed15e(0x32a)](_0xa28c24,_0x1674e4);}async[a0_0x156424(0x434)](_0x152d76,_0x1a028d,_0x5dd244){const _0xb51287=a0_0x156424;return await this['waMonitor'][_0xb51287(0x11a)][_0x152d76['instanceName']]['editFlowVaredit'](_0x1a028d,_0x5dd244);}async[a0_0x156424(0x63d)](_0x5eee68,_0x4e33c2,_0x473ef5){const _0x15951c=a0_0x156424;return await this[_0x15951c(0x62f)][_0x15951c(0x11a)][_0x5eee68['instanceName']][_0x15951c(0x63d)](_0x4e33c2,_0x473ef5);}async['deleteFlow'](_0x17fb33,_0x101508,_0x33f806){const _0x21fb9b=a0_0x156424;return await this['waMonitor'][_0x21fb9b(0x11a)][_0x17fb33[_0x21fb9b(0x194)]][_0x21fb9b(0x114)](_0x101508,_0x33f806);}async['allFlows'](_0x2bc26a){const _0x1fb4f4=a0_0x156424;return await this[_0x1fb4f4(0x62f)][_0x1fb4f4(0x11a)][_0x2bc26a['instanceName']][_0x1fb4f4(0x6d1)]();}},Yt=class{constructor(_0xaf6e1c){const _0x5476f9=a0_0x156424;this[_0x5476f9(0x42a)]=_0xaf6e1c;}async['createWebhook'](_0x19011e,_0x2d054a){const _0x3c1d7d=a0_0x156424;return this[_0x3c1d7d(0x42a)]['create'](_0x19011e,_0x2d054a);}async['findWebhook'](_0x1e42e3){return this['webhookService']['find'](_0x1e42e3);}},Xt=class extends x{constructor(_0x8e65f2,_0x43f093){const _0x23d451=a0_0x156424;super(_0x43f093),this[_0x23d451(0x145)]=_0x8e65f2,this[_0x23d451(0x2b4)]=_0x43f093;}async['create'](_0x4296a9,_0x5c7d11){const _0x21dfc6=a0_0x156424;try{return this[_0x21dfc6(0x6c3)][_0x21dfc6(0x237)]?{'insertCount':(await this[_0x21dfc6(0x145)][_0x21dfc6(0x5a1)]({'_id':_0x5c7d11},{..._0x4296a9},{'upsert':!0x0}))['modifiedCount']}:{'insertCount':0x1};}catch(_0x4f818d){return _0x4f818d;}}async[a0_0x156424(0x4f4)](_0x58ef76){const _0x1fa970=a0_0x156424;try{if(this[_0x1fa970(0x6c3)][_0x1fa970(0x237)]){await this[_0x1fa970(0x145)]['deleteOne']({'_id':_0x58ef76});return;}}catch(_0x353ec8){return{'error':_0x353ec8};}}async[a0_0x156424(0x5ae)](_0x29574c){const _0x3a8aea=a0_0x156424;try{if(this[_0x3a8aea(0x6c3)][_0x3a8aea(0x237)])return await this[_0x3a8aea(0x145)][_0x3a8aea(0x6d5)]({'_id':_0x29574c});}catch{return{};}}},Zt=class extends x{constructor(_0x24829a,_0x2403b5){const _0x146a8d=a0_0x156424;super(_0x2403b5),this['authModel']=_0x24829a,this[_0x146a8d(0x2b4)]=_0x2403b5,this[_0x146a8d(0x39b)]=_0x2403b5[_0x146a8d(0x2cb)](_0x146a8d(0x388));}async[a0_0x156424(0x291)](_0x5d1c71,_0x7ea279){const _0x49600a=a0_0x156424;try{if(this[_0x49600a(0x6c3)][_0x49600a(0x237)])return{'insertCount':(await this[_0x49600a(0x6b1)]['updateOne']({'_id':_0x7ea279},{'$set':{..._0x5d1c71}},{'upsert':!0x0}))[_0x49600a(0x152)]};}catch(_0xc18ff8){return{'error':_0xc18ff8};}}async[a0_0x156424(0x259)](_0x36fe04,_0x375706){const _0x1d365a=a0_0x156424;try{if(this[_0x1d365a(0x6c3)]['ENABLED'])return{'insertCount':(await this[_0x1d365a(0x6b1)][_0x1d365a(0x2dc)](_0x36fe04,{'$set':_0x375706},{'upsert':!0x1}))['modifiedCount']};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x5dabe1){return{'error':_0x5dabe1};}}async[a0_0x156424(0x1c5)](_0x19f711){const _0x2faa48=a0_0x156424;try{if(this[_0x2faa48(0x6c3)][_0x2faa48(0x237)])return{'insertCount':(await this[_0x2faa48(0x6b1)][_0x2faa48(0x1c5)](_0x19f711))[_0x2faa48(0x715)]};throw new Error(_0x2faa48(0x5ef));}catch(_0x2b9f90){return{'error':_0x2b9f90};}}async['delete'](_0x424958){const _0x2ddd30=a0_0x156424;try{if(this[_0x2ddd30(0x6c3)]['ENABLED']){await this[_0x2ddd30(0x6b1)]['deleteOne']({'_id':_0x424958});return;}}catch(_0x4975bd){return{'error':_0x4975bd};}}async[a0_0x156424(0x5ae)](_0xa19237){const _0x194649=a0_0x156424;try{if(this[_0x194649(0x6c3)][_0x194649(0x237)])return await this['authModel']['findOne']({'_id':_0xa19237});}catch{return{};}}async['findAll'](){const _0x1f44e7=a0_0x156424;try{if(this[_0x1f44e7(0x6c3)][_0x1f44e7(0x237)])return await this['authModel'][_0x1f44e7(0x5ae)]();}catch{return[];}}},es=class extends x{['getFlowModelForOwner'](_0x39d36b){return da(_0x39d36b);}async[a0_0x156424(0x4f4)](_0x435471,_0x55a364){const _0x82b42=a0_0x156424;try{let _0x27d80f=this[_0x82b42(0x339)](_0x55a364),_0x4b7ee5=T(_0x435471[_0x82b42(0x4e9)]);return{'deletedCount':(await _0x27d80f[_0x82b42(0x1c5)](_0x4b7ee5))['deletedCount']};}catch(_0x2b42fb){return{'error':_0x2b42fb?.[_0x82b42(0x50d)]()};}}async['deleteOne'](_0x1283e4,_0xaf9e87){const _0x41d541=a0_0x156424;try{let _0x1245b7=this[_0x41d541(0x339)](_0xaf9e87),_0x448459=T(_0x1283e4[_0x41d541(0x4e9)]);return{'deletedCount':(await _0x1245b7['deleteOne'](_0x448459))[_0x41d541(0x715)]};}catch(_0x5070a1){return{'error':_0x5070a1?.[_0x41d541(0x50d)]()};}}async['replaceOne'](_0x311fde,_0x8650bb,_0x227db8){const _0x418401=a0_0x156424;try{let _0xe1414b=await this[_0x418401(0x339)](_0x227db8)[_0x418401(0x5e7)](_0x311fde,_0x8650bb,{'overwrite':!0x0,'new':!0x0});return _0xe1414b||(console['error']('Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:',_0x311fde),null);}catch(_0x74f7e0){return console[_0x418401(0x363)]('Erro\x20ao\x20atualizar\x20o\x20fluxo:',_0x74f7e0),null;}}async[a0_0x156424(0x2e5)](_0xa729a5,_0x310c5a,_0x30f069){const _0x5613a7=a0_0x156424;try{let _0x31f51d=await this[_0x5613a7(0x339)](_0x30f069)[_0x5613a7(0x636)](_0xa729a5);return _0x31f51d?(Object[_0x5613a7(0x263)](_0x31f51d,_0x310c5a),await _0x31f51d[_0x5613a7(0x751)]()):(console[_0x5613a7(0x363)](_0x5613a7(0x657),_0xa729a5),null);}catch(_0x298b1e){return console[_0x5613a7(0x363)]('Erro\x20ao\x20atualizar\x20o\x20fluxo:',_0x298b1e),null;}}async['findAndUpdate'](_0x57fc96,_0x38aefe,_0xd73a8c){const _0x46ae5b=a0_0x156424;try{let _0x19bf25=this['getFlowModelForOwner'](_0xd73a8c),_0x1d17ae=await _0x19bf25[_0x46ae5b(0x636)](_0x57fc96),_0x5d5237=await _0x19bf25[_0x46ae5b(0x6b8)]({'_id':_0x57fc96},_0x38aefe,{'new':!0x0,'runValidators':!0x0});return _0x5d5237||(console['log'](_0x46ae5b(0x533)+_0x57fc96+_0x46ae5b(0x387)+_0xd73a8c+_0x46ae5b(0xda)),null);}catch(_0x13fd6b){throw console['error'](_0x46ae5b(0x793),_0x13fd6b),_0x13fd6b;}}async[a0_0x156424(0x2fe)](_0x13b44c){const _0x40150b=a0_0x156424;try{let _0x2f7ed=this['getFlowModelForOwner'](_0x13b44c),_0x1185ef={'shareOwners':{'$exists':!0x1}},_0x4027e3={'$set':{'shareOwners':[]}};return(await _0x2f7ed['updateMany'](_0x1185ef,_0x4027e3))['modifiedCount'];}catch(_0x307898){return console[_0x40150b(0x363)](_0x307898),0x0;}}async[a0_0x156424(0x397)](_0x449598,_0x3303ad){const _0x3eafe5=a0_0x156424;try{let _0x15d6ed=this[_0x3eafe5(0x339)](_0x3303ad);return await new _0x15d6ed(_0x449598)['save']();}catch(_0x488df6){return console['error']('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x488df6),null;}}async[a0_0x156424(0x2dc)](_0x641485,_0x521f58,_0x5ef7f3){const _0x238c8d=a0_0x156424;try{return{'modifiedCount':(await this[_0x238c8d(0x339)](_0x5ef7f3)[_0x238c8d(0x2dc)](_0x641485,{'$set':_0x521f58}))[_0x238c8d(0x152)]};}catch(_0x55791f){return console[_0x238c8d(0x363)](_0x238c8d(0x57e),_0x55791f),{'error':_0x55791f};}}async[a0_0x156424(0x6de)](_0x1ce7fc,_0xb70ad5){const _0x33a8c5=a0_0x156424;try{let _0x267072=this[_0x33a8c5(0x339)](_0xb70ad5),_0x4c892d=T(_0x1ce7fc[_0x33a8c5(0x4e9)]);return await _0x267072[_0x33a8c5(0x5ae)](_0x4c892d)[_0x33a8c5(0x717)](_0x1ce7fc?.['limit']??0x0)[_0x33a8c5(0x53b)]();}catch{return[];}}async[a0_0x156424(0x6d5)](_0x444004,_0x3026bc){const _0x3a397d=a0_0x156424;try{let _0x1f412a=this['getFlowModelForOwner'](_0x3026bc),_0x50df2b=T(_0x444004[_0x3a397d(0x4e9)]);return await _0x1f412a[_0x3a397d(0x6d5)](_0x50df2b)[_0x3a397d(0x53b)]();}catch{return null;}}async[a0_0x156424(0x5bf)](_0x243dad){const _0x219f95=a0_0x156424;try{return await this[_0x219f95(0x339)](_0x243dad)[_0x219f95(0x3f5)]['drop'](),{'success':!0x0};}catch(_0x54de89){return console['error'](_0x54de89),{'success':!0x1,'error':_0x54de89};}}},ts=class extends x{[a0_0x156424(0x6ac)](_0x2bac2d){return pa(_0x2bac2d);}async[a0_0x156424(0x6b2)](_0x10fc1f){const _0x36a1c7=a0_0x156424;if(_0x10fc1f[_0x36a1c7(0x476)]!==0x0)try{return{'insertCount':(await this['getConversationModelForOwner'](_0x10fc1f[0x0][_0x36a1c7(0x585)])[_0x36a1c7(0x51e)]([..._0x10fc1f]))[_0x36a1c7(0x476)]};}catch(_0x25f003){return _0x25f003;}}async[a0_0x156424(0x4f4)](_0x955852,_0x4b54fb){const _0xdb118b=a0_0x156424;try{let _0x31d229=this['getConversationModelForOwner'](_0x4b54fb),_0x70b968=T(_0x955852[_0xdb118b(0x4e9)]);return{'deletedCount':(await _0x31d229['deleteMany'](_0x70b968))[_0xdb118b(0x715)]};}catch(_0x3c5848){return{'error':_0x3c5848?.[_0xdb118b(0x50d)]()};}}async[a0_0x156424(0x3b7)](_0x35e39d,_0x25825e){const _0x2a1ff7=a0_0x156424;try{let _0x5dd707=this['getConversationModelForOwner'](_0x25825e),_0xeb989b=T(_0x35e39d[_0x2a1ff7(0x4e9)]);return{'deletedCount':(await _0x5dd707[_0x2a1ff7(0x3b7)](_0xeb989b))[_0x2a1ff7(0x715)]};}catch(_0x4f1497){return{'error':_0x4f1497?.[_0x2a1ff7(0x50d)]()};}}async[a0_0x156424(0x2ab)](_0x3f4e9d,_0x56309e){const _0x5d4960=a0_0x156424;try{if(_0x3f4e9d['length']===0x0)return;let _0x5a3e4b=this['getConversationModelForOwner'](_0x56309e),_0x4d0ab2=_0x3f4e9d[_0x5d4960(0x5ad)](_0x3040cd=>({'updateOne':{'filter':{'name':_0x3040cd[_0x5d4960(0x350)],'owner':_0x56309e},'update':{..._0x3040cd}}})),{modifiedCount:_0x14b60f}=await _0x5a3e4b['bulkWrite'](_0x4d0ab2);return{'insertCount':_0x14b60f};}catch{return;}}async[a0_0x156424(0x2dc)](_0x297e26,_0x56902f,_0x335c40){const _0x1810bb=a0_0x156424;try{return{'modifiedCount':(await this[_0x1810bb(0x6ac)](_0x335c40)[_0x1810bb(0x2dc)](_0x297e26,{'$set':_0x56902f})[_0x1810bb(0xf1)]())['modifiedCount']};}catch(_0x32151f){return console[_0x1810bb(0x363)](_0x1810bb(0x66a),_0x32151f),{'error':_0x32151f};}}async[a0_0x156424(0x2e5)](_0x8b655c,_0x21fc76,_0x2961b8){const _0x40dd30=a0_0x156424;try{return await this[_0x40dd30(0x6ac)](_0x2961b8)[_0x40dd30(0x6b8)]({'_id':_0x8b655c},{'$set':_0x21fc76},{'new':!0x0,'upsert':!0x0})[_0x40dd30(0x53b)]();}catch(_0x5df55e){return console['error'](_0x5df55e),null;}}async[a0_0x156424(0x5ae)](_0x2b23b2,_0x447dfb){const _0x16f591=a0_0x156424;try{return await this['getConversationModelForOwner'](_0x447dfb)[_0x16f591(0x5ae)](_0x2b23b2)['sort']({'lastInteraction':-0x1})[_0x16f591(0x53b)]();}catch{return[];}}async[a0_0x156424(0x6d5)](_0x1cb23f,_0xf5cdc7){const _0x218958=a0_0x156424;try{return await this[_0x218958(0x6ac)](_0xf5cdc7)[_0x218958(0x6d5)]({..._0x1cb23f[_0x218958(0x4e9)]})[_0x218958(0x53b)]();}catch{return null;}}async[a0_0x156424(0x5bf)](_0x3e1746){const _0x3a3e55=a0_0x156424;try{return await this['getConversationModelForOwner'](_0x3e1746)['collection'][_0x3a3e55(0x4b1)](),{'success':!0x0};}catch(_0x3b27a5){return console[_0x3a3e55(0x363)](_0x3b27a5),{'success':!0x1,'error':_0x3b27a5};}}},ss=class extends x{[a0_0x156424(0x4a1)](_0x42ab7e){return ha(_0x42ab7e);}async[a0_0x156424(0x397)](_0x43b8a8,_0x5aa078){const _0x3af337=a0_0x156424;try{let _0xbd0e5c=this[_0x3af337(0x4a1)](_0x5aa078);return await new _0xbd0e5c(_0x43b8a8)['save']();}catch(_0x3444c7){return console['error']('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x3444c7),null;}}async[a0_0x156424(0x3b7)](_0x10a823,_0x235aa4){const _0x541a44=a0_0x156424;try{return await this[_0x541a44(0x4a1)](_0x235aa4)[_0x541a44(0x760)](_0x10a823),{};}catch(_0x3b89d3){return{'error':_0x3b89d3?.['toString']()};}}async[a0_0x156424(0x2e5)](_0x149a8b,_0x1d3849,_0xf0d6f4){const _0x3c9ece=a0_0x156424;try{return await this['getScheduleMessageModelForOwner'](_0xf0d6f4)[_0x3c9ece(0x6b8)](_0x149a8b,{'$set':_0x1d3849},{'new':!0x0})[_0x3c9ece(0x53b)]();}catch(_0x286493){return console[_0x3c9ece(0x363)](_0x3c9ece(0x6fd),_0x286493),null;}}async[a0_0x156424(0x2cd)](_0x247d88,_0x5f44a8,_0x1a6614){const _0x39327c=a0_0x156424;try{return await this[_0x39327c(0x4a1)](_0x1a6614)['findByIdAndUpdate'](_0x247d88,_0x5f44a8,{'new':!0x0})[_0x39327c(0x53b)]();}catch(_0x32215c){return console[_0x39327c(0x363)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x32215c),null;}}async[a0_0x156424(0x5ae)](_0x22af9c,_0x41a0b5){const _0x5d498=a0_0x156424;try{return await this[_0x5d498(0x4a1)](_0x41a0b5)[_0x5d498(0x5ae)](_0x22af9c[_0x5d498(0x4e9)])[_0x5d498(0x717)](_0x22af9c?.[_0x5d498(0x717)]??0x0)[_0x5d498(0x660)]({'when':0x1})[_0x5d498(0x53b)]();}catch{return[];}}async['findOne'](_0x4e7af2,_0x1ccc37){const _0x542cf5=a0_0x156424;try{return await this[_0x542cf5(0x4a1)](_0x1ccc37)[_0x542cf5(0x6d5)](_0x4e7af2[_0x542cf5(0x4e9)])[_0x542cf5(0x660)]({'when':0x1})[_0x542cf5(0x53b)]();}catch{return null;}}async['findById'](_0xe7f4e4,_0x5595cc){const _0x9f9bb2=a0_0x156424;try{return await this[_0x9f9bb2(0x4a1)](_0x5595cc)[_0x9f9bb2(0x636)](_0xe7f4e4)[_0x9f9bb2(0x53b)]();}catch{return null;}}async[a0_0x156424(0x1c5)](_0x200825,_0x54a731){const _0x569275=a0_0x156424;try{return{'deletedCount':(await this[_0x569275(0x4a1)](_0x54a731)[_0x569275(0x1c5)](_0x200825))['deletedCount']};}catch(_0x46796f){return console[_0x569275(0x363)]('Erro\x20ao\x20deletar\x20mensagens:',_0x46796f),{'error':_0x46796f};}}async[a0_0x156424(0x5bf)](_0x1707a5){const _0x452324=a0_0x156424;try{return await this[_0x452324(0x4a1)](_0x1707a5)[_0x452324(0x3f5)][_0x452324(0x4b1)](),{'success':!0x0};}catch(_0x25bcb9){return console[_0x452324(0x363)](_0x25bcb9),{'success':!0x1,'error':_0x25bcb9};}}},as=class extends x{async[a0_0x156424(0x2ab)](_0x297dbf,_0x25b774){const _0x538ea2=a0_0x156424;try{if(this[_0x538ea2(0x6c3)][_0x538ea2(0x237)]){let _0x268bf8=await ve[_0x538ea2(0x6b8)]({'_id':_0x25b774},{'$set':_0x297dbf},{'new':!0x0});return console[_0x538ea2(0x155)](_0x538ea2(0x4b2),_0x268bf8),_0x268bf8;}}catch(_0x1b54c2){throw console[_0x538ea2(0x363)](_0x538ea2(0x14a),_0x1b54c2),_0x1b54c2;}}async[a0_0x156424(0x610)](_0x4f022d){const _0x5d33ac=a0_0x156424;try{let _0x3f5b02=await ve['findById'](_0x4f022d);return _0x3f5b02?_0x3f5b02[_0x5d33ac(0x38c)]||(_0x3f5b02['autoCompleteMessages']=[],await _0x3f5b02[_0x5d33ac(0x751)]()):(_0x3f5b02=new ve({'_id':_0x4f022d,'autoCompleteMessages':[]}),await _0x3f5b02[_0x5d33ac(0x751)]()),_0x3f5b02;}catch(_0x15a9a1){return _0x15a9a1[_0x5d33ac(0x5a0)]===0x2af8&&_0x15a9a1[_0x5d33ac(0x4b8)]&&_0x15a9a1[_0x5d33ac(0x4b8)]['autoCompleteMessages.command']?(console['error']('Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...'),await ve[_0x5d33ac(0x3f5)]['dropIndex']('autoCompleteMessages.command_1'),null):(console[_0x5d33ac(0x363)](_0x5d33ac(0x76a),_0x15a9a1),null);}}},$o=new R(a0_0x156424(0x36a)),Ao=new Be(S),Oo=new Ut(S),To=new at(S),Io=new qt(Zs,S),xo=new Xt(ra,S),Do=new Zt(aa,S),_o=new es(S),Po=new Vt(S),ko=new ts(S),jo=new ss(S),Lo=new as(S),ue=new Ve(Ao,Oo,To,Io,xo,Do,_o,ko,Po,jo,Lo,$?.[a0_0x156424(0x21b)]()),G=new Jt(ls,S,ue),Fo=new zt(S,G,ue),Jo=new Kt(G),Ms=new Yt(Jo),A=new Qt(G),ne=new Bt(G,S,ue,ls,Fo),B=new Wt(G),_=new Gt(G),q=new Ht(G);$o['info']('Module\x20-\x20ON');var Fh=require(a0_0x156424(0x512)),Ps=require('fs'),vi=O(require(a0_0x156424(0x3f3))),Ni=O(require('http')),_e=class c{static #e;static set[a0_0x156424(0x21e)](_0x433c64){this.#e=_0x433c64;}static get[a0_0x156424(0x3f3)](){const _0x27e2e6=a0_0x156424;let {FULLCHAIN:_0x496291,PRIVKEY:_0x3a7b62}=S['get'](_0x27e2e6(0x65a));return vi[_0x27e2e6(0x51d)]({'cert':(0x0,Ps['readFileSync'])(_0x496291),'key':(0x0,Ps[_0x27e2e6(0xde)])(_0x3a7b62)},c.#e);}static get[a0_0x156424(0x49b)](){const _0x4d75f6=a0_0x156424;return Ni[_0x4d75f6(0x51d)](c.#e);}},pe=O(require('fs')),Ii=O(require(a0_0x156424(0x5e8))),Pe=O(require(a0_0x156424(0x1c7))),je=O(require(a0_0x156424(0x1f5))),Le=require(a0_0x156424(0x216));function Uo(){const _0x310aa0=a0_0x156424;G[_0x310aa0(0x30b)]();let _0x56be58=je[_0x310aa0(0x72b)][_0x310aa0(0xdb)](__dirname,'downloads');Ti(_0x56be58);}var Ti=_0x533050=>{const _0x5e0361=a0_0x156424;let _0x15ba6f=pe['default'][_0x5e0361(0x736)](_0x533050),_0x31644c=0xc*0x3c*0x3c*0x3e8,_0x49dd2e=0x2*0x3c*0x3c*0x3e8,_0xc8b72c=new Date()[_0x5e0361(0x6bd)]();_0x15ba6f['forEach'](_0x59b95a=>{const _0x1449ec=_0x5e0361;let _0x5c8778=je[_0x1449ec(0x72b)][_0x1449ec(0xdb)](_0x533050,_0x59b95a),_0x5ce1a7=pe[_0x1449ec(0x72b)][_0x1449ec(0xa7)](_0x5c8778)[_0x1449ec(0x6d8)][_0x1449ec(0x6bd)]();_0xc8b72c-_0x5ce1a7>_0x31644c&&(pe[_0x1449ec(0x72b)]['unlinkSync'](_0x5c8778),console[_0x1449ec(0x155)]('Deleted\x20'+_0x59b95a));}),setTimeout(()=>Ti(_0x533050),_0x49dd2e);};function qo(){const _0x564f89=a0_0x156424;let _0x3e3aee=new R(_0x564f89(0x14f)),_0x107cf1=(0x0,he['default'])();_0x107cf1[_0x564f89(0x351)]((0x0,Oi['default'])({'origin'(_0x5eb3e0,_0x57cdd5){const _0x2d05ba=_0x564f89;let {ORIGIN:_0x2b1a3b}=S['get'](_0x2d05ba(0x219));return _0x5eb3e0||(_0x5eb3e0='*'),_0x2b1a3b[_0x2d05ba(0x39f)]('*')!==-0x1||_0x2b1a3b[_0x2d05ba(0x39f)](_0x5eb3e0)!==-0x1?_0x57cdd5(null,!0x0):_0x57cdd5(new Error(_0x2d05ba(0x281)));},'methods':[...S[_0x564f89(0x2cb)](_0x564f89(0x219))[_0x564f89(0xb2)]],'credentials':S[_0x564f89(0x2cb)](_0x564f89(0x219))[_0x564f89(0x472)]}),(0x0,he['urlencoded'])({'extended':!0x0,'limit':_0x564f89(0x462)}),(0x0,he['json'])({'limit':'50mb'})),_0x107cf1[_0x564f89(0x351)]((_0x2002bb,_0x71ada4,_0x4b5920)=>{const _0x378a83=_0x564f89;_0x2002bb[_0x378a83(0x1f5)][_0x378a83(0x278)](_0x378a83(0x443))?_0x4b5920():(0x0,Ai[_0x378a83(0x72b)])()(_0x2002bb,_0x71ada4,_0x4b5920);}),_0x107cf1[_0x564f89(0x6fc)](_0x564f89(0x24d),'hbs'),_0x107cf1['set'](_0x564f89(0x52d),(0x0,js[_0x564f89(0xdb)])(re,_0x564f89(0x52d))),_0x107cf1[_0x564f89(0x351)](he[_0x564f89(0x72b)][_0x564f89(0x370)]((0x0,js[_0x564f89(0xdb)])(re,'public'))),_0x107cf1['use']((_0x4fe099,_0x4157c0,_0x5f139b)=>{const _0x101e2a=_0x564f89;let _0x496b05=_0x4157c0['send'];_0x4157c0[_0x101e2a(0x304)]=function(_0x59d713){const _0x238c66=_0x101e2a;if(_0x4fe099[_0x238c66(0x1ba)][_0x238c66(0x1b2)]===_0x238c66(0x6cc)||_0x4fe099[_0x238c66(0x184)][_0x238c66(0x30d)]==='true'){let _0x3f4ef5=JSON[_0x238c66(0x3a0)](_0x59d713);_0x59d713=JSON[_0x238c66(0x389)](_0x148a56(_0x3f4ef5));}return _0x496b05[_0x238c66(0x144)](_0x4157c0,[_0x59d713]);},_0x5f139b();}),_0x107cf1[_0x564f89(0x351)]('/',Ie),_0x107cf1['use']((_0x1fac03,_0x3b1397,_0x19edf3,_0x12a3ff)=>{const _0x36ad0d=_0x564f89;if(_0x1fac03)return _0x19edf3['status'](_0x1fac03[_0x36ad0d(0x2f7)]||0x1f4)[_0x36ad0d(0x295)](_0x1fac03);},(_0x58d326,_0x3e140d,_0x3b339c)=>{const _0x5eb5bf=_0x564f89;let {method:_0x1fefef,url:_0xb9986}=_0x58d326;_0x3e140d['status'](0x194)[_0x5eb5bf(0x295)]({'status':0x194,'message':'Cannot\x20'+_0x1fefef[_0x5eb5bf(0x427)]()+'\x20'+_0xb9986,'error':_0x5eb5bf(0x4b9)}),_0x3b339c();});let _0x148a56=(_0x2d8446,_0x3c7a2d=_0x564f89(0x528))=>{const _0x4e7b1a=_0x564f89;let _0x1cc8a1=(_0x287c82,_0x50c2ff=null,_0x3b2698=!0x1)=>{let _0x4fc0cd={};return Object['keys'](_0x287c82)['forEach'](_0x171971=>{const _0x1e339b=a0_0x4ecf;let _0x514c3d=_0x287c82[_0x171971],_0x313070=''+_0x3c7a2d+_0x171971;_0x50c2ff&&!_0x3b2698&&(_0x313070=_0x50c2ff+'.'+_0x171971),!_0x514c3d&&_0x514c3d!==0x0&&_0x514c3d!==!0x1||typeof _0x514c3d>'u'?_0x4fc0cd[_0x313070]=null:typeof _0x514c3d!='object'&&!Array[_0x1e339b(0x2b8)](_0x514c3d)?_0x4fc0cd[_0x313070]=_0x514c3d:typeof _0x514c3d==_0x1e339b(0x666)&&!Array[_0x1e339b(0x2b8)](_0x514c3d)?_0x4fc0cd=Object[_0x1e339b(0x263)](_0x4fc0cd,_0x1cc8a1(_0x514c3d,_0x313070)):Array[_0x1e339b(0x2b8)](_0x514c3d)&&(typeof _0x514c3d[0x0]==_0x1e339b(0x666)?(_0x4fc0cd[_0x313070]=[],_0x514c3d['forEach'](_0x19ee23=>{const _0x5b801c=_0x1e339b;_0x4fc0cd[_0x313070][_0x5b801c(0x211)](_0x1cc8a1(_0x19ee23,_0x313070,!0x0));})):_0x4fc0cd[_0x313070]=_0x514c3d);}),_0x4fc0cd;};return Array['isArray'](_0x2d8446)?_0x2d8446[_0x4e7b1a(0x5ad)](_0x573a57=>_0x1cc8a1(_0x573a57)):typeof _0x2d8446==_0x4e7b1a(0x666)&&_0x2d8446!==null?_0x1cc8a1(_0x2d8446):{};},_0x169814=S['get'](_0x564f89(0x14f));_e[_0x564f89(0x21e)]=_0x107cf1;let _0xc798cc=_e[_0x169814['TYPE']],_0xa89839=_0x564f89(0x76f);_0xc798cc['listen'](_0x169814[_0x564f89(0x3e9)],()=>{const _0x3f2c37=_0x564f89;_0x3e3aee[_0x3f2c37(0x155)](_0xa89839),_0x3e3aee[_0x3f2c37(0x155)](_0x169814[_0x3f2c37(0x1ab)][_0x3f2c37(0x427)]()+_0x3f2c37(0xff)+_0x169814[_0x3f2c37(0x3e9)]);}),Uo(),zs();}var Vo=a0_0x156424(0x2c6),Go=je[a0_0x156424(0x72b)][a0_0x156424(0xdb)](__dirname,'./.git/config'),ke=null;function Bo(){return new Promise((_0x52d121,_0x4c7a15)=>{const _0x34fb04=a0_0x4ecf;pe[_0x34fb04(0x72b)]['readFile'](Go,'utf-8',(_0x372276,_0x38ad88)=>{const _0x615a0f=_0x34fb04;if(_0x372276){ke=_0x372276,_0x52d121();return;}Ii[_0x615a0f(0x72b)][_0x615a0f(0x3a0)](_0x38ad88)[_0x615a0f(0x23d)][_0x615a0f(0x1cf)]===Vo?(ke=null,_0x52d121()):(ke=new Error(_0x615a0f(0x33e)),_0x52d121());});});}async function Wo(){const _0x3d32ef=a0_0x156424;try{await Bo(),await Ls();}catch(_0x2d1471){console[_0x3d32ef(0x363)](_0x3d32ef(0x442)+_0x2d1471),process[_0x3d32ef(0x739)](0x1);}}function a0_0x26ab(){const _0x3f6e85=['flowConversation','https://uazapi-plugin.bubbleapps.io/?url=','readMessages','connectionStatus','ListMessage','deleteChat','AUTHENTICATION_API_KEY','waMonitor','mongodb://','updateMissingCustomFields','ConversationModel','verifiedName','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','convertToWebP','findById','MESSAGES_UPSERT','\x0a{\x20instance:\x20','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','pollMessageOnDelete','DATABASE_CONNECTION_USER','Rótulo\x20deletado:\x27,\x20','editFlowVariable','editflowvariable','ORG:','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','src','.mp3','replaceVariablesLogs','/wa-chats','cacheContact','toFile','reject','password','Error\x20in\x20scheduleNextCheck:\x20','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','stanzaId','getLastMessage','PENDING','participant','findIndex','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','Mensagens\x20deletadas\x20com\x20sucesso.','trim','contextInfo','write','Unauthorized','):\x20Query\x20params:\x20','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','/webhook','):\x20Chat\x20','SSL_CONF','\x1b[36m','):\x20Editando\x20grupo\x20do\x20fluxo...','):\x20Buscando\x20conversas...','segundos','apirequest','sort','dbInstance','store','readData','FlowRouter','STORE_MESSAGE','object','groupAcceptInvite','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','Erro\x20ao\x20editar\x20a\x20conversa','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','prepareMediaMessage','stderr','existsSync','getDelay','\x20chats\x20de\x20','groups.update','The\x20','groupJid','startFlowWebhook','\x20Tentativa\x20de\x20reconexão\x20','.docx','LOG','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','4418625bQHtPd','mentioned','updateProfileName','spawn','):Output\x20path:\x20','BRL','pollCreationMessageKey','contacts','Erro\x20ao\x20buscar\x20o\x20fluxo','Valor\x20inicial:\x20\x22','false','DATABASE_CONNECTION_URI','certonly','findGroup','joinGroup','\x20saindo\x20da\x20função','downloads','AUTHENTICATION_JWT_SECRET','\x20-y','unknown\x20operation\x20type\x20[','groupLeave','done','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','#92ceac','Erro\x20inesperado\x20em\x20processvaredits:\x20','\x22,\x20valor\x20a\x20substituir:\x20\x22','fetchBusinessProfile','):Temp\x20image\x20deleted','LabelModel','):\x20Procurando\x20mensagens\x20para\x20envio','processblock','truncatedtoEnd','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','events','DisconnectReason','connectionUpdate','):\x20Rótulo\x20atualizado:\x20','listMessage','title','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','unlinkSync','updateChatWithMessage','menuType','dbServer','fetchMessages','webp','eventHandler','SSL_CONF_PRIVKEY','):\x20Query\x20params:','awaitingApproval','pollMessage','getConversationModelForOwner','The\x20instance\x20needs\x20to\x20be\x20disconnected','finish','jwt','setting','authModel','insert','message','round','Close\x20connection','dark','Connection\x20closed\x20for\x20instance:\x20','findOneAndUpdate','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','updateCustomFields','sendMessageWithTyping','\x20global:\x20','getTime','muteEndTime','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','chatModify','DEBUG','announce','dbSettings','\x20adicionado\x20ao\x20chat\x20','chatLog','importChats','\x20quoted:\x20','#b4ebff','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','StatusJidList\x20is\x20required','forEach','true','\x20}\x0a','Error\x20fetching\x20and\x20updating\x20profile:\x20','fileName','BufferJSON','allFlows','editflowvaredit','content','groupGetInviteInfo','findOne','\x20ao\x20chat\x20','remove','birthtime','validate','delaySecMin','pollUpdateMessage','groupValidate','cors','findAll','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','lastSend','updateMissingTags','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','ObjectId','reactionMessage','count','leaveGroup','remoteJids','GET','instance','currency','send.message','unhandledRejection','):\x20Não\x20achou\x20nenhum\x20flow','deleteMessage','function','replaceVariablesInReplyOptions','originalUrl','instance.','contactMessage','timeInMinutes','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','http://checkip.dyndns.org','oldValue','isConnected','application/octet-stream','error_log','set','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','notContains','numbers','\x20:\x20','stopMinutes','\x20minutos\x20verificará\x20novas\x20mensagens','presence','\x1b[41m','logout','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.',',\x20Minutes\x20to\x20Close:\x20','videoMessage','lastDisconnect','connectToWhatsappController','apikey','address','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','flushHeaders','Missing\x20global\x20api\x20key','exists','/wa-message-update','createNewConversation','DOCKER_ENV','-instances','deletedCount','groupJoinApprovalMode','limit','varedits','arraybuffer','\x22\x20not\x20found','Conversa\x20deletada\x20com\x20sucesso.','createClient','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','empty','\x20inseridos\x20no\x20banco\x20de\x20dados...','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','lastFetchAwaitingApproval','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','URL','Falha\x20ao\x20processar\x20fetchBusinessProfile','):\x20Falha\x20ao\x20deletar\x20mensagem.','):Archiving\x20chat','text','Instance\x20Key\x20from\x20DB:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','sectionsToString','default','mediaSticker','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','createWebhook','utf-8','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','class-validator','#9ba6ff','last','Instance\x20ID:','readdirSync','expiration','sendSticker','exit','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','messages.set','CLEANING_INTERVAL','isBusiness','Falhou\x20ao\x20encontrar\x20chat\x20','startFlow','remoteJid','\x1b[31m','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','redis',']\x20(','flowConfig','messageHandle','application/json','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption',',\x20global:\x20','conversationTimestamp','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','delAll','routerPath','chat\x20não\x20encontrado','desc','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','save','):\x20leadInfoVariables','leadInfo','uazapiDeleteMessage','saveChatVariables','temp-','):\x20[messages.update]\x20group\x20ignored','state','#6f7bcf','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','updateReadReceiptsPrivacy','groupadd','/create','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','StartBot','findByIdAndDelete','activatedCount','call','isRunning','scheduleFlow','request\x20received\x20in\x20editFlowvariable','fetchInstances','Erro\x20de\x20reinicialização:\x20','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','pollCreationMessageV2','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','):\x20Current\x20Time:\x20','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','MessageModel','.ogv','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','contentText','groupSetting','createConnection','chatHandle','\x20segundos','\x20tentativas.','#d8e651','errors','ephemeralExpiration','env.KEY\x20!==\x20key','fromObject','):\x20Flow\x20desativado','telefone','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','redisEnv','connectedClient','firstValue','prefixCommand','createflow','execSync','LICENSE_INVALID','Erro\x20ao\x20editar\x20o\x20bloco:\x20','convertaudio','not\x20loaded','findGroupInfos','blockLogs','role','blockId','/media/','Database\x20connection\x20closed.','):\x20Editando\x20variável\x20do\x20fluxo...','bearer','Erro\x20ao\x20iniciar\x20fluxo:\x20','jsonwebtoken','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','Erro\x20ao\x20atualizar\x20o\x20documento:','automateSystem','connecting','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20',',\x20valor\x20a\x20encontrar:\x20\x22','getTicketSystem','del','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','updateGroupPicture','urlOrBase64','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','unavailable','):\x20newSecondValue\x20após\x20replaceVariables:','statSync','getMessageModelForOwner','/wa-all-message','closeExistingConversations','EXPIRIN_IN','getDevice','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','silent','upsertChats','getConversation','findAndReplaceRegex','METHODS','RemoveChatLabel','mediaMessage','ms\x20(tentativa\x20','leadInfo.etiquetas','replacer','SERVER_TYPE','hGetAll','capitalizedWords','content-type','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','greater','\x20->\x20CONFIRMADO.','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','uazapiSendLocation','lastSendMessage','group-participants.update','.mp4','):\x20Editando\x20bloco...','maxActives','STATUS_INSTANCE','userDevicesCache','creation','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','findAndReplace','delayChatLabel_RETRY_DELAY_MS','PRESENCE_UPDATE','ChatModel','):\x20\x27Deletando\x20fluxo,\x20name:\x20','start','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','readMessage','removeProfilePicture','sendLocation','StartID:','entries','sim','nomecompleto','):\x20Campos\x20a\x20serem\x20atualizados:','.doc','\x20não\x20encontrado.','join','subject','Message\x20not\x20found','readFileSync','available','All_Instances_Config','fileUrl','mongodb','Bloco\x20com\x20ID\x20','variablesToObject','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','setWebhook','padStart','GROUP_PARTICIPANTS_UPDATE','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','hDel','SEND_MESSAGE','fetchContacts','waitingMenu_id','):\x20Error\x20processing\x20the\x20block:\x20','etiquetas','exec','number','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','getMIMEType','info','flowStopConversation','Data\x20inválida\x20fornecida','LOG_LEVEL','fromMe','http://icanhazip.com/','fullName','hasOwnProperty','cachedData-whatsapp','labelId','\x20-\x20ON:\x20','flowActive','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','connectionClosed','delaySecMax','pictureUrl','AutomateSystem','\x0aFN:','sem\x20texto\x20na\x20mensagem','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','.\x20(ID:\x20','getChatModelForOwner','pollCreationMessageV3','labels.edit','21744dWtcaR','):\x20Buscando\x20flow,\x20name:\x20','cwd','last_update','\x20contacts','../env.yml','addresss','deleteFlow','digest','sendCommand','\x20foi\x20interrompido\x20pelo\x20usuário.','cachedContacts-whatsapp','@g.us','waInstances','sendMessageAck','audio/ogg;\x20codecs=opus','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','sendStatus','findAndUpdateCacheContact','dataValidate','editScheduleMessage','getUpdate','Selecione','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','subjectOwner','processUazapi','instanceName\x20not\x20provided.','groupRevokeInvite','isCommunity','reorderBlocks','.txt','):\x20customFieldVariables','fone','connection.update','linkPreview','messaging-history.set','request\x20received\x20in\x20createFlow','NextBlock','senderKeyDistributionMessage','unreadCount','Erro\x20na\x20função\x20updateChatWithMessage:\x20','type','Db\x20Connection','.uazapi.dev','Erro\x20ao\x20criar\x20fluxo\x20regular','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','connectionState','fetchProfilePicture',':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...','editChat','key','tags','/:instanceName','\x5c$&','INFO','apply','webhookModel','notify','ContactModel','CONTACTS_UPDATE','stickerMessage','Erro\x20ao\x20atualizar\x20AutomateSystem:','stoppedUntil','):\x20alterando\x20this.AutomateSystem','RECONNECT_TIME_FRAME','\x22reaction\x22\x20must\x20be\x20an\x20emoji','SERVER','env.yml','updateStatusPrivacy','modifiedCount','keys','contains','log','CORS_ORIGIN','desativadoFluxoAte','uazapiSendText','The\x20property\x20cannot\x20be\x20empty','updateAutoCompleteMessages','scheduleSendAudio','/wa-presence','getPrototypeOf','everyOne','\x1b[37m','authorization','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','poll','):\x20delete\x20=\x20true','reorderReplyOptions','subjectTime','replaceVariablesChat','blocks','cacheContactModel','FlowController','value','presence.update','Imagem\x20não\x20encontrada','request\x20received\x20in\x20getConversation','presenceSubscribe','):Notifying\x20clients\x20for\x20chat:\x20','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','isJidUser','REDIS_URI','all_member_add','substring','3UnMrBT','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','Comando\x20desconhecido','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','debug','evaluateConditionTest','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','Erro\x20ao\x20adicionar\x20label\x20','JWT','getContactModelForOwner','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','importChatsAntigo','endSession','label_jid','headers','findParticipants','):\x20Label\x20','isBase64','STORE_CLEANING_TERMINAL','READ','buttonMessage','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','deleteImportedChat','toLowerCase','createJid','size','):\x20Conversa\x20está\x20expirada\x20-\x20voto','dayjs','charAt','\x1b[46m','instanceName','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','footerText','MAX_RECONNECT_ATTEMPTS','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','header','creds.json','File\x20written\x20to\x20path:\x20','apiName',':\x20Erro\x20durante\x20loadproxy\x20-\x20','GROUPS_UPDATE','):\x20Flow\x20não\x20encontrado','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','saveVariable','valid','@whiskeysockets/baileys','statusJidList','rm\x20-rf\x20','\x22\x20-\x20NOT\x20CONNECTION','conversation','descOwner','.webp','cachedContact','TYPE','2mdLZjy','STORE_CHATS','profilePictureUrl','--agree-tos','ignoreGroups','#fe9dfe','convert','redirect','editConversation','noConnection','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','load','pollErrorMessage','block','query','getMessage','sharePass','Erro\x20ao\x20atualizar\x20o\x20flow.','request\x20received\x20in\x20scheduleMessage','reviver','release','#01d0e2','$dbName','sharp','Variáveis\x20não\x20encontradas:','deleteMany','pino','axios','messages','.error','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','random','envYaml','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','updateMediaMessage','url','\x20\x1b[0m','/wa-connection-update','updateFlowConfig','loadproxy','*\x0a\x0a','QRCODE_UPDATED','#ff9484','Font\x20is\x20required','env','/instance/create','Invalid\x20format','KEY','\x1b[30m%s\x1b[0m','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','Nenhum\x20participante\x20válido\x20encontrado.','\x0a*Você\x20respondeu*:\x0a','fetchChats','deleteflow','waitingMenu_replyOptions','color','processawaitSeconds','msgRetryCounterCache','Last\x20message\x20not\x20found\x20for\x20number:','updateConversation','archived','\x1b[33m','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','CONECTADO\x20À\x20UAZAPI','deleteMessageForEveryone','cleanStore','Sistema\x20atualizado\x20com\x20sucesso!','resetReconnectionVariables','createFlow','Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome','request\x20received\x20in\x20getFlow','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','path','detail','Erro\x20ao\x20alterar\x20privacidade','REDIS_PREFIX_KEY',',\x20data:\x20','DATABASE_CONNECTION_HOST','licenca','):\x20Error\x20processing\x20conditions:\x20','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','request\x20received\x20in\x20editFlowgroup','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','caption','URL:','CONTACTS_UPSERT','513762NkmXjK','menuMessage','https://jsonip.com','joinGroupValidate','ephemeralMessage','webhook','DARK','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','headerString','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','groups','https://chat.whatsapp.com/','_Labels','menuExpiredMessage','push','connectToWhatsapp','uazapiSendContact','data:\x20','PRODUCT_LIST','child_process','ultimaTentativaRemoteJid','groupRequestParticipantsList','CORS','iniciando\x20fluxo\x20router','getClient','_id','onTime','app','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','getAutomateSystem','request\x20received\x20in\x20editConversation','locationMessage','isURL','imagechat','whatsappNumber','context','.jpg','processing_id','success','request\x20received\x20in\x20deleteDoneMessages','\x20->\x20NÃO\x20CORRESPONDE.',',\x20Comparador:\x20','Fluxo\x20agendado\x20pelo\x20fluxo\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','convertedOptions','editFlowGroup','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','none','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','warn','createSharedFlow','synchronizeFlows','ENABLED','https://','shareOwners','PROXY','text/event-stream','/media','remote\x20\x22origin\x22','Error\x20in\x20chatModify\x20for\x20number\x20','Logger','allContacts','Types','closed','pairingCode','Esse\x20fluxo\x20expirou','crypto','\x20não\x20encontrado','https://api.openai.com/v1/audio/speech','status.instance','uazapiSendAudio','280tKXCWg','replaceValue','saveTextReply','view\x20engine','goToFlow','process','groupMetadata','values','addChatLabel','Erro\x20ao\x20alterar\x20fluxo','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','findLabels','announcement','/clients-info','toBRL','updateAll','min','mkdirSync','conditions','Chat\x20com\x20ID\x20','lastMessage','organization','superadmin','rowId','-whatsapp-api','assign','\x20instance\x20does\x20not\x20exist','.svg','sendMessage','getAllData','.extension','/wa-message','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','):\x20Deletando\x20conversa...','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','less','contactHandle','STORE_CONTACTS','\x5cd+','request\x20received\x20in\x20updateFlowConfig','lastInteraction','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','longitude','groupUpdateSubject','split','startsWith','removeData',',\x20qrcodeCount:\x20','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','.png','mediatype','imported','delayMessage','The\x20\x22','Not\x20allowed\x20by\x20CORS','whatsappNumbers','rows','unreadcount','findGroupInfo','processScheduleFlow','secondValue','nome','groups.upsert','DATABASE_ENABLED','uazapiSendMedia','isJidGroup','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','Erro\x20ao\x20sincronizar\x20fluxos:\x20','MESSAGES_SET','create','groupToggleEphemeral','ids','messageSecret','json','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','notas','instanceInfo','sticker','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','3570160iksnuo','copyBlock','!cmd_','SERVER_URL','useMultiFileAuthState','joinApprovalMode','toDataURL','\x20-\x20JID:\x20','_Contacts','USER','_pushName','Erro\x20ao\x20tentar\x20updateCustomFields','console','updatePresence','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','/group','update','deleteConversation','):\x20Grupo\x20','notMatchRegex','Erro\x20ao\x20tentar\x20autoCompleteMessages','):Fetching\x20business\x20profile','customFields','Content-Type','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','configService','CONTACTS_SET','flush','AUTHENTICATION_TYPE','isArray','all','\x20do\x20chat\x20','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','sendReaction','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','/message','envProcess','Enter\x20a\x20value\x20in\x20milliseconds','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','repository','The\x20global\x20api\x20key\x20must\x20be\x20set',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','sendContact','https://github.com/uazapi/uazapi.git','):\x20Buscando\x20conversa...','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','method','contactsArrayMessage','get','getOwnPropertyDescriptor','updateOneById','Erro\x20ao\x20deletar\x20a\x20conversa','output','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','AppStateSyncKeyData','quotedMessage','menuIgnoreNonVotes','isInteger','SERVER_PORT','some','Número:\x20','scheduleNextCheck','recording','):\x20Conversa\x20está\x20expirada','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','updateMany',':\x20IP\x20configurado:\x20','PLAYED','_activedCount','contact','1051532xmiPbX','loggedOut','statusCode','\x1b[33m%s\x1b[0m','updateOne','params','delay','sendMedia','apiResponse','chat','inviteCode','Erro\x20ao\x20inserir\x20chats:','keep-alive','startCommandWord','.X-ABLabel:Celular\x0a','Authentication\x20error','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','\x1b[43m','\x1b[37m%s\x1b[0m','jid','enumerable','body','status','Erro\x20ao\x20importar\x20chats','protocolMessage','stopMinutesMaxActives','Número\x20não\x20possui\x20WhatsApp.','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','updateMissingShareOwners','requestPairingCode','localWebhook','contacts.update','updateGParticipate','dbClient','send','integer','atendimentoAberto','markMessageAsRead','/instance/delete','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','loadInstance','):\x20atualização\x20chat:\x20','uazapi','buffer','):\x20Conversa\x20inserida\x20com\x20sucesso.','/automate','\x20-i\x20','removeUnusedChatFields','):\x20não\x20encontrou','close','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','LOG_COLOR',',\x20Segundo\x20Valor:\x20','Falta\x20informação\x20para\x20a\x20chamada\x20API','createConversationforStartFlow','config','font','):\x20Editando\x20edição\x20do\x20fluxo...','updateStopChat','groupDesc','):\x20this.processing_id:\x20','WebhookGlobal','flow','http://ip-api.com/json','removeInstance','toNumber','moreLogs','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','groupParticipantsUpdate','writeFile','minutesToClose','editFlowCondition','scheduleSendText','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','from','ERROR:\x20','Safari','cache','groupInviteCode','Error\x20updating\x20message\x20status:','Flow\x20iniciado\x20com\x20','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','messageId','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','):Image\x20created','vote','getFlowModelForOwner','folder','chats.update','sendMenu','lastCondition','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','^\x5cd+','includes','normalizeMessage','email','out','scheduleMessage','.type','_Chats','chats','STORE','binary','local_map','RemoteJid:','\x20depois\x20','CHATS_UPSERT','):\x20isVote:\x20','name','use','document','storePath','.xls','delayChatLabel_MAX_RETRIES','editOperator','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','@newsletter','unlocked','entrou\x20na\x20função\x20de\x20sincronizar\x20fluxos','webhookMap','Instance\x20Name:','sendDataWebhook','decryptPollVote','mimetype','extractMessageContent','verbose','SECRET','error','add','oldToken','action','replace','\x20tentativas.\x20(ID:\x20','matchRegex','WA\x20MODULE','option','):\x20Enviando\x20texto','sendText','model','):including\x20timestamp\x20in\x20url:\x20','static','CORS_METHODS','Message','updateChatGroupData','agents','leadInfo.desativadoFluxoAte','):\x20enviado\x20para\x20[','/exit','Primeiro\x20Valor:\x20','VERBOSE','#56ccb4','Button\x20IDs\x20cannot\x20be\x20repeated.','qrcode','.pdf','scheduled','Erro\x20ao\x20buscar\x20Schedule\x20Messages','pt-BR','API\x20Key\x20from\x20Request:','groupUpdateDescription','convertaudioMP3','initAuthCreds','match_last_seen','editflowblock','\x20e\x20proprietário\x20','AUTHENTICATION','stringify','approve','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','autoCompleteMessages','changeVariables','COLOR','getflow','\x20horas\x20e\x20','_ScheduleMessages','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','reaction','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','\x20-\x20retornado:\x20','router','createAndSave','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','):\x20Editando\x20replyOption...','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','auth','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','jsonschema','https://api.ipify.org?format=json','indexOf','parse','ButtonsMessage','stateConnection','jpegThumbnail','):\x20Enviando\x20mídia','):\x20Alterando\x20fluxo...',',\x20isAdmin:\x20','compression','isLong','open','Instance\x20\x22','demote','Error\x20updating\x20cache\x20contact:','Parando\x20aplicação...','PRIVKEY','):\x20Enviando\x20contato',':\x20Tentativa\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','processvaredits',',\x20saindo.','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','expression','):Image\x20converted\x20to\x20WebP','deleteOne','flowName','canSendMessage','removed','processApiRequest','groupId','fetchProfile','DATABASE','requestFile','ReplyOption\x20com\x20ID\x20','textMessage','Schema','Last\x20message\x20not\x20found','backgroundColor','SendScheduleMessage','newStoppedUntil','evaluateCondition','):\x20Visualizando\x20AutomateSystem','processConditionsTest','\x20removido\x20do\x20chat\x20','contacts.upsert','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','getBase64FromMediaMessage','width','data','fetchPrivacySettings','https://ipinfo.io/json','ChatRouter','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','responsavelid','waitingMenu_ExpiredMessage','prototype','CHATS_UPDATE','EMAIL:','.fileUrl','updatePrivacySettings','redis://127.0.0.1:6379','js-yaml','Erro\x20ao\x20atualizar\x20conversa:\x20','beautifyWithPlaceholders','readMessageBot','interval\x20não\x20é\x20um\x20número','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','endsWith','isJWT','command','DB_PREFIX_NAME','editFlow','findMessages','PORT','Error\x20writing\x20file:\x20','leadInfo.customFields','choices','END:VCARD','loadWebhook','floor','editFlowBlock','getLabelModelForOwner','filter','https','updateAgent','collection','leadInfo.','\x20não\x20encontrado\x20para\x20atualização.','refused','messageTimestamp','.xlsx','):\x20Conversas\x20encontradas:','.TEL;waid=','deleteInstance','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','createHash','readreceipts','audioMessage','response','buttonId','pollOnReplyDelete','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','verifyWhatsAppNumber','\x1b[44m','upperCase','clearVariables','upsertedCount','string','InstancesAlterarTodas','Error\x20parsing\x20JSON:','updateGroupWebhook','.webm','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','\x20com\x20sucesso.','\x0aitem','instanceKeys','createRegularFlow','fetchLabels','request_method','_error','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','has','timeout','SSL_CONF_FULLCHAIN','DATABASE_CONNECTION_DB_PREFIX_NAME','getHours','isJidBroadcast','):\x20Enviando\x20áudio','flowIgnoreGroups','descId','PASSWORD','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida',':\x20IP\x20funcionando!','#fed428','certbot','toUpperCase','sha256','):\x20Conversa\x20atualizada\x20em\x20memória','webhookService','user','selectableCount','addBlock','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done','max','insertCount','creds','chats.delete','editFlowVaredit','pushName','authState','isListOfNumbers','updateGParticipant','client','variables','waitingMenu_text','sync','testingWith','updateBlock','groups_ignore','CacheContacts\x20database\x20connection\x20closed.','/wa-groups','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','/events','contact_blacklist','protocol','formatVCard','status@broadcast','replyOptions','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','composing',',\x20resultado:\x20','CORS_CREDENTIALS','groupSettingUpdate','Erro\x20ao\x20copiar\x20o\x20documento','InstancesAsDisconnectedX','}}\x20->\x20\x22','sendPoll','emit','groupBetterSetting','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','):\x20lastBlockId:\x20','toBrazilianNumberFormat','imgUrl','AddChatLabel','\x20minutos','groupdata','):\x20Mensagem\x20já\x20enviada\x20para\x20','findAndUpdate','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','uuid','importChatsBatch','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','bulkWrite','50mb','AutomateFunctions','utf8','copy','Erro\x20ao\x20iniciar\x20o\x20fluxo.','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','CONNECTION_UPDATE','$set','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','remoteJidsRemaining',':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20','Erro\x20ao\x20buscar\x20a\x20conversa','Erro\x20ao\x20editar\x20agentes','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','.jwt','username','CREDENTIALS','):\x20debug\x20alterando\x20this.AutomateSystem','realVariables','applyvaredit','length','archive','Rótulo\x20inválido\x20ou\x20sem\x20ID.','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','Erro\x20ao\x20editar\x20o\x20chat','request\x20received\x20in\x20updateCustomFields','TEXT','options','Início','*Pergunta*:\x20\x0a',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','Validate','createSectionsFromValues','):\x20Enviando\x20enquete','.\x20Pulando.','):\x20Criando\x20fluxo\x20regular...','connect','HttpsProxyAgent','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','equal','logger','ip:\x20','saveMediaToFile','):Processing\x20audio','listResponseMessage','Tentando\x20reconectar...','findConversation','request\x20received\x20in\x20editFlow','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','enabled','Fluxo\x20não\x20encontrado.','findGroups','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','Telefone:\x20','stdout','lastUpdate','http','image','Instância\x20não\x20encontrada.','bodyStringErrorParse','next_groupId','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','getScheduleMessageModelForOwner','):\x20expirationTime:\x20','FULLCHAIN','):\x20conversation.waitingMenu_name','162654wcQicM','instanceCount','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','--standalone','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','getFlow','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','match','lastReceivedMessage','):\x20tem\x20blocks','privacySettings','Reinicialização\x20iniciada:\x20','drop','Resultado\x20da\x20atualização:','setNewValue','profile','g-t','dropCollection','imageMessage','keyPattern','Not\x20Found','locked','description','#9ab6c1','\x22\x20cannot\x20be\x20empty','Erro\x20ao\x20remover\x20label\x20','format','array','enviado\x20para','port','\x1b[32m','off','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','):Audio\x20processed','This\x20name\x20','memberAddMode','Router','REDIS','):\x20Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.','splice','lastBlockId','):\x20conversation.status:\x20','express','.\x20Aguardando\x20antes\x20de\x20reconectar...','video','message_normalized','optionName','hex','normalizeMessageContent','Content\x20is\x20required','/events/:instance','cpf','SERVER_ACK','getRandomText','sending','cleaningUp','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','/*.json','addReplyOption','__esModule','\x1b[31m%s\x1b[0m','@s.whatsapp.net','MESSAGES_UPDATE','hSet','bodyString','order',',\x20Resultado:\x20','checkAndRestartProcess','where','mediaKey','/instance/fetchInstances','arrayUnique','replyOption','error\x20get\x20vote','Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.','writeData','URI','mentions','groupName','delete','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','toArray','when','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','wuid','updateProfilePicture','badSession','):Audio\x20converted\x20and\x20stored\x20in\x20cache','archiveChat','onWhatsApp','post','restrict','getContentType','ex:\x20\x22groupJid=120362@g.us\x22','CHATS_DELETE','Deletion\x20failed','audioWhatsapp','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','Instance\x20restarted','documentWithCaptionMessage','stopWhenYouSendMsg','toString','padEnd','):\x20nextBlock.uazapi.name','long','node-cache','express-async-errors','replaceVariables','groupHandler','/config','API_KEY','\x20mensagens\x20de\x20','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','displayName','editFlowReply','GROUPS_UPSERT','stopped','createServer','insertMany','app-state-sync-key','website','extractRegex','errorLog','updateMessage','Subscribed\x20Events:','shutdown\x20-r\x20now','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','fetchConversation','_p_','and','.gif','Cache-Control','\x1b[47m','views','setHeader','messages.upsert','@broadcast','Error\x20removing\x20unused\x20chat\x20fields:','boolean','Documento\x20com\x20ID\x20','admin','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','pre','pollCreationMessage','updateProfileStatus','deleteBlock','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','lean','sendWhatsAppAudio','request\x20received\x20in\x20editFlowcondition','):Sending\x20audio\x20whatsapp','sendPresenceUpdate','Valor\x20de\x20find\x20ou\x20replace\x20ausente','Connection','):\x20teve\x20mudanças\x20chat.archived:\x20','formatStatusMessage','makeCacheableSignalKeyStore','@ffmpeg-installer/ffmpeg','reconnectTimestamps','reconnectAttempts','groupMemberAddMode','request\x20body:\x20','downloadMediaMessage','createConversationforgoToFlow','):\x20Criando\x20fluxo\x20compartilhado...','toggleEphemeral','\x1b[33m\x1b[1m','vcard','slice','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','):Converted\x20image\x20deleted','8080','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','variablesNotFound','removeOlderDisconnectedInstances','request\x20received\x20in\x20deleteFlow','isCommunityAnnounce','messagesSend','/startFlow/:instance/:startID','LEVEL','no.connection','DD/MM\x20HH:mm:ss','sleep','newValue','setUpdate',',\x20fará\x20nova\x20verificação\x20em\x20','condition','?authSource=admin&readPreference=primary&directConnection=true','Fluxos\x20não\x20estão\x20ativados','sendList','\x1b[1m','end','recebido\x20de','variable','request\x20received\x20in\x20allFlows','Error\x20finding\x20many\x20contacts:','delayChatLabel','):\x20A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','SINGLE_SELECT','[all]','#ffc5c7','shift','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','participants','.ogg','\x1b[30m','processgoToFlow','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','flattenObject','labels.association','namespace','defineProperty','editflowcondition','Not\x20is\x20business\x20profile','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','Erro\x20do\x20Certbot:\x20','phoneNumber','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','media','):Image\x20path:\x20','Variável\x20não\x20encontrada!','owner','parseInt','#000000','ListType','test','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','optionDescription','group','messageType','updateReplyOption','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','label','):Image\x20is\x20url','DELETED','findWebhook','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','Instance\x20deleted','proto','scheduleSendMedia','global','replaceVariablesInObject','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','buttons','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','):\x20Ignoring\x20group\x20messages.','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','code','replaceOne','http://myexternalip.com/raw','HH:mm:ss','77DYoOuK','paused','):\x20','Certbot:\x20','preview','eventEmitter','latitude','ON\x20-\x20dbName:\x20','processclearVariables','map','find','groupRequestParticipantsUpdate','_Messages','varedit','}}\x20->\x20valor\x20não\x20encontrado','A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','://','https://api.elevenlabs.io/v1/text-to-speech/','basename','#64c4ff','chatId','OrAnd','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','):Trying\x20to\x20get\x20business\x20profile','deleteReplyOption','quoted','editedMessage','deleteAll','7107030erLweF','updateMissingEtiquetas','getStatus','list','video-cover.png','revokeInviteCode','mongoose','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','CONNECTION','PREFIX_KEY','):\x20Mensagem\x20recuperada\x20após\x20','Parando\x20aplicação,\x20atualização\x20recebida','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','_fromMe','statusMessage','_FlowHistorico','online',',\x20Novo\x20tamanho:\x20','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','/wa-contacts','messages.update','FlowModel','Erro\x20ao\x20remover\x20instâncias\x20antigas:','defineAuthState','host','loadEnv','Certbot\x20executado\x20com\x20sucesso.','stopConversation','profilePicture','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','):\x20Deletando\x20mensagem',',\x20apikey:\x20','reference','isAdmin','\x1b[0m','#f64847','sections','setRestartTimeout','):\x20transformedCustomFieldVariables','findByIdAndUpdate','ini','saveConversationToDatabase','DATABASE_CONNECTION_PASSWORD','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:\x20flowOnwer:\x20','CHATS_SET','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','Database\x20is\x20not\x20enabled','Flow\x20não\x20encontrado','):Error\x20in\x20converting\x20audio','DaysToDelete','put','findFlow','HOST','ScheduleMessage','repeat','audio','base64','qrCode','gifPlayback','request\x20received\x20in\x20fetchConversation','throwAndLogError','getScheduleMessage','truncatedto','removeChatLabel','toLocaleString','EMAIL','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','@redis/client','now','deleteDoneMessages','findManyByIds','uazapiSendMenu','chats.upsert','ERROR','.mimetype','trimmed','createGroup','?timestamp=','WARN','findOrCreate','):\x20Edit\x20schedule\x20message...','node-mime-types','updateGroupParticipantsWebhook','/chat','):\x20Comando\x20desconhecido:\x20','writeFileSync','inner','listType','messageStubParameters','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','encoding','startID','Erro\x20ao\x20buscar\x20conversas','undefined','buttonText','getProfileName','Type\x20is\x20required','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','updateProfilePicturePrivacy','):\x20Criando\x20nova\x20conversa[createNewConversation]','getVariablesChat'];a0_0x26ab=function(){return _0x3f6e85;};return a0_0x26ab();}Wo();async function xi(){const _0x316726=a0_0x156424;let _0x38ba93;try{_0x38ba93=(await Pe[_0x316726(0x72b)][_0x316726(0x2cb)](_0x316726(0x205)))['data']['ip'];}catch(_0x354753){console[_0x316726(0x363)](_0x354753);try{_0x38ba93=(await Pe['default'][_0x316726(0x2cb)](_0x316726(0x39e)))[_0x316726(0x3cf)]['ip'];}catch(_0x4e6eb0){console[_0x316726(0x363)](_0x4e6eb0);try{_0x38ba93=(await Pe[_0x316726(0x72b)][_0x316726(0x2cb)](_0x316726(0x6f7)))[_0x316726(0x3cf)]['match'](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x56ab0f){return console[_0x316726(0x363)](_0x56ab0f),!0x1;}}}return _0x38ba93;}var Ri=0x0;function a0_0x4ecf(_0x42898e,_0x596a6a){const _0x26abc1=a0_0x26ab();return a0_0x4ecf=function(_0x4ecf41,_0xedbc11){_0x4ecf41=_0x4ecf41-0xa2;let _0x1e50ab=_0x26abc1[_0x4ecf41];return _0x1e50ab;},a0_0x4ecf(_0x42898e,_0x596a6a);}async function zo(){const _0x3fe855=a0_0x156424;let _0x6261f1=await new ce(S[_0x3fe855(0x2cb)](_0x3fe855(0x4ca)))[_0x3fe855(0x413)]();return console[_0x3fe855(0x155)]('instancias:\x20',_0x6261f1['length']),_0x6261f1[_0x3fe855(0x476)];}function Ho(_0x19707c){const _0x1bc5b8=a0_0x156424;let _0x5868a3=_0x19707c[_0x1bc5b8(0x2cb)](_0x1bc5b8(0x14f))[_0x1bc5b8(0x723)],_0x110d05=_0x19707c['get'](_0x1bc5b8(0x65a)),_0x4aa986;if(_0x5868a3){let _0x57c1ef=_0x5868a3[_0x1bc5b8(0x4ac)](/\/\/(.*?)\./);_0x57c1ef&&_0x57c1ef[0x1]&&(_0x4aa986=_0x57c1ef[0x1]);}if(!_0x4aa986&&_0x110d05&&_0x110d05[_0x1bc5b8(0x4a3)]){let _0x2bb0ca=_0x110d05[_0x1bc5b8(0x4a3)]['split']('/'),_0x27359d=_0x2bb0ca[_0x2bb0ca['length']-0x2];if(_0x27359d){let _0x202684=_0x27359d[_0x1bc5b8(0x277)]('.');_0x202684[_0x1bc5b8(0x476)]>0x2&&(_0x4aa986=_0x202684[0x0]);}}return _0x4aa986;}var xs=Ho(S);async function Ko(){const _0x403eaf=a0_0x156424;let _0x2199f2=S['get'](_0x403eaf(0x4ca)),_0x57b00b=S[_0x403eaf(0x2cb)](_0x403eaf(0x388))[_0x403eaf(0x516)][_0x403eaf(0x1db)],_0x367fff=S[_0x403eaf(0x2cb)]('SSL_CONF'),_0x487081=await xi(),_0x4fab67=S[_0x403eaf(0x2cb)](_0x403eaf(0x14f))['PORT'],_0x11a3c5=S[_0x403eaf(0x2cb)](_0x403eaf(0x14f))[_0x403eaf(0x723)];try{let _0x4ff8c8={'ip':_0x487081||null,'redis_enable':_0x2199f2?.[_0x403eaf(0x237)]||null,'apikey':_0x57b00b||null,'ssl':_0x367fff?.[_0x403eaf(0x3ae)]||null,'lastupdate':Di||null,'port':_0x4fab67||null,'gitInstallError':ke?.['message']||null,'url':_0x11a3c5||null};if(console[_0x403eaf(0x155)](_0x403eaf(0x48c),_0x4ff8c8['ip']),_0x2199f2&&_0x2199f2['ENABLED']){let _0x4894bc=await zo();_0x4ff8c8[_0x403eaf(0x4a6)]=_0x4894bc||null;}for(let _0x361317 in _0x4ff8c8)_0x4ff8c8[_0x403eaf(0xfc)](_0x361317)&&_0x361317!=='ip'&&(_0x4ff8c8[_0x361317]=JSON[_0x403eaf(0x389)](_0x4ff8c8[_0x361317]));return(await Pe[_0x403eaf(0x72b)]['post'](_0x403eaf(0x161),_0x4ff8c8))[_0x403eaf(0x3cf)];}catch(_0x824a20){return console[_0x403eaf(0x363)](_0x824a20),!0x1;}}var ks=!0x1,Di=0x244,Qo=0x3,$i=0x1b7740;async function Ls(){const _0x25b227=a0_0x156424;if(!await xi())return console[_0x25b227(0x363)](_0x25b227(0x2bd)),'NO_IP';let _0x1dc1bc=await Ko();if(_0x1dc1bc){if(_0x1dc1bc[_0x25b227(0x402)][_0x25b227(0x1fb)]===!0x0){let _0x1d5895=S['get'](_0x25b227(0x65a)),_0x1194ad=S[_0x25b227(0x2cb)](_0x25b227(0x14f))['URL'];_0x1d5895&&_0x1d5895?.['PRIVKEY']?.[_0x25b227(0x341)]('<subdomain>')&&_0x1dc1bc[_0x25b227(0x402)]['subdomain']&&!_0x1194ad&&(await Zo(_0x1dc1bc[_0x25b227(0x402)]['subdomain'],Xo),await er('augusto.fcs@gmail.com',_0x1dc1bc['response']['subdomain']),console[_0x25b227(0x155)](_0x25b227(0x639)),setTimeout(()=>sr(),0x2710)),ke===null&&_0x1dc1bc[_0x25b227(0x402)][_0x25b227(0x110)]-Di>0x0&&await Yo(),ks||(ks=!0x0,qo());let _0x5176c0=0x24*0x3c*0x3c,_0x5dae20=_0x1dc1bc['response'][_0x25b227(0x65e)]>_0x5176c0?_0x5176c0:_0x1dc1bc['response'][_0x25b227(0x65e)],_0x493dfa=Number(_0x5dae20);if(isNaN(_0x493dfa)){console[_0x25b227(0x363)](_0x25b227(0x3e1));return;}let _0x524a29=Math['floor'](_0x493dfa/0xe10),_0x30c076=Math[_0x25b227(0x3ef)](_0x493dfa%0xe10/0x3c),_0x53c0f7=new Date(Date[_0x25b227(0x605)]()+_0x493dfa*0x3e8);setTimeout(Ls,_0x493dfa*0x3e8);let _0x36422c=_0x1c4344=>_0x1c4344[_0x25b227(0x50d)]()[_0x25b227(0xe8)](0x2,'0'),_0x5a67d5='Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20'+_0x36422c(_0x524a29)+_0x25b227(0x390)+_0x36422c(_0x30c076)+'\x20minutos.\x20Será\x20às\x20'+_0x36422c(_0x53c0f7[_0x25b227(0x41d)]())+':'+_0x36422c(_0x53c0f7['getMinutes']())+'.';console[_0x25b227(0x155)](_0x5a67d5);}else return console[_0x25b227(0x155)]('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),ks&&(console[_0x25b227(0x155)](_0x25b227(0x75e)),process[_0x25b227(0x739)]()),_0x25b227(0x784);}else{if(Ri++,Ri<Qo)console[_0x25b227(0x155)]('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+$i/0xea60+'\x20minutos...'),setTimeout(Ls,$i);else return console[_0x25b227(0x363)](_0x25b227(0x2a9)),'SERVER_OFFLINE';}}async function Yo(){const _0x1e954f=a0_0x156424;console['log'](_0x1e954f(0x5cb));let _0x202c74=(0x0,Le['spawn'])(_0x1e954f(0xf3),{'shell':!0x0});_0x202c74[_0x1e954f(0x499)]['on'](_0x1e954f(0x3cf),_0x137f35=>{const _0xd5e41f=_0x1e954f;console[_0xd5e41f(0x155)]('Atualização:\x20'+_0x137f35);}),_0x202c74[_0x1e954f(0x66c)]['on'](_0x1e954f(0x3cf),_0x59fe93=>{const _0x724b04=_0x1e954f;console[_0x724b04(0x363)]('Erro\x20de\x20atualização:\x20'+_0x59fe93);}),_0x202c74['on']('exit',_0x80d8fb=>{const _0x4beeac=_0x1e954f;_0x80d8fb!==0x0?console[_0x4beeac(0x363)](_0x4beeac(0x315)+_0x80d8fb):console['log'](_0x4beeac(0x1ef)),console[_0x4beeac(0x155)](_0x4beeac(0x3ad)),setTimeout(()=>process[_0x4beeac(0x739)](),0x2710);});}var Xo=je[a0_0x156424(0x72b)]['join'](__dirname,a0_0x156424(0x150));async function Zo(_0x3b9b0a,_0x349877){const _0x46b003=a0_0x156424;let _0x553817=tr();_0x3b9b0a=_0x3b9b0a[_0x46b003(0x367)](_0x46b003(0x138),'');try{let _0x401ff7=pe[_0x46b003(0x72b)]['readFileSync'](_0x349877,'utf8');_0x401ff7=_0x401ff7[_0x46b003(0x367)](/<apikey>/,_0x553817),_0x401ff7=_0x401ff7[_0x46b003(0x367)](/<subdomain>/g,_0x3b9b0a),pe[_0x46b003(0x72b)]['writeFileSync'](_0x349877,_0x401ff7,_0x46b003(0x464)),console['log']('Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.');}catch(_0x41d321){console['error'](_0x46b003(0x650),_0x41d321);}}function er(_0x31a20f,_0x363b36){return new Promise((_0x56e646,_0x109b42)=>{const _0x348382=a0_0x4ecf;let _0x475120=(0x0,Le[_0x348382(0x67b)])(_0x348382(0x426),[_0x348382(0x684),_0x348382(0x4a8),'-m',_0x31a20f,_0x348382(0x1af),'-d',_0x363b36]);_0x475120[_0x348382(0x499)]['on']('data',_0x251cab=>{const _0x84c58=_0x348382;console[_0x84c58(0x155)](_0x84c58(0x5a7)+_0x251cab[_0x84c58(0x50d)]());}),_0x475120[_0x348382(0x66c)]['on'](_0x348382(0x3cf),_0x276fb2=>{const _0x257fef=_0x348382;console[_0x257fef(0x363)](_0x257fef(0x57f)+_0x276fb2[_0x257fef(0x50d)]());}),_0x475120['on'](_0x348382(0x314),_0x147cd7=>{const _0x5284d0=_0x348382;_0x147cd7!==0x0?(console[_0x5284d0(0x363)]('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x147cd7),_0x109b42(_0x5284d0(0x535)+_0x147cd7)):(console[_0x5284d0(0x155)](_0x5284d0(0x5da)),_0x56e646());});});}function tr(_0x5956ee=0x32){const _0x2141ef=a0_0x156424;let _0x3ab081=_0x2141ef(0x58a),_0x5663b1='';for(let _0x2e6ad0=0x0;_0x2e6ad0<_0x5956ee;_0x2e6ad0++)_0x5663b1+=_0x3ab081[_0x2141ef(0x192)](Math[_0x2141ef(0x3ef)](Math['random']()*_0x3ab081[_0x2141ef(0x476)]));return _0x5663b1;}function sr(){const _0x224c79=a0_0x156424;(0x0,Le[_0x224c79(0xf1)])(_0x224c79(0x525),(_0x10ece8,_0x1ebeb9,_0x240382)=>{const _0x47e156=_0x224c79;if(_0x10ece8){console[_0x47e156(0x363)](_0x47e156(0x195)+_0x10ece8);return;}if(_0x240382){console['error'](_0x47e156(0x767)+_0x240382);return;}console[_0x47e156(0x155)](_0x47e156(0x4b0)+_0x1ebeb9);});}0x0&&(module['exports']={'subdomain':subdomain});