const a0_0x5e0602=a0_0x3589;(function(_0x141be9,_0x1fdd36){const _0x20c223=a0_0x3589,_0x1371c2=_0x141be9();while(!![]){try{const _0x364ae2=parseInt(_0x20c223(0x3d5))/0x1+-parseInt(_0x20c223(0x34a))/0x2+parseInt(_0x20c223(0x26b))/0x3*(-parseInt(_0x20c223(0x385))/0x4)+-parseInt(_0x20c223(0x463))/0x5*(parseInt(_0x20c223(0x550))/0x6)+-parseInt(_0x20c223(0x19a))/0x7+parseInt(_0x20c223(0x2ff))/0x8+-parseInt(_0x20c223(0x575))/0x9*(-parseInt(_0x20c223(0x2fc))/0xa);if(_0x364ae2===_0x1fdd36)break;else _0x1371c2['push'](_0x1371c2['shift']());}catch(_0x45af44){_0x1371c2['push'](_0x1371c2['shift']());}}}(a0_0x571d,0x22d2e));var fo=Object['create'],vs=Object['defineProperty'],wo=Object[a0_0x5e0602(0x334)],yo=Object['getOwnPropertyNames'],bo=Object[a0_0x5e0602(0x1e6)],So=Object[a0_0x5e0602(0x684)][a0_0x5e0602(0x5c6)],Eo=(_0x43d844,_0x162fa4,_0x14aa8a,_0x4b0166)=>{const _0x11fcc0=a0_0x5e0602;if(_0x162fa4&&typeof _0x162fa4==_0x11fcc0(0x519)||typeof _0x162fa4==_0x11fcc0(0x24d)){for(let _0x1e9753 of yo(_0x162fa4))!So[_0x11fcc0(0x5ed)](_0x43d844,_0x1e9753)&&_0x1e9753!==_0x14aa8a&&vs(_0x43d844,_0x1e9753,{'get':()=>_0x162fa4[_0x1e9753],'enumerable':!(_0x4b0166=wo(_0x162fa4,_0x1e9753))||_0x4b0166[_0x11fcc0(0x3cd)]});}return _0x43d844;},T=(_0x24ba16,_0x288c06,_0x33a199)=>(_0x33a199=_0x24ba16!=null?fo(bo(_0x24ba16)):{},Eo(_0x288c06||!_0x24ba16||!_0x24ba16[a0_0x5e0602(0x537)]?vs(_0x33a199,'default',{'value':_0x24ba16,'enumerable':!0x0}):_0x33a199,_0x24ba16)),co=T(require(a0_0x5e0602(0x2d3))),Ns=require('fs'),Ts=require(a0_0x5e0602(0x1b0)),Rs=require('path'),_e=require(a0_0x5e0602(0x6c9)),Q=process['cwd'](),V=(0x0,_e[a0_0x5e0602(0x69c)])(Q,a0_0x5e0602(0x556)),Cs=(0x0,_e[a0_0x5e0602(0x69c)])(Q,a0_0x5e0602(0x572)),Gt=(0x0,_e['join'])(Q,a0_0x5e0602(0x16b),a0_0x5e0602(0x35b)),Ms=require(a0_0x5e0602(0x66d)),Jt=class{constructor(){const _0x56d728=a0_0x5e0602;this[_0x56d728(0x344)]();}[a0_0x5e0602(0x43f)](_0x4048da){return this['env'][_0x4048da];}[a0_0x5e0602(0x344)](){const _0xa263c5=a0_0x5e0602;this[_0xa263c5(0x422)]=process['env']?.[_0xa263c5(0x624)]!==_0xa263c5(0x312)?this['envYaml']():this[_0xa263c5(0x261)](),this[_0xa263c5(0x422)][_0xa263c5(0x4bf)]=process[_0xa263c5(0x422)]?.['NODE_ENV']===_0xa263c5(0x2ed),process[_0xa263c5(0x422)]?.['DOCKER_ENV']===_0xa263c5(0x312)&&(this['env'][_0xa263c5(0x2a0)]['TYPE']=_0xa263c5(0x3ef),this[_0xa263c5(0x422)][_0xa263c5(0x2a0)][_0xa263c5(0x712)]=Number[_0xa263c5(0x695)](process[_0xa263c5(0x422)]?.['SERVER_PORT']??'8080'));}[a0_0x5e0602(0x5fa)](){const _0x1518d8=a0_0x5e0602;return(0x0,Ts['load'])((0x0,Ns[_0x1518d8(0x63c)])((0x0,Rs[_0x1518d8(0x69c)])(Cs,_0x1518d8(0x4f1)),{'encoding':'utf-8'}));}[a0_0x5e0602(0x261)](){const _0x17ba46=a0_0x5e0602;return{'SERVER':{'TYPE':process[_0x17ba46(0x422)]['SERVER_TYPE'],'PORT':Number[_0x17ba46(0x695)](process[_0x17ba46(0x422)][_0x17ba46(0x6cc)])},'CORS':{'ORIGIN':process[_0x17ba46(0x422)][_0x17ba46(0x5b4)][_0x17ba46(0x675)](','),'METHODS':process['env'][_0x17ba46(0x4ef)][_0x17ba46(0x675)](','),'CREDENTIALS':process[_0x17ba46(0x422)]?.[_0x17ba46(0x2e5)]===_0x17ba46(0x312)},'SSL_CONF':{'PRIVKEY':process[_0x17ba46(0x422)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0x17ba46(0x422)]?.[_0x17ba46(0x193)]},'STORE':{'CLEANING_INTERVAL':Number[_0x17ba46(0x253)](process[_0x17ba46(0x422)]?.[_0x17ba46(0x549)])?Number[_0x17ba46(0x695)](process[_0x17ba46(0x422)][_0x17ba46(0x549)]):void 0x0,'MESSAGES':process['env']?.['STORE_MESSAGE']===_0x17ba46(0x312),'CONTACTS':process[_0x17ba46(0x422)]?.[_0x17ba46(0x66c)]===_0x17ba46(0x312),'CHATS':process[_0x17ba46(0x422)]?.[_0x17ba46(0x2a2)]===_0x17ba46(0x312)},'DATABASE':{'CONNECTION':{'HOST':process['env']?.[_0x17ba46(0x4e2)],'PORT':Number['parseInt'](process['env']?.['DATABASE_CONNECTION_HOST']),'USER':process[_0x17ba46(0x422)][_0x17ba46(0x2b7)],'PASSWORD':process[_0x17ba46(0x422)][_0x17ba46(0x2c7)],'URI':process[_0x17ba46(0x422)]['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process[_0x17ba46(0x422)][_0x17ba46(0x4e8)]},'ENABLED':process['env']?.['DATABASE_ENABLED']===_0x17ba46(0x312)},'REDIS':{'ENABLED':process[_0x17ba46(0x422)]?.[_0x17ba46(0x669)]===_0x17ba46(0x312),'URI':process[_0x17ba46(0x422)]['REDIS_URI'],'PREFIX_KEY':process['env'][_0x17ba46(0x70c)]},'LOG':{'LEVEL':process[_0x17ba46(0x422)]?.[_0x17ba46(0x5a9)][_0x17ba46(0x675)](','),'COLOR':process['env']?.[_0x17ba46(0x269)]==='true'},'DEL_INSTANCE':(0x0,Ms[_0x17ba46(0x247)])(process[_0x17ba46(0x422)]?.[_0x17ba46(0x40c)])?process[_0x17ba46(0x422)][_0x17ba46(0x40c)]===_0x17ba46(0x312):Number['parseInt'](process[_0x17ba46(0x422)]['DEL_INSTANCE'])||!0x1,'WEBHOOK':{'WEBHOOK_MAP':process[_0x17ba46(0x422)][_0x17ba46(0x6d1)]?process['env'][_0x17ba46(0x6d1)]===_0x17ba46(0x312):!0x1,'GLOBAL':{'URL':process[_0x17ba46(0x422)]?.[_0x17ba46(0x4b6)],'ENABLED':process[_0x17ba46(0x422)]?.['WEBHOOK_GLOBAL_ENABLED']==='true'},'EVENTS':{'STATUS_INSTANCE':process[_0x17ba46(0x422)]?.[_0x17ba46(0x1e1)]===_0x17ba46(0x312),'QRCODE_UPDATED':process[_0x17ba46(0x422)]?.[_0x17ba46(0x3bf)]==='true','MESSAGES_SET':process[_0x17ba46(0x422)]?.[_0x17ba46(0x5a2)]===_0x17ba46(0x312),'MESSAGES_UPSERT':process[_0x17ba46(0x422)]?.[_0x17ba46(0x6e8)]===_0x17ba46(0x312),'MESSAGES_UPDATE':process[_0x17ba46(0x422)]?.[_0x17ba46(0x639)]===_0x17ba46(0x312),'SEND_MESSAGE':process[_0x17ba46(0x422)]?.['WEBHOOK_EVENTS_SEND_MESSAGE']==='true','CONTACTS_SET':process['env']?.[_0x17ba46(0x294)]==='true','CONTACTS_UPDATE':process['env']?.[_0x17ba46(0x483)]===_0x17ba46(0x312),'CONTACTS_UPSERT':process[_0x17ba46(0x422)]?.[_0x17ba46(0x452)]===_0x17ba46(0x312),'PRESENCE_UPDATE':process['env']?.['WEBHOOK_EVENTS_PRESENCE_UPDATE']===_0x17ba46(0x312),'CHATS_SET':process[_0x17ba46(0x422)]?.[_0x17ba46(0x311)]===_0x17ba46(0x312),'CHATS_UPDATE':process[_0x17ba46(0x422)]?.['WEBHOOK_EVENTS_CHATS_UPDATE']==='true','CHATS_UPSERT':process['env']?.['WEBHOOK_EVENTS_CHATS_UPSERT']===_0x17ba46(0x312),'CHATS_DELETE':process[_0x17ba46(0x422)]?.[_0x17ba46(0x38b)]===_0x17ba46(0x312),'CONNECTION_UPDATE':process[_0x17ba46(0x422)]?.[_0x17ba46(0x523)]==='true','GROUPS_UPSERT':process[_0x17ba46(0x422)]?.['WEBHOOK_EVENTS_GROUPS_UPSERT']===_0x17ba46(0x312),'GROUP_UPDATE':process[_0x17ba46(0x422)]?.[_0x17ba46(0x4a3)]==='true','GROUP_PARTICIPANTS_UPDATE':process[_0x17ba46(0x422)]?.[_0x17ba46(0x716)]===_0x17ba46(0x312),'NEW_JWT_TOKEN':process[_0x17ba46(0x422)]?.['WEBHOOK_EVENTS_NEW_JWT_TOKEN']==='true'}},'CONFIG_SESSION_PHONE':{'CLIENT':process[_0x17ba46(0x422)]?.[_0x17ba46(0x618)]||'uazapi','NAME':process[_0x17ba46(0x422)]?.[_0x17ba46(0x2c2)]||'chrome'},'QRCODE':{'LIMIT':Number['parseInt'](process['env']['QRCODE_LIMIT'])||0x5},'TRIAL_AD':process[_0x17ba46(0x422)]?.[_0x17ba46(0x66e)],'TRIAL_INSTANCE_NAME':process[_0x17ba46(0x422)]?.['TRIAL_INSTANCE_NAME'],'AUTHENTICATION':{'TYPE':process[_0x17ba46(0x422)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process[_0x17ba46(0x422)][_0x17ba46(0x3c2)]},'JWT':{'EXPIRIN_IN':Number[_0x17ba46(0x253)](process[_0x17ba46(0x422)]?.[_0x17ba46(0x509)])?Number['parseInt'](process[_0x17ba46(0x422)][_0x17ba46(0x509)]):0xe10,'SECRET':process[_0x17ba46(0x422)][_0x17ba46(0x240)]}}};}},S=new Jt(),lo=T(require(a0_0x5e0602(0x27e))),ge=T(require('express')),bs=require(a0_0x5e0602(0x6c9)),Wt=T(require(a0_0x5e0602(0x1b1))),Ht=(_0x442865=>(_0x442865['LOG']='\x1b[32m',_0x442865[a0_0x5e0602(0x2c4)]=a0_0x5e0602(0x6fb),_0x442865[a0_0x5e0602(0x72f)]=a0_0x5e0602(0x50f),_0x442865[a0_0x5e0602(0x5c7)]='\x1b[31m',_0x442865[a0_0x5e0602(0x238)]=a0_0x5e0602(0x6b8),_0x442865[a0_0x5e0602(0x48f)]='\x1b[37m',_0x442865[a0_0x5e0602(0x432)]=a0_0x5e0602(0x37e),_0x442865))(Ht||{}),As=(_0x3195ab=>(_0x3195ab[a0_0x5e0602(0x40b)]=a0_0x5e0602(0x18e),_0x3195ab[a0_0x5e0602(0x432)]=a0_0x5e0602(0x216),_0x3195ab[a0_0x5e0602(0x2c4)]=a0_0x5e0602(0x207),_0x3195ab[a0_0x5e0602(0x72f)]=a0_0x5e0602(0x734),_0x3195ab[a0_0x5e0602(0x5c7)]=a0_0x5e0602(0x196),_0x3195ab[a0_0x5e0602(0x238)]=a0_0x5e0602(0x4f0),_0x3195ab[a0_0x5e0602(0x48f)]='\x1b[37m%s\x1b[0m',_0x3195ab))(As||{}),Is=(_0x4e6027=>(_0x4e6027[a0_0x5e0602(0x40b)]=a0_0x5e0602(0x40b),_0x4e6027[a0_0x5e0602(0x72f)]='WARN',_0x4e6027['INFO']='INFO',_0x4e6027[a0_0x5e0602(0x432)]=a0_0x5e0602(0x432),_0x4e6027['ERROR']=a0_0x5e0602(0x5c7),_0x4e6027[a0_0x5e0602(0x238)]=a0_0x5e0602(0x238),_0x4e6027[a0_0x5e0602(0x48f)]=a0_0x5e0602(0x48f),_0x4e6027))(Is||{}),Ds=(_0x51096a=>(_0x51096a[a0_0x5e0602(0x40b)]='\x1b[42m',_0x51096a[a0_0x5e0602(0x2c4)]=a0_0x5e0602(0x5ee),_0x51096a[a0_0x5e0602(0x72f)]='\x1b[43m',_0x51096a[a0_0x5e0602(0x432)]=a0_0x5e0602(0x3a7),_0x51096a[a0_0x5e0602(0x5c7)]=a0_0x5e0602(0x705),_0x51096a[a0_0x5e0602(0x238)]=a0_0x5e0602(0x646),_0x51096a['VERBOSE']=a0_0x5e0602(0x62c),_0x51096a))(Ds||{}),N=class{constructor(_0x2facd8=a0_0x5e0602(0x59f)){const _0x4b7129=a0_0x5e0602;this[_0x4b7129(0x3e8)]=_0x2facd8,this[_0x4b7129(0x674)]=S;}['setContext'](_0x28f5a0){this['context']=_0x28f5a0;}[a0_0x5e0602(0x642)](_0x163f98,_0x48e661){const _0xc2c333=a0_0x5e0602;let _0x593636=[];this[_0xc2c333(0x674)][_0xc2c333(0x43f)]('LOG')['LEVEL'][_0xc2c333(0x732)](_0x5ac09a=>_0x593636[_0xc2c333(0x19f)](Is[_0x5ac09a]));let _0x3e58bd=typeof _0x163f98;_0x593636[_0xc2c333(0x215)](_0x48e661)&&(S[_0xc2c333(0x43f)](_0xc2c333(0x40b))[_0xc2c333(0x1d0)]?(console[_0xc2c333(0x656)](_0xc2c333(0x22d)+As[_0x48e661],_0xc2c333(0x358),(0x0,Wt['default'])()['format'](_0xc2c333(0x735)),_0xc2c333(0x2f3),Ht[_0x48e661]+Ds[_0x48e661]+_0xc2c333(0x22d),_0x48e661+'\x20\x1b[0m',_0xc2c333(0x726),this[_0xc2c333(0x3e8)]+_0xc2c333(0x2f3),Ht[_0x48e661],_0x3e58bd!==_0xc2c333(0x519)?_0x163f98:'',_0xc2c333(0x2f3)),_0x3e58bd===_0xc2c333(0x519)&&console['log'](_0x163f98,'\x0a')):console['log']((0x0,Wt[_0xc2c333(0x56d)])()[_0xc2c333(0x687)](_0xc2c333(0x353)),_0x48e661+'\x20',''+this[_0xc2c333(0x3e8)],_0x163f98));}[a0_0x5e0602(0x656)](_0x2f4c68){const _0x265dd8=a0_0x5e0602;this['console'](_0x2f4c68,_0x265dd8(0x40b));}[a0_0x5e0602(0x447)](_0x45feb2){const _0x14e874=a0_0x5e0602;this[_0x14e874(0x642)](_0x45feb2,'INFO');}['warn'](_0x2a4690){this['console'](_0x2a4690,'WARN');}[a0_0x5e0602(0x2bd)](_0x7eb1db){const _0x7086df=a0_0x5e0602;this[_0x7086df(0x642)](_0x7eb1db,_0x7086df(0x5c7));}[a0_0x5e0602(0x27f)](_0x1d18ec){const _0x58222e=a0_0x5e0602;this[_0x58222e(0x642)](_0x1d18ec,'VERBOSE');}[a0_0x5e0602(0x4fc)](_0x3f219c){const _0x5a8b1a=a0_0x5e0602;this['console'](_0x3f219c,_0x5a8b1a(0x238));}[a0_0x5e0602(0x1e4)](_0x48f51a){const _0x6508b1=a0_0x5e0602;this[_0x6508b1(0x642)](_0x48f51a,_0x6508b1(0x432));}};function _s(){process['on']('uncaughtException',(_0x322679,_0x4bdbe9)=>{const _0x35123d=a0_0x3589;new N(_0x35123d(0x319))[_0x35123d(0x2bd)]({'origin':_0x4bdbe9,'stderr':process[_0x35123d(0x3d2)]['fd'],'error':_0x322679});}),process['on']('unhandledRejection',(_0x2adbe9,_0x237135)=>{const _0x5c3114=a0_0x3589;new N(_0x5c3114(0x466))['error']({'origin':_0x237135,'stderr':process['stderr']['fd'],'error':_0x2adbe9});});}var Os=T(require(a0_0x5e0602(0x224))),Kt=new Os[(a0_0x5e0602(0x56d))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Oe=require(a0_0x5e0602(0x221)),zt=T(require(a0_0x5e0602(0x221))),vo=new N(a0_0x5e0602(0x2e6)),G=S['get'](a0_0x5e0602(0x2b2)),M=G['ENABLED']?G['CONNECTION'][a0_0x5e0602(0x6c3)]?zt[a0_0x5e0602(0x56d)][a0_0x5e0602(0x1b2)](G[a0_0x5e0602(0x520)][a0_0x5e0602(0x6c3)],{'dbName':G[a0_0x5e0602(0x520)][a0_0x5e0602(0x449)]+a0_0x5e0602(0x16f)}):zt[a0_0x5e0602(0x56d)][a0_0x5e0602(0x1b2)](a0_0x5e0602(0x321)+G['CONNECTION'][a0_0x5e0602(0x1f4)]+':'+G[a0_0x5e0602(0x520)][a0_0x5e0602(0x712)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':G['CONNECTION'][a0_0x5e0602(0x345)],'pass':G[a0_0x5e0602(0x520)]['PASSWORD'],'dbName':G[a0_0x5e0602(0x520)]['DB_PREFIX_NAME']+a0_0x5e0602(0x16f)}):null;G['ENABLED']&&vo['info'](a0_0x5e0602(0x200)+M['$dbName']);var Co=new Oe['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),No=new Oe[(a0_0x5e0602(0x64f))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Co],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),To=new Oe[(a0_0x5e0602(0x64f))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':No,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean}}),Ps=_0x5f3a05=>{const _0xbce69d=a0_0x5e0602;let _0x265199='z_'+_0x5f3a05+_0xbce69d(0x231);return M?.['model'](_0xbce69d(0x5cb),To,_0x265199);},xs=require('mongoose'),Ro=new xs['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),$s=_0x52e5ea=>{const _0x5edea8=a0_0x5e0602;let _0x32dbf0='z_'+_0x52e5ea+_0x5edea8(0x63d);return M?.[_0x5edea8(0x502)](_0x5edea8(0x70e),Ro,_0x32dbf0);},ks=require('mongoose'),Mo=new ks[(a0_0x5e0602(0x64f))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String,'minlength':0x3,'enum':[a0_0x5e0602(0x55c),a0_0x5e0602(0x3c6),a0_0x5e0602(0x6b1)]},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Ls=_0x41ccbb=>{const _0x57d872=a0_0x5e0602;let _0x5eccf3='z_'+_0x41ccbb+_0x57d872(0x244);return M?.[_0x57d872(0x502)](_0x57d872(0x1fe),Mo,_0x5eccf3);},Us=require(a0_0x5e0602(0x221)),Qt=class{},Ao=new Us[(a0_0x5e0602(0x64f))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1}}),Vs=M?.[a0_0x5e0602(0x502)](Qt[a0_0x5e0602(0x5e4)],Ao,a0_0x5e0602(0x67a)),js=require('mongoose'),Yt=class{},Fs=new js[(a0_0x5e0602(0x64f))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Fs[a0_0x5e0602(0x5e0)](a0_0x5e0602(0x72a),function(_0x5c7dbb){const _0x16490d=a0_0x5e0602;delete this[_0x16490d(0x4fd)],delete this[_0x16490d(0x494)],delete this[_0x16490d(0x4fa)],delete this[_0x16490d(0x2e4)],delete this[_0x16490d(0x6c6)],_0x5c7dbb();});var Bs=M?.[a0_0x5e0602(0x502)](Yt['name'],Fs,a0_0x5e0602(0x473)),_=require(a0_0x5e0602(0x221)),qs=new _[(a0_0x5e0602(0x64f))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Xt=new _[(a0_0x5e0602(0x64f))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Io=new _[(a0_0x5e0602(0x64f))]({'command':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20enquete\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Gs=new _[(a0_0x5e0602(0x64f))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Do=new _[(a0_0x5e0602(0x64f))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),_o=new _[(a0_0x5e0602(0x64f))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Js=new _[(a0_0x5e0602(0x64f))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Io},'apirequest':Do,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),as=new _['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),Ws=new _[(a0_0x5e0602(0x64f))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),Zt=class{},Hs=new _[(a0_0x5e0602(0x64f))]({'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x1993cb=a0_0x5e0602;return _0x1993cb(0x3ed)+Math['random']()[_0x1993cb(0x35f)](0x24)[_0x1993cb(0x40a)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[as],'variablesNotFound':{'type':[String]},'blocks':[Js],'groups':[qs],'conditions':[Gs],'varedits':[Ws],'replyOptions':{'type':[Xt],'default':[]}});Hs['pre'](a0_0x5e0602(0x72a),function(_0x532174){const _0x3f26eb=a0_0x5e0602;let _0x2e0dc8=new Set(),_0x405f63=new Set(this['variables']?.[_0x3f26eb(0x503)](_0x318735=>_0x318735[_0x3f26eb(0x5e4)])),_0x2c18fc=JSON[_0x3f26eb(0x408)](this),_0x4bb9c5=/{{(?!_)([^}]*)}}/g,_0x2d174f;for(;(_0x2d174f=_0x4bb9c5[_0x3f26eb(0x20b)](_0x2c18fc))!==null;)_0x405f63[_0x3f26eb(0x324)](_0x2d174f[0x1])||_0x2e0dc8[_0x3f26eb(0x5ff)](_0x2d174f[0x1]);_0x2e0dc8['size']>0x0?(console['warn'](_0x3f26eb(0x58d),Array['from'](_0x2e0dc8)),this[_0x3f26eb(0x26d)]=Array['from'](_0x2e0dc8)):this[_0x3f26eb(0x26d)]=[],_0x532174();});var I=M?.['model'](Zt['name'],Hs,'flow'),Oo=new _[(a0_0x5e0602(0x64f))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[as],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[_o]},{'_id':!0x1}),es=class{},Po=new _[(a0_0x5e0602(0x64f))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[as],'blocks':[Js],'groups':[qs],'conditions':[Gs],'varedits':[Ws],'replyOptions':{'type':[Xt],'default':[]},'chatLog':Oo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':'open'},'waitingPoll_id':{'type':String},'waitingPoll_name':{'type':String},'waitingPoll_replyOptions':{'type':[Xt],'default':[]}}),j=M?.['model'](es['name'],Po,a0_0x5e0602(0x384)),ts=class{},xo=new _[(a0_0x5e0602(0x64f))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),$o=new _[(a0_0x5e0602(0x64f))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x5e0602(0x1ea)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':xo,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Object],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),L=M?.['model'](ts['name'],$o,a0_0x5e0602(0x4c2)),ss=class{},ko=new _['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Lo=new _['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x5e0602(0x186)},'stopMinutes':{'type':Number,'default':0x14}},{'_id':!0x1}),Uo=new _['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Vo=new _[(a0_0x5e0602(0x64f))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[Uo]},'customFields':{'type':[ko]},'flowConfig':{'type':Lo,'default':{}}}),ae=M?.['model'](ss[a0_0x5e0602(0x5e4)],Vo,a0_0x5e0602(0x543)),me=require('fs'),os=require('path'),W=class{constructor(_0x195104){const _0x394d8a=a0_0x5e0602;this[_0x394d8a(0x65c)]=(0x0,os[_0x394d8a(0x69c)])(Q,_0x394d8a(0x16b)),this[_0x394d8a(0x4cb)]=_0x49fe69=>{const _0x8ec005=_0x394d8a;(0x0,me[_0x8ec005(0x275)])(_0x49fe69['path'])||(0x0,me[_0x8ec005(0x3f8)])(_0x49fe69[_0x8ec005(0x6c9)],{'recursive':!0x0});try{return(0x0,me[_0x8ec005(0x52a)])((0x0,os['join'])(_0x49fe69[_0x8ec005(0x6c9)],_0x49fe69['fileName']+_0x8ec005(0x617)),JSON['stringify']({..._0x49fe69[_0x8ec005(0x485)]}),{'encoding':_0x8ec005(0x6d3)}),{'message':_0x8ec005(0x350)};}finally{_0x49fe69['data']=void 0x0;}},this['dbSettings']=_0x195104['get'](_0x394d8a(0x2b2));}[a0_0x5e0602(0x451)](_0x45106d,_0x508d34=!0x1){const _0x1c3564=a0_0x5e0602;throw new Error(_0x1c3564(0x1ec));}['find'](_0x4d1e9c){const _0x2a80ce=a0_0x5e0602;throw new Error(_0x2a80ce(0x1ec));}[a0_0x5e0602(0x567)](_0x2bff26,_0x48aad3){const _0x420fad=a0_0x5e0602;throw new Error(_0x420fad(0x1ec));}},Pe=class{},xe=class extends W{constructor(_0x5ec94f){super(_0x5ec94f),this['configService']=_0x5ec94f;}[a0_0x5e0602(0x6a8)](_0x2492d9){return Ls(_0x2492d9);}async[a0_0x5e0602(0x451)](_0x4cb2c6){const _0x292c5e=a0_0x5e0602;if(_0x4cb2c6[_0x292c5e(0x3f7)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x292c5e(0x6a8)](_0x4cb2c6[0x0][_0x292c5e(0x367)])[_0x292c5e(0x446)]([..._0x4cb2c6]))[_0x292c5e(0x3f7)]};}catch(_0x26b4f9){return console['log'](_0x292c5e(0x658),_0x26b4f9),_0x26b4f9;}}async[a0_0x5e0602(0x6f2)](_0x5be518){const _0x6b540f=a0_0x5e0602;try{let _0x332c97=this[_0x6b540f(0x6a8)](_0x5be518['where'][_0x6b540f(0x367)]);if(_0x5be518?.[_0x6b540f(0x4d4)]?.['key']){for(let [_0x25b4f0,_0x37538e]of Object[_0x6b540f(0x63b)](_0x5be518[_0x6b540f(0x4d4)][_0x6b540f(0x32f)]))_0x5be518['where'][_0x6b540f(0x5fd)+_0x25b4f0]=_0x37538e;delete _0x5be518?.['where']?.[_0x6b540f(0x32f)];}return await _0x332c97['find']({..._0x5be518[_0x6b540f(0x4d4)]})[_0x6b540f(0x3b1)]({'messageTimestamp':-0x1})[_0x6b540f(0x388)](_0x5be518?.[_0x6b540f(0x388)]??0x0)[_0x6b540f(0x691)]();}catch{return[];}}async[a0_0x5e0602(0x567)](_0x420901){const _0x2f358c=a0_0x5e0602;try{await this['getMessageModelForOwner'](_0x420901[_0x2f358c(0x4d4)][_0x2f358c(0x367)])[_0x2f358c(0x4e0)]({..._0x420901['where']});}catch(_0x58473e){console[_0x2f358c(0x2bd)](_0x58473e);}}async[a0_0x5e0602(0x69e)](_0x3a43e5,_0x41d054){const _0x50aba9=a0_0x5e0602;try{return await this[_0x50aba9(0x6a8)](_0x3a43e5[_0x50aba9(0x4d4)][_0x50aba9(0x367)])['findOneAndUpdate']({..._0x3a43e5['where']},{'$set':_0x41d054},{'new':!0x0});}catch(_0x37e6da){throw console['error'](_0x37e6da),_0x37e6da;}}async[a0_0x5e0602(0x446)](_0x5c28b8){const _0x397299=a0_0x5e0602;if(_0x5c28b8['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x397299(0x6a8)](_0x5c28b8[0x0][_0x397299(0x367)])['insertMany']([..._0x5c28b8]))[_0x397299(0x3f7)]};}catch(_0x331190){return console[_0x397299(0x656)](_0x397299(0x658),_0x331190),_0x331190;}}async['deleteAll'](_0x54d284){const _0x1d6ae2=a0_0x5e0602;try{return await this[_0x1d6ae2(0x6a8)](_0x54d284)['collection'][_0x1d6ae2(0x5d5)](),{'success':!0x0};}catch(_0xf32146){return console[_0x1d6ae2(0x2bd)](_0xf32146),{'success':!0x1,'error':_0xf32146};}}},te=require('fs'),Ya=T(require(a0_0x5e0602(0x66a))),w=T(require(a0_0x5e0602(0x2a1))),Te=require('fs'),$=T(require(a0_0x5e0602(0x6c9))),ce=T(require(a0_0x5e0602(0x3f3))),Xa=require(a0_0x5e0602(0x30a)),Za=T(require(a0_0x5e0602(0x63e))),eo=T(require(a0_0x5e0602(0x21c))),Ks=['imageMessage',a0_0x5e0602(0x3e0),a0_0x5e0602(0x58c),a0_0x5e0602(0x6dc),a0_0x5e0602(0x5f8)],zs=['ephemeralMessage','documentWithCaptionMessage',a0_0x5e0602(0x6d9),a0_0x5e0602(0x219)],to=require('os'),Rt=T(require(a0_0x5e0602(0x44a))),Dt=require(a0_0x5e0602(0x300)),Mt=require(a0_0x5e0602(0x28c)),we=T(require(a0_0x5e0602(0x221))),O=require(a0_0x5e0602(0x66d)),he=class{constructor(_0x4d55f8,_0x5b49e5,_0x405681){const _0xa2ee5b=a0_0x5e0602;this[_0xa2ee5b(0x226)]=_0x4d55f8,this['exists']=_0x5b49e5,this[_0xa2ee5b(0x5e4)]=_0x405681;}},$e=class{},ke=class{},Se=class{},Le=class{},Ue=class{},fe=class{},Ve=class{},je=class{},Fe=class{},Be=class{},Et=T(require(a0_0x5e0602(0x437))),Qs=require('fs'),Ys=require(a0_0x5e0602(0x6c9));async function qe(_0x365181){const _0x42a4bf=a0_0x5e0602;let _0x29f36a=F[_0x42a4bf(0x5d6)][_0x365181];if(G['ENABLED']){let _0x58fa7b=M[_0x42a4bf(0x28e)]()['db'](G[_0x42a4bf(0x520)]['DB_PREFIX_NAME']+'-instances')['collection'](_0x365181);return _0x29f36a||(await _0x58fa7b[_0x42a4bf(0x6f2)]({})[_0x42a4bf(0x4b8)]())['length']>0x0;}return _0x29f36a||(0x0,Qs['existsSync'])((0x0,Ys[_0x42a4bf(0x69c)])(V,_0x365181));}async function rs(_0x52ab31,_0x10f1b8,_0x4ec5f3){const _0x1a901c=a0_0x5e0602;if(_0x52ab31[_0x1a901c(0x599)]['includes'](_0x1a901c(0x45f))||_0x52ab31[_0x1a901c(0x599)][_0x1a901c(0x215)](_0x1a901c(0x241))||_0x52ab31[_0x1a901c(0x599)][_0x1a901c(0x215)]('/exit'))return _0x4ec5f3();let _0x2f88d2=_0x52ab31[_0x1a901c(0x719)];if(!_0x2f88d2?.['instanceName'])throw new g(_0x1a901c(0x404));if(!await qe(_0x2f88d2[_0x1a901c(0x32a)]))throw new x(_0x1a901c(0x37b)+_0x2f88d2[_0x1a901c(0x32a)]+_0x1a901c(0x626));_0x4ec5f3();}async function Xs(_0x21e788,_0x37492d,_0x24e28f){const _0x37a42c=a0_0x5e0602;if(_0x21e788[_0x37a42c(0x599)]['includes']('/instance/create')){let _0xc794f8=_0x21e788[_0x37a42c(0x27b)];if(await qe(_0xc794f8[_0x37a42c(0x32a)]))throw new oe(_0x37a42c(0x3ea)+_0xc794f8[_0x37a42c(0x32a)]+_0x37a42c(0x33b));F[_0x37a42c(0x5d6)][_0xc794f8[_0x37a42c(0x32a)]]&&delete F[_0x37a42c(0x5d6)][_0xc794f8['instanceName']];}_0x24e28f();}var Zs=require('class-validator'),ea=T(require(a0_0x5e0602(0x428))),Ge='uazapi',Fo=new N(a0_0x5e0602(0x481));async function Bo(_0x331bbc,_0x10c44b,_0x322dbd){const _0x22482b=a0_0x5e0602;let _0x5c5fb3=_0x331bbc['get'](_0x22482b(0x180));if(_0x5c5fb3&&S[_0x22482b(0x43f)](_0x22482b(0x1ca))[_0x22482b(0x262)][_0x22482b(0x6d0)]!==_0x5c5fb3)throw new re();if(S[_0x22482b(0x43f)](_0x22482b(0x1ca))[_0x22482b(0x262)][_0x22482b(0x6d0)]===_0x5c5fb3)return _0x322dbd();if((_0x331bbc[_0x22482b(0x599)][_0x22482b(0x215)](_0x22482b(0x45f))||_0x331bbc['originalUrl'][_0x22482b(0x215)](_0x22482b(0x241)))&&!_0x5c5fb3)throw new oe(_0x22482b(0x605),_0x22482b(0x71c));let _0x3b6712=S[_0x22482b(0x43f)](_0x22482b(0x1ca))[_0x22482b(0x225)];try{let [_0x36b7f8,_0x5c8d50]=_0x331bbc[_0x22482b(0x43f)](_0x22482b(0x235))[_0x22482b(0x675)]('\x20');if(_0x36b7f8[_0x22482b(0x3dd)]()!==_0x22482b(0x2ef))throw new re();if(!(0x0,Zs[_0x22482b(0x1bb)])(_0x5c8d50))throw new re();let _0x4d5d95=_0x331bbc['params'],_0x382972=ea[_0x22482b(0x56d)][_0x22482b(0x254)](_0x5c8d50,_0x3b6712[_0x22482b(0x21b)],{'ignoreExpiration':_0x3b6712['EXPIRIN_IN']===0x0});if(_0x4d5d95['instanceName']!==_0x382972['instanceName']||Ge!==_0x382972['apiName'])throw new re();return _0x322dbd();}catch(_0x4f9171){throw Fo['error'](_0x4f9171),new re();}}async function qo(_0x546027,_0x167689,_0x3f0b03){const _0x1bbd2b=a0_0x5e0602;let _0x39c372=S['get']('AUTHENTICATION')[_0x1bbd2b(0x262)],_0x355142=_0x546027['get']('apikey');if(_0x39c372['KEY']===_0x355142)return _0x3f0b03();if(_0x546027[_0x1bbd2b(0x599)][_0x1bbd2b(0x215)]('/instance/create')){let _0xb335d9=S[_0x1bbd2b(0x43f)](_0x1bbd2b(0x45b)),_0x3cf902=_0x546027[_0x1bbd2b(0x27b)][_0x1bbd2b(0x32a)];if(_0xb335d9&&_0x3cf902[_0x1bbd2b(0x3dd)]()['startsWith'](_0xb335d9[_0x1bbd2b(0x3dd)]()))return _0x3f0b03();if(!_0x355142)throw new oe(_0x1bbd2b(0x605),_0x1bbd2b(0x71c));}if(_0x546027[_0x1bbd2b(0x599)]['includes'](_0x1bbd2b(0x241))&&!_0x355142)throw new oe(_0x1bbd2b(0x605),_0x1bbd2b(0x71c));if(_0x546027['originalUrl'][_0x1bbd2b(0x215)]('/exit')&&!_0x355142)throw new oe(_0x1bbd2b(0x605),_0x1bbd2b(0x71c));try{let _0x2ba4f4=_0x546027[_0x1bbd2b(0x719)];if((await le[_0x1bbd2b(0x35b)][_0x1bbd2b(0x6f2)](_0x2ba4f4[_0x1bbd2b(0x32a)]))['apikey']===_0x355142)return _0x3f0b03();}catch{}throw new re();}var ta={'jwt':Bo,'apikey':qo},$a=require('express'),v=require(a0_0x5e0602(0x30a)),E=(..._0x32f971)=>{const _0x34435d=a0_0x5e0602;let _0x10b525={};return _0x32f971[_0x34435d(0x732)](_0x55c636=>_0x10b525[_0x55c636]={'minLength':0x1,'description':_0x34435d(0x3b0)+_0x55c636+_0x34435d(0x56f)}),{'if':{'propertyNames':{'enum':[..._0x32f971]}},'then':{'properties':_0x10b525}};},C={'$id':(0x0,v['v4'])(),'type':'object','properties':{'instanceName':{'type':a0_0x5e0602(0x30f)}},...E(a0_0x5e0602(0x32a))},sa={'$id':(0x0,v['v4'])(),'type':a0_0x5e0602(0x519),'properties':{'oldToken':{'type':a0_0x5e0602(0x30f)}},'required':['oldToken'],...E(a0_0x5e0602(0x220))},dn={'properties':{'key':{'type':a0_0x5e0602(0x519),'properties':{'id':{'type':a0_0x5e0602(0x30f)},'remoteJid':{'type':a0_0x5e0602(0x30f)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x5e0602(0x51c),'fromMe'],...E('id',a0_0x5e0602(0x51c))},'message':{'type':'object'}}},Y={'properties':{'delay':{'type':a0_0x5e0602(0x6da),'description':a0_0x5e0602(0x6ee)},'presence':{'type':a0_0x5e0602(0x30f),'enum':[a0_0x5e0602(0x29b),a0_0x5e0602(0x6e5),'composing','recording',a0_0x5e0602(0x266)]}}},X={'type':a0_0x5e0602(0x30f),'pattern':a0_0x5e0602(0x313),'description':a0_0x5e0602(0x551)},aa={'$id':(0x0,v['v4'])(),'type':a0_0x5e0602(0x519),'properties':{'number':{...X},'options':{...Y},'textMessage':{'type':a0_0x5e0602(0x519),'properties':{'text':{'type':a0_0x5e0602(0x30f)}},'required':[a0_0x5e0602(0x711)],...E(a0_0x5e0602(0x711))}},'required':[a0_0x5e0602(0x296),a0_0x5e0602(0x4bd)]},oa={'type':a0_0x5e0602(0x30f),'pattern':a0_0x5e0602(0x3eb),'description':'Invalid\x20format'},pn={'$id':(0x0,v['v4'])(),'type':a0_0x5e0602(0x519),'properties':{'number':{...oa},'options':{...Y},'textMessage':{'type':a0_0x5e0602(0x519),'properties':{'text':{'type':a0_0x5e0602(0x30f)}},'required':['text'],...E(a0_0x5e0602(0x711))}},'required':[a0_0x5e0602(0x296),a0_0x5e0602(0x4bd)]},gn={'$id':(0x0,v['v4'])(),'type':a0_0x5e0602(0x519),'properties':{'number':{...oa},'options':{...Y},'mediaMessage':{'type':a0_0x5e0602(0x519),'properties':{'mediatype':{'type':a0_0x5e0602(0x30f),'enum':[a0_0x5e0602(0x68e),a0_0x5e0602(0x5f0),a0_0x5e0602(0x486),a0_0x5e0602(0x25e)]},'media':{'type':a0_0x5e0602(0x30f)},'fileName':{'type':a0_0x5e0602(0x30f)},'caption':{'type':a0_0x5e0602(0x30f)}},'required':[a0_0x5e0602(0x17c),a0_0x5e0602(0x69b)],...E(a0_0x5e0602(0x5d3),a0_0x5e0602(0x472),a0_0x5e0602(0x69b))}},'required':[a0_0x5e0602(0x4aa),'number']},ra={'$id':(0x0,v['v4'])(),'type':a0_0x5e0602(0x519),'properties':{'number':{...X},'options':{...Y},'stickerMessage':{'type':a0_0x5e0602(0x519),'properties':{'image':{'type':'string'}},'required':['image'],...E(a0_0x5e0602(0x68e))}},'required':['stickerMessage',a0_0x5e0602(0x4bd)]},ia={'$id':(0x0,v['v4'])(),'type':'object','properties':{'statusMessage':{'type':a0_0x5e0602(0x519),'properties':{'type':{'type':'string','enum':[a0_0x5e0602(0x711),a0_0x5e0602(0x68e),a0_0x5e0602(0x25e),a0_0x5e0602(0x486)]},'content':{'type':a0_0x5e0602(0x30f)},'caption':{'type':a0_0x5e0602(0x30f)},'backgroundColor':{'type':a0_0x5e0602(0x30f)},'font':{'type':a0_0x5e0602(0x6da),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5e0602(0x30f),'pattern':a0_0x5e0602(0x603),'description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0x5e0602(0x31b),'enum':[!0x0,!0x1]}},'required':['type',a0_0x5e0602(0x57f)],...E(a0_0x5e0602(0x33e),'content')}},'required':[a0_0x5e0602(0x680)]},na={'$id':(0x0,v['v4'])(),'type':a0_0x5e0602(0x519),'properties':{'number':{...X},'options':{...Y},'mediaMessage':{'type':a0_0x5e0602(0x519),'properties':{'mediatype':{'type':a0_0x5e0602(0x30f),'enum':[a0_0x5e0602(0x68e),a0_0x5e0602(0x5f0),a0_0x5e0602(0x486),a0_0x5e0602(0x25e)]},'media':{'type':'string'},'fileName':{'type':'string'},'caption':{'type':a0_0x5e0602(0x30f)}},'required':['mediatype',a0_0x5e0602(0x69b)],...E(a0_0x5e0602(0x5d3),a0_0x5e0602(0x472),a0_0x5e0602(0x69b))}},'required':[a0_0x5e0602(0x4aa),a0_0x5e0602(0x4bd)]},ca={'$id':(0x0,v['v4'])(),'type':a0_0x5e0602(0x519),'properties':{'number':{...X},'options':{...Y},'audioMessage':{'type':a0_0x5e0602(0x519),'properties':{'audio':{'type':'string'}},'required':['audio'],...E(a0_0x5e0602(0x25e))}},'required':['audioMessage',a0_0x5e0602(0x4bd)]},la={'$id':(0x0,v['v4'])(),'type':a0_0x5e0602(0x519),'properties':{'number':{...X},'pollMessage':{'type':'object','properties':{'name':{'type':a0_0x5e0602(0x30f)},'selectableCount':{'type':a0_0x5e0602(0x4bd)},'values':{'type':a0_0x5e0602(0x260),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x5e0602(0x5e4),a0_0x5e0602(0x37a),'values'],...E(a0_0x5e0602(0x5e4),a0_0x5e0602(0x37a),a0_0x5e0602(0x3a0))}},'required':[a0_0x5e0602(0x4bd),a0_0x5e0602(0x1be)]},ua={'$id':(0x0,v['v4'])(),'type':a0_0x5e0602(0x519),'properties':{'number':{...X},'options':{...Y},'buttonMessage':{'type':a0_0x5e0602(0x519),'properties':{'title':{'type':'string'},'description':{'type':a0_0x5e0602(0x30f)},'footerText':{'type':'string'},'buttons':{'type':a0_0x5e0602(0x260),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':a0_0x5e0602(0x30f)},'buttonId':{'type':a0_0x5e0602(0x30f)}},'required':[a0_0x5e0602(0x346),a0_0x5e0602(0x5b8)],...E(a0_0x5e0602(0x346),a0_0x5e0602(0x5b8))}},'mediaMessage':{'type':a0_0x5e0602(0x519),'properties':{'media':{'type':a0_0x5e0602(0x30f)},'fileName':{'type':'string'},'mediatype':{'type':a0_0x5e0602(0x30f),'enum':['image','document',a0_0x5e0602(0x486)]}},'required':['media',a0_0x5e0602(0x17c)],...E('media',a0_0x5e0602(0x5d3))}},'required':[a0_0x5e0602(0x259),a0_0x5e0602(0x295)],...E(a0_0x5e0602(0x259),a0_0x5e0602(0x33f))}},'required':[a0_0x5e0602(0x4bd),a0_0x5e0602(0x461)]},da={'$id':(0x0,v['v4'])(),'type':a0_0x5e0602(0x519),'properties':{'number':{...X},'options':{...Y},'locationMessage':{'type':a0_0x5e0602(0x519),'properties':{'latitude':{'type':a0_0x5e0602(0x4bd)},'longitude':{'type':a0_0x5e0602(0x4bd)},'name':{'type':a0_0x5e0602(0x30f)},'address':{'type':'string'}},'required':[a0_0x5e0602(0x2d5),'longitude'],...E('name',a0_0x5e0602(0x692))}},'required':[a0_0x5e0602(0x4bd),a0_0x5e0602(0x426)]},pa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...X},'options':{...Y},'listMessage':{'type':a0_0x5e0602(0x519),'properties':{'title':{'type':a0_0x5e0602(0x30f)},'description':{'type':'string'},'footerText':{'type':'string'},'buttonText':{'type':'string'},'sections':{'type':a0_0x5e0602(0x260),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5e0602(0x519),'properties':{'title':{'type':a0_0x5e0602(0x30f)},'rows':{'type':a0_0x5e0602(0x260),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5e0602(0x519),'properties':{'title':{'type':a0_0x5e0602(0x30f)},'description':{'type':a0_0x5e0602(0x30f)},'rowId':{'type':a0_0x5e0602(0x30f)}},'required':[a0_0x5e0602(0x259),a0_0x5e0602(0x33f),'rowId'],...E(a0_0x5e0602(0x259),'description',a0_0x5e0602(0x6c7))}}},'required':[a0_0x5e0602(0x259),a0_0x5e0602(0x40e)],...E('title')}}},'required':[a0_0x5e0602(0x259),a0_0x5e0602(0x33f),a0_0x5e0602(0x346),a0_0x5e0602(0x28a)],...E(a0_0x5e0602(0x259),a0_0x5e0602(0x33f),a0_0x5e0602(0x346),'footerText')}},'required':[a0_0x5e0602(0x4bd),a0_0x5e0602(0x29a)]},ga={'$id':(0x0,v['v4'])(),'type':a0_0x5e0602(0x519),'properties':{'number':{...X},'options':{...Y},'contactMessage':{'type':a0_0x5e0602(0x260),'items':{'type':'object','properties':{'fullName':{'type':'string'},'phoneNumber':{'type':'string','minLength':0xa}},'required':[a0_0x5e0602(0x419),a0_0x5e0602(0x52c)],...E(a0_0x5e0602(0x419))},'minItems':0x1,'uniqueItems':!0x0}},'required':['number',a0_0x5e0602(0x5fe)]},ma={'$id':(0x0,v['v4'])(),'type':a0_0x5e0602(0x519),'properties':{'reactionMessage':{'type':a0_0x5e0602(0x519),'properties':{'key':{'type':a0_0x5e0602(0x519),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x5e0602(0x30f)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x5e0602(0x51c),a0_0x5e0602(0x6a7)],...E('id',a0_0x5e0602(0x51c))},'reaction':{'type':a0_0x5e0602(0x30f)}},'required':[a0_0x5e0602(0x32f),a0_0x5e0602(0x43a)],...E(a0_0x5e0602(0x43a))}},'required':['reactionMessage']},ha={'$id':(0x0,v['v4'])(),'type':a0_0x5e0602(0x519),'properties':{'numbers':{'type':a0_0x5e0602(0x260),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5e0602(0x30f),'pattern':a0_0x5e0602(0x603),'description':'\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}}},fa={'$id':(0x0,v['v4'])(),'type':a0_0x5e0602(0x519),'properties':{'readMessages':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x5e0602(0x30f)},'fromMe':{'type':a0_0x5e0602(0x31b),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'}},'required':['id',a0_0x5e0602(0x6a7),a0_0x5e0602(0x51c)],...E('id','remoteJid')}}},'required':[a0_0x5e0602(0x26f)]},wa={'$id':(0x0,v['v4'])(),'type':a0_0x5e0602(0x519),'properties':{'privacySettings':{'type':a0_0x5e0602(0x519),'properties':{'readreceipts':{'type':a0_0x5e0602(0x30f),'enum':['all',a0_0x5e0602(0x6d6)]},'profile':{'type':a0_0x5e0602(0x30f),'enum':[a0_0x5e0602(0x16a),a0_0x5e0602(0x546),a0_0x5e0602(0x30d),a0_0x5e0602(0x6d6)]},'status':{'type':'string','enum':[a0_0x5e0602(0x16a),a0_0x5e0602(0x546),'contact_blacklist',a0_0x5e0602(0x6d6)]},'online':{'type':a0_0x5e0602(0x30f),'enum':['all','match_last_seen']},'last':{'type':a0_0x5e0602(0x30f),'enum':[a0_0x5e0602(0x16a),'contacts',a0_0x5e0602(0x30d),a0_0x5e0602(0x6d6)]},'groupadd':{'type':a0_0x5e0602(0x30f),'enum':['all',a0_0x5e0602(0x546),a0_0x5e0602(0x30d),a0_0x5e0602(0x6d6)]}},'required':['readreceipts',a0_0x5e0602(0x464),a0_0x5e0602(0x5a7),a0_0x5e0602(0x514),a0_0x5e0602(0x57e),a0_0x5e0602(0x6d2)],...E(a0_0x5e0602(0x59e),a0_0x5e0602(0x464),'status',a0_0x5e0602(0x514),a0_0x5e0602(0x57e),a0_0x5e0602(0x6d2))}},'required':[a0_0x5e0602(0x3a8)]},ya={'$id':(0x0,v['v4'])(),'type':a0_0x5e0602(0x519),'properties':{'lastMessage':{'type':'object','properties':{'key':{'type':a0_0x5e0602(0x519),'properties':{'id':{'type':a0_0x5e0602(0x30f)},'remoteJid':{'type':a0_0x5e0602(0x30f)},'fromMe':{'type':a0_0x5e0602(0x31b),'enum':[!0x0,!0x1]}},'required':['id',a0_0x5e0602(0x6a7),a0_0x5e0602(0x51c)],...E('id',a0_0x5e0602(0x51c))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':['key'],...E(a0_0x5e0602(0x179))},'archive':{'type':a0_0x5e0602(0x31b),'enum':[!0x0,!0x1]}},'required':[a0_0x5e0602(0x429),'archive']},ba={'$id':(0x0,v['v4'])(),'type':a0_0x5e0602(0x519),'properties':{'id':{'type':a0_0x5e0602(0x30f)},'fromMe':{'type':a0_0x5e0602(0x31b),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':a0_0x5e0602(0x30f)}},'required':['id','fromMe',a0_0x5e0602(0x51c)],...E('id',a0_0x5e0602(0x51c),a0_0x5e0602(0x218))},Sa={'$id':(0x0,v['v4'])(),'type':a0_0x5e0602(0x519),'properties':{'where':{'type':a0_0x5e0602(0x519),'properties':{'_id':{'type':a0_0x5e0602(0x30f),'minLength':0x1},'pushName':{'type':a0_0x5e0602(0x30f),'minLength':0x1},'id':{'type':a0_0x5e0602(0x30f),'minLength':0x1}},...E(a0_0x5e0602(0x60f),'id',a0_0x5e0602(0x29e))}}},Ea={'$id':(0x0,v['v4'])(),'type':'object','properties':{'name':{'type':a0_0x5e0602(0x30f)}},...E(a0_0x5e0602(0x5e4))},va={'$id':(0x0,v['v4'])(),'type':a0_0x5e0602(0x519),'properties':{'status':{'type':a0_0x5e0602(0x30f)}},...E('status')},Ee={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{'type':a0_0x5e0602(0x30f)},'picture':{'type':a0_0x5e0602(0x30f)}}},Ca={'type':a0_0x5e0602(0x519),'properties':{'wuid':{'type':a0_0x5e0602(0x30f)},'name':{'type':a0_0x5e0602(0x30f)},'picture':{'type':a0_0x5e0602(0x30f)},'status':{'type':'string'},'isBusiness':{'type':a0_0x5e0602(0x31b)}}},Na={'$id':(0x0,v['v4'])(),'type':'object','properties':{'where':{'type':a0_0x5e0602(0x519),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':a0_0x5e0602(0x519),'if':{'propertyNames':{'enum':[a0_0x5e0602(0x6a7),a0_0x5e0602(0x51c),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x5e0602(0x30f),'minLength':0x1,'description':a0_0x5e0602(0x3e5)},'id':{'type':a0_0x5e0602(0x30f),'minLength':0x1,'description':a0_0x5e0602(0x3e5)},'fromMe':{'type':a0_0x5e0602(0x31b),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x5e0602(0x519)}},...E(a0_0x5e0602(0x60f))},'limit':{'type':a0_0x5e0602(0x6da)}}},mn={'$id':(0x0,v['v4'])(),'type':a0_0x5e0602(0x519),'properties':{'where':{'type':a0_0x5e0602(0x519),'properties':{'_id':{'type':a0_0x5e0602(0x30f)},'remoteJid':{'type':'string'},'id':{'type':a0_0x5e0602(0x30f)},'fromMe':{'type':a0_0x5e0602(0x31b),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x5e0602(0x30f)},'status':{'type':a0_0x5e0602(0x30f),'enum':[a0_0x5e0602(0x5c7),a0_0x5e0602(0x1fb),a0_0x5e0602(0x273),a0_0x5e0602(0x1f9),a0_0x5e0602(0x667),a0_0x5e0602(0x5e9)]}},...E(a0_0x5e0602(0x60f),a0_0x5e0602(0x51c),'id',a0_0x5e0602(0x5a7))},'limit':{'type':a0_0x5e0602(0x6da)}}},Ta={'$id':(0x0,v['v4'])(),'type':a0_0x5e0602(0x519),'properties':{'number':{...X},'presence':{'type':a0_0x5e0602(0x30f),'enum':['unavailable',a0_0x5e0602(0x6e5),a0_0x5e0602(0x534),a0_0x5e0602(0x6ac),a0_0x5e0602(0x266)]}},'required':[a0_0x5e0602(0x54a),'number']},Ra={'$id':(0x0,v['v4'])(),'type':a0_0x5e0602(0x519),'properties':{'subject':{'type':a0_0x5e0602(0x30f)},'description':{'type':a0_0x5e0602(0x30f)},'profilePicture':{'type':'string'},'participants':{'type':a0_0x5e0602(0x260),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5e0602(0x30f),'minLength':0xa,'pattern':a0_0x5e0602(0x54b),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x5e0602(0x5c5),'participants'],...E('subject',a0_0x5e0602(0x33f),a0_0x5e0602(0x688))},ve={'$id':(0x0,v['v4'])(),'type':a0_0x5e0602(0x519),'properties':{'groupJid':{'type':'string','pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':['groupJid'],...E(a0_0x5e0602(0x5d8))},Ma={'$id':(0x0,v['v4'])(),'type':a0_0x5e0602(0x519),'properties':{'groupJid':{'type':a0_0x5e0602(0x30f)},'action':{'type':'string','enum':[a0_0x5e0602(0x5ff),a0_0x5e0602(0x431),a0_0x5e0602(0x2d9),a0_0x5e0602(0x65b)]},'participants':{'type':a0_0x5e0602(0x260),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5e0602(0x30f),'minLength':0xa,'pattern':a0_0x5e0602(0x54b),'description':a0_0x5e0602(0x577)}}},'required':['groupJid','action',a0_0x5e0602(0x41f)],...E(a0_0x5e0602(0x5d8),a0_0x5e0602(0x2e2))},Aa={'$id':(0x0,v['v4'])(),'type':a0_0x5e0602(0x519),'properties':{'groupJid':{'type':a0_0x5e0602(0x30f)},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x5e0602(0x5d8),a0_0x5e0602(0x4a1)],...E(a0_0x5e0602(0x5d8),a0_0x5e0602(0x4a1))},Ia={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'image':{'type':a0_0x5e0602(0x30f)}},'required':['groupJid',a0_0x5e0602(0x68e)],...E(a0_0x5e0602(0x5d8),a0_0x5e0602(0x68e))},Da={'$id':(0x0,v['v4'])(),'type':a0_0x5e0602(0x519),'properties':{'groupJid':{'type':a0_0x5e0602(0x30f)},'description':{'type':a0_0x5e0602(0x30f)}},'required':[a0_0x5e0602(0x5d8),a0_0x5e0602(0x33f)],...E(a0_0x5e0602(0x5d8),'description')},_a={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x5e0602(0x30f)},'name':{'type':a0_0x5e0602(0x30f)}},'required':[a0_0x5e0602(0x5d8),a0_0x5e0602(0x5e4)],...E('groupJid',a0_0x5e0602(0x5e4))},Oa={'$id':(0x0,v['v4'])(),'type':a0_0x5e0602(0x519),'properties':{'groupJid':{'type':a0_0x5e0602(0x30f)},'setting':{'type':a0_0x5e0602(0x30f),'enum':['announcement',a0_0x5e0602(0x53d),a0_0x5e0602(0x3b3),'locked']}},'required':[a0_0x5e0602(0x5d8),a0_0x5e0602(0x450)],...E(a0_0x5e0602(0x5d8),'setting')},Pa={'$id':(0x0,v['v4'])(),'type':a0_0x5e0602(0x519),'properties':{'inviteCode':{'type':a0_0x5e0602(0x30f)}},'required':[a0_0x5e0602(0x40d)],...E(a0_0x5e0602(0x40d))},xa={'$id':(0x0,v['v4'])(),'type':a0_0x5e0602(0x519),'properties':{'url':{'type':a0_0x5e0602(0x30f)},'enabled':{'type':a0_0x5e0602(0x31b),'enum':[!0x0,!0x1]}},'required':[a0_0x5e0602(0x31e),a0_0x5e0602(0x182)]},hn={'$id':(0x0,v['v4'])(),'type':a0_0x5e0602(0x519),'properties':{'local_map':{'type':a0_0x5e0602(0x31b),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x5e0602(0x31b),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x5e0602(0x31b),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x5e0602(0x31b),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x5e0602(0x31b),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x5e0602(0x31b),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x5e0602(0x31b),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x5e0602(0x31b),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x5e0602(0x31b),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x5e0602(0x31b),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x5e0602(0x31b),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x5e0602(0x31b),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x5e0602(0x31b),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x5e0602(0x31b),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['local_map','STATUS_INSTANCE',a0_0x5e0602(0x5d9),a0_0x5e0602(0x332),a0_0x5e0602(0x364),a0_0x5e0602(0x6f6),a0_0x5e0602(0x528),a0_0x5e0602(0x3ce),'CONTACTS_UPSERT',a0_0x5e0602(0x3a6),a0_0x5e0602(0x1da),a0_0x5e0602(0x50a),'CHATS_UPSERT',a0_0x5e0602(0x460),'CHATS_DELETE',a0_0x5e0602(0x5bb),'GROUPS_UPSERT',a0_0x5e0602(0x5a3),a0_0x5e0602(0x303)],...E(a0_0x5e0602(0x564),'STATUS_INSTANCE',a0_0x5e0602(0x5d9),a0_0x5e0602(0x332),a0_0x5e0602(0x364),'MESSAGES_UPSERT',a0_0x5e0602(0x528),a0_0x5e0602(0x3ce),a0_0x5e0602(0x2bc),'CONTACTS_UPDATE',a0_0x5e0602(0x1da),'CHATS_SET',a0_0x5e0602(0x48c),'CHATS_UPDATE','CHATS_DELETE','CONNECTION_UPDATE',a0_0x5e0602(0x5b1),a0_0x5e0602(0x5a3),'GROUP_PARTICIPANTS_UPDATE')},Je=class{},We=class extends W{constructor(_0x40a103){const _0x5396df=a0_0x5e0602;super(_0x40a103),this[_0x5396df(0x674)]=_0x40a103;}['getContactModelForOwner'](_0x20a68a){return $s(_0x20a68a);}async['insert'](_0x37ad9d){const _0x5cfd86=a0_0x5e0602;if(_0x37ad9d[_0x5cfd86(0x3f7)]!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x37ad9d[0x0][_0x5cfd86(0x367)])[_0x5cfd86(0x446)]([..._0x37ad9d]))[_0x5cfd86(0x3f7)]};}catch(_0x2176fd){return _0x2176fd;}}async[a0_0x5e0602(0x567)](_0x2c8a52){const _0x409a48=a0_0x5e0602;try{return{'deletedCount':(await this['getContactModelForOwner'](_0x2c8a52[_0x409a48(0x4d4)][_0x409a48(0x367)])[_0x409a48(0x4e0)]({..._0x2c8a52[_0x409a48(0x4d4)]}))[_0x409a48(0x610)]};}catch(_0x4aeffe){return{'error':_0x4aeffe?.[_0x409a48(0x35f)]()};}}async['update'](_0xb659e8,_0x35c2b7){const _0x5e9dd2=a0_0x5e0602;try{if(_0xb659e8[_0x5e9dd2(0x3f7)]===0x0)return;let _0x276541=this['getContactModelForOwner'](_0x35c2b7),_0x394f6d=_0xb659e8['map'](_0x2a6f85=>({'updateOne':{'filter':{'_id':_0x2a6f85[_0x5e9dd2(0x60f)],'owner':_0x35c2b7},'update':{..._0x2a6f85}}})),{modifiedCount:_0x4c39a4}=await _0x276541[_0x5e9dd2(0x6eb)](_0x394f6d);return{'insertCount':_0x4c39a4};}catch{return;}}async['find'](_0xd7ffa6){const _0x47850f=a0_0x5e0602;try{return await this[_0x47850f(0x43d)](_0xd7ffa6[_0x47850f(0x4d4)]['owner'])[_0x47850f(0x6f2)]({..._0xd7ffa6[_0x47850f(0x4d4)]})['limit'](_0xd7ffa6?.[_0x47850f(0x388)]??0x0)[_0x47850f(0x691)]();}catch{return[];}}async[a0_0x5e0602(0x648)](_0x343f91){const _0x514dc4=a0_0x5e0602;try{return await this['getContactModelForOwner'](_0x343f91[_0x514dc4(0x4d4)][_0x514dc4(0x367)])[_0x514dc4(0x648)]({..._0x343f91[_0x514dc4(0x4d4)]})['lean']();}catch{return null;}}async[a0_0x5e0602(0x309)](_0x2c9776){const _0x3a1731=a0_0x5e0602;try{return await this[_0x3a1731(0x43d)](_0x2c9776)[_0x3a1731(0x3f0)][_0x3a1731(0x5d5)](),{'success':!0x0};}catch(_0x3335e2){return console[_0x3a1731(0x2bd)](_0x3335e2),{'success':!0x1,'error':_0x3335e2};}}},He=require('jsonschema'),Cn=require(a0_0x5e0602(0x609)),is=new N('Validate'),k=class{constructor(){}[a0_0x5e0602(0x420)](_0x370b72,_0x57b1f2=!0x0){const _0x593c3f=a0_0x5e0602;let _0x5d7a32='/'+_0x370b72;return _0x57b1f2&&(_0x5d7a32+=_0x593c3f(0x49d)),_0x5d7a32;}async['dataValidate'](_0x3d27fe){const _0x26531e=a0_0x5e0602;let {request:_0x9f94dd,schema:_0x2ca892,ClassRef:_0x3c064f,execute:_0x3b2b18}=_0x3d27fe,_0x59386c=new _0x3c064f(),_0x2a6090=_0x9f94dd[_0x26531e(0x27b)],_0x416a99=_0x9f94dd[_0x26531e(0x719)];_0x9f94dd?.[_0x26531e(0x529)]&&Object[_0x26531e(0x4ec)](_0x9f94dd[_0x26531e(0x529)])[_0x26531e(0x3f7)]>0x0&&Object[_0x26531e(0x4b1)](_0x416a99,_0x9f94dd[_0x26531e(0x529)]),_0x9f94dd[_0x26531e(0x599)]['includes'](_0x26531e(0x45f))&&Object[_0x26531e(0x4b1)](_0x416a99,_0x2a6090),Object['assign'](_0x59386c,_0x2a6090);let _0x26d019=_0x2ca892?(0x0,He[_0x26531e(0x6cf)])(_0x59386c,_0x2ca892):{'valid':!0x0,'errors':[]};if(!_0x26d019[_0x26531e(0x4a9)]){let _0x5b8f08=_0x26d019[_0x26531e(0x4c7)][_0x26531e(0x503)](({property:_0x267ea6,stack:_0x5a0545,schema:_0x3b8355})=>{const _0x60d6bf=_0x26531e;let _0x379752;return _0x3b8355[_0x60d6bf(0x33f)]?_0x379752=_0x3b8355[_0x60d6bf(0x33f)]:_0x379752=_0x5a0545['replace'](_0x60d6bf(0x50b),''),{'property':_0x267ea6[_0x60d6bf(0x480)](_0x60d6bf(0x50b),''),'message':_0x379752};});throw is[_0x26531e(0x2bd)]([..._0x5b8f08]),new g(..._0x5b8f08);}return await _0x3b2b18(_0x416a99,_0x59386c);}async[a0_0x5e0602(0x46b)](_0x49e465){const _0x106365=a0_0x5e0602;let {request:_0x4416f9,ClassRef:_0x14f728,schema:_0x5869b6,execute:_0x124477}=_0x49e465,_0x20c65e=_0x4416f9[_0x106365(0x529)];if(!_0x20c65e?.[_0x106365(0x5d8)])throw new g('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query',_0x106365(0x2f8));let _0x382a22=_0x4416f9['params'],_0x1f2c53=_0x4416f9[_0x106365(0x27b)],_0x4a8a67=new _0x14f728();Object[_0x106365(0x4b1)](_0x1f2c53,_0x20c65e),Object['assign'](_0x4a8a67,_0x1f2c53);let _0x241c06=(0x0,He[_0x106365(0x6cf)])(_0x4a8a67,_0x5869b6);if(!_0x241c06[_0x106365(0x4a9)]){let _0x48f27d=_0x241c06[_0x106365(0x4c7)]['map'](({property:_0x5c6fab,stack:_0x252b3f,schema:_0x348f04})=>{const _0x3a41a5=_0x106365;let _0x42d257;return _0x348f04[_0x3a41a5(0x33f)]?_0x42d257=_0x348f04[_0x3a41a5(0x33f)]:_0x42d257=_0x252b3f[_0x3a41a5(0x480)](_0x3a41a5(0x50b),''),{'property':_0x5c6fab['replace'](_0x3a41a5(0x50b),''),'message':_0x42d257};});throw is['error']([..._0x48f27d]),new g(..._0x48f27d);}return await _0x124477(_0x382a22,_0x4a8a67);}async[a0_0x5e0602(0x659)](_0x4c6d48){const _0x58b485=a0_0x5e0602;let {request:_0x37a613,ClassRef:_0x1b1bc2,schema:_0x265729,execute:_0x15e62f}=_0x4c6d48,_0x367f5b=_0x37a613[_0x58b485(0x27b)];if(!_0x367f5b?.[_0x58b485(0x40d)])throw new g('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x58b485(0x689));let _0xb6aeb8=_0x37a613[_0x58b485(0x719)],_0x2b32bd=_0x37a613[_0x58b485(0x27b)],_0x250485=new _0x1b1bc2();Object[_0x58b485(0x4b1)](_0x2b32bd,_0x367f5b),Object['assign'](_0x250485,_0x2b32bd);let _0x588900=(0x0,He[_0x58b485(0x6cf)])(_0x250485,_0x265729);if(!_0x588900[_0x58b485(0x4a9)]){let _0x526a1b=_0x588900['errors'][_0x58b485(0x503)](({property:_0x3f5054,stack:_0x47cb94,schema:_0x36ddf6})=>{const _0xc3e121=_0x58b485;let _0x263615;return _0x36ddf6[_0xc3e121(0x33f)]?_0x263615=_0x36ddf6[_0xc3e121(0x33f)]:_0x263615=_0x47cb94[_0xc3e121(0x480)](_0xc3e121(0x50b),''),{'property':_0x3f5054[_0xc3e121(0x480)](_0xc3e121(0x50b),''),'message':_0x263615};});throw is[_0x58b485(0x2bd)]([..._0x526a1b]),new g(..._0x526a1b);}return await _0x15e62f(_0xb6aeb8,_0x250485);}},b=class{},Ke=class extends k{constructor(..._0x4f13ee){const _0xc41d88=a0_0x5e0602;super(),this['router']=(0x0,$a[_0xc41d88(0x25b)])(),this[_0xc41d88(0x39b)][_0xc41d88(0x584)](this[_0xc41d88(0x420)](_0xc41d88(0x6f7)),..._0x4f13ee,async(_0x238d50,_0x675122)=>{const _0x1c8b5d=_0xc41d88;let _0x34a466=await this['dataValidate']({'request':_0x238d50,'schema':Ta,'ClassRef':$e,'execute':(_0x338498,_0x2fc8fb)=>D[_0x1c8b5d(0x6f7)](_0x338498,_0x2fc8fb)});return _0x675122[_0x1c8b5d(0x5a7)](0xc9)['json'](_0x34a466);})[_0xc41d88(0x584)](this[_0xc41d88(0x420)](_0xc41d88(0x531)),..._0x4f13ee,async(_0x1c3a9e,_0x2df254)=>{const _0x384919=_0xc41d88;let _0x3ba681=await this['dataValidate']({'request':_0x1c3a9e,'schema':ha,'ClassRef':ke,'execute':(_0x441846,_0x52c455)=>D[_0x384919(0x50d)](_0x441846,_0x52c455)});return _0x2df254['status'](0xc9)[_0x384919(0x288)](_0x3ba681);})['post'](this['routerPath'](_0xc41d88(0x4dd)),..._0x4f13ee,async(_0x138dcb,_0x5d930a)=>{const _0x2e3d80=_0xc41d88;let _0x1b071a=await this[_0x2e3d80(0x53b)]({'request':_0x138dcb,'schema':C,'ClassRef':b,'execute':(_0x57edac,_0x235645)=>D['editChat'](_0x57edac,_0x235645)});return _0x5d930a[_0x2e3d80(0x5a7)](0xc9)['json'](_0x1b071a);})[_0xc41d88(0x6bb)](this[_0xc41d88(0x420)](_0xc41d88(0x413)),..._0x4f13ee,async(_0x2a1512,_0x1bb939)=>{const _0x2ee3bf=_0xc41d88;let _0x573430=await this[_0x2ee3bf(0x53b)]({'request':_0x2a1512,'schema':fa,'ClassRef':Ve,'execute':(_0x510120,_0x37e503)=>D[_0x2ee3bf(0x49e)](_0x510120,_0x37e503)});return _0x1bb939[_0x2ee3bf(0x5a7)](0xc9)[_0x2ee3bf(0x288)](_0x573430);})['put'](this[_0xc41d88(0x420)]('archiveChat'),..._0x4f13ee,async(_0x15ddb7,_0x43e151)=>{const _0x386a84=_0xc41d88;let _0x43cca4=await this[_0x386a84(0x53b)]({'request':_0x15ddb7,'schema':ya,'ClassRef':je,'execute':(_0x31a67c,_0x48fc6b)=>D[_0x386a84(0x3d9)](_0x31a67c,_0x48fc6b)});return _0x43e151[_0x386a84(0x5a7)](0xc9)['json'](_0x43cca4);})[_0xc41d88(0x567)](this[_0xc41d88(0x420)](_0xc41d88(0x594)),..._0x4f13ee,async(_0x3de56d,_0x41491b)=>{const _0xae1933=_0xc41d88;let _0x703bde=await this[_0xae1933(0x53b)]({'request':_0x3de56d,'schema':ba,'ClassRef':Be,'execute':(_0x18e6a6,_0x289538)=>D[_0xae1933(0x5ce)](_0x18e6a6,_0x289538)});return _0x41491b[_0xae1933(0x5a7)](0xc9)[_0xae1933(0x288)](_0x703bde);})[_0xc41d88(0x584)](this[_0xc41d88(0x420)]('fetchProfilePictureUrl'),..._0x4f13ee,async(_0x54d11c,_0x33b36a)=>{const _0x38f52e=_0xc41d88;let _0x4468a5=await this[_0x38f52e(0x53b)]({'request':_0x54d11c,'schema':Ee,'ClassRef':Se,'execute':(_0x140c15,_0x42534b)=>D[_0x38f52e(0x2f7)](_0x140c15,_0x42534b)});return _0x33b36a[_0x38f52e(0x5a7)](0xc8)[_0x38f52e(0x288)](_0x4468a5);})[_0xc41d88(0x584)](this[_0xc41d88(0x420)](_0xc41d88(0x6d5)),..._0x4f13ee,async(_0x3cfe24,_0x5bc030)=>{const _0xa5c114=_0xc41d88;let _0x3b3663=await this[_0xa5c114(0x53b)]({'request':_0x3cfe24,'schema':Ca,'ClassRef':Se,'execute':(_0x2c41b3,_0x5040e8)=>D[_0xa5c114(0x6d5)](_0x2c41b3,_0x5040e8)});return _0x5bc030['status'](0xc8)['json'](_0x3b3663);})[_0xc41d88(0x584)](this[_0xc41d88(0x420)](_0xc41d88(0x2cd)),..._0x4f13ee,async(_0x4e121c,_0x39c55e)=>{const _0x5880a4=_0xc41d88;let _0x400f95=await this[_0x5880a4(0x53b)]({'request':_0x4e121c,'schema':Sa,'ClassRef':Je,'execute':(_0x311995,_0x48cc9d)=>D[_0x5880a4(0x43c)](_0x311995,_0x48cc9d)});return _0x39c55e[_0x5880a4(0x5a7)](0xc8)['json'](_0x400f95);})['post'](this[_0xc41d88(0x420)](_0xc41d88(0x243)),..._0x4f13ee,async(_0x5e271a,_0x2e9ab8)=>{const _0x2a1b50=_0xc41d88;let _0x2fef92=await this[_0x2a1b50(0x53b)]({'request':_0x5e271a,'schema':null,'ClassRef':Object,'execute':(_0x40fc99,_0x503fae)=>D[_0x2a1b50(0x243)](_0x40fc99,_0x503fae)});return _0x2e9ab8[_0x2a1b50(0x5a7)](0xc9)[_0x2a1b50(0x288)](_0x2fef92);})['post'](this[_0xc41d88(0x420)]('findMessages'),..._0x4f13ee,async(_0x55a4b5,_0x226460)=>{const _0x5be111=_0xc41d88;let _0x566b78=await this[_0x5be111(0x53b)]({'request':_0x55a4b5,'schema':Na,'ClassRef':Pe,'execute':(_0x473306,_0x51a2a5)=>D[_0x5be111(0x6f9)](_0x473306,_0x51a2a5)});return _0x226460[_0x5be111(0x5a7)](0xc8)[_0x5be111(0x288)](_0x566b78);})[_0xc41d88(0x43f)](this[_0xc41d88(0x420)](_0xc41d88(0x644)),..._0x4f13ee,async(_0x385afc,_0x266db2)=>{const _0x15fdb8=_0xc41d88;let _0x45a8dc=await this[_0x15fdb8(0x53b)]({'request':_0x385afc,'schema':null,'ClassRef':b,'execute':_0x3f421a=>D[_0x15fdb8(0x2c3)](_0x3f421a)});return _0x266db2['status'](0xc8)[_0x15fdb8(0x288)](_0x45a8dc);})[_0xc41d88(0x43f)](this[_0xc41d88(0x420)](_0xc41d88(0x17f)),..._0x4f13ee,async(_0xbd437,_0xe58299)=>{const _0x38ca23=_0xc41d88;let _0x15b4a1=await this[_0x38ca23(0x53b)]({'request':_0xbd437,'schema':null,'ClassRef':b,'execute':_0x458449=>D[_0x38ca23(0x17f)](_0x458449)});return _0xe58299[_0x38ca23(0x5a7)](0xc8)[_0x38ca23(0x288)](_0x15b4a1);})['put'](this[_0xc41d88(0x420)](_0xc41d88(0x394)),..._0x4f13ee,async(_0x2a3e8f,_0x114a21)=>{const _0x4a6845=_0xc41d88;let _0x1fedef=await this['dataValidate']({'request':_0x2a3e8f,'schema':wa,'ClassRef':Fe,'execute':(_0x18f416,_0x5baf32)=>D[_0x4a6845(0x394)](_0x18f416,_0x5baf32)});return _0x114a21[_0x4a6845(0x5a7)](0xc9)[_0x4a6845(0x288)](_0x1fedef);})[_0xc41d88(0x584)](this['routerPath'](_0xc41d88(0x336)),..._0x4f13ee,async(_0x4646f4,_0x5ab7fa)=>{const _0x250066=_0xc41d88;let _0xa5c74e=await this[_0x250066(0x53b)]({'request':_0x4646f4,'schema':Ee,'ClassRef':fe,'execute':(_0x4737e8,_0x2d2db1)=>D[_0x250066(0x336)](_0x4737e8,_0x2d2db1)});return _0x5ab7fa[_0x250066(0x5a7)](0xc8)[_0x250066(0x288)](_0xa5c74e);})[_0xc41d88(0x584)](this[_0xc41d88(0x420)]('updateProfileName'),..._0x4f13ee,async(_0xbf4afc,_0xf8807)=>{const _0x2fff06=_0xc41d88;let _0x556f91=await this[_0x2fff06(0x53b)]({'request':_0xbf4afc,'schema':Ea,'ClassRef':Le,'execute':(_0x48c636,_0x239067)=>D[_0x2fff06(0x627)](_0x48c636,_0x239067)});return _0xf8807['status'](0xc8)['json'](_0x556f91);})[_0xc41d88(0x584)](this[_0xc41d88(0x420)](_0xc41d88(0x53a)),..._0x4f13ee,async(_0x4236bf,_0x2522c4)=>{const _0x14c60c=_0xc41d88;let _0x3cac7d=await this[_0x14c60c(0x53b)]({'request':_0x4236bf,'schema':va,'ClassRef':Ue,'execute':(_0x294aff,_0x1c3e90)=>D['updateProfileStatus'](_0x294aff,_0x1c3e90)});return _0x2522c4[_0x14c60c(0x5a7)](0xc8)[_0x14c60c(0x288)](_0x3cac7d);})[_0xc41d88(0x6bb)](this[_0xc41d88(0x420)](_0xc41d88(0x6ba)),..._0x4f13ee,async(_0x23bf0b,_0x4511df)=>{const _0xb773be=_0xc41d88;let _0x8aa288=await this[_0xb773be(0x53b)]({'request':_0x23bf0b,'schema':Ee,'ClassRef':fe,'execute':(_0x2fbdc0,_0x1fc06f)=>D[_0xb773be(0x6ba)](_0x2fbdc0,_0x1fc06f)});return _0x4511df[_0xb773be(0x5a7)](0xc8)[_0xb773be(0x288)](_0x8aa288);})[_0xc41d88(0x567)](this['routerPath'](_0xc41d88(0x510)),..._0x4f13ee,async(_0x3a177e,_0x1ea47e)=>{const _0x75d499=_0xc41d88;let _0xd6cae7=await this[_0x75d499(0x53b)]({'request':_0x3a177e,'schema':Ee,'ClassRef':fe,'execute':(_0x38c452,_0x1bc22c)=>D['removeProfilePicture'](_0x38c452,_0x1bc22c)});return _0x1ea47e[_0x75d499(0x5a7)](0xc8)['json'](_0xd6cae7);});}},ka=require(a0_0x5e0602(0x437)),ze=class{},Qe=class{},Ye=class{},Xe=class{},Ze=class{},Z=class{},et=class{},tt=class extends Z{},st=class extends Z{},at=class extends k{constructor(..._0x1e7e24){const _0x4440e0=a0_0x5e0602;super(),this[_0x4440e0(0x39b)]=(0x0,ka[_0x4440e0(0x25b)])(),this[_0x4440e0(0x39b)][_0x4440e0(0x584)](this['routerPath'](_0x4440e0(0x72e)),..._0x1e7e24,async(_0x4cb831,_0x36724d)=>{const _0x202173=_0x4440e0;let _0x33301f=await this[_0x202173(0x53b)]({'request':_0x4cb831,'schema':Ra,'ClassRef':ze,'execute':(_0x15e982,_0x52a051)=>U['createGroup'](_0x15e982,_0x52a051)});_0x36724d['status'](0xc9)[_0x202173(0x288)](_0x33301f);})[_0x4440e0(0x6bb)](this[_0x4440e0(0x420)](_0x4440e0(0x738)),..._0x1e7e24,async(_0x4e2d92,_0x3bd02b)=>{const _0xc5f90d=_0x4440e0;let _0x26657a=await this[_0xc5f90d(0x46b)]({'request':_0x4e2d92,'schema':Ia,'ClassRef':Qe,'execute':(_0x59b54c,_0x30b962)=>U[_0xc5f90d(0x738)](_0x59b54c,_0x30b962)});_0x3bd02b[_0xc5f90d(0x5a7)](0xc9)[_0xc5f90d(0x288)](_0x26657a);})[_0x4440e0(0x6bb)](this[_0x4440e0(0x420)]('groupDesc'),..._0x1e7e24,async(_0x797298,_0x3515c7)=>{const _0x647fa1=_0x4440e0;let _0x1223c1=await this['groupValidate']({'request':_0x797298,'schema':Da,'ClassRef':Ye,'execute':(_0x18b6c8,_0x2a3f38)=>U[_0x647fa1(0x615)](_0x18b6c8,_0x2a3f38)});_0x3515c7[_0x647fa1(0x5a7)](0xc9)[_0x647fa1(0x288)](_0x1223c1);})[_0x4440e0(0x6bb)](this[_0x4440e0(0x420)]('groupName'),..._0x1e7e24,async(_0x215f44,_0x1891b6)=>{const _0x2612a9=_0x4440e0;let _0x3f1d1a=await this[_0x2612a9(0x46b)]({'request':_0x215f44,'schema':_a,'ClassRef':Xe,'execute':(_0xb48404,_0x4f0084)=>U['groupName'](_0xb48404,_0x4f0084)});_0x1891b6['status'](0xc9)[_0x2612a9(0x288)](_0x3f1d1a);})['put'](this['routerPath'](_0x4440e0(0x6ea)),..._0x1e7e24,async(_0x449d6b,_0xcbe6c3)=>{const _0x4cb5a8=_0x4440e0;let _0x5cddf0=await this[_0x4cb5a8(0x46b)]({'request':_0x449d6b,'schema':Oa,'ClassRef':Ze,'execute':(_0x12bfa0,_0x3c1625)=>U[_0x4cb5a8(0x6ea)](_0x12bfa0,_0x3c1625)});_0xcbe6c3['status'](0xc9)[_0x4cb5a8(0x288)](_0x5cddf0);})[_0x4440e0(0x6bb)](this[_0x4440e0(0x420)](_0x4440e0(0x595)),..._0x1e7e24,async(_0x3fde51,_0x53dfca)=>{const _0x12c554=_0x4440e0;let _0x383bc6=await this[_0x12c554(0x46b)]({'request':_0x3fde51,'schema':Aa,'ClassRef':st,'execute':(_0x190c3a,_0x2349b3)=>U[_0x12c554(0x595)](_0x190c3a,_0x2349b3)});_0x53dfca[_0x12c554(0x5a7)](0xc9)[_0x12c554(0x288)](_0x383bc6);})['get'](this['routerPath'](_0x4440e0(0x526)),..._0x1e7e24,async(_0x3bf68c,_0x55b594)=>{const _0x47f1a2=_0x4440e0;let _0xac1d93=await this[_0x47f1a2(0x46b)]({'request':_0x3bf68c,'schema':ve,'ClassRef':Z,'execute':(_0xf5864f,_0x348b06)=>U[_0x47f1a2(0x4c3)](_0xf5864f,_0x348b06)});_0x55b594[_0x47f1a2(0x5a7)](0xc8)[_0x47f1a2(0x288)](_0xac1d93);})['get'](this[_0x4440e0(0x420)]('findGroups'),..._0x1e7e24,async(_0x11fc0a,_0x114586)=>{const _0x428cf7=_0x4440e0;let _0x2f13fc=await this[_0x428cf7(0x53b)]({'request':_0x11fc0a,'schema':C,'ClassRef':b,'execute':_0x1feece=>U['findGroups'](_0x1feece)});_0x114586[_0x428cf7(0x5a7)](0xc8)[_0x428cf7(0x288)](_0x2f13fc);})[_0x4440e0(0x43f)](this[_0x4440e0(0x420)](_0x4440e0(0x41f)),..._0x1e7e24,async(_0x13edf9,_0x50457e)=>{const _0x480fbf=_0x4440e0;let _0x35a0d4=await this[_0x480fbf(0x46b)]({'request':_0x13edf9,'schema':ve,'ClassRef':Z,'execute':(_0x1eaacd,_0x28a144)=>U[_0x480fbf(0x4d1)](_0x1eaacd,_0x28a144)});_0x50457e[_0x480fbf(0x5a7)](0xc8)[_0x480fbf(0x288)](_0x35a0d4);})[_0x4440e0(0x43f)](this[_0x4440e0(0x420)]('inviteCode'),..._0x1e7e24,async(_0xd182a7,_0x108348)=>{const _0x53ad7c=_0x4440e0;let _0x13507a=await this['groupValidate']({'request':_0xd182a7,'schema':ve,'ClassRef':Z,'execute':(_0xf46e62,_0x5e70ea)=>U[_0x53ad7c(0x40d)](_0xf46e62,_0x5e70ea)});_0x108348[_0x53ad7c(0x5a7)](0xc8)['json'](_0x13507a);})['put'](this['routerPath'](_0x4440e0(0x1e5)),..._0x1e7e24,async(_0x432ef3,_0x3b1d98)=>{const _0x1310d3=_0x4440e0;let _0x33d56b=await this[_0x1310d3(0x659)]({'request':_0x432ef3,'schema':Pa,'ClassRef':et,'execute':(_0x3cd1a5,_0x322cb6)=>U[_0x1310d3(0x1e5)](_0x3cd1a5,_0x322cb6)});_0x3b1d98[_0x1310d3(0x5a7)](0xc9)[_0x1310d3(0x288)](_0x33d56b);})[_0x4440e0(0x6bb)](this[_0x4440e0(0x420)](_0x4440e0(0x6a6)),..._0x1e7e24,async(_0x1125cb,_0x3ade7a)=>{const _0x14ff83=_0x4440e0;let _0x189144=await this[_0x14ff83(0x46b)]({'request':_0x1125cb,'schema':ve,'ClassRef':Z,'execute':(_0x4a8671,_0x5ec7e9)=>U[_0x14ff83(0x6a6)](_0x4a8671,_0x5ec7e9)});_0x3ade7a[_0x14ff83(0x5a7)](0xc9)[_0x14ff83(0x288)](_0x189144);})['put'](this[_0x4440e0(0x420)](_0x4440e0(0x20a)),..._0x1e7e24,async(_0x5e5deb,_0x1433cc)=>{const _0x128913=_0x4440e0;let _0x1ca19e=await this[_0x128913(0x46b)]({'request':_0x5e5deb,'schema':Ma,'ClassRef':tt,'execute':(_0x3c4d33,_0x1ccadb)=>U[_0x128913(0x484)](_0x3c4d33,_0x1ccadb)});_0x1433cc[_0x128913(0x5a7)](0xc9)[_0x128913(0x288)](_0x1ca19e);})[_0x4440e0(0x567)](this[_0x4440e0(0x420)](_0x4440e0(0x44c)),..._0x1e7e24,async(_0x502a14,_0x2ee1b2)=>{const _0x9e4cd1=_0x4440e0;let _0x2790bc=await this[_0x9e4cd1(0x46b)]({'request':_0x502a14,'schema':{},'ClassRef':Z,'execute':(_0x3aaaed,_0x262e94)=>U[_0x9e4cd1(0x44c)](_0x3aaaed,_0x262e94)});_0x2ee1b2[_0x9e4cd1(0x5a7)](0xc8)[_0x9e4cd1(0x288)](_0x2790bc);});}},Va=require(a0_0x5e0602(0x437)),Ce=require(a0_0x5e0602(0x428)),ns=require(a0_0x5e0602(0x30a)),La=require('class-validator'),Ua=T(require('axios')),ot=class{},rt=class c{constructor(_0x1d9f3b,_0x33fe32,_0x3f3cec){const _0x3ac8cb=a0_0x5e0602;this[_0x3ac8cb(0x674)]=_0x1d9f3b,this[_0x3ac8cb(0x682)]=_0x33fe32,this[_0x3ac8cb(0x323)]=_0x3f3cec,this[_0x3ac8cb(0x2d4)]=new N(c['name']);}async[a0_0x5e0602(0x3ad)](_0x87c264){const _0x2a0bd0=a0_0x5e0602;let _0x35448d=this[_0x2a0bd0(0x674)][_0x2a0bd0(0x43f)]('AUTHENTICATION')[_0x2a0bd0(0x225)],_0x3c9ffc=(0x0,Ce['sign'])({'instanceName':_0x87c264[_0x2a0bd0(0x32a)],'apiName':Ge,'tokenId':(0x0,ns['v4'])()},_0x35448d[_0x2a0bd0(0x21b)],{'expiresIn':_0x35448d[_0x2a0bd0(0x60e)],'encoding':_0x2a0bd0(0x1e0),'subject':'g-t'}),_0x2ad39e=await this[_0x2a0bd0(0x323)]['auth'][_0x2a0bd0(0x72e)]({'jwt':_0x3c9ffc},_0x87c264['instanceName']);if(_0x2ad39e['error'])throw this[_0x2a0bd0(0x2d4)]['error']({'localError':c[_0x2a0bd0(0x5e4)]+_0x2a0bd0(0x3fd),'error':_0x2ad39e[_0x2a0bd0(0x2bd)]}),new g('Authentication\x20error',_0x2ad39e[_0x2a0bd0(0x2bd)]?.[_0x2a0bd0(0x35f)]());return{'jwt':_0x3c9ffc};}async[a0_0x5e0602(0x180)](_0x5f2b6c){const _0x34172a=a0_0x5e0602;let _0x56e9c8=(0x0,ns['v4'])()[_0x34172a(0x3c8)](),_0x237a40=await this['repository'][_0x34172a(0x35b)][_0x34172a(0x72e)]({'apikey':_0x56e9c8},_0x5f2b6c[_0x34172a(0x32a)]);if(_0x237a40[_0x34172a(0x2bd)])throw this[_0x34172a(0x2d4)][_0x34172a(0x2bd)]({'localError':c[_0x34172a(0x5e4)]+'.jwt','error':_0x237a40[_0x34172a(0x2bd)]}),new g('Authentication\x20error',_0x237a40[_0x34172a(0x2bd)]?.[_0x34172a(0x35f)]());return{'apikey':_0x56e9c8};}async['generateHash'](_0x4e72b7){const _0x3081e9=a0_0x5e0602;let _0x37fa3d=this['configService'][_0x3081e9(0x43f)](_0x3081e9(0x1ca));return await this[_0x37fa3d[_0x3081e9(0x2a6)]](_0x4e72b7);}async[a0_0x5e0602(0x427)]({oldToken:_0x294694}){const _0xee7e7f=a0_0x5e0602;if(!(0x0,La[_0xee7e7f(0x1bb)])(_0x294694))throw new g(_0xee7e7f(0x5c2));try{let _0x408b12=this[_0xee7e7f(0x674)][_0xee7e7f(0x43f)](_0xee7e7f(0x1ca))[_0xee7e7f(0x225)],_0x1330ee=(0x0,Ce[_0xee7e7f(0x254)])(_0x294694,_0x408b12[_0xee7e7f(0x21b)],{'ignoreExpiration':!0x0}),_0x344837=await this['repository']['auth']['find'](_0x1330ee[_0xee7e7f(0x32a)]),_0x8b25a1=(0x0,Ce[_0xee7e7f(0x254)])(_0x344837['jwt'],_0x408b12['SECRET'],{'ignoreExpiration':!0x0});if(_0x1330ee[_0xee7e7f(0x48a)]!==_0x8b25a1[_0xee7e7f(0x48a)])throw new g(_0xee7e7f(0x5c2));let _0x113fd7={'jwt':(await this[_0xee7e7f(0x3ad)]({'instanceName':_0x1330ee['instanceName']}))[_0xee7e7f(0x3ad)],'instanceName':_0x1330ee[_0xee7e7f(0x32a)]};try{let _0x5bb77e=await this[_0xee7e7f(0x323)][_0xee7e7f(0x473)][_0xee7e7f(0x6f2)](_0x1330ee[_0xee7e7f(0x32a)]);_0x5bb77e?.['enabled']&&this['configService'][_0xee7e7f(0x43f)](_0xee7e7f(0x389))[_0xee7e7f(0x3d1)]['NEW_JWT_TOKEN']&&await Ua[_0xee7e7f(0x56d)][_0xee7e7f(0x72e)]({'baseURL':_0x5bb77e[_0xee7e7f(0x31e)]})[_0xee7e7f(0x584)]('',{'event':_0xee7e7f(0x5c1),'instance':_0x1330ee[_0xee7e7f(0x32a)],'data':_0x113fd7},{'params':{'owner':this[_0xee7e7f(0x682)][_0xee7e7f(0x5d6)][_0x1330ee[_0xee7e7f(0x32a)]][_0xee7e7f(0x396)]}});}catch(_0x4451c1){this[_0xee7e7f(0x2d4)][_0xee7e7f(0x2bd)](_0x4451c1);}return _0x113fd7;}catch(_0x24e26a){throw this['logger'][_0xee7e7f(0x2bd)]({'localError':c['name']+_0xee7e7f(0x49f),'error':_0x24e26a}),new g(_0xee7e7f(0x5c2));}}},it=class extends k{constructor(_0x2eb141,..._0x36377d){const _0xc6a530=a0_0x5e0602;super(),this[_0xc6a530(0x674)]=_0x2eb141,this[_0xc6a530(0x39b)]=(0x0,Va[_0xc6a530(0x25b)])();let _0x29d09e=_0x2eb141['get'](_0xc6a530(0x1ca));this[_0xc6a530(0x39b)]['post'](_0xc6a530(0x533),..._0x36377d,async(_0x418338,_0x383c6d)=>{const _0x22d7f3=_0xc6a530;let {instanceName:_0x5c6c4e,apikey:_0x25a1d7}=_0x418338[_0x22d7f3(0x27b)],_0x29f2ab=await ie[_0x22d7f3(0x4c4)]({'instanceName':_0x5c6c4e,'apikey':_0x25a1d7});return _0x383c6d[_0x22d7f3(0x5a7)](0xc9)[_0x22d7f3(0x288)](_0x29f2ab);})['put'](this[_0xc6a530(0x420)](_0xc6a530(0x57b)),..._0x36377d,async(_0x45e3fc,_0x5638e8)=>{const _0x6723ef=_0xc6a530;let _0x58a8e9=await this['dataValidate']({'request':_0x45e3fc,'schema':C,'ClassRef':b,'execute':_0x4a250e=>ie[_0x6723ef(0x1d5)](_0x4a250e)});return _0x5638e8[_0x6723ef(0x5a7)](0xc8)[_0x6723ef(0x288)](_0x58a8e9);})['get'](this['routerPath'](_0xc6a530(0x4eb)),..._0x36377d,async(_0x255e65,_0x3db4a3)=>{const _0x147881=_0xc6a530;let _0x44ec50=await this['dataValidate']({'request':_0x255e65,'schema':C,'ClassRef':b,'execute':_0x5c5978=>ie['connectToWhatsapp'](_0x5c5978)});return _0x3db4a3[_0x147881(0x5a7)](0xc8)[_0x147881(0x288)](_0x44ec50);})[_0xc6a530(0x43f)](this[_0xc6a530(0x420)](_0xc6a530(0x668)),..._0x36377d,async(_0x3cc5aa,_0x3be3e9)=>{const _0x237b52=_0xc6a530;let _0x4f1b80=await this[_0x237b52(0x53b)]({'request':_0x3cc5aa,'schema':C,'ClassRef':b,'execute':_0x125b4f=>ie[_0x237b52(0x668)](_0x125b4f)});return _0x3be3e9[_0x237b52(0x5a7)](0xc8)[_0x237b52(0x288)](_0x4f1b80);})['get'](this[_0xc6a530(0x420)](_0xc6a530(0x5c3),!0x1),..._0x36377d,async(_0x50036d,_0x18c585)=>{const _0x5ead78=_0xc6a530;let _0x2c9252=await this[_0x5ead78(0x53b)]({'request':_0x50036d,'schema':null,'ClassRef':b,'execute':_0x40204a=>ie[_0x5ead78(0x5c3)](_0x40204a)});return _0x18c585['status'](0xc8)[_0x5ead78(0x288)](_0x2c9252);})[_0xc6a530(0x567)](this['routerPath'](_0xc6a530(0x415)),..._0x36377d,async(_0x36d1d9,_0x46e64f)=>{const _0x41c96c=_0xc6a530;let _0x136fd5=await this[_0x41c96c(0x53b)]({'request':_0x36d1d9,'schema':C,'ClassRef':b,'execute':_0xbb96c5=>ie[_0x41c96c(0x415)](_0xbb96c5)});return _0x46e64f[_0x41c96c(0x5a7)](0xc8)['json'](_0x136fd5);})['delete'](this[_0xc6a530(0x420)](_0xc6a530(0x567)),..._0x36377d,async(_0x4f6d6c,_0x2ea60c)=>{const _0x3f93eb=_0xc6a530;let _0xd47f1c=await this[_0x3f93eb(0x53b)]({'request':_0x4f6d6c,'schema':C,'ClassRef':b,'execute':_0x4248a3=>ie[_0x3f93eb(0x4ff)](_0x4248a3)});return _0x2ea60c[_0x3f93eb(0x5a7)](0xc8)['json'](_0xd47f1c);}),_0x29d09e[_0xc6a530(0x2a6)]==='jwt'&&this[_0xc6a530(0x39b)][_0xc6a530(0x6bb)](_0xc6a530(0x2b4),async(_0x4a6987,_0x202447)=>{const _0x5136c3=_0xc6a530;let _0x1b2a8e=await this[_0x5136c3(0x53b)]({'request':_0x4a6987,'schema':sa,'ClassRef':ot,'execute':(_0xf510f,_0x5ae7f4)=>ie[_0x5136c3(0x427)](_0xf510f,_0x5ae7f4)});return _0x202447[_0x5136c3(0x5a7)](0xc9)[_0x5136c3(0x288)](_0x1b2a8e);});}},ja=require(a0_0x5e0602(0x437)),cs=class{},z=class extends cs{},nt=class extends z{},ct=class extends z{},lt=class extends z{},Ne=class extends z{},ut=class extends z{},dt=class extends z{},pt=class extends z{},gt=class extends z{},mt=class extends z{},ht=class{},ft=class extends k{constructor(..._0x47d786){const _0x5c60eb=a0_0x5e0602;super(),this['router']=(0x0,ja['Router'])(),this[_0x5c60eb(0x39b)][_0x5c60eb(0x584)](this[_0x5c60eb(0x420)]('sendText'),..._0x47d786,async(_0x1c761b,_0x17171f)=>{const _0x511515=_0x5c60eb;let _0x113429=await this[_0x511515(0x53b)]({'request':_0x1c761b,'schema':aa,'ClassRef':nt,'execute':(_0x5228ff,_0x3c0884)=>K[_0x511515(0x521)](_0x5228ff,_0x3c0884)});return _0x17171f[_0x511515(0x5a7)](0xc9)[_0x511515(0x288)](_0x113429);})[_0x5c60eb(0x584)](this[_0x5c60eb(0x420)]('sendMedia'),..._0x47d786,async(_0x376844,_0x5d66ea)=>{const _0x69c60b=_0x5c60eb;let _0x502557=await this[_0x69c60b(0x53b)]({'request':_0x376844,'schema':na,'ClassRef':Ne,'execute':(_0x5cdc64,_0x3a0878)=>K[_0x69c60b(0x5e1)](_0x5cdc64,_0x3a0878)});return _0x5d66ea['status'](0xc9)[_0x69c60b(0x288)](_0x502557);})[_0x5c60eb(0x584)](this['routerPath'](_0x5c60eb(0x2a4)),..._0x47d786,async(_0x35096b,_0x46cd4b)=>{const _0x1336a7=_0x5c60eb;let _0x1ce7af=await this[_0x1336a7(0x53b)]({'request':_0x35096b,'schema':ca,'ClassRef':Ne,'execute':(_0x15509a,_0x107b3f)=>K[_0x1336a7(0x2a4)](_0x15509a,_0x107b3f)});return _0x46cd4b[_0x1336a7(0x5a7)](0xc9)['json'](_0x1ce7af);})[_0x5c60eb(0x584)](this[_0x5c60eb(0x420)](_0x5c60eb(0x6b7)),..._0x47d786,async(_0xdc6af0,_0xc301e0)=>{const _0x50f5bb=_0x5c60eb;let _0x3b1055=await this['dataValidate']({'request':_0xdc6af0,'schema':ua,'ClassRef':dt,'execute':(_0x4cfd09,_0x14f4b1)=>K[_0x50f5bb(0x6b7)](_0x4cfd09,_0x14f4b1)});return _0xc301e0[_0x50f5bb(0x5a7)](0xc9)[_0x50f5bb(0x288)](_0x3b1055);})[_0x5c60eb(0x584)](this[_0x5c60eb(0x420)]('sendLocation'),..._0x47d786,async(_0x491164,_0x5c1cdc)=>{const _0x49b218=_0x5c60eb;let _0x905fd2=await this['dataValidate']({'request':_0x491164,'schema':da,'ClassRef':pt,'execute':(_0xcc897a,_0x29202f)=>K[_0x49b218(0x497)](_0xcc897a,_0x29202f)});return _0x5c1cdc[_0x49b218(0x5a7)](0xc9)['json'](_0x905fd2);})[_0x5c60eb(0x584)](this[_0x5c60eb(0x420)](_0x5c60eb(0x2b0)),..._0x47d786,async(_0x1f0b03,_0x59e864)=>{const _0x366813=_0x5c60eb;let _0x3fa15d=await this[_0x366813(0x53b)]({'request':_0x1f0b03,'schema':pa,'ClassRef':gt,'execute':(_0x4fa453,_0x40a208)=>K['sendList'](_0x4fa453,_0x40a208)});return _0x59e864[_0x366813(0x5a7)](0xc9)[_0x366813(0x288)](_0x3fa15d);})[_0x5c60eb(0x584)](this[_0x5c60eb(0x420)]('sendContact'),..._0x47d786,async(_0x16a6d5,_0xca9119)=>{const _0x23f9d2=_0x5c60eb;let _0x16f659=await this[_0x23f9d2(0x53b)]({'request':_0x16a6d5,'schema':ga,'ClassRef':mt,'execute':(_0x3de9c4,_0x83ecf4)=>K[_0x23f9d2(0x3bc)](_0x3de9c4,_0x83ecf4)});return _0xca9119[_0x23f9d2(0x5a7)](0xc9)[_0x23f9d2(0x288)](_0x16f659);})[_0x5c60eb(0x584)](this[_0x5c60eb(0x420)](_0x5c60eb(0x6fd)),..._0x47d786,async(_0x4e84fd,_0x61ee01)=>{const _0x163703=_0x5c60eb;let _0x1b0d14=await this[_0x163703(0x53b)]({'request':_0x4e84fd,'schema':ma,'ClassRef':ht,'execute':(_0x39cf61,_0x5aa0a1)=>K['sendReaction'](_0x39cf61,_0x5aa0a1)});return _0x61ee01[_0x163703(0x5a7)](0xc9)['json'](_0x1b0d14);})[_0x5c60eb(0x584)](this[_0x5c60eb(0x420)]('sendPoll'),..._0x47d786,async(_0x3d257a,_0x522207)=>{const _0x47f1b0=_0x5c60eb;let _0x4a042f=await this[_0x47f1b0(0x53b)]({'request':_0x3d257a,'schema':la,'ClassRef':lt,'execute':(_0x42b0d6,_0x40f05e)=>K['sendPoll'](_0x42b0d6,_0x40f05e)});return _0x522207[_0x47f1b0(0x5a7)](0xc9)['json'](_0x4a042f);})['post'](this[_0x5c60eb(0x420)](_0x5c60eb(0x276)),..._0x47d786,async(_0x4615cf,_0x596748)=>{const _0x117338=_0x5c60eb;let _0x57b732=await this['dataValidate']({'request':_0x4615cf,'schema':ia,'ClassRef':ct,'execute':(_0x6b069e,_0x302a40)=>K['sendStatus'](_0x6b069e,_0x302a40)});return _0x596748[_0x117338(0x5a7)](0xc9)[_0x117338(0x288)](_0x57b732);})[_0x5c60eb(0x584)](this[_0x5c60eb(0x420)](_0x5c60eb(0x5ca)),..._0x47d786,async(_0x4d8894,_0x24c870)=>{const _0x482f6d=_0x5c60eb;let _0x32284d=await this[_0x482f6d(0x53b)]({'request':_0x4d8894,'schema':ra,'ClassRef':ut,'execute':(_0x5423f0,_0xa0035d)=>K[_0x482f6d(0x5ca)](_0x5423f0,_0xa0035d)});return _0x24c870[_0x482f6d(0x5a7)](0xc9)['json'](_0x32284d);});}},Fa=require(a0_0x5e0602(0x437)),wt=class extends k{constructor(..._0x16e0bb){const _0x18e583=a0_0x5e0602;super(),this[_0x18e583(0x39b)]=(0x0,Fa[_0x18e583(0x25b)])(),this['router']['get'](this[_0x18e583(0x420)](_0x18e583(0x63e)),..._0x16e0bb,(_0x3a974d,_0x23d49b)=>Ba[_0x18e583(0x63e)](_0x3a974d,_0x23d49b));}},qa=require(a0_0x5e0602(0x437)),yt=class{},bt=class extends k{constructor(..._0xa981b9){const _0x16a2de=a0_0x5e0602;super(),this[_0x16a2de(0x39b)]=(0x0,qa['Router'])(),this['router'][_0x16a2de(0x584)](this['routerPath'](_0x16a2de(0x279)),..._0xa981b9,async(_0x36ca89,_0x51017e)=>{const _0x103db4=_0x16a2de;let _0x8251f7=await this['dataValidate']({'request':_0x36ca89,'schema':xa,'ClassRef':yt,'execute':(_0x132409,_0x58f152)=>ls[_0x103db4(0x62a)](_0x132409,_0x58f152)});_0x51017e[_0x103db4(0x5a7)](0xc9)[_0x103db4(0x288)](_0x8251f7);})['get'](this[_0x16a2de(0x420)]('find'),..._0xa981b9,async(_0x3b9244,_0x5c138f)=>{const _0x2fa8f2=_0x16a2de;let _0x57b470=await this[_0x2fa8f2(0x53b)]({'request':_0x3b9244,'schema':C,'ClassRef':b,'execute':_0x1c1422=>ls[_0x2fa8f2(0x736)](_0x1c1422)});_0x5c138f['status'](0xc8)['json'](_0x57b470);});}},Ga=require(a0_0x5e0602(0x437)),m=new N(a0_0x5e0602(0x694)),St=class extends k{constructor(..._0x15ab15){const _0x18e347=a0_0x5e0602;super(),this[_0x18e347(0x39b)]=(0x0,Ga['Router'])(),this['router'][_0x18e347(0x584)](this[_0x18e347(0x420)]('scheduleMessage'),..._0x15ab15,async(_0x3b21d2,_0xa442dd)=>{const _0x4becd2=_0x18e347;let _0x176de0=_0x3b21d2[_0x4becd2(0x27b)];m['verbose'](_0x4becd2(0x382)),m[_0x4becd2(0x27f)]('request\x20body:\x20'),m[_0x4becd2(0x27f)](_0x3b21d2[_0x4becd2(0x27b)]);let _0x4b9496=await this[_0x4becd2(0x53b)]({'request':_0x3b21d2,'schema':C,'ClassRef':b,'execute':_0x83edfe=>R['editScheduleMessage'](_0x83edfe,_0x176de0)});_0xa442dd['status'](0xc8)[_0x4becd2(0x288)](_0x4b9496);})[_0x18e347(0x43f)](this[_0x18e347(0x420)]('scheduleMessage'),..._0x15ab15,async(_0x23f821,_0x45f34c)=>{const _0x16e00d=_0x18e347;let _0x3305c7=await this['dataValidate']({'request':_0x23f821,'schema':C,'ClassRef':b,'execute':_0xe2d082=>R[_0x16e00d(0x5b2)](_0xe2d082)});_0x45f34c['status'](0xc8)[_0x16e00d(0x288)](_0x3305c7);})[_0x18e347(0x567)](this[_0x18e347(0x420)]('deleteDoneMessages'),..._0x15ab15,async(_0x30f3bd,_0x106f97)=>{const _0x58d80f=_0x18e347;m[_0x58d80f(0x27f)]('request\x20received\x20in\x20deleteDoneMessages');let _0x3d23f5=await this[_0x58d80f(0x53b)]({'request':_0x30f3bd,'schema':C,'ClassRef':b,'execute':_0x5da35c=>R['deleteDoneMessages'](_0x5da35c)});_0x106f97[_0x58d80f(0x5a7)](0xc8)[_0x58d80f(0x288)](_0x3d23f5);})[_0x18e347(0x584)](this[_0x18e347(0x420)](_0x18e347(0x343)),..._0x15ab15,async(_0x698b4a,_0x2fd54a)=>{const _0x2199c1=_0x18e347;let _0x4c4a94=_0x698b4a['body'];m[_0x2199c1(0x27f)](_0x2199c1(0x713)),m['verbose'](_0x2199c1(0x37c)),m['verbose'](_0x698b4a[_0x2199c1(0x27b)]);let _0x3b1b89=await this[_0x2199c1(0x53b)]({'request':_0x698b4a,'schema':C,'ClassRef':b,'execute':_0x1c851d=>R['startFlow'](_0x1c851d,_0x4c4a94)});_0x2fd54a[_0x2199c1(0x5a7)](0xc8)[_0x2199c1(0x288)](_0x3b1b89);})[_0x18e347(0x43f)](this[_0x18e347(0x420)](_0x18e347(0x2da)),..._0x15ab15,async(_0x36e1a8,_0x1b13e7)=>{const _0x207b15=_0x18e347;m['verbose'](_0x207b15(0x5e5));let _0x1d1b83=await this[_0x207b15(0x53b)]({'request':_0x36e1a8,'schema':C,'ClassRef':b,'execute':_0x21a132=>R[_0x207b15(0x2da)](_0x21a132)});_0x1b13e7['status'](0xc8)[_0x207b15(0x288)](_0x1d1b83);})[_0x18e347(0x43f)](this[_0x18e347(0x420)](_0x18e347(0x71a)),..._0x15ab15,async(_0x198a39,_0x38ecc7)=>{const _0x256945=_0x18e347;m[_0x256945(0x27f)](_0x256945(0x1fa));let _0x56e407=await this[_0x256945(0x53b)]({'request':_0x198a39,'schema':C,'ClassRef':b,'execute':_0x4d8ab2=>R[_0x256945(0x2da)](_0x4d8ab2)});_0x38ecc7[_0x256945(0x5a7)](0xc8)[_0x256945(0x288)](_0x56e407);})['post'](this[_0x18e347(0x420)](_0x18e347(0x395)),..._0x15ab15,async(_0x503e4c,_0x42c8b3)=>{const _0x225349=_0x18e347;let _0x2b8ac1=_0x503e4c[_0x225349(0x27b)];m[_0x225349(0x27f)](_0x225349(0x4d3)),m['verbose'](_0x225349(0x37c)),m[_0x225349(0x27f)](_0x503e4c[_0x225349(0x27b)]);let _0x4bbf82=await this['dataValidate']({'request':_0x503e4c,'schema':C,'ClassRef':b,'execute':_0x1c0cab=>R[_0x225349(0x395)](_0x1c0cab,_0x2b8ac1)});_0x42c8b3[_0x225349(0x5a7)](0xc8)[_0x225349(0x288)](_0x4bbf82);})[_0x18e347(0x584)](this[_0x18e347(0x420)](_0x18e347(0x1f1)),..._0x15ab15,async(_0x1f8525,_0x2f5694)=>{const _0x435ba9=_0x18e347;let _0x54fa88=_0x1f8525[_0x435ba9(0x27b)];m[_0x435ba9(0x27f)](_0x435ba9(0x27a)),m[_0x435ba9(0x27f)](_0x435ba9(0x37c)),m['verbose'](_0x1f8525[_0x435ba9(0x27b)]);let _0x156eed=await this['dataValidate']({'request':_0x1f8525,'schema':C,'ClassRef':b,'execute':_0x5277ae=>R[_0x435ba9(0x1f1)](_0x5277ae,_0x54fa88)});_0x2f5694[_0x435ba9(0x5a7)](0xc8)[_0x435ba9(0x288)](_0x156eed);})[_0x18e347(0x584)](this['routerPath']('updateFlowConfig'),..._0x15ab15,async(_0x3177dc,_0x58c96f)=>{const _0x4ffdcc=_0x18e347;let _0x1cf66f=_0x3177dc[_0x4ffdcc(0x27b)];m[_0x4ffdcc(0x27f)]('request\x20received\x20in\x20updateFlowConfig'),m['verbose'](_0x4ffdcc(0x37c)),m[_0x4ffdcc(0x27f)](_0x3177dc['body']);let _0x40b101=await this[_0x4ffdcc(0x53b)]({'request':_0x3177dc,'schema':C,'ClassRef':b,'execute':_0x4e715c=>R[_0x4ffdcc(0x552)](_0x4e715c,_0x1cf66f)});_0x58c96f['status'](0xc8)[_0x4ffdcc(0x288)](_0x40b101);})[_0x18e347(0x584)](this['routerPath'](_0x18e347(0x32b)),..._0x15ab15,async(_0x1ffdf7,_0x1e6041)=>{const _0xd0b0e4=_0x18e347;let _0x489af2=_0x1ffdf7[_0xd0b0e4(0x27b)];m[_0xd0b0e4(0x27f)](_0xd0b0e4(0x2f1)),m['verbose']('request\x20body:\x20'),m['verbose'](_0x1ffdf7[_0xd0b0e4(0x27b)]);let _0x3483be=await this['dataValidate']({'request':_0x1ffdf7,'schema':C,'ClassRef':b,'execute':_0x446873=>R['getConversation'](_0x446873,_0x489af2)});_0x1e6041['status'](0xc8)[_0xd0b0e4(0x288)](_0x3483be);})[_0x18e347(0x584)](this[_0x18e347(0x420)](_0x18e347(0x490)),..._0x15ab15,async(_0x21d99c,_0x102089)=>{const _0x55a7c3=_0x18e347;let _0x175825=_0x21d99c[_0x55a7c3(0x27b)];m['verbose']('request\x20received\x20in\x20fetchConversation'),m[_0x55a7c3(0x27f)](_0x55a7c3(0x37c)),m['verbose'](_0x21d99c[_0x55a7c3(0x27b)]);let _0x251503=await this['dataValidate']({'request':_0x21d99c,'schema':C,'ClassRef':b,'execute':_0x4bfcfb=>R[_0x55a7c3(0x490)](_0x4bfcfb,_0x175825)});_0x102089[_0x55a7c3(0x5a7)](0xc8)[_0x55a7c3(0x288)](_0x251503);})[_0x18e347(0x584)](this[_0x18e347(0x420)](_0x18e347(0x612)),..._0x15ab15,async(_0x1ef282,_0x155a4c)=>{const _0x1d7f34=_0x18e347;let _0x3bb310=_0x1ef282[_0x1d7f34(0x27b)];m[_0x1d7f34(0x27f)](_0x1d7f34(0x6a2)),m[_0x1d7f34(0x27f)]('request\x20body:\x20'),m[_0x1d7f34(0x27f)](_0x1ef282[_0x1d7f34(0x27b)]);let _0x4bafcd=await this['dataValidate']({'request':_0x1ef282,'schema':C,'ClassRef':b,'execute':_0x44b071=>R[_0x1d7f34(0x612)](_0x44b071,_0x3bb310)});_0x155a4c[_0x1d7f34(0x5a7)](0xc8)[_0x1d7f34(0x288)](_0x4bafcd);})[_0x18e347(0x567)](this[_0x18e347(0x420)](_0x18e347(0x38c)),..._0x15ab15,async(_0x107279,_0x317d44)=>{const _0x1192e7=_0x18e347;let _0xd3b9a9=_0x107279[_0x1192e7(0x27b)];m['verbose']('request\x20received\x20in\x20deleteConversation'),m['verbose'](_0x1192e7(0x37c)),m[_0x1192e7(0x27f)](_0x107279[_0x1192e7(0x27b)]);let _0x19d53a=await this['dataValidate']({'request':_0x107279,'schema':C,'ClassRef':b,'execute':_0x3d3276=>R[_0x1192e7(0x38c)](_0x3d3276,_0xd3b9a9)});_0x317d44[_0x1192e7(0x5a7)](0xc8)[_0x1192e7(0x288)](_0x19d53a);})[_0x18e347(0x584)](this[_0x18e347(0x420)]('createflow'),..._0x15ab15,async(_0x260a98,_0x159ce8)=>{const _0x2d8de8=_0x18e347;let _0x4c223c=_0x260a98[_0x2d8de8(0x27b)];m[_0x2d8de8(0x27f)](_0x2d8de8(0x670)),m[_0x2d8de8(0x27f)]('request\x20body:\x20'),m[_0x2d8de8(0x27f)](_0x260a98['body']);let _0x270411=await this[_0x2d8de8(0x53b)]({'request':_0x260a98,'schema':C,'ClassRef':b,'execute':_0x12a9ad=>R[_0x2d8de8(0x628)](_0x12a9ad,_0x4c223c)});_0x159ce8['status'](0xc8)[_0x2d8de8(0x288)](_0x270411);})[_0x18e347(0x584)](this[_0x18e347(0x420)]('editflow'),..._0x15ab15,async(_0x39fcab,_0x410d89)=>{const _0x2d9af8=_0x18e347;let _0x3258c7=_0x39fcab['body'];m[_0x2d9af8(0x27f)](_0x2d9af8(0x5aa)),m[_0x2d9af8(0x27f)](_0x2d9af8(0x37c)),m[_0x2d9af8(0x27f)](_0x39fcab[_0x2d9af8(0x27b)]),delete _0x3258c7[_0x2d9af8(0x2b8)],delete _0x3258c7[_0x2d9af8(0x5e6)],delete _0x3258c7['groups'],delete _0x3258c7['conditions'];let _0x33ee72=await this[_0x2d9af8(0x53b)]({'request':_0x39fcab,'schema':C,'ClassRef':b,'execute':_0x39863c=>R[_0x2d9af8(0x623)](_0x39863c,_0x3258c7)});_0x410d89[_0x2d9af8(0x5a7)](0xc8)[_0x2d9af8(0x288)](_0x33ee72);})[_0x18e347(0x584)](this[_0x18e347(0x420)](_0x18e347(0x32d)),..._0x15ab15,async(_0x12b348,_0x637ceb)=>{const _0x5946e1=_0x18e347;let _0x4721b4=_0x12b348[_0x5946e1(0x27b)];m[_0x5946e1(0x27f)](_0x5946e1(0x5aa)),m[_0x5946e1(0x27f)](_0x5946e1(0x37c)),m[_0x5946e1(0x27f)](_0x12b348[_0x5946e1(0x27b)]);let _0x2009df=await this[_0x5946e1(0x53b)]({'request':_0x12b348,'schema':C,'ClassRef':b,'execute':_0x23dcc8=>R[_0x5946e1(0x237)](_0x23dcc8,_0x4721b4)});_0x637ceb[_0x5946e1(0x5a7)](0xc8)[_0x5946e1(0x288)](_0x2009df);})[_0x18e347(0x584)](this['routerPath'](_0x18e347(0x56e)),..._0x15ab15,async(_0xfaead3,_0x3240c5)=>{const _0x30cf53=_0x18e347;let _0x5aef13=_0xfaead3[_0x30cf53(0x27b)];m[_0x30cf53(0x27f)](_0x30cf53(0x5aa)),m[_0x30cf53(0x27f)](_0x30cf53(0x37c)),m[_0x30cf53(0x27f)](_0xfaead3[_0x30cf53(0x27b)]);let _0x3e9f99=await this[_0x30cf53(0x53b)]({'request':_0xfaead3,'schema':C,'ClassRef':b,'execute':_0xba0c13=>R[_0x30cf53(0x53f)](_0xba0c13,_0x5aef13)});_0x3240c5[_0x30cf53(0x5a7)](0xc8)['json'](_0x3e9f99);})[_0x18e347(0x584)](this[_0x18e347(0x420)](_0x18e347(0x685)),..._0x15ab15,async(_0x3a7d95,_0x58db32)=>{const _0x40f3a2=_0x18e347;let _0x24f993=_0x3a7d95[_0x40f3a2(0x27b)];m['verbose']('request\x20received\x20in\x20editFlow'),m[_0x40f3a2(0x27f)]('request\x20body:\x20'),m['verbose'](_0x3a7d95['body']);let _0x165a8f=await this[_0x40f3a2(0x53b)]({'request':_0x3a7d95,'schema':C,'ClassRef':b,'execute':_0x3fcd30=>R[_0x40f3a2(0x263)](_0x3fcd30,_0x24f993)});_0x58db32[_0x40f3a2(0x5a7)](0xc8)['json'](_0x165a8f);})[_0x18e347(0x584)](this['routerPath'](_0x18e347(0x199)),..._0x15ab15,async(_0x2d32f7,_0x1e916e)=>{const _0x480b1e=_0x18e347;let _0x578725=_0x2d32f7[_0x480b1e(0x27b)];m[_0x480b1e(0x27f)](_0x480b1e(0x4f4)),m[_0x480b1e(0x27f)]('request\x20body:\x20'),m[_0x480b1e(0x27f)](_0x2d32f7[_0x480b1e(0x27b)]);let _0xd5e09e=await this[_0x480b1e(0x53b)]({'request':_0x2d32f7,'schema':C,'ClassRef':b,'execute':_0x4cd835=>R['editFlowGroup'](_0x4cd835,_0x578725)});_0x1e916e[_0x480b1e(0x5a7)](0xc8)['json'](_0xd5e09e);})['post'](this[_0x18e347(0x420)](_0x18e347(0x654)),..._0x15ab15,async(_0x2d70cd,_0x5177a6)=>{const _0xe58c7c=_0x18e347;let _0x549860=_0x2d70cd[_0xe58c7c(0x27b)];m['verbose'](_0xe58c7c(0x504)),m['verbose']('request\x20body:\x20'),m[_0xe58c7c(0x27f)](_0x2d70cd['body']);let _0x2022ca=await this[_0xe58c7c(0x53b)]({'request':_0x2d70cd,'schema':C,'ClassRef':b,'execute':_0x54cefe=>R['editFlowCondition'](_0x54cefe,_0x549860)});_0x5177a6[_0xe58c7c(0x5a7)](0xc8)[_0xe58c7c(0x288)](_0x2022ca);})[_0x18e347(0x584)](this[_0x18e347(0x420)](_0x18e347(0x192)),..._0x15ab15,async(_0x992c11,_0xee0ad3)=>{const _0x296f4f=_0x18e347;let _0x544cd0=_0x992c11['body'];m[_0x296f4f(0x27f)](_0x296f4f(0x383)),m[_0x296f4f(0x27f)]('request\x20body:\x20'),m[_0x296f4f(0x27f)](_0x992c11[_0x296f4f(0x27b)]);let _0x2c9beb=await this[_0x296f4f(0x53b)]({'request':_0x992c11,'schema':C,'ClassRef':b,'execute':_0x59c344=>R[_0x296f4f(0x326)](_0x59c344,_0x544cd0)});_0xee0ad3['status'](0xc8)[_0x296f4f(0x288)](_0x2c9beb);})['post'](this[_0x18e347(0x420)](_0x18e347(0x19c)),..._0x15ab15,async(_0x571373,_0x54e1fd)=>{const _0x195a56=_0x18e347;let _0x1794be=_0x571373['body'];m[_0x195a56(0x27f)](_0x195a56(0x643)),m['verbose'](_0x195a56(0x37c)),m['verbose'](_0x571373[_0x195a56(0x27b)]);let _0x524293=await this[_0x195a56(0x53b)]({'request':_0x571373,'schema':C,'ClassRef':b,'execute':_0x11cda3=>R[_0x195a56(0x3fa)](_0x11cda3,_0x1794be)});_0x54e1fd[_0x195a56(0x5a7)](0xc8)[_0x195a56(0x288)](_0x524293);})['delete'](this[_0x18e347(0x420)]('deleteflow'),..._0x15ab15,async(_0x463ead,_0x5ab3a0)=>{const _0x2109b5=_0x18e347;let _0x488d44=_0x463ead[_0x2109b5(0x27b)];m['verbose']('request\x20received\x20in\x20createFlow'),m[_0x2109b5(0x27f)](_0x2109b5(0x37c)),m[_0x2109b5(0x27f)](_0x463ead[_0x2109b5(0x27b)]);let _0x4c3e2a=await this[_0x2109b5(0x53b)]({'request':_0x463ead,'schema':C,'ClassRef':b,'execute':_0x4bf1cf=>R[_0x2109b5(0x578)](_0x4bf1cf,_0x488d44)});_0x5ab3a0[_0x2109b5(0x5a7)](0xc8)[_0x2109b5(0x288)](_0x4c3e2a);})[_0x18e347(0x43f)](this[_0x18e347(0x420)]('allflows'),..._0x15ab15,async(_0x320961,_0x35686f)=>{const _0x1d8cce=_0x18e347;m[_0x1d8cce(0x27f)](_0x1d8cce(0x185));let _0x19fe19=await this[_0x1d8cce(0x53b)]({'request':_0x320961,'schema':C,'ClassRef':b,'execute':_0x35d32c=>R[_0x1d8cce(0x4d5)](_0x35d32c)});_0x35686f[_0x1d8cce(0x5a7)](0xc8)[_0x1d8cce(0x288)](_0x19fe19);});}},Ka=T(require(a0_0x5e0602(0x6c9))),ee={};function Ja(_0x4bd91b,_0x1802b9,_0x49b458,_0x258e4c){ee[_0x4bd91b]||(ee[_0x4bd91b]={}),ee[_0x4bd91b][_0x1802b9]={'id':_0x1802b9,'response':_0x49b458,'events':_0x258e4c};}function Wa(_0x396dd6,_0x195035){!ee[_0x396dd6]||!ee[_0x396dd6][_0x195035]||delete ee[_0x396dd6][_0x195035];}function B(_0x252326,_0x28620f,_0x26dbd2){const _0x242f1c=a0_0x5e0602;if(!ee[_0x252326])return;let _0x2a1ed0=_0x242f1c(0x5ad)+JSON[_0x242f1c(0x408)](_0x26dbd2)+'\x0a\x0a';Object['values'](ee[_0x252326])['forEach'](_0x287a99=>{const _0x556e13=_0x242f1c;_0x287a99[_0x556e13(0x60d)][_0x556e13(0x215)](_0x28620f)&&_0x287a99[_0x556e13(0x4e6)][_0x556e13(0x443)](_0x2a1ed0);});}function Ha(){const _0x10620c=a0_0x5e0602;let _0x319daf={};for(let _0x23776c in ee)_0x319daf[_0x23776c]=Object[_0x10620c(0x3a0)](ee[_0x23776c])[_0x10620c(0x503)](_0x51b1e0=>({'id':_0x51b1e0['id'],'events':_0x51b1e0['events']}));return _0x319daf;}var za=require(a0_0x5e0602(0x30a)),Go=Ka[a0_0x5e0602(0x56d)]['join'](__dirname,a0_0x5e0602(0x3c5)),vt=(0x0,Et[a0_0x5e0602(0x25b)])(),Jo=S[a0_0x5e0602(0x43f)]('AUTHENTICATION')[a0_0x5e0602(0x2a6)],ue=[rs,Xs,ta[Jo]];vt[a0_0x5e0602(0x430)]('/media',Et['default'][a0_0x5e0602(0x330)](Go))[a0_0x5e0602(0x43f)](a0_0x5e0602(0x59d),async(_0x5996c9,_0x7f4d17)=>{const _0x197d6f=a0_0x5e0602;console['log']('bateu\x20events');let _0x472353=_0x5996c9['params'][_0x197d6f(0x61a)],_0x55175c=(_0x5996c9[_0x197d6f(0x529)][_0x197d6f(0x60d)]||'')['split'](','),_0xaa520c=(0x0,za['v4'])();console['log'](_0x197d6f(0x4c6),_0x472353),console[_0x197d6f(0x656)]('Subscribed\x20Events:',_0x55175c);let _0x254ec1=S[_0x197d6f(0x43f)]('AUTHENTICATION')[_0x197d6f(0x262)],_0x3576d3=_0x5996c9['query']['apikey'];if(console[_0x197d6f(0x656)](_0x197d6f(0x35a),_0x3576d3),_0x254ec1[_0x197d6f(0x6d0)]!==_0x3576d3){console[_0x197d6f(0x656)](_0x197d6f(0x459));try{let _0x3677aa=await le[_0x197d6f(0x35b)]['find'](_0x472353);if(console[_0x197d6f(0x656)](_0x197d6f(0x2fe),_0x3677aa),!_0x3677aa||_0x3677aa['apikey']!==_0x3576d3)return console[_0x197d6f(0x656)](_0x197d6f(0x721)),_0x7f4d17[_0x197d6f(0x5a7)](0x191)[_0x197d6f(0x58f)]('API\x20Key\x20inválida.');}catch(_0x332a80){return console[_0x197d6f(0x2bd)](_0x197d6f(0x49c),_0x332a80),_0x7f4d17[_0x197d6f(0x5a7)](0x191)[_0x197d6f(0x58f)]('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await qe(_0x472353))return _0x7f4d17[_0x197d6f(0x5a7)](0x194)[_0x197d6f(0x58f)](_0x197d6f(0x277));_0x7f4d17[_0x197d6f(0x310)]('Content-Type','text/event-stream'),_0x7f4d17['setHeader']('Cache-Control',_0x197d6f(0x600)),_0x7f4d17[_0x197d6f(0x310)](_0x197d6f(0x3ab),_0x197d6f(0x3e1)),_0x7f4d17['flushHeaders']();let _0x5a5805=_0x197d6f(0x5ad)+JSON[_0x197d6f(0x408)]({'info':_0x197d6f(0x38e)})+'\x0a\x0a';_0x7f4d17[_0x197d6f(0x443)](_0x5a5805),Ja(_0x472353,_0xaa520c,_0x7f4d17,_0x55175c),_0x5996c9['on'](_0x197d6f(0x3de),()=>{const _0x1824bf=_0x197d6f;console['log'](_0x1824bf(0x561)+_0x472353),Wa(_0x472353,_0xaa520c);});}),vt['get'](a0_0x5e0602(0x2ae),(_0x4787dc,_0x385543)=>{const _0x360cdd=a0_0x5e0602;let _0x62c653=Ha();_0x385543[_0x360cdd(0x288)](_0x62c653);})[a0_0x5e0602(0x43f)]('/',(_0x32b137,_0xc80cff)=>{const _0x12ff6d=a0_0x5e0602;let _0x3284de=S[_0x12ff6d(0x43f)]('SSL_CONF'),_0x40b933=_0x3284de&&_0x3284de[_0x12ff6d(0x1ee)][_0x12ff6d(0x675)]('/')[0x4];if(_0x40b933){let _0x556616=encodeURIComponent('https://'+_0x40b933);_0xc80cff[_0x12ff6d(0x6f0)](_0x12ff6d(0x462)+_0x556616);}else _0xc80cff['redirect'](_0x12ff6d(0x2db));})[a0_0x5e0602(0x6bb)]('/exit',...ue,async(_0x2a6056,_0x4d9711)=>{const _0xd7d772=a0_0x5e0602;try{console[_0xd7d772(0x656)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x4d9711['status'](0xc8)['json']({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x4d9711['on'](_0xd7d772(0x1ac),()=>process['exit'](0x0));}catch(_0x10983e){console[_0xd7d772(0x2bd)](_0xd7d772(0x6a4),_0x10983e),_0x4d9711[_0xd7d772(0x5a7)](0x1f4)['json']({'message':_0xd7d772(0x67d)});}})['use']('/instance',new it(S,...ue)[a0_0x5e0602(0x39b)],new wt(rs)[a0_0x5e0602(0x39b)])[a0_0x5e0602(0x430)]('/message',new ft(...ue)[a0_0x5e0602(0x39b)])[a0_0x5e0602(0x430)](a0_0x5e0602(0x306),new Ke(...ue)[a0_0x5e0602(0x39b)])[a0_0x5e0602(0x430)](a0_0x5e0602(0x476),new at(...ue)[a0_0x5e0602(0x39b)])[a0_0x5e0602(0x430)](a0_0x5e0602(0x718),new bt(...ue)[a0_0x5e0602(0x39b)])[a0_0x5e0602(0x430)](a0_0x5e0602(0x64e),new St(...ue)[a0_0x5e0602(0x39b)]);var g=class{constructor(..._0x2ff249){const _0x13c6e7=a0_0x5e0602;throw{'status':0x190,'error':_0x13c6e7(0x30b),'message':_0x2ff249[_0x13c6e7(0x3f7)]>0x0?_0x2ff249:void 0x0};}},re=class{constructor(..._0x28b51a){const _0x10ec73=a0_0x5e0602;throw{'status':0x191,'error':_0x10ec73(0x1aa),'message':_0x28b51a[_0x10ec73(0x3f7)]>0x0?_0x28b51a:void 0x0};}},oe=class{constructor(..._0x27f2d9){const _0x101d22=a0_0x5e0602;throw{'status':0x193,'error':_0x101d22(0x325),'message':_0x27f2d9[_0x101d22(0x3f7)]>0x0?_0x27f2d9:void 0x0};}},x=class{constructor(..._0x4ee56e){const _0x2e3067=a0_0x5e0602;throw{'status':0x194,'error':_0x2e3067(0x52b),'message':_0x4ee56e['length']>0x0?_0x4ee56e:void 0x0};}},A=class{constructor(..._0x3e77d9){const _0x457940=a0_0x5e0602;throw{'status':0x1f4,'error':_0x457940(0x360),'message':_0x3e77d9['length']>0x0?_0x3e77d9:void 0x0};}},de=require(a0_0x5e0602(0x2a1));function a0_0x3589(_0x3fb4d9,_0x5c8edb){const _0x571d26=a0_0x571d();return a0_0x3589=function(_0x35891e,_0x4e3e7e){_0x35891e=_0x35891e-0x169;let _0x281f16=_0x571d26[_0x35891e];return _0x281f16;},a0_0x3589(_0x3fb4d9,_0x5c8edb);}async function us(_0x39d54b){const _0x1b4777=a0_0x5e0602;let _0x383b66=new N(us[_0x1b4777(0x5e4)]),_0x104382=M[_0x1b4777(0x28e)](),_0xbbd0ef=_0x104382['db'](S[_0x1b4777(0x43f)](_0x1b4777(0x2b2))[_0x1b4777(0x520)][_0x1b4777(0x449)]+_0x1b4777(0x524))[_0x1b4777(0x3f0)](_0x39d54b),_0xcdf014=async(_0x459fd0,_0x16b3fd)=>{const _0xeccad2=_0x1b4777;try{return await _0x104382['connect'](),await _0xbbd0ef[_0xeccad2(0x46e)]({'_id':_0x16b3fd},JSON['parse'](JSON['stringify'](_0x459fd0,de['BufferJSON'][_0xeccad2(0x26c)])),{'upsert':!0x0});}catch{}},_0x509542=async _0xbe09cf=>{const _0x3b6b77=_0x1b4777;try{await _0x104382[_0x3b6b77(0x4eb)]();let _0x474bc5=await _0xbbd0ef[_0x3b6b77(0x648)]({'_id':_0xbe09cf}),_0x36c6a0=JSON[_0x3b6b77(0x408)](_0x474bc5);return JSON[_0x3b6b77(0x322)](_0x36c6a0,de[_0x3b6b77(0x359)][_0x3b6b77(0x3e2)]);}catch{}},_0xa3619a=async _0x12fb4b=>{const _0x253481=_0x1b4777;try{return await _0x104382['connect'](),await _0xbbd0ef[_0x253481(0x1cb)]({'_id':_0x12fb4b});}catch{}},_0x4191c8=await _0x509542('creds')||(0x0,de['initAuthCreds'])();return{'state':{'creds':_0x4191c8,'keys':{'get':async(_0x596332,_0x2434ff)=>{const _0x316c62=_0x1b4777;let _0x1b608c={};return await Promise[_0x316c62(0x16a)](_0x2434ff[_0x316c62(0x503)](async _0x11813f=>{const _0x1bff66=_0x316c62;let _0xd70053=await _0x509542(_0x596332+'-'+_0x11813f);_0x596332===_0x1bff66(0x4ad)&&_0xd70053&&(_0xd70053=de[_0x1bff66(0x328)][_0x1bff66(0x2c5)][_0x1bff66(0x412)][_0x1bff66(0x2ee)](_0xd70053)),_0x1b608c[_0x11813f]=_0xd70053;})),_0x1b608c;},'set':async _0x542a01=>{const _0x2c273d=_0x1b4777;let _0x2b8c4a=[];for(let _0x784b78 in _0x542a01)for(let _0x37a4e4 in _0x542a01[_0x784b78]){let _0x1f05f9=_0x542a01[_0x784b78][_0x37a4e4],_0x241b56=_0x784b78+'-'+_0x37a4e4;_0x2b8c4a['push'](_0x1f05f9?_0xcdf014(_0x1f05f9,_0x241b56):_0xa3619a(_0x241b56));}await Promise[_0x2c273d(0x16a)](_0x2b8c4a);}}},'saveCreds':async()=>_0xcdf014(_0x4191c8,_0x1b4777(0x70f))};}var ps=T(require(a0_0x5e0602(0x339))),gs=T(require('node-cache')),Tt=require(a0_0x5e0602(0x2a1)),Qa=require(a0_0x5e0602(0x666)),Nt=require(a0_0x5e0602(0x2a1)),Ct;function Wo(_0x36b4e7){const _0x34fefb=a0_0x5e0602;return Ct||(Ct=(0x0,Qa[_0x34fefb(0x4be)])({'url':_0x36b4e7[_0x34fefb(0x6c3)]}),Ct[_0x34fefb(0x4eb)]()),Ct;}var ne=class c{constructor(_0x5de6ba,_0x4ee5fe){const _0x3f8bd8=a0_0x5e0602;this[_0x3f8bd8(0x4db)]=_0x5de6ba,this[_0x3f8bd8(0x32a)]=_0x4ee5fe,this[_0x3f8bd8(0x2d4)]=new N(c[_0x3f8bd8(0x5e4)]),this['client']=Wo(_0x5de6ba);}set[a0_0x5e0602(0x731)](_0xf142e5){const _0x4088ae=a0_0x5e0602;this[_0x4088ae(0x32a)]=_0xf142e5;}async['instanceKeys'](){const _0x5762c5=a0_0x5e0602;try{return await this['client']['sendCommand']([_0x5762c5(0x4ec),this[_0x5762c5(0x4db)][_0x5762c5(0x2c0)]+':*']);}catch(_0x1ceb7f){this[_0x5762c5(0x2d4)][_0x5762c5(0x2bd)](_0x1ceb7f);}}async[a0_0x5e0602(0x4ea)](_0x37c236,_0x46a840){const _0x2a23b9=a0_0x5e0602;try{let _0x34c575=JSON[_0x2a23b9(0x408)](_0x46a840,Nt[_0x2a23b9(0x359)][_0x2a23b9(0x26c)]);return await this['client'][_0x2a23b9(0x555)](this[_0x2a23b9(0x4db)][_0x2a23b9(0x2c0)]+':'+this[_0x2a23b9(0x32a)],_0x37c236,_0x34c575);}catch(_0xab1f10){this[_0x2a23b9(0x2d4)][_0x2a23b9(0x2bd)](_0xab1f10);}}async['getAllData'](){const _0x355e07=a0_0x5e0602;try{let _0x3cc7df=await this[_0x355e07(0x3d3)]['hGetAll'](this[_0x355e07(0x4db)][_0x355e07(0x2c0)]+':'+this['instanceName']);if(_0x3cc7df){for(let _0x32746b in _0x3cc7df)Object['prototype']['hasOwnProperty'][_0x355e07(0x5ed)](_0x3cc7df,_0x32746b)&&(_0x3cc7df[_0x32746b]=JSON[_0x355e07(0x322)](_0x3cc7df[_0x32746b],Nt[_0x355e07(0x359)][_0x355e07(0x3e2)]));return _0x3cc7df;}}catch(_0x1fe577){this[_0x355e07(0x2d4)][_0x355e07(0x2bd)](_0x1fe577);}}async[a0_0x5e0602(0x1cd)](_0x57f846){const _0x27ec52=a0_0x5e0602;try{let _0x1529ab=await this['client']['hGet'](this['redisEnv'][_0x27ec52(0x2c0)]+':'+this['instanceName'],_0x57f846);if(_0x1529ab)return JSON[_0x27ec52(0x322)](_0x1529ab,Nt[_0x27ec52(0x359)][_0x27ec52(0x3e2)]);}catch(_0x4363ad){this[_0x27ec52(0x2d4)][_0x27ec52(0x2bd)](_0x4363ad);}}async[a0_0x5e0602(0x68b)](_0x9e329d){const _0x4c0c22=a0_0x5e0602;try{return await this[_0x4c0c22(0x3d3)][_0x4c0c22(0x270)](this[_0x4c0c22(0x4db)][_0x4c0c22(0x2c0)]+':'+this[_0x4c0c22(0x32a)],_0x9e329d);}catch(_0x1b300a){this['logger'][_0x4c0c22(0x2bd)](_0x1b300a);}}async[a0_0x5e0602(0x548)](_0x466950){const _0x2cb2a5=a0_0x5e0602;try{return await this[_0x2cb2a5(0x3d3)][_0x2cb2a5(0x64d)](_0x466950||this[_0x2cb2a5(0x4db)][_0x2cb2a5(0x2c0)]+':'+this[_0x2cb2a5(0x32a)]);}catch(_0x410ef5){this[_0x2cb2a5(0x2d4)][_0x2cb2a5(0x2bd)](_0x410ef5);}}};async function ds(_0x574955,_0x4bf2b1){const _0x2c4654=a0_0x5e0602;let _0x18cf98=new N(ds[_0x2c4654(0x5e4)]),_0x14f232=new ne(_0x574955,_0x4bf2b1),_0x32631e=async(_0x2c4d91,_0x261e63)=>{const _0x15a761=_0x2c4654;try{return await _0x14f232[_0x15a761(0x4ea)](_0x261e63,_0x2c4d91);}catch(_0x1275e5){return _0x18cf98['error']({'localError':'writeData','error':_0x1275e5});}},_0x4eb3c7=async _0x369e78=>{const _0x1ad4b1=_0x2c4654;try{return await _0x14f232[_0x1ad4b1(0x1cd)](_0x369e78);}catch(_0x16da2d){_0x18cf98['error']({'readData':_0x1ad4b1(0x4ea),'error':_0x16da2d});return;}},_0x4188d7=async _0x50f7b3=>{const _0xaf0aed=_0x2c4654;try{return await _0x14f232[_0xaf0aed(0x68b)](_0x50f7b3);}catch(_0x226c89){_0x18cf98[_0xaf0aed(0x2bd)]({'readData':_0xaf0aed(0x68b),'error':_0x226c89});}},_0x15b31e=await _0x4eb3c7(_0x2c4654(0x70f))||(0x0,Tt['initAuthCreds'])();return{'state':{'creds':_0x15b31e,'keys':{'get':async(_0x350be3,_0x344cff)=>{const _0x599f26=_0x2c4654;let _0xc65da2={};return await Promise[_0x599f26(0x16a)](_0x344cff[_0x599f26(0x503)](async _0x576414=>{const _0x58ee42=_0x599f26;let _0xeef162=await _0x4eb3c7(_0x350be3+'-'+_0x576414);_0x350be3===_0x58ee42(0x4ad)&&_0xeef162&&(_0xeef162=Tt[_0x58ee42(0x328)]['Message'][_0x58ee42(0x412)]['fromObject'](_0xeef162)),_0xc65da2[_0x576414]=_0xeef162;})),_0xc65da2;},'set':async _0x1a7850=>{const _0x5a7c39=_0x2c4654;let _0x1fc5d5=[];for(let _0x582a7e in _0x1a7850)for(let _0x5907aa in _0x1a7850[_0x582a7e]){let _0x134644=_0x1a7850[_0x582a7e][_0x5907aa],_0x4ce3ae=_0x582a7e+'-'+_0x5907aa;_0x1fc5d5[_0x5a7c39(0x19f)](_0x134644?await _0x32631e(_0x134644,_0x4ce3ae):await _0x4188d7(_0x4ce3ae));}await Promise[_0x5a7c39(0x16a)](_0x1fc5d5);}}},'saveCreds':async()=>await _0x32631e(_0x15b31e,'creds')};}var P=T(require('fs')),At=require(a0_0x5e0602(0x30a)),It=T(require(a0_0x5e0602(0x6ae)));function J(_0x387c77){const _0x2eb20b=a0_0x5e0602;if(_0x387c77['viewOnceMessage']||_0x387c77['viewOnceMessageV2']){let _0x2fcc61=_0x387c77[_0x2eb20b(0x6d9)]?_0x387c77[_0x2eb20b(0x6d9)][_0x2eb20b(0x25f)]:_0x387c77['viewOnceMessageV2'][_0x2eb20b(0x25f)];return(0x0,w[_0x2eb20b(0x54e)])(_0x2fcc61);}return _0x387c77['pollCreationMessageV3']?_0x2eb20b(0x17b):_0x387c77[_0x2eb20b(0x3a9)]?_0x2eb20b(0x3a9):(0x0,w[_0x2eb20b(0x54e)])(_0x387c77);}var ye=class c{constructor(_0x2c2f98,_0x556424,_0x1c79a2){const _0xc5280a=a0_0x5e0602;this[_0xc5280a(0x674)]=_0x2c2f98,this[_0xc5280a(0x645)]=_0x556424,this[_0xc5280a(0x323)]=_0x1c79a2,this[_0xc5280a(0x543)]=null,this[_0xc5280a(0x2d4)]=new N(c[_0xc5280a(0x5e4)]),this[_0xc5280a(0x61a)]={},this['localWebhook']={},this['stateConnection']={'state':_0xc5280a(0x3de)},this[_0xc5280a(0x65c)]=(0x0,$[_0xc5280a(0x69c)])(Q,_0xc5280a(0x3c5)),this[_0xc5280a(0x65f)]=new gs['default'](),this['userDevicesCache']=new gs[(_0xc5280a(0x56d))](),this[_0xc5280a(0x286)]=!0x1,this[_0xc5280a(0x39c)]={'status.instance':'/wa-connection-update','qrcode.updated':'/wa-qrcode','messages.upsert':_0xc5280a(0x20e),'messages.update':'/wa-message-update','send.message':_0xc5280a(0x20e),'group.upsert':'/wa-groups','group.update':_0xc5280a(0x2dc),'group-participants.update':_0xc5280a(0x2dc),'connection.update':'/wa-connection-update','messages.set':_0xc5280a(0x20e),'contacts.set':'/wa-contacts','contacts.upsert':_0xc5280a(0x5bc),'contacts.update':_0xc5280a(0x5bc),'presence.update':'/wa-presence','chats.set':_0xc5280a(0x23b),'chats.update':_0xc5280a(0x23b),'chats.upsert':_0xc5280a(0x23b),'chats.delete':_0xc5280a(0x23b)},this['reconnectAttempts']=0x0,this[_0xc5280a(0x725)]=[],this['MAX_RECONNECT_ATTEMPTS']=0xf,this[_0xc5280a(0x1fc)]=0x7530,this['isRunning']=!0x1,this[_0xc5280a(0x340)]={'chats.upsert':async(_0x586d06,_0x2c295a)=>{const _0x27e41c=_0xc5280a;let _0x131754=[];for await(let _0x456919 of _0x586d06)_0x131754['push']({'_id':_0x456919['id'],'owner':this['instance']['wuid'],'group':_0x456919['id'][_0x27e41c(0x1a3)](_0x27e41c(0x387)),'name':_0x456919[_0x27e41c(0x5e4)]||_0x456919['displayName']||null,'contactname':null,'lastmsg':_0x456919[_0x27e41c(0x29f)]&&_0x456919[_0x27e41c(0x29f)][_0x27e41c(0x35f)]()[_0x27e41c(0x3f7)]<0xd?_0x456919[_0x27e41c(0x29f)]*0x3e8:_0x456919[_0x27e41c(0x29f)]||null,'archived':_0x456919[_0x27e41c(0x655)]||!0x1,'unreadcount':_0x456919[_0x27e41c(0x4fe)]||0x0});await this[_0x27e41c(0x496)](_0x27e41c(0x170),_0x131754);},'chats.update':async(_0x45d2ff,_0x207607)=>{const _0x318395=_0xc5280a;for(let _0x424c0f of _0x45d2ff){let _0x3ea160={'_id':_0x424c0f['id'],'owner':this[_0x318395(0x61a)][_0x318395(0x396)],'group':_0x424c0f['id']['endsWith'](_0x318395(0x387)),'name':_0x424c0f['name']||_0x424c0f[_0x318395(0x488)],'archived':_0x424c0f[_0x318395(0x655)]},_0xfae424=!0x1,_0x3d2e64={};_0x3ea160[_0x318395(0x655)]!=null&&(this[_0x318395(0x2d4)][_0x318395(0x27f)](this['instanceName']+'\x20('+this[_0x318395(0x61a)][_0x318395(0x396)]+_0x318395(0x4d9)+_0x424c0f[_0x318395(0x655)]),_0xfae424=!0x0,_0x3d2e64[_0x318395(0x655)]=_0x424c0f[_0x318395(0x655)]),_0x424c0f['name']!=null&&(this['logger'][_0x318395(0x27f)](this[_0x318395(0x32a)]+'\x20('+this[_0x318395(0x61a)][_0x318395(0x396)]+'):\x20teve\x20mudanças\x20chat.name:\x20'+_0x424c0f[_0x318395(0x5e4)]),_0xfae424=!0x0,_0x3d2e64['name']=_0x424c0f[_0x318395(0x5e4)]),_0x424c0f['displayName']!=null&&(this[_0x318395(0x2d4)]['verbose'](this[_0x318395(0x32a)]+'\x20('+this[_0x318395(0x61a)][_0x318395(0x396)]+_0x318395(0x48b)+_0x424c0f[_0x318395(0x488)]),_0xfae424=!0x0,_0x3d2e64[_0x318395(0x5e4)]=_0x424c0f[_0x318395(0x488)]);let _0x1d1b95;_0xfae424&&(_0x1d1b95=await this[_0x318395(0x323)]['chat']['updateOne']({'where':{'_id':_0x424c0f['id'],'owner':this[_0x318395(0x61a)][_0x318395(0x396)]}},_0x3d2e64)),_0x1d1b95&&B(this[_0x318395(0x32a)],_0x318395(0x513),{'chat':_0x1d1b95});}},'chats.delete':async _0x154ef1=>{const _0x55ea31=_0xc5280a;await this[_0x55ea31(0x496)]('chats.delete',[..._0x154ef1]);}},this[_0xc5280a(0x38f)]={'contacts.upsert':async(_0xd843,_0x355e74)=>{const _0x174a24=_0xc5280a;let _0x1bec8e=await this[_0x174a24(0x323)]['contact']['find']({'where':{'owner':this[_0x174a24(0x61a)][_0x174a24(0x396)]}}),_0x524bd2=[];for await(let _0x3eb885 of _0xd843)_0x1bec8e[_0x174a24(0x6f2)](_0x7ed857=>_0x7ed857[_0x174a24(0x60f)]===_0x3eb885['id'])||_0x524bd2[_0x174a24(0x19f)]({'_id':_0x3eb885['id'],'pushName':_0x3eb885?.[_0x174a24(0x5e4)]||_0x3eb885?.['verifiedName'],'owner':this['instance'][_0x174a24(0x396)]});await this[_0x174a24(0x496)](_0x174a24(0x677),_0x524bd2),await this['repository'][_0x174a24(0x316)][_0x174a24(0x451)](_0x524bd2);},'contacts.update':async(_0x491bbf,_0x103675)=>{const _0x5bbd7e=_0xc5280a;let _0x48c2c2=[];for await(let _0xee48cb of _0x491bbf)_0x48c2c2[_0x5bbd7e(0x19f)]({'_id':_0xee48cb['id'],'pushName':_0xee48cb?.[_0x5bbd7e(0x5e4)]??_0xee48cb?.[_0x5bbd7e(0x722)],'owner':this['instance']['wuid']});await this['sendDataWebhook']('contacts.update',_0x48c2c2);}},this[_0xc5280a(0x4a4)]={'messaging-history.set':async({messages:_0x2aea8c,chats:_0x5705c9,isLatest:_0x56492f},_0x356452)=>{const _0x57dbf8=_0xc5280a;if(_0x56492f){let _0x13bf7a=await Promise[_0x57dbf8(0x16a)](_0x5705c9[_0x57dbf8(0x503)](async _0x2a54c8=>({'_id':_0x2a54c8['id'],'owner':this['instance'][_0x57dbf8(0x396)],'group':_0x2a54c8['id']['endsWith'](_0x57dbf8(0x387)),'name':_0x2a54c8[_0x57dbf8(0x5e4)]||_0x2a54c8[_0x57dbf8(0x488)]||null,'contactname':null,'lastmsg':_0x2a54c8[_0x57dbf8(0x29f)]&&_0x2a54c8[_0x57dbf8(0x29f)][_0x57dbf8(0x35f)]()[_0x57dbf8(0x3f7)]<0xd?_0x2a54c8['conversationTimestamp']*0x3e8:_0x2a54c8['conversationTimestamp']||null,'archived':_0x2a54c8['archived']||!0x1,'unreadcount':_0x2a54c8[_0x57dbf8(0x4fe)]||0x0})));await this['sendDataWebhook']('chats.set',_0x13bf7a),await this[_0x57dbf8(0x34c)](_0x13bf7a,_0x356452);}let _0x5e899e=[],_0x5b8f17=Date[_0x57dbf8(0x369)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x4f9861]of Object[_0x57dbf8(0x63b)](_0x2aea8c)){if(_0x4f9861['message']?.[_0x57dbf8(0x652)]||_0x4f9861[_0x57dbf8(0x25f)]?.[_0x57dbf8(0x5cc)]||!_0x4f9861[_0x57dbf8(0x25f)]||_0x4f9861[_0x57dbf8(0x32f)][_0x57dbf8(0x51c)]===_0x57dbf8(0x172)||(ps[_0x57dbf8(0x56d)][_0x57dbf8(0x28b)](_0x4f9861?.[_0x57dbf8(0x179)])&&(_0x4f9861['messageTimestamp']=_0x4f9861[_0x57dbf8(0x179)]?.[_0x57dbf8(0x391)]()),_0x4f9861['messageTimestamp']&&_0x4f9861[_0x57dbf8(0x179)]['toString']()[_0x57dbf8(0x3f7)]<0xd&&(_0x4f9861[_0x57dbf8(0x179)]=_0x4f9861[_0x57dbf8(0x179)]*0x3e8),_0x4f9861[_0x57dbf8(0x179)]<_0x5b8f17))continue;let {message_normalized:_0x7e9cd3}=this['normalizeMessage'](_0x4f9861['message'],J(_0x4f9861[_0x57dbf8(0x25f)]),null);Object[_0x57dbf8(0x4ec)](_0x7e9cd3)[_0x57dbf8(0x3f7)]>0x0&&_0x5e899e[_0x57dbf8(0x19f)]({'_id':_0x4f9861[_0x57dbf8(0x32f)]['id'],'key':_0x4f9861[_0x57dbf8(0x32f)],'pushName':_0x4f9861[_0x57dbf8(0x29e)],'participant':_0x4f9861[_0x57dbf8(0x218)],'message':{..._0x4f9861[_0x57dbf8(0x25f)]},'messageType':J(_0x4f9861[_0x57dbf8(0x25f)]),'message_normalized':{'key':_0x4f9861['key'],'pushName':_0x4f9861[_0x57dbf8(0x29e)],'messageTimestamp':_0x4f9861[_0x57dbf8(0x179)],..._0x7e9cd3},'messageTimestamp':_0x4f9861['messageTimestamp'],'owner':this[_0x57dbf8(0x61a)][_0x57dbf8(0x396)]});}_0x356452[_0x57dbf8(0x583)]&&_0x5e899e['length']>0x0&&(this['logger']['verbose'](this[_0x57dbf8(0x32a)]+'\x20('+this['instance'][_0x57dbf8(0x396)]+_0x57dbf8(0x3d4)+_0x5e899e['length']+_0x57dbf8(0x1ae)+this[_0x57dbf8(0x61a)][_0x57dbf8(0x396)]+_0x57dbf8(0x1e7)),await this[_0x57dbf8(0x323)][_0x57dbf8(0x25f)]['insert']([..._0x5e899e])),this[_0x57dbf8(0x496)](_0x57dbf8(0x4c0),[..._0x5e899e]),_0x2aea8c=void 0x0;},'messages.upsert':async({messages:_0x5921f3,type:_0x5ecbe9},_0x1fa3ae)=>{const _0x596750=_0xc5280a;let _0x3ddb45=_0x5921f3[0x0];if(_0x5ecbe9!==_0x596750(0x739)||!_0x3ddb45?.[_0x596750(0x25f)]||_0x3ddb45[_0x596750(0x25f)]?.[_0x596750(0x652)]||_0x3ddb45[_0x596750(0x25f)][_0x596750(0x5cc)]||_0x3ddb45['key'][_0x596750(0x51c)]===_0x596750(0x172))return;let _0x4a5f9f=null,_0x3ba451=null;try{_0x4a5f9f=await this[_0x596750(0x6af)](_0x3ddb45),_0x3ba451=_0x4a5f9f?_0x4a5f9f[_0x596750(0x69c)](','):null;}catch(_0x23f0fd){this[_0x596750(0x2d4)][_0x596750(0x27f)](this[_0x596750(0x32a)]+'\x20('+this[_0x596750(0x61a)][_0x596750(0x396)]+_0x596750(0x3d4)+_0x23f0fd[_0x596750(0x25f)]),_0x3ba451=_0x596750(0x3a5);}if(this[_0x596750(0x3d3)][_0x596750(0x5ef)](_0x596750(0x29b)),ps[_0x596750(0x56d)][_0x596750(0x28b)](_0x3ddb45[_0x596750(0x179)])&&(_0x3ddb45[_0x596750(0x179)]=_0x3ddb45[_0x596750(0x179)]?.[_0x596750(0x391)]()),this[_0x596750(0x6f8)]?.[_0x596750(0x29d)]&&_0x3ddb45[_0x596750(0x32f)]['remoteJid']['includes'](_0x596750(0x387))){this['logger'][_0x596750(0x27f)](_0x596750(0x406));return;}_0x3ddb45[_0x596750(0x179)]&&_0x3ddb45[_0x596750(0x179)]['toString']()[_0x596750(0x3f7)]<0xd&&(_0x3ddb45['messageTimestamp']=_0x3ddb45['messageTimestamp']*0x3e8);let _0x841f38=_0x3ddb45[_0x596750(0x25f)],{messageContent:_0x4c9787,message_normalized:_0x32b194}=this[_0x596750(0x6e0)](_0x841f38,J(_0x3ddb45[_0x596750(0x25f)]),_0x3ba451);_0x4c9787||console[_0x596750(0x2bd)]('Mensagem\x20não\x20suportada');let _0x2545c6={'_id':_0x3ddb45[_0x596750(0x32f)]['id'],'key':_0x3ddb45[_0x596750(0x32f)],'pushName':_0x3ddb45[_0x596750(0x29e)],'message':{..._0x3ddb45[_0x596750(0x25f)]},'messageType':J(_0x3ddb45['message']),'message_normalized':{'key':_0x3ddb45[_0x596750(0x32f)],'pushName':_0x3ddb45[_0x596750(0x29e)],'messageTimestamp':_0x3ddb45[_0x596750(0x179)],'source':(0x0,w[_0x596750(0x416)])(_0x3ddb45[_0x596750(0x32f)]['id']),..._0x32b194},'messageTimestamp':_0x3ddb45['messageTimestamp'],'owner':this[_0x596750(0x61a)][_0x596750(0x396)]};this[_0x596750(0x2d4)][_0x596750(0x656)](_0x2545c6),await this['repository'][_0x596750(0x25f)][_0x596750(0x451)]([_0x2545c6]),await this[_0x596750(0x496)]('messages.upsert',_0x2545c6),B(this[_0x596750(0x32a)],_0x596750(0x211),{'message':_0x2545c6}),_0x3ddb45['key']['remoteJid']!==_0x596750(0x172)&&await this['updateChatWithMessage'](_0x1fa3ae,_0x2545c6,'MESSAGES_UPSERT');},'messages.update':async(_0x10e5b0,_0x1cd5d7)=>{const _0x247125=_0xc5280a;let _0x355d1b={0x0:_0x247125(0x5c7),0x1:'PENDING',0x2:_0x247125(0x273),0x3:_0x247125(0x1f9),0x4:_0x247125(0x667),0x5:_0x247125(0x5e9)};for await(let {key:_0x106a8b,update:_0x335e79}of _0x10e5b0){if(this[_0x247125(0x6f8)]?.[_0x247125(0x29d)]&&_0x106a8b[_0x247125(0x51c)][_0x247125(0x215)](_0x247125(0x387))){this[_0x247125(0x2d4)][_0x247125(0x27f)]('group\x20ignored');return;}if(_0x106a8b[_0x247125(0x51c)]!==_0x247125(0x172)){let _0x365dff=Date[_0x247125(0x369)](),_0x261654;_0x335e79[_0x247125(0x25f)]===null&&_0x335e79[_0x247125(0x5a7)]===void 0x0?_0x261654='DELETED':_0x261654=_0x355d1b[_0x335e79[_0x247125(0x5a7)]];let _0x189d3e=_0x106a8b[_0x247125(0x51c)][_0x247125(0x480)](/:\d{1,2}@/g,'@'),_0x55d9dd={..._0x106a8b,'remoteJid':_0x189d3e,'status':_0x261654,'datetime':_0x365dff,'owner':this['instance']['wuid']};await this['sendDataWebhook'](_0x247125(0x46c),_0x55d9dd),await this[_0x247125(0x4ce)](_0x106a8b,_0x189d3e,_0x55d9dd);}}}},this[_0xc5280a(0x2dd)]={'groups.upsert':_0x1a770a=>{const _0x183e39=_0xc5280a;this[_0x183e39(0x496)](_0x183e39(0x2c6),_0x1a770a);},'groups.update':_0xf14bd4=>{const _0x3cc1cb=_0xc5280a;this[_0x3cc1cb(0x496)](_0x3cc1cb(0x478),_0xf14bd4);},'group-participants.update':_0x285d5c=>{const _0x3e67aa=_0xc5280a;this[_0x3e67aa(0x496)](_0x3e67aa(0x373),_0x285d5c);}},this[_0xc5280a(0x6af)]=async _0x267c52=>{const _0x5b21dc=_0xc5280a;if(_0x267c52[_0x5b21dc(0x25f)]?.[_0x5b21dc(0x541)]){let _0x296d08=await this['getMessage'](_0x267c52[_0x5b21dc(0x25f)][_0x5b21dc(0x541)]['pollCreationMessageKey'],!0x0);if(_0x296d08){let _0x1bb113=_0x296d08[_0x5b21dc(0x32f)][_0x5b21dc(0x6a7)]?this['instance'][_0x5b21dc(0x396)]+_0x5b21dc(0x1d9):_0x296d08[_0x5b21dc(0x32f)]['participant']||_0x296d08['key']['remoteJid'],_0x450194=_0x296d08[_0x5b21dc(0x32f)]['id'],_0x386ca0=_0x296d08['message'],_0x34ac2c=Buffer[_0x5b21dc(0x210)](_0x386ca0['messageContextInfo']['messageSecret'][_0x5b21dc(0x35f)](_0x5b21dc(0x35d)),_0x5b21dc(0x35d)),_0x5956f6=(0x0,w['decryptPollVote'])(_0x267c52[_0x5b21dc(0x25f)][_0x5b21dc(0x541)][_0x5b21dc(0x36d)],{'pollCreatorJid':_0x1bb113,'pollMsgId':_0x450194,'pollEncKey':_0x34ac2c,'voterJid':_0x267c52[_0x5b21dc(0x32f)][_0x5b21dc(0x6a7)]?this[_0x5b21dc(0x61a)][_0x5b21dc(0x396)]+_0x5b21dc(0x1d9):_0x267c52[_0x5b21dc(0x32f)]['remoteJid'][_0x5b21dc(0x1a3)](_0x5b21dc(0x264))?_0x267c52['key'][_0x5b21dc(0x218)]:_0x267c52[_0x5b21dc(0x32f)][_0x5b21dc(0x51c)]}),_0x56f236=[],_0x496e24=_0x5956f6['selectedOptions'][_0x5b21dc(0x503)](_0x49336f=>Buffer[_0x5b21dc(0x210)](_0x49336f)[_0x5b21dc(0x35f)](_0x5b21dc(0x35d)));for(let {optionName:_0x1e16f9}of _0x386ca0[_0x5b21dc(0x271)]?.[_0x5b21dc(0x602)]||_0x386ca0[_0x5b21dc(0x17b)]?.[_0x5b21dc(0x602)]||_0x386ca0[_0x5b21dc(0x3a9)]?.[_0x5b21dc(0x602)])_0x496e24[_0x5b21dc(0x22c)]((0x0,w[_0x5b21dc(0x456)])(Buffer[_0x5b21dc(0x210)](_0x1e16f9))[_0x5b21dc(0x35f)](_0x5b21dc(0x35d)))>-0x1&&_0x56f236[_0x5b21dc(0x19f)](_0x1e16f9);return _0x56f236;}}return null;},this['normalizeMessage']=(_0x2f0a2f,_0x1ae715,_0x551f6d)=>{const _0x5e9f19=_0xc5280a;let _0x5b5cb6=_0x1ae715?_0x2f0a2f[_0x1ae715]:void 0x0,_0x2bd6b8={},_0x4c2aa5=null,_0x56a511=null,_0x4679cf=null;if(_0x2f0a2f[_0x5e9f19(0x219)]?_0x5b5cb6=_0x2f0a2f[_0x5e9f19(0x219)][_0x5e9f19(0x25f)][_0x1ae715]:_0x2f0a2f['viewOnceMessage']?_0x5b5cb6=_0x2f0a2f['viewOnceMessage'][_0x5e9f19(0x25f)][_0x1ae715]:_0x2f0a2f['ephemeralMessage']?_0x5b5cb6=_0x2f0a2f[_0x5e9f19(0x418)][_0x5e9f19(0x25f)][_0x1ae715]:_0x2f0a2f[_0x5e9f19(0x439)]?.[_0x5e9f19(0x25f)]?.[_0x5e9f19(0x652)]?.[_0x5e9f19(0x439)]?(_0x4c2aa5=_0x2f0a2f[_0x5e9f19(0x439)][_0x5e9f19(0x25f)]['protocolMessage'][_0x5e9f19(0x32f)]['id'],_0x2f0a2f[_0x5e9f19(0x439)]['message']['protocolMessage']['editedMessage']['conversation']?_0x5b5cb6=_0x2f0a2f[_0x5e9f19(0x439)][_0x5e9f19(0x25f)][_0x5e9f19(0x652)][_0x5e9f19(0x439)]['conversation']:_0x2f0a2f[_0x5e9f19(0x439)][_0x5e9f19(0x25f)][_0x5e9f19(0x652)]['editedMessage'][_0x5e9f19(0x414)]?_0x5b5cb6=_0x2f0a2f[_0x5e9f19(0x439)]['message'][_0x5e9f19(0x652)][_0x5e9f19(0x439)]['imageMessage']['caption']:_0x2f0a2f[_0x5e9f19(0x439)]['message'][_0x5e9f19(0x652)][_0x5e9f19(0x439)][_0x5e9f19(0x6dc)]?_0x5b5cb6=_0x2f0a2f[_0x5e9f19(0x439)][_0x5e9f19(0x25f)]['protocolMessage'][_0x5e9f19(0x439)]['videoMessage'][_0x5e9f19(0x472)]:_0x2f0a2f['editedMessage'][_0x5e9f19(0x25f)][_0x5e9f19(0x652)][_0x5e9f19(0x439)][_0x5e9f19(0x314)]?_0x5b5cb6=_0x2f0a2f[_0x5e9f19(0x439)][_0x5e9f19(0x25f)][_0x5e9f19(0x652)][_0x5e9f19(0x439)][_0x5e9f19(0x314)][_0x5e9f19(0x25f)][_0x5e9f19(0x3e0)][_0x5e9f19(0x472)]:_0x5b5cb6=_0x2f0a2f[_0x5e9f19(0x439)][_0x5e9f19(0x25f)][_0x5e9f19(0x652)][_0x5e9f19(0x439)]):_0x5b5cb6=_0x2f0a2f[_0x1ae715],!_0x1ae715||!_0x5b5cb6)return console[_0x5e9f19(0x2bd)](_0x5e9f19(0x54f),_0x2f0a2f),{'messageType':_0x1ae715,'messageContent':_0x5b5cb6,'message_normalized':{}};_0x2f0a2f[_0x1ae715]?.['contextInfo']?.[_0x5e9f19(0x341)]&&_0x2f0a2f[_0x1ae715]?.['contextInfo']?.[_0x5e9f19(0x540)]&&(_0x56a511=_0x2f0a2f[_0x1ae715]['contextInfo']['stanzaId']),_0x2f0a2f[_0x5e9f19(0x6ce)]&&(_0x4679cf=_0x2f0a2f['reactionMessage'][_0x5e9f19(0x32f)]['id']);let _0x465e5e;if(_0x5b5cb6&&typeof _0x5b5cb6==_0x5e9f19(0x519)&&'pollCreationMessageKey'in _0x5b5cb6&&({pollCreationMessageKey:_0x465e5e}=_0x5b5cb6),_0x1ae715==='documentWithCaptionMessage'){let _0x5d660f=_0x5b5cb6?.[_0x5e9f19(0x25f)]?.[_0x5e9f19(0x3e0)];_0x5d660f&&(_0x5b5cb6=_0x5d660f);}if(_0x1ae715===_0x5e9f19(0x271)||_0x1ae715===_0x5e9f19(0x3a9)||_0x1ae715===_0x5e9f19(0x17b)){let _0x2417b7=_0x5b5cb6[_0x5e9f19(0x602)][_0x5e9f19(0x503)](_0x595772=>_0x595772['optionName'])[_0x5e9f19(0x69c)]('|');_0x2bd6b8[_0x5e9f19(0x62d)]=_0x2417b7;}let _0x594716=_0x5b5cb6[_0x5e9f19(0x5e4)]||_0x5b5cb6['caption']||_0x5b5cb6[_0x5e9f19(0x467)]||_0x5b5cb6[_0x5e9f19(0x488)];if(_0x5b5cb6[_0x5e9f19(0x297)]){let _0x415c5c=this[_0x5e9f19(0x508)](JSON[_0x5e9f19(0x408)](_0x5b5cb6[_0x5e9f19(0x297)],null,0x2));_0x594716=_0x594716+'\x0a'+_0x415c5c;}if(_0x5b5cb6){let {displayName:_0xedd4f5,vcard:_0xba6c5,contactVcard:_0x2a9e15,name:_0x3b2468,caption:_0x2e39fb,conversation:_0x44f6c8,pollCreationMessageKey:_0x1fa2ec,footerText:_0x41e150,contentText:_0x102f6d,pageCount:_0x328c4e,headerType:_0x3c0f32,isAvatar:_0x23df02,isAnimated:_0x4b1534,fallbackLc:_0x585db0,fallbackLg:_0x2a0813,namespace:_0x4e55c5,elementName:_0x3fcce5,localizableParams:_0x54153c,viewOnce:_0x445357,height:_0x5172ea,width:_0x59dcba,key:_0x5b785a,firstScanLength:_0x3b96f7,firstScanSidecar:_0xda8f4f,gifPlayback:_0x30066a,gifAttribution:_0x351a42,midQualityFileSha256:_0x144549,scansSidecar:_0x2cf6ba,streamingSidecar:_0x5bab7c,thumbnailHeight:_0x5e1f6c,thumbnailWidth:_0x36055,thumbnailEncSha256:_0x4cb83e,thumbnailDirectPath:_0x4f107f,canonicalUrl:_0x886e1,matchedText:_0x465d04,previewType:_0x3acf9b,thumbnailSha256:_0x10443f,deviceListMetadataVersion:_0x6741c8,inviteLinkGroupTypeV2:_0xa31ca7,interactiveAnnotations:_0x17c6c,scanLengths:_0x20524c,jpegThumbnail:_0xcf118b,url:_0xe2e507,mediaKeyTimestamp:_0x5d520e,waveform:_0x1801ba,stickerSentTs:_0x2b7da2,firstFrameLength:_0x37f78f,fileEncSha256:_0x1e0cfc,contextInfo:_0x46a6c2,firstFrameSidecar:_0x165dcd,directPath:_0x43c9b5,fileSha256:_0x1659c3,mediaKey:_0x2b53f3,senderTimestampMs:_0x43c305,..._0xa79838}=_0x5b5cb6;typeof _0x5b5cb6==_0x5e9f19(0x30f)?_0x2bd6b8={'text':_0x5b5cb6,'type':_0x1ae715||_0x5e9f19(0x467),..._0x4c2aa5&&{'edited':_0x4c2aa5},..._0x56a511&&{'quoted':_0x56a511},..._0x4679cf&&{'reaction':_0x4679cf}}:_0x2bd6b8={'text':_0x594716,..._0xa79838,..._0x1ae715==='pollUpdateMessage'?{'poll_id':_0x5b5cb6[_0x5e9f19(0x3fc)]['id'],'vote':_0x551f6d}:{},'type':_0x1ae715,..._0x4c2aa5&&{'edited':_0x4c2aa5},..._0x56a511&&{'quoted':_0x56a511},..._0x4679cf&&{'reaction':_0x4679cf},...(_0x1ae715==='pollCreationMessage'||_0x1ae715==='pollCreationMessageV2'||_0x1ae715===_0x5e9f19(0x17b))&&{'convertedOptions':_0x2bd6b8[_0x5e9f19(0x62d)]}};}return{'messageType':_0x1ae715,'messageContent':_0x5b5cb6,'message_normalized':_0x2bd6b8};},this[_0xc5280a(0x16d)]=null,this[_0xc5280a(0x653)]=0x0,(this[_0xc5280a(0x60b)](),this[_0xc5280a(0x61a)][_0xc5280a(0x63e)]={'count':0x0});}set[a0_0x5e0602(0x32a)](_0x1bc703){const _0x113c33=a0_0x5e0602;if(!_0x1bc703){this[_0x113c33(0x61a)][_0x113c33(0x5e4)]=(0x0,Xa['v4'])();return;}this[_0x113c33(0x61a)][_0x113c33(0x5e4)]=_0x1bc703,this[_0x113c33(0x496)](_0x113c33(0x3ae),{'instance':this[_0x113c33(0x61a)]['name'],'status':_0x113c33(0x4b0)});}get['instanceName'](){const _0x9e67a7=a0_0x5e0602;return this[_0x9e67a7(0x61a)][_0x9e67a7(0x5e4)];}get['wuid'](){const _0xf2eb77=a0_0x5e0602;return this['instance'][_0xf2eb77(0x396)];}async[a0_0x5e0602(0x60c)](){const _0x54eeec=a0_0x5e0602;let _0x34eb59=this[_0x54eeec(0x3d3)][_0x54eeec(0x633)]?.[_0x54eeec(0x5e4)]??this[_0x54eeec(0x3d3)]['user']?.[_0x54eeec(0x722)];if(!_0x34eb59){if(this[_0x54eeec(0x674)][_0x54eeec(0x43f)](_0x54eeec(0x2b2))[_0x54eeec(0x583)]){let _0x47a185=await M[_0x54eeec(0x28e)]()['db'](this[_0x54eeec(0x674)][_0x54eeec(0x43f)](_0x54eeec(0x2b2))[_0x54eeec(0x520)][_0x54eeec(0x449)]+_0x54eeec(0x524))[_0x54eeec(0x3f0)](this[_0x54eeec(0x32a)])[_0x54eeec(0x648)]({'_id':_0x54eeec(0x70f)});if(_0x47a185){let _0x1196eb=JSON[_0x54eeec(0x322)](JSON[_0x54eeec(0x408)](_0x47a185),w[_0x54eeec(0x359)][_0x54eeec(0x3e2)]);_0x34eb59=_0x1196eb['me']?.['name']||_0x1196eb['me']?.[_0x54eeec(0x722)];}}else{if((0x0,Te[_0x54eeec(0x275)])((0x0,$['join'])(V,this['instanceName'],_0x54eeec(0x1b7)))){let _0x3053bc=JSON[_0x54eeec(0x322)]((0x0,Te[_0x54eeec(0x63c)])((0x0,$['join'])(V,this[_0x54eeec(0x32a)],_0x54eeec(0x1b7)),{'encoding':_0x54eeec(0x6d3)}));_0x34eb59=_0x3053bc['me']?.[_0x54eeec(0x5e4)]||_0x3053bc['me']?.[_0x54eeec(0x722)];}}}return _0x34eb59;}get['profilePictureUrl'](){const _0x20b635=a0_0x5e0602;return this[_0x20b635(0x61a)][_0x20b635(0x6ec)];}get[a0_0x5e0602(0x36c)](){const _0x1ddaa4=a0_0x5e0602;return{'code':this[_0x1ddaa4(0x61a)][_0x1ddaa4(0x63e)]?.['code'],'base64':this[_0x1ddaa4(0x61a)][_0x1ddaa4(0x63e)]?.[_0x1ddaa4(0x6b0)]};}async[a0_0x5e0602(0x59a)](){const _0x2711b7=a0_0x5e0602;let _0xd57dc7=await this[_0x2711b7(0x323)][_0x2711b7(0x473)]['find'](this[_0x2711b7(0x32a)]);this[_0x2711b7(0x6f8)][_0x2711b7(0x31e)]=_0xd57dc7?.[_0x2711b7(0x31e)],this[_0x2711b7(0x6f8)][_0x2711b7(0x182)]=_0xd57dc7?.[_0x2711b7(0x182)],this[_0x2711b7(0x6f8)][_0x2711b7(0x564)]=_0xd57dc7?.[_0x2711b7(0x564)],this[_0x2711b7(0x6f8)][_0x2711b7(0x2df)]=_0xd57dc7?.[_0x2711b7(0x2df)],this['localWebhook']['QRCODE_UPDATED']=_0xd57dc7?.[_0x2711b7(0x5d9)],this[_0x2711b7(0x6f8)][_0x2711b7(0x528)]=_0xd57dc7?.['SEND_MESSAGE'],this[_0x2711b7(0x6f8)][_0x2711b7(0x6f6)]=_0xd57dc7?.[_0x2711b7(0x6f6)],this[_0x2711b7(0x6f8)]['MESSAGES_UPDATE']=_0xd57dc7?.['MESSAGES_UPDATE'],this[_0x2711b7(0x6f8)]['GROUPS_UPSERT']=_0xd57dc7?.[_0x2711b7(0x5b1)],this['localWebhook']['GROUPS_UPDATE']=_0xd57dc7?.['GROUPS_UPDATE'],this[_0x2711b7(0x6f8)]['GROUP_PARTICIPANTS_UPDATE']=_0xd57dc7?.[_0x2711b7(0x303)],this['localWebhook'][_0x2711b7(0x50a)]=_0xd57dc7?.[_0x2711b7(0x50a)],this[_0x2711b7(0x6f8)][_0x2711b7(0x48c)]=_0xd57dc7?.[_0x2711b7(0x48c)],this[_0x2711b7(0x6f8)]['CHATS_UPDATE']=_0xd57dc7?.['CHATS_UPDATE'],this[_0x2711b7(0x6f8)][_0x2711b7(0x2b9)]=_0xd57dc7?.[_0x2711b7(0x2b9)],this[_0x2711b7(0x6f8)][_0x2711b7(0x3ce)]=_0xd57dc7?.[_0x2711b7(0x3ce)],this[_0x2711b7(0x6f8)][_0x2711b7(0x2bc)]=_0xd57dc7?.[_0x2711b7(0x2bc)],this[_0x2711b7(0x6f8)]['CONTACTS_UPDATE']=_0xd57dc7?.[_0x2711b7(0x3a6)],this[_0x2711b7(0x6f8)][_0x2711b7(0x1da)]=_0xd57dc7?.[_0x2711b7(0x1da)],this[_0x2711b7(0x6f8)][_0x2711b7(0x332)]=_0xd57dc7?.[_0x2711b7(0x332)],this[_0x2711b7(0x6f8)][_0x2711b7(0x5bb)]=_0xd57dc7?.['CONNECTION_UPDATE'],this[_0x2711b7(0x6f8)]['groups_ignore']=_0xd57dc7?.[_0x2711b7(0x29d)];}async[a0_0x5e0602(0x23d)](_0x43da3f){const _0x149aa8=a0_0x5e0602;let _0xc51ebf=[_0x149aa8(0x60f),_0x149aa8(0x31e),_0x149aa8(0x182),_0x149aa8(0x564),_0x149aa8(0x2df),_0x149aa8(0x5d9),'MESSAGES_UPDATE',_0x149aa8(0x6f6),_0x149aa8(0x528),_0x149aa8(0x5b1),_0x149aa8(0x5a3),'GROUP_PARTICIPANTS_UPDATE',_0x149aa8(0x50a),'CHATS_UPSERT',_0x149aa8(0x460),_0x149aa8(0x2b9),_0x149aa8(0x3ce),_0x149aa8(0x2bc),'CONTACTS_UPDATE','PRESENCE_UPDATE',_0x149aa8(0x332),_0x149aa8(0x5bb),'groups_ignore'],_0x1dd00a={};return _0xc51ebf['forEach'](_0x35aa94=>{_0x43da3f[_0x35aa94]!==void 0x0&&(_0x1dd00a[_0x35aa94]=_0x43da3f[_0x35aa94]);}),await this['repository'][_0x149aa8(0x473)][_0x149aa8(0x72e)](_0x1dd00a,this[_0x149aa8(0x32a)]),Object['assign'](this[_0x149aa8(0x6f8)],_0x1dd00a),await this['repository'][_0x149aa8(0x473)][_0x149aa8(0x6f2)](this[_0x149aa8(0x32a)]);}async[a0_0x5e0602(0x736)](){const _0xf2d9ae=a0_0x5e0602;return await this['repository']['webhook'][_0xf2d9ae(0x6f2)](this[_0xf2d9ae(0x32a)]);}async[a0_0x5e0602(0x496)](_0x5c2089,_0x3b9987){const _0x3ad839=a0_0x5e0602;let _0x2b59fe=this[_0x3ad839(0x674)][_0x3ad839(0x43f)](_0x3ad839(0x389)),_0x24ba26=_0x5c2089[_0x3ad839(0x480)](/[\.-]/gm,'_')['toUpperCase'](),_0x11cc79=this[_0x3ad839(0x6f8)][_0x3ad839(0x182)]&&(0x0,O[_0x3ad839(0x65d)])(this['localWebhook'][_0x3ad839(0x31e)])?this[_0x3ad839(0x6f8)][_0x3ad839(0x31e)]+(this['localWebhook'][_0x3ad839(0x564)]?this[_0x3ad839(0x39c)][_0x5c2089]:''):null,_0x5167ef=_0x2b59fe?.[_0x3ad839(0x2ca)],_0x353721=_0x5167ef&&_0x5167ef?.[_0x3ad839(0x583)]&&(0x0,O[_0x3ad839(0x65d)])(_0x5167ef[_0x3ad839(0x5e8)])?_0x5167ef[_0x3ad839(0x5e8)]+(_0x2b59fe[_0x3ad839(0x6d1)]?this[_0x3ad839(0x39c)][_0x5c2089]:''):null,_0x1585a0=this[_0x3ad839(0x6f8)][_0x24ba26],_0x44808a=_0x2b59fe?.[_0x3ad839(0x3d1)]?.[_0x24ba26];if(_0x1585a0&&_0x11cc79)try{await ce['default'][_0x3ad839(0x72e)]({'baseURL':_0x11cc79})[_0x3ad839(0x584)]('',{'event':_0x5c2089,'instance':this[_0x3ad839(0x61a)][_0x3ad839(0x5e4)],'data':_0x3b9987}),this[_0x3ad839(0x2d4)][_0x3ad839(0x656)]('Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x5c2089+':\x20'+_0x11cc79);}catch(_0xfc3ee1){this[_0x3ad839(0x2d4)][_0x3ad839(0x2bd)](this[_0x3ad839(0x32a)]+'\x20('+this[_0x3ad839(0x61a)][_0x3ad839(0x396)]+_0x3ad839(0x3d4)+{'local':c['name']+_0x3ad839(0x377),'message':_0xfc3ee1?.[_0x3ad839(0x25f)],'hostName':_0xfc3ee1?.[_0x3ad839(0x4f7)],'syscall':_0xfc3ee1?.[_0x3ad839(0x307)],'code':_0xfc3ee1?.[_0x3ad839(0x4d2)],'error':_0xfc3ee1?.[_0x3ad839(0x673)],'stack':_0xfc3ee1?.['stack'],'name':_0xfc3ee1?.['name']});}if(_0x44808a&&_0x353721)try{await ce[_0x3ad839(0x56d)][_0x3ad839(0x72e)]({'baseURL':_0x353721})[_0x3ad839(0x584)]('',{'event':_0x5c2089,'instance':this[_0x3ad839(0x61a)][_0x3ad839(0x5e4)],'data':_0x3b9987}),this[_0x3ad839(0x2d4)][_0x3ad839(0x656)](_0x3ad839(0x206)+_0x5c2089+':\x20'+_0x353721);}catch(_0x43e904){this[_0x3ad839(0x2d4)][_0x3ad839(0x2bd)](this[_0x3ad839(0x32a)]+'\x20('+this[_0x3ad839(0x61a)][_0x3ad839(0x396)]+_0x3ad839(0x3d4)+{'local':c[_0x3ad839(0x5e4)]+_0x3ad839(0x1d2),'message':_0x43e904?.[_0x3ad839(0x25f)],'hostName':_0x43e904?.[_0x3ad839(0x4f7)],'syscall':_0x43e904?.[_0x3ad839(0x307)],'code':_0x43e904?.[_0x3ad839(0x4d2)],'error':_0x43e904?.[_0x3ad839(0x673)],'stack':_0x43e904?.[_0x3ad839(0x50e)],'name':_0x43e904?.['name']});}}async[a0_0x5e0602(0x651)]({qr:_0x12795f,connection:_0x6389bd,lastDisconnect:_0x2099aa}){const _0x518db9=a0_0x5e0602;if(_0x12795f){if(this[_0x518db9(0x61a)][_0x518db9(0x63e)][_0x518db9(0x368)]===this[_0x518db9(0x674)][_0x518db9(0x43f)](_0x518db9(0x23c))[_0x518db9(0x5f7)])return this[_0x518db9(0x496)](_0x518db9(0x38a),{'message':_0x518db9(0x251),'statusCode':w[_0x518db9(0x318)][_0x518db9(0x42e)]}),this[_0x518db9(0x496)](_0x518db9(0x18c),{'instance':this[_0x518db9(0x61a)][_0x518db9(0x5e4)],'state':_0x518db9(0x715),'statusReason':w[_0x518db9(0x318)][_0x518db9(0x61e)]}),this[_0x518db9(0x496)](_0x518db9(0x3ae),{'instance':this['instance']['name'],'status':_0x518db9(0x1f6)}),this[_0x518db9(0x286)]=!0x0,this['eventEmitter'][_0x518db9(0x6e9)](_0x518db9(0x632),this['instance'][_0x518db9(0x5e4)]);this['instance'][_0x518db9(0x63e)][_0x518db9(0x368)]++;let _0x3436ae={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x518db9(0x1d4),'dark':_0x518db9(0x5e7)}};Za[_0x518db9(0x56d)][_0x518db9(0x6a0)](_0x12795f,_0x3436ae,(_0x53ecc0,_0x3e88d6)=>{const _0x39ef26=_0x518db9;if(_0x53ecc0){this[_0x39ef26(0x2d4)][_0x39ef26(0x2bd)](this['instanceName']+'\x20('+this[_0x39ef26(0x61a)]['wuid']+_0x39ef26(0x48d)+_0x53ecc0[_0x39ef26(0x35f)]());return;}this[_0x39ef26(0x61a)][_0x39ef26(0x63e)][_0x39ef26(0x6b0)]=_0x3e88d6,this['instance'][_0x39ef26(0x63e)]['code']=_0x12795f,this[_0x39ef26(0x496)](_0x39ef26(0x38a),{'qrcode':{'instance':this[_0x39ef26(0x61a)][_0x39ef26(0x5e4)],'code':_0x12795f,'base64':_0x3e88d6}});}),eo['default']['generate'](_0x12795f,{'small':!0x0},_0x374e12=>this['logger'][_0x518db9(0x656)](_0x518db9(0x6a5)+this['instance'][_0x518db9(0x5e4)]+',\x20qrcodeCount:\x20'+this[_0x518db9(0x61a)]['qrcode'][_0x518db9(0x368)]+_0x518db9(0x58b)+_0x374e12));}if(_0x6389bd&&(this[_0x518db9(0x47b)]={'state':_0x6389bd,'statusReason':_0x2099aa?.[_0x518db9(0x2bd)]?.[_0x518db9(0x1c4)]?.['statusCode']??0xc8},this[_0x518db9(0x496)]('connection.update',{'instance':this[_0x518db9(0x61a)][_0x518db9(0x5e4)],...this[_0x518db9(0x47b)]})),_0x6389bd===_0x518db9(0x3de)){if(this[_0x518db9(0x3fe)]++,this[_0x518db9(0x725)][_0x518db9(0x19f)](Date[_0x518db9(0x369)]()),this[_0x518db9(0x725)]=this['reconnectTimestamps'][_0x518db9(0x6d8)](_0xa3d10e=>Date[_0x518db9(0x369)]()-_0xa3d10e<this[_0x518db9(0x1fc)]),_0x2099aa[_0x518db9(0x2bd)]?.['output']?.[_0x518db9(0x365)]!==w[_0x518db9(0x318)][_0x518db9(0x672)]&&this[_0x518db9(0x725)]['length']<=this[_0x518db9(0x5c8)])await this[_0x518db9(0x6bc)]();else{this['sendDataWebhook']('status.instance',{'instance':this[_0x518db9(0x61a)][_0x518db9(0x5e4)],'status':_0x518db9(0x1f6)}),this['isConnected']=!0x1;try{this[_0x518db9(0x2d4)]['verbose'](this[_0x518db9(0x32a)]+'\x20('+this[_0x518db9(0x61a)][_0x518db9(0x396)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x2f9dfb=await this[_0x518db9(0x323)][_0x518db9(0x25f)][_0x518db9(0x309)](this[_0x518db9(0x61a)][_0x518db9(0x396)]);_0x2f9dfb[_0x518db9(0x3a1)]?this['logger'][_0x518db9(0x27f)](this[_0x518db9(0x32a)]+'\x20('+this['instance'][_0x518db9(0x396)]+'):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.'):console[_0x518db9(0x2bd)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:',_0x2f9dfb['error']);}catch(_0x43c3ba){console[_0x518db9(0x2bd)](_0x518db9(0x2aa),_0x43c3ba);}this[_0x518db9(0x4a0)]!==null&&(this[_0x518db9(0x2d4)][_0x518db9(0x27f)](this['instanceName']+'\x20('+this[_0x518db9(0x61a)]['wuid']+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x518db9(0x4a0)]),this[_0x518db9(0x4a0)]=null),this[_0x518db9(0x2d4)][_0x518db9(0x27f)](this[_0x518db9(0x32a)]+'\x20('+this['instance'][_0x518db9(0x396)]+_0x518db9(0x366)),this[_0x518db9(0x543)]=null,this[_0x518db9(0x645)]['emit'](_0x518db9(0x468),this['instance']['name'],_0x518db9(0x737)),this[_0x518db9(0x3d3)]?.['ws']?.[_0x518db9(0x3de)](),this[_0x518db9(0x3d3)][_0x518db9(0x5fc)](new Error('Close\x20connection'));}}if(_0x6389bd===_0x518db9(0x411)){this[_0x518db9(0x6c4)],this[_0x518db9(0x61a)][_0x518db9(0x396)]=this[_0x518db9(0x3d3)]['user']['id']['replace'](/:\d+/,'')['replace'](_0x518db9(0x1d9),''),this[_0x518db9(0x61a)]['profilePictureUrl']=(await this[_0x518db9(0x688)](this[_0x518db9(0x61a)][_0x518db9(0x396)]+_0x518db9(0x1d9)))[_0x518db9(0x6ec)];let _0x11a191=_0x518db9(0x606)+this[_0x518db9(0x61a)]['wuid'],_0x5d613c=0x28,_0x468fc3=Math[_0x518db9(0x378)]((_0x5d613c-_0x11a191[_0x518db9(0x3f7)])/0x2),_0x34b50d='\x20'[_0x518db9(0x44d)](_0x468fc3),_0x1c474e=_0x518db9(0x351),_0x252718=_0x518db9(0x6d7)+this[_0x518db9(0x61a)]['name'],_0x31396c=(''+_0x34b50d+_0x11a191+_0x34b50d)[_0x518db9(0x720)](_0x5d613c,'\x20'),_0x18f637=(''+_0x34b50d+_0x1c474e+_0x34b50d)['padEnd'](_0x5d613c,'\x20'),_0x42f1fc=(''+_0x34b50d+_0x252718+_0x34b50d)[_0x518db9(0x720)](_0x5d613c,'\x20'),_0x2dd86c=Math[_0x518db9(0x356)](_0x31396c[_0x518db9(0x3f7)],_0x18f637['length'],_0x42f1fc[_0x518db9(0x3f7)]),_0x5f564e=_0x31396c[_0x518db9(0x720)](_0x2dd86c,'\x20'),_0xd7435f=_0x18f637[_0x518db9(0x720)](_0x2dd86c,'\x20'),_0x539e86=_0x42f1fc[_0x518db9(0x720)](_0x2dd86c,'\x20');this[_0x518db9(0x2d4)][_0x518db9(0x447)]((_0x518db9(0x181)+'─'[_0x518db9(0x44d)](_0x2dd86c)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0xd7435f+_0x518db9(0x3b2)+_0x539e86+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x5f564e+_0x518db9(0x68a)+'─'[_0x518db9(0x44d)](_0x2dd86c)+'┘')['replace'](/^ +/gm,'\x20\x20')),this[_0x518db9(0x699)](),this['isConnected']=!0x0;}}[a0_0x5e0602(0x6c4)](){const _0xcab2e6=a0_0x5e0602;this[_0xcab2e6(0x3fe)]=0x0,this[_0xcab2e6(0x725)]=[];}async['getMessage'](_0x309c74,_0x43a6d1=!0x1){const _0xeb042f=a0_0x5e0602;try{let _0x18486b=await this[_0xeb042f(0x323)][_0xeb042f(0x25f)][_0xeb042f(0x6f2)]({'where':{'owner':this[_0xeb042f(0x61a)]['wuid'],'_id':_0x309c74['id']}});return _0x43a6d1?_0x18486b[0x0]:_0x18486b[0x0][_0xeb042f(0x25f)];}catch{return{'conversation':''};}}[a0_0x5e0602(0x60b)](){const _0x1bac40=a0_0x5e0602;let _0x159afa=this[_0x1bac40(0x674)][_0x1bac40(0x43f)](_0x1bac40(0x637)),_0x27438b=this['configService'][_0x1bac40(0x43f)](_0x1bac40(0x2b2));_0x159afa?.[_0x1bac40(0x729)]&&!_0x27438b['ENABLED']&&setInterval(()=>{const _0xf17d5e=_0x1bac40;try{for(let [_0x41fb4f,_0x4f18da]of Object[_0xf17d5e(0x63b)](_0x159afa))_0x4f18da===!0x0&&(0x0,Dt['execSync'])(_0xf17d5e(0x258)+(0x0,$[_0xf17d5e(0x69c)])(this[_0xf17d5e(0x65c)],_0x41fb4f[_0xf17d5e(0x3dd)](),this['instance'][_0xf17d5e(0x396)])+_0xf17d5e(0x1c0));}catch{}},(_0x159afa?.[_0x1bac40(0x729)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x1ca0c6=a0_0x5e0602;let _0x17ba81=this['configService'][_0x1ca0c6(0x43f)](_0x1ca0c6(0x2b2)),_0x419873=this[_0x1ca0c6(0x674)][_0x1ca0c6(0x43f)](_0x1ca0c6(0x5d1));return _0x419873?.[_0x1ca0c6(0x583)]?await ds(_0x419873,this[_0x1ca0c6(0x61a)]['name']):_0x17ba81['ENABLED']?await us(this[_0x1ca0c6(0x61a)]['name']):await(0x0,w[_0x1ca0c6(0x6fa)])((0x0,$['join'])(V,this[_0x1ca0c6(0x61a)][_0x1ca0c6(0x5e4)]));}async[a0_0x5e0602(0x699)](){const _0x356d69=a0_0x5e0602;let _0x37d140=()=>Math[_0x356d69(0x378)](Math[_0x356d69(0x3ca)]()*0x2711)+0x7d0,_0x487a5b=async()=>{const _0x38840f=_0x356d69;if(!this[_0x38840f(0x228)]){this[_0x38840f(0x2d4)][_0x38840f(0x27f)](_0x38840f(0x590)),this[_0x38840f(0x5fb)]=!0x1;return;}if(this['instance'][_0x38840f(0x396)]&&this[_0x38840f(0x543)]&&this[_0x38840f(0x4a0)]!==null&&this['delayMessage']!==void 0x0){let _0x109610=Math[_0x38840f(0x5d7)](this[_0x38840f(0x4a0)]/0xea60);this['logger'][_0x38840f(0x27f)](this['instanceName']+'\x20('+this[_0x38840f(0x61a)][_0x38840f(0x396)]+_0x38840f(0x3b6)+_0x109610+_0x38840f(0x22a)),this[_0x38840f(0x5fb)]=!0x1;return;}else this['instance'][_0x38840f(0x396)]&&(this['logger'][_0x38840f(0x27f)](this[_0x38840f(0x32a)]+'\x20('+this[_0x38840f(0x61a)][_0x38840f(0x396)]+_0x38840f(0x539)),this['AutomateSystem']||await this['getAutomateSystem'](),(this[_0x38840f(0x4a0)]===null||this['delayMessage']===void 0x0)&&await this[_0x38840f(0x22e)]());if(this[_0x38840f(0x5fb)]){let _0x52d2fd=_0x37d140();this['logger'][_0x38840f(0x27f)](this['instanceName']+_0x38840f(0x6b3)+_0x52d2fd/0x3e8+_0x38840f(0x565)),setTimeout(_0x487a5b,_0x52d2fd);}};if(this[_0x356d69(0x5fb)])return;this[_0x356d69(0x5fb)]=!0x0;let _0x45af3a=_0x37d140();setTimeout(_0x487a5b,_0x45af3a);}async[a0_0x5e0602(0x6bc)](){const _0x373b88=a0_0x5e0602;try{this[_0x373b88(0x59a)](),this[_0x373b88(0x61a)][_0x373b88(0x4b7)]=await this[_0x373b88(0x30e)]();let {version:_0x586067}=await(0x0,w['fetchLatestBaileysVersion'])(),_0x5e3ed8=this[_0x373b88(0x674)]['get'](_0x373b88(0x581)),_0xa70051=[_0x5e3ed8[_0x373b88(0x3b7)],_0x5e3ed8[_0x373b88(0x390)],(0x0,to[_0x373b88(0x469)])()],_0x170b0d={'auth':{'creds':this[_0x373b88(0x61a)][_0x373b88(0x4b7)][_0x373b88(0x671)][_0x373b88(0x70f)],'keys':(0x0,w[_0x373b88(0x44e)])(this['instance']['authState']['state'][_0x373b88(0x4ec)],(0x0,Rt[_0x373b88(0x56d)])({'level':_0x373b88(0x2bd)}))},'logger':(0x0,Rt['default'])({'level':_0x373b88(0x2bd)}),'printQRInTerminal':!0x1,'browser':_0xa70051,'version':_0x586067,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x373b88(0x65f)],'getMessage':async _0x55b099=>await this[_0x373b88(0x532)](_0x55b099),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x0,'userDevicesCache':this[_0x373b88(0x379)],'transactionOpts':{'maxCommitRetries':0x1,'delayBetweenTriesMs':0xa},'patchMessageBeforeSending':_0x13394d=>(!!(_0x13394d['buttonsMessage']||_0x13394d[_0x373b88(0x29a)])&&(_0x13394d={'viewOnceMessageV2':{'message':{'messageContextInfo':{'deviceListMetadataVersion':0x2,'deviceListMetadata':{}},..._0x13394d}}}),_0x13394d)};return this[_0x373b88(0x286)]=!0x1,this[_0x373b88(0x3d3)]=(0x0,w['default'])(_0x170b0d),this[_0x373b88(0x41c)](),this[_0x373b88(0x3d3)];}catch(_0x50b976){throw this[_0x373b88(0x2d4)][_0x373b88(0x2bd)](this['instanceName']+'\x20('+this[_0x373b88(0x61a)][_0x373b88(0x396)]+_0x373b88(0x3d4)+_0x50b976),new A(_0x50b976?.['toString']());}}[a0_0x5e0602(0x41c)](){const _0x2004e9=a0_0x5e0602;this[_0x2004e9(0x3d3)]['ev'][_0x2004e9(0x3ee)](_0x18a062=>{const _0x11ffba=_0x2004e9;if(!this[_0x11ffba(0x286)]){let _0x4dffd6=this[_0x11ffba(0x674)]['get'](_0x11ffba(0x2b2));if(_0x18a062[_0x11ffba(0x18c)]&&this['connectionUpdate'](_0x18a062[_0x11ffba(0x18c)]),_0x18a062['creds.update']&&this[_0x11ffba(0x61a)][_0x11ffba(0x4b7)]['saveCreds'](),_0x18a062[_0x11ffba(0x2bf)]){let _0xe01b24=_0x18a062[_0x11ffba(0x2bf)];this[_0x11ffba(0x4a4)][_0x11ffba(0x2bf)](_0xe01b24,_0x4dffd6);}if(_0x18a062[_0x11ffba(0x4b3)]){let _0x17ad3a=_0x18a062[_0x11ffba(0x4b3)];this[_0x11ffba(0x4a4)]['messages.upsert'](_0x17ad3a,_0x4dffd6);}if(_0x18a062[_0x11ffba(0x46c)]){let _0x374f5d=_0x18a062[_0x11ffba(0x46c)];this[_0x11ffba(0x4a4)][_0x11ffba(0x46c)](_0x374f5d,_0x4dffd6);}if(_0x18a062[_0x11ffba(0x62e)]){let _0xf59c3d=_0x18a062['presence.update'];if(this['localWebhook']?.[_0x11ffba(0x29d)]&&_0xf59c3d['id']['includes']('@g.us'))return;this[_0x11ffba(0x496)](_0x11ffba(0x62e),_0xf59c3d);}if(!this[_0x11ffba(0x6f8)]?.[_0x11ffba(0x29d)]){if(_0x18a062[_0x11ffba(0x2c6)]){let _0x551fcf=_0x18a062['groups.upsert'];this['groupHandler'][_0x11ffba(0x2c6)](_0x551fcf);}if(_0x18a062[_0x11ffba(0x478)]){let _0x36e1a6=_0x18a062[_0x11ffba(0x478)];this[_0x11ffba(0x2dd)]['groups.update'](_0x36e1a6);}if(_0x18a062[_0x11ffba(0x373)]){let _0x1ddb3c=_0x18a062[_0x11ffba(0x373)];this['groupHandler']['group-participants.update'](_0x1ddb3c);}}if(_0x18a062['chats.upsert']){let _0x611481=_0x18a062[_0x11ffba(0x170)];this[_0x11ffba(0x340)][_0x11ffba(0x170)](_0x611481,_0x4dffd6);}if(_0x18a062[_0x11ffba(0x2a3)]){let _0x2a1905=_0x18a062[_0x11ffba(0x2a3)];this[_0x11ffba(0x340)][_0x11ffba(0x2a3)](_0x2a1905,_0x4dffd6);}if(_0x18a062['chats.delete']){let _0x4bbe34=_0x18a062[_0x11ffba(0x2cc)];this[_0x11ffba(0x340)][_0x11ffba(0x2cc)](_0x4bbe34);}if(_0x18a062[_0x11ffba(0x677)]){let _0x182a4e=_0x18a062[_0x11ffba(0x677)];this[_0x11ffba(0x38f)][_0x11ffba(0x677)](_0x182a4e,_0x4dffd6);}if(_0x18a062[_0x11ffba(0x3dc)]){let _0x1950cb=_0x18a062['contacts.update'];this[_0x11ffba(0x38f)][_0x11ffba(0x3dc)](_0x1950cb,_0x4dffd6);}}});}['formatBRNumber'](_0x2fceb3){const _0x28d1ce=a0_0x5e0602;let _0x58614c=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x28d1ce(0x20b)](_0x2fceb3);if(_0x58614c&&_0x58614c[0x1]==='55'){let _0x24efe4=_0x58614c[0x2],_0x5e02c7=_0x58614c[0x3],_0x371a65=_0x58614c[0x4];if(_0x24efe4>='31'&&_0x5e02c7==='9')return _0x58614c[0x1]+_0x24efe4+_0x371a65;}return _0x2fceb3;}['createJid'](_0x75a6b){const _0x4f706b=a0_0x5e0602;return _0x75a6b['includes'](_0x4f706b(0x387))||_0x75a6b[_0x4f706b(0x215)](_0x4f706b(0x1d9))||_0x75a6b[_0x4f706b(0x215)](_0x4f706b(0x5c4))?_0x75a6b:(_0x75a6b=_0x75a6b?.[_0x4f706b(0x480)](/\s/g,'')[_0x4f706b(0x480)](/\+/g,'')[_0x4f706b(0x480)](/\(/g,'')[_0x4f706b(0x480)](/\)/g,'')[_0x4f706b(0x675)](/\:/)[0x0][_0x4f706b(0x675)]('@')[0x0],_0x75a6b[_0x4f706b(0x3f7)]>=0x12?(_0x75a6b=_0x75a6b[_0x4f706b(0x480)](/[^\d-]/g,''),_0x75a6b+_0x4f706b(0x387)):(_0x75a6b=_0x75a6b[_0x4f706b(0x480)](/\D/g,''),this[_0x4f706b(0x3da)](_0x75a6b)+'@s.whatsapp.net'));}async[a0_0x5e0602(0x6f7)](_0x52c819){const _0x58673c=a0_0x5e0602;let _0x87907d=this[_0x58673c(0x1c3)](_0x52c819[_0x58673c(0x4bd)]),_0x4c5f68=(await this['whatsappNumber']({'numbers':[_0x87907d]}))[0x0];if(!_0x4c5f68[_0x58673c(0x728)]&&!(0x0,w[_0x58673c(0x268)])(_0x4c5f68['jid']))throw new g(_0x4c5f68);let _0x4dc3cc=(0x0,w[_0x58673c(0x268)])(_0x87907d)?_0x87907d:_0x4c5f68[_0x58673c(0x226)];if((0x0,w[_0x58673c(0x268)])(_0x4dc3cc))try{await this[_0x58673c(0x3d3)][_0x58673c(0x6b5)](_0x4dc3cc);}catch{throw new x('Group\x20not\x20found');}try{return await this[_0x58673c(0x3d3)][_0x58673c(0x6ff)](_0x4dc3cc),await this['client']['sendPresenceUpdate'](_0x52c819[_0x58673c(0x54a)],_0x87907d),{'status':0xc8,'presence':_0x52c819[_0x58673c(0x54a)]};}catch(_0x595c8f){throw new g(_0x595c8f[_0x58673c(0x35f)]());}}async[a0_0x5e0602(0x688)](_0x32f062){const _0x570f15=a0_0x5e0602;let _0x1b1dda=this[_0x570f15(0x1c3)](_0x32f062);try{return{'wuid':_0x1b1dda,'profilePictureUrl':await this[_0x570f15(0x3d3)][_0x570f15(0x6ec)](_0x1b1dda,_0x570f15(0x68e))};}catch{return{'wuid':_0x1b1dda,'profilePictureUrl':null};}}async[a0_0x5e0602(0x42f)](_0x186611,_0xd15b3b,_0x22df02){const _0x2a6680=a0_0x5e0602;let _0x3d0e1d=(await this[_0x2a6680(0x50d)]({'numbers':[_0x186611]}))[0x0];if(!_0x3d0e1d[_0x2a6680(0x728)]&&!(0x0,w[_0x2a6680(0x268)])(_0x3d0e1d['jid'])&&!_0x3d0e1d[_0x2a6680(0x226)][_0x2a6680(0x215)](_0x2a6680(0x5c4)))throw new g(_0x3d0e1d);let _0x2b109d=_0x3d0e1d[_0x2a6680(0x226)];try{_0x22df02?.[_0x2a6680(0x42c)]&&(await this[_0x2a6680(0x3d3)][_0x2a6680(0x6ff)](_0x2b109d),await this[_0x2a6680(0x3d3)][_0x2a6680(0x5ef)](_0x22df02?.['presence']??_0x2a6680(0x534),_0x2b109d),await(0x0,w['delay'])(_0x22df02[_0x2a6680(0x42c)]),await this['client']['sendPresenceUpdate'](_0x2a6680(0x266),_0x2b109d));let _0x3ab5a2=_0x22df02?.[_0x2a6680(0x1bc)]!=!0x1?void 0x0:!0x1,_0x39445e;if(_0x22df02?.[_0x2a6680(0x3d0)]){let _0x3ff0fb=_0x22df02?.['quoted'],_0xe22264=_0x3ff0fb?.[_0x2a6680(0x25f)]?_0x3ff0fb:await this[_0x2a6680(0x532)](_0x3ff0fb['key'],!0x0);if(!_0xe22264)throw _0x2a6680(0x6e7);_0x39445e=_0xe22264;}let _0x442b75;if((0x0,w['isJidGroup'])(_0x2b109d))try{let _0xa80ecc=await this[_0x2a6680(0x3d3)][_0x2a6680(0x6b5)](_0x2b109d);if(!_0xa80ecc)throw new x(_0x2a6680(0x1ef));_0x22df02?.[_0x2a6680(0x5e3)]&&(_0x22df02[_0x2a6680(0x5e3)]?.[_0x2a6680(0x232)]?_0x442b75=_0xa80ecc[_0x2a6680(0x41f)]['map'](_0x2cda2f=>_0x2cda2f['id']):_0x22df02[_0x2a6680(0x5e3)]?.[_0x2a6680(0x1af)]?.[_0x2a6680(0x3f7)]&&(_0x442b75=_0x22df02['mentions'][_0x2a6680(0x1af)][_0x2a6680(0x503)](_0x5257dc=>{const _0x3d3c8e=_0x2a6680;let _0x537a2c=this[_0x3d3c8e(0x1c3)](_0x5257dc);return(0x0,w['isJidGroup'])(_0x537a2c)?null:_0x537a2c;})));}catch{throw new x(_0x2a6680(0x1ef));}let _0x168784=await((async()=>{const _0x3bee9e=_0x2a6680;let _0x406761={'quoted':_0x39445e};if(!_0xd15b3b[_0x3bee9e(0x25e)]&&!_0xd15b3b['poll']&&!_0xd15b3b[_0x3bee9e(0x1dc)]&&!_0xd15b3b[_0x3bee9e(0x467)]&&_0x2b109d!==_0x3bee9e(0x172)&&!_0xd15b3b[_0x3bee9e(0x25e)])return await this[_0x3bee9e(0x3d3)][_0x3bee9e(0x479)](_0x2b109d,{'forward':{'key':{'remoteJid':this[_0x3bee9e(0x61a)][_0x3bee9e(0x396)],'fromMe':!0x0},'message':_0xd15b3b},'mentions':_0x442b75},_0x406761);if(_0xd15b3b[_0x3bee9e(0x467)]){let _0x2926c8=_0xd15b3b['conversation'];return _0x22df02?.[_0x3bee9e(0x588)]&&(_0x2926c8=await this[_0x3bee9e(0x6c1)](_0x2926c8,_0x2b109d)),await this[_0x3bee9e(0x3d3)][_0x3bee9e(0x479)](_0x2b109d,{'text':_0x2926c8,'mentions':_0x442b75,'linkPreview':_0x3ab5a2},_0x406761);}return _0x2b109d==='status@broadcast'?await this['client'][_0x3bee9e(0x479)](_0x2b109d,_0xd15b3b['status'][_0x3bee9e(0x57f)],{'backgroundColor':_0xd15b3b[_0x3bee9e(0x5a7)]['option'][_0x3bee9e(0x4ca)],'font':_0xd15b3b[_0x3bee9e(0x5a7)]['option'][_0x3bee9e(0x1df)],'statusJidList':_0xd15b3b[_0x3bee9e(0x5a7)][_0x3bee9e(0x65e)][_0x3bee9e(0x570)]}):await this[_0x3bee9e(0x3d3)][_0x3bee9e(0x479)](_0x2b109d,_0xd15b3b,_0x406761);})()),{message_normalized:_0x40d194}=this[_0x2a6680(0x6e0)](_0x168784['message'],J(_0x168784[_0x2a6680(0x25f)]),null),_0x5b261e={'_id':_0x168784[_0x2a6680(0x32f)]['id'],'key':_0x168784[_0x2a6680(0x32f)],'pushName':_0x168784[_0x2a6680(0x29e)],'message':{..._0x168784[_0x2a6680(0x25f)]},'messageType':J(_0x168784['message']),'message_normalized':{'key':_0x168784[_0x2a6680(0x32f)],'pushName':_0x168784[_0x2a6680(0x29e)],'messageTimestamp':_0x168784[_0x2a6680(0x179)]&&_0x168784[_0x2a6680(0x179)][_0x2a6680(0x35f)]()[_0x2a6680(0x3f7)]<0xd?_0x168784['messageTimestamp']*0x3e8:_0x168784[_0x2a6680(0x179)]||null,'source':(0x0,w[_0x2a6680(0x416)])(_0x168784[_0x2a6680(0x32f)]['id']),..._0x40d194},'messageTimestamp':_0x168784[_0x2a6680(0x179)]&&_0x168784['messageTimestamp'][_0x2a6680(0x35f)]()[_0x2a6680(0x3f7)]<0xd?_0x168784[_0x2a6680(0x179)]*0x3e8:_0x168784['messageTimestamp']||null,'owner':this[_0x2a6680(0x61a)][_0x2a6680(0x396)],'source':(0x0,w[_0x2a6680(0x416)])(_0x168784[_0x2a6680(0x32f)]['id'])};return this[_0x2a6680(0x2d4)][_0x2a6680(0x656)](_0x5b261e),await this['sendDataWebhook'](_0x2a6680(0x301),_0x5b261e),B(this['instanceName'],_0x2a6680(0x211),{'message':_0x5b261e}),this[_0x2a6680(0x634)](this[_0x2a6680(0x674)][_0x2a6680(0x43f)](_0x2a6680(0x2b2)),_0x5b261e,_0x2a6680(0x528)),await this[_0x2a6680(0x323)]['message'][_0x2a6680(0x451)]([_0x5b261e]),_0x168784;}catch(_0x54f79b){throw this['logger'][_0x2a6680(0x2bd)](this['instanceName']+'\x20('+this['instance'][_0x2a6680(0x396)]+'):\x20'+_0x54f79b[_0x2a6680(0x35f)]()),new g(_0x54f79b[_0x2a6680(0x35f)]());}}get['connectionStatus'](){return this['stateConnection'];}async[a0_0x5e0602(0x296)](_0x404079){const _0x3582f4=a0_0x5e0602;let _0x40ce4e=this[_0x3582f4(0x674)][_0x3582f4(0x43f)](_0x3582f4(0x66e)),_0x57b868=this[_0x3582f4(0x674)][_0x3582f4(0x43f)]('TRIAL_INSTANCE_NAME');return _0x57b868&&this[_0x3582f4(0x32a)][_0x3582f4(0x3dd)]()[_0x3582f4(0x215)](_0x57b868[_0x3582f4(0x3dd)]())&&(_0x404079[_0x3582f4(0x296)]['text']+='\x0a\x0a'+_0x40ce4e),await this[_0x3582f4(0x42f)](_0x404079[_0x3582f4(0x4bd)],{'conversation':_0x404079['textMessage'][_0x3582f4(0x711)]},_0x404079?.[_0x3582f4(0x602)]);}async['formatStatusMessage'](_0x217851){const _0x574b7d=a0_0x5e0602;if(!_0x217851['type'])throw new g(_0x574b7d(0x204));if(!_0x217851[_0x574b7d(0x57f)])throw new g('Content\x20is\x20required');if(_0x217851[_0x574b7d(0x51b)]){let _0x5cd7eb=await this['repository']['contact'][_0x574b7d(0x6f2)]({'where':{'owner':this[_0x574b7d(0x61a)][_0x574b7d(0x396)]}});if(!_0x5cd7eb['length'])throw new g(_0x574b7d(0x278));_0x217851[_0x574b7d(0x570)]=_0x5cd7eb[_0x574b7d(0x6d8)](_0x476ce4=>_0x476ce4['pushName'])['map'](_0x212a85=>_0x212a85[_0x574b7d(0x60f)]);}if(!_0x217851[_0x574b7d(0x570)]?.['length']&&!_0x217851['allContacts'])throw new g('StatusJidList\x20is\x20required');if(_0x217851[_0x574b7d(0x33e)]===_0x574b7d(0x711)){if(!_0x217851[_0x574b7d(0x4ca)])throw new g(_0x574b7d(0x4f8));if(!_0x217851[_0x574b7d(0x1df)])throw new g(_0x574b7d(0x601));return{'content':{'text':_0x217851['content']},'option':{'backgroundColor':_0x217851['backgroundColor'],'font':_0x217851[_0x574b7d(0x1df)],'statusJidList':_0x217851['statusJidList']}};}if(_0x217851[_0x574b7d(0x33e)]===_0x574b7d(0x68e))return{'content':{'image':{'url':_0x217851['content']},'caption':_0x217851[_0x574b7d(0x472)]},'option':{'statusJidList':_0x217851['statusJidList']}};if(_0x217851[_0x574b7d(0x33e)]==='video')return{'content':{'video':{'url':_0x217851[_0x574b7d(0x57f)]},'caption':_0x217851[_0x574b7d(0x472)]},'option':{'statusJidList':_0x217851[_0x574b7d(0x570)]}};if(_0x217851[_0x574b7d(0x33e)]==='audio'){this['logger'][_0x574b7d(0x27f)](_0x574b7d(0x31f)),this[_0x574b7d(0x2d4)][_0x574b7d(0x27f)](_0x574b7d(0x298));let _0x1d5334=await this['convertaudio'](_0x217851[_0x574b7d(0x57f)]);if(typeof _0x1d5334==_0x574b7d(0x30f)){this['logger']['verbose'](_0x574b7d(0x25c));let _0x2d8a85=P[_0x574b7d(0x63c)](_0x1d5334)[_0x574b7d(0x35f)](_0x574b7d(0x6b0)),_0x511830={'content':{'audio':Buffer['from'](_0x2d8a85,_0x574b7d(0x6b0)),'ptt':!0x0,'mimetype':_0x574b7d(0x178)},'option':{'statusJidList':_0x217851[_0x574b7d(0x570)]}};return P[_0x574b7d(0x65a)](_0x1d5334),_0x511830;}else throw new A(_0x1d5334);}throw new g(_0x574b7d(0x2e0));}async['statusMessage'](_0x3f2da3){const _0x5cdf70=a0_0x5e0602;return await this[_0x5cdf70(0x42f)]('status@broadcast',{'status':await this['formatStatusMessage'](_0x3f2da3[_0x5cdf70(0x680)])});}async[a0_0x5e0602(0x5a1)](_0xb50559){const _0x7da8f6=a0_0x5e0602;try{let _0x480636=await(0x0,w[_0x7da8f6(0x36e)])({[_0xb50559[_0x7da8f6(0x17c)]]:(0x0,O[_0x7da8f6(0x65d)])(_0xb50559['media'])?{'url':_0xb50559[_0x7da8f6(0x69b)]}:Buffer[_0x7da8f6(0x210)](_0xb50559[_0x7da8f6(0x69b)],'base64')},{'upload':this[_0x7da8f6(0x3d3)][_0x7da8f6(0x24c)]}),_0x47652f=_0xb50559['mediatype']+'Message';if(_0xb50559['mediatype']===_0x7da8f6(0x5f0)&&!_0xb50559[_0x7da8f6(0x5d3)]){let _0x1a9e3f=new RegExp(/.*\/(.+?)\./)[_0x7da8f6(0x20b)](_0xb50559[_0x7da8f6(0x69b)]);_0xb50559[_0x7da8f6(0x5d3)]=_0x1a9e3f?_0x1a9e3f[0x1]:null;}let _0x4847b7=(0x0,O[_0x7da8f6(0x65d)])(_0xb50559[_0x7da8f6(0x69b)])?_0xb50559[_0x7da8f6(0x69b)][_0x7da8f6(0x675)]('?')[0x0]:_0xb50559[_0x7da8f6(0x69b)];this[_0x7da8f6(0x2d4)][_0x7da8f6(0x27f)](_0x7da8f6(0x40f)+_0x4847b7);let _0x4a033b;_0xb50559[_0x7da8f6(0x5d3)]?_0x4a033b=(0x0,Mt['getMIMEType'])(_0xb50559[_0x7da8f6(0x5d3)]):(0x0,O['isURL'])(_0xb50559[_0x7da8f6(0x69b)])?_0x4a033b=(0x0,Mt[_0x7da8f6(0x4e3)])(_0x4847b7):_0x4a033b=(0x0,Mt[_0x7da8f6(0x4e3)])(_0xb50559[_0x7da8f6(0x69b)]);let _0x195368=this[_0x7da8f6(0x674)][_0x7da8f6(0x43f)](_0x7da8f6(0x66e)),_0x214592=this[_0x7da8f6(0x674)]['get']('TRIAL_INSTANCE_NAME');return _0x214592&&this[_0x7da8f6(0x32a)][_0x7da8f6(0x3dd)]()['includes'](_0x214592[_0x7da8f6(0x3dd)]())&&(_0xb50559['caption']+='\x0a\x0a'+_0x195368),_0x480636[_0x47652f][_0x7da8f6(0x472)]=_0xb50559?.[_0x7da8f6(0x472)],_0x480636[_0x47652f][_0x7da8f6(0x2ce)]=_0x4a033b,_0x480636[_0x47652f][_0x7da8f6(0x5d3)]=_0xb50559[_0x7da8f6(0x5d3)],_0xb50559['mediatype']===_0x7da8f6(0x486)&&(_0x480636[_0x47652f][_0x7da8f6(0x348)]=Uint8Array[_0x7da8f6(0x210)]((0x0,Te[_0x7da8f6(0x63c)])((0x0,$[_0x7da8f6(0x69c)])(process[_0x7da8f6(0x457)](),_0x7da8f6(0x647)))),_0x480636[_0x47652f][_0x7da8f6(0x574)]=!0x1),(0x0,w[_0x7da8f6(0x342)])('',{[_0x47652f]:{..._0x480636[_0x47652f]}},{'userJid':this[_0x7da8f6(0x61a)]['wuid']});}catch(_0x48a0e1){throw this[_0x7da8f6(0x2d4)][_0x7da8f6(0x2bd)](this[_0x7da8f6(0x32a)]+'\x20('+this[_0x7da8f6(0x61a)]['wuid']+'):\x20'+_0x48a0e1),new A(_0x48a0e1?.['toString']()||_0x48a0e1);}}async[a0_0x5e0602(0x4aa)](_0x520571){const _0x83fc67=a0_0x5e0602;let _0x300cae=await this[_0x83fc67(0x5a1)](_0x520571['mediaMessage']);return await this[_0x83fc67(0x42f)](_0x520571[_0x83fc67(0x4bd)],{..._0x300cae['message']},_0x520571?.[_0x83fc67(0x602)]);}async['convertToWebP'](_0x18dc74,_0x3cd70c){const _0x5585a8=a0_0x5e0602;try{this[_0x5585a8(0x2d4)]['verbose'](_0x5585a8(0x5cd));let _0x5a5ec1,_0x28518f=_0x3cd70c+'-'+new Date()[_0x5585a8(0x5f2)]();this[_0x5585a8(0x2d4)][_0x5585a8(0x27f)]('Hash\x20to\x20image\x20name:\x20'+_0x28518f);let _0x936937=''+(0x0,$['join'])(this['storePath'],_0x28518f+'.webp');if(this['logger']['verbose']('Output\x20path:\x20'+_0x936937),(0x0,O[_0x5585a8(0x1fd)])(_0x18dc74)){this[_0x5585a8(0x2d4)][_0x5585a8(0x27f)](_0x5585a8(0x337));let _0x30c839=_0x18dc74[_0x5585a8(0x480)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x101f62=Buffer[_0x5585a8(0x210)](_0x30c839,_0x5585a8(0x6b0));_0x5a5ec1=''+(0x0,$[_0x5585a8(0x69c)])(this[_0x5585a8(0x65c)],_0x5585a8(0x195)+_0x28518f+_0x5585a8(0x35e)),this[_0x5585a8(0x2d4)][_0x5585a8(0x27f)](_0x5585a8(0x3e6)+_0x5a5ec1),await(0x0,It['default'])(_0x101f62)[_0x5585a8(0x31c)](_0x5a5ec1),this[_0x5585a8(0x2d4)]['verbose'](_0x5585a8(0x20c));}else{this[_0x5585a8(0x2d4)][_0x5585a8(0x27f)](_0x5585a8(0x53c));let _0x5abe2b=new Date()[_0x5585a8(0x5f2)](),_0x5614af=_0x18dc74+_0x5585a8(0x506)+_0x5abe2b;this['logger'][_0x5585a8(0x27f)](_0x5585a8(0x26e)+_0x5614af);let _0x2a5697=await ce['default'][_0x5585a8(0x43f)](_0x5614af,{'responseType':_0x5585a8(0x176)});this[_0x5585a8(0x2d4)][_0x5585a8(0x27f)](_0x5585a8(0x3d7));let _0x2e11ca=Buffer[_0x5585a8(0x210)](_0x2a5697[_0x5585a8(0x485)],_0x5585a8(0x18d));_0x5a5ec1=''+(0x0,$[_0x5585a8(0x69c)])(this['storePath'],_0x5585a8(0x195)+_0x28518f+_0x5585a8(0x35e)),this[_0x5585a8(0x2d4)][_0x5585a8(0x27f)](_0x5585a8(0x3e6)+_0x5a5ec1),await(0x0,It['default'])(_0x2e11ca)[_0x5585a8(0x31c)](_0x5a5ec1),this[_0x5585a8(0x2d4)][_0x5585a8(0x27f)](_0x5585a8(0x20c));}return await(0x0,It[_0x5585a8(0x56d)])(_0x5a5ec1)[_0x5585a8(0x474)]()[_0x5585a8(0x31c)](_0x936937),this[_0x5585a8(0x2d4)][_0x5585a8(0x27f)](_0x5585a8(0x236)),P['unlinkSync'](_0x5a5ec1),this[_0x5585a8(0x2d4)][_0x5585a8(0x27f)]('Temp\x20image\x20deleted'),_0x936937;}catch(_0x260efc){console[_0x5585a8(0x2bd)](_0x5585a8(0x4fb),_0x260efc);}}async[a0_0x5e0602(0x6f3)](_0x145c7c){const _0x2e15d4=a0_0x5e0602;let _0x51855b=await this[_0x2e15d4(0x5c0)](_0x145c7c[_0x2e15d4(0x5f8)][_0x2e15d4(0x68e)],_0x145c7c[_0x2e15d4(0x4bd)]),_0x2554b4=await this[_0x2e15d4(0x42f)](_0x145c7c['number'],{'sticker':{'url':_0x51855b}},_0x145c7c?.['options']);return P[_0x2e15d4(0x65a)](_0x51855b),this[_0x2e15d4(0x2d4)][_0x2e15d4(0x27f)](_0x2e15d4(0x289)),_0x2554b4;}async[a0_0x5e0602(0x272)](_0x380aed){const _0x3c8aed=a0_0x5e0602;if(this[_0x3c8aed(0x2d4)]['verbose'](_0x3c8aed(0x4a8)),!_0x380aed[_0x3c8aed(0x602)]?.[_0x3c8aed(0x5cf)]&&_0x380aed[_0x3c8aed(0x602)]?.['encoding']!==!0x1&&(_0x380aed[_0x3c8aed(0x602)][_0x3c8aed(0x5cf)]=!0x0),_0x380aed[_0x3c8aed(0x602)]?.['encoding']){let _0x238f99=await this['convertaudio'](_0x380aed['audioMessage'][_0x3c8aed(0x25e)]);if(typeof _0x238f99=='string'){let _0x5c7949=P[_0x3c8aed(0x63c)](_0x238f99)[_0x3c8aed(0x35f)](_0x3c8aed(0x6b0)),_0x423d84=this[_0x3c8aed(0x42f)](_0x380aed[_0x3c8aed(0x4bd)],{'audio':Buffer['from'](_0x5c7949,'base64'),'ptt':!0x0,'mimetype':_0x3c8aed(0x178)},{'presence':_0x3c8aed(0x6ac),'delay':_0x380aed?.[_0x3c8aed(0x602)]?.[_0x3c8aed(0x42c)]});return P[_0x3c8aed(0x65a)](_0x238f99),this[_0x3c8aed(0x2d4)]['verbose'](_0x3c8aed(0x71e)),_0x423d84;}else throw new A(_0x238f99);}return await this[_0x3c8aed(0x42f)](_0x380aed[_0x3c8aed(0x4bd)],{'audio':(0x0,O[_0x3c8aed(0x65d)])(_0x380aed['audioMessage'][_0x3c8aed(0x25e)])?{'url':_0x380aed[_0x3c8aed(0x58c)]['audio']}:Buffer[_0x3c8aed(0x210)](_0x380aed[_0x3c8aed(0x58c)][_0x3c8aed(0x25e)],'base64'),'ptt':!0x0,'mimetype':_0x3c8aed(0x374)},{'presence':_0x3c8aed(0x6ac),'delay':_0x380aed?.[_0x3c8aed(0x602)]?.[_0x3c8aed(0x42c)]});}async[a0_0x5e0602(0x72b)](_0xdea2e8){const _0x162622=a0_0x5e0602;this[_0x162622(0x2d4)]['verbose'](_0x162622(0x298));let _0x1ee30b,_0x1573df,_0x3e64f3=(0x0,At['v4'])();if(this[_0x162622(0x2d4)][_0x162622(0x27f)]('Hash\x20to\x20audio\x20name:\x20'+_0x3e64f3),(0x0,O[_0x162622(0x65d)])(_0xdea2e8)){this[_0x162622(0x2d4)][_0x162622(0x27f)]('Audio\x20is\x20url'),_0x1573df=''+(0x0,$['join'])(this['storePath'],_0x3e64f3+'.mp4'),_0x1ee30b=''+(0x0,$[_0x162622(0x69c)])(this[_0x162622(0x65c)],_0x162622(0x195)+_0x3e64f3+_0x162622(0x562)),this[_0x162622(0x2d4)][_0x162622(0x27f)](_0x162622(0x560)+_0x1573df),this[_0x162622(0x2d4)][_0x162622(0x27f)](_0x162622(0x3c7)+_0x1ee30b);let _0x436538=new Date()[_0x162622(0x5f2)](),_0x57a467=_0xdea2e8+'?timestamp='+_0x436538;this['logger'][_0x162622(0x27f)](_0x162622(0x2cb)+_0x57a467);let _0x5ae454=await ce[_0x162622(0x56d)][_0x162622(0x43f)](_0x57a467,{'responseType':'arraybuffer'});this[_0x162622(0x2d4)][_0x162622(0x27f)](_0x162622(0x175)),P['writeFileSync'](_0x1ee30b,_0x5ae454['data']);}else{this[_0x162622(0x2d4)]['verbose']('Audio\x20is\x20base64'),_0x1573df=''+(0x0,$[_0x162622(0x69c)])(this[_0x162622(0x65c)],_0x3e64f3+_0x162622(0x292)),_0x1ee30b=''+(0x0,$['join'])(this[_0x162622(0x65c)],_0x162622(0x195)+_0x3e64f3+'.mp3'),this[_0x162622(0x2d4)][_0x162622(0x27f)](_0x162622(0x560)+_0x1573df),this['logger'][_0x162622(0x27f)](_0x162622(0x3c7)+_0x1ee30b);let _0x166fbf=Buffer[_0x162622(0x210)](_0xdea2e8,_0x162622(0x6b0));P[_0x162622(0x52a)](_0x1ee30b,_0x166fbf),this[_0x162622(0x2d4)][_0x162622(0x27f)](_0x162622(0x1bd));}return this[_0x162622(0x2d4)]['verbose'](_0x162622(0x681)),new Promise((_0x57dbd2,_0x2f9dc4)=>{const _0x419456=_0x162622;(0x0,Dt['exec'])(Ya[_0x419456(0x56d)]['path']+'\x20-i\x20'+_0x1ee30b+_0x419456(0x6fc)+_0x1573df+_0x419456(0x471),_0x54360a=>{const _0x2d2976=_0x419456;P[_0x2d2976(0x65a)](_0x1ee30b),this[_0x2d2976(0x2d4)][_0x2d2976(0x27f)]('Temp\x20audio\x20deleted'),_0x54360a&&_0x2f9dc4(_0x54360a),this[_0x2d2976(0x2d4)][_0x2d2976(0x27f)](_0x2d2976(0x329)),_0x57dbd2(_0x1573df);});});}async[a0_0x5e0602(0x461)](_0x1b37ea){const _0x3701e1=a0_0x5e0602;let _0x2ac6cb={},_0x237fe3=_0x3701e1(0x18b);if(_0x1b37ea[_0x3701e1(0x461)]?.['mediaMessage']){_0x237fe3=_0x1b37ea[_0x3701e1(0x461)]['mediaMessage']?.['mediatype'][_0x3701e1(0x3c8)]()??_0x3701e1(0x18b),_0x2ac6cb[_0x3701e1(0x3b5)]=_0x237fe3[_0x3701e1(0x3dd)]()+_0x3701e1(0x2c5);let _0x50c626=await this[_0x3701e1(0x5a1)](_0x1b37ea[_0x3701e1(0x461)]['mediaMessage']);_0x2ac6cb[_0x3701e1(0x25f)]=_0x50c626[_0x3701e1(0x25f)][_0x2ac6cb['mediaKey']],_0x2ac6cb[_0x3701e1(0x60a)]='*'+_0x1b37ea['buttonMessage'][_0x3701e1(0x259)]+_0x3701e1(0x305)+_0x1b37ea[_0x3701e1(0x461)][_0x3701e1(0x33f)];}let _0x296f99={'text':_0x1b37ea[_0x3701e1(0x461)]['buttons']['map'](_0x416ad6=>_0x416ad6[_0x3701e1(0x346)]),'ids':_0x1b37ea[_0x3701e1(0x461)][_0x3701e1(0x295)][_0x3701e1(0x503)](_0x3ef66c=>_0x3ef66c[_0x3701e1(0x5b8)])};if(!(0x0,O[_0x3701e1(0x362)])(_0x296f99[_0x3701e1(0x711)])||!(0x0,O['arrayUnique'])(_0x296f99[_0x3701e1(0x212)]))throw new g('Button\x20texts\x20cannot\x20be\x20repeated',_0x3701e1(0x535));return await this[_0x3701e1(0x42f)](_0x1b37ea['number'],{'buttonsMessage':{'text':_0x2ac6cb?.[_0x3701e1(0x3b5)]?void 0x0:_0x1b37ea[_0x3701e1(0x461)][_0x3701e1(0x259)],'contentText':_0x2ac6cb?.['contentText']??_0x1b37ea[_0x3701e1(0x461)]['description'],'footerText':_0x1b37ea['buttonMessage']?.[_0x3701e1(0x19e)],'buttons':_0x1b37ea[_0x3701e1(0x461)][_0x3701e1(0x295)][_0x3701e1(0x503)](_0x2fe957=>({'buttonText':{'displayText':_0x2fe957[_0x3701e1(0x346)]},'buttonId':_0x2fe957[_0x3701e1(0x5b8)],'type':0x1})),'headerType':w[_0x3701e1(0x328)][_0x3701e1(0x2c5)]['ButtonsMessage'][_0x3701e1(0x29c)][_0x237fe3],[_0x2ac6cb?.[_0x3701e1(0x3b5)]]:_0x2ac6cb?.[_0x3701e1(0x25f)]}},_0x1b37ea?.['options']);}async[a0_0x5e0602(0x426)](_0x228dbe){const _0x3835d4=a0_0x5e0602;return await this[_0x3835d4(0x42f)](_0x228dbe[_0x3835d4(0x4bd)],{'locationMessage':{'degreesLatitude':_0x228dbe[_0x3835d4(0x426)][_0x3835d4(0x2d5)],'degreesLongitude':_0x228dbe[_0x3835d4(0x426)]['longitude'],'name':_0x228dbe[_0x3835d4(0x426)]?.[_0x3835d4(0x5e4)],'address':_0x228dbe['locationMessage']?.[_0x3835d4(0x177)]}},_0x228dbe?.[_0x3835d4(0x602)]);}async['listMessage'](_0x441670){const _0x242e81=a0_0x5e0602;return await this['sendMessageWithTyping'](_0x441670[_0x242e81(0x4bd)],{'listMessage':{'title':_0x441670['listMessage']['title'],'description':_0x441670[_0x242e81(0x29a)][_0x242e81(0x33f)],'buttonText':_0x441670['listMessage']?.[_0x242e81(0x346)],'footerText':_0x441670[_0x242e81(0x29a)]?.[_0x242e81(0x19e)],'sections':_0x441670['listMessage'][_0x242e81(0x28a)],'listType':0x1}},_0x441670?.[_0x242e81(0x602)]);}async[a0_0x5e0602(0x5fe)](_0x143d6c){const _0x5c4ccd=a0_0x5e0602;let _0x5930a8={},_0xd5053e=_0x29d239=>{const _0x6c3b90=a0_0x3589;let _0x4ea0a3=_0x6c3b90(0x507)+_0x29d239['fullName']+'\x0aFN:'+_0x29d239[_0x6c3b90(0x419)]+'\x0a';_0x29d239[_0x6c3b90(0x4a7)]&&(_0x4ea0a3+='ORG:'+_0x29d239['organization']+';\x0a'),_0x29d239[_0x6c3b90(0x287)]&&(_0x4ea0a3+='EMAIL:'+_0x29d239[_0x6c3b90(0x287)]+'\x0a'),_0x29d239[_0x6c3b90(0x31e)]&&(_0x4ea0a3+='URL:'+_0x29d239['url']+'\x0a');let _0x59206d='';return _0x29d239[_0x6c3b90(0x52c)]&&_0x29d239['phoneNumber'][_0x6c3b90(0x675)]('|')['forEach']((_0x172a28,_0x1c8dc4)=>{const _0x28718c=_0x6c3b90;let _0x53ee31=this['createJid'](_0x172a28)[_0x28718c(0x480)]('@s.whatsapp.net','');_0x59206d+=_0x28718c(0x1f3)+(_0x1c8dc4+0x1)+'.TEL;waid='+_0x53ee31+':'+_0x172a28+_0x28718c(0x53e)+(_0x1c8dc4+0x1)+'.X-ABLabel:Celular\x0a';}),_0x4ea0a3+=_0x59206d+'END:VCARD',_0x4ea0a3;};return _0x143d6c[_0x5c4ccd(0x5fe)][_0x5c4ccd(0x3f7)]===0x1?_0x5930a8[_0x5c4ccd(0x5fe)]={'displayName':_0x143d6c[_0x5c4ccd(0x5fe)][0x0][_0x5c4ccd(0x419)],'vcard':_0xd5053e(_0x143d6c[_0x5c4ccd(0x5fe)][0x0])}:_0x5930a8[_0x5c4ccd(0x6c8)]={'displayName':_0x143d6c[_0x5c4ccd(0x5fe)]['length']+_0x5c4ccd(0x34d),'contacts':_0x143d6c['contactMessage'][_0x5c4ccd(0x503)](_0x1b42fd=>({'displayName':_0x1b42fd[_0x5c4ccd(0x419)],'vcard':_0xd5053e(_0x1b42fd)}))},await this[_0x5c4ccd(0x42f)](_0x143d6c['number'],{..._0x5930a8},_0x143d6c?.[_0x5c4ccd(0x602)]);}async['reactionMessage'](_0x21a1eb){const _0x411f86=a0_0x5e0602;return await this[_0x411f86(0x42f)](_0x21a1eb[_0x411f86(0x6ce)][_0x411f86(0x32f)]['remoteJid'],{'reactionMessage':{'key':_0x21a1eb[_0x411f86(0x6ce)]['key'],'text':_0x21a1eb['reactionMessage'][_0x411f86(0x43a)]}});}async[a0_0x5e0602(0x50d)](_0x1a9501){const _0x59b99b=a0_0x5e0602;let _0x28985e=[];for await(let _0x4db662 of _0x1a9501[_0x59b99b(0x21a)]){let _0x39d74a=this[_0x59b99b(0x1c3)](_0x4db662);if((0x0,w['isJidGroup'])(_0x39d74a)){let _0x1b4c72=await this[_0x59b99b(0x363)]({'groupJid':_0x39d74a},'inner');_0x28985e[_0x59b99b(0x19f)](new he(_0x1b4c72[_0x59b99b(0x6dd)]['id'],!!_0x1b4c72?.[_0x59b99b(0x6dd)]['id'],_0x1b4c72?.[_0x59b99b(0x6dd)][_0x59b99b(0x5c5)]));}else try{let _0x4b47d2=(await this[_0x59b99b(0x3d3)][_0x59b99b(0x401)](_0x39d74a))[0x0];_0x28985e[_0x59b99b(0x19f)](new he(_0x4b47d2[_0x59b99b(0x226)],_0x4b47d2['exists']));}catch{_0x28985e[_0x59b99b(0x19f)](new he(_0x4db662,!0x1));}}return _0x28985e;}async[a0_0x5e0602(0x413)](_0x138dad){const _0x474b88=a0_0x5e0602;try{let _0x3a7dc9=_0x138dad[_0x474b88(0x26f)]['filter'](_0x11c09a=>(0x0,w['isJidGroup'])(_0x11c09a['remoteJid'])||(0x0,w[_0x474b88(0x3db)])(_0x11c09a['remoteJid']))['map'](_0xafd9df=>({'remoteJid':_0xafd9df[_0x474b88(0x51c)],'fromMe':_0xafd9df[_0x474b88(0x6a7)],'id':_0xafd9df['id']}));await this[_0x474b88(0x3d3)]['readMessages'](_0x3a7dc9);let _0x3a9389=_0x3a7dc9[_0x474b88(0x503)](_0x75c6b3=>this[_0x474b88(0x4ce)](_0x75c6b3,_0x75c6b3[_0x474b88(0x51c)],{'status':_0x474b88(0x667),'owner':this[_0x474b88(0x61a)]['wuid']})),_0x2ce0f4=_0x3a7dc9[_0x474b88(0x503)](_0x34eebc=>this[_0x474b88(0x323)][_0x474b88(0x17a)][_0x474b88(0x619)]({'where':{'_id':_0x34eebc[_0x474b88(0x51c)],'owner':this['instance']['wuid']}},{'unreadcount':0x0})),[_0xe5601e,_0x4f8bc4]=await Promise['all']([Promise[_0x474b88(0x16a)](_0x3a9389),Promise[_0x474b88(0x16a)](_0x2ce0f4)]);return _0x4f8bc4[_0x474b88(0x6d8)](_0x3a5e41=>_0x3a5e41!==null)[_0x474b88(0x732)](_0x466be6=>{const _0x58b8a1=_0x474b88;B(this[_0x58b8a1(0x32a)],_0x58b8a1(0x513),{'chat':_0x466be6});}),{'message':_0x474b88(0x317),'read':_0x474b88(0x3a1)};}catch(_0x2aa2cb){throw console[_0x474b88(0x2bd)](_0x474b88(0x554),_0x2aa2cb),new A(_0x474b88(0x3e3),_0x2aa2cb[_0x474b88(0x35f)]());}}async[a0_0x5e0602(0x393)](_0x164eda){const _0x3861f7=a0_0x5e0602;let _0x21f6ab=await this[_0x3861f7(0x6f9)]({'where':{'key':{'remoteJid':_0x164eda},'owner':this[_0x3861f7(0x61a)]['name']}}),_0x20d67d=_0x21f6ab[_0x3861f7(0x2ab)]();for(let _0x4750c4 of _0x21f6ab)_0x4750c4['messageTimestamp']>=_0x20d67d['messageTimestamp']&&(_0x20d67d=_0x4750c4);return _0x20d67d;}async[a0_0x5e0602(0x3d9)](_0x15e4f7){const _0x132d8c=a0_0x5e0602;this[_0x132d8c(0x2d4)][_0x132d8c(0x27f)]('Archiving\x20chat');try{let _0x534f93=_0x15e4f7[_0x132d8c(0x429)],_0x1648d9=_0x15e4f7[_0x132d8c(0x17a)];if(!_0x534f93&&_0x1648d9?_0x534f93=await this[_0x132d8c(0x393)](_0x1648d9):(_0x534f93=_0x15e4f7['lastMessage'],_0x534f93[_0x132d8c(0x179)]=_0x534f93?.[_0x132d8c(0x179)]??Date[_0x132d8c(0x369)](),_0x1648d9=_0x534f93?.[_0x132d8c(0x32f)]?.['remoteJid']),!_0x534f93||Object[_0x132d8c(0x4ec)](_0x534f93)[_0x132d8c(0x3f7)]===0x0)throw new x('Last\x20message\x20not\x20found');await this['client'][_0x132d8c(0x4e5)]({'archive':_0x15e4f7[_0x132d8c(0x407)],'lastMessages':[_0x534f93]},this['createJid'](_0x1648d9));let _0x37d449=await this[_0x132d8c(0x323)][_0x132d8c(0x17a)][_0x132d8c(0x619)]({'where':{'_id':_0x534f93?.[_0x132d8c(0x32f)]?.[_0x132d8c(0x51c)],'owner':this['instance'][_0x132d8c(0x396)]}},{'archived':_0x15e4f7[_0x132d8c(0x407)]});return _0x37d449&&B(this[_0x132d8c(0x32a)],_0x132d8c(0x513),{'chat':_0x37d449}),{'chatId':_0x1648d9,'archived':_0x15e4f7['archive']};}catch(_0x40e147){throw new A({'archived':!0x1,'message':[_0x132d8c(0x233),_0x40e147[_0x132d8c(0x35f)]()]});}}async[a0_0x5e0602(0x5ce)](_0xc2e777){const _0x3e4694=a0_0x5e0602;try{let _0x8f5946=await this[_0x3e4694(0x3d3)][_0x3e4694(0x479)](_0xc2e777[_0x3e4694(0x51c)],{'delete':_0xc2e777});try{let _0x3b790c=await this[_0x3e4694(0x4ce)](_0xc2e777,_0xc2e777[_0x3e4694(0x51c)],{'status':_0x3e4694(0x6e6),'owner':this[_0x3e4694(0x61a)][_0x3e4694(0x396)]});this['logger'][_0x3e4694(0x27f)](this[_0x3e4694(0x32a)]+'\x20('+this[_0x3e4694(0x61a)][_0x3e4694(0x396)]+'):\x20updateResult:'+_0x3b790c);}catch(_0x2f7b63){console[_0x3e4694(0x2bd)]('Error\x20updating\x20message\x20status:',_0x2f7b63);}return _0x8f5946;}catch(_0x5d636d){throw new A('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x5d636d?.[_0x3e4694(0x35f)]());}}async[a0_0x5e0602(0x243)](_0x4f74c4){const _0x50b996=a0_0x5e0602;try{let _0x2b69d6=_0x4f74c4?.['message']?_0x4f74c4:await this[_0x50b996(0x532)](_0x4f74c4[_0x50b996(0x32f)],!0x0);for(let _0x43d66d of zs)_0x2b69d6['message'][_0x43d66d]&&(_0x2b69d6[_0x50b996(0x25f)]=_0x2b69d6[_0x50b996(0x25f)][_0x43d66d][_0x50b996(0x25f)]);let _0xcfb713,_0xd799c1;for(let _0x2a00df of Ks)if(_0xcfb713=_0x2b69d6[_0x50b996(0x25f)][_0x2a00df],_0xcfb713){_0xd799c1=_0x2a00df;break;}if(!_0xcfb713)throw _0x50b996(0x1c6);typeof _0xcfb713[_0x50b996(0x3b5)]==_0x50b996(0x519)&&(_0x2b69d6[_0x50b996(0x25f)]=JSON[_0x50b996(0x322)](JSON[_0x50b996(0x408)](_0x2b69d6[_0x50b996(0x25f)])));let _0x4a03a7=await(0x0,w[_0x50b996(0x376)])({'key':_0x2b69d6?.['key'],'message':_0x2b69d6?.['message']},_0x50b996(0x4bc),{},{'logger':(0x0,Rt[_0x50b996(0x56d)])({'level':_0x50b996(0x2bd)}),'reuploadRequest':this[_0x50b996(0x3d3)]['updateMediaMessage']});if(!(_0x4a03a7 instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x38e04e=this[_0x50b996(0x674)][_0x50b996(0x43f)](_0x50b996(0x2b2)),_0x200a90,_0x4514b8;if(_0xcfb713['fileName'])_0x200a90=_0xcfb713[_0x50b996(0x5d3)];else{let _0x25e68f=_0xcfb713['mimetype']?.[_0x50b996(0x3f6)](/\/(\w+)/),_0x59b8a4=_0x25e68f?_0x25e68f[0x1]:null;if(!_0x59b8a4)throw new Error(_0x50b996(0x5e2));_0x200a90=(0x0,At['v4'])()+'.'+_0x59b8a4;}_0xd799c1===_0x50b996(0x58c)&&_0xcfb713['mimetype']==='audio/ogg'?(_0x200a90=(0x0,At['v4'])()+'.ogg',_0x4514b8='/media/'+await this[_0x50b996(0x72b)](_0x4a03a7[_0x50b996(0x35f)](_0x50b996(0x6b0)))):(await this[_0x50b996(0x1ce)](_0x4a03a7,_0x200a90),_0x4514b8=_0x50b996(0x34f)+_0x200a90);let _0x38f491=this[_0x50b996(0x674)][_0x50b996(0x43f)](_0x50b996(0x70d)),_0x223b3a=this['configService'][_0x50b996(0x43f)](_0x50b996(0x2a0))[_0x50b996(0x712)],_0x3ab3b0=_0x38f491&&_0x38f491[_0x50b996(0x1ee)]['split']('/')[0x4];_0x223b3a===0x1bb&&(_0x4514b8=''+(_0x50b996(0x320)+_0x3ab3b0)+_0x4514b8);let _0x7f0452=0xc*0x3c*0x3c*0x3e8,_0x134994={'where':{'_id':_0x2b69d6[_0x50b996(0x32f)]['id'],'owner':this['instance'][_0x50b996(0x396)]}};_0x2b69d6[_0x50b996(0x32f)]['remoteJid'][_0x50b996(0x1a3)](_0x50b996(0x387))&&(_0x134994[_0x50b996(0x4d4)]['key'][_0x50b996(0x218)]=_0x2b69d6[_0x50b996(0x32f)][_0x50b996(0x218)]);let _0x3789ab={'message_normalized.fileUrl':_0x4514b8,'message_normalized.expires_fileUrl':Date[_0x50b996(0x369)]()+_0x7f0452};try{let _0x3c071c=await this[_0x50b996(0x323)][_0x50b996(0x25f)]['update'](_0x134994,_0x3789ab);_0x3c071c&&B(this[_0x50b996(0x32a)],_0x50b996(0x211),{'message':_0x3c071c});}catch{}return{'mediaType':_0xd799c1,'fileName':_0xcfb713['fileName'],'caption':_0xcfb713[_0x50b996(0x472)],'size':{'fileLength':_0xcfb713['fileLength'],'height':_0xcfb713['height'],'width':_0xcfb713[_0x50b996(0x51e)]},'mimetype':_0xcfb713['mimetype'],'base64':_0x4a03a7['toString'](_0x50b996(0x6b0)),'fileUrl':_0x4514b8,'expires_fileUrl':Date['now']()+_0x7f0452};}catch(_0x162e78){throw this[_0x50b996(0x2d4)][_0x50b996(0x2bd)](this[_0x50b996(0x32a)]+'\x20('+this[_0x50b996(0x61a)][_0x50b996(0x396)]+_0x50b996(0x3d4)+_0x162e78),new g(_0x162e78[_0x50b996(0x35f)]());}}async[a0_0x5e0602(0x1ce)](_0x106b68,_0xb31f6f){const _0x53b8da=a0_0x5e0602;console[_0x53b8da(0x656)](_0x53b8da(0x527),__dirname),console[_0x53b8da(0x656)](_0x53b8da(0x205),_0xb31f6f);let _0x19342f=$['default']['join'](__dirname,_0x53b8da(0x3c5));console[_0x53b8da(0x656)](_0x53b8da(0x69d),_0x19342f),P[_0x53b8da(0x275)](_0x19342f)||(this['logger'][_0x53b8da(0x656)](_0x53b8da(0x6e2)),P['mkdirSync'](_0x19342f,{'recursive':!0x0}));let _0x3b27d8=$[_0x53b8da(0x56d)][_0x53b8da(0x69c)](_0x19342f,_0xb31f6f);return console[_0x53b8da(0x656)]('Full\x20file\x20path:',_0x3b27d8),new Promise((_0x4f2562,_0x10d55d)=>{P['writeFile'](_0x3b27d8,_0x106b68,_0x1718df=>{const _0x2ecee0=a0_0x3589;_0x1718df?(this[_0x2ecee0(0x2d4)]['error']('Error\x20writing\x20file:\x20'+_0x1718df[_0x2ecee0(0x25f)]),_0x10d55d(_0x1718df)):(this[_0x2ecee0(0x2d4)]['log'](_0x2ecee0(0x2a9)+_0x3b27d8),_0x4f2562(_0x3b27d8));});});}async['fetchContacts'](_0x2fbb28){const _0x340178=a0_0x5e0602;return _0x2fbb28?.[_0x340178(0x4d4)]?_0x2fbb28[_0x340178(0x4d4)][_0x340178(0x367)]=this[_0x340178(0x61a)][_0x340178(0x396)]:_0x2fbb28={'where':{'owner':this[_0x340178(0x61a)]['wuid']}},await this[_0x340178(0x323)]['contact']['find'](_0x2fbb28);}async['fetchMessages'](_0x2936bd){const _0x14913b=a0_0x5e0602;return _0x2936bd?.['where']?_0x2936bd[_0x14913b(0x4d4)][_0x14913b(0x367)]=this[_0x14913b(0x61a)][_0x14913b(0x396)]:_0x2936bd={'where':{'owner':this['instance'][_0x14913b(0x396)]},'limit':_0x2936bd?.[_0x14913b(0x388)]},await this[_0x14913b(0x323)][_0x14913b(0x25f)]['find'](_0x2936bd);}async[a0_0x5e0602(0x2c3)](){const _0x578519=a0_0x5e0602;return await this[_0x578519(0x323)][_0x578519(0x17a)][_0x578519(0x6f2)]({'where':{'owner':this[_0x578519(0x61a)][_0x578519(0x396)]}});}async['fetchPrivacySettings'](){const _0x553ca1=a0_0x5e0602;return await this['client'][_0x553ca1(0x17f)]();}async['updatePrivacySettings'](_0x2c578a){const _0x5c1a86=a0_0x5e0602;try{return await this[_0x5c1a86(0x3d3)][_0x5c1a86(0x302)](_0x2c578a[_0x5c1a86(0x3a8)][_0x5c1a86(0x59e)]),await this[_0x5c1a86(0x3d3)]['updateProfilePicturePrivacy'](_0x2c578a[_0x5c1a86(0x3a8)][_0x5c1a86(0x464)]),await this['client'][_0x5c1a86(0x57a)](_0x2c578a[_0x5c1a86(0x3a8)][_0x5c1a86(0x5a7)]),await this[_0x5c1a86(0x3d3)]['updateOnlinePrivacy'](_0x2c578a[_0x5c1a86(0x3a8)][_0x5c1a86(0x514)]),await this[_0x5c1a86(0x3d3)]['updateLastSeenPrivacy'](_0x2c578a[_0x5c1a86(0x3a8)]['last']),await this['client'][_0x5c1a86(0x64c)](_0x2c578a[_0x5c1a86(0x3a8)]['groupadd']),this[_0x5c1a86(0x3d3)]?.['ws']?.[_0x5c1a86(0x3de)](),{'update':_0x5c1a86(0x3a1),'data':{'readreceipts':_0x2c578a[_0x5c1a86(0x3a8)][_0x5c1a86(0x59e)],'profile':_0x2c578a[_0x5c1a86(0x3a8)][_0x5c1a86(0x464)],'status':_0x2c578a[_0x5c1a86(0x3a8)]['status'],'online':_0x2c578a[_0x5c1a86(0x3a8)][_0x5c1a86(0x514)],'last':_0x2c578a[_0x5c1a86(0x3a8)][_0x5c1a86(0x57e)],'groupadd':_0x2c578a[_0x5c1a86(0x3a8)][_0x5c1a86(0x6d2)]}};}catch(_0x2d6249){throw new A(_0x5c1a86(0x470),_0x2d6249['toString']());}}async[a0_0x5e0602(0x515)](_0x181851){const _0x3922f0=a0_0x5e0602;let _0x51d346=_0x181851?this[_0x3922f0(0x1c3)](_0x181851):this[_0x3922f0(0x3d3)]?.['user']?.['id'];this['logger']['verbose'](_0x3922f0(0x25d)+_0x51d346);try{if(this[_0x3922f0(0x2d4)]['verbose']('Getting\x20profile\x20info'),_0x181851){let _0x1ee181=(await this[_0x3922f0(0x50d)]({'numbers':[_0x51d346]}))?.[_0x3922f0(0x1a2)](),_0x35b659=await this[_0x3922f0(0x688)](_0x1ee181?.[_0x3922f0(0x226)]),_0x52e4a3=await this['getStatus'](_0x1ee181?.[_0x3922f0(0x226)]),_0xff621a=await this[_0x3922f0(0x336)](_0x1ee181?.[_0x3922f0(0x226)]);return{'wuid':_0x1ee181?.[_0x3922f0(0x226)]||_0x51d346,'name':_0x1ee181?.[_0x3922f0(0x5e4)],'numberExists':_0x1ee181?.[_0x3922f0(0x728)],'picture':_0x35b659?.['profilePictureUrl'],'status':_0x52e4a3?.[_0x3922f0(0x5a7)],'isBusiness':_0xff621a[_0x3922f0(0x621)],'email':_0xff621a?.['email'],'description':_0xff621a?.['description'],'website':_0xff621a?.['website']?.['shift']()};}}catch{return this[_0x3922f0(0x2d4)][_0x3922f0(0x27f)](_0x3922f0(0x17e)),{'wuid':_0x51d346,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async['fetchProfile'](_0x93e187){const _0x3d5a6c=a0_0x5e0602;let _0x428982=(_0x93e187?this['createJid'](_0x93e187):this[_0x3d5a6c(0x3d3)]?.['user']?.['id'])[_0x3d5a6c(0x480)](/:\d{1,2}@/g,'@');this[_0x3d5a6c(0x2d4)][_0x3d5a6c(0x27f)](_0x3d5a6c(0x282)+_0x428982);let _0x1810ff=await this[_0x3d5a6c(0x323)][_0x3d5a6c(0x316)][_0x3d5a6c(0x648)]({'where':{'_id':_0x428982,'owner':this['instance'][_0x3d5a6c(0x396)]}}),_0x2b2bc9=_0x1810ff?_0x1810ff[_0x3d5a6c(0x29e)]:null;try{let _0xba19d3=(await this[_0x3d5a6c(0x50d)]({'numbers':[_0x428982]}))?.[_0x3d5a6c(0x1a2)](),_0xdb77fd=await this[_0x3d5a6c(0x688)](_0xba19d3?.[_0x3d5a6c(0x226)]),_0x46a4b8=await this['getStatus'](_0xba19d3?.[_0x3d5a6c(0x226)]),_0x43d361=await this['fetchBusinessProfile'](_0xba19d3?.[_0x3d5a6c(0x226)]),_0x5ea438={'imagechat':_0xdb77fd?.[_0x3d5a6c(0x6ec)],'contactname':_0x2b2bc9||null,'status':_0x46a4b8?.[_0x3d5a6c(0x5a7)],'isBusiness':_0x43d361['isBusiness'],'email':_0x43d361?.['email'],'description':_0x43d361?.[_0x3d5a6c(0x33f)],'website':_0x43d361?.[_0x3d5a6c(0x2e9)]?.[_0x3d5a6c(0x1a2)](),'lastcache':Date[_0x3d5a6c(0x369)]()},_0x570796=await this['repository'][_0x3d5a6c(0x17a)]['updateOne']({'where':{'_id':_0x428982,'owner':this[_0x3d5a6c(0x61a)][_0x3d5a6c(0x396)]}},_0x5ea438),_0x4df0d5={'owner':this[_0x3d5a6c(0x61a)][_0x3d5a6c(0x396)],'_id':_0x428982,'profilePictureUrl':_0xdb77fd?.[_0x3d5a6c(0x6ec)],'status':_0x46a4b8?.['status']};return this[_0x3d5a6c(0x323)]['contact']['update']([_0x4df0d5],this[_0x3d5a6c(0x61a)][_0x3d5a6c(0x396)]),_0x570796&&B(this[_0x3d5a6c(0x32a)],'chats',{'chat':_0x570796}),{'wuid':_0xba19d3?.[_0x3d5a6c(0x226)]||_0x428982,'name':_0xba19d3?.[_0x3d5a6c(0x5e4)],'numberExists':_0xba19d3?.[_0x3d5a6c(0x728)],'picture':_0xdb77fd?.[_0x3d5a6c(0x6ec)],'status':_0x46a4b8?.[_0x3d5a6c(0x5a7)],'isBusiness':_0x43d361[_0x3d5a6c(0x621)],'email':_0x43d361?.[_0x3d5a6c(0x287)],'description':_0x43d361?.[_0x3d5a6c(0x33f)],'website':_0x43d361?.[_0x3d5a6c(0x2e9)]?.[_0x3d5a6c(0x1a2)]()};}catch(_0x2b0bc5){return this[_0x3d5a6c(0x2d4)]['error'](_0x3d5a6c(0x423)+_0x2b0bc5),{};}}async[a0_0x5e0602(0x336)](_0x1b81d4){const _0x314022=a0_0x5e0602;this[_0x314022(0x2d4)][_0x314022(0x27f)](_0x314022(0x723));try{let _0x26b514=_0x1b81d4?this['createJid'](_0x1b81d4):this[_0x314022(0x61a)][_0x314022(0x396)],_0x5c6cb2=await this[_0x314022(0x3d3)][_0x314022(0x568)](_0x26b514);return this[_0x314022(0x2d4)]['verbose'](_0x314022(0x34b)),_0x5c6cb2?(this[_0x314022(0x2d4)][_0x314022(0x27f)](_0x314022(0x417)),{'isBusiness':!0x0,..._0x5c6cb2}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this[_0x314022(0x50d)]({'numbers':[_0x26b514]}))?.[_0x314022(0x1a2)]()};}catch(_0x2b5b17){throw new A('Error\x20updating\x20profile\x20name',_0x2b5b17[_0x314022(0x35f)]());}}async['getStatus'](_0x52317a){const _0x50a28f=a0_0x5e0602;let _0x539086=this[_0x50a28f(0x1c3)](_0x52317a);try{return{'wuid':_0x539086,'status':(await this['client'][_0x50a28f(0x650)](_0x539086))?.[_0x50a28f(0x5a7)]};}catch{return{'wuid':_0x539086,'status':null};}}async[a0_0x5e0602(0x627)](_0x119614){const _0x1f0fe1=a0_0x5e0602;try{return await this[_0x1f0fe1(0x3d3)][_0x1f0fe1(0x627)](_0x119614),{'update':_0x1f0fe1(0x3a1)};}catch(_0x723197){throw new A(_0x1f0fe1(0x690),_0x723197[_0x1f0fe1(0x35f)]());}}async[a0_0x5e0602(0x53a)](_0x56ad50){const _0x4d566=a0_0x5e0602;try{return await this[_0x4d566(0x3d3)][_0x4d566(0x53a)](_0x56ad50),{'update':_0x4d566(0x3a1)};}catch(_0x36ae79){throw new A('Error\x20updating\x20profile\x20status',_0x36ae79[_0x4d566(0x35f)]());}}async[a0_0x5e0602(0x6ba)](_0x387537){const _0x5539a3=a0_0x5e0602;try{let _0x29c38c;if((0x0,O[_0x5539a3(0x65d)])(_0x387537)){let _0x5a6ad7=new Date()[_0x5539a3(0x5f2)](),_0x409aaa=_0x387537+_0x5539a3(0x506)+_0x5a6ad7;_0x29c38c=(await ce[_0x5539a3(0x56d)][_0x5539a3(0x43f)](_0x409aaa,{'responseType':_0x5539a3(0x176)}))[_0x5539a3(0x485)];}else{if((0x0,O[_0x5539a3(0x1fd)])(_0x387537))_0x29c38c=Buffer[_0x5539a3(0x210)](_0x387537,_0x5539a3(0x6b0));else throw new g('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x5539a3(0x3d3)][_0x5539a3(0x6ba)](this[_0x5539a3(0x61a)][_0x5539a3(0x396)],_0x29c38c),{'update':'success'};}catch(_0x158eff){throw new A(_0x5539a3(0x571),_0x158eff[_0x5539a3(0x35f)]());}}async[a0_0x5e0602(0x510)](){const _0xefd6a5=a0_0x5e0602;try{return await this['client'][_0xefd6a5(0x510)](this[_0xefd6a5(0x61a)][_0xefd6a5(0x396)]),{'update':_0xefd6a5(0x3a1)};}catch(_0x4ee07c){throw new A(_0xefd6a5(0x1d6),_0x4ee07c[_0xefd6a5(0x35f)]());}}async[a0_0x5e0602(0x1a8)](_0x2b1e6a){const _0x3d9a1a=a0_0x5e0602;try{let _0x3cfa14=_0x2b1e6a[_0x3d9a1a(0x41f)][_0x3d9a1a(0x503)](_0x5b5d17=>this[_0x3d9a1a(0x1c3)](_0x5b5d17)),{id:_0x505c50}=await this[_0x3d9a1a(0x3d3)][_0x3d9a1a(0x242)](_0x2b1e6a['subject'],_0x3cfa14);return _0x2b1e6a?.[_0x3d9a1a(0x33f)]&&await this[_0x3d9a1a(0x3d3)][_0x3d9a1a(0x47a)](_0x505c50,_0x2b1e6a[_0x3d9a1a(0x33f)]),{'metadata':await this[_0x3d9a1a(0x3d3)][_0x3d9a1a(0x6b5)](_0x505c50)};}catch(_0x5075e3){throw this[_0x3d9a1a(0x2d4)][_0x3d9a1a(0x2bd)](this[_0x3d9a1a(0x32a)]+'\x20('+this['instance'][_0x3d9a1a(0x396)]+_0x3d9a1a(0x3d4)+_0x5075e3),new A('Error\x20creating\x20group',_0x5075e3['toString']());}}async[a0_0x5e0602(0x738)](_0x58b56d){const _0x53feb5=a0_0x5e0602;try{let _0xf2f611;if((0x0,O[_0x53feb5(0x65d)])(_0x58b56d[_0x53feb5(0x68e)])){let _0x1834e4=new Date()[_0x53feb5(0x5f2)](),_0x4b9f65=_0x58b56d[_0x53feb5(0x68e)]+_0x53feb5(0x506)+_0x1834e4;_0xf2f611=(await ce[_0x53feb5(0x56d)][_0x53feb5(0x43f)](_0x4b9f65,{'responseType':_0x53feb5(0x176)}))[_0x53feb5(0x485)];}else{if((0x0,O[_0x53feb5(0x1fd)])(_0x58b56d['image']))_0xf2f611=Buffer[_0x53feb5(0x210)](_0x58b56d[_0x53feb5(0x68e)],_0x53feb5(0x6b0));else throw new g('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x53feb5(0x3d3)][_0x53feb5(0x6ba)](_0x58b56d[_0x53feb5(0x5d8)],_0xf2f611),{'update':_0x53feb5(0x3a1)};}catch(_0x548392){throw new A(_0x53feb5(0x361),_0x548392[_0x53feb5(0x35f)]());}}async[a0_0x5e0602(0x363)](_0x3a2a06,_0x45df76=a0_0x5e0602(0x701)){const _0x195efb=a0_0x5e0602;try{let _0x1850d2=await this[_0x195efb(0x3d3)]['groupMetadata'](_0x3a2a06[_0x195efb(0x5d8)]),_0x4987d2=null;try{_0x4987d2=(await this[_0x195efb(0x688)](_0x3a2a06[_0x195efb(0x5d8)]))[_0x195efb(0x6ec)];}catch(_0x58c8e4){this[_0x195efb(0x2d4)][_0x195efb(0x27f)](this['instanceName']+'\x20('+this[_0x195efb(0x61a)][_0x195efb(0x396)]+_0x195efb(0x589)+_0x3a2a06['groupJid']+':\x20'+_0x58c8e4[_0x195efb(0x35f)]());}let _0x34c497=await this[_0x195efb(0x323)][_0x195efb(0x17a)][_0x195efb(0x619)]({'where':{'_id':_0x3a2a06[_0x195efb(0x5d8)],'owner':this[_0x195efb(0x61a)][_0x195efb(0x396)]}},{'imagechat':_0x4987d2,'name':_0x1850d2[_0x195efb(0x5c5)],'group_size':_0x1850d2[_0x195efb(0x23a)],'group_announce':_0x1850d2[_0x195efb(0x559)],'lastcache':Date[_0x195efb(0x369)]()});return _0x34c497&&B(this[_0x195efb(0x32a)],_0x195efb(0x513),{'chat':_0x34c497}),{'metadata':_0x1850d2,'image':_0x4987d2};}catch(_0x1f8f44){if(_0x45df76===_0x195efb(0x737))return;throw new x(_0x195efb(0x1c1),_0x1f8f44[_0x195efb(0x35f)]());}}async['groupDesc'](_0x4e5b1f){const _0x3b9a05=a0_0x5e0602;try{return await this['client'][_0x3b9a05(0x47a)](_0x4e5b1f[_0x3b9a05(0x5d8)],_0x4e5b1f['description']),{'update':_0x3b9a05(0x3a1)};}catch(_0x15cbef){throw new A(_0x3b9a05(0x1e2),_0x15cbef['toString']());}}async[a0_0x5e0602(0x64a)](_0x14d701){const _0x421d1=a0_0x5e0602;try{return await this[_0x421d1(0x3d3)][_0x421d1(0x4df)](_0x14d701['groupJid'],_0x14d701[_0x421d1(0x5e4)]),{'update':'success'};}catch(_0x292a26){throw new A('Error\x20change\x20group\x20name',_0x292a26[_0x421d1(0x35f)]());}}async[a0_0x5e0602(0x6ea)](_0x2c25c0){const _0x307934=a0_0x5e0602;try{return await this[_0x307934(0x3d3)][_0x307934(0x4c5)](_0x2c25c0[_0x307934(0x5d8)],_0x2c25c0[_0x307934(0x450)]),{'update':_0x307934(0x3a1)};}catch(_0x51a471){throw new A('Error\x20change\x20group\x20setting',_0x51a471[_0x307934(0x35f)]());}}async['findGroups'](){const _0x205de4=a0_0x5e0602;try{let _0x141cb2=[],_0x3b9958=await this[_0x205de4(0x3d3)][_0x205de4(0x171)](),_0x2e6750=Object[_0x205de4(0x3a0)](_0x3b9958),_0x41485f=_0x2e6750['filter'](_0x4ca0c0=>(0x0,w['isJidGroup'])(_0x4ca0c0?.['id']))[_0x205de4(0x503)](async _0xdc8aac=>{const _0x3a2de2=_0x205de4;try{return await this[_0x3a2de2(0x3d3)]['profilePictureUrl'](_0xdc8aac['id'],_0x3a2de2(0x5f1));}catch(_0x387ad0){return this['logger'][_0x3a2de2(0x27f)](this[_0x3a2de2(0x32a)]+'\x20('+this['instance'][_0x3a2de2(0x396)]+_0x3a2de2(0x589)+_0xdc8aac['id']+':\x20'+_0x387ad0['toString']()),null;}}),_0x36eb97=await Promise['all'](_0x41485f);for(let _0x365a03=0x0;_0x365a03<_0x2e6750[_0x205de4(0x3f7)];_0x365a03++){let _0x4616eb=_0x2e6750[_0x365a03];(0x0,w[_0x205de4(0x268)])(_0x4616eb?.['id'])&&_0x141cb2[_0x205de4(0x19f)]({'groupJid':_0x4616eb?.['id'],'subject':_0x4616eb?.[_0x205de4(0x5c5)],'subjectOwner':_0x4616eb?.['subjectOwner']?.[_0x205de4(0x675)]('@')[0x0],'subjectTime':_0x4616eb?.[_0x205de4(0x58e)],'size':_0x4616eb?.['participants']?.[_0x205de4(0x3f7)],'owner':_0x4616eb?.[_0x205de4(0x367)]?.['split']('@')[0x0],'creation':_0x4616eb?.[_0x205de4(0x61c)],'desc':_0x4616eb?.['desc'],'restrict':_0x4616eb?.[_0x205de4(0x492)],'announce':_0x4616eb?.[_0x205de4(0x559)],'image':_0x36eb97[_0x365a03]});}return _0x141cb2;}catch(_0x1911eb){throw new x(_0x205de4(0x1c1),_0x1911eb[_0x205de4(0x35f)]());}}async[a0_0x5e0602(0x40d)](_0x54c496){const _0x5ab8b2=a0_0x5e0602;try{let _0x3e5e58=await this['client'][_0x5ab8b2(0x5be)](_0x54c496['groupJid']);return{'inviteUrl':_0x5ab8b2(0x67e)+_0x3e5e58,'inviteCode':_0x3e5e58};}catch(_0x123633){throw new x('No\x20invite\x20code',_0x123633[_0x5ab8b2(0x35f)]());}}async[a0_0x5e0602(0x6a6)](_0x569f17){const _0x506664=a0_0x5e0602;try{let _0x23f12f=await this[_0x506664(0x3d3)][_0x506664(0x3bb)](_0x569f17[_0x506664(0x5d8)]);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x23f12f,'inviteCode':_0x23f12f};}catch(_0x945982){throw new x(_0x506664(0x6ab),_0x945982[_0x506664(0x35f)]());}}async[a0_0x5e0602(0x1e5)](_0x5aea83){const _0x40dcd1=a0_0x5e0602;try{if((0x0,O[_0x40dcd1(0x65d)])(_0x5aea83['inviteCode']))var _0x5de4ac=_0x5aea83[_0x40dcd1(0x40d)][_0x40dcd1(0x675)]('/')[0x3];else var _0x5de4ac=_0x5aea83[_0x40dcd1(0x40d)];let _0x5ab7d4=await this['client'][_0x40dcd1(0x4b9)](_0x5de4ac);return this['logger'][_0x40dcd1(0x27f)](this[_0x40dcd1(0x32a)]+'\x20('+this[_0x40dcd1(0x61a)]['wuid']+_0x40dcd1(0x3d4)+_0x5ab7d4),{'join':!0x0,'inviteCode':_0x5de4ac,'groupJid':_0x5ab7d4};}catch(_0x2fc60d){throw new x(_0x40dcd1(0x5d2),_0x2fc60d[_0x40dcd1(0x35f)]());}}async[a0_0x5e0602(0x4d1)](_0x2fab7e){const _0x17cda0=a0_0x5e0602;try{return{'participants':(await this[_0x17cda0(0x3d3)][_0x17cda0(0x6b5)](_0x2fab7e[_0x17cda0(0x5d8)]))[_0x17cda0(0x41f)]};}catch(_0x157b2c){throw new x(_0x17cda0(0x45d),_0x157b2c[_0x17cda0(0x35f)]());}}async['updateGParticipant'](_0x224a95){const _0x3a97f7=a0_0x5e0602;try{let _0x3e2859=_0x224a95[_0x3a97f7(0x41f)][_0x3a97f7(0x503)](_0x7cf559=>this[_0x3a97f7(0x1c3)](_0x7cf559));return{'updateParticipants':await this['client'][_0x3a97f7(0x2b1)](_0x224a95['groupJid'],_0x3e2859,_0x224a95[_0x3a97f7(0x2e2)])};}catch(_0xc53d0d){throw new g(_0x3a97f7(0x31a),_0xc53d0d[_0x3a97f7(0x35f)]());}}async[a0_0x5e0602(0x595)](_0x49e5e2){const _0x2ab619=a0_0x5e0602;try{let _0x3994a1=await this[_0x2ab619(0x3d3)][_0x2ab619(0x3a3)](_0x49e5e2[_0x2ab619(0x5d8)],_0x49e5e2[_0x2ab619(0x4a1)]);return{'success':!0x0};}catch(_0x1cb990){throw new g(_0x2ab619(0x213),_0x1cb990[_0x2ab619(0x35f)]());}}async[a0_0x5e0602(0x44c)](_0x1fbad1){const _0x34a8e1=a0_0x5e0602;try{return await this['client'][_0x34a8e1(0x191)](_0x1fbad1[_0x34a8e1(0x5d8)]),{'groupJid':_0x1fbad1[_0x34a8e1(0x5d8)],'leave':!0x0};}catch(_0xfae493){throw new g(_0x34a8e1(0x265),_0xfae493['toString']());}}async[a0_0x5e0602(0x1be)](_0x4ff580){const _0x186cf2=a0_0x5e0602;return await this['sendMessageWithTyping'](_0x4ff580[_0x186cf2(0x4bd)],{'poll':{'name':_0x4ff580[_0x186cf2(0x1be)]?.['name'],'selectableCount':_0x4ff580[_0x186cf2(0x1be)]['selectableCount'],'values':_0x4ff580[_0x186cf2(0x1be)][_0x186cf2(0x3a0)]}},_0x4ff580?.[_0x186cf2(0x602)]);}async['updateMessage'](_0x120d08,_0x20ae90,_0x1f61b5){const _0x23460a=a0_0x5e0602;if(await this[_0x23460a(0x532)](_0x120d08,!0x0)){let _0x47b024={'where':{'_id':_0x120d08['id'],'owner':this[_0x23460a(0x61a)]['wuid']}},_0x54cd15={'status':[_0x1f61b5['status']][0x0]};try{let _0xf234c1=await this[_0x23460a(0x323)][_0x23460a(0x25f)][_0x23460a(0x69e)](_0x47b024,_0x54cd15);_0xf234c1&&B(this[_0x23460a(0x32a)],_0x23460a(0x211),{'message':_0xf234c1});}catch{}}}[a0_0x5e0602(0x508)](_0x4838fb){const _0x3e131f=a0_0x5e0602;let _0xdf086e=_0x4838fb['replace'](/\\n/g,'\x0a')[_0x3e131f(0x675)]('\x0a')[_0x3e131f(0x6d8)](_0x167b80=>_0x167b80['includes'](_0x3e131f(0x593))||_0x167b80['includes'](_0x3e131f(0x55b))),_0x30f67b='';return _0xdf086e[_0x3e131f(0x732)](_0x34e841=>{const _0x2c7fd1=_0x3e131f;let _0x54e81e=/TEL(?:.*):(.+)/,_0x4e7949=/EMAIL(?:.*):(.+)/,_0x32e4d7=_0x34e841['match'](_0x54e81e),_0x289c69=_0x34e841['match'](_0x4e7949);if(_0x32e4d7){let _0x7bc229=_0x32e4d7[0x1]['replace'](/-| |\+|\(|\)/g,'')[_0x2c7fd1(0x1db)]();_0x30f67b+='Telefone:\x20'+_0x7bc229+'\x0a';}else{if(_0x289c69){let _0x30e82f=_0x289c69[0x1][_0x2c7fd1(0x1db)]();_0x30f67b+=_0x2c7fd1(0x441)+_0x30e82f+'\x0a';}}}),_0x30f67b[_0x3e131f(0x1db)]();}async[a0_0x5e0602(0x634)](_0x421848,_0x5919b2,_0xb0d749){const _0x40e7d4=a0_0x5e0602;let _0x1a5fb4=_0x5919b2[_0x40e7d4(0x32f)]['remoteJid'][_0x40e7d4(0x480)](/:\d{1,2}@/g,'@'),_0x399197=_0x5919b2[_0x40e7d4(0x32f)][_0x40e7d4(0x6a7)],_0x4be5d1=_0x1a5fb4[_0x40e7d4(0x1a3)](_0x40e7d4(0x387));if(!_0x421848[_0x40e7d4(0x583)])return;let _0x1663a1={'lastmsg':_0x5919b2[_0x40e7d4(0x179)]||Date[_0x40e7d4(0x369)](),'unreadcount':_0x399197?0x0:0x1,..._0x399197||_0x4be5d1?{}:{'name':_0x5919b2['pushName']},..._0x4be5d1?{'group':_0x4be5d1}:{}},_0x2a44ae=await this[_0x40e7d4(0x323)]['chat'][_0x40e7d4(0x619)]({'where':{'_id':_0x1a5fb4,'owner':this[_0x40e7d4(0x61a)]['wuid']}},_0x1663a1,{'new':!0x0,'upsert':!0x0});if(!_0x4be5d1&&(!_0x2a44ae?.[_0x40e7d4(0x4da)]||!_0x2a44ae['leadInfo'][_0x40e7d4(0x5a4)])&&_0x5919b2[_0x40e7d4(0x29e)]&&!_0x399197&&await this['repository'][_0x40e7d4(0x17a)][_0x40e7d4(0x619)]({'where':{'_id':_0x1a5fb4,'owner':this[_0x40e7d4(0x61a)][_0x40e7d4(0x396)]}},{'leadInfo.nome':_0x5919b2['pushName']},{'new':!0x0,'upsert':!0x1}),_0x2a44ae)B(this[_0x40e7d4(0x32a)],_0x40e7d4(0x513),{'chat':_0x2a44ae});else{this[_0x40e7d4(0x2d4)][_0x40e7d4(0x2bd)](this[_0x40e7d4(0x32a)]+'\x20('+this['instance'][_0x40e7d4(0x396)]+_0x40e7d4(0x4cd));return;}if(!this[_0x40e7d4(0x543)]?.[_0x40e7d4(0x400)]['enabled'])return this[_0x40e7d4(0x2d4)][_0x40e7d4(0x27f)](this[_0x40e7d4(0x32a)]+'\x20('+this[_0x40e7d4(0x61a)][_0x40e7d4(0x396)]+_0x40e7d4(0x62f)),null;if(_0x2a44ae[_0x40e7d4(0x60f)][_0x40e7d4(0x215)](_0x40e7d4(0x387))&&this[_0x40e7d4(0x543)]?.[_0x40e7d4(0x400)][_0x40e7d4(0x608)]===!0x0)return this[_0x40e7d4(0x2d4)]['verbose'](this[_0x40e7d4(0x32a)]+'\x20('+this[_0x40e7d4(0x61a)][_0x40e7d4(0x396)]+_0x40e7d4(0x558)),null;if(_0x2a44ae['leadInfo']){if(_0x2a44ae['leadInfo'][_0x40e7d4(0x5b6)]===0x0||_0x2a44ae[_0x40e7d4(0x4da)][_0x40e7d4(0x579)])return this['logger'][_0x40e7d4(0x27f)](this[_0x40e7d4(0x32a)]+'\x20('+this['instance'][_0x40e7d4(0x396)]+_0x40e7d4(0x511)+_0x1a5fb4+_0x40e7d4(0x71f)),null;if(_0x2a44ae[_0x40e7d4(0x4da)][_0x40e7d4(0x5b6)]>Date[_0x40e7d4(0x369)]())return this[_0x40e7d4(0x2d4)][_0x40e7d4(0x27f)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x40e7d4(0x249)+new Date(_0x2a44ae[_0x40e7d4(0x4da)]['desativadoFluxoAte'])[_0x40e7d4(0x598)]()+_0x40e7d4(0x71f)),null;}this[_0x40e7d4(0x2d4)][_0x40e7d4(0x27f)](this[_0x40e7d4(0x32a)]+'\x20('+this[_0x40e7d4(0x61a)]['wuid']+_0x40e7d4(0x696)),this[_0x40e7d4(0x43b)](_0xb0d749,_0x5919b2,this[_0x40e7d4(0x61a)]['wuid']);}async[a0_0x5e0602(0x34c)](_0x2e6c3a,_0x7887f4){const _0x3a8b0d=a0_0x5e0602;if(_0x7887f4['ENABLED']){let _0x4708ee=_0x2e6c3a['map'](async _0x20d142=>{const _0x52136a=a0_0x3589;try{let _0x2df63b={'_id':_0x20d142[_0x52136a(0x60f)],'owner':_0x20d142[_0x52136a(0x367)],'lastcache':0x0};if(_0x20d142['group']!==null&&(_0x2df63b[_0x52136a(0x6e4)]=_0x20d142[_0x52136a(0x6e4)]),_0x20d142[_0x52136a(0x5e4)]!==null&&(_0x2df63b[_0x52136a(0x5e4)]=_0x20d142[_0x52136a(0x5e4)]),_0x20d142[_0x52136a(0x248)]!==null&&(_0x2df63b[_0x52136a(0x248)]=_0x20d142[_0x52136a(0x248)]),_0x20d142['imagechat']!==null&&(_0x2df63b[_0x52136a(0x1a5)]=_0x20d142['imagechat']),_0x20d142['imagechat']===null&&(_0x2df63b[_0x52136a(0x1a5)]=_0x52136a(0x42a)),_0x20d142[_0x52136a(0x5a0)]!==null&&(_0x2df63b[_0x52136a(0x5a0)]=_0x20d142['lastmsg']),_0x20d142[_0x52136a(0x655)]!==null&&(_0x2df63b[_0x52136a(0x655)]=_0x20d142[_0x52136a(0x655)]),_0x20d142['unreadcount']!==null&&(_0x2df63b['unreadcount']=_0x20d142[_0x52136a(0x33d)]),Object[_0x52136a(0x4ec)](_0x2df63b)[_0x52136a(0x3f7)]>0x0)return await this['repository'][_0x52136a(0x17a)][_0x52136a(0x619)]({'where':{'_id':_0x20d142['_id'],'owner':_0x20d142[_0x52136a(0x367)]}},_0x2df63b);}catch(_0x3e5ce2){return console['error'](_0x52136a(0x487)+_0x20d142[_0x52136a(0x60f)]+':',_0x3e5ce2),null;}}),_0x1e7312=(await Promise[_0x3a8b0d(0x16a)](_0x4708ee))[_0x3a8b0d(0x6d8)](_0x374fad=>_0x374fad!==null)[_0x3a8b0d(0x3f7)];this['logger'][_0x3a8b0d(0x27f)](this[_0x3a8b0d(0x32a)]+'\x20('+this[_0x3a8b0d(0x61a)][_0x3a8b0d(0x396)]+_0x3a8b0d(0x3d4)+_0x1e7312+_0x3a8b0d(0x255)+this['instance'][_0x3a8b0d(0x396)]+_0x3a8b0d(0x2bb));}}async[a0_0x5e0602(0x3ff)](_0x5c8cf2){const _0x449c06=a0_0x5e0602;this[_0x449c06(0x2d4)]['verbose'](this[_0x449c06(0x32a)]+'\x20('+this['instance'][_0x449c06(0x396)]+_0x449c06(0x1f7));let _0x2c8fe3={'readMessages':[{'remoteJid':_0x5c8cf2[_0x449c06(0x291)]['lastReceivedMessage'][_0x449c06(0x32f)]['remoteJid'],'fromMe':_0x5c8cf2[_0x449c06(0x291)]['lastReceivedMessage']['key'][_0x449c06(0x6a7)],'id':_0x5c8cf2[_0x449c06(0x291)][_0x449c06(0x1dd)][_0x449c06(0x32f)]['id']}]};await this['markMessageAsRead'](_0x2c8fe3);}async[a0_0x5e0602(0x43b)](_0x431970,_0x3c90a2,_0x2f7546){const _0x185e04=a0_0x5e0602;try{let {key:_0x42dce3,message_normalized:_0xcefe65}=_0x3c90a2,_0x3e0608=_0xcefe65,_0x25e4b5=_0xcefe65[_0x185e04(0x711)]||_0xcefe65[_0x185e04(0x472)]||_0xcefe65[_0x185e04(0x36d)]||_0xcefe65['name'],_0x413b71=_0x42dce3[_0x185e04(0x51c)],_0x4adbcc;if(_0x3e0608['key']['fromMe']&&_0x25e4b5[_0x185e04(0x1db)]()!==this[_0x185e04(0x543)]?.[_0x185e04(0x400)][_0x185e04(0x3af)][_0x185e04(0x1db)]())return this[_0x185e04(0x2d4)][_0x185e04(0x27f)](this['instanceName']+'\x20('+this[_0x185e04(0x61a)]['wuid']+_0x185e04(0x51f)),null;if(_0x3e0608[_0x185e04(0x32f)][_0x185e04(0x6a7)]&&_0x25e4b5[_0x185e04(0x1db)]()===this['AutomateSystem']?.[_0x185e04(0x400)]['stopConversation'][_0x185e04(0x1db)]()){this['logger']['verbose'](this[_0x185e04(0x32a)]+'\x20('+this[_0x185e04(0x61a)][_0x185e04(0x396)]+_0x185e04(0x61d));let _0x372a4f=await j[_0x185e04(0x6f2)]({'owner':_0x2f7546,'remoteJid':_0x413b71,'status':_0x185e04(0x411)});this['logger']['verbose'](this[_0x185e04(0x32a)]+'\x20('+this['instance']['wuid']+_0x185e04(0x5af)+_0x372a4f);let _0x32721c=Date[_0x185e04(0x369)](),_0x29b130;return this[_0x185e04(0x543)]?.[_0x185e04(0x400)][_0x185e04(0x403)]===0x0?_0x29b130={'stoppedUntil':_0x32721c+0x7591f6200}:_0x29b130={'stoppedUntil':_0x32721c+this[_0x185e04(0x543)]?.[_0x185e04(0x400)][_0x185e04(0x403)]*0x3c*0x3e8},this[_0x185e04(0x2d4)][_0x185e04(0x27f)](this[_0x185e04(0x32a)]+'\x20('+this[_0x185e04(0x61a)][_0x185e04(0x396)]+_0x185e04(0x500)+_0x29b130),this[_0x185e04(0x489)](_0x4adbcc,_0x29b130[_0x185e04(0x6f5)]),null;}if(_0x25e4b5&&_0x25e4b5[_0x185e04(0x183)](this[_0x185e04(0x543)]?.[_0x185e04(0x400)][_0x185e04(0x6ef)])&&_0x25e4b5['length']>0x4){let _0x2837cc=await I[_0x185e04(0x648)]({'owner':_0x2f7546,'startCommandWord':_0x25e4b5});if(this[_0x185e04(0x2d4)][_0x185e04(0x27f)](this[_0x185e04(0x32a)]+'\x20('+this[_0x185e04(0x61a)][_0x185e04(0x396)]+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x2837cc)_0x4adbcc=await this['createNewConversation'](_0x2837cc,_0x3e0608['key'],_0x3e0608);else return this[_0x185e04(0x2d4)][_0x185e04(0x27f)](this[_0x185e04(0x32a)]+'\x20('+this['instance'][_0x185e04(0x396)]+_0x185e04(0x454)),null;}else _0x4adbcc=await this[_0x185e04(0x706)](_0x2f7546,_0x413b71,_0x3e0608);if(_0x4adbcc){this[_0x185e04(0x2d4)][_0x185e04(0x27f)](this[_0x185e04(0x32a)]+'\x20('+this[_0x185e04(0x61a)][_0x185e04(0x396)]+_0x185e04(0x1de)),!_0x42dce3[_0x185e04(0x6a7)]&&_0x4adbcc[_0x185e04(0x26f)]&&this['readMessageBot'](_0x4adbcc);let _0x2603ff=await this[_0x185e04(0x4b5)](_0x4adbcc);_0x2603ff&&await this['processblock'](_0x4adbcc,_0x2603ff,_0x4adbcc[_0x185e04(0x51c)]);}}catch(_0x4a519a){this[_0x185e04(0x2d4)][_0x185e04(0x2bd)](this[_0x185e04(0x32a)]+'\x20('+this[_0x185e04(0x61a)][_0x185e04(0x396)]+_0x185e04(0x499)+_0x4a519a);}}[a0_0x5e0602(0x442)](_0x562cd9,_0x2cd93b='',_0xc3df5d={},_0x3bfd5b=!0x0){const _0xfa9a05=a0_0x5e0602;for(let _0x23f7e4 in _0x562cd9){let _0x3b7526=_0x3bfd5b?'_'+_0x23f7e4:''+_0x2cd93b+_0x23f7e4;typeof _0x562cd9[_0x23f7e4]==_0xfa9a05(0x519)&&_0x562cd9[_0x23f7e4]!==null?this[_0xfa9a05(0x442)](_0x562cd9[_0x23f7e4],_0x3b7526+'.',_0xc3df5d,!0x1):_0xc3df5d[_0x3b7526]=String(_0x562cd9[_0x23f7e4]);}return _0xc3df5d;}[a0_0x5e0602(0x686)](_0x4c49c3){const _0x3aa2e9=a0_0x5e0602;let _0x14ca66={};for(let _0x20b8df of _0x4c49c3)typeof _0x20b8df[_0x3aa2e9(0x5e4)]==_0x3aa2e9(0x30f)&&typeof _0x20b8df[_0x3aa2e9(0x189)]==_0x3aa2e9(0x30f)&&(_0x14ca66[_0x20b8df[_0x3aa2e9(0x5e4)]]=_0x20b8df[_0x3aa2e9(0x189)]);return _0x14ca66;}async['NextBlock'](_0x3e3f4c){const _0x144080=a0_0x5e0602;if(!this['AutomateSystem']?.[_0x144080(0x400)][_0x144080(0x182)]||_0x3e3f4c['status']!==_0x144080(0x411)&&_0x3e3f4c[_0x144080(0x55f)]==='')return null;let _0x3e4e04=_0x3e3f4c[_0x144080(0x291)][_0x144080(0x1a6)]||_0x144080(0x1d3);typeof _0x3e3f4c[_0x144080(0x291)][_0x144080(0x49b)]>'u'&&(_0x3e3f4c['chatLog'][_0x144080(0x49b)]=!0x0);let _0x1679c2=_0x3e3f4c[_0x144080(0x291)][_0x144080(0x49b)];this[_0x144080(0x2d4)][_0x144080(0x27f)](this['instanceName']+'\x20('+this[_0x144080(0x61a)]['wuid']+_0x144080(0x4de)+_0x3e4e04+_0x144080(0x67f)+_0x1679c2);let _0x2dd0e2=_0x3e4e04==='start'?_0x3e3f4c[_0x144080(0x2b8)]['find'](_0x39c3ea=>_0x39c3ea[_0x144080(0x33e)]===_0x144080(0x1d3)):_0x3e3f4c[_0x144080(0x2b8)][_0x144080(0x6f2)](_0x561d79=>_0x561d79[_0x144080(0x60f)][_0x144080(0x35f)]()===_0x3e4e04[_0x144080(0x35f)]());if(!_0x2dd0e2)return this['logger']['error'](this['instanceName']+'\x20('+this[_0x144080(0x61a)][_0x144080(0x396)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x3e4e04),null;let _0x14a36c={'_pushName':_0x3e3f4c[_0x144080(0x291)][_0x144080(0x1dd)][_0x144080(0x29e)],..._0x3e3f4c[_0x144080(0x291)][_0x144080(0x6e1)]},_0x37bb64=null;if(_0x3e3f4c[_0x144080(0x55f)]){let _0x28a988=_0x3e3f4c[_0x144080(0x291)]['lastReceivedMessage'][_0x144080(0x36d)],_0x1861d9=_0x3e3f4c['waitingPoll_replyOptions']['find'](_0x51309f=>_0x51309f[_0x144080(0x65e)]===_0x28a988);if(_0x1861d9){let _0x239093=_0x1861d9[_0x144080(0x458)];if(_0x37bb64=_0x3e3f4c[_0x144080(0x2b8)][_0x144080(0x6f2)](_0x3b5b62=>_0x3b5b62[_0x144080(0x4d6)]===_0x239093&&_0x3b5b62[_0x144080(0x4b2)]===0x1),_0x2dd0e2[_0x144080(0x28f)]['pollOnReplyDelete']){let _0x55616a={'id':_0x3e3f4c[_0x144080(0x55f)],'remoteJid':_0x3e3f4c['remoteJid'],'fromMe':!0x0};await this[_0x144080(0x5ce)](_0x55616a);}if(_0x2dd0e2[_0x144080(0x28f)][_0x144080(0x698)]&&_0x2dd0e2[_0x144080(0x28f)][_0x144080(0x1c2)]){let _0xdff1b6={'number':_0x3e3f4c[_0x144080(0x51c)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x3e3f4c[_0x144080(0x1f8)]+_0x144080(0x611)+_0x28a988}};await this[_0x144080(0x296)](_0xdff1b6);}_0x3e3f4c['status']=_0x144080(0x411),_0x3e3f4c['waitingPoll_id']='',_0x3e3f4c[_0x144080(0x1f8)]='',_0x3e3f4c[_0x144080(0x6be)]=[];}else{this[_0x144080(0x2d4)][_0x144080(0x27f)](this[_0x144080(0x32a)]+'\x20('+this[_0x144080(0x61a)]['wuid']+_0x144080(0x1e8));let _0x174dc3={'activatedCount':_0x3e3f4c[_0x144080(0x291)]['blockLogs'][_0x144080(0x6d8)](_0x25c040=>String(_0x25c040[_0x144080(0x2fb)])===String(_0x3e4e04))['length'],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x2dd0e2[_0x144080(0x28f)][_0x144080(0x70a)]){let _0x5012ac={'number':_0x3e3f4c[_0x144080(0x51c)],'options':{'delay':0x0},'textMessage':{'text':_0x2dd0e2[_0x144080(0x28f)]['pollErrorMessage']}};await this[_0x144080(0x296)](_0x5012ac);}if(_0x2dd0e2[_0x144080(0x69a)]!==void 0x0&&_0x174dc3[_0x144080(0x299)]>=_0x2dd0e2[_0x144080(0x69a)]){let _0x5d3c17=Date[_0x144080(0x369)](),_0x29ffcf=_0x2dd0e2[_0x144080(0x174)]??0xa;isNaN(_0x29ffcf)&&(_0x29ffcf=0xa);let _0x1db289=_0x5d3c17+_0x29ffcf*0x3c*0x3e8;_0x174dc3[_0x144080(0x4d7)]=_0x1db289,_0x174dc3['moreLogs'][_0x144080(0x19f)](_0x144080(0x727)),this[_0x144080(0x489)](_0x3e3f4c,_0x1db289),_0x3e3f4c['waitingPoll_id']='',_0x3e3f4c['waitingPoll_name']='',_0x3e3f4c['waitingPoll_replyOptions']=[];}return this['updateConversation'](_0x3e3f4c,_0x2dd0e2,_0x174dc3,!0x0),null;}}if(_0x1679c2&&_0x2dd0e2[_0x144080(0x458)]&&!_0x3e3f4c[_0x144080(0x55f)]){let _0x34d80f=_0x3e3f4c[_0x144080(0x2b8)][_0x144080(0x6d8)](_0x127850=>_0x127850[_0x144080(0x4d6)][_0x144080(0x35f)]()===_0x2dd0e2[_0x144080(0x458)][_0x144080(0x35f)]())[_0x144080(0x3b1)]((_0x448b11,_0x42644b)=>_0x448b11[_0x144080(0x4b2)]-_0x42644b['order']);_0x34d80f[_0x144080(0x3f7)]>0x0&&(_0x37bb64=_0x34d80f[0x0]);}if(!_0x37bb64){let _0x1721f2=_0x2dd0e2[_0x144080(0x4d6)],_0x419e50=_0x3e3f4c['blocks'][_0x144080(0x6d8)](_0x29dce4=>_0x29dce4['groupId']===_0x1721f2&&_0x29dce4[_0x144080(0x4b2)]>_0x2dd0e2['order'])[_0x144080(0x3b1)]((_0xed4788,_0x3bc35d)=>_0xed4788['order']-_0x3bc35d[_0x144080(0x4b2)]);_0x419e50['length']>0x0&&(_0x37bb64=_0x419e50[0x0]);}if(!_0x37bb64)return _0x3e3f4c['status']='closed',null;_0x3e3f4c[_0x144080(0x291)][_0x144080(0x6e1)]=_0x14a36c;let _0x55f382=JSON[_0x144080(0x322)](JSON[_0x144080(0x408)](_0x37bb64));return this[_0x144080(0x72d)](_0x55f382,_0x3e3f4c[_0x144080(0x291)][_0x144080(0x6e1)]),_0x3e3f4c[_0x144080(0x291)][_0x144080(0x1a6)]=_0x55f382[_0x144080(0x60f)],_0x3e3f4c[_0x144080(0x291)]['lastCondition']=!0x0,_0x55f382;}[a0_0x5e0602(0x4ae)](_0x44a258,_0xb3baab){const _0x3bc6ae=a0_0x5e0602;return _0x44a258[_0x3bc6ae(0x480)](/\{\{([^}]+)\}\}/g,(_0x2e0034,_0xaf0780)=>_0xb3baab[_0xaf0780]||'');}[a0_0x5e0602(0x72d)](_0x1dcfa0,_0x51d89e){const _0x2adde2=a0_0x5e0602;for(let _0x466403 in _0x1dcfa0)typeof _0x1dcfa0[_0x466403]==_0x2adde2(0x30f)?_0x1dcfa0[_0x466403]=this[_0x2adde2(0x4ae)](_0x1dcfa0[_0x466403],_0x51d89e):typeof _0x1dcfa0[_0x466403]==_0x2adde2(0x519)&&this[_0x2adde2(0x72d)](_0x1dcfa0[_0x466403],_0x51d89e);}async[a0_0x5e0602(0x57d)](_0xecb94a,_0x3acb0a){const _0x2d0d1f=a0_0x5e0602;let _0x43269e=_0x3acb0a[_0x2d0d1f(0x60f)];if(_0xecb94a[_0x2d0d1f(0x291)]&&_0xecb94a[_0x2d0d1f(0x291)][_0x2d0d1f(0x41e)]){let _0x538f31=_0xecb94a[_0x2d0d1f(0x291)][_0x2d0d1f(0x41e)][_0x2d0d1f(0x6d8)](_0x1fa5fd=>String(_0x1fa5fd[_0x2d0d1f(0x2fb)])===String(_0x43269e))[_0x2d0d1f(0x2ab)]();if(_0x538f31&&_0x538f31[_0x2d0d1f(0x2bd)]&&_0x3acb0a[_0x2d0d1f(0x19b)])return _0xecb94a[_0x2d0d1f(0x5a7)]=_0x2d0d1f(0x59b),await this[_0x2d0d1f(0x6bf)](_0xecb94a),null;}if(_0x3acb0a[_0x2d0d1f(0x33e)]===_0x2d0d1f(0x28f)&&_0x3acb0a['uazapi'][_0x2d0d1f(0x16c)]===_0x2d0d1f(0x5f9)&&_0xecb94a[_0x2d0d1f(0x55f)])return _0xecb94a[_0x2d0d1f(0x291)][_0x2d0d1f(0x1a6)]=_0x43269e,await this['saveConversationToDatabase'](_0xecb94a),null;let _0x1baa0e=await this[_0x2d0d1f(0x4b5)](_0xecb94a);if(_0xecb94a[_0x2d0d1f(0x291)]&&_0xecb94a[_0x2d0d1f(0x291)][_0x2d0d1f(0x41e)]){let _0x4138e6=_0xecb94a['chatLog'][_0x2d0d1f(0x41e)][_0x2d0d1f(0x6d8)](_0x562240=>String(_0x562240[_0x2d0d1f(0x2fb)])===String(_0x43269e))[_0x2d0d1f(0x3f7)];if(_0x3acb0a[_0x2d0d1f(0x69a)]!==void 0x0&&_0x4138e6>=_0x3acb0a['maxActives']){let _0x17daff=Date['now'](),_0x4b9490=_0x3acb0a[_0x2d0d1f(0x174)]??0xa;isNaN(_0x4b9490)&&(_0x4b9490=0xa);let _0x52f9e1=_0x17daff+_0x4b9490*0x3c*0x3e8,_0x13c1ad={'newStoppedUntil':_0x52f9e1};return this[_0x2d0d1f(0x489)](_0xecb94a,_0x52f9e1),this[_0x2d0d1f(0x3f4)](_0xecb94a,_0x3acb0a,_0x13c1ad,!0x0),null;}}_0x1baa0e&&_0x1baa0e[_0x2d0d1f(0x33e)]!==_0x2d0d1f(0x72a)&&await this[_0x2d0d1f(0x421)](_0xecb94a,_0x1baa0e,_0xecb94a[_0x2d0d1f(0x51c)]),_0x1baa0e||await this[_0x2d0d1f(0x6bf)](_0xecb94a),_0x1baa0e&&_0x1baa0e[_0x2d0d1f(0x33e)]==='save'&&(_0xecb94a[_0x2d0d1f(0x291)][_0x2d0d1f(0x1a6)]=_0x43269e,await this['saveConversationToDatabase'](_0xecb94a));}async[a0_0x5e0602(0x421)](_0x264567,_0x3a9ada,_0x2e5255){const _0x38e0e5=a0_0x5e0602;try{let _0x8e55=_0x3a9ada[_0x38e0e5(0x33e)];this['logger'][_0x38e0e5(0x27f)](this['instanceName']+'\x20('+this[_0x38e0e5(0x61a)][_0x38e0e5(0x396)]+_0x38e0e5(0x39f)+_0x8e55);let _0x4c38be={'uazapi':()=>this['processUazapi'](_0x264567,_0x3a9ada,_0x2e5255),'save':()=>this[_0x38e0e5(0x68d)](_0x264567,_0x3a9ada),'stop':()=>this['stopConversation'](_0x264567,_0x3a9ada),'condition':()=>this[_0x38e0e5(0x1eb)](_0x264567,_0x3a9ada),'varedit':()=>this[_0x38e0e5(0x54d)](_0x264567,_0x3a9ada),'apirequest':()=>this[_0x38e0e5(0x1cc)](_0x264567,_0x3a9ada),'goToFlow':()=>this['processgoToFlow'](_0x264567,_0x3a9ada)}[_0x8e55];_0x4c38be&&await _0x4c38be();}catch(_0x222da7){this['logger'][_0x38e0e5(0x2bd)](this[_0x38e0e5(0x32a)]+'\x20('+this[_0x38e0e5(0x61a)]['wuid']+_0x38e0e5(0x1b8)+_0x222da7);}}async[a0_0x5e0602(0x6ed)](_0x669843,_0x4e4696){const _0x4d70f2=a0_0x5e0602;if(this[_0x4d70f2(0x2d4)]['verbose'](this[_0x4d70f2(0x32a)]+'\x20('+this['instance']['wuid']+_0x4d70f2(0x1e9)),!_0x669843||!_0x4e4696)return this[_0x4d70f2(0x2d4)][_0x4d70f2(0x2bd)](this[_0x4d70f2(0x32a)]+'\x20('+this[_0x4d70f2(0x61a)]['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this[_0x4d70f2(0x3f4)](_0x669843,_0x4e4696,{},!0x0,!0x0),console['log']('nextBlock:'),console[_0x4d70f2(0x656)](_0x4e4696);let _0x4c5112=_0x4e4696[_0x4d70f2(0x381)];console[_0x4d70f2(0x656)](_0x4d70f2(0x2f0),_0x4c5112),_0x669843=await this[_0x4d70f2(0x4af)](_0x4c5112,_0x669843[_0x4d70f2(0x51c)],_0x669843[_0x4d70f2(0x291)][_0x4d70f2(0x6e1)]),this[_0x4d70f2(0x2d4)]['verbose'](this[_0x4d70f2(0x32a)]+'\x20('+this[_0x4d70f2(0x61a)][_0x4d70f2(0x396)]+'):\x20Criada\x20conversa\x20nova\x20(gotoflow)');let _0x266737=await this['NextBlock'](_0x669843);_0x266737&&await this['processblock'](_0x669843,_0x266737,_0x669843[_0x4d70f2(0x51c)]);}async[a0_0x5e0602(0x4af)](_0x1d8e76,_0x321696,_0x5cfc82){const _0x54719b=a0_0x5e0602;this[_0x54719b(0x2d4)][_0x54719b(0x27f)](this['instanceName']+'\x20('+this[_0x54719b(0x61a)][_0x54719b(0x396)]+_0x54719b(0x1a9));try{if(_0x1d8e76=await I['findOne']({'owner':this[_0x54719b(0x61a)]['wuid'],'name':_0x1d8e76}),!_0x1d8e76)return this[_0x54719b(0x2d4)][_0x54719b(0x2bd)](this[_0x54719b(0x32a)]+'\x20('+this[_0x54719b(0x61a)][_0x54719b(0x396)]+'):\x20Flow\x20não\x20encontrado'),null;let _0x31bb15=require(_0x54719b(0x5b3))[_0x54719b(0x545)],_0x94bfc7=Date[_0x54719b(0x369)](),_0x12a14f=_0x54719b(0x1d3),_0x49c521={},_0x1c4799={},_0x3864e0={..._0x1d8e76[_0x54719b(0x6a3)],'chatLog':null},_0x419acc={'lastReceivedMessage':_0x49c521,'lastSendMessage':_0x1c4799,'lastBlockId':_0x12a14f,'lastCondition':!0x0,'realVariables':_0x5cfc82};_0x3864e0[_0x54719b(0x291)]=_0x419acc,_0x3864e0['chatLog'][_0x54719b(0x6e1)]={..._0x5cfc82},delete _0x3864e0[_0x54719b(0x60f)],_0x3864e0[_0x54719b(0x60f)]=new _0x31bb15(),_0x3864e0[_0x54719b(0x47d)]=_0x94bfc7,_0x3864e0[_0x54719b(0x5a7)]=_0x54719b(0x411),_0x3864e0[_0x54719b(0x51c)]=_0x321696;let _0x269380=await j[_0x54719b(0x72e)](_0x3864e0);return this['logger'][_0x54719b(0x27f)](this[_0x54719b(0x32a)]+'\x20('+this[_0x54719b(0x61a)][_0x54719b(0x396)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x269380?_0x3864e0:null;}catch(_0xd58b5a){throw this['logger'][_0x54719b(0x2bd)](this['instanceName']+'\x20('+this[_0x54719b(0x61a)][_0x54719b(0x396)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+_0xd58b5a),new g(_0xd58b5a['message']);}}async[a0_0x5e0602(0x1cc)](_0x227e35,_0x8e6613){const _0x19de86=a0_0x5e0602;let _0x453396,_0x5579f9;try{let _0x25bf74=_0x8e6613[_0x19de86(0x4c9)];if(!_0x25bf74||!_0x25bf74[_0x19de86(0x31e)]||!_0x25bf74[_0x19de86(0x5c9)])throw new Error(_0x19de86(0x402));let _0x4ababf={'method':_0x25bf74[_0x19de86(0x5c9)],'url':_0x25bf74[_0x19de86(0x31e)],'headers':_0x25bf74[_0x19de86(0x3f9)]||{},'data':_0x25bf74[_0x19de86(0x27b)]||{}};_0x453396=(await(0x0,ce[_0x19de86(0x56d)])(_0x4ababf))[_0x19de86(0x485)];let _0x355e6d=_0x227e35['chatLog']['realVariables'],_0x384251=this['flattenObject'](_0x453396);return Object['assign'](_0x355e6d,_0x384251),_0x227e35['chatLog'][_0x19de86(0x6e1)]=_0x355e6d,_0x5579f9={'error':!0x1,'apiResponse':_0x453396},this['updateConversation'](_0x227e35,_0x8e6613,_0x5579f9),_0x453396;}catch(_0x315196){console[_0x19de86(0x2bd)](_0x19de86(0x1c9),_0x315196),_0x315196[_0x19de86(0x4e6)]&&(_0x453396=_0x315196[_0x19de86(0x4e6)]['data']);let _0x2b7429=_0x227e35[_0x19de86(0x291)][_0x19de86(0x6e1)],_0x2f064c=this[_0x19de86(0x442)](_0x453396);return Object[_0x19de86(0x4b1)](_0x2b7429,_0x2f064c),_0x227e35[_0x19de86(0x291)][_0x19de86(0x6e1)]=_0x2b7429,_0x5579f9={'error':!0x0,'errorLog':_0x315196['toString'](),'apiResponse':_0x453396},this[_0x19de86(0x3f4)](_0x227e35,_0x8e6613,_0x5579f9),{'success':!0x1};}}[a0_0x5e0602(0x245)](_0x57b011,_0x2747c2){const _0x5522d1=a0_0x5e0602;let _0xa6db71=_0x327b91=>{let _0x455d41=_0x327b91['replace'](/[^0-9.,-]/g,'')['replace'](',','.'),_0x484853=parseFloat(_0x455d41);return isNaN(_0x484853)?null:_0x484853;},_0x2a712f=_0x2747c2['firstValue'],_0x1b2398=_0x2747c2['secondValue'];typeof _0x2a712f=='string'&&(_0x2a712f=this['replaceVariables'](_0x2a712f,_0x57b011[_0x5522d1(0x291)][_0x5522d1(0x6e1)])??''),typeof _0x1b2398==_0x5522d1(0x30f)&&(_0x1b2398=this['replaceVariables'](_0x1b2398,_0x57b011[_0x5522d1(0x291)][_0x5522d1(0x6e1)])??'');let _0x590c9c=null;if(!_0x2a712f||!_0x2747c2[_0x5522d1(0x371)])return null;switch(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x5522d1(0x61a)][_0x5522d1(0x396)]+_0x5522d1(0x622)+_0x2a712f),this[_0x5522d1(0x2d4)][_0x5522d1(0x27f)](this[_0x5522d1(0x32a)]+'\x20('+this[_0x5522d1(0x61a)][_0x5522d1(0x396)]+_0x5522d1(0x614)+_0x1b2398),_0x2747c2['editOperator']){case'+':case'-':case'*':case'/':let _0x4a3b6a=_0xa6db71(_0x2a712f),_0x4676ac=_0xa6db71(_0x1b2398||'0');if(_0x4a3b6a===null)return null;switch(_0x2747c2[_0x5522d1(0x371)]){case'+':_0x590c9c=_0x4a3b6a+(_0x4676ac??0x0);break;case'-':_0x590c9c=_0x4a3b6a-(_0x4676ac??0x0);break;case'*':_0x590c9c=_0x4a3b6a*(_0x4676ac??0x1);break;case'/':_0x4676ac!==0x0&&(_0x590c9c=_0x4a3b6a/(_0x4676ac??0x1));break;}break;case _0x5522d1(0x2be):case _0x5522d1(0x5bf):let _0x5cd6ac=_0x1b2398,_0x4af908=_0x2747c2[_0x5522d1(0x4a5)];if(typeof _0x4af908==_0x5522d1(0x30f)&&(_0x4af908=this['replaceVariables'](_0x4af908,_0x57b011[_0x5522d1(0x291)][_0x5522d1(0x6e1)])??''),_0x5cd6ac&&_0x4af908!==void 0x0){let _0x30cccd=_0x2747c2['editOperator']==='findAndReplace'?new RegExp(_0x5cd6ac[_0x5522d1(0x480)](/[-\/\\^$*+?.()|[\]{}]/g,_0x5522d1(0x21e)),'g'):new RegExp(_0x5cd6ac,'g');_0x590c9c=_0x2a712f[_0x5522d1(0x480)](_0x30cccd,_0x4af908);}else console[_0x5522d1(0x55e)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case'setNewValue':_0x590c9c=_0x1b2398;break;case _0x5522d1(0x23e):let _0x5d24dc=_0x2a712f[_0x5522d1(0x3f6)](new RegExp(_0x1b2398||''));_0x590c9c=_0x5d24dc?_0x5d24dc[0x0]:'';break;case _0x5522d1(0x331):_0x590c9c=_0x2a712f[_0x5522d1(0x40a)](0x0,parseInt(_0x1b2398||'0'));break;case _0x5522d1(0x230):let _0x5e9efc=parseInt(_0x1b2398||'0');_0x590c9c=_0x2a712f[_0x5522d1(0x40a)](_0x2a712f[_0x5522d1(0x3f7)]-_0x5e9efc);break;case'toBrazilianNumberFormat':let _0x167706=_0xa6db71(_0x2a712f),_0x4262b3=parseInt(_0x1b2398||'0');_0x4262b3=Math[_0x5522d1(0x41d)](_0x4262b3),_0x167706!==null?_0x590c9c=_0x167706[_0x5522d1(0x598)]('pt-BR',{'minimumFractionDigits':_0x4262b3,'maximumFractionDigits':_0x4262b3}):(console['warn'](_0x5522d1(0x52e)+_0x2a712f),_0x590c9c=null);break;case'toBRL':let _0x47aeba=_0xa6db71(_0x2a712f);_0x47aeba!==null?_0x590c9c=_0x47aeba[_0x5522d1(0x598)](_0x5522d1(0x665),{'style':_0x5522d1(0x2e7),'currency':_0x5522d1(0x498)}):(console[_0x5522d1(0x55e)](_0x5522d1(0x6a9)+_0x2a712f),_0x590c9c=null);break;case'upperCase':_0x590c9c=_0x2a712f['toUpperCase']();break;case _0x5522d1(0x22f):_0x590c9c=_0x2a712f[_0x5522d1(0x3dd)]();break;case _0x5522d1(0x5de):_0x590c9c=_0x2a712f[_0x5522d1(0x675)]('\x20')[_0x5522d1(0x503)](_0x20215f=>_0x20215f[_0x5522d1(0x4f5)](0x0)[_0x5522d1(0x3c8)]()+_0x20215f[_0x5522d1(0x40a)](0x1)[_0x5522d1(0x3dd)]())[_0x5522d1(0x69c)]('\x20');break;case _0x5522d1(0x3bd):_0x590c9c=_0x2a712f[_0x5522d1(0x1db)]();break;default:_0x590c9c=_0x2a712f;}return _0x590c9c!==null?_0x590c9c[_0x5522d1(0x35f)]():null;}async[a0_0x5e0602(0x54d)](_0x33c6e5,_0x9cd286){const _0x40daf7=a0_0x5e0602;try{let _0x45470b=_0x33c6e5['varedits']?.[_0x40daf7(0x6d8)](_0x29d8f8=>_0x29d8f8['blockId']===_0x9cd286[_0x40daf7(0x60f)]?.[_0x40daf7(0x35f)]())||[],_0x144685=_0x9cd286[_0x40daf7(0x2af)],_0xd6916d=null,_0x3a9398=[],_0xcf1d61=_0x33c6e5[_0x40daf7(0x291)]['realVariables'][_0x144685];_0x3a9398[_0x40daf7(0x19f)](_0x40daf7(0x19d)+_0xcf1d61+'\x22');for(let _0x402fcc of _0x45470b){_0x402fcc[_0x40daf7(0x522)]=_0xcf1d61,_0xd6916d=_0x402fcc[_0x40daf7(0x522)];let _0x5a6647;try{_0x5a6647=this[_0x40daf7(0x245)](_0x33c6e5,_0x402fcc);}catch(_0xe0d5c8){console[_0x40daf7(0x2bd)](_0x40daf7(0x1d8)+_0xe0d5c8[_0x40daf7(0x25f)]);continue;}if(_0x5a6647!==null){let _0x2a7e5c=_0x40daf7(0x51a)+_0x402fcc[_0x40daf7(0x371)]+'\x22',_0x3bd155=[_0x40daf7(0x636),_0x40daf7(0x576),_0x40daf7(0x22f),_0x40daf7(0x5de),'trimmed'];_0x402fcc[_0x40daf7(0x371)]===_0x40daf7(0x2be)||_0x402fcc['editOperator']===_0x40daf7(0x5bf)?_0x2a7e5c+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x402fcc[_0x40daf7(0x22b)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x402fcc[_0x40daf7(0x4a5)]+'\x22':!_0x3bd155[_0x40daf7(0x215)](_0x402fcc['editOperator'])&&_0x402fcc[_0x40daf7(0x22b)]!==null&&_0x402fcc['secondValue']!==void 0x0&&(_0x2a7e5c+=_0x40daf7(0x67b)+_0x402fcc['secondValue']+'\x22'),_0x2a7e5c+=',\x20resultado:\x20'+_0x5a6647+'.',_0x3a9398[_0x40daf7(0x19f)](_0x2a7e5c);}_0x5a6647!==null&&(_0xcf1d61=_0x5a6647);}if(_0x33c6e5['chatLog'][_0x40daf7(0x6e1)]&&_0x9cd286['saveVariable']){_0x33c6e5[_0x40daf7(0x291)]['realVariables'][_0x9cd286[_0x40daf7(0x2af)]]=_0xcf1d61;let _0x259b0d={'variable':_0x9cd286['saveVariable'],'oldValue':_0xd6916d,'newValue':_0xcf1d61,'moreLogs':_0x3a9398};try{this['updateConversation'](_0x33c6e5,_0x9cd286,_0x259b0d);}catch(_0x1df023){console['error'](_0x40daf7(0x704)+_0x1df023['message']);}}return _0x144685;}catch(_0x1c56da){return console[_0x40daf7(0x2bd)](_0x40daf7(0x2f9)+_0x1c56da[_0x40daf7(0x25f)]),null;}}async[a0_0x5e0602(0x1eb)](_0x51fb27,_0x1a2eee){const _0x35bb3d=a0_0x5e0602;try{let _0x45400d=[],_0x2917c9=_0x51fb27[_0x35bb3d(0x663)]['filter'](_0x34c2ea=>_0x34c2ea[_0x35bb3d(0x2fb)]===_0x1a2eee[_0x35bb3d(0x60f)][_0x35bb3d(0x35f)]()),_0x5cbcd5=null,_0x34c012=!0x1;for(let _0x1703b2 of _0x2917c9){let _0x53d820=this[_0x35bb3d(0x5da)](_0x51fb27,_0x1703b2);_0x45400d[_0x35bb3d(0x19f)](_0x35bb3d(0x46f)+_0x1703b2[_0x35bb3d(0x522)]+_0x35bb3d(0x52f)+_0x1703b2[_0x35bb3d(0x512)]+_0x35bb3d(0x6db)+_0x1703b2[_0x35bb3d(0x22b)]+_0x35bb3d(0x676)+_0x53d820),_0x5cbcd5===null?_0x5cbcd5=_0x53d820:_0x1703b2['OrAnd']==='and'?(_0x5cbcd5=_0x5cbcd5&&_0x53d820,_0x53d820||(_0x34c012=!0x0)):_0x1703b2[_0x35bb3d(0x39e)]==='or'&&(_0x34c012||(_0x5cbcd5=_0x5cbcd5||_0x53d820));}_0x5cbcd5===null&&(_0x5cbcd5=!0x0);let _0x20d691={'moreLogs':_0x45400d};_0x51fb27[_0x35bb3d(0x291)][_0x35bb3d(0x49b)]=_0x5cbcd5,await this[_0x35bb3d(0x3f4)](_0x51fb27,_0x1a2eee,_0x20d691);}catch(_0x36a102){this[_0x35bb3d(0x2d4)][_0x35bb3d(0x2bd)](this['instanceName']+'\x20('+this[_0x35bb3d(0x61a)][_0x35bb3d(0x396)]+_0x35bb3d(0x56b)+_0x36a102);}}[a0_0x5e0602(0x5da)](_0x115137,_0x4835f2){const _0x5750f2=a0_0x5e0602;let _0x16443e=_0x4835f2[_0x5750f2(0x522)],_0x312a96=_0x4835f2['secondValue'];typeof _0x16443e==_0x5750f2(0x30f)&&(_0x16443e=this['replaceVariables'](_0x16443e,_0x115137[_0x5750f2(0x291)]['realVariables'])??''),typeof _0x312a96==_0x5750f2(0x30f)&&(_0x312a96=this['replaceVariables'](_0x312a96,_0x115137[_0x5750f2(0x291)]['realVariables'])??'');try{switch(_0x4835f2[_0x5750f2(0x512)]){case _0x5750f2(0x563):return _0x16443e===_0x312a96;case'notEqual':return _0x16443e!==_0x312a96;case _0x5750f2(0x625):return _0x16443e['includes'](_0x312a96);case'notContains':return!_0x16443e[_0x5750f2(0x215)](_0x312a96);case'greater':return parseFloat(_0x16443e)>parseFloat(_0x312a96);case'less':return parseFloat(_0x16443e)<parseFloat(_0x312a96);case _0x5750f2(0x604):return _0x16443e!=='';case _0x5750f2(0x448):return _0x16443e==='';case _0x5750f2(0x72c):return new RegExp(_0x312a96)[_0x5750f2(0x662)](_0x16443e);case'notMatchRegex':return!new RegExp(_0x312a96)[_0x5750f2(0x662)](_0x16443e);default:return!0x1;}}catch(_0x2f63f4){return console[_0x5750f2(0x2bd)](_0x5750f2(0x586)+_0x2f63f4),!0x1;}}['processConditionsTest'](_0x5f02c6){const _0x2ca1c0=a0_0x5e0602;let _0x46fd34=!0x0,_0x4980cb=null;for(let _0x155bed of _0x5f02c6){let _0x29e4d9=this['evaluateConditionTest'](_0x155bed);if(_0x4980cb==='or'&&_0x29e4d9){_0x46fd34=!0x0;break;}if(_0x4980cb===_0x2ca1c0(0x613)&&!_0x29e4d9){_0x46fd34=!0x1;break;}_0x4980cb=_0x155bed[_0x2ca1c0(0x39e)];}return _0x46fd34;}[a0_0x5e0602(0x4f2)](_0x92261b){const _0x394ca0=a0_0x5e0602;let _0x3ec10d=_0x92261b[_0x394ca0(0x522)],_0x11ae04=_0x92261b[_0x394ca0(0x22b)];try{switch(_0x92261b[_0x394ca0(0x512)]){case _0x394ca0(0x563):return String(_0x3ec10d)===String(_0x11ae04);case _0x394ca0(0x4e1):return String(_0x3ec10d)!==String(_0x11ae04);case _0x394ca0(0x625):return String(_0x3ec10d)[_0x394ca0(0x215)](String(_0x11ae04));case _0x394ca0(0x6aa):return!String(_0x3ec10d)['includes'](String(_0x11ae04));case _0x394ca0(0x3c3):return parseFloat(String(_0x3ec10d))>parseFloat(String(_0x11ae04));case _0x394ca0(0x5ba):return parseFloat(String(_0x3ec10d))<parseFloat(String(_0x11ae04));case _0x394ca0(0x604):return String(_0x3ec10d)!=='';case'empty':return String(_0x3ec10d)==='';case _0x394ca0(0x72c):return new RegExp(String(_0x11ae04))['test'](String(_0x3ec10d));case _0x394ca0(0x4e4):return!new RegExp(String(_0x11ae04))[_0x394ca0(0x662)](String(_0x3ec10d));default:return!0x1;}}catch(_0x182b96){return console[_0x394ca0(0x2bd)](_0x394ca0(0x586)+_0x182b96),!0x1;}}async[a0_0x5e0602(0x68d)](_0xe03d6f,_0x10a9be){const _0x2314a3=a0_0x5e0602;if(this[_0x2314a3(0x2d4)][_0x2314a3(0x27f)](this[_0x2314a3(0x32a)]+'\x20('+this[_0x2314a3(0x61a)][_0x2314a3(0x396)]+_0x2314a3(0x1d1)),!_0xe03d6f||!_0x10a9be)return this[_0x2314a3(0x2d4)][_0x2314a3(0x2bd)](this[_0x2314a3(0x32a)]+'\x20('+this[_0x2314a3(0x61a)]['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x4f0e24=_0x10a9be[_0x2314a3(0x2af)],_0x269445=_0xe03d6f[_0x2314a3(0x291)]['lastReceivedMessage'][_0x2314a3(0x711)]||_0xe03d6f[_0x2314a3(0x291)][_0x2314a3(0x1dd)]['caption']||_0xe03d6f['chatLog']['lastReceivedMessage'][_0x2314a3(0x36d)];try{_0xe03d6f[_0x2314a3(0x291)]['realVariables']||(_0xe03d6f[_0x2314a3(0x291)][_0x2314a3(0x6e1)]={});let _0x3daff4=_0xe03d6f['chatLog']['realVariables'][_0x4f0e24];_0xe03d6f['chatLog'][_0x2314a3(0x6e1)][_0x4f0e24]=_0x269445;let _0x27d09d={'variable':_0x4f0e24,'oldValue':_0x3daff4,'newValue':_0x269445};this[_0x2314a3(0x3f4)](_0xe03d6f,_0x10a9be,_0x27d09d),this[_0x2314a3(0x2d4)]['verbose'](this[_0x2314a3(0x32a)]+'\x20('+this[_0x2314a3(0x61a)][_0x2314a3(0x396)]+_0x2314a3(0x217));}catch(_0x305f51){let _0x34fdb5={'error':!0x0,'errorLog':_0x305f51['toString']()};return this[_0x2314a3(0x3f4)](_0xe03d6f,_0x10a9be,_0x34fdb5),this[_0x2314a3(0x2d4)][_0x2314a3(0x2bd)](this[_0x2314a3(0x32a)]+'\x20('+this[_0x2314a3(0x61a)][_0x2314a3(0x396)]+_0x2314a3(0x2f5)+_0x305f51[_0x2314a3(0x25f)]),null;}}async['stopConversation'](_0x26ca9e,_0x572620){const _0x560c94=a0_0x5e0602;if(this[_0x560c94(0x2d4)][_0x560c94(0x27f)](this['instanceName']+'\x20('+this[_0x560c94(0x61a)][_0x560c94(0x396)]+_0x560c94(0x435)),!_0x26ca9e||!_0x572620)return this[_0x560c94(0x2d4)][_0x560c94(0x2bd)](this[_0x560c94(0x32a)]+'\x20('+this[_0x560c94(0x61a)][_0x560c94(0x396)]+_0x560c94(0x6d4)),null;let _0x646e5f=Date['now'](),_0x5d8a9d=parseInt(_0x572620[_0x560c94(0x403)],0xa);if(isNaN(_0x5d8a9d))return this[_0x560c94(0x2d4)][_0x560c94(0x2bd)](this[_0x560c94(0x32a)]+'\x20('+this[_0x560c94(0x61a)][_0x560c94(0x396)]+_0x560c94(0x50c)),null;let _0x224b18={'newStoppedUntil':_0x646e5f+_0x5d8a9d*0x3c*0x3e8};return await this[_0x560c94(0x3f4)](_0x26ca9e,_0x572620,_0x224b18,!0x0),null;}async[a0_0x5e0602(0x2d2)](_0x409cf2,_0x5600ba,_0x5c9f76){const _0x262e1c=a0_0x5e0602;try{switch(_0x5600ba['uazapi'][_0x262e1c(0x16c)]){case _0x262e1c(0x521):await this['uazapiSendText'](_0x409cf2,_0x5600ba,_0x5c9f76);break;case _0x262e1c(0x5e1):await this[_0x262e1c(0x5a6)](_0x409cf2,_0x5600ba,_0x5c9f76);break;case _0x262e1c(0x497):await this['uazapiSendLocation'](_0x409cf2,_0x5600ba,_0x5c9f76);break;case _0x262e1c(0x68f):await this[_0x262e1c(0x5ec)](_0x409cf2,_0x5600ba,_0x5c9f76);break;case'sendContact':await this['uazapiSendContact'](_0x409cf2,_0x5600ba,_0x5c9f76);break;case _0x262e1c(0x5f9):await this['uazapiSendPoll'](_0x409cf2,_0x5600ba,_0x5c9f76);break;case _0x262e1c(0x5ce):await this[_0x262e1c(0x2e1)](_0x409cf2,_0x5600ba,_0x5c9f76);break;default:this[_0x262e1c(0x2d4)][_0x262e1c(0x2bd)](this['instanceName']+'\x20('+this[_0x262e1c(0x61a)][_0x262e1c(0x396)]+_0x262e1c(0x660)+_0x5600ba[_0x262e1c(0x28f)][_0x262e1c(0x16c)]);}}catch(_0xea6f1c){this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x262e1c(0x396)]+_0x262e1c(0x724)+_0xea6f1c);}}async[a0_0x5e0602(0x3f4)](_0x11118c,_0x403612,_0x574ae7,_0x4c686a=!0x1,_0x5415bb=!0x1){const _0x1c4cf3=a0_0x5e0602;_0x11118c['chatLog'][_0x1c4cf3(0x41e)]||(_0x11118c[_0x1c4cf3(0x291)][_0x1c4cf3(0x41e)]=[]);let _0x2fee82=(_0x11118c[_0x1c4cf3(0x291)]['blockLogs']?.[_0x1c4cf3(0x3f7)]??0x0)+0x1,_0x55f5c2=_0x11118c[_0x1c4cf3(0x291)][_0x1c4cf3(0x41e)][_0x1c4cf3(0x6d8)](_0x3089e8=>String(_0x3089e8[_0x1c4cf3(0x2fb)])===String(_0x403612[_0x1c4cf3(0x60f)]))[_0x1c4cf3(0x3f7)]+0x1,_0x10bfdd=_0x574ae7?.['onTime']??Date[_0x1c4cf3(0x369)](),_0x3b2acc=_0x574ae7?.['error']?_0x574ae7['errorLog']??_0x574ae7[_0x1c4cf3(0x2bd)]['toString']():void 0x0,_0x58fb46={'onTime':_0x10bfdd,'blockId':_0x403612[_0x1c4cf3(0x60f)],'order':_0x2fee82,'activatedCount':_0x55f5c2,'error':_0x574ae7?.[_0x1c4cf3(0x2bd)]??!0x1,'messageId':_0x574ae7?.['messageId'],'apiResponse':_0x574ae7?.[_0x1c4cf3(0x2b6)],'apiResponseString':_0x574ae7?.[_0x1c4cf3(0x2b6)]?JSON[_0x1c4cf3(0x408)](_0x574ae7?.['apiResponse']):void 0x0,'variable':_0x574ae7?.[_0x1c4cf3(0x56a)],'oldValue':_0x574ae7?.[_0x1c4cf3(0x525)],'newValue':_0x574ae7?.[_0x1c4cf3(0x678)],'newStoppedUntil':_0x574ae7?.[_0x1c4cf3(0x4d7)],'moreLogs':_0x574ae7?.['moreLogs'],'errorLog':_0x3b2acc};if(_0x574ae7[_0x1c4cf3(0x27c)]&&_0x574ae7[_0x1c4cf3(0x27c)]['length']>0x0){let _0x441b3f=_0x574ae7[_0x1c4cf3(0x27c)][_0x1c4cf3(0x503)](_0x432edc=>this[_0x1c4cf3(0x335)](_0x432edc,_0x11118c[_0x1c4cf3(0x291)][_0x1c4cf3(0x6e1)]));_0x58fb46[_0x1c4cf3(0x27c)]=_0x441b3f;}_0x11118c[_0x1c4cf3(0x291)][_0x1c4cf3(0x6e1)]||(_0x11118c[_0x1c4cf3(0x291)]['realVariables']={}),_0x11118c[_0x1c4cf3(0x291)][_0x1c4cf3(0x6e1)][_0x1c4cf3(0x2ec)]=String(_0x55f5c2),_0x11118c['chatLog'][_0x1c4cf3(0x6e1)][_0x1c4cf3(0x55d)]=String(_0x574ae7[_0x1c4cf3(0x2bd)]??!0x1),_0x11118c[_0x1c4cf3(0x291)][_0x1c4cf3(0x41e)]['push'](_0x58fb46),_0x11118c[_0x1c4cf3(0x291)][_0x1c4cf3(0x1a6)]=_0x403612['_id'][_0x1c4cf3(0x35f)](),_0x11118c['chatLog']['lastSendMessage']&&(_0x11118c[_0x1c4cf3(0x291)]['lastSendMessage']=_0x11118c[_0x1c4cf3(0x291)]['lastSendMessage']),_0x11118c[_0x1c4cf3(0x291)][_0x1c4cf3(0x1dd)]&&(_0x11118c['chatLog']['lastReceivedMessage']=_0x11118c[_0x1c4cf3(0x291)][_0x1c4cf3(0x1dd)]),_0x11118c[_0x1c4cf3(0x291)][_0x1c4cf3(0x49b)]&&(_0x11118c[_0x1c4cf3(0x291)]['lastCondition']=_0x11118c[_0x1c4cf3(0x291)][_0x1c4cf3(0x49b)]),_0x5415bb&&(_0x11118c[_0x1c4cf3(0x5a7)]='closed'),_0x4c686a?this[_0x1c4cf3(0x6bf)](_0x11118c):this[_0x1c4cf3(0x57d)](_0x11118c,_0x403612);}[a0_0x5e0602(0x335)](_0x5bc71e,_0x5f196f){const _0x244fb5=a0_0x5e0602;return _0x5bc71e[_0x244fb5(0x480)](/\{\{([^}]+)\}\}/g,(_0x30953c,_0x22d9a2)=>_0x5f196f[_0x22d9a2]?'{{'+_0x22d9a2+'}}\x20->\x20\x22'+_0x5f196f[_0x22d9a2]+'\x22':'{{'+_0x22d9a2+'}}\x20->\x20valor\x20não\x20encontrado');}async[a0_0x5e0602(0x6bf)](_0x3569ba){const _0x1a8086=a0_0x5e0602;try{let _0x2099a2=Object['entries'](_0x3569ba[_0x1a8086(0x291)][_0x1a8086(0x6e1)])[_0x1a8086(0x503)](([_0x4f887d,_0x482df7])=>({'name':_0x4f887d,'value':_0x482df7})),_0x9084f0=await j[_0x1a8086(0x5db)]({'_id':_0x3569ba[_0x1a8086(0x60f)]},{'$set':{'chatLog.lastBlockId':_0x3569ba[_0x1a8086(0x291)][_0x1a8086(0x1a6)],'blocks':_0x3569ba[_0x1a8086(0x2b8)],'chatLog.lastSendMessage':_0x3569ba[_0x1a8086(0x291)]['lastSendMessage'],'chatLog.lastReceivedMessage':_0x3569ba[_0x1a8086(0x291)]['lastReceivedMessage'],'chatLog.lastCondition':_0x3569ba[_0x1a8086(0x291)][_0x1a8086(0x49b)],'chatLog.chatVariables':_0x2099a2,'chatLog.realVariables':_0x3569ba[_0x1a8086(0x291)][_0x1a8086(0x6e1)],'status':_0x3569ba[_0x1a8086(0x5a7)],'chatLog.blockLogs':_0x3569ba['chatLog'][_0x1a8086(0x41e)],'waitingPoll_id':_0x3569ba['waitingPoll_id'],'waitingPoll_name':_0x3569ba[_0x1a8086(0x1f8)],'waitingPoll_replyOptions':_0x3569ba['waitingPoll_replyOptions']}},{'new':!0x0});if(_0x9084f0){this[_0x1a8086(0x2d4)][_0x1a8086(0x27f)](this[_0x1a8086(0x32a)]+'\x20('+this[_0x1a8086(0x61a)]['wuid']+_0x1a8086(0x5f6)+_0x9084f0[_0x1a8086(0x60f)]);try{let _0x1fa854=[_0x1a8086(0x5a4),'nomecompleto','email','cpf','status',_0x1a8086(0x293),_0x1a8086(0x5dd),_0x1a8086(0x709)];if(!this[_0x1a8086(0x543)]&&(await this[_0x1a8086(0x2da)](),!this['AutomateSystem']))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x47b884=this[_0x1a8086(0x543)]?.[_0x1a8086(0x1e3)]['map'](_0x60d79a=>_0x60d79a[_0x1a8086(0x5e4)]),_0x3cadfc={};Object[_0x1a8086(0x63b)](_0x3569ba[_0x1a8086(0x291)]['realVariables'])[_0x1a8086(0x732)](([_0x48d444,_0x6a166e])=>{const _0x3c7b5e=_0x1a8086;_0x1fa854[_0x3c7b5e(0x215)](_0x48d444)&&(_0x48d444===_0x3c7b5e(0x709)&&typeof _0x6a166e==_0x3c7b5e(0x30f)?_0x3cadfc[_0x48d444]=_0x6a166e['split'](',')['map'](_0x408322=>_0x408322[_0x3c7b5e(0x1db)]())[_0x3c7b5e(0x6d8)](_0x11effc=>_0x11effc!==''):_0x3cadfc[_0x48d444]=_0x6a166e);});let _0x56e443=_0x3569ba['chatLog'][_0x1a8086(0x41e)][_0x3569ba[_0x1a8086(0x291)][_0x1a8086(0x41e)][_0x1a8086(0x3f7)]-0x1];if(_0x56e443){let _0x8dcc5b=_0x56e443['newStoppedUntil'];_0x8dcc5b!==void 0x0&&(_0x3cadfc[_0x1a8086(0x5b6)]=_0x8dcc5b['toString']());}let _0x1fd2bd=_0x2099a2[_0x1a8086(0x6d8)](_0xa4a04d=>_0x47b884[_0x1a8086(0x215)](_0xa4a04d[_0x1a8086(0x5e4)]));this[_0x1a8086(0x2d4)][_0x1a8086(0x27f)](this[_0x1a8086(0x32a)]+'\x20('+this[_0x1a8086(0x61a)][_0x1a8086(0x396)]+_0x1a8086(0x24e)),this[_0x1a8086(0x2d4)]['verbose'](_0x3cadfc),this['logger'][_0x1a8086(0x27f)](this['instanceName']+'\x20('+this[_0x1a8086(0x61a)]['wuid']+_0x1a8086(0x31d)),this['logger'][_0x1a8086(0x27f)](_0x1fd2bd);let _0x57f03d=_0x1fd2bd['map'](_0xf9190=>{const _0x4b7885=_0x1a8086;let _0x265d56=this[_0x4b7885(0x543)]?.[_0x4b7885(0x1e3)]['find'](_0x3a6c29=>_0x3a6c29[_0x4b7885(0x5e4)]===_0xf9190[_0x4b7885(0x5e4)]);if(!_0x265d56)throw new Error(_0x4b7885(0x6ad)+_0xf9190[_0x4b7885(0x5e4)]);return{'_id':_0x265d56['_id'],'value':_0xf9190[_0x4b7885(0x189)]};});this[_0x1a8086(0x2d4)][_0x1a8086(0x27f)](this['instanceName']+'\x20('+this[_0x1a8086(0x61a)]['wuid']+_0x1a8086(0x20f)),this[_0x1a8086(0x2d4)][_0x1a8086(0x27f)](_0x57f03d),await this[_0x1a8086(0x3f2)](_0x3569ba[_0x1a8086(0x51c)],_0x3cadfc,_0x57f03d);}catch(_0xef5daf){this['logger'][_0x1a8086(0x2bd)](this[_0x1a8086(0x32a)]+'\x20('+this[_0x1a8086(0x61a)][_0x1a8086(0x396)]+_0x1a8086(0x304)+JSON[_0x1a8086(0x408)](_0xef5daf));}}else this[_0x1a8086(0x2d4)][_0x1a8086(0x2bd)](this['instanceName']+'\x20('+this[_0x1a8086(0x61a)][_0x1a8086(0x396)]+_0x1a8086(0x477));}catch(_0x23b81d){this[_0x1a8086(0x2d4)][_0x1a8086(0x2bd)](this[_0x1a8086(0x32a)]+'\x20('+this[_0x1a8086(0x61a)]['wuid']+'):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20'+JSON[_0x1a8086(0x408)](_0x23b81d));}}async[a0_0x5e0602(0x3f2)](_0x29bcad,_0x499d6,_0x2c8bb1){const _0x200416=a0_0x5e0602;try{let _0x2e037e={'leadInfo.leadnome':_0x499d6['nome'],'leadInfo.nomecompleto':_0x499d6['nomecompleto'],'leadInfo.email':_0x499d6[_0x200416(0x287)],'leadInfo.cpf':_0x499d6['cpf'],'leadInfo.status':_0x499d6[_0x200416(0x5a7)],'leadInfo.notas':_0x499d6['notas'],'leadInfo.responsavelid':_0x499d6['responsavelid'],'leadInfo.tags':_0x499d6['tags'],'leadInfo.customFields':_0x2c8bb1};if(_0x200416(0x5b6)in _0x499d6){let _0x53cab5=_0x499d6[_0x200416(0x5b6)];_0x2e037e[_0x200416(0x5ae)]=_0x53cab5?Number(_0x53cab5):null;}let _0x5e0053=await this[_0x200416(0x323)][_0x200416(0x17a)][_0x200416(0x619)]({'where':{'_id':_0x29bcad,'owner':this['instance'][_0x200416(0x396)]}},_0x2e037e);_0x5e0053?(this[_0x200416(0x2d4)][_0x200416(0x27f)](this[_0x200416(0x32a)]+'\x20('+this['instance'][_0x200416(0x396)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20'+_0x5e0053[_0x200416(0x60f)]),B(this[_0x200416(0x32a)],'chats',{'chat':_0x5e0053})):this['logger']['error'](this[_0x200416(0x32a)]+'\x20('+this[_0x200416(0x61a)]['wuid']+_0x200416(0x1b4));}catch(_0x68077){this[_0x200416(0x2d4)][_0x200416(0x2bd)](this[_0x200416(0x32a)]+'\x20('+this[_0x200416(0x61a)]['wuid']+_0x200416(0x2a8)+_0x68077);}}async[a0_0x5e0602(0x489)](_0x4b1ce4,_0x103d0d){const _0x10a88d=a0_0x5e0602;this[_0x10a88d(0x2d4)][_0x10a88d(0x27f)](this['instanceName']+'\x20('+this[_0x10a88d(0x61a)][_0x10a88d(0x396)]+_0x10a88d(0x349)+_0x103d0d);try{let _0x3f2046=await this[_0x10a88d(0x323)][_0x10a88d(0x17a)]['updateOne']({'where':{'_id':_0x4b1ce4[_0x10a88d(0x51c)],'owner':_0x4b1ce4[_0x10a88d(0x367)]}},{'leadInfo.desativadoFluxoAte':_0x103d0d});this[_0x10a88d(0x2d4)][_0x10a88d(0x27f)](this[_0x10a88d(0x32a)]+'\x20('+this[_0x10a88d(0x61a)]['wuid']+_0x10a88d(0x2f6)+_0x4b1ce4['_id']),this[_0x10a88d(0x2d4)]['verbose'](this['instanceName']+'\x20('+this[_0x10a88d(0x61a)][_0x10a88d(0x396)]+'):\x20atualização\x20chat:\x20'+JSON[_0x10a88d(0x408)](_0x3f2046,null,0x2)),_0x3f2046&&B(this[_0x10a88d(0x32a)],'chats',{'chat':_0x3f2046});}catch(_0x3eda03){this[_0x10a88d(0x2d4)][_0x10a88d(0x2bd)](this['instanceName']+'\x20('+this[_0x10a88d(0x61a)][_0x10a88d(0x396)]+_0x10a88d(0x173)+JSON[_0x10a88d(0x408)](_0x3eda03));}}async['findFlow'](_0x30cee5,_0x53a3b1){const _0x4df917=a0_0x5e0602;try{this[_0x4df917(0x2d4)][_0x4df917(0x27f)](this['instanceName']+'\x20('+this[_0x4df917(0x61a)]['wuid']+_0x4df917(0x257));let _0xc20006=_0x53a3b1[_0x4df917(0x480)](/\D/g,''),_0x3bdfa0=await I[_0x4df917(0x648)]({'owner':_0x30cee5,'testingWith':_0xc20006});return _0x3bdfa0||(this[_0x4df917(0x2d4)][_0x4df917(0x27f)](this[_0x4df917(0x32a)]+'\x20('+this[_0x4df917(0x61a)][_0x4df917(0x396)]+_0x4df917(0x36a)),_0x3bdfa0=await I[_0x4df917(0x648)]({'owner':_0x30cee5,'default':!0x0})),_0x3bdfa0||(this['logger']['verbose'](this[_0x4df917(0x32a)]+'\x20('+this[_0x4df917(0x61a)][_0x4df917(0x396)]+_0x4df917(0x717)),null);}catch(_0x321f73){return this[_0x4df917(0x2d4)][_0x4df917(0x2bd)](this['instanceName']+'\x20('+this[_0x4df917(0x61a)][_0x4df917(0x396)]+_0x4df917(0x4a6)+_0x321f73),null;}}async[a0_0x5e0602(0x706)](_0x3993d3,_0x470fc2,_0x3f676e){const _0x22b26e=a0_0x5e0602;try{let _0x5b5773=!!_0x3f676e[_0x22b26e(0x36d)],_0x493618=_0x3f676e[_0x22b26e(0x5eb)],_0xfbb25c=null;if(this['logger'][_0x22b26e(0x27f)](this['instanceName']+'\x20('+this[_0x22b26e(0x61a)]['wuid']+_0x22b26e(0x41b)+_0x5b5773+_0x22b26e(0x5eb)+_0x493618),_0x5b5773)return this[_0x22b26e(0x2d4)][_0x22b26e(0x27f)](this['instanceName']+'\x20('+this[_0x22b26e(0x61a)]['wuid']+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto'),_0xfbb25c=await j[_0x22b26e(0x648)]({'owner':_0x3993d3,'remoteJid':_0x470fc2,'waitingPoll_id':_0x493618}),_0xfbb25c?(_0xfbb25c[_0x22b26e(0x47d)]=Date['now'](),_0xfbb25c[_0x22b26e(0x291)][_0x22b26e(0x1dd)]=_0x3f676e,_0xfbb25c):(this['logger'][_0x22b26e(0x27f)](this[_0x22b26e(0x32a)]+'\x20('+this['instance'][_0x22b26e(0x396)]+'):\x20não\x20encontrou'),null);{if(this[_0x22b26e(0x2d4)]['verbose'](this[_0x22b26e(0x32a)]+'\x20('+this[_0x22b26e(0x61a)][_0x22b26e(0x396)]+_0x22b26e(0x3d4)+this[_0x22b26e(0x61a)][_0x22b26e(0x396)]+'não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this['logger'][_0x22b26e(0x27f)](this[_0x22b26e(0x32a)]+'\x20('+this['instance'][_0x22b26e(0x396)]+_0x22b26e(0x36b)),_0xfbb25c=await j[_0x22b26e(0x648)]({'owner':_0x3993d3,'remoteJid':_0x470fc2,'status':'open'}),!_0xfbb25c){let _0x232763=await this[_0x22b26e(0x3a2)](_0x3993d3,_0x470fc2);if(_0x232763&&(_0xfbb25c=await this[_0x22b26e(0x392)](_0x232763,_0x3f676e['key'],_0x3f676e)),!_0xfbb25c)return null;}let _0x2760ed=Date[_0x22b26e(0x369)](),_0x213a78=_0xfbb25c?.['minutesToClose']||0x0,_0x24d101=_0x2760ed-_0x213a78*0x3c*0x3e8;if(this[_0x22b26e(0x2d4)][_0x22b26e(0x27f)](this[_0x22b26e(0x32a)]+'\x20('+this[_0x22b26e(0x61a)][_0x22b26e(0x396)]+'):\x20Current\x20Time:\x20'+_0x2760ed+_0x22b26e(0x36f)+_0x213a78+_0x22b26e(0x2ba)+_0x24d101),this[_0x22b26e(0x2d4)]['verbose'](this[_0x22b26e(0x32a)]+'\x20('+this['instance'][_0x22b26e(0x396)]+_0x22b26e(0x1bf)),this[_0x22b26e(0x2d4)][_0x22b26e(0x27f)](this[_0x22b26e(0x32a)]+'\x20('+this[_0x22b26e(0x61a)][_0x22b26e(0x396)]+'):\x20conversation.lastInteraction:\x20'+_0xfbb25c[_0x22b26e(0x47d)]),this['logger'][_0x22b26e(0x27f)](this[_0x22b26e(0x32a)]+'\x20('+this[_0x22b26e(0x61a)][_0x22b26e(0x396)]+_0x22b26e(0x410)+_0x24d101),_0xfbb25c[_0x22b26e(0x47d)]<_0x24d101){this[_0x22b26e(0x2d4)][_0x22b26e(0x27f)](this[_0x22b26e(0x32a)]+'\x20('+this['instance']['wuid']+_0x22b26e(0x6df));let _0x293446=await this['findFlow'](_0x3993d3,_0x470fc2);if(_0x293446===null)return null;_0xfbb25c&&await j['updateOne']({'_id':_0xfbb25c[_0x22b26e(0x60f)]},{'status':_0x22b26e(0x59b)}),_0xfbb25c=await this[_0x22b26e(0x392)](_0x293446,_0x3f676e['key'],_0x3f676e);}return _0xfbb25c[_0x22b26e(0x47d)]=_0x2760ed,_0xfbb25c['chatLog'][_0x22b26e(0x1dd)]=_0x3f676e,_0xfbb25c;}}catch(_0x385917){return this[_0x22b26e(0x2d4)]['error'](this[_0x22b26e(0x32a)]+'\x20('+this[_0x22b26e(0x61a)]['wuid']+_0x22b26e(0x355)+_0x385917),null;}}async[a0_0x5e0602(0x392)](_0x3b398e,_0x337690,_0x120b11){const _0x595050=a0_0x5e0602;this[_0x595050(0x2d4)][_0x595050(0x27f)](this[_0x595050(0x32a)]+'\x20('+this['instance']['wuid']+_0x595050(0x1a9));try{let _0x23d7e2=require(_0x595050(0x5b3))['ObjectId'],_0x215115=Date[_0x595050(0x369)](),_0x330da3=_0x595050(0x1d3),_0x3d25f6=_0x337690[_0x595050(0x6a7)]?null:_0x120b11,_0x29d8b9=_0x337690['fromMe']?_0x120b11:null,_0x461c76=_0x337690[_0x595050(0x51c)];await this[_0x595050(0x6b2)](_0x461c76);let _0xdafb46={..._0x3b398e[_0x595050(0x6a3)],'chatLog':null},_0xd0bb1c=await this[_0x595050(0x686)](_0xdafb46[_0x595050(0x5e6)]),_0x5018e8=await this[_0x595050(0x630)](_0x461c76),_0x4bd32c={..._0xd0bb1c,..._0x5018e8,'_remoteJid':_0x461c76},_0x56ac92={'lastReceivedMessage':_0x3d25f6,'lastSendMessage':_0x29d8b9,'lastBlockId':_0x330da3,'lastCondition':!0x0,'realVariables':_0x4bd32c};_0xdafb46['chatLog']=_0x56ac92,delete _0xdafb46[_0x595050(0x60f)],_0xdafb46[_0x595050(0x60f)]=new _0x23d7e2(),_0xdafb46[_0x595050(0x47d)]=_0x215115,_0xdafb46[_0x595050(0x5a7)]=_0x595050(0x411),_0xdafb46[_0x595050(0x51c)]=_0x461c76;let _0xa681b4=await j['create'](_0xdafb46);return this[_0x595050(0x2d4)][_0x595050(0x27f)](this[_0x595050(0x32a)]+'\x20('+this[_0x595050(0x61a)][_0x595050(0x396)]+_0x595050(0x5ac)),_0xa681b4?_0xdafb46:null;}catch(_0x185254){return this[_0x595050(0x2d4)][_0x595050(0x2bd)](this[_0x595050(0x32a)]+'\x20('+this['instance'][_0x595050(0x396)]+_0x595050(0x2de)+_0x185254),_0x185254;}}async[a0_0x5e0602(0x596)](_0xe5395c,_0x4e9fee,_0x5e804d){const _0x1ac10c=a0_0x5e0602;this[_0x1ac10c(0x2d4)][_0x1ac10c(0x27f)](this[_0x1ac10c(0x32a)]+'\x20('+this[_0x1ac10c(0x61a)]['wuid']+'):\x20Enviando\x20texto');let _0x4fd64e={'number':_0x5e804d,'options':{'delay':_0x4e9fee[_0x1ac10c(0x28f)][_0x1ac10c(0x42c)]},'textMessage':{'text':_0x4e9fee[_0x1ac10c(0x28f)][_0x1ac10c(0x711)]}};try{let _0x2a3877=await this['textMessage'](_0x4fd64e);if(_0x2a3877){let _0x5871d5={'_id':_0x2a3877[_0x1ac10c(0x32f)]['id'],'_fromMe':_0x2a3877['key']['fromMe'],'_remoteJid':_0x2a3877[_0x1ac10c(0x32f)]['remoteJid']};_0xe5395c[_0x1ac10c(0x291)][_0x1ac10c(0x1a6)]=_0x4e9fee[_0x1ac10c(0x60f)][_0x1ac10c(0x35f)]();let {message_normalized:_0x5b7382}=this[_0x1ac10c(0x6e0)](_0x2a3877[_0x1ac10c(0x25f)],J(_0x2a3877[_0x1ac10c(0x25f)]),null);_0xe5395c['chatLog'][_0x1ac10c(0x229)]=await _0x5b7382;let _0x1f6085={'messageId':_0x2a3877[_0x1ac10c(0x32f)]['id']},_0x3b477f=_0xe5395c[_0x1ac10c(0x291)][_0x1ac10c(0x6e1)];Object['assign'](_0x3b477f,_0x5871d5),_0xe5395c[_0x1ac10c(0x291)][_0x1ac10c(0x6e1)]=_0x3b477f,this[_0x1ac10c(0x3f4)](_0xe5395c,_0x4e9fee,_0x1f6085);}else{let _0x20e433={'error':!0x0};this[_0x1ac10c(0x3f4)](_0xe5395c,_0x4e9fee,_0x20e433),this[_0x1ac10c(0x2d4)][_0x1ac10c(0x2bd)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1ac10c(0x42b));}}catch(_0x3b77e5){let _0x2170b0={'error':!0x0,'errorLog':_0x3b77e5['toString']()};this[_0x1ac10c(0x3f4)](_0xe5395c,_0x4e9fee,_0x2170b0),this[_0x1ac10c(0x2d4)][_0x1ac10c(0x2bd)](this['instanceName']+'\x20('+this[_0x1ac10c(0x61a)][_0x1ac10c(0x396)]+_0x1ac10c(0x409)+_0x3b77e5['toString']());}}async[a0_0x5e0602(0x5a6)](_0x279a47,_0x32227e,_0x223d64){const _0x501ab7=a0_0x5e0602;this['logger'][_0x501ab7(0x27f)](this[_0x501ab7(0x32a)]+'\x20('+this[_0x501ab7(0x61a)][_0x501ab7(0x396)]+_0x501ab7(0x187));let _0x4c1bfa={'number':_0x223d64,'options':{'delay':_0x32227e[_0x501ab7(0x28f)]['delay']},'mediaMessage':{'mediatype':_0x32227e[_0x501ab7(0x28f)][_0x501ab7(0x17c)],'caption':_0x32227e[_0x501ab7(0x28f)][_0x501ab7(0x472)],'media':_0x32227e[_0x501ab7(0x28f)][_0x501ab7(0x69b)],'fileName':_0x32227e[_0x501ab7(0x28f)]['fileName']}};try{let _0x3effa8=await this[_0x501ab7(0x4aa)](_0x4c1bfa);if(_0x3effa8){let _0xab18c2={'_id':_0x3effa8['key']['id'],'_fromMe':_0x3effa8[_0x501ab7(0x32f)][_0x501ab7(0x6a7)],'_remoteJid':_0x3effa8[_0x501ab7(0x32f)][_0x501ab7(0x51c)]};_0x279a47[_0x501ab7(0x291)][_0x501ab7(0x1a6)]=_0x32227e[_0x501ab7(0x60f)][_0x501ab7(0x35f)]();let {message_normalized:_0x41651e}=this[_0x501ab7(0x6e0)](_0x3effa8[_0x501ab7(0x25f)],J(_0x3effa8[_0x501ab7(0x25f)]),null);_0x279a47[_0x501ab7(0x291)][_0x501ab7(0x229)]=await _0x41651e;let _0x3b5a67={'messageId':_0x3effa8[_0x501ab7(0x32f)]['id']},_0xff9591=_0x279a47[_0x501ab7(0x291)][_0x501ab7(0x6e1)];Object['assign'](_0xff9591,_0xab18c2),_0x279a47[_0x501ab7(0x291)][_0x501ab7(0x6e1)]=_0xff9591,this[_0x501ab7(0x3f4)](_0x279a47,_0x32227e,_0x3b5a67);}else{let _0x27ea62={'error':!0x0};this[_0x501ab7(0x3f4)](_0x279a47,_0x32227e,_0x27ea62),this[_0x501ab7(0x2d4)][_0x501ab7(0x2bd)](this[_0x501ab7(0x32a)]+'\x20('+this[_0x501ab7(0x61a)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x50a7f3){let _0x4e7445={'error':!0x0,'errorLog':_0x50a7f3[_0x501ab7(0x35f)]()};this[_0x501ab7(0x3f4)](_0x279a47,_0x32227e,_0x4e7445),this['logger'][_0x501ab7(0x2bd)](this[_0x501ab7(0x32a)]+'\x20('+this[_0x501ab7(0x61a)][_0x501ab7(0x396)]+_0x501ab7(0x18a)+_0x50a7f3[_0x501ab7(0x35f)]());}}async['uazapiSendLocation'](_0x3945d9,_0x215fa8,_0x30cf2e){const _0x45a0f2=a0_0x5e0602;this['logger'][_0x45a0f2(0x27f)](this['instanceName']+'\x20('+this[_0x45a0f2(0x61a)][_0x45a0f2(0x396)]+_0x45a0f2(0x3d8));let _0x3752e2={'number':_0x30cf2e,'options':{'delay':_0x215fa8['uazapi'][_0x45a0f2(0x42c)]},'locationMessage':{'name':_0x215fa8[_0x45a0f2(0x28f)][_0x45a0f2(0x5e4)],'address':_0x215fa8['uazapi'][_0x45a0f2(0x177)],'latitude':_0x215fa8['uazapi'][_0x45a0f2(0x2d5)],'longitude':_0x215fa8['uazapi'][_0x45a0f2(0x1b9)]}};try{let _0x4fb107=await this['locationMessage'](_0x3752e2);if(_0x4fb107){let _0x18bc42={'_id':_0x4fb107[_0x45a0f2(0x32f)]['id'],'_fromMe':_0x4fb107[_0x45a0f2(0x32f)][_0x45a0f2(0x6a7)],'_remoteJid':_0x4fb107[_0x45a0f2(0x32f)][_0x45a0f2(0x51c)]};_0x3945d9[_0x45a0f2(0x291)][_0x45a0f2(0x1a6)]=_0x215fa8[_0x45a0f2(0x60f)][_0x45a0f2(0x35f)]();let {message_normalized:_0x4d9a47}=this[_0x45a0f2(0x6e0)](_0x4fb107[_0x45a0f2(0x25f)],J(_0x4fb107[_0x45a0f2(0x25f)]),null);_0x3945d9[_0x45a0f2(0x291)][_0x45a0f2(0x229)]=await _0x4d9a47;let _0x2fe3ee={'messageId':_0x4fb107['key']['id']},_0x2a4b15=_0x3945d9['chatLog'][_0x45a0f2(0x6e1)];Object['assign'](_0x2a4b15,_0x18bc42),_0x3945d9['chatLog'][_0x45a0f2(0x6e1)]=_0x2a4b15,this[_0x45a0f2(0x3f4)](_0x3945d9,_0x215fa8,_0x2fe3ee);}else{let _0x5df6be={'error':!0x0};this[_0x45a0f2(0x3f4)](_0x3945d9,_0x215fa8,_0x5df6be),this[_0x45a0f2(0x2d4)][_0x45a0f2(0x2bd)](this[_0x45a0f2(0x32a)]+'\x20('+this[_0x45a0f2(0x61a)][_0x45a0f2(0x396)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.');}}catch(_0x4ac00f){let _0x49a9f6={'error':!0x0,'errorLog':_0x4ac00f[_0x45a0f2(0x35f)]()};this[_0x45a0f2(0x3f4)](_0x3945d9,_0x215fa8,_0x49a9f6),this[_0x45a0f2(0x2d4)][_0x45a0f2(0x2bd)](this[_0x45a0f2(0x32a)]+'\x20('+this['instance'][_0x45a0f2(0x396)]+_0x45a0f2(0x386)+_0x4ac00f['toString']());}}async['uazapiSendAudio'](_0x4930cc,_0x12d416,_0x59fc55){const _0x2b07aa=a0_0x5e0602;this['logger'][_0x2b07aa(0x27f)](this[_0x2b07aa(0x32a)]+'\x20('+this[_0x2b07aa(0x61a)][_0x2b07aa(0x396)]+_0x2b07aa(0x214));let _0x1f2027={'number':_0x59fc55,'options':{'delay':_0x12d416[_0x2b07aa(0x28f)][_0x2b07aa(0x42c)]},'audioMessage':{'audio':_0x12d416['uazapi'][_0x2b07aa(0x25e)]}};try{let _0x9d0453=await this[_0x2b07aa(0x272)](_0x1f2027);if(_0x9d0453){let _0x3700ec={'_id':_0x9d0453[_0x2b07aa(0x32f)]['id'],'_fromMe':_0x9d0453[_0x2b07aa(0x32f)]['fromMe'],'_remoteJid':_0x9d0453[_0x2b07aa(0x32f)][_0x2b07aa(0x51c)]};_0x4930cc['chatLog'][_0x2b07aa(0x1a6)]=_0x12d416['_id']['toString']();let {message_normalized:_0x55fc9b}=this[_0x2b07aa(0x6e0)](_0x9d0453[_0x2b07aa(0x25f)],J(_0x9d0453['message']),null);_0x4930cc[_0x2b07aa(0x291)][_0x2b07aa(0x229)]=await _0x55fc9b;let _0xfc0daf={'messageId':_0x9d0453[_0x2b07aa(0x32f)]['id']},_0x12dfc2=_0x4930cc[_0x2b07aa(0x291)][_0x2b07aa(0x6e1)];Object[_0x2b07aa(0x4b1)](_0x12dfc2,_0x3700ec),_0x4930cc[_0x2b07aa(0x291)][_0x2b07aa(0x6e1)]=_0x12dfc2,this[_0x2b07aa(0x3f4)](_0x4930cc,_0x12d416,_0xfc0daf);}else{let _0x1792a4={'error':!0x0};this[_0x2b07aa(0x3f4)](_0x4930cc,_0x12d416,_0x1792a4),this[_0x2b07aa(0x2d4)][_0x2b07aa(0x2bd)](this[_0x2b07aa(0x32a)]+'\x20('+this[_0x2b07aa(0x61a)][_0x2b07aa(0x396)]+_0x2b07aa(0x397));}}catch(_0xcfaa3b){let _0x4c497a={'error':!0x0,'errorLog':_0xcfaa3b[_0x2b07aa(0x35f)]()};this[_0x2b07aa(0x3f4)](_0x4930cc,_0x12d416,_0x4c497a),this[_0x2b07aa(0x2d4)][_0x2b07aa(0x2bd)](this[_0x2b07aa(0x32a)]+'\x20('+this['instance'][_0x2b07aa(0x396)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+_0xcfaa3b[_0x2b07aa(0x35f)]());}}async[a0_0x5e0602(0x347)](_0x36265d,_0x5e3d55,_0xfd746f){const _0x1fd1ce=a0_0x5e0602;this['logger'][_0x1fd1ce(0x27f)](this[_0x1fd1ce(0x32a)]+'\x20('+this[_0x1fd1ce(0x61a)][_0x1fd1ce(0x396)]+_0x1fd1ce(0x62b));let _0x4d6303={'number':_0xfd746f,'options':{'delay':_0x5e3d55[_0x1fd1ce(0x28f)][_0x1fd1ce(0x42c)]},'contactMessage':[{'fullName':_0x5e3d55[_0x1fd1ce(0x28f)][_0x1fd1ce(0x419)],'phoneNumber':_0x5e3d55[_0x1fd1ce(0x28f)]['phoneNumber']}]};try{let _0x5571e4=await this[_0x1fd1ce(0x5fe)](_0x4d6303);if(_0x5571e4){let _0x42158d={'_id':_0x5571e4[_0x1fd1ce(0x32f)]['id'],'_fromMe':_0x5571e4[_0x1fd1ce(0x32f)][_0x1fd1ce(0x6a7)],'_remoteJid':_0x5571e4[_0x1fd1ce(0x32f)][_0x1fd1ce(0x51c)]};_0x36265d['chatLog'][_0x1fd1ce(0x1a6)]=_0x5e3d55['_id'][_0x1fd1ce(0x35f)]();let {message_normalized:_0x3994dc}=this[_0x1fd1ce(0x6e0)](_0x5571e4[_0x1fd1ce(0x25f)],J(_0x5571e4[_0x1fd1ce(0x25f)]),null);_0x36265d[_0x1fd1ce(0x291)][_0x1fd1ce(0x229)]=await _0x3994dc;let _0x13f303={'messageId':_0x5571e4[_0x1fd1ce(0x32f)]['id']},_0x1d5d60=_0x36265d[_0x1fd1ce(0x291)][_0x1fd1ce(0x6e1)];Object['assign'](_0x1d5d60,_0x42158d),_0x36265d['chatLog'][_0x1fd1ce(0x6e1)]=_0x1d5d60,this[_0x1fd1ce(0x3f4)](_0x36265d,_0x5e3d55,_0x13f303);}else{let _0x48032a={'error':!0x0};this[_0x1fd1ce(0x3f4)](_0x36265d,_0x5e3d55,_0x48032a),this['logger'][_0x1fd1ce(0x2bd)](this[_0x1fd1ce(0x32a)]+'\x20('+this[_0x1fd1ce(0x61a)][_0x1fd1ce(0x396)]+_0x1fd1ce(0x16e));}}catch(_0x17ab8b){let _0xf44c07={'error':!0x0,'errorLog':_0x17ab8b['toString']()};this['updateConversation'](_0x36265d,_0x5e3d55,_0xf44c07),this[_0x1fd1ce(0x2d4)][_0x1fd1ce(0x2bd)](this[_0x1fd1ce(0x32a)]+'\x20('+this[_0x1fd1ce(0x61a)][_0x1fd1ce(0x396)]+_0x1fd1ce(0x4cf)+_0x17ab8b[_0x1fd1ce(0x35f)]());}}[a0_0x5e0602(0x629)](_0x4ad47a,_0x5789fe){const _0x3ca1d3=a0_0x5e0602;for(let _0x18f6a4 of _0x4ad47a)_0x18f6a4['option']&&(_0x18f6a4[_0x3ca1d3(0x65e)]=this[_0x3ca1d3(0x4ae)](_0x18f6a4[_0x3ca1d3(0x65e)],_0x5789fe)),_0x18f6a4[_0x3ca1d3(0x679)]&&(_0x18f6a4[_0x3ca1d3(0x679)]=this[_0x3ca1d3(0x4ae)](_0x18f6a4[_0x3ca1d3(0x679)],_0x5789fe));}async[a0_0x5e0602(0x3b8)](_0x2cb7f7,_0x2040a1,_0x3f9dc3){const _0x59c98a=a0_0x5e0602;this[_0x59c98a(0x2d4)]['verbose'](this['instanceName']+'\x20('+this[_0x59c98a(0x61a)][_0x59c98a(0x396)]+_0x59c98a(0x4dc));let _0xbd509=_0x2cb7f7[_0x59c98a(0x714)][_0x59c98a(0x6d8)](_0x3d8294=>_0x3d8294[_0x59c98a(0x2fb)]===_0x2040a1[_0x59c98a(0x60f)]);this[_0x59c98a(0x629)](_0xbd509,_0x2cb7f7[_0x59c98a(0x291)]['realVariables']);let _0x19e905=_0xbd509[_0x59c98a(0x503)](_0x36d31a=>_0x36d31a[_0x59c98a(0x65e)]),_0x569442={'number':_0x3f9dc3,'options':{'delay':_0x2040a1['uazapi']['delay']},'pollMessage':{'name':_0x2040a1[_0x59c98a(0x28f)][_0x59c98a(0x5e4)],'selectableCount':0x1,'values':_0x19e905}};try{let _0x37d4b4=await this[_0x59c98a(0x1be)](_0x569442);if(_0x37d4b4){let _0x45ecce={'_id':_0x37d4b4['key']['id'],'_fromMe':_0x37d4b4[_0x59c98a(0x32f)]['fromMe'],'_remoteJid':_0x37d4b4[_0x59c98a(0x32f)][_0x59c98a(0x51c)]};this[_0x59c98a(0x2d4)][_0x59c98a(0x27f)](this[_0x59c98a(0x32a)]+'\x20('+this['instance']['wuid']+_0x59c98a(0x6cd)+_0x2040a1[_0x59c98a(0x28f)][_0x59c98a(0x5e4)]),_0x2cb7f7[_0x59c98a(0x55f)]=_0x37d4b4[_0x59c98a(0x32f)]['id'],_0x2cb7f7['waitingPoll_name']=_0x2040a1['uazapi'][_0x59c98a(0x5e4)],_0x2cb7f7[_0x59c98a(0x6be)]=_0xbd509,this[_0x59c98a(0x2d4)][_0x59c98a(0x27f)](this[_0x59c98a(0x32a)]+'\x20('+this['instance']['wuid']+_0x59c98a(0x1ab)+_0x2cb7f7['waitingPoll_name']),_0x2cb7f7[_0x59c98a(0x291)][_0x59c98a(0x1a6)]=_0x2040a1[_0x59c98a(0x60f)][_0x59c98a(0x35f)]();let {message_normalized:_0x464c89}=this['normalizeMessage'](_0x37d4b4['message'],J(_0x37d4b4[_0x59c98a(0x25f)]),null);_0x2cb7f7[_0x59c98a(0x291)]['lastSendMessage']=await _0x464c89;let _0x52e9fe={'messageId':_0x37d4b4[_0x59c98a(0x32f)]['id']},_0x52802a=_0x2cb7f7['chatLog'][_0x59c98a(0x6e1)];Object[_0x59c98a(0x4b1)](_0x52802a,_0x45ecce),_0x2cb7f7['chatLog'][_0x59c98a(0x6e1)]=_0x52802a,this[_0x59c98a(0x3f4)](_0x2cb7f7,_0x2040a1,_0x52e9fe);}else{let _0x22146a={'error':!0x0};this[_0x59c98a(0x3f4)](_0x2cb7f7,_0x2040a1,_0x22146a),this[_0x59c98a(0x2d4)]['error'](this[_0x59c98a(0x32a)]+'\x20('+this[_0x59c98a(0x61a)]['wuid']+_0x59c98a(0x2eb));}}catch(_0x322e0b){let _0x1e4e1a={'error':!0x0,'errorLog':_0x322e0b[_0x59c98a(0x35f)]()};this[_0x59c98a(0x3f4)](_0x2cb7f7,_0x2040a1,_0x1e4e1a),this[_0x59c98a(0x2d4)][_0x59c98a(0x2bd)](this[_0x59c98a(0x32a)]+'\x20('+this[_0x59c98a(0x61a)]['wuid']+_0x59c98a(0x424)+_0x322e0b[_0x59c98a(0x35f)]());}}async[a0_0x5e0602(0x2e1)](_0x435a21,_0x51c915,_0x14ce4b){const _0x38886a=a0_0x5e0602;this[_0x38886a(0x2d4)]['verbose'](this['instanceName']+'\x20('+this[_0x38886a(0x61a)][_0x38886a(0x396)]+_0x38886a(0x5dc));let _0x78b3ae=_0x435a21[_0x38886a(0x291)][_0x38886a(0x41e)][_0x38886a(0x6f2)](_0x21cd0d=>_0x21cd0d[_0x38886a(0x2fb)]['toString']()===_0x51c915[_0x38886a(0x28f)][_0x38886a(0x2fb)][_0x38886a(0x35f)]()),_0x3831b4={'id':_0x78b3ae[_0x38886a(0x438)],'remoteJid':_0x78b3ae[_0x38886a(0x51c)],'fromMe':_0x78b3ae[_0x38886a(0x6a7)]};try{let _0x3f36f0=await this[_0x38886a(0x5ce)](_0x3831b4);if(_0x3f36f0){_0x435a21['chatLog'][_0x38886a(0x1a6)]=_0x51c915['_id'][_0x38886a(0x35f)]();let {message_normalized:_0x26f59b}=this[_0x38886a(0x6e0)](_0x3f36f0[_0x38886a(0x25f)],J(_0x3f36f0[_0x38886a(0x25f)]),null);_0x435a21[_0x38886a(0x291)]['lastSendMessage']=await _0x26f59b;let _0x1ec3a2={};this[_0x38886a(0x3f4)](_0x435a21,_0x51c915,_0x1ec3a2);}else{let _0x445bf8={'error':!0x0};this[_0x38886a(0x3f4)](_0x435a21,_0x51c915,_0x445bf8),this[_0x38886a(0x2d4)]['error'](this['instanceName']+'\x20('+this['instance'][_0x38886a(0x396)]+_0x38886a(0x59c));}}catch(_0x4b63df){let _0x1a4950={'error':!0x0,'errorLog':_0x4b63df[_0x38886a(0x35f)]()};this[_0x38886a(0x3f4)](_0x435a21,_0x51c915,_0x1a4950),this[_0x38886a(0x2d4)][_0x38886a(0x2bd)](this[_0x38886a(0x32a)]+'\x20('+this[_0x38886a(0x61a)][_0x38886a(0x396)]+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+_0x4b63df[_0x38886a(0x35f)]());}}async[a0_0x5e0602(0x628)](_0x1b74bf){const _0x3ace17=a0_0x5e0602;try{if(this[_0x3ace17(0x2d4)][_0x3ace17(0x27f)](this[_0x3ace17(0x32a)]+'\x20('+this[_0x3ace17(0x61a)][_0x3ace17(0x396)]+_0x3ace17(0x285)),await I[_0x3ace17(0x648)]({'owner':this[_0x3ace17(0x61a)][_0x3ace17(0x396)],'name':_0x1b74bf[_0x3ace17(0x5e4)]}))return{'message':_0x3ace17(0x5bd)};_0x1b74bf['default']===!0x0&&await I[_0x3ace17(0x2ad)]({'owner':this[_0x3ace17(0x61a)][_0x3ace17(0x396)]},{'default':!0x1});let _0x3b0823=new we[(_0x3ace17(0x197))][(_0x3ace17(0x545))](),_0x1fd256={'_id':_0x3b0823,'default':!0x0,'title':'Início','x':0x0,'y':0x0},_0x475aa4={'_id':new we[(_0x3ace17(0x197))][(_0x3ace17(0x545))](),'order':0x1,'groupId':_0x3b0823['toString'](),'type':'start'};return await I[_0x3ace17(0x72e)]({'owner':this[_0x3ace17(0x61a)][_0x3ace17(0x396)],'name':_0x1b74bf['name'],'groups':[_0x1fd256],'blocks':[_0x475aa4],..._0x1b74bf});}catch(_0x34bb8e){throw this['logger'][_0x3ace17(0x2bd)](this[_0x3ace17(0x32a)]+'\x20('+this['instance'][_0x3ace17(0x396)]+_0x3ace17(0x47c)+_0x34bb8e),new g(_0x3ace17(0x201)+_0x34bb8e);}}async[a0_0x5e0602(0x578)](_0x164728){const _0x39b7fa=a0_0x5e0602;try{return this[_0x39b7fa(0x2d4)]['verbose'](this['instanceName']+'\x20('+this[_0x39b7fa(0x61a)][_0x39b7fa(0x396)]+_0x39b7fa(0x491)),await I[_0x39b7fa(0x1cb)]({'owner':this[_0x39b7fa(0x61a)][_0x39b7fa(0x396)],'name':_0x164728});}catch(_0x17abd8){return this[_0x39b7fa(0x2d4)][_0x39b7fa(0x2bd)](this[_0x39b7fa(0x32a)]+'\x20('+this['instance'][_0x39b7fa(0x396)]+_0x39b7fa(0x4f3)+_0x17abd8),{'message':_0x39b7fa(0x54c)+_0x17abd8};}}async[a0_0x5e0602(0x3fa)](_0x2d3233){const _0x43dba4=a0_0x5e0602;try{this['logger'][_0x43dba4(0x27f)](this['instanceName']+'\x20('+this[_0x43dba4(0x61a)][_0x43dba4(0x396)]+_0x43dba4(0x257));let _0x3f0a6d=await I[_0x43dba4(0x648)]({'owner':this['instance'][_0x43dba4(0x396)],'name':_0x2d3233});if(!_0x3f0a6d)throw new Error(_0x43dba4(0x69f));if(!this[_0x43dba4(0x543)]&&(await this[_0x43dba4(0x2da)](),!this['AutomateSystem']))return null;let _0x540c9d=this['AutomateSystem']?.[_0x43dba4(0x1e3)][_0x43dba4(0x503)](_0x352071=>_0x352071[_0x43dba4(0x5e4)]),_0x29b8a8=[_0x43dba4(0x5a4),_0x43dba4(0x6c2),_0x43dba4(0x287),'cpf','status',_0x43dba4(0x293),'responsavelid',_0x43dba4(0x709)];return _0x3f0a6d['variables']=_0x3f0a6d[_0x43dba4(0x5e6)][_0x43dba4(0x6d8)](_0x33bcaa=>!(_0x33bcaa[_0x43dba4(0x493)]===_0x43dba4(0x4da)||_0x33bcaa['leadInfo'])),_0x29b8a8[_0x43dba4(0x732)](_0xc12323=>{const _0x3e2bf2=_0x43dba4;_0x3f0a6d['variables'][_0x3e2bf2(0x19f)]({'folder':'leadInfo','name':_0xc12323,'value':'','doc':'','leadInfo':!0x0});}),_0x540c9d[_0x43dba4(0x732)](_0x5b5096=>{const _0x11172c=_0x43dba4;let _0x579d17=_0x3f0a6d[_0x11172c(0x5e6)][_0x11172c(0x2d6)](_0x48fb11=>_0x48fb11[_0x11172c(0x5e4)]===_0x5b5096);_0x579d17===-0x1?_0x3f0a6d[_0x11172c(0x5e6)]['push']({'folder':_0x11172c(0x4da),'name':_0x5b5096,'value':'','doc':'','leadInfo':!0x0}):(_0x3f0a6d['variables'][_0x579d17]['folder']='leadInfo',_0x3f0a6d[_0x11172c(0x5e6)][_0x579d17][_0x11172c(0x4da)]=!0x0);}),_0x3f0a6d['blocks']&&_0x3f0a6d[_0x43dba4(0x2b8)][_0x43dba4(0x3f7)]>0x0&&_0x3f0a6d['blocks']['forEach'](_0x2ef28b=>{const _0x3325b4=_0x43dba4;_0x2ef28b['groupId']&&_0x2ef28b[_0x3325b4(0x458)]&&_0x2ef28b[_0x3325b4(0x4d6)]===_0x2ef28b[_0x3325b4(0x458)]&&(_0x2ef28b[_0x3325b4(0x458)]=null);}),await _0x3f0a6d['save'](),_0x3f0a6d;}catch(_0x2680e4){throw this[_0x43dba4(0x2d4)][_0x43dba4(0x2bd)](this[_0x43dba4(0x32a)]+'\x20('+this[_0x43dba4(0x61a)]['wuid']+_0x43dba4(0x710)+_0x2680e4),new g(_0x43dba4(0x1ff)+_0x2680e4);}}async[a0_0x5e0602(0x4d5)](){const _0x207543=a0_0x5e0602;try{return this[_0x207543(0x2d4)][_0x207543(0x27f)](this['instanceName']+'\x20('+this[_0x207543(0x61a)][_0x207543(0x396)]+_0x207543(0x372)),await I[_0x207543(0x6f2)]({'owner':this[_0x207543(0x61a)][_0x207543(0x396)]});}catch(_0x143401){return this['logger'][_0x207543(0x2bd)](this[_0x207543(0x32a)]+'\x20('+this['instance']['wuid']+_0x207543(0x398)+_0x143401),{'message':_0x207543(0x370)+_0x143401};}}async['editFlow'](_0x6caaca){const _0x24e913=a0_0x5e0602;try{this['logger'][_0x24e913(0x27f)](this[_0x24e913(0x32a)]+'\x20('+this[_0x24e913(0x61a)][_0x24e913(0x396)]+_0x24e913(0x45e));let _0x45a789=await I['findOne']({'owner':this[_0x24e913(0x61a)][_0x24e913(0x396)],'name':_0x6caaca[_0x24e913(0x5e4)]});if(!_0x45a789)return{'message':_0x24e913(0x223)};if(_0x6caaca[_0x24e913(0x56d)]===!0x0&&await I[_0x24e913(0x2ad)]({'owner':this[_0x24e913(0x61a)][_0x24e913(0x396)]},{'default':!0x1}),_0x6caaca[_0x24e913(0x18f)]){if(await I['findOne']({'owner':this[_0x24e913(0x61a)][_0x24e913(0x396)],'name':_0x6caaca[_0x24e913(0x18f)]}))return{'message':_0x24e913(0x25a)};_0x6caaca[_0x24e913(0x5e4)]=_0x6caaca[_0x24e913(0x18f)],delete _0x6caaca[_0x24e913(0x18f)];}return await I[_0x24e913(0x198)](_0x45a789[_0x24e913(0x60f)],{'$set':_0x6caaca},{'new':!0x0});}catch(_0x4920dc){throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x24e913(0x61a)][_0x24e913(0x396)]+'):\x20Erro\x20ao\x20alterar\x20fluxo:\x20'+_0x4920dc),new g(_0x24e913(0x444)+_0x4920dc);}}async[a0_0x5e0602(0x237)](_0xd7abd2){const _0x416e2e=a0_0x5e0602;try{this['logger'][_0x416e2e(0x27f)](this['instanceName']+'\x20('+this[_0x416e2e(0x61a)][_0x416e2e(0x396)]+_0x416e2e(0x3aa));let _0x2e2540={'owner':this[_0x416e2e(0x61a)]['wuid'],'name':_0xd7abd2[_0x416e2e(0x5e4)]},_0x39af6d=await I['findOne'](_0x2e2540);_0x39af6d||this[_0x416e2e(0x582)]('Flow\x20não\x20encontrado');let {block:_0x3ac4ae}=_0xd7abd2;return _0x3ac4ae?.[_0x416e2e(0x567)]?this[_0x416e2e(0x641)](_0x39af6d,_0xd7abd2):_0x3ac4ae[_0x416e2e(0x60f)]?await this[_0x416e2e(0x67c)](_0x39af6d,_0xd7abd2):this[_0x416e2e(0x3cf)](_0x39af6d,_0xd7abd2),await _0x39af6d[_0x416e2e(0x72a)](),_0x39af6d;}catch(_0x5cae73){this[_0x416e2e(0x582)](_0x416e2e(0x30c)+_0x5cae73);}}[a0_0x5e0602(0x582)](_0x30eebe){const _0x374672=a0_0x5e0602;throw this[_0x374672(0x2d4)][_0x374672(0x2bd)](this[_0x374672(0x32a)]+'\x20('+this[_0x374672(0x61a)][_0x374672(0x396)]+_0x374672(0x3d4)+_0x30eebe),new g(_0x30eebe);}[a0_0x5e0602(0x641)](_0x4664ac,_0x8eaa40){const _0x5b9cca=a0_0x5e0602;let {block:_0x3ae2a9}=_0x8eaa40;if(_0x3ae2a9[_0x5b9cca(0x33e)]===_0x5b9cca(0x1d3)){this[_0x5b9cca(0x582)](_0x5b9cca(0x1f5));return;}if(!_0x3ae2a9[_0x5b9cca(0x60f)]){this[_0x5b9cca(0x582)](_0x5b9cca(0x48e));return;}let _0x39af35=_0x4664ac[_0x5b9cca(0x2b8)]['find'](_0x70e1e5=>_0x70e1e5['_id'][_0x5b9cca(0x35f)]()===_0x8eaa40[_0x5b9cca(0x707)][_0x5b9cca(0x60f)][_0x5b9cca(0x35f)]());if(!_0x39af35){this[_0x5b9cca(0x582)]('Bloco\x20com\x20ID\x20'+_0x3ae2a9[_0x5b9cca(0x60f)]+_0x5b9cca(0x68c));return;}_0x4664ac[_0x5b9cca(0x2b8)]=_0x4664ac[_0x5b9cca(0x2b8)]['filter'](_0x4cf869=>_0x4cf869[_0x5b9cca(0x60f)]['toString']()!==_0x8eaa40[_0x5b9cca(0x707)][_0x5b9cca(0x60f)]['toString']()),_0x4664ac['conditions']=_0x4664ac['conditions'][_0x5b9cca(0x6d8)](_0x18ab4a=>_0x18ab4a['blockId']!==_0x3ae2a9[_0x5b9cca(0x60f)][_0x5b9cca(0x35f)]()),_0x4664ac['varedits']=_0x4664ac[_0x5b9cca(0x24b)][_0x5b9cca(0x6d8)](_0x575c6b=>_0x575c6b[_0x5b9cca(0x2fb)]!==_0x3ae2a9['_id'][_0x5b9cca(0x35f)]()),_0x4664ac[_0x5b9cca(0x714)]=_0x4664ac[_0x5b9cca(0x714)]['filter'](_0xb04c90=>_0xb04c90[_0x5b9cca(0x2fb)]!==_0x3ae2a9[_0x5b9cca(0x60f)]['toString']()),this[_0x5b9cca(0x5ab)](_0x4664ac['blocks'],_0x39af35[_0x5b9cca(0x4d6)]);}async[a0_0x5e0602(0x67c)](_0x2db4ad,_0x4ea824){const _0xf1921=a0_0x5e0602;let _0x283b75=_0x2db4ad[_0xf1921(0x2b8)][_0xf1921(0x2d6)](_0xb58971=>_0xb58971[_0xf1921(0x60f)][_0xf1921(0x35f)]()===_0x4ea824['block'][_0xf1921(0x60f)]['toString']());if(this[_0xf1921(0x2d4)][_0xf1921(0x27f)](this[_0xf1921(0x32a)]+'\x20('+this[_0xf1921(0x61a)][_0xf1921(0x396)]+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x283b75),_0x283b75===-0x1){this[_0xf1921(0x2d4)][_0xf1921(0x27f)](_0xf1921(0x3df)+_0x4ea824[_0xf1921(0x707)][_0xf1921(0x60f)]+_0xf1921(0x730));return;}if(_0x2db4ad[_0xf1921(0x2b8)][_0x283b75][_0xf1921(0x33e)]===_0xf1921(0x1d3)){let _0x5db186=Object[_0xf1921(0x4ec)](_0x4ea824['block']);if(_0x5db186[_0xf1921(0x3f7)]>0x2||_0x5db186[_0xf1921(0x3f7)]===0x2&&!_0x5db186[_0xf1921(0x215)]('next_groupId')){this[_0xf1921(0x582)](_0xf1921(0x51d));return;}}let _0x25b5d1=_0x2db4ad[_0xf1921(0x2b8)][_0x283b75][_0xf1921(0x4d6)];for(let _0x11ce7e in _0x4ea824[_0xf1921(0x707)])_0x4ea824[_0xf1921(0x707)][_0xf1921(0x5c6)](_0x11ce7e)&&(_0x2db4ad['blocks'][_0x283b75][_0x11ce7e]=_0x4ea824[_0xf1921(0x707)][_0x11ce7e]);if(this[_0xf1921(0x2d4)][_0xf1921(0x27f)](this['instanceName']+'\x20('+this[_0xf1921(0x61a)][_0xf1921(0x396)]+_0xf1921(0x3c0)+JSON[_0xf1921(0x408)](_0x2db4ad['blocks'][_0x283b75])),_0x2db4ad['blocks'][_0x283b75][_0xf1921(0x4c9)]&&_0xf1921(0x3f9)in _0x2db4ad[_0xf1921(0x2b8)][_0x283b75][_0xf1921(0x4c9)]){this[_0xf1921(0x2d4)][_0xf1921(0x27f)](this[_0xf1921(0x32a)]+'\x20('+this['instance'][_0xf1921(0x396)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x3a7cc7=JSON[_0xf1921(0x408)](_0x2db4ad['blocks'][_0x283b75][_0xf1921(0x4c9)]['header'],null,0x1);_0x3a7cc7[_0xf1921(0x3f7)]>0x2&&(_0x3a7cc7=_0x3a7cc7[_0xf1921(0x640)](0x1,_0x3a7cc7[_0xf1921(0x3f7)]-0x1)['trim']()),_0x2db4ad[_0xf1921(0x2b8)][_0x283b75][_0xf1921(0x4c9)][_0xf1921(0x4ee)]=_0x3a7cc7;}if(_0x2db4ad[_0xf1921(0x2b8)][_0x283b75]['apirequest']&&'body'in _0x2db4ad[_0xf1921(0x2b8)][_0x283b75]['apirequest']){this[_0xf1921(0x2d4)][_0xf1921(0x27f)](this[_0xf1921(0x32a)]+'\x20('+this[_0xf1921(0x61a)][_0xf1921(0x396)]+_0xf1921(0x63f));let _0x5c6214=JSON[_0xf1921(0x408)](_0x2db4ad[_0xf1921(0x2b8)][_0x283b75][_0xf1921(0x4c9)][_0xf1921(0x27b)],null,0x1);_0x5c6214['length']>0x2&&(_0x5c6214=_0x5c6214['substring'](0x1,_0x5c6214[_0xf1921(0x3f7)]-0x1)[_0xf1921(0x1db)]()),_0x2db4ad[_0xf1921(0x2b8)][_0x283b75][_0xf1921(0x4c9)]['bodyString']=_0x5c6214;}let _0x2841ed=_0x2db4ad[_0xf1921(0x2b8)][_0x283b75]['groupId'];_0x25b5d1!==_0x2841ed?(this[_0xf1921(0x5ab)](_0x2db4ad[_0xf1921(0x2b8)],_0x25b5d1),this[_0xf1921(0x5ab)](_0x2db4ad['blocks'],_0x2841ed)):this[_0xf1921(0x5ab)](_0x2db4ad['blocks'],_0x25b5d1);}[a0_0x5e0602(0x3cf)](_0x2186fc,_0x4f808d){const _0x15f333=a0_0x5e0602;if(_0x4f808d[_0x15f333(0x707)][_0x15f333(0x33e)]==='start'){this[_0x15f333(0x582)](_0x15f333(0x3cc));return;}if(_0x4f808d['block'][_0x15f333(0x4c9)]&&'header'in _0x4f808d[_0x15f333(0x707)]['apirequest']){this[_0x15f333(0x2d4)][_0x15f333(0x27f)](this[_0x15f333(0x32a)]+'\x20('+this['instance'][_0x15f333(0x396)]+_0x15f333(0x2d7));let _0xcde4fd=JSON[_0x15f333(0x408)](_0x4f808d[_0x15f333(0x707)]['apirequest']['header'],null,0x1);_0xcde4fd[_0x15f333(0x3f7)]>0x2&&(_0xcde4fd=_0xcde4fd[_0x15f333(0x640)](0x1,_0xcde4fd[_0x15f333(0x3f7)]-0x1)[_0x15f333(0x1db)]()),_0x4f808d[_0x15f333(0x707)][_0x15f333(0x4c9)][_0x15f333(0x4ee)]=_0xcde4fd;}_0x4f808d[_0x15f333(0x707)][_0x15f333(0x4c9)]&&_0x15f333(0x27b)in _0x4f808d['block']['apirequest']&&(this[_0x15f333(0x2d4)][_0x15f333(0x27f)](this['instanceName']+'\x20('+this['instance'][_0x15f333(0x396)]+_0x15f333(0x63f)),_0x4f808d[_0x15f333(0x707)][_0x15f333(0x4c9)][_0x15f333(0x516)]=JSON[_0x15f333(0x408)](_0x4f808d[_0x15f333(0x707)][_0x15f333(0x4c9)]['body'],null,0x1)[_0x15f333(0x1db)]()),_0x2186fc[_0x15f333(0x2b8)][_0x15f333(0x19f)](_0x4f808d[_0x15f333(0x707)]),this[_0x15f333(0x5ab)](_0x2186fc['blocks'],_0x4f808d[_0x15f333(0x707)][_0x15f333(0x4d6)]);}[a0_0x5e0602(0x5ab)](_0x31f7ab,_0x2d0edb){const _0x35e8de=a0_0x5e0602;let _0x4f38eb=_0x31f7ab[_0x35e8de(0x6d8)](_0x5f5d84=>_0x5f5d84[_0x35e8de(0x4d6)]===_0x2d0edb);_0x4f38eb[_0x35e8de(0x3b1)]((_0x295ebc,_0x4fd9e0)=>_0x295ebc[_0x35e8de(0x4b2)]-_0x4fd9e0[_0x35e8de(0x4b2)]),_0x4f38eb[_0x35e8de(0x732)]((_0x2aeeff,_0x33db5f)=>_0x2aeeff[_0x35e8de(0x4b2)]=_0x33db5f+0x1);}async[a0_0x5e0602(0x53f)](_0x589c73){const _0x53416c=a0_0x5e0602;try{if(this[_0x53416c(0x2d4)][_0x53416c(0x27f)](this[_0x53416c(0x32a)]+'\x20('+this[_0x53416c(0x61a)]['wuid']+_0x53416c(0x49a)),!_0x589c73||!_0x589c73[_0x53416c(0x1f0)]){this['throwAndLogError'](_0x53416c(0x475));return;}let _0x3a5bd3={'owner':this[_0x53416c(0x61a)]['wuid'],'name':_0x589c73[_0x53416c(0x5e4)]},_0x1af9ca=await I[_0x53416c(0x648)](_0x3a5bd3);_0x1af9ca||this[_0x53416c(0x582)](_0x53416c(0x69f));let {replyOption:_0x5be960}=_0x589c73;return _0x5be960?.['delete']?this['deleteReplyOption'](_0x1af9ca,_0x589c73):_0x5be960[_0x53416c(0x60f)]?await this['updateReplyOption'](_0x1af9ca,_0x589c73):this[_0x53416c(0x433)](_0x1af9ca,_0x589c73),await _0x1af9ca['save'](),_0x1af9ca;}catch(_0x2ee5f9){this[_0x53416c(0x582)](_0x53416c(0x3f1)+_0x2ee5f9);}}[a0_0x5e0602(0x1a0)](_0x2d28bd,_0x29a9f6){const _0x58c8be=a0_0x5e0602;let {replyOption:_0x881dfb}=_0x29a9f6;if(!_0x881dfb['_id']){this['throwAndLogError']('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x2d28bd[_0x58c8be(0x714)][_0x58c8be(0x6f2)](_0xbb1ba7=>_0xbb1ba7[_0x58c8be(0x60f)]['toString']()===_0x29a9f6['replyOption'][_0x58c8be(0x60f)][_0x58c8be(0x35f)]())){this[_0x58c8be(0x582)]('ReplyOption\x20com\x20ID\x20'+_0x881dfb[_0x58c8be(0x60f)]+_0x58c8be(0x68c));return;}_0x2d28bd[_0x58c8be(0x714)]=_0x2d28bd['replyOptions'][_0x58c8be(0x6d8)](_0x3eadd4=>_0x3eadd4[_0x58c8be(0x60f)][_0x58c8be(0x35f)]()!==_0x29a9f6['replyOption'][_0x58c8be(0x60f)]['toString']());}async[a0_0x5e0602(0x4ed)](_0x1ec07b,_0x40e3d4){const _0x438559=a0_0x5e0602;let _0x5edb79=_0x1ec07b[_0x438559(0x714)]['findIndex'](_0x15528e=>_0x15528e[_0x438559(0x60f)]['toString']()===_0x40e3d4[_0x438559(0x1f0)][_0x438559(0x60f)][_0x438559(0x35f)]());if(_0x5edb79===-0x1){this['throwAndLogError'](_0x438559(0x1a4)+_0x40e3d4[_0x438559(0x1f0)][_0x438559(0x60f)]+_0x438559(0x730));return;}for(let _0x56fc58 in _0x40e3d4[_0x438559(0x1f0)])_0x40e3d4[_0x438559(0x1f0)][_0x438559(0x5c6)](_0x56fc58)&&(_0x1ec07b[_0x438559(0x714)][_0x5edb79][_0x56fc58]=_0x40e3d4['replyOption'][_0x56fc58]);}['addReplyOption'](_0x43e1bb,_0x4e0fca){const _0xeb592e=a0_0x5e0602;_0x43e1bb[_0xeb592e(0x714)]['push'](_0x4e0fca[_0xeb592e(0x1f0)]);}async[a0_0x5e0602(0x518)](_0x4009d6){const _0x55ec4a=a0_0x5e0602;this[_0x55ec4a(0x2d4)][_0x55ec4a(0x27f)](this[_0x55ec4a(0x32a)]+'\x20('+this[_0x55ec4a(0x61a)][_0x55ec4a(0x396)]+_0x55ec4a(0x6b9)+_0x4009d6);try{this[_0x55ec4a(0x2d4)]['verbose'](this[_0x55ec4a(0x32a)]+'\x20('+this[_0x55ec4a(0x61a)][_0x55ec4a(0x396)]+'):\x20Editando\x20grupo\x20do\x20fluxo...');let _0xddd4ae={'owner':this[_0x55ec4a(0x61a)][_0x55ec4a(0x396)],'name':_0x4009d6[_0x55ec4a(0x5e4)]},_0x363d2c=await I[_0x55ec4a(0x648)](_0xddd4ae);if(!_0x363d2c)throw new Error('Flow\x20não\x20encontrado');if(_0x4009d6[_0x55ec4a(0x6e4)]&&_0x4009d6[_0x55ec4a(0x6e4)]?.[_0x55ec4a(0x567)]===!0x0){if(this[_0x55ec4a(0x2d4)][_0x55ec4a(0x27f)](this[_0x55ec4a(0x32a)]+'\x20('+this['instance'][_0x55ec4a(0x396)]+_0x55ec4a(0x194)),_0x4009d6['group'][_0x55ec4a(0x56d)]===!0x0)return{'message':_0x55ec4a(0x3a4)};if(_0x363d2c[_0x55ec4a(0x2b8)][_0x55ec4a(0x517)](_0x46c87d=>_0x46c87d[_0x55ec4a(0x4d6)]['toString']()===_0x4009d6[_0x55ec4a(0x6e4)][_0x55ec4a(0x60f)]))return this[_0x55ec4a(0x2d4)][_0x55ec4a(0x27f)](this['instanceName']+'\x20('+this[_0x55ec4a(0x61a)][_0x55ec4a(0x396)]+'):\x20tem\x20blocks'),{'message':_0x55ec4a(0x4ac)};_0x363d2c[_0x55ec4a(0x45c)]=_0x363d2c[_0x55ec4a(0x45c)][_0x55ec4a(0x6d8)](_0x73d738=>_0x73d738['_id'][_0x55ec4a(0x35f)]()!==_0x4009d6['group']['_id']);}else{if(_0x4009d6[_0x55ec4a(0x6e4)]){if(_0x4009d6[_0x55ec4a(0x6e4)][_0x55ec4a(0x56d)]===!0x0)return{'message':_0x55ec4a(0x3c9)};if(_0x4009d6[_0x55ec4a(0x6e4)]['_id']){let _0x57a045=_0x363d2c[_0x55ec4a(0x45c)][_0x55ec4a(0x6f2)](_0x5a3bdc=>_0x5a3bdc[_0x55ec4a(0x60f)][_0x55ec4a(0x35f)]()===_0x4009d6['group'][_0x55ec4a(0x60f)]);_0x57a045&&(_0x4009d6[_0x55ec4a(0x6e4)]['x']<0x0&&(_0x4009d6[_0x55ec4a(0x6e4)]['x']=0x0),_0x4009d6[_0x55ec4a(0x6e4)]['y']<0x0&&(_0x4009d6['group']['y']=0x0),Object[_0x55ec4a(0x4b1)](_0x57a045,_0x4009d6[_0x55ec4a(0x6e4)]));}else _0x363d2c[_0x55ec4a(0x45c)][_0x55ec4a(0x19f)](_0x4009d6['group']);}}return await _0x363d2c[_0x55ec4a(0x72a)](),_0x363d2c;}catch(_0x1f3dd1){throw this[_0x55ec4a(0x2d4)][_0x55ec4a(0x2bd)](this[_0x55ec4a(0x32a)]+'\x20('+this[_0x55ec4a(0x61a)]['wuid']+_0x55ec4a(0x3fb)+_0x1f3dd1),new g('Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+_0x1f3dd1);}}async[a0_0x5e0602(0x4c1)](_0x4d7243){const _0x2133a4=a0_0x5e0602;try{this[_0x2133a4(0x2d4)][_0x2133a4(0x27f)](this[_0x2133a4(0x32a)]+'\x20('+this[_0x2133a4(0x61a)][_0x2133a4(0x396)]+_0x2133a4(0x2d8));let _0x5f018e={'owner':this[_0x2133a4(0x61a)][_0x2133a4(0x396)],'name':_0x4d7243[_0x2133a4(0x5e4)]},_0x1b5174=await I[_0x2133a4(0x648)](_0x5f018e);if(!_0x1b5174)throw new Error('Flow\x20não\x20encontrado');let _0x520ee0=!0x1;if(_0x4d7243[_0x2133a4(0x2ea)]?.[_0x2133a4(0x567)]===!0x0)_0x1b5174[_0x2133a4(0x663)]=_0x1b5174[_0x2133a4(0x663)]['filter'](_0xa02e2a=>_0xa02e2a&&_0x4d7243['condition']&&_0xa02e2a['_id']&&_0x4d7243[_0x2133a4(0x2ea)][_0x2133a4(0x60f)]&&_0xa02e2a[_0x2133a4(0x60f)]['toString']()!==_0x4d7243[_0x2133a4(0x2ea)][_0x2133a4(0x60f)][_0x2133a4(0x35f)]()),_0x520ee0=!0x0;else{let _0xe6cdd2=_0x1b5174[_0x2133a4(0x663)][_0x2133a4(0x6f2)](_0x3bb3a5=>_0x3bb3a5&&_0x4d7243['condition']&&_0x3bb3a5[_0x2133a4(0x60f)]&&_0x4d7243[_0x2133a4(0x2ea)][_0x2133a4(0x60f)]&&_0x3bb3a5[_0x2133a4(0x60f)]['toString']()===_0x4d7243[_0x2133a4(0x2ea)][_0x2133a4(0x60f)][_0x2133a4(0x35f)]());_0xe6cdd2?(_0x520ee0=_0xe6cdd2[_0x2133a4(0x4b2)]!==_0x4d7243[_0x2133a4(0x2ea)]['order'],Object[_0x2133a4(0x4b1)](_0xe6cdd2,_0x4d7243[_0x2133a4(0x2ea)])):(_0x1b5174[_0x2133a4(0x663)][_0x2133a4(0x19f)](_0x4d7243[_0x2133a4(0x2ea)]),_0x520ee0=!0x0);}if(_0x520ee0){_0x1b5174[_0x2133a4(0x663)]['sort']((_0x44d2e4,_0xf4b695)=>_0x44d2e4[_0x2133a4(0x4b2)]>_0xf4b695['order']?0x1:_0xf4b695['order']>_0x44d2e4[_0x2133a4(0x4b2)]?-0x1:0x0);for(let _0x17a6ba=0x0;_0x17a6ba<_0x1b5174[_0x2133a4(0x663)][_0x2133a4(0x3f7)];_0x17a6ba++)_0x1b5174[_0x2133a4(0x663)][_0x17a6ba]['order']=_0x17a6ba+0x1;_0x1b5174[_0x2133a4(0x663)]['length']>0x0&&(_0x1b5174[_0x2133a4(0x663)][0x0][_0x2133a4(0x39e)]=_0x2133a4(0x613));}return await _0x1b5174[_0x2133a4(0x72a)](),_0x1b5174;}catch(_0x1e9195){throw this[_0x2133a4(0x2d4)][_0x2133a4(0x2bd)](this[_0x2133a4(0x32a)]+'\x20('+this[_0x2133a4(0x61a)][_0x2133a4(0x396)]+_0x2133a4(0x4a2)+_0x1e9195),new Error(_0x2133a4(0x34e)+_0x1e9195);}}async[a0_0x5e0602(0x263)](_0x3022d9){const _0x5be243=a0_0x5e0602;try{this[_0x5be243(0x2d4)][_0x5be243(0x27f)](this[_0x5be243(0x32a)]+'\x20('+this['instance'][_0x5be243(0x396)]+_0x5be243(0x5b7));let _0x5e4200={'owner':this[_0x5be243(0x61a)][_0x5be243(0x396)],'name':_0x3022d9[_0x5be243(0x5e4)]},_0x2bd040=await I[_0x5be243(0x648)](_0x5e4200);if(!_0x2bd040)throw new Error(_0x5be243(0x69f));let _0x59890c=!0x1;if(_0x3022d9[_0x5be243(0x37f)]?.[_0x5be243(0x567)]===!0x0)_0x2bd040['varedits']=_0x2bd040[_0x5be243(0x24b)][_0x5be243(0x6d8)](_0x7f0c0d=>_0x7f0c0d&&_0x3022d9[_0x5be243(0x37f)]&&_0x7f0c0d[_0x5be243(0x60f)]&&_0x3022d9[_0x5be243(0x37f)]['_id']&&_0x7f0c0d[_0x5be243(0x60f)]['toString']()!==_0x3022d9[_0x5be243(0x37f)][_0x5be243(0x60f)][_0x5be243(0x35f)]()),_0x59890c=!0x0;else{let _0x3bdee5=_0x2bd040[_0x5be243(0x24b)][_0x5be243(0x6f2)](_0x1c9be1=>_0x1c9be1&&_0x3022d9[_0x5be243(0x37f)]&&_0x1c9be1[_0x5be243(0x60f)]&&_0x3022d9[_0x5be243(0x37f)]['_id']&&_0x1c9be1[_0x5be243(0x60f)][_0x5be243(0x35f)]()===_0x3022d9[_0x5be243(0x37f)]['_id'][_0x5be243(0x35f)]());_0x3bdee5?(_0x59890c=_0x3bdee5[_0x5be243(0x4b2)]!==_0x3022d9[_0x5be243(0x37f)]['order'],Object['assign'](_0x3bdee5,_0x3022d9['varedit'])):(_0x2bd040[_0x5be243(0x24b)][_0x5be243(0x19f)](_0x3022d9[_0x5be243(0x37f)]),_0x59890c=!0x0);}if(_0x59890c){_0x2bd040[_0x5be243(0x24b)][_0x5be243(0x3b1)]((_0x3c5a4a,_0x2070ae)=>_0x3c5a4a['order']>_0x2070ae[_0x5be243(0x4b2)]?0x1:_0x2070ae[_0x5be243(0x4b2)]>_0x3c5a4a['order']?-0x1:0x0);for(let _0xf641e8=0x0;_0xf641e8<_0x2bd040['varedits'][_0x5be243(0x3f7)];_0xf641e8++)_0x2bd040[_0x5be243(0x24b)][_0xf641e8][_0x5be243(0x4b2)]=_0xf641e8+0x1;}return await _0x2bd040['save'](),_0x2bd040;}catch(_0xa3bfde){throw this['logger'][_0x5be243(0x2bd)](this[_0x5be243(0x32a)]+'\x20('+this['instance']['wuid']+_0x5be243(0x4a2)+_0xa3bfde),new g(_0x5be243(0x34e)+_0xa3bfde);}}async[a0_0x5e0602(0x326)](_0x58eb6b){const _0x1ede40=a0_0x5e0602;try{this[_0x1ede40(0x2d4)]['verbose'](this[_0x1ede40(0x32a)]+'\x20('+this['instance']['wuid']+_0x1ede40(0x1ba));let _0x32bca0={'owner':this[_0x1ede40(0x61a)][_0x1ede40(0x396)],'name':_0x58eb6b['name']},_0x5401d6=await I[_0x1ede40(0x648)](_0x32bca0);if(!_0x5401d6)throw new Error(_0x1ede40(0x69f));_0x58eb6b[_0x1ede40(0x56a)][_0x1ede40(0x5e4)]=_0x58eb6b[_0x1ede40(0x56a)][_0x1ede40(0x5e4)][_0x1ede40(0x1db)](),_0x58eb6b[_0x1ede40(0x56a)][_0x1ede40(0x5e4)]['startsWith']('_')&&(_0x58eb6b['variable'][_0x1ede40(0x5e4)]=_0x58eb6b[_0x1ede40(0x56a)][_0x1ede40(0x5e4)][_0x1ede40(0x640)](0x1)),_0x58eb6b[_0x1ede40(0x56a)]['name']=_0x58eb6b[_0x1ede40(0x56a)]['name']['trim']();let _0x352caa=_0x5401d6[_0x1ede40(0x5e6)]['find'](_0x279e0f=>_0x279e0f[_0x1ede40(0x5e4)]===_0x58eb6b[_0x1ede40(0x56a)][_0x1ede40(0x5e4)]);if(_0x352caa?.[_0x1ede40(0x4da)]===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x58eb6b[_0x1ede40(0x56a)]?.[_0x1ede40(0x567)]===!0x0){if(!_0x352caa)return{'message':_0x1ede40(0x284)};_0x5401d6[_0x1ede40(0x5e6)]=_0x5401d6['variables']['filter'](_0x5f15d0=>_0x5f15d0[_0x1ede40(0x5e4)]!==_0x58eb6b[_0x1ede40(0x56a)][_0x1ede40(0x5e4)]);}else _0x352caa?Object['assign'](_0x352caa,_0x58eb6b[_0x1ede40(0x56a)]):_0x5401d6[_0x1ede40(0x5e6)][_0x1ede40(0x19f)](_0x58eb6b[_0x1ede40(0x56a)]);return await _0x5401d6['save'](),_0x5401d6;}catch(_0x133f89){throw this['logger'][_0x1ede40(0x2bd)](this[_0x1ede40(0x32a)]+'\x20('+this[_0x1ede40(0x61a)][_0x1ede40(0x396)]+_0x1ede40(0x57c)+_0x133f89),new g('Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20'+_0x133f89);}}async[a0_0x5e0602(0x343)](_0x4a6fdd){const _0x47b7e7=a0_0x5e0602;try{if(!this['AutomateSystem']?.[_0x47b7e7(0x400)]['enabled'])throw new g(_0x47b7e7(0x1f2));this[_0x47b7e7(0x2d4)][_0x47b7e7(0x27f)](this[_0x47b7e7(0x32a)]+'\x20('+this[_0x47b7e7(0x61a)][_0x47b7e7(0x396)]+'):\x20Iniciando\x20bot...');let _0x2276b9=(await this['whatsappNumber']({'numbers':[_0x4a6fdd['remoteJid']]}))[0x0];if(!_0x2276b9[_0x47b7e7(0x728)]&&!(0x0,w['isJidGroup'])(_0x2276b9[_0x47b7e7(0x226)])&&!_0x2276b9[_0x47b7e7(0x226)][_0x47b7e7(0x215)](_0x47b7e7(0x5c4)))throw new g(_0x2276b9);let _0x5a1740=await I[_0x47b7e7(0x648)]({'owner':this[_0x47b7e7(0x61a)]['wuid'],'name':_0x4a6fdd[_0x47b7e7(0x5e4)]});if(!_0x5a1740)return this['logger'][_0x47b7e7(0x2bd)](this[_0x47b7e7(0x32a)]+'\x20('+this[_0x47b7e7(0x61a)][_0x47b7e7(0x396)]+'):\x20Flow\x20não\x20encontrado'),{'message':'Flow\x20não\x20encontrado'};let _0x3bfc56=await this['createConversationforStartFlow'](_0x5a1740,_0x2276b9[_0x47b7e7(0x226)],_0x4a6fdd[_0x47b7e7(0x588)]);if(_0x3bfc56){this['logger']['verbose'](this[_0x47b7e7(0x32a)]+'\x20('+this['instance'][_0x47b7e7(0x396)]+_0x47b7e7(0x5ea));let _0x4d7c15=await this[_0x47b7e7(0x4b5)](_0x3bfc56);return _0x4d7c15&&await this[_0x47b7e7(0x421)](_0x3bfc56,_0x4d7c15,_0x3bfc56[_0x47b7e7(0x51c)]),{'message':_0x47b7e7(0x169)+_0x4a6fdd[_0x47b7e7(0x51c)]};}}catch(_0x103153){if(this[_0x47b7e7(0x2d4)][_0x47b7e7(0x2bd)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x47b7e7(0x455)+_0x103153),_0x103153&&_0x103153[_0x47b7e7(0x25f)]&&Array[_0x47b7e7(0x338)](_0x103153[_0x47b7e7(0x25f)])&&_0x103153[_0x47b7e7(0x25f)][0x0]){let {jid:_0x19bcb3,exists:_0x3b8a24}=_0x103153[_0x47b7e7(0x25f)][0x0];}throw new g(_0x47b7e7(0x6e3)+_0x103153[_0x47b7e7(0x25f)]);}}async[a0_0x5e0602(0x6b2)](_0x519a65){const _0x1986d8=a0_0x5e0602;let _0x397bbb=await j[_0x1986d8(0x2ad)]({'owner':this[_0x1986d8(0x61a)]['wuid'],'remoteJid':_0x519a65,'status':'open'},{'$set':{'status':'closed'}});return this[_0x1986d8(0x2d4)][_0x1986d8(0x27f)](this[_0x1986d8(0x32a)]+'\x20('+this['instance'][_0x1986d8(0x396)]+_0x1986d8(0x465)),_0x397bbb;}async[a0_0x5e0602(0x1b5)](_0x252d5a,_0x29a66a,_0xc17708){const _0x26f8e4=a0_0x5e0602;this[_0x26f8e4(0x2d4)][_0x26f8e4(0x27f)](this[_0x26f8e4(0x32a)]+'\x20('+this[_0x26f8e4(0x61a)][_0x26f8e4(0x396)]+_0x26f8e4(0x1a9)),await this[_0x26f8e4(0x6b2)](_0x29a66a);try{let _0x19a2bf=require(_0x26f8e4(0x5b3))[_0x26f8e4(0x545)],_0x16b2ca=Date[_0x26f8e4(0x369)](),_0x5e8e7e='start',_0x2eff50={},_0x237aaa={},_0x526d1a={..._0x252d5a[_0x26f8e4(0x6a3)],'chatLog':null},_0x5b29b9=await this['variablesToObject'](_0x526d1a[_0x26f8e4(0x5e6)]),_0x375acf=await this[_0x26f8e4(0x630)](_0x29a66a),_0x54759d={..._0x5b29b9,..._0x375acf,'_remoteJid':_0x29a66a},_0x271ccd={'lastReceivedMessage':_0x2eff50,'lastSendMessage':_0x237aaa,'lastBlockId':_0x5e8e7e,'lastCondition':!0x0,'realVariables':_0x54759d};_0x526d1a[_0x26f8e4(0x291)]=_0x271ccd,_0x526d1a[_0x26f8e4(0x291)][_0x26f8e4(0x6e1)]={..._0x54759d,..._0xc17708},delete _0x526d1a[_0x26f8e4(0x60f)],_0x526d1a[_0x26f8e4(0x60f)]=new _0x19a2bf(),_0x526d1a[_0x26f8e4(0x47d)]=_0x16b2ca,_0x526d1a[_0x26f8e4(0x5a7)]=_0x26f8e4(0x411),_0x526d1a[_0x26f8e4(0x51c)]=_0x29a66a;let _0x51d50b=await j[_0x26f8e4(0x72e)](_0x526d1a);return this['logger'][_0x26f8e4(0x27f)](this[_0x26f8e4(0x32a)]+'\x20('+this[_0x26f8e4(0x61a)][_0x26f8e4(0x396)]+_0x26f8e4(0x5ac)),_0x51d50b?_0x526d1a:null;}catch(_0x5baff0){throw this['logger'][_0x26f8e4(0x2bd)](this[_0x26f8e4(0x32a)]+'\x20('+this[_0x26f8e4(0x61a)][_0x26f8e4(0x396)]+_0x26f8e4(0x2de)+_0x5baff0),new g(_0x5baff0[_0x26f8e4(0x25f)]);}}async['getConversation'](_0x5d1736){const _0x364e64=a0_0x5e0602;try{return this['logger'][_0x364e64(0x27f)](this[_0x364e64(0x32a)]+'\x20('+this[_0x364e64(0x61a)][_0x364e64(0x396)]+_0x364e64(0x2f4)),this['logger'][_0x364e64(0x27f)](this[_0x364e64(0x32a)]+'\x20('+this['instance'][_0x364e64(0x396)]+_0x364e64(0x6f1)+{'owner':this[_0x364e64(0x61a)][_0x364e64(0x396)],'_id':_0x5d1736}),await j['findOne']({'owner':this[_0x364e64(0x61a)][_0x364e64(0x396)],'_id':_0x5d1736});}catch(_0x4b26e0){throw this[_0x364e64(0x2d4)][_0x364e64(0x2bd)](this[_0x364e64(0x32a)]+'\x20('+this[_0x364e64(0x61a)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20'+_0x4b26e0),new g(_0x364e64(0x35c)+_0x4b26e0['message']);}}async[a0_0x5e0602(0x490)](_0x527225,_0x1cf20f=0x64){const _0x2d95b4=a0_0x5e0602;try{this[_0x2d95b4(0x2d4)][_0x2d95b4(0x27f)](this[_0x2d95b4(0x32a)]+'\x20('+this[_0x2d95b4(0x61a)][_0x2d95b4(0x396)]+_0x2d95b4(0x635));let _0x3b0347={..._0x527225,'owner':this[_0x2d95b4(0x61a)][_0x2d95b4(0x396)]};return this[_0x2d95b4(0x2d4)][_0x2d95b4(0x27f)](_0x3b0347),await j[_0x2d95b4(0x6f2)](_0x3b0347)[_0x2d95b4(0x388)](_0x1cf20f)[_0x2d95b4(0x3b1)]({'lastInteraction':-0x1});}catch(_0x201c9f){throw this[_0x2d95b4(0x2d4)][_0x2d95b4(0x2bd)](this[_0x2d95b4(0x32a)]+'\x20('+this[_0x2d95b4(0x61a)][_0x2d95b4(0x396)]+'):\x20Erro\x20ao\x20buscar\x20conversas\x20'+_0x201c9f),new g(_0x2d95b4(0x56c)+_0x201c9f[_0x2d95b4(0x25f)]);}}async['deleteConversation'](_0x21bac8){const _0xca4bf=a0_0x5e0602;try{return this[_0xca4bf(0x2d4)][_0xca4bf(0x27f)](this['instanceName']+'\x20('+this[_0xca4bf(0x61a)][_0xca4bf(0x396)]+_0xca4bf(0x693)),this[_0xca4bf(0x2d4)]['verbose'](this[_0xca4bf(0x32a)]+'\x20('+this['instance']['wuid']+_0xca4bf(0x6f1)+{'owner':this[_0xca4bf(0x61a)][_0xca4bf(0x396)],'_id':_0x21bac8}),(await j[_0xca4bf(0x1cb)]({'owner':this['instance'][_0xca4bf(0x396)],'_id':_0x21bac8}))[_0xca4bf(0x610)]===0x0?{'message':_0xca4bf(0x1c5)}:{'message':_0xca4bf(0x5a8)};}catch(_0x49e444){throw this[_0xca4bf(0x2d4)]['error'](this[_0xca4bf(0x32a)]+'\x20('+this[_0xca4bf(0x61a)][_0xca4bf(0x396)]+_0xca4bf(0x32e)+_0x49e444),new g('Erro\x20ao\x20deletar\x20a\x20conversa:\x20'+_0x49e444[_0xca4bf(0x25f)]);}}async['editConversation'](_0x55f7ee){const _0x5f18c1=a0_0x5e0602;try{let {_id:_0x3c0735,chatLog:_0xb07845,status:_0x383f52}=_0x55f7ee;if(!_0x3c0735)return{'message':_0x5f18c1(0x4c8)};let _0x891a0f={};if(_0x383f52!==void 0x0&&(_0x891a0f[_0x5f18c1(0x5a7)]=_0x383f52),Object['keys'](_0x891a0f)['length']===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0x5ce94f=this[_0x5f18c1(0x61a)][_0x5f18c1(0x396)],_0xb85a3d=await j[_0x5f18c1(0x5db)]({'_id':_0x3c0735,'owner':_0x5ce94f},{'$set':_0x891a0f},{'new':!0x0});return _0xb85a3d||{'message':_0x5f18c1(0x702)};}catch(_0x2718f8){throw this[_0x5f18c1(0x2d4)][_0x5f18c1(0x2bd)](this[_0x5f18c1(0x32a)]+'\x20('+this[_0x5f18c1(0x61a)][_0x5f18c1(0x396)]+'):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20'+_0x2718f8),new g(_0x5f18c1(0x4b4)+_0x2718f8[_0x5f18c1(0x25f)]);}}async[a0_0x5e0602(0x4dd)](_0x563391){const _0x4ecd76=a0_0x5e0602;try{_0x563391[_0x4ecd76(0x60f)]=this['createJid'](_0x563391[_0x4ecd76(0x60f)]);let {_id:_0x3c9e48,leadInfo:_0x4fc2d1}=_0x563391;if(!_0x3c9e48)throw new Error(_0x4ecd76(0x234));let _0x4d4c81=(_0x4e13f2,_0x2d33fd,_0xa719ef)=>{const _0x3be07c=_0x4ecd76;_0xa719ef[_0x3be07c(0x732)](_0x4a9ff0=>{const _0x17c3ff=_0x3be07c;_0x4e13f2[_0x4a9ff0]!==void 0x0&&(_0x2d33fd[_0x17c3ff(0x1a1)+_0x4a9ff0]=_0x4e13f2[_0x4a9ff0]);});},_0x45e3a8={};if(_0x4d4c81(_0x4fc2d1,_0x45e3a8,[_0x4ecd76(0x5a4),_0x4ecd76(0x6c2),_0x4ecd76(0x287),'cpf',_0x4ecd76(0x5a7),_0x4ecd76(0x293),_0x4ecd76(0x709),_0x4ecd76(0x579),_0x4ecd76(0x5dd)]),Array['isArray'](_0x4fc2d1['customFields'])&&(_0x45e3a8[_0x4ecd76(0x2fa)]=_0x4fc2d1['customFields']['map'](_0x125592=>({'_id':_0x125592['_id'],'value':_0x125592[_0x4ecd76(0x189)]}))),_0x563391[_0x4ecd76(0x4da)][_0x4ecd76(0x5b6)]!==void 0x0&&(_0x45e3a8['leadInfo.desativadoFluxoAte']=Number(_0x563391[_0x4ecd76(0x4da)][_0x4ecd76(0x5b6)])),_0x563391[_0x4ecd76(0x33d)]!==void 0x0&&(_0x45e3a8[_0x4ecd76(0x33d)]=Number(_0x563391[_0x4ecd76(0x33d)])),Object['keys'](_0x45e3a8)[_0x4ecd76(0x3f7)]===0x0)throw new Error(_0x4ecd76(0x352));let _0x28ab69=this['instance'][_0x4ecd76(0x396)];if(!_0x28ab69)throw new Error(_0x4ecd76(0x354));if(!await this[_0x4ecd76(0x323)]['chat']['findOne']({'where':{'_id':_0x563391[_0x4ecd76(0x60f)],'owner':_0x28ab69}})){let _0x44af4d=(await this[_0x4ecd76(0x50d)]({'numbers':[_0x563391[_0x4ecd76(0x60f)]]}))[0x0];if(!_0x44af4d['exists']&&!(0x0,w['isJidGroup'])(_0x44af4d[_0x4ecd76(0x226)])&&!_0x44af4d[_0x4ecd76(0x226)][_0x4ecd76(0x215)]('@broadcast'))throw new g(_0x44af4d);_0x563391[_0x4ecd76(0x60f)]=_0x44af4d[_0x4ecd76(0x226)];}let _0x454630=await this[_0x4ecd76(0x323)][_0x4ecd76(0x17a)][_0x4ecd76(0x619)]({'where':{'_id':_0x563391[_0x4ecd76(0x60f)],'owner':_0x28ab69}},_0x45e3a8);return _0x454630&&B(this['instanceName'],_0x4ecd76(0x513),{'chat':_0x454630}),_0x454630?(this[_0x4ecd76(0x2d4)]['verbose'](this[_0x4ecd76(0x32a)]+'\x20('+this[_0x4ecd76(0x61a)][_0x4ecd76(0x396)]+'):\x20'+_0x454630),_0x454630):{'message':_0x4ecd76(0x4cc)};}catch(_0x2a0480){throw this['logger'][_0x4ecd76(0x2bd)](this[_0x4ecd76(0x32a)]+'\x20('+this[_0x4ecd76(0x61a)]['wuid']+'):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20'+_0x2a0480),new g(_0x4ecd76(0x58a)+_0x2a0480['message']);}}async['updateAgent'](_0x4780a8){const _0x4c07f1=a0_0x5e0602;let _0x29683e=this[_0x4c07f1(0x61a)][_0x4c07f1(0x396)];try{let _0x870b67=await ae[_0x4c07f1(0x733)](_0x29683e);_0x870b67||(_0x870b67=new ae({'_id':_0x29683e}),await _0x870b67['save']());let _0x52bca2=_0x4780a8[_0x4c07f1(0x60f)]?_0x870b67[_0x4c07f1(0x3e4)][_0x4c07f1(0x2d6)](_0x15ffe2=>_0x15ffe2['_id']===_0x4780a8['_id']):-0x1;if(_0x4780a8[_0x4c07f1(0x567)]&&_0x52bca2>-0x1)_0x870b67[_0x4c07f1(0x3e4)][_0x4c07f1(0x3c4)](_0x52bca2,0x1);else{if(_0x52bca2>-0x1){let _0x15df31=_0x870b67[_0x4c07f1(0x3e4)][_0x52bca2];_0x4780a8[_0x4c07f1(0x43e)]&&(_0x15df31[_0x4c07f1(0x43e)]=_0x4780a8[_0x4c07f1(0x43e)]),_0x4780a8[_0x4c07f1(0x5e4)]&&(_0x15df31[_0x4c07f1(0x5e4)]=_0x4780a8[_0x4c07f1(0x5e4)]),_0x4780a8[_0x4c07f1(0x287)]&&(_0x15df31[_0x4c07f1(0x287)]=_0x4780a8[_0x4c07f1(0x287)]),_0x4780a8['role']&&(_0x15df31[_0x4c07f1(0x547)]=_0x4780a8[_0x4c07f1(0x547)]);}else _0x870b67[_0x4c07f1(0x3e4)][_0x4c07f1(0x19f)]({'_id':_0x4780a8[_0x4c07f1(0x60f)]||new we[(_0x4c07f1(0x56d))]['Types']['ObjectId']()[_0x4c07f1(0x35f)](),'fone':_0x4780a8[_0x4c07f1(0x43e)],'name':_0x4780a8[_0x4c07f1(0x5e4)],'email':_0x4780a8['email'],'role':_0x4780a8[_0x4c07f1(0x547)]});}let _0x4cd444=await _0x870b67[_0x4c07f1(0x72a)]();return this[_0x4c07f1(0x543)]=_0x4cd444,this[_0x4c07f1(0x2d4)][_0x4c07f1(0x27f)](this[_0x4c07f1(0x32a)]+'\x20('+this['instance'][_0x4c07f1(0x396)]+_0x4c07f1(0x61b)),this[_0x4c07f1(0x2d4)]['verbose'](this[_0x4c07f1(0x32a)]+'\x20('+this[_0x4c07f1(0x61a)][_0x4c07f1(0x396)]+_0x4c07f1(0x3d4)+this[_0x4c07f1(0x543)]),_0x4cd444;}catch(_0x4dd091){throw this[_0x4c07f1(0x2d4)][_0x4c07f1(0x2bd)](this['instanceName']+'\x20('+this[_0x4c07f1(0x61a)][_0x4c07f1(0x396)]+_0x4c07f1(0x42d)+_0x4dd091),new g('Erro\x20ao\x20editar\x20agentes:\x20'+_0x4dd091['message']);}}async[a0_0x5e0602(0x1f1)](_0x9b19fd){const _0x2849d9=a0_0x5e0602;let _0x44443a=this[_0x2849d9(0x61a)][_0x2849d9(0x396)];try{let _0x2b792f=await ae[_0x2849d9(0x733)](_0x44443a);_0x2b792f||(_0x2b792f=new ae({'_id':_0x44443a}),await _0x2b792f[_0x2849d9(0x72a)]());let _0x3f5f2b=_0x9b19fd[_0x2849d9(0x60f)]?_0x2b792f['customFields'][_0x2849d9(0x2d6)](_0x11945b=>_0x11945b[_0x2849d9(0x60f)]===_0x9b19fd[_0x2849d9(0x60f)]):-0x1,_0x40529a=!0x1,_0x4bcdfe=_0x2b792f[_0x2849d9(0x1e3)][_0x2849d9(0x517)](_0x37e083=>_0x37e083[_0x2849d9(0x4b2)]===_0x9b19fd['order']);if(_0x9b19fd['delete']&&_0x3f5f2b>-0x1)_0x2b792f[_0x2849d9(0x1e3)]['splice'](_0x3f5f2b,0x1),_0x40529a=!0x0;else{if(_0x3f5f2b>-0x1){if(_0x2b792f[_0x2849d9(0x1e3)][_0x2849d9(0x517)](_0x17d5a5=>_0x17d5a5[_0x2849d9(0x5e4)]===_0x9b19fd[_0x2849d9(0x5e4)]&&_0x17d5a5[_0x2849d9(0x60f)]!==_0x9b19fd[_0x2849d9(0x60f)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');let _0x3fdb95=_0x2b792f[_0x2849d9(0x1e3)][_0x3f5f2b];_0x9b19fd[_0x2849d9(0x4b2)]&&(_0x4bcdfe||!Number[_0x2849d9(0x253)](_0x9b19fd[_0x2849d9(0x4b2)]))&&(_0x3fdb95['order']=_0x9b19fd[_0x2849d9(0x4b2)],_0x40529a=!0x0),_0x9b19fd[_0x2849d9(0x5e4)]&&(_0x3fdb95[_0x2849d9(0x5e4)]=_0x9b19fd['name']);}else{if(_0x2b792f[_0x2849d9(0x1e3)][_0x2849d9(0x517)](_0x402efd=>_0x402efd[_0x2849d9(0x5e4)]===_0x9b19fd['name']&&_0x402efd[_0x2849d9(0x60f)]!==_0x9b19fd['_id']))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x2b792f['customFields'][_0x2849d9(0x19f)]({'_id':_0x9b19fd[_0x2849d9(0x60f)]||new we[(_0x2849d9(0x56d))][(_0x2849d9(0x197))][(_0x2849d9(0x545))]()[_0x2849d9(0x35f)](),'order':_0x9b19fd['order'],'name':_0x9b19fd[_0x2849d9(0x5e4)]}),_0x40529a=!0x0;}}if(_0x40529a){_0x2b792f[_0x2849d9(0x1e3)][_0x2849d9(0x3b1)]((_0xe9e9c5,_0x38212e)=>_0xe9e9c5[_0x2849d9(0x4b2)]>_0x38212e[_0x2849d9(0x4b2)]?0x1:_0x38212e['order']>_0xe9e9c5[_0x2849d9(0x4b2)]?-0x1:0x0);for(let _0x36114c=0x0;_0x36114c<_0x2b792f[_0x2849d9(0x1e3)]['length'];_0x36114c++)_0x2b792f[_0x2849d9(0x1e3)][_0x36114c][_0x2849d9(0x4b2)]=_0x36114c+0x1;}let _0x448fec=await _0x2b792f[_0x2849d9(0x72a)]();return this[_0x2849d9(0x543)]=_0x448fec,this[_0x2849d9(0x2d4)][_0x2849d9(0x27f)](this[_0x2849d9(0x32a)]+'\x20('+this[_0x2849d9(0x61a)][_0x2849d9(0x396)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x2849d9(0x61a)][_0x2849d9(0x396)]+'):\x20'+this[_0x2849d9(0x543)]),_0x448fec;}catch(_0x19e036){throw this[_0x2849d9(0x2d4)][_0x2849d9(0x2bd)](this['instanceName']+'\x20('+this[_0x2849d9(0x61a)][_0x2849d9(0x396)]+_0x2849d9(0x3be)+_0x19e036),new g(_0x2849d9(0x2c8)+_0x19e036[_0x2849d9(0x25f)]);}}async['updateFlowConfig'](_0x5236fb){const _0x1f8bcf=a0_0x5e0602;let _0x98e423=this['instance'][_0x1f8bcf(0x396)];try{let _0x4f9937=await ae[_0x1f8bcf(0x733)](_0x98e423);_0x4f9937||(_0x4f9937=new ae({'_id':_0x98e423}),await _0x4f9937[_0x1f8bcf(0x72a)]()),_0x4f9937['flowConfig'][_0x1f8bcf(0x182)]=_0x5236fb?.[_0x1f8bcf(0x182)]!==void 0x0?_0x5236fb?.[_0x1f8bcf(0x182)]:_0x4f9937[_0x1f8bcf(0x400)][_0x1f8bcf(0x182)],_0x4f9937['flowConfig'][_0x1f8bcf(0x608)]=_0x5236fb?.['ignoreGroups']!==void 0x0?_0x5236fb?.['ignoreGroups']:_0x4f9937[_0x1f8bcf(0x400)][_0x1f8bcf(0x608)],_0x4f9937[_0x1f8bcf(0x400)][_0x1f8bcf(0x6ef)]=_0x5236fb?.['prefixCommand']??_0x4f9937[_0x1f8bcf(0x400)][_0x1f8bcf(0x6ef)],_0x4f9937['flowConfig']['stopConversation']=_0x5236fb?.['stopConversation']??_0x4f9937[_0x1f8bcf(0x400)][_0x1f8bcf(0x3af)],_0x4f9937[_0x1f8bcf(0x400)][_0x1f8bcf(0x403)]=_0x5236fb?.['stopMinutes']??_0x4f9937['flowConfig'][_0x1f8bcf(0x403)];let _0x31415f=await _0x4f9937[_0x1f8bcf(0x72a)]();return this[_0x1f8bcf(0x543)]=_0x31415f,this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x1f8bcf(0x61a)][_0x1f8bcf(0x396)]+_0x1f8bcf(0x61b)),this[_0x1f8bcf(0x2d4)][_0x1f8bcf(0x27f)](this[_0x1f8bcf(0x32a)]+'\x20('+this['instance'][_0x1f8bcf(0x396)]+_0x1f8bcf(0x3d4)+this[_0x1f8bcf(0x543)]),_0x31415f;}catch(_0x3e6be0){throw this[_0x1f8bcf(0x2d4)][_0x1f8bcf(0x2bd)](this['instanceName']+'\x20('+this[_0x1f8bcf(0x61a)][_0x1f8bcf(0x396)]+_0x1f8bcf(0x42d)+_0x3e6be0),new g('Erro\x20ao\x20editar\x20agentes:\x20'+_0x3e6be0['message']);}}async[a0_0x5e0602(0x2da)](){const _0x52b4dc=a0_0x5e0602;let _0x4937e4=this[_0x52b4dc(0x61a)][_0x52b4dc(0x396)];try{let _0x40e721=await ae['findById'](_0x4937e4);return _0x40e721||(_0x40e721=new ae({'_id':_0x4937e4})),_0x40e721[_0x52b4dc(0x400)]=_0x40e721['flowConfig']||{},_0x40e721[_0x52b4dc(0x400)][_0x52b4dc(0x182)]===void 0x0&&(_0x40e721[_0x52b4dc(0x400)]['enabled']=!0x1),_0x40e721[_0x52b4dc(0x400)][_0x52b4dc(0x608)]===void 0x0&&(_0x40e721[_0x52b4dc(0x400)][_0x52b4dc(0x608)]=!0x0),_0x40e721[_0x52b4dc(0x400)][_0x52b4dc(0x6ef)]===void 0x0&&(_0x40e721[_0x52b4dc(0x400)][_0x52b4dc(0x6ef)]='!'),_0x40e721[_0x52b4dc(0x400)][_0x52b4dc(0x3af)]===void 0x0&&(_0x40e721[_0x52b4dc(0x400)][_0x52b4dc(0x3af)]=_0x52b4dc(0x186)),_0x40e721[_0x52b4dc(0x400)][_0x52b4dc(0x403)]===void 0x0&&(_0x40e721['flowConfig']['stopMinutes']=0x14),await _0x40e721[_0x52b4dc(0x72a)](),this[_0x52b4dc(0x543)]=_0x40e721,this[_0x52b4dc(0x2d4)][_0x52b4dc(0x27f)](this[_0x52b4dc(0x32a)]+'\x20('+this[_0x52b4dc(0x61a)]['wuid']+'):\x20Visualizando\x20AutomateSystem'),this['logger'][_0x52b4dc(0x27f)](this[_0x52b4dc(0x543)]),_0x40e721;}catch(_0x4fbb84){throw this[_0x52b4dc(0x2d4)][_0x52b4dc(0x2bd)](this[_0x52b4dc(0x32a)]+'\x20('+this[_0x52b4dc(0x61a)][_0x52b4dc(0x396)]+'):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+_0x4fbb84[_0x52b4dc(0x25f)]),new g('Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+_0x4fbb84[_0x52b4dc(0x25f)]);}}async[a0_0x5e0602(0x22e)](){const _0x3b4dff=a0_0x5e0602;let _0x2c3858=()=>{const _0xa600fb=a0_0x3589;this['logger'][_0xa600fb(0x27f)](this['instanceName']+'\x20('+this[_0xa600fb(0x61a)][_0xa600fb(0x396)]+'):\x20this.processingScheduleMessageId:\x20'+this[_0xa600fb(0x16d)]+_0xa600fb(0x620));},_0x8db2e0=async()=>{const _0x14b327=a0_0x3589;this[_0x14b327(0x2d4)][_0x14b327(0x27f)](this[_0x14b327(0x32a)]+'\x20('+this['instance']['wuid']+_0x14b327(0x697));let _0x3bfbe4=Date[_0x14b327(0x369)]()-0xc*0x3c*0x3c*0x3e8;return await L[_0x14b327(0x6f2)]({'owner':this['instance']['wuid'],'status':{'$in':[_0x14b327(0x1ea),'sending']},'$or':[{'when':{'$lte':Date[_0x14b327(0x369)](),'$gte':_0x3bfbe4}},{'when':0x0}]});},_0x59435a=async _0x457b6f=>{const _0x411f14=a0_0x3589;for(let _0x138b1d of _0x457b6f){if(!await L[_0x411f14(0x5db)]({'_id':_0x138b1d[_0x411f14(0x60f)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date['now']()-0x1770}}]},{'$set':{'startSend':Date[_0x411f14(0x369)]()}}))return;if(!this[_0x411f14(0x228)]){this[_0x411f14(0x2d4)][_0x411f14(0x27f)](this[_0x411f14(0x32a)]+'\x20('+this['instance'][_0x411f14(0x396)]+_0x411f14(0x274));break;}(!_0x138b1d[_0x411f14(0x37d)]||_0x138b1d[_0x411f14(0x37d)][_0x411f14(0x3f7)]===0x0)&&(_0x138b1d=await L['findByIdAndUpdate'](_0x138b1d[_0x411f14(0x60f)],{'$set':{'status':'sending','remoteJidsRemaining':[..._0x138b1d['remoteJids']]}},{'new':!0x0}));for(let _0x3db0f7 of _0x138b1d[_0x411f14(0x37d)]){if(this[_0x411f14(0x653)]=Date['now'](),_0x138b1d[_0x411f14(0x26a)]['some'](_0x58ab1f=>_0x58ab1f[_0x411f14(0x51c)]===_0x3db0f7)){this[_0x411f14(0x2d4)][_0x411f14(0x27f)](this[_0x411f14(0x32a)]+'\x20('+this[_0x411f14(0x61a)][_0x411f14(0x396)]+_0x411f14(0x405)+_0x3db0f7+'.\x20Pulando.');continue;}try{let _0x477dd1=await this[_0x411f14(0x46d)](_0x3db0f7,_0x138b1d),_0x78e8c5={'remoteJid':_0x3db0f7,'error':_0x477dd1[_0x411f14(0x2bd)],'id':_0x477dd1['id']||null,'error_log':_0x477dd1[_0x411f14(0x5d0)]||null,'log_timestamp':Date[_0x411f14(0x369)]()};if((await L[_0x411f14(0x198)](_0x138b1d[_0x411f14(0x60f)],{'$push':{'messagesSend':_0x78e8c5},'$pull':{'remoteJidsRemaining':_0x3db0f7}},{'new':!0x0}))[_0x411f14(0x5a7)]===_0x411f14(0x436)){this[_0x411f14(0x2d4)][_0x411f14(0x27f)](this[_0x411f14(0x32a)]+'\x20('+this[_0x411f14(0x61a)]['wuid']+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x138b1d[_0x411f14(0x60f)]+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}if(!this[_0x411f14(0x228)]){this[_0x411f14(0x2d4)][_0x411f14(0x27f)](this[_0x411f14(0x32a)]+'\x20('+this[_0x411f14(0x61a)][_0x411f14(0x396)]+_0x411f14(0x3cb));break;}if(!this['processingScheduleMessageId']){this[_0x411f14(0x2d4)]['verbose'](this[_0x411f14(0x32a)]+'\x20('+this['instance'][_0x411f14(0x396)]+_0x411f14(0x246)+_0x138b1d[_0x411f14(0x60f)]+_0x411f14(0x24f));break;}let _0x80d63e=this[_0x411f14(0x227)](_0x138b1d['delaySecMin'],_0x138b1d[_0x411f14(0x4d0)]);await this[_0x411f14(0x3d6)](_0x80d63e);}catch(_0x4e8600){this[_0x411f14(0x2d4)][_0x411f14(0x2bd)](this[_0x411f14(0x32a)]+'\x20('+this['instance']['wuid']+_0x411f14(0x557)+_0x3db0f7+':\x20'+_0x4e8600['message']);let _0x521f78={'remoteJid':_0x3db0f7,'status':_0x411f14(0x2bd),'timestamp':Date['now'](),'error':_0x4e8600[_0x411f14(0x25f)]};await L['findByIdAndUpdate'](_0x138b1d[_0x411f14(0x60f)],{'$push':{'messagesSend':_0x521f78},'$pull':{'remoteJidsRemaining':_0x3db0f7}},{'new':!0x0});}}let _0x118621=await L[_0x411f14(0x733)](_0x138b1d[_0x411f14(0x60f)]);_0x118621['remoteJidsRemaining']['length']===0x0&&_0x118621[_0x411f14(0x5a7)]!=='stopped'&&await L[_0x411f14(0x198)](_0x138b1d[_0x411f14(0x60f)],{'$set':{'status':_0x411f14(0x5b9)}},{'new':!0x0}),await new Promise(_0x16327e=>setTimeout(_0x16327e,0x1388));}},_0x433a00=async()=>{const _0x5a26d6=a0_0x3589;let _0x23697c=await L[_0x5a26d6(0x648)]({'owner':this['instance'][_0x5a26d6(0x396)],'status':'scheduled','when':{'$gt':Date[_0x5a26d6(0x369)]()}})[_0x5a26d6(0x3b1)]({'when':0x1});_0x23697c&&_0x23697c[_0x5a26d6(0x6b6)]-Date[_0x5a26d6(0x369)]()<=0x5265c00?this['delayMessage']=_0x23697c[_0x5a26d6(0x6b6)]-Date[_0x5a26d6(0x369)]():this[_0x5a26d6(0x4a0)]=(0x3c+Math['floor'](Math['random']()*0x3c))*0x3c*0x3e8,this[_0x5a26d6(0x4a0)]=Math[_0x5a26d6(0x356)](this[_0x5a26d6(0x4a0)],0x7d0);let _0x1a505a=Math['round'](this['delayMessage']/0xea60);if(_0x23697c){let _0x3d46b8=new Date(_0x23697c['when'])[_0x5a26d6(0x598)]();this[_0x5a26d6(0x2d4)][_0x5a26d6(0x27f)](this['instanceName']+'\x20('+this[_0x5a26d6(0x61a)]['wuid']+'):\x20encontrado\x20próxima\x20mensagem\x20para\x20'+_0x3d46b8+_0x5a26d6(0x47e)+_0x1a505a+_0x5a26d6(0x44f));}else this[_0x5a26d6(0x2d4)]['verbose'](this[_0x5a26d6(0x32a)]+'\x20('+this[_0x5a26d6(0x61a)][_0x5a26d6(0x396)]+_0x5a26d6(0x2a7)+_0x1a505a+_0x5a26d6(0x44f));setTimeout(()=>this[_0x5a26d6(0x22e)](),this['delayMessage']);};if(this[_0x3b4dff(0x16d)]&&Date[_0x3b4dff(0x369)]()-this[_0x3b4dff(0x653)]<0x1d4c0){_0x2c3858();return;}try{let _0x28d0f1=await _0x8db2e0();_0x28d0f1['length']===0x0?this[_0x3b4dff(0x2d4)][_0x3b4dff(0x27f)](this['instanceName']+'\x20('+this[_0x3b4dff(0x61a)][_0x3b4dff(0x396)]+_0x3b4dff(0x5b0)):(this[_0x3b4dff(0x16d)]=_0x28d0f1[0x0][_0x3b4dff(0x60f)],await _0x59435a(_0x28d0f1)),await _0x433a00(),this[_0x3b4dff(0x16d)]=null;}catch(_0x4311ec){this[_0x3b4dff(0x2d4)][_0x3b4dff(0x2bd)](_0x3b4dff(0x585)+_0x4311ec[_0x3b4dff(0x25f)]);}}[a0_0x5e0602(0x227)](_0x379ebe,_0x4beef7){const _0x194de1=a0_0x5e0602;return _0x379ebe=Math[_0x194de1(0x356)](0.5,_0x379ebe),_0x4beef7=Math[_0x194de1(0x356)](0x3,_0x4beef7),Math[_0x194de1(0x378)](Math[_0x194de1(0x3ca)]()*(_0x4beef7-_0x379ebe+0x1)+_0x379ebe)*0x3e8;}[a0_0x5e0602(0x3d6)](_0x12325f){return new Promise(_0x39eb44=>setTimeout(_0x39eb44,_0x12325f));}async[a0_0x5e0602(0x630)](_0x49d0fc){const _0x29d9b9=a0_0x5e0602;if(!this[_0x29d9b9(0x543)]&&(await this[_0x29d9b9(0x2da)](),!this[_0x29d9b9(0x543)]))return null;_0x49d0fc=this['createJid'](_0x49d0fc);let _0x5608e2=await this['repository'][_0x29d9b9(0x17a)][_0x29d9b9(0x648)]({'where':{'_id':_0x49d0fc,'owner':this['instance'][_0x29d9b9(0x396)]}}),_0xe0b15={};if(_0x5608e2&&_0x5608e2['leadInfo']){let _0x36b732=_0x5608e2['leadInfo'];typeof _0x36b732[_0x29d9b9(0x5a4)]==_0x29d9b9(0x30f)&&(_0xe0b15[_0x29d9b9(0x5a4)]=_0x36b732[_0x29d9b9(0x5a4)]),typeof _0x36b732['nomecompleto']==_0x29d9b9(0x30f)&&(_0xe0b15['nomecompleto']=_0x36b732[_0x29d9b9(0x6c2)]),typeof _0x36b732[_0x29d9b9(0x287)]==_0x29d9b9(0x30f)&&(_0xe0b15['email']=_0x36b732[_0x29d9b9(0x287)]),typeof _0x36b732[_0x29d9b9(0x3ec)]==_0x29d9b9(0x30f)&&(_0xe0b15[_0x29d9b9(0x3ec)]=_0x36b732['cpf']),typeof _0x36b732['status']=='string'&&(_0xe0b15[_0x29d9b9(0x5a7)]=_0x36b732['status']),typeof _0x36b732[_0x29d9b9(0x293)]=='string'&&(_0xe0b15[_0x29d9b9(0x293)]=_0x36b732[_0x29d9b9(0x293)]),typeof _0x36b732[_0x29d9b9(0x5dd)]==_0x29d9b9(0x30f)&&(_0xe0b15[_0x29d9b9(0x5dd)]=_0x36b732[_0x29d9b9(0x5dd)]),Array[_0x29d9b9(0x338)](_0x36b732['tags'])&&(_0xe0b15[_0x29d9b9(0x709)]=_0x36b732[_0x29d9b9(0x709)]['join'](',\x20'));}return _0x5608e2&&_0x5608e2[_0x29d9b9(0x4da)]&&_0x5608e2['leadInfo'][_0x29d9b9(0x1e3)]&&_0x5608e2[_0x29d9b9(0x4da)]['customFields'][_0x29d9b9(0x732)](_0x971cbe=>{const _0x140f4f=_0x29d9b9;let _0x23189c=this[_0x140f4f(0x543)]?.[_0x140f4f(0x1e3)][_0x140f4f(0x6f2)](_0x35f1c6=>_0x35f1c6['_id']===_0x971cbe[_0x140f4f(0x60f)]);_0x23189c&&(_0xe0b15[_0x23189c[_0x140f4f(0x5e4)]]=_0x971cbe[_0x140f4f(0x189)]);}),_0xe0b15;}async[a0_0x5e0602(0x6c1)](_0x1f06c4,_0x3ffe92){const _0x39d3e3=a0_0x5e0602;let _0x5a7cb3=await this[_0x39d3e3(0x630)](_0x3ffe92);return this[_0x39d3e3(0x4ae)](_0x1f06c4,_0x5a7cb3);}async['editScheduleMessage'](_0x348708){const _0xd709b7=a0_0x5e0602;try{if(this['logger'][_0xd709b7(0x27f)](this[_0xd709b7(0x32a)]+'\x20('+this[_0xd709b7(0x61a)]['wuid']+_0xd709b7(0x425)),_0x348708[_0xd709b7(0x567)]&&_0x348708[_0xd709b7(0x60f)]){if(this[_0xd709b7(0x16d)]===_0x348708['_id'][_0xd709b7(0x35f)]())throw new Error(_0xd709b7(0x2d1));let _0x33e0d1=await L['findByIdAndDelete'](_0x348708[_0xd709b7(0x60f)]);return setTimeout(()=>this[_0xd709b7(0x22e)](),0x7d0),_0x33e0d1;}let _0x404afc;if(_0x348708['_id']&&(_0x404afc=await L[_0xd709b7(0x648)]({'owner':this['instance'][_0xd709b7(0x396)],'_id':_0x348708[_0xd709b7(0x60f)]})),_0x404afc){let _0x51aec4=_0x348708;this['processingScheduleMessageId']===_0x404afc[_0xd709b7(0x60f)]['toString']()&&(_0x51aec4={'status':_0x348708[_0xd709b7(0x5a7)],'_id':_0x348708[_0xd709b7(0x60f)]});let _0x87846b=await L['findByIdAndUpdate'](_0x404afc[_0xd709b7(0x60f)],{'$set':_0x51aec4},{'new':!0x0});return setTimeout(()=>this[_0xd709b7(0x22e)](),0x7d0),_0x87846b;}else{_0x348708['owner']=this[_0xd709b7(0x61a)]['wuid'];let _0x3b0281=await new L(_0x348708)[_0xd709b7(0x72a)]();return setTimeout(()=>this[_0xd709b7(0x22e)](),0x7d0),_0x3b0281;}}catch(_0x3f1784){throw this[_0xd709b7(0x2d4)][_0xd709b7(0x2bd)](this[_0xd709b7(0x32a)]+'\x20('+this['instance']['wuid']+_0xd709b7(0x66b)+_0x3f1784),new g(_0xd709b7(0x703)+_0x3f1784[_0xd709b7(0x25f)]);}}async['getScheduleMessage'](){const _0x3fdd88=a0_0x5e0602;try{return await L[_0x3fdd88(0x6f2)]({'owner':this['instance']['wuid']})[_0x3fdd88(0x3b1)]({'when':0x1});}catch(_0x466915){throw this['logger'][_0x3fdd88(0x2bd)](this[_0x3fdd88(0x32a)]+'\x20('+this['instance']['wuid']+_0x3fdd88(0x591)+_0x466915),new g(_0x3fdd88(0x703)+_0x466915[_0x3fdd88(0x25f)]);}}async['deleteDoneMessages'](){const _0x49ebf0=a0_0x5e0602;try{return await L['deleteMany']({'owner':this[_0x49ebf0(0x61a)][_0x49ebf0(0x396)],'status':_0x49ebf0(0x5b9)}),this[_0x49ebf0(0x2d4)][_0x49ebf0(0x27f)](this[_0x49ebf0(0x32a)]+'\x20('+this[_0x49ebf0(0x61a)][_0x49ebf0(0x396)]+_0x49ebf0(0x6c0)),this[_0x49ebf0(0x5b2)]();}catch(_0x3ca8eb){throw this[_0x49ebf0(0x2d4)]['error'](this[_0x49ebf0(0x32a)]+'\x20('+this[_0x49ebf0(0x61a)][_0x49ebf0(0x396)]+_0x49ebf0(0x2a5)+_0x3ca8eb),new g('Erro:'+_0x3ca8eb[_0x49ebf0(0x25f)]);}}async['SendScheduleMessage'](_0x5c4b0d,_0x13a28b){const _0x389ded=a0_0x5e0602;try{switch(_0x13a28b[_0x389ded(0x33e)]){case _0x389ded(0x711):return await this[_0x389ded(0x188)](_0x13a28b,_0x5c4b0d);case _0x389ded(0x69b):return await this['scheduleSendMedia'](_0x13a28b,_0x5c4b0d);case _0x389ded(0x25e):return await this[_0x389ded(0x631)](_0x13a28b,_0x5c4b0d);default:return this[_0x389ded(0x2d4)][_0x389ded(0x2bd)](this[_0x389ded(0x32a)]+'\x20('+this[_0x389ded(0x61a)]['wuid']+'):\x20Comando\x20desconhecido:\x20'+_0x13a28b[_0x389ded(0x33e)]),{'status':_0x389ded(0x2bd),'detail':_0x389ded(0x39a)};}}catch(_0x133596){return this[_0x389ded(0x2d4)][_0x389ded(0x2bd)](this[_0x389ded(0x32a)]+'\x20('+this[_0x389ded(0x61a)][_0x389ded(0x396)]+_0x389ded(0x569)+_0x133596),{'status':_0x389ded(0x2bd),'detail':_0x133596[_0x389ded(0x25f)]};}}[a0_0x5e0602(0x290)](_0xb66212){const _0x246958=a0_0x5e0602;let _0x1a1bbd=_0xb66212[_0x246958(0x675)]('|'),_0x206cd1=Math[_0x246958(0x378)](Math[_0x246958(0x3ca)]()*_0x1a1bbd[_0x246958(0x3f7)]);return _0x1a1bbd[_0x206cd1]['trim']();}async[a0_0x5e0602(0x188)](_0x549d9e,_0x22f411){const _0x3cf87b=a0_0x5e0602;if(this[_0x3cf87b(0x2d4)][_0x3cf87b(0x27f)](this[_0x3cf87b(0x32a)]+'\x20('+this[_0x3cf87b(0x61a)][_0x3cf87b(0x396)]+_0x3cf87b(0x222)),!_0x549d9e[_0x3cf87b(0x25f)][_0x3cf87b(0x711)]||_0x549d9e[_0x3cf87b(0x25f)][_0x3cf87b(0x711)][_0x3cf87b(0x3f7)]===0x0)return{'error':!0x0,'error_log':_0x3cf87b(0x6ca)};let _0x2ba195=this[_0x3cf87b(0x290)](_0x549d9e[_0x3cf87b(0x25f)][_0x3cf87b(0x711)]),_0x8913d3=await this['replaceVariablesChat'](_0x2ba195,_0x22f411),_0x3727f7={'number':_0x22f411,'options':{'delay':_0x549d9e[_0x3cf87b(0x25f)][_0x3cf87b(0x42c)]},'textMessage':{'text':_0x8913d3}},_0x53af5a=null;try{let _0x5e829e=await this['textMessage'](_0x3727f7);if(_0x5e829e&&_0x5e829e[_0x3cf87b(0x5a7)])return{'error':!0x1,'id':_0x5e829e[_0x3cf87b(0x32f)]['id']};_0x53af5a=JSON[_0x3cf87b(0x408)](_0x5e829e),this[_0x3cf87b(0x2d4)][_0x3cf87b(0x27f)](this['instanceName']+'\x20('+this[_0x3cf87b(0x61a)][_0x3cf87b(0x396)]+_0x3cf87b(0x3d4)+_0x53af5a);}catch(_0xd829dc){this[_0x3cf87b(0x2d4)][_0x3cf87b(0x2bd)](this[_0x3cf87b(0x32a)]+'\x20('+this[_0x3cf87b(0x61a)][_0x3cf87b(0x396)]+_0x3cf87b(0x71b)+_0xd829dc),_0x53af5a=_0xd829dc[_0x3cf87b(0x25f)];}if(_0x53af5a)return{'error':!0x0,'error_log':(typeof _0x53af5a==_0x3cf87b(0x519)?JSON[_0x3cf87b(0x408)](_0x53af5a,null,0x2):_0x53af5a)['replace'](/[\[\]{}\n]/g,'\x20')[_0x3cf87b(0x480)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x2118ac,_0x1a0c1e){const _0x441a0a=a0_0x5e0602;this[_0x441a0a(0x2d4)][_0x441a0a(0x27f)](this[_0x441a0a(0x32a)]+'\x20('+this['instance']['wuid']+_0x441a0a(0x187));let _0x4da609;if(_0x2118ac['message'][_0x441a0a(0x711)]&&_0x2118ac['message']['text'][_0x441a0a(0x3f7)]>0x0){let _0x1a5e88=this[_0x441a0a(0x290)](_0x2118ac[_0x441a0a(0x25f)][_0x441a0a(0x711)]);_0x4da609=await this[_0x441a0a(0x6c1)](_0x1a5e88,_0x1a0c1e);}let _0x225558={'number':_0x1a0c1e,'options':{'delay':_0x2118ac[_0x441a0a(0x25f)]['delay']},'mediaMessage':{'mediatype':_0x2118ac[_0x441a0a(0x25f)][_0x441a0a(0x17c)],'caption':_0x4da609,'media':_0x2118ac[_0x441a0a(0x25f)][_0x441a0a(0x587)]}},_0x2c55e5=null;try{let _0xb18d30=await this[_0x441a0a(0x4aa)](_0x225558);if(_0xb18d30&&_0xb18d30[_0x441a0a(0x5a7)])return{'error':!0x1,'id':_0xb18d30[_0x441a0a(0x32f)]['id']};_0x2c55e5=JSON[_0x441a0a(0x408)](_0xb18d30),this['logger']['verbose'](this[_0x441a0a(0x32a)]+'\x20('+this[_0x441a0a(0x61a)][_0x441a0a(0x396)]+_0x441a0a(0x3d4)+_0x2c55e5);}catch(_0x4d7221){this[_0x441a0a(0x2d4)][_0x441a0a(0x2bd)](this[_0x441a0a(0x32a)]+'\x20('+this[_0x441a0a(0x61a)][_0x441a0a(0x396)]+_0x441a0a(0x399)+_0x4d7221[_0x441a0a(0x25f)]),_0x2c55e5=_0x4d7221[_0x441a0a(0x25f)];}if(_0x2c55e5)return{'error':!0x0,'error_log':(typeof _0x2c55e5=='object'?JSON[_0x441a0a(0x408)](_0x2c55e5,null,0x2):_0x2c55e5)[_0x441a0a(0x480)](/[\[\]{}\n]/g,'\x20')[_0x441a0a(0x480)](/  +/g,'\x20')};}async[a0_0x5e0602(0x631)](_0x213954,_0x39f879){const _0x4b109d=a0_0x5e0602;this['logger']['verbose'](this[_0x4b109d(0x32a)]+'\x20('+this[_0x4b109d(0x61a)]['wuid']+'):\x20Enviando\x20áudio');let _0x36c5a6={'number':_0x39f879,'options':{'delay':_0x213954[_0x4b109d(0x25f)][_0x4b109d(0x42c)]},'audioMessage':{'audio':_0x213954[_0x4b109d(0x25f)][_0x4b109d(0x587)]}},_0x2a1d8f=null;try{let _0x5609fc=await this['audioWhatsapp'](_0x36c5a6);if(_0x5609fc&&_0x5609fc[_0x4b109d(0x5a7)])return{'error':!0x1,'id':_0x5609fc[_0x4b109d(0x32f)]['id']};_0x2a1d8f=JSON['stringify'](_0x5609fc),this[_0x4b109d(0x2d4)][_0x4b109d(0x27f)](this[_0x4b109d(0x32a)]+'\x20('+this[_0x4b109d(0x61a)][_0x4b109d(0x396)]+_0x4b109d(0x3d4)+_0x2a1d8f);}catch(_0x3814d4){this[_0x4b109d(0x2d4)]['error'](this[_0x4b109d(0x32a)]+'\x20('+this[_0x4b109d(0x61a)][_0x4b109d(0x396)]+_0x4b109d(0x1ed)+_0x3814d4),_0x2a1d8f=_0x3814d4[_0x4b109d(0x25f)];}if(_0x2a1d8f)return{'error':!0x0,'error_log':(typeof _0x2a1d8f==_0x4b109d(0x519)?JSON['stringify'](_0x2a1d8f,null,0x2):_0x2a1d8f)['replace'](/[\[\]{}\n]/g,'\x20')[_0x4b109d(0x480)](/  +/g,'\x20')};}},be=require(a0_0x5e0602(0x6c9)),_t=class c{constructor(_0x2146d2,_0x1cc599,_0x412744){const _0x281cda=a0_0x5e0602;this['eventEmitter']=_0x2146d2,this[_0x281cda(0x674)]=_0x1cc599,this[_0x281cda(0x323)]=_0x412744,this['db']={},this[_0x281cda(0x315)]={},this['logger']=new N(c['name']),this[_0x281cda(0x5d6)]={},(this['removeInstance'](),this[_0x281cda(0x2e8)](),this[_0x281cda(0x6b4)](),Object[_0x281cda(0x4b1)](this['db'],_0x1cc599['get'](_0x281cda(0x2b2))),Object[_0x281cda(0x4b1)](this[_0x281cda(0x315)],_0x1cc599[_0x281cda(0x43f)]('REDIS')),this[_0x281cda(0x544)]=this['db'][_0x281cda(0x583)]?this[_0x281cda(0x323)][_0x281cda(0x649)]?.['db'](this['db'][_0x281cda(0x520)]['DB_PREFIX_NAME']+_0x281cda(0x524)):void 0x0,this[_0x281cda(0x6fe)]=this[_0x281cda(0x315)][_0x281cda(0x583)]?new ne(this[_0x281cda(0x315)]):void 0x0);}[a0_0x5e0602(0x3b9)](_0x1d98b3){const _0x1f05d5=a0_0x5e0602;let _0x260ed4=this[_0x1f05d5(0x674)][_0x1f05d5(0x43f)](_0x1f05d5(0x40c));typeof _0x260ed4==_0x1f05d5(0x4bd)&&_0x260ed4>0x0&&setTimeout(()=>{const _0x30e571=_0x1f05d5;this[_0x30e571(0x5d6)][_0x1d98b3]?.[_0x30e571(0x5b5)]?.[_0x30e571(0x671)]!==_0x30e571(0x411)&&delete this[_0x30e571(0x5d6)][_0x1d98b3];},0x3e8*0x3c*_0x260ed4);}async[a0_0x5e0602(0x202)](_0xbcb5f5){const _0x271bb6=a0_0x5e0602;if(_0xbcb5f5&&!this[_0x271bb6(0x5d6)][_0xbcb5f5])throw new x(_0x271bb6(0x1c7)+_0xbcb5f5+_0x271bb6(0x2c1));let _0xd2b50a=[];for await(let [_0x291c8b,_0x214a8c]of Object['entries'](this['waInstances']))if(_0x214a8c&&_0x214a8c[_0x271bb6(0x5b5)][_0x271bb6(0x671)]===_0x271bb6(0x411)){let _0x1e1d47=await this[_0x271bb6(0x323)]['auth'][_0x271bb6(0x6f2)](_0x291c8b);_0xd2b50a[_0x271bb6(0x19f)]({'instance':{'instanceName':_0x291c8b,'apikey':_0x1e1d47['apikey'],'owner':_0x214a8c[_0x271bb6(0x396)],'profileName':await _0x214a8c[_0x271bb6(0x60c)]()||_0x271bb6(0x4bb),'profilePictureUrl':_0x214a8c[_0x271bb6(0x6ec)]}});}return _0xd2b50a[_0x271bb6(0x6f2)](_0x37c0d3=>_0x37c0d3[_0x271bb6(0x61a)][_0x271bb6(0x32a)]===_0xbcb5f5)??_0xd2b50a;}[a0_0x5e0602(0x6b4)](){setInterval(async()=>{const _0x2db2a6=a0_0x3589;if(this['db'][_0x2db2a6(0x583)])(await this[_0x2db2a6(0x544)][_0x2db2a6(0x5a5)]())['forEach'](async _0x458ddf=>{const _0x123685=_0x2db2a6;let _0x67feeb=_0x458ddf['namespace'][_0x123685(0x480)](/^[\w-]+./,'');await this[_0x123685(0x544)][_0x123685(0x3f0)](_0x67feeb)[_0x123685(0x4e0)]({'$or':[{'_id':{'$regex':/^app.state.*/}},{'_id':{'$regex':/^session-.*/}}]});});else{let _0x2b86ee=(0x0,te[_0x2db2a6(0x616)])(V,{'encoding':'utf-8'});for await(let _0x5fc4ee of _0x2b86ee)_0x5fc4ee['isDirectory']()&&(0x0,te[_0x2db2a6(0x1a7)])((0x0,be[_0x2db2a6(0x69c)])(V,_0x5fc4ee[_0x2db2a6(0x5e4)]),{'encoding':_0x2db2a6(0x6d3)})[_0x2db2a6(0x732)](async _0x26c76b=>{(_0x26c76b['match'](/^app.state.*/)||_0x26c76b['match'](/^session-.*/))&&(0x0,te['rmSync'])((0x0,be['join'])(V,_0x5fc4ee['name'],_0x26c76b),{'recursive':!0x0,'force':!0x0});});}},0xe10*0x3e8*0x2);}async['cleaningUp'](_0x3b4607){const _0x48d128=a0_0x5e0602;this['db'][_0x48d128(0x583)]&&(await this['repository'][_0x48d128(0x649)]['connect'](),(await this[_0x48d128(0x544)][_0x48d128(0x5a5)]())[_0x48d128(0x3f7)]>0x0&&await this['dbInstance'][_0x48d128(0x2b3)](_0x3b4607)),this['redis'][_0x48d128(0x583)]&&(this['redisCache']['reference']=_0x3b4607,await this[_0x48d128(0x6fe)][_0x48d128(0x548)]()),!this['db'][_0x48d128(0x583)]&&!this[_0x48d128(0x315)]['ENABLED']&&(0x0,te[_0x48d128(0x2f2)])((0x0,be[_0x48d128(0x69c)])(V,_0x3b4607),{'recursive':!0x0,'force':!0x0});}async['loadInstance'](){const _0x3bf3f7=a0_0x5e0602;let _0x26c5ca=async _0x3edbe0=>{const _0x42e699=a0_0x3589;let _0x147eca=new ye(this[_0x42e699(0x674)],this[_0x42e699(0x645)],this['repository']);_0x147eca[_0x42e699(0x32a)]=_0x3edbe0,await _0x147eca[_0x42e699(0x6bc)](),this[_0x42e699(0x5d6)][_0x3edbe0]=_0x147eca;};try{if(this['redis'][_0x3bf3f7(0x583)]){let _0x4d9bdc=await this['redisCache'][_0x3bf3f7(0x700)]();_0x4d9bdc?.[_0x3bf3f7(0x3f7)]>0x0&&_0x4d9bdc[_0x3bf3f7(0x732)](async _0x5022f8=>await _0x26c5ca(_0x5022f8[_0x3bf3f7(0x675)](':')[0x1]));}if(this['db'][_0x3bf3f7(0x583)]){await this[_0x3bf3f7(0x323)]['dbServer'][_0x3bf3f7(0x4eb)]();let _0x56919c=await this[_0x3bf3f7(0x544)][_0x3bf3f7(0x5a5)]();_0x56919c[_0x3bf3f7(0x3f7)]>0x0&&_0x56919c['forEach'](async _0x551a8b=>await _0x26c5ca(_0x551a8b['namespace']['replace'](/^[\w-]+\./,'')));return;}let _0x400f8a=(0x0,te[_0x3bf3f7(0x616)])(V,{'encoding':_0x3bf3f7(0x6d3)});for await(let _0x4f11c2 of _0x400f8a)if(_0x4f11c2[_0x3bf3f7(0x542)]()){if((0x0,te[_0x3bf3f7(0x1a7)])((0x0,be[_0x3bf3f7(0x69c)])(V,_0x4f11c2[_0x3bf3f7(0x5e4)]),{'encoding':_0x3bf3f7(0x6d3)})['length']===0x0){(0x0,te[_0x3bf3f7(0x2f2)])((0x0,be[_0x3bf3f7(0x69c)])(V,_0x4f11c2[_0x3bf3f7(0x5e4)]),{'recursive':!0x0,'force':!0x0});break;}await _0x26c5ca(_0x4f11c2['name']);}}catch(_0x25b3d7){this['logger'][_0x3bf3f7(0x2bd)](_0x25b3d7);}}['removeInstance'](){const _0x56df85=a0_0x5e0602;this[_0x56df85(0x645)]['on'](_0x56df85(0x468),async _0x2788e5=>{const _0x6e90ac=_0x56df85;try{this['waInstances'][_0x2788e5]=void 0x0;}catch{}try{this[_0x6e90ac(0x3e9)](_0x2788e5);}finally{this['logger'][_0x6e90ac(0x55e)](_0x6e90ac(0x1c7)+_0x2788e5+_0x6e90ac(0x47f));}});}['noConnection'](){const _0x4961fe=a0_0x5e0602;this[_0x4961fe(0x645)]['on'](_0x4961fe(0x632),async _0x9e0dd3=>{const _0x153835=_0x4961fe;try{this[_0x153835(0x5d6)][_0x9e0dd3]=void 0x0,this[_0x153835(0x3e9)](_0x9e0dd3);}catch(_0x4dfd98){this['logger'][_0x153835(0x2bd)]({'localError':_0x153835(0x2e8),'warn':_0x153835(0x1d7),'error':_0x4dfd98});}finally{this[_0x153835(0x2d4)][_0x153835(0x55e)](_0x153835(0x1c7)+_0x9e0dd3+_0x153835(0x63a));}});}},Ot=class extends W{constructor(_0x1aa87d){super(_0x1aa87d),this['configService']=_0x1aa87d;}[a0_0x5e0602(0x21f)](_0x4f2cc1){return Ps(_0x4f2cc1);}async[a0_0x5e0602(0x451)](_0x222725){const _0x55ec57=a0_0x5e0602;if(_0x222725[_0x55ec57(0x3f7)]!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x222725[0x0][_0x55ec57(0x367)])[_0x55ec57(0x446)]([..._0x222725]))['length']};}catch(_0x25ad91){return _0x25ad91;}}async[a0_0x5e0602(0x6f2)](_0x57e9e5){const _0x4cf5ae=a0_0x5e0602;try{return await this[_0x4cf5ae(0x21f)](_0x57e9e5['where'][_0x4cf5ae(0x367)])[_0x4cf5ae(0x6f2)]({..._0x57e9e5[_0x4cf5ae(0x4d4)]})[_0x4cf5ae(0x3b1)]({'lastmsg':-0x1})['limit'](_0x57e9e5?.['limit']??0x0)[_0x4cf5ae(0x691)]();}catch{return[];}}async['delete'](_0x1ca763){const _0xe0033e=a0_0x5e0602;try{return{'deletedCount':(await this[_0xe0033e(0x21f)](_0x1ca763[_0xe0033e(0x4d4)][_0xe0033e(0x367)])[_0xe0033e(0x4e0)]({..._0x1ca763[_0xe0033e(0x4d4)]}))[_0xe0033e(0x610)]};}catch(_0x54afba){return{'error':_0x54afba?.[_0xe0033e(0x35f)]()};}}async[a0_0x5e0602(0x309)](_0x38d4d7){const _0x543de6=a0_0x5e0602;try{return await this[_0x543de6(0x21f)](_0x38d4d7[_0x543de6(0x4d4)][_0x543de6(0x367)])[_0x543de6(0x4e0)]({..._0x38d4d7[_0x543de6(0x4d4)]}),[];}catch(_0x11e806){return{'error':_0x11e806?.[_0x543de6(0x35f)]()};}}async[a0_0x5e0602(0x648)](_0x2fe619){const _0x27d0f9=a0_0x5e0602;try{return await this[_0x27d0f9(0x21f)](_0x2fe619[_0x27d0f9(0x4d4)][_0x27d0f9(0x367)])[_0x27d0f9(0x648)]({..._0x2fe619[_0x27d0f9(0x4d4)]})[_0x27d0f9(0x691)]();}catch{return null;}}async[a0_0x5e0602(0x619)](_0xc82c78,_0x231fed,_0x11cdaa){const _0x50be96=a0_0x5e0602;try{let _0x247cc7={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x11cdaa};return await this['getChatModelForOwner'](_0xc82c78[_0x50be96(0x4d4)][_0x50be96(0x367)])[_0x50be96(0x5db)]({..._0xc82c78[_0x50be96(0x4d4)]},{'$set':_0x231fed},_0x247cc7);}catch(_0x39b679){return console['error'](_0x39b679),null;}}async[a0_0x5e0602(0x2ad)](_0x4d54ac){const _0x981ba3=a0_0x5e0602;try{let _0x3afd31=this['getChatModelForOwner'](_0x4d54ac[0x0][_0x981ba3(0x529)][_0x981ba3(0x4d4)][_0x981ba3(0x367)]),_0x2b7ddb=_0x4d54ac[_0x981ba3(0x503)](_0x4ca068=>({'updateOne':{'filter':{..._0x4ca068[_0x981ba3(0x529)]['where']},'update':{'$set':_0x4ca068[_0x981ba3(0x69e)]}}}));return(await _0x3afd31[_0x981ba3(0x6eb)](_0x2b7ddb))['modifiedCount'];}catch(_0x26dda6){return console[_0x981ba3(0x2bd)](_0x26dda6),0x0;}}},Pt=class{constructor(_0x1751a1){const _0x56248f=a0_0x5e0602;this[_0x56248f(0x682)]=_0x1751a1;}async[a0_0x5e0602(0x4dd)]({instanceName:_0x23506f},_0x1b699e){const _0x1436d9=a0_0x5e0602;return await this[_0x1436d9(0x682)][_0x1436d9(0x5d6)][_0x23506f][_0x1436d9(0x4dd)](_0x1b699e);}async[a0_0x5e0602(0x50d)]({instanceName:_0x3f0fe7},_0x5ef53a){const _0x5497f3=a0_0x5e0602;return await this['waMonitor'][_0x5497f3(0x5d6)][_0x3f0fe7][_0x5497f3(0x50d)](_0x5ef53a);}async['readMessage']({instanceName:_0x36119e},_0x1bd330){const _0x4e0bcb=a0_0x5e0602;return await this[_0x4e0bcb(0x682)]['waInstances'][_0x36119e]['markMessageAsRead'](_0x1bd330);}async[a0_0x5e0602(0x3d9)]({instanceName:_0x5b7682},_0xfda6fb){const _0xbe48df=a0_0x5e0602;return await this[_0xbe48df(0x682)]['waInstances'][_0x5b7682]['archiveChat'](_0xfda6fb);}async[a0_0x5e0602(0x5ce)]({instanceName:_0x465714},_0x4d4d01){const _0x4322a4=a0_0x5e0602;return await this[_0x4322a4(0x682)][_0x4322a4(0x5d6)][_0x465714][_0x4322a4(0x5ce)](_0x4d4d01);}async['fetchProfilePicture']({instanceName:_0x113aac},_0x2e9866){const _0x5a2b1f=a0_0x5e0602;return await this[_0x5a2b1f(0x682)][_0x5a2b1f(0x5d6)][_0x113aac]['profilePicture'](_0x2e9866[_0x5a2b1f(0x4bd)]);}async[a0_0x5e0602(0x6d5)]({instanceName:_0xaddbba},_0x4cdaf9){const _0xec5cc=a0_0x5e0602;return await this[_0xec5cc(0x682)][_0xec5cc(0x5d6)][_0xaddbba][_0xec5cc(0x6d5)](_0x4cdaf9[_0xec5cc(0x4bd)]);}async[a0_0x5e0602(0x6f7)]({instanceName:_0x57358f},_0x5639b3){const _0x2c6b32=a0_0x5e0602;return await this[_0x2c6b32(0x682)][_0x2c6b32(0x5d6)][_0x57358f]['updatePresence'](_0x5639b3);}async[a0_0x5e0602(0x43c)]({instanceName:_0x1f8e94},_0x1f765d){const _0x1f1c94=a0_0x5e0602;return await this['waMonitor'][_0x1f1c94(0x5d6)][_0x1f8e94]['fetchContacts'](_0x1f765d);}async[a0_0x5e0602(0x243)]({instanceName:_0x5a17f2},_0x12f3e3){const _0x70ec62=a0_0x5e0602;return await this[_0x70ec62(0x682)][_0x70ec62(0x5d6)][_0x5a17f2]['getBase64FromMediaMessage'](_0x12f3e3);}async[a0_0x5e0602(0x6f9)]({instanceName:_0x12a782},_0x12acaf){const _0xd59f8b=a0_0x5e0602;return await this['waMonitor']['waInstances'][_0x12a782][_0xd59f8b(0x6f9)](_0x12acaf);}async['fetchChats']({instanceName:_0xd162ee}){const _0xd9e83e=a0_0x5e0602;return await this[_0xd9e83e(0x682)]['waInstances'][_0xd162ee]['fetchChats']();}async[a0_0x5e0602(0x17f)]({instanceName:_0x50afa4}){const _0x5e6b45=a0_0x5e0602;return await this[_0x5e6b45(0x682)][_0x5e6b45(0x5d6)][_0x50afa4][_0x5e6b45(0x17f)]();}async['updatePrivacySettings']({instanceName:_0x2e9cfe},_0x55969f){const _0x250ac0=a0_0x5e0602;return await this['waMonitor'][_0x250ac0(0x5d6)][_0x2e9cfe][_0x250ac0(0x394)](_0x55969f);}async[a0_0x5e0602(0x336)]({instanceName:_0x388464},_0x31510b){const _0x36c809=a0_0x5e0602;return await this[_0x36c809(0x682)][_0x36c809(0x5d6)][_0x388464][_0x36c809(0x336)](_0x31510b[_0x36c809(0x4bd)]);}async[a0_0x5e0602(0x627)]({instanceName:_0x50fc03},_0x375f24){const _0x260942=a0_0x5e0602;return await this[_0x260942(0x682)][_0x260942(0x5d6)][_0x50fc03][_0x260942(0x627)](_0x375f24['name']);}async[a0_0x5e0602(0x53a)]({instanceName:_0x126373},_0x25eebb){const _0x9a1194=a0_0x5e0602;return await this[_0x9a1194(0x682)][_0x9a1194(0x5d6)][_0x126373][_0x9a1194(0x53a)](_0x25eebb[_0x9a1194(0x5a7)]);}async[a0_0x5e0602(0x6ba)]({instanceName:_0xb3f137},_0x2185e7){const _0x48d37c=a0_0x5e0602;return await this['waMonitor']['waInstances'][_0xb3f137]['updateProfilePicture'](_0x2185e7[_0x48d37c(0x281)]);}async[a0_0x5e0602(0x510)]({instanceName:_0x392952},_0x11c1fe){const _0x6c097=a0_0x5e0602;return await this[_0x6c097(0x682)]['waInstances'][_0x392952]['removeProfilePicture']();}},ms=require(a0_0x5e0602(0x2a1)),xt=class c{constructor(_0x531fd9,_0xd8edee,_0x4afd96,_0x3c96eb,_0x37c540){const _0xc37d92=a0_0x5e0602;this['waMonitor']=_0x531fd9,this['configService']=_0xd8edee,this['repository']=_0x4afd96,this['eventEmitter']=_0x3c96eb,this[_0xc37d92(0x250)]=_0x37c540,this['logger']=new N(c['name']);}async[a0_0x5e0602(0x4c4)]({instanceName:_0x9c5d46,apikey:_0x464c42}){const _0x2c0f37=a0_0x5e0602;let _0x19b871=new ye(this[_0x2c0f37(0x674)],this[_0x2c0f37(0x645)],this[_0x2c0f37(0x323)]);_0x19b871[_0x2c0f37(0x32a)]=_0x9c5d46,this[_0x2c0f37(0x682)][_0x2c0f37(0x5d6)][_0x19b871[_0x2c0f37(0x32a)]]=_0x19b871,this['waMonitor'][_0x2c0f37(0x3b9)](_0x19b871[_0x2c0f37(0x32a)]);let _0x3819f2={};_0x464c42?(await this[_0x2c0f37(0x323)][_0x2c0f37(0x35b)]['create']({'apikey':_0x464c42},_0x9c5d46),_0x3819f2['apikey']=_0x464c42):_0x3819f2=await this['authService'][_0x2c0f37(0x3c1)]({'instanceName':_0x19b871[_0x2c0f37(0x32a)]});let _0xc68113;return await _0x19b871['connectToWhatsapp'](),await(0x0,ms[_0x2c0f37(0x42c)])(0x7d0),_0xc68113=_0x19b871[_0x2c0f37(0x36c)],{'instance':{'instanceName':_0x19b871[_0x2c0f37(0x32a)],'status':_0x2c0f37(0x4b0)},'hash':_0x3819f2,'qrcode':_0xc68113};}async['connectToWhatsapp']({instanceName:_0x404a0c}){const _0x209e4f=a0_0x5e0602;try{let _0x4a52d9=this[_0x209e4f(0x682)]['waInstances'][_0x404a0c];switch(_0x4a52d9['connectionStatus']?.[_0x209e4f(0x671)]){case _0x209e4f(0x3de):return await _0x4a52d9[_0x209e4f(0x6bc)](),await(0x0,ms[_0x209e4f(0x42c)])(0x7d0),_0x4a52d9[_0x209e4f(0x36c)];case _0x209e4f(0x2fd):return _0x4a52d9[_0x209e4f(0x36c)];default:return await this[_0x209e4f(0x668)]({'instanceName':_0x404a0c});}}catch(_0x40ab6d){this[_0x209e4f(0x2d4)][_0x209e4f(0x656)](_0x40ab6d);}}async['connectionState']({instanceName:_0x32c754}){const _0x2777e7=a0_0x5e0602;let _0x13db70=this[_0x2777e7(0x682)][_0x2777e7(0x5d6)][_0x32c754][_0x2777e7(0x5b5)],_0x33fa3b=null;_0x13db70[_0x2777e7(0x671)]==='open'&&_0x32c754&&(_0x33fa3b=await this[_0x2777e7(0x682)]['instanceInfo'](_0x32c754));let _0x473af1=null;return _0x13db70[_0x2777e7(0x671)]===_0x2777e7(0x2fd)&&_0x32c754&&(_0x473af1=this[_0x2777e7(0x682)]['waInstances'][_0x32c754]['qrCode']),{'instance':_0x32c754,'connectionStatus':_0x13db70,'instanceInfo':_0x33fa3b,'qrcode':_0x473af1};}async[a0_0x5e0602(0x1d5)]({instanceName:_0x31a258}){const _0x3c91bd=a0_0x5e0602;try{return this[_0x3c91bd(0x682)][_0x3c91bd(0x5d6)][_0x31a258]?.[_0x3c91bd(0x3d3)]?.['ws']?.[_0x3c91bd(0x3de)](),{'status':_0x3c91bd(0x66f),'error':!0x1,'response':{'message':'Instance\x20restarted'}};}catch(_0x589023){this[_0x3c91bd(0x2d4)][_0x3c91bd(0x2bd)](_0x589023);}}async[a0_0x5e0602(0x5c3)]({instanceName:_0x234c70}){const _0x45e9b9=a0_0x5e0602;return _0x234c70?this['waMonitor']['instanceInfo'](_0x234c70):this['waMonitor'][_0x45e9b9(0x202)]();}async[a0_0x5e0602(0x415)]({instanceName:_0x33469f}){const _0x3a56c2=a0_0x5e0602;try{return await this[_0x3a56c2(0x682)]['waInstances'][_0x33469f]?.[_0x3a56c2(0x3d3)]?.[_0x3a56c2(0x415)](_0x3a56c2(0x357)+_0x33469f),{'error':!0x1,'message':_0x3a56c2(0x6bd)};}catch(_0x4f518a){throw new A(_0x4f518a[_0x3a56c2(0x35f)]());}}async[a0_0x5e0602(0x4ff)]({instanceName:_0x204031}){const _0x162baf=a0_0x5e0602;if((await this[_0x162baf(0x668)]({'instanceName':_0x204031}))[_0x162baf(0x5b5)][_0x162baf(0x671)]==='open')throw new g([_0x162baf(0x44b),_0x162baf(0x5f3)]);try{return delete this['waMonitor']['waInstances'][_0x204031],{'error':!0x1,'message':_0x162baf(0x445)};}catch(_0x1423f4){throw new g(_0x1423f4[_0x162baf(0x35f)]());}}async[a0_0x5e0602(0x427)](_0xdf764b,_0x266330){return await this['authService']['refreshToken'](_0x266330);}},se=require(a0_0x5e0602(0x66d)),$t=class{constructor(_0x515529){const _0x59e7f5=a0_0x5e0602;this[_0x59e7f5(0x682)]=_0x515529;}async[a0_0x5e0602(0x521)]({instanceName:_0x4e04b8},_0x50409f){const _0x1b098e=a0_0x5e0602;return await this[_0x1b098e(0x682)][_0x1b098e(0x5d6)][_0x4e04b8][_0x1b098e(0x296)](_0x50409f);}async[a0_0x5e0602(0x5e1)]({instanceName:_0x12ac6b},_0x34becd){const _0x4b7022=a0_0x5e0602;if((0x0,se[_0x4b7022(0x1fd)])(_0x34becd?.['mediaMessage']?.[_0x4b7022(0x69b)])&&!_0x34becd?.[_0x4b7022(0x4aa)]?.['fileName'])throw new g(_0x4b7022(0x3f5));if((0x0,se[_0x4b7022(0x65d)])(_0x34becd?.[_0x4b7022(0x4aa)]?.['media'])||(0x0,se['isBase64'])(_0x34becd?.[_0x4b7022(0x4aa)]?.[_0x4b7022(0x69b)]))return await this[_0x4b7022(0x682)][_0x4b7022(0x5d6)][_0x12ac6b][_0x4b7022(0x4aa)](_0x34becd);throw new g(_0x4b7022(0x657));}async[a0_0x5e0602(0x5ca)]({instanceName:_0x2e4ae6},_0x7eff71){const _0x4006d7=a0_0x5e0602;if((0x0,se[_0x4006d7(0x65d)])(_0x7eff71[_0x4006d7(0x5f8)]['image'])||(0x0,se[_0x4006d7(0x1fd)])(_0x7eff71[_0x4006d7(0x5f8)][_0x4006d7(0x68e)]))return await this[_0x4006d7(0x682)]['waInstances'][_0x2e4ae6][_0x4006d7(0x6f3)](_0x7eff71);throw new g(_0x4006d7(0x657));}async[a0_0x5e0602(0x2a4)]({instanceName:_0x1f4cb1},_0x2447d5){const _0x52c0de=a0_0x5e0602;if((0x0,se['isURL'])(_0x2447d5[_0x52c0de(0x58c)][_0x52c0de(0x25e)])||(0x0,se[_0x52c0de(0x1fd)])(_0x2447d5['audioMessage'][_0x52c0de(0x25e)]))return await this[_0x52c0de(0x682)][_0x52c0de(0x5d6)][_0x1f4cb1][_0x52c0de(0x272)](_0x2447d5);throw new g(_0x52c0de(0x657));}async[a0_0x5e0602(0x6b7)]({instanceName:_0x11c92a},_0x4cb78e){const _0x25d0a9=a0_0x5e0602;if((0x0,se[_0x25d0a9(0x1fd)])(_0x4cb78e[_0x25d0a9(0x461)][_0x25d0a9(0x4aa)]?.[_0x25d0a9(0x69b)])&&!_0x4cb78e[_0x25d0a9(0x461)]['mediaMessage']?.[_0x25d0a9(0x5d3)])throw new g(_0x25d0a9(0x3f5));return await this[_0x25d0a9(0x682)][_0x25d0a9(0x5d6)][_0x11c92a][_0x25d0a9(0x461)](_0x4cb78e);}async[a0_0x5e0602(0x497)]({instanceName:_0x99ce71},_0x311fca){const _0x406b9f=a0_0x5e0602;return await this['waMonitor'][_0x406b9f(0x5d6)][_0x99ce71]['locationMessage'](_0x311fca);}async[a0_0x5e0602(0x5f9)]({instanceName:_0x46f809},_0x2fe48a){const _0x2730d5=a0_0x5e0602;return await this[_0x2730d5(0x682)][_0x2730d5(0x5d6)][_0x46f809]['pollMessage'](_0x2fe48a);}async[a0_0x5e0602(0x2b0)]({instanceName:_0x50aafe},_0x319f72){const _0x77ec90=a0_0x5e0602;return await this[_0x77ec90(0x682)][_0x77ec90(0x5d6)][_0x50aafe][_0x77ec90(0x29a)](_0x319f72);}async[a0_0x5e0602(0x3bc)]({instanceName:_0x111517},_0x55d203){const _0x2464bb=a0_0x5e0602;return await this[_0x2464bb(0x682)]['waInstances'][_0x111517][_0x2464bb(0x5fe)](_0x55d203);}async[a0_0x5e0602(0x6fd)]({instanceName:_0x511048},_0x5b3d93){const _0x2b3c07=a0_0x5e0602;if(!_0x5b3d93[_0x2b3c07(0x6ce)][_0x2b3c07(0x43a)][_0x2b3c07(0x3f6)](/[^\(\)\w\sà-ú"-\+]+/))throw new g(_0x2b3c07(0x41a));return await this[_0x2b3c07(0x682)][_0x2b3c07(0x5d6)][_0x511048]['reactionMessage'](_0x5b3d93);}async[a0_0x5e0602(0x276)]({instanceName:_0x2c4397},_0x29281a){const _0x4470e7=a0_0x5e0602;return await this[_0x4470e7(0x682)][_0x4470e7(0x5d6)][_0x2c4397]['statusMessage'](_0x29281a);}},kt=class{constructor(_0x39dbc4){this['waMonitor']=_0x39dbc4;}async[a0_0x5e0602(0x1a8)](_0x5ca7d5,_0x173cf5){const _0x31a3e9=a0_0x5e0602;return await this[_0x31a3e9(0x682)][_0x31a3e9(0x5d6)][_0x5ca7d5[_0x31a3e9(0x32a)]][_0x31a3e9(0x1a8)](_0x173cf5);}async[a0_0x5e0602(0x738)](_0x2417b6,_0x780eca){const _0xe97ad2=a0_0x5e0602;return await this[_0xe97ad2(0x682)][_0xe97ad2(0x5d6)][_0x2417b6[_0xe97ad2(0x32a)]][_0xe97ad2(0x738)](_0x780eca);}async['groupDesc'](_0x4f28d2,_0x51e149){const _0x180c29=a0_0x5e0602;return await this['waMonitor']['waInstances'][_0x4f28d2[_0x180c29(0x32a)]][_0x180c29(0x615)](_0x51e149);}async[a0_0x5e0602(0x64a)](_0x41a615,_0x3ec4e8){const _0x1caf2f=a0_0x5e0602;return await this[_0x1caf2f(0x682)][_0x1caf2f(0x5d6)][_0x41a615['instanceName']]['groupName'](_0x3ec4e8);}async[a0_0x5e0602(0x6ea)](_0x232fc9,_0x547482){const _0x2210a0=a0_0x5e0602;return await this[_0x2210a0(0x682)][_0x2210a0(0x5d6)][_0x232fc9[_0x2210a0(0x32a)]][_0x2210a0(0x6ea)](_0x547482);}async[a0_0x5e0602(0x4c3)](_0x4e0153,_0x3303ef){const _0x1120c6=a0_0x5e0602;return await this[_0x1120c6(0x682)][_0x1120c6(0x5d6)][_0x4e0153['instanceName']][_0x1120c6(0x363)](_0x3303ef);}async['findGroups'](_0x4fa862){const _0x44cb0d=a0_0x5e0602;return await this[_0x44cb0d(0x682)][_0x44cb0d(0x5d6)][_0x4fa862[_0x44cb0d(0x32a)]][_0x44cb0d(0x375)]();}async[a0_0x5e0602(0x40d)](_0x49bb9e,_0x208c95){const _0x3b688c=a0_0x5e0602;return await this['waMonitor'][_0x3b688c(0x5d6)][_0x49bb9e['instanceName']][_0x3b688c(0x40d)](_0x208c95);}async[a0_0x5e0602(0x1e5)](_0x1deac2,_0x161718){const _0x2cca33=a0_0x5e0602;return await this[_0x2cca33(0x682)][_0x2cca33(0x5d6)][_0x1deac2[_0x2cca33(0x32a)]][_0x2cca33(0x1e5)](_0x161718);}async['revokeInviteCode'](_0x321562,_0x3d1e53){const _0x3ff935=a0_0x5e0602;return await this[_0x3ff935(0x682)][_0x3ff935(0x5d6)][_0x321562[_0x3ff935(0x32a)]]['revokeInviteCode'](_0x3d1e53);}async['findParticipants'](_0x529813,_0x18292c){const _0x3d68ed=a0_0x5e0602;return await this[_0x3d68ed(0x682)][_0x3d68ed(0x5d6)][_0x529813[_0x3d68ed(0x32a)]]['findParticipants'](_0x18292c);}async[a0_0x5e0602(0x484)](_0x4b59f5,_0x7ee199){const _0x2da487=a0_0x5e0602;return await this['waMonitor'][_0x2da487(0x5d6)][_0x4b59f5[_0x2da487(0x32a)]][_0x2da487(0x2e3)](_0x7ee199);}async[a0_0x5e0602(0x595)](_0x3852c1,_0x44207d){const _0x497fa8=a0_0x5e0602;return await this[_0x497fa8(0x682)][_0x497fa8(0x5d6)][_0x3852c1[_0x497fa8(0x32a)]][_0x497fa8(0x595)](_0x44207d);}async[a0_0x5e0602(0x44c)](_0x4f84cc,_0x1e1223){const _0x121790=a0_0x5e0602;return await this['waMonitor']['waInstances'][_0x4f84cc[_0x121790(0x32a)]][_0x121790(0x44c)](_0x1e1223);}},Lt=class{constructor(_0x95d541,_0x541d5e){const _0x746c83=a0_0x5e0602;this[_0x746c83(0x607)]=_0x95d541,this['configService']=_0x541d5e;}async['qrcode'](_0x32c4c9,_0x223306){const _0x5e0fe8=a0_0x5e0602;try{let _0x16cb3b=_0x32c4c9[_0x5e0fe8(0x719)];if(this[_0x5e0fe8(0x607)][_0x5e0fe8(0x5d6)][_0x16cb3b[_0x5e0fe8(0x32a)]][_0x5e0fe8(0x5b5)]['state']===_0x5e0fe8(0x411))throw new g(_0x5e0fe8(0x267));let _0x2d81dd=this[_0x5e0fe8(0x674)][_0x5e0fe8(0x43f)]('AUTHENTICATION')[_0x5e0fe8(0x2a6)];return _0x223306[_0x5e0fe8(0x5a7)](0xc8)[_0x5e0fe8(0x6c5)](_0x5e0fe8(0x63e),{'type':_0x2d81dd,..._0x16cb3b});}catch(_0x31f1ba){console[_0x5e0fe8(0x656)](_0x5e0fe8(0x658),_0x31f1ba);}}},Ut=class{constructor(_0x500609){const _0x18da92=a0_0x5e0602;this[_0x18da92(0x682)]=_0x500609;}[a0_0x5e0602(0x72e)](_0x579bf6,_0x118c80){const _0x26bd1a=a0_0x5e0602;return this[_0x26bd1a(0x682)][_0x26bd1a(0x5d6)][_0x579bf6['instanceName']][_0x26bd1a(0x23d)](_0x118c80);}async['find'](_0x1f9764){const _0x2107db=a0_0x5e0602;try{return await this['waMonitor'][_0x2107db(0x5d6)][_0x1f9764[_0x2107db(0x32a)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},ad=new N('FlowController'),Vt=class{constructor(_0x2ba082){const _0x5c3b56=a0_0x5e0602;this[_0x5c3b56(0x682)]=_0x2ba082;}async[a0_0x5e0602(0x208)](_0x141cec,_0x4a078e){const _0x288218=a0_0x5e0602;return await this[_0x288218(0x682)][_0x288218(0x5d6)][_0x141cec[_0x288218(0x32a)]]['editScheduleMessage'](_0x4a078e);}async['getScheduleMessage'](_0x4246a8){const _0x5507d0=a0_0x5e0602;return await this['waMonitor']['waInstances'][_0x4246a8[_0x5507d0(0x32a)]][_0x5507d0(0x5b2)]();}async[a0_0x5e0602(0x4f9)](_0x511ab6){const _0x1f545f=a0_0x5e0602;return await this[_0x1f545f(0x682)]['waInstances'][_0x511ab6['instanceName']][_0x1f545f(0x4f9)]();}async[a0_0x5e0602(0x2da)](_0x1c7896){const _0x4f2c5b=a0_0x5e0602;return await this[_0x4f2c5b(0x682)]['waInstances'][_0x1c7896['instanceName']]['getAutomateSystem']();}async['updateAgent'](_0x2fa7a4,_0x7d7f2d){const _0x169d15=a0_0x5e0602;return await this[_0x169d15(0x682)][_0x169d15(0x5d6)][_0x2fa7a4['instanceName']][_0x169d15(0x395)](_0x7d7f2d);}async[a0_0x5e0602(0x1f1)](_0x4f2980,_0x54c7b8){const _0x58c6f1=a0_0x5e0602;return await this['waMonitor'][_0x58c6f1(0x5d6)][_0x4f2980['instanceName']][_0x58c6f1(0x1f1)](_0x54c7b8);}async[a0_0x5e0602(0x552)](_0x9c744d,_0x96af1d){const _0x22d192=a0_0x5e0602;return await this[_0x22d192(0x682)][_0x22d192(0x5d6)][_0x9c744d['instanceName']][_0x22d192(0x552)](_0x96af1d);}async[a0_0x5e0602(0x343)](_0x5c5c3d,_0x5c3a6e){const _0x202f7a=a0_0x5e0602;return await this[_0x202f7a(0x682)][_0x202f7a(0x5d6)][_0x5c5c3d['instanceName']]['startFlow'](_0x5c3a6e);}async[a0_0x5e0602(0x32b)](_0x4372b,_0x2d8ed5){const _0x427b4b=a0_0x5e0602;return await this[_0x427b4b(0x682)]['waInstances'][_0x4372b['instanceName']][_0x427b4b(0x32b)](_0x2d8ed5);}async[a0_0x5e0602(0x490)](_0x411dc0,_0xb85bce){const _0x537709=a0_0x5e0602;return await this[_0x537709(0x682)][_0x537709(0x5d6)][_0x411dc0['instanceName']]['fetchConversation'](_0xb85bce);}async['editConversation'](_0xf024b5,_0x7e4cd5){const _0x2fa749=a0_0x5e0602;return await this[_0x2fa749(0x682)][_0x2fa749(0x5d6)][_0xf024b5[_0x2fa749(0x32a)]][_0x2fa749(0x612)](_0x7e4cd5);}async['deleteConversation'](_0x473907,_0x11800e){const _0x6484db=a0_0x5e0602;return await this[_0x6484db(0x682)][_0x6484db(0x5d6)][_0x473907[_0x6484db(0x32a)]][_0x6484db(0x38c)](_0x11800e);}async['getFlow'](_0x560cf1,_0xc3d9ca){const _0xe6d10=a0_0x5e0602;return await this[_0xe6d10(0x682)]['waInstances'][_0x560cf1[_0xe6d10(0x32a)]][_0xe6d10(0x3fa)](_0xc3d9ca[_0xe6d10(0x5e4)]);}async[a0_0x5e0602(0x628)](_0x350975,_0x3ce6f7){const _0x32db0a=a0_0x5e0602;return await this[_0x32db0a(0x682)][_0x32db0a(0x5d6)][_0x350975[_0x32db0a(0x32a)]][_0x32db0a(0x628)](_0x3ce6f7);}async[a0_0x5e0602(0x623)](_0x2c0fea,_0x4d5ffb){const _0x5208c3=a0_0x5e0602;return await this[_0x5208c3(0x682)][_0x5208c3(0x5d6)][_0x2c0fea[_0x5208c3(0x32a)]]['editFlow'](_0x4d5ffb);}async[a0_0x5e0602(0x237)](_0x1f46be,_0x58780b){const _0x188c61=a0_0x5e0602;return await this[_0x188c61(0x682)][_0x188c61(0x5d6)][_0x1f46be[_0x188c61(0x32a)]][_0x188c61(0x237)](_0x58780b);}async[a0_0x5e0602(0x53f)](_0x434557,_0x4bd2f7){const _0x2e1112=a0_0x5e0602;return await this[_0x2e1112(0x682)]['waInstances'][_0x434557['instanceName']][_0x2e1112(0x53f)](_0x4bd2f7);}async[a0_0x5e0602(0x518)](_0x455fc6,_0xe85dce){const _0x7a788b=a0_0x5e0602;return await this[_0x7a788b(0x682)][_0x7a788b(0x5d6)][_0x455fc6[_0x7a788b(0x32a)]]['editFlowGroup'](_0xe85dce);}async[a0_0x5e0602(0x4c1)](_0x2ffcc5,_0x5ef5be){const _0x670ca1=a0_0x5e0602;return await this['waMonitor'][_0x670ca1(0x5d6)][_0x2ffcc5[_0x670ca1(0x32a)]][_0x670ca1(0x4c1)](_0x5ef5be);}async['editFlowVaredit'](_0x21b23f,_0x2b4cd0){const _0x2d8dfe=a0_0x5e0602;return await this[_0x2d8dfe(0x682)][_0x2d8dfe(0x5d6)][_0x21b23f[_0x2d8dfe(0x32a)]]['editFlowVaredit'](_0x2b4cd0);}async[a0_0x5e0602(0x326)](_0x4b8775,_0x3cda3d){const _0x235fe7=a0_0x5e0602;return await this[_0x235fe7(0x682)][_0x235fe7(0x5d6)][_0x4b8775['instanceName']][_0x235fe7(0x326)](_0x3cda3d);}async[a0_0x5e0602(0x578)](_0x360930,_0xf3b7b){const _0x22aca4=a0_0x5e0602;return await this[_0x22aca4(0x682)][_0x22aca4(0x5d6)][_0x360930['instanceName']][_0x22aca4(0x578)](_0xf3b7b[_0x22aca4(0x5e4)]);}async[a0_0x5e0602(0x4d5)](_0x578d11){const _0xe654c2=a0_0x5e0602;return await this[_0xe654c2(0x682)][_0xe654c2(0x5d6)][_0x578d11[_0xe654c2(0x32a)]][_0xe654c2(0x4d5)]();}},jt=class{constructor(_0x3ce4a8){const _0x305ba8=a0_0x5e0602;this[_0x305ba8(0x6cb)]=_0x3ce4a8;}async['createWebhook'](_0x2c9eae,_0x1b7c24){return this['webhookService']['create'](_0x2c9eae,_0x1b7c24);}async['findWebhook'](_0x1e055c){const _0x3bf196=a0_0x5e0602;return this[_0x3bf196(0x6cb)][_0x3bf196(0x6f2)](_0x1e055c);}},Ft=class{constructor(_0x808e8f,_0x4dd845,_0x4874ce,_0xf0da64,_0x48541d,_0x446c98){const _0x2fda5a=a0_0x5e0602;this[_0x2fda5a(0x25f)]=_0x808e8f,this['chat']=_0x4dd845,this[_0x2fda5a(0x316)]=_0x4874ce,this['webhook']=_0xf0da64,this['auth']=_0x48541d,this[_0x2fda5a(0x6f4)]=_0x446c98;}get[a0_0x5e0602(0x649)](){return this['dbClient'];}},hs=require(a0_0x5e0602(0x6c9)),so=require('fs'),Bt=class extends W{constructor(_0x365530,_0xdb8ce4){const _0xb3d1d2=a0_0x5e0602;super(_0xdb8ce4),this[_0xb3d1d2(0x38d)]=_0x365530,this[_0xb3d1d2(0x674)]=_0xdb8ce4;}async[a0_0x5e0602(0x72e)](_0xc4883c,_0x41467d){const _0x260c8d=a0_0x5e0602;try{return this[_0x260c8d(0x638)]['ENABLED']?{'insertCount':(await this[_0x260c8d(0x38d)]['replaceOne']({'_id':_0x41467d},{..._0xc4883c},{'upsert':!0x0}))[_0x260c8d(0x4ba)]}:(this[_0x260c8d(0x4cb)]({'path':(0x0,hs[_0x260c8d(0x69c)])(this[_0x260c8d(0x65c)],_0x260c8d(0x473)),'fileName':_0x41467d,'data':_0xc4883c}),{'insertCount':0x1});}catch(_0x5ed680){return _0x5ed680;}}async[a0_0x5e0602(0x6f2)](_0x4250f8){const _0x402e19=a0_0x5e0602;try{return this[_0x402e19(0x638)][_0x402e19(0x583)]?await this['webhookModel']['findOne']({'_id':_0x4250f8}):JSON[_0x402e19(0x322)]((0x0,so[_0x402e19(0x63c)])((0x0,hs[_0x402e19(0x69c)])(this[_0x402e19(0x65c)],_0x402e19(0x473),_0x4250f8+_0x402e19(0x617)),{'encoding':_0x402e19(0x6d3)}));}catch{return{};}}},fs=require('path'),ao=require('fs'),qt=class extends W{constructor(_0x3323c0,_0x23d6c8){const _0x24155b=a0_0x5e0602;super(_0x23d6c8),this[_0x24155b(0x33c)]=_0x3323c0,this[_0x24155b(0x674)]=_0x23d6c8,this[_0x24155b(0x35b)]=_0x23d6c8[_0x24155b(0x43f)](_0x24155b(0x1ca));}async['create'](_0x9009b0,_0x4b6090){const _0xdde867=a0_0x5e0602;try{return this[_0xdde867(0x638)]['ENABLED']?{'insertCount':(await this[_0xdde867(0x33c)][_0xdde867(0x46e)]({'_id':_0x4b6090},{..._0x9009b0},{'upsert':!0x0}))['modifiedCount']}:(this[_0xdde867(0x4cb)]({'path':(0x0,fs['join'])(Gt,this[_0xdde867(0x35b)][_0xdde867(0x2a6)]),'fileName':_0x4b6090,'data':_0x9009b0}),{'insertCount':0x1});}catch(_0x43ab37){return{'error':_0x43ab37};}}async[a0_0x5e0602(0x6f2)](_0x11dd48){const _0x5d616d=a0_0x5e0602;try{return this[_0x5d616d(0x638)][_0x5d616d(0x583)]?await this[_0x5d616d(0x33c)][_0x5d616d(0x648)]({'_id':_0x11dd48}):JSON[_0x5d616d(0x322)]((0x0,ao['readFileSync'])((0x0,fs[_0x5d616d(0x69c)])(Gt,this['auth'][_0x5d616d(0x2a6)],_0x11dd48+'.json'),{'encoding':_0x5d616d(0x6d3)}));}catch{return{};}}},Ho=new N(a0_0x5e0602(0x45a)),Ko=new xe(S),zo=new Ot(S),Qo=new We(S),Yo=new Bt(Bs,S),Xo=new qt(Vs,S),le=new Ft(Ko,zo,Qo,Yo,Xo,M?.[a0_0x5e0602(0x28e)]()),F=new _t(Kt,S,le),Zo=new rt(S,F,le),er=new Ut(F),ls=new jt(er),R=new Vt(F),ie=new xt(F,S,le,Kt,Zo),Ba=new Lt(F,S),K=new $t(F),D=new Pt(F),U=new kt(F);Ho[a0_0x5e0602(0x447)](a0_0x5e0602(0x4e9));var Xd=require('express-async-errors'),ws=require('fs'),oo=T(require(a0_0x5e0602(0x61f))),ro=T(require(a0_0x5e0602(0x3ef))),Re=class c{static #e;static set['app'](_0xfe0f0f){this.#e=_0xfe0f0f;}static get[a0_0x5e0602(0x61f)](){const _0x45da83=a0_0x5e0602;let {FULLCHAIN:_0x10cda2,PRIVKEY:_0x52b6c5}=S['get'](_0x45da83(0x70d));return oo['createServer']({'cert':(0x0,ws[_0x45da83(0x63c)])(_0x10cda2),'key':(0x0,ws[_0x45da83(0x63c)])(_0x52b6c5)},c.#e);}static get[a0_0x5e0602(0x3ef)](){const _0x497df0=a0_0x5e0602;return ro[_0x497df0(0x252)](c.#e);}},pe=T(require('fs')),po=T(require(a0_0x5e0602(0x327))),Me=T(require(a0_0x5e0602(0x3f3))),Ie=T(require(a0_0x5e0602(0x6c9))),De=require(a0_0x5e0602(0x300));function tr(){const _0x544b49=a0_0x5e0602;F[_0x544b49(0x1b3)]();let _0x2a4f65=Ie[_0x544b49(0x56d)][_0x544b49(0x69c)](__dirname,'downloads');uo(_0x2a4f65);}var uo=_0x4f5523=>{const _0x3461af=a0_0x5e0602;let _0x5e0176=pe['default'][_0x3461af(0x1a7)](_0x4f5523),_0x3d5afc=0xc*0x3c*0x3c*0x3e8,_0x3a4596=0x2*0x3c*0x3c*0x3e8,_0x459552=new Date()[_0x3461af(0x5f2)]();_0x5e0176[_0x3461af(0x732)](_0x236ebd=>{const _0x207a24=_0x3461af;let _0x187203=Ie[_0x207a24(0x56d)][_0x207a24(0x69c)](_0x4f5523,_0x236ebd),_0x41aa2c=pe[_0x207a24(0x56d)]['statSync'](_0x187203)[_0x207a24(0x55a)][_0x207a24(0x5f2)]();_0x459552-_0x41aa2c>_0x3d5afc&&(pe[_0x207a24(0x56d)]['unlinkSync'](_0x187203),console['log'](_0x207a24(0x283)+_0x236ebd));}),setTimeout(()=>uo(_0x4f5523),_0x3a4596);};function sr(){const _0x138842=a0_0x5e0602;let _0x519ef1=new N('SERVER'),_0x52a535=(0x0,ge[_0x138842(0x56d)])();_0x52a535['use']((0x0,lo['default'])({'origin'(_0x1bb7ba,_0x672e6){const _0x455fa5=_0x138842;let {ORIGIN:_0x15ec7e}=S[_0x455fa5(0x43f)]('CORS');return _0x1bb7ba||(_0x1bb7ba='*'),_0x15ec7e['indexOf']('*')!==-0x1||_0x15ec7e['indexOf'](_0x1bb7ba)!==-0x1?_0x672e6(null,!0x0):_0x672e6(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...S['get'](_0x138842(0x24a))[_0x138842(0x566)]],'credentials':S[_0x138842(0x43f)](_0x138842(0x24a))['CREDENTIALS']}),(0x0,ge[_0x138842(0x453)])({'extended':!0x0,'limit':'50mb'}),(0x0,ge[_0x138842(0x288)])({'limit':'50mb'})),_0x52a535[_0x138842(0x430)]((_0x78ad0b,_0x2d6f8f,_0x26663a)=>{const _0x4f489c=_0x138842;_0x78ad0b[_0x4f489c(0x6c9)][_0x4f489c(0x183)](_0x4f489c(0x333))?_0x26663a():(0x0,co[_0x4f489c(0x56d)])()(_0x78ad0b,_0x2d6f8f,_0x26663a);}),_0x52a535[_0x138842(0x279)](_0x138842(0x3b4),_0x138842(0x32c)),_0x52a535[_0x138842(0x279)](_0x138842(0x505),(0x0,bs[_0x138842(0x69c)])(Q,_0x138842(0x505))),_0x52a535[_0x138842(0x430)](ge[_0x138842(0x56d)]['static']((0x0,bs[_0x138842(0x69c)])(Q,_0x138842(0x39d)))),_0x52a535['use']((_0x2c55db,_0x2fcaa6,_0xa1879)=>{const _0x3592e5=_0x138842;let _0xb53aae=_0x2fcaa6[_0x3592e5(0x58f)];_0x2fcaa6[_0x3592e5(0x58f)]=function(_0x38b2bc){const _0x56ae7c=_0x3592e5;if(_0x2c55db[_0x56ae7c(0x529)][_0x56ae7c(0x1cf)]===_0x56ae7c(0x312)||_0x2c55db[_0x56ae7c(0x3ac)][_0x56ae7c(0x28f)]==='true'){let _0x4494e3=JSON[_0x56ae7c(0x322)](_0x38b2bc);_0x38b2bc=JSON['stringify'](_0x679386(_0x4494e3));}return _0xb53aae[_0x56ae7c(0x17d)](_0x2fcaa6,[_0x38b2bc]);},_0xa1879();}),_0x52a535[_0x138842(0x430)]('/',vt),_0x52a535[_0x138842(0x430)]((_0x11dac2,_0x5c4bfb,_0x5c2339,_0x5e9499)=>{const _0x47cacb=_0x138842;if(_0x11dac2)return _0x5c2339[_0x47cacb(0x5a7)](_0x11dac2[_0x47cacb(0x5a7)]||0x1f4)['json'](_0x11dac2);},(_0x12cf26,_0x31600f,_0x5cc858)=>{const _0x596164=_0x138842;let {method:_0x5bf3f1,url:_0x58e9ba}=_0x12cf26;_0x31600f[_0x596164(0x5a7)](0x194)['json']({'status':0x194,'message':_0x596164(0x440)+_0x5bf3f1['toUpperCase']()+'\x20'+_0x58e9ba,'error':'Not\x20Found'}),_0x5cc858();});let _0x679386=(_0x252bb8,_0xd100a7=_0x138842(0x2d0))=>{const _0x1f5342=_0x138842;let _0x49fe84=(_0x41d0ab,_0x4a3fd0=null,_0x31ade5=!0x1)=>{const _0x3ad6e5=a0_0x3589;let _0x929fc0={};return Object[_0x3ad6e5(0x4ec)](_0x41d0ab)[_0x3ad6e5(0x732)](_0x3a1f7f=>{const _0x4ea7c3=_0x3ad6e5;let _0xf12300=_0x41d0ab[_0x3a1f7f],_0x3cdbdb=''+_0xd100a7+_0x3a1f7f;_0x4a3fd0&&!_0x31ade5&&(_0x3cdbdb=_0x4a3fd0+'.'+_0x3a1f7f),!_0xf12300&&_0xf12300!==0x0&&_0xf12300!==!0x1||typeof _0xf12300>'u'?_0x929fc0[_0x3cdbdb]=null:typeof _0xf12300!='object'&&!Array[_0x4ea7c3(0x338)](_0xf12300)?_0x929fc0[_0x3cdbdb]=_0xf12300:typeof _0xf12300=='object'&&!Array['isArray'](_0xf12300)?_0x929fc0=Object[_0x4ea7c3(0x4b1)](_0x929fc0,_0x49fe84(_0xf12300,_0x3cdbdb)):Array[_0x4ea7c3(0x338)](_0xf12300)&&(typeof _0xf12300[0x0]==_0x4ea7c3(0x519)?(_0x929fc0[_0x3cdbdb]=[],_0xf12300['forEach'](_0x4a490a=>{const _0x4c8c99=_0x4ea7c3;_0x929fc0[_0x3cdbdb][_0x4c8c99(0x19f)](_0x49fe84(_0x4a490a,_0x3cdbdb,!0x0));})):_0x929fc0[_0x3cdbdb]=_0xf12300);}),_0x929fc0;};return Array[_0x1f5342(0x338)](_0x252bb8)?_0x252bb8[_0x1f5342(0x503)](_0x214826=>_0x49fe84(_0x214826)):typeof _0x252bb8==_0x1f5342(0x519)&&_0x252bb8!==null?_0x49fe84(_0x252bb8):{};},_0x253bd2=S['get'](_0x138842(0x2a0));Re[_0x138842(0x23f)]=_0x52a535;let _0x306a9d=Re[_0x253bd2[_0x138842(0x2a6)]],_0x2b7e6c=_0x138842(0x239);_0x306a9d[_0x138842(0x46a)](_0x253bd2[_0x138842(0x712)],()=>{const _0x4d4a06=_0x138842;_0x519ef1[_0x4d4a06(0x656)](_0x2b7e6c),_0x519ef1[_0x4d4a06(0x656)](_0x253bd2[_0x4d4a06(0x2a6)]['toUpperCase']()+'\x20-\x20ON:\x20'+_0x253bd2[_0x4d4a06(0x712)]);}),tr(),_s();}function a0_0x571d(){const _0x3c0509=['name','request\x20received\x20in\x20getAutomateSystem','variables','#000000','URL','PLAYED','):\x20Criou\x20conversa\x20no\x20startFlow:','poll_id','uazapiSendAudio','call','\x1b[44m','sendPresenceUpdate','document','preview','getTime','The\x20instance\x20needs\x20to\x20be\x20disconnected','\x20horas\x20e\x20','NO_IP','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','LIMIT','stickerMessage','sendPoll','envYaml','isRunning','end','key.','contactMessage','add','no-cache','Font\x20is\x20required','options','^\x5cd+','notEmpty','Missing\x20global\x20api\x20key','Número:\x20','waMonit','ignoreGroups','express-async-errors','contentText','cleanStore','getProfileName','events','EXPIRIN_IN','_id','deletedCount','\x0a*Você\x20respondeu*:\x0a','editConversation','and','):\x20newSecondValue\x20após\x20replaceVariables:','groupDesc','opendirSync','.json','CONFIG_SESSION_PHONE_CLIENT','updateOne','instance','):\x20alterando\x20this.AutomateSystem','creation','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','connectionClosed','https','\x20saindo\x20da\x20função','isBusiness','):\x20newFirstValue\x20após\x20replaceVariables:','editFlow','DOCKER_ENV','contains','\x20instance\x20does\x20not\x20exist','updateProfileName','createFlow','replaceVariablesInReplyOptions','createWebhook','):\x20Enviando\x20contato','\x1b[47m','convertedOptions','presence.update','):\x20Flow\x20desativado','getVariablesChat','scheduleSendAudio','no.connection','user','updateChatWithMessage','):\x20Buscando\x20conversas...','toBRL','STORE','dbSettings','WEBHOOK_EVENTS_MESSAGES_UPDATE','\x22\x20-\x20NOT\x20CONNECTION','entries','readFileSync','_Contacts','qrcode','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','substring','deleteBlock','console','request\x20received\x20in\x20getFlow','findChats','eventEmitter','\x1b[46m','video-cover.png','findOne','dbServer','groupName','Parando\x20aplicação,\x20atualização\x20recebida','updateGroupsAddPrivacy','del','/automate','Schema','fetchStatus','connectionUpdate','protocolMessage','lastSend','editflowcondition','archived','log','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','ERROR:\x20','joinGroupValidate','unlinkSync','demote','storePath','isURL','option','msgRetryCounterCache','):\x20Comando\x20desconhecido:\x20','shutdown\x20-r\x20now','test','conditions','Parando\x20aplicação...','pt-BR','@redis/client','READ','connectionState','REDIS_ENABLED','@ffmpeg-installer/ffmpeg','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','STORE_CONTACTS','class-validator','TRIAL_AD','SUCCESS','request\x20received\x20in\x20createFlow','state','loggedOut','errno','configService','split',',\x20Resultado:\x20','contacts.upsert','newValue','optionDescription','authentication',',\x20valor\x20passado:\x20\x22','updateBlock','Erro\x20ao\x20encerrar\x20a\x20API','https://chat.whatsapp.com/',',\x20lastCondition:\x20','statusMessage','Converting\x20audio\x20to\x20mp4','waMonitor','Erro\x20de\x20reinicialização:\x20','prototype','editflowvaredit','variablesToObject','format','profilePicture','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','removeData','\x20não\x20encontrado','saveTextReply','image','sendAudio','Error\x20updating\x20profile\x20name','lean','addresss','):\x20Deletando\x20conversa...','FlowRouter','parseInt','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','):\x20Procurando\x20mensagens\x20para\x20envio','pollOnReplyDelete','AutomateFunctions','maxActives','media','join','Media\x20folder\x20path:','update','Flow\x20não\x20encontrado','toDataURL','licenca','request\x20received\x20in\x20editConversation','_doc','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','\x0a{\x20instance:\x20','revokeInviteCode','fromMe','getMessageModelForOwner','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','notContains','Revoke\x20error','recording','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','sharp','processPollUpdateMessage','base64','ios','closeExistingConversations',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','delInstanceFiles','groupMetadata','when','sendButtons','\x1b[36m','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','updateProfilePicture','put','connectToWhatsapp','Instance\x20logged\x20out','waitingPoll_replyOptions','saveConversationToDatabase','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','replaceVariablesChat','nomecompleto','URI','resetReconnectionVariables','render','flowStopMinutes','rowId','contactsArrayMessage','path','sem\x20texto\x20na\x20mensagem','webhookService','SERVER_PORT','):\x20nextBlock.uazapi.name','reactionMessage','validate','KEY','WEBHOOK_MAP','groupadd','utf-8','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','fetchProfile','none','Instância:\x20','filter','viewOnceMessage','integer',',\x20Segundo\x20Valor:\x20','videoMessage','metadata','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','):\x20Conversa\x20está\x20expirada','normalizeMessage','realVariables','Media\x20folder\x20does\x20not\x20exist,\x20creating\x20folder...','Erro\x20ao\x20iniciar\x20fluxo:\x20','group','available','DELETED','Message\x20not\x20found','WEBHOOK_EVENTS_MESSAGES_UPSERT','emit','groupSetting','bulkWrite','profilePictureUrl','processgoToFlow','Enter\x20a\x20value\x20in\x20milliseconds','prefixCommand','redirect','):\x20Query\x20params:','find','mediaSticker','dbClient','stoppedUntil','MESSAGES_UPSERT','updatePresence','localWebhook','fetchMessages','useMultiFileAuthState','\x1b[34m','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','sendReaction','redisCache','presenceSubscribe','instanceKeys','out','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','Erro:','Erro\x20ao\x20atualizar\x20conversa:\x20','\x1b[41m','findConversation','block','Certbot:\x20','tags','pollErrorMessage','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','REDIS_PREFIX_KEY','SSL_CONF','ContactModel','creds','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','text','PORT','request\x20received\x20in\x20starFlow','replyOptions','refused','WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE','):\x20Não\x20achou\x20nenhum\x20flow','/webhook','params','getTicketSystem','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:','The\x20global\x20api\x20key\x20must\x20be\x20set','https://github.com/uazapi/uazapi.git','Converted\x20audio\x20deleted',',\x20saindo.','padEnd','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','verifiedName','Fetching\x20business\x20profile','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','reconnectTimestamps','\x1b[33m\x1b[1m','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','exists','CLEANING_INTERVAL','save','convertaudio','matchRegex','replaceVariablesInObject','create','WARN','\x20não\x20encontrado\x20para\x20atualização.','reference','forEach','findById','\x1b[33m%s\x1b[0m','DD/MM\x20HH:mm:ss','findWebhook','inner','updateGroupPicture','notify','Flow\x20iniciado\x20com\x20','all','store','command','processingScheduleMessageId','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','-whatsapp-api','chats.upsert','groupFetchAllParticipating','status@broadcast','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','stopMinutesMaxActives','Getting\x20audio\x20from\x20url','arraybuffer','address','audio/mp4','messageTimestamp','chat','pollCreationMessageV3','mediatype','apply','Profile\x20not\x20found','fetchPrivacySettings','apikey','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','enabled','startsWith','getHours','request\x20received\x20in\x20allFlows','!stop','):\x20Enviando\x20mídia','scheduleSendText','value','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','TEXT','connection.update','binary','\x1b[32m%s\x1b[0m','newName','\x20minutos.\x20Será\x20às\x20','groupLeave','editflowvariable','SSL_CONF_FULLCHAIN','):\x20delete\x20=\x20true','temp-','\x1b[31m%s\x1b[0m','Types','findByIdAndUpdate','editflowgroup','698698ZfQHYT','stopIfLastReturnedError','getflow','Valor\x20inicial:\x20\x22','footerText','push','deleteReplyOption','leadInfo.','shift','endsWith','ReplyOption\x20com\x20ID\x20','imagechat','lastBlockId','readdirSync','createGroup','):\x20Criando\x20nova\x20conversa','Unauthorized','):\x20conversation.waitingPollname','finish','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','\x20mensagens\x20de\x20','mentioned','js-yaml','dayjs','createConnection','loadInstance','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','createConversationforStartFlow','\x20minutos...','creds.json','):\x20Error\x20processing\x20the\x20block:\x20','longitude','):\x20Editando\x20variável\x20do\x20fluxo...','isJWT','linkPreview','Temp\x20audio\x20created','pollMessage','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','/*.json','Error\x20fetching\x20group','pollMessageOnDelete','createJid','output','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','Instance\x20\x22','./.git/config','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','AUTHENTICATION','deleteOne','processApiRequest','readData','saveMediaToFile','convert','COLOR','):\x20Entrou\x20na\x20função\x20saveReply','.sendDataWebhook-global','start','#ffffff','restartInstance','Error\x20removing\x20profile\x20picture','Error\x20deleting\x20instance\x20from\x20memory.','Erro\x20ao\x20aplicar\x20varedit:\x20','@s.whatsapp.net','PRESENCE_UPDATE','trim','sticker','lastReceivedMessage','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','font','utf8','WEBHOOK_EVENTS_STATUS_INSTANCE','Error\x20change\x20group\x20description','customFields','dark','joinGroup','getPrototypeOf','\x20inseridas\x20no\x20banco\x20de\x20dados...','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','):\x20Entrou\x20na\x20função\x20goToFlow','scheduled','processConditions','Method\x20not\x20implemented.','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20áudio:','FULLCHAIN','Group\x20not\x20found','replyOption','updateCustomFields','Fluxos\x20não\x20estão\x20ativados','item','HOST','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','removed','):\x20Ler\x20mensagem','waitingPoll_name','DELIVERY_ACK','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','PENDING','RECONNECT_TIME_FRAME','isBase64','MessageModel','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','ON\x20-\x20dbName:\x20','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','instanceInfo','https://jsonip.com','Type\x20is\x20required','Original\x20filename:','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','\x1b[34m%s\x1b[0m','editScheduleMessage','LICENSE_INVALID','updateParticipant','exec','Image\x20created','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','/wa-message','):\x20transformedCustomFieldVariables','from','messages','ids','Error\x20updating\x20setting','):\x20Enviando\x20áudio','includes','\x1b[30m%s\x1b[0m','):\x20Conversa\x20atualizada\x20em\x20memória','participant','viewOnceMessageV2','numbers','SECRET','qrcode-terminal','https://api.ipify.org?format=json','\x5c$&','getChatModelForOwner','oldToken','mongoose','):\x20Enviando\x20texto','Fluxo\x20não\x20encontrado','eventemitter2','JWT','jid','getDelay','isConnected','lastSendMessage','\x20minutos\x20verificará\x20novas\x20mensagens','secondValue','indexOf','\x1b[1m','scheduleNextCheck','lowerCase','truncatedtoEnd','_Chats','everyOne','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','authorization','Image\x20converted\x20to\x20WebP','editFlowBlock','DEBUG','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','size','/wa-chats','QRCODE','setWebhook','extractRegex','app','AUTHENTICATION_JWT_SECRET','/instance/fetchInstances','groupCreate','getBase64FromMediaMessage','_Messages','applyvaredit','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','isBooleanString','contactname','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','CORS','varedits','waUploadToServer','function','):\x20leadInfoVariables','\x20foi\x20interrompido\x20pelo\x20usuário.','authService','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','createServer','isInteger','verify','\x20chats\x20de\x20','instanceCount','):\x20Buscando\x20flow...','rm\x20-rf\x20','title','Já\x20existe\x20fluxo\x20com\x20esse\x20nome','Router','Audio\x20processed','Getting\x20profile\x20with\x20jid:\x20','audio','message','array','envProcess','API_KEY','editFlowVaredit','g.us','Unable\x20to\x20leave\x20the\x20group','paused','The\x20instance\x20is\x20already\x20connected','isJidGroup','LOG_COLOR','messagesSend','3qGxMDF','replacer','variablesNotFound','including\x20timestamp\x20in\x20url:\x20','readMessages','hDel','pollCreationMessage','audioWhatsapp','SERVER_ACK','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','existsSync','sendStatus','Instância\x20não\x20encontrada.','Contacts\x20not\x20found','set','request\x20received\x20in\x20updateCustomFields','body','moreLogs','.uazapi.dev','cors','verbose','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','picture','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','Deleted\x20','Variável\x20não\x20encontrada!','):\x20Criando\x20fluxo...','endSession','email','json','Converted\x20image\x20deleted','sections','isLong','node-mime-types','getMinutes','getClient','uazapi','getRandomText','chatLog','.mp4','notas','WEBHOOK_EVENTS_CONTACTS_SET','buttons','textMessage','vcard','Processing\x20audio','activatedCount','listMessage','unavailable','HeaderType','groups_ignore','pushName','conversationTimestamp','SERVER','@whiskeysockets/baileys','STORE_CHATS','chats.update','sendWhatsAppAudio','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','TYPE','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','File\x20written\x20to\x20path:\x20','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','pop','Erro\x20de\x20atualização:\x20','updateMany','/clients-info','saveVariable','sendList','groupParticipantsUpdate','DATABASE','dropCollection','/refreshToken','certonly','apiResponse','DATABASE_CONNECTION_USER','blocks','CHATS_DELETE',',\x20Expiration\x20Time:\x20','\x20inseridos\x20no\x20banco\x20de\x20dados...','CONTACTS_UPSERT','error','findAndReplace','messaging-history.set','PREFIX_KEY','\x22\x20not\x20found','CONFIG_SESSION_PHONE_NAME','fetchChats','INFO','Message','groups.upsert','DATABASE_CONNECTION_PASSWORD','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','GLOBAL','Including\x20timestamp\x20in\x20url:\x20','chats.delete','findContacts','mimetype','padStart','_p_','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20atualmente\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','processUazapi','compression','logger','latitude','findIndex','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','):\x20Editando\x20condição\x20do\x20fluxo...','promote','getAutomateSystem','https://uazapi-plugin.bubbleapps.io/','/wa-groups','groupHandler','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','STATUS_INSTANCE','Type\x20not\x20found','uazapiDeleteMessage','action','updateGParticipant','flowStopConversation','CORS_CREDENTIALS','Db\x20Connection','currency','noConnection','website','condition','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','_activatedCount','PROD','fromObject','bearer','flowname:\x20','request\x20received\x20in\x20getConversation','rmSync','\x1b[0m','):\x20Buscando\x20conversa...','):\x20Erro\x20durante\x20a\x20atualização:\x20','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','fetchProfilePicture','ex:\x20\x22groupJid=120362@g.us\x22','Erro\x20inesperado\x20em\x20processvaredits:\x20','leadInfo.customFields','blockId','2151900PTWtDN','connecting','Instance\x20Key\x20from\x20DB:','11264cpDxgE','child_process','send.message','updateReadReceiptsPrivacy','GROUP_PARTICIPANTS_UPDATE','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','*\x0a\x0a','/chat','syscall','readFile','deleteAll','uuid','Bad\x20Request','Erro\x20ao\x20editar\x20o\x20bloco:\x20','contact_blacklist','defineAuthState','string','setHeader','WEBHOOK_EVENTS_CHATS_SET','true','^\x5cd+[\x5c.@\x5cw-]+','documentWithCaptionMessage','redis','contact','Read\x20messages','DisconnectReason','uncaughtException','Error\x20updating\x20participants','boolean','toFile','):\x20customFieldVariables','url','Type\x20defined\x20as\x20audio','https://','mongodb://','parse','repository','has','Forbidden','editFlowVariable','ini','proto','Audio\x20converted\x20to\x20mp4','instanceName','getConversation','hbs','editflowblock','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','key','static','truncatedto','MESSAGES_SET','/events','getOwnPropertyDescriptor','replaceVariablesLogs','fetchBusinessProfile','Image\x20is\x20base64','isArray','long','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','\x20is\x20already\x20in\x20use.','authModel','unreadcount','type','description','chatHandle','stanzaId','generateWAMessageFromContent','startFlow','loadEnv','USER','buttonText','uazapiSendContact','jpegThumbnail','):\x20atualização\x20chat:\x20','507894zDZPkE','Trying\x20to\x20get\x20business\x20profile','upsertChats','\x20contacts','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','/media/','create\x20-\x20success','CONECTADO\x20À\x20UAZAPI','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','HH:mm:ss','Tanto\x20id\x20quanto\x20owner\x20são\x20necessários\x20para\x20criar\x20ou\x20editar\x20um\x20chat.','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','max','Log\x20out\x20instance:\x20','\x1b[1m\x1b[37m','BufferJSON','API\x20Key\x20from\x20Request:','auth','Erro\x20ao\x20buscar\x20conversa:\x20','hex','.png','toString','Internal\x20Server\x20Error','Error\x20update\x20group\x20picture','arrayUnique','findGroup','MESSAGES_UPDATE','statusCode','):\x20Limpando\x20AutomateSystem','owner','count','now','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','):\x20Procurando\x20conversa','qrCode','vote','prepareWAMessageMedia',',\x20Minutes\x20to\x20Close:\x20','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','editOperator','):\x20Buscando\x20todos\x20os\x20fluxos...','group-participants.update','audio/ogg;\x20codecs=opus','findGroups','downloadMediaMessage','.sendDataWebhook-local','floor','userDevicesCache','selectableCount','The\x20','request\x20body:\x20','remoteJidsRemaining','\x1b[30m','varedit','instancias:\x20','goToFlow','request\x20received\x20in\x20scheduleMessage','request\x20received\x20in\x20editFlowvariable','flowConversation','225612ICmtLE','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','@g.us','limit','WEBHOOK','qrcode.updated','WEBHOOK_EVENTS_CHATS_DELETE','deleteConversation','webhookModel','Conexão\x20estabelecida','contactHandle','NAME','toNumber','createNewConversation','getLastMessage','updatePrivacySettings','updateAgent','wuid','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:','Comando\x20desconhecido','router','webhookMap','public','OrAnd','):\x20Going\x20to\x20','values','success','findFlow','groupToggleEphemeral','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','error\x20get\x20vote','CONTACTS_UPDATE','\x1b[40m','privacySettings','pollCreationMessageV2','):\x20Editando\x20bloco...','Connection','headers','jwt','status.instance','stopConversation','The\x20\x22','sort','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','unlocked','view\x20engine','mediaKey','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','CLIENT','uazapiSendPoll','delInstanceTime','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','groupRevokeInvite','sendContact','trimmed','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','WEBHOOK_EVENTS_QRCODE_UPDATED','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','generateHash','AUTHENTICATION_API_KEY','greater','splice','downloads','web','Temp\x20audio\x20path:\x20','toUpperCase','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','random','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','enumerable','CONTACTS_SET','addBlock','quoted','EVENTS','stderr','client','):\x20','191576vCrbgM','sleep','Getting\x20image\x20from\x20url','):\x20Enviando\x20localização','archiveChat','formatBRNumber','isJidUser','contacts.update','toLowerCase','close','Bloco\x20com\x20ID\x20','documentMessage','keep-alive','reviver','Read\x20messages\x20fail','agents','The\x20property\x20cannot\x20be\x20empty','Image\x20path:\x20','exit','context','cleaningUp','This\x20name\x20','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','cpf','!cmd_','process','http','collection','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','saveChatVariables','axios','updateConversation','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','match','length','mkdirSync','header','getFlow','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','pollCreationMessageKey','.jwt','reconnectAttempts','readMessageBot','flowConfig','onWhatsApp','Falta\x20informação\x20para\x20a\x20chamada\x20API','stopMinutes','instanceName\x20not\x20provided.','):\x20Mensagem\x20já\x20enviada\x20para\x20','group\x20ignored','archive','stringify','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','slice','LOG','DEL_INSTANCE','inviteCode','rows','URL\x20limpa:\x20','):\x20expirationTime:\x20','open','AppStateSyncKeyData','markMessageAsRead','imageMessage','logout','getDevice','Business\x20profile\x20fetched','ephemeralMessage','fullName','\x22reaction\x22\x20must\x20be\x20an\x20emoji','):\x20isVote','eventHandler','abs','blockLogs','participants','routerPath','processblock','env','Error\x20fetching\x20and\x20updating\x20profile:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','):\x20Edit\x20schedule\x20message...','locationMessage','refreshToken','jsonwebtoken','lastMessage','Imagem\x20não\x20encontrada','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','delay','):\x20Erro\x20ao\x20editar\x20agentes:\x20','badSession','sendMessageWithTyping','use','remove','DARK','addReplyOption','stdout','):\x20Entrou\x20na\x20função\x20stop','stopped','express','messageId','editedMessage','reaction','StartBot','fetchContacts','getContactModelForOwner','fone','get','Cannot\x20','E-mail:\x20','flattenObject','write','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','Instance\x20deleted','insertMany','info','empty','DB_PREFIX_NAME','pino','Deletion\x20failed','leaveGroup','repeat','makeCacheableSignalKeyStore','\x20minutos','setting','insert','WEBHOOK_EVENTS_CONTACTS_UPSERT','urlencoded','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','):\x20Erro\x20ao\x20iniciar\x20fluxo\x20','sha256','cwd','next_groupId','env.KEY\x20!==\x20key','WA\x20MODULE','TRIAL_INSTANCE_NAME','groups','No\x20participants','):\x20Alterando\x20fluxo...','/instance/create','CHATS_UPDATE','buttonMessage','https://uazapi-plugin.bubbleapps.io/?url=','10osRmdv','profile','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','unhandledRejection','conversation','remove.instance','release','listen','groupValidate','messages.update','SendScheduleMessage','replaceOne','Primeiro\x20Valor:\x20','Error\x20updating\x20privacy\x20settings','\x20-y','caption','webhook','webp','Data\x20inválida\x20fornecida','/group','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','groups.update','sendMessage','groupUpdateDescription','stateConnection','):\x20Erro\x20ao\x20criar\x20fluxo\x20','lastInteraction',',\x20fará\x20nova\x20verificação\x20em\x20','\x22\x20-\x20REMOVED','replace','GUARD','Erro\x20do\x20Certbot:\x20','WEBHOOK_EVENTS_CONTACTS_UPDATE','updateGParticipate','data','video','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','displayName','updateStopChat','tokenId','):\x20teve\x20mudanças\x20chat.displayName:\x20','CHATS_UPSERT','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','VERBOSE','fetchConversation','):\x20Deletando\x20fluxo...','restrict','folder','flowIgnoreGroups','segundos','sendDataWebhook','sendLocation','BRL','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','):\x20Editando\x20replyOption...','lastCondition','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','/:instanceName','readMessage','.refreshToken','delayMessage','expiration','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','WEBHOOK_EVENTS_GROUPS_UPDATE','messageHandle','replaceValue','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','organization','Sending\x20audio\x20whatsapp','valid','mediaMessage','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','app-state-sync-key','replaceVariables','createConversationforgoToFlow','created','assign','order','messages.upsert','Erro\x20ao\x20editar\x20a\x20conversa:\x20','NextBlock','WEBHOOK_GLOBAL_URL','authState','toArray','groupAcceptInvite','modifiedCount','not\x20loaded','buffer','number','createClient','PRODUCTION','messages.set','editFlowCondition','scheduleMessages','findGroupInfo','createInstance','groupSettingUpdate','Instance\x20ID:','errors','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','apirequest','backgroundColor','writeStore','Nenhum\x20chat\x20encontrado\x20para\x20editar.','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','updateMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','delaySecMax','findParticipants','code','request\x20received\x20in\x20updateAgent','where','allFlows','groupId','newStoppedUntil','certbot','):\x20teve\x20mudanças\x20chat.archived:\x20','leadInfo','redisEnv','):\x20Enviando\x20enquete','editChat','):\x20lastBlockId:\x20','groupUpdateSubject','deleteMany','notEqual','DATABASE_CONNECTION_HOST','getMIMEType','notMatchRegex','chatModify','response','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','DATABASE_CONNECTION_DB_PREFIX_NAME','Module\x20-\x20ON','writeData','connect','keys','updateReplyOption','headerString','CORS_METHODS','\x1b[36m%s\x1b[0m','../env.yml','evaluateConditionTest','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','request\x20received\x20in\x20editFlowgroup','charAt','spawn','hostname','Background\x20color\x20is\x20required','deleteDoneMessages','flowPrefixCommand','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','debug','flowActive','unreadCount','deleteInstance','):\x20Campos\x20a\x20serem\x20atualizados:','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','model','map','request\x20received\x20in\x20editFlowcondition','views','?timestamp=','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','formatVCard','AUTHENTICATION_JWT_EXPIRIN_IN','CHATS_SET','instance.','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','whatsappNumber','stack','\x1b[33m','removeProfilePicture','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','expression','chats','online','fetchProfile2','bodyString','some','editFlowGroup','object','Operador:\x20\x22','allContacts','remoteJid','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','width','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','CONNECTION','sendText','firstValue','WEBHOOK_EVENTS_CONNECTION_UPDATE','-instances','oldValue','findGroupInfos','Initial\x20__dirname:','SEND_MESSAGE','query','writeFileSync','Not\x20Found','phoneNumber','--standalone','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20',',\x20Comparador:\x20','PRIVKEY','whatsappNumbers','getMessage','/create','composing','Button\x20IDs\x20cannot\x20be\x20repeated.','http://checkip.dyndns.org','__esModule','Reinicialização\x20iniciada:\x20','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','updateProfileStatus','dataValidate','Image\x20is\x20url','not_announcement','\x0aitem','editFlowReply','quotedMessage','pollUpdateMessage','isDirectory','AutomateSystem','dbInstance','ObjectId','contacts','role','delAll','STORE_CLEANING_TERMINAL','presence','\x5cd+','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','processvaredits','getContentType','Unknown\x20message\x20type\x20or\x20empty\x20message','211686MDXtBm','Invalid\x20format','updateFlowConfig','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','Error\x20in\x20markMessageAsRead:','hSet','instances','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','):\x20Ignoring\x20group\x20messages.','announce','birthtime','EMAIL','android','_error','warn','waitingPoll_id','Output\x20audio\x20path:\x20','Connection\x20closed\x20for\x20instance:\x20','.mp3','equal','local_map','\x20segundos','METHODS','delete','getBusinessProfile','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','variable','):\x20Error\x20processing\x20conditions:\x20','Erro\x20ao\x20buscar\x20conversas:\x20','default','editflowreply','\x22\x20cannot\x20be\x20empty','statusJidList','Error\x20updating\x20profile\x20picture','src','env.yml','gifPlayback','18xztnDZ','upperCase','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','deleteFlow','atendimentoAberto','updateStatusPrivacy','restart','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','goNextblock','last','content','last_update','CONFIG_SESSION_PHONE','throwAndLogError','ENABLED','post','Error\x20in\x20scheduleNextCheck:\x20','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','urlOrBase64','changeVariables','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','Erro\x20ao\x20editar\x20o\x20chat:\x20','\x20}\x0a','audioMessage','Variáveis\x20não\x20encontradas:','subjectTime','send','Desconectado,\x20parando\x20execução.','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','SERVER_OFFLINE','TEL','deleteMessageForEveryone','toggleEphemeral','uazapiSendText','Atualização:\x20','toLocaleString','originalUrl','loadWebhook','closed','):\x20Falha\x20ao\x20deletar\x20mensagem.','/events/:instance','readreceipts','Logger','lastmsg','prepareMediaMessage','WEBHOOK_EVENTS_MESSAGES_SET','GROUPS_UPDATE','nome','collections','uazapiSendMedia','status','Conversa\x20deletada\x20com\x20sucesso.','LOG_LEVEL','request\x20received\x20in\x20editFlow','reorderBlocks','):\x20Conversa\x20inserida\x20com\x20sucesso.','data:\x20','leadInfo.desativadoFluxoAte','):\x20Conversas\x20encontradas:','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','GROUPS_UPSERT','getScheduleMessage','mongodb','CORS_ORIGIN','connectionStatus','desativadoFluxoAte','):\x20Editando\x20edição\x20do\x20fluxo...','buttonId','done','less','CONNECTION_UPDATE','/wa-contacts','Flow\x20already\x20exists','groupInviteCode','findAndReplaceRegex','convertToWebP','new.jwt','Invalid\x20\x22oldToken\x22','fetchInstances','@broadcast','subject','hasOwnProperty','ERROR','MAX_RECONNECT_ATTEMPTS','method','sendSticker','ChatModel','senderKeyDistributionMessage','Converting\x20image\x20to\x20WebP\x20to\x20sticker','deleteMessage','encoding','error_log','REDIS','No\x20join\x20group\x20invite\x20code\x20or\x20url','fileName','remote\x20\x22origin\x22','drop','waInstances','round','groupJid','QRCODE_UPDATED','evaluateCondition','findOneAndUpdate','):\x20Deletando\x20mensagem','responsavelid','capitalizedWords','subdomain','pre','sendMedia','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','mentions'];a0_0x571d=function(){return _0x3c0509;};return a0_0x571d();}var ar=a0_0x5e0602(0x71d),or=Ie['default'][a0_0x5e0602(0x69c)](__dirname,a0_0x5e0602(0x1c8)),Ae=null;function rr(){return new Promise((_0x3ba672,_0x2335d5)=>{const _0x3c3c9b=a0_0x3589;pe[_0x3c3c9b(0x56d)][_0x3c3c9b(0x308)](or,_0x3c3c9b(0x6d3),(_0x588c89,_0x254457)=>{const _0x4bd6cb=_0x3c3c9b;if(_0x588c89){Ae=_0x588c89,_0x3ba672();return;}po[_0x4bd6cb(0x56d)]['parse'](_0x254457)[_0x4bd6cb(0x5d4)]['url']===ar?(Ae=null,_0x3ba672()):(Ae=new Error(_0x4bd6cb(0x553)),_0x3ba672());});});}async function ir(){const _0x39506b=a0_0x5e0602;try{await rr(),await Ss();}catch(_0x454ad){console[_0x39506b(0x2bd)](_0x39506b(0x4ab)+_0x454ad),process[_0x39506b(0x3e7)](0x1);}}ir();async function go(){const _0x4a9d66=a0_0x5e0602;let _0x3351e1;try{_0x3351e1=(await Me[_0x4a9d66(0x56d)]['get'](_0x4a9d66(0x203)))[_0x4a9d66(0x485)]['ip'];}catch(_0x91b987){console[_0x4a9d66(0x2bd)](_0x91b987);try{_0x3351e1=(await Me['default'][_0x4a9d66(0x43f)](_0x4a9d66(0x21d)))[_0x4a9d66(0x485)]['ip'];}catch(_0x314166){console[_0x4a9d66(0x2bd)](_0x314166);try{_0x3351e1=(await Me[_0x4a9d66(0x56d)]['get'](_0x4a9d66(0x536)))['data'][_0x4a9d66(0x3f6)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0xc343cb){return console['error'](_0xc343cb),!0x1;}}}return _0x3351e1;}var io=0x0;async function nr(){const _0x4f1e08=a0_0x5e0602;let _0x483a17=await new ne(S[_0x4f1e08(0x43f)](_0x4f1e08(0x5d1)))[_0x4f1e08(0x700)]();return console['log'](_0x4f1e08(0x380),_0x483a17[_0x4f1e08(0x3f7)]),_0x483a17[_0x4f1e08(0x3f7)];}async function cr(){const _0x468489=a0_0x5e0602;let _0x4d8229=S[_0x468489(0x43f)](_0x468489(0x5d1)),_0x5967cc=S[_0x468489(0x43f)](_0x468489(0x1ca))['API_KEY']['KEY'],_0x48ff43=S[_0x468489(0x43f)](_0x468489(0x70d)),_0x22dc4c=await go(),_0x2c5706=S[_0x468489(0x43f)](_0x468489(0x2a0))['PORT'];try{let _0x4a9c53={'ip':_0x22dc4c||null,'redis_enable':_0x4d8229?.['ENABLED']||null,'apikey':_0x5967cc||null,'ssl':_0x48ff43?.[_0x468489(0x530)]||null,'lastupdate':mo||null,'port':_0x2c5706||null,'gitInstallError':Ae?.[_0x468489(0x25f)]||null};if(console[_0x468489(0x656)]('ip:\x20',_0x4a9c53['ip']),_0x4d8229[_0x468489(0x583)]){let _0x23806f=await nr();_0x4a9c53[_0x468489(0x256)]=_0x23806f||null;}for(let _0x4ea663 in _0x4a9c53)_0x4a9c53[_0x468489(0x5c6)](_0x4ea663)&&_0x4ea663!=='ip'&&(_0x4a9c53[_0x4ea663]=JSON[_0x468489(0x408)](_0x4a9c53[_0x4ea663]));return(await Me[_0x468489(0x56d)]['post'](_0x468489(0x20d),_0x4a9c53))[_0x468489(0x485)];}catch(_0x200bc3){return console[_0x468489(0x2bd)](_0x200bc3),!0x1;}}var ys=!0x1,mo=0x210,lr=0x3,no=0x1b7740;async function Ss(){const _0x33f5bf=a0_0x5e0602;if(!await go())return console[_0x33f5bf(0x2bd)](_0x33f5bf(0x3ba)),_0x33f5bf(0x5f5);let _0x33245f=await cr();if(_0x33245f){if(_0x33245f['response'][_0x33f5bf(0x6a1)]===!0x0){S[_0x33f5bf(0x43f)](_0x33f5bf(0x70d))[_0x33f5bf(0x530)][_0x33f5bf(0x215)]('<subdomain>')&&_0x33245f[_0x33f5bf(0x4e6)]['subdomain']&&(await pr(_0x33245f[_0x33f5bf(0x4e6)][_0x33f5bf(0x5df)],dr),await gr('augusto.fcs@gmail.com',_0x33245f['response'][_0x33f5bf(0x5df)]),console[_0x33f5bf(0x656)](_0x33f5bf(0x2c9)),setTimeout(()=>hr(),0x2710)),Ae===null&&_0x33245f[_0x33f5bf(0x4e6)][_0x33f5bf(0x580)]-mo>0x0&&await ur(),ys||(ys=!0x0,sr());let _0x4bc260=0x24*0x3c*0x3c,_0x2d7014=_0x33245f['response'][_0x33f5bf(0x495)]>_0x4bc260?_0x4bc260:_0x33245f[_0x33f5bf(0x4e6)][_0x33f5bf(0x495)],_0x5a514a=Number(_0x2d7014);if(isNaN(_0x5a514a)){console[_0x33f5bf(0x2bd)]('interval\x20não\x20é\x20um\x20número');return;}let _0x3048c2=Math[_0x33f5bf(0x378)](_0x5a514a/0xe10),_0xd55cfb=Math[_0x33f5bf(0x378)](_0x5a514a%0xe10/0x3c),_0xbca554=new Date(Date[_0x33f5bf(0x369)]()+_0x5a514a*0x3e8);setTimeout(Ss,_0x5a514a*0x3e8);let _0x212562=_0x295d28=>_0x295d28['toString']()[_0x33f5bf(0x2cf)](0x2,'0'),_0xec0350=_0x33f5bf(0x70b)+_0x212562(_0x3048c2)+_0x33f5bf(0x5f4)+_0x212562(_0xd55cfb)+_0x33f5bf(0x190)+_0x212562(_0xbca554[_0x33f5bf(0x184)]())+':'+_0x212562(_0xbca554[_0x33f5bf(0x28d)]())+'.';console[_0x33f5bf(0x656)](_0xec0350);}else return console[_0x33f5bf(0x656)](_0x33f5bf(0x1ad)),ys&&(console[_0x33f5bf(0x656)]('A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.'),process[_0x33f5bf(0x3e7)]()),_0x33f5bf(0x209);}else{if(io++,io<lr)console['log'](_0x33f5bf(0x33a)+no/0xea60+_0x33f5bf(0x1b6)),setTimeout(Ss,no);else return console[_0x33f5bf(0x2bd)]('Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.'),_0x33f5bf(0x592);}}async function ur(){const _0x1c0522=a0_0x5e0602;console[_0x1c0522(0x656)](_0x1c0522(0x64b));let _0x25e10b=(0x0,De[_0x1c0522(0x4f6)])(_0x1c0522(0x4e7),{'shell':!0x0});_0x25e10b[_0x1c0522(0x434)]['on'](_0x1c0522(0x485),_0x2819a1=>{const _0x5ddd2b=_0x1c0522;console['log'](_0x5ddd2b(0x597)+_0x2819a1);}),_0x25e10b[_0x1c0522(0x3d2)]['on'](_0x1c0522(0x485),_0x1c5916=>{const _0x482b4b=_0x1c0522;console[_0x482b4b(0x2bd)](_0x482b4b(0x2ac)+_0x1c5916);}),_0x25e10b['on']('exit',_0x54751b=>{const _0xb087e=_0x1c0522;_0x54751b!==0x0?console[_0xb087e(0x2bd)](_0xb087e(0x6de)+_0x54751b):console[_0xb087e(0x656)]('Sistema\x20atualizado\x20com\x20sucesso!'),console[_0xb087e(0x656)](_0xb087e(0x664)),setTimeout(()=>process[_0xb087e(0x3e7)](),0x2710);});}var dr=Ie[a0_0x5e0602(0x56d)][a0_0x5e0602(0x69c)](__dirname,a0_0x5e0602(0x573));async function pr(_0x3b1a78,_0x3a3163){const _0x4df6a2=a0_0x5e0602;let _0x26f2a4=mr();_0x3b1a78=_0x3b1a78[_0x4df6a2(0x480)](_0x4df6a2(0x27d),'');try{let _0x591153=pe[_0x4df6a2(0x56d)][_0x4df6a2(0x63c)](_0x3a3163,_0x4df6a2(0x1e0));_0x591153=_0x591153[_0x4df6a2(0x480)](/<apikey>/,_0x26f2a4),_0x591153=_0x591153[_0x4df6a2(0x480)](/<subdomain>/g,_0x3b1a78),pe[_0x4df6a2(0x56d)]['writeFileSync'](_0x3a3163,_0x591153,_0x4df6a2(0x1e0)),console[_0x4df6a2(0x656)]('Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.');}catch(_0x27fe13){console[_0x4df6a2(0x2bd)]('Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:',_0x27fe13);}}function gr(_0x2be9c9,_0x12cba8){return new Promise((_0x3e1315,_0x2aea90)=>{const _0x2861de=a0_0x3589;let _0x4440c0=(0x0,De[_0x2861de(0x4f6)])(_0x2861de(0x4d8),[_0x2861de(0x2b5),_0x2861de(0x52d),'-m',_0x2be9c9,'--agree-tos','-d',_0x12cba8]);_0x4440c0[_0x2861de(0x434)]['on'](_0x2861de(0x485),_0x1856e2=>{const _0x12a446=_0x2861de;console[_0x12a446(0x656)](_0x12a446(0x708)+_0x1856e2['toString']());}),_0x4440c0[_0x2861de(0x3d2)]['on'](_0x2861de(0x485),_0x22dbbc=>{const _0x25646a=_0x2861de;console['error'](_0x25646a(0x482)+_0x22dbbc[_0x25646a(0x35f)]());}),_0x4440c0['on'](_0x2861de(0x3de),_0x10e00a=>{const _0x21201d=_0x2861de;_0x10e00a!==0x0?(console[_0x21201d(0x2bd)](_0x21201d(0x280)+_0x10e00a),_0x2aea90(_0x21201d(0x280)+_0x10e00a)):(console[_0x21201d(0x656)]('Certbot\x20executado\x20com\x20sucesso.'),_0x3e1315());});});}function mr(_0x3a204b=0x32){const _0xb750e5=a0_0x5e0602;let _0x1ca914=_0xb750e5(0x501),_0x168d54='';for(let _0x20298d=0x0;_0x20298d<_0x3a204b;_0x20298d++)_0x168d54+=_0x1ca914[_0xb750e5(0x4f5)](Math[_0xb750e5(0x378)](Math[_0xb750e5(0x3ca)]()*_0x1ca914[_0xb750e5(0x3f7)]));return _0x168d54;}function hr(){const _0x5928b6=a0_0x5e0602;(0x0,De[_0x5928b6(0x20b)])(_0x5928b6(0x661),(_0x46d179,_0x1aa402,_0x377032)=>{const _0x22ea91=_0x5928b6;if(_0x46d179){console[_0x22ea91(0x2bd)]('Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20'+_0x46d179);return;}if(_0x377032){console[_0x22ea91(0x2bd)](_0x22ea91(0x683)+_0x377032);return;}console[_0x22ea91(0x656)](_0x22ea91(0x538)+_0x1aa402);});}