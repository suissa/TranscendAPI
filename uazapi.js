const a0_0x4cf6e5=a0_0x1ffd;(function(_0x5d1371,_0x27a98c){const _0x2c8270=a0_0x1ffd,_0x8da38b=_0x5d1371();while(!![]){try{const _0x4655e8=parseInt(_0x2c8270(0x3f6))/0x1+-parseInt(_0x2c8270(0x6e3))/0x2*(-parseInt(_0x2c8270(0x64b))/0x3)+-parseInt(_0x2c8270(0x9e))/0x4+parseInt(_0x2c8270(0x282))/0x5+-parseInt(_0x2c8270(0x1b2))/0x6*(-parseInt(_0x2c8270(0xf6))/0x7)+-parseInt(_0x2c8270(0x58d))/0x8+-parseInt(_0x2c8270(0x20d))/0x9*(parseInt(_0x2c8270(0x40b))/0xa);if(_0x4655e8===_0x27a98c)break;else _0x8da38b['push'](_0x8da38b['shift']());}catch(_0xdd1d2b){_0x8da38b['push'](_0x8da38b['shift']());}}}(a0_0x175d,0xcef31));var Pr=Object[a0_0x4cf6e5(0x638)],Ie=Object['defineProperty'],$r=Object['getOwnPropertyDescriptor'],kr=Object[a0_0x4cf6e5(0x5d4)],Lr=Object['getPrototypeOf'],Fr=Object['prototype']['hasOwnProperty'],jr=(_0x5123a2,_0x41111f)=>{for(var _0x53f6a5 in _0x41111f)Ie(_0x5123a2,_0x53f6a5,{'get':_0x41111f[_0x53f6a5],'enumerable':!0x0});},_s=(_0x4f4be4,_0x48ff42,_0x3fb0a2,_0x5e8d41)=>{const _0x50579e=a0_0x4cf6e5;if(_0x48ff42&&typeof _0x48ff42==_0x50579e(0x224)||typeof _0x48ff42=='function'){for(let _0x1e09ac of kr(_0x48ff42))!Fr[_0x50579e(0x2f5)](_0x4f4be4,_0x1e09ac)&&_0x1e09ac!==_0x3fb0a2&&Ie(_0x4f4be4,_0x1e09ac,{'get':()=>_0x48ff42[_0x1e09ac],'enumerable':!(_0x5e8d41=$r(_0x48ff42,_0x1e09ac))||_0x5e8d41[_0x50579e(0x288)]});}return _0x4f4be4;},T=(_0x36d621,_0x4b680d,_0x2bf060)=>(_0x2bf060=_0x36d621!=null?Pr(Lr(_0x36d621)):{},_s(_0x4b680d||!_0x36d621||!_0x36d621['__esModule']?Ie(_0x2bf060,a0_0x4cf6e5(0xb2),{'value':_0x36d621,'enumerable':!0x0}):_0x2bf060,_0x36d621)),Ur=_0x557043=>_s(Ie({},'__esModule',{'value':!0x0}),_0x557043),Hi={};jr(Hi,{'subdomain':()=>Rs}),module[a0_0x4cf6e5(0x454)]=Ur(Hi);var Or=T(require('compression')),$s=require('fs'),ks=require(a0_0x4cf6e5(0x5ce)),Ls=require(a0_0x4cf6e5(0x150)),xe=require(a0_0x4cf6e5(0x150)),re=process[a0_0x4cf6e5(0x67a)](),ge=(0x0,xe[a0_0x4cf6e5(0x52f)])(re,'instances'),Ps=(0x0,xe[a0_0x4cf6e5(0x52f)])(re,'src'),Vo=(0x0,xe[a0_0x4cf6e5(0x52f)])(re,'store',a0_0x4cf6e5(0x1a1)),es=class{constructor(){const _0x2cce82=a0_0x4cf6e5;this[_0x2cce82(0x1c1)]();}[a0_0x4cf6e5(0x571)](_0x122214){return this['env'][_0x122214];}[a0_0x4cf6e5(0x1c1)](){const _0xc04009=a0_0x4cf6e5;this['env']=process[_0xc04009(0x7e)]?.[_0xc04009(0x5a4)]!=='true'?this[_0xc04009(0x3be)]():this[_0xc04009(0x3e1)](),process['env']?.[_0xc04009(0x5a4)]===_0xc04009(0x2af)&&(this[_0xc04009(0x7e)][_0xc04009(0xe9)]['TYPE']=_0xc04009(0xeb),this[_0xc04009(0x7e)][_0xc04009(0xe9)]['PORT']=Number['parseInt'](process[_0xc04009(0x7e)]?.[_0xc04009(0x28a)]??'8080'));}[a0_0x4cf6e5(0x3be)](){const _0xb2a362=a0_0x4cf6e5;return(0x0,ks['load'])((0x0,$s['readFileSync'])((0x0,Ls[_0xb2a362(0x52f)])(Ps,'../env.yml'),{'encoding':_0xb2a362(0x5f4)}));}[a0_0x4cf6e5(0x3e1)](){const _0x35ebc4=a0_0x4cf6e5;return{'SERVER':{'TYPE':process['env'][_0x35ebc4(0x161)],'PORT':Number[_0x35ebc4(0x69e)](process[_0x35ebc4(0x7e)][_0x35ebc4(0x28a)]),'URL':process[_0x35ebc4(0x7e)][_0x35ebc4(0x253)]},'CORS':{'ORIGIN':process[_0x35ebc4(0x7e)][_0x35ebc4(0x489)][_0x35ebc4(0x3ad)](','),'METHODS':process[_0x35ebc4(0x7e)][_0x35ebc4(0x1b8)][_0x35ebc4(0x3ad)](','),'CREDENTIALS':process[_0x35ebc4(0x7e)]?.[_0x35ebc4(0x3c2)]===_0x35ebc4(0x2af)},'SSL_CONF':{'PRIVKEY':process[_0x35ebc4(0x7e)]?.[_0x35ebc4(0x1a5)],'FULLCHAIN':process[_0x35ebc4(0x7e)]?.[_0x35ebc4(0x389)]},'STORE':{'CLEANING_INTERVAL':Number[_0x35ebc4(0x627)](process[_0x35ebc4(0x7e)]?.[_0x35ebc4(0x129)])?Number[_0x35ebc4(0x69e)](process[_0x35ebc4(0x7e)][_0x35ebc4(0x129)]):void 0x0,'MESSAGES':process[_0x35ebc4(0x7e)]?.[_0x35ebc4(0x608)]===_0x35ebc4(0x2af),'CONTACTS':process[_0x35ebc4(0x7e)]?.[_0x35ebc4(0x111)]==='true','CHATS':process['env']?.[_0x35ebc4(0x1b4)]==='true'},'DATABASE':{'CONNECTION':{'HOST':process[_0x35ebc4(0x7e)]?.[_0x35ebc4(0x198)],'PORT':Number[_0x35ebc4(0x69e)](process['env']?.[_0x35ebc4(0x198)]),'USER':process[_0x35ebc4(0x7e)]['DATABASE_CONNECTION_USER'],'PASSWORD':process[_0x35ebc4(0x7e)][_0x35ebc4(0x265)],'URI':process['env']['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process[_0x35ebc4(0x7e)][_0x35ebc4(0x20b)]},'ENABLED':process[_0x35ebc4(0x7e)]?.[_0x35ebc4(0x3c4)]===_0x35ebc4(0x2af)},'REDIS':{'ENABLED':process['env']?.[_0x35ebc4(0x493)]===_0x35ebc4(0x2af),'URI':process[_0x35ebc4(0x7e)][_0x35ebc4(0x47d)]||_0x35ebc4(0x2f2),'PREFIX_KEY':process[_0x35ebc4(0x7e)][_0x35ebc4(0x369)]||_0x35ebc4(0x192)},'LOG':{'LEVEL':process[_0x35ebc4(0x7e)]?.[_0x35ebc4(0x1aa)][_0x35ebc4(0x3ad)](','),'COLOR':process[_0x35ebc4(0x7e)]?.[_0x35ebc4(0x319)]===_0x35ebc4(0x2af)},'PROXY':Number[_0x35ebc4(0x69e)](process[_0x35ebc4(0x7e)]?.[_0x35ebc4(0x561)]),'AUTHENTICATION':{'TYPE':process['env'][_0x35ebc4(0x504)],'API_KEY':{'KEY':process[_0x35ebc4(0x7e)][_0x35ebc4(0x5e8)]},'JWT':{'EXPIRIN_IN':Number['isInteger'](process[_0x35ebc4(0x7e)]?.[_0x35ebc4(0x22d)])?Number[_0x35ebc4(0x69e)](process[_0x35ebc4(0x7e)][_0x35ebc4(0x22d)]):0xe10,'SECRET':process[_0x35ebc4(0x7e)][_0x35ebc4(0xa6)]}}};}},b=new es(),Ar=T(require(a0_0x4cf6e5(0x1f8))),he=T(require(a0_0x4cf6e5(0x44d))),xs=require(a0_0x4cf6e5(0x150)),ts=T(require(a0_0x4cf6e5(0x15c))),ss=(_0x83018b=>(_0x83018b[a0_0x4cf6e5(0x19d)]=a0_0x4cf6e5(0x62b),_0x83018b['INFO']=a0_0x4cf6e5(0x86),_0x83018b[a0_0x4cf6e5(0x384)]=a0_0x4cf6e5(0x184),_0x83018b['ERROR']=a0_0x4cf6e5(0x2eb),_0x83018b[a0_0x4cf6e5(0x576)]=a0_0x4cf6e5(0x536),_0x83018b[a0_0x4cf6e5(0xe8)]=a0_0x4cf6e5(0x424),_0x83018b[a0_0x4cf6e5(0x22e)]=a0_0x4cf6e5(0x2c6),_0x83018b))(ss||{}),Fs=(_0x84c317=>(_0x84c317[a0_0x4cf6e5(0x19d)]=a0_0x4cf6e5(0x4f4),_0x84c317[a0_0x4cf6e5(0x22e)]=a0_0x4cf6e5(0x6ae),_0x84c317[a0_0x4cf6e5(0x5d3)]=a0_0x4cf6e5(0x5ae),_0x84c317[a0_0x4cf6e5(0x384)]='\x1b[33m%s\x1b[0m',_0x84c317[a0_0x4cf6e5(0x5f0)]='\x1b[31m%s\x1b[0m',_0x84c317[a0_0x4cf6e5(0x576)]=a0_0x4cf6e5(0x1cd),_0x84c317[a0_0x4cf6e5(0xe8)]=a0_0x4cf6e5(0x6c3),_0x84c317))(Fs||{}),js=(_0x1587e3=>(_0x1587e3[a0_0x4cf6e5(0x19d)]=a0_0x4cf6e5(0x19d),_0x1587e3[a0_0x4cf6e5(0x384)]=a0_0x4cf6e5(0x384),_0x1587e3[a0_0x4cf6e5(0x5d3)]=a0_0x4cf6e5(0x5d3),_0x1587e3[a0_0x4cf6e5(0x22e)]='DARK',_0x1587e3[a0_0x4cf6e5(0x5f0)]='ERROR',_0x1587e3[a0_0x4cf6e5(0x576)]=a0_0x4cf6e5(0x576),_0x1587e3[a0_0x4cf6e5(0xe8)]=a0_0x4cf6e5(0xe8),_0x1587e3))(js||{}),Us=(_0x39186f=>(_0x39186f[a0_0x4cf6e5(0x19d)]='\x1b[42m',_0x39186f['INFO']=a0_0x4cf6e5(0x55b),_0x39186f[a0_0x4cf6e5(0x384)]=a0_0x4cf6e5(0x4f1),_0x39186f[a0_0x4cf6e5(0x22e)]='\x1b[40m',_0x39186f[a0_0x4cf6e5(0x5f0)]=a0_0x4cf6e5(0x6b4),_0x39186f[a0_0x4cf6e5(0x576)]=a0_0x4cf6e5(0x2df),_0x39186f['VERBOSE']=a0_0x4cf6e5(0x392),_0x39186f))(Us||{}),N=class{constructor(_0x12184e='Logger'){const _0x34565e=a0_0x4cf6e5;this[_0x34565e(0x57b)]=_0x12184e,this['configService']=b;}[a0_0x4cf6e5(0x3d7)](_0x161c7a){this['context']=_0x161c7a;}[a0_0x4cf6e5(0x57d)](_0x45668d,_0x4b1e8a){const _0x122c6a=a0_0x4cf6e5;let _0x205906=[];this['configService'][_0x122c6a(0x571)](_0x122c6a(0x19d))[_0x122c6a(0x36a)][_0x122c6a(0x357)](_0x3d51c4=>_0x205906[_0x122c6a(0xc2)](js[_0x3d51c4]));let _0x409123=typeof _0x45668d;_0x205906[_0x122c6a(0x1bd)](_0x4b1e8a)&&(b[_0x122c6a(0x571)](_0x122c6a(0x19d))[_0x122c6a(0x3a2)]?(console[_0x122c6a(0x2e6)](_0x122c6a(0x4ff)+Fs[_0x4b1e8a],'\x1b[1m\x1b[37m',(0x0,ts[_0x122c6a(0xb2)])()[_0x122c6a(0x63c)](_0x122c6a(0x48a)),'\x1b[0m',ss[_0x4b1e8a]+Us[_0x4b1e8a]+_0x122c6a(0x4ff),_0x4b1e8a+_0x122c6a(0x635),_0x122c6a(0x1ba),this[_0x122c6a(0x57b)]+_0x122c6a(0x1e5),ss[_0x4b1e8a],_0x409123!==_0x122c6a(0x224)?_0x45668d:'',_0x122c6a(0x1e5)),_0x409123===_0x122c6a(0x224)&&console[_0x122c6a(0x2e6)](_0x45668d,'\x0a')):console['log']((0x0,ts[_0x122c6a(0xb2)])()[_0x122c6a(0x63c)]('HH:mm:ss'),_0x4b1e8a+'\x20',''+this[_0x122c6a(0x57b)],_0x45668d));}[a0_0x4cf6e5(0x2e6)](_0x32d9b1){const _0xd80da9=a0_0x4cf6e5;this[_0xd80da9(0x57d)](_0x32d9b1,_0xd80da9(0x19d));}[a0_0x4cf6e5(0x51c)](_0xf69b0e){const _0x3ca8ff=a0_0x4cf6e5;this[_0x3ca8ff(0x57d)](_0xf69b0e,_0x3ca8ff(0x5d3));}[a0_0x4cf6e5(0xb5)](_0x4dc2d7){const _0x29c2fb=a0_0x4cf6e5;this['console'](_0x4dc2d7,_0x29c2fb(0x384));}[a0_0x4cf6e5(0x14e)](_0x82f0a8){const _0x4b4fa6=a0_0x4cf6e5;this['console'](_0x82f0a8,_0x4b4fa6(0x5f0));}[a0_0x4cf6e5(0x1f7)](_0x4a5e65){this['console'](_0x4a5e65,'VERBOSE');}['debug'](_0x18ebc7){const _0x29bd4f=a0_0x4cf6e5;this['console'](_0x18ebc7,_0x29bd4f(0x576));}['dark'](_0x588dfd){const _0x4ece90=a0_0x4cf6e5;this[_0x4ece90(0x57d)](_0x588dfd,_0x4ece90(0x22e));}};function qs(){const _0x525930=a0_0x4cf6e5;process['on'](_0x525930(0x630),(_0x517cab,_0x3a55be)=>{const _0x54f8b9=_0x525930;new N(_0x54f8b9(0x630))[_0x54f8b9(0x14e)]({'origin':_0x3a55be,'stderr':process['stderr']['fd'],'error':_0x517cab});}),process['on'](_0x525930(0xa7),(_0x1dfdde,_0x2789a4)=>{const _0x55206f=_0x525930;new N(_0x55206f(0xa7))[_0x55206f(0x14e)]({'origin':_0x2789a4,'stderr':process[_0x55206f(0x17d)]['fd'],'error':_0x1dfdde});});}var Js=T(require('eventemitter2')),as=new Js['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),De=require(a0_0x4cf6e5(0xe7)),rs=T(require('mongoose')),qr=new N('Db\x20Connection'),J=b[a0_0x4cf6e5(0x571)]('DATABASE'),R=J[a0_0x4cf6e5(0x693)]?J[a0_0x4cf6e5(0x5bc)][a0_0x4cf6e5(0x9f)]?rs[a0_0x4cf6e5(0xb2)][a0_0x4cf6e5(0x1a8)](J[a0_0x4cf6e5(0x5bc)][a0_0x4cf6e5(0x9f)],{'dbName':J[a0_0x4cf6e5(0x5bc)][a0_0x4cf6e5(0x634)]+a0_0x4cf6e5(0x14c)}):rs[a0_0x4cf6e5(0xb2)][a0_0x4cf6e5(0x1a8)]('mongodb://'+J['CONNECTION'][a0_0x4cf6e5(0xde)]+':'+J['CONNECTION'][a0_0x4cf6e5(0x4a0)]+a0_0x4cf6e5(0x3f1),{'user':J[a0_0x4cf6e5(0x5bc)]['USER'],'pass':J[a0_0x4cf6e5(0x5bc)][a0_0x4cf6e5(0x175)],'dbName':J[a0_0x4cf6e5(0x5bc)][a0_0x4cf6e5(0x634)]+a0_0x4cf6e5(0x14c)}):null;J[a0_0x4cf6e5(0x693)]&&qr[a0_0x4cf6e5(0x51c)]('ON\x20-\x20dbName:\x20'+R[a0_0x4cf6e5(0x4b0)]);var Jr=new De[(a0_0x4cf6e5(0x218))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Vr=new De[(a0_0x4cf6e5(0x218))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Jr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Br=new De[(a0_0x4cf6e5(0x218))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Vr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Vs=_0x5c144c=>{const _0x6f04d5=a0_0x4cf6e5;let _0x3a27f1='z_'+_0x5c144c+'_Chats';return R?.[_0x6f04d5(0x68a)](_0x6f04d5(0x586),Br,_0x3a27f1);},Bs=require('mongoose'),Gr=new Bs[(a0_0x4cf6e5(0x218))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Gs=_0x510d60=>{const _0x188a18=a0_0x4cf6e5;let _0x17ba0a='z_'+_0x510d60+_0x188a18(0x46b);return R?.[_0x188a18(0x68a)](_0x188a18(0x50c),Gr,_0x17ba0a);},Ws=require(a0_0x4cf6e5(0xe7)),Wr=new Ws['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),zs=_0xb1642c=>{const _0x807ac1=a0_0x4cf6e5;let _0x226087='z_'+_0xb1642c+'_Messages';return R?.[_0x807ac1(0x68a)](_0x807ac1(0x1ff),Wr,_0x226087);},Hs=require(a0_0x4cf6e5(0xe7)),is=class{},zr=new Hs[(a0_0x4cf6e5(0x218))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),Ks=R?.['model'](is[a0_0x4cf6e5(0x3ee)],zr,'authentication'),Qs=require('mongoose'),os=class{},Ys=new Qs['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Ys[a0_0x4cf6e5(0x2a8)]('save',function(_0x4be3f0){const _0x59d527=a0_0x4cf6e5;delete this[_0x59d527(0x27e)],delete this[_0x59d527(0x187)],delete this[_0x59d527(0x3df)],delete this['flowStopConversation'],delete this[_0x59d527(0x193)],_0x4be3f0();});var Xs=R?.['model'](os[a0_0x4cf6e5(0x3ee)],Ys,a0_0x4cf6e5(0x160)),P=require(a0_0x4cf6e5(0xe7)),Zs=require(a0_0x4cf6e5(0x21f)),_e=class{},ea=new P[(a0_0x4cf6e5(0x218))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ns=new P[(a0_0x4cf6e5(0x218))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Hr=new P[(a0_0x4cf6e5(0x218))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x4cf6e5(0x471)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x4cf6e5(0x5e6)},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ta=new P[(a0_0x4cf6e5(0x218))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Kr=new P[(a0_0x4cf6e5(0x218))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),Qr=new P[(a0_0x4cf6e5(0x218))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),sa=new P[(a0_0x4cf6e5(0x218))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Hr},'apirequest':Kr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ps=new P[(a0_0x4cf6e5(0x218))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),aa=new P['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),cs=class{},Pe=new P['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,Zs['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x46da95=a0_0x4cf6e5;return _0x46da95(0x279)+Math[_0x46da95(0x4a4)]()[_0x46da95(0x69a)](0x24)[_0x46da95(0x526)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ps],'variablesNotFound':{'type':[String]},'blocks':[sa],'groups':[ea],'conditions':[ta],'varedits':[aa],'replyOptions':{'type':[ns],'default':[]}});Pe[a0_0x4cf6e5(0x2a8)](a0_0x4cf6e5(0x3b6),function(_0x1d5ad0){const _0x43304b=a0_0x4cf6e5;let _0x4d3071=new Set(),_0x3b680c=new Set(this[_0x43304b(0x4a2)]?.['map'](_0x2be0ae=>_0x2be0ae[_0x43304b(0x3ee)])),_0x25f8ab=JSON[_0x43304b(0x611)](this),_0x19102e=/{{(?!_)([^}]*)}}/g,_0xdd3ace;for(;(_0xdd3ace=_0x19102e[_0x43304b(0x466)](_0x25f8ab))!==null;)_0x3b680c[_0x43304b(0x141)](_0xdd3ace[0x1])||_0x4d3071[_0x43304b(0x5f3)](_0xdd3ace[0x1]);_0x4d3071[_0x43304b(0x20c)]>0x0?(console[_0x43304b(0xb5)](_0x43304b(0x681),Array[_0x43304b(0x647)](_0x4d3071)),this['variablesNotFound']=Array[_0x43304b(0x647)](_0x4d3071)):this[_0x43304b(0x393)]=[],_0x1d5ad0();}),Pe['pre']('findOneAndUpdate',function(_0x1ffb22){const _0x179100=a0_0x4cf6e5;let _0x5c7a72=this['getUpdate']();if(_0x5c7a72&&typeof _0x5c7a72==_0x179100(0x224)&&_0x179100(0x55a)in _0x5c7a72){let _0x18234f=_0x5c7a72['$set'];if(_0x18234f){let _0x5df52d=new Set(),_0x2f4a12=new Set(_0x18234f[_0x179100(0x4a2)]?.['map'](_0x28556e=>_0x28556e[_0x179100(0x3ee)])),_0x3e7eb8=JSON[_0x179100(0x611)](_0x18234f),_0xc8cb11=/{{(?!_)([^}]*)}}/g,_0x490047;for(;(_0x490047=_0xc8cb11[_0x179100(0x466)](_0x3e7eb8))!==null;)_0x2f4a12['has'](_0x490047[0x1])||_0x5df52d[_0x179100(0x5f3)](_0x490047[0x1]);_0x5df52d[_0x179100(0x20c)]>0x0?(console[_0x179100(0xb5)](_0x179100(0x681),Array['from'](_0x5df52d)),_0x18234f[_0x179100(0x393)]=Array['from'](_0x5df52d)):_0x18234f[_0x179100(0x393)]=[],this[_0x179100(0x153)]({'$set':_0x18234f});}}_0x1ffb22();});var ra=_0x281965=>{const _0x18cd4c=a0_0x4cf6e5;let _0x172c24='z_'+_0x281965+_0x18cd4c(0x5ac);return R?.[_0x18cd4c(0x68a)](_0x18cd4c(0x3a4),Pe,_0x172c24);},ia=R?.[a0_0x4cf6e5(0x68a)](cs['name'],Pe,a0_0x4cf6e5(0x2a6)),Yr=new P[(a0_0x4cf6e5(0x218))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ps],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Qr]},{'_id':!0x1}),ls=class{},oa=new P[(a0_0x4cf6e5(0x218))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ps],'blocks':[sa],'groups':[ea],'conditions':[ta],'varedits':[aa],'replyOptions':{'type':[ns],'default':[]},'chatLog':Yr,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':'open'},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x4cf6e5(0x5e6)},'waitingMenu_replyOptions':{'type':[ns],'default':[]}}),na=_0x4a5713=>{const _0x589a8f=a0_0x4cf6e5;let _0x237c79='z_'+_0x4a5713+_0x589a8f(0x10b);return R?.['model'](_0x589a8f(0x419),oa,_0x237c79);},ca=R?.[a0_0x4cf6e5(0x68a)](ls[a0_0x4cf6e5(0x3ee)],oa,'flowConversation'),us=class{},Xr=new P[(a0_0x4cf6e5(0x218))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Zr=new P[(a0_0x4cf6e5(0x218))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),la=new P['Schema']({'owner':{'type':String},'status':{'type':String,'default':a0_0x4cf6e5(0x519)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Zr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Xr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ua=_0x4c1ed6=>{const _0x91e700=a0_0x4cf6e5;let _0x444675='z_'+_0x4c1ed6+_0x91e700(0x3d6);return R?.[_0x91e700(0x68a)](_0x91e700(0x665),la,_0x444675);},da=R?.[a0_0x4cf6e5(0x68a)](us['name'],la,a0_0x4cf6e5(0x4e6)),ds=class{},ei=new P[(a0_0x4cf6e5(0x218))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),ti=new P['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x4cf6e5(0x16c)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),si=new P[(a0_0x4cf6e5(0x218))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),ai=new P[(a0_0x4cf6e5(0x218))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[si]},'customFields':{'type':[ei]},'flowConfig':{'type':ti,'default':{}}}),$e=R?.[a0_0x4cf6e5(0x68a)](ds['name'],ai,a0_0x4cf6e5(0x167)),pa=require(a0_0x4cf6e5(0xe7)),ri=new pa['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ha=_0x244e91=>{const _0x5a7db9=a0_0x4cf6e5;let _0x406fca='z_'+_0x244e91+'_Labels';return R?.[_0x5a7db9(0x68a)]('LabelModel',ri,_0x406fca);},D=class{constructor(_0x3f2b0c){const _0x9f4952=a0_0x4cf6e5;this[_0x9f4952(0x499)]=_0x3f2b0c[_0x9f4952(0x571)](_0x9f4952(0x694));}};function a0_0x1ffd(_0x1d0304,_0x14b06f){const _0x175db4=a0_0x175d();return a0_0x1ffd=function(_0x1ffd74,_0x31eba6){_0x1ffd74=_0x1ffd74-0x6f;let _0x334465=_0x175db4[_0x1ffd74];return _0x334465;},a0_0x1ffd(_0x1d0304,_0x14b06f);}function A(_0x3e7d0a){const _0x3cac79=a0_0x4cf6e5;let _0x140645={};for(let [_0x29587d,_0xc0e116]of Object['entries'](_0x3e7d0a))if(typeof _0xc0e116==_0x3cac79(0x224)&&!Array[_0x3cac79(0x513)](_0xc0e116)){for(let [_0x14ed3f,_0x569b9e]of Object[_0x3cac79(0xc5)](_0xc0e116))_0x140645[_0x29587d+'.'+_0x14ed3f]=_0x569b9e;}else _0x140645[_0x29587d]=_0xc0e116;return _0x140645;}var ke=class{constructor(_0xfc28c3,_0x4bec7d,_0x1b33f7,_0x5b625f,_0x129f04,_0x3a7b2d,_0x48023e,_0x103287,_0x2f776b,_0x44de68,_0x56d72a){const _0x73f38d=a0_0x4cf6e5;this[_0x73f38d(0x251)]=_0xfc28c3,this[_0x73f38d(0x51b)]=_0x4bec7d,this[_0x73f38d(0x294)]=_0x1b33f7,this[_0x73f38d(0x160)]=_0x5b625f,this[_0x73f38d(0x1a1)]=_0x129f04,this['flow']=_0x3a7b2d,this[_0x73f38d(0x5de)]=_0x48023e,this[_0x73f38d(0x60b)]=_0x103287,this[_0x73f38d(0x87)]=_0x2f776b,this[_0x73f38d(0x21d)]=_0x44de68,this['dbClient']=_0x56d72a;}get[a0_0x4cf6e5(0x333)](){const _0x45a2e4=a0_0x4cf6e5;return this[_0x45a2e4(0x58b)];}},Le=class{},Fe=class extends D{[a0_0x4cf6e5(0xf4)](_0x5b49dd){return zs(_0x5b49dd);}async[a0_0x4cf6e5(0x359)](_0x1908ca,_0x41ca3c){const _0x2af2e2=a0_0x4cf6e5;if(_0x1908ca[_0x2af2e2(0x364)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x2af2e2(0xf4)](_0x41ca3c)[_0x2af2e2(0x676)]([..._0x1908ca]))[_0x2af2e2(0x364)]};}catch(_0x24091b){return _0x24091b;}}async[a0_0x4cf6e5(0x531)](_0x47d285,_0x46a103){const _0x9642b=a0_0x4cf6e5;try{let _0x3355ab=this[_0x9642b(0xf4)](_0x46a103),_0xbf908=A(_0x47d285[_0x9642b(0x2f0)]);return await _0x3355ab[_0x9642b(0x531)](_0xbf908)[_0x9642b(0x6e8)]({'messageTimestamp':-0x1})['limit'](_0x47d285?.['limit']??0x0)[_0x9642b(0x94)]();}catch{return[];}}async[a0_0x4cf6e5(0xff)](_0x216744,_0x421745){const _0x5b26cc=a0_0x4cf6e5;try{let _0x9eb4a1=this[_0x5b26cc(0xf4)](_0x421745),_0x599f0b=A(_0x216744[_0x5b26cc(0x2f0)]);await _0x9eb4a1[_0x5b26cc(0x15b)](_0x599f0b);}catch(_0x53be6f){console[_0x5b26cc(0x14e)](_0x53be6f);}}async[a0_0x4cf6e5(0x225)](_0x5cd2c2,_0x6199f1,_0x2a61ec){const _0x2d2adb=a0_0x4cf6e5;try{let _0x416026=this['getMessageModelForOwner'](_0x2a61ec),_0x428466=A(_0x5cd2c2[_0x2d2adb(0x2f0)]);return await _0x416026[_0x2d2adb(0x266)](_0x428466,{'$set':_0x6199f1},{'new':!0x0});}catch(_0x4dd692){throw console[_0x2d2adb(0x14e)](_0x4dd692),_0x4dd692;}}async[a0_0x4cf6e5(0x676)](_0x236cd9,_0x12baa3){const _0x2ba384=a0_0x4cf6e5;if(_0x236cd9[_0x2ba384(0x364)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x12baa3)['insertMany']([..._0x236cd9]))['length']};}catch(_0x3a4513){return console[_0x2ba384(0x2e6)](_0x2ba384(0x600),_0x3a4513),_0x3a4513;}}async[a0_0x4cf6e5(0x3cf)](_0x1fdd1e){const _0x44f6b6=a0_0x4cf6e5;try{return await this[_0x44f6b6(0xf4)](_0x1fdd1e)['collection'][_0x44f6b6(0x2bc)](),{'success':!0x0};}catch(_0x4acfe9){return console[_0x44f6b6(0x14e)](_0x4acfe9),{'success':!0x1,'error':_0x4acfe9};}}},yr=T(require('@ffmpeg-installer/ffmpeg')),g=T(require('@whiskeysockets/baileys')),ve=require('fs'),j=T(require(a0_0x4cf6e5(0x150))),se=T(require(a0_0x4cf6e5(0x5c8))),br=require('uuid'),Sr=T(require(a0_0x4cf6e5(0x62a))),Er=T(require('qrcode-terminal')),ga=[a0_0x4cf6e5(0x140),a0_0x4cf6e5(0x2d6),a0_0x4cf6e5(0x3f4),a0_0x4cf6e5(0xe6),a0_0x4cf6e5(0x2c7)],ma=['ephemeralMessage',a0_0x4cf6e5(0x3b8),'viewOnceMessage','viewOnceMessageV2'],Es=require('os'),It=T(require('pino')),Pt=require(a0_0x4cf6e5(0x96)),xt=require(a0_0x4cf6e5(0x5d1)),ce=T(require(a0_0x4cf6e5(0xe7))),$=require('class-validator'),me=class{constructor(_0x4d05e9,_0x4bab13,_0x38e851){const _0x4e5a09=a0_0x4cf6e5;this[_0x4e5a09(0x518)]=_0x4d05e9,this[_0x4e5a09(0x43f)]=_0x4bab13,this[_0x4e5a09(0x3ee)]=_0x38e851;}},je=class{},Ue=class{},be=class{},qe=class{},Je=class{},fe=class{},Ve=class{},Be=class{},Ge=class{},We=class{},vt=T(require('express')),fa=require('fs'),wa=require(a0_0x4cf6e5(0x150));async function ze(_0x282d2a){const _0x4354a4=a0_0x4cf6e5;let _0x474504=V['waInstances'][_0x282d2a];if(J[_0x4354a4(0x693)]){let _0x1a0f66=R[_0x4354a4(0x55c)]()['db'](J[_0x4354a4(0x5bc)][_0x4354a4(0x634)]+_0x4354a4(0x1b1))[_0x4354a4(0x381)](_0x282d2a);return _0x474504||(await _0x1a0f66['find']({})[_0x4354a4(0xfa)]())[_0x4354a4(0x364)]>0x0;}return _0x474504||(0x0,fa[_0x4354a4(0x2c8)])((0x0,wa[_0x4354a4(0x52f)])(ge,_0x282d2a));}async function ya(_0x25e986,_0x2ccddc,_0x56ee2e){const _0x6c2c31=a0_0x4cf6e5;if(_0x25e986[_0x6c2c31(0x6a0)][_0x6c2c31(0x1bd)](_0x6c2c31(0x4e8))||_0x25e986[_0x6c2c31(0x6a0)][_0x6c2c31(0x1bd)](_0x6c2c31(0x37a))||_0x25e986['originalUrl']['includes']('/exit')||_0x25e986[_0x6c2c31(0x6a0)][_0x6c2c31(0x1bd)]('/config')||_0x25e986[_0x6c2c31(0x6a0)][_0x6c2c31(0x1bd)](_0x6c2c31(0x623))||_0x25e986[_0x6c2c31(0x6a0)][_0x6c2c31(0x1bd)](_0x6c2c31(0x188))||_0x25e986[_0x6c2c31(0x6a0)][_0x6c2c31(0x1bd)](_0x6c2c31(0x9b)))return _0x56ee2e();let _0x3dbc61=_0x25e986['params'];if(!_0x3dbc61?.['instanceName'])throw new w('instanceName\x20not\x20provided.');if(!await ze(_0x3dbc61[_0x6c2c31(0x276)]))throw new k(_0x6c2c31(0xc1)+_0x3dbc61[_0x6c2c31(0x276)]+'\x20instance\x20does\x20not\x20exist');_0x56ee2e();}async function ba(_0x4a6967,_0x5a3614,_0xfe7d75){const _0x2341cb=a0_0x4cf6e5;if(_0x4a6967['originalUrl'][_0x2341cb(0x1bd)](_0x2341cb(0x4e8))){let _0xfcb2eb=_0x4a6967['body'];if(await ze(_0xfcb2eb['instanceName']))throw new H(_0x2341cb(0x321)+_0xfcb2eb[_0x2341cb(0x276)]+_0x2341cb(0x13b));V[_0x2341cb(0x1dc)][_0xfcb2eb['instanceName']]&&delete V[_0x2341cb(0x1dc)][_0xfcb2eb[_0x2341cb(0x276)]];}_0xfe7d75();}var Sa=require(a0_0x4cf6e5(0x222)),Ea=T(require(a0_0x4cf6e5(0x126))),He=a0_0x4cf6e5(0x192),oi=new N(a0_0x4cf6e5(0x315));async function ni(_0x197040,_0x2d04f7,_0x26f093){const _0x57f00d=a0_0x4cf6e5;let _0x4f8e02=_0x197040[_0x57f00d(0x571)](_0x57f00d(0x212));if(_0x4f8e02&&b[_0x57f00d(0x571)](_0x57f00d(0x237))['API_KEY'][_0x57f00d(0x75)]!==_0x4f8e02)throw new Z();if(b[_0x57f00d(0x571)](_0x57f00d(0x237))['API_KEY'][_0x57f00d(0x75)]===_0x4f8e02)return _0x26f093();if((_0x197040[_0x57f00d(0x6a0)][_0x57f00d(0x1bd)]('/instance/create')||_0x197040[_0x57f00d(0x6a0)][_0x57f00d(0x1bd)](_0x57f00d(0x37a)))&&!_0x4f8e02)throw new H(_0x57f00d(0x559),_0x57f00d(0x40a));let _0x53a4d0=b[_0x57f00d(0x571)](_0x57f00d(0x237))[_0x57f00d(0x568)];try{let [_0x122c3d,_0xeaf8ec]=_0x197040[_0x57f00d(0x571)](_0x57f00d(0x2fc))[_0x57f00d(0x3ad)]('\x20');if(_0x122c3d[_0x57f00d(0x21e)]()!=='bearer')throw new Z();if(!(0x0,Sa['isJWT'])(_0xeaf8ec))throw new Z();let _0x1ec5aa=_0x197040[_0x57f00d(0x345)],_0x513b48=Ea['default'][_0x57f00d(0x443)](_0xeaf8ec,_0x53a4d0[_0x57f00d(0x374)],{'ignoreExpiration':_0x53a4d0['EXPIRIN_IN']===0x0});if(_0x1ec5aa[_0x57f00d(0x276)]!==_0x513b48[_0x57f00d(0x276)]||He!==_0x513b48[_0x57f00d(0x4f6)])throw new Z();return _0x26f093();}catch(_0x3ee796){throw oi[_0x57f00d(0x14e)](_0x3ee796),new Z();}}async function ci(_0x35610f,_0x26a185,_0x3e0854){const _0x5562a3=a0_0x4cf6e5;let _0x3ca07b=b[_0x5562a3(0x571)](_0x5562a3(0x237))[_0x5562a3(0x628)],_0x5d1276=_0x35610f[_0x5562a3(0x571)](_0x5562a3(0x212));if(_0x3ca07b[_0x5562a3(0x75)]===_0x5d1276)return _0x3e0854();if(_0x35610f[_0x5562a3(0x6a0)][_0x5562a3(0x1bd)](_0x5562a3(0x4e8))){let _0x16684b=Ke,_0x38d03a=_0x35610f[_0x5562a3(0x358)][_0x5562a3(0x276)];if(_0x16684b&&_0x38d03a[_0x5562a3(0x21e)]()['startsWith'](_0x16684b[_0x5562a3(0x21e)]()))return _0x3e0854();if(!_0x5d1276)throw new H('Missing\x20global\x20api\x20key',_0x5562a3(0x40a));}if(_0x35610f['originalUrl'][_0x5562a3(0x1bd)](_0x5562a3(0x37a))&&!_0x5d1276)throw new H(_0x5562a3(0x559),_0x5562a3(0x40a));if(_0x35610f['originalUrl'][_0x5562a3(0x1bd)](_0x5562a3(0x383))&&!_0x5d1276)throw new H(_0x5562a3(0x559),_0x5562a3(0x40a));if(_0x35610f['originalUrl'][_0x5562a3(0x1bd)](_0x5562a3(0x467))&&!_0x5d1276)throw new H(_0x5562a3(0x559),_0x5562a3(0x40a));try{let _0x41fc70=_0x35610f[_0x5562a3(0x345)];if((await ue['auth'][_0x5562a3(0x531)](_0x41fc70[_0x5562a3(0x276)]))[_0x5562a3(0x212)]===_0x5d1276)return _0x3e0854();}catch{}throw new Z();}var Ma={'jwt':ni,'apikey':ci},sr=require('express'),M=require(a0_0x4cf6e5(0x21f)),E=(..._0x4274b3)=>{const _0x2a82f9=a0_0x4cf6e5;let _0x3997f1={};return _0x4274b3[_0x2a82f9(0x357)](_0x50a36b=>_0x3997f1[_0x50a36b]={'minLength':0x1,'description':_0x2a82f9(0xd6)+_0x50a36b+_0x2a82f9(0x4a5)}),{'if':{'propertyNames':{'enum':[..._0x4274b3]}},'then':{'properties':_0x3997f1}};},v={'$id':(0x0,M['v4'])(),'type':a0_0x4cf6e5(0x224),'properties':{'instanceName':{'type':a0_0x4cf6e5(0x407)}},...E(a0_0x4cf6e5(0x276))},Qn={'$id':(0x0,M['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x4cf6e5(0x407)}},'required':['oldToken'],...E(a0_0x4cf6e5(0xda))},Yn={'properties':{'key':{'type':a0_0x4cf6e5(0x224),'properties':{'id':{'type':a0_0x4cf6e5(0x407)},'remoteJid':{'type':a0_0x4cf6e5(0x407)},'fromMe':{'type':a0_0x4cf6e5(0x4bf),'enum':[!0x0,!0x1]}},'required':['id',a0_0x4cf6e5(0x373),a0_0x4cf6e5(0x302)],...E('id','remoteJid')},'message':{'type':'object'}}},K={'properties':{'delay':{'type':a0_0x4cf6e5(0x486),'description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':a0_0x4cf6e5(0x407),'enum':[a0_0x4cf6e5(0x3fe),'available','composing',a0_0x4cf6e5(0x362),a0_0x4cf6e5(0x1b5)]}}},W={'type':a0_0x4cf6e5(0x407),'pattern':a0_0x4cf6e5(0x591),'description':a0_0x4cf6e5(0x152)},Ca={'$id':(0x0,M['v4'])(),'type':a0_0x4cf6e5(0x224),'properties':{'number':{...W},'options':{...K},'textMessage':{'type':a0_0x4cf6e5(0x224),'properties':{'text':{'type':'string'}},'required':[a0_0x4cf6e5(0x118)],...E(a0_0x4cf6e5(0x118))}},'required':[a0_0x4cf6e5(0x63b),a0_0x4cf6e5(0x344)]},va={'type':a0_0x4cf6e5(0x407),'pattern':a0_0x4cf6e5(0x304),'description':'Invalid\x20format'},Xn={'$id':(0x0,M['v4'])(),'type':a0_0x4cf6e5(0x224),'properties':{'number':{...va},'options':{...K},'textMessage':{'type':a0_0x4cf6e5(0x224),'properties':{'text':{'type':'string'}},'required':['text'],...E(a0_0x4cf6e5(0x118))}},'required':[a0_0x4cf6e5(0x63b),a0_0x4cf6e5(0x344)]},Zn={'$id':(0x0,M['v4'])(),'type':a0_0x4cf6e5(0x224),'properties':{'number':{...va},'options':{...K},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x4cf6e5(0x407),'enum':[a0_0x4cf6e5(0x43e),a0_0x4cf6e5(0x3ae),a0_0x4cf6e5(0x232),a0_0x4cf6e5(0x450)]},'media':{'type':a0_0x4cf6e5(0x407)},'fileName':{'type':a0_0x4cf6e5(0x407)},'caption':{'type':'string'}},'required':[a0_0x4cf6e5(0x5c0),'media'],...E(a0_0x4cf6e5(0x556),a0_0x4cf6e5(0x4c6),a0_0x4cf6e5(0x312))}},'required':['mediaMessage',a0_0x4cf6e5(0x344)]},Na={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...W},'options':{...K},'stickerMessage':{'type':a0_0x4cf6e5(0x224),'properties':{'image':{'type':a0_0x4cf6e5(0x407)}},'required':[a0_0x4cf6e5(0x43e)],...E(a0_0x4cf6e5(0x43e))}},'required':[a0_0x4cf6e5(0x2c7),a0_0x4cf6e5(0x344)]},Ra={'$id':(0x0,M['v4'])(),'type':a0_0x4cf6e5(0x224),'properties':{'statusMessage':{'type':a0_0x4cf6e5(0x224),'properties':{'type':{'type':a0_0x4cf6e5(0x407),'enum':[a0_0x4cf6e5(0x118),a0_0x4cf6e5(0x43e),a0_0x4cf6e5(0x450),'video']},'content':{'type':a0_0x4cf6e5(0x407)},'caption':{'type':a0_0x4cf6e5(0x407)},'backgroundColor':{'type':a0_0x4cf6e5(0x407)},'font':{'type':a0_0x4cf6e5(0x486),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4cf6e5(0x407),'pattern':a0_0x4cf6e5(0x58f),'description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0x4cf6e5(0x4bf),'enum':[!0x0,!0x1]}},'required':[a0_0x4cf6e5(0x4a9),a0_0x4cf6e5(0x34e)],...E(a0_0x4cf6e5(0x4a9),a0_0x4cf6e5(0x34e))}},'required':[a0_0x4cf6e5(0x65c)]},Ta={'$id':(0x0,M['v4'])(),'type':a0_0x4cf6e5(0x224),'properties':{'number':{...W},'options':{...K},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x4cf6e5(0x407),'enum':[a0_0x4cf6e5(0x43e),'document',a0_0x4cf6e5(0x232),a0_0x4cf6e5(0x450)]},'media':{'type':a0_0x4cf6e5(0x407)},'fileName':{'type':a0_0x4cf6e5(0x407)},'caption':{'type':a0_0x4cf6e5(0x407)}},'required':[a0_0x4cf6e5(0x5c0),a0_0x4cf6e5(0x312)],...E(a0_0x4cf6e5(0x556),a0_0x4cf6e5(0x4c6),a0_0x4cf6e5(0x312))}},'required':[a0_0x4cf6e5(0x6a8),a0_0x4cf6e5(0x344)]},Oa={'$id':(0x0,M['v4'])(),'type':a0_0x4cf6e5(0x224),'properties':{'number':{...W},'options':{...K},'audioMessage':{'type':a0_0x4cf6e5(0x224),'properties':{'audio':{'type':a0_0x4cf6e5(0x407)}},'required':[a0_0x4cf6e5(0x450)],...E(a0_0x4cf6e5(0x450))}},'required':['audioMessage','number']},Aa={'$id':(0x0,M['v4'])(),'type':a0_0x4cf6e5(0x224),'properties':{'number':{...W},'pollMessage':{'type':a0_0x4cf6e5(0x224),'properties':{'name':{'type':a0_0x4cf6e5(0x407)},'selectableCount':{'type':a0_0x4cf6e5(0x344)},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x4cf6e5(0x2cb),a0_0x4cf6e5(0x5a6)],...E(a0_0x4cf6e5(0x3ee),a0_0x4cf6e5(0x2cb),a0_0x4cf6e5(0x5a6))}},'required':['number',a0_0x4cf6e5(0x331)]},Ia={'$id':(0x0,M['v4'])(),'type':a0_0x4cf6e5(0x224),'properties':{'number':{...W},'menuMessage':{'type':'object','properties':{'text':{'type':a0_0x4cf6e5(0x407)},'choices':{'type':a0_0x4cf6e5(0x445),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x4cf6e5(0x118),'choices'],...E(a0_0x4cf6e5(0x118),a0_0x4cf6e5(0xb6))}},'required':[a0_0x4cf6e5(0x344),a0_0x4cf6e5(0x202)]},xa={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...W},'options':{...K},'buttonMessage':{'type':a0_0x4cf6e5(0x224),'properties':{'title':{'type':'string'},'description':{'type':'string'},'footerText':{'type':a0_0x4cf6e5(0x407)},'buttons':{'type':a0_0x4cf6e5(0x445),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4cf6e5(0x224),'properties':{'buttonText':{'type':a0_0x4cf6e5(0x407)},'buttonId':{'type':a0_0x4cf6e5(0x407)}},'required':['buttonText',a0_0x4cf6e5(0x3e5)],...E(a0_0x4cf6e5(0x534),a0_0x4cf6e5(0x3e5))}},'mediaMessage':{'type':'object','properties':{'media':{'type':'string'},'fileName':{'type':a0_0x4cf6e5(0x407)},'mediatype':{'type':a0_0x4cf6e5(0x407),'enum':[a0_0x4cf6e5(0x43e),a0_0x4cf6e5(0x3ae),a0_0x4cf6e5(0x232)]}},'required':[a0_0x4cf6e5(0x312),a0_0x4cf6e5(0x5c0)],...E(a0_0x4cf6e5(0x312),'fileName')}},'required':['title',a0_0x4cf6e5(0x560)],...E(a0_0x4cf6e5(0x542),a0_0x4cf6e5(0xd5))}},'required':[a0_0x4cf6e5(0x344),'buttonMessage']},Da={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...W},'options':{...K},'locationMessage':{'type':a0_0x4cf6e5(0x224),'properties':{'latitude':{'type':a0_0x4cf6e5(0x344)},'longitude':{'type':a0_0x4cf6e5(0x344)},'name':{'type':a0_0x4cf6e5(0x407)},'address':{'type':a0_0x4cf6e5(0x407)}},'required':['latitude',a0_0x4cf6e5(0x38c)],...E(a0_0x4cf6e5(0x3ee),a0_0x4cf6e5(0x601))}},'required':[a0_0x4cf6e5(0x344),a0_0x4cf6e5(0x1cf)]},_a={'$id':(0x0,M['v4'])(),'type':a0_0x4cf6e5(0x224),'properties':{'number':{...W},'options':{...K},'listMessage':{'type':'object','properties':{'title':{'type':'string'},'description':{'type':a0_0x4cf6e5(0x407)},'footerText':{'type':a0_0x4cf6e5(0x407)},'buttonText':{'type':a0_0x4cf6e5(0x407)},'sections':{'type':a0_0x4cf6e5(0x445),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':'string'},'rows':{'type':a0_0x4cf6e5(0x445),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4cf6e5(0x224),'properties':{'title':{'type':a0_0x4cf6e5(0x407)},'description':{'type':'string'},'rowId':{'type':'string'}},'required':[a0_0x4cf6e5(0x542),'rowId'],...E(a0_0x4cf6e5(0x542),a0_0x4cf6e5(0x4e0))}}},'required':[a0_0x4cf6e5(0x542),'rows'],...E(a0_0x4cf6e5(0x542))}}},'required':[a0_0x4cf6e5(0x542),a0_0x4cf6e5(0xd5),a0_0x4cf6e5(0x534),a0_0x4cf6e5(0x35d)],...E('title',a0_0x4cf6e5(0xd5),'buttonText',a0_0x4cf6e5(0xe1))}},'required':[a0_0x4cf6e5(0x344),a0_0x4cf6e5(0x6d5)]},Pa={'$id':(0x0,M['v4'])(),'type':a0_0x4cf6e5(0x224),'properties':{'number':{...W},'options':{...K},'contactMessage':{'type':a0_0x4cf6e5(0x445),'items':{'type':a0_0x4cf6e5(0x224),'properties':{'fullName':{'type':a0_0x4cf6e5(0x407)},'phoneNumber':{'type':a0_0x4cf6e5(0x407),'minLength':0xa}},'required':[a0_0x4cf6e5(0x246),a0_0x4cf6e5(0xae)],...E(a0_0x4cf6e5(0x246))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x4cf6e5(0x344),a0_0x4cf6e5(0x442)]},$a={'$id':(0x0,M['v4'])(),'type':'object','properties':{'reactionMessage':{'type':a0_0x4cf6e5(0x224),'properties':{'key':{'type':a0_0x4cf6e5(0x224),'properties':{'id':{'type':a0_0x4cf6e5(0x407)},'remoteJid':{'type':a0_0x4cf6e5(0x407)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x4cf6e5(0x373),a0_0x4cf6e5(0x302)],...E('id',a0_0x4cf6e5(0x373))},'reaction':{'type':a0_0x4cf6e5(0x407)}},'required':['key',a0_0x4cf6e5(0x56a)],...E(a0_0x4cf6e5(0x56a))}},'required':[a0_0x4cf6e5(0x74)]},ka={'$id':(0x0,M['v4'])(),'type':'object','properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4cf6e5(0x407),'pattern':a0_0x4cf6e5(0x58f),'description':a0_0x4cf6e5(0x530)}}}},La={'$id':(0x0,M['v4'])(),'type':a0_0x4cf6e5(0x224),'properties':{'readMessages':{'type':a0_0x4cf6e5(0x445),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x4cf6e5(0x407)},'fromMe':{'type':a0_0x4cf6e5(0x4bf),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'}},'required':['id',a0_0x4cf6e5(0x302),a0_0x4cf6e5(0x373)],...E('id',a0_0x4cf6e5(0x373))}}},'required':[a0_0x4cf6e5(0x388)]},Fa={'$id':(0x0,M['v4'])(),'type':a0_0x4cf6e5(0x224),'properties':{'privacySettings':{'type':a0_0x4cf6e5(0x224),'properties':{'readreceipts':{'type':'string','enum':[a0_0x4cf6e5(0xc8),'none']},'profile':{'type':a0_0x4cf6e5(0x407),'enum':['all',a0_0x4cf6e5(0x37b),a0_0x4cf6e5(0x3d8),a0_0x4cf6e5(0x3fc)]},'status':{'type':'string','enum':[a0_0x4cf6e5(0xc8),a0_0x4cf6e5(0x37b),a0_0x4cf6e5(0x3d8),a0_0x4cf6e5(0x3fc)]},'online':{'type':a0_0x4cf6e5(0x407),'enum':['all',a0_0x4cf6e5(0x615)]},'last':{'type':a0_0x4cf6e5(0x407),'enum':[a0_0x4cf6e5(0xc8),a0_0x4cf6e5(0x37b),a0_0x4cf6e5(0x3d8),a0_0x4cf6e5(0x3fc)]},'groupadd':{'type':a0_0x4cf6e5(0x407),'enum':['all',a0_0x4cf6e5(0x37b),a0_0x4cf6e5(0x3d8),'none']}},'required':[a0_0x4cf6e5(0x1e1),a0_0x4cf6e5(0x27c),a0_0x4cf6e5(0x485),a0_0x4cf6e5(0x1bc),a0_0x4cf6e5(0x316),'groupadd'],...E(a0_0x4cf6e5(0x1e1),'profile',a0_0x4cf6e5(0x485),'online',a0_0x4cf6e5(0x316),a0_0x4cf6e5(0x247))}},'required':[a0_0x4cf6e5(0x565)]},ja={'$id':(0x0,M['v4'])(),'type':a0_0x4cf6e5(0x224),'properties':{'lastMessage':{'type':a0_0x4cf6e5(0x224),'properties':{'key':{'type':a0_0x4cf6e5(0x224),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x4cf6e5(0x407)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0x4cf6e5(0x373)],...E('id',a0_0x4cf6e5(0x373))},'messageTimestamp':{'type':a0_0x4cf6e5(0x486),'minLength':0x1}},'required':[a0_0x4cf6e5(0x5bd)],...E(a0_0x4cf6e5(0x6b7))},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x4cf6e5(0x25a),a0_0x4cf6e5(0x1e9)]},Ua={'$id':(0x0,M['v4'])(),'type':a0_0x4cf6e5(0x224),'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x4cf6e5(0x4bf),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x4cf6e5(0x407)},'participant':{'type':a0_0x4cf6e5(0x407)}},'required':['id',a0_0x4cf6e5(0x302),'remoteJid'],...E('id',a0_0x4cf6e5(0x373),a0_0x4cf6e5(0xdc))},qa={'$id':(0x0,M['v4'])(),'type':a0_0x4cf6e5(0x224),'properties':{'where':{'type':a0_0x4cf6e5(0x224),'properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':a0_0x4cf6e5(0x407),'minLength':0x1},'id':{'type':a0_0x4cf6e5(0x407),'minLength':0x1}},...E('_id','id',a0_0x4cf6e5(0x3e9))}}},Ja={'$id':(0x0,M['v4'])(),'type':a0_0x4cf6e5(0x224),'properties':{'name':{'type':a0_0x4cf6e5(0x407)}},...E(a0_0x4cf6e5(0x3ee))},Va={'$id':(0x0,M['v4'])(),'type':'object','properties':{'status':{'type':a0_0x4cf6e5(0x407)}},...E(a0_0x4cf6e5(0x485))},Se={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{'type':a0_0x4cf6e5(0x407)},'picture':{'type':a0_0x4cf6e5(0x407)}}},Ba={'type':a0_0x4cf6e5(0x224),'properties':{'wuid':{'type':a0_0x4cf6e5(0x407)},'name':{'type':a0_0x4cf6e5(0x407)},'picture':{'type':a0_0x4cf6e5(0x407)},'status':{'type':'string'},'isBusiness':{'type':'boolean'}}},Ga={'$id':(0x0,M['v4'])(),'type':a0_0x4cf6e5(0x224),'properties':{'where':{'type':a0_0x4cf6e5(0x224),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':a0_0x4cf6e5(0x224),'if':{'propertyNames':{'enum':[a0_0x4cf6e5(0x302),a0_0x4cf6e5(0x373),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x4cf6e5(0x407),'minLength':0x1,'description':a0_0x4cf6e5(0x3c8)},'id':{'type':a0_0x4cf6e5(0x407),'minLength':0x1,'description':a0_0x4cf6e5(0x3c8)},'fromMe':{'type':a0_0x4cf6e5(0x4bf),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x4cf6e5(0x224)}},...E(a0_0x4cf6e5(0x637))},'limit':{'type':a0_0x4cf6e5(0x486)}}},ec={'$id':(0x0,M['v4'])(),'type':a0_0x4cf6e5(0x224),'properties':{'where':{'type':a0_0x4cf6e5(0x224),'properties':{'_id':{'type':a0_0x4cf6e5(0x407)},'remoteJid':{'type':'string'},'id':{'type':a0_0x4cf6e5(0x407)},'fromMe':{'type':a0_0x4cf6e5(0x4bf),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x4cf6e5(0x407)},'status':{'type':a0_0x4cf6e5(0x407),'enum':[a0_0x4cf6e5(0x5f0),'PENDING',a0_0x4cf6e5(0x5ea),a0_0x4cf6e5(0xcd),a0_0x4cf6e5(0x5be),a0_0x4cf6e5(0x295)]}},...E(a0_0x4cf6e5(0x637),a0_0x4cf6e5(0x373),'id',a0_0x4cf6e5(0x485))},'limit':{'type':a0_0x4cf6e5(0x486)}}},Wa={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...W},'presence':{'type':a0_0x4cf6e5(0x407),'enum':['unavailable','available',a0_0x4cf6e5(0x457),a0_0x4cf6e5(0x362),a0_0x4cf6e5(0x1b5)]}},'required':[a0_0x4cf6e5(0x207),a0_0x4cf6e5(0x344)]},za={'$id':(0x0,M['v4'])(),'type':a0_0x4cf6e5(0x224),'properties':{'subject':{'type':a0_0x4cf6e5(0x407)},'description':{'type':a0_0x4cf6e5(0x407)},'profilePicture':{'type':a0_0x4cf6e5(0x407)},'participants':{'type':a0_0x4cf6e5(0x445),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4cf6e5(0x407),'minLength':0xa,'pattern':a0_0x4cf6e5(0x4ef),'description':a0_0x4cf6e5(0x2a2)}}},'required':[a0_0x4cf6e5(0x469),a0_0x4cf6e5(0x3c9)],...E(a0_0x4cf6e5(0x469),a0_0x4cf6e5(0xd5),a0_0x4cf6e5(0x619))},Ee={'$id':(0x0,M['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x4cf6e5(0x407),'pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':[a0_0x4cf6e5(0x164)],...E(a0_0x4cf6e5(0x164))},Ha={'$id':(0x0,M['v4'])(),'type':a0_0x4cf6e5(0x224),'properties':{'groupJid':{'type':a0_0x4cf6e5(0x407)},'action':{'type':a0_0x4cf6e5(0x407),'enum':[a0_0x4cf6e5(0x5f3),'remove',a0_0x4cf6e5(0xa9),a0_0x4cf6e5(0x17a)]},'participants':{'type':a0_0x4cf6e5(0x445),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4cf6e5(0x407),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x4cf6e5(0x2a2)}}},'required':['groupJid',a0_0x4cf6e5(0x404),a0_0x4cf6e5(0x3c9)],...E(a0_0x4cf6e5(0x164),a0_0x4cf6e5(0x404))},Ka={'$id':(0x0,M['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x4cf6e5(0x407)},'expiration':{'type':a0_0x4cf6e5(0x344),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x4cf6e5(0x164),a0_0x4cf6e5(0xb7)],...E('groupJid',a0_0x4cf6e5(0xb7))},Qa={'$id':(0x0,M['v4'])(),'type':a0_0x4cf6e5(0x224),'properties':{'groupJid':{'type':'string'},'image':{'type':a0_0x4cf6e5(0x407)}},'required':[a0_0x4cf6e5(0x164),a0_0x4cf6e5(0x43e)],...E(a0_0x4cf6e5(0x164),a0_0x4cf6e5(0x43e))},Ya={'$id':(0x0,M['v4'])(),'type':a0_0x4cf6e5(0x224),'properties':{'groupJid':{'type':a0_0x4cf6e5(0x407)},'description':{'type':a0_0x4cf6e5(0x407)}},'required':[a0_0x4cf6e5(0x164),'description'],...E(a0_0x4cf6e5(0x164),a0_0x4cf6e5(0xd5))},Xa={'$id':(0x0,M['v4'])(),'type':a0_0x4cf6e5(0x224),'properties':{'groupJid':{'type':a0_0x4cf6e5(0x407)},'name':{'type':a0_0x4cf6e5(0x407)}},'required':['groupJid',a0_0x4cf6e5(0x3ee)],...E('groupJid',a0_0x4cf6e5(0x3ee))},Za={'$id':(0x0,M['v4'])(),'type':a0_0x4cf6e5(0x224),'properties':{'groupJid':{'type':a0_0x4cf6e5(0x407)},'setting':{'type':'string','enum':[a0_0x4cf6e5(0x39d),a0_0x4cf6e5(0x37c),a0_0x4cf6e5(0x238),'locked']}},'required':['groupJid',a0_0x4cf6e5(0x6e1)],...E(a0_0x4cf6e5(0x164),a0_0x4cf6e5(0x6e1))},er={'$id':(0x0,M['v4'])(),'type':'object','properties':{'inviteCode':{'type':a0_0x4cf6e5(0x407)}},'required':['inviteCode'],...E('inviteCode')},tr={'$id':(0x0,M['v4'])(),'type':a0_0x4cf6e5(0x224),'properties':{'url':{'type':a0_0x4cf6e5(0x407)},'enabled':{'type':a0_0x4cf6e5(0x4bf),'enum':[!0x0,!0x1]}},'required':[a0_0x4cf6e5(0x117),'enabled']},tc={'$id':(0x0,M['v4'])(),'type':a0_0x4cf6e5(0x224),'properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':'boolean','enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x4cf6e5(0x4bf),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x4cf6e5(0x4bf),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x4cf6e5(0x4bf),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x4cf6e5(0x4bf),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x4cf6e5(0x4bf),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x4cf6e5(0x4bf),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x4cf6e5(0x4bf),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x4cf6e5(0x4bf),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x4cf6e5(0x4bf),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x4cf6e5(0x4bf),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x4cf6e5(0x4bf),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x4cf6e5(0x4bf),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x4cf6e5(0x4bf),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x4cf6e5(0x4bf),'enum':[!0x0,!0x1]}},'required':['local_map',a0_0x4cf6e5(0xa0),a0_0x4cf6e5(0x5f8),'MESSAGES_SET','MESSAGES_UPDATE',a0_0x4cf6e5(0x33b),a0_0x4cf6e5(0x14b),a0_0x4cf6e5(0x135),'CONTACTS_UPSERT',a0_0x4cf6e5(0x26f),a0_0x4cf6e5(0x148),a0_0x4cf6e5(0xb3),a0_0x4cf6e5(0x4df),a0_0x4cf6e5(0x5dc),a0_0x4cf6e5(0x15d),a0_0x4cf6e5(0x66f),'GROUPS_UPSERT',a0_0x4cf6e5(0x91),a0_0x4cf6e5(0x3f7)],...E(a0_0x4cf6e5(0x275),'STATUS_INSTANCE',a0_0x4cf6e5(0x5f8),a0_0x4cf6e5(0x27a),a0_0x4cf6e5(0x6a5),a0_0x4cf6e5(0x33b),a0_0x4cf6e5(0x14b),'CONTACTS_SET',a0_0x4cf6e5(0x31d),a0_0x4cf6e5(0x26f),a0_0x4cf6e5(0x148),a0_0x4cf6e5(0xb3),'CHATS_UPSERT',a0_0x4cf6e5(0x5dc),a0_0x4cf6e5(0x15d),'CONNECTION_UPDATE',a0_0x4cf6e5(0x1c9),'GROUPS_UPDATE',a0_0x4cf6e5(0x3f7))},Qe=class{},Ye=class extends D{[a0_0x4cf6e5(0x124)](_0xcca7f){return Gs(_0xcca7f);}async[a0_0x4cf6e5(0x359)](_0x50a02d){const _0x447c7d=a0_0x4cf6e5;if(_0x50a02d[_0x447c7d(0x364)]!==0x0)try{return{'insertCount':(await this[_0x447c7d(0x124)](_0x50a02d[0x0]['owner'])[_0x447c7d(0x676)]([..._0x50a02d]))['length']};}catch(_0x963f71){return _0x963f71;}}async[a0_0x4cf6e5(0xff)](_0x1cee3c,_0x2561c7){const _0x5c42b3=a0_0x4cf6e5;try{return{'deletedCount':(await this[_0x5c42b3(0x124)](_0x2561c7)[_0x5c42b3(0x15b)]({..._0x1cee3c[_0x5c42b3(0x2f0)]}))[_0x5c42b3(0x1c6)]};}catch(_0xc38732){return{'error':_0xc38732?.['toString']()};}}async['update'](_0x1a14cb,_0x2ab36a){const _0xd15454=a0_0x4cf6e5;try{if(_0x1a14cb[_0xd15454(0x364)]===0x0)return;let _0x4b0381=this[_0xd15454(0x124)](_0x2ab36a),_0x29b4fe=_0x1a14cb[_0xd15454(0x2ad)](_0x3e60d7=>({'updateOne':{'filter':{'_id':_0x3e60d7[_0xd15454(0x637)],'owner':_0x2ab36a},'update':{..._0x3e60d7}}})),{modifiedCount:_0x17f107}=await _0x4b0381[_0xd15454(0x551)](_0x29b4fe);return{'insertCount':_0x17f107};}catch{return;}}async[a0_0x4cf6e5(0x531)](_0x24ac95,_0x5bd5f5){const _0x8f0b92=a0_0x4cf6e5;try{let _0x34bcc2=this['getContactModelForOwner'](_0x5bd5f5),_0x333b3c=A(_0x24ac95[_0x8f0b92(0x2f0)]);return await _0x34bcc2[_0x8f0b92(0x531)](_0x333b3c)[_0x8f0b92(0xc0)](_0x24ac95?.[_0x8f0b92(0xc0)]??0x0)['lean']();}catch{return[];}}async['findOne'](_0x54dd62,_0x56dd41){const _0x5a44d4=a0_0x4cf6e5;try{let _0x416273=this[_0x5a44d4(0x124)](_0x56dd41),_0x57fdfc=A(_0x54dd62[_0x5a44d4(0x2f0)]);return await _0x416273[_0x5a44d4(0x2a7)](_0x57fdfc)[_0x5a44d4(0x94)]();}catch{return null;}}async['deleteAll'](_0x3942d9){const _0x2be961=a0_0x4cf6e5;try{return await this[_0x2be961(0x124)](_0x3942d9)['collection'][_0x2be961(0x2bc)](),{'success':!0x0};}catch(_0x1f6dd9){return console['error'](_0x1f6dd9),{'success':!0x1,'error':_0x1f6dd9};}}},Xe=require(a0_0x4cf6e5(0x3d9)),uc=require('express-async-errors'),hs=new N(a0_0x4cf6e5(0x685)),U=class{[a0_0x4cf6e5(0x54a)](_0x2281a2,_0x55e52f=!0x0){let _0x11817d='/'+_0x2281a2;return _0x55e52f&&(_0x11817d+='/:instanceName'),_0x11817d;}async[a0_0x4cf6e5(0x4e5)](_0x5dbf12){const _0x50bae3=a0_0x4cf6e5;let {request:_0x43d261,schema:_0x2c9d15,ClassRef:_0xee4a2b,execute:_0x1d5efb}=_0x5dbf12,_0x4e47fb=new _0xee4a2b(),_0x59b06d=_0x43d261[_0x50bae3(0x358)],_0x2f4463=_0x43d261[_0x50bae3(0x345)];_0x43d261?.[_0x50bae3(0x42c)]&&Object['keys'](_0x43d261[_0x50bae3(0x42c)])['length']>0x0&&Object[_0x50bae3(0x122)](_0x2f4463,_0x43d261['query']),_0x43d261['originalUrl'][_0x50bae3(0x1bd)](_0x50bae3(0x4e8))&&Object[_0x50bae3(0x122)](_0x2f4463,_0x59b06d),Object[_0x50bae3(0x122)](_0x4e47fb,_0x59b06d);let _0x286bab=_0x2c9d15?(0x0,Xe[_0x50bae3(0x106)])(_0x4e47fb,_0x2c9d15):{'valid':!0x0,'errors':[]};if(!_0x286bab[_0x50bae3(0x5a5)]){let _0x7b66ae=_0x286bab[_0x50bae3(0x4f0)][_0x50bae3(0x2ad)](({property:_0x53baef,stack:_0x34f020,schema:_0x251528})=>{const _0x636d71=_0x50bae3;let _0x358a73;return _0x251528[_0x636d71(0xd5)]?_0x358a73=_0x251528['description']:_0x358a73=_0x34f020[_0x636d71(0x5fe)](_0x636d71(0x5e5),''),{'property':_0x53baef[_0x636d71(0x5fe)](_0x636d71(0x5e5),''),'message':_0x358a73};});throw hs['error']([..._0x7b66ae]),new w(..._0x7b66ae);}return await _0x1d5efb(_0x2f4463,_0x4e47fb);}async[a0_0x4cf6e5(0x1c3)](_0x10a336){const _0x5a1c3c=a0_0x4cf6e5;let {request:_0x3f455f,ClassRef:_0x3cd43c,schema:_0x127d1e,execute:_0x16a8e2}=_0x10a336,_0x3e412e=_0x3f455f['query'];if(!_0x3e412e?.[_0x5a1c3c(0x164)])throw new w('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query',_0x5a1c3c(0x449));let _0x3514d1=_0x3f455f['params'],_0x3d7005=_0x3f455f[_0x5a1c3c(0x358)],_0x303781=new _0x3cd43c();Object['assign'](_0x3d7005,_0x3e412e),Object[_0x5a1c3c(0x122)](_0x303781,_0x3d7005);let _0x497409=(0x0,Xe[_0x5a1c3c(0x106)])(_0x303781,_0x127d1e);if(!_0x497409[_0x5a1c3c(0x5a5)]){let _0x21276d=_0x497409['errors']['map'](({property:_0x4ae09b,stack:_0x42cbee,schema:_0x33eede})=>{const _0x106b99=_0x5a1c3c;let _0x1d99c5;return _0x33eede[_0x106b99(0xd5)]?_0x1d99c5=_0x33eede[_0x106b99(0xd5)]:_0x1d99c5=_0x42cbee['replace'](_0x106b99(0x5e5),''),{'property':_0x4ae09b[_0x106b99(0x5fe)](_0x106b99(0x5e5),''),'message':_0x1d99c5};});throw hs[_0x5a1c3c(0x14e)]([..._0x21276d]),new w(..._0x21276d);}return await _0x16a8e2(_0x3514d1,_0x303781);}async['joinGroupValidate'](_0x24d2e9){const _0x16136b=a0_0x4cf6e5;let {request:_0x47f6a6,ClassRef:_0x5702bd,schema:_0x4bbdad,execute:_0x4c94fa}=_0x24d2e9,_0x5c86b3=_0x47f6a6[_0x16136b(0x358)];if(!_0x5c86b3?.[_0x16136b(0x5c7)])throw new w(_0x16136b(0x1f3),_0x16136b(0x227));let _0x4276c5=_0x47f6a6[_0x16136b(0x345)],_0x22bb47=_0x47f6a6['body'],_0x2690aa=new _0x5702bd();Object[_0x16136b(0x122)](_0x22bb47,_0x5c86b3),Object[_0x16136b(0x122)](_0x2690aa,_0x22bb47);let _0x224c21=(0x0,Xe[_0x16136b(0x106)])(_0x2690aa,_0x4bbdad);if(!_0x224c21['valid']){let _0x2cbaff=_0x224c21[_0x16136b(0x4f0)][_0x16136b(0x2ad)](({property:_0x3cc8ff,stack:_0x15f05e,schema:_0x301cb9})=>{const _0x5dcfec=_0x16136b;let _0x554501;return _0x301cb9[_0x5dcfec(0xd5)]?_0x554501=_0x301cb9[_0x5dcfec(0xd5)]:_0x554501=_0x15f05e[_0x5dcfec(0x5fe)]('instance.',''),{'property':_0x3cc8ff[_0x5dcfec(0x5fe)](_0x5dcfec(0x5e5),''),'message':_0x554501};});throw hs['error']([..._0x2cbaff]),new w(..._0x2cbaff);}return await _0x4c94fa(_0x4276c5,_0x2690aa);}},S=class{},Nc=new N(a0_0x4cf6e5(0x53d)),Ze=class extends U{constructor(..._0x49e0de){const _0x4de0c5=a0_0x4cf6e5;super(),this[_0x4de0c5(0x158)]=(0x0,sr['Router'])(),this['router'][_0x4de0c5(0x3e3)](this[_0x4de0c5(0x54a)](_0x4de0c5(0x308)),..._0x49e0de,async(_0xcb3a82,_0x44342e)=>{const _0x31751e=_0x4de0c5;let _0x72a9b3=await this['dataValidate']({'request':_0xcb3a82,'schema':Wa,'ClassRef':je,'execute':(_0x2aa217,_0x16aa50)=>_[_0x31751e(0x308)](_0x2aa217,_0x16aa50)});return _0x44342e[_0x31751e(0x485)](0xc9)[_0x31751e(0x4b9)](_0x72a9b3);})[_0x4de0c5(0x3e3)](this['routerPath']('whatsappNumbers'),..._0x49e0de,async(_0x238489,_0x5a0352)=>{const _0x47e841=_0x4de0c5;let _0x5838b5=await this[_0x47e841(0x4e5)]({'request':_0x238489,'schema':ka,'ClassRef':Ue,'execute':(_0x46cd05,_0x3ba6ce)=>_[_0x47e841(0x6c5)](_0x46cd05,_0x3ba6ce)});return _0x5a0352[_0x47e841(0x485)](0xc9)[_0x47e841(0x4b9)](_0x5838b5);})['post'](this[_0x4de0c5(0x54a)]('editChat'),..._0x49e0de,async(_0x307d77,_0x32ab2b)=>{const _0x947c05=_0x4de0c5;let _0x10d2cf=await this[_0x947c05(0x4e5)]({'request':_0x307d77,'schema':v,'ClassRef':S,'execute':(_0x37898d,_0x130a29)=>_[_0x947c05(0x38d)](_0x37898d,_0x130a29)});return _0x32ab2b[_0x947c05(0x485)](0xc9)[_0x947c05(0x4b9)](_0x10d2cf);})[_0x4de0c5(0x90)](this[_0x4de0c5(0x54a)](_0x4de0c5(0x562)),..._0x49e0de,async(_0x197ac0,_0x4c71ff)=>{const _0x1182b4=_0x4de0c5;let _0x103a90=await this['dataValidate']({'request':_0x197ac0,'schema':La,'ClassRef':Ve,'execute':(_0x5dc16a,_0x32ac9e)=>_['readMessage'](_0x5dc16a,_0x32ac9e)});return _0x4c71ff[_0x1182b4(0x485)](0xc9)[_0x1182b4(0x4b9)](_0x103a90);})[_0x4de0c5(0x90)](this[_0x4de0c5(0x54a)](_0x4de0c5(0x487)),..._0x49e0de,async(_0x642f51,_0x43d132)=>{const _0x2d4bb6=_0x4de0c5;let _0x12988a=await this[_0x2d4bb6(0x4e5)]({'request':_0x642f51,'schema':ja,'ClassRef':Be,'execute':(_0xfca722,_0x4f2739)=>_[_0x2d4bb6(0x487)](_0xfca722,_0x4f2739)});return _0x43d132[_0x2d4bb6(0x485)](0xc9)[_0x2d4bb6(0x4b9)](_0x12988a);})[_0x4de0c5(0xff)](this[_0x4de0c5(0x54a)](_0x4de0c5(0x2f7)),..._0x49e0de,async(_0x51bd6a,_0x157f70)=>{const _0x38fe8c=_0x4de0c5;let _0x1bbbec=await this['dataValidate']({'request':_0x51bd6a,'schema':Ua,'ClassRef':We,'execute':(_0x136c8d,_0x419741)=>_[_0x38fe8c(0x4e7)](_0x136c8d,_0x419741)});return _0x157f70['status'](0xc9)['json'](_0x1bbbec);})[_0x4de0c5(0x3e3)](this[_0x4de0c5(0x54a)]('fetchProfilePictureUrl'),..._0x49e0de,async(_0x2062d1,_0x108a3b)=>{const _0xd9a6b0=_0x4de0c5;let _0x3c458a=await this[_0xd9a6b0(0x4e5)]({'request':_0x2062d1,'schema':Se,'ClassRef':be,'execute':(_0x131898,_0x1b7101)=>_['fetchProfilePicture'](_0x131898,_0x1b7101)});return _0x108a3b[_0xd9a6b0(0x485)](0xc8)['json'](_0x3c458a);})['post'](this[_0x4de0c5(0x54a)](_0x4de0c5(0x5c1)),..._0x49e0de,async(_0x18ed88,_0x34a59)=>{const _0x3240cf=_0x4de0c5;let _0x4ef821=await this[_0x3240cf(0x4e5)]({'request':_0x18ed88,'schema':Ba,'ClassRef':be,'execute':(_0x3b1eac,_0x415089)=>_['fetchProfile'](_0x3b1eac,_0x415089)});return _0x34a59['status'](0xc8)[_0x3240cf(0x4b9)](_0x4ef821);})[_0x4de0c5(0x3e3)](this['routerPath'](_0x4de0c5(0x1a4)),..._0x49e0de,async(_0x130d06,_0x33c129)=>{const _0xa1622c=_0x4de0c5;let _0x489bb2=await this[_0xa1622c(0x4e5)]({'request':_0x130d06,'schema':qa,'ClassRef':Qe,'execute':(_0x1160de,_0x59840b)=>_[_0xa1622c(0x5da)](_0x1160de,_0x59840b)});return _0x33c129[_0xa1622c(0x485)](0xc8)['json'](_0x489bb2);})[_0x4de0c5(0x3e3)](this[_0x4de0c5(0x54a)](_0x4de0c5(0x270)),..._0x49e0de,async(_0x471f2e,_0x288bab)=>{const _0x14a406=_0x4de0c5;let _0x471d91=await this['dataValidate']({'request':_0x471f2e,'schema':null,'ClassRef':Object,'execute':(_0x1307de,_0x4e5c6f)=>_[_0x14a406(0x270)](_0x1307de,_0x4e5c6f)});return _0x288bab['status'](0xc9)['json'](_0x471d91);})['post'](this[_0x4de0c5(0x54a)]('findMessages'),..._0x49e0de,async(_0x1647db,_0x28e644)=>{const _0x2d6b30=_0x4de0c5;let _0x1af341=await this[_0x2d6b30(0x4e5)]({'request':_0x1647db,'schema':Ga,'ClassRef':Le,'execute':(_0x5d4fe3,_0x1bf67f)=>_[_0x2d6b30(0x39b)](_0x5d4fe3,_0x1bf67f)});return _0x28e644[_0x2d6b30(0x485)](0xc8)[_0x2d6b30(0x4b9)](_0x1af341);})['get'](this[_0x4de0c5(0x54a)](_0x4de0c5(0x581)),..._0x49e0de,async(_0x4c5705,_0x510de7)=>{const _0x1849d6=_0x4de0c5;let _0x3800b7=await this[_0x1849d6(0x4e5)]({'request':_0x4c5705,'schema':null,'ClassRef':S,'execute':_0x3d1fb2=>_['fetchChats'](_0x3d1fb2)});return _0x510de7[_0x1849d6(0x485)](0xc8)[_0x1849d6(0x4b9)](_0x3800b7);})[_0x4de0c5(0x571)](this[_0x4de0c5(0x54a)](_0x4de0c5(0x2f4)),..._0x49e0de,async(_0x3b1d69,_0x5cc948)=>{const _0x2f8a3b=_0x4de0c5;let _0x2988a4=await this[_0x2f8a3b(0x4e5)]({'request':_0x3b1d69,'schema':null,'ClassRef':S,'execute':_0x421a98=>_[_0x2f8a3b(0x2ec)](_0x421a98)});return _0x5cc948[_0x2f8a3b(0x485)](0xc8)['json'](_0x2988a4);})['put'](this[_0x4de0c5(0x54a)]('importChats'),..._0x49e0de,async(_0x597952,_0x5ea956)=>{const _0x7d8b23=_0x4de0c5;let _0x4b78f0=await this[_0x7d8b23(0x4e5)]({'request':_0x597952,'schema':null,'ClassRef':Array,'execute':(_0x1d7bb6,_0x5c58e0)=>_['importChats'](_0x1d7bb6,_0x5c58e0)});return _0x5ea956['status'](0xc8)[_0x7d8b23(0x4b9)](_0x4b78f0);})[_0x4de0c5(0x571)](this['routerPath'](_0x4de0c5(0x435)),..._0x49e0de,async(_0x80f3cb,_0xce5c5d)=>{const _0x62111e=_0x4de0c5;let _0x319b3b=await this['dataValidate']({'request':_0x80f3cb,'schema':null,'ClassRef':S,'execute':_0x872d61=>_[_0x62111e(0x435)](_0x872d61)});return _0xce5c5d[_0x62111e(0x485)](0xc8)['json'](_0x319b3b);})[_0x4de0c5(0x90)](this[_0x4de0c5(0x54a)](_0x4de0c5(0x41b)),..._0x49e0de,async(_0x26e75f,_0x51d375)=>{const _0xbd26b1=_0x4de0c5;let _0x46e849=await this[_0xbd26b1(0x4e5)]({'request':_0x26e75f,'schema':Fa,'ClassRef':Ge,'execute':(_0x54ddb1,_0x3c6187)=>_[_0xbd26b1(0x41b)](_0x54ddb1,_0x3c6187)});return _0x51d375['status'](0xc9)[_0xbd26b1(0x4b9)](_0x46e849);})[_0x4de0c5(0x3e3)](this[_0x4de0c5(0x54a)](_0x4de0c5(0x397)),..._0x49e0de,async(_0x1cddec,_0x8ac442)=>{const _0x2914ad=_0x4de0c5;let _0x2697ae=await this[_0x2914ad(0x4e5)]({'request':_0x1cddec,'schema':Se,'ClassRef':fe,'execute':(_0x2a74ca,_0x3bbe50)=>_[_0x2914ad(0x397)](_0x2a74ca,_0x3bbe50)});return _0x8ac442[_0x2914ad(0x485)](0xc8)[_0x2914ad(0x4b9)](_0x2697ae);})[_0x4de0c5(0x3e3)](this[_0x4de0c5(0x54a)](_0x4de0c5(0x326)),..._0x49e0de,async(_0x535898,_0x3bc954)=>{const _0x51b88f=_0x4de0c5;let _0x1bd876=await this['dataValidate']({'request':_0x535898,'schema':Ja,'ClassRef':qe,'execute':(_0x1dceb6,_0x5176d7)=>_[_0x51b88f(0x326)](_0x1dceb6,_0x5176d7)});return _0x3bc954[_0x51b88f(0x485)](0xc8)[_0x51b88f(0x4b9)](_0x1bd876);})[_0x4de0c5(0x3e3)](this['routerPath']('updateProfileStatus'),..._0x49e0de,async(_0x4a6290,_0x5af6e5)=>{const _0x2e0e73=_0x4de0c5;let _0x26a427=await this[_0x2e0e73(0x4e5)]({'request':_0x4a6290,'schema':Va,'ClassRef':Je,'execute':(_0x2f1fbf,_0x39b4d5)=>_[_0x2e0e73(0x58e)](_0x2f1fbf,_0x39b4d5)});return _0x5af6e5[_0x2e0e73(0x485)](0xc8)[_0x2e0e73(0x4b9)](_0x26a427);})[_0x4de0c5(0x90)](this[_0x4de0c5(0x54a)](_0x4de0c5(0x62f)),..._0x49e0de,async(_0x3d136f,_0x1f6fbe)=>{const _0xe028a8=_0x4de0c5;let _0x56c816=await this[_0xe028a8(0x4e5)]({'request':_0x3d136f,'schema':Se,'ClassRef':fe,'execute':(_0x7d5d83,_0x367a2e)=>_[_0xe028a8(0x62f)](_0x7d5d83,_0x367a2e)});return _0x1f6fbe[_0xe028a8(0x485)](0xc8)['json'](_0x56c816);})[_0x4de0c5(0xff)](this[_0x4de0c5(0x54a)](_0x4de0c5(0x617)),..._0x49e0de,async(_0x478d3b,_0x3fd045)=>{const _0xd33999=_0x4de0c5;let _0x4b5767=await this[_0xd33999(0x4e5)]({'request':_0x478d3b,'schema':Se,'ClassRef':fe,'execute':(_0x2e8aa6,_0x3fdf57)=>_[_0xd33999(0x617)](_0x2e8aa6,_0x3fdf57)});return _0x3fd045[_0xd33999(0x485)](0xc8)[_0xd33999(0x4b9)](_0x4b5767);});}},ar=require('express'),et=class{},tt=class{},st=class{},at=class{},rt=class{},Q=class{},it=class{},ot=class extends Q{},nt=class extends Q{},ct=class extends U{constructor(..._0x48a599){const _0x17be58=a0_0x4cf6e5;super(),this[_0x17be58(0x158)]=(0x0,ar[_0x17be58(0x351)])(),this[_0x17be58(0x158)][_0x17be58(0x3e3)](this[_0x17be58(0x54a)](_0x17be58(0x638)),..._0x48a599,async(_0x3f2c4e,_0x4da7c0)=>{const _0x414c40=_0x17be58;let _0x3750c=await this[_0x414c40(0x4e5)]({'request':_0x3f2c4e,'schema':za,'ClassRef':et,'execute':(_0x10a9fa,_0x3085e1)=>F['createGroup'](_0x10a9fa,_0x3085e1)});_0x4da7c0[_0x414c40(0x485)](0xc9)[_0x414c40(0x4b9)](_0x3750c);})[_0x17be58(0x90)](this['routerPath'](_0x17be58(0x15e)),..._0x48a599,async(_0x55e6d4,_0x57b5ea)=>{const _0x4d128d=_0x17be58;let _0x6d91a4=await this[_0x4d128d(0x1c3)]({'request':_0x55e6d4,'schema':Qa,'ClassRef':tt,'execute':(_0x28abbf,_0x39fed4)=>F[_0x4d128d(0x15e)](_0x28abbf,_0x39fed4)});_0x57b5ea[_0x4d128d(0x485)](0xc9)[_0x4d128d(0x4b9)](_0x6d91a4);})[_0x17be58(0x90)](this['routerPath'](_0x17be58(0x452)),..._0x48a599,async(_0x17e84d,_0x5f4f1b)=>{const _0x41a851=_0x17be58;let _0x6c99fe=await this[_0x41a851(0x1c3)]({'request':_0x17e84d,'schema':Ya,'ClassRef':st,'execute':(_0xe1464a,_0x30df59)=>F[_0x41a851(0x452)](_0xe1464a,_0x30df59)});_0x5f4f1b[_0x41a851(0x485)](0xc9)[_0x41a851(0x4b9)](_0x6c99fe);})[_0x17be58(0x90)](this[_0x17be58(0x54a)](_0x17be58(0x4f3)),..._0x48a599,async(_0x31467f,_0x29c30a)=>{const _0x97d33f=_0x17be58;let _0x105608=await this[_0x97d33f(0x1c3)]({'request':_0x31467f,'schema':Xa,'ClassRef':at,'execute':(_0x4fe376,_0x30197a)=>F[_0x97d33f(0x4f3)](_0x4fe376,_0x30197a)});_0x29c30a[_0x97d33f(0x485)](0xc9)['json'](_0x105608);})['put'](this['routerPath'](_0x17be58(0x25c)),..._0x48a599,async(_0x3f384e,_0x5d5627)=>{const _0x1882a7=_0x17be58;let _0x5d81ee=await this['groupValidate']({'request':_0x3f384e,'schema':Za,'ClassRef':rt,'execute':(_0x10e8f8,_0x2f19a9)=>F['groupSetting'](_0x10e8f8,_0x2f19a9)});_0x5d5627[_0x1882a7(0x485)](0xc9)['json'](_0x5d81ee);})[_0x17be58(0x90)](this[_0x17be58(0x54a)](_0x17be58(0x7b)),..._0x48a599,async(_0x3ffa8f,_0x2dde2d)=>{const _0x5bb140=_0x17be58;let _0x3a0d73=await this[_0x5bb140(0x1c3)]({'request':_0x3ffa8f,'schema':Ka,'ClassRef':nt,'execute':(_0x570dbf,_0x3a3fbe)=>F['toggleEphemeral'](_0x570dbf,_0x3a3fbe)});_0x2dde2d[_0x5bb140(0x485)](0xc9)['json'](_0x3a0d73);})['get'](this[_0x17be58(0x54a)](_0x17be58(0x35f)),..._0x48a599,async(_0x57681a,_0x1c9b6c)=>{const _0x199e3d=_0x17be58;let _0x2993a3=await this[_0x199e3d(0x1c3)]({'request':_0x57681a,'schema':Ee,'ClassRef':Q,'execute':(_0x5adf6a,_0x2e01e3)=>F[_0x199e3d(0xa8)](_0x5adf6a,_0x2e01e3)});_0x1c9b6c[_0x199e3d(0x485)](0xc8)[_0x199e3d(0x4b9)](_0x2993a3);})[_0x17be58(0x571)](this[_0x17be58(0x54a)](_0x17be58(0x1c5)),..._0x48a599,async(_0x1c03a1,_0x48ce3b)=>{const _0x289bb1=_0x17be58;let _0x3693b9=await this[_0x289bb1(0x4e5)]({'request':_0x1c03a1,'schema':v,'ClassRef':S,'execute':_0x3fa590=>F[_0x289bb1(0x1c5)](_0x3fa590)});_0x48ce3b['status'](0xc8)['json'](_0x3693b9);})[_0x17be58(0x571)](this['routerPath'](_0x17be58(0x3c9)),..._0x48a599,async(_0x55977a,_0x4c68f5)=>{const _0x4d8d15=_0x17be58;let _0x34915f=await this[_0x4d8d15(0x1c3)]({'request':_0x55977a,'schema':Ee,'ClassRef':Q,'execute':(_0x41f70d,_0xb90b37)=>F['findParticipants'](_0x41f70d,_0xb90b37)});_0x4c68f5[_0x4d8d15(0x485)](0xc8)['json'](_0x34915f);})[_0x17be58(0x571)](this[_0x17be58(0x54a)](_0x17be58(0x5c7)),..._0x48a599,async(_0x4ad388,_0xb5b27d)=>{const _0x40c762=_0x17be58;let _0x27486a=await this[_0x40c762(0x1c3)]({'request':_0x4ad388,'schema':Ee,'ClassRef':Q,'execute':(_0x389d2c,_0x5c19d5)=>F[_0x40c762(0x5c7)](_0x389d2c,_0x5c19d5)});_0xb5b27d['status'](0xc8)[_0x40c762(0x4b9)](_0x27486a);})[_0x17be58(0x90)](this['routerPath'](_0x17be58(0x6c9)),..._0x48a599,async(_0x5d3de6,_0x1af03b)=>{const _0x3bca92=_0x17be58;let _0x29301a=await this[_0x3bca92(0x366)]({'request':_0x5d3de6,'schema':er,'ClassRef':it,'execute':(_0x1c2ebc,_0x1a4123)=>F[_0x3bca92(0x6c9)](_0x1c2ebc,_0x1a4123)});_0x1af03b[_0x3bca92(0x485)](0xc9)[_0x3bca92(0x4b9)](_0x29301a);})[_0x17be58(0x90)](this['routerPath'](_0x17be58(0x5cd)),..._0x48a599,async(_0x30b2cc,_0x2b165e)=>{const _0x117eeb=_0x17be58;let _0x33191c=await this[_0x117eeb(0x1c3)]({'request':_0x30b2cc,'schema':Ee,'ClassRef':Q,'execute':(_0x20956d,_0x4db1a3)=>F['revokeInviteCode'](_0x20956d,_0x4db1a3)});_0x2b165e[_0x117eeb(0x485)](0xc9)[_0x117eeb(0x4b9)](_0x33191c);})['put'](this['routerPath']('updateParticipant'),..._0x48a599,async(_0x2a2a3d,_0x5b3330)=>{const _0x53e921=_0x17be58;let _0x2560de=await this['groupValidate']({'request':_0x2a2a3d,'schema':Ha,'ClassRef':ot,'execute':(_0x289719,_0x111ae1)=>F[_0x53e921(0x277)](_0x289719,_0x111ae1)});_0x5b3330[_0x53e921(0x485)](0xc9)[_0x53e921(0x4b9)](_0x2560de);})[_0x17be58(0xff)](this[_0x17be58(0x54a)](_0x17be58(0x632)),..._0x48a599,async(_0x2a1b8d,_0xf6cca0)=>{const _0x2e2ade=_0x17be58;let _0x1bc2d3=await this[_0x2e2ade(0x1c3)]({'request':_0x2a1b8d,'schema':{},'ClassRef':Q,'execute':(_0x50722c,_0x87f0f1)=>F[_0x2e2ade(0x632)](_0x50722c,_0x87f0f1)});_0xf6cca0[_0x2e2ade(0x485)](0xc8)[_0x2e2ade(0x4b9)](_0x1bc2d3);});}},rr=require('express'),lt=class extends U{constructor(_0x18ffe4,..._0x56b391){const _0x2cf06f=a0_0x4cf6e5;super(),this[_0x2cf06f(0x2e3)]=_0x18ffe4,this[_0x2cf06f(0x158)]=(0x0,rr[_0x2cf06f(0x351)])();let _0xdeee36=_0x18ffe4['get'](_0x2cf06f(0x237));this['router']['post']('/create',..._0x56b391,async(_0x58b16c,_0x4508ae)=>{const _0x81c34e=_0x2cf06f;let {instanceName:_0x32b68f,apikey:_0x5f401d,number:_0x25645a}=_0x58b16c[_0x81c34e(0x358)],_0x3550f1=await ie[_0x81c34e(0x23c)]({'instanceName':_0x32b68f,'apikey':_0x5f401d,'number':_0x25645a});return _0x4508ae[_0x81c34e(0x485)](0xc9)[_0x81c34e(0x4b9)](_0x3550f1);})[_0x2cf06f(0x90)](this[_0x2cf06f(0x54a)](_0x2cf06f(0x25d)),..._0x56b391,async(_0x41f917,_0x151170)=>{const _0x54cd52=_0x2cf06f;let _0x4bb190=await this[_0x54cd52(0x4e5)]({'request':_0x41f917,'schema':v,'ClassRef':S,'execute':_0x373901=>ie[_0x54cd52(0x13a)](_0x373901)});return _0x151170[_0x54cd52(0x485)](0xc8)[_0x54cd52(0x4b9)](_0x4bb190);})['get'](this[_0x2cf06f(0x54a)](_0x2cf06f(0x18a)),..._0x56b391,async(_0x119f35,_0x1bd081)=>{const _0x221b46=_0x2cf06f;let _0x36e668=await this[_0x221b46(0x4e5)]({'request':_0x119f35,'schema':v,'ClassRef':S,'execute':_0x4959de=>ie[_0x221b46(0x297)](_0x4959de)});return _0x1bd081['status'](0xc8)[_0x221b46(0x4b9)](_0x36e668);})[_0x2cf06f(0x571)](this['routerPath'](_0x2cf06f(0x349)),..._0x56b391,async(_0x49b1ef,_0xc79d19)=>{const _0x53aed3=_0x2cf06f;let _0x5228cd=await this['dataValidate']({'request':_0x49b1ef,'schema':v,'ClassRef':S,'execute':_0x5a3d9c=>ie[_0x53aed3(0x349)](_0x5a3d9c)});return _0xc79d19[_0x53aed3(0x485)](0xc8)['json'](_0x5228cd);})[_0x2cf06f(0x571)](this[_0x2cf06f(0x54a)](_0x2cf06f(0xf3),!0x1),..._0x56b391,async(_0x12ab10,_0x2cc2d5)=>{const _0x2a79d1=_0x2cf06f;let _0x5506eb=await this[_0x2a79d1(0x4e5)]({'request':_0x12ab10,'schema':null,'ClassRef':S,'execute':_0x465c74=>ie[_0x2a79d1(0xf3)](_0x465c74)});return _0x2cc2d5[_0x2a79d1(0x485)](0xc8)[_0x2a79d1(0x4b9)](_0x5506eb);})['delete'](this[_0x2cf06f(0x54a)](_0x2cf06f(0x10a)),..._0x56b391,async(_0x2cb1ad,_0x515591)=>{const _0x46acd7=_0x2cf06f;let _0x3ed4c1=await this['dataValidate']({'request':_0x2cb1ad,'schema':v,'ClassRef':S,'execute':_0x4ecfff=>ie[_0x46acd7(0x10a)](_0x4ecfff)});return _0x515591[_0x46acd7(0x485)](0xc8)[_0x46acd7(0x4b9)](_0x3ed4c1);})['delete'](this[_0x2cf06f(0x54a)](_0x2cf06f(0xff)),..._0x56b391,async(_0x35a4f2,_0x18c600)=>{const _0xfbff84=_0x2cf06f;let _0x3fca71=await this[_0xfbff84(0x4e5)]({'request':_0x35a4f2,'schema':v,'ClassRef':S,'execute':_0x515989=>ie[_0xfbff84(0x102)](_0x515989)});return _0x18c600[_0xfbff84(0x485)](0xc8)['json'](_0x3fca71);});}},ir=require(a0_0x4cf6e5(0x44d)),gs=class{},G=class extends gs{},ut=class extends G{},dt=class extends G{},pt=class extends G{},ht=class extends G{},Me=class extends G{},gt=class extends G{},mt=class extends G{},ft=class extends G{},wt=class extends G{},yt=class extends G{},bt=class{},St=class extends U{constructor(..._0x20944b){const _0x1cf6f4=a0_0x4cf6e5;super(),this[_0x1cf6f4(0x158)]=(0x0,ir[_0x1cf6f4(0x351)])(),this['router'][_0x1cf6f4(0x3e3)](this['routerPath'](_0x1cf6f4(0x31c)),..._0x20944b,async(_0x98f124,_0xe669e8)=>{const _0x14096f=_0x1cf6f4;let _0x11c640=await this[_0x14096f(0x4e5)]({'request':_0x98f124,'schema':Ca,'ClassRef':ut,'execute':(_0x4b3cdc,_0x4a0e86)=>B[_0x14096f(0x31c)](_0x4b3cdc,_0x4a0e86)});return _0xe669e8['status'](0xc9)[_0x14096f(0x4b9)](_0x11c640);})['post'](this[_0x1cf6f4(0x54a)](_0x1cf6f4(0x3a0)),..._0x20944b,async(_0x291f66,_0x344458)=>{const _0x21fb80=_0x1cf6f4;let _0x4eb47a=await this['dataValidate']({'request':_0x291f66,'schema':Ta,'ClassRef':Me,'execute':(_0x6dfc0,_0x2f06e4)=>B[_0x21fb80(0x3a0)](_0x6dfc0,_0x2f06e4)});return _0x344458['status'](0xc9)[_0x21fb80(0x4b9)](_0x4eb47a);})[_0x1cf6f4(0x3e3)](this[_0x1cf6f4(0x54a)](_0x1cf6f4(0x697)),..._0x20944b,async(_0x5270fe,_0x56803e)=>{const _0xddfb48=_0x1cf6f4;let _0x30ac3e=await this['dataValidate']({'request':_0x5270fe,'schema':Ia,'ClassRef':ht,'execute':(_0x2e8ee9,_0x39f5f)=>B['sendMenu'](_0x2e8ee9,_0x39f5f)});return _0x56803e[_0xddfb48(0x485)](0xc9)['json'](_0x30ac3e);})[_0x1cf6f4(0x3e3)](this['routerPath'](_0x1cf6f4(0x520)),..._0x20944b,async(_0x34a68e,_0x32b6f9)=>{const _0x393f9f=_0x1cf6f4;let _0x1695cd=await this[_0x393f9f(0x4e5)]({'request':_0x34a68e,'schema':Oa,'ClassRef':Me,'execute':(_0x1187ba,_0x264d61)=>B[_0x393f9f(0x520)](_0x1187ba,_0x264d61)});return _0x32b6f9[_0x393f9f(0x485)](0xc9)[_0x393f9f(0x4b9)](_0x1695cd);})[_0x1cf6f4(0x3e3)](this[_0x1cf6f4(0x54a)](_0x1cf6f4(0x686)),..._0x20944b,async(_0x2ce625,_0x39acba)=>{const _0x12b1f5=_0x1cf6f4;let _0x2125da=await this['dataValidate']({'request':_0x2ce625,'schema':xa,'ClassRef':mt,'execute':(_0x406738,_0x4a5515)=>B[_0x12b1f5(0x686)](_0x406738,_0x4a5515)});return _0x39acba[_0x12b1f5(0x485)](0xc9)[_0x12b1f5(0x4b9)](_0x2125da);})[_0x1cf6f4(0x3e3)](this['routerPath'](_0x1cf6f4(0x13f)),..._0x20944b,async(_0x1d6b68,_0x5d7bb8)=>{const _0x226ef5=_0x1cf6f4;let _0x6c1101=await this[_0x226ef5(0x4e5)]({'request':_0x1d6b68,'schema':Da,'ClassRef':ft,'execute':(_0x40f0d5,_0x27873a)=>B[_0x226ef5(0x13f)](_0x40f0d5,_0x27873a)});return _0x5d7bb8[_0x226ef5(0x485)](0xc9)[_0x226ef5(0x4b9)](_0x6c1101);})[_0x1cf6f4(0x3e3)](this[_0x1cf6f4(0x54a)](_0x1cf6f4(0x3f8)),..._0x20944b,async(_0x4d1593,_0x2dbcab)=>{const _0x54254d=_0x1cf6f4;let _0x5b43ed=await this['dataValidate']({'request':_0x4d1593,'schema':_a,'ClassRef':wt,'execute':(_0x1dc7fb,_0x431532)=>B[_0x54254d(0x3f8)](_0x1dc7fb,_0x431532)});return _0x2dbcab['status'](0xc9)['json'](_0x5b43ed);})[_0x1cf6f4(0x3e3)](this[_0x1cf6f4(0x54a)](_0x1cf6f4(0x68b)),..._0x20944b,async(_0x1ae023,_0x3aeba3)=>{const _0x1c32e3=_0x1cf6f4;let _0xd979ab=await this['dataValidate']({'request':_0x1ae023,'schema':Pa,'ClassRef':yt,'execute':(_0x28e34a,_0x91cddf)=>B[_0x1c32e3(0x68b)](_0x28e34a,_0x91cddf)});return _0x3aeba3[_0x1c32e3(0x485)](0xc9)[_0x1c32e3(0x4b9)](_0xd979ab);})['post'](this[_0x1cf6f4(0x54a)](_0x1cf6f4(0x61b)),..._0x20944b,async(_0x34da3a,_0x2938d8)=>{const _0x29a282=_0x1cf6f4;let _0x5ed650=await this[_0x29a282(0x4e5)]({'request':_0x34da3a,'schema':$a,'ClassRef':bt,'execute':(_0x2aed02,_0x3adaa5)=>B[_0x29a282(0x61b)](_0x2aed02,_0x3adaa5)});return _0x2938d8['status'](0xc9)['json'](_0x5ed650);})['post'](this[_0x1cf6f4(0x54a)]('sendPoll'),..._0x20944b,async(_0x4c788a,_0x238628)=>{const _0x368f4a=_0x1cf6f4;let _0x11d0e4=await this[_0x368f4a(0x4e5)]({'request':_0x4c788a,'schema':Aa,'ClassRef':pt,'execute':(_0x51af76,_0x4edf9e)=>B[_0x368f4a(0x42d)](_0x51af76,_0x4edf9e)});return _0x238628[_0x368f4a(0x485)](0xc9)[_0x368f4a(0x4b9)](_0x11d0e4);})['post'](this[_0x1cf6f4(0x54a)](_0x1cf6f4(0x5e1)),..._0x20944b,async(_0xbd1487,_0x411147)=>{const _0x1defe3=_0x1cf6f4;let _0x34e247=await this[_0x1defe3(0x4e5)]({'request':_0xbd1487,'schema':Ra,'ClassRef':dt,'execute':(_0xe19749,_0x508978)=>B[_0x1defe3(0x5e1)](_0xe19749,_0x508978)});return _0x411147['status'](0xc9)['json'](_0x34e247);})[_0x1cf6f4(0x3e3)](this['routerPath']('sendSticker'),..._0x20944b,async(_0x322485,_0x422888)=>{const _0x4d589c=_0x1cf6f4;let _0x186303=await this[_0x4d589c(0x4e5)]({'request':_0x322485,'schema':Na,'ClassRef':gt,'execute':(_0x1da760,_0x1e7e86)=>B[_0x4d589c(0x447)](_0x1da760,_0x1e7e86)});return _0x422888['status'](0xc9)[_0x4d589c(0x4b9)](_0x186303);});}},or=require('express'),Et=class{},Mt=class extends U{constructor(..._0x352042){const _0x3077ef=a0_0x4cf6e5;super(),this[_0x3077ef(0x158)]=(0x0,or[_0x3077ef(0x351)])(),this[_0x3077ef(0x158)][_0x3077ef(0x3e3)](this[_0x3077ef(0x54a)](_0x3077ef(0x544)),..._0x352042,async(_0x618c95,_0x13d5fd)=>{const _0x21fefc=_0x3077ef;let _0x5a8dc7=await this['dataValidate']({'request':_0x618c95,'schema':tr,'ClassRef':Et,'execute':(_0x1db21e,_0x1f7030)=>ms[_0x21fefc(0x678)](_0x1db21e,_0x1f7030)});_0x13d5fd['status'](0xc9)[_0x21fefc(0x4b9)](_0x5a8dc7);})['get'](this['routerPath'](_0x3077ef(0x531)),..._0x352042,async(_0x5a28b3,_0x553ed0)=>{const _0x236bc8=_0x3077ef;let _0x53d762=await this[_0x236bc8(0x4e5)]({'request':_0x5a28b3,'schema':v,'ClassRef':S,'execute':_0x1446bf=>ms[_0x236bc8(0x3f2)](_0x1446bf)});_0x553ed0['status'](0xc8)[_0x236bc8(0x4b9)](_0x53d762);});}},nr=require(a0_0x4cf6e5(0x44d)),y=new N(a0_0x4cf6e5(0x3a8)),Ct=class extends U{constructor(..._0x57d011){const _0x3b91f7=a0_0x4cf6e5;super(),this[_0x3b91f7(0x158)]=(0x0,nr[_0x3b91f7(0x351)])(),this['router'][_0x3b91f7(0x3e3)](this[_0x3b91f7(0x54a)]('scheduleMessage'),..._0x57d011,async(_0xab747,_0x9718a8)=>{const _0x4cef42=_0x3b91f7;let _0x23921c=_0xab747[_0x4cef42(0x358)];y[_0x4cef42(0x1f7)]('request\x20received\x20in\x20scheduleMessage'),y[_0x4cef42(0x1f7)]('request\x20body:\x20'),y[_0x4cef42(0x1f7)](_0xab747['body']);let _0x535a41=await this[_0x4cef42(0x4e5)]({'request':_0xab747,'schema':v,'ClassRef':S,'execute':_0x2f2a5d=>O[_0x4cef42(0x692)](_0x2f2a5d,_0x23921c)});_0x9718a8[_0x4cef42(0x485)](0xc8)['json'](_0x535a41);})[_0x3b91f7(0x571)](this[_0x3b91f7(0x54a)](_0x3b91f7(0x87)),..._0x57d011,async(_0x512bea,_0x252b98)=>{const _0x602a2e=_0x3b91f7;let _0x238eef=await this['dataValidate']({'request':_0x512bea,'schema':v,'ClassRef':S,'execute':_0x39084c=>O['getScheduleMessage'](_0x39084c)});_0x252b98[_0x602a2e(0x485)](0xc8)['json'](_0x238eef);})[_0x3b91f7(0xff)](this['routerPath'](_0x3b91f7(0x334)),..._0x57d011,async(_0x47d4fb,_0x3f2844)=>{const _0x5ee39d=_0x3b91f7;y[_0x5ee39d(0x1f7)]('request\x20received\x20in\x20deleteDoneMessages');let _0x5d6bcf=await this[_0x5ee39d(0x4e5)]({'request':_0x47d4fb,'schema':v,'ClassRef':S,'execute':_0xa7952a=>O[_0x5ee39d(0x334)](_0xa7952a)});_0x3f2844['status'](0xc8)[_0x5ee39d(0x4b9)](_0x5d6bcf);})[_0x3b91f7(0x3e3)](this[_0x3b91f7(0x54a)]('startFlow'),..._0x57d011,async(_0x477583,_0x22ad76)=>{const _0x34274d=_0x3b91f7;let _0x589649=_0x477583[_0x34274d(0x358)];y[_0x34274d(0x1f7)](_0x34274d(0x506)),y[_0x34274d(0x1f7)]('request\x20body:\x20'),y[_0x34274d(0x1f7)](_0x477583[_0x34274d(0x358)]);let _0x4e352b=await this[_0x34274d(0x4e5)]({'request':_0x477583,'schema':v,'ClassRef':S,'execute':_0xa3fe7c=>O['startFlow'](_0xa3fe7c,_0x589649)});_0x22ad76[_0x34274d(0x485)](0xc8)[_0x34274d(0x4b9)](_0x4e352b);})['get'](this[_0x3b91f7(0x54a)](_0x3b91f7(0x197)),..._0x57d011,async(_0x569e16,_0xabf46a)=>{const _0x132e58=_0x3b91f7;y[_0x132e58(0x1f7)](_0x132e58(0x4e3));let _0x4628af=await this[_0x132e58(0x4e5)]({'request':_0x569e16,'schema':v,'ClassRef':S,'execute':_0x2fdf5a=>O[_0x132e58(0x197)](_0x2fdf5a)});_0xabf46a[_0x132e58(0x485)](0xc8)['json'](_0x4628af);})[_0x3b91f7(0x571)](this[_0x3b91f7(0x54a)]('getTicketSystem'),..._0x57d011,async(_0x3ff6c1,_0x1de6df)=>{const _0x441b41=_0x3b91f7;y[_0x441b41(0x1f7)](_0x441b41(0x4f5));let _0x44a8c8=await this[_0x441b41(0x4e5)]({'request':_0x3ff6c1,'schema':v,'ClassRef':S,'execute':_0x5b1a28=>O[_0x441b41(0x197)](_0x5b1a28)});_0x1de6df[_0x441b41(0x485)](0xc8)[_0x441b41(0x4b9)](_0x44a8c8);})[_0x3b91f7(0x3e3)](this[_0x3b91f7(0x54a)](_0x3b91f7(0x410)),..._0x57d011,async(_0x42b926,_0x2b1e6a)=>{const _0x5421ef=_0x3b91f7;let _0x358cee=_0x42b926[_0x5421ef(0x358)];y[_0x5421ef(0x1f7)]('request\x20received\x20in\x20updateAgent'),y[_0x5421ef(0x1f7)](_0x5421ef(0x24f)),y['verbose'](_0x42b926[_0x5421ef(0x358)]);let _0x194a44=await this[_0x5421ef(0x4e5)]({'request':_0x42b926,'schema':v,'ClassRef':S,'execute':_0xb63ebd=>O['updateAgent'](_0xb63ebd,_0x358cee)});_0x2b1e6a['status'](0xc8)[_0x5421ef(0x4b9)](_0x194a44);})[_0x3b91f7(0x3e3)](this[_0x3b91f7(0x54a)]('updateCustomFields'),..._0x57d011,async(_0x457a78,_0x6ded73)=>{const _0x26caa6=_0x3b91f7;let _0x3011be=_0x457a78['body'];y['verbose'](_0x26caa6(0x3ab)),y[_0x26caa6(0x1f7)]('request\x20body:\x20'),y[_0x26caa6(0x1f7)](_0x457a78[_0x26caa6(0x358)]);let _0x23d5a2=await this[_0x26caa6(0x4e5)]({'request':_0x457a78,'schema':v,'ClassRef':S,'execute':_0x5042d2=>O[_0x26caa6(0x4cf)](_0x5042d2,_0x3011be)});_0x6ded73[_0x26caa6(0x485)](0xc8)[_0x26caa6(0x4b9)](_0x23d5a2);})[_0x3b91f7(0x3e3)](this[_0x3b91f7(0x54a)](_0x3b91f7(0x49f)),..._0x57d011,async(_0x3eca09,_0x5622c7)=>{const _0x4199ae=_0x3b91f7;let _0x11154a=_0x3eca09['body'];y[_0x4199ae(0x1f7)](_0x4199ae(0x4a7)),y[_0x4199ae(0x1f7)](_0x4199ae(0x24f)),y[_0x4199ae(0x1f7)](_0x3eca09[_0x4199ae(0x358)]);let _0x4aee1b=await this[_0x4199ae(0x4e5)]({'request':_0x3eca09,'schema':v,'ClassRef':S,'execute':_0x2d7573=>O[_0x4199ae(0x49f)](_0x2d7573,_0x11154a)});_0x5622c7[_0x4199ae(0x485)](0xc8)[_0x4199ae(0x4b9)](_0x4aee1b);})[_0x3b91f7(0x3e3)](this['routerPath'](_0x3b91f7(0x394)),..._0x57d011,async(_0x50ac55,_0x2a408e)=>{const _0x1e121c=_0x3b91f7;let _0x586442=_0x50ac55[_0x1e121c(0x358)];y['verbose'](_0x1e121c(0x26c)),y['verbose'](_0x1e121c(0x24f)),y[_0x1e121c(0x1f7)](_0x50ac55[_0x1e121c(0x358)]);let _0x3168e2=await this[_0x1e121c(0x4e5)]({'request':_0x50ac55,'schema':v,'ClassRef':S,'execute':_0x321292=>O[_0x1e121c(0x394)](_0x321292,_0x586442)});_0x2a408e['status'](0xc8)[_0x1e121c(0x4b9)](_0x3168e2);})['post'](this[_0x3b91f7(0x54a)](_0x3b91f7(0x31a)),..._0x57d011,async(_0x177e83,_0x50d177)=>{const _0x17c0b8=_0x3b91f7;let _0x36c3db=_0x177e83['body'];y['verbose']('request\x20received\x20in\x20fetchConversation'),y[_0x17c0b8(0x1f7)]('request\x20body:\x20'),y[_0x17c0b8(0x1f7)](_0x177e83[_0x17c0b8(0x358)]);let _0x3612d2=await this[_0x17c0b8(0x4e5)]({'request':_0x177e83,'schema':v,'ClassRef':S,'execute':_0x271753=>O[_0x17c0b8(0x31a)](_0x271753,_0x36c3db)});_0x50d177['status'](0xc8)[_0x17c0b8(0x4b9)](_0x3612d2);})['post'](this[_0x3b91f7(0x54a)](_0x3b91f7(0x56f)),..._0x57d011,async(_0x223688,_0x52d4f1)=>{const _0x4054f8=_0x3b91f7;let _0x1847cf=_0x223688[_0x4054f8(0x358)];y['verbose'](_0x4054f8(0x339)),y[_0x4054f8(0x1f7)]('request\x20body:\x20'),y['verbose'](_0x223688[_0x4054f8(0x358)]);let _0x526bc4=await this[_0x4054f8(0x4e5)]({'request':_0x223688,'schema':v,'ClassRef':S,'execute':_0x28f182=>O[_0x4054f8(0x56f)](_0x28f182,_0x1847cf)});_0x52d4f1['status'](0xc8)['json'](_0x526bc4);})[_0x3b91f7(0xff)](this[_0x3b91f7(0x54a)](_0x3b91f7(0x502)),..._0x57d011,async(_0x596e81,_0x6bbdce)=>{const _0x1b7fbc=_0x3b91f7;let _0x4a42e1=_0x596e81['body'];y[_0x1b7fbc(0x1f7)](_0x1b7fbc(0x2e9)),y[_0x1b7fbc(0x1f7)]('request\x20body:\x20'),y[_0x1b7fbc(0x1f7)](_0x596e81[_0x1b7fbc(0x358)]);let _0x7c2549=await this[_0x1b7fbc(0x4e5)]({'request':_0x596e81,'schema':v,'ClassRef':S,'execute':_0x4e2acd=>O['deleteConversation'](_0x4e2acd,_0x4a42e1)});_0x6bbdce[_0x1b7fbc(0x485)](0xc8)[_0x1b7fbc(0x4b9)](_0x7c2549);})['post'](this[_0x3b91f7(0x54a)]('createflow'),..._0x57d011,async(_0x82d779,_0x1a9614)=>{const _0x359c23=_0x3b91f7;let _0x4cceef=_0x82d779[_0x359c23(0x358)];y['verbose'](_0x359c23(0x515)),y[_0x359c23(0x1f7)](_0x359c23(0x24f)),y[_0x359c23(0x1f7)](_0x82d779['body']);let _0x5a9556=await this[_0x359c23(0x4e5)]({'request':_0x82d779,'schema':v,'ClassRef':S,'execute':_0x8ef5a4=>O[_0x359c23(0x1ed)](_0x8ef5a4,_0x4cceef)});_0x1a9614[_0x359c23(0x485)](0xc8)['json'](_0x5a9556);})['post'](this['routerPath'](_0x3b91f7(0x4d5)),..._0x57d011,async(_0xa9bec1,_0x598873)=>{const _0x45f053=_0x3b91f7;let _0x5d58a3=_0xa9bec1[_0x45f053(0x358)];y[_0x45f053(0x1f7)]('request\x20received\x20in\x20editFlow'),y[_0x45f053(0x1f7)]('request\x20body:\x20'),y[_0x45f053(0x1f7)](_0xa9bec1[_0x45f053(0x358)]),delete _0x5d58a3[_0x45f053(0x507)],delete _0x5d58a3[_0x45f053(0x4a2)],delete _0x5d58a3[_0x45f053(0x1f6)],delete _0x5d58a3[_0x45f053(0x2e2)];let _0x42dc2c=await this[_0x45f053(0x4e5)]({'request':_0xa9bec1,'schema':v,'ClassRef':S,'execute':_0x4c70=>O[_0x45f053(0x616)](_0x4c70,_0x5d58a3)});_0x598873[_0x45f053(0x485)](0xc8)[_0x45f053(0x4b9)](_0x42dc2c);})[_0x3b91f7(0x3e3)](this[_0x3b91f7(0x54a)](_0x3b91f7(0x512)),..._0x57d011,async(_0x28ebcd,_0x10a6ac)=>{const _0x462d0c=_0x3b91f7;let _0x19c727=_0x28ebcd[_0x462d0c(0x358)];y[_0x462d0c(0x1f7)]('request\x20received\x20in\x20editFlow'),y[_0x462d0c(0x1f7)]('request\x20body:\x20'),y['verbose'](_0x28ebcd[_0x462d0c(0x358)]);let _0x3512d5=await this[_0x462d0c(0x4e5)]({'request':_0x28ebcd,'schema':v,'ClassRef':S,'execute':_0x480bd3=>O[_0x462d0c(0x1c7)](_0x480bd3,_0x19c727)});_0x10a6ac[_0x462d0c(0x485)](0xc8)[_0x462d0c(0x4b9)](_0x3512d5);})[_0x3b91f7(0x3e3)](this[_0x3b91f7(0x54a)](_0x3b91f7(0x652)),..._0x57d011,async(_0x59ebe0,_0x3c2c7e)=>{const _0x620e68=_0x3b91f7;let _0x55bb96=_0x59ebe0[_0x620e68(0x358)];y['verbose']('request\x20received\x20in\x20editFlow'),y[_0x620e68(0x1f7)](_0x620e68(0x24f)),y[_0x620e68(0x1f7)](_0x59ebe0[_0x620e68(0x358)]);let _0x4f7f20=await this[_0x620e68(0x4e5)]({'request':_0x59ebe0,'schema':v,'ClassRef':S,'execute':_0x261dfa=>O[_0x620e68(0x658)](_0x261dfa,_0x55bb96)});_0x3c2c7e[_0x620e68(0x485)](0xc8)[_0x620e68(0x4b9)](_0x4f7f20);})['post'](this['routerPath'](_0x3b91f7(0x119)),..._0x57d011,async(_0x185527,_0x785049)=>{const _0x14aff1=_0x3b91f7;let _0x265315=_0x185527['body'];y[_0x14aff1(0x1f7)](_0x14aff1(0x5d5)),y[_0x14aff1(0x1f7)](_0x14aff1(0x24f)),y[_0x14aff1(0x1f7)](_0x185527[_0x14aff1(0x358)]);let _0x37f843=await this['dataValidate']({'request':_0x185527,'schema':v,'ClassRef':S,'execute':_0x395cee=>O[_0x14aff1(0x5f9)](_0x395cee,_0x265315)});_0x785049[_0x14aff1(0x485)](0xc8)[_0x14aff1(0x4b9)](_0x37f843);})[_0x3b91f7(0x3e3)](this[_0x3b91f7(0x54a)](_0x3b91f7(0x114)),..._0x57d011,async(_0x2d8f81,_0x1181f0)=>{const _0x1b1ad1=_0x3b91f7;let _0x4e59a6=_0x2d8f81['body'];y[_0x1b1ad1(0x1f7)](_0x1b1ad1(0x7a)),y[_0x1b1ad1(0x1f7)](_0x1b1ad1(0x24f)),y['verbose'](_0x2d8f81[_0x1b1ad1(0x358)]);let _0x32e675=await this['dataValidate']({'request':_0x2d8f81,'schema':v,'ClassRef':S,'execute':_0x36af05=>O['editFlowGroup'](_0x36af05,_0x4e59a6)});_0x1181f0[_0x1b1ad1(0x485)](0xc8)[_0x1b1ad1(0x4b9)](_0x32e675);})[_0x3b91f7(0x3e3)](this['routerPath'](_0x3b91f7(0xf2)),..._0x57d011,async(_0x2d1836,_0x1c3285)=>{const _0x308b72=_0x3b91f7;let _0x193bfa=_0x2d1836[_0x308b72(0x358)];y[_0x308b72(0x1f7)]('request\x20received\x20in\x20editFlowcondition'),y[_0x308b72(0x1f7)](_0x308b72(0x24f)),y[_0x308b72(0x1f7)](_0x2d1836[_0x308b72(0x358)]);let _0x1c35e3=await this[_0x308b72(0x4e5)]({'request':_0x2d1836,'schema':v,'ClassRef':S,'execute':_0x2449ef=>O[_0x308b72(0x17c)](_0x2449ef,_0x193bfa)});_0x1c3285[_0x308b72(0x485)](0xc8)['json'](_0x1c35e3);})[_0x3b91f7(0x3e3)](this[_0x3b91f7(0x54a)](_0x3b91f7(0x5b1)),..._0x57d011,async(_0x23fc34,_0x22160f)=>{const _0x5c8aa0=_0x3b91f7;let _0x4e8164=_0x23fc34['body'];y[_0x5c8aa0(0x1f7)]('request\x20received\x20in\x20editFlowvariable'),y[_0x5c8aa0(0x1f7)](_0x5c8aa0(0x24f)),y[_0x5c8aa0(0x1f7)](_0x23fc34[_0x5c8aa0(0x358)]);let _0x56aba3=await this[_0x5c8aa0(0x4e5)]({'request':_0x23fc34,'schema':v,'ClassRef':S,'execute':_0x5a648f=>O['editFlowVariable'](_0x5a648f,_0x4e8164)});_0x22160f['status'](0xc8)['json'](_0x56aba3);})[_0x3b91f7(0x3e3)](this[_0x3b91f7(0x54a)](_0x3b91f7(0x37e)),..._0x57d011,async(_0xd1d882,_0x268c38)=>{const _0x4f4d09=_0x3b91f7;let _0x573511=_0xd1d882[_0x4f4d09(0x358)];y[_0x4f4d09(0x1f7)](_0x4f4d09(0x549)),y['verbose']('request\x20body:\x20'),y[_0x4f4d09(0x1f7)](_0xd1d882[_0x4f4d09(0x358)]);let _0x1f745f=await this['dataValidate']({'request':_0xd1d882,'schema':v,'ClassRef':S,'execute':_0x257a07=>O[_0x4f4d09(0x245)](_0x257a07,_0x573511)});_0x268c38[_0x4f4d09(0x485)](0xc8)[_0x4f4d09(0x4b9)](_0x1f745f);})['delete'](this[_0x3b91f7(0x54a)](_0x3b91f7(0x61c)),..._0x57d011,async(_0x48e175,_0x1d9392)=>{const _0x10f40e=_0x3b91f7;let _0x56d4fa=_0x48e175[_0x10f40e(0x358)];y[_0x10f40e(0x1f7)](_0x10f40e(0x6dc)),y[_0x10f40e(0x1f7)](_0x10f40e(0x24f)),y['verbose'](_0x48e175[_0x10f40e(0x358)]);let _0x350443=await this[_0x10f40e(0x4e5)]({'request':_0x48e175,'schema':v,'ClassRef':S,'execute':_0x1963f8=>O['deleteFlow'](_0x1963f8,_0x56d4fa)});_0x1d9392['status'](0xc8)['json'](_0x350443);})[_0x3b91f7(0x571)](this[_0x3b91f7(0x54a)]('allflows'),..._0x57d011,async(_0x3a8fc5,_0x371145)=>{const _0x9cab50=_0x3b91f7;y[_0x9cab50(0x1f7)](_0x9cab50(0xee));let _0x42c3d4=await this['dataValidate']({'request':_0x3a8fc5,'schema':v,'ClassRef':S,'execute':_0xc996d1=>O[_0x9cab50(0x22b)](_0xc996d1)});_0x371145[_0x9cab50(0x485)](0xc8)['json'](_0x42c3d4);});}},dr=T(require('path')),Y={};function cr(_0x3a79c7,_0x3989e4,_0x4d6966,_0x181aa6){Y[_0x3a79c7]||(Y[_0x3a79c7]={}),Y[_0x3a79c7][_0x3989e4]={'id':_0x3989e4,'response':_0x4d6966,'events':_0x181aa6};}function lr(_0x332f55,_0xfe4e8b){!Y[_0x332f55]||!Y[_0x332f55][_0xfe4e8b]||delete Y[_0x332f55][_0xfe4e8b];}function q(_0x31e806,_0x4ea413,_0x28095b){const _0x2ec928=a0_0x4cf6e5;if(!Y[_0x31e806])return;let _0xddef5=_0x2ec928(0x624)+JSON[_0x2ec928(0x611)](_0x28095b)+'\x0a\x0a';Object[_0x2ec928(0x5a6)](Y[_0x31e806])[_0x2ec928(0x357)](_0x254103=>{const _0xdf5b81=_0x2ec928;_0x254103['events']['includes'](_0x4ea413)&&_0x254103[_0xdf5b81(0x44e)][_0xdf5b81(0x235)](_0xddef5);});}function ur(){const _0x520aa9=a0_0x4cf6e5;let _0x20fd22={};for(let _0x109587 in Y)_0x20fd22[_0x109587]=Object['values'](Y[_0x109587])[_0x520aa9(0x2ad)](_0x12085b=>({'id':_0x12085b['id'],'events':_0x12085b[_0x520aa9(0x32b)]}));return _0x20fd22;}var pr=require(a0_0x4cf6e5(0x21f)),ws=require(a0_0x4cf6e5(0xe7)),fs=class{},li=new ws[(a0_0x4cf6e5(0x218))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),ui=new ws[(a0_0x4cf6e5(0x218))]({'_id':{'type':String,'default':a0_0x4cf6e5(0x408)},'WebhookGlobal':{'type':li},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),we=R?.[a0_0x4cf6e5(0x68a)](fs[a0_0x4cf6e5(0x3ee)],ui,a0_0x4cf6e5(0x4bd)),di=dr[a0_0x4cf6e5(0xb2)][a0_0x4cf6e5(0x52f)](__dirname,a0_0x4cf6e5(0x93)),Nt=(0x0,vt[a0_0x4cf6e5(0x351)])(),pi=b['get'](a0_0x4cf6e5(0x237))['TYPE'],ee=[ya,ba,Ma[pi]];Nt[a0_0x4cf6e5(0x28e)](a0_0x4cf6e5(0x2b2),vt[a0_0x4cf6e5(0xb2)][a0_0x4cf6e5(0x146)](di))[a0_0x4cf6e5(0x571)](a0_0x4cf6e5(0x414),async(_0x8556a8,_0x1d1109)=>{const _0x5b81b9=a0_0x4cf6e5;console[_0x5b81b9(0x2e6)](_0x5b81b9(0x47f));let _0x547b66=_0x8556a8['params'][_0x5b81b9(0x5a3)],_0x1e3fb4=(_0x8556a8[_0x5b81b9(0x42c)]['events']||'')[_0x5b81b9(0x3ad)](','),_0x20e02a=(0x0,pr['v4'])();console['log']('Instance\x20ID:',_0x547b66),console[_0x5b81b9(0x2e6)](_0x5b81b9(0x1db),_0x1e3fb4);let _0x5492e0=b[_0x5b81b9(0x571)]('AUTHENTICATION')[_0x5b81b9(0x628)],_0x1a090=_0x8556a8[_0x5b81b9(0x42c)][_0x5b81b9(0x212)];if(console['log'](_0x5b81b9(0x45b),_0x1a090),_0x5492e0[_0x5b81b9(0x75)]!==_0x1a090){console[_0x5b81b9(0x2e6)](_0x5b81b9(0x5eb));try{let _0xcb707d=await ue['auth']['find'](_0x547b66);if(console[_0x5b81b9(0x2e6)]('Instance\x20Key\x20from\x20DB:',_0xcb707d),!_0xcb707d||_0xcb707d[_0x5b81b9(0x212)]!==_0x1a090)return console[_0x5b81b9(0x2e6)](_0x5b81b9(0x44f)),_0x1d1109[_0x5b81b9(0x485)](0x191)[_0x5b81b9(0x33f)]('API\x20Key\x20inválida.');}catch(_0x2799eb){return console[_0x5b81b9(0x14e)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x2799eb),_0x1d1109[_0x5b81b9(0x485)](0x191)[_0x5b81b9(0x33f)](_0x5b81b9(0x42f));}}if(!await ze(_0x547b66))return _0x1d1109['status'](0x194)['send'](_0x5b81b9(0x100));_0x1d1109['setHeader'](_0x5b81b9(0x137),_0x5b81b9(0xea)),_0x1d1109['setHeader'](_0x5b81b9(0x570),_0x5b81b9(0x2f9)),_0x1d1109[_0x5b81b9(0xdd)](_0x5b81b9(0x125),_0x5b81b9(0x99)),_0x1d1109['flushHeaders']();let _0xe7ec79=_0x5b81b9(0x624)+JSON['stringify']({'info':_0x5b81b9(0x38b)})+'\x0a\x0a';_0x1d1109['write'](_0xe7ec79),cr(_0x547b66,_0x20e02a,_0x1d1109,_0x1e3fb4),_0x8556a8['on']('close',()=>{const _0x16e12a=_0x5b81b9;console[_0x16e12a(0x2e6)](_0x16e12a(0x604)+_0x547b66),lr(_0x547b66,_0x20e02a);});}),Nt[a0_0x4cf6e5(0x571)]('/clients-info',(_0x2b2301,_0x4bb5bd)=>{let _0x2dbaae=ur();_0x4bb5bd['json'](_0x2dbaae);})['get']('/',(_0x1ca3d4,_0x5e60cc)=>{const _0x1bbde7=a0_0x4cf6e5;let _0x2d1dd7=b[_0x1bbde7(0x571)]('SERVER')[_0x1bbde7(0x474)];if(_0x2d1dd7){let _0x51e4d6=encodeURIComponent(''+_0x2d1dd7);_0x5e60cc['redirect']('https://uazapi-plugin.bubbleapps.io/?url='+_0x51e4d6);return;}let _0x13d93f=b[_0x1bbde7(0x571)](_0x1bbde7(0xef)),_0x4635ec=_0x13d93f&&_0x13d93f[_0x1bbde7(0xb1)][_0x1bbde7(0x3ad)]('/')[0x4];if(_0x4635ec){let _0x2c0d9c=encodeURIComponent(_0x1bbde7(0x4c4)+_0x4635ec);_0x5e60cc[_0x1bbde7(0x9a)](_0x1bbde7(0x46e)+_0x2c0d9c);}else _0x5e60cc[_0x1bbde7(0x9a)](_0x1bbde7(0xcb));})['put'](a0_0x4cf6e5(0x383),...ee,async(_0x58441a,_0x3156e9)=>{const _0x55a423=a0_0x4cf6e5;try{console[_0x55a423(0x2e6)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x3156e9[_0x55a423(0x485)](0xc8)['json']({'message':_0x55a423(0x249)}),_0x3156e9['on'](_0x55a423(0x64c),()=>process['exit'](0x0));}catch(_0x35c159){console[_0x55a423(0x14e)](_0x55a423(0x498),_0x35c159),_0x3156e9[_0x55a423(0x485)](0x1f4)[_0x55a423(0x4b9)]({'message':_0x55a423(0xd2)});}})[a0_0x4cf6e5(0x90)](a0_0x4cf6e5(0x467),...ee,async(_0x408f3c,_0x3e06fd)=>{const _0x5b9057=a0_0x4cf6e5;try{let _0x31a769=_0x408f3c[_0x5b9057(0x358)];await we[_0x5b9057(0x376)]({},{'$set':_0x31a769},{'upsert':!0x0});let _0x37a145=await we[_0x5b9057(0x2a7)]();_0x3e06fd[_0x5b9057(0x4b9)](_0x37a145);}catch(_0x142a6a){_0x3e06fd[_0x5b9057(0x485)](0x190)[_0x5b9057(0x33f)](_0x142a6a[_0x5b9057(0x251)]);}})[a0_0x4cf6e5(0x571)](a0_0x4cf6e5(0x467),...ee,async(_0x137ca2,_0x424956)=>{const _0x4ff490=a0_0x4cf6e5;try{let _0x465e8a=await we[_0x4ff490(0x2a7)]();if(!_0x465e8a)return _0x424956[_0x4ff490(0x4b9)]({});_0x424956['json'](_0x465e8a);}catch(_0x52be31){_0x424956[_0x4ff490(0x485)](0x1f4)[_0x4ff490(0x33f)](_0x52be31[_0x4ff490(0x251)]);}})['use'](a0_0x4cf6e5(0x646),new lt(b,...ee)[a0_0x4cf6e5(0x158)])[a0_0x4cf6e5(0x28e)](a0_0x4cf6e5(0x1c0),new St(...ee)[a0_0x4cf6e5(0x158)])[a0_0x4cf6e5(0x28e)](a0_0x4cf6e5(0x579),new Ze(...ee)[a0_0x4cf6e5(0x158)])['use'](a0_0x4cf6e5(0xd4),new ct(...ee)['router'])[a0_0x4cf6e5(0x28e)]('/webhook',new Mt(...ee)[a0_0x4cf6e5(0x158)])[a0_0x4cf6e5(0x28e)](a0_0x4cf6e5(0x49e),new Ct(...ee)[a0_0x4cf6e5(0x158)]);var w=class{constructor(..._0x1705dc){const _0x40c27b=a0_0x4cf6e5;throw{'status':0x190,'error':_0x40c27b(0x420),'message':_0x1705dc['length']>0x0?_0x1705dc:void 0x0};}},Z=class{constructor(..._0x5f4d1b){const _0x3b2331=a0_0x4cf6e5;throw{'status':0x191,'error':_0x3b2331(0x2e4),'message':_0x5f4d1b[_0x3b2331(0x364)]>0x0?_0x5f4d1b:void 0x0};}},H=class{constructor(..._0x5184d8){const _0x32fc49=a0_0x4cf6e5;throw{'status':0x193,'error':'Forbidden','message':_0x5184d8[_0x32fc49(0x364)]>0x0?_0x5184d8:void 0x0};}},k=class{constructor(..._0x1d40e0){const _0x37b673=a0_0x4cf6e5;throw{'status':0x194,'error':_0x37b673(0x495),'message':_0x1d40e0[_0x37b673(0x364)]>0x0?_0x1d40e0:void 0x0};}},I=class{constructor(..._0x19529b){const _0x21551d=a0_0x4cf6e5;throw{'status':0x1f4,'error':_0x21551d(0x666),'message':_0x19529b[_0x21551d(0x364)]>0x0?_0x19529b:void 0x0};}},de=require(a0_0x4cf6e5(0x2b6));async function ys(_0x32e23e){const _0xd8c72c=a0_0x4cf6e5;let _0xdf3ea1=new N(ys['name']),_0x11224d=R[_0xd8c72c(0x55c)](),_0x1c1ef5=_0x11224d['db'](b[_0xd8c72c(0x571)](_0xd8c72c(0x694))[_0xd8c72c(0x5bc)][_0xd8c72c(0x634)]+_0xd8c72c(0x1b1))[_0xd8c72c(0x381)](_0x32e23e),_0x604454=async(_0x103c04,_0x433044)=>{const _0x2b3ec6=_0xd8c72c;try{return await _0x11224d[_0x2b3ec6(0x18a)](),await _0x1c1ef5[_0x2b3ec6(0x2b3)]({'_id':_0x433044},JSON[_0x2b3ec6(0x40f)](JSON[_0x2b3ec6(0x611)](_0x103c04,de[_0x2b3ec6(0x6d0)]['replacer'])),{'upsert':!0x0});}catch{}},_0x5b4cfa=async _0x4d6079=>{const _0xebb422=_0xd8c72c;try{await _0x11224d[_0xebb422(0x18a)]();let _0x1df4f2=await _0x1c1ef5['findOne']({'_id':_0x4d6079}),_0x2c06d2=JSON[_0xebb422(0x611)](_0x1df4f2);return JSON[_0xebb422(0x40f)](_0x2c06d2,de[_0xebb422(0x6d0)][_0xebb422(0x336)]);}catch{}},_0xcb8a1=async _0x2509c2=>{const _0x44cb73=_0xd8c72c;try{return await _0x11224d[_0x44cb73(0x18a)](),await _0x1c1ef5['deleteOne']({'_id':_0x2509c2});}catch{}},_0x50e8f6=await _0x5b4cfa(_0xd8c72c(0x285))||(0x0,de[_0xd8c72c(0x20e)])();return{'state':{'creds':_0x50e8f6,'keys':{'get':async(_0x25f0ca,_0xd43a7f)=>{const _0x1caf7c=_0xd8c72c;let _0x5e923b={};return await Promise[_0x1caf7c(0xc8)](_0xd43a7f[_0x1caf7c(0x2ad)](async _0x22e45b=>{const _0x10c619=_0x1caf7c;let _0xcb14da=await _0x5b4cfa(_0x25f0ca+'-'+_0x22e45b);_0x25f0ca===_0x10c619(0x5db)&&_0xcb14da&&(_0xcb14da=de[_0x10c619(0x168)][_0x10c619(0x4ab)][_0x10c619(0x468)][_0x10c619(0x3bb)](_0xcb14da)),_0x5e923b[_0x22e45b]=_0xcb14da;})),_0x5e923b;},'set':async _0x6cbd4e=>{const _0x24bc1c=_0xd8c72c;let _0x2321ed=[];for(let _0x359dff in _0x6cbd4e)for(let _0x56e078 in _0x6cbd4e[_0x359dff]){let _0x36b47f=_0x6cbd4e[_0x359dff][_0x56e078],_0x36ce85=_0x359dff+'-'+_0x56e078;_0x2321ed['push'](_0x36b47f?_0x604454(_0x36b47f,_0x36ce85):_0xcb8a1(_0x36ce85));}await Promise[_0x24bc1c(0xc8)](_0x2321ed);}}},'saveCreds':async()=>_0x604454(_0x50e8f6,_0xd8c72c(0x285))};}var Ms=T(require(a0_0x4cf6e5(0x25f))),Cs=T(require('node-cache')),Ot=require('@whiskeysockets/baileys'),hr=require(a0_0x4cf6e5(0x144)),Tt=require('@whiskeysockets/baileys'),Rt;function hi(_0x1f4253){const _0x285903=a0_0x4cf6e5;return Rt||(Rt=(0x0,hr['createClient'])({'url':_0x1f4253[_0x285903(0x9f)]}),Rt['connect']()),Rt;}function a0_0x175d(){const _0x3c3638=['.mp3','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','\x1b[1m','Type\x20is\x20required','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','deleteConversation','):\x20Dados\x20migrados\x20com\x20sucesso','AUTHENTICATION_TYPE','sharp','request\x20received\x20in\x20starFlow','blocks','https://jsonip.com','processblock','editFlowVariable','stanzaId','ContactModel','messages.set','notify','Erro\x20ao\x20iniciar\x20fluxo:\x20','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','blockLogs','editflowblock','isArray','localWebhook','request\x20received\x20in\x20createFlow','CONFIGURAÇÃO\x20GERAL:','Erro\x20ao\x20deletar\x20mensagens:','jid','scheduled','processing_id','chat','info','pollMessageOnDelete','fetchChats','enviado\x20para','sendWhatsAppAudio','prefixCommand','blockId','#64c4ff','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','slice','):\x20debug\x20alterando\x20this.AutomateSystem','Flow\x20não\x20encontrado','sendMessage','execSync','emit','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','deleteChat','webhookModel','join','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','find','):\x20Conversa\x20está\x20expirada\x20-\x20voto','listen','buttonText','ListMessage','\x1b[36m','unlinkSync','Image\x20is\x20base64','g-t','saveCreds','secondValue','):\x20tem\x20blocks','ChatRouter','Error\x20fetching\x20group','MAX_RECONNECT_ATTEMPTS','Erro\x20ao\x20atualizar\x20AutomateSystem:','cleanStore','title','getScheduleMessageModelForOwner','set','):\x20Current\x20Time:\x20','DaysToDelete','toNumber','contacts.upsert','request\x20received\x20in\x20getFlow','routerPath','username','host','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','hbs','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','cache','bulkWrite','getContentType','sendCommand','ObjectId','/wa-connection-update','fileName','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','lastInteraction','Missing\x20global\x20api\x20key','$set','\x1b[44m','getClient','condition','findOrCreate','formatStatusMessage','buttons','PROXY','markMessageAsRead','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','ListType','privacySettings','FlowController','deleteOne','JWT','):\x20Enviando\x20texto','reaction','next_groupId','):\x20Comando\x20desconhecido:\x20','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','toBrazilianNumberFormat','editConversation','Cache-Control','get','stateConnection','https-proxy-agent','toFile','changeVariables','DEBUG','SINGLE_SELECT',',\x20qrcodeCount:\x20','/chat','deleteFlow','context','):\x20Iniciando\x20bot...','console','no.connection','lastmsg','isConnected','findChats','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','\x20-\x20retornado:\x20','start','/*.json','ChatModel','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','prepareWAMessageMedia','copyDataToNewModel','convertToWebP','dbClient','\x20ao\x20chat\x20','24256WQjRns','updateProfileStatus','^\x5cd+','pollErrorMessage','^\x5cd+[\x5c.@\x5cw-]+','indexOf','ReplyOptions\x20finais\x20após\x20reordenação:','SendScheduleMessage','SERVER_OFFLINE','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','substring','match','\x20->\x20NÃO\x20CORRESPONDE.','optionName','instanceCount','\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.','setNewValue','Image\x20is\x20url','delaySecMin','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','now',',\x20pairCode:\x20','instance','DOCKER_ENV','valid','values','chats.set','PRODUCT_LIST','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','Data\x20inválida\x20fornecida','Image\x20converted\x20to\x20WebP','_Flows','copyBlock','\x1b[34m%s\x1b[0m','Last\x20message\x20not\x20found\x20for\x20number:','chatHandle','editflowvariable','messageContextInfo','contains','):\x20Criando\x20nova\x20conversa[createNewConversation]','):\x20Error\x20processing\x20conditions:\x20','updateOnlinePrivacy','sectionsToString','user','Close\x20connection','moreLogs','):\x20Conversa\x20atualizada\x20em\x20memória','CONNECTION','key','READ','editedMessage','mediatype','fetchProfile','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','HeaderType','hSet','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','mkdirSync','inviteCode','axios','Message\x20not\x20found','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','updateGroupsAddPrivacy','connecting','revokeInviteCode','js-yaml','findById','leadInfo','node-mime-types','closeExistingConversations','INFO','getOwnPropertyNames','request\x20received\x20in\x20editFlow','\x20minutos.\x20Será\x20às\x20','.xls','):\x20Bloco\x20original\x20para\x20cópia:\x20','organization','fetchContacts','app-state-sync-key','CHATS_UPDATE','createRegularFlow','flowConversation','labels.edit','tags','sendStatus',':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20','Database\x20is\x20not\x20enabled','Type\x20defined\x20as\x20audio','instance.','Esse\x20fluxo\x20expirou','groupId','AUTHENTICATION_API_KEY','Error\x20while\x20deleting\x20message\x20for\x20everyone','SERVER_ACK','env.KEY\x20!==\x20key','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','chats.update','groupLeave','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','ERROR','messages.update','REDIS','add','utf-8','release','value','ButtonsMessage','QRCODE_UPDATED','editFlowVaredit','\x20not\x20found,\x20retrying\x20in\x20','Variável\x20não\x20encontrada!','ini','messageType','replace','InstancesAsDisconnectedX','ERROR:\x20','addresss','imported','silent','Connection\x20closed\x20for\x20instance:\x20','temp-','deleteReplyOption','close','STORE_MESSAGE','/wa-groups','Flow\x20iniciado\x20com\x20','label','\x20não\x20encontrado\x20para\x20cópia','send.message','cleaningUp',',\x20fará\x20nova\x20verificação\x20em\x20','express-async-errors','stringify','/events','shareOwners','header','match_last_seen','editFlow','removeProfilePicture','isLong','profilePicture','presenceSubscribe','sendReaction','deleteflow','./.git/config','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','address','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','):\x20[messages.update]\x20group\x20ignored','isRunning','/instance/connect','data:\x20','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','updateOneById','isInteger','API_KEY','Erro\x20ao\x20atualizar\x20conversa:\x20','qrcode','\x1b[32m','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','TYPE','vote','updateProfilePicture','uncaughtException',':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...','leaveGroup','getProfileName','DB_PREFIX_NAME','\x20\x1b[0m','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','_id','create','pollUpdateMessage','):\x20Deletando\x20conversa...','textMessage','format','requestFile','cpf','Mensagem\x20não\x20suportada','removeInstance','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','):\x20Query\x20params:\x20','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','onWhatsApp','testProxy','/instance','from','etiquetas','metadata','displayName','144THbVMZ','finish','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','hex','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','Image\x20path:\x20','/wa-contacts','editflowreply','addBlock','Erro\x20inesperado\x20em\x20processvaredits:\x20','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','including\x20timestamp\x20in\x20url:\x20','#83e421','editFlowReply','#92ceac','lastDisconnect','}}\x20->\x20valor\x20não\x20encontrado','statusMessage','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','view\x20engine','detail','--standalone','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','conversation','readMessage','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','ScheduleMessageModel','Internal\x20Server\x20Error','Cached\x20audio\x20found,\x20returning\x20existing\x20file','contactsArrayMessage','endSession','Erro:','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','unreadcount','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','empty','CONNECTION_UPDATE','):\x20Enviando\x20áudio','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','logger','stopWhenYouSendMsg','):\x20Campos\x20a\x20serem\x20atualizados:','\x20e\x20ID=','insertMany','addChatLabel','createWebhook','digest','cwd','greater','CLEANING_INTERVAL','convert','Erro\x20ao\x20atualizar\x20o\x20flow.','$pull','responsavelid','Variáveis\x20não\x20encontradas:','licenca','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','firstValue','Validate','sendButtons','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','messages','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','model','sendContact','):\x20Query\x20params:','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','stopMinutes','updateAll','code','Chat\x20com\x20ID\x20','editScheduleMessage','ENABLED','DATABASE','pairingCode','lastSend','sendMenu','created','agents','toString','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','.mp4','reconnectTimestamps','parseInt','_activatedCount','originalUrl','findAll','\x20-\x20ON:\x20','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','@broadcast','MESSAGES_UPDATE','unknown\x20operation\x20type\x20[','formatVCard','mediaMessage','getConversationModelForOwner','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','backgroundColor','Erro\x20ao\x20normalizar\x20a\x20mensagem:','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','\x1b[30m%s\x1b[0m','_p_','downloadMediaMessage','birthtime','.doc','):\x20Error\x20processing\x20the\x20block:\x20','\x1b[41m','.webm','#fed428','messageTimestamp','webhookService','mentions','CORS','webp','mediaKey','stopped',']\x20(','\x0a{\x20instance:\x20','varedit','50mb',',\x20saindo.','\x1b[37m%s\x1b[0m','DisconnectReason','whatsappNumber','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','restrict','joinGroup','loadproxy','remove.instance','Desconectado,\x20parando\x20execução.','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','wuid','exit','BufferJSON','The\x20instance\x20needs\x20to\x20be\x20disconnected','):\x20Ignoring\x20group\x20messages.','):\x20Conversa\x20está\x20expirada','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','listMessage','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','No\x20invite\x20code','matchRegex','.svg','font','processUazapi','request\x20received\x20in\x20deleteFlow','#dfaef0','):\x20Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','Hash\x20to\x20image\x20name:\x20','apiResponse','setting','Notifying\x20clients\x20for\x20chat:\x20','51044mdCePZ','NextBlock','useMultiFileAuthState','):\x20transformedCustomFieldVariables','role','sort','Error\x20updating\x20profile\x20name','reorderReplyOptions','Error\x20in\x20converting\x20audio','@newsletter','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','option','updateMissingLabels','reactionMessage','KEY','readData','ScheduleMessage','badSession','repository','request\x20received\x20in\x20editFlowgroup','toggleEphemeral','remoteJids','):\x20Enviando\x20localização','env','Button\x20IDs\x20cannot\x20be\x20repeated.','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','.ogv','realVariables','getFlowModelForOwner','PREFIX_KEY','isJidUser','\x1b[34m','scheduleMessage','urlencoded','#9ba6ff','namespace','lastBlockId','Failed\x20to\x20find\x20chat\x20','editFlowGroup','data','height','put','GROUPS_UPDATE','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','downloads','lean','DELETED','child_process','http://checkip.dyndns.org','uazapiSendContact','keep-alive','redirect','/instance/delete','loadInstance','groupUpdateSubject','621892mOSlTm','URI','STATUS_INSTANCE','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','application/json','lastReceivedMessage','E-mail:\x20','views','AUTHENTICATION_JWT_SECRET','unhandledRejection','findGroupInfo','promote','max','Error\x20in\x20markMessageAsRead:','copy','synchronizeFlows','phoneNumber','):\x20Flow\x20não\x20encontrado','\x20saindo\x20da\x20função','FULLCHAIN','default','CHATS_SET','newStoppedUntil','warn','choices','expiration','Imagem\x20não\x20encontrada','updateConversation','userDevicesCache',',\x20Minutes\x20to\x20Close:\x20','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','contacts.update','reconnectAttempts','numbers','limit','The\x20','push','Not\x20allowed\x20by\x20CORS','createNewConversation','entries','Background\x20color\x20is\x20required',',\x20Expiration\x20Time:\x20','all','\x20minutos\x20verificará\x20novas\x20mensagens','selectedOptions','https://uazapi-plugin.bubbleapps.io/','):\x20Editando\x20bloco...','DELIVERY_ACK','qrCode','#00a1f2','updateMissingShareOwners','out','Erro\x20ao\x20encerrar\x20a\x20API','upsertChats','/group','description','The\x20\x22','eventHandler','delayMessage','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','oldToken','Valor\x20inicial:\x20\x22','participant','setHeader','HOST','getScheduleMessage','SUCCESS','footerText','headerString','minutesToClose','createSharedFlow','end','videoMessage','mongoose','VERBOSE','SERVER','text/event-stream','http','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','delaySecMax','request\x20received\x20in\x20allFlows','SSL_CONF','toBRL','):\x20Enviando\x20mídia','editflowcondition','fetchInstances','getMessageModelForOwner','removeChatLabel','7224GOljHA','Last\x20message\x20not\x20found','nomecompleto','):\x20','toArray','loadWebhook','padEnd','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','delete','Instância\x20não\x20encontrada.','https://api.openai.com/v1/audio/speech','deleteInstance','\x22\x20-\x20REMOVED','\x5c$&','email','validate','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','varedits','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','logout','_FlowHistorico','lastSendMessage','BRL','enabled','oldValue','/wa-chats','STORE_CONTACTS','connectToWhatsapp','Erro\x20ao\x20remover\x20label\x20','editflowgroup','endsWith','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','url','text','editflowvaredit','maxActives','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','mentioned','Label\x20','chatLog','\x20não\x20encontrado\x20para\x20atualização.','Primeiro\x20Valor:\x20','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','assign','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','getContactModelForOwner','Connection','jsonwebtoken','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','):\x20Criando\x20fluxo\x20regular...','STORE_CLEANING_TERMINAL','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','fileLength','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','item','groupToggleEphemeral','optionDescription','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','noConnection','method','Erro\x20ao\x20buscar\x20conversas:\x20','CONTACTS_SET','createHash','Content-Type','.TEL;waid=','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','restartInstance','\x20is\x20already\x20in\x20use.','):\x20alterando\x20this.AutomateSystem','#d3a91f','\x20minutos','sendLocation','imageMessage','has','sign','):\x20Falha\x20ao\x20deletar\x20mensagem.','@redis/client','\x22reaction\x22\x20must\x20be\x20an\x20emoji','static','\x20adicionado\x20ao\x20chat\x20','PRESENCE_UPDATE','subjectTime','authService','SEND_MESSAGE','-whatsapp-api','findByIdAndDelete','error','groupHandler','path','env.yml','Invalid\x20format','setUpdate','Archiving\x20chat','Types','):\x20newSecondValue\x20após\x20replaceVariables:','Erro\x20ao\x20editar\x20o\x20bloco:\x20','router','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','deleteMany','dayjs','CHATS_DELETE','updateGroupPicture','processApiRequest','webhook','SERVER_TYPE','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','client','groupJid','Certbot\x20executado\x20com\x20sucesso.','TEL','AutomateSystem','proto','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','updateProfilePicturePrivacy','#ffffff','!stop','Falta\x20informação\x20para\x20a\x20chamada\x20API','instanceInfo','.wav','creds.json','leadInfo.etiquetas','output','lastCondition','listType','PASSWORD','Reinicialização\x20iniciada:\x20','authState','getStatus','Erro\x20ao\x20atualizar\x20o\x20fluxo:','demote','arraybuffer','editFlowCondition','stderr','Instance\x20restarted','saveTextReply','Instance\x20logged\x20out','ephemeralExpiration','arrayUnique','generate','\x1b[33m','variable','Read\x20messages\x20fail','flowIgnoreGroups','/instance/connectionState','replyOptions','connect','.webp','sending','\x20contacts','Erro\x20ao\x20buscar\x20conversa:\x20','Número:\x20','insertCount','flattenObject','uazapi','flowStopMinutes','pollCreationMessage','importChatsAntigo','@g.us','getAutomateSystem','DATABASE_CONNECTION_HOST','Output\x20path:\x20','deleted','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','/wa-presence','LOG','END:VCARD','qrcode.updated','sharePass','auth','https://api.ipify.org?format=json',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.','findContacts','SSL_CONF_PRIVKEY','/wa-qrcode',':\x20Erro\x20durante\x20loadproxy\x20-\x20','createConnection','getDevice','LOG_LEVEL','.pptx','\x20chats\x20de\x20','processConditions','timeout','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','-instances','8496TngMQo','updateLastSeenPrivacy','STORE_CHATS','paused','Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','pt-BR','CORS_METHODS','Getting\x20image\x20from\x20url','\x1b[33m\x1b[1m','\x0aFN:','online','includes','messageHandle','stopMinutesMaxActives','/message','loadEnv','/wa-message','groupValidate','hGetAll','findGroups','deletedCount','editFlowBlock','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','GROUPS_UPSERT','evaluateConditionTest','NO_IP','fetchStatus','\x1b[36m%s\x1b[0m','scheduleSendAudio','locationMessage','startsWith','defineAuthState','):\x20Buscando\x20flow...','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','findGroup','sendPresenceUpdate','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','last_update','Nenhum\x20chat\x20encontrado\x20para\x20editar.','sha256','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','Subscribed\x20Events:','waInstances','http://icanhazip.com/','isJidGroup','normalizeMessage','g.us','readreceipts','rm\x20-rf\x20','encoding','updateMany','\x1b[0m','messagesSend','notMatchRegex','saveChatVariables','archive','replaceVariablesInReplyOptions','sem\x20texto\x20na\x20mensagem','throwAndLogError','createFlow','*\x0a\x0a','sticker','URL\x20limpa:\x20','ms\x20(Attempt\x20','*Pergunta*:\x20\x0a','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','groups','verbose','cors','):\x20Enviando\x20enquete','mediaSticker','statusCode','.png','stopConversation','):\x20Limpando\x20AutomateSystem','MessageModel','#000000','updateMessage','menuMessage','findFlow','quotedMessage','\x0aitem','sleep','presence','labels.association','.jwt','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','DATABASE_CONNECTION_DB_PREFIX_NAME','size','9IRItpQ','initAuthCreds','/wa-message-update','getTime','truncatedtoEnd','apikey','\x20mensagens\x20de\x20','atendimentoAberto','groupFetchAllParticipating','Button\x20texts\x20cannot\x20be\x20repeated','interval\x20não\x20é\x20um\x20número','Schema','\x20com\x20sucesso.','):\x20isVote:\x20','allContacts','):\x20Buscando\x20conversas...','automateSystem','toLowerCase','uuid','connection.update','Error\x20updating\x20privacy\x20settings','class-validator','delayChatLabel','object','update','Sistema\x20atualizado\x20com\x20sucesso!','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','contactHandle','createConversationforStartFlow','trimmed','allFlows','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','AUTHENTICATION_JWT_EXPIRIN_IN','DARK','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','utf8','replaceVariablesLogs','video','port','audio/mpeg','write','getVariablesChat','AUTHENTICATION','unlocked','Audio\x20processed','poll','\x22\x20-\x20NOT\x20CONNECTION','createInstance','Instance\x20\x22','RemoveChatLabel','floor','sendAudio','updateReplyOption','redis','segundos','toLocaleString','getFlow','fullName','groupadd','convertedOptions','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','error\x20get\x20vote','replacer','.ppt','readMessageBot','#56ccb4','request\x20body:\x20','goNextblock','message','getLabelModelForOwner','SERVER_URL','options','repeat','replyOption','):\x20Não\x20achou\x20nenhum\x20flow','connectedClient','groupUpdateDescription','lastMessage','replaceVariablesInObject','groupSetting','restart','inner','long','capitalizedWords','folder','scheduleSendMedia','variablesToObject','createGroup','DATABASE_CONNECTION_PASSWORD','findOneAndUpdate','width','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','https://api.elevenlabs.io/v1/text-to-speech/','waitingMenu_replyOptions','writeData','request\x20received\x20in\x20getConversation','readdirSync','isURL','CONTACTS_UPDATE','getBase64FromMediaMessage','replaceVariablesChat','Read\x20messages','Image\x20created','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','local_map','instanceName','updateGParticipate','uazapiSendText','!cmd_','MESSAGES_SET','saveVariable','profile','buttonMessage','flowActive','.txt','ultimaTentativaRemoteJid',':\x20Tentativa\x20','2099740ZAOWcJ','hDel','Erro\x20ao\x20copiar\x20dados:','creds','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','Error\x20update\x20group\x20picture','enumerable','):\x20this.processing_id:\x20','SERVER_PORT','modifiedCount','notContains','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','use','unreadCount','prototype','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','):\x20Bloco\x20com\x20ID\x20','Error\x20in\x20chatModify\x20for\x20number\x20','contact','PLAYED','):\x20Deletando\x20fluxo...','connectToWhatsappController','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','Group\x20not\x20found','profilePictureUrl','checkAndRestartProcess','conversationTimestamp','senderKeyDistributionMessage','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','EXPIRIN_IN','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','evaluateCondition','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Error\x20occurred\x20while\x20archiving\x20chat:\x20','Getting\x20profile\x20with\x20jid:\x20','waMonitor','flow','findOne','pre','.uazapi.dev','bodyString','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','rows','map','order','true','protocol','leadInfo.','/media','replaceOne','\x20quoted:\x20','scheduleSendText','@whiskeysockets/baileys','nome','Conversa\x20deletada\x20com\x20sucesso.','pollOnReplyDelete','contextInfo','upperCase','drop','Safari\x20(MacOS)','removeData','trim','):\x20Buscando\x20conversa...','Module\x20-\x20ON','dropCollection','reference','replaceValue','\x20inseridas\x20no\x20banco\x20de\x20dados...','\x1b[30m','stickerMessage','existsSync','extractMessageContent','open','selectableCount','notas','collections','):\x20Enviando\x20contato','createAndSave',':\x20IP\x20funcionando!','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','Converted\x20image\x20deleted','mongodb','groupMetadata','getChatModelForOwner','documentMessage','not\x20loaded','imagechat','apply','audio/mp4','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome','abs','Erro\x20ao\x20sincronizar\x20fluxos:\x20','\x1b[46m','customFields','round','conditions','configService','Unauthorized','remote\x20\x22origin\x22','log','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','success','request\x20received\x20in\x20deleteConversation','presence.update','\x1b[31m','fetchLabels','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','currency','uazapiSendMedia','where',',\x20lastCondition:\x20','redis://127.0.0.1:6379','closed','findLabels','call','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','deleteMessageForEveryone','getHours','no-cache','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','authorization','):\x20Flow\x20desativado','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','removed','.pdf','stdout','fromMe','status.instance','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','headers','creation',',\x20Comparador:\x20','updatePresence','prepareMediaMessage','messaging-history.set','findParticipants','connectionUpdate','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','apirequest','):\x20Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20','delayChatLabel_MAX_RETRIES','media','?timestamp=','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','GUARD','last','waitingMenu_id','label_jid','LOG_COLOR','fetchConversation','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','sendText','CONTACTS_UPSERT','contentText','remove','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','This\x20name\x20','.X-ABLabel:Celular\x0a','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','Error\x20fetching\x20and\x20updating\x20profile:\x20','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','updateProfileName','processConditionsTest','\x20Tentativa\x20de\x20reconexão\x20','saveMediaToFile','updateMissingCustomFields','events','announce','Deleted\x20','owner','getMIMEType','getLastMessage','pollMessage','PRIVKEY','dbServer','deleteDoneMessages','AutomateSystem\x20não\x20foi\x20inicializado','reviver','extractRegex','eventEmitter','request\x20received\x20in\x20editConversation','\x20removido\x20do\x20chat\x20','MESSAGES_UPSERT','Erro\x20ao\x20remover\x20instâncias\x20antigas:','createServer','Resultado\x20da\x20atualização:','send','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','group-participants.update','pollCreationMessageV3','number','params','InstancesAlterarTodas','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','$addToSet','connectionState','\x20não\x20encontrado','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','waitingMenu_text','No\x20join\x20group\x20invite\x20code\x20or\x20url','content','):\x20Criou\x20conversa\x20no\x20startFlow:','saveConversationToDatabase','Router','Profile\x20not\x20found','\x20-y','Type\x20not\x20found','certonly','getAllData','forEach','body','insert','chats','Fetching\x20business\x20profile','isBusiness','sections','application/octet-stream','findGroupInfos','ignoreGroups','Bloco\x20com\x20ID\x20','recording','editOperator','length','waitingForReplyMenu','joinGroupValidate','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','Converting\x20image\x20to\x20WebP\x20to\x20sticker','REDIS_PREFIX_KEY','LEVEL','Error\x20updating\x20message\x20status:','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','processPollUpdateMessage','importChats','\x20attempts.','Rótulo\x20atualizado:','leadInfo.desativadoFluxoAte','):\x20Fluxos\x20não\x20estão\x20ativados','remoteJid','SECRET','webhookMap','updateOne','\x20minutos...','messageStubType','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','/instance/fetchInstances','contacts','not_announcement','isListOfNumbers','getflow','Erro\x20de\x20atualização:\x20','applyvaredit','collection','chats.delete','/exit','WARN','leadInfo.customFields','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','):\x20expirationTime:\x20','readMessages','SSL_CONF_FULLCHAIN','createConversationforgoToFlow','Conexão\x20estabelecida','longitude','editChat','Error\x20updating\x20profile\x20status','Valor\x20de\x20find\x20ou\x20replace\x20ausente','creds.update','protocolMessage','\x1b[47m','variablesNotFound','getConversation','\x20->\x20CONFIRMADO.','http://ip-api.com/json','fetchBusinessProfile','getMinutes',',\x20resultado:\x20','audioWhatsapp','fetchMessages','Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','announcement','):\x20Procurando\x20mensagens\x20para\x20envio','deleteBlock','sendMedia','public','COLOR','base64','FlowModel','padStart','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','Temp\x20image\x20deleted','FlowRouter','scheduleNextCheck','mimetype','request\x20received\x20in\x20updateCustomFields','https://chat.whatsapp.com/','split','document','fone','Authentication\x20error','upsertedCount','groupInviteCode','):\x20Conversa\x20inserida\x20com\x20sucesso.','groupSettingUpdate','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','save','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','documentWithCaptionMessage','OrAnd','notEmpty','fromObject','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','envYaml','CREDENTIALS','statusJidList','spawn','CORS_CREDENTIALS','http://ifconfig.me/ip','DATABASE_ENABLED','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','setWebhook','state','The\x20property\x20cannot\x20be\x20empty','participants','):\x20[messages.upsert]\x20group\x20ignored','Error\x20writing\x20file:\x20','charAt','checkAndUpdateChatStatus','groups.upsert','deleteAll','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','\x20do\x20chat\x20','subdomain','Error\x20updating\x20profile\x20picture','messages.upsert',':\x20IP\x20configurado:\x20','_ScheduleMessages','setContext','contact_blacklist','jsonschema','delay','.jpg','Erro\x20ao\x20editar\x20a\x20conversa:\x20','updateMissingTags','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','flowPrefixCommand','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','envProcess','updateStopChat','post','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','buttonId','https://github.com/uazapi/uazapi.git','):\x20atualização\x20chat:\x20','quoted','pushName','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','pollCreationMessageKey','message_normalized','flowName','name','startFlow','reorderBlocks','?authSource=admin&readPreference=primary&directConnection=true','findWebhook','shift','audioMessage','AutomateFunctions','1423745OdkVDQ','GROUP_PARTICIPANTS_UPDATE','sendList','Erro\x20ao\x20importar\x20chats:','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','preview','none','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','unavailable','processvaredits','#f64847','normalizeMessageContent','sendDataWebhook','messageId','action','expression','connectionStatus','string','config','contactname','The\x20global\x20api\x20key\x20must\x20be\x20set','35238910KGhqBu','shutdown\x20-r\x20now','redisEnv','flowConfig','parse','updateAgent','Error\x20in\x20scheduleNextCheck:\x20','archived','nextBlock:','/events/:instance','subjectOwner','chatId','app','Erro\x20ao\x20editar\x20agentes:\x20','ConversationModel','lowerCase','updatePrivacySettings','updateChatWithMessage','instanceKeys','Erro\x20ao\x20inserir\x20chats:','some','Bad\x20Request','less','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','replaceVariables','\x1b[37m','picture','://','):\x20conversation.waitingMenu_name','Error\x20change\x20group\x20name','decryptPollVote','readFileSync','findByIdAndUpdate','query','sendPoll','remoteJidsRemaining','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','desativadoFluxoAte','HttpsProxyAgent','count','Atualização:\x20','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','fetchPrivacySettings','URL:','test','urlOrBase64','group','jpegThumbnail','getDelay','Rótulo\x20inválido\x20ou\x20sem\x20ID.','TEXT','image','exists','toUpperCase','setRestartTimeout','contactMessage','verify','Fluxo\x20não\x20encontrado','array','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','sendSticker','latitude','ex:\x20\x22groupJid=120362@g.us\x22','.\x20Aguardando\x20antes\x20de\x20reconectar...','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','express','response','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','audio','findIndex','groupDesc','--agree-tos','exports',',\x20Resultado:\x20','):\x20customFieldVariables','composing','gifPlayback','dbInstance','Error\x20updating\x20participants','API\x20Key\x20from\x20Request:','authModel','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','color','.ogg','when','fetchProfile2','and','Chat\x20','readFile','exec','/config','AppStateSyncKeyData','subject',',\x20valor\x20a\x20encontrar:\x20\x22','_Contacts','):\x20Limpando\x20delayMessage','https','https://uazapi-plugin.bubbleapps.io/?url=','Processing\x20audio','groupCreate','Selecione','updateBlock','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','URL','/media/','Erro\x20ao\x20editar\x20o\x20chat:\x20','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','password','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','done','):\x20Conversas\x20encontradas:','REDIS_URI','):\x20conversation.status:\x20','bateu\x20events','getMessage','):\x20conversation.lastInteraction:\x20','block','delAll','hGet','status','integer','archiveChat','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','CORS_ORIGIN','DD/MM\x20HH:mm:ss','flowname:\x20','EMAIL','hasOwnProperty','uazapiSendMenu','menuExpiredMessage','certbot','getRandomText','convertaudio','REDIS_ENABLED','findAndReplace','Not\x20Found','sendMessageWithTyping','pollCreationMessageV2','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','dbSettings','writeFileSync','groups_ignore','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','http://ipecho.net/plain','/automate','updateFlowConfig','PORT','del','variables','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','random','\x22\x20cannot\x20be\x20empty','uazapiSendAudio','request\x20received\x20in\x20updateFlowConfig','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','type','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','Message','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','notEqual','StartBot','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','$dbName','Getting\x20profile\x20info','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','resetReconnectionVariables','isBase64','labelId','Error\x20change\x20group\x20setting','listResponseMessage','command','json','website','augusto.fcs@gmail.com','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','All_Instances_Config','[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22','boolean','processgoToFlow','storePath','):\x20teve\x20mudanças\x20chat.archived:\x20','desc','https://','crypto','caption','updateMissingEtiquetas','):\x20Erro\x20durante\x20a\x20atualização:\x20','Erro\x20ao\x20deletar\x20chat:','chats.upsert','ids','writeFile','groups.update','):\x20lastBlockId:\x20','updateCustomFields','createJid','Certbot:\x20','STORE','):\x20updateResult:','ORG:','editflow','\x20after\x20','keys','equal','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','File\x20written\x20to\x20path:\x20','@s.whatsapp.net','#ffc5c7','filter','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','CHATS_UPSERT','rowId','stoppedUntil','AddChatLabel','request\x20received\x20in\x20getAutomateSystem','waitingMenu_ExpiredMessage','dataValidate','scheduleMessages','deleteMessage','/instance/create','menuType','vcard','):\x20nextBlock.uazapi.name','delayChatLabel_RETRY_DELAY_MS','status@broadcast','verifiedName','\x5cd+','errors','\x1b[43m','):\x20teve\x20mudanças\x20chat.displayName:\x20','groupName','\x1b[32m%s\x1b[0m','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','apiName','findAndReplaceRegex','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','updateStatusPrivacy','msgRetryCounterCache','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','goToFlow'];a0_0x175d=function(){return _0x3c3638;};return a0_0x175d();}var oe=class c{constructor(_0x28db15,_0x2be558){const _0x19ac99=a0_0x4cf6e5;this[_0x19ac99(0x40d)]=_0x28db15,this[_0x19ac99(0x276)]=_0x2be558,this[_0x19ac99(0x672)]=new N(c['name']),this['client']=hi(_0x28db15);}set['reference'](_0x59e874){const _0x337efe=a0_0x4cf6e5;this[_0x337efe(0x276)]=_0x59e874;}async[a0_0x4cf6e5(0x41d)](){const _0x922132=a0_0x4cf6e5;try{return await this['client'][_0x922132(0x553)](['keys',this[_0x922132(0x40d)]['PREFIX_KEY']+':*']);}catch(_0x8ed7a0){this[_0x922132(0x672)][_0x922132(0x14e)](_0x8ed7a0);}}async[a0_0x4cf6e5(0x26b)](_0x2d0b33,_0x245ab3){const _0x5cb9c1=a0_0x4cf6e5;try{let _0x3af422=JSON[_0x5cb9c1(0x611)](_0x245ab3,Tt['BufferJSON'][_0x5cb9c1(0x24b)]);return await this[_0x5cb9c1(0x163)][_0x5cb9c1(0x5c4)](this[_0x5cb9c1(0x40d)][_0x5cb9c1(0x84)]+':'+this[_0x5cb9c1(0x276)],_0x2d0b33,_0x3af422);}catch(_0x48ea03){this[_0x5cb9c1(0x672)][_0x5cb9c1(0x14e)](_0x48ea03);}}async[a0_0x4cf6e5(0x356)](){const _0x16e9e8=a0_0x4cf6e5;try{let _0x4d683d=await this[_0x16e9e8(0x163)][_0x16e9e8(0x1c4)](this[_0x16e9e8(0x40d)]['PREFIX_KEY']+':'+this[_0x16e9e8(0x276)]);if(_0x4d683d){for(let _0x2667c1 in _0x4d683d)Object[_0x16e9e8(0x290)]['hasOwnProperty'][_0x16e9e8(0x2f5)](_0x4d683d,_0x2667c1)&&(_0x4d683d[_0x2667c1]=JSON[_0x16e9e8(0x40f)](_0x4d683d[_0x2667c1],Tt['BufferJSON'][_0x16e9e8(0x336)]));return _0x4d683d;}}catch(_0x4241e3){this[_0x16e9e8(0x672)]['error'](_0x4241e3);}}async['readData'](_0x2e7fe8){const _0x37b2b1=a0_0x4cf6e5;try{let _0x2ccddd=await this[_0x37b2b1(0x163)][_0x37b2b1(0x484)](this[_0x37b2b1(0x40d)]['PREFIX_KEY']+':'+this[_0x37b2b1(0x276)],_0x2e7fe8);if(_0x2ccddd)return JSON['parse'](_0x2ccddd,Tt[_0x37b2b1(0x6d0)][_0x37b2b1(0x336)]);}catch(_0x51f61f){this[_0x37b2b1(0x672)][_0x37b2b1(0x14e)](_0x51f61f);}}async[a0_0x4cf6e5(0x2be)](_0x13178c){const _0x1ddb76=a0_0x4cf6e5;try{return await this['client'][_0x1ddb76(0x283)](this[_0x1ddb76(0x40d)][_0x1ddb76(0x84)]+':'+this['instanceName'],_0x13178c);}catch(_0x4f9a6b){this[_0x1ddb76(0x672)][_0x1ddb76(0x14e)](_0x4f9a6b);}}async['delAll'](_0x6f150b){const _0x5439e8=a0_0x4cf6e5;try{return await this[_0x5439e8(0x163)][_0x5439e8(0x4a1)](_0x6f150b||this[_0x5439e8(0x40d)]['PREFIX_KEY']+':'+this[_0x5439e8(0x276)]);}catch(_0x23e199){this[_0x5439e8(0x672)][_0x5439e8(0x14e)](_0x23e199);}}};async function bs(_0x26e561,_0x24e2b6){const _0x271496=a0_0x4cf6e5;let _0x157e2c=new N(bs[_0x271496(0x3ee)]),_0x481850=new oe(_0x26e561,_0x24e2b6),_0x2c5880=async(_0x2c7aba,_0x19bae4)=>{const _0x1369d5=_0x271496;try{return await _0x481850[_0x1369d5(0x26b)](_0x19bae4,_0x2c7aba);}catch(_0x4f9103){return _0x157e2c[_0x1369d5(0x14e)]({'localError':_0x1369d5(0x26b),'error':_0x4f9103});}},_0x25aaac=async _0x19b919=>{const _0x52224b=_0x271496;try{return await _0x481850[_0x52224b(0x76)](_0x19b919);}catch(_0x5390d9){_0x157e2c[_0x52224b(0x14e)]({'readData':_0x52224b(0x26b),'error':_0x5390d9});return;}},_0x57e9c2=async _0x3cd2bd=>{const _0x5d505f=_0x271496;try{return await _0x481850[_0x5d505f(0x2be)](_0x3cd2bd);}catch(_0x2ee802){_0x157e2c[_0x5d505f(0x14e)]({'readData':_0x5d505f(0x2be),'error':_0x2ee802});}},_0x3a42a7=await _0x25aaac(_0x271496(0x285))||(0x0,Ot[_0x271496(0x20e)])();return{'state':{'creds':_0x3a42a7,'keys':{'get':async(_0x43d0e3,_0x5b11b6)=>{const _0xbf7507=_0x271496;let _0x3745ec={};return await Promise[_0xbf7507(0xc8)](_0x5b11b6['map'](async _0x2c6543=>{const _0x577ea1=_0xbf7507;let _0x27e6b6=await _0x25aaac(_0x43d0e3+'-'+_0x2c6543);_0x43d0e3===_0x577ea1(0x5db)&&_0x27e6b6&&(_0x27e6b6=Ot[_0x577ea1(0x168)][_0x577ea1(0x4ab)][_0x577ea1(0x468)][_0x577ea1(0x3bb)](_0x27e6b6)),_0x3745ec[_0x2c6543]=_0x27e6b6;})),_0x3745ec;},'set':async _0x1b5071=>{const _0xa0b362=_0x271496;let _0x59e240=[];for(let _0x4b8fe1 in _0x1b5071)for(let _0x4f3a1d in _0x1b5071[_0x4b8fe1]){let _0x3657a7=_0x1b5071[_0x4b8fe1][_0x4f3a1d],_0x151288=_0x4b8fe1+'-'+_0x4f3a1d;_0x59e240[_0xa0b362(0xc2)](_0x3657a7?await _0x2c5880(_0x3657a7,_0x151288):await _0x57e9c2(_0x151288));}await Promise[_0xa0b362(0xc8)](_0x59e240);}}},'saveCreds':async()=>await _0x2c5880(_0x3a42a7,_0x271496(0x285))};}var L=T(require('fs')),Ce=require('uuid'),Dt=T(require(a0_0x4cf6e5(0x505))),_t=require(a0_0x4cf6e5(0x573)),gi='\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a'[a0_0x4cf6e5(0x2bf)](),At=gi[a0_0x4cf6e5(0x3ad)]('\x0a')[a0_0x4cf6e5(0x2ad)](_0x1043fd=>{const _0x479adb=a0_0x4cf6e5;let _0x57057f=_0x1043fd[_0x479adb(0x3ad)](':'),_0x4e43e6={'host':_0x57057f[0x0],'port':_0x57057f[0x1],'protocol':_0x479adb(0xeb)};return _0x57057f['length']===0x4&&(_0x4e43e6['username']=_0x57057f[0x2],_0x4e43e6[_0x479adb(0x478)]=_0x57057f[0x3]),_0x4e43e6;});function gr(_0x3ea953){const _0x120999=a0_0x4cf6e5;return At[_0x120999(0x531)](_0x2c785a=>_0x2c785a[_0x120999(0x54c)]===_0x3ea953)||null;}function mr(){const _0x16286b=a0_0x4cf6e5;if(At[_0x16286b(0x364)]===0x0)return null;let _0x2d93da=Math[_0x16286b(0x23f)](Math[_0x16286b(0x4a4)]()*At[_0x16286b(0x364)]);return At[_0x2d93da];}function Ss(_0x1f5dda){const _0x23d68b=a0_0x4cf6e5;let _0x54832a=_0x217295=>typeof _0x217295==_0x23d68b(0x407)&&_0x217295[_0x23d68b(0x364)]>0x0,_0x42195d=_0x2cf81a=>{let _0xd7697b=parseInt(_0x2cf81a,0xa);return!isNaN(_0xd7697b)&&_0xd7697b>0x0&&_0xd7697b<=0xffff;},_0x291502=_0x3c47f0=>typeof _0x3c47f0==_0x23d68b(0x407)&&_0x3c47f0['length']>0x0;return _0x1f5dda&&_0x54832a(_0x1f5dda[_0x23d68b(0x54c)])&&_0x42195d(_0x1f5dda[_0x23d68b(0x233)])&&(!_0x1f5dda[_0x23d68b(0x54b)]||_0x291502(_0x1f5dda[_0x23d68b(0x54b)]))&&(!_0x1f5dda[_0x23d68b(0x478)]||_0x291502(_0x1f5dda[_0x23d68b(0x478)]))&&(_0x1f5dda['protocol']==='http'||_0x1f5dda[_0x23d68b(0x2b0)]===_0x23d68b(0x46d));}var vs=require(a0_0x4cf6e5(0x4c5)),Mr=a0_0x4cf6e5(0x2bd),Ns,ne=null,fr=null,Ke=null,mi=0x3,fi=null;async function wi(){const _0x276054=a0_0x4cf6e5;let _0x4efc86=await we[_0x276054(0x2a7)]();ne=_0x4efc86?.['WebhookGlobal']??null,fi=_0x4efc86?.[_0x276054(0x546)]??null,Mr=_0x4efc86?.[_0x276054(0x258)]??'Chrome',Ns=_0x4efc86?.['connectedName']??Rs??'uazapi',console[_0x276054(0x2e6)](_0x276054(0x516)),console[_0x276054(0x2e6)](_0x4efc86);}async function yi(){await wi();}yi();var wr={},te={},ye=class c{constructor(_0x39c7d5,_0xcb905f,_0x2bb85d){const _0x995766=a0_0x4cf6e5;this[_0x995766(0x2e3)]=_0x39c7d5,this[_0x995766(0x338)]=_0xcb905f,this['repository']=_0x2bb85d,this[_0x995766(0x167)]=null,this[_0x995766(0x672)]=new N(c[_0x995766(0x3ee)]),this[_0x995766(0x5a3)]={},this[_0x995766(0x514)]={},this[_0x995766(0x572)]={'state':_0x995766(0x607)},this[_0x995766(0x4c1)]=(0x0,j['join'])(re,_0x995766(0x93)),this['msgRetryCounterCache']=new Cs[(_0x995766(0xb2))](),this['userDevicesCache']=new Cs[(_0x995766(0xb2))](),this[_0x995766(0x669)]=!0x1,this['webhookMap']={'status.instance':_0x995766(0x555),'qrcode.updated':_0x995766(0x1a6),'messages.upsert':_0x995766(0x1c2),'messages.update':_0x995766(0x20f),'send.message':_0x995766(0x1c2),'group.upsert':_0x995766(0x609),'group.update':_0x995766(0x609),'group-participants.update':_0x995766(0x609),'connection.update':_0x995766(0x555),'messages.set':_0x995766(0x1c2),'contacts.set':_0x995766(0x651),'contacts.upsert':_0x995766(0x651),'contacts.update':_0x995766(0x651),'presence.update':_0x995766(0x19c),'chats.set':_0x995766(0x110),'chats.update':_0x995766(0x110),'chats.upsert':_0x995766(0x110),'chats.delete':_0x995766(0x110)},this['reconnectAttempts']=0x0,this[_0x995766(0x69d)]=[],this['MAX_RECONNECT_ATTEMPTS']=0xa,this['RECONNECT_TIME_FRAME']=0xea60,this[_0x995766(0x622)]=!0x1,this[_0x995766(0x5b0)]={'chats.upsert':async(_0x91e27b,_0x528b0d)=>{const _0x5ec36d=_0x995766;let _0x2015fe=[];for await(let _0x6e9a01 of _0x91e27b)_0x2015fe[_0x5ec36d(0xc2)]({'_id':_0x6e9a01['id'],'owner':this['instance'][_0x5ec36d(0x6ce)],'group':_0x6e9a01['id']['endsWith'](_0x5ec36d(0x196)),'name':_0x6e9a01[_0x5ec36d(0x3ee)]||_0x6e9a01[_0x5ec36d(0x64a)]||null,'contactname':null,'lastmsg':_0x6e9a01[_0x5ec36d(0x29c)]&&_0x6e9a01['conversationTimestamp'][_0x5ec36d(0x69a)]()[_0x5ec36d(0x364)]<0xd?_0x6e9a01['conversationTimestamp']*0x3e8:_0x6e9a01[_0x5ec36d(0x29c)]||null,'archived':_0x6e9a01[_0x5ec36d(0x412)]||!0x1,'unreadcount':_0x6e9a01['unreadCount']||0x0});this[_0x5ec36d(0x402)]('chats.upsert',_0x2015fe);},'chats.update':async(_0x1c5b38,_0x31de6c)=>{const _0x3cfbad=_0x995766;for(let _0x2f79d9 of _0x1c5b38){let _0x807552={'_id':_0x2f79d9['id'],'owner':this[_0x3cfbad(0x5a3)]['wuid'],'group':_0x2f79d9['id'][_0x3cfbad(0x115)](_0x3cfbad(0x196)),'name':_0x2f79d9[_0x3cfbad(0x3ee)]||_0x2f79d9[_0x3cfbad(0x64a)],'archived':_0x2f79d9[_0x3cfbad(0x412)],'ephemeralExpiration':_0x2f79d9[_0x3cfbad(0x181)]},_0x45d3f0=!0x1,_0x466e66={};_0x807552[_0x3cfbad(0x412)]!=null&&(this[_0x3cfbad(0x672)][_0x3cfbad(0x1f7)](this[_0x3cfbad(0x276)]+'\x20('+this[_0x3cfbad(0x5a3)][_0x3cfbad(0x6ce)]+_0x3cfbad(0x4c2)+_0x2f79d9[_0x3cfbad(0x412)]),_0x45d3f0=!0x0,_0x466e66['archived']=_0x2f79d9[_0x3cfbad(0x412)]),_0x2f79d9[_0x3cfbad(0x3ee)]!=null&&(this[_0x3cfbad(0x672)]['verbose'](this[_0x3cfbad(0x276)]+'\x20('+this['instance'][_0x3cfbad(0x6ce)]+'):\x20teve\x20mudanças\x20chat.name:\x20'+_0x2f79d9[_0x3cfbad(0x3ee)]),_0x45d3f0=!0x0,_0x466e66['name']=_0x2f79d9[_0x3cfbad(0x3ee)]),_0x2f79d9['displayName']!=null&&(this['logger']['verbose'](this[_0x3cfbad(0x276)]+'\x20('+this['instance']['wuid']+_0x3cfbad(0x4f2)+_0x2f79d9[_0x3cfbad(0x64a)]),_0x45d3f0=!0x0,_0x466e66[_0x3cfbad(0x3ee)]=_0x2f79d9[_0x3cfbad(0x64a)]);let _0x1d3500;_0x45d3f0&&(_0x1d3500=await this[_0x3cfbad(0x79)][_0x3cfbad(0x51b)][_0x3cfbad(0x376)]({'where':{'_id':_0x2f79d9['id']}},_0x466e66,this[_0x3cfbad(0x5a3)][_0x3cfbad(0x6ce)])),_0x1d3500&&q(this['instanceName'],_0x3cfbad(0x35a),{'chat':_0x1d3500});}},'chats.delete':async _0x16d041=>{const _0x583bac=_0x995766;this['sendDataWebhook'](_0x583bac(0x382),[..._0x16d041]);}},this[_0x995766(0x228)]={'contacts.upsert':async(_0x364865,_0x2e62e6)=>{const _0x13d160=_0x995766;let _0x3b88c1=await this[_0x13d160(0x79)][_0x13d160(0x294)][_0x13d160(0x531)]({'where':{}},this[_0x13d160(0x5a3)][_0x13d160(0x6ce)]),_0x4f7cbd=[];for await(let _0x5b3a78 of _0x364865)_0x3b88c1['find'](_0x43eb98=>_0x43eb98[_0x13d160(0x637)]===_0x5b3a78['id'])||_0x4f7cbd['push']({'_id':_0x5b3a78['id'],'pushName':_0x5b3a78?.[_0x13d160(0x3ee)]||_0x5b3a78?.[_0x13d160(0x4ee)],'owner':this[_0x13d160(0x5a3)]['wuid']});this[_0x13d160(0x402)](_0x13d160(0x548),_0x4f7cbd),await this[_0x13d160(0x79)]['contact'][_0x13d160(0x359)](_0x4f7cbd);},'contacts.update':async(_0x276e62,_0x34a068)=>{const _0x3a1707=_0x995766;let _0x5d1616=[];for await(let _0x2e83a3 of _0x276e62)_0x5d1616[_0x3a1707(0xc2)]({'_id':_0x2e83a3['id'],'pushName':_0x2e83a3?.[_0x3a1707(0x3ee)]??_0x2e83a3?.['verifiedName'],'owner':this[_0x3a1707(0x5a3)]['wuid']});this['sendDataWebhook'](_0x3a1707(0xbd),_0x5d1616);}},this[_0x995766(0x1be)]={'messaging-history.set':async({messages:_0x48b90e,chats:_0x2e270f,isLatest:_0x8e2474},_0x374476)=>{const _0x4cc8bd=_0x995766;if(_0x8e2474){let _0x22e802=await Promise[_0x4cc8bd(0xc8)](_0x2e270f[_0x4cc8bd(0x2ad)](async _0x164d36=>({'_id':_0x164d36['id'],'owner':this['instance'][_0x4cc8bd(0x6ce)],'group':_0x164d36['id']['endsWith'](_0x4cc8bd(0x196)),'name':_0x164d36[_0x4cc8bd(0x3ee)]||_0x164d36[_0x4cc8bd(0x64a)]||null,'contactname':null,'lastmsg':_0x164d36['conversationTimestamp']&&_0x164d36[_0x4cc8bd(0x29c)][_0x4cc8bd(0x69a)]()[_0x4cc8bd(0x364)]<0xd?_0x164d36[_0x4cc8bd(0x29c)]*0x3e8:_0x164d36[_0x4cc8bd(0x29c)]||null,'archived':_0x164d36['archived']||!0x1,'unreadcount':_0x164d36[_0x4cc8bd(0x28f)]||0x0})));this['sendDataWebhook'](_0x4cc8bd(0x5a7),_0x22e802),await this[_0x4cc8bd(0xd3)](_0x22e802,_0x374476);}let _0x46ed49=[],_0x506500=Date[_0x4cc8bd(0x5a1)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x43909b]of Object[_0x4cc8bd(0xc5)](_0x48b90e)){if(_0x43909b[_0x4cc8bd(0x251)]?.['protocolMessage']||_0x43909b[_0x4cc8bd(0x251)]?.[_0x4cc8bd(0x29d)]||!_0x43909b[_0x4cc8bd(0x251)]||_0x43909b[_0x4cc8bd(0x5bd)]['remoteJid']===_0x4cc8bd(0x4ed)||(Ms[_0x4cc8bd(0xb2)][_0x4cc8bd(0x618)](_0x43909b?.[_0x4cc8bd(0x6b7)])&&(_0x43909b['messageTimestamp']=_0x43909b[_0x4cc8bd(0x6b7)]?.[_0x4cc8bd(0x547)]()),_0x43909b[_0x4cc8bd(0x6b7)]&&_0x43909b[_0x4cc8bd(0x6b7)][_0x4cc8bd(0x69a)]()['length']<0xd&&(_0x43909b[_0x4cc8bd(0x6b7)]=_0x43909b[_0x4cc8bd(0x6b7)]*0x3e8),_0x43909b[_0x4cc8bd(0x6b7)]<_0x506500))continue;let _0x3c999f=(0x0,g[_0x4cc8bd(0x401)])(_0x43909b[_0x4cc8bd(0x251)]),_0x512c1c=(0x0,g[_0x4cc8bd(0x552)])(_0x3c999f),{message_normalized:_0x5e4763}=this[_0x4cc8bd(0x1df)](_0x3c999f,_0x512c1c,null);Object['keys'](_0x5e4763)[_0x4cc8bd(0x364)]>0x0&&_0x46ed49[_0x4cc8bd(0xc2)]({'_id':_0x43909b['key']['id'],'key':_0x43909b[_0x4cc8bd(0x5bd)],'pushName':_0x43909b[_0x4cc8bd(0x3e9)],'participant':_0x43909b[_0x4cc8bd(0xdc)],'message':_0x3c999f,'messageType':_0x512c1c,'message_normalized':{'key':_0x43909b['key'],'pushName':_0x43909b[_0x4cc8bd(0x3e9)],'messageTimestamp':_0x43909b[_0x4cc8bd(0x6b7)],..._0x5e4763},'messageTimestamp':_0x43909b[_0x4cc8bd(0x6b7)],'owner':this[_0x4cc8bd(0x5a3)]['wuid']});}_0x374476[_0x4cc8bd(0x693)]&&_0x46ed49[_0x4cc8bd(0x364)]>0x0&&(this[_0x4cc8bd(0x672)][_0x4cc8bd(0x1f7)](this[_0x4cc8bd(0x276)]+'\x20('+this[_0x4cc8bd(0x5a3)][_0x4cc8bd(0x6ce)]+_0x4cc8bd(0xf9)+_0x46ed49['length']+_0x4cc8bd(0x213)+this[_0x4cc8bd(0x5a3)]['wuid']+_0x4cc8bd(0x2c5)),await this[_0x4cc8bd(0x79)][_0x4cc8bd(0x251)][_0x4cc8bd(0x359)]([..._0x46ed49],this[_0x4cc8bd(0x5a3)]['wuid'])),this[_0x4cc8bd(0x402)](_0x4cc8bd(0x50d),[..._0x46ed49]),_0x48b90e=void 0x0;},'messages.upsert':async({messages:_0xd00b77,type:_0x2ef611},_0x18470a)=>{const _0x1583ad=_0x995766;let _0x1d665c=_0xd00b77[0x0],_0x3f4a8d=_0x1d665c['key']['id'],_0x1d4c15=_0x1d665c[_0x1583ad(0x378)]===0x2,_0x4da037=0x6;if(this[_0x1583ad(0x514)]?.['groups_ignore']&&_0x1d665c[_0x1583ad(0x5bd)]['remoteJid']['includes'](_0x1583ad(0x196))){this[_0x1583ad(0x672)][_0x1583ad(0x1f7)](this[_0x1583ad(0x276)]+'\x20('+this[_0x1583ad(0x5a3)][_0x1583ad(0x6ce)]+_0x1583ad(0x3ca));return;}if(_0x1d4c15){if(te[_0x3f4a8d]||(te[_0x3f4a8d]=0x0),te[_0x3f4a8d]++,this[_0x1583ad(0x672)]['error'](this[_0x1583ad(0x276)]+'\x20('+this[_0x1583ad(0x5a3)][_0x1583ad(0x6ce)]+'):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid='+_0x1d665c[_0x1583ad(0x5bd)][_0x1583ad(0x373)]+_0x1583ad(0x675)+_0x3f4a8d+':\x20'+te[_0x3f4a8d]+'/'+_0x4da037),te[_0x3f4a8d]>=_0x4da037){this[_0x1583ad(0x672)][_0x1583ad(0x14e)](this[_0x1583ad(0x276)]+'\x20('+this[_0x1583ad(0x5a3)][_0x1583ad(0x6ce)]+'):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid='+_0x1d665c[_0x1583ad(0x5bd)][_0x1583ad(0x373)]+_0x1583ad(0x675)+_0x3f4a8d+'.');let _0x326e9b={'key':{..._0x1d665c[_0x1583ad(0x5bd)]},'message':{'conversation':_0x1583ad(0x4be)+_0x3f4a8d+_0x1583ad(0x59c)}};_0x1d665c[_0x1583ad(0x5bd)][_0x1583ad(0x373)][_0x1583ad(0x1bd)]('@s.whatsapp.net')&&this[_0x1583ad(0x163)]['ev']['emit'](_0x1583ad(0x3d4),{'messages':[_0x326e9b],'type':_0x1583ad(0x50e)}),delete te[_0x3f4a8d];}}else te[_0x3f4a8d]&&(this[_0x1583ad(0x672)][_0x1583ad(0xb5)](_0x1583ad(0x310)+te[_0x3f4a8d]+'\x20tentativas:\x20remotejid='+_0x1d665c[_0x1583ad(0x5bd)][_0x1583ad(0x373)]+_0x1583ad(0x675)+_0x3f4a8d),delete te[_0x3f4a8d]);if(_0x2ef611!==_0x1583ad(0x50e)||!_0x1d665c?.[_0x1583ad(0x251)]||_0x1d665c[_0x1583ad(0x251)]?.[_0x1583ad(0x391)]||_0x1d665c[_0x1583ad(0x251)][_0x1583ad(0x29d)]||_0x1d665c[_0x1583ad(0x5bd)][_0x1583ad(0x373)]===_0x1583ad(0x4ed))return;let _0x115464=null,_0x486ac2=null;try{_0x115464=await this['processPollUpdateMessage'](_0x1d665c),_0x486ac2=_0x115464?_0x115464[_0x1583ad(0x52f)](','):null;}catch(_0x385365){this['logger'][_0x1583ad(0x1f7)](this['instanceName']+'\x20('+this['instance'][_0x1583ad(0x6ce)]+_0x1583ad(0xf9)+(_0x385365 instanceof Error?_0x385365['message']:JSON[_0x1583ad(0x611)](_0x385365,null,0x2))),_0x486ac2=_0x1583ad(0x24a);}this[_0x1583ad(0x163)][_0x1583ad(0x1d5)]('unavailable'),Ms[_0x1583ad(0xb2)]['isLong'](_0x1d665c[_0x1583ad(0x6b7)])&&(_0x1d665c[_0x1583ad(0x6b7)]=_0x1d665c['messageTimestamp']?.[_0x1583ad(0x547)]()),_0x1d665c[_0x1583ad(0x6b7)]&&_0x1d665c[_0x1583ad(0x6b7)][_0x1583ad(0x69a)]()['length']<0xd&&(_0x1d665c[_0x1583ad(0x6b7)]=_0x1d665c[_0x1583ad(0x6b7)]*0x3e8);let _0x3530d6=_0x1d665c['message'],_0x34a7fc=(0x0,g[_0x1583ad(0x401)])(_0x3530d6),_0x168da0=(0x0,g[_0x1583ad(0x552)])(_0x34a7fc),{messageContent:_0x12fb77,message_normalized:_0x59a1ce}=this['normalizeMessage'](_0x34a7fc,_0x168da0,_0x486ac2);_0x168da0===_0x1583ad(0x391)&&_0x12fb77?.['editedMessage']&&(_0x168da0=_0x1583ad(0x5bf));let _0x47e300={'_id':_0x1d665c['key']['id'],'key':_0x1d665c['key'],'pushName':_0x1d665c[_0x1583ad(0x3e9)],'message':_0x34a7fc,'messageType':_0x168da0,'message_normalized':{'key':_0x1d665c[_0x1583ad(0x5bd)],'pushName':_0x1d665c[_0x1583ad(0x3e9)],'messageTimestamp':_0x1d665c[_0x1583ad(0x6b7)],'source':(0x0,g[_0x1583ad(0x1a9)])(_0x1d665c['key']['id']),..._0x59a1ce},'messageTimestamp':_0x1d665c[_0x1583ad(0x6b7)],'owner':this['instance'][_0x1583ad(0x6ce)],'source':(0x0,g['getDevice'])(_0x1d665c[_0x1583ad(0x5bd)]['id'])};_0x12fb77||(console['error'](_0x1583ad(0x63f)),this['logger'][_0x1583ad(0x14e)](_0x47e300)),this[_0x1583ad(0x672)]['log'](this[_0x1583ad(0x276)]+'\x20('+this[_0x1583ad(0x5a3)][_0x1583ad(0x6ce)]+_0x1583ad(0xf9)+(_0x47e300['key']?.[_0x1583ad(0x302)]?_0x1583ad(0x51f):'recebido\x20de')+'\x20['+_0x47e300[_0x1583ad(0x5bd)]?.[_0x1583ad(0x373)][_0x1583ad(0x5fe)](_0x1583ad(0x4db),'')+_0x1583ad(0x6be)+_0x47e300[_0x1583ad(0x5fd)]+')'),_0x47e300[_0x1583ad(0x3ec)]?.[_0x1583ad(0x118)]&&this['logger'][_0x1583ad(0x2e6)](_0x3f4a8d+':\x20'+_0x47e300[_0x1583ad(0x3ec)]?.[_0x1583ad(0x118)]),await this[_0x1583ad(0x79)][_0x1583ad(0x251)][_0x1583ad(0x359)]([_0x47e300],this[_0x1583ad(0x5a3)][_0x1583ad(0x6ce)]),this[_0x1583ad(0x402)](_0x1583ad(0x3d4),_0x47e300),q(this[_0x1583ad(0x276)],'messages',{'message':_0x47e300}),_0x1d665c[_0x1583ad(0x5bd)][_0x1583ad(0x373)]!==_0x1583ad(0x4ed)&&await this[_0x1583ad(0x41c)](_0x18470a,_0x47e300,_0x1583ad(0x33b));},'messages.update':async(_0x5ac7a9,_0x36fb02)=>{const _0x180380=_0x995766;let _0x72fafc={0x0:_0x180380(0x5f0),0x1:'PENDING',0x2:'SERVER_ACK',0x3:_0x180380(0xcd),0x4:'READ',0x5:_0x180380(0x295)};for await(let {key:_0x1c6007,update:_0x3d8c81}of _0x5ac7a9){if(this[_0x180380(0x514)]?.[_0x180380(0x49b)]&&_0x1c6007[_0x180380(0x373)][_0x180380(0x1bd)](_0x180380(0x196))){this[_0x180380(0x672)][_0x180380(0x1f7)](this[_0x180380(0x276)]+'\x20('+this[_0x180380(0x5a3)][_0x180380(0x6ce)]+_0x180380(0x621));return;}if(_0x1c6007['remoteJid']!=='status@broadcast'){let _0xdfcba5=Date['now'](),_0x29c583;_0x3d8c81[_0x180380(0x251)]===null&&_0x3d8c81['status']===void 0x0?_0x29c583='DELETED':_0x29c583=_0x72fafc[_0x3d8c81[_0x180380(0x485)]];let _0x302919=_0x1c6007[_0x180380(0x373)][_0x180380(0x5fe)](/:\d{1,2}@/g,'@'),_0x2af96a={..._0x1c6007,'remoteJid':_0x302919,'status':_0x29c583,'datetime':_0xdfcba5,'owner':this[_0x180380(0x5a3)][_0x180380(0x6ce)]};this[_0x180380(0x402)](_0x180380(0x5f1),_0x2af96a),await this[_0x180380(0x201)](_0x1c6007,_0x2af96a);}}},'labels.association':async({type:_0x59e811,association:_0x42cc06})=>{const _0xea9cdf=_0x995766;if(_0x42cc06[_0xea9cdf(0x4a9)]===_0xea9cdf(0x318)){let _0x5f0da8,_0x19c3c2=0x0;for(;!_0x5f0da8&&_0x19c3c2<this[_0xea9cdf(0x311)];)_0x5f0da8=await this[_0xea9cdf(0x79)][_0xea9cdf(0x51b)][_0xea9cdf(0x2a7)]({'where':{'_id':_0x42cc06[_0xea9cdf(0x416)]}},this[_0xea9cdf(0x5a3)][_0xea9cdf(0x6ce)]),_0x5f0da8||(_0x19c3c2++,console[_0xea9cdf(0x2e6)](_0xea9cdf(0x464)+_0x42cc06[_0xea9cdf(0x416)]+_0xea9cdf(0x5fa)+this[_0xea9cdf(0x4ec)]+_0xea9cdf(0x1f1)+_0x19c3c2+'/'+this[_0xea9cdf(0x311)]+')'),await this[_0xea9cdf(0x223)](this[_0xea9cdf(0x4ec)]));if(!_0x5f0da8){console[_0xea9cdf(0x14e)](_0xea9cdf(0x8c)+_0x42cc06[_0xea9cdf(0x416)]+_0xea9cdf(0x4d6)+this['delayChatLabel_MAX_RETRIES']+_0xea9cdf(0x36f));return;}switch(_0x59e811){case'add':console[_0xea9cdf(0x2e6)](_0x42cc06),await this[_0xea9cdf(0x79)]['chat'][_0xea9cdf(0x376)]({'where':{'_id':_0x42cc06[_0xea9cdf(0x416)]}},{'leadInfo.etiquetas':_0x42cc06[_0xea9cdf(0x4b5)]},this[_0xea9cdf(0x5a3)]['wuid'],void 0x0,_0xea9cdf(0x348));break;case _0xea9cdf(0x31f):console[_0xea9cdf(0x2e6)](_0x42cc06),await this[_0xea9cdf(0x79)][_0xea9cdf(0x51b)][_0xea9cdf(0x376)]({'where':{'_id':_0x42cc06[_0xea9cdf(0x416)]}},{'leadInfo.etiquetas':_0x42cc06[_0xea9cdf(0x4b5)]},this[_0xea9cdf(0x5a3)]['wuid'],void 0x0,_0xea9cdf(0x67f));break;default:console[_0xea9cdf(0x14e)](_0xea9cdf(0x6a6)+_0x59e811+']');}}},'labels.edit':async _0x1dc0a0=>{const _0x221eea=_0x995766;if(!_0x1dc0a0||!_0x1dc0a0['id']){console[_0x221eea(0x14e)](_0x221eea(0x43c));return;}if(!_0x1dc0a0[_0x221eea(0x19a)]){let _0x380e13=['#ff9484',_0x221eea(0x523),_0x221eea(0x6b6),_0x221eea(0x6dd),'#9ab6c1',_0x221eea(0x24e),'#fe9dfe',_0x221eea(0x13d),'#6f7bcf','#d8e651','#01d0e2',_0x221eea(0x4dc),_0x221eea(0x659),_0x221eea(0x400),_0x221eea(0xcf),_0x221eea(0x657),'#ffae04','#b4ebff',_0x221eea(0x89),'#9568cf'],_0x389f25;typeof _0x1dc0a0['color']==_0x221eea(0x344)&&_0x1dc0a0[_0x221eea(0x45f)]>=0x0&&_0x1dc0a0['color']<_0x380e13[_0x221eea(0x364)]?_0x389f25=_0x380e13[_0x1dc0a0['color']]:(console[_0x221eea(0x14e)](_0x221eea(0x4aa),_0x1dc0a0[_0x221eea(0x45f)]),_0x389f25=_0x221eea(0x200));let _0x2bcd93={'_id':_0x1dc0a0['id'],'colorHex':_0x389f25,'color':_0x1dc0a0?.[_0x221eea(0x45f)],'name':_0x1dc0a0?.[_0x221eea(0x3ee)],'owner':this[_0x221eea(0x5a3)][_0x221eea(0x6ce)]};await this[_0x221eea(0x79)][_0x221eea(0x60b)][_0x221eea(0x376)]({'where':{'_id':_0x1dc0a0['id']}},_0x2bcd93,this[_0x221eea(0x5a3)][_0x221eea(0x6ce)]),console[_0x221eea(0x2e6)](_0x221eea(0x370),_0x1dc0a0);}_0x1dc0a0[_0x221eea(0x19a)]&&(await this[_0x221eea(0x79)][_0x221eea(0x60b)][_0x221eea(0xff)]({'where':{'_id':_0x1dc0a0['id']}},this['instance'][_0x221eea(0x6ce)]),console[_0x221eea(0x2e6)]('Rótulo\x20deletado:',_0x1dc0a0['id']));}},this[_0x995766(0x14f)]={'groups.upsert':_0x24f033=>{const _0x2115ab=_0x995766;this[_0x2115ab(0x402)](_0x2115ab(0x3ce),_0x24f033);},'groups.update':_0x49d470=>{const _0x330023=_0x995766;this[_0x330023(0x402)]('groups.update',_0x49d470);},'group-participants.update':_0x2e1d0b=>{this['sendDataWebhook']('group-participants.update',_0x2e1d0b);}},this[_0x995766(0x311)]=0x5,this['delayChatLabel_RETRY_DELAY_MS']=0x1388,this[_0x995766(0x36d)]=async _0x3c78aa=>{const _0x3d9021=_0x995766;if(_0x3c78aa[_0x3d9021(0x251)]?.[_0x3d9021(0x639)]){let _0x18fc1a=await this[_0x3d9021(0x480)](_0x3c78aa['message']['pollUpdateMessage'][_0x3d9021(0x3eb)],!0x0);if(_0x18fc1a){let _0x4627b3=_0x18fc1a[_0x3d9021(0x5bd)][_0x3d9021(0x302)]?this['instance']['wuid']+_0x3d9021(0x4db):_0x18fc1a[_0x3d9021(0x5bd)][_0x3d9021(0xdc)]||_0x18fc1a[_0x3d9021(0x5bd)][_0x3d9021(0x373)],_0x3b681c=_0x18fc1a[_0x3d9021(0x5bd)]['id'],_0xfc8999=_0x18fc1a[_0x3d9021(0x251)],_0x2cb904=Buffer[_0x3d9021(0x647)](_0xfc8999[_0x3d9021(0x5b2)]['messageSecret']['toString'](_0x3d9021(0x64e)),_0x3d9021(0x64e)),_0x5ebb24=(0x0,g[_0x3d9021(0x429)])(_0x3c78aa['message']['pollUpdateMessage']['vote'],{'pollCreatorJid':_0x4627b3,'pollMsgId':_0x3b681c,'pollEncKey':_0x2cb904,'voterJid':_0x3c78aa[_0x3d9021(0x5bd)][_0x3d9021(0x302)]?this[_0x3d9021(0x5a3)]['wuid']+_0x3d9021(0x4db):_0x3c78aa[_0x3d9021(0x5bd)]['remoteJid']['endsWith'](_0x3d9021(0x1e0))?_0x3c78aa[_0x3d9021(0x5bd)]['participant']:_0x3c78aa[_0x3d9021(0x5bd)][_0x3d9021(0x373)]}),_0x430250=[],_0x122837=_0x5ebb24[_0x3d9021(0xca)][_0x3d9021(0x2ad)](_0x547503=>Buffer[_0x3d9021(0x647)](_0x547503)[_0x3d9021(0x69a)](_0x3d9021(0x64e)));for(let {optionName:_0x3cf09b}of _0xfc8999[_0x3d9021(0x194)]?.[_0x3d9021(0x254)]||_0xfc8999[_0x3d9021(0x343)]?.['options']||_0xfc8999[_0x3d9021(0x497)]?.['options'])_0x122837[_0x3d9021(0x592)]((0x0,g[_0x3d9021(0x1d9)])(Buffer[_0x3d9021(0x647)](_0x3cf09b))['toString']('hex'))>-0x1&&_0x430250[_0x3d9021(0xc2)](_0x3cf09b);return _0x430250;}}return null;},this[_0x995766(0x1df)]=(_0x22417b,_0xf74e01,_0x407e1c)=>{const _0x8f83d6=_0x995766;try{let _0x528696=_0x22417b?(0x0,g[_0x8f83d6(0x2c9)])(_0x22417b)[_0xf74e01]:void 0x0,_0x2f8b86={},_0x2a9413=null,_0x2b5dbf=null,_0x7e4464=null;_0xf74e01===_0x8f83d6(0x391)&&_0x528696?.['editedMessage']&&(_0xf74e01=(0x0,g[_0x8f83d6(0x552)])(_0x528696[_0x8f83d6(0x5bf)]),_0x2a9413=_0x22417b[_0x8f83d6(0x391)][_0x8f83d6(0x5bd)]['id'],_0x528696=_0x22417b[_0x8f83d6(0x391)]['editedMessage'][_0xf74e01]),_0x22417b[_0xf74e01]?.['contextInfo']?.[_0x8f83d6(0x50b)]&&_0x22417b[_0xf74e01]?.['contextInfo']?.[_0x8f83d6(0x204)]&&(_0x2b5dbf=_0x22417b[_0xf74e01][_0x8f83d6(0x2ba)]['stanzaId']),_0x22417b[_0x8f83d6(0x74)]&&(_0x7e4464=_0x22417b[_0x8f83d6(0x74)]['key']['id']);let _0x43dab1;if(_0x528696&&typeof _0x528696==_0x8f83d6(0x224)&&_0x8f83d6(0x3eb)in _0x528696&&({pollCreationMessageKey:_0x43dab1}=_0x528696),_0xf74e01===_0x8f83d6(0x194)||_0xf74e01===_0x8f83d6(0x497)||_0xf74e01===_0x8f83d6(0x343)){let _0x4c163c=_0x528696[_0x8f83d6(0x254)][_0x8f83d6(0x2ad)](_0x23e1cb=>_0x23e1cb[_0x8f83d6(0x59a)])[_0x8f83d6(0x52f)]('|');_0x2f8b86[_0x8f83d6(0x248)]=_0x4c163c;}let _0x44b712='';if(_0x528696&&(_0x44b712+=_0x528696[_0x8f83d6(0x3ee)]?_0x528696[_0x8f83d6(0x3ee)]:'',_0x44b712+=_0x528696[_0x8f83d6(0x4c6)]?'\x20'+_0x528696[_0x8f83d6(0x4c6)]:'',_0x44b712+=_0x528696[_0x8f83d6(0x662)]?'\x20'+_0x528696[_0x8f83d6(0x662)]:'',_0x44b712+=_0x528696[_0x8f83d6(0x64a)]?'\x20'+_0x528696[_0x8f83d6(0x64a)]:''),_0xf74e01===_0x8f83d6(0x6d5)){_0x44b712=(_0x528696['title']||'')+'\x0a'+(_0x528696[_0x8f83d6(0xd5)]||'')+'\x0a'+(_0x528696[_0x8f83d6(0xe1)]||'');let _0x3bb083=this[_0x8f83d6(0x5b7)](_0x528696[_0x8f83d6(0x35d)]);_0x2f8b86['convertedOptions']=_0x3bb083;}if(_0xf74e01===_0x8f83d6(0x4b7)&&(_0x407e1c=_0x528696[_0x8f83d6(0x542)]),_0x528696&&_0x528696[_0x8f83d6(0x4ea)]){let _0x513ef7=this['formatVCard'](JSON[_0x8f83d6(0x611)](_0x528696[_0x8f83d6(0x4ea)],null,0x2));_0x44b712=_0x44b712+'\x0a'+_0x513ef7;}if(_0x528696){let {sections:_0x6ec9f0,listType:_0x25f284,displayName:_0x14378c,vcard:_0x2242a6,contactVcard:_0x321049,name:_0x53e403,caption:_0x3e2f00,conversation:_0x346859,pollCreationMessageKey:_0x501647,footerText:_0x478b6a,contentText:_0x48ff83,pageCount:_0x5d866f,headerType:_0x215983,isAvatar:_0x5c8a37,isAnimated:_0x15ca5c,fallbackLc:_0x450255,fallbackLg:_0x5d599a,namespace:_0x49acb8,elementName:_0x189ce2,localizableParams:_0x1bac36,viewOnce:_0x5b95a6,height:_0x66f20e,width:_0xb8e7e6,key:_0x29c157,firstScanLength:_0x5676dc,firstScanSidecar:_0xe51d94,gifPlayback:_0xc9e816,gifAttribution:_0x3c5f14,midQualityFileSha256:_0x3b16c7,scansSidecar:_0x21e0f7,streamingSidecar:_0x11647e,thumbnailHeight:_0x4fb593,thumbnailWidth:_0x5c1b70,thumbnailEncSha256:_0x9f88f6,thumbnailDirectPath:_0x164ba8,canonicalUrl:_0x1de74a,matchedText:_0x61bacf,previewType:_0x35a5fe,thumbnailSha256:_0x23799b,deviceListMetadataVersion:_0x166272,inviteLinkGroupTypeV2:_0x30949f,interactiveAnnotations:_0x4a8b2d,scanLengths:_0xf491d6,jpegThumbnail:_0x384299,url:_0x140e30,mediaKeyTimestamp:_0x2d0f03,waveform:_0x29d11f,stickerSentTs:_0x2b9627,firstFrameLength:_0x5de11c,fileEncSha256:_0x53301f,contextInfo:_0x4436bf,firstFrameSidecar:_0x5eb1ae,directPath:_0x5cdea0,fileSha256:_0xb0b765,mediaKey:_0x236b80,senderTimestampMs:_0x2254f4,..._0xdaa0f}=_0x528696;(_0xf74e01===_0x8f83d6(0x6d5)||_0xf74e01===_0x8f83d6(0x4b7))&&(delete _0xdaa0f[_0x8f83d6(0x542)],delete _0xdaa0f[_0x8f83d6(0xd5)]),typeof _0x528696==_0x8f83d6(0x407)?_0x2f8b86={'text':_0x528696,'type':_0xf74e01||_0x8f83d6(0x662),..._0x2a9413&&{'edited':_0x2a9413},..._0x2b5dbf&&{'quoted':_0x2b5dbf},..._0x7e4464&&{'reaction':_0x7e4464}}:_0x2f8b86={'text':_0x44b712,..._0xdaa0f,..._0xf74e01==='pollUpdateMessage'?{'poll_id':_0x528696[_0x8f83d6(0x3eb)]['id'],'quoted':_0x528696['pollCreationMessageKey']['id'],'vote':_0x407e1c}:{},..._0xf74e01===_0x8f83d6(0x4b7)?{'vote':_0x407e1c}:{},'type':_0xf74e01,..._0x2a9413&&{'edited':_0x2a9413},..._0x2b5dbf&&{'quoted':_0x2b5dbf},..._0x7e4464&&{'reaction':_0x7e4464},...(_0xf74e01==='pollCreationMessage'||_0xf74e01===_0x8f83d6(0x497)||_0xf74e01===_0x8f83d6(0x343)||_0xf74e01===_0x8f83d6(0x6d5))&&{'convertedOptions':_0x2f8b86[_0x8f83d6(0x248)]}};}return{'messageType':_0xf74e01,'messageContent':_0x528696,'message_normalized':_0x2f8b86};}catch(_0x48f99b){return console[_0x8f83d6(0x14e)](_0x8f83d6(0x6ac),_0x48f99b),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x995766(0x541)](),this[_0x995766(0x5a3)][_0x995766(0x62a)]={'count':0x0},this[_0x995766(0x5a3)][_0x995766(0x77)]={'isConnected':!0x1,'delayMessage':0x0,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0x4cf6e5(0x276)](_0x1f0cc8){const _0x306d3c=a0_0x4cf6e5;if(!_0x1f0cc8){this[_0x306d3c(0x5a3)][_0x306d3c(0x3ee)]=(0x0,br['v4'])();return;}this[_0x306d3c(0x5a3)][_0x306d3c(0x3ee)]=_0x1f0cc8,this[_0x306d3c(0x402)](_0x306d3c(0x303),{'instance':this[_0x306d3c(0x5a3)][_0x306d3c(0x3ee)],'status':_0x306d3c(0x698)});}get[a0_0x4cf6e5(0x276)](){const _0x2b2871=a0_0x4cf6e5;return this[_0x2b2871(0x5a3)][_0x2b2871(0x3ee)];}get['wuid'](){const _0x5b444c=a0_0x4cf6e5;return this[_0x5b444c(0x5a3)][_0x5b444c(0x6ce)];}async['getProfileName'](){const _0x45cc33=a0_0x4cf6e5;let _0x322926=this[_0x45cc33(0x163)][_0x45cc33(0x5b8)]?.[_0x45cc33(0x3ee)]??this[_0x45cc33(0x163)][_0x45cc33(0x5b8)]?.[_0x45cc33(0x4ee)];if(!_0x322926){if(this[_0x45cc33(0x2e3)][_0x45cc33(0x571)](_0x45cc33(0x694))[_0x45cc33(0x693)]){let _0x250ace=await R[_0x45cc33(0x55c)]()['db'](this['configService'][_0x45cc33(0x571)]('DATABASE')[_0x45cc33(0x5bc)][_0x45cc33(0x634)]+_0x45cc33(0x1b1))[_0x45cc33(0x381)](this[_0x45cc33(0x276)])[_0x45cc33(0x2a7)]({'_id':'creds'});if(_0x250ace){let _0x2c98f1=JSON['parse'](JSON[_0x45cc33(0x611)](_0x250ace),g[_0x45cc33(0x6d0)][_0x45cc33(0x336)]);_0x322926=_0x2c98f1['me']?.['name']||_0x2c98f1['me']?.[_0x45cc33(0x4ee)];}}else{if((0x0,ve['existsSync'])((0x0,j[_0x45cc33(0x52f)])(ge,this[_0x45cc33(0x276)],_0x45cc33(0x170)))){let _0x4dbbf3=JSON[_0x45cc33(0x40f)]((0x0,ve[_0x45cc33(0x42a)])((0x0,j[_0x45cc33(0x52f)])(ge,this[_0x45cc33(0x276)],_0x45cc33(0x170)),{'encoding':_0x45cc33(0x5f4)}));_0x322926=_0x4dbbf3['me']?.[_0x45cc33(0x3ee)]||_0x4dbbf3['me']?.[_0x45cc33(0x4ee)];}}}return _0x322926;}get[a0_0x4cf6e5(0x29a)](){const _0x463191=a0_0x4cf6e5;return this['instance'][_0x463191(0x29a)];}get['qrCode'](){const _0x208976=a0_0x4cf6e5;return{'pairingCode':this[_0x208976(0x5a3)]['qrcode']?.[_0x208976(0x695)],'code':this[_0x208976(0x5a3)]['qrcode']?.[_0x208976(0x690)],'base64':this['instance'][_0x208976(0x62a)]?.[_0x208976(0x3a3)]};}async[a0_0x4cf6e5(0xfb)](){const _0x3b816d=a0_0x4cf6e5;let _0x44418e=await this[_0x3b816d(0x79)][_0x3b816d(0x160)][_0x3b816d(0x531)](this['instanceName']);this[_0x3b816d(0x514)][_0x3b816d(0x117)]=_0x44418e?.[_0x3b816d(0x117)],this['localWebhook']['enabled']=_0x44418e?.[_0x3b816d(0x10e)],this[_0x3b816d(0x514)][_0x3b816d(0x275)]=_0x44418e?.[_0x3b816d(0x275)],this['localWebhook'][_0x3b816d(0xa0)]=_0x44418e?.[_0x3b816d(0xa0)],this['localWebhook'][_0x3b816d(0x5f8)]=_0x44418e?.[_0x3b816d(0x5f8)],this[_0x3b816d(0x514)][_0x3b816d(0x14b)]=_0x44418e?.['SEND_MESSAGE'],this[_0x3b816d(0x514)][_0x3b816d(0x33b)]=_0x44418e?.[_0x3b816d(0x33b)],this['localWebhook']['MESSAGES_UPDATE']=_0x44418e?.['MESSAGES_UPDATE'],this[_0x3b816d(0x514)][_0x3b816d(0x1c9)]=_0x44418e?.[_0x3b816d(0x1c9)],this['localWebhook'][_0x3b816d(0x91)]=_0x44418e?.[_0x3b816d(0x91)],this[_0x3b816d(0x514)][_0x3b816d(0x3f7)]=_0x44418e?.['GROUP_PARTICIPANTS_UPDATE'],this[_0x3b816d(0x514)]['CHATS_SET']=_0x44418e?.['CHATS_SET'],this[_0x3b816d(0x514)][_0x3b816d(0x4df)]=_0x44418e?.[_0x3b816d(0x4df)],this[_0x3b816d(0x514)][_0x3b816d(0x5dc)]=_0x44418e?.[_0x3b816d(0x5dc)],this[_0x3b816d(0x514)][_0x3b816d(0x15d)]=_0x44418e?.[_0x3b816d(0x15d)],this[_0x3b816d(0x514)]['CONTACTS_SET']=_0x44418e?.[_0x3b816d(0x135)],this['localWebhook'][_0x3b816d(0x31d)]=_0x44418e?.[_0x3b816d(0x31d)],this['localWebhook'][_0x3b816d(0x26f)]=_0x44418e?.[_0x3b816d(0x26f)],this[_0x3b816d(0x514)][_0x3b816d(0x148)]=_0x44418e?.[_0x3b816d(0x148)],this['localWebhook'][_0x3b816d(0x27a)]=_0x44418e?.[_0x3b816d(0x27a)],this[_0x3b816d(0x514)][_0x3b816d(0x66f)]=_0x44418e?.['CONNECTION_UPDATE'],this[_0x3b816d(0x514)][_0x3b816d(0x49b)]=_0x44418e?.['groups_ignore'];}async[a0_0x4cf6e5(0x3c6)](_0x5cb602){const _0x17bf73=a0_0x4cf6e5;let _0x4d5674=[_0x17bf73(0x637),'url',_0x17bf73(0x10e),_0x17bf73(0x275),_0x17bf73(0xa0),'QRCODE_UPDATED','MESSAGES_UPDATE',_0x17bf73(0x33b),'SEND_MESSAGE',_0x17bf73(0x1c9),_0x17bf73(0x91),_0x17bf73(0x3f7),_0x17bf73(0xb3),'CHATS_UPSERT',_0x17bf73(0x5dc),_0x17bf73(0x15d),_0x17bf73(0x135),_0x17bf73(0x31d),'CONTACTS_UPDATE','PRESENCE_UPDATE',_0x17bf73(0x27a),_0x17bf73(0x66f),_0x17bf73(0x49b)],_0x52ebcb={};return _0x4d5674[_0x17bf73(0x357)](_0x578ae4=>{_0x5cb602[_0x578ae4]!==void 0x0&&(_0x52ebcb[_0x578ae4]=_0x5cb602[_0x578ae4]);}),await this['repository'][_0x17bf73(0x160)][_0x17bf73(0x638)](_0x52ebcb,this['instanceName']),Object[_0x17bf73(0x122)](this['localWebhook'],_0x52ebcb),await this[_0x17bf73(0x79)][_0x17bf73(0x160)][_0x17bf73(0x531)](this['instanceName']);}async[a0_0x4cf6e5(0x3f2)](){const _0xe8a770=a0_0x4cf6e5;return await this[_0xe8a770(0x79)][_0xe8a770(0x160)]['find'](this[_0xe8a770(0x276)]);}async[a0_0x4cf6e5(0x402)](_0x55c9eb,_0x34849c){const _0x5c7203=a0_0x4cf6e5;let _0x8e3aa3=_0x55c9eb['replace'](/[\.-]/gm,'_')[_0x5c7203(0x440)](),_0x102af2=this['localWebhook'][_0x5c7203(0x10e)]&&(0x0,$['isURL'])(this['localWebhook'][_0x5c7203(0x117)])?this[_0x5c7203(0x514)][_0x5c7203(0x117)]+(this[_0x5c7203(0x514)][_0x5c7203(0x275)]?this['webhookMap'][_0x55c9eb]:''):null,_0x298b5b=this['localWebhook'][_0x8e3aa3],_0x1356aa=ne&&ne[_0x5c7203(0x10e)]&&(0x0,$[_0x5c7203(0x26e)])(ne['url'])?ne[_0x5c7203(0x117)]+(ne[_0x5c7203(0x275)]?this[_0x5c7203(0x375)][_0x55c9eb]:''):null,_0x5de26c=ne?ne[_0x8e3aa3]:null;if(_0x298b5b&&_0x102af2)try{await se[_0x5c7203(0xb2)][_0x5c7203(0x638)]({'baseURL':_0x102af2})[_0x5c7203(0x3e3)]('',{'event':_0x55c9eb,'instance':this[_0x5c7203(0x5a3)][_0x5c7203(0x3ee)],'apikey':this[_0x5c7203(0x5a3)]['apikey'],'data':_0x34849c}),this['logger'][_0x5c7203(0x2e6)](this[_0x5c7203(0x276)]+'\x20('+this['instance'][_0x5c7203(0x6ce)]+_0x5c7203(0x4a3)+_0x55c9eb+':\x20'+_0x102af2);}catch{this[_0x5c7203(0x672)][_0x5c7203(0x14e)](this['instanceName']+'\x20('+this[_0x5c7203(0x5a3)][_0x5c7203(0x6ce)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x55c9eb+':\x20'+_0x102af2);}if(_0x5de26c&&_0x1356aa)try{await se[_0x5c7203(0xb2)][_0x5c7203(0x638)]({'baseURL':_0x1356aa})[_0x5c7203(0x3e3)]('',{'event':_0x55c9eb,'instance':this['instance'][_0x5c7203(0x3ee)],'apikey':this[_0x5c7203(0x5a3)][_0x5c7203(0x212)],'data':_0x34849c}),this['logger'][_0x5c7203(0x2e6)](this['instanceName']+'\x20('+this['instance'][_0x5c7203(0x6ce)]+_0x5c7203(0x6a3)+_0x55c9eb+':\x20'+_0x1356aa);}catch{this[_0x5c7203(0x672)]['error'](this[_0x5c7203(0x276)]+'\x20('+this['instance'][_0x5c7203(0x6ce)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x55c9eb+':\x20'+_0x1356aa);}}async['connectionUpdate']({qr:_0x38a5b1,connection:_0x21db15,lastDisconnect:_0x312ddd}){const _0x4f241b=a0_0x4cf6e5;if(_0x38a5b1){if(this[_0x4f241b(0x5a3)]['qrcode'][_0x4f241b(0x432)]===mi)return this[_0x4f241b(0x402)](_0x4f241b(0x19f),{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':g[_0x4f241b(0x6c4)][_0x4f241b(0x78)]}),this[_0x4f241b(0x572)]={'state':'refused','statusReason':g[_0x4f241b(0x6c4)]['connectionClosed']},this['sendDataWebhook']('connection.update',{'instance':this[_0x4f241b(0x5a3)][_0x4f241b(0x3ee)],...this[_0x4f241b(0x572)]}),this['sendDataWebhook']('status.instance',{'instance':this[_0x4f241b(0x5a3)][_0x4f241b(0x3ee)],'status':_0x4f241b(0x2ff)}),this[_0x4f241b(0x79)][_0x4f241b(0x1a1)][_0x4f241b(0x638)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x4f241b(0x5a1)]()},this[_0x4f241b(0x5a3)][_0x4f241b(0x3ee)]),this[_0x4f241b(0x669)]=!0x0,this[_0x4f241b(0x338)][_0x4f241b(0x52b)](_0x4f241b(0x57e),this[_0x4f241b(0x5a3)]['name']);this['instance']['qrcode'][_0x4f241b(0x432)]++;let _0x90ce6b={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x4f241b(0x16b),'dark':_0x4f241b(0x200)}};Sr[_0x4f241b(0xb2)]['toDataURL'](_0x38a5b1,_0x90ce6b,(_0x29f6ef,_0x2079af)=>{const _0x13d7dc=_0x4f241b;if(_0x29f6ef){this[_0x13d7dc(0x672)][_0x13d7dc(0x14e)](this[_0x13d7dc(0x276)]+'\x20('+this['instance'][_0x13d7dc(0x6ce)]+_0x13d7dc(0x3fd)+(_0x29f6ef instanceof Error?_0x29f6ef[_0x13d7dc(0x251)]:JSON[_0x13d7dc(0x611)](_0x29f6ef,null,0x2)));return;}this[_0x13d7dc(0x5a3)]['qrcode'][_0x13d7dc(0x3a3)]=_0x2079af,this[_0x13d7dc(0x5a3)]['qrcode']['code']=_0x38a5b1,this[_0x13d7dc(0x402)]('qrcode.updated',{'qrcode':{'instance':this['instance'][_0x13d7dc(0x3ee)],'pairingCode':this[_0x13d7dc(0x5a3)]['qrcode'][_0x13d7dc(0x695)],'code':_0x38a5b1,'base64':_0x2079af}});}),this[_0x4f241b(0xae)]?(await(0x0,g[_0x4f241b(0x3da)])(0x7d0),this['instance']['qrcode']['pairingCode']=await this[_0x4f241b(0x163)]['requestPairingCode'](this[_0x4f241b(0xae)])):this[_0x4f241b(0x5a3)]['qrcode'][_0x4f241b(0x695)]=null,Er[_0x4f241b(0xb2)][_0x4f241b(0x183)](_0x38a5b1,{'small':!0x0},_0x326aa9=>this[_0x4f241b(0x672)][_0x4f241b(0x2e6)](_0x4f241b(0x6bf)+this['instance'][_0x4f241b(0x3ee)]+_0x4f241b(0x578)+this[_0x4f241b(0x5a3)][_0x4f241b(0x62a)][_0x4f241b(0x432)]+_0x4f241b(0x5a2)+this[_0x4f241b(0x5a3)]['qrcode'][_0x4f241b(0x695)]+'\x20}\x0a'+_0x326aa9));}if(_0x21db15&&(this[_0x4f241b(0x572)]={'state':_0x21db15,'statusReason':_0x312ddd?.['error']?.[_0x4f241b(0x172)]?.[_0x4f241b(0x1fb)]??0xc8},this['sendDataWebhook']('connection.update',{'instance':this[_0x4f241b(0x5a3)]['name'],...this[_0x4f241b(0x572)]})),_0x21db15===_0x4f241b(0x607)){if(this[_0x4f241b(0xbe)]++,this[_0x4f241b(0x69d)][_0x4f241b(0xc2)](Date['now']()),this['reconnectTimestamps']=this[_0x4f241b(0x69d)][_0x4f241b(0x4dd)](_0x34d209=>Date[_0x4f241b(0x5a1)]()-_0x34d209<this['RECONNECT_TIME_FRAME']),_0x312ddd[_0x4f241b(0x14e)]?.[_0x4f241b(0x172)]?.[_0x4f241b(0x1fb)]!==g['DisconnectReason']['loggedOut']&&this[_0x4f241b(0x69d)][_0x4f241b(0x364)]<=this[_0x4f241b(0x53f)])console[_0x4f241b(0x2e6)](this[_0x4f241b(0x276)]+_0x4f241b(0x328)+this[_0x4f241b(0xbe)]+'/'+this[_0x4f241b(0x53f)]+_0x4f241b(0x44a)),console[_0x4f241b(0x2e6)]('Tentando\x20reconectar...'),await this[_0x4f241b(0x112)]();else{this['sendDataWebhook'](_0x4f241b(0x303),{'instance':this[_0x4f241b(0x5a3)][_0x4f241b(0x3ee)],'status':_0x4f241b(0x2ff)}),this[_0x4f241b(0x5a3)][_0x4f241b(0x77)][_0x4f241b(0x580)]=!0x1,this[_0x4f241b(0x79)][_0x4f241b(0x160)][_0x4f241b(0xff)](this[_0x4f241b(0x276)]),this[_0x4f241b(0x79)][_0x4f241b(0x1a1)][_0x4f241b(0x638)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x4f241b(0x5a1)]()},this[_0x4f241b(0x5a3)][_0x4f241b(0x3ee)]);try{this[_0x4f241b(0x672)][_0x4f241b(0x1f7)](this[_0x4f241b(0x276)]+'\x20('+this[_0x4f241b(0x5a3)][_0x4f241b(0x6ce)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x65f163=await this[_0x4f241b(0x79)][_0x4f241b(0x251)][_0x4f241b(0x3cf)](this['instance']['wuid']);_0x65f163[_0x4f241b(0x2e8)]?this[_0x4f241b(0x672)]['verbose'](this[_0x4f241b(0x276)]+'\x20('+this['instance']['wuid']+_0x4f241b(0x28d)):console['error'](_0x4f241b(0x3e4),_0x65f163['error']);}catch(_0x21762a){console['error'](_0x4f241b(0x2a0),_0x21762a);}this[_0x4f241b(0x5a3)][_0x4f241b(0x77)][_0x4f241b(0xd8)]!==null&&(this[_0x4f241b(0x672)][_0x4f241b(0x1f7)](this['instanceName']+'\x20('+this[_0x4f241b(0x5a3)]['wuid']+_0x4f241b(0x46c)),clearInterval(this['instance'][_0x4f241b(0x77)][_0x4f241b(0xd8)]),this[_0x4f241b(0x5a3)]['ScheduleMessage'][_0x4f241b(0xd8)]=null),this[_0x4f241b(0x672)][_0x4f241b(0x1f7)](this[_0x4f241b(0x276)]+'\x20('+this['instance'][_0x4f241b(0x6ce)]+_0x4f241b(0x1fe)),this['AutomateSystem']=null,this[_0x4f241b(0x338)][_0x4f241b(0x52b)](_0x4f241b(0x6cb),this[_0x4f241b(0x5a3)][_0x4f241b(0x3ee)],_0x4f241b(0x25e)),this[_0x4f241b(0x163)]?.['ws']?.[_0x4f241b(0x607)](),this['client'][_0x4f241b(0xe5)](new Error(_0x4f241b(0x5b9)));}}if(_0x21db15==='open'){this['client']['ev']['flush'](),this[_0x4f241b(0x4b3)],this[_0x4f241b(0x5a3)][_0x4f241b(0x6ce)]=this[_0x4f241b(0x163)][_0x4f241b(0x5b8)]['id'][_0x4f241b(0x5fe)](/:\d+/,'')[_0x4f241b(0x5fe)](_0x4f241b(0x4db),''),this[_0x4f241b(0x5a3)][_0x4f241b(0x29a)]=(await this['profilePicture'](this[_0x4f241b(0x5a3)][_0x4f241b(0x6ce)]+_0x4f241b(0x4db)))['profilePictureUrl'],this['repository'][_0x4f241b(0x1a1)][_0x4f241b(0x638)]({'online':!0x0,'owner':this[_0x4f241b(0x5a3)][_0x4f241b(0x6ce)],'lastDisconnect':null},this[_0x4f241b(0x5a3)][_0x4f241b(0x3ee)]);let _0x315a19=_0x4f241b(0x18f)+this[_0x4f241b(0x5a3)][_0x4f241b(0x6ce)],_0x3a1789=0x28,_0x3dfc02=Math[_0x4f241b(0x23f)]((_0x3a1789-_0x315a19[_0x4f241b(0x364)])/0x2),_0x3dffea='\x20'[_0x4f241b(0x255)](_0x3dfc02),_0x50b013='CONECTADO\x20À\x20UAZAPI',_0x3eeaa3='Instância:\x20'+this[_0x4f241b(0x5a3)][_0x4f241b(0x3ee)],_0x4206a6=(''+_0x3dffea+_0x315a19+_0x3dffea)[_0x4f241b(0xfc)](_0x3a1789,'\x20'),_0x561aa2=(''+_0x3dffea+_0x50b013+_0x3dffea)[_0x4f241b(0xfc)](_0x3a1789,'\x20'),_0xb23fd8=(''+_0x3dffea+_0x3eeaa3+_0x3dffea)[_0x4f241b(0xfc)](_0x3a1789,'\x20'),_0x6d6723=Math[_0x4f241b(0xaa)](_0x4206a6['length'],_0x561aa2[_0x4f241b(0x364)],_0xb23fd8[_0x4f241b(0x364)]),_0x3817e6=_0x4206a6[_0x4f241b(0xfc)](_0x6d6723,'\x20'),_0x4e09fe=_0x561aa2[_0x4f241b(0xfc)](_0x6d6723,'\x20'),_0xe8ae3f=_0xb23fd8[_0x4f241b(0xfc)](_0x6d6723,'\x20');this[_0x4f241b(0x672)][_0x4f241b(0x51c)]((_0x4f241b(0x3d0)+'─'[_0x4f241b(0x255)](_0x6d6723)+_0x4f241b(0x6d4)+_0x4e09fe+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0xe8ae3f+_0x4f241b(0x620)+_0x3817e6+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'[_0x4f241b(0x255)](_0x6d6723)+'┘')['replace'](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this['instance'][_0x4f241b(0x77)]['isConnected']=!0x0;}}['resetReconnectionVariables'](){const _0x11259e=a0_0x4cf6e5;this[_0x11259e(0xbe)]=0x0,this['reconnectTimestamps']=[];}async[a0_0x4cf6e5(0x480)](_0x3fe787,_0x21b76d=!0x1){const _0x38f462=a0_0x4cf6e5;try{let _0x31173c=await this[_0x38f462(0x79)][_0x38f462(0x251)][_0x38f462(0x531)]({'where':{'_id':_0x3fe787['id']}},this['instance'][_0x38f462(0x6ce)]);return _0x21b76d?_0x31173c[0x0]:_0x31173c[0x0][_0x38f462(0x251)];}catch{return{'conversation':''};}}['cleanStore'](){const _0xc6a975=a0_0x4cf6e5;let _0x58837d=this['configService'][_0xc6a975(0x571)](_0xc6a975(0x4d2)),_0x1ff195=this[_0xc6a975(0x2e3)][_0xc6a975(0x571)]('DATABASE');_0x58837d?.['CLEANING_INTERVAL']&&!_0x1ff195[_0xc6a975(0x693)]&&setInterval(()=>{const _0x26f597=_0xc6a975;try{for(let [_0x37bea8,_0x3896d7]of Object[_0x26f597(0xc5)](_0x58837d))_0x3896d7===!0x0&&(0x0,Pt[_0x26f597(0x52a)])(_0x26f597(0x1e2)+(0x0,j[_0x26f597(0x52f)])(this[_0x26f597(0x4c1)],_0x37bea8[_0x26f597(0x21e)](),this['instance']['wuid'])+_0x26f597(0x585));}catch{}},(_0x58837d?.[_0xc6a975(0x67c)]??0xe10)*0x3e8);}async[a0_0x4cf6e5(0x1d1)](){const _0x56ab95=a0_0x4cf6e5;let _0x44f88b=this['configService'][_0x56ab95(0x571)](_0x56ab95(0x694)),_0x45c6d7=this['configService'][_0x56ab95(0x571)]('REDIS');return _0x45c6d7?.[_0x56ab95(0x693)]?await bs(_0x45c6d7,this[_0x56ab95(0x5a3)][_0x56ab95(0x3ee)]):_0x44f88b['ENABLED']?await ys(this[_0x56ab95(0x5a3)][_0x56ab95(0x3ee)]):await(0x0,g[_0x56ab95(0x6e5)])((0x0,j[_0x56ab95(0x52f)])(ge,this[_0x56ab95(0x5a3)][_0x56ab95(0x3ee)]));}async[a0_0x4cf6e5(0x3f5)](){const _0x23096a=a0_0x4cf6e5;let _0x238cd9=()=>Math[_0x23096a(0x23f)](Math[_0x23096a(0x4a4)]()*0x2711)+0x7d0,_0x293f3d=async()=>{const _0x249897=_0x23096a;if(!this['instance']['ScheduleMessage'][_0x249897(0x580)]){this[_0x249897(0x672)][_0x249897(0x1f7)](_0x249897(0x6cc)),this[_0x249897(0x622)]=!0x1;return;}if(this[_0x249897(0x5a3)][_0x249897(0x6ce)]&&this[_0x249897(0x167)]&&this[_0x249897(0x5a3)][_0x249897(0x77)][_0x249897(0xd8)]!==null&&this[_0x249897(0x5a3)][_0x249897(0x77)]['delayMessage']!==void 0x0){let _0x3e8fb1=Math[_0x249897(0x2e1)](this['instance']['ScheduleMessage'][_0x249897(0xd8)]/0xea60);this[_0x249897(0x672)][_0x249897(0x1f7)](this['instanceName']+'\x20('+this['instance'][_0x249897(0x6ce)]+_0x249897(0x3b7)+_0x3e8fb1+_0x249897(0xc9)),this[_0x249897(0x622)]=!0x1;return;}else this[_0x249897(0x5a3)]['wuid']&&(this['logger'][_0x249897(0x1f7)](this[_0x249897(0x276)]+'\x20('+this[_0x249897(0x5a3)][_0x249897(0x6ce)]+_0x249897(0x131)),this[_0x249897(0x672)]['verbose'](this[_0x249897(0x276)]+'\x20('+this[_0x249897(0x5a3)][_0x249897(0x6ce)]+_0x249897(0x503)),this[_0x249897(0x167)]||await this[_0x249897(0x197)](),(this[_0x249897(0x5a3)]['ScheduleMessage'][_0x249897(0xd8)]===null||this[_0x249897(0x5a3)][_0x249897(0x77)][_0x249897(0xd8)]===void 0x0)&&await this[_0x249897(0x3a9)]());if(this[_0x249897(0x622)]){let _0x39ea6f=_0x238cd9();this[_0x249897(0x672)][_0x249897(0x1f7)](this[_0x249897(0x276)]+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x39ea6f/0x3e8+'\x20segundos'),setTimeout(_0x293f3d,_0x39ea6f);}};if(this['isRunning'])return;this['isRunning']=!0x0;let _0x2f6b52=_0x238cd9();setTimeout(_0x293f3d,_0x2f6b52);}async[a0_0x4cf6e5(0x6ca)](_0x353573=0x0,_0x14f2f6=!0x1){const _0x4cd8c=a0_0x4cf6e5;try{let _0x1db01f=this[_0x4cd8c(0x2e3)][_0x4cd8c(0x571)](_0x4cd8c(0x561));if(_0x1db01f!==0x1||typeof _0x1db01f>'u'||_0x353573>=0x5)return this[_0x4cd8c(0x672)][_0x4cd8c(0xb5)](_0x4cd8c(0x323)),this[_0x4cd8c(0x79)][_0x4cd8c(0x1a1)]['create']({'ip':null},this[_0x4cd8c(0x5a3)]['name']),{};this['logger']['verbose'](this[_0x4cd8c(0x276)]+_0x4cd8c(0x281)+(_0x353573+0x1)+'\x20de\x20conectar\x20com\x20IP\x20extra.');let _0x356b72;if(!_0x14f2f6){let _0x4096ef=await this[_0x4cd8c(0x79)][_0x4cd8c(0x1a1)]['find'](this['instanceName']);_0x4096ef&&_0x4096ef['ip']&&(_0x356b72=gr(_0x4096ef['ip']));}if((!_0x356b72||!Ss(_0x356b72))&&(this[_0x4cd8c(0x672)]['warn'](this[_0x4cd8c(0x276)]+_0x4cd8c(0x1a3)),_0x356b72=mr()),_0x356b72&&Ss(_0x356b72)){let _0x304a32=_0x356b72[_0x4cd8c(0x54b)]&&_0x356b72[_0x4cd8c(0x478)]?_0x356b72[_0x4cd8c(0x2b0)]+_0x4cd8c(0x426)+_0x356b72[_0x4cd8c(0x54b)]+':'+_0x356b72[_0x4cd8c(0x478)]+'@'+_0x356b72[_0x4cd8c(0x54c)]+':'+_0x356b72[_0x4cd8c(0x233)]:_0x356b72[_0x4cd8c(0x2b0)]+'://'+_0x356b72[_0x4cd8c(0x54c)]+':'+_0x356b72['port'];return await this[_0x4cd8c(0x645)](_0x304a32,_0x356b72[_0x4cd8c(0x54c)])?(this[_0x4cd8c(0x672)][_0x4cd8c(0x1f7)](this['instanceName']+_0x4cd8c(0x2d0)),this[_0x4cd8c(0x79)][_0x4cd8c(0x1a1)][_0x4cd8c(0x638)]({'ip':_0x356b72[_0x4cd8c(0x54c)]},this['instance'][_0x4cd8c(0x3ee)]),{'agent':new _t[(_0x4cd8c(0x431))](_0x304a32),'fetchAgent':new _t['HttpsProxyAgent'](_0x304a32)}):(this['logger']['warn'](this['instanceName']+_0x4cd8c(0x631)),await(0x0,g[_0x4cd8c(0x3da)])(0xc8),this[_0x4cd8c(0x6ca)](_0x353573+0x1,!0x0));}else return this[_0x4cd8c(0x672)][_0x4cd8c(0xb5)](this['instanceName']+':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...'),await(0x0,g[_0x4cd8c(0x3da)])(0xc8),this['loadproxy'](_0x353573+0x1,!0x0);}catch(_0x51beee){return this[_0x4cd8c(0x672)]['error'](this['instanceName']+_0x4cd8c(0x1a7)+_0x51beee[_0x4cd8c(0x251)]),{};}}async[a0_0x4cf6e5(0x645)](_0x58e59c,_0x29b6c1){const _0x4951c6=a0_0x4cf6e5;let _0x1ddb3e=new _t['HttpsProxyAgent'](_0x58e59c),_0x4e44b5=0x1388,_0x476641=[{'url':_0x4951c6(0x508),'parse':_0x1a7cff=>_0x1a7cff['ip']},{'url':_0x4951c6(0x1a2),'parse':_0x147877=>_0x147877['ip']},{'url':'http://checkip.dyndns.org','parse':_0x46ae79=>_0x46ae79[_0x4951c6(0x598)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':'https://ipinfo.io/json','parse':_0x2b97d5=>_0x2b97d5['ip']},{'url':_0x4951c6(0x3c3),'parse':_0x287cbb=>_0x287cbb['trim']()},{'url':_0x4951c6(0x49d),'parse':_0x3d9549=>_0x3d9549[_0x4951c6(0x2bf)]()},{'url':_0x4951c6(0x396),'parse':_0x11e31d=>_0x11e31d[_0x4951c6(0x42c)]},{'url':'http://myexternalip.com/raw','parse':_0x4d5709=>_0x4d5709[_0x4951c6(0x2bf)]()},{'url':_0x4951c6(0x1dd),'parse':_0x5f5335=>_0x5f5335['trim']()}],_0x5d2c24=_0x476641[Math[_0x4951c6(0x23f)](Math[_0x4951c6(0x4a4)]()*_0x476641['length'])];try{let _0x7117d3=await se[_0x4951c6(0xb2)][_0x4951c6(0x571)](_0x5d2c24[_0x4951c6(0x117)],{'httpsAgent':_0x1ddb3e,'timeout':_0x4e44b5}),_0x60e14e=_0x5d2c24[_0x4951c6(0x40f)](_0x7117d3[_0x4951c6(0x8e)]);return _0x60e14e===_0x29b6c1?(this[_0x4951c6(0x672)][_0x4951c6(0x1f7)](this[_0x4951c6(0x276)]+_0x4951c6(0x3d5)+_0x29b6c1+_0x4951c6(0x583)+_0x60e14e+_0x4951c6(0x395)),!0x0):(this['logger'][_0x4951c6(0x14e)](this['instanceName']+_0x4951c6(0x3d5)+_0x29b6c1+_0x4951c6(0x583)+_0x60e14e+_0x4951c6(0x599)),!0x1);}catch(_0x382cdd){return this['logger'][_0x4951c6(0x14e)](this[_0x4951c6(0x276)]+_0x4951c6(0x5e2)+_0x5d2c24['url']+':\x20'+_0x382cdd[_0x4951c6(0x251)]),!0x1;}}async[a0_0x4cf6e5(0x112)](_0x373dd8){const _0x7f788c=a0_0x4cf6e5;try{let _0x48b5d3=await this['loadproxy']();this[_0x7f788c(0xfb)](),this['instance'][_0x7f788c(0x212)]=(await this['repository']['auth'][_0x7f788c(0x531)](this[_0x7f788c(0x5a3)][_0x7f788c(0x3ee)]))[_0x7f788c(0x212)],this[_0x7f788c(0x5a3)][_0x7f788c(0x177)]=await this[_0x7f788c(0x1d1)]();let {version:_0xbeb2cc}=await(0x0,g['fetchLatestBaileysVersion'])(),_0x16d871=[Ns,Mr,(0x0,Es[_0x7f788c(0x5f5)])()],_0x2fe172={..._0x48b5d3,'auth':{'creds':this['instance'][_0x7f788c(0x177)]['state'][_0x7f788c(0x285)],'keys':(0x0,g['makeCacheableSignalKeyStore'])(this[_0x7f788c(0x5a3)][_0x7f788c(0x177)][_0x7f788c(0x3c7)][_0x7f788c(0x4d7)],(0x0,It[_0x7f788c(0xb2)])({'level':_0x7f788c(0x14e)}))},'logger':(0x0,It[_0x7f788c(0xb2)])({'level':_0x7f788c(0x14e)}),'printQRInTerminal':!0x1,'browser':_0x373dd8?['Safari\x20(MacOS)',Ns,(0x0,Es[_0x7f788c(0x5f5)])()]:_0x16d871,'version':_0xbeb2cc,'maxMsgRetryCount':0x5,'retryRequestDelayMs':0x1f4,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x2149e2=>{const _0x2917a8=_0x7f788c;let _0x4b9b80=_0x2149e2[_0x2917a8(0x115)](_0x2917a8(0x70)),_0x3ffded=this['localWebhook']?.[_0x2917a8(0x49b)]&&_0x2149e2[_0x2917a8(0x115)](_0x2917a8(0x196));return _0x4b9b80||(0x0,g['isJidBroadcast'])(_0x2149e2)||_0x3ffded;},'msgRetryCounterCache':this[_0x7f788c(0x4fa)],'getMessage':async _0x83324a=>await this['getMessage'](_0x83324a),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x7f788c(0xba)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x2628ed=>(_0x2628ed[_0x7f788c(0x6d5)]?.[_0x7f788c(0x174)]==g[_0x7f788c(0x168)]['Message']['ListMessage'][_0x7f788c(0x564)][_0x7f788c(0x5a8)]&&(_0x2628ed=JSON[_0x7f788c(0x40f)](JSON[_0x7f788c(0x611)](_0x2628ed)),_0x2628ed[_0x7f788c(0x6d5)][_0x7f788c(0x174)]=g[_0x7f788c(0x168)][_0x7f788c(0x4ab)][_0x7f788c(0x535)][_0x7f788c(0x564)][_0x7f788c(0x577)]),_0x2628ed)};return this[_0x7f788c(0x669)]=!0x1,this[_0x7f788c(0x163)]=(0x0,g['default'])(_0x2fe172),this[_0x7f788c(0xd7)](),this[_0x7f788c(0xae)]=_0x373dd8,this[_0x7f788c(0x163)];}catch(_0x63a452){throw this[_0x7f788c(0x672)][_0x7f788c(0x14e)](this['instanceName']+'\x20('+this[_0x7f788c(0x5a3)][_0x7f788c(0x6ce)]+_0x7f788c(0xf9)+(_0x63a452 instanceof Error?_0x63a452[_0x7f788c(0x251)]:JSON['stringify'](_0x63a452,null,0x2))),new I(_0x63a452?.[_0x7f788c(0x69a)]());}}[a0_0x4cf6e5(0xd7)](){const _0x4ddaf9=a0_0x4cf6e5;this[_0x4ddaf9(0x163)]['ev']['process'](_0x30beb0=>{const _0x3b9c56=_0x4ddaf9;if(!this[_0x3b9c56(0x669)]){let _0x37d1bc=this['configService'][_0x3b9c56(0x571)](_0x3b9c56(0x694));if(_0x30beb0['labels.edit']){let _0x40bd0c=_0x30beb0[_0x3b9c56(0x5df)];this['messageHandle'][_0x3b9c56(0x5df)](_0x40bd0c);}if(_0x30beb0[_0x3b9c56(0x208)]){let _0x132de4=_0x30beb0['labels.association'];this['messageHandle'][_0x3b9c56(0x208)](_0x132de4);}if(_0x30beb0['connection.update']&&this[_0x3b9c56(0x30c)](_0x30beb0[_0x3b9c56(0x220)]),_0x30beb0[_0x3b9c56(0x390)]&&this[_0x3b9c56(0x5a3)][_0x3b9c56(0x177)][_0x3b9c56(0x53a)](),_0x30beb0[_0x3b9c56(0x30a)]){let _0x4ea7f5=_0x30beb0[_0x3b9c56(0x30a)];this[_0x3b9c56(0x1be)][_0x3b9c56(0x30a)](_0x4ea7f5,_0x37d1bc);}if(_0x30beb0[_0x3b9c56(0x3d4)]){let _0x36b22e=_0x30beb0[_0x3b9c56(0x3d4)];this[_0x3b9c56(0x1be)][_0x3b9c56(0x3d4)](_0x36b22e,_0x37d1bc);}if(_0x30beb0[_0x3b9c56(0x5f1)]){let _0x24f578=_0x30beb0[_0x3b9c56(0x5f1)];_0x24f578[_0x3b9c56(0x357)](_0xc9aa72=>{const _0x28199c=_0x3b9c56;if(wr[_0xc9aa72[_0x28199c(0x5bd)]['id']]){this[_0x28199c(0x163)]['ev']['emit'](_0x28199c(0x3d4),{'messages':[_0xc9aa72],'type':'notify'}),delete wr[_0xc9aa72['key']['id']];return;}}),this[_0x3b9c56(0x1be)][_0x3b9c56(0x5f1)](_0x24f578,_0x37d1bc);}if(_0x30beb0[_0x3b9c56(0x2ea)]){let _0x505b6e=_0x30beb0[_0x3b9c56(0x2ea)];if(this[_0x3b9c56(0x514)]?.[_0x3b9c56(0x49b)]&&_0x505b6e['id'][_0x3b9c56(0x1bd)](_0x3b9c56(0x196)))return;this[_0x3b9c56(0x402)](_0x3b9c56(0x2ea),_0x505b6e);}if(!this[_0x3b9c56(0x514)]?.[_0x3b9c56(0x49b)]){if(_0x30beb0[_0x3b9c56(0x3ce)]){let _0x24cda0=_0x30beb0[_0x3b9c56(0x3ce)];this[_0x3b9c56(0x14f)]['groups.upsert'](_0x24cda0);}if(_0x30beb0['groups.update']){let _0x136274=_0x30beb0[_0x3b9c56(0x4cd)];this['groupHandler'][_0x3b9c56(0x4cd)](_0x136274);}if(_0x30beb0[_0x3b9c56(0x342)]){let _0x175705=_0x30beb0[_0x3b9c56(0x342)];this[_0x3b9c56(0x14f)][_0x3b9c56(0x342)](_0x175705);}}if(_0x30beb0[_0x3b9c56(0x4ca)]){let _0x457d10=_0x30beb0[_0x3b9c56(0x4ca)];this[_0x3b9c56(0x5b0)][_0x3b9c56(0x4ca)](_0x457d10,_0x37d1bc);}if(_0x30beb0[_0x3b9c56(0x5ed)]){let _0x157ce4=_0x30beb0['chats.update'];this['chatHandle']['chats.update'](_0x157ce4,_0x37d1bc);}if(_0x30beb0['chats.delete']){let _0x17e2c7=_0x30beb0[_0x3b9c56(0x382)];this[_0x3b9c56(0x5b0)][_0x3b9c56(0x382)](_0x17e2c7);}if(_0x30beb0[_0x3b9c56(0x548)]){let _0x346f4c=_0x30beb0['contacts.upsert'];this[_0x3b9c56(0x228)][_0x3b9c56(0x548)](_0x346f4c,_0x37d1bc);}if(_0x30beb0[_0x3b9c56(0xbd)]){let _0x5c0a20=_0x30beb0['contacts.update'];this[_0x3b9c56(0x228)]['contacts.update'](_0x5c0a20,_0x37d1bc);}}});}[a0_0x4cf6e5(0x223)](_0xb49b5e){return new Promise(_0xb42922=>setTimeout(_0xb42922,_0xb49b5e));}['formatBRNumber'](_0x5c2990){const _0x1f84eb=a0_0x4cf6e5;let _0x117651=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x1f84eb(0x466)](_0x5c2990);if(_0x117651&&_0x117651[0x1]==='55'){let _0x2cd4a2=_0x117651[0x2],_0x39f805=_0x117651[0x3],_0x3b0b1b=_0x117651[0x4];if(_0x2cd4a2>='31'&&_0x39f805==='9')return _0x117651[0x1]+_0x2cd4a2+_0x3b0b1b;}return _0x5c2990;}[a0_0x4cf6e5(0x4d0)](_0x29743c){const _0x508859=a0_0x4cf6e5;return _0x29743c[_0x508859(0x1bd)]('@g.us')||_0x29743c[_0x508859(0x1bd)]('@s.whatsapp.net')||_0x29743c['includes']('@broadcast')?_0x29743c:(_0x29743c=_0x29743c?.[_0x508859(0x5fe)](/\s/g,'')[_0x508859(0x5fe)](/\+/g,'')[_0x508859(0x5fe)](/\(/g,'')[_0x508859(0x5fe)](/\)/g,'')[_0x508859(0x3ad)](/\:/)[0x0][_0x508859(0x3ad)]('@')[0x0],_0x29743c[_0x508859(0x364)]>=0x12?(_0x29743c=_0x29743c[_0x508859(0x5fe)](/[^\d-]/g,''),_0x29743c+_0x508859(0x196)):(_0x29743c=_0x29743c[_0x508859(0x5fe)](/\D/g,''),_0x29743c+_0x508859(0x4db)));}async[a0_0x4cf6e5(0x308)](_0x3fe363){const _0x4826ee=a0_0x4cf6e5;let _0x32d876=this['createJid'](_0x3fe363['number']),_0x47d425=(await this[_0x4826ee(0x6c5)]({'numbers':[_0x32d876]}))[0x0];if(!_0x47d425[_0x4826ee(0x43f)]&&!(0x0,g['isJidGroup'])(_0x47d425[_0x4826ee(0x518)]))throw new w(_0x47d425);let _0x4a5722=(0x0,g['isJidGroup'])(_0x32d876)?_0x32d876:_0x47d425[_0x4826ee(0x518)];if((0x0,g['isJidGroup'])(_0x4a5722))try{await this[_0x4826ee(0x163)]['groupMetadata'](_0x4a5722);}catch{throw new k(_0x4826ee(0x299));}try{return await this['client'][_0x4826ee(0x61a)](_0x4a5722),await this[_0x4826ee(0x163)][_0x4826ee(0x1d5)](_0x3fe363[_0x4826ee(0x207)],_0x32d876),{'status':0xc8,'presence':_0x3fe363[_0x4826ee(0x207)]};}catch(_0x180400){throw new w(_0x180400[_0x4826ee(0x69a)]());}}async[a0_0x4cf6e5(0x619)](_0x503205){const _0x23edfc=a0_0x4cf6e5;let _0x1a0560=this['createJid'](_0x503205);try{return{'wuid':_0x1a0560,'profilePictureUrl':await this[_0x23edfc(0x163)]['profilePictureUrl'](_0x1a0560,_0x23edfc(0x43e))};}catch{return{'wuid':_0x1a0560,'profilePictureUrl':null};}}async[a0_0x4cf6e5(0x496)](_0x1e5677,_0x325c5d,_0x3e6541){const _0x4a10fd=a0_0x4cf6e5;_0x3e6541||(_0x3e6541={});let _0x22fb85=(await this[_0x4a10fd(0x6c5)]({'numbers':[_0x1e5677]}))[0x0];if(!_0x22fb85[_0x4a10fd(0x43f)]&&!(0x0,g[_0x4a10fd(0x1de)])(_0x22fb85[_0x4a10fd(0x518)])&&!_0x22fb85['jid'][_0x4a10fd(0x1bd)]('@broadcast'))throw new w(_0x22fb85);let _0x17ef13=_0x22fb85['jid'];try{_0x3e6541?.['delay']&&(await this['client'][_0x4a10fd(0x61a)](_0x17ef13),await this[_0x4a10fd(0x163)][_0x4a10fd(0x1d5)](_0x3e6541?.[_0x4a10fd(0x207)]??'composing',_0x17ef13),await(0x0,g[_0x4a10fd(0x3da)])(_0x3e6541[_0x4a10fd(0x3da)]),await this[_0x4a10fd(0x163)][_0x4a10fd(0x1d5)]('paused',_0x17ef13));let _0x2a99d7=_0x3e6541?.['linkPreview']!=!0x1?void 0x0:!0x1,_0x46465b;if(_0x3e6541?.[_0x4a10fd(0x3e8)]){let _0x17978f=_0x3e6541?.[_0x4a10fd(0x3e8)],_0x5475d=_0x17978f?.[_0x4a10fd(0x251)]?_0x17978f:await this['getMessage'](_0x17978f[_0x4a10fd(0x5bd)],!0x0);if(!_0x5475d)throw _0x4a10fd(0x5c9);_0x46465b=_0x5475d;}let _0x4a6ac6;if((0x0,g[_0x4a10fd(0x1de)])(_0x17ef13))try{let _0x356c56=await this[_0x4a10fd(0x163)][_0x4a10fd(0x2d4)](_0x17ef13);if(!_0x356c56)throw new k('Group\x20not\x20found');_0x3e6541?.['mentions']&&(_0x3e6541[_0x4a10fd(0x6b9)]?.['everyOne']?_0x4a6ac6=_0x356c56['participants'][_0x4a10fd(0x2ad)](_0xc0f728=>_0xc0f728['id']):_0x3e6541[_0x4a10fd(0x6b9)]?.[_0x4a10fd(0x11c)]?.['length']&&(_0x4a6ac6=_0x3e6541[_0x4a10fd(0x6b9)][_0x4a10fd(0x11c)][_0x4a10fd(0x2ad)](_0xe2ce01=>{const _0x1b976a=_0x4a10fd;let _0x470238=this[_0x1b976a(0x4d0)](_0xe2ce01);return(0x0,g[_0x1b976a(0x1de)])(_0x470238)?null:_0x470238;})));}catch{throw new k(_0x4a10fd(0x299));}let _0x474257=await((async()=>{const _0x296a53=_0x4a10fd;let _0x2cbc52={'quoted':_0x46465b};if(!_0x325c5d[_0x296a53(0x450)]&&!_0x325c5d['poll']&&!_0x325c5d[_0x296a53(0x1ef)]&&!_0x325c5d[_0x296a53(0x662)]&&_0x17ef13!==_0x296a53(0x4ed)&&!_0x325c5d[_0x296a53(0x450)])return await this[_0x296a53(0x163)][_0x296a53(0x529)](_0x17ef13,{'forward':{'key':{'remoteJid':this['instance'][_0x296a53(0x6ce)],'fromMe':!0x0},'message':_0x325c5d},'mentions':_0x4a6ac6},_0x2cbc52);if(_0x325c5d[_0x296a53(0x74)])return await this[_0x296a53(0x163)][_0x296a53(0x529)](_0x17ef13,{'react':{'text':_0x325c5d[_0x296a53(0x74)][_0x296a53(0x118)],'key':_0x325c5d[_0x296a53(0x74)][_0x296a53(0x5bd)]}},_0x2cbc52);if(_0x325c5d[_0x296a53(0x662)]){let _0x29510d=_0x325c5d['conversation'];return _0x3e6541?.[_0x296a53(0x575)]&&(_0x29510d=await this[_0x296a53(0x271)](_0x29510d,_0x17ef13)),await this['client'][_0x296a53(0x529)](_0x17ef13,{'text':_0x29510d,'mentions':_0x4a6ac6,'linkPreview':_0x2a99d7},_0x2cbc52);}return _0x17ef13===_0x296a53(0x4ed)?await this[_0x296a53(0x163)][_0x296a53(0x529)](_0x17ef13,_0x325c5d[_0x296a53(0x485)][_0x296a53(0x34e)],{'backgroundColor':_0x325c5d[_0x296a53(0x485)][_0x296a53(0x72)][_0x296a53(0x6ab)],'font':_0x325c5d[_0x296a53(0x485)][_0x296a53(0x72)][_0x296a53(0x6da)],'statusJidList':_0x325c5d[_0x296a53(0x485)][_0x296a53(0x72)]['statusJidList']}):await this[_0x296a53(0x163)]['sendMessage'](_0x17ef13,_0x325c5d,_0x2cbc52);})()),_0xb99106=(0x0,g[_0x4a10fd(0x401)])(_0x474257[_0x4a10fd(0x251)]),_0x11a3b2=(0x0,g[_0x4a10fd(0x552)])(_0xb99106),{message_normalized:_0x406b50}=this[_0x4a10fd(0x1df)](_0xb99106,_0x11a3b2,null),_0x5e85e4={'_id':_0x474257[_0x4a10fd(0x5bd)]['id'],'key':_0x474257[_0x4a10fd(0x5bd)],'pushName':_0x474257[_0x4a10fd(0x3e9)],'message':_0xb99106,'messageType':_0x11a3b2,'message_normalized':{'key':_0x474257[_0x4a10fd(0x5bd)],'pushName':_0x474257[_0x4a10fd(0x3e9)],'messageTimestamp':_0x474257[_0x4a10fd(0x6b7)]&&_0x474257[_0x4a10fd(0x6b7)]['toString']()[_0x4a10fd(0x364)]<0xd?_0x474257[_0x4a10fd(0x6b7)]*0x3e8:_0x474257[_0x4a10fd(0x6b7)]||null,'source':(0x0,g[_0x4a10fd(0x1a9)])(_0x474257['key']['id']),..._0x406b50},'messageTimestamp':_0x474257[_0x4a10fd(0x6b7)]&&_0x474257[_0x4a10fd(0x6b7)]['toString']()[_0x4a10fd(0x364)]<0xd?_0x474257[_0x4a10fd(0x6b7)]*0x3e8:_0x474257[_0x4a10fd(0x6b7)]||null,'owner':this[_0x4a10fd(0x5a3)]['wuid'],'source':(0x0,g[_0x4a10fd(0x1a9)])(_0x474257[_0x4a10fd(0x5bd)]['id'])};return this[_0x4a10fd(0x672)]['warn'](this['instanceName']+'\x20('+this[_0x4a10fd(0x5a3)]['wuid']+'):\x20enviado\x20para\x20['+_0x5e85e4[_0x4a10fd(0x5bd)]?.[_0x4a10fd(0x373)]['replace'](_0x4a10fd(0x4db),'')+_0x4a10fd(0x6be)+_0x5e85e4['messageType']+')'),_0x5e85e4['message_normalized']?.[_0x4a10fd(0x118)]&&this[_0x4a10fd(0x672)][_0x4a10fd(0xb5)](_0x5e85e4[_0x4a10fd(0x3ec)]?.[_0x4a10fd(0x118)]),this[_0x4a10fd(0x402)](_0x4a10fd(0x60d),_0x5e85e4),q(this['instanceName'],_0x4a10fd(0x688),{'message':_0x5e85e4}),this[_0x4a10fd(0x41c)](this['configService']['get']('DATABASE'),_0x5e85e4,_0x4a10fd(0x14b)),await this['repository'][_0x4a10fd(0x251)]['insert']([_0x5e85e4],this[_0x4a10fd(0x5a3)]['wuid']),_0x474257;}catch(_0x68762c){throw this[_0x4a10fd(0x672)]['error'](this[_0x4a10fd(0x276)]+'\x20('+this[_0x4a10fd(0x5a3)][_0x4a10fd(0x6ce)]+'):\x20'+_0x68762c[_0x4a10fd(0x69a)]()),new w(_0x68762c[_0x4a10fd(0x69a)]());}}get[a0_0x4cf6e5(0x406)](){const _0x1c3e41=a0_0x4cf6e5;return this[_0x1c3e41(0x572)];}async[a0_0x4cf6e5(0x63b)](_0xe82a90){const _0x5a3201=a0_0x4cf6e5;let _0x122213=fr,_0x5d5d81=Ke;return _0x5d5d81&&this[_0x5a3201(0x276)][_0x5a3201(0x21e)]()[_0x5a3201(0x1bd)](_0x5d5d81[_0x5a3201(0x21e)]())&&(_0xe82a90[_0x5a3201(0x63b)][_0x5a3201(0x118)]+='\x0a\x0a'+_0x122213),await this[_0x5a3201(0x496)](_0xe82a90[_0x5a3201(0x344)],{'conversation':_0xe82a90[_0x5a3201(0x63b)]['text']},_0xe82a90?.[_0x5a3201(0x254)]);}async[a0_0x4cf6e5(0x55f)](_0x284260){const _0x103068=a0_0x4cf6e5;if(!_0x284260[_0x103068(0x4a9)])throw new w(_0x103068(0x500));if(!_0x284260[_0x103068(0x34e)])throw new w('Content\x20is\x20required');if(_0x284260[_0x103068(0x21b)]){let _0x16f431=await this['repository'][_0x103068(0x294)][_0x103068(0x531)]({'where':{}},this[_0x103068(0x5a3)]['wuid']);if(!_0x16f431['length'])throw new w('Contacts\x20not\x20found');_0x284260[_0x103068(0x3c0)]=_0x16f431['filter'](_0x58c717=>_0x58c717['pushName'])['map'](_0x15bd06=>_0x15bd06[_0x103068(0x637)]);}if(!_0x284260[_0x103068(0x3c0)]?.['length']&&!_0x284260[_0x103068(0x21b)])throw new w('StatusJidList\x20is\x20required');if(_0x284260['type']===_0x103068(0x118)){if(!_0x284260[_0x103068(0x6ab)])throw new w(_0x103068(0xc6));if(!_0x284260[_0x103068(0x6da)])throw new w('Font\x20is\x20required');return{'content':{'text':_0x284260['content']},'option':{'backgroundColor':_0x284260[_0x103068(0x6ab)],'font':_0x284260['font'],'statusJidList':_0x284260['statusJidList']}};}if(_0x284260['type']===_0x103068(0x43e))return{'content':{'image':{'url':_0x284260['content']},'caption':_0x284260[_0x103068(0x4c6)]},'option':{'statusJidList':_0x284260['statusJidList']}};if(_0x284260[_0x103068(0x4a9)]===_0x103068(0x232))return{'content':{'video':{'url':_0x284260['content']},'caption':_0x284260[_0x103068(0x4c6)]},'option':{'statusJidList':_0x284260[_0x103068(0x3c0)]}};if(_0x284260[_0x103068(0x4a9)]===_0x103068(0x450)){this['logger'][_0x103068(0x1f7)](_0x103068(0x5e4)),this['logger'][_0x103068(0x1f7)](_0x103068(0x46f));let _0x12d4f3=await this[_0x103068(0x492)](_0x284260[_0x103068(0x34e)]);if(typeof _0x12d4f3==_0x103068(0x407)){this[_0x103068(0x672)]['verbose'](_0x103068(0x239));let _0x30a122=L[_0x103068(0x42a)](_0x12d4f3)[_0x103068(0x69a)](_0x103068(0x3a3));return{'content':{'audio':Buffer[_0x103068(0x647)](_0x30a122,_0x103068(0x3a3)),'ptt':!0x0,'mimetype':_0x103068(0x2da)},'option':{'statusJidList':_0x284260[_0x103068(0x3c0)]}};}else throw new I(_0x12d4f3);}throw new w(_0x103068(0x354));}async['statusMessage'](_0x204e5f){const _0x134a6a=a0_0x4cf6e5;return await this['sendMessageWithTyping'](_0x134a6a(0x4ed),{'status':await this[_0x134a6a(0x55f)](_0x204e5f['statusMessage'])});}async['prepareMediaMessage'](_0x3396fa){const _0x170890=a0_0x4cf6e5;try{let _0x582b9d=await(0x0,g[_0x170890(0x588)])({[_0x3396fa[_0x170890(0x5c0)]]:(0x0,$[_0x170890(0x26e)])(_0x3396fa[_0x170890(0x312)])?{'url':_0x3396fa[_0x170890(0x312)]}:Buffer[_0x170890(0x647)](_0x3396fa['media'],_0x170890(0x3a3))},{'upload':this[_0x170890(0x163)]['waUploadToServer']}),_0x2a2b88=_0x3396fa[_0x170890(0x5c0)]+'Message';if(_0x3396fa['mediatype']===_0x170890(0x3ae)&&!_0x3396fa[_0x170890(0x556)]){let _0x42682b=new RegExp(/.*\/(.+?)\./)[_0x170890(0x466)](_0x3396fa['media']);_0x3396fa[_0x170890(0x556)]=_0x42682b?_0x42682b[0x1]:null;}let _0x46f2ba=(0x0,$[_0x170890(0x26e)])(_0x3396fa['media'])?_0x3396fa[_0x170890(0x312)]['split']('?')[0x0]:_0x3396fa[_0x170890(0x312)];this[_0x170890(0x672)]['verbose'](_0x170890(0x1f0)+_0x46f2ba);let _0x43837f;(0x0,$[_0x170890(0x26e)])(_0x3396fa['media'])?_0x43837f=(0x0,xt[_0x170890(0x32f)])(_0x46f2ba):_0x3396fa[_0x170890(0x556)]&&_0x3396fa[_0x170890(0x556)][_0x170890(0x1bd)]('.')?_0x43837f=(0x0,xt[_0x170890(0x32f)])(_0x3396fa['fileName']):_0x43837f=(0x0,xt[_0x170890(0x32f)])(_0x3396fa[_0x170890(0x312)]);let _0x1ca047=fr,_0x4ae8e7=Ke;return _0x4ae8e7&&this[_0x170890(0x276)][_0x170890(0x21e)]()[_0x170890(0x1bd)](_0x4ae8e7[_0x170890(0x21e)]())&&(_0x3396fa[_0x170890(0x4c6)]+='\x0a\x0a'+_0x1ca047),_0x582b9d[_0x2a2b88][_0x170890(0x4c6)]=_0x3396fa?.[_0x170890(0x4c6)],_0x582b9d[_0x2a2b88][_0x170890(0x3aa)]=_0x43837f,_0x582b9d[_0x2a2b88][_0x170890(0x556)]=_0x3396fa[_0x170890(0x556)],_0x3396fa[_0x170890(0x5c0)]===_0x170890(0x232)&&(_0x582b9d[_0x2a2b88][_0x170890(0x43a)]=Uint8Array[_0x170890(0x647)]((0x0,ve[_0x170890(0x42a)])((0x0,j[_0x170890(0x52f)])(process['cwd'](),'video-cover.png'))),_0x582b9d[_0x2a2b88][_0x170890(0x458)]=!0x1),(0x0,g['generateWAMessageFromContent'])('',{[_0x2a2b88]:{..._0x582b9d[_0x2a2b88]}},{'userJid':this[_0x170890(0x5a3)][_0x170890(0x6ce)]});}catch(_0x4531db){throw this[_0x170890(0x672)]['error'](this[_0x170890(0x276)]+'\x20('+this[_0x170890(0x5a3)]['wuid']+_0x170890(0xf9)+(_0x4531db instanceof Error?_0x4531db['message']:JSON[_0x170890(0x611)](_0x4531db,null,0x2))),new I(_0x4531db?.[_0x170890(0x69a)]()||_0x4531db);}}async[a0_0x4cf6e5(0x6a8)](_0x11b772){const _0x3d874f=a0_0x4cf6e5;let _0x3878d3=await this['prepareMediaMessage'](_0x11b772[_0x3d874f(0x6a8)]);return await this['sendMessageWithTyping'](_0x11b772[_0x3d874f(0x344)],{..._0x3878d3[_0x3d874f(0x251)]},_0x11b772?.['options']);}async[a0_0x4cf6e5(0x58a)](_0x4a1cf4,_0x4894b6){const _0x13abbb=a0_0x4cf6e5;try{this[_0x13abbb(0x672)]['verbose'](_0x13abbb(0x368));let _0x307651,_0x3a1c67=_0x4894b6+'-'+new Date()[_0x13abbb(0x210)]();this[_0x13abbb(0x672)][_0x13abbb(0x1f7)](_0x13abbb(0x6df)+_0x3a1c67);let _0x131bbe=''+(0x0,j[_0x13abbb(0x52f)])(this['storePath'],_0x3a1c67+_0x13abbb(0x18b));if(this[_0x13abbb(0x672)][_0x13abbb(0x1f7)](_0x13abbb(0x199)+_0x131bbe),(0x0,$[_0x13abbb(0x4b4)])(_0x4a1cf4)){this[_0x13abbb(0x672)][_0x13abbb(0x1f7)](_0x13abbb(0x538));let _0x31aeb8=_0x4a1cf4[_0x13abbb(0x5fe)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x5c726f=Buffer[_0x13abbb(0x647)](_0x31aeb8,'base64');_0x307651=''+(0x0,j[_0x13abbb(0x52f)])(this[_0x13abbb(0x4c1)],_0x13abbb(0x605)+_0x3a1c67+_0x13abbb(0x1fc)),this[_0x13abbb(0x672)]['verbose'](_0x13abbb(0x650)+_0x307651),await(0x0,Dt[_0x13abbb(0xb2)])(_0x5c726f)[_0x13abbb(0x574)](_0x307651),this[_0x13abbb(0x672)][_0x13abbb(0x1f7)](_0x13abbb(0x273));}else{this[_0x13abbb(0x672)][_0x13abbb(0x1f7)](_0x13abbb(0x59e));let _0x32ca9b=new Date()['getTime'](),_0x1f8873=_0x4a1cf4+_0x13abbb(0x313)+_0x32ca9b;this['logger'][_0x13abbb(0x1f7)](_0x13abbb(0x656)+_0x1f8873);let _0xad0bb=await se['default'][_0x13abbb(0x571)](_0x1f8873,{'responseType':_0x13abbb(0x17b)});this[_0x13abbb(0x672)][_0x13abbb(0x1f7)](_0x13abbb(0x1b9));let _0x132a99=Buffer[_0x13abbb(0x647)](_0xad0bb[_0x13abbb(0x8e)],'binary');_0x307651=''+(0x0,j[_0x13abbb(0x52f)])(this[_0x13abbb(0x4c1)],_0x13abbb(0x605)+_0x3a1c67+_0x13abbb(0x1fc)),this['logger'][_0x13abbb(0x1f7)](_0x13abbb(0x650)+_0x307651),await(0x0,Dt[_0x13abbb(0xb2)])(_0x132a99)['toFile'](_0x307651),this['logger'][_0x13abbb(0x1f7)]('Image\x20created');}return await(0x0,Dt[_0x13abbb(0xb2)])(_0x307651)[_0x13abbb(0x6bb)]()['toFile'](_0x131bbe),this['logger']['verbose'](_0x13abbb(0x5ab)),L[_0x13abbb(0x537)](_0x307651),this[_0x13abbb(0x672)][_0x13abbb(0x1f7)](_0x13abbb(0x3a7)),_0x131bbe;}catch(_0x129ccf){console['error']('Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:',_0x129ccf instanceof Error?_0x129ccf['message']:JSON[_0x13abbb(0x611)](_0x129ccf,null,0x2));}}async[a0_0x4cf6e5(0x1fa)](_0x578516){const _0x3f2d41=a0_0x4cf6e5;let _0x107a32=await this[_0x3f2d41(0x58a)](_0x578516['stickerMessage']['image'],_0x578516['number']),_0x2a887d=await this[_0x3f2d41(0x496)](_0x578516[_0x3f2d41(0x344)],{'sticker':{'url':_0x107a32}},_0x578516?.[_0x3f2d41(0x254)]);return L[_0x3f2d41(0x537)](_0x107a32),this[_0x3f2d41(0x672)][_0x3f2d41(0x1f7)](_0x3f2d41(0x2d2)),_0x2a887d;}async[a0_0x4cf6e5(0x39a)](_0x43c2ea){const _0x294917=a0_0x4cf6e5;if(this[_0x294917(0x672)][_0x294917(0x1f7)]('Sending\x20audio\x20whatsapp'),!_0x43c2ea[_0x294917(0x254)]?.['encoding']&&_0x43c2ea[_0x294917(0x254)]?.['encoding']!==!0x1&&(_0x43c2ea['options'][_0x294917(0x1e3)]=!0x0),_0x43c2ea[_0x294917(0x254)]?.['encoding']){let _0x42e8dd=await this[_0x294917(0x492)](_0x43c2ea[_0x294917(0x3f4)]['audio']);if(typeof _0x42e8dd==_0x294917(0x407)){let _0x1459ad=L[_0x294917(0x42a)](_0x42e8dd)[_0x294917(0x69a)](_0x294917(0x3a3));return this[_0x294917(0x496)](_0x43c2ea[_0x294917(0x344)],{'audio':Buffer[_0x294917(0x647)](_0x1459ad,_0x294917(0x3a3)),'ptt':!0x0,'mimetype':_0x294917(0x2da)},{'presence':'recording','delay':_0x43c2ea?.[_0x294917(0x254)]?.[_0x294917(0x3da)]});}else throw new I(_0x42e8dd);}return await this[_0x294917(0x496)](_0x43c2ea[_0x294917(0x344)],{'audio':(0x0,$[_0x294917(0x26e)])(_0x43c2ea[_0x294917(0x3f4)][_0x294917(0x450)])?{'url':_0x43c2ea[_0x294917(0x3f4)][_0x294917(0x450)]}:Buffer[_0x294917(0x647)](_0x43c2ea['audioMessage'][_0x294917(0x450)],'base64'),'ptt':!0x0,'mimetype':_0x294917(0x234)},{'presence':_0x294917(0x362),'delay':_0x43c2ea?.[_0x294917(0x254)]?.[_0x294917(0x3da)]});}async[a0_0x4cf6e5(0x492)](_0x1b218c){const _0x309717=a0_0x4cf6e5;this[_0x309717(0x672)]['verbose'](_0x309717(0x46f));let _0x3ecb92=(0x0,$[_0x309717(0x26e)])(_0x1b218c)?(0x0,vs[_0x309717(0x136)])('sha256')[_0x309717(0x225)](_0x1b218c)[_0x309717(0x679)](_0x309717(0x64e)):(0x0,vs[_0x309717(0x136)])(_0x309717(0x1d9))['update'](_0x1b218c)[_0x309717(0x679)](_0x309717(0x64e)),_0xac3851=''+(0x0,j['join'])(this[_0x309717(0x4c1)],_0x3ecb92+_0x309717(0x69c));if(L[_0x309717(0x2c8)](_0xac3851))return this[_0x309717(0x672)][_0x309717(0x1f7)](_0x309717(0x667)),_0xac3851;let _0x3c1c7b=''+(0x0,j[_0x309717(0x52f)])(this[_0x309717(0x4c1)],_0x309717(0x605)+(0x0,Ce['v4'])()+_0x309717(0x4fd));if((0x0,$[_0x309717(0x26e)])(_0x1b218c)){let _0x466a72=new Date()['getTime'](),_0x45590d=_0x1b218c+_0x309717(0x313)+_0x466a72,_0x329834=await se[_0x309717(0xb2)][_0x309717(0x571)](_0x45590d,{'responseType':_0x309717(0x17b)});L[_0x309717(0x49a)](_0x3c1c7b,_0x329834[_0x309717(0x8e)]);}else{let _0x5bb9fc=Buffer[_0x309717(0x647)](_0x1b218c,_0x309717(0x3a3));L[_0x309717(0x49a)](_0x3c1c7b,_0x5bb9fc);}return new Promise((_0x488741,_0x425cc5)=>{const _0x487403=_0x309717;(0x0,Pt[_0x487403(0x466)])(yr['default'][_0x487403(0x150)]+'\x20-i\x20'+_0x3c1c7b+_0x487403(0x6aa)+_0xac3851+_0x487403(0x353),_0x8cb3d0=>{const _0x4f9b2c=_0x487403;if(L['unlinkSync'](_0x3c1c7b),_0x8cb3d0){this[_0x4f9b2c(0x672)]['verbose'](_0x4f9b2c(0x6f)),_0x425cc5(_0x8cb3d0);return;}this['logger'][_0x4f9b2c(0x1f7)]('Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x488741(_0xac3851);});});}async[a0_0x4cf6e5(0x27d)](_0x1c65c5){const _0x3d2cf9=a0_0x4cf6e5;let _0x331c34={},_0x20e6d3=_0x3d2cf9(0x43d);if(_0x1c65c5['buttonMessage']?.[_0x3d2cf9(0x6a8)]){_0x20e6d3=_0x1c65c5[_0x3d2cf9(0x27d)][_0x3d2cf9(0x6a8)]?.[_0x3d2cf9(0x5c0)][_0x3d2cf9(0x440)]()??_0x3d2cf9(0x43d),_0x331c34[_0x3d2cf9(0x6bc)]=_0x20e6d3[_0x3d2cf9(0x21e)]()+_0x3d2cf9(0x4ab);let _0x44e5cf=await this[_0x3d2cf9(0x309)](_0x1c65c5['buttonMessage']['mediaMessage']);_0x331c34['message']=_0x44e5cf[_0x3d2cf9(0x251)][_0x331c34['mediaKey']],_0x331c34[_0x3d2cf9(0x31e)]='*'+_0x1c65c5[_0x3d2cf9(0x27d)]['title']+_0x3d2cf9(0x1ee)+_0x1c65c5[_0x3d2cf9(0x27d)][_0x3d2cf9(0xd5)];}let _0x1c9427={'text':_0x1c65c5['buttonMessage'][_0x3d2cf9(0x560)][_0x3d2cf9(0x2ad)](_0x532979=>_0x532979[_0x3d2cf9(0x534)]),'ids':_0x1c65c5[_0x3d2cf9(0x27d)][_0x3d2cf9(0x560)][_0x3d2cf9(0x2ad)](_0x188ccd=>_0x188ccd[_0x3d2cf9(0x3e5)])};if(!(0x0,$[_0x3d2cf9(0x182)])(_0x1c9427[_0x3d2cf9(0x118)])||!(0x0,$[_0x3d2cf9(0x182)])(_0x1c9427[_0x3d2cf9(0x4cb)]))throw new w(_0x3d2cf9(0x216),_0x3d2cf9(0x7f));return await this[_0x3d2cf9(0x496)](_0x1c65c5[_0x3d2cf9(0x344)],{'buttonsMessage':{'text':_0x331c34?.[_0x3d2cf9(0x6bc)]?void 0x0:_0x1c65c5[_0x3d2cf9(0x27d)][_0x3d2cf9(0x542)],'contentText':_0x331c34?.[_0x3d2cf9(0x31e)]??_0x1c65c5[_0x3d2cf9(0x27d)][_0x3d2cf9(0xd5)],'footerText':_0x1c65c5[_0x3d2cf9(0x27d)]?.[_0x3d2cf9(0xe1)],'buttons':_0x1c65c5[_0x3d2cf9(0x27d)][_0x3d2cf9(0x560)][_0x3d2cf9(0x2ad)](_0x52ec00=>({'buttonText':{'displayText':_0x52ec00[_0x3d2cf9(0x534)]},'buttonId':_0x52ec00['buttonId'],'type':0x1})),'headerType':g[_0x3d2cf9(0x168)][_0x3d2cf9(0x4ab)][_0x3d2cf9(0x5f7)][_0x3d2cf9(0x5c3)][_0x20e6d3],[_0x331c34?.[_0x3d2cf9(0x6bc)]]:_0x331c34?.[_0x3d2cf9(0x251)]}},_0x1c65c5?.[_0x3d2cf9(0x254)]);}async[a0_0x4cf6e5(0x1cf)](_0xfd5222){const _0x4acc6c=a0_0x4cf6e5;return await this[_0x4acc6c(0x496)](_0xfd5222['number'],{'locationMessage':{'degreesLatitude':_0xfd5222['locationMessage'][_0x4acc6c(0x448)],'degreesLongitude':_0xfd5222[_0x4acc6c(0x1cf)][_0x4acc6c(0x38c)],'name':_0xfd5222[_0x4acc6c(0x1cf)]?.[_0x4acc6c(0x3ee)],'address':_0xfd5222[_0x4acc6c(0x1cf)]?.[_0x4acc6c(0x61f)]}},_0xfd5222?.['options']);}async['contactMessage'](_0x3e789f){const _0x48e6aa=a0_0x4cf6e5;let _0x64fca2={},_0x2fbed4=_0x5953bc=>{const _0xc1ad40=a0_0x1ffd;let _0x399b8b=_0xc1ad40(0x44c)+_0x5953bc['fullName']+_0xc1ad40(0x1bb)+_0x5953bc[_0xc1ad40(0x246)]+'\x0a';_0x5953bc[_0xc1ad40(0x5d9)]&&(_0x399b8b+=_0xc1ad40(0x4d4)+_0x5953bc[_0xc1ad40(0x5d9)]+';\x0a'),_0x5953bc['email']&&(_0x399b8b+='EMAIL:'+_0x5953bc[_0xc1ad40(0x105)]+'\x0a'),_0x5953bc[_0xc1ad40(0x117)]&&(_0x399b8b+=_0xc1ad40(0x436)+_0x5953bc[_0xc1ad40(0x117)]+'\x0a');let _0x2a2df8='';return _0x5953bc[_0xc1ad40(0xae)]&&_0x5953bc[_0xc1ad40(0xae)][_0xc1ad40(0x3ad)]('|')[_0xc1ad40(0x357)]((_0x413dbe,_0x867217)=>{const _0xb2e605=_0xc1ad40;let _0x3d3d9f=this['createJid'](_0x413dbe)[_0xb2e605(0x5fe)](_0xb2e605(0x4db),'');_0x2a2df8+=_0xb2e605(0x12e)+(_0x867217+0x1)+_0xb2e605(0x138)+_0x3d3d9f+':'+_0x413dbe+_0xb2e605(0x205)+(_0x867217+0x1)+_0xb2e605(0x322);}),_0x399b8b+=_0x2a2df8+_0xc1ad40(0x19e),_0x399b8b;};return _0x3e789f[_0x48e6aa(0x442)][_0x48e6aa(0x364)]===0x1?_0x64fca2[_0x48e6aa(0x442)]={'displayName':_0x3e789f[_0x48e6aa(0x442)][0x0][_0x48e6aa(0x246)],'vcard':_0x2fbed4(_0x3e789f[_0x48e6aa(0x442)][0x0])}:_0x64fca2[_0x48e6aa(0x668)]={'displayName':_0x3e789f[_0x48e6aa(0x442)][_0x48e6aa(0x364)]+_0x48e6aa(0x18d),'contacts':_0x3e789f['contactMessage']['map'](_0x1a9949=>({'displayName':_0x1a9949[_0x48e6aa(0x246)],'vcard':_0x2fbed4(_0x1a9949)}))},await this['sendMessageWithTyping'](_0x3e789f[_0x48e6aa(0x344)],{..._0x64fca2},_0x3e789f?.[_0x48e6aa(0x254)]);}async[a0_0x4cf6e5(0x74)](_0x2856e2){const _0x20d1e7=a0_0x4cf6e5;return await this[_0x20d1e7(0x496)](_0x2856e2[_0x20d1e7(0x74)]['key'][_0x20d1e7(0x373)],{'reactionMessage':{'key':_0x2856e2['reactionMessage'][_0x20d1e7(0x5bd)],'text':_0x2856e2[_0x20d1e7(0x74)]['reaction']}});}async[a0_0x4cf6e5(0x6c5)](_0x2f3915){const _0x56dd40=a0_0x4cf6e5;let _0x16ace3=[];for await(let _0x102488 of _0x2f3915[_0x56dd40(0xbf)]){let _0x20e201=this[_0x56dd40(0x4d0)](_0x102488),_0x7a2f84=!0x1;try{if((0x0,g[_0x56dd40(0x1de)])(_0x20e201)){let _0x57db3b=await this['findGroup']({'groupJid':_0x20e201},_0x56dd40(0x25e));_0x16ace3[_0x56dd40(0xc2)](new me(_0x57db3b[_0x56dd40(0x649)]['id'],!!_0x57db3b?.['metadata']['id'],_0x57db3b?.[_0x56dd40(0x649)][_0x56dd40(0x469)])),_0x7a2f84=!!_0x57db3b?.[_0x56dd40(0x649)]['id'];}else{let _0x75df3=(await this['client'][_0x56dd40(0x644)](_0x20e201))[0x0];_0x16ace3[_0x56dd40(0xc2)](new me(_0x75df3[_0x56dd40(0x518)],_0x75df3[_0x56dd40(0x43f)])),_0x7a2f84=_0x75df3[_0x56dd40(0x43f)];}}catch{await this['checkAndUpdateChatStatus'](_0x20e201,_0x7a2f84),_0x16ace3['push'](new me(_0x102488,!0x1));}}return _0x16ace3;}async[a0_0x4cf6e5(0x3cd)](_0xcb2a7,_0x2ea77e){const _0x262afa=a0_0x4cf6e5;try{await this[_0x262afa(0x79)][_0x262afa(0x51b)][_0x262afa(0x2a7)]({'where':{'_id':_0xcb2a7,'imported':!0x0}},this[_0x262afa(0x5a3)][_0x262afa(0x6ce)])&&(_0x2ea77e||(await this['repository'][_0x262afa(0x51b)][_0x262afa(0x52d)](_0xcb2a7,this[_0x262afa(0x5a3)][_0x262afa(0x6ce)]),console[_0x262afa(0x2e6)](_0x262afa(0x691)+_0xcb2a7+_0x262afa(0x61e))));}catch(_0x326da8){console['error'](_0x262afa(0x636),_0x326da8);}}async[a0_0x4cf6e5(0x562)](_0x585409){const _0x22e8d4=a0_0x4cf6e5;try{let _0x41eb98=_0x585409['readMessages']['filter'](_0x4194c4=>(0x0,g[_0x22e8d4(0x1de)])(_0x4194c4[_0x22e8d4(0x373)])||(0x0,g[_0x22e8d4(0x85)])(_0x4194c4[_0x22e8d4(0x373)]))[_0x22e8d4(0x2ad)](_0x166b48=>({'remoteJid':_0x166b48[_0x22e8d4(0x373)],'fromMe':_0x166b48[_0x22e8d4(0x302)],'id':_0x166b48['id']}));await this['client'][_0x22e8d4(0x388)](_0x41eb98);let _0x225332=_0x41eb98['map'](_0x4fe519=>this[_0x22e8d4(0x201)](_0x4fe519,{'status':_0x22e8d4(0x5be),'owner':this['instance']['wuid']})),_0xe90c18=_0x41eb98[_0x22e8d4(0x2ad)](_0x1fea52=>this['repository'][_0x22e8d4(0x51b)]['updateOne']({'where':{'_id':_0x1fea52[_0x22e8d4(0x373)]}},{'unreadcount':0x0},this[_0x22e8d4(0x5a3)][_0x22e8d4(0x6ce)])),[_0x2b2e7e,_0x4e90c7]=await Promise['all']([Promise['all'](_0x225332),Promise[_0x22e8d4(0xc8)](_0xe90c18)]);return _0x4e90c7['filter'](_0x18bc3c=>_0x18bc3c!==null)[_0x22e8d4(0x357)](_0x4c19c4=>{const _0x187cd2=_0x22e8d4;q(this[_0x187cd2(0x276)],_0x187cd2(0x35a),{'chat':_0x4c19c4});}),{'message':_0x22e8d4(0x272),'read':_0x22e8d4(0x2e8)};}catch(_0xea2c47){throw console[_0x22e8d4(0x14e)](_0x22e8d4(0xab),_0xea2c47),new I(_0x22e8d4(0x186),_0xea2c47['toString']());}}async[a0_0x4cf6e5(0x330)](_0x37a014){const _0x56de7c=a0_0x4cf6e5;let _0x2d8d09={'where':{'key':{'remoteJid':_0x37a014}},'limit':0x1},_0x4b9012=await this[_0x56de7c(0x39b)](_0x2d8d09);return _0x4b9012||(console['error'](_0x56de7c(0x5af),_0x37a014),null);}async[a0_0x4cf6e5(0x487)](_0x7baf75){const _0x1da70f=a0_0x4cf6e5;this['logger'][_0x1da70f(0x1f7)](_0x1da70f(0x154));try{let _0x5d0304=_0x7baf75[_0x1da70f(0x25a)],_0x2d1e50=_0x7baf75[_0x1da70f(0x51b)];if(!_0x5d0304&&_0x2d1e50?_0x5d0304=await this[_0x1da70f(0x330)](_0x2d1e50):(_0x5d0304=_0x7baf75[_0x1da70f(0x25a)],_0x5d0304['messageTimestamp']=_0x5d0304?.[_0x1da70f(0x6b7)]??Date[_0x1da70f(0x5a1)](),_0x2d1e50=_0x5d0304?.['key']?.['remoteJid']),!_0x5d0304||Object[_0x1da70f(0x4d7)](_0x5d0304)['length']===0x0)throw new k(_0x1da70f(0xf7));this[_0x1da70f(0x672)][_0x1da70f(0x1f7)]('Archiving\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x2d1e50);try{await this[_0x1da70f(0x163)]['chatModify']({'archive':_0x7baf75[_0x1da70f(0x1e9)],'lastMessages':[_0x5d0304]},this['createJid'](_0x2d1e50));}catch(_0x4b3cd2){this[_0x1da70f(0x672)][_0x1da70f(0x14e)](_0x1da70f(0x293)+_0x2d1e50+':\x20'+_0x4b3cd2['toString']());}this['logger']['verbose']('Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x2d1e50);let _0x9d5b12=await this['repository'][_0x1da70f(0x51b)][_0x1da70f(0x376)]({'where':{'_id':_0x5d0304?.[_0x1da70f(0x5bd)]?.[_0x1da70f(0x373)]}},{'archived':_0x7baf75[_0x1da70f(0x1e9)]},this[_0x1da70f(0x5a3)][_0x1da70f(0x6ce)]);return _0x9d5b12?(this['logger'][_0x1da70f(0x1f7)](_0x1da70f(0x6e2)+JSON['stringify'](_0x9d5b12)),q(this[_0x1da70f(0x276)],_0x1da70f(0x35a),{'chat':_0x9d5b12})):this[_0x1da70f(0x672)][_0x1da70f(0x14e)](_0x1da70f(0x1af)+_0x2d1e50),{'chatId':_0x2d1e50,'archived':_0x7baf75[_0x1da70f(0x1e9)]};}catch(_0x2025ac){throw this[_0x1da70f(0x672)][_0x1da70f(0x14e)](_0x1da70f(0x2a3)+_0x2025ac[_0x1da70f(0x69a)]()),new I({'archived':!0x1,'message':[_0x1da70f(0x379),_0x2025ac[_0x1da70f(0x69a)]()]});}}async[a0_0x4cf6e5(0x4e7)](_0x4d82fa){const _0x353f31=a0_0x4cf6e5;try{let _0x26384e=await this[_0x353f31(0x163)][_0x353f31(0x529)](_0x4d82fa['remoteJid'],{'delete':_0x4d82fa});try{let _0x2f3342=await this[_0x353f31(0x201)](_0x4d82fa,{'status':_0x353f31(0x95),'owner':this[_0x353f31(0x5a3)]['wuid']});this[_0x353f31(0x672)][_0x353f31(0x1f7)](this[_0x353f31(0x276)]+'\x20('+this[_0x353f31(0x5a3)]['wuid']+_0x353f31(0x4d3)+_0x2f3342);}catch(_0x432a19){console[_0x353f31(0x14e)](_0x353f31(0x36b),_0x432a19);}return _0x26384e;}catch(_0x4d8e17){throw new I(_0x353f31(0x5e9),_0x4d8e17?.[_0x353f31(0x69a)]());}}async[a0_0x4cf6e5(0x270)](_0xbfc98f){const _0x5b81b4=a0_0x4cf6e5;try{let _0x458fba=_0xbfc98f?.[_0x5b81b4(0x251)]?_0xbfc98f:await this[_0x5b81b4(0x480)](_0xbfc98f[_0x5b81b4(0x5bd)],!0x0);for(let _0x438d6c of ma)_0x458fba[_0x5b81b4(0x251)][_0x438d6c]&&(_0x458fba['message']=_0x458fba[_0x5b81b4(0x251)][_0x438d6c]['message']);let _0x5e37df,_0x2ae07d;for(let _0x39b4d6 of ga)if(_0x5e37df=_0x458fba[_0x5b81b4(0x251)][_0x39b4d6],_0x5e37df){_0x2ae07d=_0x39b4d6;break;}if(!_0x5e37df)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x5e37df['mediaKey']==_0x5b81b4(0x224)&&(_0x458fba['message']=JSON['parse'](JSON['stringify'](_0x458fba[_0x5b81b4(0x251)])));let _0x1c2f54=await(0x0,g[_0x5b81b4(0x6b0)])({'key':_0x458fba?.['key'],'message':_0x458fba?.[_0x5b81b4(0x251)]},'buffer',{},{'logger':(0x0,It[_0x5b81b4(0xb2)])({'level':_0x5b81b4(0x603)}),'reuploadRequest':this[_0x5b81b4(0x163)]['updateMediaMessage']});if(!(_0x1c2f54 instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x1f542d=this[_0x5b81b4(0x2e3)][_0x5b81b4(0x571)](_0x5b81b4(0x694)),_0x1bfcd3,_0x45aa9a;if(_0x5e37df[_0x5b81b4(0x556)])_0x1bfcd3=_0x5e37df[_0x5b81b4(0x556)];else{let _0x12c13a=_0x5e37df['mimetype']?.[_0x5b81b4(0x598)](/\/(\w+)/),_0x590645=_0x12c13a?_0x12c13a[0x1]:null;if(!_0x590645)throw new Error(_0x5b81b4(0x47a));_0x1bfcd3=(0x0,Ce['v4'])()+'.'+_0x590645;}_0x2ae07d===_0x5b81b4(0x3f4)&&_0x5e37df['mimetype']==='audio/ogg'?(_0x1bfcd3=(0x0,Ce['v4'])()+_0x5b81b4(0x460),_0x45aa9a=_0x5b81b4(0x475)+await this[_0x5b81b4(0x492)](_0x1c2f54[_0x5b81b4(0x69a)]('base64'))):(await this['saveMediaToFile'](_0x1c2f54,_0x1bfcd3),_0x45aa9a=_0x5b81b4(0x475)+_0x1bfcd3);let _0x2c946a=this[_0x5b81b4(0x2e3)][_0x5b81b4(0x571)](_0x5b81b4(0xe9))[_0x5b81b4(0x474)];if(!_0x2c946a){let _0x110284=this['configService']['get'](_0x5b81b4(0xef));_0x2c946a='https://'+(_0x110284&&_0x110284[_0x5b81b4(0xb1)]['split']('/')[0x4]);}_0x45aa9a=''+_0x2c946a+_0x45aa9a;let _0x2ced83=0xc*0x3c*0x3c*0x3e8,_0x16c564={'where':{'_id':_0x458fba[_0x5b81b4(0x5bd)]['id']}},_0x4eb2e7={'message_normalized.fileUrl':_0x45aa9a,'message_normalized.expires_fileUrl':Date[_0x5b81b4(0x5a1)]()+_0x2ced83};try{let _0x4571b8=await this[_0x5b81b4(0x79)][_0x5b81b4(0x251)][_0x5b81b4(0x225)](_0x16c564,_0x4eb2e7,this[_0x5b81b4(0x5a3)][_0x5b81b4(0x6ce)]);_0x4571b8&&q(this[_0x5b81b4(0x276)],_0x5b81b4(0x688),{'message':_0x4571b8});}catch(_0x1696fd){this[_0x5b81b4(0x672)][_0x5b81b4(0x14e)](this[_0x5b81b4(0x276)]+'\x20('+this[_0x5b81b4(0x5a3)][_0x5b81b4(0x6ce)]+_0x5b81b4(0xf9)+(_0x1696fd instanceof Error?_0x1696fd[_0x5b81b4(0x251)]:JSON[_0x5b81b4(0x611)](_0x1696fd,null,0x2)));}return{'mediaType':_0x2ae07d,'fileName':_0x5e37df['fileName'],'caption':_0x5e37df[_0x5b81b4(0x4c6)],'size':{'fileLength':_0x5e37df[_0x5b81b4(0x12c)],'height':_0x5e37df[_0x5b81b4(0x8f)],'width':_0x5e37df[_0x5b81b4(0x267)]},'mimetype':_0x5e37df['mimetype'],'base64':_0x1c2f54['toString'](_0x5b81b4(0x3a3)),'fileUrl':_0x45aa9a,'expires_fileUrl':Date[_0x5b81b4(0x5a1)]()+_0x2ced83};}catch(_0x4b7cb9){throw this[_0x5b81b4(0x672)][_0x5b81b4(0x14e)](this[_0x5b81b4(0x276)]+'\x20('+this[_0x5b81b4(0x5a3)][_0x5b81b4(0x6ce)]+_0x5b81b4(0xf9)+(_0x4b7cb9 instanceof Error?_0x4b7cb9[_0x5b81b4(0x251)]:JSON[_0x5b81b4(0x611)](_0x4b7cb9,null,0x2))),new w(_0x4b7cb9[_0x5b81b4(0x69a)]());}}async['saveMediaToFile'](_0xddeb92,_0x39f092){const _0x3797ff=a0_0x4cf6e5;let _0x39d3c2=j['default'][_0x3797ff(0x52f)](__dirname,_0x3797ff(0x93));L[_0x3797ff(0x2c8)](_0x39d3c2)||L[_0x3797ff(0x5c6)](_0x39d3c2,{'recursive':!0x0});let _0x9d4e3f=j[_0x3797ff(0xb2)][_0x3797ff(0x52f)](_0x39d3c2,_0x39f092);return new Promise((_0x3b7d5c,_0x55595e)=>{const _0x19a05a=_0x3797ff;L[_0x19a05a(0x4cc)](_0x9d4e3f,_0xddeb92,_0x564035=>{const _0x467a10=_0x19a05a;_0x564035?(this['logger'][_0x467a10(0x14e)](_0x467a10(0x3cb)+(_0x564035 instanceof Error?_0x564035[_0x467a10(0x251)]:JSON[_0x467a10(0x611)](_0x564035,null,0x2))),_0x55595e(_0x564035)):(this[_0x467a10(0x672)][_0x467a10(0x2e6)](_0x467a10(0x4da)+_0x9d4e3f),_0x3b7d5c(_0x9d4e3f));});});}async['fetchContacts'](_0x4bf088){const _0x3c4059=a0_0x4cf6e5;return await this[_0x3c4059(0x79)][_0x3c4059(0x294)][_0x3c4059(0x531)](_0x4bf088,this[_0x3c4059(0x5a3)]['wuid']);}async[a0_0x4cf6e5(0x2ec)](){const _0x485753=a0_0x4cf6e5;return await this[_0x485753(0x79)][_0x485753(0x60b)][_0x485753(0x531)]({'where':{}},this[_0x485753(0x5a3)][_0x485753(0x6ce)]);}async[a0_0x4cf6e5(0x39b)](_0x475c0f){const _0x5c1b76=a0_0x4cf6e5;return await this[_0x5c1b76(0x79)][_0x5c1b76(0x251)]['find'](_0x475c0f,this[_0x5c1b76(0x5a3)][_0x5c1b76(0x6ce)]);}async[a0_0x4cf6e5(0x51e)](){const _0x369add=a0_0x4cf6e5;return this[_0x369add(0x79)][_0x369add(0x51b)][_0x369add(0x73)](this[_0x369add(0x5a3)][_0x369add(0x6ce)]),this[_0x369add(0x79)][_0x369add(0x51b)][_0x369add(0x4c7)](this['instance'][_0x369add(0x6ce)]),this['repository'][_0x369add(0x51b)]['updateMissingTags'](this['instance'][_0x369add(0x6ce)]),this['repository']['chat']['updateMissingCustomFields'](this['instance'][_0x369add(0x6ce)]),await this['repository'][_0x369add(0x51b)][_0x369add(0x531)]({'where':{}},this[_0x369add(0x5a3)]['wuid']);}async[a0_0x4cf6e5(0x195)](_0x41bf22){const _0x1c36ae=a0_0x4cf6e5;try{if(!Array[_0x1c36ae(0x513)](_0x41bf22)||_0x41bf22['length']===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x5b2f7c=[],_0x11a042=[];for(let _0x37ad39 of _0x41bf22){if(_0x37ad39['_id'])_0x37ad39[_0x1c36ae(0x637)]=this[_0x1c36ae(0x4d0)](_0x37ad39['_id']);else continue;await this[_0x1c36ae(0x79)][_0x1c36ae(0x51b)][_0x1c36ae(0x2a7)]({'where':{'_id':_0x37ad39[_0x1c36ae(0x637)]}},this[_0x1c36ae(0x5a3)][_0x1c36ae(0x6ce)])?_0x11a042[_0x1c36ae(0xc2)]({'_id':_0x37ad39[_0x1c36ae(0x637)],'leadInfo':_0x37ad39[_0x1c36ae(0x5d0)],'owner':this[_0x1c36ae(0x5a3)][_0x1c36ae(0x6ce)]}):_0x5b2f7c['push']({'_id':_0x37ad39[_0x1c36ae(0x637)],'owner':this['instance'][_0x1c36ae(0x6ce)],'leadInfo':_0x37ad39[_0x1c36ae(0x5d0)],'imported':!0x0});}return _0x11a042[_0x1c36ae(0x364)]>0x0&&await this[_0x1c36ae(0x79)][_0x1c36ae(0x51b)][_0x1c36ae(0x1e4)](_0x11a042[_0x1c36ae(0x2ad)](_0x3bbb1c=>({'query':{'where':{'_id':_0x3bbb1c['_id'],'owner':this[_0x1c36ae(0x5a3)][_0x1c36ae(0x6ce)]}},'update':_0x3bbb1c}))),_0x5b2f7c['length']>0x0&&await this[_0x1c36ae(0x79)][_0x1c36ae(0x51b)][_0x1c36ae(0x676)](_0x5b2f7c,this[_0x1c36ae(0x5a3)]['wuid']),{'updated':_0x11a042[_0x1c36ae(0x364)],'inserted':_0x5b2f7c['length']};}catch(_0x387300){throw console[_0x1c36ae(0x14e)](_0x1c36ae(0x3f9),_0x387300),_0x387300;}}async[a0_0x4cf6e5(0x36e)](_0x5a7f74){const _0x4d807c=a0_0x4cf6e5;try{if(!Array[_0x4d807c(0x513)](_0x5a7f74)||_0x5a7f74[_0x4d807c(0x364)]===0x0)throw new Error(_0x4d807c(0x1d6));let _0xef8457=0x64,_0x20f154=0x0;for(let _0x53f56a=0x0;_0x53f56a<_0x5a7f74[_0x4d807c(0x364)];_0x53f56a+=_0xef8457){let _0xf97552=_0x5a7f74['slice'](_0x53f56a,_0x53f56a+_0xef8457),{updated:_0x57d900}=await this['importChatsBatch'](_0xf97552);_0x20f154+=_0x57d900;}return{'updated':_0x20f154};}catch(_0x7c37ad){throw console['error'](_0x4d807c(0x3f9),_0x7c37ad),_0x7c37ad;}}async['importChatsBatch'](_0x283ffa){const _0x4a46f8=a0_0x4cf6e5;try{let _0x4fe90d=await this[_0x4a46f8(0x79)][_0x4a46f8(0x60b)][_0x4a46f8(0x531)]({'where':{}},this[_0x4a46f8(0x5a3)][_0x4a46f8(0x6ce)]),_0x334844=new Set(_0x4fe90d[_0x4a46f8(0x2ad)](_0x161068=>_0x161068[_0x4a46f8(0x637)])),_0x3cf4e8=[],_0x361478=[];for(let _0x50d014 of _0x283ffa){if(!_0x50d014[_0x4a46f8(0x637)])continue;_0x50d014[_0x4a46f8(0x637)]=this['createJid'](_0x50d014[_0x4a46f8(0x637)]);let _0x4cf0c6=await this[_0x4a46f8(0x79)]['chat'][_0x4a46f8(0x2a7)]({'where':{'_id':_0x50d014[_0x4a46f8(0x637)]}},this['instance'][_0x4a46f8(0x6ce)]),_0x5f0bf5={};if(Object['entries'](_0x50d014[_0x4a46f8(0x5d0)])[_0x4a46f8(0x357)](([_0x1791c7,_0x30a443])=>{const _0x584b68=_0x4a46f8;_0x5f0bf5[_0x584b68(0x2b1)+_0x1791c7]=_0x30a443;}),_0x4cf0c6&&!_0x4cf0c6[_0x4a46f8(0x602)]){let _0x488280=(_0x50d014['leadInfo'][_0x4a46f8(0x648)]||[])['filter'](_0x780326=>_0x334844['has'](_0x780326)),_0x5a3dc1=new Set(_0x4cf0c6[_0x4a46f8(0x5d0)][_0x4a46f8(0x648)]||[]),_0x6b8ee7=_0x488280[_0x4a46f8(0x4dd)](_0x1e5c96=>!_0x5a3dc1[_0x4a46f8(0x141)](_0x1e5c96)),_0x1b2dc3=[..._0x5a3dc1]['filter'](_0x4813af=>!_0x488280[_0x4a46f8(0x1bd)](_0x4813af));_0x361478[_0x4a46f8(0xc2)](..._0x6b8ee7[_0x4a46f8(0x2ad)](_0xa32176=>this['AddChatLabel'](_0xa32176,_0x50d014[_0x4a46f8(0x637)]))),_0x361478['push'](..._0x1b2dc3[_0x4a46f8(0x2ad)](_0x1f6e09=>this[_0x4a46f8(0x23e)](_0x1f6e09,_0x50d014['_id']))),_0x50d014['leadInfo'][_0x4a46f8(0x648)]=_0x488280,_0x3cf4e8[_0x4a46f8(0xc2)]({'query':{'where':{'_id':_0x50d014[_0x4a46f8(0x637)],'owner':this['instance'][_0x4a46f8(0x6ce)]}},'update':_0x5f0bf5});}else _0x5f0bf5[_0x4a46f8(0x602)]=!0x0,_0x3cf4e8[_0x4a46f8(0xc2)]({'query':{'where':{'_id':_0x50d014[_0x4a46f8(0x637)],'owner':this[_0x4a46f8(0x5a3)][_0x4a46f8(0x6ce)]}},'update':_0x5f0bf5});}let _0x510946=await this[_0x4a46f8(0x79)]['chat']['updateMany'](_0x3cf4e8);return await Promise[_0x4a46f8(0xc8)](_0x361478),{'updated':_0x510946};}catch(_0x19dea9){throw console[_0x4a46f8(0x14e)](_0x4a46f8(0x3f9),_0x19dea9),_0x19dea9;}}async[a0_0x4cf6e5(0x435)](){const _0x2d3e07=a0_0x4cf6e5;return await this[_0x2d3e07(0x163)][_0x2d3e07(0x435)]();}async['updatePrivacySettings'](_0x5d954b){const _0x33d455=a0_0x4cf6e5;try{return await this[_0x33d455(0x163)]['updateReadReceiptsPrivacy'](_0x5d954b[_0x33d455(0x565)][_0x33d455(0x1e1)]),await this[_0x33d455(0x163)][_0x33d455(0x16a)](_0x5d954b[_0x33d455(0x565)]['profile']),await this[_0x33d455(0x163)][_0x33d455(0x4f9)](_0x5d954b['privacySettings'][_0x33d455(0x485)]),await this[_0x33d455(0x163)][_0x33d455(0x5b6)](_0x5d954b[_0x33d455(0x565)][_0x33d455(0x1bc)]),await this[_0x33d455(0x163)][_0x33d455(0x1b3)](_0x5d954b[_0x33d455(0x565)]['last']),await this[_0x33d455(0x163)][_0x33d455(0x5cb)](_0x5d954b[_0x33d455(0x565)][_0x33d455(0x247)]),this['client']?.['ws']?.[_0x33d455(0x607)](),{'update':_0x33d455(0x2e8),'data':{'readreceipts':_0x5d954b[_0x33d455(0x565)][_0x33d455(0x1e1)],'profile':_0x5d954b[_0x33d455(0x565)][_0x33d455(0x27c)],'status':_0x5d954b[_0x33d455(0x565)][_0x33d455(0x485)],'online':_0x5d954b['privacySettings'][_0x33d455(0x1bc)],'last':_0x5d954b['privacySettings'][_0x33d455(0x316)],'groupadd':_0x5d954b['privacySettings']['groupadd']}};}catch(_0x424004){throw new I(_0x33d455(0x221),_0x424004[_0x33d455(0x69a)]());}}async[a0_0x4cf6e5(0x462)](_0x19a18c){const _0x347b4e=a0_0x4cf6e5;let _0x560915=_0x19a18c?this[_0x347b4e(0x4d0)](_0x19a18c):this[_0x347b4e(0x163)]?.[_0x347b4e(0x5b8)]?.['id'];this[_0x347b4e(0x672)][_0x347b4e(0x1f7)](_0x347b4e(0x2a4)+_0x560915);try{if(this[_0x347b4e(0x672)][_0x347b4e(0x1f7)](_0x347b4e(0x4b1)),_0x19a18c){let _0x40f5bc=(await this[_0x347b4e(0x6c5)]({'numbers':[_0x560915]}))?.[_0x347b4e(0x3f3)](),_0x26ceef=await this['profilePicture'](_0x40f5bc?.[_0x347b4e(0x518)]),_0x48c6ae=await this[_0x347b4e(0x178)](_0x40f5bc?.[_0x347b4e(0x518)]),_0x533b94=await this[_0x347b4e(0x397)](_0x40f5bc?.[_0x347b4e(0x518)]);return{'wuid':_0x40f5bc?.[_0x347b4e(0x518)]||_0x560915,'name':_0x40f5bc?.[_0x347b4e(0x3ee)],'numberExists':_0x40f5bc?.['exists'],'picture':_0x26ceef?.[_0x347b4e(0x29a)],'status':_0x48c6ae?.['status'],'isBusiness':_0x533b94[_0x347b4e(0x35c)],'email':_0x533b94?.['email'],'description':_0x533b94?.[_0x347b4e(0xd5)],'website':_0x533b94?.[_0x347b4e(0x4ba)]?.[_0x347b4e(0x3f3)]()};}}catch{return this[_0x347b4e(0x672)][_0x347b4e(0x1f7)](_0x347b4e(0x352)),{'wuid':_0x560915,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x4cf6e5(0x5c1)](_0x2e3a36){const _0x2e3e42=a0_0x4cf6e5;let _0x43b3e4=(_0x2e3a36?this[_0x2e3e42(0x4d0)](_0x2e3a36):this['client']?.[_0x2e3e42(0x5b8)]?.['id'])[_0x2e3e42(0x5fe)](/:\d{1,2}@/g,'@');this[_0x2e3e42(0x672)][_0x2e3e42(0x1f7)](_0x2e3e42(0x64f)+_0x43b3e4);let _0x5dbfc5=await this[_0x2e3e42(0x79)][_0x2e3e42(0x294)][_0x2e3e42(0x2a7)]({'where':{'_id':_0x43b3e4}},this[_0x2e3e42(0x5a3)]['wuid']),_0x1dbf2e=_0x5dbfc5?_0x5dbfc5[_0x2e3e42(0x3e9)]:null;try{let _0x5997bf=(await this[_0x2e3e42(0x6c5)]({'numbers':[_0x43b3e4]}))?.[_0x2e3e42(0x3f3)](),_0x4c367=await this[_0x2e3e42(0x619)](_0x5997bf?.[_0x2e3e42(0x518)]),_0x245669=await this[_0x2e3e42(0x178)](_0x5997bf?.[_0x2e3e42(0x518)]),_0x31d0cf=await this['fetchBusinessProfile'](_0x5997bf?.[_0x2e3e42(0x518)]),_0x18aa31=await this['repository'][_0x2e3e42(0x51b)]['findOne']({'where':{'_id':_0x43b3e4}},this[_0x2e3e42(0x5a3)][_0x2e3e42(0x6ce)]),_0x4088cf={'imagechat':_0x4c367?.[_0x2e3e42(0x29a)],'contactname':_0x1dbf2e||null,'status':_0x245669?.[_0x2e3e42(0x485)],'isBusiness':_0x31d0cf[_0x2e3e42(0x35c)],'email':_0x31d0cf?.['email'],'description':_0x31d0cf?.[_0x2e3e42(0xd5)],'website':_0x31d0cf?.[_0x2e3e42(0x4ba)]?.[_0x2e3e42(0x3f3)](),'lastcache':Date[_0x2e3e42(0x5a1)](),'imported':!_0x18aa31},_0x3aa03e=await this[_0x2e3e42(0x79)]['chat'][_0x2e3e42(0x376)]({'where':{'_id':_0x43b3e4}},_0x4088cf,this[_0x2e3e42(0x5a3)]['wuid']),_0xf5c513={'owner':this[_0x2e3e42(0x5a3)][_0x2e3e42(0x6ce)],'_id':_0x43b3e4,'profilePictureUrl':_0x4c367?.[_0x2e3e42(0x29a)],'status':_0x245669?.['status']};return this['repository']['contact'][_0x2e3e42(0x225)]([_0xf5c513],this['instance'][_0x2e3e42(0x6ce)]),_0x3aa03e&&q(this[_0x2e3e42(0x276)],'chats',{'chat':_0x3aa03e}),{'wuid':_0x5997bf?.[_0x2e3e42(0x518)]||_0x43b3e4,'name':_0x5997bf?.[_0x2e3e42(0x3ee)],'numberExists':_0x5997bf?.[_0x2e3e42(0x43f)],'picture':_0x4c367?.[_0x2e3e42(0x29a)],'status':_0x245669?.[_0x2e3e42(0x485)],'isBusiness':_0x31d0cf[_0x2e3e42(0x35c)],'email':_0x31d0cf?.[_0x2e3e42(0x105)],'description':_0x31d0cf?.[_0x2e3e42(0xd5)],'website':_0x31d0cf?.[_0x2e3e42(0x4ba)]?.[_0x2e3e42(0x3f3)]()};}catch(_0xb985cc){return this[_0x2e3e42(0x672)]['error'](_0x2e3e42(0x324)+(_0xb985cc instanceof Error?_0xb985cc[_0x2e3e42(0x251)]:JSON[_0x2e3e42(0x611)](_0xb985cc,null,0x2))),{};}}async[a0_0x4cf6e5(0x397)](_0x4a05ff){const _0x5a8b98=a0_0x4cf6e5;this[_0x5a8b98(0x672)]['verbose'](_0x5a8b98(0x35b));try{let _0x5a0d17=_0x4a05ff?this[_0x5a8b98(0x4d0)](_0x4a05ff):this['instance'][_0x5a8b98(0x6ce)],_0x27cedb=await this[_0x5a8b98(0x163)]['getBusinessProfile'](_0x5a0d17);return this[_0x5a8b98(0x672)][_0x5a8b98(0x1f7)]('Trying\x20to\x20get\x20business\x20profile'),_0x27cedb?(this['logger']['verbose']('Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x27cedb}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this[_0x5a8b98(0x6c5)]({'numbers':[_0x5a0d17]}))?.[_0x5a8b98(0x3f3)]()};}catch(_0x4b5740){throw new I(_0x5a8b98(0x6e9),_0x4b5740[_0x5a8b98(0x69a)]());}}async[a0_0x4cf6e5(0x178)](_0xc056da){const _0x3f7cae=a0_0x4cf6e5;let _0x2e9aa5=this[_0x3f7cae(0x4d0)](_0xc056da);try{return{'wuid':_0x2e9aa5,'status':(await this['client'][_0x3f7cae(0x1cc)](_0x2e9aa5))?.[_0x3f7cae(0x485)]};}catch{return{'wuid':_0x2e9aa5,'status':null};}}async[a0_0x4cf6e5(0x326)](_0x14984b){const _0x1df730=a0_0x4cf6e5;try{return await this[_0x1df730(0x163)]['updateProfileName'](_0x14984b),{'update':_0x1df730(0x2e8)};}catch(_0x279b23){throw new I(_0x1df730(0x6e9),_0x279b23[_0x1df730(0x69a)]());}}async['updateProfileStatus'](_0xb8be62){const _0x22e9bb=a0_0x4cf6e5;try{return await this[_0x22e9bb(0x163)][_0x22e9bb(0x58e)](_0xb8be62),{'update':_0x22e9bb(0x2e8)};}catch(_0xfdea57){throw new I(_0x22e9bb(0x38e),_0xfdea57[_0x22e9bb(0x69a)]());}}async['updateProfilePicture'](_0x531ed3){const _0x3547f7=a0_0x4cf6e5;try{let _0x2fd13e;if((0x0,$[_0x3547f7(0x26e)])(_0x531ed3)){let _0x4ac84f=new Date()['getTime'](),_0x1ec18d=_0x531ed3+_0x3547f7(0x313)+_0x4ac84f;_0x2fd13e=(await se[_0x3547f7(0xb2)]['get'](_0x1ec18d,{'responseType':_0x3547f7(0x17b)}))[_0x3547f7(0x8e)];}else{if((0x0,$[_0x3547f7(0x4b4)])(_0x531ed3))_0x2fd13e=Buffer[_0x3547f7(0x647)](_0x531ed3,_0x3547f7(0x3a3));else throw new w(_0x3547f7(0x524));}return await this[_0x3547f7(0x163)][_0x3547f7(0x62f)](this[_0x3547f7(0x5a3)][_0x3547f7(0x6ce)],_0x2fd13e),{'update':_0x3547f7(0x2e8)};}catch(_0x1c75aa){throw new I(_0x3547f7(0x3d3),_0x1c75aa[_0x3547f7(0x69a)]());}}async['removeProfilePicture'](){const _0x1f3cc8=a0_0x4cf6e5;try{return await this[_0x1f3cc8(0x163)][_0x1f3cc8(0x617)](this[_0x1f3cc8(0x5a3)][_0x1f3cc8(0x6ce)]),{'update':_0x1f3cc8(0x2e8)};}catch(_0xcec033){throw new I('Error\x20removing\x20profile\x20picture',_0xcec033[_0x1f3cc8(0x69a)]());}}async[a0_0x4cf6e5(0x264)](_0x53980d){const _0x4f8e08=a0_0x4cf6e5;try{let _0x4594da=_0x53980d['participants'][_0x4f8e08(0x2ad)](_0x230a5a=>this[_0x4f8e08(0x4d0)](_0x230a5a)),{id:_0x41130c}=await this[_0x4f8e08(0x163)][_0x4f8e08(0x470)](_0x53980d[_0x4f8e08(0x469)],_0x4594da);return _0x53980d?.[_0x4f8e08(0xd5)]&&await this['client'][_0x4f8e08(0x259)](_0x41130c,_0x53980d[_0x4f8e08(0xd5)]),{'metadata':await this[_0x4f8e08(0x163)][_0x4f8e08(0x2d4)](_0x41130c)};}catch(_0x3e5b8f){throw this[_0x4f8e08(0x672)][_0x4f8e08(0x14e)](this[_0x4f8e08(0x276)]+'\x20('+this[_0x4f8e08(0x5a3)][_0x4f8e08(0x6ce)]+_0x4f8e08(0xf9)+(_0x3e5b8f instanceof Error?_0x3e5b8f[_0x4f8e08(0x251)]:JSON[_0x4f8e08(0x611)](_0x3e5b8f,null,0x2))),new I('Error\x20creating\x20group',_0x3e5b8f[_0x4f8e08(0x69a)]());}}async[a0_0x4cf6e5(0x15e)](_0xa00977){const _0x2fe81a=a0_0x4cf6e5;try{let _0x5348b1;if((0x0,$[_0x2fe81a(0x26e)])(_0xa00977['image'])){let _0x137bc0=new Date()[_0x2fe81a(0x210)](),_0x5654ec=_0xa00977[_0x2fe81a(0x43e)]+_0x2fe81a(0x313)+_0x137bc0;_0x5348b1=(await se[_0x2fe81a(0xb2)][_0x2fe81a(0x571)](_0x5654ec,{'responseType':'arraybuffer'}))[_0x2fe81a(0x8e)];}else{if((0x0,$[_0x2fe81a(0x4b4)])(_0xa00977['image']))_0x5348b1=Buffer[_0x2fe81a(0x647)](_0xa00977[_0x2fe81a(0x43e)],_0x2fe81a(0x3a3));else throw new w(_0x2fe81a(0x524));}return await this['client']['updateProfilePicture'](_0xa00977[_0x2fe81a(0x164)],_0x5348b1),{'update':_0x2fe81a(0x2e8)};}catch(_0x43585f){throw new I(_0x2fe81a(0x287),_0x43585f[_0x2fe81a(0x69a)]());}}async[a0_0x4cf6e5(0x1d4)](_0x2214ac,_0x3a9c34=a0_0x4cf6e5(0xd1)){const _0x3bb556=a0_0x4cf6e5;try{let _0x401656=await this[_0x3bb556(0x163)][_0x3bb556(0x2d4)](_0x2214ac[_0x3bb556(0x164)]),_0x1273e8=null;try{_0x1273e8=(await this[_0x3bb556(0x619)](_0x2214ac[_0x3bb556(0x164)]))['profilePictureUrl'];}catch(_0x816e11){this[_0x3bb556(0x672)]['verbose'](this[_0x3bb556(0x276)]+'\x20('+this[_0x3bb556(0x5a3)][_0x3bb556(0x6ce)]+_0x3bb556(0x2fe)+_0x2214ac[_0x3bb556(0x164)]+':\x20'+(_0x816e11 instanceof Error?_0x816e11[_0x3bb556(0x251)]:JSON['stringify'](_0x816e11,null,0x2)));}let _0x156030=await this[_0x3bb556(0x79)][_0x3bb556(0x51b)][_0x3bb556(0x376)]({'where':{'_id':_0x2214ac['groupJid']}},{'imagechat':_0x1273e8,'name':_0x401656[_0x3bb556(0x469)],'group_size':_0x401656[_0x3bb556(0x20c)],'group_announce':_0x401656[_0x3bb556(0x32c)],'lastcache':Date[_0x3bb556(0x5a1)]()},this[_0x3bb556(0x5a3)][_0x3bb556(0x6ce)]);return _0x156030&&q(this[_0x3bb556(0x276)],'chats',{'chat':_0x156030}),{'metadata':_0x401656,'image':_0x1273e8};}catch(_0x40ba0d){if(_0x3a9c34===_0x3bb556(0x25e))return;throw new k(_0x3bb556(0x53e),_0x40ba0d[_0x3bb556(0x69a)]());}}async[a0_0x4cf6e5(0x452)](_0x4f4c90){const _0x40f2d7=a0_0x4cf6e5;try{return await this['client'][_0x40f2d7(0x259)](_0x4f4c90['groupJid'],_0x4f4c90[_0x40f2d7(0xd5)]),{'update':_0x40f2d7(0x2e8)};}catch(_0x36b8f2){throw new I('Error\x20change\x20group\x20description',_0x36b8f2[_0x40f2d7(0x69a)]());}}async[a0_0x4cf6e5(0x4f3)](_0x1e1fd3){const _0x29df82=a0_0x4cf6e5;try{return await this[_0x29df82(0x163)][_0x29df82(0x9d)](_0x1e1fd3['groupJid'],_0x1e1fd3[_0x29df82(0x3ee)]),{'update':_0x29df82(0x2e8)};}catch(_0x12c2f9){throw new I(_0x29df82(0x428),_0x12c2f9[_0x29df82(0x69a)]());}}async[a0_0x4cf6e5(0x25c)](_0x21e7ed){const _0xaa7fb2=a0_0x4cf6e5;try{return await this[_0xaa7fb2(0x163)][_0xaa7fb2(0x3b4)](_0x21e7ed[_0xaa7fb2(0x164)],_0x21e7ed[_0xaa7fb2(0x6e1)]),{'update':_0xaa7fb2(0x2e8)};}catch(_0x3fec10){throw new I(_0xaa7fb2(0x4b6),_0x3fec10['toString']());}}async[a0_0x4cf6e5(0x1c5)](){const _0x300a93=a0_0x4cf6e5;try{let _0x229aad=[],_0x25878b=await this[_0x300a93(0x163)][_0x300a93(0x215)](),_0x5d45a2=Object[_0x300a93(0x5a6)](_0x25878b),_0x447b92=_0x5d45a2['filter'](_0xe71075=>(0x0,g[_0x300a93(0x1de)])(_0xe71075?.['id']))[_0x300a93(0x2ad)](async _0x67cc72=>{const _0x5ba4e6=_0x300a93;try{return await this[_0x5ba4e6(0x163)]['profilePictureUrl'](_0x67cc72['id'],_0x5ba4e6(0x3fb));}catch(_0x55b8ea){return this[_0x5ba4e6(0x672)]['verbose'](this['instanceName']+'\x20('+this[_0x5ba4e6(0x5a3)][_0x5ba4e6(0x6ce)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x67cc72['id']+':\x20'+(_0x55b8ea instanceof Error?_0x55b8ea[_0x5ba4e6(0x251)]:JSON[_0x5ba4e6(0x611)](_0x55b8ea,null,0x2))),null;}}),_0x2459d4=await Promise[_0x300a93(0xc8)](_0x447b92);for(let _0x5eb228=0x0;_0x5eb228<_0x5d45a2[_0x300a93(0x364)];_0x5eb228++){let _0x297d79=_0x5d45a2[_0x5eb228];(0x0,g[_0x300a93(0x1de)])(_0x297d79?.['id'])&&_0x229aad[_0x300a93(0xc2)]({'groupJid':_0x297d79?.['id'],'subject':_0x297d79?.[_0x300a93(0x469)],'subjectOwner':_0x297d79?.[_0x300a93(0x415)]?.[_0x300a93(0x3ad)]('@')[0x0],'subjectTime':_0x297d79?.[_0x300a93(0x149)],'size':_0x297d79?.[_0x300a93(0x3c9)]?.[_0x300a93(0x364)],'owner':_0x297d79?.[_0x300a93(0x32e)]?.[_0x300a93(0x3ad)]('@')[0x0],'creation':_0x297d79?.[_0x300a93(0x306)],'desc':_0x297d79?.[_0x300a93(0x4c3)],'restrict':_0x297d79?.[_0x300a93(0x6c8)],'announce':_0x297d79?.['announce'],'image':_0x2459d4[_0x5eb228]});}return _0x229aad;}catch(_0xe5ce5e){throw new k(_0x300a93(0x53e),_0xe5ce5e['toString']());}}async[a0_0x4cf6e5(0x5c7)](_0x2911b0){const _0x2d4404=a0_0x4cf6e5;try{let _0x9115d5=await this['client'][_0x2d4404(0x3b2)](_0x2911b0[_0x2d4404(0x164)]);return{'inviteUrl':'https://chat.whatsapp.com/'+_0x9115d5,'inviteCode':_0x9115d5};}catch(_0x5019b7){throw new k(_0x2d4404(0x6d7),_0x5019b7[_0x2d4404(0x69a)]());}}async[a0_0x4cf6e5(0x5cd)](_0x53ea31){const _0x2c682a=a0_0x4cf6e5;try{let _0x9d3d2c=await this[_0x2c682a(0x163)]['groupRevokeInvite'](_0x53ea31[_0x2c682a(0x164)]);return{'revoked':!0x0,'inviteUrl':_0x2c682a(0x3ac)+_0x9d3d2c,'inviteCode':_0x9d3d2c};}catch(_0x1c1c44){throw new k('Revoke\x20error',_0x1c1c44[_0x2c682a(0x69a)]());}}async['joinGroup'](_0x5ebb32){const _0x5aa8c6=a0_0x4cf6e5;try{if((0x0,$[_0x5aa8c6(0x26e)])(_0x5ebb32['inviteCode']))var _0x223a3d=_0x5ebb32[_0x5aa8c6(0x5c7)]['split']('/')[0x3];else var _0x223a3d=_0x5ebb32['inviteCode'];let _0x5e869b=await this[_0x5aa8c6(0x163)]['groupAcceptInvite'](_0x223a3d);return this[_0x5aa8c6(0x672)][_0x5aa8c6(0x1f7)](this[_0x5aa8c6(0x276)]+'\x20('+this[_0x5aa8c6(0x5a3)]['wuid']+'):\x20'+_0x5e869b),{'join':!0x0,'inviteCode':_0x223a3d,'groupJid':_0x5e869b};}catch(_0x55619f){throw new k(_0x5aa8c6(0x34d),_0x55619f[_0x5aa8c6(0x69a)]());}}async[a0_0x4cf6e5(0x30b)](_0x66ef62){const _0x2d25c2=a0_0x4cf6e5;try{return{'participants':(await this[_0x2d25c2(0x163)][_0x2d25c2(0x2d4)](_0x66ef62[_0x2d25c2(0x164)]))[_0x2d25c2(0x3c9)]};}catch(_0x461803){throw new k('No\x20participants',_0x461803[_0x2d25c2(0x69a)]());}}async['updateGParticipant'](_0x518714){const _0xd8cd6a=a0_0x4cf6e5;try{let _0x1ad158=_0x518714[_0xd8cd6a(0x3c9)][_0xd8cd6a(0x2ad)](_0x98f6d1=>this['createJid'](_0x98f6d1));return{'updateParticipants':await this[_0xd8cd6a(0x163)]['groupParticipantsUpdate'](_0x518714[_0xd8cd6a(0x164)],_0x1ad158,_0x518714[_0xd8cd6a(0x404)])};}catch(_0x31e588){throw new w(_0xd8cd6a(0x45a),_0x31e588[_0xd8cd6a(0x69a)]());}}async['toggleEphemeral'](_0x16fb00){const _0x1a114a=a0_0x4cf6e5;try{let _0xb543c1=await this[_0x1a114a(0x163)][_0x1a114a(0x12f)](_0x16fb00[_0x1a114a(0x164)],_0x16fb00[_0x1a114a(0xb7)]);return{'success':!0x0};}catch(_0x5b9bf0){throw new w('Error\x20updating\x20setting',_0x5b9bf0[_0x1a114a(0x69a)]());}}async[a0_0x4cf6e5(0x632)](_0x2c2143){const _0x27127f=a0_0x4cf6e5;try{return await this[_0x27127f(0x163)][_0x27127f(0x5ee)](_0x2c2143['groupJid']),{'groupJid':_0x2c2143[_0x27127f(0x164)],'leave':!0x0};}catch(_0x3eb6c7){throw new w('Unable\x20to\x20leave\x20the\x20group',_0x3eb6c7[_0x27127f(0x69a)]());}}async['pollMessage'](_0x5e2032){const _0x4c832d=a0_0x4cf6e5;return await this[_0x4c832d(0x496)](_0x5e2032[_0x4c832d(0x344)],{'poll':{'name':_0x5e2032[_0x4c832d(0x331)]?.[_0x4c832d(0x3ee)],'selectableCount':_0x5e2032[_0x4c832d(0x331)][_0x4c832d(0x2cb)],'values':_0x5e2032[_0x4c832d(0x331)][_0x4c832d(0x5a6)]}},_0x5e2032?.[_0x4c832d(0x254)]);}async['listMessage'](_0x5a3191){const _0x1749f1=a0_0x4cf6e5;return await this[_0x1749f1(0x496)](_0x5a3191[_0x1749f1(0x344)],{'listMessage':{'title':_0x5a3191[_0x1749f1(0x6d5)][_0x1749f1(0x542)],'description':_0x5a3191[_0x1749f1(0x6d5)]['description'],'buttonText':_0x5a3191[_0x1749f1(0x6d5)]?.[_0x1749f1(0x534)],'footerText':_0x5a3191['listMessage']?.[_0x1749f1(0xe1)],'sections':_0x5a3191[_0x1749f1(0x6d5)][_0x1749f1(0x35d)],'listType':0x2}},_0x5a3191?.['options']);}async['menuMessage'](_0x108a21){const _0x97f0f3=a0_0x4cf6e5;let _0x5ecf05;if(_0x108a21[_0x97f0f3(0x202)]['type']==='list'){let _0x48ab50=_0x108a21[_0x97f0f3(0x202)][_0x97f0f3(0x118)]['indexOf']('\x0a'),_0x238b1c='',_0x29a816='';_0x48ab50!==-0x1?(_0x238b1c=_0x108a21[_0x97f0f3(0x202)][_0x97f0f3(0x118)][_0x97f0f3(0x597)](0x0,_0x48ab50)[_0x97f0f3(0x2bf)](),_0x29a816=_0x108a21['menuMessage'][_0x97f0f3(0x118)][_0x97f0f3(0x597)](_0x48ab50+0x1)):_0x29a816=_0x108a21[_0x97f0f3(0x202)][_0x97f0f3(0x118)];let _0x48d268=_0x108a21[_0x97f0f3(0x202)][_0x97f0f3(0xb6)][_0x97f0f3(0x4dd)](_0x5e2e3f=>_0x5e2e3f[_0x97f0f3(0x2bf)]()!==''),_0x26de97=this['createSectionsFromValues'](_0x48d268);_0x5ecf05={'listMessage':{'title':_0x238b1c,'description':_0x29a816,'buttonText':_0x108a21[_0x97f0f3(0x202)][_0x97f0f3(0x534)]||_0x97f0f3(0x471),'footerText':_0x108a21[_0x97f0f3(0x202)][_0x97f0f3(0xe1)],'sections':_0x26de97,'listType':0x2}};}else{if(_0x108a21[_0x97f0f3(0x202)]['type']===_0x97f0f3(0x23a)){let _0x4efe4b=_0x108a21[_0x97f0f3(0x202)][_0x97f0f3(0xb6)][_0x97f0f3(0x4dd)](_0x3c62f4=>!(_0x3c62f4[_0x97f0f3(0x1d0)]('[')&&_0x3c62f4[_0x97f0f3(0x115)](']'))&&_0x3c62f4[_0x97f0f3(0x2bf)]()!=='')[_0x97f0f3(0x2ad)](_0x19abf5=>_0x19abf5[_0x97f0f3(0x3ad)]('\x0a')[0x0]);_0x5ecf05={'poll':{'name':_0x108a21['menuMessage'][_0x97f0f3(0x118)],'selectableCount':_0x108a21[_0x97f0f3(0x202)][_0x97f0f3(0x2cb)]||0x1,'values':_0x4efe4b}};}}return await this['sendMessageWithTyping'](_0x108a21['number'],_0x5ecf05,_0x108a21?.[_0x97f0f3(0x254)]);}['createSectionsFromValues'](_0x52864c){const _0x44a50f=a0_0x4cf6e5;let _0x3d9ef0=[],_0x22b87d={'rows':[]};return _0x52864c[_0x44a50f(0x357)](_0x1fc57d=>{const _0x459dae=_0x44a50f;if(_0x1fc57d[_0x459dae(0x1d0)]('[')&&_0x1fc57d[_0x459dae(0x115)](']'))_0x22b87d['rows'][_0x459dae(0x364)]>0x0&&_0x3d9ef0['push'](_0x22b87d),_0x22b87d={'title':_0x1fc57d[_0x459dae(0x526)](0x1,-0x1),'rows':[]};else{let _0x297337=_0x1fc57d['split']('\x0a')[_0x459dae(0x2ad)](_0x20bde6=>_0x20bde6[_0x459dae(0x2bf)]()),_0x495569=_0x297337[0x0],_0x36c352=_0x297337[0x1]||null,_0x3dc3e6=_0x297337[0x2]||_0x495569;_0x22b87d['rows']['push']({'title':_0x495569,'description':_0x36c352,'rowId':_0x3dc3e6});}}),_0x22b87d[_0x44a50f(0x2ac)][_0x44a50f(0x364)]>0x0&&_0x3d9ef0[_0x44a50f(0xc2)](_0x22b87d),_0x3d9ef0;}async[a0_0x4cf6e5(0x201)](_0x1595c4,_0x356f6e){const _0x526df8=a0_0x4cf6e5;if(await this['getMessage'](_0x1595c4,!0x0)){let _0x444f52={'where':{'_id':_0x1595c4['id']}},_0x53b963={'status':[_0x356f6e[_0x526df8(0x485)]][0x0]};try{let _0x1f4798=await this['repository'][_0x526df8(0x251)]['update'](_0x444f52,_0x53b963,this['instance']['wuid']);_0x1f4798&&q(this[_0x526df8(0x276)],_0x526df8(0x688),{'message':_0x1f4798});}catch{}}}[a0_0x4cf6e5(0x5b7)](_0x60f04){const _0x20b190=a0_0x4cf6e5;let _0x3f6043=[];return _0x60f04[_0x20b190(0x357)](_0x5db646=>{const _0x3bfca1=_0x20b190;_0x5db646[_0x3bfca1(0x542)]&&_0x3f6043[_0x3bfca1(0xc2)]('['+_0x5db646['title']+']'),_0x5db646['rows'][_0x3bfca1(0x357)](_0x4abae2=>{const _0x1013e1=_0x3bfca1;_0x3f6043[_0x1013e1(0xc2)](_0x4abae2['title']);});}),_0x3f6043[_0x20b190(0x52f)]('|');}[a0_0x4cf6e5(0x6a7)](_0x49531b){const _0x1a521c=a0_0x4cf6e5;let _0x214869=_0x49531b[_0x1a521c(0x5fe)](/\\n/g,'\x0a')[_0x1a521c(0x3ad)]('\x0a')[_0x1a521c(0x4dd)](_0x4b2ff2=>_0x4b2ff2[_0x1a521c(0x1bd)](_0x1a521c(0x166))||_0x4b2ff2[_0x1a521c(0x1bd)](_0x1a521c(0x48c))),_0xb96d63='';return _0x214869[_0x1a521c(0x357)](_0x286c37=>{const _0x2ddd3b=_0x1a521c;let _0x4501ae=/TEL(?:.*):(.+)/,_0x1ecb8c=/EMAIL(?:.*):(.+)/,_0x20f0f7=_0x286c37[_0x2ddd3b(0x598)](_0x4501ae),_0x337c60=_0x286c37[_0x2ddd3b(0x598)](_0x1ecb8c);if(_0x20f0f7){let _0x215e3c=_0x20f0f7[0x1]['replace'](/-| |\+|\(|\)/g,'')[_0x2ddd3b(0x2bf)]();_0xb96d63+='Telefone:\x20'+_0x215e3c+'\x0a';}else{if(_0x337c60){let _0x3df52f=_0x337c60[0x1][_0x2ddd3b(0x2bf)]();_0xb96d63+=_0x2ddd3b(0xa4)+_0x3df52f+'\x0a';}}}),_0xb96d63[_0x1a521c(0x2bf)]();}async[a0_0x4cf6e5(0x41c)](_0x29835b,_0x3874e1,_0xf8d750){const _0x28201b=a0_0x4cf6e5;if(!_0x29835b[_0x28201b(0x693)])return;let _0x499790=_0x3874e1[_0x28201b(0x5bd)][_0x28201b(0x373)][_0x28201b(0x5fe)](/:\d{1,2}@/g,'@'),_0x18c97c=_0x3874e1[_0x28201b(0x5bd)][_0x28201b(0x302)],_0x421afc=_0x499790[_0x28201b(0x115)](_0x28201b(0x196)),_0x1a2259=_0x3874e1['message_normalized']?.[_0x28201b(0x118)]||_0x3874e1[_0x28201b(0x3ec)]?.[_0x28201b(0x4c6)]||_0x3874e1['message_normalized']?.['vote']||_0x3874e1[_0x28201b(0x3ec)]?.[_0x28201b(0x3ee)],_0x158e03={'lastmsg':_0x3874e1[_0x28201b(0x6b7)]||Date[_0x28201b(0x5a1)](),'unreadcount':_0x18c97c?0x0:0x1,..._0x18c97c||_0x421afc?{}:{'name':_0x3874e1['pushName']},..._0x421afc?{'group':_0x421afc}:{}},_0x2752e2=await this['repository'][_0x28201b(0x51b)][_0x28201b(0x376)]({'where':{'_id':_0x499790}},_0x158e03,this[_0x28201b(0x5a3)][_0x28201b(0x6ce)],{'new':!0x0,'upsert':!0x0});if(_0x2752e2['imported']){let _0xde085c=await this[_0x28201b(0x79)][_0x28201b(0x60b)][_0x28201b(0x531)]({'where':{}},this['instance']['wuid']),_0x2b0d47=new Set(_0xde085c[_0x28201b(0x2ad)](_0x41ccbd=>_0x41ccbd[_0x28201b(0x637)])),_0x1d4a6f=(_0x2752e2[_0x28201b(0x5d0)]?.[_0x28201b(0x648)]||[])[_0x28201b(0x4dd)](_0x4c609c=>_0x2b0d47[_0x28201b(0x141)](_0x4c609c)),_0x3a8b9e={'leadInfo.etiquetas':_0x1d4a6f,'imported':!0x1};_0x2752e2=await this[_0x28201b(0x79)][_0x28201b(0x51b)][_0x28201b(0x376)]({'where':{'_id':_0x499790}},_0x3a8b9e,this[_0x28201b(0x5a3)][_0x28201b(0x6ce)]);for(let _0x4ddacc of _0x1d4a6f)await this[_0x28201b(0x4e2)](_0x4ddacc,_0x499790);}if(!_0x421afc&&(!_0x2752e2?.[_0x28201b(0x5d0)]||!_0x2752e2[_0x28201b(0x5d0)][_0x28201b(0x2b7)])&&_0x3874e1[_0x28201b(0x3e9)]&&!_0x18c97c&&(_0x2752e2=await this[_0x28201b(0x79)][_0x28201b(0x51b)][_0x28201b(0x376)]({'where':{'_id':_0x499790}},{'leadInfo.nome':_0x3874e1[_0x28201b(0x3e9)]},this['instance'][_0x28201b(0x6ce)],{'new':!0x0,'upsert':!0x0})),_0xf8d750==='MESSAGES_UPSERT'&&_0x18c97c&&this[_0x28201b(0x167)]?.[_0x28201b(0x40e)][_0x28201b(0x10e)]&&!_0x1a2259[_0x28201b(0x1d0)](this['AutomateSystem']?.['flowConfig']['prefixCommand'])){let _0x3ae652=(this[_0x28201b(0x167)]?.['flowConfig']['stopWhenYouSendMsg']||0x5)*0xea60,_0x12df35=Date[_0x28201b(0x5a1)]()+_0x3ae652;_0x2752e2?.[_0x28201b(0x5d0)]?.['desativadoFluxoAte']===0x0||(await this[_0x28201b(0x79)][_0x28201b(0x51b)][_0x28201b(0x376)]({'where':{'_id':_0x499790}},{'leadInfo.desativadoFluxoAte':_0x12df35},this[_0x28201b(0x5a3)][_0x28201b(0x6ce)],{'new':!0x0,'upsert':!0x1}),this['logger']['verbose'](this[_0x28201b(0x276)]+'\x20('+this[_0x28201b(0x5a3)][_0x28201b(0x6ce)]+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20'+_0x12df35+'.'));}if(_0x2752e2)q(this[_0x28201b(0x276)],_0x28201b(0x35a),{'chat':_0x2752e2});else{this[_0x28201b(0x672)][_0x28201b(0x14e)](this[_0x28201b(0x276)]+'\x20('+this[_0x28201b(0x5a3)][_0x28201b(0x6ce)]+_0x28201b(0x314));return;}if(!this[_0x28201b(0x167)]?.['flowConfig'][_0x28201b(0x10e)])return this[_0x28201b(0x672)][_0x28201b(0x1f7)](this[_0x28201b(0x276)]+'\x20('+this[_0x28201b(0x5a3)][_0x28201b(0x6ce)]+_0x28201b(0x2fd)),null;if(_0x2752e2['_id'][_0x28201b(0x1bd)](_0x28201b(0x196))&&this['AutomateSystem']?.[_0x28201b(0x40e)][_0x28201b(0x360)]===!0x0)return this[_0x28201b(0x672)][_0x28201b(0x1f7)](this[_0x28201b(0x276)]+'\x20('+this[_0x28201b(0x5a3)][_0x28201b(0x6ce)]+_0x28201b(0x6d2)),null;if(_0x2752e2[_0x28201b(0x5d0)]){if(_0x2752e2[_0x28201b(0x5d0)][_0x28201b(0x430)]===0x0||_0x2752e2['leadInfo'][_0x28201b(0x214)])return this[_0x28201b(0x672)][_0x28201b(0x1f7)](this['instanceName']+'\x20('+this[_0x28201b(0x5a3)]['wuid']+_0x28201b(0xec)+_0x499790+_0x28201b(0x6c2)),null;if(_0x2752e2['leadInfo'][_0x28201b(0x430)]>Date[_0x28201b(0x5a1)]()&&!_0x3874e1['message_normalized']?.[_0x28201b(0x62e)])return this[_0x28201b(0x672)]['verbose'](this[_0x28201b(0x276)]+'\x20('+this[_0x28201b(0x5a3)][_0x28201b(0x6ce)]+_0x28201b(0x477)+new Date(_0x2752e2[_0x28201b(0x5d0)][_0x28201b(0x430)])[_0x28201b(0x244)]()+_0x28201b(0x6c2)),null;}this[_0x28201b(0x672)][_0x28201b(0x1f7)](this[_0x28201b(0x276)]+'\x20('+this[_0x28201b(0x5a3)][_0x28201b(0x6ce)]+_0x28201b(0x5c5)),this[_0x28201b(0x4ae)](_0xf8d750,_0x3874e1);}async[a0_0x4cf6e5(0xd3)](_0x4de181,_0x27dc21){const _0x49df62=a0_0x4cf6e5;if(_0x27dc21[_0x49df62(0x693)]){let _0x166ab9=_0x4de181[_0x49df62(0x2ad)](async _0x5b0884=>{const _0x169a51=_0x49df62;try{let _0x972238={'_id':_0x5b0884['_id'],'owner':_0x5b0884[_0x169a51(0x32e)],'lastcache':0x0};if(_0x5b0884[_0x169a51(0x439)]!==null&&(_0x972238['group']=_0x5b0884['group']),_0x5b0884[_0x169a51(0x3ee)]!==null&&(_0x972238[_0x169a51(0x3ee)]=_0x5b0884[_0x169a51(0x3ee)]),_0x5b0884[_0x169a51(0x409)]!==null&&(_0x972238[_0x169a51(0x409)]=_0x5b0884[_0x169a51(0x409)]),_0x5b0884[_0x169a51(0x2d8)]!==null&&(_0x972238['imagechat']=_0x5b0884[_0x169a51(0x2d8)]),_0x5b0884[_0x169a51(0x2d8)]===null&&(_0x972238['imagechat']=_0x169a51(0xb8)),_0x5b0884[_0x169a51(0x57f)]!==null&&(_0x972238[_0x169a51(0x57f)]=_0x5b0884[_0x169a51(0x57f)]),_0x5b0884[_0x169a51(0x412)]!==null&&(_0x972238['archived']=_0x5b0884['archived']),_0x5b0884[_0x169a51(0x66c)]!==null&&(_0x972238['unreadcount']=_0x5b0884[_0x169a51(0x66c)]),Object[_0x169a51(0x4d7)](_0x972238)['length']>0x0)return await this[_0x169a51(0x79)][_0x169a51(0x51b)][_0x169a51(0x376)]({'where':{'_id':_0x5b0884[_0x169a51(0x637)]}},_0x972238,this[_0x169a51(0x5a3)][_0x169a51(0x6ce)]);}catch(_0x72b705){return console[_0x169a51(0x14e)](_0x169a51(0x45d)+_0x5b0884[_0x169a51(0x637)]+':',_0x72b705),null;}}),_0x51538f=(await Promise[_0x49df62(0xc8)](_0x166ab9))[_0x49df62(0x4dd)](_0x25caab=>_0x25caab!==null)[_0x49df62(0x364)];this[_0x49df62(0x672)][_0x49df62(0x1f7)](this[_0x49df62(0x276)]+'\x20('+this[_0x49df62(0x5a3)][_0x49df62(0x6ce)]+'):\x20'+_0x51538f+_0x49df62(0x1ac)+this['instance'][_0x49df62(0x6ce)]+'\x20inseridos\x20no\x20banco\x20de\x20dados...');}}async[a0_0x4cf6e5(0x24d)](_0x3c49c2){const _0x34bdb7=a0_0x4cf6e5;this[_0x34bdb7(0x672)][_0x34bdb7(0x1f7)](this[_0x34bdb7(0x276)]+'\x20('+this[_0x34bdb7(0x5a3)][_0x34bdb7(0x6ce)]+'):\x20Ler\x20mensagem');let _0x2d1ddf={'readMessages':[{'remoteJid':_0x3c49c2[_0x34bdb7(0x11e)]['lastReceivedMessage'][_0x34bdb7(0x5bd)][_0x34bdb7(0x373)],'fromMe':_0x3c49c2[_0x34bdb7(0x11e)][_0x34bdb7(0xa3)][_0x34bdb7(0x5bd)][_0x34bdb7(0x302)],'id':_0x3c49c2[_0x34bdb7(0x11e)][_0x34bdb7(0xa3)][_0x34bdb7(0x5bd)]['id']}]};await this['markMessageAsRead'](_0x2d1ddf);}async[a0_0x4cf6e5(0x4ae)](_0x2cdcc2,_0x4a6bed){const _0xfe0288=a0_0x4cf6e5;try{let {key:_0x17b992,message_normalized:_0x5c7524}=_0x4a6bed,_0x211bfe=_0x5c7524,_0x4b8e4e=_0x5c7524[_0xfe0288(0x118)]||_0x5c7524[_0xfe0288(0x4c6)]||_0x5c7524[_0xfe0288(0x62e)]||_0x5c7524[_0xfe0288(0x3ee)],_0x461ad5=_0x17b992[_0xfe0288(0x373)],_0x21407f;if(_0x211bfe['key'][_0xfe0288(0x302)]&&_0x4b8e4e[_0xfe0288(0x2bf)]()!==this[_0xfe0288(0x167)]?.['flowConfig'][_0xfe0288(0x1fd)][_0xfe0288(0x2bf)]())return this[_0xfe0288(0x672)]['verbose'](this[_0xfe0288(0x276)]+'\x20('+this[_0xfe0288(0x5a3)][_0xfe0288(0x6ce)]+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.'),null;if(_0x211bfe[_0xfe0288(0x5bd)][_0xfe0288(0x302)]&&_0x4b8e4e['trim']()===this['AutomateSystem']?.['flowConfig'][_0xfe0288(0x1fd)][_0xfe0288(0x2bf)]()){this[_0xfe0288(0x672)]['verbose'](this[_0xfe0288(0x276)]+'\x20('+this[_0xfe0288(0x5a3)][_0xfe0288(0x6ce)]+_0xfe0288(0x661));let _0x237667=await this[_0xfe0288(0x79)][_0xfe0288(0x5de)][_0xfe0288(0x531)]({'remoteJid':_0x461ad5,'status':_0xfe0288(0x2ca)},this['instance'][_0xfe0288(0x6ce)]);this[_0xfe0288(0x672)]['verbose'](this[_0xfe0288(0x276)]+'\x20('+this[_0xfe0288(0x5a3)][_0xfe0288(0x6ce)]+_0xfe0288(0x47c)+_0x237667);let _0xcbafac=Date[_0xfe0288(0x5a1)](),_0x3c1786;return this['AutomateSystem']?.[_0xfe0288(0x40e)][_0xfe0288(0x68e)]===0x0?_0x3c1786={'stoppedUntil':_0xcbafac+0x7591f6200}:_0x3c1786={'stoppedUntil':_0xcbafac+this[_0xfe0288(0x167)]?.[_0xfe0288(0x40e)][_0xfe0288(0x68e)]*0x3c*0x3e8},this[_0xfe0288(0x672)]['verbose'](this[_0xfe0288(0x276)]+'\x20('+this[_0xfe0288(0x5a3)][_0xfe0288(0x6ce)]+_0xfe0288(0x674)+_0x3c1786),this[_0xfe0288(0x3e2)](_0x21407f,_0x3c1786[_0xfe0288(0x4e1)]),null;}if(_0x4b8e4e&&_0x4b8e4e['startsWith'](this[_0xfe0288(0x167)]?.['flowConfig'][_0xfe0288(0x521)])&&_0x4b8e4e[_0xfe0288(0x364)]>0x4){let _0x2148d9=await this['repository'][_0xfe0288(0x2a6)][_0xfe0288(0x2a7)]({'where':{'startCommandWord':_0x4b8e4e}},this[_0xfe0288(0x5a3)][_0xfe0288(0x6ce)]);if(this[_0xfe0288(0x672)][_0xfe0288(0x1f7)](this[_0xfe0288(0x276)]+'\x20('+this[_0xfe0288(0x5a3)][_0xfe0288(0x6ce)]+_0xfe0288(0x596)),_0x2148d9)_0x21407f=await this[_0xfe0288(0xc4)](_0x2148d9,_0x211bfe[_0xfe0288(0x5bd)],_0x211bfe);else return this[_0xfe0288(0x672)]['verbose'](this[_0xfe0288(0x276)]+'\x20('+this[_0xfe0288(0x5a3)]['wuid']+_0xfe0288(0x4d9)),null;}else _0x21407f=await this['findConversation'](_0x461ad5,_0x211bfe);if(_0x21407f){this['logger'][_0xfe0288(0x1f7)](this['instanceName']+'\x20('+this[_0xfe0288(0x5a3)][_0xfe0288(0x6ce)]+_0xfe0288(0x3ea)),!_0x17b992[_0xfe0288(0x302)]&&_0x21407f[_0xfe0288(0x388)]&&this[_0xfe0288(0x24d)](_0x21407f);let _0x377bd3=await this['NextBlock'](_0x21407f);_0x377bd3&&await this[_0xfe0288(0x509)](_0x21407f,_0x377bd3);}}catch(_0x46d691){this[_0xfe0288(0x672)][_0xfe0288(0x14e)](this[_0xfe0288(0x276)]+'\x20('+this[_0xfe0288(0x5a3)]['wuid']+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+(_0x46d691 instanceof Error?_0x46d691['message']:JSON[_0xfe0288(0x611)](_0x46d691,null,0x2)));}}[a0_0x4cf6e5(0x191)](_0x3b1111,_0x1bd17f='',_0x537876={},_0x24d20f=!0x0){const _0x1c64b2=a0_0x4cf6e5;for(let _0x5bb841 in _0x3b1111){let _0x56ee6f=_0x24d20f?'_'+_0x5bb841:''+_0x1bd17f+_0x5bb841;typeof _0x3b1111[_0x5bb841]==_0x1c64b2(0x224)&&_0x3b1111[_0x5bb841]!==null?this[_0x1c64b2(0x191)](_0x3b1111[_0x5bb841],_0x56ee6f+'.',_0x537876,!0x1):_0x537876[_0x56ee6f]=String(_0x3b1111[_0x5bb841]);}return _0x537876;}[a0_0x4cf6e5(0x263)](_0x16b22a){const _0x106bea=a0_0x4cf6e5;let _0xe88df2={};for(let _0x4e7e38 of _0x16b22a)typeof _0x4e7e38[_0x106bea(0x3ee)]==_0x106bea(0x407)&&typeof _0x4e7e38['value']==_0x106bea(0x407)&&(_0xe88df2[_0x4e7e38[_0x106bea(0x3ee)]]=_0x4e7e38['value']);return _0xe88df2;}async['NextBlock'](_0x127479){const _0x34ef52=a0_0x4cf6e5;if(!this[_0x34ef52(0x167)]?.['flowConfig'][_0x34ef52(0x10e)]||_0x127479[_0x34ef52(0x485)]!==_0x34ef52(0x2ca)&&_0x127479[_0x34ef52(0x317)]==='')return null;let _0x334c6a=_0x127479[_0x34ef52(0x11e)]['lastBlockId']||_0x34ef52(0x584);typeof _0x127479[_0x34ef52(0x11e)][_0x34ef52(0x173)]>'u'&&(_0x127479[_0x34ef52(0x11e)][_0x34ef52(0x173)]=!0x0);let _0x4641c3=_0x127479[_0x34ef52(0x11e)][_0x34ef52(0x173)];this['logger'][_0x34ef52(0x1f7)](this[_0x34ef52(0x276)]+'\x20('+this['instance'][_0x34ef52(0x6ce)]+_0x34ef52(0x4ce)+_0x334c6a+_0x34ef52(0x2f1)+_0x4641c3);let _0x674bfa=_0x334c6a==='start'?_0x127479['blocks']['find'](_0x17e73b=>_0x17e73b[_0x34ef52(0x4a9)]===_0x34ef52(0x584)):_0x127479['blocks'][_0x34ef52(0x531)](_0xf18b6b=>_0xf18b6b[_0x34ef52(0x637)]['toString']()===_0x334c6a['toString']());if(!_0x674bfa)return this[_0x34ef52(0x672)]['error'](this[_0x34ef52(0x276)]+'\x20('+this[_0x34ef52(0x5a3)][_0x34ef52(0x6ce)]+_0x34ef52(0x19b)+_0x334c6a),null;let _0xdcd912={'_pushName':_0x127479[_0x34ef52(0x11e)][_0x34ef52(0xa3)][_0x34ef52(0x3e9)],..._0x127479[_0x34ef52(0x11e)][_0x34ef52(0x82)]},_0x5f02c1=null;if(_0x127479[_0x34ef52(0x317)]){let _0x449752=_0x127479[_0x34ef52(0x11e)][_0x34ef52(0xa3)][_0x34ef52(0x62e)],_0x39cc63=_0x127479[_0x34ef52(0x26a)][_0x34ef52(0x531)](_0xc3d733=>_0xc3d733['option']===_0x449752);if(_0x39cc63){let _0x5883be=_0x39cc63[_0x34ef52(0x56b)];if(_0x5f02c1=_0x127479['blocks']['find'](_0x339311=>_0x339311[_0x34ef52(0x5e7)]===_0x5883be&&_0x339311[_0x34ef52(0x2ae)]===0x1),_0x674bfa['uazapi']['pollOnReplyDelete']){let _0x5d85c2={'id':_0x127479[_0x34ef52(0x317)],'remoteJid':_0x127479[_0x34ef52(0x373)],'fromMe':!0x0};await this['deleteMessage'](_0x5d85c2);}if(_0x674bfa[_0x34ef52(0x192)][_0x34ef52(0x2b9)]&&_0x674bfa[_0x34ef52(0x192)][_0x34ef52(0x51d)]&&_0x674bfa[_0x34ef52(0x192)][_0x34ef52(0x4e9)]===_0x34ef52(0x23a)){let _0x2d12ee={'number':_0x127479[_0x34ef52(0x373)],'options':{'delay':0x0},'textMessage':{'text':_0x34ef52(0x1f2)+_0x127479['waitingMenu_text']+'\x0a*Você\x20respondeu*:\x0a'+_0x449752}};await this['textMessage'](_0x2d12ee);}_0x127479['status']=_0x34ef52(0x2ca),_0x127479[_0x34ef52(0x317)]='',_0x127479[_0x34ef52(0x34c)]='',_0x127479[_0x34ef52(0x26a)]=[];}else{this[_0x34ef52(0x672)][_0x34ef52(0x1f7)](this['instanceName']+'\x20('+this[_0x34ef52(0x5a3)][_0x34ef52(0x6ce)]+_0x34ef52(0x12d));let _0x3470d8={'activatedCount':_0x127479[_0x34ef52(0x11e)][_0x34ef52(0x511)][_0x34ef52(0x4dd)](_0x3c8588=>String(_0x3c8588['blockId'])===String(_0x334c6a))[_0x34ef52(0x364)],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x674bfa[_0x34ef52(0x192)][_0x34ef52(0x590)]){let _0x38c1b8={'number':_0x127479['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x674bfa['uazapi'][_0x34ef52(0x590)]}};await this[_0x34ef52(0x63b)](_0x38c1b8);}if(_0x674bfa[_0x34ef52(0x11a)]!==void 0x0&&_0x3470d8['activatedCount']>=_0x674bfa[_0x34ef52(0x11a)]){let _0x3498bf=Date[_0x34ef52(0x5a1)](),_0x11d2cf=_0x674bfa[_0x34ef52(0x1bf)]??0xa;isNaN(_0x11d2cf)&&(_0x11d2cf=0xa);let _0x51939b=_0x3498bf+_0x11d2cf*0x3c*0x3e8;_0x3470d8[_0x34ef52(0xb4)]=_0x51939b,_0x3470d8[_0x34ef52(0x5ba)][_0x34ef52(0xc2)](_0x34ef52(0x525)),this[_0x34ef52(0x3e2)](_0x127479,_0x51939b),_0x127479[_0x34ef52(0x317)]='',_0x127479[_0x34ef52(0x34c)]='',_0x127479['waitingMenu_replyOptions']=[];}return this['updateConversation'](_0x127479,_0x674bfa,_0x3470d8,!0x0),null;}}if(_0x4641c3&&_0x674bfa[_0x34ef52(0x56b)]&&!_0x127479[_0x34ef52(0x317)]){let _0x4f325c=_0x127479[_0x34ef52(0x507)][_0x34ef52(0x4dd)](_0x2b3e82=>_0x2b3e82['groupId'][_0x34ef52(0x69a)]()===_0x674bfa[_0x34ef52(0x56b)][_0x34ef52(0x69a)]())[_0x34ef52(0x6e8)]((_0x3ae63c,_0x2f04a8)=>_0x3ae63c['order']-_0x2f04a8[_0x34ef52(0x2ae)]);_0x4f325c[_0x34ef52(0x364)]>0x0&&(_0x5f02c1=_0x4f325c[0x0]);}if(!_0x5f02c1){let _0x2bdf3f=_0x674bfa[_0x34ef52(0x5e7)],_0x5be8a0=_0x127479[_0x34ef52(0x507)][_0x34ef52(0x4dd)](_0x5336e4=>_0x5336e4[_0x34ef52(0x5e7)]===_0x2bdf3f&&_0x5336e4[_0x34ef52(0x2ae)]>_0x674bfa[_0x34ef52(0x2ae)])[_0x34ef52(0x6e8)]((_0xddac67,_0x58fc96)=>_0xddac67['order']-_0x58fc96['order']);_0x5be8a0[_0x34ef52(0x364)]>0x0&&(_0x5f02c1=_0x5be8a0[0x0]);}if(!_0x5f02c1)return _0x127479[_0x34ef52(0x485)]='closed',null;_0x127479['chatLog'][_0x34ef52(0x82)]=_0xdcd912;let _0x3886a7=JSON[_0x34ef52(0x40f)](JSON[_0x34ef52(0x611)](_0x5f02c1));return this['replaceVariablesInObject'](_0x3886a7,_0x127479[_0x34ef52(0x11e)][_0x34ef52(0x82)]),_0x127479[_0x34ef52(0x11e)][_0x34ef52(0x8b)]=_0x3886a7[_0x34ef52(0x637)],_0x127479[_0x34ef52(0x11e)][_0x34ef52(0x173)]=!0x0,_0x3886a7;}[a0_0x4cf6e5(0x423)](_0x11e3ff,_0x18f724){const _0x444150=a0_0x4cf6e5;return _0x11e3ff[_0x444150(0x5fe)](/\{\{([^}]+)\}\}/g,(_0x3c34dc,_0x3bbe10)=>_0x18f724[_0x3bbe10]||'');}[a0_0x4cf6e5(0x25b)](_0x56f642,_0x120e1b){const _0x50ead3=a0_0x4cf6e5;for(let _0x50d73d in _0x56f642)typeof _0x56f642[_0x50d73d]==_0x50ead3(0x407)?_0x56f642[_0x50d73d]=this[_0x50ead3(0x423)](_0x56f642[_0x50d73d],_0x120e1b):typeof _0x56f642[_0x50d73d]=='object'&&this[_0x50ead3(0x25b)](_0x56f642[_0x50d73d],_0x120e1b);}async[a0_0x4cf6e5(0x250)](_0x137c22,_0x29fa26){const _0x183b91=a0_0x4cf6e5;let _0x5e879=_0x29fa26[_0x183b91(0x637)];if(_0x137c22[_0x183b91(0x11e)]&&_0x137c22[_0x183b91(0x11e)][_0x183b91(0x511)]){let _0x82455a=_0x137c22['chatLog'][_0x183b91(0x511)][_0x183b91(0x4dd)](_0x5bd019=>String(_0x5bd019[_0x183b91(0x522)])===String(_0x5e879))['pop']();if(_0x82455a&&_0x82455a['error']&&_0x29fa26['stopIfLastReturnedError'])return _0x137c22[_0x183b91(0x485)]='closed',await this[_0x183b91(0x350)](_0x137c22),null;}if(_0x29fa26['type']===_0x183b91(0x192)&&_0x29fa26[_0x183b91(0x192)][_0x183b91(0x4b8)]===_0x183b91(0x42d)&&_0x137c22[_0x183b91(0x317)])return _0x137c22[_0x183b91(0x11e)][_0x183b91(0x8b)]=_0x5e879,await this[_0x183b91(0x350)](_0x137c22),null;let _0x1bb8b7=await this[_0x183b91(0x6e4)](_0x137c22);if(_0x137c22[_0x183b91(0x11e)]&&_0x137c22[_0x183b91(0x11e)][_0x183b91(0x511)]){let _0x5864c6=_0x137c22[_0x183b91(0x11e)][_0x183b91(0x511)][_0x183b91(0x4dd)](_0x43d0d8=>String(_0x43d0d8[_0x183b91(0x522)])===String(_0x5e879))['length'];if(_0x29fa26[_0x183b91(0x11a)]!==void 0x0&&_0x5864c6>=_0x29fa26[_0x183b91(0x11a)]){let _0x562084=Date[_0x183b91(0x5a1)](),_0xb2aa35=_0x29fa26[_0x183b91(0x1bf)]??0xa;isNaN(_0xb2aa35)&&(_0xb2aa35=0xa);let _0x455553=_0x562084+_0xb2aa35*0x3c*0x3e8,_0x5a5338={'newStoppedUntil':_0x455553};return this['updateStopChat'](_0x137c22,_0x455553),this[_0x183b91(0xb9)](_0x137c22,_0x29fa26,_0x5a5338,!0x0),null;}}_0x1bb8b7&&_0x1bb8b7[_0x183b91(0x4a9)]!==_0x183b91(0x3b6)&&await this['processblock'](_0x137c22,_0x1bb8b7),_0x1bb8b7||await this['saveConversationToDatabase'](_0x137c22),_0x1bb8b7&&_0x1bb8b7[_0x183b91(0x4a9)]===_0x183b91(0x3b6)&&(_0x137c22[_0x183b91(0x11e)][_0x183b91(0x8b)]=_0x5e879,await this[_0x183b91(0x350)](_0x137c22));}async['processblock'](_0x1e3d64,_0x3c9dc9){const _0x1eadd2=a0_0x4cf6e5;try{let _0x2d1746=_0x3c9dc9['type'];this['logger'][_0x1eadd2(0x1f7)](this[_0x1eadd2(0x276)]+'\x20('+this[_0x1eadd2(0x5a3)]['wuid']+'):\x20Going\x20to\x20'+_0x2d1746);let _0x1157dc={'uazapi':()=>this[_0x1eadd2(0x6db)](_0x1e3d64,_0x3c9dc9),'save':()=>this[_0x1eadd2(0x17f)](_0x1e3d64,_0x3c9dc9),'stop':()=>this[_0x1eadd2(0x1fd)](_0x1e3d64,_0x3c9dc9),'condition':()=>this['processConditions'](_0x1e3d64,_0x3c9dc9),'varedit':()=>this[_0x1eadd2(0x3ff)](_0x1e3d64,_0x3c9dc9),'apirequest':()=>this['processApiRequest'](_0x1e3d64,_0x3c9dc9),'goToFlow':()=>this[_0x1eadd2(0x4c0)](_0x1e3d64,_0x3c9dc9)}[_0x2d1746];_0x1157dc&&await _0x1157dc();}catch(_0x351537){this[_0x1eadd2(0x672)]['error'](this[_0x1eadd2(0x276)]+'\x20('+this['instance'][_0x1eadd2(0x6ce)]+_0x1eadd2(0x6b3)+(_0x351537 instanceof Error?_0x351537[_0x1eadd2(0x251)]:JSON[_0x1eadd2(0x611)](_0x351537,null,0x2)));}}async[a0_0x4cf6e5(0x4c0)](_0x2f36d9,_0x55a64f){const _0xd83e6d=a0_0x4cf6e5;if(this[_0xd83e6d(0x672)][_0xd83e6d(0x1f7)](this[_0xd83e6d(0x276)]+'\x20('+this[_0xd83e6d(0x5a3)][_0xd83e6d(0x6ce)]+'):\x20Entrou\x20na\x20função\x20goToFlow'),!_0x2f36d9||!_0x55a64f)return this['logger'][_0xd83e6d(0x14e)](this[_0xd83e6d(0x276)]+'\x20('+this[_0xd83e6d(0x5a3)][_0xd83e6d(0x6ce)]+_0xd83e6d(0x5a0)),null;await this['updateConversation'](_0x2f36d9,_0x55a64f,{},!0x0,!0x0),console['log'](_0xd83e6d(0x413)),console['log'](_0x55a64f);let _0x1b9eb2=_0x55a64f[_0xd83e6d(0x4fc)];console[_0xd83e6d(0x2e6)](_0xd83e6d(0x48b),_0x1b9eb2),_0x2f36d9=await this[_0xd83e6d(0x38a)](_0x1b9eb2,_0x2f36d9[_0xd83e6d(0x373)],_0x2f36d9[_0xd83e6d(0x11e)][_0xd83e6d(0x82)]),this[_0xd83e6d(0x672)][_0xd83e6d(0x1f7)](this[_0xd83e6d(0x276)]+'\x20('+this[_0xd83e6d(0x5a3)]['wuid']+_0xd83e6d(0x3de));let _0x183503=await this[_0xd83e6d(0x6e4)](_0x2f36d9);_0x183503&&await this['processblock'](_0x2f36d9,_0x183503);}async['createConversationforgoToFlow'](_0x44ee82,_0x949aa6,_0x2131b0){const _0x2dfa8e=a0_0x4cf6e5;this[_0x2dfa8e(0x672)][_0x2dfa8e(0x1f7)](this['instanceName']+'\x20('+this[_0x2dfa8e(0x5a3)][_0x2dfa8e(0x6ce)]+_0x2dfa8e(0x2e7));try{if(_0x44ee82=await this[_0x2dfa8e(0x79)][_0x2dfa8e(0x2a6)][_0x2dfa8e(0x2a7)]({'where':{'name':_0x44ee82}},this[_0x2dfa8e(0x5a3)]['wuid']),!_0x44ee82)return this[_0x2dfa8e(0x672)][_0x2dfa8e(0x14e)](this[_0x2dfa8e(0x276)]+'\x20('+this['instance'][_0x2dfa8e(0x6ce)]+_0x2dfa8e(0xaf)),null;let _0x4ed4d8=require(_0x2dfa8e(0x2d3))[_0x2dfa8e(0x554)],_0x56ec60=Date[_0x2dfa8e(0x5a1)](),_0x2dc12d=_0x2dfa8e(0x584),_0x924589={},_0x25f975={},_0x3c87fc={..._0x44ee82,'chatLog':null},_0x49dbe9={'lastReceivedMessage':_0x924589,'lastSendMessage':_0x25f975,'lastBlockId':_0x2dc12d,'lastCondition':!0x0,'realVariables':_0x2131b0};_0x3c87fc[_0x2dfa8e(0x11e)]=_0x49dbe9,_0x3c87fc[_0x2dfa8e(0x11e)][_0x2dfa8e(0x82)]={..._0x2131b0},delete _0x3c87fc[_0x2dfa8e(0x637)],_0x3c87fc[_0x2dfa8e(0x637)]=new _0x4ed4d8(),_0x3c87fc[_0x2dfa8e(0x558)]=_0x56ec60,_0x3c87fc['status']='open',_0x3c87fc[_0x2dfa8e(0x373)]=_0x949aa6;let _0x4db718=await this[_0x2dfa8e(0x79)]['flowConversation'][_0x2dfa8e(0x376)](_0x3c87fc[_0x2dfa8e(0x637)],_0x3c87fc,this[_0x2dfa8e(0x5a3)]['wuid']);return this['logger'][_0x2dfa8e(0x1f7)](this[_0x2dfa8e(0x276)]+'\x20('+this[_0x2dfa8e(0x5a3)][_0x2dfa8e(0x6ce)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x4db718?_0x3c87fc:null;}catch(_0x188bd1){throw this[_0x2dfa8e(0x672)][_0x2dfa8e(0x14e)](this[_0x2dfa8e(0x276)]+'\x20('+this['instance']['wuid']+_0x2dfa8e(0x30d)+(_0x188bd1 instanceof Error?_0x188bd1['message']:JSON[_0x2dfa8e(0x611)](_0x188bd1,null,0x2))),new w(_0x188bd1[_0x2dfa8e(0x251)]);}}async[a0_0x4cf6e5(0x15f)](_0x2f03c7,_0xd3eaf8){const _0x22013c=a0_0x4cf6e5;let _0x1e0d73,_0x394ee4;try{let _0x2648aa=_0xd3eaf8[_0x22013c(0x30e)];if(!_0x2648aa||!_0x2648aa[_0x22013c(0x117)]||!_0x2648aa['method'])throw new Error(_0x22013c(0x16d));let _0x108759;([_0x22013c(0x101),'https://api.openai.com/v1/images/generations',_0x22013c(0x269)][_0x22013c(0x41f)](_0x439a59=>_0x2648aa[_0x22013c(0x117)]['includes'](_0x439a59))||_0x2648aa[_0x22013c(0x63d)])&&(_0x108759=_0x22013c(0x17b));let _0x5e99d1={'method':_0x2648aa[_0x22013c(0x133)],'url':_0x2648aa['url'],'headers':_0x2648aa['header']||{},'data':_0x2648aa[_0x22013c(0x358)]||{},..._0x108759&&{'responseType':_0x108759}},_0x3a4943=await(0x0,se['default'])(_0x5e99d1),_0xc144a=_0x3a4943[_0x22013c(0x305)]['content-type'];if(_0xc144a&&_0xc144a[_0x22013c(0x1bd)](_0x22013c(0xa2))){_0x1e0d73=_0x3a4943[_0x22013c(0x8e)];let _0xbbc0f=_0x2f03c7['chatLog'][_0x22013c(0x82)],_0x350729=this[_0x22013c(0x191)](_0x1e0d73);return Object[_0x22013c(0x122)](_0xbbc0f,_0x350729),_0x2f03c7['chatLog'][_0x22013c(0x82)]=_0xbbc0f,_0x394ee4={'error':!0x1,'apiResponse':_0x1e0d73},this[_0x22013c(0xb9)](_0x2f03c7,_0xd3eaf8,_0x394ee4),_0x1e0d73;}if(_0xc144a&&(_0xc144a[_0x22013c(0x1bd)](_0x22013c(0x35e))||_0xc144a['includes'](_0x22013c(0x43e))||_0xc144a[_0x22013c(0x1bd)](_0x22013c(0x450))||_0xc144a['includes'](_0x22013c(0x232)))){this[_0x22013c(0x672)][_0x22013c(0x1f7)](this[_0x22013c(0x276)]+'\x20('+this[_0x22013c(0x5a3)][_0x22013c(0x6ce)]+_0x22013c(0x11b)+_0xc144a);let _0x3da33b=(0x0,Ce['v4'])(),_0x51d805='',_0x4ce015={'image/jpeg':_0x22013c(0x3db),'image/png':_0x22013c(0x1fc),'image/gif':'.gif','image/webp':'.webp','image/svg+xml':_0x22013c(0x6d9),'audio/mpeg':_0x22013c(0x4fd),'audio/ogg':_0x22013c(0x460),'audio/wav':_0x22013c(0x16f),'video/mp4':_0x22013c(0x69c),'video/webm':_0x22013c(0x6b5),'video/ogg':_0x22013c(0x81),'text/plain':_0x22013c(0x27f),'application/pdf':_0x22013c(0x300),'application/msword':_0x22013c(0x6b2),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':'.docx','application/vnd.ms-excel':_0x22013c(0x5d7),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':'.xlsx','application/vnd.ms-powerpoint':_0x22013c(0x24c),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x22013c(0x1ab)};_0x4ce015[_0xc144a]?(_0x51d805=_0x4ce015[_0xc144a],this[_0x22013c(0x672)]['verbose'](this[_0x22013c(0x276)]+'\x20('+this[_0x22013c(0x5a3)][_0x22013c(0x6ce)]+_0x22013c(0x671)+_0x51d805)):(_0x51d805='.error',this[_0x22013c(0x672)][_0x22013c(0x1f7)](this[_0x22013c(0x276)]+'\x20('+this['instance']['wuid']+'):\x20Usando\x20extensão\x20padrão:\x20'+_0x51d805)),_0x3da33b+=_0x51d805,this[_0x22013c(0x672)]['verbose'](this[_0x22013c(0x276)]+'\x20('+this['instance']['wuid']+'):\x20Nome\x20do\x20arquivo\x20gerado:\x20'+_0x3da33b);let _0x33ead0=this[_0x22013c(0x2e3)][_0x22013c(0x571)](_0x22013c(0xe9))['URL'];if(!_0x33ead0){let _0x2e34dd=this['configService'][_0x22013c(0x571)](_0x22013c(0xef));_0x33ead0=_0x22013c(0x4c4)+(_0x2e34dd&&_0x2e34dd['FULLCHAIN']['split']('/')[0x4]);}let _0x4482ca=Buffer[_0x22013c(0x647)](_0x3a4943[_0x22013c(0x8e)]);await this[_0x22013c(0x329)](_0x4482ca,_0x3da33b);let _0x1543d5=_0x22013c(0x475)+_0x3da33b;_0x1543d5=''+_0x33ead0+_0x1543d5,_0x1e0d73={'fileUrl':_0x1543d5},_0x2f03c7['chatLog']['realVariables']['fileUrl']=_0x1543d5;let _0x1a21d0=_0x2f03c7[_0x22013c(0x11e)][_0x22013c(0x82)],_0x19665e=this[_0x22013c(0x191)](_0x1e0d73);return Object['assign'](_0x1a21d0,_0x19665e),_0x2f03c7[_0x22013c(0x11e)][_0x22013c(0x82)]=_0x1a21d0,_0x394ee4={'error':!0x1,'apiResponse':{'fileUrl':_0x1543d5}},this[_0x22013c(0xb9)](_0x2f03c7,_0xd3eaf8,_0x394ee4),_0x1e0d73;}}catch(_0x29b85e){console[_0x22013c(0x14e)](_0x22013c(0x298),_0x29b85e),_0x29b85e[_0x22013c(0x44e)]&&(_0x1e0d73=_0x29b85e[_0x22013c(0x44e)][_0x22013c(0x8e)]);let _0x383168=_0x2f03c7[_0x22013c(0x11e)]['realVariables'],_0x191c25=this['flattenObject'](_0x1e0d73);return Object[_0x22013c(0x122)](_0x383168,_0x191c25),_0x2f03c7[_0x22013c(0x11e)]['realVariables']=_0x383168,_0x394ee4={'error':!0x0,'errorLog':_0x29b85e[_0x22013c(0x69a)](),'apiResponse':_0x1e0d73},this[_0x22013c(0xb9)](_0x2f03c7,_0xd3eaf8,_0x394ee4),{'success':!0x1};}}[a0_0x4cf6e5(0x380)](_0x335ce6,_0x4625be){const _0x5b8828=a0_0x4cf6e5;let _0x1f5231=_0x1d3f58=>{let _0x554729=_0x1d3f58['replace'](/[^0-9.,-]/g,'')['replace'](',','.'),_0x5e6829=parseFloat(_0x554729);return isNaN(_0x5e6829)?null:_0x5e6829;},_0x5e497c=_0x4625be[_0x5b8828(0x684)],_0x51e3a3=_0x4625be[_0x5b8828(0x53b)];typeof _0x5e497c==_0x5b8828(0x407)&&(_0x5e497c=this['replaceVariables'](_0x5e497c,_0x335ce6['chatLog'][_0x5b8828(0x82)])??''),typeof _0x51e3a3=='string'&&(_0x51e3a3=this[_0x5b8828(0x423)](_0x51e3a3,_0x335ce6[_0x5b8828(0x11e)][_0x5b8828(0x82)])??'');let _0x3ee365=null;if(!_0x4625be['editOperator'])return null;switch(this[_0x5b8828(0x672)][_0x5b8828(0x1f7)](this[_0x5b8828(0x276)]+'\x20('+this[_0x5b8828(0x5a3)][_0x5b8828(0x6ce)]+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0x5e497c),this[_0x5b8828(0x672)]['verbose'](this[_0x5b8828(0x276)]+'\x20('+this[_0x5b8828(0x5a3)][_0x5b8828(0x6ce)]+_0x5b8828(0x156)+_0x51e3a3),_0x4625be[_0x5b8828(0x363)]){case'+':case'-':case'*':case'/':let _0x42f6d5=_0x1f5231(_0x5e497c||'0'),_0x427f7b=_0x1f5231(_0x51e3a3||'0');if(_0x42f6d5===null)return null;switch(_0x4625be['editOperator']){case'+':_0x3ee365=_0x42f6d5+(_0x427f7b??0x0);break;case'-':_0x3ee365=_0x42f6d5-(_0x427f7b??0x0);break;case'*':_0x3ee365=_0x42f6d5*(_0x427f7b??0x1);break;case'/':_0x427f7b!==0x0&&(_0x3ee365=_0x42f6d5/(_0x427f7b??0x1));break;}break;case'findAndReplace':case _0x5b8828(0x4f7):let _0x41a8b8=_0x51e3a3,_0x40dbc5=_0x4625be[_0x5b8828(0x2c4)];if(typeof _0x40dbc5==_0x5b8828(0x407)&&(_0x40dbc5=this[_0x5b8828(0x423)](_0x40dbc5,_0x335ce6[_0x5b8828(0x11e)]['realVariables'])??''),_0x41a8b8&&_0x40dbc5!==void 0x0){let _0x1e4a64=_0x4625be[_0x5b8828(0x363)]===_0x5b8828(0x494)?new RegExp(_0x41a8b8[_0x5b8828(0x5fe)](/[-\/\\^$*+?.()|[\]{}]/g,_0x5b8828(0x104)),'g'):new RegExp(_0x41a8b8,'g');_0x3ee365=_0x5e497c[_0x5b8828(0x5fe)](_0x1e4a64,_0x40dbc5);}else console[_0x5b8828(0xb5)](_0x5b8828(0x38f));break;case _0x5b8828(0x59d):_0x3ee365=_0x51e3a3;break;case _0x5b8828(0x337):let _0x510716=_0x5e497c[_0x5b8828(0x598)](new RegExp(_0x51e3a3||''));_0x3ee365=_0x510716?_0x510716[0x0]:'';break;case'truncatedto':_0x3ee365=_0x5e497c[_0x5b8828(0x526)](0x0,parseInt(_0x51e3a3||'0'));break;case _0x5b8828(0x211):let _0x5728d9=parseInt(_0x51e3a3||'0');_0x3ee365=_0x5e497c['slice'](_0x5e497c[_0x5b8828(0x364)]-_0x5728d9);break;case _0x5b8828(0x56e):let _0x1d7b54=_0x1f5231(_0x5e497c),_0x341e6d=parseInt(_0x51e3a3||'0');_0x341e6d=Math[_0x5b8828(0x2dd)](_0x341e6d),_0x1d7b54!==null?_0x3ee365=_0x1d7b54['toLocaleString'](_0x5b8828(0x1b7),{'minimumFractionDigits':_0x341e6d,'maximumFractionDigits':_0x341e6d}):(console['warn']('Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20'+_0x5e497c),_0x3ee365=null);break;case _0x5b8828(0xf0):let _0x1ff88e=_0x1f5231(_0x5e497c);_0x1ff88e!==null?_0x3ee365=_0x1ff88e['toLocaleString']('pt-BR',{'style':_0x5b8828(0x2ee),'currency':_0x5b8828(0x10d)}):(console[_0x5b8828(0xb5)]('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x5e497c),_0x3ee365=null);break;case'upperCase':_0x3ee365=_0x5e497c[_0x5b8828(0x440)]();break;case _0x5b8828(0x41a):_0x3ee365=_0x5e497c[_0x5b8828(0x21e)]();break;case _0x5b8828(0x260):_0x3ee365=_0x5e497c['split']('\x20')[_0x5b8828(0x2ad)](_0x4d4e4b=>_0x4d4e4b[_0x5b8828(0x3cc)](0x0)[_0x5b8828(0x440)]()+_0x4d4e4b[_0x5b8828(0x526)](0x1)[_0x5b8828(0x21e)]())['join']('\x20');break;case _0x5b8828(0x22a):_0x3ee365=_0x5e497c[_0x5b8828(0x2bf)]();break;default:_0x3ee365=_0x5e497c;}return _0x3ee365!==null?_0x3ee365['toString']():null;}async[a0_0x4cf6e5(0x3ff)](_0x404227,_0x3f8427){const _0x32bb7d=a0_0x4cf6e5;try{let _0x540190=_0x404227[_0x32bb7d(0x108)]?.[_0x32bb7d(0x4dd)](_0x1a7007=>_0x1a7007[_0x32bb7d(0x522)]===_0x3f8427[_0x32bb7d(0x637)]?.['toString']())||[],_0x23e442=_0x3f8427[_0x32bb7d(0x27b)],_0x198a5b=null,_0x50d95e=[],_0x28baaa=_0x404227[_0x32bb7d(0x11e)][_0x32bb7d(0x82)][_0x23e442];_0x50d95e[_0x32bb7d(0xc2)](_0x32bb7d(0xdb)+_0x28baaa+'\x22');for(let _0x1cd848 of _0x540190){_0x1cd848[_0x32bb7d(0x684)]=_0x28baaa,_0x198a5b=_0x1cd848[_0x32bb7d(0x684)];let _0x752bfb;try{_0x752bfb=this['applyvaredit'](_0x404227,_0x1cd848);}catch(_0x216e7a){console['error']('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x216e7a[_0x32bb7d(0x251)]);continue;}if(_0x752bfb!==null){let _0x1b39a3='Operador:\x20\x22'+_0x1cd848[_0x32bb7d(0x363)]+'\x22',_0x5855c2=[_0x32bb7d(0xf0),_0x32bb7d(0x2bb),_0x32bb7d(0x41a),'capitalizedWords','trimmed'];_0x1cd848[_0x32bb7d(0x363)]===_0x32bb7d(0x494)||_0x1cd848[_0x32bb7d(0x363)]===_0x32bb7d(0x4f7)?_0x1b39a3+=_0x32bb7d(0x46a)+_0x1cd848[_0x32bb7d(0x53b)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x1cd848[_0x32bb7d(0x2c4)]+'\x22':!_0x5855c2[_0x32bb7d(0x1bd)](_0x1cd848[_0x32bb7d(0x363)])&&_0x1cd848[_0x32bb7d(0x53b)]!==null&&_0x1cd848[_0x32bb7d(0x53b)]!==void 0x0&&(_0x1b39a3+=',\x20valor\x20passado:\x20\x22'+_0x1cd848[_0x32bb7d(0x53b)]+'\x22'),_0x1b39a3+=_0x32bb7d(0x399)+_0x752bfb+'.',_0x50d95e[_0x32bb7d(0xc2)](_0x1b39a3);}_0x752bfb!==null&&(_0x28baaa=_0x752bfb);}if(_0x404227[_0x32bb7d(0x11e)][_0x32bb7d(0x82)]&&_0x3f8427[_0x32bb7d(0x27b)]){_0x404227[_0x32bb7d(0x11e)][_0x32bb7d(0x82)][_0x3f8427[_0x32bb7d(0x27b)]]=_0x28baaa;let _0x4187ec={'variable':_0x3f8427[_0x32bb7d(0x27b)],'oldValue':_0x198a5b,'newValue':_0x28baaa,'moreLogs':_0x50d95e};try{this[_0x32bb7d(0xb9)](_0x404227,_0x3f8427,_0x4187ec);}catch(_0x4c4322){console[_0x32bb7d(0x14e)](_0x32bb7d(0x629)+_0x4c4322[_0x32bb7d(0x251)]);}}return _0x23e442;}catch(_0x468b93){return console[_0x32bb7d(0x14e)](_0x32bb7d(0x654)+_0x468b93[_0x32bb7d(0x251)]),null;}}async[a0_0x4cf6e5(0x1ad)](_0x104736,_0x1146a6){const _0xf3ddde=a0_0x4cf6e5;try{let _0x252b6b=[],_0x18ef89=_0x104736['conditions'][_0xf3ddde(0x4dd)](_0x1a0953=>_0x1a0953[_0xf3ddde(0x522)]===_0x1146a6[_0xf3ddde(0x637)]['toString']()),_0x1024be=null,_0x3bd106=!0x1;for(let _0x33806b of _0x18ef89){let _0x407c0d=this[_0xf3ddde(0x2a1)](_0x104736,_0x33806b);_0x252b6b[_0xf3ddde(0xc2)](_0xf3ddde(0x120)+_0x33806b['firstValue']+_0xf3ddde(0x307)+_0x33806b[_0xf3ddde(0x405)]+',\x20Segundo\x20Valor:\x20'+_0x33806b[_0xf3ddde(0x53b)]+_0xf3ddde(0x455)+_0x407c0d),_0x1024be===null?_0x1024be=_0x407c0d:_0x33806b[_0xf3ddde(0x3b9)]===_0xf3ddde(0x463)?(_0x1024be=_0x1024be&&_0x407c0d,_0x407c0d||(_0x3bd106=!0x0)):_0x33806b['OrAnd']==='or'&&(_0x3bd106||(_0x1024be=_0x1024be||_0x407c0d));}_0x1024be===null&&(_0x1024be=!0x0);let _0x30a596={'moreLogs':_0x252b6b};_0x104736[_0xf3ddde(0x11e)][_0xf3ddde(0x173)]=_0x1024be,await this[_0xf3ddde(0xb9)](_0x104736,_0x1146a6,_0x30a596);}catch(_0x4788ec){this[_0xf3ddde(0x672)][_0xf3ddde(0x14e)](this[_0xf3ddde(0x276)]+'\x20('+this[_0xf3ddde(0x5a3)][_0xf3ddde(0x6ce)]+_0xf3ddde(0x5b5)+(_0x4788ec instanceof Error?_0x4788ec[_0xf3ddde(0x251)]:JSON[_0xf3ddde(0x611)](_0x4788ec,null,0x2)));}}[a0_0x4cf6e5(0x2a1)](_0x529bf8,_0x2efa93){const _0x2791e9=a0_0x4cf6e5;let _0x51f1cb=_0x2efa93[_0x2791e9(0x684)],_0x1c5cd7=_0x2efa93[_0x2791e9(0x53b)];typeof _0x51f1cb=='string'&&(_0x51f1cb=this[_0x2791e9(0x423)](_0x51f1cb,_0x529bf8[_0x2791e9(0x11e)][_0x2791e9(0x82)])??''),typeof _0x1c5cd7==_0x2791e9(0x407)&&(_0x1c5cd7=this['replaceVariables'](_0x1c5cd7,_0x529bf8[_0x2791e9(0x11e)][_0x2791e9(0x82)])??'');try{switch(_0x2efa93[_0x2791e9(0x405)]){case _0x2791e9(0x4d8):return _0x51f1cb===_0x1c5cd7;case _0x2791e9(0x4ad):return _0x51f1cb!==_0x1c5cd7;case'contains':return this[_0x2791e9(0x5b3)](_0x51f1cb,_0x1c5cd7);case'notContains':return!this[_0x2791e9(0x5b3)](_0x51f1cb,_0x1c5cd7);case _0x2791e9(0x67b):return parseFloat(_0x51f1cb)>parseFloat(_0x1c5cd7);case'less':return parseFloat(_0x51f1cb)<parseFloat(_0x1c5cd7);case'notEmpty':return _0x51f1cb!=='';case _0x2791e9(0x66e):return _0x51f1cb==='';case _0x2791e9(0x6d8):return new RegExp(_0x1c5cd7)[_0x2791e9(0x437)](_0x51f1cb);case _0x2791e9(0x1e7):return!new RegExp(_0x1c5cd7)[_0x2791e9(0x437)](_0x51f1cb);default:return!0x1;}}catch(_0x1659f7){return console[_0x2791e9(0x14e)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x1659f7),!0x1;}}[a0_0x4cf6e5(0x5b3)](_0x1354e0,_0x191d06){const _0x3882c1=a0_0x4cf6e5;if(_0x1354e0===_0x191d06&&/^\d+$/['test'](_0x1354e0))return!0x0;if(this[_0x3882c1(0x37d)](_0x1354e0)&&/^\d+$/['test'](_0x191d06)){let _0x33f582=_0x1354e0[_0x3882c1(0x3ad)](',')[_0x3882c1(0x2ad)](_0x4022e2=>parseInt(_0x4022e2[_0x3882c1(0x2bf)]())),_0x17c955=parseInt(_0x191d06);return _0x33f582[_0x3882c1(0x1bd)](_0x17c955);}return _0x1354e0[_0x3882c1(0x1bd)](_0x191d06);}[a0_0x4cf6e5(0x37d)](_0x4ee3c5){const _0x2bbbc1=a0_0x4cf6e5;return/^\d+(,\d+)*$/[_0x2bbbc1(0x437)](_0x4ee3c5);}[a0_0x4cf6e5(0x327)](_0x4b8be4){const _0x3f32d8=a0_0x4cf6e5;let _0x142e10=!0x0,_0x354935=null;for(let _0x38e457 of _0x4b8be4){let _0x40f377=this['evaluateConditionTest'](_0x38e457);if(_0x354935==='or'&&_0x40f377){_0x142e10=!0x0;break;}if(_0x354935===_0x3f32d8(0x463)&&!_0x40f377){_0x142e10=!0x1;break;}_0x354935=_0x38e457[_0x3f32d8(0x3b9)];}return _0x142e10;}[a0_0x4cf6e5(0x1ca)](_0x1ab5a6){const _0x841587=a0_0x4cf6e5;let _0x54450f=_0x1ab5a6[_0x841587(0x684)],_0x3d3933=_0x1ab5a6[_0x841587(0x53b)];try{switch(_0x1ab5a6['expression']){case _0x841587(0x4d8):return String(_0x54450f)===String(_0x3d3933);case _0x841587(0x4ad):return String(_0x54450f)!==String(_0x3d3933);case'contains':return String(_0x54450f)[_0x841587(0x1bd)](String(_0x3d3933));case _0x841587(0x28c):return!String(_0x54450f)[_0x841587(0x1bd)](String(_0x3d3933));case _0x841587(0x67b):return parseFloat(String(_0x54450f))>parseFloat(String(_0x3d3933));case _0x841587(0x421):return parseFloat(String(_0x54450f))<parseFloat(String(_0x3d3933));case _0x841587(0x3ba):return String(_0x54450f)!=='';case _0x841587(0x66e):return String(_0x54450f)==='';case'matchRegex':return new RegExp(String(_0x3d3933))[_0x841587(0x437)](String(_0x54450f));case _0x841587(0x1e7):return!new RegExp(String(_0x3d3933))[_0x841587(0x437)](String(_0x54450f));default:return!0x1;}}catch(_0x242688){return console[_0x841587(0x14e)](_0x841587(0x159)+_0x242688),!0x1;}}async[a0_0x4cf6e5(0x17f)](_0xde3ec6,_0x309efe){const _0x5244e2=a0_0x4cf6e5;if(this[_0x5244e2(0x672)][_0x5244e2(0x1f7)](this[_0x5244e2(0x276)]+'\x20('+this[_0x5244e2(0x5a3)][_0x5244e2(0x6ce)]+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0xde3ec6||!_0x309efe)return this['logger']['error'](this[_0x5244e2(0x276)]+'\x20('+this['instance'][_0x5244e2(0x6ce)]+_0x5244e2(0x5a0)),null;let _0x40fb63=_0x309efe[_0x5244e2(0x27b)],_0x43e90a=_0xde3ec6[_0x5244e2(0x11e)][_0x5244e2(0xa3)][_0x5244e2(0x118)]||_0xde3ec6['chatLog'][_0x5244e2(0xa3)][_0x5244e2(0x4c6)]||_0xde3ec6[_0x5244e2(0x11e)][_0x5244e2(0xa3)][_0x5244e2(0x62e)];try{_0xde3ec6[_0x5244e2(0x11e)][_0x5244e2(0x82)]||(_0xde3ec6[_0x5244e2(0x11e)][_0x5244e2(0x82)]={});let _0x15e070=_0xde3ec6[_0x5244e2(0x11e)]['realVariables'][_0x40fb63];_0xde3ec6['chatLog'][_0x5244e2(0x82)][_0x40fb63]=_0x43e90a;let _0x4d58cd={'variable':_0x40fb63,'oldValue':_0x15e070,'newValue':_0x43e90a};this[_0x5244e2(0xb9)](_0xde3ec6,_0x309efe,_0x4d58cd),this[_0x5244e2(0x672)][_0x5244e2(0x1f7)](this[_0x5244e2(0x276)]+'\x20('+this[_0x5244e2(0x5a3)][_0x5244e2(0x6ce)]+_0x5244e2(0x5bb));}catch(_0x15cdc5){let _0x42c07a={'error':!0x0,'errorLog':_0x15cdc5[_0x5244e2(0x69a)]()};return this[_0x5244e2(0xb9)](_0xde3ec6,_0x309efe,_0x42c07a),this['logger'][_0x5244e2(0x14e)](this['instanceName']+'\x20('+this[_0x5244e2(0x5a3)][_0x5244e2(0x6ce)]+_0x5244e2(0x4c8)+(_0x15cdc5 instanceof Error?_0x15cdc5['message']:JSON[_0x5244e2(0x611)](_0x15cdc5,null,0x2))),null;}}async[a0_0x4cf6e5(0x1fd)](_0x5e2424,_0x4fe30e){const _0x51d848=a0_0x4cf6e5;if(this[_0x51d848(0x672)][_0x51d848(0x1f7)](this[_0x51d848(0x276)]+'\x20('+this['instance'][_0x51d848(0x6ce)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0x5e2424||!_0x4fe30e)return this['logger'][_0x51d848(0x14e)](this['instanceName']+'\x20('+this[_0x51d848(0x5a3)][_0x51d848(0x6ce)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x54a152=Date['now'](),_0x169422=parseInt(_0x4fe30e[_0x51d848(0x68e)],0xa);if(isNaN(_0x169422))return this[_0x51d848(0x672)]['error'](this[_0x51d848(0x276)]+'\x20('+this['instance'][_0x51d848(0x6ce)]+_0x51d848(0x2d1)),null;let _0x538529={'newStoppedUntil':_0x54a152+_0x169422*0x3c*0x3e8};return await this[_0x51d848(0xb9)](_0x5e2424,_0x4fe30e,_0x538529,!0x0),null;}async['processUazapi'](_0x2c1104,_0x40b57e){const _0x3865ca=a0_0x4cf6e5;try{switch(_0x40b57e['uazapi'][_0x3865ca(0x4b8)]){case _0x3865ca(0x31c):await this[_0x3865ca(0x278)](_0x2c1104,_0x40b57e);break;case _0x3865ca(0x3a0):await this[_0x3865ca(0x2ef)](_0x2c1104,_0x40b57e);break;case _0x3865ca(0x13f):await this['uazapiSendLocation'](_0x2c1104,_0x40b57e);break;case _0x3865ca(0x240):await this[_0x3865ca(0x4a6)](_0x2c1104,_0x40b57e);break;case _0x3865ca(0x68b):await this[_0x3865ca(0x98)](_0x2c1104,_0x40b57e);break;case'sendPoll':await this[_0x3865ca(0x48e)](_0x2c1104,_0x40b57e);break;case'sendMenu':await this[_0x3865ca(0x48e)](_0x2c1104,_0x40b57e);break;case _0x3865ca(0x4e7):await this['uazapiDeleteMessage'](_0x2c1104,_0x40b57e);break;default:this['logger']['error'](this[_0x3865ca(0x276)]+'\x20('+this[_0x3865ca(0x5a3)][_0x3865ca(0x6ce)]+_0x3865ca(0x56c)+_0x40b57e[_0x3865ca(0x192)][_0x3865ca(0x4b8)]);}}catch(_0x1eaaaf){this[_0x3865ca(0x672)]['error'](this[_0x3865ca(0x276)]+'\x20('+this[_0x3865ca(0x5a3)][_0x3865ca(0x6ce)]+_0x3865ca(0x66d)+(_0x1eaaaf instanceof Error?_0x1eaaaf[_0x3865ca(0x251)]:JSON['stringify'](_0x1eaaaf,null,0x2)));}}async['updateConversation'](_0x1d6f95,_0x1a38c8,_0x272c81,_0x4d4016=!0x1,_0x37e436=!0x1){const _0x184561=a0_0x4cf6e5;_0x1d6f95[_0x184561(0x11e)]['blockLogs']||(_0x1d6f95[_0x184561(0x11e)][_0x184561(0x511)]=[]);let _0x5216c0=(_0x1d6f95['chatLog'][_0x184561(0x511)]?.[_0x184561(0x364)]??0x0)+0x1,_0x562807=_0x1d6f95['chatLog'][_0x184561(0x511)]['filter'](_0x55b9f5=>String(_0x55b9f5['blockId'])===String(_0x1a38c8['_id']))[_0x184561(0x364)]+0x1,_0x1e6bb2=_0x272c81?.['onTime']??Date[_0x184561(0x5a1)](),_0x19e6f5=_0x272c81?.[_0x184561(0x14e)]?_0x272c81['errorLog']??_0x272c81[_0x184561(0x14e)][_0x184561(0x69a)]():void 0x0,_0x14c623={'onTime':_0x1e6bb2,'blockId':_0x1a38c8[_0x184561(0x637)],'order':_0x5216c0,'activatedCount':_0x562807,'error':_0x272c81?.[_0x184561(0x14e)]??!0x1,'messageId':_0x272c81?.[_0x184561(0x403)],'apiResponse':_0x272c81?.[_0x184561(0x6e0)],'apiResponseString':_0x272c81?.[_0x184561(0x6e0)]?JSON[_0x184561(0x611)](_0x272c81?.[_0x184561(0x6e0)]):void 0x0,'variable':_0x272c81?.[_0x184561(0x185)],'oldValue':_0x272c81?.[_0x184561(0x10f)],'newValue':_0x272c81?.['newValue'],'newStoppedUntil':_0x272c81?.[_0x184561(0xb4)],'moreLogs':_0x272c81?.[_0x184561(0x5ba)],'errorLog':_0x19e6f5};if(_0x272c81[_0x184561(0x5ba)]&&_0x272c81[_0x184561(0x5ba)]['length']>0x0){let _0x4d55ca=_0x272c81['moreLogs'][_0x184561(0x2ad)](_0x56b97c=>this[_0x184561(0x231)](_0x56b97c,_0x1d6f95[_0x184561(0x11e)]['realVariables']));_0x14c623[_0x184561(0x5ba)]=_0x4d55ca;}_0x1d6f95[_0x184561(0x11e)]['realVariables']||(_0x1d6f95[_0x184561(0x11e)][_0x184561(0x82)]={}),_0x1d6f95['chatLog']['realVariables'][_0x184561(0x69f)]=String(_0x562807),_0x1d6f95[_0x184561(0x11e)]['realVariables']['_error']=String(_0x272c81[_0x184561(0x14e)]??!0x1),_0x1d6f95[_0x184561(0x11e)][_0x184561(0x511)][_0x184561(0xc2)](_0x14c623),_0x1d6f95['chatLog']['lastBlockId']=_0x1a38c8[_0x184561(0x637)][_0x184561(0x69a)](),_0x1d6f95['chatLog'][_0x184561(0x10c)]&&(_0x1d6f95['chatLog'][_0x184561(0x10c)]=_0x1d6f95[_0x184561(0x11e)]['lastSendMessage']),_0x1d6f95[_0x184561(0x11e)][_0x184561(0xa3)]&&(_0x1d6f95[_0x184561(0x11e)][_0x184561(0xa3)]=_0x1d6f95[_0x184561(0x11e)][_0x184561(0xa3)]),_0x1d6f95['chatLog'][_0x184561(0x173)]&&(_0x1d6f95[_0x184561(0x11e)][_0x184561(0x173)]=_0x1d6f95[_0x184561(0x11e)][_0x184561(0x173)]),_0x37e436&&(_0x1d6f95[_0x184561(0x485)]=_0x184561(0x2f3)),_0x4d4016?this[_0x184561(0x350)](_0x1d6f95):this[_0x184561(0x250)](_0x1d6f95,_0x1a38c8);}[a0_0x4cf6e5(0x231)](_0x3559a9,_0x5ac964){const _0x351285=a0_0x4cf6e5;return _0x3559a9[_0x351285(0x5fe)](/\{\{([^}]+)\}\}/g,(_0x3e53bd,_0x54556b)=>_0x5ac964[_0x54556b]?'{{'+_0x54556b+'}}\x20->\x20\x22'+_0x5ac964[_0x54556b]+'\x22':'{{'+_0x54556b+_0x351285(0x65b));}async[a0_0x4cf6e5(0x350)](_0xc776c4){const _0x3c0dda=a0_0x4cf6e5;try{let _0x129686=Object['entries'](_0xc776c4[_0x3c0dda(0x11e)][_0x3c0dda(0x82)])[_0x3c0dda(0x2ad)](([_0xe22367,_0x24fa20])=>({'name':_0xe22367,'value':_0x24fa20})),_0x21fb25={'status':_0xc776c4['status'],'blocks':_0xc776c4[_0x3c0dda(0x507)],'waitingMenu_id':_0xc776c4[_0x3c0dda(0x317)],'waitingMenu_text':_0xc776c4[_0x3c0dda(0x34c)],'waitingMenu_replyOptions':_0xc776c4[_0x3c0dda(0x26a)],'chatLog':{'lastBlockId':_0xc776c4['chatLog'][_0x3c0dda(0x8b)],'lastSendMessage':_0xc776c4['chatLog'][_0x3c0dda(0x10c)],'lastReceivedMessage':_0xc776c4[_0x3c0dda(0x11e)][_0x3c0dda(0xa3)],'lastCondition':_0xc776c4[_0x3c0dda(0x11e)][_0x3c0dda(0x173)],'chatVariables':_0x129686,'realVariables':_0xc776c4[_0x3c0dda(0x11e)]['realVariables'],'blockLogs':_0xc776c4[_0x3c0dda(0x11e)][_0x3c0dda(0x511)]}},_0x2f1a4b=await this[_0x3c0dda(0x79)][_0x3c0dda(0x5de)]['updateOne'](_0xc776c4[_0x3c0dda(0x637)],_0x21fb25,this[_0x3c0dda(0x5a3)][_0x3c0dda(0x6ce)]);if(_0x2f1a4b){this['logger'][_0x3c0dda(0x1f7)](this[_0x3c0dda(0x276)]+'\x20('+this[_0x3c0dda(0x5a3)][_0x3c0dda(0x6ce)]+_0x3c0dda(0x488)+_0x2f1a4b['_id']);try{let _0x1a1e93=[_0x3c0dda(0x2b7),_0x3c0dda(0xf8),'email',_0x3c0dda(0x63e),_0x3c0dda(0x485),_0x3c0dda(0x2cc),_0x3c0dda(0x680),_0x3c0dda(0x5e0),'etiquetas'];if(!this[_0x3c0dda(0x167)]&&(await this[_0x3c0dda(0x197)](),!this[_0x3c0dda(0x167)]))throw new Error(_0x3c0dda(0x335));let _0x36b3a7=this[_0x3c0dda(0x167)]?.[_0x3c0dda(0x2e0)]['map'](_0x3f7dce=>_0x3f7dce[_0x3c0dda(0x3ee)]),_0x192381={};Object[_0x3c0dda(0xc5)](_0xc776c4[_0x3c0dda(0x11e)][_0x3c0dda(0x82)])[_0x3c0dda(0x357)](([_0x57a938,_0x51ba74])=>{const _0x519adf=_0x3c0dda;_0x1a1e93[_0x519adf(0x1bd)](_0x57a938)&&(_0x57a938==='tags'&&typeof _0x51ba74==_0x519adf(0x407)?_0x192381[_0x57a938]=_0x51ba74[_0x519adf(0x3ad)](',')['map'](_0x5c062a=>_0x5c062a['trim']())['filter'](_0x4b5549=>_0x4b5549!==''):_0x57a938===_0x519adf(0x648)&&typeof _0x51ba74==_0x519adf(0x407)?_0x192381[_0x57a938]=_0x51ba74[_0x519adf(0x3ad)](',')[_0x519adf(0x2ad)](_0x2f6c45=>_0x2f6c45[_0x519adf(0x2bf)]())[_0x519adf(0x4dd)](_0x4ed43b=>_0x4ed43b!==''):_0x192381[_0x57a938]=_0x51ba74);});let _0x13f3be=_0xc776c4[_0x3c0dda(0x11e)][_0x3c0dda(0x511)][_0xc776c4['chatLog'][_0x3c0dda(0x511)][_0x3c0dda(0x364)]-0x1];if(_0x13f3be){let _0x4783ea=_0x13f3be[_0x3c0dda(0xb4)];_0x4783ea!==void 0x0&&(_0x192381[_0x3c0dda(0x430)]=_0x4783ea[_0x3c0dda(0x69a)]());}let _0x4f1526=_0x129686[_0x3c0dda(0x4dd)](_0x331770=>_0x36b3a7[_0x3c0dda(0x1bd)](_0x331770[_0x3c0dda(0x3ee)]));this[_0x3c0dda(0x672)][_0x3c0dda(0x1f7)](this[_0x3c0dda(0x276)]+'\x20('+this['instance'][_0x3c0dda(0x6ce)]+'):\x20leadInfoVariables'),this['logger'][_0x3c0dda(0x1f7)](_0x192381),this[_0x3c0dda(0x672)][_0x3c0dda(0x1f7)](this[_0x3c0dda(0x276)]+'\x20('+this[_0x3c0dda(0x5a3)][_0x3c0dda(0x6ce)]+_0x3c0dda(0x456)),this['logger'][_0x3c0dda(0x1f7)](_0x4f1526);let _0x3a130b=_0x4f1526[_0x3c0dda(0x2ad)](_0x30ec1b=>{const _0x53f2e5=_0x3c0dda;let _0x554e66=this[_0x53f2e5(0x167)]?.[_0x53f2e5(0x2e0)]['find'](_0x301724=>_0x301724[_0x53f2e5(0x3ee)]===_0x30ec1b['name']);if(!_0x554e66)throw new Error(_0x53f2e5(0x341)+_0x30ec1b[_0x53f2e5(0x3ee)]);return{'_id':_0x554e66['_id'],'value':_0x30ec1b['value']};});this['logger'][_0x3c0dda(0x1f7)](this[_0x3c0dda(0x276)]+'\x20('+this[_0x3c0dda(0x5a3)]['wuid']+_0x3c0dda(0x6e6)),this[_0x3c0dda(0x672)][_0x3c0dda(0x1f7)](_0x3a130b),await this['saveChatVariables'](_0xc776c4[_0x3c0dda(0x373)],_0x192381,_0x3a130b);}catch(_0x20332d){this[_0x3c0dda(0x672)][_0x3c0dda(0x14e)](this[_0x3c0dda(0x276)]+'\x20('+this['instance']['wuid']+_0x3c0dda(0x683)+(_0x20332d instanceof Error?_0x20332d['message']:JSON[_0x3c0dda(0x611)](_0x20332d,null,0x2)));}}else this[_0x3c0dda(0x672)][_0x3c0dda(0x14e)](this[_0x3c0dda(0x276)]+'\x20('+this[_0x3c0dda(0x5a3)][_0x3c0dda(0x6ce)]+_0x3c0dda(0x127));}catch(_0x3e43a6){this[_0x3c0dda(0x672)]['error'](this[_0x3c0dda(0x276)]+'\x20('+this['instance']['wuid']+_0x3c0dda(0x34b)+(_0x3e43a6 instanceof Error?_0x3e43a6[_0x3c0dda(0x251)]:JSON['stringify'](_0x3e43a6,null,0x2)));}}async[a0_0x4cf6e5(0x1e8)](_0x2abeac,_0x1bb053,_0x8622f0){const _0x2af4e9=a0_0x4cf6e5;try{let _0x42497d={'leadInfo.leadnome':_0x1bb053[_0x2af4e9(0x2b7)],'leadInfo.nomecompleto':_0x1bb053[_0x2af4e9(0xf8)],'leadInfo.email':_0x1bb053['email'],'leadInfo.cpf':_0x1bb053['cpf'],'leadInfo.status':_0x1bb053[_0x2af4e9(0x485)],'leadInfo.notas':_0x1bb053[_0x2af4e9(0x2cc)],'leadInfo.responsavelid':_0x1bb053[_0x2af4e9(0x680)],'leadInfo.tags':_0x1bb053[_0x2af4e9(0x5e0)],'leadInfo.etiquetas':_0x1bb053[_0x2af4e9(0x648)],'leadInfo.customFields':_0x8622f0},_0x5f0901=await this[_0x2af4e9(0x79)][_0x2af4e9(0x51b)]['findOne']({'where':{'_id':_0x2abeac}},this['instance'][_0x2af4e9(0x6ce)]),_0x175051=new Set(_0x5f0901[_0x2af4e9(0x5d0)][_0x2af4e9(0x648)]||[]),_0x11038a=new Set(_0x1bb053[_0x2af4e9(0x648)]||[]),_0x24e0d5=await this[_0x2af4e9(0x79)][_0x2af4e9(0x60b)][_0x2af4e9(0x531)]({'where':{}},this[_0x2af4e9(0x5a3)][_0x2af4e9(0x6ce)]),_0x1c3834=new Set(_0x24e0d5[_0x2af4e9(0x2ad)](_0x55d086=>_0x55d086[_0x2af4e9(0x637)])),_0x38b048=[..._0x11038a][_0x2af4e9(0x4dd)](_0x4d47c4=>!_0x175051[_0x2af4e9(0x141)](_0x4d47c4)&&_0x1c3834['has'](_0x4d47c4)),_0x55c979=[..._0x175051]['filter'](_0x17ffdd=>!_0x11038a[_0x2af4e9(0x141)](_0x17ffdd));for(let _0x13102c of _0x38b048)await this[_0x2af4e9(0x4e2)](_0x13102c,_0x5f0901[_0x2af4e9(0x637)]),_0x175051[_0x2af4e9(0x5f3)](_0x13102c);for(let _0x25807c of _0x55c979)await this['RemoveChatLabel'](_0x25807c,_0x5f0901['_id']),_0x175051[_0x2af4e9(0xff)](_0x25807c);if('desativadoFluxoAte'in _0x1bb053){let _0x150259=_0x1bb053[_0x2af4e9(0x430)];_0x42497d[_0x2af4e9(0x371)]=_0x150259?Number(_0x150259):null;}let _0x5c0917=await this[_0x2af4e9(0x79)][_0x2af4e9(0x51b)][_0x2af4e9(0x376)]({'where':{'_id':_0x2abeac}},_0x42497d,this['instance'][_0x2af4e9(0x6ce)]);_0x5c0917?(this['logger'][_0x2af4e9(0x1f7)](this['instanceName']+'\x20('+this[_0x2af4e9(0x5a3)][_0x2af4e9(0x6ce)]+_0x2af4e9(0x107)+_0x5c0917[_0x2af4e9(0x637)]),q(this[_0x2af4e9(0x276)],_0x2af4e9(0x35a),{'chat':_0x5c0917})):this[_0x2af4e9(0x672)][_0x2af4e9(0x14e)](this[_0x2af4e9(0x276)]+'\x20('+this['instance'][_0x2af4e9(0x6ce)]+_0x2af4e9(0x1f5));}catch(_0x2714de){this['logger']['error'](this[_0x2af4e9(0x276)]+'\x20('+this[_0x2af4e9(0x5a3)][_0x2af4e9(0x6ce)]+_0x2af4e9(0x687)+(_0x2714de instanceof Error?_0x2714de[_0x2af4e9(0x251)]:JSON[_0x2af4e9(0x611)](_0x2714de,null,0x2)));}}async['updateStopChat'](_0x3159b3,_0x46d9d5){const _0x5e98f8=a0_0x4cf6e5;this['logger'][_0x5e98f8(0x1f7)](this[_0x5e98f8(0x276)]+'\x20('+this[_0x5e98f8(0x5a3)][_0x5e98f8(0x6ce)]+_0x5e98f8(0x3e7)+_0x46d9d5);try{let _0x28ed81=await this[_0x5e98f8(0x79)][_0x5e98f8(0x51b)][_0x5e98f8(0x376)]({'where':{'_id':_0x3159b3[_0x5e98f8(0x373)]}},{'leadInfo.desativadoFluxoAte':_0x46d9d5},this[_0x5e98f8(0x5a3)]['wuid']);this[_0x5e98f8(0x672)][_0x5e98f8(0x1f7)](this['instanceName']+'\x20('+this[_0x5e98f8(0x5a3)][_0x5e98f8(0x6ce)]+_0x5e98f8(0x109)+_0x3159b3[_0x5e98f8(0x637)]),this[_0x5e98f8(0x672)][_0x5e98f8(0x1f7)](this[_0x5e98f8(0x276)]+'\x20('+this[_0x5e98f8(0x5a3)]['wuid']+_0x5e98f8(0x3e7)+JSON['stringify'](_0x28ed81,null,0x2)),_0x28ed81&&q(this[_0x5e98f8(0x276)],'chats',{'chat':_0x28ed81});}catch(_0x138cf0){this[_0x5e98f8(0x672)]['error'](this[_0x5e98f8(0x276)]+'\x20('+this[_0x5e98f8(0x5a3)][_0x5e98f8(0x6ce)]+_0x5e98f8(0x325)+(_0x138cf0 instanceof Error?_0x138cf0[_0x5e98f8(0x251)]:JSON[_0x5e98f8(0x611)](_0x138cf0,null,0x2)));}}async[a0_0x4cf6e5(0x203)](_0x29e116){const _0xdc0e9e=a0_0x4cf6e5;try{this['logger'][_0xdc0e9e(0x1f7)](this[_0xdc0e9e(0x276)]+'\x20('+this['instance'][_0xdc0e9e(0x6ce)]+'):\x20Buscando\x20flow...');let _0x1a71f4=_0x29e116['replace'](/\D/g,''),_0x357d8f=await this[_0xdc0e9e(0x79)]['flow']['findOne']({'where':{'testingWith':_0x1a71f4}},this['instance'][_0xdc0e9e(0x6ce)]);return _0x357d8f||(this[_0xdc0e9e(0x672)][_0xdc0e9e(0x1f7)](this[_0xdc0e9e(0x276)]+'\x20('+this[_0xdc0e9e(0x5a3)][_0xdc0e9e(0x6ce)]+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0x357d8f=await this['repository'][_0xdc0e9e(0x2a6)][_0xdc0e9e(0x2a7)]({'where':{'default':!0x0}},this[_0xdc0e9e(0x5a3)]['wuid'])),_0x357d8f||(this[_0xdc0e9e(0x672)][_0xdc0e9e(0x1f7)](this['instanceName']+'\x20('+this[_0xdc0e9e(0x5a3)][_0xdc0e9e(0x6ce)]+_0xdc0e9e(0x257)),null);}catch(_0x5a6b41){return this['logger'][_0xdc0e9e(0x14e)](this['instanceName']+'\x20('+this[_0xdc0e9e(0x5a3)][_0xdc0e9e(0x6ce)]+_0xdc0e9e(0x286)+(_0x5a6b41 instanceof Error?_0x5a6b41[_0xdc0e9e(0x251)]:JSON[_0xdc0e9e(0x611)](_0x5a6b41,null,0x2))),null;}}async['findConversation'](_0x19bb60,_0x42c29d){const _0x259d12=a0_0x4cf6e5;try{let _0x30783c=!!_0x42c29d[_0x259d12(0x62e)],_0x28713c=_0x42c29d['quoted'],_0x5bd268=null;if(this['logger']['verbose'](this[_0x259d12(0x276)]+'\x20('+this[_0x259d12(0x5a3)][_0x259d12(0x6ce)]+_0x259d12(0x21a)+_0x30783c+_0x259d12(0x2b4)+_0x28713c),_0x30783c){this[_0x259d12(0x672)][_0x259d12(0x1f7)](this[_0x259d12(0x276)]+'\x20('+this['instance']['wuid']+_0x259d12(0x29e));let _0x369c24={'where':{'remoteJid':_0x19bb60,'waitingMenu_id':_0x28713c}};if(_0x5bd268=await this['repository'][_0x259d12(0x5de)]['findOne'](_0x369c24,this['instance'][_0x259d12(0x6ce)]),!_0x5bd268)return this['logger'][_0x259d12(0x1f7)](this[_0x259d12(0x276)]+'\x20('+this[_0x259d12(0x5a3)]['wuid']+'):\x20não\x20encontrou'),null;let _0x18e52c=Date[_0x259d12(0x5a1)](),_0x3db6fd=_0x5bd268?.[_0x259d12(0xe3)]||0x0,_0x16ad8d=_0x18e52c-_0x3db6fd*0x3c*0x3e8;if(_0x5bd268[_0x259d12(0x558)]<_0x16ad8d){this[_0x259d12(0x672)][_0x259d12(0x1f7)](this[_0x259d12(0x276)]+'\x20('+this[_0x259d12(0x5a3)][_0x259d12(0x6ce)]+_0x259d12(0x532));let _0x3f9f7c={'number':_0x5bd268['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x5bd268[_0x259d12(0x4e4)]}};await this[_0x259d12(0x63b)](_0x3f9f7c);let _0x5aebef={'status':'closed','waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x259d12(0x79)][_0x259d12(0x5de)]['updateOne'](_0x5bd268['_id'],_0x5aebef,this[_0x259d12(0x5a3)][_0x259d12(0x6ce)]),null;}return _0x5bd268[_0x259d12(0x558)]=Date['now'](),_0x5bd268[_0x259d12(0x11e)][_0x259d12(0xa3)]=_0x42c29d,_0x5bd268;}else{this[_0x259d12(0x672)][_0x259d12(0x1f7)](this[_0x259d12(0x276)]+'\x20('+this[_0x259d12(0x5a3)][_0x259d12(0x6ce)]+'):\x20'+this['instance'][_0x259d12(0x6ce)]+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this[_0x259d12(0x672)][_0x259d12(0x1f7)](this[_0x259d12(0x276)]+'\x20('+this['instance'][_0x259d12(0x6ce)]+'):\x20Procurando\x20conversa');let _0x5a33f4={'where':{'remoteJid':_0x19bb60,'status':_0x259d12(0x2ca)}};if(_0x5bd268=await this[_0x259d12(0x79)]['flowConversation']['findOne'](_0x5a33f4,this[_0x259d12(0x5a3)][_0x259d12(0x6ce)]),!_0x5bd268){let _0xbcaf73=await this['findFlow'](_0x19bb60);if(_0xbcaf73&&(_0x5bd268=await this[_0x259d12(0xc4)](_0xbcaf73,_0x42c29d[_0x259d12(0x5bd)],_0x42c29d)),!_0x5bd268)return null;}let _0xebbbdc=Date['now'](),_0x532750=_0x5bd268?.[_0x259d12(0xe3)]||0x0,_0x47ea40=_0xebbbdc-_0x532750*0x3c*0x3e8;if(this['logger'][_0x259d12(0x1f7)](this[_0x259d12(0x276)]+'\x20('+this['instance']['wuid']+_0x259d12(0x545)+_0xebbbdc+_0x259d12(0xbb)+_0x532750+_0x259d12(0xc7)+_0x47ea40),this[_0x259d12(0x672)][_0x259d12(0x1f7)](this[_0x259d12(0x276)]+'\x20('+this[_0x259d12(0x5a3)][_0x259d12(0x6ce)]+_0x259d12(0x54f)),this[_0x259d12(0x672)][_0x259d12(0x1f7)](this[_0x259d12(0x276)]+'\x20('+this[_0x259d12(0x5a3)][_0x259d12(0x6ce)]+_0x259d12(0x481)+_0x5bd268[_0x259d12(0x558)]),this['logger'][_0x259d12(0x1f7)](this[_0x259d12(0x276)]+'\x20('+this['instance'][_0x259d12(0x6ce)]+_0x259d12(0x387)+_0x47ea40),_0x5bd268[_0x259d12(0x558)]<_0x47ea40){this[_0x259d12(0x672)][_0x259d12(0x1f7)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x259d12(0x6d3));let _0x3809f2=await this[_0x259d12(0x203)](_0x19bb60);if(_0x3809f2===null)return null;_0x5bd268&&await this['repository'][_0x259d12(0x5de)][_0x259d12(0x376)](_0x5bd268[_0x259d12(0x637)],{'status':'closed'},this['instance'][_0x259d12(0x6ce)]),_0x5bd268=await this[_0x259d12(0xc4)](_0x3809f2,_0x42c29d[_0x259d12(0x5bd)],_0x42c29d);}return _0x5bd268[_0x259d12(0x558)]=_0xebbbdc,_0x5bd268['chatLog']['lastReceivedMessage']=_0x42c29d,_0x5bd268;}}catch(_0x576d6b){return this['logger'][_0x259d12(0x14e)](this[_0x259d12(0x276)]+'\x20('+this[_0x259d12(0x5a3)][_0x259d12(0x6ce)]+_0x259d12(0x116)+(_0x576d6b instanceof Error?_0x576d6b[_0x259d12(0x251)]:JSON[_0x259d12(0x611)](_0x576d6b,null,0x2))),null;}}async[a0_0x4cf6e5(0xc4)](_0x5a4cca,_0x157b2d,_0x30b64e){const _0x5d8eb8=a0_0x4cf6e5;this[_0x5d8eb8(0x672)][_0x5d8eb8(0x1f7)](this[_0x5d8eb8(0x276)]+'\x20('+this['instance'][_0x5d8eb8(0x6ce)]+_0x5d8eb8(0x5b4));try{let _0x4ec2aa=require(_0x5d8eb8(0x2d3))[_0x5d8eb8(0x554)],_0x4fac66=Date[_0x5d8eb8(0x5a1)](),_0x2d6620='start',_0x178212=_0x157b2d['fromMe']?null:_0x30b64e,_0x922a2=_0x157b2d[_0x5d8eb8(0x302)]?_0x30b64e:null,_0x5525fe=_0x157b2d[_0x5d8eb8(0x373)];await this[_0x5d8eb8(0x5d2)](_0x5525fe);let _0x4c1047={..._0x5a4cca,'chatLog':null},_0x561e0c=await this[_0x5d8eb8(0x263)](_0x4c1047[_0x5d8eb8(0x4a2)]),_0x25b217=await this['getVariablesChat'](_0x5525fe),_0x30c4af={..._0x561e0c,..._0x25b217,'_remoteJid':_0x5525fe},_0x5a45aa={'lastReceivedMessage':_0x178212,'lastSendMessage':_0x922a2,'lastBlockId':_0x2d6620,'lastCondition':!0x0,'realVariables':_0x30c4af};_0x4c1047['chatLog']=_0x5a45aa,delete _0x4c1047[_0x5d8eb8(0x637)],_0x4c1047[_0x5d8eb8(0x637)]=new _0x4ec2aa(),_0x4c1047[_0x5d8eb8(0x558)]=_0x4fac66,_0x4c1047[_0x5d8eb8(0x485)]=_0x5d8eb8(0x2ca),_0x4c1047[_0x5d8eb8(0x373)]=_0x5525fe;let _0x5a0d11=await this[_0x5d8eb8(0x79)][_0x5d8eb8(0x5de)][_0x5d8eb8(0x376)](_0x4c1047[_0x5d8eb8(0x637)],_0x4c1047,this[_0x5d8eb8(0x5a3)][_0x5d8eb8(0x6ce)]);return this[_0x5d8eb8(0x672)][_0x5d8eb8(0x1f7)](this[_0x5d8eb8(0x276)]+'\x20('+this[_0x5d8eb8(0x5a3)][_0x5d8eb8(0x6ce)]+_0x5d8eb8(0x3b3)),_0x5a0d11?_0x4c1047:null;}catch(_0x298d58){return this[_0x5d8eb8(0x672)][_0x5d8eb8(0x14e)](this[_0x5d8eb8(0x276)]+'\x20('+this[_0x5d8eb8(0x5a3)][_0x5d8eb8(0x6ce)]+_0x5d8eb8(0x30d)+(_0x298d58 instanceof Error?_0x298d58[_0x5d8eb8(0x251)]:JSON[_0x5d8eb8(0x611)](_0x298d58,null,0x2))),_0x298d58;}}async['uazapiSendText'](_0x4e1c14,_0x525c39){const _0x2a6c3c=a0_0x4cf6e5;let _0x52e374=_0x4e1c14[_0x2a6c3c(0x373)];_0x525c39['uazapi'][_0x2a6c3c(0x373)]&&_0x525c39[_0x2a6c3c(0x192)][_0x2a6c3c(0x373)][_0x2a6c3c(0x2bf)]()!==''&&(_0x52e374=_0x525c39[_0x2a6c3c(0x192)]['remoteJid'][_0x2a6c3c(0x2bf)]()),this['logger'][_0x2a6c3c(0x1f7)](this[_0x2a6c3c(0x276)]+'\x20('+this['instance']['wuid']+_0x2a6c3c(0x569));let _0x5dd3f7={'number':_0x52e374,'options':{'delay':_0x525c39[_0x2a6c3c(0x192)][_0x2a6c3c(0x3da)]},'textMessage':{'text':_0x525c39[_0x2a6c3c(0x192)]['text']}};try{let _0x3545f9=await this[_0x2a6c3c(0x63b)](_0x5dd3f7);if(_0x3545f9){let _0x16b0e7={'_id':_0x3545f9[_0x2a6c3c(0x5bd)]['id'],'_fromMe':_0x3545f9['key'][_0x2a6c3c(0x302)],'_remoteJid':_0x3545f9[_0x2a6c3c(0x5bd)][_0x2a6c3c(0x373)]},_0xca313d=(0x0,g[_0x2a6c3c(0x401)])(_0x3545f9[_0x2a6c3c(0x251)]),_0xce83e7=(0x0,g['getContentType'])(_0xca313d);_0x4e1c14[_0x2a6c3c(0x11e)]['lastBlockId']=_0x525c39[_0x2a6c3c(0x637)][_0x2a6c3c(0x69a)]();let {message_normalized:_0x5c35dc}=this['normalizeMessage'](_0xca313d,_0xce83e7,null);_0x4e1c14[_0x2a6c3c(0x11e)][_0x2a6c3c(0x10c)]=await _0x5c35dc;let _0x510830={'messageId':_0x3545f9[_0x2a6c3c(0x5bd)]['id']},_0x316dcd=_0x4e1c14[_0x2a6c3c(0x11e)]['realVariables'];Object['assign'](_0x316dcd,_0x16b0e7),_0x4e1c14[_0x2a6c3c(0x11e)][_0x2a6c3c(0x82)]=_0x316dcd,this[_0x2a6c3c(0xb9)](_0x4e1c14,_0x525c39,_0x510830);}else{let _0x5c02b2={'error':!0x0};this['updateConversation'](_0x4e1c14,_0x525c39,_0x5c02b2),this[_0x2a6c3c(0x672)][_0x2a6c3c(0x14e)](this['instanceName']+'\x20('+this[_0x2a6c3c(0x5a3)][_0x2a6c3c(0x6ce)]+_0x2a6c3c(0x52c));}}catch(_0x429e49){let _0x10518e={'error':!0x0,'errorLog':_0x429e49['toString']()};this[_0x2a6c3c(0xb9)](_0x4e1c14,_0x525c39,_0x10518e),this[_0x2a6c3c(0x672)][_0x2a6c3c(0x14e)](this[_0x2a6c3c(0x276)]+'\x20('+this[_0x2a6c3c(0x5a3)]['wuid']+_0x2a6c3c(0x3c5)+(_0x429e49 instanceof Error?_0x429e49[_0x2a6c3c(0x251)]:JSON[_0x2a6c3c(0x611)](_0x429e49,null,0x2)));}}async['uazapiSendMedia'](_0xb1d19f,_0x50cc05){const _0x5cd12a=a0_0x4cf6e5;let _0x4512a7=_0xb1d19f[_0x5cd12a(0x373)];_0x50cc05['uazapi'][_0x5cd12a(0x373)]&&_0x50cc05[_0x5cd12a(0x192)]['remoteJid']['trim']()!==''&&(_0x4512a7=_0x50cc05[_0x5cd12a(0x192)][_0x5cd12a(0x373)]['trim']()),this[_0x5cd12a(0x672)]['verbose'](this[_0x5cd12a(0x276)]+'\x20('+this[_0x5cd12a(0x5a3)]['wuid']+'):\x20Enviando\x20mídia');let _0x151e3b={'number':_0x4512a7,'options':{'delay':_0x50cc05['uazapi'][_0x5cd12a(0x3da)]},'mediaMessage':{'mediatype':_0x50cc05[_0x5cd12a(0x192)]['mediatype'],'caption':_0x50cc05['uazapi'][_0x5cd12a(0x4c6)],'media':_0x50cc05[_0x5cd12a(0x192)][_0x5cd12a(0x312)],'fileName':_0x50cc05[_0x5cd12a(0x192)][_0x5cd12a(0x556)]}};try{let _0x4da2ab=await this[_0x5cd12a(0x6a8)](_0x151e3b);if(_0x4da2ab){let _0xf0713d={'_id':_0x4da2ab[_0x5cd12a(0x5bd)]['id'],'_fromMe':_0x4da2ab[_0x5cd12a(0x5bd)]['fromMe'],'_remoteJid':_0x4da2ab[_0x5cd12a(0x5bd)][_0x5cd12a(0x373)]},_0x782beb=(0x0,g[_0x5cd12a(0x401)])(_0x4da2ab[_0x5cd12a(0x251)]),_0x3a360e=(0x0,g[_0x5cd12a(0x552)])(_0x782beb);_0xb1d19f[_0x5cd12a(0x11e)]['lastBlockId']=_0x50cc05['_id'][_0x5cd12a(0x69a)]();let {message_normalized:_0x305c6f}=this[_0x5cd12a(0x1df)](_0x782beb,_0x3a360e,null);_0xb1d19f['chatLog'][_0x5cd12a(0x10c)]=await _0x305c6f;let _0x5aef7d={'messageId':_0x4da2ab[_0x5cd12a(0x5bd)]['id']},_0x1100f3=_0xb1d19f[_0x5cd12a(0x11e)]['realVariables'];Object['assign'](_0x1100f3,_0xf0713d),_0xb1d19f['chatLog'][_0x5cd12a(0x82)]=_0x1100f3,this[_0x5cd12a(0xb9)](_0xb1d19f,_0x50cc05,_0x5aef7d);}else{let _0xa75e17={'error':!0x0};this[_0x5cd12a(0xb9)](_0xb1d19f,_0x50cc05,_0xa75e17),this[_0x5cd12a(0x672)]['error'](this[_0x5cd12a(0x276)]+'\x20('+this[_0x5cd12a(0x5a3)]['wuid']+_0x5cd12a(0x6c7));}}catch(_0x371a4a){let _0x4f5c9e={'error':!0x0,'errorLog':_0x371a4a[_0x5cd12a(0x69a)]()};this[_0x5cd12a(0xb9)](_0xb1d19f,_0x50cc05,_0x4f5c9e),this[_0x5cd12a(0x672)][_0x5cd12a(0x14e)](this[_0x5cd12a(0x276)]+'\x20('+this[_0x5cd12a(0x5a3)][_0x5cd12a(0x6ce)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x371a4a instanceof Error?_0x371a4a[_0x5cd12a(0x251)]:JSON[_0x5cd12a(0x611)](_0x371a4a,null,0x2)));}}async['uazapiSendLocation'](_0x53a097,_0x210d83){const _0x370a4e=a0_0x4cf6e5;let _0x30e220=_0x53a097['remoteJid'];_0x210d83[_0x370a4e(0x192)][_0x370a4e(0x373)]&&_0x210d83[_0x370a4e(0x192)][_0x370a4e(0x373)]['trim']()!==''&&(_0x30e220=_0x210d83['uazapi'][_0x370a4e(0x373)]['trim']()),this['logger'][_0x370a4e(0x1f7)](this[_0x370a4e(0x276)]+'\x20('+this['instance']['wuid']+_0x370a4e(0x7d));let _0x3c9a8e={'number':_0x30e220,'options':{'delay':_0x210d83[_0x370a4e(0x192)]['delay']},'locationMessage':{'name':_0x210d83[_0x370a4e(0x192)]['name'],'address':_0x210d83[_0x370a4e(0x192)][_0x370a4e(0x61f)],'latitude':_0x210d83[_0x370a4e(0x192)][_0x370a4e(0x448)],'longitude':_0x210d83['uazapi']['longitude']}};try{let _0x2a71e4=await this[_0x370a4e(0x1cf)](_0x3c9a8e);if(_0x2a71e4){let _0x368ccf={'_id':_0x2a71e4['key']['id'],'_fromMe':_0x2a71e4[_0x370a4e(0x5bd)]['fromMe'],'_remoteJid':_0x2a71e4['key']['remoteJid']},_0x469f63=(0x0,g[_0x370a4e(0x401)])(_0x2a71e4[_0x370a4e(0x251)]),_0x48e40a=(0x0,g['getContentType'])(_0x469f63);_0x53a097[_0x370a4e(0x11e)][_0x370a4e(0x8b)]=_0x210d83['_id'][_0x370a4e(0x69a)]();let {message_normalized:_0x2c1dfc}=this[_0x370a4e(0x1df)](_0x469f63,_0x48e40a,null);_0x53a097[_0x370a4e(0x11e)][_0x370a4e(0x10c)]=await _0x2c1dfc;let _0x56a76a={'messageId':_0x2a71e4[_0x370a4e(0x5bd)]['id']},_0x4cdaca=_0x53a097['chatLog'][_0x370a4e(0x82)];Object['assign'](_0x4cdaca,_0x368ccf),_0x53a097[_0x370a4e(0x11e)]['realVariables']=_0x4cdaca,this[_0x370a4e(0xb9)](_0x53a097,_0x210d83,_0x56a76a);}else{let _0x1dbcdd={'error':!0x0};this[_0x370a4e(0xb9)](_0x53a097,_0x210d83,_0x1dbcdd),this['logger'][_0x370a4e(0x14e)](this[_0x370a4e(0x276)]+'\x20('+this[_0x370a4e(0x5a3)][_0x370a4e(0x6ce)]+_0x370a4e(0xa1));}}catch(_0x6dbdd6){let _0x52a78e={'error':!0x0,'errorLog':_0x6dbdd6[_0x370a4e(0x69a)]()};this[_0x370a4e(0xb9)](_0x53a097,_0x210d83,_0x52a78e),this[_0x370a4e(0x672)][_0x370a4e(0x14e)](this[_0x370a4e(0x276)]+'\x20('+this[_0x370a4e(0x5a3)][_0x370a4e(0x6ce)]+_0x370a4e(0x4a8)+(_0x6dbdd6 instanceof Error?_0x6dbdd6[_0x370a4e(0x251)]:JSON[_0x370a4e(0x611)](_0x6dbdd6,null,0x2)));}}async[a0_0x4cf6e5(0x4a6)](_0x137bbd,_0x3bf088){const _0x31a333=a0_0x4cf6e5;let _0x289340=_0x137bbd[_0x31a333(0x373)];_0x3bf088[_0x31a333(0x192)][_0x31a333(0x373)]&&_0x3bf088[_0x31a333(0x192)][_0x31a333(0x373)][_0x31a333(0x2bf)]()!==''&&(_0x289340=_0x3bf088[_0x31a333(0x192)][_0x31a333(0x373)][_0x31a333(0x2bf)]()),this[_0x31a333(0x672)][_0x31a333(0x1f7)](this[_0x31a333(0x276)]+'\x20('+this[_0x31a333(0x5a3)]['wuid']+_0x31a333(0x670));let _0xf4603b={'number':_0x289340,'options':{'delay':_0x3bf088['uazapi'][_0x31a333(0x3da)]},'audioMessage':{'audio':_0x3bf088[_0x31a333(0x192)][_0x31a333(0x450)]}};try{let _0x443cba=await this[_0x31a333(0x39a)](_0xf4603b);if(_0x443cba){let _0x396388={'_id':_0x443cba['key']['id'],'_fromMe':_0x443cba[_0x31a333(0x5bd)][_0x31a333(0x302)],'_remoteJid':_0x443cba[_0x31a333(0x5bd)][_0x31a333(0x373)]},_0x2dde40=(0x0,g[_0x31a333(0x401)])(_0x443cba['message']),_0x52cd3a=(0x0,g['getContentType'])(_0x2dde40);_0x137bbd[_0x31a333(0x11e)][_0x31a333(0x8b)]=_0x3bf088[_0x31a333(0x637)][_0x31a333(0x69a)]();let {message_normalized:_0x306b0c}=this[_0x31a333(0x1df)](_0x2dde40,_0x52cd3a,null);_0x137bbd[_0x31a333(0x11e)][_0x31a333(0x10c)]=await _0x306b0c;let _0x3945a3={'messageId':_0x443cba[_0x31a333(0x5bd)]['id']},_0x5f1f61=_0x137bbd[_0x31a333(0x11e)][_0x31a333(0x82)];Object[_0x31a333(0x122)](_0x5f1f61,_0x396388),_0x137bbd[_0x31a333(0x11e)][_0x31a333(0x82)]=_0x5f1f61,this['updateConversation'](_0x137bbd,_0x3bf088,_0x3945a3);}else{let _0x32f5e8={'error':!0x0};this[_0x31a333(0xb9)](_0x137bbd,_0x3bf088,_0x32f5e8),this[_0x31a333(0x672)][_0x31a333(0x14e)](this['instanceName']+'\x20('+this['instance'][_0x31a333(0x6ce)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x329387){let _0x12c216={'error':!0x0,'errorLog':_0x329387[_0x31a333(0x69a)]()};this['updateConversation'](_0x137bbd,_0x3bf088,_0x12c216),this['logger'][_0x31a333(0x14e)](this[_0x31a333(0x276)]+'\x20('+this[_0x31a333(0x5a3)][_0x31a333(0x6ce)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+(_0x329387 instanceof Error?_0x329387[_0x31a333(0x251)]:JSON[_0x31a333(0x611)](_0x329387,null,0x2)));}}async['uazapiSendContact'](_0xfc9fbd,_0x90883c){const _0x2fb47c=a0_0x4cf6e5;let _0x24e652=_0xfc9fbd[_0x2fb47c(0x373)];_0x90883c[_0x2fb47c(0x192)][_0x2fb47c(0x373)]&&_0x90883c[_0x2fb47c(0x192)][_0x2fb47c(0x373)][_0x2fb47c(0x2bf)]()!==''&&(_0x24e652=_0x90883c[_0x2fb47c(0x192)]['remoteJid'][_0x2fb47c(0x2bf)]()),this[_0x2fb47c(0x672)][_0x2fb47c(0x1f7)](this[_0x2fb47c(0x276)]+'\x20('+this[_0x2fb47c(0x5a3)]['wuid']+_0x2fb47c(0x2ce));let _0x5ba88c={'number':_0x24e652,'options':{'delay':_0x90883c[_0x2fb47c(0x192)]['delay']},'contactMessage':[{'fullName':_0x90883c[_0x2fb47c(0x192)][_0x2fb47c(0x246)],'phoneNumber':_0x90883c[_0x2fb47c(0x192)][_0x2fb47c(0xae)]}]};try{let _0x4a1431=await this[_0x2fb47c(0x442)](_0x5ba88c);if(_0x4a1431){let _0x9e8413={'_id':_0x4a1431[_0x2fb47c(0x5bd)]['id'],'_fromMe':_0x4a1431[_0x2fb47c(0x5bd)][_0x2fb47c(0x302)],'_remoteJid':_0x4a1431[_0x2fb47c(0x5bd)][_0x2fb47c(0x373)]},_0x5bf701=(0x0,g[_0x2fb47c(0x401)])(_0x4a1431['message']),_0x2ca125=(0x0,g['getContentType'])(_0x5bf701);_0xfc9fbd['chatLog']['lastBlockId']=_0x90883c[_0x2fb47c(0x637)]['toString']();let {message_normalized:_0x123fd1}=this['normalizeMessage'](_0x5bf701,_0x2ca125,null);_0xfc9fbd[_0x2fb47c(0x11e)][_0x2fb47c(0x10c)]=await _0x123fd1;let _0x85d73f={'messageId':_0x4a1431[_0x2fb47c(0x5bd)]['id']},_0x123483=_0xfc9fbd['chatLog'][_0x2fb47c(0x82)];Object[_0x2fb47c(0x122)](_0x123483,_0x9e8413),_0xfc9fbd[_0x2fb47c(0x11e)][_0x2fb47c(0x82)]=_0x123483,this[_0x2fb47c(0xb9)](_0xfc9fbd,_0x90883c,_0x85d73f);}else{let _0x20626a={'error':!0x0};this[_0x2fb47c(0xb9)](_0xfc9fbd,_0x90883c,_0x20626a),this[_0x2fb47c(0x672)]['error'](this[_0x2fb47c(0x276)]+'\x20('+this[_0x2fb47c(0x5a3)][_0x2fb47c(0x6ce)]+_0x2fb47c(0x473));}}catch(_0x4cb72a){let _0x3fc361={'error':!0x0,'errorLog':_0x4cb72a[_0x2fb47c(0x69a)]()};this['updateConversation'](_0xfc9fbd,_0x90883c,_0x3fc361),this[_0x2fb47c(0x672)]['error'](this[_0x2fb47c(0x276)]+'\x20('+this[_0x2fb47c(0x5a3)][_0x2fb47c(0x6ce)]+_0x2fb47c(0x162)+(_0x4cb72a instanceof Error?_0x4cb72a[_0x2fb47c(0x251)]:JSON['stringify'](_0x4cb72a,null,0x2)));}}[a0_0x4cf6e5(0x1ea)](_0x34c714,_0x103167){const _0x27cd1d=a0_0x4cf6e5;for(let _0x45cd16 of _0x34c714)_0x45cd16['option']&&(_0x45cd16[_0x27cd1d(0x72)]=this[_0x27cd1d(0x423)](_0x45cd16[_0x27cd1d(0x72)],_0x103167)),_0x45cd16[_0x27cd1d(0x130)]&&(_0x45cd16[_0x27cd1d(0x130)]=this[_0x27cd1d(0x423)](_0x45cd16[_0x27cd1d(0x130)],_0x103167));}async['uazapiSendMenu'](_0x5e0bed,_0x1b8298){const _0x95d2e=a0_0x4cf6e5;let _0x476839=_0x5e0bed[_0x95d2e(0x373)];_0x1b8298['uazapi'][_0x95d2e(0x373)]&&_0x1b8298[_0x95d2e(0x192)][_0x95d2e(0x373)][_0x95d2e(0x2bf)]()!==''&&(_0x476839=_0x1b8298[_0x95d2e(0x192)][_0x95d2e(0x373)][_0x95d2e(0x2bf)]()),this[_0x95d2e(0x672)][_0x95d2e(0x1f7)](this[_0x95d2e(0x276)]+'\x20('+this[_0x95d2e(0x5a3)][_0x95d2e(0x6ce)]+_0x95d2e(0x1f9));let _0x3090b1=_0x5e0bed[_0x95d2e(0x189)][_0x95d2e(0x4dd)](_0x23d0f8=>_0x23d0f8['blockId']===_0x1b8298['_id'])['sort']((_0x10234a,_0x2055a3)=>_0x10234a['order']-_0x2055a3[_0x95d2e(0x2ae)]);this['replaceVariablesInReplyOptions'](_0x3090b1,_0x5e0bed[_0x95d2e(0x11e)][_0x95d2e(0x82)]);let _0x2eba0a=_0x3090b1['map'](_0x19ebbb=>_0x19ebbb[_0x95d2e(0x72)]),_0x594a0d={'number':_0x476839,'menuMessage':{'type':_0x1b8298['uazapi'][_0x95d2e(0x4e9)]||_0x95d2e(0x23a),'text':_0x1b8298[_0x95d2e(0x192)][_0x95d2e(0x118)]||_0x1b8298[_0x95d2e(0x192)][_0x95d2e(0x3ee)],'footerText':_0x1b8298[_0x95d2e(0x192)]['footerText'],'buttonText':_0x1b8298[_0x95d2e(0x192)][_0x95d2e(0x534)],'selectableCount':0x1,'choices':_0x2eba0a},'options':{'delay':_0x1b8298[_0x95d2e(0x192)][_0x95d2e(0x3da)]}};try{let _0x458226=await this[_0x95d2e(0x202)](_0x594a0d);if(_0x458226){let _0xdb2655={'_id':_0x458226[_0x95d2e(0x5bd)]['id'],'_fromMe':_0x458226[_0x95d2e(0x5bd)][_0x95d2e(0x302)],'_remoteJid':_0x458226[_0x95d2e(0x5bd)][_0x95d2e(0x373)]};_0x1b8298[_0x95d2e(0x192)]['menuIgnoreNonVotes']===!0x0&&(_0x5e0bed[_0x95d2e(0x485)]=_0x95d2e(0x365),this[_0x95d2e(0x672)][_0x95d2e(0x1f7)](this['instanceName']+'\x20('+this[_0x95d2e(0x5a3)][_0x95d2e(0x6ce)]+_0x95d2e(0x47e)+_0x5e0bed['status'])),this[_0x95d2e(0x672)][_0x95d2e(0x1f7)](this['instanceName']+'\x20('+this[_0x95d2e(0x5a3)][_0x95d2e(0x6ce)]+_0x95d2e(0x4eb)+(_0x1b8298[_0x95d2e(0x192)]['name']||_0x1b8298[_0x95d2e(0x192)][_0x95d2e(0x118)])),_0x5e0bed[_0x95d2e(0x317)]=_0x458226[_0x95d2e(0x5bd)]['id'],_0x5e0bed[_0x95d2e(0x34c)]=_0x1b8298[_0x95d2e(0x192)]['name']||_0x1b8298['uazapi'][_0x95d2e(0x118)],_0x5e0bed[_0x95d2e(0x26a)]=_0x3090b1,_0x1b8298['uazapi'][_0x95d2e(0x48f)]&&(_0x5e0bed[_0x95d2e(0x4e4)]=_0x1b8298[_0x95d2e(0x192)][_0x95d2e(0x48f)]),this[_0x95d2e(0x672)][_0x95d2e(0x1f7)](this[_0x95d2e(0x276)]+'\x20('+this['instance'][_0x95d2e(0x6ce)]+_0x95d2e(0x427)+_0x5e0bed[_0x95d2e(0x34c)]);let _0x4df13c=(0x0,g[_0x95d2e(0x401)])(_0x458226[_0x95d2e(0x251)]),_0x14d849=(0x0,g[_0x95d2e(0x552)])(_0x4df13c);_0x5e0bed[_0x95d2e(0x11e)][_0x95d2e(0x8b)]=_0x1b8298[_0x95d2e(0x637)][_0x95d2e(0x69a)]();let {message_normalized:_0x363043}=this[_0x95d2e(0x1df)](_0x4df13c,_0x14d849,null);_0x5e0bed[_0x95d2e(0x11e)][_0x95d2e(0x10c)]=await _0x363043;let _0x42af9d={'messageId':_0x458226['key']['id']},_0x3c8386=_0x5e0bed[_0x95d2e(0x11e)][_0x95d2e(0x82)];Object[_0x95d2e(0x122)](_0x3c8386,_0xdb2655),_0x5e0bed[_0x95d2e(0x11e)]['realVariables']=_0x3c8386,this[_0x95d2e(0xb9)](_0x5e0bed,_0x1b8298,_0x42af9d);}else{let _0x3717ee={'error':!0x0};this[_0x95d2e(0xb9)](_0x5e0bed,_0x1b8298,_0x3717ee),this[_0x95d2e(0x672)][_0x95d2e(0x14e)](this[_0x95d2e(0x276)]+'\x20('+this[_0x95d2e(0x5a3)][_0x95d2e(0x6ce)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.');}}catch(_0x1fd346){let _0x396a30={'error':!0x0,'errorLog':_0x1fd346 instanceof Error?_0x1fd346[_0x95d2e(0x251)]:JSON['stringify'](_0x1fd346,null,0x2)};this[_0x95d2e(0xb9)](_0x5e0bed,_0x1b8298,_0x396a30),this[_0x95d2e(0x672)][_0x95d2e(0x14e)](this['instanceName']+'\x20('+this[_0x95d2e(0x5a3)][_0x95d2e(0x6ce)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0x1fd346 instanceof Error?_0x1fd346[_0x95d2e(0x251)]:JSON[_0x95d2e(0x611)](_0x1fd346,null,0x2)));}}async['uazapiDeleteMessage'](_0x5cc62f,_0x1a9b46){const _0x270867=a0_0x4cf6e5;this[_0x270867(0x672)][_0x270867(0x1f7)](this[_0x270867(0x276)]+'\x20('+this[_0x270867(0x5a3)][_0x270867(0x6ce)]+'):\x20Deletando\x20mensagem');let _0x5914dc=_0x5cc62f['chatLog'][_0x270867(0x511)][_0x270867(0x531)](_0x5fed24=>_0x5fed24[_0x270867(0x522)][_0x270867(0x69a)]()===_0x1a9b46[_0x270867(0x192)][_0x270867(0x522)][_0x270867(0x69a)]()),_0x84ecf4={'id':_0x5914dc['messageId'],'remoteJid':_0x5914dc[_0x270867(0x373)],'fromMe':_0x5914dc['fromMe']};try{let _0x72436e=await this['deleteMessage'](_0x84ecf4);if(_0x72436e){let _0x26ae82=(0x0,g[_0x270867(0x401)])(_0x72436e[_0x270867(0x251)]),_0x2894f0=(0x0,g['getContentType'])(_0x26ae82);_0x5cc62f[_0x270867(0x11e)][_0x270867(0x8b)]=_0x1a9b46['_id'][_0x270867(0x69a)]();let {message_normalized:_0x1fdacd}=this[_0x270867(0x1df)](_0x26ae82,_0x2894f0,null);_0x5cc62f[_0x270867(0x11e)]['lastSendMessage']=await _0x1fdacd;let _0x170089={};this[_0x270867(0xb9)](_0x5cc62f,_0x1a9b46,_0x170089);}else{let _0x12acdc={'error':!0x0};this[_0x270867(0xb9)](_0x5cc62f,_0x1a9b46,_0x12acdc),this[_0x270867(0x672)]['error'](this[_0x270867(0x276)]+'\x20('+this['instance'][_0x270867(0x6ce)]+_0x270867(0x143));}}catch(_0x403111){let _0x3f8f58={'error':!0x0,'errorLog':_0x403111 instanceof Error?_0x403111[_0x270867(0x251)]:JSON[_0x270867(0x611)](_0x403111,null,0x2)};this[_0x270867(0xb9)](_0x5cc62f,_0x1a9b46,_0x3f8f58),this['logger']['error'](this[_0x270867(0x276)]+'\x20('+this[_0x270867(0x5a3)]['wuid']+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x403111 instanceof Error?_0x403111['message']:JSON[_0x270867(0x611)](_0x403111,null,0x2)));}}async['createFlow'](_0x33be27){const _0x3abfa9=a0_0x4cf6e5;if(!_0x33be27[_0x3abfa9(0x3ee)])throw new w('O\x20nome\x20do\x20fluxo\x20é\x20obrigatório');if(await this[_0x3abfa9(0x79)][_0x3abfa9(0x2a6)][_0x3abfa9(0x2a7)]({'where':{'name':_0x33be27['name']}},this[_0x3abfa9(0x5a3)]['wuid']))throw new w(_0x3abfa9(0x2dc));return'name'in _0x33be27&&_0x3abfa9(0x1a0)in _0x33be27&&_0x3abfa9(0x32e)in _0x33be27&&Object['keys'](_0x33be27)[_0x3abfa9(0x364)]===0x3?this[_0x3abfa9(0xe4)](_0x33be27[_0x3abfa9(0x32e)],_0x33be27[_0x3abfa9(0x1a0)],_0x33be27[_0x3abfa9(0x3ee)]):this[_0x3abfa9(0x5dd)](_0x33be27);}async[a0_0x4cf6e5(0xe4)](_0x48042b,_0x141b69,_0x3afac9){const _0x3486af=a0_0x4cf6e5;try{this[_0x3486af(0x672)]['verbose'](this['instanceName']+'\x20('+this[_0x3486af(0x5a3)][_0x3486af(0x6ce)]+'):\x20Criando\x20fluxo\x20compartilhado...');let _0x52a183=await this['repository'][_0x3486af(0x2a6)][_0x3486af(0x2a7)]({'where':{'name':_0x3afac9,'sharePass':_0x141b69}},_0x48042b);if(!_0x52a183)throw new w(_0x3486af(0xd9));let _0x4b8241={..._0x52a183};return _0x4b8241[_0x3486af(0x32e)]=this[_0x3486af(0x5a3)][_0x3486af(0x6ce)],_0x4b8241['shareOwners']=Array[_0x3486af(0x647)](new Set([..._0x52a183[_0x3486af(0x613)]||[],_0x52a183['owner'],this[_0x3486af(0x5a3)][_0x3486af(0x6ce)]])),_0x52a183[_0x3486af(0x613)]=_0x4b8241[_0x3486af(0x613)],await this[_0x3486af(0x79)][_0x3486af(0x2a6)][_0x3486af(0x376)](_0x52a183['_id'],{'shareOwners':_0x52a183['shareOwners']},_0x52a183['owner']),_0x52a183[_0x3486af(0xb2)]===!0x0&&await this[_0x3486af(0x79)][_0x3486af(0x2a6)][_0x3486af(0x1e4)]({},{'default':!0x1},this[_0x3486af(0x5a3)][_0x3486af(0x6ce)]),await this[_0x3486af(0x79)]['flow'][_0x3486af(0x2cf)](_0x4b8241,this['instance'][_0x3486af(0x6ce)]);}catch(_0x43d832){throw this[_0x3486af(0x672)][_0x3486af(0x14e)](this[_0x3486af(0x276)]+'\x20('+this[_0x3486af(0x5a3)][_0x3486af(0x6ce)]+_0x3486af(0x6de)+_0x43d832),new w(_0x3486af(0x1b6)+_0x43d832);}}async[a0_0x4cf6e5(0x5dd)](_0x18792e){const _0x3b131c=a0_0x4cf6e5;try{this[_0x3b131c(0x672)]['verbose'](this[_0x3b131c(0x276)]+'\x20('+this[_0x3b131c(0x5a3)]['wuid']+_0x3b131c(0x128)),delete _0x18792e[_0x3b131c(0x613)],delete _0x18792e['sharePass'],delete _0x18792e[_0x3b131c(0x32e)],_0x18792e[_0x3b131c(0xb2)]===!0x0&&await this['repository'][_0x3b131c(0x2a6)][_0x3b131c(0x1e4)]({},{'default':!0x1},this[_0x3b131c(0x5a3)]['wuid']);let _0x67657=new ce['Types'][(_0x3b131c(0x554))](),_0x497060={'_id':_0x67657,'default':!0x0,'title':'Início','x':0x0,'y':0x0},_0x294f0d={'_id':new ce[(_0x3b131c(0x155))]['ObjectId'](),'order':0x1,'groupId':_0x67657[_0x3b131c(0x69a)](),'type':_0x3b131c(0x584)},_0x2d01d6={'_id':new ce[(_0x3b131c(0x155))]['ObjectId'](),'owner':this['instance']['wuid'],'name':_0x18792e['name'],'groups':[_0x497060],'blocks':[_0x294f0d],..._0x18792e};return await this[_0x3b131c(0x79)]['flow']['createAndSave'](_0x2d01d6,this[_0x3b131c(0x5a3)][_0x3b131c(0x6ce)]);}catch(_0x41a299){throw this['logger'][_0x3b131c(0x14e)](this[_0x3b131c(0x276)]+'\x20('+this[_0x3b131c(0x5a3)][_0x3b131c(0x6ce)]+_0x3b131c(0x30f)+_0x41a299),new w('Erro\x20ao\x20criar\x20fluxo\x20regular:\x20'+_0x41a299);}}async[a0_0x4cf6e5(0xad)](_0xdf8ae8,_0x36f31f){const _0x23ec55=a0_0x4cf6e5;try{let _0x36cf1f=await this['repository'][_0x23ec55(0x2a6)][_0x23ec55(0x2a7)]({'where':{'_id':_0xdf8ae8}},_0x36f31f);if(_0x36cf1f&&_0x36cf1f['shareOwners']){for(let _0x1847d3 of _0x36cf1f[_0x23ec55(0x613)])if(_0x1847d3!==_0x36f31f){let _0x15b6e3={..._0x36cf1f,'owner':_0x1847d3};await this[_0x23ec55(0x79)][_0x23ec55(0x2a6)][_0x23ec55(0x2b3)](_0xdf8ae8,_0x15b6e3,_0x1847d3);}}}catch(_0x19a4ba){this[_0x23ec55(0x672)][_0x23ec55(0x14e)](_0x23ec55(0x2de)+_0x19a4ba);}}async[a0_0x4cf6e5(0x57a)](_0x42d0bb){const _0xf19cb6=a0_0x4cf6e5;try{this['logger'][_0xf19cb6(0x1f7)](this['instanceName']+'\x20('+this['instance'][_0xf19cb6(0x6ce)]+_0xf19cb6(0x296));let _0x3b3dd8=await this[_0xf19cb6(0x79)]['flow']['findOne']({'where':{'name':_0x42d0bb}},this[_0xf19cb6(0x5a3)][_0xf19cb6(0x6ce)]);if(_0x3b3dd8&&_0x3b3dd8[_0xf19cb6(0x613)]&&_0x3b3dd8['shareOwners'][_0xf19cb6(0x364)]>0x1){for(let _0xf6c45d of _0x3b3dd8['shareOwners'])if(_0xf6c45d!==this['instance']['wuid']){let _0x325e4e=await this[_0xf19cb6(0x79)]['flow'][_0xf19cb6(0x2a7)]({'where':{'sharePass':_0x3b3dd8[_0xf19cb6(0x1a0)]}},_0xf6c45d);_0x325e4e&&(_0x325e4e['shareOwners']=_0x325e4e[_0xf19cb6(0x613)][_0xf19cb6(0x4dd)](_0x623eae=>_0x623eae!==_0x3b3dd8[_0xf19cb6(0x32e)]),await this['repository'][_0xf19cb6(0x2a6)][_0xf19cb6(0x376)](_0x325e4e[_0xf19cb6(0x637)],{'shareOwners':_0x325e4e['shareOwners']},_0xf6c45d));}}return await this['repository'][_0xf19cb6(0x2a6)][_0xf19cb6(0x567)]({'where':{'name':_0x42d0bb}},this['instance'][_0xf19cb6(0x6ce)]);}catch(_0x1c25f3){return this[_0xf19cb6(0x672)][_0xf19cb6(0x14e)](this[_0xf19cb6(0x276)]+'\x20('+this[_0xf19cb6(0x5a3)][_0xf19cb6(0x6ce)]+_0xf19cb6(0x4ac)+(_0x1c25f3 instanceof Error?_0x1c25f3[_0xf19cb6(0x251)]:JSON[_0xf19cb6(0x611)](_0x1c25f3,null,0x2))),{'message':_0xf19cb6(0x367)+_0x1c25f3};}}async[a0_0x4cf6e5(0x245)](_0x40f507){const _0x53f10e=a0_0x4cf6e5;try{this[_0x53f10e(0x672)][_0x53f10e(0x1f7)](this[_0x53f10e(0x276)]+'\x20('+this[_0x53f10e(0x5a3)][_0x53f10e(0x6ce)]+_0x53f10e(0x1d2));let _0x512281=await this['repository'][_0x53f10e(0x2a6)]['findOne']({'where':{'name':_0x40f507}},this[_0x53f10e(0x5a3)][_0x53f10e(0x6ce)]);if(!_0x512281)throw new Error('Flow\x20não\x20encontrado');if(!this[_0x53f10e(0x167)]&&(await this['getAutomateSystem'](),!this['AutomateSystem']))return null;let _0x79ac8d=this[_0x53f10e(0x167)]?.[_0x53f10e(0x2e0)][_0x53f10e(0x2ad)](_0x27887d=>_0x27887d[_0x53f10e(0x3ee)]),_0x1c98cf=[_0x53f10e(0x2b7),_0x53f10e(0xf8),_0x53f10e(0x105),_0x53f10e(0x63e),_0x53f10e(0x485),'notas',_0x53f10e(0x680),_0x53f10e(0x5e0),_0x53f10e(0x648)];_0x512281[_0x53f10e(0x4a2)]=_0x512281[_0x53f10e(0x4a2)]['filter'](_0x2e8fd0=>!(_0x2e8fd0[_0x53f10e(0x261)]==='leadInfo'||_0x2e8fd0['leadInfo'])),_0x1c98cf[_0x53f10e(0x357)](_0x412cca=>{const _0x264546=_0x53f10e;_0x512281['variables']['push']({'folder':_0x264546(0x5d0),'name':_0x412cca,'value':'','doc':'','leadInfo':!0x0});}),_0x79ac8d[_0x53f10e(0x357)](_0x1bd30a=>{const _0x3c3163=_0x53f10e;let _0x3d9fd3=_0x512281['variables'][_0x3c3163(0x451)](_0x7e8c1b=>_0x7e8c1b['name']===_0x1bd30a);_0x3d9fd3===-0x1?_0x512281[_0x3c3163(0x4a2)][_0x3c3163(0xc2)]({'folder':_0x3c3163(0x5d0),'name':_0x1bd30a,'value':'','doc':'','leadInfo':!0x0}):(_0x512281[_0x3c3163(0x4a2)][_0x3d9fd3]['folder']=_0x3c3163(0x5d0),_0x512281[_0x3c3163(0x4a2)][_0x3d9fd3][_0x3c3163(0x5d0)]=!0x0);}),_0x512281[_0x53f10e(0x507)]&&_0x512281[_0x53f10e(0x507)]['length']>0x0&&_0x512281[_0x53f10e(0x507)][_0x53f10e(0x357)](_0x56a41e=>{const _0x444fe9=_0x53f10e;_0x56a41e[_0x444fe9(0x5e7)]&&_0x56a41e[_0x444fe9(0x56b)]&&_0x56a41e[_0x444fe9(0x5e7)]===_0x56a41e[_0x444fe9(0x56b)]&&(_0x56a41e[_0x444fe9(0x56b)]=null);});let _0x355466=await this[_0x53f10e(0x79)][_0x53f10e(0x2a6)][_0x53f10e(0x376)](_0x512281['_id'],_0x512281,this[_0x53f10e(0x5a3)]['wuid']);if(!_0x355466)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x355466;}catch(_0x312f13){throw this[_0x53f10e(0x672)]['error'](this[_0x53f10e(0x276)]+'\x20('+this[_0x53f10e(0x5a3)][_0x53f10e(0x6ce)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20'+(_0x312f13 instanceof Error?_0x312f13[_0x53f10e(0x251)]:JSON[_0x53f10e(0x611)](_0x312f13,null,0x2))),new w('Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+_0x312f13);}}async['allFlows'](){const _0x12fc3e=a0_0x4cf6e5;try{return this[_0x12fc3e(0x672)][_0x12fc3e(0x1f7)](this[_0x12fc3e(0x276)]+'\x20('+this[_0x12fc3e(0x5a3)]['wuid']+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await this[_0x12fc3e(0x79)][_0x12fc3e(0x2a6)][_0x12fc3e(0xd0)](this[_0x12fc3e(0x5a3)][_0x12fc3e(0x6ce)]),await this[_0x12fc3e(0x79)][_0x12fc3e(0x2a6)][_0x12fc3e(0x6a1)]({'where':{}},this['instance'][_0x12fc3e(0x6ce)]);}catch(_0x547bea){return this[_0x12fc3e(0x672)]['error'](this[_0x12fc3e(0x276)]+'\x20('+this[_0x12fc3e(0x5a3)]['wuid']+_0x12fc3e(0x44b)+(_0x547bea instanceof Error?_0x547bea[_0x12fc3e(0x251)]:JSON[_0x12fc3e(0x611)](_0x547bea,null,0x2))),{'message':_0x12fc3e(0xfe)+_0x547bea};}}async[a0_0x4cf6e5(0x616)](_0x138d21){const _0x5b5f57=a0_0x4cf6e5;try{this['logger'][_0x5b5f57(0x1f7)](this[_0x5b5f57(0x276)]+'\x20('+this[_0x5b5f57(0x5a3)][_0x5b5f57(0x6ce)]+'):\x20Alterando\x20fluxo...');let _0x44a4bf=await this['repository'][_0x5b5f57(0x2a6)]['findOne']({'where':{'name':_0x138d21['name']}},this[_0x5b5f57(0x5a3)][_0x5b5f57(0x6ce)]);if(!_0x44a4bf)return{'message':_0x5b5f57(0x444)};_0x138d21[_0x5b5f57(0xb2)]===!0x0&&await this['repository'][_0x5b5f57(0x2a6)][_0x5b5f57(0x1e4)]({},{'default':!0x1},this[_0x5b5f57(0x5a3)][_0x5b5f57(0x6ce)]),delete _0x138d21[_0x5b5f57(0x613)],delete _0x138d21[_0x5b5f57(0x1a0)];let _0x2493fc=await this[_0x5b5f57(0x79)][_0x5b5f57(0x2a6)][_0x5b5f57(0x376)](_0x44a4bf[_0x5b5f57(0x637)],_0x138d21,this['instance']['wuid']);return _0x2493fc&&_0x2493fc[_0x5b5f57(0x613)]&&_0x2493fc[_0x5b5f57(0x613)][_0x5b5f57(0x364)]>0x1&&this[_0x5b5f57(0xad)](_0x2493fc[_0x5b5f57(0x637)],this[_0x5b5f57(0x5a3)]['wuid']),_0x2493fc;}catch(_0x401dec){throw this['logger'][_0x5b5f57(0x14e)](this['instanceName']+'\x20('+this[_0x5b5f57(0x5a3)][_0x5b5f57(0x6ce)]+'):\x20Erro\x20ao\x20alterar\x20fluxo:\x20'+(_0x401dec instanceof Error?_0x401dec[_0x5b5f57(0x251)]:JSON[_0x5b5f57(0x611)](_0x401dec,null,0x2))),new w(_0x5b5f57(0x22f)+(_0x401dec instanceof Error?_0x401dec[_0x5b5f57(0x251)]:JSON[_0x5b5f57(0x611)](_0x401dec,null,0x2)));}}async[a0_0x4cf6e5(0x1c7)](_0xbcfb5a){const _0x41187d=a0_0x4cf6e5;try{this['logger'][_0x41187d(0x1f7)](this['instanceName']+'\x20('+this[_0x41187d(0x5a3)][_0x41187d(0x6ce)]+_0x41187d(0xcc));let _0x1b3a47=await this[_0x41187d(0x79)][_0x41187d(0x2a6)][_0x41187d(0x2a7)]({'where':{'name':_0xbcfb5a[_0x41187d(0x3ee)]}},this[_0x41187d(0x5a3)]['wuid']);_0x1b3a47||this[_0x41187d(0x1ec)](_0x41187d(0x528));let {block:_0x5381b7}=_0xbcfb5a;_0x5381b7?.[_0x41187d(0xac)]?this[_0x41187d(0x5ad)](_0x1b3a47,_0xbcfb5a):_0x5381b7?.['delete']?this[_0x41187d(0x39f)](_0x1b3a47,_0xbcfb5a):_0x5381b7[_0x41187d(0x637)]?await this[_0x41187d(0x472)](_0x1b3a47,_0xbcfb5a):this[_0x41187d(0x653)](_0x1b3a47,_0xbcfb5a);let _0x20ac4b=await this[_0x41187d(0x79)][_0x41187d(0x2a6)][_0x41187d(0x376)](_0x1b3a47[_0x41187d(0x637)],_0x1b3a47,this[_0x41187d(0x5a3)][_0x41187d(0x6ce)]);if(_0x20ac4b&&_0x20ac4b[_0x41187d(0x613)]&&_0x20ac4b[_0x41187d(0x613)]['length']>0x1&&this[_0x41187d(0xad)](_0x20ac4b[_0x41187d(0x637)],this[_0x41187d(0x5a3)][_0x41187d(0x6ce)]),!_0x20ac4b)throw new Error(_0x41187d(0x67e));return _0x20ac4b;}catch(_0x4a3b45){this[_0x41187d(0x1ec)](_0x41187d(0x157)+_0x4a3b45);}}async[a0_0x4cf6e5(0x5ad)](_0x4063e4,_0x47c51b){const _0x41ba20=a0_0x4cf6e5;let _0xb5f6c3=_0x47c51b[_0x41ba20(0x482)][_0x41ba20(0x637)],_0x1fba54=_0x4063e4[_0x41ba20(0x507)][_0x41ba20(0x531)](_0x463318=>_0x463318['_id'][_0x41ba20(0x69a)]()===_0xb5f6c3);if(!_0x1fba54){this['logger'][_0x41ba20(0x14e)](this[_0x41ba20(0x276)]+'\x20('+this[_0x41ba20(0x5a3)][_0x41ba20(0x6ce)]+_0x41ba20(0x292)+_0xb5f6c3+_0x41ba20(0x60c));return;}this[_0x41ba20(0x672)]['verbose'](this[_0x41ba20(0x276)]+'\x20('+this[_0x41ba20(0x5a3)][_0x41ba20(0x6ce)]+_0x41ba20(0x5d8)+JSON[_0x41ba20(0x611)](_0x1fba54));let _0x5d2c6e=JSON['parse'](JSON['stringify'](_0x1fba54));_0x5d2c6e[_0x41ba20(0x637)]=new ce['default'][(_0x41ba20(0x155))][(_0x41ba20(0x554))](),this[_0x41ba20(0x672)][_0x41ba20(0x1f7)](this['instanceName']+'\x20('+this[_0x41ba20(0x5a3)]['wuid']+'):\x20Bloco\x20copiado:\x20'+JSON[_0x41ba20(0x611)](_0x5d2c6e)),_0x4063e4[_0x41ba20(0x507)][_0x41ba20(0xc2)](_0x5d2c6e),this['reorderBlocks'](_0x4063e4[_0x41ba20(0x507)],_0x5d2c6e[_0x41ba20(0x5e7)]);}[a0_0x4cf6e5(0x1ec)](_0x3e67da){const _0x5e058d=a0_0x4cf6e5;throw this[_0x5e058d(0x672)][_0x5e058d(0x14e)](this['instanceName']+'\x20('+this[_0x5e058d(0x5a3)][_0x5e058d(0x6ce)]+_0x5e058d(0xf9)+_0x3e67da),new w(_0x3e67da);}['deleteBlock'](_0x14000e,_0x4cf138){const _0x751417=a0_0x4cf6e5;let {block:_0x15702a}=_0x4cf138;if(_0x15702a[_0x751417(0x4a9)]===_0x751417(0x584)){this[_0x751417(0x1ec)](_0x751417(0x3b5));return;}if(!_0x15702a[_0x751417(0x637)]){this[_0x751417(0x1ec)]('blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco');return;}let _0x24d909=_0x14000e[_0x751417(0x507)][_0x751417(0x531)](_0x1cf53d=>_0x1cf53d[_0x751417(0x637)][_0x751417(0x69a)]()===_0x4cf138[_0x751417(0x482)][_0x751417(0x637)][_0x751417(0x69a)]());if(!_0x24d909){this['throwAndLogError'](_0x751417(0x361)+_0x15702a[_0x751417(0x637)]+'\x20não\x20encontrado');return;}_0x14000e[_0x751417(0x507)]=_0x14000e['blocks']['filter'](_0x307203=>_0x307203[_0x751417(0x637)]['toString']()!==_0x4cf138[_0x751417(0x482)][_0x751417(0x637)]['toString']()),_0x14000e[_0x751417(0x2e2)]=_0x14000e['conditions'][_0x751417(0x4dd)](_0x4d2060=>_0x4d2060[_0x751417(0x522)]!==_0x15702a[_0x751417(0x637)][_0x751417(0x69a)]()),_0x14000e[_0x751417(0x108)]=_0x14000e[_0x751417(0x108)]['filter'](_0x378411=>_0x378411['blockId']!==_0x15702a[_0x751417(0x637)]['toString']()),_0x14000e[_0x751417(0x189)]=_0x14000e[_0x751417(0x189)]['filter'](_0x8c6acb=>_0x8c6acb[_0x751417(0x522)]!==_0x15702a['_id'][_0x751417(0x69a)]()),this['reorderBlocks'](_0x14000e[_0x751417(0x507)],_0x24d909[_0x751417(0x5e7)]);}async[a0_0x4cf6e5(0x472)](_0x4f8da1,_0x1f539a){const _0x45195e=a0_0x4cf6e5;let _0x45d755=_0x4f8da1['blocks'][_0x45195e(0x451)](_0x4b0ef7=>_0x4b0ef7[_0x45195e(0x637)][_0x45195e(0x69a)]()===_0x1f539a['block']['_id'][_0x45195e(0x69a)]());if(this[_0x45195e(0x672)][_0x45195e(0x1f7)](this['instanceName']+'\x20('+this['instance'][_0x45195e(0x6ce)]+_0x45195e(0x6ad)+_0x45d755),_0x45d755===-0x1){this[_0x45195e(0x672)][_0x45195e(0x1f7)](_0x45195e(0x361)+_0x1f539a[_0x45195e(0x482)][_0x45195e(0x637)]+_0x45195e(0x11f));return;}if(_0x4f8da1[_0x45195e(0x507)][_0x45d755][_0x45195e(0x4a9)]==='start'){let _0x1f9128=Object[_0x45195e(0x4d7)](_0x1f539a[_0x45195e(0x482)]);if(_0x1f9128['length']>0x2||_0x1f9128[_0x45195e(0x364)]===0x2&&!_0x1f9128[_0x45195e(0x1bd)](_0x45195e(0x56b))){this[_0x45195e(0x1ec)]('Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão');return;}}let _0x105450=_0x4f8da1[_0x45195e(0x507)][_0x45d755][_0x45195e(0x5e7)];for(let _0x398d8e in _0x1f539a[_0x45195e(0x482)])_0x1f539a[_0x45195e(0x482)][_0x45195e(0x48d)](_0x398d8e)&&(_0x4f8da1[_0x45195e(0x507)][_0x45d755][_0x398d8e]=_0x1f539a[_0x45195e(0x482)][_0x398d8e]);if(this[_0x45195e(0x672)][_0x45195e(0x1f7)](this[_0x45195e(0x276)]+'\x20('+this['instance']['wuid']+_0x45195e(0x71)+JSON[_0x45195e(0x611)](_0x4f8da1[_0x45195e(0x507)][_0x45d755])),_0x4f8da1[_0x45195e(0x507)][_0x45d755][_0x45195e(0x30e)]&&_0x45195e(0x614)in _0x4f8da1[_0x45195e(0x507)][_0x45d755][_0x45195e(0x30e)]){this['logger'][_0x45195e(0x1f7)](this[_0x45195e(0x276)]+'\x20('+this[_0x45195e(0x5a3)][_0x45195e(0x6ce)]+_0x45195e(0x446));let _0x205c18=JSON[_0x45195e(0x611)](_0x4f8da1[_0x45195e(0x507)][_0x45d755][_0x45195e(0x30e)][_0x45195e(0x614)],null,0x1);_0x205c18[_0x45195e(0x364)]>0x2&&(_0x205c18=_0x205c18[_0x45195e(0x597)](0x1,_0x205c18[_0x45195e(0x364)]-0x1)[_0x45195e(0x2bf)]()),_0x4f8da1[_0x45195e(0x507)][_0x45d755][_0x45195e(0x30e)][_0x45195e(0xe2)]=_0x205c18;}if(_0x4f8da1[_0x45195e(0x507)][_0x45d755]['apirequest']&&_0x45195e(0x358)in _0x4f8da1[_0x45195e(0x507)][_0x45d755][_0x45195e(0x30e)]){this['logger'][_0x45195e(0x1f7)](this[_0x45195e(0x276)]+'\x20('+this[_0x45195e(0x5a3)][_0x45195e(0x6ce)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString');let _0x287b3a=JSON['stringify'](_0x4f8da1[_0x45195e(0x507)][_0x45d755][_0x45195e(0x30e)]['body'],null,0x1);_0x287b3a[_0x45195e(0x364)]>0x2&&(_0x287b3a=_0x287b3a[_0x45195e(0x597)](0x1,_0x287b3a[_0x45195e(0x364)]-0x1)[_0x45195e(0x2bf)]()),_0x4f8da1['blocks'][_0x45d755]['apirequest'][_0x45195e(0x2aa)]=_0x287b3a;}let _0x1e9350=_0x4f8da1[_0x45195e(0x507)][_0x45d755][_0x45195e(0x5e7)];_0x105450!==_0x1e9350?(this[_0x45195e(0x3f0)](_0x4f8da1[_0x45195e(0x507)],_0x105450),this[_0x45195e(0x3f0)](_0x4f8da1[_0x45195e(0x507)],_0x1e9350)):this['reorderBlocks'](_0x4f8da1[_0x45195e(0x507)],_0x105450);}[a0_0x4cf6e5(0x653)](_0x58de28,_0x3d75b0){const _0x4bd96a=a0_0x4cf6e5;if(_0x3d75b0[_0x4bd96a(0x482)]['type']===_0x4bd96a(0x584)){this[_0x4bd96a(0x1ec)](_0x4bd96a(0x121));return;}if(_0x3d75b0[_0x4bd96a(0x482)][_0x4bd96a(0x30e)]&&'header'in _0x3d75b0['block'][_0x4bd96a(0x30e)]){this[_0x4bd96a(0x672)][_0x4bd96a(0x1f7)](this[_0x4bd96a(0x276)]+'\x20('+this[_0x4bd96a(0x5a3)][_0x4bd96a(0x6ce)]+_0x4bd96a(0x446));let _0x10e2d2=JSON[_0x4bd96a(0x611)](_0x3d75b0[_0x4bd96a(0x482)][_0x4bd96a(0x30e)][_0x4bd96a(0x614)],null,0x1);_0x10e2d2['length']>0x2&&(_0x10e2d2=_0x10e2d2[_0x4bd96a(0x597)](0x1,_0x10e2d2[_0x4bd96a(0x364)]-0x1)['trim']()),_0x3d75b0[_0x4bd96a(0x482)][_0x4bd96a(0x30e)][_0x4bd96a(0xe2)]=_0x10e2d2;}_0x3d75b0[_0x4bd96a(0x482)]['apirequest']&&_0x4bd96a(0x358)in _0x3d75b0[_0x4bd96a(0x482)][_0x4bd96a(0x30e)]&&(this[_0x4bd96a(0x672)][_0x4bd96a(0x1f7)](this['instanceName']+'\x20('+this[_0x4bd96a(0x5a3)][_0x4bd96a(0x6ce)]+_0x4bd96a(0x643)),_0x3d75b0['block'][_0x4bd96a(0x30e)]['bodyString']=JSON[_0x4bd96a(0x611)](_0x3d75b0[_0x4bd96a(0x482)]['apirequest'][_0x4bd96a(0x358)],null,0x1)[_0x4bd96a(0x2bf)]()),_0x58de28['blocks'][_0x4bd96a(0xc2)](_0x3d75b0[_0x4bd96a(0x482)]),this[_0x4bd96a(0x3f0)](_0x58de28['blocks'],_0x3d75b0[_0x4bd96a(0x482)]['groupId']);}['reorderBlocks'](_0x680c77,_0x1d21b8){const _0x2d212f=a0_0x4cf6e5;let _0x327599=_0x680c77['filter'](_0x113466=>_0x113466['groupId']===_0x1d21b8);_0x327599['sort']((_0x3d8f23,_0x36a750)=>_0x3d8f23['order']-_0x36a750['order']),_0x327599[_0x2d212f(0x357)]((_0x5acc12,_0x17376d)=>_0x5acc12[_0x2d212f(0x2ae)]=_0x17376d+0x1);}async[a0_0x4cf6e5(0x658)](_0x47ecd7){const _0x321520=a0_0x4cf6e5;try{if(this[_0x321520(0x672)][_0x321520(0x1f7)](this[_0x321520(0x276)]+'\x20('+this[_0x321520(0x5a3)][_0x321520(0x6ce)]+'):\x20Editando\x20replyOption...'),!_0x47ecd7||!_0x47ecd7['replyOption']){this[_0x321520(0x1ec)](_0x321520(0x5aa));return;}let _0x1425bc=await this[_0x321520(0x79)][_0x321520(0x2a6)][_0x321520(0x2a7)]({'where':{'name':_0x47ecd7[_0x321520(0x3ee)]}},this['instance'][_0x321520(0x6ce)]);_0x1425bc||this[_0x321520(0x1ec)](_0x321520(0x528));let {replyOption:_0x4f2951}=_0x47ecd7;_0x4f2951?.[_0x321520(0xff)]?(this[_0x321520(0x606)](_0x1425bc,_0x47ecd7),this[_0x321520(0x6ea)](_0x1425bc[_0x321520(0x189)],_0x47ecd7[_0x321520(0x256)][_0x321520(0x522)])):_0x4f2951[_0x321520(0x637)]?(await this[_0x321520(0x241)](_0x1425bc,_0x47ecd7),this[_0x321520(0x6ea)](_0x1425bc[_0x321520(0x189)],_0x47ecd7['replyOption'][_0x321520(0x522)])):(this['addReplyOption'](_0x1425bc,_0x47ecd7),this[_0x321520(0x6ea)](_0x1425bc[_0x321520(0x189)],_0x47ecd7[_0x321520(0x256)][_0x321520(0x522)]));let _0x136ff1=await this[_0x321520(0x79)]['flow'][_0x321520(0x376)](_0x1425bc[_0x321520(0x637)],_0x1425bc,this[_0x321520(0x5a3)][_0x321520(0x6ce)]);if(_0x136ff1&&_0x136ff1[_0x321520(0x613)]&&_0x136ff1[_0x321520(0x613)][_0x321520(0x364)]>0x1&&this['synchronizeFlows'](_0x136ff1[_0x321520(0x637)],this[_0x321520(0x5a3)][_0x321520(0x6ce)]),!_0x136ff1)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x136ff1;}catch(_0x475e5a){this[_0x321520(0x1ec)](_0x321520(0x6c6)+_0x475e5a);}}[a0_0x4cf6e5(0x6ea)](_0x570783,_0x3fc1ba){const _0x452b9c=a0_0x4cf6e5;console[_0x452b9c(0x2e6)](_0x452b9c(0x4fb),_0x3fc1ba),_0x570783[_0x452b9c(0x357)](_0x57975b=>{const _0x3cb538=_0x452b9c;_0x57975b[_0x3cb538(0x522)]===_0x3fc1ba&&_0x57975b[_0x3cb538(0x2ae)]===void 0x0&&(_0x57975b[_0x3cb538(0x2ae)]=0x270f);});let _0x168b66=_0x570783[_0x452b9c(0x4dd)](_0x545cf6=>_0x545cf6['blockId']===_0x3fc1ba);_0x168b66[_0x452b9c(0x6e8)]((_0x4e37ed,_0xa8b10b)=>_0x4e37ed['order']-_0xa8b10b['order']),_0x168b66[_0x452b9c(0x357)]((_0x26ecc1,_0x5f2e32)=>{const _0x143e2a=_0x452b9c;_0x26ecc1[_0x143e2a(0x2ae)]=_0x5f2e32+0x1;}),_0x570783[_0x452b9c(0x357)](_0x4b03ce=>{const _0xa98b02=_0x452b9c;if(_0x4b03ce['blockId']===_0x3fc1ba){let _0xaa614a=_0x168b66[_0xa98b02(0x531)](_0x401755=>_0x401755[_0xa98b02(0x637)]&&_0x4b03ce['_id']&&_0x401755[_0xa98b02(0x637)][_0xa98b02(0x69a)]()===_0x4b03ce['_id']['toString']());_0xaa614a&&(_0x4b03ce[_0xa98b02(0x2ae)]=_0xaa614a[_0xa98b02(0x2ae)]);}}),console[_0x452b9c(0x2e6)](_0x452b9c(0x593),_0x570783);}[a0_0x4cf6e5(0x606)](_0x91d483,_0x3df53f){const _0x308743=a0_0x4cf6e5;let {replyOption:_0x594eb2}=_0x3df53f;if(!_0x594eb2[_0x308743(0x637)]){this[_0x308743(0x1ec)](_0x308743(0x6cd));return;}if(!_0x91d483[_0x308743(0x189)][_0x308743(0x531)](_0x2360aa=>_0x2360aa[_0x308743(0x637)][_0x308743(0x69a)]()===_0x3df53f[_0x308743(0x256)][_0x308743(0x637)][_0x308743(0x69a)]())){this[_0x308743(0x1ec)]('ReplyOption\x20com\x20ID\x20'+_0x594eb2[_0x308743(0x637)]+_0x308743(0x34a));return;}_0x91d483['replyOptions']=_0x91d483['replyOptions']['filter'](_0x3fefc2=>_0x3fefc2['_id'][_0x308743(0x69a)]()!==_0x3df53f['replyOption'][_0x308743(0x637)][_0x308743(0x69a)]());}async[a0_0x4cf6e5(0x241)](_0x35fa78,_0x9379f5){const _0x477315=a0_0x4cf6e5;let _0x7fa4fa=_0x35fa78[_0x477315(0x189)][_0x477315(0x451)](_0x58e7ed=>_0x58e7ed[_0x477315(0x637)][_0x477315(0x69a)]()===_0x9379f5[_0x477315(0x256)][_0x477315(0x637)][_0x477315(0x69a)]());if(_0x7fa4fa===-0x1){this[_0x477315(0x1ec)]('ReplyOption\x20com\x20ID\x20'+_0x9379f5[_0x477315(0x256)][_0x477315(0x637)]+_0x477315(0x11f));return;}for(let _0xc5f4a5 in _0x9379f5[_0x477315(0x256)])_0x9379f5[_0x477315(0x256)][_0x477315(0x48d)](_0xc5f4a5)&&(_0x35fa78['replyOptions'][_0x7fa4fa][_0xc5f4a5]=_0x9379f5['replyOption'][_0xc5f4a5]);}['addReplyOption'](_0x42b567,_0x119766){const _0x5c4b8b=a0_0x4cf6e5;_0x42b567['replyOptions'][_0x5c4b8b(0xc2)](_0x119766[_0x5c4b8b(0x256)]);}async[a0_0x4cf6e5(0x8d)](_0x428dab){const _0x5780e2=a0_0x4cf6e5;this[_0x5780e2(0x672)][_0x5780e2(0x1f7)](this[_0x5780e2(0x276)]+'\x20('+this[_0x5780e2(0x5a3)][_0x5780e2(0x6ce)]+_0x5780e2(0x563)+_0x428dab);try{this[_0x5780e2(0x672)]['verbose'](this[_0x5780e2(0x276)]+'\x20('+this[_0x5780e2(0x5a3)][_0x5780e2(0x6ce)]+'):\x20Editando\x20grupo\x20do\x20fluxo...');let _0xaa2aad=await this[_0x5780e2(0x79)]['flow'][_0x5780e2(0x2a7)]({'where':{'name':_0x428dab[_0x5780e2(0x3ee)]}},this[_0x5780e2(0x5a3)]['wuid']);if(!_0xaa2aad)throw new Error(_0x5780e2(0x528));if(_0x428dab[_0x5780e2(0x439)]&&_0x428dab[_0x5780e2(0x439)]?.[_0x5780e2(0xff)]===!0x0){if(this['logger'][_0x5780e2(0x1f7)](this[_0x5780e2(0x276)]+'\x20('+this['instance']['wuid']+'):\x20delete\x20=\x20true'),_0x428dab[_0x5780e2(0x439)][_0x5780e2(0xb2)]===!0x0)return{'message':'Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão'};if(_0xaa2aad['blocks'][_0x5780e2(0x41f)](_0x43c27d=>_0x43c27d[_0x5780e2(0x5e7)][_0x5780e2(0x69a)]()===_0x428dab['group'][_0x5780e2(0x637)]))return this[_0x5780e2(0x672)]['verbose'](this['instanceName']+'\x20('+this[_0x5780e2(0x5a3)]['wuid']+_0x5780e2(0x53c)),{'message':_0x5780e2(0x1d3)};_0xaa2aad[_0x5780e2(0x1f6)]=_0xaa2aad[_0x5780e2(0x1f6)][_0x5780e2(0x4dd)](_0x3f5bf7=>_0x3f5bf7[_0x5780e2(0x637)][_0x5780e2(0x69a)]()!==_0x428dab['group'][_0x5780e2(0x637)]);}else{if(_0x428dab[_0x5780e2(0x439)]){if(_0x428dab['group'][_0x5780e2(0xb2)]===!0x0)return{'message':_0x5780e2(0x56d)};if(_0x428dab['group'][_0x5780e2(0x637)]){let _0xb93184=_0xaa2aad['groups'][_0x5780e2(0x531)](_0x3117bc=>_0x3117bc['_id'][_0x5780e2(0x69a)]()===_0x428dab['group'][_0x5780e2(0x637)]);_0xb93184&&(_0x428dab[_0x5780e2(0x439)]['x']<0x0&&(_0x428dab[_0x5780e2(0x439)]['x']=0x0),_0x428dab[_0x5780e2(0x439)]['y']<0x0&&(_0x428dab[_0x5780e2(0x439)]['y']=0x0),Object['assign'](_0xb93184,_0x428dab['group']));}else _0xaa2aad[_0x5780e2(0x1f6)][_0x5780e2(0xc2)](_0x428dab['group']);}}let _0x500d6e=await this[_0x5780e2(0x79)][_0x5780e2(0x2a6)][_0x5780e2(0x376)](_0xaa2aad['_id'],_0xaa2aad,this[_0x5780e2(0x5a3)]['wuid']);if(_0x500d6e&&_0x500d6e[_0x5780e2(0x613)]&&_0x500d6e['shareOwners'][_0x5780e2(0x364)]>0x1&&this[_0x5780e2(0xad)](_0x500d6e[_0x5780e2(0x637)],this[_0x5780e2(0x5a3)][_0x5780e2(0x6ce)]),!_0x500d6e)throw new Error(_0x5780e2(0x67e));return _0x500d6e;}catch(_0x424354){throw this[_0x5780e2(0x672)][_0x5780e2(0x14e)](this['instanceName']+'\x20('+this[_0x5780e2(0x5a3)][_0x5780e2(0x6ce)]+_0x5780e2(0x3fa)+(_0x424354 instanceof Error?_0x424354[_0x5780e2(0x251)]:JSON[_0x5780e2(0x611)](_0x424354,null,0x2))),new w('Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+(_0x424354 instanceof Error?_0x424354[_0x5780e2(0x251)]:JSON['stringify'](_0x424354,null,0x2)));}}async[a0_0x4cf6e5(0x17c)](_0x1995ef){const _0x31b89c=a0_0x4cf6e5;try{this[_0x31b89c(0x672)][_0x31b89c(0x1f7)](this[_0x31b89c(0x276)]+'\x20('+this[_0x31b89c(0x5a3)][_0x31b89c(0x6ce)]+'):\x20Editando\x20condição\x20do\x20fluxo...');let _0x3b8174=await this['repository'][_0x31b89c(0x2a6)][_0x31b89c(0x2a7)]({'where':{'name':_0x1995ef[_0x31b89c(0x3ee)]}},this[_0x31b89c(0x5a3)][_0x31b89c(0x6ce)]);if(!_0x3b8174)throw new Error(_0x31b89c(0x528));let _0x488301=!0x1;if(_0x1995ef[_0x31b89c(0x55d)]?.[_0x31b89c(0xff)]===!0x0)_0x3b8174[_0x31b89c(0x2e2)]=_0x3b8174[_0x31b89c(0x2e2)]['filter'](_0x1c8568=>_0x1c8568&&_0x1995ef['condition']&&_0x1c8568[_0x31b89c(0x637)]&&_0x1995ef[_0x31b89c(0x55d)][_0x31b89c(0x637)]&&_0x1c8568[_0x31b89c(0x637)][_0x31b89c(0x69a)]()!==_0x1995ef['condition']['_id'][_0x31b89c(0x69a)]()),_0x488301=!0x0;else{let _0x51e823=_0x3b8174[_0x31b89c(0x2e2)]['find'](_0x432ad9=>_0x432ad9&&_0x1995ef[_0x31b89c(0x55d)]&&_0x432ad9['_id']&&_0x1995ef[_0x31b89c(0x55d)][_0x31b89c(0x637)]&&_0x432ad9[_0x31b89c(0x637)]['toString']()===_0x1995ef['condition'][_0x31b89c(0x637)][_0x31b89c(0x69a)]());_0x51e823?(_0x488301=_0x51e823['order']!==_0x1995ef[_0x31b89c(0x55d)][_0x31b89c(0x2ae)],Object[_0x31b89c(0x122)](_0x51e823,_0x1995ef[_0x31b89c(0x55d)])):(_0x3b8174['conditions'][_0x31b89c(0xc2)](_0x1995ef[_0x31b89c(0x55d)]),_0x488301=!0x0);}if(_0x488301){_0x3b8174[_0x31b89c(0x2e2)][_0x31b89c(0x6e8)]((_0x3902b1,_0x1f16ce)=>_0x3902b1[_0x31b89c(0x2ae)]>_0x1f16ce[_0x31b89c(0x2ae)]?0x1:_0x1f16ce[_0x31b89c(0x2ae)]>_0x3902b1['order']?-0x1:0x0);for(let _0x346aa3=0x0;_0x346aa3<_0x3b8174['conditions'][_0x31b89c(0x364)];_0x346aa3++)_0x3b8174[_0x31b89c(0x2e2)][_0x346aa3]['order']=_0x346aa3+0x1;_0x3b8174[_0x31b89c(0x2e2)][_0x31b89c(0x364)]>0x0&&(_0x3b8174[_0x31b89c(0x2e2)][0x0][_0x31b89c(0x3b9)]=_0x31b89c(0x463));}let _0x37b7c4=await this[_0x31b89c(0x79)][_0x31b89c(0x2a6)][_0x31b89c(0x376)](_0x3b8174[_0x31b89c(0x637)],_0x3b8174,this[_0x31b89c(0x5a3)]['wuid']);if(_0x37b7c4&&_0x37b7c4[_0x31b89c(0x613)]&&_0x37b7c4[_0x31b89c(0x613)][_0x31b89c(0x364)]>0x1&&this[_0x31b89c(0xad)](_0x37b7c4['_id'],this[_0x31b89c(0x5a3)][_0x31b89c(0x6ce)]),!_0x37b7c4)throw new Error(_0x31b89c(0x67e));return _0x37b7c4;}catch(_0x204e45){throw this['logger'][_0x31b89c(0x14e)](this[_0x31b89c(0x276)]+'\x20('+this[_0x31b89c(0x5a3)][_0x31b89c(0x6ce)]+_0x31b89c(0x1b0)+(_0x204e45 instanceof Error?_0x204e45[_0x31b89c(0x251)]:JSON[_0x31b89c(0x611)](_0x204e45,null,0x2))),new Error(_0x31b89c(0x139)+(_0x204e45 instanceof Error?_0x204e45[_0x31b89c(0x251)]:JSON[_0x31b89c(0x611)](_0x204e45,null,0x2)));}}async[a0_0x4cf6e5(0x5f9)](_0x47b2f5){const _0x508c1d=a0_0x4cf6e5;try{this[_0x508c1d(0x672)][_0x508c1d(0x1f7)](this[_0x508c1d(0x276)]+'\x20('+this[_0x508c1d(0x5a3)][_0x508c1d(0x6ce)]+'):\x20Editando\x20edição\x20do\x20fluxo...');let _0x58f1a9=await this[_0x508c1d(0x79)]['flow']['findOne']({'where':{'name':_0x47b2f5[_0x508c1d(0x3ee)]}},this[_0x508c1d(0x5a3)][_0x508c1d(0x6ce)]);if(!_0x58f1a9)throw new Error(_0x508c1d(0x528));let _0x50690c=!0x1;if(_0x47b2f5[_0x508c1d(0x6c0)]?.[_0x508c1d(0xff)]===!0x0)_0x58f1a9[_0x508c1d(0x108)]=_0x58f1a9[_0x508c1d(0x108)][_0x508c1d(0x4dd)](_0x3dc048=>_0x3dc048&&_0x47b2f5[_0x508c1d(0x6c0)]&&_0x3dc048[_0x508c1d(0x637)]&&_0x47b2f5[_0x508c1d(0x6c0)][_0x508c1d(0x637)]&&_0x3dc048['_id'][_0x508c1d(0x69a)]()!==_0x47b2f5['varedit'][_0x508c1d(0x637)][_0x508c1d(0x69a)]()),_0x50690c=!0x0;else{let _0x4506be=_0x58f1a9['varedits']['find'](_0x14c6fe=>_0x14c6fe&&_0x47b2f5['varedit']&&_0x14c6fe[_0x508c1d(0x637)]&&_0x47b2f5['varedit'][_0x508c1d(0x637)]&&_0x14c6fe['_id'][_0x508c1d(0x69a)]()===_0x47b2f5[_0x508c1d(0x6c0)][_0x508c1d(0x637)][_0x508c1d(0x69a)]());_0x4506be?(_0x50690c=_0x4506be[_0x508c1d(0x2ae)]!==_0x47b2f5[_0x508c1d(0x6c0)]['order'],Object[_0x508c1d(0x122)](_0x4506be,_0x47b2f5[_0x508c1d(0x6c0)])):(_0x58f1a9[_0x508c1d(0x108)][_0x508c1d(0xc2)](_0x47b2f5[_0x508c1d(0x6c0)]),_0x50690c=!0x0);}if(_0x50690c){_0x58f1a9[_0x508c1d(0x108)][_0x508c1d(0x6e8)]((_0x2d6ee9,_0x501c6b)=>_0x2d6ee9[_0x508c1d(0x2ae)]>_0x501c6b['order']?0x1:_0x501c6b[_0x508c1d(0x2ae)]>_0x2d6ee9['order']?-0x1:0x0);for(let _0x5c7e17=0x0;_0x5c7e17<_0x58f1a9[_0x508c1d(0x108)][_0x508c1d(0x364)];_0x5c7e17++)_0x58f1a9[_0x508c1d(0x108)][_0x5c7e17][_0x508c1d(0x2ae)]=_0x5c7e17+0x1;}let _0x50b8bf=await this[_0x508c1d(0x79)][_0x508c1d(0x2a6)][_0x508c1d(0x376)](_0x58f1a9[_0x508c1d(0x637)],_0x58f1a9,this[_0x508c1d(0x5a3)][_0x508c1d(0x6ce)]);if(_0x50b8bf&&_0x50b8bf[_0x508c1d(0x613)]&&_0x50b8bf[_0x508c1d(0x613)]['length']>0x1&&this[_0x508c1d(0xad)](_0x50b8bf[_0x508c1d(0x637)],this[_0x508c1d(0x5a3)][_0x508c1d(0x6ce)]),!_0x50b8bf)throw new Error(_0x508c1d(0x67e));return _0x50b8bf;}catch(_0x1707aa){throw this[_0x508c1d(0x672)][_0x508c1d(0x14e)](this[_0x508c1d(0x276)]+'\x20('+this[_0x508c1d(0x5a3)]['wuid']+_0x508c1d(0x1b0)+(_0x1707aa instanceof Error?_0x1707aa[_0x508c1d(0x251)]:JSON[_0x508c1d(0x611)](_0x1707aa,null,0x2))),new w(_0x508c1d(0x139)+(_0x1707aa instanceof Error?_0x1707aa[_0x508c1d(0x251)]:JSON[_0x508c1d(0x611)](_0x1707aa,null,0x2)));}}async[a0_0x4cf6e5(0x50a)](_0x344f07){const _0x20912e=a0_0x4cf6e5;try{this[_0x20912e(0x672)][_0x20912e(0x1f7)](this[_0x20912e(0x276)]+'\x20('+this[_0x20912e(0x5a3)][_0x20912e(0x6ce)]+'):\x20Editando\x20variável\x20do\x20fluxo...');let _0x32b1cc=await this[_0x20912e(0x79)][_0x20912e(0x2a6)]['findOne']({'where':{'name':_0x344f07[_0x20912e(0x3ee)]}},this['instance'][_0x20912e(0x6ce)]);if(!_0x32b1cc)throw new Error('Flow\x20não\x20encontrado');_0x344f07['variable'][_0x20912e(0x3ee)]=_0x344f07[_0x20912e(0x185)]['name'][_0x20912e(0x2bf)](),_0x344f07[_0x20912e(0x185)][_0x20912e(0x3ee)]['startsWith']('_')&&(_0x344f07[_0x20912e(0x185)][_0x20912e(0x3ee)]=_0x344f07[_0x20912e(0x185)][_0x20912e(0x3ee)][_0x20912e(0x597)](0x1)),_0x344f07['variable']['name']=_0x344f07[_0x20912e(0x185)][_0x20912e(0x3ee)][_0x20912e(0x2bf)]();let _0x2f0fbd=_0x32b1cc[_0x20912e(0x4a2)][_0x20912e(0x531)](_0x1e3151=>_0x1e3151[_0x20912e(0x3ee)]===_0x344f07['variable'][_0x20912e(0x3ee)]);if(_0x2f0fbd?.[_0x20912e(0x5d0)]===!0x0)throw new Error(_0x20912e(0x422));if(_0x344f07['variable']?.['delete']===!0x0){if(!_0x2f0fbd)return{'message':_0x20912e(0x5fb)};_0x32b1cc[_0x20912e(0x4a2)]=_0x32b1cc[_0x20912e(0x4a2)][_0x20912e(0x4dd)](_0x3e1227=>_0x3e1227['name']!==_0x344f07[_0x20912e(0x185)]['name']);}else _0x2f0fbd?Object[_0x20912e(0x122)](_0x2f0fbd,_0x344f07['variable']):_0x32b1cc['variables']['push'](_0x344f07[_0x20912e(0x185)]);let _0x56645a=await this['repository']['flow'][_0x20912e(0x376)](_0x32b1cc['_id'],_0x32b1cc,this[_0x20912e(0x5a3)][_0x20912e(0x6ce)]);if(_0x56645a&&_0x56645a[_0x20912e(0x613)]&&_0x56645a[_0x20912e(0x613)][_0x20912e(0x364)]>0x1&&this[_0x20912e(0xad)](_0x56645a[_0x20912e(0x637)],this[_0x20912e(0x5a3)][_0x20912e(0x6ce)]),!_0x56645a)throw new Error(_0x20912e(0x67e));return _0x56645a;}catch(_0x50103c){throw this[_0x20912e(0x672)][_0x20912e(0x14e)](this[_0x20912e(0x276)]+'\x20('+this['instance'][_0x20912e(0x6ce)]+_0x20912e(0x64d)+(_0x50103c instanceof Error?_0x50103c[_0x20912e(0x251)]:JSON[_0x20912e(0x611)](_0x50103c,null,0x2))),new w('Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20'+(_0x50103c instanceof Error?_0x50103c[_0x20912e(0x251)]:JSON[_0x20912e(0x611)](_0x50103c,null,0x2)));}}async['startFlow'](_0x1c2d7d){const _0x5581e5=a0_0x4cf6e5;let _0xc47e0e=null;try{if(!this[_0x5581e5(0x167)]?.['flowConfig'][_0x5581e5(0x10e)])throw new w('Fluxos\x20não\x20estão\x20ativados');this[_0x5581e5(0x672)]['verbose'](this['instanceName']+'\x20('+this[_0x5581e5(0x5a3)]['wuid']+_0x5581e5(0x57c));let _0x2c6022=(await this[_0x5581e5(0x6c5)]({'numbers':[_0x1c2d7d[_0x5581e5(0x373)]]}))[0x0];if(!_0x2c6022[_0x5581e5(0x43f)]&&!(0x0,g['isJidGroup'])(_0x2c6022[_0x5581e5(0x518)])&&!_0x2c6022[_0x5581e5(0x518)]['includes'](_0x5581e5(0x6a4)))throw _0xc47e0e=JSON['stringify'](_0x2c6022,null,0x2),new w(_0x2c6022);let _0x4369de=await this[_0x5581e5(0x79)][_0x5581e5(0x2a6)]['findOne']({'where':{'name':_0x1c2d7d['name']}},this[_0x5581e5(0x5a3)][_0x5581e5(0x6ce)]);if(!_0x4369de)return this[_0x5581e5(0x672)][_0x5581e5(0x14e)](this[_0x5581e5(0x276)]+'\x20('+this[_0x5581e5(0x5a3)][_0x5581e5(0x6ce)]+_0x5581e5(0xaf)),{'message':_0x5581e5(0x528)};let _0x209e9e=await this[_0x5581e5(0x229)](_0x4369de,_0x2c6022[_0x5581e5(0x518)],_0x1c2d7d[_0x5581e5(0x575)]);if(_0x209e9e){this[_0x5581e5(0x672)][_0x5581e5(0x1f7)](this[_0x5581e5(0x276)]+'\x20('+this[_0x5581e5(0x5a3)][_0x5581e5(0x6ce)]+_0x5581e5(0x34f));let _0x48de3f=await this[_0x5581e5(0x6e4)](_0x209e9e);return _0x48de3f&&await this['processblock'](_0x209e9e,_0x48de3f),{'message':_0x5581e5(0x60a)+_0x1c2d7d[_0x5581e5(0x373)]};}}catch(_0x198457){if(this[_0x5581e5(0x672)][_0x5581e5(0x14e)](this[_0x5581e5(0x276)]+'\x20('+this['instance'][_0x5581e5(0x6ce)]+_0x5581e5(0x62c)+(_0x198457 instanceof Error?_0x198457[_0x5581e5(0x251)]:JSON[_0x5581e5(0x611)](_0x198457,null,0x2))),_0xc47e0e=_0x198457 instanceof Error?_0x198457[_0x5581e5(0x251)]:JSON[_0x5581e5(0x611)](_0x198457,null,0x2),_0xc47e0e)throw new w(_0x5581e5(0x50f)+_0xc47e0e);}}async[a0_0x4cf6e5(0x5d2)](_0x25432a){const _0x46a300=a0_0x4cf6e5;try{let _0x8e834d={'remoteJid':_0x25432a,'status':'open'},_0x438d21={'status':'closed'},_0x9d6a76=await this[_0x46a300(0x79)][_0x46a300(0x5de)][_0x46a300(0x1e4)](_0x8e834d,_0x438d21,this[_0x46a300(0x5a3)][_0x46a300(0x6ce)]);return this[_0x46a300(0x672)][_0x46a300(0x1f7)](this[_0x46a300(0x276)]+'\x20('+this[_0x46a300(0x5a3)][_0x46a300(0x6ce)]+_0x46a300(0x5c2)),_0x9d6a76;}catch(_0x586ce8){throw this[_0x46a300(0x672)]['error'](this['instanceName']+'\x20('+this[_0x46a300(0x5a3)][_0x46a300(0x6ce)]+_0x46a300(0xbc)+_0x586ce8[_0x46a300(0x251)]),_0x586ce8;}}async['createConversationforStartFlow'](_0x270299,_0x392435,_0x3c04fe){const _0x225fd4=a0_0x4cf6e5;this[_0x225fd4(0x672)][_0x225fd4(0x1f7)](this[_0x225fd4(0x276)]+'\x20('+this[_0x225fd4(0x5a3)][_0x225fd4(0x6ce)]+_0x225fd4(0x45e)),await this[_0x225fd4(0x5d2)](_0x392435);try{let _0x1e22b5=require(_0x225fd4(0x2d3))[_0x225fd4(0x554)],_0x665999=Date[_0x225fd4(0x5a1)](),_0x2b1dae='start',_0x3ef2fe={},_0x45a041={},_0xa35184={..._0x270299,'chatLog':null},_0x2f0529=await this[_0x225fd4(0x263)](_0xa35184[_0x225fd4(0x4a2)]),_0x1648f7=await this['getVariablesChat'](_0x392435),_0x376f22={..._0x2f0529,..._0x1648f7,'_remoteJid':_0x392435},_0x485ff7={'lastReceivedMessage':_0x3ef2fe,'lastSendMessage':_0x45a041,'lastBlockId':_0x2b1dae,'lastCondition':!0x0,'realVariables':_0x376f22};_0xa35184[_0x225fd4(0x11e)]=_0x485ff7,_0xa35184['chatLog']['realVariables']={..._0x376f22,..._0x3c04fe},delete _0xa35184[_0x225fd4(0x637)],_0xa35184[_0x225fd4(0x637)]=new _0x1e22b5(),_0xa35184['lastInteraction']=_0x665999,_0xa35184[_0x225fd4(0x485)]=_0x225fd4(0x2ca),_0xa35184[_0x225fd4(0x373)]=_0x392435;let _0x1ae280=await this[_0x225fd4(0x79)][_0x225fd4(0x5de)][_0x225fd4(0x376)](_0xa35184['_id'],_0xa35184,this[_0x225fd4(0x5a3)][_0x225fd4(0x6ce)]);return this['logger'][_0x225fd4(0x1f7)](this[_0x225fd4(0x276)]+'\x20('+this[_0x225fd4(0x5a3)][_0x225fd4(0x6ce)]+_0x225fd4(0x3b3)),_0x1ae280?_0xa35184:null;}catch(_0x4c0e28){throw this[_0x225fd4(0x672)][_0x225fd4(0x14e)](this[_0x225fd4(0x276)]+'\x20('+this['instance'][_0x225fd4(0x6ce)]+_0x225fd4(0x30d)+(_0x4c0e28 instanceof Error?_0x4c0e28[_0x225fd4(0x251)]:JSON[_0x225fd4(0x611)](_0x4c0e28,null,0x2))),new w(_0x4c0e28['message']);}}async[a0_0x4cf6e5(0x394)](_0x55c48a){const _0x5481c4=a0_0x4cf6e5;try{this[_0x5481c4(0x672)]['verbose'](this['instanceName']+'\x20('+this[_0x5481c4(0x5a3)][_0x5481c4(0x6ce)]+_0x5481c4(0x2c0)),this['logger'][_0x5481c4(0x1f7)](this[_0x5481c4(0x276)]+'\x20('+this['instance']['wuid']+_0x5481c4(0x642)+_0x55c48a);let _0x1fd5ca={'where':{'_id':_0x55c48a}};return await this[_0x5481c4(0x79)]['flowConversation'][_0x5481c4(0x2a7)](_0x1fd5ca,this[_0x5481c4(0x5a3)][_0x5481c4(0x6ce)]);}catch(_0x2188e3){throw this[_0x5481c4(0x672)][_0x5481c4(0x14e)](this[_0x5481c4(0x276)]+'\x20('+this['instance'][_0x5481c4(0x6ce)]+_0x5481c4(0x5ca)+(_0x2188e3 instanceof Error?_0x2188e3[_0x5481c4(0x251)]:JSON[_0x5481c4(0x611)](_0x2188e3,null,0x2))),new w(_0x5481c4(0x18e)+_0x2188e3[_0x5481c4(0x251)]);}}async[a0_0x4cf6e5(0x31a)](_0x27500c){const _0x45bf06=a0_0x4cf6e5;try{return this['logger'][_0x45bf06(0x1f7)](this['instanceName']+'\x20('+this[_0x45bf06(0x5a3)][_0x45bf06(0x6ce)]+_0x45bf06(0x21c)),await this[_0x45bf06(0x79)][_0x45bf06(0x5de)][_0x45bf06(0x531)](_0x27500c,this[_0x45bf06(0x5a3)][_0x45bf06(0x6ce)]);}catch(_0x5c77a3){throw this['logger'][_0x45bf06(0x14e)](this[_0x45bf06(0x276)]+'\x20('+this[_0x45bf06(0x5a3)][_0x45bf06(0x6ce)]+'):\x20Erro\x20ao\x20buscar\x20conversas\x20'+(_0x5c77a3 instanceof Error?_0x5c77a3[_0x45bf06(0x251)]:JSON['stringify'](_0x5c77a3,null,0x2))),new w(_0x45bf06(0x134)+_0x5c77a3[_0x45bf06(0x251)]);}}async[a0_0x4cf6e5(0x502)](_0x27d793){const _0x38a04a=a0_0x4cf6e5;try{return this[_0x38a04a(0x672)][_0x38a04a(0x1f7)](this[_0x38a04a(0x276)]+'\x20('+this[_0x38a04a(0x5a3)]['wuid']+_0x38a04a(0x63a)),this['logger'][_0x38a04a(0x1f7)](this[_0x38a04a(0x276)]+'\x20('+this[_0x38a04a(0x5a3)]['wuid']+_0x38a04a(0x68c)+_0x27d793),(await this[_0x38a04a(0x79)][_0x38a04a(0x5de)]['deleteOne']({'where':{'_id':_0x27d793}},this['instance'][_0x38a04a(0x6ce)]))[_0x38a04a(0x1c6)]===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':_0x38a04a(0x2b8)};}catch(_0xa5263f){throw this[_0x38a04a(0x672)][_0x38a04a(0x14e)](this[_0x38a04a(0x276)]+'\x20('+this['instance']['wuid']+_0x38a04a(0x510)+(_0xa5263f instanceof Error?_0xa5263f['message']:JSON[_0x38a04a(0x611)](_0xa5263f,null,0x2))),new w(_0x38a04a(0x5ef)+_0xa5263f['message']);}}async[a0_0x4cf6e5(0x56f)](_0x3aefcc){const _0x3f373e=a0_0x4cf6e5;try{let {_id:_0x4d4b7b,chatLog:_0x30836e,status:_0x23cf8c}=_0x3aefcc;if(!_0x4d4b7b)return{'message':_0x3f373e(0x2ab)};let _0x553fe4={};if(_0x23cf8c!==void 0x0&&(_0x553fe4[_0x3f373e(0x485)]=_0x23cf8c),Object[_0x3f373e(0x4d7)](_0x553fe4)[_0x3f373e(0x364)]===0x0)return{'message':_0x3f373e(0xfd)};let _0x206619=await this[_0x3f373e(0x79)][_0x3f373e(0x5de)][_0x3f373e(0x376)](_0x4d4b7b,_0x553fe4,this[_0x3f373e(0x5a3)][_0x3f373e(0x6ce)]);return _0x206619||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0x2c7727){throw this['logger'][_0x3f373e(0x14e)](this[_0x3f373e(0x276)]+'\x20('+this['instance']['wuid']+_0x3f373e(0x291)+(_0x2c7727 instanceof Error?_0x2c7727[_0x3f373e(0x251)]:JSON[_0x3f373e(0x611)](_0x2c7727,null,0x2))),new w(_0x3f373e(0x3dc)+_0x2c7727[_0x3f373e(0x251)]);}}async[a0_0x4cf6e5(0x38d)](_0x19ea70){const _0xdef21b=a0_0x4cf6e5;let _0x239a44=await this[_0xdef21b(0x79)][_0xdef21b(0x51b)][_0xdef21b(0x2a7)]({'where':{'_id':_0x19ea70['_id']}},this[_0xdef21b(0x5a3)]['wuid']);if(!_0x239a44)throw new w(_0xdef21b(0x582));console['log'](_0x19ea70);try{_0x19ea70[_0xdef21b(0x637)]=this[_0xdef21b(0x4d0)](_0x19ea70[_0xdef21b(0x637)]);let {_id:_0x4891b4,leadInfo:_0x1b9feb}=_0x19ea70;if(!_0x4891b4)throw new Error(_0xdef21b(0x6d6));let _0x49f411=(_0x25000d,_0x3730c3,_0x4f1765)=>{const _0xd0be27=_0xdef21b;_0x25000d&&_0x4f1765[_0xd0be27(0x357)](_0x4d59bc=>{const _0x37b2bd=_0xd0be27;_0x25000d[_0x4d59bc]!==void 0x0&&(_0x3730c3[_0x37b2bd(0x2b1)+_0x4d59bc]=_0x25000d[_0x4d59bc]);});},_0x5e6fa7={};if(_0x1b9feb&&(_0x49f411(_0x1b9feb,_0x5e6fa7,['nome',_0xdef21b(0xf8),_0xdef21b(0x105),_0xdef21b(0x63e),_0xdef21b(0x485),'notas',_0xdef21b(0x5e0),_0xdef21b(0x214),_0xdef21b(0x680),_0xdef21b(0x648)]),Array['isArray'](_0x1b9feb['customFields'])&&(_0x5e6fa7[_0xdef21b(0x385)]=_0x1b9feb[_0xdef21b(0x2e0)]['map'](_0x39ec15=>({'_id':_0x39ec15[_0xdef21b(0x637)],'value':_0x39ec15[_0xdef21b(0x5f6)]}))),_0x19ea70[_0xdef21b(0x5d0)][_0xdef21b(0x648)]!==void 0x0)){let _0x21afa4=await this[_0xdef21b(0x79)][_0xdef21b(0x60b)]['find']({'where':{}},this[_0xdef21b(0x5a3)][_0xdef21b(0x6ce)]),_0x3fa440=new Set(_0x19ea70[_0xdef21b(0x5d0)]['etiquetas']||[]),_0x3a0e4f=new Set(_0x19ea70[_0xdef21b(0x5d0)]['etiquetas']),_0x4be527=new Set(_0x21afa4[_0xdef21b(0x2ad)](_0x36645c=>_0x36645c[_0xdef21b(0x637)])),_0x388214=[..._0x3a0e4f]['filter'](_0x2d4c8d=>!_0x3fa440[_0xdef21b(0x141)](_0x2d4c8d)&&_0x4be527['has'](_0x2d4c8d)),_0x1d267d=[..._0x3fa440][_0xdef21b(0x4dd)](_0x2f9307=>!_0x3a0e4f[_0xdef21b(0x141)](_0x2f9307));if(_0x5e6fa7[_0xdef21b(0x171)]=[..._0x3fa440],_0x239a44&&!_0x239a44[_0xdef21b(0x602)]){for(let _0x5a210b of _0x388214)await this['AddChatLabel'](_0x5a210b,_0x19ea70[_0xdef21b(0x637)]),_0x3fa440['add'](_0x5a210b);for(let _0x35c09d of _0x1d267d)await this[_0xdef21b(0x23e)](_0x35c09d,_0x19ea70[_0xdef21b(0x637)]),_0x3fa440['delete'](_0x35c09d);}}if(_0x19ea70[_0xdef21b(0x66c)]!==void 0x0&&(_0x5e6fa7[_0xdef21b(0x66c)]=Number(_0x19ea70[_0xdef21b(0x66c)])),Object[_0xdef21b(0x4d7)](_0x5e6fa7)[_0xdef21b(0x364)]===0x0)throw new Error('Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.');let _0x2fdfe6=await this[_0xdef21b(0x79)][_0xdef21b(0x51b)][_0xdef21b(0x376)]({'where':{'_id':_0x19ea70['_id']}},_0x5e6fa7,this[_0xdef21b(0x5a3)][_0xdef21b(0x6ce)]);return _0x2fdfe6&&q(this[_0xdef21b(0x276)],_0xdef21b(0x35a),{'chat':_0x2fdfe6}),_0x2fdfe6?(this[_0xdef21b(0x672)][_0xdef21b(0x1f7)](this['instanceName']+'\x20('+this[_0xdef21b(0x5a3)][_0xdef21b(0x6ce)]+_0xdef21b(0xf9)+JSON[_0xdef21b(0x611)](_0x2fdfe6,null,0x2)),_0x2fdfe6):{'message':_0xdef21b(0x1d8)};}catch(_0x54d280){throw this[_0xdef21b(0x672)][_0xdef21b(0x14e)](this['instanceName']+'\x20('+this[_0xdef21b(0x5a3)][_0xdef21b(0x6ce)]+_0xdef21b(0x68d)+(_0x54d280 instanceof Error?_0x54d280['message']:JSON[_0xdef21b(0x611)](_0x54d280,null,0x2))),new w(_0xdef21b(0x476)+_0x54d280[_0xdef21b(0x251)]);}}async[a0_0x4cf6e5(0x4e2)](_0xd56e08,_0x229a6c){const _0x275720=a0_0x4cf6e5;try{await this['client'][_0x275720(0x677)](_0x229a6c,_0xd56e08),console['log'](_0x275720(0x11d)+_0xd56e08+_0x275720(0x147)+_0x229a6c+_0x275720(0x219));}catch(_0x111fa3){console['error']('Erro\x20ao\x20adicionar\x20label\x20'+_0xd56e08+_0x275720(0x58c)+_0x229a6c+':',_0x111fa3);}}async['RemoveChatLabel'](_0x540d33,_0x321843){const _0x382a3c=a0_0x4cf6e5;try{await this[_0x382a3c(0x163)][_0x382a3c(0xf5)](_0x321843,_0x540d33),console['log'](_0x382a3c(0x11d)+_0x540d33+_0x382a3c(0x33a)+_0x321843+_0x382a3c(0x219));}catch(_0x20271e){console[_0x382a3c(0x14e)](_0x382a3c(0x113)+_0x540d33+_0x382a3c(0x3d1)+_0x321843+':',_0x20271e);}}async[a0_0x4cf6e5(0x410)](_0x25944a){const _0x2376ec=a0_0x4cf6e5;try{let _0x54d129=await this['repository']['automateSystem'][_0x2376ec(0x55e)](this[_0x2376ec(0x5a3)][_0x2376ec(0x6ce)]),_0x4cb34b=_0x25944a[_0x2376ec(0x637)]?_0x54d129['agents'][_0x2376ec(0x451)](_0x26159f=>_0x26159f[_0x2376ec(0x637)]===_0x25944a[_0x2376ec(0x637)]):-0x1;if(_0x25944a[_0x2376ec(0xff)]&&_0x4cb34b>-0x1)_0x54d129[_0x2376ec(0x699)]['splice'](_0x4cb34b,0x1);else{if(_0x4cb34b>-0x1){let _0x1c425f=_0x54d129[_0x2376ec(0x699)][_0x4cb34b];_0x25944a[_0x2376ec(0x3af)]&&(_0x1c425f[_0x2376ec(0x3af)]=_0x25944a[_0x2376ec(0x3af)]),_0x25944a[_0x2376ec(0x3ee)]&&(_0x1c425f[_0x2376ec(0x3ee)]=_0x25944a['name']),_0x25944a[_0x2376ec(0x105)]&&(_0x1c425f[_0x2376ec(0x105)]=_0x25944a['email']),_0x25944a['role']&&(_0x1c425f[_0x2376ec(0x6e7)]=_0x25944a['role']);}else _0x54d129['agents'][_0x2376ec(0xc2)]({'_id':_0x25944a['_id']||new ce[(_0x2376ec(0xb2))][(_0x2376ec(0x155))][(_0x2376ec(0x554))]()[_0x2376ec(0x69a)](),'fone':_0x25944a[_0x2376ec(0x3af)],'name':_0x25944a[_0x2376ec(0x3ee)],'email':_0x25944a[_0x2376ec(0x105)],'role':_0x25944a[_0x2376ec(0x6e7)]});}let _0x4e1d19={'agents':_0x54d129['agents']},_0x2752ac=await this['repository'][_0x2376ec(0x21d)][_0x2376ec(0x225)](_0x4e1d19,this[_0x2376ec(0x5a3)]['wuid']);return this[_0x2376ec(0x167)]=_0x2752ac,this[_0x2376ec(0x672)][_0x2376ec(0x1f7)](this[_0x2376ec(0x276)]+'\x20('+this[_0x2376ec(0x5a3)]['wuid']+_0x2376ec(0x13c)),this[_0x2376ec(0x672)][_0x2376ec(0x1f7)](this[_0x2376ec(0x276)]+'\x20('+this[_0x2376ec(0x5a3)][_0x2376ec(0x6ce)]+_0x2376ec(0xf9)+this[_0x2376ec(0x167)]),_0x2752ac;}catch(_0x50ec29){throw this[_0x2376ec(0x672)][_0x2376ec(0x14e)](this[_0x2376ec(0x276)]+'\x20('+this[_0x2376ec(0x5a3)]['wuid']+'):\x20Erro\x20ao\x20editar\x20agentes:\x20'+(_0x50ec29 instanceof Error?_0x50ec29[_0x2376ec(0x251)]:JSON['stringify'](_0x50ec29,null,0x2))),new w(_0x2376ec(0x418)+_0x50ec29[_0x2376ec(0x251)]);}}async[a0_0x4cf6e5(0x4cf)](_0x58a7c5){const _0x53fbe9=a0_0x4cf6e5;try{let _0x2f9550=await this[_0x53fbe9(0x79)][_0x53fbe9(0x21d)][_0x53fbe9(0x55e)](this[_0x53fbe9(0x5a3)][_0x53fbe9(0x6ce)]),_0x315651=_0x58a7c5[_0x53fbe9(0x637)]?_0x2f9550[_0x53fbe9(0x2e0)][_0x53fbe9(0x451)](_0x1ab180=>_0x1ab180[_0x53fbe9(0x637)]===_0x58a7c5[_0x53fbe9(0x637)]):-0x1,_0xfe8480=!0x1,_0x570444=_0x2f9550['customFields'][_0x53fbe9(0x41f)](_0x534aff=>_0x534aff[_0x53fbe9(0x2ae)]===_0x58a7c5[_0x53fbe9(0x2ae)]);if(_0x58a7c5[_0x53fbe9(0xff)]&&_0x315651>-0x1)_0x2f9550[_0x53fbe9(0x2e0)]['splice'](_0x315651,0x1),_0xfe8480=!0x0;else{if(_0x315651>-0x1){if(_0x2f9550[_0x53fbe9(0x2e0)][_0x53fbe9(0x41f)](_0x44b237=>_0x44b237[_0x53fbe9(0x3ee)]===_0x58a7c5[_0x53fbe9(0x3ee)]&&_0x44b237[_0x53fbe9(0x637)]!==_0x58a7c5[_0x53fbe9(0x637)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');let _0x4acd29=_0x2f9550[_0x53fbe9(0x2e0)][_0x315651];_0x58a7c5[_0x53fbe9(0x2ae)]&&(_0x570444||!Number[_0x53fbe9(0x627)](_0x58a7c5[_0x53fbe9(0x2ae)]))&&(_0x4acd29[_0x53fbe9(0x2ae)]=_0x58a7c5['order'],_0xfe8480=!0x0),_0x58a7c5[_0x53fbe9(0x3ee)]&&(_0x4acd29[_0x53fbe9(0x3ee)]=_0x58a7c5[_0x53fbe9(0x3ee)]);}else{if(_0x2f9550[_0x53fbe9(0x2e0)][_0x53fbe9(0x41f)](_0x56cd3c=>_0x56cd3c[_0x53fbe9(0x3ee)]===_0x58a7c5[_0x53fbe9(0x3ee)]&&_0x56cd3c[_0x53fbe9(0x637)]!==_0x58a7c5[_0x53fbe9(0x637)]))throw new Error(_0x53fbe9(0x2fa));_0x2f9550['customFields']['push']({'_id':_0x58a7c5[_0x53fbe9(0x637)]||new ce[(_0x53fbe9(0xb2))][(_0x53fbe9(0x155))][(_0x53fbe9(0x554))]()[_0x53fbe9(0x69a)](),'order':_0x58a7c5['order'],'name':_0x58a7c5[_0x53fbe9(0x3ee)]}),_0xfe8480=!0x0;}}if(_0xfe8480){_0x2f9550[_0x53fbe9(0x2e0)][_0x53fbe9(0x6e8)]((_0x41a07d,_0x22781e)=>_0x41a07d[_0x53fbe9(0x2ae)]>_0x22781e[_0x53fbe9(0x2ae)]?0x1:_0x22781e[_0x53fbe9(0x2ae)]>_0x41a07d[_0x53fbe9(0x2ae)]?-0x1:0x0);for(let _0x47ab48=0x0;_0x47ab48<_0x2f9550['customFields']['length'];_0x47ab48++)_0x2f9550[_0x53fbe9(0x2e0)][_0x47ab48][_0x53fbe9(0x2ae)]=_0x47ab48+0x1;}let _0x3b28bf=await this[_0x53fbe9(0x79)][_0x53fbe9(0x21d)][_0x53fbe9(0x225)](_0x2f9550,this[_0x53fbe9(0x5a3)][_0x53fbe9(0x6ce)]);return this['AutomateSystem']=_0x3b28bf,this[_0x53fbe9(0x672)][_0x53fbe9(0x1f7)](this[_0x53fbe9(0x276)]+'\x20('+this[_0x53fbe9(0x5a3)][_0x53fbe9(0x6ce)]+_0x53fbe9(0x527)),this[_0x53fbe9(0x672)][_0x53fbe9(0x1f7)](this[_0x53fbe9(0x276)]+'\x20('+this['instance']['wuid']+_0x53fbe9(0xf9)+this[_0x53fbe9(0x167)]),_0x3b28bf;}catch(_0x4c229){throw this[_0x53fbe9(0x672)][_0x53fbe9(0x14e)](this[_0x53fbe9(0x276)]+'\x20('+this[_0x53fbe9(0x5a3)][_0x53fbe9(0x6ce)]+_0x53fbe9(0x268)+(_0x4c229 instanceof Error?_0x4c229[_0x53fbe9(0x251)]:JSON[_0x53fbe9(0x611)](_0x4c229,null,0x2))),new w(_0x53fbe9(0x4af)+_0x4c229[_0x53fbe9(0x251)]);}}async[a0_0x4cf6e5(0x49f)](_0x13fb73){const _0x197a24=a0_0x4cf6e5;try{let _0x2b375e=await this[_0x197a24(0x79)][_0x197a24(0x21d)][_0x197a24(0x55e)](this[_0x197a24(0x5a3)]['wuid']);if(!_0x2b375e)throw new Error(_0x197a24(0x80));let _0x2a725e={'_id':_0x2b375e['_id'],'flowConfig':{'enabled':_0x13fb73[_0x197a24(0x10e)]??_0x2b375e['flowConfig'][_0x197a24(0x10e)],'ignoreGroups':_0x13fb73[_0x197a24(0x360)]??_0x2b375e[_0x197a24(0x40e)][_0x197a24(0x360)],'prefixCommand':_0x13fb73[_0x197a24(0x521)]??_0x2b375e['flowConfig'][_0x197a24(0x521)],'stopConversation':_0x13fb73[_0x197a24(0x1fd)]??_0x2b375e[_0x197a24(0x40e)][_0x197a24(0x1fd)],'stopMinutes':_0x13fb73[_0x197a24(0x68e)]??_0x2b375e['flowConfig'][_0x197a24(0x68e)],'stopWhenYouSendMsg':_0x13fb73[_0x197a24(0x673)]??_0x2b375e['flowConfig'][_0x197a24(0x673)]}},_0x5ac45d=await this[_0x197a24(0x79)][_0x197a24(0x21d)][_0x197a24(0x225)](_0x2a725e,this['instance']['wuid']);return this[_0x197a24(0x167)]=_0x5ac45d,this[_0x197a24(0x672)][_0x197a24(0x1f7)](this[_0x197a24(0x276)]+'\x20('+this[_0x197a24(0x5a3)]['wuid']+'):\x20alterando\x20this.AutomateSystem'),this['logger']['verbose'](this[_0x197a24(0x276)]+'\x20('+this['instance'][_0x197a24(0x6ce)]+_0x197a24(0xf9)+this[_0x197a24(0x167)]),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x5ac45d;}catch(_0x77d16f){throw this['logger'][_0x197a24(0x14e)](this['instanceName']+'\x20('+this[_0x197a24(0x5a3)][_0x197a24(0x6ce)]+_0x197a24(0x1f4)+(_0x77d16f instanceof Error?_0x77d16f['message']:JSON[_0x197a24(0x611)](_0x77d16f,null,0x2))),new w(_0x197a24(0x2ed)+_0x77d16f[_0x197a24(0x251)]);}}async['getAutomateSystem'](){const _0x51ace2=a0_0x4cf6e5;try{let _0x138f03=await this[_0x51ace2(0x79)][_0x51ace2(0x21d)][_0x51ace2(0x55e)](this[_0x51ace2(0x5a3)][_0x51ace2(0x6ce)]);return this[_0x51ace2(0x167)]=_0x138f03,this['logger'][_0x51ace2(0x1f7)](this[_0x51ace2(0x276)]+'\x20('+this[_0x51ace2(0x5a3)]['wuid']+'):\x20Visualizando\x20AutomateSystem'),this[_0x51ace2(0x672)][_0x51ace2(0x1f7)](this[_0x51ace2(0x167)]),_0x138f03;}catch(_0x1a05ed){throw this[_0x51ace2(0x672)][_0x51ace2(0x14e)](this[_0x51ace2(0x276)]+'\x20('+this['instance'][_0x51ace2(0x6ce)]+_0x51ace2(0x54d)+(_0x1a05ed instanceof Error?_0x1a05ed[_0x51ace2(0x251)]:JSON[_0x51ace2(0x611)](_0x1a05ed,null,0x2))),new w(_0x51ace2(0x664)+_0x1a05ed[_0x51ace2(0x251)]);}}async[a0_0x4cf6e5(0x441)](){const _0x2be1f8=a0_0x4cf6e5;this['instance'][_0x2be1f8(0x77)][_0x2be1f8(0x1ae)]&&clearTimeout(this[_0x2be1f8(0x5a3)][_0x2be1f8(0x77)][_0x2be1f8(0x1ae)]),this[_0x2be1f8(0x5a3)]['ScheduleMessage'][_0x2be1f8(0x1ae)]=setTimeout(()=>{const _0x4c5a3d=_0x2be1f8;this[_0x4c5a3d(0x29b)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x4cf6e5(0x29b)](){const _0x39d24e=a0_0x4cf6e5;Date[_0x39d24e(0x5a1)]()-this[_0x39d24e(0x5a3)][_0x39d24e(0x77)][_0x39d24e(0x696)]>=0x1d4c0&&(this[_0x39d24e(0x672)][_0x39d24e(0x1f7)](this[_0x39d24e(0x276)]+'\x20('+this['instance'][_0x39d24e(0x6ce)]+_0x39d24e(0x479)),this[_0x39d24e(0x5a3)][_0x39d24e(0x77)][_0x39d24e(0x51a)]=null,this[_0x39d24e(0x5a3)][_0x39d24e(0x77)]['lastSend']=0x0,this[_0x39d24e(0x5a3)][_0x39d24e(0x77)]['delayMessage']=0x0,await this['scheduleNextCheck']());}async[a0_0x4cf6e5(0x3a9)](){const _0x192fb0=a0_0x4cf6e5;let _0x2e5658=()=>{const _0x4abf4f=a0_0x1ffd;this[_0x4abf4f(0x672)][_0x4abf4f(0x1f7)](this[_0x4abf4f(0x276)]+'\x20('+this[_0x4abf4f(0x5a3)][_0x4abf4f(0x6ce)]+_0x4abf4f(0x289)+this['instance'][_0x4abf4f(0x77)][_0x4abf4f(0x51a)]+_0x4abf4f(0xb0));},_0x5ca419=async()=>{const _0x5db928=a0_0x1ffd;this[_0x5db928(0x672)][_0x5db928(0x1f7)](this['instanceName']+'\x20('+this[_0x5db928(0x5a3)][_0x5db928(0x6ce)]+_0x5db928(0x39e));let _0x1e0722=Date['now']()-0xc*0x3c*0x3c*0x3e8,_0x5a935f={'where':{'status':{'$in':['scheduled',_0x5db928(0x18c)]},'$or':[{'when':{'$lte':Date[_0x5db928(0x5a1)](),'$gte':_0x1e0722}},{'when':0x0}]}};return await this['repository'][_0x5db928(0x87)][_0x5db928(0x531)](_0x5a935f,this[_0x5db928(0x5a3)][_0x5db928(0x6ce)]);},_0x426f4a=async _0x2733a5=>{const _0x48acf2=a0_0x1ffd;for(let _0x4b6a28 of _0x2733a5){let _0x5c00ed={'_id':_0x4b6a28[_0x48acf2(0x637)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x48acf2(0x5a1)]()-0x1770}}]},_0x2c7da8={'startSend':Date[_0x48acf2(0x5a1)]()};if(!await this[_0x48acf2(0x79)][_0x48acf2(0x87)][_0x48acf2(0x376)](_0x5c00ed,_0x2c7da8,this[_0x48acf2(0x5a3)]['wuid']))return;if(!this[_0x48acf2(0x5a3)][_0x48acf2(0x77)]['isConnected']){this[_0x48acf2(0x672)][_0x48acf2(0x1f7)](this[_0x48acf2(0x276)]+'\x20('+this[_0x48acf2(0x5a3)]['wuid']+_0x48acf2(0x4bc));break;}if(_0x4b6a28[_0x48acf2(0x4a9)]==='flow'&&!this[_0x48acf2(0x167)]?.[_0x48acf2(0x40e)][_0x48acf2(0x10e)]){this[_0x48acf2(0x672)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x48acf2(0x22c));continue;}(!_0x4b6a28[_0x48acf2(0x42e)]||_0x4b6a28[_0x48acf2(0x42e)][_0x48acf2(0x364)]===0x0)&&(_0x4b6a28=await this['repository'][_0x48acf2(0x87)]['updateOneById'](_0x4b6a28['_id'],{'status':_0x48acf2(0x18c),'remoteJidsRemaining':[..._0x4b6a28[_0x48acf2(0x7c)]]},this[_0x48acf2(0x5a3)][_0x48acf2(0x6ce)]));for(let _0x41e48d of _0x4b6a28[_0x48acf2(0x42e)]){if(await this[_0x48acf2(0x441)](),this[_0x48acf2(0x5a3)][_0x48acf2(0x77)]['lastSend']=Date['now'](),this['instance']['ScheduleMessage'][_0x48acf2(0x280)]===_0x41e48d){this[_0x48acf2(0x672)]['error'](this[_0x48acf2(0x276)]+'\x20('+this[_0x48acf2(0x5a3)][_0x48acf2(0x6ce)]+_0x48acf2(0x1da)+_0x41e48d+_0x48acf2(0x320));let _0xcd234e={'$push':{'messagesSend':{'remoteJid':_0x41e48d,'error':!0x0,'id':null,'error_log':'Falha\x20após\x20várias\x20tentativas.','log_timestamp':Date[_0x48acf2(0x5a1)]()}},'$pull':{'remoteJidsRemaining':_0x41e48d}};await this[_0x48acf2(0x79)][_0x48acf2(0x87)][_0x48acf2(0x626)](_0x4b6a28[_0x48acf2(0x637)],_0xcd234e,this[_0x48acf2(0x5a3)]['wuid']);continue;}if(this[_0x48acf2(0x5a3)]['ScheduleMessage'][_0x48acf2(0x280)]=_0x41e48d,_0x4b6a28[_0x48acf2(0x1e6)][_0x48acf2(0x41f)](_0x1c7716=>_0x1c7716[_0x48acf2(0x373)]===_0x41e48d)){this['logger'][_0x48acf2(0x1f7)](this[_0x48acf2(0x276)]+'\x20('+this[_0x48acf2(0x5a3)]['wuid']+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x41e48d+'.\x20Pulando.');continue;}if(!this[_0x48acf2(0x5a3)][_0x48acf2(0x77)][_0x48acf2(0x580)]){this[_0x48acf2(0x672)][_0x48acf2(0x1f7)](this[_0x48acf2(0x276)]+'\x20('+this['instance']['wuid']+_0x48acf2(0x587));break;}if(!this['instance'][_0x48acf2(0x77)][_0x48acf2(0x51a)]){this[_0x48acf2(0x672)][_0x48acf2(0x1f7)](this[_0x48acf2(0x276)]+'\x20('+this['instance']['wuid']+_0x48acf2(0x689)+_0x4b6a28['_id']+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}if(_0x4b6a28[_0x48acf2(0x4a9)]===_0x48acf2(0x2a6)&&!this[_0x48acf2(0x167)]?.[_0x48acf2(0x40e)][_0x48acf2(0x10e)]){this['logger']['error'](this[_0x48acf2(0x276)]+'\x20('+this[_0x48acf2(0x5a3)][_0x48acf2(0x6ce)]+_0x48acf2(0x22c));break;}let _0x224a6b={'remoteJid':_0x41e48d,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date['now']()},_0x3cb768=null;try{let _0x400dc2=await this[_0x48acf2(0x594)](_0x41e48d,_0x4b6a28);_0x224a6b[_0x48acf2(0x14e)]=_0x400dc2[_0x48acf2(0x14e)],_0x224a6b['id']=_0x400dc2[_0x48acf2(0x14e)]?null:_0x400dc2['id'],_0x224a6b['error_log']=_0x400dc2[_0x48acf2(0x14e)]?_0x400dc2[_0x48acf2(0x65f)]?_0x400dc2[_0x48acf2(0x65f)]['toString']():'':null;let _0x2240cc={'$push':{'messagesSend':_0x224a6b},'$pull':{'remoteJidsRemaining':_0x41e48d}},_0x2ccc65=_0x4b6a28[_0x48acf2(0x637)];if(_0x3cb768=await this[_0x48acf2(0x79)][_0x48acf2(0x87)][_0x48acf2(0x626)](_0x2ccc65,_0x2240cc,this[_0x48acf2(0x5a3)][_0x48acf2(0x6ce)]),_0x400dc2[_0x48acf2(0x14e)])continue;let _0x2549f7=this[_0x48acf2(0x43b)](_0x4b6a28[_0x48acf2(0x59f)],_0x4b6a28[_0x48acf2(0xed)]);await this[_0x48acf2(0x206)](_0x2549f7);}catch(_0x3e5b1c){this[_0x48acf2(0x672)][_0x48acf2(0x14e)](this[_0x48acf2(0x276)]+'\x20('+this['instance']['wuid']+_0x48acf2(0x557)+_0x41e48d+':\x20'+(_0x3e5b1c instanceof Error?_0x3e5b1c[_0x48acf2(0x251)]:JSON['stringify'](_0x3e5b1c,null,0x2))),_0x224a6b[_0x48acf2(0x14e)]=!0x0,_0x224a6b['error_log']=_0x3e5b1c[_0x48acf2(0x251)];let _0x13692b={'$push':{'messagesSend':_0x224a6b},'$pull':{'remoteJidsRemaining':_0x41e48d}},_0x30af2a=_0x4b6a28['_id'];_0x3cb768=await this[_0x48acf2(0x79)]['scheduleMessage'][_0x48acf2(0x626)](_0x30af2a,_0x13692b,this[_0x48acf2(0x5a3)]['wuid']);}finally{if(_0x3cb768&&_0x3cb768[_0x48acf2(0x485)]===_0x48acf2(0x6bd)){this['logger']['verbose'](this[_0x48acf2(0x276)]+'\x20('+this['instance'][_0x48acf2(0x6ce)]+_0x48acf2(0x689)+_0x4b6a28[_0x48acf2(0x637)]+_0x48acf2(0x4b2));break;}}}let _0x213988=await this[_0x48acf2(0x79)][_0x48acf2(0x87)][_0x48acf2(0x5cf)](_0x4b6a28['_id'],this[_0x48acf2(0x5a3)][_0x48acf2(0x6ce)]);if(_0x213988[_0x48acf2(0x42e)][_0x48acf2(0x364)]===0x0&&_0x213988[_0x48acf2(0x485)]!=='stopped'){let _0x6e9f78={'$set':{'status':_0x48acf2(0x47b)}},_0x2dbad6=_0x213988[_0x48acf2(0x637)];await this[_0x48acf2(0x79)][_0x48acf2(0x87)][_0x48acf2(0x626)](_0x2dbad6,_0x6e9f78,this[_0x48acf2(0x5a3)][_0x48acf2(0x6ce)]);}await new Promise(_0x2bed58=>setTimeout(_0x2bed58,0x1388));}},_0x3cced6=async()=>{const _0x314242=a0_0x1ffd;let _0x2069b2={'where':{'status':_0x314242(0x519),'when':{'$gt':Date[_0x314242(0x5a1)]()}}},_0xedff3f=await this['repository'][_0x314242(0x87)][_0x314242(0x2a7)](_0x2069b2,this['instance']['wuid']);_0xedff3f&&_0xedff3f[_0x314242(0x461)]-Date['now']()<=0x5265c00?this['instance']['ScheduleMessage'][_0x314242(0xd8)]=_0xedff3f[_0x314242(0x461)]-Date[_0x314242(0x5a1)]():this['instance']['ScheduleMessage'][_0x314242(0xd8)]=(0x3c+Math[_0x314242(0x23f)](Math[_0x314242(0x4a4)]()*0x3c))*0x3c*0x3e8,this['instance']['ScheduleMessage']['delayMessage']=Math[_0x314242(0xaa)](this[_0x314242(0x5a3)][_0x314242(0x77)][_0x314242(0xd8)],0x7d0);let _0x19c281=Math[_0x314242(0x2e1)](this['instance'][_0x314242(0x77)][_0x314242(0xd8)]/0xea60);if(_0xedff3f){let _0x332082=new Date(_0xedff3f[_0x314242(0x461)])['toLocaleString']();this[_0x314242(0x672)][_0x314242(0x1f7)](this['instanceName']+'\x20('+this[_0x314242(0x5a3)][_0x314242(0x6ce)]+'):\x20encontrado\x20próxima\x20mensagem\x20para\x20'+_0x332082+_0x314242(0x60f)+_0x19c281+_0x314242(0x13e));}else this['logger']['verbose'](this[_0x314242(0x276)]+'\x20('+this[_0x314242(0x5a3)][_0x314242(0x6ce)]+_0x314242(0x5ec)+_0x19c281+_0x314242(0x13e));setTimeout(()=>this[_0x314242(0x3a9)](),this['instance'][_0x314242(0x77)]['delayMessage']);};if(this['instance'][_0x192fb0(0x77)][_0x192fb0(0x51a)]){await this[_0x192fb0(0x441)](),_0x2e5658();return;}if(!this[_0x192fb0(0x5a3)][_0x192fb0(0x77)]['isConnected']){this[_0x192fb0(0x672)][_0x192fb0(0x1f7)](this[_0x192fb0(0x276)]+'\x20('+this['instance']['wuid']+_0x192fb0(0x641)),this[_0x192fb0(0x5a3)][_0x192fb0(0x77)]['processing_id']=null,this['instance']['ScheduleMessage'][_0x192fb0(0x696)]=0x0,this['instance'][_0x192fb0(0x77)][_0x192fb0(0xd8)]=0x0,this['instance']['ScheduleMessage'][_0x192fb0(0x280)]=null;return;}try{let _0x2249e4=await _0x5ca419();_0x2249e4[_0x192fb0(0x364)]===0x0?this[_0x192fb0(0x672)][_0x192fb0(0x1f7)](this[_0x192fb0(0x276)]+'\x20('+this[_0x192fb0(0x5a3)][_0x192fb0(0x6ce)]+'):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.'):(this[_0x192fb0(0x5a3)][_0x192fb0(0x77)][_0x192fb0(0x51a)]=_0x2249e4[0x0][_0x192fb0(0x637)],await _0x426f4a(_0x2249e4)),await _0x3cced6(),this[_0x192fb0(0x5a3)][_0x192fb0(0x77)][_0x192fb0(0x51a)]=null,this[_0x192fb0(0x5a3)][_0x192fb0(0x77)]['ultimaTentativaRemoteJid']=null;}catch(_0x1064c2){this[_0x192fb0(0x672)][_0x192fb0(0x14e)](_0x192fb0(0x411)+(_0x1064c2 instanceof Error?_0x1064c2[_0x192fb0(0x251)]:JSON[_0x192fb0(0x611)](_0x1064c2,null,0x2)));}}[a0_0x4cf6e5(0x43b)](_0x37ebf9,_0x1bdef0){const _0x12f65a=a0_0x4cf6e5;return _0x37ebf9=Math['max'](0.5,_0x37ebf9),_0x1bdef0=Math['min'](Math[_0x12f65a(0xaa)](0x3,_0x1bdef0),0x78),Math['floor'](Math[_0x12f65a(0x4a4)]()*(_0x1bdef0-_0x37ebf9+0x1)+_0x37ebf9)*0x3e8;}['sleep'](_0x38e5e8){return new Promise(_0x408972=>setTimeout(_0x408972,_0x38e5e8));}async[a0_0x4cf6e5(0x236)](_0x17d7e3){const _0x4a69ae=a0_0x4cf6e5;if(!this[_0x4a69ae(0x167)]&&(await this[_0x4a69ae(0x197)](),!this[_0x4a69ae(0x167)]))return null;_0x17d7e3=this['createJid'](_0x17d7e3);let _0x1154d1=await this[_0x4a69ae(0x79)][_0x4a69ae(0x51b)][_0x4a69ae(0x2a7)]({'where':{'_id':_0x17d7e3}},this[_0x4a69ae(0x5a3)][_0x4a69ae(0x6ce)]),_0x11a09b={};if(_0x1154d1&&_0x1154d1['leadInfo']){let _0x275150=_0x1154d1[_0x4a69ae(0x5d0)];typeof _0x275150[_0x4a69ae(0x2b7)]==_0x4a69ae(0x407)&&(_0x11a09b[_0x4a69ae(0x2b7)]=_0x275150[_0x4a69ae(0x2b7)]),typeof _0x275150[_0x4a69ae(0xf8)]=='string'&&(_0x11a09b[_0x4a69ae(0xf8)]=_0x275150[_0x4a69ae(0xf8)]),typeof _0x275150[_0x4a69ae(0x105)]==_0x4a69ae(0x407)&&(_0x11a09b['email']=_0x275150[_0x4a69ae(0x105)]),typeof _0x275150[_0x4a69ae(0x63e)]==_0x4a69ae(0x407)&&(_0x11a09b['cpf']=_0x275150['cpf']),typeof _0x275150['status']==_0x4a69ae(0x407)&&(_0x11a09b[_0x4a69ae(0x485)]=_0x275150[_0x4a69ae(0x485)]),typeof _0x275150['notas']==_0x4a69ae(0x407)&&(_0x11a09b[_0x4a69ae(0x2cc)]=_0x275150[_0x4a69ae(0x2cc)]),typeof _0x275150[_0x4a69ae(0x680)]==_0x4a69ae(0x407)&&(_0x11a09b['responsavelid']=_0x275150[_0x4a69ae(0x680)]),Array[_0x4a69ae(0x513)](_0x275150[_0x4a69ae(0x5e0)])&&(_0x11a09b[_0x4a69ae(0x5e0)]=_0x275150[_0x4a69ae(0x5e0)]['join'](',\x20')),Array[_0x4a69ae(0x513)](_0x275150[_0x4a69ae(0x648)])&&(_0x11a09b[_0x4a69ae(0x648)]=_0x275150[_0x4a69ae(0x648)][_0x4a69ae(0x52f)](',\x20'));}return _0x1154d1&&_0x1154d1[_0x4a69ae(0x5d0)]&&_0x1154d1['leadInfo']['customFields']&&_0x1154d1[_0x4a69ae(0x5d0)][_0x4a69ae(0x2e0)]['forEach'](_0x3ebad7=>{const _0x292798=_0x4a69ae;let _0x24f661=this['AutomateSystem']?.['customFields'][_0x292798(0x531)](_0x23bfca=>_0x23bfca[_0x292798(0x637)]===_0x3ebad7[_0x292798(0x637)]);_0x24f661&&(_0x11a09b[_0x24f661[_0x292798(0x3ee)]]=_0x3ebad7[_0x292798(0x5f6)]);}),_0x11a09b;}async[a0_0x4cf6e5(0x271)](_0x40519b,_0x2f22ee){const _0x3c1e6c=a0_0x4cf6e5;let _0x215997=await this[_0x3c1e6c(0x236)](_0x2f22ee);return this[_0x3c1e6c(0x423)](_0x40519b,_0x215997);}async['editScheduleMessage'](_0x2e4e4e){const _0x45ed37=a0_0x4cf6e5;try{if(this[_0x45ed37(0x672)][_0x45ed37(0x1f7)](this[_0x45ed37(0x276)]+'\x20('+this['instance'][_0x45ed37(0x6ce)]+'):\x20Edit\x20schedule\x20message...'),_0x2e4e4e[_0x45ed37(0xff)]&&_0x2e4e4e[_0x45ed37(0x637)]){if(this['instance']['ScheduleMessage']['processing_id']===_0x2e4e4e[_0x45ed37(0x637)]['toString']())throw new Error(_0x45ed37(0x340));let _0x4a9ad4=await this[_0x45ed37(0x79)][_0x45ed37(0x87)][_0x45ed37(0x567)](_0x2e4e4e[_0x45ed37(0x637)],this[_0x45ed37(0x5a3)][_0x45ed37(0x6ce)]);return setTimeout(()=>this[_0x45ed37(0x3a9)](),0x7d0),_0x4a9ad4;}let _0x26bd63;if(_0x2e4e4e[_0x45ed37(0x637)]&&(_0x26bd63=await this[_0x45ed37(0x79)]['scheduleMessage'][_0x45ed37(0x5cf)](_0x2e4e4e['_id'],this[_0x45ed37(0x5a3)]['wuid'])),_0x26bd63){let _0x33ef63;if(this['instance'][_0x45ed37(0x77)][_0x45ed37(0x51a)]===_0x26bd63['_id'][_0x45ed37(0x69a)]())_0x33ef63={'$set':{'status':_0x2e4e4e[_0x45ed37(0x485)]}};else{let {_id:_0x5ddbb2,..._0xce61c0}=_0x2e4e4e;_0x33ef63={'$set':_0xce61c0};}let _0x5b08e1=await this[_0x45ed37(0x79)][_0x45ed37(0x87)][_0x45ed37(0x626)](_0x2e4e4e['_id'],_0x33ef63,this['instance'][_0x45ed37(0x6ce)]);return setTimeout(()=>this[_0x45ed37(0x3a9)](),0x7d0),_0x5b08e1;}else{_0x2e4e4e[_0x45ed37(0x32e)]=this['instance'][_0x45ed37(0x6ce)];let _0x26d31d=await this['repository'][_0x45ed37(0x87)]['createAndSave'](_0x2e4e4e,this['instance'][_0x45ed37(0x6ce)]);return setTimeout(()=>this[_0x45ed37(0x3a9)](),0x7d0),_0x26d31d;}}catch(_0x2dc76c){throw this[_0x45ed37(0x672)]['error'](this[_0x45ed37(0x276)]+'\x20('+this[_0x45ed37(0x5a3)][_0x45ed37(0x6ce)]+'):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20'+(_0x2dc76c instanceof Error?_0x2dc76c[_0x45ed37(0x251)]:JSON[_0x45ed37(0x611)](_0x2dc76c,null,0x2))),new w(_0x45ed37(0x66a)+_0x2dc76c[_0x45ed37(0x251)]);}}async[a0_0x4cf6e5(0xdf)](){const _0x17f2d5=a0_0x4cf6e5;try{return await this[_0x17f2d5(0x79)][_0x17f2d5(0x87)][_0x17f2d5(0x531)]({'where':{}},this[_0x17f2d5(0x5a3)][_0x17f2d5(0x6ce)]);}catch(_0x2ed0f2){throw this[_0x17f2d5(0x672)][_0x17f2d5(0x14e)](this['instanceName']+'\x20('+this[_0x17f2d5(0x5a3)][_0x17f2d5(0x6ce)]+_0x17f2d5(0x123)+(_0x2ed0f2 instanceof Error?_0x2ed0f2[_0x17f2d5(0x251)]:JSON[_0x17f2d5(0x611)](_0x2ed0f2,null,0x2))),new w('Erro:'+_0x2ed0f2[_0x17f2d5(0x251)]);}}async[a0_0x4cf6e5(0x334)](){const _0x41e8bf=a0_0x4cf6e5;try{let _0x589b8b={'status':'done'},_0xaa8e4d=await this[_0x41e8bf(0x79)][_0x41e8bf(0x87)][_0x41e8bf(0x15b)](_0x589b8b,this['instance'][_0x41e8bf(0x6ce)]);if(!_0xaa8e4d['error'])this['logger'][_0x41e8bf(0x1f7)](this[_0x41e8bf(0x276)]+'\x20('+this[_0x41e8bf(0x5a3)][_0x41e8bf(0x6ce)]+'):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.');else throw new Error(_0xaa8e4d[_0x41e8bf(0x14e)]['message']||_0x41e8bf(0x5a9));return this['getScheduleMessage']();}catch(_0xdfe7be){throw this[_0x41e8bf(0x672)][_0x41e8bf(0x14e)](this[_0x41e8bf(0x276)]+'\x20('+this[_0x41e8bf(0x5a3)][_0x41e8bf(0x6ce)]+_0x41e8bf(0x274)+(_0xdfe7be instanceof Error?_0xdfe7be['message']:JSON[_0x41e8bf(0x611)](_0xdfe7be,null,0x2))),new w(_0x41e8bf(0x66a)+_0xdfe7be[_0x41e8bf(0x251)]);}}async['SendScheduleMessage'](_0x3d9649,_0x1cb7eb){const _0x278d2b=a0_0x4cf6e5;try{if(_0x1cb7eb[_0x278d2b(0x4a9)]===_0x278d2b(0x2a6)&&!this[_0x278d2b(0x167)]?.[_0x278d2b(0x40e)][_0x278d2b(0x10e)])return this[_0x278d2b(0x672)][_0x278d2b(0x14e)](this['instanceName']+'\x20('+this['instance'][_0x278d2b(0x6ce)]+_0x278d2b(0x372)),{'error':!0x0,'detail':'Fluxos\x20não\x20estão\x20ativados'};switch(_0x1cb7eb[_0x278d2b(0x4a9)]){case'text':return await this[_0x278d2b(0x2b5)](_0x1cb7eb,_0x3d9649);case'media':return await this['scheduleSendMedia'](_0x1cb7eb,_0x3d9649);case _0x278d2b(0x450):return await this[_0x278d2b(0x1ce)](_0x1cb7eb,_0x3d9649);case _0x278d2b(0x2a6):let _0x37c564=new _e();return _0x37c564['name']=_0x1cb7eb[_0x278d2b(0x3ed)],_0x37c564[_0x278d2b(0x373)]=_0x3d9649,await this[_0x278d2b(0x3ef)](_0x37c564);break;default:return this[_0x278d2b(0x672)][_0x278d2b(0x14e)](this[_0x278d2b(0x276)]+'\x20('+this[_0x278d2b(0x5a3)][_0x278d2b(0x6ce)]+'):\x20Comando\x20desconhecido:\x20'+_0x1cb7eb[_0x278d2b(0x4a9)]),{'error':!0x0,'detail':'Comando\x20desconhecido'};}}catch(_0x1fb23c){return this[_0x278d2b(0x672)][_0x278d2b(0x14e)](this['instanceName']+'\x20('+this['instance'][_0x278d2b(0x6ce)]+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x1fb23c instanceof Error?_0x1fb23c[_0x278d2b(0x251)]:JSON[_0x278d2b(0x611)](_0x1fb23c,null,0x2))),{'error':!0x0,'detail':_0x1fb23c['message']};}}[a0_0x4cf6e5(0x491)](_0x29e2b3){const _0x4c7abd=a0_0x4cf6e5;let _0x40964d=_0x29e2b3[_0x4c7abd(0x3ad)]('|'),_0x20f2ca=Math[_0x4c7abd(0x23f)](Math[_0x4c7abd(0x4a4)]()*_0x40964d[_0x4c7abd(0x364)]);return _0x40964d[_0x20f2ca]['trim']();}async[a0_0x4cf6e5(0x2b5)](_0x44fbc8,_0x7abd58){const _0x35afe3=a0_0x4cf6e5;if(this[_0x35afe3(0x672)]['verbose'](this[_0x35afe3(0x276)]+'\x20('+this[_0x35afe3(0x5a3)][_0x35afe3(0x6ce)]+'):\x20Enviando\x20texto'),!_0x44fbc8[_0x35afe3(0x251)]['text']||_0x44fbc8[_0x35afe3(0x251)][_0x35afe3(0x118)]['length']===0x0)return{'error':!0x0,'detail':_0x35afe3(0x1eb)};let _0x44ebd3=this[_0x35afe3(0x491)](_0x44fbc8[_0x35afe3(0x251)][_0x35afe3(0x118)]),_0x34cddc=await this[_0x35afe3(0x271)](_0x44ebd3,_0x7abd58),_0x3d612f={'number':_0x7abd58,'options':{'delay':_0x44fbc8[_0x35afe3(0x251)][_0x35afe3(0x3da)]},'textMessage':{'text':_0x34cddc}},_0x23aa76=null;try{let _0xf1a2e=await this[_0x35afe3(0x63b)](_0x3d612f);if(_0xf1a2e&&_0xf1a2e['status'])return{'error':!0x1,'id':_0xf1a2e['key']['id']};_0x23aa76=JSON['stringify'](_0xf1a2e),this[_0x35afe3(0x672)][_0x35afe3(0x1f7)](this[_0x35afe3(0x276)]+'\x20('+this[_0x35afe3(0x5a3)][_0x35afe3(0x6ce)]+_0x35afe3(0xf9)+_0x23aa76);}catch(_0x4573a5){this['logger']['error'](this['instanceName']+'\x20('+this[_0x35afe3(0x5a3)][_0x35afe3(0x6ce)]+_0x35afe3(0x4f8)+(_0x4573a5 instanceof Error?_0x4573a5[_0x35afe3(0x251)]:JSON[_0x35afe3(0x611)](_0x4573a5,null,0x2))),_0x23aa76=_0x4573a5[_0x35afe3(0x251)];}if(_0x23aa76)return{'error':!0x0,'detail':(typeof _0x23aa76==_0x35afe3(0x224)?JSON['stringify'](_0x23aa76,null,0x2):_0x23aa76)[_0x35afe3(0x5fe)](/[\[\]{}\n]/g,'\x20')[_0x35afe3(0x5fe)](/  +/g,'\x20')};}async[a0_0x4cf6e5(0x262)](_0x166dc2,_0x3c8688){const _0x3df244=a0_0x4cf6e5;this[_0x3df244(0x672)][_0x3df244(0x1f7)](this[_0x3df244(0x276)]+'\x20('+this[_0x3df244(0x5a3)][_0x3df244(0x6ce)]+_0x3df244(0xf1));let _0x161206;if(_0x166dc2['message'][_0x3df244(0x118)]&&_0x166dc2['message'][_0x3df244(0x118)][_0x3df244(0x364)]>0x0){let _0x23cf6c=this[_0x3df244(0x491)](_0x166dc2[_0x3df244(0x251)][_0x3df244(0x118)]);_0x161206=await this['replaceVariablesChat'](_0x23cf6c,_0x3c8688);}let _0x263aed={'number':_0x3c8688,'options':{'delay':_0x166dc2[_0x3df244(0x251)][_0x3df244(0x3da)]},'mediaMessage':{'mediatype':_0x166dc2['message']['mediatype'],'caption':_0x161206,'media':_0x166dc2[_0x3df244(0x251)][_0x3df244(0x438)]}},_0xd0bbff=null;try{let _0x3a1331=await this[_0x3df244(0x6a8)](_0x263aed);if(_0x3a1331&&_0x3a1331[_0x3df244(0x485)])return{'error':!0x1,'id':_0x3a1331['key']['id']};_0xd0bbff=JSON[_0x3df244(0x611)](_0x3a1331),this[_0x3df244(0x672)]['verbose'](this[_0x3df244(0x276)]+'\x20('+this[_0x3df244(0x5a3)][_0x3df244(0x6ce)]+_0x3df244(0xf9)+_0xd0bbff);}catch(_0x15024f){this[_0x3df244(0x672)][_0x3df244(0x14e)](this[_0x3df244(0x276)]+'\x20('+this[_0x3df244(0x5a3)][_0x3df244(0x6ce)]+_0x3df244(0x65d)+(_0x15024f instanceof Error?_0x15024f[_0x3df244(0x251)]:JSON[_0x3df244(0x611)](_0x15024f,null,0x2))),_0xd0bbff=_0x15024f[_0x3df244(0x251)];}if(_0xd0bbff)return{'error':!0x0,'detail':(typeof _0xd0bbff=='object'?JSON[_0x3df244(0x611)](_0xd0bbff,null,0x2):_0xd0bbff)[_0x3df244(0x5fe)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async['scheduleSendAudio'](_0x1db700,_0x59fd3e){const _0x5f0881=a0_0x4cf6e5;this[_0x5f0881(0x672)][_0x5f0881(0x1f7)](this[_0x5f0881(0x276)]+'\x20('+this['instance'][_0x5f0881(0x6ce)]+'):\x20Enviando\x20áudio');let _0x577963={'number':_0x59fd3e,'options':{'delay':_0x1db700[_0x5f0881(0x251)][_0x5f0881(0x3da)]},'audioMessage':{'audio':_0x1db700[_0x5f0881(0x251)][_0x5f0881(0x438)]}},_0x23edf2=null;try{let _0x607b77=await this[_0x5f0881(0x39a)](_0x577963);if(_0x607b77&&_0x607b77[_0x5f0881(0x485)])return{'error':!0x1,'id':_0x607b77['key']['id']};_0x23edf2=JSON[_0x5f0881(0x611)](_0x607b77),this[_0x5f0881(0x672)][_0x5f0881(0x1f7)](this[_0x5f0881(0x276)]+'\x20('+this[_0x5f0881(0x5a3)][_0x5f0881(0x6ce)]+'):\x20'+_0x23edf2);}catch(_0x26f545){this['logger'][_0x5f0881(0x14e)](this['instanceName']+'\x20('+this[_0x5f0881(0x5a3)][_0x5f0881(0x6ce)]+_0x5f0881(0x501)+(_0x26f545 instanceof Error?_0x26f545['message']:JSON[_0x5f0881(0x611)](_0x26f545,null,0x2))),_0x23edf2=_0x26f545[_0x5f0881(0x251)];}if(_0x23edf2)return{'error':!0x0,'detail':(typeof _0x23edf2==_0x5f0881(0x224)?JSON[_0x5f0881(0x611)](_0x23edf2,null,0x2):_0x23edf2)['replace'](/[\[\]{}\n]/g,'\x20')[_0x5f0881(0x5fe)](/  +/g,'\x20')};}},$t=class c{constructor(_0xeced46,_0x342a6d,_0x2aa2f8){const _0x5592c7=a0_0x4cf6e5;this[_0x5592c7(0x338)]=_0xeced46,this[_0x5592c7(0x2e3)]=_0x342a6d,this[_0x5592c7(0x79)]=_0x2aa2f8,this['db']={},this[_0x5592c7(0x242)]={},this[_0x5592c7(0x672)]=new N(c[_0x5592c7(0x3ee)]),this[_0x5592c7(0x1dc)]={},(this['removeInstance'](),this[_0x5592c7(0x132)](),Object['assign'](this['db'],_0x342a6d[_0x5592c7(0x571)](_0x5592c7(0x694))),Object[_0x5592c7(0x122)](this[_0x5592c7(0x242)],_0x342a6d['get'](_0x5592c7(0x5f2))),this[_0x5592c7(0x459)]=this['db'][_0x5592c7(0x693)]?this[_0x5592c7(0x79)][_0x5592c7(0x333)]?.['db'](this['db'][_0x5592c7(0x5bc)][_0x5592c7(0x634)]+_0x5592c7(0x1b1)):void 0x0,this['cache']=this[_0x5592c7(0x242)][_0x5592c7(0x693)]?new oe(this[_0x5592c7(0x242)]):void 0x0);}async[a0_0x4cf6e5(0x16e)](_0x38d858){const _0x44a2f7=a0_0x4cf6e5;if(_0x38d858&&!this[_0x44a2f7(0x1dc)][_0x38d858])throw new k(_0x44a2f7(0x23d)+_0x38d858+'\x22\x20not\x20found');let _0x26c560=[];for await(let [_0x1e3efc,_0x4b8383]of Object[_0x44a2f7(0xc5)](this['waInstances']))if(_0x4b8383&&_0x4b8383[_0x44a2f7(0x406)]['state']==='open'){let _0x5c8faf=await this[_0x44a2f7(0x79)]['auth'][_0x44a2f7(0x531)](_0x1e3efc);_0x26c560[_0x44a2f7(0xc2)]({'instance':{'instanceName':_0x1e3efc,'apikey':_0x5c8faf['apikey'],'owner':_0x4b8383[_0x44a2f7(0x6ce)],'profileName':await _0x4b8383[_0x44a2f7(0x633)]()||_0x44a2f7(0x2d7),'profilePictureUrl':_0x4b8383[_0x44a2f7(0x29a)]}});}return _0x26c560[_0x44a2f7(0x531)](_0x2e7dc9=>_0x2e7dc9[_0x44a2f7(0x5a3)][_0x44a2f7(0x276)]===_0x38d858)??_0x26c560;}async[a0_0x4cf6e5(0x60e)](_0x3e3754){const _0x467b68=a0_0x4cf6e5;if(this['db'][_0x467b68(0x693)]&&(await this['repository']['dbServer']['connect'](),(await this[_0x467b68(0x459)][_0x467b68(0x2cd)]())[_0x467b68(0x364)]>0x0&&await this[_0x467b68(0x459)][_0x467b68(0x2c2)](_0x3e3754)),this[_0x467b68(0x242)][_0x467b68(0x693)]){this[_0x467b68(0x550)][_0x467b68(0x2c3)]=_0x3e3754,await this[_0x467b68(0x550)][_0x467b68(0x483)]();return;}}async[a0_0x4cf6e5(0x9c)](){const _0x4ccede=a0_0x4cf6e5;await this['InstancesAlterarTodas']();let _0x4c3512=async _0x532d6f=>{const _0x542ac9=a0_0x1ffd;let _0x3a233f=new ye(this[_0x542ac9(0x2e3)],this['eventEmitter'],this['repository']);_0x3a233f['instanceName']=_0x532d6f,await _0x3a233f[_0x542ac9(0x112)](),this[_0x542ac9(0x1dc)][_0x532d6f]=_0x3a233f;};try{if(this['redis'][_0x4ccede(0x693)]){let _0x30855a=await this['cache'][_0x4ccede(0x41d)]();_0x30855a?.[_0x4ccede(0x364)]>0x0&&_0x30855a[_0x4ccede(0x357)](async _0x28df29=>await _0x4c3512(_0x28df29[_0x4ccede(0x3ad)](':')[0x1]));return;}if(this['db'][_0x4ccede(0x693)]){await this['repository'][_0x4ccede(0x333)][_0x4ccede(0x18a)]();let _0x5b4726=await this[_0x4ccede(0x459)][_0x4ccede(0x2cd)]();_0x5b4726['length']>0x0&&_0x5b4726[_0x4ccede(0x357)](async _0x115fd8=>await _0x4c3512(_0x115fd8[_0x4ccede(0x8a)][_0x4ccede(0x5fe)](/^[\w-]+\./,'')));return;}}catch(_0x4e1ddf){this[_0x4ccede(0x672)][_0x4ccede(0x14e)](_0x4e1ddf);}}async[a0_0x4cf6e5(0x5ff)](){const _0x12550b=a0_0x4cf6e5;let _0x1fdcb7=await this['repository'][_0x12550b(0x1a1)][_0x12550b(0x6a1)](),_0x144eff=_0x1fdcb7[_0x12550b(0x4dd)](_0x531822=>!this[_0x12550b(0x1dc)][_0x531822[_0x12550b(0x637)]]&&(_0x531822[_0x12550b(0x1bc)]||typeof _0x531822[_0x12550b(0x1bc)]>'u'));_0x144eff[_0x12550b(0x364)]>0x0&&await Promise[_0x12550b(0xc8)](_0x144eff['map'](async _0x1598c0=>{const _0x1408d7=_0x12550b;let _0x5f51d8={'online':!0x1,'lastDisconnect':Date[_0x1408d7(0x5a1)]()};await this['repository']['auth']['create'](_0x5f51d8,_0x1598c0[_0x1408d7(0x637)]);}));let _0x5d2833=Date[_0x12550b(0x5a1)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x63419b=_0x1fdcb7[_0x12550b(0x4dd)](_0x561616=>!this[_0x12550b(0x1dc)][_0x561616[_0x12550b(0x637)]]&&typeof _0x561616[_0x12550b(0x65a)]<'u'&&_0x561616[_0x12550b(0x65a)]<_0x5d2833);_0x63419b[_0x12550b(0x364)]>0x0&&await Promise['all'](_0x63419b[_0x12550b(0x2ad)](async _0xfee42a=>{}));}async[a0_0x4cf6e5(0x346)](){const _0x2d9696=a0_0x4cf6e5;try{let _0x764b4e={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x283d82={'online':!0x1,'lastDisconnect':Date[_0x2d9696(0x5a1)]()},_0x407bc2=await this['repository'][_0x2d9696(0x1a1)]['updateAll'](_0x764b4e,_0x283d82);console['log'](_0x2d9696(0x386)+_0x407bc2[_0x2d9696(0x190)]),await this['removeOlderDisconnectedInstances']();}catch(_0x694926){console[_0x2d9696(0x14e)](_0x2d9696(0x12b),_0x694926);}}async['removeOlderDisconnectedInstances'](){const _0x3da17f=a0_0x4cf6e5;try{let _0x453f1c={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x11fb3a=await this['repository'][_0x3da17f(0x1a1)][_0x3da17f(0x15b)](_0x453f1c);console[_0x3da17f(0x2e6)](_0x3da17f(0x434)+_0x11fb3a[_0x3da17f(0x190)]);}catch(_0x1960ac){console[_0x3da17f(0x14e)](_0x3da17f(0x33c),_0x1960ac);}}[a0_0x4cf6e5(0x640)](){const _0x5bd17d=a0_0x4cf6e5;this[_0x5bd17d(0x338)]['on']('remove.instance',async _0x14f939=>{const _0x168cab=_0x5bd17d;try{this['waInstances'][_0x14f939]=void 0x0;}catch{}try{this[_0x168cab(0x60e)](_0x14f939);}finally{this[_0x168cab(0x672)]['warn']('Instance\x20\x22'+_0x14f939+_0x168cab(0x103));}});}[a0_0x4cf6e5(0x132)](){const _0x11a512=a0_0x4cf6e5;this[_0x11a512(0x338)]['on']('no.connection',async _0x5de81b=>{const _0xa56573=_0x11a512;try{this[_0xa56573(0x1dc)][_0x5de81b]=void 0x0;}catch{}try{this[_0xa56573(0x60e)](_0x5de81b);}finally{this['logger'][_0xa56573(0xb5)]('Instance\x20\x22'+_0x5de81b+_0xa56573(0x23b));}});}},kt=class extends D{[a0_0x4cf6e5(0x2d5)](_0x5c937c){return Vs(_0x5c937c);}async[a0_0x4cf6e5(0x359)](_0x1dd1bb){const _0x50218c=a0_0x4cf6e5;if(_0x1dd1bb[_0x50218c(0x364)]!==0x0)try{return{'insertCount':(await this[_0x50218c(0x2d5)](_0x1dd1bb[0x0][_0x50218c(0x32e)])[_0x50218c(0x676)]([..._0x1dd1bb]))[_0x50218c(0x364)]};}catch(_0x4f6370){return _0x4f6370;}}async[a0_0x4cf6e5(0x531)](_0x20822d,_0x588d73){const _0x4e001e=a0_0x4cf6e5;try{let _0x10049f=this['getChatModelForOwner'](_0x588d73),_0x2334e9=A(_0x20822d['where']);return await _0x10049f['find'](_0x2334e9)[_0x4e001e(0x6e8)]({'lastmsg':-0x1})[_0x4e001e(0xc0)](_0x20822d?.[_0x4e001e(0xc0)]??0x0)[_0x4e001e(0x94)]();}catch{return[];}}async['deleteAll'](_0x1e4df2,_0x1657c4){const _0x61cfb9=a0_0x4cf6e5;try{return await this['getChatModelForOwner'](_0x1657c4)[_0x61cfb9(0x15b)]({..._0x1e4df2[_0x61cfb9(0x2f0)]}),[];}catch(_0x25b9b3){return{'error':_0x25b9b3?.[_0x61cfb9(0x69a)]()};}}async[a0_0x4cf6e5(0x2a7)](_0x55fc91,_0x26425b){const _0x330497=a0_0x4cf6e5;try{let _0x328ab8=this['getChatModelForOwner'](_0x26425b),_0x130424=A(_0x55fc91[_0x330497(0x2f0)]);return await _0x328ab8['findOne'](_0x130424)[_0x330497(0x94)]();}catch{return null;}}async['updateOne'](_0x52257e,_0xf8ee29,_0x5a3200,_0x4803f6,_0x24f326=a0_0x4cf6e5(0x55a)){const _0x5912f5=a0_0x4cf6e5;try{let _0x552728={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x4803f6},_0x2910f5=this['getChatModelForOwner'](_0x5a3200),_0x1e66cc=A(_0x52257e['where']);Object[_0x5912f5(0x4d7)](_0xf8ee29)[_0x5912f5(0x357)](_0x2c5aef=>{_0xf8ee29[_0x2c5aef]==null&&delete _0xf8ee29[_0x2c5aef];});let _0x19362f={};return _0x19362f[_0x24f326]=_0xf8ee29,await _0x2910f5[_0x5912f5(0x266)](_0x1e66cc,_0x19362f,_0x552728);}catch(_0x906196){return console[_0x5912f5(0x14e)](_0x906196),null;}}async[a0_0x4cf6e5(0x1e4)](_0x23acb2){const _0x4b49fd=a0_0x4cf6e5;try{let _0x25fa9d=this[_0x4b49fd(0x2d5)](_0x23acb2[0x0]['query'][_0x4b49fd(0x2f0)][_0x4b49fd(0x32e)]),_0x239715=_0x23acb2['map'](_0x41db36=>({'updateOne':{'filter':{..._0x41db36[_0x4b49fd(0x42c)][_0x4b49fd(0x2f0)]},'update':{'$set':_0x41db36[_0x4b49fd(0x225)]},'upsert':!0x0}})),_0x1ff75e=await _0x25fa9d[_0x4b49fd(0x551)](_0x239715);return _0x1ff75e[_0x4b49fd(0x28b)]+_0x1ff75e[_0x4b49fd(0x3b1)];}catch(_0x10c8d0){return console['error'](_0x10c8d0),0x0;}}async[a0_0x4cf6e5(0x73)](_0x1b8e54){const _0xc48d75=a0_0x4cf6e5;try{let _0x346379=this[_0xc48d75(0x2d5)](_0x1b8e54),_0x316861={'labels':{'$exists':!0x0}},_0x5080bd={'$unset':{'labels':''}};return(await _0x346379[_0xc48d75(0x1e4)](_0x316861,_0x5080bd))[_0xc48d75(0x28b)];}catch(_0x426c10){return console[_0xc48d75(0x14e)](_0x426c10),0x0;}}async[a0_0x4cf6e5(0x4c7)](_0x113111){const _0x179673=a0_0x4cf6e5;try{let _0x269625=this[_0x179673(0x2d5)](_0x113111),_0x31c83d={'leadInfo.etiquetas':{'$exists':!0x1}},_0x17afe6={'$set':{'leadInfo.etiquetas':[]}};return(await _0x269625['updateMany'](_0x31c83d,_0x17afe6))[_0x179673(0x28b)];}catch(_0x495a1e){return console[_0x179673(0x14e)](_0x495a1e),0x0;}}async[a0_0x4cf6e5(0x3dd)](_0xa1f22c){const _0x476b45=a0_0x4cf6e5;try{let _0x1daef6=this[_0x476b45(0x2d5)](_0xa1f22c),_0x3408a7={'leadInfo.tags':{'$exists':!0x1}},_0x2f7ddf={'$set':{'leadInfo.tags':[]}};return(await _0x1daef6['updateMany'](_0x3408a7,_0x2f7ddf))[_0x476b45(0x28b)];}catch(_0x2bf00a){return console[_0x476b45(0x14e)](_0x2bf00a),0x0;}}async[a0_0x4cf6e5(0x32a)](_0x186a50){const _0x432e01=a0_0x4cf6e5;try{let _0x3ae5c2=this[_0x432e01(0x2d5)](_0x186a50),_0x2a42eb={'leadInfo.customFields':{'$exists':!0x1}},_0x369ab8={'$set':{'leadInfo.customFields':[]}};return(await _0x3ae5c2[_0x432e01(0x1e4)](_0x2a42eb,_0x369ab8))[_0x432e01(0x28b)];}catch(_0x12eab1){return console[_0x432e01(0x14e)](_0x12eab1),0x0;}}async[a0_0x4cf6e5(0x676)](_0x372537,_0x4bc3c3){const _0x3cfc70=a0_0x4cf6e5;if(!Array[_0x3cfc70(0x513)](_0x372537)||_0x372537['length']===0x0)throw new Error('Nenhum\x20chat\x20fornecido\x20para\x20inserção.');try{return(await this[_0x3cfc70(0x2d5)](_0x4bc3c3)[_0x3cfc70(0x676)](_0x372537))[_0x3cfc70(0x364)];}catch(_0x52adc0){throw console[_0x3cfc70(0x14e)](_0x3cfc70(0x41e),_0x52adc0),_0x52adc0;}}async[a0_0x4cf6e5(0x52d)](_0x34dc61,_0x50c3b1){const _0x3abcfd=a0_0x4cf6e5;try{await this[_0x3abcfd(0x2d5)](_0x50c3b1)[_0x3abcfd(0x567)]({'_id':_0x34dc61});}catch(_0x22b71d){throw console[_0x3abcfd(0x14e)](_0x3abcfd(0x4c9),_0x22b71d),_0x22b71d;}}},Lt=class extends D{['getLabelModelForOwner'](_0xdc1346){return ha(_0xdc1346);}async[a0_0x4cf6e5(0x376)](_0x4ab3a1,_0x5e421f,_0x2e557b,_0x48038e){const _0x152586=a0_0x4cf6e5;try{let _0x16fe90={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x48038e},_0x4224da=this['getLabelModelForOwner'](_0x2e557b),_0x51b1dc=A(_0x4ab3a1[_0x152586(0x2f0)]);return await _0x4224da[_0x152586(0x266)](_0x51b1dc,{'$set':_0x5e421f},_0x16fe90);}catch(_0x511f2d){return console[_0x152586(0x14e)](_0x511f2d),null;}}async[a0_0x4cf6e5(0x531)](_0x55bb2d,_0x276d81){const _0xe881ca=a0_0x4cf6e5;try{let _0xa7d825=this[_0xe881ca(0x252)](_0x276d81),_0x55c402=A(_0x55bb2d[_0xe881ca(0x2f0)]);return await _0xa7d825[_0xe881ca(0x531)](_0x55c402);}catch(_0x59f45b){console[_0xe881ca(0x14e)](_0x59f45b);}}async['delete'](_0x14cd28,_0x311420){const _0x57914a=a0_0x4cf6e5;try{let _0x411e4f=this[_0x57914a(0x252)](_0x311420),_0x2ee8fe=A(_0x14cd28[_0x57914a(0x2f0)]);await _0x411e4f[_0x57914a(0x15b)](_0x2ee8fe);}catch(_0x375618){console[_0x57914a(0x14e)](_0x375618);}}async[a0_0x4cf6e5(0x3cf)](_0x234496){const _0x991bb6=a0_0x4cf6e5;try{return await this[_0x991bb6(0x252)](_0x234496)[_0x991bb6(0x381)][_0x991bb6(0x2bc)](),{'success':!0x0};}catch(_0x555b33){return console[_0x991bb6(0x14e)](_0x555b33),{'success':!0x1,'error':_0x555b33};}}},Ft=class{constructor(_0xe95a5a){const _0x2eb1c2=a0_0x4cf6e5;this[_0x2eb1c2(0x2a5)]=_0xe95a5a;}async[a0_0x4cf6e5(0x38d)]({instanceName:_0x56d023},_0x223f8b){const _0x157e1e=a0_0x4cf6e5;return await this[_0x157e1e(0x2a5)]['waInstances'][_0x56d023][_0x157e1e(0x38d)](_0x223f8b);}async[a0_0x4cf6e5(0x6c5)]({instanceName:_0x4a922e},_0x9e817e){const _0x334c76=a0_0x4cf6e5;return await this[_0x334c76(0x2a5)][_0x334c76(0x1dc)][_0x4a922e][_0x334c76(0x6c5)](_0x9e817e);}async['importChats']({instanceName:_0xa62e60},_0x3dcc0e){const _0x418b13=a0_0x4cf6e5;return await this[_0x418b13(0x2a5)]['waInstances'][_0xa62e60]['importChats'](_0x3dcc0e);}async[a0_0x4cf6e5(0x663)]({instanceName:_0x360079},_0x5be024){const _0xe72488=a0_0x4cf6e5;return await this[_0xe72488(0x2a5)][_0xe72488(0x1dc)][_0x360079][_0xe72488(0x562)](_0x5be024);}async[a0_0x4cf6e5(0x487)]({instanceName:_0x16dc45},_0x4d0a97){const _0x4c07af=a0_0x4cf6e5;return await this[_0x4c07af(0x2a5)][_0x4c07af(0x1dc)][_0x16dc45]['archiveChat'](_0x4d0a97);}async['deleteMessage']({instanceName:_0x900f57},_0x1199d4){const _0x4ec66e=a0_0x4cf6e5;return await this[_0x4ec66e(0x2a5)]['waInstances'][_0x900f57]['deleteMessage'](_0x1199d4);}async['fetchProfilePicture']({instanceName:_0x2814d4},_0x140034){const _0x55da0f=a0_0x4cf6e5;return await this['waMonitor']['waInstances'][_0x2814d4][_0x55da0f(0x619)](_0x140034[_0x55da0f(0x344)]);}async[a0_0x4cf6e5(0x5c1)]({instanceName:_0x3edd55},_0x42b097){const _0xfc4fce=a0_0x4cf6e5;return await this[_0xfc4fce(0x2a5)]['waInstances'][_0x3edd55][_0xfc4fce(0x5c1)](_0x42b097[_0xfc4fce(0x344)]);}async[a0_0x4cf6e5(0x308)]({instanceName:_0x514748},_0x1c505a){const _0x452dc9=a0_0x4cf6e5;return await this[_0x452dc9(0x2a5)][_0x452dc9(0x1dc)][_0x514748][_0x452dc9(0x308)](_0x1c505a);}async[a0_0x4cf6e5(0x5da)]({instanceName:_0x200378},_0x414169){const _0x3abfd3=a0_0x4cf6e5;return await this['waMonitor']['waInstances'][_0x200378][_0x3abfd3(0x5da)](_0x414169);}async[a0_0x4cf6e5(0x270)]({instanceName:_0x35d072},_0x2c852d){const _0xe66e40=a0_0x4cf6e5;return await this[_0xe66e40(0x2a5)]['waInstances'][_0x35d072][_0xe66e40(0x270)](_0x2c852d);}async[a0_0x4cf6e5(0x39b)]({instanceName:_0x3ee0ad},_0x1a7fed){const _0xe052ca=a0_0x4cf6e5;return await this[_0xe052ca(0x2a5)][_0xe052ca(0x1dc)][_0x3ee0ad][_0xe052ca(0x39b)](_0x1a7fed);}async[a0_0x4cf6e5(0x2ec)]({instanceName:_0x5607b4}){const _0x36b312=a0_0x4cf6e5;return await this['waMonitor']['waInstances'][_0x5607b4][_0x36b312(0x2ec)]();}async['fetchChats']({instanceName:_0x3d53c9}){const _0x2c0801=a0_0x4cf6e5;return await this['waMonitor'][_0x2c0801(0x1dc)][_0x3d53c9][_0x2c0801(0x51e)]();}async[a0_0x4cf6e5(0x435)]({instanceName:_0x45bc9e}){const _0x414292=a0_0x4cf6e5;return await this[_0x414292(0x2a5)][_0x414292(0x1dc)][_0x45bc9e]['fetchPrivacySettings']();}async[a0_0x4cf6e5(0x41b)]({instanceName:_0x4c90c1},_0x37731e){const _0x3708bf=a0_0x4cf6e5;return await this[_0x3708bf(0x2a5)]['waInstances'][_0x4c90c1][_0x3708bf(0x41b)](_0x37731e);}async[a0_0x4cf6e5(0x397)]({instanceName:_0x122b78},_0x345091){const _0x52556d=a0_0x4cf6e5;return await this['waMonitor'][_0x52556d(0x1dc)][_0x122b78][_0x52556d(0x397)](_0x345091[_0x52556d(0x344)]);}async[a0_0x4cf6e5(0x326)]({instanceName:_0x26a44d},_0xf63a16){const _0x548038=a0_0x4cf6e5;return await this['waMonitor'][_0x548038(0x1dc)][_0x26a44d]['updateProfileName'](_0xf63a16[_0x548038(0x3ee)]);}async[a0_0x4cf6e5(0x58e)]({instanceName:_0x279a5c},_0x2d3c48){const _0x192456=a0_0x4cf6e5;return await this[_0x192456(0x2a5)][_0x192456(0x1dc)][_0x279a5c][_0x192456(0x58e)](_0x2d3c48[_0x192456(0x485)]);}async[a0_0x4cf6e5(0x62f)]({instanceName:_0x15972f},_0x382866){const _0x20bddd=a0_0x4cf6e5;return await this[_0x20bddd(0x2a5)][_0x20bddd(0x1dc)][_0x15972f][_0x20bddd(0x62f)](_0x382866[_0x20bddd(0x425)]);}async[a0_0x4cf6e5(0x617)]({instanceName:_0x29a8c3},_0xc37c94){const _0x41f45e=a0_0x4cf6e5;return await this[_0x41f45e(0x2a5)][_0x41f45e(0x1dc)][_0x29a8c3]['removeProfilePicture']();}},Ts=require(a0_0x4cf6e5(0x2b6)),jt=class c{constructor(_0x161f7f,_0x4d1007,_0x5b703c,_0x3d0d45,_0x2d3f8c){const _0x5f054c=a0_0x4cf6e5;this['waMonitor']=_0x161f7f,this['configService']=_0x4d1007,this[_0x5f054c(0x79)]=_0x5b703c,this[_0x5f054c(0x338)]=_0x3d0d45,this['authService']=_0x2d3f8c,this[_0x5f054c(0x672)]=new N(c[_0x5f054c(0x3ee)]);}async[a0_0x4cf6e5(0x23c)]({instanceName:_0x5bdc0a,apikey:_0x14d3b2,number:_0x223af4,proxy:_0x5445d0=!0x0}){const _0xca1c1=a0_0x4cf6e5;try{let _0xb6ff03=new ye(this['configService'],this['eventEmitter'],this[_0xca1c1(0x79)]);_0xb6ff03[_0xca1c1(0x276)]=_0x5bdc0a,this[_0xca1c1(0x2a5)][_0xca1c1(0x1dc)][_0xb6ff03['instanceName']]=_0xb6ff03;let _0x406e11={};_0x14d3b2?(await this['repository'][_0xca1c1(0x1a1)][_0xca1c1(0x638)]({'apikey':_0x14d3b2},_0x5bdc0a),_0x406e11['apikey']=_0x14d3b2):_0x406e11=await this[_0xca1c1(0x14a)]['generateHash']({'instanceName':_0xb6ff03['instanceName']});let _0x3ce628;return await _0xb6ff03[_0xca1c1(0x112)](_0x223af4),await(0x0,Ts[_0xca1c1(0x3da)])(0x7d0),_0x3ce628=_0xb6ff03[_0xca1c1(0xce)],{'instance':{'instanceName':_0xb6ff03['instanceName'],'status':_0xca1c1(0x698)},'hash':_0x406e11,'qrcode':_0x3ce628};}catch(_0x3b4c4d){this[_0xca1c1(0x672)]['error'](_0x3b4c4d);}}async[a0_0x4cf6e5(0x297)]({instanceName:_0x3a9531,number:_0x584248=null}){const _0x509c9b=a0_0x4cf6e5;try{let _0x158691=this[_0x509c9b(0x2a5)][_0x509c9b(0x1dc)][_0x3a9531];switch(_0x158691?.[_0x509c9b(0x406)]?.[_0x509c9b(0x3c7)]){case _0x509c9b(0x607):return await _0x158691[_0x509c9b(0x112)](_0x584248),await(0x0,Ts['delay'])(0x7d0),_0x158691[_0x509c9b(0xce)];case _0x509c9b(0x5cc):return _0x158691[_0x509c9b(0xce)];default:return await this[_0x509c9b(0x349)]({'instanceName':_0x3a9531});}}catch(_0x5b7c99){this['logger'][_0x509c9b(0x2e6)](_0x5b7c99);}}async['connectionState']({instanceName:_0x27dfa2}){const _0x35ea09=a0_0x4cf6e5;let _0x7c1b5b=this[_0x35ea09(0x2a5)][_0x35ea09(0x1dc)][_0x27dfa2][_0x35ea09(0x406)],_0x5f0e10=null;_0x7c1b5b[_0x35ea09(0x3c7)]===_0x35ea09(0x2ca)&&_0x27dfa2&&(_0x5f0e10=await this[_0x35ea09(0x2a5)][_0x35ea09(0x16e)](_0x27dfa2));let _0xff1a27=null;return _0x7c1b5b[_0x35ea09(0x3c7)]===_0x35ea09(0x5cc)&&_0x27dfa2&&(_0xff1a27=this[_0x35ea09(0x2a5)][_0x35ea09(0x1dc)][_0x27dfa2]['qrCode']),{'instance':_0x27dfa2,'connectionStatus':_0x7c1b5b,'instanceInfo':_0x5f0e10,'qrcode':_0xff1a27};}async[a0_0x4cf6e5(0x13a)]({instanceName:_0x5bb646}){const _0x293b9f=a0_0x4cf6e5;try{return this['waMonitor']['waInstances'][_0x5bb646]?.[_0x293b9f(0x163)]?.['ws']?.[_0x293b9f(0x607)](),{'status':_0x293b9f(0xe0),'error':!0x1,'response':{'message':_0x293b9f(0x17e)}};}catch(_0x2639c5){this[_0x293b9f(0x672)]['error'](_0x2639c5);}}async['fetchInstances']({instanceName:_0x89748d}){const _0x5c375d=a0_0x4cf6e5;return _0x89748d?this[_0x5c375d(0x2a5)][_0x5c375d(0x16e)](_0x89748d):this[_0x5c375d(0x2a5)]['instanceInfo']();}async[a0_0x4cf6e5(0x10a)]({instanceName:_0x2fd60b}){const _0x54bfed=a0_0x4cf6e5;try{return await this[_0x54bfed(0x2a5)][_0x54bfed(0x1dc)][_0x2fd60b]?.['client']?.[_0x54bfed(0x10a)]('Log\x20out\x20instance:\x20'+_0x2fd60b),{'error':!0x1,'message':_0x54bfed(0x180)};}catch(_0x1bcc1e){throw new I(_0x1bcc1e[_0x54bfed(0x69a)]());}}async[a0_0x4cf6e5(0x102)]({instanceName:_0x4761bb}){const _0x5cde0f=a0_0x4cf6e5;if((await this[_0x5cde0f(0x349)]({'instanceName':_0x4761bb}))[_0x5cde0f(0x406)][_0x5cde0f(0x3c7)]===_0x5cde0f(0x2ca))throw new w(['Deletion\x20failed',_0x5cde0f(0x6d1)]);try{return delete this['waMonitor'][_0x5cde0f(0x1dc)][_0x4761bb],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x3851a4){throw new w(_0x3851a4[_0x5cde0f(0x69a)]());}}},X=require('class-validator'),Ut=class{constructor(_0x28a40d){const _0x4ebc87=a0_0x4cf6e5;this[_0x4ebc87(0x2a5)]=_0x28a40d;}async['sendText']({instanceName:_0x55a62d},_0x4e9595){const _0x3d374f=a0_0x4cf6e5;return await this[_0x3d374f(0x2a5)]['waInstances'][_0x55a62d][_0x3d374f(0x63b)](_0x4e9595);}async['sendMenu']({instanceName:_0x5c0dba},_0x17415e){const _0x586f6e=a0_0x4cf6e5;return await this[_0x586f6e(0x2a5)][_0x586f6e(0x1dc)][_0x5c0dba][_0x586f6e(0x202)](_0x17415e);}async[a0_0x4cf6e5(0x3a0)]({instanceName:_0x4df34},_0x2c8315){const _0x274847=a0_0x4cf6e5;if((0x0,X[_0x274847(0x4b4)])(_0x2c8315?.[_0x274847(0x6a8)]?.['media'])&&!_0x2c8315?.[_0x274847(0x6a8)]?.[_0x274847(0x556)])throw new w(_0x274847(0x3e0));if((0x0,X['isURL'])(_0x2c8315?.[_0x274847(0x6a8)]?.[_0x274847(0x312)])||(0x0,X[_0x274847(0x4b4)])(_0x2c8315?.[_0x274847(0x6a8)]?.['media']))return await this[_0x274847(0x2a5)]['waInstances'][_0x4df34][_0x274847(0x6a8)](_0x2c8315);throw new w(_0x274847(0x92));}async[a0_0x4cf6e5(0x447)]({instanceName:_0x807083},_0x470d9e){const _0x1cdc7b=a0_0x4cf6e5;if((0x0,X[_0x1cdc7b(0x26e)])(_0x470d9e[_0x1cdc7b(0x2c7)]['image'])||(0x0,X['isBase64'])(_0x470d9e[_0x1cdc7b(0x2c7)][_0x1cdc7b(0x43e)]))return await this['waMonitor'][_0x1cdc7b(0x1dc)][_0x807083][_0x1cdc7b(0x1fa)](_0x470d9e);throw new w('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x4cf6e5(0x520)]({instanceName:_0x48856d},_0x1ad763){const _0x61e876=a0_0x4cf6e5;if((0x0,X[_0x61e876(0x26e)])(_0x1ad763[_0x61e876(0x3f4)][_0x61e876(0x450)])||(0x0,X[_0x61e876(0x4b4)])(_0x1ad763[_0x61e876(0x3f4)][_0x61e876(0x450)]))return await this[_0x61e876(0x2a5)][_0x61e876(0x1dc)][_0x48856d][_0x61e876(0x39a)](_0x1ad763);throw new w('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async['sendButtons']({instanceName:_0xf4fa6},_0x2c3573){const _0x4d1b33=a0_0x4cf6e5;if((0x0,X['isBase64'])(_0x2c3573[_0x4d1b33(0x27d)][_0x4d1b33(0x6a8)]?.['media'])&&!_0x2c3573[_0x4d1b33(0x27d)]['mediaMessage']?.[_0x4d1b33(0x556)])throw new w(_0x4d1b33(0x3e0));return await this[_0x4d1b33(0x2a5)]['waInstances'][_0xf4fa6][_0x4d1b33(0x27d)](_0x2c3573);}async[a0_0x4cf6e5(0x13f)]({instanceName:_0x5470a5},_0x2dcd1e){return await this['waMonitor']['waInstances'][_0x5470a5]['locationMessage'](_0x2dcd1e);}async[a0_0x4cf6e5(0x42d)]({instanceName:_0x4ceb95},_0x234d55){const _0xa663f6=a0_0x4cf6e5;return await this['waMonitor'][_0xa663f6(0x1dc)][_0x4ceb95]['pollMessage'](_0x234d55);}async[a0_0x4cf6e5(0x3f8)]({instanceName:_0x3589ac},_0x5310b6){const _0x180061=a0_0x4cf6e5;return await this[_0x180061(0x2a5)][_0x180061(0x1dc)][_0x3589ac][_0x180061(0x6d5)](_0x5310b6);}async['sendContact']({instanceName:_0x1ae17a},_0x3cfcae){const _0x5591d2=a0_0x4cf6e5;return await this[_0x5591d2(0x2a5)][_0x5591d2(0x1dc)][_0x1ae17a][_0x5591d2(0x442)](_0x3cfcae);}async['sendReaction']({instanceName:_0x464ff3},_0x353d8f){const _0x49f366=a0_0x4cf6e5;if(!_0x353d8f['reactionMessage'][_0x49f366(0x56a)][_0x49f366(0x598)](/[^\(\)\w\sà-ú"-\+]+/))throw new w(_0x49f366(0x145));return await this[_0x49f366(0x2a5)]['waInstances'][_0x464ff3][_0x49f366(0x74)](_0x353d8f);}async['sendStatus']({instanceName:_0x49c900},_0x34113e){const _0x47cd6b=a0_0x4cf6e5;return await this[_0x47cd6b(0x2a5)][_0x47cd6b(0x1dc)][_0x49c900][_0x47cd6b(0x65c)](_0x34113e);}},Cr=require('jsonwebtoken'),Os=require(a0_0x4cf6e5(0x21f)),qt=class c{constructor(_0x510082,_0x4a6ad6,_0x3154af){const _0x426bd2=a0_0x4cf6e5;this[_0x426bd2(0x2e3)]=_0x510082,this['waMonitor']=_0x4a6ad6,this[_0x426bd2(0x79)]=_0x3154af,this['logger']=new N(c[_0x426bd2(0x3ee)]);}async['jwt'](_0x5762bc){const _0x11b836=a0_0x4cf6e5;let _0x46747f=this[_0x11b836(0x2e3)]['get'](_0x11b836(0x237))[_0x11b836(0x568)],_0x478957=(0x0,Cr[_0x11b836(0x142)])({'instanceName':_0x5762bc[_0x11b836(0x276)],'apiName':He,'tokenId':(0x0,Os['v4'])()},_0x46747f[_0x11b836(0x374)],{'expiresIn':_0x46747f[_0x11b836(0x29f)],'encoding':'utf8','subject':_0x11b836(0x539)}),_0x9e030=await this[_0x11b836(0x79)]['auth'][_0x11b836(0x638)]({'jwt':_0x478957},_0x5762bc['instanceName']);if(_0x9e030[_0x11b836(0x14e)])throw this[_0x11b836(0x672)][_0x11b836(0x14e)]({'localError':c[_0x11b836(0x3ee)]+_0x11b836(0x209),'error':_0x9e030['error']}),new w(_0x11b836(0x3b0),_0x9e030['error']?.[_0x11b836(0x69a)]());return{'jwt':_0x478957};}async[a0_0x4cf6e5(0x212)](_0x43c023){const _0x51daa8=a0_0x4cf6e5;let _0x319410=(0x0,Os['v4'])()[_0x51daa8(0x440)](),_0xec34d8=await this[_0x51daa8(0x79)]['auth'][_0x51daa8(0x638)]({'apikey':_0x319410},_0x43c023[_0x51daa8(0x276)]);if(_0xec34d8['error'])throw this[_0x51daa8(0x672)][_0x51daa8(0x14e)]({'localError':c[_0x51daa8(0x3ee)]+_0x51daa8(0x209),'error':_0xec34d8[_0x51daa8(0x14e)]}),new w('Authentication\x20error',_0xec34d8[_0x51daa8(0x14e)]?.['toString']());return{'apikey':_0x319410};}async['generateHash'](_0x4a26f7){const _0x5684ce=a0_0x4cf6e5;let _0x10acab=this[_0x5684ce(0x2e3)]['get'](_0x5684ce(0x237));return await this[_0x10acab[_0x5684ce(0x62d)]](_0x4a26f7);}},Jt=class{constructor(_0x1f368d){const _0x27dc88=a0_0x4cf6e5;this[_0x27dc88(0x2a5)]=_0x1f368d;}async[a0_0x4cf6e5(0x264)](_0x46f10f,_0x3a4f8e){const _0x7376b1=a0_0x4cf6e5;return await this[_0x7376b1(0x2a5)][_0x7376b1(0x1dc)][_0x46f10f[_0x7376b1(0x276)]][_0x7376b1(0x264)](_0x3a4f8e);}async['updateGroupPicture'](_0x58be0d,_0x115185){const _0x50819e=a0_0x4cf6e5;return await this['waMonitor']['waInstances'][_0x58be0d[_0x50819e(0x276)]][_0x50819e(0x15e)](_0x115185);}async[a0_0x4cf6e5(0x452)](_0x5728ca,_0x4c9225){const _0x2a5c9e=a0_0x4cf6e5;return await this[_0x2a5c9e(0x2a5)][_0x2a5c9e(0x1dc)][_0x5728ca[_0x2a5c9e(0x276)]]['groupDesc'](_0x4c9225);}async[a0_0x4cf6e5(0x4f3)](_0x349862,_0x432234){const _0x289499=a0_0x4cf6e5;return await this[_0x289499(0x2a5)]['waInstances'][_0x349862[_0x289499(0x276)]][_0x289499(0x4f3)](_0x432234);}async[a0_0x4cf6e5(0x25c)](_0x158313,_0x2c1b73){const _0xfe7acd=a0_0x4cf6e5;return await this[_0xfe7acd(0x2a5)][_0xfe7acd(0x1dc)][_0x158313['instanceName']][_0xfe7acd(0x25c)](_0x2c1b73);}async[a0_0x4cf6e5(0xa8)](_0xc8c9a3,_0x2d47cd){const _0x39f01f=a0_0x4cf6e5;return await this[_0x39f01f(0x2a5)][_0x39f01f(0x1dc)][_0xc8c9a3[_0x39f01f(0x276)]][_0x39f01f(0x1d4)](_0x2d47cd);}async['findGroups'](_0x1f28b0){const _0x17ef23=a0_0x4cf6e5;return await this[_0x17ef23(0x2a5)][_0x17ef23(0x1dc)][_0x1f28b0[_0x17ef23(0x276)]][_0x17ef23(0x1c5)]();}async[a0_0x4cf6e5(0x5c7)](_0x11cb33,_0x548471){const _0x34b060=a0_0x4cf6e5;return await this[_0x34b060(0x2a5)]['waInstances'][_0x11cb33['instanceName']][_0x34b060(0x5c7)](_0x548471);}async[a0_0x4cf6e5(0x6c9)](_0x5d9a7a,_0x219be3){const _0x3c2e20=a0_0x4cf6e5;return await this[_0x3c2e20(0x2a5)]['waInstances'][_0x5d9a7a[_0x3c2e20(0x276)]]['joinGroup'](_0x219be3);}async[a0_0x4cf6e5(0x5cd)](_0xb25221,_0x5dc704){const _0x182828=a0_0x4cf6e5;return await this[_0x182828(0x2a5)][_0x182828(0x1dc)][_0xb25221[_0x182828(0x276)]][_0x182828(0x5cd)](_0x5dc704);}async[a0_0x4cf6e5(0x30b)](_0x5c6d84,_0x1e0667){const _0x304862=a0_0x4cf6e5;return await this[_0x304862(0x2a5)]['waInstances'][_0x5c6d84['instanceName']][_0x304862(0x30b)](_0x1e0667);}async[a0_0x4cf6e5(0x277)](_0x4e773a,_0x7bc62b){const _0x553082=a0_0x4cf6e5;return await this[_0x553082(0x2a5)][_0x553082(0x1dc)][_0x4e773a[_0x553082(0x276)]]['updateGParticipant'](_0x7bc62b);}async[a0_0x4cf6e5(0x7b)](_0xd4be1c,_0x178ee9){const _0x6dd439=a0_0x4cf6e5;return await this[_0x6dd439(0x2a5)]['waInstances'][_0xd4be1c[_0x6dd439(0x276)]]['toggleEphemeral'](_0x178ee9);}async['leaveGroup'](_0x5777d9,_0xf50c13){const _0xbc2554=a0_0x4cf6e5;return await this[_0xbc2554(0x2a5)][_0xbc2554(0x1dc)][_0x5777d9['instanceName']][_0xbc2554(0x632)](_0xf50c13);}},Vt=class{constructor(_0x206752){const _0x116a32=a0_0x4cf6e5;this[_0x116a32(0x2a5)]=_0x206752;}[a0_0x4cf6e5(0x638)](_0x46c42f,_0x44d66e){const _0x1e5559=a0_0x4cf6e5;return this['waMonitor']['waInstances'][_0x46c42f[_0x1e5559(0x276)]][_0x1e5559(0x3c6)](_0x44d66e);}async['find'](_0x3d7f2c){const _0x16a224=a0_0x4cf6e5;try{return await this['waMonitor'][_0x16a224(0x1dc)][_0x3d7f2c['instanceName']][_0x16a224(0x3f2)]();}catch{return{'enabled':null,'url':''};}}},Zd=new N(a0_0x4cf6e5(0x566)),Bt=class{constructor(_0x15fb67){const _0x5efe7b=a0_0x4cf6e5;this[_0x5efe7b(0x2a5)]=_0x15fb67;}async[a0_0x4cf6e5(0x692)](_0x23ad71,_0x356776){const _0x167dec=a0_0x4cf6e5;return await this[_0x167dec(0x2a5)][_0x167dec(0x1dc)][_0x23ad71[_0x167dec(0x276)]][_0x167dec(0x692)](_0x356776);}async[a0_0x4cf6e5(0xdf)](_0x323f8c){const _0x371860=a0_0x4cf6e5;return await this[_0x371860(0x2a5)][_0x371860(0x1dc)][_0x323f8c[_0x371860(0x276)]][_0x371860(0xdf)]();}async[a0_0x4cf6e5(0x334)](_0x5f4040){const _0x44c1e3=a0_0x4cf6e5;return await this['waMonitor'][_0x44c1e3(0x1dc)][_0x5f4040[_0x44c1e3(0x276)]][_0x44c1e3(0x334)]();}async['getAutomateSystem'](_0x1d6406){const _0x522dae=a0_0x4cf6e5;return await this[_0x522dae(0x2a5)][_0x522dae(0x1dc)][_0x1d6406[_0x522dae(0x276)]][_0x522dae(0x197)]();}async[a0_0x4cf6e5(0x410)](_0x377578,_0x3b060e){const _0x1993fc=a0_0x4cf6e5;return await this[_0x1993fc(0x2a5)][_0x1993fc(0x1dc)][_0x377578['instanceName']][_0x1993fc(0x410)](_0x3b060e);}async[a0_0x4cf6e5(0x4cf)](_0x5c70f4,_0x28076a){const _0x35e3c4=a0_0x4cf6e5;return await this[_0x35e3c4(0x2a5)]['waInstances'][_0x5c70f4[_0x35e3c4(0x276)]][_0x35e3c4(0x4cf)](_0x28076a);}async['updateFlowConfig'](_0xebb35a,_0x2bfa56){const _0x54e924=a0_0x4cf6e5;return await this['waMonitor'][_0x54e924(0x1dc)][_0xebb35a[_0x54e924(0x276)]][_0x54e924(0x49f)](_0x2bfa56);}async[a0_0x4cf6e5(0x3ef)](_0x2fe822,_0x5f1e47){const _0xd07b76=a0_0x4cf6e5;return await this[_0xd07b76(0x2a5)][_0xd07b76(0x1dc)][_0x2fe822[_0xd07b76(0x276)]][_0xd07b76(0x3ef)](_0x5f1e47);}async['getConversation'](_0x3e96e6,_0x565a8d){const _0x363116=a0_0x4cf6e5;return await this[_0x363116(0x2a5)][_0x363116(0x1dc)][_0x3e96e6[_0x363116(0x276)]][_0x363116(0x394)](_0x565a8d);}async[a0_0x4cf6e5(0x31a)](_0x486c76,_0x2225a7){const _0x5846ac=a0_0x4cf6e5;return await this['waMonitor'][_0x5846ac(0x1dc)][_0x486c76[_0x5846ac(0x276)]][_0x5846ac(0x31a)](_0x2225a7);}async[a0_0x4cf6e5(0x56f)](_0x341314,_0x3e7fcb){const _0x211efe=a0_0x4cf6e5;return await this['waMonitor']['waInstances'][_0x341314['instanceName']][_0x211efe(0x56f)](_0x3e7fcb);}async[a0_0x4cf6e5(0x502)](_0x337df0,_0x3fa12c){const _0x16b3c4=a0_0x4cf6e5;return await this['waMonitor']['waInstances'][_0x337df0[_0x16b3c4(0x276)]][_0x16b3c4(0x502)](_0x3fa12c);}async['getFlow'](_0xc8c7b9,_0x398444){const _0x58129d=a0_0x4cf6e5;return await this[_0x58129d(0x2a5)]['waInstances'][_0xc8c7b9[_0x58129d(0x276)]][_0x58129d(0x245)](_0x398444[_0x58129d(0x3ee)]);}async['createFlow'](_0x143427,_0x2de45b){const _0x566e3d=a0_0x4cf6e5;return await this[_0x566e3d(0x2a5)][_0x566e3d(0x1dc)][_0x143427['instanceName']][_0x566e3d(0x1ed)](_0x2de45b);}async[a0_0x4cf6e5(0x616)](_0x5ded6b,_0xae531a){const _0x3f7120=a0_0x4cf6e5;return await this[_0x3f7120(0x2a5)]['waInstances'][_0x5ded6b[_0x3f7120(0x276)]][_0x3f7120(0x616)](_0xae531a);}async['editFlowBlock'](_0x61ff65,_0x4672a6){const _0x5292aa=a0_0x4cf6e5;return await this[_0x5292aa(0x2a5)]['waInstances'][_0x61ff65['instanceName']][_0x5292aa(0x1c7)](_0x4672a6);}async[a0_0x4cf6e5(0x658)](_0x5b05d9,_0x7d1e3b){const _0x450f57=a0_0x4cf6e5;return await this[_0x450f57(0x2a5)][_0x450f57(0x1dc)][_0x5b05d9[_0x450f57(0x276)]]['editFlowReply'](_0x7d1e3b);}async['editFlowGroup'](_0x25aece,_0x46d43f){const _0x355c65=a0_0x4cf6e5;return await this[_0x355c65(0x2a5)][_0x355c65(0x1dc)][_0x25aece[_0x355c65(0x276)]]['editFlowGroup'](_0x46d43f);}async[a0_0x4cf6e5(0x17c)](_0x21f1dc,_0x303df2){const _0x37dc72=a0_0x4cf6e5;return await this[_0x37dc72(0x2a5)][_0x37dc72(0x1dc)][_0x21f1dc[_0x37dc72(0x276)]][_0x37dc72(0x17c)](_0x303df2);}async['editFlowVaredit'](_0xfdee2d,_0x5220ab){const _0x14437f=a0_0x4cf6e5;return await this['waMonitor'][_0x14437f(0x1dc)][_0xfdee2d[_0x14437f(0x276)]][_0x14437f(0x5f9)](_0x5220ab);}async[a0_0x4cf6e5(0x50a)](_0x83290,_0x587c52){const _0x42c5af=a0_0x4cf6e5;return await this['waMonitor'][_0x42c5af(0x1dc)][_0x83290[_0x42c5af(0x276)]][_0x42c5af(0x50a)](_0x587c52);}async['deleteFlow'](_0x347d82,_0x2ab2b6){const _0xba8cf5=a0_0x4cf6e5;return await this[_0xba8cf5(0x2a5)][_0xba8cf5(0x1dc)][_0x347d82['instanceName']][_0xba8cf5(0x57a)](_0x2ab2b6[_0xba8cf5(0x3ee)]);}async[a0_0x4cf6e5(0x22b)](_0x1afbac){const _0x4c4b58=a0_0x4cf6e5;return await this[_0x4c4b58(0x2a5)]['waInstances'][_0x1afbac[_0x4c4b58(0x276)]][_0x4c4b58(0x22b)]();}},Gt=class{constructor(_0x59a878){const _0x5a87d0=a0_0x4cf6e5;this[_0x5a87d0(0x6b8)]=_0x59a878;}async['createWebhook'](_0x10b74e,_0x373f3c){const _0x25b659=a0_0x4cf6e5;return this[_0x25b659(0x6b8)][_0x25b659(0x638)](_0x10b74e,_0x373f3c);}async['findWebhook'](_0x2ccbe7){const _0x5efb58=a0_0x4cf6e5;return this[_0x5efb58(0x6b8)]['find'](_0x2ccbe7);}},Wt=class extends D{constructor(_0x3e0abc,_0x29f711){super(_0x29f711),this['webhookModel']=_0x3e0abc,this['configService']=_0x29f711;}async[a0_0x4cf6e5(0x638)](_0x3b3ba9,_0x55b6e4){const _0x5a862d=a0_0x4cf6e5;try{return this['dbSettings'][_0x5a862d(0x693)]?{'insertCount':(await this['webhookModel'][_0x5a862d(0x2b3)]({'_id':_0x55b6e4},{..._0x3b3ba9},{'upsert':!0x0}))[_0x5a862d(0x28b)]}:{'insertCount':0x1};}catch(_0x217a72){return _0x217a72;}}async[a0_0x4cf6e5(0xff)](_0x5112cb){const _0x3b2483=a0_0x4cf6e5;try{if(this[_0x3b2483(0x499)][_0x3b2483(0x693)]){await this[_0x3b2483(0x52e)][_0x3b2483(0x567)]({'_id':_0x5112cb});return;}}catch(_0x5846ab){return{'error':_0x5846ab};}}async[a0_0x4cf6e5(0x531)](_0xefbe01){const _0x4236fd=a0_0x4cf6e5;try{if(this['dbSettings']['ENABLED'])return await this[_0x4236fd(0x52e)]['findOne']({'_id':_0xefbe01});}catch{return{};}}},zt=class extends D{constructor(_0x169db1,_0x4fa604){const _0x2dc3fa=a0_0x4cf6e5;super(_0x4fa604),this[_0x2dc3fa(0x45c)]=_0x169db1,this['configService']=_0x4fa604,this[_0x2dc3fa(0x1a1)]=_0x4fa604[_0x2dc3fa(0x571)](_0x2dc3fa(0x237));}async[a0_0x4cf6e5(0x638)](_0x8e5bb7,_0x59535e){const _0x4d9b74=a0_0x4cf6e5;try{if(this[_0x4d9b74(0x499)]['ENABLED'])return{'insertCount':(await this['authModel'][_0x4d9b74(0x376)]({'_id':_0x59535e},{'$set':{..._0x8e5bb7}},{'upsert':!0x0}))[_0x4d9b74(0x28b)]};}catch(_0x2c1b05){return{'error':_0x2c1b05};}}async[a0_0x4cf6e5(0x68f)](_0x403c54,_0x47400e){const _0x3a92fa=a0_0x4cf6e5;try{if(this[_0x3a92fa(0x499)][_0x3a92fa(0x693)])return{'insertCount':(await this[_0x3a92fa(0x45c)][_0x3a92fa(0x1e4)](_0x403c54,{'$set':_0x47400e},{'upsert':!0x1}))['modifiedCount']};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x5d9833){return{'error':_0x5d9833};}}async[a0_0x4cf6e5(0x15b)](_0x5a83b4){const _0x5618b7=a0_0x4cf6e5;try{if(this[_0x5618b7(0x499)][_0x5618b7(0x693)])return{'insertCount':(await this[_0x5618b7(0x45c)]['deleteMany'](_0x5a83b4))[_0x5618b7(0x1c6)]};throw new Error(_0x5618b7(0x5e3));}catch(_0x39806a){return{'error':_0x39806a};}}async[a0_0x4cf6e5(0xff)](_0x47d4f4){const _0x5e9d4a=a0_0x4cf6e5;try{if(this[_0x5e9d4a(0x499)][_0x5e9d4a(0x693)]){await this[_0x5e9d4a(0x45c)]['deleteOne']({'_id':_0x47d4f4});return;}}catch(_0x3a17dc){return{'error':_0x3a17dc};}}async[a0_0x4cf6e5(0x531)](_0xc9eb80){const _0x2946c9=a0_0x4cf6e5;try{if(this[_0x2946c9(0x499)]['ENABLED'])return await this[_0x2946c9(0x45c)][_0x2946c9(0x2a7)]({'_id':_0xc9eb80});}catch{return{};}}async['findAll'](){const _0x488afa=a0_0x4cf6e5;try{if(this[_0x488afa(0x499)][_0x488afa(0x693)])return await this[_0x488afa(0x45c)]['find']();}catch{return[];}}},Ht=class extends D{[a0_0x4cf6e5(0x83)](_0x525c3a){return ra(_0x525c3a);}async[a0_0x4cf6e5(0x589)](_0x42073d){const _0x5f26f9=a0_0x4cf6e5;try{let _0x5c533a=ia,_0x6c6922=this[_0x5f26f9(0x83)](_0x42073d),_0x18789f=await _0x5c533a[_0x5f26f9(0x531)]({'owner':_0x42073d})['lean'](),_0x101e9e=[],_0x3d1f16=[];for(let _0x4b4498 of _0x18789f)await _0x6c6922[_0x5f26f9(0x5cf)](_0x4b4498[_0x5f26f9(0x637)])[_0x5f26f9(0x94)]()||(_0x101e9e[_0x5f26f9(0xc2)](_0x4b4498),_0x3d1f16[_0x5f26f9(0xc2)](_0x4b4498['_id']));return _0x101e9e[_0x5f26f9(0x364)]>0x0&&await _0x6c6922[_0x5f26f9(0x676)](_0x101e9e,{'ordered':!0x1}),{'success':!0x0};}catch(_0x4ef1a4){return console[_0x5f26f9(0x14e)](_0x5f26f9(0x284),_0x4ef1a4),{'success':!0x1,'error':_0x4ef1a4};}}async['delete'](_0x283a85,_0x6777ee){const _0x2baf3d=a0_0x4cf6e5;try{let _0x53703c=this[_0x2baf3d(0x83)](_0x6777ee),_0x3be6be=A(_0x283a85[_0x2baf3d(0x2f0)]);return{'deletedCount':(await _0x53703c['deleteMany'](_0x3be6be))[_0x2baf3d(0x1c6)]};}catch(_0x4f0ae8){return{'error':_0x4f0ae8?.['toString']()};}}async[a0_0x4cf6e5(0x567)](_0x5213e0,_0x4b3d14){const _0x881097=a0_0x4cf6e5;try{let _0x5f4072=this[_0x881097(0x83)](_0x4b3d14),_0x1a036d=A(_0x5213e0[_0x881097(0x2f0)]);return{'deletedCount':(await _0x5f4072[_0x881097(0x567)](_0x1a036d))['deletedCount']};}catch(_0x552688){return{'error':_0x552688?.[_0x881097(0x69a)]()};}}async[a0_0x4cf6e5(0x2b3)](_0x59cba2,_0x2eb2df,_0x3c3620){const _0x286e4b=a0_0x4cf6e5;try{let _0x18c862=await this[_0x286e4b(0x83)](_0x3c3620)[_0x286e4b(0x42b)](_0x59cba2,_0x2eb2df,{'overwrite':!0x0,'new':!0x0});return _0x18c862||(console[_0x286e4b(0x14e)](_0x286e4b(0x39c),_0x59cba2),null);}catch(_0x29d02c){return console[_0x286e4b(0x14e)](_0x286e4b(0x179),_0x29d02c),null;}}async[a0_0x4cf6e5(0x376)](_0x8f1d91,_0x4417b5,_0x5be851){const _0x373448=a0_0x4cf6e5;try{let _0x5d1e36=await this[_0x373448(0x83)](_0x5be851)['findById'](_0x8f1d91);return _0x5d1e36?(Object[_0x373448(0x122)](_0x5d1e36,_0x4417b5),await _0x5d1e36[_0x373448(0x3b6)]()):(console[_0x373448(0x14e)](_0x373448(0x4fe),_0x8f1d91),null);}catch(_0x432723){return console[_0x373448(0x14e)](_0x373448(0x179),_0x432723),null;}}async[a0_0x4cf6e5(0xd0)](_0x41c230){const _0x1ce503=a0_0x4cf6e5;try{let _0x506673=this[_0x1ce503(0x83)](_0x41c230),_0x3a63ec={'shareOwners':{'$exists':!0x1}},_0x3f5d95={'$set':{'shareOwners':[]}};return(await _0x506673[_0x1ce503(0x1e4)](_0x3a63ec,_0x3f5d95))['modifiedCount'];}catch(_0x172534){return console[_0x1ce503(0x14e)](_0x172534),0x0;}}async[a0_0x4cf6e5(0x2cf)](_0x414ae3,_0x16d450){const _0x43e8d2=a0_0x4cf6e5;try{let _0x4bd1fe=this[_0x43e8d2(0x83)](_0x16d450);return await new _0x4bd1fe(_0x414ae3)[_0x43e8d2(0x3b6)]();}catch(_0x3b0aa7){return console['error'](_0x43e8d2(0x4de),_0x3b0aa7),null;}}async[a0_0x4cf6e5(0x1e4)](_0x3f8d0f,_0x433a98,_0x3c9a4d){const _0x4d6f08=a0_0x4cf6e5;try{return{'modifiedCount':(await this[_0x4d6f08(0x83)](_0x3c9a4d)['updateMany'](_0x3f8d0f,{'$set':_0x433a98}))['modifiedCount']};}catch(_0x585d88){return console[_0x4d6f08(0x14e)](_0x4d6f08(0x169),_0x585d88),{'error':_0x585d88};}}async[a0_0x4cf6e5(0x6a1)](_0x5ebd0d,_0x17db6d){const _0x144167=a0_0x4cf6e5;try{let _0x36e89d=this['getFlowModelForOwner'](_0x17db6d),_0x1cd874=A(_0x5ebd0d[_0x144167(0x2f0)]);return await _0x36e89d['find'](_0x1cd874)['limit'](_0x5ebd0d?.[_0x144167(0xc0)]??0x0)[_0x144167(0x94)]();}catch{return[];}}async[a0_0x4cf6e5(0x2a7)](_0x8f7f88,_0x2ffb45){const _0x35c38a=a0_0x4cf6e5;try{let _0x368400=this['getFlowModelForOwner'](_0x2ffb45),_0xd22eab=A(_0x8f7f88[_0x35c38a(0x2f0)]);return await _0x368400['findOne'](_0xd22eab)[_0x35c38a(0x94)]();}catch{return null;}}async['deleteAll'](_0x1cd443){const _0x506685=a0_0x4cf6e5;try{return await this[_0x506685(0x83)](_0x1cd443)[_0x506685(0x381)][_0x506685(0x2bc)](),{'success':!0x0};}catch(_0x1c67dd){return console['error'](_0x1c67dd),{'success':!0x1,'error':_0x1c67dd};}}},Kt=class extends D{['getConversationModelForOwner'](_0x2e64a0){return na(_0x2e64a0);}async[a0_0x4cf6e5(0x589)](_0x413e0e){const _0x3f748d=a0_0x4cf6e5;try{let _0xde10ed=ca,_0x4432a0=this[_0x3f748d(0x6a9)](_0x413e0e),_0xad81e4=await _0xde10ed[_0x3f748d(0x531)]({'owner':_0x413e0e})['lean'](),_0x262205=[],_0x2392d7=[];for(let _0x3a0300 of _0xad81e4)await _0x4432a0['findById'](_0x3a0300[_0x3f748d(0x637)])['lean']()||(_0x262205[_0x3f748d(0xc2)](_0x3a0300),_0x2392d7[_0x3f748d(0xc2)](_0x3a0300[_0x3f748d(0x637)]));return _0x262205[_0x3f748d(0x364)]>0x0&&await _0x4432a0['insertMany'](_0x262205,{'ordered':!0x1}),{'success':!0x0};}catch(_0x19d22e){return console['error'](_0x3f748d(0x284),_0x19d22e),{'success':!0x1,'error':_0x19d22e};}}async[a0_0x4cf6e5(0x359)](_0x85a128){const _0x479256=a0_0x4cf6e5;if(_0x85a128[_0x479256(0x364)]!==0x0)try{return{'insertCount':(await this['getConversationModelForOwner'](_0x85a128[0x0][_0x479256(0x32e)])['insertMany']([..._0x85a128]))[_0x479256(0x364)]};}catch(_0x5a5123){return _0x5a5123;}}async[a0_0x4cf6e5(0xff)](_0x2b3c5c,_0x73850){const _0x5b41ce=a0_0x4cf6e5;try{let _0x57d570=this[_0x5b41ce(0x6a9)](_0x73850),_0x140492=A(_0x2b3c5c[_0x5b41ce(0x2f0)]);return{'deletedCount':(await _0x57d570[_0x5b41ce(0x15b)](_0x140492))[_0x5b41ce(0x1c6)]};}catch(_0x4f349f){return{'error':_0x4f349f?.['toString']()};}}async[a0_0x4cf6e5(0x567)](_0x3d8365,_0x2aa6a3){const _0x3a773f=a0_0x4cf6e5;try{let _0x37886f=this['getConversationModelForOwner'](_0x2aa6a3),_0x54b1cd=A(_0x3d8365['where']);return{'deletedCount':(await _0x37886f[_0x3a773f(0x567)](_0x54b1cd))[_0x3a773f(0x1c6)]};}catch(_0x485eea){return{'error':_0x485eea?.['toString']()};}}async[a0_0x4cf6e5(0x225)](_0x5d2b1c,_0x3371f0){const _0x500f3a=a0_0x4cf6e5;try{if(_0x5d2b1c[_0x500f3a(0x364)]===0x0)return;let _0x487161=this[_0x500f3a(0x6a9)](_0x3371f0),_0x494ebe=_0x5d2b1c[_0x500f3a(0x2ad)](_0x2f5496=>({'updateOne':{'filter':{'name':_0x2f5496[_0x500f3a(0x3ee)],'owner':_0x3371f0},'update':{..._0x2f5496}}})),{modifiedCount:_0xdab95f}=await _0x487161['bulkWrite'](_0x494ebe);return{'insertCount':_0xdab95f};}catch{return;}}async[a0_0x4cf6e5(0x1e4)](_0x40ab5c,_0x156edd,_0x570255){const _0x32a048=a0_0x4cf6e5;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x570255)[_0x32a048(0x1e4)](_0x40ab5c,{'$set':_0x156edd}))[_0x32a048(0x28b)]};}catch(_0x279a15){return console[_0x32a048(0x14e)](_0x32a048(0x12a),_0x279a15),{'error':_0x279a15};}}async['updateOne'](_0x376774,_0x50afc8,_0x3eb7ef){const _0x4cc209=a0_0x4cf6e5;try{return await this[_0x4cc209(0x6a9)](_0x3eb7ef)[_0x4cc209(0x266)]({'_id':_0x376774},{'$set':_0x50afc8},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0x3fabbf){return console[_0x4cc209(0x14e)](_0x3fabbf),null;}}async[a0_0x4cf6e5(0x531)](_0x5505a5,_0x52a65e){const _0x431ecf=a0_0x4cf6e5;try{return await this[_0x431ecf(0x6a9)](_0x52a65e)[_0x431ecf(0x531)](_0x5505a5)[_0x431ecf(0x6e8)]({'lastInteraction':-0x1})[_0x431ecf(0x94)]();}catch{return[];}}async[a0_0x4cf6e5(0x2a7)](_0xcc81cd,_0x2eb7f1){const _0x9c6b37=a0_0x4cf6e5;try{return await this[_0x9c6b37(0x6a9)](_0x2eb7f1)[_0x9c6b37(0x2a7)]({..._0xcc81cd['where']})[_0x9c6b37(0x94)]();}catch{return null;}}async[a0_0x4cf6e5(0x3cf)](_0x1b26f9){const _0xf7588=a0_0x4cf6e5;try{return await this[_0xf7588(0x6a9)](_0x1b26f9)[_0xf7588(0x381)][_0xf7588(0x2bc)](),{'success':!0x0};}catch(_0x277cf1){return console['error'](_0x277cf1),{'success':!0x1,'error':_0x277cf1};}}},Qt=class extends D{[a0_0x4cf6e5(0x543)](_0x57f186){return ua(_0x57f186);}async[a0_0x4cf6e5(0x589)](_0x30cf29){const _0x145fa3=a0_0x4cf6e5;try{let _0x357236=da,_0x15ad17=this[_0x145fa3(0x543)](_0x30cf29),_0x549a70=await _0x357236[_0x145fa3(0x531)]({'owner':_0x30cf29})[_0x145fa3(0x94)](),_0x22d25c=[],_0x3efab0=[];for(let _0x47809b of _0x549a70)await _0x15ad17[_0x145fa3(0x5cf)](_0x47809b['_id'])[_0x145fa3(0x94)]()||(_0x22d25c[_0x145fa3(0xc2)](_0x47809b),_0x3efab0[_0x145fa3(0xc2)](_0x47809b['_id']));return _0x22d25c[_0x145fa3(0x364)]>0x0&&await _0x15ad17[_0x145fa3(0x676)](_0x22d25c,{'ordered':!0x1}),{'success':!0x0};}catch(_0x260c8b){return console[_0x145fa3(0x14e)](_0x145fa3(0x284),_0x260c8b),{'success':!0x1,'error':_0x260c8b};}}async[a0_0x4cf6e5(0x2cf)](_0x5a7870,_0x2ac839){const _0x5341b9=a0_0x4cf6e5;try{let _0x51ecd7=this['getScheduleMessageModelForOwner'](_0x2ac839);return await new _0x51ecd7(_0x5a7870)['save']();}catch(_0x466b7e){return console[_0x5341b9(0x14e)](_0x5341b9(0x4de),_0x466b7e),null;}}async[a0_0x4cf6e5(0x567)](_0x4d948f,_0x205cd2){const _0x164f24=a0_0x4cf6e5;try{return await this[_0x164f24(0x543)](_0x205cd2)[_0x164f24(0x14d)](_0x4d948f),{};}catch(_0x1941fd){return{'error':_0x1941fd?.[_0x164f24(0x69a)]()};}}async[a0_0x4cf6e5(0x376)](_0x424ed8,_0x56fa9d,_0x7b45bb){const _0x2adf3d=a0_0x4cf6e5;try{return await this['getScheduleMessageModelForOwner'](_0x7b45bb)[_0x2adf3d(0x266)](_0x424ed8,{'$set':_0x56fa9d},{'new':!0x0})[_0x2adf3d(0x94)]();}catch(_0x3af160){return console[_0x2adf3d(0x14e)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x3af160),null;}}async['updateOneById'](_0x496b12,_0x5868fb,_0x16adce){const _0x3e023d=a0_0x4cf6e5;try{return await this[_0x3e023d(0x543)](_0x16adce)[_0x3e023d(0x42b)](_0x496b12,_0x5868fb,{'new':!0x0})[_0x3e023d(0x94)]();}catch(_0x5154e4){return console['error'](_0x3e023d(0x66b),_0x5154e4),null;}}async[a0_0x4cf6e5(0x531)](_0x558a03,_0x5898f6){const _0x18f173=a0_0x4cf6e5;try{return await this['getScheduleMessageModelForOwner'](_0x5898f6)[_0x18f173(0x531)](_0x558a03['where'])[_0x18f173(0xc0)](_0x558a03?.[_0x18f173(0xc0)]??0x0)[_0x18f173(0x6e8)]({'when':0x1})[_0x18f173(0x94)]();}catch{return[];}}async[a0_0x4cf6e5(0x2a7)](_0x4c8258,_0x541c99){const _0x55935f=a0_0x4cf6e5;try{return await this[_0x55935f(0x543)](_0x541c99)['findOne'](_0x4c8258[_0x55935f(0x2f0)])['sort']({'when':0x1})[_0x55935f(0x94)]();}catch{return null;}}async['findById'](_0x204398,_0x2f6913){const _0x73586b=a0_0x4cf6e5;try{return await this[_0x73586b(0x543)](_0x2f6913)[_0x73586b(0x5cf)](_0x204398)[_0x73586b(0x94)]();}catch{return null;}}async['deleteMany'](_0x535dd0,_0x2b0760){const _0x5c45db=a0_0x4cf6e5;try{return{'deletedCount':(await this[_0x5c45db(0x543)](_0x2b0760)['deleteMany'](_0x535dd0))[_0x5c45db(0x1c6)]};}catch(_0x570064){return console[_0x5c45db(0x14e)](_0x5c45db(0x517),_0x570064),{'error':_0x570064};}}async[a0_0x4cf6e5(0x3cf)](_0x227e1f){const _0x5ef6d6=a0_0x4cf6e5;try{return await this[_0x5ef6d6(0x543)](_0x227e1f)[_0x5ef6d6(0x381)][_0x5ef6d6(0x2bc)](),{'success':!0x0};}catch(_0x4c322a){return console[_0x5ef6d6(0x14e)](_0x4c322a),{'success':!0x1,'error':_0x4c322a};}}},Yt=class extends D{async[a0_0x4cf6e5(0x225)](_0x2e09fe,_0xce1827){const _0x110ce8=a0_0x4cf6e5;try{if(this[_0x110ce8(0x499)]['ENABLED']){let _0x51bd22=await $e[_0x110ce8(0x266)]({'_id':_0xce1827},{'$set':_0x2e09fe},{'new':!0x0});return console[_0x110ce8(0x2e6)](_0x110ce8(0x33e),_0x51bd22),_0x51bd22;}}catch(_0x1ddfd2){throw console[_0x110ce8(0x14e)](_0x110ce8(0x540),_0x1ddfd2),_0x1ddfd2;}}async[a0_0x4cf6e5(0x55e)](_0x486390){const _0x1ccfc6=a0_0x4cf6e5;try{let _0x1efdd1=await $e[_0x1ccfc6(0x5cf)](_0x486390);return _0x1efdd1||(_0x1efdd1=new $e({'_id':_0x486390}),await _0x1efdd1[_0x1ccfc6(0x3b6)]()),_0x1efdd1;}catch(_0x2162a5){return console['error'](_0x1ccfc6(0x69b),_0x2162a5),null;}}},bi=new N('WA\x20MODULE'),Si=new Fe(b),Ei=new kt(b),Mi=new Ye(b),Ci=new Wt(Xs,b),vi=new zt(Ks,b),Ni=new Ht(b),Ri=new Lt(b),Ti=new Kt(b),Oi=new Qt(b),Ai=new Yt(b),ue=new ke(Si,Ei,Mi,Ci,vi,Ni,Ti,Ri,Oi,Ai,R?.[a0_0x4cf6e5(0x55c)]()),V=new $t(as,b,ue),Ii=new qt(b,V,ue),xi=new Vt(V),ms=new Gt(xi),O=new Bt(V),ie=new jt(V,b,ue,as,Ii),B=new Ut(V),_=new Ft(V),F=new Jt(V);bi[a0_0x4cf6e5(0x51c)](a0_0x4cf6e5(0x2c1));var mh=require(a0_0x4cf6e5(0x610)),As=require('fs'),vr=T(require(a0_0x4cf6e5(0x46d))),Nr=T(require('http')),Ne=class c{static #e;static set['app'](_0x7266f2){this.#e=_0x7266f2;}static get[a0_0x4cf6e5(0x46d)](){const _0x2c208e=a0_0x4cf6e5;let {FULLCHAIN:_0x23dc60,PRIVKEY:_0x4bbd25}=b[_0x2c208e(0x571)](_0x2c208e(0xef));return vr[_0x2c208e(0x33d)]({'cert':(0x0,As[_0x2c208e(0x42a)])(_0x23dc60),'key':(0x0,As[_0x2c208e(0x42a)])(_0x4bbd25)},c.#e);}static get[a0_0x4cf6e5(0xeb)](){const _0x698fab=a0_0x4cf6e5;return Nr[_0x698fab(0x33d)](c.#e);}},pe=T(require('fs')),xr=T(require(a0_0x4cf6e5(0x5fc))),Re=T(require('axios')),Oe=T(require(a0_0x4cf6e5(0x150))),Ae=require('child_process');function Di(){const _0x2177a6=a0_0x4cf6e5;V['loadInstance']();let _0x399798=Oe[_0x2177a6(0xb2)][_0x2177a6(0x52f)](__dirname,_0x2177a6(0x93));Ir(_0x399798);}var Ir=_0x52118f=>{const _0x533337=a0_0x4cf6e5;let _0x19e83d=pe[_0x533337(0xb2)][_0x533337(0x26d)](_0x52118f),_0x1caa09=0xc*0x3c*0x3c*0x3e8,_0x247e38=0x2*0x3c*0x3c*0x3e8,_0x32dd52=new Date()[_0x533337(0x210)]();_0x19e83d[_0x533337(0x357)](_0x32e3cc=>{const _0x5d059a=_0x533337;let _0x171b86=Oe[_0x5d059a(0xb2)]['join'](_0x52118f,_0x32e3cc),_0x5561ac=pe[_0x5d059a(0xb2)]['statSync'](_0x171b86)[_0x5d059a(0x6b1)][_0x5d059a(0x210)]();_0x32dd52-_0x5561ac>_0x1caa09&&(pe['default'][_0x5d059a(0x537)](_0x171b86),console[_0x5d059a(0x2e6)](_0x5d059a(0x32d)+_0x32e3cc));}),setTimeout(()=>Ir(_0x52118f),_0x247e38);};function _i(){const _0x5da0ae=a0_0x4cf6e5;let _0x3c3ab3=new N(_0x5da0ae(0xe9)),_0x8b0336=(0x0,he[_0x5da0ae(0xb2)])();_0x8b0336[_0x5da0ae(0x28e)]((0x0,Ar[_0x5da0ae(0xb2)])({'origin'(_0x3487e9,_0xd9ab88){const _0xf130b6=_0x5da0ae;let {ORIGIN:_0x1f8fe8}=b[_0xf130b6(0x571)](_0xf130b6(0x6ba));return _0x3487e9||(_0x3487e9='*'),_0x1f8fe8[_0xf130b6(0x592)]('*')!==-0x1||_0x1f8fe8['indexOf'](_0x3487e9)!==-0x1?_0xd9ab88(null,!0x0):_0xd9ab88(new Error(_0xf130b6(0xc3)));},'methods':[...b[_0x5da0ae(0x571)]('CORS')['METHODS']],'credentials':b[_0x5da0ae(0x571)](_0x5da0ae(0x6ba))[_0x5da0ae(0x3bf)]}),(0x0,he[_0x5da0ae(0x88)])({'extended':!0x0,'limit':'50mb'}),(0x0,he['json'])({'limit':_0x5da0ae(0x6c1)})),_0x8b0336[_0x5da0ae(0x28e)]((_0x38e7b0,_0x179982,_0x214fdc)=>{const _0x2c65bf=_0x5da0ae;_0x38e7b0['path'][_0x2c65bf(0x1d0)](_0x2c65bf(0x612))?_0x214fdc():(0x0,Or[_0x2c65bf(0xb2)])()(_0x38e7b0,_0x179982,_0x214fdc);}),_0x8b0336['set'](_0x5da0ae(0x65e),_0x5da0ae(0x54e)),_0x8b0336[_0x5da0ae(0x544)](_0x5da0ae(0xa5),(0x0,xs[_0x5da0ae(0x52f)])(re,_0x5da0ae(0xa5))),_0x8b0336['use'](he[_0x5da0ae(0xb2)]['static']((0x0,xs[_0x5da0ae(0x52f)])(re,_0x5da0ae(0x3a1)))),_0x8b0336[_0x5da0ae(0x28e)]((_0x536302,_0x467baa,_0x265126)=>{const _0x2fc753=_0x5da0ae;let _0x56d02d=_0x467baa[_0x2fc753(0x33f)];_0x467baa[_0x2fc753(0x33f)]=function(_0x1cf14d){const _0x4e0a3e=_0x2fc753;if(_0x536302[_0x4e0a3e(0x42c)][_0x4e0a3e(0x67d)]==='true'||_0x536302[_0x4e0a3e(0x305)][_0x4e0a3e(0x192)]===_0x4e0a3e(0x2af)){let _0x2d5b65=JSON[_0x4e0a3e(0x40f)](_0x1cf14d);_0x1cf14d=JSON[_0x4e0a3e(0x611)](_0xf23265(_0x2d5b65));}return _0x56d02d[_0x4e0a3e(0x2d9)](_0x467baa,[_0x1cf14d]);},_0x265126();}),_0x8b0336[_0x5da0ae(0x28e)]('/',Nt),_0x8b0336['use']((_0x1ce26e,_0xafd018,_0x3a5574,_0x1b9aa6)=>{const _0x64aab6=_0x5da0ae;if(_0x1ce26e)return _0x3a5574[_0x64aab6(0x485)](_0x1ce26e[_0x64aab6(0x485)]||0x1f4)[_0x64aab6(0x4b9)](_0x1ce26e);},(_0x22cb5b,_0x827bc0,_0x3c7046)=>{const _0x424b55=_0x5da0ae;let {method:_0x137ec9,url:_0x221e86}=_0x22cb5b;_0x827bc0[_0x424b55(0x485)](0x194)[_0x424b55(0x4b9)]({'status':0x194,'message':'Cannot\x20'+_0x137ec9[_0x424b55(0x440)]()+'\x20'+_0x221e86,'error':_0x424b55(0x495)}),_0x3c7046();});let _0xf23265=(_0xf814b1,_0x4bc899=_0x5da0ae(0x6af))=>{const _0x2cdffd=_0x5da0ae;let _0x1ea374=(_0x1408e4,_0x3801f2=null,_0x2c0d6b=!0x1)=>{const _0x2e8d4f=a0_0x1ffd;let _0x5da449={};return Object[_0x2e8d4f(0x4d7)](_0x1408e4)[_0x2e8d4f(0x357)](_0xcd031c=>{const _0x500bc1=_0x2e8d4f;let _0x24ca57=_0x1408e4[_0xcd031c],_0x123ac7=''+_0x4bc899+_0xcd031c;_0x3801f2&&!_0x2c0d6b&&(_0x123ac7=_0x3801f2+'.'+_0xcd031c),!_0x24ca57&&_0x24ca57!==0x0&&_0x24ca57!==!0x1||typeof _0x24ca57>'u'?_0x5da449[_0x123ac7]=null:typeof _0x24ca57!='object'&&!Array[_0x500bc1(0x513)](_0x24ca57)?_0x5da449[_0x123ac7]=_0x24ca57:typeof _0x24ca57==_0x500bc1(0x224)&&!Array['isArray'](_0x24ca57)?_0x5da449=Object[_0x500bc1(0x122)](_0x5da449,_0x1ea374(_0x24ca57,_0x123ac7)):Array[_0x500bc1(0x513)](_0x24ca57)&&(typeof _0x24ca57[0x0]==_0x500bc1(0x224)?(_0x5da449[_0x123ac7]=[],_0x24ca57['forEach'](_0x989aa7=>{const _0x1e6d5a=_0x500bc1;_0x5da449[_0x123ac7][_0x1e6d5a(0xc2)](_0x1ea374(_0x989aa7,_0x123ac7,!0x0));})):_0x5da449[_0x123ac7]=_0x24ca57);}),_0x5da449;};return Array[_0x2cdffd(0x513)](_0xf814b1)?_0xf814b1[_0x2cdffd(0x2ad)](_0x2a0ee3=>_0x1ea374(_0x2a0ee3)):typeof _0xf814b1==_0x2cdffd(0x224)&&_0xf814b1!==null?_0x1ea374(_0xf814b1):{};},_0x36d8b1=b[_0x5da0ae(0x571)](_0x5da0ae(0xe9));Ne[_0x5da0ae(0x417)]=_0x8b0336;let _0x1c09f7=Ne[_0x36d8b1[_0x5da0ae(0x62d)]],_0x4cf182=_0x5da0ae(0x3bc);_0x1c09f7[_0x5da0ae(0x533)](_0x36d8b1[_0x5da0ae(0x4a0)],()=>{const _0x4ae78c=_0x5da0ae;_0x3c3ab3[_0x4ae78c(0x2e6)](_0x4cf182),_0x3c3ab3['log'](_0x36d8b1[_0x4ae78c(0x62d)][_0x4ae78c(0x440)]()+_0x4ae78c(0x6a2)+_0x36d8b1[_0x4ae78c(0x4a0)]);}),Di(),qs();}var Pi=a0_0x4cf6e5(0x3e6),$i=Oe['default'][a0_0x4cf6e5(0x52f)](__dirname,a0_0x4cf6e5(0x61d)),Te=null;function ki(){return new Promise((_0x49e534,_0x1a49a8)=>{const _0x54f508=a0_0x1ffd;pe[_0x54f508(0xb2)][_0x54f508(0x465)]($i,_0x54f508(0x5f4),(_0x43e90b,_0xcbfbf1)=>{const _0x1a72de=_0x54f508;if(_0x43e90b){Te=_0x43e90b,_0x49e534();return;}xr[_0x1a72de(0xb2)]['parse'](_0xcbfbf1)[_0x1a72de(0x2e5)]['url']===Pi?(Te=null,_0x49e534()):(Te=new Error(_0x1a72de(0x3bd)),_0x49e534());});});}async function Li(){const _0x156306=a0_0x4cf6e5;try{await ki(),await Ds();}catch(_0x4e432f){console[_0x156306(0x14e)]('Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20'+_0x4e432f),process[_0x156306(0x6cf)](0x1);}}Li();async function Dr(){const _0x57c0a5=a0_0x4cf6e5;let _0x421684;try{_0x421684=(await Re[_0x57c0a5(0xb2)][_0x57c0a5(0x571)]('https://jsonip.com'))[_0x57c0a5(0x8e)]['ip'];}catch(_0x53a448){console[_0x57c0a5(0x14e)](_0x53a448);try{_0x421684=(await Re['default'][_0x57c0a5(0x571)]('https://api.ipify.org?format=json'))[_0x57c0a5(0x8e)]['ip'];}catch(_0x4ed94b){console[_0x57c0a5(0x14e)](_0x4ed94b);try{_0x421684=(await Re['default'][_0x57c0a5(0x571)](_0x57c0a5(0x97)))[_0x57c0a5(0x8e)][_0x57c0a5(0x598)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x4338df){return console[_0x57c0a5(0x14e)](_0x4338df),!0x1;}}}return _0x421684;}var Rr=0x0;async function Fi(){const _0x1e097e=a0_0x4cf6e5;let _0x10d530=await new oe(b['get'](_0x1e097e(0x5f2)))[_0x1e097e(0x41d)]();return console[_0x1e097e(0x2e6)]('instancias:\x20',_0x10d530[_0x1e097e(0x364)]),_0x10d530[_0x1e097e(0x364)];}function ji(_0x2807ea){const _0x18e225=a0_0x4cf6e5;let _0x1e35b0=_0x2807ea[_0x18e225(0x571)](_0x18e225(0xe9))[_0x18e225(0x474)],_0x46c032=_0x2807ea[_0x18e225(0x571)](_0x18e225(0xef)),_0x58e7a0;if(_0x1e35b0){let _0xa04de5=_0x1e35b0[_0x18e225(0x598)](/\/\/(.*?)\./);_0xa04de5&&_0xa04de5[0x1]&&(_0x58e7a0=_0xa04de5[0x1]);}if(!_0x58e7a0&&_0x46c032&&_0x46c032[_0x18e225(0xb1)]){let _0x1d4973=_0x46c032['FULLCHAIN'][_0x18e225(0x3ad)]('/'),_0x521731=_0x1d4973[_0x1d4973[_0x18e225(0x364)]-0x2];if(_0x521731){let _0x50e64c=_0x521731[_0x18e225(0x3ad)]('.');_0x50e64c[_0x18e225(0x364)]>0x2&&(_0x58e7a0=_0x50e64c[0x0]);}}return _0x58e7a0;}var Rs=ji(b);async function Ui(){const _0xa8337f=a0_0x4cf6e5;let _0xe5638b=b[_0xa8337f(0x571)](_0xa8337f(0x5f2)),_0x3b8909=b[_0xa8337f(0x571)](_0xa8337f(0x237))[_0xa8337f(0x628)][_0xa8337f(0x75)],_0x4b02dc=b[_0xa8337f(0x571)](_0xa8337f(0xef)),_0x6bc378=await Dr(),_0x382adb=b['get'](_0xa8337f(0xe9))[_0xa8337f(0x4a0)],_0x508701=b[_0xa8337f(0x571)](_0xa8337f(0xe9))[_0xa8337f(0x474)];try{let _0x2f3e8e={'ip':_0x6bc378||null,'redis_enable':_0xe5638b?.['ENABLED']||null,'apikey':_0x3b8909||null,'ssl':_0x4b02dc?.[_0xa8337f(0x332)]||null,'lastupdate':_r||null,'port':_0x382adb||null,'gitInstallError':Te?.[_0xa8337f(0x251)]||null,'url':_0x508701||null};if(console[_0xa8337f(0x2e6)]('ip:\x20',_0x2f3e8e['ip']),_0xe5638b&&_0xe5638b['ENABLED']){let _0xfc540b=await Fi();_0x2f3e8e[_0xa8337f(0x59b)]=_0xfc540b||null;}for(let _0x5da722 in _0x2f3e8e)_0x2f3e8e[_0xa8337f(0x48d)](_0x5da722)&&_0x5da722!=='ip'&&(_0x2f3e8e[_0x5da722]=JSON['stringify'](_0x2f3e8e[_0x5da722]));return(await Re[_0xa8337f(0xb2)][_0xa8337f(0x3e3)](_0xa8337f(0x625),_0x2f3e8e))[_0xa8337f(0x8e)];}catch(_0x48d884){return console[_0xa8337f(0x14e)](_0x48d884),!0x1;}}var Is=!0x1,_r=0x22b,qi=0x3,Tr=0x1b7740;async function Ds(){const _0x1d9966=a0_0x4cf6e5;if(!await Dr())return console[_0x1d9966(0x14e)](_0x1d9966(0x49c)),_0x1d9966(0x1cb);let _0x34ce47=await Ui();if(_0x34ce47){if(_0x34ce47[_0x1d9966(0x44e)][_0x1d9966(0x682)]===!0x0){let _0x57a9dd=b['get'](_0x1d9966(0xef)),_0x10f96f=b[_0x1d9966(0x571)]('SERVER')[_0x1d9966(0x474)];_0x57a9dd&&_0x57a9dd?.[_0x1d9966(0x332)]?.[_0x1d9966(0x1bd)]('<subdomain>')&&_0x34ce47[_0x1d9966(0x44e)][_0x1d9966(0x3d2)]&&!_0x10f96f&&(await Bi(_0x34ce47['response'][_0x1d9966(0x3d2)],Vi),await Gi(_0x1d9966(0x4bb),_0x34ce47[_0x1d9966(0x44e)][_0x1d9966(0x3d2)]),console[_0x1d9966(0x2e6)]('Reiniciando\x20sistema\x20após\x20instalado\x20certificado...'),setTimeout(()=>zi(),0x2710)),Te===null&&_0x34ce47[_0x1d9966(0x44e)][_0x1d9966(0x1d7)]-_r>0x0&&await Ji(),Is||(Is=!0x0,_i());let _0x1938d8=0x24*0x3c*0x3c,_0x577ea4=_0x34ce47[_0x1d9966(0x44e)][_0x1d9966(0x243)]>_0x1938d8?_0x1938d8:_0x34ce47['response'][_0x1d9966(0x243)],_0x4f8658=Number(_0x577ea4);if(isNaN(_0x4f8658)){console['error'](_0x1d9966(0x217));return;}let _0x1da0ad=Math[_0x1d9966(0x23f)](_0x4f8658/0xe10),_0x2e985d=Math[_0x1d9966(0x23f)](_0x4f8658%0xe10/0x3c),_0x305731=new Date(Date[_0x1d9966(0x5a1)]()+_0x4f8658*0x3e8);setTimeout(Ds,_0x4f8658*0x3e8);let _0x266d00=_0xcbe46d=>_0xcbe46d['toString']()[_0x1d9966(0x3a5)](0x2,'0'),_0x11a2f3=_0x1d9966(0x2fb)+_0x266d00(_0x1da0ad)+'\x20horas\x20e\x20'+_0x266d00(_0x2e985d)+_0x1d9966(0x5d6)+_0x266d00(_0x305731[_0x1d9966(0x2f8)]())+':'+_0x266d00(_0x305731[_0x1d9966(0x398)]())+'.';console['log'](_0x11a2f3);}else return console[_0x1d9966(0x2e6)]('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),Is&&(console[_0x1d9966(0x2e6)](_0x1d9966(0x2f6)),process[_0x1d9966(0x6cf)]()),'LICENSE_INVALID';}else{if(Rr++,Rr<qi)console[_0x1d9966(0x2e6)](_0x1d9966(0x31b)+Tr/0xea60+_0x1d9966(0x377)),setTimeout(Ds,Tr);else return console[_0x1d9966(0x14e)](_0x1d9966(0x655)),_0x1d9966(0x595);}}async function Ji(){const _0x47e627=a0_0x4cf6e5;console[_0x47e627(0x2e6)]('Parando\x20aplicação,\x20atualização\x20recebida');let _0x2b8347=(0x0,Ae['spawn'])(_0x47e627(0x2db),{'shell':!0x0});_0x2b8347[_0x47e627(0x301)]['on']('data',_0x25570e=>{const _0x45343a=_0x47e627;console[_0x45343a(0x2e6)](_0x45343a(0x433)+_0x25570e);}),_0x2b8347[_0x47e627(0x17d)]['on']('data',_0x38358e=>{const _0x3bcd1a=_0x47e627;console[_0x3bcd1a(0x14e)](_0x3bcd1a(0x37f)+_0x38358e);}),_0x2b8347['on'](_0x47e627(0x6cf),_0x122c98=>{const _0x2e17e0=_0x47e627;_0x122c98!==0x0?console['error'](_0x2e17e0(0x36c)+_0x122c98):console[_0x2e17e0(0x2e6)](_0x2e17e0(0x226)),console[_0x2e17e0(0x2e6)]('Parando\x20aplicação...'),setTimeout(()=>process[_0x2e17e0(0x6cf)](),0x2710);});}var Vi=Oe[a0_0x4cf6e5(0xb2)]['join'](__dirname,a0_0x4cf6e5(0x151));async function Bi(_0x45465f,_0x3b7eec){const _0x48f16c=a0_0x4cf6e5;let _0x41dffe=Wi();_0x45465f=_0x45465f[_0x48f16c(0x5fe)](_0x48f16c(0x2a9),'');try{let _0x5d8533=pe[_0x48f16c(0xb2)][_0x48f16c(0x42a)](_0x3b7eec,_0x48f16c(0x230));_0x5d8533=_0x5d8533[_0x48f16c(0x5fe)](/<apikey>/,_0x41dffe),_0x5d8533=_0x5d8533[_0x48f16c(0x5fe)](/<subdomain>/g,_0x45465f),pe[_0x48f16c(0xb2)][_0x48f16c(0x49a)](_0x3b7eec,_0x5d8533,'utf8'),console[_0x48f16c(0x2e6)](_0x48f16c(0x3a6));}catch(_0x538872){console[_0x48f16c(0x14e)](_0x48f16c(0x15a),_0x538872);}}function Gi(_0x621957,_0x2a601b){return new Promise((_0x51e0f2,_0x18fb87)=>{const _0x26479e=a0_0x1ffd;let _0x1c3cfa=(0x0,Ae[_0x26479e(0x3c1)])(_0x26479e(0x490),[_0x26479e(0x355),_0x26479e(0x660),'-m',_0x621957,_0x26479e(0x453),'-d',_0x2a601b]);_0x1c3cfa[_0x26479e(0x301)]['on'](_0x26479e(0x8e),_0x3d8c99=>{const _0x23bfd5=_0x26479e;console['log'](_0x23bfd5(0x4d1)+_0x3d8c99[_0x23bfd5(0x69a)]());}),_0x1c3cfa['stderr']['on']('data',_0x4e2a0e=>{const _0x530560=_0x26479e;console['error']('Erro\x20do\x20Certbot:\x20'+_0x4e2a0e[_0x530560(0x69a)]());}),_0x1c3cfa['on']('close',_0x3ecdfd=>{const _0x2ee768=_0x26479e;_0x3ecdfd!==0x0?(console[_0x2ee768(0x14e)](_0x2ee768(0x347)+_0x3ecdfd),_0x18fb87(_0x2ee768(0x347)+_0x3ecdfd)):(console['log'](_0x2ee768(0x165)),_0x51e0f2());});});}function Wi(_0x2bbd0a=0x32){const _0x24c94c=a0_0x4cf6e5;let _0x1c4d85=_0x24c94c(0x20a),_0x4f61e2='';for(let _0x10046a=0x0;_0x10046a<_0x2bbd0a;_0x10046a++)_0x4f61e2+=_0x1c4d85[_0x24c94c(0x3cc)](Math[_0x24c94c(0x23f)](Math[_0x24c94c(0x4a4)]()*_0x1c4d85[_0x24c94c(0x364)]));return _0x4f61e2;}function zi(){const _0x447d06=a0_0x4cf6e5;(0x0,Ae[_0x447d06(0x466)])(_0x447d06(0x40c),(_0x38fdcf,_0x18e318,_0x4cd383)=>{const _0x127e9b=_0x447d06;if(_0x38fdcf){console[_0x127e9b(0x14e)](_0x127e9b(0x1c8)+_0x38fdcf);return;}if(_0x4cd383){console[_0x127e9b(0x14e)]('Erro\x20de\x20reinicialização:\x20'+_0x4cd383);return;}console['log'](_0x127e9b(0x176)+_0x18e318);});}0x0&&(module[a0_0x4cf6e5(0x454)]={'subdomain':subdomain});