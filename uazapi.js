const a0_0x36fc91=a0_0x19ac;function a0_0x19ac(_0x21cf34,_0x3a92b7){const _0x5f5dbf=a0_0x5f5d();return a0_0x19ac=function(_0x19acdb,_0x849ef7){_0x19acdb=_0x19acdb-0x10b;let _0x599b95=_0x5f5dbf[_0x19acdb];return _0x599b95;},a0_0x19ac(_0x21cf34,_0x3a92b7);}(function(_0x3a1bc8,_0x1a8065){const _0x44065a=a0_0x19ac,_0x559e6b=_0x3a1bc8();while(!![]){try{const _0x290ebf=-parseInt(_0x44065a(0x728))/0x1+-parseInt(_0x44065a(0x621))/0x2+parseInt(_0x44065a(0x427))/0x3+-parseInt(_0x44065a(0x46d))/0x4*(-parseInt(_0x44065a(0x709))/0x5)+parseInt(_0x44065a(0x619))/0x6+-parseInt(_0x44065a(0x4f6))/0x7*(parseInt(_0x44065a(0x433))/0x8)+-parseInt(_0x44065a(0x841))/0x9*(parseInt(_0x44065a(0x79c))/0xa);if(_0x290ebf===_0x1a8065)break;else _0x559e6b['push'](_0x559e6b['shift']());}catch(_0x47a1a6){_0x559e6b['push'](_0x559e6b['shift']());}}}(a0_0x5f5d,0xc92c7));var Gi=Object[a0_0x36fc91(0x6b4)],qe=Object[a0_0x36fc91(0x6b8)],Bi=Object[a0_0x36fc91(0x509)],Wi=Object[a0_0x36fc91(0x11e)],zi=Object[a0_0x36fc91(0x5b3)],Hi=Object[a0_0x36fc91(0x3c0)]['hasOwnProperty'],Ki=(_0x1222e5,_0x42adf9)=>{for(var _0x3b9e7d in _0x42adf9)qe(_0x1222e5,_0x3b9e7d,{'get':_0x42adf9[_0x3b9e7d],'enumerable':!0x0});},Vs=(_0x13cec2,_0x14a434,_0xf01a99,_0x34bbe6)=>{const _0x5d5b93=a0_0x36fc91;if(_0x14a434&&typeof _0x14a434=='object'||typeof _0x14a434==_0x5d5b93(0x517)){for(let _0x3bc513 of Wi(_0x14a434))!Hi[_0x5d5b93(0x737)](_0x13cec2,_0x3bc513)&&_0x3bc513!==_0xf01a99&&qe(_0x13cec2,_0x3bc513,{'get':()=>_0x14a434[_0x3bc513],'enumerable':!(_0x34bbe6=Bi(_0x14a434,_0x3bc513))||_0x34bbe6['enumerable']});}return _0x13cec2;},A=(_0x8dc36a,_0x3a4d98,_0x1e26dc)=>(_0x1e26dc=_0x8dc36a!=null?Gi(zi(_0x8dc36a)):{},Vs(_0x3a4d98||!_0x8dc36a||!_0x8dc36a[a0_0x36fc91(0x1d4)]?qe(_0x1e26dc,a0_0x36fc91(0x361),{'value':_0x8dc36a,'enumerable':!0x0}):_0x1e26dc,_0x8dc36a)),Qi=_0x3b83d9=>Vs(qe({},a0_0x36fc91(0x1d4),{'value':!0x0}),_0x3b83d9),ur={};Ki(ur,{'fullURL':()=>qs,'subdomain':()=>W}),module[a0_0x36fc91(0x4c8)]=Qi(ur);var Fi=A(require('compression')),Bs=require('fs'),Ws=require('js-yaml'),zs=require(a0_0x36fc91(0x860)),Ve=require(a0_0x36fc91(0x860)),ne=process[a0_0x36fc91(0x2fd)](),be=(0x0,Ve[a0_0x36fc91(0x1f8)])(ne,'instances'),Gs=(0x0,Ve[a0_0x36fc91(0x1f8)])(ne,a0_0x36fc91(0x22e)),sn=(0x0,Ve[a0_0x36fc91(0x1f8)])(ne,'store',a0_0x36fc91(0x48f)),us=class{constructor(){const _0x54391e=a0_0x36fc91;this[_0x54391e(0x43c)]();}[a0_0x36fc91(0x41a)](_0x2907d3){const _0x5daed3=a0_0x36fc91;return this[_0x5daed3(0x6e8)][_0x2907d3];}[a0_0x36fc91(0x43c)](){const _0x373b52=a0_0x36fc91;this['env']=process[_0x373b52(0x6e8)]?.['DOCKER_ENV']!=='true'?this[_0x373b52(0x1e7)]():this[_0x373b52(0x35e)](),process[_0x373b52(0x6e8)]?.[_0x373b52(0x300)]==='true'&&(this[_0x373b52(0x6e8)][_0x373b52(0x854)][_0x373b52(0x7e1)]=_0x373b52(0x5e9),this['env'][_0x373b52(0x854)][_0x373b52(0x577)]=Number[_0x373b52(0x752)](process[_0x373b52(0x6e8)]?.[_0x373b52(0x4ad)]??_0x373b52(0x7cb)));}[a0_0x36fc91(0x1e7)](){const _0x3aae1a=a0_0x36fc91;return(0x0,Ws[_0x3aae1a(0x6ca)])((0x0,Bs[_0x3aae1a(0x58e)])((0x0,zs[_0x3aae1a(0x1f8)])(Gs,_0x3aae1a(0x719)),{'encoding':_0x3aae1a(0x6ab)}));}[a0_0x36fc91(0x35e)](){const _0x349301=a0_0x36fc91;return{'SERVER':{'TYPE':process['env']['SERVER_TYPE'],'PORT':Number[_0x349301(0x752)](process[_0x349301(0x6e8)][_0x349301(0x4ad)]),'URL':process[_0x349301(0x6e8)][_0x349301(0x4fa)]},'CORS':{'ORIGIN':process['env'][_0x349301(0x33d)]['split'](','),'METHODS':process[_0x349301(0x6e8)][_0x349301(0x505)][_0x349301(0x599)](','),'CREDENTIALS':process[_0x349301(0x6e8)]?.[_0x349301(0x4d1)]==='true'},'SSL_CONF':{'PRIVKEY':process[_0x349301(0x6e8)]?.[_0x349301(0x7f8)],'FULLCHAIN':process[_0x349301(0x6e8)]?.[_0x349301(0x67c)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process['env']?.[_0x349301(0x21d)])?Number['parseInt'](process[_0x349301(0x6e8)][_0x349301(0x21d)]):void 0x0,'MESSAGES':process[_0x349301(0x6e8)]?.[_0x349301(0x339)]===_0x349301(0x480),'CONTACTS':process['env']?.[_0x349301(0x63b)]==='true','CHATS':process['env']?.[_0x349301(0x4b8)]==='true'},'DATABASE':{'CONNECTION':{'HOST':process[_0x349301(0x6e8)]?.['DATABASE_CONNECTION_HOST'],'PORT':Number[_0x349301(0x752)](process['env']?.[_0x349301(0x115)]),'USER':process[_0x349301(0x6e8)]['DATABASE_CONNECTION_USER'],'PASSWORD':process[_0x349301(0x6e8)][_0x349301(0x865)],'URI':process['env'][_0x349301(0x5b7)],'DB_PREFIX_NAME':process['env'][_0x349301(0x301)]},'ENABLED':process['env']?.[_0x349301(0x27f)]===_0x349301(0x480)},'REDIS':{'ENABLED':process[_0x349301(0x6e8)]?.[_0x349301(0x3fe)]==='true','URI':process[_0x349301(0x6e8)][_0x349301(0x13a)]||_0x349301(0x15a),'PREFIX_KEY':process[_0x349301(0x6e8)][_0x349301(0x1d2)]||_0x349301(0x2b0)},'LOG':{'LEVEL':process[_0x349301(0x6e8)]?.[_0x349301(0x59e)][_0x349301(0x599)](','),'COLOR':process[_0x349301(0x6e8)]?.['LOG_COLOR']===_0x349301(0x480)},'PROXY':process['env']?.[_0x349301(0x45a)]===_0x349301(0x480),'AUTHENTICATION':{'TYPE':process[_0x349301(0x6e8)][_0x349301(0x530)],'API_KEY':{'KEY':process['env'][_0x349301(0x701)]},'JWT':{'EXPIRIN_IN':Number[_0x349301(0x1f6)](process[_0x349301(0x6e8)]?.[_0x349301(0x5e8)])?Number['parseInt'](process[_0x349301(0x6e8)][_0x349301(0x5e8)]):0xe10,'SECRET':process[_0x349301(0x6e8)][_0x349301(0x601)]}}};}},S=new us(),Ui=A(require(a0_0x36fc91(0x290))),we=A(require(a0_0x36fc91(0x5e6))),js=require('path'),ds=A(require(a0_0x36fc91(0x435))),ps=(_0x2962cd=>(_0x2962cd[a0_0x36fc91(0x5be)]=a0_0x36fc91(0x852),_0x2962cd[a0_0x36fc91(0x286)]=a0_0x36fc91(0x148),_0x2962cd['WARN']=a0_0x36fc91(0x800),_0x2962cd[a0_0x36fc91(0x16d)]=a0_0x36fc91(0x54b),_0x2962cd[a0_0x36fc91(0x6d9)]='\x1b[36m',_0x2962cd['VERBOSE']=a0_0x36fc91(0x66d),_0x2962cd['DARK']=a0_0x36fc91(0x717),_0x2962cd))(ps||{}),Hs=(_0x4d994e=>(_0x4d994e[a0_0x36fc91(0x5be)]=a0_0x36fc91(0x623),_0x4d994e['DARK']='\x1b[30m%s\x1b[0m',_0x4d994e[a0_0x36fc91(0x286)]='\x1b[34m%s\x1b[0m',_0x4d994e[a0_0x36fc91(0x3fd)]=a0_0x36fc91(0x172),_0x4d994e[a0_0x36fc91(0x16d)]=a0_0x36fc91(0x729),_0x4d994e['DEBUG']=a0_0x36fc91(0x74c),_0x4d994e[a0_0x36fc91(0x4d3)]=a0_0x36fc91(0x67f),_0x4d994e))(Hs||{}),Ks=(_0xd270d4=>(_0xd270d4[a0_0x36fc91(0x5be)]=a0_0x36fc91(0x5be),_0xd270d4[a0_0x36fc91(0x3fd)]=a0_0x36fc91(0x3fd),_0xd270d4[a0_0x36fc91(0x286)]=a0_0x36fc91(0x286),_0xd270d4[a0_0x36fc91(0x402)]='DARK',_0xd270d4['ERROR']='ERROR',_0xd270d4['DEBUG']='DEBUG',_0xd270d4['VERBOSE']='VERBOSE',_0xd270d4))(Ks||{}),Qs=(_0x426479=>(_0x426479['LOG']=a0_0x36fc91(0x14b),_0x426479[a0_0x36fc91(0x286)]=a0_0x36fc91(0x3e2),_0x426479[a0_0x36fc91(0x3fd)]=a0_0x36fc91(0x4c4),_0x426479[a0_0x36fc91(0x402)]=a0_0x36fc91(0x2fb),_0x426479[a0_0x36fc91(0x16d)]=a0_0x36fc91(0x53b),_0x426479['DEBUG']=a0_0x36fc91(0x7ab),_0x426479['VERBOSE']=a0_0x36fc91(0x548),_0x426479))(Qs||{}),$=class{constructor(_0x37dc9a=a0_0x36fc91(0x312)){const _0x546947=a0_0x36fc91;this[_0x546947(0x1c7)]=_0x37dc9a,this[_0x546947(0x256)]=S;}[a0_0x36fc91(0x6da)](_0x332ce7){const _0x2f8e11=a0_0x36fc91;this[_0x2f8e11(0x1c7)]=_0x332ce7;}[a0_0x36fc91(0x1a0)](_0x178d1d,_0x59d13c){const _0x126a6b=a0_0x36fc91;let _0x2cfc52=[];this['configService'][_0x126a6b(0x41a)](_0x126a6b(0x5be))[_0x126a6b(0x18f)][_0x126a6b(0x12c)](_0x5dddd3=>_0x2cfc52[_0x126a6b(0x871)](Ks[_0x5dddd3]));let _0x3ac15f=typeof _0x178d1d;_0x2cfc52['includes'](_0x59d13c)&&(S[_0x126a6b(0x41a)](_0x126a6b(0x5be))[_0x126a6b(0x723)]?(console[_0x126a6b(0x83e)](_0x126a6b(0x773)+Hs[_0x59d13c],_0x126a6b(0x593),(0x0,ds[_0x126a6b(0x361)])()[_0x126a6b(0x1ff)]('DD/MM\x20HH:mm:ss'),'\x1b[0m',ps[_0x59d13c]+Qs[_0x59d13c]+_0x126a6b(0x773),_0x59d13c+_0x126a6b(0x1dd),'\x1b[33m\x1b[1m',this[_0x126a6b(0x1c7)]+'\x1b[0m',ps[_0x59d13c],_0x3ac15f!=='object'?_0x178d1d:'','\x1b[0m'),_0x3ac15f===_0x126a6b(0x733)&&console[_0x126a6b(0x83e)](_0x178d1d,'\x0a')):console['log']((0x0,ds[_0x126a6b(0x361)])()[_0x126a6b(0x1ff)](_0x126a6b(0x21c)),_0x59d13c+'\x20',''+this[_0x126a6b(0x1c7)],_0x178d1d));}[a0_0x36fc91(0x83e)](_0x904e4c){const _0x427c6e=a0_0x36fc91;this[_0x427c6e(0x1a0)](_0x904e4c,_0x427c6e(0x5be));}[a0_0x36fc91(0x707)](_0x41c9ff){const _0x4f2055=a0_0x36fc91;this[_0x4f2055(0x1a0)](_0x41c9ff,'INFO');}[a0_0x36fc91(0x310)](_0x34d38e){const _0x538c26=a0_0x36fc91;this['console'](_0x34d38e,_0x538c26(0x3fd));}[a0_0x36fc91(0x844)](_0x5b0a64){const _0x24375c=a0_0x36fc91;this[_0x24375c(0x1a0)](_0x5b0a64,_0x24375c(0x16d));}[a0_0x36fc91(0x855)](_0x7d9575){const _0x50a3ba=a0_0x36fc91;this['console'](_0x7d9575,_0x50a3ba(0x4d3));}['debug'](_0x480e97){const _0x22baeb=a0_0x36fc91;this[_0x22baeb(0x1a0)](_0x480e97,_0x22baeb(0x6d9));}['dark'](_0x1ed957){const _0x2670b1=a0_0x36fc91;this[_0x2670b1(0x1a0)](_0x1ed957,_0x2670b1(0x402));}};function Ys(){const _0x369869=a0_0x36fc91;process['on']('uncaughtException',(_0x389374,_0x3f6d68)=>{const _0x16e0f4=a0_0x19ac;new $('uncaughtException')['error']({'origin':_0x3f6d68,'stderr':process[_0x16e0f4(0x1c2)]['fd'],'error':_0x389374});}),process['on'](_0x369869(0x542),(_0x51f271,_0x71ea56)=>{const _0x57c999=_0x369869;new $('unhandledRejection')[_0x57c999(0x844)]({'origin':_0x71ea56,'stderr':process[_0x57c999(0x1c2)]['fd'],'error':_0x51f271});});}var Xs=A(require(a0_0x36fc91(0x4da))),hs=new Xs[(a0_0x36fc91(0x361))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Se=require(a0_0x36fc91(0x4ce)),Ae=A(require(a0_0x36fc91(0x4ce))),Ge=new $(a0_0x36fc91(0x165)),F=S[a0_0x36fc91(0x41a)](a0_0x36fc91(0x26a)),R=F[a0_0x36fc91(0x554)]?F[a0_0x36fc91(0x72e)][a0_0x36fc91(0x3bc)]?Ae[a0_0x36fc91(0x361)][a0_0x36fc91(0x49a)](F[a0_0x36fc91(0x72e)][a0_0x36fc91(0x3bc)],{'dbName':F[a0_0x36fc91(0x72e)][a0_0x36fc91(0x50b)]+a0_0x36fc91(0x47b)}):Ae[a0_0x36fc91(0x361)]['createConnection'](a0_0x36fc91(0x4df)+F[a0_0x36fc91(0x72e)][a0_0x36fc91(0x6a8)]+':'+F[a0_0x36fc91(0x72e)]['PORT']+a0_0x36fc91(0x49b),{'user':F[a0_0x36fc91(0x72e)][a0_0x36fc91(0x198)],'pass':F[a0_0x36fc91(0x72e)][a0_0x36fc91(0x71d)],'dbName':F['CONNECTION'][a0_0x36fc91(0x50b)]+a0_0x36fc91(0x47b)}):null;F[a0_0x36fc91(0x554)]&&Ge[a0_0x36fc91(0x707)](a0_0x36fc91(0x61e)+R['$dbName']);var ce=F[a0_0x36fc91(0x554)]?F['CONNECTION'][a0_0x36fc91(0x3bc)]?Ae[a0_0x36fc91(0x361)]['createConnection'](F[a0_0x36fc91(0x72e)][a0_0x36fc91(0x3bc)],{'dbName':a0_0x36fc91(0x673)}):Ae[a0_0x36fc91(0x361)][a0_0x36fc91(0x49a)](a0_0x36fc91(0x4df)+F[a0_0x36fc91(0x72e)][a0_0x36fc91(0x6a8)]+':'+F['CONNECTION'][a0_0x36fc91(0x577)]+a0_0x36fc91(0x49b),{'user':F[a0_0x36fc91(0x72e)][a0_0x36fc91(0x198)],'pass':F[a0_0x36fc91(0x72e)][a0_0x36fc91(0x71d)],'dbName':a0_0x36fc91(0x79f)}):null;ce&&Ge[a0_0x36fc91(0x707)](a0_0x36fc91(0x61e)+ce[a0_0x36fc91(0x2d2)]),process['on'](a0_0x36fc91(0x12b),()=>{const _0x5df242=a0_0x36fc91;R&&R[_0x5df242(0x13d)](()=>{const _0x62e4e1=_0x5df242;Ge[_0x62e4e1(0x707)](_0x62e4e1(0x304));}),ce&&ce[_0x5df242(0x13d)](()=>{const _0x21eee5=_0x5df242;Ge[_0x21eee5(0x707)]('CacheContacts\x20database\x20connection\x20closed.');});});var Yi=new Se[(a0_0x36fc91(0x596))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Xi=new Se[(a0_0x36fc91(0x596))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),Zi=new Se[(a0_0x36fc91(0x596))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),eo=new Se['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Yi],'default':[]}},{'_id':!0x1}),to=new Se['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':eo,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Xi},'groupdata':{'type':Zi,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Zs=_0xea56fd=>{let _0x33f420='z_'+_0xea56fd+'_Chats';return R?.['model']('ChatModel',to,_0x33f420);},ea=require(a0_0x36fc91(0x4ce)),so=new ea[(a0_0x36fc91(0x596))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ta=_0x36a10e=>{const _0xd50d25=a0_0x36fc91;let _0x19c2d8='z_'+_0x36a10e+'_Contacts';return R?.[_0xd50d25(0x181)]('ContactModel',so,_0x19c2d8);},sa=require('mongoose'),gs=class{},ao=new sa[(a0_0x36fc91(0x596))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),aa=ce?.[a0_0x36fc91(0x181)](gs['name'],ao,a0_0x36fc91(0x485)),ia=require(a0_0x36fc91(0x4ce)),ms=class{},io=new ia['Schema']({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),Be=ce?.[a0_0x36fc91(0x181)](ms[a0_0x36fc91(0x10b)],io,a0_0x36fc91(0x1cc)),oa=require(a0_0x36fc91(0x4ce)),oo=new oa[(a0_0x36fc91(0x596))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),ra=_0x401f5e=>{const _0x666168=a0_0x36fc91;let _0x1203ba='z_'+_0x401f5e+_0x666168(0x823);return R?.[_0x666168(0x181)]('MessageModel',oo,_0x1203ba);},na=require(a0_0x36fc91(0x4ce)),fs=class{},ro=new na[(a0_0x36fc91(0x596))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ca=R?.[a0_0x36fc91(0x181)](fs[a0_0x36fc91(0x10b)],ro,a0_0x36fc91(0x52f)),la=require('mongoose'),ws=class{},ua=new la[(a0_0x36fc91(0x596))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ua[a0_0x36fc91(0x4d0)](a0_0x36fc91(0x46f),function(_0x153c4b){const _0xb258a4=a0_0x36fc91;delete this['flowActive'],delete this[_0xb258a4(0x6e1)],delete this[_0xb258a4(0x26e)],delete this[_0xb258a4(0x5ea)],delete this['flowStopMinutes'],_0x153c4b();});var da=R?.[a0_0x36fc91(0x181)](ws[a0_0x36fc91(0x10b)],ua,a0_0x36fc91(0x159)),D=require(a0_0x36fc91(0x4ce)),ys=require('uuid'),We=class{},bs=class{},ha=new D[(a0_0x36fc91(0x596))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Ss=new D[(a0_0x36fc91(0x596))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),no=new D[(a0_0x36fc91(0x596))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x36fc91(0x7b8)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':a0_0x36fc91(0x6ff)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ga=new D[(a0_0x36fc91(0x596))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),co=new D[(a0_0x36fc91(0x596))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),lo=new D[(a0_0x36fc91(0x596))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Cs=new D[(a0_0x36fc91(0x596))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),uo=new D['Schema']({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),ma=new D[(a0_0x36fc91(0x596))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':no},'apirequest':co,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':uo,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),fa=new D[(a0_0x36fc91(0x596))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),wa=new D[(a0_0x36fc91(0x596))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[Cs],'blocks':[ma],'groups':[ha],'conditions':[ga],'varedits':[fa],'replyOptions':{'type':[Ss],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x214ad8=a0_0x36fc91;return _0x214ad8(0x7a2)+Math['random']()[_0x214ad8(0x698)](0x24)[_0x214ad8(0x2a9)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x36fc91(0x6e0)},'startID':{'type':String,'default':()=>(0x0,ys['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,ys['v4'])()},'shareOwners':{'type':[String],'default':[]}});wa[a0_0x36fc91(0x4d0)](a0_0x36fc91(0x754),function(_0x19c7db){const _0x4b29f7=a0_0x36fc91;let _0x2426fb=this[_0x4b29f7(0x5b8)]();if(_0x2426fb&&typeof _0x2426fb==_0x4b29f7(0x733)&&'$set'in _0x2426fb){let _0x215b70=_0x2426fb['$set'];if(_0x215b70){let _0x5dc16d=new Set(),_0x5d71a9=new Set(_0x215b70[_0x4b29f7(0x321)]?.[_0x4b29f7(0x71e)](_0xa8e7c0=>_0xa8e7c0['name'])),_0x5bd993=JSON[_0x4b29f7(0x3ef)](_0x215b70),_0x5866df=/{{(?!_)([^}]*)}}/g,_0x9db8f7;for(;(_0x9db8f7=_0x5866df['exec'](_0x5bd993))!==null;)_0x5d71a9['has'](_0x9db8f7[0x1])||_0x5dc16d['add'](_0x9db8f7[0x1]);_0x5dc16d[_0x4b29f7(0x6c1)]>0x0?(console[_0x4b29f7(0x310)]('Variáveis\x20não\x20encontradas:',Array[_0x4b29f7(0x113)](_0x5dc16d)),_0x215b70[_0x4b29f7(0x42f)]=Array[_0x4b29f7(0x113)](_0x5dc16d)):_0x215b70[_0x4b29f7(0x42f)]=[],this[_0x4b29f7(0x184)]({'$set':_0x215b70});}}_0x19c7db();});var Me=R?.[a0_0x36fc91(0x181)](bs['name'],wa,a0_0x36fc91(0x2ec)),po=new D[(a0_0x36fc91(0x596))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[Cs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[lo]},{'_id':!0x1}),ho=new D[(a0_0x36fc91(0x596))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[Cs],'blocks':[ma],'groups':[ha],'conditions':[ga],'varedits':[fa],'replyOptions':{'type':[Ss],'default':[]},'chatLog':po,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x36fc91(0x4fc)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x36fc91(0x86f)},'waitingMenu_replyOptions':{'type':[Ss],'default':[]}}),ya=_0x461a19=>{const _0x84f677=a0_0x36fc91;let _0x1db04b='z_'+_0x461a19+_0x84f677(0x1df);return R?.[_0x84f677(0x181)](_0x84f677(0x4de),ho,_0x1db04b);},go=new D['Schema']({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),pa=new D['Schema']({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),mo=new D[(a0_0x36fc91(0x596))]({'_id':{'type':String,'_id':!0x0},'messages':{'type':[pa],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x36fc91(0x447)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[go],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':pa,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),ba=_0x24fab6=>{const _0x485176=a0_0x36fc91;let _0x2cd1aa='z_'+_0x24fab6+_0x485176(0x3a1);return R?.['model'](_0x485176(0x14a),mo,_0x2cd1aa);},Ms=class{},fo=new D['Schema']({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),wo=new D[(a0_0x36fc91(0x596))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),yo=new D[(a0_0x36fc91(0x596))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),bo=new D[(a0_0x36fc91(0x596))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x36fc91(0x3a4)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),So=new D[(a0_0x36fc91(0x596))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Mo=new D[(a0_0x36fc91(0x596))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[So]},'customFields':{'type':[yo]},'flowConfig':{'type':bo,'default':{}},'flows':{'type':[wo],'default':[]},'autoCompleteMessages':{'type':[fo],'default':[]}}),Ie=R?.[a0_0x36fc91(0x181)](Ms['name'],Mo,a0_0x36fc91(0x669)),Sa=require(a0_0x36fc91(0x4ce)),Co=new Sa[(a0_0x36fc91(0x596))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ma=_0x50089f=>{const _0x20f34b=a0_0x36fc91;let _0x4470ac='z_'+_0x50089f+_0x20f34b(0x395);return R?.[_0x20f34b(0x181)](_0x20f34b(0x3d3),Co,_0x4470ac);},_=class{constructor(_0x22babe){const _0x244644=a0_0x36fc91;this[_0x244644(0x209)]=_0x22babe[_0x244644(0x41a)]('DATABASE');}};function I(_0x15d58c){const _0xe1556d=a0_0x36fc91;let _0x5ca7dd={};for(let [_0x58f9b2,_0x4351a9]of Object[_0xe1556d(0x60d)](_0x15d58c))if(typeof _0x4351a9==_0xe1556d(0x733)&&!Array[_0xe1556d(0x484)](_0x4351a9)){for(let [_0x5d4d7a,_0x3781d4]of Object[_0xe1556d(0x60d)](_0x4351a9))_0x5ca7dd[_0x58f9b2+'.'+_0x5d4d7a]=_0x3781d4;}else _0x5ca7dd[_0x58f9b2]=_0x4351a9;return _0x5ca7dd;}var ze=class{constructor(_0x2bf894,_0x82fa61,_0x566bca,_0x339736,_0x586a78,_0x8da6f5,_0x19409a,_0x5f40cf,_0x415d59,_0x2392a2,_0x2602db,_0x24fd0b,_0x527b3d){const _0xca0493=a0_0x36fc91;this['message']=_0x2bf894,this[_0xca0493(0x1aa)]=_0x82fa61,this['contact']=_0x566bca,this[_0xca0493(0x55a)]=_0x339736,this[_0xca0493(0x159)]=_0x586a78,this[_0xca0493(0x48f)]=_0x8da6f5,this[_0xca0493(0x7ef)]=_0x19409a,this[_0xca0493(0x419)]=_0x5f40cf,this[_0xca0493(0x2c3)]=_0x415d59,this[_0xca0493(0x1f2)]=_0x2392a2,this['scheduleMessage']=_0x2602db,this[_0xca0493(0x536)]=_0x24fd0b,this[_0xca0493(0x849)]=_0x527b3d;}get[a0_0x36fc91(0x4b0)](){const _0x3ef0b8=a0_0x36fc91;return this[_0x3ef0b8(0x849)];}},He=class{},Ke=class extends _{['getMessageModelForOwner'](_0x4af383){return ra(_0x4af383);}async['insert'](_0x157898,_0x3735a6){const _0x10c009=a0_0x36fc91;if(_0x157898['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x10c009(0x3f9)](_0x3735a6)[_0x10c009(0x80f)]([..._0x157898]))[_0x10c009(0x6eb)]};}catch(_0x5770d7){return _0x5770d7;}}async[a0_0x36fc91(0x757)](_0x2346c5,_0x952c21){const _0x2d5089=a0_0x36fc91;try{let _0x330527=this[_0x2d5089(0x3f9)](_0x952c21),_0x5da620=I(_0x2346c5[_0x2d5089(0x3bf)]);return await _0x330527[_0x2d5089(0x757)](_0x5da620)[_0x2d5089(0x790)]({'messageTimestamp':-0x1})[_0x2d5089(0x344)](_0x2346c5?.['limit']??0x0)[_0x2d5089(0x5ff)]();}catch{return[];}}async['delete'](_0x186dcd,_0x35e9e4){const _0x1bbd7e=a0_0x36fc91;try{let _0x7e2a39=this[_0x1bbd7e(0x3f9)](_0x35e9e4),_0x458051=I(_0x186dcd[_0x1bbd7e(0x3bf)]);await _0x7e2a39[_0x1bbd7e(0x313)](_0x458051);}catch(_0x45563b){console[_0x1bbd7e(0x844)](_0x45563b);}}async[a0_0x36fc91(0x3d8)](_0x42668b,_0x168c6b,_0x36edec){const _0x46eef3=a0_0x36fc91;try{let _0x4b7ea7=this[_0x46eef3(0x3f9)](_0x36edec),_0x3d69a3=I(_0x42668b[_0x46eef3(0x3bf)]);return await _0x4b7ea7[_0x46eef3(0x754)](_0x3d69a3,{'$set':_0x168c6b},{'new':!0x0});}catch(_0x3ab0d3){throw console['error'](_0x3ab0d3),_0x3ab0d3;}}async[a0_0x36fc91(0x80f)](_0x55127b,_0xcf0768){const _0x5d10e9=a0_0x36fc91;if(_0x55127b[_0x5d10e9(0x6eb)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x5d10e9(0x3f9)](_0xcf0768)[_0x5d10e9(0x80f)]([..._0x55127b]))[_0x5d10e9(0x6eb)]};}catch(_0x36ba93){return console[_0x5d10e9(0x83e)](_0x5d10e9(0x3f4),_0x36ba93),_0x36ba93;}}async[a0_0x36fc91(0x386)](_0x49d7be){const _0x4b4c77=a0_0x36fc91;try{return await this[_0x4b4c77(0x3f9)](_0x49d7be)[_0x4b4c77(0x183)][_0x4b4c77(0x19f)](),{'success':!0x0};}catch(_0x59cac6){return console['error'](_0x59cac6),{'success':!0x1,'error':_0x59cac6};}}},_s=A(require(a0_0x36fc91(0x7c5))),w=A(require(a0_0x36fc91(0x39b))),Le=require('fs'),U=A(require(a0_0x36fc91(0x860))),Y=A(require(a0_0x36fc91(0x19a))),Ai=require(a0_0x36fc91(0x730)),Ii=A(require(a0_0x36fc91(0x1c8))),Ti=A(require('qrcode-terminal')),Ca=['imageMessage',a0_0x36fc91(0x4ec),'audioMessage',a0_0x36fc91(0x6c8),'stickerMessage'],Ea=[a0_0x36fc91(0x864),a0_0x36fc91(0x7d1),a0_0x36fc91(0x369),'viewOnceMessageV2'],xs=require('os'),Ut=A(require(a0_0x36fc91(0x7b0))),Fe=require(a0_0x36fc91(0x51d)),Oi=require(a0_0x36fc91(0x4e1)),he=A(require(a0_0x36fc91(0x4ce))),k=require(a0_0x36fc91(0x7cc)),le=class{constructor(_0x2174e2,_0x579e0c,_0x6c534){const _0x31287e=a0_0x36fc91;this[_0x31287e(0x4cd)]=_0x2174e2,this['exists']=_0x579e0c,this[_0x31287e(0x10b)]=_0x6c534;}},Qe=class{},Ye=class{},Te=class{},Xe=class{},Ze=class{},Ce=class{},et=class{},tt=class{},st=class{},at=class{},xt=A(require(a0_0x36fc91(0x5e6))),va=require('fs'),Na=require(a0_0x36fc91(0x860));async function Oe(_0x1212be){const _0xe9c8c3=a0_0x36fc91;let _0x114e29=G[_0xe9c8c3(0x543)][_0x1212be];if(F['ENABLED']){let _0xa913da=R[_0xe9c8c3(0x49d)]()['db'](F[_0xe9c8c3(0x72e)]['DB_PREFIX_NAME']+'-instances')[_0xe9c8c3(0x183)](_0x1212be);return _0x114e29||(await _0xa913da[_0xe9c8c3(0x757)]({})['toArray']())[_0xe9c8c3(0x6eb)]>0x0;}return _0x114e29||(0x0,va[_0xe9c8c3(0x6f6)])((0x0,Na['join'])(be,_0x1212be));}async function $a(_0x32a912,_0x52a6b2,_0x36c433){const _0x908b8e=a0_0x36fc91;if(_0x32a912[_0x908b8e(0x3b3)]['includes']('/instance/create')||_0x32a912['originalUrl'][_0x908b8e(0x22b)](_0x908b8e(0x352))||_0x32a912[_0x908b8e(0x3b3)][_0x908b8e(0x22b)]('/exit')||_0x32a912[_0x908b8e(0x3b3)][_0x908b8e(0x22b)](_0x908b8e(0x578))||_0x32a912[_0x908b8e(0x3b3)]['includes'](_0x908b8e(0x809))||_0x32a912[_0x908b8e(0x3b3)]['includes']('/instance/connectionState')||_0x32a912[_0x908b8e(0x3b3)]['includes']('/instance/delete'))return _0x36c433();let _0x4c73c2=_0x32a912['params'];if(!_0x4c73c2?.[_0x908b8e(0x3af)])throw new m('instanceName\x20not\x20provided.');if(!await Oe(_0x4c73c2[_0x908b8e(0x3af)]))throw new j(_0x908b8e(0x5c5)+_0x4c73c2['instanceName']+_0x908b8e(0x50a));_0x36c433();}async function Ra(_0x205151,_0x32fe4d,_0x35598e){const _0x3d414a=a0_0x36fc91;if(_0x205151[_0x3d414a(0x3b3)][_0x3d414a(0x22b)]('/instance/create')){let _0x435096=_0x205151[_0x3d414a(0x68d)];if(await Oe(_0x435096[_0x3d414a(0x3af)]))throw new Z(_0x3d414a(0x246)+_0x435096[_0x3d414a(0x3af)]+'\x20is\x20already\x20in\x20use.');G[_0x3d414a(0x543)][_0x435096[_0x3d414a(0x3af)]]&&delete G[_0x3d414a(0x543)][_0x435096[_0x3d414a(0x3af)]];}_0x35598e();}var Aa=require(a0_0x36fc91(0x7cc)),Ia=A(require(a0_0x36fc91(0x3dc))),it=a0_0x36fc91(0x2b0),vo=new $(a0_0x36fc91(0x55c));async function No(_0x1877db,_0x1ba831,_0x505c5c){const _0x154d3a=a0_0x36fc91;let _0x164b67=_0x1877db['get'](_0x154d3a(0x18d));if(_0x164b67&&S[_0x154d3a(0x41a)](_0x154d3a(0x154))['API_KEY'][_0x154d3a(0x54f)]!==_0x164b67)throw new oe();if(S[_0x154d3a(0x41a)]('AUTHENTICATION')[_0x154d3a(0x7d5)][_0x154d3a(0x54f)]===_0x164b67)return _0x505c5c();if((_0x1877db[_0x154d3a(0x3b3)][_0x154d3a(0x22b)](_0x154d3a(0x460))||_0x1877db[_0x154d3a(0x3b3)][_0x154d3a(0x22b)](_0x154d3a(0x352)))&&!_0x164b67)throw new Z(_0x154d3a(0x525),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x36870e=S[_0x154d3a(0x41a)](_0x154d3a(0x154))['JWT'];try{let [_0x221ae4,_0x3b3403]=_0x1877db[_0x154d3a(0x41a)](_0x154d3a(0x7b6))['split']('\x20');if(_0x221ae4[_0x154d3a(0x73c)]()!==_0x154d3a(0x1a4))throw new oe();if(!(0x0,Aa['isJWT'])(_0x3b3403))throw new oe();let _0x45c711=_0x1877db[_0x154d3a(0x375)],_0x574553=Ia[_0x154d3a(0x361)]['verify'](_0x3b3403,_0x36870e['SECRET'],{'ignoreExpiration':_0x36870e['EXPIRIN_IN']===0x0});if(_0x45c711[_0x154d3a(0x3af)]!==_0x574553[_0x154d3a(0x3af)]||it!==_0x574553[_0x154d3a(0x6d2)])throw new oe();return _0x505c5c();}catch(_0x39a40f){throw vo['error'](_0x39a40f),new oe();}}async function $o(_0x2dc1bc,_0x361782,_0x3017fa){const _0x4792db=a0_0x36fc91;let _0x147a99=S['get'](_0x4792db(0x154))['API_KEY'],_0x33b722=_0x2dc1bc[_0x4792db(0x41a)](_0x4792db(0x18d));if(_0x147a99['KEY']===_0x33b722)return _0x3017fa();if(_0x2dc1bc[_0x4792db(0x3b3)]['includes'](_0x4792db(0x460))){let _0x454e31=Oa,_0x5ad3ec=_0x2dc1bc[_0x4792db(0x68d)][_0x4792db(0x3af)];if(_0x454e31&&_0x5ad3ec[_0x4792db(0x73c)]()[_0x4792db(0x368)](_0x454e31[_0x4792db(0x73c)]()))return _0x3017fa();if(!_0x33b722)throw new Z(_0x4792db(0x525),_0x4792db(0x272));}if(_0x2dc1bc['originalUrl'][_0x4792db(0x22b)]('/instance/fetchInstances')&&!_0x33b722)throw new Z(_0x4792db(0x525),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x2dc1bc[_0x4792db(0x3b3)][_0x4792db(0x22b)]('/exit')&&!_0x33b722)throw new Z(_0x4792db(0x525),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x2dc1bc[_0x4792db(0x3b3)][_0x4792db(0x22b)](_0x4792db(0x578))&&!_0x33b722)throw new Z(_0x4792db(0x525),_0x4792db(0x272));try{let _0xf9e528=_0x2dc1bc[_0x4792db(0x375)],_0x497ca7=await me[_0x4792db(0x48f)][_0x4792db(0x757)](_0xf9e528[_0x4792db(0x3af)]);if(_0x497ca7&&_0x497ca7['apikey']===_0x33b722)return _0x3017fa();}catch{}throw new oe();}var Ta={'jwt':No,'apikey':$o},di=require('express'),E=require(a0_0x36fc91(0x730)),C=(..._0x28988d)=>{const _0x229964=a0_0x36fc91;let _0x3f6371={};return _0x28988d['forEach'](_0x44d3ff=>_0x3f6371[_0x44d3ff]={'minLength':0x1,'description':_0x229964(0x453)+_0x44d3ff+_0x229964(0x260)}),{'if':{'propertyNames':{'enum':[..._0x28988d]}},'then':{'properties':_0x3f6371}};},v={'$id':(0x0,E['v4'])(),'type':a0_0x36fc91(0x733),'properties':{'instanceName':{'type':a0_0x36fc91(0x2c1)}},...C(a0_0x36fc91(0x3af))},mc={'$id':(0x0,E['v4'])(),'type':a0_0x36fc91(0x733),'properties':{'oldToken':{'type':'string'}},'required':[a0_0x36fc91(0x6ac)],...C(a0_0x36fc91(0x6ac))},fc={'properties':{'key':{'type':a0_0x36fc91(0x733),'properties':{'id':{'type':a0_0x36fc91(0x2c1)},'remoteJid':{'type':a0_0x36fc91(0x2c1)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x36fc91(0x370),a0_0x36fc91(0x4b7)],...C('id','remoteJid')},'message':{'type':'object'}}},ee={'properties':{'delay':{'type':a0_0x36fc91(0x659),'description':a0_0x36fc91(0x1ad)},'presence':{'type':a0_0x36fc91(0x2c1),'enum':[a0_0x36fc91(0x847),a0_0x36fc91(0x710),a0_0x36fc91(0x57e),a0_0x36fc91(0x557),a0_0x36fc91(0x667)]}}},K={'type':a0_0x36fc91(0x2c1),'description':'Invalid\x20format'},_a={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...K},'options':{...ee},'textMessage':{'type':'object','properties':{'text':{'type':'string'}},'required':['text'],...C('text')}},'required':[a0_0x36fc91(0x3bd),a0_0x36fc91(0x429)]},xa={'type':a0_0x36fc91(0x2c1),'pattern':a0_0x36fc91(0x57f),'description':a0_0x36fc91(0x132)},wc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...xa},'options':{...ee},'textMessage':{'type':a0_0x36fc91(0x733),'properties':{'text':{'type':a0_0x36fc91(0x2c1)}},'required':[a0_0x36fc91(0x76e)],...C(a0_0x36fc91(0x76e))}},'required':[a0_0x36fc91(0x3bd),a0_0x36fc91(0x429)]},yc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...xa},'options':{...ee},'mediaMessage':{'type':a0_0x36fc91(0x733),'properties':{'mediatype':{'type':a0_0x36fc91(0x2c1),'enum':['image','document',a0_0x36fc91(0x2a3),a0_0x36fc91(0x48a)]},'media':{'type':'string'},'fileName':{'type':'string'},'caption':{'type':'string'}},'required':[a0_0x36fc91(0x160),a0_0x36fc91(0x1ac)],...C(a0_0x36fc91(0x3f6),a0_0x36fc91(0x7ae),a0_0x36fc91(0x1ac))}},'required':[a0_0x36fc91(0x1b2),a0_0x36fc91(0x429)]},Da={'$id':(0x0,E['v4'])(),'type':a0_0x36fc91(0x733),'properties':{'number':{...K},'options':{...ee},'stickerMessage':{'type':a0_0x36fc91(0x733),'properties':{'image':{'type':a0_0x36fc91(0x2c1)}},'required':[a0_0x36fc91(0x44a)],...C('image')}},'required':[a0_0x36fc91(0x50e),a0_0x36fc91(0x429)]},Pa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'statusMessage':{'type':a0_0x36fc91(0x733),'properties':{'type':{'type':'string','enum':[a0_0x36fc91(0x76e),a0_0x36fc91(0x44a),a0_0x36fc91(0x48a),a0_0x36fc91(0x2a3)]},'content':{'type':'string'},'caption':{'type':a0_0x36fc91(0x2c1)},'backgroundColor':{'type':a0_0x36fc91(0x2c1)},'font':{'type':a0_0x36fc91(0x659),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x36fc91(0x637),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x36fc91(0x2c1),'pattern':a0_0x36fc91(0x5bb),'description':a0_0x36fc91(0x440)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x36fc91(0x1ef),'content'],...C('type',a0_0x36fc91(0x276))}},'required':[a0_0x36fc91(0x64f)]},ka={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...K},'options':{...ee},'mediaMessage':{'type':a0_0x36fc91(0x733),'properties':{'mediatype':{'type':a0_0x36fc91(0x2c1),'enum':['image',a0_0x36fc91(0x679),a0_0x36fc91(0x2a3),a0_0x36fc91(0x48a)]},'media':{'type':a0_0x36fc91(0x2c1)},'fileName':{'type':'string'},'caption':{'type':a0_0x36fc91(0x2c1)}},'required':[a0_0x36fc91(0x160),a0_0x36fc91(0x1ac)],...C(a0_0x36fc91(0x3f6),a0_0x36fc91(0x7ae),a0_0x36fc91(0x1ac))}},'required':['mediaMessage',a0_0x36fc91(0x429)]},La={'$id':(0x0,E['v4'])(),'type':a0_0x36fc91(0x733),'properties':{'number':{...K},'options':{...ee},'audioMessage':{'type':a0_0x36fc91(0x733),'properties':{'audio':{'type':a0_0x36fc91(0x2c1)}},'required':['audio'],...C(a0_0x36fc91(0x48a))}},'required':[a0_0x36fc91(0x587),a0_0x36fc91(0x429)]},Fa={'$id':(0x0,E['v4'])(),'type':a0_0x36fc91(0x733),'properties':{'number':{...K},'pollMessage':{'type':a0_0x36fc91(0x733),'properties':{'name':{'type':a0_0x36fc91(0x2c1)},'selectableCount':{'type':a0_0x36fc91(0x429)},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x36fc91(0x288),'values'],...C('name',a0_0x36fc91(0x288),a0_0x36fc91(0x663))}},'required':[a0_0x36fc91(0x429),'pollMessage']},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x36fc91(0x733),'properties':{'number':{...K},'menuMessage':{'type':a0_0x36fc91(0x733),'properties':{'text':{'type':a0_0x36fc91(0x2c1)},'choices':{'type':a0_0x36fc91(0x637),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x36fc91(0x76e),a0_0x36fc91(0x56d)],...C(a0_0x36fc91(0x76e),a0_0x36fc91(0x56d))}},'required':[a0_0x36fc91(0x429),a0_0x36fc91(0x5c7)]},ja={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...K},'options':{...ee},'buttonMessage':{'type':a0_0x36fc91(0x733),'properties':{'title':{'type':'string'},'description':{'type':a0_0x36fc91(0x2c1)},'footerText':{'type':a0_0x36fc91(0x2c1)},'buttons':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x36fc91(0x733),'properties':{'buttonText':{'type':'string'},'buttonId':{'type':a0_0x36fc91(0x2c1)}},'required':[a0_0x36fc91(0x478),a0_0x36fc91(0x28c)],...C(a0_0x36fc91(0x478),a0_0x36fc91(0x28c))}},'mediaMessage':{'type':a0_0x36fc91(0x733),'properties':{'media':{'type':a0_0x36fc91(0x2c1)},'fileName':{'type':a0_0x36fc91(0x2c1)},'mediatype':{'type':a0_0x36fc91(0x2c1),'enum':[a0_0x36fc91(0x44a),a0_0x36fc91(0x679),a0_0x36fc91(0x2a3)]}},'required':[a0_0x36fc91(0x1ac),'mediatype'],...C(a0_0x36fc91(0x1ac),a0_0x36fc91(0x3f6))}},'required':['title','buttons'],...C('title','description')}},'required':[a0_0x36fc91(0x429),a0_0x36fc91(0x7b5)]},Ja={'$id':(0x0,E['v4'])(),'type':a0_0x36fc91(0x733),'properties':{'number':{...K},'options':{...ee},'locationMessage':{'type':a0_0x36fc91(0x733),'properties':{'latitude':{'type':a0_0x36fc91(0x429)},'longitude':{'type':'number'},'name':{'type':a0_0x36fc91(0x2c1)},'address':{'type':a0_0x36fc91(0x2c1)}},'required':[a0_0x36fc91(0x449),a0_0x36fc91(0x207)],...C(a0_0x36fc91(0x10b),a0_0x36fc91(0x1f5))}},'required':['number',a0_0x36fc91(0x684)]},qa={'$id':(0x0,E['v4'])(),'type':a0_0x36fc91(0x733),'properties':{'number':{...K},'options':{...ee},'listMessage':{'type':a0_0x36fc91(0x733),'properties':{'title':{'type':a0_0x36fc91(0x2c1)},'description':{'type':'string'},'footerText':{'type':a0_0x36fc91(0x2c1)},'buttonText':{'type':a0_0x36fc91(0x2c1)},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x36fc91(0x733),'properties':{'title':{'type':'string'},'rows':{'type':a0_0x36fc91(0x637),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':'string'},'description':{'type':a0_0x36fc91(0x2c1)},'rowId':{'type':'string'}},'required':['title',a0_0x36fc91(0x25b)],...C(a0_0x36fc91(0x5d3),a0_0x36fc91(0x25b))}}},'required':[a0_0x36fc91(0x5d3),'rows'],...C('title')}}},'required':[a0_0x36fc91(0x5d3),'description',a0_0x36fc91(0x478),a0_0x36fc91(0x6a7)],...C('title','description',a0_0x36fc91(0x478),'footerText')}},'required':[a0_0x36fc91(0x429),a0_0x36fc91(0x65a)]},Va={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...K},'options':{...ee},'contactMessage':{'type':'array','items':{'type':a0_0x36fc91(0x733),'properties':{'fullName':{'type':'string'},'phoneNumber':{'type':'string','minLength':0xa}},'required':[a0_0x36fc91(0x23e),a0_0x36fc91(0x11a)],...C(a0_0x36fc91(0x23e))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x36fc91(0x429),a0_0x36fc91(0x84e)]},Ga={'$id':(0x0,E['v4'])(),'type':a0_0x36fc91(0x733),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':'object','properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x36fc91(0x2c1)},'fromMe':{'type':a0_0x36fc91(0x6df),'enum':[!0x0,!0x1]}},'required':['id',a0_0x36fc91(0x370),a0_0x36fc91(0x4b7)],...C('id',a0_0x36fc91(0x370))},'reaction':{'type':a0_0x36fc91(0x2c1)}},'required':[a0_0x36fc91(0x39c),a0_0x36fc91(0x1b9)],...C('reaction')}},'required':['reactionMessage']},Ba={'$id':(0x0,E['v4'])(),'type':a0_0x36fc91(0x733),'properties':{'numbers':{'type':a0_0x36fc91(0x637),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x36fc91(0x2c1),'pattern':a0_0x36fc91(0x5bb),'description':a0_0x36fc91(0x69d)}}}},Wa={'$id':(0x0,E['v4'])(),'type':a0_0x36fc91(0x733),'properties':{'readMessages':{'type':a0_0x36fc91(0x637),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x36fc91(0x2c1)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x36fc91(0x2c1)}},'required':['id',a0_0x36fc91(0x4b7),a0_0x36fc91(0x370)],...C('id',a0_0x36fc91(0x370))}}},'required':[a0_0x36fc91(0x24c)]},za={'$id':(0x0,E['v4'])(),'type':a0_0x36fc91(0x733),'properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':a0_0x36fc91(0x2c1),'enum':[a0_0x36fc91(0x42b),'none']},'profile':{'type':a0_0x36fc91(0x2c1),'enum':[a0_0x36fc91(0x42b),a0_0x36fc91(0x535),a0_0x36fc91(0x17b),a0_0x36fc91(0x3b4)]},'status':{'type':a0_0x36fc91(0x2c1),'enum':['all',a0_0x36fc91(0x535),a0_0x36fc91(0x17b),a0_0x36fc91(0x3b4)]},'online':{'type':a0_0x36fc91(0x2c1),'enum':['all',a0_0x36fc91(0x2c8)]},'last':{'type':a0_0x36fc91(0x2c1),'enum':[a0_0x36fc91(0x42b),'contacts',a0_0x36fc91(0x17b),a0_0x36fc91(0x3b4)]},'groupadd':{'type':a0_0x36fc91(0x2c1),'enum':[a0_0x36fc91(0x42b),a0_0x36fc91(0x535),a0_0x36fc91(0x17b),a0_0x36fc91(0x3b4)]}},'required':[a0_0x36fc91(0x12a),'profile','status',a0_0x36fc91(0x604),'last',a0_0x36fc91(0x792)],...C(a0_0x36fc91(0x12a),a0_0x36fc91(0x4bf),'status','online',a0_0x36fc91(0x518),a0_0x36fc91(0x792))}},'required':['privacySettings']},Ha={'$id':(0x0,E['v4'])(),'type':'object','properties':{'lastMessage':{'type':a0_0x36fc91(0x733),'properties':{'key':{'type':a0_0x36fc91(0x733),'properties':{'id':{'type':a0_0x36fc91(0x2c1)},'remoteJid':{'type':a0_0x36fc91(0x2c1)},'fromMe':{'type':a0_0x36fc91(0x6df),'enum':[!0x0,!0x1]}},'required':['id',a0_0x36fc91(0x4b7),a0_0x36fc91(0x370)],...C('id',a0_0x36fc91(0x370))},'messageTimestamp':{'type':a0_0x36fc91(0x659),'minLength':0x1}},'required':[a0_0x36fc91(0x39c)],...C('messageTimestamp')},'archive':{'type':a0_0x36fc91(0x6df),'enum':[!0x0,!0x1]}},'required':[a0_0x36fc91(0x610),a0_0x36fc91(0x1ea)]},Ka={'$id':(0x0,E['v4'])(),'type':a0_0x36fc91(0x733),'properties':{'id':{'type':a0_0x36fc91(0x2c1)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x36fc91(0x2c1)},'participant':{'type':a0_0x36fc91(0x2c1)}},'required':['id',a0_0x36fc91(0x4b7),a0_0x36fc91(0x370)],...C('id',a0_0x36fc91(0x370),a0_0x36fc91(0x3c8))},Qa={'$id':(0x0,E['v4'])(),'type':a0_0x36fc91(0x733),'properties':{'where':{'type':a0_0x36fc91(0x733),'properties':{'_id':{'type':a0_0x36fc91(0x2c1),'minLength':0x1},'pushName':{'type':a0_0x36fc91(0x2c1),'minLength':0x1},'id':{'type':a0_0x36fc91(0x2c1),'minLength':0x1}},...C(a0_0x36fc91(0x21f),'id','pushName')}}},Ya={'$id':(0x0,E['v4'])(),'type':a0_0x36fc91(0x733),'properties':{'name':{'type':'string'}},...C(a0_0x36fc91(0x10b))},Xa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'status':{'type':a0_0x36fc91(0x2c1)}},...C(a0_0x36fc91(0x166))},_e={'$id':(0x0,E['v4'])(),'type':a0_0x36fc91(0x733),'properties':{'number':{'type':a0_0x36fc91(0x2c1)},'picture':{'type':a0_0x36fc91(0x2c1)}}},Za={'type':'object','properties':{'wuid':{'type':'string'},'name':{'type':a0_0x36fc91(0x2c1)},'picture':{'type':a0_0x36fc91(0x2c1)},'status':{'type':a0_0x36fc91(0x2c1)},'isBusiness':{'type':a0_0x36fc91(0x6df)}}},ei={'$id':(0x0,E['v4'])(),'type':a0_0x36fc91(0x733),'properties':{'where':{'type':a0_0x36fc91(0x733),'properties':{'_id':{'type':a0_0x36fc91(0x2c1),'minLength':0x1},'key':{'type':a0_0x36fc91(0x733),'if':{'propertyNames':{'enum':['fromMe',a0_0x36fc91(0x370),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x36fc91(0x2c1),'minLength':0x1,'description':a0_0x36fc91(0x45d)},'id':{'type':a0_0x36fc91(0x2c1),'minLength':0x1,'description':a0_0x36fc91(0x45d)},'fromMe':{'type':a0_0x36fc91(0x6df),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x36fc91(0x733)}},...C(a0_0x36fc91(0x21f))},'limit':{'type':'integer'}}},bc={'$id':(0x0,E['v4'])(),'type':a0_0x36fc91(0x733),'properties':{'where':{'type':'object','properties':{'_id':{'type':'string'},'remoteJid':{'type':'string'},'id':{'type':a0_0x36fc91(0x2c1)},'fromMe':{'type':a0_0x36fc91(0x6df),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x36fc91(0x2c1)},'status':{'type':a0_0x36fc91(0x2c1),'enum':[a0_0x36fc91(0x16d),'PENDING',a0_0x36fc91(0x5ba),a0_0x36fc91(0x572),a0_0x36fc91(0x257),a0_0x36fc91(0x2d1)]}},...C(a0_0x36fc91(0x21f),'remoteJid','id','status')},'limit':{'type':a0_0x36fc91(0x659)}}},ti={'$id':(0x0,E['v4'])(),'type':a0_0x36fc91(0x733),'properties':{'number':{...K},'presence':{'type':a0_0x36fc91(0x2c1),'enum':[a0_0x36fc91(0x847),a0_0x36fc91(0x710),'composing',a0_0x36fc91(0x557),a0_0x36fc91(0x667)]}},'required':['presence','number']},si={'$id':(0x0,E['v4'])(),'type':'object','properties':{'subject':{'type':'string'},'description':{'type':a0_0x36fc91(0x2c1)},'profilePicture':{'type':a0_0x36fc91(0x2c1)},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x36fc91(0x2c1),'minLength':0xa,'pattern':a0_0x36fc91(0x316),'description':a0_0x36fc91(0x126)}}},'required':[a0_0x36fc91(0x1ee),a0_0x36fc91(0x4cf)],...C(a0_0x36fc91(0x1ee),a0_0x36fc91(0x3a7),a0_0x36fc91(0x725))},xe={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x36fc91(0x2c1),'pattern':a0_0x36fc91(0x876)}},'required':['groupJid'],...C(a0_0x36fc91(0x817))},ai={'$id':(0x0,E['v4'])(),'type':a0_0x36fc91(0x733),'properties':{'groupJid':{'type':'string'},'action':{'type':a0_0x36fc91(0x2c1),'enum':[a0_0x36fc91(0x187),a0_0x36fc91(0x17d),a0_0x36fc91(0x23a),'demote',a0_0x36fc91(0x6af),a0_0x36fc91(0x20c)]},'participants':{'type':a0_0x36fc91(0x637),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x36fc91(0x2c1),'minLength':0xa,'pattern':a0_0x36fc91(0x316),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x36fc91(0x817),'action',a0_0x36fc91(0x4cf)],...C('groupJid',a0_0x36fc91(0x61a))},ii={'$id':(0x0,E['v4'])(),'type':a0_0x36fc91(0x733),'properties':{'groupJid':{'type':a0_0x36fc91(0x2c1)},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x36fc91(0x817),a0_0x36fc91(0x584)],...C('groupJid','expiration')},oi={'$id':(0x0,E['v4'])(),'type':a0_0x36fc91(0x733),'properties':{'groupJid':{'type':a0_0x36fc91(0x2c1)},'image':{'type':a0_0x36fc91(0x2c1)}},'required':[a0_0x36fc91(0x817),'image'],...C(a0_0x36fc91(0x817),a0_0x36fc91(0x44a))},ri={'$id':(0x0,E['v4'])(),'type':a0_0x36fc91(0x733),'properties':{'groupJid':{'type':a0_0x36fc91(0x2c1)},'description':{'type':a0_0x36fc91(0x2c1)}},'required':[a0_0x36fc91(0x817),a0_0x36fc91(0x3a7)],...C(a0_0x36fc91(0x817),'description')},ni={'$id':(0x0,E['v4'])(),'type':a0_0x36fc91(0x733),'properties':{'groupJid':{'type':'string'},'name':{'type':a0_0x36fc91(0x2c1)}},'required':[a0_0x36fc91(0x817),a0_0x36fc91(0x10b)],...C(a0_0x36fc91(0x817),'name')},ci={'$id':(0x0,E['v4'])(),'type':a0_0x36fc91(0x733),'properties':{'groupJid':{'type':'string'},'setting':{'type':a0_0x36fc91(0x2c1),'enum':[a0_0x36fc91(0x2bf),a0_0x36fc91(0x40c),a0_0x36fc91(0x59c),a0_0x36fc91(0x7a7)]}},'required':[a0_0x36fc91(0x817),a0_0x36fc91(0x755)],...C(a0_0x36fc91(0x817),a0_0x36fc91(0x755))},li={'$id':(0x0,E['v4'])(),'type':a0_0x36fc91(0x733),'properties':{'groupJid':{'type':a0_0x36fc91(0x2c1)},'restrict':{'type':'boolean'},'announce':{'type':'boolean'},'memberAddMode':{'type':a0_0x36fc91(0x6df)},'joinApprovalMode':{'type':a0_0x36fc91(0x6df)},'expiration':{'type':a0_0x36fc91(0x659),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x36fc91(0x2c1)},'description':{'type':a0_0x36fc91(0x2c1)},'image':{'type':a0_0x36fc91(0x2c1)}}},Es={'$id':(0x0,E['v4'])(),'type':a0_0x36fc91(0x733),'properties':{'inviteCode':{'type':a0_0x36fc91(0x2c1)}},'required':[a0_0x36fc91(0x616)],...C(a0_0x36fc91(0x616))},ui={'$id':(0x0,E['v4'])(),'type':'object','properties':{'url':{'type':a0_0x36fc91(0x2c1)},'enabled':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['url','enabled']},Sc={'$id':(0x0,E['v4'])(),'type':a0_0x36fc91(0x733),'properties':{'local_map':{'type':a0_0x36fc91(0x6df),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x36fc91(0x6df),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x36fc91(0x6df),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x36fc91(0x6df),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x36fc91(0x6df),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x36fc91(0x6df),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x36fc91(0x6df),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x36fc91(0x6df),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x36fc91(0x6df),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x36fc91(0x6df),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x36fc91(0x6df),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x36fc91(0x6df),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x36fc91(0x6df),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x36fc91(0x6df),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x36fc91(0x6e6),a0_0x36fc91(0x682),a0_0x36fc91(0x2c6),'MESSAGES_SET','MESSAGES_UPDATE',a0_0x36fc91(0x86c),a0_0x36fc91(0x2d0),a0_0x36fc91(0x22c),'CONTACTS_UPSERT',a0_0x36fc91(0x162),'PRESENCE_UPDATE',a0_0x36fc91(0x39a),a0_0x36fc91(0x150),a0_0x36fc91(0x5a7),a0_0x36fc91(0x639),a0_0x36fc91(0x594),a0_0x36fc91(0x853),'GROUPS_UPDATE',a0_0x36fc91(0x384)],...C(a0_0x36fc91(0x6e6),'STATUS_INSTANCE',a0_0x36fc91(0x2c6),a0_0x36fc91(0x61f),a0_0x36fc91(0x62b),a0_0x36fc91(0x86c),a0_0x36fc91(0x2d0),a0_0x36fc91(0x22c),'CONTACTS_UPSERT',a0_0x36fc91(0x162),a0_0x36fc91(0x2b6),a0_0x36fc91(0x39a),a0_0x36fc91(0x150),'CHATS_UPDATE','CHATS_DELETE','CONNECTION_UPDATE',a0_0x36fc91(0x853),a0_0x36fc91(0x657),a0_0x36fc91(0x384))},ot=class{},rt=class extends _{[a0_0x36fc91(0x24a)](_0x419972){return ta(_0x419972);}async[a0_0x36fc91(0x573)](_0x2d1683){const _0x55890d=a0_0x36fc91;if(_0x2d1683[_0x55890d(0x6eb)]!==0x0)try{return{'insertCount':(await this[_0x55890d(0x24a)](_0x2d1683[0x0][_0x55890d(0x3c6)])[_0x55890d(0x80f)]([..._0x2d1683]))['length']};}catch(_0x502b34){return _0x502b34;}}async[a0_0x36fc91(0x807)](_0x4d001e,_0x52cd9a){const _0x469354=a0_0x36fc91;try{return{'deletedCount':(await this[_0x469354(0x24a)](_0x52cd9a)[_0x469354(0x313)]({..._0x4d001e['where']}))[_0x469354(0x16c)]};}catch(_0x2a2500){return{'error':_0x2a2500?.['toString']()};}}async['update'](_0x14a2ec,_0x474efa){const _0x36d78c=a0_0x36fc91;try{if(_0x14a2ec[_0x36d78c(0x6eb)]===0x0)return;let _0x3f7024=this[_0x36d78c(0x24a)](_0x474efa),_0x4e967c=_0x14a2ec[_0x36d78c(0x71e)](_0x482f2f=>({'updateOne':{'filter':{'_id':_0x482f2f[_0x36d78c(0x21f)],'owner':_0x474efa},'update':{..._0x482f2f}}})),{modifiedCount:_0x4620c8}=await _0x3f7024['bulkWrite'](_0x4e967c);return{'insertCount':_0x4620c8};}catch{return;}}async[a0_0x36fc91(0x757)](_0x4ae335,_0x27293e){const _0x1236fb=a0_0x36fc91;try{let _0x4c53bd=this[_0x1236fb(0x24a)](_0x27293e),_0x31264d=I(_0x4ae335['where']);return await _0x4c53bd[_0x1236fb(0x757)](_0x31264d)['limit'](_0x4ae335?.[_0x1236fb(0x344)]??0x0)[_0x1236fb(0x5ff)]();}catch{return[];}}async[a0_0x36fc91(0x74a)](_0x4fac48,_0x29ebcb){const _0x2b4ef8=a0_0x36fc91;try{let _0x595bdd=this[_0x2b4ef8(0x24a)](_0x29ebcb),_0x230a66=I(_0x4fac48[_0x2b4ef8(0x3bf)]);return await _0x595bdd[_0x2b4ef8(0x74a)](_0x230a66)[_0x2b4ef8(0x5ff)]();}catch{return null;}}async[a0_0x36fc91(0x386)](_0x3f378d){const _0x3bc346=a0_0x36fc91;try{return await this[_0x3bc346(0x24a)](_0x3f378d)[_0x3bc346(0x183)][_0x3bc346(0x19f)](),{'success':!0x0};}catch(_0x3db198){return console['error'](_0x3db198),{'success':!0x1,'error':_0x3db198};}}},nt=require(a0_0x36fc91(0x18c)),Ic=require(a0_0x36fc91(0x78a)),vs=new $('Validate'),V=class{[a0_0x36fc91(0x4bb)](_0x2533de,_0x2c8076=!0x0){const _0xad7790=a0_0x36fc91;let _0x4d5b7c='/'+_0x2533de;return _0x2c8076&&(_0x4d5b7c+=_0xad7790(0x539)),_0x4d5b7c;}async[a0_0x36fc91(0x565)](_0x50dfeb){const _0x57cbbc=a0_0x36fc91;let {request:_0x4258e7,schema:_0x222f48,ClassRef:_0x4fb28e,execute:_0x3ab1cc}=_0x50dfeb,_0xb7f3b2=new _0x4fb28e(),_0x31e13c=_0x4258e7[_0x57cbbc(0x68d)],_0x2958af=_0x4258e7[_0x57cbbc(0x375)];_0x4258e7?.[_0x57cbbc(0x42a)]&&Object[_0x57cbbc(0x448)](_0x4258e7[_0x57cbbc(0x42a)])[_0x57cbbc(0x6eb)]>0x0&&Object[_0x57cbbc(0x671)](_0x2958af,_0x4258e7[_0x57cbbc(0x42a)]),_0x4258e7[_0x57cbbc(0x3b3)][_0x57cbbc(0x22b)](_0x57cbbc(0x460))&&Object[_0x57cbbc(0x671)](_0x2958af,_0x31e13c),Object['assign'](_0xb7f3b2,_0x31e13c);let _0x54430a=_0x222f48?(0x0,nt[_0x57cbbc(0x5ce)])(_0xb7f3b2,_0x222f48):{'valid':!0x0,'errors':[]};if(!_0x54430a[_0x57cbbc(0x6b9)]){let _0x12b041=_0x54430a[_0x57cbbc(0x29e)][_0x57cbbc(0x71e)](({property:_0x27fdcf,stack:_0x13da00,schema:_0x32cc32})=>{const _0x4cbb47=_0x57cbbc;let _0x4a7aa3;return _0x32cc32[_0x4cbb47(0x3a7)]?_0x4a7aa3=_0x32cc32['description']:_0x4a7aa3=_0x13da00[_0x4cbb47(0x6fe)](_0x4cbb47(0x146),''),{'property':_0x27fdcf[_0x4cbb47(0x6fe)](_0x4cbb47(0x146),''),'message':_0x4a7aa3};});throw vs[_0x57cbbc(0x844)]([..._0x12b041]),new m(..._0x12b041);}return await _0x3ab1cc(_0x2958af,_0xb7f3b2);}async[a0_0x36fc91(0x54a)](_0xed0ae9){const _0x318343=a0_0x36fc91;let {request:_0x52f19f,ClassRef:_0x1fd7c1,schema:_0x2634ed,execute:_0x21e712}=_0xed0ae9,_0x5e8a76=_0x52f19f['query'];if(!_0x5e8a76?.[_0x318343(0x817)])throw new m(_0x318343(0x68c),_0x318343(0x223));let _0xc7f360=_0x52f19f[_0x318343(0x375)],_0x3038a0=_0x52f19f[_0x318343(0x68d)],_0x52e789=new _0x1fd7c1();Object[_0x318343(0x671)](_0x3038a0,_0x5e8a76),Object[_0x318343(0x671)](_0x52e789,_0x3038a0);let _0x3969e0=(0x0,nt[_0x318343(0x5ce)])(_0x52e789,_0x2634ed);if(!_0x3969e0['valid']){let _0x406c99=_0x3969e0['errors'][_0x318343(0x71e)](({property:_0x41cde0,stack:_0x20b861,schema:_0xfcd47a})=>{const _0x493b23=_0x318343;let _0x4f3c33;return _0xfcd47a[_0x493b23(0x3a7)]?_0x4f3c33=_0xfcd47a['description']:_0x4f3c33=_0x20b861['replace'](_0x493b23(0x146),''),{'property':_0x41cde0[_0x493b23(0x6fe)](_0x493b23(0x146),''),'message':_0x4f3c33};});throw vs[_0x318343(0x844)]([..._0x406c99]),new m(..._0x406c99);}return await _0x21e712(_0xc7f360,_0x52e789);}async[a0_0x36fc91(0x873)](_0x279a0c){const _0x501e96=a0_0x36fc91;let {request:_0x1d6648,ClassRef:_0x4fab14,schema:_0xfdb062,execute:_0x537016}=_0x279a0c,_0x2f7749=_0x1d6648[_0x501e96(0x68d)];if(!_0x2f7749?.[_0x501e96(0x616)])throw new m(_0x501e96(0x1a7),_0x501e96(0x66c));let _0x54a64d=_0x1d6648['params'],_0x49c565=_0x1d6648['body'],_0xa45193=new _0x4fab14();Object[_0x501e96(0x671)](_0x49c565,_0x2f7749),Object['assign'](_0xa45193,_0x49c565);let _0x32f5ce=(0x0,nt['validate'])(_0xa45193,_0xfdb062);if(!_0x32f5ce[_0x501e96(0x6b9)]){let _0x1e7db=_0x32f5ce[_0x501e96(0x29e)][_0x501e96(0x71e)](({property:_0x568e4e,stack:_0xc61f27,schema:_0x2429ed})=>{const _0x581dcd=_0x501e96;let _0x4fa6a6;return _0x2429ed['description']?_0x4fa6a6=_0x2429ed['description']:_0x4fa6a6=_0xc61f27[_0x581dcd(0x6fe)](_0x581dcd(0x146),''),{'property':_0x568e4e[_0x581dcd(0x6fe)](_0x581dcd(0x146),''),'message':_0x4fa6a6};});throw vs[_0x501e96(0x844)]([..._0x1e7db]),new m(..._0x1e7db);}return await _0x537016(_0x54a64d,_0xa45193);}},M=class{},Gc=new $(a0_0x36fc91(0x1e0)),ct=class extends V{constructor(..._0x112233){const _0x308cae=a0_0x36fc91;super(),this[_0x308cae(0x73f)]=(0x0,di['Router'])(),this[_0x308cae(0x73f)]['post'](this[_0x308cae(0x4bb)](_0x308cae(0x205)),..._0x112233,async(_0x2ba9de,_0xfd5c7f)=>{const _0x521765=_0x308cae;let _0x1fe3c7=await this[_0x521765(0x565)]({'request':_0x2ba9de,'schema':ti,'ClassRef':Qe,'execute':(_0x8ccd,_0x97259d)=>P[_0x521765(0x205)](_0x8ccd,_0x97259d)});return _0xfd5c7f['status'](0xc9)[_0x521765(0x6ba)](_0x1fe3c7);})[_0x308cae(0x6a5)](this[_0x308cae(0x4bb)](_0x308cae(0x2d6)),..._0x112233,async(_0x5c54ca,_0x4aaeff)=>{const _0x3111e9=_0x308cae;let _0x214770=await this['dataValidate']({'request':_0x5c54ca,'schema':Ba,'ClassRef':Ye,'execute':(_0x378612,_0x2f2684)=>P[_0x3111e9(0x3d5)](_0x378612,_0x2f2684)});return _0x4aaeff[_0x3111e9(0x166)](0xc9)['json'](_0x214770);})[_0x308cae(0x6a5)](this['routerPath'](_0x308cae(0x533)),..._0x112233,async(_0x1414f9,_0x5377ff)=>{const _0x52a927=_0x308cae;let _0x2e5120=await this['dataValidate']({'request':_0x1414f9,'schema':v,'ClassRef':M,'execute':(_0x3d7a91,_0x5dcba2)=>P[_0x52a927(0x533)](_0x3d7a91,_0x5dcba2)});return _0x5377ff[_0x52a927(0x166)](0xc9)[_0x52a927(0x6ba)](_0x2e5120);})[_0x308cae(0x407)](this[_0x308cae(0x4bb)](_0x308cae(0x6b0)),..._0x112233,async(_0x518c95,_0x352e1c)=>{const _0x464a94=_0x308cae;let _0x4ff234=await this[_0x464a94(0x565)]({'request':_0x518c95,'schema':Wa,'ClassRef':et,'execute':(_0xafad36,_0x4e85c7)=>P[_0x464a94(0x4eb)](_0xafad36,_0x4e85c7)});return _0x352e1c[_0x464a94(0x166)](0xc9)[_0x464a94(0x6ba)](_0x4ff234);})[_0x308cae(0x407)](this[_0x308cae(0x4bb)](_0x308cae(0x1ce)),..._0x112233,async(_0x625217,_0x1cd1cc)=>{const _0xc42bd4=_0x308cae;let _0x3242d1=await this['dataValidate']({'request':_0x625217,'schema':Ha,'ClassRef':tt,'execute':(_0x282680,_0x3e7001)=>P[_0xc42bd4(0x1ce)](_0x282680,_0x3e7001)});return _0x1cd1cc[_0xc42bd4(0x166)](0xc9)[_0xc42bd4(0x6ba)](_0x3242d1);})['delete'](this[_0x308cae(0x4bb)](_0x308cae(0x3d7)),..._0x112233,async(_0x516460,_0x9e9ec6)=>{const _0x176b42=_0x308cae;let _0x97b8b=await this[_0x176b42(0x565)]({'request':_0x516460,'schema':Ka,'ClassRef':at,'execute':(_0x1c23dd,_0x44b2bd)=>P[_0x176b42(0x605)](_0x1c23dd,_0x44b2bd)});return _0x9e9ec6[_0x176b42(0x166)](0xc9)[_0x176b42(0x6ba)](_0x97b8b);})[_0x308cae(0x6a5)](this[_0x308cae(0x4bb)](_0x308cae(0x77f)),..._0x112233,async(_0x15fed5,_0x14b196)=>{const _0x395442=_0x308cae;let _0x9f9a33=await this['dataValidate']({'request':_0x15fed5,'schema':_e,'ClassRef':Te,'execute':(_0x4037cb,_0x482010)=>P[_0x395442(0x270)](_0x4037cb,_0x482010)});return _0x14b196['status'](0xc8)['json'](_0x9f9a33);})[_0x308cae(0x6a5)](this[_0x308cae(0x4bb)](_0x308cae(0x28a)),..._0x112233,async(_0x1fcba5,_0x1bdb73)=>{const _0xe144f2=_0x308cae;let _0x2cef03=await this[_0xe144f2(0x565)]({'request':_0x1fcba5,'schema':Za,'ClassRef':Te,'execute':(_0x1ab0cd,_0x4a5938)=>P[_0xe144f2(0x28a)](_0x1ab0cd,_0x4a5938)});return _0x1bdb73[_0xe144f2(0x166)](0xc8)[_0xe144f2(0x6ba)](_0x2cef03);})['post'](this[_0x308cae(0x4bb)]('findContacts'),..._0x112233,async(_0x23c218,_0x428088)=>{const _0x23d99a=_0x308cae;let _0x498ce7=await this[_0x23d99a(0x565)]({'request':_0x23c218,'schema':Qa,'ClassRef':ot,'execute':(_0x25875b,_0x1ecd42)=>P[_0x23d99a(0x2ef)](_0x25875b,_0x1ecd42)});return _0x428088[_0x23d99a(0x166)](0xc8)[_0x23d99a(0x6ba)](_0x498ce7);})[_0x308cae(0x6a5)](this[_0x308cae(0x4bb)]('getBase64FromMediaMessage'),..._0x112233,async(_0x3ee6b2,_0x1c6265)=>{const _0x419db6=_0x308cae;let _0x2da6f0=await this[_0x419db6(0x565)]({'request':_0x3ee6b2,'schema':null,'ClassRef':Object,'execute':(_0x2b4bb7,_0x4623cf)=>P['getBase64FromMediaMessage'](_0x2b4bb7,_0x4623cf)});return _0x1c6265[_0x419db6(0x166)](0xc9)[_0x419db6(0x6ba)](_0x2da6f0);})[_0x308cae(0x6a5)](this[_0x308cae(0x4bb)](_0x308cae(0x861)),..._0x112233,async(_0x140c95,_0x105a91)=>{const _0x4722e=_0x308cae;let _0x17bcf4=await this[_0x4722e(0x565)]({'request':_0x140c95,'schema':ei,'ClassRef':He,'execute':(_0x1f9748,_0x23dc32)=>P[_0x4722e(0x14f)](_0x1f9748,_0x23dc32)});return _0x105a91[_0x4722e(0x166)](0xc8)[_0x4722e(0x6ba)](_0x17bcf4);})[_0x308cae(0x41a)](this[_0x308cae(0x4bb)](_0x308cae(0x58b)),..._0x112233,async(_0x8acb31,_0x296fa5)=>{const _0x165dd4=_0x308cae;let _0x796b19=await this[_0x165dd4(0x565)]({'request':_0x8acb31,'schema':null,'ClassRef':M,'execute':_0x1e0d6e=>P[_0x165dd4(0x622)](_0x1e0d6e)});return _0x296fa5[_0x165dd4(0x166)](0xc8)[_0x165dd4(0x6ba)](_0x796b19);})[_0x308cae(0x41a)](this[_0x308cae(0x4bb)](_0x308cae(0x678)),..._0x112233,async(_0x377f78,_0x1075ba)=>{const _0x3c1b55=_0x308cae;let _0x4a3bbe=await this[_0x3c1b55(0x565)]({'request':_0x377f78,'schema':null,'ClassRef':M,'execute':_0x5d8a6f=>P[_0x3c1b55(0x5b9)](_0x5d8a6f)});return _0x1075ba[_0x3c1b55(0x166)](0xc8)['json'](_0x4a3bbe);})['put'](this['routerPath'](_0x308cae(0x47a)),..._0x112233,async(_0x1be43b,_0x29c965)=>{const _0x3ab8fd=_0x308cae;let _0xcafe75=await this[_0x3ab8fd(0x565)]({'request':_0x1be43b,'schema':null,'ClassRef':Array,'execute':(_0x27846e,_0x2fdf37)=>P[_0x3ab8fd(0x47a)](_0x27846e,_0x2fdf37)});return _0x29c965[_0x3ab8fd(0x166)](0xc8)[_0x3ab8fd(0x6ba)](_0xcafe75);})[_0x308cae(0x41a)](this[_0x308cae(0x4bb)](_0x308cae(0x3a2)),..._0x112233,async(_0x55e6cd,_0x312319)=>{const _0x400374=_0x308cae;let _0x532ba3=await this[_0x400374(0x565)]({'request':_0x55e6cd,'schema':null,'ClassRef':M,'execute':_0x292d24=>P[_0x400374(0x3a2)](_0x292d24)});return _0x312319[_0x400374(0x166)](0xc8)[_0x400374(0x6ba)](_0x532ba3);})['put'](this['routerPath'](_0x308cae(0x53c)),..._0x112233,async(_0x580438,_0xf7d4d7)=>{const _0x47d940=_0x308cae;let _0x4d96e6=await this[_0x47d940(0x565)]({'request':_0x580438,'schema':za,'ClassRef':st,'execute':(_0x35b088,_0x2951cf)=>P[_0x47d940(0x53c)](_0x35b088,_0x2951cf)});return _0xf7d4d7['status'](0xc9)[_0x47d940(0x6ba)](_0x4d96e6);})['post'](this[_0x308cae(0x4bb)](_0x308cae(0x643)),..._0x112233,async(_0x2a3903,_0x3515af)=>{const _0x43dc84=_0x308cae;let _0x4cdc91=await this[_0x43dc84(0x565)]({'request':_0x2a3903,'schema':_e,'ClassRef':Ce,'execute':(_0x4c76f5,_0x10e1f6)=>P[_0x43dc84(0x643)](_0x4c76f5,_0x10e1f6)});return _0x3515af[_0x43dc84(0x166)](0xc8)[_0x43dc84(0x6ba)](_0x4cdc91);})[_0x308cae(0x6a5)](this['routerPath']('updateProfileName'),..._0x112233,async(_0xa1a8e9,_0x1f44b5)=>{const _0x90dc3a=_0x308cae;let _0x3998dd=await this[_0x90dc3a(0x565)]({'request':_0xa1a8e9,'schema':Ya,'ClassRef':Xe,'execute':(_0x260826,_0x5e4e8b)=>P[_0x90dc3a(0x289)](_0x260826,_0x5e4e8b)});return _0x1f44b5[_0x90dc3a(0x166)](0xc8)['json'](_0x3998dd);})[_0x308cae(0x6a5)](this['routerPath']('updateProfileStatus'),..._0x112233,async(_0x34539d,_0x3bdfe4)=>{const _0x275e53=_0x308cae;let _0x55cdf6=await this[_0x275e53(0x565)]({'request':_0x34539d,'schema':Xa,'ClassRef':Ze,'execute':(_0x3e14e0,_0x4b0522)=>P['updateProfileStatus'](_0x3e14e0,_0x4b0522)});return _0x3bdfe4[_0x275e53(0x166)](0xc8)[_0x275e53(0x6ba)](_0x55cdf6);})[_0x308cae(0x407)](this[_0x308cae(0x4bb)](_0x308cae(0x59f)),..._0x112233,async(_0x150fb6,_0x489f1a)=>{const _0x5b61af=_0x308cae;let _0x34d95c=await this[_0x5b61af(0x565)]({'request':_0x150fb6,'schema':_e,'ClassRef':Ce,'execute':(_0x110466,_0x562fb9)=>P[_0x5b61af(0x59f)](_0x110466,_0x562fb9)});return _0x489f1a[_0x5b61af(0x166)](0xc8)[_0x5b61af(0x6ba)](_0x34d95c);})[_0x308cae(0x807)](this[_0x308cae(0x4bb)](_0x308cae(0x7f3)),..._0x112233,async(_0x5807ab,_0x259a65)=>{const _0xd4e8d6=_0x308cae;let _0x4d198d=await this[_0xd4e8d6(0x565)]({'request':_0x5807ab,'schema':_e,'ClassRef':Ce,'execute':(_0xc57dac,_0x1ade54)=>P[_0xd4e8d6(0x7f3)](_0xc57dac,_0x1ade54)});return _0x259a65[_0xd4e8d6(0x166)](0xc8)[_0xd4e8d6(0x6ba)](_0x4d198d);});}},pi=require('express'),lt=class{},ut=class{},dt=class{},pt=class{},ht=class{},gt=class{},te=class{},De=class{},mt=class extends te{},ft=class extends te{},wt=class extends V{constructor(..._0x26bf33){const _0x4a1090=a0_0x36fc91;super(),this[_0x4a1090(0x73f)]=(0x0,pi[_0x4a1090(0x613)])(),this[_0x4a1090(0x73f)][_0x4a1090(0x6a5)](this[_0x4a1090(0x4bb)]('create'),..._0x26bf33,async(_0x5a644c,_0x5da19f)=>{const _0x199115=_0x4a1090;let _0x4a2a61=await this['dataValidate']({'request':_0x5a644c,'schema':si,'ClassRef':lt,'execute':(_0x38d65d,_0x253c49)=>q['createGroup'](_0x38d65d,_0x253c49)});_0x5da19f[_0x199115(0x166)](0xc9)[_0x199115(0x6ba)](_0x4a2a61);})[_0x4a1090(0x407)](this[_0x4a1090(0x4bb)](_0x4a1090(0x49c)),..._0x26bf33,async(_0x181954,_0x58218d)=>{const _0x470b0d=_0x4a1090;let _0x434f4a=await this[_0x470b0d(0x54a)]({'request':_0x181954,'schema':oi,'ClassRef':ut,'execute':(_0x2c2fee,_0x53572)=>q[_0x470b0d(0x49c)](_0x2c2fee,_0x53572)});_0x58218d[_0x470b0d(0x166)](0xc9)[_0x470b0d(0x6ba)](_0x434f4a);})[_0x4a1090(0x407)](this[_0x4a1090(0x4bb)]('groupDesc'),..._0x26bf33,async(_0x13001c,_0x341af3)=>{const _0x15e4fa=_0x4a1090;let _0x991290=await this[_0x15e4fa(0x54a)]({'request':_0x13001c,'schema':ri,'ClassRef':dt,'execute':(_0x297995,_0xab0ade)=>q['groupDesc'](_0x297995,_0xab0ade)});_0x341af3[_0x15e4fa(0x166)](0xc9)['json'](_0x991290);})['put'](this[_0x4a1090(0x4bb)](_0x4a1090(0x750)),..._0x26bf33,async(_0x1c8e0e,_0x15a9f3)=>{const _0x46876e=_0x4a1090;let _0xe6c0d=await this[_0x46876e(0x54a)]({'request':_0x1c8e0e,'schema':ni,'ClassRef':pt,'execute':(_0x394ce2,_0x46cade)=>q[_0x46876e(0x750)](_0x394ce2,_0x46cade)});_0x15a9f3[_0x46876e(0x166)](0xc9)[_0x46876e(0x6ba)](_0xe6c0d);})[_0x4a1090(0x407)](this['routerPath'](_0x4a1090(0x7c4)),..._0x26bf33,async(_0x4c8c6f,_0x2eda6b)=>{const _0x4af448=_0x4a1090;let _0x10ca52=await this['groupValidate']({'request':_0x4c8c6f,'schema':li,'ClassRef':gt,'execute':(_0x1e7b34,_0x3f367c)=>q[_0x4af448(0x7c4)](_0x1e7b34,_0x3f367c)});_0x2eda6b[_0x4af448(0x166)](0xc9)[_0x4af448(0x6ba)](_0x10ca52);})['put'](this[_0x4a1090(0x4bb)](_0x4a1090(0x862)),..._0x26bf33,async(_0x236b4a,_0x34d362)=>{const _0x360beb=_0x4a1090;let _0x13f8b1=await this[_0x360beb(0x54a)]({'request':_0x236b4a,'schema':ci,'ClassRef':ht,'execute':(_0x2ce8b2,_0x14cc8b)=>q['groupSetting'](_0x2ce8b2,_0x14cc8b)});_0x34d362[_0x360beb(0x166)](0xc9)[_0x360beb(0x6ba)](_0x13f8b1);})[_0x4a1090(0x407)](this[_0x4a1090(0x4bb)]('toggleEphemeral'),..._0x26bf33,async(_0x2d0bf0,_0x6a34b2)=>{const _0x469613=_0x4a1090;let _0x16a196=await this[_0x469613(0x54a)]({'request':_0x2d0bf0,'schema':ii,'ClassRef':ft,'execute':(_0x592bae,_0x380b4e)=>q[_0x469613(0x215)](_0x592bae,_0x380b4e)});_0x6a34b2[_0x469613(0x166)](0xc9)[_0x469613(0x6ba)](_0x16a196);})[_0x4a1090(0x41a)](this[_0x4a1090(0x4bb)](_0x4a1090(0x780)),..._0x26bf33,async(_0x2bbe57,_0x6f6b1f)=>{const _0x3f867d=_0x4a1090;let _0x70e425=await this[_0x3f867d(0x54a)]({'request':_0x2bbe57,'schema':xe,'ClassRef':te,'execute':(_0x2cf98b,_0x39db15)=>q[_0x3f867d(0x2a2)](_0x2cf98b,_0x39db15)});_0x6f6b1f['status'](0xc8)[_0x3f867d(0x6ba)](_0x70e425);})[_0x4a1090(0x41a)](this[_0x4a1090(0x4bb)](_0x4a1090(0x4ea)),..._0x26bf33,async(_0xc03e3e,_0xd6ae4d)=>{const _0x4a0334=_0x4a1090;let _0x2381ad=await this['dataValidate']({'request':_0xc03e3e,'schema':v,'ClassRef':M,'execute':_0x423b5a=>q['findGroups'](_0x423b5a)});_0xd6ae4d[_0x4a0334(0x166)](0xc8)['json'](_0x2381ad);})[_0x4a1090(0x41a)](this[_0x4a1090(0x4bb)](_0x4a1090(0x4cf)),..._0x26bf33,async(_0x59300d,_0x10d096)=>{const _0x5338a3=_0x4a1090;let _0x34d392=await this['groupValidate']({'request':_0x59300d,'schema':xe,'ClassRef':te,'execute':(_0xc02352,_0x17e8e1)=>q[_0x5338a3(0x6c4)](_0xc02352,_0x17e8e1)});_0x10d096[_0x5338a3(0x166)](0xc8)[_0x5338a3(0x6ba)](_0x34d392);})['get'](this[_0x4a1090(0x4bb)](_0x4a1090(0x616)),..._0x26bf33,async(_0x9f0c70,_0x250c04)=>{const _0x43d7cc=_0x4a1090;let _0x526469=await this[_0x43d7cc(0x54a)]({'request':_0x9f0c70,'schema':xe,'ClassRef':te,'execute':(_0x30e2a1,_0x424bf1)=>q[_0x43d7cc(0x616)](_0x30e2a1,_0x424bf1)});_0x250c04[_0x43d7cc(0x166)](0xc8)[_0x43d7cc(0x6ba)](_0x526469);})[_0x4a1090(0x6a5)](this[_0x4a1090(0x4bb)](_0x4a1090(0x769)),..._0x26bf33,async(_0x51b597,_0x2b7372)=>{const _0x334069=_0x4a1090;let _0x72f5e=await this[_0x334069(0x873)]({'request':_0x51b597,'schema':Es,'ClassRef':De,'execute':(_0x13e289,_0xaf425a)=>q[_0x334069(0x75a)](_0x13e289,_0xaf425a)});_0x2b7372[_0x334069(0x166)](0xc9)[_0x334069(0x6ba)](_0x72f5e);})['put'](this[_0x4a1090(0x4bb)](_0x4a1090(0x15c)),..._0x26bf33,async(_0x50d7c0,_0x1e341c)=>{const _0x3099aa=_0x4a1090;let _0x26b7a7=await this[_0x3099aa(0x873)]({'request':_0x50d7c0,'schema':Es,'ClassRef':De,'execute':(_0x487695,_0xaee969)=>q[_0x3099aa(0x15c)](_0x487695,_0xaee969)});_0x1e341c['status'](0xc9)[_0x3099aa(0x6ba)](_0x26b7a7);})[_0x4a1090(0x407)](this[_0x4a1090(0x4bb)](_0x4a1090(0x735)),..._0x26bf33,async(_0xa29006,_0x514991)=>{const _0xf47379=_0x4a1090;let _0x54fa33=await this[_0xf47379(0x54a)]({'request':_0xa29006,'schema':xe,'ClassRef':te,'execute':(_0xdd4df,_0x2472d3)=>q[_0xf47379(0x735)](_0xdd4df,_0x2472d3)});_0x514991['status'](0xc9)['json'](_0x54fa33);})[_0x4a1090(0x407)](this['routerPath'](_0x4a1090(0x466)),..._0x26bf33,async(_0x59d402,_0x4b5d46)=>{const _0x24e298=_0x4a1090;let _0x43f99c=await this['groupValidate']({'request':_0x59d402,'schema':ai,'ClassRef':mt,'execute':(_0x48eaaf,_0x533e07)=>q[_0x24e298(0x57a)](_0x48eaaf,_0x533e07)});_0x4b5d46[_0x24e298(0x166)](0xc9)[_0x24e298(0x6ba)](_0x43f99c);})[_0x4a1090(0x807)](this[_0x4a1090(0x4bb)](_0x4a1090(0x380)),..._0x26bf33,async(_0x815912,_0x143169)=>{const _0x29ee3a=_0x4a1090;let _0x3babe0=await this[_0x29ee3a(0x54a)]({'request':_0x815912,'schema':{},'ClassRef':te,'execute':(_0x1bbef5,_0x592167)=>q[_0x29ee3a(0x380)](_0x1bbef5,_0x592167)});_0x143169[_0x29ee3a(0x166)](0xc8)[_0x29ee3a(0x6ba)](_0x3babe0);});}},hi=require('express'),yt=class extends V{constructor(_0x17e6bb,..._0x5261b9){const _0x2ba4ad=a0_0x36fc91;super(),this['configService']=_0x17e6bb,this[_0x2ba4ad(0x73f)]=(0x0,hi[_0x2ba4ad(0x613)])();let _0x35d088=_0x17e6bb[_0x2ba4ad(0x41a)](_0x2ba4ad(0x154));this['router'][_0x2ba4ad(0x6a5)](_0x2ba4ad(0x230),..._0x5261b9,async(_0x320175,_0x2bbf2c)=>{const _0xee580c=_0x2ba4ad;let {instanceName:_0x2b0ac1,apikey:_0x5250a8,number:_0xfc647f}=_0x320175[_0xee580c(0x68d)],_0xbc58eb=await ue[_0xee580c(0x5c2)]({'instanceName':_0x2b0ac1,'apikey':_0x5250a8,'number':_0xfc647f});return _0x2bbf2c[_0xee580c(0x166)](0xc9)['json'](_0xbc58eb);})[_0x2ba4ad(0x407)](this['routerPath']('restart'),..._0x5261b9,async(_0x5e3778,_0x2effe0)=>{const _0x4bd1e2=_0x2ba4ad;let _0xa5a8f3=await this[_0x4bd1e2(0x565)]({'request':_0x5e3778,'schema':v,'ClassRef':M,'execute':_0x1c418d=>ue[_0x4bd1e2(0x6a6)](_0x1c418d)});return _0x2effe0['status'](0xc8)[_0x4bd1e2(0x6ba)](_0xa5a8f3);})[_0x2ba4ad(0x41a)](this[_0x2ba4ad(0x4bb)](_0x2ba4ad(0x538)),..._0x5261b9,async(_0x4e7f31,_0x54a0a3)=>{const _0x171ad4=_0x2ba4ad;let _0x4e0fd4=await this[_0x171ad4(0x565)]({'request':_0x4e7f31,'schema':v,'ClassRef':M,'execute':_0x144cb9=>ue['connectToWhatsappController'](_0x144cb9)});return _0x54a0a3['status'](0xc8)[_0x171ad4(0x6ba)](_0x4e0fd4);})['get'](this['routerPath'](_0x2ba4ad(0x784)),..._0x5261b9,async(_0x449709,_0x10e815)=>{const _0x1c35ed=_0x2ba4ad;let _0x45ea74=await this[_0x1c35ed(0x565)]({'request':_0x449709,'schema':v,'ClassRef':M,'execute':_0x10ad7b=>ue[_0x1c35ed(0x784)](_0x10ad7b)});return _0x10e815[_0x1c35ed(0x166)](0xc8)['json'](_0x45ea74);})['get'](this['routerPath'](_0x2ba4ad(0x868),!0x1),..._0x5261b9,async(_0x273dfc,_0x5c18e0)=>{const _0x114d57=_0x2ba4ad;let _0x3d2702=await this[_0x114d57(0x565)]({'request':_0x273dfc,'schema':null,'ClassRef':M,'execute':_0x48d4b2=>ue['fetchInstances'](_0x48d4b2)});return _0x5c18e0[_0x114d57(0x166)](0xc8)[_0x114d57(0x6ba)](_0x3d2702);})[_0x2ba4ad(0x807)](this['routerPath'](_0x2ba4ad(0x2af)),..._0x5261b9,async(_0x78c926,_0x18a63d)=>{const _0x5798d7=_0x2ba4ad;let _0x4ee474=await this[_0x5798d7(0x565)]({'request':_0x78c926,'schema':v,'ClassRef':M,'execute':_0x2b44fb=>ue[_0x5798d7(0x2af)](_0x2b44fb)});return _0x18a63d[_0x5798d7(0x166)](0xc8)[_0x5798d7(0x6ba)](_0x4ee474);})['delete'](this[_0x2ba4ad(0x4bb)](_0x2ba4ad(0x807)),..._0x5261b9,async(_0x3e1dad,_0x50a59a)=>{const _0x34430e=_0x2ba4ad;let _0x11334c=await this[_0x34430e(0x565)]({'request':_0x3e1dad,'schema':v,'ClassRef':M,'execute':_0x38f37f=>ue['deleteInstance'](_0x38f37f)});return _0x50a59a['status'](0xc8)[_0x34430e(0x6ba)](_0x11334c);});}},gi=require(a0_0x36fc91(0x5e6)),Ns=class{},z=class extends Ns{},bt=class extends z{},St=class extends z{},Mt=class extends z{},Ct=class extends z{},Pe=class extends z{},Et=class extends z{},vt=class extends z{},Nt=class extends z{},$t=class extends z{},Rt=class extends z{},At=class{},It=class extends V{constructor(..._0x3e509c){const _0x1b4826=a0_0x36fc91;super(),this['router']=(0x0,gi['Router'])(),this[_0x1b4826(0x73f)][_0x1b4826(0x6a5)](this[_0x1b4826(0x4bb)]('sendText'),..._0x3e509c,async(_0x2a625c,_0x391fe3)=>{const _0x35ffd9=_0x1b4826;let _0x14ffac=await this['dataValidate']({'request':_0x2a625c,'schema':_a,'ClassRef':bt,'execute':(_0x581aec,_0x563d25)=>B[_0x35ffd9(0x69a)](_0x581aec,_0x563d25)});return _0x391fe3[_0x35ffd9(0x166)](0xc9)[_0x35ffd9(0x6ba)](_0x14ffac);})[_0x1b4826(0x6a5)](this['routerPath'](_0x1b4826(0x5f1)),..._0x3e509c,async(_0x2c8408,_0x268a5f)=>{const _0x2b1b1c=_0x1b4826;let _0x31d787=await this[_0x2b1b1c(0x565)]({'request':_0x2c8408,'schema':ka,'ClassRef':Pe,'execute':(_0xa82fef,_0x5a7030)=>B[_0x2b1b1c(0x5f1)](_0xa82fef,_0x5a7030)});return _0x268a5f[_0x2b1b1c(0x166)](0xc9)['json'](_0x31d787);})[_0x1b4826(0x6a5)](this[_0x1b4826(0x4bb)]('sendMenu'),..._0x3e509c,async(_0x4fa18f,_0x418ab8)=>{const _0x224585=_0x1b4826;let _0x142852=await this[_0x224585(0x565)]({'request':_0x4fa18f,'schema':Ua,'ClassRef':Ct,'execute':(_0x581e83,_0x51616c)=>B['sendMenu'](_0x581e83,_0x51616c)});return _0x418ab8['status'](0xc9)[_0x224585(0x6ba)](_0x142852);})['post'](this[_0x1b4826(0x4bb)]('sendWhatsAppAudio'),..._0x3e509c,async(_0x11e877,_0x3d6abd)=>{const _0x363e4f=_0x1b4826;let _0x31bea6=await this[_0x363e4f(0x565)]({'request':_0x11e877,'schema':La,'ClassRef':Pe,'execute':(_0x2533b,_0x3426aa)=>B[_0x363e4f(0x726)](_0x2533b,_0x3426aa)});return _0x3d6abd['status'](0xc9)[_0x363e4f(0x6ba)](_0x31bea6);})[_0x1b4826(0x6a5)](this['routerPath']('sendButtons'),..._0x3e509c,async(_0x24083c,_0x20f03e)=>{const _0x4380d4=_0x1b4826;let _0x25330c=await this[_0x4380d4(0x565)]({'request':_0x24083c,'schema':ja,'ClassRef':vt,'execute':(_0x361a70,_0x394575)=>B[_0x4380d4(0x5a9)](_0x361a70,_0x394575)});return _0x20f03e['status'](0xc9)[_0x4380d4(0x6ba)](_0x25330c);})[_0x1b4826(0x6a5)](this['routerPath']('sendLocation'),..._0x3e509c,async(_0x145225,_0x4e0f9b)=>{const _0x1dbd1a=_0x1b4826;let _0x3d7d62=await this[_0x1dbd1a(0x565)]({'request':_0x145225,'schema':Ja,'ClassRef':Nt,'execute':(_0x4b52b6,_0x465e22)=>B['sendLocation'](_0x4b52b6,_0x465e22)});return _0x4e0f9b[_0x1dbd1a(0x166)](0xc9)[_0x1dbd1a(0x6ba)](_0x3d7d62);})[_0x1b4826(0x6a5)](this[_0x1b4826(0x4bb)](_0x1b4826(0x178)),..._0x3e509c,async(_0x293481,_0x1af53d)=>{const _0x11d448=_0x1b4826;let _0x437c43=await this[_0x11d448(0x565)]({'request':_0x293481,'schema':qa,'ClassRef':$t,'execute':(_0x16d412,_0x4962be)=>B[_0x11d448(0x178)](_0x16d412,_0x4962be)});return _0x1af53d['status'](0xc9)['json'](_0x437c43);})[_0x1b4826(0x6a5)](this['routerPath'](_0x1b4826(0x1e4)),..._0x3e509c,async(_0x25eb2f,_0x13ff2a)=>{const _0x101d4d=_0x1b4826;let _0xa2b6ee=await this[_0x101d4d(0x565)]({'request':_0x25eb2f,'schema':Va,'ClassRef':Rt,'execute':(_0x534266,_0x5ca5f2)=>B[_0x101d4d(0x1e4)](_0x534266,_0x5ca5f2)});return _0x13ff2a[_0x101d4d(0x166)](0xc9)[_0x101d4d(0x6ba)](_0xa2b6ee);})[_0x1b4826(0x6a5)](this[_0x1b4826(0x4bb)](_0x1b4826(0x5b2)),..._0x3e509c,async(_0x39a334,_0x3f6911)=>{const _0x3293ac=_0x1b4826;let _0x2a45e7=await this[_0x3293ac(0x565)]({'request':_0x39a334,'schema':Ga,'ClassRef':At,'execute':(_0x66e5f,_0x46f2f6)=>B[_0x3293ac(0x5b2)](_0x66e5f,_0x46f2f6)});return _0x3f6911[_0x3293ac(0x166)](0xc9)['json'](_0x2a45e7);})[_0x1b4826(0x6a5)](this[_0x1b4826(0x4bb)](_0x1b4826(0x6ae)),..._0x3e509c,async(_0x263fff,_0x3d8d83)=>{const _0x469f61=_0x1b4826;let _0x33cea5=await this[_0x469f61(0x565)]({'request':_0x263fff,'schema':Fa,'ClassRef':Mt,'execute':(_0xadaa6d,_0x3f6ad1)=>B[_0x469f61(0x6ae)](_0xadaa6d,_0x3f6ad1)});return _0x3d8d83[_0x469f61(0x166)](0xc9)[_0x469f61(0x6ba)](_0x33cea5);})[_0x1b4826(0x6a5)](this[_0x1b4826(0x4bb)]('sendStatus'),..._0x3e509c,async(_0x2057f8,_0x2de644)=>{const _0x120899=_0x1b4826;let _0x42e3cc=await this[_0x120899(0x565)]({'request':_0x2057f8,'schema':Pa,'ClassRef':St,'execute':(_0x55e34e,_0x4528a3)=>B[_0x120899(0x1de)](_0x55e34e,_0x4528a3)});return _0x2de644[_0x120899(0x166)](0xc9)[_0x120899(0x6ba)](_0x42e3cc);})[_0x1b4826(0x6a5)](this['routerPath'](_0x1b4826(0x689)),..._0x3e509c,async(_0x24ed9f,_0x19a294)=>{const _0x5bfeeb=_0x1b4826;let _0x5b48f1=await this[_0x5bfeeb(0x565)]({'request':_0x24ed9f,'schema':Da,'ClassRef':Et,'execute':(_0x5cfa8f,_0x3abe5f)=>B[_0x5bfeeb(0x689)](_0x5cfa8f,_0x3abe5f)});return _0x19a294[_0x5bfeeb(0x166)](0xc9)['json'](_0x5b48f1);});}},mi=require('express'),Tt=class{},Ot=class extends V{constructor(..._0x5054aa){const _0x2c6db6=a0_0x36fc91;super(),this[_0x2c6db6(0x73f)]=(0x0,mi[_0x2c6db6(0x613)])(),this[_0x2c6db6(0x73f)]['post'](this['routerPath'](_0x2c6db6(0x6f3)),..._0x5054aa,async(_0x1b911b,_0x4591ac)=>{const _0x2206f6=_0x2c6db6;let _0x26021f=await this[_0x2206f6(0x565)]({'request':_0x1b911b,'schema':ui,'ClassRef':Tt,'execute':(_0x445d19,_0x20af93)=>$s[_0x2206f6(0x2cb)](_0x445d19,_0x20af93)});_0x4591ac[_0x2206f6(0x166)](0xc9)[_0x2206f6(0x6ba)](_0x26021f);})['get'](this['routerPath'](_0x2c6db6(0x757)),..._0x5054aa,async(_0x3be1b5,_0x23136f)=>{const _0x1fcdb2=_0x2c6db6;let _0x54291d=await this[_0x1fcdb2(0x565)]({'request':_0x3be1b5,'schema':v,'ClassRef':M,'execute':_0x2ce03f=>$s['findWebhook'](_0x2ce03f)});_0x23136f['status'](0xc8)[_0x1fcdb2(0x6ba)](_0x54291d);});}},fi=require(a0_0x36fc91(0x5e6)),y=new $(a0_0x36fc91(0x6c7)),_t=class extends V{constructor(..._0x134c3f){const _0x1dd1ac=a0_0x36fc91;super(),this[_0x1dd1ac(0x73f)]=(0x0,fi[_0x1dd1ac(0x613)])(),this[_0x1dd1ac(0x73f)][_0x1dd1ac(0x6a5)](this['routerPath']('scheduleMessage'),..._0x134c3f,async(_0x4fbc58,_0x57f97f)=>{const _0x1240c1=_0x1dd1ac;let _0x2ca9ec=_0x4fbc58[_0x1240c1(0x68d)];y[_0x1240c1(0x855)]('request\x20received\x20in\x20scheduleMessage'),y[_0x1240c1(0x855)](_0x1240c1(0x11f)),y['verbose'](_0x4fbc58[_0x1240c1(0x68d)]);let _0x421901=await this[_0x1240c1(0x565)]({'request':_0x4fbc58,'schema':v,'ClassRef':M,'execute':_0x474d5a=>O[_0x1240c1(0x5cb)](_0x474d5a,_0x2ca9ec)});_0x57f97f[_0x1240c1(0x166)](0xc8)['json'](_0x421901);})[_0x1dd1ac(0x41a)](this['routerPath'](_0x1dd1ac(0x646)),..._0x134c3f,async(_0x11cfec,_0x3f639a)=>{const _0x2b8b9a=_0x1dd1ac;let _0x5080fb=await this[_0x2b8b9a(0x565)]({'request':_0x11cfec,'schema':v,'ClassRef':M,'execute':_0x37546a=>O[_0x2b8b9a(0x69c)](_0x37546a)});_0x3f639a['status'](0xc8)[_0x2b8b9a(0x6ba)](_0x5080fb);})['delete'](this['routerPath'](_0x1dd1ac(0x2c0)),..._0x134c3f,async(_0x301af9,_0x4f843c)=>{const _0x2fcebc=_0x1dd1ac;y[_0x2fcebc(0x855)](_0x2fcebc(0x284));let _0x34a9ff=await this[_0x2fcebc(0x565)]({'request':_0x301af9,'schema':v,'ClassRef':M,'execute':_0xdb507c=>O[_0x2fcebc(0x2c0)](_0xdb507c)});_0x4f843c[_0x2fcebc(0x166)](0xc8)['json'](_0x34a9ff);})[_0x1dd1ac(0x6a5)](this[_0x1dd1ac(0x4bb)]('startFlow'),..._0x134c3f,async(_0x5bcf14,_0x13802d)=>{const _0x60ab27=_0x1dd1ac;let _0xcb8d35=_0x5bcf14[_0x60ab27(0x68d)];y['verbose'](_0x60ab27(0x74d)),y[_0x60ab27(0x855)](_0x60ab27(0x11f)),y[_0x60ab27(0x855)](_0x5bcf14[_0x60ab27(0x68d)]);let _0x40b45a=await this[_0x60ab27(0x565)]({'request':_0x5bcf14,'schema':v,'ClassRef':M,'execute':_0x489f81=>O[_0x60ab27(0x307)](_0x489f81,_0xcb8d35)});_0x13802d[_0x60ab27(0x166)](0xc8)['json'](_0x40b45a);})[_0x1dd1ac(0x41a)](this[_0x1dd1ac(0x4bb)](_0x1dd1ac(0x608)),..._0x134c3f,async(_0x36a831,_0x2128ac)=>{const _0x1f40dc=_0x1dd1ac;y[_0x1f40dc(0x855)](_0x1f40dc(0x581));let _0x287c85=await this[_0x1f40dc(0x565)]({'request':_0x36a831,'schema':v,'ClassRef':M,'execute':_0x3a57fc=>O['getAutomateSystem'](_0x3a57fc)});_0x2128ac[_0x1f40dc(0x166)](0xc8)[_0x1f40dc(0x6ba)](_0x287c85);})[_0x1dd1ac(0x41a)](this[_0x1dd1ac(0x4bb)]('getTicketSystem'),..._0x134c3f,async(_0x320e60,_0x25df1d)=>{const _0x250f50=_0x1dd1ac;y[_0x250f50(0x855)](_0x250f50(0x7fe));let _0x3edde8=await this[_0x250f50(0x565)]({'request':_0x320e60,'schema':v,'ClassRef':M,'execute':_0x2ed308=>O[_0x250f50(0x608)](_0x2ed308)});_0x25df1d[_0x250f50(0x166)](0xc8)[_0x250f50(0x6ba)](_0x3edde8);})[_0x1dd1ac(0x6a5)](this[_0x1dd1ac(0x4bb)](_0x1dd1ac(0x388)),..._0x134c3f,async(_0x316be5,_0x298b70)=>{const _0xd7591b=_0x1dd1ac;let _0x5816d7=_0x316be5[_0xd7591b(0x68d)];y[_0xd7591b(0x855)](_0xd7591b(0x523)),y[_0xd7591b(0x855)](_0xd7591b(0x11f)),y[_0xd7591b(0x855)](_0x316be5[_0xd7591b(0x68d)]);let _0x1ece07=await this[_0xd7591b(0x565)]({'request':_0x316be5,'schema':v,'ClassRef':M,'execute':_0x195d94=>O[_0xd7591b(0x388)](_0x195d94,_0x5816d7)});_0x298b70[_0xd7591b(0x166)](0xc8)[_0xd7591b(0x6ba)](_0x1ece07);})[_0x1dd1ac(0x6a5)](this[_0x1dd1ac(0x4bb)](_0x1dd1ac(0x550)),..._0x134c3f,async(_0x845188,_0x5a47ec)=>{const _0x234e06=_0x1dd1ac;let _0x58233d=_0x845188[_0x234e06(0x68d)];y[_0x234e06(0x855)](_0x234e06(0x20e)),y[_0x234e06(0x855)]('request\x20body:\x20'),y[_0x234e06(0x855)](_0x845188[_0x234e06(0x68d)]);let _0x2b95da=await this[_0x234e06(0x565)]({'request':_0x845188,'schema':v,'ClassRef':M,'execute':_0x11d51a=>O[_0x234e06(0x550)](_0x11d51a,_0x58233d)});_0x5a47ec[_0x234e06(0x166)](0xc8)[_0x234e06(0x6ba)](_0x2b95da);})[_0x1dd1ac(0x6a5)](this[_0x1dd1ac(0x4bb)](_0x1dd1ac(0x399)),..._0x134c3f,async(_0x44e9d3,_0x32fa17)=>{const _0x5d7b68=_0x1dd1ac;let _0x14babb=_0x44e9d3[_0x5d7b68(0x68d)];y[_0x5d7b68(0x855)]('request\x20received\x20in\x20updateAutoCompleteMessages'),y[_0x5d7b68(0x855)](_0x5d7b68(0x11f)),y[_0x5d7b68(0x855)](_0x44e9d3[_0x5d7b68(0x68d)]);let _0x1aaf9d=await this[_0x5d7b68(0x565)]({'request':_0x44e9d3,'schema':v,'ClassRef':M,'execute':_0x4afe30=>O[_0x5d7b68(0x399)](_0x4afe30,_0x14babb)});_0x32fa17[_0x5d7b68(0x166)](0xc8)['json'](_0x1aaf9d);})[_0x1dd1ac(0x6a5)](this[_0x1dd1ac(0x4bb)](_0x1dd1ac(0x5f0)),..._0x134c3f,async(_0x31d670,_0x5065b5)=>{const _0x3ffd2c=_0x1dd1ac;let _0x4684df=_0x31d670[_0x3ffd2c(0x68d)];y['verbose'](_0x3ffd2c(0x3a5)),y[_0x3ffd2c(0x855)]('request\x20body:\x20'),y[_0x3ffd2c(0x855)](_0x31d670['body']);let _0x17bc23=await this['dataValidate']({'request':_0x31d670,'schema':v,'ClassRef':M,'execute':_0x5bd95b=>O[_0x3ffd2c(0x5f0)](_0x5bd95b,_0x4684df)});_0x5065b5['status'](0xc8)[_0x3ffd2c(0x6ba)](_0x17bc23);})['post'](this['routerPath'](_0x1dd1ac(0x6f1)),..._0x134c3f,async(_0x5ed210,_0x3fadac)=>{const _0xa06d5=_0x1dd1ac;let _0x178aa6=_0x5ed210['body'];y['verbose'](_0xa06d5(0x305)),y[_0xa06d5(0x855)](_0xa06d5(0x11f)),y[_0xa06d5(0x855)](_0x5ed210['body']);let _0x2d930f=await this[_0xa06d5(0x565)]({'request':_0x5ed210,'schema':v,'ClassRef':M,'execute':_0x7e8e3b=>O[_0xa06d5(0x6f1)](_0x7e8e3b,_0x178aa6)});_0x3fadac[_0xa06d5(0x166)](0xc8)['json'](_0x2d930f);})[_0x1dd1ac(0x6a5)](this[_0x1dd1ac(0x4bb)](_0x1dd1ac(0x4ac)),..._0x134c3f,async(_0x12e2e9,_0x403d1e)=>{const _0x14f64e=_0x1dd1ac;let _0x576df7=_0x12e2e9[_0x14f64e(0x68d)];y[_0x14f64e(0x855)](_0x14f64e(0x36d)),y['verbose'](_0x14f64e(0x11f)),y['verbose'](_0x12e2e9[_0x14f64e(0x68d)]);let _0x4cc773=await this[_0x14f64e(0x565)]({'request':_0x12e2e9,'schema':v,'ClassRef':M,'execute':_0x59aaa2=>O['fetchConversation'](_0x59aaa2,_0x576df7)});_0x403d1e[_0x14f64e(0x166)](0xc8)[_0x14f64e(0x6ba)](_0x4cc773);})[_0x1dd1ac(0x6a5)](this['routerPath'](_0x1dd1ac(0x409)),..._0x134c3f,async(_0x439a23,_0x1f0b00)=>{const _0x53cab9=_0x1dd1ac;let _0x4eb9f9=_0x439a23[_0x53cab9(0x68d)];y[_0x53cab9(0x855)](_0x53cab9(0x7b7)),y[_0x53cab9(0x855)](_0x53cab9(0x11f)),y[_0x53cab9(0x855)](_0x439a23['body']);let _0x55f20e=await this[_0x53cab9(0x565)]({'request':_0x439a23,'schema':v,'ClassRef':M,'execute':_0x461423=>O[_0x53cab9(0x409)](_0x461423,_0x4eb9f9)});_0x1f0b00['status'](0xc8)[_0x53cab9(0x6ba)](_0x55f20e);})[_0x1dd1ac(0x807)](this[_0x1dd1ac(0x4bb)](_0x1dd1ac(0x531)),..._0x134c3f,async(_0x273e33,_0x46cec4)=>{const _0x5a3204=_0x1dd1ac;let _0x291d92=_0x273e33[_0x5a3204(0x68d)];y['verbose']('request\x20received\x20in\x20deleteConversation'),y[_0x5a3204(0x855)](_0x5a3204(0x11f)),y[_0x5a3204(0x855)](_0x273e33[_0x5a3204(0x68d)]);let _0x1764ce=await this[_0x5a3204(0x565)]({'request':_0x273e33,'schema':v,'ClassRef':M,'execute':_0x3f576b=>O['deleteConversation'](_0x3f576b,_0x291d92)});_0x46cec4[_0x5a3204(0x166)](0xc8)[_0x5a3204(0x6ba)](_0x1764ce);})[_0x1dd1ac(0x6a5)](this[_0x1dd1ac(0x4bb)](_0x1dd1ac(0x1bb)),..._0x134c3f,async(_0x1277be,_0x127c94)=>{const _0x47f2a7=_0x1dd1ac;let _0x216376=_0x1277be[_0x47f2a7(0x68d)],_0xb751d1=_0x1277be[_0x47f2a7(0x2f1)][_0x47f2a7(0x18d)];y['verbose'](_0x47f2a7(0x582)),y[_0x47f2a7(0x855)]('request\x20body:\x20'),y['verbose'](_0x1277be[_0x47f2a7(0x68d)]);let _0x4e9fc2=await this['dataValidate']({'request':_0x1277be,'schema':v,'ClassRef':M,'execute':_0x3bd7da=>O[_0x47f2a7(0x2e9)](_0x3bd7da,_0x216376,_0xb751d1)});_0x127c94[_0x47f2a7(0x166)](0xc8)['json'](_0x4e9fc2);})[_0x1dd1ac(0x6a5)](this[_0x1dd1ac(0x4bb)](_0x1dd1ac(0x378)),..._0x134c3f,async(_0x119a60,_0xdb8b1d)=>{const _0x56408c=_0x1dd1ac;let _0x5c0161=_0x119a60[_0x56408c(0x68d)],_0x4aa64c=_0x119a60['headers'][_0x56408c(0x18d)];y[_0x56408c(0x855)]('request\x20received\x20in\x20editFlow'),y['verbose'](_0x56408c(0x11f)),y[_0x56408c(0x855)](_0x119a60[_0x56408c(0x68d)]),delete _0x5c0161[_0x56408c(0x6aa)],delete _0x5c0161[_0x56408c(0x321)],delete _0x5c0161[_0x56408c(0x4c2)],delete _0x5c0161[_0x56408c(0x82c)];let _0x539937=await this[_0x56408c(0x565)]({'request':_0x119a60,'schema':v,'ClassRef':M,'execute':_0x4187d7=>O[_0x56408c(0x4ff)](_0x4187d7,_0x5c0161,_0x4aa64c)});_0xdb8b1d[_0x56408c(0x166)](0xc8)[_0x56408c(0x6ba)](_0x539937);})[_0x1dd1ac(0x6a5)](this[_0x1dd1ac(0x4bb)]('editflowblock'),..._0x134c3f,async(_0x5adcb9,_0x675420)=>{const _0x5d455d=_0x1dd1ac;let _0x3e81ec=_0x5adcb9[_0x5d455d(0x68d)];y[_0x5d455d(0x855)](_0x5d455d(0x7f1)),y[_0x5d455d(0x855)](_0x5d455d(0x11f)),y[_0x5d455d(0x855)](_0x5adcb9[_0x5d455d(0x68d)]);let _0x261f4f=await this[_0x5d455d(0x565)]({'request':_0x5adcb9,'schema':v,'ClassRef':M,'execute':_0x225aa0=>O[_0x5d455d(0x155)](_0x225aa0,_0x3e81ec)});_0x675420[_0x5d455d(0x166)](0xc8)[_0x5d455d(0x6ba)](_0x261f4f);})['post'](this[_0x1dd1ac(0x4bb)]('editflowreply'),..._0x134c3f,async(_0xa2460a,_0x3e30d2)=>{const _0x3d5c33=_0x1dd1ac;let _0x5996ca=_0xa2460a['body'];y[_0x3d5c33(0x855)]('request\x20received\x20in\x20editFlow'),y[_0x3d5c33(0x855)](_0x3d5c33(0x11f)),y[_0x3d5c33(0x855)](_0xa2460a[_0x3d5c33(0x68d)]);let _0x338023=await this[_0x3d5c33(0x565)]({'request':_0xa2460a,'schema':v,'ClassRef':M,'execute':_0x34c356=>O[_0x3d5c33(0x4b6)](_0x34c356,_0x5996ca)});_0x3e30d2[_0x3d5c33(0x166)](0xc8)[_0x3d5c33(0x6ba)](_0x338023);})[_0x1dd1ac(0x6a5)](this['routerPath'](_0x1dd1ac(0x392)),..._0x134c3f,async(_0x3d109f,_0x16edc1)=>{const _0x1c9176=_0x1dd1ac;let _0x5f59a8=_0x3d109f['body'];y['verbose'](_0x1c9176(0x7f1)),y[_0x1c9176(0x855)](_0x1c9176(0x11f)),y[_0x1c9176(0x855)](_0x3d109f['body']);let _0x48f5ee=await this[_0x1c9176(0x565)]({'request':_0x3d109f,'schema':v,'ClassRef':M,'execute':_0x3d6a03=>O['editFlowVaredit'](_0x3d6a03,_0x5f59a8)});_0x16edc1[_0x1c9176(0x166)](0xc8)[_0x1c9176(0x6ba)](_0x48f5ee);})[_0x1dd1ac(0x6a5)](this[_0x1dd1ac(0x4bb)](_0x1dd1ac(0x764)),..._0x134c3f,async(_0x4c1bb2,_0x56b007)=>{const _0x255bc6=_0x1dd1ac;let _0x30886a=_0x4c1bb2['body'];y[_0x255bc6(0x855)]('request\x20received\x20in\x20editFlowgroup'),y[_0x255bc6(0x855)](_0x255bc6(0x11f)),y[_0x255bc6(0x855)](_0x4c1bb2[_0x255bc6(0x68d)]);let _0x2d6add=await this[_0x255bc6(0x565)]({'request':_0x4c1bb2,'schema':v,'ClassRef':M,'execute':_0x133778=>O[_0x255bc6(0x482)](_0x133778,_0x30886a)});_0x56b007[_0x255bc6(0x166)](0xc8)[_0x255bc6(0x6ba)](_0x2d6add);})[_0x1dd1ac(0x6a5)](this[_0x1dd1ac(0x4bb)]('editflowcondition'),..._0x134c3f,async(_0xe895bf,_0x4ad7fd)=>{const _0x2491e0=_0x1dd1ac;let _0x2683fd=_0xe895bf[_0x2491e0(0x68d)];y[_0x2491e0(0x855)](_0x2491e0(0x488)),y[_0x2491e0(0x855)](_0x2491e0(0x11f)),y[_0x2491e0(0x855)](_0xe895bf['body']);let _0x4acc8e=await this[_0x2491e0(0x565)]({'request':_0xe895bf,'schema':v,'ClassRef':M,'execute':_0x1570c4=>O['editFlowCondition'](_0x1570c4,_0x2683fd)});_0x4ad7fd[_0x2491e0(0x166)](0xc8)[_0x2491e0(0x6ba)](_0x4acc8e);})[_0x1dd1ac(0x6a5)](this[_0x1dd1ac(0x4bb)](_0x1dd1ac(0x1bf)),..._0x134c3f,async(_0xa9d41f,_0x558bd1)=>{const _0x310ad1=_0x1dd1ac;let _0x5764ff=_0xa9d41f[_0x310ad1(0x68d)];y[_0x310ad1(0x855)](_0x310ad1(0x393)),y[_0x310ad1(0x855)]('request\x20body:\x20'),y[_0x310ad1(0x855)](_0xa9d41f[_0x310ad1(0x68d)]);let _0x3be28e=await this['dataValidate']({'request':_0xa9d41f,'schema':v,'ClassRef':M,'execute':_0x33246e=>O[_0x310ad1(0x86e)](_0x33246e,_0x5764ff)});_0x558bd1[_0x310ad1(0x166)](0xc8)['json'](_0x3be28e);})[_0x1dd1ac(0x6a5)](this[_0x1dd1ac(0x4bb)](_0x1dd1ac(0x287)),..._0x134c3f,async(_0x160373,_0x3db1de)=>{const _0x3474cc=_0x1dd1ac;let _0x2b1664=_0x160373['body'];y[_0x3474cc(0x855)](_0x3474cc(0x600)),y['verbose'](_0x3474cc(0x11f)),y[_0x3474cc(0x855)](_0x160373['body']);let _0x115fd4=await this['dataValidate']({'request':_0x160373,'schema':v,'ClassRef':M,'execute':_0x1ebca2=>O[_0x3474cc(0x4f3)](_0x1ebca2,_0x2b1664)});_0x3db1de['status'](0xc8)['json'](_0x115fd4);})[_0x1dd1ac(0x807)](this['routerPath'](_0x1dd1ac(0x828)),..._0x134c3f,async(_0x34bf45,_0x58ce7f)=>{const _0x37454a=_0x1dd1ac;let _0x388383=_0x34bf45[_0x37454a(0x68d)];y[_0x37454a(0x855)](_0x37454a(0x441)),y['verbose'](_0x37454a(0x11f)),y['verbose'](_0x34bf45[_0x37454a(0x68d)]);let _0x266e00=await this['dataValidate']({'request':_0x34bf45,'schema':v,'ClassRef':M,'execute':_0x5c7a12=>O[_0x37454a(0x666)](_0x5c7a12,_0x388383)});_0x58ce7f[_0x37454a(0x166)](0xc8)[_0x37454a(0x6ba)](_0x266e00);})[_0x1dd1ac(0x41a)](this[_0x1dd1ac(0x4bb)](_0x1dd1ac(0x7ca)),..._0x134c3f,async(_0x5dd6e1,_0x4db779)=>{const _0x2d5f61=_0x1dd1ac;y[_0x2d5f61(0x855)](_0x2d5f61(0x220));let _0x42f594=await this['dataValidate']({'request':_0x5dd6e1,'schema':v,'ClassRef':M,'execute':_0x51e9d1=>O[_0x2d5f61(0x2ec)](_0x51e9d1)});_0x4db779[_0x2d5f61(0x166)](0xc8)[_0x2d5f61(0x6ba)](_0x42f594);});}},Si=A(require(a0_0x36fc91(0x860))),se={};function wi(_0x217976,_0x45a34f,_0x5c3945,_0x3309c5){se[_0x217976]||(se[_0x217976]={}),se[_0x217976][_0x45a34f]={'id':_0x45a34f,'response':_0x5c3945,'events':_0x3309c5};}function yi(_0x4ff422,_0x2b6916){!se[_0x4ff422]||!se[_0x4ff422][_0x2b6916]||delete se[_0x4ff422][_0x2b6916];}function J(_0x178740,_0x7ca5db,_0x2f2832){const _0x389eca=a0_0x36fc91;if(!se[_0x178740])return;let _0x3775de='data:\x20'+JSON['stringify'](_0x2f2832)+'\x0a\x0a';Object[_0x389eca(0x663)](se[_0x178740])[_0x389eca(0x12c)](_0x342184=>{const _0x3f8448=_0x389eca;_0x342184[_0x3f8448(0x168)][_0x3f8448(0x22b)](_0x7ca5db)&&_0x342184[_0x3f8448(0x609)]['write'](_0x3775de);});}function bi(){const _0x5755b9=a0_0x36fc91;let _0x3cb2f6={};for(let _0x13c031 in se)_0x3cb2f6[_0x13c031]=Object[_0x5755b9(0x663)](se[_0x13c031])['map'](_0x354a0d=>({'id':_0x354a0d['id'],'events':_0x354a0d[_0x5755b9(0x168)]}));return _0x3cb2f6;}var Mi=require(a0_0x36fc91(0x730)),As=require('mongoose'),Rs=class{},Ro=new As[(a0_0x36fc91(0x596))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Ao=new As[(a0_0x36fc91(0x596))]({'_id':{'type':String,'default':'config'},'WebhookGlobal':{'type':Ro},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Ee=R?.['model'](Rs[a0_0x36fc91(0x10b)],Ao,a0_0x36fc91(0x3a3)),Io=Si[a0_0x36fc91(0x361)][a0_0x36fc91(0x1f8)](__dirname,a0_0x36fc91(0x134)),ke=(0x0,xt[a0_0x36fc91(0x613)])(),To=S[a0_0x36fc91(0x41a)](a0_0x36fc91(0x154))['TYPE'],re=[$a,Ra,Ta[To]];ke[a0_0x36fc91(0x7c7)](a0_0x36fc91(0x635),xt[a0_0x36fc91(0x361)][a0_0x36fc91(0x58d)](Io))[a0_0x36fc91(0x41a)](a0_0x36fc91(0x30e),async(_0x456929,_0x12e109)=>{const _0x1df035=a0_0x36fc91;console[_0x1df035(0x83e)]('bateu\x20events');let _0x361e43=_0x456929['params'][_0x1df035(0x7ef)],_0x5c668b=(_0x456929[_0x1df035(0x42a)][_0x1df035(0x168)]||'')[_0x1df035(0x599)](','),_0xd0838b=(0x0,Mi['v4'])();console[_0x1df035(0x83e)](_0x1df035(0x6de),_0x361e43),console['log'](_0x1df035(0x7de),_0x5c668b);let _0x64794d=S[_0x1df035(0x41a)]('AUTHENTICATION')[_0x1df035(0x7d5)],_0x24c81a=_0x456929['query'][_0x1df035(0x18d)];if(console[_0x1df035(0x83e)](_0x1df035(0x3b2),_0x24c81a),_0x64794d[_0x1df035(0x54f)]!==_0x24c81a){console[_0x1df035(0x83e)](_0x1df035(0x6d1));try{let _0xb8ccae=await me[_0x1df035(0x48f)][_0x1df035(0x757)](_0x361e43);if(console[_0x1df035(0x83e)]('Instance\x20Key\x20from\x20DB:',_0xb8ccae),!_0xb8ccae||_0xb8ccae[_0x1df035(0x18d)]!==_0x24c81a)return console['log'](_0x1df035(0x72d)),_0x12e109[_0x1df035(0x166)](0x191)['send'](_0x1df035(0x189));}catch(_0x4890e){return console[_0x1df035(0x844)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x4890e),_0x12e109[_0x1df035(0x166)](0x191)['send']('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await Oe(_0x361e43))return _0x12e109['status'](0x194)[_0x1df035(0x727)](_0x1df035(0x432));_0x12e109[_0x1df035(0x1cf)](_0x1df035(0x6c2),_0x1df035(0x739)),_0x12e109[_0x1df035(0x1cf)](_0x1df035(0x558),_0x1df035(0x2cd)),_0x12e109[_0x1df035(0x1cf)](_0x1df035(0x3ca),_0x1df035(0x771)),_0x12e109['flushHeaders']();let _0x415b32='data:\x20'+JSON['stringify']({'info':_0x1df035(0x454)})+'\x0a\x0a';_0x12e109[_0x1df035(0x7ff)](_0x415b32),wi(_0x361e43,_0xd0838b,_0x12e109,_0x5c668b),_0x456929['on'](_0x1df035(0x13d),()=>{const _0x308866=_0x1df035;console[_0x308866(0x83e)]('Connection\x20closed\x20for\x20instance:\x20'+_0x361e43),yi(_0x361e43,_0xd0838b);});}),ke[a0_0x36fc91(0x6a5)](a0_0x36fc91(0x3f7),async(_0x2f6219,_0x178b4e)=>{const _0x3affcd=a0_0x36fc91;console[_0x3affcd(0x83e)](_0x3affcd(0x481));let _0x9fe5e9=_0x2f6219[_0x3affcd(0x375)]['instance'],_0x1ccb59=_0x2f6219[_0x3affcd(0x375)]['startID'],_0x2a6f04=_0x2f6219['query'][_0x3affcd(0x370)]||'',_0x177123=_0x2f6219['body'];console['log'](_0x3affcd(0x5db),_0x9fe5e9),console[_0x3affcd(0x83e)](_0x3affcd(0x2bb),_0x1ccb59),console['log'](_0x3affcd(0x38e),_0x2a6f04),console[_0x3affcd(0x83e)](_0x3affcd(0x22d),_0x177123);try{if(!await Oe(_0x9fe5e9))return _0x178b4e[_0x3affcd(0x166)](0x194)[_0x3affcd(0x727)]('Instância\x20não\x20encontrada.');let _0x14ea4f=await O[_0x3affcd(0x415)](_0x9fe5e9,_0x1ccb59,_0x2a6f04,_0x177123);_0x178b4e[_0x3affcd(0x727)](_0x14ea4f);}catch(_0x13f1b1){console['error'](_0x13f1b1),_0x178b4e['status'](0x1f4)[_0x3affcd(0x727)]('Erro\x20ao\x20iniciar\x20o\x20fluxo.');}}),ke['get']('/clients-info',(_0x4594bf,_0xea58de)=>{const _0x2d4fd7=a0_0x36fc91;let _0x391cb6=bi();_0xea58de[_0x2d4fd7(0x6ba)](_0x391cb6);})[a0_0x36fc91(0x41a)]('/',(_0xb2aa6a,_0x15cd52)=>{const _0x54f83e=a0_0x36fc91;let _0x328883=S[_0x54f83e(0x41a)](_0x54f83e(0x854))[_0x54f83e(0x456)];if(_0x328883){let _0x2e2d88=encodeURIComponent(''+_0x328883);_0x15cd52[_0x54f83e(0x4ed)](_0x54f83e(0x5d1)+_0x2e2d88);return;}let _0xd11e67=S[_0x54f83e(0x41a)](_0x54f83e(0x6ea)),_0x214319=_0xd11e67&&_0xd11e67[_0x54f83e(0x437)][_0x54f83e(0x599)]('/')[0x4];if(_0x214319){let _0x3eb121=encodeURIComponent(_0x54f83e(0x120)+_0x214319);_0x15cd52[_0x54f83e(0x4ed)](_0x54f83e(0x5d1)+_0x3eb121);}else _0x15cd52['redirect'](_0x54f83e(0x350));})['put']('/exit',...re,async(_0xffff1d,_0x35b137)=>{const _0x280a6c=a0_0x36fc91;try{console['log'](_0x280a6c(0x2ba)),_0x35b137[_0x280a6c(0x166)](0xc8)[_0x280a6c(0x6ba)]({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x35b137['on'](_0x280a6c(0x26d),()=>process[_0x280a6c(0x298)](0x0));}catch(_0x5ebc9e){console[_0x280a6c(0x844)](_0x280a6c(0x2b5),_0x5ebc9e),_0x35b137[_0x280a6c(0x166)](0x1f4)[_0x280a6c(0x6ba)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0x36fc91(0x407)](a0_0x36fc91(0x578),...re,async(_0x283ef9,_0x29b2eb)=>{const _0x4b636b=a0_0x36fc91;try{let _0x351777=_0x283ef9[_0x4b636b(0x68d)];await Ee[_0x4b636b(0x47d)]({},{'$set':_0x351777},{'upsert':!0x0});let _0x14ec67=await Ee[_0x4b636b(0x74a)]();_0x29b2eb['json'](_0x14ec67);}catch(_0x4bf754){_0x29b2eb[_0x4b636b(0x166)](0x190)[_0x4b636b(0x727)](_0x4bf754[_0x4b636b(0x142)]);}})[a0_0x36fc91(0x41a)]('/config',...re,async(_0x37875b,_0xe81b1c)=>{const _0x4f372b=a0_0x36fc91;try{let _0x93d2e5=await Ee['findOne']();if(!_0x93d2e5)return _0xe81b1c[_0x4f372b(0x6ba)]({});_0xe81b1c[_0x4f372b(0x6ba)](_0x93d2e5);}catch(_0x163a7f){_0xe81b1c['status'](0x1f4)[_0x4f372b(0x727)](_0x163a7f['message']);}})[a0_0x36fc91(0x7c7)](a0_0x36fc91(0x7a4),new yt(S,...re)[a0_0x36fc91(0x73f)])[a0_0x36fc91(0x7c7)]('/message',new It(...re)['router'])[a0_0x36fc91(0x7c7)](a0_0x36fc91(0x804),new ct(...re)[a0_0x36fc91(0x73f)])[a0_0x36fc91(0x7c7)](a0_0x36fc91(0x36c),new wt(...re)[a0_0x36fc91(0x73f)])['use'](a0_0x36fc91(0x840),new Ot(...re)[a0_0x36fc91(0x73f)])[a0_0x36fc91(0x7c7)](a0_0x36fc91(0x2c7),new _t(...re)[a0_0x36fc91(0x73f)]);var m=class{constructor(..._0x298601){const _0x214868=a0_0x36fc91;throw{'status':0x190,'error':'Bad\x20Request','message':_0x298601[_0x214868(0x6eb)]>0x0?_0x298601:void 0x0};}},oe=class{constructor(..._0x304d11){const _0x44d877=a0_0x36fc91;throw{'status':0x191,'error':_0x44d877(0x618),'message':_0x304d11[_0x44d877(0x6eb)]>0x0?_0x304d11:void 0x0};}},Z=class{constructor(..._0xd110a2){const _0x3ec383=a0_0x36fc91;throw{'status':0x193,'error':_0x3ec383(0x836),'message':_0xd110a2[_0x3ec383(0x6eb)]>0x0?_0xd110a2:void 0x0};}},j=class{constructor(..._0x2c3849){const _0x3a81ab=a0_0x36fc91;throw{'status':0x194,'error':_0x3a81ab(0x258),'message':_0x2c3849[_0x3a81ab(0x6eb)]>0x0?_0x2c3849:void 0x0};}},x=class{constructor(..._0x931fe8){const _0x1ef7c9=a0_0x36fc91;throw{'status':0x1f4,'error':_0x1ef7c9(0x647),'message':_0x931fe8[_0x1ef7c9(0x6eb)]>0x0?_0x931fe8:void 0x0};}},fe=require('@whiskeysockets/baileys');async function Is(_0x4ae000){const _0x1d8b40=a0_0x36fc91;let _0x23de0e=new $(Is[_0x1d8b40(0x10b)]),_0x484b2f=R['getClient'](),_0x331118=_0x484b2f['db'](S[_0x1d8b40(0x41a)](_0x1d8b40(0x26a))[_0x1d8b40(0x72e)][_0x1d8b40(0x50b)]+_0x1d8b40(0x524))[_0x1d8b40(0x183)](_0x4ae000),_0x131e80=async(_0x33edd5,_0x438b47)=>{const _0x5153d6=_0x1d8b40;try{return await _0x484b2f[_0x5153d6(0x538)](),await _0x331118['replaceOne']({'_id':_0x438b47},JSON[_0x5153d6(0x63f)](JSON[_0x5153d6(0x3ef)](_0x33edd5,fe[_0x5153d6(0x21a)]['replacer'])),{'upsert':!0x0});}catch{}},_0xe56f17=async _0x2cfd8c=>{const _0x3e6d75=_0x1d8b40;try{await _0x484b2f[_0x3e6d75(0x538)]();let _0x359bd1=await _0x331118[_0x3e6d75(0x74a)]({'_id':_0x2cfd8c}),_0x24658d=JSON[_0x3e6d75(0x3ef)](_0x359bd1);return JSON[_0x3e6d75(0x63f)](_0x24658d,fe[_0x3e6d75(0x21a)][_0x3e6d75(0x4b1)]);}catch{}},_0x3a04f6=async _0x2d1291=>{const _0x12d33a=_0x1d8b40;try{return await _0x484b2f['connect'](),await _0x331118[_0x12d33a(0x7b3)]({'_id':_0x2d1291});}catch{}},_0x484d39=await _0xe56f17(_0x1d8b40(0x158))||(0x0,fe[_0x1d8b40(0x4f0)])();return{'state':{'creds':_0x484d39,'keys':{'get':async(_0x40e09c,_0x3d85c4)=>{const _0x3c45b4=_0x1d8b40;let _0x2f466e={};return await Promise[_0x3c45b4(0x42b)](_0x3d85c4[_0x3c45b4(0x71e)](async _0x3d87ed=>{const _0x1d86df=_0x3c45b4;let _0x31e600=await _0xe56f17(_0x40e09c+'-'+_0x3d87ed);_0x40e09c===_0x1d86df(0x83b)&&_0x31e600&&(_0x31e600=fe[_0x1d86df(0x638)][_0x1d86df(0x84b)][_0x1d86df(0x2b8)][_0x1d86df(0x718)](_0x31e600)),_0x2f466e[_0x3d87ed]=_0x31e600;})),_0x2f466e;},'set':async _0x5c0e70=>{const _0x1f65ed=_0x1d8b40;let _0x81a3=[];for(let _0x90c260 in _0x5c0e70)for(let _0x50f627 in _0x5c0e70[_0x90c260]){let _0x5d5ee2=_0x5c0e70[_0x90c260][_0x50f627],_0xb317e3=_0x90c260+'-'+_0x50f627;_0x81a3['push'](_0x5d5ee2?_0x131e80(_0x5d5ee2,_0xb317e3):_0x3a04f6(_0xb317e3));}await Promise[_0x1f65ed(0x42b)](_0x81a3);}}},'saveCreds':async()=>_0x131e80(_0x484d39,_0x1d8b40(0x158))};}var Ds=A(require(a0_0x36fc91(0x5de))),Ps=A(require(a0_0x36fc91(0x829))),kt=require(a0_0x36fc91(0x39b)),Ci=require(a0_0x36fc91(0x7a5)),Pt=require(a0_0x36fc91(0x39b)),Dt;function Oo(_0x5d960){const _0x408bf9=a0_0x36fc91;return Dt||(Dt=(0x0,Ci['createClient'])({'url':_0x5d960[_0x408bf9(0x3bc)]}),Dt[_0x408bf9(0x538)]()),Dt;}var de=class u{constructor(_0x220827,_0x13e190){const _0x3c3647=a0_0x36fc91;this[_0x3c3647(0x822)]=_0x220827,this[_0x3c3647(0x3af)]=_0x13e190,this[_0x3c3647(0x2ee)]=new $(u['name']),this[_0x3c3647(0x850)]=Oo(_0x220827);}set[a0_0x36fc91(0x6bb)](_0x27c77d){const _0x2594b3=a0_0x36fc91;this[_0x2594b3(0x3af)]=_0x27c77d;}async['instanceKeys'](){const _0x5e85bb=a0_0x36fc91;try{return await this[_0x5e85bb(0x850)]['sendCommand']([_0x5e85bb(0x448),this['redisEnv'][_0x5e85bb(0x136)]+':*']);}catch(_0x2d911e){this[_0x5e85bb(0x2ee)][_0x5e85bb(0x844)](_0x2d911e);}}async[a0_0x36fc91(0x40a)](_0x30bf67,_0x29571c){const _0x2de1e8=a0_0x36fc91;try{let _0x23b644=JSON[_0x2de1e8(0x3ef)](_0x29571c,Pt[_0x2de1e8(0x21a)]['replacer']);return await this[_0x2de1e8(0x850)][_0x2de1e8(0x3e6)](this[_0x2de1e8(0x822)][_0x2de1e8(0x136)]+':'+this['instanceName'],_0x30bf67,_0x23b644);}catch(_0x19080f){this[_0x2de1e8(0x2ee)]['error'](_0x19080f);}}async[a0_0x36fc91(0x2b3)](){const _0x312fa7=a0_0x36fc91;try{let _0x1bc325=await this[_0x312fa7(0x850)][_0x312fa7(0x206)](this[_0x312fa7(0x822)]['PREFIX_KEY']+':'+this[_0x312fa7(0x3af)]);if(_0x1bc325){for(let _0x96c4ae in _0x1bc325)Object[_0x312fa7(0x3c0)]['hasOwnProperty'][_0x312fa7(0x737)](_0x1bc325,_0x96c4ae)&&(_0x1bc325[_0x96c4ae]=JSON['parse'](_0x1bc325[_0x96c4ae],Pt[_0x312fa7(0x21a)][_0x312fa7(0x4b1)]));return _0x1bc325;}}catch(_0xccc2fb){this[_0x312fa7(0x2ee)][_0x312fa7(0x844)](_0xccc2fb);}}async['readData'](_0x5fb827){const _0x2d1b8a=a0_0x36fc91;try{let _0x444dc8=await this[_0x2d1b8a(0x850)][_0x2d1b8a(0x44c)](this[_0x2d1b8a(0x822)][_0x2d1b8a(0x136)]+':'+this[_0x2d1b8a(0x3af)],_0x5fb827);if(_0x444dc8)return JSON[_0x2d1b8a(0x63f)](_0x444dc8,Pt[_0x2d1b8a(0x21a)]['reviver']);}catch(_0x1d8c79){this[_0x2d1b8a(0x2ee)]['error'](_0x1d8c79);}}async['removeData'](_0xe597ac){const _0x1bb09e=a0_0x36fc91;try{return await this[_0x1bb09e(0x850)]['hDel'](this['redisEnv'][_0x1bb09e(0x136)]+':'+this[_0x1bb09e(0x3af)],_0xe597ac);}catch(_0x2ef076){this[_0x1bb09e(0x2ee)][_0x1bb09e(0x844)](_0x2ef076);}}async[a0_0x36fc91(0x83c)](_0x39ee9a){const _0x54db73=a0_0x36fc91;try{return await this['client'][_0x54db73(0x513)](_0x39ee9a||this['redisEnv'][_0x54db73(0x136)]+':'+this[_0x54db73(0x3af)]);}catch(_0x24eada){this[_0x54db73(0x2ee)][_0x54db73(0x844)](_0x24eada);}}};async function Ts(_0x4861d6,_0x91e0a0){const _0x3c7aa5=a0_0x36fc91;let _0x555e77=new $(Ts[_0x3c7aa5(0x10b)]),_0x19fd0a=new de(_0x4861d6,_0x91e0a0),_0x5f31ba=async(_0x348339,_0x28ca0f)=>{const _0x320f04=_0x3c7aa5;try{return await _0x19fd0a['writeData'](_0x28ca0f,_0x348339);}catch(_0x38bfe6){return _0x555e77['error']({'localError':_0x320f04(0x40a),'error':_0x38bfe6});}},_0x5d4dc7=async _0x3f306f=>{const _0x30bd50=_0x3c7aa5;try{return await _0x19fd0a[_0x30bd50(0x4c7)](_0x3f306f);}catch(_0x122ca6){_0x555e77['error']({'readData':_0x30bd50(0x40a),'error':_0x122ca6});return;}},_0x14c54c=async _0x258574=>{const _0x2f2b82=_0x3c7aa5;try{return await _0x19fd0a[_0x2f2b82(0x2da)](_0x258574);}catch(_0x3c1738){_0x555e77[_0x2f2b82(0x844)]({'readData':'removeData','error':_0x3c1738});}},_0x34c30c=await _0x5d4dc7('creds')||(0x0,kt['initAuthCreds'])();return{'state':{'creds':_0x34c30c,'keys':{'get':async(_0x3427b6,_0x23efea)=>{const _0x2ca36a=_0x3c7aa5;let _0x38992d={};return await Promise[_0x2ca36a(0x42b)](_0x23efea[_0x2ca36a(0x71e)](async _0x504668=>{const _0xe0e87f=_0x2ca36a;let _0x29d225=await _0x5d4dc7(_0x3427b6+'-'+_0x504668);_0x3427b6===_0xe0e87f(0x83b)&&_0x29d225&&(_0x29d225=kt['proto']['Message'][_0xe0e87f(0x2b8)][_0xe0e87f(0x718)](_0x29d225)),_0x38992d[_0x504668]=_0x29d225;})),_0x38992d;},'set':async _0x43d696=>{const _0x30fbbd=_0x3c7aa5;let _0x27d5a3=[];for(let _0x41d3b1 in _0x43d696)for(let _0x5b83db in _0x43d696[_0x41d3b1]){let _0x51072c=_0x43d696[_0x41d3b1][_0x5b83db],_0x2e5c9c=_0x41d3b1+'-'+_0x5b83db;_0x27d5a3[_0x30fbbd(0x871)](_0x51072c?await _0x5f31ba(_0x51072c,_0x2e5c9c):await _0x14c54c(_0x2e5c9c));}await Promise[_0x30fbbd(0x42b)](_0x27d5a3);}}},'saveCreds':async()=>await _0x5f31ba(_0x34c30c,_0x3c7aa5(0x158))};}var L=A(require('fs')),X=require(a0_0x36fc91(0x730)),jt=A(require('sharp')),Ne=require(a0_0x36fc91(0x1c1)),Ei=require(a0_0x36fc91(0x51d)),vi=require('util'),Ni=A(require(a0_0x36fc91(0x19a))),ve=class extends _{constructor(_0x2a4c10,_0x9781e0,_0x49ac50){const _0x2d88c3=a0_0x36fc91;super(_0x9781e0),this['cacheInstanceModel']=_0x2a4c10,this[_0x2d88c3(0x256)]=_0x9781e0,this[_0x2d88c3(0x15f)]=_0x49ac50;}async[a0_0x36fc91(0x75e)](_0x456833,_0x3a6865){const _0x4a1752=a0_0x36fc91;try{if(this[_0x4a1752(0x209)][_0x4a1752(0x554)]){console[_0x4a1752(0x83e)]('Creating\x20or\x20updating\x20instance\x20with\x20id:\x20'+_0x3a6865+_0x4a1752(0x6f4),_0x456833);let _0x220d80=await this[_0x4a1752(0x528)][_0x4a1752(0x754)]({'_id':_0x3a6865},{'$set':_0x456833},{'new':!0x0,'upsert':!0x0});return console[_0x4a1752(0x83e)](_0x4a1752(0x263),_0x220d80),_0x220d80;}}catch(_0x17c706){throw console[_0x4a1752(0x844)](_0x4a1752(0x387),_0x17c706),_0x17c706;}return null;}async[a0_0x36fc91(0x7b3)](_0x45d42d){const _0x1a89a3=a0_0x36fc91;try{let _0x75da93=I(_0x45d42d[_0x1a89a3(0x3bf)]);return{'deletedCount':(await this[_0x1a89a3(0x528)][_0x1a89a3(0x7b3)](_0x75da93))[_0x1a89a3(0x16c)]};}catch(_0x24b7f9){return{'error':_0x24b7f9?.['toString']()};}}async[a0_0x36fc91(0x74a)](_0x327e00){const _0x245f46=a0_0x36fc91;try{let _0xc246fc=I(_0x327e00[_0x245f46(0x3bf)]);return await this[_0x245f46(0x528)]['findOne'](_0xc246fc)[_0x245f46(0x5ff)]();}catch{return null;}}},Lt=(0x0,vi['promisify'])(Ei[a0_0x36fc91(0x1c4)]),_o=S[a0_0x36fc91(0x41a)](a0_0x36fc91(0x45a)),Os=class{constructor(){const _0x4aacef=a0_0x36fc91;this[_0x4aacef(0x3e7)]=new ve(Be,S),(!this[_0x4aacef(0x144)]||!this[_0x4aacef(0x6bd)])&&_o&&this[_0x4aacef(0x677)]()[_0x4aacef(0x589)](()=>{const _0x44b5c6=_0x4aacef;console[_0x44b5c6(0x83e)](_0x44b5c6(0x33c)+this[_0x44b5c6(0x144)]),console['log'](_0x44b5c6(0x745)+this[_0x44b5c6(0x6bd)]);})[_0x4aacef(0x6ad)](_0x26d6d1=>{const _0x6f4c25=_0x4aacef;console[_0x6f4c25(0x844)]('Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20'+_0x26d6d1[_0x6f4c25(0x142)]);});}async[a0_0x36fc91(0x677)](){const _0x171a32=a0_0x36fc91;try{let {stdout:_0x4eb51c}=await Lt(_0x171a32(0x845));console[_0x171a32(0x83e)](_0x171a32(0x151)+_0x4eb51c);let _0x310009=_0x4eb51c['split']('\x0a')['map'](_0x169d1b=>_0x169d1b[_0x171a32(0x599)]('\x20')[0x0])['filter'](_0x500391=>!_0x500391[_0x171a32(0x22b)]('lo')&&!_0x500391[_0x171a32(0x22b)](_0x171a32(0x1bc))&&!_0x500391[_0x171a32(0x22b)](_0x171a32(0x5b0))&&!_0x500391['includes']('wl')&&!_0x500391[_0x171a32(0x22b)]('@'));if(console['log'](_0x171a32(0x5a3)+_0x310009),_0x310009[_0x171a32(0x6eb)]===0x0)throw new Error('No\x20suitable\x20network\x20interface\x20found');this[_0x171a32(0x6bd)]=_0x310009[0x0];let {stdout:_0x17ba9a}=await Lt('ip\x20-6\x20addr\x20show\x20dev\x20'+this['networkInterface']);console[_0x171a32(0x83e)](_0x171a32(0x201)+_0x17ba9a);let _0x438b24=_0x17ba9a[_0x171a32(0x599)]('\x0a')[_0x171a32(0x757)](_0x584f20=>_0x584f20[_0x171a32(0x22b)](_0x171a32(0x826))&&_0x584f20['includes'](_0x171a32(0x78b)));if(!_0x438b24)throw new Error(_0x171a32(0x19d));let _0x1c4f1c=_0x438b24['match'](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x1c4f1c)throw new Error(_0x171a32(0x323));let [_0x27e035,_0x130944,_0x101807]=_0x1c4f1c,_0x4a53b2=Math[_0x171a32(0x3b9)](Number(_0x101807)/0x10),_0x2d3bc2=Number(_0x101807)%0x10,_0x43d616=_0x130944[_0x171a32(0x599)](':')['slice'](0x0,_0x4a53b2)['join'](':');if(_0x2d3bc2>0x0){let _0x14ec5d=_0x130944[_0x171a32(0x599)](':')[_0x4a53b2],_0x444508=0xffff<<0x10-_0x2d3bc2&0xffff,_0x580e4a=(parseInt(_0x14ec5d,0x10)&_0x444508)[_0x171a32(0x698)](0x10)[_0x171a32(0x381)](0x4,'0');_0x43d616+=':'+_0x580e4a;}this[_0x171a32(0x144)]=_0x43d616+':';}catch(_0x4a1480){console[_0x171a32(0x844)]('Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:',_0x4a1480);}}async[a0_0x36fc91(0x314)](_0x37f2db){const _0x3db8ab=a0_0x36fc91;let _0x20fb1f=_0x3db8ab(0x43e)+_0x37f2db+_0x3db8ab(0x153)+this[_0x3db8ab(0x6bd)];try{await Lt(_0x20fb1f),console[_0x3db8ab(0x83e)](_0x3db8ab(0x7e8)+_0x37f2db);}catch(_0x5214e0){console[_0x3db8ab(0x844)]('Error\x20adding\x20IPv6\x20address:\x20'+_0x5214e0);}}async['removeIPv6'](_0x3a4e23){const _0x5aba59=a0_0x36fc91;let _0x2d5d18=_0x5aba59(0x1b5)+_0x3a4e23+_0x5aba59(0x153)+this[_0x5aba59(0x6bd)];try{await Lt(_0x2d5d18),console[_0x5aba59(0x83e)]('IPv6\x20address\x20removed:\x20'+_0x3a4e23);}catch(_0x2397c8){console[_0x5aba59(0x844)]('Error\x20removing\x20IPv6\x20address:\x20'+_0x2397c8);}}[a0_0x36fc91(0x612)](){const _0xb9ee77=a0_0x36fc91;return'XX:XX:XX:XX:XX:XX'[_0xb9ee77(0x6fe)](/X/g,()=>_0xb9ee77(0x629)[_0xb9ee77(0x342)](Math[_0xb9ee77(0x3b9)](Math['random']()*0x10)));}[a0_0x36fc91(0x48d)](_0x19144a,_0x3fc197){const _0x28e9a4=a0_0x36fc91;let _0x476c15=_0x3fc197[_0x28e9a4(0x599)](':');return _0x476c15[0x0]=(parseInt(_0x476c15[0x0],0x10)^0x2)[_0x28e9a4(0x698)](0x10)[_0x28e9a4(0x381)](0x2,'0'),''+_0x19144a+_0x476c15[0x0]+_0x476c15[0x1]+':'+_0x476c15[0x2]+_0x28e9a4(0x791)+_0x476c15[0x3]+':'+_0x476c15[0x4]+_0x476c15[0x5];}[a0_0x36fc91(0x3d0)](){const _0x29bc68=a0_0x36fc91;let _0x3201bb=this[_0x29bc68(0x144)];_0x3201bb[_0x29bc68(0x4e8)](':')||(_0x3201bb+=':');let _0x38a9a9=this[_0x29bc68(0x612)]();return this[_0x29bc68(0x48d)](_0x3201bb,_0x38a9a9);}[a0_0x36fc91(0x665)](_0xcd598){const _0x15dfc7=a0_0x36fc91;return new RegExp('^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$')[_0x15dfc7(0x3cc)](_0xcd598);}async['testIPv6'](_0x13c64e){const _0x1a4231=a0_0x36fc91;let _0x3dac93=[{'url':_0x1a4231(0x765),'parse':_0x2e304d=>_0x2e304d['ip']},{'url':_0x1a4231(0x81b),'parse':_0x25e2a8=>_0x25e2a8['ip']},{'url':'https://ifconfig.me/ip','parse':_0x14a429=>_0x14a429[_0x1a4231(0x821)]()},{'url':_0x1a4231(0x7e5),'parse':_0x3d9d91=>_0x3d9d91[_0x1a4231(0x821)]()}],_0x18fd45=_0x3dac93[Math[_0x1a4231(0x3b9)](Math['random']()*_0x3dac93[_0x1a4231(0x6eb)])];try{let _0x3b8812=await Ni[_0x1a4231(0x361)][_0x1a4231(0x41a)](_0x18fd45[_0x1a4231(0x79d)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x13c64e}}),_0x10809b=_0x18fd45['parse'](_0x3b8812[_0x1a4231(0x3ff)]);return _0x10809b[_0x1a4231(0x73c)]()===_0x13c64e[_0x1a4231(0x73c)]()?(console['log'](_0x1a4231(0x5ad)+_0x13c64e),!0x0):(console[_0x1a4231(0x844)](_0x1a4231(0x795)+_0x13c64e+_0x1a4231(0x32f)+_0x10809b),!0x1);}catch(_0x549785){return console[_0x1a4231(0x844)]('Error\x20testing\x20IP\x20with\x20'+_0x18fd45['url']+':\x20'+_0x549785['message']),!0x1;}}async['createIPv6'](_0x2ec1e3,_0x5b811f){const _0x1a7fa2=a0_0x36fc91;if(!this[_0x1a7fa2(0x144)]||!this[_0x1a7fa2(0x6bd)])return console[_0x1a7fa2(0x844)](_0x1a7fa2(0x1d1)),null;let _0x57eea5;do _0x57eea5=this['generateRandomIPv6'](),console['log'](_0x1a7fa2(0x4f9)+_0x57eea5);while(!await this[_0x1a7fa2(0x186)](_0x57eea5));await this[_0x1a7fa2(0x314)](_0x57eea5),console[_0x1a7fa2(0x83e)](_0x1a7fa2(0x1fa)+_0x57eea5);let _0x574f35={'_id':_0x2ec1e3+'-'+_0x5b811f,'ip':_0x57eea5},_0x1384b5=await this[_0x1a7fa2(0x3e7)]['createOrUpdate'](_0x574f35,_0x574f35[_0x1a7fa2(0x21f)]);return console['log'](_0x1a7fa2(0x30d)+_0x1384b5),_0x57eea5;}async['isValidAndUniqueIPv6'](_0x4611fe){const _0x26922c=a0_0x36fc91;return this[_0x26922c(0x665)](_0x4611fe)?!await this[_0x26922c(0x3e7)][_0x26922c(0x74a)]({'where':{'ip':_0x4611fe}}):!0x1;}async[a0_0x36fc91(0x2e3)](_0x575785,_0x54a0d8){const _0x4d54b0=a0_0x36fc91;let _0x62a3e5=_0x575785+'-'+_0x54a0d8,_0x466482=await this['cacheInstanceRepository'][_0x4d54b0(0x74a)]({'where':{'_id':_0x62a3e5}});_0x466482&&_0x466482['ip']&&(await this[_0x4d54b0(0x2b1)](_0x466482['ip']),await this[_0x4d54b0(0x3e7)][_0x4d54b0(0x7b3)]({'where':{'_id':_0x62a3e5}}));}},xo=new Os(),ae=xo,ks=a0_0x36fc91(0x4be),_i,pe=null,Oa=null,Do=0x3,Po=null,$i=S[a0_0x36fc91(0x41a)](a0_0x36fc91(0x154))[a0_0x36fc91(0x7d5)]['KEY'],Ri=S[a0_0x36fc91(0x41a)](a0_0x36fc91(0x45a));async function ko(){const _0xf58ed2=a0_0x36fc91;let _0x45cc49=await Ee[_0xf58ed2(0x74a)]();pe=_0x45cc49?.[_0xf58ed2(0x240)]??null,Po=_0x45cc49?.['DaysToDelete']??null,ks=_0x45cc49?.[_0xf58ed2(0x4d2)]??_0xf58ed2(0x4be),_i=_0x45cc49?.[_0xf58ed2(0x446)]??W??_0xf58ed2(0x2b0);}async function Lo(){await ko();}Lo();var Ft={},$e=class u{constructor(_0x3c1005,_0x388c12,_0x2efa62){const _0xce678b=a0_0x36fc91;this[_0xce678b(0x256)]=_0x3c1005,this[_0xce678b(0x11d)]=_0x388c12,this[_0xce678b(0x465)]=_0x2efa62,this[_0xce678b(0x669)]=null,this[_0xce678b(0x2ee)]=new $(u[_0xce678b(0x10b)]),this[_0xce678b(0x7ef)]={},this['localWebhook']={},this[_0xce678b(0x70e)]={'state':_0xce678b(0x13d)},this[_0xce678b(0x254)]=(0x0,U[_0xce678b(0x1f8)])(ne,_0xce678b(0x134)),this['msgRetryCounterCache']=new Ps[(_0xce678b(0x361))](),this[_0xce678b(0x130)]=new Ps[(_0xce678b(0x361))](),this[_0xce678b(0x2e6)]=!0x1,this[_0xce678b(0x569)]={'status.instance':_0xce678b(0x5ca),'connection.update':'/wa-connection-update','qrcode.updated':_0xce678b(0x872),'messages.upsert':_0xce678b(0x29c),'send.message':_0xce678b(0x29c),'messages.update':_0xce678b(0x26b),'group.upsert':'/wa-groups','group.update':'/wa-groups','group-participants.update':_0xce678b(0x744),'messages.set':'/wa-all-message','contacts.set':_0xce678b(0x86a),'contacts.upsert':_0xce678b(0x86a),'contacts.update':_0xce678b(0x86a),'presence.update':_0xce678b(0x69e),'chats.set':'/wa-chats','chats.update':_0xce678b(0x748),'chats.upsert':_0xce678b(0x748),'chats.delete':_0xce678b(0x748)},this['reconnectAttempts']=0x0,this[_0xce678b(0x354)]=[],this[_0xce678b(0x3da)]=0xea60,this[_0xce678b(0x541)]=!0x1,this[_0xce678b(0x626)]={'chats.upsert':async(_0x245808,_0x132aae)=>{const _0x1ee1a3=_0xce678b;let _0x448dec=[];for await(let _0x3327e2 of _0x245808)_0x448dec[_0x1ee1a3(0x871)]({'_id':_0x3327e2['id'],'owner':this['instance'][_0x1ee1a3(0x816)],'group':_0x3327e2['id'][_0x1ee1a3(0x4e8)](_0x1ee1a3(0x758)),'name':_0x3327e2['name']||_0x3327e2[_0x1ee1a3(0x2b7)]||null,'contactname':null,'lastmsg':_0x3327e2['conversationTimestamp']&&_0x3327e2[_0x1ee1a3(0x60a)][_0x1ee1a3(0x698)]()[_0x1ee1a3(0x6eb)]<0xd?_0x3327e2[_0x1ee1a3(0x60a)]*0x3e8:_0x3327e2[_0x1ee1a3(0x60a)]||null,'archived':_0x3327e2['archived']||!0x1,'unreadcount':_0x3327e2['unreadCount']||0x0,'ephemeralExpiration':_0x3327e2[_0x1ee1a3(0x82e)]||0x0});this[_0x1ee1a3(0x41f)]('chats.upsert',_0x448dec);},'chats.update':async(_0x480f9b,_0x190fca)=>{const _0x58f45c=_0xce678b;for(let _0x3fdb49 of _0x480f9b){let _0xf10134={'_id':_0x3fdb49['id'],'owner':this[_0x58f45c(0x7ef)][_0x58f45c(0x816)],'archived':_0x3fdb49[_0x58f45c(0x597)],'muteEndTime':_0x3fdb49[_0x58f45c(0x243)],'ephemeralExpiration':_0x3fdb49[_0x58f45c(0x82e)]},_0x51dbac=!0x1,_0x598581={};_0xf10134[_0x58f45c(0x597)]!=null&&(this[_0x58f45c(0x2ee)]['verbose'](this[_0x58f45c(0x3af)]+'\x20('+this[_0x58f45c(0x7ef)][_0x58f45c(0x816)]+_0x58f45c(0x617)+_0x3fdb49['id']+_0x58f45c(0x24b)+_0x3fdb49[_0x58f45c(0x597)]),_0x51dbac=!0x0,_0x598581[_0x58f45c(0x597)]=_0x3fdb49['archived']),_0x58f45c(0x243)in _0x3fdb49&&(this[_0x58f45c(0x2ee)][_0x58f45c(0x855)](this[_0x58f45c(0x3af)]+'\x20('+this[_0x58f45c(0x7ef)][_0x58f45c(0x816)]+_0x58f45c(0x210)+_0x3fdb49['id']+_0x58f45c(0x24b)+(_0x3fdb49[_0x58f45c(0x243)]??'0')),_0x51dbac=!0x0,_0x598581['muteEndTime']=_0x3fdb49['muteEndTime']??0x0),_0x58f45c(0x82e)in _0x3fdb49&&(this[_0x58f45c(0x2ee)][_0x58f45c(0x855)](this['instanceName']+'\x20('+this[_0x58f45c(0x7ef)][_0x58f45c(0x816)]+_0x58f45c(0x3b7)+_0x3fdb49['id']+'\x20:\x20'+(_0x3fdb49[_0x58f45c(0x82e)]!==void 0x0?_0x3fdb49[_0x58f45c(0x82e)]:_0x58f45c(0x4f8))),_0x598581['ephemeralExpiration']=_0x3fdb49[_0x58f45c(0x82e)]===null?0x0:_0x3fdb49['ephemeralExpiration'],_0x51dbac=!0x0);let _0x116241;_0x51dbac&&(_0x116241=await this['repository'][_0x58f45c(0x1aa)]['updateOne']({'where':{'_id':_0x3fdb49['id']}},_0x598581,this['instance'][_0x58f45c(0x816)])),_0x116241&&J(this[_0x58f45c(0x3af)],_0x58f45c(0x4a4),{'chat':_0x116241});}},'chats.delete':async _0x1e71b2=>{const _0x36f276=_0xce678b;for(let _0x1d7333 of _0x1e71b2)if(_0x1d7333[_0x36f276(0x4e8)](_0x36f276(0x758))){await this[_0x36f276(0x465)][_0x36f276(0x1aa)][_0x36f276(0x807)]({'where':{'_id':_0x1d7333}},this['instance']['wuid']);let _0x501b38={'where':{'key':{'remoteJid':_0x1d7333}}};await this[_0x36f276(0x465)]['message'][_0x36f276(0x807)](_0x501b38,this[_0x36f276(0x7ef)][_0x36f276(0x816)]);}else{await this['repository']['chat'][_0x36f276(0x47d)]({'where':{'_id':_0x1d7333}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x36f276(0x7ef)]['wuid']);let _0x1e467d={'where':{'key':{'remoteJid':_0x1d7333}}};await this[_0x36f276(0x465)][_0x36f276(0x142)][_0x36f276(0x807)](_0x1e467d,this[_0x36f276(0x7ef)][_0x36f276(0x816)]);}this[_0x36f276(0x41f)](_0x36f276(0x390),[..._0x1e71b2]);}},this[_0xce678b(0x443)]={'contacts.upsert':async(_0x2dbbf9,_0x55220c)=>{const _0x6c5b48=_0xce678b;let _0x201ef9=await this[_0x6c5b48(0x465)][_0x6c5b48(0x831)][_0x6c5b48(0x757)]({'where':{}},this[_0x6c5b48(0x7ef)][_0x6c5b48(0x816)]),_0xd5ce1b=[];for await(let _0x3591b9 of _0x2dbbf9)_0x201ef9[_0x6c5b48(0x757)](_0x177d4d=>_0x177d4d[_0x6c5b48(0x21f)]===_0x3591b9['id'])||_0xd5ce1b[_0x6c5b48(0x871)]({'_id':_0x3591b9['id'],'pushName':_0x3591b9?.[_0x6c5b48(0x10b)]||_0x3591b9?.[_0x6c5b48(0x661)],'owner':this[_0x6c5b48(0x7ef)]['wuid']});this[_0x6c5b48(0x41f)](_0x6c5b48(0x34b),_0xd5ce1b),await this[_0x6c5b48(0x465)][_0x6c5b48(0x831)][_0x6c5b48(0x573)](_0xd5ce1b);},'contacts.update':async(_0x28e262,_0x1e2bc2)=>{const _0x9ae9f9=_0xce678b;let _0x468cb1=[];for await(let _0x2367fa of _0x28e262)_0x468cb1['push']({'_id':_0x2367fa['id'],'pushName':_0x2367fa?.[_0x9ae9f9(0x10b)]??_0x2367fa?.[_0x9ae9f9(0x661)],'owner':this[_0x9ae9f9(0x7ef)][_0x9ae9f9(0x816)]});this[_0x9ae9f9(0x41f)](_0x9ae9f9(0x6e3),_0x468cb1);}},this[_0xce678b(0x1f9)]={'messaging-history.set':async({messages:_0x369057,chats:_0x1b7e9d,isLatest:_0x20e459},_0x5e8161)=>{const _0xa8785a=_0xce678b;if(_0x20e459){let _0x3956b9=await Promise['all'](_0x1b7e9d[_0xa8785a(0x71e)](async _0x1ea7fc=>({'_id':_0x1ea7fc['id'],'owner':this[_0xa8785a(0x7ef)][_0xa8785a(0x816)],'group':_0x1ea7fc['id']['endsWith'](_0xa8785a(0x758)),'name':_0x1ea7fc['name']||_0x1ea7fc[_0xa8785a(0x2b7)]||_0x1ea7fc[_0xa8785a(0x17c)]||null,'contactname':null,'lastmsg':_0x1ea7fc[_0xa8785a(0x60a)]&&_0x1ea7fc[_0xa8785a(0x60a)][_0xa8785a(0x698)]()[_0xa8785a(0x6eb)]<0xd?_0x1ea7fc[_0xa8785a(0x60a)]*0x3e8:_0x1ea7fc[_0xa8785a(0x60a)]||null,'archived':_0x1ea7fc['archived']||!0x1,'unreadcount':_0x1ea7fc[_0xa8785a(0x6bc)]||0x0,'ephemeralExpiration':_0x1ea7fc[_0xa8785a(0x82e)]||0x0,'muteEndTime':_0x1ea7fc[_0xa8785a(0x243)]||0x0})));this[_0xa8785a(0x41f)]('chats.set',_0x3956b9),await this[_0xa8785a(0x238)](_0x3956b9,_0x5e8161);}let _0x102c11=[],_0x38bd1b=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x3a8262]of Object[_0xa8785a(0x60d)](_0x369057)){if(_0x3a8262[_0xa8785a(0x142)]?.[_0xa8785a(0x66b)]||_0x3a8262['message']?.[_0xa8785a(0x52b)]||!_0x3a8262[_0xa8785a(0x142)]||_0x3a8262[_0xa8785a(0x39c)][_0xa8785a(0x370)]===_0xa8785a(0x858)||(Ds[_0xa8785a(0x361)]['isLong'](_0x3a8262?.[_0xa8785a(0x3e1)])&&(_0x3a8262['messageTimestamp']=_0x3a8262['messageTimestamp']?.[_0xa8785a(0x84f)]()),_0x3a8262['messageTimestamp']&&_0x3a8262[_0xa8785a(0x3e1)][_0xa8785a(0x698)]()[_0xa8785a(0x6eb)]<0xd&&(_0x3a8262['messageTimestamp']=_0x3a8262[_0xa8785a(0x3e1)]*0x3e8),_0x3a8262[_0xa8785a(0x3e1)]<_0x38bd1b))continue;let _0x9cca37=(0x0,w[_0xa8785a(0x870)])(_0x3a8262['message']),_0x3b46b9=(0x0,w['getContentType'])(_0x9cca37),{message_normalized:_0xcfdf4f}=this['normalizeMessage'](_0x9cca37,_0x3b46b9,null);Object['keys'](_0xcfdf4f)[_0xa8785a(0x6eb)]>0x0&&_0x102c11[_0xa8785a(0x871)]({'_id':_0x3a8262[_0xa8785a(0x39c)]['id'],'key':_0x3a8262[_0xa8785a(0x39c)],'pushName':_0x3a8262[_0xa8785a(0x3b6)],'participant':_0x3a8262[_0xa8785a(0x3c8)],'message':_0x9cca37,'messageType':_0x3b46b9,'message_normalized':{'key':_0x3a8262[_0xa8785a(0x39c)],'pushName':_0x3a8262[_0xa8785a(0x3b6)],'messageTimestamp':_0x3a8262['messageTimestamp'],..._0xcfdf4f},'messageTimestamp':_0x3a8262[_0xa8785a(0x3e1)],'owner':this['instance'][_0xa8785a(0x816)]});}_0x5e8161['ENABLED']&&_0x102c11[_0xa8785a(0x6eb)]>0x0&&(this[_0xa8785a(0x2ee)][_0xa8785a(0x855)](this['instanceName']+'\x20('+this[_0xa8785a(0x7ef)][_0xa8785a(0x816)]+_0xa8785a(0x651)+_0x102c11[_0xa8785a(0x6eb)]+_0xa8785a(0x515)+this[_0xa8785a(0x7ef)][_0xa8785a(0x816)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this['repository']['message'][_0xa8785a(0x573)]([..._0x102c11],this['instance'][_0xa8785a(0x816)])),this[_0xa8785a(0x41f)]('messages.set',[..._0x102c11]),_0x369057=void 0x0;},'messages.upsert':async({messages:_0x1fb61f,type:_0x40538c},_0x53d324)=>{const _0x3b1535=_0xce678b;for(let _0x55ad55 of _0x1fb61f){if(this[_0x3b1535(0x576)]?.[_0x3b1535(0x28d)]&&_0x55ad55[_0x3b1535(0x39c)][_0x3b1535(0x370)][_0x3b1535(0x22b)]('@g.us')){this[_0x3b1535(0x2ee)][_0x3b1535(0x855)](this[_0x3b1535(0x3af)]+'\x20('+this['instance'][_0x3b1535(0x816)]+'):\x20[messages.upsert]\x20group\x20ignored');return;}if(_0x40538c!=='notify'||!_0x55ad55?.[_0x3b1535(0x142)]||_0x55ad55[_0x3b1535(0x142)]?.[_0x3b1535(0x66b)]||_0x55ad55[_0x3b1535(0x142)][_0x3b1535(0x52b)]||_0x55ad55['key'][_0x3b1535(0x370)]===_0x3b1535(0x858))return;let _0x594950=null,_0x4aba12=null;if(_0x55ad55[_0x3b1535(0x2f8)]&&_0x55ad55[_0x3b1535(0x2f8)][0x0]===_0x3b1535(0x496)){console['error'](_0x3b1535(0x138)),Ft[_0x55ad55[_0x3b1535(0x39c)]['id']]=_0x55ad55,this['retrySendMessage'](_0x55ad55,0x0);return;}Ft[_0x55ad55['key']['id']]&&(console['error'](_0x3b1535(0x734)),delete Ft[_0x55ad55[_0x3b1535(0x39c)]['id']]);try{_0x594950=await this[_0x3b1535(0x423)](_0x55ad55),_0x4aba12=_0x594950?_0x594950[_0x3b1535(0x1f8)](','):null;}catch(_0x274114){this['logger'][_0x3b1535(0x855)](this['instanceName']+'\x20('+this[_0x3b1535(0x7ef)][_0x3b1535(0x816)]+_0x3b1535(0x651)+(_0x274114 instanceof Error?_0x274114[_0x3b1535(0x142)]:JSON[_0x3b1535(0x3ef)](_0x274114,null,0x2))),_0x4aba12=_0x3b1535(0x6c0);}this[_0x3b1535(0x850)][_0x3b1535(0x803)]('unavailable'),Ds[_0x3b1535(0x361)][_0x3b1535(0x556)](_0x55ad55['messageTimestamp'])&&(_0x55ad55['messageTimestamp']=_0x55ad55[_0x3b1535(0x3e1)]?.[_0x3b1535(0x84f)]()),_0x55ad55[_0x3b1535(0x3e1)]&&_0x55ad55[_0x3b1535(0x3e1)]['toString']()['length']<0xd&&(_0x55ad55[_0x3b1535(0x3e1)]=_0x55ad55[_0x3b1535(0x3e1)]*0x3e8);let _0xcf603f=_0x55ad55[_0x3b1535(0x142)],_0x43794c=(0x0,w[_0x3b1535(0x870)])(_0xcf603f),_0x189dc4=(0x0,w['getContentType'])(_0x43794c),{messageContent:_0x2ce13a,message_normalized:_0x5a2d38}=this[_0x3b1535(0x208)](_0x43794c,_0x189dc4,_0x4aba12);_0x189dc4==='protocolMessage'&&_0x2ce13a?.['editedMessage']&&(_0x189dc4=_0x3b1535(0x467));let _0x19e7b1,_0x4c18fa=_0x55ad55['key'][_0x3b1535(0x370)][_0x3b1535(0x4e8)](_0x3b1535(0x758));if(_0x55ad55['key']['fromMe'])_0x19e7b1=this[_0x3b1535(0x7ef)][_0x3b1535(0x668)];else{let _0x4d1fd8=_0x4c18fa?_0x55ad55['key'][_0x3b1535(0x3c8)]:_0x55ad55[_0x3b1535(0x39c)][_0x3b1535(0x370)];_0x19e7b1=(await this[_0x3b1535(0x743)](_0x4d1fd8,_0x55ad55[_0x3b1535(0x3b6)],!0x1))[_0x3b1535(0x6d7)]['pictureUrl'];}let _0x15cf24={'_id':_0x55ad55['key']['id'],'key':_0x55ad55[_0x3b1535(0x39c)],'isGroup':_0x4c18fa,'profilePictureUrl':_0x19e7b1,'pushName':_0x55ad55[_0x3b1535(0x3b6)],'message':_0x43794c,'messageType':_0x189dc4,'message_normalized':{'key':_0x55ad55['key'],'pushName':_0x55ad55[_0x3b1535(0x3b6)],'messageTimestamp':_0x55ad55['messageTimestamp'],'source':(0x0,w[_0x3b1535(0x611)])(_0x55ad55[_0x3b1535(0x39c)]['id']),..._0x5a2d38},'messageTimestamp':_0x55ad55[_0x3b1535(0x3e1)],'owner':this[_0x3b1535(0x7ef)][_0x3b1535(0x816)],'source':(0x0,w['getDevice'])(_0x55ad55['key']['id']),'expiration':_0x2ce13a?.[_0x3b1535(0x3fc)]?.[_0x3b1535(0x584)]||0x0};_0x2ce13a||(this[_0x3b1535(0x2ee)][_0x3b1535(0x844)](_0x3b1535(0x49f)),this[_0x3b1535(0x2ee)][_0x3b1535(0x844)](_0x15cf24)),this[_0x3b1535(0x2ee)]['log'](this[_0x3b1535(0x3af)]+'\x20('+this[_0x3b1535(0x7ef)][_0x3b1535(0x816)]+_0x3b1535(0x651)+(_0x15cf24[_0x3b1535(0x39c)]?.[_0x3b1535(0x4b7)]?'enviado\x20para':_0x3b1535(0x77e))+'\x20['+_0x15cf24[_0x3b1535(0x39c)]?.['remoteJid'][_0x3b1535(0x6fe)](_0x3b1535(0x66e),'')+_0x3b1535(0x781)+_0x15cf24['messageType']+')'),_0x15cf24[_0x3b1535(0x598)]?.[_0x3b1535(0x76e)]&&this[_0x3b1535(0x2ee)]['log'](_0x55ad55[_0x3b1535(0x39c)]['id']+':\x20'+_0x15cf24[_0x3b1535(0x598)]?.['text']),await this[_0x3b1535(0x465)]['message'][_0x3b1535(0x573)]([_0x15cf24],this[_0x3b1535(0x7ef)][_0x3b1535(0x816)]),this['sendDataWebhook'](_0x3b1535(0x42c),_0x15cf24),J(this['instanceName'],_0x3b1535(0x2ea),{'message':_0x15cf24}),_0x55ad55[_0x3b1535(0x39c)]['remoteJid']!==_0x3b1535(0x858)&&await this['updateChatWithMessage'](_0x53d324,_0x15cf24,_0x3b1535(0x86c));}},'messages.update':async(_0x17c0ec,_0x2c02ad)=>{const _0x4de963=_0xce678b;let _0x274a21={0x0:_0x4de963(0x16d),0x1:_0x4de963(0x80b),0x2:'SERVER_ACK',0x3:_0x4de963(0x572),0x4:_0x4de963(0x257),0x5:'PLAYED'};for await(let {key:_0x5797c3,update:_0x190c17}of _0x17c0ec){if(this[_0x4de963(0x576)]?.['groups_ignore']&&_0x5797c3[_0x4de963(0x370)][_0x4de963(0x22b)](_0x4de963(0x758))){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x4de963(0x7ef)]['wuid']+_0x4de963(0x824));return;}if(_0x5797c3['remoteJid']!==_0x4de963(0x858)){let _0x577d9a=Date['now'](),_0x1ccaf0;_0x190c17['message']===null&&_0x190c17[_0x4de963(0x166)]===void 0x0?_0x1ccaf0=_0x4de963(0x1ec):_0x1ccaf0=_0x274a21[_0x190c17[_0x4de963(0x166)]];let _0x1cbb05=_0x5797c3[_0x4de963(0x370)][_0x4de963(0x6fe)](/:\d{1,2}@/g,'@'),_0x34be99={..._0x5797c3,'remoteJid':_0x1cbb05,'status':_0x1ccaf0,'datetime':_0x577d9a,'owner':this[_0x4de963(0x7ef)][_0x4de963(0x816)]};this['sendDataWebhook'](_0x4de963(0x5c3),_0x34be99),await this['updateMessage'](_0x5797c3,_0x34be99);}}},'labels.association':async({type:_0x1878b2,association:_0x48051a})=>{const _0x3a252f=_0xce678b;if(_0x48051a[_0x3a252f(0x1ef)]===_0x3a252f(0x75c)){let _0x2ee497,_0x140326=0x0;for(;!_0x2ee497&&_0x140326<this[_0x3a252f(0x48e)];)_0x2ee497=await this[_0x3a252f(0x465)][_0x3a252f(0x1aa)][_0x3a252f(0x74a)]({'where':{'_id':_0x48051a['chatId']}},this[_0x3a252f(0x7ef)][_0x3a252f(0x816)]),_0x2ee497||(_0x140326++,this[_0x3a252f(0x2ee)][_0x3a252f(0x707)](this[_0x3a252f(0x3af)]+'\x20('+this['instance'][_0x3a252f(0x816)]+'):\x20Chat\x20'+_0x48051a[_0x3a252f(0x5a1)]+_0x3a252f(0x4ae)+this[_0x3a252f(0x81a)]+_0x3a252f(0x54e)+_0x140326+'/'+this[_0x3a252f(0x48e)]+')'),await this['delayChatLabel'](this[_0x3a252f(0x81a)]));if(!_0x2ee497){this[_0x3a252f(0x2ee)][_0x3a252f(0x844)](_0x3a252f(0x5b1)+_0x48051a[_0x3a252f(0x5a1)]+'\x20depois\x20'+this[_0x3a252f(0x48e)]+_0x3a252f(0x1b7));return;}switch(_0x1878b2){case _0x3a252f(0x187):console[_0x3a252f(0x83e)](_0x48051a),await this[_0x3a252f(0x465)]['chat'][_0x3a252f(0x47d)]({'where':{'_id':_0x48051a[_0x3a252f(0x5a1)]}},{'leadInfo.etiquetas':_0x48051a[_0x3a252f(0x45e)]},this[_0x3a252f(0x7ef)]['wuid'],void 0x0,_0x3a252f(0x279));break;case _0x3a252f(0x17d):console[_0x3a252f(0x83e)](_0x48051a),await this[_0x3a252f(0x465)][_0x3a252f(0x1aa)][_0x3a252f(0x47d)]({'where':{'_id':_0x48051a['chatId']}},{'leadInfo.etiquetas':_0x48051a['labelId']},this[_0x3a252f(0x7ef)]['wuid'],void 0x0,_0x3a252f(0x3d2));break;default:this['logger']['error'](_0x3a252f(0x4e9)+_0x1878b2+']');}}},'labels.edit':async _0x17dbd3=>{const _0x2d86b2=_0xce678b;if(!_0x17dbd3||!_0x17dbd3['id']){this[_0x2d86b2(0x2ee)][_0x2d86b2(0x844)](_0x2d86b2(0x1c6));return;}if(!_0x17dbd3[_0x2d86b2(0x226)]){let _0x2f02ed=[_0x2d86b2(0x760),_0x2d86b2(0x19c),_0x2d86b2(0x586),_0x2d86b2(0x3ba),_0x2d86b2(0x31c),_0x2d86b2(0x347),'#fe9dfe','#d3a91f',_0x2d86b2(0x476),_0x2d86b2(0x41c),'#01d0e2',_0x2d86b2(0x67b),_0x2d86b2(0x264),_0x2d86b2(0x204),_0x2d86b2(0x7a3),_0x2d86b2(0x26f),_0x2d86b2(0x224),_0x2d86b2(0x3b1),_0x2d86b2(0x4c5),_0x2d86b2(0x82a)],_0x2922b4;typeof _0x17dbd3['color']==_0x2d86b2(0x429)&&_0x17dbd3[_0x2d86b2(0x4dd)]>=0x0&&_0x17dbd3[_0x2d86b2(0x4dd)]<_0x2f02ed[_0x2d86b2(0x6eb)]?_0x2922b4=_0x2f02ed[_0x17dbd3[_0x2d86b2(0x4dd)]]:(this[_0x2d86b2(0x2ee)][_0x2d86b2(0x844)](_0x2d86b2(0x3f5)+_0x17dbd3['color']),_0x2922b4=_0x2d86b2(0x163));let _0x37c2fe={'_id':_0x17dbd3['id'],'colorHex':_0x2922b4,'color':_0x17dbd3?.[_0x2d86b2(0x4dd)],'name':_0x17dbd3?.['name'],'owner':this['instance'][_0x2d86b2(0x816)]};await this[_0x2d86b2(0x465)]['label']['updateOne']({'where':{'_id':_0x17dbd3['id']}},_0x37c2fe,this[_0x2d86b2(0x7ef)][_0x2d86b2(0x816)]),this['logger']['info'](this[_0x2d86b2(0x3af)]+'\x20('+this[_0x2d86b2(0x7ef)]['wuid']+_0x2d86b2(0x2dd)+_0x17dbd3);}_0x17dbd3['deleted']&&(await this[_0x2d86b2(0x465)][_0x2d86b2(0x1f2)][_0x2d86b2(0x807)]({'where':{'_id':_0x17dbd3['id']}},this[_0x2d86b2(0x7ef)]['wuid']),this[_0x2d86b2(0x2ee)][_0x2d86b2(0x707)](_0x2d86b2(0x7f2)+_0x17dbd3['id']));}},this[_0xce678b(0x1c9)]={'groups.upsert':async _0x4a41d2=>{const _0x130320=_0xce678b;this[_0x130320(0x576)]?.[_0x130320(0x28d)]||this[_0x130320(0x41f)]('groups.upsert',_0x4a41d2);for(let _0xbad24b of _0x4a41d2)await this[_0x130320(0x212)](_0xbad24b);},'groups.update':async _0x1d90b2=>{const _0x303dc9=_0xce678b;this['localWebhook']?.[_0x303dc9(0x28d)]||this[_0x303dc9(0x41f)]('groups.update',_0x1d90b2);for(let _0x2fb0e7 of _0x1d90b2)await this[_0x303dc9(0x212)](_0x2fb0e7);},'group-participants.update':async _0x4ee9d1=>{const _0x1629a4=_0xce678b;this[_0x1629a4(0x576)]?.[_0x1629a4(0x28d)]||this['sendDataWebhook']('group-participants.update',_0x4ee9d1),await this[_0x1629a4(0x7bd)](_0x4ee9d1);}},this['delayChatLabel_MAX_RETRIES']=0x5,this[_0xce678b(0x81a)]=0x1388,this[_0xce678b(0x867)]=0x0,this['processPollUpdateMessage']=async _0x2f33fb=>{const _0x52ff99=_0xce678b;if(_0x2f33fb[_0x52ff99(0x142)]?.[_0x52ff99(0x82f)]){let _0x55efd9=await this[_0x52ff99(0x280)](_0x2f33fb[_0x52ff99(0x142)][_0x52ff99(0x82f)][_0x52ff99(0x703)],!0x0);if(_0x55efd9){let _0x1ada57=_0x55efd9[_0x52ff99(0x39c)][_0x52ff99(0x4b7)]?this[_0x52ff99(0x7ef)][_0x52ff99(0x816)]+_0x52ff99(0x66e):_0x55efd9['key']['participant']||_0x55efd9[_0x52ff99(0x39c)]['remoteJid'],_0x29a42a=_0x55efd9[_0x52ff99(0x39c)]['id'],_0x229f0b=_0x55efd9[_0x52ff99(0x142)],_0x364861=Buffer[_0x52ff99(0x113)](_0x229f0b[_0x52ff99(0x32c)][_0x52ff99(0x16f)][_0x52ff99(0x698)](_0x52ff99(0x140)),_0x52ff99(0x140)),_0x470426=(0x0,w[_0x52ff99(0x7dc)])(_0x2f33fb[_0x52ff99(0x142)][_0x52ff99(0x82f)][_0x52ff99(0x495)],{'pollCreatorJid':_0x1ada57,'pollMsgId':_0x29a42a,'pollEncKey':_0x364861,'voterJid':_0x2f33fb[_0x52ff99(0x39c)][_0x52ff99(0x4b7)]?this[_0x52ff99(0x7ef)][_0x52ff99(0x816)]+_0x52ff99(0x66e):_0x2f33fb['key']['remoteJid'][_0x52ff99(0x4e8)](_0x52ff99(0x7be))?_0x2f33fb['key'][_0x52ff99(0x3c8)]:_0x2f33fb[_0x52ff99(0x39c)][_0x52ff99(0x370)]}),_0xec635e=[],_0x422c70=_0x470426[_0x52ff99(0x4d6)][_0x52ff99(0x71e)](_0x574d3e=>Buffer[_0x52ff99(0x113)](_0x574d3e)[_0x52ff99(0x698)]('hex'));for(let {optionName:_0x5e1b1e}of _0x229f0b['pollCreationMessage']?.[_0x52ff99(0x693)]||_0x229f0b[_0x52ff99(0x7d2)]?.['options']||_0x229f0b[_0x52ff99(0x217)]?.[_0x52ff99(0x693)])_0x422c70[_0x52ff99(0x1b6)]((0x0,w['sha256'])(Buffer[_0x52ff99(0x113)](_0x5e1b1e))[_0x52ff99(0x698)](_0x52ff99(0x140)))>-0x1&&_0xec635e[_0x52ff99(0x871)](_0x5e1b1e);return _0xec635e;}}return null;},this[_0xce678b(0x208)]=(_0x226444,_0x368108,_0x45c6ab)=>{const _0x414835=_0xce678b;try{let _0x3ccb84=_0x226444?(0x0,w['extractMessageContent'])(_0x226444)[_0x368108]:void 0x0,_0x3028e9={},_0x56a867=null,_0x168816=null,_0x55231b=null;_0x368108==='protocolMessage'&&_0x3ccb84?.[_0x414835(0x467)]&&(_0x368108=(0x0,w[_0x414835(0x7ea)])(_0x3ccb84['editedMessage']),_0x56a867=_0x226444[_0x414835(0x66b)]['key']['id'],_0x3ccb84=_0x226444[_0x414835(0x66b)][_0x414835(0x467)][_0x368108]),_0x226444[_0x368108]?.[_0x414835(0x3fc)]?.['stanzaId']&&_0x226444[_0x368108]?.[_0x414835(0x3fc)]?.[_0x414835(0x21e)]&&(_0x168816=_0x226444[_0x368108][_0x414835(0x3fc)][_0x414835(0x5fe)]),_0x226444[_0x414835(0x6cc)]&&(_0x55231b=_0x226444[_0x414835(0x6cc)][_0x414835(0x39c)]['id']);let _0x108c77;if(_0x3ccb84&&typeof _0x3ccb84==_0x414835(0x733)&&_0x414835(0x703)in _0x3ccb84&&({pollCreationMessageKey:_0x108c77}=_0x3ccb84),_0x368108===_0x414835(0x401)||_0x368108==='pollCreationMessageV2'||_0x368108==='pollCreationMessageV3'){let _0x1d6d5e=_0x3ccb84['options'][_0x414835(0x71e)](_0x462c8b=>_0x462c8b[_0x414835(0x1fc)])['join']('|');_0x3028e9[_0x414835(0x3eb)]=_0x1d6d5e;}let _0x589c6f='';if(_0x3ccb84&&(_0x589c6f+=_0x3ccb84[_0x414835(0x10b)]?_0x3ccb84[_0x414835(0x10b)]:'',_0x589c6f+=_0x3ccb84[_0x414835(0x7ae)]?'\x20'+_0x3ccb84[_0x414835(0x7ae)]:'',_0x589c6f+=_0x3ccb84[_0x414835(0x681)]?'\x20'+_0x3ccb84[_0x414835(0x681)]:'',_0x589c6f+=_0x3ccb84['displayName']?'\x20'+_0x3ccb84[_0x414835(0x2b7)]:''),_0x368108==='listMessage'){_0x589c6f=(_0x3ccb84[_0x414835(0x5d3)]||'')+'\x0a'+(_0x3ccb84[_0x414835(0x3a7)]||'')+'\x0a'+(_0x3ccb84[_0x414835(0x72f)]||'');let _0x17879d=this[_0x414835(0x835)](_0x3ccb84[_0x414835(0x6a7)]);_0x3028e9[_0x414835(0x3eb)]=_0x17879d;}if(_0x368108===_0x414835(0x603)&&(_0x45c6ab=_0x3ccb84[_0x414835(0x5d3)]),_0x3ccb84&&_0x3ccb84[_0x414835(0x46c)]){let _0x1eb5f4=this[_0x414835(0x4ef)](JSON['stringify'](_0x3ccb84[_0x414835(0x46c)],null,0x2));_0x589c6f=_0x589c6f+'\x0a'+_0x1eb5f4;}if(_0x3ccb84){let {sections:_0x161351,listType:_0x574687,displayName:_0x403155,vcard:_0x141039,contactVcard:_0x7256c2,name:_0x236e3f,caption:_0xb12597,conversation:_0x27efb9,pollCreationMessageKey:_0x528027,footerText:_0x1c3a8d,contentText:_0x4ab48b,pageCount:_0x4bf020,headerType:_0x4d00be,isAvatar:_0x2bb289,isAnimated:_0x52839d,fallbackLc:_0x297c29,fallbackLg:_0x1a9df3,namespace:_0x4d342a,elementName:_0x13cccd,localizableParams:_0xccc823,viewOnce:_0x597ebf,height:_0x24dfb3,width:_0xd99855,key:_0x72f996,firstScanLength:_0x5a7e05,firstScanSidecar:_0x505621,gifPlayback:_0x1960e9,gifAttribution:_0x2fb7d6,midQualityFileSha256:_0x537142,scansSidecar:_0x4113b2,streamingSidecar:_0x2289be,thumbnailHeight:_0x27c541,thumbnailWidth:_0x44acb7,thumbnailEncSha256:_0x362917,thumbnailDirectPath:_0xd1fdf4,canonicalUrl:_0x6d52c6,matchedText:_0x411753,previewType:_0x3834af,thumbnailSha256:_0x35b44c,deviceListMetadataVersion:_0xa65738,inviteLinkGroupTypeV2:_0x13e90b,interactiveAnnotations:_0x221f5e,scanLengths:_0x3f6ed7,jpegThumbnail:_0xd80613,url:_0x57621d,mediaKeyTimestamp:_0x5b51a6,waveform:_0x43135c,stickerSentTs:_0x5a220e,firstFrameLength:_0x471fe1,fileEncSha256:_0x80f390,contextInfo:_0x473973,firstFrameSidecar:_0x3801a2,directPath:_0x5b99a0,fileSha256:_0x25a513,mediaKey:_0x1dd38b,senderTimestampMs:_0x462202,..._0x544795}=_0x3ccb84;(_0x368108===_0x414835(0x65a)||_0x368108==='listResponseMessage')&&(delete _0x544795['title'],delete _0x544795[_0x414835(0x3a7)]),typeof _0x3ccb84==_0x414835(0x2c1)?_0x3028e9={'text':_0x3ccb84,'type':_0x368108||_0x414835(0x681),..._0x56a867&&{'edited':_0x56a867},..._0x168816&&{'quoted':_0x168816},..._0x55231b&&{'reaction':_0x55231b}}:_0x3028e9={'text':_0x589c6f,..._0x544795,..._0x368108==='pollUpdateMessage'?{'poll_id':_0x3ccb84['pollCreationMessageKey']['id'],'quoted':_0x3ccb84[_0x414835(0x703)]['id'],'vote':_0x45c6ab}:{},..._0x368108===_0x414835(0x603)?{'vote':_0x45c6ab}:{},'type':_0x368108,..._0x56a867&&{'edited':_0x56a867},..._0x168816&&{'quoted':_0x168816},..._0x55231b&&{'reaction':_0x55231b},...(_0x368108==='pollCreationMessage'||_0x368108===_0x414835(0x217)||_0x368108===_0x414835(0x7d2)||_0x368108===_0x414835(0x65a))&&{'convertedOptions':_0x3028e9['convertedOptions']}};}return{'messageType':_0x368108,'messageContent':_0x3ccb84,'message_normalized':_0x3028e9};}catch(_0x58ff7e){return this[_0x414835(0x2ee)]['error']('Erro\x20ao\x20normalizar\x20a\x20mensagem:'+_0x58ff7e),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0xce678b(0x1d3)]=[],(this['cleanStore'](),this[_0xce678b(0x31e)](),this['instance'][_0xce678b(0x1c8)]={'count':0x0},this['instance'][_0xce678b(0x76b)]={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}set['instanceName'](_0x400ae1){const _0x11065d=a0_0x36fc91;if(!_0x400ae1){this['instance'][_0x11065d(0x10b)]=(0x0,Ai['v4'])();return;}this['instance'][_0x11065d(0x10b)]=_0x400ae1,this[_0x11065d(0x41f)](_0x11065d(0x3e3),{'instance':this[_0x11065d(0x7ef)][_0x11065d(0x10b)],'status':_0x11065d(0x1ba)});}get[a0_0x36fc91(0x3af)](){const _0x1d98ec=a0_0x36fc91;return this['instance'][_0x1d98ec(0x10b)];}get['wuid'](){const _0x1c5274=a0_0x36fc91;return this[_0x1c5274(0x7ef)][_0x1c5274(0x816)];}async[a0_0x36fc91(0x4f1)](){const _0x172dda=a0_0x36fc91;let _0x5066c6=this['client']['user']?.['name']??this['client'][_0x172dda(0x1f7)]?.[_0x172dda(0x661)];if(!_0x5066c6){if(this[_0x172dda(0x256)][_0x172dda(0x41a)](_0x172dda(0x26a))[_0x172dda(0x554)]){let _0x3e7edb=await R[_0x172dda(0x49d)]()['db'](this[_0x172dda(0x256)][_0x172dda(0x41a)]('DATABASE')['CONNECTION'][_0x172dda(0x50b)]+_0x172dda(0x524))['collection'](this[_0x172dda(0x3af)])['findOne']({'_id':_0x172dda(0x158)});if(_0x3e7edb){let _0x1e442d=JSON[_0x172dda(0x63f)](JSON[_0x172dda(0x3ef)](_0x3e7edb),w[_0x172dda(0x21a)][_0x172dda(0x4b1)]);_0x5066c6=_0x1e442d['me']?.[_0x172dda(0x10b)]||_0x1e442d['me']?.[_0x172dda(0x661)];}}else{if((0x0,Le['existsSync'])((0x0,U[_0x172dda(0x1f8)])(be,this['instanceName'],_0x172dda(0x5d4)))){let _0x52c481=JSON[_0x172dda(0x63f)]((0x0,Le['readFileSync'])((0x0,U['join'])(be,this[_0x172dda(0x3af)],_0x172dda(0x5d4)),{'encoding':_0x172dda(0x6ab)}));_0x5066c6=_0x52c481['me']?.['name']||_0x52c481['me']?.[_0x172dda(0x661)];}}}return _0x5066c6;}get[a0_0x36fc91(0x668)](){const _0x487bb5=a0_0x36fc91;return this[_0x487bb5(0x7ef)][_0x487bb5(0x668)];}get[a0_0x36fc91(0x357)](){const _0x377742=a0_0x36fc91;return this['instance']['qrcode']?.[_0x377742(0x255)]?{'pairingCode':this[_0x377742(0x7ef)][_0x377742(0x1c8)]?.['pairingCode']}:{'code':this[_0x377742(0x7ef)]['qrcode']?.[_0x377742(0x789)],'base64':this[_0x377742(0x7ef)][_0x377742(0x1c8)]?.[_0x377742(0x6b3)]};}async[a0_0x36fc91(0x30b)](){const _0x3d0ef3=a0_0x36fc91;let _0x3906c6=await this[_0x3d0ef3(0x465)][_0x3d0ef3(0x159)][_0x3d0ef3(0x757)](this['instanceName']);this[_0x3d0ef3(0x576)][_0x3d0ef3(0x79d)]=_0x3906c6?.[_0x3d0ef3(0x79d)],this['localWebhook'][_0x3d0ef3(0x2c4)]=_0x3906c6?.['enabled'],this[_0x3d0ef3(0x576)][_0x3d0ef3(0x6e6)]=_0x3906c6?.[_0x3d0ef3(0x6e6)],this[_0x3d0ef3(0x576)][_0x3d0ef3(0x682)]=_0x3906c6?.[_0x3d0ef3(0x682)],this[_0x3d0ef3(0x576)][_0x3d0ef3(0x2c6)]=_0x3906c6?.['QRCODE_UPDATED'],this[_0x3d0ef3(0x576)][_0x3d0ef3(0x2d0)]=_0x3906c6?.[_0x3d0ef3(0x2d0)],this[_0x3d0ef3(0x576)][_0x3d0ef3(0x86c)]=_0x3906c6?.[_0x3d0ef3(0x86c)],this[_0x3d0ef3(0x576)][_0x3d0ef3(0x62b)]=_0x3906c6?.[_0x3d0ef3(0x62b)],this[_0x3d0ef3(0x576)]['GROUPS_UPSERT']=_0x3906c6?.[_0x3d0ef3(0x853)],this['localWebhook']['GROUPS_UPDATE']=_0x3906c6?.[_0x3d0ef3(0x657)],this['localWebhook'][_0x3d0ef3(0x384)]=_0x3906c6?.['GROUP_PARTICIPANTS_UPDATE'],this[_0x3d0ef3(0x576)][_0x3d0ef3(0x39a)]=_0x3906c6?.[_0x3d0ef3(0x39a)],this[_0x3d0ef3(0x576)][_0x3d0ef3(0x150)]=_0x3906c6?.[_0x3d0ef3(0x150)],this['localWebhook'][_0x3d0ef3(0x5a7)]=_0x3906c6?.[_0x3d0ef3(0x5a7)],this[_0x3d0ef3(0x576)][_0x3d0ef3(0x639)]=_0x3906c6?.[_0x3d0ef3(0x639)],this['localWebhook'][_0x3d0ef3(0x22c)]=_0x3906c6?.[_0x3d0ef3(0x22c)],this[_0x3d0ef3(0x576)][_0x3d0ef3(0x356)]=_0x3906c6?.[_0x3d0ef3(0x356)],this[_0x3d0ef3(0x576)]['CONTACTS_UPDATE']=_0x3906c6?.[_0x3d0ef3(0x162)],this[_0x3d0ef3(0x576)][_0x3d0ef3(0x2b6)]=_0x3906c6?.['PRESENCE_UPDATE'],this['localWebhook'][_0x3d0ef3(0x61f)]=_0x3906c6?.['MESSAGES_SET'],this[_0x3d0ef3(0x576)]['CONNECTION_UPDATE']=_0x3906c6?.['CONNECTION_UPDATE'],this[_0x3d0ef3(0x576)][_0x3d0ef3(0x28d)]=_0x3906c6?.[_0x3d0ef3(0x28d)];}async['setWebhook'](_0x5a4b15){const _0x594e53=a0_0x36fc91;let _0x1764b3=[_0x594e53(0x21f),_0x594e53(0x79d),_0x594e53(0x2c4),_0x594e53(0x6e6),_0x594e53(0x682),_0x594e53(0x2c6),'MESSAGES_UPDATE','MESSAGES_UPSERT',_0x594e53(0x2d0),_0x594e53(0x853),'GROUPS_UPDATE',_0x594e53(0x384),'CHATS_SET',_0x594e53(0x150),_0x594e53(0x5a7),_0x594e53(0x639),_0x594e53(0x22c),_0x594e53(0x356),_0x594e53(0x162),_0x594e53(0x2b6),'MESSAGES_SET',_0x594e53(0x594),_0x594e53(0x28d)],_0x588084={};return _0x1764b3[_0x594e53(0x12c)](_0x2afcfd=>{_0x5a4b15[_0x2afcfd]!==void 0x0&&(_0x588084[_0x2afcfd]=_0x5a4b15[_0x2afcfd]);}),_0x588084[_0x594e53(0x79d)]&&(_0x588084[_0x594e53(0x79d)]=_0x588084[_0x594e53(0x79d)][_0x594e53(0x821)]()),await this[_0x594e53(0x465)][_0x594e53(0x159)][_0x594e53(0x6b4)](_0x588084,this['instanceName']),Object['assign'](this[_0x594e53(0x576)],_0x588084),await this[_0x594e53(0x465)][_0x594e53(0x159)][_0x594e53(0x757)](this[_0x594e53(0x3af)]);}async[a0_0x36fc91(0x55d)](){const _0x206ab3=a0_0x36fc91;return await this[_0x206ab3(0x465)][_0x206ab3(0x159)][_0x206ab3(0x757)](this['instanceName']);}async[a0_0x36fc91(0x41f)](_0x24c4b4,_0x53b4b6){const _0x1dbe5d=a0_0x36fc91;let _0x31661d=_0x24c4b4['replace'](/[\.-]/gm,'_')[_0x1dbe5d(0x15e)](),_0x5f09b6=this[_0x1dbe5d(0x576)][_0x1dbe5d(0x2c4)]&&(0x0,k[_0x1dbe5d(0x436)])(this[_0x1dbe5d(0x576)][_0x1dbe5d(0x79d)])?this[_0x1dbe5d(0x576)]['url']+(this[_0x1dbe5d(0x576)][_0x1dbe5d(0x6e6)]?this[_0x1dbe5d(0x569)][_0x24c4b4]:''):null,_0x508bac=this[_0x1dbe5d(0x576)][_0x31661d],_0xa9f342=pe&&pe[_0x1dbe5d(0x2c4)]&&(0x0,k[_0x1dbe5d(0x436)])(pe[_0x1dbe5d(0x79d)])?pe[_0x1dbe5d(0x79d)]+(pe[_0x1dbe5d(0x6e6)]?this[_0x1dbe5d(0x569)][_0x24c4b4]:''):null,_0x31f2cb=pe?pe[_0x31661d]:null;if(_0x508bac&&_0x5f09b6)try{await Y[_0x1dbe5d(0x361)][_0x1dbe5d(0x6b4)]({'baseURL':_0x5f09b6})[_0x1dbe5d(0x6a5)]('',{'event':_0x24c4b4,'instance':this['instance'][_0x1dbe5d(0x10b)],'apikey':this[_0x1dbe5d(0x7ef)][_0x1dbe5d(0x18d)],'data':_0x53b4b6}),this[_0x1dbe5d(0x2ee)][_0x1dbe5d(0x83e)](this[_0x1dbe5d(0x3af)]+'\x20('+this[_0x1dbe5d(0x7ef)][_0x1dbe5d(0x816)]+_0x1dbe5d(0x84d)+_0x24c4b4+':\x20'+_0x5f09b6);}catch{this[_0x1dbe5d(0x2ee)][_0x1dbe5d(0x844)](this[_0x1dbe5d(0x3af)]+'\x20('+this[_0x1dbe5d(0x7ef)][_0x1dbe5d(0x816)]+_0x1dbe5d(0x72a)+_0x24c4b4+':\x20'+_0x5f09b6);}if(_0x31f2cb&&_0xa9f342)try{await Y['default']['create']({'baseURL':_0xa9f342})[_0x1dbe5d(0x6a5)]('',{'event':_0x24c4b4,'instance':this[_0x1dbe5d(0x7ef)][_0x1dbe5d(0x10b)],'apikey':this[_0x1dbe5d(0x7ef)][_0x1dbe5d(0x18d)],'data':_0x53b4b6}),this['logger'][_0x1dbe5d(0x83e)](this[_0x1dbe5d(0x3af)]+'\x20('+this[_0x1dbe5d(0x7ef)]['wuid']+_0x1dbe5d(0x236)+_0x24c4b4+':\x20'+_0xa9f342);}catch{this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x1dbe5d(0x816)]+_0x1dbe5d(0x324)+_0x24c4b4+':\x20'+_0xa9f342);}}async[a0_0x36fc91(0x364)]({qr:_0x1f466f,connection:_0x645d38,lastDisconnect:_0x1a6d14}){const _0x51a991=a0_0x36fc91;if(_0x1f466f){if(this[_0x51a991(0x7ef)][_0x51a991(0x1c8)][_0x51a991(0x540)]===Do)return this[_0x51a991(0x41f)](_0x51a991(0x5ee),{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':w[_0x51a991(0x6c3)][_0x51a991(0x416)]}),this[_0x51a991(0x70e)]={'state':_0x51a991(0x766),'statusReason':w['DisconnectReason'][_0x51a991(0x1a9)]},this[_0x51a991(0x41f)](_0x51a991(0x37c),{'instance':this[_0x51a991(0x7ef)][_0x51a991(0x10b)],...this[_0x51a991(0x70e)]}),this['sendDataWebhook'](_0x51a991(0x3e3),{'instance':this['instance'][_0x51a991(0x10b)],'status':'removed'}),this[_0x51a991(0x465)]['auth'][_0x51a991(0x807)](this[_0x51a991(0x7ef)][_0x51a991(0x10b)]),this[_0x51a991(0x2e6)]=!0x0,ae[_0x51a991(0x2e3)](W,this[_0x51a991(0x7ef)][_0x51a991(0x10b)]),this['eventEmitter'][_0x51a991(0x704)]('no.connection',this[_0x51a991(0x7ef)][_0x51a991(0x10b)]);this['instance']['qrcode']['count']++;let _0x5cf8e4={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x51a991(0x7ee),'dark':_0x51a991(0x163)}};Ii[_0x51a991(0x361)][_0x51a991(0x537)](_0x1f466f,_0x5cf8e4,(_0x2df202,_0x4353a7)=>{const _0x237010=_0x51a991;if(_0x2df202){this[_0x237010(0x2ee)][_0x237010(0x844)](this[_0x237010(0x3af)]+'\x20('+this[_0x237010(0x7ef)][_0x237010(0x816)]+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x2df202 instanceof Error?_0x2df202[_0x237010(0x142)]:JSON[_0x237010(0x3ef)](_0x2df202,null,0x2)));return;}this[_0x237010(0x7ef)][_0x237010(0x1c8)][_0x237010(0x6b3)]=_0x4353a7,this[_0x237010(0x7ef)]['qrcode']['code']=_0x1f466f,!this[_0x237010(0x11a)]&&this[_0x237010(0x41f)](_0x237010(0x5ee),{'qrcode':{'instance':this[_0x237010(0x7ef)][_0x237010(0x10b)],'pairingCode':this[_0x237010(0x7ef)][_0x237010(0x1c8)]['pairingCode'],'code':_0x1f466f,'base64':_0x4353a7}});}),this['phoneNumber']?this[_0x51a991(0x7ef)][_0x51a991(0x1c8)][_0x51a991(0x255)]||(await(0x0,w[_0x51a991(0x6e4)])(0x7d0),this[_0x51a991(0x7ef)][_0x51a991(0x1c8)]['pairingCode']=await this[_0x51a991(0x850)][_0x51a991(0x2f4)](this['phoneNumber'])):this[_0x51a991(0x7ef)][_0x51a991(0x1c8)][_0x51a991(0x255)]=null,Ti[_0x51a991(0x361)][_0x51a991(0x24d)](_0x1f466f,{'small':!0x0},_0x41f75d=>this[_0x51a991(0x2ee)][_0x51a991(0x83e)]('\x0a{\x20instance:\x20'+this[_0x51a991(0x7ef)]['name']+_0x51a991(0x76f)+this['instance'][_0x51a991(0x1c8)][_0x51a991(0x540)]+_0x51a991(0x834)+this[_0x51a991(0x7ef)]['qrcode']['pairingCode']+'\x20}\x0a'+_0x41f75d));}if(_0x645d38&&(this[_0x51a991(0x70e)]={'state':_0x645d38,'statusReason':_0x1a6d14?.['error']?.[_0x51a991(0x5d7)]?.[_0x51a991(0x70b)]??0xc8},this[_0x51a991(0x41f)](_0x51a991(0x37c),{'instance':this[_0x51a991(0x7ef)][_0x51a991(0x10b)],...this[_0x51a991(0x70e)]})),_0x645d38===_0x51a991(0x13d)){if(this[_0x51a991(0x588)]++,this[_0x51a991(0x354)][_0x51a991(0x871)](Date[_0x51a991(0x630)]()),this['reconnectTimestamps']=this[_0x51a991(0x354)][_0x51a991(0x125)](_0x1bb6ad=>Date[_0x51a991(0x630)]()-_0x1bb6ad<this[_0x51a991(0x3da)]),_0x1a6d14[_0x51a991(0x844)]?.[_0x51a991(0x5d7)]?.[_0x51a991(0x70b)]!==w[_0x51a991(0x6c3)][_0x51a991(0x80e)]){let _0x1fd18b=this[_0x51a991(0x588)]<=0x1?0x0:Math[_0x51a991(0x27a)](Math[_0x51a991(0x65f)](0x2,this['reconnectAttempts']-0x1)*0x3e8,0x493e0);console[_0x51a991(0x83e)](this[_0x51a991(0x3af)]+_0x51a991(0x564)+this[_0x51a991(0x588)]+_0x51a991(0x7c0)+_0x1fd18b/0x3e8+_0x51a991(0x3e5)),await new Promise(_0x5cae38=>setTimeout(_0x5cae38,_0x1fd18b)),console[_0x51a991(0x83e)](_0x51a991(0x253)),await this[_0x51a991(0x4bc)]();}else{this[_0x51a991(0x41f)](_0x51a991(0x3e3),{'instance':this[_0x51a991(0x7ef)][_0x51a991(0x10b)],'status':'removed'}),this[_0x51a991(0x7ef)][_0x51a991(0x76b)]['isConnected']=!0x1,this[_0x51a991(0x465)][_0x51a991(0x159)][_0x51a991(0x807)](this['instanceName']),this[_0x51a991(0x465)][_0x51a991(0x48f)][_0x51a991(0x6b4)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x51a991(0x7ef)][_0x51a991(0x10b)]),ae['removeIPv6ById'](W,this['instance'][_0x51a991(0x10b)]);try{this[_0x51a991(0x2ee)][_0x51a991(0x855)](this[_0x51a991(0x3af)]+'\x20('+this[_0x51a991(0x7ef)][_0x51a991(0x816)]+_0x51a991(0x4ab));let _0x29c392=await this['repository'][_0x51a991(0x142)][_0x51a991(0x386)](this['instance']['wuid']);_0x29c392['success']?this['logger'][_0x51a991(0x855)](this[_0x51a991(0x3af)]+'\x20('+this['instance'][_0x51a991(0x816)]+_0x51a991(0x60b)):this[_0x51a991(0x2ee)][_0x51a991(0x844)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20'+_0x29c392['error']);}catch(_0x1c518a){this[_0x51a991(0x2ee)][_0x51a991(0x844)]('Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20'+_0x1c518a[_0x51a991(0x142)]);}this[_0x51a991(0x7ef)][_0x51a991(0x76b)][_0x51a991(0x1eb)]!==null&&(this['logger'][_0x51a991(0x855)](this[_0x51a991(0x3af)]+'\x20('+this[_0x51a991(0x7ef)]['wuid']+_0x51a991(0x782)),clearInterval(this[_0x51a991(0x7ef)][_0x51a991(0x76b)][_0x51a991(0x1eb)]),this['instance'][_0x51a991(0x76b)][_0x51a991(0x1eb)]=null),this[_0x51a991(0x2ee)]['verbose'](this[_0x51a991(0x3af)]+'\x20('+this['instance']['wuid']+_0x51a991(0x51c)),this[_0x51a991(0x669)]=null,this[_0x51a991(0x11d)][_0x51a991(0x704)](_0x51a991(0x875),this[_0x51a991(0x7ef)][_0x51a991(0x10b)],_0x51a991(0x3c1)),this[_0x51a991(0x850)]?.['ws']?.[_0x51a991(0x13d)](),this[_0x51a991(0x850)][_0x51a991(0x7a6)](new Error(_0x51a991(0x708)));}}if(_0x645d38===_0x51a991(0x4fc)){this[_0x51a991(0x2ee)][_0x51a991(0x310)](this['instanceName']+'\x20('+this[_0x51a991(0x7ef)][_0x51a991(0x816)]+_0x51a991(0x335)+this[_0x51a991(0x850)][_0x51a991(0x1e1)][_0x51a991(0x158)]?.[_0x51a991(0x52d)]),this['client'][_0x51a991(0x1e1)][_0x51a991(0x158)]?.['myAppStateKeyId']||(this[_0x51a991(0x2ee)][_0x51a991(0x310)](this[_0x51a991(0x3af)]+'\x20('+this[_0x51a991(0x7ef)][_0x51a991(0x816)]+_0x51a991(0x14d)),this['client']['ev']['flush']()),this['resetReconnectionVariables'],this[_0x51a991(0x7ef)][_0x51a991(0x816)]=this['client']['user']['id'][_0x51a991(0x6fe)](/:\d+/,'')[_0x51a991(0x6fe)](_0x51a991(0x66e),''),this['instance']['profilePictureUrl']=(await this[_0x51a991(0x725)](this['instance'][_0x51a991(0x816)]+_0x51a991(0x66e)))[_0x51a991(0x668)],this['repository']['auth']['create']({'online':!0x0,'owner':this[_0x51a991(0x7ef)][_0x51a991(0x816)],'lastDisconnect':null},this[_0x51a991(0x7ef)][_0x51a991(0x10b)]);let _0x1b3fac=_0x51a991(0x3f2)+this['instance']['wuid'],_0x52d316=0x28,_0x5519d0=Math[_0x51a991(0x3b9)]((_0x52d316-_0x1b3fac['length'])/0x2),_0xae9f4a='\x20'['repeat'](_0x5519d0),_0x29bf97=_0x51a991(0x640),_0x4e66df=_0x51a991(0x65d)+this[_0x51a991(0x7ef)]['name'],_0x412888=(''+_0xae9f4a+_0x1b3fac+_0xae9f4a)[_0x51a991(0x353)](_0x52d316,'\x20'),_0x59b800=(''+_0xae9f4a+_0x29bf97+_0xae9f4a)['padEnd'](_0x52d316,'\x20'),_0x5d4a60=(''+_0xae9f4a+_0x4e66df+_0xae9f4a)[_0x51a991(0x353)](_0x52d316,'\x20'),_0x4f12c7=Math[_0x51a991(0x742)](_0x412888[_0x51a991(0x6eb)],_0x59b800[_0x51a991(0x6eb)],_0x5d4a60['length']),_0x1fd2da=_0x412888[_0x51a991(0x353)](_0x4f12c7,'\x20'),_0x295451=_0x59b800[_0x51a991(0x353)](_0x4f12c7,'\x20'),_0x4ec7e1=_0x5d4a60[_0x51a991(0x353)](_0x4f12c7,'\x20');this[_0x51a991(0x2ee)]['info']((_0x51a991(0x4f5)+'─'[_0x51a991(0x417)](_0x4f12c7)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x295451+_0x51a991(0x502)+_0x4ec7e1+_0x51a991(0x502)+_0x1fd2da+_0x51a991(0x4f4)+'─'[_0x51a991(0x417)](_0x4f12c7)+'┘')['replace'](/^ +/gm,'\x20\x20')),this[_0x51a991(0x69b)](),this[_0x51a991(0x7ef)][_0x51a991(0x76b)]['isConnected']=!0x0;}}[a0_0x36fc91(0x6a1)](){const _0xe001a0=a0_0x36fc91;this[_0xe001a0(0x588)]=0x0,this[_0xe001a0(0x354)]=[];}async[a0_0x36fc91(0x280)](_0x251fdc,_0x5805c5=!0x1){const _0x224def=a0_0x36fc91;try{let _0x14ad6d=await this[_0x224def(0x465)][_0x224def(0x142)][_0x224def(0x757)]({'where':{'_id':_0x251fdc['id']}},this[_0x224def(0x7ef)][_0x224def(0x816)]);return _0x5805c5?_0x14ad6d[0x0]:_0x14ad6d[0x0]['message'];}catch{return{'conversation':''};}}[a0_0x36fc91(0x4db)](){const _0x39e936=a0_0x36fc91;let _0x3ff5e1=this['configService'][_0x39e936(0x41a)](_0x39e936(0x266)),_0x13f7f5=this[_0x39e936(0x256)][_0x39e936(0x41a)](_0x39e936(0x26a));_0x3ff5e1?.[_0x39e936(0x738)]&&!_0x13f7f5[_0x39e936(0x554)]&&setInterval(()=>{const _0x44b9e5=_0x39e936;try{for(let [_0x40b861,_0x138fa9]of Object[_0x44b9e5(0x60d)](_0x3ff5e1))_0x138fa9===!0x0&&(0x0,Fe[_0x44b9e5(0x662)])('rm\x20-rf\x20'+(0x0,U[_0x44b9e5(0x1f8)])(this[_0x44b9e5(0x254)],_0x40b861['toLowerCase'](),this[_0x44b9e5(0x7ef)]['wuid'])+_0x44b9e5(0x82b));}catch{}},(_0x3ff5e1?.[_0x39e936(0x738)]??0xe10)*0x3e8);}async[a0_0x36fc91(0x5f8)](){const _0x33223b=a0_0x36fc91;let _0x593e69=this[_0x33223b(0x256)][_0x33223b(0x41a)]('DATABASE'),_0x2ab7d3=this[_0x33223b(0x256)]['get'](_0x33223b(0x231));return _0x2ab7d3?.[_0x33223b(0x554)]?await Ts(_0x2ab7d3,this[_0x33223b(0x7ef)][_0x33223b(0x10b)]):_0x593e69['ENABLED']?await Is(this[_0x33223b(0x7ef)][_0x33223b(0x10b)]):await(0x0,w[_0x33223b(0x1e3)])((0x0,U[_0x33223b(0x1f8)])(be,this['instance'][_0x33223b(0x10b)]));}async[a0_0x36fc91(0x69b)](){const _0xd934e=a0_0x36fc91;let _0x1bc204=()=>Math[_0xd934e(0x3b9)](Math[_0xd934e(0x225)]()*0x4e21)+0x7d0,_0x339060=async()=>{const _0x38d6af=_0xd934e;if(!this[_0x38d6af(0x7ef)][_0x38d6af(0x76b)][_0x38d6af(0x497)]){this[_0x38d6af(0x2ee)][_0x38d6af(0x855)](this['instanceName']+'\x20('+this[_0x38d6af(0x7ef)][_0x38d6af(0x816)]+_0x38d6af(0x4c1)),this[_0x38d6af(0x541)]=!0x1;return;}if(this[_0x38d6af(0x7ef)][_0x38d6af(0x816)]&&this[_0x38d6af(0x669)]&&this['instance']['ScheduleMessage'][_0x38d6af(0x1eb)]!==null&&this[_0x38d6af(0x7ef)]['ScheduleMessage'][_0x38d6af(0x1eb)]!==void 0x0){let _0x547824=Math[_0x38d6af(0x477)](this['instance'][_0x38d6af(0x76b)][_0x38d6af(0x1eb)]/0xea60);this[_0x38d6af(0x2ee)][_0x38d6af(0x855)](this[_0x38d6af(0x3af)]+'\x20('+this[_0x38d6af(0x7ef)][_0x38d6af(0x816)]+_0x38d6af(0x261)+_0x547824+_0x38d6af(0x418)),this[_0x38d6af(0x541)]=!0x1;return;}else this[_0x38d6af(0x7ef)][_0x38d6af(0x816)]&&(this[_0x38d6af(0x2ee)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x38d6af(0x1e6)),this['AutomateSystem']||(await this[_0x38d6af(0x608)](),this[_0x38d6af(0x6c9)](),this[_0x38d6af(0x78d)]()),(this['instance'][_0x38d6af(0x76b)][_0x38d6af(0x1eb)]===null||this['instance'][_0x38d6af(0x76b)]['delayMessage']===void 0x0)&&await this[_0x38d6af(0x2f2)]());if(this[_0x38d6af(0x541)]){let _0x4affca=_0x1bc204();this[_0x38d6af(0x2ee)][_0x38d6af(0x855)](this[_0x38d6af(0x3af)]+_0x38d6af(0x7a1)+_0x4affca/0x3e8+_0x38d6af(0x452)),setTimeout(_0x339060,_0x4affca);}};if(this[_0xd934e(0x541)])return;this[_0xd934e(0x541)]=!0x0;let _0x1598dc=_0x1bc204();setTimeout(_0x339060,_0x1598dc);}async[a0_0x36fc91(0x78d)](){const _0x246ade=a0_0x36fc91;let _0x4a69f0=this['instance'][_0x246ade(0x816)];try{let _0x3ca784=await this[_0x246ade(0x465)]['flow'][_0x246ade(0x30c)]({'where':{'$or':[{'owner':_0x4a69f0},{'whoCanUse':{'$in':[_0x4a69f0]}},{'shareOwners':{'$in':[_0x4a69f0]}}]}}),_0x50e609=new Map(this['AutomateSystem'][_0x246ade(0x329)][_0x246ade(0x71e)](_0x4926dc=>[_0x4926dc[_0x246ade(0x21f)],_0x4926dc])),_0x3bbd82=_0x3ca784[_0x246ade(0x71e)](_0x2884f3=>{const _0x5bb514=_0x246ade;let _0x484058=_0x50e609['get'](_0x2884f3['_id']?.[_0x5bb514(0x698)]());return{'_id':_0x2884f3[_0x5bb514(0x21f)]?.['toString'](),'name':_0x484058?.[_0x5bb514(0x10b)]??_0x2884f3['name'],'default':_0x484058?.[_0x5bb514(0x361)]??_0x2884f3[_0x5bb514(0x361)]??!0x1,'startCommand':_0x484058?.[_0x5bb514(0x174)]??_0x2884f3[_0x5bb514(0x5d9)],'minutesToClose':_0x484058?.['minutesToClose']??_0x2884f3[_0x5bb514(0x688)]??0xa,'readMessages':_0x484058?.[_0x5bb514(0x24c)]??_0x2884f3[_0x5bb514(0x24c)]??!0x1,'testingWith':_0x484058?.[_0x5bb514(0x199)]??_0x2884f3[_0x5bb514(0x199)],'canEdit':_0x2884f3['owner']===_0x4a69f0||(_0x2884f3[_0x5bb514(0x211)]??[])[_0x5bb514(0x22b)](_0x4a69f0),'usersCount':(_0x2884f3['shareOwners']??[])['length']??0x0};}),_0xf2e28c=!0x1;_0x3bbd82['forEach'](_0x2ddea9=>{const _0x30c025=_0x246ade;_0x2ddea9[_0x30c025(0x361)]&&(_0xf2e28c?_0x2ddea9[_0x30c025(0x361)]=!0x1:_0xf2e28c=!0x0);}),this[_0x246ade(0x669)][_0x246ade(0x329)]=_0x3bbd82;let _0x3a14a2={'flows':_0x3bbd82};return await this[_0x246ade(0x465)]['automateSystem'][_0x246ade(0x3d8)](_0x3a14a2,_0x4a69f0),this[_0x246ade(0x2ee)]['verbose'](this[_0x246ade(0x3af)]+'\x20('+_0x4a69f0+_0x246ade(0x1a2)),_0x3bbd82[_0x246ade(0x6eb)];}catch(_0x50ca89){return this[_0x246ade(0x2ee)][_0x246ade(0x844)](this[_0x246ade(0x3af)]+'\x20('+_0x4a69f0+_0x246ade(0x787)+(_0x50ca89 instanceof Error?_0x50ca89[_0x246ade(0x142)]:JSON['stringify'](_0x50ca89,null,0x2))),{'message':_0x246ade(0x2b2)+(_0x50ca89 instanceof Error?_0x50ca89[_0x246ade(0x142)]:JSON[_0x246ade(0x3ef)](_0x50ca89,null,0x2))};}}async[a0_0x36fc91(0x4bc)](_0x301f68){const _0x4026db=a0_0x36fc91;try{let _0x517eaf=await this[_0x4026db(0x465)][_0x4026db(0x7ef)][_0x4026db(0x74a)]({'where':{'_id':W+'-'+this[_0x4026db(0x3af)]}}),_0x194686,_0x503027=!ae[_0x4026db(0x144)]||!ae[_0x4026db(0x6bd)];console['log'](_0x4026db(0x405)),console[_0x4026db(0x83e)]('proxy:\x20',Ri),console[_0x4026db(0x83e)]('this.reconnectAttempts:\x20',this[_0x4026db(0x588)]),console['log'](_0x4026db(0x405)),Ri&&!_0x503027&&(this[_0x4026db(0x588)]<0x4||!this['reconnectAttempts']?_0x517eaf&&_0x517eaf['ip']?(_0x194686=_0x517eaf['ip'],console[_0x4026db(0x83e)](_0x4026db(0x1c0)+_0x194686)):(_0x194686=await ae['createIPv6'](W,this['instance'][_0x4026db(0x10b)]),_0x194686?(console['log'](_0x4026db(0x5f9)+_0x194686),await(0x0,w[_0x4026db(0x6e4)])(0x7d0)):console[_0x4026db(0x844)](_0x4026db(0x4a2))):this[_0x4026db(0x588)]<0x6&&(await ae['removeIPv6ById'](W,this[_0x4026db(0x7ef)][_0x4026db(0x10b)]),console['log'](_0x4026db(0x620)),_0x194686=await ae[_0x4026db(0x80a)](W,this['instance']['name']),_0x194686?(console['log'](_0x4026db(0x5f9)+_0x194686),await(0x0,w[_0x4026db(0x6e4)])(0x7d0)):console['error']('Falha\x20ao\x20recriar\x20IPv6.'))),this[_0x4026db(0x30b)](),this['instance'][_0x4026db(0x18d)]=(await this[_0x4026db(0x465)][_0x4026db(0x48f)]['find'](this[_0x4026db(0x7ef)][_0x4026db(0x10b)]))[_0x4026db(0x18d)],this[_0x4026db(0x7ef)]['authState']=await this[_0x4026db(0x5f8)]();let {version:_0x6f0d62}=await(0x0,w[_0x4026db(0x6be)])(),_0x25582a=[_i,ks,(0x0,xs[_0x4026db(0x3d6)])()],_0x47eb37={'localAddress':_0x194686,'auth':{'creds':this[_0x4026db(0x7ef)][_0x4026db(0x1e1)][_0x4026db(0x33f)][_0x4026db(0x158)],'keys':(0x0,w['makeCacheableSignalKeyStore'])(this[_0x4026db(0x7ef)][_0x4026db(0x1e1)][_0x4026db(0x33f)][_0x4026db(0x448)],(0x0,Ut[_0x4026db(0x361)])({'level':_0x4026db(0x844)}))},'logger':(0x0,Ut['default'])({'level':_0x4026db(0x844)}),'printQRInTerminal':!0x1,'browser':_0x301f68?['Mac\x20OS',ks,(0x0,xs[_0x4026db(0x3d6)])()]:_0x25582a,'version':_0x6f0d62,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x48848a=>{const _0x44e7e6=_0x4026db;let _0x23ebfd=this[_0x44e7e6(0x576)]?.['groups_ignore']&&(0x0,w[_0x44e7e6(0x459)])(_0x48848a);return(0x0,w[_0x44e7e6(0x2f7)])(_0x48848a)||_0x23ebfd;},'msgRetryCounterCache':this[_0x4026db(0x705)],'getMessage':async _0x127f04=>await this['getMessage'](_0x127f04),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x4026db(0x130)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x2626ee){const _0x26d42d=_0x4026db;return _0x2626ee[_0x26d42d(0x412)]?.[_0x26d42d(0x142)]?.[_0x26d42d(0x65a)]?.[_0x26d42d(0x3b8)]===w[_0x26d42d(0x638)][_0x26d42d(0x84b)][_0x26d42d(0x2dc)]['ListType']['PRODUCT_LIST']&&(_0x2626ee=JSON[_0x26d42d(0x63f)](JSON[_0x26d42d(0x3ef)](_0x2626ee)),_0x2626ee['deviceSentMessage']['message'][_0x26d42d(0x65a)][_0x26d42d(0x3b8)]=w[_0x26d42d(0x638)][_0x26d42d(0x84b)]['ListMessage'][_0x26d42d(0x40e)][_0x26d42d(0x2ff)]),_0x2626ee[_0x26d42d(0x65a)]?.[_0x26d42d(0x3b8)]==w['proto'][_0x26d42d(0x84b)][_0x26d42d(0x2dc)]['ListType'][_0x26d42d(0x7e9)]&&(_0x2626ee=JSON['parse'](JSON['stringify'](_0x2626ee)),_0x2626ee[_0x26d42d(0x65a)]['listType']=w[_0x26d42d(0x638)][_0x26d42d(0x84b)][_0x26d42d(0x2dc)]['ListType']['SINGLE_SELECT']),_0x2626ee;}};return this[_0x4026db(0x2e6)]=!0x1,this['client']=(0x0,w['default'])(_0x47eb37),this['eventHandler'](),this[_0x4026db(0x11a)]=_0x301f68,this[_0x4026db(0x850)];}catch(_0x9c9115){let _0x270d59=_0x4026db(0x3be),_0x53366a=_0x9c9115 instanceof Error?_0x9c9115['message']:typeof _0x9c9115==_0x4026db(0x733)?JSON[_0x4026db(0x3ef)](_0x9c9115):_0x9c9115,_0x3505b1=_0x270d59+':\x20'+_0x53366a;throw this[_0x4026db(0x2ee)][_0x4026db(0x844)](this[_0x4026db(0x3af)]+'\x20('+this[_0x4026db(0x7ef)][_0x4026db(0x816)]+_0x4026db(0x651)+_0x3505b1),console[_0x4026db(0x844)](_0x4026db(0x801),_0x9c9115),_0x9c9115 instanceof Error&&console[_0x4026db(0x844)]('Stack\x20trace:',_0x9c9115[_0x4026db(0x233)]),new x(_0x3505b1);}}[a0_0x36fc91(0x68f)](){const _0x230cad=a0_0x36fc91;this[_0x230cad(0x850)]['ev'][_0x230cad(0x7db)](_0x4472e1=>{const _0x3d4ecb=_0x230cad;if(!this[_0x3d4ecb(0x2e6)]){let _0x6621a1=this[_0x3d4ecb(0x256)][_0x3d4ecb(0x41a)](_0x3d4ecb(0x26a));if(_0x4472e1[_0x3d4ecb(0x842)]){let _0x57c8af=_0x4472e1[_0x3d4ecb(0x842)];this[_0x3d4ecb(0x1f9)][_0x3d4ecb(0x842)](_0x57c8af);}if(_0x4472e1[_0x3d4ecb(0x4e4)]){let _0x14806e=_0x4472e1['labels.association'];this['messageHandle'][_0x3d4ecb(0x4e4)](_0x14806e);}if(_0x4472e1[_0x3d4ecb(0x37c)]&&this[_0x3d4ecb(0x364)](_0x4472e1[_0x3d4ecb(0x37c)]),_0x4472e1['creds.update']&&this[_0x3d4ecb(0x7ef)][_0x3d4ecb(0x1e1)][_0x3d4ecb(0x48b)](),_0x4472e1['messaging-history.set']){let _0x3b195f=_0x4472e1[_0x3d4ecb(0x21b)];this['messageHandle'][_0x3d4ecb(0x21b)](_0x3b195f,_0x6621a1);}if(_0x4472e1[_0x3d4ecb(0x42c)]){let _0x3de7ce=_0x4472e1['messages.upsert'];this[_0x3d4ecb(0x1f9)][_0x3d4ecb(0x42c)](_0x3de7ce,_0x6621a1);}if(_0x4472e1[_0x3d4ecb(0x5c3)]){let _0x75498b=_0x4472e1[_0x3d4ecb(0x5c3)];this['messageHandle'][_0x3d4ecb(0x5c3)](_0x75498b,_0x6621a1);}if(_0x4472e1[_0x3d4ecb(0x674)]){let _0xa5db89=_0x4472e1[_0x3d4ecb(0x674)];if(this['localWebhook']?.[_0x3d4ecb(0x28d)]&&_0xa5db89['id'][_0x3d4ecb(0x22b)](_0x3d4ecb(0x758)))return;this['sendDataWebhook']('presence.update',_0xa5db89);}if(_0x4472e1[_0x3d4ecb(0x360)]){let _0x37b48f=_0x4472e1[_0x3d4ecb(0x360)];this['groupHandler'][_0x3d4ecb(0x360)](_0x37b48f);}if(_0x4472e1[_0x3d4ecb(0x716)]){let _0x377e10=_0x4472e1[_0x3d4ecb(0x716)];this['groupHandler'][_0x3d4ecb(0x716)](_0x377e10);}if(_0x4472e1[_0x3d4ecb(0x74e)]){let _0x3a19c=_0x4472e1[_0x3d4ecb(0x74e)];this[_0x3d4ecb(0x1c9)][_0x3d4ecb(0x74e)](_0x3a19c);}if(_0x4472e1[_0x3d4ecb(0x121)]){let _0x498696=_0x4472e1[_0x3d4ecb(0x121)];this[_0x3d4ecb(0x626)][_0x3d4ecb(0x121)](_0x498696,_0x6621a1);}if(_0x4472e1[_0x3d4ecb(0x438)]){let _0xc6027e=_0x4472e1[_0x3d4ecb(0x438)];this[_0x3d4ecb(0x626)][_0x3d4ecb(0x438)](_0xc6027e,_0x6621a1);}if(_0x4472e1[_0x3d4ecb(0x390)]){let _0x1a0708=_0x4472e1[_0x3d4ecb(0x390)];this['chatHandle'][_0x3d4ecb(0x390)](_0x1a0708);}if(_0x4472e1[_0x3d4ecb(0x34b)]){let _0x242bc7=_0x4472e1[_0x3d4ecb(0x34b)];this[_0x3d4ecb(0x443)][_0x3d4ecb(0x34b)](_0x242bc7,_0x6621a1);}if(_0x4472e1[_0x3d4ecb(0x6e3)]){let _0x152fb0=_0x4472e1[_0x3d4ecb(0x6e3)];this[_0x3d4ecb(0x443)][_0x3d4ecb(0x6e3)](_0x152fb0,_0x6621a1);}}});}async['retrySendMessage'](_0x13b161,_0x24f482){const _0x57f497=a0_0x36fc91;if(_0x24f482>=0xa){console[_0x57f497(0x844)](this[_0x57f497(0x3af)]+'\x20('+this['instance'][_0x57f497(0x816)]+_0x57f497(0x50f)),delete Ft[_0x13b161[_0x57f497(0x39c)]['id']];return;}try{console[_0x57f497(0x844)](this[_0x57f497(0x3af)]+'\x20('+this[_0x57f497(0x7ef)][_0x57f497(0x816)]+'):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20'+(_0x24f482+0x1)),await this[_0x57f497(0x850)][_0x57f497(0x3ec)](JSON[_0x57f497(0x63f)](_0x13b161['messageStubParameters'][0x1],w[_0x57f497(0x21a)][_0x57f497(0x4b1)])),console[_0x57f497(0x844)](_0x57f497(0x17a));}catch(_0x12451c){console[_0x57f497(0x844)](this[_0x57f497(0x3af)]+'\x20('+this[_0x57f497(0x7ef)]['wuid']+_0x57f497(0x41d)+_0x12451c),setTimeout(()=>this[_0x57f497(0x245)](_0x13b161,_0x24f482+0x1),Math['pow'](0x2,_0x24f482)*0x3e8);}}[a0_0x36fc91(0x715)](_0x48a8af){return new Promise(_0x4eca36=>setTimeout(_0x4eca36,_0x48a8af));}[a0_0x36fc91(0x2a5)](_0x3e8860){const _0x471322=a0_0x36fc91;_0x3e8860=_0x3e8860[_0x471322(0x6fe)](/\D/g,'');let _0x1de545=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x471322(0x1c4)](_0x3e8860);if(_0x1de545&&_0x1de545[0x1]==='55'){let _0x447d9f=_0x1de545[0x2],_0x5e0799=_0x1de545[0x3],_0x3cec9f=_0x1de545[0x4];if(parseInt(_0x447d9f)>=0x1f&&_0x5e0799==='9')return _0x1de545[0x1]+_0x447d9f+_0x3cec9f;}return _0x3e8860;}['createJid'](_0x395971){const _0x535b54=a0_0x36fc91;return _0x395971['includes'](_0x535b54(0x758))||_0x395971[_0x535b54(0x22b)]('@s.whatsapp.net')||_0x395971['includes'](_0x535b54(0x562))?_0x395971:(_0x395971=_0x395971?.[_0x535b54(0x6fe)](/\s/g,'')[_0x535b54(0x6fe)](/\+/g,'')['replace'](/\(/g,'')[_0x535b54(0x6fe)](/\)/g,'')[_0x535b54(0x599)](/\:/)[0x0][_0x535b54(0x599)]('@')[0x0],_0x395971[_0x535b54(0x6eb)]>=0x12?(_0x395971=_0x395971[_0x535b54(0x6fe)](/[^\d-]/g,''),_0x395971+_0x535b54(0x758)):(_0x395971=_0x395971['replace'](/\D/g,''),_0x395971+_0x535b54(0x66e)));}async[a0_0x36fc91(0x205)](_0x51045e){const _0x577a9e=a0_0x36fc91;let _0x5f13fb=(await this[_0x577a9e(0x3d5)]({'numbers':[_0x51045e[_0x577a9e(0x429)]]}))[0x0];if(!_0x5f13fb['exists']&&!(0x0,w['isJidGroup'])(_0x5f13fb['jid'])&&!_0x5f13fb[_0x577a9e(0x4cd)]['includes']('@broadcast'))throw new m(_0x5f13fb);let _0x346f0c=_0x5f13fb[_0x577a9e(0x4cd)];try{return await this['client'][_0x577a9e(0x1e5)](_0x346f0c),await this[_0x577a9e(0x850)][_0x577a9e(0x803)](_0x51045e['presence'],_0x346f0c),{'status':0xc8,'presence':_0x51045e[_0x577a9e(0x2b4)]};}catch(_0x1c3067){let _0x3ab588=_0x577a9e(0x695),_0x37a56b=_0x1c3067 instanceof Error?_0x1c3067[_0x577a9e(0x142)]:typeof _0x1c3067=='object'?JSON[_0x577a9e(0x3ef)](_0x1c3067):_0x1c3067,_0x21b41a=_0x3ab588+':\x20'+_0x37a56b;throw this['logger']['error'](this[_0x577a9e(0x3af)]+'\x20('+this[_0x577a9e(0x7ef)][_0x577a9e(0x816)]+_0x577a9e(0x651)+_0x21b41a),new m(_0x21b41a);}}async[a0_0x36fc91(0x743)](_0x1590e6,_0x31733b,_0x2b2df8,_0x1dc6ed=!0x0){const _0x1e23e2=a0_0x36fc91;let _0x32403b=await this[_0x1e23e2(0x465)][_0x1e23e2(0x55a)]['findOne']({'where':{'_id':_0x1590e6}});if(!_0x32403b&&!_0x1dc6ed)return;let _0x244583={'lastUpdate':Date[_0x1e23e2(0x630)]()};if(_0x2b2df8||!_0x32403b?.[_0x1e23e2(0x14c)]||Date['now']()-_0x32403b['lastUpdate']>0x18*0x3c*0x3c*0x3e8)try{let _0x2daeef=(await this[_0x1e23e2(0x725)](_0x1590e6))['profilePictureUrl'];_0x244583[_0x1e23e2(0x5b5)]=_0x2daeef;}catch(_0x4bd35b){let _0x29e890='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact',_0x66bdf=_0x4bd35b instanceof Error?_0x4bd35b[_0x1e23e2(0x142)]:typeof _0x4bd35b==_0x1e23e2(0x733)?JSON[_0x1e23e2(0x3ef)](_0x4bd35b):_0x4bd35b,_0x5675a6=_0x29e890+':\x20'+_0x66bdf;throw this[_0x1e23e2(0x2ee)][_0x1e23e2(0x844)](this['instanceName']+'\x20('+this[_0x1e23e2(0x7ef)]['wuid']+_0x1e23e2(0x651)+_0x5675a6),new m(_0x5675a6);}return _0x31733b&&_0x32403b?.['name']!==_0x31733b&&(_0x244583['name']=_0x31733b),Object[_0x1e23e2(0x448)](_0x244583)[_0x1e23e2(0x6eb)]>0x1&&(_0x32403b?await this[_0x1e23e2(0x465)][_0x1e23e2(0x55a)]['update']({'where':{'_id':_0x1590e6}},_0x244583):await this[_0x1e23e2(0x465)][_0x1e23e2(0x55a)][_0x1e23e2(0x573)]([{'_id':_0x1590e6,..._0x244583}]),_0x32403b={..._0x32403b,..._0x244583}),{'cachedContact':_0x32403b};}async[a0_0x36fc91(0x725)](_0x4183a1){const _0xc893c3=a0_0x36fc91;let _0x49e9bd=this['createJid'](_0x4183a1);try{return{'wuid':_0x49e9bd,'profilePictureUrl':await this[_0xc893c3(0x850)][_0xc893c3(0x668)](_0x49e9bd,'image')};}catch{return{'wuid':_0x49e9bd,'profilePictureUrl':null};}}async[a0_0x36fc91(0x27e)](_0x1f687a,_0x2aa191,_0xc3218e){const _0x37d80e=a0_0x36fc91;let _0x2aa205;try{let _0x250e03=(await this['whatsappNumber']({'numbers':[_0x1f687a]}))?.[_0x37d80e(0x3ac)]();if(!_0x250e03[_0x37d80e(0x40f)]&&!(0x0,w[_0x37d80e(0x459)])(_0x250e03['jid'])&&!_0x250e03[_0x37d80e(0x4cd)][_0x37d80e(0x22b)](_0x37d80e(0x562)))throw new m(_0x250e03);_0x2aa205=_0x250e03['jid'];}catch(_0xdfbfad){_0x2aa205=_0x1f687a,this[_0x37d80e(0x2ee)]['warn'](this[_0x37d80e(0x3af)]+'\x20('+this[_0x37d80e(0x7ef)][_0x37d80e(0x816)]+'):\x20error:\x20'+_0xdfbfad['message']),this[_0x37d80e(0x2ee)][_0x37d80e(0x310)](this[_0x37d80e(0x3af)]+'\x20('+this[_0x37d80e(0x7ef)][_0x37d80e(0x816)]+_0x37d80e(0x7c8)+_0x2aa205);}try{if(_0x2aa205||(_0x2aa205=_0x1f687a,this[_0x37d80e(0x2ee)][_0x37d80e(0x310)](this[_0x37d80e(0x3af)]+'\x20('+this[_0x37d80e(0x7ef)][_0x37d80e(0x816)]+_0x37d80e(0x6b5)+_0x2aa205)),_0xc3218e||(_0xc3218e={}),_0xc3218e?.[_0x37d80e(0x6e4)]){await this[_0x37d80e(0x850)]['presenceSubscribe'](_0x2aa205),await this[_0x37d80e(0x850)][_0x37d80e(0x803)](_0xc3218e?.['presence']??'composing',_0x2aa205);let _0x4fa2fd=Math[_0x37d80e(0x27a)](_0xc3218e[_0x37d80e(0x6e4)],0x2710);await(0x0,w[_0x37d80e(0x6e4)])(_0x4fa2fd),await this[_0x37d80e(0x850)][_0x37d80e(0x803)](_0x37d80e(0x667),_0x2aa205);}let _0x151bfb=_0xc3218e?.[_0x37d80e(0x7e3)]!=!0x1?void 0x0:!0x1,_0x5402d1;if(_0xc3218e?.[_0x37d80e(0x838)]){let _0x1b9135=_0xc3218e?.[_0x37d80e(0x838)],_0x5252e8=_0x1b9135?.[_0x37d80e(0x142)]?_0x1b9135:await this['getMessage'](_0x1b9135['key'],!0x0);_0x5252e8&&(_0x5402d1=_0x5252e8);}let _0x180608=await this[_0x37d80e(0x465)][_0x37d80e(0x1aa)]['findOne']({'where':{'_id':_0x2aa205}},this['instance'][_0x37d80e(0x816)]),_0x4fbbb0,_0x4f30db=null;if((0x0,w['isJidGroup'])(_0x2aa205))try{if(_0x4f30db=_0x180608[_0x37d80e(0x5f3)],!_0x4f30db)throw new j(_0x37d80e(0x7b4));_0xc3218e?.['mentions']&&(_0xc3218e[_0x37d80e(0x64e)]?.[_0x37d80e(0x175)]?_0x4fbbb0=_0x4f30db[_0x37d80e(0x4cf)][_0x37d80e(0x71e)](_0x4a4e77=>_0x4a4e77['id']):_0xc3218e[_0x37d80e(0x64e)]?.['mentioned']?.[_0x37d80e(0x6eb)]&&(_0x4fbbb0=_0xc3218e[_0x37d80e(0x64e)][_0x37d80e(0x42e)][_0x37d80e(0x71e)](_0x509b26=>{const _0x5f53cb=_0x37d80e;let _0x35d385=this['createJid'](_0x509b26);return(0x0,w[_0x5f53cb(0x459)])(_0x35d385)?null:_0x35d385;})));}catch{throw new j(_0x37d80e(0x7b4));}let _0x3aa5e4=await((async()=>{const _0x40be79=_0x37d80e;let _0x2da8d7={'quoted':_0x5402d1,'ephemeralExpiration':_0x180608?.[_0x40be79(0x82e)]??0x0,'messageId':_0x40be79(0x3d4)+(0x0,Ne[_0x40be79(0x2c9)])(0x12)['toString'](_0x40be79(0x140))[_0x40be79(0x15e)]()};if(!_0x2aa191[_0x40be79(0x48a)]&&!_0x2aa191[_0x40be79(0x2fe)]&&!_0x2aa191['sticker']&&!_0x2aa191['conversation']&&_0x2aa205!=='status@broadcast'&&_0x2aa191[_0x40be79(0x6cc)])return await this['client'][_0x40be79(0x799)](_0x2aa205,{'react':{'text':_0x2aa191[_0x40be79(0x6cc)][_0x40be79(0x76e)],'key':_0x2aa191[_0x40be79(0x6cc)][_0x40be79(0x39c)]}},_0x2da8d7);if(_0x2aa191[_0x40be79(0x681)]){let _0x468ebb=_0x2aa191[_0x40be79(0x681)];return _0xc3218e?.[_0x40be79(0x818)]&&(_0x468ebb=await this[_0x40be79(0x86d)](_0x468ebb,_0x2aa205)),await this[_0x40be79(0x850)][_0x40be79(0x799)](_0x2aa205,{'text':_0x468ebb,'mentions':_0x4fbbb0,'linkPreview':_0x151bfb},_0x2da8d7);}return!_0x2aa191[_0x40be79(0x48a)]&&!_0x2aa191['poll']&&_0x2aa205!='status@broadcast'?await this[_0x40be79(0x850)][_0x40be79(0x799)](_0x2aa205,{'forward':{'key':{'remoteJid':this[_0x40be79(0x7ef)][_0x40be79(0x816)],'fromMe':!0x0},'message':_0x2aa191},'mentions':_0x4fbbb0},_0x2da8d7):_0x2aa205===_0x40be79(0x858)?await this['client'][_0x40be79(0x799)](_0x2aa205,_0x2aa191['status'][_0x40be79(0x276)],{'backgroundColor':_0x2aa191[_0x40be79(0x166)][_0x40be79(0x5fb)][_0x40be79(0x84c)],'font':_0x2aa191['status']['option'][_0x40be79(0x135)],'statusJidList':_0x2aa191[_0x40be79(0x166)]['option'][_0x40be79(0x53d)]}):await this['client'][_0x40be79(0x799)](_0x2aa205,_0x2aa191,_0x2da8d7);})()),_0x58831d=(0x0,w[_0x37d80e(0x870)])(_0x3aa5e4[_0x37d80e(0x142)]),_0x5b14ae=(0x0,w[_0x37d80e(0x7ea)])(_0x58831d),{message_normalized:_0x3c70ba}=this[_0x37d80e(0x208)](_0x58831d,_0x5b14ae,null),_0x4a989d={'_id':_0x3aa5e4[_0x37d80e(0x39c)]['id'],'key':_0x3aa5e4['key'],'pushName':_0x3aa5e4[_0x37d80e(0x3b6)],'isGroup':_0x3aa5e4[_0x37d80e(0x39c)][_0x37d80e(0x370)][_0x37d80e(0x4e8)]('@g.us'),'profilePictureUrl':this[_0x37d80e(0x7ef)][_0x37d80e(0x668)],'message':_0x58831d,'messageType':_0x5b14ae,'message_normalized':{'key':_0x3aa5e4[_0x37d80e(0x39c)],'pushName':_0x3aa5e4['pushName'],'messageTimestamp':_0x3aa5e4['messageTimestamp']&&_0x3aa5e4[_0x37d80e(0x3e1)][_0x37d80e(0x698)]()['length']<0xd?_0x3aa5e4[_0x37d80e(0x3e1)]*0x3e8:_0x3aa5e4[_0x37d80e(0x3e1)]||null,'source':(0x0,w['getDevice'])(_0x3aa5e4['key']['id']),..._0x3c70ba},'messageTimestamp':_0x3aa5e4[_0x37d80e(0x3e1)]&&_0x3aa5e4['messageTimestamp'][_0x37d80e(0x698)]()[_0x37d80e(0x6eb)]<0xd?_0x3aa5e4['messageTimestamp']*0x3e8:_0x3aa5e4['messageTimestamp']||null,'owner':this[_0x37d80e(0x7ef)]['wuid'],'source':(0x0,w[_0x37d80e(0x611)])(_0x3aa5e4[_0x37d80e(0x39c)]['id'])};return this['logger'][_0x37d80e(0x310)](this['instanceName']+'\x20('+this[_0x37d80e(0x7ef)][_0x37d80e(0x816)]+_0x37d80e(0x642)+_0x4a989d[_0x37d80e(0x39c)]?.['remoteJid']['replace'](_0x37d80e(0x66e),'')+_0x37d80e(0x781)+_0x4a989d[_0x37d80e(0x2e7)]+')'),_0x4a989d[_0x37d80e(0x598)]?.[_0x37d80e(0x76e)]&&this['logger']['warn'](_0x4a989d[_0x37d80e(0x598)]?.[_0x37d80e(0x76e)]),this['sendDataWebhook']('send.message',_0x4a989d),J(this[_0x37d80e(0x3af)],_0x37d80e(0x2ea),{'message':_0x4a989d}),this['updateChatWithMessage'](this['configService']['get'](_0x37d80e(0x26a)),_0x4a989d,_0x37d80e(0x2d0),_0x180608),await this[_0x37d80e(0x465)][_0x37d80e(0x142)][_0x37d80e(0x573)]([_0x4a989d],this[_0x37d80e(0x7ef)][_0x37d80e(0x816)]),_0x3aa5e4;}catch(_0x3958ce){let _0x2094f6=_0x37d80e(0x1af)+_0x2aa205,_0x53a10f=_0x3958ce instanceof Error?_0x3958ce[_0x37d80e(0x142)]:typeof _0x3958ce=='object'?JSON['stringify'](_0x3958ce):_0x3958ce,_0x3b0d01=_0x2094f6+':\x20'+_0x53a10f;throw this[_0x37d80e(0x2ee)][_0x37d80e(0x844)](this[_0x37d80e(0x3af)]+'\x20('+this[_0x37d80e(0x7ef)]['wuid']+_0x37d80e(0x651)+_0x3b0d01),new m(_0x3b0d01);}}get[a0_0x36fc91(0x4a8)](){const _0x993d58=a0_0x36fc91;return this[_0x993d58(0x70e)];}async[a0_0x36fc91(0x3bd)](_0x2281a8){const _0x281f6b=a0_0x36fc91;return await this[_0x281f6b(0x27e)](_0x2281a8[_0x281f6b(0x429)],{'conversation':_0x2281a8['textMessage'][_0x281f6b(0x76e)]},_0x2281a8?.[_0x281f6b(0x693)]);}async['formatStatusMessage'](_0x58b1fb){const _0x125959=a0_0x36fc91;if(!_0x58b1fb[_0x125959(0x1ef)])throw new m(_0x125959(0x4c3));if(!_0x58b1fb[_0x125959(0x276)])throw new m('Content\x20is\x20required');if(_0x58b1fb[_0x125959(0x7c1)]){let _0x228451=await this['repository'][_0x125959(0x831)]['find']({'where':{}},this[_0x125959(0x7ef)][_0x125959(0x816)]);if(!_0x228451[_0x125959(0x6eb)])throw new m('Contacts\x20not\x20found');_0x58b1fb['statusJidList']=_0x228451['filter'](_0x1be87a=>_0x1be87a[_0x125959(0x3b6)])[_0x125959(0x71e)](_0x571597=>_0x571597[_0x125959(0x21f)]);}if(!_0x58b1fb[_0x125959(0x53d)]?.[_0x125959(0x6eb)]&&!_0x58b1fb[_0x125959(0x7c1)])throw new m(_0x125959(0x820));if(_0x58b1fb['type']===_0x125959(0x76e)){if(!_0x58b1fb[_0x125959(0x84c)])throw new m('Background\x20color\x20is\x20required');if(!_0x58b1fb['font'])throw new m(_0x125959(0x28b));return{'content':{'text':_0x58b1fb[_0x125959(0x276)]},'option':{'backgroundColor':_0x58b1fb[_0x125959(0x84c)],'font':_0x58b1fb[_0x125959(0x135)],'statusJidList':_0x58b1fb[_0x125959(0x53d)]}};}if(_0x58b1fb[_0x125959(0x1ef)]==='image')return{'content':{'image':{'url':_0x58b1fb[_0x125959(0x276)]},'caption':_0x58b1fb[_0x125959(0x7ae)]},'option':{'statusJidList':_0x58b1fb[_0x125959(0x53d)]}};if(_0x58b1fb['type']===_0x125959(0x2a3))return{'content':{'video':{'url':_0x58b1fb[_0x125959(0x276)]},'caption':_0x58b1fb[_0x125959(0x7ae)]},'option':{'statusJidList':_0x58b1fb[_0x125959(0x53d)]}};if(_0x58b1fb['type']===_0x125959(0x48a)){this[_0x125959(0x2ee)][_0x125959(0x855)](this[_0x125959(0x3af)]+'\x20('+this[_0x125959(0x7ef)][_0x125959(0x816)]+_0x125959(0x5e7)),this['logger'][_0x125959(0x855)](this['instanceName']+'\x20('+this[_0x125959(0x7ef)]['wuid']+_0x125959(0x252));let _0xa5c050=await this[_0x125959(0x6fd)](_0x58b1fb[_0x125959(0x276)]);if(typeof _0xa5c050==_0x125959(0x2c1)){this['logger'][_0x125959(0x855)](this[_0x125959(0x3af)]+'\x20('+this[_0x125959(0x7ef)][_0x125959(0x816)]+_0x125959(0x182));let _0x42ed81=L[_0x125959(0x58e)](_0xa5c050)[_0x125959(0x698)]('base64');return{'content':{'audio':Buffer[_0x125959(0x113)](_0x42ed81,_0x125959(0x6b3)),'ptt':!0x0,'mimetype':_0x125959(0x54c)},'option':{'statusJidList':_0x58b1fb['statusJidList']}};}else throw new x(_0xa5c050);}throw new m(_0x125959(0x6ee));}async[a0_0x36fc91(0x64f)](_0x2c0dd2){const _0x25ff6f=a0_0x36fc91;return await this[_0x25ff6f(0x27e)](_0x25ff6f(0x858),{'status':await this[_0x25ff6f(0x675)](_0x2c0dd2['statusMessage'])});}async[a0_0x36fc91(0x239)](_0x1372f2){const _0xf34811=a0_0x36fc91;try{let _0x2f0e1b=await(0x0,w[_0xf34811(0x422)])({[_0x1372f2['mediatype']]:(0x0,k[_0xf34811(0x436)])(_0x1372f2[_0xf34811(0x1ac)])?{'url':_0x1372f2[_0xf34811(0x1ac)]}:Buffer[_0xf34811(0x113)](_0x1372f2['media'],_0xf34811(0x6b3))},{'upload':this[_0xf34811(0x850)][_0xf34811(0x7af)]}),_0x567fed=_0x1372f2[_0xf34811(0x160)]+_0xf34811(0x84b);if(_0x1372f2[_0xf34811(0x160)]===_0xf34811(0x679)&&!_0x1372f2[_0xf34811(0x3f6)]){let _0x2086a2=new RegExp(/.*\/(.+?)\./)[_0xf34811(0x1c4)](_0x1372f2['media']);_0x1372f2[_0xf34811(0x3f6)]=_0x2086a2?_0x2086a2[0x1]:null;}let _0x253469;return(0x0,k[_0xf34811(0x436)])(_0x1372f2[_0xf34811(0x1ac)])?_0x253469=(await Y[_0xf34811(0x361)][_0xf34811(0x41a)](_0x1372f2[_0xf34811(0x1ac)],{'responseType':_0xf34811(0x5ec)}))[_0xf34811(0x2f1)]['content-type']:_0x253469=(0x0,Oi[_0xf34811(0x1cb)])(_0x1372f2[_0xf34811(0x3f6)]),_0x2f0e1b[_0x567fed][_0xf34811(0x7ae)]=_0x1372f2?.['caption'],_0x2f0e1b[_0x567fed]['mimetype']=_0x253469,_0x2f0e1b[_0x567fed]['fileName']=_0x1372f2[_0xf34811(0x3f6)],_0x1372f2[_0xf34811(0x160)]==='video'&&(_0x2f0e1b[_0x567fed][_0xf34811(0x4fe)]=Uint8Array[_0xf34811(0x113)]((0x0,Le[_0xf34811(0x58e)])((0x0,U[_0xf34811(0x1f8)])(process[_0xf34811(0x2fd)](),_0xf34811(0x77c)))),_0x2f0e1b[_0x567fed][_0xf34811(0x196)]=!0x1),(0x0,w[_0xf34811(0x6a4)])('',{[_0x567fed]:{..._0x2f0e1b[_0x567fed]}},{'userJid':this[_0xf34811(0x7ef)][_0xf34811(0x816)]});}catch(_0x2ce038){let _0x42320d=_0xf34811(0x2a0),_0x2d0d55=_0x2ce038 instanceof Error?_0x2ce038[_0xf34811(0x142)]:typeof _0x2ce038==_0xf34811(0x733)?JSON[_0xf34811(0x3ef)](_0x2ce038):_0x2ce038,_0x5a0a15=_0x42320d+':\x20'+_0x2d0d55;throw this[_0xf34811(0x2ee)][_0xf34811(0x844)](this[_0xf34811(0x3af)]+'\x20('+this[_0xf34811(0x7ef)][_0xf34811(0x816)]+_0xf34811(0x651)+_0x5a0a15),new x(_0x5a0a15);}}async[a0_0x36fc91(0x1b2)](_0x2724f4){const _0x4d0aac=a0_0x36fc91;let _0x290567=await this['prepareMediaMessage'](_0x2724f4[_0x4d0aac(0x1b2)]);return await this[_0x4d0aac(0x27e)](_0x2724f4[_0x4d0aac(0x429)],{..._0x290567[_0x4d0aac(0x142)]},_0x2724f4?.['options']);}async[a0_0x36fc91(0x29a)](_0x5c63c7,_0x2bc701){const _0x5b34e1=a0_0x36fc91;try{this[_0x5b34e1(0x2ee)][_0x5b34e1(0x855)](this[_0x5b34e1(0x3af)]+'\x20('+this['instance'][_0x5b34e1(0x816)]+_0x5b34e1(0x424));let _0x3a9a00,_0x439c7d=_0x2bc701+'-'+new Date()[_0x5b34e1(0x372)]();this[_0x5b34e1(0x2ee)][_0x5b34e1(0x855)](this['instanceName']+'\x20('+this[_0x5b34e1(0x7ef)]['wuid']+_0x5b34e1(0x2cc)+_0x439c7d);let _0x257a63=''+(0x0,U[_0x5b34e1(0x1f8)])(this[_0x5b34e1(0x254)],_0x439c7d+_0x5b34e1(0x6cb));if(this[_0x5b34e1(0x2ee)][_0x5b34e1(0x855)](this[_0x5b34e1(0x3af)]+'\x20('+this[_0x5b34e1(0x7ef)][_0x5b34e1(0x816)]+_0x5b34e1(0x398)+_0x257a63),(0x0,k[_0x5b34e1(0x4d8)])(_0x5c63c7)){this['logger'][_0x5b34e1(0x855)](this['instanceName']+'\x20('+this[_0x5b34e1(0x7ef)]['wuid']+_0x5b34e1(0x632));let _0x27426a=_0x5c63c7['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x1b9372=Buffer[_0x5b34e1(0x113)](_0x27426a,_0x5b34e1(0x6b3));_0x3a9a00=''+(0x0,U[_0x5b34e1(0x1f8)])(this[_0x5b34e1(0x254)],_0x5b34e1(0x796)+_0x439c7d+'.png'),this[_0x5b34e1(0x2ee)]['verbose'](this[_0x5b34e1(0x3af)]+'\x20('+this[_0x5b34e1(0x7ef)][_0x5b34e1(0x816)]+'):Image\x20path:\x20'+_0x3a9a00),await(0x0,jt[_0x5b34e1(0x361)])(_0x1b9372)[_0x5b34e1(0x111)](_0x3a9a00),this[_0x5b34e1(0x2ee)][_0x5b34e1(0x855)](this['instanceName']+'\x20('+this[_0x5b34e1(0x7ef)][_0x5b34e1(0x816)]+_0x5b34e1(0x676));}else{this[_0x5b34e1(0x2ee)][_0x5b34e1(0x855)](this[_0x5b34e1(0x3af)]+'\x20('+this[_0x5b34e1(0x7ef)]['wuid']+_0x5b34e1(0x7aa));let _0x363de5=new Date()[_0x5b34e1(0x372)](),_0x15fefd=_0x5c63c7+'?timestamp='+_0x363de5;this['logger'][_0x5b34e1(0x855)](this['instanceName']+'\x20('+this[_0x5b34e1(0x7ef)]['wuid']+_0x5b34e1(0x5fa)+_0x15fefd);let _0x5b80ba=await Y[_0x5b34e1(0x361)][_0x5b34e1(0x41a)](_0x15fefd,{'responseType':'arraybuffer'});this[_0x5b34e1(0x2ee)][_0x5b34e1(0x855)](this[_0x5b34e1(0x3af)]+'\x20('+this[_0x5b34e1(0x7ef)][_0x5b34e1(0x816)]+_0x5b34e1(0x72c));let _0x11f443=Buffer[_0x5b34e1(0x113)](_0x5b80ba[_0x5b34e1(0x3ff)],_0x5b34e1(0x802));_0x3a9a00=''+(0x0,U[_0x5b34e1(0x1f8)])(this[_0x5b34e1(0x254)],_0x5b34e1(0x796)+_0x439c7d+'.png'),this['logger'][_0x5b34e1(0x855)](this[_0x5b34e1(0x3af)]+'\x20('+this['instance'][_0x5b34e1(0x816)]+_0x5b34e1(0x18e)+_0x3a9a00),await(0x0,jt[_0x5b34e1(0x361)])(_0x11f443)['toFile'](_0x3a9a00),this['logger'][_0x5b34e1(0x855)](this['instanceName']+'\x20('+this[_0x5b34e1(0x7ef)][_0x5b34e1(0x816)]+'):Image\x20created');}return await(0x0,jt[_0x5b34e1(0x361)])(_0x3a9a00)[_0x5b34e1(0x2df)]()['toFile'](_0x257a63),this[_0x5b34e1(0x2ee)][_0x5b34e1(0x855)](this[_0x5b34e1(0x3af)]+'\x20('+this[_0x5b34e1(0x7ef)]['wuid']+_0x5b34e1(0x52c)),L[_0x5b34e1(0x7fd)](_0x3a9a00),this[_0x5b34e1(0x2ee)]['verbose'](this[_0x5b34e1(0x3af)]+'\x20('+this['instance'][_0x5b34e1(0x816)]+'):Temp\x20image\x20deleted'),_0x257a63;}catch(_0x4ac55b){let _0x19cded=_0x5b34e1(0x53e),_0x54ffe9=_0x4ac55b instanceof Error?_0x4ac55b['message']:typeof _0x4ac55b==_0x5b34e1(0x733)?JSON[_0x5b34e1(0x3ef)](_0x4ac55b):_0x4ac55b,_0x401490=_0x19cded+':\x20'+_0x54ffe9;this[_0x5b34e1(0x2ee)][_0x5b34e1(0x844)](this['instanceName']+'\x20('+this[_0x5b34e1(0x7ef)][_0x5b34e1(0x816)]+_0x5b34e1(0x651)+_0x401490);}}async[a0_0x36fc91(0x508)](_0xf2ebfe){const _0x2e1cfa=a0_0x36fc91;let _0x44577c=await this[_0x2e1cfa(0x29a)](_0xf2ebfe[_0x2e1cfa(0x50e)][_0x2e1cfa(0x44a)],_0xf2ebfe[_0x2e1cfa(0x429)]),_0x985265=await this[_0x2e1cfa(0x27e)](_0xf2ebfe[_0x2e1cfa(0x429)],{'sticker':{'url':_0x44577c}},_0xf2ebfe?.[_0x2e1cfa(0x693)]);return L[_0x2e1cfa(0x7fd)](_0x44577c),this[_0x2e1cfa(0x2ee)][_0x2e1cfa(0x855)](this[_0x2e1cfa(0x3af)]+'\x20('+this['instance'][_0x2e1cfa(0x816)]+_0x2e1cfa(0x176)),_0x985265;}async[a0_0x36fc91(0x318)](_0x11eea3){const _0x291105=a0_0x36fc91;if(this[_0x291105(0x2ee)][_0x291105(0x855)](this[_0x291105(0x3af)]+'\x20('+this[_0x291105(0x7ef)]['wuid']+_0x291105(0x403)),!_0x11eea3[_0x291105(0x693)]?.[_0x291105(0x188)]&&_0x11eea3[_0x291105(0x693)]?.[_0x291105(0x188)]!==!0x1&&(_0x11eea3[_0x291105(0x693)]['encoding']=!0x0),_0x11eea3[_0x291105(0x693)]?.[_0x291105(0x188)]){let _0xe4493e=await this['convertaudio'](_0x11eea3[_0x291105(0x587)]['audio']);if(typeof _0xe4493e==_0x291105(0x2c1)){let _0x346468=L['readFileSync'](_0xe4493e)[_0x291105(0x698)](_0x291105(0x6b3));return this['sendMessageWithTyping'](_0x11eea3[_0x291105(0x429)],{'audio':Buffer[_0x291105(0x113)](_0x346468,'base64'),'ptt':!0x0,'mimetype':_0x291105(0x129)},{'presence':_0x291105(0x557),'delay':_0x11eea3?.['options']?.[_0x291105(0x6e4)]});}else throw new x(_0xe4493e);}return await this[_0x291105(0x27e)](_0x11eea3[_0x291105(0x429)],{'audio':(0x0,k[_0x291105(0x436)])(_0x11eea3[_0x291105(0x587)][_0x291105(0x48a)])?{'url':_0x11eea3['audioMessage'][_0x291105(0x48a)]}:Buffer[_0x291105(0x113)](_0x11eea3['audioMessage'][_0x291105(0x48a)],_0x291105(0x6b3)),'ptt':!0x0,'mimetype':_0x291105(0x129)},{'presence':_0x291105(0x557),'delay':_0x11eea3?.[_0x291105(0x693)]?.[_0x291105(0x6e4)]});}async[a0_0x36fc91(0x6fd)](_0x5aae4f){const _0xad7a30=a0_0x36fc91;this[_0xad7a30(0x2ee)][_0xad7a30(0x855)](this[_0xad7a30(0x3af)]+'\x20('+this[_0xad7a30(0x7ef)][_0xad7a30(0x816)]+'):Processing\x20audio');let _0x38d233=(0x0,k[_0xad7a30(0x436)])(_0x5aae4f)?(0x0,Ne[_0xad7a30(0x1a3)])(_0xad7a30(0x857))[_0xad7a30(0x3d8)](_0x5aae4f)['digest']('hex'):(0x0,Ne[_0xad7a30(0x1a3)])(_0xad7a30(0x857))[_0xad7a30(0x3d8)](_0x5aae4f)[_0xad7a30(0x3c7)]('hex'),_0x1fdace=''+(0x0,U[_0xad7a30(0x1f8)])(this['storePath'],_0x38d233+_0xad7a30(0x83d));if(L[_0xad7a30(0x6f6)](_0x1fdace))return this[_0xad7a30(0x2ee)][_0xad7a30(0x855)](this['instanceName']+'\x20('+this[_0xad7a30(0x7ef)][_0xad7a30(0x816)]+_0xad7a30(0x492)),_0x1fdace;let _0x25493f=''+(0x0,U[_0xad7a30(0x1f8)])(this['storePath'],_0xad7a30(0x796)+(0x0,X['v4'])()+'.mp3');if((0x0,k['isURL'])(_0x5aae4f)){let _0x22a4cc=new Date()['getTime'](),_0x274576=_0x5aae4f+_0xad7a30(0x1a6)+_0x22a4cc,_0x4f50a3=await Y[_0xad7a30(0x361)][_0xad7a30(0x41a)](_0x274576,{'responseType':'arraybuffer'});L['writeFileSync'](_0x25493f,_0x4f50a3[_0xad7a30(0x3ff)]);}else{let _0x14ecf6=Buffer[_0xad7a30(0x113)](_0x5aae4f,_0xad7a30(0x6b3));L[_0xad7a30(0x527)](_0x25493f,_0x14ecf6);}return new Promise((_0x3e6d93,_0x3e76e0)=>{const _0x14a186=_0xad7a30;(0x0,Fe[_0x14a186(0x1c4)])(_s[_0x14a186(0x361)][_0x14a186(0x860)]+'\x20-i\x20'+_0x25493f+'\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20'+_0x1fdace+_0x14a186(0x27c),_0x1e4006=>{const _0x4b6c37=_0x14a186;if(L['unlinkSync'](_0x25493f),_0x1e4006){this[_0x4b6c37(0x2ee)][_0x4b6c37(0x855)](this[_0x4b6c37(0x3af)]+'\x20('+this[_0x4b6c37(0x7ef)]['wuid']+'):Error\x20in\x20converting\x20audio'),_0x3e76e0(_0x1e4006);return;}this['logger'][_0x4b6c37(0x855)](this[_0x4b6c37(0x3af)]+'\x20('+this[_0x4b6c37(0x7ef)][_0x4b6c37(0x816)]+'):Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x3e6d93(_0x1fdace);});});}async[a0_0x36fc91(0x420)](_0x273746){const _0x17333a=a0_0x36fc91;this[_0x17333a(0x2ee)][_0x17333a(0x855)](this[_0x17333a(0x3af)]+'\x20('+this['instance']['wuid']+'):Processing\x20audio');let _0x495610=(0x0,Ne[_0x17333a(0x1a3)])(_0x17333a(0x857))['update'](_0x273746)[_0x17333a(0x3c7)](_0x17333a(0x140)),_0x2816e6=''+(0x0,U[_0x17333a(0x1f8)])(this[_0x17333a(0x254)],_0x495610+'.mp3');if(L[_0x17333a(0x6f6)](_0x2816e6))return this[_0x17333a(0x2ee)][_0x17333a(0x855)](this[_0x17333a(0x3af)]+'\x20('+this[_0x17333a(0x7ef)][_0x17333a(0x816)]+_0x17333a(0x492)),U['default'][_0x17333a(0x10f)](_0x2816e6);let _0x904d38=''+(0x0,U[_0x17333a(0x1f8)])(this['storePath'],'temp-'+_0x495610+_0x17333a(0x83d));if((0x0,k[_0x17333a(0x436)])(_0x273746)){let _0x59386d=new Date()['getTime'](),_0x30279e=_0x273746+'?timestamp='+_0x59386d,_0x435060=await Y[_0x17333a(0x361)][_0x17333a(0x41a)](_0x30279e,{'responseType':_0x17333a(0x5ec)});L[_0x17333a(0x527)](_0x904d38,_0x435060[_0x17333a(0x3ff)]);}else{let _0x60f825=Buffer[_0x17333a(0x113)](_0x273746,_0x17333a(0x6b3));L['writeFileSync'](_0x904d38,_0x60f825);}return new Promise((_0x532772,_0x8c23be)=>{const _0x2f5ca0=_0x17333a;(0x0,Fe[_0x2f5ca0(0x1c4)])(_s['default'][_0x2f5ca0(0x860)]+_0x2f5ca0(0x47e)+_0x904d38+_0x2f5ca0(0x3c4)+_0x2816e6+_0x2f5ca0(0x27c),_0x338d57=>{const _0x453884=_0x2f5ca0;if(L[_0x453884(0x7fd)](_0x904d38),_0x338d57){this['logger'][_0x453884(0x855)](this[_0x453884(0x3af)]+'\x20('+this['instance'][_0x453884(0x816)]+'):Error\x20in\x20converting\x20audio'),_0x8c23be(_0x338d57);return;}this[_0x453884(0x2ee)]['verbose'](this[_0x453884(0x3af)]+'\x20('+this['instance'][_0x453884(0x816)]+_0x453884(0x1c5)),_0x532772(U['default']['basename'](_0x2816e6));});});}async[a0_0x36fc91(0x7b5)](_0x5ef3eb){const _0x2bddfb=a0_0x36fc91;let _0x945210={},_0x15a306='TEXT';if(_0x5ef3eb['buttonMessage']?.['mediaMessage']){_0x15a306=_0x5ef3eb[_0x2bddfb(0x7b5)][_0x2bddfb(0x1b2)]?.['mediatype'][_0x2bddfb(0x15e)]()??_0x2bddfb(0x553),_0x945210['mediaKey']=_0x15a306['toLowerCase']()+_0x2bddfb(0x84b);let _0x213cbf=await this[_0x2bddfb(0x239)](_0x5ef3eb[_0x2bddfb(0x7b5)][_0x2bddfb(0x1b2)]);_0x945210[_0x2bddfb(0x142)]=_0x213cbf[_0x2bddfb(0x142)][_0x945210[_0x2bddfb(0x367)]],_0x945210[_0x2bddfb(0x265)]='*'+_0x5ef3eb[_0x2bddfb(0x7b5)][_0x2bddfb(0x5d3)]+_0x2bddfb(0x2d4)+_0x5ef3eb['buttonMessage']['description'];}let _0x3daf45={'text':_0x5ef3eb[_0x2bddfb(0x7b5)][_0x2bddfb(0x4f7)][_0x2bddfb(0x71e)](_0x5533b2=>_0x5533b2[_0x2bddfb(0x478)]),'ids':_0x5ef3eb['buttonMessage']['buttons'][_0x2bddfb(0x71e)](_0x45301e=>_0x45301e['buttonId'])};if(!(0x0,k[_0x2bddfb(0x336)])(_0x3daf45[_0x2bddfb(0x76e)])||!(0x0,k[_0x2bddfb(0x336)])(_0x3daf45['ids']))throw new m(_0x2bddfb(0x1cd),_0x2bddfb(0x28e));return await this[_0x2bddfb(0x27e)](_0x5ef3eb[_0x2bddfb(0x429)],{'buttonsMessage':{'text':_0x945210?.['mediaKey']?void 0x0:_0x5ef3eb['buttonMessage'][_0x2bddfb(0x5d3)],'contentText':_0x945210?.['contentText']??_0x5ef3eb['buttonMessage'][_0x2bddfb(0x3a7)],'footerText':_0x5ef3eb['buttonMessage']?.[_0x2bddfb(0x72f)],'buttons':_0x5ef3eb[_0x2bddfb(0x7b5)]['buttons'][_0x2bddfb(0x71e)](_0x5923cb=>({'buttonText':{'displayText':_0x5923cb[_0x2bddfb(0x478)]},'buttonId':_0x5923cb[_0x2bddfb(0x28c)],'type':0x1})),'headerType':w[_0x2bddfb(0x638)][_0x2bddfb(0x84b)]['ButtonsMessage'][_0x2bddfb(0x36a)][_0x15a306],[_0x945210?.[_0x2bddfb(0x367)]]:_0x945210?.[_0x2bddfb(0x142)]}},_0x5ef3eb?.['options']);}async[a0_0x36fc91(0x684)](_0x11aa3a){const _0x583784=a0_0x36fc91;return await this[_0x583784(0x27e)](_0x11aa3a[_0x583784(0x429)],{'locationMessage':{'degreesLatitude':_0x11aa3a['locationMessage'][_0x583784(0x449)],'degreesLongitude':_0x11aa3a[_0x583784(0x684)]['longitude'],'name':_0x11aa3a[_0x583784(0x684)]?.[_0x583784(0x10b)],'address':_0x11aa3a[_0x583784(0x684)]?.[_0x583784(0x457)]}},_0x11aa3a?.['options']);}async[a0_0x36fc91(0x84e)](_0x5477a1){const _0xc1a204=a0_0x36fc91;let _0x3142c0={},_0x4627e5=async _0x4c08ef=>{const _0x32cd18=a0_0x19ac;let _0x548913=_0x32cd18(0x1dc)+_0x4c08ef['fullName']+'\x0aFN:'+_0x4c08ef['fullName']+'\x0a';_0x4c08ef[_0x32cd18(0x374)]&&(_0x548913+='ORG:'+_0x4c08ef['organization']+';\x0a'),_0x4c08ef[_0x32cd18(0x47f)]&&(_0x548913+=_0x32cd18(0x839)+_0x4c08ef['email']+'\x0a'),_0x4c08ef[_0x32cd18(0x79d)]&&(_0x548913+=_0x32cd18(0x4ee)+_0x4c08ef['url']+'\x0a');let _0x59c300='',_0x13e1c2=0x1;if(_0x4c08ef[_0x32cd18(0x11a)]){let _0xc95040=_0x4c08ef[_0x32cd18(0x11a)]['split']('|');for(let _0x5a9873 of _0xc95040){let _0xd286e6=await this[_0x32cd18(0x3d5)]({'numbers':[_0x5a9873]}),_0x55af42=(_0xd286e6[_0x32cd18(0x6eb)]>0x0?_0xd286e6[0x0][_0x32cd18(0x4cd)]:this['createJid'](_0x5a9873))[_0x32cd18(0x6fe)]('@s.whatsapp.net','');_0x59c300+='item'+_0x13e1c2+_0x32cd18(0x3cb)+_0x55af42+':'+_0x5a9873+_0x32cd18(0x830)+_0x13e1c2+_0x32cd18(0x293),_0x13e1c2++;}}return _0x548913+=_0x59c300+'END:VCARD',_0x548913;};return _0x5477a1['contactMessage'][_0xc1a204(0x6eb)]===0x1?_0x3142c0['contactMessage']={'displayName':_0x5477a1[_0xc1a204(0x84e)][0x0][_0xc1a204(0x23e)],'vcard':await _0x4627e5(_0x5477a1[_0xc1a204(0x84e)][0x0])}:_0x3142c0[_0xc1a204(0x7e0)]={'displayName':_0x5477a1[_0xc1a204(0x84e)][_0xc1a204(0x6eb)]+_0xc1a204(0x139),'contacts':await Promise[_0xc1a204(0x42b)](_0x5477a1[_0xc1a204(0x84e)][_0xc1a204(0x71e)](async _0x5d7a49=>({'displayName':_0x5d7a49[_0xc1a204(0x23e)],'vcard':await _0x4627e5(_0x5d7a49)})))},await this[_0xc1a204(0x27e)](_0x5477a1['number'],{..._0x3142c0},_0x5477a1?.[_0xc1a204(0x693)]);}async[a0_0x36fc91(0x6cc)](_0xe355a){const _0x2859af=a0_0x36fc91;return await this[_0x2859af(0x27e)](_0xe355a[_0x2859af(0x6cc)][_0x2859af(0x39c)][_0x2859af(0x370)],{'reactionMessage':{'key':_0xe355a[_0x2859af(0x6cc)][_0x2859af(0x39c)],'text':_0xe355a[_0x2859af(0x6cc)][_0x2859af(0x1b9)]}});}async[a0_0x36fc91(0x3d5)](_0x2cae55){const _0x187986=a0_0x36fc91;let _0x142805=[];for await(let _0x145e0f of _0x2cae55['numbers']){let _0x16cccf=this[_0x187986(0x806)](_0x145e0f),_0x57bd34=!0x1;try{if((0x0,w[_0x187986(0x459)])(_0x16cccf)){let _0x694e0a=(await this[_0x187986(0x465)]['chat'][_0x187986(0x74a)]({'where':{'_id':_0x16cccf}},this[_0x187986(0x7ef)][_0x187986(0x816)]))[_0x187986(0x5f3)];_0x694e0a?(_0x57bd34=!0x0,_0x142805['push'](new le(_0x694e0a['id'],_0x57bd34,_0x694e0a?.[_0x187986(0x1ee)]))):(_0x694e0a=await this[_0x187986(0x3a6)]({'groupJid':_0x16cccf},_0x187986(0x3c1)),_0x142805[_0x187986(0x871)](new le(_0x694e0a['id'],!!_0x694e0a?.['id'],_0x694e0a?.['subject'])));}else{if(_0x16cccf['includes'](_0x187986(0x562)))_0x142805[_0x187986(0x871)](new le(_0x16cccf,!0x0));else{let _0x44e9e2=(await this[_0x187986(0x850)][_0x187986(0x18b)](_0x16cccf))[0x0];_0x142805['push'](new le(_0x44e9e2[_0x187986(0x4cd)],_0x44e9e2[_0x187986(0x40f)]));}}}catch{(0x0,w[_0x187986(0x459)])(_0x16cccf)||await this[_0x187986(0x6b1)](_0x16cccf),_0x142805[_0x187986(0x871)](new le(_0x145e0f,!0x1));}}return _0x142805;}async[a0_0x36fc91(0x6b1)](_0x3dc8dc){const _0x483474=a0_0x36fc91;try{await this['repository']['chat'][_0x483474(0x74a)]({'where':{'_id':_0x3dc8dc,'imported':!0x0}},this['instance'][_0x483474(0x816)])&&(await this[_0x483474(0x465)]['chat'][_0x483474(0x4f2)](_0x3dc8dc,this['instance'][_0x483474(0x816)]),this[_0x483474(0x2ee)][_0x483474(0x707)]('Chat\x20com\x20ID\x20'+_0x3dc8dc+_0x483474(0x6a0)));}catch(_0x32a3be){let _0x554739=_0x483474(0x122),_0x29d8fd=_0x32a3be instanceof Error?_0x32a3be['message']:typeof _0x32a3be==_0x483474(0x733)?JSON['stringify'](_0x32a3be):_0x32a3be,_0x344a7e=_0x554739+':\x20'+_0x29d8fd;this[_0x483474(0x2ee)][_0x483474(0x844)](this[_0x483474(0x3af)]+'\x20('+this[_0x483474(0x7ef)][_0x483474(0x816)]+_0x483474(0x651)+_0x344a7e);}}async[a0_0x36fc91(0x6b0)](_0x5aaa4f){const _0x531927=a0_0x36fc91;try{let _0x16fc53=_0x5aaa4f['readMessages'][_0x531927(0x125)](_0x24f877=>(0x0,w[_0x531927(0x459)])(_0x24f877['remoteJid'])||(0x0,w['isJidUser'])(_0x24f877[_0x531927(0x370)]))[_0x531927(0x71e)](_0x2c3531=>({'remoteJid':_0x2c3531[_0x531927(0x370)],'fromMe':_0x2c3531[_0x531927(0x4b7)],'id':_0x2c3531['id']}));await this[_0x531927(0x850)][_0x531927(0x24c)](_0x16fc53);let _0x5ad2a8=_0x16fc53[_0x531927(0x71e)](_0x5029f4=>this[_0x531927(0x7a9)](_0x5029f4,{'status':_0x531927(0x257),'owner':this[_0x531927(0x7ef)][_0x531927(0x816)]})),_0x455750=_0x16fc53['map'](_0x449b6c=>this[_0x531927(0x465)][_0x531927(0x1aa)][_0x531927(0x47d)]({'where':{'_id':_0x449b6c[_0x531927(0x370)]}},{'unreadcount':0x0},this[_0x531927(0x7ef)][_0x531927(0x816)])),[_0x177d51,_0x2b9cb8]=await Promise[_0x531927(0x42b)]([Promise[_0x531927(0x42b)](_0x5ad2a8),Promise[_0x531927(0x42b)](_0x455750)]);return _0x2b9cb8[_0x531927(0x125)](_0x11f2dd=>_0x11f2dd!==null)[_0x531927(0x12c)](_0x2fce22=>{const _0x7db4dd=_0x531927;J(this[_0x7db4dd(0x3af)],_0x7db4dd(0x4a4),{'chat':_0x2fce22});}),{'message':_0x531927(0x74f),'read':_0x531927(0x195)};}catch(_0x1222b6){let _0xe395f8=_0x531927(0x3ea),_0x4533ff=_0x1222b6 instanceof Error?_0x1222b6[_0x531927(0x142)]:typeof _0x1222b6=='object'?JSON['stringify'](_0x1222b6):_0x1222b6,_0x4f874d=_0xe395f8+':\x20'+_0x4533ff;throw this[_0x531927(0x2ee)][_0x531927(0x844)](this[_0x531927(0x3af)]+'\x20('+this[_0x531927(0x7ef)]['wuid']+_0x531927(0x651)+_0x4f874d),new x(_0x4f874d);}}async[a0_0x36fc91(0x37e)](_0x2da7af){const _0x53c19e=a0_0x36fc91;let _0x1e6d1e={'where':{'key':{'remoteJid':_0x2da7af}},'limit':0x1},_0x374ddc=await this['fetchMessages'](_0x1e6d1e);return _0x374ddc||(this[_0x53c19e(0x2ee)][_0x53c19e(0x844)](_0x53c19e(0x39f)+_0x2da7af),null);}async[a0_0x36fc91(0x1ce)](_0x200775){const _0xc9902f=a0_0x36fc91;this[_0xc9902f(0x2ee)]['verbose'](this[_0xc9902f(0x3af)]+'\x20('+this[_0xc9902f(0x7ef)]['wuid']+'):Archiving\x20chat');try{let _0x3e146b=_0x200775['lastMessage'],_0x3e9122=_0x200775[_0xc9902f(0x1aa)];if(!_0x3e146b&&_0x3e9122?_0x3e146b=await this['getLastMessage'](_0x3e9122):(_0x3e146b=_0x200775[_0xc9902f(0x610)],_0x3e146b['messageTimestamp']=_0x3e146b?.[_0xc9902f(0x3e1)]??Date[_0xc9902f(0x630)](),_0x3e9122=_0x3e146b?.[_0xc9902f(0x39c)]?.[_0xc9902f(0x370)]),!_0x3e146b||Object[_0xc9902f(0x448)](_0x3e146b)[_0xc9902f(0x6eb)]===0x0)throw new j(_0xc9902f(0x641));this['logger'][_0xc9902f(0x855)](this[_0xc9902f(0x3af)]+'\x20('+this[_0xc9902f(0x7ef)][_0xc9902f(0x816)]+_0xc9902f(0x856)+_0x3e9122);try{await this['client'][_0xc9902f(0x7c3)]({'archive':_0x200775[_0xc9902f(0x1ea)],'lastMessages':[_0x3e146b]},this['createJid'](_0x3e9122));}catch(_0x4c2c07){let _0x278040=_0xc9902f(0x7f6)+_0x3e9122,_0x44c0d1=_0x4c2c07 instanceof Error?_0x4c2c07['message']:typeof _0x4c2c07==_0xc9902f(0x733)?JSON[_0xc9902f(0x3ef)](_0x4c2c07):_0x4c2c07,_0x4da607=_0x278040+':\x20'+_0x44c0d1;this[_0xc9902f(0x2ee)][_0xc9902f(0x844)](this[_0xc9902f(0x3af)]+'\x20('+this[_0xc9902f(0x7ef)][_0xc9902f(0x816)]+_0xc9902f(0x651)+_0x4da607);}this[_0xc9902f(0x2ee)][_0xc9902f(0x855)](this[_0xc9902f(0x3af)]+'\x20('+this[_0xc9902f(0x7ef)][_0xc9902f(0x816)]+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x3e9122);let _0x521b03=await this[_0xc9902f(0x465)][_0xc9902f(0x1aa)][_0xc9902f(0x47d)]({'where':{'_id':_0x3e146b?.['key']?.['remoteJid']}},{'archived':_0x200775['archive']},this[_0xc9902f(0x7ef)][_0xc9902f(0x816)]);return _0x521b03?(this['logger'][_0xc9902f(0x855)](this[_0xc9902f(0x3af)]+'\x20('+this[_0xc9902f(0x7ef)][_0xc9902f(0x816)]+_0xc9902f(0x1ca)+JSON[_0xc9902f(0x3ef)](_0x521b03)),J(this[_0xc9902f(0x3af)],_0xc9902f(0x4a4),{'chat':_0x521b03})):this[_0xc9902f(0x2ee)][_0xc9902f(0x844)](this['instanceName']+'\x20('+this[_0xc9902f(0x7ef)][_0xc9902f(0x816)]+_0xc9902f(0x6d4)+_0x3e9122),{'chatId':_0x3e9122,'archived':_0x200775[_0xc9902f(0x1ea)]};}catch(_0x19e79e){let _0x156956=_0xc9902f(0x319),_0x5af023=_0x19e79e instanceof Error?_0x19e79e[_0xc9902f(0x142)]:typeof _0x19e79e==_0xc9902f(0x733)?JSON[_0xc9902f(0x3ef)](_0x19e79e):_0x19e79e,_0x218b28=_0x156956+':\x20'+_0x5af023;throw this[_0xc9902f(0x2ee)][_0xc9902f(0x844)](this[_0xc9902f(0x3af)]+'\x20('+this[_0xc9902f(0x7ef)]['wuid']+_0xc9902f(0x651)+_0x218b28),new x(_0x218b28);}}async[a0_0x36fc91(0x4f2)](_0x26ae76){const _0x5453ed=a0_0x36fc91;this[_0x5453ed(0x2ee)][_0x5453ed(0x855)](this[_0x5453ed(0x3af)]+'\x20('+this['instance']['wuid']+_0x5453ed(0x2a4));try{let _0x465948=await this[_0x5453ed(0x37e)](_0x26ae76);if(!_0x465948||Object[_0x5453ed(0x448)](_0x465948)[_0x5453ed(0x6eb)]===0x0)throw new j(_0x5453ed(0x641));let _0x26e8f4=_0x465948[0x0];this[_0x5453ed(0x2ee)][_0x5453ed(0x855)](this[_0x5453ed(0x3af)]+'\x20('+this['instance']['wuid']+_0x5453ed(0x71b)+_0x26ae76);try{await this['client'][_0x5453ed(0x7c3)]({'delete':!0x0,'lastMessages':[{'key':_0x26e8f4['key'],'messageTimestamp':_0x26e8f4['messageTimestamp']}]},this[_0x5453ed(0x806)](_0x26ae76));}catch(_0x4b3558){this[_0x5453ed(0x2ee)]['error'](_0x5453ed(0x7f6)+_0x26ae76+':\x20'+_0x4b3558['toString']());}this['logger'][_0x5453ed(0x855)](this[_0x5453ed(0x3af)]+'\x20('+this[_0x5453ed(0x7ef)][_0x5453ed(0x816)]+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x26ae76);return;}catch(_0x4c3a30){throw this[_0x5453ed(0x2ee)]['error'](this[_0x5453ed(0x3af)]+'\x20('+this[_0x5453ed(0x7ef)][_0x5453ed(0x816)]+_0x5453ed(0x408)+_0x4c3a30[_0x5453ed(0x698)]()),new x({'archived':!0x1,'message':[_0x5453ed(0x19e),_0x4c3a30[_0x5453ed(0x698)]()]});}}async[a0_0x36fc91(0x605)](_0x45a0d6){const _0x33a51d=a0_0x36fc91;try{let _0x321147=await this[_0x33a51d(0x850)][_0x33a51d(0x799)](_0x45a0d6[_0x33a51d(0x370)],{'delete':_0x45a0d6});try{let _0x5d0cc8=await this[_0x33a51d(0x7a9)](_0x45a0d6,{'status':_0x33a51d(0x1ec),'owner':this['instance'][_0x33a51d(0x816)]});this['logger'][_0x33a51d(0x855)](this[_0x33a51d(0x3af)]+'\x20('+this[_0x33a51d(0x7ef)]['wuid']+_0x33a51d(0x59a)+_0x5d0cc8);}catch(_0x5068d3){this[_0x33a51d(0x2ee)][_0x33a51d(0x844)](_0x33a51d(0x3e9)+_0x5068d3);}return _0x321147;}catch(_0xf18995){throw new x(_0x33a51d(0x547),_0xf18995?.[_0x33a51d(0x698)]());}}async[a0_0x36fc91(0x400)](_0x12f83d){const _0x9cb795=a0_0x36fc91;try{let _0x3a8436=_0x12f83d?.[_0x9cb795(0x142)]?_0x12f83d:await this[_0x9cb795(0x280)](_0x12f83d[_0x9cb795(0x39c)],!0x0);for(let _0x2a3c61 of Ea)_0x3a8436[_0x9cb795(0x142)][_0x2a3c61]&&(_0x3a8436[_0x9cb795(0x142)]=_0x3a8436[_0x9cb795(0x142)][_0x2a3c61][_0x9cb795(0x142)]);let _0xfa7f0,_0x129f8b;for(let _0x534831 of Ca)if(_0xfa7f0=_0x3a8436['message'][_0x534831],_0xfa7f0){_0x129f8b=_0x534831;break;}if(!_0xfa7f0)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0xfa7f0[_0x9cb795(0x367)]==_0x9cb795(0x733)&&(_0x3a8436[_0x9cb795(0x142)]=JSON['parse'](JSON[_0x9cb795(0x3ef)](_0x3a8436['message'])));let _0x540d7f=await(0x0,w[_0x9cb795(0x568)])({'key':_0x3a8436?.['key'],'message':_0x3a8436?.['message']},_0x9cb795(0x45c),{},{'logger':(0x0,Ut[_0x9cb795(0x361)])({'level':_0x9cb795(0x520)}),'reuploadRequest':this[_0x9cb795(0x850)]['updateMediaMessage']});if(!(_0x540d7f instanceof Buffer))throw new Error(_0x9cb795(0x4a6));let _0x2d2a89=this[_0x9cb795(0x256)][_0x9cb795(0x41a)](_0x9cb795(0x26a)),_0x56bf07,_0x24501e;if(_0xfa7f0[_0x9cb795(0x3f6)])_0x56bf07=_0xfa7f0[_0x9cb795(0x3f6)];else{let _0x514906=_0xfa7f0[_0x9cb795(0x1c3)]?.['match'](/\/(\w+)/),_0x198b82=_0x514906?_0x514906[0x1]:null;if(!_0x198b82)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0x56bf07=(0x0,X['v4'])()+'.'+_0x198b82;}_0x129f8b===_0x9cb795(0x587)?_0x24501e=_0x9cb795(0x218)+await this[_0x9cb795(0x420)](_0x540d7f[_0x9cb795(0x698)]('base64')):(await this[_0x9cb795(0x848)](_0x540d7f,_0x56bf07),_0x24501e=_0x9cb795(0x218)+_0x56bf07);let _0x94b5a4=this[_0x9cb795(0x256)][_0x9cb795(0x41a)](_0x9cb795(0x854))[_0x9cb795(0x456)];if(!_0x94b5a4){let _0x664590=this['configService'][_0x9cb795(0x41a)](_0x9cb795(0x6ea));_0x94b5a4=_0x9cb795(0x120)+(_0x664590&&_0x664590[_0x9cb795(0x437)][_0x9cb795(0x599)]('/')[0x4]);}_0x24501e=''+_0x94b5a4+_0x24501e;let _0x1239f9=0xc*0x3c*0x3c*0x3e8,_0x613dee={'where':{'_id':_0x3a8436[_0x9cb795(0x39c)]['id']}},_0xd3cb75={'message_normalized.fileUrl':_0x24501e,'message_normalized.expires_fileUrl':Date['now']()+_0x1239f9};try{let _0x56d87c=await this[_0x9cb795(0x465)]['message']['update'](_0x613dee,_0xd3cb75,this[_0x9cb795(0x7ef)]['wuid']);_0x56d87c&&J(this[_0x9cb795(0x3af)],'messages',{'message':_0x56d87c});}catch(_0x518560){let _0x28d9dc=_0x9cb795(0x3c3),_0x9bfafb=_0x518560 instanceof Error?_0x518560[_0x9cb795(0x142)]:typeof _0x518560=='object'?JSON['stringify'](_0x518560):_0x518560,_0x1b0a91=_0x28d9dc+':\x20'+_0x9bfafb;this['logger'][_0x9cb795(0x844)](this['instanceName']+'\x20('+this['instance'][_0x9cb795(0x816)]+_0x9cb795(0x651)+_0x1b0a91);}return{'mediaType':_0x129f8b,'fileName':_0xfa7f0[_0x9cb795(0x3f6)],'caption':_0xfa7f0['caption'],'size':{'fileLength':_0xfa7f0['fileLength'],'height':_0xfa7f0['height'],'width':_0xfa7f0[_0x9cb795(0x71f)]},'mimetype':_0xfa7f0['mimetype'],'base64':_0x540d7f[_0x9cb795(0x698)](_0x9cb795(0x6b3)),'fileUrl':_0x24501e,'expires_fileUrl':Date[_0x9cb795(0x630)]()+_0x1239f9};}catch(_0x5b9e3e){let _0x10ca4d=_0x9cb795(0x376),_0x35b5fa=_0x5b9e3e instanceof Error?_0x5b9e3e[_0x9cb795(0x142)]:typeof _0x5b9e3e==_0x9cb795(0x733)?JSON[_0x9cb795(0x3ef)](_0x5b9e3e):_0x5b9e3e,_0x3ebb7f=_0x10ca4d+':\x20'+_0x35b5fa;throw this[_0x9cb795(0x2ee)][_0x9cb795(0x844)](this[_0x9cb795(0x3af)]+'\x20('+this[_0x9cb795(0x7ef)]['wuid']+'):\x20'+_0x3ebb7f),new m(_0x3ebb7f);}}async[a0_0x36fc91(0x848)](_0x2c53e2,_0x1efedb){const _0x3145bb=a0_0x36fc91;let _0x3b2fe1=U[_0x3145bb(0x361)][_0x3145bb(0x1f8)](__dirname,_0x3145bb(0x134));L[_0x3145bb(0x6f6)](_0x3b2fe1)||L['mkdirSync'](_0x3b2fe1,{'recursive':!0x0});let _0x19426a=U[_0x3145bb(0x361)][_0x3145bb(0x1f8)](_0x3b2fe1,_0x1efedb);return new Promise((_0x13dc78,_0x48133c)=>{const _0x3cae00=_0x3145bb;L[_0x3cae00(0x85d)](_0x19426a,_0x2c53e2,_0x179f49=>{const _0x27ab5=_0x3cae00;_0x179f49?(this[_0x27ab5(0x2ee)][_0x27ab5(0x844)](_0x27ab5(0x46e)+(_0x179f49 instanceof Error?_0x179f49['message']:JSON[_0x27ab5(0x3ef)](_0x179f49,null,0x2))),_0x48133c(_0x179f49)):(this[_0x27ab5(0x2ee)][_0x27ab5(0x83e)]('File\x20written\x20to\x20path:\x20'+_0x19426a),_0x13dc78(_0x19426a));});});}async['fetchContacts'](_0x2a94d8){const _0xfaeb5b=a0_0x36fc91;return await this[_0xfaeb5b(0x465)][_0xfaeb5b(0x831)][_0xfaeb5b(0x757)](_0x2a94d8,this[_0xfaeb5b(0x7ef)]['wuid']);}async['fetchLabels'](){const _0x4f59ec=a0_0x36fc91;return await this[_0x4f59ec(0x465)][_0x4f59ec(0x1f2)][_0x4f59ec(0x757)]({'where':{}},this[_0x4f59ec(0x7ef)][_0x4f59ec(0x816)]);}async[a0_0x36fc91(0x14f)](_0x12bc29){const _0x50549e=a0_0x36fc91;return await this['repository'][_0x50549e(0x142)][_0x50549e(0x757)](_0x12bc29,this[_0x50549e(0x7ef)][_0x50549e(0x816)]);}async[a0_0x36fc91(0x622)](){const _0x2f6db3=a0_0x36fc91;return this['repository']['chat'][_0x2f6db3(0x85b)](this[_0x2f6db3(0x7ef)]['wuid']),this[_0x2f6db3(0x465)]['chat'][_0x2f6db3(0x73a)](this[_0x2f6db3(0x7ef)][_0x2f6db3(0x816)]),this[_0x2f6db3(0x465)][_0x2f6db3(0x1aa)]['updateMissingTags'](this['instance'][_0x2f6db3(0x816)]),this['repository']['chat'][_0x2f6db3(0x10d)](this[_0x2f6db3(0x7ef)][_0x2f6db3(0x816)]),await this[_0x2f6db3(0x465)]['chat']['find']({'where':{}},this[_0x2f6db3(0x7ef)][_0x2f6db3(0x816)]);}async['importChatsAntigo'](_0x47766e){const _0x2b44dc=a0_0x36fc91;try{if(!Array[_0x2b44dc(0x484)](_0x47766e)||_0x47766e[_0x2b44dc(0x6eb)]===0x0)throw new Error(_0x2b44dc(0x439));let _0x446d70=[],_0x24a77c=[];for(let _0x43e5da of _0x47766e){if(_0x43e5da[_0x2b44dc(0x21f)])_0x43e5da[_0x2b44dc(0x21f)]=this[_0x2b44dc(0x806)](_0x43e5da[_0x2b44dc(0x21f)]);else continue;await this['repository'][_0x2b44dc(0x1aa)][_0x2b44dc(0x74a)]({'where':{'_id':_0x43e5da[_0x2b44dc(0x21f)]}},this[_0x2b44dc(0x7ef)][_0x2b44dc(0x816)])?_0x24a77c[_0x2b44dc(0x871)]({'_id':_0x43e5da[_0x2b44dc(0x21f)],'leadInfo':_0x43e5da[_0x2b44dc(0x1e2)],'owner':this['instance'][_0x2b44dc(0x816)]}):_0x446d70[_0x2b44dc(0x871)]({'_id':_0x43e5da[_0x2b44dc(0x21f)],'owner':this[_0x2b44dc(0x7ef)][_0x2b44dc(0x816)],'leadInfo':_0x43e5da['leadInfo'],'imported':!0x0});}return _0x24a77c[_0x2b44dc(0x6eb)]>0x0&&await this[_0x2b44dc(0x465)][_0x2b44dc(0x1aa)][_0x2b44dc(0x404)](_0x24a77c[_0x2b44dc(0x71e)](_0x9fa0ea=>({'query':{'where':{'_id':_0x9fa0ea[_0x2b44dc(0x21f)],'owner':this[_0x2b44dc(0x7ef)][_0x2b44dc(0x816)]}},'update':_0x9fa0ea}))),_0x446d70[_0x2b44dc(0x6eb)]>0x0&&await this[_0x2b44dc(0x465)][_0x2b44dc(0x1aa)]['insertMany'](_0x446d70,this[_0x2b44dc(0x7ef)][_0x2b44dc(0x816)]),{'updated':_0x24a77c[_0x2b44dc(0x6eb)],'inserted':_0x446d70[_0x2b44dc(0x6eb)]};}catch(_0x4a63f3){let _0x184d9a=_0x2b44dc(0x291),_0x1ca3a7=_0x4a63f3 instanceof Error?_0x4a63f3[_0x2b44dc(0x142)]:typeof _0x4a63f3==_0x2b44dc(0x733)?JSON['stringify'](_0x4a63f3):_0x4a63f3,_0x3ed20f=_0x184d9a+':\x20'+_0x1ca3a7;throw this[_0x2b44dc(0x2ee)][_0x2b44dc(0x844)](this['instanceName']+'\x20('+this[_0x2b44dc(0x7ef)][_0x2b44dc(0x816)]+_0x2b44dc(0x651)+_0x3ed20f),new m(_0x3ed20f);}}async[a0_0x36fc91(0x47a)](_0x52644b){const _0x51afd7=a0_0x36fc91;try{if(!Array[_0x51afd7(0x484)](_0x52644b)||_0x52644b[_0x51afd7(0x6eb)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x5db08a=0x64,_0x4131af=0x0;for(let _0x25b0af=0x0;_0x25b0af<_0x52644b[_0x51afd7(0x6eb)];_0x25b0af+=_0x5db08a){let _0x5abfb8=_0x52644b[_0x51afd7(0x2a9)](_0x25b0af,_0x25b0af+_0x5db08a),{updated:_0x2b6da3}=await this['importChatsBatch'](_0x5abfb8);_0x4131af+=_0x2b6da3;}return{'updated':_0x4131af};}catch(_0x39293f){let _0x408bce=_0x51afd7(0x291),_0x3c6637=_0x39293f instanceof Error?_0x39293f['message']:typeof _0x39293f==_0x51afd7(0x733)?JSON['stringify'](_0x39293f):_0x39293f,_0x28a9f2=_0x408bce+':\x20'+_0x3c6637;throw this['logger'][_0x51afd7(0x844)](this['instanceName']+'\x20('+this[_0x51afd7(0x7ef)][_0x51afd7(0x816)]+_0x51afd7(0x651)+_0x28a9f2),new m(_0x28a9f2);}}async[a0_0x36fc91(0x722)](_0x165714){const _0x47b2a6=a0_0x36fc91;try{let _0x1f1ef7=await this[_0x47b2a6(0x465)]['label'][_0x47b2a6(0x757)]({'where':{}},this[_0x47b2a6(0x7ef)][_0x47b2a6(0x816)]),_0x300d82=new Set(_0x1f1ef7[_0x47b2a6(0x71e)](_0x5c70af=>_0x5c70af[_0x47b2a6(0x21f)])),_0x1ae07d=[],_0x274f7c=[];for(let _0x3410fa of _0x165714){if(!_0x3410fa['_id'])continue;_0x3410fa[_0x47b2a6(0x21f)]=this[_0x47b2a6(0x806)](_0x3410fa[_0x47b2a6(0x21f)]);let _0x6173ed=await this[_0x47b2a6(0x465)]['chat'][_0x47b2a6(0x74a)]({'where':{'_id':_0x3410fa[_0x47b2a6(0x21f)]}},this[_0x47b2a6(0x7ef)]['wuid']),_0xfa7676={};if(Object[_0x47b2a6(0x60d)](_0x3410fa[_0x47b2a6(0x1e2)])[_0x47b2a6(0x12c)](([_0x10405b,_0x3510f9])=>{const _0x14b7c0=_0x47b2a6;_0xfa7676[_0x14b7c0(0x654)+_0x10405b]=_0x3510f9;}),_0x6173ed&&!_0x6173ed['imported']){let _0x4ba2cb=(_0x3410fa[_0x47b2a6(0x1e2)]['etiquetas']||[])[_0x47b2a6(0x125)](_0x1ec266=>_0x300d82[_0x47b2a6(0x4e2)](_0x1ec266)),_0x411ea9=new Set(_0x6173ed[_0x47b2a6(0x1e2)][_0x47b2a6(0x462)]||[]),_0x11c7ab=_0x4ba2cb[_0x47b2a6(0x125)](_0x3b5759=>!_0x411ea9[_0x47b2a6(0x4e2)](_0x3b5759)),_0x3f7e9e=[..._0x411ea9][_0x47b2a6(0x125)](_0x3574f7=>!_0x4ba2cb['includes'](_0x3574f7));_0x274f7c[_0x47b2a6(0x871)](..._0x11c7ab[_0x47b2a6(0x71e)](_0x438c0a=>this[_0x47b2a6(0x5c1)](_0x438c0a,_0x3410fa[_0x47b2a6(0x21f)]))),_0x274f7c[_0x47b2a6(0x871)](..._0x3f7e9e['map'](_0x32294b=>this[_0x47b2a6(0x491)](_0x32294b,_0x3410fa[_0x47b2a6(0x21f)]))),_0x3410fa['leadInfo'][_0x47b2a6(0x462)]=_0x4ba2cb,_0x1ae07d['push']({'query':{'where':{'_id':_0x3410fa[_0x47b2a6(0x21f)],'owner':this['instance'][_0x47b2a6(0x816)]}},'update':_0xfa7676});}else _0xfa7676[_0x47b2a6(0x251)]=!0x0,_0x1ae07d['push']({'query':{'where':{'_id':_0x3410fa[_0x47b2a6(0x21f)],'owner':this[_0x47b2a6(0x7ef)][_0x47b2a6(0x816)]}},'update':_0xfa7676});}let _0x194979=await this[_0x47b2a6(0x465)][_0x47b2a6(0x1aa)][_0x47b2a6(0x404)](_0x1ae07d);return await Promise[_0x47b2a6(0x42b)](_0x274f7c),{'updated':_0x194979};}catch(_0x5e79c0){let _0x35c7e9='Erro\x20ao\x20importar\x20chats',_0x483c51=_0x5e79c0 instanceof Error?_0x5e79c0[_0x47b2a6(0x142)]:typeof _0x5e79c0==_0x47b2a6(0x733)?JSON[_0x47b2a6(0x3ef)](_0x5e79c0):_0x5e79c0,_0x1f9210=_0x35c7e9+':\x20'+_0x483c51;throw this[_0x47b2a6(0x2ee)]['error'](this[_0x47b2a6(0x3af)]+'\x20('+this['instance'][_0x47b2a6(0x816)]+_0x47b2a6(0x651)+_0x1f9210),new m(_0x1f9210);}}async[a0_0x36fc91(0x3a2)](){const _0x1e325a=a0_0x36fc91;return await this[_0x1e325a(0x850)][_0x1e325a(0x3a2)]();}async[a0_0x36fc91(0x53c)](_0x350320){const _0x1278d5=a0_0x36fc91;try{return await this[_0x1278d5(0x850)][_0x1278d5(0x77d)](_0x350320[_0x1278d5(0x567)][_0x1278d5(0x12a)]),await this[_0x1278d5(0x850)]['updateProfilePicturePrivacy'](_0x350320[_0x1278d5(0x567)]['profile']),await this[_0x1278d5(0x850)][_0x1278d5(0x242)](_0x350320[_0x1278d5(0x567)][_0x1278d5(0x166)]),await this[_0x1278d5(0x850)]['updateOnlinePrivacy'](_0x350320['privacySettings'][_0x1278d5(0x604)]),await this[_0x1278d5(0x850)][_0x1278d5(0x3a8)](_0x350320[_0x1278d5(0x567)][_0x1278d5(0x518)]),await this[_0x1278d5(0x850)][_0x1278d5(0x5c4)](_0x350320[_0x1278d5(0x567)]['groupadd']),this['client']?.['ws']?.[_0x1278d5(0x13d)](),{'update':'success','data':{'readreceipts':_0x350320[_0x1278d5(0x567)]['readreceipts'],'profile':_0x350320[_0x1278d5(0x567)][_0x1278d5(0x4bf)],'status':_0x350320[_0x1278d5(0x567)][_0x1278d5(0x166)],'online':_0x350320[_0x1278d5(0x567)][_0x1278d5(0x604)],'last':_0x350320[_0x1278d5(0x567)][_0x1278d5(0x518)],'groupadd':_0x350320['privacySettings']['groupadd']}};}catch(_0x1d8ad2){let _0x39d9ba=_0x1278d5(0x23f),_0x1809ca=_0x1d8ad2 instanceof Error?_0x1d8ad2[_0x1278d5(0x142)]:typeof _0x1d8ad2==_0x1278d5(0x733)?JSON[_0x1278d5(0x3ef)](_0x1d8ad2):_0x1d8ad2,_0x350fd5=_0x39d9ba+':\x20'+_0x1809ca;throw this[_0x1278d5(0x2ee)]['error'](this[_0x1278d5(0x3af)]+'\x20('+this[_0x1278d5(0x7ef)][_0x1278d5(0x816)]+_0x1278d5(0x651)+_0x350fd5),new m(_0x350fd5);}}async['fetchProfile'](_0x448a0f){const _0x5e2ffb=a0_0x36fc91;let _0x5ab793=(_0x448a0f?this[_0x5e2ffb(0x806)](_0x448a0f):this[_0x5e2ffb(0x850)]?.[_0x5e2ffb(0x1f7)]?.['id'])[_0x5e2ffb(0x6fe)](/:\d{1,2}@/g,'@');this['logger'][_0x5e2ffb(0x855)](this[_0x5e2ffb(0x3af)]+'\x20('+this[_0x5e2ffb(0x7ef)][_0x5e2ffb(0x816)]+_0x5e2ffb(0x2e8)+_0x5ab793);let _0x567d29=await this[_0x5e2ffb(0x465)][_0x5e2ffb(0x831)]['findOne']({'where':{'_id':_0x5ab793}},this[_0x5e2ffb(0x7ef)][_0x5e2ffb(0x816)]),_0x449a6a=_0x567d29?_0x567d29[_0x5e2ffb(0x3b6)]:null;try{let _0x3c279b=(await this[_0x5e2ffb(0x3d5)]({'numbers':[_0x5ab793]}))?.[_0x5e2ffb(0x3ac)](),_0x2e8145=(await this[_0x5e2ffb(0x743)](_0x5ab793,null,!0x1))['cachedContact'][_0x5e2ffb(0x5b5)],_0x2907f9=await this['getStatus'](_0x3c279b?.['jid']),_0x85b52a=await this[_0x5e2ffb(0x643)](_0x3c279b?.['jid']),_0x15dfe7=(await this[_0x5e2ffb(0x743)](_0x5ab793,null,!0x1))['cachedContact'][_0x5e2ffb(0x10b)],_0x3a1a8c=await this['repository'][_0x5e2ffb(0x1aa)][_0x5e2ffb(0x74a)]({'where':{'_id':_0x5ab793}},this['instance'][_0x5e2ffb(0x816)]),_0x2bbf73={'imagechat':_0x2e8145,'contactname':_0x449a6a||null,'pushName':_0x15dfe7,'status':_0x2907f9?.[_0x5e2ffb(0x166)],'isBusiness':_0x85b52a[_0x5e2ffb(0x6f0)],'email':_0x85b52a?.[_0x5e2ffb(0x47f)],'description':_0x85b52a?.['description'],'website':_0x85b52a?.[_0x5e2ffb(0x27d)]?.[_0x5e2ffb(0x3ac)](),'lastcache':Date['now'](),'imported':!_0x3a1a8c},_0x30ddab=await this[_0x5e2ffb(0x465)]['chat'][_0x5e2ffb(0x47d)]({'where':{'_id':_0x5ab793}},_0x2bbf73,this['instance'][_0x5e2ffb(0x816)]),_0x4ac3d1={'owner':this[_0x5e2ffb(0x7ef)][_0x5e2ffb(0x816)],'_id':_0x5ab793,'profilePictureUrl':_0x2e8145,'status':_0x2907f9?.[_0x5e2ffb(0x166)]};return this[_0x5e2ffb(0x465)]['contact'][_0x5e2ffb(0x3d8)]([_0x4ac3d1],this[_0x5e2ffb(0x7ef)][_0x5e2ffb(0x816)]),_0x30ddab&&J(this['instanceName'],_0x5e2ffb(0x4a4),{'chat':_0x30ddab}),{'wuid':_0x3c279b?.[_0x5e2ffb(0x4cd)]||_0x5ab793,'name':_0x3c279b?.['name'],'pushName':_0x15dfe7,'numberExists':_0x3c279b?.[_0x5e2ffb(0x40f)],'picture':_0x2e8145,'status':_0x2907f9?.[_0x5e2ffb(0x166)],'isBusiness':_0x85b52a[_0x5e2ffb(0x6f0)],'email':_0x85b52a?.['email'],'description':_0x85b52a?.[_0x5e2ffb(0x3a7)],'website':_0x85b52a?.[_0x5e2ffb(0x27d)]?.[_0x5e2ffb(0x3ac)]()};}catch(_0x5e9da5){return this[_0x5e2ffb(0x2ee)][_0x5e2ffb(0x844)](_0x5e2ffb(0x602)+(_0x5e9da5 instanceof Error?_0x5e9da5[_0x5e2ffb(0x142)]:JSON[_0x5e2ffb(0x3ef)](_0x5e9da5,null,0x2))),{};}}async[a0_0x36fc91(0x643)](_0x12a4a5){const _0x32d04b=a0_0x36fc91;this[_0x32d04b(0x2ee)]['verbose'](this[_0x32d04b(0x3af)]+'\x20('+this[_0x32d04b(0x7ef)][_0x32d04b(0x816)]+_0x32d04b(0x55f));try{let _0x43d7a=_0x12a4a5?this['createJid'](_0x12a4a5):this[_0x32d04b(0x7ef)][_0x32d04b(0x816)],_0x55b178=await this[_0x32d04b(0x850)][_0x32d04b(0x110)](_0x43d7a);return this[_0x32d04b(0x2ee)][_0x32d04b(0x855)](this[_0x32d04b(0x3af)]+'\x20('+this['instance']['wuid']+_0x32d04b(0x77a)),_0x55b178?(this[_0x32d04b(0x2ee)][_0x32d04b(0x855)](this[_0x32d04b(0x3af)]+'\x20('+this['instance'][_0x32d04b(0x816)]+_0x32d04b(0x118)),{'isBusiness':!0x0,..._0x55b178}):{'isBusiness':!0x1,'message':_0x32d04b(0x7df),...(await this[_0x32d04b(0x3d5)]({'numbers':[_0x43d7a]}))?.[_0x32d04b(0x3ac)]()};}catch(_0xa10c03){let _0x59316a=_0x32d04b(0x70c),_0x16b4fc=_0xa10c03 instanceof Error?_0xa10c03['message']:typeof _0xa10c03==_0x32d04b(0x733)?JSON[_0x32d04b(0x3ef)](_0xa10c03):_0xa10c03,_0x5f5c36=_0x59316a+':\x20'+_0x16b4fc;throw this['logger'][_0x32d04b(0x844)](this[_0x32d04b(0x3af)]+'\x20('+this['instance'][_0x32d04b(0x816)]+'):\x20'+_0x5f5c36),new x(_0x5f5c36);}}async['getStatus'](_0x593dec){const _0x471822=a0_0x36fc91;let _0x26566b=this[_0x471822(0x806)](_0x593dec);try{return{'wuid':_0x26566b,'status':(await this[_0x471822(0x850)][_0x471822(0x33a)](_0x26566b))[0x0]?.[_0x471822(0x166)]};}catch{return{'wuid':_0x26566b,'status':null};}}async[a0_0x36fc91(0x289)](_0x347519){const _0x141596=a0_0x36fc91;try{return await this[_0x141596(0x850)][_0x141596(0x289)](_0x347519),{'update':_0x141596(0x195)};}catch(_0x25d360){let _0x274986='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName',_0x7f82ba=_0x25d360 instanceof Error?_0x25d360['message']:typeof _0x25d360==_0x141596(0x733)?JSON[_0x141596(0x3ef)](_0x25d360):_0x25d360,_0x2e10b4=_0x274986+':\x20'+_0x7f82ba;throw this['logger']['error'](this[_0x141596(0x3af)]+'\x20('+this[_0x141596(0x7ef)]['wuid']+_0x141596(0x651)+_0x2e10b4),new x(_0x2e10b4);}}async[a0_0x36fc91(0x772)](_0x3ec574){const _0x358b66=a0_0x36fc91;try{return await this[_0x358b66(0x850)]['updateProfileStatus'](_0x3ec574),{'update':_0x358b66(0x195)};}catch(_0x25c402){let _0x2a996a=_0x358b66(0x680),_0x2209dc=_0x25c402 instanceof Error?_0x25c402[_0x358b66(0x142)]:typeof _0x25c402==_0x358b66(0x733)?JSON[_0x358b66(0x3ef)](_0x25c402):_0x25c402,_0x407402=_0x2a996a+':\x20'+_0x2209dc;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x358b66(0x7ef)][_0x358b66(0x816)]+'):\x20'+_0x407402),new x(_0x407402);}}async['updateProfilePicture'](_0x587e80){const _0x1945de=a0_0x36fc91;try{let _0x3bb311;if((0x0,k[_0x1945de(0x436)])(_0x587e80)){let _0x39fec5=new Date()['getTime'](),_0x3e610c=_0x587e80+_0x1945de(0x1a6)+_0x39fec5;_0x3bb311=(await Y[_0x1945de(0x361)][_0x1945de(0x41a)](_0x3e610c,{'responseType':_0x1945de(0x5ec)}))['data'];}else{if((0x0,k[_0x1945de(0x4d8)])(_0x587e80))_0x3bb311=Buffer[_0x1945de(0x113)](_0x587e80,_0x1945de(0x6b3));else throw new m(_0x1945de(0x664));}return await this[_0x1945de(0x850)][_0x1945de(0x59f)](this[_0x1945de(0x7ef)][_0x1945de(0x816)],_0x3bb311),{'update':_0x1945de(0x195)};}catch(_0x5af802){let _0xdf55ad=_0x1945de(0x740),_0x2dcca0=_0x5af802 instanceof Error?_0x5af802['message']:typeof _0x5af802==_0x1945de(0x733)?JSON[_0x1945de(0x3ef)](_0x5af802):_0x5af802,_0x1ee5f1=_0xdf55ad+':\x20'+_0x2dcca0;throw this[_0x1945de(0x2ee)][_0x1945de(0x844)](this[_0x1945de(0x3af)]+'\x20('+this['instance'][_0x1945de(0x816)]+'):\x20'+_0x1ee5f1),new x(_0x1ee5f1);}}async[a0_0x36fc91(0x7f3)](){const _0x541116=a0_0x36fc91;try{return await this['client'][_0x541116(0x7f3)](this['instance'][_0x541116(0x816)]),{'update':_0x541116(0x195)};}catch(_0x5bc81f){let _0x3ee3df=_0x541116(0x2a1),_0x530843=_0x5bc81f instanceof Error?_0x5bc81f[_0x541116(0x142)]:typeof _0x5bc81f==_0x541116(0x733)?JSON['stringify'](_0x5bc81f):_0x5bc81f,_0x1141aa=_0x3ee3df+':\x20'+_0x530843;throw this[_0x541116(0x2ee)][_0x541116(0x844)](this[_0x541116(0x3af)]+'\x20('+this['instance'][_0x541116(0x816)]+_0x541116(0x651)+_0x1141aa),new x(_0x1141aa);}}async[a0_0x36fc91(0x1fb)](_0x2b8544){const _0x56bc32=a0_0x36fc91;try{let _0x25df67=(await this[_0x56bc32(0x3d5)]({'numbers':_0x2b8544[_0x56bc32(0x4cf)]}))[_0x56bc32(0x125)](_0x3ffa92=>_0x3ffa92[_0x56bc32(0x40f)])['map'](_0x1153e5=>_0x1153e5[_0x56bc32(0x4cd)]),{id:_0x3773e2}=await this['client'][_0x56bc32(0x50c)](_0x2b8544[_0x56bc32(0x1ee)],_0x25df67);_0x2b8544?.[_0x56bc32(0x3a7)]&&await this[_0x56bc32(0x850)]['groupUpdateDescription'](_0x3773e2,_0x2b8544['description']);let _0x269654=await this[_0x56bc32(0x850)][_0x56bc32(0x1d8)](_0x3773e2);return _0x269654[_0x56bc32(0x3ae)]=[],{'metadata':_0x269654};}catch(_0x41f797){let _0x4d863b=_0x56bc32(0x60e),_0x134cd4=_0x41f797 instanceof Error?_0x41f797['message']:typeof _0x41f797==_0x56bc32(0x733)?JSON[_0x56bc32(0x3ef)](_0x41f797):_0x41f797,_0xfb19e1=_0x4d863b+':\x20'+_0x134cd4;throw this[_0x56bc32(0x2ee)][_0x56bc32(0x844)](this[_0x56bc32(0x3af)]+'\x20('+this['instance']['wuid']+'):\x20'+_0xfb19e1),new x(_0xfb19e1);}}async[a0_0x36fc91(0x7c4)](_0x4ef10f){const _0x43f1f3=a0_0x36fc91;try{if(_0x4ef10f[_0x43f1f3(0x170)]===!0x0&&await this[_0x43f1f3(0x850)][_0x43f1f3(0x297)](_0x4ef10f[_0x43f1f3(0x817)],_0x43f1f3(0x7a7)),_0x4ef10f[_0x43f1f3(0x170)]===!0x1&&await this[_0x43f1f3(0x850)]['groupSettingUpdate'](_0x4ef10f['groupJid'],_0x43f1f3(0x59c)),_0x4ef10f['announce']===!0x0&&await this[_0x43f1f3(0x850)][_0x43f1f3(0x297)](_0x4ef10f[_0x43f1f3(0x817)],_0x43f1f3(0x2bf)),_0x4ef10f['announce']===!0x1&&await this['client'][_0x43f1f3(0x297)](_0x4ef10f[_0x43f1f3(0x817)],'not_announcement'),_0x4ef10f['memberAddMode']===!0x0&&await this[_0x43f1f3(0x850)][_0x43f1f3(0x761)](_0x4ef10f[_0x43f1f3(0x817)],_0x43f1f3(0x6f2)),_0x4ef10f[_0x43f1f3(0x51e)]===!0x1&&await this['client'][_0x43f1f3(0x761)](_0x4ef10f[_0x43f1f3(0x817)],_0x43f1f3(0x3a9)),_0x4ef10f[_0x43f1f3(0x5cf)]===!0x0&&await this[_0x43f1f3(0x850)][_0x43f1f3(0x3df)](_0x4ef10f['groupJid'],'on'),_0x4ef10f[_0x43f1f3(0x5cf)]===!0x1&&await this[_0x43f1f3(0x850)][_0x43f1f3(0x3df)](_0x4ef10f[_0x43f1f3(0x817)],_0x43f1f3(0x1d0)),typeof _0x4ef10f[_0x43f1f3(0x584)]<'u'&&_0x4ef10f[_0x43f1f3(0x584)]!==null&&await this['client']['groupToggleEphemeral'](_0x4ef10f['groupJid'],_0x4ef10f[_0x43f1f3(0x584)]),_0x4ef10f['name']&&await this[_0x43f1f3(0x850)][_0x43f1f3(0x655)](_0x4ef10f[_0x43f1f3(0x817)],_0x4ef10f['name']),_0x4ef10f['description']&&await this[_0x43f1f3(0x850)][_0x43f1f3(0x35c)](_0x4ef10f[_0x43f1f3(0x817)],_0x4ef10f[_0x43f1f3(0x3a7)]),_0x4ef10f['image']){let _0x5dce72;if((0x0,k[_0x43f1f3(0x436)])(_0x4ef10f[_0x43f1f3(0x44a)])){let _0x1cdc14=new Date()['getTime'](),_0x5147b4=_0x4ef10f[_0x43f1f3(0x44a)]+_0x43f1f3(0x1a6)+_0x1cdc14;_0x5dce72=(await Y[_0x43f1f3(0x361)][_0x43f1f3(0x41a)](_0x5147b4,{'responseType':_0x43f1f3(0x5ec)}))[_0x43f1f3(0x3ff)];}else{if((0x0,k[_0x43f1f3(0x4d8)])(_0x4ef10f[_0x43f1f3(0x44a)]))_0x5dce72=Buffer[_0x43f1f3(0x113)](_0x4ef10f[_0x43f1f3(0x44a)],_0x43f1f3(0x6b3));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}await this[_0x43f1f3(0x850)][_0x43f1f3(0x59f)](_0x4ef10f[_0x43f1f3(0x817)],_0x5dce72);}return await this['findGroup']({'groupJid':_0x4ef10f[_0x43f1f3(0x817)]});}catch(_0x2a1b20){let _0x222748='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting',_0x2ab74f=_0x2a1b20 instanceof Error?_0x2a1b20[_0x43f1f3(0x142)]:typeof _0x2a1b20==_0x43f1f3(0x733)?JSON[_0x43f1f3(0x3ef)](_0x2a1b20):_0x2a1b20,_0x5a29c4=_0x222748+':\x20'+_0x2ab74f;throw this[_0x43f1f3(0x2ee)]['error'](this[_0x43f1f3(0x3af)]+'\x20('+this[_0x43f1f3(0x7ef)][_0x43f1f3(0x816)]+_0x43f1f3(0x651)+_0x5a29c4),new x(_0x5a29c4);}}async['updateGParticipant'](_0x2c406d){const _0x4914fa=a0_0x36fc91;try{if(_0x2c406d[_0x4914fa(0x61a)]==='approve'||_0x2c406d['action']==='reject'){let _0x1546dc=_0x2c406d[_0x4914fa(0x4cf)][_0x4914fa(0x71e)](_0x37a3d0=>this[_0x4914fa(0x806)](_0x37a3d0));await this['client'][_0x4914fa(0x714)](_0x2c406d['groupJid'],_0x1546dc,_0x2c406d[_0x4914fa(0x61a)]);}else{if(_0x2c406d['action']===_0x4914fa(0x187)){let _0x24dd6b=(await this[_0x4914fa(0x3d5)]({'numbers':_0x2c406d[_0x4914fa(0x4cf)]}))[_0x4914fa(0x125)](_0x2c1f59=>_0x2c1f59[_0x4914fa(0x40f)])[_0x4914fa(0x71e)](_0x15b1da=>this[_0x4914fa(0x806)](_0x15b1da[_0x4914fa(0x4cd)]));if(_0x24dd6b[_0x4914fa(0x6eb)]===0x0)throw new m(_0x4914fa(0x483));await this[_0x4914fa(0x850)][_0x4914fa(0x5a8)](_0x2c406d[_0x4914fa(0x817)],_0x24dd6b,_0x4914fa(0x187));}else{let _0x97e692=_0x2c406d[_0x4914fa(0x4cf)][_0x4914fa(0x71e)](_0x30552d=>this['createJid'](_0x30552d));await this[_0x4914fa(0x850)][_0x4914fa(0x5a8)](_0x2c406d[_0x4914fa(0x817)],_0x97e692,_0x2c406d[_0x4914fa(0x61a)]);}}return await this['findGroup']({'groupJid':_0x2c406d[_0x4914fa(0x817)]});}catch(_0x190cba){let _0x1ab189=_0x4914fa(0x57b),_0x4e3cb9=_0x190cba instanceof Error?_0x190cba[_0x4914fa(0x142)]:typeof _0x190cba==_0x4914fa(0x733)?JSON[_0x4914fa(0x3ef)](_0x190cba):_0x190cba,_0x3adb0c=_0x1ab189+':\x20'+_0x4e3cb9;throw this[_0x4914fa(0x2ee)][_0x4914fa(0x844)](this[_0x4914fa(0x3af)]+'\x20('+this['instance']['wuid']+_0x4914fa(0x651)+_0x3adb0c),new m(_0x3adb0c);}}async[a0_0x36fc91(0x75a)](_0x293bbc){const _0x175952=a0_0x36fc91;try{return await this[_0x175952(0x850)][_0x175952(0x75a)](_0x293bbc[_0x175952(0x616)]);}catch(_0x1c026e){let _0x1a3b8b=_0x175952(0x514),_0x1faca9=_0x1c026e instanceof Error?_0x1c026e[_0x175952(0x142)]:typeof _0x1c026e==_0x175952(0x733)?JSON[_0x175952(0x3ef)](_0x1c026e):_0x1c026e,_0x511c87=_0x1a3b8b+':\x20'+_0x1faca9;throw this[_0x175952(0x2ee)][_0x175952(0x844)](this[_0x175952(0x3af)]+'\x20('+this[_0x175952(0x7ef)]['wuid']+_0x175952(0x651)+_0x511c87),new m(_0x511c87);}}async[a0_0x36fc91(0x3a6)](_0x8c7e66,_0x2a0e41=a0_0x36fc91(0x833)){const _0x4fb6c3=a0_0x36fc91;try{let _0x45d6ec=await this['repository']['chat'][_0x4fb6c3(0x74a)]({'where':{'_id':_0x8c7e66[_0x4fb6c3(0x817)]}},this[_0x4fb6c3(0x7ef)][_0x4fb6c3(0x816)]),_0x705174=_0x45d6ec?_0x45d6ec[_0x4fb6c3(0x5f3)]:null,_0x498625=0x18*0x3c*0x3c*0x3e8;if(!_0x705174||_0x705174[_0x4fb6c3(0x14c)]&&Date['now']()-_0x705174[_0x4fb6c3(0x14c)]>_0x498625){let _0x5ea789=await this[_0x4fb6c3(0x850)][_0x4fb6c3(0x1d8)](_0x8c7e66[_0x4fb6c3(0x817)]);if(_0x5ea789[_0x4fb6c3(0x292)]=_0x5ea789?.[_0x4fb6c3(0x292)]&&_0x5ea789[_0x4fb6c3(0x292)][_0x4fb6c3(0x698)]()['length']<0xd?_0x5ea789?.[_0x4fb6c3(0x292)]*0x3e8:_0x5ea789?.[_0x4fb6c3(0x292)]||null,_0x5ea789[_0x4fb6c3(0x501)]=_0x5ea789?.[_0x4fb6c3(0x501)]&&_0x5ea789[_0x4fb6c3(0x501)]['toString']()[_0x4fb6c3(0x6eb)]<0xd?_0x5ea789?.['creation']*0x3e8:_0x5ea789?.[_0x4fb6c3(0x501)]||null,_0x705174={..._0x5ea789,'lastUpdate':Date[_0x4fb6c3(0x630)]()},!_0x5ea789)return;}let _0x2d129f=_0x705174[_0x4fb6c3(0x4cf)][_0x4fb6c3(0x869)](_0x2ce64b=>_0x2ce64b['id']===this[_0x4fb6c3(0x7ef)]['wuid']+'@s.whatsapp.net'&&_0x2ce64b[_0x4fb6c3(0x702)]!=null);!_0x705174['inviteCode']&&_0x2d129f&&(_0x705174[_0x4fb6c3(0x616)]=(await this[_0x4fb6c3(0x616)](_0x8c7e66,!0x1))[_0x4fb6c3(0x70f)]);let _0x3db4c5=(!_0x705174['announce']||_0x2d129f)&&(!_0x705174[_0x4fb6c3(0x75f)]||_0x705174[_0x4fb6c3(0x75f)]&&_0x705174['isCommunityAnnounce']&&_0x2d129f);_0x705174['isAdmin']=_0x2d129f,_0x705174['canSendMessage']=_0x3db4c5;let _0xdc0a60=[];if(_0x2d129f&&_0x705174[_0x4fb6c3(0x5cf)])try{_0xdc0a60=await this[_0x4fb6c3(0x850)][_0x4fb6c3(0x373)](_0x8c7e66[_0x4fb6c3(0x817)]),_0x705174[_0x4fb6c3(0x649)]=Date[_0x4fb6c3(0x630)]();}catch(_0x34f1ca){this[_0x4fb6c3(0x2ee)][_0x4fb6c3(0x855)](this[_0x4fb6c3(0x3af)]+'\x20('+this['instance'][_0x4fb6c3(0x816)]+_0x4fb6c3(0x825)+_0x8c7e66[_0x4fb6c3(0x817)]+':\x20'+(_0x34f1ca instanceof Error?_0x34f1ca[_0x4fb6c3(0x142)]:JSON[_0x4fb6c3(0x3ef)](_0x34f1ca,null,0x2)));}try{_0x705174['image']=(await this[_0x4fb6c3(0x743)](_0x8c7e66[_0x4fb6c3(0x817)],null,!0x0))[_0x4fb6c3(0x6d7)][_0x4fb6c3(0x5b5)];}catch(_0x4c1ad9){this['logger'][_0x4fb6c3(0x855)](this['instanceName']+'\x20('+this[_0x4fb6c3(0x7ef)][_0x4fb6c3(0x816)]+_0x4fb6c3(0x634)+_0x8c7e66['groupJid']+':\x20'+(_0x4c1ad9 instanceof Error?_0x4c1ad9['message']:JSON[_0x4fb6c3(0x3ef)](_0x4c1ad9,null,0x2)));}let _0x34e110=_0x705174[_0x4fb6c3(0x4cf)]['map'](_0x21d8a8=>_0x21d8a8['id']),_0x43bf13=_0xdc0a60['map'](_0x1cc367=>_0x1cc367['jid']),_0x1f4cbe=await this['repository']['cacheContact'][_0x4fb6c3(0x837)]([..._0x34e110,..._0x43bf13]);_0x705174['participants']=_0x705174[_0x4fb6c3(0x4cf)]['map'](_0x30b3b5=>{const _0x80fb31=_0x4fb6c3;let _0x1b2a47=_0x1f4cbe['find'](_0x4cbe2c=>_0x4cbe2c[_0x80fb31(0x21f)]===_0x30b3b5['id']);return{'id':_0x30b3b5['id'],'isAdmin':[_0x80fb31(0x702),_0x80fb31(0x15d)]['includes'](_0x30b3b5[_0x80fb31(0x702)]),'admin':_0x30b3b5[_0x80fb31(0x702)],'pushName':_0x1b2a47?.[_0x80fb31(0x10b)],'profilePictureUrl':_0x1b2a47?.[_0x80fb31(0x5b5)]};}),_0x705174[_0x4fb6c3(0x3ae)]=_0xdc0a60[_0x4fb6c3(0x71e)](_0x2e9e65=>{const _0x4bca5b=_0x4fb6c3;let _0x14e72a=_0x1f4cbe[_0x4bca5b(0x757)](_0xa805c1=>_0xa805c1['_id']===_0x2e9e65[_0x4bca5b(0x4cd)]);return{'id':_0x2e9e65[_0x4bca5b(0x4cd)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x14e72a?.['name'],'profilePictureUrl':_0x14e72a?.[_0x4bca5b(0x5b5)],'request_method':_0x2e9e65[_0x4bca5b(0x58c)],'request_time':_0x2e9e65['request_time']};});let _0x53b2ac=await this[_0x4fb6c3(0x465)][_0x4fb6c3(0x1aa)][_0x4fb6c3(0x47d)]({'where':{'_id':_0x8c7e66['groupJid']}},{'imagechat':_0x705174[_0x4fb6c3(0x44a)],'name':_0x705174['subject'],'lastcache':Date[_0x4fb6c3(0x630)](),'groupdata':_0x705174},this['instance'][_0x4fb6c3(0x816)]);return J(this[_0x4fb6c3(0x3af)],_0x4fb6c3(0x4a4),{'chat':_0x53b2ac}),{'metadata':_0x705174};}catch(_0x3a4780){if(_0x2a0e41==='inner')return;throw new j(_0x4fb6c3(0x3f8),_0x3a4780['message'][_0x4fb6c3(0x698)]());}}async[a0_0x36fc91(0x4ea)](){const _0x3e7b6d=a0_0x36fc91;try{this[_0x3e7b6d(0x2ee)][_0x3e7b6d(0x707)](_0x3e7b6d(0x7ce));let _0x1bd6a7=Date[_0x3e7b6d(0x630)](),_0x2b91c2=0x3*0x3c*0x3c*0x3e8;return _0x1bd6a7-this['lastRealGroupsFetch']>_0x2b91c2&&(this['findRealGroups'](),this[_0x3e7b6d(0x867)]=_0x1bd6a7),(await this[_0x3e7b6d(0x465)][_0x3e7b6d(0x1aa)][_0x3e7b6d(0x5cc)]({'where':{'group':!0x0}},this[_0x3e7b6d(0x7ef)][_0x3e7b6d(0x816)]))[_0x3e7b6d(0x71e)](_0x1699b3=>({..._0x1699b3['groupdata'],'groupJid':_0x1699b3?.[_0x3e7b6d(0x21f)],'participants':_0x1699b3?.[_0x3e7b6d(0x5f3)]?.[_0x3e7b6d(0x4cf)]||[],'awaitingApproval':_0x1699b3?.[_0x3e7b6d(0x5f3)]?.[_0x3e7b6d(0x3ae)]||[],'image':_0x1699b3?.['imagechat']}));}catch(_0x2d8f16){let _0x446994=_0x3e7b6d(0x56f),_0x1dca54=_0x2d8f16 instanceof Error?_0x2d8f16['message']:typeof _0x2d8f16=='object'?JSON[_0x3e7b6d(0x3ef)](_0x2d8f16):_0x2d8f16,_0x58aa38=_0x446994+':\x20'+_0x1dca54;throw this[_0x3e7b6d(0x2ee)][_0x3e7b6d(0x844)](this[_0x3e7b6d(0x3af)]+'\x20('+this['instance'][_0x3e7b6d(0x816)]+'):\x20'+_0x58aa38),new j(_0x58aa38);}}async[a0_0x36fc91(0x6c9)](){const _0x4d0a46=a0_0x36fc91;try{this[_0x4d0a46(0x2ee)][_0x4d0a46(0x707)]('Retornando\x20grupos\x20SEM\x20cache');let _0x42a335=[],_0x162f13=await this['client'][_0x4d0a46(0x1b1)](),_0x37f475=Object[_0x4d0a46(0x663)](_0x162f13),_0x1dd7fc=_0x37f475['filter'](_0x5e3b2a=>(0x0,w[_0x4d0a46(0x459)])(_0x5e3b2a?.['id']))['map'](async _0x578eaf=>{const _0x7ef0ae=_0x4d0a46;try{return await this[_0x7ef0ae(0x850)][_0x7ef0ae(0x668)](_0x578eaf['id'],_0x7ef0ae(0x7ec));}catch(_0x2648d5){return this[_0x7ef0ae(0x2ee)][_0x7ef0ae(0x855)](this[_0x7ef0ae(0x3af)]+'\x20('+this[_0x7ef0ae(0x7ef)]['wuid']+_0x7ef0ae(0x634)+_0x578eaf['id']+':\x20'+(_0x2648d5 instanceof Error?_0x2648d5['message']:JSON[_0x7ef0ae(0x3ef)](_0x2648d5,null,0x2))),null;}}),_0x1b7d34=await Promise['all'](_0x1dd7fc);for(let _0x4bb089=0x0;_0x4bb089<_0x37f475[_0x4d0a46(0x6eb)];_0x4bb089++){let _0x286d56=_0x37f475[_0x4bb089];(0x0,w[_0x4d0a46(0x459)])(_0x286d56?.['id'])&&(_0x42a335[_0x4d0a46(0x871)]({'groupJid':_0x286d56?.['id'],'subject':_0x286d56?.['subject'],'subjectOwner':_0x286d56?.[_0x4d0a46(0x328)]?.[_0x4d0a46(0x599)]('@')[0x0],'subjectTime':_0x286d56?.['subjectTime'],'creation':_0x286d56?.[_0x4d0a46(0x501)],'size':_0x286d56?.['participants']?.[_0x4d0a46(0x6eb)],'owner':_0x286d56?.[_0x4d0a46(0x3c6)]?.['split']('@')[0x0],'desc':_0x286d56?.[_0x4d0a46(0x7a0)],'restrict':_0x286d56?.[_0x4d0a46(0x170)],'announce':_0x286d56?.[_0x4d0a46(0x56a)],'image':_0x1b7d34[_0x4bb089],'isCommunity':_0x286d56?.[_0x4d0a46(0x75f)],'joinApprovalMode':_0x286d56?.[_0x4d0a46(0x5cf)],'memberCanAddParticipant':_0x286d56?.['memberAddMode'],'participants':_0x286d56?.[_0x4d0a46(0x4cf)],'descOwner':_0x286d56?.[_0x4d0a46(0x5da)],'descId':_0x286d56?.[_0x4d0a46(0x55b)],'memberAddMode':_0x286d56?.[_0x4d0a46(0x51e)],'isCommunityAnnounce':_0x286d56?.['isCommunityAnnounce'],'ephemeralDuration':_0x286d56?.[_0x4d0a46(0x190)]||0x0,'author':_0x286d56?.['author']}),this[_0x4d0a46(0x358)](_0x37f475[_0x4bb089]));}return _0x42a335;}catch(_0x347c61){let _0x5ba9d0=_0x4d0a46(0x13b),_0x2c54e7=_0x347c61 instanceof Error?_0x347c61[_0x4d0a46(0x142)]:typeof _0x347c61=='object'?JSON['stringify'](_0x347c61):_0x347c61,_0x183899=_0x5ba9d0+':\x20'+_0x2c54e7;throw this['logger'][_0x4d0a46(0x844)](this[_0x4d0a46(0x3af)]+'\x20('+this['instance'][_0x4d0a46(0x816)]+_0x4d0a46(0x651)+_0x183899),new j(_0x183899);}}async[a0_0x36fc91(0x358)](_0xe9f6e){const _0x46c380=a0_0x36fc91;let _0x322836=await this[_0x46c380(0x465)][_0x46c380(0x1aa)][_0x46c380(0x74a)]({'where':{'_id':_0xe9f6e['id']}},this[_0x46c380(0x7ef)][_0x46c380(0x816)]);_0xe9f6e[_0x46c380(0x292)]=_0xe9f6e?.[_0x46c380(0x292)]&&_0xe9f6e[_0x46c380(0x292)][_0x46c380(0x698)]()[_0x46c380(0x6eb)]<0xd?_0xe9f6e?.['subjectTime']*0x3e8:_0xe9f6e?.[_0x46c380(0x292)]||null,_0xe9f6e[_0x46c380(0x501)]=_0xe9f6e?.['creation']&&_0xe9f6e['creation'][_0x46c380(0x698)]()['length']<0xd?_0xe9f6e?.[_0x46c380(0x501)]*0x3e8:_0xe9f6e?.[_0x46c380(0x501)]||null;let _0x47224a=_0x322836?.[_0x46c380(0x5f3)]?.['awaitingApproval']||[],_0x280343=_0x322836?.[_0x46c380(0x5f3)]?.[_0x46c380(0x649)],_0x2b1b9b=_0xe9f6e[_0x46c380(0x4cf)]['map'](_0xf8bc56=>{const _0x4c27ea=_0x46c380;let _0x41e485=_0x322836?.[_0x4c27ea(0x5f3)]?.['participants'][_0x4c27ea(0x757)](_0x24e93b=>_0x24e93b['id']===_0xf8bc56['id']);return{..._0xf8bc56,'isAdmin':[_0x4c27ea(0x702),_0x4c27ea(0x15d)][_0x4c27ea(0x22b)](_0xf8bc56[_0x4c27ea(0x702)]),'admin':_0xf8bc56[_0x4c27ea(0x702)],'name':_0x41e485?.[_0x4c27ea(0x10b)]||_0xf8bc56[_0x4c27ea(0x10b)],'imgUrl':_0x41e485?.[_0x4c27ea(0x227)]||_0xf8bc56[_0x4c27ea(0x227)]};}),_0x2f4211=_0x2b1b9b[_0x46c380(0x869)](_0x51d532=>_0x51d532['id']===this['instance']['wuid']+_0x46c380(0x66e)&&_0x51d532[_0x46c380(0x67a)]),_0x8765db=(!_0xe9f6e[_0x46c380(0x56a)]||_0x2f4211)&&(!_0xe9f6e[_0x46c380(0x75f)]||_0xe9f6e['isCommunity']&&_0xe9f6e[_0x46c380(0x37a)]&&_0x2f4211),_0x43c237={..._0xe9f6e,'participants':_0x2b1b9b,'awaitingApproval':_0x47224a,'lastFetchAwaitingApproval':_0x280343,'isAdmin':_0x2f4211,'canSendMessage':_0x8765db,'lastUpdate':Date['now']()};await this['repository']['chat'][_0x46c380(0x47d)]({'where':{'_id':_0xe9f6e['id']}},{'name':_0xe9f6e[_0x46c380(0x1ee)],'group':!0x0,'groupdata':_0x43c237,'lastcache':Date['now']()},this[_0x46c380(0x7ef)][_0x46c380(0x816)]),J(this[_0x46c380(0x3af)],_0x46c380(0x4a4),{'chat':_0xe9f6e});}async['updateGroupWebhook'](_0x256e90){const _0x12b5b3=a0_0x36fc91;let _0x18504d=await this['repository'][_0x12b5b3(0x1aa)][_0x12b5b3(0x74a)]({'where':{'_id':_0x256e90['id']}},this['instance'][_0x12b5b3(0x816)]);_0x256e90[_0x12b5b3(0x292)]=_0x256e90?.[_0x12b5b3(0x292)]&&_0x256e90[_0x12b5b3(0x292)][_0x12b5b3(0x698)]()[_0x12b5b3(0x6eb)]<0xd?_0x256e90?.[_0x12b5b3(0x292)]*0x3e8:_0x256e90?.['subjectTime']||null,_0x256e90[_0x12b5b3(0x501)]=_0x256e90?.[_0x12b5b3(0x501)]&&_0x256e90[_0x12b5b3(0x501)]['toString']()['length']<0xd?_0x256e90?.['creation']*0x3e8:_0x256e90?.[_0x12b5b3(0x501)]||null,_0x256e90[_0x12b5b3(0x616)]&&(_0x256e90[_0x12b5b3(0x616)]='https://chat.whatsapp.com/'+_0x256e90['inviteCode']);let _0x5d0bbd=_0x18504d?.[_0x12b5b3(0x5f3)]?{..._0x18504d[_0x12b5b3(0x5f3)]}:{};Object[_0x12b5b3(0x448)](_0x256e90)[_0x12b5b3(0x12c)](_0x4ba51d=>{_0x4ba51d!=='id'&&(_0x5d0bbd[_0x4ba51d]=_0x256e90[_0x4ba51d]);});let _0x2fbc95=_0x5d0bbd[_0x12b5b3(0x4cf)]?.[_0x12b5b3(0x869)](_0x4d91b2=>_0x4d91b2['id']===this['instance'][_0x12b5b3(0x816)]+_0x12b5b3(0x66e)&&_0x4d91b2[_0x12b5b3(0x67a)])||!0x1;_0x5d0bbd['isAdmin']=_0x2fbc95;let _0x330875=(!_0x5d0bbd['announce']||_0x2fbc95)&&(!_0x5d0bbd[_0x12b5b3(0x75f)]||_0x5d0bbd[_0x12b5b3(0x75f)]&&_0x5d0bbd[_0x12b5b3(0x37a)]&&_0x2fbc95);_0x5d0bbd[_0x12b5b3(0x4c0)]=_0x330875;let _0x3273ef={'group':!0x0,'groupdata':_0x5d0bbd};_0x256e90[_0x12b5b3(0x1ee)]&&(_0x3273ef[_0x12b5b3(0x10b)]=_0x256e90[_0x12b5b3(0x1ee)]),await this['repository'][_0x12b5b3(0x1aa)][_0x12b5b3(0x47d)]({'where':{'_id':_0x256e90['id']}},_0x3273ef,this[_0x12b5b3(0x7ef)][_0x12b5b3(0x816)],{'upsert':!0x0}),J(this[_0x12b5b3(0x3af)],_0x12b5b3(0x4a4),{'chat':_0x3273ef});}async[a0_0x36fc91(0x7bd)](_0x305776){const _0x25475c=a0_0x36fc91;let _0xf118aa=await this[_0x25475c(0x465)][_0x25475c(0x1aa)][_0x25475c(0x74a)]({'where':{'_id':_0x305776['id']}},this[_0x25475c(0x7ef)][_0x25475c(0x816)]);if(!_0xf118aa||!_0xf118aa[_0x25475c(0x5f3)]){this[_0x25475c(0x2ee)]['info'](this[_0x25475c(0x3af)]+'\x20('+this[_0x25475c(0x7ef)][_0x25475c(0x816)]+'):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20'+_0x305776['id']);return;}let _0x3e8c4a=await this[_0x25475c(0x465)][_0x25475c(0x55a)][_0x25475c(0x837)](_0x305776[_0x25475c(0x4cf)]),_0x14a237=[..._0xf118aa[_0x25475c(0x5f3)]?.[_0x25475c(0x4cf)]];switch(_0x305776[_0x25475c(0x61a)]){case _0x25475c(0x187):let _0x1c5ca6=_0x3e8c4a['map'](_0x45662e=>({'id':_0x45662e[_0x25475c(0x21f)],'isAdmin':!0x1,'name':_0x45662e[_0x25475c(0x10b)],'imgUrl':_0x45662e[_0x25475c(0x5b5)]}));_0x14a237=[..._0x14a237,..._0x1c5ca6];break;case _0x25475c(0x17d):_0x14a237=_0x14a237[_0x25475c(0x125)](_0x3f3824=>!_0x305776[_0x25475c(0x4cf)][_0x25475c(0x22b)](_0x3f3824['id']));break;case _0x25475c(0x23a):case _0x25475c(0x171):_0x14a237=_0x14a237[_0x25475c(0x71e)](_0x1f56b4=>_0x305776[_0x25475c(0x4cf)][_0x25475c(0x22b)](_0x1f56b4['id'])?{..._0x1f56b4,'isAdmin':_0x305776[_0x25475c(0x61a)]===_0x25475c(0x23a)}:_0x1f56b4);break;}let _0x438c32=_0x14a237['length'],_0x4d6cac=_0x14a237[_0x25475c(0x869)](_0x527699=>_0x527699['id']===this[_0x25475c(0x7ef)][_0x25475c(0x816)]+'@s.whatsapp.net'),_0xeaae49=_0x4d6cac&&_0x14a237[_0x25475c(0x869)](_0xea5277=>_0xea5277['id']===this[_0x25475c(0x7ef)][_0x25475c(0x816)]+'@s.whatsapp.net'&&_0xea5277[_0x25475c(0x67a)]),_0x4f3d19=_0x4d6cac&&(!_0xf118aa[_0x25475c(0x5f3)][_0x25475c(0x56a)]||_0xeaae49)&&(!_0xf118aa[_0x25475c(0x5f3)][_0x25475c(0x75f)]||_0xf118aa[_0x25475c(0x5f3)][_0x25475c(0x75f)]&&_0xeaae49);await this[_0x25475c(0x465)]['chat'][_0x25475c(0x47d)]({'where':{'_id':_0x305776['id']}},{'groupdata':{..._0xf118aa[_0x25475c(0x5f3)],'participants':_0x14a237,'size':_0x438c32,'isAdmin':_0xeaae49,'canSendMessage':_0x4f3d19}},this[_0x25475c(0x7ef)][_0x25475c(0x816)]),this[_0x25475c(0x2ee)][_0x25475c(0x707)](this[_0x25475c(0x3af)]+'\x20('+this[_0x25475c(0x7ef)][_0x25475c(0x816)]+_0x25475c(0x295)+_0x305776['id']+_0x25475c(0x529)+_0x305776[_0x25475c(0x61a)]+_0x25475c(0x648)+_0x438c32+_0x25475c(0x7ed)+_0xeaae49+_0x25475c(0x555)+_0x4f3d19);}async[a0_0x36fc91(0x616)](_0x50ff4d,_0x272d0a=!0x0){const _0x332414=a0_0x36fc91;try{let _0xd23458=await this['client'][_0x332414(0x468)](_0x50ff4d[_0x332414(0x817)]),_0xa03d77={'groupdata.inviteCode':'https://chat.whatsapp.com/'+_0xd23458};if(_0x272d0a){let _0x43dab9=await this[_0x332414(0x465)][_0x332414(0x1aa)][_0x332414(0x47d)]({'where':{'_id':_0x50ff4d[_0x332414(0x817)]}},_0xa03d77,this[_0x332414(0x7ef)][_0x332414(0x816)]);}return{'inviteUrl':_0x332414(0x7f7)+_0xd23458,'inviteCode':_0xd23458};}catch(_0x190fa2){let _0x4d7892=_0x332414(0x670),_0x1d90e3=_0x190fa2 instanceof Error?_0x190fa2[_0x332414(0x142)]:typeof _0x190fa2==_0x332414(0x733)?JSON[_0x332414(0x3ef)](_0x190fa2):_0x190fa2,_0x57fc6a=_0x4d7892+':\x20'+_0x1d90e3;throw this[_0x332414(0x2ee)][_0x332414(0x844)](this[_0x332414(0x3af)]+'\x20('+this[_0x332414(0x7ef)][_0x332414(0x816)]+'):\x20'+_0x57fc6a),new j(_0x57fc6a);}}async[a0_0x36fc91(0x735)](_0x55989f){const _0x5f1f4e=a0_0x36fc91;try{let _0x1f39c9=await this['client'][_0x5f1f4e(0x299)](_0x55989f[_0x5f1f4e(0x817)]);return{'revoked':!0x0,'inviteUrl':_0x5f1f4e(0x7f7)+_0x1f39c9,'inviteCode':_0x1f39c9};}catch(_0x4920e6){let _0x5b7b0e=_0x5f1f4e(0x83f),_0x81033c=_0x4920e6 instanceof Error?_0x4920e6[_0x5f1f4e(0x142)]:typeof _0x4920e6=='object'?JSON[_0x5f1f4e(0x3ef)](_0x4920e6):_0x4920e6,_0x26e7a7=_0x5b7b0e+':\x20'+_0x81033c;throw this[_0x5f1f4e(0x2ee)]['error'](this[_0x5f1f4e(0x3af)]+'\x20('+this[_0x5f1f4e(0x7ef)][_0x5f1f4e(0x816)]+_0x5f1f4e(0x651)+_0x26e7a7),new j(_0x26e7a7);}}async[a0_0x36fc91(0x15c)](_0x2ab8b2){const _0x4b8471=a0_0x36fc91;try{if((0x0,k['isURL'])(_0x2ab8b2['inviteCode']))var _0x5a0bff=_0x2ab8b2[_0x4b8471(0x616)][_0x4b8471(0x599)]('/')[0x3];else var _0x5a0bff=_0x2ab8b2['inviteCode'];let _0x311c57=await this[_0x4b8471(0x850)][_0x4b8471(0x431)](_0x5a0bff);return this['logger'][_0x4b8471(0x855)](this[_0x4b8471(0x3af)]+'\x20('+this[_0x4b8471(0x7ef)][_0x4b8471(0x816)]+_0x4b8471(0x651)+_0x311c57),{'join':!0x0,'inviteCode':_0x5a0bff,'groupJid':_0x311c57};}catch(_0xc6ac93){let _0x48fff0=_0x4b8471(0x473),_0x10ca26=_0xc6ac93 instanceof Error?_0xc6ac93[_0x4b8471(0x142)]:typeof _0xc6ac93=='object'?JSON[_0x4b8471(0x3ef)](_0xc6ac93):_0xc6ac93,_0x5a2ca3=_0x48fff0+':\x20'+_0x10ca26;throw this[_0x4b8471(0x2ee)]['error'](this[_0x4b8471(0x3af)]+'\x20('+this['instance'][_0x4b8471(0x816)]+_0x4b8471(0x651)+_0x5a2ca3),new j(_0x5a2ca3);}}async[a0_0x36fc91(0x6c4)](_0x56e0be){const _0x5d28b1=a0_0x36fc91;try{return{'participants':(await this['repository'][_0x5d28b1(0x1aa)][_0x5d28b1(0x74a)]({'where':{'_id':_0x56e0be[_0x5d28b1(0x817)]}},this[_0x5d28b1(0x7ef)][_0x5d28b1(0x816)]))[_0x5d28b1(0x5f3)][_0x5d28b1(0x4cf)]};}catch(_0x39807a){let _0x37a60e='Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants',_0x969361=_0x39807a instanceof Error?_0x39807a[_0x5d28b1(0x142)]:typeof _0x39807a==_0x5d28b1(0x733)?JSON[_0x5d28b1(0x3ef)](_0x39807a):_0x39807a,_0x20fbd9=_0x37a60e+':\x20'+_0x969361;throw this[_0x5d28b1(0x2ee)][_0x5d28b1(0x844)](this[_0x5d28b1(0x3af)]+'\x20('+this[_0x5d28b1(0x7ef)][_0x5d28b1(0x816)]+_0x5d28b1(0x651)+_0x20fbd9),new j(_0x20fbd9);}}async[a0_0x36fc91(0x380)](_0x47179a){const _0x4297d5=a0_0x36fc91;try{return await this[_0x4297d5(0x850)][_0x4297d5(0x43a)](_0x47179a[_0x4297d5(0x817)]),{'groupJid':_0x47179a[_0x4297d5(0x817)],'leave':!0x0};}catch(_0x206a6d){let _0x50052e=_0x4297d5(0x5e1),_0x3a9d9b=_0x206a6d instanceof Error?_0x206a6d[_0x4297d5(0x142)]:typeof _0x206a6d==_0x4297d5(0x733)?JSON['stringify'](_0x206a6d):_0x206a6d,_0x553ea3=_0x50052e+':\x20'+_0x3a9d9b;throw this[_0x4297d5(0x2ee)][_0x4297d5(0x844)](this[_0x4297d5(0x3af)]+'\x20('+this[_0x4297d5(0x7ef)][_0x4297d5(0x816)]+_0x4297d5(0x651)+_0x553ea3),new m(_0x553ea3);}}async['pollMessage'](_0x1115d6){const _0x301e60=a0_0x36fc91;return await this[_0x301e60(0x27e)](_0x1115d6[_0x301e60(0x429)],{'poll':{'name':_0x1115d6[_0x301e60(0x3f1)]?.['name'],'selectableCount':_0x1115d6[_0x301e60(0x3f1)][_0x301e60(0x288)],'values':_0x1115d6[_0x301e60(0x3f1)][_0x301e60(0x663)]}},_0x1115d6?.[_0x301e60(0x693)]);}async[a0_0x36fc91(0x65a)](_0x53be78){const _0x1c5d72=a0_0x36fc91;return await this['sendMessageWithTyping'](_0x53be78[_0x1c5d72(0x429)],{'listMessage':{'title':_0x53be78['listMessage']['title'],'description':_0x53be78[_0x1c5d72(0x65a)][_0x1c5d72(0x3a7)],'buttonText':_0x53be78[_0x1c5d72(0x65a)]?.[_0x1c5d72(0x478)],'footerText':_0x53be78[_0x1c5d72(0x65a)]?.[_0x1c5d72(0x72f)],'sections':_0x53be78[_0x1c5d72(0x65a)][_0x1c5d72(0x6a7)],'listType':0x2}},_0x53be78?.['options']);}async['menuMessage'](_0x40e283){const _0x47cf82=a0_0x36fc91;let _0x41d0ec;if(_0x40e283['menuMessage']['type']===_0x47cf82(0x363)){let _0x46ce8e=_0x40e283[_0x47cf82(0x5c7)][_0x47cf82(0x76e)][_0x47cf82(0x1b6)]('\x0a'),_0x415d88='',_0x40723d='';_0x46ce8e!==-0x1?(_0x415d88=_0x40e283[_0x47cf82(0x5c7)][_0x47cf82(0x76e)]['substring'](0x0,_0x46ce8e)['trim'](),_0x40723d=_0x40e283['menuMessage'][_0x47cf82(0x76e)]['substring'](_0x46ce8e+0x1)):_0x40723d=_0x40e283[_0x47cf82(0x5c7)][_0x47cf82(0x76e)];let _0x55965e=_0x40e283[_0x47cf82(0x5c7)][_0x47cf82(0x56d)][_0x47cf82(0x125)](_0x26ba36=>_0x26ba36[_0x47cf82(0x821)]()!==''),_0x438238=this[_0x47cf82(0x5ac)](_0x55965e);_0x41d0ec={'listMessage':{'title':_0x415d88,'description':_0x40723d,'buttonText':_0x40e283[_0x47cf82(0x5c7)]['buttonText']||_0x47cf82(0x7b8),'footerText':_0x40e283[_0x47cf82(0x5c7)]['footerText'],'sections':_0x438238,'listType':0x2}};}else{if(_0x40e283[_0x47cf82(0x5c7)][_0x47cf82(0x1ef)]==='poll'){let _0x5e7ab1=_0x40e283[_0x47cf82(0x5c7)][_0x47cf82(0x56d)][_0x47cf82(0x125)](_0x3d0792=>!(_0x3d0792[_0x47cf82(0x368)]('[')&&_0x3d0792[_0x47cf82(0x4e8)](']'))&&_0x3d0792[_0x47cf82(0x821)]()!=='')[_0x47cf82(0x71e)](_0x504b1f=>_0x504b1f[_0x47cf82(0x599)]('\x0a')[0x0]);_0x41d0ec={'poll':{'name':_0x40e283[_0x47cf82(0x5c7)][_0x47cf82(0x76e)],'selectableCount':_0x40e283[_0x47cf82(0x5c7)]['selectableCount']||0x1,'values':_0x5e7ab1}};}}return await this[_0x47cf82(0x27e)](_0x40e283['number'],_0x41d0ec,_0x40e283?.[_0x47cf82(0x693)]);}[a0_0x36fc91(0x5ac)](_0x1c6db3){const _0x79830=a0_0x36fc91;let _0x2880e5=[],_0x1dfeef={'rows':[]};return _0x1c6db3[_0x79830(0x12c)](_0x2b67a0=>{const _0x1fbc97=_0x79830;if(_0x2b67a0[_0x1fbc97(0x368)]('[')&&_0x2b67a0[_0x1fbc97(0x4e8)](']'))_0x1dfeef[_0x1fbc97(0x736)][_0x1fbc97(0x6eb)]>0x0&&_0x2880e5[_0x1fbc97(0x871)](_0x1dfeef),_0x1dfeef={'title':_0x2b67a0['slice'](0x1,-0x1),'rows':[]};else{let _0x51783f=_0x2b67a0[_0x1fbc97(0x599)]('\x0a')[_0x1fbc97(0x71e)](_0x5eaf98=>_0x5eaf98[_0x1fbc97(0x821)]()),_0x3a4b90=_0x51783f[0x0],_0x221c58=_0x51783f[0x1]||null,_0x1b4e3d=_0x51783f[0x2]||_0x3a4b90;_0x1dfeef[_0x1fbc97(0x736)][_0x1fbc97(0x871)]({'title':_0x3a4b90,'description':_0x221c58,'rowId':_0x1b4e3d});}}),_0x1dfeef[_0x79830(0x736)]['length']>0x0&&_0x2880e5[_0x79830(0x871)](_0x1dfeef),_0x2880e5;}async[a0_0x36fc91(0x7a9)](_0x5e1617,_0x51d915){const _0x233e29=a0_0x36fc91;if(await this[_0x233e29(0x280)](_0x5e1617,!0x0)){let _0x36d16d={'where':{'_id':_0x5e1617['id']}},_0x465012={'status':[_0x51d915[_0x233e29(0x166)]][0x0]};try{let _0x19089e=await this['repository'][_0x233e29(0x142)][_0x233e29(0x3d8)](_0x36d16d,_0x465012,this[_0x233e29(0x7ef)][_0x233e29(0x816)]);_0x19089e&&J(this[_0x233e29(0x3af)],_0x233e29(0x2ea),{'message':_0x19089e});}catch{}}}[a0_0x36fc91(0x835)](_0x3369de){const _0x137737=a0_0x36fc91;let _0x179c61=[];return _0x3369de['forEach'](_0x2aed99=>{const _0x19bc1a=a0_0x19ac;_0x2aed99[_0x19bc1a(0x5d3)]&&_0x179c61['push']('['+_0x2aed99['title']+']'),_0x2aed99['rows'][_0x19bc1a(0x12c)](_0x149b1c=>{const _0x4a3968=_0x19bc1a;_0x179c61[_0x4a3968(0x871)](_0x149b1c[_0x4a3968(0x5d3)]);});}),_0x179c61[_0x137737(0x1f8)]('|');}[a0_0x36fc91(0x4ef)](_0x1415b8){const _0x111d7e=a0_0x36fc91;let _0x2ecc7=_0x1415b8[_0x111d7e(0x6fe)](/\\n/g,'\x0a')[_0x111d7e(0x599)]('\x0a')[_0x111d7e(0x125)](_0xc0b9=>_0xc0b9[_0x111d7e(0x22b)](_0x111d7e(0x40b))||_0xc0b9[_0x111d7e(0x22b)](_0x111d7e(0x7fa))),_0x135806='';return _0x2ecc7[_0x111d7e(0x12c)](_0x131aeb=>{const _0x59549e=_0x111d7e;let _0x549c23=/TEL(?:.*):(.+)/,_0x46c7fb=/EMAIL(?:.*):(.+)/,_0x2ba49a=_0x131aeb['match'](_0x549c23),_0x5a1659=_0x131aeb[_0x59549e(0x1db)](_0x46c7fb);if(_0x2ba49a){let _0x426929=_0x2ba49a[0x1]['replace'](/-| |\+|\(|\)/g,'')[_0x59549e(0x821)]();_0x135806+=_0x59549e(0x724)+_0x426929+'\x0a';}else{if(_0x5a1659){let _0xf0a19f=_0x5a1659[0x1][_0x59549e(0x821)]();_0x135806+='E-mail:\x20'+_0xf0a19f+'\x0a';}}}),_0x135806[_0x111d7e(0x821)]();}async['updateChatWithMessage'](_0x1b3d7d,_0x5f164b,_0x39c9ad,_0x4c0814=null){const _0xa77959=a0_0x36fc91;if(_0x1b3d7d['ENABLED'])try{let _0x2ec865=_0x5f164b[_0xa77959(0x39c)][_0xa77959(0x370)][_0xa77959(0x6fe)](/:\d{1,2}@/g,'@'),_0x3e0cb9=_0x5f164b[_0xa77959(0x39c)][_0xa77959(0x4b7)],_0x148f94=_0x2ec865[_0xa77959(0x4e8)](_0xa77959(0x758)),_0xed6cb3=_0x5f164b[_0xa77959(0x3c8)]?.[_0xa77959(0x6fe)](/:\d{1,2}@/g,'@')||'',_0x190efe=_0x5f164b['message_normalized']?.[_0xa77959(0x76e)]||_0x5f164b[_0xa77959(0x598)]?.[_0xa77959(0x7ae)]||_0x5f164b[_0xa77959(0x598)]?.[_0xa77959(0x495)]||_0x5f164b[_0xa77959(0x598)]?.['name']||'',_0x49e363={'_id':_0x5f164b['_id'],'remoteJid':_0x3e0cb9?this['instance'][_0xa77959(0x816)]:_0x148f94?_0xed6cb3:_0x2ec865,'pushName':_0x3e0cb9?this[_0xa77959(0x7ef)][_0xa77959(0x70a)]||'Eu':_0x5f164b[_0xa77959(0x3b6)],'text':_0x190efe,'type':_0x5f164b[_0xa77959(0x2e7)],'when':_0x5f164b['messageTimestamp']||Date[_0xa77959(0x630)]()};_0x4c0814||(_0x4c0814=await this[_0xa77959(0x465)][_0xa77959(0x1aa)][_0xa77959(0x74a)]({'where':{'_id':_0x2ec865}},this['instance']['wuid']));let _0x41bd23=_0x4c0814?_0x3e0cb9?_0x4c0814[_0xa77959(0x281)]:(_0x4c0814[_0xa77959(0x281)]||0x0)+0x1:_0x3e0cb9?0x0:0x1,_0x5acfcd={'lastmsg':_0x5f164b[_0xa77959(0x3e1)]||Date[_0xa77959(0x630)](),'ephemeralExpiration':_0x5f164b[_0xa77959(0x584)],'lastMessage':_0x49e363,'unreadcount':_0x41bd23,..._0x3e0cb9||_0x148f94?{}:{'name':_0x5f164b[_0xa77959(0x3b6)]},..._0x148f94?{'group':_0x148f94}:{},...!_0x3e0cb9&&!_0x148f94&&_0x5f164b[_0xa77959(0x668)]?{'imagechat':_0x5f164b['profilePictureUrl']}:{}};if(!_0x148f94&&(!_0x4c0814?.['leadInfo']||!_0x4c0814[_0xa77959(0x1e2)]['nome'])&&_0x5f164b[_0xa77959(0x3b6)]&&!_0x3e0cb9&&(_0x5acfcd={..._0x5acfcd,'leadInfo.nome':_0x5f164b['pushName']}),_0x4c0814?.[_0xa77959(0x1e2)]['etiquetas']||(_0x5acfcd={..._0x5acfcd,'leadInfo.etiquetas':[]}),_0x4c0814?.[_0xa77959(0x1e2)][_0xa77959(0x64b)]||(_0x5acfcd={..._0x5acfcd,'leadInfo.customFields':[]}),_0x4c0814?.[_0xa77959(0x1e2)][_0xa77959(0x5dd)]||(_0x5acfcd={..._0x5acfcd,'leadInfo.tags':[]}),_0x4c0814&&_0x4c0814?.[_0xa77959(0x251)]){let _0x5d6a57=await this[_0xa77959(0x465)]['label'][_0xa77959(0x757)]({'where':{}},this[_0xa77959(0x7ef)]['wuid']),_0x4fa717=new Set(_0x5d6a57['map'](_0x4df683=>_0x4df683[_0xa77959(0x21f)])),_0x30711b=(_0x4c0814[_0xa77959(0x1e2)]?.[_0xa77959(0x462)]||[])[_0xa77959(0x125)](_0x18ab2d=>_0x4fa717[_0xa77959(0x4e2)](_0x18ab2d));_0x5acfcd={..._0x5acfcd,'imported':!0x1,'leadInfo.etiquetas':_0x30711b};for(let _0x37096c of _0x30711b)await this['AddChatLabel'](_0x37096c,_0x2ec865);}if(!this['AutomateSystem'][_0xa77959(0x329)][_0xa77959(0x757)](_0x4ccb62=>_0x4ccb62['startCommand']&&_0x190efe['includes'](_0x4ccb62[_0xa77959(0x174)]))&&_0x39c9ad==='MESSAGES_UPSERT'&&_0x3e0cb9&&this['AutomateSystem']?.[_0xa77959(0x866)]['enabled']&&_0x190efe[_0xa77959(0x821)]()!==this['AutomateSystem']?.['flowConfig']['stopConversation'][_0xa77959(0x821)]()){let _0x41a3f8=(this[_0xa77959(0x669)]?.[_0xa77959(0x866)]['stopWhenYouSendMsg']||0x0)*0xea60,_0x4fa915=Date[_0xa77959(0x630)]()+_0x41a3f8;_0x4c0814?.['leadInfo']?.[_0xa77959(0x504)]===0x0||(_0x5acfcd={..._0x5acfcd,'leadInfo.desativadoFluxoAte':_0x4fa915},this[_0xa77959(0x2ee)]['verbose'](this[_0xa77959(0x3af)]+'\x20('+this[_0xa77959(0x7ef)][_0xa77959(0x816)]+_0xa77959(0x16e)+_0x4fa915+'.'));}if(_0x190efe['trim']()===this[_0xa77959(0x669)]?.[_0xa77959(0x866)][_0xa77959(0x156)]['trim']()){this[_0xa77959(0x2ee)]['verbose'](this[_0xa77959(0x3af)]+'\x20('+this[_0xa77959(0x7ef)]['wuid']+_0xa77959(0x813)+_0x190efe);let _0x21488e=Date['now']();this[_0xa77959(0x669)]?.[_0xa77959(0x866)][_0xa77959(0x645)]===0x0?_0x5acfcd={..._0x5acfcd,'leadInfo.desativadoFluxoAte':_0x21488e+0x7591f6200}:_0x5acfcd={..._0x5acfcd,'leadInfo.desativadoFluxoAte':_0x21488e+this[_0xa77959(0x669)]?.[_0xa77959(0x866)][_0xa77959(0x645)]*0x3c*0x3e8};}if(_0x4c0814=await this[_0xa77959(0x465)][_0xa77959(0x1aa)][_0xa77959(0x47d)]({'where':{'_id':_0x2ec865}},_0x5acfcd,this[_0xa77959(0x7ef)][_0xa77959(0x816)],{'new':!0x0,'upsert':!0x0}),_0x4c0814)J(this[_0xa77959(0x3af)],_0xa77959(0x4a4),{'chat':_0x4c0814});else{this[_0xa77959(0x2ee)][_0xa77959(0x844)](this[_0xa77959(0x3af)]+'\x20('+this[_0xa77959(0x7ef)][_0xa77959(0x816)]+'):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat');return;}if(_0x3e0cb9)return this['logger']['verbose'](this[_0xa77959(0x3af)]+'\x20('+this[_0xa77959(0x7ef)][_0xa77959(0x816)]+'):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...'),null;if(!this['AutomateSystem']?.[_0xa77959(0x866)][_0xa77959(0x2c4)])return this[_0xa77959(0x2ee)][_0xa77959(0x855)](this['instanceName']+'\x20('+this[_0xa77959(0x7ef)][_0xa77959(0x816)]+'):\x20Flow\x20desativado'),null;if(_0x4c0814['_id']['includes'](_0xa77959(0x758))&&this['AutomateSystem']?.[_0xa77959(0x866)]['ignoreGroups']===!0x0)return this['logger'][_0xa77959(0x855)](this['instanceName']+'\x20('+this[_0xa77959(0x7ef)]['wuid']+_0xa77959(0x73d)),null;if(_0x4c0814[_0xa77959(0x1e2)]){if(_0x4c0814[_0xa77959(0x1e2)]['desativadoFluxoAte']===0x0||_0x4c0814[_0xa77959(0x1e2)]['atendimentoAberto'])return this['logger'][_0xa77959(0x855)](this[_0xa77959(0x3af)]+'\x20('+this[_0xa77959(0x7ef)][_0xa77959(0x816)]+_0xa77959(0x2ca)+_0x2ec865+_0xa77959(0x62f)),null;if(_0x4c0814['leadInfo']['desativadoFluxoAte']>Date[_0xa77959(0x630)]()&&!_0x5f164b[_0xa77959(0x598)]?.[_0xa77959(0x495)])return this[_0xa77959(0x2ee)][_0xa77959(0x855)](this[_0xa77959(0x3af)]+'\x20('+this[_0xa77959(0x7ef)][_0xa77959(0x816)]+_0xa77959(0x12f)+new Date(_0x4c0814['leadInfo'][_0xa77959(0x504)])[_0xa77959(0x33b)]()+_0xa77959(0x62f)),null;}this[_0xa77959(0x2ee)][_0xa77959(0x855)](this[_0xa77959(0x3af)]+'\x20('+this[_0xa77959(0x7ef)]['wuid']+_0xa77959(0x57c)),this['StartBot'](_0x5f164b,_0x39c9ad);}catch(_0x3d6cbd){let _0x3417ac=_0xa77959(0x4b4),_0x2704a7=_0x3d6cbd instanceof Error?_0x3d6cbd[_0xa77959(0x142)]:typeof _0x3d6cbd=='object'?JSON[_0xa77959(0x3ef)](_0x3d6cbd):_0x3d6cbd,_0x186f69=_0x3417ac+':\x20'+_0x2704a7;return this[_0xa77959(0x2ee)]['error'](this[_0xa77959(0x3af)]+'\x20('+this[_0xa77959(0x7ef)][_0xa77959(0x816)]+_0xa77959(0x651)+_0x186f69),null;}}async[a0_0x36fc91(0x238)](_0x45dd9d,_0x4060f9){const _0x4ab569=a0_0x36fc91;if(_0x4060f9['ENABLED']){let _0x242866=_0x45dd9d['map'](async _0x19818e=>{const _0x106c6f=a0_0x19ac;try{let _0x2e96dd={'_id':_0x19818e[_0x106c6f(0x21f)],'owner':_0x19818e[_0x106c6f(0x3c6)],'lastcache':0x0};if(Object[_0x106c6f(0x448)](_0x19818e)[_0x106c6f(0x12c)](_0x150436=>{_0x19818e[_0x150436]!==null&&(_0x2e96dd[_0x150436]=_0x19818e[_0x150436]);}),_0x2e96dd[_0x106c6f(0x78e)]===null&&(_0x2e96dd['imagechat']=_0x106c6f(0x874)),Object[_0x106c6f(0x448)](_0x2e96dd)[_0x106c6f(0x6eb)]>0x0)return await this[_0x106c6f(0x465)]['chat']['updateOne']({'where':{'_id':_0x19818e[_0x106c6f(0x21f)]}},_0x2e96dd,this[_0x106c6f(0x7ef)]['wuid']);}catch(_0x34b468){let _0x26c0b3=_0x106c6f(0x37b)+_0x19818e[_0x106c6f(0x21f)],_0x5d3966=_0x34b468 instanceof Error?_0x34b468[_0x106c6f(0x142)]:typeof _0x34b468==_0x106c6f(0x733)?JSON[_0x106c6f(0x3ef)](_0x34b468):_0x34b468,_0x1f7b97=_0x26c0b3+':\x20'+_0x5d3966;return this[_0x106c6f(0x2ee)][_0x106c6f(0x844)](this[_0x106c6f(0x3af)]+'\x20('+this[_0x106c6f(0x7ef)]['wuid']+_0x106c6f(0x651)+_0x1f7b97),null;}}),_0x39e3e0=(await Promise['all'](_0x242866))[_0x4ab569(0x125)](_0x3ea217=>_0x3ea217!==null)[_0x4ab569(0x6eb)];this[_0x4ab569(0x2ee)][_0x4ab569(0x855)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4ab569(0x651)+_0x39e3e0+_0x4ab569(0x5aa)+this[_0x4ab569(0x7ef)][_0x4ab569(0x816)]+_0x4ab569(0x2cf));}}async[a0_0x36fc91(0x67e)](_0x23e2b8){const _0x177c9b=a0_0x36fc91;this[_0x177c9b(0x2ee)]['verbose'](this[_0x177c9b(0x3af)]+'\x20('+this[_0x177c9b(0x7ef)][_0x177c9b(0x816)]+'):\x20Ler\x20mensagem');let _0x282b5c={'readMessages':[{'remoteJid':_0x23e2b8[_0x177c9b(0x4c6)][_0x177c9b(0x7f5)][_0x177c9b(0x39c)][_0x177c9b(0x370)],'fromMe':_0x23e2b8[_0x177c9b(0x4c6)][_0x177c9b(0x7f5)][_0x177c9b(0x39c)][_0x177c9b(0x4b7)],'id':_0x23e2b8[_0x177c9b(0x4c6)][_0x177c9b(0x7f5)][_0x177c9b(0x39c)]['id']}]};await this[_0x177c9b(0x6b0)](_0x282b5c);}async[a0_0x36fc91(0x746)](_0x208f40,_0x38254f){const _0x4a126f=a0_0x36fc91;try{let {key:_0x8eb1e8,message_normalized:_0x1ee95c}=_0x208f40,_0x376aa0=_0x1ee95c,_0x34b09a=_0x1ee95c[_0x4a126f(0x76e)]||_0x1ee95c['caption']||_0x1ee95c['vote']||_0x1ee95c['name']||'',_0x28f6b3=_0x8eb1e8[_0x4a126f(0x370)],_0x2b9f62=null,_0x23e897=this[_0x4a126f(0x669)]['flows'][_0x4a126f(0x757)](_0x5de33f=>_0x5de33f[_0x4a126f(0x174)]&&_0x34b09a[_0x4a126f(0x22b)](_0x5de33f[_0x4a126f(0x174)]));if(_0x23e897&&_0x38254f==='MESSAGES_UPSERT'){let _0xb6b631=await this[_0x4a126f(0x465)][_0x4a126f(0x419)][_0x4a126f(0x74a)]({'where':{'_id':_0x23e897[_0x4a126f(0x21f)]}});if(this['logger']['verbose'](this[_0x4a126f(0x3af)]+'\x20('+this['instance'][_0x4a126f(0x816)]+_0x4a126f(0x5bf)),_0xb6b631&&_0xb6b631[_0x4a126f(0x763)]?.[_0x4a126f(0x22b)](this[_0x4a126f(0x7ef)][_0x4a126f(0x816)]))_0x2b9f62=await this[_0x4a126f(0x532)](_0xb6b631,_0x8eb1e8,_0x376aa0);else return this[_0x4a126f(0x2ee)][_0x4a126f(0x855)](this[_0x4a126f(0x3af)]+'\x20('+this[_0x4a126f(0x7ef)][_0x4a126f(0x816)]+_0x4a126f(0x732)),null;}else this[_0x4a126f(0x2ee)][_0x4a126f(0x855)](this[_0x4a126f(0x3af)]+'\x20('+this[_0x4a126f(0x7ef)][_0x4a126f(0x816)]+_0x4a126f(0x13f));if(_0x2b9f62=await this[_0x4a126f(0x463)](_0x28f6b3,_0x376aa0),_0x2b9f62){this[_0x4a126f(0x2ee)][_0x4a126f(0x855)](this[_0x4a126f(0x3af)]+'\x20('+this[_0x4a126f(0x7ef)]['wuid']+_0x4a126f(0x3a0)),!_0x8eb1e8[_0x4a126f(0x4b7)]&&_0x2b9f62[_0x4a126f(0x24c)]&&this['readMessageBot'](_0x2b9f62);let _0x45bb67=await this[_0x4a126f(0x4d9)](_0x2b9f62);_0x45bb67&&await this[_0x4a126f(0x507)](_0x2b9f62,_0x45bb67);}}catch(_0x1f3210){this[_0x4a126f(0x2ee)][_0x4a126f(0x844)](this[_0x4a126f(0x3af)]+'\x20('+this['instance']['wuid']+_0x4a126f(0x544)+(_0x1f3210 instanceof Error?_0x1f3210[_0x4a126f(0x142)]:JSON[_0x4a126f(0x3ef)](_0x1f3210,null,0x2)));}}['flattenObject'](_0x136981,_0x1a8d73='',_0x2ce37d={}){return typeof _0x136981!='object'||_0x136981===null?(_0x1a8d73&&(_0x2ce37d[_0x1a8d73]=_0x136981),_0x2ce37d):(Object['entries'](_0x136981)['forEach'](([_0x204cbf,_0x2c5fcf])=>{const _0xee370c=a0_0x19ac;let _0x2c444e=_0x1a8d73?_0x1a8d73+'.'+_0x204cbf:'_'+_0x204cbf;Array[_0xee370c(0x484)](_0x2c5fcf)?_0x2c5fcf[_0xee370c(0x12c)]((_0x28288a,_0x2277cb)=>{const _0x5c4027=_0xee370c;this[_0x5c4027(0x11c)](_0x28288a,_0x2c444e+'['+_0x2277cb+']',_0x2ce37d);}):typeof _0x2c5fcf==_0xee370c(0x733)&&_0x2c5fcf!==null?this['flattenObject'](_0x2c5fcf,_0x2c444e,_0x2ce37d):_0x2ce37d[_0x2c444e]=String(_0x2c5fcf);}),_0x2ce37d);}[a0_0x36fc91(0x32a)](_0x42ac5c){const _0x11c7de=a0_0x36fc91;let _0x3fd480={};for(let _0x3af2c6 of _0x42ac5c)typeof _0x3af2c6['name']==_0x11c7de(0x2c1)&&typeof _0x3af2c6['value']=='string'&&(_0x3fd480[_0x3af2c6[_0x11c7de(0x10b)]]=_0x3af2c6[_0x11c7de(0x247)]);return _0x3fd480;}async[a0_0x36fc91(0x4d9)](_0x477206){const _0x4d84a1=a0_0x36fc91;if(!this[_0x4d84a1(0x669)]?.['flowConfig'][_0x4d84a1(0x2c4)]||_0x477206[_0x4d84a1(0x166)]!==_0x4d84a1(0x4fc)&&_0x477206[_0x4d84a1(0x75b)]==='')return null;let _0x26317c=_0x477206[_0x4d84a1(0x4c6)][_0x4d84a1(0x779)]||'start';typeof _0x477206[_0x4d84a1(0x4c6)][_0x4d84a1(0x808)]>'u'&&(_0x477206[_0x4d84a1(0x4c6)][_0x4d84a1(0x808)]=!0x0);let _0xe611d0=_0x477206['chatLog'][_0x4d84a1(0x808)];this[_0x4d84a1(0x2ee)][_0x4d84a1(0x855)](this[_0x4d84a1(0x3af)]+'\x20('+this[_0x4d84a1(0x7ef)][_0x4d84a1(0x816)]+_0x4d84a1(0x592)+_0x26317c+_0x4d84a1(0x519)+_0xe611d0);let _0x214d44=_0x26317c===_0x4d84a1(0x6ce)?_0x477206[_0x4d84a1(0x6aa)][_0x4d84a1(0x757)](_0x98007a=>_0x98007a[_0x4d84a1(0x1ef)]===_0x4d84a1(0x6ce)):_0x477206['blocks']['find'](_0x57022c=>_0x57022c[_0x4d84a1(0x21f)][_0x4d84a1(0x698)]()===_0x26317c['toString']());if(!_0x214d44)return this['logger'][_0x4d84a1(0x844)](this[_0x4d84a1(0x3af)]+'\x20('+this[_0x4d84a1(0x7ef)]['wuid']+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x26317c),null;let _0x1bf400={'_pushName':_0x477206?.[_0x4d84a1(0x4c6)]?.[_0x4d84a1(0x7f5)]?.['pushName']||'','_sender':this[_0x4d84a1(0x7ef)][_0x4d84a1(0x816)]||'',..._0x477206[_0x4d84a1(0x4c6)][_0x4d84a1(0x31b)]},_0x3b2b4c=null;if(_0x477206['waitingMenu_id']){let _0x1acf16=_0x477206[_0x4d84a1(0x4c6)]['lastReceivedMessage']['vote'],_0x20b24e=_0x477206[_0x4d84a1(0x59d)][_0x4d84a1(0x757)](_0xbfe31c=>_0xbfe31c['option']===_0x1acf16);if(_0x20b24e){let _0x13caf3=_0x20b24e[_0x4d84a1(0x80d)];if(_0x3b2b4c=_0x477206[_0x4d84a1(0x6aa)][_0x4d84a1(0x757)](_0x104c13=>_0x104c13['groupId']===_0x13caf3&&_0x104c13[_0x4d84a1(0x1a1)]===0x1),_0x214d44[_0x4d84a1(0x2b0)][_0x4d84a1(0x627)]){let _0x1bf4c2={'id':_0x477206[_0x4d84a1(0x75b)],'remoteJid':_0x477206[_0x4d84a1(0x370)],'fromMe':!0x0};await this['deleteMessage'](_0x1bf4c2);}if(_0x214d44['uazapi'][_0x4d84a1(0x627)]&&_0x214d44[_0x4d84a1(0x2b0)][_0x4d84a1(0x3f0)]&&_0x214d44['uazapi'][_0x4d84a1(0x338)]===_0x4d84a1(0x2fe)){let _0x20562b={'number':_0x477206[_0x4d84a1(0x370)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x477206[_0x4d84a1(0x51a)]+_0x4d84a1(0x6cf)+_0x1acf16}};await this[_0x4d84a1(0x3bd)](_0x20562b);}_0x477206[_0x4d84a1(0x166)]=_0x4d84a1(0x4fc),_0x477206['waitingMenu_id']='',_0x477206[_0x4d84a1(0x51a)]='',_0x477206[_0x4d84a1(0x59d)]=[];}else{this[_0x4d84a1(0x2ee)][_0x4d84a1(0x855)](this[_0x4d84a1(0x3af)]+'\x20('+this[_0x4d84a1(0x7ef)][_0x4d84a1(0x816)]+_0x4d84a1(0x7d6));let _0x4ae8d5={'activatedCount':_0x477206[_0x4d84a1(0x4c6)][_0x4d84a1(0x777)]['filter'](_0x594e7c=>String(_0x594e7c[_0x4d84a1(0x306)])===String(_0x26317c))['length'],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x214d44[_0x4d84a1(0x2b0)][_0x4d84a1(0x2f3)]){let _0x34cec1={'number':_0x477206[_0x4d84a1(0x370)],'options':{'delay':0x0},'textMessage':{'text':_0x214d44[_0x4d84a1(0x2b0)][_0x4d84a1(0x2f3)]}};await this[_0x4d84a1(0x3bd)](_0x34cec1);}if(_0x214d44[_0x4d84a1(0x47c)]!==void 0x0&&_0x4ae8d5['activatedCount']>=_0x214d44[_0x4d84a1(0x47c)]){let _0x5f1d0f=Date[_0x4d84a1(0x630)](),_0x5e75c7=_0x214d44[_0x4d84a1(0x4d4)]??0xa;isNaN(_0x5e75c7)&&(_0x5e75c7=0xa);let _0x2d72a5=_0x5f1d0f+_0x5e75c7*0x3c*0x3e8;_0x4ae8d5[_0x4d84a1(0x7ba)]=_0x2d72a5,_0x4ae8d5[_0x4d84a1(0x48c)][_0x4d84a1(0x871)](_0x4d84a1(0x859)),this[_0x4d84a1(0x6a2)](_0x477206,_0x2d72a5),_0x477206['waitingMenu_id']='',_0x477206[_0x4d84a1(0x51a)]='',_0x477206[_0x4d84a1(0x59d)]=[];}return this[_0x4d84a1(0x43b)](_0x477206,_0x214d44,_0x4ae8d5,!0x0),null;}}if(_0xe611d0&&_0x214d44[_0x4d84a1(0x80d)]&&!_0x477206['waitingMenu_id']){let _0x478356=_0x477206[_0x4d84a1(0x6aa)]['filter'](_0x5ec861=>_0x5ec861[_0x4d84a1(0x687)][_0x4d84a1(0x698)]()===_0x214d44[_0x4d84a1(0x80d)][_0x4d84a1(0x698)]())['sort']((_0x16dd58,_0x14ab6e)=>_0x16dd58[_0x4d84a1(0x1a1)]-_0x14ab6e['order']);_0x478356[_0x4d84a1(0x6eb)]>0x0&&(_0x3b2b4c=_0x478356[0x0]);}if(!_0x3b2b4c){let _0x2a31c1=_0x214d44[_0x4d84a1(0x687)],_0x65f19f=_0x477206[_0x4d84a1(0x6aa)][_0x4d84a1(0x125)](_0x5b2d1b=>_0x5b2d1b[_0x4d84a1(0x687)]===_0x2a31c1&&_0x5b2d1b[_0x4d84a1(0x1a1)]>_0x214d44[_0x4d84a1(0x1a1)])['sort']((_0x2efb7c,_0x2daf53)=>_0x2efb7c['order']-_0x2daf53['order']);_0x65f19f[_0x4d84a1(0x6eb)]>0x0&&(_0x3b2b4c=_0x65f19f[0x0]);}if(!_0x3b2b4c)return _0x477206[_0x4d84a1(0x166)]=_0x4d84a1(0x52e),null;_0x477206[_0x4d84a1(0x4c6)]['realVariables']=_0x1bf400;let _0x5818f1=JSON[_0x4d84a1(0x63f)](JSON[_0x4d84a1(0x3ef)](_0x3b2b4c));return this[_0x4d84a1(0x133)](_0x5818f1,_0x477206[_0x4d84a1(0x4c6)][_0x4d84a1(0x31b)]),_0x477206[_0x4d84a1(0x4c6)]['lastBlockId']=_0x5818f1[_0x4d84a1(0x21f)],_0x477206[_0x4d84a1(0x4c6)][_0x4d84a1(0x808)]=!0x0,_0x5818f1;}[a0_0x36fc91(0x228)](_0x156050,_0x419837){const _0x58660f=a0_0x36fc91;return _0x156050[_0x58660f(0x6fe)](/\{\{([^}]+)\}\}/g,(_0x2275ef,_0x29cad3)=>_0x419837[_0x29cad3]||'');}[a0_0x36fc91(0x133)](_0x4bab14,_0x44e28c){const _0x23f8d6=a0_0x36fc91;for(let _0x136952 in _0x4bab14)typeof _0x4bab14[_0x136952]==_0x23f8d6(0x2c1)?_0x4bab14[_0x136952]=this[_0x23f8d6(0x228)](_0x4bab14[_0x136952],_0x44e28c):typeof _0x4bab14[_0x136952]==_0x23f8d6(0x733)&&this[_0x23f8d6(0x133)](_0x4bab14[_0x136952],_0x44e28c);}async[a0_0x36fc91(0x1b3)](_0x5cc733,_0x48ddd7){const _0x3af736=a0_0x36fc91;let _0x563b90=_0x48ddd7[_0x3af736(0x21f)];if(_0x5cc733[_0x3af736(0x4c6)]&&_0x5cc733[_0x3af736(0x4c6)][_0x3af736(0x777)]){let _0x331b41=_0x5cc733[_0x3af736(0x4c6)][_0x3af736(0x777)][_0x3af736(0x125)](_0x255578=>String(_0x255578[_0x3af736(0x306)])===String(_0x563b90))[_0x3af736(0x332)]();if(_0x331b41&&_0x331b41[_0x3af736(0x844)]&&_0x48ddd7[_0x3af736(0x461)])return _0x5cc733[_0x3af736(0x166)]=_0x3af736(0x52e),await this[_0x3af736(0x5a2)](_0x5cc733),null;}if(_0x48ddd7['type']===_0x3af736(0x2b0)&&_0x48ddd7[_0x3af736(0x2b0)][_0x3af736(0x7f9)]==='sendPoll'&&_0x5cc733[_0x3af736(0x75b)])return _0x5cc733[_0x3af736(0x4c6)]['lastBlockId']=_0x563b90,await this['saveConversationToDatabase'](_0x5cc733),null;let _0x265208=await this[_0x3af736(0x4d9)](_0x5cc733);if(_0x5cc733[_0x3af736(0x4c6)]&&_0x5cc733['chatLog'][_0x3af736(0x777)]){let _0x17988e=_0x5cc733[_0x3af736(0x4c6)][_0x3af736(0x777)]['filter'](_0x316ed9=>String(_0x316ed9[_0x3af736(0x306)])===String(_0x563b90))['length'];if(_0x48ddd7[_0x3af736(0x47c)]!==void 0x0&&_0x17988e>=_0x48ddd7[_0x3af736(0x47c)]){let _0x3e702a=Date[_0x3af736(0x630)](),_0x34944f=_0x48ddd7[_0x3af736(0x4d4)]??0xa;isNaN(_0x34944f)&&(_0x34944f=0xa);let _0x250f9c=_0x3e702a+_0x34944f*0x3c*0x3e8,_0x45af50={'newStoppedUntil':_0x250f9c};return this[_0x3af736(0x6a2)](_0x5cc733,_0x250f9c),this[_0x3af736(0x43b)](_0x5cc733,_0x48ddd7,_0x45af50,!0x0),null;}}_0x265208&&_0x265208['type']!==_0x3af736(0x46f)&&await this[_0x3af736(0x507)](_0x5cc733,_0x265208),_0x265208||await this[_0x3af736(0x5a2)](_0x5cc733),_0x265208&&_0x265208['type']===_0x3af736(0x46f)&&(_0x5cc733[_0x3af736(0x4c6)]['lastBlockId']=_0x563b90,await this[_0x3af736(0x5a2)](_0x5cc733));}async['processblock'](_0x4b0ed2,_0x3c5367){const _0x5305a3=a0_0x36fc91;try{let _0x27a0eb=_0x3c5367[_0x5305a3(0x1ef)];this[_0x5305a3(0x2ee)][_0x5305a3(0x855)](this[_0x5305a3(0x3af)]+'\x20('+this[_0x5305a3(0x7ef)]['wuid']+_0x5305a3(0x311)+_0x27a0eb);let _0x51ff46={'uazapi':()=>this[_0x5305a3(0x348)](_0x4b0ed2,_0x3c5367),'save':()=>this['saveTextReply'](_0x4b0ed2,_0x3c5367),'stop':()=>this[_0x5305a3(0x156)](_0x4b0ed2,_0x3c5367),'condition':()=>this[_0x5305a3(0x31f)](_0x4b0ed2,_0x3c5367),'varedit':()=>this[_0x5305a3(0x7d9)](_0x4b0ed2,_0x3c5367),'apirequest':()=>this['processApiRequest'](_0x4b0ed2,_0x3c5367),'goToFlow':()=>this['processgoToFlow'](_0x4b0ed2,_0x3c5367),'scheduleFlow':()=>this[_0x5305a3(0x814)](_0x4b0ed2,_0x3c5367),'awaitSeconds':()=>this['processawaitSeconds'](_0x4b0ed2,_0x3c5367),'clearVariables':()=>this[_0x5305a3(0x691)](_0x4b0ed2,_0x3c5367)}[_0x27a0eb];_0x51ff46&&await _0x51ff46();}catch(_0x9a6c0e){this[_0x5305a3(0x2ee)][_0x5305a3(0x844)](this[_0x5305a3(0x3af)]+'\x20('+this[_0x5305a3(0x7ef)][_0x5305a3(0x816)]+'):\x20Error\x20processing\x20the\x20block:\x20'+(_0x9a6c0e instanceof Error?_0x9a6c0e['message']:JSON[_0x5305a3(0x3ef)](_0x9a6c0e,null,0x2)));}}async['processawaitSeconds'](_0x1a3313,_0x35b6ca){const _0x498d51=a0_0x36fc91;if(this['logger'][_0x498d51(0x855)](this[_0x498d51(0x3af)]+'\x20('+this[_0x498d51(0x7ef)][_0x498d51(0x816)]+_0x498d51(0x4e7)),!_0x1a3313||!_0x35b6ca)return this[_0x498d51(0x2ee)][_0x498d51(0x844)](this[_0x498d51(0x3af)]+'\x20('+this[_0x498d51(0x7ef)]['wuid']+_0x498d51(0x3f3)),null;let _0x37c39d=+_0x35b6ca[_0x498d51(0x783)];isNaN(_0x37c39d)&&(_0x37c39d=0x0),_0x37c39d=Math[_0x498d51(0x27a)](_0x37c39d,0x3c),await(0x0,w[_0x498d51(0x6e4)])(_0x37c39d*0x3e8);let _0x20db81={'moreLogs':[_0x498d51(0x511)+_0x37c39d+_0x498d51(0x452)]};return await this['updateConversation'](_0x1a3313,_0x35b6ca,_0x20db81),_0x37c39d;}async[a0_0x36fc91(0x691)](_0x1f4720,_0x3735a0){const _0x78411b=a0_0x36fc91;if(this[_0x78411b(0x2ee)][_0x78411b(0x855)](this[_0x78411b(0x3af)]+'\x20('+this['instance'][_0x78411b(0x816)]+_0x78411b(0x214)),!_0x1f4720||!_0x3735a0)return this['logger'][_0x78411b(0x844)](this[_0x78411b(0x3af)]+'\x20('+this[_0x78411b(0x7ef)]['wuid']+_0x78411b(0x3f3)),null;let _0x2d5ca7=[];if(_0x3735a0[_0x78411b(0x2ad)][_0x78411b(0x821)]()===_0x78411b(0x41b)){let _0x8c86cc=[_0x78411b(0x464),_0x78411b(0x389),_0x78411b(0x64c),_0x78411b(0x1b0),_0x78411b(0x78f),_0x78411b(0x21f),_0x78411b(0x6b2)];_0x2d5ca7=Object[_0x78411b(0x448)](_0x1f4720[_0x78411b(0x4c6)][_0x78411b(0x31b)])['filter'](_0x121d5b=>_0x121d5b[_0x78411b(0x368)]('_')&&!_0x8c86cc['includes'](_0x121d5b));}else _0x2d5ca7=_0x3735a0[_0x78411b(0x2ad)]['split']('|')['map'](_0x18e1fb=>(_0x18e1fb=_0x18e1fb[_0x78411b(0x6fe)](/[{}]/g,'')[_0x78411b(0x821)](),_0x18e1fb[_0x78411b(0x368)]('_')?_0x18e1fb:'_'+_0x18e1fb));let _0xc4deb3=[];_0x2d5ca7[_0x78411b(0x12c)](_0x7eef89=>{const _0xf35b2f=_0x78411b;_0x7eef89 in _0x1f4720['chatLog'][_0xf35b2f(0x31b)]&&(delete _0x1f4720[_0xf35b2f(0x4c6)][_0xf35b2f(0x31b)][_0x7eef89],_0xc4deb3[_0xf35b2f(0x871)](_0x7eef89));}),_0xc4deb3[_0x78411b(0x6eb)]>0x0?this[_0x78411b(0x2ee)]['verbose'](this['instanceName']+'\x20('+this[_0x78411b(0x7ef)]['wuid']+_0x78411b(0x652)+_0xc4deb3[_0x78411b(0x1f8)](',\x20')):this[_0x78411b(0x2ee)][_0x78411b(0x855)](this['instanceName']+'\x20('+this[_0x78411b(0x7ef)][_0x78411b(0x816)]+'):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção');let _0xbacbfe={'moreLogs':[_0x78411b(0x4a7)+_0xc4deb3[_0x78411b(0x1f8)](',\x20')]};return await this[_0x78411b(0x43b)](_0x1f4720,_0x3735a0,_0xbacbfe),null;}async['processScheduleFlow'](_0x299c3b,_0x5b624e){const _0x271304=a0_0x36fc91;if(this['logger'][_0x271304(0x855)](this['instanceName']+'\x20('+this[_0x271304(0x7ef)]['wuid']+_0x271304(0x35f)),!_0x299c3b||!_0x5b624e)return this[_0x271304(0x2ee)][_0x271304(0x844)](this[_0x271304(0x3af)]+'\x20('+this[_0x271304(0x7ef)]['wuid']+_0x271304(0x3f3)),null;let _0x17733e=_0x299c3b[_0x271304(0x370)];_0x5b624e[_0x271304(0x7ad)][_0x271304(0x370)]&&_0x5b624e[_0x271304(0x7ad)][_0x271304(0x370)][_0x271304(0x821)]()!==''&&(_0x17733e=_0x5b624e[_0x271304(0x2b0)]['remoteJid']['trim']());let _0xe8720d=_0x5b624e[_0x271304(0x7ad)][_0x271304(0x44d)]*0xea60,_0x491900=Date['now']()+_0xe8720d,_0x3c08bd={'status':_0x271304(0x447),'info':'Fluxo\x20agendado\x20pelo\x20fluxo\x20'+_0x299c3b['name'],'remoteJids':[_0x17733e],'when':_0x491900,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x271304(0x419),'flowName':_0x5b624e[_0x271304(0x7ad)][_0x271304(0x768)]};this['editScheduleMessage'](_0x3c08bd);let _0x41ea33=await this[_0x271304(0x4d9)](_0x299c3b);_0x41ea33&&await this['processblock'](_0x299c3b,_0x41ea33);}async[a0_0x36fc91(0x34d)](_0x4b49ba,_0x2f3f9a){const _0x1082fc=a0_0x36fc91;if(this[_0x1082fc(0x2ee)][_0x1082fc(0x855)](this[_0x1082fc(0x3af)]+'\x20('+this[_0x1082fc(0x7ef)][_0x1082fc(0x816)]+_0x1082fc(0x282)),!_0x4b49ba||!_0x2f3f9a)return this[_0x1082fc(0x2ee)][_0x1082fc(0x844)](this['instanceName']+'\x20('+this[_0x1082fc(0x7ef)][_0x1082fc(0x816)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this[_0x1082fc(0x43b)](_0x4b49ba,_0x2f3f9a,{},!0x0,!0x0);let _0x4511ae=_0x2f3f9a[_0x1082fc(0x1f0)];_0x4b49ba=await this[_0x1082fc(0x7b1)](_0x4511ae,_0x4b49ba[_0x1082fc(0x370)],_0x4b49ba[_0x1082fc(0x4c6)][_0x1082fc(0x31b)]);let _0x53a9da=await this[_0x1082fc(0x4d9)](_0x4b49ba);_0x53a9da&&await this[_0x1082fc(0x507)](_0x4b49ba,_0x53a9da);}async['createConversationforgoToFlow'](_0x9f25a0,_0x1b3b22,_0x31bae9){const _0x113c8e=a0_0x36fc91;this[_0x113c8e(0x2ee)][_0x113c8e(0x855)](this['instanceName']+'\x20('+this[_0x113c8e(0x7ef)][_0x113c8e(0x816)]+_0x113c8e(0x4e5));try{let _0x5484fe=this['AutomateSystem'][_0x113c8e(0x329)][_0x113c8e(0x757)](_0x324c79=>_0x324c79[_0x113c8e(0x21f)]===_0x9f25a0);_0x5484fe||this[_0x113c8e(0x2ee)][_0x113c8e(0x844)](this[_0x113c8e(0x3af)]+'\x20('+this['instance'][_0x113c8e(0x816)]+'):\x20Flow\x20\x27'+_0x9f25a0+_0x113c8e(0x798));let _0x24f298=await this[_0x113c8e(0x465)][_0x113c8e(0x419)][_0x113c8e(0x74a)]({'where':{'_id':_0x5484fe['_id']}});if(!_0x24f298||!_0x24f298['whoCanUse']?.[_0x113c8e(0x22b)](this[_0x113c8e(0x7ef)][_0x113c8e(0x816)]))throw this[_0x113c8e(0x2ee)][_0x113c8e(0x844)](this['instanceName']+'\x20('+this['instance'][_0x113c8e(0x816)]+'):\x20Flow\x20\x27'+_0x9f25a0+_0x113c8e(0x516)),new m(_0x113c8e(0x810)+_0x9f25a0+_0x113c8e(0x516));let _0x12914f=require(_0x113c8e(0x7f0))['ObjectId'],_0x22678e=Date['now'](),_0x1f4b79='start',_0x459667={},_0x29e460={},_0xb0d944=this[_0x113c8e(0x669)][_0x113c8e(0x329)][_0x113c8e(0x757)](_0xc3d137=>_0xc3d137[_0x113c8e(0x21f)]===_0x24f298[_0x113c8e(0x21f)]?.[_0x113c8e(0x698)]()),_0x4b7a7e=_0xb0d944?.['minutesToClose']??_0x24f298['minutesToClose']??0x0,_0x22d480=_0xb0d944?.[_0x113c8e(0x24c)]??_0x24f298[_0x113c8e(0x24c)]??!0x1,_0x46d288={'flowId':_0x5484fe[_0x113c8e(0x21f)],'readMessages':_0x5484fe[_0x113c8e(0x24c)],..._0x24f298,'chatLog':null},_0x30e436={'lastReceivedMessage':_0x459667,'lastSendMessage':_0x29e460,'lastBlockId':_0x1f4b79,'lastCondition':!0x0,'realVariables':_0x31bae9};_0x46d288[_0x113c8e(0x4c6)]=_0x30e436,_0x46d288['chatLog'][_0x113c8e(0x31b)]={..._0x31bae9},delete _0x46d288[_0x113c8e(0x21f)],_0x46d288['_id']=new _0x12914f(),_0x46d288['lastInteraction']=_0x22678e,_0x46d288['status']=_0x113c8e(0x4fc),_0x46d288[_0x113c8e(0x370)]=_0x1b3b22,_0x46d288['minutesToClose']=_0x4b7a7e,_0x46d288[_0x113c8e(0x24c)]=_0x22d480;let _0x59f136=await this['repository'][_0x113c8e(0x2c3)][_0x113c8e(0x47d)](_0x46d288[_0x113c8e(0x21f)],_0x46d288,this['instance'][_0x113c8e(0x816)]);return this[_0x113c8e(0x2ee)][_0x113c8e(0x855)](this['instanceName']+'\x20('+this[_0x113c8e(0x7ef)][_0x113c8e(0x816)]+_0x113c8e(0x1a5)),_0x59f136?_0x46d288:null;}catch(_0x200303){let _0x44d143=_0x113c8e(0x13c),_0x2811d9=_0x200303 instanceof Error?_0x200303[_0x113c8e(0x142)]:typeof _0x200303==_0x113c8e(0x733)?JSON['stringify'](_0x200303):_0x200303,_0x5c4b33=_0x44d143+':\x20'+_0x2811d9;throw this['logger'][_0x113c8e(0x844)](this[_0x113c8e(0x3af)]+'\x20('+this[_0x113c8e(0x7ef)]['wuid']+_0x113c8e(0x651)+_0x5c4b33),new m(_0x5c4b33);}}async['processApiRequest'](_0x40c5a0,_0x605d51){const _0x4f4d27=a0_0x36fc91;let _0x427cae,_0x977fb9;try{let _0x3a4a5b=_0x605d51[_0x4f4d27(0x341)];if(!_0x3a4a5b||!_0x3a4a5b[_0x4f4d27(0x79d)]||!_0x3a4a5b[_0x4f4d27(0x615)])throw new Error('Falta\x20informação\x20para\x20a\x20chamada\x20API');let _0x10510b;(['https://api.openai.com/v1/audio/speech',_0x4f4d27(0x720),_0x4f4d27(0x340)][_0x4f4d27(0x869)](_0x5b9273=>_0x3a4a5b[_0x4f4d27(0x79d)][_0x4f4d27(0x22b)](_0x5b9273))||_0x3a4a5b[_0x4f4d27(0x521)])&&(_0x10510b=_0x4f4d27(0x5ec));let _0x55e487='\u205f',_0x408da2;try{_0x408da2=JSON['parse'](_0x3a4a5b['bodyString'][_0x4f4d27(0x6fe)](new RegExp(_0x55e487,'g'),''));}catch(_0x47b6b8){throw _0x47b6b8;}let _0xa8bb74={'method':_0x3a4a5b[_0x4f4d27(0x615)],'url':_0x3a4a5b['url'],'headers':_0x3a4a5b[_0x4f4d27(0x434)]||{},..._0x3a4a5b['method']['toUpperCase']()!==_0x4f4d27(0x59b)&&_0x3a4a5b['bodyString']?{'data':JSON[_0x4f4d27(0x63f)](_0x3a4a5b[_0x4f4d27(0x5d6)][_0x4f4d27(0x6fe)](new RegExp(_0x55e487,'g'),''))}:{},..._0x10510b&&{'responseType':_0x10510b}},_0x249967=await(0x0,Y[_0x4f4d27(0x361)])(_0xa8bb74),_0x42706b=_0x249967['headers']['content-type'];if(_0x42706b&&_0x42706b[_0x4f4d27(0x22b)]('application/json')||typeof _0x249967[_0x4f4d27(0x3ff)]=='string'){if(typeof _0x249967[_0x4f4d27(0x3ff)]==_0x4f4d27(0x2c1)){let _0x5beaa4=_0x249967[_0x4f4d27(0x3ff)][_0x4f4d27(0x6fe)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x4f4d27(0x821)]();try{_0x427cae=JSON[_0x4f4d27(0x63f)](_0x5beaa4);}catch(_0x16026d){this[_0x4f4d27(0x2ee)][_0x4f4d27(0x844)]('Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20'+_0x16026d['message']),_0x427cae={'_apiResponse':_0x249967[_0x4f4d27(0x3ff)]};}}else _0x427cae=_0x249967[_0x4f4d27(0x3ff)];let _0xfe0c3=_0x40c5a0[_0x4f4d27(0x4c6)][_0x4f4d27(0x31b)],_0x521795=this[_0x4f4d27(0x11c)](_0x427cae);return Object[_0x4f4d27(0x671)](_0xfe0c3,_0x521795),_0x40c5a0['chatLog']['realVariables']=_0xfe0c3,_0x977fb9={'error':!0x1,'apiResponse':_0x427cae},this['updateConversation'](_0x40c5a0,_0x605d51,_0x977fb9),_0x427cae;}if(_0x42706b&&(_0x42706b['includes']('application/octet-stream')||_0x42706b[_0x4f4d27(0x22b)](_0x4f4d27(0x44a))||_0x42706b[_0x4f4d27(0x22b)](_0x4f4d27(0x48a))||_0x42706b['includes'](_0x4f4d27(0x2a3)))){this[_0x4f4d27(0x2ee)]['verbose'](this[_0x4f4d27(0x3af)]+'\x20('+this[_0x4f4d27(0x7ef)][_0x4f4d27(0x816)]+_0x4f4d27(0x41e)+_0x42706b);let _0x5115fe=(0x0,X['v4'])(),_0x1f182e='',_0x32e77e={'image/jpeg':'.jpg','image/png':'.png','image/gif':'.gif','image/webp':'.webp','image/svg+xml':_0x4f4d27(0x73e),'audio/mpeg':'.mp3','audio/ogg':_0x4f4d27(0x83d),'audio/wav':'.wav','video/mp4':_0x4f4d27(0x1ae),'video/webm':_0x4f4d27(0x6f9),'video/ogg':_0x4f4d27(0x333),'text/plain':_0x4f4d27(0x69f),'application/pdf':_0x4f4d27(0x1b8),'application/msword':_0x4f4d27(0x5c6),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x4f4d27(0x512),'application/vnd.ms-excel':_0x4f4d27(0x1e8),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x4f4d27(0x202),'application/vnd.ms-powerpoint':_0x4f4d27(0x3dd),'application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x32e77e[_0x42706b]?(_0x1f182e=_0x32e77e[_0x42706b],this['logger'][_0x4f4d27(0x855)](this['instanceName']+'\x20('+this[_0x4f4d27(0x7ef)][_0x4f4d27(0x816)]+_0x4f4d27(0x776)+_0x1f182e)):(_0x1f182e='.error',this[_0x4f4d27(0x2ee)][_0x4f4d27(0x855)](this[_0x4f4d27(0x3af)]+'\x20('+this[_0x4f4d27(0x7ef)][_0x4f4d27(0x816)]+'):\x20Usando\x20extensão\x20padrão:\x20'+_0x1f182e)),_0x5115fe+=_0x1f182e,this[_0x4f4d27(0x2ee)][_0x4f4d27(0x855)](this[_0x4f4d27(0x3af)]+'\x20('+this[_0x4f4d27(0x7ef)][_0x4f4d27(0x816)]+'):\x20Nome\x20do\x20arquivo\x20gerado:\x20'+_0x5115fe);let _0x2c9f17=this[_0x4f4d27(0x256)][_0x4f4d27(0x41a)](_0x4f4d27(0x854))['URL'];if(!_0x2c9f17){let _0x55c413=this[_0x4f4d27(0x256)][_0x4f4d27(0x41a)](_0x4f4d27(0x6ea));_0x2c9f17=_0x4f4d27(0x120)+(_0x55c413&&_0x55c413[_0x4f4d27(0x437)][_0x4f4d27(0x599)]('/')[0x4]);}let _0x3d1d12=Buffer[_0x4f4d27(0x113)](_0x249967[_0x4f4d27(0x3ff)]);await this[_0x4f4d27(0x848)](_0x3d1d12,_0x5115fe);let _0x10ae3f=_0x4f4d27(0x218)+_0x5115fe;_0x10ae3f=''+_0x2c9f17+_0x10ae3f,_0x427cae={'fileUrl':_0x10ae3f},_0x40c5a0[_0x4f4d27(0x4c6)]['realVariables']['fileUrl']=_0x10ae3f;let _0x4895f0=_0x40c5a0['chatLog'][_0x4f4d27(0x31b)],_0x3de232=this['flattenObject'](_0x427cae);return Object[_0x4f4d27(0x671)](_0x4895f0,_0x3de232),_0x40c5a0[_0x4f4d27(0x4c6)]['realVariables']=_0x4895f0,_0x977fb9={'error':!0x1,'apiResponse':{'fileUrl':_0x10ae3f}},this['updateConversation'](_0x40c5a0,_0x605d51,_0x977fb9),_0x427cae;}}catch(_0x1e0882){this[_0x4f4d27(0x2ee)]['error'](_0x4f4d27(0x5f2)+_0x1e0882[_0x4f4d27(0x142)]),_0x1e0882[_0x4f4d27(0x609)]&&(_0x427cae=_0x1e0882[_0x4f4d27(0x609)][_0x4f4d27(0x3ff)]);let _0x58605b=_0x40c5a0[_0x4f4d27(0x4c6)][_0x4f4d27(0x31b)],_0x356dbe=this[_0x4f4d27(0x11c)](_0x427cae);return Object[_0x4f4d27(0x671)](_0x58605b,_0x356dbe),_0x40c5a0[_0x4f4d27(0x4c6)][_0x4f4d27(0x31b)]=_0x58605b,_0x977fb9={'error':!0x0,'errorLog':_0x1e0882[_0x4f4d27(0x698)](),'apiResponse':_0x427cae},this[_0x4f4d27(0x43b)](_0x40c5a0,_0x605d51,_0x977fb9),{'success':!0x1};}}[a0_0x36fc91(0x636)](_0xcc656e,_0x47a865){const _0x23d22d=a0_0x36fc91;let _0x1d3b1e=_0x94efd1=>{const _0xc0fbfa=a0_0x19ac;let _0x31ce26=_0x94efd1['replace'](/[^0-9.,-]/g,'')[_0xc0fbfa(0x6fe)](',','.'),_0x4370da=parseFloat(_0x31ce26);return isNaN(_0x4370da)?null:_0x4370da;},_0x69fb6=_0x47a865['firstValue'],_0x521c69=_0x47a865[_0x23d22d(0x2d9)];typeof _0x69fb6==_0x23d22d(0x2c1)&&(_0x69fb6=this[_0x23d22d(0x228)](_0x69fb6,_0xcc656e[_0x23d22d(0x4c6)][_0x23d22d(0x31b)])??''),typeof _0x521c69==_0x23d22d(0x2c1)&&(_0x521c69=this[_0x23d22d(0x228)](_0x521c69,_0xcc656e[_0x23d22d(0x4c6)][_0x23d22d(0x31b)])??'');let _0x139505=null;if(!_0x47a865[_0x23d22d(0x7e4)])return null;switch(this[_0x23d22d(0x2ee)][_0x23d22d(0x855)](this[_0x23d22d(0x3af)]+'\x20('+this[_0x23d22d(0x7ef)][_0x23d22d(0x816)]+_0x23d22d(0x3e0)+_0x69fb6),this[_0x23d22d(0x2ee)]['verbose'](this['instanceName']+'\x20('+this[_0x23d22d(0x7ef)][_0x23d22d(0x816)]+_0x23d22d(0x5eb)+_0x521c69),_0x47a865['editOperator']){case'+':case'-':case'*':case'/':let _0x5be745=_0x1d3b1e(_0x69fb6||'0'),_0x447d35=_0x1d3b1e(_0x521c69||'0');if(_0x5be745===null)return null;switch(_0x47a865['editOperator']){case'+':_0x139505=_0x5be745+(_0x447d35??0x0);break;case'-':_0x139505=_0x5be745-(_0x447d35??0x0);break;case'*':_0x139505=_0x5be745*(_0x447d35??0x1);break;case'/':_0x447d35!==0x0&&(_0x139505=_0x5be745/(_0x447d35??0x1));break;}break;case _0x23d22d(0x5b6):case _0x23d22d(0x624):let _0xb1f7a6=_0x521c69,_0x1f1c67=_0x47a865['replaceValue'];if(typeof _0x1f1c67==_0x23d22d(0x2c1)&&(_0x1f1c67=this[_0x23d22d(0x228)](_0x1f1c67,_0xcc656e[_0x23d22d(0x4c6)][_0x23d22d(0x31b)])??''),_0xb1f7a6&&_0x1f1c67!==void 0x0){let _0x46ac9e=_0x47a865[_0x23d22d(0x7e4)]===_0x23d22d(0x5b6)?new RegExp(_0xb1f7a6[_0x23d22d(0x6fe)](/[-\/\\^$*+?.()|[\]{}]/g,_0x23d22d(0x273)),'g'):new RegExp(_0xb1f7a6,'g');_0x139505=_0x69fb6['replace'](_0x46ac9e,_0x1f1c67);}else console[_0x23d22d(0x310)](_0x23d22d(0x203));break;case _0x23d22d(0x6e5):_0x139505=_0x521c69;break;case _0x23d22d(0x365):let _0x52d39e=_0x69fb6[_0x23d22d(0x1db)](new RegExp(_0x521c69||''));_0x139505=_0x52d39e?_0x52d39e[0x0]:'';break;case'truncatedto':_0x139505=_0x69fb6['slice'](0x0,parseInt(_0x521c69||'0'));break;case _0x23d22d(0x391):let _0x5eb289=parseInt(_0x521c69||'0');_0x139505=_0x69fb6[_0x23d22d(0x2a9)](_0x69fb6[_0x23d22d(0x6eb)]-_0x5eb289);break;case'toBrazilianNumberFormat':let _0x65143a=_0x1d3b1e(_0x69fb6),_0x1f3318=parseInt(_0x521c69||'0');_0x1f3318=Math[_0x23d22d(0x197)](_0x1f3318),_0x65143a!==null?_0x139505=_0x65143a[_0x23d22d(0x33b)]('pt-BR',{'minimumFractionDigits':_0x1f3318,'maximumFractionDigits':_0x1f3318}):(console[_0x23d22d(0x310)]('Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20'+_0x69fb6),_0x139505=null);break;case _0x23d22d(0x2e0):let _0x3addfd=_0x1d3b1e(_0x69fb6);_0x3addfd!==null?_0x139505=_0x3addfd[_0x23d22d(0x33b)]('pt-BR',{'style':_0x23d22d(0x63d),'currency':_0x23d22d(0x38b)}):(console[_0x23d22d(0x310)](_0x23d22d(0x147)+_0x69fb6),_0x139505=null);break;case'upperCase':_0x139505=_0x69fb6[_0x23d22d(0x15e)]();break;case _0x23d22d(0x76a):_0x139505=_0x69fb6[_0x23d22d(0x73c)]();break;case _0x23d22d(0x5f5):_0x139505=_0x69fb6[_0x23d22d(0x599)]('\x20')[_0x23d22d(0x71e)](_0x19e20a=>_0x19e20a['charAt'](0x0)[_0x23d22d(0x15e)]()+_0x19e20a[_0x23d22d(0x2a9)](0x1)[_0x23d22d(0x73c)]())['join']('\x20');break;case _0x23d22d(0x78c):_0x139505=JSON[_0x23d22d(0x3ef)](_0x69fb6);break;case _0x23d22d(0x5e2):_0x139505=_0x69fb6[_0x23d22d(0x821)]();break;default:_0x139505=_0x69fb6;}return _0x139505!==null?_0x139505[_0x23d22d(0x698)]():null;}async['processvaredits'](_0x2b2d71,_0xa2d4a2){const _0x441384=a0_0x36fc91;try{let _0x474299=_0x2b2d71[_0x441384(0x614)]?.[_0x441384(0x125)](_0x24d46a=>_0x24d46a['blockId']===_0xa2d4a2[_0x441384(0x21f)]?.[_0x441384(0x698)]())||[],_0x10e600=_0xa2d4a2[_0x441384(0x696)],_0x5d7681=null,_0x4b3bb5=[],_0x7d8cd3=_0x2b2d71[_0x441384(0x4c6)][_0x441384(0x31b)][_0x10e600];_0x4b3bb5[_0x441384(0x871)]('Valor\x20inicial:\x20\x22'+_0x7d8cd3+'\x22');for(let _0x53633e of _0x474299){_0x53633e['firstValue']=_0x7d8cd3,_0x5d7681=_0x53633e[_0x441384(0x23b)];let _0x2a6635;try{_0x2a6635=this[_0x441384(0x636)](_0x2b2d71,_0x53633e);}catch(_0x1d190a){this[_0x441384(0x2ee)][_0x441384(0x844)](_0x441384(0x851)+_0x1d190a[_0x441384(0x142)]);continue;}if(_0x2a6635!==null){let _0x331dda=_0x441384(0x797)+_0x53633e['editOperator']+'\x22',_0x371693=['toBRL','upperCase','lowerCase',_0x441384(0x5f5),_0x441384(0x5e2)];_0x53633e['editOperator']===_0x441384(0x5b6)||_0x53633e['editOperator']===_0x441384(0x624)?_0x331dda+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x53633e[_0x441384(0x2d9)]+_0x441384(0x4b2)+_0x53633e[_0x441384(0x570)]+'\x22':!_0x371693['includes'](_0x53633e[_0x441384(0x7e4)])&&_0x53633e[_0x441384(0x2d9)]!==null&&_0x53633e[_0x441384(0x2d9)]!==void 0x0&&(_0x331dda+=_0x441384(0x32b)+_0x53633e['secondValue']+'\x22'),_0x331dda+=_0x441384(0x6d3)+_0x2a6635+'.',_0x4b3bb5[_0x441384(0x871)](_0x331dda);}_0x2a6635!==null&&(_0x7d8cd3=_0x2a6635);}if(_0x2b2d71[_0x441384(0x4c6)]['realVariables']&&_0xa2d4a2[_0x441384(0x696)]){_0x2b2d71[_0x441384(0x4c6)][_0x441384(0x31b)][_0xa2d4a2[_0x441384(0x696)]]=_0x7d8cd3;let _0x423c1b={'variable':_0xa2d4a2[_0x441384(0x696)],'oldValue':_0x5d7681,'newValue':_0x7d8cd3,'moreLogs':_0x4b3bb5};try{this[_0x441384(0x43b)](_0x2b2d71,_0xa2d4a2,_0x423c1b);}catch(_0x4aad85){this[_0x441384(0x2ee)][_0x441384(0x844)](_0x441384(0x57d)+_0x4aad85[_0x441384(0x142)]);}}return _0x10e600;}catch(_0x2b1fc1){return this['logger'][_0x441384(0x844)]('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x2b1fc1[_0x441384(0x142)]),null;}}async[a0_0x36fc91(0x31f)](_0x21223a,_0x24f52d){const _0x8da98d=a0_0x36fc91;try{let _0x4e2dce=[],_0xed682b=_0x21223a[_0x8da98d(0x82c)]['filter'](_0x39de05=>_0x39de05['blockId']===_0x24f52d[_0x8da98d(0x21f)][_0x8da98d(0x698)]()),_0x3cbf93=null,_0x4e3748=!0x1;for(let _0x63251d of _0xed682b){let _0x4aa3c2=this[_0x8da98d(0x72b)](_0x21223a,_0x63251d);_0x4e2dce[_0x8da98d(0x871)](_0x8da98d(0x54d)+_0x63251d[_0x8da98d(0x23b)]+_0x8da98d(0x29f)+_0x63251d[_0x8da98d(0x30a)]+_0x8da98d(0x18a)+_0x63251d[_0x8da98d(0x2d9)]+',\x20Resultado:\x20'+_0x4aa3c2),_0x3cbf93===null?_0x3cbf93=_0x4aa3c2:_0x63251d[_0x8da98d(0x3bb)]==='and'?(_0x3cbf93=_0x3cbf93&&_0x4aa3c2,_0x4aa3c2||(_0x4e3748=!0x0)):_0x63251d[_0x8da98d(0x3bb)]==='or'&&(_0x4e3748||(_0x3cbf93=_0x3cbf93||_0x4aa3c2));}_0x3cbf93===null&&(_0x3cbf93=!0x0);let _0x34b19e={'moreLogs':_0x4e2dce};_0x21223a['chatLog'][_0x8da98d(0x808)]=_0x3cbf93,await this[_0x8da98d(0x43b)](_0x21223a,_0x24f52d,_0x34b19e);}catch(_0x4a868){this[_0x8da98d(0x2ee)][_0x8da98d(0x844)](this[_0x8da98d(0x3af)]+'\x20('+this[_0x8da98d(0x7ef)][_0x8da98d(0x816)]+_0x8da98d(0x34a)+(_0x4a868 instanceof Error?_0x4a868[_0x8da98d(0x142)]:JSON[_0x8da98d(0x3ef)](_0x4a868,null,0x2)));}}['evaluateCondition'](_0x1db99d,_0x25ab48){const _0x418e92=a0_0x36fc91;let _0x443e3a=_0x25ab48[_0x418e92(0x23b)],_0x5553c4=_0x25ab48[_0x418e92(0x2d9)];typeof _0x443e3a==_0x418e92(0x2c1)&&(_0x443e3a=this['replaceVariables'](_0x443e3a,_0x1db99d[_0x418e92(0x4c6)][_0x418e92(0x31b)])??''),typeof _0x5553c4==_0x418e92(0x2c1)&&(_0x5553c4=this['replaceVariables'](_0x5553c4,_0x1db99d[_0x418e92(0x4c6)][_0x418e92(0x31b)])??'');try{switch(_0x25ab48[_0x418e92(0x30a)]){case _0x418e92(0x7eb):return _0x443e3a===_0x5553c4;case _0x418e92(0x15b):return _0x443e3a!==_0x5553c4;case'contains':return this['contains'](_0x443e3a,_0x5553c4);case _0x418e92(0x444):return!this[_0x418e92(0x1f1)](_0x443e3a,_0x5553c4);case'greater':return parseFloat(_0x443e3a)>parseFloat(_0x5553c4);case _0x418e92(0x7fc):return parseFloat(_0x443e3a)<parseFloat(_0x5553c4);case _0x418e92(0x685):return _0x443e3a!=='';case _0x418e92(0x37d):return _0x443e3a==='';case _0x418e92(0x6d0):return new RegExp(_0x5553c4)[_0x418e92(0x3cc)](_0x443e3a);case _0x418e92(0x24f):return!new RegExp(_0x5553c4)[_0x418e92(0x3cc)](_0x443e3a);default:return!0x1;}}catch(_0x4b9c1e){return this['logger'][_0x418e92(0x844)](_0x418e92(0x6f7)+_0x4b9c1e),!0x1;}}[a0_0x36fc91(0x1f1)](_0x55f9e5,_0x5ca8ba){const _0x573f15=a0_0x36fc91;if(_0x55f9e5===_0x5ca8ba&&/^\d+$/[_0x573f15(0x3cc)](_0x55f9e5))return!0x0;if(this['isListOfNumbers'](_0x55f9e5)&&/^\d+$/[_0x573f15(0x3cc)](_0x5ca8ba)){let _0xd659e2=_0x55f9e5[_0x573f15(0x599)](',')[_0x573f15(0x71e)](_0x3c799c=>parseInt(_0x3c799c[_0x573f15(0x821)]())),_0x49cee9=parseInt(_0x5ca8ba);return _0xd659e2[_0x573f15(0x22b)](_0x49cee9);}return _0x55f9e5['includes'](_0x5ca8ba);}[a0_0x36fc91(0x377)](_0x530ff9){return/^\d+(,\d+)*$/['test'](_0x530ff9);}[a0_0x36fc91(0x250)](_0x5d06b3){const _0x586233=a0_0x36fc91;let _0x29b31c=!0x0,_0x587589=null;for(let _0xfabe of _0x5d06b3){let _0x3ce07b=this['evaluateConditionTest'](_0xfabe);if(_0x587589==='or'&&_0x3ce07b){_0x29b31c=!0x0;break;}if(_0x587589===_0x586233(0x45b)&&!_0x3ce07b){_0x29b31c=!0x1;break;}_0x587589=_0xfabe[_0x586233(0x3bb)];}return _0x29b31c;}['evaluateConditionTest'](_0x297fd9){const _0x3c7c36=a0_0x36fc91;let _0x21f131=_0x297fd9[_0x3c7c36(0x23b)],_0x18ada4=_0x297fd9[_0x3c7c36(0x2d9)];try{switch(_0x297fd9[_0x3c7c36(0x30a)]){case'equal':return String(_0x21f131)===String(_0x18ada4);case _0x3c7c36(0x15b):return String(_0x21f131)!==String(_0x18ada4);case'contains':return String(_0x21f131)[_0x3c7c36(0x22b)](String(_0x18ada4));case _0x3c7c36(0x444):return!String(_0x21f131)['includes'](String(_0x18ada4));case _0x3c7c36(0x35b):return parseFloat(String(_0x21f131))>parseFloat(String(_0x18ada4));case _0x3c7c36(0x7fc):return parseFloat(String(_0x21f131))<parseFloat(String(_0x18ada4));case'notEmpty':return String(_0x21f131)!=='';case _0x3c7c36(0x37d):return String(_0x21f131)==='';case _0x3c7c36(0x6d0):return new RegExp(String(_0x18ada4))['test'](String(_0x21f131));case _0x3c7c36(0x24f):return!new RegExp(String(_0x18ada4))[_0x3c7c36(0x3cc)](String(_0x21f131));default:return!0x1;}}catch(_0x788866){return this[_0x3c7c36(0x2ee)]['error'](_0x3c7c36(0x6f7)+_0x788866),!0x1;}}async[a0_0x36fc91(0x68a)](_0x2900a8,_0x153845){const _0x5557ce=a0_0x36fc91;if(this['logger'][_0x5557ce(0x855)](this[_0x5557ce(0x3af)]+'\x20('+this[_0x5557ce(0x7ef)][_0x5557ce(0x816)]+_0x5557ce(0x73b)),!_0x2900a8||!_0x153845)return this[_0x5557ce(0x2ee)][_0x5557ce(0x844)](this[_0x5557ce(0x3af)]+'\x20('+this[_0x5557ce(0x7ef)][_0x5557ce(0x816)]+_0x5557ce(0x3f3)),null;let _0x1ee3c2=_0x2900a8[_0x5557ce(0x4c6)]['lastReceivedMessage'][_0x5557ce(0x39c)]['id'];this[_0x5557ce(0x2ee)][_0x5557ce(0x855)](this[_0x5557ce(0x3af)]+'\x20('+this[_0x5557ce(0x7ef)][_0x5557ce(0x816)]+_0x5557ce(0x385)+_0x1ee3c2);let _0x30dc38={'key':{'id':_0x1ee3c2}},_0x391587=_0x153845[_0x5557ce(0x696)];_0x2900a8[_0x5557ce(0x4c6)]['realVariables']['_'+_0x391587+'.fileUrl']=null,_0x2900a8['chatLog'][_0x5557ce(0x31b)]['_'+_0x391587+'.mimetype']=null,_0x2900a8[_0x5557ce(0x4c6)][_0x5557ce(0x31b)]['_'+_0x391587+'.extension']=null,_0x2900a8[_0x5557ce(0x4c6)][_0x5557ce(0x31b)]['_'+_0x391587+_0x5557ce(0x80c)]=_0x2900a8['chatLog'][_0x5557ce(0x7f5)][_0x5557ce(0x1ef)];try{let _0x317a88=await this[_0x5557ce(0x400)](_0x30dc38);this[_0x5557ce(0x2ee)][_0x5557ce(0x855)](this[_0x5557ce(0x3af)]+'\x20('+this[_0x5557ce(0x7ef)][_0x5557ce(0x816)]+_0x5557ce(0x590)),_0x2900a8['chatLog'][_0x5557ce(0x31b)]['_'+_0x391587+_0x5557ce(0x63e)]=_0x317a88[_0x5557ce(0x10e)],_0x2900a8['chatLog'][_0x5557ce(0x31b)]['_'+_0x391587+_0x5557ce(0x6fa)]=_0x317a88[_0x5557ce(0x1c3)];let _0x38fefc=_0x317a88[_0x5557ce(0x1c3)][_0x5557ce(0x1db)](/\/(\w+)$/),_0x43779e=_0x38fefc?_0x38fefc[0x1]:null;_0x2900a8[_0x5557ce(0x4c6)]['realVariables']['_'+_0x391587+_0x5557ce(0x74b)]=_0x43779e,this[_0x5557ce(0x2ee)]['verbose'](this[_0x5557ce(0x3af)]+'\x20('+this[_0x5557ce(0x7ef)][_0x5557ce(0x816)]+_0x5557ce(0x320)+_0x391587+'\x27.');}catch(_0x4e3f7f){this['logger'][_0x5557ce(0x844)](this[_0x5557ce(0x3af)]+'\x20('+this['instance'][_0x5557ce(0x816)]+_0x5557ce(0x4b5)+_0x4e3f7f[_0x5557ce(0x142)]);}let _0x5c3aec=_0x2900a8[_0x5557ce(0x4c6)][_0x5557ce(0x7f5)][_0x5557ce(0x76e)]||_0x2900a8[_0x5557ce(0x4c6)][_0x5557ce(0x7f5)][_0x5557ce(0x7ae)]||_0x2900a8[_0x5557ce(0x4c6)][_0x5557ce(0x7f5)][_0x5557ce(0x495)];try{_0x2900a8[_0x5557ce(0x4c6)][_0x5557ce(0x31b)]||(_0x2900a8[_0x5557ce(0x4c6)][_0x5557ce(0x31b)]={});let _0x123f59=_0x2900a8[_0x5557ce(0x4c6)][_0x5557ce(0x31b)][_0x391587];_0x2900a8[_0x5557ce(0x4c6)]['realVariables'][_0x391587]=_0x5c3aec;let _0xd37242={'variable':_0x391587,'oldValue':_0x123f59,'newValue':_0x5c3aec};this[_0x5557ce(0x43b)](_0x2900a8,_0x153845,_0xd37242),this[_0x5557ce(0x2ee)][_0x5557ce(0x855)](this[_0x5557ce(0x3af)]+'\x20('+this['instance'][_0x5557ce(0x816)]+_0x5557ce(0x2d8));}catch(_0x121f91){let _0x5a394b={'error':!0x0,'errorLog':_0x121f91[_0x5557ce(0x698)]()};return this[_0x5557ce(0x43b)](_0x2900a8,_0x153845,_0x5a394b),this[_0x5557ce(0x2ee)][_0x5557ce(0x844)](this['instanceName']+'\x20('+this[_0x5557ce(0x7ef)][_0x5557ce(0x816)]+_0x5557ce(0x7b2)+(_0x121f91 instanceof Error?_0x121f91[_0x5557ce(0x142)]:JSON[_0x5557ce(0x3ef)](_0x121f91,null,0x2))),null;}}async[a0_0x36fc91(0x156)](_0x153e9e,_0xb96b22){const _0x13424d=a0_0x36fc91;if(this[_0x13424d(0x2ee)]['verbose'](this['instanceName']+'\x20('+this[_0x13424d(0x7ef)]['wuid']+_0x13424d(0x775)),!_0x153e9e||!_0xb96b22)return this[_0x13424d(0x2ee)][_0x13424d(0x844)](this['instanceName']+'\x20('+this['instance'][_0x13424d(0x816)]+_0x13424d(0x3f3)),null;let _0x11669b=Date[_0x13424d(0x630)](),_0xa77203=parseInt(_0xb96b22['stopMinutes'],0xa);if(isNaN(_0xa77203))return this['logger'][_0x13424d(0x844)](this['instanceName']+'\x20('+this[_0x13424d(0x7ef)]['wuid']+_0x13424d(0x3ad)),null;let _0x35a06e={'newStoppedUntil':_0x11669b+_0xa77203*0x3c*0x3e8};return await this['updateConversation'](_0x153e9e,_0xb96b22,_0x35a06e,!0x0),null;}async['processUazapi'](_0x393141,_0x242ff7){const _0x314986=a0_0x36fc91;try{switch(_0x242ff7[_0x314986(0x2b0)][_0x314986(0x7f9)]){case _0x314986(0x69a):await this[_0x314986(0x382)](_0x393141,_0x242ff7);break;case'sendMedia':await this[_0x314986(0x747)](_0x393141,_0x242ff7);break;case'sendLocation':await this[_0x314986(0x560)](_0x393141,_0x242ff7);break;case _0x314986(0x486):await this['uazapiSendAudio'](_0x393141,_0x242ff7);break;case _0x314986(0x1e4):await this[_0x314986(0x114)](_0x393141,_0x242ff7);break;case'sendPoll':await this[_0x314986(0x631)](_0x393141,_0x242ff7);break;case _0x314986(0x6d8):await this[_0x314986(0x631)](_0x393141,_0x242ff7);break;case'deleteMessage':await this['uazapiDeleteMessage'](_0x393141,_0x242ff7);break;default:this[_0x314986(0x2ee)][_0x314986(0x844)](this[_0x314986(0x3af)]+'\x20('+this[_0x314986(0x7ef)]['wuid']+_0x314986(0x71c)+_0x242ff7[_0x314986(0x2b0)][_0x314986(0x7f9)]);}}catch(_0x1e8566){this[_0x314986(0x2ee)][_0x314986(0x844)](this[_0x314986(0x3af)]+'\x20('+this[_0x314986(0x7ef)][_0x314986(0x816)]+_0x314986(0x25f)+(_0x1e8566 instanceof Error?_0x1e8566[_0x314986(0x142)]:JSON[_0x314986(0x3ef)](_0x1e8566,null,0x2)));}}async[a0_0x36fc91(0x43b)](_0x46bc09,_0x33883d,_0x23e946,_0x304d73=!0x1,_0x3177ac=!0x1){const _0x48714e=a0_0x36fc91;_0x46bc09[_0x48714e(0x4c6)][_0x48714e(0x777)]||(_0x46bc09[_0x48714e(0x4c6)]['blockLogs']=[]);let _0x4adb1e=(_0x46bc09[_0x48714e(0x4c6)]['blockLogs']?.['length']??0x0)+0x1,_0x2513ee=_0x46bc09[_0x48714e(0x4c6)][_0x48714e(0x777)][_0x48714e(0x125)](_0x1be4bf=>String(_0x1be4bf[_0x48714e(0x306)])===String(_0x33883d[_0x48714e(0x21f)]))[_0x48714e(0x6eb)]+0x1,_0x20dbb7=_0x23e946?.['onTime']??Date['now'](),_0x46d308=_0x23e946?.[_0x48714e(0x844)]?_0x23e946[_0x48714e(0x6b7)]??_0x23e946[_0x48714e(0x844)][_0x48714e(0x698)]():void 0x0,_0x16d6e9={'onTime':_0x20dbb7,'blockId':_0x33883d[_0x48714e(0x21f)],'order':_0x4adb1e,'activatedCount':_0x2513ee,'error':_0x23e946?.['error']??!0x1,'messageId':_0x23e946?.[_0x48714e(0x76d)],'apiResponse':_0x23e946?.[_0x48714e(0x470)],'apiResponseString':_0x23e946?.[_0x48714e(0x470)]?JSON[_0x48714e(0x3ef)](_0x23e946?.['apiResponse']):void 0x0,'variable':_0x23e946?.[_0x48714e(0x832)],'oldValue':_0x23e946?.['oldValue'],'newValue':_0x23e946?.['newValue'],'newStoppedUntil':_0x23e946?.[_0x48714e(0x7ba)],'moreLogs':_0x23e946?.[_0x48714e(0x48c)],'errorLog':_0x46d308};if(_0x23e946['moreLogs']&&_0x23e946[_0x48714e(0x48c)][_0x48714e(0x6eb)]>0x0){let _0x438161=_0x23e946[_0x48714e(0x48c)][_0x48714e(0x71e)](_0xf09d68=>this['replaceVariablesLogs'](_0xf09d68,_0x46bc09[_0x48714e(0x4c6)][_0x48714e(0x31b)]));_0x16d6e9[_0x48714e(0x48c)]=_0x438161;}if(_0x46bc09[_0x48714e(0x4c6)]['realVariables']||(_0x46bc09[_0x48714e(0x4c6)][_0x48714e(0x31b)]={}),_0x46bc09[_0x48714e(0x4c6)]['realVariables']['_activatedCount']=String(_0x2513ee),_0x46bc09['chatLog'][_0x48714e(0x31b)][_0x48714e(0x64c)]=String(_0x23e946['error']??!0x1),_0x46bc09[_0x48714e(0x4c6)][_0x48714e(0x777)][_0x48714e(0x871)](_0x16d6e9),_0x46bc09[_0x48714e(0x4c6)][_0x48714e(0x31b)][_0x48714e(0x1a8)]&&_0x46bc09[_0x48714e(0x4c6)]['realVariables'][_0x48714e(0x1a8)]!==_0x46bc09[_0x48714e(0x370)]){let _0x537d0e=(await this['whatsappNumber']({'numbers':[_0x46bc09[_0x48714e(0x4c6)][_0x48714e(0x31b)][_0x48714e(0x1a8)]]}))[0x0][_0x48714e(0x4cd)];_0x46bc09[_0x48714e(0x4c6)][_0x48714e(0x31b)][_0x48714e(0x1a8)]=_0x537d0e,_0x46bc09[_0x48714e(0x370)]=_0x537d0e;try{let _0x16777d={'_id':{'$ne':_0x46bc09[_0x48714e(0x21f)]},'remoteJid':_0x537d0e,'status':_0x48714e(0x4fc)},_0x3f7edf={'status':_0x48714e(0x52e)};await this[_0x48714e(0x465)][_0x48714e(0x2c3)][_0x48714e(0x404)](_0x16777d,_0x3f7edf,this[_0x48714e(0x7ef)]['wuid']),this['logger'][_0x48714e(0x855)](this['instanceName']+'\x20('+this[_0x48714e(0x7ef)]['wuid']+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.');}catch(_0x3d1251){this[_0x48714e(0x2ee)][_0x48714e(0x844)](this[_0x48714e(0x3af)]+'\x20('+this['instance']['wuid']+_0x48714e(0x79b)+_0x3d1251[_0x48714e(0x142)]);}try{let _0x47b846=_0x46bc09['chatLog'][_0x48714e(0x31b)],_0xf332e6=await this[_0x48714e(0x128)](_0x537d0e),_0x4049e0={..._0x47b846,..._0xf332e6,'_remoteJid':_0x537d0e};_0x46bc09[_0x48714e(0x4c6)][_0x48714e(0x31b)]=_0x4049e0;}catch(_0x216723){this[_0x48714e(0x2ee)]['error'](this['instanceName']+'\x20('+this['instance'][_0x48714e(0x816)]+_0x48714e(0x13e)+_0x216723['message']);}}_0x46bc09[_0x48714e(0x4c6)]['lastBlockId']=_0x33883d[_0x48714e(0x21f)][_0x48714e(0x698)](),_0x46bc09['chatLog'][_0x48714e(0x141)]&&(_0x46bc09['chatLog'][_0x48714e(0x141)]=_0x46bc09['chatLog'][_0x48714e(0x141)]),_0x46bc09['chatLog'][_0x48714e(0x7f5)]&&(_0x46bc09[_0x48714e(0x4c6)]['lastReceivedMessage']=_0x46bc09['chatLog']['lastReceivedMessage']),_0x46bc09[_0x48714e(0x4c6)]['lastCondition']&&(_0x46bc09[_0x48714e(0x4c6)][_0x48714e(0x808)]=_0x46bc09[_0x48714e(0x4c6)]['lastCondition']),_0x3177ac&&(_0x46bc09[_0x48714e(0x166)]='closed'),_0x304d73?this[_0x48714e(0x5a2)](_0x46bc09):this[_0x48714e(0x1b3)](_0x46bc09,_0x33883d);}['replaceVariablesLogs'](_0x54f5b8,_0x34b7e9){const _0xf9a21a=a0_0x36fc91;return _0x54f5b8['replace'](/\{\{([^}]+)\}\}/g,(_0x219e93,_0x534d85)=>_0x34b7e9[_0x534d85]?'{{'+_0x534d85+_0xf9a21a(0x6e7)+_0x34b7e9[_0x534d85]+'\x22':'{{'+_0x534d85+_0xf9a21a(0x499));}async['saveConversationToDatabase'](_0x18e4d6){const _0x2d4455=a0_0x36fc91;try{let _0xb4d6d5=Object[_0x2d4455(0x60d)](_0x18e4d6[_0x2d4455(0x4c6)]['realVariables'])[_0x2d4455(0x71e)](([_0x5cd104,_0x1f090d])=>({'name':_0x5cd104,'value':_0x1f090d})),_0x5b8889={'status':_0x18e4d6[_0x2d4455(0x166)],'remoteJid':_0x18e4d6[_0x2d4455(0x370)],'blocks':_0x18e4d6['blocks'],'waitingMenu_id':_0x18e4d6['waitingMenu_id'],'waitingMenu_text':_0x18e4d6[_0x2d4455(0x51a)],'waitingMenu_replyOptions':_0x18e4d6[_0x2d4455(0x59d)],'chatLog':{'lastBlockId':_0x18e4d6[_0x2d4455(0x4c6)]['lastBlockId'],'lastSendMessage':_0x18e4d6['chatLog'][_0x2d4455(0x141)],'lastReceivedMessage':_0x18e4d6[_0x2d4455(0x4c6)][_0x2d4455(0x7f5)],'lastCondition':_0x18e4d6[_0x2d4455(0x4c6)][_0x2d4455(0x808)],'chatVariables':_0xb4d6d5,'realVariables':_0x18e4d6[_0x2d4455(0x4c6)][_0x2d4455(0x31b)],'blockLogs':_0x18e4d6[_0x2d4455(0x4c6)][_0x2d4455(0x777)]}},_0x32fed1=await this[_0x2d4455(0x465)]['flowConversation'][_0x2d4455(0x47d)](_0x18e4d6[_0x2d4455(0x21f)],_0x5b8889,this[_0x2d4455(0x7ef)][_0x2d4455(0x816)]);if(_0x32fed1){this[_0x2d4455(0x2ee)][_0x2d4455(0x855)](this[_0x2d4455(0x3af)]+'\x20('+this[_0x2d4455(0x7ef)][_0x2d4455(0x816)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x32fed1[_0x2d4455(0x21f)]);try{let _0x23dcc0=[_0x2d4455(0x65e),_0x2d4455(0x14e),_0x2d4455(0x47f),_0x2d4455(0x1e9),_0x2d4455(0x166),_0x2d4455(0x549),_0x2d4455(0x283),_0x2d4455(0x5dd),_0x2d4455(0x462),_0x2d4455(0x219)];if(!this[_0x2d4455(0x669)]&&(await this[_0x2d4455(0x608)](),!this['AutomateSystem']))throw new Error(_0x2d4455(0x12e));let _0x229fb0=this[_0x2d4455(0x669)]?.[_0x2d4455(0x64b)]['map'](_0x2b8883=>_0x2b8883['name']),_0x4b069d={};Object[_0x2d4455(0x60d)](_0x18e4d6[_0x2d4455(0x4c6)][_0x2d4455(0x31b)])[_0x2d4455(0x12c)](([_0x1dd2d4,_0x2d2d7f])=>{const _0x1674c1=_0x2d4455;_0x23dcc0[_0x1674c1(0x22b)](_0x1dd2d4)&&(_0x1dd2d4===_0x1674c1(0x5dd)&&typeof _0x2d2d7f==_0x1674c1(0x2c1)?_0x4b069d[_0x1dd2d4]=_0x2d2d7f[_0x1674c1(0x599)](',')[_0x1674c1(0x71e)](_0x5939fc=>_0x5939fc[_0x1674c1(0x821)]())[_0x1674c1(0x125)](_0x4e3430=>_0x4e3430!==''):_0x1dd2d4===_0x1674c1(0x462)&&typeof _0x2d2d7f==_0x1674c1(0x2c1)?_0x4b069d[_0x1dd2d4]=_0x2d2d7f['split'](',')[_0x1674c1(0x71e)](_0x5b0955=>_0x5b0955[_0x1674c1(0x821)]())[_0x1674c1(0x125)](_0x2f8b74=>_0x2f8b74!==''):_0x4b069d[_0x1dd2d4]=_0x2d2d7f);});let _0x40cd82=_0x18e4d6[_0x2d4455(0x4c6)][_0x2d4455(0x777)][_0x18e4d6[_0x2d4455(0x4c6)][_0x2d4455(0x777)][_0x2d4455(0x6eb)]-0x1];if(_0x40cd82){let _0x274fed=_0x40cd82['newStoppedUntil'];_0x274fed!==void 0x0&&(_0x4b069d[_0x2d4455(0x504)]=_0x274fed[_0x2d4455(0x698)]());}let _0x3a9e1f=_0xb4d6d5[_0x2d4455(0x125)](_0x27b66b=>_0x229fb0[_0x2d4455(0x22b)](_0x27b66b[_0x2d4455(0x10b)]));this[_0x2d4455(0x2ee)][_0x2d4455(0x855)](this[_0x2d4455(0x3af)]+'\x20('+this['instance'][_0x2d4455(0x816)]+_0x2d4455(0x349)),this['logger']['verbose'](_0x4b069d),this[_0x2d4455(0x2ee)][_0x2d4455(0x855)](this[_0x2d4455(0x3af)]+'\x20('+this[_0x2d4455(0x7ef)]['wuid']+_0x2d4455(0x66f)),this[_0x2d4455(0x2ee)][_0x2d4455(0x855)](_0x3a9e1f);let _0x42957b=_0x3a9e1f[_0x2d4455(0x71e)](_0x8dd31f=>{const _0x2803c9=_0x2d4455;let _0x12a72d=this['AutomateSystem']?.['customFields'][_0x2803c9(0x757)](_0x4d32f2=>_0x4d32f2[_0x2803c9(0x10b)]===_0x8dd31f[_0x2803c9(0x10b)]);if(!_0x12a72d)throw new Error(_0x2803c9(0x39e)+_0x8dd31f[_0x2803c9(0x10b)]);return{'_id':_0x12a72d['_id'],'value':_0x8dd31f[_0x2803c9(0x247)]};});this[_0x2d4455(0x2ee)][_0x2d4455(0x855)](this[_0x2d4455(0x3af)]+'\x20('+this[_0x2d4455(0x7ef)][_0x2d4455(0x816)]+_0x2d4455(0x268)),this['logger'][_0x2d4455(0x855)](_0x42957b),await this[_0x2d4455(0x3fa)](_0x18e4d6[_0x2d4455(0x370)],_0x4b069d,_0x42957b);}catch(_0x39ceed){this[_0x2d4455(0x2ee)]['error'](this[_0x2d4455(0x3af)]+'\x20('+this[_0x2d4455(0x7ef)]['wuid']+_0x2d4455(0x1b4)+(_0x39ceed instanceof Error?_0x39ceed[_0x2d4455(0x142)]:JSON[_0x2d4455(0x3ef)](_0x39ceed,null,0x2)));}}else this['logger']['error'](this[_0x2d4455(0x3af)]+'\x20('+this[_0x2d4455(0x7ef)][_0x2d4455(0x816)]+'):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida');}catch(_0x92ecfe){this[_0x2d4455(0x2ee)][_0x2d4455(0x844)](this[_0x2d4455(0x3af)]+'\x20('+this[_0x2d4455(0x7ef)]['wuid']+_0x2d4455(0x6c6)+(_0x92ecfe instanceof Error?_0x92ecfe[_0x2d4455(0x142)]:JSON[_0x2d4455(0x3ef)](_0x92ecfe,null,0x2)));}}async[a0_0x36fc91(0x3fa)](_0x9b9c45,_0x2283d7,_0xa9ba5){const _0x105877=a0_0x36fc91;try{let _0x2d549d={'leadInfo.leadnome':_0x2283d7[_0x105877(0x65e)],'leadInfo.nomecompleto':_0x2283d7['nomecompleto'],'leadInfo.email':_0x2283d7[_0x105877(0x47f)],'leadInfo.cpf':_0x2283d7[_0x105877(0x1e9)],'leadInfo.status':_0x2283d7[_0x105877(0x166)],'leadInfo.notas':_0x2283d7[_0x105877(0x549)],'leadInfo.responsavelid':_0x2283d7[_0x105877(0x283)],'leadInfo.tags':_0x2283d7['tags'],'leadInfo.etiquetas':_0x2283d7[_0x105877(0x462)],'leadInfo.customFields':_0xa9ba5,'leadInfo.atendimentoAberto':_0x2283d7[_0x105877(0x219)]},_0x54de56=await this[_0x105877(0x465)][_0x105877(0x1aa)]['findOne']({'where':{'_id':_0x9b9c45}},this[_0x105877(0x7ef)]['wuid']);if(!_0x54de56)return _0x105877(0x6dc);let _0x24ac5a=new Set(_0x54de56[_0x105877(0x1e2)][_0x105877(0x462)]||[]),_0x5e33ce=new Set(_0x2283d7[_0x105877(0x462)]||[]),_0x40e103=await this[_0x105877(0x465)][_0x105877(0x1f2)][_0x105877(0x757)]({'where':{}},this['instance'][_0x105877(0x816)]),_0x1beb3c=new Set(_0x40e103[_0x105877(0x71e)](_0x190631=>_0x190631[_0x105877(0x21f)])),_0x5f3cbb=[..._0x5e33ce][_0x105877(0x125)](_0x3e783a=>!_0x24ac5a[_0x105877(0x4e2)](_0x3e783a)&&_0x1beb3c['has'](_0x3e783a)),_0x36aee3=[..._0x24ac5a][_0x105877(0x125)](_0x7eae0e=>!_0x5e33ce['has'](_0x7eae0e));for(let _0x51fe41 of _0x5f3cbb)await this[_0x105877(0x5c1)](_0x51fe41,_0x54de56['_id']),_0x24ac5a[_0x105877(0x187)](_0x51fe41);for(let _0x5a5210 of _0x36aee3)await this[_0x105877(0x491)](_0x5a5210,_0x54de56[_0x105877(0x21f)]),_0x24ac5a[_0x105877(0x807)](_0x5a5210);if(_0x105877(0x504)in _0x2283d7){let _0x1a7bf9=_0x2283d7[_0x105877(0x504)];_0x2d549d[_0x105877(0x2fc)]=_0x1a7bf9?Number(_0x1a7bf9):null;}if(_0x105877(0x219)in _0x2283d7){let _0x264baa=_0x2283d7['atendimentoAberto'][_0x105877(0x73c)]();_0x2d549d['leadInfo.atendimentoAberto']=_0x264baa==='true'||_0x264baa==='1'||_0x264baa===_0x105877(0x5f6)||_0x264baa===_0x105877(0x3cf);}let _0x521d0a=await this['repository'][_0x105877(0x1aa)][_0x105877(0x47d)]({'where':{'_id':_0x9b9c45}},_0x2d549d,this['instance'][_0x105877(0x816)]);_0x521d0a?(this[_0x105877(0x2ee)][_0x105877(0x855)](this[_0x105877(0x3af)]+'\x20('+this[_0x105877(0x7ef)]['wuid']+_0x105877(0x5d5)+_0x521d0a[_0x105877(0x21f)]),J(this[_0x105877(0x3af)],_0x105877(0x4a4),{'chat':_0x521d0a})):this[_0x105877(0x2ee)][_0x105877(0x844)](this[_0x105877(0x3af)]+'\x20('+this[_0x105877(0x7ef)][_0x105877(0x816)]+_0x105877(0x157));}catch(_0x3855dc){this[_0x105877(0x2ee)]['error'](this[_0x105877(0x3af)]+'\x20('+this['instance']['wuid']+_0x105877(0x85c)+(_0x3855dc instanceof Error?_0x3855dc[_0x105877(0x142)]:JSON[_0x105877(0x3ef)](_0x3855dc,null,0x2)));}}async[a0_0x36fc91(0x6a2)](_0x140509,_0x12c695){const _0x35c063=a0_0x36fc91;this[_0x35c063(0x2ee)]['verbose'](this['instanceName']+'\x20('+this[_0x35c063(0x7ef)]['wuid']+'):\x20atualização\x20chat:\x20'+_0x12c695);try{let _0xacde0a=await this[_0x35c063(0x465)][_0x35c063(0x1aa)][_0x35c063(0x47d)]({'where':{'_id':_0x140509[_0x35c063(0x370)]}},{'leadInfo.desativadoFluxoAte':_0x12c695},this[_0x35c063(0x7ef)][_0x35c063(0x816)]);this[_0x35c063(0x2ee)]['verbose'](this[_0x35c063(0x3af)]+'\x20('+this[_0x35c063(0x7ef)]['wuid']+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0x140509[_0x35c063(0x21f)]),this[_0x35c063(0x2ee)][_0x35c063(0x855)](this['instanceName']+'\x20('+this[_0x35c063(0x7ef)][_0x35c063(0x816)]+_0x35c063(0x221)+JSON[_0x35c063(0x3ef)](_0xacde0a,null,0x2)),_0xacde0a&&J(this[_0x35c063(0x3af)],_0x35c063(0x4a4),{'chat':_0xacde0a});}catch(_0x3aea9c){this[_0x35c063(0x2ee)][_0x35c063(0x844)](this[_0x35c063(0x3af)]+'\x20('+this[_0x35c063(0x7ef)]['wuid']+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0x3aea9c instanceof Error?_0x3aea9c[_0x35c063(0x142)]:JSON[_0x35c063(0x3ef)](_0x3aea9c,null,0x2)));}}async[a0_0x36fc91(0x235)](_0x23c328){const _0x2100a1=a0_0x36fc91;try{this[_0x2100a1(0x2ee)][_0x2100a1(0x855)](this[_0x2100a1(0x3af)]+'\x20('+this[_0x2100a1(0x7ef)][_0x2100a1(0x816)]+_0x2100a1(0x77b));let _0x36703a=_0x23c328['replace'](/\D/g,''),_0x3dc8f0=this[_0x2100a1(0x669)][_0x2100a1(0x329)]['find'](_0x35efef=>_0x35efef[_0x2100a1(0x199)]===_0x36703a);if(_0x3dc8f0||(this[_0x2100a1(0x2ee)][_0x2100a1(0x855)](this[_0x2100a1(0x3af)]+'\x20('+this[_0x2100a1(0x7ef)]['wuid']+_0x2100a1(0x4ba)),_0x3dc8f0=this[_0x2100a1(0x669)]['flows']['find'](_0x1d788b=>_0x1d788b['default']===!0x0)),!_0x3dc8f0)return this[_0x2100a1(0x2ee)][_0x2100a1(0x855)](this[_0x2100a1(0x3af)]+'\x20('+this['instance'][_0x2100a1(0x816)]+_0x2100a1(0x65c)),null;let _0x4e7a8d=await this[_0x2100a1(0x465)]['flow'][_0x2100a1(0x74a)]({'where':{'_id':_0x3dc8f0[_0x2100a1(0x21f)]}});if(!_0x4e7a8d||!_0x4e7a8d[_0x2100a1(0x763)]?.[_0x2100a1(0x22b)](this[_0x2100a1(0x7ef)][_0x2100a1(0x816)]))throw this[_0x2100a1(0x2ee)]['error'](this['instanceName']+'\x20('+this['instance'][_0x2100a1(0x816)]+_0x2100a1(0x179)+_0x4e7a8d[_0x2100a1(0x21f)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x2100a1(0x810)+_0x4e7a8d[_0x2100a1(0x21f)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');return _0x4e7a8d;}catch(_0x51af2f){return this['logger'][_0x2100a1(0x844)](this[_0x2100a1(0x3af)]+'\x20('+this[_0x2100a1(0x7ef)][_0x2100a1(0x816)]+_0x2100a1(0x5ab)+(_0x51af2f instanceof Error?_0x51af2f[_0x2100a1(0x142)]:JSON['stringify'](_0x51af2f,null,0x2))),null;}}async[a0_0x36fc91(0x463)](_0x332711,_0x30cc9c){const _0x319051=a0_0x36fc91;try{let _0x58489b=!!_0x30cc9c[_0x319051(0x495)],_0x44b806=_0x30cc9c[_0x319051(0x838)],_0x376093=null;if(this['logger'][_0x319051(0x855)](this[_0x319051(0x3af)]+'\x20('+this[_0x319051(0x7ef)]['wuid']+_0x319051(0x30f)+_0x58489b+_0x319051(0x19b)+_0x44b806),_0x58489b){this['logger'][_0x319051(0x855)](this['instanceName']+'\x20('+this[_0x319051(0x7ef)][_0x319051(0x816)]+_0x319051(0x759));let _0x3df007={'where':{'remoteJid':_0x332711,'waitingMenu_id':_0x44b806}};if(_0x376093=await this[_0x319051(0x465)][_0x319051(0x2c3)][_0x319051(0x74a)](_0x3df007,this['instance'][_0x319051(0x816)]),!_0x376093)return this[_0x319051(0x2ee)][_0x319051(0x855)](this[_0x319051(0x3af)]+'\x20('+this[_0x319051(0x7ef)]['wuid']+_0x319051(0x296)),null;let _0x35b27f=Date['now'](),_0x356e47=_0x376093?.['minutesToClose']||0x0,_0x2623f5=_0x35b27f-_0x356e47*0x3c*0x3e8;if(_0x376093['lastInteraction']<_0x2623f5){this['logger']['verbose'](this[_0x319051(0x3af)]+'\x20('+this[_0x319051(0x7ef)][_0x319051(0x816)]+_0x319051(0x317));let _0x556078={'number':_0x376093[_0x319051(0x370)],'options':{'delay':0x0},'textMessage':{'text':_0x376093['waitingMenu_ExpiredMessage']}};await this[_0x319051(0x3bd)](_0x556078);let _0x41dce5={'status':'closed','waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository'][_0x319051(0x2c3)]['updateOne'](_0x376093['_id'],_0x41dce5,this[_0x319051(0x7ef)][_0x319051(0x816)]),null;}return _0x376093['lastInteraction']=Date[_0x319051(0x630)](),_0x376093[_0x319051(0x4c6)][_0x319051(0x7f5)]=_0x30cc9c,_0x376093;}else{this[_0x319051(0x2ee)][_0x319051(0x855)](this[_0x319051(0x3af)]+'\x20('+this['instance'][_0x319051(0x816)]+'):\x20'+this[_0x319051(0x7ef)][_0x319051(0x816)]+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this[_0x319051(0x2ee)][_0x319051(0x855)](this[_0x319051(0x3af)]+'\x20('+this[_0x319051(0x7ef)][_0x319051(0x816)]+'):\x20Procurando\x20conversa');let _0x43c637={'where':{'remoteJid':_0x332711,'status':'open'}};if(_0x376093=await this[_0x319051(0x465)]['flowConversation']['findOne'](_0x43c637,this['instance'][_0x319051(0x816)]),!_0x376093){let _0x30679c=await this[_0x319051(0x235)](_0x332711);if(_0x30679c&&(_0x376093=await this[_0x319051(0x532)](_0x30679c,_0x30cc9c[_0x319051(0x39c)],_0x30cc9c)),!_0x376093)return null;}let _0x6546b0=Date['now'](),_0x264331=_0x376093?.[_0x319051(0x688)]||0x0,_0x59f4a9=_0x6546b0-_0x264331*0x3c*0x3e8;if(this['logger']['verbose'](this[_0x319051(0x3af)]+'\x20('+this['instance']['wuid']+_0x319051(0x119)+_0x6546b0+_0x319051(0x394)+_0x264331+_0x319051(0x3aa)+_0x59f4a9),this[_0x319051(0x2ee)][_0x319051(0x855)](this[_0x319051(0x3af)]+'\x20('+this[_0x319051(0x7ef)][_0x319051(0x816)]+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this[_0x319051(0x2ee)][_0x319051(0x855)](this[_0x319051(0x3af)]+'\x20('+this[_0x319051(0x7ef)]['wuid']+_0x319051(0x5c0)+_0x376093[_0x319051(0x17e)]),this['logger']['verbose'](this[_0x319051(0x3af)]+'\x20('+this['instance'][_0x319051(0x816)]+'):\x20expirationTime:\x20'+_0x59f4a9),_0x376093[_0x319051(0x17e)]<_0x59f4a9){this[_0x319051(0x2ee)][_0x319051(0x855)](this[_0x319051(0x3af)]+'\x20('+this[_0x319051(0x7ef)][_0x319051(0x816)]+_0x319051(0x5dc));let _0x4b6702=await this[_0x319051(0x235)](_0x332711);if(_0x4b6702===null)return null;_0x376093&&await this[_0x319051(0x465)][_0x319051(0x2c3)][_0x319051(0x47d)](_0x376093['_id'],{'status':'closed'},this[_0x319051(0x7ef)]['wuid']),_0x376093=await this[_0x319051(0x532)](_0x4b6702,_0x30cc9c[_0x319051(0x39c)],_0x30cc9c);}return _0x376093[_0x319051(0x17e)]=_0x6546b0,_0x376093[_0x319051(0x4c6)][_0x319051(0x7f5)]=_0x30cc9c,_0x376093;}}catch(_0x10f4c8){return this[_0x319051(0x2ee)][_0x319051(0x844)](this[_0x319051(0x3af)]+'\x20('+this[_0x319051(0x7ef)][_0x319051(0x816)]+_0x319051(0x451)+(_0x10f4c8 instanceof Error?_0x10f4c8[_0x319051(0x142)]:JSON[_0x319051(0x3ef)](_0x10f4c8,null,0x2))),null;}}async[a0_0x36fc91(0x532)](_0x2cd72e,_0x255cda,_0x5e992b){const _0xa55783=a0_0x36fc91;this[_0xa55783(0x2ee)][_0xa55783(0x855)](this[_0xa55783(0x3af)]+'\x20('+this[_0xa55783(0x7ef)][_0xa55783(0x816)]+_0xa55783(0x4b9));try{let _0x34b555=require(_0xa55783(0x7f0))[_0xa55783(0x81d)],_0x58054a=Date['now'](),_0x141600=_0xa55783(0x6ce),_0x2cdc5d=_0x255cda[_0xa55783(0x4b7)]?null:_0x5e992b,_0x3c66ab=_0x255cda['fromMe']?_0x5e992b:null,_0x23d6aa=_0x255cda[_0xa55783(0x370)],_0x568ed6=this['AutomateSystem'][_0xa55783(0x329)][_0xa55783(0x757)](_0x2539ce=>_0x2539ce[_0xa55783(0x21f)]===_0x2cd72e[_0xa55783(0x21f)]?.[_0xa55783(0x698)]()),_0x189680=_0x568ed6?.['minutesToClose']??_0x2cd72e[_0xa55783(0x688)]??0x0,_0x4d2673=_0x568ed6?.[_0xa55783(0x24c)]??_0x2cd72e[_0xa55783(0x24c)]??!0x1;await this[_0xa55783(0x4cc)](_0x23d6aa);let _0x2e9f10={'flowId':_0x2cd72e[_0xa55783(0x21f)],..._0x2cd72e,'chatLog':null},_0x3f04ec=await this['variablesToObject'](_0x2e9f10[_0xa55783(0x321)]),_0x321d55=await this[_0xa55783(0x128)](_0x23d6aa),_0x1693da={..._0x3f04ec,..._0x321d55,'_remoteJid':_0x23d6aa},_0x268416={'lastReceivedMessage':_0x2cdc5d,'lastSendMessage':_0x3c66ab,'lastBlockId':_0x141600,'lastCondition':!0x0,'realVariables':_0x1693da};_0x2e9f10[_0xa55783(0x4c6)]=_0x268416,delete _0x2e9f10[_0xa55783(0x21f)],_0x2e9f10[_0xa55783(0x21f)]=new _0x34b555(),_0x2e9f10[_0xa55783(0x17e)]=_0x58054a,_0x2e9f10[_0xa55783(0x166)]='open',_0x2e9f10['remoteJid']=_0x23d6aa,_0x2e9f10[_0xa55783(0x688)]=_0x189680,_0x2e9f10[_0xa55783(0x24c)]=_0x4d2673;let _0x80612=await this[_0xa55783(0x465)][_0xa55783(0x2c3)][_0xa55783(0x47d)](_0x2e9f10[_0xa55783(0x21f)],_0x2e9f10,this[_0xa55783(0x7ef)][_0xa55783(0x816)]);return this[_0xa55783(0x2ee)][_0xa55783(0x855)](this[_0xa55783(0x3af)]+'\x20('+this[_0xa55783(0x7ef)]['wuid']+_0xa55783(0x1a5)),_0x80612?_0x2e9f10:null;}catch(_0xa2da14){return this['logger']['error'](this[_0xa55783(0x3af)]+'\x20('+this[_0xa55783(0x7ef)][_0xa55783(0x816)]+_0xa55783(0x44e)+(_0xa2da14 instanceof Error?_0xa2da14[_0xa55783(0x142)]:JSON[_0xa55783(0x3ef)](_0xa2da14,null,0x2))),_0xa2da14;}}async[a0_0x36fc91(0x382)](_0x54b3f2,_0x5be203){const _0x2f2b2d=a0_0x36fc91;let _0x382653=_0x54b3f2[_0x2f2b2d(0x370)];_0x5be203[_0x2f2b2d(0x2b0)]['remoteJid']&&_0x5be203[_0x2f2b2d(0x2b0)][_0x2f2b2d(0x370)][_0x2f2b2d(0x821)]()!==''&&(_0x382653=_0x5be203[_0x2f2b2d(0x2b0)][_0x2f2b2d(0x370)][_0x2f2b2d(0x821)]()),this[_0x2f2b2d(0x2ee)][_0x2f2b2d(0x855)](this[_0x2f2b2d(0x3af)]+'\x20('+this[_0x2f2b2d(0x7ef)][_0x2f2b2d(0x816)]+_0x2f2b2d(0x75d));let _0x4b7d01={'number':_0x382653,'options':{'delay':_0x5be203['uazapi']['delay'],'linkPreview':_0x5be203[_0x2f2b2d(0x2b0)]['linkPreview']},'textMessage':{'text':_0x5be203['uazapi'][_0x2f2b2d(0x76e)]}};try{let _0x2333dc=await this[_0x2f2b2d(0x3bd)](_0x4b7d01);if(_0x2333dc){let _0x1dd1e8={'_id':_0x2333dc[_0x2f2b2d(0x39c)]['id'],'_fromMe':_0x2333dc['key'][_0x2f2b2d(0x4b7)],'_remoteJid':_0x2333dc[_0x2f2b2d(0x39c)][_0x2f2b2d(0x370)]},_0x1339b5=(0x0,w['normalizeMessageContent'])(_0x2333dc['message']),_0x3cca06=(0x0,w[_0x2f2b2d(0x7ea)])(_0x1339b5);_0x54b3f2[_0x2f2b2d(0x4c6)][_0x2f2b2d(0x779)]=_0x5be203[_0x2f2b2d(0x21f)][_0x2f2b2d(0x698)]();let {message_normalized:_0x3d8de8}=this[_0x2f2b2d(0x208)](_0x1339b5,_0x3cca06,null);_0x54b3f2[_0x2f2b2d(0x4c6)][_0x2f2b2d(0x141)]=await _0x3d8de8;let _0x383cea={'messageId':_0x2333dc[_0x2f2b2d(0x39c)]['id']},_0x123a7f=_0x54b3f2[_0x2f2b2d(0x4c6)][_0x2f2b2d(0x31b)];Object[_0x2f2b2d(0x671)](_0x123a7f,_0x1dd1e8),_0x54b3f2[_0x2f2b2d(0x4c6)][_0x2f2b2d(0x31b)]=_0x123a7f,this[_0x2f2b2d(0x43b)](_0x54b3f2,_0x5be203,_0x383cea);}else{let _0x57edb7={'error':!0x0};this[_0x2f2b2d(0x43b)](_0x54b3f2,_0x5be203,_0x57edb7),this[_0x2f2b2d(0x2ee)][_0x2f2b2d(0x844)](this[_0x2f2b2d(0x3af)]+'\x20('+this[_0x2f2b2d(0x7ef)][_0x2f2b2d(0x816)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x1f16ea){let _0x651de7={'error':!0x0,'errorLog':_0x1f16ea['toString']()};this[_0x2f2b2d(0x43b)](_0x54b3f2,_0x5be203,_0x651de7),this[_0x2f2b2d(0x2ee)]['error'](this['instanceName']+'\x20('+this[_0x2f2b2d(0x7ef)][_0x2f2b2d(0x816)]+_0x2f2b2d(0x843)+(_0x1f16ea instanceof Error?_0x1f16ea[_0x2f2b2d(0x142)]:JSON[_0x2f2b2d(0x3ef)](_0x1f16ea,null,0x2)));}}async[a0_0x36fc91(0x747)](_0x554694,_0xb26f9b){const _0x2e2261=a0_0x36fc91;let _0x84799e=_0x554694['remoteJid'];_0xb26f9b[_0x2e2261(0x2b0)][_0x2e2261(0x370)]&&_0xb26f9b['uazapi'][_0x2e2261(0x370)][_0x2e2261(0x821)]()!==''&&(_0x84799e=_0xb26f9b['uazapi'][_0x2e2261(0x370)][_0x2e2261(0x821)]()),this[_0x2e2261(0x2ee)]['verbose'](this[_0x2e2261(0x3af)]+'\x20('+this[_0x2e2261(0x7ef)][_0x2e2261(0x816)]+_0x2e2261(0x25d));let _0x1885a9={'number':_0x84799e,'options':{'delay':_0xb26f9b['uazapi'][_0x2e2261(0x6e4)],'linkPreview':_0xb26f9b[_0x2e2261(0x2b0)][_0x2e2261(0x7e3)]},'mediaMessage':{'mediatype':_0xb26f9b['uazapi']['mediatype'],'caption':_0xb26f9b['uazapi'][_0x2e2261(0x7ae)],'media':_0xb26f9b[_0x2e2261(0x2b0)][_0x2e2261(0x1ac)],'fileName':_0xb26f9b[_0x2e2261(0x2b0)][_0x2e2261(0x3f6)]}};try{let _0x5427fa=await this[_0x2e2261(0x1b2)](_0x1885a9);if(_0x5427fa){let _0x57ab09={'_id':_0x5427fa[_0x2e2261(0x39c)]['id'],'_fromMe':_0x5427fa['key']['fromMe'],'_remoteJid':_0x5427fa[_0x2e2261(0x39c)][_0x2e2261(0x370)]},_0x3e9acb=(0x0,w[_0x2e2261(0x870)])(_0x5427fa[_0x2e2261(0x142)]),_0xaac623=(0x0,w['getContentType'])(_0x3e9acb);_0x554694[_0x2e2261(0x4c6)][_0x2e2261(0x779)]=_0xb26f9b[_0x2e2261(0x21f)][_0x2e2261(0x698)]();let {message_normalized:_0x1482c0}=this[_0x2e2261(0x208)](_0x3e9acb,_0xaac623,null);_0x554694['chatLog'][_0x2e2261(0x141)]=await _0x1482c0;let _0x1a2481={'messageId':_0x5427fa[_0x2e2261(0x39c)]['id']},_0x309bb9=_0x554694[_0x2e2261(0x4c6)][_0x2e2261(0x31b)];Object[_0x2e2261(0x671)](_0x309bb9,_0x57ab09),_0x554694[_0x2e2261(0x4c6)][_0x2e2261(0x31b)]=_0x309bb9,this[_0x2e2261(0x43b)](_0x554694,_0xb26f9b,_0x1a2481);}else{let _0x40b908={'error':!0x0};this[_0x2e2261(0x43b)](_0x554694,_0xb26f9b,_0x40b908),this['logger']['error'](this[_0x2e2261(0x3af)]+'\x20('+this[_0x2e2261(0x7ef)][_0x2e2261(0x816)]+_0x2e2261(0x4e3));}}catch(_0x3d2335){let _0x3c7711={'error':!0x0,'errorLog':_0x3d2335[_0x2e2261(0x698)]()};this[_0x2e2261(0x43b)](_0x554694,_0xb26f9b,_0x3c7711),this[_0x2e2261(0x2ee)]['error'](this['instanceName']+'\x20('+this[_0x2e2261(0x7ef)][_0x2e2261(0x816)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x3d2335 instanceof Error?_0x3d2335[_0x2e2261(0x142)]:JSON[_0x2e2261(0x3ef)](_0x3d2335,null,0x2)));}}async['uazapiSendLocation'](_0x2c3c5c,_0x969709){const _0x1749ac=a0_0x36fc91;let _0x34fbe9=_0x2c3c5c['remoteJid'];_0x969709['uazapi'][_0x1749ac(0x370)]&&_0x969709[_0x1749ac(0x2b0)]['remoteJid'][_0x1749ac(0x821)]()!==''&&(_0x34fbe9=_0x969709['uazapi']['remoteJid'][_0x1749ac(0x821)]()),this[_0x1749ac(0x2ee)][_0x1749ac(0x855)](this[_0x1749ac(0x3af)]+'\x20('+this['instance'][_0x1749ac(0x816)]+_0x1749ac(0x62d));let _0x11daa7={'number':_0x34fbe9,'options':{'delay':_0x969709['uazapi'][_0x1749ac(0x6e4)]},'locationMessage':{'name':_0x969709['uazapi']['name'],'address':_0x969709[_0x1749ac(0x2b0)][_0x1749ac(0x457)],'latitude':_0x969709[_0x1749ac(0x2b0)][_0x1749ac(0x449)],'longitude':_0x969709[_0x1749ac(0x2b0)][_0x1749ac(0x207)]}};try{let _0x3fab5a=await this[_0x1749ac(0x684)](_0x11daa7);if(_0x3fab5a){let _0x460e30={'_id':_0x3fab5a[_0x1749ac(0x39c)]['id'],'_fromMe':_0x3fab5a[_0x1749ac(0x39c)][_0x1749ac(0x4b7)],'_remoteJid':_0x3fab5a['key']['remoteJid']},_0x265fa8=(0x0,w[_0x1749ac(0x870)])(_0x3fab5a['message']),_0x623e1d=(0x0,w['getContentType'])(_0x265fa8);_0x2c3c5c['chatLog'][_0x1749ac(0x779)]=_0x969709[_0x1749ac(0x21f)]['toString']();let {message_normalized:_0xa737d4}=this[_0x1749ac(0x208)](_0x265fa8,_0x623e1d,null);_0x2c3c5c['chatLog'][_0x1749ac(0x141)]=await _0xa737d4;let _0x32be72={'messageId':_0x3fab5a['key']['id']},_0xcc2679=_0x2c3c5c[_0x1749ac(0x4c6)][_0x1749ac(0x31b)];Object['assign'](_0xcc2679,_0x460e30),_0x2c3c5c['chatLog']['realVariables']=_0xcc2679,this[_0x1749ac(0x43b)](_0x2c3c5c,_0x969709,_0x32be72);}else{let _0x1fdd36={'error':!0x0};this['updateConversation'](_0x2c3c5c,_0x969709,_0x1fdd36),this[_0x1749ac(0x2ee)][_0x1749ac(0x844)](this[_0x1749ac(0x3af)]+'\x20('+this['instance'][_0x1749ac(0x816)]+_0x1749ac(0x3fb));}}catch(_0x4329f7){let _0x2fb630={'error':!0x0,'errorLog':_0x4329f7[_0x1749ac(0x698)]()};this[_0x1749ac(0x43b)](_0x2c3c5c,_0x969709,_0x2fb630),this['logger'][_0x1749ac(0x844)](this[_0x1749ac(0x3af)]+'\x20('+this[_0x1749ac(0x7ef)][_0x1749ac(0x816)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20'+(_0x4329f7 instanceof Error?_0x4329f7['message']:JSON['stringify'](_0x4329f7,null,0x2)));}}async[a0_0x36fc91(0x4d7)](_0x12b2d3,_0x2a24ac){const _0x439a48=a0_0x36fc91;let _0x18d2f0=_0x12b2d3[_0x439a48(0x370)];_0x2a24ac['uazapi'][_0x439a48(0x370)]&&_0x2a24ac[_0x439a48(0x2b0)][_0x439a48(0x370)][_0x439a48(0x821)]()!==''&&(_0x18d2f0=_0x2a24ac[_0x439a48(0x2b0)]['remoteJid']['trim']()),this[_0x439a48(0x2ee)][_0x439a48(0x855)](this[_0x439a48(0x3af)]+'\x20('+this[_0x439a48(0x7ef)]['wuid']+_0x439a48(0x56b));let _0x4125b8={'number':_0x18d2f0,'options':{'delay':_0x2a24ac['uazapi'][_0x439a48(0x6e4)]},'audioMessage':{'audio':_0x2a24ac[_0x439a48(0x2b0)]['audio']}};try{let _0x120000=await this[_0x439a48(0x318)](_0x4125b8);if(_0x120000){let _0x36df7b={'_id':_0x120000[_0x439a48(0x39c)]['id'],'_fromMe':_0x120000[_0x439a48(0x39c)][_0x439a48(0x4b7)],'_remoteJid':_0x120000[_0x439a48(0x39c)][_0x439a48(0x370)]},_0xab12e7=(0x0,w[_0x439a48(0x870)])(_0x120000[_0x439a48(0x142)]),_0x41ec55=(0x0,w[_0x439a48(0x7ea)])(_0xab12e7);_0x12b2d3['chatLog'][_0x439a48(0x779)]=_0x2a24ac['_id'][_0x439a48(0x698)]();let {message_normalized:_0x4bdf14}=this[_0x439a48(0x208)](_0xab12e7,_0x41ec55,null);_0x12b2d3[_0x439a48(0x4c6)]['lastSendMessage']=await _0x4bdf14;let _0x22f941={'messageId':_0x120000['key']['id']},_0x1b3f8a=_0x12b2d3[_0x439a48(0x4c6)][_0x439a48(0x31b)];Object[_0x439a48(0x671)](_0x1b3f8a,_0x36df7b),_0x12b2d3[_0x439a48(0x4c6)][_0x439a48(0x31b)]=_0x1b3f8a,this[_0x439a48(0x43b)](_0x12b2d3,_0x2a24ac,_0x22f941);}else{let _0x50fb41={'error':!0x0};this[_0x439a48(0x43b)](_0x12b2d3,_0x2a24ac,_0x50fb41),this['logger'][_0x439a48(0x844)](this['instanceName']+'\x20('+this[_0x439a48(0x7ef)]['wuid']+_0x439a48(0x534));}}catch(_0x3136e4){let _0x575175={'error':!0x0,'errorLog':_0x3136e4[_0x439a48(0x698)]()};this[_0x439a48(0x43b)](_0x12b2d3,_0x2a24ac,_0x575175),this['logger'][_0x439a48(0x844)](this[_0x439a48(0x3af)]+'\x20('+this[_0x439a48(0x7ef)][_0x439a48(0x816)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+(_0x3136e4 instanceof Error?_0x3136e4[_0x439a48(0x142)]:JSON[_0x439a48(0x3ef)](_0x3136e4,null,0x2)));}}async[a0_0x36fc91(0x114)](_0x154fd8,_0xcb5769){const _0xa241fe=a0_0x36fc91;let _0x55f416=_0x154fd8['remoteJid'];_0xcb5769[_0xa241fe(0x2b0)][_0xa241fe(0x370)]&&_0xcb5769[_0xa241fe(0x2b0)][_0xa241fe(0x370)][_0xa241fe(0x821)]()!==''&&(_0x55f416=_0xcb5769[_0xa241fe(0x2b0)]['remoteJid'][_0xa241fe(0x821)]()),this['logger'][_0xa241fe(0x855)](this[_0xa241fe(0x3af)]+'\x20('+this[_0xa241fe(0x7ef)][_0xa241fe(0x816)]+_0xa241fe(0x24e));let _0x824bb0={'number':_0x55f416,'options':{'delay':_0xcb5769[_0xa241fe(0x2b0)][_0xa241fe(0x6e4)]},'contactMessage':[{'fullName':_0xcb5769['uazapi'][_0xa241fe(0x23e)],'phoneNumber':_0xcb5769[_0xa241fe(0x2b0)]['phoneNumber']}]};try{let _0x53bf80=await this['contactMessage'](_0x824bb0);if(_0x53bf80){let _0x2b257c={'_id':_0x53bf80[_0xa241fe(0x39c)]['id'],'_fromMe':_0x53bf80[_0xa241fe(0x39c)][_0xa241fe(0x4b7)],'_remoteJid':_0x53bf80['key']['remoteJid']},_0x237dd4=(0x0,w[_0xa241fe(0x870)])(_0x53bf80['message']),_0x4891c6=(0x0,w[_0xa241fe(0x7ea)])(_0x237dd4);_0x154fd8[_0xa241fe(0x4c6)][_0xa241fe(0x779)]=_0xcb5769['_id'][_0xa241fe(0x698)]();let {message_normalized:_0x46e581}=this[_0xa241fe(0x208)](_0x237dd4,_0x4891c6,null);_0x154fd8[_0xa241fe(0x4c6)]['lastSendMessage']=await _0x46e581;let _0x168e4e={'messageId':_0x53bf80[_0xa241fe(0x39c)]['id']},_0x36e45e=_0x154fd8[_0xa241fe(0x4c6)][_0xa241fe(0x31b)];Object['assign'](_0x36e45e,_0x2b257c),_0x154fd8[_0xa241fe(0x4c6)][_0xa241fe(0x31b)]=_0x36e45e,this[_0xa241fe(0x43b)](_0x154fd8,_0xcb5769,_0x168e4e);}else{let _0x50b8d5={'error':!0x0};this['updateConversation'](_0x154fd8,_0xcb5769,_0x50b8d5),this[_0xa241fe(0x2ee)][_0xa241fe(0x844)](this[_0xa241fe(0x3af)]+'\x20('+this[_0xa241fe(0x7ef)][_0xa241fe(0x816)]+_0xa241fe(0x1ab));}}catch(_0x1451bd){let _0x183fd0={'error':!0x0,'errorLog':_0x1451bd[_0xa241fe(0x698)]()};this[_0xa241fe(0x43b)](_0x154fd8,_0xcb5769,_0x183fd0),this[_0xa241fe(0x2ee)][_0xa241fe(0x844)](this['instanceName']+'\x20('+this[_0xa241fe(0x7ef)][_0xa241fe(0x816)]+_0xa241fe(0x334)+(_0x1451bd instanceof Error?_0x1451bd['message']:JSON['stringify'](_0x1451bd,null,0x2)));}}[a0_0x36fc91(0x169)](_0x2b9854,_0x3b4943){const _0x5bae8c=a0_0x36fc91;for(let _0x51c620 of _0x2b9854)_0x51c620[_0x5bae8c(0x5fb)]&&(_0x51c620['option']=this[_0x5bae8c(0x228)](_0x51c620[_0x5bae8c(0x5fb)],_0x3b4943)),_0x51c620[_0x5bae8c(0x591)]&&(_0x51c620[_0x5bae8c(0x591)]=this[_0x5bae8c(0x228)](_0x51c620[_0x5bae8c(0x591)],_0x3b4943));}async[a0_0x36fc91(0x631)](_0x337bea,_0x4e7efc){const _0x1b197c=a0_0x36fc91;let _0x1a50cd=_0x337bea['remoteJid'];_0x4e7efc[_0x1b197c(0x2b0)]['remoteJid']&&_0x4e7efc[_0x1b197c(0x2b0)][_0x1b197c(0x370)][_0x1b197c(0x821)]()!==''&&(_0x1a50cd=_0x4e7efc['uazapi'][_0x1b197c(0x370)][_0x1b197c(0x821)]()),this[_0x1b197c(0x2ee)][_0x1b197c(0x855)](this[_0x1b197c(0x3af)]+'\x20('+this[_0x1b197c(0x7ef)][_0x1b197c(0x816)]+_0x1b197c(0x56c));let _0x502d48=_0x337bea[_0x1b197c(0x27b)][_0x1b197c(0x125)](_0x374dda=>_0x374dda[_0x1b197c(0x306)]===_0x4e7efc[_0x1b197c(0x21f)])[_0x1b197c(0x790)]((_0x33e910,_0x40ead6)=>_0x33e910[_0x1b197c(0x1a1)]-_0x40ead6[_0x1b197c(0x1a1)]);this[_0x1b197c(0x169)](_0x502d48,_0x337bea['chatLog'][_0x1b197c(0x31b)]);let _0x2ea1b5=_0x502d48[_0x1b197c(0x71e)](_0x2d352d=>_0x2d352d['option']),_0x9e302b={'number':_0x1a50cd,'menuMessage':{'type':_0x4e7efc[_0x1b197c(0x2b0)][_0x1b197c(0x338)]||_0x1b197c(0x2fe),'text':_0x4e7efc['uazapi'][_0x1b197c(0x76e)]||_0x4e7efc[_0x1b197c(0x2b0)]['name'],'footerText':_0x4e7efc[_0x1b197c(0x2b0)][_0x1b197c(0x72f)],'buttonText':_0x4e7efc['uazapi']['buttonText'],'selectableCount':0x1,'choices':_0x2ea1b5},'options':{'delay':_0x4e7efc[_0x1b197c(0x2b0)][_0x1b197c(0x6e4)]}};try{let _0x1ee266=await this['menuMessage'](_0x9e302b);if(_0x1ee266){let _0x3eaa42={'_id':_0x1ee266['key']['id'],'_fromMe':_0x1ee266[_0x1b197c(0x39c)][_0x1b197c(0x4b7)],'_remoteJid':_0x1ee266[_0x1b197c(0x39c)]['remoteJid']};_0x4e7efc['uazapi'][_0x1b197c(0x4dc)]===!0x0&&(_0x337bea[_0x1b197c(0x166)]=_0x1b197c(0x4fd),this[_0x1b197c(0x2ee)]['verbose'](this[_0x1b197c(0x3af)]+'\x20('+this[_0x1b197c(0x7ef)][_0x1b197c(0x816)]+'):\x20conversation.status:\x20'+_0x337bea['status'])),this[_0x1b197c(0x2ee)][_0x1b197c(0x855)](this['instanceName']+'\x20('+this[_0x1b197c(0x7ef)][_0x1b197c(0x816)]+_0x1b197c(0x410)+(_0x4e7efc[_0x1b197c(0x2b0)][_0x1b197c(0x10b)]||_0x4e7efc['uazapi'][_0x1b197c(0x76e)])),_0x337bea[_0x1b197c(0x75b)]=_0x1ee266[_0x1b197c(0x39c)]['id'],_0x337bea[_0x1b197c(0x51a)]=_0x4e7efc[_0x1b197c(0x2b0)]['name']||_0x4e7efc[_0x1b197c(0x2b0)][_0x1b197c(0x76e)],_0x337bea[_0x1b197c(0x59d)]=_0x502d48,_0x4e7efc[_0x1b197c(0x2b0)][_0x1b197c(0x2f0)]&&(_0x337bea[_0x1b197c(0x4b3)]=_0x4e7efc['uazapi'][_0x1b197c(0x2f0)]),this['logger']['verbose'](this[_0x1b197c(0x3af)]+'\x20('+this['instance']['wuid']+_0x1b197c(0x7a8)+_0x337bea[_0x1b197c(0x51a)]);let _0x591983=(0x0,w[_0x1b197c(0x870)])(_0x1ee266['message']),_0x33408d=(0x0,w['getContentType'])(_0x591983);_0x337bea[_0x1b197c(0x4c6)][_0x1b197c(0x779)]=_0x4e7efc[_0x1b197c(0x21f)][_0x1b197c(0x698)]();let {message_normalized:_0x5ef7b2}=this[_0x1b197c(0x208)](_0x591983,_0x33408d,null);_0x337bea[_0x1b197c(0x4c6)][_0x1b197c(0x141)]=await _0x5ef7b2;let _0x2bd6aa={'messageId':_0x1ee266[_0x1b197c(0x39c)]['id']},_0x4c5b82=_0x337bea[_0x1b197c(0x4c6)][_0x1b197c(0x31b)];Object[_0x1b197c(0x671)](_0x4c5b82,_0x3eaa42),_0x337bea['chatLog'][_0x1b197c(0x31b)]=_0x4c5b82,this[_0x1b197c(0x43b)](_0x337bea,_0x4e7efc,_0x2bd6aa);}else{let _0x495cfd={'error':!0x0};this['updateConversation'](_0x337bea,_0x4e7efc,_0x495cfd),this['logger'][_0x1b197c(0x844)](this[_0x1b197c(0x3af)]+'\x20('+this['instance'][_0x1b197c(0x816)]+_0x1b197c(0x267));}}catch(_0x466d2f){let _0x3fa573={'error':!0x0,'errorLog':_0x466d2f instanceof Error?_0x466d2f['message']:JSON[_0x1b197c(0x3ef)](_0x466d2f,null,0x2)};this[_0x1b197c(0x43b)](_0x337bea,_0x4e7efc,_0x3fa573),this[_0x1b197c(0x2ee)][_0x1b197c(0x844)](this[_0x1b197c(0x3af)]+'\x20('+this['instance'][_0x1b197c(0x816)]+_0x1b197c(0x397)+(_0x466d2f instanceof Error?_0x466d2f[_0x1b197c(0x142)]:JSON['stringify'](_0x466d2f,null,0x2)));}}async[a0_0x36fc91(0x552)](_0x36f391,_0x53bf42){const _0x59a6c2=a0_0x36fc91;this[_0x59a6c2(0x2ee)][_0x59a6c2(0x855)](this[_0x59a6c2(0x3af)]+'\x20('+this['instance'][_0x59a6c2(0x816)]+_0x59a6c2(0x1ed));let _0x1843cb=_0x36f391[_0x59a6c2(0x4c6)][_0x59a6c2(0x777)][_0x59a6c2(0x757)](_0x1c187c=>_0x1c187c[_0x59a6c2(0x306)][_0x59a6c2(0x698)]()===_0x53bf42[_0x59a6c2(0x2b0)]['blockId']['toString']()),_0x43fde1={'id':_0x1843cb[_0x59a6c2(0x76d)],'remoteJid':_0x1843cb[_0x59a6c2(0x370)],'fromMe':_0x1843cb['fromMe']};try{let _0x78aa45=await this[_0x59a6c2(0x605)](_0x43fde1);if(_0x78aa45){let _0xace568=(0x0,w['normalizeMessageContent'])(_0x78aa45[_0x59a6c2(0x142)]),_0xf1ae52=(0x0,w[_0x59a6c2(0x7ea)])(_0xace568);_0x36f391[_0x59a6c2(0x4c6)]['lastBlockId']=_0x53bf42['_id'][_0x59a6c2(0x698)]();let {message_normalized:_0x224526}=this[_0x59a6c2(0x208)](_0xace568,_0xf1ae52,null);_0x36f391[_0x59a6c2(0x4c6)][_0x59a6c2(0x141)]=await _0x224526;let _0x228a97={};this[_0x59a6c2(0x43b)](_0x36f391,_0x53bf42,_0x228a97);}else{let _0x48a378={'error':!0x0};this[_0x59a6c2(0x43b)](_0x36f391,_0x53bf42,_0x48a378),this[_0x59a6c2(0x2ee)][_0x59a6c2(0x844)](this[_0x59a6c2(0x3af)]+'\x20('+this[_0x59a6c2(0x7ef)][_0x59a6c2(0x816)]+_0x59a6c2(0x32d));}}catch(_0x327b5a){let _0x1c403a={'error':!0x0,'errorLog':_0x327b5a instanceof Error?_0x327b5a[_0x59a6c2(0x142)]:JSON[_0x59a6c2(0x3ef)](_0x327b5a,null,0x2)};this[_0x59a6c2(0x43b)](_0x36f391,_0x53bf42,_0x1c403a),this[_0x59a6c2(0x2ee)][_0x59a6c2(0x844)](this[_0x59a6c2(0x3af)]+'\x20('+this[_0x59a6c2(0x7ef)][_0x59a6c2(0x816)]+_0x59a6c2(0x1f4)+(_0x327b5a instanceof Error?_0x327b5a['message']:JSON[_0x59a6c2(0x3ef)](_0x327b5a,null,0x2)));}}async[a0_0x36fc91(0x2e9)](_0x5c587d,_0x4fe8d4){const _0x20432f=a0_0x36fc91;if(_0x5c587d[_0x20432f(0x10b)]||(_0x5c587d['name']=(0x0,X['v4'])()),_0x4fe8d4!==$i&&_0x5c587d?.[_0x20432f(0x331)])throw new m(_0x20432f(0x5ae));if(_0x20432f(0x21f)in _0x5c587d&&_0x20432f(0x3c6)in _0x5c587d)return this[_0x20432f(0x455)](_0x5c587d[_0x20432f(0x3c6)],_0x5c587d[_0x20432f(0x21f)]);this[_0x20432f(0x2ee)][_0x20432f(0x855)](this['instanceName']+'\x20('+this[_0x20432f(0x7ef)][_0x20432f(0x816)]+_0x20432f(0x85f));let _0x29ba18=this['getUniqueFlowName'](_0x5c587d['name']),_0x3bd780=new he[(_0x20432f(0x827))][(_0x20432f(0x81d))](),_0x141d55={'_id':_0x3bd780,'default':!0x0,'title':_0x20432f(0x3e4),'x':0x0,'y':0x0},_0x32580c={'_id':new he['Types'][(_0x20432f(0x81d))](),'order':0x1,'groupId':_0x3bd780[_0x20432f(0x698)](),'type':_0x20432f(0x6ce)},_0x8fc20b=this['instance']['wuid'],_0x29dd2e={'_id':(0x0,X['v4'])(),'owner':_0x8fc20b,'name':_0x29ba18,'whoCanEdit':[_0x8fc20b],'whoCanUse':[_0x8fc20b],'groups':[_0x141d55],'blocks':[_0x32580c],..._0x5c587d};try{let _0x207517=await this['repository'][_0x20432f(0x419)]['createAndSave'](_0x29dd2e);return await this[_0x20432f(0x78d)](),_0x207517;}catch(_0x389b4b){let _0x1e7d22=_0x20432f(0x526),_0x5770f2=_0x389b4b instanceof Error?_0x389b4b[_0x20432f(0x142)]:typeof _0x389b4b==_0x20432f(0x733)?JSON[_0x20432f(0x3ef)](_0x389b4b):_0x389b4b,_0x423462=_0x1e7d22+':\x20'+_0x5770f2;throw this[_0x20432f(0x2ee)][_0x20432f(0x844)](this['instanceName']+'\x20('+this[_0x20432f(0x7ef)][_0x20432f(0x816)]+_0x20432f(0x651)+_0x423462),new m(_0x423462);}}async[a0_0x36fc91(0x455)](_0x1ef120,_0x3d4538){const _0x2b8eae=a0_0x36fc91;try{this[_0x2b8eae(0x2ee)][_0x2b8eae(0x855)](this['instanceName']+'\x20('+this[_0x2b8eae(0x7ef)][_0x2b8eae(0x816)]+_0x2b8eae(0x561));let _0x7f04f9=await this[_0x2b8eae(0x465)][_0x2b8eae(0x419)][_0x2b8eae(0x74a)]({'where':{'_id':_0x3d4538,'owner':_0x1ef120}});if(!_0x7f04f9)throw new m('Nenhum\x20fluxo\x20correspondente\x20encontrado.');if(_0x7f04f9[_0x2b8eae(0x5f4)]===!0x1&&!_0x7f04f9[_0x2b8eae(0x331)])throw new m('Esse\x20fluxo\x20não\x20permite\x20importação.');let _0x2d732c=new Set(_0x7f04f9[_0x2b8eae(0x763)]??[]);_0x2d732c[_0x2b8eae(0x187)](this[_0x2b8eae(0x7ef)][_0x2b8eae(0x816)]);let _0x4b9a5e=await this[_0x2b8eae(0x465)][_0x2b8eae(0x419)][_0x2b8eae(0x47d)](_0x3d4538,{..._0x7f04f9,'whoCanUse':Array[_0x2b8eae(0x113)](_0x2d732c)});return await this[_0x2b8eae(0x78d)](),_0x4b9a5e;}catch(_0x236485){let _0x29a257=_0x2b8eae(0x7fb),_0x31f3b7=_0x236485 instanceof Error?_0x236485['message']:typeof _0x236485==_0x2b8eae(0x733)?JSON[_0x2b8eae(0x3ef)](_0x236485):_0x236485,_0x2e1792=_0x29a257+':\x20'+_0x31f3b7;throw this[_0x2b8eae(0x2ee)][_0x2b8eae(0x844)](this[_0x2b8eae(0x3af)]+'\x20('+this[_0x2b8eae(0x7ef)]['wuid']+_0x2b8eae(0x651)+_0x2e1792),new m(_0x2e1792);}}['getUniqueFlowName'](_0x44fffb){const _0x3aee21=a0_0x36fc91;let _0x2a7e5d=_0x44fffb,_0x354d28=0x1;for(;this[_0x3aee21(0x669)][_0x3aee21(0x329)]['some'](_0x39c0be=>_0x39c0be[_0x3aee21(0x10b)]===_0x2a7e5d);)_0x354d28++,_0x2a7e5d=_0x44fffb+'\x20('+_0x354d28+')';return _0x2a7e5d;}async[a0_0x36fc91(0x666)](_0x3df37a){const _0x45e992=a0_0x36fc91;try{if(this[_0x45e992(0x2ee)][_0x45e992(0x855)](this[_0x45e992(0x3af)]+'\x20('+this[_0x45e992(0x7ef)]['wuid']+_0x45e992(0x494)+_0x3df37a[_0x45e992(0x21f)]+_0x45e992(0x4af)+_0x3df37a[_0x45e992(0x78b)]),!this[_0x45e992(0x669)][_0x45e992(0x329)]['find'](_0xec9a0f=>_0xec9a0f[_0x45e992(0x21f)]===_0x3df37a[_0x45e992(0x21f)]))throw this[_0x45e992(0x2ee)][_0x45e992(0x855)](this[_0x45e992(0x3af)]+'\x20('+this['instance'][_0x45e992(0x816)]+'):\x20Fluxo\x20\x27'+_0x3df37a[_0x45e992(0x21f)]+_0x45e992(0x44f)),new m(_0x45e992(0x309));let _0x42c8c0=await this['repository']['flow']['findOne']({'where':{'_id':_0x3df37a[_0x45e992(0x21f)]}});if(!_0x42c8c0)throw new m(_0x45e992(0x152));if(this[_0x45e992(0x7ef)][_0x45e992(0x816)]===_0x42c8c0[_0x45e992(0x3c6)]){this[_0x45e992(0x2ee)][_0x45e992(0x855)](this[_0x45e992(0x3af)]+'\x20('+this['instance'][_0x45e992(0x816)]+_0x45e992(0x1d7)+_0x3df37a[_0x45e992(0x21f)]+_0x45e992(0x50d));let _0x5ccaf2=await this[_0x45e992(0x465)][_0x45e992(0x419)][_0x45e992(0x7b3)]({'where':{'_id':_0x3df37a['_id']}});return await this[_0x45e992(0x78d)](),_0x5ccaf2;}return this[_0x45e992(0x2ee)][_0x45e992(0x855)](this[_0x45e992(0x3af)]+'\x20('+this['instance'][_0x45e992(0x816)]+_0x45e992(0x2bd)+this[_0x45e992(0x7ef)][_0x45e992(0x816)]+_0x45e992(0x177)+_0x3df37a['_id']+_0x45e992(0x337)),_0x42c8c0[_0x45e992(0x763)]=(_0x42c8c0[_0x45e992(0x763)]??[])[_0x45e992(0x125)](_0x6b6e42=>_0x6b6e42!==this[_0x45e992(0x7ef)]['wuid']),_0x42c8c0[_0x45e992(0x211)]=(_0x42c8c0[_0x45e992(0x211)]??[])[_0x45e992(0x125)](_0xb1bb0=>_0xb1bb0!==this[_0x45e992(0x7ef)][_0x45e992(0x816)]),_0x42c8c0[_0x45e992(0x211)][_0x45e992(0x6eb)]===0x0&&_0x42c8c0[_0x45e992(0x763)][_0x45e992(0x6eb)]>0x0&&(_0x42c8c0[_0x45e992(0x211)]['push'](_0x42c8c0[_0x45e992(0x763)][0x0]),this['logger'][_0x45e992(0x855)](this[_0x45e992(0x3af)]+'\x20('+this[_0x45e992(0x7ef)][_0x45e992(0x816)]+_0x45e992(0x58a)+_0x42c8c0['whoCanUse'][0x0]+_0x45e992(0x116)+_0x3df37a[_0x45e992(0x21f)]+_0x45e992(0x337))),await this[_0x45e992(0x465)][_0x45e992(0x419)][_0x45e992(0x47d)](_0x42c8c0[_0x45e992(0x21f)],_0x42c8c0),await this[_0x45e992(0x78d)](),{'message':_0x45e992(0x650)+_0x3df37a[_0x45e992(0x10b)]+_0x45e992(0x656)};}catch(_0x264019){return this[_0x45e992(0x2ee)][_0x45e992(0x844)](this[_0x45e992(0x3af)]+'\x20('+this[_0x45e992(0x7ef)][_0x45e992(0x816)]+_0x45e992(0x1f3)+(_0x264019 instanceof Error?_0x264019[_0x45e992(0x142)]:JSON[_0x45e992(0x3ef)](_0x264019,null,0x2))),{'message':_0x45e992(0x6db)+(_0x264019 instanceof Error?_0x264019['message']:JSON[_0x45e992(0x3ef)](_0x264019,null,0x2))};}}async[a0_0x36fc91(0x4f3)](_0x349b44){const _0x5095b6=a0_0x36fc91;try{if(this['logger']['info'](this[_0x5095b6(0x3af)]+'\x20('+this[_0x5095b6(0x7ef)][_0x5095b6(0x816)]+'):\x20Buscando\x20flow,\x20id:\x20'+_0x349b44),!this[_0x5095b6(0x669)]&&(await this[_0x5095b6(0x608)](),!this[_0x5095b6(0x669)]))return null;let _0xfee154=await this[_0x5095b6(0x465)][_0x5095b6(0x419)][_0x5095b6(0x74a)]({'where':{'_id':_0x349b44}});if(!_0xfee154)throw new m(_0x5095b6(0x20d)+_0x349b44+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.');if(!(_0xfee154['globalShow']||_0xfee154[_0x5095b6(0x763)]?.[_0x5095b6(0x22b)](this[_0x5095b6(0x7ef)][_0x5095b6(0x816)])))throw new m(_0x5095b6(0x229)+name+'\x27');_0xfee154[_0x5095b6(0x331)]&&!_0xfee154[_0x5095b6(0x763)]?.[_0x5095b6(0x22b)](this[_0x5095b6(0x7ef)][_0x5095b6(0x816)])&&(_0xfee154[_0x5095b6(0x763)]=[..._0xfee154[_0x5095b6(0x763)]??[],this[_0x5095b6(0x7ef)][_0x5095b6(0x816)]],await this[_0x5095b6(0x465)][_0x5095b6(0x419)]['updateOne'](_0xfee154[_0x5095b6(0x21f)],_0xfee154),this[_0x5095b6(0x78d)]());let _0x530a5c=this['AutomateSystem']?.[_0x5095b6(0x64b)]['map'](_0x5f214b=>_0x5f214b['name']),_0x581fa9=[_0x5095b6(0x65e),_0x5095b6(0x14e),_0x5095b6(0x47f),_0x5095b6(0x1e9),'status','notas',_0x5095b6(0x283),_0x5095b6(0x5dd),_0x5095b6(0x462),'telefone',_0x5095b6(0x219)];_0xfee154[_0x5095b6(0x321)]=_0xfee154[_0x5095b6(0x321)][_0x5095b6(0x125)](_0x137c40=>!(_0x137c40[_0x5095b6(0x194)]===_0x5095b6(0x1e2)||_0x137c40['leadInfo'])),_0x581fa9['forEach'](_0x288c6b=>{const _0x5ad62b=_0x5095b6;_0xfee154[_0x5ad62b(0x321)][_0x5ad62b(0x871)]({'folder':'leadInfo','name':_0x288c6b,'value':'','doc':'','leadInfo':!0x0});}),_0x530a5c[_0x5095b6(0x12c)](_0x2ae9c1=>{const _0x5db9ce=_0x5095b6;let _0xe7a301=_0xfee154[_0x5db9ce(0x321)][_0x5db9ce(0x7ac)](_0x18f2d2=>_0x18f2d2[_0x5db9ce(0x10b)]===_0x2ae9c1);_0xe7a301===-0x1?_0xfee154[_0x5db9ce(0x321)][_0x5db9ce(0x871)]({'folder':_0x5db9ce(0x1e2),'name':_0x2ae9c1,'value':'','doc':'','leadInfo':!0x0}):(_0xfee154[_0x5db9ce(0x321)][_0xe7a301]['folder']=_0x5db9ce(0x1e2),_0xfee154[_0x5db9ce(0x321)][_0xe7a301][_0x5db9ce(0x1e2)]=!0x0);}),_0xfee154[_0x5095b6(0x6aa)]&&_0xfee154[_0x5095b6(0x6aa)][_0x5095b6(0x6eb)]>0x0&&_0xfee154[_0x5095b6(0x6aa)][_0x5095b6(0x12c)](_0x1548dc=>{const _0xfe9337=_0x5095b6;_0x1548dc[_0xfe9337(0x687)]&&_0x1548dc[_0xfe9337(0x80d)]&&_0x1548dc[_0xfe9337(0x687)]===_0x1548dc['next_groupId']&&(_0x1548dc[_0xfe9337(0x80d)]=null);});let _0x5e93f9=await this['repository'][_0x5095b6(0x419)][_0x5095b6(0x47d)](_0xfee154[_0x5095b6(0x21f)],_0xfee154);if(!_0x5e93f9)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x5e93f9;}catch(_0x4bf65d){let _0x3d4f5f=_0x5095b6(0x474),_0x177cf2=_0x4bf65d instanceof Error?_0x4bf65d[_0x5095b6(0x142)]:typeof _0x4bf65d==_0x5095b6(0x733)?JSON[_0x5095b6(0x3ef)](_0x4bf65d):_0x4bf65d,_0x2af75d=_0x3d4f5f+':\x20'+_0x177cf2;throw this['logger'][_0x5095b6(0x844)](this['instanceName']+'\x20('+this['instance'][_0x5095b6(0x816)]+'):\x20'+_0x2af75d),new m(_0x2af75d);}}async[a0_0x36fc91(0x2ec)](){const _0x1dfdb0=a0_0x36fc91;try{this[_0x1dfdb0(0x2ee)]['verbose'](this[_0x1dfdb0(0x3af)]+'\x20('+this[_0x1dfdb0(0x7ef)][_0x1dfdb0(0x816)]+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await this['synchronizeAndMapFlows']();let _0x3f39a7=await this[_0x1dfdb0(0x465)][_0x1dfdb0(0x419)]['findAll']({'where':{'globalShow':!0x0}});return[...this[_0x1dfdb0(0x669)][_0x1dfdb0(0x329)],..._0x3f39a7];}catch(_0x284057){return this[_0x1dfdb0(0x2ee)][_0x1dfdb0(0x844)](this[_0x1dfdb0(0x3af)]+'\x20('+this['instance'][_0x1dfdb0(0x816)]+_0x1dfdb0(0x786)+(_0x284057 instanceof Error?_0x284057[_0x1dfdb0(0x142)]:JSON['stringify'](_0x284057,null,0x2))),{'message':_0x1dfdb0(0x606)+(_0x284057 instanceof Error?_0x284057[_0x1dfdb0(0x142)]:String(_0x284057))};}}async['editFlow'](_0x32e4ed,_0x88c750){const _0x93fdef=a0_0x36fc91;try{this[_0x93fdef(0x2ee)]['verbose'](this[_0x93fdef(0x3af)]+'\x20('+this[_0x93fdef(0x7ef)]['wuid']+_0x93fdef(0x22f));let _0x23620c=this[_0x93fdef(0x669)]['flows'][_0x93fdef(0x757)](_0x5ce8bf=>_0x5ce8bf[_0x93fdef(0x21f)]===_0x32e4ed[_0x93fdef(0x21f)]);if(!_0x23620c)throw this['logger'][_0x93fdef(0x855)](this[_0x93fdef(0x3af)]+'\x20('+this[_0x93fdef(0x7ef)]['wuid']+_0x93fdef(0x36b)+_0x32e4ed[_0x93fdef(0x21f)]+_0x93fdef(0x44f)),new m(_0x93fdef(0x309));let _0x5928e5=await this[_0x93fdef(0x465)]['flow'][_0x93fdef(0x74a)]({'where':{'_id':_0x32e4ed[_0x93fdef(0x21f)]}});if(!_0x5928e5||!_0x5928e5[_0x93fdef(0x763)]?.[_0x93fdef(0x22b)](this[_0x93fdef(0x7ef)]['wuid']))throw this['logger'][_0x93fdef(0x844)](this[_0x93fdef(0x3af)]+'\x20('+this[_0x93fdef(0x7ef)][_0x93fdef(0x816)]+_0x93fdef(0x179)+_0x32e4ed['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x93fdef(0x810)+_0x32e4ed['_id']+_0x93fdef(0x516));let _0xca5c82=this[_0x93fdef(0x669)][_0x93fdef(0x329)]['findIndex'](_0x2999a5=>_0x2999a5[_0x93fdef(0x21f)]===_0x23620c[_0x93fdef(0x21f)]);if(_0xca5c82!==-0x1){let _0x304242=this[_0x93fdef(0x669)][_0x93fdef(0x329)][_0xca5c82];if(_0x304242['name']=_0x32e4ed[_0x93fdef(0x10b)]??_0x304242[_0x93fdef(0x10b)],_0x304242[_0x93fdef(0x361)]=_0x32e4ed[_0x93fdef(0x361)]??_0x304242[_0x93fdef(0x361)],_0x304242[_0x93fdef(0x199)]=_0x32e4ed[_0x93fdef(0x199)]??_0x304242['testingWith'],_0x304242['startCommand']=_0x32e4ed[_0x93fdef(0x5d9)]??_0x304242[_0x93fdef(0x174)],_0x304242['minutesToClose']=_0x32e4ed[_0x93fdef(0x688)]??_0x304242['minutesToClose'],_0x304242[_0x93fdef(0x24c)]=_0x32e4ed[_0x93fdef(0x24c)]??_0x304242['readMessages'],_0x32e4ed[_0x93fdef(0x361)]&&this[_0x93fdef(0x669)][_0x93fdef(0x329)][_0x93fdef(0x12c)]((_0x3ec53f,_0x3611ab)=>{const _0x434f47=_0x93fdef;_0x3611ab!==_0xca5c82&&(_0x3ec53f[_0x434f47(0x361)]=!0x1);}),this[_0x93fdef(0x669)][_0x93fdef(0x329)][_0xca5c82]=_0x304242,!await this[_0x93fdef(0x465)][_0x93fdef(0x536)][_0x93fdef(0x3d8)]({'flows':this['AutomateSystem'][_0x93fdef(0x329)]},this[_0x93fdef(0x7ef)][_0x93fdef(0x816)]))throw new m(_0x93fdef(0x811));}let _0x21eff6=['global',_0x93fdef(0x633),_0x93fdef(0x34f),_0x93fdef(0x7d7)];for(let _0xfdff6a of _0x21eff6)delete _0x32e4ed[_0xfdff6a];if(_0x5928e5['whoCanEdit']?.[_0x93fdef(0x22b)](this[_0x93fdef(0x7ef)]['wuid'])||(_0x32e4ed={'_id':_0x32e4ed['_id']}),_0x88c750!==$i&&_0x32e4ed?.[_0x93fdef(0x331)]&&!_0x5928e5?.[_0x93fdef(0x331)])throw new m(_0x93fdef(0x7c2));let _0xb6c6d2=new Set(_0x32e4ed['whoCanEdit']??_0x5928e5['whoCanEdit']);_0xb6c6d2[_0x93fdef(0x187)](_0x5928e5[_0x93fdef(0x3c6)]);let _0x989c86=new Set(_0x32e4ed[_0x93fdef(0x763)]??_0x5928e5[_0x93fdef(0x763)]??[]);_0xb6c6d2[_0x93fdef(0x12c)](_0x2e26d9=>_0x989c86[_0x93fdef(0x187)](_0x2e26d9)),_0x989c86[_0x93fdef(0x187)](_0x5928e5[_0x93fdef(0x3c6)]),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x93fdef(0x7ef)]['wuid']+_0x93fdef(0x31a)+Array[_0x93fdef(0x113)](_0xb6c6d2)),this[_0x93fdef(0x2ee)][_0x93fdef(0x855)](this[_0x93fdef(0x3af)]+'\x20('+this[_0x93fdef(0x7ef)][_0x93fdef(0x816)]+_0x93fdef(0x1da)+Array[_0x93fdef(0x113)](_0x989c86));let _0x2eda30=await this[_0x93fdef(0x692)](Array[_0x93fdef(0x113)](_0x989c86)),_0x31a12e=Array[_0x93fdef(0x113)](_0xb6c6d2)['filter'](_0x4035b6=>_0x2eda30[_0x93fdef(0x22b)](_0x4035b6)),_0x2012f6=Array[_0x93fdef(0x113)](_0x989c86)[_0x93fdef(0x125)](_0x30ebf7=>_0x2eda30[_0x93fdef(0x22b)](_0x30ebf7));this[_0x93fdef(0x2ee)][_0x93fdef(0x855)](this['instanceName']+'\x20('+this[_0x93fdef(0x7ef)][_0x93fdef(0x816)]+'):\x20whoCanEdit\x20after\x20validation:\x20'+_0x31a12e),this[_0x93fdef(0x2ee)][_0x93fdef(0x855)](this[_0x93fdef(0x3af)]+'\x20('+this[_0x93fdef(0x7ef)][_0x93fdef(0x816)]+'):\x20whoCanUse\x20after\x20validation:\x20'+_0x2012f6);let _0x49786a={..._0x5928e5,..._0x32e4ed,'whoCanEdit':_0x31a12e,'whoCanUse':_0x2012f6},_0x3379dc=await this['repository']['flow']['updateOne'](_0x5928e5['_id'],_0x49786a);return await this[_0x93fdef(0x78d)](),_0x3379dc;}catch(_0x34bf3e){let _0x5d37bc=_0x93fdef(0x751),_0x4d0c9c=_0x34bf3e instanceof Error?_0x34bf3e['message']:typeof _0x34bf3e=='object'?JSON[_0x93fdef(0x3ef)](_0x34bf3e):_0x34bf3e,_0x596a01=_0x5d37bc+':\x20'+_0x4d0c9c;throw this[_0x93fdef(0x2ee)][_0x93fdef(0x844)](this[_0x93fdef(0x3af)]+'\x20('+this[_0x93fdef(0x7ef)][_0x93fdef(0x816)]+_0x93fdef(0x651)+_0x596a01),new m(_0x596a01);}}async['getValidWhatsAppNumbers'](_0x3d3c53){const _0x4c4ed3=a0_0x36fc91;let _0x3c533c={'numbers':_0x3d3c53};return(await this[_0x4c4ed3(0x3d5)](_0x3c533c))['filter'](_0x2707b0=>_0x2707b0[_0x4c4ed3(0x40f)])[_0x4c4ed3(0x71e)](_0x27684c=>_0x27684c['jid'])[_0x4c4ed3(0x71e)](_0x32dea0=>this['extractPhoneNumber'](_0x32dea0));}[a0_0x36fc91(0x51f)](_0x358391){const _0x33a2bf=a0_0x36fc91;let _0x74aa98=_0x358391[_0x33a2bf(0x1db)](/\d+/);return _0x74aa98?_0x74aa98[0x0]:'';}async['editFlowBlock'](_0x525225){const _0x2bf0df=a0_0x36fc91;try{if(this[_0x2bf0df(0x2ee)][_0x2bf0df(0x855)](this[_0x2bf0df(0x3af)]+'\x20('+this[_0x2bf0df(0x7ef)][_0x2bf0df(0x816)]+'):\x20Editando\x20bloco...'),!this[_0x2bf0df(0x669)]['flows'][_0x2bf0df(0x757)](_0x219c49=>_0x219c49[_0x2bf0df(0x21f)]===_0x525225['_id']))throw this[_0x2bf0df(0x2ee)][_0x2bf0df(0x855)](this[_0x2bf0df(0x3af)]+'\x20('+this[_0x2bf0df(0x7ef)][_0x2bf0df(0x816)]+_0x2bf0df(0x36b)+_0x525225[_0x2bf0df(0x21f)]+_0x2bf0df(0x44f)),new m(_0x2bf0df(0x309));let _0x3ba282=await this['repository'][_0x2bf0df(0x419)]['findOne']({'where':{'_id':_0x525225[_0x2bf0df(0x21f)]}});if(!_0x3ba282||!_0x3ba282[_0x2bf0df(0x763)]?.[_0x2bf0df(0x22b)](this['instance']['wuid']))throw this[_0x2bf0df(0x2ee)]['error'](this[_0x2bf0df(0x3af)]+'\x20('+this['instance'][_0x2bf0df(0x816)]+_0x2bf0df(0x179)+_0x525225[_0x2bf0df(0x21f)]+_0x2bf0df(0x516)),new m(_0x2bf0df(0x810)+_0x525225[_0x2bf0df(0x21f)]+_0x2bf0df(0x516));if(!_0x3ba282[_0x2bf0df(0x211)]?.[_0x2bf0df(0x22b)](this['instance']['wuid']))throw new m(_0x2bf0df(0x249));let {block:_0x5b4a0b}=_0x525225;_0x5b4a0b?.['copy']?this[_0x2bf0df(0x7d4)](_0x3ba282,_0x525225):_0x5b4a0b?.[_0x2bf0df(0x807)]?this[_0x2bf0df(0x10c)](_0x3ba282,_0x525225):_0x5b4a0b[_0x2bf0df(0x21f)]?await this[_0x2bf0df(0x34c)](_0x3ba282,_0x525225):this[_0x2bf0df(0x2a8)](_0x3ba282,_0x525225);let _0x3bffbc=await this[_0x2bf0df(0x465)][_0x2bf0df(0x419)]['updateOne'](_0x3ba282[_0x2bf0df(0x21f)],_0x3ba282);if(!_0x3bffbc)throw new Error(_0x2bf0df(0x6f5));return _0x3bffbc;}catch(_0x5eb9c1){this['throwAndLogError'](_0x2bf0df(0x794)+_0x5eb9c1[_0x2bf0df(0x142)]);}}async[a0_0x36fc91(0x7d4)](_0x5e6fda,_0x566c90){const _0x668898=a0_0x36fc91;let _0xce99b0=_0x566c90[_0x668898(0x11b)][_0x668898(0x21f)],_0x347c79=_0x5e6fda[_0x668898(0x6aa)][_0x668898(0x757)](_0x3a0027=>_0x3a0027['_id'][_0x668898(0x698)]()===_0xce99b0);if(!_0x347c79){this[_0x668898(0x2ee)]['error'](this[_0x668898(0x3af)]+'\x20('+this[_0x668898(0x7ef)]['wuid']+_0x668898(0x2de)+_0xce99b0+_0x668898(0x6d5));return;}this[_0x668898(0x2ee)][_0x668898(0x855)](this[_0x668898(0x3af)]+'\x20('+this[_0x668898(0x7ef)][_0x668898(0x816)]+_0x668898(0x191)+JSON[_0x668898(0x3ef)](_0x347c79));let _0x45bc76=JSON[_0x668898(0x63f)](JSON[_0x668898(0x3ef)](_0x347c79));_0x45bc76[_0x668898(0x21f)]=new he['default'][(_0x668898(0x827))]['ObjectId'](),this[_0x668898(0x2ee)][_0x668898(0x855)](this[_0x668898(0x3af)]+'\x20('+this[_0x668898(0x7ef)]['wuid']+'):\x20Bloco\x20copiado:\x20'+JSON[_0x668898(0x3ef)](_0x45bc76)),_0x5e6fda[_0x668898(0x6aa)]['push'](_0x45bc76),this['reorderBlocks'](_0x5e6fda[_0x668898(0x6aa)],_0x45bc76['groupId']);}[a0_0x36fc91(0x5d8)](_0x26c816){const _0x47d5b9=a0_0x36fc91;throw this[_0x47d5b9(0x2ee)][_0x47d5b9(0x844)](this[_0x47d5b9(0x3af)]+'\x20('+this[_0x47d5b9(0x7ef)][_0x47d5b9(0x816)]+'):\x20'+_0x26c816),new m(_0x26c816);}[a0_0x36fc91(0x10c)](_0x28c8c6,_0x394e9a){const _0x1af233=a0_0x36fc91;let {block:_0x200928}=_0x394e9a;if(_0x200928['type']===_0x1af233(0x6ce)){this[_0x1af233(0x5d8)](_0x1af233(0x545));return;}if(!_0x200928[_0x1af233(0x21f)]){this[_0x1af233(0x5d8)]('blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco');return;}let _0x211bcc=_0x28c8c6[_0x1af233(0x6aa)][_0x1af233(0x757)](_0x222c3=>_0x222c3[_0x1af233(0x21f)][_0x1af233(0x698)]()===_0x394e9a[_0x1af233(0x11b)][_0x1af233(0x21f)][_0x1af233(0x698)]());if(!_0x211bcc){this[_0x1af233(0x5d8)]('Bloco\x20com\x20ID\x20'+_0x200928[_0x1af233(0x21f)]+_0x1af233(0x653));return;}_0x28c8c6[_0x1af233(0x6aa)]=_0x28c8c6['blocks'][_0x1af233(0x125)](_0x442ba2=>_0x442ba2[_0x1af233(0x21f)][_0x1af233(0x698)]()!==_0x394e9a[_0x1af233(0x11b)][_0x1af233(0x21f)][_0x1af233(0x698)]()),_0x28c8c6[_0x1af233(0x82c)]=_0x28c8c6[_0x1af233(0x82c)]['filter'](_0x2fc383=>_0x2fc383[_0x1af233(0x306)]!==_0x200928['_id'][_0x1af233(0x698)]()),_0x28c8c6[_0x1af233(0x614)]=_0x28c8c6[_0x1af233(0x614)][_0x1af233(0x125)](_0x46ba53=>_0x46ba53[_0x1af233(0x306)]!==_0x200928[_0x1af233(0x21f)][_0x1af233(0x698)]()),_0x28c8c6[_0x1af233(0x27b)]=_0x28c8c6[_0x1af233(0x27b)][_0x1af233(0x125)](_0xf54d38=>_0xf54d38[_0x1af233(0x306)]!==_0x200928[_0x1af233(0x21f)][_0x1af233(0x698)]()),this[_0x1af233(0x351)](_0x28c8c6['blocks'],_0x211bcc[_0x1af233(0x687)]);}async['updateBlock'](_0x79122e,_0xc726e){const _0x976db0=a0_0x36fc91;let _0x57c85c=_0x79122e[_0x976db0(0x6aa)][_0x976db0(0x7ac)](_0x10d33e=>_0x10d33e[_0x976db0(0x21f)]['toString']()===_0xc726e[_0x976db0(0x11b)]['_id'][_0x976db0(0x698)]());if(this[_0x976db0(0x2ee)][_0x976db0(0x855)](this['instanceName']+'\x20('+this[_0x976db0(0x7ef)][_0x976db0(0x816)]+_0x976db0(0x749)+_0x57c85c),_0x57c85c===-0x1){this['logger'][_0x976db0(0x855)](_0x976db0(0x5bd)+_0xc726e[_0x976db0(0x11b)][_0x976db0(0x21f)]+_0x976db0(0x2a6));return;}if(_0x79122e[_0x976db0(0x6aa)][_0x57c85c][_0x976db0(0x1ef)]==='start'){let _0x18175c=Object[_0x976db0(0x448)](_0xc726e[_0x976db0(0x11b)]);if(_0x18175c[_0x976db0(0x6eb)]>0x2||_0x18175c['length']===0x2&&!_0x18175c[_0x976db0(0x22b)]('next_groupId')){this['throwAndLogError'](_0x976db0(0x683));return;}}let _0x5979b6=_0x79122e[_0x976db0(0x6aa)][_0x57c85c][_0x976db0(0x687)];for(let _0x2daec9 in _0xc726e['block'])_0xc726e[_0x976db0(0x11b)][_0x976db0(0x308)](_0x2daec9)&&(_0x79122e[_0x976db0(0x6aa)][_0x57c85c][_0x2daec9]=_0xc726e[_0x976db0(0x11b)][_0x2daec9]);if(this[_0x976db0(0x2ee)][_0x976db0(0x855)](this[_0x976db0(0x3af)]+'\x20('+this['instance'][_0x976db0(0x816)]+_0x976db0(0x414)+JSON[_0x976db0(0x3ef)](_0x79122e['blocks'][_0x57c85c])),_0x79122e[_0x976db0(0x6aa)][_0x57c85c][_0x976db0(0x341)]&&_0x976db0(0x434)in _0x79122e[_0x976db0(0x6aa)][_0x57c85c][_0x976db0(0x341)]){this[_0x976db0(0x2ee)][_0x976db0(0x855)](this[_0x976db0(0x3af)]+'\x20('+this[_0x976db0(0x7ef)][_0x976db0(0x816)]+_0x976db0(0x61d));let _0x4ac317=JSON[_0x976db0(0x3ef)](_0x79122e[_0x976db0(0x6aa)][_0x57c85c][_0x976db0(0x341)]['header'],null,0x1);_0x4ac317['length']>0x2&&(_0x4ac317=_0x4ac317['substring'](0x1,_0x4ac317['length']-0x1)[_0x976db0(0x821)]()),_0x79122e['blocks'][_0x57c85c]['apirequest'][_0x976db0(0x644)]=_0x4ac317;}if(_0x79122e['blocks'][_0x57c85c][_0x976db0(0x341)]&&_0x976db0(0x68d)in _0x79122e[_0x976db0(0x6aa)][_0x57c85c][_0x976db0(0x341)]&&!(_0x976db0(0x5d6)in _0x79122e[_0x976db0(0x6aa)][_0x57c85c][_0x976db0(0x341)])){this[_0x976db0(0x2ee)][_0x976db0(0x855)](this['instanceName']+'\x20('+this[_0x976db0(0x7ef)][_0x976db0(0x816)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x79122e['blocks'][_0x57c85c][_0x976db0(0x341)][_0x976db0(0x1bd)]=!0x1;let _0x4a9524=JSON[_0x976db0(0x3ef)](_0x79122e[_0x976db0(0x6aa)][_0x57c85c][_0x976db0(0x341)][_0x976db0(0x68d)],null,0x2);_0x79122e[_0x976db0(0x6aa)][_0x57c85c]['apirequest'][_0x976db0(0x5d6)]=_0x4a9524;}if(_0x79122e[_0x976db0(0x6aa)][_0x57c85c][_0x976db0(0x341)]&&'bodyString'in _0x79122e[_0x976db0(0x6aa)][_0x57c85c][_0x976db0(0x341)]){_0x79122e['blocks'][_0x57c85c][_0x976db0(0x341)][_0x976db0(0x1bd)]=!0x1;let _0x464660=_0x79122e[_0x976db0(0x6aa)][_0x57c85c][_0x976db0(0x341)]['bodyString'],_0x15d62f=this[_0x976db0(0x117)](_0x464660);_0x79122e[_0x976db0(0x6aa)][_0x57c85c][_0x976db0(0x341)]['bodyString']=_0x15d62f[_0x976db0(0x161)],_0x79122e[_0x976db0(0x6aa)][_0x57c85c][_0x976db0(0x341)]['bodyStringErrorParse']=_0x15d62f[_0x976db0(0x844)];}let _0x5183e5=_0x79122e[_0x976db0(0x6aa)][_0x57c85c]['groupId'];_0x5979b6!==_0x5183e5?(this[_0x976db0(0x351)](_0x79122e['blocks'],_0x5979b6),this['reorderBlocks'](_0x79122e[_0x976db0(0x6aa)],_0x5183e5)):this['reorderBlocks'](_0x79122e['blocks'],_0x5979b6);}[a0_0x36fc91(0x117)](_0x2a78cc){const _0x3bd15e=a0_0x36fc91;let _0x3bd074='\u205f',_0x171612=!0x1,_0x14074='';for(let _0x28f933=0x0;_0x28f933<_0x2a78cc[_0x3bd15e(0x6eb)];_0x28f933++){let _0x5b10c1=_0x2a78cc[_0x28f933];_0x5b10c1==='\x22'&&(_0x28f933===0x0||_0x2a78cc[_0x28f933-0x1]!=='\x5c')&&(_0x171612=!_0x171612),!(!_0x171612&&(_0x5b10c1==='\x0a'||_0x5b10c1==='\x20'||_0x5b10c1===_0x3bd074))&&(_0x14074+=_0x5b10c1);}let _0x502f84={},_0x3fcf86=9876543210.1234,_0x359f0c=_0x14074[_0x3bd15e(0x6fe)](/\{\{([^}]+)\}\}/g,_0x3b31e3=>{let _0x2110a8=_0x3b31e3,_0x481a74=''+_0x3fcf86;return _0x502f84[_0x481a74]=_0x2110a8,_0x3fcf86+=0.0001,_0x481a74;}),_0x3efc38='',_0x496f48=!0x1;try{let _0x1c7138=JSON[_0x3bd15e(0x63f)](_0x359f0c);_0x3efc38=JSON[_0x3bd15e(0x3ef)](_0x1c7138,null,0x2),_0x3efc38=_0x3efc38[_0x3bd15e(0x6fe)](/\n( +)/g,(_0x5afef1,_0x4561e6)=>{const _0x12d3c0=_0x3bd15e;let _0x1c9786=_0x4561e6[_0x12d3c0(0x6eb)];return'\x0a'+_0x3bd074['repeat'](_0x1c9786*0x2);}),_0x3efc38=_0x3efc38['replace'](/(\d{10,}\.\d+)/g,_0x1f8b7=>_0x502f84[_0x1f8b7]||_0x1f8b7);}catch(_0x41f52c){this[_0x3bd15e(0x2ee)]['error'](_0x3bd15e(0x7f4)+_0x41f52c),_0x3efc38=_0x2a78cc,_0x496f48=!0x0;}return{'result':_0x3efc38,'error':_0x496f48};}[a0_0x36fc91(0x2a8)](_0x158f16,_0x26414e){const _0x13354d=a0_0x36fc91;if(_0x26414e[_0x13354d(0x11b)]['type']==='start'){this['throwAndLogError']('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x26414e[_0x13354d(0x11b)][_0x13354d(0x341)]&&_0x13354d(0x434)in _0x26414e['block'][_0x13354d(0x341)]){this['logger'][_0x13354d(0x855)](this[_0x13354d(0x3af)]+'\x20('+this[_0x13354d(0x7ef)]['wuid']+_0x13354d(0x61d));let _0x163d7c=JSON[_0x13354d(0x3ef)](_0x26414e['block'][_0x13354d(0x341)][_0x13354d(0x434)],null,0x1);_0x163d7c[_0x13354d(0x6eb)]>0x2&&(_0x163d7c=_0x163d7c['substring'](0x1,_0x163d7c['length']-0x1)[_0x13354d(0x821)]()),_0x26414e[_0x13354d(0x11b)][_0x13354d(0x341)]['headerString']=_0x163d7c;}_0x26414e[_0x13354d(0x11b)][_0x13354d(0x341)]&&'body'in _0x26414e[_0x13354d(0x11b)][_0x13354d(0x341)]&&(this['logger'][_0x13354d(0x855)](this[_0x13354d(0x3af)]+'\x20('+this['instance'][_0x13354d(0x816)]+_0x13354d(0x5fd)),_0x26414e[_0x13354d(0x11b)][_0x13354d(0x341)][_0x13354d(0x5d6)]=JSON['stringify'](_0x26414e[_0x13354d(0x11b)][_0x13354d(0x341)][_0x13354d(0x68d)],null,0x1)['trim']()),_0x158f16[_0x13354d(0x6aa)]['push'](_0x26414e['block']),this[_0x13354d(0x351)](_0x158f16[_0x13354d(0x6aa)],_0x26414e[_0x13354d(0x11b)]['groupId']);}[a0_0x36fc91(0x351)](_0x4f735a,_0x454181){const _0x46dc3b=a0_0x36fc91;let _0x53883f=_0x4f735a['filter'](_0x3b9c57=>_0x3b9c57['groupId']===_0x454181);_0x53883f[_0x46dc3b(0x790)]((_0x39f195,_0x529c56)=>_0x39f195[_0x46dc3b(0x1a1)]-_0x529c56['order']),_0x53883f['forEach']((_0x3276ee,_0x4257ae)=>_0x3276ee[_0x46dc3b(0x1a1)]=_0x4257ae+0x1);}async['editFlowReply'](_0x146516){const _0x53d65b=a0_0x36fc91;try{if(this[_0x53d65b(0x2ee)]['verbose'](this['instanceName']+'\x20('+this[_0x53d65b(0x7ef)]['wuid']+_0x53d65b(0x2ae)),!_0x146516||!_0x146516['replyOption']){this[_0x53d65b(0x5d8)](_0x53d65b(0x81c));return;}if(!this['AutomateSystem'][_0x53d65b(0x329)][_0x53d65b(0x757)](_0x2ef79c=>_0x2ef79c[_0x53d65b(0x21f)]===_0x146516['_id']))throw this[_0x53d65b(0x2ee)][_0x53d65b(0x855)](this['instanceName']+'\x20('+this[_0x53d65b(0x7ef)][_0x53d65b(0x816)]+_0x53d65b(0x36b)+_0x146516['_id']+_0x53d65b(0x44f)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x46a271=await this[_0x53d65b(0x465)][_0x53d65b(0x419)]['findOne']({'where':{'_id':_0x146516[_0x53d65b(0x21f)]}});if(!_0x46a271||!_0x46a271[_0x53d65b(0x763)]?.[_0x53d65b(0x22b)](this[_0x53d65b(0x7ef)][_0x53d65b(0x816)]))throw this[_0x53d65b(0x2ee)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x53d65b(0x179)+_0x146516[_0x53d65b(0x21f)]+_0x53d65b(0x516)),new m(_0x53d65b(0x810)+_0x146516['_id']+_0x53d65b(0x516));if(!_0x46a271['whoCanEdit']?.[_0x53d65b(0x22b)](this['instance']['wuid']))throw new m(_0x53d65b(0x249));let {replyOption:_0x1e921d}=_0x146516;_0x1e921d?.[_0x53d65b(0x807)]?(this[_0x53d65b(0x6ef)](_0x46a271,_0x146516),this[_0x53d65b(0x566)](_0x46a271[_0x53d65b(0x27b)],_0x146516[_0x53d65b(0x17f)]['blockId'])):_0x1e921d[_0x53d65b(0x21f)]?(await this[_0x53d65b(0x5af)](_0x46a271,_0x146516),this[_0x53d65b(0x566)](_0x46a271[_0x53d65b(0x27b)],_0x146516['replyOption']['blockId'])):(this['addReplyOption'](_0x46a271,_0x146516),this[_0x53d65b(0x566)](_0x46a271[_0x53d65b(0x27b)],_0x146516[_0x53d65b(0x17f)]['blockId']));let _0x444fe=await this[_0x53d65b(0x465)]['flow'][_0x53d65b(0x47d)](_0x46a271[_0x53d65b(0x21f)],_0x46a271);if(!_0x444fe)throw new Error(_0x53d65b(0x6f5));return _0x444fe;}catch(_0x46ff92){this[_0x53d65b(0x5d8)](_0x53d65b(0x2e5)+_0x46ff92);}}['reorderReplyOptions'](_0x59182a,_0x2b5f2f){const _0x55dc7c=a0_0x36fc91;_0x59182a[_0x55dc7c(0x12c)](_0x30d255=>{const _0x31de34=_0x55dc7c;_0x30d255[_0x31de34(0x306)]===_0x2b5f2f&&_0x30d255[_0x31de34(0x1a1)]===void 0x0&&(_0x30d255[_0x31de34(0x1a1)]=0x270f);});let _0x5ea7d7=_0x59182a['filter'](_0x4a0c7d=>_0x4a0c7d[_0x55dc7c(0x306)]===_0x2b5f2f);_0x5ea7d7[_0x55dc7c(0x790)]((_0xe31d21,_0x489beb)=>_0xe31d21['order']-_0x489beb[_0x55dc7c(0x1a1)]),_0x5ea7d7[_0x55dc7c(0x12c)]((_0x4f1b59,_0x5c2ebb)=>{const _0x12401b=_0x55dc7c;_0x4f1b59[_0x12401b(0x1a1)]=_0x5c2ebb+0x1;}),_0x59182a[_0x55dc7c(0x12c)](_0x37b56b=>{const _0x5aec3b=_0x55dc7c;if(_0x37b56b[_0x5aec3b(0x306)]===_0x2b5f2f){let _0x15868b=_0x5ea7d7[_0x5aec3b(0x757)](_0x475994=>_0x475994[_0x5aec3b(0x21f)]&&_0x37b56b[_0x5aec3b(0x21f)]&&_0x475994[_0x5aec3b(0x21f)]['toString']()===_0x37b56b['_id'][_0x5aec3b(0x698)]());_0x15868b&&(_0x37b56b[_0x5aec3b(0x1a1)]=_0x15868b[_0x5aec3b(0x1a1)]);}});}[a0_0x36fc91(0x6ef)](_0x707b76,_0x270918){const _0x1351b0=a0_0x36fc91;let {replyOption:_0x4683ad}=_0x270918;if(!_0x4683ad[_0x1351b0(0x21f)]){this[_0x1351b0(0x5d8)](_0x1351b0(0x355));return;}if(!_0x707b76[_0x1351b0(0x27b)][_0x1351b0(0x757)](_0x53a29b=>_0x53a29b[_0x1351b0(0x21f)][_0x1351b0(0x698)]()===_0x270918[_0x1351b0(0x17f)][_0x1351b0(0x21f)]['toString']())){this[_0x1351b0(0x5d8)](_0x1351b0(0x413)+_0x4683ad[_0x1351b0(0x21f)]+_0x1351b0(0x653));return;}_0x707b76[_0x1351b0(0x27b)]=_0x707b76['replyOptions'][_0x1351b0(0x125)](_0x23ed2b=>_0x23ed2b['_id'][_0x1351b0(0x698)]()!==_0x270918[_0x1351b0(0x17f)]['_id']['toString']());}async['updateReplyOption'](_0x3e7c06,_0x4f0377){const _0x516bc8=a0_0x36fc91;let _0xbff9f0=_0x3e7c06[_0x516bc8(0x27b)][_0x516bc8(0x7ac)](_0x6ae6c4=>_0x6ae6c4[_0x516bc8(0x21f)][_0x516bc8(0x698)]()===_0x4f0377[_0x516bc8(0x17f)][_0x516bc8(0x21f)][_0x516bc8(0x698)]());if(_0xbff9f0===-0x1){this['throwAndLogError'](_0x516bc8(0x413)+_0x4f0377[_0x516bc8(0x17f)][_0x516bc8(0x21f)]+_0x516bc8(0x2a6));return;}for(let _0x138c66 in _0x4f0377[_0x516bc8(0x17f)])_0x4f0377[_0x516bc8(0x17f)][_0x516bc8(0x308)](_0x138c66)&&(_0x3e7c06[_0x516bc8(0x27b)][_0xbff9f0][_0x138c66]=_0x4f0377[_0x516bc8(0x17f)][_0x138c66]);}['addReplyOption'](_0x27782b,_0x2e644d){const _0x38e6db=a0_0x36fc91;_0x27782b[_0x38e6db(0x27b)][_0x38e6db(0x871)](_0x2e644d[_0x38e6db(0x17f)]);}async[a0_0x36fc91(0x482)](_0x1b1a1f){const _0x3db8bc=a0_0x36fc91;this[_0x3db8bc(0x2ee)]['verbose'](this['instanceName']+'\x20('+this[_0x3db8bc(0x7ef)][_0x3db8bc(0x816)]+_0x3db8bc(0x371)+JSON['stringify'](_0x1b1a1f,null,0x2));try{if(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x3db8bc(0x7ef)][_0x3db8bc(0x816)]+_0x3db8bc(0x585)),!this[_0x3db8bc(0x669)]['flows']['find'](_0x3e42ef=>_0x3e42ef['_id']===_0x1b1a1f[_0x3db8bc(0x21f)]))throw this['logger'][_0x3db8bc(0x855)](this['instanceName']+'\x20('+this[_0x3db8bc(0x7ef)][_0x3db8bc(0x816)]+_0x3db8bc(0x36b)+_0x1b1a1f[_0x3db8bc(0x21f)]+_0x3db8bc(0x44f)),new m(_0x3db8bc(0x309));let _0x5cf23f=await this[_0x3db8bc(0x465)][_0x3db8bc(0x419)][_0x3db8bc(0x74a)]({'where':{'_id':_0x1b1a1f['_id']}});if(!_0x5cf23f||!_0x5cf23f[_0x3db8bc(0x763)]?.['includes'](this['instance'][_0x3db8bc(0x816)]))throw this['logger'][_0x3db8bc(0x844)](this[_0x3db8bc(0x3af)]+'\x20('+this[_0x3db8bc(0x7ef)][_0x3db8bc(0x816)]+_0x3db8bc(0x179)+_0x1b1a1f['_id']+_0x3db8bc(0x516)),new m(_0x3db8bc(0x810)+_0x1b1a1f[_0x3db8bc(0x21f)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x5cf23f['whoCanEdit']?.[_0x3db8bc(0x22b)](this[_0x3db8bc(0x7ef)][_0x3db8bc(0x816)]))throw new m(_0x3db8bc(0x249));if(_0x1b1a1f[_0x3db8bc(0x4e6)]&&_0x1b1a1f[_0x3db8bc(0x4e6)]?.['delete']===!0x0){if(this[_0x3db8bc(0x2ee)][_0x3db8bc(0x855)](this['instanceName']+'\x20('+this[_0x3db8bc(0x7ef)][_0x3db8bc(0x816)]+_0x3db8bc(0x63a)),_0x1b1a1f[_0x3db8bc(0x4e6)][_0x3db8bc(0x361)]===!0x0)return{'message':_0x3db8bc(0x12d)};if(_0x5cf23f[_0x3db8bc(0x6aa)][_0x3db8bc(0x869)](_0x21f496=>_0x21f496[_0x3db8bc(0x687)][_0x3db8bc(0x698)]()===_0x1b1a1f['group']['_id']))return this[_0x3db8bc(0x2ee)]['verbose'](this[_0x3db8bc(0x3af)]+'\x20('+this['instance'][_0x3db8bc(0x816)]+_0x3db8bc(0x20b)),{'message':_0x3db8bc(0x741)};_0x5cf23f['groups']=_0x5cf23f[_0x3db8bc(0x4c2)][_0x3db8bc(0x125)](_0x47ccc7=>_0x47ccc7[_0x3db8bc(0x21f)][_0x3db8bc(0x698)]()!==_0x1b1a1f[_0x3db8bc(0x4e6)][_0x3db8bc(0x21f)]);}else{if(_0x1b1a1f[_0x3db8bc(0x4e6)]){if(_0x1b1a1f[_0x3db8bc(0x4e6)][_0x3db8bc(0x361)]===!0x0)return{'message':_0x3db8bc(0x46b)};if(_0x1b1a1f[_0x3db8bc(0x4e6)]['_id']){let _0xa37826=_0x5cf23f['groups'][_0x3db8bc(0x757)](_0x47d789=>_0x47d789[_0x3db8bc(0x21f)][_0x3db8bc(0x698)]()===_0x1b1a1f['group']['_id']);_0xa37826&&(_0x1b1a1f[_0x3db8bc(0x4e6)]['x']<0x0&&(_0x1b1a1f[_0x3db8bc(0x4e6)]['x']=0x0),_0x1b1a1f[_0x3db8bc(0x4e6)]['y']<0x0&&(_0x1b1a1f[_0x3db8bc(0x4e6)]['y']=0x0),Object[_0x3db8bc(0x671)](_0xa37826,_0x1b1a1f[_0x3db8bc(0x4e6)]));}else _0x5cf23f[_0x3db8bc(0x4c2)][_0x3db8bc(0x871)](_0x1b1a1f[_0x3db8bc(0x4e6)]);}}let _0x33fb01=await this[_0x3db8bc(0x465)][_0x3db8bc(0x419)][_0x3db8bc(0x47d)](_0x5cf23f[_0x3db8bc(0x21f)],_0x5cf23f);if(!_0x33fb01)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x33fb01;}catch(_0x27bd0f){let _0x32deef=_0x3db8bc(0x5c9),_0x394edf=_0x27bd0f instanceof Error?_0x27bd0f['message']:typeof _0x27bd0f==_0x3db8bc(0x733)?JSON[_0x3db8bc(0x3ef)](_0x27bd0f):_0x27bd0f,_0x2d095f=_0x32deef+':\x20'+_0x394edf;throw this[_0x3db8bc(0x2ee)]['error'](this[_0x3db8bc(0x3af)]+'\x20('+this[_0x3db8bc(0x7ef)]['wuid']+_0x3db8bc(0x651)+_0x2d095f),new m(_0x2d095f);}}async['editFlowCondition'](_0x3fdfd5){const _0x4963b=a0_0x36fc91;try{if(this[_0x4963b(0x2ee)][_0x4963b(0x855)](this['instanceName']+'\x20('+this[_0x4963b(0x7ef)]['wuid']+_0x4963b(0x85e)),!this[_0x4963b(0x669)]['flows'][_0x4963b(0x757)](_0x1b5b3a=>_0x1b5b3a[_0x4963b(0x21f)]===_0x3fdfd5[_0x4963b(0x21f)]))throw this[_0x4963b(0x2ee)][_0x4963b(0x855)](this[_0x4963b(0x3af)]+'\x20('+this[_0x4963b(0x7ef)][_0x4963b(0x816)]+'):\x20Fluxo\x20\x27'+_0x3fdfd5['_id']+_0x4963b(0x44f)),new m(_0x4963b(0x309));let _0x5981fe=await this[_0x4963b(0x465)][_0x4963b(0x419)]['findOne']({'where':{'_id':_0x3fdfd5[_0x4963b(0x21f)]}});if(!_0x5981fe||!_0x5981fe[_0x4963b(0x763)]?.[_0x4963b(0x22b)](this['instance'][_0x4963b(0x816)]))throw this[_0x4963b(0x2ee)][_0x4963b(0x844)](this[_0x4963b(0x3af)]+'\x20('+this[_0x4963b(0x7ef)]['wuid']+_0x4963b(0x179)+_0x3fdfd5[_0x4963b(0x21f)]+_0x4963b(0x516)),new m(_0x4963b(0x810)+_0x3fdfd5[_0x4963b(0x21f)]+_0x4963b(0x516));if(!_0x5981fe[_0x4963b(0x211)]?.[_0x4963b(0x22b)](this[_0x4963b(0x7ef)][_0x4963b(0x816)]))throw new m(_0x4963b(0x249));let _0x59f6e1=!0x1;if(_0x3fdfd5['condition']?.[_0x4963b(0x807)]===!0x0)_0x5981fe[_0x4963b(0x82c)]=_0x5981fe[_0x4963b(0x82c)][_0x4963b(0x125)](_0x2630ca=>_0x2630ca&&_0x3fdfd5['condition']&&_0x2630ca[_0x4963b(0x21f)]&&_0x3fdfd5[_0x4963b(0x672)][_0x4963b(0x21f)]&&_0x2630ca[_0x4963b(0x21f)][_0x4963b(0x698)]()!==_0x3fdfd5[_0x4963b(0x672)][_0x4963b(0x21f)][_0x4963b(0x698)]()),_0x59f6e1=!0x0;else{let _0x43c9b1=_0x5981fe['conditions'][_0x4963b(0x757)](_0x35c667=>_0x35c667&&_0x3fdfd5[_0x4963b(0x672)]&&_0x35c667[_0x4963b(0x21f)]&&_0x3fdfd5[_0x4963b(0x672)]['_id']&&_0x35c667[_0x4963b(0x21f)][_0x4963b(0x698)]()===_0x3fdfd5[_0x4963b(0x672)]['_id'][_0x4963b(0x698)]());_0x43c9b1?(_0x59f6e1=_0x43c9b1[_0x4963b(0x1a1)]!==_0x3fdfd5[_0x4963b(0x672)][_0x4963b(0x1a1)],Object[_0x4963b(0x671)](_0x43c9b1,_0x3fdfd5['condition'])):(_0x5981fe['conditions'][_0x4963b(0x871)](_0x3fdfd5[_0x4963b(0x672)]),_0x59f6e1=!0x0);}if(_0x59f6e1){_0x5981fe[_0x4963b(0x82c)][_0x4963b(0x790)]((_0xb41194,_0x5384d9)=>_0xb41194[_0x4963b(0x1a1)]>_0x5384d9['order']?0x1:_0x5384d9[_0x4963b(0x1a1)]>_0xb41194[_0x4963b(0x1a1)]?-0x1:0x0);for(let _0x133cc3=0x0;_0x133cc3<_0x5981fe[_0x4963b(0x82c)][_0x4963b(0x6eb)];_0x133cc3++)_0x5981fe[_0x4963b(0x82c)][_0x133cc3][_0x4963b(0x1a1)]=_0x133cc3+0x1;_0x5981fe['conditions'][_0x4963b(0x6eb)]>0x0&&(_0x5981fe['conditions'][0x0][_0x4963b(0x3bb)]=_0x4963b(0x45b));}let _0x5a3bf6=await this[_0x4963b(0x465)][_0x4963b(0x419)]['updateOne'](_0x5981fe[_0x4963b(0x21f)],_0x5981fe);if(!_0x5a3bf6)throw new Error(_0x4963b(0x6f5));return _0x5a3bf6;}catch(_0x59b152){let _0x5ed554=_0x4963b(0x275),_0x495034=_0x59b152 instanceof Error?_0x59b152[_0x4963b(0x142)]:typeof _0x59b152=='object'?JSON[_0x4963b(0x3ef)](_0x59b152):_0x59b152,_0xf9289d=_0x5ed554+':\x20'+_0x495034;throw this[_0x4963b(0x2ee)]['error'](this[_0x4963b(0x3af)]+'\x20('+this[_0x4963b(0x7ef)][_0x4963b(0x816)]+_0x4963b(0x651)+_0xf9289d),new m(_0xf9289d);}}async['editFlowVaredit'](_0x2ec414){const _0x54c6d8=a0_0x36fc91;try{if(this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x54c6d8(0x816)]+_0x54c6d8(0x1fe)),!this['AutomateSystem'][_0x54c6d8(0x329)]['find'](_0xe79f1f=>_0xe79f1f[_0x54c6d8(0x21f)]===_0x2ec414[_0x54c6d8(0x21f)]))throw this[_0x54c6d8(0x2ee)][_0x54c6d8(0x855)](this[_0x54c6d8(0x3af)]+'\x20('+this[_0x54c6d8(0x7ef)][_0x54c6d8(0x816)]+_0x54c6d8(0x36b)+_0x2ec414[_0x54c6d8(0x21f)]+_0x54c6d8(0x44f)),new m(_0x54c6d8(0x309));let _0x3f5922=await this[_0x54c6d8(0x465)][_0x54c6d8(0x419)][_0x54c6d8(0x74a)]({'where':{'_id':_0x2ec414[_0x54c6d8(0x21f)]}});if(!_0x3f5922||!_0x3f5922[_0x54c6d8(0x763)]?.[_0x54c6d8(0x22b)](this['instance'][_0x54c6d8(0x816)]))throw this[_0x54c6d8(0x2ee)]['error'](this['instanceName']+'\x20('+this[_0x54c6d8(0x7ef)][_0x54c6d8(0x816)]+_0x54c6d8(0x179)+_0x2ec414[_0x54c6d8(0x21f)]+_0x54c6d8(0x516)),new m(_0x54c6d8(0x810)+_0x2ec414[_0x54c6d8(0x21f)]+_0x54c6d8(0x516));if(!_0x3f5922[_0x54c6d8(0x211)]?.[_0x54c6d8(0x22b)](this[_0x54c6d8(0x7ef)]['wuid']))throw new m(_0x54c6d8(0x249));let _0x210c2d=!0x1;if(_0x2ec414[_0x54c6d8(0x3db)]?.['delete']===!0x0)_0x3f5922[_0x54c6d8(0x614)]=_0x3f5922[_0x54c6d8(0x614)][_0x54c6d8(0x125)](_0x5720cc=>_0x5720cc&&_0x2ec414[_0x54c6d8(0x3db)]&&_0x5720cc['_id']&&_0x2ec414[_0x54c6d8(0x3db)][_0x54c6d8(0x21f)]&&_0x5720cc[_0x54c6d8(0x21f)][_0x54c6d8(0x698)]()!==_0x2ec414[_0x54c6d8(0x3db)][_0x54c6d8(0x21f)][_0x54c6d8(0x698)]()),_0x210c2d=!0x0;else{let _0x8cc07=_0x3f5922[_0x54c6d8(0x614)][_0x54c6d8(0x757)](_0x63249=>_0x63249&&_0x2ec414[_0x54c6d8(0x3db)]&&_0x63249['_id']&&_0x2ec414[_0x54c6d8(0x3db)][_0x54c6d8(0x21f)]&&_0x63249['_id']['toString']()===_0x2ec414[_0x54c6d8(0x3db)][_0x54c6d8(0x21f)][_0x54c6d8(0x698)]());_0x8cc07?(_0x210c2d=_0x8cc07[_0x54c6d8(0x1a1)]!==_0x2ec414['varedit'][_0x54c6d8(0x1a1)],Object[_0x54c6d8(0x671)](_0x8cc07,_0x2ec414['varedit'])):(_0x3f5922[_0x54c6d8(0x614)][_0x54c6d8(0x871)](_0x2ec414[_0x54c6d8(0x3db)]),_0x210c2d=!0x0);}if(_0x210c2d){_0x3f5922[_0x54c6d8(0x614)][_0x54c6d8(0x790)]((_0x795fe2,_0x3fa404)=>_0x795fe2[_0x54c6d8(0x1a1)]>_0x3fa404[_0x54c6d8(0x1a1)]?0x1:_0x3fa404[_0x54c6d8(0x1a1)]>_0x795fe2[_0x54c6d8(0x1a1)]?-0x1:0x0);for(let _0x123f2d=0x0;_0x123f2d<_0x3f5922[_0x54c6d8(0x614)]['length'];_0x123f2d++)_0x3f5922[_0x54c6d8(0x614)][_0x123f2d][_0x54c6d8(0x1a1)]=_0x123f2d+0x1;}let _0x56dd83=await this['repository'][_0x54c6d8(0x419)]['updateOne'](_0x3f5922['_id'],_0x3f5922);if(!_0x56dd83)throw new Error(_0x54c6d8(0x6f5));return _0x56dd83;}catch(_0x16828d){let _0x3430bc='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0x6e7adb=_0x16828d instanceof Error?_0x16828d['message']:typeof _0x16828d==_0x54c6d8(0x733)?JSON[_0x54c6d8(0x3ef)](_0x16828d):_0x16828d,_0x5ad7c4=_0x3430bc+':\x20'+_0x6e7adb;throw this[_0x54c6d8(0x2ee)][_0x54c6d8(0x844)](this['instanceName']+'\x20('+this[_0x54c6d8(0x7ef)][_0x54c6d8(0x816)]+_0x54c6d8(0x651)+_0x5ad7c4),new m(_0x5ad7c4);}}async[a0_0x36fc91(0x86e)](_0x1d8990){const _0x59015d=a0_0x36fc91;try{if(this[_0x59015d(0x2ee)]['verbose'](this[_0x59015d(0x3af)]+'\x20('+this[_0x59015d(0x7ef)][_0x59015d(0x816)]+_0x59015d(0x5e0)),!this[_0x59015d(0x669)][_0x59015d(0x329)][_0x59015d(0x757)](_0x54032c=>_0x54032c[_0x59015d(0x21f)]===_0x1d8990[_0x59015d(0x21f)]))throw this[_0x59015d(0x2ee)][_0x59015d(0x855)](this[_0x59015d(0x3af)]+'\x20('+this[_0x59015d(0x7ef)][_0x59015d(0x816)]+_0x59015d(0x36b)+_0x1d8990[_0x59015d(0x21f)]+_0x59015d(0x44f)),new m(_0x59015d(0x309));let _0x144d95=await this[_0x59015d(0x465)]['flow'][_0x59015d(0x74a)]({'where':{'_id':_0x1d8990['_id']}});if(!_0x144d95||!_0x144d95[_0x59015d(0x763)]?.[_0x59015d(0x22b)](this[_0x59015d(0x7ef)]['wuid']))throw this['logger'][_0x59015d(0x844)](this['instanceName']+'\x20('+this[_0x59015d(0x7ef)][_0x59015d(0x816)]+_0x59015d(0x179)+_0x1d8990[_0x59015d(0x21f)]+_0x59015d(0x516)),new m(_0x59015d(0x810)+_0x1d8990[_0x59015d(0x21f)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x144d95[_0x59015d(0x211)]?.['includes'](this[_0x59015d(0x7ef)][_0x59015d(0x816)]))throw new m(_0x59015d(0x249));_0x1d8990[_0x59015d(0x832)]['name']=_0x1d8990[_0x59015d(0x832)][_0x59015d(0x10b)]['trim'](),_0x1d8990[_0x59015d(0x832)]['name'][_0x59015d(0x368)]('_')&&(_0x1d8990[_0x59015d(0x832)]['name']=_0x1d8990[_0x59015d(0x832)][_0x59015d(0x10b)][_0x59015d(0x346)](0x1)),_0x1d8990['variable'][_0x59015d(0x10b)]=_0x1d8990[_0x59015d(0x832)][_0x59015d(0x10b)][_0x59015d(0x821)]();let _0x30f04d=_0x144d95[_0x59015d(0x321)][_0x59015d(0x757)](_0x202917=>_0x202917[_0x59015d(0x10b)]===_0x1d8990[_0x59015d(0x832)][_0x59015d(0x10b)]);if(_0x30f04d?.[_0x59015d(0x1e2)]===!0x0)throw new Error(_0x59015d(0x66a));if(_0x1d8990[_0x59015d(0x832)]?.[_0x59015d(0x807)]===!0x0){if(!_0x30f04d)return{'message':_0x59015d(0x3b0)};_0x144d95['variables']=_0x144d95['variables'][_0x59015d(0x125)](_0x55b571=>_0x55b571[_0x59015d(0x10b)]!==_0x1d8990[_0x59015d(0x832)][_0x59015d(0x10b)]);}else _0x30f04d?Object[_0x59015d(0x671)](_0x30f04d,_0x1d8990['variable']):_0x144d95[_0x59015d(0x321)][_0x59015d(0x871)](_0x1d8990[_0x59015d(0x832)]);let _0x1f77c7=await this[_0x59015d(0x465)][_0x59015d(0x419)][_0x59015d(0x47d)](_0x144d95[_0x59015d(0x21f)],_0x144d95);if(!_0x1f77c7)throw new Error(_0x59015d(0x6f5));return _0x1f77c7;}catch(_0x97a861){let _0x15503e=_0x59015d(0x366),_0x5a5e15=_0x97a861 instanceof Error?_0x97a861[_0x59015d(0x142)]:typeof _0x97a861==_0x59015d(0x733)?JSON['stringify'](_0x97a861):_0x97a861,_0x3b0237=_0x15503e+':\x20'+_0x5a5e15;throw this[_0x59015d(0x2ee)]['error'](this['instanceName']+'\x20('+this[_0x59015d(0x7ef)][_0x59015d(0x816)]+_0x59015d(0x651)+_0x3b0237),new m(_0x3b0237);}}async[a0_0x36fc91(0x307)](_0x27d52a){const _0x155ad4=a0_0x36fc91;let _0x5a8e4e=null;try{if(!this[_0x155ad4(0x669)]?.['flowConfig'][_0x155ad4(0x2c4)])throw new m(_0x155ad4(0x2ed));this['logger'][_0x155ad4(0x855)](this['instanceName']+'\x20('+this[_0x155ad4(0x7ef)][_0x155ad4(0x816)]+_0x155ad4(0x2f9));let _0x25a71a=(await this[_0x155ad4(0x3d5)]({'numbers':[_0x27d52a[_0x155ad4(0x370)]]}))[0x0];if(!_0x25a71a['exists']&&!(0x0,w[_0x155ad4(0x459)])(_0x25a71a['jid'])&&!_0x25a71a[_0x155ad4(0x4cd)][_0x155ad4(0x22b)](_0x155ad4(0x562)))throw _0x5a8e4e=JSON[_0x155ad4(0x3ef)](_0x25a71a,null,0x2),new m(_0x25a71a);let _0x124563;if(_0x27d52a[_0x155ad4(0x10b)]['length']===0x24&&/^[0-9a-fA-F-]{36}$/['test'](_0x27d52a[_0x155ad4(0x10b)])?_0x124563=this[_0x155ad4(0x669)][_0x155ad4(0x329)][_0x155ad4(0x757)](_0x1f20d1=>_0x1f20d1[_0x155ad4(0x21f)]===_0x27d52a['name']):_0x124563=this[_0x155ad4(0x669)]['flows']['find'](_0x5dd8e0=>_0x5dd8e0[_0x155ad4(0x10b)]===_0x27d52a['name']),!_0x124563)throw this[_0x155ad4(0x2ee)][_0x155ad4(0x855)](this[_0x155ad4(0x3af)]+'\x20('+this[_0x155ad4(0x7ef)][_0x155ad4(0x816)]+'):\x20Fluxo\x20\x27'+_0x27d52a[_0x155ad4(0x10b)]+_0x155ad4(0x44f)),new m(_0x155ad4(0x309));let _0x1747eb=await this[_0x155ad4(0x465)][_0x155ad4(0x419)][_0x155ad4(0x74a)]({'where':{'_id':_0x124563[_0x155ad4(0x21f)]}});if(!_0x1747eb||!_0x1747eb[_0x155ad4(0x763)]?.['includes'](this[_0x155ad4(0x7ef)][_0x155ad4(0x816)]))throw this[_0x155ad4(0x2ee)]['error'](this[_0x155ad4(0x3af)]+'\x20('+this['instance'][_0x155ad4(0x816)]+_0x155ad4(0x179)+_0x124563[_0x155ad4(0x21f)]+_0x155ad4(0x516)),_0x5a8e4e=_0x155ad4(0x810)+_0x124563[_0x155ad4(0x21f)]+_0x155ad4(0x516),new m(_0x5a8e4e);let _0x213583=await this[_0x155ad4(0x3c2)](_0x1747eb,_0x25a71a[_0x155ad4(0x4cd)],_0x27d52a[_0x155ad4(0x818)]);if(_0x213583){this['logger'][_0x155ad4(0x855)](this['instanceName']+'\x20('+this[_0x155ad4(0x7ef)][_0x155ad4(0x816)]+_0x155ad4(0x325));let _0x286b88=await this['NextBlock'](_0x213583);return _0x286b88&&await this[_0x155ad4(0x507)](_0x213583,_0x286b88),{'message':'Flow\x20iniciado\x20com\x20'+_0x27d52a['remoteJid']};}}catch(_0x403318){if(this['logger'][_0x155ad4(0x844)](this[_0x155ad4(0x3af)]+'\x20('+this[_0x155ad4(0x7ef)]['wuid']+_0x155ad4(0x411)+(_0x403318 instanceof Error?_0x403318[_0x155ad4(0x142)]:JSON[_0x155ad4(0x3ef)](_0x403318,null,0x2))),_0x5a8e4e=_0x403318 instanceof Error?_0x403318[_0x155ad4(0x142)]:JSON[_0x155ad4(0x3ef)](_0x403318,null,0x2),_0x5a8e4e)throw new m(_0x155ad4(0x3de)+_0x5a8e4e);}}async[a0_0x36fc91(0x415)](_0x1eb0da,_0x84f9b2,_0x461e7b){const _0x698c58=a0_0x36fc91;let _0x1cf7c0=null;try{if(!this[_0x698c58(0x669)]?.['flowConfig'][_0x698c58(0x2c4)])throw new m('Fluxos\x20não\x20estão\x20ativados');if(this['logger'][_0x698c58(0x855)](this[_0x698c58(0x3af)]+'\x20('+this[_0x698c58(0x7ef)][_0x698c58(0x816)]+_0x698c58(0x2f9)),_0x84f9b2){let _0x31ae29=(await this[_0x698c58(0x3d5)]({'numbers':[_0x84f9b2]}))[0x0];if(!_0x31ae29[_0x698c58(0x40f)]&&!(0x0,w[_0x698c58(0x459)])(_0x31ae29[_0x698c58(0x4cd)])&&!_0x31ae29[_0x698c58(0x4cd)][_0x698c58(0x22b)](_0x698c58(0x562)))throw _0x1cf7c0=JSON[_0x698c58(0x3ef)](_0x31ae29,null,0x2),new m(_0x31ae29);_0x84f9b2=_0x31ae29[_0x698c58(0x4cd)];}else _0x84f9b2||(_0x84f9b2=(0x0,X['v4'])());let _0x37a793=await this[_0x698c58(0x465)][_0x698c58(0x419)][_0x698c58(0x74a)]({'where':{'_id':_0x1eb0da}});if(!_0x37a793||!_0x37a793[_0x698c58(0x763)]?.[_0x698c58(0x22b)](this[_0x698c58(0x7ef)][_0x698c58(0x816)]))throw this[_0x698c58(0x2ee)]['error'](this[_0x698c58(0x3af)]+'\x20('+this[_0x698c58(0x7ef)][_0x698c58(0x816)]+_0x698c58(0x179)+_0x1eb0da+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x698c58(0x810)+_0x1eb0da+_0x698c58(0x516));let _0x252599=await this[_0x698c58(0x3c2)](_0x37a793,_0x84f9b2,null);if(_0x252599){this[_0x698c58(0x2ee)][_0x698c58(0x855)](this['instanceName']+'\x20('+this[_0x698c58(0x7ef)][_0x698c58(0x816)]+_0x698c58(0x546));let _0x5d8d60;if(_0x461e7b){let _0x32f588=_0x252599[_0x698c58(0x4c6)][_0x698c58(0x31b)],_0x1843ac=this['flattenObject'](_0x461e7b);Object[_0x698c58(0x671)](_0x32f588,_0x1843ac),_0x252599[_0x698c58(0x4c6)]['realVariables']=_0x32f588,_0x5d8d60={'error':!0x1,'apiResponse':_0x461e7b};}let _0x56535d=await this[_0x698c58(0x4d9)](_0x252599);return _0x56535d&&await this[_0x698c58(0x507)](_0x252599,_0x56535d),{'message':_0x698c58(0x4c9)};}}catch(_0xea68d0){if(this[_0x698c58(0x2ee)]['error'](this['instanceName']+'\x20('+this[_0x698c58(0x7ef)][_0x698c58(0x816)]+_0x698c58(0x411)+(_0xea68d0 instanceof Error?_0xea68d0[_0x698c58(0x142)]:JSON['stringify'](_0xea68d0,null,0x2))),_0x1cf7c0=_0xea68d0 instanceof Error?_0xea68d0[_0x698c58(0x142)]:JSON['stringify'](_0xea68d0,null,0x2),_0x1cf7c0)throw new m(_0x698c58(0x3de)+_0x1cf7c0);}}async['closeExistingConversations'](_0x1ba69f){const _0x44510d=a0_0x36fc91;try{let _0x1c7903={'remoteJid':_0x1ba69f,'status':_0x44510d(0x4fc)},_0x778c53={'status':_0x44510d(0x52e)},_0x1a9227=await this[_0x44510d(0x465)][_0x44510d(0x2c3)][_0x44510d(0x404)](_0x1c7903,_0x778c53,this[_0x44510d(0x7ef)]['wuid']);return this[_0x44510d(0x2ee)]['verbose'](this[_0x44510d(0x3af)]+'\x20('+this[_0x44510d(0x7ef)][_0x44510d(0x816)]+_0x44510d(0x445)),_0x1a9227;}catch(_0x4bd409){throw this['logger']['error'](this[_0x44510d(0x3af)]+'\x20('+this[_0x44510d(0x7ef)][_0x44510d(0x816)]+_0x44510d(0x79b)+_0x4bd409['message']),_0x4bd409;}}async[a0_0x36fc91(0x3c2)](_0x27e1ad,_0xf21667,_0x3ec1ec){const _0x2e5592=a0_0x36fc91;this[_0x2e5592(0x2ee)][_0x2e5592(0x855)](this['instanceName']+'\x20('+this['instance'][_0x2e5592(0x816)]+_0x2e5592(0x694)),await this[_0x2e5592(0x4cc)](_0xf21667);try{let _0x430678=require('mongodb')['ObjectId'],_0x476bbc=Date[_0x2e5592(0x630)](),_0x2a8fcd='start',_0x55496b={},_0x5f1387={},_0xa012e4=this['AutomateSystem'][_0x2e5592(0x329)][_0x2e5592(0x757)](_0x533090=>_0x533090[_0x2e5592(0x21f)]===_0x27e1ad[_0x2e5592(0x21f)]?.[_0x2e5592(0x698)]()),_0x236c2f=_0xa012e4?.[_0x2e5592(0x688)]??_0x27e1ad[_0x2e5592(0x688)]??0x0,_0xeaf3d2=_0xa012e4?.[_0x2e5592(0x24c)]??_0x27e1ad[_0x2e5592(0x24c)]??!0x1,_0x5a549e={'flowId':_0x27e1ad[_0x2e5592(0x21f)],..._0x27e1ad,'chatLog':null},_0x9b9747=await this['variablesToObject'](_0x5a549e[_0x2e5592(0x321)]),_0x369de9=await this[_0x2e5592(0x128)](_0xf21667),_0x5c9b11={..._0x9b9747,..._0x369de9,'_remoteJid':_0xf21667},_0x561c7b={'lastReceivedMessage':_0x55496b,'lastSendMessage':_0x5f1387,'lastBlockId':_0x2a8fcd,'lastCondition':!0x0,'realVariables':_0x5c9b11};_0x5a549e[_0x2e5592(0x4c6)]=_0x561c7b,_0x5a549e[_0x2e5592(0x4c6)][_0x2e5592(0x31b)]={..._0x5c9b11,..._0x3ec1ec},delete _0x5a549e[_0x2e5592(0x21f)],_0x5a549e[_0x2e5592(0x21f)]=new _0x430678(),_0x5a549e[_0x2e5592(0x17e)]=_0x476bbc,_0x5a549e['status']=_0x2e5592(0x4fc),_0x5a549e['remoteJid']=_0xf21667,_0x5a549e['minutesToClose']=_0x236c2f,_0x5a549e[_0x2e5592(0x24c)]=_0xeaf3d2,_0x5a549e[_0x2e5592(0x21f)]=_0x27e1ad[_0x2e5592(0x21f)];let _0x2239cc=await this[_0x2e5592(0x465)][_0x2e5592(0x2c3)][_0x2e5592(0x47d)](_0x5a549e['_id'],_0x5a549e,this[_0x2e5592(0x7ef)]['wuid']);return this[_0x2e5592(0x2ee)][_0x2e5592(0x855)](this['instanceName']+'\x20('+this['instance'][_0x2e5592(0x816)]+_0x2e5592(0x1a5)),_0x2239cc?_0x5a549e:null;}catch(_0x14b1b9){let _0x2b9d5e=_0x2e5592(0x13c),_0x137ebb=_0x14b1b9 instanceof Error?_0x14b1b9[_0x2e5592(0x142)]:typeof _0x14b1b9==_0x2e5592(0x733)?JSON[_0x2e5592(0x3ef)](_0x14b1b9):_0x14b1b9,_0x34a614=_0x2b9d5e+':\x20'+_0x137ebb;throw this[_0x2e5592(0x2ee)]['error'](this[_0x2e5592(0x3af)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x34a614),new m(_0x34a614);}}async[a0_0x36fc91(0x6f1)](_0x21db27){const _0x3818f3=a0_0x36fc91;try{this[_0x3818f3(0x2ee)][_0x3818f3(0x855)](this[_0x3818f3(0x3af)]+'\x20('+this['instance']['wuid']+_0x3818f3(0x774)),this[_0x3818f3(0x2ee)][_0x3818f3(0x855)](this[_0x3818f3(0x3af)]+'\x20('+this[_0x3818f3(0x7ef)]['wuid']+_0x3818f3(0x2e4)+_0x21db27);let _0x1b0811={'where':{'_id':_0x21db27}};return await this[_0x3818f3(0x465)][_0x3818f3(0x2c3)][_0x3818f3(0x74a)](_0x1b0811,this[_0x3818f3(0x7ef)]['wuid']);}catch(_0x23118b){let _0x271a06=_0x3818f3(0x303),_0x564e73=_0x23118b instanceof Error?_0x23118b[_0x3818f3(0x142)]:typeof _0x23118b=='object'?JSON[_0x3818f3(0x3ef)](_0x23118b):_0x23118b,_0x46800c=_0x271a06+':\x20'+_0x564e73;throw this[_0x3818f3(0x2ee)][_0x3818f3(0x844)](this[_0x3818f3(0x3af)]+'\x20('+this[_0x3818f3(0x7ef)][_0x3818f3(0x816)]+_0x3818f3(0x651)+_0x46800c),new m(_0x46800c);}}async['fetchConversation'](_0x323b0f){const _0x35f9f7=a0_0x36fc91;try{return this[_0x35f9f7(0x2ee)][_0x35f9f7(0x855)](this['instanceName']+'\x20('+this[_0x35f9f7(0x7ef)]['wuid']+_0x35f9f7(0x5a5)),await this[_0x35f9f7(0x465)]['flowConversation'][_0x35f9f7(0x757)](_0x323b0f,this[_0x35f9f7(0x7ef)][_0x35f9f7(0x816)]);}catch(_0x59802f){let _0x53b83a=_0x35f9f7(0x6fc),_0x5baa61=_0x59802f instanceof Error?_0x59802f['message']:typeof _0x59802f==_0x35f9f7(0x733)?JSON[_0x35f9f7(0x3ef)](_0x59802f):_0x59802f,_0x2edd11=_0x53b83a+':\x20'+_0x5baa61;throw this[_0x35f9f7(0x2ee)]['error'](this[_0x35f9f7(0x3af)]+'\x20('+this['instance'][_0x35f9f7(0x816)]+_0x35f9f7(0x651)+_0x2edd11),new m(_0x2edd11);}}async[a0_0x36fc91(0x531)](_0x225485){const _0x4b0b24=a0_0x36fc91;try{return this[_0x4b0b24(0x2ee)]['verbose'](this[_0x4b0b24(0x3af)]+'\x20('+this[_0x4b0b24(0x7ef)][_0x4b0b24(0x816)]+'):\x20Deletando\x20conversa...'),this[_0x4b0b24(0x2ee)][_0x4b0b24(0x855)](this[_0x4b0b24(0x3af)]+'\x20('+this['instance']['wuid']+_0x4b0b24(0x185)+_0x225485),(await this[_0x4b0b24(0x465)][_0x4b0b24(0x2c3)][_0x4b0b24(0x7b3)]({'where':{'_id':_0x225485['_id']}},this[_0x4b0b24(0x7ef)]['wuid']))[_0x4b0b24(0x16c)]===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0xe36de9){let _0x1be243=_0x4b0b24(0x6e9),_0x3d41f2=_0xe36de9 instanceof Error?_0xe36de9[_0x4b0b24(0x142)]:typeof _0xe36de9=='object'?JSON[_0x4b0b24(0x3ef)](_0xe36de9):_0xe36de9,_0x4fc506=_0x1be243+':\x20'+_0x3d41f2;throw this[_0x4b0b24(0x2ee)][_0x4b0b24(0x844)](this[_0x4b0b24(0x3af)]+'\x20('+this[_0x4b0b24(0x7ef)][_0x4b0b24(0x816)]+_0x4b0b24(0x651)+_0x4fc506),new m(_0x4fc506);}}async[a0_0x36fc91(0x409)](_0x582dda){const _0x186baf=a0_0x36fc91;try{let {_id:_0x11bd76,chatLog:_0x2b825b,status:_0x40511c}=_0x582dda;if(!_0x11bd76)return{'message':_0x186baf(0x475)};let _0x4c3c1e={};if(_0x40511c!==void 0x0&&(_0x4c3c1e[_0x186baf(0x166)]=_0x40511c),Object[_0x186baf(0x448)](_0x4c3c1e)['length']===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0x4cdf8a=await this['repository'][_0x186baf(0x2c3)]['updateOne'](_0x11bd76,_0x4c3c1e,this['instance'][_0x186baf(0x816)]);return _0x4cdf8a||{'message':_0x186baf(0x6ed)};}catch(_0x76c93c){let _0x2c5a52=_0x186baf(0x506),_0x37dbcf=_0x76c93c instanceof Error?_0x76c93c[_0x186baf(0x142)]:typeof _0x76c93c==_0x186baf(0x733)?JSON['stringify'](_0x76c93c):_0x76c93c,_0x5f591e=_0x2c5a52+':\x20'+_0x37dbcf;throw this['logger'][_0x186baf(0x844)](this[_0x186baf(0x3af)]+'\x20('+this['instance'][_0x186baf(0x816)]+_0x186baf(0x651)+_0x5f591e),new m(_0x5f591e);}}async[a0_0x36fc91(0x533)](_0x5ced0f){const _0x5ae1fa=a0_0x36fc91;try{_0x5ced0f[_0x5ae1fa(0x21f)]=this[_0x5ae1fa(0x806)](_0x5ced0f[_0x5ae1fa(0x21f)]);let _0xd91ea=await this[_0x5ae1fa(0x465)][_0x5ae1fa(0x1aa)][_0x5ae1fa(0x74a)]({'where':{'_id':_0x5ced0f[_0x5ae1fa(0x21f)]}},this[_0x5ae1fa(0x7ef)][_0x5ae1fa(0x816)]);if(!_0xd91ea)throw new m('Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo');let {_id:_0x2c0809,leadInfo:_0x6f58b6}=_0x5ced0f;if(!_0x2c0809)throw new Error(_0x5ae1fa(0x6a9));if(_0x5ced0f[_0x5ae1fa(0x807)]===_0x5ae1fa(0x42b))return await this[_0x5ae1fa(0x4f2)](_0x5ced0f[_0x5ae1fa(0x21f)]),await this['repository'][_0x5ae1fa(0x1aa)][_0x5ae1fa(0x807)]({'where':{'_id':_0x5ced0f[_0x5ae1fa(0x21f)]}},this['instance'][_0x5ae1fa(0x816)]),await this['repository'][_0x5ae1fa(0x142)][_0x5ae1fa(0x807)]({'where':{'key':{'remoteJid':_0x5ced0f[_0x5ae1fa(0x21f)]}}},this[_0x5ae1fa(0x7ef)]['wuid']),_0x5ced0f=await this[_0x5ae1fa(0x465)][_0x5ae1fa(0x1aa)]['updateOne']({'where':{'_id':_0x5ced0f[_0x5ae1fa(0x21f)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x5ae1fa(0x7ef)]['wuid']),J(this['instanceName'],_0x5ae1fa(0x4a4),{'chat':_0x5ced0f}),{'message':_0x5ae1fa(0x583)};if(_0x5ced0f[_0x5ae1fa(0x807)]===_0x5ae1fa(0x2ea))return await this[_0x5ae1fa(0x465)][_0x5ae1fa(0x142)][_0x5ae1fa(0x807)]({'where':{'key':{'remoteJid':_0x5ced0f[_0x5ae1fa(0x21f)]}}},this[_0x5ae1fa(0x7ef)][_0x5ae1fa(0x816)]),_0x5ced0f=await this[_0x5ae1fa(0x465)][_0x5ae1fa(0x1aa)][_0x5ae1fa(0x47d)]({'where':{'_id':_0x5ced0f[_0x5ae1fa(0x21f)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x5ae1fa(0x7ef)][_0x5ae1fa(0x816)]),J(this[_0x5ae1fa(0x3af)],_0x5ae1fa(0x4a4),{'chat':_0x5ced0f}),{'message':_0x5ae1fa(0x7cd)};let _0x48833f=(_0x154397,_0x4ba3c1,_0x50089c)=>{const _0x23f1f4=_0x5ae1fa;_0x154397&&_0x50089c[_0x23f1f4(0x12c)](_0xc1e51f=>{const _0x1db402=_0x23f1f4;_0x154397[_0xc1e51f]!==void 0x0&&(_0x4ba3c1[_0x1db402(0x654)+_0xc1e51f]=_0x154397[_0xc1e51f]);});},_0x2acfa9={};if(_0x5ae1fa(0x243)in _0x5ced0f&&(this[_0x5ae1fa(0x2ee)][_0x5ae1fa(0x855)](this[_0x5ae1fa(0x3af)]+'\x20('+this[_0x5ae1fa(0x7ef)][_0x5ae1fa(0x816)]+_0x5ae1fa(0x2e2)+_0x5ced0f[_0x5ae1fa(0x21f)]),_0x5ced0f[_0x5ae1fa(0x243)]=_0x5ced0f[_0x5ae1fa(0x243)]===0x0?null:-0x1,await this[_0x5ae1fa(0x850)][_0x5ae1fa(0x7c3)]({'mute':_0x5ced0f[_0x5ae1fa(0x243)]},_0x5ced0f[_0x5ae1fa(0x21f)]),_0x2acfa9['muteEndTime']=Number(_0x5ced0f[_0x5ae1fa(0x243)])),_0x6f58b6&&(_0x48833f(_0x6f58b6,_0x2acfa9,[_0x5ae1fa(0x65e),_0x5ae1fa(0x14e),'email',_0x5ae1fa(0x1e9),_0x5ae1fa(0x166),_0x5ae1fa(0x549),_0x5ae1fa(0x5dd),_0x5ae1fa(0x219),_0x5ae1fa(0x283),_0x5ae1fa(0x462),_0x5ae1fa(0x504)]),Array[_0x5ae1fa(0x484)](_0x6f58b6[_0x5ae1fa(0x64b)])&&(_0x2acfa9['leadInfo.customFields']=_0x6f58b6[_0x5ae1fa(0x64b)][_0x5ae1fa(0x71e)](_0x2be4f5=>({'_id':_0x2be4f5['_id'],'value':_0x2be4f5['value']}))),_0x5ced0f[_0x5ae1fa(0x1e2)]['etiquetas']!==void 0x0)){let _0x2748a9=await this[_0x5ae1fa(0x465)][_0x5ae1fa(0x1f2)][_0x5ae1fa(0x757)]({'where':{}},this[_0x5ae1fa(0x7ef)][_0x5ae1fa(0x816)]),_0x448e2d=new Set(_0x5ced0f[_0x5ae1fa(0x1e2)][_0x5ae1fa(0x462)]||[]),_0x5d5099=new Set(_0x5ced0f[_0x5ae1fa(0x1e2)]['etiquetas']),_0x249d91=new Set(_0x2748a9[_0x5ae1fa(0x71e)](_0x52047b=>_0x52047b[_0x5ae1fa(0x21f)])),_0x5646c7=[..._0x5d5099][_0x5ae1fa(0x125)](_0xdd25d5=>!_0x448e2d[_0x5ae1fa(0x4e2)](_0xdd25d5)&&_0x249d91['has'](_0xdd25d5)),_0x16b4e3=[..._0x448e2d][_0x5ae1fa(0x125)](_0x42f32a=>!_0x5d5099['has'](_0x42f32a));if(_0x2acfa9[_0x5ae1fa(0x469)]=[..._0x448e2d],_0xd91ea&&!_0xd91ea[_0x5ae1fa(0x251)]){for(let _0x33df6a of _0x5646c7)await this[_0x5ae1fa(0x5c1)](_0x33df6a,_0x5ced0f[_0x5ae1fa(0x21f)]),_0x448e2d[_0x5ae1fa(0x187)](_0x33df6a);for(let _0x10beb2 of _0x16b4e3)await this[_0x5ae1fa(0x491)](_0x10beb2,_0x5ced0f[_0x5ae1fa(0x21f)]),_0x448e2d['delete'](_0x10beb2);}}if(_0x5ced0f[_0x5ae1fa(0x281)]!==void 0x0&&(_0x2acfa9[_0x5ae1fa(0x281)]=Number(_0x5ced0f[_0x5ae1fa(0x281)])),Object[_0x5ae1fa(0x448)](_0x2acfa9)['length']===0x0)throw new Error(_0x5ae1fa(0x5ed));let _0xe331db=await this[_0x5ae1fa(0x465)][_0x5ae1fa(0x1aa)]['updateOne']({'where':{'_id':_0x5ced0f['_id']}},_0x2acfa9,this['instance'][_0x5ae1fa(0x816)]);return _0xe331db&&J(this[_0x5ae1fa(0x3af)],'chats',{'chat':_0xe331db}),_0xe331db?(this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x5ae1fa(0x816)]+'):\x20'+JSON['stringify'](_0xe331db,null,0x2)),_0xe331db):{'message':_0x5ae1fa(0x1be)};}catch(_0x6c3b2a){let _0x1404d2=_0x5ae1fa(0x1d9),_0x4c3372=_0x6c3b2a instanceof Error?_0x6c3b2a[_0x5ae1fa(0x142)]:typeof _0x6c3b2a==_0x5ae1fa(0x733)?JSON[_0x5ae1fa(0x3ef)](_0x6c3b2a):_0x6c3b2a,_0x540fd8=_0x1404d2+':\x20'+_0x4c3372;throw this[_0x5ae1fa(0x2ee)]['error'](this[_0x5ae1fa(0x3af)]+'\x20('+this[_0x5ae1fa(0x7ef)][_0x5ae1fa(0x816)]+'):\x20'+_0x540fd8),new m(_0x540fd8);}}async['AddChatLabel'](_0x32dbcd,_0x552a0e){const _0x348e08=a0_0x36fc91;try{await this[_0x348e08(0x850)][_0x348e08(0x4bd)](_0x552a0e,_0x32dbcd),this[_0x348e08(0x2ee)]['info'](this[_0x348e08(0x3af)]+'\x20('+this[_0x348e08(0x7ef)][_0x348e08(0x816)]+_0x348e08(0x5bc)+_0x32dbcd+'\x20adicionado\x20ao\x20chat\x20'+_0x552a0e+'\x20com\x20sucesso.');}catch(_0x5c1184){this[_0x348e08(0x2ee)][_0x348e08(0x844)]('Erro\x20ao\x20adicionar\x20label\x20'+_0x32dbcd+_0x348e08(0x2f5)+_0x552a0e+':\x20'+_0x5c1184);}}async[a0_0x36fc91(0x491)](_0x22f281,_0x372b36){const _0x45deb1=a0_0x36fc91;try{await this['client'][_0x45deb1(0x278)](_0x372b36,_0x22f281),this[_0x45deb1(0x2ee)][_0x45deb1(0x707)](this[_0x45deb1(0x3af)]+'\x20('+this[_0x45deb1(0x7ef)][_0x45deb1(0x816)]+_0x45deb1(0x5bc)+_0x22f281+'\x20removido\x20do\x20chat\x20'+_0x372b36+'\x20com\x20sucesso.');}catch(_0x2e8af8){this['logger'][_0x45deb1(0x844)](_0x45deb1(0x38a)+_0x22f281+_0x45deb1(0x4a9)+_0x372b36+':\x20'+_0x2e8af8);}}async[a0_0x36fc91(0x388)](_0x289ec0){const _0x4d8415=a0_0x36fc91;try{let _0x403a1f=await this[_0x4d8415(0x465)][_0x4d8415(0x536)]['findOrCreate'](this[_0x4d8415(0x7ef)]['wuid']),_0x38e36b=_0x289ec0['_id']?_0x403a1f[_0x4d8415(0x712)]['findIndex'](_0x2c5107=>_0x2c5107[_0x4d8415(0x21f)]===_0x289ec0['_id']):-0x1;if(_0x289ec0[_0x4d8415(0x807)]&&_0x38e36b>-0x1)_0x403a1f['agents'][_0x4d8415(0x5fc)](_0x38e36b,0x1);else{if(_0x38e36b>-0x1){let _0x5b87b1=_0x403a1f[_0x4d8415(0x712)][_0x38e36b];_0x289ec0[_0x4d8415(0x43f)]&&(_0x5b87b1[_0x4d8415(0x43f)]=_0x289ec0['fone']),_0x289ec0[_0x4d8415(0x10b)]&&(_0x5b87b1[_0x4d8415(0x10b)]=_0x289ec0[_0x4d8415(0x10b)]),_0x289ec0[_0x4d8415(0x47f)]&&(_0x5b87b1['email']=_0x289ec0[_0x4d8415(0x47f)]),_0x289ec0['role']&&(_0x5b87b1[_0x4d8415(0x269)]=_0x289ec0[_0x4d8415(0x269)]);}else _0x403a1f[_0x4d8415(0x712)]['push']({'_id':_0x289ec0[_0x4d8415(0x21f)]||new he['default'][(_0x4d8415(0x827))][(_0x4d8415(0x81d))]()[_0x4d8415(0x698)](),'fone':_0x289ec0[_0x4d8415(0x43f)],'name':_0x289ec0['name'],'email':_0x289ec0[_0x4d8415(0x47f)],'role':_0x289ec0[_0x4d8415(0x269)]});}let _0x51e7e8={'agents':_0x403a1f[_0x4d8415(0x712)]},_0x5e79ce=await this[_0x4d8415(0x465)][_0x4d8415(0x536)]['update'](_0x51e7e8,this['instance'][_0x4d8415(0x816)]);return this['AutomateSystem']=_0x5e79ce,this[_0x4d8415(0x2ee)][_0x4d8415(0x855)](this['instanceName']+'\x20('+this[_0x4d8415(0x7ef)][_0x4d8415(0x816)]+_0x4d8415(0x500)),this[_0x4d8415(0x2ee)][_0x4d8415(0x855)](this['instanceName']+'\x20('+this[_0x4d8415(0x7ef)][_0x4d8415(0x816)]+_0x4d8415(0x651)+this['AutomateSystem']),_0x5e79ce;}catch(_0x44db0c){let _0x2b55d7=_0x4d8415(0x16a),_0x201da5=_0x44db0c instanceof Error?_0x44db0c[_0x4d8415(0x142)]:typeof _0x44db0c==_0x4d8415(0x733)?JSON[_0x4d8415(0x3ef)](_0x44db0c):_0x44db0c,_0x552e63=_0x2b55d7+':\x20'+_0x201da5;throw this[_0x4d8415(0x2ee)][_0x4d8415(0x844)](this[_0x4d8415(0x3af)]+'\x20('+this['instance'][_0x4d8415(0x816)]+_0x4d8415(0x651)+_0x552e63),new m(_0x552e63);}}async['updateCustomFields'](_0xb4dc4b){const _0x2221be=a0_0x36fc91;try{let _0xf9e4b4=await this['repository'][_0x2221be(0x536)][_0x2221be(0x2f6)](this[_0x2221be(0x7ef)][_0x2221be(0x816)]),_0x4b1dd8=_0xb4dc4b[_0x2221be(0x21f)]?_0xf9e4b4['customFields'][_0x2221be(0x7ac)](_0x15bb57=>_0x15bb57[_0x2221be(0x21f)]===_0xb4dc4b[_0x2221be(0x21f)]):-0x1,_0x26efc1=!0x1,_0x55dbe0=_0xf9e4b4[_0x2221be(0x64b)][_0x2221be(0x869)](_0xef640a=>_0xef640a[_0x2221be(0x1a1)]===_0xb4dc4b[_0x2221be(0x1a1)]);if(_0xb4dc4b[_0x2221be(0x807)]&&_0x4b1dd8>-0x1)_0xf9e4b4[_0x2221be(0x64b)][_0x2221be(0x5fc)](_0x4b1dd8,0x1),_0x26efc1=!0x0;else{if(_0x4b1dd8>-0x1){if(_0xf9e4b4[_0x2221be(0x64b)][_0x2221be(0x869)](_0x45b41f=>_0x45b41f[_0x2221be(0x10b)]===_0xb4dc4b[_0x2221be(0x10b)]&&_0x45b41f[_0x2221be(0x21f)]!==_0xb4dc4b[_0x2221be(0x21f)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');let _0x307bb3=_0xf9e4b4['customFields'][_0x4b1dd8];_0xb4dc4b[_0x2221be(0x1a1)]&&(_0x55dbe0||!Number[_0x2221be(0x1f6)](_0xb4dc4b[_0x2221be(0x1a1)]))&&(_0x307bb3['order']=_0xb4dc4b['order'],_0x26efc1=!0x0),_0xb4dc4b['name']&&(_0x307bb3['name']=_0xb4dc4b[_0x2221be(0x10b)]);}else{if(_0xf9e4b4[_0x2221be(0x64b)][_0x2221be(0x869)](_0x20c2e1=>_0x20c2e1[_0x2221be(0x10b)]===_0xb4dc4b[_0x2221be(0x10b)]&&_0x20c2e1[_0x2221be(0x21f)]!==_0xb4dc4b['_id']))throw new Error(_0x2221be(0x706));_0xf9e4b4[_0x2221be(0x64b)][_0x2221be(0x871)]({'_id':_0xb4dc4b[_0x2221be(0x21f)]||new he[(_0x2221be(0x361))]['Types']['ObjectId']()[_0x2221be(0x698)](),'order':_0xb4dc4b[_0x2221be(0x1a1)],'name':_0xb4dc4b[_0x2221be(0x10b)]}),_0x26efc1=!0x0;}}if(_0x26efc1){_0xf9e4b4[_0x2221be(0x64b)][_0x2221be(0x790)]((_0x2bb7f9,_0x1d3f0f)=>_0x2bb7f9[_0x2221be(0x1a1)]>_0x1d3f0f['order']?0x1:_0x1d3f0f[_0x2221be(0x1a1)]>_0x2bb7f9[_0x2221be(0x1a1)]?-0x1:0x0);for(let _0x277c25=0x0;_0x277c25<_0xf9e4b4['customFields']['length'];_0x277c25++)_0xf9e4b4[_0x2221be(0x64b)][_0x277c25]['order']=_0x277c25+0x1;}let _0x306ab6=await this[_0x2221be(0x465)][_0x2221be(0x536)][_0x2221be(0x3d8)](_0xf9e4b4,this['instance'][_0x2221be(0x816)]);return this[_0x2221be(0x669)]=_0x306ab6,this[_0x2221be(0x2ee)]['verbose'](this[_0x2221be(0x3af)]+'\x20('+this[_0x2221be(0x7ef)][_0x2221be(0x816)]+_0x2221be(0x16b)),this[_0x2221be(0x2ee)][_0x2221be(0x855)](this['instanceName']+'\x20('+this[_0x2221be(0x7ef)][_0x2221be(0x816)]+_0x2221be(0x651)+this[_0x2221be(0x669)]),_0x306ab6;}catch(_0x4745e6){let _0x35e7c7='Erro\x20ao\x20tentar\x20updateCustomFields',_0x3cf300=_0x4745e6 instanceof Error?_0x4745e6[_0x2221be(0x142)]:typeof _0x4745e6==_0x2221be(0x733)?JSON['stringify'](_0x4745e6):_0x4745e6,_0xd3fb37=_0x35e7c7+':\x20'+_0x3cf300;throw this['logger'][_0x2221be(0x844)](this[_0x2221be(0x3af)]+'\x20('+this['instance'][_0x2221be(0x816)]+_0x2221be(0x651)+_0xd3fb37),new m(_0xd3fb37);}}async[a0_0x36fc91(0x399)](_0x3f84da){const _0x3a7d4d=a0_0x36fc91;try{let _0x5e7739=await this[_0x3a7d4d(0x465)][_0x3a7d4d(0x536)]['findOrCreate'](this[_0x3a7d4d(0x7ef)]['wuid']),_0x33c6f8=_0x5e7739?.[_0x3a7d4d(0x285)]?.[_0x3a7d4d(0x7ac)](_0x498695=>_0x498695[_0x3a7d4d(0x21f)]===_0x3f84da?.[_0x3a7d4d(0x21f)]);if(_0x3f84da?.[_0x3a7d4d(0x807)])_0x33c6f8>-0x1&&_0x5e7739?.[_0x3a7d4d(0x285)]?.[_0x3a7d4d(0x5fc)](_0x33c6f8,0x1);else{if(_0x33c6f8>-0x1){let _0x39cbf8=_0x5e7739['autoCompleteMessages'][_0x33c6f8];_0x39cbf8[_0x3a7d4d(0x1a1)]=_0x3f84da?.[_0x3a7d4d(0x1a1)]||_0x39cbf8[_0x3a7d4d(0x1a1)],_0x39cbf8[_0x3a7d4d(0x7f9)]=_0x3f84da?.[_0x3a7d4d(0x7f9)]||_0x39cbf8[_0x3a7d4d(0x7f9)],_0x39cbf8[_0x3a7d4d(0x142)]=_0x3f84da?.[_0x3a7d4d(0x142)]||_0x39cbf8[_0x3a7d4d(0x142)];}else{let _0x3fe7c3={'_id':_0x3f84da?.[_0x3a7d4d(0x21f)]||new he[(_0x3a7d4d(0x361))]['Types'][(_0x3a7d4d(0x81d))]()['toString'](),'order':_0x3f84da?.[_0x3a7d4d(0x1a1)],'command':_0x3f84da?.['command'],'message':_0x3f84da?.[_0x3a7d4d(0x142)]};_0x5e7739?.['autoCompleteMessages']?.[_0x3a7d4d(0x871)](_0x3fe7c3);}}_0x5e7739?.[_0x3a7d4d(0x285)]?.['sort']((_0x496382,_0x22ad51)=>_0x496382[_0x3a7d4d(0x1a1)]-_0x22ad51[_0x3a7d4d(0x1a1)]);let _0x272f74=await this[_0x3a7d4d(0x465)][_0x3a7d4d(0x536)][_0x3a7d4d(0x3d8)](_0x5e7739,this[_0x3a7d4d(0x7ef)][_0x3a7d4d(0x816)]);return this[_0x3a7d4d(0x669)]=_0x272f74,this[_0x3a7d4d(0x2ee)][_0x3a7d4d(0x855)](this[_0x3a7d4d(0x3af)]+'\x20('+this[_0x3a7d4d(0x7ef)][_0x3a7d4d(0x816)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),_0x272f74;}catch(_0x122962){let _0x1dca86='Erro\x20ao\x20tentar\x20autoCompleteMessages',_0x5f2b65=_0x122962 instanceof Error?_0x122962['message']:typeof _0x122962==_0x3a7d4d(0x733)?JSON['stringify'](_0x122962):_0x122962,_0x4be679=_0x1dca86+':\x20'+_0x5f2b65;throw this[_0x3a7d4d(0x2ee)][_0x3a7d4d(0x844)](this['instanceName']+'\x20('+this[_0x3a7d4d(0x7ef)][_0x3a7d4d(0x816)]+_0x3a7d4d(0x651)+_0x4be679),new m(_0x4be679);}}async[a0_0x36fc91(0x5f0)](_0x2f040c){const _0x2ed6df=a0_0x36fc91;try{let _0x5bcdf0=await this[_0x2ed6df(0x465)][_0x2ed6df(0x536)][_0x2ed6df(0x2f6)](this['instance']['wuid']);if(!_0x5bcdf0)throw new Error(_0x2ed6df(0x4cb));let _0x5c6e74={'_id':_0x5bcdf0[_0x2ed6df(0x21f)],'flowConfig':{'enabled':_0x2f040c[_0x2ed6df(0x2c4)]??_0x5bcdf0[_0x2ed6df(0x866)][_0x2ed6df(0x2c4)],'ignoreGroups':_0x2f040c['ignoreGroups']??_0x5bcdf0['flowConfig'][_0x2ed6df(0x62a)],'stopConversation':_0x2f040c[_0x2ed6df(0x156)][_0x2ed6df(0x821)]()??_0x5bcdf0[_0x2ed6df(0x866)][_0x2ed6df(0x156)]['trim'](),'stopMinutes':_0x2f040c[_0x2ed6df(0x645)]??_0x5bcdf0[_0x2ed6df(0x866)][_0x2ed6df(0x645)],'stopWhenYouSendMsg':_0x2f040c[_0x2ed6df(0x770)]??_0x5bcdf0[_0x2ed6df(0x866)][_0x2ed6df(0x770)]}},_0x4c860e=await this['repository'][_0x2ed6df(0x536)][_0x2ed6df(0x3d8)](_0x5c6e74,this[_0x2ed6df(0x7ef)]['wuid']);return this[_0x2ed6df(0x669)]=_0x4c860e,this[_0x2ed6df(0x2ee)]['verbose'](this[_0x2ed6df(0x3af)]+'\x20('+this['instance'][_0x2ed6df(0x816)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x2ed6df(0x2ee)][_0x2ed6df(0x855)](this['instanceName']+'\x20('+this[_0x2ed6df(0x7ef)][_0x2ed6df(0x816)]+_0x2ed6df(0x651)+this[_0x2ed6df(0x669)]),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x4c860e;}catch(_0x34a2ce){let _0x2fc754='Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos',_0x4c304d=_0x34a2ce instanceof Error?_0x34a2ce[_0x2ed6df(0x142)]:typeof _0x34a2ce==_0x2ed6df(0x733)?JSON['stringify'](_0x34a2ce):_0x34a2ce,_0x2b6c9d=_0x2fc754+':\x20'+_0x4c304d;throw this[_0x2ed6df(0x2ee)][_0x2ed6df(0x844)](this[_0x2ed6df(0x3af)]+'\x20('+this[_0x2ed6df(0x7ef)][_0x2ed6df(0x816)]+_0x2ed6df(0x651)+_0x2b6c9d),new m(_0x2b6c9d);}}async['getAutomateSystem'](){const _0x2c1cd6=a0_0x36fc91;try{let _0xa12414=await this[_0x2c1cd6(0x465)]['automateSystem'][_0x2c1cd6(0x2f6)](this['instance']['wuid']);return this['AutomateSystem']=_0xa12414,_0xa12414;}catch(_0x4f92b6){let _0x164e14=_0x2c1cd6(0x6dd),_0x4b5565=_0x4f92b6 instanceof Error?_0x4f92b6[_0x2c1cd6(0x142)]:typeof _0x4f92b6==_0x2c1cd6(0x733)?JSON['stringify'](_0x4f92b6):_0x4f92b6,_0x314545=_0x164e14+':\x20'+_0x4b5565;throw this[_0x2c1cd6(0x2ee)][_0x2c1cd6(0x844)](this[_0x2c1cd6(0x3af)]+'\x20('+this[_0x2c1cd6(0x7ef)][_0x2c1cd6(0x816)]+_0x2c1cd6(0x651)+_0x314545),new m(_0x314545);}}async[a0_0x36fc91(0x31e)](){const _0x5bbba3=a0_0x36fc91;let _0x45472c=(await import(_0x5bbba3(0x7cf)))[_0x5bbba3(0x361)];this['queue']=new _0x45472c({'concurrency':0x1});}async[a0_0x36fc91(0x406)](){const _0x41e8ba=a0_0x36fc91;this[_0x41e8ba(0x7ef)]['ScheduleMessage'][_0x41e8ba(0x6c5)]&&clearTimeout(this['instance']['ScheduleMessage'][_0x41e8ba(0x6c5)]),this['instance'][_0x41e8ba(0x76b)][_0x41e8ba(0x6c5)]=setTimeout(()=>{const _0xb0f4a0=_0x41e8ba;this[_0xb0f4a0(0x173)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async['checkAndRestartProcess'](){const _0x16247a=a0_0x36fc91;let _0x53ff5e=this['instance'][_0x16247a(0x76b)][_0x16247a(0x86b)];(_0x53ff5e===0x0||_0x53ff5e===null||Date[_0x16247a(0x630)]()-_0x53ff5e>=0x1d4c0)&&(this[_0x16247a(0x2ee)][_0x16247a(0x855)](this[_0x16247a(0x3af)]+'\x20('+this[_0x16247a(0x7ef)][_0x16247a(0x816)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x16247a(0x7ef)]['ScheduleMessage'][_0x16247a(0x595)]=null,this[_0x16247a(0x7ef)][_0x16247a(0x76b)][_0x16247a(0x86b)]=0x0,this[_0x16247a(0x7ef)]['ScheduleMessage'][_0x16247a(0x1eb)]=0x0,await this[_0x16247a(0x2f2)]());}async[a0_0x36fc91(0x2f2)](){const _0xd55bc9=a0_0x36fc91;this[_0xd55bc9(0x2ee)][_0xd55bc9(0x310)](this['instanceName']+'\x20('+this[_0xd55bc9(0x7ef)][_0xd55bc9(0x816)]+_0xd55bc9(0x7e7)),await this[_0xd55bc9(0x40d)]();let _0x40cc91=await this[_0xd55bc9(0x60f)]();_0x40cc91['length']>0x0&&this[_0xd55bc9(0x2aa)]['add'](()=>this[_0xd55bc9(0x4a1)](_0x40cc91));let _0x57f47e={'where':{'status':_0xd55bc9(0x447),'when':{'$gt':Date['now']()}}},_0x27ca65=await this[_0xd55bc9(0x465)]['scheduleMessage'][_0xd55bc9(0x74a)](_0x57f47e,this[_0xd55bc9(0x7ef)][_0xd55bc9(0x816)]);_0x27ca65&&_0x27ca65[_0xd55bc9(0x327)]-Date[_0xd55bc9(0x630)]()<=0x6ddd00?this['instance']['ScheduleMessage'][_0xd55bc9(0x1eb)]=_0x27ca65['when']-Date[_0xd55bc9(0x630)]():this['instance'][_0xd55bc9(0x76b)][_0xd55bc9(0x1eb)]=(0x3c+Math[_0xd55bc9(0x3b9)](Math[_0xd55bc9(0x225)]()*0x3c))*0x3c*0x3e8,this[_0xd55bc9(0x7ef)][_0xd55bc9(0x76b)]['delayMessage']=Math[_0xd55bc9(0x742)](this[_0xd55bc9(0x7ef)][_0xd55bc9(0x76b)]['delayMessage'],0x1*0x2*0x3e8);let _0x28107f=Math['round'](this[_0xd55bc9(0x7ef)][_0xd55bc9(0x76b)][_0xd55bc9(0x1eb)]/0xea60);if(_0x27ca65){let _0x43c7ee=new Date(_0x27ca65[_0xd55bc9(0x327)])[_0xd55bc9(0x33b)]();this['logger'][_0xd55bc9(0x310)](this[_0xd55bc9(0x3af)]+'\x20('+this[_0xd55bc9(0x7ef)][_0xd55bc9(0x816)]+_0xd55bc9(0x65b)+_0x43c7ee+_0xd55bc9(0x36f)+_0x28107f+'\x20minutos');}else this[_0xd55bc9(0x2ee)][_0xd55bc9(0x310)](this['instanceName']+'\x20('+this[_0xd55bc9(0x7ef)][_0xd55bc9(0x816)]+_0xd55bc9(0x64a)+_0x28107f+_0xd55bc9(0x2d3));setTimeout(()=>{const _0x1d1bb7=_0xd55bc9;this[_0x1d1bb7(0x2f2)]();},this[_0xd55bc9(0x7ef)][_0xd55bc9(0x76b)][_0xd55bc9(0x1eb)]);}async['getReadyToSendMessages'](){const _0x3bc30c=a0_0x36fc91;this[_0x3bc30c(0x2ee)][_0x3bc30c(0x310)](this[_0x3bc30c(0x3af)]+'\x20('+this['instance'][_0x3bc30c(0x816)]+_0x3bc30c(0x7e7));let _0x47c5d1=Date[_0x3bc30c(0x630)]()-0xc*0x3c*0x3c*0x3e8,_0x53c68f={'where':{'status':{'$in':[_0x3bc30c(0x447),'sending']},'$or':[{'when':{'$lte':Date[_0x3bc30c(0x630)](),'$gte':_0x47c5d1}},{'when':0x0}]}},_0x506178=await this['repository']['scheduleMessage'][_0x3bc30c(0x757)](_0x53c68f,this[_0x3bc30c(0x7ef)]['wuid']);return this[_0x3bc30c(0x2ee)]['warn'](this[_0x3bc30c(0x3af)]+'\x20('+this[_0x3bc30c(0x7ef)][_0x3bc30c(0x816)]+'):\x20Mensagens\x20prontas\x20para\x20envio\x20encontradas:\x20'+_0x506178[_0x3bc30c(0x6eb)]),_0x506178;}async['processReadyMessages'](_0x1e6871){const _0x52d47f=a0_0x36fc91;let _0x1eb203=Math[_0x52d47f(0x3b9)](Math[_0x52d47f(0x225)]()*0x1389)+0xbb8,_0x3e8c90=()=>this[_0x52d47f(0x1d3)]['length']===0x0?null:this['pendingMessages'][_0x52d47f(0x5df)]((_0x2fe054,_0x7dda86)=>(_0x2fe054['order']??Number[_0x52d47f(0x571)])<(_0x7dda86[_0x52d47f(0x1a1)]??Number[_0x52d47f(0x571)])?_0x2fe054:_0x7dda86,this[_0x52d47f(0x1d3)][0x0]);for(let _0x55779c of _0x1e6871){let _0x72d43d={'_id':_0x55779c[_0x52d47f(0x21f)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x52d47f(0x630)]()-0xbb8}}]},_0x382643={'startSend':Date[_0x52d47f(0x630)](),'status':_0x52d47f(0x302)};if(!await this['repository'][_0x52d47f(0x646)][_0x52d47f(0x47d)](_0x72d43d,_0x382643,this[_0x52d47f(0x7ef)][_0x52d47f(0x816)]))continue;if(!this[_0x52d47f(0x7ef)][_0x52d47f(0x76b)][_0x52d47f(0x497)]){this[_0x52d47f(0x2ee)][_0x52d47f(0x310)](this[_0x52d47f(0x3af)]+'\x20('+this[_0x52d47f(0x7ef)]['wuid']+_0x52d47f(0x294));break;}for(this[_0x52d47f(0x1d3)]=_0x55779c['messages'][_0x52d47f(0x125)](_0x4f98a9=>!_0x4f98a9[_0x52d47f(0x3c9)]);this[_0x52d47f(0x1d3)][_0x52d47f(0x6eb)]>0x0;){await this['setRestartTimeout']();let _0x2d0ced=_0x3e8c90();if(!_0x2d0ced)break;let _0x58e837=_0x55779c['messages'][_0x52d47f(0x757)](_0x2f294c=>_0x2f294c[_0x52d47f(0x21f)]===_0x2d0ced[_0x52d47f(0x21f)]);if(!_0x58e837)break;if(this[_0x52d47f(0x7ef)][_0x52d47f(0x76b)][_0x52d47f(0x86b)]=Date[_0x52d47f(0x630)](),_0x58e837[_0x52d47f(0x3c9)]){this['logger'][_0x52d47f(0x310)](this[_0x52d47f(0x3af)]+'\x20('+this[_0x52d47f(0x7ef)][_0x52d47f(0x816)]+_0x52d47f(0x5f7)+_0x58e837['remoteJid']+_0x52d47f(0x379)),this[_0x52d47f(0x1d3)]=this[_0x52d47f(0x1d3)][_0x52d47f(0x125)](_0x113380=>_0x113380['_id']!==_0x58e837[_0x52d47f(0x21f)]);continue;}if(!this[_0x52d47f(0x7ef)][_0x52d47f(0x76b)][_0x52d47f(0x497)]){this[_0x52d47f(0x2ee)][_0x52d47f(0x310)](this['instanceName']+'\x20('+this['instance'][_0x52d47f(0x816)]+_0x52d47f(0x71a));break;}if(!this['instance']['ScheduleMessage'][_0x52d47f(0x595)]){this[_0x52d47f(0x2ee)]['warn'](this[_0x52d47f(0x3af)]+'\x20('+this[_0x52d47f(0x7ef)][_0x52d47f(0x816)]+_0x52d47f(0x23d)+_0x55779c[_0x52d47f(0x21f)]+_0x52d47f(0x20f));break;}let _0x4f4d36={'idControl':_0x58e837[_0x52d47f(0x21f)],'remoteJid':_0x58e837[_0x52d47f(0x370)],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date['now']()},_0x849811=null;try{this['logger'][_0x52d47f(0x310)](this[_0x52d47f(0x3af)]+'\x20('+this[_0x52d47f(0x7ef)][_0x52d47f(0x816)]+_0x52d47f(0x4e0)+_0x58e837[_0x52d47f(0x370)]);let _0x4be393=await this[_0x52d47f(0x248)](_0x58e837['remoteJid'],_0x58e837);_0x4f4d36[_0x52d47f(0x844)]=_0x4be393[_0x52d47f(0x844)],_0x4f4d36['id']=_0x4be393['error']?null:_0x4be393['id'],_0x4f4d36[_0x52d47f(0x430)]=_0x4be393['error']?_0x4be393[_0x52d47f(0x756)]?_0x4be393[_0x52d47f(0x756)][_0x52d47f(0x698)]():'':null;let _0x5604e7=_0x55779c[_0x52d47f(0x2ea)][_0x52d47f(0x7ac)](_0x197c6a=>_0x197c6a[_0x52d47f(0x21f)]===_0x58e837[_0x52d47f(0x21f)]);_0x5604e7!==-0x1&&(_0x55779c[_0x52d47f(0x2ea)][_0x5604e7]['triedToSend']=!0x0);let _0x228986={'$push':{'messagesSend':_0x4f4d36},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x2f5ca2=[{'elem._id':_0x58e837['_id']}];if(this['logger'][_0x52d47f(0x310)](this['instanceName']+'\x20('+this[_0x52d47f(0x7ef)][_0x52d47f(0x816)]+_0x52d47f(0x7bb)+_0x58e837['_id']),_0x849811=await this[_0x52d47f(0x465)]['scheduleMessage'][_0x52d47f(0x47d)]({'_id':_0x55779c[_0x52d47f(0x21f)]},_0x228986,this[_0x52d47f(0x7ef)][_0x52d47f(0x816)],{'arrayFilters':_0x2f5ca2}),_0x4be393[_0x52d47f(0x844)]){this[_0x52d47f(0x2ee)]['error'](this['instanceName']+'\x20('+this['instance'][_0x52d47f(0x816)]+_0x52d47f(0x574)+_0x4be393['detail']);continue;}let _0x58b1df=this['getDelay'](_0x55779c['delaySecMin'],_0x55779c[_0x52d47f(0x498)]);await this['sleep'](_0x58b1df);}catch(_0x410406){this[_0x52d47f(0x2ee)]['error'](this[_0x52d47f(0x3af)]+'\x20('+this['instance'][_0x52d47f(0x816)]+_0x52d47f(0x628)+_0x58e837['remoteJid']+':\x20'+(_0x410406 instanceof Error?_0x410406['message']:JSON[_0x52d47f(0x3ef)](_0x410406,null,0x2))),_0x4f4d36[_0x52d47f(0x844)]=!0x0,_0x4f4d36[_0x52d47f(0x430)]=_0x410406[_0x52d47f(0x142)];let _0x4e8b8f=_0x55779c[_0x52d47f(0x2ea)][_0x52d47f(0x7ac)](_0x133906=>_0x133906[_0x52d47f(0x21f)]===_0x58e837[_0x52d47f(0x21f)]);_0x4e8b8f!==-0x1&&(_0x55779c[_0x52d47f(0x2ea)][_0x4e8b8f][_0x52d47f(0x3c9)]=!0x0);let _0x4fe665={'$push':{'messagesSend':_0x4f4d36},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x205b63=[{'elem._id':_0x58e837['_id']}];this[_0x52d47f(0x2ee)][_0x52d47f(0x310)](this[_0x52d47f(0x3af)]+'\x20('+this[_0x52d47f(0x7ef)][_0x52d47f(0x816)]+_0x52d47f(0x4fb)+_0x58e837['_id']),_0x849811=await this[_0x52d47f(0x465)][_0x52d47f(0x646)][_0x52d47f(0x47d)]({'_id':_0x55779c[_0x52d47f(0x21f)]},_0x4fe665,this['instance'][_0x52d47f(0x816)],{'arrayFilters':_0x205b63});}finally{if(_0x849811&&_0x849811[_0x52d47f(0x166)]===_0x52d47f(0x28f)){this[_0x52d47f(0x2ee)][_0x52d47f(0x310)](this[_0x52d47f(0x3af)]+'\x20('+this[_0x52d47f(0x7ef)][_0x52d47f(0x816)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x58e837[_0x52d47f(0x21f)]+_0x52d47f(0x232));break;}let _0xbfa284=_0x849811[_0x52d47f(0x2ea)][_0x52d47f(0x757)](_0x56c105=>_0x56c105['_id']===_0x58e837[_0x52d47f(0x21f)]);if(_0xbfa284&&!_0xbfa284[_0x52d47f(0x3c9)]){let _0x588e1b={'$set':{'messages.$[elem].triedToSend':!0x0}},_0xc53e19=[{'elem._id':_0x58e837[_0x52d47f(0x21f)]}];await this['repository'][_0x52d47f(0x646)]['updateOne']({'_id':_0x849811[_0x52d47f(0x21f)]},_0x588e1b,this[_0x52d47f(0x7ef)][_0x52d47f(0x816)],{'arrayFilters':_0xc53e19});}this[_0x52d47f(0x1d3)]=_0x849811['messages'][_0x52d47f(0x125)](_0x1da880=>!_0x1da880[_0x52d47f(0x3c9)]),this['instance'][_0x52d47f(0x76b)][_0x52d47f(0x595)]=_0x849811;}}this[_0x52d47f(0x1d3)]=[];let _0x2cc710=await this[_0x52d47f(0x465)]['scheduleMessage'][_0x52d47f(0x660)](_0x55779c['_id'],this[_0x52d47f(0x7ef)][_0x52d47f(0x816)]);if(_0x2cc710['messages'][_0x52d47f(0x143)](_0x1ecb6a=>_0x1ecb6a['triedToSend'])&&_0x2cc710['status']!=='stopped'){let _0xd99ebd={'$set':{'status':_0x52d47f(0x345)}};await this[_0x52d47f(0x465)][_0x52d47f(0x646)]['updateOneById'](_0x2cc710['_id'],_0xd99ebd,this['instance']['wuid']);}await new Promise(_0x1ea4ee=>setTimeout(_0x1ea4ee,_0x1eb203)),global['gc']?global['gc']():console[_0x52d47f(0x310)]('Garbage\x20collection\x20não\x20está\x20disponível.');}}[a0_0x36fc91(0x42d)](_0x2810c9,_0x49f627){const _0x18fdc1=a0_0x36fc91;return _0x2810c9=Math[_0x18fdc1(0x742)](0.5,_0x2810c9),_0x49f627=Math[_0x18fdc1(0x27a)](Math['max'](0x3,_0x49f627),0x78),Math[_0x18fdc1(0x3b9)](Math[_0x18fdc1(0x225)]()*(_0x49f627-_0x2810c9+0x1)+_0x2810c9)*0x3e8;}[a0_0x36fc91(0x785)](_0x1ec896){return new Promise(_0x4e96ac=>setTimeout(_0x4e96ac,_0x1ec896));}async[a0_0x36fc91(0x128)](_0x2a8350){const _0x48a24d=a0_0x36fc91;if(!this[_0x48a24d(0x669)]&&(await this[_0x48a24d(0x608)](),!this[_0x48a24d(0x669)]))return null;_0x2a8350=this['createJid'](_0x2a8350);let _0x42237f=await this[_0x48a24d(0x465)][_0x48a24d(0x1aa)][_0x48a24d(0x74a)]({'where':{'_id':_0x2a8350}},this[_0x48a24d(0x7ef)][_0x48a24d(0x816)]),_0x1ea3cf={};if(_0x42237f&&_0x42237f[_0x48a24d(0x1e2)]){let _0x5b4928=_0x42237f['leadInfo'];typeof _0x5b4928[_0x48a24d(0x65e)]==_0x48a24d(0x2c1)&&(_0x1ea3cf['nome']=_0x5b4928[_0x48a24d(0x65e)]),typeof _0x5b4928['nomecompleto']==_0x48a24d(0x2c1)&&(_0x1ea3cf['nomecompleto']=_0x5b4928[_0x48a24d(0x14e)]),typeof _0x5b4928[_0x48a24d(0x47f)]==_0x48a24d(0x2c1)&&(_0x1ea3cf[_0x48a24d(0x47f)]=_0x5b4928['email']),typeof _0x5b4928['cpf']==_0x48a24d(0x2c1)&&(_0x1ea3cf[_0x48a24d(0x1e9)]=_0x5b4928['cpf']),typeof _0x5b4928[_0x48a24d(0x166)]==_0x48a24d(0x2c1)&&(_0x1ea3cf[_0x48a24d(0x166)]=_0x5b4928[_0x48a24d(0x166)]),typeof _0x5b4928[_0x48a24d(0x549)]==_0x48a24d(0x2c1)&&(_0x1ea3cf[_0x48a24d(0x549)]=_0x5b4928[_0x48a24d(0x549)]),typeof _0x5b4928[_0x48a24d(0x283)]==_0x48a24d(0x2c1)&&(_0x1ea3cf[_0x48a24d(0x283)]=_0x5b4928[_0x48a24d(0x283)]),Array[_0x48a24d(0x484)](_0x5b4928[_0x48a24d(0x5dd)])&&(_0x1ea3cf[_0x48a24d(0x5dd)]=_0x5b4928[_0x48a24d(0x5dd)][_0x48a24d(0x1f8)](',\x20')),Array['isArray'](_0x5b4928[_0x48a24d(0x462)])&&(_0x1ea3cf[_0x48a24d(0x462)]=_0x5b4928['etiquetas'][_0x48a24d(0x1f8)](',\x20'));}return _0x42237f&&_0x42237f[_0x48a24d(0x1e2)]&&_0x42237f[_0x48a24d(0x1e2)][_0x48a24d(0x64b)]&&_0x42237f[_0x48a24d(0x1e2)][_0x48a24d(0x64b)][_0x48a24d(0x12c)](_0x35c58a=>{const _0x2ba0f7=_0x48a24d;let _0x39cd3d=this[_0x2ba0f7(0x669)]?.[_0x2ba0f7(0x64b)][_0x2ba0f7(0x757)](_0x38a7f0=>_0x38a7f0[_0x2ba0f7(0x21f)]===_0x35c58a['_id']);_0x39cd3d&&(_0x1ea3cf[_0x39cd3d[_0x2ba0f7(0x10b)]]=_0x35c58a['value']);}),_0x1ea3cf;}async['replaceVariablesChat'](_0x4f81d5,_0x142bd6){const _0x4fa493=a0_0x36fc91;try{let _0x5ca130=await this[_0x4fa493(0x128)](_0x142bd6);return this[_0x4fa493(0x228)](_0x4f81d5,_0x5ca130);}catch(_0xc0068d){return this[_0x4fa493(0x2ee)][_0x4fa493(0x844)](_0x4fa493(0x32e)+_0x142bd6+':\x20'+_0xc0068d),_0x4f81d5;}}async[a0_0x36fc91(0x40d)](){const _0x52dd5c=a0_0x36fc91;let _0x1e8a56=async(_0x3a2350,_0x2a53de)=>{const _0xfdae3=a0_0x19ac;let _0x16745e=(await this[_0xfdae3(0x465)][_0xfdae3(0x646)][_0xfdae3(0x757)]({'where':{'type':_0x3a2350}},this[_0xfdae3(0x7ef)]['wuid']))[_0xfdae3(0x71e)](async _0x54c5cf=>{const _0x4c2819=_0xfdae3;let _0x26b85e=_0x2a53de(_0x54c5cf),_0x381903=_0x3cab02=>/^\d+$/[_0x4c2819(0x3cc)](_0x3cab02),_0x1ce80e=_0x54c5cf[_0x4c2819(0x259)][_0x4c2819(0x125)](_0x49397c=>_0x49397c[_0x4c2819(0x4e8)](_0x4c2819(0x66e))?_0x49397c['length']>0x19:_0x49397c[_0x4c2819(0x4e8)](_0x4c2819(0x758))?_0x49397c[_0x4c2819(0x6eb)]>0xf:_0x381903(_0x49397c)?_0x49397c['length']>=0xb:!0x1)[_0x4c2819(0x71e)](_0x500b87=>({'_id':(0x0,X['v4'])(),'idSchedule':_0x54c5cf[_0x4c2819(0x21f)],'type':_0x26b85e,'remoteJid':_0x500b87,'flow':_0x54c5cf[_0x4c2819(0x768)],'text':_0x54c5cf[_0x4c2819(0x142)]?.[_0x4c2819(0x76e)],'delay':_0x54c5cf['message']?.['delay'],'urlOrBase64':_0x54c5cf['message']?.[_0x4c2819(0x3b5)],'linkPreview':_0x54c5cf[_0x4c2819(0x142)]?.['linkPreview'],'fileName':_0x54c5cf[_0x4c2819(0x142)]?.[_0x4c2819(0x3f6)],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0x4c2819(0x465)][_0x4c2819(0x646)][_0x4c2819(0x55e)](_0x54c5cf['_id'],{'$set':{'messages':_0x1ce80e},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x4c2819(0x7ef)][_0x4c2819(0x816)]);}catch(_0x4bd698){console[_0x4c2819(0x844)](_0x4c2819(0x192)+_0x54c5cf[_0x4c2819(0x21f)]+':',_0x4bd698);}});await Promise[_0xfdae3(0x42b)](_0x16745e);};await _0x1e8a56(_0x52dd5c(0x76e),_0x52844a=>_0x52dd5c(0x76e)),await _0x1e8a56(_0x52dd5c(0x1ac),_0x3bf38a=>_0x3bf38a['message']?.[_0x52dd5c(0x160)]||_0x52dd5c(0x1ac)),await _0x1e8a56('audio',_0x555c61=>_0x52dd5c(0x48a)),await _0x1e8a56(_0x52dd5c(0x419),_0x5085cc=>_0x52dd5c(0x419)),await _0x1e8a56(_0x52dd5c(0x44a),_0x1c3f18=>_0x52dd5c(0x44a)),await _0x1e8a56(_0x52dd5c(0x2a3),_0x2cb771=>_0x52dd5c(0x2a3)),await _0x1e8a56(_0x52dd5c(0x679),_0x3dc6af=>_0x52dd5c(0x679)),this[_0x52dd5c(0x2ee)][_0x52dd5c(0x310)](this['instanceName']+'\x20('+this[_0x52dd5c(0x7ef)][_0x52dd5c(0x816)]+'):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!');}async['editScheduleMessage'](_0x1f91ab){const _0x48a58b=a0_0x36fc91;try{if(this['logger'][_0x48a58b(0x310)](this[_0x48a58b(0x3af)]+'\x20('+this[_0x48a58b(0x7ef)][_0x48a58b(0x816)]+_0x48a58b(0x7b9)),_0x1f91ab[_0x48a58b(0x21f)]||(_0x1f91ab[_0x48a58b(0x21f)]=(0x0,X['v4'])()),this[_0x48a58b(0x7ef)]['ScheduleMessage'][_0x48a58b(0x595)]?.['_id']===_0x1f91ab['_id']?.['toString']()){if(_0x1f91ab[_0x48a58b(0x166)]===_0x48a58b(0x28f))this[_0x48a58b(0x7ef)]['ScheduleMessage'][_0x48a58b(0x595)]=null;else throw new Error(_0x48a58b(0x70d));}if(_0x1f91ab[_0x48a58b(0x807)]&&_0x1f91ab['_id']){let _0x32c75f=await this[_0x48a58b(0x465)][_0x48a58b(0x646)][_0x48a58b(0x7b3)](_0x1f91ab[_0x48a58b(0x21f)],this[_0x48a58b(0x7ef)][_0x48a58b(0x816)]);return setTimeout(()=>this[_0x48a58b(0x2f2)](),0x7d0),_0x32c75f;}let _0x36d305=null;if(_0x1f91ab['_id']&&(_0x36d305=await this['repository'][_0x48a58b(0x646)][_0x48a58b(0x660)](_0x1f91ab[_0x48a58b(0x21f)],this[_0x48a58b(0x7ef)][_0x48a58b(0x816)])),_0x36d305){let {_id:_0xc2761e,owner:_0x37487a,messages:_0x2d1c7e,..._0x232fdc}=_0x1f91ab;if(_0x2d1c7e){let _0x1a6602=_0x2d1c7e['filter'](_0x436ba5=>!_0x436ba5[_0x48a58b(0x21f)]),_0x2a3611=_0x2d1c7e[_0x48a58b(0x125)](_0x1e5562=>_0x1e5562[_0x48a58b(0x21f)]&&!_0x1e5562['delete']),_0x279713=_0x2d1c7e['filter'](_0x26e4b4=>_0x26e4b4[_0x48a58b(0x21f)]&&_0x26e4b4['delete']);if(_0x1a6602['length']>0x0&&await this[_0x48a58b(0x5d2)](_0x1f91ab[_0x48a58b(0x21f)],_0x1a6602),_0x2a3611[_0x48a58b(0x6eb)]>0x0&&await this[_0x48a58b(0x53a)]({'_id':_0x1f91ab[_0x48a58b(0x21f)],'messages':_0x2a3611}),_0x279713[_0x48a58b(0x6eb)]>0x0){let _0x2be621=_0x279713[_0x48a58b(0x71e)](_0x4e995c=>({'updateOne':{'filter':{'_id':_0x1f91ab[_0x48a58b(0x21f)]},'update':{'$pull':{'messages':{'_id':_0x4e995c[_0x48a58b(0x21f)]}}}}}));await this[_0x48a58b(0x465)][_0x48a58b(0x646)]['bulkWrite'](_0x2be621,this[_0x48a58b(0x7ef)]['wuid']);}}let _0x34ee45={'$set':{..._0x232fdc,'status':_0x1f91ab[_0x48a58b(0x166)]||_0x36d305[_0x48a58b(0x166)]}},_0x33cd89=await this[_0x48a58b(0x465)][_0x48a58b(0x646)][_0x48a58b(0x55e)](_0x1f91ab[_0x48a58b(0x21f)],_0x34ee45,this[_0x48a58b(0x7ef)][_0x48a58b(0x816)]);return _0x33cd89&&(this[_0x48a58b(0x4ca)](_0x33cd89['messages']),await this['repository'][_0x48a58b(0x646)][_0x48a58b(0x55e)](_0x33cd89[_0x48a58b(0x21f)],{'$set':{'messages':_0x33cd89[_0x48a58b(0x2ea)]}},this['instance']['wuid'])),setTimeout(()=>this[_0x48a58b(0x2f2)](),0x7d0),await this[_0x48a58b(0x40d)](),_0x33cd89;}else{_0x1f91ab[_0x48a58b(0x3c6)]=this['instance'][_0x48a58b(0x816)],_0x1f91ab['messages']&&_0x1f91ab[_0x48a58b(0x2ea)][_0x48a58b(0x12c)](_0x1b1e62=>{const _0x4f5561=_0x48a58b;_0x1b1e62['_id']||(_0x1b1e62[_0x4f5561(0x21f)]=(0x0,X['v4'])()),_0x1b1e62[_0x4f5561(0x68e)]||(_0x1b1e62[_0x4f5561(0x68e)]=_0x1f91ab[_0x4f5561(0x21f)]),delete _0x1b1e62['triedToSend'];});let _0x588a82=await this[_0x48a58b(0x465)][_0x48a58b(0x646)][_0x48a58b(0x721)](_0x1f91ab,this[_0x48a58b(0x7ef)][_0x48a58b(0x816)]);return _0x588a82&&(this[_0x48a58b(0x4ca)](_0x588a82[_0x48a58b(0x2ea)]),await this[_0x48a58b(0x465)][_0x48a58b(0x646)][_0x48a58b(0x55e)](_0x588a82[_0x48a58b(0x21f)],{'$set':{'messages':_0x588a82[_0x48a58b(0x2ea)]}},this[_0x48a58b(0x7ef)][_0x48a58b(0x816)])),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x588a82;}}catch(_0x1b60ac){let _0x2eeaff=_0x48a58b(0x36e),_0x50418e=_0x1b60ac instanceof Error?_0x1b60ac['message']:typeof _0x1b60ac==_0x48a58b(0x733)?JSON[_0x48a58b(0x3ef)](_0x1b60ac):_0x1b60ac,_0x526526=_0x2eeaff+':\x20'+_0x50418e;throw this[_0x48a58b(0x2ee)]['error'](this[_0x48a58b(0x3af)]+'\x20('+this[_0x48a58b(0x7ef)]['wuid']+_0x48a58b(0x651)+_0x526526),new m(_0x526526);}}async[a0_0x36fc91(0x5d2)](_0x151de9,_0x1f71be){const _0x53b2ef=a0_0x36fc91;try{this[_0x53b2ef(0x2ee)][_0x53b2ef(0x855)](this[_0x53b2ef(0x3af)]+'\x20('+this[_0x53b2ef(0x7ef)][_0x53b2ef(0x816)]+_0x53b2ef(0x31d)),_0x1f71be['forEach'](_0x2a2167=>{const _0x41128e=_0x53b2ef;_0x2a2167[_0x41128e(0x21f)]||(_0x2a2167[_0x41128e(0x21f)]=(0x0,X['v4'])()),_0x2a2167[_0x41128e(0x68e)]||(_0x2a2167['idSchedule']=_0x151de9),delete _0x2a2167[_0x41128e(0x3c9)];});let _0x2ac1f7={'$push':{'messages':{'$each':_0x1f71be}}},_0xbe7e34=await this[_0x53b2ef(0x465)][_0x53b2ef(0x646)]['updateOneById'](_0x151de9,_0x2ac1f7,this['instance'][_0x53b2ef(0x816)]);return _0xbe7e34&&(this[_0x53b2ef(0x4ca)](_0xbe7e34[_0x53b2ef(0x2ea)]),await this['repository'][_0x53b2ef(0x646)][_0x53b2ef(0x55e)](_0xbe7e34[_0x53b2ef(0x21f)],{'$set':{'messages':_0xbe7e34[_0x53b2ef(0x2ea)]}},this['instance'][_0x53b2ef(0x816)])),_0xbe7e34;}catch(_0x5a5991){let _0x48df00=_0x53b2ef(0x686),_0x4c881a=_0x5a5991 instanceof Error?_0x5a5991['message']:typeof _0x5a5991=='object'?JSON['stringify'](_0x5a5991):_0x5a5991,_0x24f952=_0x48df00+':\x20'+_0x4c881a;throw this[_0x53b2ef(0x2ee)][_0x53b2ef(0x844)](this[_0x53b2ef(0x3af)]+'\x20('+this[_0x53b2ef(0x7ef)][_0x53b2ef(0x816)]+_0x53b2ef(0x651)+_0x24f952),new m(_0x24f952);}}async[a0_0x36fc91(0x53a)](_0x5cb695){const _0x3c9154=a0_0x36fc91;try{if(this[_0x3c9154(0x2ee)]['verbose'](this['instanceName']+'\x20('+this[_0x3c9154(0x7ef)]['wuid']+_0x3c9154(0x127)),!_0x5cb695['_id']||!_0x5cb695[_0x3c9154(0x2ea)])throw new Error(_0x3c9154(0x35d));let _0x22ef03=_0x5cb695['_id'],_0x1b4eee=_0x5cb695[_0x3c9154(0x2ea)],_0x1713ad=_0x1b4eee[_0x3c9154(0x125)](_0x5af19e=>!_0x5af19e[_0x3c9154(0x807)])[_0x3c9154(0x71e)](_0x1baad7=>{const _0x411e00=_0x3c9154;let _0x3f1153=_0x1baad7[_0x411e00(0x21f)];if(!_0x3f1153)throw new Error(_0x411e00(0x29d));return _0x1baad7['idSchedule']||(_0x1baad7[_0x411e00(0x68e)]=_0x22ef03),delete _0x1baad7[_0x411e00(0x3c9)],{'updateOne':{'filter':{'_id':_0x22ef03,'messages._id':_0x3f1153},'update':{'$set':{'messages.$[elem]':_0x1baad7}},'arrayFilters':[{'elem._id':_0x3f1153}]}};}),_0x4e4d3b=_0x1b4eee['filter'](_0x5cbf52=>_0x5cbf52[_0x3c9154(0x807)])[_0x3c9154(0x71e)](_0xb4c9fa=>{const _0x399fb5=_0x3c9154;let _0x10d9be=_0xb4c9fa[_0x399fb5(0x21f)];if(!_0x10d9be)throw new Error(_0x399fb5(0x6a3));return{'updateOne':{'filter':{'_id':_0x22ef03},'update':{'$pull':{'messages':{'_id':_0x10d9be}}}}};}),_0x2ecbd1=[..._0x1713ad,..._0x4e4d3b],_0x538b6f=await this[_0x3c9154(0x465)][_0x3c9154(0x646)][_0x3c9154(0x7e2)](_0x2ecbd1,this[_0x3c9154(0x7ef)][_0x3c9154(0x816)]),_0xd6bdce=await this[_0x3c9154(0x465)][_0x3c9154(0x646)]['findById'](_0x22ef03,this[_0x3c9154(0x7ef)][_0x3c9154(0x816)]);return _0xd6bdce&&(this[_0x3c9154(0x4ca)](_0xd6bdce['messages']),await this[_0x3c9154(0x465)]['scheduleMessage'][_0x3c9154(0x55e)](_0xd6bdce[_0x3c9154(0x21f)],{'$set':{'messages':_0xd6bdce['messages']}},this[_0x3c9154(0x7ef)][_0x3c9154(0x816)])),_0xd6bdce;}catch(_0x1d5e9f){let _0xdc1601=_0x3c9154(0x2a7),_0x13c8e1=_0x1d5e9f instanceof Error?_0x1d5e9f[_0x3c9154(0x142)]:typeof _0x1d5e9f=='object'?JSON[_0x3c9154(0x3ef)](_0x1d5e9f):_0x1d5e9f,_0x6a7085=_0xdc1601+':\x20'+_0x13c8e1;throw this[_0x3c9154(0x2ee)]['error'](this[_0x3c9154(0x3af)]+'\x20('+this[_0x3c9154(0x7ef)][_0x3c9154(0x816)]+'):\x20'+_0x6a7085),new m(_0x6a7085);}}async['deleteDoneMessages'](){const _0x218054=a0_0x36fc91;try{let _0x5a0c81={'status':'done'},_0x37f62e=await this[_0x218054(0x465)][_0x218054(0x646)][_0x218054(0x313)](_0x5a0c81,this['instance'][_0x218054(0x816)]);if(!_0x37f62e[_0x218054(0x844)])this[_0x218054(0x2ee)][_0x218054(0x855)](this[_0x218054(0x3af)]+'\x20('+this[_0x218054(0x7ef)][_0x218054(0x816)]+_0x218054(0x563));else throw new Error(_0x37f62e['error'][_0x218054(0x142)]||_0x218054(0x503));return this[_0x218054(0x69c)]();}catch(_0x58eca6){let _0x1756cb=_0x218054(0x137),_0x16d32d=_0x58eca6 instanceof Error?_0x58eca6[_0x218054(0x142)]:typeof _0x58eca6==_0x218054(0x733)?JSON[_0x218054(0x3ef)](_0x58eca6):_0x58eca6,_0x10fe64=_0x1756cb+':\x20'+_0x16d32d;throw this[_0x218054(0x2ee)][_0x218054(0x844)](this[_0x218054(0x3af)]+'\x20('+this['instance'][_0x218054(0x816)]+_0x218054(0x651)+_0x10fe64),new m(_0x10fe64);}}async['getScheduleMessage'](){const _0x340998=a0_0x36fc91;try{return await this[_0x340998(0x465)][_0x340998(0x646)][_0x340998(0x757)]({'where':{}},this['instance'][_0x340998(0x816)]);}catch(_0x4ffbf3){let _0x1846ba=_0x340998(0x863),_0x28b4e1=_0x4ffbf3 instanceof Error?_0x4ffbf3[_0x340998(0x142)]:typeof _0x4ffbf3=='object'?JSON[_0x340998(0x3ef)](_0x4ffbf3):_0x4ffbf3,_0x5e3348=_0x1846ba+':\x20'+_0x28b4e1;throw this[_0x340998(0x2ee)][_0x340998(0x844)](this[_0x340998(0x3af)]+'\x20('+this[_0x340998(0x7ef)][_0x340998(0x816)]+'):\x20'+_0x5e3348),new m(_0x5e3348);}}[a0_0x36fc91(0x4ca)](_0x774cac){const _0x3ce135=a0_0x36fc91;_0x774cac['sort']((_0x133ea4,_0x33a144)=>_0x133ea4['order']-_0x33a144[_0x3ce135(0x1a1)]),_0x774cac['forEach']((_0x2aa7b8,_0x35b143)=>{const _0x4a32e2=_0x3ce135;_0x2aa7b8[_0x4a32e2(0x1a1)]=_0x35b143+0x1;});}async[a0_0x36fc91(0x248)](_0x253916,_0x58f5d5){const _0x24e50f=a0_0x36fc91;try{if(!_0x58f5d5)return this[_0x24e50f(0x2ee)]['error'](this['instanceName']+'\x20('+this[_0x24e50f(0x7ef)][_0x24e50f(0x816)]+'):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio'),{'error':!0x0,'detail':_0x24e50f(0x2d7)};if(_0x58f5d5['type']===_0x24e50f(0x419)&&!this[_0x24e50f(0x669)]?.[_0x24e50f(0x866)]['enabled'])return this[_0x24e50f(0x2ee)][_0x24e50f(0x844)](this[_0x24e50f(0x3af)]+'\x20('+this['instance'][_0x24e50f(0x816)]+'):\x20Fluxos\x20não\x20estão\x20ativados'),{'error':!0x0,'detail':_0x24e50f(0x2ed)};switch(_0x58f5d5['type']){case'text':return await this[_0x24e50f(0x262)](_0x58f5d5,_0x253916);case'video':case _0x24e50f(0x44a):case _0x24e50f(0x679):return await this[_0x24e50f(0x3c5)](_0x58f5d5,_0x253916);case _0x24e50f(0x48a):return await this['scheduleSendAudio'](_0x58f5d5,_0x253916);case'flow':let _0x391bd4=new We();return _0x391bd4[_0x24e50f(0x10b)]=_0x58f5d5[_0x24e50f(0x419)],_0x391bd4[_0x24e50f(0x370)]=_0x253916,await this[_0x24e50f(0x307)](_0x391bd4);default:return this[_0x24e50f(0x2ee)]['error'](this[_0x24e50f(0x3af)]+'\x20('+this[_0x24e50f(0x7ef)][_0x24e50f(0x816)]+_0x24e50f(0x71c)+_0x58f5d5[_0x24e50f(0x1ef)]),{'error':!0x0,'detail':'Comando\x20desconhecido'};}}catch(_0x36bf34){return this[_0x24e50f(0x2ee)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x24e50f(0x53f)+(_0x36bf34 instanceof Error?_0x36bf34[_0x24e50f(0x142)]:JSON[_0x24e50f(0x3ef)](_0x36bf34,null,0x2))),{'error':!0x0,'detail':_0x36bf34[_0x24e50f(0x142)]};}}async[a0_0x36fc91(0x262)](_0x2c4837,_0xcc5e94){const _0x1fa874=a0_0x36fc91;if(this[_0x1fa874(0x2ee)][_0x1fa874(0x855)](this[_0x1fa874(0x3af)]+'\x20('+this[_0x1fa874(0x7ef)][_0x1fa874(0x816)]+_0x1fa874(0x699)+_0xcc5e94+'\x27'),!_0x2c4837[_0x1fa874(0x76e)]||_0x2c4837[_0x1fa874(0x76e)][_0x1fa874(0x6eb)]===0x0)return{'error':!0x0,'detail':_0x1fa874(0x471)};let _0x400dc1=await this[_0x1fa874(0x86d)](_0x2c4837[_0x1fa874(0x76e)],_0xcc5e94),_0x237b79={'number':_0xcc5e94,'options':{'delay':_0x2c4837['delay'],'linkPreview':_0x2c4837[_0x1fa874(0x7e3)]},'textMessage':{'text':_0x400dc1}},_0x1a21f2=null;try{let _0x2d51de=await this[_0x1fa874(0x3bd)](_0x237b79);if(_0x2d51de&&_0x2d51de[_0x1fa874(0x166)])return{'error':!0x1,'id':_0x2d51de[_0x1fa874(0x39c)]['id']};_0x1a21f2=JSON[_0x1fa874(0x3ef)](_0x2d51de),this[_0x1fa874(0x2ee)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20'+_0x1a21f2);}catch(_0x3b8bb9){this[_0x1fa874(0x2ee)][_0x1fa874(0x844)](this[_0x1fa874(0x3af)]+'\x20('+this[_0x1fa874(0x7ef)][_0x1fa874(0x816)]+_0x1fa874(0x85a)+(_0x3b8bb9 instanceof Error?_0x3b8bb9[_0x1fa874(0x142)]:JSON[_0x1fa874(0x3ef)](_0x3b8bb9,null,0x2))),_0x1a21f2=_0x3b8bb9['message'];}if(_0x1a21f2)return{'error':!0x0,'detail':(typeof _0x1a21f2==_0x1fa874(0x733)?JSON[_0x1fa874(0x3ef)](_0x1a21f2,null,0x2):_0x1a21f2)[_0x1fa874(0x6fe)](/[\[\]{}\n]/g,'\x20')[_0x1fa874(0x6fe)](/  +/g,'\x20')};}async[a0_0x36fc91(0x3c5)](_0x1eef33,_0x504a18){const _0x549aad=a0_0x36fc91;this['logger'][_0x549aad(0x855)](this['instanceName']+'\x20('+this[_0x549aad(0x7ef)][_0x549aad(0x816)]+'):\x20\x27Enviando\x20mídia\x20para\x20\x27'+_0x504a18+'\x27');let _0x487657;_0x1eef33[_0x549aad(0x76e)]&&_0x1eef33[_0x549aad(0x76e)]['length']>0x0&&(_0x487657=await this[_0x549aad(0x86d)](_0x1eef33[_0x549aad(0x76e)],_0x504a18));let _0x2f2857={'number':_0x504a18,'options':{'delay':_0x1eef33[_0x549aad(0x6e4)],'linkPreview':_0x1eef33[_0x549aad(0x7e3)]},'mediaMessage':{'mediatype':_0x1eef33[_0x549aad(0x1ef)],'caption':_0x487657,'media':_0x1eef33[_0x549aad(0x3b5)]}},_0x5ac19f=null;try{let _0x1f237f=await this[_0x549aad(0x1b2)](_0x2f2857);if(_0x1f237f&&_0x1f237f[_0x549aad(0x166)])return{'error':!0x1,'id':_0x1f237f[_0x549aad(0x39c)]['id']};_0x5ac19f=JSON[_0x549aad(0x3ef)](_0x1f237f),this[_0x549aad(0x2ee)][_0x549aad(0x855)](this[_0x549aad(0x3af)]+'\x20('+this[_0x549aad(0x7ef)][_0x549aad(0x816)]+_0x549aad(0x651)+_0x5ac19f);}catch(_0x1e5442){this[_0x549aad(0x2ee)][_0x549aad(0x844)](this[_0x549aad(0x3af)]+'\x20('+this['instance'][_0x549aad(0x816)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x1e5442 instanceof Error?_0x1e5442[_0x549aad(0x142)]:JSON[_0x549aad(0x3ef)](_0x1e5442,null,0x2))),_0x5ac19f=_0x1e5442['message'];}if(_0x5ac19f)return{'error':!0x0,'detail':(typeof _0x5ac19f==_0x549aad(0x733)?JSON[_0x549aad(0x3ef)](_0x5ac19f,null,0x2):_0x5ac19f)[_0x549aad(0x6fe)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x36fc91(0x762)](_0x52130e,_0xecaea0){const _0x1eb01e=a0_0x36fc91;this[_0x1eb01e(0x2ee)][_0x1eb01e(0x855)](this[_0x1eb01e(0x3af)]+'\x20('+this[_0x1eb01e(0x7ef)][_0x1eb01e(0x816)]+_0x1eb01e(0x76c)+_0xecaea0+'\x27');let _0x22b18c={'number':_0xecaea0,'options':{'delay':_0x52130e[_0x1eb01e(0x6e4)]},'audioMessage':{'audio':_0x52130e[_0x1eb01e(0x3b5)]}},_0x39766f=null;try{let _0x396c37=await this[_0x1eb01e(0x318)](_0x22b18c);if(_0x396c37&&_0x396c37[_0x1eb01e(0x166)])return{'error':!0x1,'id':_0x396c37[_0x1eb01e(0x39c)]['id']};_0x39766f=JSON[_0x1eb01e(0x3ef)](_0x396c37),this['logger'][_0x1eb01e(0x855)](this[_0x1eb01e(0x3af)]+'\x20('+this[_0x1eb01e(0x7ef)][_0x1eb01e(0x816)]+_0x1eb01e(0x651)+_0x39766f);}catch(_0x3de6a9){this[_0x1eb01e(0x2ee)]['error'](this[_0x1eb01e(0x3af)]+'\x20('+this[_0x1eb01e(0x7ef)]['wuid']+_0x1eb01e(0x49e)+(_0x3de6a9 instanceof Error?_0x3de6a9[_0x1eb01e(0x142)]:JSON[_0x1eb01e(0x3ef)](_0x3de6a9,null,0x2))),_0x39766f=_0x3de6a9['message'];}if(_0x39766f)return{'error':!0x0,'detail':(typeof _0x39766f=='object'?JSON[_0x1eb01e(0x3ef)](_0x39766f,null,0x2):_0x39766f)[_0x1eb01e(0x6fe)](/[\[\]{}\n]/g,'\x20')[_0x1eb01e(0x6fe)](/  +/g,'\x20')};}async['groupDesc'](_0x365a05){const _0x2ec7a4=a0_0x36fc91;try{return await this[_0x2ec7a4(0x850)]['groupUpdateDescription'](_0x365a05[_0x2ec7a4(0x817)],_0x365a05[_0x2ec7a4(0x3a7)]),{'update':_0x2ec7a4(0x195)};}catch(_0x340ac9){let _0x110889='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc',_0x584bc6=_0x340ac9 instanceof Error?_0x340ac9['message']:typeof _0x340ac9==_0x2ec7a4(0x733)?JSON[_0x2ec7a4(0x3ef)](_0x340ac9):_0x340ac9,_0x14d99b=_0x110889+':\x20'+_0x584bc6;throw this[_0x2ec7a4(0x2ee)][_0x2ec7a4(0x844)](this[_0x2ec7a4(0x3af)]+'\x20('+this[_0x2ec7a4(0x7ef)]['wuid']+'):\x20'+_0x14d99b),new x(_0x14d99b);}}async[a0_0x36fc91(0x750)](_0x34ba04){const _0x592be4=a0_0x36fc91;try{return await this[_0x592be4(0x850)][_0x592be4(0x655)](_0x34ba04[_0x592be4(0x817)],_0x34ba04['name']),{'update':'success'};}catch(_0x4f7765){let _0x43723b=_0x592be4(0x426),_0x3b9328=_0x4f7765 instanceof Error?_0x4f7765['message']:typeof _0x4f7765=='object'?JSON[_0x592be4(0x3ef)](_0x4f7765):_0x4f7765,_0x41bc6b=_0x43723b+':\x20'+_0x3b9328;throw this[_0x592be4(0x2ee)][_0x592be4(0x844)](this[_0x592be4(0x3af)]+'\x20('+this[_0x592be4(0x7ef)][_0x592be4(0x816)]+'):\x20'+_0x41bc6b),new x(_0x41bc6b);}}async[a0_0x36fc91(0x215)](_0x3e4f53){const _0x22b90a=a0_0x36fc91;try{let _0x5eb41c=await this[_0x22b90a(0x850)][_0x22b90a(0x3ce)](_0x3e4f53['groupJid'],_0x3e4f53[_0x22b90a(0x584)]);return{'success':!0x0};}catch(_0x3d083c){let _0x1fbff7=_0x22b90a(0x697),_0x3593a3=_0x3d083c instanceof Error?_0x3d083c['message']:typeof _0x3d083c==_0x22b90a(0x733)?JSON['stringify'](_0x3d083c):_0x3d083c,_0x938a40=_0x1fbff7+':\x20'+_0x3593a3;throw this[_0x22b90a(0x2ee)][_0x22b90a(0x844)](this[_0x22b90a(0x3af)]+'\x20('+this[_0x22b90a(0x7ef)][_0x22b90a(0x816)]+_0x22b90a(0x651)+_0x938a40),new x(_0x938a40);}}async['groupSetting'](_0x22235a){const _0x4a5ffe=a0_0x36fc91;try{return await this['client']['groupSettingUpdate'](_0x22235a[_0x4a5ffe(0x817)],_0x22235a[_0x4a5ffe(0x755)]),{'update':_0x4a5ffe(0x195)};}catch(_0x45a2fb){let _0x1f44a9=_0x4a5ffe(0x6e2),_0x2be501=_0x45a2fb instanceof Error?_0x45a2fb[_0x4a5ffe(0x142)]:typeof _0x45a2fb==_0x4a5ffe(0x733)?JSON['stringify'](_0x45a2fb):_0x45a2fb,_0x4dee4e=_0x1f44a9+':\x20'+_0x2be501;throw this['logger'][_0x4a5ffe(0x844)](this[_0x4a5ffe(0x3af)]+'\x20('+this[_0x4a5ffe(0x7ef)][_0x4a5ffe(0x816)]+_0x4a5ffe(0x651)+_0x4dee4e),new x(_0x4dee4e);}}async['updateGroupPicture'](_0x55e766){const _0x2a206a=a0_0x36fc91;try{let _0x5ae95e;if((0x0,k['isURL'])(_0x55e766[_0x2a206a(0x44a)])){let _0xc964e9=new Date()['getTime'](),_0x5ec2d0=_0x55e766[_0x2a206a(0x44a)]+_0x2a206a(0x1a6)+_0xc964e9;_0x5ae95e=(await Y['default'][_0x2a206a(0x41a)](_0x5ec2d0,{'responseType':'arraybuffer'}))[_0x2a206a(0x3ff)];}else{if((0x0,k[_0x2a206a(0x4d8)])(_0x55e766[_0x2a206a(0x44a)]))_0x5ae95e=Buffer[_0x2a206a(0x113)](_0x55e766['image'],_0x2a206a(0x6b3));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x2a206a(0x850)][_0x2a206a(0x59f)](_0x55e766[_0x2a206a(0x817)],_0x5ae95e),{'update':'success'};}catch(_0x407876){let _0x531627='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture',_0x4347c7=_0x407876 instanceof Error?_0x407876[_0x2a206a(0x142)]:typeof _0x407876==_0x2a206a(0x733)?JSON[_0x2a206a(0x3ef)](_0x407876):_0x407876,_0x58ecb3=_0x531627+':\x20'+_0x4347c7;throw this[_0x2a206a(0x2ee)][_0x2a206a(0x844)](this[_0x2a206a(0x3af)]+'\x20('+this['instance'][_0x2a206a(0x816)]+'):\x20'+_0x58ecb3),new x(_0x58ecb3);}}},Jt=class u{constructor(_0x5344f6,_0x1994c1,_0x4779fa){const _0x50d47f=a0_0x36fc91;this['eventEmitter']=_0x5344f6,this[_0x50d47f(0x256)]=_0x1994c1,this[_0x50d47f(0x465)]=_0x4779fa,this['db']={},this[_0x50d47f(0x472)]={},this[_0x50d47f(0x2ee)]=new $(u[_0x50d47f(0x10b)]),this[_0x50d47f(0x543)]={},(this[_0x50d47f(0x753)](),this[_0x50d47f(0x7e6)](),Object[_0x50d47f(0x671)](this['db'],_0x1994c1['get']('DATABASE')),Object[_0x50d47f(0x671)](this[_0x50d47f(0x472)],_0x1994c1[_0x50d47f(0x41a)](_0x50d47f(0x231))),this[_0x50d47f(0x45f)]=this['db']['ENABLED']?this[_0x50d47f(0x465)][_0x50d47f(0x4b0)]?.['db'](this['db']['CONNECTION']['DB_PREFIX_NAME']+'-instances'):void 0x0,this[_0x50d47f(0x450)]=this['redis'][_0x50d47f(0x554)]?new de(this[_0x50d47f(0x472)]):void 0x0);}async[a0_0x36fc91(0x237)](_0x144a66){const _0x58422e=a0_0x36fc91;if(_0x144a66&&!this['waInstances'][_0x144a66])throw new j(_0x58422e(0x383)+_0x144a66+_0x58422e(0x7c9));let _0x1f091a=[];for await(let [_0x38d280,_0x1420ca]of Object[_0x58422e(0x60d)](this[_0x58422e(0x543)]))if(_0x1420ca&&_0x1420ca['connectionStatus'][_0x58422e(0x33f)]==='open'){let _0x11655f=await this[_0x58422e(0x465)][_0x58422e(0x48f)]['find'](_0x38d280);_0x1f091a['push']({'instance':{'instanceName':_0x38d280,'apikey':_0x11655f[_0x58422e(0x18d)],'owner':_0x1420ca[_0x58422e(0x816)],'profileName':await _0x1420ca[_0x58422e(0x4f1)]()||_0x58422e(0x193),'profilePictureUrl':_0x1420ca[_0x58422e(0x668)]}});}return _0x1f091a[_0x58422e(0x757)](_0x3e10f7=>_0x3e10f7[_0x58422e(0x7ef)][_0x58422e(0x3af)]===_0x144a66)??_0x1f091a;}async['cleaningUp'](_0x45447f){const _0x4a0aee=a0_0x36fc91;if(this['db']['ENABLED']&&(await this[_0x4a0aee(0x465)][_0x4a0aee(0x4b0)][_0x4a0aee(0x538)](),(await this[_0x4a0aee(0x45f)][_0x4a0aee(0x274)]())['length']>0x0&&await this['dbInstance'][_0x4a0aee(0x343)](_0x45447f)),this['redis'][_0x4a0aee(0x554)]){this['cache'][_0x4a0aee(0x6bb)]=_0x45447f,await this['cache']['delAll']();return;}}async[a0_0x36fc91(0x396)](){const _0x40b229=a0_0x36fc91;await this[_0x40b229(0x271)]();let _0x3b67a2=async _0x28a860=>{const _0x57841d=_0x40b229;let _0x3759b9=new $e(this[_0x57841d(0x256)],this[_0x57841d(0x11d)],this[_0x57841d(0x465)]);_0x3759b9[_0x57841d(0x3af)]=_0x28a860,await _0x3759b9[_0x57841d(0x4bc)](),this[_0x57841d(0x543)][_0x28a860]=_0x3759b9;};try{if(this['redis']['ENABLED']){let _0x16b188=await this[_0x40b229(0x450)][_0x40b229(0x2db)]();_0x16b188?.['length']>0x0&&_0x16b188[_0x40b229(0x12c)](async _0x302180=>await _0x3b67a2(_0x302180[_0x40b229(0x599)](':')[0x1]));return;}if(this['db'][_0x40b229(0x554)]){await this[_0x40b229(0x465)][_0x40b229(0x4b0)]['connect']();let _0x446e55=await this['dbInstance']['collections']();_0x446e55[_0x40b229(0x6eb)]>0x0&&_0x446e55[_0x40b229(0x12c)](async _0x36dc97=>await _0x3b67a2(_0x36dc97[_0x40b229(0x731)][_0x40b229(0x6fe)](/^[\w-]+\./,'')));return;}}catch(_0x5b31c2){this[_0x40b229(0x2ee)][_0x40b229(0x844)](_0x5b31c2);}}async[a0_0x36fc91(0x489)](){const _0x666a24=a0_0x36fc91;try{let _0x3743bd=await this[_0x666a24(0x465)]['auth'][_0x666a24(0x819)]({'online':!0x1});for(let _0x4f65ed of _0x3743bd){let _0x5af548=_0x4f65ed[_0x666a24(0x21f)];await ae[_0x666a24(0x2e3)](W,_0x5af548);}console[_0x666a24(0x83e)](_0x666a24(0x7bf)+_0x3743bd[_0x666a24(0x6eb)]);let _0x5746db={'online':!0x1},_0x4db810=await this['repository'][_0x666a24(0x48f)][_0x666a24(0x313)](_0x5746db);console['log'](_0x666a24(0x5a0)+_0x4db810[_0x666a24(0x6bf)]);}catch(_0x306c73){console[_0x666a24(0x844)](_0x666a24(0x479),_0x306c73);}}async['InstancesAlterarTodas'](){const _0x218c8e=a0_0x36fc91;try{let _0x558d56={'online':!0x1},_0x3f81ce={'online':!0x1,'lastDisconnect':Date[_0x218c8e(0x630)]()},_0x437d36=await this[_0x218c8e(0x465)][_0x218c8e(0x48f)][_0x218c8e(0x493)](_0x558d56,_0x3f81ce);await this[_0x218c8e(0x489)]();}catch(_0x15f4ec){console['error'](_0x218c8e(0x7d3),_0x15f4ec);}}[a0_0x36fc91(0x753)](){const _0x156fe5=a0_0x36fc91;this[_0x156fe5(0x11d)]['on']('remove.instance',async _0x382218=>{const _0x424367=_0x156fe5;try{this[_0x424367(0x543)][_0x382218]=void 0x0;}catch{}try{this['cleaningUp'](_0x382218);}finally{this['logger'][_0x424367(0x310)](_0x424367(0x383)+_0x382218+'\x22\x20-\x20REMOVED');}});}[a0_0x36fc91(0x7e6)](){const _0x118756=a0_0x36fc91;this[_0x118756(0x11d)]['on'](_0x118756(0x5c8),async _0x2b7469=>{const _0x5ef114=_0x118756;try{this['waInstances'][_0x2b7469]=void 0x0;}catch{}try{this[_0x5ef114(0x625)](_0x2b7469);}finally{this[_0x5ef114(0x2ee)][_0x5ef114(0x310)]('Instance\x20\x22'+_0x2b7469+'\x22\x20-\x20NOT\x20CONNECTION');}});}},qt=class extends _{['getChatModelForOwner'](_0x2868c7){return Zs(_0x2868c7);}async[a0_0x36fc91(0x573)](_0x10eeee){const _0x2fd509=a0_0x36fc91;if(_0x10eeee['length']!==0x0)try{return{'insertCount':(await this[_0x2fd509(0x61b)](_0x10eeee[0x0][_0x2fd509(0x3c6)])['insertMany']([..._0x10eeee]))[_0x2fd509(0x6eb)]};}catch(_0x16638d){return _0x16638d;}}async[a0_0x36fc91(0x757)](_0x23f4e5,_0x5b5d4d){const _0x4d1922=a0_0x36fc91;try{let _0x510119=this[_0x4d1922(0x61b)](_0x5b5d4d),_0x1a2ee1=I(_0x23f4e5[_0x4d1922(0x3bf)]);return await _0x510119['find'](_0x1a2ee1)['sort']({'lastmsg':-0x1})[_0x4d1922(0x344)](_0x23f4e5?.[_0x4d1922(0x344)]??0x0)[_0x4d1922(0x5ff)]();}catch{return[];}}async[a0_0x36fc91(0x5cc)](_0x4dde4b,_0x496063){const _0x1a8df7=a0_0x36fc91;try{let _0x169ec9=this['getChatModelForOwner'](_0x496063),_0x148244=I(_0x4dde4b['where']);return _0x148244[_0x1a8df7(0x234)]={'$ne':[]},await _0x169ec9['find'](_0x148244)['sort']({'lastmsg':-0x1})[_0x1a8df7(0x344)](_0x4dde4b?.['limit']??0x0)[_0x1a8df7(0x5ff)]();}catch{return[];}}async[a0_0x36fc91(0x807)](_0x55e940,_0x2ec1bd){const _0x4a273b=a0_0x36fc91;try{return{'deletedCount':(await this[_0x4a273b(0x61b)](_0x2ec1bd)[_0x4a273b(0x313)]({..._0x55e940['where']}))[_0x4a273b(0x16c)]};}catch(_0x10c9f6){return{'error':_0x10c9f6?.[_0x4a273b(0x698)]()};}}async[a0_0x36fc91(0x386)](_0x2f1f5b,_0x5e6aef){const _0x5578ff=a0_0x36fc91;try{return await this[_0x5578ff(0x61b)](_0x5e6aef)['deleteMany']({..._0x2f1f5b[_0x5578ff(0x3bf)]}),[];}catch(_0xc65b1c){return{'error':_0xc65b1c?.[_0x5578ff(0x698)]()};}}async['findOne'](_0x1fbb26,_0x2d0da7){const _0x55ad04=a0_0x36fc91;try{let _0x3e148c=this[_0x55ad04(0x61b)](_0x2d0da7),_0x158b4e=I(_0x1fbb26[_0x55ad04(0x3bf)]);return await _0x3e148c[_0x55ad04(0x74a)](_0x158b4e)['lean']();}catch{return null;}}async['updateOne'](_0x3f4a4b,_0x25703b,_0x3bb59c,_0x1b8192,_0x41eca5=a0_0x36fc91(0x4a5)){const _0x165b68=a0_0x36fc91;try{let _0x5a6cea={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x1b8192},_0x4d940a=this['getChatModelForOwner'](_0x3bb59c),_0x3e4117=I(_0x3f4a4b[_0x165b68(0x3bf)]);Object[_0x165b68(0x448)](_0x25703b)[_0x165b68(0x12c)](_0xb5f86f=>{_0x25703b[_0xb5f86f]==null&&delete _0x25703b[_0xb5f86f];});let _0xaa9cd9={};return _0xaa9cd9[_0x41eca5]=_0x25703b,await _0x4d940a[_0x165b68(0x754)](_0x3e4117,_0xaa9cd9,_0x5a6cea);}catch(_0x2e4dbf){return console['error'](_0x2e4dbf),null;}}async[a0_0x36fc91(0x404)](_0x433c31){const _0xfd4d59=a0_0x36fc91;try{let _0x726e54=this['getChatModelForOwner'](_0x433c31[0x0][_0xfd4d59(0x42a)]['where'][_0xfd4d59(0x3c6)]),_0x18eeaa=_0x433c31[_0xfd4d59(0x71e)](_0x2f91b8=>({'updateOne':{'filter':{..._0x2f91b8[_0xfd4d59(0x42a)]['where']},'update':{'$set':_0x2f91b8['update']},'upsert':!0x0}})),_0x564b6b=await _0x726e54[_0xfd4d59(0x7e2)](_0x18eeaa);return _0x564b6b['modifiedCount']+_0x564b6b[_0xfd4d59(0x7d0)];}catch(_0xb15603){return console[_0xfd4d59(0x844)](_0xb15603),0x0;}}async[a0_0x36fc91(0x85b)](_0x11cdb2){const _0x28ba40=a0_0x36fc91;try{let _0x7b8e13={'group_isCommunity':'','group_announce':'','group_size':''},_0x26374d={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x38780b={'$unset':_0x7b8e13};return(await this['getChatModelForOwner'](_0x11cdb2)[_0x28ba40(0x404)](_0x26374d,_0x38780b))[_0x28ba40(0x5b4)];}catch(_0xb1e173){return console[_0x28ba40(0x844)]('Error\x20removing\x20unused\x20chat\x20fields:',_0xb1e173),0x0;}}async[a0_0x36fc91(0x73a)](_0x3ca643){const _0x386a53=a0_0x36fc91;try{let _0x1acf32=this[_0x386a53(0x61b)](_0x3ca643),_0x284a12={'leadInfo.etiquetas':{'$exists':!0x1}},_0x521b94={'$set':{'leadInfo.etiquetas':[]}};return(await _0x1acf32[_0x386a53(0x404)](_0x284a12,_0x521b94))['modifiedCount'];}catch(_0x558a42){return console[_0x386a53(0x844)](_0x558a42),0x0;}}async[a0_0x36fc91(0x846)](_0x54fb7d){const _0x422ff3=a0_0x36fc91;try{let _0x553b4e=this[_0x422ff3(0x61b)](_0x54fb7d),_0x3cb7a7={'leadInfo.tags':{'$exists':!0x1}},_0x5868f4={'$set':{'leadInfo.tags':[]}};return(await _0x553b4e[_0x422ff3(0x404)](_0x3cb7a7,_0x5868f4))[_0x422ff3(0x5b4)];}catch(_0x21f5a0){return console['error'](_0x21f5a0),0x0;}}async['updateMissingCustomFields'](_0x518595){const _0x2272fa=a0_0x36fc91;try{let _0x793e5=this[_0x2272fa(0x61b)](_0x518595),_0x156809={'leadInfo.customFields':{'$exists':!0x1}},_0x3215f0={'$set':{'leadInfo.customFields':[]}};return(await _0x793e5['updateMany'](_0x156809,_0x3215f0))[_0x2272fa(0x5b4)];}catch(_0x52e441){return console[_0x2272fa(0x844)](_0x52e441),0x0;}}async[a0_0x36fc91(0x80f)](_0x4daa26,_0x3b43e3){const _0x36470c=a0_0x36fc91;if(!Array[_0x36470c(0x484)](_0x4daa26)||_0x4daa26[_0x36470c(0x6eb)]===0x0)throw new Error(_0x36470c(0x815));try{return(await this[_0x36470c(0x61b)](_0x3b43e3)[_0x36470c(0x80f)](_0x4daa26))['length'];}catch(_0x58c307){throw console[_0x36470c(0x844)](_0x36470c(0x551),_0x58c307),_0x58c307;}}async[a0_0x36fc91(0x4f2)](_0x2adfa6,_0x2f87e7){const _0x568c39=a0_0x36fc91;try{await this['getChatModelForOwner'](_0x2f87e7)[_0x568c39(0x7b3)]({'_id':_0x2adfa6});}catch(_0x2fd875){throw console['error']('Erro\x20ao\x20deletar\x20chat:',_0x2fd875),_0x2fd875;}}},Vt=class extends _{constructor(_0x596235,_0x47f255,_0x605569){const _0x5c9235=a0_0x36fc91;super(_0x47f255),this[_0x5c9235(0x510)]=_0x596235,this['configService']=_0x47f255,this[_0x5c9235(0x15f)]=_0x605569;}async[a0_0x36fc91(0x573)](_0x33212e){const _0x303765=a0_0x36fc91;if(_0x33212e[_0x303765(0x6eb)]!==0x0)try{return{'insertCount':(await this['cacheContactModel'][_0x303765(0x80f)]([..._0x33212e]))['length']};}catch(_0x49d8e9){return _0x49d8e9;}}async[a0_0x36fc91(0x3d8)](_0x3f36df,_0x3c6702){const _0x19a145=a0_0x36fc91;try{let _0x5c5361=I(_0x3f36df[_0x19a145(0x3bf)]);return{'updatedCount':(await this[_0x19a145(0x510)][_0x19a145(0x404)](_0x5c5361,{'$set':_0x3c6702}))['modifiedCount']};}catch(_0x3b30b5){return console['error'](_0x19a145(0x43d),_0x3b30b5),{'error':_0x3b30b5[_0x19a145(0x698)]()};}}async[a0_0x36fc91(0x837)](_0x89f2ce){const _0x3e7644=a0_0x36fc91;try{let _0x5aeb11={'_id':{'$in':_0x89f2ce}};return await this[_0x3e7644(0x510)]['find'](_0x5aeb11)[_0x3e7644(0x5ff)]();}catch(_0x344c60){return console[_0x3e7644(0x844)](_0x3e7644(0x7d8),_0x344c60),[];}}async[a0_0x36fc91(0x807)](_0xf1e514){const _0x82be0b=a0_0x36fc91;try{return{'deletedCount':(await this[_0x82be0b(0x510)][_0x82be0b(0x313)]({..._0xf1e514[_0x82be0b(0x3bf)]}))[_0x82be0b(0x16c)]};}catch(_0x208cb9){return{'error':_0x208cb9?.[_0x82be0b(0x698)]()};}}async['find'](_0x23cbd0){const _0x5a6e93=a0_0x36fc91;try{let _0x128b45=I(_0x23cbd0['where']);return await this[_0x5a6e93(0x510)][_0x5a6e93(0x757)](_0x128b45)[_0x5a6e93(0x344)](_0x23cbd0?.[_0x5a6e93(0x344)]??0x0)[_0x5a6e93(0x5ff)]();}catch{return[];}}async['findOne'](_0x558d9f){const _0x2c32b6=a0_0x36fc91;try{let _0x1c7f3e=I(_0x558d9f[_0x2c32b6(0x3bf)]);return await this['cacheContactModel'][_0x2c32b6(0x74a)](_0x1c7f3e)[_0x2c32b6(0x5ff)]();}catch{return null;}}},Gt=class extends _{[a0_0x36fc91(0x711)](_0x50e080){return Ma(_0x50e080);}async['updateOne'](_0x480c4d,_0x1a9df0,_0x525e1b,_0x15fa38){const _0x32803f=a0_0x36fc91;try{let _0xa00249={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x15fa38},_0x346ee9=this[_0x32803f(0x711)](_0x525e1b),_0x1a72c1=I(_0x480c4d[_0x32803f(0x3bf)]);return await _0x346ee9['findOneAndUpdate'](_0x1a72c1,{'$set':_0x1a9df0},_0xa00249);}catch(_0x6183f){return console[_0x32803f(0x844)](_0x6183f),null;}}async[a0_0x36fc91(0x757)](_0x5db25b,_0x335aea){const _0x3bd575=a0_0x36fc91;try{let _0x5e83a3=this[_0x3bd575(0x711)](_0x335aea),_0x3c6d2=I(_0x5db25b['where']);return await _0x5e83a3[_0x3bd575(0x757)](_0x3c6d2);}catch(_0x249bf3){console[_0x3bd575(0x844)](_0x249bf3);}}async[a0_0x36fc91(0x807)](_0x4338af,_0x4980a7){const _0x5720c2=a0_0x36fc91;try{let _0x457cd6=this['getLabelModelForOwner'](_0x4980a7),_0x358cb8=I(_0x4338af[_0x5720c2(0x3bf)]);await _0x457cd6[_0x5720c2(0x313)](_0x358cb8);}catch(_0x109f35){console[_0x5720c2(0x844)](_0x109f35);}}async[a0_0x36fc91(0x386)](_0x32934b){const _0x589545=a0_0x36fc91;try{return await this[_0x589545(0x711)](_0x32934b)[_0x589545(0x183)]['drop'](),{'success':!0x0};}catch(_0xe52d33){return console['error'](_0xe52d33),{'success':!0x1,'error':_0xe52d33};}}},Bt=class{constructor(_0x1d8c47){const _0x9a6e5a=a0_0x36fc91;this[_0x9a6e5a(0x123)]=_0x1d8c47;}async['editChat']({instanceName:_0xb5b668},_0x229a59){const _0x2504f9=a0_0x36fc91;return await this[_0x2504f9(0x123)][_0x2504f9(0x543)][_0xb5b668][_0x2504f9(0x533)](_0x229a59);}async[a0_0x36fc91(0x3d5)]({instanceName:_0x578395},_0x4b0380){const _0xa7bbc2=a0_0x36fc91;return await this['waMonitor'][_0xa7bbc2(0x543)][_0x578395][_0xa7bbc2(0x3d5)](_0x4b0380);}async[a0_0x36fc91(0x47a)]({instanceName:_0x28d479},_0x113303){const _0x37cfaf=a0_0x36fc91;return await this['waMonitor'][_0x37cfaf(0x543)][_0x28d479]['importChats'](_0x113303);}async['readMessage']({instanceName:_0x417423},_0x2d8070){const _0x3488e7=a0_0x36fc91;return await this[_0x3488e7(0x123)][_0x3488e7(0x543)][_0x417423]['markMessageAsRead'](_0x2d8070);}async[a0_0x36fc91(0x1ce)]({instanceName:_0x441fbc},_0xdae8bc){const _0x1dce44=a0_0x36fc91;return await this['waMonitor'][_0x1dce44(0x543)][_0x441fbc][_0x1dce44(0x1ce)](_0xdae8bc);}async[a0_0x36fc91(0x605)]({instanceName:_0x159004},_0x5cb111){const _0x23875a=a0_0x36fc91;return await this[_0x23875a(0x123)]['waInstances'][_0x159004][_0x23875a(0x605)](_0x5cb111);}async[a0_0x36fc91(0x270)]({instanceName:_0x48e8ce},_0x2d4137){const _0x4cf985=a0_0x36fc91;return await this[_0x4cf985(0x123)][_0x4cf985(0x543)][_0x48e8ce][_0x4cf985(0x725)](_0x2d4137['number']);}async[a0_0x36fc91(0x28a)]({instanceName:_0x54d532},_0x15d35b){const _0x1064a8=a0_0x36fc91;return await this[_0x1064a8(0x123)]['waInstances'][_0x54d532][_0x1064a8(0x28a)](_0x15d35b[_0x1064a8(0x429)]);}async[a0_0x36fc91(0x205)]({instanceName:_0x511ecc},_0x360687){const _0xf71b91=a0_0x36fc91;return await this[_0xf71b91(0x123)][_0xf71b91(0x543)][_0x511ecc][_0xf71b91(0x205)](_0x360687);}async[a0_0x36fc91(0x2ef)]({instanceName:_0x116636},_0x471c23){const _0x5e6889=a0_0x36fc91;return await this[_0x5e6889(0x123)][_0x5e6889(0x543)][_0x116636][_0x5e6889(0x2ef)](_0x471c23);}async[a0_0x36fc91(0x400)]({instanceName:_0x16b49b},_0x40a8bd){const _0x41229f=a0_0x36fc91;return await this[_0x41229f(0x123)][_0x41229f(0x543)][_0x16b49b][_0x41229f(0x400)](_0x40a8bd);}async[a0_0x36fc91(0x14f)]({instanceName:_0x516777},_0x29cf58){const _0x3b3143=a0_0x36fc91;return await this[_0x3b3143(0x123)][_0x3b3143(0x543)][_0x516777][_0x3b3143(0x14f)](_0x29cf58);}async[a0_0x36fc91(0x5b9)]({instanceName:_0x841e4d}){const _0x4af79e=a0_0x36fc91;return await this[_0x4af79e(0x123)][_0x4af79e(0x543)][_0x841e4d][_0x4af79e(0x5b9)]();}async[a0_0x36fc91(0x622)]({instanceName:_0x85f3b5}){const _0x3fd6f4=a0_0x36fc91;return await this['waMonitor'][_0x3fd6f4(0x543)][_0x85f3b5][_0x3fd6f4(0x622)]();}async[a0_0x36fc91(0x3a2)]({instanceName:_0x3515aa}){const _0x1423a1=a0_0x36fc91;return await this[_0x1423a1(0x123)][_0x1423a1(0x543)][_0x3515aa]['fetchPrivacySettings']();}async[a0_0x36fc91(0x53c)]({instanceName:_0x138fa1},_0x56679d){const _0x37015c=a0_0x36fc91;return await this['waMonitor'][_0x37015c(0x543)][_0x138fa1][_0x37015c(0x53c)](_0x56679d);}async[a0_0x36fc91(0x643)]({instanceName:_0x4e97e5},_0xd738e3){const _0x43a27b=a0_0x36fc91;return await this['waMonitor'][_0x43a27b(0x543)][_0x4e97e5]['fetchBusinessProfile'](_0xd738e3['number']);}async[a0_0x36fc91(0x289)]({instanceName:_0x4fae4d},_0x1847d6){const _0x4eb140=a0_0x36fc91;return await this[_0x4eb140(0x123)][_0x4eb140(0x543)][_0x4fae4d]['updateProfileName'](_0x1847d6['name']);}async[a0_0x36fc91(0x772)]({instanceName:_0x461436},_0x1d836f){const _0x33c6f5=a0_0x36fc91;return await this[_0x33c6f5(0x123)][_0x33c6f5(0x543)][_0x461436]['updateProfileStatus'](_0x1d836f[_0x33c6f5(0x166)]);}async[a0_0x36fc91(0x59f)]({instanceName:_0x472888},_0x2c2818){const _0x14d882=a0_0x36fc91;return await this['waMonitor'][_0x14d882(0x543)][_0x472888][_0x14d882(0x59f)](_0x2c2818[_0x14d882(0x5e4)]);}async[a0_0x36fc91(0x7f3)]({instanceName:_0x14d640},_0x5a26ab){const _0x4dffa2=a0_0x36fc91;return await this[_0x4dffa2(0x123)]['waInstances'][_0x14d640][_0x4dffa2(0x7f3)]();}},Wt=require(a0_0x36fc91(0x39b)),zt=class u{constructor(_0x4597a7,_0x544b1b,_0x4f7989,_0x16e7ea,_0x46b875){const _0x12fbc9=a0_0x36fc91;this[_0x12fbc9(0x123)]=_0x4597a7,this[_0x12fbc9(0x256)]=_0x544b1b,this[_0x12fbc9(0x465)]=_0x4f7989,this[_0x12fbc9(0x11d)]=_0x16e7ea,this[_0x12fbc9(0x61c)]=_0x46b875,this[_0x12fbc9(0x2ee)]=new $(u[_0x12fbc9(0x10b)]);}async[a0_0x36fc91(0x5c2)]({instanceName:_0x295fdc,apikey:_0x4ee964,number:_0x1b76f8,proxy:_0x469e38=!0x0}){const _0x199174=a0_0x36fc91;try{let _0x4cf544=new $e(this[_0x199174(0x256)],this[_0x199174(0x11d)],this[_0x199174(0x465)]);_0x4cf544[_0x199174(0x3af)]=_0x295fdc,this[_0x199174(0x123)][_0x199174(0x543)][_0x4cf544[_0x199174(0x3af)]]=_0x4cf544;let _0x1638ab={};_0x4ee964?(await this[_0x199174(0x465)][_0x199174(0x48f)][_0x199174(0x6b4)]({'apikey':_0x4ee964},_0x295fdc),_0x1638ab[_0x199174(0x18d)]=_0x4ee964):_0x1638ab=await this[_0x199174(0x61c)]['generateHash']({'instanceName':_0x4cf544[_0x199174(0x3af)]});let _0x27383f;if(_0x1b76f8){if(_0x27383f=await this['verifyWhatsAppNumber'](_0x1b76f8),_0x27383f[_0x199174(0x844)])throw new x(_0x27383f[_0x199174(0x844)][_0x199174(0x698)]());_0x1b76f8=_0x27383f[_0x199174(0x429)];}let _0x443f1b;return await _0x4cf544[_0x199174(0x4bc)](_0x1b76f8),await(0x0,Wt[_0x199174(0x6e4)])(0xfa0),_0x1b76f8&&await(0x0,Wt['delay'])(0xbb8),_0x443f1b=_0x4cf544[_0x199174(0x357)],{'instance':{'instanceName':_0x4cf544[_0x199174(0x3af)],'status':'created'},'hash':_0x1638ab,'qrcode':_0x443f1b};}catch(_0xd8e5b7){throw this[_0x199174(0x2ee)]['error'](_0xd8e5b7),_0xd8e5b7;}}async['connectToWhatsappController']({instanceName:_0x51ecf6,number:_0x457efd=null}){const _0xceaedd=a0_0x36fc91;try{let _0x5e68a6=this['waMonitor'][_0xceaedd(0x543)][_0x51ecf6];switch(_0x5e68a6?.[_0xceaedd(0x4a8)]?.[_0xceaedd(0x33f)]){case _0xceaedd(0x13d):return await _0x5e68a6[_0xceaedd(0x4bc)](_0x457efd),await(0x0,Wt[_0xceaedd(0x6e4)])(0x7d0),_0x5e68a6[_0xceaedd(0x357)];case _0xceaedd(0x5d0):return _0x5e68a6[_0xceaedd(0x357)];default:return await this['connectionState']({'instanceName':_0x51ecf6});}}catch(_0x4dd566){this[_0xceaedd(0x2ee)][_0xceaedd(0x83e)](_0x4dd566);}}async[a0_0x36fc91(0x784)]({instanceName:_0x524e52}){const _0x18eda0=a0_0x36fc91;let _0x543aaf=this[_0x18eda0(0x123)][_0x18eda0(0x543)][_0x524e52]['connectionStatus'],_0x30bb2a=null;_0x543aaf['state']===_0x18eda0(0x4fc)&&_0x524e52&&(_0x30bb2a=await this['waMonitor']['instanceInfo'](_0x524e52));let _0x382d1f=null;return _0x543aaf['state']===_0x18eda0(0x5d0)&&_0x524e52&&(_0x382d1f=this[_0x18eda0(0x123)][_0x18eda0(0x543)][_0x524e52][_0x18eda0(0x357)]),{'instance':_0x524e52,'connectionStatus':_0x543aaf,'instanceInfo':_0x30bb2a,'qrcode':_0x382d1f};}async[a0_0x36fc91(0x2eb)](_0x58c941){const _0x154a2a=a0_0x36fc91;_0x58c941=_0x58c941[_0x154a2a(0x6fe)](/\D/g,'');let _0x455158=Object[_0x154a2a(0x448)](this[_0x154a2a(0x123)][_0x154a2a(0x543)])[_0x154a2a(0x125)](_0x31079e=>{const _0x3cb754=_0x154a2a;let _0x310ab3=this[_0x3cb754(0x123)][_0x3cb754(0x543)][_0x31079e];return _0x310ab3&&_0x310ab3['connectionStatus']&&_0x310ab3[_0x3cb754(0x4a8)][_0x3cb754(0x33f)]===_0x3cb754(0x4fc);});if(_0x455158['length']===0x0)return{'number':this[_0x154a2a(0x2a5)](_0x58c941)};let _0x4a6819=Math[_0x154a2a(0x3b9)](Math['random']()*_0x455158[_0x154a2a(0x6eb)]),_0x1e50dd=_0x455158[_0x4a6819];try{let _0x40b0f9=(await this['waMonitor'][_0x154a2a(0x543)][_0x1e50dd][_0x154a2a(0x3d5)]({'numbers':[_0x58c941]}))[_0x154a2a(0x3ac)]();return _0x40b0f9[_0x154a2a(0x40f)]?{'number':_0x40b0f9[_0x154a2a(0x4cd)][_0x154a2a(0x6fe)](_0x154a2a(0x66e),'')}:{'number':_0x58c941,'error':'Número\x20não\x20possui\x20WhatsApp.'};}catch(_0x2bffb2){return this[_0x154a2a(0x2ee)]['error'](_0x154a2a(0x2c2)+_0x2bffb2),{'number':_0x58c941,'error':_0x154a2a(0x6ec)};}}[a0_0x36fc91(0x2a5)](_0xfb342f){let _0x5e9376=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0xfb342f);if(_0x5e9376&&_0x5e9376[0x1]==='55'){let _0x5c2834=_0x5e9376[0x2],_0x34d26d=_0x5e9376[0x3],_0x481df5=_0x5e9376[0x4];if(parseInt(_0x5c2834)>=0x1f&&_0x34d26d==='9')return _0x5e9376[0x1]+_0x5c2834+_0x481df5;}return _0xfb342f;}async[a0_0x36fc91(0x6a6)]({instanceName:_0x411e54}){const _0x130e3c=a0_0x36fc91;try{return this['waMonitor'][_0x130e3c(0x543)][_0x411e54]?.[_0x130e3c(0x850)]?.['ws']?.[_0x130e3c(0x13d)](),{'status':_0x130e3c(0x3d1),'error':!0x1,'response':{'message':_0x130e3c(0x442)}};}catch(_0x5aa599){this[_0x130e3c(0x2ee)][_0x130e3c(0x844)](_0x5aa599);}}async[a0_0x36fc91(0x868)]({instanceName:_0x586a33}){const _0x2a2eb8=a0_0x36fc91;return _0x586a33?this[_0x2a2eb8(0x123)][_0x2a2eb8(0x237)](_0x586a33):this[_0x2a2eb8(0x123)][_0x2a2eb8(0x237)]();}async[a0_0x36fc91(0x2af)]({instanceName:_0x48f9aa}){const _0x5861c4=a0_0x36fc91;try{return await this[_0x5861c4(0x123)][_0x5861c4(0x543)][_0x48f9aa]?.[_0x5861c4(0x850)]?.[_0x5861c4(0x2af)](_0x5861c4(0x6cd)+_0x48f9aa),{'error':!0x1,'message':_0x5861c4(0x2d5)};}catch(_0x2f3553){throw new x(_0x2f3553[_0x5861c4(0x698)]());}}async['deleteInstance']({instanceName:_0xc1602d}){const _0x4b8467=a0_0x36fc91;if((await this[_0x4b8467(0x784)]({'instanceName':_0xc1602d}))['connectionStatus']['state']===_0x4b8467(0x4fc))throw new m(['Deletion\x20failed',_0x4b8467(0x25e)]);try{return delete this[_0x4b8467(0x123)][_0x4b8467(0x543)][_0xc1602d],{'error':!0x1,'message':_0x4b8467(0x6d6)};}catch(_0x317d2f){throw new m(_0x317d2f[_0x4b8467(0x698)]());}}},ie=require('class-validator'),Ht=class{constructor(_0x483b68){this['waMonitor']=_0x483b68;}async[a0_0x36fc91(0x69a)]({instanceName:_0x388448},_0x1342b1){const _0x4541fc=a0_0x36fc91;return await this[_0x4541fc(0x123)][_0x4541fc(0x543)][_0x388448][_0x4541fc(0x3bd)](_0x1342b1);}async['sendMenu']({instanceName:_0x25aab3},_0x4c61c5){const _0x331888=a0_0x36fc91;return await this[_0x331888(0x123)][_0x331888(0x543)][_0x25aab3]['menuMessage'](_0x4c61c5);}async[a0_0x36fc91(0x5f1)]({instanceName:_0xacc6af},_0x11706e){const _0x117fe2=a0_0x36fc91;if((0x0,ie[_0x117fe2(0x4d8)])(_0x11706e?.[_0x117fe2(0x1b2)]?.[_0x117fe2(0x1ac)])&&!_0x11706e?.[_0x117fe2(0x1b2)]?.[_0x117fe2(0x3f6)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,ie[_0x117fe2(0x436)])(_0x11706e?.['mediaMessage']?.[_0x117fe2(0x1ac)])||(0x0,ie[_0x117fe2(0x4d8)])(_0x11706e?.[_0x117fe2(0x1b2)]?.['media']))return await this[_0x117fe2(0x123)]['waInstances'][_0xacc6af]['mediaMessage'](_0x11706e);throw new m(_0x117fe2(0x38f));}async[a0_0x36fc91(0x689)]({instanceName:_0x1a1d32},_0x4b5469){const _0x3e3e86=a0_0x36fc91;if((0x0,ie[_0x3e3e86(0x436)])(_0x4b5469['stickerMessage'][_0x3e3e86(0x44a)])||(0x0,ie[_0x3e3e86(0x4d8)])(_0x4b5469['stickerMessage']['image']))return await this[_0x3e3e86(0x123)][_0x3e3e86(0x543)][_0x1a1d32][_0x3e3e86(0x508)](_0x4b5469);throw new m(_0x3e3e86(0x38f));}async['sendWhatsAppAudio']({instanceName:_0x40464c},_0x40e61b){const _0x4d6845=a0_0x36fc91;if((0x0,ie[_0x4d6845(0x436)])(_0x40e61b[_0x4d6845(0x587)][_0x4d6845(0x48a)])||(0x0,ie['isBase64'])(_0x40e61b[_0x4d6845(0x587)]['audio']))return await this['waMonitor'][_0x4d6845(0x543)][_0x40464c][_0x4d6845(0x318)](_0x40e61b);throw new m(_0x4d6845(0x38f));}async['sendButtons']({instanceName:_0x49d9db},_0x255c45){const _0x12256b=a0_0x36fc91;if((0x0,ie[_0x12256b(0x4d8)])(_0x255c45[_0x12256b(0x7b5)][_0x12256b(0x1b2)]?.[_0x12256b(0x1ac)])&&!_0x255c45['buttonMessage'][_0x12256b(0x1b2)]?.[_0x12256b(0x3f6)])throw new m(_0x12256b(0x29b));return await this[_0x12256b(0x123)][_0x12256b(0x543)][_0x49d9db][_0x12256b(0x7b5)](_0x255c45);}async[a0_0x36fc91(0x131)]({instanceName:_0x1c87a8},_0x4b0fb4){const _0x2c4f3f=a0_0x36fc91;return await this[_0x2c4f3f(0x123)][_0x2c4f3f(0x543)][_0x1c87a8]['locationMessage'](_0x4b0fb4);}async[a0_0x36fc91(0x6ae)]({instanceName:_0x5ad969},_0x129190){const _0x1c8113=a0_0x36fc91;return await this[_0x1c8113(0x123)][_0x1c8113(0x543)][_0x5ad969]['pollMessage'](_0x129190);}async[a0_0x36fc91(0x178)]({instanceName:_0x4a41c5},_0x1eb18b){const _0x500b3c=a0_0x36fc91;return await this['waMonitor'][_0x500b3c(0x543)][_0x4a41c5]['listMessage'](_0x1eb18b);}async[a0_0x36fc91(0x1e4)]({instanceName:_0x3d192},_0x1fd23c){const _0x1bbfbb=a0_0x36fc91;return await this[_0x1bbfbb(0x123)][_0x1bbfbb(0x543)][_0x3d192]['contactMessage'](_0x1fd23c);}async[a0_0x36fc91(0x5b2)]({instanceName:_0x59480c},_0x4753d9){const _0x285399=a0_0x36fc91;if(!_0x4753d9['reactionMessage'][_0x285399(0x1b9)][_0x285399(0x1db)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x285399(0x1fd));return await this[_0x285399(0x123)][_0x285399(0x543)][_0x59480c]['reactionMessage'](_0x4753d9);}async['sendStatus']({instanceName:_0x1bf4e2},_0xd4d90e){const _0x984dd0=a0_0x36fc91;return await this[_0x984dd0(0x123)][_0x984dd0(0x543)][_0x1bf4e2][_0x984dd0(0x64f)](_0xd4d90e);}},xi=require(a0_0x36fc91(0x3dc)),Ls=require('uuid'),Kt=class u{constructor(_0x1499e8,_0x58eb90,_0x272a60){const _0x281e5f=a0_0x36fc91;this[_0x281e5f(0x256)]=_0x1499e8,this[_0x281e5f(0x123)]=_0x58eb90,this[_0x281e5f(0x465)]=_0x272a60,this['logger']=new $(u['name']);}async[a0_0x36fc91(0x3e8)](_0x57eea1){const _0x222920=a0_0x36fc91;let _0x581936=this['configService'][_0x222920(0x41a)](_0x222920(0x154))[_0x222920(0x124)],_0x4e4e48=(0x0,xi[_0x222920(0x5e5)])({'instanceName':_0x57eea1[_0x222920(0x3af)],'apiName':it,'tokenId':(0x0,Ls['v4'])()},_0x581936['SECRET'],{'expiresIn':_0x581936[_0x222920(0x22a)],'encoding':_0x222920(0x112),'subject':'g-t'}),_0x20cbbf=await this[_0x222920(0x465)][_0x222920(0x48f)][_0x222920(0x6b4)]({'jwt':_0x4e4e48},_0x57eea1[_0x222920(0x3af)]);if(_0x20cbbf[_0x222920(0x844)])throw this[_0x222920(0x2ee)][_0x222920(0x844)]({'localError':u[_0x222920(0x10b)]+_0x222920(0x241),'error':_0x20cbbf['error']}),new m(_0x222920(0x4aa),_0x20cbbf[_0x222920(0x844)]?.[_0x222920(0x698)]());return{'jwt':_0x4e4e48};}async[a0_0x36fc91(0x18d)](_0x47946b){const _0x84148b=a0_0x36fc91;let _0xb6e945=(0x0,Ls['v4'])()[_0x84148b(0x15e)](),_0xcb016d=await this['repository'][_0x84148b(0x48f)]['create']({'apikey':_0xb6e945},_0x47946b[_0x84148b(0x3af)]);if(_0xcb016d['error'])throw this[_0x84148b(0x2ee)][_0x84148b(0x844)]({'localError':u[_0x84148b(0x10b)]+'.jwt','error':_0xcb016d['error']}),new m(_0x84148b(0x4aa),_0xcb016d['error']?.[_0x84148b(0x698)]());return{'apikey':_0xb6e945};}async[a0_0x36fc91(0x4a0)](_0x53e7a5){const _0x180856=a0_0x36fc91;let _0x3d313a=this[_0x180856(0x256)][_0x180856(0x41a)](_0x180856(0x154));return await this[_0x3d313a[_0x180856(0x7e1)]](_0x53e7a5);}},Qt=class{constructor(_0x1a6964){const _0xf446a5=a0_0x36fc91;this[_0xf446a5(0x123)]=_0x1a6964;}async[a0_0x36fc91(0x1fb)](_0xc2f896,_0xb76776){const _0x1f7156=a0_0x36fc91;return await this[_0x1f7156(0x123)][_0x1f7156(0x543)][_0xc2f896[_0x1f7156(0x3af)]][_0x1f7156(0x1fb)](_0xb76776);}async[a0_0x36fc91(0x49c)](_0x5c0a38,_0x51d2dc){const _0x327b99=a0_0x36fc91;return await this[_0x327b99(0x123)][_0x327b99(0x543)][_0x5c0a38[_0x327b99(0x3af)]]['updateGroupPicture'](_0x51d2dc);}async[a0_0x36fc91(0x778)](_0x347420,_0x4644aa){const _0x3b49c1=a0_0x36fc91;return await this[_0x3b49c1(0x123)][_0x3b49c1(0x543)][_0x347420[_0x3b49c1(0x3af)]][_0x3b49c1(0x778)](_0x4644aa);}async[a0_0x36fc91(0x750)](_0x5538ec,_0x110770){const _0x4ae1bc=a0_0x36fc91;return await this[_0x4ae1bc(0x123)][_0x4ae1bc(0x543)][_0x5538ec[_0x4ae1bc(0x3af)]][_0x4ae1bc(0x750)](_0x110770);}async[a0_0x36fc91(0x7c4)](_0x443d40,_0x22288c){const _0x1933be=a0_0x36fc91;return await this[_0x1933be(0x123)]['waInstances'][_0x443d40[_0x1933be(0x3af)]][_0x1933be(0x7c4)](_0x22288c);}async[a0_0x36fc91(0x862)](_0x268d26,_0xe4ea99){const _0x17c077=a0_0x36fc91;return await this['waMonitor'][_0x17c077(0x543)][_0x268d26['instanceName']][_0x17c077(0x862)](_0xe4ea99);}async[a0_0x36fc91(0x2a2)](_0x14bac6,_0x54442d){const _0x2edb77=a0_0x36fc91;return await this[_0x2edb77(0x123)][_0x2edb77(0x543)][_0x14bac6[_0x2edb77(0x3af)]][_0x2edb77(0x3a6)](_0x54442d);}async[a0_0x36fc91(0x4ea)](_0x7c1e14){const _0x53a664=a0_0x36fc91;return await this[_0x53a664(0x123)][_0x53a664(0x543)][_0x7c1e14['instanceName']][_0x53a664(0x4ea)]();}async[a0_0x36fc91(0x616)](_0x3be6fa,_0x5bd7a0){const _0x16e71d=a0_0x36fc91;return await this[_0x16e71d(0x123)][_0x16e71d(0x543)][_0x3be6fa[_0x16e71d(0x3af)]][_0x16e71d(0x616)](_0x5bd7a0);}async['joinGroup'](_0x26e25f,_0x5e5fcf){const _0x1ddfbf=a0_0x36fc91;return await this[_0x1ddfbf(0x123)][_0x1ddfbf(0x543)][_0x26e25f[_0x1ddfbf(0x3af)]][_0x1ddfbf(0x15c)](_0x5e5fcf);}async[a0_0x36fc91(0x75a)](_0x1f8f71,_0x8752e2){const _0x30371c=a0_0x36fc91;return await this['waMonitor'][_0x30371c(0x543)][_0x1f8f71[_0x30371c(0x3af)]][_0x30371c(0x75a)](_0x8752e2);}async[a0_0x36fc91(0x735)](_0x19197c,_0x3237e8){const _0x24c4aa=a0_0x36fc91;return await this[_0x24c4aa(0x123)][_0x24c4aa(0x543)][_0x19197c[_0x24c4aa(0x3af)]][_0x24c4aa(0x735)](_0x3237e8);}async[a0_0x36fc91(0x6c4)](_0x5dd48e,_0x4f4e6f){const _0x2e327f=a0_0x36fc91;return await this[_0x2e327f(0x123)][_0x2e327f(0x543)][_0x5dd48e[_0x2e327f(0x3af)]][_0x2e327f(0x6c4)](_0x4f4e6f);}async[a0_0x36fc91(0x57a)](_0x25f869,_0x19427a){const _0x4684d7=a0_0x36fc91;return await this[_0x4684d7(0x123)][_0x4684d7(0x543)][_0x25f869['instanceName']][_0x4684d7(0x7dd)](_0x19427a);}async[a0_0x36fc91(0x215)](_0x1ecb5e,_0x18920b){const _0x33d5a1=a0_0x36fc91;return await this['waMonitor'][_0x33d5a1(0x543)][_0x1ecb5e[_0x33d5a1(0x3af)]][_0x33d5a1(0x215)](_0x18920b);}async[a0_0x36fc91(0x380)](_0x5dfbfd,_0x3c77f7){const _0x345a6f=a0_0x36fc91;return await this[_0x345a6f(0x123)][_0x345a6f(0x543)][_0x5dfbfd[_0x345a6f(0x3af)]]['leaveGroup'](_0x3c77f7);}},Yt=class{constructor(_0x3eddc2){this['waMonitor']=_0x3eddc2;}[a0_0x36fc91(0x6b4)](_0x13a2fe,_0x222849){const _0x57cfbc=a0_0x36fc91;return this[_0x57cfbc(0x123)][_0x57cfbc(0x543)][_0x13a2fe['instanceName']][_0x57cfbc(0x62e)](_0x222849);}async[a0_0x36fc91(0x757)](_0x20325b){const _0x1dec22=a0_0x36fc91;try{return await this[_0x1dec22(0x123)][_0x1dec22(0x543)][_0x20325b[_0x1dec22(0x3af)]][_0x1dec22(0x55d)]();}catch{return{'enabled':null,'url':''};}}},Vp=new $(a0_0x36fc91(0x51b)),Xt=class{constructor(_0x23a25f){this['waMonitor']=_0x23a25f;}async[a0_0x36fc91(0x5cb)](_0x427cd7,_0x2efc15){const _0x222016=a0_0x36fc91;return await this['waMonitor'][_0x222016(0x543)][_0x427cd7[_0x222016(0x3af)]][_0x222016(0x5cb)](_0x2efc15);}async[a0_0x36fc91(0x69c)](_0x126789){const _0x51b259=a0_0x36fc91;return await this[_0x51b259(0x123)][_0x51b259(0x543)][_0x126789[_0x51b259(0x3af)]]['getScheduleMessage']();}async[a0_0x36fc91(0x2c0)](_0x269406){const _0x577a82=a0_0x36fc91;return await this[_0x577a82(0x123)]['waInstances'][_0x269406[_0x577a82(0x3af)]][_0x577a82(0x2c0)]();}async['getAutomateSystem'](_0x32961a){const _0xba44c1=a0_0x36fc91;return await this[_0xba44c1(0x123)][_0xba44c1(0x543)][_0x32961a[_0xba44c1(0x3af)]][_0xba44c1(0x608)]();}async[a0_0x36fc91(0x388)](_0x5eb99c,_0xe9cefa){const _0x2fd390=a0_0x36fc91;return await this[_0x2fd390(0x123)][_0x2fd390(0x543)][_0x5eb99c[_0x2fd390(0x3af)]][_0x2fd390(0x388)](_0xe9cefa);}async[a0_0x36fc91(0x550)](_0x31ab09,_0x4b918a){const _0x3c3c83=a0_0x36fc91;return await this[_0x3c3c83(0x123)][_0x3c3c83(0x543)][_0x31ab09['instanceName']][_0x3c3c83(0x550)](_0x4b918a);}async[a0_0x36fc91(0x399)](_0x1f5dfd,_0x537e40){const _0x29c066=a0_0x36fc91;return await this[_0x29c066(0x123)][_0x29c066(0x543)][_0x1f5dfd['instanceName']][_0x29c066(0x399)](_0x537e40);}async[a0_0x36fc91(0x5f0)](_0x292622,_0x1b36d4){const _0x308f61=a0_0x36fc91;return await this[_0x308f61(0x123)][_0x308f61(0x543)][_0x292622['instanceName']][_0x308f61(0x5f0)](_0x1b36d4);}async[a0_0x36fc91(0x307)](_0xd43e88,_0x21e1f0){const _0x4a369d=a0_0x36fc91;return await this[_0x4a369d(0x123)]['waInstances'][_0xd43e88[_0x4a369d(0x3af)]][_0x4a369d(0x307)](_0x21e1f0);}async[a0_0x36fc91(0x415)](_0x2e6b75,_0x2b02c4,_0x45a019,_0x111cb4){const _0x5e003c=a0_0x36fc91;return await this[_0x5e003c(0x123)][_0x5e003c(0x543)][_0x2e6b75]['startFlowWebhook'](_0x2b02c4,_0x45a019,_0x111cb4);}async['getConversation'](_0x4b13aa,_0x2c1472){const _0xc27c28=a0_0x36fc91;return await this[_0xc27c28(0x123)][_0xc27c28(0x543)][_0x4b13aa[_0xc27c28(0x3af)]][_0xc27c28(0x6f1)](_0x2c1472);}async[a0_0x36fc91(0x4ac)](_0x2d9c9c,_0x11fd31){const _0xb073d4=a0_0x36fc91;return await this[_0xb073d4(0x123)][_0xb073d4(0x543)][_0x2d9c9c[_0xb073d4(0x3af)]][_0xb073d4(0x4ac)](_0x11fd31);}async[a0_0x36fc91(0x409)](_0x15142a,_0x2eec02){const _0x42ee02=a0_0x36fc91;return await this[_0x42ee02(0x123)][_0x42ee02(0x543)][_0x15142a[_0x42ee02(0x3af)]]['editConversation'](_0x2eec02);}async['deleteConversation'](_0x731785,_0xe8b3c0){const _0x4151b2=a0_0x36fc91;return await this[_0x4151b2(0x123)][_0x4151b2(0x543)][_0x731785[_0x4151b2(0x3af)]][_0x4151b2(0x531)](_0xe8b3c0);}async[a0_0x36fc91(0x4f3)](_0x301dd4,_0x3d13ac){const _0x275aa2=a0_0x36fc91;return await this[_0x275aa2(0x123)]['waInstances'][_0x301dd4['instanceName']][_0x275aa2(0x4f3)](_0x3d13ac[_0x275aa2(0x21f)]);}async[a0_0x36fc91(0x2e9)](_0x50e0df,_0x2faddc,_0x2dc04e){const _0x4c7a88=a0_0x36fc91;return await this['waMonitor']['waInstances'][_0x50e0df[_0x4c7a88(0x3af)]][_0x4c7a88(0x2e9)](_0x2faddc,_0x2dc04e);}async[a0_0x36fc91(0x4ff)](_0x13ce0b,_0x28dc1f,_0x5b7630){const _0x4d2da7=a0_0x36fc91;return await this['waMonitor']['waInstances'][_0x13ce0b[_0x4d2da7(0x3af)]]['editFlow'](_0x28dc1f,_0x5b7630);}async['editFlowBlock'](_0x59a5b8,_0x50bff7){const _0x1b6acf=a0_0x36fc91;return await this[_0x1b6acf(0x123)]['waInstances'][_0x59a5b8[_0x1b6acf(0x3af)]][_0x1b6acf(0x155)](_0x50bff7);}async[a0_0x36fc91(0x4b6)](_0x12e603,_0x1a0d68){const _0xb2d99c=a0_0x36fc91;return await this['waMonitor']['waInstances'][_0x12e603['instanceName']][_0xb2d99c(0x4b6)](_0x1a0d68);}async[a0_0x36fc91(0x482)](_0x105ea5,_0x330edd){const _0x4cfb4c=a0_0x36fc91;return await this['waMonitor'][_0x4cfb4c(0x543)][_0x105ea5[_0x4cfb4c(0x3af)]][_0x4cfb4c(0x482)](_0x330edd);}async[a0_0x36fc91(0x4a3)](_0x51071c,_0x5e79de){const _0x557257=a0_0x36fc91;return await this['waMonitor']['waInstances'][_0x51071c[_0x557257(0x3af)]][_0x557257(0x4a3)](_0x5e79de);}async[a0_0x36fc91(0x3ee)](_0x162dd7,_0x43e74d){const _0x464ae0=a0_0x36fc91;return await this[_0x464ae0(0x123)][_0x464ae0(0x543)][_0x162dd7[_0x464ae0(0x3af)]]['editFlowVaredit'](_0x43e74d);}async['editFlowVariable'](_0x35d9a4,_0xeaa3a4){const _0x3d3091=a0_0x36fc91;return await this['waMonitor'][_0x3d3091(0x543)][_0x35d9a4[_0x3d3091(0x3af)]]['editFlowVariable'](_0xeaa3a4);}async[a0_0x36fc91(0x666)](_0x1cf1eb,_0x3e7916){const _0x57988d=a0_0x36fc91;return await this[_0x57988d(0x123)][_0x57988d(0x543)][_0x1cf1eb[_0x57988d(0x3af)]]['deleteFlow'](_0x3e7916);}async['allFlows'](_0x909632){const _0x1f79a2=a0_0x36fc91;return await this[_0x1f79a2(0x123)]['waInstances'][_0x909632[_0x1f79a2(0x3af)]][_0x1f79a2(0x2ec)]();}},Zt=class{constructor(_0x4c0a34){const _0x26799b=a0_0x36fc91;this[_0x26799b(0x6f8)]=_0x4c0a34;}async[a0_0x36fc91(0x2cb)](_0x190502,_0x1058e2){const _0x2a189d=a0_0x36fc91;return this[_0x2a189d(0x6f8)][_0x2a189d(0x6b4)](_0x190502,_0x1058e2);}async[a0_0x36fc91(0x55d)](_0x29ed28){const _0x45f3ae=a0_0x36fc91;return this[_0x45f3ae(0x6f8)][_0x45f3ae(0x757)](_0x29ed28);}},es=class extends _{constructor(_0x196efa,_0x231725){const _0xd33d58=a0_0x36fc91;super(_0x231725),this[_0xd33d58(0x60c)]=_0x196efa,this['configService']=_0x231725;}async[a0_0x36fc91(0x6b4)](_0x1e271c,_0xd5427b){const _0x7eba7e=a0_0x36fc91;try{return this[_0x7eba7e(0x209)][_0x7eba7e(0x554)]?{'insertCount':(await this[_0x7eba7e(0x60c)][_0x7eba7e(0x23c)]({'_id':_0xd5427b},{..._0x1e271c},{'upsert':!0x0}))[_0x7eba7e(0x5b4)]}:{'insertCount':0x1};}catch(_0x2e24cf){return _0x2e24cf;}}async[a0_0x36fc91(0x807)](_0x5b7a2a){const _0x47e91c=a0_0x36fc91;try{if(this[_0x47e91c(0x209)][_0x47e91c(0x554)]){await this[_0x47e91c(0x60c)][_0x47e91c(0x7b3)]({'_id':_0x5b7a2a});return;}}catch(_0x110d5e){return{'error':_0x110d5e};}}async[a0_0x36fc91(0x757)](_0x599f93){const _0x23dcd4=a0_0x36fc91;try{if(this[_0x23dcd4(0x209)][_0x23dcd4(0x554)])return await this[_0x23dcd4(0x60c)][_0x23dcd4(0x74a)]({'_id':_0x599f93});}catch{return{};}}},ts=class extends _{constructor(_0x5a3979,_0x19874b){const _0x5cb4c6=a0_0x36fc91;super(_0x19874b),this['authModel']=_0x5a3979,this['configService']=_0x19874b,this['auth']=_0x19874b[_0x5cb4c6(0x41a)](_0x5cb4c6(0x154));}async['create'](_0x2d016d,_0xef1970){const _0x2717a8=a0_0x36fc91;try{if(this[_0x2717a8(0x209)][_0x2717a8(0x554)])return{'insertCount':(await this[_0x2717a8(0x421)][_0x2717a8(0x47d)]({'_id':_0xef1970},{'$set':{..._0x2d016d}},{'upsert':!0x0}))[_0x2717a8(0x5b4)]};}catch(_0x4cfba0){return{'error':_0x4cfba0};}}async['updateAll'](_0x2c8c07,_0x2974ba){const _0x1ac349=a0_0x36fc91;try{if(this[_0x1ac349(0x209)][_0x1ac349(0x554)])return{'insertCount':(await this[_0x1ac349(0x421)][_0x1ac349(0x404)](_0x2c8c07,{'$set':_0x2974ba},{'upsert':!0x1}))[_0x1ac349(0x5b4)]};throw new Error(_0x1ac349(0x149));}catch(_0x4e26d8){return{'error':_0x4e26d8};}}async[a0_0x36fc91(0x313)](_0x606cf5){const _0x58febb=a0_0x36fc91;try{if(this['dbSettings'][_0x58febb(0x554)])return{'insertCount':(await this[_0x58febb(0x421)][_0x58febb(0x313)](_0x606cf5))['deletedCount']};throw new Error(_0x58febb(0x3d9));}catch(_0x48455f){return{'error':_0x48455f};}}async[a0_0x36fc91(0x807)](_0x31aa52){const _0x22b12f=a0_0x36fc91;try{if(this[_0x22b12f(0x209)][_0x22b12f(0x554)]){await this[_0x22b12f(0x421)]['deleteOne']({'_id':_0x31aa52});return;}}catch(_0x134c70){return{'error':_0x134c70};}}async[a0_0x36fc91(0x757)](_0x14bedb){const _0x10b4cf=a0_0x36fc91;try{if(this[_0x10b4cf(0x209)][_0x10b4cf(0x554)])return await this[_0x10b4cf(0x421)][_0x10b4cf(0x74a)]({'_id':_0x14bedb});}catch{return{};}}async[a0_0x36fc91(0x30c)](){const _0x578823=a0_0x36fc91;try{if(this['dbSettings'][_0x578823(0x554)])return await this[_0x578823(0x421)][_0x578823(0x757)]();}catch{return[];}}async[a0_0x36fc91(0x819)](_0x7366b8){const _0x3228a7=a0_0x36fc91;try{if(this[_0x3228a7(0x209)][_0x3228a7(0x554)])return await this[_0x3228a7(0x421)]['find'](_0x7366b8);}catch{return[];}}},ss=class extends _{async[a0_0x36fc91(0x7b3)](_0x2f7a30){const _0x26e857=a0_0x36fc91;try{let _0x7d359f=I(_0x2f7a30[_0x26e857(0x3bf)]);return{'deletedCount':(await Me[_0x26e857(0x7b3)](_0x7d359f))[_0x26e857(0x16c)]};}catch(_0x246e14){return{'error':_0x246e14?.['toString']()};}}async['updateOne'](_0x295341,_0xf885da){const _0x4fc6b3=a0_0x36fc91;try{let _0x1fca1a=await Me[_0x4fc6b3(0x660)](_0x295341);return _0x1fca1a?(Object[_0x4fc6b3(0x671)](_0x1fca1a,_0xf885da),await _0x1fca1a[_0x4fc6b3(0x46f)]()):(console[_0x4fc6b3(0x844)](_0x4fc6b3(0x690),_0x295341),null);}catch(_0x1d98d8){return console[_0x4fc6b3(0x844)](_0x4fc6b3(0x6b6),_0x1d98d8),null;}}async['createAndSave'](_0x4189c2){const _0x2df585=a0_0x36fc91;try{return await new Me(_0x4189c2)[_0x2df585(0x46f)]();}catch(_0x5227a5){return console[_0x2df585(0x844)](_0x2df585(0x68b),_0x5227a5),null;}}async['findAll'](_0x5aae2d){const _0x26d550=a0_0x36fc91;try{let _0x7edf97=_0x5aae2d[_0x26d550(0x3bf)]??{};return await Me['find'](_0x7edf97)[_0x26d550(0x344)](_0x5aae2d[_0x26d550(0x344)]??0x0)[_0x26d550(0x5ff)]();}catch(_0x26db0d){return console[_0x26d550(0x844)]('Erro\x20ao\x20buscar\x20fluxos:',_0x26db0d),[];}}async[a0_0x36fc91(0x74a)](_0x1a77ec){const _0x59aa29=a0_0x36fc91;try{let _0x4ee95c=I(_0x1a77ec[_0x59aa29(0x3bf)]);return await Me[_0x59aa29(0x74a)](_0x4ee95c)[_0x59aa29(0x5ff)]();}catch{return null;}}},as=class extends _{['getConversationModelForOwner'](_0x1d11aa){return ya(_0x1d11aa);}async[a0_0x36fc91(0x573)](_0xfae7da){const _0x810cd=a0_0x36fc91;if(_0xfae7da[_0x810cd(0x6eb)]!==0x0)try{return{'insertCount':(await this[_0x810cd(0x487)](_0xfae7da[0x0][_0x810cd(0x3c6)])[_0x810cd(0x80f)]([..._0xfae7da]))['length']};}catch(_0x43968d){return _0x43968d;}}async['delete'](_0x544d8a,_0x19cd86){const _0x45f9ef=a0_0x36fc91;try{let _0x5cb18e=this[_0x45f9ef(0x487)](_0x19cd86),_0x94bca7=I(_0x544d8a[_0x45f9ef(0x3bf)]);return{'deletedCount':(await _0x5cb18e[_0x45f9ef(0x313)](_0x94bca7))['deletedCount']};}catch(_0x2e99ae){return{'error':_0x2e99ae?.['toString']()};}}async['deleteOne'](_0x33a9b3,_0x2692bf){const _0x57dbe1=a0_0x36fc91;try{let _0x495f38=this[_0x57dbe1(0x487)](_0x2692bf),_0x28c4bd=I(_0x33a9b3['where']);return{'deletedCount':(await _0x495f38[_0x57dbe1(0x7b3)](_0x28c4bd))[_0x57dbe1(0x16c)]};}catch(_0xb08f72){return{'error':_0xb08f72?.[_0x57dbe1(0x698)]()};}}async['update'](_0xc1b6e6,_0x272016){const _0xcc5d0e=a0_0x36fc91;try{if(_0xc1b6e6['length']===0x0)return;let _0x46188a=this['getConversationModelForOwner'](_0x272016),_0x5cad80=_0xc1b6e6['map'](_0x387ab3=>({'updateOne':{'filter':{'name':_0x387ab3[_0xcc5d0e(0x10b)],'owner':_0x272016},'update':{..._0x387ab3}}})),{modifiedCount:_0x323ee9}=await _0x46188a[_0xcc5d0e(0x7e2)](_0x5cad80);return{'insertCount':_0x323ee9};}catch{return;}}async[a0_0x36fc91(0x404)](_0x1169aa,_0x410b32,_0x77f212){const _0x1c3c79=a0_0x36fc91;try{return{'modifiedCount':(await this[_0x1c3c79(0x487)](_0x77f212)[_0x1c3c79(0x404)](_0x1169aa,{'$set':_0x410b32})[_0x1c3c79(0x1c4)]())[_0x1c3c79(0x5b4)]};}catch(_0x37115e){return console[_0x1c3c79(0x844)](_0x1c3c79(0x244),_0x37115e),{'error':_0x37115e};}}async[a0_0x36fc91(0x47d)](_0x26f2b5,_0x16b4d3,_0x1707d9){const _0x5572c0=a0_0x36fc91;try{return await this['getConversationModelForOwner'](_0x1707d9)[_0x5572c0(0x754)]({'_id':_0x26f2b5},{'$set':_0x16b4d3},{'new':!0x0,'upsert':!0x0})[_0x5572c0(0x5ff)]();}catch(_0x3693a3){return console['error'](_0x3693a3),null;}}async[a0_0x36fc91(0x757)](_0x489261,_0x18f84a){const _0x3a9e00=a0_0x36fc91;try{return await this[_0x3a9e00(0x487)](_0x18f84a)['find'](_0x489261)[_0x3a9e00(0x790)]({'lastInteraction':-0x1})[_0x3a9e00(0x5ff)]();}catch{return[];}}async[a0_0x36fc91(0x74a)](_0x5d50e3,_0xf1c70d){const _0x1f9bd3=a0_0x36fc91;try{return await this['getConversationModelForOwner'](_0xf1c70d)['findOne']({..._0x5d50e3[_0x1f9bd3(0x3bf)]})['lean']();}catch{return null;}}async[a0_0x36fc91(0x386)](_0x37e09b){const _0x5667d1=a0_0x36fc91;try{return await this['getConversationModelForOwner'](_0x37e09b)[_0x5667d1(0x183)][_0x5667d1(0x19f)](),{'success':!0x0};}catch(_0x4d5484){return console[_0x5667d1(0x844)](_0x4d5484),{'success':!0x1,'error':_0x4d5484};}}},is=class extends _{[a0_0x36fc91(0x805)](_0x2f1d04){return ba(_0x2f1d04);}async[a0_0x36fc91(0x7e2)](_0x17ba57,_0x358b90){const _0xc8d6d9=a0_0x36fc91;try{return await this[_0xc8d6d9(0x805)](_0x358b90)[_0xc8d6d9(0x7e2)](_0x17ba57);}catch(_0x2a4121){return console['error'](_0xc8d6d9(0x713),_0x2a4121),null;}}async['createAndSave'](_0x1209eb,_0x4c6d5c){const _0x472442=a0_0x36fc91;try{let _0x192549=this[_0x472442(0x805)](_0x4c6d5c);return await new _0x192549(_0x1209eb)[_0x472442(0x46f)]();}catch(_0x83df5f){return console[_0x472442(0x844)](_0x472442(0x490),_0x83df5f),null;}}async[a0_0x36fc91(0x7b3)](_0x50025b,_0x109928){const _0x3470b5=a0_0x36fc91;try{return await this['getScheduleMessageModelForOwner'](_0x109928)[_0x3470b5(0x62c)](_0x50025b),{};}catch(_0xeac331){return{'error':_0xeac331?.[_0x3470b5(0x698)]()};}}async[a0_0x36fc91(0x47d)](_0x1029d1,_0x50bac0,_0x412bb7,_0x427445={}){const _0x3ff051=a0_0x36fc91;try{return await this[_0x3ff051(0x805)](_0x412bb7)[_0x3ff051(0x754)](_0x1029d1,_0x50bac0,{..._0x427445,'new':!0x0})[_0x3ff051(0x5ff)]();}catch(_0x2dc77e){return console[_0x3ff051(0x844)](_0x3ff051(0x5cd),_0x2dc77e),null;}}async[a0_0x36fc91(0x55e)](_0xce7dbf,_0x1d4900,_0x39301d){const _0x4c3e50=a0_0x36fc91;try{return await this[_0x4c3e50(0x805)](_0x39301d)[_0x4c3e50(0x67d)](_0xce7dbf,_0x1d4900,{'new':!0x0})[_0x4c3e50(0x5ff)]();}catch(_0x26b4c6){return console[_0x4c3e50(0x844)](_0x4c3e50(0x5cd),_0x26b4c6),null;}}async[a0_0x36fc91(0x757)](_0x224812,_0x302d58){const _0x33785c=a0_0x36fc91;try{return await this[_0x33785c(0x805)](_0x302d58)[_0x33785c(0x757)](_0x224812[_0x33785c(0x3bf)])[_0x33785c(0x344)](_0x224812?.[_0x33785c(0x344)]??0x0)[_0x33785c(0x790)]({'when':0x1})[_0x33785c(0x5ff)]();}catch{return[];}}async['findOne'](_0x290f6c,_0x158ac6){const _0x109855=a0_0x36fc91;try{return await this[_0x109855(0x805)](_0x158ac6)[_0x109855(0x74a)](_0x290f6c[_0x109855(0x3bf)])[_0x109855(0x790)]({'when':0x1})['lean']();}catch{return null;}}async['findById'](_0x4511d4,_0x25c394){const _0x5cec07=a0_0x36fc91;try{return await this[_0x5cec07(0x805)](_0x25c394)[_0x5cec07(0x660)](_0x4511d4)[_0x5cec07(0x5ff)]();}catch{return null;}}async['deleteMany'](_0x45f083,_0x9855af){const _0x4ca2ed=a0_0x36fc91;try{return{'deletedCount':(await this[_0x4ca2ed(0x805)](_0x9855af)['deleteMany'](_0x45f083))[_0x4ca2ed(0x16c)]};}catch(_0x196038){return console[_0x4ca2ed(0x844)]('Erro\x20ao\x20deletar\x20mensagens:',_0x196038),{'error':_0x196038};}}async[a0_0x36fc91(0x386)](_0x3fcbe9){const _0x5004a5=a0_0x36fc91;try{return await this['getScheduleMessageModelForOwner'](_0x3fcbe9)[_0x5004a5(0x183)]['drop'](),{'success':!0x0};}catch(_0x5ed13b){return console[_0x5004a5(0x844)](_0x5ed13b),{'success':!0x1,'error':_0x5ed13b};}}},os=class extends _{async[a0_0x36fc91(0x3d8)](_0x4c4496,_0x1921ab){const _0x457adc=a0_0x36fc91;try{if(this['dbSettings']['ENABLED'])return await Ie['findOneAndUpdate']({'_id':_0x1921ab},{'$set':_0x4c4496},{'new':!0x0});}catch(_0x33f46d){throw console[_0x457adc(0x844)](_0x457adc(0x812),_0x33f46d),_0x33f46d;}}async['findOrCreate'](_0x1b4cf4){const _0x2639de=a0_0x36fc91;try{let _0xa960a=await Ie[_0x2639de(0x660)](_0x1b4cf4);return _0xa960a?_0xa960a[_0x2639de(0x285)]||(_0xa960a[_0x2639de(0x285)]=[],await _0xa960a['save']()):(_0xa960a=new Ie({'_id':_0x1b4cf4,'autoCompleteMessages':[]}),await _0xa960a[_0x2639de(0x46f)]()),_0xa960a;}catch(_0x5bb6fe){return _0x5bb6fe['code']===0x2af8&&_0x5bb6fe['keyPattern']&&_0x5bb6fe[_0x2639de(0x2ce)]['autoCompleteMessages.command']?(console[_0x2639de(0x844)]('Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...'),await Ie['collection'][_0x2639de(0x2ab)]('autoCompleteMessages.command_1'),null):(console['error'](_0x2639de(0x26c),_0x5bb6fe),null);}}},Fo=new $(a0_0x36fc91(0x428)),Uo=new Ke(S),jo=new qt(S),Jo=new rt(S),qo=new Vt(aa,S),Vo=new es(da,S),Go=new ts(ca,S),Bo=new ve(Be,S),Wo=new ss(S),zo=new Gt(S),Ho=new as(S),Ko=new is(S),Qo=new os(S),me=new ze(Uo,jo,Jo,qo,Vo,Go,Bo,Wo,Ho,zo,Ko,Qo,R?.[a0_0x36fc91(0x49d)]()),G=new Jt(hs,S,me),Yo=new Kt(S,G,me),Xo=new Yt(G),$s=new Zt(Xo),O=new Xt(G),ue=new zt(G,S,me,hs,Yo),B=new Ht(G),P=new Bt(G),q=new Qt(G);Fo[a0_0x36fc91(0x707)]('Module\x20-\x20ON');var rg=require(a0_0x36fc91(0x78a)),Fs=require('fs'),Di=A(require('https')),Pi=A(require('http')),Ue=class u{static #e;static set[a0_0x36fc91(0x2e1)](_0x5231d1){this.#e=_0x5231d1;}static get[a0_0x36fc91(0x56e)](){const _0x33c026=a0_0x36fc91;let {FULLCHAIN:_0x1c79cd,PRIVKEY:_0x13d335}=S[_0x33c026(0x41a)](_0x33c026(0x6ea));return Di[_0x33c026(0x575)]({'cert':(0x0,Fs[_0x33c026(0x58e)])(_0x1c79cd),'key':(0x0,Fs['readFileSync'])(_0x13d335)},u.#e);}static get[a0_0x36fc91(0x5e9)](){const _0x3ade40=a0_0x36fc91;return Pi[_0x3ade40(0x575)](u.#e);}},je=A(require('fs')),Ji=A(require(a0_0x36fc91(0x145))),Je=A(require(a0_0x36fc91(0x19a))),ns=A(require(a0_0x36fc91(0x860))),rs=require(a0_0x36fc91(0x51d));function Zo(){const _0x4d53a6=a0_0x36fc91;G['loadInstance']();let _0x40f174=ns[_0x4d53a6(0x361)][_0x4d53a6(0x1f8)](__dirname,_0x4d53a6(0x134));ji(_0x40f174);}var ji=_0x2ccfee=>{const _0x4d67bd=a0_0x36fc91;let _0x4bc7a6=je[_0x4d67bd(0x361)][_0x4d67bd(0x83a)](_0x2ccfee),_0x45b10c=0xc*0x3c*0x3c*0x3e8,_0x556a7d=0x2*0x3c*0x3c*0x3e8,_0x34cd63=new Date()[_0x4d67bd(0x372)]();_0x4bc7a6[_0x4d67bd(0x12c)](_0x399982=>{const _0x24ced5=_0x4d67bd;let _0x338ded=ns[_0x24ced5(0x361)][_0x24ced5(0x1f8)](_0x2ccfee,_0x399982),_0x6b5c8=je[_0x24ced5(0x361)][_0x24ced5(0x458)](_0x338ded)[_0x24ced5(0x7c6)]['getTime']();_0x34cd63-_0x6b5c8>_0x45b10c&&(je['default']['unlinkSync'](_0x338ded),console[_0x24ced5(0x83e)](_0x24ced5(0x216)+_0x399982));}),setTimeout(()=>ji(_0x2ccfee),_0x556a7d);};function er(){const _0x281e3c=a0_0x36fc91;let _0x1f674f=new $(_0x281e3c(0x854)),_0xa2edc9=(0x0,we['default'])();_0xa2edc9[_0x281e3c(0x7c7)]((0x0,Ui[_0x281e3c(0x361)])({'origin'(_0x39a6f1,_0x3e5d86){const _0x23fd2e=_0x281e3c;let {ORIGIN:_0x4258b2}=S[_0x23fd2e(0x41a)](_0x23fd2e(0x6fb));return _0x39a6f1||(_0x39a6f1='*'),_0x4258b2[_0x23fd2e(0x1b6)]('*')!==-0x1||_0x4258b2[_0x23fd2e(0x1b6)](_0x39a6f1)!==-0x1?_0x3e5d86(null,!0x0):_0x3e5d86(new Error(_0x23fd2e(0x277)));},'methods':[...S[_0x281e3c(0x41a)](_0x281e3c(0x6fb))[_0x281e3c(0x580)]],'credentials':S[_0x281e3c(0x41a)](_0x281e3c(0x6fb))[_0x281e3c(0x559)]}),(0x0,we[_0x281e3c(0x2ac)])({'extended':!0x0,'limit':'50mb'}),(0x0,we[_0x281e3c(0x6ba)])({'limit':_0x281e3c(0x2bc)})),_0xa2edc9['use']((_0x471d1c,_0x17bdc2,_0x4308bd)=>{const _0x24c874=_0x281e3c;_0x471d1c[_0x24c874(0x860)]['startsWith'](_0x24c874(0x63c))?_0x4308bd():(0x0,Fi['default'])()(_0x471d1c,_0x17bdc2,_0x4308bd);}),_0xa2edc9[_0x281e3c(0x6f3)](_0x281e3c(0x25c),_0x281e3c(0x82d)),_0xa2edc9[_0x281e3c(0x6f3)](_0x281e3c(0x79e),(0x0,js['join'])(ne,_0x281e3c(0x79e))),_0xa2edc9[_0x281e3c(0x7c7)](we['default'][_0x281e3c(0x58d)]((0x0,js[_0x281e3c(0x1f8)])(ne,_0x281e3c(0x79a)))),_0xa2edc9['use']((_0x45b701,_0x4bd2ec,_0x3936fb)=>{const _0x42bf0f=_0x281e3c;let _0x4a1d43=_0x4bd2ec[_0x42bf0f(0x727)];_0x4bd2ec['send']=function(_0x1523b9){const _0x644378=_0x42bf0f;if(_0x45b701['query'][_0x644378(0x84a)]==='true'||_0x45b701[_0x644378(0x2f1)][_0x644378(0x2b0)]===_0x644378(0x480)){let _0x4c4a12=JSON[_0x644378(0x63f)](_0x1523b9);_0x1523b9=JSON['stringify'](_0x46995f(_0x4c4a12));}return _0x4a1d43[_0x644378(0x658)](_0x4bd2ec,[_0x1523b9]);},_0x3936fb();}),_0xa2edc9['use']('/',ke),_0xa2edc9[_0x281e3c(0x7c7)]((_0x22ad64,_0x2eff86,_0x32deab,_0x4541f7)=>{const _0x3245ca=_0x281e3c;if(_0x22ad64)return _0x32deab[_0x3245ca(0x166)](_0x22ad64[_0x3245ca(0x166)]||0x1f4)[_0x3245ca(0x6ba)](_0x22ad64);},(_0x40ef55,_0x150c0b,_0x3683b2)=>{const _0x533824=_0x281e3c;let {method:_0x3ce2f4,url:_0x283fe1}=_0x40ef55;_0x150c0b[_0x533824(0x166)](0x194)[_0x533824(0x6ba)]({'status':0x194,'message':_0x533824(0x362)+_0x3ce2f4[_0x533824(0x15e)]()+'\x20'+_0x283fe1,'error':_0x533824(0x258)}),_0x3683b2();});let _0x46995f=(_0x49adef,_0x155c8a=_0x281e3c(0x37f))=>{const _0x5a630f=_0x281e3c;let _0x56b0f9=(_0x5575f8,_0x5cc9d7=null,_0x33f5d6=!0x1)=>{const _0x3d6a6b=a0_0x19ac;let _0x3dad1f={};return Object[_0x3d6a6b(0x448)](_0x5575f8)[_0x3d6a6b(0x12c)](_0xbbd2da=>{const _0x4cff62=_0x3d6a6b;let _0x1fd2a8=_0x5575f8[_0xbbd2da],_0x1b09eb=''+_0x155c8a+_0xbbd2da;_0x5cc9d7&&!_0x33f5d6&&(_0x1b09eb=_0x5cc9d7+'.'+_0xbbd2da),!_0x1fd2a8&&_0x1fd2a8!==0x0&&_0x1fd2a8!==!0x1||typeof _0x1fd2a8>'u'?_0x3dad1f[_0x1b09eb]=null:typeof _0x1fd2a8!=_0x4cff62(0x733)&&!Array['isArray'](_0x1fd2a8)?_0x3dad1f[_0x1b09eb]=_0x1fd2a8:typeof _0x1fd2a8=='object'&&!Array['isArray'](_0x1fd2a8)?_0x3dad1f=Object[_0x4cff62(0x671)](_0x3dad1f,_0x56b0f9(_0x1fd2a8,_0x1b09eb)):Array['isArray'](_0x1fd2a8)&&(typeof _0x1fd2a8[0x0]==_0x4cff62(0x733)?(_0x3dad1f[_0x1b09eb]=[],_0x1fd2a8[_0x4cff62(0x12c)](_0x36c7e1=>{const _0x35c45a=_0x4cff62;_0x3dad1f[_0x1b09eb][_0x35c45a(0x871)](_0x56b0f9(_0x36c7e1,_0x1b09eb,!0x0));})):_0x3dad1f[_0x1b09eb]=_0x1fd2a8);}),_0x3dad1f;};return Array[_0x5a630f(0x484)](_0x49adef)?_0x49adef[_0x5a630f(0x71e)](_0x7c8daa=>_0x56b0f9(_0x7c8daa)):typeof _0x49adef=='object'&&_0x49adef!==null?_0x56b0f9(_0x49adef):{};},_0x1b732d=S[_0x281e3c(0x41a)](_0x281e3c(0x854));Ue[_0x281e3c(0x2e1)]=_0xa2edc9;let _0x584d8c=Ue[_0x1b732d[_0x281e3c(0x7e1)]],_0xbd2a2d=_0x281e3c(0x322);_0x584d8c[_0x281e3c(0x3ab)](_0x1b732d[_0x281e3c(0x577)],()=>{const _0x282486=_0x281e3c;_0x1f674f[_0x282486(0x83e)](_0xbd2a2d),_0x1f674f[_0x282486(0x83e)](_0x1b732d['TYPE'][_0x282486(0x15e)]()+_0x282486(0x767)+_0x1b732d[_0x282486(0x577)]);}),Zo(),Ys();}var tr='https://github.com/uazapi/uazapi.git',sr=ns[a0_0x36fc91(0x361)][a0_0x36fc91(0x1f8)](__dirname,'./.git/config'),Re=null;function ar(){return new Promise((_0x5372b8,_0x1d7493)=>{const _0x34cf85=a0_0x19ac;je[_0x34cf85(0x361)][_0x34cf85(0x5e3)](sr,_0x34cf85(0x6ab),(_0x38fc7f,_0x5533cb)=>{const _0x1ec562=_0x34cf85;if(_0x38fc7f){Re=_0x38fc7f,_0x5372b8();return;}Ji[_0x1ec562(0x361)][_0x1ec562(0x63f)](_0x5533cb)[_0x1ec562(0x7da)][_0x1ec562(0x79d)]===tr?(Re=null,_0x5372b8()):(Re=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x5372b8());});});}async function ir(){const _0x1f85f0=a0_0x36fc91;try{await ar(),await Js();}catch(_0x2543f9){console[_0x1f85f0(0x844)](_0x1f85f0(0x5a6)+_0x2543f9),process[_0x1f85f0(0x298)](0x1);}}ir();async function qi(){const _0xe647b7=a0_0x36fc91;let _0x170f85;try{_0x170f85=(await Je[_0xe647b7(0x361)][_0xe647b7(0x41a)](_0xe647b7(0x52a)))[_0xe647b7(0x3ff)]['ip'];}catch(_0xb651ac){console[_0xe647b7(0x844)](_0xb651ac);try{_0x170f85=(await Je[_0xe647b7(0x361)][_0xe647b7(0x41a)]('https://api.ipify.org?format=json'))[_0xe647b7(0x3ff)]['ip'];}catch(_0xe471dc){console[_0xe647b7(0x844)](_0xe471dc);try{_0x170f85=(await Je[_0xe647b7(0x361)][_0xe647b7(0x41a)](_0xe647b7(0x213)))[_0xe647b7(0x3ff)][_0xe647b7(0x1db)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0xa4158b){return console[_0xe647b7(0x844)](_0xa4158b),!0x1;}}}return _0x170f85;}var ki=0x0;async function or(){const _0x495ff2=a0_0x36fc91;let _0x1ef6ac=await new de(S['get'](_0x495ff2(0x231)))[_0x495ff2(0x2db)]();return console[_0x495ff2(0x83e)](_0x495ff2(0x3cd),_0x1ef6ac[_0x495ff2(0x6eb)]),_0x1ef6ac[_0x495ff2(0x6eb)];}function rr(_0x53f28b){const _0x13180e=a0_0x36fc91;let _0x2fbff1=_0x53f28b['get'](_0x13180e(0x854))['URL'],_0x2053bf=_0x53f28b[_0x13180e(0x41a)](_0x13180e(0x6ea));console['log'](_0x13180e(0x5ef),_0x2fbff1),console[_0x13180e(0x83e)](_0x13180e(0x2c5),_0x2053bf);let _0x3022c0='',_0x508bb2=_0x2fbff1||'';if(_0x2fbff1){let _0x1c8dca=_0x2fbff1[_0x13180e(0x1db)](/\/\/(.*?)\./);console['log'](_0x13180e(0x81e),_0x1c8dca),_0x1c8dca&&_0x1c8dca[0x1]&&(_0x3022c0=_0x1c8dca[0x1],console['log']('Subdomínio\x20extraído\x20da\x20URL:',_0x3022c0));}if(!_0x3022c0&&_0x2053bf&&_0x2053bf[_0x13180e(0x437)]){let _0x1f2e3c=_0x2053bf['FULLCHAIN'][_0x13180e(0x599)]('/');console[_0x13180e(0x83e)](_0x13180e(0x607),_0x1f2e3c);let _0x4d0734=_0x1f2e3c[_0x1f2e3c['length']-0x2];if(console[_0x13180e(0x83e)](_0x13180e(0x222),_0x4d0734),_0x4d0734){let _0x151a63=_0x4d0734['split']('.');console[_0x13180e(0x83e)](_0x13180e(0x34e),_0x151a63),_0x151a63[_0x13180e(0x6eb)]>0x2&&(_0x3022c0=_0x151a63[0x0],console[_0x13180e(0x83e)](_0x13180e(0x35a),_0x3022c0),_0x508bb2=''+_0x4d0734);}}return{'subdomain':_0x3022c0||_0x13180e(0x46a),'fullURL':_0x508bb2||_0x13180e(0x180)};}var {subdomain:W,fullURL:qs}=rr(S);console['log'](a0_0x36fc91(0x326),W),console[a0_0x36fc91(0x83e)](a0_0x36fc91(0x315),qs);async function nr(){const _0x1f4eda=a0_0x36fc91;let _0xdb76ed=S[_0x1f4eda(0x41a)](_0x1f4eda(0x231)),_0xd80562=S[_0x1f4eda(0x41a)](_0x1f4eda(0x154))[_0x1f4eda(0x7d5)]['KEY'],_0x17c3b1=S[_0x1f4eda(0x41a)](_0x1f4eda(0x6ea)),_0x2a28d5=await qi(),_0x353845=S['get'](_0x1f4eda(0x854))['PORT'],_0x36c329=qs;try{let _0x25698c={'ip':_0x2a28d5||null,'redis_enable':_0xdb76ed?.[_0x1f4eda(0x554)]||null,'apikey':_0xd80562||null,'ssl':_0x17c3b1?.['PRIVKEY']||null,'lastupdate':Vi||null,'port':_0x353845||null,'gitInstallError':Re?.[_0x1f4eda(0x142)]||null,'url':_0x36c329||null,'subdomain':W};if(console[_0x1f4eda(0x83e)](_0x1f4eda(0x2fa),_0x25698c['ip']),_0xdb76ed&&_0xdb76ed[_0x1f4eda(0x554)]){let _0xe87a6d=await or();_0x25698c['instanceCount']=_0xe87a6d||null;}for(let _0x32ca22 in _0x25698c)_0x25698c['hasOwnProperty'](_0x32ca22)&&_0x32ca22!=='ip'&&(_0x25698c[_0x32ca22]=JSON[_0x1f4eda(0x3ef)](_0x25698c[_0x32ca22]));return(await Je['default']['post'](_0x1f4eda(0x44b),_0x25698c))[_0x1f4eda(0x3ff)];}catch(_0x49e766){return console[_0x1f4eda(0x844)](_0x49e766),!0x1;}}function a0_0x5f5d(){const _0x247fed=['class-validator','Mensagens\x20deletadas\x20com\x20sucesso.','Retornando\x20grupos\x20COM\x20cache','p-queue','upsertedCount','documentWithCaptionMessage','pollCreationMessageV3','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','copyBlock','API_KEY','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','shareOwners','Error\x20finding\x20many\x20contacts:','processvaredits','remote\x20\x22origin\x22','process','decryptPollVote','updateGParticipant','Subscribed\x20Events:','Not\x20is\x20business\x20profile','contactsArrayMessage','TYPE','bulkWrite','linkPreview','editOperator','https://v6.ident.me','noConnection','):\x20Procurando\x20mensagens\x20para\x20envio','IPv6\x20address\x20configured:\x20','PRODUCT_LIST','getContentType','equal','preview',',\x20isAdmin:\x20','#ffffff','instance','mongodb','request\x20received\x20in\x20editFlow','Rótulo\x20deletado:\x27,\x20','removeProfilePicture','Error\x20parsing\x20JSON:','lastReceivedMessage','Error\x20in\x20chatModify\x20for\x20number\x20','https://chat.whatsapp.com/','SSL_CONF_PRIVKEY','command','EMAIL','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','less','unlinkSync','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','write','\x1b[33m','Detalhes\x20do\x20erro:','binary','sendPresenceUpdate','/chat','getScheduleMessageModelForOwner','createJid','delete','lastCondition','/instance/connect','createIPv6','PENDING','.type','next_groupId','loggedOut','insertMany','Flow\x20\x27','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','Erro\x20ao\x20atualizar\x20AutomateSystem:','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','processScheduleFlow','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','wuid','groupJid','changeVariables','findMany','delayChatLabel_RETRY_DELAY_MS','https://api64.ipify.org?format=json','Data\x20inválida\x20fornecida','ObjectId','Resultado\x20da\x20correspondência\x20de\x20URL:','getMinutes','StatusJidList\x20is\x20required','trim','redisEnv','_Messages','):\x20[messages.update]\x20group\x20ignored','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','inet6','Types','deleteflow','node-cache','#9568cf','/*.json','conditions','hbs','ephemeralExpiration','pollUpdateMessage','\x0aitem','contact','variable','out',',\x20pairCode:\x20','sectionsToString','Forbidden','findManyByIds','quoted','EMAIL:','readdirSync','app-state-sync-key','delAll','.ogg','log','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','/webhook','9dBhlnn','labels.edit','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','error','ip\x20-br\x20link\x20show','updateMissingTags','unavailable','saveMediaToFile','dbClient','convert','Message','backgroundColor','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','contactMessage','toNumber','client','Erro\x20ao\x20aplicar\x20varedit:\x20','\x1b[32m','GROUPS_UPSERT','SERVER','verbose','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','sha256','status@broadcast','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','removeUnusedChatFields','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','writeFile','):\x20Editando\x20condição\x20do\x20fluxo...','):\x20Criando\x20fluxo...','path','findMessages','groupSetting','Erro\x20ao\x20buscar\x20Schedule\x20Messages','ephemeralMessage','DATABASE_CONNECTION_PASSWORD','flowConfig','lastRealGroupsFetch','fetchInstances','some','/wa-contacts','lastSend','MESSAGES_UPSERT','replaceVariablesChat','editFlowVariable','Esse\x20fluxo\x20expirou','normalizeMessageContent','push','/wa-qrcode','joinGroupValidate','Imagem\x20não\x20encontrada','remove.instance','^\x5cd+([-]\x5cd+)*@g.us$','name','deleteBlock','updateMissingCustomFields','fileUrl','basename','getBusinessProfile','toFile','utf8','from','uazapiSendContact','DATABASE_CONNECTION_HOST','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','beautifyWithPlaceholders','):Business\x20profile\x20fetched','):\x20Current\x20Time:\x20','phoneNumber','block','flattenObject','eventEmitter','getOwnPropertyNames','request\x20body:\x20','https://','chats.upsert','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','waMonitor','JWT','filter','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20Editando\x20mensagens\x20no\x20grupo...','getVariablesChat','audio/ogg;\x20codecs=opus','readreceipts','beforeExit','forEach','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','AutomateSystem\x20não\x20foi\x20inicializado','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','userDevicesCache','sendLocation','Invalid\x20format','replaceVariablesInObject','downloads','font','PREFIX_KEY','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped','[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','\x20contacts','REDIS_URI','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','Erro\x20ao\x20copiar\x20o\x20documento','close','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','hex','lastSendMessage','message','every','ipv6Prefix','ini','instance.','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','\x1b[34m','Database\x20is\x20not\x20enabled','ScheduleMessageModel','\x1b[42m','lastUpdate','):\x20ev.flush\x20realizado','nomecompleto','fetchMessages','CHATS_UPSERT','Network\x20interfaces\x20detected:\x20','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','/64\x20dev\x20','AUTHENTICATION','editFlowBlock','stopConversation','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','creds','webhook','redis://127.0.0.1:6379','notEqual','joinGroup','superadmin','toUpperCase','dbConnection','mediatype','result','CONTACTS_UPDATE','#000000','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','Db\x20Connection','status','licenca','events','replaceVariablesInReplyOptions','Erro\x20ao\x20editar\x20agentes','):\x20debug\x20alterando\x20this.AutomateSystem','deletedCount','ERROR','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','messageSecret','restrict','demote','\x1b[33m%s\x1b[0m','checkAndRestartProcess','startCommand','everyOne','):Converted\x20image\x20deleted','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','sendList','):\x20Flow\x20\x27','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','contact_blacklist','username','remove','lastInteraction','replyOption','URL\x20não\x20disponível','model','):Audio\x20processed','collection','setUpdate','):\x20Query\x20params:','isValidAndUniqueIPv6','add','encoding','API\x20Key\x20inválida.',',\x20Segundo\x20Valor:\x20','onWhatsApp','jsonschema','apikey','):Image\x20path:\x20','LEVEL','ephemeralDuration','):\x20Bloco\x20original\x20para\x20cópia:\x20','Erro\x20ao\x20atualizar\x20agendamento\x20','not\x20loaded','folder','success','gifPlayback','abs','USER','testingWith','axios','\x20quoted:\x20','#64c4ff','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','drop','console','order','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','createHash','bearer','):\x20Conversa\x20inserida\x20com\x20sucesso.','?timestamp=','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','telefone','connectionClosed','chat','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','media','Enter\x20a\x20value\x20in\x20milliseconds','.mp4','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','_activedCount','groupFetchAllParticipating','mediaMessage','goNextblock','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','ip\x20-6\x20addr\x20del\x20','indexOf','\x20tentativas.','.pdf','reaction','created','createflow','docker','bodyStringErrorParse','Nenhum\x20chat\x20encontrado\x20para\x20editar.','editflowvariable','Usando\x20IP\x20existente:\x20','crypto','stderr','mimetype','exec','):Audio\x20converted\x20and\x20stored\x20in\x20cache','Rótulo\x20inválido\x20ou\x20sem\x20ID.','context','qrcode','groupHandler','):Notifying\x20clients\x20for\x20chat:\x20','getMIMEType','instances','Button\x20texts\x20cannot\x20be\x20repeated','archiveChat','setHeader','off','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','REDIS_PREFIX_KEY','pendingMessages','__esModule','Atualização:\x20','Erro\x20de\x20atualização:\x20','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','groupMetadata','Erro\x20ao\x20editar\x20o\x20chat','):\x20whoCanUse\x20before\x20validation:\x20','match','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','\x20\x1b[0m','sendStatus','_FlowHistorico','ChatRouter','authState','leadInfo','useMultiFileAuthState','sendContact','presenceSubscribe','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','envYaml','.xls','cpf','archive','delayMessage','DELETED','):\x20Deletando\x20mensagem','subject','type','goToFlow','contains','label','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','addresss','isInteger','user','join','messageHandle','Configured\x20IPv6:\x20','createGroup','optionName','\x22reaction\x22\x20must\x20be\x20an\x20emoji','):\x20Editando\x20edição\x20do\x20fluxo...','format','last_update','IPv6\x20addresses\x20detected:\x20','.xlsx','Valor\x20de\x20find\x20ou\x20replace\x20ausente','#f64847','updatePresence','hGetAll','longitude','normalizeMessage','dbSettings','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','):\x20tem\x20blocks','approve','Fluxo\x20id\x20\x27','request\x20received\x20in\x20updateCustomFields','\x20foi\x20interrompido\x20pelo\x20usuário.','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','whoCanEdit','updateGroupWebhook','http://checkip.dyndns.org','):\x20Entrou\x20na\x20função\x20clearVariables','toggleEphemeral','Deleted\x20','pollCreationMessageV2','/media/','atendimentoAberto','BufferJSON','messaging-history.set','HH:mm:ss','STORE_CLEANING_TERMINAL','quotedMessage','_id','request\x20received\x20in\x20allFlows','):\x20atualização\x20chat:\x20','Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:','ex:\x20\x22groupJid=120362@g.us\x22','#ffae04','random','deleted','imgUrl','replaceVariables','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','EXPIRIN_IN','includes','CONTACTS_SET','Request\x20Body:','src','):\x20Alterando\x20fluxo...','/create','REDIS','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','stack','groupdata.participants','findFlow','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','instanceInfo','upsertChats','prepareMediaMessage','promote','firstValue','replaceOne','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','fullName','Erro\x20ao\x20alterar\x20privacidade','WebhookGlobal','.jwt','updateStatusPrivacy','muteEndTime','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','retrySendMessage','This\x20name\x20','value','SendScheduleMessage','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','getContactModelForOwner','\x20:\x20','readMessages','generate','):\x20Enviando\x20contato','notMatchRegex','processConditionsTest','imported','):Processing\x20audio','Tentando\x20reconectar...','storePath','pairingCode','configService','READ','Not\x20Found','remoteJids','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','rowId','view\x20engine','):\x20Enviando\x20mídia','The\x20instance\x20needs\x20to\x20be\x20disconnected','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','\x22\x20cannot\x20be\x20empty','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','scheduleSendText','Database\x20update\x20result:','#92ceac','contentText','STORE','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','):\x20transformedCustomFieldVariables','role','DATABASE','/wa-message-update','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','finish','flowPrefixCommand','#83e421','fetchProfilePicture','InstancesAlterarTodas','The\x20global\x20api\x20key\x20must\x20be\x20set','\x5c$&','collections','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','content','Not\x20allowed\x20by\x20CORS','removeChatLabel','$addToSet','min','replyOptions','\x20-y','website','sendMessageWithTyping','DATABASE_ENABLED','getMessage','unreadcount','):\x20Entrou\x20na\x20função\x20goToFlow','responsavelid','request\x20received\x20in\x20deleteDoneMessages','autoCompleteMessages','INFO','getflow','selectableCount','updateProfileName','fetchProfile','Font\x20is\x20required','buttonId','groups_ignore','Button\x20IDs\x20cannot\x20be\x20repeated.','stopped','cors','Erro\x20ao\x20importar\x20chats','subjectTime','.X-ABLabel:Celular\x0a','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','):\x20Grupo\x20','):\x20não\x20encontrou','groupSettingUpdate','exit','groupRevokeInvite','convertToWebP','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','/wa-message','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','errors',',\x20Comparador:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','findGroupInfo','video','):Delete\x20chat','formatBRNumber','\x20não\x20encontrado\x20para\x20atualização.','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','addBlock','slice','queue','dropIndex','urlencoded','clearVariables','):\x20Editando\x20replyOption...','logout','uazapi','removeIPv6','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','getAllData','presence','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','PRESENCE_UPDATE','displayName','AppStateSyncKeyData','pm2\x20flush','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','StartID:','50mb','):\x20Removendo\x20\x27','\x20minutos.\x20Será\x20às\x20','announcement','deleteDoneMessages','string','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','flowConversation','enabled','Configuração\x20SSL\x20recuperada:','QRCODE_UPDATED','/automate','match_last_seen','randomBytes','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','createWebhook','):Hash\x20to\x20image\x20name:\x20','no-cache','keyPattern','\x20inseridos\x20no\x20banco\x20de\x20dados...','SEND_MESSAGE','PLAYED','$dbName','\x20minutos','*\x0a\x0a','Instance\x20logged\x20out','whatsappNumbers','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','):\x20Conversa\x20atualizada\x20em\x20memória','secondValue','removeData','instanceKeys','ListMessage','):\x20Rótulo\x20atualizado:\x20','):\x20Bloco\x20com\x20ID\x20','webp','toBRL','app','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','removeIPv6ById','):\x20Query\x20params:\x20','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','endSession','messageType','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','createFlow','messages','verifyWhatsAppNumber','allFlows','Fluxos\x20não\x20estão\x20ativados','logger','fetchContacts','menuExpiredMessage','headers','scheduleNextCheck','pollErrorMessage','requestPairingCode','\x20ao\x20chat\x20','findOrCreate','isJidBroadcast','messageStubParameters','):\x20Iniciando\x20bot...','ip:\x20','\x1b[40m','leadInfo.desativadoFluxoAte','cwd','poll','SINGLE_SELECT','DOCKER_ENV','DATABASE_CONNECTION_DB_PREFIX_NAME','sending','Erro\x20ao\x20buscar\x20a\x20conversa','Database\x20connection\x20closed.','request\x20received\x20in\x20getConversation','blockId','startFlow','hasOwnProperty','Fluxo\x20não\x20encontrado\x20na\x20memória.','expression','loadWebhook','findAll','Cache\x20instance\x20update\x20result:\x20','/events/:instance','):\x20isVote:\x20','warn','):\x20Going\x20to\x20','Logger','deleteMany','configureIPv6','URL\x20completa:','\x5cd+','):\x20Conversa\x20está\x20expirada\x20-\x20voto','audioWhatsapp','Erro\x20ao\x20arquivar\x20chat','):\x20whoCanEdit\x20before\x20validation:\x20','realVariables','#9ab6c1','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','initializeQueue','processConditions','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','variables','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','):\x20Criou\x20conversa\x20no\x20startFlow','Subdomínio\x20final:','when','subjectOwner','flows','variablesToObject',',\x20valor\x20passado:\x20\x22','messageContextInfo','):\x20Falha\x20ao\x20deletar\x20mensagem.','Erro\x20ao\x20substituir\x20variáveis\x20para\x20',',\x20received\x20','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','globalShow','pop','.ogv','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','):\x20this.client.authState.creds?.myAppStateKeyId:\x20','arrayUnique','\x27...','menuType','STORE_MESSAGE','fetchStatus','toLocaleString','IPv6\x20Prefix\x20detected:\x20','CORS_ORIGIN','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','state','https://api.elevenlabs.io/v1/text-to-speech/','apirequest','charAt','dropCollection','limit','done','substring','#56ccb4','processUazapi','):\x20leadInfoVariables','):\x20Error\x20processing\x20conditions:\x20','contacts.upsert','updateBlock','processgoToFlow','Partes\x20do\x20domínio:','sharePass','https://uazapi-plugin.bubbleapps.io/','reorderBlocks','/instance/fetchInstances','padEnd','reconnectTimestamps','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','CONTACTS_UPSERT','qrCode','updateChatGroupData','fora\x20do\x20git','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','greater','groupUpdateDescription','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.','envProcess','):\x20Entrou\x20na\x20função\x20scheduleFlow','groups.upsert','default','Cannot\x20','list','connectionUpdate','extractRegex','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','mediaKey','startsWith','viewOnceMessage','HeaderType','):\x20Fluxo\x20\x27','/group','request\x20received\x20in\x20fetchConversation','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens',',\x20fará\x20nova\x20verificação\x20em\x20','remoteJid','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','getTime','groupRequestParticipantsList','organization','params','Falha\x20ao\x20processar\x20a\x20solicitação','isListOfNumbers','editflow','.\x20Pulando.','isCommunityAnnounce','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','connection.update','empty','getLastMessage','_p_','leaveGroup','padStart','uazapiSendText','Instance\x20\x22','GROUP_PARTICIPANTS_UPDATE','):\x20mediaMessageInfoId\x20:\x20','deleteAll','Erro\x20ao\x20atualizar\x20cacheInstance:','updateAgent','_pushName','Erro\x20ao\x20remover\x20label\x20','BRL','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys','RemoteJid:','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','chats.delete','truncatedtoEnd','editflowvaredit','request\x20received\x20in\x20editFlowvariable',',\x20Minutes\x20to\x20Close:\x20','_Labels','loadInstance','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','):Output\x20path:\x20','updateAutoCompleteMessages','CHATS_SET','@whiskeysockets/baileys','key','SERVER_OFFLINE','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','Last\x20message\x20not\x20found\x20for\x20number:\x20','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','_ScheduleMessages','fetchPrivacySettings','All_Instances_Config','!stop','request\x20received\x20in\x20updateFlowConfig','findGroup','description','updateLastSeenPrivacy','admin_add',',\x20Expiration\x20Time:\x20','listen','shift','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','awaitingApproval','instanceName','Variável\x20não\x20encontrada!','#b4ebff','API\x20Key\x20from\x20Request:','originalUrl','none','urlOrBase64','pushName','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','listType','floor','#dfaef0','OrAnd','URI','textMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','where','prototype','inner','createConversationforStartFlow','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','scheduleSendMedia','owner','digest','participant','triedToSend','Connection','.TEL;waid=','test','instancias:\x20','groupToggleEphemeral','sim','generateRandomIPv6','SUCCESS','$pull','LabelModel','3EB0','whatsappNumber','release','deleteMessageForEveryone','update','[AUTH]\x20Database\x20is\x20not\x20enabled','RECONNECT_TIME_FRAME','varedit','jsonwebtoken','.ppt','Erro\x20ao\x20iniciar\x20fluxo:\x20','groupJoinApprovalMode','):\x20newFirstValue\x20após\x20replaceVariables:','messageTimestamp','\x1b[44m','status.instance','Início','\x20segundos\x20antes\x20de\x20reconectar...','hSet','cacheInstanceRepository','jwt','Error\x20updating\x20message\x20status:','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','convertedOptions','sendMessageAck','Parando\x20aplicação,\x20atualização\x20recebida','editFlowVaredit','stringify','pollMessageOnDelete','pollMessage','Número:\x20','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','ERROR:\x20','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20','fileName','/startFlow/:instance/:startID','Error\x20fetching\x20group','getMessageModelForOwner','saveChatVariables','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','contextInfo','WARN','REDIS_ENABLED','data','getBase64FromMediaMessage','pollCreationMessage','DARK','):Sending\x20audio\x20whatsapp','updateMany','--------------------------------------','setRestartTimeout','put','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','editConversation','writeData','TEL','not_announcement','transformScheduledMessagesByType','ListType','exists','):\x20nextBlock.uazapi.name','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','deviceSentMessage','ReplyOption\x20com\x20ID\x20','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','startFlowWebhook','badSession','repeat','\x20minutos\x20verificará\x20novas\x20mensagens','flow','get','[all]','#d8e651','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','sendDataWebhook','convertaudioMP3','authModel','prepareWAMessageMedia','processPollUpdateMessage','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','interval\x20não\x20é\x20um\x20número','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','4647624XViVGs','WA\x20MODULE','number','query','all','messages.upsert','getDelay','mentioned','variablesNotFound','error_log','groupAcceptInvite','Instância\x20não\x20encontrada.','8869832UapepO','header','dayjs','isURL','FULLCHAIN','chats.update','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','groupLeave','updateConversation','loadEnv','Error\x20updating\x20cache\x20contact:','ip\x20-6\x20addr\x20add\x20','fone','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','request\x20received\x20in\x20deleteFlow','Instance\x20restarted','contactHandle','notContains','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','connectedName','scheduled','keys','latitude','image','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','hGet','timeInMinutes','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','\x27\x20não\x20encontrado','cache','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','\x20segundos','The\x20\x22','Conexão\x20estabelecida','AddUserFlow','URL','address','statSync','isJidGroup','PROXY','and','buffer','The\x20property\x20cannot\x20be\x20empty','labelId','dbInstance','/instance/create','stopIfLastReturnedError','etiquetas','findConversation','_sender','repository','updateParticipant','editedMessage','groupInviteCode','leadInfo.etiquetas','Subdomínio\x20não\x20encontrado','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','vcard','1916lVuaSD','Error\x20writing\x20file:\x20','save','apiResponse','sem\x20texto\x20na\x20mensagem','redis','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','Erro\x20ao\x20buscar\x20o\x20fluxo','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','#6f7bcf','round','buttonText','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','importChats','-whatsapp-api','maxActives','updateOne','\x20-i\x20','email','true','iniciando\x20fluxo\x20router','editFlowGroup','Nenhum\x20participante\x20válido\x20encontrado.','isArray','ContactsAndGroups','sendAudio','getConversationModelForOwner','request\x20received\x20in\x20editFlowcondition','cleanDisconnectedInstances','audio','saveCreds','moreLogs','ip6eui','delayChatLabel_MAX_RETRIES','auth','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','RemoveChatLabel','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','updateAll','):\x20\x27Deletando\x20fluxo,\x20id:\x20','vote','Message\x20absent\x20from\x20node','isConnected','delaySecMax','}}\x20->\x20valor\x20não\x20encontrado','createConnection','?authSource=admin&readPreference=primary&directConnection=true','updateGroupPicture','getClient','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','Mensagem\x20não\x20suportada','generateHash','processReadyMessages','Falha\x20ao\x20criar\x20IPv6.','editFlowCondition','chats','$set','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','Removidas\x20as\x20variáveis:\x20','connectionStatus','\x20do\x20chat\x20','Authentication\x20error','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','fetchConversation','SERVER_PORT','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20',',\x20global:\x20','dbServer','reviver','\x22,\x20valor\x20a\x20substituir:\x20\x22','waitingMenu_ExpiredMessage','Erro\x20na\x20função\x20updateChatWithMessage:\x20','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','editFlowReply','fromMe','STORE_CHATS','):\x20Criando\x20nova\x20conversa[createNewConversation]','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','routerPath','connectToWhatsapp','addChatLabel','Safari','profile','canSendMessage','):Desconectado,\x20parando\x20execução.','groups','Type\x20is\x20required','\x1b[43m','#9ba6ff','chatLog','readData','exports','Flow\x20iniciado','reorderMessages','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','closeExistingConversations','jid','mongoose','participants','pre','CORS_CREDENTIALS','connectedClient','VERBOSE','stopMinutesMaxActives','segundos','selectedOptions','uazapiSendAudio','isBase64','NextBlock','eventemitter2','cleanStore','menuIgnoreNonVotes','color','ConversationModel','mongodb://','):\x20Enviando\x20mensagem\x20para\x20','node-mime-types','has','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','labels.association','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','group','):\x20Entrou\x20na\x20função\x20processawaitSeconds','endsWith','unknown\x20operation\x20type\x20[','findGroups','readMessage','documentMessage','redirect','URL:','formatVCard','initAuthCreds','getProfileName','deleteChat','getFlow','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','7dkCUFx','buttons','undefined','Generated\x20IPv6:\x20','SERVER_URL','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','open','waitingForReplyMenu','jpegThumbnail','editFlow','):\x20alterando\x20this.AutomateSystem','creation','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','desativadoFluxoAte','CORS_METHODS','Erro\x20ao\x20editar\x20a\x20conversa','processblock','mediaSticker','getOwnPropertyDescriptor','\x20instance\x20does\x20not\x20exist','DB_PREFIX_NAME','groupCreate','\x27\x20do\x20banco\x20de\x20dados...','stickerMessage','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar','cacheContactModel','Pausado\x20por\x20','.docx','del','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','\x20mensagens\x20de\x20','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','function','last',',\x20lastCondition:\x20','waitingMenu_text','FlowController','):\x20Limpando\x20AutomateSystem','child_process','memberAddMode','extractPhoneNumber','silent','requestFile','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','request\x20received\x20in\x20updateAgent','-instances','Missing\x20global\x20api\x20key','Erro\x20ao\x20criar\x20fluxo','writeFileSync','cacheInstanceModel','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','https://jsonip.com','senderKeyDistributionMessage','):Image\x20converted\x20to\x20WebP','myAppStateKeyId','closed','authentication','AUTHENTICATION_TYPE','deleteConversation','createNewConversation','editChat','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','contacts','automateSystem','toDataURL','connect','/:instanceName','editMessagesInGroup','\x1b[41m','updatePrivacySettings','statusJidList','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','count','isRunning','unhandledRejection','waInstances','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','Error\x20while\x20deleting\x20message\x20for\x20everyone','\x1b[47m','notas','groupValidate','\x1b[31m','audio/ogg','Primeiro\x20Valor:\x20','ms\x20(tentativa\x20','KEY','updateCustomFields','Erro\x20ao\x20inserir\x20chats:','uazapiDeleteMessage','TEXT','ENABLED',',\x20canSendMessage:\x20','isLong','recording','Cache-Control','CREDENTIALS','cacheContact','descId','GUARD','findWebhook','updateOneById','):Fetching\x20business\x20profile','uazapiSendLocation','):\x20Criando\x20fluxo\x20compartilhado...','@broadcast','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','\x20Tentativa\x20de\x20reconexão\x20','dataValidate','reorderReplyOptions','privacySettings','downloadMediaMessage','webhookMap','announce','):\x20Enviando\x20áudio','):\x20Enviando\x20enquete','choices','https','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','replaceValue','MAX_SAFE_INTEGER','DELIVERY_ACK','insert','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','createServer','localWebhook','PORT','/config','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','updateGParticipate','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','Erro\x20ao\x20atualizar\x20conversa:\x20','composing','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','METHODS','request\x20received\x20in\x20getAutomateSystem','request\x20received\x20in\x20createFlow','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','expiration','):\x20Editando\x20grupo\x20do\x20fluxo...','#fed428','audioMessage','reconnectAttempts','then','):\x20Adicionando\x20\x27','findChats','request_method','static','readFileSync','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','optionDescription','):\x20lastBlockId:\x20','\x1b[1m\x1b[37m','CONNECTION_UPDATE','processingGroup','Schema','archived','message_normalized','split','):\x20updateResult:','GET','unlocked','waitingMenu_replyOptions','LOG_LEVEL','updateProfilePicture','Instâncias\x20removidas:\x20','chatId','saveConversationToDatabase','Filtered\x20network\x20interfaces:\x20','getHours','):\x20Buscando\x20conversas...','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','CHATS_UPDATE','groupParticipantsUpdate','sendButtons','\x20chats\x20de\x20','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','createSectionsFromValues','IP\x20confirmed:\x20','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','updateReplyOption','vir','Falhou\x20ao\x20encontrar\x20chat\x20','sendReaction','getPrototypeOf','modifiedCount','pictureUrl','findAndReplace','DATABASE_CONNECTION_URI','getUpdate','fetchLabels','SERVER_ACK','^\x5cd+','):\x20Label\x20','Bloco\x20com\x20ID\x20','LOG','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','):\x20conversation.lastInteraction:\x20','AddChatLabel','createInstance','messages.update','updateGroupsAddPrivacy','The\x20','.doc','menuMessage','no.connection','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','/wa-connection-update','editScheduleMessage','findGroupsEspecial','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','validate','joinApprovalMode','connecting','https://uazapi-plugin.bubbleapps.io/?url=','addMessagesToGroup','title','creds.json','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','bodyString','output','throwAndLogError','startCommandWord','descOwner','Instance\x20Name:','):\x20Conversa\x20está\x20expirada','tags','long','reduce','):\x20Editando\x20variável\x20do\x20fluxo...','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','trimmed','readFile','picture','sign','express','):Type\x20defined\x20as\x20audio','AUTHENTICATION_JWT_EXPIRIN_IN','http','flowStopConversation','):\x20newSecondValue\x20após\x20replaceVariables:','arraybuffer','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','qrcode.updated','Valor\x20da\x20URL\x20recuperada:','updateFlowConfig','sendMedia','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','groupdata','shareFlow','capitalizedWords','yes','):\x20Mensagem\x20já\x20enviada\x20para\x20','defineAuthState','Novo\x20IP\x20criado:\x20','):including\x20timestamp\x20in\x20url:\x20','option','splice','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','stanzaId','lean','request\x20received\x20in\x20getFlow','AUTHENTICATION_JWT_SECRET','Error\x20fetching\x20and\x20updating\x20profile:\x20','listResponseMessage','online','deleteMessage','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','Partes\x20do\x20caminho\x20FULLCHAIN:','getAutomateSystem','response','conversationTimestamp','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','webhookModel','entries','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','getReadyToSendMessages','lastMessage','getDevice','randomMac','Router','varedits','method','inviteCode','):\x20teve\x20mudanças\x20chat.archived:\x20','Unauthorized','8883498osWFnv','action','getChatModelForOwner','authService','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','ON\x20-\x20dbName:\x20','MESSAGES_SET','IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.','1453546SQUArT','fetchChats','\x1b[32m%s\x1b[0m','findAndReplaceRegex','cleaningUp','chatHandle','pollOnReplyDelete','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','0123456789ABCDEF','ignoreGroups','MESSAGES_UPDATE','findByIdAndDelete','):\x20Enviando\x20localização','setWebhook',',\x20saindo.','now','uazapiSendMenu','):Image\x20is\x20base64','startID','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','/media','applyvaredit','array','proto','CHATS_DELETE','):\x20delete\x20=\x20true','STORE_CONTACTS','/events','currency','.url','parse','CONECTADO\x20À\x20UAZAPI','Last\x20message\x20not\x20found','):\x20enviado\x20para\x20[','fetchBusinessProfile','headerString','stopMinutes','scheduleMessage','Internal\x20Server\x20Error',',\x20Novo\x20tamanho:\x20','lastFetchAwaitingApproval','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','customFields','_error','\x20horas\x20e\x20','mentions','statusMessage','Fluxo\x20\x27','):\x20','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','\x20não\x20encontrado','leadInfo.','groupUpdateSubject','\x27\x20removido\x20do\x20AutomateSystem.','GROUPS_UPDATE','apply','integer','listMessage','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','):\x20Não\x20achou\x20nenhum\x20flow','Instância:\x20','nome','pow','findById','verifiedName','execSync','values','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','isValidIPv6Config','deleteFlow','paused','profilePictureUrl','AutomateSystem','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','protocolMessage','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','\x1b[37m','@s.whatsapp.net','):\x20customFieldVariables','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','assign','condition','cachedData-whatsapp','presence.update','formatStatusMessage','):Image\x20created','detectIPv6PrefixAndInterface','findLabels','document','isAdmin','#ffc5c7','SSL_CONF_FULLCHAIN','findByIdAndUpdate','readMessageBot','\x1b[37m%s\x1b[0m','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','conversation','STATUS_INSTANCE','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','locationMessage','notEmpty','Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo','groupId','minutesToClose','sendSticker','saveTextReply','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','body','idSchedule','eventHandler','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','processclearVariables','getValidWhatsAppNumbers','options','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','saveVariable','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','toString','):\x20\x27Enviando\x20texto\x20para\x20\x27','sendText','AutomateFunctions','getScheduleMessage','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','/wa-presence','.txt','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','resetReconnectionVariables','updateStopChat','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.','generateWAMessageFromContent','post','restartInstance','sections','HOST','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','blocks','utf-8','oldToken','catch','sendPoll','reject','markMessageAsRead','deleteImportedChat','_fromMe','base64','create','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','Erro\x20ao\x20atualizar\x20o\x20fluxo:','errorLog','defineProperty','valid','json','reference','unreadCount','networkInterface','fetchLatestBaileysVersion','insertCount','error\x20get\x20vote','size','Content-Type','DisconnectReason','findParticipants','timeout','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','FlowRouter','videoMessage','findRealGroups','load','.webp','reactionMessage','Log\x20out\x20instance:\x20','start','\x0a*Você\x20respondeu*:\x0a','matchRegex','env.KEY\x20!==\x20key','apiName',',\x20resultado:\x20','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','\x20não\x20encontrado\x20para\x20cópia','Instance\x20deleted','cachedContact','sendMenu','DEBUG','setContext','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','chat\x20não\x20encontrado','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','Instance\x20ID:','boolean','false','flowIgnoreGroups','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','contacts.update','delay','setNewValue','local_map','}}\x20->\x20\x22','env','Erro\x20ao\x20deletar\x20a\x20conversa','SSL_CONF','length','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','Type\x20not\x20found','deleteReplyOption','isBusiness','getConversation','all_member_add','set','\x20and\x20data:','Erro\x20ao\x20atualizar\x20o\x20flow.','existsSync','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','webhookService','.webm','.mimetype','CORS','Erro\x20ao\x20buscar\x20conversas','convertaudio','replace','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','spawn','AUTHENTICATION_API_KEY','admin','pollCreationMessageKey','emit','msgRetryCounterCache','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','info','Close\x20connection','7215ycpJLz','profileName','statusCode','Falha\x20ao\x20processar\x20fetchBusinessProfile','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','stateConnection','inviteUrl','available','getLabelModelForOwner','agents','Erro\x20ao\x20executar\x20bulkWrite:','groupRequestParticipantsUpdate','delayChatLabel','groups.update','\x1b[30m','fromObject','../env.yml','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','):\x20Comando\x20desconhecido:\x20','PASSWORD','map','width','https://api.openai.com/v1/images/generations','createAndSave','importChatsBatch','COLOR','Telefone:\x20','profilePicture','sendWhatsAppAudio','send','899733ZTCiBk','\x1b[31m%s\x1b[0m','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','evaluateCondition','):Getting\x20image\x20from\x20url','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','CONNECTION','footerText','uuid','namespace','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','object','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','revokeInviteCode','rows','call','CLEANING_INTERVAL','text/event-stream','updateMissingEtiquetas','):\x20Entrou\x20na\x20função\x20saveReply','toLowerCase','):\x20Ignoring\x20group\x20messages.','.svg','router','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','max','findAndUpdateCacheContact','/wa-groups','Network\x20Interface\x20detected:\x20','StartBot','uazapiSendMedia','/wa-chats','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','findOne','.extension','\x1b[36m%s\x1b[0m','request\x20received\x20in\x20starFlow','group-participants.update','Read\x20messages','groupName','Erro\x20ao\x20alterar\x20fluxo','parseInt','removeInstance','findOneAndUpdate','setting','detail','find','@g.us','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','groupGetInviteInfo','waitingMenu_id','label_jid','):\x20Enviando\x20texto','createOrUpdate','isCommunity','#ff9484','groupMemberAddMode','scheduleSendAudio','whoCanUse','editflowgroup','https://ipv6.jsonip.com','refused','\x20-\x20ON:\x20','flowName','inviteCodeDetails','lowerCase','ScheduleMessage','):\x20\x27Enviando\x20audio\x20para\x20\x27','messageId','text',',\x20qrcodeCount:\x20','stopWhenYouSendMsg','keep-alive','updateProfileStatus','\x1b[1m','):\x20Buscando\x20conversa...','):\x20Entrou\x20na\x20função\x20stop','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','blockLogs','groupDesc','lastBlockId','):Trying\x20to\x20get\x20business\x20profile','):\x20Buscando\x20flow...','video-cover.png','updateReadReceiptsPrivacy','recebido\x20de','fetchProfilePictureUrl','findGroupInfos',']\x20(','):\x20Limpando\x20delayMessage','awaitSeconds','connectionState','sleep','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','code','express-async-errors','global','convertToString','synchronizeAndMapFlows','imagechat','_remoteJid','sort','ff:fe','groupadd','stdout','Erro\x20ao\x20editar\x20o\x20bloco:\x20','IP\x20mismatch:\x20configured\x20','temp-','Operador:\x20\x22','\x27\x20não\x20encontrado\x20na\x20memória','sendMessage','public','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','1617460dUcchD','url','views','cachedContacts-whatsapp','desc',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','!cmd_','#00a1f2','/instance','@redis/client','end','locked','):\x20conversation.waitingMenu_name','updateMessage','):Image\x20is\x20url','\x1b[46m','findIndex','scheduleFlow','caption','waUploadToServer','pino','createConversationforgoToFlow','):\x20Erro\x20durante\x20a\x20atualização:\x20','deleteOne','Group\x20not\x20found','buttonMessage','authorization','request\x20received\x20in\x20editConversation','Selecione','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','newStoppedUntil','):\x20Atualizando\x20status\x20da\x20mensagem\x20','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','updateGroupParticipantsWebhook','g.us','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','.\x20Aguardando\x20','allContacts','Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.','chatModify','groupBetterSetting','@ffmpeg-installer/ffmpeg','birthtime','use','):\x20sender\x20=\x20number:\x20','\x22\x20not\x20found','allflows','8080'];a0_0x5f5d=function(){return _0x247fed;};return a0_0x5f5d();}var Us=!0x1,Vi=0x266,cr=0x3,Li=0x1b7740;async function Js(){const _0x55b9f4=a0_0x36fc91;let _0x8705ff=_0x55b9f4(0x359);Re===null&&(_0x8705ff=await qi());let _0xb398a3=await nr();if(_0xb398a3){if(_0xb398a3[_0x55b9f4(0x609)][_0x55b9f4(0x167)]===!0x0){Re===null&&_0xb398a3[_0x55b9f4(0x609)][_0x55b9f4(0x200)]-Vi>0x0&&await lr(),Us||(Us=!0x0,er());let _0x59d3b8=0x24*0x3c*0x3c,_0xd81b47=_0xb398a3[_0x55b9f4(0x609)][_0x55b9f4(0x4d5)]>_0x59d3b8?_0x59d3b8:_0xb398a3[_0x55b9f4(0x609)]['segundos'],_0x2d7e94=Number(_0xd81b47);if(isNaN(_0x2d7e94)){console['error'](_0x55b9f4(0x425));return;}let _0x1ae067=Math['floor'](_0x2d7e94/0xe10),_0x335085=Math[_0x55b9f4(0x3b9)](_0x2d7e94%0xe10/0x3c),_0x44482a=new Date(Date[_0x55b9f4(0x630)]()+_0x2d7e94*0x3e8);setTimeout(Js,_0x2d7e94*0x3e8);let _0x479060=_0x4295e4=>_0x4295e4[_0x55b9f4(0x698)]()[_0x55b9f4(0x381)](0x2,'0'),_0x5b854f=_0x55b9f4(0x164)+_0x479060(_0x1ae067)+_0x55b9f4(0x64d)+_0x479060(_0x335085)+_0x55b9f4(0x2be)+_0x479060(_0x44482a[_0x55b9f4(0x5a4)]())+':'+_0x479060(_0x44482a[_0x55b9f4(0x81f)]())+'.';console[_0x55b9f4(0x83e)](_0x5b854f);}else return console[_0x55b9f4(0x83e)](_0x55b9f4(0x7bc)),Us&&(console[_0x55b9f4(0x83e)](_0x55b9f4(0x25a)),process[_0x55b9f4(0x298)]()),'LICENSE_INVALID';}else{if(ki++,ki<cr)console[_0x55b9f4(0x83e)](_0x55b9f4(0x33e)+Li/0xea60+'\x20minutos...'),setTimeout(Js,Li);else return console[_0x55b9f4(0x844)](_0x55b9f4(0x58f)),_0x55b9f4(0x39d);}}async function lr(){const _0xb01fd9=a0_0x36fc91;console[_0xb01fd9(0x83e)](_0xb01fd9(0x3ed)),console[_0xb01fd9(0x83e)]('Limpando\x20logs\x20do\x20PM2...'),(0x0,rs['spawn'])(_0xb01fd9(0x2b9),{'shell':!0x0})['on'](_0xb01fd9(0x13d),_0xf80e33=>{const _0x1fccfc=_0xb01fd9;_0xf80e33!==0x0?console[_0x1fccfc(0x844)](_0x1fccfc(0x38c)):(console[_0x1fccfc(0x83e)]('Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.'),console[_0x1fccfc(0x83e)](_0x1fccfc(0x522)),(0x0,rs['spawn'])(_0x1fccfc(0x38d),{'shell':!0x0})['on'](_0x1fccfc(0x13d),_0x395615=>{const _0x54a073=_0x1fccfc;if(_0x395615!==0x0)console[_0x54a073(0x844)](_0x54a073(0x330));else{console[_0x54a073(0x83e)](_0x54a073(0x579));let _0x1c030b=(0x0,rs[_0x54a073(0x700)])(_0x54a073(0x20a),{'shell':!0x0});_0x1c030b[_0x54a073(0x793)]['on'](_0x54a073(0x3ff),_0x2fc0e0=>{const _0x1d99ef=_0x54a073;console[_0x1d99ef(0x83e)](_0x1d99ef(0x1d5)+_0x2fc0e0);}),_0x1c030b[_0x54a073(0x1c2)]['on'](_0x54a073(0x3ff),_0x138e74=>{const _0x2ab159=_0x54a073;console[_0x2ab159(0x844)](_0x2ab159(0x1d6)+_0x138e74);}),_0x1c030b['on'](_0x54a073(0x298),_0x20e42e=>{const _0x1061ad=_0x54a073;_0x20e42e!==0x0?console[_0x1061ad(0x844)](_0x1061ad(0x788)+_0x20e42e):console[_0x1061ad(0x83e)]('Sistema\x20atualizado\x20com\x20sucesso!'),console[_0x1061ad(0x83e)]('Parando\x20aplicação...'),setTimeout(()=>process[_0x1061ad(0x298)](),0x2710);});}}));});}0x0&&(module[a0_0x36fc91(0x4c8)]={'fullURL':fullURL,'subdomain':subdomain});