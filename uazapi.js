const a0_0x7625da=a0_0x5efa;(function(_0x3a2d14,_0x38c4f2){const _0x130644=a0_0x5efa,_0x3bd6e8=_0x3a2d14();while(!![]){try{const _0x9209df=parseInt(_0x130644(0x60a))/0x1+-parseInt(_0x130644(0x22c))/0x2+-parseInt(_0x130644(0x6c1))/0x3*(-parseInt(_0x130644(0x34c))/0x4)+parseInt(_0x130644(0x5c9))/0x5*(parseInt(_0x130644(0x40c))/0x6)+-parseInt(_0x130644(0x59a))/0x7+parseInt(_0x130644(0x60b))/0x8+parseInt(_0x130644(0x575))/0x9;if(_0x9209df===_0x38c4f2)break;else _0x3bd6e8['push'](_0x3bd6e8['shift']());}catch(_0x3a21fb){_0x3bd6e8['push'](_0x3bd6e8['shift']());}}}(a0_0x4c0e,0x3437c));var ko=Object[a0_0x7625da(0x7a3)],Je=Object[a0_0x7625da(0x824)],jo=Object['getOwnPropertyDescriptor'],Lo=Object[a0_0x7625da(0x477)],Fo=Object[a0_0x7625da(0x2a6)],Jo=Object[a0_0x7625da(0x5dd)][a0_0x7625da(0x42c)],Uo=(_0x290ce6,_0x2d4fda)=>{for(var _0x1a0234 in _0x2d4fda)Je(_0x290ce6,_0x1a0234,{'get':_0x2d4fda[_0x1a0234],'enumerable':!0x0});},Fs=(_0x227a8a,_0x27175e,_0x338d0d,_0x18f6b2)=>{const _0x4a6401=a0_0x7625da;if(_0x27175e&&typeof _0x27175e==_0x4a6401(0x559)||typeof _0x27175e==_0x4a6401(0x37f)){for(let _0x9accee of Lo(_0x27175e))!Jo[_0x4a6401(0x8b0)](_0x227a8a,_0x9accee)&&_0x9accee!==_0x338d0d&&Je(_0x227a8a,_0x9accee,{'get':()=>_0x27175e[_0x9accee],'enumerable':!(_0x18f6b2=jo(_0x27175e,_0x9accee))||_0x18f6b2['enumerable']});}return _0x227a8a;},O=(_0x4bde02,_0x20dc0f,_0x2b13d3)=>(_0x2b13d3=_0x4bde02!=null?ko(Fo(_0x4bde02)):{},Fs(_0x20dc0f||!_0x4bde02||!_0x4bde02['__esModule']?Je(_0x2b13d3,a0_0x7625da(0x716),{'value':_0x4bde02,'enumerable':!0x0}):_0x2b13d3,_0x4bde02)),qo=_0x17aa4f=>Fs(Je({},a0_0x7625da(0x84f),{'value':!0x0}),_0x17aa4f),ai={};Uo(ai,{'subdomain':()=>xs}),module[a0_0x7625da(0x70b)]=qo(ai);var Oo=O(require('compression')),Us=require('fs'),qs=require(a0_0x7625da(0x661)),Vs=require('path'),Ue=require('path'),ie=process[a0_0x7625da(0x29f)](),me=(0x0,Ue[a0_0x7625da(0x867)])(ie,a0_0x7625da(0x6df)),Js=(0x0,Ue[a0_0x7625da(0x867)])(ie,a0_0x7625da(0x8cc)),Ki=(0x0,Ue[a0_0x7625da(0x867)])(ie,a0_0x7625da(0x8ba),a0_0x7625da(0x436)),is=class{constructor(){this['loadEnv']();}['get'](_0x244722){const _0xb1d0b6=a0_0x7625da;return this[_0xb1d0b6(0x6a7)][_0x244722];}[a0_0x7625da(0x299)](){const _0x45d8e5=a0_0x7625da;this[_0x45d8e5(0x6a7)]=process[_0x45d8e5(0x6a7)]?.['DOCKER_ENV']!==_0x45d8e5(0x4ac)?this[_0x45d8e5(0x7b9)]():this[_0x45d8e5(0x6d0)](),process[_0x45d8e5(0x6a7)]?.[_0x45d8e5(0x85e)]===_0x45d8e5(0x4ac)&&(this[_0x45d8e5(0x6a7)][_0x45d8e5(0x8b4)][_0x45d8e5(0x666)]=_0x45d8e5(0x628),this[_0x45d8e5(0x6a7)][_0x45d8e5(0x8b4)][_0x45d8e5(0x490)]=Number[_0x45d8e5(0x53b)](process[_0x45d8e5(0x6a7)]?.['SERVER_PORT']??_0x45d8e5(0x434)));}['envYaml'](){const _0xae241f=a0_0x7625da;return(0x0,qs[_0xae241f(0x822)])((0x0,Us[_0xae241f(0x5a3)])((0x0,Vs[_0xae241f(0x867)])(Js,_0xae241f(0x78e)),{'encoding':'utf-8'}));}['envProcess'](){const _0x1d6e2f=a0_0x7625da;return{'SERVER':{'TYPE':process[_0x1d6e2f(0x6a7)][_0x1d6e2f(0x3cc)],'PORT':Number[_0x1d6e2f(0x53b)](process[_0x1d6e2f(0x6a7)][_0x1d6e2f(0x4df)]),'URL':process['env'][_0x1d6e2f(0x4e8)]},'CORS':{'ORIGIN':process['env'][_0x1d6e2f(0x3e9)][_0x1d6e2f(0x1e9)](','),'METHODS':process[_0x1d6e2f(0x6a7)][_0x1d6e2f(0x27a)][_0x1d6e2f(0x1e9)](','),'CREDENTIALS':process[_0x1d6e2f(0x6a7)]?.[_0x1d6e2f(0x591)]===_0x1d6e2f(0x4ac)},'SSL_CONF':{'PRIVKEY':process[_0x1d6e2f(0x6a7)]?.[_0x1d6e2f(0x387)],'FULLCHAIN':process[_0x1d6e2f(0x6a7)]?.[_0x1d6e2f(0x4a3)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process[_0x1d6e2f(0x6a7)]?.[_0x1d6e2f(0x752)])?Number['parseInt'](process[_0x1d6e2f(0x6a7)][_0x1d6e2f(0x752)]):void 0x0,'MESSAGES':process[_0x1d6e2f(0x6a7)]?.['STORE_MESSAGE']===_0x1d6e2f(0x4ac),'CONTACTS':process[_0x1d6e2f(0x6a7)]?.[_0x1d6e2f(0x8af)]===_0x1d6e2f(0x4ac),'CHATS':process[_0x1d6e2f(0x6a7)]?.[_0x1d6e2f(0x804)]===_0x1d6e2f(0x4ac)},'DATABASE':{'CONNECTION':{'HOST':process[_0x1d6e2f(0x6a7)]?.[_0x1d6e2f(0x743)],'PORT':Number[_0x1d6e2f(0x53b)](process[_0x1d6e2f(0x6a7)]?.['DATABASE_CONNECTION_HOST']),'USER':process[_0x1d6e2f(0x6a7)]['DATABASE_CONNECTION_USER'],'PASSWORD':process[_0x1d6e2f(0x6a7)][_0x1d6e2f(0x730)],'URI':process['env'][_0x1d6e2f(0x54c)],'DB_PREFIX_NAME':process[_0x1d6e2f(0x6a7)][_0x1d6e2f(0x6ba)]},'ENABLED':process[_0x1d6e2f(0x6a7)]?.[_0x1d6e2f(0x3c1)]===_0x1d6e2f(0x4ac)},'REDIS':{'ENABLED':process['env']?.[_0x1d6e2f(0x29d)]===_0x1d6e2f(0x4ac),'URI':process[_0x1d6e2f(0x6a7)][_0x1d6e2f(0x20b)]||_0x1d6e2f(0x5b1),'PREFIX_KEY':process[_0x1d6e2f(0x6a7)][_0x1d6e2f(0x747)]||_0x1d6e2f(0x6b8)},'LOG':{'LEVEL':process['env']?.['LOG_LEVEL'][_0x1d6e2f(0x1e9)](','),'COLOR':process[_0x1d6e2f(0x6a7)]?.[_0x1d6e2f(0x79f)]==='true'},'PROXY':Number[_0x1d6e2f(0x53b)](process['env']?.[_0x1d6e2f(0x287)]),'AUTHENTICATION':{'TYPE':process['env'][_0x1d6e2f(0x812)],'API_KEY':{'KEY':process[_0x1d6e2f(0x6a7)][_0x1d6e2f(0x8ac)]},'JWT':{'EXPIRIN_IN':Number[_0x1d6e2f(0x3ba)](process[_0x1d6e2f(0x6a7)]?.[_0x1d6e2f(0x579)])?Number[_0x1d6e2f(0x53b)](process[_0x1d6e2f(0x6a7)][_0x1d6e2f(0x579)]):0xe10,'SECRET':process['env']['AUTHENTICATION_JWT_SECRET']}}};}},S=new is(),To=O(require(a0_0x7625da(0x60d))),he=O(require('express')),js=require(a0_0x7625da(0x26d)),ns=O(require(a0_0x7625da(0x684))),cs=(_0x2a0aff=>(_0x2a0aff[a0_0x7625da(0x71d)]='\x1b[32m',_0x2a0aff[a0_0x7625da(0x3a5)]=a0_0x7625da(0x271),_0x2a0aff[a0_0x7625da(0x713)]='\x1b[33m',_0x2a0aff[a0_0x7625da(0x7a6)]=a0_0x7625da(0x8df),_0x2a0aff[a0_0x7625da(0x871)]=a0_0x7625da(0x377),_0x2a0aff['VERBOSE']=a0_0x7625da(0x34e),_0x2a0aff[a0_0x7625da(0x294)]=a0_0x7625da(0x6bc),_0x2a0aff))(cs||{}),Gs=(_0x957684=>(_0x957684['LOG']=a0_0x7625da(0x204),_0x957684[a0_0x7625da(0x294)]=a0_0x7625da(0x482),_0x957684[a0_0x7625da(0x3a5)]=a0_0x7625da(0x808),_0x957684[a0_0x7625da(0x713)]=a0_0x7625da(0x866),_0x957684[a0_0x7625da(0x7a6)]=a0_0x7625da(0x253),_0x957684['DEBUG']='\x1b[36m%s\x1b[0m',_0x957684[a0_0x7625da(0x296)]=a0_0x7625da(0x242),_0x957684))(Gs||{}),Bs=(_0x4ef096=>(_0x4ef096['LOG']='LOG',_0x4ef096['WARN']=a0_0x7625da(0x713),_0x4ef096[a0_0x7625da(0x3a5)]=a0_0x7625da(0x3a5),_0x4ef096[a0_0x7625da(0x294)]=a0_0x7625da(0x294),_0x4ef096[a0_0x7625da(0x7a6)]='ERROR',_0x4ef096['DEBUG']=a0_0x7625da(0x871),_0x4ef096[a0_0x7625da(0x296)]=a0_0x7625da(0x296),_0x4ef096))(Bs||{}),Ws=(_0x1ee4d3=>(_0x1ee4d3['LOG']=a0_0x7625da(0x893),_0x1ee4d3[a0_0x7625da(0x3a5)]=a0_0x7625da(0x2a7),_0x1ee4d3[a0_0x7625da(0x713)]=a0_0x7625da(0x36a),_0x1ee4d3[a0_0x7625da(0x294)]=a0_0x7625da(0x393),_0x1ee4d3[a0_0x7625da(0x7a6)]='\x1b[41m',_0x1ee4d3['DEBUG']=a0_0x7625da(0x6b1),_0x1ee4d3['VERBOSE']='\x1b[47m',_0x1ee4d3))(Ws||{}),R=class{constructor(_0x146e02=a0_0x7625da(0x597)){const _0x2c40ef=a0_0x7625da;this[_0x2c40ef(0x480)]=_0x146e02,this[_0x2c40ef(0x724)]=S;}[a0_0x7625da(0x523)](_0x74a3b7){const _0x1ba773=a0_0x7625da;this[_0x1ba773(0x480)]=_0x74a3b7;}[a0_0x7625da(0x5e5)](_0x819e9e,_0x1e8b1a){const _0x3f2423=a0_0x7625da;let _0x3e43dc=[];this[_0x3f2423(0x724)][_0x3f2423(0x7c4)](_0x3f2423(0x71d))[_0x3f2423(0x5d4)]['forEach'](_0x38dd32=>_0x3e43dc[_0x3f2423(0x566)](Bs[_0x38dd32]));let _0x2a4697=typeof _0x819e9e;_0x3e43dc[_0x3f2423(0x80b)](_0x1e8b1a)&&(S['get'](_0x3f2423(0x71d))[_0x3f2423(0x27e)]?(console['log']('\x1b[1m'+Gs[_0x1e8b1a],_0x3f2423(0x39f),(0x0,ns['default'])()[_0x3f2423(0x349)](_0x3f2423(0x4a2)),_0x3f2423(0x81f),cs[_0x1e8b1a]+Ws[_0x1e8b1a]+_0x3f2423(0x7c9),_0x1e8b1a+_0x3f2423(0x356),_0x3f2423(0x6f2),this['context']+_0x3f2423(0x81f),cs[_0x1e8b1a],_0x2a4697!==_0x3f2423(0x559)?_0x819e9e:'','\x1b[0m'),_0x2a4697===_0x3f2423(0x559)&&console['log'](_0x819e9e,'\x0a')):console[_0x3f2423(0x773)]((0x0,ns['default'])()['format']('HH:mm:ss'),_0x1e8b1a+'\x20',''+this['context'],_0x819e9e));}[a0_0x7625da(0x773)](_0x84c39){const _0x2af39e=a0_0x7625da;this['console'](_0x84c39,_0x2af39e(0x71d));}[a0_0x7625da(0x573)](_0x537ffa){const _0x57cecd=a0_0x7625da;this[_0x57cecd(0x5e5)](_0x537ffa,_0x57cecd(0x3a5));}[a0_0x7625da(0x6ef)](_0x3faec8){const _0x2b2ed8=a0_0x7625da;this[_0x2b2ed8(0x5e5)](_0x3faec8,_0x2b2ed8(0x713));}['error'](_0x191009){const _0x2c3362=a0_0x7625da;this[_0x2c3362(0x5e5)](_0x191009,_0x2c3362(0x7a6));}[a0_0x7625da(0x62f)](_0x46a307){const _0x5bd78d=a0_0x7625da;this[_0x5bd78d(0x5e5)](_0x46a307,_0x5bd78d(0x296));}[a0_0x7625da(0x29c)](_0x4a943b){this['console'](_0x4a943b,'DEBUG');}[a0_0x7625da(0x7d9)](_0x48ada8){const _0x17b57a=a0_0x7625da;this['console'](_0x48ada8,_0x17b57a(0x294));}};function zs(){const _0x21cc67=a0_0x7625da;process['on'](_0x21cc67(0x52d),(_0xc912d6,_0x3b2d24)=>{const _0x13a0ef=_0x21cc67;new R(_0x13a0ef(0x52d))[_0x13a0ef(0x3a8)]({'origin':_0x3b2d24,'stderr':process['stderr']['fd'],'error':_0xc912d6});}),process['on'](_0x21cc67(0x607),(_0x46b73e,_0x3f8e36)=>{const _0x3ddb32=_0x21cc67;new R(_0x3ddb32(0x607))['error']({'origin':_0x3f8e36,'stderr':process['stderr']['fd'],'error':_0x46b73e});});}var Hs=O(require('eventemitter2')),ls=new Hs[(a0_0x7625da(0x716))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),we=require(a0_0x7625da(0x272)),ve=O(require(a0_0x7625da(0x272))),qe=new R(a0_0x7625da(0x6ae)),j=S['get']('DATABASE'),$=j['ENABLED']?j[a0_0x7625da(0x1e1)][a0_0x7625da(0x604)]?ve['default'][a0_0x7625da(0x647)](j[a0_0x7625da(0x1e1)][a0_0x7625da(0x604)],{'dbName':j[a0_0x7625da(0x1e1)]['DB_PREFIX_NAME']+a0_0x7625da(0x340)}):ve[a0_0x7625da(0x716)]['createConnection']('mongodb://'+j[a0_0x7625da(0x1e1)]['HOST']+':'+j['CONNECTION'][a0_0x7625da(0x490)]+a0_0x7625da(0x3b9),{'user':j[a0_0x7625da(0x1e1)][a0_0x7625da(0x40e)],'pass':j[a0_0x7625da(0x1e1)][a0_0x7625da(0x344)],'dbName':j[a0_0x7625da(0x1e1)][a0_0x7625da(0x46b)]+a0_0x7625da(0x340)}):null;function a0_0x4c0e(){const _0x398e6f=['editFlowVariable','messageType','updateProfilePicture','AUTHENTICATION_TYPE','connectedName','setNewValue','):\x20Bloco\x20com\x20ID\x20','noConnection','beforeExit','flowPrefixCommand','updateOne','isRunning','getDelay','groups_ignore','creds.update','groups.update','\x1b[0m','https://api.openai.com/v1/images/generations','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','load','isCommunity','defineProperty','):\x20Flow\x20não\x20encontrado','announce','sort','verify','updateMany','Button\x20texts\x20cannot\x20be\x20repeated','reject','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','Read\x20messages','SECRET','validate','loadproxy','emit','#d3a91f','processUazapi','#6f7bcf','scheduleSendAudio','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','importChatsBatch','extractRegex','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','whatsappNumber','close','waMonitor','CONTACTS_UPDATE','RemoteJid:','contactsArrayMessage','menuMessage','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','method','Output\x20path:\x20','.mp4','^\x5cd+','sendAudio','sendReaction','status.instance','qrCode','_fromMe','stdout','request\x20received\x20in\x20createFlow','ex:\x20\x22groupJid=120362@g.us\x22','key','__esModule','groupInviteCode','Error\x20parsing\x20JSON:','conversation','/events/:instance','/wa-all-message','collection','\x20->\x20NÃO\x20CORRESPONDE.','CONTACTS_UPSERT','RemoveChatLabel','imgUrl','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','replaceVariablesInObject',':\x20IP\x20funcionando!','leadInfo.desativadoFluxoAte','DOCKER_ENV','qrcode-terminal','replaceVariablesLogs','from','groupLeave','setting','secondValue',',\x20fará\x20nova\x20verificação\x20em\x20','\x1b[33m%s\x1b[0m','join','ListMessage','contacts','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','instanceName\x20not\x20provided.','statusJidList','authModel','fetchContacts','request\x20received\x20in\x20fetchConversation','startFlowWebhook','DEBUG','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','Erro\x20ao\x20tentar\x20updateCustomFields','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','writeData','pollCreationMessageV3','chatLog','Erro\x20ao\x20buscar\x20a\x20conversa','isArray','routerPath','findChats','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','endSession','varedit','flowStopConversation','):\x20Enviando\x20áudio','createSharedFlow','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','):\x20Editando\x20grupo\x20do\x20fluxo...','#ffffff','forEach','connectionUpdate','):\x20Query\x20params:\x20','ultimaTentativaRemoteJid','synchronizeFlows','.\x20Aguardando\x20antes\x20de\x20reconectar...','jwt','findAndUpdateCacheContact','evaluateCondition','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','Parando\x20aplicação,\x20atualização\x20recebida','createflow','findGroup','\x1b[42m','Business\x20profile\x20fetched','Last\x20message\x20not\x20found','replaceValue','updateFlowConfig','\x20minutos','labels.edit','NO_IP','writeFile','convertaudio','vcard','pt-BR','groupHandler','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','entrou\x20na\x20função\x20de\x20sincronizar\x20fluxos','delaySecMin','isJidBroadcast','reconnectTimestamps','selectedOptions','removeData','class-validator','#f64847','mimetype','SSL_CONF','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','AUTHENTICATION_API_KEY','Data\x20inválida\x20fornecida','enviado\x20para','STORE_CONTACTS','call','All_Instances_Config','updateProfilePicturePrivacy','):\x20debug\x20alterando\x20this.AutomateSystem','SERVER','Trying\x20to\x20get\x20business\x20profile','setUpdate','\x20minutos\x20verificará\x20novas\x20mensagens','isBusiness','Número\x20não\x20possui\x20WhatsApp.','store','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','convertaudioMP3','Valor\x20de\x20find\x20ou\x20replace\x20ausente','timeInMinutes','uazapiSendAudio','Last\x20message\x20not\x20found\x20for\x20number:','getChatModelForOwner','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','expression','FULLCHAIN','composing','sendLocation','notMatchRegex','TEXT','getAllData','Número:\x20','paused','src','less','Font\x20is\x20required','mongodb','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','updateGroupPicture','findManyByIds','ListType','capitalizedWords','Group\x20not\x20found','originalUrl','sendMessage','replaceOne','Flow\x20não\x20encontrado','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','pollCreationMessage','):\x20newFirstValue\x20após\x20replaceVariables:','CONTACTS_SET','readFile','\x1b[31m','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','child_process','views','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','false','oldToken','Não\x20respondeu\x20com\x20a\x20enquete.','Archiving\x20chat','Error\x20finding\x20many\x20contacts:','document','binary','Tentando\x20reconectar...','newValue','express-async-errors','list','removeProfilePicture','realVariables','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','keyPattern','\x20segundos','updateMissingCustomFields','instanceName','exists','SendScheduleMessage','chats.upsert','Nenhum\x20chat\x20encontrado\x20para\x20editar.','CONNECTION','address','not_announcement','autoCompleteMessages','desativadoFluxoAte','request_method','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','audioWhatsapp','split','listMessage','certonly','map','isConnected','Erro\x20ao\x20editar\x20o\x20chat','autoCompleteMessages.command','):\x20Entrou\x20na\x20função\x20saveReply','getProfileName','https://api.elevenlabs.io/v1/text-to-speech/','findConversation','memberAddMode','Subscribed\x20Events:','documentMessage','blockId','https','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','Erro\x20ao\x20iniciar\x20fluxo:\x20','Variáveis\x20não\x20encontradas:','request_time','assign','http://myexternalip.com/raw','message','#00a1f2','blocks','remoteJids','updateMessage','\x1b[32m%s\x1b[0m','including\x20timestamp\x20in\x20url:\x20','EMAIL','connectedClient','Message','Nenhum\x20participante\x20válido\x20encontrado.','insert','REDIS_URI','):\x20Editando\x20variável\x20do\x20fluxo...','FlowController','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','defineAuthState','updateAll','):\x20Enviando\x20enquete','chatModify','header','remoteJidsRemaining','groupRequestParticipantsUpdate','creds.json','agents','pollMessage','Authentication\x20error','Erro\x20na\x20função\x20updateChatWithMessage:\x20','ephemeralDuration','importChats','Cache-Control','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','sendMessageWithTyping','dropIndex','flowStopMinutes','Contacts\x20not\x20found','mediatype','request\x20received\x20in\x20updateAutoCompleteMessages','updateGParticipate','profilePicture','.xls','):\x20Criando\x20fluxo\x20compartilhado...','):\x20não\x20encontrou','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','imagechat','705078obCZVp','state','This\x20name\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','updateReadReceiptsPrivacy','\x20minutos...','@broadcast','\x20is\x20already\x20in\x20use.',':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...','editConversation','Sending\x20audio\x20whatsapp','):\x20Grupo\x20','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','messageHandle','stickerMessage','CONECTADO\x20À\x20UAZAPI','selectableCount','\x20-i\x20','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','currency','rowId','toggleEphemeral','\x1b[37m%s\x1b[0m','waitingMenu_replyOptions','refused','Content-Type','):\x20Label\x20','editChat','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','reconnectAttempts','createGroup','node-mime-types','size','leadInfo','indexOf','MESSAGES_SET','findAndReplaceRegex','_remoteJid','\x1b[31m%s\x1b[0m','instanceInfo','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','#fe9dfe','match','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','getClient','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','\x22\x20-\x20REMOVED','_p_','getLabelModelForOwner','data:\x20','Imagem\x20não\x20encontrada','save','File\x20written\x20to\x20path:\x20','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','deleteInstance','Error\x20while\x20deleting\x20message\x20for\x20everyone','Erro\x20ao\x20encerrar\x20a\x20API','MESSAGES_UPSERT','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','GROUPS_UPDATE','poll','Mac\x20OS','path','createSectionsFromValues','response',',\x20qrcodeCount:\x20','\x1b[34m','mongoose','Reinicialização\x20iniciada:\x20','Erro\x20ao\x20adicionar\x20label\x20','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','addReplyOption','https://ipinfo.io/json','shift','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','CORS_METHODS','http://ip-api.com/json','normalizeMessage','numbers','COLOR','Type\x20not\x20found','array','reorderBlocks','desc','\x20-\x20retornado:\x20','labels.association','video-cover.png','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','PROXY','fullName','https://','):\x20delete\x20=\x20true','\x20}\x0a','vote','deleteBlock','Erro\x20ao\x20deletar\x20chat:','/wa-connection-update','ObjectId','sharp','uazapiSendContact','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','DARK','updateBlock','VERBOSE','announcement','isLong','loadEnv','chats.delete','Message\x20absent\x20from\x20node','debug','REDIS_ENABLED','Log\x20out\x20instance:\x20','cwd','available','DELETED','GROUP_PARTICIPANTS_UPDATE','displayName','Error\x20in\x20scheduleNextCheck:\x20','command','getPrototypeOf','\x1b[44m','./.git/config','joinApprovalMode','getBusinessProfile','groupJoinApprovalMode','long','goNextblock','request\x20received\x20in\x20starFlow','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','sleep','linkPreview','.docx','Erro\x20ao\x20copiar\x20o\x20documento','/clients-info','fileUrl','Erro\x20ao\x20importar\x20chats','jid','Validate','localWebhook','Comando\x20desconhecido','valid','demote','pictureUrl','getMIMEType','removeUnusedChatFields','allflows','Erro\x20de\x20atualização:\x20','#000000','):\x20Limpando\x20AutomateSystem','upsertChats','normalizeMessageContent','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','deleteDoneMessages','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','sendDataWebhook','reviver','PRODUCT_LIST','Erro\x20de\x20reinicialização:\x20','findFlow','Connection\x20closed\x20for\x20instance:\x20','redisEnv','request\x20received\x20in\x20deleteConversation','body','documentWithCaptionMessage','SINGLE_SELECT','groupFetchAllParticipating','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','variablesNotFound','groupAcceptInvite','telefone','cleanStore','):\x20Buscando\x20conversas...','):\x20[messages.update]\x20group\x20ignored','generateWAMessageFromContent','):\x20Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.','waitingMenu_ExpiredMessage','EXPIRIN_IN','Chat\x20com\x20ID\x20','.extension','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','groupBetterSetting','fetchProfilePictureUrl','modifiedCount','):\x20Limpando\x20delayMessage','ButtonsMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','updateMissingShareOwners','Erro\x20ao\x20alterar\x20privacidade',',\x20apikey:\x20','startID','mediaKey','processScheduleFlow','editOperator','licenca','delay','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','endsWith',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.','name','updateProfileName','getAutomateSystem','rows','waitingMenu_text','\x20->\x20CONFIRMADO.','customFields','#dfaef0','downloads','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','profile','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','\x22\x20not\x20found','random','number','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','muteEndTime','flush','.doc','backgroundColor','getContentType','msgRetryCounterCache','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','\x20removido\x20do\x20chat\x20','/config','delayMessage','encoding','sendText','statSync','all',':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...','apply','Erro\x20ao\x20atualizar\x20o\x20documento:','!stop','replaceVariablesChat','Image\x20converted\x20to\x20WebP','isBase64','ReplyOption\x20com\x20ID\x20','onTime','):\x20Mensagem\x20recuperada\x20após\x20','contact_blacklist','startsWith','proto','}}\x20->\x20\x22','sendContact','/wa-qrcode','Falha\x20ao\x20processar\x20a\x20solicitação','#fed428','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','/instance/create','joinGroup','local_map','CLEANING_INTERVAL','removeChatLabel','open','.uazapi.dev','throwAndLogError',',\x20Minutes\x20to\x20Close:\x20',',\x20valor\x20a\x20encontrar:\x20\x22','#01d0e2','getLastMessage','sign','value','no-cache','protocolMessage','out','Close\x20connection','LabelModel','):\x20leadInfoVariables',':\x20IP\x20configurado:\x20','port','delAll','-whatsapp-api','):\x20Editando\x20edição\x20do\x20fluxo...','Hash\x20to\x20image\x20name:\x20','deleteMany','PASSWORD','Instance\x20logged\x20out','message_normalized','connecting','redirect','format','findById','Erro\x20ao\x20atualizar\x20AutomateSystem:','1124qkhKrq','lastUpdate','\x1b[37m','addChatLabel',',\x20saindo.','lastDisconnect','createInstance','editFlowBlock','ini','order','\x20\x1b[0m','findGroupInfos','groupDesc','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','Fluxos\x20não\x20estão\x20ativados','readdirSync','@whiskeysockets/baileys','):\x20Mensagem\x20já\x20enviada\x20para\x20','):\x20[messages.upsert]\x20group\x20ignored','FlowModel','):\x20this.processing_id:\x20','AppStateSyncKeyData','CREDENTIALS','connection.update','end','buttonId','convertToWebP','MAX_RECONNECT_ATTEMPTS','):\x20Conversa\x20inserida\x20com\x20sucesso.','Erro\x20ao\x20editar\x20agentes','\x1b[43m','existsSync','CHATS_UPDATE','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','jsonwebtoken','send.message','logout','success','apirequest','whatsappNumbers','verifiedName','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','optionDescription','\x1b[36m','flowName','waitingMenu_id','OrAnd','isJidGroup','next_groupId','findParticipants','HttpsProxyAgent','function','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','formatBRNumber','temp-','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','getScheduleMessage','--agree-tos','/:instanceName','SSL_CONF_PRIVKEY','Message\x20not\x20found','Schema','webhookModel','sendList','lean','\x20inseridas\x20no\x20banco\x20de\x20dados...','getBase64FromMediaMessage','createFlow','groupUpdateDescription','test','scheduleSendMedia','\x1b[40m','/wa-message-update','):\x20Criou\x20conversa\x20no\x20startFlow','):\x20isVote:\x20','fetchStatus','copy','groupMetadata','sem\x20texto\x20na\x20mensagem','creation','webhookMap','editedMessage','data','\x1b[1m\x1b[37m','\x22\x20cannot\x20be\x20empty','StatusJidList\x20is\x20required','delaySecMax','fetchLabels','delayChatLabel_MAX_RETRIES','INFO','type','Erro\x20ao\x20buscar\x20conversas','error','archive','):\x20Criando\x20nova\x20conversa[createNewConversation]','allFlows','choices','findGroupInfo','code','Missing\x20global\x20api\x20key','Atualização:\x20','findByIdAndDelete','notEmpty','locationMessage','[all]','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','restrict','action','fone','?authSource=admin&readPreference=primary&directConnection=true','isInteger','connect','Instance\x20ID:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','METHODS','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','updateReplyOption','DATABASE_ENABLED','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','presence','host','getScheduleMessageModelForOwner','):\x20Bloco\x20original\x20para\x20cópia:\x20',',\x20canSendMessage:\x20','DATABASE','uazapiSendText','filter','MessageModel','SERVER_TYPE','/wa-message','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','goToFlow','messages.update','EMAIL:','):\x20Usando\x20extensão\x20padrão:\x20','generateHash','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','pollCreationMessageKey','Erro\x20ao\x20atualizar\x20o\x20flow.','\x0aFN:','):\x20Campos\x20a\x20serem\x20atualizados:','Not\x20is\x20business\x20profile','post','base64','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','lastSendMessage','_FlowHistorico','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','group-participants.update','AutomateSystem','buffer','findOneAndUpdate','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','authentication','CacheContacts\x20database\x20connection\x20closed.','audioMessage','text','CORS_ORIGIN','updateOneById','https://api.openai.com/v1/audio/speech','Erro\x20ao\x20atualizar\x20o\x20fluxo:','fetchBusinessProfile','Falha\x20ao\x20processar\x20a\x20solicitação\x20messages.upsert','createConversationforgoToFlow','toUpperCase','processing_id','\x22,\x20valor\x20a\x20substituir:\x20\x22','\x5c$&','-instances','request\x20received\x20in\x20editFlowgroup','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','_Chats','request\x20received\x20in\x20editConversation','repository','Instância\x20não\x20encontrada.','):\x20Erro\x20ao\x20tentar\x20recuperar\x20a\x20mensagem.\x20Tentativa\x20','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','delayChatLabel','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','group','READ','label','request\x20received\x20in\x20getFlow','label_jid','#d8e651','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','saveCreds','deleteFlow','Instance\x20deleted','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','updateMissingTags','5532GyGtfq','CHATS_DELETE','USER','request\x20received\x20in\x20updateAgent','Fluxo\x20não\x20encontrado.','):\x20Current\x20Time:\x20','chat\x20não\x20encontrado','_Contacts','cpf','resetReconnectionVariables','imported','Erro\x20inesperado\x20em\x20processvaredits:\x20','groupSetting','updateStopChat','chatId','gifPlayback','updateGParticipant','cache','Content\x20is\x20required','loadInstance','Processing\x20audio','editflowvaredit','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','request\x20received\x20in\x20editFlow','sendSticker','app','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','/*.json','InstancesAlterarTodas','createServer','):\x20customFieldVariables','hasOwnProperty','varedits','):\x20Deletando\x20mensagem','):\x20Enviando\x20localização','Falha\x20ao\x20processar\x20fetchBusinessProfile','flattenObject','connectionState','}}\x20->\x20valor\x20não\x20encontrado','8080','Falta\x20informação\x20para\x20a\x20chamada\x20API','auth','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','):\x20Conversa\x20está\x20expirada\x20-\x20voto','description','$set','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','\x20depois\x20','Button\x20IDs\x20cannot\x20be\x20repeated.','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','groupId','.\x20Pulando.','Erro\x20ao\x20remover\x20instâncias\x20antigas:','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','conditions','/message','item','archived','^\x5cd+([-]\x5cd+)*@g.us$','@newsletter','KEY','sendWhatsAppAudio','textMessage','\x20com\x20sucesso.','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','.txt','/wa-contacts','\x20instance\x20does\x20not\x20exist','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','leaveGroup','\x20Tentativa\x20de\x20reconexão\x20','.pptx','toString','updateMediaMessage','subjectTime','@redis/client','sendCommand','readMessageBot','nomecompleto','result','sendPoll','request\x20received\x20in\x20getAutomateSystem','pollUpdateMessage','lastCondition','_error','subdomain','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','status','sharePass','<subdomain>','setHeader','findGroups','editFlow','):\x20Error\x20processing\x20conditions:\x20','DB_PREFIX_NAME','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','processConditions','created','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','The\x20','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','):\x20nextBlock.uazapi.name','Error\x20in\x20chatModify\x20for\x20number\x20','BRL','redis','reaction','getOwnPropertyNames','pollMessageOnDelete','presence.update','deleteReplyOption','getflow','footerText','The\x20global\x20api\x20key\x20must\x20be\x20set','caption','website','context','updateAgent','\x1b[30m%s\x1b[0m','A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','webhook','getRandomText','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','groupUpdateSubject','last','archiveChat','.url','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','/wa-chats','find','messageId','sync','PORT','router','):\x20Buscando\x20conversa...','json','processblock','headers','.ogg','preview','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','entries','\x20foi\x20interrompido\x20pelo\x20usuário.','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','\x20tentativas.','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','uazapiSendMenu','@s.whatsapp.net','):\x20Buscando\x20todos\x20os\x20fluxos...','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','DD/MM\x20HH:mm:ss','SSL_CONF_FULLCHAIN','#ffc5c7','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','longitude','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','\x20chats\x20de\x20','PENDING','):\x20Erro\x20durante\x20a\x20atualização:\x20','):\x20Enviando\x20mídia','true','ORG:','hGet','role','updateChatWithMessage','env.KEY\x20!==\x20key','update','cachedContacts-whatsapp','buttonText','chats.update','unreadcount','URL','updateConversation','listResponseMessage','latitude','flowActive','uazapiSendMedia','deleteflow','onWhatsApp','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','reactionMessage','fetchLatestBaileysVersion','startFlow','menuType','Erro\x20ao\x20tentar\x20autoCompleteMessages','owner','Invalid\x20format','padEnd','Unauthorized','.jwt','privacySettings','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','firstValue','reference','\x20horas\x20e\x20','convert','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','bulkWrite','conversationTimestamp','https://chat.whatsapp.com/','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','stopWhenYouSendMsg','username','client','scheduleNextCheck','creds','utf-8','lastSend','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','yes','SERVER_PORT','inviteCodeDetails','sendMedia','\x20-y','floor','StartBot','setRestartTimeout','instance','Background\x20color\x20is\x20required','SERVER_URL','groups','50mb','_Messages','isAdmin','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','cachedData-whatsapp','parse','updateGroupsAddPrivacy','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','spawn','allContacts','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','DaysToDelete','Type\x20defined\x20as\x20audio','flowIgnoreGroups','keys','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','findContacts','restartInstance','processawaitSeconds','process','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','lastBlockId','labelId','exit','://','saveTextReply','variable','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','toNumber','Error\x20updating\x20cache\x20contact:','buttonMessage','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','min','addBlock','sendPresenceUpdate','\x20do\x20chat\x20','NextBlock','JWT','):\x20','stringify','activatedCount','Error\x20in\x20converting\x20audio','saveConversationToDatabase','createNewConversation','fetchInstances','sectionsToString','color','sendStatus','groupSettingUpdate','joinGroupValidate','getDevice','replaceVariablesInReplyOptions','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','):\x20lastBlockId:\x20','_ScheduleMessages','storePath','SERVER_ACK','setContext','statusMessage','newStoppedUntil','contentText','sending','.error','Documento\x20com\x20ID\x20','*Pergunta*:\x20\x0a','fetchChats','getMessage','uncaughtException','updateGroupParticipantsWebhook','basename','equal','organization','Falha\x20após\x20várias\x20tentativas.','):\x20Iniciando\x20bot...','put','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','buttons','isURL','stanzaId','Mensagens\x20deletadas\x20com\x20sucesso.','maxActives','parseInt','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','matchRegex','charAt','contacts.upsert','g-t','stateConnection','groupMemberAddMode','dbConnection','senderKeyDistributionMessage','connectionStatus','stopMinutesMaxActives','Erro\x20ao\x20alterar\x20fluxo','request\x20received\x20in\x20editFlowvariable','\x22\x20-\x20NOT\x20CONNECTION','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','DATABASE_CONNECTION_URI','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','replaceVariables','hex','inviteCode','all_member_add','Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.','app-state-sync-key','flowConfig','Falhou\x20ao\x20encontrar\x20chat\x20','stopped','getStatus','object','subject','\x20não\x20encontrado\x20para\x20atualização.','request\x20body:\x20','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','getTicketSystem','fetchConversation','#ffae04','WebhookGlobal','Notifying\x20clients\x20for\x20chat:\x20','dropCollection','makeCacheableSignalKeyStore','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','push','):\x20Entrou\x20na\x20função\x20clearVariables','):\x20Conversa\x20está\x20expirada','Type\x20is\x20required','eventHandler','):\x20Error\x20processing\x20the\x20block:\x20','awaitingApproval','getConversationModelForOwner','truncatedtoEnd','sha256','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','ConversationModel','email','info','writeFileSync','3234294TnXPel','variables','audio/ogg;\x20codecs=opus','greater','AUTHENTICATION_JWT_EXPIRIN_IN','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','https-proxy-agent','arrayUnique','stopConversation','MESSAGES_UPDATE','getFlowModelForOwner','#56ccb4','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','$dbName','unavailable','unlocked','TEL','readMessages','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','GROUPS_UPSERT','\x20minutos.\x20Será\x20às\x20','deleteImportedChat','Conexão\x20estabelecida','wuid','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','logger','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','https://api.ipify.org?format=json','CORS_CREDENTIALS','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','Database\x20is\x20not\x20enabled','processclearVariables','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','Logger','Router','status@broadcast','2595299xHWcUA','clearVariables','replyOption','DELIVERY_ACK','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','sections','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','chats','updatePresence','readFileSync','):\x20\x27Deletando\x20fluxo,\x20name:\x20','block','editflowblock','Audio\x20converted\x20and\x20stored\x20in\x20cache','contactMessage','undefined','\x20quoted:\x20','BufferJSON','*\x0a\x0a','https://uazapi-plugin.bubbleapps.io/','setWebhook','https://uazapi-plugin.bubbleapps.io/?url=','padStart','redis://127.0.0.1:6379','processApiRequest','):\x20alterando\x20this.AutomateSystem','END:VCARD','Error\x20fetching\x20and\x20updating\x20profile:\x20','notas','apiResponse','hSet','drop','#9568cf','chat','.ppt','hbs','formatVCard','):\x20Conversas\x20encontradas:','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','):\x20Buscando\x20flow...','env.yml','scheduleFlow','messageTimestamp','mongodb://','image','A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','pairingCode','2180aeWdaY','unknown\x20operation\x20type\x20[','write','unlinkSync','sendMenu','loadWebhook','profilePictureUrl','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','option','findWebhook','contextInfo','LEVEL','ON\x20-\x20dbName:\x20','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','collections','trim','remove.instance','editFlowReply','g.us','findAll','prototype','contact','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','enabled','messageStubParameters','removed',',\x20isAdmin:\x20','some','console','PRESENCE_UPDATE','messages.upsert','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','chatHandle','waInstances','Rótulo\x20inválido\x20ou\x20sem\x20ID.','startCommandWord','editflowvariable','admin','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','delayChatLabel_RETRY_DELAY_MS','string','output','qrcode.updated','Erro\x20ao\x20inserir\x20chats:','updateStatusPrivacy','processPollUpdateMessage','):\x20Going\x20to\x20','createClient','Erro\x20ao\x20atualizar\x20conversa:\x20','quoted',',\x20Expiration\x20Time:\x20','notify','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','deleteConversation','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','.jpg','.ogv','testingWith','URI','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','#b4ebff','unhandledRejection','):\x20Entrou\x20na\x20função\x20goToFlow','revokeInviteCode','33588TlBguZ','1099656xMhFBo','):\x20expirationTime:\x20','cors','Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','SEND_MESSAGE','_activedCount','mentioned','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','phoneNumber','replace','height','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP',':\x20Tentativa\x20','ERROR:\x20','DisconnectReason','arraybuffer','URL:','inner','/wa-groups','\x20não\x20encontrado','lastInteraction','mentions','groupParticipantsUpdate','messages','connectToWhatsappController','url','scheduled','findOrCreate','password','http','\x20global:\x20','insertMany','findAndUpdate','REDIS','createHash',']\x20(','verbose','lastFetchAwaitingApproval','--standalone','prefixCommand','max','Erro\x20ao\x20arquivar\x20chat','pollCreationMessageV2','express','número\x20não\x20existe','locked','abs','dataValidate','qrcode','rm\x20-rf\x20','recebido\x20de','bearer','http://ifconfig.me/ip',',\x20Resultado:\x20','STORE','statusCode','dbServer','readreceipts','detail','Erro\x20ao\x20editar\x20o\x20bloco:\x20','createConnection','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','readMessage',',\x20Novo\x20tamanho:\x20','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','lastMessage','editFlowVaredit','updateLastSeenPrivacy','groupJid','inviteUrl','apikey','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','/instance/fetchInstances','ignoreGroups','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','descId','):\x20atualização\x20chat:\x20','viewOnceMessage','\x20inseridos\x20no\x20banco\x20de\x20dados...','getConversation','recording','send','public','Erro\x20ao\x20buscar\x20o\x20fluxo','testProxy','js-yaml','editFlowGroup','user','QRCODE_UPDATED','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','TYPE','request\x20received\x20in\x20getConversation','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','.TEL;waid=','convertedOptions','):\x20updateResult:','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:\x20flowOnwer:\x20','):\x20Procurando\x20mensagens\x20para\x20envio','):\x20Chat\x20','Instância:\x20','params','audio','The\x20\x22','CONNECTION_UPDATE','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','eventEmitter','global','\x20não\x20encontrado\x20para\x20cópia','hDel','author','picture','):\x20Entrou\x20na\x20função\x20scheduleFlow','subjectOwner','Types','initAuthCreds','Getting\x20image\x20from\x20url','messageSecret','dbSettings','deletedCount','listType','dayjs','saveVariable','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','sendMessageAck','jpegThumbnail','events','Instance\x20restarted','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','uuid','cachedContact','where','changeVariables','\x0aitem','http://checkip.dyndns.org','none','minutesToClose','splice','cacheContact','prepareMediaMessage','Pausado\x20por\x20','groupCreate','findAndReplace','dbClient','replacer','Temp\x20image\x20deleted','updateAutoCompleteMessages','):\x20Editando\x20bloco...','contactHandle',',\x20global:\x20','round',',\x20Segundo\x20Valor:\x20','AUTHENTICATION','deleteChat','admin_add','scheduleSendText','env','CORS','AutomateFunctions','groupValidate','connectToWhatsapp','createWebhook','copyBlock','Db\x20Connection','updateProfileStatus','groupName','\x1b[46m','text/event-stream','model','substring','participants','urlencoded','cleaningUp','uazapi','slice','DATABASE_CONNECTION_DB_PREFIX_NAME','.mimetype','\x1b[30m','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','start','connectionClosed','flow','51ZLobgA','release','upsertedCount','):\x20Rótulo\x20atualizado:\x20','updateGroupWebhook','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','flowConversation','pushName','Image\x20path:\x20','optionName','segundos','findMessages','remoteJid','request\x20received\x20in\x20allFlows','timeout','envProcess','.xlsx','del','updateCustomFields','leadInfo.atendimentoAberto','authState','The\x20property\x20cannot\x20be\x20empty','responsavelid','findIndex','use','):\x20Enviando\x20texto','groupadd','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','headerString','Not\x20Found','instances','Connection','config','bateu\x20events','bodyString','.mp3','toLowerCase','instanceKeys','API\x20Key\x20from\x20Request:','createConversationforStartFlow','sendButtons','Esse\x20fluxo\x20expirou','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','Instance\x20Name:','online','quotedMessage','warn','LICENSE_INVALID','Erro\x20ao\x20iniciar\x20o\x20fluxo.','\x1b[33m\x1b[1m','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','fetchProfilePicture','uazapiSendLocation','notEqual','utf8','badSession','getVariablesChat','Fetching\x20business\x20profile','dbInstance','stopMinutes','messaging-history.set','birthtime','fetchProfile','iniciando\x20fluxo\x20router','replyOptions','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','font','createJid','participant','):\x20enviado\x20para\x20[','ephemeralExpiration','messagesSend','updateChatGroupData','/instance','exports','trimmed','.wav','\x20não\x20encontrado.','.png','):\x20Bloco\x20copiado:\x20','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','application/json','WARN','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','findOne','default','video','requestPairingCode','upperCase','/create','\x20e\x20proprietário\x20','):\x20conversation.status:\x20','LOG','createRegularFlow','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','listen','Erro\x20ao\x20deletar\x20mensagens:','):\x20Visualizando\x20AutomateSystem','fetchPrivacySettings','configService','getContactModelForOwner','AddChatLabel','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','urlOrBase64','#64c4ff','oldValue','/exit','lastReceivedMessage','exec','delete','DATABASE_CONNECTION_PASSWORD','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','/media/','fileLength',',\x20lastCondition:\x20','):\x20Editando\x20replyOption...','CHATS_UPSERT','/media','Error\x20fetching\x20group','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','view\x20engine','):\x20conversation.lastInteraction:\x20','GUARD','CHATS_SET','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','groups.upsert','no.connection','\x20:\x20','DATABASE_CONNECTION_HOST','Error\x20writing\x20file:\x20','):\x20conversation.waitingMenu_name','values','REDIS_PREFIX_KEY','tags','https://jsonip.com','bodyStringErrorParse','certbot','.fileUrl','isJWT','evaluateConditionTest','API\x20Key\x20inválida.','ScheduleMessage','Safari','STORE_CLEANING_TERMINAL','userDevicesCache','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','.type','nome','PRIVKEY','truncatedto','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','Module\x20-\x20ON','mkdirSync','GET','instance.','variablesToObject','removeOlderDisconnectedInstances','@ffmpeg-installer/ffmpeg','promote','remove','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','deleteMessage','Forbidden','editflowreply','http://icanhazip.com/','getMessageModelForOwner','insertCount','when','crypto','Cannot\x20','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','processgoToFlow','contains','Erro\x20ao\x20deletar\x20a\x20conversa','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','):\x20Entrou\x20na\x20função\x20stop','log','and','axios','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','unreadCount','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','length','Desconectado,\x20parando\x20execução.','Instance\x20\x22','content','#83e421','editScheduleMessage','STATUS_INSTANCE','moreLogs','authService','condition','getTime','PREFIX_KEY','markMessageAsRead','getFlow','errors','autoCompleteMessages.command_1','requestFile','Conversa\x20deletada\x20com\x20sucesso.','mediaMessage','limit','count','../env.yml','has','repeat','toFile','verifyWhatsAppNumber','@g.us','augusto.fcs@gmail.com','applyvaredit','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','expiration','removeInstance','done','awaitSeconds','pre','imageMessage','approve','LOG_COLOR','title','groupdata','shareOwners','create','error_log','lowerCase','ERROR','deleteAll','silent','Image\x20created','Converting\x20image\x20to\x20WebP\x20to\x20sticker','closed','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','Certbot:\x20','Cached\x20audio\x20found,\x20returning\x20existing\x20file','?timestamp=','ChatModel','createAndSave','\x5cd+','automateSystem','request\x20received\x20in\x20editFlowcondition','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','isCommunityAnnounce','add','isListOfNumbers','envYaml','/chat','):\x20Não\x20achou\x20nenhum\x20flow','beautifyWithPlaceholders','toLocaleString','deleteOne','instanceCount','saveChatVariables','.webp','protocol','cacheContactModel','get','integer','not\x20loaded','set','blockLogs','\x1b[1m','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','extractMessageContent','Audio\x20processed','now','_id','findByIdAndUpdate','leadInfo.','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','webp','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','contacts.update','presenceSubscribe','superadmin','groupRevokeInvite','options','dark','StartID:','fromMe','):\x20transformedCustomFieldVariables','updateMissingEtiquetas','ENABLED','boolean','static','reorderReplyOptions','fetchMessages','checkAndRestartProcess','):\x20Deletando\x20conversa...','chats.set','fromObject','Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','fileName','scheduleMessage','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','media','atendimentoAberto','canSendMessage','PLAYED','API_KEY','ms\x20(tentativa\x20','Deletion\x20failed','closeExistingConversations','query','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','Enter\x20a\x20value\x20in\x20milliseconds','Resultado\x20da\x20atualização:','\x20saindo\x20da\x20função','ids','empty','etiquetas',':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20','ContactsAndGroups','\x22reaction\x22\x20must\x20be\x20an\x20emoji',':\x20Erro\x20durante\x20loadproxy\x20-\x20','Sistema\x20atualizado\x20com\x20sucesso!','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','STORE_CHATS','digest','leadInfo.customFields','groupGetInviteInfo','\x1b[34m%s\x1b[0m','keep-alive','editFlowCondition','includes','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','updatePrivacySettings','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message'];a0_0x4c0e=function(){return _0x398e6f;};return a0_0x4c0e();}j[a0_0x7625da(0x7de)]&&qe['info'](a0_0x7625da(0x5d5)+$[a0_0x7625da(0x582)]);var fe=j[a0_0x7625da(0x7de)]?j[a0_0x7625da(0x1e1)][a0_0x7625da(0x604)]?ve[a0_0x7625da(0x716)]['createConnection'](j[a0_0x7625da(0x1e1)][a0_0x7625da(0x604)],{'dbName':a0_0x7625da(0x4ee)}):ve[a0_0x7625da(0x716)][a0_0x7625da(0x647)](a0_0x7625da(0x5c5)+j[a0_0x7625da(0x1e1)]['HOST']+':'+j['CONNECTION'][a0_0x7625da(0x490)]+a0_0x7625da(0x3b9),{'user':j[a0_0x7625da(0x1e1)][a0_0x7625da(0x40e)],'pass':j['CONNECTION'][a0_0x7625da(0x344)],'dbName':a0_0x7625da(0x4b3)}):null;fe&&qe['info'](a0_0x7625da(0x5d5)+fe[a0_0x7625da(0x582)]),process['on'](a0_0x7625da(0x817),()=>{const _0xf51409=a0_0x7625da;$&&$['close'](()=>{const _0x413182=a0_0x5efa;qe[_0x413182(0x573)]('Database\x20connection\x20closed.');}),fe&&fe[_0xf51409(0x83b)](()=>{const _0x2c4d02=_0xf51409;qe[_0x2c4d02(0x573)](_0x2c4d02(0x3e6));});});var Vo=new we[(a0_0x7625da(0x389))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Go=new we[(a0_0x7625da(0x389))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),Bo=new we[(a0_0x7625da(0x389))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),Wo=new we[(a0_0x7625da(0x389))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Vo],'default':[]}},{'_id':!0x1}),zo=new we['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Wo,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Go},'groupdata':{'type':Bo,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Ks=_0x183e1c=>{const _0x257eb6=a0_0x7625da;let _0x243fbc='z_'+_0x183e1c+_0x257eb6(0x3f7);return $?.[_0x257eb6(0x6b3)](_0x257eb6(0x7b0),zo,_0x243fbc);},Qs=require('mongoose'),Ho=new Qs[(a0_0x7625da(0x389))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Ys=_0x4b91f0=>{const _0x2d91f9=a0_0x7625da;let _0xb56c6e='z_'+_0x4b91f0+_0x2d91f9(0x413);return $?.[_0x2d91f9(0x6b3)]('ContactModel',Ho,_0xb56c6e);},Xs=require('mongoose'),us=class{},Ko=new Xs[(a0_0x7625da(0x389))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Zs=fe?.[a0_0x7625da(0x6b3)](us[a0_0x7625da(0x2f7)],Ko,a0_0x7625da(0x7fd)),ea=require('mongoose'),Qo=new ea[(a0_0x7625da(0x389))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),ta=_0x26b50f=>{const _0x50e51b=a0_0x7625da;let _0x774975='z_'+_0x26b50f+_0x50e51b(0x4eb);return $?.[_0x50e51b(0x6b3)](_0x50e51b(0x3cb),Qo,_0x774975);},sa=require(a0_0x7625da(0x272)),ds=class{},Yo=new sa[(a0_0x7625da(0x389))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),aa=$?.[a0_0x7625da(0x6b3)](ds[a0_0x7625da(0x2f7)],Yo,a0_0x7625da(0x3e5)),oa=require(a0_0x7625da(0x272)),ps=class{},ra=new oa[(a0_0x7625da(0x389))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ra[a0_0x7625da(0x79c)](a0_0x7625da(0x260),function(_0x509cc8){const _0x406061=a0_0x7625da;delete this[_0x406061(0x4bb)],delete this[_0x406061(0x4f7)],delete this[_0x406061(0x818)],delete this[_0x406061(0x880)],delete this[_0x406061(0x221)],_0x509cc8();});var ia=$?.['model'](ps[a0_0x7625da(0x2f7)],ra,a0_0x7625da(0x484)),D=require(a0_0x7625da(0x272)),hs=require('uuid'),Ve=class{},na=new D['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),gs=new D['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Xo=new D['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x7625da(0x8ee)},'footerText':{'type':String},'buttonText':{'type':String,'default':'Selecione'},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ca=new D[(a0_0x7625da(0x389))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Zo=new D[(a0_0x7625da(0x389))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),er=new D[(a0_0x7625da(0x389))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),fs=new D[(a0_0x7625da(0x389))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),tr=new D[(a0_0x7625da(0x389))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),la=new D[(a0_0x7625da(0x389))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Xo},'apirequest':Zo,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':tr,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ua=new D[(a0_0x7625da(0x389))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ws=new D[(a0_0x7625da(0x389))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,hs['v4'])()},'startID':{'type':String,'default':()=>(0x0,hs['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'global':{'type':String,'default':a0_0x7625da(0x8e4)},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x39d614=a0_0x7625da;return'!cmd_'+Math['random']()[_0x39d614(0x455)](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[fs],'variablesNotFound':{'type':[String]},'blocks':[la],'groups':[na],'conditions':[ca],'varedits':[ua],'replyOptions':{'type':[gs],'default':[]}});ws[a0_0x7625da(0x79c)]('save',function(_0x3c6c7a){const _0xcdb44a=a0_0x7625da;let _0x11e424=new Set(),_0x4000cc=new Set(this[_0xcdb44a(0x576)]?.[_0xcdb44a(0x1ec)](_0x59f189=>_0x59f189[_0xcdb44a(0x2f7)])),_0x5cc5dd=JSON[_0xcdb44a(0x511)](this),_0x3dc47d=/{{(?!_)([^}]*)}}/g,_0x3a89bd;for(;(_0x3a89bd=_0x3dc47d[_0xcdb44a(0x72e)](_0x5cc5dd))!==null;)_0x4000cc[_0xcdb44a(0x78f)](_0x3a89bd[0x1])||_0x11e424[_0xcdb44a(0x7b7)](_0x3a89bd[0x1]);_0x11e424[_0xcdb44a(0x24d)]>0x0?(console[_0xcdb44a(0x6ef)]('Variáveis\x20não\x20encontradas:',Array['from'](_0x11e424)),this[_0xcdb44a(0x2d8)]=Array['from'](_0x11e424)):this['variablesNotFound']=[],_0x3c6c7a();}),ws['pre'](a0_0x7625da(0x3e3),function(_0x223c22){const _0x8b9f10=a0_0x7625da;let _0x59dcf6=this['getUpdate']();if(_0x59dcf6&&typeof _0x59dcf6=='object'&&_0x8b9f10(0x43a)in _0x59dcf6){let _0x3cded8=_0x59dcf6[_0x8b9f10(0x43a)];if(_0x3cded8){let _0x16521b=new Set(),_0x3e72c7=new Set(_0x3cded8[_0x8b9f10(0x576)]?.[_0x8b9f10(0x1ec)](_0xb761b6=>_0xb761b6['name'])),_0xc4b7c6=JSON[_0x8b9f10(0x511)](_0x3cded8),_0x52ab04=/{{(?!_)([^}]*)}}/g,_0x3c214f;for(;(_0x3c214f=_0x52ab04['exec'](_0xc4b7c6))!==null;)_0x3e72c7[_0x8b9f10(0x78f)](_0x3c214f[0x1])||_0x16521b['add'](_0x3c214f[0x1]);_0x16521b[_0x8b9f10(0x24d)]>0x0?(console['warn'](_0x8b9f10(0x1fb),Array[_0x8b9f10(0x861)](_0x16521b)),_0x3cded8[_0x8b9f10(0x2d8)]=Array[_0x8b9f10(0x861)](_0x16521b)):_0x3cded8['variablesNotFound']=[],this[_0x8b9f10(0x8b6)]({'$set':_0x3cded8});}}_0x223c22();});var da=_0x278958=>{const _0x51f6dd=a0_0x7625da;let _0x2e5190='z_'+_0x278958+'_Flows';return $?.['model'](_0x51f6dd(0x35f),ws,_0x2e5190);},sr=new D[(a0_0x7625da(0x389))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[fs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[er]},{'_id':!0x1}),ar=new D['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[fs],'blocks':[la],'groups':[na],'conditions':[ca],'varedits':[ua],'replyOptions':{'type':[gs],'default':[]},'chatLog':sr,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x7625da(0x32e)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x7625da(0x6ea)},'waitingMenu_replyOptions':{'type':[gs],'default':[]}}),pa=_0x2c325d=>{const _0x343bfd=a0_0x7625da;let _0x5b16b7='z_'+_0x2c325d+_0x343bfd(0x3de);return $?.['model'](_0x343bfd(0x571),ar,_0x5b16b7);},or=new D['Schema']({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),rr=new D['Schema']({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ir=new D[(a0_0x7625da(0x389))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x7625da(0x625)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':rr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[or],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ha=_0x5b95d7=>{const _0x429de7=a0_0x7625da;let _0x5af57d='z_'+_0x5b95d7+_0x429de7(0x520);return $?.[_0x429de7(0x6b3)]('ScheduleMessageModel',ir,_0x5af57d);},ms=class{},nr=new D['Schema']({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),cr=new D[(a0_0x7625da(0x389))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),lr=new D[(a0_0x7625da(0x389))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x7625da(0x319)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),ur=new D['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),dr=new D[(a0_0x7625da(0x389))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[ur]},'customFields':{'type':[cr]},'flowConfig':{'type':lr,'default':{}},'autoCompleteMessages':{'type':[nr],'default':[]}}),Ne=$?.['model'](ms['name'],dr,a0_0x7625da(0x3e1)),ga=require(a0_0x7625da(0x272)),pr=new ga['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ma=_0x162c1d=>{const _0x15721f=a0_0x7625da;let _0x16b26d='z_'+_0x162c1d+'_Labels';return $?.[_0x15721f(0x6b3)](_0x15721f(0x33b),pr,_0x16b26d);},x=class{constructor(_0x5c2de2){const _0x3cddf0=a0_0x7625da;this['dbSettings']=_0x5c2de2[_0x3cddf0(0x7c4)](_0x3cddf0(0x3c8));}};function T(_0x2336a4){const _0xf10489=a0_0x7625da;let _0x1e55a7={};for(let [_0x4b8ee7,_0x4e7ba7]of Object[_0xf10489(0x499)](_0x2336a4))if(typeof _0x4e7ba7==_0xf10489(0x559)&&!Array[_0xf10489(0x87a)](_0x4e7ba7)){for(let [_0x5d005c,_0x4cd58d]of Object[_0xf10489(0x499)](_0x4e7ba7))_0x1e55a7[_0x4b8ee7+'.'+_0x5d005c]=_0x4cd58d;}else _0x1e55a7[_0x4b8ee7]=_0x4e7ba7;return _0x1e55a7;}var Ge=class{constructor(_0x177c0a,_0x2a2ba6,_0x126dbb,_0xa36a22,_0x5112d0,_0x3d3faa,_0x162f65,_0x2e237d,_0x28a366,_0x4b6af9,_0xb8e5f8,_0x41d836){const _0x542902=a0_0x7625da;this[_0x542902(0x1ff)]=_0x177c0a,this[_0x542902(0x5bb)]=_0x2a2ba6,this[_0x542902(0x5de)]=_0x126dbb,this['cacheContact']=_0xa36a22,this[_0x542902(0x484)]=_0x5112d0,this[_0x542902(0x436)]=_0x3d3faa,this[_0x542902(0x6c0)]=_0x162f65,this[_0x542902(0x6c7)]=_0x2e237d,this[_0x542902(0x402)]=_0x28a366,this[_0x542902(0x7ea)]=_0x4b6af9,this['automateSystem']=_0xb8e5f8,this[_0x542902(0x69a)]=_0x41d836;}get[a0_0x7625da(0x643)](){return this['dbClient'];}},Be=class{},We=class extends x{['getMessageModelForOwner'](_0x11fcf8){return ta(_0x11fcf8);}async[a0_0x7625da(0x20a)](_0x403737,_0x529855){const _0x1f6099=a0_0x7625da;if(_0x403737[_0x1f6099(0x779)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x1f6099(0x768)](_0x529855)[_0x1f6099(0x62a)]([..._0x403737]))['length']};}catch(_0x397447){return _0x397447;}}async['find'](_0x386300,_0x2f80f7){const _0x22622b=a0_0x7625da;try{let _0x582408=this[_0x22622b(0x768)](_0x2f80f7),_0x584fa9=T(_0x386300['where']);return await _0x582408[_0x22622b(0x48d)](_0x584fa9)[_0x22622b(0x827)]({'messageTimestamp':-0x1})[_0x22622b(0x78c)](_0x386300?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0x7625da(0x72f)](_0x36875c,_0x10f1ea){const _0xd5f409=a0_0x7625da;try{let _0x31e060=this['getMessageModelForOwner'](_0x10f1ea),_0x4443b6=T(_0x36875c[_0xd5f409(0x68e)]);await _0x31e060[_0xd5f409(0x343)](_0x4443b6);}catch(_0xac1f7f){console[_0xd5f409(0x3a8)](_0xac1f7f);}}async[a0_0x7625da(0x4b2)](_0x348928,_0x1af5a1,_0x5b7f83){const _0x1fc07c=a0_0x7625da;try{let _0x539545=this[_0x1fc07c(0x768)](_0x5b7f83),_0x492e8e=T(_0x348928['where']);return await _0x539545[_0x1fc07c(0x3e3)](_0x492e8e,{'$set':_0x1af5a1},{'new':!0x0});}catch(_0x43ab31){throw console[_0x1fc07c(0x3a8)](_0x43ab31),_0x43ab31;}}async[a0_0x7625da(0x62a)](_0x33855e,_0x3400ac){const _0x236a20=a0_0x7625da;if(_0x33855e[_0x236a20(0x779)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x236a20(0x768)](_0x3400ac)[_0x236a20(0x62a)]([..._0x33855e]))[_0x236a20(0x779)]};}catch(_0x180347){return console['log'](_0x236a20(0x618),_0x180347),_0x180347;}}async[a0_0x7625da(0x7a7)](_0x1bf809){try{return await this['getMessageModelForOwner'](_0x1bf809)['collection']['drop'](),{'success':!0x0};}catch(_0x2b37f5){return console['error'](_0x2b37f5),{'success':!0x1,'error':_0x2b37f5};}}},$s=O(require(a0_0x7625da(0x760))),f=O(require(a0_0x7625da(0x35c))),De=require('fs'),L=O(require(a0_0x7625da(0x26d))),Q=O(require(a0_0x7625da(0x775))),So=require(a0_0x7625da(0x68c)),Mo=O(require(a0_0x7625da(0x63b))),Co=O(require(a0_0x7625da(0x85f))),fa=[a0_0x7625da(0x79d),a0_0x7625da(0x1f6),a0_0x7625da(0x3e7),'videoMessage',a0_0x7625da(0x23a)],wa=['ephemeralMessage',a0_0x7625da(0x2d4),a0_0x7625da(0x659),'viewOnceMessageV2'],As=require('os'),kt=O(require('pino')),_e=require('child_process'),jt=require(a0_0x7625da(0x24c)),re=O(require('mongoose')),P=require(a0_0x7625da(0x8a7)),ye=class{constructor(_0x118884,_0x1018e2,_0x5cbff0){const _0x393eb7=a0_0x7625da;this['jid']=_0x118884,this[_0x393eb7(0x1dd)]=_0x1018e2,this[_0x393eb7(0x2f7)]=_0x5cbff0;}},ze=class{},He=class{},Re=class{},Ke=class{},Qe=class{},be=class{},Ye=class{},Xe=class{},Ze=class{},et=class{},It=O(require(a0_0x7625da(0x636))),ya=require('fs'),ba=require(a0_0x7625da(0x26d));function a0_0x5efa(_0x27d299,_0x5bdd99){const _0x4c0e6a=a0_0x4c0e();return a0_0x5efa=function(_0x5efac7,_0x19e142){_0x5efac7=_0x5efac7-0x1dc;let _0x36f0c7=_0x4c0e6a[_0x5efac7];return _0x36f0c7;},a0_0x5efa(_0x27d299,_0x5bdd99);}async function $e(_0xaaa65d){const _0xd3b1d6=a0_0x7625da;let _0x19a3e9=B[_0xd3b1d6(0x5ea)][_0xaaa65d];if(j['ENABLED']){let _0x43b4bd=$[_0xd3b1d6(0x259)]()['db'](j['CONNECTION']['DB_PREFIX_NAME']+_0xd3b1d6(0x3f4))['collection'](_0xaaa65d);return _0x19a3e9||(await _0x43b4bd[_0xd3b1d6(0x48d)]({})['toArray']())[_0xd3b1d6(0x779)]>0x0;}return _0x19a3e9||(0x0,ya[_0xd3b1d6(0x36b)])((0x0,ba[_0xd3b1d6(0x867)])(me,_0xaaa65d));}async function Sa(_0x29d198,_0x348bf7,_0x3f25a6){const _0x4ce312=a0_0x7625da;if(_0x29d198[_0x4ce312(0x8d6)]['includes'](_0x4ce312(0x329))||_0x29d198[_0x4ce312(0x8d6)][_0x4ce312(0x80b)](_0x4ce312(0x654))||_0x29d198['originalUrl']['includes']('/exit')||_0x29d198[_0x4ce312(0x8d6)][_0x4ce312(0x80b)](_0x4ce312(0x310))||_0x29d198[_0x4ce312(0x8d6)]['includes']('/instance/connect')||_0x29d198[_0x4ce312(0x8d6)][_0x4ce312(0x80b)]('/instance/connectionState')||_0x29d198['originalUrl']['includes']('/instance/delete'))return _0x3f25a6();let _0x9e22b9=_0x29d198[_0x4ce312(0x670)];if(!_0x9e22b9?.['instanceName'])throw new m(_0x4ce312(0x86b));if(!await $e(_0x9e22b9['instanceName']))throw new U(_0x4ce312(0x470)+_0x9e22b9[_0x4ce312(0x1dc)]+_0x4ce312(0x450));_0x3f25a6();}async function Ma(_0x5dfc3e,_0x349997,_0x3afc0f){const _0x4b24ec=a0_0x7625da;if(_0x5dfc3e[_0x4b24ec(0x8d6)][_0x4b24ec(0x80b)](_0x4b24ec(0x329))){let _0x5d9070=_0x5dfc3e[_0x4b24ec(0x2d3)];if(await $e(_0x5d9070[_0x4b24ec(0x1dc)]))throw new Y(_0x4b24ec(0x22e)+_0x5d9070[_0x4b24ec(0x1dc)]+_0x4b24ec(0x233));B[_0x4b24ec(0x5ea)][_0x5d9070[_0x4b24ec(0x1dc)]]&&delete B[_0x4b24ec(0x5ea)][_0x5d9070[_0x4b24ec(0x1dc)]];}_0x3afc0f();}var Ca=require(a0_0x7625da(0x8a7)),Ea=O(require(a0_0x7625da(0x36e))),tt=a0_0x7625da(0x6b8),gr=new R(a0_0x7625da(0x73c));async function mr(_0x5a830d,_0x118fb4,_0x9154){const _0x52c749=a0_0x7625da;let _0x19b7db=_0x5a830d[_0x52c749(0x7c4)]('apikey');if(_0x19b7db&&S[_0x52c749(0x7c4)](_0x52c749(0x6a3))[_0x52c749(0x7f0)][_0x52c749(0x449)]!==_0x19b7db)throw new ae();if(S[_0x52c749(0x7c4)](_0x52c749(0x6a3))[_0x52c749(0x7f0)][_0x52c749(0x449)]===_0x19b7db)return _0x9154();if((_0x5a830d['originalUrl'][_0x52c749(0x80b)](_0x52c749(0x329))||_0x5a830d[_0x52c749(0x8d6)][_0x52c749(0x80b)]('/instance/fetchInstances'))&&!_0x19b7db)throw new Y(_0x52c749(0x3af),_0x52c749(0x47d));let _0x221571=S['get']('AUTHENTICATION')[_0x52c749(0x50f)];try{let [_0x3face5,_0x518cf4]=_0x5a830d[_0x52c749(0x7c4)]('authorization')[_0x52c749(0x1e9)]('\x20');if(_0x3face5[_0x52c749(0x6e5)]()!==_0x52c749(0x63e))throw new ae();if(!(0x0,Ca[_0x52c749(0x74d)])(_0x518cf4))throw new ae();let _0x373283=_0x5a830d[_0x52c749(0x670)],_0x34aed5=Ea[_0x52c749(0x716)][_0x52c749(0x828)](_0x518cf4,_0x221571[_0x52c749(0x82e)],{'ignoreExpiration':_0x221571[_0x52c749(0x2e1)]===0x0});if(_0x373283[_0x52c749(0x1dc)]!==_0x34aed5['instanceName']||tt!==_0x34aed5['apiName'])throw new ae();return _0x9154();}catch(_0x418a96){throw gr[_0x52c749(0x3a8)](_0x418a96),new ae();}}async function fr(_0x39fda4,_0xef76d8,_0x111402){const _0xb391da=a0_0x7625da;let _0x53741a=S[_0xb391da(0x7c4)](_0xb391da(0x6a3))[_0xb391da(0x7f0)],_0x49a6f2=_0x39fda4['get'](_0xb391da(0x652));if(_0x53741a[_0xb391da(0x449)]===_0x49a6f2)return _0x111402();if(_0x39fda4[_0xb391da(0x8d6)]['includes'](_0xb391da(0x329))){let _0x52dcad=st,_0x1a4f42=_0x39fda4['body'][_0xb391da(0x1dc)];if(_0x52dcad&&_0x1a4f42[_0xb391da(0x6e5)]()[_0xb391da(0x321)](_0x52dcad['toLowerCase']()))return _0x111402();if(!_0x49a6f2)throw new Y(_0xb391da(0x3af),_0xb391da(0x47d));}if(_0x39fda4['originalUrl'][_0xb391da(0x80b)](_0xb391da(0x654))&&!_0x49a6f2)throw new Y(_0xb391da(0x3af),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x39fda4[_0xb391da(0x8d6)][_0xb391da(0x80b)]('/exit')&&!_0x49a6f2)throw new Y('Missing\x20global\x20api\x20key',_0xb391da(0x47d));if(_0x39fda4[_0xb391da(0x8d6)][_0xb391da(0x80b)]('/config')&&!_0x49a6f2)throw new Y(_0xb391da(0x3af),_0xb391da(0x47d));try{let _0x3e31e0=_0x39fda4['params'],_0x5bf83e=await ue[_0xb391da(0x436)][_0xb391da(0x48d)](_0x3e31e0[_0xb391da(0x1dc)]);if(_0x5bf83e&&_0x5bf83e[_0xb391da(0x652)]===_0x49a6f2)return _0x111402();}catch{}throw new ae();}var va={'jwt':mr,'apikey':fr},oo=require(a0_0x7625da(0x636)),v=require('uuid'),E=(..._0x2ca3e0)=>{const _0x3cf313=a0_0x7625da;let _0x5bb345={};return _0x2ca3e0[_0x3cf313(0x886)](_0x58917f=>_0x5bb345[_0x58917f]={'minLength':0x1,'description':_0x3cf313(0x672)+_0x58917f+_0x3cf313(0x3a0)}),{'if':{'propertyNames':{'enum':[..._0x2ca3e0]}},'then':{'properties':_0x5bb345}};},N={'$id':(0x0,v['v4'])(),'type':'object','properties':{'instanceName':{'type':a0_0x7625da(0x5f1)}},...E(a0_0x7625da(0x1dc))},rc={'$id':(0x0,v['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x7625da(0x5f1)}},'required':[a0_0x7625da(0x8e5)],...E(a0_0x7625da(0x8e5))},ic={'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x7625da(0x5f1)},'remoteJid':{'type':a0_0x7625da(0x5f1)},'fromMe':{'type':a0_0x7625da(0x7df),'enum':[!0x0,!0x1]}},'required':['id',a0_0x7625da(0x6cd),'fromMe'],...E('id',a0_0x7625da(0x6cd))},'message':{'type':a0_0x7625da(0x559)}}},X={'properties':{'delay':{'type':a0_0x7625da(0x7c5),'description':a0_0x7625da(0x7f6)},'presence':{'type':a0_0x7625da(0x5f1),'enum':[a0_0x7625da(0x583),a0_0x7625da(0x2a0),'composing',a0_0x7625da(0x65c),a0_0x7625da(0x8cb)]}}},H={'type':'string','description':a0_0x7625da(0x4c6)},Na={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'number':{...H},'options':{...X},'textMessage':{'type':a0_0x7625da(0x559),'properties':{'text':{'type':a0_0x7625da(0x5f1)}},'required':[a0_0x7625da(0x3e8)],...E('text')}},'required':[a0_0x7625da(0x44b),a0_0x7625da(0x305)]},Ra={'type':a0_0x7625da(0x5f1),'pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0x7625da(0x4c6)},nc={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'number':{...Ra},'options':{...X},'textMessage':{'type':a0_0x7625da(0x559),'properties':{'text':{'type':a0_0x7625da(0x5f1)}},'required':[a0_0x7625da(0x3e8)],...E(a0_0x7625da(0x3e8))}},'required':[a0_0x7625da(0x44b),'number']},cc={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'number':{...Ra},'options':{...X},'mediaMessage':{'type':a0_0x7625da(0x559),'properties':{'mediatype':{'type':a0_0x7625da(0x5f1),'enum':[a0_0x7625da(0x5c6),a0_0x7625da(0x8e9),a0_0x7625da(0x717),a0_0x7625da(0x671)]},'media':{'type':a0_0x7625da(0x5f1)},'fileName':{'type':'string'},'caption':{'type':'string'}},'required':[a0_0x7625da(0x223),a0_0x7625da(0x7ec)],...E(a0_0x7625da(0x7e9),a0_0x7625da(0x47e),a0_0x7625da(0x7ec))}},'required':['mediaMessage',a0_0x7625da(0x305)]},$a={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'number':{...H},'options':{...X},'stickerMessage':{'type':a0_0x7625da(0x559),'properties':{'image':{'type':a0_0x7625da(0x5f1)}},'required':[a0_0x7625da(0x5c6)],...E(a0_0x7625da(0x5c6))}},'required':['stickerMessage',a0_0x7625da(0x305)]},Aa={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'statusMessage':{'type':'object','properties':{'type':{'type':'string','enum':[a0_0x7625da(0x3e8),a0_0x7625da(0x5c6),'audio','video']},'content':{'type':a0_0x7625da(0x5f1)},'caption':{'type':a0_0x7625da(0x5f1)},'backgroundColor':{'type':a0_0x7625da(0x5f1)},'font':{'type':a0_0x7625da(0x7c5),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x7625da(0x280),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x7625da(0x845),'description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0x7625da(0x7df),'enum':[!0x0,!0x1]}},'required':[a0_0x7625da(0x3a6),a0_0x7625da(0x77c)],...E(a0_0x7625da(0x3a6),a0_0x7625da(0x77c))}},'required':[a0_0x7625da(0x524)]},Oa={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'number':{...H},'options':{...X},'mediaMessage':{'type':a0_0x7625da(0x559),'properties':{'mediatype':{'type':a0_0x7625da(0x5f1),'enum':[a0_0x7625da(0x5c6),a0_0x7625da(0x8e9),a0_0x7625da(0x717),a0_0x7625da(0x671)]},'media':{'type':a0_0x7625da(0x5f1)},'fileName':{'type':a0_0x7625da(0x5f1)},'caption':{'type':a0_0x7625da(0x5f1)}},'required':[a0_0x7625da(0x223),a0_0x7625da(0x7ec)],...E(a0_0x7625da(0x7e9),'caption',a0_0x7625da(0x7ec))}},'required':[a0_0x7625da(0x78b),a0_0x7625da(0x305)]},Ta={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'number':{...H},'options':{...X},'audioMessage':{'type':a0_0x7625da(0x559),'properties':{'audio':{'type':a0_0x7625da(0x5f1)}},'required':[a0_0x7625da(0x671)],...E(a0_0x7625da(0x671))}},'required':['audioMessage',a0_0x7625da(0x305)]},Ia={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'number':{...H},'pollMessage':{'type':a0_0x7625da(0x559),'properties':{'name':{'type':a0_0x7625da(0x5f1)},'selectableCount':{'type':a0_0x7625da(0x305)},'values':{'type':a0_0x7625da(0x280),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x7625da(0x2f7),a0_0x7625da(0x23c),a0_0x7625da(0x746)],...E(a0_0x7625da(0x2f7),a0_0x7625da(0x23c),a0_0x7625da(0x746))}},'required':[a0_0x7625da(0x305),a0_0x7625da(0x218)]},xa={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'number':{...H},'menuMessage':{'type':a0_0x7625da(0x559),'properties':{'text':{'type':'string'},'choices':{'type':a0_0x7625da(0x280),'minItems':0x2,'uniqueItems':!0x0}},'required':['text','choices'],...E(a0_0x7625da(0x3e8),a0_0x7625da(0x3ac))}},'required':[a0_0x7625da(0x305),a0_0x7625da(0x840)]},Da={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...H},'options':{...X},'buttonMessage':{'type':'object','properties':{'title':{'type':a0_0x7625da(0x5f1)},'description':{'type':a0_0x7625da(0x5f1)},'footerText':{'type':a0_0x7625da(0x5f1)},'buttons':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':a0_0x7625da(0x5f1)},'buttonId':{'type':a0_0x7625da(0x5f1)}},'required':[a0_0x7625da(0x4b4),a0_0x7625da(0x365)],...E(a0_0x7625da(0x4b4),'buttonId')}},'mediaMessage':{'type':a0_0x7625da(0x559),'properties':{'media':{'type':a0_0x7625da(0x5f1)},'fileName':{'type':a0_0x7625da(0x5f1)},'mediatype':{'type':a0_0x7625da(0x5f1),'enum':[a0_0x7625da(0x5c6),a0_0x7625da(0x8e9),a0_0x7625da(0x717)]}},'required':['media',a0_0x7625da(0x223)],...E(a0_0x7625da(0x7ec),'fileName')}},'required':[a0_0x7625da(0x7a0),'buttons'],...E('title',a0_0x7625da(0x439))}},'required':[a0_0x7625da(0x305),a0_0x7625da(0x508)]},_a={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'number':{...H},'options':{...X},'locationMessage':{'type':a0_0x7625da(0x559),'properties':{'latitude':{'type':a0_0x7625da(0x305)},'longitude':{'type':'number'},'name':{'type':a0_0x7625da(0x5f1)},'address':{'type':a0_0x7625da(0x5f1)}},'required':[a0_0x7625da(0x4ba),a0_0x7625da(0x4a6)],...E(a0_0x7625da(0x2f7),'addresss')}},'required':[a0_0x7625da(0x305),a0_0x7625da(0x3b3)]},Pa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...H},'options':{...X},'listMessage':{'type':a0_0x7625da(0x559),'properties':{'title':{'type':'string'},'description':{'type':a0_0x7625da(0x5f1)},'footerText':{'type':a0_0x7625da(0x5f1)},'buttonText':{'type':a0_0x7625da(0x5f1)},'sections':{'type':a0_0x7625da(0x280),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x7625da(0x559),'properties':{'title':{'type':a0_0x7625da(0x5f1)},'rows':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x7625da(0x559),'properties':{'title':{'type':'string'},'description':{'type':a0_0x7625da(0x5f1)},'rowId':{'type':'string'}},'required':['title',a0_0x7625da(0x240)],...E(a0_0x7625da(0x7a0),a0_0x7625da(0x240))}}},'required':[a0_0x7625da(0x7a0),a0_0x7625da(0x2fa)],...E(a0_0x7625da(0x7a0))}}},'required':[a0_0x7625da(0x7a0),a0_0x7625da(0x439),a0_0x7625da(0x4b4),'sections'],...E(a0_0x7625da(0x7a0),'description',a0_0x7625da(0x4b4),a0_0x7625da(0x47c))}},'required':['number',a0_0x7625da(0x1ea)]},ka={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'number':{...H},'options':{...X},'contactMessage':{'type':'array','items':{'type':'object','properties':{'fullName':{'type':a0_0x7625da(0x5f1)},'phoneNumber':{'type':a0_0x7625da(0x5f1),'minLength':0xa}},'required':[a0_0x7625da(0x288),a0_0x7625da(0x613)],...E(a0_0x7625da(0x288))},'minItems':0x1,'uniqueItems':!0x0}},'required':['number','contactMessage']},ja={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':a0_0x7625da(0x559),'properties':{'id':{'type':a0_0x7625da(0x5f1)},'remoteJid':{'type':a0_0x7625da(0x5f1)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x7625da(0x6cd),a0_0x7625da(0x7db)],...E('id','remoteJid')},'reaction':{'type':a0_0x7625da(0x5f1)}},'required':[a0_0x7625da(0x84e),a0_0x7625da(0x476)],...E(a0_0x7625da(0x476))}},'required':[a0_0x7625da(0x4c0)]},La={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'numbers':{'type':a0_0x7625da(0x280),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x7625da(0x5f1),'pattern':a0_0x7625da(0x845),'description':a0_0x7625da(0x5d6)}}}},Fa={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'readMessages':{'type':a0_0x7625da(0x280),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x7625da(0x5f1)},'fromMe':{'type':a0_0x7625da(0x7df),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x7625da(0x5f1)}},'required':['id',a0_0x7625da(0x7db),a0_0x7625da(0x6cd)],...E('id',a0_0x7625da(0x6cd))}}},'required':[a0_0x7625da(0x586)]},Ja={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'privacySettings':{'type':a0_0x7625da(0x559),'properties':{'readreceipts':{'type':a0_0x7625da(0x5f1),'enum':[a0_0x7625da(0x315),a0_0x7625da(0x692)]},'profile':{'type':a0_0x7625da(0x5f1),'enum':['all',a0_0x7625da(0x869),a0_0x7625da(0x320),a0_0x7625da(0x692)]},'status':{'type':a0_0x7625da(0x5f1),'enum':[a0_0x7625da(0x315),a0_0x7625da(0x869),'contact_blacklist',a0_0x7625da(0x692)]},'online':{'type':'string','enum':[a0_0x7625da(0x315),'match_last_seen']},'last':{'type':a0_0x7625da(0x5f1),'enum':['all',a0_0x7625da(0x869),a0_0x7625da(0x320),a0_0x7625da(0x692)]},'groupadd':{'type':a0_0x7625da(0x5f1),'enum':[a0_0x7625da(0x315),'contacts',a0_0x7625da(0x320),a0_0x7625da(0x692)]}},'required':[a0_0x7625da(0x644),'profile',a0_0x7625da(0x464),a0_0x7625da(0x6ed),a0_0x7625da(0x488),a0_0x7625da(0x6db)],...E(a0_0x7625da(0x644),a0_0x7625da(0x301),'status',a0_0x7625da(0x6ed),a0_0x7625da(0x488),a0_0x7625da(0x6db))}},'required':[a0_0x7625da(0x4ca)]},Ua={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'lastMessage':{'type':a0_0x7625da(0x559),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x7625da(0x5f1)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x7625da(0x7df),'enum':[!0x0,!0x1]}},'required':['id',a0_0x7625da(0x7db),a0_0x7625da(0x6cd)],...E('id',a0_0x7625da(0x6cd))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':['key'],...E('messageTimestamp')},'archive':{'type':a0_0x7625da(0x7df),'enum':[!0x0,!0x1]}},'required':['lastMessage',a0_0x7625da(0x3a9)]},qa={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'id':{'type':a0_0x7625da(0x5f1)},'fromMe':{'type':a0_0x7625da(0x7df),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x7625da(0x5f1)},'participant':{'type':a0_0x7625da(0x5f1)}},'required':['id',a0_0x7625da(0x7db),'remoteJid'],...E('id',a0_0x7625da(0x6cd),a0_0x7625da(0x705))},Va={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'where':{'type':a0_0x7625da(0x559),'properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':a0_0x7625da(0x5f1),'minLength':0x1},'id':{'type':a0_0x7625da(0x5f1),'minLength':0x1}},...E('_id','id',a0_0x7625da(0x6c8))}}},Ga={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'name':{'type':a0_0x7625da(0x5f1)}},...E('name')},Ba={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'status':{'type':a0_0x7625da(0x5f1)}},...E('status')},Ae={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'number':{'type':'string'},'picture':{'type':a0_0x7625da(0x5f1)}}},Wa={'type':'object','properties':{'wuid':{'type':'string'},'name':{'type':'string'},'picture':{'type':a0_0x7625da(0x5f1)},'status':{'type':a0_0x7625da(0x5f1)},'isBusiness':{'type':a0_0x7625da(0x7df)}}},za={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'where':{'type':a0_0x7625da(0x559),'properties':{'_id':{'type':a0_0x7625da(0x5f1),'minLength':0x1},'key':{'type':a0_0x7625da(0x559),'if':{'propertyNames':{'enum':['fromMe',a0_0x7625da(0x6cd),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x7625da(0x5f1),'minLength':0x1,'description':a0_0x7625da(0x6d6)},'id':{'type':a0_0x7625da(0x5f1),'minLength':0x1,'description':a0_0x7625da(0x6d6)},'fromMe':{'type':a0_0x7625da(0x7df),'enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...E(a0_0x7625da(0x7ce))},'limit':{'type':a0_0x7625da(0x7c5)}}},lc={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x7625da(0x5f1)},'remoteJid':{'type':a0_0x7625da(0x5f1)},'id':{'type':a0_0x7625da(0x5f1)},'fromMe':{'type':a0_0x7625da(0x7df),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x7625da(0x5f1)},'status':{'type':a0_0x7625da(0x5f1),'enum':['ERROR',a0_0x7625da(0x4a9),a0_0x7625da(0x522),a0_0x7625da(0x59d),a0_0x7625da(0x401),a0_0x7625da(0x7ef)]}},...E(a0_0x7625da(0x7ce),a0_0x7625da(0x6cd),'id',a0_0x7625da(0x464))},'limit':{'type':'integer'}}},Ha={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'number':{...H},'presence':{'type':a0_0x7625da(0x5f1),'enum':[a0_0x7625da(0x583),a0_0x7625da(0x2a0),a0_0x7625da(0x8c5),'recording',a0_0x7625da(0x8cb)]}},'required':[a0_0x7625da(0x3c3),a0_0x7625da(0x305)]},Ka={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'subject':{'type':'string'},'description':{'type':a0_0x7625da(0x5f1)},'profilePicture':{'type':a0_0x7625da(0x5f1)},'participants':{'type':a0_0x7625da(0x280),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x7625da(0x7b2),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':['subject',a0_0x7625da(0x6b5)],...E(a0_0x7625da(0x55a),a0_0x7625da(0x439),'profilePicture')},Oe={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'groupJid':{'type':a0_0x7625da(0x5f1),'pattern':a0_0x7625da(0x447)}},'required':[a0_0x7625da(0x650)],...E('groupJid')},Qa={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'groupJid':{'type':'string'},'action':{'type':a0_0x7625da(0x5f1),'enum':['add',a0_0x7625da(0x762),a0_0x7625da(0x761),a0_0x7625da(0x2be),a0_0x7625da(0x82b),'approve']},'participants':{'type':a0_0x7625da(0x280),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x7625da(0x5f1),'minLength':0xa,'pattern':a0_0x7625da(0x7b2),'description':a0_0x7625da(0x802)}}},'required':[a0_0x7625da(0x650),'action',a0_0x7625da(0x6b5)],...E(a0_0x7625da(0x650),a0_0x7625da(0x3b7))},Ya={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'groupJid':{'type':a0_0x7625da(0x5f1)},'expiration':{'type':a0_0x7625da(0x305),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x7625da(0x650),a0_0x7625da(0x798)],...E(a0_0x7625da(0x650),a0_0x7625da(0x798))},Xa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x7625da(0x5f1)},'image':{'type':'string'}},'required':['groupJid',a0_0x7625da(0x5c6)],...E(a0_0x7625da(0x650),a0_0x7625da(0x5c6))},Za={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'groupJid':{'type':a0_0x7625da(0x5f1)},'description':{'type':a0_0x7625da(0x5f1)}},'required':['groupJid',a0_0x7625da(0x439)],...E(a0_0x7625da(0x650),a0_0x7625da(0x439))},eo={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'groupJid':{'type':'string'},'name':{'type':a0_0x7625da(0x5f1)}},'required':['groupJid',a0_0x7625da(0x2f7)],...E(a0_0x7625da(0x650),a0_0x7625da(0x2f7))},to={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'setting':{'type':a0_0x7625da(0x5f1),'enum':[a0_0x7625da(0x297),a0_0x7625da(0x1e3),a0_0x7625da(0x584),a0_0x7625da(0x638)]}},'required':[a0_0x7625da(0x650),a0_0x7625da(0x863)],...E('groupJid',a0_0x7625da(0x863))},so={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'groupJid':{'type':a0_0x7625da(0x5f1)},'restrict':{'type':'boolean'},'announce':{'type':a0_0x7625da(0x7df)},'memberAddMode':{'type':a0_0x7625da(0x7df)},'joinApprovalMode':{'type':a0_0x7625da(0x7df)},'expiration':{'type':a0_0x7625da(0x7c5),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x7625da(0x5f1)},'description':{'type':a0_0x7625da(0x5f1)},'image':{'type':a0_0x7625da(0x5f1)}}},ys={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'inviteCode':{'type':a0_0x7625da(0x5f1)}},'required':[a0_0x7625da(0x551)],...E(a0_0x7625da(0x551))},ao={'$id':(0x0,v['v4'])(),'type':'object','properties':{'url':{'type':a0_0x7625da(0x5f1)},'enabled':{'type':a0_0x7625da(0x7df),'enum':[!0x0,!0x1]}},'required':['url',a0_0x7625da(0x5e0)]},uc={'$id':(0x0,v['v4'])(),'type':a0_0x7625da(0x559),'properties':{'local_map':{'type':a0_0x7625da(0x7df),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x7625da(0x7df),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x7625da(0x7df),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x7625da(0x7df),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x7625da(0x7df),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x7625da(0x7df),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x7625da(0x7df),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x7625da(0x7df),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x7625da(0x7df),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x7625da(0x7df),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x7625da(0x7df),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x7625da(0x7df),'enum':[!0x0,!0x1]}},'required':[a0_0x7625da(0x32b),a0_0x7625da(0x77f),a0_0x7625da(0x664),a0_0x7625da(0x250),a0_0x7625da(0x57e),a0_0x7625da(0x267),'SEND_MESSAGE',a0_0x7625da(0x8dd),a0_0x7625da(0x857),a0_0x7625da(0x83d),a0_0x7625da(0x5e6),a0_0x7625da(0x73d),'CHATS_UPSERT','CHATS_UPDATE','CHATS_DELETE',a0_0x7625da(0x673),a0_0x7625da(0x588),'GROUPS_UPDATE',a0_0x7625da(0x2a2)],...E(a0_0x7625da(0x32b),a0_0x7625da(0x77f),a0_0x7625da(0x664),'MESSAGES_SET',a0_0x7625da(0x57e),a0_0x7625da(0x267),a0_0x7625da(0x60f),a0_0x7625da(0x8dd),a0_0x7625da(0x857),a0_0x7625da(0x83d),'PRESENCE_UPDATE','CHATS_SET',a0_0x7625da(0x736),a0_0x7625da(0x36c),a0_0x7625da(0x40d),a0_0x7625da(0x673),a0_0x7625da(0x588),'GROUPS_UPDATE',a0_0x7625da(0x2a2))},at=class{},ot=class extends x{[a0_0x7625da(0x725)](_0x173e08){return Ys(_0x173e08);}async[a0_0x7625da(0x20a)](_0x26533c){const _0x1b956c=a0_0x7625da;if(_0x26533c[_0x1b956c(0x779)]!==0x0)try{return{'insertCount':(await this[_0x1b956c(0x725)](_0x26533c[0x0][_0x1b956c(0x4c5)])['insertMany']([..._0x26533c]))[_0x1b956c(0x779)]};}catch(_0x3bc98b){return _0x3bc98b;}}async['delete'](_0x666b98,_0x3436ed){const _0x3a5765=a0_0x7625da;try{return{'deletedCount':(await this[_0x3a5765(0x725)](_0x3436ed)['deleteMany']({..._0x666b98[_0x3a5765(0x68e)]}))[_0x3a5765(0x682)]};}catch(_0x335988){return{'error':_0x335988?.[_0x3a5765(0x455)]()};}}async[a0_0x7625da(0x4b2)](_0x558151,_0x561fa0){const _0x3b0810=a0_0x7625da;try{if(_0x558151[_0x3b0810(0x779)]===0x0)return;let _0x5062df=this[_0x3b0810(0x725)](_0x561fa0),_0x1327d8=_0x558151[_0x3b0810(0x1ec)](_0x39b9d9=>({'updateOne':{'filter':{'_id':_0x39b9d9[_0x3b0810(0x7ce)],'owner':_0x561fa0},'update':{..._0x39b9d9}}})),{modifiedCount:_0x4747b4}=await _0x5062df[_0x3b0810(0x4d2)](_0x1327d8);return{'insertCount':_0x4747b4};}catch{return;}}async[a0_0x7625da(0x48d)](_0x17f62d,_0x37177c){const _0x59e3c1=a0_0x7625da;try{let _0x35af66=this[_0x59e3c1(0x725)](_0x37177c),_0x849de6=T(_0x17f62d['where']);return await _0x35af66[_0x59e3c1(0x48d)](_0x849de6)['limit'](_0x17f62d?.['limit']??0x0)[_0x59e3c1(0x38c)]();}catch{return[];}}async['findOne'](_0x2964cd,_0x4edd90){const _0xb1d7fb=a0_0x7625da;try{let _0x2842f1=this[_0xb1d7fb(0x725)](_0x4edd90),_0x4f686e=T(_0x2964cd[_0xb1d7fb(0x68e)]);return await _0x2842f1[_0xb1d7fb(0x715)](_0x4f686e)['lean']();}catch{return null;}}async[a0_0x7625da(0x7a7)](_0x19fbc1){const _0x36cc9c=a0_0x7625da;try{return await this[_0x36cc9c(0x725)](_0x19fbc1)['collection'][_0x36cc9c(0x5b9)](),{'success':!0x0};}catch(_0x58f917){return console[_0x36cc9c(0x3a8)](_0x58f917),{'success':!0x1,'error':_0x58f917};}}},rt=require('jsonschema'),bc=require('express-async-errors'),bs=new R(a0_0x7625da(0x2ba)),V=class{[a0_0x7625da(0x87b)](_0x12cf37,_0x2469ab=!0x0){const _0x48d756=a0_0x7625da;let _0x1455be='/'+_0x12cf37;return _0x2469ab&&(_0x1455be+=_0x48d756(0x386)),_0x1455be;}async['dataValidate'](_0x411259){const _0x1a8088=a0_0x7625da;let {request:_0x2edbab,schema:_0x42808c,ClassRef:_0x3c0ed8,execute:_0x1f9e09}=_0x411259,_0xd347d2=new _0x3c0ed8(),_0x5ec92e=_0x2edbab[_0x1a8088(0x2d3)],_0x3ff61c=_0x2edbab[_0x1a8088(0x670)];_0x2edbab?.[_0x1a8088(0x7f4)]&&Object['keys'](_0x2edbab[_0x1a8088(0x7f4)])['length']>0x0&&Object['assign'](_0x3ff61c,_0x2edbab['query']),_0x2edbab[_0x1a8088(0x8d6)][_0x1a8088(0x80b)]('/instance/create')&&Object[_0x1a8088(0x1fd)](_0x3ff61c,_0x5ec92e),Object[_0x1a8088(0x1fd)](_0xd347d2,_0x5ec92e);let _0x2723c3=_0x42808c?(0x0,rt['validate'])(_0xd347d2,_0x42808c):{'valid':!0x0,'errors':[]};if(!_0x2723c3[_0x1a8088(0x2bd)]){let _0x4dcff0=_0x2723c3['errors'][_0x1a8088(0x1ec)](({property:_0x487089,stack:_0x1a719a,schema:_0x2601aa})=>{const _0x443f6a=_0x1a8088;let _0x4709fb;return _0x2601aa[_0x443f6a(0x439)]?_0x4709fb=_0x2601aa[_0x443f6a(0x439)]:_0x4709fb=_0x1a719a[_0x443f6a(0x614)]('instance.',''),{'property':_0x487089[_0x443f6a(0x614)](_0x443f6a(0x75d),''),'message':_0x4709fb};});throw bs[_0x1a8088(0x3a8)]([..._0x4dcff0]),new m(..._0x4dcff0);}return await _0x1f9e09(_0x3ff61c,_0xd347d2);}async[a0_0x7625da(0x6aa)](_0x246bb0){const _0x3c3cda=a0_0x7625da;let {request:_0x51bc77,ClassRef:_0x388b10,schema:_0xaaabb7,execute:_0x3d326f}=_0x246bb0,_0x1ba8d7=_0x51bc77[_0x3c3cda(0x7f4)];if(!_0x1ba8d7?.[_0x3c3cda(0x650)])throw new m(_0x3c3cda(0x88f),_0x3c3cda(0x84d));let _0x47499d=_0x51bc77['params'],_0x57b645=_0x51bc77[_0x3c3cda(0x2d3)],_0x13cabb=new _0x388b10();Object[_0x3c3cda(0x1fd)](_0x57b645,_0x1ba8d7),Object['assign'](_0x13cabb,_0x57b645);let _0x2f3eca=(0x0,rt[_0x3c3cda(0x82f)])(_0x13cabb,_0xaaabb7);if(!_0x2f3eca[_0x3c3cda(0x2bd)]){let _0x905a49=_0x2f3eca[_0x3c3cda(0x787)]['map'](({property:_0x3c5eee,stack:_0x169e24,schema:_0x2f8923})=>{const _0x213ff9=_0x3c3cda;let _0xc9737e;return _0x2f8923['description']?_0xc9737e=_0x2f8923[_0x213ff9(0x439)]:_0xc9737e=_0x169e24[_0x213ff9(0x614)](_0x213ff9(0x75d),''),{'property':_0x3c5eee[_0x213ff9(0x614)](_0x213ff9(0x75d),''),'message':_0xc9737e};});throw bs[_0x3c3cda(0x3a8)]([..._0x905a49]),new m(..._0x905a49);}return await _0x3d326f(_0x47499d,_0x13cabb);}async[a0_0x7625da(0x51b)](_0x311cab){const _0xc9b738=a0_0x7625da;let {request:_0xb4db46,ClassRef:_0x10a099,schema:_0x59b2b2,execute:_0x2fb0d2}=_0x311cab,_0x18ff8b=_0xb4db46['body'];if(!_0x18ff8b?.[_0xc9b738(0x551)])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0xc9b738(0x3f6));let _0x2648dd=_0xb4db46[_0xc9b738(0x670)],_0x4b7a1d=_0xb4db46['body'],_0x15cc83=new _0x10a099();Object[_0xc9b738(0x1fd)](_0x4b7a1d,_0x18ff8b),Object[_0xc9b738(0x1fd)](_0x15cc83,_0x4b7a1d);let _0x4f9079=(0x0,rt[_0xc9b738(0x82f)])(_0x15cc83,_0x59b2b2);if(!_0x4f9079[_0xc9b738(0x2bd)]){let _0x241a76=_0x4f9079[_0xc9b738(0x787)][_0xc9b738(0x1ec)](({property:_0x2fdb34,stack:_0x303705,schema:_0x3f8268})=>{const _0x296fa6=_0xc9b738;let _0x994629;return _0x3f8268[_0x296fa6(0x439)]?_0x994629=_0x3f8268['description']:_0x994629=_0x303705[_0x296fa6(0x614)](_0x296fa6(0x75d),''),{'property':_0x2fdb34[_0x296fa6(0x614)](_0x296fa6(0x75d),''),'message':_0x994629};});throw bs[_0xc9b738(0x3a8)]([..._0x241a76]),new m(..._0x241a76);}return await _0x2fb0d2(_0x2648dd,_0x15cc83);}},M=class{},_c=new R('ChatRouter'),it=class extends V{constructor(..._0x11c9b2){const _0x35693f=a0_0x7625da;super(),this[_0x35693f(0x491)]=(0x0,oo['Router'])(),this['router'][_0x35693f(0x3da)](this[_0x35693f(0x87b)](_0x35693f(0x5a2)),..._0x11c9b2,async(_0x3c6908,_0x16332c)=>{const _0x2ac5e3=_0x35693f;let _0x32be7f=await this[_0x2ac5e3(0x63a)]({'request':_0x3c6908,'schema':Ha,'ClassRef':ze,'execute':(_0x2e277e,_0x35a35b)=>_[_0x2ac5e3(0x5a2)](_0x2e277e,_0x35a35b)});return _0x16332c[_0x2ac5e3(0x464)](0xc9)['json'](_0x32be7f);})[_0x35693f(0x3da)](this['routerPath'](_0x35693f(0x373)),..._0x11c9b2,async(_0x264c70,_0x37061d)=>{const _0x239ca4=_0x35693f;let _0x161946=await this[_0x239ca4(0x63a)]({'request':_0x264c70,'schema':La,'ClassRef':He,'execute':(_0x65ca96,_0x5a2a97)=>_[_0x239ca4(0x83a)](_0x65ca96,_0x5a2a97)});return _0x37061d[_0x239ca4(0x464)](0xc9)['json'](_0x161946);})[_0x35693f(0x3da)](this[_0x35693f(0x87b)]('editChat'),..._0x11c9b2,async(_0x5cbcc8,_0x497510)=>{const _0x487a7e=_0x35693f;let _0x2e1f98=await this[_0x487a7e(0x63a)]({'request':_0x5cbcc8,'schema':N,'ClassRef':M,'execute':(_0x184749,_0x401c8d)=>_[_0x487a7e(0x247)](_0x184749,_0x401c8d)});return _0x497510['status'](0xc9)[_0x487a7e(0x493)](_0x2e1f98);})[_0x35693f(0x534)](this[_0x35693f(0x87b)](_0x35693f(0x785)),..._0x11c9b2,async(_0x1af20e,_0x255374)=>{const _0x21e2b4=_0x35693f;let _0x5b6068=await this[_0x21e2b4(0x63a)]({'request':_0x1af20e,'schema':Fa,'ClassRef':Ye,'execute':(_0x430d1a,_0x2ecda3)=>_[_0x21e2b4(0x649)](_0x430d1a,_0x2ecda3)});return _0x255374[_0x21e2b4(0x464)](0xc9)[_0x21e2b4(0x493)](_0x5b6068);})[_0x35693f(0x534)](this[_0x35693f(0x87b)](_0x35693f(0x489)),..._0x11c9b2,async(_0x3b794d,_0x3d9ee5)=>{const _0x6eb3c4=_0x35693f;let _0x3c6558=await this['dataValidate']({'request':_0x3b794d,'schema':Ua,'ClassRef':Xe,'execute':(_0x52aadd,_0x2976eb)=>_['archiveChat'](_0x52aadd,_0x2976eb)});return _0x3d9ee5[_0x6eb3c4(0x464)](0xc9)[_0x6eb3c4(0x493)](_0x3c6558);})[_0x35693f(0x72f)](this[_0x35693f(0x87b)]('deleteMessageForEveryone'),..._0x11c9b2,async(_0xf558ee,_0x302aaf)=>{const _0xf85257=_0x35693f;let _0x17cb85=await this[_0xf85257(0x63a)]({'request':_0xf558ee,'schema':qa,'ClassRef':et,'execute':(_0x2ca690,_0x5e01d5)=>_[_0xf85257(0x764)](_0x2ca690,_0x5e01d5)});return _0x302aaf['status'](0xc9)['json'](_0x17cb85);})[_0x35693f(0x3da)](this[_0x35693f(0x87b)](_0x35693f(0x2e6)),..._0x11c9b2,async(_0x4d0ec1,_0x4f8338)=>{const _0x5d162b=_0x35693f;let _0x5f24a4=await this[_0x5d162b(0x63a)]({'request':_0x4d0ec1,'schema':Ae,'ClassRef':Re,'execute':(_0x23b704,_0x127c42)=>_[_0x5d162b(0x6f4)](_0x23b704,_0x127c42)});return _0x4f8338[_0x5d162b(0x464)](0xc8)[_0x5d162b(0x493)](_0x5f24a4);})[_0x35693f(0x3da)](this[_0x35693f(0x87b)](_0x35693f(0x6ff)),..._0x11c9b2,async(_0x120589,_0x14b3c6)=>{const _0x5e7bb9=_0x35693f;let _0x3be423=await this[_0x5e7bb9(0x63a)]({'request':_0x120589,'schema':Wa,'ClassRef':Re,'execute':(_0x3b733d,_0x5e38df)=>_[_0x5e7bb9(0x6ff)](_0x3b733d,_0x5e38df)});return _0x14b3c6[_0x5e7bb9(0x464)](0xc8)['json'](_0x3be423);})[_0x35693f(0x3da)](this['routerPath'](_0x35693f(0x4fa)),..._0x11c9b2,async(_0x39ffb0,_0x1a3f99)=>{const _0x45a740=_0x35693f;let _0x292535=await this[_0x45a740(0x63a)]({'request':_0x39ffb0,'schema':Va,'ClassRef':at,'execute':(_0x537b25,_0x4e2c48)=>_[_0x45a740(0x86e)](_0x537b25,_0x4e2c48)});return _0x1a3f99[_0x45a740(0x464)](0xc8)[_0x45a740(0x493)](_0x292535);})[_0x35693f(0x3da)](this[_0x35693f(0x87b)]('getBase64FromMediaMessage'),..._0x11c9b2,async(_0xf27517,_0x2b91bf)=>{const _0x27e6c2=_0x35693f;let _0x5b797a=await this[_0x27e6c2(0x63a)]({'request':_0xf27517,'schema':null,'ClassRef':Object,'execute':(_0x4810c4,_0x435423)=>_[_0x27e6c2(0x38e)](_0x4810c4,_0x435423)});return _0x2b91bf['status'](0xc9)['json'](_0x5b797a);})[_0x35693f(0x3da)](this[_0x35693f(0x87b)](_0x35693f(0x6cc)),..._0x11c9b2,async(_0x185cca,_0x31255f)=>{const _0x3fea4f=_0x35693f;let _0x321a9f=await this[_0x3fea4f(0x63a)]({'request':_0x185cca,'schema':za,'ClassRef':Be,'execute':(_0x2edf5d,_0x1c38eb)=>_[_0x3fea4f(0x7e2)](_0x2edf5d,_0x1c38eb)});return _0x31255f[_0x3fea4f(0x464)](0xc8)[_0x3fea4f(0x493)](_0x321a9f);})[_0x35693f(0x7c4)](this[_0x35693f(0x87b)](_0x35693f(0x87c)),..._0x11c9b2,async(_0x2bf2ca,_0x44d8e8)=>{const _0x480897=_0x35693f;let _0x1132fc=await this[_0x480897(0x63a)]({'request':_0x2bf2ca,'schema':null,'ClassRef':M,'execute':_0x489c0b=>_[_0x480897(0x52b)](_0x489c0b)});return _0x44d8e8['status'](0xc8)[_0x480897(0x493)](_0x1132fc);})['get'](this[_0x35693f(0x87b)]('findLabels'),..._0x11c9b2,async(_0x5b768a,_0x32509b)=>{const _0x4ffff9=_0x35693f;let _0x2be522=await this[_0x4ffff9(0x63a)]({'request':_0x5b768a,'schema':null,'ClassRef':M,'execute':_0x2eb54a=>_['fetchLabels'](_0x2eb54a)});return _0x32509b[_0x4ffff9(0x464)](0xc8)['json'](_0x2be522);})[_0x35693f(0x534)](this[_0x35693f(0x87b)](_0x35693f(0x21c)),..._0x11c9b2,async(_0x741afe,_0x18137b)=>{const _0x295b79=_0x35693f;let _0x38deba=await this['dataValidate']({'request':_0x741afe,'schema':null,'ClassRef':Array,'execute':(_0x2df1e6,_0x3fd5aa)=>_[_0x295b79(0x21c)](_0x2df1e6,_0x3fd5aa)});return _0x18137b[_0x295b79(0x464)](0xc8)[_0x295b79(0x493)](_0x38deba);})[_0x35693f(0x7c4)](this[_0x35693f(0x87b)](_0x35693f(0x723)),..._0x11c9b2,async(_0x30c12d,_0x139c9e)=>{const _0x33ba16=_0x35693f;let _0x1f2042=await this[_0x33ba16(0x63a)]({'request':_0x30c12d,'schema':null,'ClassRef':M,'execute':_0x230a5a=>_['fetchPrivacySettings'](_0x230a5a)});return _0x139c9e[_0x33ba16(0x464)](0xc8)[_0x33ba16(0x493)](_0x1f2042);})[_0x35693f(0x534)](this['routerPath'](_0x35693f(0x80d)),..._0x11c9b2,async(_0x421eba,_0x23c9dd)=>{const _0x14676f=_0x35693f;let _0x4ba634=await this['dataValidate']({'request':_0x421eba,'schema':Ja,'ClassRef':Ze,'execute':(_0xad4b54,_0x2f32cd)=>_['updatePrivacySettings'](_0xad4b54,_0x2f32cd)});return _0x23c9dd[_0x14676f(0x464)](0xc9)[_0x14676f(0x493)](_0x4ba634);})[_0x35693f(0x3da)](this['routerPath']('fetchBusinessProfile'),..._0x11c9b2,async(_0x7f58c5,_0x476db)=>{const _0x9449aa=_0x35693f;let _0x527e5a=await this[_0x9449aa(0x63a)]({'request':_0x7f58c5,'schema':Ae,'ClassRef':be,'execute':(_0x3a59ab,_0x6811f4)=>_[_0x9449aa(0x3ed)](_0x3a59ab,_0x6811f4)});return _0x476db[_0x9449aa(0x464)](0xc8)['json'](_0x527e5a);})['post'](this['routerPath'](_0x35693f(0x2f8)),..._0x11c9b2,async(_0x557e5f,_0x4dda62)=>{const _0x35b6b8=_0x35693f;let _0x1dfba0=await this['dataValidate']({'request':_0x557e5f,'schema':Ga,'ClassRef':Ke,'execute':(_0x29351d,_0x202b0b)=>_[_0x35b6b8(0x2f8)](_0x29351d,_0x202b0b)});return _0x4dda62[_0x35b6b8(0x464)](0xc8)[_0x35b6b8(0x493)](_0x1dfba0);})[_0x35693f(0x3da)](this['routerPath'](_0x35693f(0x6af)),..._0x11c9b2,async(_0x5448a1,_0x1e0397)=>{const _0x16cad6=_0x35693f;let _0x12c358=await this[_0x16cad6(0x63a)]({'request':_0x5448a1,'schema':Ba,'ClassRef':Qe,'execute':(_0x42ff52,_0x210ea3)=>_[_0x16cad6(0x6af)](_0x42ff52,_0x210ea3)});return _0x1e0397[_0x16cad6(0x464)](0xc8)['json'](_0x12c358);})[_0x35693f(0x534)](this[_0x35693f(0x87b)](_0x35693f(0x811)),..._0x11c9b2,async(_0x5029a3,_0x5d7464)=>{const _0x22ab4e=_0x35693f;let _0x50fca5=await this[_0x22ab4e(0x63a)]({'request':_0x5029a3,'schema':Ae,'ClassRef':be,'execute':(_0x5b94f0,_0xed9cf5)=>_[_0x22ab4e(0x811)](_0x5b94f0,_0xed9cf5)});return _0x5d7464[_0x22ab4e(0x464)](0xc8)[_0x22ab4e(0x493)](_0x50fca5);})['delete'](this[_0x35693f(0x87b)]('removeProfilePicture'),..._0x11c9b2,async(_0x2e3f16,_0x41386b)=>{const _0x2a7739=_0x35693f;let _0x21fc56=await this[_0x2a7739(0x63a)]({'request':_0x2e3f16,'schema':Ae,'ClassRef':be,'execute':(_0x5dbe17,_0x533526)=>_[_0x2a7739(0x8ef)](_0x5dbe17,_0x533526)});return _0x41386b[_0x2a7739(0x464)](0xc8)[_0x2a7739(0x493)](_0x21fc56);});}},ro=require(a0_0x7625da(0x636)),nt=class{},ct=class{},lt=class{},ut=class{},dt=class{},pt=class{},Z=class{},Te=class{},ht=class extends Z{},gt=class extends Z{},mt=class extends V{constructor(..._0x15109d){const _0x45b137=a0_0x7625da;super(),this['router']=(0x0,ro[_0x45b137(0x598)])(),this[_0x45b137(0x491)]['post'](this['routerPath'](_0x45b137(0x7a3)),..._0x15109d,async(_0x46c0a5,_0x219dcc)=>{const _0x4de659=_0x45b137;let _0x16a3fa=await this[_0x4de659(0x63a)]({'request':_0x46c0a5,'schema':Ka,'ClassRef':nt,'execute':(_0x360423,_0x471d3f)=>q[_0x4de659(0x24b)](_0x360423,_0x471d3f)});_0x219dcc[_0x4de659(0x464)](0xc9)[_0x4de659(0x493)](_0x16a3fa);})[_0x45b137(0x534)](this[_0x45b137(0x87b)](_0x45b137(0x8d1)),..._0x15109d,async(_0x14ce6e,_0x3f0b2e)=>{const _0x5963f9=_0x45b137;let _0x347b53=await this[_0x5963f9(0x6aa)]({'request':_0x14ce6e,'schema':Xa,'ClassRef':ct,'execute':(_0x2be30a,_0x18e979)=>q['updateGroupPicture'](_0x2be30a,_0x18e979)});_0x3f0b2e['status'](0xc9)[_0x5963f9(0x493)](_0x347b53);})[_0x45b137(0x534)](this[_0x45b137(0x87b)](_0x45b137(0x358)),..._0x15109d,async(_0x40ac50,_0x528410)=>{const _0x2c0688=_0x45b137;let _0x25be89=await this[_0x2c0688(0x6aa)]({'request':_0x40ac50,'schema':Za,'ClassRef':lt,'execute':(_0x333634,_0x33cd51)=>q[_0x2c0688(0x358)](_0x333634,_0x33cd51)});_0x528410[_0x2c0688(0x464)](0xc9)[_0x2c0688(0x493)](_0x25be89);})[_0x45b137(0x534)](this[_0x45b137(0x87b)](_0x45b137(0x6b0)),..._0x15109d,async(_0x3cf46a,_0x2a45ee)=>{const _0xa76167=_0x45b137;let _0x52cb59=await this['groupValidate']({'request':_0x3cf46a,'schema':eo,'ClassRef':ut,'execute':(_0x3e70eb,_0x1b4a95)=>q['groupName'](_0x3e70eb,_0x1b4a95)});_0x2a45ee[_0xa76167(0x464)](0xc9)['json'](_0x52cb59);})[_0x45b137(0x534)](this[_0x45b137(0x87b)](_0x45b137(0x2e5)),..._0x15109d,async(_0x2d7b10,_0x1e631d)=>{const _0x517de2=_0x45b137;let _0x28e2a1=await this['groupValidate']({'request':_0x2d7b10,'schema':so,'ClassRef':pt,'execute':(_0x3252f1,_0x537f96)=>q[_0x517de2(0x2e5)](_0x3252f1,_0x537f96)});_0x1e631d[_0x517de2(0x464)](0xc9)['json'](_0x28e2a1);})['put'](this[_0x45b137(0x87b)]('groupSetting'),..._0x15109d,async(_0x4821f5,_0x271db4)=>{const _0x4d0780=_0x45b137;let _0x118669=await this[_0x4d0780(0x6aa)]({'request':_0x4821f5,'schema':to,'ClassRef':dt,'execute':(_0x2ff1f5,_0x122eaa)=>q['groupSetting'](_0x2ff1f5,_0x122eaa)});_0x271db4[_0x4d0780(0x464)](0xc9)[_0x4d0780(0x493)](_0x118669);})[_0x45b137(0x534)](this[_0x45b137(0x87b)](_0x45b137(0x241)),..._0x15109d,async(_0x51ee78,_0x1ca15a)=>{const _0x3a6c39=_0x45b137;let _0x17c9ff=await this[_0x3a6c39(0x6aa)]({'request':_0x51ee78,'schema':Ya,'ClassRef':gt,'execute':(_0x383f54,_0x516689)=>q[_0x3a6c39(0x241)](_0x383f54,_0x516689)});_0x1ca15a['status'](0xc9)[_0x3a6c39(0x493)](_0x17c9ff);})[_0x45b137(0x7c4)](this['routerPath'](_0x45b137(0x357)),..._0x15109d,async(_0x10eebd,_0x21208a)=>{const _0x48b64a=_0x45b137;let _0xc2967e=await this[_0x48b64a(0x6aa)]({'request':_0x10eebd,'schema':Oe,'ClassRef':Z,'execute':(_0x482b69,_0x564643)=>q[_0x48b64a(0x3ad)](_0x482b69,_0x564643)});_0x21208a[_0x48b64a(0x464)](0xc8)[_0x48b64a(0x493)](_0xc2967e);})[_0x45b137(0x7c4)](this['routerPath'](_0x45b137(0x468)),..._0x15109d,async(_0x6d82ce,_0x35039c)=>{const _0x3bcccd=_0x45b137;let _0x22f682=await this[_0x3bcccd(0x63a)]({'request':_0x6d82ce,'schema':N,'ClassRef':M,'execute':_0x18196d=>q[_0x3bcccd(0x468)](_0x18196d)});_0x35039c['status'](0xc8)[_0x3bcccd(0x493)](_0x22f682);})[_0x45b137(0x7c4)](this['routerPath'](_0x45b137(0x6b5)),..._0x15109d,async(_0x10c890,_0x9f42f1)=>{const _0x458cf8=_0x45b137;let _0x84a87f=await this[_0x458cf8(0x6aa)]({'request':_0x10c890,'schema':Oe,'ClassRef':Z,'execute':(_0x3654d5,_0x4fbfa1)=>q[_0x458cf8(0x37d)](_0x3654d5,_0x4fbfa1)});_0x9f42f1[_0x458cf8(0x464)](0xc8)[_0x458cf8(0x493)](_0x84a87f);})[_0x45b137(0x7c4)](this['routerPath'](_0x45b137(0x551)),..._0x15109d,async(_0x2178e5,_0x331e89)=>{const _0xe2836b=_0x45b137;let _0x5e8819=await this[_0xe2836b(0x6aa)]({'request':_0x2178e5,'schema':Oe,'ClassRef':Z,'execute':(_0xc3d5c7,_0xf5ba5e)=>q[_0xe2836b(0x551)](_0xc3d5c7,_0xf5ba5e)});_0x331e89[_0xe2836b(0x464)](0xc8)[_0xe2836b(0x493)](_0x5e8819);})[_0x45b137(0x3da)](this[_0x45b137(0x87b)](_0x45b137(0x4e0)),..._0x15109d,async(_0x35c439,_0x221cb0)=>{const _0x4c3366=_0x45b137;let _0x48788a=await this[_0x4c3366(0x51b)]({'request':_0x35c439,'schema':ys,'ClassRef':Te,'execute':(_0x2e4ff7,_0xef77fd)=>q['groupGetInviteInfo'](_0x2e4ff7,_0xef77fd)});_0x221cb0['status'](0xc9)[_0x4c3366(0x493)](_0x48788a);})[_0x45b137(0x534)](this[_0x45b137(0x87b)](_0x45b137(0x32a)),..._0x15109d,async(_0x2ab12d,_0x21eafc)=>{const _0x5c6eac=_0x45b137;let _0x57fa2b=await this[_0x5c6eac(0x51b)]({'request':_0x2ab12d,'schema':ys,'ClassRef':Te,'execute':(_0x190401,_0x4945aa)=>q[_0x5c6eac(0x32a)](_0x190401,_0x4945aa)});_0x21eafc[_0x5c6eac(0x464)](0xc9)['json'](_0x57fa2b);})[_0x45b137(0x534)](this[_0x45b137(0x87b)](_0x45b137(0x609)),..._0x15109d,async(_0x4973aa,_0x393bd2)=>{const _0x139f59=_0x45b137;let _0x55630d=await this[_0x139f59(0x6aa)]({'request':_0x4973aa,'schema':Oe,'ClassRef':Z,'execute':(_0x3f4f09,_0x208974)=>q[_0x139f59(0x609)](_0x3f4f09,_0x208974)});_0x393bd2[_0x139f59(0x464)](0xc9)[_0x139f59(0x493)](_0x55630d);})[_0x45b137(0x534)](this[_0x45b137(0x87b)]('updateParticipant'),..._0x15109d,async(_0x2109a9,_0x3c809b)=>{const _0xd67c82=_0x45b137;let _0x51a506=await this[_0xd67c82(0x6aa)]({'request':_0x2109a9,'schema':Qa,'ClassRef':ht,'execute':(_0x3a82b9,_0x52b23d)=>q[_0xd67c82(0x225)](_0x3a82b9,_0x52b23d)});_0x3c809b[_0xd67c82(0x464)](0xc9)['json'](_0x51a506);})[_0x45b137(0x72f)](this[_0x45b137(0x87b)](_0x45b137(0x452)),..._0x15109d,async(_0x74862c,_0x1faf7a)=>{const _0x1ad7df=_0x45b137;let _0x1a618a=await this[_0x1ad7df(0x6aa)]({'request':_0x74862c,'schema':{},'ClassRef':Z,'execute':(_0x1e7b57,_0x479db3)=>q['leaveGroup'](_0x1e7b57,_0x479db3)});_0x1faf7a[_0x1ad7df(0x464)](0xc8)[_0x1ad7df(0x493)](_0x1a618a);});}},io=require('express'),ft=class extends V{constructor(_0x58714e,..._0x4107b6){const _0x2fd2cc=a0_0x7625da;super(),this[_0x2fd2cc(0x724)]=_0x58714e,this[_0x2fd2cc(0x491)]=(0x0,io[_0x2fd2cc(0x598)])();let _0x262c27=_0x58714e[_0x2fd2cc(0x7c4)](_0x2fd2cc(0x6a3));this[_0x2fd2cc(0x491)]['post'](_0x2fd2cc(0x71a),..._0x4107b6,async(_0x3510d0,_0x197a8a)=>{const _0x12a7ad=_0x2fd2cc;let {instanceName:_0x3bc918,apikey:_0x27da8a,number:_0x5b2b4a}=_0x3510d0[_0x12a7ad(0x2d3)],_0x5e3a2f=await ne['createInstance']({'instanceName':_0x3bc918,'apikey':_0x27da8a,'number':_0x5b2b4a});return _0x197a8a[_0x12a7ad(0x464)](0xc9)[_0x12a7ad(0x493)](_0x5e3a2f);})[_0x2fd2cc(0x534)](this['routerPath']('restart'),..._0x4107b6,async(_0x5a02d1,_0x2f446a)=>{const _0x1b5d2b=_0x2fd2cc;let _0xff5980=await this[_0x1b5d2b(0x63a)]({'request':_0x5a02d1,'schema':N,'ClassRef':M,'execute':_0x5e0799=>ne[_0x1b5d2b(0x4fb)](_0x5e0799)});return _0x2f446a[_0x1b5d2b(0x464)](0xc8)[_0x1b5d2b(0x493)](_0xff5980);})[_0x2fd2cc(0x7c4)](this[_0x2fd2cc(0x87b)](_0x2fd2cc(0x3bb)),..._0x4107b6,async(_0x135b3d,_0x249dd8)=>{const _0x54fba3=_0x2fd2cc;let _0x382199=await this['dataValidate']({'request':_0x135b3d,'schema':N,'ClassRef':M,'execute':_0x1f623f=>ne[_0x54fba3(0x623)](_0x1f623f)});return _0x249dd8['status'](0xc8)[_0x54fba3(0x493)](_0x382199);})['get'](this[_0x2fd2cc(0x87b)](_0x2fd2cc(0x432)),..._0x4107b6,async(_0x433c76,_0x227083)=>{const _0x11d3f3=_0x2fd2cc;let _0x3b8e27=await this['dataValidate']({'request':_0x433c76,'schema':N,'ClassRef':M,'execute':_0x446ed8=>ne['connectionState'](_0x446ed8)});return _0x227083[_0x11d3f3(0x464)](0xc8)['json'](_0x3b8e27);})[_0x2fd2cc(0x7c4)](this[_0x2fd2cc(0x87b)](_0x2fd2cc(0x516),!0x1),..._0x4107b6,async(_0x5f5d48,_0x29312b)=>{const _0x419ff7=_0x2fd2cc;let _0x535f04=await this[_0x419ff7(0x63a)]({'request':_0x5f5d48,'schema':null,'ClassRef':M,'execute':_0x42171c=>ne[_0x419ff7(0x516)](_0x42171c)});return _0x29312b[_0x419ff7(0x464)](0xc8)[_0x419ff7(0x493)](_0x535f04);})[_0x2fd2cc(0x72f)](this['routerPath'](_0x2fd2cc(0x370)),..._0x4107b6,async(_0x282e48,_0x2a958a)=>{const _0x143fd6=_0x2fd2cc;let _0x287d57=await this[_0x143fd6(0x63a)]({'request':_0x282e48,'schema':N,'ClassRef':M,'execute':_0x47b55c=>ne[_0x143fd6(0x370)](_0x47b55c)});return _0x2a958a[_0x143fd6(0x464)](0xc8)[_0x143fd6(0x493)](_0x287d57);})[_0x2fd2cc(0x72f)](this[_0x2fd2cc(0x87b)]('delete'),..._0x4107b6,async(_0x474e26,_0x52e8ed)=>{const _0x29e87b=_0x2fd2cc;let _0x413e36=await this[_0x29e87b(0x63a)]({'request':_0x474e26,'schema':N,'ClassRef':M,'execute':_0x2cb647=>ne[_0x29e87b(0x264)](_0x2cb647)});return _0x52e8ed[_0x29e87b(0x464)](0xc8)[_0x29e87b(0x493)](_0x413e36);});}},no=require(a0_0x7625da(0x636)),Ss=class{},z=class extends Ss{},wt=class extends z{},yt=class extends z{},bt=class extends z{},St=class extends z{},Ie=class extends z{},Mt=class extends z{},Ct=class extends z{},Et=class extends z{},vt=class extends z{},Nt=class extends z{},Rt=class{},$t=class extends V{constructor(..._0x4a5859){const _0x4f0888=a0_0x7625da;super(),this[_0x4f0888(0x491)]=(0x0,no['Router'])(),this[_0x4f0888(0x491)]['post'](this[_0x4f0888(0x87b)]('sendText'),..._0x4a5859,async(_0x3334c0,_0x305b05)=>{const _0x37504f=_0x4f0888;let _0xfaebc2=await this[_0x37504f(0x63a)]({'request':_0x3334c0,'schema':Na,'ClassRef':wt,'execute':(_0x1ce365,_0x32ca63)=>W[_0x37504f(0x313)](_0x1ce365,_0x32ca63)});return _0x305b05['status'](0xc9)['json'](_0xfaebc2);})[_0x4f0888(0x3da)](this[_0x4f0888(0x87b)](_0x4f0888(0x4e1)),..._0x4a5859,async(_0x48a98c,_0x745b7d)=>{const _0xa69797=_0x4f0888;let _0xa77ac3=await this[_0xa69797(0x63a)]({'request':_0x48a98c,'schema':Oa,'ClassRef':Ie,'execute':(_0x3a1519,_0x5aae7d)=>W[_0xa69797(0x4e1)](_0x3a1519,_0x5aae7d)});return _0x745b7d[_0xa69797(0x464)](0xc9)[_0xa69797(0x493)](_0xa77ac3);})[_0x4f0888(0x3da)](this[_0x4f0888(0x87b)]('sendMenu'),..._0x4a5859,async(_0x486ac7,_0x34f691)=>{const _0x6334ba=_0x4f0888;let _0x2e9514=await this[_0x6334ba(0x63a)]({'request':_0x486ac7,'schema':xa,'ClassRef':St,'execute':(_0x236f1d,_0x5424b3)=>W[_0x6334ba(0x5cd)](_0x236f1d,_0x5424b3)});return _0x34f691[_0x6334ba(0x464)](0xc9)[_0x6334ba(0x493)](_0x2e9514);})[_0x4f0888(0x3da)](this[_0x4f0888(0x87b)](_0x4f0888(0x44a)),..._0x4a5859,async(_0x1869b8,_0x147ecb)=>{const _0x5b6a86=_0x4f0888;let _0x3849d2=await this[_0x5b6a86(0x63a)]({'request':_0x1869b8,'schema':Ta,'ClassRef':Ie,'execute':(_0x499d84,_0xa4cea0)=>W[_0x5b6a86(0x44a)](_0x499d84,_0xa4cea0)});return _0x147ecb[_0x5b6a86(0x464)](0xc9)[_0x5b6a86(0x493)](_0x3849d2);})[_0x4f0888(0x3da)](this[_0x4f0888(0x87b)](_0x4f0888(0x6e9)),..._0x4a5859,async(_0xbd472f,_0x16338b)=>{const _0x56e4c9=_0x4f0888;let _0xc2e013=await this[_0x56e4c9(0x63a)]({'request':_0xbd472f,'schema':Da,'ClassRef':Ct,'execute':(_0x555178,_0x5d2642)=>W[_0x56e4c9(0x6e9)](_0x555178,_0x5d2642)});return _0x16338b[_0x56e4c9(0x464)](0xc9)['json'](_0xc2e013);})[_0x4f0888(0x3da)](this[_0x4f0888(0x87b)](_0x4f0888(0x8c6)),..._0x4a5859,async(_0x4f403d,_0x497fd6)=>{const _0x1a9136=_0x4f0888;let _0x3a08eb=await this[_0x1a9136(0x63a)]({'request':_0x4f403d,'schema':_a,'ClassRef':Et,'execute':(_0x33ea29,_0x400a94)=>W[_0x1a9136(0x8c6)](_0x33ea29,_0x400a94)});return _0x497fd6[_0x1a9136(0x464)](0xc9)[_0x1a9136(0x493)](_0x3a08eb);})[_0x4f0888(0x3da)](this[_0x4f0888(0x87b)]('sendList'),..._0x4a5859,async(_0xa3dbd7,_0x53ceb4)=>{const _0x5936bc=_0x4f0888;let _0x2a0d07=await this['dataValidate']({'request':_0xa3dbd7,'schema':Pa,'ClassRef':vt,'execute':(_0x8c813c,_0x97017a)=>W[_0x5936bc(0x38b)](_0x8c813c,_0x97017a)});return _0x53ceb4['status'](0xc9)[_0x5936bc(0x493)](_0x2a0d07);})['post'](this[_0x4f0888(0x87b)]('sendContact'),..._0x4a5859,async(_0x1029b9,_0x22d154)=>{const _0x45e1bc=_0x4f0888;let _0x2ecaf7=await this[_0x45e1bc(0x63a)]({'request':_0x1029b9,'schema':ka,'ClassRef':Nt,'execute':(_0x40b279,_0x5897df)=>W[_0x45e1bc(0x324)](_0x40b279,_0x5897df)});return _0x22d154['status'](0xc9)[_0x45e1bc(0x493)](_0x2ecaf7);})[_0x4f0888(0x3da)](this[_0x4f0888(0x87b)](_0x4f0888(0x847)),..._0x4a5859,async(_0x3d2497,_0x37378e)=>{const _0x1a0fe4=_0x4f0888;let _0x5433b8=await this[_0x1a0fe4(0x63a)]({'request':_0x3d2497,'schema':ja,'ClassRef':Rt,'execute':(_0x494f9a,_0x2995f4)=>W[_0x1a0fe4(0x847)](_0x494f9a,_0x2995f4)});return _0x37378e['status'](0xc9)[_0x1a0fe4(0x493)](_0x5433b8);})['post'](this[_0x4f0888(0x87b)]('sendPoll'),..._0x4a5859,async(_0x37371,_0xd1744b)=>{const _0x51ed85=_0x4f0888;let _0x55eb45=await this[_0x51ed85(0x63a)]({'request':_0x37371,'schema':Ia,'ClassRef':bt,'execute':(_0x4a64a6,_0x4d56dc)=>W['sendPoll'](_0x4a64a6,_0x4d56dc)});return _0xd1744b[_0x51ed85(0x464)](0xc9)['json'](_0x55eb45);})['post'](this[_0x4f0888(0x87b)](_0x4f0888(0x519)),..._0x4a5859,async(_0x357438,_0x31f94f)=>{const _0x3dcf14=_0x4f0888;let _0x233d61=await this[_0x3dcf14(0x63a)]({'request':_0x357438,'schema':Aa,'ClassRef':yt,'execute':(_0x35a3d6,_0x5e4609)=>W[_0x3dcf14(0x519)](_0x35a3d6,_0x5e4609)});return _0x31f94f[_0x3dcf14(0x464)](0xc9)[_0x3dcf14(0x493)](_0x233d61);})['post'](this[_0x4f0888(0x87b)](_0x4f0888(0x425)),..._0x4a5859,async(_0x2f6b5d,_0xc704e3)=>{const _0x3cce06=_0x4f0888;let _0x14b034=await this[_0x3cce06(0x63a)]({'request':_0x2f6b5d,'schema':$a,'ClassRef':Mt,'execute':(_0x5df840,_0x10ce1e)=>W[_0x3cce06(0x425)](_0x5df840,_0x10ce1e)});return _0xc704e3[_0x3cce06(0x464)](0xc9)['json'](_0x14b034);});}},co=require('express'),At=class{},Ot=class extends V{constructor(..._0x2dae8a){const _0x4b6bd8=a0_0x7625da;super(),this[_0x4b6bd8(0x491)]=(0x0,co[_0x4b6bd8(0x598)])(),this[_0x4b6bd8(0x491)][_0x4b6bd8(0x3da)](this[_0x4b6bd8(0x87b)]('set'),..._0x2dae8a,async(_0x5835ae,_0x40b309)=>{const _0x5219bf=_0x4b6bd8;let _0x35944f=await this['dataValidate']({'request':_0x5835ae,'schema':ao,'ClassRef':At,'execute':(_0x8cd153,_0x21c228)=>Ms['createWebhook'](_0x8cd153,_0x21c228)});_0x40b309[_0x5219bf(0x464)](0xc9)[_0x5219bf(0x493)](_0x35944f);})[_0x4b6bd8(0x7c4)](this['routerPath'](_0x4b6bd8(0x48d)),..._0x2dae8a,async(_0x4f8bd4,_0xaede3f)=>{const _0xb8fcda=_0x4b6bd8;let _0x2855e4=await this['dataValidate']({'request':_0x4f8bd4,'schema':N,'ClassRef':M,'execute':_0x52c9ff=>Ms['findWebhook'](_0x52c9ff)});_0xaede3f[_0xb8fcda(0x464)](0xc8)[_0xb8fcda(0x493)](_0x2855e4);});}},lo=require('express'),y=new R('FlowRouter'),Tt=class extends V{constructor(..._0x209976){const _0x11a454=a0_0x7625da;super(),this[_0x11a454(0x491)]=(0x0,lo['Router'])(),this[_0x11a454(0x491)][_0x11a454(0x3da)](this[_0x11a454(0x87b)](_0x11a454(0x7ea)),..._0x209976,async(_0x568bbd,_0x452ba5)=>{const _0x115e89=_0x11a454;let _0x1b768f=_0x568bbd[_0x115e89(0x2d3)];y[_0x115e89(0x62f)]('request\x20received\x20in\x20scheduleMessage'),y[_0x115e89(0x62f)]('request\x20body:\x20'),y[_0x115e89(0x62f)](_0x568bbd['body']);let _0x4bf2c3=await this[_0x115e89(0x63a)]({'request':_0x568bbd,'schema':N,'ClassRef':M,'execute':_0x3142fd=>A['editScheduleMessage'](_0x3142fd,_0x1b768f)});_0x452ba5[_0x115e89(0x464)](0xc8)[_0x115e89(0x493)](_0x4bf2c3);})[_0x11a454(0x7c4)](this[_0x11a454(0x87b)]('scheduleMessage'),..._0x209976,async(_0x3c5426,_0xe7cb82)=>{const _0x33d70d=_0x11a454;let _0x41b167=await this[_0x33d70d(0x63a)]({'request':_0x3c5426,'schema':N,'ClassRef':M,'execute':_0x184c53=>A[_0x33d70d(0x384)](_0x184c53)});_0xe7cb82[_0x33d70d(0x464)](0xc8)[_0x33d70d(0x493)](_0x41b167);})[_0x11a454(0x72f)](this['routerPath'](_0x11a454(0x2c9)),..._0x209976,async(_0x2f8ce3,_0x5a6161)=>{const _0x3cd687=_0x11a454;y[_0x3cd687(0x62f)]('request\x20received\x20in\x20deleteDoneMessages');let _0x41192a=await this[_0x3cd687(0x63a)]({'request':_0x2f8ce3,'schema':N,'ClassRef':M,'execute':_0x80187=>A['deleteDoneMessages'](_0x80187)});_0x5a6161[_0x3cd687(0x464)](0xc8)[_0x3cd687(0x493)](_0x41192a);})[_0x11a454(0x3da)](this[_0x11a454(0x87b)](_0x11a454(0x4c2)),..._0x209976,async(_0x1ef4b2,_0x248880)=>{const _0x5e318b=_0x11a454;let _0x1c0b55=_0x1ef4b2[_0x5e318b(0x2d3)];y[_0x5e318b(0x62f)](_0x5e318b(0x2ae)),y[_0x5e318b(0x62f)]('request\x20body:\x20'),y[_0x5e318b(0x62f)](_0x1ef4b2[_0x5e318b(0x2d3)]);let _0x498369=await this[_0x5e318b(0x63a)]({'request':_0x1ef4b2,'schema':N,'ClassRef':M,'execute':_0x379e47=>A[_0x5e318b(0x4c2)](_0x379e47,_0x1c0b55)});_0x248880[_0x5e318b(0x464)](0xc8)[_0x5e318b(0x493)](_0x498369);})[_0x11a454(0x7c4)](this[_0x11a454(0x87b)](_0x11a454(0x2f9)),..._0x209976,async(_0x103fd8,_0x161a41)=>{const _0x19cd19=_0x11a454;y[_0x19cd19(0x62f)](_0x19cd19(0x45e));let _0x10dad9=await this['dataValidate']({'request':_0x103fd8,'schema':N,'ClassRef':M,'execute':_0x493227=>A[_0x19cd19(0x2f9)](_0x493227)});_0x161a41[_0x19cd19(0x464)](0xc8)[_0x19cd19(0x493)](_0x10dad9);})[_0x11a454(0x7c4)](this[_0x11a454(0x87b)](_0x11a454(0x55e)),..._0x209976,async(_0x47cb1b,_0x110281)=>{const _0x4ab81e=_0x11a454;y[_0x4ab81e(0x62f)](_0x4ab81e(0x255));let _0x2f401e=await this['dataValidate']({'request':_0x47cb1b,'schema':N,'ClassRef':M,'execute':_0xcf4201=>A['getAutomateSystem'](_0xcf4201)});_0x110281['status'](0xc8)[_0x4ab81e(0x493)](_0x2f401e);})[_0x11a454(0x3da)](this['routerPath'](_0x11a454(0x481)),..._0x209976,async(_0x21d432,_0x57aa54)=>{const _0x208c5e=_0x11a454;let _0x2437b8=_0x21d432[_0x208c5e(0x2d3)];y[_0x208c5e(0x62f)](_0x208c5e(0x40f)),y[_0x208c5e(0x62f)](_0x208c5e(0x55c)),y[_0x208c5e(0x62f)](_0x21d432[_0x208c5e(0x2d3)]);let _0x541d6c=await this[_0x208c5e(0x63a)]({'request':_0x21d432,'schema':N,'ClassRef':M,'execute':_0x4da1fb=>A[_0x208c5e(0x481)](_0x4da1fb,_0x2437b8)});_0x57aa54[_0x208c5e(0x464)](0xc8)[_0x208c5e(0x493)](_0x541d6c);})['post'](this['routerPath']('updateCustomFields'),..._0x209976,async(_0x4c43a3,_0x168921)=>{const _0x20bcb4=_0x11a454;let _0x2ee78c=_0x4c43a3[_0x20bcb4(0x2d3)];y[_0x20bcb4(0x62f)]('request\x20received\x20in\x20updateCustomFields'),y[_0x20bcb4(0x62f)](_0x20bcb4(0x55c)),y[_0x20bcb4(0x62f)](_0x4c43a3[_0x20bcb4(0x2d3)]);let _0x34cdb8=await this[_0x20bcb4(0x63a)]({'request':_0x4c43a3,'schema':N,'ClassRef':M,'execute':_0x9fc2db=>A['updateCustomFields'](_0x9fc2db,_0x2ee78c)});_0x168921[_0x20bcb4(0x464)](0xc8)['json'](_0x34cdb8);})[_0x11a454(0x3da)](this[_0x11a454(0x87b)](_0x11a454(0x69d)),..._0x209976,async(_0x526e78,_0x44c494)=>{const _0x3d5cf1=_0x11a454;let _0x11471=_0x526e78[_0x3d5cf1(0x2d3)];y[_0x3d5cf1(0x62f)](_0x3d5cf1(0x224)),y[_0x3d5cf1(0x62f)](_0x3d5cf1(0x55c)),y[_0x3d5cf1(0x62f)](_0x526e78['body']);let _0x4a4804=await this[_0x3d5cf1(0x63a)]({'request':_0x526e78,'schema':N,'ClassRef':M,'execute':_0x469805=>A['updateAutoCompleteMessages'](_0x469805,_0x11471)});_0x44c494[_0x3d5cf1(0x464)](0xc8)['json'](_0x4a4804);})[_0x11a454(0x3da)](this[_0x11a454(0x87b)]('updateFlowConfig'),..._0x209976,async(_0x40c7e2,_0x3e4ef0)=>{const _0x3dff97=_0x11a454;let _0x2b1a87=_0x40c7e2[_0x3dff97(0x2d3)];y[_0x3dff97(0x62f)]('request\x20received\x20in\x20updateFlowConfig'),y[_0x3dff97(0x62f)](_0x3dff97(0x55c)),y['verbose'](_0x40c7e2[_0x3dff97(0x2d3)]);let _0x1d2635=await this['dataValidate']({'request':_0x40c7e2,'schema':N,'ClassRef':M,'execute':_0x29862e=>A[_0x3dff97(0x897)](_0x29862e,_0x2b1a87)});_0x3e4ef0[_0x3dff97(0x464)](0xc8)[_0x3dff97(0x493)](_0x1d2635);})[_0x11a454(0x3da)](this[_0x11a454(0x87b)](_0x11a454(0x65b)),..._0x209976,async(_0x256a04,_0x1c1d83)=>{const _0x50acd5=_0x11a454;let _0xcc9efa=_0x256a04['body'];y[_0x50acd5(0x62f)](_0x50acd5(0x667)),y[_0x50acd5(0x62f)](_0x50acd5(0x55c)),y[_0x50acd5(0x62f)](_0x256a04[_0x50acd5(0x2d3)]);let _0x59192b=await this['dataValidate']({'request':_0x256a04,'schema':N,'ClassRef':M,'execute':_0x23c9ba=>A[_0x50acd5(0x65b)](_0x23c9ba,_0xcc9efa)});_0x1c1d83[_0x50acd5(0x464)](0xc8)[_0x50acd5(0x493)](_0x59192b);})['post'](this[_0x11a454(0x87b)]('fetchConversation'),..._0x209976,async(_0x3686d3,_0xac041a)=>{const _0x193856=_0x11a454;let _0x5a3f53=_0x3686d3[_0x193856(0x2d3)];y[_0x193856(0x62f)](_0x193856(0x86f)),y[_0x193856(0x62f)](_0x193856(0x55c)),y[_0x193856(0x62f)](_0x3686d3['body']);let _0x5f39d5=await this[_0x193856(0x63a)]({'request':_0x3686d3,'schema':N,'ClassRef':M,'execute':_0x28ef50=>A['fetchConversation'](_0x28ef50,_0x5a3f53)});_0xac041a[_0x193856(0x464)](0xc8)[_0x193856(0x493)](_0x5f39d5);})['post'](this[_0x11a454(0x87b)](_0x11a454(0x235)),..._0x209976,async(_0x5ccd9a,_0x4756ab)=>{const _0x2f3e2c=_0x11a454;let _0x465b43=_0x5ccd9a['body'];y['verbose'](_0x2f3e2c(0x3f8)),y[_0x2f3e2c(0x62f)](_0x2f3e2c(0x55c)),y[_0x2f3e2c(0x62f)](_0x5ccd9a['body']);let _0x82c8d3=await this[_0x2f3e2c(0x63a)]({'request':_0x5ccd9a,'schema':N,'ClassRef':M,'execute':_0x7a5d1b=>A[_0x2f3e2c(0x235)](_0x7a5d1b,_0x465b43)});_0x4756ab['status'](0xc8)[_0x2f3e2c(0x493)](_0x82c8d3);})[_0x11a454(0x72f)](this[_0x11a454(0x87b)](_0x11a454(0x5fe)),..._0x209976,async(_0x3af4a5,_0x41969e)=>{const _0x4099c4=_0x11a454;let _0x14c20a=_0x3af4a5[_0x4099c4(0x2d3)];y[_0x4099c4(0x62f)](_0x4099c4(0x2d2)),y[_0x4099c4(0x62f)](_0x4099c4(0x55c)),y[_0x4099c4(0x62f)](_0x3af4a5[_0x4099c4(0x2d3)]);let _0x563d47=await this[_0x4099c4(0x63a)]({'request':_0x3af4a5,'schema':N,'ClassRef':M,'execute':_0x242eb8=>A[_0x4099c4(0x5fe)](_0x242eb8,_0x14c20a)});_0x41969e['status'](0xc8)['json'](_0x563d47);})['post'](this[_0x11a454(0x87b)](_0x11a454(0x891)),..._0x209976,async(_0x5156f6,_0x437b40)=>{const _0x5658=_0x11a454;let _0x277a02=_0x5156f6[_0x5658(0x2d3)],_0x503794=_0x5156f6[_0x5658(0x495)]['apikey'];y['verbose'](_0x5658(0x84c)),y[_0x5658(0x62f)]('request\x20body:\x20'),y[_0x5658(0x62f)](_0x5156f6['body']);let _0x1cca16=await this['dataValidate']({'request':_0x5156f6,'schema':N,'ClassRef':M,'execute':_0x760856=>A[_0x5658(0x38f)](_0x760856,_0x277a02,_0x503794)});_0x437b40[_0x5658(0x464)](0xc8)[_0x5658(0x493)](_0x1cca16);})[_0x11a454(0x3da)](this[_0x11a454(0x87b)]('editflow'),..._0x209976,async(_0x9aa9c8,_0x303415)=>{const _0x8bcc1d=_0x11a454;let _0x2bd303=_0x9aa9c8['body'],_0x4a044e=_0x9aa9c8[_0x8bcc1d(0x495)][_0x8bcc1d(0x652)];y[_0x8bcc1d(0x62f)]('request\x20received\x20in\x20editFlow'),y[_0x8bcc1d(0x62f)]('request\x20body:\x20'),y[_0x8bcc1d(0x62f)](_0x9aa9c8[_0x8bcc1d(0x2d3)]),delete _0x2bd303[_0x8bcc1d(0x201)],delete _0x2bd303[_0x8bcc1d(0x576)],delete _0x2bd303[_0x8bcc1d(0x4e9)],delete _0x2bd303[_0x8bcc1d(0x443)];let _0xb61f81=await this[_0x8bcc1d(0x63a)]({'request':_0x9aa9c8,'schema':N,'ClassRef':M,'execute':_0x2f38a7=>A['editFlow'](_0x2f38a7,_0x2bd303,_0x4a044e)});_0x303415[_0x8bcc1d(0x464)](0xc8)['json'](_0xb61f81);})[_0x11a454(0x3da)](this[_0x11a454(0x87b)](_0x11a454(0x5a6)),..._0x209976,async(_0x1e164f,_0x3345c4)=>{const _0x4e1083=_0x11a454;let _0x521ab5=_0x1e164f[_0x4e1083(0x2d3)],_0x922797=_0x1e164f['headers'][_0x4e1083(0x652)];y[_0x4e1083(0x62f)](_0x4e1083(0x424)),y['verbose']('request\x20body:\x20'),y[_0x4e1083(0x62f)](_0x1e164f[_0x4e1083(0x2d3)]);let _0x2c2b12=await this[_0x4e1083(0x63a)]({'request':_0x1e164f,'schema':N,'ClassRef':M,'execute':_0x1a72af=>A[_0x4e1083(0x353)](_0x1a72af,_0x521ab5,_0x922797)});_0x3345c4[_0x4e1083(0x464)](0xc8)[_0x4e1083(0x493)](_0x2c2b12);})[_0x11a454(0x3da)](this[_0x11a454(0x87b)](_0x11a454(0x766)),..._0x209976,async(_0x57bb17,_0x5d811e)=>{const _0x1efa0b=_0x11a454;let _0x438c6b=_0x57bb17[_0x1efa0b(0x2d3)],_0x58aee5=_0x57bb17['headers'][_0x1efa0b(0x652)];y[_0x1efa0b(0x62f)]('request\x20received\x20in\x20editFlow'),y[_0x1efa0b(0x62f)](_0x1efa0b(0x55c)),y[_0x1efa0b(0x62f)](_0x57bb17[_0x1efa0b(0x2d3)]);let _0x21a8bf=await this[_0x1efa0b(0x63a)]({'request':_0x57bb17,'schema':N,'ClassRef':M,'execute':_0x3039bc=>A['editFlowReply'](_0x3039bc,_0x438c6b,_0x58aee5)});_0x5d811e['status'](0xc8)['json'](_0x21a8bf);})[_0x11a454(0x3da)](this[_0x11a454(0x87b)](_0x11a454(0x421)),..._0x209976,async(_0x3c1633,_0x3d807d)=>{const _0x3f2bb3=_0x11a454;let _0x341c59=_0x3c1633['body'],_0x253bb8=_0x3c1633[_0x3f2bb3(0x495)][_0x3f2bb3(0x652)];y['verbose'](_0x3f2bb3(0x424)),y['verbose'](_0x3f2bb3(0x55c)),y['verbose'](_0x3c1633[_0x3f2bb3(0x2d3)]);let _0x5cb489=await this[_0x3f2bb3(0x63a)]({'request':_0x3c1633,'schema':N,'ClassRef':M,'execute':_0x53a598=>A['editFlowVaredit'](_0x53a598,_0x341c59,_0x253bb8)});_0x3d807d[_0x3f2bb3(0x464)](0xc8)['json'](_0x5cb489);})[_0x11a454(0x3da)](this[_0x11a454(0x87b)]('editflowgroup'),..._0x209976,async(_0x3b9ef9,_0x302943)=>{const _0x208f6f=_0x11a454;let _0x54a21f=_0x3b9ef9[_0x208f6f(0x2d3)],_0x5b7f3f=_0x3b9ef9[_0x208f6f(0x495)][_0x208f6f(0x652)];y['verbose'](_0x208f6f(0x3f5)),y[_0x208f6f(0x62f)]('request\x20body:\x20'),y[_0x208f6f(0x62f)](_0x3b9ef9[_0x208f6f(0x2d3)]);let _0x59765c=await this[_0x208f6f(0x63a)]({'request':_0x3b9ef9,'schema':N,'ClassRef':M,'execute':_0x52c4ff=>A['editFlowGroup'](_0x52c4ff,_0x54a21f,_0x5b7f3f)});_0x302943['status'](0xc8)[_0x208f6f(0x493)](_0x59765c);})['post'](this[_0x11a454(0x87b)]('editflowcondition'),..._0x209976,async(_0x456b01,_0x846bdf)=>{const _0x3030c8=_0x11a454;let _0x10cefe=_0x456b01[_0x3030c8(0x2d3)],_0x172361=_0x456b01[_0x3030c8(0x495)][_0x3030c8(0x652)];y[_0x3030c8(0x62f)](_0x3030c8(0x7b4)),y[_0x3030c8(0x62f)](_0x3030c8(0x55c)),y['verbose'](_0x456b01[_0x3030c8(0x2d3)]);let _0x4d71eb=await this[_0x3030c8(0x63a)]({'request':_0x456b01,'schema':N,'ClassRef':M,'execute':_0x1867a1=>A[_0x3030c8(0x80a)](_0x1867a1,_0x10cefe,_0x172361)});_0x846bdf[_0x3030c8(0x464)](0xc8)[_0x3030c8(0x493)](_0x4d71eb);})[_0x11a454(0x3da)](this[_0x11a454(0x87b)](_0x11a454(0x5ed)),..._0x209976,async(_0x3402f5,_0x372dbc)=>{const _0x324ffc=_0x11a454;let _0x312cfd=_0x3402f5[_0x324ffc(0x2d3)],_0x411282=_0x3402f5['headers'][_0x324ffc(0x652)];y[_0x324ffc(0x62f)](_0x324ffc(0x548)),y[_0x324ffc(0x62f)](_0x324ffc(0x55c)),y['verbose'](_0x3402f5[_0x324ffc(0x2d3)]);let _0x236950=await this[_0x324ffc(0x63a)]({'request':_0x3402f5,'schema':N,'ClassRef':M,'execute':_0x51d407=>A[_0x324ffc(0x80f)](_0x51d407,_0x312cfd,_0x411282)});_0x372dbc[_0x324ffc(0x464)](0xc8)[_0x324ffc(0x493)](_0x236950);})[_0x11a454(0x3da)](this[_0x11a454(0x87b)](_0x11a454(0x47b)),..._0x209976,async(_0x56c252,_0x268a82)=>{const _0x49392b=_0x11a454;let _0xfa20fd=_0x56c252[_0x49392b(0x2d3)];y[_0x49392b(0x62f)](_0x49392b(0x403)),y['verbose'](_0x49392b(0x55c)),y[_0x49392b(0x62f)](_0x56c252[_0x49392b(0x2d3)]);let _0x377d37=await this['dataValidate']({'request':_0x56c252,'schema':N,'ClassRef':M,'execute':_0x42ab1e=>A[_0x49392b(0x786)](_0x42ab1e,_0xfa20fd)});_0x268a82[_0x49392b(0x464)](0xc8)[_0x49392b(0x493)](_0x377d37);})['delete'](this['routerPath'](_0x11a454(0x4bd)),..._0x209976,async(_0x117271,_0x3ba2c2)=>{const _0x151b31=_0x11a454;let _0x5c37f3=_0x117271[_0x151b31(0x2d3)],_0xcbcf97=_0x117271[_0x151b31(0x495)][_0x151b31(0x652)];y['verbose']('request\x20received\x20in\x20deleteFlow'),y[_0x151b31(0x62f)]('request\x20body:\x20'),y[_0x151b31(0x62f)](_0x117271[_0x151b31(0x2d3)]);let _0x5bcea3=await this[_0x151b31(0x63a)]({'request':_0x117271,'schema':N,'ClassRef':M,'execute':_0x2c62b3=>A[_0x151b31(0x408)](_0x2c62b3,_0x5c37f3,_0xcbcf97)});_0x3ba2c2['status'](0xc8)['json'](_0x5bcea3);})['get'](this['routerPath'](_0x11a454(0x2c2)),..._0x209976,async(_0x2654c4,_0x836e74)=>{const _0x516025=_0x11a454;y[_0x516025(0x62f)](_0x516025(0x6ce));let _0x2926ed=await this['dataValidate']({'request':_0x2654c4,'schema':N,'ClassRef':M,'execute':_0x44e914=>A[_0x516025(0x3ab)](_0x44e914)});_0x836e74['status'](0xc8)[_0x516025(0x493)](_0x2926ed);});}},go=O(require(a0_0x7625da(0x26d))),ee={};function uo(_0x571eb5,_0x1c3921,_0x4beb5c,_0x124e68){ee[_0x571eb5]||(ee[_0x571eb5]={}),ee[_0x571eb5][_0x1c3921]={'id':_0x1c3921,'response':_0x4beb5c,'events':_0x124e68};}function po(_0x59c016,_0x3596bb){!ee[_0x59c016]||!ee[_0x59c016][_0x3596bb]||delete ee[_0x59c016][_0x3596bb];}function F(_0x2a9aba,_0x3abd11,_0x36f022){const _0x66a9fc=a0_0x7625da;if(!ee[_0x2a9aba])return;let _0x10c5bf=_0x66a9fc(0x25e)+JSON[_0x66a9fc(0x511)](_0x36f022)+'\x0a\x0a';Object[_0x66a9fc(0x746)](ee[_0x2a9aba])[_0x66a9fc(0x886)](_0x42f412=>{const _0x3199e3=_0x66a9fc;_0x42f412[_0x3199e3(0x689)][_0x3199e3(0x80b)](_0x3abd11)&&_0x42f412[_0x3199e3(0x26f)][_0x3199e3(0x5cb)](_0x10c5bf);});}function ho(){const _0x3e0bce=a0_0x7625da;let _0x2849d4={};for(let _0x54e083 in ee)_0x2849d4[_0x54e083]=Object[_0x3e0bce(0x746)](ee[_0x54e083])[_0x3e0bce(0x1ec)](_0x2514f2=>({'id':_0x2514f2['id'],'events':_0x2514f2[_0x3e0bce(0x689)]}));return _0x2849d4;}var mo=require(a0_0x7625da(0x68c)),Es=require('mongoose'),Cs=class{},wr=new Es[(a0_0x7625da(0x389))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),yr=new Es[(a0_0x7625da(0x389))]({'_id':{'type':String,'default':a0_0x7625da(0x6e1)},'WebhookGlobal':{'type':wr},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Se=$?.[a0_0x7625da(0x6b3)](Cs[a0_0x7625da(0x2f7)],yr,a0_0x7625da(0x8b1)),br=go[a0_0x7625da(0x716)][a0_0x7625da(0x867)](__dirname,'downloads'),xe=(0x0,It['Router'])(),Sr=S[a0_0x7625da(0x7c4)](a0_0x7625da(0x6a3))[a0_0x7625da(0x666)],oe=[Sa,Ma,va[Sr]];xe['use'](a0_0x7625da(0x737),It[a0_0x7625da(0x716)][a0_0x7625da(0x7e0)](br))[a0_0x7625da(0x7c4)](a0_0x7625da(0x853),async(_0x579bd2,_0x42bee9)=>{const _0x287328=a0_0x7625da;console['log'](_0x287328(0x6e2));let _0x1a8689=_0x579bd2['params'][_0x287328(0x4e6)],_0x215ef0=(_0x579bd2[_0x287328(0x7f4)][_0x287328(0x689)]||'')['split'](','),_0x234b7e=(0x0,mo['v4'])();console[_0x287328(0x773)](_0x287328(0x3bc),_0x1a8689),console['log'](_0x287328(0x1f5),_0x215ef0);let _0x3c9488=S[_0x287328(0x7c4)](_0x287328(0x6a3))[_0x287328(0x7f0)],_0x1a1ad5=_0x579bd2['query'][_0x287328(0x652)];if(console[_0x287328(0x773)](_0x287328(0x6e7),_0x1a1ad5),_0x3c9488[_0x287328(0x449)]!==_0x1a1ad5){console[_0x287328(0x773)](_0x287328(0x4b1));try{let _0x51d8ee=await ue[_0x287328(0x436)][_0x287328(0x48d)](_0x1a8689);if(console['log']('Instance\x20Key\x20from\x20DB:',_0x51d8ee),!_0x51d8ee||_0x51d8ee[_0x287328(0x652)]!==_0x1a1ad5)return console['log'](_0x287328(0x486)),_0x42bee9[_0x287328(0x464)](0x191)[_0x287328(0x65d)](_0x287328(0x74f));}catch(_0x4959a8){return console['error'](_0x287328(0x307),_0x4959a8),_0x42bee9[_0x287328(0x464)](0x191)[_0x287328(0x65d)](_0x287328(0x54d));}}if(!await $e(_0x1a8689))return _0x42bee9['status'](0x194)[_0x287328(0x65d)]('Instância\x20não\x20encontrada.');_0x42bee9['setHeader'](_0x287328(0x245),_0x287328(0x6b2)),_0x42bee9[_0x287328(0x467)](_0x287328(0x21d),_0x287328(0x337)),_0x42bee9['setHeader'](_0x287328(0x6e0),_0x287328(0x809)),_0x42bee9['flushHeaders']();let _0x218ea5=_0x287328(0x25e)+JSON[_0x287328(0x511)]({'info':_0x287328(0x58b)})+'\x0a\x0a';_0x42bee9[_0x287328(0x5cb)](_0x218ea5),uo(_0x1a8689,_0x234b7e,_0x42bee9,_0x215ef0),_0x579bd2['on'](_0x287328(0x83b),()=>{const _0x3ffa43=_0x287328;console[_0x3ffa43(0x773)](_0x3ffa43(0x2d0)+_0x1a8689),po(_0x1a8689,_0x234b7e);});}),xe['post']('/startFlow/:instance/:startID',async(_0x367511,_0x5e0110)=>{const _0x47b0b7=a0_0x7625da;console[_0x47b0b7(0x773)](_0x47b0b7(0x700));let _0x45188b=_0x367511[_0x47b0b7(0x670)][_0x47b0b7(0x4e6)],_0x170c36=_0x367511['params']['startID'],_0x3bbb52=_0x367511['query']['remoteJid']||'',_0x9f2b16=_0x367511['body'];console[_0x47b0b7(0x773)](_0x47b0b7(0x6ec),_0x45188b),console[_0x47b0b7(0x773)](_0x47b0b7(0x7da),_0x170c36),console[_0x47b0b7(0x773)](_0x47b0b7(0x83e),_0x3bbb52),console['log']('Request\x20Body:',_0x9f2b16);try{if(!await $e(_0x45188b))return _0x5e0110[_0x47b0b7(0x464)](0x194)[_0x47b0b7(0x65d)](_0x47b0b7(0x3fa));let _0xe95684=await A['startFlowWebhook'](_0x45188b,_0x170c36,_0x3bbb52,_0x9f2b16);_0x5e0110[_0x47b0b7(0x65d)](_0xe95684);}catch(_0x265c6a){console[_0x47b0b7(0x3a8)](_0x265c6a),_0x5e0110['status'](0x1f4)[_0x47b0b7(0x65d)](_0x47b0b7(0x6f1));}}),xe['get'](a0_0x7625da(0x2b6),(_0x2ca161,_0xae5e05)=>{let _0xe560b7=ho();_0xae5e05['json'](_0xe560b7);})[a0_0x7625da(0x7c4)]('/',(_0x2c0f55,_0xaee2b7)=>{const _0x59394c=a0_0x7625da;let _0x52ccbc=S['get']('SERVER')[_0x59394c(0x4b7)];if(_0x52ccbc){let _0x22218e=encodeURIComponent(''+_0x52ccbc);_0xaee2b7[_0x59394c(0x348)](_0x59394c(0x5af)+_0x22218e);return;}let _0x28cca5=S[_0x59394c(0x7c4)](_0x59394c(0x8aa)),_0x153bd0=_0x28cca5&&_0x28cca5[_0x59394c(0x8c4)][_0x59394c(0x1e9)]('/')[0x4];if(_0x153bd0){let _0x29566a=encodeURIComponent(_0x59394c(0x289)+_0x153bd0);_0xaee2b7[_0x59394c(0x348)](_0x59394c(0x5af)+_0x29566a);}else _0xaee2b7[_0x59394c(0x348)](_0x59394c(0x5ad));})[a0_0x7625da(0x534)](a0_0x7625da(0x72c),...oe,async(_0x1867bf,_0xd339d8)=>{const _0x5d8a42=a0_0x7625da;try{console[_0x5d8a42(0x773)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0xd339d8['status'](0xc8)['json']({'message':_0x5d8a42(0x7d1)}),_0xd339d8['on']('finish',()=>process[_0x5d8a42(0x501)](0x0));}catch(_0xe1170f){console[_0x5d8a42(0x3a8)](_0x5d8a42(0x249),_0xe1170f),_0xd339d8[_0x5d8a42(0x464)](0x1f4)['json']({'message':_0x5d8a42(0x266)});}})[a0_0x7625da(0x534)](a0_0x7625da(0x310),...oe,async(_0x319294,_0x1af150)=>{const _0x17db86=a0_0x7625da;try{let _0x24dc2e=_0x319294[_0x17db86(0x2d3)];await Se[_0x17db86(0x819)]({},{'$set':_0x24dc2e},{'upsert':!0x0});let _0x556fe6=await Se[_0x17db86(0x715)]();_0x1af150[_0x17db86(0x493)](_0x556fe6);}catch(_0x367894){_0x1af150[_0x17db86(0x464)](0x190)['send'](_0x367894['message']);}})[a0_0x7625da(0x7c4)](a0_0x7625da(0x310),...oe,async(_0x2138a7,_0x302f14)=>{const _0x1e2bd4=a0_0x7625da;try{let _0x9782af=await Se[_0x1e2bd4(0x715)]();if(!_0x9782af)return _0x302f14['json']({});_0x302f14[_0x1e2bd4(0x493)](_0x9782af);}catch(_0x44aed6){_0x302f14[_0x1e2bd4(0x464)](0x1f4)[_0x1e2bd4(0x65d)](_0x44aed6[_0x1e2bd4(0x1ff)]);}})[a0_0x7625da(0x6d9)](a0_0x7625da(0x70a),new ft(S,...oe)[a0_0x7625da(0x491)])['use'](a0_0x7625da(0x444),new $t(...oe)[a0_0x7625da(0x491)])[a0_0x7625da(0x6d9)](a0_0x7625da(0x7ba),new it(...oe)[a0_0x7625da(0x491)])[a0_0x7625da(0x6d9)]('/group',new mt(...oe)['router'])[a0_0x7625da(0x6d9)]('/webhook',new Ot(...oe)[a0_0x7625da(0x491)])['use']('/automate',new Tt(...oe)['router']);var m=class{constructor(..._0x5be44b){const _0x4465ed=a0_0x7625da;throw{'status':0x190,'error':'Bad\x20Request','message':_0x5be44b[_0x4465ed(0x779)]>0x0?_0x5be44b:void 0x0};}},ae=class{constructor(..._0x297dde){const _0x26de17=a0_0x7625da;throw{'status':0x191,'error':_0x26de17(0x4c8),'message':_0x297dde[_0x26de17(0x779)]>0x0?_0x297dde:void 0x0};}},Y=class{constructor(..._0x200c6b){const _0x39f5bd=a0_0x7625da;throw{'status':0x193,'error':_0x39f5bd(0x765),'message':_0x200c6b[_0x39f5bd(0x779)]>0x0?_0x200c6b:void 0x0};}},U=class{constructor(..._0x5b118d){const _0x2e3eae=a0_0x7625da;throw{'status':0x194,'error':'Not\x20Found','message':_0x5b118d[_0x2e3eae(0x779)]>0x0?_0x5b118d:void 0x0};}},I=class{constructor(..._0x26567f){throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x26567f['length']>0x0?_0x26567f:void 0x0};}},de=require(a0_0x7625da(0x35c));async function vs(_0x392f9d){const _0x33ccf2=a0_0x7625da;let _0x2e1e9a=new R(vs[_0x33ccf2(0x2f7)]),_0x26b4d0=$[_0x33ccf2(0x259)](),_0x8d6d13=_0x26b4d0['db'](S[_0x33ccf2(0x7c4)](_0x33ccf2(0x3c8))[_0x33ccf2(0x1e1)][_0x33ccf2(0x46b)]+_0x33ccf2(0x3f4))[_0x33ccf2(0x855)](_0x392f9d),_0x12922a=async(_0x4af819,_0x5f1c00)=>{const _0x70f76f=_0x33ccf2;try{return await _0x26b4d0[_0x70f76f(0x3bb)](),await _0x8d6d13[_0x70f76f(0x8d8)]({'_id':_0x5f1c00},JSON[_0x70f76f(0x4ef)](JSON[_0x70f76f(0x511)](_0x4af819,de[_0x70f76f(0x5ab)][_0x70f76f(0x69b)])),{'upsert':!0x0});}catch{}},_0x1c1cca=async _0x35a32f=>{const _0x228eb4=_0x33ccf2;try{await _0x26b4d0[_0x228eb4(0x3bb)]();let _0x295f85=await _0x8d6d13[_0x228eb4(0x715)]({'_id':_0x35a32f}),_0x1db08c=JSON['stringify'](_0x295f85);return JSON[_0x228eb4(0x4ef)](_0x1db08c,de[_0x228eb4(0x5ab)][_0x228eb4(0x2cc)]);}catch{}},_0x30fe4=async _0x5809f5=>{const _0x292c95=_0x33ccf2;try{return await _0x26b4d0[_0x292c95(0x3bb)](),await _0x8d6d13['deleteOne']({'_id':_0x5809f5});}catch{}},_0x491eb8=await _0x1c1cca(_0x33ccf2(0x4da))||(0x0,de[_0x33ccf2(0x67e)])();return{'state':{'creds':_0x491eb8,'keys':{'get':async(_0x52ed1c,_0x5c32a8)=>{const _0x3e3c2=_0x33ccf2;let _0x500889={};return await Promise['all'](_0x5c32a8[_0x3e3c2(0x1ec)](async _0x77047=>{const _0x1fa171=_0x3e3c2;let _0x5f23f8=await _0x1c1cca(_0x52ed1c+'-'+_0x77047);_0x52ed1c==='app-state-sync-key'&&_0x5f23f8&&(_0x5f23f8=de[_0x1fa171(0x322)][_0x1fa171(0x208)][_0x1fa171(0x361)][_0x1fa171(0x7e6)](_0x5f23f8)),_0x500889[_0x77047]=_0x5f23f8;})),_0x500889;},'set':async _0x2e6652=>{const _0x52b9a6=_0x33ccf2;let _0x59761c=[];for(let _0xa3ab3d in _0x2e6652)for(let _0x21f86b in _0x2e6652[_0xa3ab3d]){let _0x33fd35=_0x2e6652[_0xa3ab3d][_0x21f86b],_0x3c05dc=_0xa3ab3d+'-'+_0x21f86b;_0x59761c['push'](_0x33fd35?_0x12922a(_0x33fd35,_0x3c05dc):_0x30fe4(_0x3c05dc));}await Promise[_0x52b9a6(0x315)](_0x59761c);}}},'saveCreds':async()=>_0x12922a(_0x491eb8,_0x33ccf2(0x4da))};}var Os=O(require(a0_0x7625da(0x2ac))),Ts=O(require('node-cache')),_t=require(a0_0x7625da(0x35c)),fo=require(a0_0x7625da(0x458)),Dt=require('@whiskeysockets/baileys'),xt;function Mr(_0x386e3c){const _0x46d38a=a0_0x7625da;return xt||(xt=(0x0,fo[_0x46d38a(0x5f8)])({'url':_0x386e3c[_0x46d38a(0x604)]}),xt[_0x46d38a(0x3bb)]()),xt;}var ce=class c{constructor(_0x1d2cef,_0x1a66ca){const _0x569faf=a0_0x7625da;this[_0x569faf(0x2d1)]=_0x1d2cef,this[_0x569faf(0x1dc)]=_0x1a66ca,this['logger']=new R(c[_0x569faf(0x2f7)]),this[_0x569faf(0x4d8)]=Mr(_0x1d2cef);}set[a0_0x7625da(0x4ce)](_0x593375){const _0x2704b9=a0_0x7625da;this[_0x2704b9(0x1dc)]=_0x593375;}async['instanceKeys'](){const _0x3012a2=a0_0x7625da;try{return await this[_0x3012a2(0x4d8)][_0x3012a2(0x459)]([_0x3012a2(0x4f8),this[_0x3012a2(0x2d1)][_0x3012a2(0x784)]+':*']);}catch(_0x4e3f11){this['logger'][_0x3012a2(0x3a8)](_0x4e3f11);}}async['writeData'](_0x301cff,_0x46de06){const _0x5362f0=a0_0x7625da;try{let _0x56bbaf=JSON[_0x5362f0(0x511)](_0x46de06,Dt[_0x5362f0(0x5ab)][_0x5362f0(0x69b)]);return await this[_0x5362f0(0x4d8)][_0x5362f0(0x5b8)](this[_0x5362f0(0x2d1)][_0x5362f0(0x784)]+':'+this[_0x5362f0(0x1dc)],_0x301cff,_0x56bbaf);}catch(_0x28d786){this[_0x5362f0(0x58e)]['error'](_0x28d786);}}async[a0_0x7625da(0x8c9)](){const _0xf7edfe=a0_0x7625da;try{let _0x404e80=await this['client']['hGetAll'](this[_0xf7edfe(0x2d1)]['PREFIX_KEY']+':'+this[_0xf7edfe(0x1dc)]);if(_0x404e80){for(let _0x5d3238 in _0x404e80)Object[_0xf7edfe(0x5dd)]['hasOwnProperty'][_0xf7edfe(0x8b0)](_0x404e80,_0x5d3238)&&(_0x404e80[_0x5d3238]=JSON['parse'](_0x404e80[_0x5d3238],Dt['BufferJSON'][_0xf7edfe(0x2cc)]));return _0x404e80;}}catch(_0x763f87){this[_0xf7edfe(0x58e)]['error'](_0x763f87);}}async['readData'](_0x46a453){const _0x49191f=a0_0x7625da;try{let _0xe747f0=await this['client'][_0x49191f(0x4ae)](this['redisEnv'][_0x49191f(0x784)]+':'+this[_0x49191f(0x1dc)],_0x46a453);if(_0xe747f0)return JSON['parse'](_0xe747f0,Dt[_0x49191f(0x5ab)][_0x49191f(0x2cc)]);}catch(_0x372e43){this[_0x49191f(0x58e)]['error'](_0x372e43);}}async[a0_0x7625da(0x8a6)](_0x13faeb){const _0xab15f3=a0_0x7625da;try{return await this[_0xab15f3(0x4d8)][_0xab15f3(0x678)](this[_0xab15f3(0x2d1)][_0xab15f3(0x784)]+':'+this[_0xab15f3(0x1dc)],_0x13faeb);}catch(_0x48eed2){this[_0xab15f3(0x58e)]['error'](_0x48eed2);}}async[a0_0x7625da(0x33f)](_0x33b477){const _0x806c75=a0_0x7625da;try{return await this[_0x806c75(0x4d8)][_0x806c75(0x6d2)](_0x33b477||this[_0x806c75(0x2d1)][_0x806c75(0x784)]+':'+this['instanceName']);}catch(_0x3e0dbf){this[_0x806c75(0x58e)][_0x806c75(0x3a8)](_0x3e0dbf);}}};async function Ns(_0x38aa15,_0x4e9c42){const _0x16696c=a0_0x7625da;let _0x12813c=new R(Ns[_0x16696c(0x2f7)]),_0xb3c6ee=new ce(_0x38aa15,_0x4e9c42),_0xf68390=async(_0x4ad348,_0x817a90)=>{const _0x6bdb33=_0x16696c;try{return await _0xb3c6ee[_0x6bdb33(0x876)](_0x817a90,_0x4ad348);}catch(_0x239f44){return _0x12813c[_0x6bdb33(0x3a8)]({'localError':_0x6bdb33(0x876),'error':_0x239f44});}},_0x352cc5=async _0x55014d=>{const _0x130e0c=_0x16696c;try{return await _0xb3c6ee['readData'](_0x55014d);}catch(_0x507f8f){_0x12813c[_0x130e0c(0x3a8)]({'readData':_0x130e0c(0x876),'error':_0x507f8f});return;}},_0x14cdfd=async _0x1fb030=>{const _0x13c0da=_0x16696c;try{return await _0xb3c6ee[_0x13c0da(0x8a6)](_0x1fb030);}catch(_0x2df21b){_0x12813c[_0x13c0da(0x3a8)]({'readData':_0x13c0da(0x8a6),'error':_0x2df21b});}},_0x490085=await _0x352cc5('creds')||(0x0,_t[_0x16696c(0x67e)])();return{'state':{'creds':_0x490085,'keys':{'get':async(_0xb85bab,_0x45fc90)=>{const _0xf58b1=_0x16696c;let _0x239adf={};return await Promise[_0xf58b1(0x315)](_0x45fc90[_0xf58b1(0x1ec)](async _0x45cea3=>{const _0x3cc2e7=_0xf58b1;let _0x435286=await _0x352cc5(_0xb85bab+'-'+_0x45cea3);_0xb85bab===_0x3cc2e7(0x554)&&_0x435286&&(_0x435286=_t[_0x3cc2e7(0x322)]['Message']['AppStateSyncKeyData'][_0x3cc2e7(0x7e6)](_0x435286)),_0x239adf[_0x45cea3]=_0x435286;})),_0x239adf;},'set':async _0x19b0b5=>{const _0x3da8c5=_0x16696c;let _0x257d14=[];for(let _0x187fd0 in _0x19b0b5)for(let _0x2ede32 in _0x19b0b5[_0x187fd0]){let _0x104eb4=_0x19b0b5[_0x187fd0][_0x2ede32],_0x4b48c0=_0x187fd0+'-'+_0x2ede32;_0x257d14[_0x3da8c5(0x566)](_0x104eb4?await _0xf68390(_0x104eb4,_0x4b48c0):await _0x14cdfd(_0x4b48c0));}await Promise['all'](_0x257d14);}}},'saveCreds':async()=>await _0xf68390(_0x490085,_0x16696c(0x4da))};}var k=O(require('fs')),Me=require(a0_0x7625da(0x68c)),Lt=O(require(a0_0x7625da(0x291))),Ft=require(a0_0x7625da(0x57b)),Cr=a0_0x7625da(0x427)[a0_0x7625da(0x5d8)](),Pt=Cr[a0_0x7625da(0x1e9)]('\x0a')[a0_0x7625da(0x1ec)](_0x85dae2=>{const _0x8bd505=a0_0x7625da;let _0x575804=_0x85dae2['split'](':'),_0xd014cb={'host':_0x575804[0x0],'port':_0x575804[0x1],'protocol':'http'};return _0x575804[_0x8bd505(0x779)]===0x4&&(_0xd014cb['username']=_0x575804[0x2],_0xd014cb[_0x8bd505(0x627)]=_0x575804[0x3]),_0xd014cb;});function wo(_0x54313c){const _0x5d431a=a0_0x7625da;return Pt[_0x5d431a(0x48d)](_0x4e97f1=>_0x4e97f1[_0x5d431a(0x3c4)]===_0x54313c)||null;}function yo(){const _0x184200=a0_0x7625da;if(Pt[_0x184200(0x779)]===0x0)return null;let _0x333b11=Math[_0x184200(0x4e3)](Math[_0x184200(0x304)]()*Pt[_0x184200(0x779)]);return Pt[_0x333b11];}function Rs(_0x5d9120){const _0x5754c0=a0_0x7625da;let _0x4ed660=_0x6db79e=>typeof _0x6db79e==_0x5754c0(0x5f1)&&_0x6db79e['length']>0x0,_0x3fde62=_0x199415=>{let _0x1d3bd8=parseInt(_0x199415,0xa);return!isNaN(_0x1d3bd8)&&_0x1d3bd8>0x0&&_0x1d3bd8<=0xffff;},_0x225c3e=_0x58b139=>typeof _0x58b139==_0x5754c0(0x5f1)&&_0x58b139['length']>0x0;return _0x5d9120&&_0x4ed660(_0x5d9120[_0x5754c0(0x3c4)])&&_0x3fde62(_0x5d9120[_0x5754c0(0x33e)])&&(!_0x5d9120['username']||_0x225c3e(_0x5d9120[_0x5754c0(0x4d7)]))&&(!_0x5d9120['password']||_0x225c3e(_0x5d9120['password']))&&(_0x5d9120[_0x5754c0(0x7c2)]==='http'||_0x5d9120['protocol']===_0x5754c0(0x1f8));}var Jt=require(a0_0x7625da(0x76b)),Is=a0_0x7625da(0x751),Eo,le=null,bo=null,st=null,Er=0x3,vr=null,te=S[a0_0x7625da(0x7c4)]('AUTHENTICATION')[a0_0x7625da(0x7f0)][a0_0x7625da(0x449)];async function Nr(){const _0x9368ab=a0_0x7625da;let _0x5d6c9f=await Se['findOne']();le=_0x5d6c9f?.[_0x9368ab(0x561)]??null,vr=_0x5d6c9f?.[_0x9368ab(0x4f5)]??null,Is=_0x5d6c9f?.[_0x9368ab(0x207)]??_0x9368ab(0x751),Eo=_0x5d6c9f?.[_0x9368ab(0x813)]??xs??_0x9368ab(0x6b8),console[_0x9368ab(0x773)](_0x5d6c9f);}async function Rr(){await Nr();}Rr();var Ce=class c{constructor(_0x3bef68,_0x208b2c,_0x118093){const _0x4dc2f3=a0_0x7625da;this[_0x4dc2f3(0x724)]=_0x3bef68,this[_0x4dc2f3(0x675)]=_0x208b2c,this[_0x4dc2f3(0x3f9)]=_0x118093,this[_0x4dc2f3(0x3e1)]=null,this[_0x4dc2f3(0x58e)]=new R(c[_0x4dc2f3(0x2f7)]),this[_0x4dc2f3(0x4e6)]={},this['localWebhook']={},this[_0x4dc2f3(0x541)]={'state':_0x4dc2f3(0x83b)},this[_0x4dc2f3(0x521)]=(0x0,L['join'])(ie,_0x4dc2f3(0x2ff)),this[_0x4dc2f3(0x30d)]=new Ts[(_0x4dc2f3(0x716))](),this[_0x4dc2f3(0x753)]=new Ts[(_0x4dc2f3(0x716))](),this['endSession']=!0x1,this['webhookMap']={'status.instance':_0x4dc2f3(0x28f),'connection.update':_0x4dc2f3(0x28f),'qrcode.updated':_0x4dc2f3(0x325),'messages.upsert':_0x4dc2f3(0x3cd),'send.message':_0x4dc2f3(0x3cd),'messages.update':_0x4dc2f3(0x394),'group.upsert':'/wa-groups','group.update':_0x4dc2f3(0x61d),'group-participants.update':_0x4dc2f3(0x61d),'messages.set':_0x4dc2f3(0x854),'contacts.set':_0x4dc2f3(0x44f),'contacts.upsert':_0x4dc2f3(0x44f),'contacts.update':_0x4dc2f3(0x44f),'presence.update':'/wa-presence','chats.set':_0x4dc2f3(0x48c),'chats.update':_0x4dc2f3(0x48c),'chats.upsert':_0x4dc2f3(0x48c),'chats.delete':'/wa-chats'},this[_0x4dc2f3(0x24a)]=0x0,this['reconnectTimestamps']=[],this[_0x4dc2f3(0x367)]=0xa,this['RECONNECT_TIME_FRAME']=0xea60,this[_0x4dc2f3(0x81a)]=!0x1,this[_0x4dc2f3(0x5e9)]={'chats.upsert':async(_0x438144,_0x8c97ac)=>{const _0x12143e=_0x4dc2f3;let _0x210282=[];for await(let _0x34dde8 of _0x438144)_0x210282[_0x12143e(0x566)]({'_id':_0x34dde8['id'],'owner':this['instance'][_0x12143e(0x58c)],'group':_0x34dde8['id']['endsWith']('@g.us'),'name':_0x34dde8[_0x12143e(0x2f7)]||_0x34dde8[_0x12143e(0x2a3)]||null,'contactname':null,'lastmsg':_0x34dde8[_0x12143e(0x4d3)]&&_0x34dde8[_0x12143e(0x4d3)][_0x12143e(0x455)]()[_0x12143e(0x779)]<0xd?_0x34dde8[_0x12143e(0x4d3)]*0x3e8:_0x34dde8[_0x12143e(0x4d3)]||null,'archived':_0x34dde8['archived']||!0x1,'unreadcount':_0x34dde8[_0x12143e(0x777)]||0x0,'ephemeralExpiration':_0x34dde8[_0x12143e(0x707)]||0x0});this[_0x12143e(0x2cb)]('chats.upsert',_0x210282);},'chats.update':async(_0x58e9b1,_0x1b8880)=>{const _0x43cfa1=_0x4dc2f3;for(let _0x3ffca5 of _0x58e9b1){let _0x2fc2d0={'_id':_0x3ffca5['id'],'owner':this['instance'][_0x43cfa1(0x58c)],'archived':_0x3ffca5[_0x43cfa1(0x446)],'muteEndTime':_0x3ffca5[_0x43cfa1(0x308)],'ephemeralExpiration':_0x3ffca5[_0x43cfa1(0x707)]},_0x50ce95=!0x1,_0x5e464a={};_0x2fc2d0[_0x43cfa1(0x446)]!=null&&(this[_0x43cfa1(0x58e)][_0x43cfa1(0x62f)](this[_0x43cfa1(0x1dc)]+'\x20('+this['instance']['wuid']+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x3ffca5['id']+_0x43cfa1(0x742)+_0x3ffca5[_0x43cfa1(0x446)]),_0x50ce95=!0x0,_0x5e464a[_0x43cfa1(0x446)]=_0x3ffca5[_0x43cfa1(0x446)]),_0x43cfa1(0x308)in _0x3ffca5&&(this[_0x43cfa1(0x58e)][_0x43cfa1(0x62f)](this[_0x43cfa1(0x1dc)]+'\x20('+this[_0x43cfa1(0x4e6)][_0x43cfa1(0x58c)]+_0x43cfa1(0x73f)+_0x3ffca5['id']+_0x43cfa1(0x742)+(_0x3ffca5[_0x43cfa1(0x308)]??'0')),_0x50ce95=!0x0,_0x5e464a[_0x43cfa1(0x308)]=_0x3ffca5[_0x43cfa1(0x308)]??0x0),_0x43cfa1(0x707)in _0x3ffca5&&(this['logger'][_0x43cfa1(0x62f)](this[_0x43cfa1(0x1dc)]+'\x20('+this['instance'][_0x43cfa1(0x58c)]+_0x43cfa1(0x6eb)+_0x3ffca5['id']+_0x43cfa1(0x742)+(_0x3ffca5['ephemeralExpiration']!==void 0x0?_0x3ffca5['ephemeralExpiration']:_0x43cfa1(0x5a9))),_0x5e464a[_0x43cfa1(0x707)]=_0x3ffca5[_0x43cfa1(0x707)]===null?0x0:_0x3ffca5[_0x43cfa1(0x707)],_0x50ce95=!0x0);let _0x52f0ac;_0x50ce95&&(_0x52f0ac=await this[_0x43cfa1(0x3f9)][_0x43cfa1(0x5bb)]['updateOne']({'where':{'_id':_0x3ffca5['id']}},_0x5e464a,this[_0x43cfa1(0x4e6)][_0x43cfa1(0x58c)])),_0x52f0ac&&F(this[_0x43cfa1(0x1dc)],'chats',{'chat':_0x52f0ac});}},'chats.delete':async _0x19afaa=>{const _0x2c4d69=_0x4dc2f3;for(let _0x53d663 of _0x19afaa)if(_0x53d663[_0x2c4d69(0x2f5)](_0x2c4d69(0x793))){await this[_0x2c4d69(0x3f9)]['chat']['delete']({'where':{'_id':_0x53d663}},this[_0x2c4d69(0x4e6)][_0x2c4d69(0x58c)]);let _0x96331c={'where':{'key':{'remoteJid':_0x53d663}}};await this[_0x2c4d69(0x3f9)][_0x2c4d69(0x1ff)][_0x2c4d69(0x72f)](_0x96331c,this[_0x2c4d69(0x4e6)][_0x2c4d69(0x58c)]);}else{await this[_0x2c4d69(0x3f9)][_0x2c4d69(0x5bb)][_0x2c4d69(0x819)]({'where':{'_id':_0x53d663}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x2c4d69(0x4e6)]['wuid']);let _0x64281c={'where':{'key':{'remoteJid':_0x53d663}}};await this['repository'][_0x2c4d69(0x1ff)][_0x2c4d69(0x72f)](_0x64281c,this[_0x2c4d69(0x4e6)]['wuid']);}this[_0x2c4d69(0x2cb)](_0x2c4d69(0x29a),[..._0x19afaa]);}},this[_0x4dc2f3(0x69f)]={'contacts.upsert':async(_0x3213ee,_0x1201df)=>{const _0x3ca2ca=_0x4dc2f3;let _0xb7a51a=await this['repository'][_0x3ca2ca(0x5de)][_0x3ca2ca(0x48d)]({'where':{}},this['instance'][_0x3ca2ca(0x58c)]),_0x32b55c=[];for await(let _0xeb483 of _0x3213ee)_0xb7a51a[_0x3ca2ca(0x48d)](_0x2a7eea=>_0x2a7eea[_0x3ca2ca(0x7ce)]===_0xeb483['id'])||_0x32b55c[_0x3ca2ca(0x566)]({'_id':_0xeb483['id'],'pushName':_0xeb483?.[_0x3ca2ca(0x2f7)]||_0xeb483?.[_0x3ca2ca(0x374)],'owner':this['instance'][_0x3ca2ca(0x58c)]});this[_0x3ca2ca(0x2cb)](_0x3ca2ca(0x53f),_0x32b55c),await this[_0x3ca2ca(0x3f9)][_0x3ca2ca(0x5de)][_0x3ca2ca(0x20a)](_0x32b55c);},'contacts.update':async(_0xfa4db7,_0x16588b)=>{const _0x95f578=_0x4dc2f3;let _0x10e1b7=[];for await(let _0x7eb117 of _0xfa4db7)_0x10e1b7['push']({'_id':_0x7eb117['id'],'pushName':_0x7eb117?.['name']??_0x7eb117?.['verifiedName'],'owner':this[_0x95f578(0x4e6)]['wuid']});this[_0x95f578(0x2cb)](_0x95f578(0x7d4),_0x10e1b7);}},this[_0x4dc2f3(0x239)]={'messaging-history.set':async({messages:_0x26521f,chats:_0x30172d,isLatest:_0x4c9819},_0x1b5a19)=>{const _0x42a821=_0x4dc2f3;if(_0x4c9819){let _0x10032d=await Promise[_0x42a821(0x315)](_0x30172d[_0x42a821(0x1ec)](async _0x48dfa1=>({'_id':_0x48dfa1['id'],'owner':this[_0x42a821(0x4e6)][_0x42a821(0x58c)],'group':_0x48dfa1['id']['endsWith'](_0x42a821(0x793)),'name':_0x48dfa1[_0x42a821(0x2f7)]||_0x48dfa1['displayName']||_0x48dfa1['username']||null,'contactname':null,'lastmsg':_0x48dfa1[_0x42a821(0x4d3)]&&_0x48dfa1[_0x42a821(0x4d3)][_0x42a821(0x455)]()[_0x42a821(0x779)]<0xd?_0x48dfa1[_0x42a821(0x4d3)]*0x3e8:_0x48dfa1[_0x42a821(0x4d3)]||null,'archived':_0x48dfa1[_0x42a821(0x446)]||!0x1,'unreadcount':_0x48dfa1['unreadCount']||0x0,'ephemeralExpiration':_0x48dfa1['ephemeralExpiration']||0x0,'muteEndTime':_0x48dfa1[_0x42a821(0x308)]||0x0})));this[_0x42a821(0x2cb)](_0x42a821(0x7e5),_0x10032d),await this[_0x42a821(0x2c6)](_0x10032d,_0x1b5a19);}let _0x4bc935=[],_0x15c47a=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x2c8b35]of Object[_0x42a821(0x499)](_0x26521f)){if(_0x2c8b35['message']?.[_0x42a821(0x338)]||_0x2c8b35[_0x42a821(0x1ff)]?.[_0x42a821(0x544)]||!_0x2c8b35[_0x42a821(0x1ff)]||_0x2c8b35[_0x42a821(0x84e)][_0x42a821(0x6cd)]===_0x42a821(0x599)||(Os[_0x42a821(0x716)][_0x42a821(0x298)](_0x2c8b35?.[_0x42a821(0x5c4)])&&(_0x2c8b35[_0x42a821(0x5c4)]=_0x2c8b35[_0x42a821(0x5c4)]?.[_0x42a821(0x506)]()),_0x2c8b35[_0x42a821(0x5c4)]&&_0x2c8b35['messageTimestamp'][_0x42a821(0x455)]()[_0x42a821(0x779)]<0xd&&(_0x2c8b35[_0x42a821(0x5c4)]=_0x2c8b35[_0x42a821(0x5c4)]*0x3e8),_0x2c8b35[_0x42a821(0x5c4)]<_0x15c47a))continue;let _0x42ad35=(0x0,f[_0x42a821(0x2c7)])(_0x2c8b35[_0x42a821(0x1ff)]),_0x1e626b=(0x0,f[_0x42a821(0x30c)])(_0x42ad35),{message_normalized:_0xdf290c}=this[_0x42a821(0x27c)](_0x42ad35,_0x1e626b,null);Object[_0x42a821(0x4f8)](_0xdf290c)[_0x42a821(0x779)]>0x0&&_0x4bc935[_0x42a821(0x566)]({'_id':_0x2c8b35['key']['id'],'key':_0x2c8b35[_0x42a821(0x84e)],'pushName':_0x2c8b35['pushName'],'participant':_0x2c8b35[_0x42a821(0x705)],'message':_0x42ad35,'messageType':_0x1e626b,'message_normalized':{'key':_0x2c8b35[_0x42a821(0x84e)],'pushName':_0x2c8b35['pushName'],'messageTimestamp':_0x2c8b35['messageTimestamp'],..._0xdf290c},'messageTimestamp':_0x2c8b35['messageTimestamp'],'owner':this[_0x42a821(0x4e6)][_0x42a821(0x58c)]});}_0x1b5a19[_0x42a821(0x7de)]&&_0x4bc935[_0x42a821(0x779)]>0x0&&(this['logger'][_0x42a821(0x62f)](this[_0x42a821(0x1dc)]+'\x20('+this[_0x42a821(0x4e6)][_0x42a821(0x58c)]+_0x42a821(0x510)+_0x4bc935[_0x42a821(0x779)]+'\x20mensagens\x20de\x20'+this[_0x42a821(0x4e6)][_0x42a821(0x58c)]+_0x42a821(0x38d)),await this[_0x42a821(0x3f9)]['message'][_0x42a821(0x20a)]([..._0x4bc935],this[_0x42a821(0x4e6)]['wuid'])),this[_0x42a821(0x2cb)]('messages.set',[..._0x4bc935]),_0x26521f=void 0x0;},'messages.upsert':async({messages:_0x4d4d98,type:_0x47be1f},_0xace79a)=>{const _0x12c62d=_0x4dc2f3;let _0x3ba288=_0x4d4d98[0x0],_0x4acc6f=_0x3ba288['key']['id'],_0x43ae9f=_0x3ba288[_0x12c62d(0x5e1)]&&_0x3ba288[_0x12c62d(0x5e1)][0x0]===_0x12c62d(0x29b);if(this[_0x12c62d(0x2bb)]?.['groups_ignore']&&_0x3ba288[_0x12c62d(0x84e)][_0x12c62d(0x6cd)][_0x12c62d(0x80b)]('@g.us')){this[_0x12c62d(0x58e)]['verbose'](this[_0x12c62d(0x1dc)]+'\x20('+this[_0x12c62d(0x4e6)][_0x12c62d(0x58c)]+_0x12c62d(0x35e));return;}if(_0x43ae9f){for(let _0x1bb795=0x0;_0x1bb795<0x5;_0x1bb795++)try{await this[_0x12c62d(0x4d8)][_0x12c62d(0x687)](JSON[_0x12c62d(0x4ef)](_0x3ba288[_0x12c62d(0x5e1)][0x1],f[_0x12c62d(0x5ab)][_0x12c62d(0x2cc)])),this[_0x12c62d(0x58e)][_0x12c62d(0x573)](this[_0x12c62d(0x1dc)]+'\x20('+this[_0x12c62d(0x4e6)][_0x12c62d(0x58c)]+_0x12c62d(0x31f)+(_0x1bb795+0x1)+_0x12c62d(0x49c));break;}catch(_0x4fd4e3){if(this['logger'][_0x12c62d(0x3a8)](this[_0x12c62d(0x1dc)]+'\x20('+this[_0x12c62d(0x4e6)][_0x12c62d(0x58c)]+_0x12c62d(0x3fb)+(_0x1bb795+0x1)),_0x1bb795===0x4)throw _0x4fd4e3;await new Promise(_0x1745f9=>setTimeout(_0x1745f9,0x7d0));}}if(_0x47be1f!==_0x12c62d(0x5fc)||!_0x3ba288?.['message']||_0x3ba288[_0x12c62d(0x1ff)]?.[_0x12c62d(0x338)]||_0x3ba288[_0x12c62d(0x1ff)]['senderKeyDistributionMessage']||_0x3ba288[_0x12c62d(0x84e)]['remoteJid']==='status@broadcast')return;let _0x335d8e=null,_0x4b2e77=null;try{_0x335d8e=await this[_0x12c62d(0x5f6)](_0x3ba288),_0x4b2e77=_0x335d8e?_0x335d8e[_0x12c62d(0x867)](','):null;}catch(_0x1c587e){this[_0x12c62d(0x58e)]['verbose'](this[_0x12c62d(0x1dc)]+'\x20('+this[_0x12c62d(0x4e6)][_0x12c62d(0x58c)]+_0x12c62d(0x510)+(_0x1c587e instanceof Error?_0x1c587e[_0x12c62d(0x1ff)]:JSON[_0x12c62d(0x511)](_0x1c587e,null,0x2))),_0x4b2e77='error\x20get\x20vote';}this[_0x12c62d(0x4d8)][_0x12c62d(0x50c)](_0x12c62d(0x583)),Os['default']['isLong'](_0x3ba288[_0x12c62d(0x5c4)])&&(_0x3ba288[_0x12c62d(0x5c4)]=_0x3ba288[_0x12c62d(0x5c4)]?.[_0x12c62d(0x506)]()),_0x3ba288[_0x12c62d(0x5c4)]&&_0x3ba288[_0x12c62d(0x5c4)][_0x12c62d(0x455)]()[_0x12c62d(0x779)]<0xd&&(_0x3ba288['messageTimestamp']=_0x3ba288[_0x12c62d(0x5c4)]*0x3e8);let _0x1cb770=_0x3ba288[_0x12c62d(0x1ff)],_0x5f0fe1=(0x0,f[_0x12c62d(0x2c7)])(_0x1cb770),_0x1f339f=(0x0,f[_0x12c62d(0x30c)])(_0x5f0fe1),{messageContent:_0xe7b3b9,message_normalized:_0x28b7ed}=this[_0x12c62d(0x27c)](_0x5f0fe1,_0x1f339f,_0x4b2e77);_0x1f339f===_0x12c62d(0x338)&&_0xe7b3b9?.[_0x12c62d(0x39d)]&&(_0x1f339f=_0x12c62d(0x39d));let _0x18872a,_0x53c41d=_0x3ba288[_0x12c62d(0x84e)][_0x12c62d(0x6cd)]['endsWith'](_0x12c62d(0x793));if(_0x3ba288[_0x12c62d(0x84e)][_0x12c62d(0x7db)])_0x18872a=this['instance'][_0x12c62d(0x5cf)];else{let _0xe03786=_0x53c41d?_0x3ba288[_0x12c62d(0x84e)][_0x12c62d(0x705)]:_0x3ba288[_0x12c62d(0x84e)][_0x12c62d(0x6cd)];_0x18872a=(await this[_0x12c62d(0x88d)](_0xe03786,_0x3ba288['pushName'],!0x1))[_0x12c62d(0x68d)][_0x12c62d(0x2bf)];}let _0x4b2794={'_id':_0x3ba288['key']['id'],'key':_0x3ba288[_0x12c62d(0x84e)],'isGroup':_0x53c41d,'profilePictureUrl':_0x18872a,'pushName':_0x3ba288['pushName'],'message':_0x5f0fe1,'messageType':_0x1f339f,'message_normalized':{'key':_0x3ba288['key'],'pushName':_0x3ba288['pushName'],'messageTimestamp':_0x3ba288[_0x12c62d(0x5c4)],'source':(0x0,f[_0x12c62d(0x51c)])(_0x3ba288[_0x12c62d(0x84e)]['id']),..._0x28b7ed},'messageTimestamp':_0x3ba288[_0x12c62d(0x5c4)],'owner':this['instance']['wuid'],'source':(0x0,f[_0x12c62d(0x51c)])(_0x3ba288[_0x12c62d(0x84e)]['id']),'expiration':_0xe7b3b9?.[_0x12c62d(0x5d3)]?.[_0x12c62d(0x798)]||0x0};_0xe7b3b9||(console[_0x12c62d(0x3a8)]('Mensagem\x20não\x20suportada'),this[_0x12c62d(0x58e)]['error'](_0x4b2794)),this[_0x12c62d(0x58e)][_0x12c62d(0x773)](this[_0x12c62d(0x1dc)]+'\x20('+this[_0x12c62d(0x4e6)][_0x12c62d(0x58c)]+_0x12c62d(0x510)+(_0x4b2794[_0x12c62d(0x84e)]?.[_0x12c62d(0x7db)]?_0x12c62d(0x8ae):_0x12c62d(0x63d))+'\x20['+_0x4b2794[_0x12c62d(0x84e)]?.[_0x12c62d(0x6cd)]['replace']('@s.whatsapp.net','')+']\x20('+_0x4b2794[_0x12c62d(0x810)]+')'),_0x4b2794[_0x12c62d(0x346)]?.[_0x12c62d(0x3e8)]&&this[_0x12c62d(0x58e)][_0x12c62d(0x773)](_0x4acc6f+':\x20'+_0x4b2794[_0x12c62d(0x346)]?.[_0x12c62d(0x3e8)]),await this[_0x12c62d(0x3f9)][_0x12c62d(0x1ff)][_0x12c62d(0x20a)]([_0x4b2794],this['instance'][_0x12c62d(0x58c)]),this['sendDataWebhook']('messages.upsert',_0x4b2794),F(this[_0x12c62d(0x1dc)],_0x12c62d(0x622),{'message':_0x4b2794}),_0x3ba288[_0x12c62d(0x84e)][_0x12c62d(0x6cd)]!==_0x12c62d(0x599)&&await this['updateChatWithMessage'](_0xace79a,_0x4b2794,'MESSAGES_UPSERT');},'messages.update':async(_0x57ab10,_0x10301e)=>{const _0x1fe696=_0x4dc2f3;let _0x202469={0x0:_0x1fe696(0x7a6),0x1:_0x1fe696(0x4a9),0x2:_0x1fe696(0x522),0x3:'DELIVERY_ACK',0x4:'READ',0x5:_0x1fe696(0x7ef)};for await(let {key:_0x1d7786,update:_0xdc29f3}of _0x57ab10){if(this[_0x1fe696(0x2bb)]?.[_0x1fe696(0x81c)]&&_0x1d7786[_0x1fe696(0x6cd)]['includes'](_0x1fe696(0x793))){this[_0x1fe696(0x58e)][_0x1fe696(0x62f)](this[_0x1fe696(0x1dc)]+'\x20('+this['instance'][_0x1fe696(0x58c)]+_0x1fe696(0x2dd));return;}if(_0x1d7786[_0x1fe696(0x6cd)]!==_0x1fe696(0x599)){let _0x31728b=Date[_0x1fe696(0x7cd)](),_0xc48fb8;_0xdc29f3[_0x1fe696(0x1ff)]===null&&_0xdc29f3[_0x1fe696(0x464)]===void 0x0?_0xc48fb8=_0x1fe696(0x2a1):_0xc48fb8=_0x202469[_0xdc29f3['status']];let _0xc7afbe=_0x1d7786[_0x1fe696(0x6cd)][_0x1fe696(0x614)](/:\d{1,2}@/g,'@'),_0x119531={..._0x1d7786,'remoteJid':_0xc7afbe,'status':_0xc48fb8,'datetime':_0x31728b,'owner':this[_0x1fe696(0x4e6)][_0x1fe696(0x58c)]};this[_0x1fe696(0x2cb)](_0x1fe696(0x3d0),_0x119531),await this[_0x1fe696(0x203)](_0x1d7786,_0x119531);}}},'labels.association':async({type:_0x49c44c,association:_0x2ea4aa})=>{const _0xbc7ece=_0x4dc2f3;if(_0x2ea4aa[_0xbc7ece(0x3a6)]===_0xbc7ece(0x404)){let _0x5ac431,_0x5dfd31=0x0;for(;!_0x5ac431&&_0x5dfd31<this[_0xbc7ece(0x3a4)];)_0x5ac431=await this[_0xbc7ece(0x3f9)]['chat'][_0xbc7ece(0x715)]({'where':{'_id':_0x2ea4aa[_0xbc7ece(0x41a)]}},this[_0xbc7ece(0x4e6)][_0xbc7ece(0x58c)]),_0x5ac431||(_0x5dfd31++,this[_0xbc7ece(0x58e)]['info'](this['instanceName']+'\x20('+this[_0xbc7ece(0x4e6)][_0xbc7ece(0x58c)]+_0xbc7ece(0x66e)+_0x2ea4aa[_0xbc7ece(0x41a)]+_0xbc7ece(0x8ab)+this[_0xbc7ece(0x5f0)]+_0xbc7ece(0x7f1)+_0x5dfd31+'/'+this[_0xbc7ece(0x3a4)]+')'),await this[_0xbc7ece(0x3fe)](this['delayChatLabel_RETRY_DELAY_MS']));if(!_0x5ac431){console[_0xbc7ece(0x3a8)](_0xbc7ece(0x556)+_0x2ea4aa[_0xbc7ece(0x41a)]+_0xbc7ece(0x43c)+this[_0xbc7ece(0x3a4)]+'\x20tentativas.');return;}switch(_0x49c44c){case _0xbc7ece(0x7b7):console[_0xbc7ece(0x773)](_0x2ea4aa),await this[_0xbc7ece(0x3f9)][_0xbc7ece(0x5bb)][_0xbc7ece(0x819)]({'where':{'_id':_0x2ea4aa[_0xbc7ece(0x41a)]}},{'leadInfo.etiquetas':_0x2ea4aa['labelId']},this[_0xbc7ece(0x4e6)][_0xbc7ece(0x58c)],void 0x0,'$addToSet');break;case'remove':console[_0xbc7ece(0x773)](_0x2ea4aa),await this[_0xbc7ece(0x3f9)][_0xbc7ece(0x5bb)][_0xbc7ece(0x819)]({'where':{'_id':_0x2ea4aa[_0xbc7ece(0x41a)]}},{'leadInfo.etiquetas':_0x2ea4aa[_0xbc7ece(0x500)]},this['instance'][_0xbc7ece(0x58c)],void 0x0,'$pull');break;default:console[_0xbc7ece(0x3a8)](_0xbc7ece(0x5ca)+_0x49c44c+']');}}},'labels.edit':async _0x10f187=>{const _0x2f4a2d=_0x4dc2f3;if(!_0x10f187||!_0x10f187['id']){console[_0x2f4a2d(0x3a8)](_0x2f4a2d(0x5eb));return;}if(!_0x10f187['deleted']){let _0x3454d2=['#ff9484',_0x2f4a2d(0x72a),_0x2f4a2d(0x327),_0x2f4a2d(0x2fe),'#9ab6c1',_0x2f4a2d(0x580),_0x2f4a2d(0x256),_0x2f4a2d(0x832),_0x2f4a2d(0x834),_0x2f4a2d(0x405),_0x2f4a2d(0x333),_0x2f4a2d(0x4a4),'#92ceac',_0x2f4a2d(0x8a8),_0x2f4a2d(0x200),_0x2f4a2d(0x77d),_0x2f4a2d(0x560),_0x2f4a2d(0x606),'#9ba6ff',_0x2f4a2d(0x5ba)],_0x188a3a;typeof _0x10f187[_0x2f4a2d(0x518)]==_0x2f4a2d(0x305)&&_0x10f187[_0x2f4a2d(0x518)]>=0x0&&_0x10f187[_0x2f4a2d(0x518)]<_0x3454d2[_0x2f4a2d(0x779)]?_0x188a3a=_0x3454d2[_0x10f187[_0x2f4a2d(0x518)]]:(console[_0x2f4a2d(0x3a8)](_0x2f4a2d(0x58f),_0x10f187[_0x2f4a2d(0x518)]),_0x188a3a=_0x2f4a2d(0x2c4));let _0x3b50a7={'_id':_0x10f187['id'],'colorHex':_0x188a3a,'color':_0x10f187?.['color'],'name':_0x10f187?.[_0x2f4a2d(0x2f7)],'owner':this[_0x2f4a2d(0x4e6)][_0x2f4a2d(0x58c)]};await this[_0x2f4a2d(0x3f9)][_0x2f4a2d(0x402)]['updateOne']({'where':{'_id':_0x10f187['id']}},_0x3b50a7,this[_0x2f4a2d(0x4e6)][_0x2f4a2d(0x58c)]),this[_0x2f4a2d(0x58e)][_0x2f4a2d(0x573)](this[_0x2f4a2d(0x1dc)]+'\x20('+this[_0x2f4a2d(0x4e6)][_0x2f4a2d(0x58c)]+_0x2f4a2d(0x6c4)+_0x10f187);}_0x10f187['deleted']&&(await this[_0x2f4a2d(0x3f9)][_0x2f4a2d(0x402)][_0x2f4a2d(0x72f)]({'where':{'_id':_0x10f187['id']}},this['instance'][_0x2f4a2d(0x58c)]),this[_0x2f4a2d(0x58e)][_0x2f4a2d(0x573)]('Rótulo\x20deletado:\x27,\x20'+_0x10f187['id']));}},this[_0x4dc2f3(0x89f)]={'groups.upsert':async _0x484207=>{const _0x4beefc=_0x4dc2f3;this[_0x4beefc(0x2bb)]?.[_0x4beefc(0x81c)]||this[_0x4beefc(0x2cb)]('groups.upsert',_0x484207);for(let _0x1255bc of _0x484207)await this[_0x4beefc(0x6c5)](_0x1255bc);},'groups.update':async _0x5d663a=>{const _0x494a9f=_0x4dc2f3;this['localWebhook']?.['groups_ignore']||this[_0x494a9f(0x2cb)]('groups.update',_0x5d663a);for(let _0x18889f of _0x5d663a)await this[_0x494a9f(0x6c5)](_0x18889f);},'group-participants.update':async _0x2513f1=>{const _0x538303=_0x4dc2f3;this[_0x538303(0x2bb)]?.['groups_ignore']||this['sendDataWebhook']('group-participants.update',_0x2513f1),await this[_0x538303(0x52e)](_0x2513f1);}},this[_0x4dc2f3(0x3a4)]=0x5,this[_0x4dc2f3(0x5f0)]=0x1388,this[_0x4dc2f3(0x5f6)]=async _0x1d28dc=>{const _0x41648c=_0x4dc2f3;if(_0x1d28dc[_0x41648c(0x1ff)]?.[_0x41648c(0x45f)]){let _0x37a1b8=await this[_0x41648c(0x52c)](_0x1d28dc['message']['pollUpdateMessage']['pollCreationMessageKey'],!0x0);if(_0x37a1b8){let _0x21811b=_0x37a1b8[_0x41648c(0x84e)][_0x41648c(0x7db)]?this[_0x41648c(0x4e6)][_0x41648c(0x58c)]+_0x41648c(0x49f):_0x37a1b8[_0x41648c(0x84e)][_0x41648c(0x705)]||_0x37a1b8[_0x41648c(0x84e)][_0x41648c(0x6cd)],_0x2dba00=_0x37a1b8[_0x41648c(0x84e)]['id'],_0x37e480=_0x37a1b8[_0x41648c(0x1ff)],_0x29db0d=Buffer['from'](_0x37e480['messageContextInfo'][_0x41648c(0x680)]['toString'](_0x41648c(0x550)),_0x41648c(0x550)),_0x1c61d4=(0x0,f['decryptPollVote'])(_0x1d28dc[_0x41648c(0x1ff)]['pollUpdateMessage']['vote'],{'pollCreatorJid':_0x21811b,'pollMsgId':_0x2dba00,'pollEncKey':_0x29db0d,'voterJid':_0x1d28dc[_0x41648c(0x84e)][_0x41648c(0x7db)]?this[_0x41648c(0x4e6)][_0x41648c(0x58c)]+_0x41648c(0x49f):_0x1d28dc[_0x41648c(0x84e)]['remoteJid'][_0x41648c(0x2f5)](_0x41648c(0x5db))?_0x1d28dc[_0x41648c(0x84e)][_0x41648c(0x705)]:_0x1d28dc[_0x41648c(0x84e)][_0x41648c(0x6cd)]}),_0x39e4bc=[],_0x4c5db6=_0x1c61d4[_0x41648c(0x8a5)][_0x41648c(0x1ec)](_0x4ce5b2=>Buffer[_0x41648c(0x861)](_0x4ce5b2)[_0x41648c(0x455)](_0x41648c(0x550)));for(let {optionName:_0x59247d}of _0x37e480[_0x41648c(0x8db)]?.[_0x41648c(0x7d8)]||_0x37e480[_0x41648c(0x877)]?.['options']||_0x37e480[_0x41648c(0x635)]?.[_0x41648c(0x7d8)])_0x4c5db6['indexOf']((0x0,f[_0x41648c(0x56f)])(Buffer[_0x41648c(0x861)](_0x59247d))['toString']('hex'))>-0x1&&_0x39e4bc[_0x41648c(0x566)](_0x59247d);return _0x39e4bc;}}return null;},this['normalizeMessage']=(_0x2299cf,_0x410fc6,_0x1c8926)=>{const _0x24f7e1=_0x4dc2f3;try{let _0x12f5e0=_0x2299cf?(0x0,f[_0x24f7e1(0x7cb)])(_0x2299cf)[_0x410fc6]:void 0x0,_0x349201={},_0x46d64a=null,_0x4a48b0=null,_0x2e4a58=null;_0x410fc6===_0x24f7e1(0x338)&&_0x12f5e0?.[_0x24f7e1(0x39d)]&&(_0x410fc6=(0x0,f[_0x24f7e1(0x30c)])(_0x12f5e0[_0x24f7e1(0x39d)]),_0x46d64a=_0x2299cf['protocolMessage'][_0x24f7e1(0x84e)]['id'],_0x12f5e0=_0x2299cf[_0x24f7e1(0x338)][_0x24f7e1(0x39d)][_0x410fc6]),_0x2299cf[_0x410fc6]?.[_0x24f7e1(0x5d3)]?.[_0x24f7e1(0x538)]&&_0x2299cf[_0x410fc6]?.['contextInfo']?.[_0x24f7e1(0x6ee)]&&(_0x4a48b0=_0x2299cf[_0x410fc6]['contextInfo'][_0x24f7e1(0x538)]),_0x2299cf[_0x24f7e1(0x4c0)]&&(_0x2e4a58=_0x2299cf[_0x24f7e1(0x4c0)][_0x24f7e1(0x84e)]['id']);let _0x29d0c0;if(_0x12f5e0&&typeof _0x12f5e0==_0x24f7e1(0x559)&&_0x24f7e1(0x3d5)in _0x12f5e0&&({pollCreationMessageKey:_0x29d0c0}=_0x12f5e0),_0x410fc6===_0x24f7e1(0x8db)||_0x410fc6===_0x24f7e1(0x635)||_0x410fc6===_0x24f7e1(0x877)){let _0x19c8ea=_0x12f5e0['options'][_0x24f7e1(0x1ec)](_0x4060c3=>_0x4060c3[_0x24f7e1(0x6ca)])['join']('|');_0x349201[_0x24f7e1(0x66a)]=_0x19c8ea;}let _0x19dda1='';if(_0x12f5e0&&(_0x19dda1+=_0x12f5e0['name']?_0x12f5e0[_0x24f7e1(0x2f7)]:'',_0x19dda1+=_0x12f5e0[_0x24f7e1(0x47e)]?'\x20'+_0x12f5e0[_0x24f7e1(0x47e)]:'',_0x19dda1+=_0x12f5e0['conversation']?'\x20'+_0x12f5e0[_0x24f7e1(0x852)]:'',_0x19dda1+=_0x12f5e0['displayName']?'\x20'+_0x12f5e0[_0x24f7e1(0x2a3)]:''),_0x410fc6==='listMessage'){_0x19dda1=(_0x12f5e0[_0x24f7e1(0x7a0)]||'')+'\x0a'+(_0x12f5e0[_0x24f7e1(0x439)]||'')+'\x0a'+(_0x12f5e0['footerText']||'');let _0x511075=this['sectionsToString'](_0x12f5e0[_0x24f7e1(0x59f)]);_0x349201[_0x24f7e1(0x66a)]=_0x511075;}if(_0x410fc6===_0x24f7e1(0x4b9)&&(_0x1c8926=_0x12f5e0[_0x24f7e1(0x7a0)]),_0x12f5e0&&_0x12f5e0[_0x24f7e1(0x89d)]){let _0x56e4e7=this[_0x24f7e1(0x5be)](JSON[_0x24f7e1(0x511)](_0x12f5e0[_0x24f7e1(0x89d)],null,0x2));_0x19dda1=_0x19dda1+'\x0a'+_0x56e4e7;}if(_0x12f5e0){let {sections:_0x4b7637,listType:_0x1e8c31,displayName:_0x33e0be,vcard:_0x4c9b55,contactVcard:_0x3086e5,name:_0x471ac6,caption:_0x2c305b,conversation:_0x2e5aa0,pollCreationMessageKey:_0x462877,footerText:_0xc2128d,contentText:_0x10729c,pageCount:_0x1a3a8e,headerType:_0x4ac038,isAvatar:_0x44f70c,isAnimated:_0x108492,fallbackLc:_0x508aea,fallbackLg:_0x4e89d0,namespace:_0x3cc809,elementName:_0x2f8c7f,localizableParams:_0x48be56,viewOnce:_0x155e46,height:_0x1afd96,width:_0x2d1d7b,key:_0x133eac,firstScanLength:_0x4ea9e7,firstScanSidecar:_0x480d0c,gifPlayback:_0x35cc65,gifAttribution:_0x16e1db,midQualityFileSha256:_0x263a34,scansSidecar:_0x43f108,streamingSidecar:_0x1dd058,thumbnailHeight:_0x2135ea,thumbnailWidth:_0x1c60a3,thumbnailEncSha256:_0x22d5fb,thumbnailDirectPath:_0x2dbce6,canonicalUrl:_0x742a9c,matchedText:_0x53ee85,previewType:_0x46342b,thumbnailSha256:_0x525468,deviceListMetadataVersion:_0x5397fc,inviteLinkGroupTypeV2:_0x5bdabe,interactiveAnnotations:_0x2daa88,scanLengths:_0x500ba1,jpegThumbnail:_0xa0735b,url:_0x41299a,mediaKeyTimestamp:_0x4217bb,waveform:_0x4eb4a2,stickerSentTs:_0x4705cb,firstFrameLength:_0x1a6fd1,fileEncSha256:_0x3e10a8,contextInfo:_0x35d9d4,firstFrameSidecar:_0x158d1c,directPath:_0x42a607,fileSha256:_0x375888,mediaKey:_0x5f40c5,senderTimestampMs:_0x4d2870,..._0x10019e}=_0x12f5e0;(_0x410fc6===_0x24f7e1(0x1ea)||_0x410fc6==='listResponseMessage')&&(delete _0x10019e['title'],delete _0x10019e[_0x24f7e1(0x439)]),typeof _0x12f5e0==_0x24f7e1(0x5f1)?_0x349201={'text':_0x12f5e0,'type':_0x410fc6||_0x24f7e1(0x852),..._0x46d64a&&{'edited':_0x46d64a},..._0x4a48b0&&{'quoted':_0x4a48b0},..._0x2e4a58&&{'reaction':_0x2e4a58}}:_0x349201={'text':_0x19dda1,..._0x10019e,..._0x410fc6==='pollUpdateMessage'?{'poll_id':_0x12f5e0[_0x24f7e1(0x3d5)]['id'],'quoted':_0x12f5e0['pollCreationMessageKey']['id'],'vote':_0x1c8926}:{},..._0x410fc6===_0x24f7e1(0x4b9)?{'vote':_0x1c8926}:{},'type':_0x410fc6,..._0x46d64a&&{'edited':_0x46d64a},..._0x4a48b0&&{'quoted':_0x4a48b0},..._0x2e4a58&&{'reaction':_0x2e4a58},...(_0x410fc6===_0x24f7e1(0x8db)||_0x410fc6===_0x24f7e1(0x635)||_0x410fc6===_0x24f7e1(0x877)||_0x410fc6===_0x24f7e1(0x1ea))&&{'convertedOptions':_0x349201[_0x24f7e1(0x66a)]}};}return{'messageType':_0x410fc6,'messageContent':_0x12f5e0,'message_normalized':_0x349201};}catch(_0x387115){return console['error']('Erro\x20ao\x20normalizar\x20a\x20mensagem:',_0x387115),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this['cleanStore'](),this[_0x4dc2f3(0x4e6)][_0x4dc2f3(0x63b)]={'count':0x0},this[_0x4dc2f3(0x4e6)][_0x4dc2f3(0x750)]={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0x7625da(0x1dc)](_0x5a8fdc){const _0x2a6bc2=a0_0x7625da;if(!_0x5a8fdc){this[_0x2a6bc2(0x4e6)][_0x2a6bc2(0x2f7)]=(0x0,So['v4'])();return;}this[_0x2a6bc2(0x4e6)][_0x2a6bc2(0x2f7)]=_0x5a8fdc,this[_0x2a6bc2(0x2cb)](_0x2a6bc2(0x848),{'instance':this['instance'][_0x2a6bc2(0x2f7)],'status':_0x2a6bc2(0x46e)});}get[a0_0x7625da(0x1dc)](){const _0x103d93=a0_0x7625da;return this[_0x103d93(0x4e6)][_0x103d93(0x2f7)];}get['wuid'](){const _0x368662=a0_0x7625da;return this[_0x368662(0x4e6)][_0x368662(0x58c)];}async[a0_0x7625da(0x1f1)](){const _0x4d7768=a0_0x7625da;let _0x5046f7=this[_0x4d7768(0x4d8)][_0x4d7768(0x663)]?.[_0x4d7768(0x2f7)]??this['client']['user']?.['verifiedName'];if(!_0x5046f7){if(this[_0x4d7768(0x724)][_0x4d7768(0x7c4)](_0x4d7768(0x3c8))['ENABLED']){let _0x56ca84=await $[_0x4d7768(0x259)]()['db'](this[_0x4d7768(0x724)]['get'](_0x4d7768(0x3c8))[_0x4d7768(0x1e1)]['DB_PREFIX_NAME']+_0x4d7768(0x3f4))[_0x4d7768(0x855)](this[_0x4d7768(0x1dc)])[_0x4d7768(0x715)]({'_id':_0x4d7768(0x4da)});if(_0x56ca84){let _0x2af7cf=JSON['parse'](JSON[_0x4d7768(0x511)](_0x56ca84),f[_0x4d7768(0x5ab)]['reviver']);_0x5046f7=_0x2af7cf['me']?.[_0x4d7768(0x2f7)]||_0x2af7cf['me']?.['verifiedName'];}}else{if((0x0,De['existsSync'])((0x0,L[_0x4d7768(0x867)])(me,this[_0x4d7768(0x1dc)],_0x4d7768(0x216)))){let _0x43809b=JSON['parse']((0x0,De[_0x4d7768(0x5a3)])((0x0,L[_0x4d7768(0x867)])(me,this[_0x4d7768(0x1dc)],_0x4d7768(0x216)),{'encoding':_0x4d7768(0x4db)}));_0x5046f7=_0x43809b['me']?.[_0x4d7768(0x2f7)]||_0x43809b['me']?.['verifiedName'];}}}return _0x5046f7;}get[a0_0x7625da(0x5cf)](){const _0x2c8d82=a0_0x7625da;return this['instance'][_0x2c8d82(0x5cf)];}get[a0_0x7625da(0x849)](){const _0x3aad03=a0_0x7625da;return this['instance'][_0x3aad03(0x63b)]?.['pairingCode']?{'pairingCode':this[_0x3aad03(0x4e6)][_0x3aad03(0x63b)]?.[_0x3aad03(0x5c8)]}:{'code':this[_0x3aad03(0x4e6)][_0x3aad03(0x63b)]?.['code'],'base64':this[_0x3aad03(0x4e6)][_0x3aad03(0x63b)]?.[_0x3aad03(0x3db)]};}async['loadWebhook'](){const _0x43c63a=a0_0x7625da;let _0x12ded8=await this[_0x43c63a(0x3f9)][_0x43c63a(0x484)][_0x43c63a(0x48d)](this['instanceName']);this[_0x43c63a(0x2bb)][_0x43c63a(0x624)]=_0x12ded8?.[_0x43c63a(0x624)],this[_0x43c63a(0x2bb)][_0x43c63a(0x5e0)]=_0x12ded8?.[_0x43c63a(0x5e0)],this[_0x43c63a(0x2bb)][_0x43c63a(0x32b)]=_0x12ded8?.['local_map'],this[_0x43c63a(0x2bb)][_0x43c63a(0x77f)]=_0x12ded8?.[_0x43c63a(0x77f)],this[_0x43c63a(0x2bb)]['QRCODE_UPDATED']=_0x12ded8?.[_0x43c63a(0x664)],this[_0x43c63a(0x2bb)]['SEND_MESSAGE']=_0x12ded8?.['SEND_MESSAGE'],this[_0x43c63a(0x2bb)]['MESSAGES_UPSERT']=_0x12ded8?.[_0x43c63a(0x267)],this[_0x43c63a(0x2bb)][_0x43c63a(0x57e)]=_0x12ded8?.[_0x43c63a(0x57e)],this[_0x43c63a(0x2bb)][_0x43c63a(0x588)]=_0x12ded8?.[_0x43c63a(0x588)],this['localWebhook'][_0x43c63a(0x26a)]=_0x12ded8?.['GROUPS_UPDATE'],this[_0x43c63a(0x2bb)][_0x43c63a(0x2a2)]=_0x12ded8?.['GROUP_PARTICIPANTS_UPDATE'],this[_0x43c63a(0x2bb)][_0x43c63a(0x73d)]=_0x12ded8?.[_0x43c63a(0x73d)],this['localWebhook'][_0x43c63a(0x736)]=_0x12ded8?.[_0x43c63a(0x736)],this[_0x43c63a(0x2bb)][_0x43c63a(0x36c)]=_0x12ded8?.[_0x43c63a(0x36c)],this[_0x43c63a(0x2bb)][_0x43c63a(0x40d)]=_0x12ded8?.[_0x43c63a(0x40d)],this[_0x43c63a(0x2bb)][_0x43c63a(0x8dd)]=_0x12ded8?.[_0x43c63a(0x8dd)],this[_0x43c63a(0x2bb)][_0x43c63a(0x857)]=_0x12ded8?.[_0x43c63a(0x857)],this[_0x43c63a(0x2bb)]['CONTACTS_UPDATE']=_0x12ded8?.[_0x43c63a(0x83d)],this[_0x43c63a(0x2bb)][_0x43c63a(0x5e6)]=_0x12ded8?.[_0x43c63a(0x5e6)],this[_0x43c63a(0x2bb)][_0x43c63a(0x250)]=_0x12ded8?.['MESSAGES_SET'],this[_0x43c63a(0x2bb)][_0x43c63a(0x673)]=_0x12ded8?.[_0x43c63a(0x673)],this[_0x43c63a(0x2bb)]['groups_ignore']=_0x12ded8?.[_0x43c63a(0x81c)];}async[a0_0x7625da(0x5ae)](_0x4db8f4){const _0x4b2f5f=a0_0x7625da;let _0x88f695=[_0x4b2f5f(0x7ce),_0x4b2f5f(0x624),_0x4b2f5f(0x5e0),_0x4b2f5f(0x32b),_0x4b2f5f(0x77f),_0x4b2f5f(0x664),_0x4b2f5f(0x57e),_0x4b2f5f(0x267),'SEND_MESSAGE','GROUPS_UPSERT',_0x4b2f5f(0x26a),_0x4b2f5f(0x2a2),_0x4b2f5f(0x73d),_0x4b2f5f(0x736),_0x4b2f5f(0x36c),_0x4b2f5f(0x40d),'CONTACTS_SET',_0x4b2f5f(0x857),'CONTACTS_UPDATE',_0x4b2f5f(0x5e6),_0x4b2f5f(0x250),'CONNECTION_UPDATE',_0x4b2f5f(0x81c)],_0x1717ad={};return _0x88f695[_0x4b2f5f(0x886)](_0x2936c1=>{_0x4db8f4[_0x2936c1]!==void 0x0&&(_0x1717ad[_0x2936c1]=_0x4db8f4[_0x2936c1]);}),_0x1717ad[_0x4b2f5f(0x624)]&&(_0x1717ad[_0x4b2f5f(0x624)]=_0x1717ad[_0x4b2f5f(0x624)][_0x4b2f5f(0x5d8)]()),await this[_0x4b2f5f(0x3f9)][_0x4b2f5f(0x484)][_0x4b2f5f(0x7a3)](_0x1717ad,this['instanceName']),Object[_0x4b2f5f(0x1fd)](this['localWebhook'],_0x1717ad),await this['repository']['webhook'][_0x4b2f5f(0x48d)](this[_0x4b2f5f(0x1dc)]);}async[a0_0x7625da(0x5d2)](){const _0x8b9fdc=a0_0x7625da;return await this[_0x8b9fdc(0x3f9)][_0x8b9fdc(0x484)][_0x8b9fdc(0x48d)](this[_0x8b9fdc(0x1dc)]);}async[a0_0x7625da(0x2cb)](_0x2aba66,_0x3ee5e1){const _0x5d5bdd=a0_0x7625da;let _0x5de6b0=_0x2aba66[_0x5d5bdd(0x614)](/[\.-]/gm,'_')[_0x5d5bdd(0x3f0)](),_0x511f8d=this[_0x5d5bdd(0x2bb)][_0x5d5bdd(0x5e0)]&&(0x0,P[_0x5d5bdd(0x537)])(this['localWebhook'][_0x5d5bdd(0x624)])?this[_0x5d5bdd(0x2bb)][_0x5d5bdd(0x624)]+(this[_0x5d5bdd(0x2bb)][_0x5d5bdd(0x32b)]?this['webhookMap'][_0x2aba66]:''):null,_0x5d2242=this[_0x5d5bdd(0x2bb)][_0x5de6b0],_0x14469c=le&&le[_0x5d5bdd(0x5e0)]&&(0x0,P[_0x5d5bdd(0x537)])(le[_0x5d5bdd(0x624)])?le[_0x5d5bdd(0x624)]+(le[_0x5d5bdd(0x32b)]?this[_0x5d5bdd(0x39c)][_0x2aba66]:''):null,_0x96eaba=le?le[_0x5de6b0]:null;if(_0x5d2242&&_0x511f8d)try{await Q[_0x5d5bdd(0x716)][_0x5d5bdd(0x7a3)]({'baseURL':_0x511f8d})[_0x5d5bdd(0x3da)]('',{'event':_0x2aba66,'instance':this[_0x5d5bdd(0x4e6)][_0x5d5bdd(0x2f7)],'apikey':this['instance']['apikey'],'data':_0x3ee5e1}),this[_0x5d5bdd(0x58e)][_0x5d5bdd(0x773)](this[_0x5d5bdd(0x1dc)]+'\x20('+this[_0x5d5bdd(0x4e6)][_0x5d5bdd(0x58c)]+_0x5d5bdd(0x3dc)+_0x2aba66+':\x20'+_0x511f8d);}catch{this[_0x5d5bdd(0x58e)][_0x5d5bdd(0x3a8)](this['instanceName']+'\x20('+this[_0x5d5bdd(0x4e6)][_0x5d5bdd(0x58c)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x2aba66+':\x20'+_0x511f8d);}if(_0x96eaba&&_0x14469c)try{await Q[_0x5d5bdd(0x716)][_0x5d5bdd(0x7a3)]({'baseURL':_0x14469c})['post']('',{'event':_0x2aba66,'instance':this[_0x5d5bdd(0x4e6)][_0x5d5bdd(0x2f7)],'apikey':this['instance']['apikey'],'data':_0x3ee5e1}),this[_0x5d5bdd(0x58e)][_0x5d5bdd(0x773)](this[_0x5d5bdd(0x1dc)]+'\x20('+this[_0x5d5bdd(0x4e6)]['wuid']+_0x5d5bdd(0x451)+_0x2aba66+':\x20'+_0x14469c);}catch{this[_0x5d5bdd(0x58e)][_0x5d5bdd(0x3a8)](this['instanceName']+'\x20('+this[_0x5d5bdd(0x4e6)][_0x5d5bdd(0x58c)]+_0x5d5bdd(0x263)+_0x2aba66+':\x20'+_0x14469c);}}async['connectionUpdate']({qr:_0x3b9e4e,connection:_0x1219bc,lastDisconnect:_0x35db2f}){const _0x456a2f=a0_0x7625da;if(_0x3b9e4e){if(this[_0x456a2f(0x4e6)][_0x456a2f(0x63b)][_0x456a2f(0x78d)]===Er)return this['sendDataWebhook'](_0x456a2f(0x5f3),{'message':_0x456a2f(0x8bb),'statusCode':f['DisconnectReason'][_0x456a2f(0x6f8)]}),this['stateConnection']={'state':_0x456a2f(0x244),'statusReason':f[_0x456a2f(0x619)][_0x456a2f(0x6bf)]},this[_0x456a2f(0x2cb)]('connection.update',{'instance':this[_0x456a2f(0x4e6)][_0x456a2f(0x2f7)],...this['stateConnection']}),this[_0x456a2f(0x2cb)](_0x456a2f(0x848),{'instance':this['instance']['name'],'status':_0x456a2f(0x5e2)}),this['repository'][_0x456a2f(0x436)][_0x456a2f(0x7a3)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x456a2f(0x7cd)]()},this[_0x456a2f(0x4e6)][_0x456a2f(0x2f7)]),this[_0x456a2f(0x87e)]=!0x0,this['eventEmitter'][_0x456a2f(0x831)](_0x456a2f(0x741),this[_0x456a2f(0x4e6)][_0x456a2f(0x2f7)]);this[_0x456a2f(0x4e6)][_0x456a2f(0x63b)]['count']++;let _0x17b2e2={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x456a2f(0x885),'dark':_0x456a2f(0x2c4)}};Mo[_0x456a2f(0x716)]['toDataURL'](_0x3b9e4e,_0x17b2e2,(_0x38f722,_0x4585d7)=>{const _0xfff53f=_0x456a2f;if(_0x38f722){this[_0xfff53f(0x58e)]['error'](this[_0xfff53f(0x1dc)]+'\x20('+this[_0xfff53f(0x4e6)][_0xfff53f(0x58c)]+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x38f722 instanceof Error?_0x38f722[_0xfff53f(0x1ff)]:JSON['stringify'](_0x38f722,null,0x2)));return;}this['instance'][_0xfff53f(0x63b)][_0xfff53f(0x3db)]=_0x4585d7,this[_0xfff53f(0x4e6)]['qrcode'][_0xfff53f(0x3ae)]=_0x3b9e4e,!this[_0xfff53f(0x613)]&&this[_0xfff53f(0x2cb)]('qrcode.updated',{'qrcode':{'instance':this['instance'][_0xfff53f(0x2f7)],'pairingCode':this[_0xfff53f(0x4e6)][_0xfff53f(0x63b)]['pairingCode'],'code':_0x3b9e4e,'base64':_0x4585d7}});}),this[_0x456a2f(0x613)]?this[_0x456a2f(0x4e6)]['qrcode'][_0x456a2f(0x5c8)]||(await(0x0,f[_0x456a2f(0x2f3)])(0x7d0),this[_0x456a2f(0x4e6)][_0x456a2f(0x63b)][_0x456a2f(0x5c8)]=await this[_0x456a2f(0x4d8)][_0x456a2f(0x718)](this[_0x456a2f(0x613)])):this[_0x456a2f(0x4e6)][_0x456a2f(0x63b)]['pairingCode']=null,Co[_0x456a2f(0x716)]['generate'](_0x3b9e4e,{'small':!0x0},_0x4fbaf9=>this[_0x456a2f(0x58e)]['log']('\x0a{\x20instance:\x20'+this[_0x456a2f(0x4e6)]['name']+_0x456a2f(0x270)+this[_0x456a2f(0x4e6)][_0x456a2f(0x63b)][_0x456a2f(0x78d)]+',\x20pairCode:\x20'+this[_0x456a2f(0x4e6)]['qrcode'][_0x456a2f(0x5c8)]+_0x456a2f(0x28b)+_0x4fbaf9));}if(_0x1219bc&&(this[_0x456a2f(0x541)]={'state':_0x1219bc,'statusReason':_0x35db2f?.[_0x456a2f(0x3a8)]?.[_0x456a2f(0x5f2)]?.['statusCode']??0xc8},this[_0x456a2f(0x2cb)](_0x456a2f(0x363),{'instance':this[_0x456a2f(0x4e6)][_0x456a2f(0x2f7)],...this[_0x456a2f(0x541)]})),_0x1219bc==='close'){if(this[_0x456a2f(0x24a)]++,this[_0x456a2f(0x8a4)][_0x456a2f(0x566)](Date[_0x456a2f(0x7cd)]()),this[_0x456a2f(0x8a4)]=this[_0x456a2f(0x8a4)][_0x456a2f(0x3ca)](_0x2c06e8=>Date[_0x456a2f(0x7cd)]()-_0x2c06e8<this['RECONNECT_TIME_FRAME']),_0x35db2f[_0x456a2f(0x3a8)]?.[_0x456a2f(0x5f2)]?.[_0x456a2f(0x642)]!==f[_0x456a2f(0x619)]['loggedOut']&&this['reconnectTimestamps'][_0x456a2f(0x779)]<=this[_0x456a2f(0x367)])console[_0x456a2f(0x773)](this[_0x456a2f(0x1dc)]+_0x456a2f(0x453)+this['reconnectAttempts']+'/'+this[_0x456a2f(0x367)]+_0x456a2f(0x88b)),console[_0x456a2f(0x773)](_0x456a2f(0x8eb)),await this[_0x456a2f(0x6ab)]();else{this[_0x456a2f(0x2cb)](_0x456a2f(0x848),{'instance':this[_0x456a2f(0x4e6)]['name'],'status':_0x456a2f(0x5e2)}),this[_0x456a2f(0x4e6)][_0x456a2f(0x750)][_0x456a2f(0x1ed)]=!0x1,this[_0x456a2f(0x3f9)][_0x456a2f(0x484)]['delete'](this[_0x456a2f(0x1dc)]),this[_0x456a2f(0x3f9)]['auth'][_0x456a2f(0x7a3)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x456a2f(0x7cd)]()},this['instance'][_0x456a2f(0x2f7)]);try{this[_0x456a2f(0x58e)][_0x456a2f(0x62f)](this['instanceName']+'\x20('+this[_0x456a2f(0x4e6)][_0x456a2f(0x58c)]+_0x456a2f(0x3fc));let _0x30fc63=await this[_0x456a2f(0x3f9)]['message'][_0x456a2f(0x7a7)](this[_0x456a2f(0x4e6)][_0x456a2f(0x58c)]);_0x30fc63[_0x456a2f(0x371)]?this[_0x456a2f(0x58e)][_0x456a2f(0x62f)](this[_0x456a2f(0x1dc)]+'\x20('+this[_0x456a2f(0x4e6)][_0x456a2f(0x58c)]+_0x456a2f(0x248)):console['error']('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:',_0x30fc63[_0x456a2f(0x3a8)]);}catch(_0x267e43){console[_0x456a2f(0x3a8)](_0x456a2f(0x841),_0x267e43[_0x456a2f(0x1ff)]);}this['instance'][_0x456a2f(0x750)][_0x456a2f(0x311)]!==null&&(this[_0x456a2f(0x58e)]['verbose'](this[_0x456a2f(0x1dc)]+'\x20('+this[_0x456a2f(0x4e6)][_0x456a2f(0x58c)]+_0x456a2f(0x2e8)),clearInterval(this[_0x456a2f(0x4e6)][_0x456a2f(0x750)][_0x456a2f(0x311)]),this[_0x456a2f(0x4e6)][_0x456a2f(0x750)]['delayMessage']=null),this[_0x456a2f(0x58e)][_0x456a2f(0x62f)](this[_0x456a2f(0x1dc)]+'\x20('+this['instance'][_0x456a2f(0x58c)]+_0x456a2f(0x2c5)),this['AutomateSystem']=null,this['eventEmitter'][_0x456a2f(0x831)]('remove.instance',this[_0x456a2f(0x4e6)][_0x456a2f(0x2f7)],_0x456a2f(0x61c)),this[_0x456a2f(0x4d8)]?.['ws']?.[_0x456a2f(0x83b)](),this[_0x456a2f(0x4d8)][_0x456a2f(0x364)](new Error(_0x456a2f(0x33a)));}}if(_0x1219bc==='open'){this[_0x456a2f(0x4d8)]['ev'][_0x456a2f(0x309)](),this[_0x456a2f(0x415)],this['instance'][_0x456a2f(0x58c)]=this[_0x456a2f(0x4d8)][_0x456a2f(0x663)]['id']['replace'](/:\d+/,'')['replace']('@s.whatsapp.net',''),this[_0x456a2f(0x4e6)][_0x456a2f(0x5cf)]=(await this[_0x456a2f(0x226)](this[_0x456a2f(0x4e6)][_0x456a2f(0x58c)]+_0x456a2f(0x49f)))['profilePictureUrl'],this['repository'][_0x456a2f(0x436)][_0x456a2f(0x7a3)]({'online':!0x0,'owner':this[_0x456a2f(0x4e6)]['wuid'],'lastDisconnect':null},this[_0x456a2f(0x4e6)][_0x456a2f(0x2f7)]);let _0x1d5441=_0x456a2f(0x8ca)+this[_0x456a2f(0x4e6)][_0x456a2f(0x58c)],_0x16d1ef=0x28,_0x11ce01=Math[_0x456a2f(0x4e3)]((_0x16d1ef-_0x1d5441[_0x456a2f(0x779)])/0x2),_0x2d7149='\x20'[_0x456a2f(0x790)](_0x11ce01),_0x464ac9=_0x456a2f(0x23b),_0x346e9a=_0x456a2f(0x66f)+this[_0x456a2f(0x4e6)][_0x456a2f(0x2f7)],_0x3c75c7=(''+_0x2d7149+_0x1d5441+_0x2d7149)['padEnd'](_0x16d1ef,'\x20'),_0x2d31b1=(''+_0x2d7149+_0x464ac9+_0x2d7149)[_0x456a2f(0x4c7)](_0x16d1ef,'\x20'),_0x161bd6=(''+_0x2d7149+_0x346e9a+_0x2d7149)[_0x456a2f(0x4c7)](_0x16d1ef,'\x20'),_0x2b41ae=Math[_0x456a2f(0x633)](_0x3c75c7['length'],_0x2d31b1[_0x456a2f(0x779)],_0x161bd6[_0x456a2f(0x779)]),_0x7232e6=_0x3c75c7[_0x456a2f(0x4c7)](_0x2b41ae,'\x20'),_0x4469ca=_0x2d31b1['padEnd'](_0x2b41ae,'\x20'),_0x243918=_0x161bd6[_0x456a2f(0x4c7)](_0x2b41ae,'\x20');this[_0x456a2f(0x58e)][_0x456a2f(0x573)](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌'+'─'[_0x456a2f(0x790)](_0x2b41ae)+_0x456a2f(0x803)+_0x4469ca+_0x456a2f(0x1e7)+_0x243918+_0x456a2f(0x1e7)+_0x7232e6+_0x456a2f(0x763)+'─'['repeat'](_0x2b41ae)+'┘')[_0x456a2f(0x614)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0x456a2f(0x4e6)][_0x456a2f(0x750)]['isConnected']=!0x0;}}['resetReconnectionVariables'](){const _0x1f20fb=a0_0x7625da;this[_0x1f20fb(0x24a)]=0x0,this[_0x1f20fb(0x8a4)]=[];}async[a0_0x7625da(0x52c)](_0x244f04,_0x1560fa=!0x1){const _0x1d6c0e=a0_0x7625da;try{let _0x20dbd6=await this[_0x1d6c0e(0x3f9)][_0x1d6c0e(0x1ff)]['find']({'where':{'_id':_0x244f04['id']}},this[_0x1d6c0e(0x4e6)][_0x1d6c0e(0x58c)]);return _0x1560fa?_0x20dbd6[0x0]:_0x20dbd6[0x0][_0x1d6c0e(0x1ff)];}catch{return{'conversation':''};}}[a0_0x7625da(0x2db)](){const _0x1b6183=a0_0x7625da;let _0x4f43b7=this[_0x1b6183(0x724)][_0x1b6183(0x7c4)](_0x1b6183(0x641)),_0x8776b0=this[_0x1b6183(0x724)][_0x1b6183(0x7c4)](_0x1b6183(0x3c8));_0x4f43b7?.['CLEANING_INTERVAL']&&!_0x8776b0[_0x1b6183(0x7de)]&&setInterval(()=>{const _0x5457ad=_0x1b6183;try{for(let [_0x1a8cb4,_0x91ce69]of Object[_0x5457ad(0x499)](_0x4f43b7))_0x91ce69===!0x0&&(0x0,_e['execSync'])(_0x5457ad(0x63c)+(0x0,L[_0x5457ad(0x867)])(this[_0x5457ad(0x521)],_0x1a8cb4[_0x5457ad(0x6e5)](),this[_0x5457ad(0x4e6)][_0x5457ad(0x58c)])+_0x5457ad(0x428));}catch{}},(_0x4f43b7?.[_0x1b6183(0x32c)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x3679ef=a0_0x7625da;let _0x207652=this[_0x3679ef(0x724)]['get']('DATABASE'),_0x1d27d5=this[_0x3679ef(0x724)][_0x3679ef(0x7c4)](_0x3679ef(0x62c));return _0x1d27d5?.[_0x3679ef(0x7de)]?await Ns(_0x1d27d5,this[_0x3679ef(0x4e6)][_0x3679ef(0x2f7)]):_0x207652[_0x3679ef(0x7de)]?await vs(this[_0x3679ef(0x4e6)]['name']):await(0x0,f['useMultiFileAuthState'])((0x0,L[_0x3679ef(0x867)])(me,this[_0x3679ef(0x4e6)][_0x3679ef(0x2f7)]));}async[a0_0x7625da(0x6a9)](){const _0x386f69=a0_0x7625da;let _0x423958=()=>Math[_0x386f69(0x4e3)](Math[_0x386f69(0x304)]()*0x2711)+0x7d0,_0x43dee2=async()=>{const _0x399ba2=_0x386f69;if(!this[_0x399ba2(0x4e6)][_0x399ba2(0x750)][_0x399ba2(0x1ed)]){this[_0x399ba2(0x58e)]['verbose'](_0x399ba2(0x77a)),this[_0x399ba2(0x81a)]=!0x1;return;}if(this[_0x399ba2(0x4e6)][_0x399ba2(0x58c)]&&this['AutomateSystem']&&this[_0x399ba2(0x4e6)][_0x399ba2(0x750)]['delayMessage']!==null&&this['instance'][_0x399ba2(0x750)][_0x399ba2(0x311)]!==void 0x0){let _0x4b82f3=Math[_0x399ba2(0x6a1)](this[_0x399ba2(0x4e6)]['ScheduleMessage']['delayMessage']/0xea60);this['logger']['verbose'](this[_0x399ba2(0x1dc)]+'\x20('+this['instance']['wuid']+_0x399ba2(0x776)+_0x4b82f3+_0x399ba2(0x8b7)),this[_0x399ba2(0x81a)]=!0x1;return;}else this[_0x399ba2(0x4e6)][_0x399ba2(0x58c)]&&(this['logger']['verbose'](this[_0x399ba2(0x1dc)]+'\x20('+this[_0x399ba2(0x4e6)]['wuid']+_0x399ba2(0x55d)),this[_0x399ba2(0x3e1)]||(await this['getAutomateSystem'](),this[_0x399ba2(0x468)]()),(this[_0x399ba2(0x4e6)][_0x399ba2(0x750)][_0x399ba2(0x311)]===null||this[_0x399ba2(0x4e6)][_0x399ba2(0x750)][_0x399ba2(0x311)]===void 0x0)&&await this[_0x399ba2(0x4d9)]());if(this['isRunning']){let _0x23206a=_0x423958();this[_0x399ba2(0x58e)][_0x399ba2(0x62f)](this[_0x399ba2(0x1dc)]+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x23206a/0x3e8+'\x20segundos'),setTimeout(_0x43dee2,_0x23206a);}};if(this[_0x386f69(0x81a)])return;this[_0x386f69(0x81a)]=!0x0;let _0x174070=_0x423958();setTimeout(_0x43dee2,_0x174070);}async[a0_0x7625da(0x830)](_0x1b1d02=0x0,_0x484e2c=!0x1){const _0x1b77bc=a0_0x7625da;try{let _0x1c2fad=this[_0x1b77bc(0x724)][_0x1b77bc(0x7c4)](_0x1b77bc(0x287));if(_0x1c2fad!==0x1||typeof _0x1c2fad>'u'||_0x1b1d02>=0x5)return this[_0x1b77bc(0x58e)]['warn']('Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.'),this[_0x1b77bc(0x3f9)][_0x1b77bc(0x436)][_0x1b77bc(0x7a3)]({'ip':null},this[_0x1b77bc(0x4e6)][_0x1b77bc(0x2f7)]),{};this[_0x1b77bc(0x58e)]['verbose'](this[_0x1b77bc(0x1dc)]+_0x1b77bc(0x617)+(_0x1b1d02+0x1)+'\x20de\x20conectar\x20com\x20IP\x20extra.');let _0x5d5982;if(!_0x484e2c){let _0x1f0179=await this[_0x1b77bc(0x3f9)][_0x1b77bc(0x436)][_0x1b77bc(0x48d)](this[_0x1b77bc(0x1dc)]);_0x1f0179&&_0x1f0179['ip']&&(_0x5d5982=wo(_0x1f0179['ip']));}if((!_0x5d5982||!Rs(_0x5d5982))&&(this[_0x1b77bc(0x58e)][_0x1b77bc(0x6ef)](this[_0x1b77bc(0x1dc)]+_0x1b77bc(0x2f6)),_0x5d5982=yo()),_0x5d5982&&Rs(_0x5d5982)){let _0x1d532b=_0x5d5982[_0x1b77bc(0x4d7)]&&_0x5d5982['password']?_0x5d5982[_0x1b77bc(0x7c2)]+_0x1b77bc(0x502)+_0x5d5982[_0x1b77bc(0x4d7)]+':'+_0x5d5982['password']+'@'+_0x5d5982[_0x1b77bc(0x3c4)]+':'+_0x5d5982[_0x1b77bc(0x33e)]:_0x5d5982[_0x1b77bc(0x7c2)]+_0x1b77bc(0x502)+_0x5d5982[_0x1b77bc(0x3c4)]+':'+_0x5d5982[_0x1b77bc(0x33e)];return await this[_0x1b77bc(0x660)](_0x1d532b,_0x5d5982[_0x1b77bc(0x3c4)])?(this[_0x1b77bc(0x58e)][_0x1b77bc(0x62f)](this[_0x1b77bc(0x1dc)]+_0x1b77bc(0x85c)),this[_0x1b77bc(0x3f9)][_0x1b77bc(0x436)][_0x1b77bc(0x7a3)]({'ip':_0x5d5982[_0x1b77bc(0x3c4)]},this[_0x1b77bc(0x4e6)]['name']),{'agent':new Ft[(_0x1b77bc(0x37e))](_0x1d532b),'fetchAgent':new Ft['HttpsProxyAgent'](_0x1d532b)}):(this['logger']['warn'](this[_0x1b77bc(0x1dc)]+_0x1b77bc(0x234)),await(0x0,f['delay'])(0xc8),this[_0x1b77bc(0x830)](_0x1b1d02+0x1,!0x0));}else return this['logger']['warn'](this[_0x1b77bc(0x1dc)]+_0x1b77bc(0x316)),await(0x0,f[_0x1b77bc(0x2f3)])(0xc8),this[_0x1b77bc(0x830)](_0x1b1d02+0x1,!0x0);}catch(_0x2662c5){return this[_0x1b77bc(0x58e)]['error'](this[_0x1b77bc(0x1dc)]+_0x1b77bc(0x7ff)+_0x2662c5['message']),{};}}async[a0_0x7625da(0x660)](_0x417e44,_0xb9e6d2){const _0x1a7f34=a0_0x7625da;let _0x2b641e=new Ft[(_0x1a7f34(0x37e))](_0x417e44),_0x47c479=0x1388,_0x4ab73e=[{'url':'https://jsonip.com','parse':_0x89f86=>_0x89f86['ip']},{'url':_0x1a7f34(0x590),'parse':_0x471056=>_0x471056['ip']},{'url':'http://checkip.dyndns.org','parse':_0x4a72dc=>_0x4a72dc['match'](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x1a7f34(0x277),'parse':_0x53d057=>_0x53d057['ip']},{'url':_0x1a7f34(0x63f),'parse':_0x1518ce=>_0x1518ce[_0x1a7f34(0x5d8)]()},{'url':'http://ipecho.net/plain','parse':_0x2c9cd0=>_0x2c9cd0['trim']()},{'url':_0x1a7f34(0x27b),'parse':_0x1f8613=>_0x1f8613[_0x1a7f34(0x7f4)]},{'url':_0x1a7f34(0x1fe),'parse':_0x17fab0=>_0x17fab0[_0x1a7f34(0x5d8)]()},{'url':_0x1a7f34(0x767),'parse':_0x716a7c=>_0x716a7c[_0x1a7f34(0x5d8)]()}],_0x369781=_0x4ab73e[Math[_0x1a7f34(0x4e3)](Math['random']()*_0x4ab73e[_0x1a7f34(0x779)])];try{let _0x1a1bc1=await Q[_0x1a7f34(0x716)][_0x1a7f34(0x7c4)](_0x369781['url'],{'httpsAgent':_0x2b641e,'timeout':_0x47c479}),_0x439baa=_0x369781['parse'](_0x1a1bc1[_0x1a7f34(0x39e)]);return _0x439baa===_0xb9e6d2?(this['logger'][_0x1a7f34(0x62f)](this[_0x1a7f34(0x1dc)]+_0x1a7f34(0x33d)+_0xb9e6d2+_0x1a7f34(0x283)+_0x439baa+_0x1a7f34(0x2fc)),!0x0):(this[_0x1a7f34(0x58e)][_0x1a7f34(0x3a8)](this['instanceName']+':\x20IP\x20configurado:\x20'+_0xb9e6d2+'\x20-\x20retornado:\x20'+_0x439baa+_0x1a7f34(0x856)),!0x1);}catch(_0x2e7631){return this['logger'][_0x1a7f34(0x3a8)](this['instanceName']+_0x1a7f34(0x7fc)+_0x369781['url']+':\x20'+_0x2e7631[_0x1a7f34(0x1ff)]),!0x1;}}async[a0_0x7625da(0x6ab)](_0x460f4b){const _0x1988b9=a0_0x7625da;try{let _0x34c93d=await this[_0x1988b9(0x830)]();this[_0x1988b9(0x5ce)](),this['instance'][_0x1988b9(0x652)]=(await this[_0x1988b9(0x3f9)]['auth'][_0x1988b9(0x48d)](this[_0x1988b9(0x4e6)][_0x1988b9(0x2f7)]))[_0x1988b9(0x652)],this[_0x1988b9(0x4e6)]['authState']=await this[_0x1988b9(0x20f)]();let {version:_0x282f46}=await(0x0,f[_0x1988b9(0x4c1)])(),_0x139488=[Eo,Is,(0x0,As[_0x1988b9(0x6c2)])()],_0x47d5b7={..._0x34c93d,'auth':{'creds':this[_0x1988b9(0x4e6)][_0x1988b9(0x6d5)][_0x1988b9(0x22d)][_0x1988b9(0x4da)],'keys':(0x0,f[_0x1988b9(0x564)])(this[_0x1988b9(0x4e6)][_0x1988b9(0x6d5)][_0x1988b9(0x22d)][_0x1988b9(0x4f8)],(0x0,kt[_0x1988b9(0x716)])({'level':_0x1988b9(0x3a8)}))},'logger':(0x0,kt['default'])({'level':_0x1988b9(0x3a8)}),'printQRInTerminal':!0x1,'browser':_0x460f4b?[_0x1988b9(0x26c),Is,(0x0,As[_0x1988b9(0x6c2)])()]:_0x139488,'version':_0x282f46,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x3f0e5d=>{const _0x5e1232=_0x1988b9;let _0x12f777=_0x3f0e5d[_0x5e1232(0x2f5)](_0x5e1232(0x448)),_0x4fe479=this['localWebhook']?.[_0x5e1232(0x81c)]&&_0x3f0e5d[_0x5e1232(0x2f5)](_0x5e1232(0x793));return _0x12f777||(0x0,f[_0x5e1232(0x8a3)])(_0x3f0e5d)||_0x4fe479;},'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x1e677b=>await this[_0x1988b9(0x52c)](_0x1e677b),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x1988b9(0x753)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x4463e5=>(_0x4463e5[_0x1988b9(0x1ea)]?.[_0x1988b9(0x683)]==f[_0x1988b9(0x322)][_0x1988b9(0x208)]['ListMessage'][_0x1988b9(0x8d3)][_0x1988b9(0x2cd)]&&(_0x4463e5=JSON[_0x1988b9(0x4ef)](JSON[_0x1988b9(0x511)](_0x4463e5)),_0x4463e5[_0x1988b9(0x1ea)][_0x1988b9(0x683)]=f[_0x1988b9(0x322)]['Message'][_0x1988b9(0x868)][_0x1988b9(0x8d3)][_0x1988b9(0x2d5)]),_0x4463e5)};return this[_0x1988b9(0x87e)]=!0x1,this[_0x1988b9(0x4d8)]=(0x0,f[_0x1988b9(0x716)])(_0x47d5b7),this['eventHandler'](),this[_0x1988b9(0x613)]=_0x460f4b,this[_0x1988b9(0x4d8)];}catch(_0x57134a){let _0x4e1184=_0x1988b9(0x22a),_0x24d5ac=_0x57134a instanceof Error?_0x57134a[_0x1988b9(0x1ff)]:typeof _0x57134a==_0x1988b9(0x559)?JSON[_0x1988b9(0x511)](_0x57134a):_0x57134a,_0x4bbc4f=_0x4e1184+':\x20'+_0x24d5ac;throw this[_0x1988b9(0x58e)][_0x1988b9(0x3a8)](this['instanceName']+'\x20('+this[_0x1988b9(0x4e6)]['wuid']+_0x1988b9(0x510)+_0x4bbc4f),new I(_0x4bbc4f);}}[a0_0x7625da(0x56a)](){const _0x76e7fc=a0_0x7625da;this[_0x76e7fc(0x4d8)]['ev'][_0x76e7fc(0x4fd)](_0x627c60=>{const _0x26094d=_0x76e7fc;if(!this['endSession']){let _0x4b36c2=this[_0x26094d(0x724)]['get'](_0x26094d(0x3c8));if(_0x627c60[_0x26094d(0x899)]){let _0x2a6974=_0x627c60[_0x26094d(0x899)];this[_0x26094d(0x239)][_0x26094d(0x899)](_0x2a6974);}if(_0x627c60[_0x26094d(0x284)]){let _0x3f9393=_0x627c60[_0x26094d(0x284)];this[_0x26094d(0x239)]['labels.association'](_0x3f9393);}if(_0x627c60['connection.update']&&this[_0x26094d(0x887)](_0x627c60[_0x26094d(0x363)]),_0x627c60[_0x26094d(0x81d)]&&this[_0x26094d(0x4e6)][_0x26094d(0x6d5)][_0x26094d(0x407)](),_0x627c60[_0x26094d(0x6fd)]){let _0x3a6e7d=_0x627c60['messaging-history.set'];this[_0x26094d(0x239)][_0x26094d(0x6fd)](_0x3a6e7d,_0x4b36c2);}if(_0x627c60['messages.upsert']){let _0x4a6810=_0x627c60[_0x26094d(0x5e7)];this[_0x26094d(0x239)][_0x26094d(0x5e7)](_0x4a6810,_0x4b36c2);}if(_0x627c60['messages.update']){let _0x38410a=_0x627c60['messages.update'];this['messageHandle'][_0x26094d(0x3d0)](_0x38410a,_0x4b36c2);}if(_0x627c60['presence.update']){let _0x580200=_0x627c60['presence.update'];if(this[_0x26094d(0x2bb)]?.['groups_ignore']&&_0x580200['id'][_0x26094d(0x80b)](_0x26094d(0x793)))return;this[_0x26094d(0x2cb)](_0x26094d(0x479),_0x580200);}if(_0x627c60[_0x26094d(0x740)]){let _0x5e89cf=_0x627c60[_0x26094d(0x740)];this['groupHandler'][_0x26094d(0x740)](_0x5e89cf);}if(_0x627c60[_0x26094d(0x81e)]){let _0x101211=_0x627c60[_0x26094d(0x81e)];this[_0x26094d(0x89f)][_0x26094d(0x81e)](_0x101211);}if(_0x627c60['group-participants.update']){let _0x98b6ac=_0x627c60[_0x26094d(0x3e0)];this['groupHandler'][_0x26094d(0x3e0)](_0x98b6ac);}if(_0x627c60[_0x26094d(0x1df)]){let _0x375404=_0x627c60[_0x26094d(0x1df)];this[_0x26094d(0x5e9)][_0x26094d(0x1df)](_0x375404,_0x4b36c2);}if(_0x627c60['chats.update']){let _0xc5e78e=_0x627c60['chats.update'];this['chatHandle'][_0x26094d(0x4b5)](_0xc5e78e,_0x4b36c2);}if(_0x627c60[_0x26094d(0x29a)]){let _0x1e8e48=_0x627c60[_0x26094d(0x29a)];this['chatHandle'][_0x26094d(0x29a)](_0x1e8e48);}if(_0x627c60[_0x26094d(0x53f)]){let _0x6aedc7=_0x627c60[_0x26094d(0x53f)];this[_0x26094d(0x69f)][_0x26094d(0x53f)](_0x6aedc7,_0x4b36c2);}if(_0x627c60['contacts.update']){let _0x1c2ee1=_0x627c60[_0x26094d(0x7d4)];this[_0x26094d(0x69f)][_0x26094d(0x7d4)](_0x1c2ee1,_0x4b36c2);}}});}['delayChatLabel'](_0x1c1590){return new Promise(_0x5ea1e4=>setTimeout(_0x5ea1e4,_0x1c1590));}[a0_0x7625da(0x381)](_0x54eab1){const _0x51bfb9=a0_0x7625da;_0x54eab1=_0x54eab1[_0x51bfb9(0x614)](/\D/g,'');let _0xb8079c=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x54eab1);if(_0xb8079c&&_0xb8079c[0x1]==='55'){let _0x38e9f8=_0xb8079c[0x2],_0x41e354=_0xb8079c[0x3],_0x535f76=_0xb8079c[0x4];if(parseInt(_0x38e9f8)>=0x1f&&_0x41e354==='9')return _0xb8079c[0x1]+_0x38e9f8+_0x535f76;}return _0x54eab1;}['createJid'](_0x40a142){const _0x5b7d02=a0_0x7625da;return _0x40a142['includes'](_0x5b7d02(0x793))||_0x40a142[_0x5b7d02(0x80b)](_0x5b7d02(0x49f))||_0x40a142[_0x5b7d02(0x80b)](_0x5b7d02(0x232))?_0x40a142:(_0x40a142=_0x40a142?.[_0x5b7d02(0x614)](/\s/g,'')[_0x5b7d02(0x614)](/\+/g,'')[_0x5b7d02(0x614)](/\(/g,'')[_0x5b7d02(0x614)](/\)/g,'')[_0x5b7d02(0x1e9)](/\:/)[0x0]['split']('@')[0x0],_0x40a142['length']>=0x12?(_0x40a142=_0x40a142[_0x5b7d02(0x614)](/[^\d-]/g,''),_0x40a142+_0x5b7d02(0x793)):(_0x40a142=_0x40a142[_0x5b7d02(0x614)](/\D/g,''),_0x40a142+_0x5b7d02(0x49f)));}async[a0_0x7625da(0x5a2)](_0x181acf){const _0x356dc5=a0_0x7625da;let _0xa5dbf5=(await this[_0x356dc5(0x83a)]({'numbers':[_0x181acf[_0x356dc5(0x305)]]}))[0x0];if(!_0xa5dbf5[_0x356dc5(0x1dd)]&&!(0x0,f[_0x356dc5(0x37b)])(_0xa5dbf5[_0x356dc5(0x2b9)])&&!_0xa5dbf5[_0x356dc5(0x2b9)][_0x356dc5(0x80b)](_0x356dc5(0x232)))throw new m(_0xa5dbf5);let _0x46a93f=_0xa5dbf5[_0x356dc5(0x2b9)];try{return await this['client'][_0x356dc5(0x7d5)](_0x46a93f),await this[_0x356dc5(0x4d8)]['sendPresenceUpdate'](_0x181acf[_0x356dc5(0x3c3)],_0x46a93f),{'status':0xc8,'presence':_0x181acf[_0x356dc5(0x3c3)]};}catch(_0x3bba52){let _0x253be1=_0x356dc5(0x20e),_0x44405e=_0x3bba52 instanceof Error?_0x3bba52[_0x356dc5(0x1ff)]:typeof _0x3bba52=='object'?JSON[_0x356dc5(0x511)](_0x3bba52):_0x3bba52,_0x410f77=_0x253be1+':\x20'+_0x44405e;throw this['logger'][_0x356dc5(0x3a8)](this[_0x356dc5(0x1dc)]+'\x20('+this['instance'][_0x356dc5(0x58c)]+_0x356dc5(0x510)+_0x410f77),new m(_0x410f77);}}async[a0_0x7625da(0x88d)](_0xab1880,_0x3956f0,_0x5b60ac,_0x3f3ee4=!0x0){const _0x329074=a0_0x7625da;let _0x44cf6e=await this['repository'][_0x329074(0x695)]['findOne']({'where':{'_id':_0xab1880}});if(!_0x44cf6e&&!_0x3f3ee4)return;let _0x4d9ea5={'lastUpdate':Date['now']()};if(_0x5b60ac||!_0x44cf6e?.[_0x329074(0x34d)]||Date[_0x329074(0x7cd)]()-_0x44cf6e[_0x329074(0x34d)]>0x18*0x3c*0x3c*0x3e8)try{let _0x72c42f=(await this['profilePicture'](_0xab1880))[_0x329074(0x5cf)];_0x4d9ea5[_0x329074(0x2bf)]=_0x72c42f;}catch(_0x384c84){let _0x1ced3f=_0x329074(0x25a),_0x23e805=_0x384c84 instanceof Error?_0x384c84['message']:typeof _0x384c84==_0x329074(0x559)?JSON[_0x329074(0x511)](_0x384c84):_0x384c84,_0x5e61a4=_0x1ced3f+':\x20'+_0x23e805;throw this[_0x329074(0x58e)][_0x329074(0x3a8)](this[_0x329074(0x1dc)]+'\x20('+this['instance']['wuid']+_0x329074(0x510)+_0x5e61a4),new m(_0x5e61a4);}return _0x3956f0&&_0x44cf6e?.[_0x329074(0x2f7)]!==_0x3956f0&&(_0x4d9ea5[_0x329074(0x2f7)]=_0x3956f0),Object['keys'](_0x4d9ea5)[_0x329074(0x779)]>0x1&&(_0x44cf6e?await this[_0x329074(0x3f9)]['cacheContact'][_0x329074(0x4b2)]({'where':{'_id':_0xab1880}},_0x4d9ea5):await this[_0x329074(0x3f9)]['cacheContact'][_0x329074(0x20a)]([{'_id':_0xab1880,..._0x4d9ea5}]),_0x44cf6e={..._0x44cf6e,..._0x4d9ea5}),{'cachedContact':_0x44cf6e};}async[a0_0x7625da(0x226)](_0x1be8ad){const _0x5efc63=a0_0x7625da;let _0x3ca0d4=this[_0x5efc63(0x704)](_0x1be8ad);try{return{'wuid':_0x3ca0d4,'profilePictureUrl':await this['client'][_0x5efc63(0x5cf)](_0x3ca0d4,_0x5efc63(0x5c6))};}catch{return{'wuid':_0x3ca0d4,'profilePictureUrl':null};}}async[a0_0x7625da(0x21f)](_0x1c7050,_0x5127ff,_0x207e3d){const _0x5c6449=a0_0x7625da;try{_0x207e3d||(_0x207e3d={});let _0xfd2559=(await this[_0x5c6449(0x83a)]({'numbers':[_0x1c7050]}))[0x0];if(!_0xfd2559[_0x5c6449(0x1dd)]&&!(0x0,f[_0x5c6449(0x37b)])(_0xfd2559[_0x5c6449(0x2b9)])&&!_0xfd2559[_0x5c6449(0x2b9)]['includes']('@broadcast'))throw new m(_0x5c6449(0x637));let _0x11b8a1=_0xfd2559[_0x5c6449(0x2b9)];if(_0x207e3d?.[_0x5c6449(0x2f3)]){await this[_0x5c6449(0x4d8)][_0x5c6449(0x7d5)](_0x11b8a1),await this[_0x5c6449(0x4d8)][_0x5c6449(0x50c)](_0x207e3d?.[_0x5c6449(0x3c3)]??_0x5c6449(0x8c5),_0x11b8a1);let _0x261798=Math['min'](_0x207e3d[_0x5c6449(0x2f3)],0x2710);await(0x0,f[_0x5c6449(0x2f3)])(_0x261798),await this[_0x5c6449(0x4d8)][_0x5c6449(0x50c)](_0x5c6449(0x8cb),_0x11b8a1);}let _0x49ec01=_0x207e3d?.[_0x5c6449(0x2b3)]!=!0x1?void 0x0:!0x1,_0x49d984;if(_0x207e3d?.['quoted']){let _0x4ebdba=_0x207e3d?.[_0x5c6449(0x5fa)],_0x5e7ddf=_0x4ebdba?.['message']?_0x4ebdba:await this['getMessage'](_0x4ebdba[_0x5c6449(0x84e)],!0x0);if(!_0x5e7ddf)throw _0x5c6449(0x388);_0x49d984=_0x5e7ddf;}let _0x31e616;if((0x0,f[_0x5c6449(0x37b)])(_0x11b8a1))try{let _0x2612f1=(await this[_0x5c6449(0x3f9)][_0x5c6449(0x5bb)][_0x5c6449(0x715)]({'where':{'_id':_0x11b8a1}},this['instance'][_0x5c6449(0x58c)]))[_0x5c6449(0x7a1)];if(!_0x2612f1)throw new U(_0x5c6449(0x8d5));_0x207e3d?.['mentions']&&(_0x207e3d['mentions']?.['everyOne']?_0x31e616=_0x2612f1['participants'][_0x5c6449(0x1ec)](_0x20e2fa=>_0x20e2fa['id']):_0x207e3d[_0x5c6449(0x620)]?.[_0x5c6449(0x611)]?.[_0x5c6449(0x779)]&&(_0x31e616=_0x207e3d['mentions'][_0x5c6449(0x611)][_0x5c6449(0x1ec)](_0x1fac32=>{const _0x2bbc77=_0x5c6449;let _0x25d017=this[_0x2bbc77(0x704)](_0x1fac32);return(0x0,f[_0x2bbc77(0x37b)])(_0x25d017)?null:_0x25d017;})));}catch{throw new U(_0x5c6449(0x8d5));}let _0x4b6f99=await this[_0x5c6449(0x3f9)]['chat'][_0x5c6449(0x715)]({'where':{'_id':_0x11b8a1}},this['instance']['wuid']),_0x3574cd=await((async()=>{const _0x15ce42=_0x5c6449;let _0x45f28a={'quoted':_0x49d984,'ephemeralExpiration':_0x4b6f99?.[_0x15ce42(0x707)]??0x0};if(!_0x5127ff[_0x15ce42(0x671)]&&!_0x5127ff['poll']&&!_0x5127ff['sticker']&&!_0x5127ff['conversation']&&_0x11b8a1!==_0x15ce42(0x599)&&!_0x5127ff[_0x15ce42(0x671)])return await this[_0x15ce42(0x4d8)][_0x15ce42(0x8d7)](_0x11b8a1,{'forward':{'key':{'remoteJid':this[_0x15ce42(0x4e6)][_0x15ce42(0x58c)],'fromMe':!0x0},'message':_0x5127ff},'mentions':_0x31e616},_0x45f28a);if(_0x5127ff[_0x15ce42(0x4c0)])return await this['client'][_0x15ce42(0x8d7)](_0x11b8a1,{'react':{'text':_0x5127ff['reactionMessage'][_0x15ce42(0x3e8)],'key':_0x5127ff[_0x15ce42(0x4c0)][_0x15ce42(0x84e)]}},_0x45f28a);if(_0x5127ff[_0x15ce42(0x852)]){let _0x6d066=_0x5127ff['conversation'];return _0x207e3d?.[_0x15ce42(0x68f)]&&(_0x6d066=await this[_0x15ce42(0x31a)](_0x6d066,_0x11b8a1)),await this['client'][_0x15ce42(0x8d7)](_0x11b8a1,{'text':_0x6d066,'mentions':_0x31e616,'linkPreview':_0x49ec01},_0x45f28a);}return _0x11b8a1===_0x15ce42(0x599)?await this[_0x15ce42(0x4d8)][_0x15ce42(0x8d7)](_0x11b8a1,_0x5127ff[_0x15ce42(0x464)][_0x15ce42(0x77c)],{'backgroundColor':_0x5127ff['status'][_0x15ce42(0x5d1)][_0x15ce42(0x30b)],'font':_0x5127ff['status']['option'][_0x15ce42(0x703)],'statusJidList':_0x5127ff[_0x15ce42(0x464)][_0x15ce42(0x5d1)]['statusJidList']}):await this[_0x15ce42(0x4d8)]['sendMessage'](_0x11b8a1,_0x5127ff,_0x45f28a);})()),_0xc4a11f=(0x0,f[_0x5c6449(0x2c7)])(_0x3574cd[_0x5c6449(0x1ff)]),_0x5dd263=(0x0,f[_0x5c6449(0x30c)])(_0xc4a11f),{message_normalized:_0x386b01}=this['normalizeMessage'](_0xc4a11f,_0x5dd263,null),_0xde3ee3={'_id':_0x3574cd[_0x5c6449(0x84e)]['id'],'key':_0x3574cd[_0x5c6449(0x84e)],'pushName':_0x3574cd[_0x5c6449(0x6c8)],'isGroup':_0x3574cd[_0x5c6449(0x84e)][_0x5c6449(0x6cd)][_0x5c6449(0x2f5)](_0x5c6449(0x793)),'profilePictureUrl':this['instance'][_0x5c6449(0x5cf)],'message':_0xc4a11f,'messageType':_0x5dd263,'message_normalized':{'key':_0x3574cd[_0x5c6449(0x84e)],'pushName':_0x3574cd['pushName'],'messageTimestamp':_0x3574cd['messageTimestamp']&&_0x3574cd[_0x5c6449(0x5c4)][_0x5c6449(0x455)]()[_0x5c6449(0x779)]<0xd?_0x3574cd[_0x5c6449(0x5c4)]*0x3e8:_0x3574cd['messageTimestamp']||null,'source':(0x0,f[_0x5c6449(0x51c)])(_0x3574cd[_0x5c6449(0x84e)]['id']),..._0x386b01},'messageTimestamp':_0x3574cd[_0x5c6449(0x5c4)]&&_0x3574cd[_0x5c6449(0x5c4)][_0x5c6449(0x455)]()[_0x5c6449(0x779)]<0xd?_0x3574cd[_0x5c6449(0x5c4)]*0x3e8:_0x3574cd[_0x5c6449(0x5c4)]||null,'owner':this[_0x5c6449(0x4e6)][_0x5c6449(0x58c)],'source':(0x0,f[_0x5c6449(0x51c)])(_0x3574cd[_0x5c6449(0x84e)]['id'])};return this[_0x5c6449(0x58e)]['warn'](this['instanceName']+'\x20('+this['instance'][_0x5c6449(0x58c)]+_0x5c6449(0x706)+_0xde3ee3[_0x5c6449(0x84e)]?.[_0x5c6449(0x6cd)][_0x5c6449(0x614)]('@s.whatsapp.net','')+_0x5c6449(0x62e)+_0xde3ee3[_0x5c6449(0x810)]+')'),_0xde3ee3[_0x5c6449(0x346)]?.[_0x5c6449(0x3e8)]&&this[_0x5c6449(0x58e)][_0x5c6449(0x6ef)](_0xde3ee3[_0x5c6449(0x346)]?.[_0x5c6449(0x3e8)]),this[_0x5c6449(0x2cb)](_0x5c6449(0x36f),_0xde3ee3),F(this[_0x5c6449(0x1dc)],_0x5c6449(0x622),{'message':_0xde3ee3}),this[_0x5c6449(0x4b0)](this[_0x5c6449(0x724)]['get'](_0x5c6449(0x3c8)),_0xde3ee3,'SEND_MESSAGE',_0x4b6f99),await this[_0x5c6449(0x3f9)]['message'][_0x5c6449(0x20a)]([_0xde3ee3],this[_0x5c6449(0x4e6)]['wuid']),_0x3574cd;}catch(_0x3f4e14){let _0x1d319a=_0x5c6449(0x3ee),_0x4006cc=_0x3f4e14 instanceof Error?_0x3f4e14[_0x5c6449(0x1ff)]:typeof _0x3f4e14=='object'?JSON[_0x5c6449(0x511)](_0x3f4e14):_0x3f4e14,_0x4ad239=_0x1d319a+':\x20'+_0x4006cc;throw this[_0x5c6449(0x58e)][_0x5c6449(0x3a8)](this[_0x5c6449(0x1dc)]+'\x20('+this[_0x5c6449(0x4e6)][_0x5c6449(0x58c)]+_0x5c6449(0x510)+_0x4ad239),new m(_0x4ad239);}}get[a0_0x7625da(0x545)](){const _0x3ebba3=a0_0x7625da;return this[_0x3ebba3(0x541)];}async[a0_0x7625da(0x44b)](_0x51347e){const _0x47fa3a=a0_0x7625da;let _0x370e5d=bo,_0x193355=st;return _0x193355&&this[_0x47fa3a(0x1dc)][_0x47fa3a(0x6e5)]()['includes'](_0x193355[_0x47fa3a(0x6e5)]())&&(_0x51347e[_0x47fa3a(0x44b)][_0x47fa3a(0x3e8)]+='\x0a\x0a'+_0x370e5d),await this['sendMessageWithTyping'](_0x51347e['number'],{'conversation':_0x51347e[_0x47fa3a(0x44b)]['text']},_0x51347e?.[_0x47fa3a(0x7d8)]);}async['formatStatusMessage'](_0x3c7a0c){const _0x1d7d14=a0_0x7625da;if(!_0x3c7a0c['type'])throw new m(_0x1d7d14(0x569));if(!_0x3c7a0c[_0x1d7d14(0x77c)])throw new m(_0x1d7d14(0x41e));if(_0x3c7a0c[_0x1d7d14(0x4f3)]){let _0x208c2b=await this[_0x1d7d14(0x3f9)][_0x1d7d14(0x5de)]['find']({'where':{}},this[_0x1d7d14(0x4e6)][_0x1d7d14(0x58c)]);if(!_0x208c2b['length'])throw new m(_0x1d7d14(0x222));_0x3c7a0c[_0x1d7d14(0x86c)]=_0x208c2b[_0x1d7d14(0x3ca)](_0x25410a=>_0x25410a[_0x1d7d14(0x6c8)])[_0x1d7d14(0x1ec)](_0x5c5155=>_0x5c5155[_0x1d7d14(0x7ce)]);}if(!_0x3c7a0c[_0x1d7d14(0x86c)]?.[_0x1d7d14(0x779)]&&!_0x3c7a0c[_0x1d7d14(0x4f3)])throw new m(_0x1d7d14(0x3a1));if(_0x3c7a0c[_0x1d7d14(0x3a6)]===_0x1d7d14(0x3e8)){if(!_0x3c7a0c['backgroundColor'])throw new m(_0x1d7d14(0x4e7));if(!_0x3c7a0c[_0x1d7d14(0x703)])throw new m(_0x1d7d14(0x8ce));return{'content':{'text':_0x3c7a0c[_0x1d7d14(0x77c)]},'option':{'backgroundColor':_0x3c7a0c[_0x1d7d14(0x30b)],'font':_0x3c7a0c[_0x1d7d14(0x703)],'statusJidList':_0x3c7a0c[_0x1d7d14(0x86c)]}};}if(_0x3c7a0c['type']==='image')return{'content':{'image':{'url':_0x3c7a0c[_0x1d7d14(0x77c)]},'caption':_0x3c7a0c['caption']},'option':{'statusJidList':_0x3c7a0c[_0x1d7d14(0x86c)]}};if(_0x3c7a0c['type']===_0x1d7d14(0x717))return{'content':{'video':{'url':_0x3c7a0c[_0x1d7d14(0x77c)]},'caption':_0x3c7a0c[_0x1d7d14(0x47e)]},'option':{'statusJidList':_0x3c7a0c[_0x1d7d14(0x86c)]}};if(_0x3c7a0c[_0x1d7d14(0x3a6)]===_0x1d7d14(0x671)){this['logger'][_0x1d7d14(0x62f)](_0x1d7d14(0x4f6)),this['logger'][_0x1d7d14(0x62f)](_0x1d7d14(0x420));let _0x239d4d=await this['convertaudio'](_0x3c7a0c[_0x1d7d14(0x77c)]);if(typeof _0x239d4d==_0x1d7d14(0x5f1)){this['logger'][_0x1d7d14(0x62f)](_0x1d7d14(0x7cc));let _0x3c3681=k['readFileSync'](_0x239d4d)[_0x1d7d14(0x455)]('base64');return{'content':{'audio':Buffer['from'](_0x3c3681,'base64'),'ptt':!0x0,'mimetype':'audio/ogg'},'option':{'statusJidList':_0x3c7a0c[_0x1d7d14(0x86c)]}};}else throw new I(_0x239d4d);}throw new m(_0x1d7d14(0x27f));}async[a0_0x7625da(0x524)](_0x2ab949){const _0x286931=a0_0x7625da;return await this['sendMessageWithTyping'](_0x286931(0x599),{'status':await this['formatStatusMessage'](_0x2ab949[_0x286931(0x524)])});}async['prepareMediaMessage'](_0x3734dc){const _0x30a943=a0_0x7625da;try{let _0x4589d9=await(0x0,f['prepareWAMessageMedia'])({[_0x3734dc[_0x30a943(0x223)]]:(0x0,P[_0x30a943(0x537)])(_0x3734dc[_0x30a943(0x7ec)])?{'url':_0x3734dc[_0x30a943(0x7ec)]}:Buffer['from'](_0x3734dc[_0x30a943(0x7ec)],_0x30a943(0x3db))},{'upload':this['client']['waUploadToServer']}),_0x6a978c=_0x3734dc[_0x30a943(0x223)]+_0x30a943(0x208);if(_0x3734dc[_0x30a943(0x223)]===_0x30a943(0x8e9)&&!_0x3734dc[_0x30a943(0x7e9)]){let _0xfb3f7b=new RegExp(/.*\/(.+?)\./)[_0x30a943(0x72e)](_0x3734dc[_0x30a943(0x7ec)]);_0x3734dc[_0x30a943(0x7e9)]=_0xfb3f7b?_0xfb3f7b[0x1]:null;}let _0x327e25=(0x0,P[_0x30a943(0x537)])(_0x3734dc[_0x30a943(0x7ec)])?_0x3734dc['media'][_0x30a943(0x1e9)]('?')[0x0]:_0x3734dc['media'],_0x23acad;(0x0,P['isURL'])(_0x3734dc[_0x30a943(0x7ec)])?_0x23acad=(0x0,jt[_0x30a943(0x2c0)])(_0x327e25):_0x3734dc['fileName']&&_0x3734dc[_0x30a943(0x7e9)][_0x30a943(0x80b)]('.')?_0x23acad=(0x0,jt[_0x30a943(0x2c0)])(_0x3734dc[_0x30a943(0x7e9)]):_0x23acad=(0x0,jt[_0x30a943(0x2c0)])(_0x3734dc[_0x30a943(0x7ec)]);let _0x4b0d7e=bo,_0x197cf3=st;return _0x197cf3&&this[_0x30a943(0x1dc)][_0x30a943(0x6e5)]()[_0x30a943(0x80b)](_0x197cf3[_0x30a943(0x6e5)]())&&(_0x3734dc['caption']+='\x0a\x0a'+_0x4b0d7e),_0x4589d9[_0x6a978c][_0x30a943(0x47e)]=_0x3734dc?.[_0x30a943(0x47e)],_0x4589d9[_0x6a978c]['mimetype']=_0x23acad,_0x4589d9[_0x6a978c][_0x30a943(0x7e9)]=_0x3734dc[_0x30a943(0x7e9)],_0x3734dc[_0x30a943(0x223)]===_0x30a943(0x717)&&(_0x4589d9[_0x6a978c][_0x30a943(0x688)]=Uint8Array[_0x30a943(0x861)]((0x0,De[_0x30a943(0x5a3)])((0x0,L['join'])(process['cwd'](),_0x30a943(0x285)))),_0x4589d9[_0x6a978c][_0x30a943(0x41b)]=!0x1),(0x0,f[_0x30a943(0x2de)])('',{[_0x6a978c]:{..._0x4589d9[_0x6a978c]}},{'userJid':this['instance']['wuid']});}catch(_0x34b88a){let _0x10db59=_0x30a943(0x3e4),_0x146036=_0x34b88a instanceof Error?_0x34b88a[_0x30a943(0x1ff)]:typeof _0x34b88a==_0x30a943(0x559)?JSON[_0x30a943(0x511)](_0x34b88a):_0x34b88a,_0xa572f2=_0x10db59+':\x20'+_0x146036;throw this['logger'][_0x30a943(0x3a8)](this[_0x30a943(0x1dc)]+'\x20('+this['instance'][_0x30a943(0x58c)]+_0x30a943(0x510)+_0xa572f2),new I(_0xa572f2);}}async[a0_0x7625da(0x78b)](_0x184faf){const _0x2c1dc0=a0_0x7625da;let _0x361ada=await this[_0x2c1dc0(0x696)](_0x184faf[_0x2c1dc0(0x78b)]);return await this[_0x2c1dc0(0x21f)](_0x184faf['number'],{..._0x361ada[_0x2c1dc0(0x1ff)]},_0x184faf?.['options']);}async['convertToWebP'](_0x221e35,_0x241f5b){const _0x387842=a0_0x7625da;try{this[_0x387842(0x58e)][_0x387842(0x62f)](_0x387842(0x7aa));let _0x4ec731,_0x4907fd=_0x241f5b+'-'+new Date()[_0x387842(0x783)]();this[_0x387842(0x58e)][_0x387842(0x62f)](_0x387842(0x342)+_0x4907fd);let _0x2a1f4b=''+(0x0,L[_0x387842(0x867)])(this[_0x387842(0x521)],_0x4907fd+_0x387842(0x7c1));if(this[_0x387842(0x58e)]['verbose'](_0x387842(0x843)+_0x2a1f4b),(0x0,P[_0x387842(0x31c)])(_0x221e35)){this[_0x387842(0x58e)][_0x387842(0x62f)]('Image\x20is\x20base64');let _0x370e16=_0x221e35[_0x387842(0x614)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x2579ee=Buffer[_0x387842(0x861)](_0x370e16,'base64');_0x4ec731=''+(0x0,L['join'])(this[_0x387842(0x521)],_0x387842(0x382)+_0x4907fd+_0x387842(0x70f)),this['logger']['verbose'](_0x387842(0x6c9)+_0x4ec731),await(0x0,Lt[_0x387842(0x716)])(_0x2579ee)['toFile'](_0x4ec731),this['logger'][_0x387842(0x62f)](_0x387842(0x7a9));}else{this[_0x387842(0x58e)][_0x387842(0x62f)]('Image\x20is\x20url');let _0x5f3d6d=new Date()[_0x387842(0x783)](),_0x2eb62f=_0x221e35+_0x387842(0x7af)+_0x5f3d6d;this[_0x387842(0x58e)][_0x387842(0x62f)](_0x387842(0x205)+_0x2eb62f);let _0x2dd4e6=await Q['default'][_0x387842(0x7c4)](_0x2eb62f,{'responseType':_0x387842(0x61a)});this[_0x387842(0x58e)][_0x387842(0x62f)](_0x387842(0x67f));let _0x4c154b=Buffer['from'](_0x2dd4e6[_0x387842(0x39e)],_0x387842(0x8ea));_0x4ec731=''+(0x0,L[_0x387842(0x867)])(this[_0x387842(0x521)],_0x387842(0x382)+_0x4907fd+_0x387842(0x70f)),this[_0x387842(0x58e)]['verbose']('Image\x20path:\x20'+_0x4ec731),await(0x0,Lt[_0x387842(0x716)])(_0x4c154b)[_0x387842(0x791)](_0x4ec731),this[_0x387842(0x58e)]['verbose'](_0x387842(0x7a9));}return await(0x0,Lt[_0x387842(0x716)])(_0x4ec731)[_0x387842(0x7d2)]()[_0x387842(0x791)](_0x2a1f4b),this[_0x387842(0x58e)][_0x387842(0x62f)](_0x387842(0x31b)),k[_0x387842(0x5cc)](_0x4ec731),this['logger'][_0x387842(0x62f)](_0x387842(0x69c)),_0x2a1f4b;}catch(_0x3bcdcc){let _0x50b218=_0x387842(0x616),_0x508e8b=_0x3bcdcc instanceof Error?_0x3bcdcc[_0x387842(0x1ff)]:typeof _0x3bcdcc==_0x387842(0x559)?JSON[_0x387842(0x511)](_0x3bcdcc):_0x3bcdcc,_0x5e712f=_0x50b218+':\x20'+_0x508e8b;this[_0x387842(0x58e)][_0x387842(0x3a8)](this[_0x387842(0x1dc)]+'\x20('+this[_0x387842(0x4e6)][_0x387842(0x58c)]+_0x387842(0x510)+_0x5e712f);}}async['mediaSticker'](_0x8a9d0c){const _0x27b9d4=a0_0x7625da;let _0x4e4fe3=await this[_0x27b9d4(0x366)](_0x8a9d0c['stickerMessage'][_0x27b9d4(0x5c6)],_0x8a9d0c[_0x27b9d4(0x305)]),_0xe6f46f=await this['sendMessageWithTyping'](_0x8a9d0c[_0x27b9d4(0x305)],{'sticker':{'url':_0x4e4fe3}},_0x8a9d0c?.[_0x27b9d4(0x7d8)]);return k[_0x27b9d4(0x5cc)](_0x4e4fe3),this['logger'][_0x27b9d4(0x62f)]('Converted\x20image\x20deleted'),_0xe6f46f;}async[a0_0x7625da(0x1e8)](_0x4277a7){const _0x36c01c=a0_0x7625da;if(this[_0x36c01c(0x58e)]['verbose'](_0x36c01c(0x236)),!_0x4277a7['options']?.[_0x36c01c(0x312)]&&_0x4277a7[_0x36c01c(0x7d8)]?.[_0x36c01c(0x312)]!==!0x1&&(_0x4277a7['options'][_0x36c01c(0x312)]=!0x0),_0x4277a7[_0x36c01c(0x7d8)]?.[_0x36c01c(0x312)]){let _0x4ab7c6=await this[_0x36c01c(0x89c)](_0x4277a7[_0x36c01c(0x3e7)][_0x36c01c(0x671)]);if(typeof _0x4ab7c6==_0x36c01c(0x5f1)){let _0x3edfb0=k[_0x36c01c(0x5a3)](_0x4ab7c6)[_0x36c01c(0x455)](_0x36c01c(0x3db));return this[_0x36c01c(0x21f)](_0x4277a7['number'],{'audio':Buffer[_0x36c01c(0x861)](_0x3edfb0,_0x36c01c(0x3db)),'ptt':!0x0,'mimetype':_0x36c01c(0x577)},{'presence':'recording','delay':_0x4277a7?.[_0x36c01c(0x7d8)]?.[_0x36c01c(0x2f3)]});}else throw new I(_0x4ab7c6);}return await this[_0x36c01c(0x21f)](_0x4277a7['number'],{'audio':(0x0,P['isURL'])(_0x4277a7['audioMessage'][_0x36c01c(0x671)])?{'url':_0x4277a7[_0x36c01c(0x3e7)][_0x36c01c(0x671)]}:Buffer[_0x36c01c(0x861)](_0x4277a7[_0x36c01c(0x3e7)]['audio'],_0x36c01c(0x3db)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':'recording','delay':_0x4277a7?.[_0x36c01c(0x7d8)]?.[_0x36c01c(0x2f3)]});}async['convertaudio'](_0x3877c2){const _0x46283c=a0_0x7625da;this[_0x46283c(0x58e)][_0x46283c(0x62f)](_0x46283c(0x420));let _0x5a7cfb=(0x0,P[_0x46283c(0x537)])(_0x3877c2)?(0x0,Jt[_0x46283c(0x62d)])(_0x46283c(0x56f))[_0x46283c(0x4b2)](_0x3877c2)[_0x46283c(0x805)](_0x46283c(0x550)):(0x0,Jt[_0x46283c(0x62d)])('sha256')['update'](_0x3877c2)[_0x46283c(0x805)](_0x46283c(0x550)),_0x5df593=''+(0x0,L['join'])(this[_0x46283c(0x521)],_0x5a7cfb+_0x46283c(0x496));if(k[_0x46283c(0x36b)](_0x5df593))return this[_0x46283c(0x58e)][_0x46283c(0x62f)](_0x46283c(0x7ae)),_0x5df593;let _0x181784=''+(0x0,L[_0x46283c(0x867)])(this[_0x46283c(0x521)],_0x46283c(0x382)+(0x0,Me['v4'])()+_0x46283c(0x6e4));if((0x0,P[_0x46283c(0x537)])(_0x3877c2)){let _0x35cbde=new Date()[_0x46283c(0x783)](),_0xc0975=_0x3877c2+_0x46283c(0x7af)+_0x35cbde,_0x445e9b=await Q[_0x46283c(0x716)][_0x46283c(0x7c4)](_0xc0975,{'responseType':_0x46283c(0x61a)});k[_0x46283c(0x574)](_0x181784,_0x445e9b[_0x46283c(0x39e)]);}else{let _0x276a5a=Buffer[_0x46283c(0x861)](_0x3877c2,_0x46283c(0x3db));k[_0x46283c(0x574)](_0x181784,_0x276a5a);}return new Promise((_0x17063e,_0x45f484)=>{const _0x4c6555=_0x46283c;(0x0,_e[_0x4c6555(0x72e)])($s[_0x4c6555(0x716)][_0x4c6555(0x26d)]+_0x4c6555(0x23d)+_0x181784+_0x4c6555(0x714)+_0x5df593+_0x4c6555(0x4e2),_0x55bd7f=>{const _0x339810=_0x4c6555;if(k['unlinkSync'](_0x181784),_0x55bd7f){this[_0x339810(0x58e)][_0x339810(0x62f)](_0x339810(0x513)),_0x45f484(_0x55bd7f);return;}this[_0x339810(0x58e)][_0x339810(0x62f)]('Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x17063e(_0x5df593);});});}async[a0_0x7625da(0x8bc)](_0x18d8b7){const _0x57105f=a0_0x7625da;this[_0x57105f(0x58e)][_0x57105f(0x62f)]('Processing\x20audio');let _0x2831a3=(0x0,Jt[_0x57105f(0x62d)])(_0x57105f(0x56f))[_0x57105f(0x4b2)](_0x18d8b7)['digest'](_0x57105f(0x550)),_0x145f59=''+(0x0,L[_0x57105f(0x867)])(this[_0x57105f(0x521)],_0x2831a3+_0x57105f(0x6e4));if(k[_0x57105f(0x36b)](_0x145f59))return this[_0x57105f(0x58e)][_0x57105f(0x62f)]('Cached\x20audio\x20found,\x20returning\x20existing\x20file'),L[_0x57105f(0x716)][_0x57105f(0x52f)](_0x145f59);let _0xcfcf7a=''+(0x0,L['join'])(this['storePath'],'temp-'+_0x2831a3+'.ogg');if((0x0,P[_0x57105f(0x537)])(_0x18d8b7)){let _0x36edd2=new Date()['getTime'](),_0x4df449=_0x18d8b7+_0x57105f(0x7af)+_0x36edd2,_0x14720e=await Q['default'][_0x57105f(0x7c4)](_0x4df449,{'responseType':'arraybuffer'});k[_0x57105f(0x574)](_0xcfcf7a,_0x14720e['data']);}else{let _0x392afb=Buffer['from'](_0x18d8b7,_0x57105f(0x3db));k[_0x57105f(0x574)](_0xcfcf7a,_0x392afb);}return new Promise((_0x320329,_0x3a528a)=>{const _0x146da5=_0x57105f;(0x0,_e[_0x146da5(0x72e)])($s[_0x146da5(0x716)][_0x146da5(0x26d)]+'\x20-i\x20'+_0xcfcf7a+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20'+_0x145f59+'\x20-y',_0x3c802d=>{const _0x199fbf=_0x146da5;if(k['unlinkSync'](_0xcfcf7a),_0x3c802d){this[_0x199fbf(0x58e)][_0x199fbf(0x62f)](_0x199fbf(0x513)),_0x3a528a(_0x3c802d);return;}this['logger'][_0x199fbf(0x62f)](_0x199fbf(0x5a7)),_0x320329(L[_0x199fbf(0x716)][_0x199fbf(0x52f)](_0x145f59));});});}async[a0_0x7625da(0x508)](_0x145b70){const _0x34f783=a0_0x7625da;let _0x40203a={},_0x328853=_0x34f783(0x8c8);if(_0x145b70[_0x34f783(0x508)]?.['mediaMessage']){_0x328853=_0x145b70[_0x34f783(0x508)][_0x34f783(0x78b)]?.['mediatype'][_0x34f783(0x3f0)]()??'TEXT',_0x40203a[_0x34f783(0x2ef)]=_0x328853[_0x34f783(0x6e5)]()+_0x34f783(0x208);let _0x37c10b=await this[_0x34f783(0x696)](_0x145b70['buttonMessage'][_0x34f783(0x78b)]);_0x40203a[_0x34f783(0x1ff)]=_0x37c10b['message'][_0x40203a[_0x34f783(0x2ef)]],_0x40203a['contentText']='*'+_0x145b70[_0x34f783(0x508)]['title']+_0x34f783(0x5ac)+_0x145b70[_0x34f783(0x508)][_0x34f783(0x439)];}let _0x5928d5={'text':_0x145b70[_0x34f783(0x508)][_0x34f783(0x536)][_0x34f783(0x1ec)](_0x363ae2=>_0x363ae2['buttonText']),'ids':_0x145b70[_0x34f783(0x508)][_0x34f783(0x536)][_0x34f783(0x1ec)](_0x4420b6=>_0x4420b6[_0x34f783(0x365)])};if(!(0x0,P['arrayUnique'])(_0x5928d5[_0x34f783(0x3e8)])||!(0x0,P[_0x34f783(0x57c)])(_0x5928d5[_0x34f783(0x7f9)]))throw new m(_0x34f783(0x82a),_0x34f783(0x43d));return await this[_0x34f783(0x21f)](_0x145b70[_0x34f783(0x305)],{'buttonsMessage':{'text':_0x40203a?.[_0x34f783(0x2ef)]?void 0x0:_0x145b70[_0x34f783(0x508)][_0x34f783(0x7a0)],'contentText':_0x40203a?.[_0x34f783(0x526)]??_0x145b70[_0x34f783(0x508)][_0x34f783(0x439)],'footerText':_0x145b70['buttonMessage']?.['footerText'],'buttons':_0x145b70[_0x34f783(0x508)][_0x34f783(0x536)][_0x34f783(0x1ec)](_0x105858=>({'buttonText':{'displayText':_0x105858[_0x34f783(0x4b4)]},'buttonId':_0x105858['buttonId'],'type':0x1})),'headerType':f[_0x34f783(0x322)][_0x34f783(0x208)][_0x34f783(0x2e9)]['HeaderType'][_0x328853],[_0x40203a?.[_0x34f783(0x2ef)]]:_0x40203a?.[_0x34f783(0x1ff)]}},_0x145b70?.[_0x34f783(0x7d8)]);}async[a0_0x7625da(0x3b3)](_0x5a2bfa){const _0x389c38=a0_0x7625da;return await this[_0x389c38(0x21f)](_0x5a2bfa[_0x389c38(0x305)],{'locationMessage':{'degreesLatitude':_0x5a2bfa[_0x389c38(0x3b3)]['latitude'],'degreesLongitude':_0x5a2bfa[_0x389c38(0x3b3)][_0x389c38(0x4a6)],'name':_0x5a2bfa['locationMessage']?.[_0x389c38(0x2f7)],'address':_0x5a2bfa[_0x389c38(0x3b3)]?.[_0x389c38(0x1e2)]}},_0x5a2bfa?.[_0x389c38(0x7d8)]);}async[a0_0x7625da(0x5a8)](_0x5159c5){const _0x31712a=a0_0x7625da;let _0x505479={},_0x4f3425=async _0x29288f=>{const _0x29187d=a0_0x5efa;let _0x1e7330='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x29288f[_0x29187d(0x288)]+_0x29187d(0x3d7)+_0x29288f[_0x29187d(0x288)]+'\x0a';_0x29288f[_0x29187d(0x531)]&&(_0x1e7330+=_0x29187d(0x4ad)+_0x29288f[_0x29187d(0x531)]+';\x0a'),_0x29288f[_0x29187d(0x572)]&&(_0x1e7330+=_0x29187d(0x3d1)+_0x29288f['email']+'\x0a'),_0x29288f[_0x29187d(0x624)]&&(_0x1e7330+=_0x29187d(0x61b)+_0x29288f[_0x29187d(0x624)]+'\x0a');let _0x4b80ed='',_0x512746=0x1;if(_0x29288f[_0x29187d(0x613)]){let _0x1f177b=_0x29288f['phoneNumber'][_0x29187d(0x1e9)]('|');for(let _0xd3d7c6 of _0x1f177b){let _0x42b24e=await this['whatsappNumber']({'numbers':[_0xd3d7c6]}),_0x492a51=(_0x42b24e[_0x29187d(0x779)]>0x0?_0x42b24e[0x0]['jid']:this[_0x29187d(0x704)](_0xd3d7c6))['replace'](_0x29187d(0x49f),'');_0x4b80ed+=_0x29187d(0x445)+_0x512746+_0x29187d(0x669)+_0x492a51+':'+_0xd3d7c6+_0x29187d(0x690)+_0x512746+'.X-ABLabel:Celular\x0a',_0x512746++;}}return _0x1e7330+=_0x4b80ed+_0x29187d(0x5b4),_0x1e7330;};return _0x5159c5[_0x31712a(0x5a8)][_0x31712a(0x779)]===0x1?_0x505479[_0x31712a(0x5a8)]={'displayName':_0x5159c5[_0x31712a(0x5a8)][0x0]['fullName'],'vcard':await _0x4f3425(_0x5159c5[_0x31712a(0x5a8)][0x0])}:_0x505479[_0x31712a(0x83f)]={'displayName':_0x5159c5[_0x31712a(0x5a8)][_0x31712a(0x779)]+'\x20contacts','contacts':await Promise['all'](_0x5159c5['contactMessage'][_0x31712a(0x1ec)](async _0x5ba700=>({'displayName':_0x5ba700[_0x31712a(0x288)],'vcard':await _0x4f3425(_0x5ba700)})))},await this[_0x31712a(0x21f)](_0x5159c5[_0x31712a(0x305)],{..._0x505479},_0x5159c5?.['options']);}async[a0_0x7625da(0x4c0)](_0x53cff6){const _0x3d8e51=a0_0x7625da;return await this['sendMessageWithTyping'](_0x53cff6[_0x3d8e51(0x4c0)][_0x3d8e51(0x84e)][_0x3d8e51(0x6cd)],{'reactionMessage':{'key':_0x53cff6[_0x3d8e51(0x4c0)][_0x3d8e51(0x84e)],'text':_0x53cff6[_0x3d8e51(0x4c0)][_0x3d8e51(0x476)]}});}async[a0_0x7625da(0x83a)](_0x5512e5){const _0x38c121=a0_0x7625da;let _0x2924e5=[];for await(let _0x26aa56 of _0x5512e5[_0x38c121(0x27d)]){let _0x544e41=this[_0x38c121(0x704)](_0x26aa56),_0x380ec9=!0x1;try{if((0x0,f['isJidGroup'])(_0x544e41)){let _0x599565=(await this[_0x38c121(0x3f9)]['chat'][_0x38c121(0x715)]({'where':{'_id':_0x544e41}},this[_0x38c121(0x4e6)][_0x38c121(0x58c)]))[_0x38c121(0x7a1)];_0x380ec9=!!_0x599565?.['id']&&!!_0x599565?.[_0x38c121(0x7ee)],_0x2924e5[_0x38c121(0x566)](new ye(_0x599565['id'],_0x380ec9,_0x599565?.[_0x38c121(0x55a)]));}else{let _0x521b90=(await this[_0x38c121(0x4d8)][_0x38c121(0x4be)](_0x544e41))[0x0];_0x380ec9=_0x521b90['exists'],_0x2924e5[_0x38c121(0x566)](new ye(_0x521b90[_0x38c121(0x2b9)],_0x380ec9));}}catch{(0x0,f[_0x38c121(0x37b)])(_0x544e41)||await this['deleteImportedChat'](_0x544e41,_0x380ec9),_0x2924e5['push'](new ye(_0x26aa56,!0x1));}}return _0x2924e5;}async[a0_0x7625da(0x58a)](_0x3d04f2,_0x4b059d){const _0xa9249=a0_0x7625da;try{await this[_0xa9249(0x3f9)][_0xa9249(0x5bb)][_0xa9249(0x715)]({'where':{'_id':_0x3d04f2,'imported':!0x0}},this[_0xa9249(0x4e6)][_0xa9249(0x58c)])&&(_0x4b059d||(await this[_0xa9249(0x3f9)][_0xa9249(0x5bb)]['deleteChat'](_0x3d04f2,this[_0xa9249(0x4e6)][_0xa9249(0x58c)]),this['logger'][_0xa9249(0x573)](_0xa9249(0x2e2)+_0x3d04f2+'\x20foi\x20removido\x20por\x20não\x20ser\x20válido.')));}catch(_0x34481e){let _0x3fc481=_0xa9249(0x5df),_0x15eee8=_0x34481e instanceof Error?_0x34481e[_0xa9249(0x1ff)]:typeof _0x34481e==_0xa9249(0x559)?JSON[_0xa9249(0x511)](_0x34481e):_0x34481e,_0x4a6a9e=_0x3fc481+':\x20'+_0x15eee8;this[_0xa9249(0x58e)][_0xa9249(0x3a8)](this[_0xa9249(0x1dc)]+'\x20('+this['instance'][_0xa9249(0x58c)]+_0xa9249(0x510)+_0x4a6a9e);}}async[a0_0x7625da(0x785)](_0x5986e5){const _0x274762=a0_0x7625da;try{let _0x1067aa=_0x5986e5[_0x274762(0x586)][_0x274762(0x3ca)](_0x2ace35=>(0x0,f[_0x274762(0x37b)])(_0x2ace35['remoteJid'])||(0x0,f['isJidUser'])(_0x2ace35[_0x274762(0x6cd)]))[_0x274762(0x1ec)](_0x4449b5=>({'remoteJid':_0x4449b5['remoteJid'],'fromMe':_0x4449b5['fromMe'],'id':_0x4449b5['id']}));await this[_0x274762(0x4d8)][_0x274762(0x586)](_0x1067aa);let _0xc99641=_0x1067aa[_0x274762(0x1ec)](_0x240dbc=>this[_0x274762(0x203)](_0x240dbc,{'status':'READ','owner':this[_0x274762(0x4e6)][_0x274762(0x58c)]})),_0x3de4a5=_0x1067aa[_0x274762(0x1ec)](_0x27d286=>this['repository'][_0x274762(0x5bb)][_0x274762(0x819)]({'where':{'_id':_0x27d286[_0x274762(0x6cd)]}},{'unreadcount':0x0},this[_0x274762(0x4e6)]['wuid'])),[_0x4a239f,_0x1300c3]=await Promise['all']([Promise[_0x274762(0x315)](_0xc99641),Promise[_0x274762(0x315)](_0x3de4a5)]);return _0x1300c3['filter'](_0x2ef291=>_0x2ef291!==null)['forEach'](_0xfa2389=>{const _0x7ce82d=_0x274762;F(this[_0x7ce82d(0x1dc)],'chats',{'chat':_0xfa2389});}),{'message':_0x274762(0x82d),'read':_0x274762(0x371)};}catch(_0x57b029){let _0x444ca7='Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida',_0x4d3e0c=_0x57b029 instanceof Error?_0x57b029[_0x274762(0x1ff)]:typeof _0x57b029==_0x274762(0x559)?JSON['stringify'](_0x57b029):_0x57b029,_0x543a0c=_0x444ca7+':\x20'+_0x4d3e0c;throw this[_0x274762(0x58e)]['error'](this['instanceName']+'\x20('+this[_0x274762(0x4e6)][_0x274762(0x58c)]+_0x274762(0x510)+_0x543a0c),new I(_0x543a0c);}}async[a0_0x7625da(0x334)](_0x44a6c3){const _0xc552f2=a0_0x7625da;let _0x45971e={'where':{'key':{'remoteJid':_0x44a6c3}},'limit':0x1},_0x2281d1=await this[_0xc552f2(0x7e2)](_0x45971e);return _0x2281d1||(console[_0xc552f2(0x3a8)](_0xc552f2(0x8c0),_0x44a6c3),null);}async[a0_0x7625da(0x489)](_0x4b1d93){const _0x346e8d=a0_0x7625da;this[_0x346e8d(0x58e)]['verbose'](_0x346e8d(0x8e7));try{let _0x4c4c40=_0x4b1d93[_0x346e8d(0x64d)],_0x4b57a2=_0x4b1d93[_0x346e8d(0x5bb)];if(!_0x4c4c40&&_0x4b57a2?_0x4c4c40=await this['getLastMessage'](_0x4b57a2):(_0x4c4c40=_0x4b1d93['lastMessage'],_0x4c4c40['messageTimestamp']=_0x4c4c40?.[_0x346e8d(0x5c4)]??Date['now'](),_0x4b57a2=_0x4c4c40?.['key']?.[_0x346e8d(0x6cd)]),!_0x4c4c40||Object[_0x346e8d(0x4f8)](_0x4c4c40)[_0x346e8d(0x779)]===0x0)throw new U(_0x346e8d(0x895));this[_0x346e8d(0x58e)][_0x346e8d(0x62f)]('Archiving\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x4b57a2);try{await this['client'][_0x346e8d(0x212)]({'archive':_0x4b1d93[_0x346e8d(0x3a9)],'lastMessages':[_0x4c4c40]},this['createJid'](_0x4b57a2));}catch(_0x18ac1){let _0x171db0='Error\x20in\x20chatModify\x20for\x20number\x20'+_0x4b57a2,_0x20ac05=_0x18ac1 instanceof Error?_0x18ac1[_0x346e8d(0x1ff)]:typeof _0x18ac1=='object'?JSON[_0x346e8d(0x511)](_0x18ac1):_0x18ac1,_0x450534=_0x171db0+':\x20'+_0x20ac05;this[_0x346e8d(0x58e)][_0x346e8d(0x3a8)](this[_0x346e8d(0x1dc)]+'\x20('+this[_0x346e8d(0x4e6)][_0x346e8d(0x58c)]+'):\x20'+_0x450534);}this[_0x346e8d(0x58e)]['verbose'](_0x346e8d(0x85a)+_0x4b57a2);let _0x5a99d5=await this[_0x346e8d(0x3f9)][_0x346e8d(0x5bb)][_0x346e8d(0x819)]({'where':{'_id':_0x4c4c40?.[_0x346e8d(0x84e)]?.['remoteJid']}},{'archived':_0x4b1d93[_0x346e8d(0x3a9)]},this[_0x346e8d(0x4e6)][_0x346e8d(0x58c)]);return _0x5a99d5?(this['logger'][_0x346e8d(0x62f)](_0x346e8d(0x562)+JSON[_0x346e8d(0x511)](_0x5a99d5)),F(this[_0x346e8d(0x1dc)],_0x346e8d(0x5a1),{'chat':_0x5a99d5})):this[_0x346e8d(0x58e)]['error'](_0x346e8d(0x4fe)+_0x4b57a2),{'chatId':_0x4b57a2,'archived':_0x4b1d93[_0x346e8d(0x3a9)]};}catch(_0x44c272){let _0x5dbdb3=_0x346e8d(0x634),_0x3c4d78=_0x44c272 instanceof Error?_0x44c272[_0x346e8d(0x1ff)]:typeof _0x44c272==_0x346e8d(0x559)?JSON[_0x346e8d(0x511)](_0x44c272):_0x44c272,_0x4f8a2a=_0x5dbdb3+':\x20'+_0x3c4d78;throw this[_0x346e8d(0x58e)][_0x346e8d(0x3a8)](this[_0x346e8d(0x1dc)]+'\x20('+this[_0x346e8d(0x4e6)][_0x346e8d(0x58c)]+_0x346e8d(0x510)+_0x4f8a2a),new I(_0x4f8a2a);}}async[a0_0x7625da(0x6a4)](_0x34893f){const _0x5eecca=a0_0x7625da;this['logger'][_0x5eecca(0x62f)]('Delete\x20chat');try{let _0x4a7788=await this[_0x5eecca(0x334)](_0x34893f);if(!_0x4a7788||Object['keys'](_0x4a7788)['length']===0x0)throw new U(_0x5eecca(0x895));let _0x3b1184=_0x4a7788[0x0];this[_0x5eecca(0x58e)][_0x5eecca(0x62f)]('Delete\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x34893f);try{await this['client']['chatModify']({'delete':!0x0,'lastMessages':[{'key':_0x3b1184[_0x5eecca(0x84e)],'messageTimestamp':_0x3b1184['messageTimestamp']}]},this[_0x5eecca(0x704)](_0x34893f));}catch(_0x3bc53c){this[_0x5eecca(0x58e)][_0x5eecca(0x3a8)](_0x5eecca(0x473)+_0x34893f+':\x20'+_0x3bc53c[_0x5eecca(0x455)]());}this[_0x5eecca(0x58e)]['verbose']('Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x34893f);return;}catch(_0x1d04c7){throw this[_0x5eecca(0x58e)][_0x5eecca(0x3a8)]('Error\x20occurred\x20while\x20archiving\x20chat:\x20'+_0x1d04c7[_0x5eecca(0x455)]()),new I({'archived':!0x1,'message':[_0x5eecca(0x600),_0x1d04c7[_0x5eecca(0x455)]()]});}}async[a0_0x7625da(0x764)](_0x3a6908){const _0x400f2c=a0_0x7625da;try{let _0x466c4b=await this[_0x400f2c(0x4d8)]['sendMessage'](_0x3a6908['remoteJid'],{'delete':_0x3a6908});try{let _0x163439=await this[_0x400f2c(0x203)](_0x3a6908,{'status':_0x400f2c(0x2a1),'owner':this[_0x400f2c(0x4e6)][_0x400f2c(0x58c)]});this[_0x400f2c(0x58e)][_0x400f2c(0x62f)](this[_0x400f2c(0x1dc)]+'\x20('+this[_0x400f2c(0x4e6)][_0x400f2c(0x58c)]+_0x400f2c(0x66b)+_0x163439);}catch(_0x1fbe5e){console[_0x400f2c(0x3a8)]('Error\x20updating\x20message\x20status:',_0x1fbe5e);}return _0x466c4b;}catch(_0x5e95ab){throw new I(_0x400f2c(0x265),_0x5e95ab?.[_0x400f2c(0x455)]());}}async['getBase64FromMediaMessage'](_0x1cfb61){const _0x1fed9c=a0_0x7625da;try{let _0x36ab66=_0x1cfb61?.['message']?_0x1cfb61:await this['getMessage'](_0x1cfb61[_0x1fed9c(0x84e)],!0x0);for(let _0x5601a5 of wa)_0x36ab66[_0x1fed9c(0x1ff)][_0x5601a5]&&(_0x36ab66[_0x1fed9c(0x1ff)]=_0x36ab66[_0x1fed9c(0x1ff)][_0x5601a5][_0x1fed9c(0x1ff)]);let _0x507946,_0x5c88c0;for(let _0x3f32dd of fa)if(_0x507946=_0x36ab66[_0x1fed9c(0x1ff)][_0x3f32dd],_0x507946){_0x5c88c0=_0x3f32dd;break;}if(!_0x507946)throw _0x1fed9c(0x293);typeof _0x507946[_0x1fed9c(0x2ef)]==_0x1fed9c(0x559)&&(_0x36ab66[_0x1fed9c(0x1ff)]=JSON[_0x1fed9c(0x4ef)](JSON[_0x1fed9c(0x511)](_0x36ab66['message'])));let _0x4eabab=await(0x0,f['downloadMediaMessage'])({'key':_0x36ab66?.[_0x1fed9c(0x84e)],'message':_0x36ab66?.['message']},_0x1fed9c(0x3e2),{},{'logger':(0x0,kt[_0x1fed9c(0x716)])({'level':_0x1fed9c(0x7a8)}),'reuploadRequest':this['client'][_0x1fed9c(0x456)]});if(!(_0x4eabab instanceof Buffer))throw new Error(_0x1fed9c(0x76d));let _0xcbc418=this[_0x1fed9c(0x724)][_0x1fed9c(0x7c4)](_0x1fed9c(0x3c8)),_0x480f83,_0x5d6c11;if(_0x507946[_0x1fed9c(0x7e9)])_0x480f83=_0x507946['fileName'];else{let _0x520e61=_0x507946['mimetype']?.[_0x1fed9c(0x257)](/\/(\w+)/),_0x5a0a21=_0x520e61?_0x520e61[0x1]:null;if(!_0x5a0a21)throw new Error(_0x1fed9c(0x505));_0x480f83=(0x0,Me['v4'])()+'.'+_0x5a0a21;}_0x5c88c0===_0x1fed9c(0x3e7)?_0x5d6c11=_0x1fed9c(0x732)+await this[_0x1fed9c(0x8bc)](_0x4eabab[_0x1fed9c(0x455)](_0x1fed9c(0x3db))):(await this['saveMediaToFile'](_0x4eabab,_0x480f83),_0x5d6c11='/media/'+_0x480f83);let _0x1a0de5=this[_0x1fed9c(0x724)][_0x1fed9c(0x7c4)](_0x1fed9c(0x8b4))[_0x1fed9c(0x4b7)];if(!_0x1a0de5){let _0x9fc270=this[_0x1fed9c(0x724)][_0x1fed9c(0x7c4)](_0x1fed9c(0x8aa));_0x1a0de5=_0x1fed9c(0x289)+(_0x9fc270&&_0x9fc270['FULLCHAIN'][_0x1fed9c(0x1e9)]('/')[0x4]);}_0x5d6c11=''+_0x1a0de5+_0x5d6c11;let _0xa4a7bc=0xc*0x3c*0x3c*0x3e8,_0x3535f0={'where':{'_id':_0x36ab66[_0x1fed9c(0x84e)]['id']}},_0x23ba2a={'message_normalized.fileUrl':_0x5d6c11,'message_normalized.expires_fileUrl':Date[_0x1fed9c(0x7cd)]()+_0xa4a7bc};try{let _0x1d859d=await this[_0x1fed9c(0x3f9)][_0x1fed9c(0x1ff)][_0x1fed9c(0x4b2)](_0x3535f0,_0x23ba2a,this['instance']['wuid']);_0x1d859d&&F(this[_0x1fed9c(0x1dc)],_0x1fed9c(0x622),{'message':_0x1d859d});}catch(_0x262329){let _0x43e7c8=_0x1fed9c(0x2ea),_0x1fb3a3=_0x262329 instanceof Error?_0x262329[_0x1fed9c(0x1ff)]:typeof _0x262329==_0x1fed9c(0x559)?JSON[_0x1fed9c(0x511)](_0x262329):_0x262329,_0x337a21=_0x43e7c8+':\x20'+_0x1fb3a3;this['logger'][_0x1fed9c(0x3a8)](this['instanceName']+'\x20('+this[_0x1fed9c(0x4e6)][_0x1fed9c(0x58c)]+'):\x20'+_0x337a21);}return{'mediaType':_0x5c88c0,'fileName':_0x507946[_0x1fed9c(0x7e9)],'caption':_0x507946[_0x1fed9c(0x47e)],'size':{'fileLength':_0x507946[_0x1fed9c(0x733)],'height':_0x507946[_0x1fed9c(0x615)],'width':_0x507946['width']},'mimetype':_0x507946[_0x1fed9c(0x8a9)],'base64':_0x4eabab[_0x1fed9c(0x455)]('base64'),'fileUrl':_0x5d6c11,'expires_fileUrl':Date[_0x1fed9c(0x7cd)]()+_0xa4a7bc};}catch(_0x163a1e){let _0x7f45f1=_0x1fed9c(0x326),_0x183a7c=_0x163a1e instanceof Error?_0x163a1e[_0x1fed9c(0x1ff)]:typeof _0x163a1e=='object'?JSON[_0x1fed9c(0x511)](_0x163a1e):_0x163a1e,_0x566931=_0x7f45f1+':\x20'+_0x183a7c;throw this[_0x1fed9c(0x58e)]['error'](this[_0x1fed9c(0x1dc)]+'\x20('+this[_0x1fed9c(0x4e6)][_0x1fed9c(0x58c)]+_0x1fed9c(0x510)+_0x566931),new m(_0x566931);}}async['saveMediaToFile'](_0x3e8589,_0x5e3f05){const _0x360155=a0_0x7625da;let _0x333d99=L[_0x360155(0x716)]['join'](__dirname,_0x360155(0x2ff));k[_0x360155(0x36b)](_0x333d99)||k[_0x360155(0x75b)](_0x333d99,{'recursive':!0x0});let _0x3a151d=L[_0x360155(0x716)][_0x360155(0x867)](_0x333d99,_0x5e3f05);return new Promise((_0x3f722e,_0x1551b8)=>{const _0x230aae=_0x360155;k[_0x230aae(0x89b)](_0x3a151d,_0x3e8589,_0x66f613=>{const _0x4bc101=_0x230aae;_0x66f613?(this[_0x4bc101(0x58e)][_0x4bc101(0x3a8)](_0x4bc101(0x744)+(_0x66f613 instanceof Error?_0x66f613[_0x4bc101(0x1ff)]:JSON[_0x4bc101(0x511)](_0x66f613,null,0x2))),_0x1551b8(_0x66f613)):(this[_0x4bc101(0x58e)][_0x4bc101(0x773)](_0x4bc101(0x261)+_0x3a151d),_0x3f722e(_0x3a151d));});});}async[a0_0x7625da(0x86e)](_0x8f35bb){const _0x3839a4=a0_0x7625da;return await this['repository'][_0x3839a4(0x5de)][_0x3839a4(0x48d)](_0x8f35bb,this[_0x3839a4(0x4e6)]['wuid']);}async['fetchLabels'](){const _0x4baa7f=a0_0x7625da;return await this[_0x4baa7f(0x3f9)][_0x4baa7f(0x402)][_0x4baa7f(0x48d)]({'where':{}},this['instance'][_0x4baa7f(0x58c)]);}async[a0_0x7625da(0x7e2)](_0x1a0d59){const _0x403a9b=a0_0x7625da;return await this[_0x403a9b(0x3f9)][_0x403a9b(0x1ff)][_0x403a9b(0x48d)](_0x1a0d59,this['instance'][_0x403a9b(0x58c)]);}async['fetchChats'](){const _0x5bef76=a0_0x7625da;return this['repository'][_0x5bef76(0x5bb)][_0x5bef76(0x2c1)](this[_0x5bef76(0x4e6)][_0x5bef76(0x58c)]),this['repository']['chat'][_0x5bef76(0x7dd)](this[_0x5bef76(0x4e6)][_0x5bef76(0x58c)]),this[_0x5bef76(0x3f9)][_0x5bef76(0x5bb)][_0x5bef76(0x40b)](this[_0x5bef76(0x4e6)][_0x5bef76(0x58c)]),this[_0x5bef76(0x3f9)][_0x5bef76(0x5bb)]['updateMissingCustomFields'](this[_0x5bef76(0x4e6)]['wuid']),await this[_0x5bef76(0x3f9)][_0x5bef76(0x5bb)][_0x5bef76(0x48d)]({'where':{}},this['instance'][_0x5bef76(0x58c)]);}async['importChatsAntigo'](_0x5a3c38){const _0x23a3e9=a0_0x7625da;try{if(!Array[_0x23a3e9(0x87a)](_0x5a3c38)||_0x5a3c38[_0x23a3e9(0x779)]===0x0)throw new Error(_0x23a3e9(0x7ac));let _0x14384c=[],_0x4620d1=[];for(let _0x1fd3cd of _0x5a3c38){if(_0x1fd3cd[_0x23a3e9(0x7ce)])_0x1fd3cd[_0x23a3e9(0x7ce)]=this[_0x23a3e9(0x704)](_0x1fd3cd[_0x23a3e9(0x7ce)]);else continue;await this['repository'][_0x23a3e9(0x5bb)][_0x23a3e9(0x715)]({'where':{'_id':_0x1fd3cd[_0x23a3e9(0x7ce)]}},this[_0x23a3e9(0x4e6)][_0x23a3e9(0x58c)])?_0x4620d1['push']({'_id':_0x1fd3cd[_0x23a3e9(0x7ce)],'leadInfo':_0x1fd3cd['leadInfo'],'owner':this[_0x23a3e9(0x4e6)][_0x23a3e9(0x58c)]}):_0x14384c[_0x23a3e9(0x566)]({'_id':_0x1fd3cd[_0x23a3e9(0x7ce)],'owner':this[_0x23a3e9(0x4e6)][_0x23a3e9(0x58c)],'leadInfo':_0x1fd3cd[_0x23a3e9(0x24e)],'imported':!0x0});}return _0x4620d1[_0x23a3e9(0x779)]>0x0&&await this['repository'][_0x23a3e9(0x5bb)][_0x23a3e9(0x829)](_0x4620d1[_0x23a3e9(0x1ec)](_0xf760e1=>({'query':{'where':{'_id':_0xf760e1[_0x23a3e9(0x7ce)],'owner':this['instance']['wuid']}},'update':_0xf760e1}))),_0x14384c[_0x23a3e9(0x779)]>0x0&&await this['repository'][_0x23a3e9(0x5bb)][_0x23a3e9(0x62a)](_0x14384c,this[_0x23a3e9(0x4e6)]['wuid']),{'updated':_0x4620d1[_0x23a3e9(0x779)],'inserted':_0x14384c['length']};}catch(_0x51bbc0){let _0x19736e=_0x23a3e9(0x2b8),_0xaa435b=_0x51bbc0 instanceof Error?_0x51bbc0[_0x23a3e9(0x1ff)]:typeof _0x51bbc0==_0x23a3e9(0x559)?JSON['stringify'](_0x51bbc0):_0x51bbc0,_0x23556b=_0x19736e+':\x20'+_0xaa435b;throw this[_0x23a3e9(0x58e)][_0x23a3e9(0x3a8)](this[_0x23a3e9(0x1dc)]+'\x20('+this[_0x23a3e9(0x4e6)]['wuid']+'):\x20'+_0x23556b),new m(_0x23556b);}}async['importChats'](_0x5670da){const _0x45c14c=a0_0x7625da;try{if(!Array[_0x45c14c(0x87a)](_0x5670da)||_0x5670da['length']===0x0)throw new Error(_0x45c14c(0x7ac));let _0x54957b=0x64,_0x244a77=0x0;for(let _0x10f56c=0x0;_0x10f56c<_0x5670da[_0x45c14c(0x779)];_0x10f56c+=_0x54957b){let _0x5c8e5e=_0x5670da[_0x45c14c(0x6b9)](_0x10f56c,_0x10f56c+_0x54957b),{updated:_0x9cfcd5}=await this['importChatsBatch'](_0x5c8e5e);_0x244a77+=_0x9cfcd5;}return{'updated':_0x244a77};}catch(_0x68cb9e){let _0x4f77c1=_0x45c14c(0x2b8),_0x2bd94c=_0x68cb9e instanceof Error?_0x68cb9e['message']:typeof _0x68cb9e==_0x45c14c(0x559)?JSON['stringify'](_0x68cb9e):_0x68cb9e,_0x5170cc=_0x4f77c1+':\x20'+_0x2bd94c;throw this['logger'][_0x45c14c(0x3a8)](this[_0x45c14c(0x1dc)]+'\x20('+this[_0x45c14c(0x4e6)][_0x45c14c(0x58c)]+'):\x20'+_0x5170cc),new m(_0x5170cc);}}async[a0_0x7625da(0x837)](_0x5640c7){const _0x292954=a0_0x7625da;try{let _0x5c646e=await this[_0x292954(0x3f9)]['label'][_0x292954(0x48d)]({'where':{}},this[_0x292954(0x4e6)][_0x292954(0x58c)]),_0x1a6305=new Set(_0x5c646e[_0x292954(0x1ec)](_0x195aef=>_0x195aef['_id'])),_0x13f565=[],_0x4ead67=[];for(let _0x5ae1aa of _0x5640c7){if(!_0x5ae1aa[_0x292954(0x7ce)])continue;_0x5ae1aa[_0x292954(0x7ce)]=this['createJid'](_0x5ae1aa[_0x292954(0x7ce)]);let _0xf3cec4=await this[_0x292954(0x3f9)][_0x292954(0x5bb)]['findOne']({'where':{'_id':_0x5ae1aa[_0x292954(0x7ce)]}},this[_0x292954(0x4e6)][_0x292954(0x58c)]),_0x36cedc={};if(Object['entries'](_0x5ae1aa[_0x292954(0x24e)])[_0x292954(0x886)](([_0x1312f9,_0x300db1])=>{const _0x5c925f=_0x292954;_0x36cedc[_0x5c925f(0x7d0)+_0x1312f9]=_0x300db1;}),_0xf3cec4&&!_0xf3cec4[_0x292954(0x416)]){let _0x170398=(_0x5ae1aa[_0x292954(0x24e)][_0x292954(0x7fb)]||[])[_0x292954(0x3ca)](_0x848592=>_0x1a6305[_0x292954(0x78f)](_0x848592)),_0xde5149=new Set(_0xf3cec4[_0x292954(0x24e)]['etiquetas']||[]),_0xb21d2b=_0x170398[_0x292954(0x3ca)](_0x5e9c11=>!_0xde5149[_0x292954(0x78f)](_0x5e9c11)),_0x65ac07=[..._0xde5149][_0x292954(0x3ca)](_0x1f8423=>!_0x170398['includes'](_0x1f8423));_0x4ead67[_0x292954(0x566)](..._0xb21d2b[_0x292954(0x1ec)](_0x21c317=>this[_0x292954(0x726)](_0x21c317,_0x5ae1aa[_0x292954(0x7ce)]))),_0x4ead67[_0x292954(0x566)](..._0x65ac07[_0x292954(0x1ec)](_0x2b1bac=>this[_0x292954(0x858)](_0x2b1bac,_0x5ae1aa[_0x292954(0x7ce)]))),_0x5ae1aa[_0x292954(0x24e)][_0x292954(0x7fb)]=_0x170398,_0x13f565['push']({'query':{'where':{'_id':_0x5ae1aa['_id'],'owner':this['instance'][_0x292954(0x58c)]}},'update':_0x36cedc});}else _0x36cedc['imported']=!0x0,_0x13f565[_0x292954(0x566)]({'query':{'where':{'_id':_0x5ae1aa['_id'],'owner':this['instance'][_0x292954(0x58c)]}},'update':_0x36cedc});}let _0x5605ba=await this[_0x292954(0x3f9)][_0x292954(0x5bb)][_0x292954(0x829)](_0x13f565);return await Promise[_0x292954(0x315)](_0x4ead67),{'updated':_0x5605ba};}catch(_0x3702b7){let _0x1e9676=_0x292954(0x2b8),_0xe058e2=_0x3702b7 instanceof Error?_0x3702b7[_0x292954(0x1ff)]:typeof _0x3702b7==_0x292954(0x559)?JSON[_0x292954(0x511)](_0x3702b7):_0x3702b7,_0x2ae1b9=_0x1e9676+':\x20'+_0xe058e2;throw this[_0x292954(0x58e)][_0x292954(0x3a8)](this['instanceName']+'\x20('+this[_0x292954(0x4e6)]['wuid']+'):\x20'+_0x2ae1b9),new m(_0x2ae1b9);}}async[a0_0x7625da(0x723)](){const _0x59abf0=a0_0x7625da;return await this[_0x59abf0(0x4d8)][_0x59abf0(0x723)]();}async[a0_0x7625da(0x80d)](_0xad1e38){const _0x59a710=a0_0x7625da;try{return await this['client'][_0x59a710(0x230)](_0xad1e38[_0x59a710(0x4ca)][_0x59a710(0x644)]),await this[_0x59a710(0x4d8)][_0x59a710(0x8b2)](_0xad1e38['privacySettings']['profile']),await this[_0x59a710(0x4d8)][_0x59a710(0x5f5)](_0xad1e38['privacySettings']['status']),await this['client']['updateOnlinePrivacy'](_0xad1e38['privacySettings'][_0x59a710(0x6ed)]),await this[_0x59a710(0x4d8)][_0x59a710(0x64f)](_0xad1e38[_0x59a710(0x4ca)][_0x59a710(0x488)]),await this[_0x59a710(0x4d8)][_0x59a710(0x4f0)](_0xad1e38[_0x59a710(0x4ca)][_0x59a710(0x6db)]),this[_0x59a710(0x4d8)]?.['ws']?.[_0x59a710(0x83b)](),{'update':_0x59a710(0x371),'data':{'readreceipts':_0xad1e38[_0x59a710(0x4ca)][_0x59a710(0x644)],'profile':_0xad1e38['privacySettings'][_0x59a710(0x301)],'status':_0xad1e38[_0x59a710(0x4ca)][_0x59a710(0x464)],'online':_0xad1e38[_0x59a710(0x4ca)][_0x59a710(0x6ed)],'last':_0xad1e38[_0x59a710(0x4ca)][_0x59a710(0x488)],'groupadd':_0xad1e38[_0x59a710(0x4ca)]['groupadd']}};}catch(_0x33b391){let _0x404344=_0x59a710(0x2ec),_0x827b27=_0x33b391 instanceof Error?_0x33b391['message']:typeof _0x33b391==_0x59a710(0x559)?JSON[_0x59a710(0x511)](_0x33b391):_0x33b391,_0x4c98be=_0x404344+':\x20'+_0x827b27;throw this[_0x59a710(0x58e)][_0x59a710(0x3a8)](this['instanceName']+'\x20('+this[_0x59a710(0x4e6)][_0x59a710(0x58c)]+_0x59a710(0x510)+_0x4c98be),new m(_0x4c98be);}}async[a0_0x7625da(0x6ff)](_0x353f5e){const _0x1b5f4b=a0_0x7625da;let _0x2e5069=(_0x353f5e?this[_0x1b5f4b(0x704)](_0x353f5e):this[_0x1b5f4b(0x4d8)]?.[_0x1b5f4b(0x663)]?.['id'])[_0x1b5f4b(0x614)](/:\d{1,2}@/g,'@');this[_0x1b5f4b(0x58e)][_0x1b5f4b(0x62f)]('Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0x2e5069);let _0x4fb79a=await this[_0x1b5f4b(0x3f9)][_0x1b5f4b(0x5de)][_0x1b5f4b(0x715)]({'where':{'_id':_0x2e5069}},this[_0x1b5f4b(0x4e6)][_0x1b5f4b(0x58c)]),_0x4d10cb=_0x4fb79a?_0x4fb79a['pushName']:null;try{let _0x22e0f8=(await this['whatsappNumber']({'numbers':[_0x2e5069]}))?.['shift'](),_0x3e52cc=(await this[_0x1b5f4b(0x88d)](_0x2e5069,null,!0x1))[_0x1b5f4b(0x68d)][_0x1b5f4b(0x2bf)],_0x41605a=await this['getStatus'](_0x22e0f8?.[_0x1b5f4b(0x2b9)]),_0x4b6bbf=await this['fetchBusinessProfile'](_0x22e0f8?.[_0x1b5f4b(0x2b9)]),_0x2e1881=(await this[_0x1b5f4b(0x88d)](_0x2e5069,null,!0x1))[_0x1b5f4b(0x68d)][_0x1b5f4b(0x2f7)],_0x5c2c79=await this[_0x1b5f4b(0x3f9)][_0x1b5f4b(0x5bb)][_0x1b5f4b(0x715)]({'where':{'_id':_0x2e5069}},this['instance'][_0x1b5f4b(0x58c)]),_0x47d659={'imagechat':_0x3e52cc,'contactname':_0x4d10cb||null,'pushName':_0x2e1881,'status':_0x41605a?.[_0x1b5f4b(0x464)],'isBusiness':_0x4b6bbf[_0x1b5f4b(0x8b8)],'email':_0x4b6bbf?.[_0x1b5f4b(0x572)],'description':_0x4b6bbf?.[_0x1b5f4b(0x439)],'website':_0x4b6bbf?.['website']?.[_0x1b5f4b(0x278)](),'lastcache':Date[_0x1b5f4b(0x7cd)](),'imported':!_0x5c2c79},_0x33b5d9=await this[_0x1b5f4b(0x3f9)][_0x1b5f4b(0x5bb)][_0x1b5f4b(0x819)]({'where':{'_id':_0x2e5069}},_0x47d659,this[_0x1b5f4b(0x4e6)]['wuid']),_0x28c49a={'owner':this[_0x1b5f4b(0x4e6)]['wuid'],'_id':_0x2e5069,'profilePictureUrl':_0x3e52cc,'status':_0x41605a?.[_0x1b5f4b(0x464)]};return this[_0x1b5f4b(0x3f9)][_0x1b5f4b(0x5de)]['update']([_0x28c49a],this[_0x1b5f4b(0x4e6)][_0x1b5f4b(0x58c)]),_0x33b5d9&&F(this[_0x1b5f4b(0x1dc)],'chats',{'chat':_0x33b5d9}),{'wuid':_0x22e0f8?.[_0x1b5f4b(0x2b9)]||_0x2e5069,'name':_0x22e0f8?.[_0x1b5f4b(0x2f7)],'pushName':_0x2e1881,'numberExists':_0x22e0f8?.[_0x1b5f4b(0x1dd)],'picture':_0x3e52cc,'status':_0x41605a?.[_0x1b5f4b(0x464)],'isBusiness':_0x4b6bbf['isBusiness'],'email':_0x4b6bbf?.[_0x1b5f4b(0x572)],'description':_0x4b6bbf?.[_0x1b5f4b(0x439)],'website':_0x4b6bbf?.[_0x1b5f4b(0x47f)]?.[_0x1b5f4b(0x278)]()};}catch(_0x37922f){return this[_0x1b5f4b(0x58e)][_0x1b5f4b(0x3a8)](_0x1b5f4b(0x5b5)+(_0x37922f instanceof Error?_0x37922f[_0x1b5f4b(0x1ff)]:JSON[_0x1b5f4b(0x511)](_0x37922f,null,0x2))),{};}}async[a0_0x7625da(0x3ed)](_0x2d6c0b){const _0x2a05af=a0_0x7625da;this['logger'][_0x2a05af(0x62f)](_0x2a05af(0x6fa));try{let _0x9a0c9e=_0x2d6c0b?this[_0x2a05af(0x704)](_0x2d6c0b):this[_0x2a05af(0x4e6)][_0x2a05af(0x58c)],_0x222ec4=await this[_0x2a05af(0x4d8)][_0x2a05af(0x2aa)](_0x9a0c9e);return this[_0x2a05af(0x58e)][_0x2a05af(0x62f)](_0x2a05af(0x8b5)),_0x222ec4?(this[_0x2a05af(0x58e)]['verbose'](_0x2a05af(0x894)),{'isBusiness':!0x0,..._0x222ec4}):{'isBusiness':!0x1,'message':_0x2a05af(0x3d9),...(await this[_0x2a05af(0x83a)]({'numbers':[_0x9a0c9e]}))?.[_0x2a05af(0x278)]()};}catch(_0x36df3e){let _0x413a64=_0x2a05af(0x430),_0x4877cd=_0x36df3e instanceof Error?_0x36df3e['message']:typeof _0x36df3e=='object'?JSON[_0x2a05af(0x511)](_0x36df3e):_0x36df3e,_0x321223=_0x413a64+':\x20'+_0x4877cd;throw this[_0x2a05af(0x58e)][_0x2a05af(0x3a8)](this[_0x2a05af(0x1dc)]+'\x20('+this[_0x2a05af(0x4e6)]['wuid']+_0x2a05af(0x510)+_0x321223),new I(_0x321223);}}async[a0_0x7625da(0x558)](_0x2e349a){const _0x368c70=a0_0x7625da;let _0x50d7ac=this['createJid'](_0x2e349a);try{return{'wuid':_0x50d7ac,'status':(await this[_0x368c70(0x4d8)][_0x368c70(0x397)](_0x50d7ac))?.['status']};}catch{return{'wuid':_0x50d7ac,'status':null};}}async['updateProfileName'](_0x5f933e){const _0x5a238f=a0_0x7625da;try{return await this[_0x5a238f(0x4d8)][_0x5a238f(0x2f8)](_0x5f933e),{'update':_0x5a238f(0x371)};}catch(_0x31eff7){let _0x125656=_0x5a238f(0x3d4),_0x1260ee=_0x31eff7 instanceof Error?_0x31eff7['message']:typeof _0x31eff7==_0x5a238f(0x559)?JSON[_0x5a238f(0x511)](_0x31eff7):_0x31eff7,_0x38432b=_0x125656+':\x20'+_0x1260ee;throw this[_0x5a238f(0x58e)]['error'](this[_0x5a238f(0x1dc)]+'\x20('+this[_0x5a238f(0x4e6)][_0x5a238f(0x58c)]+_0x5a238f(0x510)+_0x38432b),new I(_0x38432b);}}async[a0_0x7625da(0x6af)](_0x485977){const _0x5bbcfa=a0_0x7625da;try{return await this[_0x5bbcfa(0x4d8)][_0x5bbcfa(0x6af)](_0x485977),{'update':_0x5bbcfa(0x371)};}catch(_0x22fe96){let _0x5081a4='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus',_0x89adfa=_0x22fe96 instanceof Error?_0x22fe96[_0x5bbcfa(0x1ff)]:typeof _0x22fe96==_0x5bbcfa(0x559)?JSON[_0x5bbcfa(0x511)](_0x22fe96):_0x22fe96,_0x4b680d=_0x5081a4+':\x20'+_0x89adfa;throw this[_0x5bbcfa(0x58e)]['error'](this[_0x5bbcfa(0x1dc)]+'\x20('+this['instance'][_0x5bbcfa(0x58c)]+_0x5bbcfa(0x510)+_0x4b680d),new I(_0x4b680d);}}async[a0_0x7625da(0x811)](_0x2ae5b4){const _0x53edae=a0_0x7625da;try{let _0x466a58;if((0x0,P[_0x53edae(0x537)])(_0x2ae5b4)){let _0x57de12=new Date()[_0x53edae(0x783)](),_0x4c1f44=_0x2ae5b4+_0x53edae(0x7af)+_0x57de12;_0x466a58=(await Q['default']['get'](_0x4c1f44,{'responseType':_0x53edae(0x61a)}))[_0x53edae(0x39e)];}else{if((0x0,P[_0x53edae(0x31c)])(_0x2ae5b4))_0x466a58=Buffer[_0x53edae(0x861)](_0x2ae5b4,_0x53edae(0x3db));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x53edae(0x4d8)]['updateProfilePicture'](this[_0x53edae(0x4e6)][_0x53edae(0x58c)],_0x466a58),{'update':_0x53edae(0x371)};}catch(_0x3d8195){let _0x2ae080=_0x53edae(0x54a),_0xa2009c=_0x3d8195 instanceof Error?_0x3d8195[_0x53edae(0x1ff)]:typeof _0x3d8195=='object'?JSON['stringify'](_0x3d8195):_0x3d8195,_0x1aa221=_0x2ae080+':\x20'+_0xa2009c;throw this['logger']['error'](this[_0x53edae(0x1dc)]+'\x20('+this[_0x53edae(0x4e6)][_0x53edae(0x58c)]+_0x53edae(0x510)+_0x1aa221),new I(_0x1aa221);}}async[a0_0x7625da(0x8ef)](){const _0x353a38=a0_0x7625da;try{return await this['client'][_0x353a38(0x8ef)](this[_0x353a38(0x4e6)][_0x353a38(0x58c)]),{'update':_0x353a38(0x371)};}catch(_0x47f4fb){let _0xc62cdf=_0x353a38(0x4f1),_0x189173=_0x47f4fb instanceof Error?_0x47f4fb['message']:typeof _0x47f4fb==_0x353a38(0x559)?JSON[_0x353a38(0x511)](_0x47f4fb):_0x47f4fb,_0x5b80fe=_0xc62cdf+':\x20'+_0x189173;throw this[_0x353a38(0x58e)][_0x353a38(0x3a8)](this[_0x353a38(0x1dc)]+'\x20('+this[_0x353a38(0x4e6)][_0x353a38(0x58c)]+_0x353a38(0x510)+_0x5b80fe),new I(_0x5b80fe);}}async[a0_0x7625da(0x24b)](_0x8f2d4a){const _0x1036ab=a0_0x7625da;try{let _0x31105e=(await this[_0x1036ab(0x83a)]({'numbers':_0x8f2d4a['participants']}))[_0x1036ab(0x3ca)](_0x33d422=>_0x33d422[_0x1036ab(0x1dd)])[_0x1036ab(0x1ec)](_0x32e10a=>_0x32e10a[_0x1036ab(0x2b9)]),{id:_0x463d55}=await this[_0x1036ab(0x4d8)][_0x1036ab(0x698)](_0x8f2d4a['subject'],_0x31105e);_0x8f2d4a?.[_0x1036ab(0x439)]&&await this[_0x1036ab(0x4d8)][_0x1036ab(0x390)](_0x463d55,_0x8f2d4a[_0x1036ab(0x439)]);let _0x18b562=await this[_0x1036ab(0x4d8)][_0x1036ab(0x399)](_0x463d55);return _0x18b562[_0x1036ab(0x56c)]=[],{'metadata':_0x18b562};}catch(_0x1c671f){let _0x2ecfdb='Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup',_0x1a0646=_0x1c671f instanceof Error?_0x1c671f['message']:typeof _0x1c671f==_0x1036ab(0x559)?JSON[_0x1036ab(0x511)](_0x1c671f):_0x1c671f,_0x59a84c=_0x2ecfdb+':\x20'+_0x1a0646;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x1036ab(0x4e6)][_0x1036ab(0x58c)]+_0x1036ab(0x510)+_0x59a84c),new I(_0x59a84c);}}async[a0_0x7625da(0x2e5)](_0x2fb567){const _0x4c2d12=a0_0x7625da;try{if(_0x2fb567[_0x4c2d12(0x3b6)]===!0x0&&await this['client'][_0x4c2d12(0x51a)](_0x2fb567['groupJid'],_0x4c2d12(0x638)),_0x2fb567[_0x4c2d12(0x3b6)]===!0x1&&await this[_0x4c2d12(0x4d8)][_0x4c2d12(0x51a)](_0x2fb567[_0x4c2d12(0x650)],_0x4c2d12(0x584)),_0x2fb567[_0x4c2d12(0x826)]===!0x0&&await this[_0x4c2d12(0x4d8)][_0x4c2d12(0x51a)](_0x2fb567[_0x4c2d12(0x650)],'announcement'),_0x2fb567[_0x4c2d12(0x826)]===!0x1&&await this[_0x4c2d12(0x4d8)][_0x4c2d12(0x51a)](_0x2fb567[_0x4c2d12(0x650)],_0x4c2d12(0x1e3)),_0x2fb567[_0x4c2d12(0x1f4)]===!0x0&&await this[_0x4c2d12(0x4d8)][_0x4c2d12(0x542)](_0x2fb567[_0x4c2d12(0x650)],_0x4c2d12(0x552)),_0x2fb567[_0x4c2d12(0x1f4)]===!0x1&&await this[_0x4c2d12(0x4d8)]['groupMemberAddMode'](_0x2fb567[_0x4c2d12(0x650)],_0x4c2d12(0x6a5)),_0x2fb567['joinApprovalMode']===!0x0&&await this['client'][_0x4c2d12(0x2ab)](_0x2fb567[_0x4c2d12(0x650)],'on'),_0x2fb567[_0x4c2d12(0x2a9)]===!0x1&&await this[_0x4c2d12(0x4d8)][_0x4c2d12(0x2ab)](_0x2fb567[_0x4c2d12(0x650)],'off'),typeof _0x2fb567[_0x4c2d12(0x798)]<'u'&&_0x2fb567['expiration']!==null&&await this[_0x4c2d12(0x4d8)]['groupToggleEphemeral'](_0x2fb567[_0x4c2d12(0x650)],_0x2fb567[_0x4c2d12(0x798)]),_0x2fb567[_0x4c2d12(0x2f7)]&&await this[_0x4c2d12(0x4d8)][_0x4c2d12(0x487)](_0x2fb567[_0x4c2d12(0x650)],_0x2fb567[_0x4c2d12(0x2f7)]),_0x2fb567[_0x4c2d12(0x439)]&&await this['client'][_0x4c2d12(0x390)](_0x2fb567['groupJid'],_0x2fb567[_0x4c2d12(0x439)]),_0x2fb567[_0x4c2d12(0x5c6)]){let _0x335b85;if((0x0,P['isURL'])(_0x2fb567['image'])){let _0x25a881=new Date()[_0x4c2d12(0x783)](),_0x1be860=_0x2fb567[_0x4c2d12(0x5c6)]+_0x4c2d12(0x7af)+_0x25a881;_0x335b85=(await Q['default'][_0x4c2d12(0x7c4)](_0x1be860,{'responseType':_0x4c2d12(0x61a)}))['data'];}else{if((0x0,P[_0x4c2d12(0x31c)])(_0x2fb567[_0x4c2d12(0x5c6)]))_0x335b85=Buffer['from'](_0x2fb567[_0x4c2d12(0x5c6)],_0x4c2d12(0x3db));else throw new m(_0x4c2d12(0x54e));}await this[_0x4c2d12(0x4d8)][_0x4c2d12(0x811)](_0x2fb567[_0x4c2d12(0x650)],_0x335b85);}return await this[_0x4c2d12(0x892)]({'groupJid':_0x2fb567[_0x4c2d12(0x650)]});}catch(_0x1ae4f7){let _0x2be67a=_0x4c2d12(0x2f4),_0x59f375=_0x1ae4f7 instanceof Error?_0x1ae4f7[_0x4c2d12(0x1ff)]:typeof _0x1ae4f7==_0x4c2d12(0x559)?JSON['stringify'](_0x1ae4f7):_0x1ae4f7,_0x514fda=_0x2be67a+':\x20'+_0x59f375;throw this[_0x4c2d12(0x58e)][_0x4c2d12(0x3a8)](this[_0x4c2d12(0x1dc)]+'\x20('+this[_0x4c2d12(0x4e6)][_0x4c2d12(0x58c)]+'):\x20'+_0x514fda),new I(_0x514fda);}}async['updateGParticipant'](_0x22e498){const _0x31fb6b=a0_0x7625da;try{if(_0x22e498['action']===_0x31fb6b(0x79e)||_0x22e498[_0x31fb6b(0x3b7)]===_0x31fb6b(0x82b)){let _0x1d4f19=_0x22e498[_0x31fb6b(0x6b5)][_0x31fb6b(0x1ec)](_0x1b89c9=>this[_0x31fb6b(0x704)](_0x1b89c9));await this[_0x31fb6b(0x4d8)][_0x31fb6b(0x215)](_0x22e498['groupJid'],_0x1d4f19,_0x22e498[_0x31fb6b(0x3b7)]);}else{if(_0x22e498['action']===_0x31fb6b(0x7b7)){let _0x45328c=(await this[_0x31fb6b(0x83a)]({'numbers':_0x22e498['participants']}))['filter'](_0x7b0bd2=>_0x7b0bd2[_0x31fb6b(0x1dd)])['map'](_0xd0b4d2=>this[_0x31fb6b(0x704)](_0xd0b4d2[_0x31fb6b(0x2b9)]));if(_0x45328c['length']===0x0)throw new m(_0x31fb6b(0x209));await this[_0x31fb6b(0x4d8)][_0x31fb6b(0x621)](_0x22e498[_0x31fb6b(0x650)],_0x45328c,_0x31fb6b(0x7b7));}else{let _0x6a9dd8=_0x22e498[_0x31fb6b(0x6b5)][_0x31fb6b(0x1ec)](_0x570a8e=>this[_0x31fb6b(0x704)](_0x570a8e));await this[_0x31fb6b(0x4d8)][_0x31fb6b(0x621)](_0x22e498[_0x31fb6b(0x650)],_0x6a9dd8,_0x22e498[_0x31fb6b(0x3b7)]);}}return await this[_0x31fb6b(0x892)]({'groupJid':_0x22e498[_0x31fb6b(0x650)]});}catch(_0xfa5ba5){let _0x10e439=_0x31fb6b(0x3fd),_0xf3bffe=_0xfa5ba5 instanceof Error?_0xfa5ba5[_0x31fb6b(0x1ff)]:typeof _0xfa5ba5==_0x31fb6b(0x559)?JSON[_0x31fb6b(0x511)](_0xfa5ba5):_0xfa5ba5,_0x574c0c=_0x10e439+':\x20'+_0xf3bffe;throw this[_0x31fb6b(0x58e)]['error'](this[_0x31fb6b(0x1dc)]+'\x20('+this[_0x31fb6b(0x4e6)]['wuid']+_0x31fb6b(0x510)+_0x574c0c),new m(_0x574c0c);}}async[a0_0x7625da(0x807)](_0xaffced){const _0x12ad0a=a0_0x7625da;try{return await this[_0x12ad0a(0x4d8)]['groupGetInviteInfo'](_0xaffced[_0x12ad0a(0x551)]);}catch(_0x59ac13){let _0x30db02=_0x12ad0a(0x58d),_0x2461e4=_0x59ac13 instanceof Error?_0x59ac13[_0x12ad0a(0x1ff)]:typeof _0x59ac13=='object'?JSON['stringify'](_0x59ac13):_0x59ac13,_0x5ac01c=_0x30db02+':\x20'+_0x2461e4;throw this['logger'][_0x12ad0a(0x3a8)](this[_0x12ad0a(0x1dc)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x5ac01c),new m(_0x5ac01c);}}async['findGroup'](_0x5b3fb4,_0x228c37=a0_0x7625da(0x339)){const _0x1317da=a0_0x7625da;try{let _0x24bac7=await this['repository'][_0x1317da(0x5bb)]['findOne']({'where':{'_id':_0x5b3fb4[_0x1317da(0x650)]}},this[_0x1317da(0x4e6)][_0x1317da(0x58c)]),_0x3b6d51=_0x24bac7?_0x24bac7[_0x1317da(0x7a1)]:null,_0x1891cb=0x18*0x3c*0x3c*0x3e8;if(!_0x3b6d51||_0x3b6d51[_0x1317da(0x34d)]&&Date['now']()-_0x3b6d51[_0x1317da(0x34d)]>_0x1891cb){let _0x3b8c4e=await this[_0x1317da(0x4d8)]['groupMetadata'](_0x5b3fb4[_0x1317da(0x650)]);if(_0x3b8c4e[_0x1317da(0x457)]=_0x3b8c4e?.[_0x1317da(0x457)]&&_0x3b8c4e[_0x1317da(0x457)][_0x1317da(0x455)]()[_0x1317da(0x779)]<0xd?_0x3b8c4e?.[_0x1317da(0x457)]*0x3e8:_0x3b8c4e?.[_0x1317da(0x457)]||null,_0x3b8c4e[_0x1317da(0x39b)]=_0x3b8c4e?.[_0x1317da(0x39b)]&&_0x3b8c4e[_0x1317da(0x39b)][_0x1317da(0x455)]()['length']<0xd?_0x3b8c4e?.[_0x1317da(0x39b)]*0x3e8:_0x3b8c4e?.[_0x1317da(0x39b)]||null,_0x3b6d51={..._0x3b8c4e,'lastUpdate':Date[_0x1317da(0x7cd)]()},!_0x3b8c4e)return;}let _0x11f827=_0x3b6d51[_0x1317da(0x6b5)][_0x1317da(0x5e4)](_0x55d768=>_0x55d768['id']===this[_0x1317da(0x4e6)][_0x1317da(0x58c)]+_0x1317da(0x49f)&&_0x55d768[_0x1317da(0x5ee)]!=null);!_0x3b6d51[_0x1317da(0x551)]&&_0x11f827&&(_0x3b6d51[_0x1317da(0x551)]=(await this[_0x1317da(0x551)](_0x5b3fb4,!0x1))[_0x1317da(0x651)]);let _0x4ec18e=(!_0x3b6d51[_0x1317da(0x826)]||_0x11f827)&&(!_0x3b6d51[_0x1317da(0x823)]||_0x3b6d51[_0x1317da(0x823)]&&_0x3b6d51[_0x1317da(0x7b6)]&&_0x11f827);_0x3b6d51['isAdmin']=_0x11f827,_0x3b6d51[_0x1317da(0x7ee)]=_0x4ec18e;let _0x58b749=[];if(_0x11f827&&_0x3b6d51[_0x1317da(0x2a9)])try{_0x58b749=await this[_0x1317da(0x4d8)]['groupRequestParticipantsList'](_0x5b3fb4['groupJid']),_0x3b6d51[_0x1317da(0x630)]=Date[_0x1317da(0x7cd)]();}catch(_0x53c5a0){this[_0x1317da(0x58e)][_0x1317da(0x62f)](this[_0x1317da(0x1dc)]+'\x20('+this['instance'][_0x1317da(0x58c)]+'):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20'+_0x5b3fb4[_0x1317da(0x650)]+':\x20'+(_0x53c5a0 instanceof Error?_0x53c5a0[_0x1317da(0x1ff)]:JSON['stringify'](_0x53c5a0,null,0x2)));}try{_0x3b6d51[_0x1317da(0x5c6)]=(await this['findAndUpdateCacheContact'](_0x5b3fb4[_0x1317da(0x650)],null,!0x0))[_0x1317da(0x68d)][_0x1317da(0x2bf)];}catch(_0x34922d){this[_0x1317da(0x58e)][_0x1317da(0x62f)](this[_0x1317da(0x1dc)]+'\x20('+this[_0x1317da(0x4e6)][_0x1317da(0x58c)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x5b3fb4[_0x1317da(0x650)]+':\x20'+(_0x34922d instanceof Error?_0x34922d[_0x1317da(0x1ff)]:JSON[_0x1317da(0x511)](_0x34922d,null,0x2)));}let _0x18a03c=_0x3b6d51[_0x1317da(0x6b5)][_0x1317da(0x1ec)](_0x3ef9c9=>_0x3ef9c9['id']),_0x3740cf=_0x58b749[_0x1317da(0x1ec)](_0x358a21=>_0x358a21['jid']),_0x43ca48=await this[_0x1317da(0x3f9)]['cacheContact']['findManyByIds']([..._0x18a03c,..._0x3740cf]);_0x3b6d51[_0x1317da(0x6b5)]=_0x3b6d51['participants'][_0x1317da(0x1ec)](_0x4683d2=>{const _0x45b924=_0x1317da;let _0x46bef3=_0x43ca48[_0x45b924(0x48d)](_0xba48ba=>_0xba48ba['_id']===_0x4683d2['id']);return{'id':_0x4683d2['id'],'isAdmin':[_0x45b924(0x5ee),_0x45b924(0x7d6)][_0x45b924(0x80b)](_0x4683d2[_0x45b924(0x5ee)]),'admin':_0x4683d2[_0x45b924(0x5ee)],'pushName':_0x46bef3?.[_0x45b924(0x2f7)],'profilePictureUrl':_0x46bef3?.[_0x45b924(0x2bf)]};}),_0x3b6d51[_0x1317da(0x56c)]=_0x58b749[_0x1317da(0x1ec)](_0x302905=>{const _0xfcccf7=_0x1317da;let _0x516ccf=_0x43ca48[_0xfcccf7(0x48d)](_0x5e1d93=>_0x5e1d93['_id']===_0x302905[_0xfcccf7(0x2b9)]);return{'id':_0x302905['jid'],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x516ccf?.[_0xfcccf7(0x2f7)],'profilePictureUrl':_0x516ccf?.[_0xfcccf7(0x2bf)],'request_method':_0x302905[_0xfcccf7(0x1e6)],'request_time':_0x302905[_0xfcccf7(0x1fc)]};});let _0x20fdaf=await this[_0x1317da(0x3f9)][_0x1317da(0x5bb)][_0x1317da(0x819)]({'where':{'_id':_0x5b3fb4[_0x1317da(0x650)]}},{'imagechat':_0x3b6d51[_0x1317da(0x5c6)],'name':_0x3b6d51[_0x1317da(0x55a)],'lastcache':Date[_0x1317da(0x7cd)](),'groupdata':_0x3b6d51},this[_0x1317da(0x4e6)]['wuid']);return F(this['instanceName'],_0x1317da(0x5a1),{'chat':_0x20fdaf}),{'metadata':_0x3b6d51};}catch(_0x4b9445){if(_0x228c37===_0x1317da(0x61c))return;throw new U(_0x1317da(0x738),_0x4b9445[_0x1317da(0x1ff)][_0x1317da(0x455)]());}}async[a0_0x7625da(0x468)](){const _0x551be1=a0_0x7625da;try{let _0x3e59cc=[],_0x30a7bf=await this[_0x551be1(0x4d8)][_0x551be1(0x2d6)](),_0x1a9e01=Object[_0x551be1(0x746)](_0x30a7bf),_0x392d32=_0x1a9e01[_0x551be1(0x3ca)](_0x17aabd=>(0x0,f[_0x551be1(0x37b)])(_0x17aabd?.['id']))[_0x551be1(0x1ec)](async _0x2aec96=>{const _0x31f7a3=_0x551be1;try{return await this['client'][_0x31f7a3(0x5cf)](_0x2aec96['id'],_0x31f7a3(0x497));}catch(_0x42ceb5){return this[_0x31f7a3(0x58e)]['verbose'](this[_0x31f7a3(0x1dc)]+'\x20('+this['instance'][_0x31f7a3(0x58c)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x2aec96['id']+':\x20'+(_0x42ceb5 instanceof Error?_0x42ceb5['message']:JSON['stringify'](_0x42ceb5,null,0x2))),null;}}),_0x330f3d=await Promise[_0x551be1(0x315)](_0x392d32);for(let _0x38cf73=0x0;_0x38cf73<_0x1a9e01[_0x551be1(0x779)];_0x38cf73++){let _0x157b8f=_0x1a9e01[_0x38cf73];(0x0,f['isJidGroup'])(_0x157b8f?.['id'])&&(_0x3e59cc[_0x551be1(0x566)]({'groupJid':_0x157b8f?.['id'],'subject':_0x157b8f?.[_0x551be1(0x55a)],'subjectOwner':_0x157b8f?.[_0x551be1(0x67c)]?.[_0x551be1(0x1e9)]('@')[0x0],'subjectTime':_0x157b8f?.[_0x551be1(0x457)],'creation':_0x157b8f?.[_0x551be1(0x39b)],'size':_0x157b8f?.[_0x551be1(0x6b5)]?.[_0x551be1(0x779)],'owner':_0x157b8f?.['owner']?.['split']('@')[0x0],'desc':_0x157b8f?.[_0x551be1(0x282)],'restrict':_0x157b8f?.[_0x551be1(0x3b6)],'announce':_0x157b8f?.['announce'],'image':_0x330f3d[_0x38cf73],'isCommunity':_0x157b8f?.[_0x551be1(0x823)],'joinApprovalMode':_0x157b8f?.[_0x551be1(0x2a9)],'memberCanAddParticipant':_0x157b8f?.['memberAddMode'],'participants':_0x157b8f?.['participants'],'descOwner':_0x157b8f?.['descOwner'],'descId':_0x157b8f?.[_0x551be1(0x657)],'memberAddMode':_0x157b8f?.[_0x551be1(0x1f4)],'isCommunityAnnounce':_0x157b8f?.[_0x551be1(0x7b6)],'ephemeralDuration':_0x157b8f?.[_0x551be1(0x21b)]||0x0,'author':_0x157b8f?.[_0x551be1(0x679)]}),this['updateChatGroupData'](_0x1a9e01[_0x38cf73]));}return _0x3e59cc;}catch(_0x1b38d3){let _0x4ddbe9='Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups',_0x5cc500=_0x1b38d3 instanceof Error?_0x1b38d3[_0x551be1(0x1ff)]:typeof _0x1b38d3==_0x551be1(0x559)?JSON[_0x551be1(0x511)](_0x1b38d3):_0x1b38d3,_0x19ef0a=_0x4ddbe9+':\x20'+_0x5cc500;throw this[_0x551be1(0x58e)][_0x551be1(0x3a8)](this[_0x551be1(0x1dc)]+'\x20('+this['instance'][_0x551be1(0x58c)]+_0x551be1(0x510)+_0x19ef0a),new U(_0x19ef0a);}}async[a0_0x7625da(0x709)](_0x216f52){const _0x4437ee=a0_0x7625da;let _0x2d057b=await this[_0x4437ee(0x3f9)]['chat'][_0x4437ee(0x715)]({'where':{'_id':_0x216f52['id']}},this[_0x4437ee(0x4e6)][_0x4437ee(0x58c)]);_0x216f52[_0x4437ee(0x457)]=_0x216f52?.[_0x4437ee(0x457)]&&_0x216f52[_0x4437ee(0x457)][_0x4437ee(0x455)]()[_0x4437ee(0x779)]<0xd?_0x216f52?.['subjectTime']*0x3e8:_0x216f52?.['subjectTime']||null,_0x216f52[_0x4437ee(0x39b)]=_0x216f52?.[_0x4437ee(0x39b)]&&_0x216f52[_0x4437ee(0x39b)][_0x4437ee(0x455)]()[_0x4437ee(0x779)]<0xd?_0x216f52?.[_0x4437ee(0x39b)]*0x3e8:_0x216f52?.[_0x4437ee(0x39b)]||null;let _0x23e26d=_0x2d057b?.[_0x4437ee(0x7a1)]?.[_0x4437ee(0x56c)]||[],_0xd77d39=_0x2d057b?.[_0x4437ee(0x7a1)]?.['lastFetchAwaitingApproval'],_0x105e12=_0x216f52[_0x4437ee(0x6b5)][_0x4437ee(0x1ec)](_0x92e56b=>{const _0x3515c0=_0x4437ee;let _0x216368=_0x2d057b?.['groupdata']?.['participants'][_0x3515c0(0x48d)](_0x293cbb=>_0x293cbb['id']===_0x92e56b['id']);return{..._0x92e56b,'isAdmin':[_0x3515c0(0x5ee),'superadmin'][_0x3515c0(0x80b)](_0x92e56b[_0x3515c0(0x5ee)]),'admin':_0x92e56b[_0x3515c0(0x5ee)],'name':_0x216368?.[_0x3515c0(0x2f7)]||_0x92e56b[_0x3515c0(0x2f7)],'imgUrl':_0x216368?.[_0x3515c0(0x859)]||_0x92e56b[_0x3515c0(0x859)]};}),_0x411066=_0x105e12[_0x4437ee(0x5e4)](_0x3e3eb2=>_0x3e3eb2['id']===this[_0x4437ee(0x4e6)][_0x4437ee(0x58c)]+_0x4437ee(0x49f)&&_0x3e3eb2[_0x4437ee(0x4ec)]),_0x216a68=(!_0x216f52[_0x4437ee(0x826)]||_0x411066)&&(!_0x216f52[_0x4437ee(0x823)]||_0x216f52[_0x4437ee(0x823)]&&_0x216f52[_0x4437ee(0x7b6)]&&_0x411066),_0x34429a={..._0x216f52,'participants':_0x105e12,'awaitingApproval':_0x23e26d,'lastFetchAwaitingApproval':_0xd77d39,'isAdmin':_0x411066,'canSendMessage':_0x216a68,'lastUpdate':Date[_0x4437ee(0x7cd)]()};await this[_0x4437ee(0x3f9)][_0x4437ee(0x5bb)][_0x4437ee(0x819)]({'where':{'_id':_0x216f52['id']}},{'name':_0x216f52[_0x4437ee(0x55a)],'group':!0x0,'groupdata':_0x34429a,'lastcache':Date[_0x4437ee(0x7cd)]()},this[_0x4437ee(0x4e6)][_0x4437ee(0x58c)]),F(this[_0x4437ee(0x1dc)],'chats',{'chat':_0x216f52});}async[a0_0x7625da(0x6c5)](_0x3b0f8e){const _0x166716=a0_0x7625da;let _0x5711cb=await this[_0x166716(0x3f9)][_0x166716(0x5bb)][_0x166716(0x715)]({'where':{'_id':_0x3b0f8e['id']}},this['instance'][_0x166716(0x58c)]);_0x3b0f8e['subjectTime']=_0x3b0f8e?.['subjectTime']&&_0x3b0f8e[_0x166716(0x457)][_0x166716(0x455)]()[_0x166716(0x779)]<0xd?_0x3b0f8e?.[_0x166716(0x457)]*0x3e8:_0x3b0f8e?.[_0x166716(0x457)]||null,_0x3b0f8e[_0x166716(0x39b)]=_0x3b0f8e?.[_0x166716(0x39b)]&&_0x3b0f8e['creation'][_0x166716(0x455)]()[_0x166716(0x779)]<0xd?_0x3b0f8e?.[_0x166716(0x39b)]*0x3e8:_0x3b0f8e?.[_0x166716(0x39b)]||null,_0x3b0f8e[_0x166716(0x551)]&&(_0x3b0f8e[_0x166716(0x551)]='https://chat.whatsapp.com/'+_0x3b0f8e[_0x166716(0x551)]);let _0x35326c=_0x5711cb?.['groupdata']?{..._0x5711cb[_0x166716(0x7a1)]}:{};Object[_0x166716(0x4f8)](_0x3b0f8e)[_0x166716(0x886)](_0x40e3e8=>{_0x40e3e8!=='id'&&(_0x35326c[_0x40e3e8]=_0x3b0f8e[_0x40e3e8]);});let _0x38b974=_0x35326c[_0x166716(0x6b5)]?.[_0x166716(0x5e4)](_0x5ee798=>_0x5ee798['id']===this[_0x166716(0x4e6)][_0x166716(0x58c)]+_0x166716(0x49f)&&_0x5ee798[_0x166716(0x4ec)])||!0x1;_0x35326c['isAdmin']=_0x38b974;let _0x1fa6a9=(!_0x35326c[_0x166716(0x826)]||_0x38b974)&&(!_0x35326c[_0x166716(0x823)]||_0x35326c[_0x166716(0x823)]&&_0x35326c[_0x166716(0x7b6)]&&_0x38b974);_0x35326c[_0x166716(0x7ee)]=_0x1fa6a9;let _0x390905={'group':!0x0,'groupdata':_0x35326c};_0x3b0f8e['subject']&&(_0x390905[_0x166716(0x2f7)]=_0x3b0f8e[_0x166716(0x55a)]),await this[_0x166716(0x3f9)]['chat'][_0x166716(0x819)]({'where':{'_id':_0x3b0f8e['id']}},_0x390905,this['instance']['wuid'],{'upsert':!0x0}),F(this[_0x166716(0x1dc)],_0x166716(0x5a1),{'chat':_0x390905});}async[a0_0x7625da(0x52e)](_0x3f300c){const _0x4950a3=a0_0x7625da;let _0x1a9788=await this[_0x4950a3(0x3f9)][_0x4950a3(0x5bb)][_0x4950a3(0x715)]({'where':{'_id':_0x3f300c['id']}},this[_0x4950a3(0x4e6)][_0x4950a3(0x58c)]);if(!_0x1a9788||!_0x1a9788['groupdata']){this[_0x4950a3(0x58e)][_0x4950a3(0x573)](this['instanceName']+'\x20('+this[_0x4950a3(0x4e6)][_0x4950a3(0x58c)]+_0x4950a3(0x4f9)+_0x3f300c['id']);return;}let _0x53a8e1=await this[_0x4950a3(0x3f9)]['cacheContact'][_0x4950a3(0x8d2)](_0x3f300c['participants']),_0x1e1241=[..._0x1a9788[_0x4950a3(0x7a1)]?.[_0x4950a3(0x6b5)]];switch(_0x3f300c[_0x4950a3(0x3b7)]){case'add':let _0x3da14d=_0x53a8e1[_0x4950a3(0x1ec)](_0xaaf966=>({'id':_0xaaf966[_0x4950a3(0x7ce)],'isAdmin':!0x1,'name':_0xaaf966[_0x4950a3(0x2f7)],'imgUrl':_0xaaf966[_0x4950a3(0x2bf)]}));_0x1e1241=[..._0x1e1241,..._0x3da14d];break;case'remove':_0x1e1241=_0x1e1241[_0x4950a3(0x3ca)](_0xec46bb=>!_0x3f300c[_0x4950a3(0x6b5)][_0x4950a3(0x80b)](_0xec46bb['id']));break;case _0x4950a3(0x761):case _0x4950a3(0x2be):_0x1e1241=_0x1e1241[_0x4950a3(0x1ec)](_0x54123f=>_0x3f300c[_0x4950a3(0x6b5)][_0x4950a3(0x80b)](_0x54123f['id'])?{..._0x54123f,'isAdmin':_0x3f300c[_0x4950a3(0x3b7)]===_0x4950a3(0x761)}:_0x54123f);break;}let _0x4539b2=_0x1e1241['length'],_0x2d6dfd=_0x1e1241[_0x4950a3(0x5e4)](_0x27ae0a=>_0x27ae0a['id']===this[_0x4950a3(0x4e6)]['wuid']+'@s.whatsapp.net'),_0x466194=_0x2d6dfd&&_0x1e1241[_0x4950a3(0x5e4)](_0x1d4a1d=>_0x1d4a1d['id']===this[_0x4950a3(0x4e6)][_0x4950a3(0x58c)]+_0x4950a3(0x49f)&&_0x1d4a1d[_0x4950a3(0x4ec)]),_0x57574c=_0x2d6dfd&&(!_0x1a9788[_0x4950a3(0x7a1)][_0x4950a3(0x826)]||_0x466194)&&(!_0x1a9788['groupdata'][_0x4950a3(0x823)]||_0x1a9788['groupdata']['isCommunity']&&_0x466194);await this[_0x4950a3(0x3f9)]['chat'][_0x4950a3(0x819)]({'where':{'_id':_0x3f300c['id']}},{'groupdata':{..._0x1a9788[_0x4950a3(0x7a1)],'participants':_0x1e1241,'size':_0x4539b2,'isAdmin':_0x466194,'canSendMessage':_0x57574c}},this[_0x4950a3(0x4e6)][_0x4950a3(0x58c)]),this[_0x4950a3(0x58e)][_0x4950a3(0x573)](this[_0x4950a3(0x1dc)]+'\x20('+this['instance'][_0x4950a3(0x58c)]+_0x4950a3(0x237)+_0x3f300c['id']+'\x20atualizado\x20com\x20sucesso.\x20Ação:\x20'+_0x3f300c[_0x4950a3(0x3b7)]+_0x4950a3(0x64a)+_0x4539b2+_0x4950a3(0x5e3)+_0x466194+_0x4950a3(0x3c7)+_0x57574c);}async[a0_0x7625da(0x551)](_0x3f8964,_0x3a3601=!0x0){const _0x2bdabf=a0_0x7625da;try{let _0x3d30c4=await this[_0x2bdabf(0x4d8)][_0x2bdabf(0x850)](_0x3f8964[_0x2bdabf(0x650)]),_0x3448f8={'groupdata.inviteCode':_0x2bdabf(0x4d4)+_0x3d30c4};if(_0x3a3601){let _0x3f24ef=await this[_0x2bdabf(0x3f9)][_0x2bdabf(0x5bb)][_0x2bdabf(0x819)]({'where':{'_id':_0x3f8964[_0x2bdabf(0x650)]}},_0x3448f8,this[_0x2bdabf(0x4e6)][_0x2bdabf(0x58c)]);}return{'inviteUrl':_0x2bdabf(0x4d4)+_0x3d30c4,'inviteCode':_0x3d30c4};}catch(_0x45d54a){let _0x15047f=_0x2bdabf(0x2b0),_0x20bf3d=_0x45d54a instanceof Error?_0x45d54a[_0x2bdabf(0x1ff)]:typeof _0x45d54a==_0x2bdabf(0x559)?JSON[_0x2bdabf(0x511)](_0x45d54a):_0x45d54a,_0x363ecd=_0x15047f+':\x20'+_0x20bf3d;throw this[_0x2bdabf(0x58e)][_0x2bdabf(0x3a8)](this['instanceName']+'\x20('+this[_0x2bdabf(0x4e6)]['wuid']+_0x2bdabf(0x510)+_0x363ecd),new U(_0x363ecd);}}async['revokeInviteCode'](_0x405e33){const _0x3228d9=a0_0x7625da;try{let _0x5b8b34=await this[_0x3228d9(0x4d8)][_0x3228d9(0x7d7)](_0x405e33[_0x3228d9(0x650)]);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x5b8b34,'inviteCode':_0x5b8b34};}catch(_0x2d924f){let _0x5ab09f=_0x3228d9(0x328),_0x12e433=_0x2d924f instanceof Error?_0x2d924f[_0x3228d9(0x1ff)]:typeof _0x2d924f==_0x3228d9(0x559)?JSON['stringify'](_0x2d924f):_0x2d924f,_0x257ec5=_0x5ab09f+':\x20'+_0x12e433;throw this[_0x3228d9(0x58e)][_0x3228d9(0x3a8)](this[_0x3228d9(0x1dc)]+'\x20('+this[_0x3228d9(0x4e6)][_0x3228d9(0x58c)]+_0x3228d9(0x510)+_0x257ec5),new U(_0x257ec5);}}async[a0_0x7625da(0x32a)](_0x39b8f2){const _0xb377aa=a0_0x7625da;try{if((0x0,P[_0xb377aa(0x537)])(_0x39b8f2[_0xb377aa(0x551)]))var _0x5ebf33=_0x39b8f2[_0xb377aa(0x551)][_0xb377aa(0x1e9)]('/')[0x3];else var _0x5ebf33=_0x39b8f2[_0xb377aa(0x551)];let _0x53ca37=await this['client'][_0xb377aa(0x2d9)](_0x5ebf33);return this[_0xb377aa(0x58e)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0xb377aa(0x58c)]+_0xb377aa(0x510)+_0x53ca37),{'join':!0x0,'inviteCode':_0x5ebf33,'groupJid':_0x53ca37};}catch(_0x36c8a7){let _0x15ab31=_0xb377aa(0x801),_0x4c0ee1=_0x36c8a7 instanceof Error?_0x36c8a7['message']:typeof _0x36c8a7==_0xb377aa(0x559)?JSON[_0xb377aa(0x511)](_0x36c8a7):_0x36c8a7,_0x1027c9=_0x15ab31+':\x20'+_0x4c0ee1;throw this['logger']['error'](this[_0xb377aa(0x1dc)]+'\x20('+this['instance'][_0xb377aa(0x58c)]+_0xb377aa(0x510)+_0x1027c9),new U(_0x1027c9);}}async[a0_0x7625da(0x37d)](_0xbc076e){const _0x220189=a0_0x7625da;try{return{'participants':(await this[_0x220189(0x3f9)][_0x220189(0x5bb)][_0x220189(0x715)]({'where':{'_id':_0xbc076e[_0x220189(0x650)]}},this[_0x220189(0x4e6)][_0x220189(0x58c)]))[_0x220189(0x7a1)]['participants']};}catch(_0x25b1fa){let _0x425b96=_0x220189(0x87d),_0x3b2a8f=_0x25b1fa instanceof Error?_0x25b1fa[_0x220189(0x1ff)]:typeof _0x25b1fa==_0x220189(0x559)?JSON[_0x220189(0x511)](_0x25b1fa):_0x25b1fa,_0x49b8b9=_0x425b96+':\x20'+_0x3b2a8f;throw this[_0x220189(0x58e)]['error'](this[_0x220189(0x1dc)]+'\x20('+this[_0x220189(0x4e6)][_0x220189(0x58c)]+_0x220189(0x510)+_0x49b8b9),new U(_0x49b8b9);}}async['leaveGroup'](_0x11f0cb){const _0x1ceba8=a0_0x7625da;try{return await this[_0x1ceba8(0x4d8)][_0x1ceba8(0x862)](_0x11f0cb[_0x1ceba8(0x650)]),{'groupJid':_0x11f0cb[_0x1ceba8(0x650)],'leave':!0x0};}catch(_0x53f316){let _0x16114a=_0x1ceba8(0x2c8),_0x554d17=_0x53f316 instanceof Error?_0x53f316[_0x1ceba8(0x1ff)]:typeof _0x53f316==_0x1ceba8(0x559)?JSON['stringify'](_0x53f316):_0x53f316,_0x3a7342=_0x16114a+':\x20'+_0x554d17;throw this[_0x1ceba8(0x58e)][_0x1ceba8(0x3a8)](this['instanceName']+'\x20('+this['instance'][_0x1ceba8(0x58c)]+_0x1ceba8(0x510)+_0x3a7342),new m(_0x3a7342);}}async[a0_0x7625da(0x218)](_0x55ec0d){const _0x19c302=a0_0x7625da;return await this[_0x19c302(0x21f)](_0x55ec0d['number'],{'poll':{'name':_0x55ec0d['pollMessage']?.[_0x19c302(0x2f7)],'selectableCount':_0x55ec0d[_0x19c302(0x218)]['selectableCount'],'values':_0x55ec0d[_0x19c302(0x218)]['values']}},_0x55ec0d?.['options']);}async['listMessage'](_0x3d4e7e){const _0x23b3a4=a0_0x7625da;return await this[_0x23b3a4(0x21f)](_0x3d4e7e['number'],{'listMessage':{'title':_0x3d4e7e[_0x23b3a4(0x1ea)][_0x23b3a4(0x7a0)],'description':_0x3d4e7e[_0x23b3a4(0x1ea)][_0x23b3a4(0x439)],'buttonText':_0x3d4e7e['listMessage']?.[_0x23b3a4(0x4b4)],'footerText':_0x3d4e7e[_0x23b3a4(0x1ea)]?.[_0x23b3a4(0x47c)],'sections':_0x3d4e7e[_0x23b3a4(0x1ea)][_0x23b3a4(0x59f)],'listType':0x2}},_0x3d4e7e?.[_0x23b3a4(0x7d8)]);}async[a0_0x7625da(0x840)](_0x4f7973){const _0x1f7d45=a0_0x7625da;let _0x5b0eca;if(_0x4f7973[_0x1f7d45(0x840)][_0x1f7d45(0x3a6)]===_0x1f7d45(0x8ee)){let _0x34fcab=_0x4f7973['menuMessage']['text'][_0x1f7d45(0x24f)]('\x0a'),_0x5e24ce='',_0x3b051b='';_0x34fcab!==-0x1?(_0x5e24ce=_0x4f7973['menuMessage']['text'][_0x1f7d45(0x6b4)](0x0,_0x34fcab)['trim'](),_0x3b051b=_0x4f7973['menuMessage'][_0x1f7d45(0x3e8)][_0x1f7d45(0x6b4)](_0x34fcab+0x1)):_0x3b051b=_0x4f7973[_0x1f7d45(0x840)][_0x1f7d45(0x3e8)];let _0x4314d3=_0x4f7973['menuMessage']['choices']['filter'](_0x24420b=>_0x24420b[_0x1f7d45(0x5d8)]()!==''),_0x28abb4=this[_0x1f7d45(0x26e)](_0x4314d3);_0x5b0eca={'listMessage':{'title':_0x5e24ce,'description':_0x3b051b,'buttonText':_0x4f7973['menuMessage'][_0x1f7d45(0x4b4)]||'Selecione','footerText':_0x4f7973[_0x1f7d45(0x840)]['footerText'],'sections':_0x28abb4,'listType':0x2}};}else{if(_0x4f7973[_0x1f7d45(0x840)]['type']===_0x1f7d45(0x26b)){let _0xba5d65=_0x4f7973[_0x1f7d45(0x840)][_0x1f7d45(0x3ac)][_0x1f7d45(0x3ca)](_0x2ee135=>!(_0x2ee135['startsWith']('[')&&_0x2ee135['endsWith'](']'))&&_0x2ee135[_0x1f7d45(0x5d8)]()!=='')[_0x1f7d45(0x1ec)](_0x365d1c=>_0x365d1c[_0x1f7d45(0x1e9)]('\x0a')[0x0]);_0x5b0eca={'poll':{'name':_0x4f7973[_0x1f7d45(0x840)]['text'],'selectableCount':_0x4f7973[_0x1f7d45(0x840)][_0x1f7d45(0x23c)]||0x1,'values':_0xba5d65}};}}return await this[_0x1f7d45(0x21f)](_0x4f7973[_0x1f7d45(0x305)],_0x5b0eca,_0x4f7973?.[_0x1f7d45(0x7d8)]);}[a0_0x7625da(0x26e)](_0x22bbe3){const _0x31e6aa=a0_0x7625da;let _0x1526fd=[],_0x1e92f4={'rows':[]};return _0x22bbe3['forEach'](_0x20fd9f=>{const _0x32d2a8=a0_0x5efa;if(_0x20fd9f['startsWith']('[')&&_0x20fd9f['endsWith'](']'))_0x1e92f4[_0x32d2a8(0x2fa)][_0x32d2a8(0x779)]>0x0&&_0x1526fd[_0x32d2a8(0x566)](_0x1e92f4),_0x1e92f4={'title':_0x20fd9f['slice'](0x1,-0x1),'rows':[]};else{let _0x8ba164=_0x20fd9f[_0x32d2a8(0x1e9)]('\x0a')[_0x32d2a8(0x1ec)](_0x597aa9=>_0x597aa9[_0x32d2a8(0x5d8)]()),_0x45267e=_0x8ba164[0x0],_0x4fdc90=_0x8ba164[0x1]||null,_0x130649=_0x8ba164[0x2]||_0x45267e;_0x1e92f4[_0x32d2a8(0x2fa)]['push']({'title':_0x45267e,'description':_0x4fdc90,'rowId':_0x130649});}}),_0x1e92f4[_0x31e6aa(0x2fa)][_0x31e6aa(0x779)]>0x0&&_0x1526fd[_0x31e6aa(0x566)](_0x1e92f4),_0x1526fd;}async[a0_0x7625da(0x203)](_0x5a5764,_0x4a997e){const _0xc71622=a0_0x7625da;if(await this[_0xc71622(0x52c)](_0x5a5764,!0x0)){let _0x2e55d8={'where':{'_id':_0x5a5764['id']}},_0x2f318d={'status':[_0x4a997e[_0xc71622(0x464)]][0x0]};try{let _0x79569a=await this[_0xc71622(0x3f9)][_0xc71622(0x1ff)]['update'](_0x2e55d8,_0x2f318d,this[_0xc71622(0x4e6)][_0xc71622(0x58c)]);_0x79569a&&F(this['instanceName'],'messages',{'message':_0x79569a});}catch{}}}[a0_0x7625da(0x517)](_0xf0080f){const _0x2d2220=a0_0x7625da;let _0x5ec9bb=[];return _0xf0080f['forEach'](_0x280900=>{const _0x1c9f03=a0_0x5efa;_0x280900['title']&&_0x5ec9bb[_0x1c9f03(0x566)]('['+_0x280900['title']+']'),_0x280900['rows'][_0x1c9f03(0x886)](_0x1951cf=>{const _0x2a5624=_0x1c9f03;_0x5ec9bb[_0x2a5624(0x566)](_0x1951cf[_0x2a5624(0x7a0)]);});}),_0x5ec9bb[_0x2d2220(0x867)]('|');}[a0_0x7625da(0x5be)](_0x38f107){const _0x3aa002=a0_0x7625da;let _0xea9045=_0x38f107['replace'](/\\n/g,'\x0a')[_0x3aa002(0x1e9)]('\x0a')[_0x3aa002(0x3ca)](_0xecdb59=>_0xecdb59[_0x3aa002(0x80b)](_0x3aa002(0x585))||_0xecdb59[_0x3aa002(0x80b)](_0x3aa002(0x206))),_0x1ee2ca='';return _0xea9045[_0x3aa002(0x886)](_0x1ca5c6=>{const _0x5c57bc=_0x3aa002;let _0x56a416=/TEL(?:.*):(.+)/,_0x1239ef=/EMAIL(?:.*):(.+)/,_0x3d67a3=_0x1ca5c6[_0x5c57bc(0x257)](_0x56a416),_0x21d583=_0x1ca5c6['match'](_0x1239ef);if(_0x3d67a3){let _0x25e596=_0x3d67a3[0x1]['replace'](/-| |\+|\(|\)/g,'')[_0x5c57bc(0x5d8)]();_0x1ee2ca+='Telefone:\x20'+_0x25e596+'\x0a';}else{if(_0x21d583){let _0x418770=_0x21d583[0x1][_0x5c57bc(0x5d8)]();_0x1ee2ca+='E-mail:\x20'+_0x418770+'\x0a';}}}),_0x1ee2ca[_0x3aa002(0x5d8)]();}async['updateChatWithMessage'](_0x52a5d5,_0x495982,_0x7f4ed2,_0x52904e=null){const _0x5ecfd5=a0_0x7625da;if(_0x52a5d5[_0x5ecfd5(0x7de)])try{let _0x16867f=_0x495982[_0x5ecfd5(0x84e)]['remoteJid']['replace'](/:\d{1,2}@/g,'@'),_0x570568=_0x495982[_0x5ecfd5(0x84e)][_0x5ecfd5(0x7db)],_0x45a84d=_0x16867f['endsWith'](_0x5ecfd5(0x793)),_0x111a8a=_0x495982[_0x5ecfd5(0x705)]?.[_0x5ecfd5(0x614)](/:\d{1,2}@/g,'@')||'',_0x2b6fc8=_0x495982['message_normalized']?.[_0x5ecfd5(0x3e8)]||_0x495982[_0x5ecfd5(0x346)]?.['caption']||_0x495982[_0x5ecfd5(0x346)]?.['vote']||_0x495982[_0x5ecfd5(0x346)]?.[_0x5ecfd5(0x2f7)]||'',_0x223d3f={'_id':_0x495982[_0x5ecfd5(0x7ce)],'remoteJid':_0x570568?this[_0x5ecfd5(0x4e6)][_0x5ecfd5(0x58c)]:_0x45a84d?_0x111a8a:_0x16867f,'pushName':_0x570568?this['instance']['profileName']||'Eu':_0x495982[_0x5ecfd5(0x6c8)],'text':_0x2b6fc8,'type':_0x495982[_0x5ecfd5(0x810)],'when':_0x495982[_0x5ecfd5(0x5c4)]||Date[_0x5ecfd5(0x7cd)]()};_0x52904e||(_0x52904e=await this[_0x5ecfd5(0x3f9)][_0x5ecfd5(0x5bb)][_0x5ecfd5(0x715)]({'where':{'_id':_0x16867f}},this[_0x5ecfd5(0x4e6)]['wuid']));let _0x458d86=_0x52904e?_0x570568?_0x52904e[_0x5ecfd5(0x4b6)]:(_0x52904e[_0x5ecfd5(0x4b6)]||0x0)+0x1:_0x570568?0x0:0x1,_0x14c8bb={'lastmsg':_0x495982['messageTimestamp']||Date[_0x5ecfd5(0x7cd)](),'ephemeralExpiration':_0x495982[_0x5ecfd5(0x798)],'lastMessage':_0x223d3f,'unreadcount':_0x458d86,..._0x570568||_0x45a84d?{}:{'name':_0x495982[_0x5ecfd5(0x6c8)]},..._0x45a84d?{'group':_0x45a84d}:{},...!_0x570568&&!_0x45a84d&&_0x495982[_0x5ecfd5(0x5cf)]?{'imagechat':_0x495982[_0x5ecfd5(0x5cf)]}:{}};if(!_0x45a84d&&(!_0x52904e?.[_0x5ecfd5(0x24e)]||!_0x52904e[_0x5ecfd5(0x24e)][_0x5ecfd5(0x756)])&&_0x495982['pushName']&&!_0x570568&&(_0x14c8bb={..._0x14c8bb,'leadInfo.nome':_0x495982[_0x5ecfd5(0x6c8)]}),_0x52904e?.[_0x5ecfd5(0x24e)][_0x5ecfd5(0x7fb)]||(_0x14c8bb={..._0x14c8bb,'leadInfo.etiquetas':[]}),_0x52904e?.['leadInfo'][_0x5ecfd5(0x2fd)]||(_0x14c8bb={..._0x14c8bb,'leadInfo.customFields':[]}),_0x52904e?.[_0x5ecfd5(0x24e)][_0x5ecfd5(0x748)]||(_0x14c8bb={..._0x14c8bb,'leadInfo.tags':[]}),_0x52904e&&_0x52904e?.[_0x5ecfd5(0x416)]){let _0x4db5fa=await this[_0x5ecfd5(0x3f9)][_0x5ecfd5(0x402)][_0x5ecfd5(0x48d)]({'where':{}},this[_0x5ecfd5(0x4e6)][_0x5ecfd5(0x58c)]),_0x5a987f=new Set(_0x4db5fa[_0x5ecfd5(0x1ec)](_0x2beaa0=>_0x2beaa0[_0x5ecfd5(0x7ce)])),_0x196745=(_0x52904e[_0x5ecfd5(0x24e)]?.[_0x5ecfd5(0x7fb)]||[])[_0x5ecfd5(0x3ca)](_0x17a3ce=>_0x5a987f['has'](_0x17a3ce));_0x14c8bb={..._0x14c8bb,'imported':!0x1,'leadInfo.etiquetas':_0x196745};for(let _0x3740f7 of _0x196745)await this[_0x5ecfd5(0x726)](_0x3740f7,_0x16867f);}if(_0x7f4ed2===_0x5ecfd5(0x267)&&_0x570568&&this[_0x5ecfd5(0x3e1)]?.['flowConfig'][_0x5ecfd5(0x5e0)]&&!_0x2b6fc8[_0x5ecfd5(0x321)](this[_0x5ecfd5(0x3e1)]?.[_0x5ecfd5(0x555)]['prefixCommand'])){let _0x444952=(this['AutomateSystem']?.[_0x5ecfd5(0x555)]['stopWhenYouSendMsg']||0x5)*0xea60,_0x17b080=Date[_0x5ecfd5(0x7cd)]()+_0x444952;_0x52904e?.['leadInfo']?.['desativadoFluxoAte']===0x0||(_0x14c8bb={..._0x14c8bb,'leadInfo.desativadoFluxoAte':_0x17b080},this[_0x5ecfd5(0x58e)][_0x5ecfd5(0x62f)](this['instanceName']+'\x20('+this[_0x5ecfd5(0x4e6)][_0x5ecfd5(0x58c)]+_0x5ecfd5(0x796)+_0x17b080+'.'));}if(_0x52904e=await this[_0x5ecfd5(0x3f9)]['chat'][_0x5ecfd5(0x819)]({'where':{'_id':_0x16867f}},_0x14c8bb,this[_0x5ecfd5(0x4e6)]['wuid'],{'new':!0x0,'upsert':!0x0}),_0x52904e)F(this[_0x5ecfd5(0x1dc)],'chats',{'chat':_0x52904e});else{this[_0x5ecfd5(0x58e)][_0x5ecfd5(0x3a8)](this[_0x5ecfd5(0x1dc)]+'\x20('+this['instance'][_0x5ecfd5(0x58c)]+_0x5ecfd5(0x30e));return;}if(!this['AutomateSystem']?.[_0x5ecfd5(0x555)][_0x5ecfd5(0x5e0)])return this[_0x5ecfd5(0x58e)]['verbose'](this[_0x5ecfd5(0x1dc)]+'\x20('+this[_0x5ecfd5(0x4e6)][_0x5ecfd5(0x58c)]+'):\x20Flow\x20desativado'),null;if(_0x52904e[_0x5ecfd5(0x7ce)][_0x5ecfd5(0x80b)](_0x5ecfd5(0x793))&&this[_0x5ecfd5(0x3e1)]?.[_0x5ecfd5(0x555)][_0x5ecfd5(0x655)]===!0x0)return this[_0x5ecfd5(0x58e)][_0x5ecfd5(0x62f)](this['instanceName']+'\x20('+this['instance'][_0x5ecfd5(0x58c)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x52904e[_0x5ecfd5(0x24e)]){if(_0x52904e[_0x5ecfd5(0x24e)][_0x5ecfd5(0x1e5)]===0x0||_0x52904e[_0x5ecfd5(0x24e)][_0x5ecfd5(0x7ed)])return this[_0x5ecfd5(0x58e)][_0x5ecfd5(0x62f)](this[_0x5ecfd5(0x1dc)]+'\x20('+this[_0x5ecfd5(0x4e6)][_0x5ecfd5(0x58c)]+_0x5ecfd5(0x53c)+_0x16867f+',\x20saindo.'),null;if(_0x52904e[_0x5ecfd5(0x24e)][_0x5ecfd5(0x1e5)]>Date[_0x5ecfd5(0x7cd)]()&&!_0x495982[_0x5ecfd5(0x346)]?.[_0x5ecfd5(0x28c)])return this[_0x5ecfd5(0x58e)][_0x5ecfd5(0x62f)](this['instanceName']+'\x20('+this[_0x5ecfd5(0x4e6)]['wuid']+_0x5ecfd5(0x262)+new Date(_0x52904e['leadInfo'][_0x5ecfd5(0x1e5)])[_0x5ecfd5(0x7bd)]()+_0x5ecfd5(0x350)),null;}this['logger'][_0x5ecfd5(0x62f)](this[_0x5ecfd5(0x1dc)]+'\x20('+this['instance'][_0x5ecfd5(0x58c)]+_0x5ecfd5(0x306)),this[_0x5ecfd5(0x4e4)](_0x7f4ed2,_0x495982);}catch(_0x2fe8d5){let _0x56f7b1=_0x5ecfd5(0x21a),_0x4ef573=_0x2fe8d5 instanceof Error?_0x2fe8d5[_0x5ecfd5(0x1ff)]:typeof _0x2fe8d5==_0x5ecfd5(0x559)?JSON[_0x5ecfd5(0x511)](_0x2fe8d5):_0x2fe8d5,_0x24f347=_0x56f7b1+':\x20'+_0x4ef573;return this[_0x5ecfd5(0x58e)]['error'](this[_0x5ecfd5(0x1dc)]+'\x20('+this[_0x5ecfd5(0x4e6)][_0x5ecfd5(0x58c)]+'):\x20'+_0x24f347),null;}}async[a0_0x7625da(0x2c6)](_0x54b842,_0x2dd2f4){const _0x22f7dd=a0_0x7625da;if(_0x2dd2f4[_0x22f7dd(0x7de)]){let _0x1c22b2=_0x54b842['map'](async _0x3a1a82=>{const _0x107e2b=_0x22f7dd;try{let _0x231519={'_id':_0x3a1a82[_0x107e2b(0x7ce)],'owner':_0x3a1a82[_0x107e2b(0x4c5)],'lastcache':0x0};if(Object[_0x107e2b(0x4f8)](_0x3a1a82)['forEach'](_0x532424=>{_0x3a1a82[_0x532424]!==null&&(_0x231519[_0x532424]=_0x3a1a82[_0x532424]);}),_0x231519[_0x107e2b(0x22b)]===null&&(_0x231519[_0x107e2b(0x22b)]=_0x107e2b(0x25f)),Object[_0x107e2b(0x4f8)](_0x231519)['length']>0x0)return await this['repository'][_0x107e2b(0x5bb)][_0x107e2b(0x819)]({'where':{'_id':_0x3a1a82['_id']}},_0x231519,this[_0x107e2b(0x4e6)][_0x107e2b(0x58c)]);}catch(_0x3309cb){let _0x21ac25='Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x3a1a82[_0x107e2b(0x7ce)],_0x21b859=_0x3309cb instanceof Error?_0x3309cb['message']:typeof _0x3309cb=='object'?JSON[_0x107e2b(0x511)](_0x3309cb):_0x3309cb,_0x3ec7f9=_0x21ac25+':\x20'+_0x21b859;return this[_0x107e2b(0x58e)][_0x107e2b(0x3a8)](this[_0x107e2b(0x1dc)]+'\x20('+this[_0x107e2b(0x4e6)][_0x107e2b(0x58c)]+_0x107e2b(0x510)+_0x3ec7f9),null;}}),_0x471272=(await Promise[_0x22f7dd(0x315)](_0x1c22b2))[_0x22f7dd(0x3ca)](_0x26639e=>_0x26639e!==null)[_0x22f7dd(0x779)];this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x22f7dd(0x4e6)][_0x22f7dd(0x58c)]+'):\x20'+_0x471272+_0x22f7dd(0x4a8)+this[_0x22f7dd(0x4e6)][_0x22f7dd(0x58c)]+_0x22f7dd(0x65a));}}async[a0_0x7625da(0x45a)](_0x659a5b){const _0x2a92e6=a0_0x7625da;this[_0x2a92e6(0x58e)][_0x2a92e6(0x62f)](this['instanceName']+'\x20('+this[_0x2a92e6(0x4e6)][_0x2a92e6(0x58c)]+'):\x20Ler\x20mensagem');let _0x2f98bf={'readMessages':[{'remoteJid':_0x659a5b[_0x2a92e6(0x878)]['lastReceivedMessage'][_0x2a92e6(0x84e)][_0x2a92e6(0x6cd)],'fromMe':_0x659a5b[_0x2a92e6(0x878)]['lastReceivedMessage'][_0x2a92e6(0x84e)][_0x2a92e6(0x7db)],'id':_0x659a5b[_0x2a92e6(0x878)][_0x2a92e6(0x72d)][_0x2a92e6(0x84e)]['id']}]};await this['markMessageAsRead'](_0x2f98bf);}async[a0_0x7625da(0x4e4)](_0x5c908b,_0x52ce61){const _0x51914e=a0_0x7625da;try{let {key:_0x3e9fd3,message_normalized:_0x5e2220}=_0x52ce61,_0x5474d5=_0x5e2220,_0x526920=_0x5e2220[_0x51914e(0x3e8)]||_0x5e2220['caption']||_0x5e2220[_0x51914e(0x28c)]||_0x5e2220[_0x51914e(0x2f7)]||'',_0x2410e8=_0x3e9fd3['remoteJid'],_0x112a9a;if(_0x5474d5['key'][_0x51914e(0x7db)]&&_0x526920[_0x51914e(0x5d8)]()!==this[_0x51914e(0x3e1)]?.['flowConfig'][_0x51914e(0x57d)][_0x51914e(0x5d8)]())return this[_0x51914e(0x58e)]['verbose'](this[_0x51914e(0x1dc)]+'\x20('+this['instance'][_0x51914e(0x58c)]+_0x51914e(0x653)),null;if(_0x5474d5[_0x51914e(0x84e)][_0x51914e(0x7db)]&&_0x526920['trim']()===this[_0x51914e(0x3e1)]?.['flowConfig'][_0x51914e(0x57d)][_0x51914e(0x5d8)]()){this['logger'][_0x51914e(0x62f)](this[_0x51914e(0x1dc)]+'\x20('+this[_0x51914e(0x4e6)][_0x51914e(0x58c)]+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo');let _0x24053d=await this[_0x51914e(0x3f9)][_0x51914e(0x6c7)][_0x51914e(0x48d)]({'remoteJid':_0x2410e8,'status':_0x51914e(0x32e)},this['instance'][_0x51914e(0x58c)]);this[_0x51914e(0x58e)][_0x51914e(0x62f)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x51914e(0x5bf)+_0x24053d);let _0x265691=Date[_0x51914e(0x7cd)](),_0x5569dc;return this[_0x51914e(0x3e1)]?.[_0x51914e(0x555)][_0x51914e(0x6fc)]===0x0?_0x5569dc={'stoppedUntil':_0x265691+0x7591f6200}:_0x5569dc={'stoppedUntil':_0x265691+this[_0x51914e(0x3e1)]?.[_0x51914e(0x555)][_0x51914e(0x6fc)]*0x3c*0x3e8},this['logger']['verbose'](this[_0x51914e(0x1dc)]+'\x20('+this[_0x51914e(0x4e6)][_0x51914e(0x58c)]+_0x51914e(0x3d8)+_0x5569dc),this[_0x51914e(0x419)](_0x112a9a,_0x5569dc['stoppedUntil']),null;}if(_0x526920&&_0x526920[_0x51914e(0x321)](this['AutomateSystem']?.['flowConfig']['prefixCommand'])&&_0x526920[_0x51914e(0x779)]>0x4){let _0x203037=await this[_0x51914e(0x3f9)][_0x51914e(0x6c0)][_0x51914e(0x715)]({'where':{'startCommandWord':_0x526920}},this[_0x51914e(0x4e6)][_0x51914e(0x58c)]);if(this[_0x51914e(0x58e)][_0x51914e(0x62f)](this[_0x51914e(0x1dc)]+'\x20('+this[_0x51914e(0x4e6)][_0x51914e(0x58c)]+_0x51914e(0x8da)),_0x203037)_0x112a9a=await this[_0x51914e(0x515)](_0x203037,_0x5474d5[_0x51914e(0x84e)],_0x5474d5);else return this[_0x51914e(0x58e)]['verbose'](this['instanceName']+'\x20('+this[_0x51914e(0x4e6)][_0x51914e(0x58c)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand'),null;}else _0x112a9a=await this[_0x51914e(0x1f3)](_0x2410e8,_0x5474d5);if(_0x112a9a){this[_0x51914e(0x58e)][_0x51914e(0x62f)](this['instanceName']+'\x20('+this[_0x51914e(0x4e6)][_0x51914e(0x58c)]+_0x51914e(0x73e)),!_0x3e9fd3[_0x51914e(0x7db)]&&_0x112a9a[_0x51914e(0x586)]&&this[_0x51914e(0x45a)](_0x112a9a);let _0x2fbc04=await this[_0x51914e(0x50e)](_0x112a9a);_0x2fbc04&&await this[_0x51914e(0x494)](_0x112a9a,_0x2fbc04);}}catch(_0x4a1789){this[_0x51914e(0x58e)][_0x51914e(0x3a8)](this[_0x51914e(0x1dc)]+'\x20('+this[_0x51914e(0x4e6)]['wuid']+_0x51914e(0x509)+(_0x4a1789 instanceof Error?_0x4a1789[_0x51914e(0x1ff)]:JSON[_0x51914e(0x511)](_0x4a1789,null,0x2)));}}[a0_0x7625da(0x431)](_0x196a06,_0x450f9c='',_0x412bb4={}){const _0x1f3f70=a0_0x7625da;return typeof _0x196a06!=_0x1f3f70(0x559)||_0x196a06===null?(_0x450f9c&&(_0x412bb4[_0x450f9c]=_0x196a06),_0x412bb4):(Object[_0x1f3f70(0x499)](_0x196a06)[_0x1f3f70(0x886)](([_0x1d24f2,_0x151d1d])=>{const _0x10f7b1=_0x1f3f70;let _0x1d7812=_0x450f9c?_0x450f9c+'.'+_0x1d24f2:'_'+_0x1d24f2;Array[_0x10f7b1(0x87a)](_0x151d1d)?_0x151d1d['forEach']((_0x47cd79,_0x581c91)=>{const _0x75fc90=_0x10f7b1;this[_0x75fc90(0x431)](_0x47cd79,_0x1d7812+'['+_0x581c91+']',_0x412bb4);}):typeof _0x151d1d=='object'&&_0x151d1d!==null?this['flattenObject'](_0x151d1d,_0x1d7812,_0x412bb4):_0x412bb4[_0x1d7812]=String(_0x151d1d);}),_0x412bb4);}[a0_0x7625da(0x75e)](_0x12b889){const _0x4660d1=a0_0x7625da;let _0x595bc4={};for(let _0x41c302 of _0x12b889)typeof _0x41c302[_0x4660d1(0x2f7)]==_0x4660d1(0x5f1)&&typeof _0x41c302[_0x4660d1(0x336)]==_0x4660d1(0x5f1)&&(_0x595bc4[_0x41c302[_0x4660d1(0x2f7)]]=_0x41c302[_0x4660d1(0x336)]);return _0x595bc4;}async[a0_0x7625da(0x50e)](_0x66a63a){const _0x1d3788=a0_0x7625da;if(!this[_0x1d3788(0x3e1)]?.[_0x1d3788(0x555)][_0x1d3788(0x5e0)]||_0x66a63a[_0x1d3788(0x464)]!==_0x1d3788(0x32e)&&_0x66a63a[_0x1d3788(0x379)]==='')return null;let _0x4def6c=_0x66a63a[_0x1d3788(0x878)]['lastBlockId']||_0x1d3788(0x6be);typeof _0x66a63a['chatLog']['lastCondition']>'u'&&(_0x66a63a[_0x1d3788(0x878)][_0x1d3788(0x460)]=!0x0);let _0x56e8aa=_0x66a63a[_0x1d3788(0x878)][_0x1d3788(0x460)];this[_0x1d3788(0x58e)][_0x1d3788(0x62f)](this['instanceName']+'\x20('+this[_0x1d3788(0x4e6)][_0x1d3788(0x58c)]+_0x1d3788(0x51f)+_0x4def6c+_0x1d3788(0x734)+_0x56e8aa);let _0x5e892d=_0x4def6c===_0x1d3788(0x6be)?_0x66a63a[_0x1d3788(0x201)][_0x1d3788(0x48d)](_0x3eab3e=>_0x3eab3e[_0x1d3788(0x3a6)]===_0x1d3788(0x6be)):_0x66a63a[_0x1d3788(0x201)][_0x1d3788(0x48d)](_0x27109c=>_0x27109c[_0x1d3788(0x7ce)][_0x1d3788(0x455)]()===_0x4def6c[_0x1d3788(0x455)]());if(!_0x5e892d)return this[_0x1d3788(0x58e)][_0x1d3788(0x3a8)](this[_0x1d3788(0x1dc)]+'\x20('+this[_0x1d3788(0x4e6)][_0x1d3788(0x58c)]+_0x1d3788(0x702)+_0x4def6c),null;let _0x332080={'_pushName':_0x66a63a?.[_0x1d3788(0x878)]?.[_0x1d3788(0x72d)]?.['pushName']||'',..._0x66a63a[_0x1d3788(0x878)]['realVariables']},_0x3b8cf6=null;if(_0x66a63a[_0x1d3788(0x379)]){let _0x3d8082=_0x66a63a[_0x1d3788(0x878)]['lastReceivedMessage'][_0x1d3788(0x28c)],_0x300b5e=_0x66a63a[_0x1d3788(0x243)][_0x1d3788(0x48d)](_0x491272=>_0x491272[_0x1d3788(0x5d1)]===_0x3d8082);if(_0x300b5e){let _0x493de3=_0x300b5e['next_groupId'];if(_0x3b8cf6=_0x66a63a[_0x1d3788(0x201)][_0x1d3788(0x48d)](_0x3ca530=>_0x3ca530[_0x1d3788(0x43f)]===_0x493de3&&_0x3ca530['order']===0x1),_0x5e892d['uazapi']['pollOnReplyDelete']){let _0x2c035a={'id':_0x66a63a[_0x1d3788(0x379)],'remoteJid':_0x66a63a[_0x1d3788(0x6cd)],'fromMe':!0x0};await this[_0x1d3788(0x764)](_0x2c035a);}if(_0x5e892d[_0x1d3788(0x6b8)]['pollOnReplyDelete']&&_0x5e892d[_0x1d3788(0x6b8)][_0x1d3788(0x478)]&&_0x5e892d['uazapi']['menuType']===_0x1d3788(0x26b)){let _0x55d205={'number':_0x66a63a[_0x1d3788(0x6cd)],'options':{'delay':0x0},'textMessage':{'text':_0x1d3788(0x52a)+_0x66a63a[_0x1d3788(0x2fb)]+'\x0a*Você\x20respondeu*:\x0a'+_0x3d8082}};await this['textMessage'](_0x55d205);}_0x66a63a['status']=_0x1d3788(0x32e),_0x66a63a[_0x1d3788(0x379)]='',_0x66a63a['waitingMenu_text']='',_0x66a63a['waitingMenu_replyOptions']=[];}else{this[_0x1d3788(0x58e)][_0x1d3788(0x62f)](this['instanceName']+'\x20('+this[_0x1d3788(0x4e6)][_0x1d3788(0x58c)]+_0x1d3788(0x5c0));let _0x2cf28b={'activatedCount':_0x66a63a[_0x1d3788(0x878)]['blockLogs'][_0x1d3788(0x3ca)](_0x3468ab=>String(_0x3468ab['blockId'])===String(_0x4def6c))[_0x1d3788(0x779)],'moreLogs':[_0x1d3788(0x8e6)]};if(_0x5e892d['uazapi']['pollErrorMessage']){let _0x4b8a11={'number':_0x66a63a[_0x1d3788(0x6cd)],'options':{'delay':0x0},'textMessage':{'text':_0x5e892d[_0x1d3788(0x6b8)]['pollErrorMessage']}};await this['textMessage'](_0x4b8a11);}if(_0x5e892d[_0x1d3788(0x53a)]!==void 0x0&&_0x2cf28b[_0x1d3788(0x512)]>=_0x5e892d['maxActives']){let _0x1327ab=Date['now'](),_0x1ba2e1=_0x5e892d[_0x1d3788(0x546)]??0xa;isNaN(_0x1ba2e1)&&(_0x1ba2e1=0xa);let _0x3a6982=_0x1327ab+_0x1ba2e1*0x3c*0x3e8;_0x2cf28b['newStoppedUntil']=_0x3a6982,_0x2cf28b[_0x1d3788(0x780)]['push']('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this[_0x1d3788(0x419)](_0x66a63a,_0x3a6982),_0x66a63a[_0x1d3788(0x379)]='',_0x66a63a['waitingMenu_text']='',_0x66a63a[_0x1d3788(0x243)]=[];}return this[_0x1d3788(0x4b8)](_0x66a63a,_0x5e892d,_0x2cf28b,!0x0),null;}}if(_0x56e8aa&&_0x5e892d[_0x1d3788(0x37c)]&&!_0x66a63a[_0x1d3788(0x379)]){let _0x5971da=_0x66a63a[_0x1d3788(0x201)]['filter'](_0x1bea91=>_0x1bea91[_0x1d3788(0x43f)][_0x1d3788(0x455)]()===_0x5e892d[_0x1d3788(0x37c)]['toString']())[_0x1d3788(0x827)]((_0x2265a2,_0x1aaadc)=>_0x2265a2['order']-_0x1aaadc[_0x1d3788(0x355)]);_0x5971da[_0x1d3788(0x779)]>0x0&&(_0x3b8cf6=_0x5971da[0x0]);}if(!_0x3b8cf6){let _0x133249=_0x5e892d[_0x1d3788(0x43f)],_0xaee8e6=_0x66a63a[_0x1d3788(0x201)][_0x1d3788(0x3ca)](_0x280250=>_0x280250[_0x1d3788(0x43f)]===_0x133249&&_0x280250[_0x1d3788(0x355)]>_0x5e892d[_0x1d3788(0x355)])[_0x1d3788(0x827)]((_0x2fa6c1,_0x31021f)=>_0x2fa6c1[_0x1d3788(0x355)]-_0x31021f[_0x1d3788(0x355)]);_0xaee8e6[_0x1d3788(0x779)]>0x0&&(_0x3b8cf6=_0xaee8e6[0x0]);}if(!_0x3b8cf6)return _0x66a63a['status']=_0x1d3788(0x7ab),null;_0x66a63a[_0x1d3788(0x878)][_0x1d3788(0x8f0)]=_0x332080;let _0x274e3d=JSON[_0x1d3788(0x4ef)](JSON['stringify'](_0x3b8cf6));return this[_0x1d3788(0x85b)](_0x274e3d,_0x66a63a[_0x1d3788(0x878)][_0x1d3788(0x8f0)]),_0x66a63a['chatLog'][_0x1d3788(0x4ff)]=_0x274e3d['_id'],_0x66a63a[_0x1d3788(0x878)][_0x1d3788(0x460)]=!0x0,_0x274e3d;}['replaceVariables'](_0x280837,_0x583250){const _0x51a536=a0_0x7625da;return _0x280837[_0x51a536(0x614)](/\{\{([^}]+)\}\}/g,(_0x3d23b7,_0x1b9e88)=>_0x583250[_0x1b9e88]||'');}['replaceVariablesInObject'](_0x3469e7,_0x1bd287){const _0x59e2a6=a0_0x7625da;for(let _0x7edf52 in _0x3469e7)typeof _0x3469e7[_0x7edf52]==_0x59e2a6(0x5f1)?_0x3469e7[_0x7edf52]=this[_0x59e2a6(0x54f)](_0x3469e7[_0x7edf52],_0x1bd287):typeof _0x3469e7[_0x7edf52]==_0x59e2a6(0x559)&&this[_0x59e2a6(0x85b)](_0x3469e7[_0x7edf52],_0x1bd287);}async['goNextblock'](_0x19f902,_0xee9324){const _0x192148=a0_0x7625da;let _0x58eac8=_0xee9324[_0x192148(0x7ce)];if(_0x19f902[_0x192148(0x878)]&&_0x19f902[_0x192148(0x878)][_0x192148(0x7c8)]){let _0x1f27eb=_0x19f902[_0x192148(0x878)][_0x192148(0x7c8)][_0x192148(0x3ca)](_0x5cae90=>String(_0x5cae90[_0x192148(0x1f7)])===String(_0x58eac8))['pop']();if(_0x1f27eb&&_0x1f27eb[_0x192148(0x3a8)]&&_0xee9324['stopIfLastReturnedError'])return _0x19f902[_0x192148(0x464)]='closed',await this[_0x192148(0x514)](_0x19f902),null;}if(_0xee9324[_0x192148(0x3a6)]===_0x192148(0x6b8)&&_0xee9324[_0x192148(0x6b8)][_0x192148(0x2a5)]===_0x192148(0x45d)&&_0x19f902[_0x192148(0x379)])return _0x19f902['chatLog'][_0x192148(0x4ff)]=_0x58eac8,await this[_0x192148(0x514)](_0x19f902),null;let _0x1bcaa2=await this[_0x192148(0x50e)](_0x19f902);if(_0x19f902[_0x192148(0x878)]&&_0x19f902[_0x192148(0x878)][_0x192148(0x7c8)]){let _0x1741d4=_0x19f902[_0x192148(0x878)][_0x192148(0x7c8)][_0x192148(0x3ca)](_0x4bc482=>String(_0x4bc482[_0x192148(0x1f7)])===String(_0x58eac8))[_0x192148(0x779)];if(_0xee9324['maxActives']!==void 0x0&&_0x1741d4>=_0xee9324[_0x192148(0x53a)]){let _0x397020=Date[_0x192148(0x7cd)](),_0x2c97eb=_0xee9324[_0x192148(0x546)]??0xa;isNaN(_0x2c97eb)&&(_0x2c97eb=0xa);let _0x192c94=_0x397020+_0x2c97eb*0x3c*0x3e8,_0x4f24d4={'newStoppedUntil':_0x192c94};return this[_0x192148(0x419)](_0x19f902,_0x192c94),this['updateConversation'](_0x19f902,_0xee9324,_0x4f24d4,!0x0),null;}}_0x1bcaa2&&_0x1bcaa2[_0x192148(0x3a6)]!=='save'&&await this[_0x192148(0x494)](_0x19f902,_0x1bcaa2),_0x1bcaa2||await this['saveConversationToDatabase'](_0x19f902),_0x1bcaa2&&_0x1bcaa2[_0x192148(0x3a6)]===_0x192148(0x260)&&(_0x19f902[_0x192148(0x878)][_0x192148(0x4ff)]=_0x58eac8,await this[_0x192148(0x514)](_0x19f902));}async[a0_0x7625da(0x494)](_0x14c576,_0x201f22){const _0x542ef4=a0_0x7625da;try{let _0xc3440=_0x201f22[_0x542ef4(0x3a6)];this[_0x542ef4(0x58e)][_0x542ef4(0x62f)](this[_0x542ef4(0x1dc)]+'\x20('+this['instance']['wuid']+_0x542ef4(0x5f7)+_0xc3440);let _0x54e507={'uazapi':()=>this[_0x542ef4(0x833)](_0x14c576,_0x201f22),'save':()=>this[_0x542ef4(0x503)](_0x14c576,_0x201f22),'stop':()=>this['stopConversation'](_0x14c576,_0x201f22),'condition':()=>this['processConditions'](_0x14c576,_0x201f22),'varedit':()=>this['processvaredits'](_0x14c576,_0x201f22),'apirequest':()=>this['processApiRequest'](_0x14c576,_0x201f22),'goToFlow':()=>this[_0x542ef4(0x76e)](_0x14c576,_0x201f22),'scheduleFlow':()=>this[_0x542ef4(0x2f0)](_0x14c576,_0x201f22),'awaitSeconds':()=>this[_0x542ef4(0x4fc)](_0x14c576,_0x201f22),'clearVariables':()=>this[_0x542ef4(0x595)](_0x14c576,_0x201f22)}[_0xc3440];_0x54e507&&await _0x54e507();}catch(_0x101680){this['logger']['error'](this['instanceName']+'\x20('+this[_0x542ef4(0x4e6)][_0x542ef4(0x58c)]+_0x542ef4(0x56b)+(_0x101680 instanceof Error?_0x101680['message']:JSON[_0x542ef4(0x511)](_0x101680,null,0x2)));}}async[a0_0x7625da(0x4fc)](_0x365565,_0x2309e1){const _0x46fa40=a0_0x7625da;if(this['logger'][_0x46fa40(0x62f)](this[_0x46fa40(0x1dc)]+'\x20('+this[_0x46fa40(0x4e6)]['wuid']+'):\x20Entrou\x20na\x20função\x20processawaitSeconds'),!_0x365565||!_0x2309e1)return this[_0x46fa40(0x58e)][_0x46fa40(0x3a8)](this['instanceName']+'\x20('+this[_0x46fa40(0x4e6)]['wuid']+_0x46fa40(0x656)),null;let _0x59d6ff=+_0x2309e1[_0x46fa40(0x79b)];isNaN(_0x59d6ff)&&(_0x59d6ff=0x0),_0x59d6ff=Math['min'](_0x59d6ff,0x3c),await(0x0,f['delay'])(_0x59d6ff*0x3e8);let _0x390b05={'moreLogs':[_0x46fa40(0x697)+_0x59d6ff+_0x46fa40(0x8f3)]};return await this['updateConversation'](_0x365565,_0x2309e1,_0x390b05),_0x59d6ff;}async[a0_0x7625da(0x595)](_0x3fc1f1,_0x24dc1b){const _0x4db636=a0_0x7625da;if(this[_0x4db636(0x58e)][_0x4db636(0x62f)](this['instanceName']+'\x20('+this[_0x4db636(0x4e6)]['wuid']+_0x4db636(0x567)),!_0x3fc1f1||!_0x24dc1b)return this[_0x4db636(0x58e)][_0x4db636(0x3a8)](this[_0x4db636(0x1dc)]+'\x20('+this['instance'][_0x4db636(0x58c)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x1ce9a5=[];if(_0x24dc1b[_0x4db636(0x59b)][_0x4db636(0x5d8)]()===_0x4db636(0x3b4)){let _0x1d6642=['_pushName',_0x4db636(0x461),_0x4db636(0x610),_0x4db636(0x252),_0x4db636(0x7ce),_0x4db636(0x84a)];_0x1ce9a5=Object[_0x4db636(0x4f8)](_0x3fc1f1[_0x4db636(0x878)][_0x4db636(0x8f0)])['filter'](_0x307939=>_0x307939[_0x4db636(0x321)]('_')&&!_0x1d6642[_0x4db636(0x80b)](_0x307939));}else _0x1ce9a5=_0x24dc1b[_0x4db636(0x59b)][_0x4db636(0x1e9)]('|')[_0x4db636(0x1ec)](_0x4a7b48=>(_0x4a7b48=_0x4a7b48['replace'](/[{}]/g,'')['trim'](),_0x4a7b48[_0x4db636(0x321)]('_')?_0x4a7b48:'_'+_0x4a7b48));let _0x47660b=[];_0x1ce9a5[_0x4db636(0x886)](_0x5935f7=>{const _0x3d7e57=_0x4db636;_0x5935f7 in _0x3fc1f1[_0x3d7e57(0x878)][_0x3d7e57(0x8f0)]&&(delete _0x3fc1f1['chatLog'][_0x3d7e57(0x8f0)][_0x5935f7],_0x47660b[_0x3d7e57(0x566)](_0x5935f7));}),_0x47660b[_0x4db636(0x779)]>0x0?this[_0x4db636(0x58e)][_0x4db636(0x62f)](this[_0x4db636(0x1dc)]+'\x20('+this[_0x4db636(0x4e6)]['wuid']+_0x4db636(0x581)+_0x47660b[_0x4db636(0x867)](',\x20')):this[_0x4db636(0x58e)][_0x4db636(0x62f)](this[_0x4db636(0x1dc)]+'\x20('+this['instance'][_0x4db636(0x58c)]+_0x4db636(0x5fd));let _0x161920={'moreLogs':['Removidas\x20as\x20variáveis:\x20'+_0x47660b[_0x4db636(0x867)](',\x20')]};return await this[_0x4db636(0x4b8)](_0x3fc1f1,_0x24dc1b,_0x161920),null;}async[a0_0x7625da(0x2f0)](_0x37d1a9,_0x28491b){const _0x130c02=a0_0x7625da;if(this['logger'][_0x130c02(0x62f)](this[_0x130c02(0x1dc)]+'\x20('+this[_0x130c02(0x4e6)][_0x130c02(0x58c)]+_0x130c02(0x67b)),!_0x37d1a9||!_0x28491b)return this[_0x130c02(0x58e)][_0x130c02(0x3a8)](this[_0x130c02(0x1dc)]+'\x20('+this['instance']['wuid']+_0x130c02(0x656)),null;let _0x31b83d=_0x37d1a9[_0x130c02(0x6cd)];_0x28491b['scheduleFlow'][_0x130c02(0x6cd)]&&_0x28491b[_0x130c02(0x5c3)]['remoteJid'][_0x130c02(0x5d8)]()!==''&&(_0x31b83d=_0x28491b['uazapi'][_0x130c02(0x6cd)][_0x130c02(0x5d8)]());let _0x4dfd35=_0x28491b['scheduleFlow'][_0x130c02(0x8be)]*0xea60,_0x12fc73=Date['now']()+_0x4dfd35,_0x6af36e={'status':_0x130c02(0x625),'info':'Fluxo\x20agendado\x20pelo\x20fluxo\x20'+_0x37d1a9[_0x130c02(0x2f7)],'remoteJids':[_0x31b83d],'when':_0x12fc73,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x130c02(0x6c0),'flowName':_0x28491b[_0x130c02(0x5c3)]['flowName']};this[_0x130c02(0x77e)](_0x6af36e);let _0x4e9d8e=await this[_0x130c02(0x50e)](_0x37d1a9);_0x4e9d8e&&await this[_0x130c02(0x494)](_0x37d1a9,_0x4e9d8e);}async['processgoToFlow'](_0x3684f2,_0x2873e6){const _0x5d9a71=a0_0x7625da;if(this[_0x5d9a71(0x58e)]['verbose'](this[_0x5d9a71(0x1dc)]+'\x20('+this[_0x5d9a71(0x4e6)][_0x5d9a71(0x58c)]+_0x5d9a71(0x608)),!_0x3684f2||!_0x2873e6)return this['logger'][_0x5d9a71(0x3a8)](this['instanceName']+'\x20('+this[_0x5d9a71(0x4e6)][_0x5d9a71(0x58c)]+_0x5d9a71(0x656)),null;await this[_0x5d9a71(0x4b8)](_0x3684f2,_0x2873e6,{},!0x0,!0x0);let _0x37dfff=_0x2873e6[_0x5d9a71(0x3cf)];_0x3684f2=await this[_0x5d9a71(0x3ef)](_0x37dfff,_0x3684f2[_0x5d9a71(0x6cd)],_0x3684f2[_0x5d9a71(0x878)][_0x5d9a71(0x8f0)]);let _0x290433=await this['NextBlock'](_0x3684f2);_0x290433&&await this['processblock'](_0x3684f2,_0x290433);}async[a0_0x7625da(0x3ef)](_0x436301,_0x5b2aaa,_0x380fe7){const _0x3a5b81=a0_0x7625da;this[_0x3a5b81(0x58e)][_0x3a5b81(0x62f)](this[_0x3a5b81(0x1dc)]+'\x20('+this[_0x3a5b81(0x4e6)][_0x3a5b81(0x58c)]+_0x3a5b81(0x739));try{if(_0x436301=await this[_0x3a5b81(0x3f9)][_0x3a5b81(0x6c0)][_0x3a5b81(0x715)]({'where':{'name':_0x436301}},this['instance']['wuid']),!_0x436301)return this[_0x3a5b81(0x58e)][_0x3a5b81(0x3a8)](this[_0x3a5b81(0x1dc)]+'\x20('+this[_0x3a5b81(0x4e6)][_0x3a5b81(0x58c)]+_0x3a5b81(0x825)),null;let _0x441036=require(_0x3a5b81(0x8cf))[_0x3a5b81(0x290)],_0x3aa1d1=Date[_0x3a5b81(0x7cd)](),_0x42e9f6='start',_0x4a9473={},_0x56ba83={},_0x144662={..._0x436301,'chatLog':null},_0x1ceab6={'lastReceivedMessage':_0x4a9473,'lastSendMessage':_0x56ba83,'lastBlockId':_0x42e9f6,'lastCondition':!0x0,'realVariables':_0x380fe7};_0x144662[_0x3a5b81(0x878)]=_0x1ceab6,_0x144662[_0x3a5b81(0x878)]['realVariables']={..._0x380fe7},delete _0x144662['_id'],_0x144662[_0x3a5b81(0x7ce)]=new _0x441036(),_0x144662[_0x3a5b81(0x61f)]=_0x3aa1d1,_0x144662['status']='open',_0x144662[_0x3a5b81(0x6cd)]=_0x5b2aaa;let _0x5f2e4d=await this[_0x3a5b81(0x3f9)][_0x3a5b81(0x6c7)][_0x3a5b81(0x819)](_0x144662[_0x3a5b81(0x7ce)],_0x144662,this[_0x3a5b81(0x4e6)][_0x3a5b81(0x58c)]);return this['logger'][_0x3a5b81(0x62f)](this[_0x3a5b81(0x1dc)]+'\x20('+this[_0x3a5b81(0x4e6)][_0x3a5b81(0x58c)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x5f2e4d?_0x144662:null;}catch(_0x13807d){let _0x2616b3=_0x3a5b81(0x2b5),_0x5bb510=_0x13807d instanceof Error?_0x13807d['message']:typeof _0x13807d==_0x3a5b81(0x559)?JSON[_0x3a5b81(0x511)](_0x13807d):_0x13807d,_0x2755c0=_0x2616b3+':\x20'+_0x5bb510;throw this[_0x3a5b81(0x58e)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20'+_0x2755c0),new m(_0x2755c0);}}async[a0_0x7625da(0x5b2)](_0x2add8e,_0x3ece07){const _0x156451=a0_0x7625da;let _0x242d94,_0x273727;try{let _0xb34df9=_0x3ece07[_0x156451(0x372)];if(!_0xb34df9||!_0xb34df9[_0x156451(0x624)]||!_0xb34df9[_0x156451(0x842)])throw new Error(_0x156451(0x435));let _0x33b627;([_0x156451(0x3eb),_0x156451(0x820),_0x156451(0x1f2)]['some'](_0x1d43ff=>_0xb34df9[_0x156451(0x624)][_0x156451(0x80b)](_0x1d43ff))||_0xb34df9[_0x156451(0x789)])&&(_0x33b627='arraybuffer');let _0x504487='\u205f',_0xb75eaa;try{_0xb75eaa=JSON[_0x156451(0x4ef)](_0xb34df9[_0x156451(0x6e3)][_0x156451(0x614)](new RegExp(_0x504487,'g'),''));}catch(_0x4e8d45){throw _0x4e8d45;}let _0x442ca0={'method':_0xb34df9[_0x156451(0x842)],'url':_0xb34df9[_0x156451(0x624)],'headers':_0xb34df9[_0x156451(0x213)]||{},..._0xb34df9[_0x156451(0x842)][_0x156451(0x3f0)]()!==_0x156451(0x75c)&&_0xb34df9[_0x156451(0x6e3)]?{'data':JSON['parse'](_0xb34df9[_0x156451(0x6e3)]['replace'](new RegExp(_0x504487,'g'),''))}:{},..._0x33b627&&{'responseType':_0x33b627}},_0x55a8d9=await(0x0,Q[_0x156451(0x716)])(_0x442ca0),_0x3baa39=_0x55a8d9['headers']['content-type'];if(_0x3baa39&&_0x3baa39[_0x156451(0x80b)](_0x156451(0x712))||typeof _0x55a8d9['data']=='string'){if(typeof _0x55a8d9[_0x156451(0x39e)]==_0x156451(0x5f1)){let _0x1a9b13=_0x55a8d9[_0x156451(0x39e)][_0x156451(0x614)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x156451(0x5d8)]();try{_0x242d94=JSON['parse'](_0x1a9b13);}catch(_0x37c311){console[_0x156451(0x3a8)](_0x156451(0x711)+_0x37c311[_0x156451(0x1ff)]),_0x242d94={'_apiResponse':_0x55a8d9['data']};}}else _0x242d94=_0x55a8d9['data'];let _0x54d961=_0x2add8e[_0x156451(0x878)][_0x156451(0x8f0)],_0x24697f=this['flattenObject'](_0x242d94);return Object['assign'](_0x54d961,_0x24697f),_0x2add8e[_0x156451(0x878)][_0x156451(0x8f0)]=_0x54d961,_0x273727={'error':!0x1,'apiResponse':_0x242d94},this[_0x156451(0x4b8)](_0x2add8e,_0x3ece07,_0x273727),_0x242d94;}if(_0x3baa39&&(_0x3baa39[_0x156451(0x80b)]('application/octet-stream')||_0x3baa39[_0x156451(0x80b)]('image')||_0x3baa39[_0x156451(0x80b)](_0x156451(0x671))||_0x3baa39[_0x156451(0x80b)](_0x156451(0x717)))){this[_0x156451(0x58e)][_0x156451(0x62f)](this['instanceName']+'\x20('+this[_0x156451(0x4e6)][_0x156451(0x58c)]+'):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20'+_0x3baa39);let _0x1b931e=(0x0,Me['v4'])(),_0x6e1815='',_0x3a5970={'image/jpeg':_0x156451(0x601),'image/png':'.png','image/gif':'.gif','image/webp':_0x156451(0x7c1),'image/svg+xml':'.svg','audio/mpeg':_0x156451(0x6e4),'audio/ogg':'.ogg','audio/wav':_0x156451(0x70d),'video/mp4':_0x156451(0x844),'video/webm':'.webm','video/ogg':_0x156451(0x602),'text/plain':_0x156451(0x44e),'application/pdf':'.pdf','application/msword':_0x156451(0x30a),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x156451(0x2b4),'application/vnd.ms-excel':_0x156451(0x227),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x156451(0x6d1),'application/vnd.ms-powerpoint':_0x156451(0x5bc),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x156451(0x454)};_0x3a5970[_0x3baa39]?(_0x6e1815=_0x3a5970[_0x3baa39],this['logger'][_0x156451(0x62f)](this[_0x156451(0x1dc)]+'\x20('+this[_0x156451(0x4e6)][_0x156451(0x58c)]+_0x156451(0x51e)+_0x6e1815)):(_0x6e1815=_0x156451(0x528),this['logger']['verbose'](this[_0x156451(0x1dc)]+'\x20('+this[_0x156451(0x4e6)][_0x156451(0x58c)]+_0x156451(0x3d2)+_0x6e1815)),_0x1b931e+=_0x6e1815,this['logger'][_0x156451(0x62f)](this[_0x156451(0x1dc)]+'\x20('+this[_0x156451(0x4e6)][_0x156451(0x58c)]+_0x156451(0x71f)+_0x1b931e);let _0x57b38a=this[_0x156451(0x724)][_0x156451(0x7c4)](_0x156451(0x8b4))[_0x156451(0x4b7)];if(!_0x57b38a){let _0xc16898=this[_0x156451(0x724)]['get']('SSL_CONF');_0x57b38a=_0x156451(0x289)+(_0xc16898&&_0xc16898[_0x156451(0x8c4)][_0x156451(0x1e9)]('/')[0x4]);}let _0x25bf4e=Buffer[_0x156451(0x861)](_0x55a8d9[_0x156451(0x39e)]);await this['saveMediaToFile'](_0x25bf4e,_0x1b931e);let _0x2618a6=_0x156451(0x732)+_0x1b931e;_0x2618a6=''+_0x57b38a+_0x2618a6,_0x242d94={'fileUrl':_0x2618a6},_0x2add8e[_0x156451(0x878)][_0x156451(0x8f0)][_0x156451(0x2b7)]=_0x2618a6;let _0x108116=_0x2add8e[_0x156451(0x878)][_0x156451(0x8f0)],_0x59832=this[_0x156451(0x431)](_0x242d94);return Object[_0x156451(0x1fd)](_0x108116,_0x59832),_0x2add8e[_0x156451(0x878)][_0x156451(0x8f0)]=_0x108116,_0x273727={'error':!0x1,'apiResponse':{'fileUrl':_0x2618a6}},this[_0x156451(0x4b8)](_0x2add8e,_0x3ece07,_0x273727),_0x242d94;}}catch(_0x3e58f0){console[_0x156451(0x3a8)](_0x156451(0x54b),_0x3e58f0[_0x156451(0x1ff)]),_0x3e58f0['response']&&(_0x242d94=_0x3e58f0[_0x156451(0x26f)][_0x156451(0x39e)]);let _0x3c7523=_0x2add8e[_0x156451(0x878)][_0x156451(0x8f0)],_0x4cbfed=this[_0x156451(0x431)](_0x242d94);return Object[_0x156451(0x1fd)](_0x3c7523,_0x4cbfed),_0x2add8e[_0x156451(0x878)][_0x156451(0x8f0)]=_0x3c7523,_0x273727={'error':!0x0,'errorLog':_0x3e58f0[_0x156451(0x455)](),'apiResponse':_0x242d94},this[_0x156451(0x4b8)](_0x2add8e,_0x3ece07,_0x273727),{'success':!0x1};}}[a0_0x7625da(0x795)](_0x27a0bb,_0xe9b9ff){const _0x2bdb7f=a0_0x7625da;let _0x5db73a=_0x46b6e5=>{const _0x4f6a94=a0_0x5efa;let _0x12e975=_0x46b6e5[_0x4f6a94(0x614)](/[^0-9.,-]/g,'')[_0x4f6a94(0x614)](',','.'),_0x1d76da=parseFloat(_0x12e975);return isNaN(_0x1d76da)?null:_0x1d76da;},_0x29411f=_0xe9b9ff[_0x2bdb7f(0x4cd)],_0x30ced4=_0xe9b9ff[_0x2bdb7f(0x864)];typeof _0x29411f==_0x2bdb7f(0x5f1)&&(_0x29411f=this[_0x2bdb7f(0x54f)](_0x29411f,_0x27a0bb[_0x2bdb7f(0x878)][_0x2bdb7f(0x8f0)])??''),typeof _0x30ced4==_0x2bdb7f(0x5f1)&&(_0x30ced4=this[_0x2bdb7f(0x54f)](_0x30ced4,_0x27a0bb[_0x2bdb7f(0x878)][_0x2bdb7f(0x8f0)])??'');let _0x233544=null;if(!_0xe9b9ff[_0x2bdb7f(0x2f1)])return null;switch(this['logger']['verbose'](this[_0x2bdb7f(0x1dc)]+'\x20('+this['instance'][_0x2bdb7f(0x58c)]+_0x2bdb7f(0x8dc)+_0x29411f),this[_0x2bdb7f(0x58e)][_0x2bdb7f(0x62f)](this[_0x2bdb7f(0x1dc)]+'\x20('+this['instance']['wuid']+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x30ced4),_0xe9b9ff[_0x2bdb7f(0x2f1)]){case'+':case'-':case'*':case'/':let _0x503fc2=_0x5db73a(_0x29411f||'0'),_0x4d004e=_0x5db73a(_0x30ced4||'0');if(_0x503fc2===null)return null;switch(_0xe9b9ff[_0x2bdb7f(0x2f1)]){case'+':_0x233544=_0x503fc2+(_0x4d004e??0x0);break;case'-':_0x233544=_0x503fc2-(_0x4d004e??0x0);break;case'*':_0x233544=_0x503fc2*(_0x4d004e??0x1);break;case'/':_0x4d004e!==0x0&&(_0x233544=_0x503fc2/(_0x4d004e??0x1));break;}break;case _0x2bdb7f(0x699):case _0x2bdb7f(0x251):let _0x33809c=_0x30ced4,_0x2959d5=_0xe9b9ff[_0x2bdb7f(0x896)];if(typeof _0x2959d5==_0x2bdb7f(0x5f1)&&(_0x2959d5=this[_0x2bdb7f(0x54f)](_0x2959d5,_0x27a0bb[_0x2bdb7f(0x878)][_0x2bdb7f(0x8f0)])??''),_0x33809c&&_0x2959d5!==void 0x0){let _0x27990e=_0xe9b9ff[_0x2bdb7f(0x2f1)]===_0x2bdb7f(0x699)?new RegExp(_0x33809c[_0x2bdb7f(0x614)](/[-\/\\^$*+?.()|[\]{}]/g,_0x2bdb7f(0x3f3)),'g'):new RegExp(_0x33809c,'g');_0x233544=_0x29411f[_0x2bdb7f(0x614)](_0x27990e,_0x2959d5);}else console['warn'](_0x2bdb7f(0x8bd));break;case _0x2bdb7f(0x814):_0x233544=_0x30ced4;break;case _0x2bdb7f(0x838):let _0x73c89f=_0x29411f[_0x2bdb7f(0x257)](new RegExp(_0x30ced4||''));_0x233544=_0x73c89f?_0x73c89f[0x0]:'';break;case _0x2bdb7f(0x758):_0x233544=_0x29411f[_0x2bdb7f(0x6b9)](0x0,parseInt(_0x30ced4||'0'));break;case _0x2bdb7f(0x56e):let _0x2c2383=parseInt(_0x30ced4||'0');_0x233544=_0x29411f[_0x2bdb7f(0x6b9)](_0x29411f['length']-_0x2c2383);break;case'toBrazilianNumberFormat':let _0x15a307=_0x5db73a(_0x29411f),_0x2d7c9d=parseInt(_0x30ced4||'0');_0x2d7c9d=Math[_0x2bdb7f(0x639)](_0x2d7c9d),_0x15a307!==null?_0x233544=_0x15a307[_0x2bdb7f(0x7bd)](_0x2bdb7f(0x89e),{'minimumFractionDigits':_0x2d7c9d,'maximumFractionDigits':_0x2d7c9d}):(console[_0x2bdb7f(0x6ef)](_0x2bdb7f(0x731)+_0x29411f),_0x233544=null);break;case'toBRL':let _0x1d67f0=_0x5db73a(_0x29411f);_0x1d67f0!==null?_0x233544=_0x1d67f0[_0x2bdb7f(0x7bd)](_0x2bdb7f(0x89e),{'style':_0x2bdb7f(0x23f),'currency':_0x2bdb7f(0x474)}):(console['warn'](_0x2bdb7f(0x423)+_0x29411f),_0x233544=null);break;case _0x2bdb7f(0x719):_0x233544=_0x29411f['toUpperCase']();break;case _0x2bdb7f(0x7a5):_0x233544=_0x29411f[_0x2bdb7f(0x6e5)]();break;case _0x2bdb7f(0x8d4):_0x233544=_0x29411f[_0x2bdb7f(0x1e9)]('\x20')['map'](_0x21150e=>_0x21150e[_0x2bdb7f(0x53e)](0x0)['toUpperCase']()+_0x21150e[_0x2bdb7f(0x6b9)](0x1)['toLowerCase']())[_0x2bdb7f(0x867)]('\x20');break;case _0x2bdb7f(0x70c):_0x233544=_0x29411f[_0x2bdb7f(0x5d8)]();break;default:_0x233544=_0x29411f;}return _0x233544!==null?_0x233544[_0x2bdb7f(0x455)]():null;}async['processvaredits'](_0x5d31ee,_0x500940){const _0x5a4295=a0_0x7625da;try{let _0x39d523=_0x5d31ee['varedits']?.['filter'](_0x473abd=>_0x473abd[_0x5a4295(0x1f7)]===_0x500940[_0x5a4295(0x7ce)]?.[_0x5a4295(0x455)]())||[],_0x2033ff=_0x500940[_0x5a4295(0x685)],_0x4d8aa3=null,_0x531aa5=[],_0x5558f5=_0x5d31ee['chatLog'][_0x5a4295(0x8f0)][_0x2033ff];_0x531aa5[_0x5a4295(0x566)]('Valor\x20inicial:\x20\x22'+_0x5558f5+'\x22');for(let _0xdbe00a of _0x39d523){_0xdbe00a['firstValue']=_0x5558f5,_0x4d8aa3=_0xdbe00a[_0x5a4295(0x4cd)];let _0x20cde6;try{_0x20cde6=this[_0x5a4295(0x795)](_0x5d31ee,_0xdbe00a);}catch(_0x154003){console[_0x5a4295(0x3a8)]('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x154003[_0x5a4295(0x1ff)]);continue;}if(_0x20cde6!==null){let _0x2f5760='Operador:\x20\x22'+_0xdbe00a['editOperator']+'\x22',_0x2b28c1=['toBRL','upperCase',_0x5a4295(0x7a5),'capitalizedWords','trimmed'];_0xdbe00a['editOperator']===_0x5a4295(0x699)||_0xdbe00a['editOperator']===_0x5a4295(0x251)?_0x2f5760+=_0x5a4295(0x332)+_0xdbe00a[_0x5a4295(0x864)]+_0x5a4295(0x3f2)+_0xdbe00a[_0x5a4295(0x896)]+'\x22':!_0x2b28c1[_0x5a4295(0x80b)](_0xdbe00a[_0x5a4295(0x2f1)])&&_0xdbe00a[_0x5a4295(0x864)]!==null&&_0xdbe00a[_0x5a4295(0x864)]!==void 0x0&&(_0x2f5760+=',\x20valor\x20passado:\x20\x22'+_0xdbe00a[_0x5a4295(0x864)]+'\x22'),_0x2f5760+=',\x20resultado:\x20'+_0x20cde6+'.',_0x531aa5[_0x5a4295(0x566)](_0x2f5760);}_0x20cde6!==null&&(_0x5558f5=_0x20cde6);}if(_0x5d31ee[_0x5a4295(0x878)][_0x5a4295(0x8f0)]&&_0x500940[_0x5a4295(0x685)]){_0x5d31ee['chatLog'][_0x5a4295(0x8f0)][_0x500940[_0x5a4295(0x685)]]=_0x5558f5;let _0x47fa19={'variable':_0x500940['saveVariable'],'oldValue':_0x4d8aa3,'newValue':_0x5558f5,'moreLogs':_0x531aa5};try{this[_0x5a4295(0x4b8)](_0x5d31ee,_0x500940,_0x47fa19);}catch(_0x53c1d6){console[_0x5a4295(0x3a8)](_0x5a4295(0x5f9)+_0x53c1d6[_0x5a4295(0x1ff)]);}}return _0x2033ff;}catch(_0x4e47e8){return console[_0x5a4295(0x3a8)](_0x5a4295(0x417)+_0x4e47e8[_0x5a4295(0x1ff)]),null;}}async[a0_0x7625da(0x46d)](_0x290520,_0x18588e){const _0xc37d25=a0_0x7625da;try{let _0x4373a8=[],_0x211de1=_0x290520['conditions'][_0xc37d25(0x3ca)](_0x495e4d=>_0x495e4d[_0xc37d25(0x1f7)]===_0x18588e[_0xc37d25(0x7ce)][_0xc37d25(0x455)]()),_0xd6bafc=null,_0x4811c5=!0x1;for(let _0x531721 of _0x211de1){let _0x48e0be=this['evaluateCondition'](_0x290520,_0x531721);_0x4373a8[_0xc37d25(0x566)]('Primeiro\x20Valor:\x20'+_0x531721[_0xc37d25(0x4cd)]+',\x20Comparador:\x20'+_0x531721[_0xc37d25(0x8c3)]+_0xc37d25(0x6a2)+_0x531721[_0xc37d25(0x864)]+_0xc37d25(0x640)+_0x48e0be),_0xd6bafc===null?_0xd6bafc=_0x48e0be:_0x531721[_0xc37d25(0x37a)]==='and'?(_0xd6bafc=_0xd6bafc&&_0x48e0be,_0x48e0be||(_0x4811c5=!0x0)):_0x531721[_0xc37d25(0x37a)]==='or'&&(_0x4811c5||(_0xd6bafc=_0xd6bafc||_0x48e0be));}_0xd6bafc===null&&(_0xd6bafc=!0x0);let _0x31428e={'moreLogs':_0x4373a8};_0x290520[_0xc37d25(0x878)][_0xc37d25(0x460)]=_0xd6bafc,await this['updateConversation'](_0x290520,_0x18588e,_0x31428e);}catch(_0x5d9d7e){this[_0xc37d25(0x58e)][_0xc37d25(0x3a8)](this[_0xc37d25(0x1dc)]+'\x20('+this[_0xc37d25(0x4e6)][_0xc37d25(0x58c)]+_0xc37d25(0x46a)+(_0x5d9d7e instanceof Error?_0x5d9d7e[_0xc37d25(0x1ff)]:JSON[_0xc37d25(0x511)](_0x5d9d7e,null,0x2)));}}[a0_0x7625da(0x88e)](_0x2bb1a3,_0xdbb6a1){const _0x4a531d=a0_0x7625da;let _0x401450=_0xdbb6a1[_0x4a531d(0x4cd)],_0x5ad3ba=_0xdbb6a1[_0x4a531d(0x864)];typeof _0x401450==_0x4a531d(0x5f1)&&(_0x401450=this[_0x4a531d(0x54f)](_0x401450,_0x2bb1a3['chatLog']['realVariables'])??''),typeof _0x5ad3ba==_0x4a531d(0x5f1)&&(_0x5ad3ba=this['replaceVariables'](_0x5ad3ba,_0x2bb1a3['chatLog']['realVariables'])??'');try{switch(_0xdbb6a1[_0x4a531d(0x8c3)]){case _0x4a531d(0x530):return _0x401450===_0x5ad3ba;case _0x4a531d(0x6f6):return _0x401450!==_0x5ad3ba;case'contains':return this[_0x4a531d(0x76f)](_0x401450,_0x5ad3ba);case'notContains':return!this[_0x4a531d(0x76f)](_0x401450,_0x5ad3ba);case _0x4a531d(0x578):return parseFloat(_0x401450)>parseFloat(_0x5ad3ba);case _0x4a531d(0x8cd):return parseFloat(_0x401450)<parseFloat(_0x5ad3ba);case _0x4a531d(0x3b2):return _0x401450!=='';case _0x4a531d(0x7fa):return _0x401450==='';case _0x4a531d(0x53d):return new RegExp(_0x5ad3ba)[_0x4a531d(0x391)](_0x401450);case _0x4a531d(0x8c7):return!new RegExp(_0x5ad3ba)[_0x4a531d(0x391)](_0x401450);default:return!0x1;}}catch(_0x4bb374){return console[_0x4a531d(0x3a8)](_0x4a531d(0x36d)+_0x4bb374),!0x1;}}[a0_0x7625da(0x76f)](_0x140d66,_0x4c365f){const _0x19b81c=a0_0x7625da;if(_0x140d66===_0x4c365f&&/^\d+$/['test'](_0x140d66))return!0x0;if(this['isListOfNumbers'](_0x140d66)&&/^\d+$/[_0x19b81c(0x391)](_0x4c365f)){let _0x2a3ff2=_0x140d66[_0x19b81c(0x1e9)](',')[_0x19b81c(0x1ec)](_0x452122=>parseInt(_0x452122['trim']())),_0x12e45f=parseInt(_0x4c365f);return _0x2a3ff2['includes'](_0x12e45f);}return _0x140d66[_0x19b81c(0x80b)](_0x4c365f);}[a0_0x7625da(0x7b8)](_0x5ef7e6){const _0x4d6275=a0_0x7625da;return/^\d+(,\d+)*$/[_0x4d6275(0x391)](_0x5ef7e6);}['processConditionsTest'](_0x58c519){const _0x25aca2=a0_0x7625da;let _0x4982dc=!0x0,_0x336ea2=null;for(let _0x2db1e2 of _0x58c519){let _0x576bdd=this[_0x25aca2(0x74e)](_0x2db1e2);if(_0x336ea2==='or'&&_0x576bdd){_0x4982dc=!0x0;break;}if(_0x336ea2===_0x25aca2(0x774)&&!_0x576bdd){_0x4982dc=!0x1;break;}_0x336ea2=_0x2db1e2[_0x25aca2(0x37a)];}return _0x4982dc;}['evaluateConditionTest'](_0x4764e4){const _0x2f4a6a=a0_0x7625da;let _0x3d9136=_0x4764e4[_0x2f4a6a(0x4cd)],_0x53fba8=_0x4764e4[_0x2f4a6a(0x864)];try{switch(_0x4764e4[_0x2f4a6a(0x8c3)]){case _0x2f4a6a(0x530):return String(_0x3d9136)===String(_0x53fba8);case'notEqual':return String(_0x3d9136)!==String(_0x53fba8);case'contains':return String(_0x3d9136)[_0x2f4a6a(0x80b)](String(_0x53fba8));case'notContains':return!String(_0x3d9136)[_0x2f4a6a(0x80b)](String(_0x53fba8));case'greater':return parseFloat(String(_0x3d9136))>parseFloat(String(_0x53fba8));case _0x2f4a6a(0x8cd):return parseFloat(String(_0x3d9136))<parseFloat(String(_0x53fba8));case _0x2f4a6a(0x3b2):return String(_0x3d9136)!=='';case _0x2f4a6a(0x7fa):return String(_0x3d9136)==='';case _0x2f4a6a(0x53d):return new RegExp(String(_0x53fba8))[_0x2f4a6a(0x391)](String(_0x3d9136));case'notMatchRegex':return!new RegExp(String(_0x53fba8))['test'](String(_0x3d9136));default:return!0x1;}}catch(_0x23f6ea){return console[_0x2f4a6a(0x3a8)](_0x2f4a6a(0x36d)+_0x23f6ea),!0x1;}}async[a0_0x7625da(0x503)](_0x5599ab,_0x18f3c5){const _0x761756=a0_0x7625da;if(this[_0x761756(0x58e)][_0x761756(0x62f)](this[_0x761756(0x1dc)]+'\x20('+this['instance'][_0x761756(0x58c)]+_0x761756(0x1f0)),!_0x5599ab||!_0x18f3c5)return this[_0x761756(0x58e)][_0x761756(0x3a8)](this['instanceName']+'\x20('+this[_0x761756(0x4e6)][_0x761756(0x58c)]+_0x761756(0x656)),null;let _0x3d5b30=_0x5599ab[_0x761756(0x878)]['lastReceivedMessage']['key']['id'];this[_0x761756(0x58e)][_0x761756(0x62f)](this[_0x761756(0x1dc)]+'\x20('+this[_0x761756(0x4e6)][_0x761756(0x58c)]+'):\x20mediaMessageInfoId\x20:\x20'+_0x3d5b30);let _0x49bae6={'key':{'id':_0x3d5b30}},_0x58b800=_0x18f3c5[_0x761756(0x685)];_0x5599ab[_0x761756(0x878)][_0x761756(0x8f0)]['_'+_0x58b800+_0x761756(0x74c)]=null,_0x5599ab[_0x761756(0x878)]['realVariables']['_'+_0x58b800+_0x761756(0x6bb)]=null,_0x5599ab[_0x761756(0x878)]['realVariables']['_'+_0x58b800+_0x761756(0x2e3)]=null,_0x5599ab[_0x761756(0x878)][_0x761756(0x8f0)]['_'+_0x58b800+_0x761756(0x755)]=_0x5599ab[_0x761756(0x878)][_0x761756(0x72d)]['type'];try{let _0x56d0db=await this[_0x761756(0x38e)](_0x49bae6);this['logger'][_0x761756(0x62f)](this['instanceName']+'\x20('+this[_0x761756(0x4e6)][_0x761756(0x58c)]+'):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.'),_0x5599ab[_0x761756(0x878)]['realVariables']['_'+_0x58b800+_0x761756(0x48a)]=_0x56d0db['fileUrl'],_0x5599ab[_0x761756(0x878)][_0x761756(0x8f0)]['_'+_0x58b800+'.mimetype']=_0x56d0db[_0x761756(0x8a9)];let _0x17d6ec=_0x56d0db[_0x761756(0x8a9)][_0x761756(0x257)](/\/(\w+)$/),_0x2c50de=_0x17d6ec?_0x17d6ec[0x1]:null;_0x5599ab['chatLog']['realVariables']['_'+_0x58b800+_0x761756(0x2e3)]=_0x2c50de,this[_0x761756(0x58e)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x761756(0x58c)]+_0x761756(0x471)+_0x58b800+'\x27.');}catch(_0x2e52b0){this[_0x761756(0x58e)][_0x761756(0x3a8)](this['instanceName']+'\x20('+this[_0x761756(0x4e6)][_0x761756(0x58c)]+_0x761756(0x596)+_0x2e52b0);}let _0x358311=_0x5599ab['chatLog']['lastReceivedMessage'][_0x761756(0x3e8)]||_0x5599ab[_0x761756(0x878)][_0x761756(0x72d)]['caption']||_0x5599ab['chatLog']['lastReceivedMessage'][_0x761756(0x28c)];try{_0x5599ab[_0x761756(0x878)][_0x761756(0x8f0)]||(_0x5599ab[_0x761756(0x878)][_0x761756(0x8f0)]={});let _0x59a23c=_0x5599ab['chatLog'][_0x761756(0x8f0)][_0x58b800];_0x5599ab[_0x761756(0x878)][_0x761756(0x8f0)][_0x58b800]=_0x358311;let _0x8b1a2b={'variable':_0x58b800,'oldValue':_0x59a23c,'newValue':_0x358311};this[_0x761756(0x4b8)](_0x5599ab,_0x18f3c5,_0x8b1a2b),this[_0x761756(0x58e)][_0x761756(0x62f)](this[_0x761756(0x1dc)]+'\x20('+this[_0x761756(0x4e6)][_0x761756(0x58c)]+'):\x20Conversa\x20atualizada\x20em\x20memória');}catch(_0x427ed3){let _0x200f15={'error':!0x0,'errorLog':_0x427ed3[_0x761756(0x455)]()};return this[_0x761756(0x4b8)](_0x5599ab,_0x18f3c5,_0x200f15),this[_0x761756(0x58e)][_0x761756(0x3a8)](this[_0x761756(0x1dc)]+'\x20('+this['instance'][_0x761756(0x58c)]+_0x761756(0x4aa)+(_0x427ed3 instanceof Error?_0x427ed3[_0x761756(0x1ff)]:JSON[_0x761756(0x511)](_0x427ed3,null,0x2))),null;}}async[a0_0x7625da(0x57d)](_0x12b595,_0x24ac8c){const _0x48b9cc=a0_0x7625da;if(this[_0x48b9cc(0x58e)][_0x48b9cc(0x62f)](this[_0x48b9cc(0x1dc)]+'\x20('+this[_0x48b9cc(0x4e6)][_0x48b9cc(0x58c)]+_0x48b9cc(0x772)),!_0x12b595||!_0x24ac8c)return this[_0x48b9cc(0x58e)][_0x48b9cc(0x3a8)](this[_0x48b9cc(0x1dc)]+'\x20('+this[_0x48b9cc(0x4e6)]['wuid']+_0x48b9cc(0x656)),null;let _0x1ee9f0=Date[_0x48b9cc(0x7cd)](),_0x32d905=parseInt(_0x24ac8c[_0x48b9cc(0x6fc)],0xa);if(isNaN(_0x32d905))return this['logger'][_0x48b9cc(0x3a8)](this[_0x48b9cc(0x1dc)]+'\x20('+this[_0x48b9cc(0x4e6)]['wuid']+_0x48b9cc(0x674)),null;let _0x4a3802={'newStoppedUntil':_0x1ee9f0+_0x32d905*0x3c*0x3e8};return await this[_0x48b9cc(0x4b8)](_0x12b595,_0x24ac8c,_0x4a3802,!0x0),null;}async[a0_0x7625da(0x833)](_0x1acfb2,_0x1538d3){const _0x436e41=a0_0x7625da;try{switch(_0x1538d3[_0x436e41(0x6b8)][_0x436e41(0x2a5)]){case _0x436e41(0x313):await this[_0x436e41(0x3c9)](_0x1acfb2,_0x1538d3);break;case _0x436e41(0x4e1):await this[_0x436e41(0x4bc)](_0x1acfb2,_0x1538d3);break;case _0x436e41(0x8c6):await this[_0x436e41(0x6f5)](_0x1acfb2,_0x1538d3);break;case _0x436e41(0x846):await this[_0x436e41(0x8bf)](_0x1acfb2,_0x1538d3);break;case _0x436e41(0x324):await this[_0x436e41(0x292)](_0x1acfb2,_0x1538d3);break;case'sendPoll':await this[_0x436e41(0x49e)](_0x1acfb2,_0x1538d3);break;case _0x436e41(0x5cd):await this[_0x436e41(0x49e)](_0x1acfb2,_0x1538d3);break;case _0x436e41(0x764):await this['uazapiDeleteMessage'](_0x1acfb2,_0x1538d3);break;default:this['logger'][_0x436e41(0x3a8)](this[_0x436e41(0x1dc)]+'\x20('+this[_0x436e41(0x4e6)][_0x436e41(0x58c)]+'):\x20Comando\x20desconhecido:\x20'+_0x1538d3[_0x436e41(0x6b8)][_0x436e41(0x2a5)]);}}catch(_0x327f95){this[_0x436e41(0x58e)]['error'](this[_0x436e41(0x1dc)]+'\x20('+this['instance'][_0x436e41(0x58c)]+_0x436e41(0x375)+(_0x327f95 instanceof Error?_0x327f95[_0x436e41(0x1ff)]:JSON[_0x436e41(0x511)](_0x327f95,null,0x2)));}}async['updateConversation'](_0x1c782f,_0x244657,_0x456c8f,_0x22ba59=!0x1,_0x4b9256=!0x1){const _0x1270b3=a0_0x7625da;_0x1c782f[_0x1270b3(0x878)][_0x1270b3(0x7c8)]||(_0x1c782f['chatLog'][_0x1270b3(0x7c8)]=[]);let _0x531b32=(_0x1c782f[_0x1270b3(0x878)][_0x1270b3(0x7c8)]?.[_0x1270b3(0x779)]??0x0)+0x1,_0x1fd452=_0x1c782f[_0x1270b3(0x878)][_0x1270b3(0x7c8)]['filter'](_0x3a9303=>String(_0x3a9303['blockId'])===String(_0x244657[_0x1270b3(0x7ce)]))[_0x1270b3(0x779)]+0x1,_0x136c54=_0x456c8f?.[_0x1270b3(0x31e)]??Date[_0x1270b3(0x7cd)](),_0x31c492=_0x456c8f?.[_0x1270b3(0x3a8)]?_0x456c8f['errorLog']??_0x456c8f[_0x1270b3(0x3a8)][_0x1270b3(0x455)]():void 0x0,_0x33500b={'onTime':_0x136c54,'blockId':_0x244657[_0x1270b3(0x7ce)],'order':_0x531b32,'activatedCount':_0x1fd452,'error':_0x456c8f?.[_0x1270b3(0x3a8)]??!0x1,'messageId':_0x456c8f?.[_0x1270b3(0x48e)],'apiResponse':_0x456c8f?.['apiResponse'],'apiResponseString':_0x456c8f?.[_0x1270b3(0x5b7)]?JSON[_0x1270b3(0x511)](_0x456c8f?.[_0x1270b3(0x5b7)]):void 0x0,'variable':_0x456c8f?.['variable'],'oldValue':_0x456c8f?.[_0x1270b3(0x72b)],'newValue':_0x456c8f?.[_0x1270b3(0x8ec)],'newStoppedUntil':_0x456c8f?.[_0x1270b3(0x525)],'moreLogs':_0x456c8f?.[_0x1270b3(0x780)],'errorLog':_0x31c492};if(_0x456c8f[_0x1270b3(0x780)]&&_0x456c8f[_0x1270b3(0x780)]['length']>0x0){let _0x3c19e1=_0x456c8f['moreLogs'][_0x1270b3(0x1ec)](_0x122f65=>this['replaceVariablesLogs'](_0x122f65,_0x1c782f[_0x1270b3(0x878)][_0x1270b3(0x8f0)]));_0x33500b[_0x1270b3(0x780)]=_0x3c19e1;}if(_0x1c782f[_0x1270b3(0x878)][_0x1270b3(0x8f0)]||(_0x1c782f[_0x1270b3(0x878)][_0x1270b3(0x8f0)]={}),_0x1c782f[_0x1270b3(0x878)][_0x1270b3(0x8f0)]['_activatedCount']=String(_0x1fd452),_0x1c782f['chatLog'][_0x1270b3(0x8f0)][_0x1270b3(0x461)]=String(_0x456c8f['error']??!0x1),_0x1c782f[_0x1270b3(0x878)]['blockLogs'][_0x1270b3(0x566)](_0x33500b),_0x1c782f[_0x1270b3(0x878)][_0x1270b3(0x8f0)][_0x1270b3(0x2da)]&&_0x1c782f[_0x1270b3(0x878)]['realVariables']['telefone']!==_0x1c782f[_0x1270b3(0x6cd)]){let _0x19283a=(await this['whatsappNumber']({'numbers':[_0x1c782f[_0x1270b3(0x878)][_0x1270b3(0x8f0)][_0x1270b3(0x2da)]]}))[0x0][_0x1270b3(0x2b9)];_0x1c782f[_0x1270b3(0x878)][_0x1270b3(0x8f0)]['telefone']=_0x19283a,_0x1c782f[_0x1270b3(0x6cd)]=_0x19283a;try{let _0xda8d7c={'_id':{'$ne':_0x1c782f['_id']},'remoteJid':_0x19283a,'status':_0x1270b3(0x32e)},_0x12d19d={'status':'closed'};await this['repository'][_0x1270b3(0x6c7)][_0x1270b3(0x829)](_0xda8d7c,_0x12d19d,this['instance'][_0x1270b3(0x58c)]),this[_0x1270b3(0x58e)][_0x1270b3(0x62f)](this[_0x1270b3(0x1dc)]+'\x20('+this[_0x1270b3(0x4e6)][_0x1270b3(0x58c)]+_0x1270b3(0x759));}catch(_0x3f1547){this[_0x1270b3(0x58e)][_0x1270b3(0x3a8)](this[_0x1270b3(0x1dc)]+'\x20('+this[_0x1270b3(0x4e6)]['wuid']+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x3f1547['message']);}try{let _0x42955e=_0x1c782f[_0x1270b3(0x878)][_0x1270b3(0x8f0)],_0x400979=await this[_0x1270b3(0x6f9)](_0x19283a),_0x28ca50={..._0x42955e,..._0x400979,'_remoteJid':_0x19283a};_0x1c782f[_0x1270b3(0x878)][_0x1270b3(0x8f0)]=_0x28ca50;}catch(_0x96f004){this[_0x1270b3(0x58e)][_0x1270b3(0x3a8)](this['instanceName']+'\x20('+this[_0x1270b3(0x4e6)][_0x1270b3(0x58c)]+_0x1270b3(0x275)+_0x96f004[_0x1270b3(0x1ff)]);}}_0x1c782f['chatLog'][_0x1270b3(0x4ff)]=_0x244657[_0x1270b3(0x7ce)][_0x1270b3(0x455)](),_0x1c782f['chatLog']['lastSendMessage']&&(_0x1c782f['chatLog'][_0x1270b3(0x3dd)]=_0x1c782f['chatLog'][_0x1270b3(0x3dd)]),_0x1c782f[_0x1270b3(0x878)]['lastReceivedMessage']&&(_0x1c782f[_0x1270b3(0x878)]['lastReceivedMessage']=_0x1c782f['chatLog'][_0x1270b3(0x72d)]),_0x1c782f[_0x1270b3(0x878)]['lastCondition']&&(_0x1c782f['chatLog'][_0x1270b3(0x460)]=_0x1c782f[_0x1270b3(0x878)][_0x1270b3(0x460)]),_0x4b9256&&(_0x1c782f[_0x1270b3(0x464)]=_0x1270b3(0x7ab)),_0x22ba59?this['saveConversationToDatabase'](_0x1c782f):this[_0x1270b3(0x2ad)](_0x1c782f,_0x244657);}[a0_0x7625da(0x860)](_0x52fe40,_0x44d8a3){const _0x5aa0ff=a0_0x7625da;return _0x52fe40[_0x5aa0ff(0x614)](/\{\{([^}]+)\}\}/g,(_0x4c728d,_0x553a51)=>_0x44d8a3[_0x553a51]?'{{'+_0x553a51+_0x5aa0ff(0x323)+_0x44d8a3[_0x553a51]+'\x22':'{{'+_0x553a51+_0x5aa0ff(0x433));}async[a0_0x7625da(0x514)](_0xb1aedf){const _0x2aaf5c=a0_0x7625da;try{let _0x13597e=Object[_0x2aaf5c(0x499)](_0xb1aedf['chatLog'][_0x2aaf5c(0x8f0)])['map'](([_0x5d53d7,_0x171b9e])=>({'name':_0x5d53d7,'value':_0x171b9e})),_0x217608={'status':_0xb1aedf[_0x2aaf5c(0x464)],'remoteJid':_0xb1aedf['remoteJid'],'blocks':_0xb1aedf[_0x2aaf5c(0x201)],'waitingMenu_id':_0xb1aedf[_0x2aaf5c(0x379)],'waitingMenu_text':_0xb1aedf['waitingMenu_text'],'waitingMenu_replyOptions':_0xb1aedf['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0xb1aedf[_0x2aaf5c(0x878)]['lastBlockId'],'lastSendMessage':_0xb1aedf[_0x2aaf5c(0x878)][_0x2aaf5c(0x3dd)],'lastReceivedMessage':_0xb1aedf[_0x2aaf5c(0x878)]['lastReceivedMessage'],'lastCondition':_0xb1aedf['chatLog'][_0x2aaf5c(0x460)],'chatVariables':_0x13597e,'realVariables':_0xb1aedf[_0x2aaf5c(0x878)][_0x2aaf5c(0x8f0)],'blockLogs':_0xb1aedf[_0x2aaf5c(0x878)][_0x2aaf5c(0x7c8)]}},_0x2034d8=await this[_0x2aaf5c(0x3f9)][_0x2aaf5c(0x6c7)][_0x2aaf5c(0x819)](_0xb1aedf[_0x2aaf5c(0x7ce)],_0x217608,this['instance'][_0x2aaf5c(0x58c)]);if(_0x2034d8){this[_0x2aaf5c(0x58e)]['verbose'](this[_0x2aaf5c(0x1dc)]+'\x20('+this[_0x2aaf5c(0x4e6)][_0x2aaf5c(0x58c)]+_0x2aaf5c(0x6bd)+_0x2034d8['_id']);try{let _0x535b6a=[_0x2aaf5c(0x756),'nomecompleto',_0x2aaf5c(0x572),_0x2aaf5c(0x414),_0x2aaf5c(0x464),_0x2aaf5c(0x5b6),_0x2aaf5c(0x6d7),'tags',_0x2aaf5c(0x7fb),_0x2aaf5c(0x7ed)];if(!this[_0x2aaf5c(0x3e1)]&&(await this[_0x2aaf5c(0x2f9)](),!this['AutomateSystem']))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x396b16=this[_0x2aaf5c(0x3e1)]?.[_0x2aaf5c(0x2fd)][_0x2aaf5c(0x1ec)](_0x276663=>_0x276663[_0x2aaf5c(0x2f7)]),_0x1c2f04={};Object[_0x2aaf5c(0x499)](_0xb1aedf[_0x2aaf5c(0x878)][_0x2aaf5c(0x8f0)])[_0x2aaf5c(0x886)](([_0x5ed24f,_0x204c38])=>{const _0x79aa51=_0x2aaf5c;_0x535b6a[_0x79aa51(0x80b)](_0x5ed24f)&&(_0x5ed24f==='tags'&&typeof _0x204c38==_0x79aa51(0x5f1)?_0x1c2f04[_0x5ed24f]=_0x204c38['split'](',')[_0x79aa51(0x1ec)](_0x5c740a=>_0x5c740a['trim']())[_0x79aa51(0x3ca)](_0x59e65f=>_0x59e65f!==''):_0x5ed24f===_0x79aa51(0x7fb)&&typeof _0x204c38==_0x79aa51(0x5f1)?_0x1c2f04[_0x5ed24f]=_0x204c38['split'](',')[_0x79aa51(0x1ec)](_0x4a39cd=>_0x4a39cd[_0x79aa51(0x5d8)]())[_0x79aa51(0x3ca)](_0x2303b1=>_0x2303b1!==''):_0x1c2f04[_0x5ed24f]=_0x204c38);});let _0x1abcd2=_0xb1aedf[_0x2aaf5c(0x878)][_0x2aaf5c(0x7c8)][_0xb1aedf['chatLog'][_0x2aaf5c(0x7c8)][_0x2aaf5c(0x779)]-0x1];if(_0x1abcd2){let _0x497581=_0x1abcd2[_0x2aaf5c(0x525)];_0x497581!==void 0x0&&(_0x1c2f04[_0x2aaf5c(0x1e5)]=_0x497581[_0x2aaf5c(0x455)]());}let _0x5d2992=_0x13597e[_0x2aaf5c(0x3ca)](_0x1b3ebe=>_0x396b16[_0x2aaf5c(0x80b)](_0x1b3ebe['name']));this[_0x2aaf5c(0x58e)]['verbose'](this[_0x2aaf5c(0x1dc)]+'\x20('+this[_0x2aaf5c(0x4e6)]['wuid']+_0x2aaf5c(0x33c)),this[_0x2aaf5c(0x58e)][_0x2aaf5c(0x62f)](_0x1c2f04),this[_0x2aaf5c(0x58e)][_0x2aaf5c(0x62f)](this[_0x2aaf5c(0x1dc)]+'\x20('+this[_0x2aaf5c(0x4e6)][_0x2aaf5c(0x58c)]+_0x2aaf5c(0x42b)),this['logger']['verbose'](_0x5d2992);let _0x1a67a2=_0x5d2992['map'](_0x4f5232=>{const _0x3a16c5=_0x2aaf5c;let _0x3abb6c=this['AutomateSystem']?.[_0x3a16c5(0x2fd)][_0x3a16c5(0x48d)](_0x535196=>_0x535196[_0x3a16c5(0x2f7)]===_0x4f5232['name']);if(!_0x3abb6c)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x4f5232[_0x3a16c5(0x2f7)]);return{'_id':_0x3abb6c[_0x3a16c5(0x7ce)],'value':_0x4f5232['value']};});this['logger']['verbose'](this[_0x2aaf5c(0x1dc)]+'\x20('+this[_0x2aaf5c(0x4e6)][_0x2aaf5c(0x58c)]+_0x2aaf5c(0x7dc)),this[_0x2aaf5c(0x58e)][_0x2aaf5c(0x62f)](_0x1a67a2),await this[_0x2aaf5c(0x7c0)](_0xb1aedf[_0x2aaf5c(0x6cd)],_0x1c2f04,_0x1a67a2);}catch(_0xd5ab5c){this['logger']['error'](this[_0x2aaf5c(0x1dc)]+'\x20('+this[_0x2aaf5c(0x4e6)][_0x2aaf5c(0x58c)]+_0x2aaf5c(0x3bf)+(_0xd5ab5c instanceof Error?_0xd5ab5c[_0x2aaf5c(0x1ff)]:JSON[_0x2aaf5c(0x511)](_0xd5ab5c,null,0x2)));}}else this[_0x2aaf5c(0x58e)][_0x2aaf5c(0x3a8)](this[_0x2aaf5c(0x1dc)]+'\x20('+this['instance'][_0x2aaf5c(0x58c)]+_0x2aaf5c(0x821));}catch(_0x3079ca){this['logger'][_0x2aaf5c(0x3a8)](this['instanceName']+'\x20('+this[_0x2aaf5c(0x4e6)][_0x2aaf5c(0x58c)]+_0x2aaf5c(0x665)+(_0x3079ca instanceof Error?_0x3079ca[_0x2aaf5c(0x1ff)]:JSON[_0x2aaf5c(0x511)](_0x3079ca,null,0x2)));}}async[a0_0x7625da(0x7c0)](_0x5c7233,_0x4d2c2a,_0x4fbf2a){const _0x1ae745=a0_0x7625da;try{let _0xf56924={'leadInfo.leadnome':_0x4d2c2a[_0x1ae745(0x756)],'leadInfo.nomecompleto':_0x4d2c2a[_0x1ae745(0x45b)],'leadInfo.email':_0x4d2c2a['email'],'leadInfo.cpf':_0x4d2c2a[_0x1ae745(0x414)],'leadInfo.status':_0x4d2c2a[_0x1ae745(0x464)],'leadInfo.notas':_0x4d2c2a[_0x1ae745(0x5b6)],'leadInfo.responsavelid':_0x4d2c2a['responsavelid'],'leadInfo.tags':_0x4d2c2a[_0x1ae745(0x748)],'leadInfo.etiquetas':_0x4d2c2a['etiquetas'],'leadInfo.customFields':_0x4fbf2a,'leadInfo.atendimentoAberto':_0x4d2c2a[_0x1ae745(0x7ed)]},_0x41c4c9=await this[_0x1ae745(0x3f9)]['chat'][_0x1ae745(0x715)]({'where':{'_id':_0x5c7233}},this['instance'][_0x1ae745(0x58c)]);if(!_0x41c4c9)return _0x1ae745(0x412);let _0x399834=new Set(_0x41c4c9[_0x1ae745(0x24e)][_0x1ae745(0x7fb)]||[]),_0x568296=new Set(_0x4d2c2a[_0x1ae745(0x7fb)]||[]),_0x1e8ed2=await this[_0x1ae745(0x3f9)][_0x1ae745(0x402)][_0x1ae745(0x48d)]({'where':{}},this[_0x1ae745(0x4e6)][_0x1ae745(0x58c)]),_0xa6c566=new Set(_0x1e8ed2['map'](_0x4a5082=>_0x4a5082[_0x1ae745(0x7ce)])),_0x500de2=[..._0x568296][_0x1ae745(0x3ca)](_0x300e42=>!_0x399834[_0x1ae745(0x78f)](_0x300e42)&&_0xa6c566[_0x1ae745(0x78f)](_0x300e42)),_0x466be7=[..._0x399834][_0x1ae745(0x3ca)](_0x4f4f1f=>!_0x568296[_0x1ae745(0x78f)](_0x4f4f1f));for(let _0x43690d of _0x500de2)await this[_0x1ae745(0x726)](_0x43690d,_0x41c4c9['_id']),_0x399834[_0x1ae745(0x7b7)](_0x43690d);for(let _0xb56748 of _0x466be7)await this['RemoveChatLabel'](_0xb56748,_0x41c4c9[_0x1ae745(0x7ce)]),_0x399834[_0x1ae745(0x72f)](_0xb56748);if(_0x1ae745(0x1e5)in _0x4d2c2a){let _0x5456df=_0x4d2c2a[_0x1ae745(0x1e5)];_0xf56924[_0x1ae745(0x85d)]=_0x5456df?Number(_0x5456df):null;}if(_0x1ae745(0x7ed)in _0x4d2c2a){let _0x47a186=_0x4d2c2a[_0x1ae745(0x7ed)][_0x1ae745(0x6e5)]();_0xf56924[_0x1ae745(0x6d4)]=_0x47a186===_0x1ae745(0x4ac)||_0x47a186==='1'||_0x47a186===_0x1ae745(0x4de)||_0x47a186==='sim';}let _0x419da7=await this['repository'][_0x1ae745(0x5bb)][_0x1ae745(0x819)]({'where':{'_id':_0x5c7233}},_0xf56924,this['instance'][_0x1ae745(0x58c)]);_0x419da7?(this['logger']['verbose'](this[_0x1ae745(0x1dc)]+'\x20('+this[_0x1ae745(0x4e6)][_0x1ae745(0x58c)]+_0x1ae745(0x5ff)+_0x419da7['_id']),F(this[_0x1ae745(0x1dc)],_0x1ae745(0x5a1),{'chat':_0x419da7})):this['logger'][_0x1ae745(0x3a8)](this[_0x1ae745(0x1dc)]+'\x20('+this[_0x1ae745(0x4e6)][_0x1ae745(0x58c)]+'):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD');}catch(_0x3df4b6){this[_0x1ae745(0x58e)][_0x1ae745(0x3a8)](this[_0x1ae745(0x1dc)]+'\x20('+this[_0x1ae745(0x4e6)][_0x1ae745(0x58c)]+_0x1ae745(0x565)+(_0x3df4b6 instanceof Error?_0x3df4b6[_0x1ae745(0x1ff)]:JSON[_0x1ae745(0x511)](_0x3df4b6,null,0x2)));}}async['updateStopChat'](_0x27b4e1,_0xf396dd){const _0x2b1470=a0_0x7625da;this[_0x2b1470(0x58e)][_0x2b1470(0x62f)](this['instanceName']+'\x20('+this[_0x2b1470(0x4e6)]['wuid']+'):\x20atualização\x20chat:\x20'+_0xf396dd);try{let _0x5e4da1=await this[_0x2b1470(0x3f9)]['chat'][_0x2b1470(0x819)]({'where':{'_id':_0x27b4e1[_0x2b1470(0x6cd)]}},{'leadInfo.desativadoFluxoAte':_0xf396dd},this[_0x2b1470(0x4e6)]['wuid']);this['logger'][_0x2b1470(0x62f)](this[_0x2b1470(0x1dc)]+'\x20('+this[_0x2b1470(0x4e6)][_0x2b1470(0x58c)]+_0x2b1470(0x727)+_0x27b4e1[_0x2b1470(0x7ce)]),this[_0x2b1470(0x58e)]['verbose'](this[_0x2b1470(0x1dc)]+'\x20('+this[_0x2b1470(0x4e6)][_0x2b1470(0x58c)]+_0x2b1470(0x658)+JSON[_0x2b1470(0x511)](_0x5e4da1,null,0x2)),_0x5e4da1&&F(this[_0x2b1470(0x1dc)],_0x2b1470(0x5a1),{'chat':_0x5e4da1});}catch(_0x2d23d1){this['logger'][_0x2b1470(0x3a8)](this[_0x2b1470(0x1dc)]+'\x20('+this['instance'][_0x2b1470(0x58c)]+_0x2b1470(0x6f3)+(_0x2d23d1 instanceof Error?_0x2d23d1[_0x2b1470(0x1ff)]:JSON[_0x2b1470(0x511)](_0x2d23d1,null,0x2)));}}async[a0_0x7625da(0x2cf)](_0x573ed3){const _0x5f16dc=a0_0x7625da;try{this[_0x5f16dc(0x58e)]['verbose'](this[_0x5f16dc(0x1dc)]+'\x20('+this[_0x5f16dc(0x4e6)][_0x5f16dc(0x58c)]+_0x5f16dc(0x5c1));let _0x499bbb=_0x573ed3[_0x5f16dc(0x614)](/\D/g,''),_0x2e2512=await this['repository'][_0x5f16dc(0x6c0)]['findOne']({'where':{'testingWith':_0x499bbb}},this[_0x5f16dc(0x4e6)][_0x5f16dc(0x58c)]);return _0x2e2512||(this[_0x5f16dc(0x58e)]['verbose'](this[_0x5f16dc(0x1dc)]+'\x20('+this[_0x5f16dc(0x4e6)]['wuid']+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0x2e2512=await this[_0x5f16dc(0x3f9)]['flow'][_0x5f16dc(0x715)]({'where':{'default':!0x0}},this[_0x5f16dc(0x4e6)]['wuid'])),_0x2e2512||(this['logger'][_0x5f16dc(0x62f)](this['instanceName']+'\x20('+this[_0x5f16dc(0x4e6)][_0x5f16dc(0x58c)]+_0x5f16dc(0x7bb)),null);}catch(_0x50fa16){return this['logger'][_0x5f16dc(0x3a8)](this[_0x5f16dc(0x1dc)]+'\x20('+this[_0x5f16dc(0x4e6)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+(_0x50fa16 instanceof Error?_0x50fa16[_0x5f16dc(0x1ff)]:JSON[_0x5f16dc(0x511)](_0x50fa16,null,0x2))),null;}}async['findConversation'](_0x4dd44,_0x2a64e5){const _0x179292=a0_0x7625da;try{let _0x284f49=!!_0x2a64e5[_0x179292(0x28c)],_0x1607de=_0x2a64e5[_0x179292(0x5fa)],_0x4979b9=null;if(this[_0x179292(0x58e)]['verbose'](this[_0x179292(0x1dc)]+'\x20('+this[_0x179292(0x4e6)]['wuid']+_0x179292(0x396)+_0x284f49+_0x179292(0x5aa)+_0x1607de),_0x284f49){this[_0x179292(0x58e)][_0x179292(0x62f)](this[_0x179292(0x1dc)]+'\x20('+this['instance'][_0x179292(0x58c)]+_0x179292(0x286));let _0x2dbba1={'where':{'remoteJid':_0x4dd44,'waitingMenu_id':_0x1607de}};if(_0x4979b9=await this[_0x179292(0x3f9)]['flowConversation'][_0x179292(0x715)](_0x2dbba1,this[_0x179292(0x4e6)][_0x179292(0x58c)]),!_0x4979b9)return this[_0x179292(0x58e)][_0x179292(0x62f)](this[_0x179292(0x1dc)]+'\x20('+this[_0x179292(0x4e6)]['wuid']+_0x179292(0x229)),null;let _0x47d4c6=Date[_0x179292(0x7cd)](),_0x118b39=_0x4979b9?.[_0x179292(0x693)]||0x0,_0x498ca5=_0x47d4c6-_0x118b39*0x3c*0x3e8;if(_0x4979b9['lastInteraction']<_0x498ca5){this['logger']['verbose'](this[_0x179292(0x1dc)]+'\x20('+this[_0x179292(0x4e6)][_0x179292(0x58c)]+_0x179292(0x438));let _0x54f12e={'number':_0x4979b9[_0x179292(0x6cd)],'options':{'delay':0x0},'textMessage':{'text':_0x4979b9[_0x179292(0x2e0)]}};await this['textMessage'](_0x54f12e);let _0x3f0620={'status':_0x179292(0x7ab),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x179292(0x3f9)]['flowConversation'][_0x179292(0x819)](_0x4979b9['_id'],_0x3f0620,this[_0x179292(0x4e6)]['wuid']),null;}return _0x4979b9[_0x179292(0x61f)]=Date['now'](),_0x4979b9[_0x179292(0x878)][_0x179292(0x72d)]=_0x2a64e5,_0x4979b9;}else{this[_0x179292(0x58e)][_0x179292(0x62f)](this[_0x179292(0x1dc)]+'\x20('+this[_0x179292(0x4e6)][_0x179292(0x58c)]+_0x179292(0x510)+this[_0x179292(0x4e6)]['wuid']+_0x179292(0x463)),this[_0x179292(0x58e)]['verbose'](this[_0x179292(0x1dc)]+'\x20('+this[_0x179292(0x4e6)][_0x179292(0x58c)]+'):\x20Procurando\x20conversa');let _0x73af1b={'where':{'remoteJid':_0x4dd44,'status':'open'}};if(_0x4979b9=await this[_0x179292(0x3f9)][_0x179292(0x6c7)]['findOne'](_0x73af1b,this['instance']['wuid']),!_0x4979b9){let _0x2d61ca=await this[_0x179292(0x2cf)](_0x4dd44);if(_0x2d61ca&&(_0x4979b9=await this[_0x179292(0x515)](_0x2d61ca,_0x2a64e5['key'],_0x2a64e5)),!_0x4979b9)return null;}let _0x8559c8=Date[_0x179292(0x7cd)](),_0x1c5771=_0x4979b9?.[_0x179292(0x693)]||0x0,_0x4cf9d4=_0x8559c8-_0x1c5771*0x3c*0x3e8;if(this['logger'][_0x179292(0x62f)](this[_0x179292(0x1dc)]+'\x20('+this[_0x179292(0x4e6)]['wuid']+_0x179292(0x411)+_0x8559c8+_0x179292(0x331)+_0x1c5771+_0x179292(0x5fb)+_0x4cf9d4),this[_0x179292(0x58e)][_0x179292(0x62f)](this[_0x179292(0x1dc)]+'\x20('+this['instance'][_0x179292(0x58c)]+_0x179292(0x839)),this[_0x179292(0x58e)]['verbose'](this[_0x179292(0x1dc)]+'\x20('+this['instance'][_0x179292(0x58c)]+_0x179292(0x73b)+_0x4979b9['lastInteraction']),this[_0x179292(0x58e)][_0x179292(0x62f)](this['instanceName']+'\x20('+this[_0x179292(0x4e6)][_0x179292(0x58c)]+_0x179292(0x60c)+_0x4cf9d4),_0x4979b9[_0x179292(0x61f)]<_0x4cf9d4){this[_0x179292(0x58e)][_0x179292(0x62f)](this['instanceName']+'\x20('+this[_0x179292(0x4e6)]['wuid']+_0x179292(0x568));let _0x3703f7=await this[_0x179292(0x2cf)](_0x4dd44);if(_0x3703f7===null)return null;_0x4979b9&&await this[_0x179292(0x3f9)][_0x179292(0x6c7)][_0x179292(0x819)](_0x4979b9['_id'],{'status':_0x179292(0x7ab)},this['instance'][_0x179292(0x58c)]),_0x4979b9=await this['createNewConversation'](_0x3703f7,_0x2a64e5[_0x179292(0x84e)],_0x2a64e5);}return _0x4979b9[_0x179292(0x61f)]=_0x8559c8,_0x4979b9['chatLog'][_0x179292(0x72d)]=_0x2a64e5,_0x4979b9;}}catch(_0x5abae2){return this[_0x179292(0x58e)][_0x179292(0x3a8)](this[_0x179292(0x1dc)]+'\x20('+this[_0x179292(0x4e6)][_0x179292(0x58c)]+_0x179292(0x8a0)+(_0x5abae2 instanceof Error?_0x5abae2[_0x179292(0x1ff)]:JSON['stringify'](_0x5abae2,null,0x2))),null;}}async['createNewConversation'](_0x3808f6,_0x4949f2,_0x4180b2){const _0x3e7d26=a0_0x7625da;this[_0x3e7d26(0x58e)][_0x3e7d26(0x62f)](this[_0x3e7d26(0x1dc)]+'\x20('+this['instance'][_0x3e7d26(0x58c)]+_0x3e7d26(0x3aa));try{let _0x508a5e=require(_0x3e7d26(0x8cf))[_0x3e7d26(0x290)],_0x167bb3=Date[_0x3e7d26(0x7cd)](),_0x1fb189=_0x3e7d26(0x6be),_0x105b9c=_0x4949f2[_0x3e7d26(0x7db)]?null:_0x4180b2,_0x1be19e=_0x4949f2[_0x3e7d26(0x7db)]?_0x4180b2:null,_0x44c1b7=_0x4949f2[_0x3e7d26(0x6cd)];await this[_0x3e7d26(0x7f3)](_0x44c1b7);let _0x2d1798={..._0x3808f6,'chatLog':null},_0x3e94aa=await this['variablesToObject'](_0x2d1798[_0x3e7d26(0x576)]),_0x24e671=await this[_0x3e7d26(0x6f9)](_0x44c1b7),_0x8bab33={..._0x3e94aa,..._0x24e671,'_remoteJid':_0x44c1b7},_0x4f3b5a={'lastReceivedMessage':_0x105b9c,'lastSendMessage':_0x1be19e,'lastBlockId':_0x1fb189,'lastCondition':!0x0,'realVariables':_0x8bab33};_0x2d1798[_0x3e7d26(0x878)]=_0x4f3b5a,delete _0x2d1798[_0x3e7d26(0x7ce)],_0x2d1798[_0x3e7d26(0x7ce)]=new _0x508a5e(),_0x2d1798[_0x3e7d26(0x61f)]=_0x167bb3,_0x2d1798[_0x3e7d26(0x464)]=_0x3e7d26(0x32e),_0x2d1798['remoteJid']=_0x44c1b7;let _0x3a1b7b=await this[_0x3e7d26(0x3f9)][_0x3e7d26(0x6c7)][_0x3e7d26(0x819)](_0x2d1798[_0x3e7d26(0x7ce)],_0x2d1798,this['instance'][_0x3e7d26(0x58c)]);return this[_0x3e7d26(0x58e)][_0x3e7d26(0x62f)](this[_0x3e7d26(0x1dc)]+'\x20('+this[_0x3e7d26(0x4e6)][_0x3e7d26(0x58c)]+_0x3e7d26(0x368)),_0x3a1b7b?_0x2d1798:null;}catch(_0x2a364a){return this[_0x3e7d26(0x58e)][_0x3e7d26(0x3a8)](this[_0x3e7d26(0x1dc)]+'\x20('+this[_0x3e7d26(0x4e6)][_0x3e7d26(0x58c)]+_0x3e7d26(0x7d3)+(_0x2a364a instanceof Error?_0x2a364a[_0x3e7d26(0x1ff)]:JSON[_0x3e7d26(0x511)](_0x2a364a,null,0x2))),_0x2a364a;}}async['uazapiSendText'](_0x55e401,_0x5ed365){const _0x48ffa1=a0_0x7625da;let _0x19feb5=_0x55e401[_0x48ffa1(0x6cd)];_0x5ed365['uazapi']['remoteJid']&&_0x5ed365[_0x48ffa1(0x6b8)]['remoteJid']['trim']()!==''&&(_0x19feb5=_0x5ed365[_0x48ffa1(0x6b8)][_0x48ffa1(0x6cd)][_0x48ffa1(0x5d8)]()),this[_0x48ffa1(0x58e)][_0x48ffa1(0x62f)](this[_0x48ffa1(0x1dc)]+'\x20('+this[_0x48ffa1(0x4e6)][_0x48ffa1(0x58c)]+_0x48ffa1(0x6da));let _0x428cc9={'number':_0x19feb5,'options':{'delay':_0x5ed365[_0x48ffa1(0x6b8)][_0x48ffa1(0x2f3)],'linkPreview':_0x5ed365['uazapi']['linkPreview']},'textMessage':{'text':_0x5ed365[_0x48ffa1(0x6b8)][_0x48ffa1(0x3e8)]}};try{let _0x111652=await this[_0x48ffa1(0x44b)](_0x428cc9);if(_0x111652){let _0x1a72d1={'_id':_0x111652['key']['id'],'_fromMe':_0x111652[_0x48ffa1(0x84e)]['fromMe'],'_remoteJid':_0x111652['key'][_0x48ffa1(0x6cd)]},_0x51b72d=(0x0,f[_0x48ffa1(0x2c7)])(_0x111652[_0x48ffa1(0x1ff)]),_0x490954=(0x0,f['getContentType'])(_0x51b72d);_0x55e401[_0x48ffa1(0x878)]['lastBlockId']=_0x5ed365[_0x48ffa1(0x7ce)][_0x48ffa1(0x455)]();let {message_normalized:_0x59a7c4}=this[_0x48ffa1(0x27c)](_0x51b72d,_0x490954,null);_0x55e401[_0x48ffa1(0x878)][_0x48ffa1(0x3dd)]=await _0x59a7c4;let _0x33bfd0={'messageId':_0x111652[_0x48ffa1(0x84e)]['id']},_0x4307c2=_0x55e401[_0x48ffa1(0x878)]['realVariables'];Object[_0x48ffa1(0x1fd)](_0x4307c2,_0x1a72d1),_0x55e401[_0x48ffa1(0x878)][_0x48ffa1(0x8f0)]=_0x4307c2,this[_0x48ffa1(0x4b8)](_0x55e401,_0x5ed365,_0x33bfd0);}else{let _0x585acb={'error':!0x0};this['updateConversation'](_0x55e401,_0x5ed365,_0x585acb),this[_0x48ffa1(0x58e)][_0x48ffa1(0x3a8)](this['instanceName']+'\x20('+this['instance'][_0x48ffa1(0x58c)]+_0x48ffa1(0x383));}}catch(_0x32d3a5){let _0x327084={'error':!0x0,'errorLog':_0x32d3a5['toString']()};this[_0x48ffa1(0x4b8)](_0x55e401,_0x5ed365,_0x327084),this[_0x48ffa1(0x58e)][_0x48ffa1(0x3a8)](this['instanceName']+'\x20('+this[_0x48ffa1(0x4e6)][_0x48ffa1(0x58c)]+_0x48ffa1(0x48b)+(_0x32d3a5 instanceof Error?_0x32d3a5[_0x48ffa1(0x1ff)]:JSON[_0x48ffa1(0x511)](_0x32d3a5,null,0x2)));}}async[a0_0x7625da(0x4bc)](_0x35f6f6,_0x189dbc){const _0x259e44=a0_0x7625da;let _0x2ec44a=_0x35f6f6['remoteJid'];_0x189dbc['uazapi'][_0x259e44(0x6cd)]&&_0x189dbc[_0x259e44(0x6b8)]['remoteJid'][_0x259e44(0x5d8)]()!==''&&(_0x2ec44a=_0x189dbc['uazapi'][_0x259e44(0x6cd)][_0x259e44(0x5d8)]()),this[_0x259e44(0x58e)]['verbose'](this['instanceName']+'\x20('+this[_0x259e44(0x4e6)][_0x259e44(0x58c)]+'):\x20Enviando\x20mídia');let _0x55f300={'number':_0x2ec44a,'options':{'delay':_0x189dbc[_0x259e44(0x6b8)][_0x259e44(0x2f3)],'linkPreview':_0x189dbc['uazapi']['linkPreview']},'mediaMessage':{'mediatype':_0x189dbc[_0x259e44(0x6b8)]['mediatype'],'caption':_0x189dbc[_0x259e44(0x6b8)]['caption'],'media':_0x189dbc[_0x259e44(0x6b8)][_0x259e44(0x7ec)],'fileName':_0x189dbc[_0x259e44(0x6b8)][_0x259e44(0x7e9)]}};try{let _0x150e09=await this[_0x259e44(0x78b)](_0x55f300);if(_0x150e09){let _0x1061fd={'_id':_0x150e09['key']['id'],'_fromMe':_0x150e09[_0x259e44(0x84e)][_0x259e44(0x7db)],'_remoteJid':_0x150e09[_0x259e44(0x84e)]['remoteJid']},_0x5e5eb9=(0x0,f['normalizeMessageContent'])(_0x150e09[_0x259e44(0x1ff)]),_0x14e41a=(0x0,f[_0x259e44(0x30c)])(_0x5e5eb9);_0x35f6f6[_0x259e44(0x878)][_0x259e44(0x4ff)]=_0x189dbc[_0x259e44(0x7ce)][_0x259e44(0x455)]();let {message_normalized:_0x4e25ab}=this[_0x259e44(0x27c)](_0x5e5eb9,_0x14e41a,null);_0x35f6f6[_0x259e44(0x878)][_0x259e44(0x3dd)]=await _0x4e25ab;let _0x1599df={'messageId':_0x150e09['key']['id']},_0x356c84=_0x35f6f6[_0x259e44(0x878)][_0x259e44(0x8f0)];Object[_0x259e44(0x1fd)](_0x356c84,_0x1061fd),_0x35f6f6[_0x259e44(0x878)][_0x259e44(0x8f0)]=_0x356c84,this[_0x259e44(0x4b8)](_0x35f6f6,_0x189dbc,_0x1599df);}else{let _0x3df387={'error':!0x0};this[_0x259e44(0x4b8)](_0x35f6f6,_0x189dbc,_0x3df387),this['logger'][_0x259e44(0x3a8)](this['instanceName']+'\x20('+this[_0x259e44(0x4e6)][_0x259e44(0x58c)]+_0x259e44(0x437));}}catch(_0x54d157){let _0x4c4a2a={'error':!0x0,'errorLog':_0x54d157[_0x259e44(0x455)]()};this[_0x259e44(0x4b8)](_0x35f6f6,_0x189dbc,_0x4c4a2a),this[_0x259e44(0x58e)]['error'](this['instanceName']+'\x20('+this[_0x259e44(0x4e6)][_0x259e44(0x58c)]+_0x259e44(0x86a)+(_0x54d157 instanceof Error?_0x54d157['message']:JSON[_0x259e44(0x511)](_0x54d157,null,0x2)));}}async[a0_0x7625da(0x6f5)](_0x204bf6,_0x2415e3){const _0x131d22=a0_0x7625da;let _0x41fb68=_0x204bf6[_0x131d22(0x6cd)];_0x2415e3[_0x131d22(0x6b8)][_0x131d22(0x6cd)]&&_0x2415e3[_0x131d22(0x6b8)][_0x131d22(0x6cd)]['trim']()!==''&&(_0x41fb68=_0x2415e3[_0x131d22(0x6b8)][_0x131d22(0x6cd)][_0x131d22(0x5d8)]()),this[_0x131d22(0x58e)][_0x131d22(0x62f)](this[_0x131d22(0x1dc)]+'\x20('+this['instance'][_0x131d22(0x58c)]+_0x131d22(0x42f));let _0x356daa={'number':_0x41fb68,'options':{'delay':_0x2415e3[_0x131d22(0x6b8)][_0x131d22(0x2f3)]},'locationMessage':{'name':_0x2415e3[_0x131d22(0x6b8)][_0x131d22(0x2f7)],'address':_0x2415e3[_0x131d22(0x6b8)][_0x131d22(0x1e2)],'latitude':_0x2415e3[_0x131d22(0x6b8)][_0x131d22(0x4ba)],'longitude':_0x2415e3[_0x131d22(0x6b8)][_0x131d22(0x4a6)]}};try{let _0x3b9ed6=await this[_0x131d22(0x3b3)](_0x356daa);if(_0x3b9ed6){let _0x5a4aaf={'_id':_0x3b9ed6[_0x131d22(0x84e)]['id'],'_fromMe':_0x3b9ed6[_0x131d22(0x84e)][_0x131d22(0x7db)],'_remoteJid':_0x3b9ed6[_0x131d22(0x84e)][_0x131d22(0x6cd)]},_0x264a9c=(0x0,f[_0x131d22(0x2c7)])(_0x3b9ed6['message']),_0xd8d7c7=(0x0,f['getContentType'])(_0x264a9c);_0x204bf6[_0x131d22(0x878)][_0x131d22(0x4ff)]=_0x2415e3[_0x131d22(0x7ce)][_0x131d22(0x455)]();let {message_normalized:_0x2ce124}=this[_0x131d22(0x27c)](_0x264a9c,_0xd8d7c7,null);_0x204bf6['chatLog']['lastSendMessage']=await _0x2ce124;let _0x5ded77={'messageId':_0x3b9ed6[_0x131d22(0x84e)]['id']},_0x45df89=_0x204bf6[_0x131d22(0x878)][_0x131d22(0x8f0)];Object[_0x131d22(0x1fd)](_0x45df89,_0x5a4aaf),_0x204bf6['chatLog'][_0x131d22(0x8f0)]=_0x45df89,this['updateConversation'](_0x204bf6,_0x2415e3,_0x5ded77);}else{let _0x157db4={'error':!0x0};this[_0x131d22(0x4b8)](_0x204bf6,_0x2415e3,_0x157db4),this[_0x131d22(0x58e)][_0x131d22(0x3a8)](this[_0x131d22(0x1dc)]+'\x20('+this[_0x131d22(0x4e6)]['wuid']+_0x131d22(0x4bf));}}catch(_0x375e9e){let _0x1d87f8={'error':!0x0,'errorLog':_0x375e9e['toString']()};this[_0x131d22(0x4b8)](_0x204bf6,_0x2415e3,_0x1d87f8),this[_0x131d22(0x58e)][_0x131d22(0x3a8)](this[_0x131d22(0x1dc)]+'\x20('+this[_0x131d22(0x4e6)]['wuid']+_0x131d22(0x3bd)+(_0x375e9e instanceof Error?_0x375e9e[_0x131d22(0x1ff)]:JSON[_0x131d22(0x511)](_0x375e9e,null,0x2)));}}async[a0_0x7625da(0x8bf)](_0x12b219,_0xe5813c){const _0x2ce4fd=a0_0x7625da;let _0x5da183=_0x12b219[_0x2ce4fd(0x6cd)];_0xe5813c[_0x2ce4fd(0x6b8)][_0x2ce4fd(0x6cd)]&&_0xe5813c['uazapi'][_0x2ce4fd(0x6cd)][_0x2ce4fd(0x5d8)]()!==''&&(_0x5da183=_0xe5813c['uazapi']['remoteJid'][_0x2ce4fd(0x5d8)]()),this[_0x2ce4fd(0x58e)][_0x2ce4fd(0x62f)](this[_0x2ce4fd(0x1dc)]+'\x20('+this['instance'][_0x2ce4fd(0x58c)]+_0x2ce4fd(0x881));let _0x356e7d={'number':_0x5da183,'options':{'delay':_0xe5813c[_0x2ce4fd(0x6b8)][_0x2ce4fd(0x2f3)]},'audioMessage':{'audio':_0xe5813c[_0x2ce4fd(0x6b8)][_0x2ce4fd(0x671)]}};try{let _0x17dc26=await this[_0x2ce4fd(0x1e8)](_0x356e7d);if(_0x17dc26){let _0xb311d9={'_id':_0x17dc26[_0x2ce4fd(0x84e)]['id'],'_fromMe':_0x17dc26[_0x2ce4fd(0x84e)][_0x2ce4fd(0x7db)],'_remoteJid':_0x17dc26['key'][_0x2ce4fd(0x6cd)]},_0x3ff924=(0x0,f[_0x2ce4fd(0x2c7)])(_0x17dc26['message']),_0x1f5c7a=(0x0,f[_0x2ce4fd(0x30c)])(_0x3ff924);_0x12b219['chatLog'][_0x2ce4fd(0x4ff)]=_0xe5813c[_0x2ce4fd(0x7ce)][_0x2ce4fd(0x455)]();let {message_normalized:_0x262cdf}=this[_0x2ce4fd(0x27c)](_0x3ff924,_0x1f5c7a,null);_0x12b219['chatLog']['lastSendMessage']=await _0x262cdf;let _0x16156c={'messageId':_0x17dc26['key']['id']},_0x4b666d=_0x12b219[_0x2ce4fd(0x878)][_0x2ce4fd(0x8f0)];Object['assign'](_0x4b666d,_0xb311d9),_0x12b219[_0x2ce4fd(0x878)]['realVariables']=_0x4b666d,this[_0x2ce4fd(0x4b8)](_0x12b219,_0xe5813c,_0x16156c);}else{let _0x1ff8ac={'error':!0x0};this[_0x2ce4fd(0x4b8)](_0x12b219,_0xe5813c,_0x1ff8ac),this[_0x2ce4fd(0x58e)][_0x2ce4fd(0x3a8)](this[_0x2ce4fd(0x1dc)]+'\x20('+this[_0x2ce4fd(0x4e6)]['wuid']+_0x2ce4fd(0x1f9));}}catch(_0x2792ca){let _0x59fc78={'error':!0x0,'errorLog':_0x2792ca[_0x2ce4fd(0x455)]()};this[_0x2ce4fd(0x4b8)](_0x12b219,_0xe5813c,_0x59fc78),this[_0x2ce4fd(0x58e)][_0x2ce4fd(0x3a8)](this[_0x2ce4fd(0x1dc)]+'\x20('+this[_0x2ce4fd(0x4e6)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+(_0x2792ca instanceof Error?_0x2792ca[_0x2ce4fd(0x1ff)]:JSON[_0x2ce4fd(0x511)](_0x2792ca,null,0x2)));}}async['uazapiSendContact'](_0x5b486a,_0x45f782){const _0x23e7b8=a0_0x7625da;let _0x30e004=_0x5b486a[_0x23e7b8(0x6cd)];_0x45f782[_0x23e7b8(0x6b8)][_0x23e7b8(0x6cd)]&&_0x45f782[_0x23e7b8(0x6b8)][_0x23e7b8(0x6cd)][_0x23e7b8(0x5d8)]()!==''&&(_0x30e004=_0x45f782[_0x23e7b8(0x6b8)][_0x23e7b8(0x6cd)][_0x23e7b8(0x5d8)]()),this[_0x23e7b8(0x58e)][_0x23e7b8(0x62f)](this[_0x23e7b8(0x1dc)]+'\x20('+this[_0x23e7b8(0x4e6)][_0x23e7b8(0x58c)]+'):\x20Enviando\x20contato');let _0x1e5bd2={'number':_0x30e004,'options':{'delay':_0x45f782['uazapi'][_0x23e7b8(0x2f3)]},'contactMessage':[{'fullName':_0x45f782[_0x23e7b8(0x6b8)][_0x23e7b8(0x288)],'phoneNumber':_0x45f782[_0x23e7b8(0x6b8)][_0x23e7b8(0x613)]}]};try{let _0x29a5f7=await this[_0x23e7b8(0x5a8)](_0x1e5bd2);if(_0x29a5f7){let _0x3f122a={'_id':_0x29a5f7[_0x23e7b8(0x84e)]['id'],'_fromMe':_0x29a5f7[_0x23e7b8(0x84e)]['fromMe'],'_remoteJid':_0x29a5f7['key'][_0x23e7b8(0x6cd)]},_0x290e5c=(0x0,f[_0x23e7b8(0x2c7)])(_0x29a5f7[_0x23e7b8(0x1ff)]),_0x3caacf=(0x0,f[_0x23e7b8(0x30c)])(_0x290e5c);_0x5b486a[_0x23e7b8(0x878)][_0x23e7b8(0x4ff)]=_0x45f782[_0x23e7b8(0x7ce)]['toString']();let {message_normalized:_0x25950a}=this['normalizeMessage'](_0x290e5c,_0x3caacf,null);_0x5b486a['chatLog']['lastSendMessage']=await _0x25950a;let _0xa0241c={'messageId':_0x29a5f7[_0x23e7b8(0x84e)]['id']},_0x19122a=_0x5b486a[_0x23e7b8(0x878)][_0x23e7b8(0x8f0)];Object[_0x23e7b8(0x1fd)](_0x19122a,_0x3f122a),_0x5b486a[_0x23e7b8(0x878)][_0x23e7b8(0x8f0)]=_0x19122a,this[_0x23e7b8(0x4b8)](_0x5b486a,_0x45f782,_0xa0241c);}else{let _0x4d0a04={'error':!0x0};this[_0x23e7b8(0x4b8)](_0x5b486a,_0x45f782,_0x4d0a04),this['logger'][_0x23e7b8(0x3a8)](this[_0x23e7b8(0x1dc)]+'\x20('+this[_0x23e7b8(0x4e6)][_0x23e7b8(0x58c)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x1a672e){let _0x4dca98={'error':!0x0,'errorLog':_0x1a672e[_0x23e7b8(0x455)]()};this[_0x23e7b8(0x4b8)](_0x5b486a,_0x45f782,_0x4dca98),this['logger'][_0x23e7b8(0x3a8)](this[_0x23e7b8(0x1dc)]+'\x20('+this[_0x23e7b8(0x4e6)][_0x23e7b8(0x58c)]+_0x23e7b8(0x4d1)+(_0x1a672e instanceof Error?_0x1a672e[_0x23e7b8(0x1ff)]:JSON['stringify'](_0x1a672e,null,0x2)));}}[a0_0x7625da(0x51d)](_0x11d456,_0xd62463){const _0x1c9a6c=a0_0x7625da;for(let _0x3d95e6 of _0x11d456)_0x3d95e6['option']&&(_0x3d95e6[_0x1c9a6c(0x5d1)]=this[_0x1c9a6c(0x54f)](_0x3d95e6[_0x1c9a6c(0x5d1)],_0xd62463)),_0x3d95e6[_0x1c9a6c(0x376)]&&(_0x3d95e6[_0x1c9a6c(0x376)]=this[_0x1c9a6c(0x54f)](_0x3d95e6[_0x1c9a6c(0x376)],_0xd62463));}async[a0_0x7625da(0x49e)](_0xfff13,_0x51fec9){const _0xc7ef49=a0_0x7625da;let _0x269b50=_0xfff13[_0xc7ef49(0x6cd)];_0x51fec9['uazapi'][_0xc7ef49(0x6cd)]&&_0x51fec9['uazapi'][_0xc7ef49(0x6cd)][_0xc7ef49(0x5d8)]()!==''&&(_0x269b50=_0x51fec9[_0xc7ef49(0x6b8)][_0xc7ef49(0x6cd)][_0xc7ef49(0x5d8)]()),this[_0xc7ef49(0x58e)][_0xc7ef49(0x62f)](this[_0xc7ef49(0x1dc)]+'\x20('+this[_0xc7ef49(0x4e6)]['wuid']+_0xc7ef49(0x211));let _0x4ef2d6=_0xfff13[_0xc7ef49(0x701)][_0xc7ef49(0x3ca)](_0x5d2ff2=>_0x5d2ff2['blockId']===_0x51fec9[_0xc7ef49(0x7ce)])[_0xc7ef49(0x827)]((_0x1ba928,_0x4df90e)=>_0x1ba928['order']-_0x4df90e[_0xc7ef49(0x355)]);this[_0xc7ef49(0x51d)](_0x4ef2d6,_0xfff13['chatLog'][_0xc7ef49(0x8f0)]);let _0x2dc7bc=_0x4ef2d6[_0xc7ef49(0x1ec)](_0x286bdd=>_0x286bdd[_0xc7ef49(0x5d1)]),_0x1e5998={'number':_0x269b50,'menuMessage':{'type':_0x51fec9['uazapi'][_0xc7ef49(0x4c3)]||_0xc7ef49(0x26b),'text':_0x51fec9[_0xc7ef49(0x6b8)][_0xc7ef49(0x3e8)]||_0x51fec9[_0xc7ef49(0x6b8)][_0xc7ef49(0x2f7)],'footerText':_0x51fec9['uazapi']['footerText'],'buttonText':_0x51fec9[_0xc7ef49(0x6b8)][_0xc7ef49(0x4b4)],'selectableCount':0x1,'choices':_0x2dc7bc},'options':{'delay':_0x51fec9[_0xc7ef49(0x6b8)][_0xc7ef49(0x2f3)]}};try{let _0xdf9b41=await this[_0xc7ef49(0x840)](_0x1e5998);if(_0xdf9b41){let _0xb96258={'_id':_0xdf9b41[_0xc7ef49(0x84e)]['id'],'_fromMe':_0xdf9b41['key'][_0xc7ef49(0x7db)],'_remoteJid':_0xdf9b41[_0xc7ef49(0x84e)][_0xc7ef49(0x6cd)]};_0x51fec9[_0xc7ef49(0x6b8)]['menuIgnoreNonVotes']===!0x0&&(_0xfff13[_0xc7ef49(0x464)]='waitingForReplyMenu',this[_0xc7ef49(0x58e)][_0xc7ef49(0x62f)](this[_0xc7ef49(0x1dc)]+'\x20('+this[_0xc7ef49(0x4e6)][_0xc7ef49(0x58c)]+_0xc7ef49(0x71c)+_0xfff13['status'])),this[_0xc7ef49(0x58e)]['verbose'](this['instanceName']+'\x20('+this[_0xc7ef49(0x4e6)][_0xc7ef49(0x58c)]+_0xc7ef49(0x472)+(_0x51fec9['uazapi'][_0xc7ef49(0x2f7)]||_0x51fec9[_0xc7ef49(0x6b8)][_0xc7ef49(0x3e8)])),_0xfff13[_0xc7ef49(0x379)]=_0xdf9b41[_0xc7ef49(0x84e)]['id'],_0xfff13[_0xc7ef49(0x2fb)]=_0x51fec9[_0xc7ef49(0x6b8)]['name']||_0x51fec9['uazapi'][_0xc7ef49(0x3e8)],_0xfff13['waitingMenu_replyOptions']=_0x4ef2d6,_0x51fec9[_0xc7ef49(0x6b8)]['menuExpiredMessage']&&(_0xfff13[_0xc7ef49(0x2e0)]=_0x51fec9[_0xc7ef49(0x6b8)]['menuExpiredMessage']),this[_0xc7ef49(0x58e)][_0xc7ef49(0x62f)](this[_0xc7ef49(0x1dc)]+'\x20('+this['instance'][_0xc7ef49(0x58c)]+_0xc7ef49(0x745)+_0xfff13[_0xc7ef49(0x2fb)]);let _0x5484d1=(0x0,f[_0xc7ef49(0x2c7)])(_0xdf9b41[_0xc7ef49(0x1ff)]),_0x211c88=(0x0,f[_0xc7ef49(0x30c)])(_0x5484d1);_0xfff13[_0xc7ef49(0x878)][_0xc7ef49(0x4ff)]=_0x51fec9[_0xc7ef49(0x7ce)]['toString']();let {message_normalized:_0x4c4f5d}=this[_0xc7ef49(0x27c)](_0x5484d1,_0x211c88,null);_0xfff13[_0xc7ef49(0x878)]['lastSendMessage']=await _0x4c4f5d;let _0x177ea3={'messageId':_0xdf9b41[_0xc7ef49(0x84e)]['id']},_0x1d0510=_0xfff13['chatLog'][_0xc7ef49(0x8f0)];Object[_0xc7ef49(0x1fd)](_0x1d0510,_0xb96258),_0xfff13[_0xc7ef49(0x878)][_0xc7ef49(0x8f0)]=_0x1d0510,this[_0xc7ef49(0x4b8)](_0xfff13,_0x51fec9,_0x177ea3);}else{let _0x5d7dfe={'error':!0x0};this[_0xc7ef49(0x4b8)](_0xfff13,_0x51fec9,_0x5d7dfe),this[_0xc7ef49(0x58e)][_0xc7ef49(0x3a8)](this[_0xc7ef49(0x1dc)]+'\x20('+this[_0xc7ef49(0x4e6)][_0xc7ef49(0x58c)]+_0xc7ef49(0x22f));}}catch(_0x55456a){let _0xd3a9ce={'error':!0x0,'errorLog':_0x55456a instanceof Error?_0x55456a['message']:JSON['stringify'](_0x55456a,null,0x2)};this[_0xc7ef49(0x4b8)](_0xfff13,_0x51fec9,_0xd3a9ce),this[_0xc7ef49(0x58e)][_0xc7ef49(0x3a8)](this[_0xc7ef49(0x1dc)]+'\x20('+this[_0xc7ef49(0x4e6)]['wuid']+_0xc7ef49(0x5d0)+(_0x55456a instanceof Error?_0x55456a['message']:JSON['stringify'](_0x55456a,null,0x2)));}}async['uazapiDeleteMessage'](_0x295ca1,_0x12971e){const _0x330243=a0_0x7625da;this['logger'][_0x330243(0x62f)](this[_0x330243(0x1dc)]+'\x20('+this[_0x330243(0x4e6)]['wuid']+_0x330243(0x42e));let _0x221b2f=_0x295ca1[_0x330243(0x878)]['blockLogs'][_0x330243(0x48d)](_0x7e76ed=>_0x7e76ed[_0x330243(0x1f7)][_0x330243(0x455)]()===_0x12971e[_0x330243(0x6b8)][_0x330243(0x1f7)]['toString']()),_0x4ddc29={'id':_0x221b2f[_0x330243(0x48e)],'remoteJid':_0x221b2f[_0x330243(0x6cd)],'fromMe':_0x221b2f['fromMe']};try{let _0xdfa2bd=await this[_0x330243(0x764)](_0x4ddc29);if(_0xdfa2bd){let _0x57ad33=(0x0,f[_0x330243(0x2c7)])(_0xdfa2bd[_0x330243(0x1ff)]),_0x21bf15=(0x0,f[_0x330243(0x30c)])(_0x57ad33);_0x295ca1[_0x330243(0x878)]['lastBlockId']=_0x12971e['_id']['toString']();let {message_normalized:_0x140d7a}=this[_0x330243(0x27c)](_0x57ad33,_0x21bf15,null);_0x295ca1[_0x330243(0x878)][_0x330243(0x3dd)]=await _0x140d7a;let _0x597be2={};this[_0x330243(0x4b8)](_0x295ca1,_0x12971e,_0x597be2);}else{let _0x313857={'error':!0x0};this[_0x330243(0x4b8)](_0x295ca1,_0x12971e,_0x313857),this[_0x330243(0x58e)]['error'](this[_0x330243(0x1dc)]+'\x20('+this[_0x330243(0x4e6)][_0x330243(0x58c)]+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x3262b9){let _0x272390={'error':!0x0,'errorLog':_0x3262b9 instanceof Error?_0x3262b9[_0x330243(0x1ff)]:JSON[_0x330243(0x511)](_0x3262b9,null,0x2)};this[_0x330243(0x4b8)](_0x295ca1,_0x12971e,_0x272390),this[_0x330243(0x58e)][_0x330243(0x3a8)](this[_0x330243(0x1dc)]+'\x20('+this[_0x330243(0x4e6)]['wuid']+_0x330243(0x279)+(_0x3262b9 instanceof Error?_0x3262b9[_0x330243(0x1ff)]:JSON[_0x330243(0x511)](_0x3262b9,null,0x2)));}}async[a0_0x7625da(0x38f)](_0xb9903e,_0x8f9d38){const _0x4a14bc=a0_0x7625da;if(!_0xb9903e[_0x4a14bc(0x2f7)])throw new m('O\x20nome\x20do\x20fluxo\x20é\x20obrigatório');let _0xa113b4=_0xb9903e?.[_0x4a14bc(0x676)]?.[_0x4a14bc(0x5d8)]()===_0x4a14bc(0x4ac)?_0x4a14bc(0x676):this[_0x4a14bc(0x4e6)][_0x4a14bc(0x58c)],_0x3f3d41=await this[_0x4a14bc(0x3f9)][_0x4a14bc(0x6c0)][_0x4a14bc(0x715)]({'where':{'name':_0xb9903e['name']}},_0xa113b4);if(_0x8f9d38!==te&&_0xb9903e?.[_0x4a14bc(0x676)]===_0x4a14bc(0x4ac))throw new m(_0x4a14bc(0x873));if(_0xb9903e?.[_0x4a14bc(0x676)]!=='true'&&(_0xb9903e[_0x4a14bc(0x676)]='false'),_0x3f3d41)throw new m(_0x4a14bc(0x7e7));return _0x4a14bc(0x2f7)in _0xb9903e&&_0x4a14bc(0x465)in _0xb9903e&&'owner'in _0xb9903e?this[_0x4a14bc(0x882)](_0xb9903e['owner'],_0xb9903e['sharePass'],_0xb9903e[_0x4a14bc(0x2f7)]):this[_0x4a14bc(0x71e)](_0xb9903e);}async[a0_0x7625da(0x882)](_0x21e1d3,_0x1e32b3,_0x3defd1){const _0x126501=a0_0x7625da;try{this[_0x126501(0x58e)][_0x126501(0x62f)](this[_0x126501(0x1dc)]+'\x20('+this['instance'][_0x126501(0x58c)]+_0x126501(0x228));let _0x44ef16=await this['repository'][_0x126501(0x6c0)][_0x126501(0x715)]({'where':{'sharePass':_0x1e32b3}},_0x21e1d3);if(!_0x44ef16)throw new m('Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.');let _0x2a8595={..._0x44ef16},_0x311c2a=_0x44ef16[_0x126501(0x676)]===_0x126501(0x4ac)?_0x126501(0x676):_0x44ef16[_0x126501(0x4c5)];return(_0x21e1d3==='global'||_0x44ef16['global']===_0x126501(0x4ac))&&(_0x2a8595[_0x126501(0x676)]='sync',_0x2a8595[_0x126501(0x4c5)]='global'),_0x2a8595[_0x126501(0x7a2)]=Array[_0x126501(0x861)](new Set([..._0x44ef16['shareOwners']||[],_0x311c2a,this[_0x126501(0x4e6)][_0x126501(0x58c)]])),_0x44ef16[_0x126501(0x7a2)]=_0x2a8595[_0x126501(0x7a2)],await this['repository']['flow'][_0x126501(0x819)](_0x44ef16[_0x126501(0x7ce)],{'shareOwners':_0x44ef16['shareOwners']},_0x311c2a),_0x44ef16[_0x126501(0x716)]===!0x0&&await this['repository'][_0x126501(0x6c0)][_0x126501(0x829)]({},{'default':!0x1},this[_0x126501(0x4e6)][_0x126501(0x58c)]),_0x2a8595[_0x126501(0x4c5)]=this['instance'][_0x126501(0x58c)],await this[_0x126501(0x3f9)][_0x126501(0x6c0)][_0x126501(0x7b1)](_0x2a8595,this[_0x126501(0x4e6)][_0x126501(0x58c)]);}catch(_0x127b97){let _0x425b63=_0x126501(0x442),_0x25c03=_0x127b97 instanceof Error?_0x127b97[_0x126501(0x1ff)]:typeof _0x127b97==_0x126501(0x559)?JSON['stringify'](_0x127b97):_0x127b97,_0x2402c7=_0x425b63+':\x20'+_0x25c03;throw this[_0x126501(0x58e)][_0x126501(0x3a8)](this['instanceName']+'\x20('+this[_0x126501(0x4e6)][_0x126501(0x58c)]+_0x126501(0x510)+_0x2402c7),new m(_0x2402c7);}}async[a0_0x7625da(0x71e)](_0x5454e5){const _0x4d109b=a0_0x7625da;try{this['logger'][_0x4d109b(0x62f)](this[_0x4d109b(0x1dc)]+'\x20('+this['instance'][_0x4d109b(0x58c)]+'):\x20Criando\x20fluxo\x20regular...');let _0x456919=_0x5454e5?.[_0x4d109b(0x676)]===_0x4d109b(0x4ac)?_0x4d109b(0x676):this[_0x4d109b(0x4e6)][_0x4d109b(0x58c)];delete _0x5454e5[_0x4d109b(0x7a2)],delete _0x5454e5[_0x4d109b(0x465)],delete _0x5454e5['owner'],_0x5454e5[_0x4d109b(0x716)]===!0x0&&await this['repository']['flow'][_0x4d109b(0x829)]({},{'default':!0x1},this[_0x4d109b(0x4e6)][_0x4d109b(0x58c)]);let _0x18dc68=new re[(_0x4d109b(0x67d))][(_0x4d109b(0x290))](),_0x1bf6d2={'_id':_0x18dc68,'default':!0x0,'title':'Início','x':0x0,'y':0x0},_0x3a969e={'_id':new re['Types'][(_0x4d109b(0x290))](),'order':0x1,'groupId':_0x18dc68[_0x4d109b(0x455)](),'type':_0x4d109b(0x6be)},_0x1299cb={'_id':new re[(_0x4d109b(0x67d))]['ObjectId'](),'owner':this[_0x4d109b(0x4e6)][_0x4d109b(0x58c)],'name':_0x5454e5[_0x4d109b(0x2f7)],'groups':[_0x1bf6d2],'blocks':[_0x3a969e],..._0x5454e5};return await this[_0x4d109b(0x3f9)][_0x4d109b(0x6c0)][_0x4d109b(0x7b1)](_0x1299cb,_0x456919);}catch(_0x5d6423){let _0x5cd957='Erro\x20ao\x20criar\x20fluxo\x20regular',_0xf9cc86=_0x5d6423 instanceof Error?_0x5d6423[_0x4d109b(0x1ff)]:typeof _0x5d6423==_0x4d109b(0x559)?JSON['stringify'](_0x5d6423):_0x5d6423,_0x526db0=_0x5cd957+':\x20'+_0xf9cc86;throw this['logger'][_0x4d109b(0x3a8)](this['instanceName']+'\x20('+this[_0x4d109b(0x4e6)][_0x4d109b(0x58c)]+'):\x20'+_0x526db0),new m(_0x526db0);}}async[a0_0x7625da(0x88a)](_0x590adb,_0x5ed36f){const _0x33c254=a0_0x7625da;this[_0x33c254(0x58e)]['info'](_0x33c254(0x8a1));try{let _0x5ed81c=await this[_0x33c254(0x3f9)][_0x33c254(0x6c0)][_0x33c254(0x715)]({'where':{'_id':_0x590adb}},_0x5ed36f);if(delete _0x5ed81c['default'],delete _0x5ed81c['startCommandWord'],delete _0x5ed81c[_0x33c254(0x603)],delete _0x5ed81c[_0x33c254(0x693)],delete _0x5ed81c[_0x33c254(0x586)],_0x5ed81c['global']===_0x33c254(0x4ac)&&(_0x5ed81c['global']=_0x33c254(0x48f)),_0x5ed81c&&_0x5ed81c[_0x33c254(0x7a2)]){for(let _0x2083aa of _0x5ed81c[_0x33c254(0x7a2)])if(_0x2083aa!==_0x5ed36f){let _0x46e42d={..._0x5ed81c,'owner':_0x2083aa};await this[_0x33c254(0x3f9)]['flow'][_0x33c254(0x62b)](_0x5ed81c[_0x33c254(0x7ce)],_0x46e42d,_0x2083aa);}}}catch(_0xc83991){this[_0x33c254(0x58e)][_0x33c254(0x3a8)]('Erro\x20ao\x20sincronizar\x20fluxos:\x20'+_0xc83991);}}async[a0_0x7625da(0x408)](_0x238031,_0x1c59cf){const _0xa8b771=a0_0x7625da;try{this[_0xa8b771(0x58e)][_0xa8b771(0x62f)](this['instanceName']+'\x20('+this[_0xa8b771(0x4e6)][_0xa8b771(0x58c)]+_0xa8b771(0x5a4)+_0x238031[_0xa8b771(0x2f7)]+_0xa8b771(0x6a0)+_0x238031[_0xa8b771(0x676)]);let _0x102e0c=_0x238031[_0xa8b771(0x676)]===_0xa8b771(0x4ac)?_0xa8b771(0x676):this['instance'][_0xa8b771(0x58c)],_0x38ff05=await this['repository'][_0xa8b771(0x6c0)][_0xa8b771(0x715)]({'where':{'name':_0x238031[_0xa8b771(0x2f7)]}},_0x102e0c);if(!_0x38ff05)throw new m(_0xa8b771(0x410));if(_0x1c59cf!==te&&_0x38ff05?.[_0xa8b771(0x676)]===_0xa8b771(0x4ac)&&_0x38ff05?.[_0xa8b771(0x4c5)]!==this[_0xa8b771(0x4e6)]['wuid'])throw new m('Esse\x20fluxo\x20é\x20global,\x20para\x20deletá-lo\x20você\x20precisa\x20ser\x20o\x20criador\x20ou\x20usar\x20a\x20apikey\x20global');if(_0x38ff05&&_0x38ff05['shareOwners']&&_0x38ff05[_0xa8b771(0x7a2)][_0xa8b771(0x779)]>0x0){for(let _0x500dca of _0x38ff05[_0xa8b771(0x7a2)])if(_0x500dca!==_0x102e0c){let _0x17a5b2=await this[_0xa8b771(0x3f9)][_0xa8b771(0x6c0)][_0xa8b771(0x715)]({'where':{'sharePass':_0x38ff05[_0xa8b771(0x465)]}},_0x500dca);if(_0x17a5b2){_0x17a5b2[_0xa8b771(0x7a2)]=_0x17a5b2[_0xa8b771(0x7a2)][_0xa8b771(0x3ca)](_0x19ee32=>_0x19ee32!==_0x38ff05[_0xa8b771(0x4c5)]);let _0x5ad774={'shareOwners':_0x17a5b2[_0xa8b771(0x7a2)]};_0x38ff05['global']===_0xa8b771(0x4ac)&&(_0x5ad774[_0xa8b771(0x676)]=_0xa8b771(0x8e4)),await this[_0xa8b771(0x3f9)][_0xa8b771(0x6c0)]['updateOne'](_0x17a5b2[_0xa8b771(0x7ce)],_0x5ad774,_0x500dca);}}}return await this[_0xa8b771(0x3f9)][_0xa8b771(0x6c0)][_0xa8b771(0x7be)]({'where':{'name':_0x238031[_0xa8b771(0x2f7)]}},_0x102e0c);}catch(_0x371219){return this[_0xa8b771(0x58e)]['error'](this[_0xa8b771(0x1dc)]+'\x20('+this['instance'][_0xa8b771(0x58c)]+_0xa8b771(0x587)+(_0x371219 instanceof Error?_0x371219[_0xa8b771(0x1ff)]:JSON[_0xa8b771(0x511)](_0x371219,null,0x2))),{'message':'Erro\x20ao\x20deletar\x20o\x20fluxo:\x20'+_0x371219[_0xa8b771(0x1ff)]};}}async[a0_0x7625da(0x786)](_0x19513d,_0x425c7b){const _0x5a1296=a0_0x7625da;try{this['logger']['info'](this['instanceName']+'\x20('+this[_0x5a1296(0x4e6)][_0x5a1296(0x58c)]+'):\x20Buscando\x20flow,\x20name:\x20'+_0x19513d+_0x5a1296(0x629)+_0x425c7b);let _0x5040b1=_0x425c7b?.[_0x5a1296(0x5d8)]()===_0x5a1296(0x4ac)?_0x5a1296(0x676):this[_0x5a1296(0x4e6)][_0x5a1296(0x58c)],_0x480383=await this[_0x5a1296(0x3f9)][_0x5a1296(0x6c0)][_0x5a1296(0x715)]({'where':{'name':_0x19513d}},_0x5040b1);if(!_0x480383)throw new Error(_0x5a1296(0x8d9));if(_0x480383[_0x5a1296(0x2ee)]||(_0x480383['startID']=(0x0,Me['v4'])()),!this['AutomateSystem']&&(await this[_0x5a1296(0x2f9)](),!this[_0x5a1296(0x3e1)]))return null;let _0x44ec68=this['AutomateSystem']?.['customFields'][_0x5a1296(0x1ec)](_0x2406e9=>_0x2406e9['name']),_0x50e8b8=['nome',_0x5a1296(0x45b),_0x5a1296(0x572),_0x5a1296(0x414),'status','notas',_0x5a1296(0x6d7),'tags','etiquetas',_0x5a1296(0x2da),'atendimentoAberto'];_0x480383['variables']=_0x480383[_0x5a1296(0x576)][_0x5a1296(0x3ca)](_0x3c25f4=>!(_0x3c25f4['folder']===_0x5a1296(0x24e)||_0x3c25f4[_0x5a1296(0x24e)])),_0x50e8b8[_0x5a1296(0x886)](_0x64c54d=>{const _0x11e405=_0x5a1296;_0x480383[_0x11e405(0x576)][_0x11e405(0x566)]({'folder':_0x11e405(0x24e),'name':_0x64c54d,'value':'','doc':'','leadInfo':!0x0});}),_0x44ec68[_0x5a1296(0x886)](_0x51ef38=>{const _0x48d01c=_0x5a1296;let _0x2bd192=_0x480383['variables'][_0x48d01c(0x6d8)](_0x4896f1=>_0x4896f1[_0x48d01c(0x2f7)]===_0x51ef38);_0x2bd192===-0x1?_0x480383[_0x48d01c(0x576)][_0x48d01c(0x566)]({'folder':'leadInfo','name':_0x51ef38,'value':'','doc':'','leadInfo':!0x0}):(_0x480383[_0x48d01c(0x576)][_0x2bd192]['folder']='leadInfo',_0x480383[_0x48d01c(0x576)][_0x2bd192][_0x48d01c(0x24e)]=!0x0);}),_0x480383['blocks']&&_0x480383[_0x5a1296(0x201)]['length']>0x0&&_0x480383['blocks'][_0x5a1296(0x886)](_0x55476a=>{const _0x288b25=_0x5a1296;_0x55476a[_0x288b25(0x43f)]&&_0x55476a['next_groupId']&&_0x55476a['groupId']===_0x55476a[_0x288b25(0x37c)]&&(_0x55476a[_0x288b25(0x37c)]=null);});let _0xe55b9c=await this[_0x5a1296(0x3f9)][_0x5a1296(0x6c0)]['updateOne'](_0x480383['_id'],_0x480383,_0x5040b1);if(!_0xe55b9c)throw new Error(_0x5a1296(0x3d6));return _0xe55b9c;}catch(_0x3f1445){let _0xbf407b=_0x5a1296(0x65f),_0x2ad975=_0x3f1445 instanceof Error?_0x3f1445[_0x5a1296(0x1ff)]:typeof _0x3f1445==_0x5a1296(0x559)?JSON[_0x5a1296(0x511)](_0x3f1445):_0x3f1445,_0x4d5458=_0xbf407b+':\x20'+_0x2ad975;throw this['logger'][_0x5a1296(0x3a8)](this[_0x5a1296(0x1dc)]+'\x20('+this[_0x5a1296(0x4e6)][_0x5a1296(0x58c)]+_0x5a1296(0x510)+_0x4d5458),new m(_0x4d5458);}}async[a0_0x7625da(0x3ab)](){const _0x572de7=a0_0x7625da;try{this[_0x572de7(0x58e)][_0x572de7(0x62f)](this[_0x572de7(0x1dc)]+'\x20('+this['instance']['wuid']+_0x572de7(0x4a0)),await this['repository']['flow'][_0x572de7(0x2eb)](this[_0x572de7(0x4e6)][_0x572de7(0x58c)]);let _0x19a8db=await this['repository']['flow'][_0x572de7(0x5dc)]({'where':{}},this[_0x572de7(0x4e6)][_0x572de7(0x58c)]),_0x1e8998=await this[_0x572de7(0x3f9)][_0x572de7(0x6c0)][_0x572de7(0x5dc)]({'where':{}},'global');return _0x19a8db['concat'](_0x1e8998);}catch(_0x2c816c){return this[_0x572de7(0x58e)][_0x572de7(0x3a8)](this[_0x572de7(0x1dc)]+'\x20('+this['instance'][_0x572de7(0x58c)]+_0x572de7(0x43e)+(_0x2c816c instanceof Error?_0x2c816c[_0x572de7(0x1ff)]:JSON[_0x572de7(0x511)](_0x2c816c,null,0x2))),{'message':_0x572de7(0x7b5)+_0x2c816c[_0x572de7(0x1ff)]};}}async[a0_0x7625da(0x469)](_0x5029dd,_0x3feb09){const _0x25fb16=a0_0x7625da;try{this['logger'][_0x25fb16(0x62f)](this[_0x25fb16(0x1dc)]+'\x20('+this[_0x25fb16(0x4e6)]['wuid']+'):\x20Alterando\x20fluxo...');let _0x16c746=_0x5029dd?.[_0x25fb16(0x676)]?.[_0x25fb16(0x5d8)]()===_0x25fb16(0x4ac)?_0x25fb16(0x676):this[_0x25fb16(0x4e6)][_0x25fb16(0x58c)],_0x16db7a=await this['repository'][_0x25fb16(0x6c0)]['findOne']({'where':{'name':_0x5029dd[_0x25fb16(0x2f7)]}},_0x16c746);if(!_0x16db7a)return{'message':'Fluxo\x20não\x20encontrado'};if(_0x3feb09!==te&&_0x16db7a?.[_0x25fb16(0x676)]==='true'&&_0x16db7a?.[_0x25fb16(0x4c5)]!==this[_0x25fb16(0x4e6)][_0x25fb16(0x58c)])throw new m(_0x25fb16(0x553));_0x16db7a?.['global']===_0x25fb16(0x48f)&&(_0x5029dd={'default':_0x5029dd['default'],'minutesToClose':_0x5029dd[_0x25fb16(0x693)],'readMessages':_0x5029dd['readMessages'],'testingWith':_0x5029dd[_0x25fb16(0x603)],'startCommandWord':_0x5029dd[_0x25fb16(0x5ec)]}),_0x5029dd[_0x25fb16(0x716)]===!0x0&&_0x16db7a?.['global']!==_0x25fb16(0x4ac)&&await this[_0x25fb16(0x3f9)][_0x25fb16(0x6c0)][_0x25fb16(0x829)]({},{'default':!0x1},_0x16c746),delete _0x5029dd['shareOwners'],delete _0x5029dd['sharePass'],delete _0x5029dd[_0x25fb16(0x676)];let _0x1df9e6=await this['repository'][_0x25fb16(0x6c0)]['updateOne'](_0x16db7a['_id'],_0x5029dd,_0x16c746);return _0x1df9e6&&_0x1df9e6[_0x25fb16(0x7a2)]&&_0x1df9e6['shareOwners'][_0x25fb16(0x779)]>0x1&&_0x1df9e6['global']!==_0x25fb16(0x48f)&&this[_0x25fb16(0x88a)](_0x1df9e6[_0x25fb16(0x7ce)],_0x16c746),_0x1df9e6;}catch(_0x22b1ee){let _0x23371e=_0x25fb16(0x547),_0x2f40d6=_0x22b1ee instanceof Error?_0x22b1ee[_0x25fb16(0x1ff)]:typeof _0x22b1ee=='object'?JSON[_0x25fb16(0x511)](_0x22b1ee):_0x22b1ee,_0x163ccd=_0x23371e+':\x20'+_0x2f40d6;throw this['logger'][_0x25fb16(0x3a8)](this[_0x25fb16(0x1dc)]+'\x20('+this[_0x25fb16(0x4e6)][_0x25fb16(0x58c)]+_0x25fb16(0x510)+_0x163ccd),new m(_0x163ccd);}}async['editFlowBlock'](_0x121859,_0x3d63b0){const _0x35d710=a0_0x7625da;try{this[_0x35d710(0x58e)][_0x35d710(0x62f)](this[_0x35d710(0x1dc)]+'\x20('+this[_0x35d710(0x4e6)][_0x35d710(0x58c)]+_0x35d710(0x69e));let _0x3eae51=_0x121859?.[_0x35d710(0x676)]?.['trim']()===_0x35d710(0x4ac)?'global':this[_0x35d710(0x4e6)]['wuid'],_0x26c111=await this[_0x35d710(0x3f9)][_0x35d710(0x6c0)][_0x35d710(0x715)]({'where':{'name':_0x121859[_0x35d710(0x2f7)]}},_0x3eae51);if(_0x26c111||this[_0x35d710(0x330)](_0x35d710(0x8d9)),_0x26c111?.[_0x35d710(0x676)]==='sync')throw new m(_0x35d710(0x483));if(_0x3d63b0!==te&&_0x26c111?.['global']==='true'&&_0x26c111?.[_0x35d710(0x4c5)]!==this[_0x35d710(0x4e6)][_0x35d710(0x58c)])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');let {block:_0x43e9dc}=_0x121859;_0x43e9dc?.[_0x35d710(0x398)]?this[_0x35d710(0x6ad)](_0x26c111,_0x121859):_0x43e9dc?.['delete']?this['deleteBlock'](_0x26c111,_0x121859):_0x43e9dc[_0x35d710(0x7ce)]?await this[_0x35d710(0x295)](_0x26c111,_0x121859):this['addBlock'](_0x26c111,_0x121859);let _0x82fa91=await this['repository'][_0x35d710(0x6c0)][_0x35d710(0x819)](_0x26c111[_0x35d710(0x7ce)],_0x26c111,_0x3eae51);if(_0x82fa91&&_0x82fa91[_0x35d710(0x7a2)]&&_0x82fa91[_0x35d710(0x7a2)][_0x35d710(0x779)]>0x1&&this[_0x35d710(0x88a)](_0x82fa91['_id'],this['instance'][_0x35d710(0x58c)]),!_0x82fa91)throw new Error(_0x35d710(0x3d6));return _0x82fa91;}catch(_0x565da1){this[_0x35d710(0x330)](_0x35d710(0x646)+_0x565da1[_0x35d710(0x1ff)]);}}async[a0_0x7625da(0x6ad)](_0x2a4e5d,_0x2be838){const _0x52c8a5=a0_0x7625da;let _0x289d6a=_0x2be838[_0x52c8a5(0x5a5)][_0x52c8a5(0x7ce)],_0x4735fd=_0x2a4e5d['blocks'][_0x52c8a5(0x48d)](_0x30dc38=>_0x30dc38[_0x52c8a5(0x7ce)][_0x52c8a5(0x455)]()===_0x289d6a);if(!_0x4735fd){this[_0x52c8a5(0x58e)][_0x52c8a5(0x3a8)](this['instanceName']+'\x20('+this[_0x52c8a5(0x4e6)][_0x52c8a5(0x58c)]+_0x52c8a5(0x815)+_0x289d6a+_0x52c8a5(0x677));return;}this[_0x52c8a5(0x58e)]['verbose'](this[_0x52c8a5(0x1dc)]+'\x20('+this[_0x52c8a5(0x4e6)][_0x52c8a5(0x58c)]+_0x52c8a5(0x3c6)+JSON[_0x52c8a5(0x511)](_0x4735fd));let _0x48b8b1=JSON['parse'](JSON[_0x52c8a5(0x511)](_0x4735fd));_0x48b8b1[_0x52c8a5(0x7ce)]=new re[(_0x52c8a5(0x716))][(_0x52c8a5(0x67d))][(_0x52c8a5(0x290))](),this[_0x52c8a5(0x58e)]['verbose'](this[_0x52c8a5(0x1dc)]+'\x20('+this[_0x52c8a5(0x4e6)]['wuid']+_0x52c8a5(0x710)+JSON[_0x52c8a5(0x511)](_0x48b8b1)),_0x2a4e5d[_0x52c8a5(0x201)][_0x52c8a5(0x566)](_0x48b8b1),this[_0x52c8a5(0x281)](_0x2a4e5d['blocks'],_0x48b8b1[_0x52c8a5(0x43f)]);}[a0_0x7625da(0x330)](_0xe39d6e){const _0x458a30=a0_0x7625da;throw this['logger'][_0x458a30(0x3a8)](this[_0x458a30(0x1dc)]+'\x20('+this['instance'][_0x458a30(0x58c)]+_0x458a30(0x510)+_0xe39d6e),new m(_0xe39d6e);}[a0_0x7625da(0x28d)](_0x4872ee,_0x241036){const _0x996e93=a0_0x7625da;let {block:_0x97000}=_0x241036;if(_0x97000[_0x996e93(0x3a6)]===_0x996e93(0x6be)){this[_0x996e93(0x330)](_0x996e93(0x269));return;}if(!_0x97000['_id']){this[_0x996e93(0x330)](_0x996e93(0x4a7));return;}let _0x2cd24c=_0x4872ee[_0x996e93(0x201)][_0x996e93(0x48d)](_0x3bee0b=>_0x3bee0b[_0x996e93(0x7ce)]['toString']()===_0x241036[_0x996e93(0x5a5)][_0x996e93(0x7ce)][_0x996e93(0x455)]());if(!_0x2cd24c){this[_0x996e93(0x330)]('Bloco\x20com\x20ID\x20'+_0x97000[_0x996e93(0x7ce)]+_0x996e93(0x61e));return;}_0x4872ee[_0x996e93(0x201)]=_0x4872ee[_0x996e93(0x201)][_0x996e93(0x3ca)](_0x10bcb6=>_0x10bcb6[_0x996e93(0x7ce)][_0x996e93(0x455)]()!==_0x241036['block'][_0x996e93(0x7ce)]['toString']()),_0x4872ee[_0x996e93(0x443)]=_0x4872ee[_0x996e93(0x443)]['filter'](_0x5255b0=>_0x5255b0['blockId']!==_0x97000[_0x996e93(0x7ce)]['toString']()),_0x4872ee[_0x996e93(0x42d)]=_0x4872ee[_0x996e93(0x42d)][_0x996e93(0x3ca)](_0x3ee1dd=>_0x3ee1dd[_0x996e93(0x1f7)]!==_0x97000[_0x996e93(0x7ce)][_0x996e93(0x455)]()),_0x4872ee['replyOptions']=_0x4872ee['replyOptions'][_0x996e93(0x3ca)](_0x744646=>_0x744646[_0x996e93(0x1f7)]!==_0x97000['_id'][_0x996e93(0x455)]()),this[_0x996e93(0x281)](_0x4872ee[_0x996e93(0x201)],_0x2cd24c['groupId']);}async[a0_0x7625da(0x295)](_0x2977d3,_0x154714){const _0x11a2c6=a0_0x7625da;let _0x6350f6=_0x2977d3[_0x11a2c6(0x201)]['findIndex'](_0x535ca1=>_0x535ca1[_0x11a2c6(0x7ce)][_0x11a2c6(0x455)]()===_0x154714[_0x11a2c6(0x5a5)][_0x11a2c6(0x7ce)][_0x11a2c6(0x455)]());if(this['logger'][_0x11a2c6(0x62f)](this['instanceName']+'\x20('+this[_0x11a2c6(0x4e6)][_0x11a2c6(0x58c)]+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x6350f6),_0x6350f6===-0x1){this[_0x11a2c6(0x58e)][_0x11a2c6(0x62f)]('Bloco\x20com\x20ID\x20'+_0x154714[_0x11a2c6(0x5a5)]['_id']+_0x11a2c6(0x55b));return;}if(_0x2977d3[_0x11a2c6(0x201)][_0x6350f6]['type']==='start'){let _0xfeb210=Object[_0x11a2c6(0x4f8)](_0x154714[_0x11a2c6(0x5a5)]);if(_0xfeb210[_0x11a2c6(0x779)]>0x2||_0xfeb210[_0x11a2c6(0x779)]===0x2&&!_0xfeb210[_0x11a2c6(0x80b)](_0x11a2c6(0x37c))){this['throwAndLogError'](_0x11a2c6(0x6c6));return;}}let _0xc882e7=_0x2977d3[_0x11a2c6(0x201)][_0x6350f6][_0x11a2c6(0x43f)];for(let _0x6181f in _0x154714[_0x11a2c6(0x5a5)])_0x154714[_0x11a2c6(0x5a5)][_0x11a2c6(0x42c)](_0x6181f)&&(_0x2977d3['blocks'][_0x6350f6][_0x6181f]=_0x154714[_0x11a2c6(0x5a5)][_0x6181f]);if(this[_0x11a2c6(0x58e)]['verbose'](this[_0x11a2c6(0x1dc)]+'\x20('+this[_0x11a2c6(0x4e6)][_0x11a2c6(0x58c)]+_0x11a2c6(0x59e)+JSON['stringify'](_0x2977d3[_0x11a2c6(0x201)][_0x6350f6])),_0x2977d3['blocks'][_0x6350f6]['apirequest']&&_0x11a2c6(0x213)in _0x2977d3[_0x11a2c6(0x201)][_0x6350f6][_0x11a2c6(0x372)]){this[_0x11a2c6(0x58e)]['verbose'](this[_0x11a2c6(0x1dc)]+'\x20('+this[_0x11a2c6(0x4e6)][_0x11a2c6(0x58c)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x5cb80d=JSON[_0x11a2c6(0x511)](_0x2977d3[_0x11a2c6(0x201)][_0x6350f6]['apirequest'][_0x11a2c6(0x213)],null,0x1);_0x5cb80d[_0x11a2c6(0x779)]>0x2&&(_0x5cb80d=_0x5cb80d[_0x11a2c6(0x6b4)](0x1,_0x5cb80d['length']-0x1)['trim']()),_0x2977d3[_0x11a2c6(0x201)][_0x6350f6][_0x11a2c6(0x372)][_0x11a2c6(0x6dd)]=_0x5cb80d;}if(_0x2977d3[_0x11a2c6(0x201)][_0x6350f6][_0x11a2c6(0x372)]&&_0x11a2c6(0x2d3)in _0x2977d3['blocks'][_0x6350f6]['apirequest']&&!('bodyString'in _0x2977d3['blocks'][_0x6350f6][_0x11a2c6(0x372)])){this[_0x11a2c6(0x58e)]['verbose'](this[_0x11a2c6(0x1dc)]+'\x20('+this[_0x11a2c6(0x4e6)][_0x11a2c6(0x58c)]+_0x11a2c6(0x359)),_0x2977d3[_0x11a2c6(0x201)][_0x6350f6][_0x11a2c6(0x372)][_0x11a2c6(0x74a)]=!0x1;let _0x256899=JSON[_0x11a2c6(0x511)](_0x2977d3[_0x11a2c6(0x201)][_0x6350f6][_0x11a2c6(0x372)][_0x11a2c6(0x2d3)],null,0x2);_0x2977d3['blocks'][_0x6350f6][_0x11a2c6(0x372)][_0x11a2c6(0x6e3)]=_0x256899;}if(_0x2977d3[_0x11a2c6(0x201)][_0x6350f6][_0x11a2c6(0x372)]&&'bodyString'in _0x2977d3[_0x11a2c6(0x201)][_0x6350f6]['apirequest']){_0x2977d3[_0x11a2c6(0x201)][_0x6350f6]['apirequest'][_0x11a2c6(0x74a)]=!0x1;let _0x53b396=_0x2977d3[_0x11a2c6(0x201)][_0x6350f6]['apirequest'][_0x11a2c6(0x6e3)],_0x39f494=this[_0x11a2c6(0x7bc)](_0x53b396);_0x2977d3[_0x11a2c6(0x201)][_0x6350f6][_0x11a2c6(0x372)]['bodyString']=_0x39f494[_0x11a2c6(0x45c)],_0x2977d3[_0x11a2c6(0x201)][_0x6350f6]['apirequest'][_0x11a2c6(0x74a)]=_0x39f494[_0x11a2c6(0x3a8)];}let _0x8a5d31=_0x2977d3[_0x11a2c6(0x201)][_0x6350f6][_0x11a2c6(0x43f)];_0xc882e7!==_0x8a5d31?(this[_0x11a2c6(0x281)](_0x2977d3[_0x11a2c6(0x201)],_0xc882e7),this['reorderBlocks'](_0x2977d3[_0x11a2c6(0x201)],_0x8a5d31)):this[_0x11a2c6(0x281)](_0x2977d3['blocks'],_0xc882e7);}[a0_0x7625da(0x7bc)](_0x2bbd48){const _0xca1af8=a0_0x7625da;let _0x131353='\u205f',_0x555599=!0x1,_0x17e212='';for(let _0x119b1d=0x0;_0x119b1d<_0x2bbd48['length'];_0x119b1d++){let _0x4a511b=_0x2bbd48[_0x119b1d];_0x4a511b==='\x22'&&(_0x119b1d===0x0||_0x2bbd48[_0x119b1d-0x1]!=='\x5c')&&(_0x555599=!_0x555599),!(!_0x555599&&(_0x4a511b==='\x0a'||_0x4a511b==='\x20'||_0x4a511b===_0x131353))&&(_0x17e212+=_0x4a511b);}let _0x4b0d56={},_0x4ec785=9876543210.1234,_0x5051b4=_0x17e212[_0xca1af8(0x614)](/\{\{([^}]+)\}\}/g,_0x414145=>{let _0x183354=_0x414145,_0x5a4759=''+_0x4ec785;return _0x4b0d56[_0x5a4759]=_0x183354,_0x4ec785+=0.0001,_0x5a4759;}),_0x3d6e30='',_0x19467b=!0x1;try{let _0xe52d3f=JSON['parse'](_0x5051b4);_0x3d6e30=JSON[_0xca1af8(0x511)](_0xe52d3f,null,0x2),_0x3d6e30=_0x3d6e30[_0xca1af8(0x614)](/\n( +)/g,(_0x43f6ef,_0x562945)=>{const _0x283b0c=_0xca1af8;let _0x34b52f=_0x562945[_0x283b0c(0x779)];return'\x0a'+_0x131353[_0x283b0c(0x790)](_0x34b52f*0x2);}),_0x3d6e30=_0x3d6e30[_0xca1af8(0x614)](/(\d{10,}\.\d+)/g,_0x2f9bd7=>_0x4b0d56[_0x2f9bd7]||_0x2f9bd7);}catch(_0x19a9d6){console[_0xca1af8(0x3a8)](_0xca1af8(0x851),_0x19a9d6),_0x3d6e30=_0x2bbd48,_0x19467b=!0x0;}return{'result':_0x3d6e30,'error':_0x19467b};}[a0_0x7625da(0x50b)](_0x5b7919,_0x1848b7){const _0x3755b3=a0_0x7625da;if(_0x1848b7[_0x3755b3(0x5a5)][_0x3755b3(0x3a6)]==='start'){this[_0x3755b3(0x330)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x1848b7[_0x3755b3(0x5a5)][_0x3755b3(0x372)]&&'header'in _0x1848b7[_0x3755b3(0x5a5)][_0x3755b3(0x372)]){this[_0x3755b3(0x58e)][_0x3755b3(0x62f)](this['instanceName']+'\x20('+this[_0x3755b3(0x4e6)][_0x3755b3(0x58c)]+_0x3755b3(0x3df));let _0x2c8e5d=JSON['stringify'](_0x1848b7['block']['apirequest'][_0x3755b3(0x213)],null,0x1);_0x2c8e5d[_0x3755b3(0x779)]>0x2&&(_0x2c8e5d=_0x2c8e5d[_0x3755b3(0x6b4)](0x1,_0x2c8e5d[_0x3755b3(0x779)]-0x1)[_0x3755b3(0x5d8)]()),_0x1848b7['block'][_0x3755b3(0x372)]['headerString']=_0x2c8e5d;}_0x1848b7[_0x3755b3(0x5a5)][_0x3755b3(0x372)]&&_0x3755b3(0x2d3)in _0x1848b7['block'][_0x3755b3(0x372)]&&(this[_0x3755b3(0x58e)][_0x3755b3(0x62f)](this[_0x3755b3(0x1dc)]+'\x20('+this['instance'][_0x3755b3(0x58c)]+_0x3755b3(0x359)),_0x1848b7['block']['apirequest']['bodyString']=JSON['stringify'](_0x1848b7[_0x3755b3(0x5a5)]['apirequest'][_0x3755b3(0x2d3)],null,0x1)[_0x3755b3(0x5d8)]()),_0x5b7919[_0x3755b3(0x201)][_0x3755b3(0x566)](_0x1848b7['block']),this['reorderBlocks'](_0x5b7919[_0x3755b3(0x201)],_0x1848b7[_0x3755b3(0x5a5)][_0x3755b3(0x43f)]);}['reorderBlocks'](_0x1afc50,_0x30d18b){const _0x179fa9=a0_0x7625da;let _0x214ed2=_0x1afc50['filter'](_0x27a288=>_0x27a288[_0x179fa9(0x43f)]===_0x30d18b);_0x214ed2[_0x179fa9(0x827)]((_0x34c8a0,_0x507d51)=>_0x34c8a0[_0x179fa9(0x355)]-_0x507d51[_0x179fa9(0x355)]),_0x214ed2[_0x179fa9(0x886)]((_0x489dbf,_0x2547f1)=>_0x489dbf[_0x179fa9(0x355)]=_0x2547f1+0x1);}async[a0_0x7625da(0x5da)](_0x47732d,_0x2cfd04){const _0x405e02=a0_0x7625da;try{this[_0x405e02(0x58e)][_0x405e02(0x62f)](this[_0x405e02(0x1dc)]+'\x20('+this[_0x405e02(0x4e6)][_0x405e02(0x58c)]+_0x405e02(0x735));let _0x1d24c8=_0x47732d?.[_0x405e02(0x676)]['trim']()===_0x405e02(0x4ac)?_0x405e02(0x676):this[_0x405e02(0x4e6)]['wuid'];if(!_0x47732d||!_0x47732d['replyOption']){this[_0x405e02(0x330)](_0x405e02(0x8ad));return;}let _0xb477dc=await this[_0x405e02(0x3f9)][_0x405e02(0x6c0)][_0x405e02(0x715)]({'where':{'name':_0x47732d[_0x405e02(0x2f7)]}},_0x1d24c8);if(_0xb477dc||this[_0x405e02(0x330)](_0x405e02(0x8d9)),_0xb477dc?.[_0x405e02(0x676)]===_0x405e02(0x48f))throw new m('A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.');if(_0x2cfd04!==te&&_0xb477dc?.[_0x405e02(0x676)]===_0x405e02(0x4ac)&&_0xb477dc?.[_0x405e02(0x4c5)]!==this['instance']['wuid'])throw new m(_0x405e02(0x553));let {replyOption:_0x3e20e5}=_0x47732d;_0x3e20e5?.[_0x405e02(0x72f)]?(this[_0x405e02(0x47a)](_0xb477dc,_0x47732d),this['reorderReplyOptions'](_0xb477dc[_0x405e02(0x701)],_0x47732d[_0x405e02(0x59c)][_0x405e02(0x1f7)])):_0x3e20e5['_id']?(await this[_0x405e02(0x3c0)](_0xb477dc,_0x47732d),this[_0x405e02(0x7e1)](_0xb477dc[_0x405e02(0x701)],_0x47732d[_0x405e02(0x59c)][_0x405e02(0x1f7)])):(this['addReplyOption'](_0xb477dc,_0x47732d),this['reorderReplyOptions'](_0xb477dc['replyOptions'],_0x47732d['replyOption'][_0x405e02(0x1f7)]));let _0x32de59=await this[_0x405e02(0x3f9)][_0x405e02(0x6c0)][_0x405e02(0x819)](_0xb477dc[_0x405e02(0x7ce)],_0xb477dc,_0x1d24c8);if(_0x32de59&&_0x32de59[_0x405e02(0x7a2)]&&_0x32de59[_0x405e02(0x7a2)][_0x405e02(0x779)]>0x1&&_0x32de59[_0x405e02(0x676)]!==_0x405e02(0x48f)&&this['synchronizeFlows'](_0x32de59['_id'],_0x1d24c8),!_0x32de59)throw new Error(_0x405e02(0x3d6));return _0x32de59;}catch(_0x51013b){this[_0x405e02(0x330)](_0x405e02(0x49b)+_0x51013b);}}['reorderReplyOptions'](_0x560c4e,_0x1239be){const _0x5b2601=a0_0x7625da;_0x560c4e[_0x5b2601(0x886)](_0x820752=>{const _0x2ed89b=_0x5b2601;_0x820752[_0x2ed89b(0x1f7)]===_0x1239be&&_0x820752['order']===void 0x0&&(_0x820752['order']=0x270f);});let _0x169c3d=_0x560c4e['filter'](_0x27c27c=>_0x27c27c[_0x5b2601(0x1f7)]===_0x1239be);_0x169c3d[_0x5b2601(0x827)]((_0x424bff,_0x3c92bb)=>_0x424bff[_0x5b2601(0x355)]-_0x3c92bb['order']),_0x169c3d[_0x5b2601(0x886)]((_0x31715c,_0x437ef4)=>{const _0x2de67d=_0x5b2601;_0x31715c[_0x2de67d(0x355)]=_0x437ef4+0x1;}),_0x560c4e['forEach'](_0x32327e=>{const _0x6e228a=_0x5b2601;if(_0x32327e[_0x6e228a(0x1f7)]===_0x1239be){let _0x198089=_0x169c3d['find'](_0x24a7b9=>_0x24a7b9['_id']&&_0x32327e[_0x6e228a(0x7ce)]&&_0x24a7b9[_0x6e228a(0x7ce)][_0x6e228a(0x455)]()===_0x32327e['_id']['toString']());_0x198089&&(_0x32327e[_0x6e228a(0x355)]=_0x198089['order']);}});}[a0_0x7625da(0x47a)](_0x4b8242,_0x2c860e){const _0x45acfa=a0_0x7625da;let {replyOption:_0x1c23a4}=_0x2c860e;if(!_0x1c23a4[_0x45acfa(0x7ce)]){this[_0x45acfa(0x330)](_0x45acfa(0x4f4));return;}if(!_0x4b8242[_0x45acfa(0x701)][_0x45acfa(0x48d)](_0x4989be=>_0x4989be[_0x45acfa(0x7ce)][_0x45acfa(0x455)]()===_0x2c860e[_0x45acfa(0x59c)][_0x45acfa(0x7ce)][_0x45acfa(0x455)]())){this[_0x45acfa(0x330)](_0x45acfa(0x31d)+_0x1c23a4['_id']+_0x45acfa(0x61e));return;}_0x4b8242[_0x45acfa(0x701)]=_0x4b8242['replyOptions'][_0x45acfa(0x3ca)](_0x52f44c=>_0x52f44c[_0x45acfa(0x7ce)][_0x45acfa(0x455)]()!==_0x2c860e[_0x45acfa(0x59c)][_0x45acfa(0x7ce)]['toString']());}async['updateReplyOption'](_0x185512,_0x4ce012){const _0x46f184=a0_0x7625da;let _0x4c01af=_0x185512[_0x46f184(0x701)][_0x46f184(0x6d8)](_0x2a8d25=>_0x2a8d25[_0x46f184(0x7ce)]['toString']()===_0x4ce012['replyOption'][_0x46f184(0x7ce)][_0x46f184(0x455)]());if(_0x4c01af===-0x1){this[_0x46f184(0x330)](_0x46f184(0x31d)+_0x4ce012['replyOption']['_id']+_0x46f184(0x55b));return;}for(let _0x3309b4 in _0x4ce012[_0x46f184(0x59c)])_0x4ce012[_0x46f184(0x59c)][_0x46f184(0x42c)](_0x3309b4)&&(_0x185512[_0x46f184(0x701)][_0x4c01af][_0x3309b4]=_0x4ce012[_0x46f184(0x59c)][_0x3309b4]);}[a0_0x7625da(0x276)](_0x583ba1,_0x4ceac1){const _0x2a446e=a0_0x7625da;_0x583ba1[_0x2a446e(0x701)][_0x2a446e(0x566)](_0x4ceac1[_0x2a446e(0x59c)]);}async[a0_0x7625da(0x662)](_0x493ec5,_0x15f06b){const _0x4cc694=a0_0x7625da;let _0x4bdd7f=_0x493ec5?.[_0x4cc694(0x676)][_0x4cc694(0x5d8)]()==='true'?'global':this[_0x4cc694(0x4e6)][_0x4cc694(0x58c)];this[_0x4cc694(0x58e)][_0x4cc694(0x62f)](this[_0x4cc694(0x1dc)]+'\x20('+this[_0x4cc694(0x4e6)][_0x4cc694(0x58c)]+_0x4cc694(0x66c)+_0x4bdd7f+_0x4cc694(0x2ed)+_0x15f06b+',\x20data:\x20'+JSON[_0x4cc694(0x511)](_0x493ec5,null,0x2));try{this[_0x4cc694(0x58e)][_0x4cc694(0x62f)](this[_0x4cc694(0x1dc)]+'\x20('+this[_0x4cc694(0x4e6)][_0x4cc694(0x58c)]+_0x4cc694(0x884));let _0x3f1d17=await this['repository'][_0x4cc694(0x6c0)]['findOne']({'where':{'name':_0x493ec5[_0x4cc694(0x2f7)]}},_0x4bdd7f);if(!_0x3f1d17)throw this[_0x4cc694(0x58e)][_0x4cc694(0x62f)](this[_0x4cc694(0x1dc)]+'\x20('+this[_0x4cc694(0x4e6)][_0x4cc694(0x58c)]+_0x4cc694(0x825)),new Error(_0x4cc694(0x8d9));if(_0x3f1d17?.['global']==='sync')throw this[_0x4cc694(0x58e)][_0x4cc694(0x62f)](this[_0x4cc694(0x1dc)]+'\x20('+this['instance'][_0x4cc694(0x58c)]+'):\x20A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.'),new m(_0x4cc694(0x5c7));if(_0x15f06b!==te&&_0x3f1d17?.[_0x4cc694(0x676)]==='true'&&_0x3f1d17?.[_0x4cc694(0x4c5)]!==this[_0x4cc694(0x4e6)]['wuid'])throw this[_0x4cc694(0x58e)][_0x4cc694(0x62f)](this['instanceName']+'\x20('+this[_0x4cc694(0x4e6)]['wuid']+_0x4cc694(0x2df)),new m(_0x4cc694(0x553));if(_0x493ec5[_0x4cc694(0x400)]&&_0x493ec5[_0x4cc694(0x400)]?.[_0x4cc694(0x72f)]===!0x0){if(this[_0x4cc694(0x58e)][_0x4cc694(0x62f)](this['instanceName']+'\x20('+this[_0x4cc694(0x4e6)][_0x4cc694(0x58c)]+_0x4cc694(0x28a)),_0x493ec5[_0x4cc694(0x400)][_0x4cc694(0x716)]===!0x0)return{'message':_0x4cc694(0x592)};if(_0x3f1d17[_0x4cc694(0x201)][_0x4cc694(0x5e4)](_0x5003df=>_0x5003df['groupId'][_0x4cc694(0x455)]()===_0x493ec5[_0x4cc694(0x400)]['_id']))return this['logger'][_0x4cc694(0x62f)](this[_0x4cc694(0x1dc)]+'\x20('+this[_0x4cc694(0x4e6)][_0x4cc694(0x58c)]+'):\x20tem\x20blocks'),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x3f1d17[_0x4cc694(0x4e9)]=_0x3f1d17[_0x4cc694(0x4e9)]['filter'](_0x284727=>_0x284727[_0x4cc694(0x7ce)]['toString']()!==_0x493ec5['group']['_id']);}else{if(_0x493ec5[_0x4cc694(0x400)]){if(_0x493ec5['group'][_0x4cc694(0x716)]===!0x0)return{'message':_0x4cc694(0x535)};if(_0x493ec5[_0x4cc694(0x400)][_0x4cc694(0x7ce)]){let _0x36e3d7=_0x3f1d17['groups'][_0x4cc694(0x48d)](_0x16a161=>_0x16a161['_id'][_0x4cc694(0x455)]()===_0x493ec5[_0x4cc694(0x400)]['_id']);_0x36e3d7&&(_0x493ec5[_0x4cc694(0x400)]['x']<0x0&&(_0x493ec5[_0x4cc694(0x400)]['x']=0x0),_0x493ec5['group']['y']<0x0&&(_0x493ec5[_0x4cc694(0x400)]['y']=0x0),Object[_0x4cc694(0x1fd)](_0x36e3d7,_0x493ec5[_0x4cc694(0x400)]));}else _0x3f1d17['groups']['push'](_0x493ec5[_0x4cc694(0x400)]);}}let _0x1df91c=await this[_0x4cc694(0x3f9)]['flow'][_0x4cc694(0x819)](_0x3f1d17[_0x4cc694(0x7ce)],_0x3f1d17,_0x4bdd7f);if(_0x1df91c&&_0x1df91c[_0x4cc694(0x7a2)]&&_0x1df91c[_0x4cc694(0x7a2)][_0x4cc694(0x779)]>0x1&&_0x1df91c[_0x4cc694(0x676)]!==_0x4cc694(0x48f)&&this[_0x4cc694(0x88a)](_0x1df91c[_0x4cc694(0x7ce)],_0x4bdd7f),!_0x1df91c)throw new Error(_0x4cc694(0x3d6));return _0x1df91c;}catch(_0x2f1d8d){let _0x5b44ce=_0x4cc694(0x238),_0x3b2acb=_0x2f1d8d instanceof Error?_0x2f1d8d[_0x4cc694(0x1ff)]:typeof _0x2f1d8d==_0x4cc694(0x559)?JSON[_0x4cc694(0x511)](_0x2f1d8d):_0x2f1d8d,_0x14ae6e=_0x5b44ce+':\x20'+_0x3b2acb;throw this[_0x4cc694(0x58e)][_0x4cc694(0x3a8)](this[_0x4cc694(0x1dc)]+'\x20('+this[_0x4cc694(0x4e6)]['wuid']+_0x4cc694(0x510)+_0x14ae6e),new m(_0x14ae6e);}}async[a0_0x7625da(0x80a)](_0x5eff00,_0x35b197){const _0x3fcdca=a0_0x7625da;try{this['logger'][_0x3fcdca(0x62f)](this[_0x3fcdca(0x1dc)]+'\x20('+this['instance'][_0x3fcdca(0x58c)]+'):\x20Editando\x20condição\x20do\x20fluxo...');let _0x2a6da4=_0x5eff00?.['global'][_0x3fcdca(0x5d8)]()===_0x3fcdca(0x4ac)?_0x3fcdca(0x676):this[_0x3fcdca(0x4e6)][_0x3fcdca(0x58c)],_0x5adf4c=await this[_0x3fcdca(0x3f9)]['flow'][_0x3fcdca(0x715)]({'where':{'name':_0x5eff00[_0x3fcdca(0x2f7)]}},_0x2a6da4);if(!_0x5adf4c)throw new Error(_0x3fcdca(0x8d9));if(_0x5adf4c?.['global']===_0x3fcdca(0x48f))throw new m(_0x3fcdca(0x483));if(_0x35b197!==te&&_0x5adf4c?.[_0x3fcdca(0x676)]==='true'&&_0x5adf4c?.[_0x3fcdca(0x4c5)]!==this[_0x3fcdca(0x4e6)][_0x3fcdca(0x58c)])throw new m(_0x3fcdca(0x553));let _0x5ef8ef=!0x1;if(_0x5eff00['condition']?.[_0x3fcdca(0x72f)]===!0x0)_0x5adf4c[_0x3fcdca(0x443)]=_0x5adf4c['conditions']['filter'](_0x110745=>_0x110745&&_0x5eff00['condition']&&_0x110745[_0x3fcdca(0x7ce)]&&_0x5eff00['condition'][_0x3fcdca(0x7ce)]&&_0x110745[_0x3fcdca(0x7ce)][_0x3fcdca(0x455)]()!==_0x5eff00['condition'][_0x3fcdca(0x7ce)]['toString']()),_0x5ef8ef=!0x0;else{let _0x390c16=_0x5adf4c[_0x3fcdca(0x443)][_0x3fcdca(0x48d)](_0xfa7b90=>_0xfa7b90&&_0x5eff00['condition']&&_0xfa7b90['_id']&&_0x5eff00[_0x3fcdca(0x782)][_0x3fcdca(0x7ce)]&&_0xfa7b90['_id']['toString']()===_0x5eff00['condition'][_0x3fcdca(0x7ce)][_0x3fcdca(0x455)]());_0x390c16?(_0x5ef8ef=_0x390c16[_0x3fcdca(0x355)]!==_0x5eff00[_0x3fcdca(0x782)][_0x3fcdca(0x355)],Object[_0x3fcdca(0x1fd)](_0x390c16,_0x5eff00['condition'])):(_0x5adf4c[_0x3fcdca(0x443)][_0x3fcdca(0x566)](_0x5eff00[_0x3fcdca(0x782)]),_0x5ef8ef=!0x0);}if(_0x5ef8ef){_0x5adf4c['conditions'][_0x3fcdca(0x827)]((_0x40f82f,_0x12e6ae)=>_0x40f82f[_0x3fcdca(0x355)]>_0x12e6ae[_0x3fcdca(0x355)]?0x1:_0x12e6ae['order']>_0x40f82f[_0x3fcdca(0x355)]?-0x1:0x0);for(let _0x3aadfa=0x0;_0x3aadfa<_0x5adf4c[_0x3fcdca(0x443)][_0x3fcdca(0x779)];_0x3aadfa++)_0x5adf4c[_0x3fcdca(0x443)][_0x3aadfa][_0x3fcdca(0x355)]=_0x3aadfa+0x1;_0x5adf4c[_0x3fcdca(0x443)][_0x3fcdca(0x779)]>0x0&&(_0x5adf4c['conditions'][0x0][_0x3fcdca(0x37a)]=_0x3fcdca(0x774));}let _0x9a08e=await this[_0x3fcdca(0x3f9)][_0x3fcdca(0x6c0)][_0x3fcdca(0x819)](_0x5adf4c['_id'],_0x5adf4c,_0x2a6da4);if(_0x9a08e&&_0x9a08e[_0x3fcdca(0x7a2)]&&_0x9a08e[_0x3fcdca(0x7a2)][_0x3fcdca(0x779)]>0x1&&_0x9a08e[_0x3fcdca(0x676)]!==_0x3fcdca(0x48f)&&this['synchronizeFlows'](_0x9a08e[_0x3fcdca(0x7ce)],_0x2a6da4),!_0x9a08e)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x9a08e;}catch(_0xbdf6e2){let _0x55418e=_0x3fcdca(0x23e),_0x470c2f=_0xbdf6e2 instanceof Error?_0xbdf6e2[_0x3fcdca(0x1ff)]:typeof _0xbdf6e2==_0x3fcdca(0x559)?JSON[_0x3fcdca(0x511)](_0xbdf6e2):_0xbdf6e2,_0x524339=_0x55418e+':\x20'+_0x470c2f;throw this[_0x3fcdca(0x58e)]['error'](this[_0x3fcdca(0x1dc)]+'\x20('+this[_0x3fcdca(0x4e6)][_0x3fcdca(0x58c)]+_0x3fcdca(0x510)+_0x524339),new m(_0x524339);}}async['editFlowVaredit'](_0x34f044,_0x4f16af){const _0x1ed732=a0_0x7625da;try{this['logger'][_0x1ed732(0x62f)](this[_0x1ed732(0x1dc)]+'\x20('+this['instance'][_0x1ed732(0x58c)]+_0x1ed732(0x341));let _0x218860=_0x34f044?.[_0x1ed732(0x676)][_0x1ed732(0x5d8)]()===_0x1ed732(0x4ac)?_0x1ed732(0x676):this[_0x1ed732(0x4e6)]['wuid'],_0x13d1eb=await this['repository'][_0x1ed732(0x6c0)][_0x1ed732(0x715)]({'where':{'name':_0x34f044[_0x1ed732(0x2f7)]}},_0x218860);if(!_0x13d1eb)throw new Error('Flow\x20não\x20encontrado');if(_0x13d1eb?.['global']===_0x1ed732(0x48f))throw new m(_0x1ed732(0x483));if(_0x4f16af!==te&&_0x13d1eb?.['global']===_0x1ed732(0x4ac)&&_0x13d1eb?.[_0x1ed732(0x4c5)]!==this['instance'][_0x1ed732(0x58c)])throw new m(_0x1ed732(0x553));let _0x2e9bdc=!0x1;if(_0x34f044['varedit']?.[_0x1ed732(0x72f)]===!0x0)_0x13d1eb['varedits']=_0x13d1eb[_0x1ed732(0x42d)][_0x1ed732(0x3ca)](_0x572fbd=>_0x572fbd&&_0x34f044[_0x1ed732(0x87f)]&&_0x572fbd[_0x1ed732(0x7ce)]&&_0x34f044['varedit'][_0x1ed732(0x7ce)]&&_0x572fbd[_0x1ed732(0x7ce)][_0x1ed732(0x455)]()!==_0x34f044['varedit'][_0x1ed732(0x7ce)]['toString']()),_0x2e9bdc=!0x0;else{let _0x5164a9=_0x13d1eb[_0x1ed732(0x42d)][_0x1ed732(0x48d)](_0x4143b9=>_0x4143b9&&_0x34f044[_0x1ed732(0x87f)]&&_0x4143b9[_0x1ed732(0x7ce)]&&_0x34f044[_0x1ed732(0x87f)]['_id']&&_0x4143b9[_0x1ed732(0x7ce)][_0x1ed732(0x455)]()===_0x34f044[_0x1ed732(0x87f)]['_id'][_0x1ed732(0x455)]());_0x5164a9?(_0x2e9bdc=_0x5164a9[_0x1ed732(0x355)]!==_0x34f044[_0x1ed732(0x87f)]['order'],Object[_0x1ed732(0x1fd)](_0x5164a9,_0x34f044['varedit'])):(_0x13d1eb['varedits'][_0x1ed732(0x566)](_0x34f044[_0x1ed732(0x87f)]),_0x2e9bdc=!0x0);}if(_0x2e9bdc){_0x13d1eb[_0x1ed732(0x42d)]['sort']((_0x1905dd,_0x13433b)=>_0x1905dd[_0x1ed732(0x355)]>_0x13433b[_0x1ed732(0x355)]?0x1:_0x13433b[_0x1ed732(0x355)]>_0x1905dd[_0x1ed732(0x355)]?-0x1:0x0);for(let _0x21b2be=0x0;_0x21b2be<_0x13d1eb['varedits'][_0x1ed732(0x779)];_0x21b2be++)_0x13d1eb['varedits'][_0x21b2be][_0x1ed732(0x355)]=_0x21b2be+0x1;}let _0x1c71be=await this[_0x1ed732(0x3f9)][_0x1ed732(0x6c0)][_0x1ed732(0x819)](_0x13d1eb[_0x1ed732(0x7ce)],_0x13d1eb,_0x218860);if(_0x1c71be&&_0x1c71be['shareOwners']&&_0x1c71be['shareOwners'][_0x1ed732(0x779)]>0x1&&_0x1c71be[_0x1ed732(0x676)]!==_0x1ed732(0x48f)&&this[_0x1ed732(0x88a)](_0x1c71be[_0x1ed732(0x7ce)],_0x218860),!_0x1c71be)throw new Error(_0x1ed732(0x3d6));return _0x1c71be;}catch(_0xac5705){let _0x1c6c48=_0x1ed732(0x23e),_0x1946a4=_0xac5705 instanceof Error?_0xac5705[_0x1ed732(0x1ff)]:typeof _0xac5705==_0x1ed732(0x559)?JSON[_0x1ed732(0x511)](_0xac5705):_0xac5705,_0x34e60a=_0x1c6c48+':\x20'+_0x1946a4;throw this[_0x1ed732(0x58e)][_0x1ed732(0x3a8)](this[_0x1ed732(0x1dc)]+'\x20('+this[_0x1ed732(0x4e6)][_0x1ed732(0x58c)]+_0x1ed732(0x510)+_0x34e60a),new m(_0x34e60a);}}async[a0_0x7625da(0x80f)](_0x371dde,_0x2d2e21){const _0x5be713=a0_0x7625da;try{this[_0x5be713(0x58e)][_0x5be713(0x62f)](this[_0x5be713(0x1dc)]+'\x20('+this['instance'][_0x5be713(0x58c)]+_0x5be713(0x20c));let _0x116ff6=_0x371dde?.[_0x5be713(0x676)]['trim']()===_0x5be713(0x4ac)?'global':this[_0x5be713(0x4e6)][_0x5be713(0x58c)],_0xadbd0a=await this[_0x5be713(0x3f9)]['flow'][_0x5be713(0x715)]({'where':{'name':_0x371dde['name']}},_0x116ff6);if(!_0xadbd0a)throw new Error(_0x5be713(0x8d9));if(_0xadbd0a?.[_0x5be713(0x676)]===_0x5be713(0x48f))throw new m(_0x5be713(0x483));if(_0x2d2e21!==te&&_0xadbd0a?.[_0x5be713(0x676)]==='true'&&_0xadbd0a?.[_0x5be713(0x4c5)]!==this[_0x5be713(0x4e6)][_0x5be713(0x58c)])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');if(_0x2d2e21!==te&&_0xadbd0a?.['global']===_0x5be713(0x4ac)&&_0xadbd0a?.[_0x5be713(0x4c5)]!==this[_0x5be713(0x4e6)]['wuid'])throw new m(_0x5be713(0x553));_0x371dde['variable'][_0x5be713(0x2f7)]=_0x371dde[_0x5be713(0x504)][_0x5be713(0x2f7)]['trim'](),_0x371dde[_0x5be713(0x504)][_0x5be713(0x2f7)][_0x5be713(0x321)]('_')&&(_0x371dde[_0x5be713(0x504)][_0x5be713(0x2f7)]=_0x371dde[_0x5be713(0x504)][_0x5be713(0x2f7)]['substring'](0x1)),_0x371dde[_0x5be713(0x504)][_0x5be713(0x2f7)]=_0x371dde[_0x5be713(0x504)]['name'][_0x5be713(0x5d8)]();let _0x34f8f2=_0xadbd0a[_0x5be713(0x576)][_0x5be713(0x48d)](_0x4845a4=>_0x4845a4[_0x5be713(0x2f7)]===_0x371dde[_0x5be713(0x504)]['name']);if(_0x34f8f2?.['leadInfo']===!0x0)throw new Error(_0x5be713(0x686));if(_0x371dde[_0x5be713(0x504)]?.[_0x5be713(0x72f)]===!0x0){if(!_0x34f8f2)return{'message':'Variável\x20não\x20encontrada!'};_0xadbd0a[_0x5be713(0x576)]=_0xadbd0a[_0x5be713(0x576)][_0x5be713(0x3ca)](_0x2f1e24=>_0x2f1e24[_0x5be713(0x2f7)]!==_0x371dde[_0x5be713(0x504)]['name']);}else _0x34f8f2?Object[_0x5be713(0x1fd)](_0x34f8f2,_0x371dde[_0x5be713(0x504)]):_0xadbd0a['variables'][_0x5be713(0x566)](_0x371dde[_0x5be713(0x504)]);let _0x573ddf=await this[_0x5be713(0x3f9)]['flow']['updateOne'](_0xadbd0a[_0x5be713(0x7ce)],_0xadbd0a,_0x116ff6);if(_0x573ddf&&_0x573ddf['shareOwners']&&_0x573ddf['shareOwners'][_0x5be713(0x779)]>0x1&&_0x573ddf[_0x5be713(0x676)]!==_0x5be713(0x48f)&&this[_0x5be713(0x88a)](_0x573ddf['_id'],_0x116ff6),!_0x573ddf)throw new Error(_0x5be713(0x3d6));return _0x573ddf;}catch(_0xd8568e){let _0x42a96f=_0x5be713(0x422),_0x334bad=_0xd8568e instanceof Error?_0xd8568e[_0x5be713(0x1ff)]:typeof _0xd8568e==_0x5be713(0x559)?JSON[_0x5be713(0x511)](_0xd8568e):_0xd8568e,_0x6ce386=_0x42a96f+':\x20'+_0x334bad;throw this[_0x5be713(0x58e)][_0x5be713(0x3a8)](this['instanceName']+'\x20('+this['instance'][_0x5be713(0x58c)]+_0x5be713(0x510)+_0x6ce386),new m(_0x6ce386);}}async['startFlow'](_0x5195c9){const _0x5779f1=a0_0x7625da;let _0x59d08d=null;try{if(!this['AutomateSystem']?.[_0x5779f1(0x555)][_0x5779f1(0x5e0)])throw new m(_0x5779f1(0x35a));this['logger'][_0x5779f1(0x62f)](this['instanceName']+'\x20('+this[_0x5779f1(0x4e6)][_0x5779f1(0x58c)]+_0x5779f1(0x533));let _0x28b1fb=(await this[_0x5779f1(0x83a)]({'numbers':[_0x5195c9[_0x5779f1(0x6cd)]]}))[0x0];if(!_0x28b1fb[_0x5779f1(0x1dd)]&&!(0x0,f[_0x5779f1(0x37b)])(_0x28b1fb[_0x5779f1(0x2b9)])&&!_0x28b1fb['jid'][_0x5779f1(0x80b)](_0x5779f1(0x232)))throw _0x59d08d=JSON['stringify'](_0x28b1fb,null,0x2),new m(_0x28b1fb);let _0x3598cf=await this[_0x5779f1(0x3f9)][_0x5779f1(0x6c0)][_0x5779f1(0x715)]({'where':{'name':_0x5195c9[_0x5779f1(0x2f7)]}},this[_0x5779f1(0x4e6)][_0x5779f1(0x58c)]);if(!_0x3598cf)return this['logger'][_0x5779f1(0x3a8)](this[_0x5779f1(0x1dc)]+'\x20('+this[_0x5779f1(0x4e6)]['wuid']+_0x5779f1(0x825)),{'message':_0x5779f1(0x8d9)};let _0x4e2046=await this[_0x5779f1(0x6e8)](_0x3598cf,_0x28b1fb['jid'],_0x5195c9[_0x5779f1(0x68f)]);if(_0x4e2046){this[_0x5779f1(0x58e)][_0x5779f1(0x62f)](this['instanceName']+'\x20('+this[_0x5779f1(0x4e6)]['wuid']+_0x5779f1(0x395));let _0x4146de=await this['NextBlock'](_0x4e2046);return _0x4146de&&await this[_0x5779f1(0x494)](_0x4e2046,_0x4146de),{'message':'Flow\x20iniciado\x20com\x20'+_0x5195c9[_0x5779f1(0x6cd)]};}}catch(_0x4fbd77){if(this[_0x5779f1(0x58e)][_0x5779f1(0x3a8)](this[_0x5779f1(0x1dc)]+'\x20('+this[_0x5779f1(0x4e6)]['wuid']+_0x5779f1(0x406)+(_0x4fbd77 instanceof Error?_0x4fbd77[_0x5779f1(0x1ff)]:JSON[_0x5779f1(0x511)](_0x4fbd77,null,0x2))),_0x59d08d=_0x4fbd77 instanceof Error?_0x4fbd77[_0x5779f1(0x1ff)]:JSON[_0x5779f1(0x511)](_0x4fbd77,null,0x2),_0x59d08d)throw new m(_0x5779f1(0x1fa)+_0x59d08d);}}async[a0_0x7625da(0x870)](_0x3b7bf2,_0x151229,_0x655741){const _0x31ca7b=a0_0x7625da;let _0x378713=null;try{if(!this['AutomateSystem']?.['flowConfig'][_0x31ca7b(0x5e0)])throw new m(_0x31ca7b(0x35a));if(this[_0x31ca7b(0x58e)]['verbose'](this['instanceName']+'\x20('+this[_0x31ca7b(0x4e6)][_0x31ca7b(0x58c)]+_0x31ca7b(0x533)),_0x151229){let _0x16ea9e=(await this['whatsappNumber']({'numbers':[_0x151229]}))[0x0];if(!_0x16ea9e[_0x31ca7b(0x1dd)]&&!(0x0,f[_0x31ca7b(0x37b)])(_0x16ea9e[_0x31ca7b(0x2b9)])&&!_0x16ea9e[_0x31ca7b(0x2b9)][_0x31ca7b(0x80b)](_0x31ca7b(0x232)))throw _0x378713=JSON['stringify'](_0x16ea9e,null,0x2),new m(_0x16ea9e);_0x151229=_0x16ea9e[_0x31ca7b(0x2b9)];}else _0x151229||(_0x151229=(0x0,Me['v4'])());let _0x3b878f=await this[_0x31ca7b(0x3f9)][_0x31ca7b(0x6c0)][_0x31ca7b(0x715)]({'where':{'startID':_0x3b7bf2}},this[_0x31ca7b(0x4e6)][_0x31ca7b(0x58c)]);if(!_0x3b878f)throw this[_0x31ca7b(0x58e)][_0x31ca7b(0x3a8)](this[_0x31ca7b(0x1dc)]+'\x20('+this['instance'][_0x31ca7b(0x58c)]+'):\x20Flow\x20não\x20encontrado'),new m(_0x31ca7b(0x8d9));let _0xad78b4=await this['createConversationforStartFlow'](_0x3b878f,_0x151229,null);if(_0xad78b4){this[_0x31ca7b(0x58e)][_0x31ca7b(0x62f)](this[_0x31ca7b(0x1dc)]+'\x20('+this['instance']['wuid']+_0x31ca7b(0x40a));let _0x35ab98;if(_0x655741){let _0x100c79=_0xad78b4[_0x31ca7b(0x878)][_0x31ca7b(0x8f0)],_0x430383=this[_0x31ca7b(0x431)](_0x655741);Object[_0x31ca7b(0x1fd)](_0x100c79,_0x430383),_0xad78b4['chatLog'][_0x31ca7b(0x8f0)]=_0x100c79,_0x35ab98={'error':!0x1,'apiResponse':_0x655741};}let _0x7a89cd=await this[_0x31ca7b(0x50e)](_0xad78b4);return _0x7a89cd&&await this[_0x31ca7b(0x494)](_0xad78b4,_0x7a89cd),{'message':'Flow\x20iniciado'};}}catch(_0x4748d5){if(this[_0x31ca7b(0x58e)][_0x31ca7b(0x3a8)](this[_0x31ca7b(0x1dc)]+'\x20('+this['instance'][_0x31ca7b(0x58c)]+_0x31ca7b(0x406)+(_0x4748d5 instanceof Error?_0x4748d5[_0x31ca7b(0x1ff)]:JSON['stringify'](_0x4748d5,null,0x2))),_0x378713=_0x4748d5 instanceof Error?_0x4748d5[_0x31ca7b(0x1ff)]:JSON[_0x31ca7b(0x511)](_0x4748d5,null,0x2),_0x378713)throw new m(_0x31ca7b(0x1fa)+_0x378713);}}async[a0_0x7625da(0x7f3)](_0x517437){const _0x1caad6=a0_0x7625da;try{let _0x3cad1b={'remoteJid':_0x517437,'status':'open'},_0x598663={'status':'closed'},_0x399f33=await this[_0x1caad6(0x3f9)]['flowConversation']['updateMany'](_0x3cad1b,_0x598663,this[_0x1caad6(0x4e6)][_0x1caad6(0x58c)]);return this[_0x1caad6(0x58e)][_0x1caad6(0x62f)](this['instanceName']+'\x20('+this[_0x1caad6(0x4e6)][_0x1caad6(0x58c)]+_0x1caad6(0x759)),_0x399f33;}catch(_0x56e9c8){throw this[_0x1caad6(0x58e)][_0x1caad6(0x3a8)](this[_0x1caad6(0x1dc)]+'\x20('+this[_0x1caad6(0x4e6)][_0x1caad6(0x58c)]+_0x1caad6(0x49d)+_0x56e9c8['message']),_0x56e9c8;}}async[a0_0x7625da(0x6e8)](_0x30f7cf,_0x50d7f3,_0x4909d9){const _0x329f92=a0_0x7625da;this['logger'][_0x329f92(0x62f)](this[_0x329f92(0x1dc)]+'\x20('+this[_0x329f92(0x4e6)][_0x329f92(0x58c)]+_0x329f92(0x2d7)),await this[_0x329f92(0x7f3)](_0x50d7f3);try{let _0x25c3e3=require(_0x329f92(0x8cf))[_0x329f92(0x290)],_0x29df17=Date[_0x329f92(0x7cd)](),_0x1b7bc6=_0x329f92(0x6be),_0x55ede3={},_0x54985e={},_0x2c1e07={..._0x30f7cf,'chatLog':null},_0x5c2077=await this['variablesToObject'](_0x2c1e07[_0x329f92(0x576)]),_0x5deb0e=await this[_0x329f92(0x6f9)](_0x50d7f3),_0x2d72a0={..._0x5c2077,..._0x5deb0e,'_remoteJid':_0x50d7f3},_0x428c9d={'lastReceivedMessage':_0x55ede3,'lastSendMessage':_0x54985e,'lastBlockId':_0x1b7bc6,'lastCondition':!0x0,'realVariables':_0x2d72a0};_0x2c1e07[_0x329f92(0x878)]=_0x428c9d,_0x2c1e07[_0x329f92(0x878)]['realVariables']={..._0x2d72a0,..._0x4909d9},delete _0x2c1e07[_0x329f92(0x7ce)],_0x2c1e07[_0x329f92(0x7ce)]=new _0x25c3e3(),_0x2c1e07[_0x329f92(0x61f)]=_0x29df17,_0x2c1e07['status']='open',_0x2c1e07['remoteJid']=_0x50d7f3;let _0x3c8b03=await this[_0x329f92(0x3f9)][_0x329f92(0x6c7)][_0x329f92(0x819)](_0x2c1e07[_0x329f92(0x7ce)],_0x2c1e07,this[_0x329f92(0x4e6)][_0x329f92(0x58c)]);return this['logger'][_0x329f92(0x62f)](this[_0x329f92(0x1dc)]+'\x20('+this['instance']['wuid']+_0x329f92(0x368)),_0x3c8b03?_0x2c1e07:null;}catch(_0x3da4e7){let _0x1169d7=_0x329f92(0x2b5),_0x1230cc=_0x3da4e7 instanceof Error?_0x3da4e7[_0x329f92(0x1ff)]:typeof _0x3da4e7==_0x329f92(0x559)?JSON['stringify'](_0x3da4e7):_0x3da4e7,_0x4ae385=_0x1169d7+':\x20'+_0x1230cc;throw this[_0x329f92(0x58e)][_0x329f92(0x3a8)](this[_0x329f92(0x1dc)]+'\x20('+this[_0x329f92(0x4e6)][_0x329f92(0x58c)]+'):\x20'+_0x4ae385),new m(_0x4ae385);}}async[a0_0x7625da(0x65b)](_0x5ae234){const _0x30e148=a0_0x7625da;try{this[_0x30e148(0x58e)][_0x30e148(0x62f)](this[_0x30e148(0x1dc)]+'\x20('+this[_0x30e148(0x4e6)][_0x30e148(0x58c)]+_0x30e148(0x492)),this[_0x30e148(0x58e)][_0x30e148(0x62f)](this['instanceName']+'\x20('+this[_0x30e148(0x4e6)][_0x30e148(0x58c)]+_0x30e148(0x888)+_0x5ae234);let _0x416592={'where':{'_id':_0x5ae234}};return await this[_0x30e148(0x3f9)][_0x30e148(0x6c7)][_0x30e148(0x715)](_0x416592,this[_0x30e148(0x4e6)][_0x30e148(0x58c)]);}catch(_0x24a20d){let _0x36a145=_0x30e148(0x879),_0x263584=_0x24a20d instanceof Error?_0x24a20d['message']:typeof _0x24a20d=='object'?JSON[_0x30e148(0x511)](_0x24a20d):_0x24a20d,_0x377634=_0x36a145+':\x20'+_0x263584;throw this[_0x30e148(0x58e)][_0x30e148(0x3a8)](this[_0x30e148(0x1dc)]+'\x20('+this[_0x30e148(0x4e6)][_0x30e148(0x58c)]+_0x30e148(0x510)+_0x377634),new m(_0x377634);}}async[a0_0x7625da(0x55f)](_0x165c32){const _0x5376ac=a0_0x7625da;try{return this[_0x5376ac(0x58e)]['verbose'](this[_0x5376ac(0x1dc)]+'\x20('+this[_0x5376ac(0x4e6)][_0x5376ac(0x58c)]+_0x5376ac(0x2dc)),await this[_0x5376ac(0x3f9)][_0x5376ac(0x6c7)][_0x5376ac(0x48d)](_0x165c32,this[_0x5376ac(0x4e6)][_0x5376ac(0x58c)]);}catch(_0x23c782){let _0x339f72=_0x5376ac(0x3a7),_0x116c84=_0x23c782 instanceof Error?_0x23c782[_0x5376ac(0x1ff)]:typeof _0x23c782==_0x5376ac(0x559)?JSON[_0x5376ac(0x511)](_0x23c782):_0x23c782,_0x241b1e=_0x339f72+':\x20'+_0x116c84;throw this[_0x5376ac(0x58e)]['error'](this[_0x5376ac(0x1dc)]+'\x20('+this[_0x5376ac(0x4e6)]['wuid']+'):\x20'+_0x241b1e),new m(_0x241b1e);}}async[a0_0x7625da(0x5fe)](_0x56cf62){const _0x9fc6a=a0_0x7625da;try{return this[_0x9fc6a(0x58e)][_0x9fc6a(0x62f)](this[_0x9fc6a(0x1dc)]+'\x20('+this[_0x9fc6a(0x4e6)][_0x9fc6a(0x58c)]+_0x9fc6a(0x7e4)),this[_0x9fc6a(0x58e)][_0x9fc6a(0x62f)](this[_0x9fc6a(0x1dc)]+'\x20('+this['instance'][_0x9fc6a(0x58c)]+'):\x20Query\x20params:'+_0x56cf62),(await this[_0x9fc6a(0x3f9)][_0x9fc6a(0x6c7)][_0x9fc6a(0x7be)]({'where':{'_id':_0x56cf62[_0x9fc6a(0x7ce)]}},this[_0x9fc6a(0x4e6)][_0x9fc6a(0x58c)]))[_0x9fc6a(0x682)]===0x0?{'message':_0x9fc6a(0x778)}:{'message':_0x9fc6a(0x78a)};}catch(_0x2cdcbf){let _0x446b4f=_0x9fc6a(0x770),_0x2c4ccf=_0x2cdcbf instanceof Error?_0x2cdcbf['message']:typeof _0x2cdcbf=='object'?JSON[_0x9fc6a(0x511)](_0x2cdcbf):_0x2cdcbf,_0xcafbb2=_0x446b4f+':\x20'+_0x2c4ccf;throw this[_0x9fc6a(0x58e)][_0x9fc6a(0x3a8)](this[_0x9fc6a(0x1dc)]+'\x20('+this['instance'][_0x9fc6a(0x58c)]+_0x9fc6a(0x510)+_0xcafbb2),new m(_0xcafbb2);}}async['editConversation'](_0x4b2dc9){const _0x4feb97=a0_0x7625da;try{let {_id:_0x2e9a84,chatLog:_0xfe88bf,status:_0x2a9e66}=_0x4b2dc9;if(!_0x2e9a84)return{'message':_0x4feb97(0x2e4)};let _0x35665b={};if(_0x2a9e66!==void 0x0&&(_0x35665b[_0x4feb97(0x464)]=_0x2a9e66),Object['keys'](_0x35665b)['length']===0x0)return{'message':_0x4feb97(0x612)};let _0x390c98=await this[_0x4feb97(0x3f9)][_0x4feb97(0x6c7)][_0x4feb97(0x819)](_0x2e9a84,_0x35665b,this[_0x4feb97(0x4e6)][_0x4feb97(0x58c)]);return _0x390c98||{'message':_0x4feb97(0x21e)};}catch(_0x36ffad){let _0x4da31f='Erro\x20ao\x20editar\x20a\x20conversa',_0x34a2b6=_0x36ffad instanceof Error?_0x36ffad['message']:typeof _0x36ffad==_0x4feb97(0x559)?JSON['stringify'](_0x36ffad):_0x36ffad,_0x26d4a6=_0x4da31f+':\x20'+_0x34a2b6;throw this[_0x4feb97(0x58e)]['error'](this[_0x4feb97(0x1dc)]+'\x20('+this[_0x4feb97(0x4e6)][_0x4feb97(0x58c)]+_0x4feb97(0x510)+_0x26d4a6),new m(_0x26d4a6);}}async[a0_0x7625da(0x247)](_0x150362){const _0x4886fc=a0_0x7625da;try{_0x150362[_0x4886fc(0x7ce)]=this[_0x4886fc(0x704)](_0x150362[_0x4886fc(0x7ce)]);let _0x1d3134=await this[_0x4886fc(0x3f9)][_0x4886fc(0x5bb)][_0x4886fc(0x715)]({'where':{'_id':_0x150362[_0x4886fc(0x7ce)]}},this[_0x4886fc(0x4e6)][_0x4886fc(0x58c)]);if(!_0x1d3134)throw new m(_0x4886fc(0x2b1));let {_id:_0x11635c,leadInfo:_0x127439}=_0x150362;if(!_0x11635c)throw new Error(_0x4886fc(0x3ff));if(_0x150362[_0x4886fc(0x72f)]===_0x4886fc(0x315))return await this['deleteChat'](_0x150362[_0x4886fc(0x7ce)]),await this[_0x4886fc(0x3f9)][_0x4886fc(0x5bb)][_0x4886fc(0x72f)]({'where':{'_id':_0x150362['_id']}},this[_0x4886fc(0x4e6)][_0x4886fc(0x58c)]),await this[_0x4886fc(0x3f9)]['message'][_0x4886fc(0x72f)]({'where':{'key':{'remoteJid':_0x150362[_0x4886fc(0x7ce)]}}},this[_0x4886fc(0x4e6)][_0x4886fc(0x58c)]),_0x150362=await this['repository'][_0x4886fc(0x5bb)][_0x4886fc(0x819)]({'where':{'_id':_0x150362[_0x4886fc(0x7ce)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance']['wuid']),F(this[_0x4886fc(0x1dc)],'chats',{'chat':_0x150362}),{'message':_0x4886fc(0x648)};if(_0x150362[_0x4886fc(0x72f)]===_0x4886fc(0x622))return await this[_0x4886fc(0x3f9)]['message'][_0x4886fc(0x72f)]({'where':{'key':{'remoteJid':_0x150362[_0x4886fc(0x7ce)]}}},this[_0x4886fc(0x4e6)][_0x4886fc(0x58c)]),_0x150362=await this[_0x4886fc(0x3f9)][_0x4886fc(0x5bb)][_0x4886fc(0x819)]({'where':{'_id':_0x150362[_0x4886fc(0x7ce)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x4886fc(0x4e6)][_0x4886fc(0x58c)]),F(this[_0x4886fc(0x1dc)],_0x4886fc(0x5a1),{'chat':_0x150362}),{'message':_0x4886fc(0x539)};let _0x5bcb10=(_0x4de769,_0x40bbef,_0x3bfb3f)=>{const _0x3f7af1=_0x4886fc;_0x4de769&&_0x3bfb3f[_0x3f7af1(0x886)](_0x5bd547=>{const _0x268a6e=_0x3f7af1;_0x4de769[_0x5bd547]!==void 0x0&&(_0x40bbef[_0x268a6e(0x7d0)+_0x5bd547]=_0x4de769[_0x5bd547]);});},_0x1ac8b1={};if(_0x4886fc(0x308)in _0x150362&&(this[_0x4886fc(0x58e)][_0x4886fc(0x62f)]('Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20'+_0x150362[_0x4886fc(0x7ce)]),_0x150362[_0x4886fc(0x308)]=_0x150362[_0x4886fc(0x308)]===0x0?null:-0x1,await this[_0x4886fc(0x4d8)][_0x4886fc(0x212)]({'mute':_0x150362['muteEndTime']},_0x150362[_0x4886fc(0x7ce)]),_0x1ac8b1['muteEndTime']=Number(_0x150362[_0x4886fc(0x308)])),_0x127439&&(_0x5bcb10(_0x127439,_0x1ac8b1,['nome',_0x4886fc(0x45b),_0x4886fc(0x572),_0x4886fc(0x414),'status',_0x4886fc(0x5b6),_0x4886fc(0x748),_0x4886fc(0x7ed),_0x4886fc(0x6d7),_0x4886fc(0x7fb)]),Array[_0x4886fc(0x87a)](_0x127439[_0x4886fc(0x2fd)])&&(_0x1ac8b1[_0x4886fc(0x806)]=_0x127439[_0x4886fc(0x2fd)][_0x4886fc(0x1ec)](_0x42d0b1=>({'_id':_0x42d0b1[_0x4886fc(0x7ce)],'value':_0x42d0b1['value']}))),_0x150362[_0x4886fc(0x24e)][_0x4886fc(0x7fb)]!==void 0x0)){let _0x2dd453=await this[_0x4886fc(0x3f9)]['label'][_0x4886fc(0x48d)]({'where':{}},this['instance'][_0x4886fc(0x58c)]),_0x86d48c=new Set(_0x150362[_0x4886fc(0x24e)][_0x4886fc(0x7fb)]||[]),_0x275976=new Set(_0x150362[_0x4886fc(0x24e)][_0x4886fc(0x7fb)]),_0x18730c=new Set(_0x2dd453[_0x4886fc(0x1ec)](_0x1af442=>_0x1af442[_0x4886fc(0x7ce)])),_0x20fc05=[..._0x275976][_0x4886fc(0x3ca)](_0x206afb=>!_0x86d48c[_0x4886fc(0x78f)](_0x206afb)&&_0x18730c[_0x4886fc(0x78f)](_0x206afb)),_0x336f2c=[..._0x86d48c][_0x4886fc(0x3ca)](_0x4b5dce=>!_0x275976[_0x4886fc(0x78f)](_0x4b5dce));if(_0x1ac8b1['leadInfo.etiquetas']=[..._0x86d48c],_0x1d3134&&!_0x1d3134[_0x4886fc(0x416)]){for(let _0x4c8a7b of _0x20fc05)await this[_0x4886fc(0x726)](_0x4c8a7b,_0x150362[_0x4886fc(0x7ce)]),_0x86d48c[_0x4886fc(0x7b7)](_0x4c8a7b);for(let _0x3fd623 of _0x336f2c)await this[_0x4886fc(0x858)](_0x3fd623,_0x150362['_id']),_0x86d48c['delete'](_0x3fd623);}}if(_0x150362['unreadcount']!==void 0x0&&(_0x1ac8b1[_0x4886fc(0x4b6)]=Number(_0x150362['unreadcount'])),Object[_0x4886fc(0x4f8)](_0x1ac8b1)[_0x4886fc(0x779)]===0x0)throw new Error(_0x4886fc(0x612));let _0x1691e9=await this['repository'][_0x4886fc(0x5bb)]['updateOne']({'where':{'_id':_0x150362[_0x4886fc(0x7ce)]}},_0x1ac8b1,this[_0x4886fc(0x4e6)]['wuid']);return _0x1691e9&&F(this['instanceName'],_0x4886fc(0x5a1),{'chat':_0x1691e9}),_0x1691e9?(this[_0x4886fc(0x58e)][_0x4886fc(0x62f)](this[_0x4886fc(0x1dc)]+'\x20('+this['instance']['wuid']+_0x4886fc(0x510)+JSON[_0x4886fc(0x511)](_0x1691e9,null,0x2)),_0x1691e9):{'message':_0x4886fc(0x1e0)};}catch(_0xea593b){let _0x2b2850=_0x4886fc(0x1ee),_0x37d8fb=_0xea593b instanceof Error?_0xea593b['message']:typeof _0xea593b==_0x4886fc(0x559)?JSON[_0x4886fc(0x511)](_0xea593b):_0xea593b,_0x5bc787=_0x2b2850+':\x20'+_0x37d8fb;throw this[_0x4886fc(0x58e)][_0x4886fc(0x3a8)](this['instanceName']+'\x20('+this['instance'][_0x4886fc(0x58c)]+_0x4886fc(0x510)+_0x5bc787),new m(_0x5bc787);}}async['AddChatLabel'](_0x52a6ba,_0x26c1d8){const _0x237909=a0_0x7625da;try{await this['client'][_0x237909(0x34f)](_0x26c1d8,_0x52a6ba),this[_0x237909(0x58e)][_0x237909(0x573)](this[_0x237909(0x1dc)]+'\x20('+this[_0x237909(0x4e6)][_0x237909(0x58c)]+_0x237909(0x246)+_0x52a6ba+'\x20adicionado\x20ao\x20chat\x20'+_0x26c1d8+'\x20com\x20sucesso.');}catch(_0x117193){console[_0x237909(0x3a8)](_0x237909(0x274)+_0x52a6ba+'\x20ao\x20chat\x20'+_0x26c1d8+':',_0x117193);}}async['RemoveChatLabel'](_0x35128d,_0x79db65){const _0xc0047d=a0_0x7625da;try{await this['client'][_0xc0047d(0x32d)](_0x79db65,_0x35128d),this['logger']['info'](this[_0xc0047d(0x1dc)]+'\x20('+this[_0xc0047d(0x4e6)][_0xc0047d(0x58c)]+_0xc0047d(0x246)+_0x35128d+_0xc0047d(0x30f)+_0x79db65+_0xc0047d(0x44c));}catch(_0x5d6b22){console[_0xc0047d(0x3a8)]('Erro\x20ao\x20remover\x20label\x20'+_0x35128d+_0xc0047d(0x50d)+_0x79db65+':',_0x5d6b22);}}async['updateAgent'](_0x26c48e){const _0x21dea5=a0_0x7625da;try{let _0x27b529=await this['repository'][_0x21dea5(0x7b3)]['findOrCreate'](this[_0x21dea5(0x4e6)][_0x21dea5(0x58c)]),_0x6c86ec=_0x26c48e[_0x21dea5(0x7ce)]?_0x27b529[_0x21dea5(0x217)][_0x21dea5(0x6d8)](_0x79f41e=>_0x79f41e['_id']===_0x26c48e[_0x21dea5(0x7ce)]):-0x1;if(_0x26c48e['delete']&&_0x6c86ec>-0x1)_0x27b529[_0x21dea5(0x217)][_0x21dea5(0x694)](_0x6c86ec,0x1);else{if(_0x6c86ec>-0x1){let _0x27ee56=_0x27b529[_0x21dea5(0x217)][_0x6c86ec];_0x26c48e[_0x21dea5(0x3b8)]&&(_0x27ee56['fone']=_0x26c48e[_0x21dea5(0x3b8)]),_0x26c48e[_0x21dea5(0x2f7)]&&(_0x27ee56[_0x21dea5(0x2f7)]=_0x26c48e[_0x21dea5(0x2f7)]),_0x26c48e['email']&&(_0x27ee56[_0x21dea5(0x572)]=_0x26c48e[_0x21dea5(0x572)]),_0x26c48e['role']&&(_0x27ee56[_0x21dea5(0x4af)]=_0x26c48e[_0x21dea5(0x4af)]);}else _0x27b529[_0x21dea5(0x217)][_0x21dea5(0x566)]({'_id':_0x26c48e[_0x21dea5(0x7ce)]||new re[(_0x21dea5(0x716))][(_0x21dea5(0x67d))]['ObjectId']()[_0x21dea5(0x455)](),'fone':_0x26c48e['fone'],'name':_0x26c48e[_0x21dea5(0x2f7)],'email':_0x26c48e['email'],'role':_0x26c48e[_0x21dea5(0x4af)]});}let _0x305edc={'agents':_0x27b529[_0x21dea5(0x217)]},_0x234d77=await this[_0x21dea5(0x3f9)][_0x21dea5(0x7b3)][_0x21dea5(0x4b2)](_0x305edc,this[_0x21dea5(0x4e6)]['wuid']);return this[_0x21dea5(0x3e1)]=_0x234d77,this[_0x21dea5(0x58e)][_0x21dea5(0x62f)](this[_0x21dea5(0x1dc)]+'\x20('+this[_0x21dea5(0x4e6)]['wuid']+_0x21dea5(0x5b3)),this[_0x21dea5(0x58e)][_0x21dea5(0x62f)](this[_0x21dea5(0x1dc)]+'\x20('+this['instance']['wuid']+'):\x20'+this['AutomateSystem']),_0x234d77;}catch(_0x193d4b){let _0xead2f5=_0x21dea5(0x369),_0x49d10e=_0x193d4b instanceof Error?_0x193d4b['message']:typeof _0x193d4b=='object'?JSON['stringify'](_0x193d4b):_0x193d4b,_0x511c8a=_0xead2f5+':\x20'+_0x49d10e;throw this['logger'][_0x21dea5(0x3a8)](this[_0x21dea5(0x1dc)]+'\x20('+this[_0x21dea5(0x4e6)][_0x21dea5(0x58c)]+_0x21dea5(0x510)+_0x511c8a),new m(_0x511c8a);}}async[a0_0x7625da(0x6d3)](_0x5d1d3f){const _0x4fcd5c=a0_0x7625da;try{let _0x2cc1de=await this[_0x4fcd5c(0x3f9)][_0x4fcd5c(0x7b3)][_0x4fcd5c(0x626)](this[_0x4fcd5c(0x4e6)][_0x4fcd5c(0x58c)]),_0x286a28=_0x5d1d3f[_0x4fcd5c(0x7ce)]?_0x2cc1de[_0x4fcd5c(0x2fd)][_0x4fcd5c(0x6d8)](_0x2fbb9e=>_0x2fbb9e[_0x4fcd5c(0x7ce)]===_0x5d1d3f[_0x4fcd5c(0x7ce)]):-0x1,_0x21b162=!0x1,_0x4c6da3=_0x2cc1de[_0x4fcd5c(0x2fd)][_0x4fcd5c(0x5e4)](_0x32508e=>_0x32508e[_0x4fcd5c(0x355)]===_0x5d1d3f[_0x4fcd5c(0x355)]);if(_0x5d1d3f[_0x4fcd5c(0x72f)]&&_0x286a28>-0x1)_0x2cc1de['customFields'][_0x4fcd5c(0x694)](_0x286a28,0x1),_0x21b162=!0x0;else{if(_0x286a28>-0x1){if(_0x2cc1de[_0x4fcd5c(0x2fd)][_0x4fcd5c(0x5e4)](_0x498fa1=>_0x498fa1[_0x4fcd5c(0x2f7)]===_0x5d1d3f[_0x4fcd5c(0x2f7)]&&_0x498fa1['_id']!==_0x5d1d3f['_id']))throw new Error(_0x4fcd5c(0x498));let _0x3d4c2b=_0x2cc1de['customFields'][_0x286a28];_0x5d1d3f['order']&&(_0x4c6da3||!Number[_0x4fcd5c(0x3ba)](_0x5d1d3f[_0x4fcd5c(0x355)]))&&(_0x3d4c2b[_0x4fcd5c(0x355)]=_0x5d1d3f['order'],_0x21b162=!0x0),_0x5d1d3f[_0x4fcd5c(0x2f7)]&&(_0x3d4c2b['name']=_0x5d1d3f[_0x4fcd5c(0x2f7)]);}else{if(_0x2cc1de[_0x4fcd5c(0x2fd)][_0x4fcd5c(0x5e4)](_0x2105dd=>_0x2105dd['name']===_0x5d1d3f['name']&&_0x2105dd['_id']!==_0x5d1d3f[_0x4fcd5c(0x7ce)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x2cc1de[_0x4fcd5c(0x2fd)][_0x4fcd5c(0x566)]({'_id':_0x5d1d3f[_0x4fcd5c(0x7ce)]||new re[(_0x4fcd5c(0x716))][(_0x4fcd5c(0x67d))][(_0x4fcd5c(0x290))]()[_0x4fcd5c(0x455)](),'order':_0x5d1d3f['order'],'name':_0x5d1d3f[_0x4fcd5c(0x2f7)]}),_0x21b162=!0x0;}}if(_0x21b162){_0x2cc1de[_0x4fcd5c(0x2fd)][_0x4fcd5c(0x827)]((_0x2e4a35,_0x23fa56)=>_0x2e4a35[_0x4fcd5c(0x355)]>_0x23fa56['order']?0x1:_0x23fa56[_0x4fcd5c(0x355)]>_0x2e4a35[_0x4fcd5c(0x355)]?-0x1:0x0);for(let _0x5b4a22=0x0;_0x5b4a22<_0x2cc1de[_0x4fcd5c(0x2fd)][_0x4fcd5c(0x779)];_0x5b4a22++)_0x2cc1de[_0x4fcd5c(0x2fd)][_0x5b4a22]['order']=_0x5b4a22+0x1;}let _0x15a78e=await this[_0x4fcd5c(0x3f9)][_0x4fcd5c(0x7b3)][_0x4fcd5c(0x4b2)](_0x2cc1de,this[_0x4fcd5c(0x4e6)]['wuid']);return this[_0x4fcd5c(0x3e1)]=_0x15a78e,this['logger'][_0x4fcd5c(0x62f)](this[_0x4fcd5c(0x1dc)]+'\x20('+this[_0x4fcd5c(0x4e6)][_0x4fcd5c(0x58c)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x4fcd5c(0x58e)]['verbose'](this[_0x4fcd5c(0x1dc)]+'\x20('+this[_0x4fcd5c(0x4e6)][_0x4fcd5c(0x58c)]+_0x4fcd5c(0x510)+this[_0x4fcd5c(0x3e1)]),_0x15a78e;}catch(_0x431bcc){let _0x354a7b=_0x4fcd5c(0x874),_0x53ffb5=_0x431bcc instanceof Error?_0x431bcc[_0x4fcd5c(0x1ff)]:typeof _0x431bcc=='object'?JSON[_0x4fcd5c(0x511)](_0x431bcc):_0x431bcc,_0x5c0150=_0x354a7b+':\x20'+_0x53ffb5;throw this[_0x4fcd5c(0x58e)][_0x4fcd5c(0x3a8)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20'+_0x5c0150),new m(_0x5c0150);}}async[a0_0x7625da(0x69d)](_0x512973){const _0x160383=a0_0x7625da;try{let _0x30d05d=await this[_0x160383(0x3f9)][_0x160383(0x7b3)][_0x160383(0x626)](this[_0x160383(0x4e6)][_0x160383(0x58c)]),_0x3707fe=_0x30d05d?.[_0x160383(0x1e4)]?.['findIndex'](_0x428bfa=>_0x428bfa['_id']===_0x512973?.[_0x160383(0x7ce)]);if(_0x512973?.[_0x160383(0x72f)])_0x3707fe>-0x1&&_0x30d05d?.[_0x160383(0x1e4)]?.[_0x160383(0x694)](_0x3707fe,0x1);else{if(_0x3707fe>-0x1){let _0x3cb0be=_0x30d05d[_0x160383(0x1e4)][_0x3707fe];_0x3cb0be[_0x160383(0x355)]=_0x512973?.['order']||_0x3cb0be[_0x160383(0x355)],_0x3cb0be['command']=_0x512973?.[_0x160383(0x2a5)]||_0x3cb0be[_0x160383(0x2a5)],_0x3cb0be['message']=_0x512973?.[_0x160383(0x1ff)]||_0x3cb0be['message'];}else{let _0x5e8b57={'_id':_0x512973?.[_0x160383(0x7ce)]||new re[(_0x160383(0x716))][(_0x160383(0x67d))][(_0x160383(0x290))]()['toString'](),'order':_0x512973?.[_0x160383(0x355)],'command':_0x512973?.[_0x160383(0x2a5)],'message':_0x512973?.[_0x160383(0x1ff)]};_0x30d05d?.[_0x160383(0x1e4)]?.[_0x160383(0x566)](_0x5e8b57);}}_0x30d05d?.[_0x160383(0x1e4)]?.[_0x160383(0x827)]((_0xae5b45,_0x161dbf)=>_0xae5b45['order']-_0x161dbf[_0x160383(0x355)]);let _0x50d78a=await this[_0x160383(0x3f9)][_0x160383(0x7b3)][_0x160383(0x4b2)](_0x30d05d,this['instance'][_0x160383(0x58c)]);return this[_0x160383(0x3e1)]=_0x50d78a,this[_0x160383(0x58e)][_0x160383(0x62f)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x160383(0x8b3)),_0x50d78a;}catch(_0xbf6725){let _0x3caf14=_0x160383(0x4c4),_0x23335e=_0xbf6725 instanceof Error?_0xbf6725[_0x160383(0x1ff)]:typeof _0xbf6725=='object'?JSON[_0x160383(0x511)](_0xbf6725):_0xbf6725,_0x54b4b6=_0x3caf14+':\x20'+_0x23335e;throw this['logger'][_0x160383(0x3a8)](this[_0x160383(0x1dc)]+'\x20('+this[_0x160383(0x4e6)][_0x160383(0x58c)]+_0x160383(0x510)+_0x54b4b6),new m(_0x54b4b6);}}async[a0_0x7625da(0x897)](_0x5757d7){const _0x2ceccd=a0_0x7625da;try{let _0x8143c4=await this[_0x2ceccd(0x3f9)]['automateSystem'][_0x2ceccd(0x626)](this[_0x2ceccd(0x4e6)][_0x2ceccd(0x58c)]);if(!_0x8143c4)throw new Error(_0x2ceccd(0x797));let _0x20fb6c={'_id':_0x8143c4[_0x2ceccd(0x7ce)],'flowConfig':{'enabled':_0x5757d7[_0x2ceccd(0x5e0)]??_0x8143c4['flowConfig'][_0x2ceccd(0x5e0)],'ignoreGroups':_0x5757d7[_0x2ceccd(0x655)]??_0x8143c4['flowConfig'][_0x2ceccd(0x655)],'prefixCommand':_0x5757d7[_0x2ceccd(0x632)]??_0x8143c4['flowConfig'][_0x2ceccd(0x632)],'stopConversation':_0x5757d7[_0x2ceccd(0x57d)]??_0x8143c4[_0x2ceccd(0x555)][_0x2ceccd(0x57d)],'stopMinutes':_0x5757d7[_0x2ceccd(0x6fc)]??_0x8143c4[_0x2ceccd(0x555)][_0x2ceccd(0x6fc)],'stopWhenYouSendMsg':_0x5757d7[_0x2ceccd(0x4d6)]??_0x8143c4['flowConfig'][_0x2ceccd(0x4d6)]}},_0x1b2155=await this[_0x2ceccd(0x3f9)][_0x2ceccd(0x7b3)][_0x2ceccd(0x4b2)](_0x20fb6c,this[_0x2ceccd(0x4e6)]['wuid']);return this[_0x2ceccd(0x3e1)]=_0x1b2155,this[_0x2ceccd(0x58e)][_0x2ceccd(0x62f)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2ceccd(0x5b3)),this[_0x2ceccd(0x58e)][_0x2ceccd(0x62f)](this[_0x2ceccd(0x1dc)]+'\x20('+this['instance'][_0x2ceccd(0x58c)]+_0x2ceccd(0x510)+this['AutomateSystem']),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x1b2155;}catch(_0x1a9aa3){let _0x4ef7c7=_0x2ceccd(0x44d),_0x25bf62=_0x1a9aa3 instanceof Error?_0x1a9aa3[_0x2ceccd(0x1ff)]:typeof _0x1a9aa3==_0x2ceccd(0x559)?JSON[_0x2ceccd(0x511)](_0x1a9aa3):_0x1a9aa3,_0x5307bb=_0x4ef7c7+':\x20'+_0x25bf62;throw this[_0x2ceccd(0x58e)]['error'](this[_0x2ceccd(0x1dc)]+'\x20('+this[_0x2ceccd(0x4e6)]['wuid']+_0x2ceccd(0x510)+_0x5307bb),new m(_0x5307bb);}}async[a0_0x7625da(0x2f9)](){const _0x274199=a0_0x7625da;try{let _0x145dec=await this[_0x274199(0x3f9)][_0x274199(0x7b3)][_0x274199(0x626)](this[_0x274199(0x4e6)][_0x274199(0x58c)]);return this['AutomateSystem']=_0x145dec,this[_0x274199(0x58e)][_0x274199(0x62f)](this[_0x274199(0x1dc)]+'\x20('+this[_0x274199(0x4e6)][_0x274199(0x58c)]+_0x274199(0x722)),this[_0x274199(0x58e)][_0x274199(0x62f)](this[_0x274199(0x3e1)]),_0x145dec;}catch(_0x1b056f){let _0x4c1491=_0x274199(0x43b),_0x20dedb=_0x1b056f instanceof Error?_0x1b056f['message']:typeof _0x1b056f==_0x274199(0x559)?JSON[_0x274199(0x511)](_0x1b056f):_0x1b056f,_0x48455f=_0x4c1491+':\x20'+_0x20dedb;throw this[_0x274199(0x58e)][_0x274199(0x3a8)](this['instanceName']+'\x20('+this['instance'][_0x274199(0x58c)]+_0x274199(0x510)+_0x48455f),new m(_0x48455f);}}async[a0_0x7625da(0x4e5)](){const _0x479013=a0_0x7625da;this['instance']['ScheduleMessage'][_0x479013(0x6cf)]&&clearTimeout(this['instance'][_0x479013(0x750)]['timeout']),this['instance'][_0x479013(0x750)][_0x479013(0x6cf)]=setTimeout(()=>{const _0x5445b0=_0x479013;this[_0x5445b0(0x7e3)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x7625da(0x7e3)](){const _0x27864a=a0_0x7625da;Date[_0x27864a(0x7cd)]()-this[_0x27864a(0x4e6)][_0x27864a(0x750)][_0x27864a(0x4dc)]>=0x1d4c0&&(this[_0x27864a(0x58e)]['verbose'](this['instanceName']+'\x20('+this[_0x27864a(0x4e6)][_0x27864a(0x58c)]+_0x27864a(0x5ef)),this[_0x27864a(0x4e6)][_0x27864a(0x750)]['processing_id']=null,this[_0x27864a(0x4e6)][_0x27864a(0x750)][_0x27864a(0x4dc)]=0x0,this[_0x27864a(0x4e6)][_0x27864a(0x750)][_0x27864a(0x311)]=0x0,await this['scheduleNextCheck']());}async[a0_0x7625da(0x4d9)](){const _0x2ffdcc=a0_0x7625da;let _0x5ba46c=()=>{const _0x12791d=a0_0x5efa;this[_0x12791d(0x58e)][_0x12791d(0x62f)](this[_0x12791d(0x1dc)]+'\x20('+this[_0x12791d(0x4e6)][_0x12791d(0x58c)]+_0x12791d(0x360)+this[_0x12791d(0x4e6)][_0x12791d(0x750)][_0x12791d(0x3f1)]+_0x12791d(0x7f8));},_0x340fc2=async()=>{const _0x3b3677=a0_0x5efa;this[_0x3b3677(0x58e)][_0x3b3677(0x62f)](this[_0x3b3677(0x1dc)]+'\x20('+this[_0x3b3677(0x4e6)]['wuid']+_0x3b3677(0x66d));let _0x3813d1=Date[_0x3b3677(0x7cd)]()-0xc*0x3c*0x3c*0x3e8,_0x288f1c={'where':{'status':{'$in':[_0x3b3677(0x625),_0x3b3677(0x527)]},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x3813d1}},{'when':0x0}]}};return await this[_0x3b3677(0x3f9)]['scheduleMessage'][_0x3b3677(0x48d)](_0x288f1c,this['instance'][_0x3b3677(0x58c)]);},_0x56b8a5=async _0x34d7d6=>{const _0xdd40e0=a0_0x5efa;for(let _0x22a197 of _0x34d7d6){let _0x29c5d3={'_id':_0x22a197['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0xdd40e0(0x7cd)]()-0x1770}}]},_0x45cdec={'startSend':Date['now']()};if(!await this[_0xdd40e0(0x3f9)][_0xdd40e0(0x7ea)]['updateOne'](_0x29c5d3,_0x45cdec,this[_0xdd40e0(0x4e6)][_0xdd40e0(0x58c)]))return;if(!this['instance'][_0xdd40e0(0x750)][_0xdd40e0(0x1ed)]){this[_0xdd40e0(0x58e)][_0xdd40e0(0x62f)](this['instanceName']+'\x20('+this[_0xdd40e0(0x4e6)][_0xdd40e0(0x58c)]+_0xdd40e0(0x668));break;}if(_0x22a197[_0xdd40e0(0x3a6)]===_0xdd40e0(0x6c0)&&!this[_0xdd40e0(0x3e1)]?.[_0xdd40e0(0x555)][_0xdd40e0(0x5e0)]){this['logger']['error'](this['instanceName']+'\x20('+this[_0xdd40e0(0x4e6)][_0xdd40e0(0x58c)]+_0xdd40e0(0x8f1));continue;}(!_0x22a197[_0xdd40e0(0x214)]||_0x22a197[_0xdd40e0(0x214)][_0xdd40e0(0x779)]===0x0)&&(_0x22a197=await this['repository'][_0xdd40e0(0x7ea)]['updateOneById'](_0x22a197[_0xdd40e0(0x7ce)],{'status':_0xdd40e0(0x527),'remoteJidsRemaining':[..._0x22a197[_0xdd40e0(0x202)]]},this[_0xdd40e0(0x4e6)][_0xdd40e0(0x58c)]));for(let _0x3fc8bf of _0x22a197[_0xdd40e0(0x214)]){if(await this[_0xdd40e0(0x4e5)](),this[_0xdd40e0(0x4e6)][_0xdd40e0(0x750)]['lastSend']=Date[_0xdd40e0(0x7cd)](),this[_0xdd40e0(0x4e6)][_0xdd40e0(0x750)]['ultimaTentativaRemoteJid']===_0x3fc8bf){this[_0xdd40e0(0x58e)][_0xdd40e0(0x3a8)](this[_0xdd40e0(0x1dc)]+'\x20('+this[_0xdd40e0(0x4e6)][_0xdd40e0(0x58c)]+_0xdd40e0(0x46f)+_0x3fc8bf+_0xdd40e0(0x7ca));let _0x323f4d={'$push':{'messagesSend':{'remoteJid':_0x3fc8bf,'error':!0x0,'id':null,'error_log':_0xdd40e0(0x532),'log_timestamp':Date['now']()}},'$pull':{'remoteJidsRemaining':_0x3fc8bf}};await this[_0xdd40e0(0x3f9)][_0xdd40e0(0x7ea)][_0xdd40e0(0x3ea)](_0x22a197[_0xdd40e0(0x7ce)],_0x323f4d,this[_0xdd40e0(0x4e6)][_0xdd40e0(0x58c)]);continue;}if(this[_0xdd40e0(0x4e6)][_0xdd40e0(0x750)][_0xdd40e0(0x889)]=_0x3fc8bf,_0x22a197[_0xdd40e0(0x708)][_0xdd40e0(0x5e4)](_0x28b6ca=>_0x28b6ca[_0xdd40e0(0x6cd)]===_0x3fc8bf)){this[_0xdd40e0(0x58e)][_0xdd40e0(0x62f)](this[_0xdd40e0(0x1dc)]+'\x20('+this['instance'][_0xdd40e0(0x58c)]+_0xdd40e0(0x35d)+_0x3fc8bf+_0xdd40e0(0x440));continue;}if(!this[_0xdd40e0(0x4e6)][_0xdd40e0(0x750)]['isConnected']){this['logger'][_0xdd40e0(0x62f)](this[_0xdd40e0(0x1dc)]+'\x20('+this['instance']['wuid']+_0xdd40e0(0x605));break;}if(!this[_0xdd40e0(0x4e6)][_0xdd40e0(0x750)][_0xdd40e0(0x3f1)]){this[_0xdd40e0(0x58e)][_0xdd40e0(0x62f)](this[_0xdd40e0(0x1dc)]+'\x20('+this['instance'][_0xdd40e0(0x58c)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x22a197[_0xdd40e0(0x7ce)]+_0xdd40e0(0x49a));break;}if(_0x22a197[_0xdd40e0(0x3a6)]===_0xdd40e0(0x6c0)&&!this[_0xdd40e0(0x3e1)]?.['flowConfig'][_0xdd40e0(0x5e0)]){this['logger'][_0xdd40e0(0x3a8)](this['instanceName']+'\x20('+this[_0xdd40e0(0x4e6)][_0xdd40e0(0x58c)]+_0xdd40e0(0x8f1));break;}let _0x569deb={'remoteJid':_0x3fc8bf,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0xdd40e0(0x7cd)]()},_0x2ca3e8=null;try{let _0x14ba81=await this[_0xdd40e0(0x1de)](_0x3fc8bf,_0x22a197);_0x569deb['error']=_0x14ba81[_0xdd40e0(0x3a8)],_0x569deb['id']=_0x14ba81[_0xdd40e0(0x3a8)]?null:_0x14ba81['id'],_0x569deb[_0xdd40e0(0x7a4)]=_0x14ba81['error']?_0x14ba81[_0xdd40e0(0x645)]?_0x14ba81['detail']['toString']():'':null;let _0x15cb31={'$push':{'messagesSend':_0x569deb},'$pull':{'remoteJidsRemaining':_0x3fc8bf}},_0x36d5fc=_0x22a197[_0xdd40e0(0x7ce)];if(_0x2ca3e8=await this[_0xdd40e0(0x3f9)][_0xdd40e0(0x7ea)][_0xdd40e0(0x3ea)](_0x36d5fc,_0x15cb31,this[_0xdd40e0(0x4e6)][_0xdd40e0(0x58c)]),_0x14ba81['error'])continue;let _0x4778f1=this[_0xdd40e0(0x81b)](_0x22a197[_0xdd40e0(0x8a2)],_0x22a197[_0xdd40e0(0x3a2)]);await this[_0xdd40e0(0x2b2)](_0x4778f1);}catch(_0x53528a){this[_0xdd40e0(0x58e)]['error'](this[_0xdd40e0(0x1dc)]+'\x20('+this[_0xdd40e0(0x4e6)][_0xdd40e0(0x58c)]+_0xdd40e0(0x6dc)+_0x3fc8bf+':\x20'+(_0x53528a instanceof Error?_0x53528a[_0xdd40e0(0x1ff)]:JSON['stringify'](_0x53528a,null,0x2))),_0x569deb[_0xdd40e0(0x3a8)]=!0x0,_0x569deb[_0xdd40e0(0x7a4)]=_0x53528a[_0xdd40e0(0x1ff)];let _0x3ccab4={'$push':{'messagesSend':_0x569deb},'$pull':{'remoteJidsRemaining':_0x3fc8bf}},_0x2df03d=_0x22a197[_0xdd40e0(0x7ce)];_0x2ca3e8=await this[_0xdd40e0(0x3f9)][_0xdd40e0(0x7ea)][_0xdd40e0(0x3ea)](_0x2df03d,_0x3ccab4,this[_0xdd40e0(0x4e6)]['wuid']);}finally{if(_0x2ca3e8&&_0x2ca3e8[_0xdd40e0(0x464)]===_0xdd40e0(0x557)){this[_0xdd40e0(0x58e)][_0xdd40e0(0x62f)](this[_0xdd40e0(0x1dc)]+'\x20('+this[_0xdd40e0(0x4e6)][_0xdd40e0(0x58c)]+_0xdd40e0(0x268)+_0x22a197[_0xdd40e0(0x7ce)]+_0xdd40e0(0x4dd));break;}}}let _0x4504c7=await this[_0xdd40e0(0x3f9)][_0xdd40e0(0x7ea)][_0xdd40e0(0x34a)](_0x22a197[_0xdd40e0(0x7ce)],this[_0xdd40e0(0x4e6)]['wuid']);if(_0x4504c7[_0xdd40e0(0x214)]['length']===0x0&&_0x4504c7[_0xdd40e0(0x464)]!==_0xdd40e0(0x557)){this[_0xdd40e0(0x4e6)][_0xdd40e0(0x750)][_0xdd40e0(0x889)]=null;let _0x276dd4={'$set':{'status':_0xdd40e0(0x79a)}},_0x4237d4=_0x4504c7['_id'];await this[_0xdd40e0(0x3f9)]['scheduleMessage']['updateOneById'](_0x4237d4,_0x276dd4,this[_0xdd40e0(0x4e6)][_0xdd40e0(0x58c)]);}await new Promise(_0x1bb11b=>setTimeout(_0x1bb11b,0x1388));}},_0x3e417c=async()=>{const _0xdc74a8=a0_0x5efa;let _0xd9110b={'where':{'status':_0xdc74a8(0x625),'when':{'$gt':Date['now']()}}},_0x1bcc99=await this[_0xdc74a8(0x3f9)]['scheduleMessage'][_0xdc74a8(0x715)](_0xd9110b,this[_0xdc74a8(0x4e6)]['wuid']);_0x1bcc99&&_0x1bcc99[_0xdc74a8(0x76a)]-Date[_0xdc74a8(0x7cd)]()<=0x5265c00?this[_0xdc74a8(0x4e6)][_0xdc74a8(0x750)]['delayMessage']=_0x1bcc99[_0xdc74a8(0x76a)]-Date[_0xdc74a8(0x7cd)]():this[_0xdc74a8(0x4e6)][_0xdc74a8(0x750)]['delayMessage']=(0x3c+Math[_0xdc74a8(0x4e3)](Math[_0xdc74a8(0x304)]()*0x3c))*0x3c*0x3e8,this[_0xdc74a8(0x4e6)]['ScheduleMessage'][_0xdc74a8(0x311)]=Math[_0xdc74a8(0x633)](this[_0xdc74a8(0x4e6)]['ScheduleMessage']['delayMessage'],0x7d0);let _0x38a76c=Math[_0xdc74a8(0x6a1)](this['instance'][_0xdc74a8(0x750)]['delayMessage']/0xea60);if(_0x1bcc99){let _0x97fa05=new Date(_0x1bcc99['when'])['toLocaleString']();this[_0xdc74a8(0x58e)][_0xdc74a8(0x62f)](this[_0xdc74a8(0x1dc)]+'\x20('+this[_0xdc74a8(0x4e6)][_0xdc74a8(0x58c)]+_0xdc74a8(0x771)+_0x97fa05+_0xdc74a8(0x865)+_0x38a76c+_0xdc74a8(0x898));}else this[_0xdc74a8(0x58e)][_0xdc74a8(0x62f)](this[_0xdc74a8(0x1dc)]+'\x20('+this[_0xdc74a8(0x4e6)]['wuid']+_0xdc74a8(0x4d5)+_0x38a76c+_0xdc74a8(0x898));setTimeout(()=>this[_0xdc74a8(0x4d9)](),this[_0xdc74a8(0x4e6)][_0xdc74a8(0x750)][_0xdc74a8(0x311)]);};if(this[_0x2ffdcc(0x4e6)][_0x2ffdcc(0x750)][_0x2ffdcc(0x3f1)]){await this[_0x2ffdcc(0x4e5)](),_0x5ba46c();return;}if(!this[_0x2ffdcc(0x4e6)][_0x2ffdcc(0x750)][_0x2ffdcc(0x1ed)]){this[_0x2ffdcc(0x58e)][_0x2ffdcc(0x62f)](this[_0x2ffdcc(0x1dc)]+'\x20('+this[_0x2ffdcc(0x4e6)][_0x2ffdcc(0x58c)]+_0x2ffdcc(0x380)),this['instance'][_0x2ffdcc(0x750)][_0x2ffdcc(0x3f1)]=null,this[_0x2ffdcc(0x4e6)][_0x2ffdcc(0x750)][_0x2ffdcc(0x4dc)]=0x0,this[_0x2ffdcc(0x4e6)][_0x2ffdcc(0x750)][_0x2ffdcc(0x311)]=0x0,this[_0x2ffdcc(0x4e6)][_0x2ffdcc(0x750)][_0x2ffdcc(0x889)]=null;return;}try{let _0x3ecdb0=await _0x340fc2();_0x3ecdb0[_0x2ffdcc(0x779)]===0x0?this['logger'][_0x2ffdcc(0x62f)](this['instanceName']+'\x20('+this['instance'][_0x2ffdcc(0x58c)]+_0x2ffdcc(0x570)):(this[_0x2ffdcc(0x4e6)]['ScheduleMessage'][_0x2ffdcc(0x3f1)]=_0x3ecdb0[0x0][_0x2ffdcc(0x7ce)],await _0x56b8a5(_0x3ecdb0)),await _0x3e417c(),this['instance'][_0x2ffdcc(0x750)]['processing_id']=null,this[_0x2ffdcc(0x4e6)][_0x2ffdcc(0x750)][_0x2ffdcc(0x889)]=null;}catch(_0x1b41b4){this['logger'][_0x2ffdcc(0x3a8)](_0x2ffdcc(0x2a4)+(_0x1b41b4 instanceof Error?_0x1b41b4[_0x2ffdcc(0x1ff)]:JSON[_0x2ffdcc(0x511)](_0x1b41b4,null,0x2)));}}[a0_0x7625da(0x81b)](_0x2959ae,_0xf9a8fb){const _0x3f17b1=a0_0x7625da;return _0x2959ae=Math[_0x3f17b1(0x633)](0.5,_0x2959ae),_0xf9a8fb=Math[_0x3f17b1(0x50a)](Math['max'](0x3,_0xf9a8fb),0x78),Math[_0x3f17b1(0x4e3)](Math[_0x3f17b1(0x304)]()*(_0xf9a8fb-_0x2959ae+0x1)+_0x2959ae)*0x3e8;}[a0_0x7625da(0x2b2)](_0x5448b6){return new Promise(_0x1217c6=>setTimeout(_0x1217c6,_0x5448b6));}async['getVariablesChat'](_0x51a07d){const _0x537cfb=a0_0x7625da;if(!this['AutomateSystem']&&(await this[_0x537cfb(0x2f9)](),!this[_0x537cfb(0x3e1)]))return null;_0x51a07d=this[_0x537cfb(0x704)](_0x51a07d);let _0x5e9099=await this[_0x537cfb(0x3f9)][_0x537cfb(0x5bb)][_0x537cfb(0x715)]({'where':{'_id':_0x51a07d}},this[_0x537cfb(0x4e6)][_0x537cfb(0x58c)]),_0x1957bb={};if(_0x5e9099&&_0x5e9099['leadInfo']){let _0x11d384=_0x5e9099[_0x537cfb(0x24e)];typeof _0x11d384[_0x537cfb(0x756)]==_0x537cfb(0x5f1)&&(_0x1957bb[_0x537cfb(0x756)]=_0x11d384['nome']),typeof _0x11d384[_0x537cfb(0x45b)]==_0x537cfb(0x5f1)&&(_0x1957bb[_0x537cfb(0x45b)]=_0x11d384[_0x537cfb(0x45b)]),typeof _0x11d384['email']==_0x537cfb(0x5f1)&&(_0x1957bb['email']=_0x11d384[_0x537cfb(0x572)]),typeof _0x11d384[_0x537cfb(0x414)]==_0x537cfb(0x5f1)&&(_0x1957bb['cpf']=_0x11d384[_0x537cfb(0x414)]),typeof _0x11d384[_0x537cfb(0x464)]==_0x537cfb(0x5f1)&&(_0x1957bb[_0x537cfb(0x464)]=_0x11d384['status']),typeof _0x11d384[_0x537cfb(0x5b6)]==_0x537cfb(0x5f1)&&(_0x1957bb[_0x537cfb(0x5b6)]=_0x11d384['notas']),typeof _0x11d384[_0x537cfb(0x6d7)]==_0x537cfb(0x5f1)&&(_0x1957bb[_0x537cfb(0x6d7)]=_0x11d384[_0x537cfb(0x6d7)]),Array[_0x537cfb(0x87a)](_0x11d384['tags'])&&(_0x1957bb[_0x537cfb(0x748)]=_0x11d384[_0x537cfb(0x748)]['join'](',\x20')),Array[_0x537cfb(0x87a)](_0x11d384[_0x537cfb(0x7fb)])&&(_0x1957bb['etiquetas']=_0x11d384[_0x537cfb(0x7fb)][_0x537cfb(0x867)](',\x20'));}return _0x5e9099&&_0x5e9099['leadInfo']&&_0x5e9099['leadInfo'][_0x537cfb(0x2fd)]&&_0x5e9099['leadInfo'][_0x537cfb(0x2fd)]['forEach'](_0x1eceb6=>{const _0x41ae03=_0x537cfb;let _0xeb999f=this['AutomateSystem']?.[_0x41ae03(0x2fd)][_0x41ae03(0x48d)](_0x53f8f3=>_0x53f8f3[_0x41ae03(0x7ce)]===_0x1eceb6[_0x41ae03(0x7ce)]);_0xeb999f&&(_0x1957bb[_0xeb999f['name']]=_0x1eceb6[_0x41ae03(0x336)]);}),_0x1957bb;}async[a0_0x7625da(0x31a)](_0x361a7f,_0x3a53af){const _0x16fe48=a0_0x7625da;try{let _0x1eb905=await this['getVariablesChat'](_0x3a53af);return this['replaceVariables'](_0x361a7f,_0x1eb905);}catch(_0x5ec500){return this[_0x16fe48(0x58e)]['error'](_0x16fe48(0x7eb)+_0x3a53af+':\x20'+_0x5ec500),_0x361a7f;}}async[a0_0x7625da(0x77e)](_0x421940){const _0x41ca10=a0_0x7625da;try{if(this[_0x41ca10(0x58e)]['verbose'](this[_0x41ca10(0x1dc)]+'\x20('+this[_0x41ca10(0x4e6)]['wuid']+'):\x20Edit\x20schedule\x20message...'),_0x421940[_0x41ca10(0x72f)]&&_0x421940[_0x41ca10(0x7ce)]){if(this[_0x41ca10(0x4e6)][_0x41ca10(0x750)][_0x41ca10(0x3f1)]===_0x421940[_0x41ca10(0x7ce)][_0x41ca10(0x455)]())throw new Error('Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar');let _0x3bc972=await this['repository'][_0x41ca10(0x7ea)][_0x41ca10(0x7be)](_0x421940[_0x41ca10(0x7ce)],this['instance']['wuid']);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x3bc972;}let _0x1243bb;if(_0x421940[_0x41ca10(0x7ce)]&&(_0x1243bb=await this[_0x41ca10(0x3f9)][_0x41ca10(0x7ea)][_0x41ca10(0x34a)](_0x421940[_0x41ca10(0x7ce)],this[_0x41ca10(0x4e6)][_0x41ca10(0x58c)])),_0x1243bb){let _0xf6240e;if(this[_0x41ca10(0x4e6)][_0x41ca10(0x750)][_0x41ca10(0x3f1)]===_0x1243bb['_id']['toString']())_0xf6240e={'$set':{'status':_0x421940['status']}};else{let {_id:_0x188875,..._0x459be4}=_0x421940;_0xf6240e={'$set':_0x459be4};}let _0x1663f8=await this['repository']['scheduleMessage'][_0x41ca10(0x3ea)](_0x421940[_0x41ca10(0x7ce)],_0xf6240e,this['instance']['wuid']);return setTimeout(()=>this[_0x41ca10(0x4d9)](),0x7d0),_0x1663f8;}else{_0x421940[_0x41ca10(0x4c5)]=this[_0x41ca10(0x4e6)]['wuid'];let _0x40d089=await this[_0x41ca10(0x3f9)][_0x41ca10(0x7ea)]['createAndSave'](_0x421940,this[_0x41ca10(0x4e6)][_0x41ca10(0x58c)]);return setTimeout(()=>this[_0x41ca10(0x4d9)](),0x7d0),_0x40d089;}}catch(_0x3d75b8){let _0x205320=_0x41ca10(0x80e),_0x4c9af7=_0x3d75b8 instanceof Error?_0x3d75b8['message']:typeof _0x3d75b8==_0x41ca10(0x559)?JSON[_0x41ca10(0x511)](_0x3d75b8):_0x3d75b8,_0x3a4b55=_0x205320+':\x20'+_0x4c9af7;throw this['logger'][_0x41ca10(0x3a8)](this['instanceName']+'\x20('+this[_0x41ca10(0x4e6)][_0x41ca10(0x58c)]+_0x41ca10(0x510)+_0x3a4b55),new m(_0x3a4b55);}}async['getScheduleMessage'](){const _0x57a8a3=a0_0x7625da;try{return await this['repository']['scheduleMessage'][_0x57a8a3(0x48d)]({'where':{}},this[_0x57a8a3(0x4e6)]['wuid']);}catch(_0xbc38d5){let _0x5ba836='Erro\x20ao\x20buscar\x20Schedule\x20Messages',_0x4697f3=_0xbc38d5 instanceof Error?_0xbc38d5[_0x57a8a3(0x1ff)]:typeof _0xbc38d5=='object'?JSON[_0x57a8a3(0x511)](_0xbc38d5):_0xbc38d5,_0x4cc86d=_0x5ba836+':\x20'+_0x4697f3;throw this[_0x57a8a3(0x58e)][_0x57a8a3(0x3a8)](this['instanceName']+'\x20('+this[_0x57a8a3(0x4e6)][_0x57a8a3(0x58c)]+_0x57a8a3(0x510)+_0x4cc86d),new m(_0x4cc86d);}}async[a0_0x7625da(0x2c9)](){const _0x344b6a=a0_0x7625da;try{let _0x24031f={'status':_0x344b6a(0x79a)},_0xc1d2c2=await this['repository']['scheduleMessage']['deleteMany'](_0x24031f,this[_0x344b6a(0x4e6)][_0x344b6a(0x58c)]);if(!_0xc1d2c2[_0x344b6a(0x3a8)])this['logger'][_0x344b6a(0x62f)](this[_0x344b6a(0x1dc)]+'\x20('+this['instance'][_0x344b6a(0x58c)]+_0x344b6a(0x7e8));else throw new Error(_0xc1d2c2['error']['message']||_0x344b6a(0x7f5));return this[_0x344b6a(0x384)]();}catch(_0x591fd8){let _0x383019='Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done',_0x4bfbed=_0x591fd8 instanceof Error?_0x591fd8[_0x344b6a(0x1ff)]:typeof _0x591fd8==_0x344b6a(0x559)?JSON['stringify'](_0x591fd8):_0x591fd8,_0x137cae=_0x383019+':\x20'+_0x4bfbed;throw this['logger'][_0x344b6a(0x3a8)](this[_0x344b6a(0x1dc)]+'\x20('+this[_0x344b6a(0x4e6)][_0x344b6a(0x58c)]+_0x344b6a(0x510)+_0x137cae),new m(_0x137cae);}}async['SendScheduleMessage'](_0x4f4b70,_0x58457a){const _0x4a1662=a0_0x7625da;try{if(_0x58457a[_0x4a1662(0x3a6)]===_0x4a1662(0x6c0)&&!this[_0x4a1662(0x3e1)]?.['flowConfig'][_0x4a1662(0x5e0)])return this['logger'][_0x4a1662(0x3a8)](this['instanceName']+'\x20('+this[_0x4a1662(0x4e6)][_0x4a1662(0x58c)]+'):\x20Fluxos\x20não\x20estão\x20ativados'),{'error':!0x0,'detail':'Fluxos\x20não\x20estão\x20ativados'};switch(_0x58457a[_0x4a1662(0x3a6)]){case _0x4a1662(0x3e8):return await this['scheduleSendText'](_0x58457a,_0x4f4b70);case _0x4a1662(0x7ec):return await this[_0x4a1662(0x392)](_0x58457a,_0x4f4b70);case _0x4a1662(0x671):return await this[_0x4a1662(0x835)](_0x58457a,_0x4f4b70);case _0x4a1662(0x6c0):let _0x54195b=new Ve();return _0x54195b[_0x4a1662(0x2f7)]=_0x58457a[_0x4a1662(0x378)],_0x54195b['remoteJid']=_0x4f4b70,await this[_0x4a1662(0x4c2)](_0x54195b);break;default:return this[_0x4a1662(0x58e)][_0x4a1662(0x3a8)](this[_0x4a1662(0x1dc)]+'\x20('+this['instance']['wuid']+'):\x20Comando\x20desconhecido:\x20'+_0x58457a[_0x4a1662(0x3a6)]),{'error':!0x0,'detail':_0x4a1662(0x2bc)};}}catch(_0x1e41c9){return this[_0x4a1662(0x58e)][_0x4a1662(0x3a8)](this[_0x4a1662(0x1dc)]+'\x20('+this[_0x4a1662(0x4e6)][_0x4a1662(0x58c)]+_0x4a1662(0x2af)+(_0x1e41c9 instanceof Error?_0x1e41c9[_0x4a1662(0x1ff)]:JSON[_0x4a1662(0x511)](_0x1e41c9,null,0x2))),{'error':!0x0,'detail':_0x1e41c9[_0x4a1662(0x1ff)]};}}[a0_0x7625da(0x485)](_0x38afe7){const _0x4f1f84=a0_0x7625da;let _0x254ed2=_0x38afe7['split']('|'),_0x5f16e7=Math[_0x4f1f84(0x4e3)](Math[_0x4f1f84(0x304)]()*_0x254ed2['length']);return _0x254ed2[_0x5f16e7][_0x4f1f84(0x5d8)]();}async[a0_0x7625da(0x6a6)](_0x1f2e11,_0xf0a600){const _0x5cc670=a0_0x7625da;if(this[_0x5cc670(0x58e)][_0x5cc670(0x62f)](this[_0x5cc670(0x1dc)]+'\x20('+this['instance']['wuid']+'):\x20Enviando\x20texto'),!_0x1f2e11['message'][_0x5cc670(0x3e8)]||_0x1f2e11[_0x5cc670(0x1ff)]['text'][_0x5cc670(0x779)]===0x0)return{'error':!0x0,'detail':_0x5cc670(0x39a)};let _0x4219cd=this['getRandomText'](_0x1f2e11['message']['text']),_0x39fc44=await this[_0x5cc670(0x31a)](_0x4219cd,_0xf0a600),_0x39acea={'number':_0xf0a600,'options':{'delay':_0x1f2e11['message'][_0x5cc670(0x2f3)],'linkPreview':_0x1f2e11[_0x5cc670(0x1ff)][_0x5cc670(0x2b3)]},'textMessage':{'text':_0x39fc44}},_0x15a148=null;try{let _0x19bd5b=await this[_0x5cc670(0x44b)](_0x39acea);if(_0x19bd5b&&_0x19bd5b['status'])return{'error':!0x1,'id':_0x19bd5b[_0x5cc670(0x84e)]['id']};_0x15a148=JSON['stringify'](_0x19bd5b),this[_0x5cc670(0x58e)][_0x5cc670(0x62f)](this['instanceName']+'\x20('+this['instance'][_0x5cc670(0x58c)]+_0x5cc670(0x510)+_0x15a148);}catch(_0x1612bb){this[_0x5cc670(0x58e)][_0x5cc670(0x3a8)](this['instanceName']+'\x20('+this[_0x5cc670(0x4e6)]['wuid']+_0x5cc670(0x8d0)+(_0x1612bb instanceof Error?_0x1612bb[_0x5cc670(0x1ff)]:JSON[_0x5cc670(0x511)](_0x1612bb,null,0x2))),_0x15a148=_0x1612bb['message'];}if(_0x15a148)return{'error':!0x0,'detail':(typeof _0x15a148=='object'?JSON[_0x5cc670(0x511)](_0x15a148,null,0x2):_0x15a148)['replace'](/[\[\]{}\n]/g,'\x20')[_0x5cc670(0x614)](/  +/g,'\x20')};}async[a0_0x7625da(0x392)](_0x1aafc4,_0x1aed38){const _0x5e93db=a0_0x7625da;this[_0x5e93db(0x58e)][_0x5e93db(0x62f)](this[_0x5e93db(0x1dc)]+'\x20('+this[_0x5e93db(0x4e6)][_0x5e93db(0x58c)]+_0x5e93db(0x4ab));let _0xc4c3f1;if(_0x1aafc4[_0x5e93db(0x1ff)]['text']&&_0x1aafc4['message']['text'][_0x5e93db(0x779)]>0x0){let _0x2bbf5b=this[_0x5e93db(0x485)](_0x1aafc4[_0x5e93db(0x1ff)]['text']);_0xc4c3f1=await this[_0x5e93db(0x31a)](_0x2bbf5b,_0x1aed38);}let _0x467405={'number':_0x1aed38,'options':{'delay':_0x1aafc4[_0x5e93db(0x1ff)][_0x5e93db(0x2f3)],'linkPreview':_0x1aafc4[_0x5e93db(0x1ff)][_0x5e93db(0x2b3)]},'mediaMessage':{'mediatype':_0x1aafc4[_0x5e93db(0x1ff)][_0x5e93db(0x223)],'caption':_0xc4c3f1,'media':_0x1aafc4[_0x5e93db(0x1ff)][_0x5e93db(0x729)]}},_0x3b1908=null;try{let _0xf17bde=await this[_0x5e93db(0x78b)](_0x467405);if(_0xf17bde&&_0xf17bde[_0x5e93db(0x464)])return{'error':!0x1,'id':_0xf17bde[_0x5e93db(0x84e)]['id']};_0x3b1908=JSON['stringify'](_0xf17bde),this[_0x5e93db(0x58e)][_0x5e93db(0x62f)](this[_0x5e93db(0x1dc)]+'\x20('+this['instance'][_0x5e93db(0x58c)]+'):\x20'+_0x3b1908);}catch(_0x59cfd7){this[_0x5e93db(0x58e)]['error'](this[_0x5e93db(0x1dc)]+'\x20('+this['instance'][_0x5e93db(0x58c)]+_0x5e93db(0x883)+(_0x59cfd7 instanceof Error?_0x59cfd7['message']:JSON[_0x5e93db(0x511)](_0x59cfd7,null,0x2))),_0x3b1908=_0x59cfd7[_0x5e93db(0x1ff)];}if(_0x3b1908)return{'error':!0x0,'detail':(typeof _0x3b1908==_0x5e93db(0x559)?JSON[_0x5e93db(0x511)](_0x3b1908,null,0x2):_0x3b1908)[_0x5e93db(0x614)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x7625da(0x835)](_0x124f45,_0x294275){const _0x2391aa=a0_0x7625da;this['logger']['verbose'](this[_0x2391aa(0x1dc)]+'\x20('+this['instance'][_0x2391aa(0x58c)]+'):\x20Enviando\x20áudio');let _0x461555={'number':_0x294275,'options':{'delay':_0x124f45[_0x2391aa(0x1ff)][_0x2391aa(0x2f3)]},'audioMessage':{'audio':_0x124f45[_0x2391aa(0x1ff)][_0x2391aa(0x729)]}},_0x258dde=null;try{let _0x4a3ee0=await this[_0x2391aa(0x1e8)](_0x461555);if(_0x4a3ee0&&_0x4a3ee0['status'])return{'error':!0x1,'id':_0x4a3ee0[_0x2391aa(0x84e)]['id']};_0x258dde=JSON['stringify'](_0x4a3ee0),this[_0x2391aa(0x58e)][_0x2391aa(0x62f)](this[_0x2391aa(0x1dc)]+'\x20('+this[_0x2391aa(0x4e6)][_0x2391aa(0x58c)]+'):\x20'+_0x258dde);}catch(_0x25fadc){this[_0x2391aa(0x58e)][_0x2391aa(0x3a8)](this['instanceName']+'\x20('+this['instance'][_0x2391aa(0x58c)]+_0x2391aa(0x8c2)+(_0x25fadc instanceof Error?_0x25fadc[_0x2391aa(0x1ff)]:JSON[_0x2391aa(0x511)](_0x25fadc,null,0x2))),_0x258dde=_0x25fadc[_0x2391aa(0x1ff)];}if(_0x258dde)return{'error':!0x0,'detail':(typeof _0x258dde=='object'?JSON[_0x2391aa(0x511)](_0x258dde,null,0x2):_0x258dde)['replace'](/[\[\]{}\n]/g,'\x20')[_0x2391aa(0x614)](/  +/g,'\x20')};}async['groupDesc'](_0x39ca6f){const _0x2c424c=a0_0x7625da;try{return await this[_0x2c424c(0x4d8)][_0x2c424c(0x390)](_0x39ca6f[_0x2c424c(0x650)],_0x39ca6f[_0x2c424c(0x439)]),{'update':_0x2c424c(0x371)};}catch(_0x17249e){let _0x653df8=_0x2c424c(0x728),_0x5012e4=_0x17249e instanceof Error?_0x17249e[_0x2c424c(0x1ff)]:typeof _0x17249e==_0x2c424c(0x559)?JSON[_0x2c424c(0x511)](_0x17249e):_0x17249e,_0xfe1eea=_0x653df8+':\x20'+_0x5012e4;throw this[_0x2c424c(0x58e)][_0x2c424c(0x3a8)](this['instanceName']+'\x20('+this[_0x2c424c(0x4e6)][_0x2c424c(0x58c)]+_0x2c424c(0x510)+_0xfe1eea),new I(_0xfe1eea);}}async[a0_0x7625da(0x6b0)](_0x83cd64){const _0x3f20a9=a0_0x7625da;try{return await this['client'][_0x3f20a9(0x487)](_0x83cd64[_0x3f20a9(0x650)],_0x83cd64[_0x3f20a9(0x2f7)]),{'update':_0x3f20a9(0x371)};}catch(_0x284bb8){let _0x2893f2=_0x3f20a9(0x57a),_0x38c965=_0x284bb8 instanceof Error?_0x284bb8[_0x3f20a9(0x1ff)]:typeof _0x284bb8==_0x3f20a9(0x559)?JSON[_0x3f20a9(0x511)](_0x284bb8):_0x284bb8,_0x95adc4=_0x2893f2+':\x20'+_0x38c965;throw this[_0x3f20a9(0x58e)][_0x3f20a9(0x3a8)](this[_0x3f20a9(0x1dc)]+'\x20('+this[_0x3f20a9(0x4e6)][_0x3f20a9(0x58c)]+_0x3f20a9(0x510)+_0x95adc4),new I(_0x95adc4);}}async['toggleEphemeral'](_0x2dbf4b){const _0x27d258=a0_0x7625da;try{let _0x4a2d2e=await this['client']['groupToggleEphemeral'](_0x2dbf4b[_0x27d258(0x650)],_0x2dbf4b[_0x27d258(0x798)]);return{'success':!0x0};}catch(_0x46aa64){let _0x3dd6e8=_0x27d258(0x593),_0x8e255d=_0x46aa64 instanceof Error?_0x46aa64[_0x27d258(0x1ff)]:typeof _0x46aa64==_0x27d258(0x559)?JSON[_0x27d258(0x511)](_0x46aa64):_0x46aa64,_0x2b4356=_0x3dd6e8+':\x20'+_0x8e255d;throw this['logger']['error'](this[_0x27d258(0x1dc)]+'\x20('+this[_0x27d258(0x4e6)]['wuid']+_0x27d258(0x510)+_0x2b4356),new I(_0x2b4356);}}async['groupSetting'](_0x49ebe9){const _0x35249f=a0_0x7625da;try{return await this['client'][_0x35249f(0x51a)](_0x49ebe9[_0x35249f(0x650)],_0x49ebe9['setting']),{'update':'success'};}catch(_0x204bc6){let _0x1c3204=_0x35249f(0x258),_0x224bd2=_0x204bc6 instanceof Error?_0x204bc6[_0x35249f(0x1ff)]:typeof _0x204bc6==_0x35249f(0x559)?JSON[_0x35249f(0x511)](_0x204bc6):_0x204bc6,_0x379a70=_0x1c3204+':\x20'+_0x224bd2;throw this[_0x35249f(0x58e)]['error'](this[_0x35249f(0x1dc)]+'\x20('+this[_0x35249f(0x4e6)][_0x35249f(0x58c)]+_0x35249f(0x510)+_0x379a70),new I(_0x379a70);}}async['updateGroupPicture'](_0x1c5953){const _0x3598bf=a0_0x7625da;try{let _0x30bfe9;if((0x0,P['isURL'])(_0x1c5953['image'])){let _0x27f1b6=new Date()[_0x3598bf(0x783)](),_0x4e2ea3=_0x1c5953['image']+'?timestamp='+_0x27f1b6;_0x30bfe9=(await Q['default'][_0x3598bf(0x7c4)](_0x4e2ea3,{'responseType':_0x3598bf(0x61a)}))[_0x3598bf(0x39e)];}else{if((0x0,P['isBase64'])(_0x1c5953[_0x3598bf(0x5c6)]))_0x30bfe9=Buffer[_0x3598bf(0x861)](_0x1c5953[_0x3598bf(0x5c6)],_0x3598bf(0x3db));else throw new m(_0x3598bf(0x54e));}return await this['client'][_0x3598bf(0x811)](_0x1c5953[_0x3598bf(0x650)],_0x30bfe9),{'update':_0x3598bf(0x371)};}catch(_0x20697c){let _0x1bb841='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture',_0x2bc237=_0x20697c instanceof Error?_0x20697c['message']:typeof _0x20697c=='object'?JSON[_0x3598bf(0x511)](_0x20697c):_0x20697c,_0x5335f2=_0x1bb841+':\x20'+_0x2bc237;throw this[_0x3598bf(0x58e)]['error'](this[_0x3598bf(0x1dc)]+'\x20('+this[_0x3598bf(0x4e6)]['wuid']+'):\x20'+_0x5335f2),new I(_0x5335f2);}}},Ut=class c{constructor(_0x737776,_0x1141d1,_0x2626c7){const _0x3bd6ab=a0_0x7625da;this[_0x3bd6ab(0x675)]=_0x737776,this[_0x3bd6ab(0x724)]=_0x1141d1,this['repository']=_0x2626c7,this['db']={},this['redis']={},this[_0x3bd6ab(0x58e)]=new R(c['name']),this[_0x3bd6ab(0x5ea)]={},(this[_0x3bd6ab(0x799)](),this['noConnection'](),Object[_0x3bd6ab(0x1fd)](this['db'],_0x1141d1['get'](_0x3bd6ab(0x3c8))),Object[_0x3bd6ab(0x1fd)](this['redis'],_0x1141d1['get'](_0x3bd6ab(0x62c))),this[_0x3bd6ab(0x6fb)]=this['db']['ENABLED']?this['repository']['dbServer']?.['db'](this['db'][_0x3bd6ab(0x1e1)]['DB_PREFIX_NAME']+_0x3bd6ab(0x3f4)):void 0x0,this['cache']=this[_0x3bd6ab(0x475)][_0x3bd6ab(0x7de)]?new ce(this[_0x3bd6ab(0x475)]):void 0x0);}async[a0_0x7625da(0x254)](_0x564d05){const _0x164da2=a0_0x7625da;if(_0x564d05&&!this[_0x164da2(0x5ea)][_0x564d05])throw new U(_0x164da2(0x77b)+_0x564d05+_0x164da2(0x303));let _0x413a17=[];for await(let [_0x64cda7,_0x288955]of Object['entries'](this['waInstances']))if(_0x288955&&_0x288955['connectionStatus'][_0x164da2(0x22d)]===_0x164da2(0x32e)){let _0x4ee103=await this[_0x164da2(0x3f9)]['auth']['find'](_0x64cda7);_0x413a17[_0x164da2(0x566)]({'instance':{'instanceName':_0x64cda7,'apikey':_0x4ee103['apikey'],'owner':_0x288955[_0x164da2(0x58c)],'profileName':await _0x288955['getProfileName']()||_0x164da2(0x7c6),'profilePictureUrl':_0x288955[_0x164da2(0x5cf)]}});}return _0x413a17[_0x164da2(0x48d)](_0x55e457=>_0x55e457[_0x164da2(0x4e6)][_0x164da2(0x1dc)]===_0x564d05)??_0x413a17;}async[a0_0x7625da(0x6b7)](_0x29f00f){const _0x5cf8e2=a0_0x7625da;if(this['db']['ENABLED']&&(await this['repository'][_0x5cf8e2(0x643)][_0x5cf8e2(0x3bb)](),(await this['dbInstance']['collections']())['length']>0x0&&await this['dbInstance'][_0x5cf8e2(0x563)](_0x29f00f)),this[_0x5cf8e2(0x475)][_0x5cf8e2(0x7de)]){this[_0x5cf8e2(0x41d)][_0x5cf8e2(0x4ce)]=_0x29f00f,await this[_0x5cf8e2(0x41d)][_0x5cf8e2(0x33f)]();return;}}async['loadInstance'](){const _0x4d7153=a0_0x7625da;await this[_0x4d7153(0x429)]();let _0x26b236=async _0x119a93=>{const _0x50c97a=_0x4d7153;let _0x292cd0=new Ce(this[_0x50c97a(0x724)],this[_0x50c97a(0x675)],this['repository']);_0x292cd0[_0x50c97a(0x1dc)]=_0x119a93,await _0x292cd0[_0x50c97a(0x6ab)](),this[_0x50c97a(0x5ea)][_0x119a93]=_0x292cd0;};try{if(this['redis'][_0x4d7153(0x7de)]){let _0x306cfc=await this[_0x4d7153(0x41d)][_0x4d7153(0x6e6)]();_0x306cfc?.['length']>0x0&&_0x306cfc['forEach'](async _0x2f229f=>await _0x26b236(_0x2f229f[_0x4d7153(0x1e9)](':')[0x1]));return;}if(this['db'][_0x4d7153(0x7de)]){await this[_0x4d7153(0x3f9)][_0x4d7153(0x643)][_0x4d7153(0x3bb)]();let _0x2162ca=await this[_0x4d7153(0x6fb)][_0x4d7153(0x5d7)]();_0x2162ca[_0x4d7153(0x779)]>0x0&&_0x2162ca[_0x4d7153(0x886)](async _0x28a801=>await _0x26b236(_0x28a801['namespace'][_0x4d7153(0x614)](/^[\w-]+\./,'')));return;}}catch(_0x53d36b){this[_0x4d7153(0x58e)]['error'](_0x53d36b);}}async['InstancesAsDisconnectedX'](){const _0x595716=a0_0x7625da;let _0x391590=await this[_0x595716(0x3f9)][_0x595716(0x436)][_0x595716(0x5dc)](),_0x457a18=_0x391590['filter'](_0x135e80=>!this[_0x595716(0x5ea)][_0x135e80['_id']]&&(_0x135e80[_0x595716(0x6ed)]||typeof _0x135e80['online']>'u'));_0x457a18[_0x595716(0x779)]>0x0&&await Promise[_0x595716(0x315)](_0x457a18[_0x595716(0x1ec)](async _0x34b9b0=>{const _0x20bb62=_0x595716;let _0x2bea40={'online':!0x1,'lastDisconnect':Date['now']()};await this[_0x20bb62(0x3f9)][_0x20bb62(0x436)][_0x20bb62(0x7a3)](_0x2bea40,_0x34b9b0['_id']);}));let _0x3a54d4=Date[_0x595716(0x7cd)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x5910f7=_0x391590['filter'](_0x438640=>!this[_0x595716(0x5ea)][_0x438640[_0x595716(0x7ce)]]&&typeof _0x438640[_0x595716(0x351)]<'u'&&_0x438640['lastDisconnect']<_0x3a54d4);_0x5910f7[_0x595716(0x779)]>0x0&&await Promise[_0x595716(0x315)](_0x5910f7[_0x595716(0x1ec)](async _0x4f6e9e=>{}));}async[a0_0x7625da(0x429)](){const _0x5273ae=a0_0x7625da;try{let _0x4ba99f={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x194de5={'online':!0x1,'lastDisconnect':Date[_0x5273ae(0x7cd)]()},_0x1f2a6e=await this['repository']['auth'][_0x5273ae(0x210)](_0x4ba99f,_0x194de5);console[_0x5273ae(0x773)](_0x5273ae(0x4ed)+_0x1f2a6e[_0x5273ae(0x769)]),await this[_0x5273ae(0x75f)]();}catch(_0x33677b){console[_0x5273ae(0x3a8)]('Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:',_0x33677b);}}async[a0_0x7625da(0x75f)](){const _0x3e50cd=a0_0x7625da;try{let _0x30ba11={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x14f55b=await this[_0x3e50cd(0x3f9)][_0x3e50cd(0x436)][_0x3e50cd(0x343)](_0x30ba11);console['log']('Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20'+_0x14f55b['insertCount']);}catch(_0x160bdc){console['error'](_0x3e50cd(0x441),_0x160bdc);}}[a0_0x7625da(0x799)](){const _0xdb3a28=a0_0x7625da;this[_0xdb3a28(0x675)]['on'](_0xdb3a28(0x5d9),async _0x4b4cb4=>{const _0x3c0770=_0xdb3a28;try{this['waInstances'][_0x4b4cb4]=void 0x0;}catch{}try{this[_0x3c0770(0x6b7)](_0x4b4cb4);}finally{this[_0x3c0770(0x58e)][_0x3c0770(0x6ef)](_0x3c0770(0x77b)+_0x4b4cb4+_0x3c0770(0x25b));}});}[a0_0x7625da(0x816)](){this['eventEmitter']['on']('no.connection',async _0x37b131=>{const _0x37e34a=a0_0x5efa;try{this[_0x37e34a(0x5ea)][_0x37b131]=void 0x0;}catch{}try{this['cleaningUp'](_0x37b131);}finally{this[_0x37e34a(0x58e)]['warn'](_0x37e34a(0x77b)+_0x37b131+_0x37e34a(0x549));}});}},qt=class extends x{['getChatModelForOwner'](_0x262b6b){return Ks(_0x262b6b);}async[a0_0x7625da(0x20a)](_0xbb9419){const _0x32b7d2=a0_0x7625da;if(_0xbb9419[_0x32b7d2(0x779)]!==0x0)try{return{'insertCount':(await this[_0x32b7d2(0x8c1)](_0xbb9419[0x0][_0x32b7d2(0x4c5)])[_0x32b7d2(0x62a)]([..._0xbb9419]))[_0x32b7d2(0x779)]};}catch(_0x251089){return _0x251089;}}async[a0_0x7625da(0x48d)](_0x5e5051,_0xe461c1){const _0x54ca33=a0_0x7625da;try{let _0x537571=this[_0x54ca33(0x8c1)](_0xe461c1),_0x4db017=T(_0x5e5051[_0x54ca33(0x68e)]);return await _0x537571[_0x54ca33(0x48d)](_0x4db017)['sort']({'lastmsg':-0x1})['limit'](_0x5e5051?.[_0x54ca33(0x78c)]??0x0)[_0x54ca33(0x38c)]();}catch{return[];}}async[a0_0x7625da(0x72f)](_0x492658,_0x4b6e54){const _0x395c82=a0_0x7625da;try{return{'deletedCount':(await this['getChatModelForOwner'](_0x4b6e54)[_0x395c82(0x343)]({..._0x492658[_0x395c82(0x68e)]}))[_0x395c82(0x682)]};}catch(_0x4c1385){return{'error':_0x4c1385?.[_0x395c82(0x455)]()};}}async[a0_0x7625da(0x7a7)](_0x1024ec,_0x353c60){const _0x4a72b6=a0_0x7625da;try{return await this[_0x4a72b6(0x8c1)](_0x353c60)[_0x4a72b6(0x343)]({..._0x1024ec['where']}),[];}catch(_0xb02db9){return{'error':_0xb02db9?.[_0x4a72b6(0x455)]()};}}async[a0_0x7625da(0x715)](_0x2faf08,_0x272977){const _0x5b522e=a0_0x7625da;try{let _0x5ecb15=this['getChatModelForOwner'](_0x272977),_0x5a1653=T(_0x2faf08[_0x5b522e(0x68e)]);return await _0x5ecb15['findOne'](_0x5a1653)['lean']();}catch{return null;}}async['updateOne'](_0x55f302,_0x3aac07,_0xa09cc9,_0x96fe10,_0x48e698=a0_0x7625da(0x43a)){const _0x7dfdb5=a0_0x7625da;try{let _0x444bf7={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x96fe10},_0x50ba16=this[_0x7dfdb5(0x8c1)](_0xa09cc9),_0x45586d=T(_0x55f302[_0x7dfdb5(0x68e)]);Object[_0x7dfdb5(0x4f8)](_0x3aac07)[_0x7dfdb5(0x886)](_0x4a39e2=>{_0x3aac07[_0x4a39e2]==null&&delete _0x3aac07[_0x4a39e2];});let _0x4bf480={};return _0x4bf480[_0x48e698]=_0x3aac07,await _0x50ba16[_0x7dfdb5(0x3e3)](_0x45586d,_0x4bf480,_0x444bf7);}catch(_0x37b48f){return console['error'](_0x37b48f),null;}}async[a0_0x7625da(0x829)](_0x4a11f7){const _0x340a65=a0_0x7625da;try{let _0x42f6b8=this[_0x340a65(0x8c1)](_0x4a11f7[0x0][_0x340a65(0x7f4)][_0x340a65(0x68e)][_0x340a65(0x4c5)]),_0xb76ff9=_0x4a11f7['map'](_0x12aff7=>({'updateOne':{'filter':{..._0x12aff7[_0x340a65(0x7f4)][_0x340a65(0x68e)]},'update':{'$set':_0x12aff7[_0x340a65(0x4b2)]},'upsert':!0x0}})),_0x2607cb=await _0x42f6b8[_0x340a65(0x4d2)](_0xb76ff9);return _0x2607cb['modifiedCount']+_0x2607cb[_0x340a65(0x6c3)];}catch(_0x19ff76){return console[_0x340a65(0x3a8)](_0x19ff76),0x0;}}async[a0_0x7625da(0x2c1)](_0x33773d){const _0x42c9bb=a0_0x7625da;try{let _0xbd79d4={'group_isCommunity':'','group_announce':'','group_size':''},_0x548a30={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x42c40f={'$unset':_0xbd79d4};return(await this['getChatModelForOwner'](_0x33773d)[_0x42c9bb(0x829)](_0x548a30,_0x42c40f))[_0x42c9bb(0x2e7)];}catch(_0x232d7f){return console[_0x42c9bb(0x3a8)]('Error\x20removing\x20unused\x20chat\x20fields:',_0x232d7f),0x0;}}async[a0_0x7625da(0x7dd)](_0x56b765){const _0x584204=a0_0x7625da;try{let _0x3f9d8c=this[_0x584204(0x8c1)](_0x56b765),_0x251b3d={'leadInfo.etiquetas':{'$exists':!0x1}},_0x5a8fc3={'$set':{'leadInfo.etiquetas':[]}};return(await _0x3f9d8c[_0x584204(0x829)](_0x251b3d,_0x5a8fc3))['modifiedCount'];}catch(_0x4ac4f7){return console[_0x584204(0x3a8)](_0x4ac4f7),0x0;}}async[a0_0x7625da(0x40b)](_0x288e6e){const _0x575f61=a0_0x7625da;try{let _0x279567=this[_0x575f61(0x8c1)](_0x288e6e),_0x30dc5b={'leadInfo.tags':{'$exists':!0x1}},_0x3f3dd1={'$set':{'leadInfo.tags':[]}};return(await _0x279567[_0x575f61(0x829)](_0x30dc5b,_0x3f3dd1))[_0x575f61(0x2e7)];}catch(_0x4b2c66){return console[_0x575f61(0x3a8)](_0x4b2c66),0x0;}}async[a0_0x7625da(0x8f4)](_0x50af74){const _0x16d1ae=a0_0x7625da;try{let _0x197366=this['getChatModelForOwner'](_0x50af74),_0x30f914={'leadInfo.customFields':{'$exists':!0x1}},_0x3e2b25={'$set':{'leadInfo.customFields':[]}};return(await _0x197366[_0x16d1ae(0x829)](_0x30f914,_0x3e2b25))[_0x16d1ae(0x2e7)];}catch(_0x387746){return console['error'](_0x387746),0x0;}}async['insertMany'](_0x3b95ff,_0x44ebaf){const _0x33b91d=a0_0x7625da;if(!Array[_0x33b91d(0x87a)](_0x3b95ff)||_0x3b95ff['length']===0x0)throw new Error(_0x33b91d(0x80c));try{return(await this[_0x33b91d(0x8c1)](_0x44ebaf)['insertMany'](_0x3b95ff))[_0x33b91d(0x779)];}catch(_0x4f59f7){throw console['error'](_0x33b91d(0x5f4),_0x4f59f7),_0x4f59f7;}}async[a0_0x7625da(0x6a4)](_0x424197,_0x3ddb81){const _0x252214=a0_0x7625da;try{await this[_0x252214(0x8c1)](_0x3ddb81)[_0x252214(0x7be)]({'_id':_0x424197});}catch(_0x4fd35f){throw console[_0x252214(0x3a8)](_0x252214(0x28e),_0x4fd35f),_0x4fd35f;}}},Vt=class extends x{constructor(_0x2a46cf,_0x5846da,_0x12909d){const _0x3751f2=a0_0x7625da;super(_0x5846da),this['cacheContactModel']=_0x2a46cf,this[_0x3751f2(0x724)]=_0x5846da,this[_0x3751f2(0x543)]=_0x12909d;}async['insert'](_0x3c2d81){const _0x321253=a0_0x7625da;if(_0x3c2d81[_0x321253(0x779)]!==0x0)try{return{'insertCount':(await this[_0x321253(0x7c3)][_0x321253(0x62a)]([..._0x3c2d81]))[_0x321253(0x779)]};}catch(_0x395f96){return _0x395f96;}}async[a0_0x7625da(0x4b2)](_0x10bd83,_0x59db3f){const _0x4f99a4=a0_0x7625da;try{let _0x2da3ae=T(_0x10bd83[_0x4f99a4(0x68e)]);return{'updatedCount':(await this[_0x4f99a4(0x7c3)]['updateMany'](_0x2da3ae,{'$set':_0x59db3f}))[_0x4f99a4(0x2e7)]};}catch(_0x4cd26f){return console[_0x4f99a4(0x3a8)](_0x4f99a4(0x507),_0x4cd26f),{'error':_0x4cd26f[_0x4f99a4(0x455)]()};}}async[a0_0x7625da(0x8d2)](_0x995dd6){const _0x52c852=a0_0x7625da;try{let _0x25d361={'_id':{'$in':_0x995dd6}};return await this[_0x52c852(0x7c3)][_0x52c852(0x48d)](_0x25d361)['lean']();}catch(_0x473f41){return console[_0x52c852(0x3a8)](_0x52c852(0x8e8),_0x473f41),[];}}async[a0_0x7625da(0x72f)](_0xaf1d46){const _0x455db0=a0_0x7625da;try{return{'deletedCount':(await this[_0x455db0(0x7c3)][_0x455db0(0x343)]({..._0xaf1d46[_0x455db0(0x68e)]}))[_0x455db0(0x682)]};}catch(_0xc1eda1){return{'error':_0xc1eda1?.[_0x455db0(0x455)]()};}}async[a0_0x7625da(0x48d)](_0x4d43ab){const _0x141b98=a0_0x7625da;try{let _0x24f3af=T(_0x4d43ab[_0x141b98(0x68e)]);return await this[_0x141b98(0x7c3)][_0x141b98(0x48d)](_0x24f3af)[_0x141b98(0x78c)](_0x4d43ab?.['limit']??0x0)[_0x141b98(0x38c)]();}catch{return[];}}async[a0_0x7625da(0x715)](_0x13996f){const _0x379089=a0_0x7625da;try{let _0x553748=T(_0x13996f[_0x379089(0x68e)]);return await this[_0x379089(0x7c3)][_0x379089(0x715)](_0x553748)[_0x379089(0x38c)]();}catch{return null;}}},Gt=class extends x{[a0_0x7625da(0x25d)](_0x50fe58){return ma(_0x50fe58);}async['updateOne'](_0x5730f8,_0x5dcdd5,_0x2d6eb3,_0x7b6dd9){const _0x21a4c4=a0_0x7625da;try{let _0x4f7dab={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x7b6dd9},_0x1a9aca=this['getLabelModelForOwner'](_0x2d6eb3),_0x2a1541=T(_0x5730f8[_0x21a4c4(0x68e)]);return await _0x1a9aca['findOneAndUpdate'](_0x2a1541,{'$set':_0x5dcdd5},_0x4f7dab);}catch(_0x5ac151){return console[_0x21a4c4(0x3a8)](_0x5ac151),null;}}async[a0_0x7625da(0x48d)](_0x59c05c,_0x4ab9cd){const _0x241170=a0_0x7625da;try{let _0xa8fb90=this[_0x241170(0x25d)](_0x4ab9cd),_0x7a2498=T(_0x59c05c[_0x241170(0x68e)]);return await _0xa8fb90[_0x241170(0x48d)](_0x7a2498);}catch(_0x49f173){console[_0x241170(0x3a8)](_0x49f173);}}async['delete'](_0x192316,_0x155a24){const _0x41c499=a0_0x7625da;try{let _0x400cdc=this[_0x41c499(0x25d)](_0x155a24),_0x54263f=T(_0x192316['where']);await _0x400cdc[_0x41c499(0x343)](_0x54263f);}catch(_0x222948){console[_0x41c499(0x3a8)](_0x222948);}}async[a0_0x7625da(0x7a7)](_0x4b0a52){const _0x32d594=a0_0x7625da;try{return await this[_0x32d594(0x25d)](_0x4b0a52)[_0x32d594(0x855)][_0x32d594(0x5b9)](),{'success':!0x0};}catch(_0x45168e){return console[_0x32d594(0x3a8)](_0x45168e),{'success':!0x1,'error':_0x45168e};}}},Bt=class{constructor(_0x49a7a5){const _0x2fab02=a0_0x7625da;this[_0x2fab02(0x83c)]=_0x49a7a5;}async['editChat']({instanceName:_0x5ebad8},_0x493395){const _0x3efb17=a0_0x7625da;return await this[_0x3efb17(0x83c)][_0x3efb17(0x5ea)][_0x5ebad8][_0x3efb17(0x247)](_0x493395);}async[a0_0x7625da(0x83a)]({instanceName:_0x2bc269},_0x581434){const _0x2f616f=a0_0x7625da;return await this[_0x2f616f(0x83c)][_0x2f616f(0x5ea)][_0x2bc269]['whatsappNumber'](_0x581434);}async[a0_0x7625da(0x21c)]({instanceName:_0x2cc749},_0x488991){const _0x351300=a0_0x7625da;return await this[_0x351300(0x83c)][_0x351300(0x5ea)][_0x2cc749][_0x351300(0x21c)](_0x488991);}async[a0_0x7625da(0x649)]({instanceName:_0x1191ef},_0x53f251){const _0x5e1719=a0_0x7625da;return await this[_0x5e1719(0x83c)]['waInstances'][_0x1191ef][_0x5e1719(0x785)](_0x53f251);}async[a0_0x7625da(0x489)]({instanceName:_0x3ac147},_0x5adf33){const _0x47af3b=a0_0x7625da;return await this[_0x47af3b(0x83c)][_0x47af3b(0x5ea)][_0x3ac147][_0x47af3b(0x489)](_0x5adf33);}async[a0_0x7625da(0x764)]({instanceName:_0x1e29e5},_0xce8dab){const _0x4bed50=a0_0x7625da;return await this['waMonitor'][_0x4bed50(0x5ea)][_0x1e29e5][_0x4bed50(0x764)](_0xce8dab);}async[a0_0x7625da(0x6f4)]({instanceName:_0x29483a},_0x2c3f1b){const _0x4a1b11=a0_0x7625da;return await this[_0x4a1b11(0x83c)][_0x4a1b11(0x5ea)][_0x29483a][_0x4a1b11(0x226)](_0x2c3f1b[_0x4a1b11(0x305)]);}async[a0_0x7625da(0x6ff)]({instanceName:_0x3ede13},_0x5a8023){const _0x1c650e=a0_0x7625da;return await this[_0x1c650e(0x83c)]['waInstances'][_0x3ede13][_0x1c650e(0x6ff)](_0x5a8023[_0x1c650e(0x305)]);}async['updatePresence']({instanceName:_0x572664},_0x571dad){const _0xaab1c3=a0_0x7625da;return await this[_0xaab1c3(0x83c)][_0xaab1c3(0x5ea)][_0x572664][_0xaab1c3(0x5a2)](_0x571dad);}async[a0_0x7625da(0x86e)]({instanceName:_0x1d0373},_0x318bd3){const _0x5ed701=a0_0x7625da;return await this[_0x5ed701(0x83c)]['waInstances'][_0x1d0373][_0x5ed701(0x86e)](_0x318bd3);}async['getBase64FromMediaMessage']({instanceName:_0x258bfd},_0x3b39b8){const _0x521a3c=a0_0x7625da;return await this[_0x521a3c(0x83c)]['waInstances'][_0x258bfd]['getBase64FromMediaMessage'](_0x3b39b8);}async[a0_0x7625da(0x7e2)]({instanceName:_0x59ea1b},_0x122532){const _0x1be08b=a0_0x7625da;return await this[_0x1be08b(0x83c)][_0x1be08b(0x5ea)][_0x59ea1b]['fetchMessages'](_0x122532);}async[a0_0x7625da(0x3a3)]({instanceName:_0x54f151}){const _0x58f455=a0_0x7625da;return await this['waMonitor']['waInstances'][_0x54f151][_0x58f455(0x3a3)]();}async[a0_0x7625da(0x52b)]({instanceName:_0x5d24ec}){const _0x307bbf=a0_0x7625da;return await this[_0x307bbf(0x83c)][_0x307bbf(0x5ea)][_0x5d24ec]['fetchChats']();}async[a0_0x7625da(0x723)]({instanceName:_0x5cf083}){const _0x55e74f=a0_0x7625da;return await this[_0x55e74f(0x83c)]['waInstances'][_0x5cf083][_0x55e74f(0x723)]();}async[a0_0x7625da(0x80d)]({instanceName:_0x242659},_0x1a8ea3){const _0x3d7a06=a0_0x7625da;return await this[_0x3d7a06(0x83c)][_0x3d7a06(0x5ea)][_0x242659][_0x3d7a06(0x80d)](_0x1a8ea3);}async[a0_0x7625da(0x3ed)]({instanceName:_0x47d102},_0x48a6e6){const _0x2ab76f=a0_0x7625da;return await this['waMonitor'][_0x2ab76f(0x5ea)][_0x47d102][_0x2ab76f(0x3ed)](_0x48a6e6[_0x2ab76f(0x305)]);}async['updateProfileName']({instanceName:_0x304389},_0xd7596d){const _0x1aadb1=a0_0x7625da;return await this[_0x1aadb1(0x83c)][_0x1aadb1(0x5ea)][_0x304389][_0x1aadb1(0x2f8)](_0xd7596d['name']);}async[a0_0x7625da(0x6af)]({instanceName:_0x5b82ea},_0x30bbd7){const _0x1c7719=a0_0x7625da;return await this[_0x1c7719(0x83c)][_0x1c7719(0x5ea)][_0x5b82ea][_0x1c7719(0x6af)](_0x30bbd7[_0x1c7719(0x464)]);}async[a0_0x7625da(0x811)]({instanceName:_0x2c029a},_0x4f7ecb){const _0x4b49cd=a0_0x7625da;return await this['waMonitor'][_0x4b49cd(0x5ea)][_0x2c029a][_0x4b49cd(0x811)](_0x4f7ecb[_0x4b49cd(0x67a)]);}async[a0_0x7625da(0x8ef)]({instanceName:_0x4a8a70},_0x29dd5f){const _0x5ed302=a0_0x7625da;return await this[_0x5ed302(0x83c)][_0x5ed302(0x5ea)][_0x4a8a70][_0x5ed302(0x8ef)]();}},Ds=require('@whiskeysockets/baileys'),Wt=class c{constructor(_0x48951e,_0xeee957,_0x15a9fd,_0x531ae0,_0x1ee7fb){const _0xd4be15=a0_0x7625da;this['waMonitor']=_0x48951e,this[_0xd4be15(0x724)]=_0xeee957,this[_0xd4be15(0x3f9)]=_0x15a9fd,this['eventEmitter']=_0x531ae0,this['authService']=_0x1ee7fb,this['logger']=new R(c[_0xd4be15(0x2f7)]);}async[a0_0x7625da(0x352)]({instanceName:_0x1edf45,apikey:_0x2ebe7a,number:_0xf2d3cf,proxy:_0x2233dc=!0x0}){const _0x12c30a=a0_0x7625da;try{let _0x2e0876=new Ce(this[_0x12c30a(0x724)],this[_0x12c30a(0x675)],this[_0x12c30a(0x3f9)]);_0x2e0876[_0x12c30a(0x1dc)]=_0x1edf45,this['waMonitor'][_0x12c30a(0x5ea)][_0x2e0876[_0x12c30a(0x1dc)]]=_0x2e0876;let _0x42df11={};_0x2ebe7a?(await this[_0x12c30a(0x3f9)][_0x12c30a(0x436)][_0x12c30a(0x7a3)]({'apikey':_0x2ebe7a},_0x1edf45),_0x42df11[_0x12c30a(0x652)]=_0x2ebe7a):_0x42df11=await this[_0x12c30a(0x781)][_0x12c30a(0x3d3)]({'instanceName':_0x2e0876['instanceName']});let _0x80d831;if(_0xf2d3cf){if(_0x80d831=await this[_0x12c30a(0x792)](_0xf2d3cf),_0x80d831[_0x12c30a(0x3a8)])throw new I(_0x80d831[_0x12c30a(0x3a8)][_0x12c30a(0x455)]());_0xf2d3cf=_0x80d831['number'];}let _0x2aaf8f;return await _0x2e0876[_0x12c30a(0x6ab)](_0xf2d3cf),await(0x0,Ds[_0x12c30a(0x2f3)])(0x7d0),_0x2aaf8f=_0x2e0876[_0x12c30a(0x849)],{'instance':{'instanceName':_0x2e0876[_0x12c30a(0x1dc)],'status':_0x12c30a(0x46e)},'hash':_0x42df11,'qrcode':_0x2aaf8f};}catch(_0x734b26){throw this['logger']['error'](_0x734b26),_0x734b26;}}async[a0_0x7625da(0x623)]({instanceName:_0x23953e,number:_0x48f3aa=null}){const _0x584882=a0_0x7625da;try{let _0x3997b8=this[_0x584882(0x83c)][_0x584882(0x5ea)][_0x23953e];switch(_0x3997b8?.['connectionStatus']?.[_0x584882(0x22d)]){case'close':return await _0x3997b8[_0x584882(0x6ab)](_0x48f3aa),await(0x0,Ds[_0x584882(0x2f3)])(0x7d0),_0x3997b8[_0x584882(0x849)];case _0x584882(0x347):return _0x3997b8['qrCode'];default:return await this[_0x584882(0x432)]({'instanceName':_0x23953e});}}catch(_0x2e2ae9){this[_0x584882(0x58e)][_0x584882(0x773)](_0x2e2ae9);}}async[a0_0x7625da(0x432)]({instanceName:_0x51c157}){const _0x534e8b=a0_0x7625da;let _0x5424a5=this[_0x534e8b(0x83c)][_0x534e8b(0x5ea)][_0x51c157][_0x534e8b(0x545)],_0x2416d0=null;_0x5424a5[_0x534e8b(0x22d)]===_0x534e8b(0x32e)&&_0x51c157&&(_0x2416d0=await this['waMonitor'][_0x534e8b(0x254)](_0x51c157));let _0x525f9a=null;return _0x5424a5[_0x534e8b(0x22d)]===_0x534e8b(0x347)&&_0x51c157&&(_0x525f9a=this[_0x534e8b(0x83c)][_0x534e8b(0x5ea)][_0x51c157][_0x534e8b(0x849)]),{'instance':_0x51c157,'connectionStatus':_0x5424a5,'instanceInfo':_0x2416d0,'qrcode':_0x525f9a};}async[a0_0x7625da(0x792)](_0x24347b){const _0x45345a=a0_0x7625da;_0x24347b=_0x24347b[_0x45345a(0x614)](/\D/g,'');let _0x5dfd2a=Object['keys'](this[_0x45345a(0x83c)][_0x45345a(0x5ea)])[_0x45345a(0x3ca)](_0x467a3e=>{const _0x3bb77a=_0x45345a;let _0x7920d9=this[_0x3bb77a(0x83c)]['waInstances'][_0x467a3e];return _0x7920d9&&_0x7920d9[_0x3bb77a(0x545)]&&_0x7920d9[_0x3bb77a(0x545)][_0x3bb77a(0x22d)]===_0x3bb77a(0x32e);});if(_0x5dfd2a['length']===0x0)return{'number':this[_0x45345a(0x381)](_0x24347b)};let _0x12f5bb=Math[_0x45345a(0x4e3)](Math[_0x45345a(0x304)]()*_0x5dfd2a[_0x45345a(0x779)]),_0x53a7fc=_0x5dfd2a[_0x12f5bb];try{let _0x1e8472=(await this[_0x45345a(0x83c)][_0x45345a(0x5ea)][_0x53a7fc][_0x45345a(0x83a)]({'numbers':[_0x24347b]}))[_0x45345a(0x278)]();return _0x1e8472[_0x45345a(0x1dd)]?{'number':_0x1e8472['jid'][_0x45345a(0x614)](_0x45345a(0x49f),'')}:{'number':_0x24347b,'error':_0x45345a(0x8b9)};}catch(_0x3cfc99){return this['logger'][_0x45345a(0x3a8)](_0x45345a(0x875)+_0x3cfc99),{'number':_0x24347b,'error':_0x45345a(0x64b)};}}[a0_0x7625da(0x381)](_0x48693f){const _0x196741=a0_0x7625da;let _0x194daa=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x196741(0x72e)](_0x48693f);if(_0x194daa&&_0x194daa[0x1]==='55'){let _0x4820d9=_0x194daa[0x2],_0x3a4b10=_0x194daa[0x3],_0x54acf8=_0x194daa[0x4];if(parseInt(_0x4820d9)>=0x1f&&_0x3a4b10==='9')return _0x194daa[0x1]+_0x4820d9+_0x54acf8;}return _0x48693f;}async[a0_0x7625da(0x4fb)]({instanceName:_0x2f335b}){const _0x29cbf5=a0_0x7625da;try{return this[_0x29cbf5(0x83c)][_0x29cbf5(0x5ea)][_0x2f335b]?.[_0x29cbf5(0x4d8)]?.['ws']?.['close'](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0x29cbf5(0x68a)}};}catch(_0x40b20d){this[_0x29cbf5(0x58e)][_0x29cbf5(0x3a8)](_0x40b20d);}}async[a0_0x7625da(0x516)]({instanceName:_0x48d61d}){const _0x23c765=a0_0x7625da;return _0x48d61d?this['waMonitor']['instanceInfo'](_0x48d61d):this[_0x23c765(0x83c)]['instanceInfo']();}async[a0_0x7625da(0x370)]({instanceName:_0x57b808}){const _0x562815=a0_0x7625da;try{return await this[_0x562815(0x83c)][_0x562815(0x5ea)][_0x57b808]?.[_0x562815(0x4d8)]?.[_0x562815(0x370)](_0x562815(0x29e)+_0x57b808),{'error':!0x1,'message':_0x562815(0x345)};}catch(_0x181fc8){throw new I(_0x181fc8[_0x562815(0x455)]());}}async[a0_0x7625da(0x264)]({instanceName:_0x41e888}){const _0x102066=a0_0x7625da;if((await this[_0x102066(0x432)]({'instanceName':_0x41e888}))['connectionStatus'][_0x102066(0x22d)]===_0x102066(0x32e))throw new m([_0x102066(0x7f2),'The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this[_0x102066(0x83c)][_0x102066(0x5ea)][_0x41e888],{'error':!0x1,'message':_0x102066(0x409)};}catch(_0x3dff46){throw new m(_0x3dff46[_0x102066(0x455)]());}}},se=require(a0_0x7625da(0x8a7)),zt=class{constructor(_0x5ce50f){const _0x5cb7f7=a0_0x7625da;this[_0x5cb7f7(0x83c)]=_0x5ce50f;}async[a0_0x7625da(0x313)]({instanceName:_0x1a79a4},_0xf780e8){const _0x2d1515=a0_0x7625da;return await this[_0x2d1515(0x83c)][_0x2d1515(0x5ea)][_0x1a79a4][_0x2d1515(0x44b)](_0xf780e8);}async['sendMenu']({instanceName:_0x4affac},_0x56dd7b){const _0x19928c=a0_0x7625da;return await this[_0x19928c(0x83c)][_0x19928c(0x5ea)][_0x4affac][_0x19928c(0x840)](_0x56dd7b);}async['sendMedia']({instanceName:_0x29e407},_0x1973e7){const _0x7d936a=a0_0x7625da;if((0x0,se[_0x7d936a(0x31c)])(_0x1973e7?.[_0x7d936a(0x78b)]?.[_0x7d936a(0x7ec)])&&!_0x1973e7?.[_0x7d936a(0x78b)]?.[_0x7d936a(0x7e9)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,se[_0x7d936a(0x537)])(_0x1973e7?.[_0x7d936a(0x78b)]?.[_0x7d936a(0x7ec)])||(0x0,se[_0x7d936a(0x31c)])(_0x1973e7?.[_0x7d936a(0x78b)]?.[_0x7d936a(0x7ec)]))return await this[_0x7d936a(0x83c)][_0x7d936a(0x5ea)][_0x29e407]['mediaMessage'](_0x1973e7);throw new m(_0x7d936a(0x82c));}async[a0_0x7625da(0x425)]({instanceName:_0x4fad64},_0x1b7680){const _0x246bf6=a0_0x7625da;if((0x0,se['isURL'])(_0x1b7680[_0x246bf6(0x23a)]['image'])||(0x0,se['isBase64'])(_0x1b7680[_0x246bf6(0x23a)][_0x246bf6(0x5c6)]))return await this[_0x246bf6(0x83c)][_0x246bf6(0x5ea)][_0x4fad64]['mediaSticker'](_0x1b7680);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async['sendWhatsAppAudio']({instanceName:_0x1e4149},_0x4d99e8){const _0x50424b=a0_0x7625da;if((0x0,se['isURL'])(_0x4d99e8[_0x50424b(0x3e7)][_0x50424b(0x671)])||(0x0,se[_0x50424b(0x31c)])(_0x4d99e8[_0x50424b(0x3e7)][_0x50424b(0x671)]))return await this[_0x50424b(0x83c)][_0x50424b(0x5ea)][_0x1e4149][_0x50424b(0x1e8)](_0x4d99e8);throw new m(_0x50424b(0x82c));}async[a0_0x7625da(0x6e9)]({instanceName:_0x2f77e1},_0x313cfa){const _0x1b6b93=a0_0x7625da;if((0x0,se[_0x1b6b93(0x31c)])(_0x313cfa[_0x1b6b93(0x508)][_0x1b6b93(0x78b)]?.[_0x1b6b93(0x7ec)])&&!_0x313cfa['buttonMessage'][_0x1b6b93(0x78b)]?.[_0x1b6b93(0x7e9)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');return await this[_0x1b6b93(0x83c)][_0x1b6b93(0x5ea)][_0x2f77e1][_0x1b6b93(0x508)](_0x313cfa);}async['sendLocation']({instanceName:_0xcbde8c},_0x572a3b){const _0x4922f8=a0_0x7625da;return await this[_0x4922f8(0x83c)][_0x4922f8(0x5ea)][_0xcbde8c][_0x4922f8(0x3b3)](_0x572a3b);}async[a0_0x7625da(0x45d)]({instanceName:_0x56f2f3},_0x53441e){const _0x3c9f33=a0_0x7625da;return await this[_0x3c9f33(0x83c)][_0x3c9f33(0x5ea)][_0x56f2f3]['pollMessage'](_0x53441e);}async[a0_0x7625da(0x38b)]({instanceName:_0x1e2077},_0x40c153){const _0x4ecad9=a0_0x7625da;return await this[_0x4ecad9(0x83c)][_0x4ecad9(0x5ea)][_0x1e2077][_0x4ecad9(0x1ea)](_0x40c153);}async['sendContact']({instanceName:_0x157a5d},_0x487ee9){const _0x3b8b8e=a0_0x7625da;return await this[_0x3b8b8e(0x83c)]['waInstances'][_0x157a5d][_0x3b8b8e(0x5a8)](_0x487ee9);}async['sendReaction']({instanceName:_0x316739},_0x335354){const _0x438608=a0_0x7625da;if(!_0x335354[_0x438608(0x4c0)][_0x438608(0x476)]['match'](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x438608(0x7fe));return await this[_0x438608(0x83c)]['waInstances'][_0x316739][_0x438608(0x4c0)](_0x335354);}async[a0_0x7625da(0x519)]({instanceName:_0x450357},_0x1c659d){const _0x1e0ba8=a0_0x7625da;return await this[_0x1e0ba8(0x83c)][_0x1e0ba8(0x5ea)][_0x450357][_0x1e0ba8(0x524)](_0x1c659d);}},vo=require(a0_0x7625da(0x36e)),_s=require('uuid'),Ht=class c{constructor(_0xe2e687,_0xf20ca6,_0x4fcc37){const _0x3e5867=a0_0x7625da;this[_0x3e5867(0x724)]=_0xe2e687,this[_0x3e5867(0x83c)]=_0xf20ca6,this[_0x3e5867(0x3f9)]=_0x4fcc37,this['logger']=new R(c[_0x3e5867(0x2f7)]);}async[a0_0x7625da(0x88c)](_0x2c8ed3){const _0x4eb757=a0_0x7625da;let _0x2dc7a5=this[_0x4eb757(0x724)]['get']('AUTHENTICATION')[_0x4eb757(0x50f)],_0x41f6e8=(0x0,vo[_0x4eb757(0x335)])({'instanceName':_0x2c8ed3['instanceName'],'apiName':tt,'tokenId':(0x0,_s['v4'])()},_0x2dc7a5[_0x4eb757(0x82e)],{'expiresIn':_0x2dc7a5['EXPIRIN_IN'],'encoding':_0x4eb757(0x6f7),'subject':_0x4eb757(0x540)}),_0x5ea741=await this[_0x4eb757(0x3f9)][_0x4eb757(0x436)][_0x4eb757(0x7a3)]({'jwt':_0x41f6e8},_0x2c8ed3[_0x4eb757(0x1dc)]);if(_0x5ea741[_0x4eb757(0x3a8)])throw this['logger']['error']({'localError':c[_0x4eb757(0x2f7)]+_0x4eb757(0x4c9),'error':_0x5ea741[_0x4eb757(0x3a8)]}),new m(_0x4eb757(0x219),_0x5ea741[_0x4eb757(0x3a8)]?.[_0x4eb757(0x455)]());return{'jwt':_0x41f6e8};}async[a0_0x7625da(0x652)](_0x1f1222){const _0x31149d=a0_0x7625da;let _0x49692b=(0x0,_s['v4'])()[_0x31149d(0x3f0)](),_0x5de8f1=await this[_0x31149d(0x3f9)][_0x31149d(0x436)][_0x31149d(0x7a3)]({'apikey':_0x49692b},_0x1f1222[_0x31149d(0x1dc)]);if(_0x5de8f1[_0x31149d(0x3a8)])throw this[_0x31149d(0x58e)]['error']({'localError':c[_0x31149d(0x2f7)]+'.jwt','error':_0x5de8f1[_0x31149d(0x3a8)]}),new m(_0x31149d(0x219),_0x5de8f1[_0x31149d(0x3a8)]?.[_0x31149d(0x455)]());return{'apikey':_0x49692b};}async[a0_0x7625da(0x3d3)](_0x5e7e44){const _0x2fd25f=a0_0x7625da;let _0x469d28=this[_0x2fd25f(0x724)][_0x2fd25f(0x7c4)]('AUTHENTICATION');return await this[_0x469d28[_0x2fd25f(0x666)]](_0x5e7e44);}},Kt=class{constructor(_0x3febbb){const _0x2bb6d5=a0_0x7625da;this[_0x2bb6d5(0x83c)]=_0x3febbb;}async[a0_0x7625da(0x24b)](_0x102bd6,_0x1125ce){const _0x55b119=a0_0x7625da;return await this[_0x55b119(0x83c)][_0x55b119(0x5ea)][_0x102bd6[_0x55b119(0x1dc)]][_0x55b119(0x24b)](_0x1125ce);}async[a0_0x7625da(0x8d1)](_0x2d9983,_0x2d07e5){const _0x5c2219=a0_0x7625da;return await this['waMonitor'][_0x5c2219(0x5ea)][_0x2d9983['instanceName']][_0x5c2219(0x8d1)](_0x2d07e5);}async[a0_0x7625da(0x358)](_0x1e3ad2,_0x1063c6){const _0x276a3e=a0_0x7625da;return await this[_0x276a3e(0x83c)][_0x276a3e(0x5ea)][_0x1e3ad2['instanceName']]['groupDesc'](_0x1063c6);}async['groupName'](_0x14dc21,_0x4682fb){const _0x5901f7=a0_0x7625da;return await this['waMonitor'][_0x5901f7(0x5ea)][_0x14dc21[_0x5901f7(0x1dc)]][_0x5901f7(0x6b0)](_0x4682fb);}async['groupBetterSetting'](_0x1ab05d,_0x35de5b){const _0x392422=a0_0x7625da;return await this[_0x392422(0x83c)]['waInstances'][_0x1ab05d[_0x392422(0x1dc)]][_0x392422(0x2e5)](_0x35de5b);}async[a0_0x7625da(0x418)](_0x39e121,_0x155eaf){const _0x2cfd8a=a0_0x7625da;return await this[_0x2cfd8a(0x83c)][_0x2cfd8a(0x5ea)][_0x39e121[_0x2cfd8a(0x1dc)]][_0x2cfd8a(0x418)](_0x155eaf);}async[a0_0x7625da(0x3ad)](_0x3e39b1,_0x1705db){const _0x40110f=a0_0x7625da;return await this[_0x40110f(0x83c)][_0x40110f(0x5ea)][_0x3e39b1[_0x40110f(0x1dc)]]['findGroup'](_0x1705db);}async[a0_0x7625da(0x468)](_0x1f23f2){const _0x3b2912=a0_0x7625da;return await this[_0x3b2912(0x83c)][_0x3b2912(0x5ea)][_0x1f23f2[_0x3b2912(0x1dc)]][_0x3b2912(0x468)]();}async['inviteCode'](_0x29a88b,_0x469819){const _0x237bd8=a0_0x7625da;return await this[_0x237bd8(0x83c)]['waInstances'][_0x29a88b[_0x237bd8(0x1dc)]][_0x237bd8(0x551)](_0x469819);}async[a0_0x7625da(0x32a)](_0x1b4534,_0x3dfa3f){const _0x2b1498=a0_0x7625da;return await this[_0x2b1498(0x83c)]['waInstances'][_0x1b4534[_0x2b1498(0x1dc)]][_0x2b1498(0x32a)](_0x3dfa3f);}async['groupGetInviteInfo'](_0x17f1d2,_0x3a66f1){const _0x3030dd=a0_0x7625da;return await this[_0x3030dd(0x83c)][_0x3030dd(0x5ea)][_0x17f1d2['instanceName']][_0x3030dd(0x807)](_0x3a66f1);}async[a0_0x7625da(0x609)](_0x205626,_0x48cbad){const _0x498df4=a0_0x7625da;return await this[_0x498df4(0x83c)][_0x498df4(0x5ea)][_0x205626['instanceName']][_0x498df4(0x609)](_0x48cbad);}async[a0_0x7625da(0x37d)](_0x1228e9,_0x2bd215){const _0xf75f05=a0_0x7625da;return await this[_0xf75f05(0x83c)][_0xf75f05(0x5ea)][_0x1228e9[_0xf75f05(0x1dc)]][_0xf75f05(0x37d)](_0x2bd215);}async['updateGParticipate'](_0x4855b,_0xbf96f1){const _0x18e21c=a0_0x7625da;return await this['waMonitor'][_0x18e21c(0x5ea)][_0x4855b[_0x18e21c(0x1dc)]][_0x18e21c(0x41c)](_0xbf96f1);}async[a0_0x7625da(0x241)](_0x2c950b,_0x3332cc){const _0x26e2a6=a0_0x7625da;return await this[_0x26e2a6(0x83c)][_0x26e2a6(0x5ea)][_0x2c950b[_0x26e2a6(0x1dc)]]['toggleEphemeral'](_0x3332cc);}async[a0_0x7625da(0x452)](_0x237d97,_0x328c96){const _0x4474d1=a0_0x7625da;return await this[_0x4474d1(0x83c)]['waInstances'][_0x237d97[_0x4474d1(0x1dc)]]['leaveGroup'](_0x328c96);}},Qt=class{constructor(_0x3bc320){const _0x4b3501=a0_0x7625da;this[_0x4b3501(0x83c)]=_0x3bc320;}['create'](_0x555096,_0x2b2adb){const _0x345685=a0_0x7625da;return this[_0x345685(0x83c)][_0x345685(0x5ea)][_0x555096[_0x345685(0x1dc)]][_0x345685(0x5ae)](_0x2b2adb);}async[a0_0x7625da(0x48d)](_0x21a8ad){const _0x105c9c=a0_0x7625da;try{return await this['waMonitor']['waInstances'][_0x21a8ad['instanceName']][_0x105c9c(0x5d2)]();}catch{return{'enabled':null,'url':''};}}},Cp=new R(a0_0x7625da(0x20d)),Yt=class{constructor(_0x567161){const _0x21a452=a0_0x7625da;this[_0x21a452(0x83c)]=_0x567161;}async['editScheduleMessage'](_0x2a7adb,_0x38bf0a){const _0xcd69a=a0_0x7625da;return await this['waMonitor'][_0xcd69a(0x5ea)][_0x2a7adb[_0xcd69a(0x1dc)]][_0xcd69a(0x77e)](_0x38bf0a);}async[a0_0x7625da(0x384)](_0x413b90){const _0x9e7cc7=a0_0x7625da;return await this[_0x9e7cc7(0x83c)][_0x9e7cc7(0x5ea)][_0x413b90[_0x9e7cc7(0x1dc)]][_0x9e7cc7(0x384)]();}async[a0_0x7625da(0x2c9)](_0x119f7e){const _0x2cba50=a0_0x7625da;return await this[_0x2cba50(0x83c)][_0x2cba50(0x5ea)][_0x119f7e[_0x2cba50(0x1dc)]]['deleteDoneMessages']();}async['getAutomateSystem'](_0x4b31d6){const _0x12a38b=a0_0x7625da;return await this[_0x12a38b(0x83c)][_0x12a38b(0x5ea)][_0x4b31d6[_0x12a38b(0x1dc)]][_0x12a38b(0x2f9)]();}async[a0_0x7625da(0x481)](_0x467236,_0x5c7735){const _0x2f2654=a0_0x7625da;return await this[_0x2f2654(0x83c)][_0x2f2654(0x5ea)][_0x467236['instanceName']][_0x2f2654(0x481)](_0x5c7735);}async[a0_0x7625da(0x6d3)](_0x13eec2,_0x52e0c1){const _0x3d72df=a0_0x7625da;return await this[_0x3d72df(0x83c)]['waInstances'][_0x13eec2[_0x3d72df(0x1dc)]][_0x3d72df(0x6d3)](_0x52e0c1);}async[a0_0x7625da(0x69d)](_0x13933b,_0x263f4d){const _0x39bade=a0_0x7625da;return await this[_0x39bade(0x83c)]['waInstances'][_0x13933b[_0x39bade(0x1dc)]][_0x39bade(0x69d)](_0x263f4d);}async[a0_0x7625da(0x897)](_0x4f6d19,_0x153dfa){const _0x581fbe=a0_0x7625da;return await this['waMonitor'][_0x581fbe(0x5ea)][_0x4f6d19['instanceName']]['updateFlowConfig'](_0x153dfa);}async['startFlow'](_0x250cdf,_0x198325){const _0x12d1b4=a0_0x7625da;return await this['waMonitor'][_0x12d1b4(0x5ea)][_0x250cdf[_0x12d1b4(0x1dc)]]['startFlow'](_0x198325);}async['startFlowWebhook'](_0xfbdfe6,_0x164cb7,_0x5b38a1,_0x4ad1f0){const _0x1f9fb3=a0_0x7625da;return await this['waMonitor'][_0x1f9fb3(0x5ea)][_0xfbdfe6][_0x1f9fb3(0x870)](_0x164cb7,_0x5b38a1,_0x4ad1f0);}async['getConversation'](_0xaa5f47,_0x191a8a){const _0x32b2ab=a0_0x7625da;return await this[_0x32b2ab(0x83c)][_0x32b2ab(0x5ea)][_0xaa5f47['instanceName']]['getConversation'](_0x191a8a);}async[a0_0x7625da(0x55f)](_0x596255,_0x210bfe){const _0x26f6f2=a0_0x7625da;return await this[_0x26f6f2(0x83c)][_0x26f6f2(0x5ea)][_0x596255[_0x26f6f2(0x1dc)]][_0x26f6f2(0x55f)](_0x210bfe);}async[a0_0x7625da(0x235)](_0x2bcc80,_0x69160a){const _0x12b833=a0_0x7625da;return await this[_0x12b833(0x83c)][_0x12b833(0x5ea)][_0x2bcc80[_0x12b833(0x1dc)]][_0x12b833(0x235)](_0x69160a);}async[a0_0x7625da(0x5fe)](_0xbee862,_0x5850db){const _0x4a29bd=a0_0x7625da;return await this[_0x4a29bd(0x83c)][_0x4a29bd(0x5ea)][_0xbee862[_0x4a29bd(0x1dc)]][_0x4a29bd(0x5fe)](_0x5850db);}async[a0_0x7625da(0x786)](_0x210661,_0x357b2f){const _0x20ccfe=a0_0x7625da;return await this[_0x20ccfe(0x83c)][_0x20ccfe(0x5ea)][_0x210661[_0x20ccfe(0x1dc)]][_0x20ccfe(0x786)](_0x357b2f[_0x20ccfe(0x2f7)],_0x357b2f[_0x20ccfe(0x676)]);}async[a0_0x7625da(0x38f)](_0x19711d,_0x173f6b,_0xbbef8){const _0x27896a=a0_0x7625da;return await this[_0x27896a(0x83c)][_0x27896a(0x5ea)][_0x19711d[_0x27896a(0x1dc)]][_0x27896a(0x38f)](_0x173f6b,_0xbbef8);}async['editFlow'](_0x5b6aae,_0x261a78,_0x36f53c){const _0x3a9a97=a0_0x7625da;return await this[_0x3a9a97(0x83c)][_0x3a9a97(0x5ea)][_0x5b6aae['instanceName']][_0x3a9a97(0x469)](_0x261a78,_0x36f53c);}async[a0_0x7625da(0x353)](_0x5b58d8,_0x9f2afb,_0xa06c0a){const _0x45dfae=a0_0x7625da;return await this[_0x45dfae(0x83c)][_0x45dfae(0x5ea)][_0x5b58d8[_0x45dfae(0x1dc)]]['editFlowBlock'](_0x9f2afb,_0xa06c0a);}async[a0_0x7625da(0x5da)](_0x1aceb8,_0x632f59,_0x1188fb){const _0x35d6d0=a0_0x7625da;return await this[_0x35d6d0(0x83c)][_0x35d6d0(0x5ea)][_0x1aceb8['instanceName']][_0x35d6d0(0x5da)](_0x632f59,_0x1188fb);}async[a0_0x7625da(0x662)](_0x4f15b2,_0xca10b8,_0xe9a2d3){const _0x4e839b=a0_0x7625da;return await this['waMonitor'][_0x4e839b(0x5ea)][_0x4f15b2[_0x4e839b(0x1dc)]][_0x4e839b(0x662)](_0xca10b8,_0xe9a2d3);}async[a0_0x7625da(0x80a)](_0x3a9b98,_0x35c1ef,_0x1d6f31){const _0x2bda11=a0_0x7625da;return await this[_0x2bda11(0x83c)]['waInstances'][_0x3a9b98[_0x2bda11(0x1dc)]]['editFlowCondition'](_0x35c1ef,_0x1d6f31);}async[a0_0x7625da(0x64e)](_0x3bab3d,_0x46fea5,_0x5da206){const _0x5de5b4=a0_0x7625da;return await this[_0x5de5b4(0x83c)][_0x5de5b4(0x5ea)][_0x3bab3d[_0x5de5b4(0x1dc)]][_0x5de5b4(0x64e)](_0x46fea5,_0x5da206);}async['editFlowVariable'](_0x2e3d11,_0x12ca2c,_0x1073f2){const _0x10d750=a0_0x7625da;return await this[_0x10d750(0x83c)][_0x10d750(0x5ea)][_0x2e3d11['instanceName']][_0x10d750(0x80f)](_0x12ca2c,_0x1073f2);}async['deleteFlow'](_0x570b7,_0x1ffdc5,_0x23e949){const _0x3134fc=a0_0x7625da;return await this[_0x3134fc(0x83c)]['waInstances'][_0x570b7['instanceName']][_0x3134fc(0x408)](_0x1ffdc5,_0x23e949);}async[a0_0x7625da(0x3ab)](_0x21f66d){const _0x5ac605=a0_0x7625da;return await this[_0x5ac605(0x83c)][_0x5ac605(0x5ea)][_0x21f66d[_0x5ac605(0x1dc)]]['allFlows']();}},Xt=class{constructor(_0x4f29dd){this['webhookService']=_0x4f29dd;}async[a0_0x7625da(0x6ac)](_0x4d2514,_0x52fd8f){const _0x1331f1=a0_0x7625da;return this['webhookService'][_0x1331f1(0x7a3)](_0x4d2514,_0x52fd8f);}async[a0_0x7625da(0x5d2)](_0x412b4a){const _0x90d07a=a0_0x7625da;return this['webhookService'][_0x90d07a(0x48d)](_0x412b4a);}},Zt=class extends x{constructor(_0x151b83,_0x196a44){const _0x46f2bb=a0_0x7625da;super(_0x196a44),this[_0x46f2bb(0x38a)]=_0x151b83,this['configService']=_0x196a44;}async[a0_0x7625da(0x7a3)](_0x3de471,_0x17e857){const _0xad9f2a=a0_0x7625da;try{return this[_0xad9f2a(0x681)][_0xad9f2a(0x7de)]?{'insertCount':(await this[_0xad9f2a(0x38a)][_0xad9f2a(0x8d8)]({'_id':_0x17e857},{..._0x3de471},{'upsert':!0x0}))['modifiedCount']}:{'insertCount':0x1};}catch(_0x17fb46){return _0x17fb46;}}async['delete'](_0x3148b5){const _0x5c4a9b=a0_0x7625da;try{if(this[_0x5c4a9b(0x681)]['ENABLED']){await this[_0x5c4a9b(0x38a)][_0x5c4a9b(0x7be)]({'_id':_0x3148b5});return;}}catch(_0x22e8ab){return{'error':_0x22e8ab};}}async['find'](_0x2bf529){const _0x36946f=a0_0x7625da;try{if(this[_0x36946f(0x681)]['ENABLED'])return await this[_0x36946f(0x38a)]['findOne']({'_id':_0x2bf529});}catch{return{};}}},es=class extends x{constructor(_0x368abc,_0x2999ef){const _0x51c986=a0_0x7625da;super(_0x2999ef),this[_0x51c986(0x86d)]=_0x368abc,this[_0x51c986(0x724)]=_0x2999ef,this[_0x51c986(0x436)]=_0x2999ef[_0x51c986(0x7c4)](_0x51c986(0x6a3));}async[a0_0x7625da(0x7a3)](_0x56928f,_0x5ad821){const _0x1c06cf=a0_0x7625da;try{if(this['dbSettings'][_0x1c06cf(0x7de)])return{'insertCount':(await this['authModel'][_0x1c06cf(0x819)]({'_id':_0x5ad821},{'$set':{..._0x56928f}},{'upsert':!0x0}))['modifiedCount']};}catch(_0x26c894){return{'error':_0x26c894};}}async[a0_0x7625da(0x210)](_0x65d532,_0x4da187){const _0x146edf=a0_0x7625da;try{if(this['dbSettings'][_0x146edf(0x7de)])return{'insertCount':(await this[_0x146edf(0x86d)]['updateMany'](_0x65d532,{'$set':_0x4da187},{'upsert':!0x1}))['modifiedCount']};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x3433f0){return{'error':_0x3433f0};}}async[a0_0x7625da(0x343)](_0x141384){const _0x40d110=a0_0x7625da;try{if(this['dbSettings'][_0x40d110(0x7de)])return{'insertCount':(await this['authModel'][_0x40d110(0x343)](_0x141384))[_0x40d110(0x682)]};throw new Error(_0x40d110(0x594));}catch(_0xf69297){return{'error':_0xf69297};}}async[a0_0x7625da(0x72f)](_0xdc96f9){const _0x454122=a0_0x7625da;try{if(this[_0x454122(0x681)][_0x454122(0x7de)]){await this[_0x454122(0x86d)][_0x454122(0x7be)]({'_id':_0xdc96f9});return;}}catch(_0x3673d7){return{'error':_0x3673d7};}}async[a0_0x7625da(0x48d)](_0x9ac088){const _0x49c5fd=a0_0x7625da;try{if(this[_0x49c5fd(0x681)]['ENABLED'])return await this[_0x49c5fd(0x86d)]['findOne']({'_id':_0x9ac088});}catch{return{};}}async[a0_0x7625da(0x5dc)](){const _0x136017=a0_0x7625da;try{if(this[_0x136017(0x681)]['ENABLED'])return await this[_0x136017(0x86d)]['find']();}catch{return[];}}},ts=class extends x{['getFlowModelForOwner'](_0x576358){return da(_0x576358);}async[a0_0x7625da(0x72f)](_0x5f6ac3,_0x210ac7){const _0x2bfcb7=a0_0x7625da;try{let _0xff65be=this[_0x2bfcb7(0x57f)](_0x210ac7),_0x19c89d=T(_0x5f6ac3['where']);return{'deletedCount':(await _0xff65be['deleteMany'](_0x19c89d))[_0x2bfcb7(0x682)]};}catch(_0x1ad811){return{'error':_0x1ad811?.[_0x2bfcb7(0x455)]()};}}async['deleteOne'](_0x4e1f1d,_0x337c00){const _0x45fdf7=a0_0x7625da;try{let _0x45ba34=this[_0x45fdf7(0x57f)](_0x337c00),_0x319cc7=T(_0x4e1f1d['where']);return{'deletedCount':(await _0x45ba34[_0x45fdf7(0x7be)](_0x319cc7))['deletedCount']};}catch(_0x4e93ab){return{'error':_0x4e93ab?.[_0x45fdf7(0x455)]()};}}async[a0_0x7625da(0x8d8)](_0x1255d6,_0x147396,_0x408d9b){const _0xe63e96=a0_0x7625da;try{let _0x4cfb1e=await this[_0xe63e96(0x57f)](_0x408d9b)[_0xe63e96(0x7cf)](_0x1255d6,_0x147396,{'overwrite':!0x0,'new':!0x0});return _0x4cfb1e||(console[_0xe63e96(0x3a8)](_0xe63e96(0x60e),_0x1255d6),null);}catch(_0x51ca98){return console['error'](_0xe63e96(0x3ec),_0x51ca98),null;}}async['updateOne'](_0x18106a,_0x364589,_0x426954){const _0x9a6683=a0_0x7625da;try{let _0x8b81c6=await this['getFlowModelForOwner'](_0x426954)['findById'](_0x18106a);return _0x8b81c6?(Object[_0x9a6683(0x1fd)](_0x8b81c6,_0x364589),await _0x8b81c6['save']()):(console[_0x9a6683(0x3a8)](_0x9a6683(0x5e8),_0x18106a),null);}catch(_0x1c5a9b){return console[_0x9a6683(0x3a8)](_0x9a6683(0x3ec),_0x1c5a9b),null;}}async[a0_0x7625da(0x62b)](_0x362053,_0x45728f,_0x271e75){const _0x2bb25e=a0_0x7625da;try{let _0x28c63=this[_0x2bb25e(0x57f)](_0x271e75),_0x4cf527=await _0x28c63['findById'](_0x362053),_0x2462d1=await _0x28c63[_0x2bb25e(0x3e3)]({'_id':_0x362053},_0x45728f,{'new':!0x0,'runValidators':!0x0});return _0x2462d1||(console[_0x2bb25e(0x773)](_0x2bb25e(0x529)+_0x362053+_0x2bb25e(0x71b)+_0x271e75+_0x2bb25e(0x70e)),null);}catch(_0x536e20){throw console[_0x2bb25e(0x3a8)](_0x2bb25e(0x318),_0x536e20),_0x536e20;}}async[a0_0x7625da(0x2eb)](_0x20aeec){const _0x1da330=a0_0x7625da;try{let _0xd2692b=this[_0x1da330(0x57f)](_0x20aeec),_0x4f2580={'shareOwners':{'$exists':!0x1}},_0xd378c6={'$set':{'shareOwners':[]}};return(await _0xd2692b[_0x1da330(0x829)](_0x4f2580,_0xd378c6))['modifiedCount'];}catch(_0x954fb7){return console[_0x1da330(0x3a8)](_0x954fb7),0x0;}}async[a0_0x7625da(0x7b1)](_0x538066,_0x17a064){const _0x39e655=a0_0x7625da;try{let _0x4c5fd3=this[_0x39e655(0x57f)](_0x17a064);return await new _0x4c5fd3(_0x538066)[_0x39e655(0x260)]();}catch(_0x306dd1){return console['error'](_0x39e655(0x8e3),_0x306dd1),null;}}async[a0_0x7625da(0x829)](_0x16b609,_0x2702da,_0xd32f9d){const _0x1a4382=a0_0x7625da;try{return{'modifiedCount':(await this[_0x1a4382(0x57f)](_0xd32f9d)[_0x1a4382(0x829)](_0x16b609,{'$set':_0x2702da}))[_0x1a4382(0x2e7)]};}catch(_0x972dc6){return console[_0x1a4382(0x3a8)](_0x1a4382(0x872),_0x972dc6),{'error':_0x972dc6};}}async[a0_0x7625da(0x5dc)](_0x20781b,_0x482cb0){const _0x12adb0=a0_0x7625da;try{let _0x59a8eb=this[_0x12adb0(0x57f)](_0x482cb0),_0x3f4ba2=T(_0x20781b[_0x12adb0(0x68e)]);return await _0x59a8eb['find'](_0x3f4ba2)[_0x12adb0(0x78c)](_0x20781b?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0x7625da(0x715)](_0x1d145f,_0x44ae4d){const _0x35991b=a0_0x7625da;try{let _0x45e329=this[_0x35991b(0x57f)](_0x44ae4d),_0x551973=T(_0x1d145f[_0x35991b(0x68e)]);return await _0x45e329[_0x35991b(0x715)](_0x551973)[_0x35991b(0x38c)]();}catch{return null;}}async['deleteAll'](_0x386e7c){const _0x502639=a0_0x7625da;try{return await this['getFlowModelForOwner'](_0x386e7c)[_0x502639(0x855)]['drop'](),{'success':!0x0};}catch(_0x6b16a9){return console[_0x502639(0x3a8)](_0x6b16a9),{'success':!0x1,'error':_0x6b16a9};}}},ss=class extends x{[a0_0x7625da(0x56d)](_0x72cb43){return pa(_0x72cb43);}async[a0_0x7625da(0x20a)](_0x678db0){const _0x302e74=a0_0x7625da;if(_0x678db0[_0x302e74(0x779)]!==0x0)try{return{'insertCount':(await this[_0x302e74(0x56d)](_0x678db0[0x0][_0x302e74(0x4c5)])[_0x302e74(0x62a)]([..._0x678db0]))[_0x302e74(0x779)]};}catch(_0x758450){return _0x758450;}}async[a0_0x7625da(0x72f)](_0x3586da,_0xc154d0){const _0x1fa287=a0_0x7625da;try{let _0x3ba40a=this[_0x1fa287(0x56d)](_0xc154d0),_0x4eda29=T(_0x3586da[_0x1fa287(0x68e)]);return{'deletedCount':(await _0x3ba40a['deleteMany'](_0x4eda29))[_0x1fa287(0x682)]};}catch(_0xcafba){return{'error':_0xcafba?.[_0x1fa287(0x455)]()};}}async[a0_0x7625da(0x7be)](_0x25ccb5,_0xab506b){const _0x902279=a0_0x7625da;try{let _0x264f30=this[_0x902279(0x56d)](_0xab506b),_0x4fe70e=T(_0x25ccb5['where']);return{'deletedCount':(await _0x264f30[_0x902279(0x7be)](_0x4fe70e))['deletedCount']};}catch(_0x75c1b5){return{'error':_0x75c1b5?.[_0x902279(0x455)]()};}}async['update'](_0x2f3c2b,_0x185427){const _0x28ded1=a0_0x7625da;try{if(_0x2f3c2b['length']===0x0)return;let _0x32f5c6=this[_0x28ded1(0x56d)](_0x185427),_0x26d8c3=_0x2f3c2b[_0x28ded1(0x1ec)](_0x4b291b=>({'updateOne':{'filter':{'name':_0x4b291b[_0x28ded1(0x2f7)],'owner':_0x185427},'update':{..._0x4b291b}}})),{modifiedCount:_0x615512}=await _0x32f5c6['bulkWrite'](_0x26d8c3);return{'insertCount':_0x615512};}catch{return;}}async[a0_0x7625da(0x829)](_0x21ba34,_0x22d559,_0x50683f){const _0x6ff5bc=a0_0x7625da;try{return{'modifiedCount':(await this[_0x6ff5bc(0x56d)](_0x50683f)[_0x6ff5bc(0x829)](_0x21ba34,{'$set':_0x22d559})[_0x6ff5bc(0x72e)]())[_0x6ff5bc(0x2e7)]};}catch(_0x18b827){return console[_0x6ff5bc(0x3a8)](_0x6ff5bc(0x8e0),_0x18b827),{'error':_0x18b827};}}async[a0_0x7625da(0x819)](_0x583879,_0x11f763,_0x43e26d){const _0x466db4=a0_0x7625da;try{return await this[_0x466db4(0x56d)](_0x43e26d)['findOneAndUpdate']({'_id':_0x583879},{'$set':_0x11f763},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0x3f1616){return console['error'](_0x3f1616),null;}}async[a0_0x7625da(0x48d)](_0x522813,_0x39eb89){const _0x129a9c=a0_0x7625da;try{return await this[_0x129a9c(0x56d)](_0x39eb89)[_0x129a9c(0x48d)](_0x522813)[_0x129a9c(0x827)]({'lastInteraction':-0x1})['lean']();}catch{return[];}}async[a0_0x7625da(0x715)](_0x4c7fa2,_0x5dfbf7){const _0x12dfc7=a0_0x7625da;try{return await this[_0x12dfc7(0x56d)](_0x5dfbf7)[_0x12dfc7(0x715)]({..._0x4c7fa2[_0x12dfc7(0x68e)]})[_0x12dfc7(0x38c)]();}catch{return null;}}async[a0_0x7625da(0x7a7)](_0x2d6c43){const _0x1a32af=a0_0x7625da;try{return await this[_0x1a32af(0x56d)](_0x2d6c43)[_0x1a32af(0x855)][_0x1a32af(0x5b9)](),{'success':!0x0};}catch(_0x2e3c7b){return console[_0x1a32af(0x3a8)](_0x2e3c7b),{'success':!0x1,'error':_0x2e3c7b};}}},as=class extends x{['getScheduleMessageModelForOwner'](_0x28c819){return ha(_0x28c819);}async[a0_0x7625da(0x7b1)](_0x31ab79,_0x30765b){const _0xcd7ccd=a0_0x7625da;try{let _0x49efb8=this[_0xcd7ccd(0x3c5)](_0x30765b);return await new _0x49efb8(_0x31ab79)[_0xcd7ccd(0x260)]();}catch(_0x2f18b0){return console[_0xcd7ccd(0x3a8)](_0xcd7ccd(0x8e3),_0x2f18b0),null;}}async[a0_0x7625da(0x7be)](_0x25d933,_0x5cbaab){const _0x27dc10=a0_0x7625da;try{return await this[_0x27dc10(0x3c5)](_0x5cbaab)[_0x27dc10(0x3b1)](_0x25d933),{};}catch(_0x27193b){return{'error':_0x27193b?.['toString']()};}}async[a0_0x7625da(0x819)](_0x2e6208,_0x40f5ef,_0x464ab5){const _0x19aeb9=a0_0x7625da;try{return await this['getScheduleMessageModelForOwner'](_0x464ab5)[_0x19aeb9(0x3e3)](_0x2e6208,{'$set':_0x40f5ef},{'new':!0x0})['lean']();}catch(_0x432c49){return console[_0x19aeb9(0x3a8)](_0x19aeb9(0x836),_0x432c49),null;}}async[a0_0x7625da(0x3ea)](_0x20a6d2,_0x1d0a2b,_0x52ca83){const _0xe56e57=a0_0x7625da;try{return await this[_0xe56e57(0x3c5)](_0x52ca83)[_0xe56e57(0x7cf)](_0x20a6d2,_0x1d0a2b,{'new':!0x0})[_0xe56e57(0x38c)]();}catch(_0x37c822){return console[_0xe56e57(0x3a8)](_0xe56e57(0x836),_0x37c822),null;}}async[a0_0x7625da(0x48d)](_0x2e23f2,_0x117472){const _0x1b5db9=a0_0x7625da;try{return await this[_0x1b5db9(0x3c5)](_0x117472)['find'](_0x2e23f2[_0x1b5db9(0x68e)])[_0x1b5db9(0x78c)](_0x2e23f2?.[_0x1b5db9(0x78c)]??0x0)[_0x1b5db9(0x827)]({'when':0x1})[_0x1b5db9(0x38c)]();}catch{return[];}}async['findOne'](_0x4b851e,_0x576b6f){const _0x17e535=a0_0x7625da;try{return await this[_0x17e535(0x3c5)](_0x576b6f)[_0x17e535(0x715)](_0x4b851e[_0x17e535(0x68e)])[_0x17e535(0x827)]({'when':0x1})[_0x17e535(0x38c)]();}catch{return null;}}async[a0_0x7625da(0x34a)](_0x4ac141,_0x458c31){const _0x314ed3=a0_0x7625da;try{return await this[_0x314ed3(0x3c5)](_0x458c31)[_0x314ed3(0x34a)](_0x4ac141)[_0x314ed3(0x38c)]();}catch{return null;}}async['deleteMany'](_0x1bff5d,_0x33a133){const _0x2a6dc7=a0_0x7625da;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x33a133)['deleteMany'](_0x1bff5d))[_0x2a6dc7(0x682)]};}catch(_0x2bd718){return console[_0x2a6dc7(0x3a8)](_0x2a6dc7(0x721),_0x2bd718),{'error':_0x2bd718};}}async[a0_0x7625da(0x7a7)](_0x9d8b4c){const _0x2407a8=a0_0x7625da;try{return await this[_0x2407a8(0x3c5)](_0x9d8b4c)[_0x2407a8(0x855)]['drop'](),{'success':!0x0};}catch(_0x28b2b2){return console[_0x2407a8(0x3a8)](_0x28b2b2),{'success':!0x1,'error':_0x28b2b2};}}},os=class extends x{async[a0_0x7625da(0x4b2)](_0xa07580,_0x5d378b){const _0x435eaf=a0_0x7625da;try{if(this[_0x435eaf(0x681)]['ENABLED']){let _0x3330db=await Ne[_0x435eaf(0x3e3)]({'_id':_0x5d378b},{'$set':_0xa07580},{'new':!0x0});return console[_0x435eaf(0x773)](_0x435eaf(0x7f7),_0x3330db),_0x3330db;}}catch(_0x1e17e9){throw console[_0x435eaf(0x3a8)](_0x435eaf(0x34b),_0x1e17e9),_0x1e17e9;}}async[a0_0x7625da(0x626)](_0x2282d6){const _0x4014c0=a0_0x7625da;try{let _0x5a3535=await Ne[_0x4014c0(0x34a)](_0x2282d6);return _0x5a3535?_0x5a3535[_0x4014c0(0x1e4)]||(_0x5a3535[_0x4014c0(0x1e4)]=[],await _0x5a3535['save']()):(_0x5a3535=new Ne({'_id':_0x2282d6,'autoCompleteMessages':[]}),await _0x5a3535[_0x4014c0(0x260)]()),_0x5a3535;}catch(_0x39c8a0){return _0x39c8a0[_0x4014c0(0x3ae)]===0x2af8&&_0x39c8a0[_0x4014c0(0x8f2)]&&_0x39c8a0[_0x4014c0(0x8f2)][_0x4014c0(0x1ef)]?(console['error'](_0x4014c0(0x3c2)),await Ne[_0x4014c0(0x855)][_0x4014c0(0x220)](_0x4014c0(0x788)),null):(console[_0x4014c0(0x3a8)]('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x39c8a0),null);}}},$r=new R('WA\x20MODULE'),Ar=new We(S),Or=new qt(S),Tr=new ot(S),Ir=new Vt(Zs,S),xr=new Zt(ia,S),Dr=new es(aa,S),_r=new ts(S),Pr=new Gt(S),kr=new ss(S),jr=new as(S),Lr=new os(S),ue=new Ge(Ar,Or,Tr,Ir,xr,Dr,_r,kr,Pr,jr,Lr,$?.[a0_0x7625da(0x259)]()),B=new Ut(ls,S,ue),Fr=new Ht(S,B,ue),Jr=new Qt(B),Ms=new Xt(Jr),A=new Yt(B),ne=new Wt(B,S,ue,ls,Fr),W=new zt(B),_=new Bt(B),q=new Kt(B);$r['info'](a0_0x7625da(0x75a));var Fh=require(a0_0x7625da(0x8ed)),Ps=require('fs'),No=O(require(a0_0x7625da(0x1f8))),Ro=O(require(a0_0x7625da(0x628))),Pe=class c{static #e;static set[a0_0x7625da(0x426)](_0x312f12){this.#e=_0x312f12;}static get[a0_0x7625da(0x1f8)](){const _0x6b2c3b=a0_0x7625da;let {FULLCHAIN:_0x32dfae,PRIVKEY:_0x3db08a}=S[_0x6b2c3b(0x7c4)](_0x6b2c3b(0x8aa));return No[_0x6b2c3b(0x42a)]({'cert':(0x0,Ps[_0x6b2c3b(0x5a3)])(_0x32dfae),'key':(0x0,Ps[_0x6b2c3b(0x5a3)])(_0x3db08a)},c.#e);}static get['http'](){const _0x57db53=a0_0x7625da;return Ro[_0x57db53(0x42a)](c.#e);}},pe=O(require('fs')),xo=O(require(a0_0x7625da(0x354))),ke=O(require(a0_0x7625da(0x775))),Le=O(require(a0_0x7625da(0x26d))),Fe=require(a0_0x7625da(0x8e1));function Ur(){const _0x1a8068=a0_0x7625da;B[_0x1a8068(0x41f)]();let _0x3b044d=Le[_0x1a8068(0x716)][_0x1a8068(0x867)](__dirname,_0x1a8068(0x2ff));Io(_0x3b044d);}var Io=_0x5a2180=>{const _0x1f4406=a0_0x7625da;let _0x31ffdc=pe['default'][_0x1f4406(0x35b)](_0x5a2180),_0x35e71b=0xc*0x3c*0x3c*0x3e8,_0x3ed3b0=0x2*0x3c*0x3c*0x3e8,_0x481ff1=new Date()['getTime']();_0x31ffdc[_0x1f4406(0x886)](_0x2c5895=>{const _0x1c2022=_0x1f4406;let _0xad6d8d=Le[_0x1c2022(0x716)][_0x1c2022(0x867)](_0x5a2180,_0x2c5895),_0x2a7827=pe[_0x1c2022(0x716)][_0x1c2022(0x314)](_0xad6d8d)[_0x1c2022(0x6fe)][_0x1c2022(0x783)]();_0x481ff1-_0x2a7827>_0x35e71b&&(pe['default']['unlinkSync'](_0xad6d8d),console[_0x1c2022(0x773)]('Deleted\x20'+_0x2c5895));}),setTimeout(()=>Io(_0x5a2180),_0x3ed3b0);};function qr(){const _0x26a64f=a0_0x7625da;let _0x2204ce=new R('SERVER'),_0x1e6074=(0x0,he[_0x26a64f(0x716)])();_0x1e6074[_0x26a64f(0x6d9)]((0x0,To[_0x26a64f(0x716)])({'origin'(_0x486f0f,_0x1f572e){const _0x5ca3fe=_0x26a64f;let {ORIGIN:_0x3280c4}=S[_0x5ca3fe(0x7c4)]('CORS');return _0x486f0f||(_0x486f0f='*'),_0x3280c4[_0x5ca3fe(0x24f)]('*')!==-0x1||_0x3280c4['indexOf'](_0x486f0f)!==-0x1?_0x1f572e(null,!0x0):_0x1f572e(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...S[_0x26a64f(0x7c4)](_0x26a64f(0x6a8))[_0x26a64f(0x3be)]],'credentials':S[_0x26a64f(0x7c4)]('CORS')[_0x26a64f(0x362)]}),(0x0,he[_0x26a64f(0x6b6)])({'extended':!0x0,'limit':_0x26a64f(0x4ea)}),(0x0,he[_0x26a64f(0x493)])({'limit':_0x26a64f(0x4ea)})),_0x1e6074[_0x26a64f(0x6d9)]((_0x3c01e5,_0x17e046,_0x3a83e4)=>{const _0x543f74=_0x26a64f;_0x3c01e5[_0x543f74(0x26d)]['startsWith']('/events')?_0x3a83e4():(0x0,Oo[_0x543f74(0x716)])()(_0x3c01e5,_0x17e046,_0x3a83e4);}),_0x1e6074[_0x26a64f(0x7c7)](_0x26a64f(0x73a),_0x26a64f(0x5bd)),_0x1e6074[_0x26a64f(0x7c7)](_0x26a64f(0x8e2),(0x0,js['join'])(ie,_0x26a64f(0x8e2))),_0x1e6074['use'](he[_0x26a64f(0x716)][_0x26a64f(0x7e0)]((0x0,js[_0x26a64f(0x867)])(ie,_0x26a64f(0x65e)))),_0x1e6074['use']((_0x2ea0c6,_0x2a4922,_0x460831)=>{const _0x7b30e7=_0x26a64f;let _0x3f7ae9=_0x2a4922['send'];_0x2a4922[_0x7b30e7(0x65d)]=function(_0x4013f0){const _0x488762=_0x7b30e7;if(_0x2ea0c6[_0x488762(0x7f4)][_0x488762(0x4d0)]==='true'||_0x2ea0c6[_0x488762(0x495)]['uazapi']===_0x488762(0x4ac)){let _0x58c3c4=JSON[_0x488762(0x4ef)](_0x4013f0);_0x4013f0=JSON[_0x488762(0x511)](_0x9a6ea7(_0x58c3c4));}return _0x3f7ae9[_0x488762(0x317)](_0x2a4922,[_0x4013f0]);},_0x460831();}),_0x1e6074[_0x26a64f(0x6d9)]('/',xe),_0x1e6074[_0x26a64f(0x6d9)]((_0x3c1d9f,_0x243753,_0x94f0c7,_0x44a6dc)=>{const _0x128907=_0x26a64f;if(_0x3c1d9f)return _0x94f0c7[_0x128907(0x464)](_0x3c1d9f[_0x128907(0x464)]||0x1f4)[_0x128907(0x493)](_0x3c1d9f);},(_0x174e01,_0x5546c6,_0x9ee6d3)=>{const _0x21a701=_0x26a64f;let {method:_0x5c8619,url:_0x167793}=_0x174e01;_0x5546c6[_0x21a701(0x464)](0x194)[_0x21a701(0x493)]({'status':0x194,'message':_0x21a701(0x76c)+_0x5c8619[_0x21a701(0x3f0)]()+'\x20'+_0x167793,'error':_0x21a701(0x6de)}),_0x9ee6d3();});let _0x9a6ea7=(_0xa2b06e,_0x91a102=_0x26a64f(0x25c))=>{const _0x4be438=_0x26a64f;let _0x2185b2=(_0x4fe3d5,_0x8582eb=null,_0x3a6a9c=!0x1)=>{const _0x510e8b=a0_0x5efa;let _0x1543aa={};return Object[_0x510e8b(0x4f8)](_0x4fe3d5)[_0x510e8b(0x886)](_0x3c8e1f=>{const _0x4e2ad7=_0x510e8b;let _0x44d372=_0x4fe3d5[_0x3c8e1f],_0x4ac9b7=''+_0x91a102+_0x3c8e1f;_0x8582eb&&!_0x3a6a9c&&(_0x4ac9b7=_0x8582eb+'.'+_0x3c8e1f),!_0x44d372&&_0x44d372!==0x0&&_0x44d372!==!0x1||typeof _0x44d372>'u'?_0x1543aa[_0x4ac9b7]=null:typeof _0x44d372!=_0x4e2ad7(0x559)&&!Array['isArray'](_0x44d372)?_0x1543aa[_0x4ac9b7]=_0x44d372:typeof _0x44d372==_0x4e2ad7(0x559)&&!Array[_0x4e2ad7(0x87a)](_0x44d372)?_0x1543aa=Object[_0x4e2ad7(0x1fd)](_0x1543aa,_0x2185b2(_0x44d372,_0x4ac9b7)):Array[_0x4e2ad7(0x87a)](_0x44d372)&&(typeof _0x44d372[0x0]=='object'?(_0x1543aa[_0x4ac9b7]=[],_0x44d372[_0x4e2ad7(0x886)](_0x307d69=>{const _0x3b5e51=_0x4e2ad7;_0x1543aa[_0x4ac9b7][_0x3b5e51(0x566)](_0x2185b2(_0x307d69,_0x4ac9b7,!0x0));})):_0x1543aa[_0x4ac9b7]=_0x44d372);}),_0x1543aa;};return Array[_0x4be438(0x87a)](_0xa2b06e)?_0xa2b06e[_0x4be438(0x1ec)](_0x560c27=>_0x2185b2(_0x560c27)):typeof _0xa2b06e==_0x4be438(0x559)&&_0xa2b06e!==null?_0x2185b2(_0xa2b06e):{};},_0x4db051=S['get'](_0x26a64f(0x8b4));Pe[_0x26a64f(0x426)]=_0x1e6074;let _0x334d38=Pe[_0x4db051['TYPE']],_0x12cdf2=_0x26a64f(0x46c);_0x334d38[_0x26a64f(0x720)](_0x4db051['PORT'],()=>{const _0x3acce4=_0x26a64f;_0x2204ce[_0x3acce4(0x773)](_0x12cdf2),_0x2204ce[_0x3acce4(0x773)](_0x4db051[_0x3acce4(0x666)]['toUpperCase']()+'\x20-\x20ON:\x20'+_0x4db051['PORT']);}),Ur(),zs();}var Vr='https://github.com/uazapi/uazapi.git',Gr=Le[a0_0x7625da(0x716)][a0_0x7625da(0x867)](__dirname,a0_0x7625da(0x2a8)),je=null;function Br(){return new Promise((_0x1712ba,_0x171801)=>{const _0x48c777=a0_0x5efa;pe[_0x48c777(0x716)][_0x48c777(0x8de)](Gr,_0x48c777(0x4db),(_0x558281,_0x16ba83)=>{const _0x3a9947=_0x48c777;if(_0x558281){je=_0x558281,_0x1712ba();return;}xo[_0x3a9947(0x716)][_0x3a9947(0x4ef)](_0x16ba83)['remote\x20\x22origin\x22'][_0x3a9947(0x624)]===Vr?(je=null,_0x1712ba()):(je=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x1712ba());});});}async function Wr(){const _0xcde4b=a0_0x7625da;try{await Br(),await Ls();}catch(_0x1d0e82){console[_0xcde4b(0x3a8)](_0xcde4b(0x3ce)+_0x1d0e82),process[_0xcde4b(0x501)](0x1);}}Wr();async function Do(){const _0x38e939=a0_0x7625da;let _0x307273;try{_0x307273=(await ke[_0x38e939(0x716)]['get'](_0x38e939(0x749)))[_0x38e939(0x39e)]['ip'];}catch(_0x5064da){console[_0x38e939(0x3a8)](_0x5064da);try{_0x307273=(await ke[_0x38e939(0x716)][_0x38e939(0x7c4)]('https://api.ipify.org?format=json'))['data']['ip'];}catch(_0x4c37cc){console['error'](_0x4c37cc);try{_0x307273=(await ke[_0x38e939(0x716)][_0x38e939(0x7c4)](_0x38e939(0x691)))[_0x38e939(0x39e)]['match'](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x9212c){return console['error'](_0x9212c),!0x1;}}}return _0x307273;}var $o=0x0;async function zr(){const _0x4ce5af=a0_0x7625da;let _0xc0e51c=await new ce(S[_0x4ce5af(0x7c4)](_0x4ce5af(0x62c)))['instanceKeys']();return console['log']('instancias:\x20',_0xc0e51c[_0x4ce5af(0x779)]),_0xc0e51c[_0x4ce5af(0x779)];}function Hr(_0x2de445){const _0x32e0d7=a0_0x7625da;let _0x24e326=_0x2de445[_0x32e0d7(0x7c4)](_0x32e0d7(0x8b4))[_0x32e0d7(0x4b7)],_0x9a93d2=_0x2de445[_0x32e0d7(0x7c4)](_0x32e0d7(0x8aa)),_0x314d31;if(_0x24e326){let _0x3d1e73=_0x24e326[_0x32e0d7(0x257)](/\/\/(.*?)\./);_0x3d1e73&&_0x3d1e73[0x1]&&(_0x314d31=_0x3d1e73[0x1]);}if(!_0x314d31&&_0x9a93d2&&_0x9a93d2[_0x32e0d7(0x8c4)]){let _0x1b9260=_0x9a93d2[_0x32e0d7(0x8c4)][_0x32e0d7(0x1e9)]('/'),_0x18ff94=_0x1b9260[_0x1b9260[_0x32e0d7(0x779)]-0x2];if(_0x18ff94){let _0x5ab2b2=_0x18ff94[_0x32e0d7(0x1e9)]('.');_0x5ab2b2[_0x32e0d7(0x779)]>0x2&&(_0x314d31=_0x5ab2b2[0x0]);}}return _0x314d31;}var xs=Hr(S);async function Kr(){const _0x4bb64e=a0_0x7625da;let _0x9a3545=S[_0x4bb64e(0x7c4)](_0x4bb64e(0x62c)),_0x4f3394=S[_0x4bb64e(0x7c4)](_0x4bb64e(0x6a3))[_0x4bb64e(0x7f0)]['KEY'],_0x313462=S[_0x4bb64e(0x7c4)](_0x4bb64e(0x8aa)),_0x58c9c0=await Do(),_0x1d292f=S[_0x4bb64e(0x7c4)]('SERVER')[_0x4bb64e(0x490)],_0x4b6b4f=S[_0x4bb64e(0x7c4)](_0x4bb64e(0x8b4))[_0x4bb64e(0x4b7)];try{let _0x336b08={'ip':_0x58c9c0||null,'redis_enable':_0x9a3545?.[_0x4bb64e(0x7de)]||null,'apikey':_0x4f3394||null,'ssl':_0x313462?.[_0x4bb64e(0x757)]||null,'lastupdate':_o||null,'port':_0x1d292f||null,'gitInstallError':je?.['message']||null,'url':_0x4b6b4f||null};if(console[_0x4bb64e(0x773)]('ip:\x20',_0x336b08['ip']),_0x9a3545&&_0x9a3545[_0x4bb64e(0x7de)]){let _0x4e81e3=await zr();_0x336b08[_0x4bb64e(0x7bf)]=_0x4e81e3||null;}for(let _0x25dc45 in _0x336b08)_0x336b08[_0x4bb64e(0x42c)](_0x25dc45)&&_0x25dc45!=='ip'&&(_0x336b08[_0x25dc45]=JSON['stringify'](_0x336b08[_0x25dc45]));return(await ke[_0x4bb64e(0x716)][_0x4bb64e(0x3da)](_0x4bb64e(0x4cb),_0x336b08))[_0x4bb64e(0x39e)];}catch(_0x36cf0c){return console[_0x4bb64e(0x3a8)](_0x36cf0c),!0x1;}}var ks=!0x1,_o=0x243,Qr=0x3,Ao=0x1b7740;async function Ls(){const _0x591cec=a0_0x7625da;if(!await Do())return console[_0x591cec(0x3a8)]('Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.'),_0x591cec(0x89a);let _0x345605=await Kr();if(_0x345605){if(_0x345605[_0x591cec(0x26f)][_0x591cec(0x2f2)]===!0x0){let _0x73e2de=S[_0x591cec(0x7c4)]('SSL_CONF'),_0x460356=S[_0x591cec(0x7c4)]('SERVER')[_0x591cec(0x4b7)];_0x73e2de&&_0x73e2de?.[_0x591cec(0x757)]?.[_0x591cec(0x80b)](_0x591cec(0x466))&&_0x345605[_0x591cec(0x26f)][_0x591cec(0x462)]&&!_0x460356&&(await Zr(_0x345605[_0x591cec(0x26f)][_0x591cec(0x462)],Xr),await ei(_0x591cec(0x794),_0x345605[_0x591cec(0x26f)]['subdomain']),console['log'](_0x591cec(0x4a1)),setTimeout(()=>si(),0x2710)),je===null&&_0x345605[_0x591cec(0x26f)]['last_update']-_o>0x0&&await Yr(),ks||(ks=!0x0,qr());let _0x44dadf=0x24*0x3c*0x3c,_0x480ae7=_0x345605['response'][_0x591cec(0x6cb)]>_0x44dadf?_0x44dadf:_0x345605[_0x591cec(0x26f)]['segundos'],_0x24255a=Number(_0x480ae7);if(isNaN(_0x24255a)){console[_0x591cec(0x3a8)]('interval\x20não\x20é\x20um\x20número');return;}let _0x164d5a=Math[_0x591cec(0x4e3)](_0x24255a/0xe10),_0x3616b1=Math[_0x591cec(0x4e3)](_0x24255a%0xe10/0x3c),_0x388811=new Date(Date[_0x591cec(0x7cd)]()+_0x24255a*0x3e8);setTimeout(Ls,_0x24255a*0x3e8);let _0x49138b=_0x52cc4b=>_0x52cc4b[_0x591cec(0x455)]()[_0x591cec(0x5b0)](0x2,'0'),_0xa0afd5=_0x591cec(0x302)+_0x49138b(_0x164d5a)+_0x591cec(0x4cf)+_0x49138b(_0x3616b1)+_0x591cec(0x589)+_0x49138b(_0x388811['getHours']())+':'+_0x49138b(_0x388811['getMinutes']())+'.';console[_0x591cec(0x773)](_0xa0afd5);}else return console['log'](_0x591cec(0x5a0)),ks&&(console['log'](_0x591cec(0x3b5)),process[_0x591cec(0x501)]()),_0x591cec(0x6f0);}else{if($o++,$o<Qr)console[_0x591cec(0x773)]('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+Ao/0xea60+_0x591cec(0x231)),setTimeout(Ls,Ao);else return console['error'](_0x591cec(0x300)),'SERVER_OFFLINE';}}async function Yr(){const _0x44019d=a0_0x7625da;console[_0x44019d(0x773)](_0x44019d(0x890));let _0x1cdf1f=(0x0,Fe[_0x44019d(0x4f2)])(_0x44019d(0x2ca),{'shell':!0x0});_0x1cdf1f[_0x44019d(0x84b)]['on'](_0x44019d(0x39e),_0x503286=>{const _0x1e2200=_0x44019d;console['log'](_0x1e2200(0x3b0)+_0x503286);}),_0x1cdf1f['stderr']['on']('data',_0xad0ea3=>{const _0x1395c5=_0x44019d;console[_0x1395c5(0x3a8)](_0x1395c5(0x2c3)+_0xad0ea3);}),_0x1cdf1f['on'](_0x44019d(0x501),_0x198ab6=>{const _0x41b711=_0x44019d;_0x198ab6!==0x0?console[_0x41b711(0x3a8)](_0x41b711(0x754)+_0x198ab6):console['log'](_0x41b711(0x800)),console[_0x41b711(0x773)]('Parando\x20aplicação...'),setTimeout(()=>process[_0x41b711(0x501)](),0x2710);});}var Xr=Le['default']['join'](__dirname,a0_0x7625da(0x5c2));async function Zr(_0x50cb3e,_0x499a84){const _0x45d361=a0_0x7625da;let _0x1f2078=ti();_0x50cb3e=_0x50cb3e[_0x45d361(0x614)](_0x45d361(0x32f),'');try{let _0x2f4f51=pe[_0x45d361(0x716)][_0x45d361(0x5a3)](_0x499a84,_0x45d361(0x6f7));_0x2f4f51=_0x2f4f51[_0x45d361(0x614)](/<apikey>/,_0x1f2078),_0x2f4f51=_0x2f4f51[_0x45d361(0x614)](/<subdomain>/g,_0x50cb3e),pe[_0x45d361(0x716)][_0x45d361(0x574)](_0x499a84,_0x2f4f51,_0x45d361(0x6f7)),console[_0x45d361(0x773)]('Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.');}catch(_0x1ebc95){console[_0x45d361(0x3a8)](_0x45d361(0x64c),_0x1ebc95);}}function ei(_0x3c5132,_0x3e7859){return new Promise((_0x482302,_0x1fd6ab)=>{const _0x1df299=a0_0x5efa;let _0x1c1079=(0x0,Fe[_0x1df299(0x4f2)])(_0x1df299(0x74b),[_0x1df299(0x1eb),_0x1df299(0x631),'-m',_0x3c5132,_0x1df299(0x385),'-d',_0x3e7859]);_0x1c1079[_0x1df299(0x84b)]['on'](_0x1df299(0x39e),_0x173a58=>{const _0x4f9eba=_0x1df299;console[_0x4f9eba(0x773)](_0x4f9eba(0x7ad)+_0x173a58[_0x4f9eba(0x455)]());}),_0x1c1079['stderr']['on'](_0x1df299(0x39e),_0x3bf912=>{const _0x21f301=_0x1df299;console[_0x21f301(0x3a8)]('Erro\x20do\x20Certbot:\x20'+_0x3bf912[_0x21f301(0x455)]());}),_0x1c1079['on'](_0x1df299(0x83b),_0x3fa26d=>{const _0x4a3e5=_0x1df299;_0x3fa26d!==0x0?(console['error']('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x3fa26d),_0x1fd6ab(_0x4a3e5(0x4cc)+_0x3fa26d)):(console[_0x4a3e5(0x773)]('Certbot\x20executado\x20com\x20sucesso.'),_0x482302());});});}function ti(_0x54a9e7=0x32){const _0x2610fa=a0_0x7625da;let _0x10913c=_0x2610fa(0x68b),_0x2c7906='';for(let _0xc96744=0x0;_0xc96744<_0x54a9e7;_0xc96744++)_0x2c7906+=_0x10913c[_0x2610fa(0x53e)](Math['floor'](Math[_0x2610fa(0x304)]()*_0x10913c[_0x2610fa(0x779)]));return _0x2c7906;}function si(){const _0x176771=a0_0x7625da;(0x0,Fe[_0x176771(0x72e)])('shutdown\x20-r\x20now',(_0x56ad00,_0x2c7e95,_0x77ec23)=>{const _0x314220=_0x176771;if(_0x56ad00){console[_0x314220(0x3a8)](_0x314220(0x4a5)+_0x56ad00);return;}if(_0x77ec23){console['error'](_0x314220(0x2ce)+_0x77ec23);return;}console['log'](_0x314220(0x273)+_0x2c7e95);});}0x0&&(module[a0_0x7625da(0x70b)]={'subdomain':subdomain});