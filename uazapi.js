const a0_0xffba68=a0_0xef6d;(function(_0x43ed58,_0x477117){const _0x42073d=a0_0xef6d,_0x167b18=_0x43ed58();while(!![]){try{const _0x5b388e=parseInt(_0x42073d(0x592))/0x1*(-parseInt(_0x42073d(0x4de))/0x2)+-parseInt(_0x42073d(0x3f3))/0x3*(parseInt(_0x42073d(0x1c6))/0x4)+-parseInt(_0x42073d(0x32f))/0x5+-parseInt(_0x42073d(0x466))/0x6+-parseInt(_0x42073d(0x459))/0x7*(-parseInt(_0x42073d(0x24b))/0x8)+-parseInt(_0x42073d(0x4c0))/0x9+-parseInt(_0x42073d(0x3d4))/0xa*(-parseInt(_0x42073d(0x1bb))/0xb);if(_0x5b388e===_0x477117)break;else _0x167b18['push'](_0x167b18['shift']());}catch(_0x965610){_0x167b18['push'](_0x167b18['shift']());}}}(a0_0x2fb5,0xef8a2));var fo=Object[a0_0xffba68(0x64e)],vs=Object[a0_0xffba68(0x4c2)],wo=Object[a0_0xffba68(0x336)],yo=Object[a0_0xffba68(0x349)],bo=Object['getPrototypeOf'],So=Object[a0_0xffba68(0x554)]['hasOwnProperty'],Eo=(_0xd705e8,_0x41e9c5,_0x511724,_0x553704)=>{const _0xbc9e0c=a0_0xffba68;if(_0x41e9c5&&typeof _0x41e9c5==_0xbc9e0c(0x66a)||typeof _0x41e9c5==_0xbc9e0c(0x16b)){for(let _0x462cdf of yo(_0x41e9c5))!So[_0xbc9e0c(0x5d1)](_0xd705e8,_0x462cdf)&&_0x462cdf!==_0x511724&&vs(_0xd705e8,_0x462cdf,{'get':()=>_0x41e9c5[_0x462cdf],'enumerable':!(_0x553704=wo(_0x41e9c5,_0x462cdf))||_0x553704[_0xbc9e0c(0x45f)]});}return _0xd705e8;},T=(_0x546302,_0x18b08e,_0xeea657)=>(_0xeea657=_0x546302!=null?fo(bo(_0x546302)):{},Eo(_0x18b08e||!_0x546302||!_0x546302[a0_0xffba68(0x60e)]?vs(_0xeea657,a0_0xffba68(0x58d),{'value':_0x546302,'enumerable':!0x0}):_0xeea657,_0x546302)),co=T(require(a0_0xffba68(0x32b))),Ns=require('fs'),Ts=require(a0_0xffba68(0x254)),Rs=require(a0_0xffba68(0x242)),_e=require(a0_0xffba68(0x242)),Q=process[a0_0xffba68(0x311)](),V=(0x0,_e[a0_0xffba68(0x226)])(Q,a0_0xffba68(0x4d2)),Cs=(0x0,_e[a0_0xffba68(0x226)])(Q,a0_0xffba68(0x604)),Gt=(0x0,_e[a0_0xffba68(0x226)])(Q,'store',a0_0xffba68(0x4bf)),Ms=require(a0_0xffba68(0x2d6)),Jt=class{constructor(){const _0x36307c=a0_0xffba68;this[_0x36307c(0x436)]();}[a0_0xffba68(0x4e4)](_0x477a82){const _0x5a444f=a0_0xffba68;return this[_0x5a444f(0x570)][_0x477a82];}[a0_0xffba68(0x436)](){const _0x5312a7=a0_0xffba68;this[_0x5312a7(0x570)]=process[_0x5312a7(0x570)]?.[_0x5312a7(0x3be)]!==_0x5312a7(0x678)?this[_0x5312a7(0x601)]():this[_0x5312a7(0x4d4)](),this['env'][_0x5312a7(0x351)]=process[_0x5312a7(0x570)]?.['NODE_ENV']===_0x5312a7(0x26b),process[_0x5312a7(0x570)]?.[_0x5312a7(0x3be)]==='true'&&(this[_0x5312a7(0x570)]['SERVER'][_0x5312a7(0x40a)]=_0x5312a7(0x25b),this['env'][_0x5312a7(0x637)]['PORT']=Number[_0x5312a7(0x6c8)](process[_0x5312a7(0x570)]?.[_0x5312a7(0x5a4)]??'8080'));}[a0_0xffba68(0x601)](){const _0x30d129=a0_0xffba68;return(0x0,Ts[_0x30d129(0x513)])((0x0,Ns['readFileSync'])((0x0,Rs[_0x30d129(0x226)])(Cs,'../env.yml'),{'encoding':_0x30d129(0x323)}));}['envProcess'](){const _0x5c9363=a0_0xffba68;return{'SERVER':{'TYPE':process['env']['SERVER_TYPE'],'PORT':Number[_0x5c9363(0x6c8)](process[_0x5c9363(0x570)][_0x5c9363(0x5a4)])},'CORS':{'ORIGIN':process[_0x5c9363(0x570)]['CORS_ORIGIN']['split'](','),'METHODS':process[_0x5c9363(0x570)][_0x5c9363(0x3a1)][_0x5c9363(0x6b6)](','),'CREDENTIALS':process[_0x5c9363(0x570)]?.['CORS_CREDENTIALS']===_0x5c9363(0x678)},'SSL_CONF':{'PRIVKEY':process[_0x5c9363(0x570)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0x5c9363(0x570)]?.['SSL_CONF_FULLCHAIN']},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process[_0x5c9363(0x570)]?.[_0x5c9363(0x3cf)])?Number[_0x5c9363(0x6c8)](process['env'][_0x5c9363(0x3cf)]):void 0x0,'MESSAGES':process[_0x5c9363(0x570)]?.['STORE_MESSAGE']===_0x5c9363(0x678),'CONTACTS':process[_0x5c9363(0x570)]?.['STORE_CONTACTS']===_0x5c9363(0x678),'CHATS':process['env']?.[_0x5c9363(0x50f)]===_0x5c9363(0x678)},'DATABASE':{'CONNECTION':{'HOST':process['env']?.[_0x5c9363(0x2fd)],'PORT':Number['parseInt'](process[_0x5c9363(0x570)]?.[_0x5c9363(0x2fd)]),'USER':process[_0x5c9363(0x570)]['DATABASE_CONNECTION_USER'],'PASSWORD':process[_0x5c9363(0x570)]['DATABASE_CONNECTION_PASSWORD'],'URI':process['env'][_0x5c9363(0x612)],'DB_PREFIX_NAME':process[_0x5c9363(0x570)][_0x5c9363(0x57e)]},'ENABLED':process[_0x5c9363(0x570)]?.['DATABASE_ENABLED']===_0x5c9363(0x678)},'REDIS':{'ENABLED':process[_0x5c9363(0x570)]?.['REDIS_ENABLED']===_0x5c9363(0x678),'URI':process[_0x5c9363(0x570)][_0x5c9363(0x50b)],'PREFIX_KEY':process[_0x5c9363(0x570)][_0x5c9363(0x3b4)]},'LOG':{'LEVEL':process['env']?.[_0x5c9363(0x2dd)][_0x5c9363(0x6b6)](','),'COLOR':process['env']?.[_0x5c9363(0x662)]==='true'},'DEL_INSTANCE':(0x0,Ms[_0x5c9363(0x603)])(process['env']?.[_0x5c9363(0x5e3)])?process['env'][_0x5c9363(0x5e3)]===_0x5c9363(0x678):Number[_0x5c9363(0x6c8)](process[_0x5c9363(0x570)][_0x5c9363(0x5e3)])||!0x1,'WEBHOOK':{'WEBHOOK_MAP':process['env']['WEBHOOK_MAP']?process['env']['WEBHOOK_MAP']===_0x5c9363(0x678):!0x1,'GLOBAL':{'URL':process[_0x5c9363(0x570)]?.['WEBHOOK_GLOBAL_URL'],'ENABLED':process[_0x5c9363(0x570)]?.[_0x5c9363(0x145)]===_0x5c9363(0x678)},'EVENTS':{'STATUS_INSTANCE':process[_0x5c9363(0x570)]?.[_0x5c9363(0x463)]===_0x5c9363(0x678),'QRCODE_UPDATED':process[_0x5c9363(0x570)]?.[_0x5c9363(0x2eb)]==='true','MESSAGES_SET':process[_0x5c9363(0x570)]?.['WEBHOOK_EVENTS_MESSAGES_SET']===_0x5c9363(0x678),'MESSAGES_UPSERT':process[_0x5c9363(0x570)]?.['WEBHOOK_EVENTS_MESSAGES_UPSERT']==='true','MESSAGES_UPDATE':process[_0x5c9363(0x570)]?.['WEBHOOK_EVENTS_MESSAGES_UPDATE']===_0x5c9363(0x678),'SEND_MESSAGE':process[_0x5c9363(0x570)]?.[_0x5c9363(0x19f)]==='true','CONTACTS_SET':process['env']?.[_0x5c9363(0x428)]==='true','CONTACTS_UPDATE':process[_0x5c9363(0x570)]?.[_0x5c9363(0x352)]===_0x5c9363(0x678),'CONTACTS_UPSERT':process[_0x5c9363(0x570)]?.[_0x5c9363(0x1f6)]==='true','PRESENCE_UPDATE':process[_0x5c9363(0x570)]?.[_0x5c9363(0x2cc)]===_0x5c9363(0x678),'CHATS_SET':process[_0x5c9363(0x570)]?.[_0x5c9363(0x619)]==='true','CHATS_UPDATE':process[_0x5c9363(0x570)]?.[_0x5c9363(0x341)]===_0x5c9363(0x678),'CHATS_UPSERT':process[_0x5c9363(0x570)]?.[_0x5c9363(0x6cd)]===_0x5c9363(0x678),'CHATS_DELETE':process[_0x5c9363(0x570)]?.[_0x5c9363(0x2be)]===_0x5c9363(0x678),'CONNECTION_UPDATE':process[_0x5c9363(0x570)]?.[_0x5c9363(0x444)]===_0x5c9363(0x678),'GROUPS_UPSERT':process[_0x5c9363(0x570)]?.[_0x5c9363(0x3f2)]===_0x5c9363(0x678),'GROUP_UPDATE':process[_0x5c9363(0x570)]?.['WEBHOOK_EVENTS_GROUPS_UPDATE']==='true','GROUP_PARTICIPANTS_UPDATE':process[_0x5c9363(0x570)]?.[_0x5c9363(0x535)]===_0x5c9363(0x678),'NEW_JWT_TOKEN':process['env']?.['WEBHOOK_EVENTS_NEW_JWT_TOKEN']===_0x5c9363(0x678)}},'CONFIG_SESSION_PHONE':{'CLIENT':process[_0x5c9363(0x570)]?.[_0x5c9363(0x335)]||_0x5c9363(0x2a0),'NAME':process[_0x5c9363(0x570)]?.[_0x5c9363(0x6a3)]||_0x5c9363(0x154)},'QRCODE':{'LIMIT':Number[_0x5c9363(0x6c8)](process['env'][_0x5c9363(0x1ad)])||0x5},'TRIAL_AD':process[_0x5c9363(0x570)]?.[_0x5c9363(0x50d)],'TRIAL_INSTANCE_NAME':process[_0x5c9363(0x570)]?.['TRIAL_INSTANCE_NAME'],'AUTHENTICATION':{'TYPE':process[_0x5c9363(0x570)][_0x5c9363(0x2bb)],'API_KEY':{'KEY':process[_0x5c9363(0x570)]['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number[_0x5c9363(0x58e)](process[_0x5c9363(0x570)]?.[_0x5c9363(0x137)])?Number[_0x5c9363(0x6c8)](process[_0x5c9363(0x570)]['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process[_0x5c9363(0x570)][_0x5c9363(0x4d6)]}}};}},E=new Jt(),lo=T(require(a0_0xffba68(0x3d2))),pe=T(require(a0_0xffba68(0x321))),bs=require(a0_0xffba68(0x242)),Wt=T(require('dayjs')),Ht=(_0x3aed1c=>(_0x3aed1c[a0_0xffba68(0x3c3)]='\x1b[32m',_0x3aed1c[a0_0xffba68(0x623)]=a0_0xffba68(0x6d3),_0x3aed1c['WARN']='\x1b[33m',_0x3aed1c[a0_0xffba68(0x5c1)]='\x1b[31m',_0x3aed1c[a0_0xffba68(0x118)]=a0_0xffba68(0x2d2),_0x3aed1c[a0_0xffba68(0x654)]=a0_0xffba68(0x247),_0x3aed1c[a0_0xffba68(0x43a)]=a0_0xffba68(0x5d8),_0x3aed1c))(Ht||{}),As=(_0x216b9d=>(_0x216b9d[a0_0xffba68(0x3c3)]=a0_0xffba68(0x664),_0x216b9d[a0_0xffba68(0x43a)]=a0_0xffba68(0x674),_0x216b9d['INFO']=a0_0xffba68(0x411),_0x216b9d['WARN']=a0_0xffba68(0x3d9),_0x216b9d[a0_0xffba68(0x5c1)]=a0_0xffba68(0x53c),_0x216b9d[a0_0xffba68(0x118)]=a0_0xffba68(0x3ec),_0x216b9d[a0_0xffba68(0x654)]='\x1b[37m%s\x1b[0m',_0x216b9d))(As||{}),Is=(_0x1f4aa4=>(_0x1f4aa4[a0_0xffba68(0x3c3)]=a0_0xffba68(0x3c3),_0x1f4aa4[a0_0xffba68(0x1e1)]=a0_0xffba68(0x1e1),_0x1f4aa4[a0_0xffba68(0x623)]=a0_0xffba68(0x623),_0x1f4aa4[a0_0xffba68(0x43a)]='DARK',_0x1f4aa4[a0_0xffba68(0x5c1)]=a0_0xffba68(0x5c1),_0x1f4aa4[a0_0xffba68(0x118)]=a0_0xffba68(0x118),_0x1f4aa4['VERBOSE']=a0_0xffba68(0x654),_0x1f4aa4))(Is||{}),Ds=(_0x4ceebb=>(_0x4ceebb['LOG']=a0_0xffba68(0x4aa),_0x4ceebb[a0_0xffba68(0x623)]=a0_0xffba68(0x39b),_0x4ceebb[a0_0xffba68(0x1e1)]=a0_0xffba68(0x431),_0x4ceebb[a0_0xffba68(0x43a)]=a0_0xffba68(0x610),_0x4ceebb[a0_0xffba68(0x5c1)]='\x1b[41m',_0x4ceebb[a0_0xffba68(0x118)]='\x1b[46m',_0x4ceebb['VERBOSE']=a0_0xffba68(0x2fc),_0x4ceebb))(Ds||{}),N=class{constructor(_0x4a7169='Logger'){const _0x354b1a=a0_0xffba68;this[_0x354b1a(0x3ff)]=_0x4a7169,this[_0x354b1a(0x1e8)]=E;}['setContext'](_0x10cf46){const _0x4ddaf3=a0_0xffba68;this[_0x4ddaf3(0x3ff)]=_0x10cf46;}[a0_0xffba68(0x683)](_0x1a8b50,_0xdef22a){const _0x3e04e4=a0_0xffba68;let _0x1c34fc=[];this['configService'][_0x3e04e4(0x4e4)]('LOG')[_0x3e04e4(0x1db)][_0x3e04e4(0x6d1)](_0x39a7e4=>_0x1c34fc[_0x3e04e4(0x55d)](Is[_0x39a7e4]));let _0x4141ea=typeof _0x1a8b50;_0x1c34fc[_0x3e04e4(0x6ac)](_0xdef22a)&&(E[_0x3e04e4(0x4e4)](_0x3e04e4(0x3c3))[_0x3e04e4(0x6a4)]?(console[_0x3e04e4(0x550)](_0x3e04e4(0x25e)+As[_0xdef22a],_0x3e04e4(0x57d),(0x0,Wt[_0x3e04e4(0x58d)])()['format']('DD/MM\x20HH:mm:ss'),_0x3e04e4(0x5dc),Ht[_0xdef22a]+Ds[_0xdef22a]+_0x3e04e4(0x25e),_0xdef22a+_0x3e04e4(0x63a),_0x3e04e4(0x4ef),this['context']+_0x3e04e4(0x5dc),Ht[_0xdef22a],_0x4141ea!==_0x3e04e4(0x66a)?_0x1a8b50:'',_0x3e04e4(0x5dc)),_0x4141ea===_0x3e04e4(0x66a)&&console[_0x3e04e4(0x550)](_0x1a8b50,'\x0a')):console[_0x3e04e4(0x550)]((0x0,Wt[_0x3e04e4(0x58d)])()[_0x3e04e4(0x5b8)](_0x3e04e4(0x6de)),_0xdef22a+'\x20',''+this['context'],_0x1a8b50));}[a0_0xffba68(0x550)](_0xdea0d9){const _0x28a57b=a0_0xffba68;this[_0x28a57b(0x683)](_0xdea0d9,'LOG');}[a0_0xffba68(0x1fe)](_0x4a1213){const _0x49abe9=a0_0xffba68;this[_0x49abe9(0x683)](_0x4a1213,_0x49abe9(0x623));}[a0_0xffba68(0x4dd)](_0x9d0c31){const _0x36ec55=a0_0xffba68;this[_0x36ec55(0x683)](_0x9d0c31,_0x36ec55(0x1e1));}[a0_0xffba68(0x1ea)](_0x34034e){const _0xcc44aa=a0_0xffba68;this[_0xcc44aa(0x683)](_0x34034e,'ERROR');}[a0_0xffba68(0x5be)](_0x20d675){const _0x2abb25=a0_0xffba68;this[_0x2abb25(0x683)](_0x20d675,_0x2abb25(0x654));}['debug'](_0x200c37){const _0x5049a6=a0_0xffba68;this[_0x5049a6(0x683)](_0x200c37,'DEBUG');}['dark'](_0x2db81c){const _0x3a2a5c=a0_0xffba68;this['console'](_0x2db81c,_0x3a2a5c(0x43a));}};function _s(){const _0x3a9d73=a0_0xffba68;process['on'](_0x3a9d73(0x46b),(_0x5ba776,_0x757277)=>{const _0x494142=_0x3a9d73;new N(_0x494142(0x46b))[_0x494142(0x1ea)]({'origin':_0x757277,'stderr':process[_0x494142(0x258)]['fd'],'error':_0x5ba776});}),process['on'](_0x3a9d73(0x26e),(_0x2fa56f,_0xb0f828)=>{const _0x3a8e45=_0x3a9d73;new N(_0x3a8e45(0x26e))[_0x3a8e45(0x1ea)]({'origin':_0xb0f828,'stderr':process[_0x3a8e45(0x258)]['fd'],'error':_0x2fa56f});});}var Os=T(require(a0_0xffba68(0x699))),Kt=new Os[(a0_0xffba68(0x58d))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Oe=require('mongoose'),zt=T(require(a0_0xffba68(0x648))),vo=new N(a0_0xffba68(0x4b1)),G=E[a0_0xffba68(0x4e4)](a0_0xffba68(0x3e4)),M=G[a0_0xffba68(0x47f)]?G[a0_0xffba68(0x4e7)][a0_0xffba68(0x512)]?zt[a0_0xffba68(0x58d)][a0_0xffba68(0x3bb)](G[a0_0xffba68(0x4e7)]['URI'],{'dbName':G[a0_0xffba68(0x4e7)][a0_0xffba68(0x6bb)]+a0_0xffba68(0x4b5)}):zt[a0_0xffba68(0x58d)][a0_0xffba68(0x3bb)](a0_0xffba68(0x373)+G[a0_0xffba68(0x4e7)][a0_0xffba68(0x58c)]+':'+G['CONNECTION']['PORT']+'?authSource=admin&readPreference=primary&directConnection=true',{'user':G[a0_0xffba68(0x4e7)]['USER'],'pass':G[a0_0xffba68(0x4e7)][a0_0xffba68(0x614)],'dbName':G[a0_0xffba68(0x4e7)][a0_0xffba68(0x6bb)]+a0_0xffba68(0x4b5)}):null;G[a0_0xffba68(0x47f)]&&vo[a0_0xffba68(0x1fe)](a0_0xffba68(0x67b)+M[a0_0xffba68(0x584)]);var Co=new Oe[(a0_0xffba68(0x4a7))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),No=new Oe['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Co],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),To=new Oe[(a0_0xffba68(0x4a7))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':No,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean}}),Ps=_0x219c75=>{const _0x126948=a0_0xffba68;let _0x4bad34='z_'+_0x219c75+_0x126948(0x5a0);return M?.[_0x126948(0x567)](_0x126948(0x586),To,_0x4bad34);},xs=require(a0_0xffba68(0x648)),Ro=new xs['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),$s=_0x45a835=>{const _0x37c278=a0_0xffba68;let _0x3e417d='z_'+_0x45a835+_0x37c278(0x5e6);return M?.[_0x37c278(0x567)]('ContactModel',Ro,_0x3e417d);},ks=require(a0_0xffba68(0x648)),Mo=new ks[(a0_0xffba68(0x4a7))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String,'minlength':0x3,'enum':['android',a0_0xffba68(0x517),a0_0xffba68(0x501)]},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Ls=_0x5a7a37=>{const _0x1d8879=a0_0xffba68;let _0x5bd545='z_'+_0x5a7a37+_0x1d8879(0x4e6);return M?.['model'](_0x1d8879(0x521),Mo,_0x5bd545);},Us=require('mongoose'),Qt=class{},Ao=new Us['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1}}),Vs=M?.[a0_0xffba68(0x567)](Qt[a0_0xffba68(0x114)],Ao,'authentication'),js=require(a0_0xffba68(0x648)),Yt=class{},Fs=new js[(a0_0xffba68(0x4a7))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Fs[a0_0xffba68(0x231)](a0_0xffba68(0x5ff),function(_0x36f655){const _0x23c80c=a0_0xffba68;delete this[_0x23c80c(0x4f3)],delete this['flowIgnoreGroups'],delete this[_0x23c80c(0x139)],delete this[_0x23c80c(0x30a)],delete this[_0x23c80c(0x479)],_0x36f655();});var Bs=M?.[a0_0xffba68(0x567)](Yt[a0_0xffba68(0x114)],Fs,a0_0xffba68(0x659)),_=require(a0_0xffba68(0x648)),qs=new _[(a0_0xffba68(0x4a7))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Xt=new _[(a0_0xffba68(0x4a7))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Io=new _[(a0_0xffba68(0x4a7))]({'command':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20enquete\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Gs=new _[(a0_0xffba68(0x4a7))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Do=new _[(a0_0xffba68(0x4a7))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),_o=new _[(a0_0xffba68(0x4a7))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Js=new _[(a0_0xffba68(0x4a7))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Io},'apirequest':Do,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),as=new _[(a0_0xffba68(0x4a7))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),Ws=new _['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),Zt=class{},Hs=new _[(a0_0xffba68(0x4a7))]({'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x120de1=a0_0xffba68;return _0x120de1(0x140)+Math[_0x120de1(0x4e5)]()[_0x120de1(0x4d7)](0x24)[_0x120de1(0x1aa)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[as],'variablesNotFound':{'type':[String]},'blocks':[Js],'groups':[qs],'conditions':[Gs],'varedits':[Ws],'replyOptions':{'type':[Xt],'default':[]}});Hs[a0_0xffba68(0x231)](a0_0xffba68(0x5ff),function(_0x2fe2c5){const _0x597fac=a0_0xffba68;let _0x177d2c=new Set(),_0x53a99e=new Set(this[_0x597fac(0x5f3)]?.[_0x597fac(0x326)](_0x4ea948=>_0x4ea948[_0x597fac(0x114)])),_0x58e11a=JSON['stringify'](this),_0x4c806c=/{{(?!_)([^}]*)}}/g,_0x4d9495;for(;(_0x4d9495=_0x4c806c[_0x597fac(0x2ca)](_0x58e11a))!==null;)_0x53a99e[_0x597fac(0x65e)](_0x4d9495[0x1])||_0x177d2c[_0x597fac(0x381)](_0x4d9495[0x1]);_0x177d2c['size']>0x0?(console[_0x597fac(0x4dd)]('Variáveis\x20não\x20encontradas:',Array['from'](_0x177d2c)),this['variablesNotFound']=Array[_0x597fac(0x1ae)](_0x177d2c)):this['variablesNotFound']=[],_0x2fe2c5();});var I=M?.['model'](Zt[a0_0xffba68(0x114)],Hs,a0_0xffba68(0x644)),Oo=new _[(a0_0xffba68(0x4a7))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[as],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[_o]},{'_id':!0x1}),es=class{},Po=new _['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[as],'blocks':[Js],'groups':[qs],'conditions':[Gs],'varedits':[Ws],'replyOptions':{'type':[Xt],'default':[]},'chatLog':Oo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0xffba68(0x5df)},'waitingPoll_id':{'type':String},'waitingPoll_name':{'type':String},'waitingPoll_replyOptions':{'type':[Xt],'default':[]}}),j=M?.[a0_0xffba68(0x567)](es['name'],Po,a0_0xffba68(0x3bd)),ts=class{},xo=new _['Schema']({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),$o=new _[(a0_0xffba68(0x4a7))]({'owner':{'type':String},'status':{'type':String,'default':a0_0xffba68(0x5a9)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':xo,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Object],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),L=M?.[a0_0xffba68(0x567)](ts[a0_0xffba68(0x114)],$o,a0_0xffba68(0x2ba)),ss=class{},ko=new _['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Lo=new _[(a0_0xffba68(0x4a7))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0xffba68(0x534)},'stopMinutes':{'type':Number,'default':0x14}},{'_id':!0x1}),Uo=new _[(a0_0xffba68(0x4a7))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Vo=new _[(a0_0xffba68(0x4a7))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[Uo]},'customFields':{'type':[ko]},'flowConfig':{'type':Lo,'default':{}}}),ae=M?.[a0_0xffba68(0x567)](ss[a0_0xffba68(0x114)],Vo,a0_0xffba68(0x3e0)),ge=require('fs'),os=require(a0_0xffba68(0x242)),W=class{constructor(_0x30e080){const _0x327304=a0_0xffba68;this[_0x327304(0x236)]=(0x0,os[_0x327304(0x226)])(Q,'store'),this[_0x327304(0x3bc)]=_0x1eacee=>{const _0x3a25e9=_0x327304;(0x0,ge[_0x3a25e9(0x257)])(_0x1eacee['path'])||(0x0,ge[_0x3a25e9(0x6b8)])(_0x1eacee[_0x3a25e9(0x242)],{'recursive':!0x0});try{return(0x0,ge[_0x3a25e9(0x4bb)])((0x0,os['join'])(_0x1eacee[_0x3a25e9(0x242)],_0x1eacee[_0x3a25e9(0x3df)]+_0x3a25e9(0x520)),JSON['stringify']({..._0x1eacee['data']}),{'encoding':'utf-8'}),{'message':'create\x20-\x20success'};}finally{_0x1eacee[_0x3a25e9(0x228)]=void 0x0;}},this[_0x327304(0x5cb)]=_0x30e080[_0x327304(0x4e4)]('DATABASE');}[a0_0xffba68(0x5ac)](_0x1bb66c,_0x522658=!0x1){throw new Error('Method\x20not\x20implemented.');}[a0_0xffba68(0x59a)](_0x447e16){const _0xfe7502=a0_0xffba68;throw new Error(_0xfe7502(0x214));}[a0_0xffba68(0x64b)](_0x33a24e,_0x1debe8){const _0x4c7d25=a0_0xffba68;throw new Error(_0x4c7d25(0x214));}},Pe=class{},xe=class extends W{constructor(_0x20ca4b){const _0x506b88=a0_0xffba68;super(_0x20ca4b),this[_0x506b88(0x1e8)]=_0x20ca4b;}['getMessageModelForOwner'](_0x3ff9d5){return Ls(_0x3ff9d5);}async[a0_0xffba68(0x5ac)](_0x288c90){const _0x1c3fcb=a0_0xffba68;if(_0x288c90[_0x1c3fcb(0x26f)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x288c90[0x0]['owner'])[_0x1c3fcb(0x510)]([..._0x288c90]))[_0x1c3fcb(0x26f)]};}catch(_0x4dd03a){return console[_0x1c3fcb(0x550)](_0x1c3fcb(0x6df),_0x4dd03a),_0x4dd03a;}}async[a0_0xffba68(0x59a)](_0x4fb670){const _0x1e2ed3=a0_0xffba68;try{let _0x2d6840=this['getMessageModelForOwner'](_0x4fb670[_0x1e2ed3(0x31c)][_0x1e2ed3(0x1e6)]);if(_0x4fb670?.[_0x1e2ed3(0x31c)]?.[_0x1e2ed3(0x253)]){for(let [_0x2e47,_0x58a605]of Object['entries'](_0x4fb670['where'][_0x1e2ed3(0x253)]))_0x4fb670[_0x1e2ed3(0x31c)]['key.'+_0x2e47]=_0x58a605;delete _0x4fb670?.[_0x1e2ed3(0x31c)]?.[_0x1e2ed3(0x253)];}return await _0x2d6840[_0x1e2ed3(0x59a)]({..._0x4fb670[_0x1e2ed3(0x31c)]})[_0x1e2ed3(0x6c7)]({'messageTimestamp':-0x1})[_0x1e2ed3(0x195)](_0x4fb670?.['limit']??0x0)[_0x1e2ed3(0x665)]();}catch{return[];}}async['delete'](_0x1889bd){const _0x57d02f=a0_0xffba68;try{await this['getMessageModelForOwner'](_0x1889bd['where'][_0x57d02f(0x1e6)])[_0x57d02f(0x5fc)]({..._0x1889bd[_0x57d02f(0x31c)]});}catch(_0xca12f4){console[_0x57d02f(0x1ea)](_0xca12f4);}}async[a0_0xffba68(0x2bd)](_0x515b7d,_0x25b5dc){const _0x1b472a=a0_0xffba68;try{return await this[_0x1b472a(0x19c)](_0x515b7d[_0x1b472a(0x31c)][_0x1b472a(0x1e6)])[_0x1b472a(0x15b)]({..._0x515b7d[_0x1b472a(0x31c)]},{'$set':_0x25b5dc},{'new':!0x0});}catch(_0x2b822c){throw console[_0x1b472a(0x1ea)](_0x2b822c),_0x2b822c;}}async[a0_0xffba68(0x510)](_0x25895f){const _0x501add=a0_0xffba68;if(_0x25895f['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x501add(0x19c)](_0x25895f[0x0][_0x501add(0x1e6)])['insertMany']([..._0x25895f]))[_0x501add(0x26f)]};}catch(_0x2023d5){return console[_0x501add(0x550)](_0x501add(0x6df),_0x2023d5),_0x2023d5;}}async[a0_0xffba68(0x430)](_0x1596f8){const _0x58f292=a0_0xffba68;try{return await this[_0x58f292(0x19c)](_0x1596f8)[_0x58f292(0x11c)][_0x58f292(0x177)](),{'success':!0x0};}catch(_0x5b5022){return console[_0x58f292(0x1ea)](_0x5b5022),{'success':!0x1,'error':_0x5b5022};}}},te=require('fs'),Ya=T(require(a0_0xffba68(0x450))),w=T(require(a0_0xffba68(0x1f5))),Te=require('fs'),$=T(require(a0_0xffba68(0x242))),ne=T(require(a0_0xffba68(0x20b))),Xa=require(a0_0xffba68(0x40d)),Za=T(require(a0_0xffba68(0x426))),eo=T(require(a0_0xffba68(0x13e))),Ks=[a0_0xffba68(0x394),'documentMessage',a0_0xffba68(0x1b4),a0_0xffba68(0x424),a0_0xffba68(0x6d8)],zs=[a0_0xffba68(0x1df),a0_0xffba68(0x4d9),a0_0xffba68(0x49c),a0_0xffba68(0x378)],to=require('os'),Rt=T(require(a0_0xffba68(0x6c2))),Dt=require('child_process'),Mt=require('node-mime-types'),we=T(require('mongoose')),O=require(a0_0xffba68(0x2d6)),me=class{constructor(_0x55bf34,_0x5c51a3,_0x2f2985){const _0x23da72=a0_0xffba68;this['jid']=_0x55bf34,this[_0x23da72(0x14c)]=_0x5c51a3,this['name']=_0x2f2985;}},$e=class{},ke=class{},Se=class{},Le=class{},Ue=class{},he=class{},Ve=class{},je=class{},Fe=class{},Be=class{},Et=T(require(a0_0xffba68(0x321))),Qs=require('fs'),Ys=require(a0_0xffba68(0x242));function a0_0xef6d(_0x108930,_0x29649c){const _0x2fb51e=a0_0x2fb5();return a0_0xef6d=function(_0xef6d93,_0x79091d){_0xef6d93=_0xef6d93-0x111;let _0xf93cb3=_0x2fb51e[_0xef6d93];return _0xf93cb3;},a0_0xef6d(_0x108930,_0x29649c);}async function qe(_0x354ae2){const _0x22a9d5=a0_0xffba68;let _0x197ec4=F[_0x22a9d5(0x5e7)][_0x354ae2];if(G[_0x22a9d5(0x47f)]){let _0x3d3a8a=M[_0x22a9d5(0x4a3)]()['db'](G[_0x22a9d5(0x4e7)][_0x22a9d5(0x6bb)]+_0x22a9d5(0x384))[_0x22a9d5(0x11c)](_0x354ae2);return _0x197ec4||(await _0x3d3a8a[_0x22a9d5(0x59a)]({})['toArray']())[_0x22a9d5(0x26f)]>0x0;}return _0x197ec4||(0x0,Qs[_0x22a9d5(0x257)])((0x0,Ys['join'])(V,_0x354ae2));}async function rs(_0x58a5bb,_0x40bd62,_0x2e2ec6){const _0x4f9448=a0_0xffba68;if(_0x58a5bb[_0x4f9448(0x677)][_0x4f9448(0x6ac)](_0x4f9448(0x3b1))||_0x58a5bb['originalUrl'][_0x4f9448(0x6ac)](_0x4f9448(0x347))||_0x58a5bb[_0x4f9448(0x677)][_0x4f9448(0x6ac)]('/exit'))return _0x2e2ec6();let _0x3309ad=_0x58a5bb['params'];if(!_0x3309ad?.[_0x4f9448(0x1c4)])throw new g(_0x4f9448(0x4e9));if(!await qe(_0x3309ad[_0x4f9448(0x1c4)]))throw new x(_0x4f9448(0x265)+_0x3309ad[_0x4f9448(0x1c4)]+'\x20instance\x20does\x20not\x20exist');_0x2e2ec6();}async function Xs(_0x537ee7,_0x5e7e84,_0x49d97e){const _0x5b1489=a0_0xffba68;if(_0x537ee7[_0x5b1489(0x677)]['includes'](_0x5b1489(0x3b1))){let _0x35166e=_0x537ee7[_0x5b1489(0x5a3)];if(await qe(_0x35166e['instanceName']))throw new oe(_0x5b1489(0x35d)+_0x35166e[_0x5b1489(0x1c4)]+'\x20is\x20already\x20in\x20use.');F['waInstances'][_0x35166e[_0x5b1489(0x1c4)]]&&delete F[_0x5b1489(0x5e7)][_0x35166e['instanceName']];}_0x49d97e();}var Zs=require(a0_0xffba68(0x2d6)),ea=T(require(a0_0xffba68(0x5d6))),Ge='uazapi',Fo=new N('GUARD');async function Bo(_0x130129,_0x599d47,_0x1ee745){const _0x2ce120=a0_0xffba68;let _0x3201b9=_0x130129[_0x2ce120(0x4e4)](_0x2ce120(0x423));if(_0x3201b9&&E['get'](_0x2ce120(0x12c))[_0x2ce120(0x3b5)]['KEY']!==_0x3201b9)throw new re();if(E['get'](_0x2ce120(0x12c))['API_KEY']['KEY']===_0x3201b9)return _0x1ee745();if((_0x130129['originalUrl'][_0x2ce120(0x6ac)](_0x2ce120(0x3b1))||_0x130129[_0x2ce120(0x677)][_0x2ce120(0x6ac)](_0x2ce120(0x347)))&&!_0x3201b9)throw new oe(_0x2ce120(0x3e3),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x51fb3b=E[_0x2ce120(0x4e4)]('AUTHENTICATION')[_0x2ce120(0x5cd)];try{let [_0xc360df,_0xb578e9]=_0x130129[_0x2ce120(0x4e4)](_0x2ce120(0x23d))[_0x2ce120(0x6b6)]('\x20');if(_0xc360df[_0x2ce120(0x62a)]()!==_0x2ce120(0x5ef))throw new re();if(!(0x0,Zs[_0x2ce120(0x2c2)])(_0xb578e9))throw new re();let _0x5a7772=_0x130129[_0x2ce120(0x4f9)],_0x6e3c2b=ea[_0x2ce120(0x58d)]['verify'](_0xb578e9,_0x51fb3b[_0x2ce120(0x2e6)],{'ignoreExpiration':_0x51fb3b[_0x2ce120(0x4fe)]===0x0});if(_0x5a7772['instanceName']!==_0x6e3c2b[_0x2ce120(0x1c4)]||Ge!==_0x6e3c2b[_0x2ce120(0x2b8)])throw new re();return _0x1ee745();}catch(_0x4f541a){throw Fo[_0x2ce120(0x1ea)](_0x4f541a),new re();}}async function qo(_0xea03dc,_0x3b6d92,_0x1bafef){const _0x3cc157=a0_0xffba68;let _0x28e02b=E['get'](_0x3cc157(0x12c))[_0x3cc157(0x3b5)],_0x4a6651=_0xea03dc[_0x3cc157(0x4e4)](_0x3cc157(0x423));if(_0x28e02b[_0x3cc157(0x13c)]===_0x4a6651)return _0x1bafef();if(_0xea03dc[_0x3cc157(0x677)][_0x3cc157(0x6ac)](_0x3cc157(0x3b1))){let _0x32dd75=E[_0x3cc157(0x4e4)](_0x3cc157(0x5e5)),_0x132f0e=_0xea03dc['body']['instanceName'];if(_0x32dd75&&_0x132f0e[_0x3cc157(0x62a)]()[_0x3cc157(0x667)](_0x32dd75['toLowerCase']()))return _0x1bafef();if(!_0x4a6651)throw new oe(_0x3cc157(0x3e3),_0x3cc157(0x493));}if(_0xea03dc[_0x3cc157(0x677)][_0x3cc157(0x6ac)](_0x3cc157(0x347))&&!_0x4a6651)throw new oe(_0x3cc157(0x3e3),_0x3cc157(0x493));if(_0xea03dc[_0x3cc157(0x677)]['includes'](_0x3cc157(0x460))&&!_0x4a6651)throw new oe(_0x3cc157(0x3e3),_0x3cc157(0x493));try{let _0x181e8b=_0xea03dc[_0x3cc157(0x4f9)];if((await ce[_0x3cc157(0x4bf)][_0x3cc157(0x59a)](_0x181e8b[_0x3cc157(0x1c4)]))[_0x3cc157(0x423)]===_0x4a6651)return _0x1bafef();}catch{}throw new re();}function a0_0x2fb5(){const _0x1c4295=['API\x20Key\x20from\x20Request:','./.git/config','DEL_INSTANCE','isBusiness','TRIAL_INSTANCE_NAME','_Contacts','waInstances','listMessage','instanceKeys','flushHeaders','groupHandler','newName','updateProfileStatus','\x20horas\x20e\x20','bearer','getContentType','contentText','\x0aFN:','variables','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','AutomateFunctions','status@broadcast','FlowController','):\x20alterando\x20this.AutomateSystem','less','metadata','dataValidate','deleteMany','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','conversation','save','_error','envYaml','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','isBooleanString','src','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','getMessage','connection.update','groupUpdateSubject','ReplyOption\x20com\x20ID\x20','toFile','/refreshToken','Contacts\x20not\x20found','next_groupId','__esModule','when','\x1b[40m','minutesToClose','DATABASE_CONNECTION_URI','toUpperCase','PASSWORD','lastmsg','leadInfo.desativadoFluxoAte','refreshToken','findParticipants','WEBHOOK_EVENTS_CHATS_SET','@g.us','\x5c$&','updateGParticipant','archive','removeProfilePicture','isURL','editFlow','replaceVariablesChat','delay','INFO','_doc','stopMinutesMaxActives','Subscribed\x20Events:','sendList','address','arraybuffer','toLowerCase','wuid','cleanStore','varedits','replyOption','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','greater','not\x20loaded','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','createServer','findConversation','redisEnv','SERVER','waMonitor','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','\x20\x1b[0m','Flow\x20não\x20encontrado','noConnection','document','assign','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','values','Unauthorized','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','updateAgent','flow','isConnected','shift','):\x20Falha\x20ao\x20deletar\x20mensagem.','mongoose','TEXT','QRCODE_UPDATED','delete','deleteBlock','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','create','Falta\x20informação\x20para\x20a\x20chamada\x20API','/chat','addBlock','reconnectTimestamps','createConversationforgoToFlow','VERBOSE','toBRL','online','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','user','webhook','):\x20expirationTime:\x20','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','close','message','has','contactMessage','Error\x20change\x20group\x20description','PRIVKEY','LOG_COLOR','scheduleMessage','\x1b[32m%s\x1b[0m','lean','):\x20Erro\x20ao\x20iniciar\x20fluxo\x20','startsWith','errors','fetchMessages','object','replaceValue','post','webhookMap','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','privacySettings','getStatus','getScheduleMessage','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','Message','\x1b[30m%s\x1b[0m','phoneNumber','):\x20Going\x20to\x20','originalUrl','true','group-participants.update','WA\x20MODULE','ON\x20-\x20dbName:\x20','/events','errorLog','qrCode',',\x20Minutes\x20to\x20Close:\x20','getDelay','integer','json','console','paused','archived','createFlow','composing','put','getChatModelForOwner','Error\x20removing\x20profile\x20picture','processblock','buttonId','done','match_last_seen','closed','Image\x20path:\x20','boolean','activatedCount','/wa-chats','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','verifiedName','#000000','status','):\x20Editando\x20variável\x20do\x20fluxo...','eventemitter2','):\x20Editando\x20replyOption...','Desconectado,\x20parando\x20execução.','mediaKey','currency','E-mail:\x20','createflow','Primeiro\x20Valor:\x20','isJidGroup','blockId','CONFIG_SESSION_PHONE_NAME','COLOR','allContacts','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','createConversationforStartFlow','buffer','cpf','editFlowBlock','\x20mensagens\x20de\x20','includes','editFlowGroup','urlencoded','getAutomateSystem','EMAIL:','request\x20received\x20in\x20getConversation','https://jsonip.com','localWebhook','resetReconnectionVariables','request\x20received\x20in\x20updateFlowConfig','split','desativadoFluxoAte','mkdirSync','updateFlowConfig','startFlow','DB_PREFIX_NAME','contacts.update','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','sendSticker','request\x20received\x20in\x20scheduleMessage','logger','Instance\x20Key\x20from\x20DB:','pino','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','desc','createInstance','getBase64FromMediaMessage','sort','parseInt','send','apiResponse','unavailable','updateStatusPrivacy','WEBHOOK_EVENTS_CHATS_UPSERT','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','realVariables','Image\x20created','forEach','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','\x1b[34m','):\x20Entrou\x20na\x20função\x20stop','fetchProfile2','truncatedtoEnd','Número:\x20','stickerMessage','g.us','archiveChat','Erro\x20de\x20atualização:\x20','):\x20Editando\x20condição\x20do\x20fluxo...','removed','HH:mm:ss','ERROR:\x20','editFlowCondition','blockLogs','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','OrAnd','abs','):\x20teve\x20mudanças\x20chat.name:\x20','getProfileName','name','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','DEBUG','Variável\x20não\x20encontrada!','URL\x20limpa:\x20','Flow\x20iniciado\x20com\x20','collection','selectableCount','Full\x20file\x20path:','Tanto\x20id\x20quanto\x20owner\x20são\x20necessários\x20para\x20criar\x20ou\x20editar\x20um\x20chat.','nextBlock:','Error\x20in\x20scheduleNextCheck:\x20','removeData','logout','groupLeave','tags','):\x20atualização\x20chat:\x20','editScheduleMessage','width','pt-BR','redis','findFlow','AUTHENTICATION','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','/clients-info','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','success','messagesSend','deleteInstance','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','pollUpdateMessage','findChats','caption','AUTHENTICATION_JWT_EXPIRIN_IN','/automate','flowPrefixCommand','role',',\x20valor\x20passado:\x20\x22','KEY','Output\x20path:\x20','qrcode-terminal','no-cache','!cmd_','tokenId','/instance','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:','messaging-history.set','WEBHOOK_GLOBAL_ENABLED','scheduleSendMedia','getFlow',',\x20fará\x20nova\x20verificação\x20em\x20','buttonsMessage','endSession','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','exists','updateLastSeenPrivacy','match','leaveGroup','everyOne','ids','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','\x20não\x20encontrado','chrome','padStart','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','saveVariable','option','https','sendMedia','findOneAndUpdate','\x0a*Você\x20respondeu*:\x0a','\x22reaction\x22\x20must\x20be\x20an\x20emoji','processConditions','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','chats.upsert','equal','and',',\x20Resultado:\x20','trim','setWebhook','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','msgRetryCounterCache','writeData','padEnd','creation','function','lowerCase','readMessage','revokeInviteCode','Unable\x20to\x20leave\x20the\x20group','updateReadReceiptsPrivacy','Audio\x20converted\x20to\x20mp4','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','available','enabled','\x20-i\x20','drop','lastBlockId','/group','oldToken','fetchBusinessProfile','remoteJidsRemaining','CONTACTS_SET','stateConnection','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','messageSecret','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','profile','updateGParticipate','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','sendContact','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','updateConversation','getConversation','):\x20customFieldVariables','updateParticipant','maxActives','Error\x20updating\x20profile\x20status','Erro\x20inesperado\x20em\x20processvaredits:\x20','):\x20Error\x20processing\x20conditions:\x20','.sendDataWebhook-global','):\x20Editando\x20bloco...','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','badSession','Instance\x20\x22','parse','limit','including\x20timestamp\x20in\x20url:\x20','Error\x20while\x20deleting\x20message\x20for\x20everyone','none','groups.upsert','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','sections','getMessageModelForOwner','participants','replaceVariablesLogs','WEBHOOK_EVENTS_SEND_MESSAGE','):\x20Edit\x20schedule\x20message...','conditions','presence','closeExistingConversations','waitingPoll_replyOptions','/wa-connection-update','.sendDataWebhook-local','NO_IP','SEND_MESSAGE','options','slice','url','):\x20Criou\x20conversa\x20no\x20startFlow:','QRCODE_LIMIT','from','webhookModel','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','\x5cd+','sha256','text/event-stream','audioMessage','The\x20instance\x20is\x20already\x20connected','/wa-qrcode','trimmed','blocks','messages.update','no.connection','4368925HHVkzd','):\x20this.processingScheduleMessageId:\x20','editflowvariable','Instance\x20ID:','isRunning','hDel','https://uazapi-plugin.bubbleapps.io/?url=','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','block','instanceName','title','25784ErrNRX','Data\x20inválida\x20fornecida','):\x20Mensagem\x20já\x20enviada\x20para\x20','audio/mp4','writeFile','evaluateCondition','finish','updatePrivacySettings','restrict','getTime','Authentication\x20error','\x20}\x0a','Instance\x20logged\x20out','DELETED','hex','text','locationMessage','fetchStatus','pollCreationMessage','/wa-message-update','Fluxos\x20não\x20estão\x20ativados','LEVEL','events','media','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','ephemeralMessage','processApiRequest','WARN','ignoreGroups','jid','restart','atendimentoAberto','owner','@broadcast','configService','Media\x20folder\x20does\x20not\x20exist,\x20creating\x20folder...','error','BufferJSON','picture','reorderBlocks','connecting','/webhook','presence.update','opendirSync','some','entries','processUazapi','@whiskeysockets/baileys','WEBHOOK_EVENTS_CONTACTS_UPSERT','Início','subject','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','customFields','sendCommand','remoteJid','Error\x20in\x20markMessageAsRead:','info','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20atualmente\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','scheduleSendAudio','creds.json','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','headerString','redisCache','request\x20received\x20in\x20editFlowvariable','sendButtons','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','updateOnlinePrivacy','saveChatVariables','CONNECTION_UPDATE','axios','stopIfLastReturnedError','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','notify','isJidUser','):\x20transformedCustomFieldVariables','http://checkip.dyndns.org','ini','readMessageBot','Method\x20not\x20implemented.','.TEL;waid=','Mensagem\x20não\x20suportada','licenca','Connection\x20closed\x20for\x20instance:\x20','):\x20Erro\x20ao\x20buscar\x20conversas\x20','}}\x20->\x20\x22','applyvaredit','repeat','buttonText','matchRegex','groupCreate','):\x20teve\x20mudanças\x20chat.archived:\x20','size','sendAudio','stack','):\x20debug\x20alterando\x20this.AutomateSystem','connectionState','join','messages.set','data',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','GROUPS_UPDATE','notas','modifiedCount','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','Revoke\x20error','goNextblock','errno','pre','/*.json','connectionUpdate','updateMany','replaceVariablesInReplyOptions','storePath','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','request\x20received\x20in\x20allFlows','defineAuthState','CONTACTS_UPDATE','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','Conexão\x20estabelecida','authorization','temp-','addReplyOption','updateProfileName','findById','path','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','pollCreationMessageV3','findMessages','^\x5cd+[\x5c.@\x5cw-]+','\x1b[37m','eventEmitter','Error\x20updating\x20setting','toNumber','14465488EsRctI','saveConversationToDatabase','statusCode','splice','uazapiSendText','Erro\x20ao\x20editar\x20agentes:\x20','hostname','audio/ogg','key','js-yaml','editflowvaredit','connectionStatus','existsSync','stderr','ObjectId','):\x20Enviando\x20mídia','http','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','CREDENTIALS','\x1b[1m','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','secondValue','setHeader','all','sleep','Erro\x20de\x20reinicialização:\x20','The\x20','max','instance','messages.upsert','imagechat','condition','PROD','oldValue','restartInstance','unhandledRejection','length','connect','Erro\x20ao\x20buscar\x20conversa:\x20','onWhatsApp','env.yml','groupDesc','pollMessage','REDIS','):\x20Ler\x20mensagem','inviteCode','):\x20conversation.lastInteraction:\x20','string','groupadd','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','messageContextInfo','):\x20Flow\x20não\x20encontrado','leadInfo.customFields','saveTextReply','HeaderType','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','apply','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','CONECTADO\x20À\x20UAZAPI','stanzaId','optionDescription','request\x20received\x20in\x20starFlow','output','makeCacheableSignalKeyStore','#ffffff','whatsappNumber','waitingPoll_id','mentioned','optionName','findGroupInfo','Temp\x20audio\x20created','fetchProfilePicture','certbot\x20certonly\x20--standalone\x20-m\x20','NextBlock','useMultiFileAuthState','out','The\x20property\x20cannot\x20be\x20empty','):\x20newSecondValue\x20após\x20replaceVariables:','backgroundColor','subjectTime','groups_ignore','set','getflow','uazapi','saveMediaToFile','):\x20Flow\x20desativado','latitude','Erro\x20ao\x20editar\x20a\x20conversa:\x20','PREFIX_KEY','updateGroupPicture','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','documentMessage','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','editflowblock','capitalizedWords','ex:\x20\x22groupJid=120362@g.us\x22','Error\x20writing\x20file:\x20','\x22\x20-\x20REMOVED','/wa-message','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','truncatedto','unreadcount','listen','count','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','base64','unreadCount','apiName','findAndReplace','scheduleMessages','AUTHENTICATION_TYPE','bodyString','update','WEBHOOK_EVENTS_CHATS_DELETE','Fetching\x20business\x20profile','READ','deletedCount','isJWT','round','CLIENT','.\x20Pulando.','findByIdAndUpdate','notMatchRegex','buttonMessage','Close\x20connection','exec','Type\x20is\x20required','WEBHOOK_EVENTS_PRESENCE_UPDATE','):\x20Conversa\x20inserida\x20com\x20sucesso.','METHODS','del','Erro\x20ao\x20executar\x20o\x20Certbot:\x20','app','\x1b[36m','getDevice','getMIMEType','Error\x20updating\x20message\x20status:','class-validator','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','Hash\x20to\x20image\x20name:\x20','charAt','editflowgroup','):\x20tem\x20blocks','authModel','LOG_LEVEL','subjectOwner','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','lastMessage','sharp','namespace','demote','):\x20Buscando\x20todos\x20os\x20fluxos...','reconnectAttempts','SECRET','now','release','error_log','CORS','WEBHOOK_EVENTS_QRCODE_UPDATED','buttons','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','prepareMediaMessage','No\x20join\x20group\x20invite\x20code\x20or\x20url','statusJidList','PORT','Erro\x20ao\x20iniciar\x20fluxo:\x20','firstValue','valid','Module\x20-\x20ON','chatHandle','reference','new.jwt','Certbot\x20executado\x20com\x20sucesso:\x20','MESSAGES_SET','):\x20Erro\x20durante\x20a\x20atualização:\x20','\x1b[47m','DATABASE_CONNECTION_HOST','Getting\x20profile\x20info','):\x20Deletando\x20mensagem','footerText','mentions','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','StartBot','delInstanceTime','DELIVERY_ACK','EMAIL','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','):\x20Comando\x20desconhecido:\x20','}}\x20->\x20valor\x20não\x20encontrado','flowStopConversation','interval\x20não\x20é\x20um\x20número','rmSync','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','/media/','editChat','numbers','cwd','createWebhook','editConversation','):\x20Procurando\x20conversa','convertToWebP','WEBHOOK','loggedOut','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','indexOf','test','chatModify','where','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','whatsappNumbers','query','initAuthCreds','express',',\x20qrcodeCount:\x20','utf-8','):\x20Iniciando\x20bot...','uazapiSendMedia','map','findWebhook','Types','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','findGroups','compression','Output\x20audio\x20path:\x20','readData','):\x20','1456240LMkUFV','messages','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','public','endsWith','SERVER_ACK','CONFIG_SESSION_PHONE_CLIENT','getOwnPropertyDescriptor','bulkWrite','varedit','isBase64','description','leadInfo.','findAndReplaceRegex','Temp\x20audio\x20path:\x20','):\x20leadInfoVariables','groupToggleEphemeral','local_map','WEBHOOK_EVENTS_CHATS_UPDATE','Content-Type','getLastMessage','Instância\x20não\x20encontrada.','shutdown\x20-r\x20now','proto','/instance/fetchInstances','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','getOwnPropertyNames','createClient','segundos','empty','goToFlow','font','request\x20received\x20in\x20fetchConversation','processvaredits','PRODUCTION','WEBHOOK_EVENTS_CONTACTS_UPDATE','sendDataWebhook','flowConfig','notEqual','encoding','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','createNewConversation','formatVCard','replaceVariablesInObject','):\x20Ignoring\x20group\x20messages.','convert','This\x20name\x20','):\x20Deletando\x20fluxo...','_id','joinGroup','editflowreply','Temp\x20audio\x20deleted','\x20foi\x20interrompido\x20pelo\x20usuário.','):\x20Entrou\x20na\x20função\x20saveReply','reactionMessage','The\x20\x22','groupAcceptInvite','render','hSet','editFlowReply','CHATS_UPDATE','Invalid\x20format','authState','Getting\x20profile\x20with\x20jid:\x20','CHATS_SET','messageId','Image\x20is\x20url','request\x20received\x20in\x20createFlow','mongodb://','convertedOptions','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','flattenObject','Bad\x20Request','viewOnceMessageV2','isLong','Connection','.webp','error\x20get\x20vote','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','write','inner','processConditionsTest','add',',\x20resultado:\x20','lastSendMessage','-instances','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','value','groupId','command','fileLength','groupInviteCode','fullName','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','@redis/client','deleteMessage','instance.','Já\x20existe\x20fluxo\x20com\x20esse\x20nome','CONFIG_SESSION_PHONE','sendLocation','getBusinessProfile','imageMessage','pushName','Font\x20is\x20required','reviver','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','website','linkPreview','\x1b[44m','replaceVariables','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','CHATS_UPSERT','editedMessage','CORS_METHODS','express-async-errors','node-cache','mongodb','GROUPS_UPSERT','groupMetadata','vcard','allFlows','Processing\x20audio','binary','contact_blacklist','static','stopMinutes','Error\x20change\x20group\x20name','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','readdirSync','/instance/create','getAllData','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','REDIS_PREFIX_KEY','API_KEY','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','Deletion\x20failed','gifPlayback','eventHandler','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','createConnection','writeStore','flowConversation','DOCKER_ENV','upsertChats','groupJid','selectedOptions','messageTimestamp','LOG','):\x20newFirstValue\x20após\x20replaceVariables:','filter','fetchProfile','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20áudio:','order','groups.update','CHATS_DELETE','Type\x20not\x20found','process','spawn','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','STORE_CLEANING_TERMINAL','uazapiSendPoll','Error\x20update\x20group\x20picture','cors','\x20inseridas\x20no\x20banco\x20de\x20dados...','100BXkeFo','instanceInfo','Error\x20fetching\x20and\x20updating\x20profile:\x20','dbServer','remove','\x1b[33m%s\x1b[0m','/create','PLAYED','https://','contextInfo','end','fileName','AutomateSystem','protocolMessage','Trying\x20to\x20get\x20business\x20profile','Missing\x20global\x20api\x20key','DATABASE','SendScheduleMessage','waitingPoll_name','newStoppedUntil','creds.update','Forbidden','):\x20Buscando\x20flow...','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','\x1b[36m%s\x1b[0m','profilePictureUrl','normalizeMessage','MESSAGES_UPDATE','moreLogs','urlOrBase64','WEBHOOK_EVENTS_GROUPS_UPSERT','573qKlFsV','.png','MAX_RECONNECT_ATTEMPTS','stopped','Error\x20updating\x20profile\x20name','audio','app-state-sync-key','statusMessage','remote\x20\x22origin\x22','groupUpdateDescription','):\x20Editando\x20grupo\x20do\x20fluxo...','use','context','fetchProfilePictureUrl','waUploadToServer','fromObject','):\x20isVote','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','readreceipts','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20',',\x20Comparador:\x20','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','TYPE','image','):\x20Conversas\x20encontradas:','uuid','):\x20Erro\x20ao\x20criar\x20fluxo\x20','delAll','fetchContacts','\x1b[34m%s\x1b[0m','URL','scheduleSendText','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','number','Error\x20updating\x20participants','\x22\x20cannot\x20be\x20empty','_p_','leadInfo','getRandomText','):\x20lastBlockId:\x20','group\x20ignored','fetchPrivacySettings','participant','replaceOne','updateReplyOption','loadInstance','convertaudio','apikey','videoMessage','quotedMessage','qrcode','Fluxo\x20não\x20encontrado','WEBHOOK_EVENTS_CONTACTS_SET','50mb','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','upperCase','pollErrorMessage','dbClient','processgoToFlow','):\x20Conversa\x20atualizada\x20em\x20memória','deleteAll','\x1b[43m','deleteDoneMessages','downloads','.jwt','recording','loadEnv','chatLog','sticker','\x20não\x20encontrado\x20para\x20atualização.','DARK','mimetype','readFileSync','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','status.instance','fromMe','contact','Flow\x20already\x20exists','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','emit','WEBHOOK_EVENTS_CONNECTION_UPDATE','sendWhatsAppAudio','findGroup','mediaSticker','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','):\x20Enviando\x20texto','messageHandle','floor','Invalid\x20\x22oldToken\x22','SSL_CONF','vote','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','@ffmpeg-installer/ffmpeg','joinGroupValidate','headers','longitude','groups','.ogg','):\x20updateResult:','getContactModelForOwner','\x20minutos','7czwQAB','g-t','.mp4','chats','env.KEY\x20!==\x20key','editFlowVaredit','enumerable','/exit','Erro\x20do\x20Certbot:\x20','Audio\x20processed','WEBHOOK_EVENTS_STATUS_INSTANCE','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','notContains','985362NECKIr','announce',',\x20saindo.','setting','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','uncaughtException','decryptPollVote','findGroupInfos','https://chat.whatsapp.com/','syscall','PENDING','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','updateStopChat','Valor\x20inicial:\x20\x22','chat','textMessage','array','lastSend','formatBRNumber','flowStopMinutes','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','editOperator','created','fone','hGetAll','ENABLED','jpegThumbnail','exit','Converting\x20audio\x20to\x20mp4','connectionClosed','ORG:','delaySecMax','remove.instance','Log\x20out\x20instance:\x20','MESSAGES_UPSERT','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','\x0a{\x20instance:\x20','view\x20engine','Read\x20messages','\x20minutos\x20verificará\x20novas\x20mensagens','ButtonsMessage','NEW_JWT_TOKEN','routerPath','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','variablesToObject','The\x20global\x20api\x20key\x20must\x20be\x20set','not_announcement','updateProfilePicturePrivacy','remoteJids','contacts.upsert','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','chats.delete','groupValidate','jsonschema','viewOnceMessage','statSync','TEL','client','apirequest','Image\x20is\x20base64','PRESENCE_UPDATE','getClient','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','Erro\x20ao\x20buscar\x20conversas:\x20','*\x0a\x0a','Schema','prefixCommand','pollCreationMessageKey','\x1b[42m','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','last_update','replace','<subdomain>','Operador:\x20\x22','router','Db\x20Connection','sem\x20texto\x20na\x20mensagem','nome','Bloco\x20com\x20ID\x20','-whatsapp-api','stdout','validate','type','FULLCHAIN','request\x20received\x20in\x20editFlow','writeFileSync','Validate','No\x20participants','EVENTS','auth','16893909OkgHMn','delInstanceFiles','defineProperty','updateMessage','arrayUnique','request\x20received\x20in\x20deleteConversation','updateChatWithMessage','pop','removeInstance','evaluateConditionTest','contacts','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','STATUS_INSTANCE','Message\x20not\x20found','Router','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','isDirectory','state','instances','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','envProcess','loadWebhook','AUTHENTICATION_JWT_SECRET','toString','processPollUpdateMessage','documentWithCaptionMessage','createGroup','request\x20received\x20in\x20updateAgent','):\x20Enviando\x20áudio','warn','2RzVQAA','stringify','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','CLEANING_INTERVAL','request\x20received\x20in\x20getFlow','agents','get','random','_Messages','CONNECTION','displayName','instanceName\x20not\x20provided.','dbInstance','delaySecMin','\x20contacts','delayMessage','processingScheduleMessageId','\x1b[33m\x1b[1m','API\x20Key\x20inválida.','\x20minutos.\x20Será\x20às\x20','content','flowActive','extractRegex','Getting\x20audio\x20from\x20url','Erro\x20ao\x20atualizar\x20conversa:\x20','response','updateProfilePicture','params','\x20chats\x20de\x20','hasOwnProperty','Erro:','jwt','EXPIRIN_IN','webhookService','):\x20Error\x20processing\x20the\x20block:\x20','ios','replyOptions','Image\x20converted\x20to\x20WebP','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','Parando\x20aplicação...','Converted\x20image\x20deleted','request\x20received\x20in\x20editFlowcondition','start','redirect','deleteFlow','REDIS_URI','sendStatus','TRIAL_AD','uazapiSendAudio','STORE_CHATS','insertMany','Não\x20respondeu\x20com\x20a\x20enquete.','URI','load','responsavelid','readMessages','promote','web','createJid','qrcode.updated','verify','):\x20Query\x20params:','):\x20Enviando\x20localização','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','\x20-\x20ON:\x20','isArray','.json','MessageModel','flowname:\x20','reaction','code','Conversa\x20deletada\x20com\x20sucesso.','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','Instance\x20deleted','DisconnectReason','mediaMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','poll_id','creds','profilePicture','dropCollection','generateHash','Atualização:\x20','sendMessageWithTyping','toLocaleString','contactname','!stop','WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE','replacer',',\x20Expiration\x20Time:\x20','Error\x20creating\x20group','Content\x20is\x20required','child_process','getHours','\x1b[31m%s\x1b[0m','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','\x20segundos','):\x20Entrou\x20na\x20função\x20goToFlow','RECONNECT_TIME_FRAME','header','unlinkSync','sendReaction','Initial\x20__dirname:','deleteMessageForEveryone','expiration','variable','LICENSE_INVALID','groupSetting','generateWAMessageFromContent','expression','scheduleNextCheck','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','fetchChats','SUCCESS','log','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','audioWhatsapp','WEBHOOK_MAP','prototype','group','action','locked','?timestamp=','request\x20body:\x20','editFlowVariable','Button\x20IDs\x20cannot\x20be\x20repeated.','):\x20Limpando\x20AutomateSystem','push','request\x20received\x20in\x20updateCustomFields','CONTACTS_UPSERT','formatStatusMessage','deleteConversation','cleaningUp','userDevicesCache','pollOnReplyDelete','quoted','):\x20teve\x20mudanças\x20chat.displayName:\x20','model','The\x20instance\x20needs\x20to\x20be\x20disconnected','\x22,\x20valor\x20a\x20substituir:\x20\x22','mediatype','senderKeyDistributionMessage','subdomain','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','):\x20Erro\x20ao\x20editar\x20agentes:\x20','video','env','stopConversation','fetchConversation','utf8','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','Group\x20not\x20found','BRL','updateOne','addresss','/wa-contacts','lastReceivedMessage','sendPresenceUpdate','END:VCARD','\x1b[1m\x1b[37m','DATABASE_CONNECTION_DB_PREFIX_NAME','markMessageAsRead','uazapiSendContact','sendMessage',',\x20Segundo\x20Valor:\x20','sendPoll','$dbName','request\x20received\x20in\x20deleteDoneMessages','ChatModel','throwAndLogError','data:\x20','Internal\x20Server\x20Error','Hash\x20to\x20audio\x20name:\x20','collections','HOST','default','isInteger','notEmpty','findOne','organization','1235020EkJAVY','Reinicialização\x20iniciada:\x20','não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','pollCreationMessageV2','Telefone:\x20','repository','keys','):\x20Enviando\x20enquete','find','last','updateBlock','GROUP_PARTICIPANTS_UPDATE','birthtime','waMonit','_Chats','substring','Error\x20fetching\x20group','body','SERVER_PORT','toggleEphemeral','getVariablesChat','GLOBAL','/wa-groups','scheduled','onTime','Instância:\x20','insert','AppStateSyncKeyData','SERVER_OFFLINE','preview','conversationTimestamp','lastInteraction','*Pergunta*:\x20\x0a','):\x20delete\x20=\x20true','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','updatePresence','groupFetchAllParticipating','):\x20Criando\x20nova\x20conversa','format','https://github.com/uazapi/uazapi.git','updateCustomFields','findIndex','uazapiSendLocation','toDataURL','verbose','connectToWhatsapp','refused','ERROR','poll','getMinutes','hGet','fetchInstances','execSync','nomecompleto','groupName','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','updateMediaMessage','dbSettings','chats.update','JWT','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','\x20saindo\x20da\x20função','contactHandle','call','ip:\x20','@s.whatsapp.net','groupParticipantsUpdate','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','jsonwebtoken','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','\x1b[30m','/events/:instance','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','lastCondition','\x1b[0m','contains','email','open','Erro\x20ao\x20editar\x20o\x20chat:\x20'];a0_0x2fb5=function(){return _0x1c4295;};return a0_0x2fb5();}var ta={'jwt':Bo,'apikey':qo},$a=require('express'),v=require('uuid'),S=(..._0x1efd02)=>{const _0x312c30=a0_0xffba68;let _0x4f9ef8={};return _0x1efd02[_0x312c30(0x6d1)](_0x1a47f3=>_0x4f9ef8[_0x1a47f3]={'minLength':0x1,'description':_0x312c30(0x366)+_0x1a47f3+_0x312c30(0x417)}),{'if':{'propertyNames':{'enum':[..._0x1efd02]}},'then':{'properties':_0x4f9ef8}};},C={'$id':(0x0,v['v4'])(),'type':a0_0xffba68(0x66a),'properties':{'instanceName':{'type':a0_0xffba68(0x27a)}},...S(a0_0xffba68(0x1c4))},sa={'$id':(0x0,v['v4'])(),'type':a0_0xffba68(0x66a),'properties':{'oldToken':{'type':a0_0xffba68(0x27a)}},'required':[a0_0xffba68(0x17a)],...S('oldToken')},un={'properties':{'key':{'type':a0_0xffba68(0x66a),'properties':{'id':{'type':a0_0xffba68(0x27a)},'remoteJid':{'type':a0_0xffba68(0x27a)},'fromMe':{'type':a0_0xffba68(0x691),'enum':[!0x0,!0x1]}},'required':['id',a0_0xffba68(0x1fc),a0_0xffba68(0x43f)],...S('id',a0_0xffba68(0x1fc))},'message':{'type':a0_0xffba68(0x66a)}}},Y={'properties':{'delay':{'type':a0_0xffba68(0x681),'description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':a0_0xffba68(0x27a),'enum':[a0_0xffba68(0x6cb),a0_0xffba68(0x174),a0_0xffba68(0x687),a0_0xffba68(0x435),a0_0xffba68(0x684)]}}},X={'type':a0_0xffba68(0x27a),'pattern':a0_0xffba68(0x246),'description':a0_0xffba68(0x36c)},aa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...X},'options':{...Y},'textMessage':{'type':a0_0xffba68(0x66a),'properties':{'text':{'type':a0_0xffba68(0x27a)}},'required':[a0_0xffba68(0x1d5)],...S('text')}},'required':[a0_0xffba68(0x475),'number']},oa={'type':'string','pattern':a0_0xffba68(0x42a),'description':a0_0xffba68(0x36c)},dn={'$id':(0x0,v['v4'])(),'type':a0_0xffba68(0x66a),'properties':{'number':{...oa},'options':{...Y},'textMessage':{'type':a0_0xffba68(0x66a),'properties':{'text':{'type':'string'}},'required':[a0_0xffba68(0x1d5)],...S(a0_0xffba68(0x1d5))}},'required':[a0_0xffba68(0x475),a0_0xffba68(0x415)]},pn={'$id':(0x0,v['v4'])(),'type':a0_0xffba68(0x66a),'properties':{'number':{...oa},'options':{...Y},'mediaMessage':{'type':a0_0xffba68(0x66a),'properties':{'mediatype':{'type':a0_0xffba68(0x27a),'enum':['image',a0_0xffba68(0x63d),a0_0xffba68(0x56f),a0_0xffba68(0x3f8)]},'media':{'type':a0_0xffba68(0x27a)},'fileName':{'type':a0_0xffba68(0x27a)},'caption':{'type':a0_0xffba68(0x27a)}},'required':[a0_0xffba68(0x56a),'media'],...S(a0_0xffba68(0x3df),a0_0xffba68(0x136),'media')}},'required':[a0_0xffba68(0x529),a0_0xffba68(0x415)]},ra={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...X},'options':{...Y},'stickerMessage':{'type':a0_0xffba68(0x66a),'properties':{'image':{'type':a0_0xffba68(0x27a)}},'required':['image'],...S(a0_0xffba68(0x40b))}},'required':['stickerMessage',a0_0xffba68(0x415)]},ia={'$id':(0x0,v['v4'])(),'type':a0_0xffba68(0x66a),'properties':{'statusMessage':{'type':'object','properties':{'type':{'type':'string','enum':[a0_0xffba68(0x1d5),a0_0xffba68(0x40b),'audio',a0_0xffba68(0x56f)]},'content':{'type':a0_0xffba68(0x27a)},'caption':{'type':a0_0xffba68(0x27a)},'backgroundColor':{'type':'string'},'font':{'type':'integer','minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0xffba68(0x476),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':'^\x5cd+','description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0xffba68(0x691),'enum':[!0x0,!0x1]}},'required':[a0_0xffba68(0x4b8),a0_0xffba68(0x4f2)],...S(a0_0xffba68(0x4b8),a0_0xffba68(0x4f2))}},'required':[a0_0xffba68(0x3fa)]},na={'$id':(0x0,v['v4'])(),'type':a0_0xffba68(0x66a),'properties':{'number':{...X},'options':{...Y},'mediaMessage':{'type':a0_0xffba68(0x66a),'properties':{'mediatype':{'type':a0_0xffba68(0x27a),'enum':[a0_0xffba68(0x40b),a0_0xffba68(0x63d),a0_0xffba68(0x56f),a0_0xffba68(0x3f8)]},'media':{'type':a0_0xffba68(0x27a)},'fileName':{'type':a0_0xffba68(0x27a)},'caption':{'type':a0_0xffba68(0x27a)}},'required':['mediatype',a0_0xffba68(0x1dd)],...S(a0_0xffba68(0x3df),a0_0xffba68(0x136),a0_0xffba68(0x1dd))}},'required':[a0_0xffba68(0x529),a0_0xffba68(0x415)]},ca={'$id':(0x0,v['v4'])(),'type':a0_0xffba68(0x66a),'properties':{'number':{...X},'options':{...Y},'audioMessage':{'type':a0_0xffba68(0x66a),'properties':{'audio':{'type':'string'}},'required':[a0_0xffba68(0x3f8)],...S(a0_0xffba68(0x3f8))}},'required':['audioMessage',a0_0xffba68(0x415)]},la={'$id':(0x0,v['v4'])(),'type':a0_0xffba68(0x66a),'properties':{'number':{...X},'pollMessage':{'type':'object','properties':{'name':{'type':a0_0xffba68(0x27a)},'selectableCount':{'type':a0_0xffba68(0x415)},'values':{'type':a0_0xffba68(0x476),'minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0xffba68(0x11d),a0_0xffba68(0x640)],...S('name',a0_0xffba68(0x11d),a0_0xffba68(0x640))}},'required':['number',a0_0xffba68(0x275)]},ua={'$id':(0x0,v['v4'])(),'type':a0_0xffba68(0x66a),'properties':{'number':{...X},'options':{...Y},'buttonMessage':{'type':a0_0xffba68(0x66a),'properties':{'title':{'type':a0_0xffba68(0x27a)},'description':{'type':a0_0xffba68(0x27a)},'footerText':{'type':a0_0xffba68(0x27a)},'buttons':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xffba68(0x66a),'properties':{'buttonText':{'type':'string'},'buttonId':{'type':'string'}},'required':[a0_0xffba68(0x21d),'buttonId'],...S(a0_0xffba68(0x21d),a0_0xffba68(0x68c))}},'mediaMessage':{'type':a0_0xffba68(0x66a),'properties':{'media':{'type':a0_0xffba68(0x27a)},'fileName':{'type':a0_0xffba68(0x27a)},'mediatype':{'type':a0_0xffba68(0x27a),'enum':[a0_0xffba68(0x40b),'document',a0_0xffba68(0x56f)]}},'required':[a0_0xffba68(0x1dd),a0_0xffba68(0x56a)],...S(a0_0xffba68(0x1dd),a0_0xffba68(0x3df))}},'required':[a0_0xffba68(0x1c5),a0_0xffba68(0x2ec)],...S(a0_0xffba68(0x1c5),a0_0xffba68(0x33a))}},'required':['number','buttonMessage']},da={'$id':(0x0,v['v4'])(),'type':a0_0xffba68(0x66a),'properties':{'number':{...X},'options':{...Y},'locationMessage':{'type':a0_0xffba68(0x66a),'properties':{'latitude':{'type':a0_0xffba68(0x415)},'longitude':{'type':'number'},'name':{'type':'string'},'address':{'type':a0_0xffba68(0x27a)}},'required':[a0_0xffba68(0x2a3),a0_0xffba68(0x453)],...S(a0_0xffba68(0x114),a0_0xffba68(0x578))}},'required':[a0_0xffba68(0x415),a0_0xffba68(0x1d6)]},pa={'$id':(0x0,v['v4'])(),'type':a0_0xffba68(0x66a),'properties':{'number':{...X},'options':{...Y},'listMessage':{'type':'object','properties':{'title':{'type':a0_0xffba68(0x27a)},'description':{'type':a0_0xffba68(0x27a)},'footerText':{'type':a0_0xffba68(0x27a)},'buttonText':{'type':'string'},'sections':{'type':a0_0xffba68(0x476),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xffba68(0x66a),'properties':{'title':{'type':a0_0xffba68(0x27a)},'rows':{'type':a0_0xffba68(0x476),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xffba68(0x66a),'properties':{'title':{'type':a0_0xffba68(0x27a)},'description':{'type':'string'},'rowId':{'type':a0_0xffba68(0x27a)}},'required':[a0_0xffba68(0x1c5),a0_0xffba68(0x33a),'rowId'],...S(a0_0xffba68(0x1c5),a0_0xffba68(0x33a),'rowId')}}},'required':[a0_0xffba68(0x1c5),'rows'],...S(a0_0xffba68(0x1c5))}}},'required':[a0_0xffba68(0x1c5),'description',a0_0xffba68(0x21d),'sections'],...S('title','description',a0_0xffba68(0x21d),a0_0xffba68(0x300))}},'required':[a0_0xffba68(0x415),'listMessage']},ga={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...X},'options':{...Y},'contactMessage':{'type':a0_0xffba68(0x476),'items':{'type':a0_0xffba68(0x66a),'properties':{'fullName':{'type':a0_0xffba68(0x27a)},'phoneNumber':{'type':a0_0xffba68(0x27a),'minLength':0xa}},'required':[a0_0xffba68(0x38b),'phoneNumber'],...S(a0_0xffba68(0x38b))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0xffba68(0x415),a0_0xffba68(0x65f)]},ma={'$id':(0x0,v['v4'])(),'type':a0_0xffba68(0x66a),'properties':{'reactionMessage':{'type':a0_0xffba68(0x66a),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0xffba68(0x27a)},'remoteJid':{'type':a0_0xffba68(0x27a)},'fromMe':{'type':a0_0xffba68(0x691),'enum':[!0x0,!0x1]}},'required':['id',a0_0xffba68(0x1fc),'fromMe'],...S('id',a0_0xffba68(0x1fc))},'reaction':{'type':a0_0xffba68(0x27a)}},'required':[a0_0xffba68(0x253),a0_0xffba68(0x523)],...S(a0_0xffba68(0x523))}},'required':[a0_0xffba68(0x365)]},ha={'$id':(0x0,v['v4'])(),'type':a0_0xffba68(0x66a),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xffba68(0x27a),'pattern':'^\x5cd+','description':a0_0xffba68(0x4ab)}}}},fa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0xffba68(0x476),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0xffba68(0x691),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'}},'required':['id',a0_0xffba68(0x43f),a0_0xffba68(0x1fc)],...S('id',a0_0xffba68(0x1fc))}}},'required':[a0_0xffba68(0x515)]},wa={'$id':(0x0,v['v4'])(),'type':a0_0xffba68(0x66a),'properties':{'privacySettings':{'type':a0_0xffba68(0x66a),'properties':{'readreceipts':{'type':'string','enum':[a0_0xffba68(0x262),a0_0xffba68(0x198)]},'profile':{'type':a0_0xffba68(0x27a),'enum':[a0_0xffba68(0x262),a0_0xffba68(0x4ca),'contact_blacklist',a0_0xffba68(0x198)]},'status':{'type':a0_0xffba68(0x27a),'enum':['all',a0_0xffba68(0x4ca),a0_0xffba68(0x3ab),'none']},'online':{'type':a0_0xffba68(0x27a),'enum':[a0_0xffba68(0x262),a0_0xffba68(0x68e)]},'last':{'type':a0_0xffba68(0x27a),'enum':[a0_0xffba68(0x262),a0_0xffba68(0x4ca),a0_0xffba68(0x3ab),a0_0xffba68(0x198)]},'groupadd':{'type':'string','enum':['all',a0_0xffba68(0x4ca),a0_0xffba68(0x3ab),a0_0xffba68(0x198)]}},'required':[a0_0xffba68(0x405),a0_0xffba68(0x182),a0_0xffba68(0x697),a0_0xffba68(0x656),a0_0xffba68(0x59b),a0_0xffba68(0x27b)],...S(a0_0xffba68(0x405),'profile',a0_0xffba68(0x697),a0_0xffba68(0x656),a0_0xffba68(0x59b),'groupadd')}},'required':[a0_0xffba68(0x66f)]},ya={'$id':(0x0,v['v4'])(),'type':a0_0xffba68(0x66a),'properties':{'lastMessage':{'type':a0_0xffba68(0x66a),'properties':{'key':{'type':'object','properties':{'id':{'type':'string'},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0xffba68(0x691),'enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0xffba68(0x1fc)],...S('id',a0_0xffba68(0x1fc))},'messageTimestamp':{'type':a0_0xffba68(0x681),'minLength':0x1}},'required':['key'],...S(a0_0xffba68(0x3c2))},'archive':{'type':a0_0xffba68(0x691),'enum':[!0x0,!0x1]}},'required':['lastMessage',a0_0xffba68(0x61d)]},ba={'$id':(0x0,v['v4'])(),'type':a0_0xffba68(0x66a),'properties':{'id':{'type':a0_0xffba68(0x27a)},'fromMe':{'type':a0_0xffba68(0x691),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':a0_0xffba68(0x27a)}},'required':['id','fromMe','remoteJid'],...S('id',a0_0xffba68(0x1fc),a0_0xffba68(0x41e))},Sa={'$id':(0x0,v['v4'])(),'type':a0_0xffba68(0x66a),'properties':{'where':{'type':a0_0xffba68(0x66a),'properties':{'_id':{'type':a0_0xffba68(0x27a),'minLength':0x1},'pushName':{'type':a0_0xffba68(0x27a),'minLength':0x1},'id':{'type':'string','minLength':0x1}},...S(a0_0xffba68(0x35f),'id','pushName')}}},Ea={'$id':(0x0,v['v4'])(),'type':a0_0xffba68(0x66a),'properties':{'name':{'type':'string'}},...S(a0_0xffba68(0x114))},va={'$id':(0x0,v['v4'])(),'type':a0_0xffba68(0x66a),'properties':{'status':{'type':a0_0xffba68(0x27a)}},...S(a0_0xffba68(0x697))},Ee={'$id':(0x0,v['v4'])(),'type':a0_0xffba68(0x66a),'properties':{'number':{'type':a0_0xffba68(0x27a)},'picture':{'type':a0_0xffba68(0x27a)}}},Ca={'type':a0_0xffba68(0x66a),'properties':{'wuid':{'type':'string'},'name':{'type':'string'},'picture':{'type':a0_0xffba68(0x27a)},'status':{'type':a0_0xffba68(0x27a)},'isBusiness':{'type':a0_0xffba68(0x691)}}},Na={'$id':(0x0,v['v4'])(),'type':a0_0xffba68(0x66a),'properties':{'where':{'type':'object','properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':a0_0xffba68(0x66a),'if':{'propertyNames':{'enum':[a0_0xffba68(0x43f),a0_0xffba68(0x1fc),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0xffba68(0x27a),'minLength':0x1,'description':a0_0xffba68(0x299)},'id':{'type':'string','minLength':0x1,'description':a0_0xffba68(0x299)},'fromMe':{'type':a0_0xffba68(0x691),'enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...S(a0_0xffba68(0x35f))},'limit':{'type':a0_0xffba68(0x681)}}},gn={'$id':(0x0,v['v4'])(),'type':a0_0xffba68(0x66a),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0xffba68(0x27a)},'remoteJid':{'type':a0_0xffba68(0x27a)},'id':{'type':a0_0xffba68(0x27a)},'fromMe':{'type':a0_0xffba68(0x691),'enum':[!0x0,!0x1]},'participant':{'type':a0_0xffba68(0x27a)},'status':{'type':a0_0xffba68(0x27a),'enum':[a0_0xffba68(0x5c1),a0_0xffba68(0x470),a0_0xffba68(0x334),'DELIVERY_ACK',a0_0xffba68(0x2c0),a0_0xffba68(0x3db)]}},...S('_id',a0_0xffba68(0x1fc),'id',a0_0xffba68(0x697))},'limit':{'type':a0_0xffba68(0x681)}}},Ta={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...X},'presence':{'type':a0_0xffba68(0x27a),'enum':[a0_0xffba68(0x6cb),a0_0xffba68(0x174),a0_0xffba68(0x687),a0_0xffba68(0x435),a0_0xffba68(0x684)]}},'required':[a0_0xffba68(0x1a2),'number']},Ra={'$id':(0x0,v['v4'])(),'type':a0_0xffba68(0x66a),'properties':{'subject':{'type':a0_0xffba68(0x27a)},'description':{'type':a0_0xffba68(0x27a)},'profilePicture':{'type':a0_0xffba68(0x27a)},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xffba68(0x27a),'minLength':0xa,'pattern':a0_0xffba68(0x1b1),'description':a0_0xffba68(0x1de)}}},'required':['subject',a0_0xffba68(0x19d)],...S(a0_0xffba68(0x1f8),a0_0xffba68(0x33a),a0_0xffba68(0x52d))},ve={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0xffba68(0x27a),'pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':[a0_0xffba68(0x3c0)],...S(a0_0xffba68(0x3c0))},Ma={'$id':(0x0,v['v4'])(),'type':a0_0xffba68(0x66a),'properties':{'groupJid':{'type':'string'},'action':{'type':'string','enum':[a0_0xffba68(0x381),a0_0xffba68(0x3d8),a0_0xffba68(0x516),a0_0xffba68(0x2e3)]},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xffba68(0x27a),'minLength':0xa,'pattern':a0_0xffba68(0x1b1),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0xffba68(0x3c0),'action','participants'],...S(a0_0xffba68(0x3c0),'action')},Aa={'$id':(0x0,v['v4'])(),'type':a0_0xffba68(0x66a),'properties':{'groupJid':{'type':a0_0xffba68(0x27a)},'expiration':{'type':a0_0xffba68(0x415),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0xffba68(0x3c0),a0_0xffba68(0x546)],...S('groupJid','expiration')},Ia={'$id':(0x0,v['v4'])(),'type':a0_0xffba68(0x66a),'properties':{'groupJid':{'type':a0_0xffba68(0x27a)},'image':{'type':a0_0xffba68(0x27a)}},'required':[a0_0xffba68(0x3c0),a0_0xffba68(0x40b)],...S('groupJid',a0_0xffba68(0x40b))},Da={'$id':(0x0,v['v4'])(),'type':a0_0xffba68(0x66a),'properties':{'groupJid':{'type':a0_0xffba68(0x27a)},'description':{'type':'string'}},'required':[a0_0xffba68(0x3c0),a0_0xffba68(0x33a)],...S('groupJid',a0_0xffba68(0x33a))},_a={'$id':(0x0,v['v4'])(),'type':a0_0xffba68(0x66a),'properties':{'groupJid':{'type':a0_0xffba68(0x27a)},'name':{'type':a0_0xffba68(0x27a)}},'required':['groupJid','name'],...S('groupJid','name')},Oa={'$id':(0x0,v['v4'])(),'type':a0_0xffba68(0x66a),'properties':{'groupJid':{'type':a0_0xffba68(0x27a)},'setting':{'type':'string','enum':['announcement',a0_0xffba68(0x494),'unlocked',a0_0xffba68(0x557)]}},'required':[a0_0xffba68(0x3c0),'setting'],...S('groupJid',a0_0xffba68(0x469))},Pa={'$id':(0x0,v['v4'])(),'type':a0_0xffba68(0x66a),'properties':{'inviteCode':{'type':a0_0xffba68(0x27a)}},'required':['inviteCode'],...S('inviteCode')},xa={'$id':(0x0,v['v4'])(),'type':a0_0xffba68(0x66a),'properties':{'url':{'type':a0_0xffba68(0x27a)},'enabled':{'type':a0_0xffba68(0x691),'enum':[!0x0,!0x1]}},'required':[a0_0xffba68(0x1ab),a0_0xffba68(0x175)]},mn={'$id':(0x0,v['v4'])(),'type':a0_0xffba68(0x66a),'properties':{'local_map':{'type':a0_0xffba68(0x691),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0xffba68(0x691),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0xffba68(0x691),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0xffba68(0x691),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0xffba68(0x691),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0xffba68(0x691),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0xffba68(0x691),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0xffba68(0x691),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0xffba68(0x691),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0xffba68(0x691),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0xffba68(0x691),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0xffba68(0x691),'enum':[!0x0,!0x1]}},'required':[a0_0xffba68(0x340),a0_0xffba68(0x4cc),a0_0xffba68(0x64a),a0_0xffba68(0x2fa),a0_0xffba68(0x3ef),'MESSAGES_UPSERT','SEND_MESSAGE',a0_0xffba68(0x17d),a0_0xffba68(0x55f),a0_0xffba68(0x23a),'PRESENCE_UPDATE','CHATS_SET',a0_0xffba68(0x39f),'CHATS_UPDATE',a0_0xffba68(0x3ca),a0_0xffba68(0x20a),a0_0xffba68(0x3a5),a0_0xffba68(0x22a),a0_0xffba68(0x59d)],...S(a0_0xffba68(0x340),a0_0xffba68(0x4cc),a0_0xffba68(0x64a),a0_0xffba68(0x2fa),'MESSAGES_UPDATE',a0_0xffba68(0x488),a0_0xffba68(0x1a8),'CONTACTS_SET',a0_0xffba68(0x55f),a0_0xffba68(0x23a),a0_0xffba68(0x4a2),'CHATS_SET',a0_0xffba68(0x39f),a0_0xffba68(0x36b),a0_0xffba68(0x3ca),a0_0xffba68(0x20a),a0_0xffba68(0x3a5),a0_0xffba68(0x22a),a0_0xffba68(0x59d))},Je=class{},We=class extends W{constructor(_0x35a47f){const _0x1ecef0=a0_0xffba68;super(_0x35a47f),this[_0x1ecef0(0x1e8)]=_0x35a47f;}[a0_0xffba68(0x457)](_0x5e580e){return $s(_0x5e580e);}async[a0_0xffba68(0x5ac)](_0x50e087){const _0x5b779c=a0_0xffba68;if(_0x50e087[_0x5b779c(0x26f)]!==0x0)try{return{'insertCount':(await this[_0x5b779c(0x457)](_0x50e087[0x0][_0x5b779c(0x1e6)])[_0x5b779c(0x510)]([..._0x50e087]))['length']};}catch(_0x7e26f3){return _0x7e26f3;}}async['delete'](_0x311966){const _0x2012bf=a0_0xffba68;try{return{'deletedCount':(await this[_0x2012bf(0x457)](_0x311966[_0x2012bf(0x31c)][_0x2012bf(0x1e6)])[_0x2012bf(0x5fc)]({..._0x311966['where']}))[_0x2012bf(0x2c1)]};}catch(_0x44638e){return{'error':_0x44638e?.[_0x2012bf(0x4d7)]()};}}async['update'](_0x1c65a0,_0x48ea4){const _0xe5f24d=a0_0xffba68;try{if(_0x1c65a0['length']===0x0)return;let _0x7dafe0=this[_0xe5f24d(0x457)](_0x48ea4),_0x13f507=_0x1c65a0[_0xe5f24d(0x326)](_0x3b5736=>({'updateOne':{'filter':{'_id':_0x3b5736['_id'],'owner':_0x48ea4},'update':{..._0x3b5736}}})),{modifiedCount:_0x550a55}=await _0x7dafe0[_0xe5f24d(0x337)](_0x13f507);return{'insertCount':_0x550a55};}catch{return;}}async[a0_0xffba68(0x59a)](_0x31e4c7){const _0x4aeb69=a0_0xffba68;try{return await this['getContactModelForOwner'](_0x31e4c7['where']['owner'])[_0x4aeb69(0x59a)]({..._0x31e4c7[_0x4aeb69(0x31c)]})[_0x4aeb69(0x195)](_0x31e4c7?.[_0x4aeb69(0x195)]??0x0)[_0x4aeb69(0x665)]();}catch{return[];}}async[a0_0xffba68(0x590)](_0x493d7e){const _0x2da7d3=a0_0xffba68;try{return await this[_0x2da7d3(0x457)](_0x493d7e[_0x2da7d3(0x31c)]['owner'])[_0x2da7d3(0x590)]({..._0x493d7e[_0x2da7d3(0x31c)]})['lean']();}catch{return null;}}async[a0_0xffba68(0x430)](_0x2cc707){const _0x41eea0=a0_0xffba68;try{return await this['getContactModelForOwner'](_0x2cc707)[_0x41eea0(0x11c)][_0x41eea0(0x177)](),{'success':!0x0};}catch(_0x2ba408){return console[_0x41eea0(0x1ea)](_0x2ba408),{'success':!0x1,'error':_0x2ba408};}}},He=require(a0_0xffba68(0x49b)),vn=require(a0_0xffba68(0x3a2)),is=new N(a0_0xffba68(0x4bc)),k=class{constructor(){}['routerPath'](_0x1fe8fb,_0x3adbef=!0x0){let _0x3ddf99='/'+_0x1fe8fb;return _0x3adbef&&(_0x3ddf99+='/:instanceName'),_0x3ddf99;}async[a0_0xffba68(0x5fb)](_0x55ac8e){const _0x1f637d=a0_0xffba68;let {request:_0x53db6b,schema:_0x190569,ClassRef:_0xa837db,execute:_0x53f1da}=_0x55ac8e,_0x96673=new _0xa837db(),_0x34967c=_0x53db6b[_0x1f637d(0x5a3)],_0x4872db=_0x53db6b[_0x1f637d(0x4f9)];_0x53db6b?.[_0x1f637d(0x31f)]&&Object[_0x1f637d(0x598)](_0x53db6b[_0x1f637d(0x31f)])[_0x1f637d(0x26f)]>0x0&&Object[_0x1f637d(0x63e)](_0x4872db,_0x53db6b['query']),_0x53db6b['originalUrl'][_0x1f637d(0x6ac)](_0x1f637d(0x3b1))&&Object[_0x1f637d(0x63e)](_0x4872db,_0x34967c),Object['assign'](_0x96673,_0x34967c);let _0x376416=_0x190569?(0x0,He[_0x1f637d(0x4b7)])(_0x96673,_0x190569):{'valid':!0x0,'errors':[]};if(!_0x376416[_0x1f637d(0x2f4)]){let _0x5213f6=_0x376416['errors'][_0x1f637d(0x326)](({property:_0x3a07c4,stack:_0x545cc9,schema:_0x34fcae})=>{const _0x3aaab7=_0x1f637d;let _0x3f5ff3;return _0x34fcae[_0x3aaab7(0x33a)]?_0x3f5ff3=_0x34fcae['description']:_0x3f5ff3=_0x545cc9[_0x3aaab7(0x4ad)](_0x3aaab7(0x38f),''),{'property':_0x3a07c4['replace'](_0x3aaab7(0x38f),''),'message':_0x3f5ff3};});throw is[_0x1f637d(0x1ea)]([..._0x5213f6]),new g(..._0x5213f6);}return await _0x53f1da(_0x4872db,_0x96673);}async[a0_0xffba68(0x49a)](_0x5bd61b){const _0x3071b1=a0_0xffba68;let {request:_0x5ea7c1,ClassRef:_0x277e72,schema:_0x53a187,execute:_0x4af447}=_0x5bd61b,_0x1dd89a=_0x5ea7c1[_0x3071b1(0x31f)];if(!_0x1dd89a?.[_0x3071b1(0x3c0)])throw new g('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query',_0x3071b1(0x2ac));let _0x16c300=_0x5ea7c1[_0x3071b1(0x4f9)],_0x121cbf=_0x5ea7c1[_0x3071b1(0x5a3)],_0x426736=new _0x277e72();Object[_0x3071b1(0x63e)](_0x121cbf,_0x1dd89a),Object[_0x3071b1(0x63e)](_0x426736,_0x121cbf);let _0x19d5a6=(0x0,He[_0x3071b1(0x4b7)])(_0x426736,_0x53a187);if(!_0x19d5a6['valid']){let _0x41deba=_0x19d5a6[_0x3071b1(0x668)][_0x3071b1(0x326)](({property:_0x5c5d54,stack:_0x3121aa,schema:_0x25e094})=>{const _0x48980d=_0x3071b1;let _0x5a98e0;return _0x25e094['description']?_0x5a98e0=_0x25e094[_0x48980d(0x33a)]:_0x5a98e0=_0x3121aa['replace'](_0x48980d(0x38f),''),{'property':_0x5c5d54[_0x48980d(0x4ad)](_0x48980d(0x38f),''),'message':_0x5a98e0};});throw is[_0x3071b1(0x1ea)]([..._0x41deba]),new g(..._0x41deba);}return await _0x4af447(_0x16c300,_0x426736);}async[a0_0xffba68(0x451)](_0x15e9de){const _0x125779=a0_0xffba68;let {request:_0x467254,ClassRef:_0x5ab7ee,schema:_0x1224f1,execute:_0x1c75b1}=_0x15e9de,_0x2cacbd=_0x467254['body'];if(!_0x2cacbd?.['inviteCode'])throw new g(_0x125779(0x38c),_0x125779(0x3b3));let _0x1b9a83=_0x467254['params'],_0x587c5d=_0x467254[_0x125779(0x5a3)],_0x5345a5=new _0x5ab7ee();Object[_0x125779(0x63e)](_0x587c5d,_0x2cacbd),Object[_0x125779(0x63e)](_0x5345a5,_0x587c5d);let _0x1c20b8=(0x0,He[_0x125779(0x4b7)])(_0x5345a5,_0x1224f1);if(!_0x1c20b8[_0x125779(0x2f4)]){let _0x288c48=_0x1c20b8['errors']['map'](({property:_0x142cb4,stack:_0x719762,schema:_0x3d756f})=>{const _0x20d46e=_0x125779;let _0x2fc428;return _0x3d756f[_0x20d46e(0x33a)]?_0x2fc428=_0x3d756f[_0x20d46e(0x33a)]:_0x2fc428=_0x719762[_0x20d46e(0x4ad)](_0x20d46e(0x38f),''),{'property':_0x142cb4[_0x20d46e(0x4ad)](_0x20d46e(0x38f),''),'message':_0x2fc428};});throw is[_0x125779(0x1ea)]([..._0x288c48]),new g(..._0x288c48);}return await _0x1c75b1(_0x1b9a83,_0x5345a5);}},b=class{},Ke=class extends k{constructor(..._0xf2ea56){const _0xf4c665=a0_0xffba68;super(),this[_0xf4c665(0x4b0)]=(0x0,$a[_0xf4c665(0x4ce)])(),this['router'][_0xf4c665(0x66c)](this[_0xf4c665(0x490)](_0xf4c665(0x5b5)),..._0xf2ea56,async(_0x1646f2,_0x15032a)=>{const _0x325e47=_0xf4c665;let _0x249e28=await this[_0x325e47(0x5fb)]({'request':_0x1646f2,'schema':Ta,'ClassRef':$e,'execute':(_0xb6664,_0x25d6fe)=>D[_0x325e47(0x5b5)](_0xb6664,_0x25d6fe)});return _0x15032a[_0x325e47(0x697)](0xc9)['json'](_0x249e28);})['post'](this[_0xf4c665(0x490)](_0xf4c665(0x31e)),..._0xf2ea56,async(_0x20825c,_0x49c687)=>{const _0x35c1dc=_0xf4c665;let _0x5cf03b=await this[_0x35c1dc(0x5fb)]({'request':_0x20825c,'schema':ha,'ClassRef':ke,'execute':(_0x1f22bc,_0x46b9d5)=>D[_0x35c1dc(0x28e)](_0x1f22bc,_0x46b9d5)});return _0x49c687[_0x35c1dc(0x697)](0xc9)[_0x35c1dc(0x682)](_0x5cf03b);})[_0xf4c665(0x66c)](this[_0xf4c665(0x490)]('editChat'),..._0xf2ea56,async(_0x4fb5f7,_0x4c92e2)=>{const _0x76d47=_0xf4c665;let _0x399a2e=await this[_0x76d47(0x5fb)]({'request':_0x4fb5f7,'schema':C,'ClassRef':b,'execute':(_0x3753f2,_0x59edbb)=>D[_0x76d47(0x30f)](_0x3753f2,_0x59edbb)});return _0x4c92e2[_0x76d47(0x697)](0xc9)[_0x76d47(0x682)](_0x399a2e);})[_0xf4c665(0x688)](this[_0xf4c665(0x490)](_0xf4c665(0x57f)),..._0xf2ea56,async(_0x5cd1e2,_0x45faab)=>{const _0x5b3cbb=_0xf4c665;let _0x3cb9e4=await this[_0x5b3cbb(0x5fb)]({'request':_0x5cd1e2,'schema':fa,'ClassRef':Ve,'execute':(_0x125f5e,_0x769a8f)=>D[_0x5b3cbb(0x16d)](_0x125f5e,_0x769a8f)});return _0x45faab['status'](0xc9)[_0x5b3cbb(0x682)](_0x3cb9e4);})[_0xf4c665(0x688)](this[_0xf4c665(0x490)](_0xf4c665(0x6da)),..._0xf2ea56,async(_0x2be09d,_0x29e198)=>{const _0x2253b5=_0xf4c665;let _0xddd583=await this[_0x2253b5(0x5fb)]({'request':_0x2be09d,'schema':ya,'ClassRef':je,'execute':(_0x21d886,_0x5c11be)=>D[_0x2253b5(0x6da)](_0x21d886,_0x5c11be)});return _0x29e198[_0x2253b5(0x697)](0xc9)[_0x2253b5(0x682)](_0xddd583);})['delete'](this[_0xf4c665(0x490)](_0xf4c665(0x545)),..._0xf2ea56,async(_0x254a5f,_0x3e83df)=>{const _0x6110e5=_0xf4c665;let _0x39c888=await this['dataValidate']({'request':_0x254a5f,'schema':ba,'ClassRef':Be,'execute':(_0x361160,_0x4bc228)=>D[_0x6110e5(0x38e)](_0x361160,_0x4bc228)});return _0x3e83df[_0x6110e5(0x697)](0xc9)[_0x6110e5(0x682)](_0x39c888);})['post'](this[_0xf4c665(0x490)](_0xf4c665(0x400)),..._0xf2ea56,async(_0x11a8b0,_0x1283fa)=>{let _0x2e9bbe=await this['dataValidate']({'request':_0x11a8b0,'schema':Ee,'ClassRef':Se,'execute':(_0x2aace0,_0x1a99e7)=>D['fetchProfilePicture'](_0x2aace0,_0x1a99e7)});return _0x1283fa['status'](0xc8)['json'](_0x2e9bbe);})['post'](this[_0xf4c665(0x490)](_0xf4c665(0x3c6)),..._0xf2ea56,async(_0x3ae8e8,_0x4aff7c)=>{const _0x2eba85=_0xf4c665;let _0x29d62d=await this[_0x2eba85(0x5fb)]({'request':_0x3ae8e8,'schema':Ca,'ClassRef':Se,'execute':(_0x2599d0,_0x80f5ed)=>D[_0x2eba85(0x3c6)](_0x2599d0,_0x80f5ed)});return _0x4aff7c[_0x2eba85(0x697)](0xc8)[_0x2eba85(0x682)](_0x29d62d);})[_0xf4c665(0x66c)](this['routerPath']('findContacts'),..._0xf2ea56,async(_0x310e64,_0x536dc2)=>{const _0x4c2d99=_0xf4c665;let _0xe4ab84=await this['dataValidate']({'request':_0x310e64,'schema':Sa,'ClassRef':Je,'execute':(_0xa50d5b,_0x57ca06)=>D[_0x4c2d99(0x410)](_0xa50d5b,_0x57ca06)});return _0x536dc2[_0x4c2d99(0x697)](0xc8)['json'](_0xe4ab84);})['post'](this[_0xf4c665(0x490)](_0xf4c665(0x6c6)),..._0xf2ea56,async(_0x194a0e,_0x4cbe4a)=>{const _0x5751e2=_0xf4c665;let _0x1c0fa3=await this[_0x5751e2(0x5fb)]({'request':_0x194a0e,'schema':null,'ClassRef':Object,'execute':(_0x27f88b,_0x68a775)=>D[_0x5751e2(0x6c6)](_0x27f88b,_0x68a775)});return _0x4cbe4a[_0x5751e2(0x697)](0xc9)['json'](_0x1c0fa3);})[_0xf4c665(0x66c)](this[_0xf4c665(0x490)](_0xf4c665(0x245)),..._0xf2ea56,async(_0x239d45,_0x455b0e)=>{const _0xdd0dfa=_0xf4c665;let _0x5663e7=await this[_0xdd0dfa(0x5fb)]({'request':_0x239d45,'schema':Na,'ClassRef':Pe,'execute':(_0x1530fe,_0x17dc3e)=>D[_0xdd0dfa(0x669)](_0x1530fe,_0x17dc3e)});return _0x455b0e[_0xdd0dfa(0x697)](0xc8)[_0xdd0dfa(0x682)](_0x5663e7);})[_0xf4c665(0x4e4)](this[_0xf4c665(0x490)](_0xf4c665(0x135)),..._0xf2ea56,async(_0x3e94d5,_0x41179b)=>{const _0x1d2148=_0xf4c665;let _0x5a69dc=await this['dataValidate']({'request':_0x3e94d5,'schema':null,'ClassRef':b,'execute':_0x561cec=>D[_0x1d2148(0x54e)](_0x561cec)});return _0x41179b['status'](0xc8)[_0x1d2148(0x682)](_0x5a69dc);})[_0xf4c665(0x4e4)](this['routerPath'](_0xf4c665(0x41d)),..._0xf2ea56,async(_0x55c7e9,_0x1dfb0e)=>{const _0x120a3e=_0xf4c665;let _0x3e0ffc=await this[_0x120a3e(0x5fb)]({'request':_0x55c7e9,'schema':null,'ClassRef':b,'execute':_0x45ce55=>D[_0x120a3e(0x41d)](_0x45ce55)});return _0x1dfb0e[_0x120a3e(0x697)](0xc8)[_0x120a3e(0x682)](_0x3e0ffc);})[_0xf4c665(0x688)](this[_0xf4c665(0x490)]('updatePrivacySettings'),..._0xf2ea56,async(_0x27ff8b,_0x5588b4)=>{const _0x4d0793=_0xf4c665;let _0xda6884=await this[_0x4d0793(0x5fb)]({'request':_0x27ff8b,'schema':wa,'ClassRef':Fe,'execute':(_0x35da2e,_0x2a59e1)=>D[_0x4d0793(0x1cd)](_0x35da2e,_0x2a59e1)});return _0x5588b4[_0x4d0793(0x697)](0xc9)[_0x4d0793(0x682)](_0xda6884);})['post'](this[_0xf4c665(0x490)](_0xf4c665(0x17b)),..._0xf2ea56,async(_0x73b05a,_0x179583)=>{const _0x299536=_0xf4c665;let _0x5b6922=await this['dataValidate']({'request':_0x73b05a,'schema':Ee,'ClassRef':he,'execute':(_0x39a44c,_0x2afce0)=>D[_0x299536(0x17b)](_0x39a44c,_0x2afce0)});return _0x179583[_0x299536(0x697)](0xc8)['json'](_0x5b6922);})[_0xf4c665(0x66c)](this[_0xf4c665(0x490)](_0xf4c665(0x240)),..._0xf2ea56,async(_0x35fe24,_0x20303c)=>{const _0x332426=_0xf4c665;let _0x48830f=await this[_0x332426(0x5fb)]({'request':_0x35fe24,'schema':Ea,'ClassRef':Le,'execute':(_0x39c43a,_0x43847a)=>D[_0x332426(0x240)](_0x39c43a,_0x43847a)});return _0x20303c['status'](0xc8)['json'](_0x48830f);})[_0xf4c665(0x66c)](this[_0xf4c665(0x490)](_0xf4c665(0x5ed)),..._0xf2ea56,async(_0x55dcb5,_0x50f997)=>{const _0x6ba89f=_0xf4c665;let _0x32386f=await this['dataValidate']({'request':_0x55dcb5,'schema':va,'ClassRef':Ue,'execute':(_0x40d449,_0x33c5db)=>D[_0x6ba89f(0x5ed)](_0x40d449,_0x33c5db)});return _0x50f997[_0x6ba89f(0x697)](0xc8)[_0x6ba89f(0x682)](_0x32386f);})[_0xf4c665(0x688)](this[_0xf4c665(0x490)](_0xf4c665(0x4f8)),..._0xf2ea56,async(_0x3a3d33,_0x3bae17)=>{const _0x21932f=_0xf4c665;let _0x15930f=await this['dataValidate']({'request':_0x3a3d33,'schema':Ee,'ClassRef':he,'execute':(_0x976374,_0x469cc9)=>D[_0x21932f(0x4f8)](_0x976374,_0x469cc9)});return _0x3bae17[_0x21932f(0x697)](0xc8)[_0x21932f(0x682)](_0x15930f);})['delete'](this[_0xf4c665(0x490)]('removeProfilePicture'),..._0xf2ea56,async(_0x45923e,_0x271ee3)=>{const _0x4254f5=_0xf4c665;let _0x4d1ad0=await this[_0x4254f5(0x5fb)]({'request':_0x45923e,'schema':Ee,'ClassRef':he,'execute':(_0x23e5e4,_0x238096)=>D[_0x4254f5(0x61e)](_0x23e5e4,_0x238096)});return _0x271ee3[_0x4254f5(0x697)](0xc8)[_0x4254f5(0x682)](_0x4d1ad0);});}},ka=require(a0_0xffba68(0x321)),ze=class{},Qe=class{},Ye=class{},Xe=class{},Ze=class{},Z=class{},et=class{},tt=class extends Z{},st=class extends Z{},at=class extends k{constructor(..._0x46c880){const _0x93b155=a0_0xffba68;super(),this['router']=(0x0,ka[_0x93b155(0x4ce)])(),this[_0x93b155(0x4b0)][_0x93b155(0x66c)](this['routerPath'](_0x93b155(0x64e)),..._0x46c880,async(_0x2d9afd,_0x2dab7e)=>{const _0x5b44c0=_0x93b155;let _0x21e859=await this[_0x5b44c0(0x5fb)]({'request':_0x2d9afd,'schema':Ra,'ClassRef':ze,'execute':(_0x446580,_0x505146)=>U[_0x5b44c0(0x4da)](_0x446580,_0x505146)});_0x2dab7e[_0x5b44c0(0x697)](0xc9)[_0x5b44c0(0x682)](_0x21e859);})[_0x93b155(0x688)](this['routerPath'](_0x93b155(0x2a6)),..._0x46c880,async(_0x2641b4,_0xa58903)=>{const _0x262827=_0x93b155;let _0x2511fb=await this[_0x262827(0x49a)]({'request':_0x2641b4,'schema':Ia,'ClassRef':Qe,'execute':(_0x4a0bd7,_0xe42d54)=>U['updateGroupPicture'](_0x4a0bd7,_0xe42d54)});_0xa58903[_0x262827(0x697)](0xc9)[_0x262827(0x682)](_0x2511fb);})[_0x93b155(0x688)](this[_0x93b155(0x490)](_0x93b155(0x274)),..._0x46c880,async(_0x246ec6,_0xca6118)=>{const _0x45a39e=_0x93b155;let _0x5111bd=await this['groupValidate']({'request':_0x246ec6,'schema':Da,'ClassRef':Ye,'execute':(_0x3686b8,_0x51f33c)=>U[_0x45a39e(0x274)](_0x3686b8,_0x51f33c)});_0xca6118['status'](0xc9)[_0x45a39e(0x682)](_0x5111bd);})[_0x93b155(0x688)](this['routerPath'](_0x93b155(0x5c8)),..._0x46c880,async(_0x3d9c81,_0x2e187f)=>{const _0xa8da21=_0x93b155;let _0x115c24=await this[_0xa8da21(0x49a)]({'request':_0x3d9c81,'schema':_a,'ClassRef':Xe,'execute':(_0x337d55,_0x1aa3c9)=>U[_0xa8da21(0x5c8)](_0x337d55,_0x1aa3c9)});_0x2e187f[_0xa8da21(0x697)](0xc9)[_0xa8da21(0x682)](_0x115c24);})[_0x93b155(0x688)](this[_0x93b155(0x490)](_0x93b155(0x549)),..._0x46c880,async(_0x4aa265,_0x3089ac)=>{const _0x42e7cd=_0x93b155;let _0x144596=await this[_0x42e7cd(0x49a)]({'request':_0x4aa265,'schema':Oa,'ClassRef':Ze,'execute':(_0x4ec87c,_0x255914)=>U[_0x42e7cd(0x549)](_0x4ec87c,_0x255914)});_0x3089ac[_0x42e7cd(0x697)](0xc9)[_0x42e7cd(0x682)](_0x144596);})[_0x93b155(0x688)](this[_0x93b155(0x490)](_0x93b155(0x5a5)),..._0x46c880,async(_0x43acf1,_0x38c392)=>{const _0x9b729d=_0x93b155;let _0x3ee887=await this['groupValidate']({'request':_0x43acf1,'schema':Aa,'ClassRef':st,'execute':(_0x2f34fe,_0x2ae4c5)=>U[_0x9b729d(0x5a5)](_0x2f34fe,_0x2ae4c5)});_0x38c392[_0x9b729d(0x697)](0xc9)[_0x9b729d(0x682)](_0x3ee887);})['get'](this[_0x93b155(0x490)](_0x93b155(0x46d)),..._0x46c880,async(_0x5af3ed,_0x17e514)=>{const _0x4025cd=_0x93b155;let _0x2fe10e=await this[_0x4025cd(0x49a)]({'request':_0x5af3ed,'schema':ve,'ClassRef':Z,'execute':(_0x390d9f,_0x2f87db)=>U[_0x4025cd(0x292)](_0x390d9f,_0x2f87db)});_0x17e514[_0x4025cd(0x697)](0xc8)[_0x4025cd(0x682)](_0x2fe10e);})['get'](this[_0x93b155(0x490)](_0x93b155(0x32a)),..._0x46c880,async(_0x52a1a0,_0x49b955)=>{const _0x34ed4e=_0x93b155;let _0x21a8ad=await this[_0x34ed4e(0x5fb)]({'request':_0x52a1a0,'schema':C,'ClassRef':b,'execute':_0x53f1c7=>U[_0x34ed4e(0x32a)](_0x53f1c7)});_0x49b955['status'](0xc8)[_0x34ed4e(0x682)](_0x21a8ad);})[_0x93b155(0x4e4)](this['routerPath']('participants'),..._0x46c880,async(_0x2fc398,_0x4944a1)=>{const _0x302012=_0x93b155;let _0x51f18c=await this[_0x302012(0x49a)]({'request':_0x2fc398,'schema':ve,'ClassRef':Z,'execute':(_0x2148fa,_0x104b55)=>U['findParticipants'](_0x2148fa,_0x104b55)});_0x4944a1['status'](0xc8)['json'](_0x51f18c);})[_0x93b155(0x4e4)](this[_0x93b155(0x490)](_0x93b155(0x278)),..._0x46c880,async(_0x471945,_0x7271be)=>{const _0x352b69=_0x93b155;let _0x16c0d2=await this[_0x352b69(0x49a)]({'request':_0x471945,'schema':ve,'ClassRef':Z,'execute':(_0x227811,_0x1349d9)=>U[_0x352b69(0x278)](_0x227811,_0x1349d9)});_0x7271be[_0x352b69(0x697)](0xc8)['json'](_0x16c0d2);})[_0x93b155(0x688)](this[_0x93b155(0x490)](_0x93b155(0x360)),..._0x46c880,async(_0x4410a4,_0xc14d8e)=>{const _0x2abc52=_0x93b155;let _0x11ccdb=await this['joinGroupValidate']({'request':_0x4410a4,'schema':Pa,'ClassRef':et,'execute':(_0x41edd3,_0x4b5dc3)=>U[_0x2abc52(0x360)](_0x41edd3,_0x4b5dc3)});_0xc14d8e[_0x2abc52(0x697)](0xc9)['json'](_0x11ccdb);})['put'](this['routerPath'](_0x93b155(0x16e)),..._0x46c880,async(_0x5cfb4f,_0xc851f6)=>{const _0x4e5af0=_0x93b155;let _0x2c073f=await this[_0x4e5af0(0x49a)]({'request':_0x5cfb4f,'schema':ve,'ClassRef':Z,'execute':(_0x14f415,_0x3a9233)=>U[_0x4e5af0(0x16e)](_0x14f415,_0x3a9233)});_0xc851f6['status'](0xc9)[_0x4e5af0(0x682)](_0x2c073f);})['put'](this[_0x93b155(0x490)](_0x93b155(0x18a)),..._0x46c880,async(_0x313e10,_0x23885e)=>{const _0x24f54b=_0x93b155;let _0xc4781f=await this[_0x24f54b(0x49a)]({'request':_0x313e10,'schema':Ma,'ClassRef':tt,'execute':(_0x3498cb,_0x4e07ba)=>U[_0x24f54b(0x183)](_0x3498cb,_0x4e07ba)});_0x23885e[_0x24f54b(0x697)](0xc9)[_0x24f54b(0x682)](_0xc4781f);})['delete'](this[_0x93b155(0x490)]('leaveGroup'),..._0x46c880,async(_0x30d08c,_0x261b03)=>{const _0x4f0f1a=_0x93b155;let _0x3a3dc2=await this[_0x4f0f1a(0x49a)]({'request':_0x30d08c,'schema':{},'ClassRef':Z,'execute':(_0x255d22,_0x42f876)=>U[_0x4f0f1a(0x14f)](_0x255d22,_0x42f876)});_0x261b03[_0x4f0f1a(0x697)](0xc8)[_0x4f0f1a(0x682)](_0x3a3dc2);});}},Va=require(a0_0xffba68(0x321)),Ce=require(a0_0xffba68(0x5d6)),ns=require(a0_0xffba68(0x40d)),La=require('class-validator'),Ua=T(require(a0_0xffba68(0x20b))),ot=class{},rt=class c{constructor(_0x591b0d,_0x510305,_0x2e61ea){const _0x337a=a0_0xffba68;this[_0x337a(0x1e8)]=_0x591b0d,this[_0x337a(0x638)]=_0x510305,this[_0x337a(0x597)]=_0x2e61ea,this[_0x337a(0x6c0)]=new N(c[_0x337a(0x114)]);}async[a0_0xffba68(0x4fd)](_0x2ad52f){const _0x3def6c=a0_0xffba68;let _0x2f4874=this[_0x3def6c(0x1e8)]['get'](_0x3def6c(0x12c))[_0x3def6c(0x5cd)],_0x1626aa=(0x0,Ce['sign'])({'instanceName':_0x2ad52f[_0x3def6c(0x1c4)],'apiName':Ge,'tokenId':(0x0,ns['v4'])()},_0x2f4874[_0x3def6c(0x2e6)],{'expiresIn':_0x2f4874[_0x3def6c(0x4fe)],'encoding':_0x3def6c(0x573),'subject':_0x3def6c(0x45a)}),_0x5d55fe=await this[_0x3def6c(0x597)][_0x3def6c(0x4bf)]['create']({'jwt':_0x1626aa},_0x2ad52f[_0x3def6c(0x1c4)]);if(_0x5d55fe[_0x3def6c(0x1ea)])throw this[_0x3def6c(0x6c0)]['error']({'localError':c[_0x3def6c(0x114)]+_0x3def6c(0x434),'error':_0x5d55fe[_0x3def6c(0x1ea)]}),new g(_0x3def6c(0x1d0),_0x5d55fe['error']?.[_0x3def6c(0x4d7)]());return{'jwt':_0x1626aa};}async[a0_0xffba68(0x423)](_0x4dfa4a){const _0x425977=a0_0xffba68;let _0x4cd8cd=(0x0,ns['v4'])()[_0x425977(0x613)](),_0x3120d2=await this[_0x425977(0x597)][_0x425977(0x4bf)][_0x425977(0x64e)]({'apikey':_0x4cd8cd},_0x4dfa4a['instanceName']);if(_0x3120d2[_0x425977(0x1ea)])throw this['logger'][_0x425977(0x1ea)]({'localError':c['name']+'.jwt','error':_0x3120d2['error']}),new g(_0x425977(0x1d0),_0x3120d2[_0x425977(0x1ea)]?.[_0x425977(0x4d7)]());return{'apikey':_0x4cd8cd};}async[a0_0xffba68(0x52f)](_0x3e4754){const _0x4acf5e=a0_0xffba68;let _0x55008c=this[_0x4acf5e(0x1e8)][_0x4acf5e(0x4e4)](_0x4acf5e(0x12c));return await this[_0x55008c['TYPE']](_0x3e4754);}async['refreshToken']({oldToken:_0x49cc46}){const _0x16a88f=a0_0xffba68;if(!(0x0,La[_0x16a88f(0x2c2)])(_0x49cc46))throw new g(_0x16a88f(0x44c));try{let _0x5c460d=this[_0x16a88f(0x1e8)][_0x16a88f(0x4e4)]('AUTHENTICATION')[_0x16a88f(0x5cd)],_0x30408c=(0x0,Ce[_0x16a88f(0x51a)])(_0x49cc46,_0x5c460d[_0x16a88f(0x2e6)],{'ignoreExpiration':!0x0}),_0x4c41f6=await this['repository'][_0x16a88f(0x4bf)][_0x16a88f(0x59a)](_0x30408c[_0x16a88f(0x1c4)]),_0x1fc5f7=(0x0,Ce[_0x16a88f(0x51a)])(_0x4c41f6[_0x16a88f(0x4fd)],_0x5c460d[_0x16a88f(0x2e6)],{'ignoreExpiration':!0x0});if(_0x30408c[_0x16a88f(0x141)]!==_0x1fc5f7[_0x16a88f(0x141)])throw new g(_0x16a88f(0x44c));let _0x39bd9d={'jwt':(await this[_0x16a88f(0x4fd)]({'instanceName':_0x30408c[_0x16a88f(0x1c4)]}))[_0x16a88f(0x4fd)],'instanceName':_0x30408c[_0x16a88f(0x1c4)]};try{let _0x52bb26=await this[_0x16a88f(0x597)]['webhook']['find'](_0x30408c[_0x16a88f(0x1c4)]);_0x52bb26?.[_0x16a88f(0x175)]&&this['configService'][_0x16a88f(0x4e4)](_0x16a88f(0x316))[_0x16a88f(0x4be)][_0x16a88f(0x48f)]&&await Ua[_0x16a88f(0x58d)][_0x16a88f(0x64e)]({'baseURL':_0x52bb26[_0x16a88f(0x1ab)]})[_0x16a88f(0x66c)]('',{'event':_0x16a88f(0x2f8),'instance':_0x30408c[_0x16a88f(0x1c4)],'data':_0x39bd9d},{'params':{'owner':this[_0x16a88f(0x638)][_0x16a88f(0x5e7)][_0x30408c['instanceName']][_0x16a88f(0x62b)]}});}catch(_0x980360){this['logger'][_0x16a88f(0x1ea)](_0x980360);}return _0x39bd9d;}catch(_0x21e892){throw this[_0x16a88f(0x6c0)][_0x16a88f(0x1ea)]({'localError':c['name']+'.refreshToken','error':_0x21e892}),new g('Invalid\x20\x22oldToken\x22');}}},it=class extends k{constructor(_0x336cb3,..._0x35f5f8){const _0x4ba2f1=a0_0xffba68;super(),this[_0x4ba2f1(0x1e8)]=_0x336cb3,this[_0x4ba2f1(0x4b0)]=(0x0,Va[_0x4ba2f1(0x4ce)])();let _0x56dcd0=_0x336cb3[_0x4ba2f1(0x4e4)](_0x4ba2f1(0x12c));this['router'][_0x4ba2f1(0x66c)](_0x4ba2f1(0x3da),..._0x35f5f8,async(_0x5e791e,_0x1c92f7)=>{const _0x1d0d00=_0x4ba2f1;let {instanceName:_0x468999,apikey:_0xf9b348}=_0x5e791e[_0x1d0d00(0x5a3)],_0x2ba4ee=await ie[_0x1d0d00(0x6c5)]({'instanceName':_0x468999,'apikey':_0xf9b348});return _0x1c92f7[_0x1d0d00(0x697)](0xc9)['json'](_0x2ba4ee);})[_0x4ba2f1(0x688)](this[_0x4ba2f1(0x490)](_0x4ba2f1(0x1e4)),..._0x35f5f8,async(_0x3c9571,_0x427af9)=>{const _0xdb7204=_0x4ba2f1;let _0x3bf117=await this[_0xdb7204(0x5fb)]({'request':_0x3c9571,'schema':C,'ClassRef':b,'execute':_0x1c55c5=>ie[_0xdb7204(0x26d)](_0x1c55c5)});return _0x427af9[_0xdb7204(0x697)](0xc8)['json'](_0x3bf117);})[_0x4ba2f1(0x4e4)](this['routerPath'](_0x4ba2f1(0x270)),..._0x35f5f8,async(_0x16db90,_0x1c54c9)=>{const _0x1bbfba=_0x4ba2f1;let _0x1546a5=await this[_0x1bbfba(0x5fb)]({'request':_0x16db90,'schema':C,'ClassRef':b,'execute':_0x1947dc=>ie[_0x1bbfba(0x5bf)](_0x1947dc)});return _0x1c54c9[_0x1bbfba(0x697)](0xc8)[_0x1bbfba(0x682)](_0x1546a5);})['get'](this['routerPath']('connectionState'),..._0x35f5f8,async(_0x318508,_0x5d0abe)=>{const _0x1bc63b=_0x4ba2f1;let _0x24dd20=await this[_0x1bc63b(0x5fb)]({'request':_0x318508,'schema':C,'ClassRef':b,'execute':_0x5aeedb=>ie[_0x1bc63b(0x225)](_0x5aeedb)});return _0x5d0abe[_0x1bc63b(0x697)](0xc8)['json'](_0x24dd20);})[_0x4ba2f1(0x4e4)](this[_0x4ba2f1(0x490)](_0x4ba2f1(0x5c5),!0x1),..._0x35f5f8,async(_0x4abdac,_0x389e15)=>{const _0x5a03f5=_0x4ba2f1;let _0x47ce71=await this[_0x5a03f5(0x5fb)]({'request':_0x4abdac,'schema':null,'ClassRef':b,'execute':_0xd5e498=>ie['fetchInstances'](_0xd5e498)});return _0x389e15[_0x5a03f5(0x697)](0xc8)[_0x5a03f5(0x682)](_0x47ce71);})[_0x4ba2f1(0x64b)](this['routerPath'](_0x4ba2f1(0x123)),..._0x35f5f8,async(_0x37d37a,_0x5562c9)=>{const _0x326446=_0x4ba2f1;let _0x1d3306=await this[_0x326446(0x5fb)]({'request':_0x37d37a,'schema':C,'ClassRef':b,'execute':_0x561f1e=>ie['logout'](_0x561f1e)});return _0x5562c9[_0x326446(0x697)](0xc8)[_0x326446(0x682)](_0x1d3306);})[_0x4ba2f1(0x64b)](this[_0x4ba2f1(0x490)](_0x4ba2f1(0x64b)),..._0x35f5f8,async(_0x3c2d46,_0x26fa87)=>{const _0x2602a3=_0x4ba2f1;let _0x25b341=await this[_0x2602a3(0x5fb)]({'request':_0x3c2d46,'schema':C,'ClassRef':b,'execute':_0x4c382a=>ie[_0x2602a3(0x132)](_0x4c382a)});return _0x26fa87[_0x2602a3(0x697)](0xc8)['json'](_0x25b341);}),_0x56dcd0[_0x4ba2f1(0x40a)]===_0x4ba2f1(0x4fd)&&this['router'][_0x4ba2f1(0x688)](_0x4ba2f1(0x60b),async(_0x14e364,_0x35cd9a)=>{const _0x48231c=_0x4ba2f1;let _0x233b7d=await this[_0x48231c(0x5fb)]({'request':_0x14e364,'schema':sa,'ClassRef':ot,'execute':(_0x4438f1,_0x135365)=>ie[_0x48231c(0x617)](_0x4438f1,_0x135365)});return _0x35cd9a[_0x48231c(0x697)](0xc9)[_0x48231c(0x682)](_0x233b7d);});}},ja=require(a0_0xffba68(0x321)),cs=class{},z=class extends cs{},nt=class extends z{},ct=class extends z{},lt=class extends z{},Ne=class extends z{},ut=class extends z{},dt=class extends z{},pt=class extends z{},gt=class extends z{},mt=class extends z{},ht=class{},ft=class extends k{constructor(..._0x474866){const _0x364195=a0_0xffba68;super(),this[_0x364195(0x4b0)]=(0x0,ja['Router'])(),this[_0x364195(0x4b0)][_0x364195(0x66c)](this[_0x364195(0x490)]('sendText'),..._0x474866,async(_0x4f911d,_0x7524d)=>{const _0x35f805=_0x364195;let _0x27d314=await this[_0x35f805(0x5fb)]({'request':_0x4f911d,'schema':aa,'ClassRef':nt,'execute':(_0x19d65e,_0x4803a8)=>K['sendText'](_0x19d65e,_0x4803a8)});return _0x7524d['status'](0xc9)['json'](_0x27d314);})[_0x364195(0x66c)](this[_0x364195(0x490)]('sendMedia'),..._0x474866,async(_0x21df46,_0x2acafd)=>{const _0x3c571a=_0x364195;let _0x2ba138=await this['dataValidate']({'request':_0x21df46,'schema':na,'ClassRef':Ne,'execute':(_0x46d09a,_0x36135f)=>K['sendMedia'](_0x46d09a,_0x36135f)});return _0x2acafd[_0x3c571a(0x697)](0xc9)[_0x3c571a(0x682)](_0x2ba138);})['post'](this[_0x364195(0x490)](_0x364195(0x445)),..._0x474866,async(_0xb27620,_0x54e701)=>{const _0x4c34bd=_0x364195;let _0x710d28=await this[_0x4c34bd(0x5fb)]({'request':_0xb27620,'schema':ca,'ClassRef':Ne,'execute':(_0x45b8d4,_0x1a00c7)=>K[_0x4c34bd(0x445)](_0x45b8d4,_0x1a00c7)});return _0x54e701['status'](0xc9)[_0x4c34bd(0x682)](_0x710d28);})[_0x364195(0x66c)](this[_0x364195(0x490)](_0x364195(0x206)),..._0x474866,async(_0x24a4d0,_0x371df7)=>{const _0x552fe0=_0x364195;let _0x4ae8de=await this[_0x552fe0(0x5fb)]({'request':_0x24a4d0,'schema':ua,'ClassRef':dt,'execute':(_0x131e76,_0x777d7b)=>K[_0x552fe0(0x206)](_0x131e76,_0x777d7b)});return _0x371df7[_0x552fe0(0x697)](0xc9)[_0x552fe0(0x682)](_0x4ae8de);})[_0x364195(0x66c)](this[_0x364195(0x490)](_0x364195(0x392)),..._0x474866,async(_0x139faf,_0x5a15df)=>{const _0x6c6a86=_0x364195;let _0x4dbf57=await this['dataValidate']({'request':_0x139faf,'schema':da,'ClassRef':pt,'execute':(_0x26588f,_0x58ec84)=>K[_0x6c6a86(0x392)](_0x26588f,_0x58ec84)});return _0x5a15df['status'](0xc9)[_0x6c6a86(0x682)](_0x4dbf57);})[_0x364195(0x66c)](this['routerPath'](_0x364195(0x627)),..._0x474866,async(_0x1dfd86,_0x2fe21f)=>{const _0x3df425=_0x364195;let _0x2ed14a=await this['dataValidate']({'request':_0x1dfd86,'schema':pa,'ClassRef':gt,'execute':(_0x908ff2,_0x2b559f)=>K[_0x3df425(0x627)](_0x908ff2,_0x2b559f)});return _0x2fe21f[_0x3df425(0x697)](0xc9)[_0x3df425(0x682)](_0x2ed14a);})[_0x364195(0x66c)](this['routerPath'](_0x364195(0x185)),..._0x474866,async(_0x5149d8,_0x279ec1)=>{const _0x540dce=_0x364195;let _0x9b06d1=await this[_0x540dce(0x5fb)]({'request':_0x5149d8,'schema':ga,'ClassRef':mt,'execute':(_0x2a0613,_0x1a7456)=>K['sendContact'](_0x2a0613,_0x1a7456)});return _0x279ec1['status'](0xc9)[_0x540dce(0x682)](_0x9b06d1);})['post'](this['routerPath'](_0x364195(0x543)),..._0x474866,async(_0x237205,_0x5b410f)=>{const _0x240254=_0x364195;let _0xdf1935=await this['dataValidate']({'request':_0x237205,'schema':ma,'ClassRef':ht,'execute':(_0x301051,_0x4c2e02)=>K['sendReaction'](_0x301051,_0x4c2e02)});return _0x5b410f[_0x240254(0x697)](0xc9)[_0x240254(0x682)](_0xdf1935);})[_0x364195(0x66c)](this[_0x364195(0x490)]('sendPoll'),..._0x474866,async(_0x8df42,_0x3f2dd8)=>{const _0x3c071a=_0x364195;let _0x41d205=await this[_0x3c071a(0x5fb)]({'request':_0x8df42,'schema':la,'ClassRef':lt,'execute':(_0x275dd0,_0x4799c6)=>K[_0x3c071a(0x583)](_0x275dd0,_0x4799c6)});return _0x3f2dd8['status'](0xc9)[_0x3c071a(0x682)](_0x41d205);})['post'](this['routerPath'](_0x364195(0x50c)),..._0x474866,async(_0x5e71ea,_0x363544)=>{const _0x43b161=_0x364195;let _0x497904=await this[_0x43b161(0x5fb)]({'request':_0x5e71ea,'schema':ia,'ClassRef':ct,'execute':(_0x2eae97,_0x4b968c)=>K[_0x43b161(0x50c)](_0x2eae97,_0x4b968c)});return _0x363544[_0x43b161(0x697)](0xc9)['json'](_0x497904);})[_0x364195(0x66c)](this[_0x364195(0x490)]('sendSticker'),..._0x474866,async(_0x1f0602,_0x5b8c80)=>{const _0x2095b1=_0x364195;let _0x331620=await this[_0x2095b1(0x5fb)]({'request':_0x1f0602,'schema':ra,'ClassRef':ut,'execute':(_0x36df1e,_0x4345aa)=>K['sendSticker'](_0x36df1e,_0x4345aa)});return _0x5b8c80[_0x2095b1(0x697)](0xc9)['json'](_0x331620);});}},Fa=require(a0_0xffba68(0x321)),wt=class extends k{constructor(..._0x2def53){const _0x24904e=a0_0xffba68;super(),this['router']=(0x0,Fa['Router'])(),this[_0x24904e(0x4b0)][_0x24904e(0x4e4)](this['routerPath'](_0x24904e(0x426)),..._0x2def53,(_0x344547,_0x40e640)=>Ba[_0x24904e(0x426)](_0x344547,_0x40e640));}},qa=require(a0_0xffba68(0x321)),yt=class{},bt=class extends k{constructor(..._0x5754d0){const _0x316d72=a0_0xffba68;super(),this[_0x316d72(0x4b0)]=(0x0,qa['Router'])(),this[_0x316d72(0x4b0)]['post'](this[_0x316d72(0x490)]('set'),..._0x5754d0,async(_0x12b61f,_0x39aca4)=>{const _0x2b7d25=_0x316d72;let _0x584e01=await this[_0x2b7d25(0x5fb)]({'request':_0x12b61f,'schema':xa,'ClassRef':yt,'execute':(_0x2774e7,_0x5534f7)=>ls['createWebhook'](_0x2774e7,_0x5534f7)});_0x39aca4['status'](0xc9)[_0x2b7d25(0x682)](_0x584e01);})[_0x316d72(0x4e4)](this[_0x316d72(0x490)](_0x316d72(0x59a)),..._0x5754d0,async(_0xe565a1,_0x3cacaf)=>{const _0x4c83fc=_0x316d72;let _0x2e0c90=await this[_0x4c83fc(0x5fb)]({'request':_0xe565a1,'schema':C,'ClassRef':b,'execute':_0x330905=>ls['findWebhook'](_0x330905)});_0x3cacaf['status'](0xc8)['json'](_0x2e0c90);});}},Ga=require(a0_0xffba68(0x321)),m=new N('FlowRouter'),St=class extends k{constructor(..._0x32e80b){const _0x5c5049=a0_0xffba68;super(),this[_0x5c5049(0x4b0)]=(0x0,Ga[_0x5c5049(0x4ce)])(),this[_0x5c5049(0x4b0)][_0x5c5049(0x66c)](this[_0x5c5049(0x490)](_0x5c5049(0x663)),..._0x32e80b,async(_0x44dde4,_0x44a123)=>{const _0x14f9ad=_0x5c5049;let _0x1743c1=_0x44dde4[_0x14f9ad(0x5a3)];m[_0x14f9ad(0x5be)](_0x14f9ad(0x6bf)),m[_0x14f9ad(0x5be)](_0x14f9ad(0x559)),m[_0x14f9ad(0x5be)](_0x44dde4[_0x14f9ad(0x5a3)]);let _0x535570=await this[_0x14f9ad(0x5fb)]({'request':_0x44dde4,'schema':C,'ClassRef':b,'execute':_0x3a2fae=>R['editScheduleMessage'](_0x3a2fae,_0x1743c1)});_0x44a123[_0x14f9ad(0x697)](0xc8)['json'](_0x535570);})['get'](this[_0x5c5049(0x490)]('scheduleMessage'),..._0x32e80b,async(_0x27d395,_0x39315a)=>{const _0x48162e=_0x5c5049;let _0x510a1c=await this[_0x48162e(0x5fb)]({'request':_0x27d395,'schema':C,'ClassRef':b,'execute':_0x35eafd=>R[_0x48162e(0x671)](_0x35eafd)});_0x39315a[_0x48162e(0x697)](0xc8)[_0x48162e(0x682)](_0x510a1c);})[_0x5c5049(0x64b)](this['routerPath'](_0x5c5049(0x432)),..._0x32e80b,async(_0x3662ee,_0x351534)=>{const _0x1ebd93=_0x5c5049;m[_0x1ebd93(0x5be)](_0x1ebd93(0x585));let _0x3c271c=await this[_0x1ebd93(0x5fb)]({'request':_0x3662ee,'schema':C,'ClassRef':b,'execute':_0x5a8d45=>R[_0x1ebd93(0x432)](_0x5a8d45)});_0x351534[_0x1ebd93(0x697)](0xc8)['json'](_0x3c271c);})[_0x5c5049(0x66c)](this[_0x5c5049(0x490)](_0x5c5049(0x6ba)),..._0x32e80b,async(_0x50dcf3,_0x493e97)=>{const _0x1d259e=_0x5c5049;let _0x2d906f=_0x50dcf3[_0x1d259e(0x5a3)];m[_0x1d259e(0x5be)](_0x1d259e(0x28a)),m['verbose'](_0x1d259e(0x559)),m[_0x1d259e(0x5be)](_0x50dcf3[_0x1d259e(0x5a3)]);let _0x3310c8=await this[_0x1d259e(0x5fb)]({'request':_0x50dcf3,'schema':C,'ClassRef':b,'execute':_0x50802d=>R[_0x1d259e(0x6ba)](_0x50802d,_0x2d906f)});_0x493e97['status'](0xc8)[_0x1d259e(0x682)](_0x3310c8);})[_0x5c5049(0x4e4)](this[_0x5c5049(0x490)](_0x5c5049(0x6af)),..._0x32e80b,async(_0x4517dc,_0x43f410)=>{const _0x599993=_0x5c5049;m['verbose']('request\x20received\x20in\x20getAutomateSystem');let _0x473f07=await this['dataValidate']({'request':_0x4517dc,'schema':C,'ClassRef':b,'execute':_0x20c53b=>R['getAutomateSystem'](_0x20c53b)});_0x43f410[_0x599993(0x697)](0xc8)[_0x599993(0x682)](_0x473f07);})[_0x5c5049(0x4e4)](this[_0x5c5049(0x490)]('getTicketSystem'),..._0x32e80b,async(_0x54dab3,_0x3a46c5)=>{const _0x1166d9=_0x5c5049;m[_0x1166d9(0x5be)](_0x1166d9(0x202));let _0x5cc490=await this[_0x1166d9(0x5fb)]({'request':_0x54dab3,'schema':C,'ClassRef':b,'execute':_0x4e0718=>R[_0x1166d9(0x6af)](_0x4e0718)});_0x3a46c5[_0x1166d9(0x697)](0xc8)['json'](_0x5cc490);})[_0x5c5049(0x66c)](this[_0x5c5049(0x490)](_0x5c5049(0x643)),..._0x32e80b,async(_0x426f2b,_0x141858)=>{const _0x1891bb=_0x5c5049;let _0x5b07ad=_0x426f2b[_0x1891bb(0x5a3)];m[_0x1891bb(0x5be)](_0x1891bb(0x4db)),m[_0x1891bb(0x5be)]('request\x20body:\x20'),m['verbose'](_0x426f2b[_0x1891bb(0x5a3)]);let _0x483f82=await this[_0x1891bb(0x5fb)]({'request':_0x426f2b,'schema':C,'ClassRef':b,'execute':_0x47509e=>R[_0x1891bb(0x643)](_0x47509e,_0x5b07ad)});_0x141858['status'](0xc8)[_0x1891bb(0x682)](_0x483f82);})[_0x5c5049(0x66c)](this[_0x5c5049(0x490)](_0x5c5049(0x5ba)),..._0x32e80b,async(_0x557294,_0x98f5f9)=>{const _0x20d8d6=_0x5c5049;let _0x248aa7=_0x557294[_0x20d8d6(0x5a3)];m[_0x20d8d6(0x5be)](_0x20d8d6(0x55e)),m[_0x20d8d6(0x5be)](_0x20d8d6(0x559)),m[_0x20d8d6(0x5be)](_0x557294['body']);let _0x10bd9d=await this[_0x20d8d6(0x5fb)]({'request':_0x557294,'schema':C,'ClassRef':b,'execute':_0x2b39aa=>R[_0x20d8d6(0x5ba)](_0x2b39aa,_0x248aa7)});_0x98f5f9[_0x20d8d6(0x697)](0xc8)[_0x20d8d6(0x682)](_0x10bd9d);})['post'](this[_0x5c5049(0x490)](_0x5c5049(0x6b9)),..._0x32e80b,async(_0x2f8d0b,_0x12674c)=>{const _0xceb6c1=_0x5c5049;let _0x4fc52a=_0x2f8d0b['body'];m[_0xceb6c1(0x5be)](_0xceb6c1(0x6b5)),m['verbose'](_0xceb6c1(0x559)),m['verbose'](_0x2f8d0b['body']);let _0x3ec779=await this[_0xceb6c1(0x5fb)]({'request':_0x2f8d0b,'schema':C,'ClassRef':b,'execute':_0x8cc8f8=>R[_0xceb6c1(0x6b9)](_0x8cc8f8,_0x4fc52a)});_0x12674c['status'](0xc8)['json'](_0x3ec779);})[_0x5c5049(0x66c)](this['routerPath'](_0x5c5049(0x188)),..._0x32e80b,async(_0x3c1b72,_0x3acad8)=>{const _0x5429e5=_0x5c5049;let _0x559cc9=_0x3c1b72[_0x5429e5(0x5a3)];m[_0x5429e5(0x5be)](_0x5429e5(0x6b1)),m['verbose'](_0x5429e5(0x559)),m['verbose'](_0x3c1b72[_0x5429e5(0x5a3)]);let _0x35dab3=await this[_0x5429e5(0x5fb)]({'request':_0x3c1b72,'schema':C,'ClassRef':b,'execute':_0x4c40f6=>R[_0x5429e5(0x188)](_0x4c40f6,_0x559cc9)});_0x3acad8['status'](0xc8)[_0x5429e5(0x682)](_0x35dab3);})['post'](this[_0x5c5049(0x490)](_0x5c5049(0x572)),..._0x32e80b,async(_0x2f042d,_0x2ce9d6)=>{const _0x5ad9d4=_0x5c5049;let _0x4adb07=_0x2f042d['body'];m[_0x5ad9d4(0x5be)](_0x5ad9d4(0x34f)),m[_0x5ad9d4(0x5be)](_0x5ad9d4(0x559)),m[_0x5ad9d4(0x5be)](_0x2f042d['body']);let _0x1aa2ea=await this['dataValidate']({'request':_0x2f042d,'schema':C,'ClassRef':b,'execute':_0x1db759=>R[_0x5ad9d4(0x572)](_0x1db759,_0x4adb07)});_0x2ce9d6['status'](0xc8)[_0x5ad9d4(0x682)](_0x1aa2ea);})[_0x5c5049(0x66c)](this[_0x5c5049(0x490)]('editConversation'),..._0x32e80b,async(_0x25bc16,_0x3e73e4)=>{const _0x22cc2d=_0x5c5049;let _0xdb5e39=_0x25bc16[_0x22cc2d(0x5a3)];m[_0x22cc2d(0x5be)]('request\x20received\x20in\x20editConversation'),m[_0x22cc2d(0x5be)](_0x22cc2d(0x559)),m['verbose'](_0x25bc16[_0x22cc2d(0x5a3)]);let _0x3e565c=await this[_0x22cc2d(0x5fb)]({'request':_0x25bc16,'schema':C,'ClassRef':b,'execute':_0x5e9702=>R[_0x22cc2d(0x313)](_0x5e9702,_0xdb5e39)});_0x3e73e4[_0x22cc2d(0x697)](0xc8)[_0x22cc2d(0x682)](_0x3e565c);})[_0x5c5049(0x64b)](this[_0x5c5049(0x490)](_0x5c5049(0x561)),..._0x32e80b,async(_0x1e1602,_0x172d50)=>{const _0x5ee244=_0x5c5049;let _0x24d923=_0x1e1602[_0x5ee244(0x5a3)];m[_0x5ee244(0x5be)](_0x5ee244(0x4c5)),m[_0x5ee244(0x5be)](_0x5ee244(0x559)),m['verbose'](_0x1e1602[_0x5ee244(0x5a3)]);let _0x3ea6e8=await this[_0x5ee244(0x5fb)]({'request':_0x1e1602,'schema':C,'ClassRef':b,'execute':_0x5c50fb=>R[_0x5ee244(0x561)](_0x5c50fb,_0x24d923)});_0x172d50[_0x5ee244(0x697)](0xc8)[_0x5ee244(0x682)](_0x3ea6e8);})[_0x5c5049(0x66c)](this[_0x5c5049(0x490)](_0x5c5049(0x69f)),..._0x32e80b,async(_0x2d8a29,_0x1b5c91)=>{const _0x4a4b98=_0x5c5049;let _0x4f5cbc=_0x2d8a29['body'];m[_0x4a4b98(0x5be)]('request\x20received\x20in\x20createFlow'),m[_0x4a4b98(0x5be)]('request\x20body:\x20'),m[_0x4a4b98(0x5be)](_0x2d8a29[_0x4a4b98(0x5a3)]);let _0x37733f=await this[_0x4a4b98(0x5fb)]({'request':_0x2d8a29,'schema':C,'ClassRef':b,'execute':_0x9c8d71=>R[_0x4a4b98(0x686)](_0x9c8d71,_0x4f5cbc)});_0x1b5c91['status'](0xc8)[_0x4a4b98(0x682)](_0x37733f);})[_0x5c5049(0x66c)](this[_0x5c5049(0x490)]('editflow'),..._0x32e80b,async(_0x17796f,_0x352525)=>{const _0x5a1eae=_0x5c5049;let _0x30ea35=_0x17796f[_0x5a1eae(0x5a3)];m['verbose'](_0x5a1eae(0x4ba)),m[_0x5a1eae(0x5be)](_0x5a1eae(0x559)),m['verbose'](_0x17796f[_0x5a1eae(0x5a3)]),delete _0x30ea35['blocks'],delete _0x30ea35[_0x5a1eae(0x5f3)],delete _0x30ea35[_0x5a1eae(0x454)],delete _0x30ea35[_0x5a1eae(0x1a1)];let _0x45e0b7=await this[_0x5a1eae(0x5fb)]({'request':_0x17796f,'schema':C,'ClassRef':b,'execute':_0x36e6dd=>R['editFlow'](_0x36e6dd,_0x30ea35)});_0x352525['status'](0xc8)[_0x5a1eae(0x682)](_0x45e0b7);})[_0x5c5049(0x66c)](this['routerPath'](_0x5c5049(0x2aa)),..._0x32e80b,async(_0x50ff79,_0xffd0fa)=>{const _0x1b381d=_0x5c5049;let _0x53381a=_0x50ff79[_0x1b381d(0x5a3)];m['verbose']('request\x20received\x20in\x20editFlow'),m[_0x1b381d(0x5be)]('request\x20body:\x20'),m[_0x1b381d(0x5be)](_0x50ff79['body']);let _0x37e086=await this[_0x1b381d(0x5fb)]({'request':_0x50ff79,'schema':C,'ClassRef':b,'execute':_0x897e38=>R[_0x1b381d(0x6aa)](_0x897e38,_0x53381a)});_0xffd0fa[_0x1b381d(0x697)](0xc8)[_0x1b381d(0x682)](_0x37e086);})[_0x5c5049(0x66c)](this['routerPath'](_0x5c5049(0x361)),..._0x32e80b,async(_0x3e20ae,_0x221dc6)=>{const _0x2738e2=_0x5c5049;let _0x22eeee=_0x3e20ae['body'];m['verbose'](_0x2738e2(0x4ba)),m[_0x2738e2(0x5be)]('request\x20body:\x20'),m[_0x2738e2(0x5be)](_0x3e20ae[_0x2738e2(0x5a3)]);let _0x1e1ce4=await this['dataValidate']({'request':_0x3e20ae,'schema':C,'ClassRef':b,'execute':_0x50cec0=>R[_0x2738e2(0x36a)](_0x50cec0,_0x22eeee)});_0x221dc6[_0x2738e2(0x697)](0xc8)[_0x2738e2(0x682)](_0x1e1ce4);})[_0x5c5049(0x66c)](this[_0x5c5049(0x490)](_0x5c5049(0x255)),..._0x32e80b,async(_0x541e50,_0x8069d5)=>{const _0x353ef7=_0x5c5049;let _0x55b080=_0x541e50[_0x353ef7(0x5a3)];m[_0x353ef7(0x5be)](_0x353ef7(0x4ba)),m['verbose'](_0x353ef7(0x559)),m[_0x353ef7(0x5be)](_0x541e50[_0x353ef7(0x5a3)]);let _0x3c7f9d=await this[_0x353ef7(0x5fb)]({'request':_0x541e50,'schema':C,'ClassRef':b,'execute':_0x1d5bbb=>R[_0x353ef7(0x45e)](_0x1d5bbb,_0x55b080)});_0x8069d5['status'](0xc8)['json'](_0x3c7f9d);})[_0x5c5049(0x66c)](this['routerPath'](_0x5c5049(0x2da)),..._0x32e80b,async(_0x10d6c5,_0x551e0e)=>{const _0x225c0f=_0x5c5049;let _0xa78de3=_0x10d6c5[_0x225c0f(0x5a3)];m['verbose']('request\x20received\x20in\x20editFlowgroup'),m['verbose'](_0x225c0f(0x559)),m[_0x225c0f(0x5be)](_0x10d6c5[_0x225c0f(0x5a3)]);let _0x4d5028=await this['dataValidate']({'request':_0x10d6c5,'schema':C,'ClassRef':b,'execute':_0x3b5f6e=>R[_0x225c0f(0x6ad)](_0x3b5f6e,_0xa78de3)});_0x551e0e[_0x225c0f(0x697)](0xc8)[_0x225c0f(0x682)](_0x4d5028);})[_0x5c5049(0x66c)](this[_0x5c5049(0x490)]('editflowcondition'),..._0x32e80b,async(_0x3ebb3,_0x521934)=>{const _0x31e3ab=_0x5c5049;let _0x3fb1f9=_0x3ebb3[_0x31e3ab(0x5a3)];m[_0x31e3ab(0x5be)](_0x31e3ab(0x507)),m['verbose']('request\x20body:\x20'),m['verbose'](_0x3ebb3[_0x31e3ab(0x5a3)]);let _0x31b3c7=await this[_0x31e3ab(0x5fb)]({'request':_0x3ebb3,'schema':C,'ClassRef':b,'execute':_0x1f40d3=>R['editFlowCondition'](_0x1f40d3,_0x3fb1f9)});_0x521934[_0x31e3ab(0x697)](0xc8)[_0x31e3ab(0x682)](_0x31b3c7);})[_0x5c5049(0x66c)](this[_0x5c5049(0x490)](_0x5c5049(0x1bd)),..._0x32e80b,async(_0x427430,_0x5af569)=>{const _0x36b2e3=_0x5c5049;let _0x512fc7=_0x427430[_0x36b2e3(0x5a3)];m[_0x36b2e3(0x5be)](_0x36b2e3(0x205)),m['verbose'](_0x36b2e3(0x559)),m['verbose'](_0x427430[_0x36b2e3(0x5a3)]);let _0x3a5b89=await this[_0x36b2e3(0x5fb)]({'request':_0x427430,'schema':C,'ClassRef':b,'execute':_0x2d192d=>R[_0x36b2e3(0x55a)](_0x2d192d,_0x512fc7)});_0x5af569['status'](0xc8)['json'](_0x3a5b89);})[_0x5c5049(0x66c)](this['routerPath'](_0x5c5049(0x29f)),..._0x32e80b,async(_0x1b0376,_0x46edcd)=>{const _0x257e3e=_0x5c5049;let _0x24dd17=_0x1b0376['body'];m[_0x257e3e(0x5be)](_0x257e3e(0x4e2)),m[_0x257e3e(0x5be)](_0x257e3e(0x559)),m[_0x257e3e(0x5be)](_0x1b0376[_0x257e3e(0x5a3)]);let _0x2ed2b3=await this[_0x257e3e(0x5fb)]({'request':_0x1b0376,'schema':C,'ClassRef':b,'execute':_0x3131f=>R['getFlow'](_0x3131f,_0x24dd17)});_0x46edcd[_0x257e3e(0x697)](0xc8)[_0x257e3e(0x682)](_0x2ed2b3);})[_0x5c5049(0x64b)](this[_0x5c5049(0x490)]('deleteflow'),..._0x32e80b,async(_0x2231cc,_0x506a09)=>{const _0x4582d2=_0x5c5049;let _0x4c5a1d=_0x2231cc[_0x4582d2(0x5a3)];m[_0x4582d2(0x5be)](_0x4582d2(0x372)),m[_0x4582d2(0x5be)]('request\x20body:\x20'),m['verbose'](_0x2231cc[_0x4582d2(0x5a3)]);let _0x4e0e3e=await this[_0x4582d2(0x5fb)]({'request':_0x2231cc,'schema':C,'ClassRef':b,'execute':_0x45b2b7=>R[_0x4582d2(0x50a)](_0x45b2b7,_0x4c5a1d)});_0x506a09[_0x4582d2(0x697)](0xc8)[_0x4582d2(0x682)](_0x4e0e3e);})[_0x5c5049(0x4e4)](this['routerPath']('allflows'),..._0x32e80b,async(_0x5399fb,_0xefbd51)=>{const _0x3810cd=_0x5c5049;m[_0x3810cd(0x5be)](_0x3810cd(0x238));let _0x1291fc=await this['dataValidate']({'request':_0x5399fb,'schema':C,'ClassRef':b,'execute':_0xbcec35=>R[_0x3810cd(0x3a8)](_0xbcec35)});_0xefbd51[_0x3810cd(0x697)](0xc8)[_0x3810cd(0x682)](_0x1291fc);});}},Ka=T(require('path')),ee={};function Ja(_0xaed650,_0x824813,_0x43e5b7,_0x251ac6){ee[_0xaed650]||(ee[_0xaed650]={}),ee[_0xaed650][_0x824813]={'id':_0x824813,'response':_0x43e5b7,'events':_0x251ac6};}function Wa(_0x378351,_0x39b8ae){!ee[_0x378351]||!ee[_0x378351][_0x39b8ae]||delete ee[_0x378351][_0x39b8ae];}function B(_0x2fd4cc,_0x2b8232,_0x1459d5){const _0x12d230=a0_0xffba68;if(!ee[_0x2fd4cc])return;let _0x3911da='data:\x20'+JSON['stringify'](_0x1459d5)+'\x0a\x0a';Object[_0x12d230(0x640)](ee[_0x2fd4cc])[_0x12d230(0x6d1)](_0x30b8ca=>{const _0x4b641f=_0x12d230;_0x30b8ca[_0x4b641f(0x1dc)][_0x4b641f(0x6ac)](_0x2b8232)&&_0x30b8ca[_0x4b641f(0x4f7)][_0x4b641f(0x37e)](_0x3911da);});}function Ha(){const _0x230182=a0_0xffba68;let _0x29382c={};for(let _0x549f54 in ee)_0x29382c[_0x549f54]=Object[_0x230182(0x640)](ee[_0x549f54])[_0x230182(0x326)](_0xf159da=>({'id':_0xf159da['id'],'events':_0xf159da[_0x230182(0x1dc)]}));return _0x29382c;}var za=require(a0_0xffba68(0x40d)),Go=Ka[a0_0xffba68(0x58d)][a0_0xffba68(0x226)](__dirname,a0_0xffba68(0x433)),vt=(0x0,Et['Router'])(),Jo=E['get'](a0_0xffba68(0x12c))[a0_0xffba68(0x40a)],le=[rs,Xs,ta[Jo]];vt['use']('/media',Et[a0_0xffba68(0x58d)][a0_0xffba68(0x3ac)](Go))['get'](a0_0xffba68(0x5d9),async(_0xd00775,_0x467571)=>{const _0x5f34a9=a0_0xffba68;console['log']('bateu\x20events');let _0xf1d12d=_0xd00775[_0x5f34a9(0x4f9)][_0x5f34a9(0x267)],_0x206c76=(_0xd00775[_0x5f34a9(0x31f)][_0x5f34a9(0x1dc)]||'')['split'](','),_0xf96811=(0x0,za['v4'])();console[_0x5f34a9(0x550)](_0x5f34a9(0x1be),_0xf1d12d),console[_0x5f34a9(0x550)](_0x5f34a9(0x626),_0x206c76);let _0x257f6a=E[_0x5f34a9(0x4e4)]('AUTHENTICATION')[_0x5f34a9(0x3b5)],_0x419f68=_0xd00775[_0x5f34a9(0x31f)][_0x5f34a9(0x423)];if(console['log'](_0x5f34a9(0x5e1),_0x419f68),_0x257f6a[_0x5f34a9(0x13c)]!==_0x419f68){console[_0x5f34a9(0x550)](_0x5f34a9(0x45d));try{let _0x56b762=await ce['auth'][_0x5f34a9(0x59a)](_0xf1d12d);if(console[_0x5f34a9(0x550)](_0x5f34a9(0x6c1),_0x56b762),!_0x56b762||_0x56b762[_0x5f34a9(0x423)]!==_0x419f68)return console[_0x5f34a9(0x550)](_0x5f34a9(0x414)),_0x467571['status'](0x191)[_0x5f34a9(0x6c9)](_0x5f34a9(0x4f0));}catch(_0x272c91){return console[_0x5f34a9(0x1ea)](_0x5f34a9(0x2b0),_0x272c91),_0x467571['status'](0x191)[_0x5f34a9(0x6c9)](_0x5f34a9(0x331));}}if(!await qe(_0xf1d12d))return _0x467571[_0x5f34a9(0x697)](0x194)['send'](_0x5f34a9(0x344));_0x467571[_0x5f34a9(0x261)](_0x5f34a9(0x342),_0x5f34a9(0x1b3)),_0x467571[_0x5f34a9(0x261)]('Cache-Control',_0x5f34a9(0x13f)),_0x467571[_0x5f34a9(0x261)](_0x5f34a9(0x37a),'keep-alive'),_0x467571[_0x5f34a9(0x5ea)]();let _0x293ba2=_0x5f34a9(0x588)+JSON[_0x5f34a9(0x4df)]({'info':_0x5f34a9(0x23c)})+'\x0a\x0a';_0x467571[_0x5f34a9(0x37e)](_0x293ba2),Ja(_0xf1d12d,_0xf96811,_0x467571,_0x206c76),_0xd00775['on'](_0x5f34a9(0x65c),()=>{const _0x4ba0ae=_0x5f34a9;console[_0x4ba0ae(0x550)](_0x4ba0ae(0x218)+_0xf1d12d),Wa(_0xf1d12d,_0xf96811);});}),vt['get'](a0_0xffba68(0x12e),(_0x51cf63,_0x51d162)=>{let _0x1aa035=Ha();_0x51d162['json'](_0x1aa035);})[a0_0xffba68(0x4e4)]('/',(_0x5a5d5d,_0x2ada7b)=>{const _0x478682=a0_0xffba68;let _0x3cc9e5=E[_0x478682(0x4e4)](_0x478682(0x44d)),_0x532603=_0x3cc9e5&&_0x3cc9e5[_0x478682(0x4b9)][_0x478682(0x6b6)]('/')[0x4];if(_0x532603){let _0x6919ca=encodeURIComponent('https://'+_0x532603);_0x2ada7b[_0x478682(0x509)](_0x478682(0x1c1)+_0x6919ca);}else _0x2ada7b[_0x478682(0x509)]('https://uazapi-plugin.bubbleapps.io/');})['put'](a0_0xffba68(0x460),...le,async(_0x4838f6,_0x590352)=>{const _0x41b21e=a0_0xffba68;try{console[_0x41b21e(0x550)](_0x41b21e(0x64d)),_0x590352[_0x41b21e(0x697)](0xc8)[_0x41b21e(0x682)]({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x590352['on'](_0x41b21e(0x1cc),()=>process['exit'](0x0));}catch(_0x57118c){console[_0x41b21e(0x1ea)](_0x41b21e(0x184),_0x57118c),_0x590352['status'](0x1f4)[_0x41b21e(0x682)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0xffba68(0x3fe)](a0_0xffba68(0x142),new it(E,...le)[a0_0xffba68(0x4b0)],new wt(rs)[a0_0xffba68(0x4b0)])[a0_0xffba68(0x3fe)]('/message',new ft(...le)['router'])[a0_0xffba68(0x3fe)](a0_0xffba68(0x650),new Ke(...le)[a0_0xffba68(0x4b0)])[a0_0xffba68(0x3fe)](a0_0xffba68(0x179),new at(...le)[a0_0xffba68(0x4b0)])[a0_0xffba68(0x3fe)](a0_0xffba68(0x1ef),new bt(...le)[a0_0xffba68(0x4b0)])[a0_0xffba68(0x3fe)](a0_0xffba68(0x138),new St(...le)[a0_0xffba68(0x4b0)]);var g=class{constructor(..._0x2bdfd3){const _0x31db09=a0_0xffba68;throw{'status':0x190,'error':_0x31db09(0x377),'message':_0x2bdfd3[_0x31db09(0x26f)]>0x0?_0x2bdfd3:void 0x0};}},re=class{constructor(..._0xc87c2f){const _0x412aed=a0_0xffba68;throw{'status':0x191,'error':_0x412aed(0x641),'message':_0xc87c2f[_0x412aed(0x26f)]>0x0?_0xc87c2f:void 0x0};}},oe=class{constructor(..._0x4c543f){const _0xe8e1e4=a0_0xffba68;throw{'status':0x193,'error':_0xe8e1e4(0x3e9),'message':_0x4c543f['length']>0x0?_0x4c543f:void 0x0};}},x=class{constructor(..._0x56f142){const _0x414f14=a0_0xffba68;throw{'status':0x194,'error':'Not\x20Found','message':_0x56f142[_0x414f14(0x26f)]>0x0?_0x56f142:void 0x0};}},A=class{constructor(..._0x5cc108){const _0xad19c3=a0_0xffba68;throw{'status':0x1f4,'error':_0xad19c3(0x589),'message':_0x5cc108['length']>0x0?_0x5cc108:void 0x0};}},ue=require('@whiskeysockets/baileys');async function us(_0x3b14d3){const _0x54830c=a0_0xffba68;let _0x2898a8=new N(us[_0x54830c(0x114)]),_0x334652=M[_0x54830c(0x4a3)](),_0x149f92=_0x334652['db'](E[_0x54830c(0x4e4)](_0x54830c(0x3e4))[_0x54830c(0x4e7)]['DB_PREFIX_NAME']+'-instances')['collection'](_0x3b14d3),_0x4e0db7=async(_0x25a810,_0x3a1f16)=>{const _0x4fba22=_0x54830c;try{return await _0x334652[_0x4fba22(0x270)](),await _0x149f92[_0x4fba22(0x41f)]({'_id':_0x3a1f16},JSON[_0x4fba22(0x194)](JSON[_0x4fba22(0x4df)](_0x25a810,ue[_0x4fba22(0x1eb)][_0x4fba22(0x536)])),{'upsert':!0x0});}catch{}},_0x436cba=async _0x1bf238=>{const _0x49dfea=_0x54830c;try{await _0x334652[_0x49dfea(0x270)]();let _0x4543dd=await _0x149f92[_0x49dfea(0x590)]({'_id':_0x1bf238}),_0x5195b1=JSON['stringify'](_0x4543dd);return JSON[_0x49dfea(0x194)](_0x5195b1,ue[_0x49dfea(0x1eb)][_0x49dfea(0x397)]);}catch{}},_0x560c9e=async _0x26fc5b=>{const _0x1cb352=_0x54830c;try{return await _0x334652[_0x1cb352(0x270)](),await _0x149f92['deleteOne']({'_id':_0x26fc5b});}catch{}},_0x201d14=await _0x436cba(_0x54830c(0x52c))||(0x0,ue[_0x54830c(0x320)])();return{'state':{'creds':_0x201d14,'keys':{'get':async(_0x125413,_0x1aa797)=>{const _0x265f66=_0x54830c;let _0x234f1c={};return await Promise['all'](_0x1aa797[_0x265f66(0x326)](async _0x2dea0e=>{const _0x307383=_0x265f66;let _0x35658f=await _0x436cba(_0x125413+'-'+_0x2dea0e);_0x125413===_0x307383(0x3f9)&&_0x35658f&&(_0x35658f=ue['proto'][_0x307383(0x673)][_0x307383(0x5ad)][_0x307383(0x402)](_0x35658f)),_0x234f1c[_0x2dea0e]=_0x35658f;})),_0x234f1c;},'set':async _0x12e410=>{const _0x29f0cf=_0x54830c;let _0x31f503=[];for(let _0x5603bd in _0x12e410)for(let _0x35f459 in _0x12e410[_0x5603bd]){let _0x43d95c=_0x12e410[_0x5603bd][_0x35f459],_0x12d457=_0x5603bd+'-'+_0x35f459;_0x31f503[_0x29f0cf(0x55d)](_0x43d95c?_0x4e0db7(_0x43d95c,_0x12d457):_0x560c9e(_0x12d457));}await Promise[_0x29f0cf(0x262)](_0x31f503);}}},'saveCreds':async()=>_0x4e0db7(_0x201d14,_0x54830c(0x52c))};}var ps=T(require('long')),gs=T(require(a0_0xffba68(0x3a3))),Tt=require('@whiskeysockets/baileys'),Qa=require(a0_0xffba68(0x38d)),Nt=require('@whiskeysockets/baileys'),Ct;function Wo(_0x371c5d){const _0x220ad4=a0_0xffba68;return Ct||(Ct=(0x0,Qa[_0x220ad4(0x34a)])({'url':_0x371c5d[_0x220ad4(0x512)]}),Ct[_0x220ad4(0x270)]()),Ct;}var fe=class c{constructor(_0x2f3ec1,_0x26444a){const _0x30cb62=a0_0xffba68;this[_0x30cb62(0x636)]=_0x2f3ec1,this['instanceName']=_0x26444a,this[_0x30cb62(0x6c0)]=new N(c[_0x30cb62(0x114)]),this[_0x30cb62(0x49f)]=Wo(_0x2f3ec1);}set['reference'](_0x36a26e){const _0x118ffa=a0_0xffba68;this[_0x118ffa(0x1c4)]=_0x36a26e;}async['instanceKeys'](){const _0x53d44c=a0_0xffba68;try{return await this['client'][_0x53d44c(0x1fb)](['keys',this[_0x53d44c(0x636)][_0x53d44c(0x2a5)]+':*']);}catch(_0x307fb0){this['logger'][_0x53d44c(0x1ea)](_0x307fb0);}}async[a0_0xffba68(0x168)](_0x2324e9,_0x1af6c9){const _0x36ef24=a0_0xffba68;try{let _0x58400c=JSON[_0x36ef24(0x4df)](_0x1af6c9,Nt[_0x36ef24(0x1eb)][_0x36ef24(0x536)]);return await this[_0x36ef24(0x49f)][_0x36ef24(0x369)](this[_0x36ef24(0x636)][_0x36ef24(0x2a5)]+':'+this[_0x36ef24(0x1c4)],_0x2324e9,_0x58400c);}catch(_0x12ff43){this[_0x36ef24(0x6c0)][_0x36ef24(0x1ea)](_0x12ff43);}}async[a0_0xffba68(0x3b2)](){const _0x52d8cf=a0_0xffba68;try{let _0x41f86c=await this['client'][_0x52d8cf(0x47e)](this[_0x52d8cf(0x636)][_0x52d8cf(0x2a5)]+':'+this[_0x52d8cf(0x1c4)]);if(_0x41f86c){for(let _0x2e814f in _0x41f86c)Object[_0x52d8cf(0x554)]['hasOwnProperty']['call'](_0x41f86c,_0x2e814f)&&(_0x41f86c[_0x2e814f]=JSON[_0x52d8cf(0x194)](_0x41f86c[_0x2e814f],Nt['BufferJSON'][_0x52d8cf(0x397)]));return _0x41f86c;}}catch(_0x31f4d9){this['logger'][_0x52d8cf(0x1ea)](_0x31f4d9);}}async[a0_0xffba68(0x32d)](_0x1a6810){const _0x1afca1=a0_0xffba68;try{let _0x2d2f15=await this['client'][_0x1afca1(0x5c4)](this[_0x1afca1(0x636)]['PREFIX_KEY']+':'+this[_0x1afca1(0x1c4)],_0x1a6810);if(_0x2d2f15)return JSON[_0x1afca1(0x194)](_0x2d2f15,Nt[_0x1afca1(0x1eb)]['reviver']);}catch(_0x1a2379){this[_0x1afca1(0x6c0)][_0x1afca1(0x1ea)](_0x1a2379);}}async[a0_0xffba68(0x122)](_0x46a571){const _0x5b7f49=a0_0xffba68;try{return await this[_0x5b7f49(0x49f)][_0x5b7f49(0x1c0)](this['redisEnv'][_0x5b7f49(0x2a5)]+':'+this[_0x5b7f49(0x1c4)],_0x46a571);}catch(_0xd2a3d5){this['logger']['error'](_0xd2a3d5);}}async['delAll'](_0x4c8727){const _0x22db58=a0_0xffba68;try{return await this['client'][_0x22db58(0x2cf)](_0x4c8727||this[_0x22db58(0x636)]['PREFIX_KEY']+':'+this[_0x22db58(0x1c4)]);}catch(_0x4a386e){this[_0x22db58(0x6c0)]['error'](_0x4a386e);}}};async function ds(_0x25f52a,_0x116009){const _0x200c58=a0_0xffba68;let _0x34dd18=new N(ds[_0x200c58(0x114)]),_0x57a28e=new fe(_0x25f52a,_0x116009),_0x6bab0a=async(_0x4a459f,_0xeead02)=>{const _0xf936a5=_0x200c58;try{return await _0x57a28e[_0xf936a5(0x168)](_0xeead02,_0x4a459f);}catch(_0x1023de){return _0x34dd18[_0xf936a5(0x1ea)]({'localError':_0xf936a5(0x168),'error':_0x1023de});}},_0x3a730e=async _0x5ab2d2=>{const _0x5f4eb8=_0x200c58;try{return await _0x57a28e[_0x5f4eb8(0x32d)](_0x5ab2d2);}catch(_0x39a615){_0x34dd18[_0x5f4eb8(0x1ea)]({'readData':'writeData','error':_0x39a615});return;}},_0x58a60c=async _0x525b29=>{const _0x57db0f=_0x200c58;try{return await _0x57a28e[_0x57db0f(0x122)](_0x525b29);}catch(_0x33fb3e){_0x34dd18[_0x57db0f(0x1ea)]({'readData':_0x57db0f(0x122),'error':_0x33fb3e});}},_0x307d47=await _0x3a730e('creds')||(0x0,Tt[_0x200c58(0x320)])();return{'state':{'creds':_0x307d47,'keys':{'get':async(_0x22bc76,_0x4d5ee3)=>{const _0x5a7077=_0x200c58;let _0x228d02={};return await Promise[_0x5a7077(0x262)](_0x4d5ee3[_0x5a7077(0x326)](async _0x5156cf=>{const _0xcbadfb=_0x5a7077;let _0x53ae5f=await _0x3a730e(_0x22bc76+'-'+_0x5156cf);_0x22bc76===_0xcbadfb(0x3f9)&&_0x53ae5f&&(_0x53ae5f=Tt[_0xcbadfb(0x346)]['Message'][_0xcbadfb(0x5ad)][_0xcbadfb(0x402)](_0x53ae5f)),_0x228d02[_0x5156cf]=_0x53ae5f;})),_0x228d02;},'set':async _0x39c752=>{const _0x4d5d0b=_0x200c58;let _0x251b78=[];for(let _0x4fe4af in _0x39c752)for(let _0x77335f in _0x39c752[_0x4fe4af]){let _0x21a8dc=_0x39c752[_0x4fe4af][_0x77335f],_0x2f761a=_0x4fe4af+'-'+_0x77335f;_0x251b78[_0x4d5d0b(0x55d)](_0x21a8dc?await _0x6bab0a(_0x21a8dc,_0x2f761a):await _0x58a60c(_0x2f761a));}await Promise[_0x4d5d0b(0x262)](_0x251b78);}}},'saveCreds':async()=>await _0x6bab0a(_0x307d47,_0x200c58(0x52c))};}var P=T(require('fs')),At=require(a0_0xffba68(0x40d)),It=T(require(a0_0xffba68(0x2e1)));function J(_0x28b434){const _0x4bd9b6=a0_0xffba68;if(_0x28b434['viewOnceMessage']||_0x28b434['viewOnceMessageV2']){let _0x52cb1c=_0x28b434['viewOnceMessage']?_0x28b434[_0x4bd9b6(0x49c)][_0x4bd9b6(0x65d)]:_0x28b434[_0x4bd9b6(0x378)]['message'];return(0x0,w[_0x4bd9b6(0x5f0)])(_0x52cb1c);}return _0x28b434['pollCreationMessageV3']?_0x4bd9b6(0x244):_0x28b434[_0x4bd9b6(0x595)]?'pollCreationMessageV2':(0x0,w['getContentType'])(_0x28b434);}var ye=class c{constructor(_0x100f5c,_0x181815,_0x4fcef7){const _0x53d2ab=a0_0xffba68;this[_0x53d2ab(0x1e8)]=_0x100f5c,this['eventEmitter']=_0x181815,this['repository']=_0x4fcef7,this['AutomateSystem']=null,this['logger']=new N(c['name']),this[_0x53d2ab(0x267)]={},this[_0x53d2ab(0x6b3)]={},this[_0x53d2ab(0x17e)]={'state':_0x53d2ab(0x65c)},this['storePath']=(0x0,$['join'])(Q,_0x53d2ab(0x433)),this[_0x53d2ab(0x167)]=new gs[(_0x53d2ab(0x58d))](),this[_0x53d2ab(0x563)]=new gs[(_0x53d2ab(0x58d))](),this[_0x53d2ab(0x14a)]=!0x1,this[_0x53d2ab(0x66d)]={'status.instance':_0x53d2ab(0x1a5),'qrcode.updated':_0x53d2ab(0x1b6),'messages.upsert':'/wa-message','messages.update':_0x53d2ab(0x1d9),'send.message':_0x53d2ab(0x2af),'group.upsert':_0x53d2ab(0x5a8),'group.update':_0x53d2ab(0x5a8),'group-participants.update':_0x53d2ab(0x5a8),'connection.update':_0x53d2ab(0x1a5),'messages.set':_0x53d2ab(0x2af),'contacts.set':_0x53d2ab(0x579),'contacts.upsert':_0x53d2ab(0x579),'contacts.update':_0x53d2ab(0x579),'presence.update':'/wa-presence','chats.set':_0x53d2ab(0x693),'chats.update':'/wa-chats','chats.upsert':'/wa-chats','chats.delete':_0x53d2ab(0x693)},this[_0x53d2ab(0x2e5)]=0x0,this['reconnectTimestamps']=[],this['MAX_RECONNECT_ATTEMPTS']=0xf,this[_0x53d2ab(0x540)]=0x7530,this[_0x53d2ab(0x1bf)]=!0x1,this[_0x53d2ab(0x2f6)]={'chats.upsert':async(_0x152b3a,_0x39e4ea)=>{const _0x478f1d=_0x53d2ab;let _0x494cd9=[];for await(let _0x3e1f05 of _0x152b3a)_0x494cd9[_0x478f1d(0x55d)]({'_id':_0x3e1f05['id'],'owner':this[_0x478f1d(0x267)][_0x478f1d(0x62b)],'group':_0x3e1f05['id'][_0x478f1d(0x333)](_0x478f1d(0x61a)),'name':_0x3e1f05[_0x478f1d(0x114)]||_0x3e1f05[_0x478f1d(0x4e8)]||null,'contactname':null,'lastmsg':_0x3e1f05['conversationTimestamp']&&_0x3e1f05[_0x478f1d(0x5b0)][_0x478f1d(0x4d7)]()['length']<0xd?_0x3e1f05[_0x478f1d(0x5b0)]*0x3e8:_0x3e1f05[_0x478f1d(0x5b0)]||null,'archived':_0x3e1f05[_0x478f1d(0x685)]||!0x1,'unreadcount':_0x3e1f05[_0x478f1d(0x2b7)]||0x0});await this[_0x478f1d(0x353)](_0x478f1d(0x160),_0x494cd9);},'chats.update':async(_0x510925,_0x396c47)=>{const _0x120dac=_0x53d2ab;for(let _0x54e81f of _0x510925){let _0x14e859={'_id':_0x54e81f['id'],'owner':this[_0x120dac(0x267)][_0x120dac(0x62b)],'group':_0x54e81f['id'][_0x120dac(0x333)]('@g.us'),'name':_0x54e81f[_0x120dac(0x114)]||_0x54e81f[_0x120dac(0x4e8)],'archived':_0x54e81f[_0x120dac(0x685)]},_0x581004=!0x1,_0x3a4389={};_0x14e859[_0x120dac(0x685)]!=null&&(this[_0x120dac(0x6c0)][_0x120dac(0x5be)](this[_0x120dac(0x1c4)]+'\x20('+this[_0x120dac(0x267)][_0x120dac(0x62b)]+_0x120dac(0x220)+_0x54e81f[_0x120dac(0x685)]),_0x581004=!0x0,_0x3a4389[_0x120dac(0x685)]=_0x54e81f[_0x120dac(0x685)]),_0x54e81f[_0x120dac(0x114)]!=null&&(this[_0x120dac(0x6c0)][_0x120dac(0x5be)](this[_0x120dac(0x1c4)]+'\x20('+this['instance'][_0x120dac(0x62b)]+_0x120dac(0x112)+_0x54e81f[_0x120dac(0x114)]),_0x581004=!0x0,_0x3a4389[_0x120dac(0x114)]=_0x54e81f[_0x120dac(0x114)]),_0x54e81f[_0x120dac(0x4e8)]!=null&&(this[_0x120dac(0x6c0)][_0x120dac(0x5be)](this[_0x120dac(0x1c4)]+'\x20('+this[_0x120dac(0x267)]['wuid']+_0x120dac(0x566)+_0x54e81f[_0x120dac(0x4e8)]),_0x581004=!0x0,_0x3a4389[_0x120dac(0x114)]=_0x54e81f['displayName']);let _0xb24f00;_0x581004&&(_0xb24f00=await this[_0x120dac(0x597)]['chat'][_0x120dac(0x577)]({'where':{'_id':_0x54e81f['id'],'owner':this[_0x120dac(0x267)][_0x120dac(0x62b)]}},_0x3a4389)),_0xb24f00&&B(this[_0x120dac(0x1c4)],_0x120dac(0x45c),{'chat':_0xb24f00});}},'chats.delete':async _0x6359d7=>{const _0x29cbc2=_0x53d2ab;await this['sendDataWebhook'](_0x29cbc2(0x499),[..._0x6359d7]);}},this[_0x53d2ab(0x5d0)]={'contacts.upsert':async(_0x4bd20e,_0x5b1bbf)=>{const _0x391bbc=_0x53d2ab;let _0x4116da=await this[_0x391bbc(0x597)][_0x391bbc(0x440)][_0x391bbc(0x59a)]({'where':{'owner':this['instance']['wuid']}}),_0x572179=[];for await(let _0x5ec591 of _0x4bd20e)_0x4116da[_0x391bbc(0x59a)](_0x182221=>_0x182221[_0x391bbc(0x35f)]===_0x5ec591['id'])||_0x572179[_0x391bbc(0x55d)]({'_id':_0x5ec591['id'],'pushName':_0x5ec591?.['name']||_0x5ec591?.[_0x391bbc(0x695)],'owner':this['instance'][_0x391bbc(0x62b)]});await this[_0x391bbc(0x353)]('contacts.upsert',_0x572179),await this[_0x391bbc(0x597)][_0x391bbc(0x440)][_0x391bbc(0x5ac)](_0x572179);},'contacts.update':async(_0x1541ba,_0x263742)=>{const _0x1231a7=_0x53d2ab;let _0x4049a1=[];for await(let _0x4984d5 of _0x1541ba)_0x4049a1['push']({'_id':_0x4984d5['id'],'pushName':_0x4984d5?.[_0x1231a7(0x114)]??_0x4984d5?.[_0x1231a7(0x695)],'owner':this[_0x1231a7(0x267)][_0x1231a7(0x62b)]});await this[_0x1231a7(0x353)](_0x1231a7(0x6bc),_0x4049a1);}},this[_0x53d2ab(0x44a)]={'messaging-history.set':async({messages:_0x3005ad,chats:_0x24034a,isLatest:_0x775e4},_0x3fbf86)=>{const _0x4e1f72=_0x53d2ab;if(_0x775e4){let _0x1b58e8=await Promise[_0x4e1f72(0x262)](_0x24034a[_0x4e1f72(0x326)](async _0x5896bc=>({'_id':_0x5896bc['id'],'owner':this[_0x4e1f72(0x267)]['wuid'],'group':_0x5896bc['id'][_0x4e1f72(0x333)](_0x4e1f72(0x61a)),'name':_0x5896bc[_0x4e1f72(0x114)]||_0x5896bc[_0x4e1f72(0x4e8)]||null,'contactname':null,'lastmsg':_0x5896bc[_0x4e1f72(0x5b0)]&&_0x5896bc[_0x4e1f72(0x5b0)]['toString']()['length']<0xd?_0x5896bc[_0x4e1f72(0x5b0)]*0x3e8:_0x5896bc[_0x4e1f72(0x5b0)]||null,'archived':_0x5896bc[_0x4e1f72(0x685)]||!0x1,'unreadcount':_0x5896bc[_0x4e1f72(0x2b7)]||0x0})));await this['sendDataWebhook']('chats.set',_0x1b58e8),await this[_0x4e1f72(0x3bf)](_0x1b58e8,_0x3fbf86);}let _0x450191=[],_0x394581=Date[_0x4e1f72(0x2e7)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x400ea6]of Object[_0x4e1f72(0x1f3)](_0x3005ad)){if(_0x400ea6[_0x4e1f72(0x65d)]?.[_0x4e1f72(0x3e1)]||_0x400ea6[_0x4e1f72(0x65d)]?.[_0x4e1f72(0x56b)]||!_0x400ea6['message']||_0x400ea6[_0x4e1f72(0x253)]['remoteJid']===_0x4e1f72(0x5f6)||(ps[_0x4e1f72(0x58d)][_0x4e1f72(0x379)](_0x400ea6?.['messageTimestamp'])&&(_0x400ea6[_0x4e1f72(0x3c2)]=_0x400ea6['messageTimestamp']?.[_0x4e1f72(0x24a)]()),_0x400ea6[_0x4e1f72(0x3c2)]&&_0x400ea6[_0x4e1f72(0x3c2)][_0x4e1f72(0x4d7)]()[_0x4e1f72(0x26f)]<0xd&&(_0x400ea6[_0x4e1f72(0x3c2)]=_0x400ea6[_0x4e1f72(0x3c2)]*0x3e8),_0x400ea6[_0x4e1f72(0x3c2)]<_0x394581))continue;let {message_normalized:_0x19553d}=this['normalizeMessage'](_0x400ea6[_0x4e1f72(0x65d)],J(_0x400ea6[_0x4e1f72(0x65d)]),null);Object[_0x4e1f72(0x598)](_0x19553d)[_0x4e1f72(0x26f)]>0x0&&_0x450191[_0x4e1f72(0x55d)]({'_id':_0x400ea6[_0x4e1f72(0x253)]['id'],'key':_0x400ea6[_0x4e1f72(0x253)],'pushName':_0x400ea6[_0x4e1f72(0x395)],'participant':_0x400ea6['participant'],'message':{..._0x400ea6[_0x4e1f72(0x65d)]},'messageType':J(_0x400ea6['message']),'message_normalized':{'key':_0x400ea6[_0x4e1f72(0x253)],'pushName':_0x400ea6[_0x4e1f72(0x395)],'messageTimestamp':_0x400ea6[_0x4e1f72(0x3c2)],..._0x19553d},'messageTimestamp':_0x400ea6[_0x4e1f72(0x3c2)],'owner':this[_0x4e1f72(0x267)]['wuid']});}_0x3fbf86[_0x4e1f72(0x47f)]&&_0x450191[_0x4e1f72(0x26f)]>0x0&&(this[_0x4e1f72(0x6c0)][_0x4e1f72(0x5be)](this[_0x4e1f72(0x1c4)]+'\x20('+this[_0x4e1f72(0x267)][_0x4e1f72(0x62b)]+_0x4e1f72(0x32e)+_0x450191['length']+_0x4e1f72(0x6ab)+this['instance'][_0x4e1f72(0x62b)]+_0x4e1f72(0x3d3)),await this[_0x4e1f72(0x597)][_0x4e1f72(0x65d)][_0x4e1f72(0x5ac)]([..._0x450191])),this[_0x4e1f72(0x353)](_0x4e1f72(0x227),[..._0x450191]),_0x3005ad=void 0x0;},'messages.upsert':async({messages:_0x304d99,type:_0x25f1b5},_0x2596a0)=>{const _0x3855d3=_0x53d2ab;let _0x47999c=_0x304d99[0x0];if(_0x25f1b5!==_0x3855d3(0x20e)||!_0x47999c?.['message']||_0x47999c['message']?.['protocolMessage']||_0x47999c[_0x3855d3(0x65d)]['senderKeyDistributionMessage']||_0x47999c['key'][_0x3855d3(0x1fc)]==='status@broadcast')return;let _0x26886e=null,_0x2f9d25=null;try{_0x26886e=await this[_0x3855d3(0x4d8)](_0x47999c),_0x2f9d25=_0x26886e?_0x26886e[_0x3855d3(0x226)](','):null;}catch(_0x3928d0){this[_0x3855d3(0x6c0)][_0x3855d3(0x5be)](this['instanceName']+'\x20('+this[_0x3855d3(0x267)][_0x3855d3(0x62b)]+_0x3855d3(0x32e)+_0x3928d0[_0x3855d3(0x65d)]),_0x2f9d25=_0x3855d3(0x37c);}if(this[_0x3855d3(0x49f)][_0x3855d3(0x57b)](_0x3855d3(0x6cb)),ps[_0x3855d3(0x58d)][_0x3855d3(0x379)](_0x47999c[_0x3855d3(0x3c2)])&&(_0x47999c[_0x3855d3(0x3c2)]=_0x47999c['messageTimestamp']?.[_0x3855d3(0x24a)]()),this[_0x3855d3(0x6b3)]?.[_0x3855d3(0x29d)]&&_0x47999c[_0x3855d3(0x253)]['remoteJid']['includes']('@g.us')){this[_0x3855d3(0x6c0)]['verbose'](_0x3855d3(0x41c));return;}_0x47999c[_0x3855d3(0x3c2)]&&_0x47999c['messageTimestamp']['toString']()['length']<0xd&&(_0x47999c['messageTimestamp']=_0x47999c[_0x3855d3(0x3c2)]*0x3e8);let _0x4d480f=_0x47999c['message'],{messageContent:_0x47336b,message_normalized:_0x4bc456}=this[_0x3855d3(0x3ee)](_0x4d480f,J(_0x47999c[_0x3855d3(0x65d)]),_0x2f9d25);_0x47336b||console[_0x3855d3(0x1ea)](_0x3855d3(0x216));let _0x1c3aa0={'_id':_0x47999c['key']['id'],'key':_0x47999c[_0x3855d3(0x253)],'pushName':_0x47999c[_0x3855d3(0x395)],'message':{..._0x47999c['message']},'messageType':J(_0x47999c[_0x3855d3(0x65d)]),'message_normalized':{'key':_0x47999c['key'],'pushName':_0x47999c[_0x3855d3(0x395)],'messageTimestamp':_0x47999c['messageTimestamp'],'source':(0x0,w['getDevice'])(_0x47999c[_0x3855d3(0x253)]['id']),..._0x4bc456},'messageTimestamp':_0x47999c[_0x3855d3(0x3c2)],'owner':this[_0x3855d3(0x267)][_0x3855d3(0x62b)]};this[_0x3855d3(0x6c0)][_0x3855d3(0x550)](_0x1c3aa0),await this[_0x3855d3(0x597)][_0x3855d3(0x65d)]['insert']([_0x1c3aa0]),await this[_0x3855d3(0x353)](_0x3855d3(0x268),_0x1c3aa0),B(this['instanceName'],'messages',{'message':_0x1c3aa0}),_0x47999c[_0x3855d3(0x253)]['remoteJid']!=='status@broadcast'&&await this[_0x3855d3(0x4c6)](_0x2596a0,_0x1c3aa0,_0x3855d3(0x488));},'messages.update':async(_0x408d28,_0x998121)=>{const _0x1f2005=_0x53d2ab;let _0x10334c={0x0:_0x1f2005(0x5c1),0x1:_0x1f2005(0x470),0x2:'SERVER_ACK',0x3:_0x1f2005(0x305),0x4:'READ',0x5:_0x1f2005(0x3db)};for await(let {key:_0x944824,update:_0x21d3ac}of _0x408d28){if(this[_0x1f2005(0x6b3)]?.[_0x1f2005(0x29d)]&&_0x944824[_0x1f2005(0x1fc)]['includes']('@g.us')){this[_0x1f2005(0x6c0)]['verbose'](_0x1f2005(0x41c));return;}if(_0x944824[_0x1f2005(0x1fc)]!==_0x1f2005(0x5f6)){let _0x37da70=Date[_0x1f2005(0x2e7)](),_0x1e5212;_0x21d3ac['message']===null&&_0x21d3ac['status']===void 0x0?_0x1e5212='DELETED':_0x1e5212=_0x10334c[_0x21d3ac['status']];let _0x1acf41=_0x944824[_0x1f2005(0x1fc)][_0x1f2005(0x4ad)](/:\d{1,2}@/g,'@'),_0x396e08={..._0x944824,'remoteJid':_0x1acf41,'status':_0x1e5212,'datetime':_0x37da70,'owner':this['instance'][_0x1f2005(0x62b)]};await this[_0x1f2005(0x353)](_0x1f2005(0x1b9),_0x396e08),await this['updateMessage'](_0x944824,_0x1acf41,_0x396e08);}}}},this[_0x53d2ab(0x5eb)]={'groups.upsert':_0x4ad5a7=>{const _0x401a07=_0x53d2ab;this[_0x401a07(0x353)](_0x401a07(0x199),_0x4ad5a7);},'groups.update':_0x5a9b31=>{const _0x2d7400=_0x53d2ab;this[_0x2d7400(0x353)]('groups.update',_0x5a9b31);},'group-participants.update':_0x2fbd89=>{this['sendDataWebhook']('group-participants.update',_0x2fbd89);}},this[_0x53d2ab(0x4d8)]=async _0x11cb05=>{const _0x19a400=_0x53d2ab;if(_0x11cb05[_0x19a400(0x65d)]?.['pollUpdateMessage']){let _0x2a69af=await this[_0x19a400(0x606)](_0x11cb05[_0x19a400(0x65d)]['pollUpdateMessage']['pollCreationMessageKey'],!0x0);if(_0x2a69af){let _0x2926f0=_0x2a69af[_0x19a400(0x253)]['fromMe']?this[_0x19a400(0x267)][_0x19a400(0x62b)]+_0x19a400(0x5d3):_0x2a69af[_0x19a400(0x253)][_0x19a400(0x41e)]||_0x2a69af[_0x19a400(0x253)][_0x19a400(0x1fc)],_0x4232aa=_0x2a69af[_0x19a400(0x253)]['id'],_0x34bd5d=_0x2a69af[_0x19a400(0x65d)],_0x35bbf2=Buffer['from'](_0x34bd5d[_0x19a400(0x27d)][_0x19a400(0x180)][_0x19a400(0x4d7)](_0x19a400(0x1d4)),_0x19a400(0x1d4)),_0x488e3d=(0x0,w[_0x19a400(0x46c)])(_0x11cb05[_0x19a400(0x65d)][_0x19a400(0x134)]['vote'],{'pollCreatorJid':_0x2926f0,'pollMsgId':_0x4232aa,'pollEncKey':_0x35bbf2,'voterJid':_0x11cb05['key'][_0x19a400(0x43f)]?this[_0x19a400(0x267)][_0x19a400(0x62b)]+'@s.whatsapp.net':_0x11cb05[_0x19a400(0x253)][_0x19a400(0x1fc)][_0x19a400(0x333)](_0x19a400(0x6d9))?_0x11cb05['key']['participant']:_0x11cb05[_0x19a400(0x253)][_0x19a400(0x1fc)]}),_0x2dee27=[],_0x586efc=_0x488e3d[_0x19a400(0x3c1)][_0x19a400(0x326)](_0x4981ef=>Buffer[_0x19a400(0x1ae)](_0x4981ef)[_0x19a400(0x4d7)](_0x19a400(0x1d4)));for(let {optionName:_0x400514}of _0x34bd5d[_0x19a400(0x1d8)]?.[_0x19a400(0x1a9)]||_0x34bd5d[_0x19a400(0x244)]?.[_0x19a400(0x1a9)]||_0x34bd5d['pollCreationMessageV2']?.[_0x19a400(0x1a9)])_0x586efc['indexOf']((0x0,w[_0x19a400(0x1b2)])(Buffer[_0x19a400(0x1ae)](_0x400514))[_0x19a400(0x4d7)]('hex'))>-0x1&&_0x2dee27['push'](_0x400514);return _0x2dee27;}}return null;},this['normalizeMessage']=(_0x492116,_0x3c746b,_0x21e77a)=>{const _0x13322c=_0x53d2ab;let _0x951030=_0x3c746b?_0x492116[_0x3c746b]:void 0x0,_0xb21ce5={},_0x4093fd=null,_0x473e6b=null,_0x54cdb4=null;if(_0x492116['viewOnceMessageV2']?_0x951030=_0x492116[_0x13322c(0x378)][_0x13322c(0x65d)][_0x3c746b]:_0x492116[_0x13322c(0x49c)]?_0x951030=_0x492116[_0x13322c(0x49c)][_0x13322c(0x65d)][_0x3c746b]:_0x492116[_0x13322c(0x1df)]?_0x951030=_0x492116[_0x13322c(0x1df)][_0x13322c(0x65d)][_0x3c746b]:_0x492116[_0x13322c(0x3a0)]?.[_0x13322c(0x65d)]?.[_0x13322c(0x3e1)]?.[_0x13322c(0x3a0)]?(_0x4093fd=_0x492116[_0x13322c(0x3a0)][_0x13322c(0x65d)][_0x13322c(0x3e1)][_0x13322c(0x253)]['id'],_0x492116['editedMessage']['message'][_0x13322c(0x3e1)][_0x13322c(0x3a0)]['conversation']?_0x951030=_0x492116[_0x13322c(0x3a0)][_0x13322c(0x65d)]['protocolMessage']['editedMessage'][_0x13322c(0x5fe)]:_0x492116[_0x13322c(0x3a0)][_0x13322c(0x65d)][_0x13322c(0x3e1)][_0x13322c(0x3a0)][_0x13322c(0x394)]?_0x951030=_0x492116[_0x13322c(0x3a0)][_0x13322c(0x65d)][_0x13322c(0x3e1)][_0x13322c(0x3a0)][_0x13322c(0x394)]['caption']:_0x492116[_0x13322c(0x3a0)][_0x13322c(0x65d)][_0x13322c(0x3e1)][_0x13322c(0x3a0)][_0x13322c(0x424)]?_0x951030=_0x492116[_0x13322c(0x3a0)][_0x13322c(0x65d)][_0x13322c(0x3e1)][_0x13322c(0x3a0)][_0x13322c(0x424)]['caption']:_0x492116[_0x13322c(0x3a0)]['message'][_0x13322c(0x3e1)]['editedMessage']['documentWithCaptionMessage']?_0x951030=_0x492116[_0x13322c(0x3a0)][_0x13322c(0x65d)][_0x13322c(0x3e1)][_0x13322c(0x3a0)][_0x13322c(0x4d9)]['message'][_0x13322c(0x2a8)]['caption']:_0x951030=_0x492116['editedMessage'][_0x13322c(0x65d)][_0x13322c(0x3e1)][_0x13322c(0x3a0)]):_0x951030=_0x492116[_0x3c746b],!_0x3c746b||!_0x951030)return console['error']('Unknown\x20message\x20type\x20or\x20empty\x20message',_0x492116),{'messageType':_0x3c746b,'messageContent':_0x951030,'message_normalized':{}};_0x492116[_0x3c746b]?.['contextInfo']?.[_0x13322c(0x288)]&&_0x492116[_0x3c746b]?.['contextInfo']?.[_0x13322c(0x425)]&&(_0x473e6b=_0x492116[_0x3c746b][_0x13322c(0x3dd)][_0x13322c(0x288)]),_0x492116[_0x13322c(0x365)]&&(_0x54cdb4=_0x492116[_0x13322c(0x365)][_0x13322c(0x253)]['id']);let _0x176143;if(_0x951030&&typeof _0x951030==_0x13322c(0x66a)&&_0x13322c(0x4a9)in _0x951030&&({pollCreationMessageKey:_0x176143}=_0x951030),_0x3c746b===_0x13322c(0x4d9)){let _0x2185d4=_0x951030?.[_0x13322c(0x65d)]?.['documentMessage'];_0x2185d4&&(_0x951030=_0x2185d4);}if(_0x3c746b==='pollCreationMessage'||_0x3c746b===_0x13322c(0x595)||_0x3c746b===_0x13322c(0x244)){let _0x5f58a4=_0x951030['options'][_0x13322c(0x326)](_0x167b20=>_0x167b20[_0x13322c(0x291)])[_0x13322c(0x226)]('|');_0xb21ce5[_0x13322c(0x374)]=_0x5f58a4;}let _0x355312=_0x951030[_0x13322c(0x114)]||_0x951030[_0x13322c(0x136)]||_0x951030[_0x13322c(0x5fe)]||_0x951030[_0x13322c(0x4e8)];if(_0x951030['vcard']){let _0x175a49=this[_0x13322c(0x359)](JSON[_0x13322c(0x4df)](_0x951030[_0x13322c(0x3a7)],null,0x2));_0x355312=_0x355312+'\x0a'+_0x175a49;}if(_0x951030){let {displayName:_0x5deeca,vcard:_0x384f9b,contactVcard:_0x4a0f91,name:_0x3ed6d1,caption:_0x496c75,conversation:_0x5ecd86,pollCreationMessageKey:_0x514a19,footerText:_0x937af5,contentText:_0x31ecbb,pageCount:_0x4ce3a7,headerType:_0x352b50,isAvatar:_0x24d3b3,isAnimated:_0xa411cd,fallbackLc:_0x241f7c,fallbackLg:_0x262aa9,namespace:_0x1eaf65,elementName:_0x12fa40,localizableParams:_0x2cf0df,viewOnce:_0x1d22ac,height:_0x364080,width:_0x4351df,key:_0x26798e,firstScanLength:_0x4b57a2,firstScanSidecar:_0x52b11f,gifPlayback:_0x35977a,gifAttribution:_0x483eca,midQualityFileSha256:_0x59ecfc,scansSidecar:_0x242d8d,streamingSidecar:_0x4c4d38,thumbnailHeight:_0x4c99dd,thumbnailWidth:_0xd2ded9,thumbnailEncSha256:_0x479796,thumbnailDirectPath:_0x2eefaf,canonicalUrl:_0x8e662e,matchedText:_0xf6b9bc,previewType:_0x443359,thumbnailSha256:_0x182e7d,deviceListMetadataVersion:_0x4ca8f4,inviteLinkGroupTypeV2:_0x266d9c,interactiveAnnotations:_0x2d1d7f,scanLengths:_0x413e1c,jpegThumbnail:_0x20322d,url:_0x18ecb0,mediaKeyTimestamp:_0x5ba6f5,waveform:_0x5c8fa0,stickerSentTs:_0x487a31,firstFrameLength:_0x4b2f9b,fileEncSha256:_0x2d934b,contextInfo:_0x3ba8ee,firstFrameSidecar:_0x2e8567,directPath:_0x48f763,fileSha256:_0x3e6725,mediaKey:_0x12dcf7,senderTimestampMs:_0x209e26,..._0x251efe}=_0x951030;typeof _0x951030==_0x13322c(0x27a)?_0xb21ce5={'text':_0x951030,'type':_0x3c746b||_0x13322c(0x5fe),..._0x4093fd&&{'edited':_0x4093fd},..._0x473e6b&&{'quoted':_0x473e6b},..._0x54cdb4&&{'reaction':_0x54cdb4}}:_0xb21ce5={'text':_0x355312,..._0x251efe,..._0x3c746b===_0x13322c(0x134)?{'poll_id':_0x951030[_0x13322c(0x4a9)]['id'],'vote':_0x21e77a}:{},'type':_0x3c746b,..._0x4093fd&&{'edited':_0x4093fd},..._0x473e6b&&{'quoted':_0x473e6b},..._0x54cdb4&&{'reaction':_0x54cdb4},...(_0x3c746b===_0x13322c(0x1d8)||_0x3c746b===_0x13322c(0x595)||_0x3c746b===_0x13322c(0x244))&&{'convertedOptions':_0xb21ce5['convertedOptions']}};}return{'messageType':_0x3c746b,'messageContent':_0x951030,'message_normalized':_0xb21ce5};},this[_0x53d2ab(0x4ee)]=null,this['lastSend']=0x0,(this[_0x53d2ab(0x62c)](),this[_0x53d2ab(0x267)][_0x53d2ab(0x426)]={'count':0x0});}set[a0_0xffba68(0x1c4)](_0x3c5cef){const _0x2301bf=a0_0xffba68;if(!_0x3c5cef){this['instance'][_0x2301bf(0x114)]=(0x0,Xa['v4'])();return;}this[_0x2301bf(0x267)][_0x2301bf(0x114)]=_0x3c5cef,this[_0x2301bf(0x353)](_0x2301bf(0x43e),{'instance':this[_0x2301bf(0x267)][_0x2301bf(0x114)],'status':_0x2301bf(0x47c)});}get[a0_0xffba68(0x1c4)](){const _0x32656b=a0_0xffba68;return this[_0x32656b(0x267)][_0x32656b(0x114)];}get[a0_0xffba68(0x62b)](){const _0x13c5ac=a0_0xffba68;return this['instance'][_0x13c5ac(0x62b)];}async['getProfileName'](){const _0x2b960f=a0_0xffba68;let _0x1f6fe1=this['client'][_0x2b960f(0x658)]?.[_0x2b960f(0x114)]??this[_0x2b960f(0x49f)][_0x2b960f(0x658)]?.[_0x2b960f(0x695)];if(!_0x1f6fe1){if(this[_0x2b960f(0x1e8)][_0x2b960f(0x4e4)](_0x2b960f(0x3e4))[_0x2b960f(0x47f)]){let _0x52d400=await M[_0x2b960f(0x4a3)]()['db'](this[_0x2b960f(0x1e8)][_0x2b960f(0x4e4)](_0x2b960f(0x3e4))[_0x2b960f(0x4e7)]['DB_PREFIX_NAME']+_0x2b960f(0x384))[_0x2b960f(0x11c)](this[_0x2b960f(0x1c4)])['findOne']({'_id':_0x2b960f(0x52c)});if(_0x52d400){let _0x435ddb=JSON[_0x2b960f(0x194)](JSON['stringify'](_0x52d400),w[_0x2b960f(0x1eb)][_0x2b960f(0x397)]);_0x1f6fe1=_0x435ddb['me']?.['name']||_0x435ddb['me']?.[_0x2b960f(0x695)];}}else{if((0x0,Te[_0x2b960f(0x257)])((0x0,$[_0x2b960f(0x226)])(V,this[_0x2b960f(0x1c4)],_0x2b960f(0x201)))){let _0x42d4fe=JSON['parse']((0x0,Te[_0x2b960f(0x43c)])((0x0,$['join'])(V,this[_0x2b960f(0x1c4)],_0x2b960f(0x201)),{'encoding':_0x2b960f(0x323)}));_0x1f6fe1=_0x42d4fe['me']?.[_0x2b960f(0x114)]||_0x42d4fe['me']?.[_0x2b960f(0x695)];}}}return _0x1f6fe1;}get[a0_0xffba68(0x3ed)](){const _0x2fafff=a0_0xffba68;return this[_0x2fafff(0x267)][_0x2fafff(0x3ed)];}get[a0_0xffba68(0x67e)](){const _0x41d505=a0_0xffba68;return{'code':this[_0x41d505(0x267)][_0x41d505(0x426)]?.['code'],'base64':this[_0x41d505(0x267)]['qrcode']?.[_0x41d505(0x2b6)]};}async[a0_0xffba68(0x4d5)](){const _0x4d8805=a0_0xffba68;let _0x2a8662=await this[_0x4d8805(0x597)][_0x4d8805(0x659)][_0x4d8805(0x59a)](this[_0x4d8805(0x1c4)]);this['localWebhook'][_0x4d8805(0x1ab)]=_0x2a8662?.[_0x4d8805(0x1ab)],this[_0x4d8805(0x6b3)][_0x4d8805(0x175)]=_0x2a8662?.[_0x4d8805(0x175)],this['localWebhook'][_0x4d8805(0x340)]=_0x2a8662?.[_0x4d8805(0x340)],this[_0x4d8805(0x6b3)]['STATUS_INSTANCE']=_0x2a8662?.[_0x4d8805(0x4cc)],this['localWebhook'][_0x4d8805(0x64a)]=_0x2a8662?.[_0x4d8805(0x64a)],this[_0x4d8805(0x6b3)][_0x4d8805(0x1a8)]=_0x2a8662?.['SEND_MESSAGE'],this[_0x4d8805(0x6b3)]['MESSAGES_UPSERT']=_0x2a8662?.['MESSAGES_UPSERT'],this[_0x4d8805(0x6b3)][_0x4d8805(0x3ef)]=_0x2a8662?.[_0x4d8805(0x3ef)],this[_0x4d8805(0x6b3)][_0x4d8805(0x3a5)]=_0x2a8662?.[_0x4d8805(0x3a5)],this[_0x4d8805(0x6b3)][_0x4d8805(0x22a)]=_0x2a8662?.[_0x4d8805(0x22a)],this['localWebhook'][_0x4d8805(0x59d)]=_0x2a8662?.[_0x4d8805(0x59d)],this[_0x4d8805(0x6b3)][_0x4d8805(0x36f)]=_0x2a8662?.[_0x4d8805(0x36f)],this['localWebhook'][_0x4d8805(0x39f)]=_0x2a8662?.[_0x4d8805(0x39f)],this[_0x4d8805(0x6b3)][_0x4d8805(0x36b)]=_0x2a8662?.[_0x4d8805(0x36b)],this['localWebhook'][_0x4d8805(0x3ca)]=_0x2a8662?.['CHATS_DELETE'],this['localWebhook']['CONTACTS_SET']=_0x2a8662?.[_0x4d8805(0x17d)],this['localWebhook'][_0x4d8805(0x55f)]=_0x2a8662?.[_0x4d8805(0x55f)],this[_0x4d8805(0x6b3)][_0x4d8805(0x23a)]=_0x2a8662?.['CONTACTS_UPDATE'],this[_0x4d8805(0x6b3)]['PRESENCE_UPDATE']=_0x2a8662?.['PRESENCE_UPDATE'],this[_0x4d8805(0x6b3)][_0x4d8805(0x2fa)]=_0x2a8662?.[_0x4d8805(0x2fa)],this[_0x4d8805(0x6b3)][_0x4d8805(0x20a)]=_0x2a8662?.[_0x4d8805(0x20a)],this[_0x4d8805(0x6b3)][_0x4d8805(0x29d)]=_0x2a8662?.[_0x4d8805(0x29d)];}async[a0_0xffba68(0x165)](_0x291cf8){const _0xd138de=a0_0xffba68;let _0x46f903=[_0xd138de(0x35f),_0xd138de(0x1ab),_0xd138de(0x175),_0xd138de(0x340),_0xd138de(0x4cc),_0xd138de(0x64a),_0xd138de(0x3ef),_0xd138de(0x488),'SEND_MESSAGE','GROUPS_UPSERT',_0xd138de(0x22a),_0xd138de(0x59d),_0xd138de(0x36f),'CHATS_UPSERT',_0xd138de(0x36b),_0xd138de(0x3ca),_0xd138de(0x17d),_0xd138de(0x55f),_0xd138de(0x23a),_0xd138de(0x4a2),_0xd138de(0x2fa),_0xd138de(0x20a),_0xd138de(0x29d)],_0x59ba8e={};return _0x46f903[_0xd138de(0x6d1)](_0x3f57e2=>{_0x291cf8[_0x3f57e2]!==void 0x0&&(_0x59ba8e[_0x3f57e2]=_0x291cf8[_0x3f57e2]);}),await this[_0xd138de(0x597)]['webhook']['create'](_0x59ba8e,this[_0xd138de(0x1c4)]),Object[_0xd138de(0x63e)](this[_0xd138de(0x6b3)],_0x59ba8e),await this['repository'][_0xd138de(0x659)]['find'](this[_0xd138de(0x1c4)]);}async[a0_0xffba68(0x327)](){const _0x1cdf2c=a0_0xffba68;return await this['repository'][_0x1cdf2c(0x659)][_0x1cdf2c(0x59a)](this[_0x1cdf2c(0x1c4)]);}async[a0_0xffba68(0x353)](_0x43f5c3,_0x9fbb07){const _0xb26a97=a0_0xffba68;let _0x1ef750=this['configService'][_0xb26a97(0x4e4)](_0xb26a97(0x316)),_0x43df11=_0x43f5c3[_0xb26a97(0x4ad)](/[\.-]/gm,'_')['toUpperCase'](),_0x59a263=this['localWebhook']['enabled']&&(0x0,O[_0xb26a97(0x61f)])(this[_0xb26a97(0x6b3)][_0xb26a97(0x1ab)])?this[_0xb26a97(0x6b3)][_0xb26a97(0x1ab)]+(this[_0xb26a97(0x6b3)][_0xb26a97(0x340)]?this[_0xb26a97(0x66d)][_0x43f5c3]:''):null,_0x2aa60f=_0x1ef750?.[_0xb26a97(0x5a7)],_0x263cf0=_0x2aa60f&&_0x2aa60f?.[_0xb26a97(0x47f)]&&(0x0,O[_0xb26a97(0x61f)])(_0x2aa60f[_0xb26a97(0x412)])?_0x2aa60f['URL']+(_0x1ef750[_0xb26a97(0x553)]?this[_0xb26a97(0x66d)][_0x43f5c3]:''):null,_0x1c9294=this[_0xb26a97(0x6b3)][_0x43df11],_0x32466c=_0x1ef750?.['EVENTS']?.[_0x43df11];if(_0x1c9294&&_0x59a263)try{await ne[_0xb26a97(0x58d)][_0xb26a97(0x64e)]({'baseURL':_0x59a263})[_0xb26a97(0x66c)]('',{'event':_0x43f5c3,'instance':this[_0xb26a97(0x267)][_0xb26a97(0x114)],'data':_0x9fbb07}),this[_0xb26a97(0x6c0)][_0xb26a97(0x550)]('Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x43f5c3+':\x20'+_0x59a263);}catch(_0x4bc100){this[_0xb26a97(0x6c0)]['error'](this[_0xb26a97(0x1c4)]+'\x20('+this['instance'][_0xb26a97(0x62b)]+_0xb26a97(0x32e)+{'local':c[_0xb26a97(0x114)]+_0xb26a97(0x1a6),'message':_0x4bc100?.[_0xb26a97(0x65d)],'hostName':_0x4bc100?.['hostname'],'syscall':_0x4bc100?.[_0xb26a97(0x46f)],'code':_0x4bc100?.[_0xb26a97(0x524)],'error':_0x4bc100?.[_0xb26a97(0x230)],'stack':_0x4bc100?.[_0xb26a97(0x223)],'name':_0x4bc100?.[_0xb26a97(0x114)]});}if(_0x32466c&&_0x263cf0)try{await ne[_0xb26a97(0x58d)][_0xb26a97(0x64e)]({'baseURL':_0x263cf0})[_0xb26a97(0x66c)]('',{'event':_0x43f5c3,'instance':this['instance'][_0xb26a97(0x114)],'data':_0x9fbb07}),this[_0xb26a97(0x6c0)][_0xb26a97(0x550)](_0xb26a97(0x25c)+_0x43f5c3+':\x20'+_0x263cf0);}catch(_0x43c993){this['logger'][_0xb26a97(0x1ea)](this[_0xb26a97(0x1c4)]+'\x20('+this['instance'][_0xb26a97(0x62b)]+_0xb26a97(0x32e)+{'local':c[_0xb26a97(0x114)]+_0xb26a97(0x18f),'message':_0x43c993?.['message'],'hostName':_0x43c993?.[_0xb26a97(0x251)],'syscall':_0x43c993?.['syscall'],'code':_0x43c993?.[_0xb26a97(0x524)],'error':_0x43c993?.[_0xb26a97(0x230)],'stack':_0x43c993?.['stack'],'name':_0x43c993?.[_0xb26a97(0x114)]});}}async[a0_0xffba68(0x233)]({qr:_0xe61695,connection:_0xdb7106,lastDisconnect:_0x452a80}){const _0x34d69b=a0_0xffba68;if(_0xe61695){if(this[_0x34d69b(0x267)][_0x34d69b(0x426)][_0x34d69b(0x2b4)]===this['configService'][_0x34d69b(0x4e4)]('QRCODE')['LIMIT'])return this[_0x34d69b(0x353)]('qrcode.updated',{'message':_0x34d69b(0x286),'statusCode':w[_0x34d69b(0x528)][_0x34d69b(0x192)]}),this[_0x34d69b(0x353)](_0x34d69b(0x607),{'instance':this[_0x34d69b(0x267)]['name'],'state':_0x34d69b(0x5c0),'statusReason':w[_0x34d69b(0x528)][_0x34d69b(0x483)]}),this[_0x34d69b(0x353)](_0x34d69b(0x43e),{'instance':this[_0x34d69b(0x267)][_0x34d69b(0x114)],'status':_0x34d69b(0x6dd)}),this['endSession']=!0x0,this[_0x34d69b(0x248)][_0x34d69b(0x443)](_0x34d69b(0x1ba),this[_0x34d69b(0x267)]['name']);this['instance'][_0x34d69b(0x426)]['count']++;let _0x2e975f={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x34d69b(0x28d),'dark':_0x34d69b(0x696)}};Za['default'][_0x34d69b(0x5bd)](_0xe61695,_0x2e975f,(_0x5177b9,_0x430d9e)=>{const _0x171adf=_0x34d69b;if(_0x5177b9){this[_0x171adf(0x6c0)]['error'](this[_0x171adf(0x1c4)]+'\x20('+this[_0x171adf(0x267)][_0x171adf(0x62b)]+_0x171adf(0x357)+_0x5177b9[_0x171adf(0x4d7)]());return;}this[_0x171adf(0x267)]['qrcode']['base64']=_0x430d9e,this[_0x171adf(0x267)][_0x171adf(0x426)][_0x171adf(0x524)]=_0xe61695,this[_0x171adf(0x353)](_0x171adf(0x519),{'qrcode':{'instance':this['instance'][_0x171adf(0x114)],'code':_0xe61695,'base64':_0x430d9e}});}),eo['default']['generate'](_0xe61695,{'small':!0x0},_0x4e219a=>this[_0x34d69b(0x6c0)][_0x34d69b(0x550)](_0x34d69b(0x48a)+this['instance']['name']+_0x34d69b(0x322)+this[_0x34d69b(0x267)][_0x34d69b(0x426)][_0x34d69b(0x2b4)]+_0x34d69b(0x1d1)+_0x4e219a));}if(_0xdb7106&&(this[_0x34d69b(0x17e)]={'state':_0xdb7106,'statusReason':_0x452a80?.[_0x34d69b(0x1ea)]?.[_0x34d69b(0x28b)]?.[_0x34d69b(0x24d)]??0xc8},this['sendDataWebhook'](_0x34d69b(0x607),{'instance':this[_0x34d69b(0x267)][_0x34d69b(0x114)],...this[_0x34d69b(0x17e)]})),_0xdb7106===_0x34d69b(0x65c)){if(this['reconnectAttempts']++,this['reconnectTimestamps']['push'](Date[_0x34d69b(0x2e7)]()),this[_0x34d69b(0x652)]=this[_0x34d69b(0x652)][_0x34d69b(0x3c5)](_0xbba10d=>Date[_0x34d69b(0x2e7)]()-_0xbba10d<this[_0x34d69b(0x540)]),_0x452a80['error']?.['output']?.[_0x34d69b(0x24d)]!==w[_0x34d69b(0x528)][_0x34d69b(0x317)]&&this[_0x34d69b(0x652)][_0x34d69b(0x26f)]<=this[_0x34d69b(0x3f5)])await this[_0x34d69b(0x5bf)]();else{this[_0x34d69b(0x353)](_0x34d69b(0x43e),{'instance':this['instance'][_0x34d69b(0x114)],'status':_0x34d69b(0x6dd)}),this[_0x34d69b(0x645)]=!0x1;try{this[_0x34d69b(0x6c0)]['verbose'](this[_0x34d69b(0x1c4)]+'\x20('+this[_0x34d69b(0x267)][_0x34d69b(0x62b)]+_0x34d69b(0x642));let _0x3c5488=await this[_0x34d69b(0x597)][_0x34d69b(0x65d)]['deleteAll'](this[_0x34d69b(0x267)][_0x34d69b(0x62b)]);_0x3c5488[_0x34d69b(0x130)]?this[_0x34d69b(0x6c0)][_0x34d69b(0x5be)](this[_0x34d69b(0x1c4)]+'\x20('+this['instance'][_0x34d69b(0x62b)]+'):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.'):console[_0x34d69b(0x1ea)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:',_0x3c5488[_0x34d69b(0x1ea)]);}catch(_0x58e11b){console[_0x34d69b(0x1ea)](_0x34d69b(0x283),_0x58e11b);}this[_0x34d69b(0x4ed)]!==null&&(this['logger']['verbose'](this[_0x34d69b(0x1c4)]+'\x20('+this[_0x34d69b(0x267)][_0x34d69b(0x62b)]+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x34d69b(0x4ed)]),this['delayMessage']=null),this[_0x34d69b(0x6c0)]['verbose'](this[_0x34d69b(0x1c4)]+'\x20('+this[_0x34d69b(0x267)][_0x34d69b(0x62b)]+_0x34d69b(0x55c)),this['AutomateSystem']=null,this[_0x34d69b(0x248)]['emit'](_0x34d69b(0x486),this[_0x34d69b(0x267)][_0x34d69b(0x114)],_0x34d69b(0x37f)),this[_0x34d69b(0x49f)]?.['ws']?.[_0x34d69b(0x65c)](),this[_0x34d69b(0x49f)][_0x34d69b(0x3de)](new Error(_0x34d69b(0x2c9)));}}if(_0xdb7106==='open'){this[_0x34d69b(0x6b4)],this[_0x34d69b(0x267)]['wuid']=this[_0x34d69b(0x49f)][_0x34d69b(0x658)]['id']['replace'](/:\d+/,'')['replace'](_0x34d69b(0x5d3),''),this[_0x34d69b(0x267)][_0x34d69b(0x3ed)]=(await this[_0x34d69b(0x52d)](this['instance']['wuid']+_0x34d69b(0x5d3)))[_0x34d69b(0x3ed)];let _0xfe8744=_0x34d69b(0x6d7)+this[_0x34d69b(0x267)][_0x34d69b(0x62b)],_0x2f3576=0x28,_0x2c1f3b=Math['floor']((_0x2f3576-_0xfe8744[_0x34d69b(0x26f)])/0x2),_0x24ce98='\x20'['repeat'](_0x2c1f3b),_0x2675e6=_0x34d69b(0x287),_0x49e82b=_0x34d69b(0x5ab)+this['instance']['name'],_0x7de7ea=(''+_0x24ce98+_0xfe8744+_0x24ce98)[_0x34d69b(0x169)](_0x2f3576,'\x20'),_0x49f83d=(''+_0x24ce98+_0x2675e6+_0x24ce98)[_0x34d69b(0x169)](_0x2f3576,'\x20'),_0x20afe0=(''+_0x24ce98+_0x49e82b+_0x24ce98)[_0x34d69b(0x169)](_0x2f3576,'\x20'),_0x3a6f89=Math[_0x34d69b(0x266)](_0x7de7ea[_0x34d69b(0x26f)],_0x49f83d['length'],_0x20afe0[_0x34d69b(0x26f)]),_0x1bea83=_0x7de7ea[_0x34d69b(0x169)](_0x3a6f89,'\x20'),_0x26dc9a=_0x49f83d[_0x34d69b(0x169)](_0x3a6f89,'\x20'),_0x4dd98e=_0x20afe0[_0x34d69b(0x169)](_0x3a6f89,'\x20');this[_0x34d69b(0x6c0)]['info']((_0x34d69b(0x17f)+'─'['repeat'](_0x3a6f89)+_0x34d69b(0x2a7)+_0x26dc9a+_0x34d69b(0x54d)+_0x4dd98e+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x1bea83+_0x34d69b(0x605)+'─'[_0x34d69b(0x21c)](_0x3a6f89)+'┘')[_0x34d69b(0x4ad)](/^ +/gm,'\x20\x20')),this[_0x34d69b(0x5f5)](),this[_0x34d69b(0x645)]=!0x0;}}[a0_0xffba68(0x6b4)](){const _0x5d05a3=a0_0xffba68;this[_0x5d05a3(0x2e5)]=0x0,this['reconnectTimestamps']=[];}async[a0_0xffba68(0x606)](_0x518c49,_0x2239f4=!0x1){const _0x112db8=a0_0xffba68;try{let _0x268be6=await this[_0x112db8(0x597)][_0x112db8(0x65d)][_0x112db8(0x59a)]({'where':{'owner':this['instance'][_0x112db8(0x62b)],'_id':_0x518c49['id']}});return _0x2239f4?_0x268be6[0x0]:_0x268be6[0x0]['message'];}catch{return{'conversation':''};}}[a0_0xffba68(0x62c)](){const _0x2ec561=a0_0xffba68;let _0x294473=this[_0x2ec561(0x1e8)][_0x2ec561(0x4e4)]('STORE'),_0x3944b2=this[_0x2ec561(0x1e8)]['get'](_0x2ec561(0x3e4));_0x294473?.[_0x2ec561(0x4e1)]&&!_0x3944b2[_0x2ec561(0x47f)]&&setInterval(()=>{const _0x1b2bdf=_0x2ec561;try{for(let [_0x1cdfbd,_0xbc0e61]of Object[_0x1b2bdf(0x1f3)](_0x294473))_0xbc0e61===!0x0&&(0x0,Dt[_0x1b2bdf(0x5c6)])('rm\x20-rf\x20'+(0x0,$[_0x1b2bdf(0x226)])(this[_0x1b2bdf(0x236)],_0x1cdfbd[_0x1b2bdf(0x62a)](),this[_0x1b2bdf(0x267)]['wuid'])+_0x1b2bdf(0x232));}catch{}},(_0x294473?.[_0x2ec561(0x4e1)]??0xe10)*0x3e8);}async[a0_0xffba68(0x239)](){const _0x21dd7d=a0_0xffba68;let _0x289234=this['configService']['get']('DATABASE'),_0x233cdc=this[_0x21dd7d(0x1e8)][_0x21dd7d(0x4e4)](_0x21dd7d(0x276));return _0x233cdc?.[_0x21dd7d(0x47f)]?await ds(_0x233cdc,this[_0x21dd7d(0x267)][_0x21dd7d(0x114)]):_0x289234[_0x21dd7d(0x47f)]?await us(this['instance']['name']):await(0x0,w[_0x21dd7d(0x297)])((0x0,$[_0x21dd7d(0x226)])(V,this[_0x21dd7d(0x267)][_0x21dd7d(0x114)]));}async['AutomateFunctions'](){const _0x3497a0=a0_0xffba68;let _0x5a2ae6=()=>Math[_0x3497a0(0x44b)](Math['random']()*0x2711)+0x7d0,_0xe2b359=async()=>{const _0x1226ad=_0x3497a0;if(!this['isConnected']){this['logger'][_0x1226ad(0x5be)](_0x1226ad(0x69b)),this[_0x1226ad(0x1bf)]=!0x1;return;}if(this[_0x1226ad(0x267)][_0x1226ad(0x62b)]&&this[_0x1226ad(0x3e0)]&&this[_0x1226ad(0x4ed)]!==null&&this['delayMessage']!==void 0x0){let _0x2f9ffc=Math[_0x1226ad(0x2c3)](this[_0x1226ad(0x4ed)]/0xea60);this['logger'][_0x1226ad(0x5be)](this[_0x1226ad(0x1c4)]+'\x20('+this[_0x1226ad(0x267)][_0x1226ad(0x62b)]+_0x1226ad(0x307)+_0x2f9ffc+_0x1226ad(0x48d)),this['isRunning']=!0x1;return;}else this[_0x1226ad(0x267)][_0x1226ad(0x62b)]&&(this[_0x1226ad(0x6c0)][_0x1226ad(0x5be)](this[_0x1226ad(0x1c4)]+'\x20('+this[_0x1226ad(0x267)]['wuid']+_0x1226ad(0x23b)),this[_0x1226ad(0x3e0)]||await this[_0x1226ad(0x6af)](),(this['delayMessage']===null||this[_0x1226ad(0x4ed)]===void 0x0)&&await this['scheduleNextCheck']());if(this['isRunning']){let _0x5847af=_0x5a2ae6();this[_0x1226ad(0x6c0)][_0x1226ad(0x5be)](this[_0x1226ad(0x1c4)]+_0x1226ad(0x229)+_0x5847af/0x3e8+_0x1226ad(0x53e)),setTimeout(_0xe2b359,_0x5847af);}};if(this[_0x3497a0(0x1bf)])return;this[_0x3497a0(0x1bf)]=!0x0;let _0x36bfae=_0x5a2ae6();setTimeout(_0xe2b359,_0x36bfae);}async[a0_0xffba68(0x5bf)](){const _0x187a26=a0_0xffba68;try{this[_0x187a26(0x4d5)](),this[_0x187a26(0x267)][_0x187a26(0x36d)]=await this['defineAuthState']();let {version:_0x573c4e}=await(0x0,w['fetchLatestBaileysVersion'])(),_0x805301=this[_0x187a26(0x1e8)][_0x187a26(0x4e4)](_0x187a26(0x391)),_0x283945=[_0x805301[_0x187a26(0x2c4)],_0x805301['NAME'],(0x0,to[_0x187a26(0x2e8)])()],_0x15a9c5={'auth':{'creds':this[_0x187a26(0x267)]['authState']['state'][_0x187a26(0x52c)],'keys':(0x0,w[_0x187a26(0x28c)])(this['instance'][_0x187a26(0x36d)]['state'][_0x187a26(0x598)],(0x0,Rt['default'])({'level':_0x187a26(0x1ea)}))},'logger':(0x0,Rt[_0x187a26(0x58d)])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x283945,'version':_0x573c4e,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x187a26(0x167)],'getMessage':async _0x90f5e6=>await this['getMessage'](_0x90f5e6),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x0,'userDevicesCache':this[_0x187a26(0x563)],'transactionOpts':{'maxCommitRetries':0x1,'delayBetweenTriesMs':0xa},'patchMessageBeforeSending':_0x4eb3c6=>(!!(_0x4eb3c6[_0x187a26(0x149)]||_0x4eb3c6['listMessage'])&&(_0x4eb3c6={'viewOnceMessageV2':{'message':{'messageContextInfo':{'deviceListMetadataVersion':0x2,'deviceListMetadata':{}},..._0x4eb3c6}}}),_0x4eb3c6)};return this[_0x187a26(0x14a)]=!0x1,this[_0x187a26(0x49f)]=(0x0,w[_0x187a26(0x58d)])(_0x15a9c5),this[_0x187a26(0x3b9)](),this[_0x187a26(0x49f)];}catch(_0x162111){throw this[_0x187a26(0x6c0)]['error'](this['instanceName']+'\x20('+this[_0x187a26(0x267)][_0x187a26(0x62b)]+'):\x20'+_0x162111),new A(_0x162111?.[_0x187a26(0x4d7)]());}}[a0_0xffba68(0x3b9)](){const _0x18e8e2=a0_0xffba68;this[_0x18e8e2(0x49f)]['ev'][_0x18e8e2(0x3cc)](_0x52afd9=>{const _0x360e04=_0x18e8e2;if(!this[_0x360e04(0x14a)]){let _0xe661dc=this[_0x360e04(0x1e8)][_0x360e04(0x4e4)](_0x360e04(0x3e4));if(_0x52afd9[_0x360e04(0x607)]&&this[_0x360e04(0x233)](_0x52afd9[_0x360e04(0x607)]),_0x52afd9[_0x360e04(0x3e8)]&&this[_0x360e04(0x267)][_0x360e04(0x36d)]['saveCreds'](),_0x52afd9['messaging-history.set']){let _0x4d1b39=_0x52afd9[_0x360e04(0x144)];this[_0x360e04(0x44a)][_0x360e04(0x144)](_0x4d1b39,_0xe661dc);}if(_0x52afd9[_0x360e04(0x268)]){let _0xed4918=_0x52afd9[_0x360e04(0x268)];this[_0x360e04(0x44a)]['messages.upsert'](_0xed4918,_0xe661dc);}if(_0x52afd9[_0x360e04(0x1b9)]){let _0x5786e4=_0x52afd9['messages.update'];this[_0x360e04(0x44a)][_0x360e04(0x1b9)](_0x5786e4,_0xe661dc);}if(_0x52afd9[_0x360e04(0x1f0)]){let _0x20075b=_0x52afd9[_0x360e04(0x1f0)];if(this['localWebhook']?.[_0x360e04(0x29d)]&&_0x20075b['id']['includes'](_0x360e04(0x61a)))return;this[_0x360e04(0x353)](_0x360e04(0x1f0),_0x20075b);}if(!this[_0x360e04(0x6b3)]?.['groups_ignore']){if(_0x52afd9[_0x360e04(0x199)]){let _0xb4d84f=_0x52afd9[_0x360e04(0x199)];this[_0x360e04(0x5eb)][_0x360e04(0x199)](_0xb4d84f);}if(_0x52afd9[_0x360e04(0x3c9)]){let _0x586aad=_0x52afd9[_0x360e04(0x3c9)];this[_0x360e04(0x5eb)][_0x360e04(0x3c9)](_0x586aad);}if(_0x52afd9['group-participants.update']){let _0x2519bb=_0x52afd9[_0x360e04(0x679)];this[_0x360e04(0x5eb)][_0x360e04(0x679)](_0x2519bb);}}if(_0x52afd9[_0x360e04(0x160)]){let _0x378374=_0x52afd9[_0x360e04(0x160)];this[_0x360e04(0x2f6)][_0x360e04(0x160)](_0x378374,_0xe661dc);}if(_0x52afd9[_0x360e04(0x5cc)]){let _0x4ab1cd=_0x52afd9['chats.update'];this[_0x360e04(0x2f6)][_0x360e04(0x5cc)](_0x4ab1cd,_0xe661dc);}if(_0x52afd9[_0x360e04(0x499)]){let _0x2b9f6b=_0x52afd9[_0x360e04(0x499)];this[_0x360e04(0x2f6)]['chats.delete'](_0x2b9f6b);}if(_0x52afd9[_0x360e04(0x497)]){let _0x36cbc1=_0x52afd9[_0x360e04(0x497)];this[_0x360e04(0x5d0)][_0x360e04(0x497)](_0x36cbc1,_0xe661dc);}if(_0x52afd9[_0x360e04(0x6bc)]){let _0x42a116=_0x52afd9[_0x360e04(0x6bc)];this[_0x360e04(0x5d0)][_0x360e04(0x6bc)](_0x42a116,_0xe661dc);}}});}[a0_0xffba68(0x478)](_0x27bcce){const _0x526719=a0_0xffba68;let _0x5a0439=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x526719(0x2ca)](_0x27bcce);if(_0x5a0439&&_0x5a0439[0x1]==='55'){let _0x38bf7c=_0x5a0439[0x2],_0x1089fa=_0x5a0439[0x3],_0x3a2d83=_0x5a0439[0x4];if(_0x38bf7c>='31'&&_0x1089fa==='9')return _0x5a0439[0x1]+_0x38bf7c+_0x3a2d83;}return _0x27bcce;}[a0_0xffba68(0x518)](_0x3f62ba){const _0x357763=a0_0xffba68;return _0x3f62ba[_0x357763(0x6ac)](_0x357763(0x61a))||_0x3f62ba[_0x357763(0x6ac)](_0x357763(0x5d3))||_0x3f62ba[_0x357763(0x6ac)]('@broadcast')?_0x3f62ba:(_0x3f62ba=_0x3f62ba?.[_0x357763(0x4ad)](/\s/g,'')['replace'](/\+/g,'')[_0x357763(0x4ad)](/\(/g,'')['replace'](/\)/g,'')[_0x357763(0x6b6)](/\:/)[0x0][_0x357763(0x6b6)]('@')[0x0],_0x3f62ba[_0x357763(0x26f)]>=0x12?(_0x3f62ba=_0x3f62ba[_0x357763(0x4ad)](/[^\d-]/g,''),_0x3f62ba+_0x357763(0x61a)):(_0x3f62ba=_0x3f62ba[_0x357763(0x4ad)](/\D/g,''),this[_0x357763(0x478)](_0x3f62ba)+_0x357763(0x5d3)));}async['updatePresence'](_0x21a9a7){const _0x39872f=a0_0xffba68;let _0x569c96=this[_0x39872f(0x518)](_0x21a9a7['number']),_0x325e77=(await this[_0x39872f(0x28e)]({'numbers':[_0x569c96]}))[0x0];if(!_0x325e77[_0x39872f(0x14c)]&&!(0x0,w[_0x39872f(0x6a1)])(_0x325e77[_0x39872f(0x1e3)]))throw new g(_0x325e77);let _0x5254b4=(0x0,w[_0x39872f(0x6a1)])(_0x569c96)?_0x569c96:_0x325e77[_0x39872f(0x1e3)];if((0x0,w['isJidGroup'])(_0x5254b4))try{await this[_0x39872f(0x49f)][_0x39872f(0x3a6)](_0x5254b4);}catch{throw new x('Group\x20not\x20found');}try{return await this[_0x39872f(0x49f)]['presenceSubscribe'](_0x5254b4),await this[_0x39872f(0x49f)]['sendPresenceUpdate'](_0x21a9a7[_0x39872f(0x1a2)],_0x569c96),{'status':0xc8,'presence':_0x21a9a7[_0x39872f(0x1a2)]};}catch(_0x2f91e7){throw new g(_0x2f91e7[_0x39872f(0x4d7)]());}}async[a0_0xffba68(0x52d)](_0xa7b6f2){const _0x5da738=a0_0xffba68;let _0xef232e=this[_0x5da738(0x518)](_0xa7b6f2);try{return{'wuid':_0xef232e,'profilePictureUrl':await this[_0x5da738(0x49f)][_0x5da738(0x3ed)](_0xef232e,_0x5da738(0x40b))};}catch{return{'wuid':_0xef232e,'profilePictureUrl':null};}}async[a0_0xffba68(0x531)](_0x251eff,_0x3dfc27,_0x2b97d6){const _0x1a6490=a0_0xffba68;let _0x17cd49=(await this['whatsappNumber']({'numbers':[_0x251eff]}))[0x0];if(!_0x17cd49['exists']&&!(0x0,w[_0x1a6490(0x6a1)])(_0x17cd49[_0x1a6490(0x1e3)])&&!_0x17cd49[_0x1a6490(0x1e3)][_0x1a6490(0x6ac)](_0x1a6490(0x1e7)))throw new g(_0x17cd49);let _0x55ed61=_0x17cd49[_0x1a6490(0x1e3)];try{_0x2b97d6?.['delay']&&(await this[_0x1a6490(0x49f)]['presenceSubscribe'](_0x55ed61),await this[_0x1a6490(0x49f)][_0x1a6490(0x57b)](_0x2b97d6?.[_0x1a6490(0x1a2)]??_0x1a6490(0x687),_0x55ed61),await(0x0,w['delay'])(_0x2b97d6[_0x1a6490(0x622)]),await this['client']['sendPresenceUpdate'](_0x1a6490(0x684),_0x55ed61));let _0xff7c2e=_0x2b97d6?.[_0x1a6490(0x39a)]!=!0x1?void 0x0:!0x1,_0x4d7ac3;if(_0x2b97d6?.[_0x1a6490(0x565)]){let _0x1e8103=_0x2b97d6?.[_0x1a6490(0x565)],_0x403352=_0x1e8103?.[_0x1a6490(0x65d)]?_0x1e8103:await this[_0x1a6490(0x606)](_0x1e8103[_0x1a6490(0x253)],!0x0);if(!_0x403352)throw _0x1a6490(0x4cd);_0x4d7ac3=_0x403352;}let _0x412f69;if((0x0,w[_0x1a6490(0x6a1)])(_0x55ed61))try{let _0x4fc4b4=await this['client'][_0x1a6490(0x3a6)](_0x55ed61);if(!_0x4fc4b4)throw new x(_0x1a6490(0x575));_0x2b97d6?.[_0x1a6490(0x301)]&&(_0x2b97d6['mentions']?.[_0x1a6490(0x150)]?_0x412f69=_0x4fc4b4[_0x1a6490(0x19d)][_0x1a6490(0x326)](_0x16e049=>_0x16e049['id']):_0x2b97d6[_0x1a6490(0x301)]?.[_0x1a6490(0x290)]?.[_0x1a6490(0x26f)]&&(_0x412f69=_0x2b97d6['mentions'][_0x1a6490(0x290)]['map'](_0x11b7cc=>{const _0x5056c2=_0x1a6490;let _0x5bd077=this[_0x5056c2(0x518)](_0x11b7cc);return(0x0,w[_0x5056c2(0x6a1)])(_0x5bd077)?null:_0x5bd077;})));}catch{throw new x(_0x1a6490(0x575));}let _0x58cb71=await((async()=>{const _0x509826=_0x1a6490;let _0x528563={'quoted':_0x4d7ac3};if(!_0x3dfc27['audio']&&!_0x3dfc27[_0x509826(0x5c2)]&&!_0x3dfc27[_0x509826(0x438)]&&!_0x3dfc27[_0x509826(0x5fe)]&&_0x55ed61!==_0x509826(0x5f6)&&!_0x3dfc27[_0x509826(0x3f8)])return await this['client']['sendMessage'](_0x55ed61,{'forward':{'key':{'remoteJid':this[_0x509826(0x267)][_0x509826(0x62b)],'fromMe':!0x0},'message':_0x3dfc27},'mentions':_0x412f69},_0x528563);if(_0x3dfc27[_0x509826(0x5fe)]){let _0x29791f=_0x3dfc27[_0x509826(0x5fe)];return _0x2b97d6?.['changeVariables']&&(_0x29791f=await this[_0x509826(0x621)](_0x29791f,_0x55ed61)),await this[_0x509826(0x49f)][_0x509826(0x581)](_0x55ed61,{'text':_0x29791f,'mentions':_0x412f69,'linkPreview':_0xff7c2e},_0x528563);}return _0x55ed61===_0x509826(0x5f6)?await this[_0x509826(0x49f)]['sendMessage'](_0x55ed61,_0x3dfc27[_0x509826(0x697)][_0x509826(0x4f2)],{'backgroundColor':_0x3dfc27[_0x509826(0x697)][_0x509826(0x158)]['backgroundColor'],'font':_0x3dfc27[_0x509826(0x697)][_0x509826(0x158)][_0x509826(0x34e)],'statusJidList':_0x3dfc27[_0x509826(0x697)][_0x509826(0x158)][_0x509826(0x2f0)]}):await this[_0x509826(0x49f)][_0x509826(0x581)](_0x55ed61,_0x3dfc27,_0x528563);})()),{message_normalized:_0x10947d}=this[_0x1a6490(0x3ee)](_0x58cb71['message'],J(_0x58cb71['message']),null),_0x43807a={'_id':_0x58cb71[_0x1a6490(0x253)]['id'],'key':_0x58cb71[_0x1a6490(0x253)],'pushName':_0x58cb71['pushName'],'message':{..._0x58cb71[_0x1a6490(0x65d)]},'messageType':J(_0x58cb71[_0x1a6490(0x65d)]),'message_normalized':{'key':_0x58cb71['key'],'pushName':_0x58cb71[_0x1a6490(0x395)],'messageTimestamp':_0x58cb71[_0x1a6490(0x3c2)]&&_0x58cb71[_0x1a6490(0x3c2)][_0x1a6490(0x4d7)]()[_0x1a6490(0x26f)]<0xd?_0x58cb71[_0x1a6490(0x3c2)]*0x3e8:_0x58cb71[_0x1a6490(0x3c2)]||null,'source':(0x0,w[_0x1a6490(0x2d3)])(_0x58cb71[_0x1a6490(0x253)]['id']),..._0x10947d},'messageTimestamp':_0x58cb71[_0x1a6490(0x3c2)]&&_0x58cb71[_0x1a6490(0x3c2)][_0x1a6490(0x4d7)]()[_0x1a6490(0x26f)]<0xd?_0x58cb71[_0x1a6490(0x3c2)]*0x3e8:_0x58cb71[_0x1a6490(0x3c2)]||null,'owner':this[_0x1a6490(0x267)][_0x1a6490(0x62b)],'source':(0x0,w[_0x1a6490(0x2d3)])(_0x58cb71['key']['id'])};return this['logger']['log'](_0x43807a),await this[_0x1a6490(0x353)]('send.message',_0x43807a),B(this[_0x1a6490(0x1c4)],_0x1a6490(0x330),{'message':_0x43807a}),this[_0x1a6490(0x4c6)](this[_0x1a6490(0x1e8)]['get'](_0x1a6490(0x3e4)),_0x43807a,_0x1a6490(0x1a8)),await this[_0x1a6490(0x597)][_0x1a6490(0x65d)][_0x1a6490(0x5ac)]([_0x43807a]),_0x58cb71;}catch(_0x4507fb){throw this[_0x1a6490(0x6c0)][_0x1a6490(0x1ea)](this[_0x1a6490(0x1c4)]+'\x20('+this['instance'][_0x1a6490(0x62b)]+_0x1a6490(0x32e)+_0x4507fb[_0x1a6490(0x4d7)]()),new g(_0x4507fb[_0x1a6490(0x4d7)]());}}get[a0_0xffba68(0x256)](){const _0x1a6e2d=a0_0xffba68;return this[_0x1a6e2d(0x17e)];}async[a0_0xffba68(0x475)](_0x1071c4){const _0x1b2723=a0_0xffba68;let _0x111409=this[_0x1b2723(0x1e8)][_0x1b2723(0x4e4)](_0x1b2723(0x50d)),_0x1fd977=this['configService'][_0x1b2723(0x4e4)](_0x1b2723(0x5e5));return _0x1fd977&&this[_0x1b2723(0x1c4)][_0x1b2723(0x62a)]()[_0x1b2723(0x6ac)](_0x1fd977['toLowerCase']())&&(_0x1071c4[_0x1b2723(0x475)][_0x1b2723(0x1d5)]+='\x0a\x0a'+_0x111409),await this['sendMessageWithTyping'](_0x1071c4['number'],{'conversation':_0x1071c4['textMessage'][_0x1b2723(0x1d5)]},_0x1071c4?.[_0x1b2723(0x1a9)]);}async[a0_0xffba68(0x560)](_0x2ed622){const _0x544ee5=a0_0xffba68;if(!_0x2ed622['type'])throw new g(_0x544ee5(0x2cb));if(!_0x2ed622['content'])throw new g(_0x544ee5(0x539));if(_0x2ed622[_0x544ee5(0x6a5)]){let _0x319986=await this[_0x544ee5(0x597)]['contact'][_0x544ee5(0x59a)]({'where':{'owner':this[_0x544ee5(0x267)][_0x544ee5(0x62b)]}});if(!_0x319986[_0x544ee5(0x26f)])throw new g(_0x544ee5(0x60c));_0x2ed622['statusJidList']=_0x319986[_0x544ee5(0x3c5)](_0x5b5c54=>_0x5b5c54[_0x544ee5(0x395)])[_0x544ee5(0x326)](_0x1a418d=>_0x1a418d[_0x544ee5(0x35f)]);}if(!_0x2ed622[_0x544ee5(0x2f0)]?.['length']&&!_0x2ed622[_0x544ee5(0x6a5)])throw new g('StatusJidList\x20is\x20required');if(_0x2ed622[_0x544ee5(0x4b8)]===_0x544ee5(0x1d5)){if(!_0x2ed622['backgroundColor'])throw new g('Background\x20color\x20is\x20required');if(!_0x2ed622[_0x544ee5(0x34e)])throw new g(_0x544ee5(0x396));return{'content':{'text':_0x2ed622[_0x544ee5(0x4f2)]},'option':{'backgroundColor':_0x2ed622[_0x544ee5(0x29b)],'font':_0x2ed622[_0x544ee5(0x34e)],'statusJidList':_0x2ed622[_0x544ee5(0x2f0)]}};}if(_0x2ed622['type']==='image')return{'content':{'image':{'url':_0x2ed622[_0x544ee5(0x4f2)]},'caption':_0x2ed622[_0x544ee5(0x136)]},'option':{'statusJidList':_0x2ed622['statusJidList']}};if(_0x2ed622[_0x544ee5(0x4b8)]===_0x544ee5(0x56f))return{'content':{'video':{'url':_0x2ed622[_0x544ee5(0x4f2)]},'caption':_0x2ed622[_0x544ee5(0x136)]},'option':{'statusJidList':_0x2ed622['statusJidList']}};if(_0x2ed622[_0x544ee5(0x4b8)]===_0x544ee5(0x3f8)){this[_0x544ee5(0x6c0)][_0x544ee5(0x5be)]('Type\x20defined\x20as\x20audio'),this[_0x544ee5(0x6c0)][_0x544ee5(0x5be)](_0x544ee5(0x3a9));let _0x3660f3=await this['convertaudio'](_0x2ed622[_0x544ee5(0x4f2)]);if(typeof _0x3660f3==_0x544ee5(0x27a)){this[_0x544ee5(0x6c0)][_0x544ee5(0x5be)](_0x544ee5(0x462));let _0x383019=P[_0x544ee5(0x43c)](_0x3660f3)['toString'](_0x544ee5(0x2b6)),_0x579e55={'content':{'audio':Buffer[_0x544ee5(0x1ae)](_0x383019,_0x544ee5(0x2b6)),'ptt':!0x0,'mimetype':_0x544ee5(0x1c9)},'option':{'statusJidList':_0x2ed622[_0x544ee5(0x2f0)]}};return P[_0x544ee5(0x542)](_0x3660f3),_0x579e55;}else throw new A(_0x3660f3);}throw new g(_0x544ee5(0x3cb));}async[a0_0xffba68(0x3fa)](_0x3c393f){const _0x268aec=a0_0xffba68;return await this[_0x268aec(0x531)]('status@broadcast',{'status':await this[_0x268aec(0x560)](_0x3c393f[_0x268aec(0x3fa)])});}async[a0_0xffba68(0x2ee)](_0x1bfb5e){const _0x27e370=a0_0xffba68;try{let _0x1edbfc=await(0x0,w['prepareWAMessageMedia'])({[_0x1bfb5e[_0x27e370(0x56a)]]:(0x0,O['isURL'])(_0x1bfb5e[_0x27e370(0x1dd)])?{'url':_0x1bfb5e[_0x27e370(0x1dd)]}:Buffer[_0x27e370(0x1ae)](_0x1bfb5e[_0x27e370(0x1dd)],_0x27e370(0x2b6))},{'upload':this[_0x27e370(0x49f)][_0x27e370(0x401)]}),_0xfe5cbe=_0x1bfb5e[_0x27e370(0x56a)]+_0x27e370(0x673);if(_0x1bfb5e[_0x27e370(0x56a)]==='document'&&!_0x1bfb5e[_0x27e370(0x3df)]){let _0x412f32=new RegExp(/.*\/(.+?)\./)[_0x27e370(0x2ca)](_0x1bfb5e[_0x27e370(0x1dd)]);_0x1bfb5e['fileName']=_0x412f32?_0x412f32[0x1]:null;}let _0x252f46=(0x0,O[_0x27e370(0x61f)])(_0x1bfb5e[_0x27e370(0x1dd)])?_0x1bfb5e[_0x27e370(0x1dd)]['split']('?')[0x0]:_0x1bfb5e[_0x27e370(0x1dd)];this[_0x27e370(0x6c0)][_0x27e370(0x5be)](_0x27e370(0x11a)+_0x252f46);let _0x38ae3b;_0x1bfb5e[_0x27e370(0x3df)]?_0x38ae3b=(0x0,Mt[_0x27e370(0x2d4)])(_0x1bfb5e[_0x27e370(0x3df)]):(0x0,O[_0x27e370(0x61f)])(_0x1bfb5e[_0x27e370(0x1dd)])?_0x38ae3b=(0x0,Mt[_0x27e370(0x2d4)])(_0x252f46):_0x38ae3b=(0x0,Mt[_0x27e370(0x2d4)])(_0x1bfb5e['media']);let _0x427f6d=this[_0x27e370(0x1e8)][_0x27e370(0x4e4)](_0x27e370(0x50d)),_0x4b521d=this['configService'][_0x27e370(0x4e4)](_0x27e370(0x5e5));return _0x4b521d&&this['instanceName'][_0x27e370(0x62a)]()[_0x27e370(0x6ac)](_0x4b521d['toLowerCase']())&&(_0x1bfb5e[_0x27e370(0x136)]+='\x0a\x0a'+_0x427f6d),_0x1edbfc[_0xfe5cbe][_0x27e370(0x136)]=_0x1bfb5e?.[_0x27e370(0x136)],_0x1edbfc[_0xfe5cbe][_0x27e370(0x43b)]=_0x38ae3b,_0x1edbfc[_0xfe5cbe][_0x27e370(0x3df)]=_0x1bfb5e[_0x27e370(0x3df)],_0x1bfb5e[_0x27e370(0x56a)]===_0x27e370(0x56f)&&(_0x1edbfc[_0xfe5cbe][_0x27e370(0x480)]=Uint8Array[_0x27e370(0x1ae)]((0x0,Te[_0x27e370(0x43c)])((0x0,$[_0x27e370(0x226)])(process[_0x27e370(0x311)](),'video-cover.png'))),_0x1edbfc[_0xfe5cbe][_0x27e370(0x3b8)]=!0x1),(0x0,w[_0x27e370(0x54a)])('',{[_0xfe5cbe]:{..._0x1edbfc[_0xfe5cbe]}},{'userJid':this[_0x27e370(0x267)][_0x27e370(0x62b)]});}catch(_0x51e28b){throw this['logger'][_0x27e370(0x1ea)](this['instanceName']+'\x20('+this[_0x27e370(0x267)][_0x27e370(0x62b)]+_0x27e370(0x32e)+_0x51e28b),new A(_0x51e28b?.['toString']()||_0x51e28b);}}async[a0_0xffba68(0x529)](_0x21b710){const _0x2b638a=a0_0xffba68;let _0x59cd15=await this[_0x2b638a(0x2ee)](_0x21b710[_0x2b638a(0x529)]);return await this[_0x2b638a(0x531)](_0x21b710[_0x2b638a(0x415)],{..._0x59cd15[_0x2b638a(0x65d)]},_0x21b710?.[_0x2b638a(0x1a9)]);}async[a0_0xffba68(0x315)](_0x32e853,_0x50fe97){const _0x13fc41=a0_0xffba68;try{this['logger'][_0x13fc41(0x5be)]('Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x1363a3,_0x116b90=_0x50fe97+'-'+new Date()[_0x13fc41(0x1cf)]();this[_0x13fc41(0x6c0)][_0x13fc41(0x5be)](_0x13fc41(0x2d8)+_0x116b90);let _0x188d85=''+(0x0,$[_0x13fc41(0x226)])(this[_0x13fc41(0x236)],_0x116b90+_0x13fc41(0x37b));if(this[_0x13fc41(0x6c0)]['verbose'](_0x13fc41(0x13d)+_0x188d85),(0x0,O['isBase64'])(_0x32e853)){this[_0x13fc41(0x6c0)][_0x13fc41(0x5be)](_0x13fc41(0x4a1));let _0x5e75a8=_0x32e853['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x5359f5=Buffer['from'](_0x5e75a8,_0x13fc41(0x2b6));_0x1363a3=''+(0x0,$[_0x13fc41(0x226)])(this[_0x13fc41(0x236)],_0x13fc41(0x23e)+_0x116b90+_0x13fc41(0x3f4)),this['logger'][_0x13fc41(0x5be)](_0x13fc41(0x690)+_0x1363a3),await(0x0,It[_0x13fc41(0x58d)])(_0x5359f5)[_0x13fc41(0x60a)](_0x1363a3),this['logger'][_0x13fc41(0x5be)](_0x13fc41(0x6d0));}else{this[_0x13fc41(0x6c0)][_0x13fc41(0x5be)](_0x13fc41(0x371));let _0x1a0298=new Date()[_0x13fc41(0x1cf)](),_0x3d38da=_0x32e853+'?timestamp='+_0x1a0298;this[_0x13fc41(0x6c0)]['verbose'](_0x13fc41(0x196)+_0x3d38da);let _0x5be72a=await ne[_0x13fc41(0x58d)][_0x13fc41(0x4e4)](_0x3d38da,{'responseType':_0x13fc41(0x629)});this[_0x13fc41(0x6c0)][_0x13fc41(0x5be)]('Getting\x20image\x20from\x20url');let _0x148982=Buffer[_0x13fc41(0x1ae)](_0x5be72a[_0x13fc41(0x228)],_0x13fc41(0x3aa));_0x1363a3=''+(0x0,$[_0x13fc41(0x226)])(this[_0x13fc41(0x236)],_0x13fc41(0x23e)+_0x116b90+_0x13fc41(0x3f4)),this[_0x13fc41(0x6c0)][_0x13fc41(0x5be)](_0x13fc41(0x690)+_0x1363a3),await(0x0,It['default'])(_0x148982)['toFile'](_0x1363a3),this['logger'][_0x13fc41(0x5be)](_0x13fc41(0x6d0));}return await(0x0,It[_0x13fc41(0x58d)])(_0x1363a3)['webp']()[_0x13fc41(0x60a)](_0x188d85),this[_0x13fc41(0x6c0)][_0x13fc41(0x5be)](_0x13fc41(0x503)),P[_0x13fc41(0x542)](_0x1363a3),this['logger'][_0x13fc41(0x5be)]('Temp\x20image\x20deleted'),_0x188d85;}catch(_0x3e9d5e){console[_0x13fc41(0x1ea)]('Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:',_0x3e9d5e);}}async[a0_0xffba68(0x447)](_0x34b6c4){const _0xc496c6=a0_0xffba68;let _0x107b79=await this[_0xc496c6(0x315)](_0x34b6c4[_0xc496c6(0x6d8)][_0xc496c6(0x40b)],_0x34b6c4[_0xc496c6(0x415)]),_0x3482bd=await this[_0xc496c6(0x531)](_0x34b6c4['number'],{'sticker':{'url':_0x107b79}},_0x34b6c4?.[_0xc496c6(0x1a9)]);return P['unlinkSync'](_0x107b79),this['logger'][_0xc496c6(0x5be)](_0xc496c6(0x506)),_0x3482bd;}async['audioWhatsapp'](_0x5ee320){const _0xdade45=a0_0xffba68;if(this[_0xdade45(0x6c0)][_0xdade45(0x5be)]('Sending\x20audio\x20whatsapp'),!_0x5ee320[_0xdade45(0x1a9)]?.['encoding']&&_0x5ee320[_0xdade45(0x1a9)]?.[_0xdade45(0x356)]!==!0x1&&(_0x5ee320[_0xdade45(0x1a9)]['encoding']=!0x0),_0x5ee320[_0xdade45(0x1a9)]?.[_0xdade45(0x356)]){let _0x3aff48=await this[_0xdade45(0x422)](_0x5ee320[_0xdade45(0x1b4)]['audio']);if(typeof _0x3aff48=='string'){let _0x5797e0=P['readFileSync'](_0x3aff48)[_0xdade45(0x4d7)](_0xdade45(0x2b6)),_0x27e73d=this['sendMessageWithTyping'](_0x5ee320['number'],{'audio':Buffer[_0xdade45(0x1ae)](_0x5797e0,_0xdade45(0x2b6)),'ptt':!0x0,'mimetype':'audio/mp4'},{'presence':_0xdade45(0x435),'delay':_0x5ee320?.[_0xdade45(0x1a9)]?.['delay']});return P[_0xdade45(0x542)](_0x3aff48),this[_0xdade45(0x6c0)][_0xdade45(0x5be)]('Converted\x20audio\x20deleted'),_0x27e73d;}else throw new A(_0x3aff48);}return await this[_0xdade45(0x531)](_0x5ee320[_0xdade45(0x415)],{'audio':(0x0,O[_0xdade45(0x61f)])(_0x5ee320[_0xdade45(0x1b4)][_0xdade45(0x3f8)])?{'url':_0x5ee320[_0xdade45(0x1b4)][_0xdade45(0x3f8)]}:Buffer[_0xdade45(0x1ae)](_0x5ee320[_0xdade45(0x1b4)][_0xdade45(0x3f8)],_0xdade45(0x2b6)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0xdade45(0x435),'delay':_0x5ee320?.[_0xdade45(0x1a9)]?.[_0xdade45(0x622)]});}async[a0_0xffba68(0x422)](_0x5d6eb8){const _0x5c315d=a0_0xffba68;this['logger']['verbose'](_0x5c315d(0x3a9));let _0x55acad,_0x1cc497,_0x59a32e=(0x0,At['v4'])();if(this[_0x5c315d(0x6c0)][_0x5c315d(0x5be)](_0x5c315d(0x58a)+_0x59a32e),(0x0,O['isURL'])(_0x5d6eb8)){this[_0x5c315d(0x6c0)][_0x5c315d(0x5be)]('Audio\x20is\x20url'),_0x1cc497=''+(0x0,$[_0x5c315d(0x226)])(this[_0x5c315d(0x236)],_0x59a32e+'.mp4'),_0x55acad=''+(0x0,$['join'])(this[_0x5c315d(0x236)],_0x5c315d(0x23e)+_0x59a32e+'.mp3'),this[_0x5c315d(0x6c0)][_0x5c315d(0x5be)](_0x5c315d(0x32c)+_0x1cc497),this[_0x5c315d(0x6c0)][_0x5c315d(0x5be)](_0x5c315d(0x33d)+_0x55acad);let _0x48c51d=new Date()[_0x5c315d(0x1cf)](),_0x1ee893=_0x5d6eb8+_0x5c315d(0x558)+_0x48c51d;this['logger'][_0x5c315d(0x5be)]('Including\x20timestamp\x20in\x20url:\x20'+_0x1ee893);let _0x16c09d=await ne[_0x5c315d(0x58d)]['get'](_0x1ee893,{'responseType':_0x5c315d(0x629)});this[_0x5c315d(0x6c0)][_0x5c315d(0x5be)](_0x5c315d(0x4f5)),P[_0x5c315d(0x4bb)](_0x55acad,_0x16c09d['data']);}else{this[_0x5c315d(0x6c0)][_0x5c315d(0x5be)]('Audio\x20is\x20base64'),_0x1cc497=''+(0x0,$['join'])(this[_0x5c315d(0x236)],_0x59a32e+_0x5c315d(0x45b)),_0x55acad=''+(0x0,$[_0x5c315d(0x226)])(this[_0x5c315d(0x236)],_0x5c315d(0x23e)+_0x59a32e+'.mp3'),this['logger'][_0x5c315d(0x5be)](_0x5c315d(0x32c)+_0x1cc497),this['logger'][_0x5c315d(0x5be)](_0x5c315d(0x33d)+_0x55acad);let _0x2b8cf5=Buffer[_0x5c315d(0x1ae)](_0x5d6eb8,_0x5c315d(0x2b6));P['writeFileSync'](_0x55acad,_0x2b8cf5),this[_0x5c315d(0x6c0)][_0x5c315d(0x5be)](_0x5c315d(0x293));}return this['logger'][_0x5c315d(0x5be)](_0x5c315d(0x482)),new Promise((_0x34e256,_0x267441)=>{const _0x1077ff=_0x5c315d;(0x0,Dt[_0x1077ff(0x2ca)])(Ya['default'][_0x1077ff(0x242)]+_0x1077ff(0x176)+_0x55acad+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20'+_0x1cc497+'\x20-y',_0x2a4265=>{const _0xe04333=_0x1077ff;P[_0xe04333(0x542)](_0x55acad),this['logger']['verbose'](_0xe04333(0x362)),_0x2a4265&&_0x267441(_0x2a4265),this[_0xe04333(0x6c0)]['verbose'](_0xe04333(0x171)),_0x34e256(_0x1cc497);});});}async['buttonMessage'](_0x6cf54f){const _0xd05276=a0_0xffba68;let _0xfeb488={},_0x2936bd='TEXT';if(_0x6cf54f[_0xd05276(0x2c8)]?.[_0xd05276(0x529)]){_0x2936bd=_0x6cf54f[_0xd05276(0x2c8)][_0xd05276(0x529)]?.['mediatype']['toUpperCase']()??_0xd05276(0x649),_0xfeb488['mediaKey']=_0x2936bd[_0xd05276(0x62a)]()+_0xd05276(0x673);let _0x1b6c21=await this[_0xd05276(0x2ee)](_0x6cf54f[_0xd05276(0x2c8)][_0xd05276(0x529)]);_0xfeb488[_0xd05276(0x65d)]=_0x1b6c21['message'][_0xfeb488[_0xd05276(0x69c)]],_0xfeb488['contentText']='*'+_0x6cf54f[_0xd05276(0x2c8)][_0xd05276(0x1c5)]+_0xd05276(0x4a6)+_0x6cf54f[_0xd05276(0x2c8)][_0xd05276(0x33a)];}let _0x2d174c={'text':_0x6cf54f[_0xd05276(0x2c8)]['buttons']['map'](_0x4c24ee=>_0x4c24ee[_0xd05276(0x21d)]),'ids':_0x6cf54f[_0xd05276(0x2c8)]['buttons'][_0xd05276(0x326)](_0x1f8f5b=>_0x1f8f5b[_0xd05276(0x68c)])};if(!(0x0,O[_0xd05276(0x4c4)])(_0x2d174c[_0xd05276(0x1d5)])||!(0x0,O[_0xd05276(0x4c4)])(_0x2d174c[_0xd05276(0x151)]))throw new g('Button\x20texts\x20cannot\x20be\x20repeated',_0xd05276(0x55b));return await this[_0xd05276(0x531)](_0x6cf54f[_0xd05276(0x415)],{'buttonsMessage':{'text':_0xfeb488?.[_0xd05276(0x69c)]?void 0x0:_0x6cf54f['buttonMessage'][_0xd05276(0x1c5)],'contentText':_0xfeb488?.[_0xd05276(0x5f1)]??_0x6cf54f[_0xd05276(0x2c8)][_0xd05276(0x33a)],'footerText':_0x6cf54f['buttonMessage']?.[_0xd05276(0x300)],'buttons':_0x6cf54f['buttonMessage'][_0xd05276(0x2ec)][_0xd05276(0x326)](_0x18e6ff=>({'buttonText':{'displayText':_0x18e6ff[_0xd05276(0x21d)]},'buttonId':_0x18e6ff[_0xd05276(0x68c)],'type':0x1})),'headerType':w['proto']['Message'][_0xd05276(0x48e)][_0xd05276(0x281)][_0x2936bd],[_0xfeb488?.[_0xd05276(0x69c)]]:_0xfeb488?.[_0xd05276(0x65d)]}},_0x6cf54f?.[_0xd05276(0x1a9)]);}async[a0_0xffba68(0x1d6)](_0x5db885){const _0x160ced=a0_0xffba68;return await this[_0x160ced(0x531)](_0x5db885[_0x160ced(0x415)],{'locationMessage':{'degreesLatitude':_0x5db885['locationMessage'][_0x160ced(0x2a3)],'degreesLongitude':_0x5db885['locationMessage'][_0x160ced(0x453)],'name':_0x5db885[_0x160ced(0x1d6)]?.[_0x160ced(0x114)],'address':_0x5db885[_0x160ced(0x1d6)]?.['address']}},_0x5db885?.[_0x160ced(0x1a9)]);}async['listMessage'](_0x47c6e5){const _0x3278b9=a0_0xffba68;return await this[_0x3278b9(0x531)](_0x47c6e5[_0x3278b9(0x415)],{'listMessage':{'title':_0x47c6e5[_0x3278b9(0x5e8)]['title'],'description':_0x47c6e5[_0x3278b9(0x5e8)][_0x3278b9(0x33a)],'buttonText':_0x47c6e5['listMessage']?.[_0x3278b9(0x21d)],'footerText':_0x47c6e5['listMessage']?.[_0x3278b9(0x300)],'sections':_0x47c6e5['listMessage'][_0x3278b9(0x19b)],'listType':0x1}},_0x47c6e5?.[_0x3278b9(0x1a9)]);}async[a0_0xffba68(0x65f)](_0x244abf){const _0x5c71c5=a0_0xffba68;let _0x27eb4b={},_0x4b2201=_0x46fc16=>{const _0x4a006d=a0_0xef6d;let _0x2f59c8='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x46fc16[_0x4a006d(0x38b)]+_0x4a006d(0x5f2)+_0x46fc16[_0x4a006d(0x38b)]+'\x0a';_0x46fc16[_0x4a006d(0x591)]&&(_0x2f59c8+=_0x4a006d(0x484)+_0x46fc16[_0x4a006d(0x591)]+';\x0a'),_0x46fc16[_0x4a006d(0x5de)]&&(_0x2f59c8+=_0x4a006d(0x6b0)+_0x46fc16[_0x4a006d(0x5de)]+'\x0a'),_0x46fc16['url']&&(_0x2f59c8+='URL:'+_0x46fc16[_0x4a006d(0x1ab)]+'\x0a');let _0x484a98='';return _0x46fc16[_0x4a006d(0x675)]&&_0x46fc16[_0x4a006d(0x675)][_0x4a006d(0x6b6)]('|')['forEach']((_0x3689f5,_0x1bc2e2)=>{const _0x26a6d2=_0x4a006d;let _0x4caa58=this[_0x26a6d2(0x518)](_0x3689f5)[_0x26a6d2(0x4ad)](_0x26a6d2(0x5d3),'');_0x484a98+='item'+(_0x1bc2e2+0x1)+_0x26a6d2(0x215)+_0x4caa58+':'+_0x3689f5+'\x0aitem'+(_0x1bc2e2+0x1)+'.X-ABLabel:Celular\x0a';}),_0x2f59c8+=_0x484a98+_0x4a006d(0x57c),_0x2f59c8;};return _0x244abf['contactMessage'][_0x5c71c5(0x26f)]===0x1?_0x27eb4b['contactMessage']={'displayName':_0x244abf[_0x5c71c5(0x65f)][0x0][_0x5c71c5(0x38b)],'vcard':_0x4b2201(_0x244abf[_0x5c71c5(0x65f)][0x0])}:_0x27eb4b['contactsArrayMessage']={'displayName':_0x244abf[_0x5c71c5(0x65f)][_0x5c71c5(0x26f)]+_0x5c71c5(0x4ec),'contacts':_0x244abf[_0x5c71c5(0x65f)][_0x5c71c5(0x326)](_0x52c324=>({'displayName':_0x52c324[_0x5c71c5(0x38b)],'vcard':_0x4b2201(_0x52c324)}))},await this[_0x5c71c5(0x531)](_0x244abf[_0x5c71c5(0x415)],{..._0x27eb4b},_0x244abf?.[_0x5c71c5(0x1a9)]);}async[a0_0xffba68(0x365)](_0x56b44f){const _0x402d6d=a0_0xffba68;return await this[_0x402d6d(0x531)](_0x56b44f['reactionMessage'][_0x402d6d(0x253)][_0x402d6d(0x1fc)],{'reactionMessage':{'key':_0x56b44f[_0x402d6d(0x365)][_0x402d6d(0x253)],'text':_0x56b44f[_0x402d6d(0x365)][_0x402d6d(0x523)]}});}async[a0_0xffba68(0x28e)](_0x381429){const _0x52d31f=a0_0xffba68;let _0x3d4364=[];for await(let _0x34d4a7 of _0x381429[_0x52d31f(0x310)]){let _0x41924f=this[_0x52d31f(0x518)](_0x34d4a7);if((0x0,w[_0x52d31f(0x6a1)])(_0x41924f)){let _0x12bf35=await this[_0x52d31f(0x446)]({'groupJid':_0x41924f},_0x52d31f(0x37f));_0x3d4364[_0x52d31f(0x55d)](new me(_0x12bf35[_0x52d31f(0x5fa)]['id'],!!_0x12bf35?.[_0x52d31f(0x5fa)]['id'],_0x12bf35?.['metadata'][_0x52d31f(0x1f8)]));}else try{let _0x16382e=(await this[_0x52d31f(0x49f)][_0x52d31f(0x272)](_0x41924f))[0x0];_0x3d4364[_0x52d31f(0x55d)](new me(_0x16382e['jid'],_0x16382e[_0x52d31f(0x14c)]));}catch{_0x3d4364['push'](new me(_0x34d4a7,!0x1));}}return _0x3d4364;}async[a0_0xffba68(0x57f)](_0x2bf524){const _0x11eed9=a0_0xffba68;try{let _0x2d813e=_0x2bf524[_0x11eed9(0x515)][_0x11eed9(0x3c5)](_0x2f35de=>(0x0,w['isJidGroup'])(_0x2f35de['remoteJid'])||(0x0,w[_0x11eed9(0x20f)])(_0x2f35de[_0x11eed9(0x1fc)]))[_0x11eed9(0x326)](_0x482556=>({'remoteJid':_0x482556[_0x11eed9(0x1fc)],'fromMe':_0x482556[_0x11eed9(0x43f)],'id':_0x482556['id']}));await this[_0x11eed9(0x49f)][_0x11eed9(0x515)](_0x2d813e);let _0x142ca9=_0x2d813e[_0x11eed9(0x326)](_0x30907a=>this[_0x11eed9(0x4c3)](_0x30907a,_0x30907a[_0x11eed9(0x1fc)],{'status':'READ','owner':this[_0x11eed9(0x267)][_0x11eed9(0x62b)]})),_0xae113d=_0x2d813e[_0x11eed9(0x326)](_0x170273=>this[_0x11eed9(0x597)][_0x11eed9(0x474)][_0x11eed9(0x577)]({'where':{'_id':_0x170273[_0x11eed9(0x1fc)],'owner':this[_0x11eed9(0x267)][_0x11eed9(0x62b)]}},{'unreadcount':0x0})),[_0x2f7571,_0x15b118]=await Promise['all']([Promise[_0x11eed9(0x262)](_0x142ca9),Promise[_0x11eed9(0x262)](_0xae113d)]);return _0x15b118[_0x11eed9(0x3c5)](_0x28dc54=>_0x28dc54!==null)[_0x11eed9(0x6d1)](_0x514f13=>{const _0x3bd84f=_0x11eed9;B(this[_0x3bd84f(0x1c4)],_0x3bd84f(0x45c),{'chat':_0x514f13});}),{'message':_0x11eed9(0x48c),'read':'success'};}catch(_0x1c1a6d){throw console[_0x11eed9(0x1ea)](_0x11eed9(0x1fd),_0x1c1a6d),new A('Read\x20messages\x20fail',_0x1c1a6d[_0x11eed9(0x4d7)]());}}async['getLastMessage'](_0x5d8524){const _0x53f0cd=a0_0xffba68;let _0x22e895=await this[_0x53f0cd(0x669)]({'where':{'key':{'remoteJid':_0x5d8524},'owner':this[_0x53f0cd(0x267)][_0x53f0cd(0x114)]}}),_0x2f47a6=_0x22e895[_0x53f0cd(0x4c7)]();for(let _0xa29137 of _0x22e895)_0xa29137['messageTimestamp']>=_0x2f47a6['messageTimestamp']&&(_0x2f47a6=_0xa29137);return _0x2f47a6;}async[a0_0xffba68(0x6da)](_0x35a75a){const _0x1215a7=a0_0xffba68;this[_0x1215a7(0x6c0)]['verbose']('Archiving\x20chat');try{let _0x93f05b=_0x35a75a[_0x1215a7(0x2e0)],_0x4391d6=_0x35a75a[_0x1215a7(0x474)];if(!_0x93f05b&&_0x4391d6?_0x93f05b=await this[_0x1215a7(0x343)](_0x4391d6):(_0x93f05b=_0x35a75a[_0x1215a7(0x2e0)],_0x93f05b[_0x1215a7(0x3c2)]=_0x93f05b?.['messageTimestamp']??Date['now'](),_0x4391d6=_0x93f05b?.[_0x1215a7(0x253)]?.['remoteJid']),!_0x93f05b||Object['keys'](_0x93f05b)[_0x1215a7(0x26f)]===0x0)throw new x('Last\x20message\x20not\x20found');await this[_0x1215a7(0x49f)][_0x1215a7(0x31b)]({'archive':_0x35a75a[_0x1215a7(0x61d)],'lastMessages':[_0x93f05b]},this[_0x1215a7(0x518)](_0x4391d6));let _0x5d859f=await this['repository'][_0x1215a7(0x474)][_0x1215a7(0x577)]({'where':{'_id':_0x93f05b?.['key']?.['remoteJid'],'owner':this[_0x1215a7(0x267)][_0x1215a7(0x62b)]}},{'archived':_0x35a75a['archive']});return _0x5d859f&&B(this[_0x1215a7(0x1c4)],_0x1215a7(0x45c),{'chat':_0x5d859f}),{'chatId':_0x4391d6,'archived':_0x35a75a[_0x1215a7(0x61d)]};}catch(_0x1115e8){throw new A({'archived':!0x1,'message':['An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.',_0x1115e8[_0x1215a7(0x4d7)]()]});}}async[a0_0xffba68(0x38e)](_0x5505f6){const _0x2a4b04=a0_0xffba68;try{let _0x3bb4c8=await this[_0x2a4b04(0x49f)][_0x2a4b04(0x581)](_0x5505f6['remoteJid'],{'delete':_0x5505f6});try{let _0x591c77=await this[_0x2a4b04(0x4c3)](_0x5505f6,_0x5505f6[_0x2a4b04(0x1fc)],{'status':_0x2a4b04(0x1d3),'owner':this[_0x2a4b04(0x267)][_0x2a4b04(0x62b)]});this[_0x2a4b04(0x6c0)][_0x2a4b04(0x5be)](this['instanceName']+'\x20('+this[_0x2a4b04(0x267)][_0x2a4b04(0x62b)]+_0x2a4b04(0x456)+_0x591c77);}catch(_0x143da8){console[_0x2a4b04(0x1ea)](_0x2a4b04(0x2d5),_0x143da8);}return _0x3bb4c8;}catch(_0xcf17fd){throw new A(_0x2a4b04(0x197),_0xcf17fd?.[_0x2a4b04(0x4d7)]());}}async[a0_0xffba68(0x6c6)](_0xbf84d9){const _0x5710c6=a0_0xffba68;try{let _0x5277cb=_0xbf84d9?.[_0x5710c6(0x65d)]?_0xbf84d9:await this['getMessage'](_0xbf84d9[_0x5710c6(0x253)],!0x0);for(let _0x305bff of zs)_0x5277cb[_0x5710c6(0x65d)][_0x305bff]&&(_0x5277cb[_0x5710c6(0x65d)]=_0x5277cb['message'][_0x305bff][_0x5710c6(0x65d)]);let _0x1fa3aa,_0x31e39a;for(let _0x27d23c of Ks)if(_0x1fa3aa=_0x5277cb['message'][_0x27d23c],_0x1fa3aa){_0x31e39a=_0x27d23c;break;}if(!_0x1fa3aa)throw _0x5710c6(0x471);typeof _0x1fa3aa[_0x5710c6(0x69c)]==_0x5710c6(0x66a)&&(_0x5277cb[_0x5710c6(0x65d)]=JSON['parse'](JSON['stringify'](_0x5277cb[_0x5710c6(0x65d)])));let _0x324e7c=await(0x0,w['downloadMediaMessage'])({'key':_0x5277cb?.[_0x5710c6(0x253)],'message':_0x5277cb?.[_0x5710c6(0x65d)]},_0x5710c6(0x6a8),{},{'logger':(0x0,Rt['default'])({'level':'error'}),'reuploadRequest':this[_0x5710c6(0x49f)][_0x5710c6(0x5ca)]});if(!(_0x324e7c instanceof Buffer))throw new Error(_0x5710c6(0x5d7));let _0x39b9cd=this['configService'][_0x5710c6(0x4e4)](_0x5710c6(0x3e4)),_0x15999e,_0x4ad0d6;if(_0x1fa3aa['fileName'])_0x15999e=_0x1fa3aa['fileName'];else{let _0x4f180c=_0x1fa3aa[_0x5710c6(0x43b)]?.[_0x5710c6(0x14e)](/\/(\w+)/),_0x45f20a=_0x4f180c?_0x4f180c[0x1]:null;if(!_0x45f20a)throw new Error(_0x5710c6(0x166));_0x15999e=(0x0,At['v4'])()+'.'+_0x45f20a;}_0x31e39a===_0x5710c6(0x1b4)&&_0x1fa3aa['mimetype']===_0x5710c6(0x252)?(_0x15999e=(0x0,At['v4'])()+_0x5710c6(0x455),_0x4ad0d6=_0x5710c6(0x30e)+await this[_0x5710c6(0x422)](_0x324e7c[_0x5710c6(0x4d7)](_0x5710c6(0x2b6)))):(await this[_0x5710c6(0x2a1)](_0x324e7c,_0x15999e),_0x4ad0d6=_0x5710c6(0x30e)+_0x15999e);let _0x5aa8c6=this[_0x5710c6(0x1e8)][_0x5710c6(0x4e4)](_0x5710c6(0x44d)),_0x1c4396=this[_0x5710c6(0x1e8)][_0x5710c6(0x4e4)]('SERVER')['PORT'],_0x29ac0e=_0x5aa8c6&&_0x5aa8c6['FULLCHAIN'][_0x5710c6(0x6b6)]('/')[0x4];_0x1c4396===0x1bb&&(_0x4ad0d6=''+(_0x5710c6(0x3dc)+_0x29ac0e)+_0x4ad0d6);let _0x5c87c9=0xc*0x3c*0x3c*0x3e8,_0x2cb4b4={'where':{'_id':_0x5277cb[_0x5710c6(0x253)]['id'],'owner':this[_0x5710c6(0x267)][_0x5710c6(0x62b)]}};_0x5277cb[_0x5710c6(0x253)]['remoteJid'][_0x5710c6(0x333)]('@g.us')&&(_0x2cb4b4[_0x5710c6(0x31c)]['key'][_0x5710c6(0x41e)]=_0x5277cb['key'][_0x5710c6(0x41e)]);let _0x18b950={'message_normalized.fileUrl':_0x4ad0d6,'message_normalized.expires_fileUrl':Date[_0x5710c6(0x2e7)]()+_0x5c87c9};try{let _0x5ad976=await this['repository'][_0x5710c6(0x65d)][_0x5710c6(0x2bd)](_0x2cb4b4,_0x18b950);_0x5ad976&&B(this[_0x5710c6(0x1c4)],_0x5710c6(0x330),{'message':_0x5ad976});}catch{}return{'mediaType':_0x31e39a,'fileName':_0x1fa3aa['fileName'],'caption':_0x1fa3aa[_0x5710c6(0x136)],'size':{'fileLength':_0x1fa3aa[_0x5710c6(0x389)],'height':_0x1fa3aa['height'],'width':_0x1fa3aa[_0x5710c6(0x128)]},'mimetype':_0x1fa3aa[_0x5710c6(0x43b)],'base64':_0x324e7c[_0x5710c6(0x4d7)](_0x5710c6(0x2b6)),'fileUrl':_0x4ad0d6,'expires_fileUrl':Date['now']()+_0x5c87c9};}catch(_0x261452){throw this[_0x5710c6(0x6c0)][_0x5710c6(0x1ea)](this[_0x5710c6(0x1c4)]+'\x20('+this['instance']['wuid']+_0x5710c6(0x32e)+_0x261452),new g(_0x261452['toString']());}}async[a0_0xffba68(0x2a1)](_0x45976f,_0x106c2f){const _0x7aa026=a0_0xffba68;console[_0x7aa026(0x550)](_0x7aa026(0x544),__dirname),console[_0x7aa026(0x550)]('Original\x20filename:',_0x106c2f);let _0xcbf77=$[_0x7aa026(0x58d)][_0x7aa026(0x226)](__dirname,_0x7aa026(0x433));console['log']('Media\x20folder\x20path:',_0xcbf77),P[_0x7aa026(0x257)](_0xcbf77)||(this[_0x7aa026(0x6c0)][_0x7aa026(0x550)](_0x7aa026(0x1e9)),P[_0x7aa026(0x6b8)](_0xcbf77,{'recursive':!0x0}));let _0x3b446e=$[_0x7aa026(0x58d)]['join'](_0xcbf77,_0x106c2f);return console['log'](_0x7aa026(0x11e),_0x3b446e),new Promise((_0x143369,_0x5e079d)=>{const _0x3f9156=_0x7aa026;P[_0x3f9156(0x1ca)](_0x3b446e,_0x45976f,_0x165f87=>{const _0x4d1a17=_0x3f9156;_0x165f87?(this[_0x4d1a17(0x6c0)][_0x4d1a17(0x1ea)](_0x4d1a17(0x2ad)+_0x165f87[_0x4d1a17(0x65d)]),_0x5e079d(_0x165f87)):(this[_0x4d1a17(0x6c0)]['log']('File\x20written\x20to\x20path:\x20'+_0x3b446e),_0x143369(_0x3b446e));});});}async['fetchContacts'](_0x449bec){const _0x2c662e=a0_0xffba68;return _0x449bec?.[_0x2c662e(0x31c)]?_0x449bec['where'][_0x2c662e(0x1e6)]=this[_0x2c662e(0x267)][_0x2c662e(0x62b)]:_0x449bec={'where':{'owner':this[_0x2c662e(0x267)][_0x2c662e(0x62b)]}},await this[_0x2c662e(0x597)][_0x2c662e(0x440)]['find'](_0x449bec);}async['fetchMessages'](_0x5345e8){const _0x180a1f=a0_0xffba68;return _0x5345e8?.[_0x180a1f(0x31c)]?_0x5345e8[_0x180a1f(0x31c)]['owner']=this[_0x180a1f(0x267)][_0x180a1f(0x62b)]:_0x5345e8={'where':{'owner':this[_0x180a1f(0x267)][_0x180a1f(0x62b)]},'limit':_0x5345e8?.[_0x180a1f(0x195)]},await this[_0x180a1f(0x597)][_0x180a1f(0x65d)][_0x180a1f(0x59a)](_0x5345e8);}async['fetchChats'](){const _0x2e679f=a0_0xffba68;return await this[_0x2e679f(0x597)][_0x2e679f(0x474)][_0x2e679f(0x59a)]({'where':{'owner':this[_0x2e679f(0x267)]['wuid']}});}async[a0_0xffba68(0x41d)](){const _0x5d647a=a0_0xffba68;return await this[_0x5d647a(0x49f)][_0x5d647a(0x41d)]();}async[a0_0xffba68(0x1cd)](_0x1c593e){const _0x31ee96=a0_0xffba68;try{return await this[_0x31ee96(0x49f)][_0x31ee96(0x170)](_0x1c593e[_0x31ee96(0x66f)][_0x31ee96(0x405)]),await this['client'][_0x31ee96(0x495)](_0x1c593e[_0x31ee96(0x66f)][_0x31ee96(0x182)]),await this[_0x31ee96(0x49f)][_0x31ee96(0x6cc)](_0x1c593e[_0x31ee96(0x66f)][_0x31ee96(0x697)]),await this[_0x31ee96(0x49f)][_0x31ee96(0x208)](_0x1c593e[_0x31ee96(0x66f)][_0x31ee96(0x656)]),await this[_0x31ee96(0x49f)][_0x31ee96(0x14d)](_0x1c593e['privacySettings'][_0x31ee96(0x59b)]),await this[_0x31ee96(0x49f)]['updateGroupsAddPrivacy'](_0x1c593e[_0x31ee96(0x66f)][_0x31ee96(0x27b)]),this[_0x31ee96(0x49f)]?.['ws']?.['close'](),{'update':_0x31ee96(0x130),'data':{'readreceipts':_0x1c593e[_0x31ee96(0x66f)][_0x31ee96(0x405)],'profile':_0x1c593e[_0x31ee96(0x66f)][_0x31ee96(0x182)],'status':_0x1c593e[_0x31ee96(0x66f)][_0x31ee96(0x697)],'online':_0x1c593e['privacySettings'][_0x31ee96(0x656)],'last':_0x1c593e['privacySettings']['last'],'groupadd':_0x1c593e[_0x31ee96(0x66f)][_0x31ee96(0x27b)]}};}catch(_0x2edae5){throw new A('Error\x20updating\x20privacy\x20settings',_0x2edae5[_0x31ee96(0x4d7)]());}}async[a0_0xffba68(0x6d5)](_0xd60c5a){const _0x32f452=a0_0xffba68;let _0x1c8a5f=_0xd60c5a?this[_0x32f452(0x518)](_0xd60c5a):this[_0x32f452(0x49f)]?.['user']?.['id'];this[_0x32f452(0x6c0)][_0x32f452(0x5be)](_0x32f452(0x36e)+_0x1c8a5f);try{if(this[_0x32f452(0x6c0)][_0x32f452(0x5be)](_0x32f452(0x2fe)),_0xd60c5a){let _0x303e06=(await this[_0x32f452(0x28e)]({'numbers':[_0x1c8a5f]}))?.['shift'](),_0x3d3a50=await this['profilePicture'](_0x303e06?.[_0x32f452(0x1e3)]),_0x2d1e62=await this[_0x32f452(0x670)](_0x303e06?.[_0x32f452(0x1e3)]),_0x21b374=await this[_0x32f452(0x17b)](_0x303e06?.[_0x32f452(0x1e3)]);return{'wuid':_0x303e06?.[_0x32f452(0x1e3)]||_0x1c8a5f,'name':_0x303e06?.['name'],'numberExists':_0x303e06?.[_0x32f452(0x14c)],'picture':_0x3d3a50?.[_0x32f452(0x3ed)],'status':_0x2d1e62?.[_0x32f452(0x697)],'isBusiness':_0x21b374[_0x32f452(0x5e4)],'email':_0x21b374?.[_0x32f452(0x5de)],'description':_0x21b374?.[_0x32f452(0x33a)],'website':_0x21b374?.[_0x32f452(0x399)]?.[_0x32f452(0x646)]()};}}catch{return this[_0x32f452(0x6c0)][_0x32f452(0x5be)]('Profile\x20not\x20found'),{'wuid':_0x1c8a5f,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async['fetchProfile'](_0x24ce8a){const _0x6c1654=a0_0xffba68;let _0x30c414=(_0x24ce8a?this[_0x6c1654(0x518)](_0x24ce8a):this[_0x6c1654(0x49f)]?.[_0x6c1654(0x658)]?.['id'])[_0x6c1654(0x4ad)](/:\d{1,2}@/g,'@');this[_0x6c1654(0x6c0)][_0x6c1654(0x5be)](_0x6c1654(0x1c2)+_0x30c414);let _0xd19c87=await this[_0x6c1654(0x597)][_0x6c1654(0x440)][_0x6c1654(0x590)]({'where':{'_id':_0x30c414,'owner':this['instance'][_0x6c1654(0x62b)]}}),_0x26a4ff=_0xd19c87?_0xd19c87[_0x6c1654(0x395)]:null;try{let _0x57f9ac=(await this[_0x6c1654(0x28e)]({'numbers':[_0x30c414]}))?.['shift'](),_0x1a0918=await this[_0x6c1654(0x52d)](_0x57f9ac?.['jid']),_0x70a9f1=await this[_0x6c1654(0x670)](_0x57f9ac?.[_0x6c1654(0x1e3)]),_0x313c0a=await this[_0x6c1654(0x17b)](_0x57f9ac?.[_0x6c1654(0x1e3)]),_0x16394f={'imagechat':_0x1a0918?.[_0x6c1654(0x3ed)],'contactname':_0x26a4ff||null,'status':_0x70a9f1?.['status'],'isBusiness':_0x313c0a['isBusiness'],'email':_0x313c0a?.['email'],'description':_0x313c0a?.[_0x6c1654(0x33a)],'website':_0x313c0a?.[_0x6c1654(0x399)]?.[_0x6c1654(0x646)](),'lastcache':Date[_0x6c1654(0x2e7)]()},_0x4fd4ca=await this[_0x6c1654(0x597)][_0x6c1654(0x474)]['updateOne']({'where':{'_id':_0x30c414,'owner':this[_0x6c1654(0x267)][_0x6c1654(0x62b)]}},_0x16394f),_0x28fc5c={'owner':this[_0x6c1654(0x267)][_0x6c1654(0x62b)],'_id':_0x30c414,'profilePictureUrl':_0x1a0918?.['profilePictureUrl'],'status':_0x70a9f1?.[_0x6c1654(0x697)]};return this[_0x6c1654(0x597)][_0x6c1654(0x440)][_0x6c1654(0x2bd)]([_0x28fc5c],this[_0x6c1654(0x267)][_0x6c1654(0x62b)]),_0x4fd4ca&&B(this[_0x6c1654(0x1c4)],_0x6c1654(0x45c),{'chat':_0x4fd4ca}),{'wuid':_0x57f9ac?.['jid']||_0x30c414,'name':_0x57f9ac?.[_0x6c1654(0x114)],'numberExists':_0x57f9ac?.[_0x6c1654(0x14c)],'picture':_0x1a0918?.['profilePictureUrl'],'status':_0x70a9f1?.[_0x6c1654(0x697)],'isBusiness':_0x313c0a[_0x6c1654(0x5e4)],'email':_0x313c0a?.[_0x6c1654(0x5de)],'description':_0x313c0a?.['description'],'website':_0x313c0a?.[_0x6c1654(0x399)]?.[_0x6c1654(0x646)]()};}catch(_0x401bfe){return this[_0x6c1654(0x6c0)][_0x6c1654(0x1ea)](_0x6c1654(0x3d6)+_0x401bfe),{};}}async['fetchBusinessProfile'](_0x547534){const _0x2db302=a0_0xffba68;this['logger'][_0x2db302(0x5be)](_0x2db302(0x2bf));try{let _0x12f343=_0x547534?this[_0x2db302(0x518)](_0x547534):this[_0x2db302(0x267)][_0x2db302(0x62b)],_0x1dae18=await this[_0x2db302(0x49f)][_0x2db302(0x393)](_0x12f343);return this[_0x2db302(0x6c0)][_0x2db302(0x5be)](_0x2db302(0x3e2)),_0x1dae18?(this[_0x2db302(0x6c0)][_0x2db302(0x5be)]('Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x1dae18}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this['whatsappNumber']({'numbers':[_0x12f343]}))?.['shift']()};}catch(_0x46e128){throw new A(_0x2db302(0x3f7),_0x46e128[_0x2db302(0x4d7)]());}}async['getStatus'](_0x405036){const _0x3c8863=a0_0xffba68;let _0x2404bb=this[_0x3c8863(0x518)](_0x405036);try{return{'wuid':_0x2404bb,'status':(await this['client'][_0x3c8863(0x1d7)](_0x2404bb))?.['status']};}catch{return{'wuid':_0x2404bb,'status':null};}}async['updateProfileName'](_0x5d53cc){const _0x4cf2f6=a0_0xffba68;try{return await this[_0x4cf2f6(0x49f)][_0x4cf2f6(0x240)](_0x5d53cc),{'update':_0x4cf2f6(0x130)};}catch(_0x2f23cb){throw new A(_0x4cf2f6(0x3f7),_0x2f23cb[_0x4cf2f6(0x4d7)]());}}async[a0_0xffba68(0x5ed)](_0x59ada4){const _0x4e7814=a0_0xffba68;try{return await this['client'][_0x4e7814(0x5ed)](_0x59ada4),{'update':'success'};}catch(_0x15fa4d){throw new A(_0x4e7814(0x18c),_0x15fa4d['toString']());}}async[a0_0xffba68(0x4f8)](_0x2825ce){const _0xd29c9b=a0_0xffba68;try{let _0x483dc2;if((0x0,O[_0xd29c9b(0x61f)])(_0x2825ce)){let _0x2ffb6f=new Date()[_0xd29c9b(0x1cf)](),_0x223c05=_0x2825ce+_0xd29c9b(0x558)+_0x2ffb6f;_0x483dc2=(await ne[_0xd29c9b(0x58d)][_0xd29c9b(0x4e4)](_0x223c05,{'responseType':'arraybuffer'}))['data'];}else{if((0x0,O[_0xd29c9b(0x339)])(_0x2825ce))_0x483dc2=Buffer[_0xd29c9b(0x1ae)](_0x2825ce,_0xd29c9b(0x2b6));else throw new g('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0xd29c9b(0x49f)][_0xd29c9b(0x4f8)](this[_0xd29c9b(0x267)]['wuid'],_0x483dc2),{'update':_0xd29c9b(0x130)};}catch(_0x6c2243){throw new A('Error\x20updating\x20profile\x20picture',_0x6c2243[_0xd29c9b(0x4d7)]());}}async[a0_0xffba68(0x61e)](){const _0x33d814=a0_0xffba68;try{return await this[_0x33d814(0x49f)]['removeProfilePicture'](this[_0x33d814(0x267)][_0x33d814(0x62b)]),{'update':_0x33d814(0x130)};}catch(_0x439b9b){throw new A(_0x33d814(0x68a),_0x439b9b[_0x33d814(0x4d7)]());}}async[a0_0xffba68(0x4da)](_0x394934){const _0x10df3d=a0_0xffba68;try{let _0x32036b=_0x394934[_0x10df3d(0x19d)][_0x10df3d(0x326)](_0x4697ff=>this[_0x10df3d(0x518)](_0x4697ff)),{id:_0x52985c}=await this[_0x10df3d(0x49f)][_0x10df3d(0x21f)](_0x394934['subject'],_0x32036b);return _0x394934?.[_0x10df3d(0x33a)]&&await this[_0x10df3d(0x49f)][_0x10df3d(0x3fc)](_0x52985c,_0x394934['description']),{'metadata':await this['client']['groupMetadata'](_0x52985c)};}catch(_0x2dc6a5){throw this[_0x10df3d(0x6c0)][_0x10df3d(0x1ea)](this[_0x10df3d(0x1c4)]+'\x20('+this[_0x10df3d(0x267)][_0x10df3d(0x62b)]+_0x10df3d(0x32e)+_0x2dc6a5),new A(_0x10df3d(0x538),_0x2dc6a5[_0x10df3d(0x4d7)]());}}async['updateGroupPicture'](_0x51fe04){const _0x4b8010=a0_0xffba68;try{let _0x5f5c71;if((0x0,O[_0x4b8010(0x61f)])(_0x51fe04[_0x4b8010(0x40b)])){let _0x4d35d4=new Date()[_0x4b8010(0x1cf)](),_0x1b15a0=_0x51fe04[_0x4b8010(0x40b)]+_0x4b8010(0x558)+_0x4d35d4;_0x5f5c71=(await ne[_0x4b8010(0x58d)][_0x4b8010(0x4e4)](_0x1b15a0,{'responseType':_0x4b8010(0x629)}))[_0x4b8010(0x228)];}else{if((0x0,O['isBase64'])(_0x51fe04['image']))_0x5f5c71=Buffer[_0x4b8010(0x1ae)](_0x51fe04[_0x4b8010(0x40b)],_0x4b8010(0x2b6));else throw new g(_0x4b8010(0x504));}return await this[_0x4b8010(0x49f)][_0x4b8010(0x4f8)](_0x51fe04[_0x4b8010(0x3c0)],_0x5f5c71),{'update':_0x4b8010(0x130)};}catch(_0x2536f2){throw new A(_0x4b8010(0x3d1),_0x2536f2[_0x4b8010(0x4d7)]());}}async[a0_0xffba68(0x446)](_0x5dc4bf,_0x2dcef4=a0_0xffba68(0x298)){const _0x6186eb=a0_0xffba68;try{let _0x305652=await this[_0x6186eb(0x49f)][_0x6186eb(0x3a6)](_0x5dc4bf['groupJid']),_0x4e7d14=null;try{_0x4e7d14=(await this[_0x6186eb(0x52d)](_0x5dc4bf['groupJid']))[_0x6186eb(0x3ed)];}catch(_0x460032){this['logger'][_0x6186eb(0x5be)](this[_0x6186eb(0x1c4)]+'\x20('+this[_0x6186eb(0x267)]['wuid']+_0x6186eb(0x22d)+_0x5dc4bf[_0x6186eb(0x3c0)]+':\x20'+_0x460032['toString']());}let _0x5b7a50=await this[_0x6186eb(0x597)][_0x6186eb(0x474)][_0x6186eb(0x577)]({'where':{'_id':_0x5dc4bf[_0x6186eb(0x3c0)],'owner':this['instance'][_0x6186eb(0x62b)]}},{'imagechat':_0x4e7d14,'name':_0x305652[_0x6186eb(0x1f8)],'group_size':_0x305652[_0x6186eb(0x221)],'group_announce':_0x305652[_0x6186eb(0x467)],'lastcache':Date['now']()});return _0x5b7a50&&B(this['instanceName'],_0x6186eb(0x45c),{'chat':_0x5b7a50}),{'metadata':_0x305652,'image':_0x4e7d14};}catch(_0x38de87){if(_0x2dcef4==='inner')return;throw new x(_0x6186eb(0x5a2),_0x38de87[_0x6186eb(0x4d7)]());}}async[a0_0xffba68(0x274)](_0x5e2c87){const _0x26ab49=a0_0xffba68;try{return await this['client'][_0x26ab49(0x3fc)](_0x5e2c87['groupJid'],_0x5e2c87['description']),{'update':_0x26ab49(0x130)};}catch(_0x32c96f){throw new A(_0x26ab49(0x660),_0x32c96f[_0x26ab49(0x4d7)]());}}async[a0_0xffba68(0x5c8)](_0x528260){const _0x984df6=a0_0xffba68;try{return await this[_0x984df6(0x49f)][_0x984df6(0x608)](_0x528260['groupJid'],_0x528260[_0x984df6(0x114)]),{'update':_0x984df6(0x130)};}catch(_0x13f037){throw new A(_0x984df6(0x3ae),_0x13f037['toString']());}}async[a0_0xffba68(0x549)](_0x4084dd){const _0x36fa9f=a0_0xffba68;try{return await this[_0x36fa9f(0x49f)]['groupSettingUpdate'](_0x4084dd[_0x36fa9f(0x3c0)],_0x4084dd[_0x36fa9f(0x469)]),{'update':_0x36fa9f(0x130)};}catch(_0x5bb672){throw new A('Error\x20change\x20group\x20setting',_0x5bb672['toString']());}}async[a0_0xffba68(0x32a)](){const _0x3c497d=a0_0xffba68;try{let _0x11759b=[],_0x37bc03=await this[_0x3c497d(0x49f)][_0x3c497d(0x5b6)](),_0x396378=Object[_0x3c497d(0x640)](_0x37bc03),_0x45db4a=_0x396378[_0x3c497d(0x3c5)](_0x4eb05d=>(0x0,w['isJidGroup'])(_0x4eb05d?.['id']))[_0x3c497d(0x326)](async _0x5da161=>{const _0x1bc13b=_0x3c497d;try{return await this[_0x1bc13b(0x49f)][_0x1bc13b(0x3ed)](_0x5da161['id'],_0x1bc13b(0x5af));}catch(_0x1f9b5c){return this[_0x1bc13b(0x6c0)][_0x1bc13b(0x5be)](this[_0x1bc13b(0x1c4)]+'\x20('+this[_0x1bc13b(0x267)][_0x1bc13b(0x62b)]+_0x1bc13b(0x22d)+_0x5da161['id']+':\x20'+_0x1f9b5c['toString']()),null;}}),_0x5694e8=await Promise['all'](_0x45db4a);for(let _0x3a2a30=0x0;_0x3a2a30<_0x396378[_0x3c497d(0x26f)];_0x3a2a30++){let _0x1f29a9=_0x396378[_0x3a2a30];(0x0,w[_0x3c497d(0x6a1)])(_0x1f29a9?.['id'])&&_0x11759b[_0x3c497d(0x55d)]({'groupJid':_0x1f29a9?.['id'],'subject':_0x1f29a9?.['subject'],'subjectOwner':_0x1f29a9?.[_0x3c497d(0x2de)]?.[_0x3c497d(0x6b6)]('@')[0x0],'subjectTime':_0x1f29a9?.[_0x3c497d(0x29c)],'size':_0x1f29a9?.[_0x3c497d(0x19d)]?.[_0x3c497d(0x26f)],'owner':_0x1f29a9?.[_0x3c497d(0x1e6)]?.['split']('@')[0x0],'creation':_0x1f29a9?.[_0x3c497d(0x16a)],'desc':_0x1f29a9?.[_0x3c497d(0x6c4)],'restrict':_0x1f29a9?.[_0x3c497d(0x1ce)],'announce':_0x1f29a9?.[_0x3c497d(0x467)],'image':_0x5694e8[_0x3a2a30]});}return _0x11759b;}catch(_0xc5a4ac){throw new x('Error\x20fetching\x20group',_0xc5a4ac[_0x3c497d(0x4d7)]());}}async[a0_0xffba68(0x278)](_0x5588bd){const _0x20e6ae=a0_0xffba68;try{let _0x35c1db=await this['client'][_0x20e6ae(0x38a)](_0x5588bd[_0x20e6ae(0x3c0)]);return{'inviteUrl':_0x20e6ae(0x46e)+_0x35c1db,'inviteCode':_0x35c1db};}catch(_0xc66066){throw new x('No\x20invite\x20code',_0xc66066[_0x20e6ae(0x4d7)]());}}async[a0_0xffba68(0x16e)](_0x223d3e){const _0x3da548=a0_0xffba68;try{let _0x333e69=await this[_0x3da548(0x49f)]['groupRevokeInvite'](_0x223d3e[_0x3da548(0x3c0)]);return{'revoked':!0x0,'inviteUrl':_0x3da548(0x46e)+_0x333e69,'inviteCode':_0x333e69};}catch(_0x418dcb){throw new x(_0x3da548(0x22e),_0x418dcb[_0x3da548(0x4d7)]());}}async[a0_0xffba68(0x360)](_0x2c6d3a){const _0x956447=a0_0xffba68;try{if((0x0,O[_0x956447(0x61f)])(_0x2c6d3a[_0x956447(0x278)]))var _0x188c9b=_0x2c6d3a[_0x956447(0x278)]['split']('/')[0x3];else var _0x188c9b=_0x2c6d3a[_0x956447(0x278)];let _0x5e36ef=await this[_0x956447(0x49f)][_0x956447(0x367)](_0x188c9b);return this[_0x956447(0x6c0)][_0x956447(0x5be)](this[_0x956447(0x1c4)]+'\x20('+this[_0x956447(0x267)][_0x956447(0x62b)]+'):\x20'+_0x5e36ef),{'join':!0x0,'inviteCode':_0x188c9b,'groupJid':_0x5e36ef};}catch(_0x5da867){throw new x(_0x956447(0x2ef),_0x5da867[_0x956447(0x4d7)]());}}async[a0_0xffba68(0x618)](_0x113045){const _0x2778e0=a0_0xffba68;try{return{'participants':(await this[_0x2778e0(0x49f)][_0x2778e0(0x3a6)](_0x113045[_0x2778e0(0x3c0)]))[_0x2778e0(0x19d)]};}catch(_0x3a9cf3){throw new x(_0x2778e0(0x4bd),_0x3a9cf3[_0x2778e0(0x4d7)]());}}async[a0_0xffba68(0x61c)](_0x1bb328){const _0x504ed0=a0_0xffba68;try{let _0x20d15c=_0x1bb328[_0x504ed0(0x19d)][_0x504ed0(0x326)](_0x4cc865=>this[_0x504ed0(0x518)](_0x4cc865));return{'updateParticipants':await this['client'][_0x504ed0(0x5d4)](_0x1bb328[_0x504ed0(0x3c0)],_0x20d15c,_0x1bb328[_0x504ed0(0x556)])};}catch(_0x22df6b){throw new g(_0x504ed0(0x416),_0x22df6b['toString']());}}async['toggleEphemeral'](_0x136cf8){const _0xfebb53=a0_0xffba68;try{let _0x6456ec=await this['client'][_0xfebb53(0x33f)](_0x136cf8[_0xfebb53(0x3c0)],_0x136cf8[_0xfebb53(0x546)]);return{'success':!0x0};}catch(_0x157158){throw new g(_0xfebb53(0x249),_0x157158[_0xfebb53(0x4d7)]());}}async[a0_0xffba68(0x14f)](_0x55d6f3){const _0x1223f7=a0_0xffba68;try{return await this[_0x1223f7(0x49f)][_0x1223f7(0x124)](_0x55d6f3[_0x1223f7(0x3c0)]),{'groupJid':_0x55d6f3[_0x1223f7(0x3c0)],'leave':!0x0};}catch(_0x158a8c){throw new g(_0x1223f7(0x16f),_0x158a8c[_0x1223f7(0x4d7)]());}}async[a0_0xffba68(0x275)](_0x2b68d5){const _0xd3c5c2=a0_0xffba68;return await this[_0xd3c5c2(0x531)](_0x2b68d5[_0xd3c5c2(0x415)],{'poll':{'name':_0x2b68d5['pollMessage']?.['name'],'selectableCount':_0x2b68d5[_0xd3c5c2(0x275)][_0xd3c5c2(0x11d)],'values':_0x2b68d5[_0xd3c5c2(0x275)][_0xd3c5c2(0x640)]}},_0x2b68d5?.['options']);}async[a0_0xffba68(0x4c3)](_0x5b0f80,_0x58bca5,_0xec5a32){const _0x1c6d57=a0_0xffba68;if(await this[_0x1c6d57(0x606)](_0x5b0f80,!0x0)){let _0x4cf370={'where':{'_id':_0x5b0f80['id'],'owner':this['instance'][_0x1c6d57(0x62b)]}},_0x40a016={'status':[_0xec5a32[_0x1c6d57(0x697)]][0x0]};try{let _0x2685b4=await this['repository'][_0x1c6d57(0x65d)][_0x1c6d57(0x2bd)](_0x4cf370,_0x40a016);_0x2685b4&&B(this[_0x1c6d57(0x1c4)],_0x1c6d57(0x330),{'message':_0x2685b4});}catch{}}}[a0_0xffba68(0x359)](_0x32c85f){const _0x5ecc88=a0_0xffba68;let _0x267695=_0x32c85f[_0x5ecc88(0x4ad)](/\\n/g,'\x0a')[_0x5ecc88(0x6b6)]('\x0a')[_0x5ecc88(0x3c5)](_0xed0b15=>_0xed0b15[_0x5ecc88(0x6ac)](_0x5ecc88(0x49e))||_0xed0b15[_0x5ecc88(0x6ac)](_0x5ecc88(0x306))),_0x1843fd='';return _0x267695[_0x5ecc88(0x6d1)](_0x369d7f=>{const _0x17ba83=_0x5ecc88;let _0x54469a=/TEL(?:.*):(.+)/,_0x4e8f9c=/EMAIL(?:.*):(.+)/,_0x10c595=_0x369d7f[_0x17ba83(0x14e)](_0x54469a),_0x47693b=_0x369d7f['match'](_0x4e8f9c);if(_0x10c595){let _0x236910=_0x10c595[0x1][_0x17ba83(0x4ad)](/-| |\+|\(|\)/g,'')[_0x17ba83(0x164)]();_0x1843fd+=_0x17ba83(0x596)+_0x236910+'\x0a';}else{if(_0x47693b){let _0x60de69=_0x47693b[0x1][_0x17ba83(0x164)]();_0x1843fd+=_0x17ba83(0x69e)+_0x60de69+'\x0a';}}}),_0x1843fd['trim']();}async[a0_0xffba68(0x4c6)](_0x513f06,_0x352f2d,_0x548b45){const _0x2027c4=a0_0xffba68;let _0x10db3e=_0x352f2d[_0x2027c4(0x253)]['remoteJid'][_0x2027c4(0x4ad)](/:\d{1,2}@/g,'@'),_0x2007bd=_0x352f2d[_0x2027c4(0x253)]['fromMe'],_0x59a173=_0x10db3e[_0x2027c4(0x333)](_0x2027c4(0x61a));if(!_0x513f06['ENABLED'])return;let _0x32ed56={'lastmsg':_0x352f2d['messageTimestamp']||Date[_0x2027c4(0x2e7)](),'unreadcount':_0x2007bd?0x0:0x1,..._0x2007bd||_0x59a173?{}:{'name':_0x352f2d[_0x2027c4(0x395)]},..._0x59a173?{'group':_0x59a173}:{}},_0xb02746=await this[_0x2027c4(0x597)]['chat'][_0x2027c4(0x577)]({'where':{'_id':_0x10db3e,'owner':this['instance'][_0x2027c4(0x62b)]}},_0x32ed56,{'new':!0x0,'upsert':!0x0});if(!_0x59a173&&(!_0xb02746?.['leadInfo']||!_0xb02746['leadInfo'][_0x2027c4(0x4b3)])&&_0x352f2d['pushName']&&!_0x2007bd&&await this['repository'][_0x2027c4(0x474)][_0x2027c4(0x577)]({'where':{'_id':_0x10db3e,'owner':this[_0x2027c4(0x267)][_0x2027c4(0x62b)]}},{'leadInfo.nome':_0x352f2d[_0x2027c4(0x395)]},{'new':!0x0,'upsert':!0x1}),_0xb02746?B(this[_0x2027c4(0x1c4)],'chats',{'chat':_0xb02746}):this[_0x2027c4(0x6c0)]['error'](this[_0x2027c4(0x1c4)]+'\x20('+this[_0x2027c4(0x267)]['wuid']+_0x2027c4(0x173)),!this[_0x2027c4(0x3e0)]?.['flowConfig'][_0x2027c4(0x175)])return this[_0x2027c4(0x6c0)][_0x2027c4(0x5be)](this['instanceName']+'\x20('+this['instance'][_0x2027c4(0x62b)]+_0x2027c4(0x2a2)),null;if(_0xb02746[_0x2027c4(0x35f)][_0x2027c4(0x6ac)](_0x2027c4(0x61a))&&this[_0x2027c4(0x3e0)]?.[_0x2027c4(0x354)]['ignoreGroups']===!0x0)return this['logger'][_0x2027c4(0x5be)](this[_0x2027c4(0x1c4)]+'\x20('+this[_0x2027c4(0x267)][_0x2027c4(0x62b)]+_0x2027c4(0x35b)),null;if(_0xb02746['leadInfo']){if(_0xb02746[_0x2027c4(0x419)]['desativadoFluxoAte']===0x0||_0xb02746[_0x2027c4(0x419)][_0x2027c4(0x1e5)])return this['logger'][_0x2027c4(0x5be)](this[_0x2027c4(0x1c4)]+'\x20('+this[_0x2027c4(0x267)][_0x2027c4(0x62b)]+_0x2027c4(0x375)+_0x10db3e+_0x2027c4(0x468)),null;if(_0xb02746[_0x2027c4(0x419)][_0x2027c4(0x6b7)]>Date['now']())return this[_0x2027c4(0x6c0)][_0x2027c4(0x5be)](this[_0x2027c4(0x1c4)]+'\x20('+this[_0x2027c4(0x267)][_0x2027c4(0x62b)]+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0xb02746['leadInfo'][_0x2027c4(0x6b7)])[_0x2027c4(0x532)]()+_0x2027c4(0x468)),null;}this[_0x2027c4(0x6c0)]['verbose'](this[_0x2027c4(0x1c4)]+'\x20('+this['instance'][_0x2027c4(0x62b)]+_0x2027c4(0x181)),this[_0x2027c4(0x303)](_0x548b45,_0x352f2d,this['instance']['wuid']);}async[a0_0xffba68(0x3bf)](_0x4d1ac1,_0x2ca91a){const _0x5e6385=a0_0xffba68;if(_0x2ca91a[_0x5e6385(0x47f)]){let _0x16ed49=_0x4d1ac1[_0x5e6385(0x326)](async _0x5e2bb7=>{const _0x1061dd=_0x5e6385;try{let _0x42a968={'_id':_0x5e2bb7['_id'],'owner':_0x5e2bb7[_0x1061dd(0x1e6)],'lastcache':0x0};if(_0x5e2bb7['group']!==null&&(_0x42a968['group']=_0x5e2bb7['group']),_0x5e2bb7[_0x1061dd(0x114)]!==null&&(_0x42a968[_0x1061dd(0x114)]=_0x5e2bb7[_0x1061dd(0x114)]),_0x5e2bb7['contactname']!==null&&(_0x42a968[_0x1061dd(0x533)]=_0x5e2bb7[_0x1061dd(0x533)]),_0x5e2bb7['imagechat']!==null&&(_0x42a968[_0x1061dd(0x269)]=_0x5e2bb7[_0x1061dd(0x269)]),_0x5e2bb7[_0x1061dd(0x269)]===null&&(_0x42a968[_0x1061dd(0x269)]='Imagem\x20não\x20encontrada'),_0x5e2bb7[_0x1061dd(0x615)]!==null&&(_0x42a968['lastmsg']=_0x5e2bb7['lastmsg']),_0x5e2bb7[_0x1061dd(0x685)]!==null&&(_0x42a968['archived']=_0x5e2bb7['archived']),_0x5e2bb7[_0x1061dd(0x2b2)]!==null&&(_0x42a968[_0x1061dd(0x2b2)]=_0x5e2bb7['unreadcount']),Object['keys'](_0x42a968)['length']>0x0)return await this[_0x1061dd(0x597)]['chat']['updateOne']({'where':{'_id':_0x5e2bb7[_0x1061dd(0x35f)],'owner':_0x5e2bb7[_0x1061dd(0x1e6)]}},_0x42a968);}catch(_0x3db360){return console['error'](_0x1061dd(0x302)+_0x5e2bb7[_0x1061dd(0x35f)]+':',_0x3db360),null;}}),_0x2c3294=(await Promise['all'](_0x16ed49))[_0x5e6385(0x3c5)](_0x52707f=>_0x52707f!==null)['length'];this['logger'][_0x5e6385(0x5be)](this[_0x5e6385(0x1c4)]+'\x20('+this['instance'][_0x5e6385(0x62b)]+_0x5e6385(0x32e)+_0x2c3294+_0x5e6385(0x4fa)+this[_0x5e6385(0x267)]['wuid']+'\x20inseridos\x20no\x20banco\x20de\x20dados...');}}async[a0_0xffba68(0x213)](_0x3c5ca1){const _0x17b90e=a0_0xffba68;this[_0x17b90e(0x6c0)][_0x17b90e(0x5be)](this[_0x17b90e(0x1c4)]+'\x20('+this[_0x17b90e(0x267)][_0x17b90e(0x62b)]+_0x17b90e(0x277));let _0x4c80d2={'readMessages':[{'remoteJid':_0x3c5ca1['chatLog'][_0x17b90e(0x57a)][_0x17b90e(0x253)][_0x17b90e(0x1fc)],'fromMe':_0x3c5ca1[_0x17b90e(0x437)][_0x17b90e(0x57a)]['key'][_0x17b90e(0x43f)],'id':_0x3c5ca1['chatLog'][_0x17b90e(0x57a)]['key']['id']}]};await this[_0x17b90e(0x57f)](_0x4c80d2);}async[a0_0xffba68(0x303)](_0x249b1d,_0x34db24,_0x156439){const _0x52ac0e=a0_0xffba68;try{let {key:_0x20eac1,message_normalized:_0x236389}=_0x34db24,_0x579c52=_0x236389,_0x1885e6=_0x236389[_0x52ac0e(0x1d5)]||_0x236389[_0x52ac0e(0x136)]||_0x236389['vote']||_0x236389[_0x52ac0e(0x114)],_0x35787e=_0x20eac1[_0x52ac0e(0x1fc)],_0x118314;if(_0x579c52[_0x52ac0e(0x253)][_0x52ac0e(0x43f)]&&_0x1885e6[_0x52ac0e(0x164)]()!==this[_0x52ac0e(0x3e0)]?.[_0x52ac0e(0x354)][_0x52ac0e(0x571)][_0x52ac0e(0x164)]())return this[_0x52ac0e(0x6c0)][_0x52ac0e(0x5be)](this[_0x52ac0e(0x1c4)]+'\x20('+this['instance'][_0x52ac0e(0x62b)]+_0x52ac0e(0x442)),null;if(_0x579c52['key'][_0x52ac0e(0x43f)]&&_0x1885e6[_0x52ac0e(0x164)]()===this['AutomateSystem']?.[_0x52ac0e(0x354)][_0x52ac0e(0x571)]['trim']()){this[_0x52ac0e(0x6c0)][_0x52ac0e(0x5be)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo');let _0xc81e38=await j[_0x52ac0e(0x59a)]({'owner':_0x156439,'remoteJid':_0x35787e,'status':'open'});this[_0x52ac0e(0x6c0)][_0x52ac0e(0x5be)](this[_0x52ac0e(0x1c4)]+'\x20('+this[_0x52ac0e(0x267)][_0x52ac0e(0x62b)]+_0x52ac0e(0x40c)+_0xc81e38);let _0xa96976=Date['now'](),_0x46c0a9;return this[_0x52ac0e(0x3e0)]?.[_0x52ac0e(0x354)][_0x52ac0e(0x3ad)]===0x0?_0x46c0a9={'stoppedUntil':_0xa96976+0x7591f6200}:_0x46c0a9={'stoppedUntil':_0xa96976+this['AutomateSystem']?.[_0x52ac0e(0x354)][_0x52ac0e(0x3ad)]*0x3c*0x3e8},this['logger']['verbose'](this[_0x52ac0e(0x1c4)]+'\x20('+this[_0x52ac0e(0x267)][_0x52ac0e(0x62b)]+'):\x20Campos\x20a\x20serem\x20atualizados:'+_0x46c0a9),this['updateStopChat'](_0x118314,_0x46c0a9['stoppedUntil']),null;}if(_0x1885e6&&_0x1885e6[_0x52ac0e(0x667)](this[_0x52ac0e(0x3e0)]?.['flowConfig'][_0x52ac0e(0x4a8)])&&_0x1885e6[_0x52ac0e(0x26f)]>0x4){let _0x577e6f=await I[_0x52ac0e(0x590)]({'owner':_0x156439,'startCommandWord':_0x1885e6});if(this[_0x52ac0e(0x6c0)][_0x52ac0e(0x5be)](this['instanceName']+'\x20('+this[_0x52ac0e(0x267)][_0x52ac0e(0x62b)]+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x577e6f)_0x118314=await this[_0x52ac0e(0x358)](_0x577e6f,_0x579c52[_0x52ac0e(0x253)],_0x579c52);else return this[_0x52ac0e(0x6c0)][_0x52ac0e(0x5be)](this['instanceName']+'\x20('+this['instance'][_0x52ac0e(0x62b)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand'),null;}else _0x118314=await this['findConversation'](_0x156439,_0x35787e,_0x579c52);if(_0x118314){this[_0x52ac0e(0x6c0)][_0x52ac0e(0x5be)](this[_0x52ac0e(0x1c4)]+'\x20('+this[_0x52ac0e(0x267)]['wuid']+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x20eac1[_0x52ac0e(0x43f)]&&_0x118314['readMessages']&&this[_0x52ac0e(0x213)](_0x118314);let _0x4ce7ad=await this[_0x52ac0e(0x296)](_0x118314);_0x4ce7ad&&await this[_0x52ac0e(0x68b)](_0x118314,_0x4ce7ad,_0x118314[_0x52ac0e(0x1fc)]);}}catch(_0xf88c7f){this[_0x52ac0e(0x6c0)][_0x52ac0e(0x1ea)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x52ac0e(0x2a9)+_0xf88c7f);}}[a0_0xffba68(0x376)](_0x33f63e,_0x28e4b8='',_0x2faad2={},_0x2d3a5c=!0x0){const _0x1759de=a0_0xffba68;for(let _0x50828e in _0x33f63e){let _0x5c373f=_0x2d3a5c?'_'+_0x50828e:''+_0x28e4b8+_0x50828e;typeof _0x33f63e[_0x50828e]==_0x1759de(0x66a)&&_0x33f63e[_0x50828e]!==null?this[_0x1759de(0x376)](_0x33f63e[_0x50828e],_0x5c373f+'.',_0x2faad2,!0x1):_0x2faad2[_0x5c373f]=String(_0x33f63e[_0x50828e]);}return _0x2faad2;}[a0_0xffba68(0x492)](_0x51706a){const _0x362363=a0_0xffba68;let _0x1b500f={};for(let _0x52e717 of _0x51706a)typeof _0x52e717[_0x362363(0x114)]=='string'&&typeof _0x52e717['value']==_0x362363(0x27a)&&(_0x1b500f[_0x52e717[_0x362363(0x114)]]=_0x52e717['value']);return _0x1b500f;}async[a0_0xffba68(0x296)](_0x319f40){const _0x5cf792=a0_0xffba68;if(!this[_0x5cf792(0x3e0)]?.[_0x5cf792(0x354)]['enabled']||_0x319f40['status']!==_0x5cf792(0x5df)&&_0x319f40['waitingPoll_id']==='')return null;let _0x3a6a9a=_0x319f40['chatLog']['lastBlockId']||_0x5cf792(0x508);typeof _0x319f40[_0x5cf792(0x437)]['lastCondition']>'u'&&(_0x319f40[_0x5cf792(0x437)][_0x5cf792(0x5db)]=!0x0);let _0x854112=_0x319f40[_0x5cf792(0x437)]['lastCondition'];this[_0x5cf792(0x6c0)][_0x5cf792(0x5be)](this['instanceName']+'\x20('+this[_0x5cf792(0x267)]['wuid']+_0x5cf792(0x41b)+_0x3a6a9a+',\x20lastCondition:\x20'+_0x854112);let _0x2b9ce1=_0x3a6a9a===_0x5cf792(0x508)?_0x319f40[_0x5cf792(0x1b8)][_0x5cf792(0x59a)](_0x34552a=>_0x34552a[_0x5cf792(0x4b8)]===_0x5cf792(0x508)):_0x319f40[_0x5cf792(0x1b8)]['find'](_0x2e895e=>_0x2e895e[_0x5cf792(0x35f)]['toString']()===_0x3a6a9a[_0x5cf792(0x4d7)]());if(!_0x2b9ce1)return this[_0x5cf792(0x6c0)]['error'](this[_0x5cf792(0x1c4)]+'\x20('+this[_0x5cf792(0x267)][_0x5cf792(0x62b)]+_0x5cf792(0x6a6)+_0x3a6a9a),null;let _0x386742={'_pushName':_0x319f40[_0x5cf792(0x437)][_0x5cf792(0x57a)][_0x5cf792(0x395)],..._0x319f40[_0x5cf792(0x437)][_0x5cf792(0x6cf)]},_0x135f74=null;if(_0x319f40[_0x5cf792(0x28f)]){let _0x46865e=_0x319f40[_0x5cf792(0x437)][_0x5cf792(0x57a)][_0x5cf792(0x44e)],_0x3dc7ad=_0x319f40[_0x5cf792(0x1a4)][_0x5cf792(0x59a)](_0x21cf64=>_0x21cf64[_0x5cf792(0x158)]===_0x46865e);if(_0x3dc7ad){let _0x1c8ee8=_0x3dc7ad[_0x5cf792(0x60d)];if(_0x135f74=_0x319f40[_0x5cf792(0x1b8)][_0x5cf792(0x59a)](_0xc50114=>_0xc50114[_0x5cf792(0x387)]===_0x1c8ee8&&_0xc50114['order']===0x1),_0x2b9ce1[_0x5cf792(0x2a0)][_0x5cf792(0x564)]){let _0x5040f8={'id':_0x319f40[_0x5cf792(0x28f)],'remoteJid':_0x319f40[_0x5cf792(0x1fc)],'fromMe':!0x0};await this['deleteMessage'](_0x5040f8);}if(_0x2b9ce1['uazapi'][_0x5cf792(0x564)]&&_0x2b9ce1[_0x5cf792(0x2a0)]['pollMessageOnDelete']){let _0x4f5c3a={'number':_0x319f40[_0x5cf792(0x1fc)],'options':{'delay':0x0},'textMessage':{'text':_0x5cf792(0x5b2)+_0x319f40['waitingPoll_name']+_0x5cf792(0x15c)+_0x46865e}};await this[_0x5cf792(0x475)](_0x4f5c3a);}_0x319f40[_0x5cf792(0x697)]=_0x5cf792(0x5df),_0x319f40[_0x5cf792(0x28f)]='',_0x319f40[_0x5cf792(0x3e6)]='',_0x319f40['waitingPoll_replyOptions']=[];}else{this[_0x5cf792(0x6c0)][_0x5cf792(0x5be)](this[_0x5cf792(0x1c4)]+'\x20('+this['instance']['wuid']+_0x5cf792(0x117));let _0x2f18d5={'activatedCount':_0x319f40[_0x5cf792(0x437)][_0x5cf792(0x6e1)][_0x5cf792(0x3c5)](_0x272c55=>String(_0x272c55[_0x5cf792(0x6a2)])===String(_0x3a6a9a))[_0x5cf792(0x26f)],'moreLogs':[_0x5cf792(0x511)]};if(_0x2b9ce1['uazapi'][_0x5cf792(0x42c)]){let _0x522143={'number':_0x319f40['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x2b9ce1[_0x5cf792(0x2a0)]['pollErrorMessage']}};await this[_0x5cf792(0x475)](_0x522143);}if(_0x2b9ce1[_0x5cf792(0x18b)]!==void 0x0&&_0x2f18d5[_0x5cf792(0x692)]>=_0x2b9ce1['maxActives']){let _0x6cd096=Date[_0x5cf792(0x2e7)](),_0x177cb0=_0x2b9ce1['stopMinutesMaxActives']??0xa;isNaN(_0x177cb0)&&(_0x177cb0=0xa);let _0x176c85=_0x6cd096+_0x177cb0*0x3c*0x3e8;_0x2f18d5[_0x5cf792(0x3e7)]=_0x176c85,_0x2f18d5[_0x5cf792(0x3f0)][_0x5cf792(0x55d)]('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this[_0x5cf792(0x472)](_0x319f40,_0x176c85),_0x319f40[_0x5cf792(0x28f)]='',_0x319f40[_0x5cf792(0x3e6)]='',_0x319f40['waitingPoll_replyOptions']=[];}return this[_0x5cf792(0x187)](_0x319f40,_0x2b9ce1,_0x2f18d5,!0x0),null;}}if(_0x854112&&_0x2b9ce1['next_groupId']&&!_0x319f40[_0x5cf792(0x28f)]){let _0x49f7f2=_0x319f40[_0x5cf792(0x1b8)][_0x5cf792(0x3c5)](_0x2fd522=>_0x2fd522[_0x5cf792(0x387)][_0x5cf792(0x4d7)]()===_0x2b9ce1[_0x5cf792(0x60d)][_0x5cf792(0x4d7)]())[_0x5cf792(0x6c7)]((_0x2008d2,_0x2de0db)=>_0x2008d2[_0x5cf792(0x3c8)]-_0x2de0db[_0x5cf792(0x3c8)]);_0x49f7f2[_0x5cf792(0x26f)]>0x0&&(_0x135f74=_0x49f7f2[0x0]);}if(!_0x135f74){let _0x40668d=_0x2b9ce1[_0x5cf792(0x387)],_0x741d71=_0x319f40[_0x5cf792(0x1b8)][_0x5cf792(0x3c5)](_0x2c7cd6=>_0x2c7cd6[_0x5cf792(0x387)]===_0x40668d&&_0x2c7cd6[_0x5cf792(0x3c8)]>_0x2b9ce1[_0x5cf792(0x3c8)])[_0x5cf792(0x6c7)]((_0x2f487d,_0x18520a)=>_0x2f487d['order']-_0x18520a[_0x5cf792(0x3c8)]);_0x741d71[_0x5cf792(0x26f)]>0x0&&(_0x135f74=_0x741d71[0x0]);}if(!_0x135f74)return _0x319f40[_0x5cf792(0x697)]=_0x5cf792(0x68f),null;_0x319f40['chatLog'][_0x5cf792(0x6cf)]=_0x386742;let _0x446846=JSON['parse'](JSON[_0x5cf792(0x4df)](_0x135f74));return this[_0x5cf792(0x35a)](_0x446846,_0x319f40[_0x5cf792(0x437)][_0x5cf792(0x6cf)]),_0x319f40[_0x5cf792(0x437)][_0x5cf792(0x178)]=_0x446846[_0x5cf792(0x35f)],_0x319f40[_0x5cf792(0x437)]['lastCondition']=!0x0,_0x446846;}[a0_0xffba68(0x39c)](_0x480b82,_0x4bf675){return _0x480b82['replace'](/\{\{([^}]+)\}\}/g,(_0x165911,_0x452d16)=>_0x4bf675[_0x452d16]||'');}['replaceVariablesInObject'](_0x3df342,_0x369351){const _0x8e0ad=a0_0xffba68;for(let _0x18c8b7 in _0x3df342)typeof _0x3df342[_0x18c8b7]==_0x8e0ad(0x27a)?_0x3df342[_0x18c8b7]=this[_0x8e0ad(0x39c)](_0x3df342[_0x18c8b7],_0x369351):typeof _0x3df342[_0x18c8b7]=='object'&&this[_0x8e0ad(0x35a)](_0x3df342[_0x18c8b7],_0x369351);}async[a0_0xffba68(0x22f)](_0x1fb529,_0x1bcdbf){const _0x159c36=a0_0xffba68;let _0x2e9f6d=_0x1bcdbf[_0x159c36(0x35f)];if(_0x1fb529[_0x159c36(0x437)]&&_0x1fb529[_0x159c36(0x437)]['blockLogs']){let _0xbc5f8=_0x1fb529[_0x159c36(0x437)][_0x159c36(0x6e1)]['filter'](_0x2a96e3=>String(_0x2a96e3['blockId'])===String(_0x2e9f6d))[_0x159c36(0x4c7)]();if(_0xbc5f8&&_0xbc5f8[_0x159c36(0x1ea)]&&_0x1bcdbf[_0x159c36(0x20c)])return _0x1fb529[_0x159c36(0x697)]='closed',await this[_0x159c36(0x24c)](_0x1fb529),null;}if(_0x1bcdbf[_0x159c36(0x4b8)]===_0x159c36(0x2a0)&&_0x1bcdbf[_0x159c36(0x2a0)][_0x159c36(0x388)]===_0x159c36(0x583)&&_0x1fb529[_0x159c36(0x28f)])return _0x1fb529[_0x159c36(0x437)][_0x159c36(0x178)]=_0x2e9f6d,await this['saveConversationToDatabase'](_0x1fb529),null;let _0x503639=await this[_0x159c36(0x296)](_0x1fb529);if(_0x1fb529[_0x159c36(0x437)]&&_0x1fb529[_0x159c36(0x437)][_0x159c36(0x6e1)]){let _0x41f910=_0x1fb529['chatLog'][_0x159c36(0x6e1)]['filter'](_0x1cf435=>String(_0x1cf435[_0x159c36(0x6a2)])===String(_0x2e9f6d))[_0x159c36(0x26f)];if(_0x1bcdbf[_0x159c36(0x18b)]!==void 0x0&&_0x41f910>=_0x1bcdbf[_0x159c36(0x18b)]){let _0x237a57=Date[_0x159c36(0x2e7)](),_0x5991f8=_0x1bcdbf[_0x159c36(0x625)]??0xa;isNaN(_0x5991f8)&&(_0x5991f8=0xa);let _0x319cc5=_0x237a57+_0x5991f8*0x3c*0x3e8,_0x545aef={'newStoppedUntil':_0x319cc5};return this['updateStopChat'](_0x1fb529,_0x319cc5),this[_0x159c36(0x187)](_0x1fb529,_0x1bcdbf,_0x545aef,!0x0),null;}}_0x503639&&_0x503639[_0x159c36(0x4b8)]!==_0x159c36(0x5ff)&&await this['processblock'](_0x1fb529,_0x503639,_0x1fb529[_0x159c36(0x1fc)]),_0x503639||await this[_0x159c36(0x24c)](_0x1fb529),_0x503639&&_0x503639[_0x159c36(0x4b8)]==='save'&&(_0x1fb529['chatLog'][_0x159c36(0x178)]=_0x2e9f6d,await this[_0x159c36(0x24c)](_0x1fb529));}async[a0_0xffba68(0x68b)](_0x2805a2,_0xda555,_0x46dabf){const _0x50970d=a0_0xffba68;try{let _0x1ae646=_0xda555[_0x50970d(0x4b8)];this[_0x50970d(0x6c0)][_0x50970d(0x5be)](this[_0x50970d(0x1c4)]+'\x20('+this[_0x50970d(0x267)][_0x50970d(0x62b)]+_0x50970d(0x676)+_0x1ae646);let _0x2ee265={'uazapi':()=>this['processUazapi'](_0x2805a2,_0xda555,_0x46dabf),'save':()=>this[_0x50970d(0x280)](_0x2805a2,_0xda555),'stop':()=>this[_0x50970d(0x571)](_0x2805a2,_0xda555),'condition':()=>this['processConditions'](_0x2805a2,_0xda555),'varedit':()=>this[_0x50970d(0x350)](_0x2805a2,_0xda555),'apirequest':()=>this[_0x50970d(0x1e0)](_0x2805a2,_0xda555),'goToFlow':()=>this[_0x50970d(0x42e)](_0x2805a2,_0xda555)}[_0x1ae646];_0x2ee265&&await _0x2ee265();}catch(_0x384dcb){this['logger'][_0x50970d(0x1ea)](this[_0x50970d(0x1c4)]+'\x20('+this['instance'][_0x50970d(0x62b)]+_0x50970d(0x500)+_0x384dcb);}}async[a0_0xffba68(0x42e)](_0x4f1ec4,_0x5d1d5a){const _0x51c5d5=a0_0xffba68;if(this[_0x51c5d5(0x6c0)][_0x51c5d5(0x5be)](this[_0x51c5d5(0x1c4)]+'\x20('+this[_0x51c5d5(0x267)][_0x51c5d5(0x62b)]+_0x51c5d5(0x53f)),!_0x4f1ec4||!_0x5d1d5a)return this[_0x51c5d5(0x6c0)][_0x51c5d5(0x1ea)](this['instanceName']+'\x20('+this[_0x51c5d5(0x267)]['wuid']+_0x51c5d5(0x6e2)),null;await this['updateConversation'](_0x4f1ec4,_0x5d1d5a,{},!0x0,!0x0),console[_0x51c5d5(0x550)](_0x51c5d5(0x120)),console['log'](_0x5d1d5a);let _0x3497ef=_0x5d1d5a[_0x51c5d5(0x34d)];console['log'](_0x51c5d5(0x522),_0x3497ef),_0x4f1ec4=await this[_0x51c5d5(0x653)](_0x3497ef,_0x4f1ec4[_0x51c5d5(0x1fc)],_0x4f1ec4[_0x51c5d5(0x437)][_0x51c5d5(0x6cf)]),this[_0x51c5d5(0x6c0)][_0x51c5d5(0x5be)](this[_0x51c5d5(0x1c4)]+'\x20('+this[_0x51c5d5(0x267)]['wuid']+_0x51c5d5(0x464));let _0x4adcc3=await this[_0x51c5d5(0x296)](_0x4f1ec4);_0x4adcc3&&await this['processblock'](_0x4f1ec4,_0x4adcc3,_0x4f1ec4[_0x51c5d5(0x1fc)]);}async[a0_0xffba68(0x653)](_0x4f107b,_0x2002fb,_0x451895){const _0x67c168=a0_0xffba68;this[_0x67c168(0x6c0)][_0x67c168(0x5be)](this[_0x67c168(0x1c4)]+'\x20('+this[_0x67c168(0x267)][_0x67c168(0x62b)]+_0x67c168(0x5b7));try{if(_0x4f107b=await I[_0x67c168(0x590)]({'owner':this['instance']['wuid'],'name':_0x4f107b}),!_0x4f107b)return this[_0x67c168(0x6c0)][_0x67c168(0x1ea)](this[_0x67c168(0x1c4)]+'\x20('+this['instance'][_0x67c168(0x62b)]+'):\x20Flow\x20não\x20encontrado'),null;let _0x2ebfb3=require(_0x67c168(0x3a4))['ObjectId'],_0x33ae7f=Date[_0x67c168(0x2e7)](),_0x11f52f=_0x67c168(0x508),_0x139d0e={},_0x42b8ab={},_0x50a9ba={..._0x4f107b[_0x67c168(0x624)],'chatLog':null},_0xc41f43={'lastReceivedMessage':_0x139d0e,'lastSendMessage':_0x42b8ab,'lastBlockId':_0x11f52f,'lastCondition':!0x0,'realVariables':_0x451895};_0x50a9ba[_0x67c168(0x437)]=_0xc41f43,_0x50a9ba[_0x67c168(0x437)]['realVariables']={..._0x451895},delete _0x50a9ba[_0x67c168(0x35f)],_0x50a9ba[_0x67c168(0x35f)]=new _0x2ebfb3(),_0x50a9ba[_0x67c168(0x5b1)]=_0x33ae7f,_0x50a9ba[_0x67c168(0x697)]=_0x67c168(0x5df),_0x50a9ba['remoteJid']=_0x2002fb;let _0x4a088f=await j['create'](_0x50a9ba);return this[_0x67c168(0x6c0)][_0x67c168(0x5be)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x67c168(0x2cd)),_0x4a088f?_0x50a9ba:null;}catch(_0x170a0){throw this[_0x67c168(0x6c0)]['error'](this[_0x67c168(0x1c4)]+'\x20('+this[_0x67c168(0x267)][_0x67c168(0x62b)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+_0x170a0),new g(_0x170a0[_0x67c168(0x65d)]);}}async['processApiRequest'](_0x32585a,_0x5f5109){const _0x533379=a0_0xffba68;let _0x1f2edd,_0x4cd046;try{let _0x5b2abc=_0x5f5109[_0x533379(0x4a0)];if(!_0x5b2abc||!_0x5b2abc[_0x533379(0x1ab)]||!_0x5b2abc['method'])throw new Error(_0x533379(0x64f));let _0x40f6e2={'method':_0x5b2abc['method'],'url':_0x5b2abc[_0x533379(0x1ab)],'headers':_0x5b2abc[_0x533379(0x541)]||{},'data':_0x5b2abc[_0x533379(0x5a3)]||{}};_0x1f2edd=(await(0x0,ne[_0x533379(0x58d)])(_0x40f6e2))['data'];let _0xd8d53a=_0x32585a['chatLog'][_0x533379(0x6cf)],_0x7c8402=this[_0x533379(0x376)](_0x1f2edd);return Object['assign'](_0xd8d53a,_0x7c8402),_0x32585a[_0x533379(0x437)][_0x533379(0x6cf)]=_0xd8d53a,_0x4cd046={'error':!0x1,'apiResponse':_0x1f2edd},this[_0x533379(0x187)](_0x32585a,_0x5f5109,_0x4cd046),_0x1f2edd;}catch(_0x2aed9b){console['error'](_0x533379(0x602),_0x2aed9b),_0x2aed9b[_0x533379(0x4f7)]&&(_0x1f2edd=_0x2aed9b['response']['data']);let _0x1c1402=_0x32585a[_0x533379(0x437)][_0x533379(0x6cf)],_0x2c3b3b=this['flattenObject'](_0x1f2edd);return Object[_0x533379(0x63e)](_0x1c1402,_0x2c3b3b),_0x32585a[_0x533379(0x437)][_0x533379(0x6cf)]=_0x1c1402,_0x4cd046={'error':!0x0,'errorLog':_0x2aed9b[_0x533379(0x4d7)](),'apiResponse':_0x1f2edd},this[_0x533379(0x187)](_0x32585a,_0x5f5109,_0x4cd046),{'success':!0x1};}}[a0_0xffba68(0x21b)](_0x2c43b3,_0x1f97f6){const _0x470f3a=a0_0xffba68;let _0x4b3411=_0x5ecf01=>{const _0x166986=a0_0xef6d;let _0x410b64=_0x5ecf01[_0x166986(0x4ad)](/[^0-9.,-]/g,'')[_0x166986(0x4ad)](',','.'),_0x2ed329=parseFloat(_0x410b64);return isNaN(_0x2ed329)?null:_0x2ed329;},_0x5c1f03=_0x1f97f6[_0x470f3a(0x2f3)],_0x3f8cc9=_0x1f97f6[_0x470f3a(0x260)];typeof _0x5c1f03==_0x470f3a(0x27a)&&(_0x5c1f03=this[_0x470f3a(0x39c)](_0x5c1f03,_0x2c43b3[_0x470f3a(0x437)]['realVariables'])??''),typeof _0x3f8cc9==_0x470f3a(0x27a)&&(_0x3f8cc9=this[_0x470f3a(0x39c)](_0x3f8cc9,_0x2c43b3[_0x470f3a(0x437)]['realVariables'])??'');let _0x4e6892=null;if(!_0x5c1f03||!_0x1f97f6[_0x470f3a(0x47b)])return null;switch(this[_0x470f3a(0x6c0)]['verbose'](this['instanceName']+'\x20('+this[_0x470f3a(0x267)][_0x470f3a(0x62b)]+_0x470f3a(0x3c4)+_0x5c1f03),this[_0x470f3a(0x6c0)]['verbose'](this[_0x470f3a(0x1c4)]+'\x20('+this[_0x470f3a(0x267)][_0x470f3a(0x62b)]+_0x470f3a(0x29a)+_0x3f8cc9),_0x1f97f6[_0x470f3a(0x47b)]){case'+':case'-':case'*':case'/':let _0x25321e=_0x4b3411(_0x5c1f03),_0x5ec139=_0x4b3411(_0x3f8cc9||'0');if(_0x25321e===null)return null;switch(_0x1f97f6[_0x470f3a(0x47b)]){case'+':_0x4e6892=_0x25321e+(_0x5ec139??0x0);break;case'-':_0x4e6892=_0x25321e-(_0x5ec139??0x0);break;case'*':_0x4e6892=_0x25321e*(_0x5ec139??0x1);break;case'/':_0x5ec139!==0x0&&(_0x4e6892=_0x25321e/(_0x5ec139??0x1));break;}break;case _0x470f3a(0x2b9):case'findAndReplaceRegex':let _0x33b74c=_0x3f8cc9,_0x35fafd=_0x1f97f6[_0x470f3a(0x66b)];if(typeof _0x35fafd==_0x470f3a(0x27a)&&(_0x35fafd=this[_0x470f3a(0x39c)](_0x35fafd,_0x2c43b3['chatLog'][_0x470f3a(0x6cf)])??''),_0x33b74c&&_0x35fafd!==void 0x0){let _0x9d831f=_0x1f97f6['editOperator']===_0x470f3a(0x2b9)?new RegExp(_0x33b74c[_0x470f3a(0x4ad)](/[-\/\\^$*+?.()|[\]{}]/g,_0x470f3a(0x61b)),'g'):new RegExp(_0x33b74c,'g');_0x4e6892=_0x5c1f03[_0x470f3a(0x4ad)](_0x9d831f,_0x35fafd);}else console['warn']('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case'setNewValue':_0x4e6892=_0x3f8cc9;break;case _0x470f3a(0x4f4):let _0x35c0dc=_0x5c1f03[_0x470f3a(0x14e)](new RegExp(_0x3f8cc9||''));_0x4e6892=_0x35c0dc?_0x35c0dc[0x0]:'';break;case _0x470f3a(0x2b1):_0x4e6892=_0x5c1f03[_0x470f3a(0x1aa)](0x0,parseInt(_0x3f8cc9||'0'));break;case _0x470f3a(0x6d6):let _0x51f714=parseInt(_0x3f8cc9||'0');_0x4e6892=_0x5c1f03[_0x470f3a(0x1aa)](_0x5c1f03[_0x470f3a(0x26f)]-_0x51f714);break;case'toBrazilianNumberFormat':let _0x5f4294=_0x4b3411(_0x5c1f03),_0x228aa3=parseInt(_0x3f8cc9||'0');_0x228aa3=Math[_0x470f3a(0x111)](_0x228aa3),_0x5f4294!==null?_0x4e6892=_0x5f4294[_0x470f3a(0x532)]('pt-BR',{'minimumFractionDigits':_0x228aa3,'maximumFractionDigits':_0x228aa3}):(console['warn']('Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20'+_0x5c1f03),_0x4e6892=null);break;case _0x470f3a(0x655):let _0x38d514=_0x4b3411(_0x5c1f03);_0x38d514!==null?_0x4e6892=_0x38d514[_0x470f3a(0x532)](_0x470f3a(0x129),{'style':_0x470f3a(0x69d),'currency':_0x470f3a(0x576)}):(console['warn'](_0x470f3a(0x3af)+_0x5c1f03),_0x4e6892=null);break;case'upperCase':_0x4e6892=_0x5c1f03[_0x470f3a(0x613)]();break;case _0x470f3a(0x16c):_0x4e6892=_0x5c1f03[_0x470f3a(0x62a)]();break;case _0x470f3a(0x2ab):_0x4e6892=_0x5c1f03[_0x470f3a(0x6b6)]('\x20')[_0x470f3a(0x326)](_0x113eb2=>_0x113eb2[_0x470f3a(0x2d9)](0x0)[_0x470f3a(0x613)]()+_0x113eb2[_0x470f3a(0x1aa)](0x1)[_0x470f3a(0x62a)]())[_0x470f3a(0x226)]('\x20');break;case _0x470f3a(0x1b7):_0x4e6892=_0x5c1f03[_0x470f3a(0x164)]();break;default:_0x4e6892=_0x5c1f03;}return _0x4e6892!==null?_0x4e6892['toString']():null;}async['processvaredits'](_0xe3df26,_0x5014e2){const _0x1bb2bf=a0_0xffba68;try{let _0xf2db65=_0xe3df26[_0x1bb2bf(0x62d)]?.[_0x1bb2bf(0x3c5)](_0x143b66=>_0x143b66[_0x1bb2bf(0x6a2)]===_0x5014e2[_0x1bb2bf(0x35f)]?.['toString']())||[],_0x379c2c=_0x5014e2[_0x1bb2bf(0x157)],_0x2019af=null,_0x53aa60=[],_0x23b358=_0xe3df26[_0x1bb2bf(0x437)]['realVariables'][_0x379c2c];_0x53aa60[_0x1bb2bf(0x55d)](_0x1bb2bf(0x473)+_0x23b358+'\x22');for(let _0x5c7280 of _0xf2db65){_0x5c7280['firstValue']=_0x23b358,_0x2019af=_0x5c7280[_0x1bb2bf(0x2f3)];let _0x138035;try{_0x138035=this[_0x1bb2bf(0x21b)](_0xe3df26,_0x5c7280);}catch(_0x76eacd){console['error']('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x76eacd[_0x1bb2bf(0x65d)]);continue;}if(_0x138035!==null){let _0x2ebe5a=_0x1bb2bf(0x4af)+_0x5c7280['editOperator']+'\x22',_0x56d612=[_0x1bb2bf(0x655),_0x1bb2bf(0x42b),_0x1bb2bf(0x16c),_0x1bb2bf(0x2ab),'trimmed'];_0x5c7280[_0x1bb2bf(0x47b)]===_0x1bb2bf(0x2b9)||_0x5c7280['editOperator']===_0x1bb2bf(0x33c)?_0x2ebe5a+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x5c7280[_0x1bb2bf(0x260)]+_0x1bb2bf(0x569)+_0x5c7280[_0x1bb2bf(0x66b)]+'\x22':!_0x56d612[_0x1bb2bf(0x6ac)](_0x5c7280[_0x1bb2bf(0x47b)])&&_0x5c7280[_0x1bb2bf(0x260)]!==null&&_0x5c7280[_0x1bb2bf(0x260)]!==void 0x0&&(_0x2ebe5a+=_0x1bb2bf(0x13b)+_0x5c7280['secondValue']+'\x22'),_0x2ebe5a+=_0x1bb2bf(0x382)+_0x138035+'.',_0x53aa60[_0x1bb2bf(0x55d)](_0x2ebe5a);}_0x138035!==null&&(_0x23b358=_0x138035);}if(_0xe3df26[_0x1bb2bf(0x437)]['realVariables']&&_0x5014e2[_0x1bb2bf(0x157)]){_0xe3df26['chatLog'][_0x1bb2bf(0x6cf)][_0x5014e2[_0x1bb2bf(0x157)]]=_0x23b358;let _0xeb229c={'variable':_0x5014e2[_0x1bb2bf(0x157)],'oldValue':_0x2019af,'newValue':_0x23b358,'moreLogs':_0x53aa60};try{this[_0x1bb2bf(0x187)](_0xe3df26,_0x5014e2,_0xeb229c);}catch(_0x1c7ba0){console[_0x1bb2bf(0x1ea)](_0x1bb2bf(0x4f6)+_0x1c7ba0['message']);}}return _0x379c2c;}catch(_0x46cc3f){return console[_0x1bb2bf(0x1ea)](_0x1bb2bf(0x18d)+_0x46cc3f[_0x1bb2bf(0x65d)]),null;}}async[a0_0xffba68(0x15e)](_0x20022f,_0x1c8cdc){const _0x521913=a0_0xffba68;try{let _0x43f482=[],_0x83a226=_0x20022f[_0x521913(0x1a1)][_0x521913(0x3c5)](_0x53243b=>_0x53243b[_0x521913(0x6a2)]===_0x1c8cdc['_id'][_0x521913(0x4d7)]()),_0x46f9ae=null,_0x2610d5=!0x1;for(let _0x122ff2 of _0x83a226){let _0x136238=this['evaluateCondition'](_0x20022f,_0x122ff2);_0x43f482['push'](_0x521913(0x6a0)+_0x122ff2[_0x521913(0x2f3)]+_0x521913(0x408)+_0x122ff2['expression']+_0x521913(0x582)+_0x122ff2[_0x521913(0x260)]+_0x521913(0x163)+_0x136238),_0x46f9ae===null?_0x46f9ae=_0x136238:_0x122ff2[_0x521913(0x6e4)]==='and'?(_0x46f9ae=_0x46f9ae&&_0x136238,_0x136238||(_0x2610d5=!0x0)):_0x122ff2[_0x521913(0x6e4)]==='or'&&(_0x2610d5||(_0x46f9ae=_0x46f9ae||_0x136238));}_0x46f9ae===null&&(_0x46f9ae=!0x0);let _0x2b219e={'moreLogs':_0x43f482};_0x20022f[_0x521913(0x437)]['lastCondition']=_0x46f9ae,await this['updateConversation'](_0x20022f,_0x1c8cdc,_0x2b219e);}catch(_0x2d96bd){this[_0x521913(0x6c0)][_0x521913(0x1ea)](this[_0x521913(0x1c4)]+'\x20('+this[_0x521913(0x267)][_0x521913(0x62b)]+_0x521913(0x18e)+_0x2d96bd);}}[a0_0xffba68(0x1cb)](_0x40ce2a,_0x151163){const _0x287a44=a0_0xffba68;let _0x5482a8=_0x151163[_0x287a44(0x2f3)],_0x22b8c9=_0x151163[_0x287a44(0x260)];typeof _0x5482a8=='string'&&(_0x5482a8=this[_0x287a44(0x39c)](_0x5482a8,_0x40ce2a[_0x287a44(0x437)]['realVariables'])??''),typeof _0x22b8c9==_0x287a44(0x27a)&&(_0x22b8c9=this[_0x287a44(0x39c)](_0x22b8c9,_0x40ce2a['chatLog']['realVariables'])??'');try{switch(_0x151163[_0x287a44(0x54b)]){case _0x287a44(0x161):return _0x5482a8===_0x22b8c9;case'notEqual':return _0x5482a8!==_0x22b8c9;case _0x287a44(0x5dd):return _0x5482a8[_0x287a44(0x6ac)](_0x22b8c9);case _0x287a44(0x465):return!_0x5482a8[_0x287a44(0x6ac)](_0x22b8c9);case'greater':return parseFloat(_0x5482a8)>parseFloat(_0x22b8c9);case _0x287a44(0x5f9):return parseFloat(_0x5482a8)<parseFloat(_0x22b8c9);case _0x287a44(0x58f):return _0x5482a8!=='';case _0x287a44(0x34c):return _0x5482a8==='';case _0x287a44(0x21e):return new RegExp(_0x22b8c9)[_0x287a44(0x31a)](_0x5482a8);case'notMatchRegex':return!new RegExp(_0x22b8c9)[_0x287a44(0x31a)](_0x5482a8);default:return!0x1;}}catch(_0x1d8ad6){return console['error'](_0x287a44(0x633)+_0x1d8ad6),!0x1;}}[a0_0xffba68(0x380)](_0x596511){const _0x22d194=a0_0xffba68;let _0x397462=!0x0,_0x16edb5=null;for(let _0x256b5d of _0x596511){let _0xb04f1f=this[_0x22d194(0x4c9)](_0x256b5d);if(_0x16edb5==='or'&&_0xb04f1f){_0x397462=!0x0;break;}if(_0x16edb5==='and'&&!_0xb04f1f){_0x397462=!0x1;break;}_0x16edb5=_0x256b5d[_0x22d194(0x6e4)];}return _0x397462;}[a0_0xffba68(0x4c9)](_0x2417b6){const _0x1a529f=a0_0xffba68;let _0x1efc4e=_0x2417b6['firstValue'],_0xec011e=_0x2417b6[_0x1a529f(0x260)];try{switch(_0x2417b6[_0x1a529f(0x54b)]){case _0x1a529f(0x161):return String(_0x1efc4e)===String(_0xec011e);case _0x1a529f(0x355):return String(_0x1efc4e)!==String(_0xec011e);case'contains':return String(_0x1efc4e)['includes'](String(_0xec011e));case _0x1a529f(0x465):return!String(_0x1efc4e)[_0x1a529f(0x6ac)](String(_0xec011e));case _0x1a529f(0x630):return parseFloat(String(_0x1efc4e))>parseFloat(String(_0xec011e));case _0x1a529f(0x5f9):return parseFloat(String(_0x1efc4e))<parseFloat(String(_0xec011e));case _0x1a529f(0x58f):return String(_0x1efc4e)!=='';case _0x1a529f(0x34c):return String(_0x1efc4e)==='';case _0x1a529f(0x21e):return new RegExp(String(_0xec011e))[_0x1a529f(0x31a)](String(_0x1efc4e));case _0x1a529f(0x2c7):return!new RegExp(String(_0xec011e))[_0x1a529f(0x31a)](String(_0x1efc4e));default:return!0x1;}}catch(_0x33ac7b){return console[_0x1a529f(0x1ea)](_0x1a529f(0x633)+_0x33ac7b),!0x1;}}async[a0_0xffba68(0x280)](_0x57f788,_0x3bd568){const _0x173d40=a0_0xffba68;if(this[_0x173d40(0x6c0)][_0x173d40(0x5be)](this[_0x173d40(0x1c4)]+'\x20('+this[_0x173d40(0x267)][_0x173d40(0x62b)]+_0x173d40(0x364)),!_0x57f788||!_0x3bd568)return this[_0x173d40(0x6c0)][_0x173d40(0x1ea)](this[_0x173d40(0x1c4)]+'\x20('+this['instance'][_0x173d40(0x62b)]+_0x173d40(0x6e2)),null;let _0x4030c0=_0x3bd568[_0x173d40(0x157)],_0x7f60aa=_0x57f788[_0x173d40(0x437)][_0x173d40(0x57a)]['text']||_0x57f788[_0x173d40(0x437)][_0x173d40(0x57a)][_0x173d40(0x136)]||_0x57f788[_0x173d40(0x437)][_0x173d40(0x57a)]['vote'];try{_0x57f788['chatLog'][_0x173d40(0x6cf)]||(_0x57f788[_0x173d40(0x437)][_0x173d40(0x6cf)]={});let _0x287e47=_0x57f788[_0x173d40(0x437)]['realVariables'][_0x4030c0];_0x57f788[_0x173d40(0x437)][_0x173d40(0x6cf)][_0x4030c0]=_0x7f60aa;let _0x4fe177={'variable':_0x4030c0,'oldValue':_0x287e47,'newValue':_0x7f60aa};this['updateConversation'](_0x57f788,_0x3bd568,_0x4fe177),this[_0x173d40(0x6c0)][_0x173d40(0x5be)](this[_0x173d40(0x1c4)]+'\x20('+this[_0x173d40(0x267)][_0x173d40(0x62b)]+_0x173d40(0x42f));}catch(_0x437ab8){let _0x1a1f96={'error':!0x0,'errorLog':_0x437ab8[_0x173d40(0x4d7)]()};return this[_0x173d40(0x187)](_0x57f788,_0x3bd568,_0x1a1f96),this['logger'][_0x173d40(0x1ea)](this['instanceName']+'\x20('+this[_0x173d40(0x267)][_0x173d40(0x62b)]+_0x173d40(0x2fb)+_0x437ab8[_0x173d40(0x65d)]),null;}}async['stopConversation'](_0x3b89db,_0x30aaa2){const _0x1b04f9=a0_0xffba68;if(this[_0x1b04f9(0x6c0)]['verbose'](this['instanceName']+'\x20('+this[_0x1b04f9(0x267)]['wuid']+_0x1b04f9(0x6d4)),!_0x3b89db||!_0x30aaa2)return this[_0x1b04f9(0x6c0)][_0x1b04f9(0x1ea)](this[_0x1b04f9(0x1c4)]+'\x20('+this[_0x1b04f9(0x267)][_0x1b04f9(0x62b)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x40c5be=Date[_0x1b04f9(0x2e7)](),_0x50e04a=parseInt(_0x30aaa2[_0x1b04f9(0x3ad)],0xa);if(isNaN(_0x50e04a))return this[_0x1b04f9(0x6c0)][_0x1b04f9(0x1ea)](this[_0x1b04f9(0x1c4)]+'\x20('+this[_0x1b04f9(0x267)]['wuid']+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número'),null;let _0x31b5f6={'newStoppedUntil':_0x40c5be+_0x50e04a*0x3c*0x3e8};return await this[_0x1b04f9(0x187)](_0x3b89db,_0x30aaa2,_0x31b5f6,!0x0),null;}async[a0_0xffba68(0x1f4)](_0x401b4b,_0x34f162,_0x24eba2){const _0x2ef92f=a0_0xffba68;try{switch(_0x34f162[_0x2ef92f(0x2a0)][_0x2ef92f(0x388)]){case'sendText':await this[_0x2ef92f(0x24f)](_0x401b4b,_0x34f162,_0x24eba2);break;case _0x2ef92f(0x15a):await this[_0x2ef92f(0x325)](_0x401b4b,_0x34f162,_0x24eba2);break;case _0x2ef92f(0x392):await this[_0x2ef92f(0x5bc)](_0x401b4b,_0x34f162,_0x24eba2);break;case _0x2ef92f(0x222):await this[_0x2ef92f(0x50e)](_0x401b4b,_0x34f162,_0x24eba2);break;case _0x2ef92f(0x185):await this['uazapiSendContact'](_0x401b4b,_0x34f162,_0x24eba2);break;case _0x2ef92f(0x583):await this[_0x2ef92f(0x3d0)](_0x401b4b,_0x34f162,_0x24eba2);break;case _0x2ef92f(0x38e):await this['uazapiDeleteMessage'](_0x401b4b,_0x34f162,_0x24eba2);break;default:this[_0x2ef92f(0x6c0)][_0x2ef92f(0x1ea)](this[_0x2ef92f(0x1c4)]+'\x20('+this[_0x2ef92f(0x267)][_0x2ef92f(0x62b)]+_0x2ef92f(0x308)+_0x34f162[_0x2ef92f(0x2a0)]['command']);}}catch(_0x317c0e){this[_0x2ef92f(0x6c0)]['error'](this[_0x2ef92f(0x1c4)]+'\x20('+this[_0x2ef92f(0x267)][_0x2ef92f(0x62b)]+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+_0x317c0e);}}async[a0_0xffba68(0x187)](_0x23f229,_0xc8c733,_0x1cc53a,_0x248685=!0x1,_0x3ce7e7=!0x1){const _0x209dd4=a0_0xffba68;_0x23f229['chatLog'][_0x209dd4(0x6e1)]||(_0x23f229[_0x209dd4(0x437)][_0x209dd4(0x6e1)]=[]);let _0x4861cb=(_0x23f229['chatLog'][_0x209dd4(0x6e1)]?.['length']??0x0)+0x1,_0x464aa4=_0x23f229[_0x209dd4(0x437)][_0x209dd4(0x6e1)][_0x209dd4(0x3c5)](_0xaff153=>String(_0xaff153['blockId'])===String(_0xc8c733['_id']))[_0x209dd4(0x26f)]+0x1,_0x3a6a4e=_0x1cc53a?.[_0x209dd4(0x5aa)]??Date['now'](),_0x2d1627=_0x1cc53a?.[_0x209dd4(0x1ea)]?_0x1cc53a[_0x209dd4(0x67d)]??_0x1cc53a[_0x209dd4(0x1ea)]['toString']():void 0x0,_0xeed8cf={'onTime':_0x3a6a4e,'blockId':_0xc8c733[_0x209dd4(0x35f)],'order':_0x4861cb,'activatedCount':_0x464aa4,'error':_0x1cc53a?.[_0x209dd4(0x1ea)]??!0x1,'messageId':_0x1cc53a?.[_0x209dd4(0x370)],'apiResponse':_0x1cc53a?.[_0x209dd4(0x6ca)],'apiResponseString':_0x1cc53a?.[_0x209dd4(0x6ca)]?JSON['stringify'](_0x1cc53a?.[_0x209dd4(0x6ca)]):void 0x0,'variable':_0x1cc53a?.[_0x209dd4(0x547)],'oldValue':_0x1cc53a?.[_0x209dd4(0x26c)],'newValue':_0x1cc53a?.['newValue'],'newStoppedUntil':_0x1cc53a?.['newStoppedUntil'],'moreLogs':_0x1cc53a?.['moreLogs'],'errorLog':_0x2d1627};if(_0x1cc53a[_0x209dd4(0x3f0)]&&_0x1cc53a[_0x209dd4(0x3f0)]['length']>0x0){let _0x3630a9=_0x1cc53a[_0x209dd4(0x3f0)][_0x209dd4(0x326)](_0xfcc721=>this[_0x209dd4(0x19e)](_0xfcc721,_0x23f229[_0x209dd4(0x437)][_0x209dd4(0x6cf)]));_0xeed8cf[_0x209dd4(0x3f0)]=_0x3630a9;}_0x23f229[_0x209dd4(0x437)][_0x209dd4(0x6cf)]||(_0x23f229[_0x209dd4(0x437)]['realVariables']={}),_0x23f229[_0x209dd4(0x437)][_0x209dd4(0x6cf)]['_activatedCount']=String(_0x464aa4),_0x23f229[_0x209dd4(0x437)][_0x209dd4(0x6cf)][_0x209dd4(0x600)]=String(_0x1cc53a[_0x209dd4(0x1ea)]??!0x1),_0x23f229[_0x209dd4(0x437)][_0x209dd4(0x6e1)][_0x209dd4(0x55d)](_0xeed8cf),_0x23f229[_0x209dd4(0x437)]['lastBlockId']=_0xc8c733['_id']['toString'](),_0x23f229[_0x209dd4(0x437)]['lastSendMessage']&&(_0x23f229[_0x209dd4(0x437)]['lastSendMessage']=_0x23f229[_0x209dd4(0x437)][_0x209dd4(0x383)]),_0x23f229['chatLog']['lastReceivedMessage']&&(_0x23f229[_0x209dd4(0x437)][_0x209dd4(0x57a)]=_0x23f229['chatLog'][_0x209dd4(0x57a)]),_0x23f229['chatLog'][_0x209dd4(0x5db)]&&(_0x23f229[_0x209dd4(0x437)][_0x209dd4(0x5db)]=_0x23f229['chatLog']['lastCondition']),_0x3ce7e7&&(_0x23f229[_0x209dd4(0x697)]='closed'),_0x248685?this[_0x209dd4(0x24c)](_0x23f229):this[_0x209dd4(0x22f)](_0x23f229,_0xc8c733);}[a0_0xffba68(0x19e)](_0x81e5ca,_0x4d9668){const _0x2cbb3c=a0_0xffba68;return _0x81e5ca[_0x2cbb3c(0x4ad)](/\{\{([^}]+)\}\}/g,(_0x51484e,_0x4eefe6)=>_0x4d9668[_0x4eefe6]?'{{'+_0x4eefe6+_0x2cbb3c(0x21a)+_0x4d9668[_0x4eefe6]+'\x22':'{{'+_0x4eefe6+_0x2cbb3c(0x309));}async[a0_0xffba68(0x24c)](_0x28d897){const _0x166649=a0_0xffba68;try{let _0x2668ed=Object[_0x166649(0x1f3)](_0x28d897[_0x166649(0x437)][_0x166649(0x6cf)])[_0x166649(0x326)](([_0xb5cc95,_0x5f3ba9])=>({'name':_0xb5cc95,'value':_0x5f3ba9})),_0x4894ff=await j[_0x166649(0x15b)]({'_id':_0x28d897[_0x166649(0x35f)]},{'$set':{'chatLog.lastBlockId':_0x28d897[_0x166649(0x437)][_0x166649(0x178)],'blocks':_0x28d897['blocks'],'chatLog.lastSendMessage':_0x28d897[_0x166649(0x437)]['lastSendMessage'],'chatLog.lastReceivedMessage':_0x28d897[_0x166649(0x437)][_0x166649(0x57a)],'chatLog.lastCondition':_0x28d897['chatLog']['lastCondition'],'chatLog.chatVariables':_0x2668ed,'chatLog.realVariables':_0x28d897[_0x166649(0x437)]['realVariables'],'status':_0x28d897[_0x166649(0x697)],'chatLog.blockLogs':_0x28d897[_0x166649(0x437)][_0x166649(0x6e1)],'waitingPoll_id':_0x28d897[_0x166649(0x28f)],'waitingPoll_name':_0x28d897[_0x166649(0x3e6)],'waitingPoll_replyOptions':_0x28d897[_0x166649(0x1a4)]}},{'new':!0x0});if(_0x4894ff){this['logger'][_0x166649(0x5be)](this['instanceName']+'\x20('+this[_0x166649(0x267)]['wuid']+_0x166649(0x3eb)+_0x4894ff[_0x166649(0x35f)]);try{let _0x41fd4f=['nome','nomecompleto',_0x166649(0x5de),_0x166649(0x6a9),_0x166649(0x697),_0x166649(0x22b),_0x166649(0x514),'tags'];if(!this[_0x166649(0x3e0)]&&(await this[_0x166649(0x6af)](),!this[_0x166649(0x3e0)]))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x21d07d=this[_0x166649(0x3e0)]?.[_0x166649(0x1fa)]['map'](_0x3379fc=>_0x3379fc['name']),_0x22e59={};Object[_0x166649(0x1f3)](_0x28d897[_0x166649(0x437)][_0x166649(0x6cf)])[_0x166649(0x6d1)](([_0x1bb054,_0x1031da])=>{const _0x1ab162=_0x166649;_0x41fd4f['includes'](_0x1bb054)&&(_0x1bb054===_0x1ab162(0x125)&&typeof _0x1031da==_0x1ab162(0x27a)?_0x22e59[_0x1bb054]=_0x1031da[_0x1ab162(0x6b6)](',')['map'](_0x38020d=>_0x38020d[_0x1ab162(0x164)]())[_0x1ab162(0x3c5)](_0x3a8c02=>_0x3a8c02!==''):_0x22e59[_0x1bb054]=_0x1031da);});let _0x185acd=_0x28d897[_0x166649(0x437)][_0x166649(0x6e1)][_0x28d897[_0x166649(0x437)][_0x166649(0x6e1)]['length']-0x1];if(_0x185acd){let _0x223e90=_0x185acd[_0x166649(0x3e7)];_0x223e90!==void 0x0&&(_0x22e59[_0x166649(0x6b7)]=_0x223e90[_0x166649(0x4d7)]());}let _0x1c118c=_0x2668ed[_0x166649(0x3c5)](_0x43ce71=>_0x21d07d[_0x166649(0x6ac)](_0x43ce71[_0x166649(0x114)]));this[_0x166649(0x6c0)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x166649(0x62b)]+_0x166649(0x33e)),this['logger']['verbose'](_0x22e59),this['logger'][_0x166649(0x5be)](this['instanceName']+'\x20('+this['instance'][_0x166649(0x62b)]+_0x166649(0x189)),this[_0x166649(0x6c0)][_0x166649(0x5be)](_0x1c118c);let _0x1c8091=_0x1c118c['map'](_0x2806fa=>{const _0xb45eaf=_0x166649;let _0x443dd2=this[_0xb45eaf(0x3e0)]?.[_0xb45eaf(0x1fa)][_0xb45eaf(0x59a)](_0x1afb76=>_0x1afb76[_0xb45eaf(0x114)]===_0x2806fa[_0xb45eaf(0x114)]);if(!_0x443dd2)throw new Error(_0xb45eaf(0x6bd)+_0x2806fa[_0xb45eaf(0x114)]);return{'_id':_0x443dd2[_0xb45eaf(0x35f)],'value':_0x2806fa[_0xb45eaf(0x386)]};});this[_0x166649(0x6c0)]['verbose'](this[_0x166649(0x1c4)]+'\x20('+this['instance'][_0x166649(0x62b)]+_0x166649(0x210)),this[_0x166649(0x6c0)]['verbose'](_0x1c8091),await this[_0x166649(0x209)](_0x28d897[_0x166649(0x1fc)],_0x22e59,_0x1c8091);}catch(_0x463d2f){this[_0x166649(0x6c0)][_0x166649(0x1ea)](this['instanceName']+'\x20('+this[_0x166649(0x267)][_0x166649(0x62b)]+'):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20'+JSON[_0x166649(0x4df)](_0x463d2f));}}else this[_0x166649(0x6c0)][_0x166649(0x1ea)](this[_0x166649(0x1c4)]+'\x20('+this[_0x166649(0x267)][_0x166649(0x62b)]+_0x166649(0x39d));}catch(_0x438431){this[_0x166649(0x6c0)][_0x166649(0x1ea)](this[_0x166649(0x1c4)]+'\x20('+this[_0x166649(0x267)][_0x166649(0x62b)]+_0x166649(0x284)+JSON[_0x166649(0x4df)](_0x438431));}}async[a0_0xffba68(0x209)](_0x2894a4,_0x414506,_0x2cbdb7){const _0x3c3613=a0_0xffba68;try{let _0x2cf8a4={'leadInfo.leadnome':_0x414506[_0x3c3613(0x4b3)],'leadInfo.nomecompleto':_0x414506[_0x3c3613(0x5c7)],'leadInfo.email':_0x414506[_0x3c3613(0x5de)],'leadInfo.cpf':_0x414506[_0x3c3613(0x6a9)],'leadInfo.status':_0x414506[_0x3c3613(0x697)],'leadInfo.notas':_0x414506[_0x3c3613(0x22b)],'leadInfo.responsavelid':_0x414506[_0x3c3613(0x514)],'leadInfo.tags':_0x414506[_0x3c3613(0x125)],'leadInfo.customFields':_0x2cbdb7};if('desativadoFluxoAte'in _0x414506){let _0x421d40=_0x414506[_0x3c3613(0x6b7)];_0x2cf8a4['leadInfo.desativadoFluxoAte']=_0x421d40?Number(_0x421d40):null;}let _0x3507d6=await this[_0x3c3613(0x597)][_0x3c3613(0x474)][_0x3c3613(0x577)]({'where':{'_id':_0x2894a4,'owner':this['instance'][_0x3c3613(0x62b)]}},_0x2cf8a4);_0x3507d6?(this[_0x3c3613(0x6c0)]['verbose'](this[_0x3c3613(0x1c4)]+'\x20('+this[_0x3c3613(0x267)][_0x3c3613(0x62b)]+_0x3c3613(0x4a4)+_0x3507d6['_id']),B(this[_0x3c3613(0x1c4)],'chats',{'chat':_0x3507d6})):this['logger'][_0x3c3613(0x1ea)](this[_0x3c3613(0x1c4)]+'\x20('+this[_0x3c3613(0x267)][_0x3c3613(0x62b)]+_0x3c3613(0x237));}catch(_0x94f1ec){this[_0x3c3613(0x6c0)][_0x3c3613(0x1ea)](this[_0x3c3613(0x1c4)]+'\x20('+this[_0x3c3613(0x267)][_0x3c3613(0x62b)]+_0x3c3613(0x348)+_0x94f1ec);}}async[a0_0xffba68(0x472)](_0x3c0ea2,_0xf21f29){const _0x58d0a5=a0_0xffba68;this[_0x58d0a5(0x6c0)]['verbose'](this[_0x58d0a5(0x1c4)]+'\x20('+this[_0x58d0a5(0x267)][_0x58d0a5(0x62b)]+'):\x20atualização\x20chat:\x20'+_0xf21f29);try{let _0x1089c8=await this[_0x58d0a5(0x597)][_0x58d0a5(0x474)][_0x58d0a5(0x577)]({'where':{'_id':_0x3c0ea2[_0x58d0a5(0x1fc)],'owner':_0x3c0ea2[_0x58d0a5(0x1e6)]}},{'leadInfo.desativadoFluxoAte':_0xf21f29});this[_0x58d0a5(0x6c0)][_0x58d0a5(0x5be)](this['instanceName']+'\x20('+this['instance'][_0x58d0a5(0x62b)]+_0x58d0a5(0x37d)+_0x3c0ea2[_0x58d0a5(0x35f)]),this['logger'][_0x58d0a5(0x5be)](this['instanceName']+'\x20('+this[_0x58d0a5(0x267)][_0x58d0a5(0x62b)]+_0x58d0a5(0x126)+JSON['stringify'](_0x1089c8,null,0x2)),_0x1089c8&&B(this[_0x58d0a5(0x1c4)],_0x58d0a5(0x45c),{'chat':_0x1089c8});}catch(_0x170200){this['logger']['error'](this[_0x58d0a5(0x1c4)]+'\x20('+this[_0x58d0a5(0x267)][_0x58d0a5(0x62b)]+_0x58d0a5(0x407)+JSON[_0x58d0a5(0x4df)](_0x170200));}}async[a0_0xffba68(0x12b)](_0x10df21,_0x57b9ff){const _0x5e47ea=a0_0xffba68;try{this[_0x5e47ea(0x6c0)][_0x5e47ea(0x5be)](this['instanceName']+'\x20('+this[_0x5e47ea(0x267)][_0x5e47ea(0x62b)]+_0x5e47ea(0x3ea));let _0x48e139=_0x57b9ff[_0x5e47ea(0x4ad)](/\D/g,''),_0x576d40=await I[_0x5e47ea(0x590)]({'owner':_0x10df21,'testingWith':_0x48e139});return _0x576d40||(this[_0x5e47ea(0x6c0)][_0x5e47ea(0x5be)](this['instanceName']+'\x20('+this[_0x5e47ea(0x267)][_0x5e47ea(0x62b)]+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0x576d40=await I[_0x5e47ea(0x590)]({'owner':_0x10df21,'default':!0x0})),_0x576d40||(this[_0x5e47ea(0x6c0)]['verbose'](this[_0x5e47ea(0x1c4)]+'\x20('+this['instance'][_0x5e47ea(0x62b)]+'):\x20Não\x20achou\x20nenhum\x20flow'),null);}catch(_0x37d549){return this['logger'][_0x5e47ea(0x1ea)](this[_0x5e47ea(0x1c4)]+'\x20('+this[_0x5e47ea(0x267)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+_0x37d549),null;}}async[a0_0xffba68(0x635)](_0x5a84ca,_0x3f97b7,_0x3de8a7){const _0x4be567=a0_0xffba68;try{let _0x28b356=!!_0x3de8a7['vote'],_0x950cf1=_0x3de8a7['poll_id'],_0x2bf1ed=null;if(this[_0x4be567(0x6c0)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4be567(0x403)+_0x28b356+_0x4be567(0x52b)+_0x950cf1),_0x28b356)return this[_0x4be567(0x6c0)][_0x4be567(0x5be)](this[_0x4be567(0x1c4)]+'\x20('+this[_0x4be567(0x267)]['wuid']+_0x4be567(0x491)),_0x2bf1ed=await j[_0x4be567(0x590)]({'owner':_0x5a84ca,'remoteJid':_0x3f97b7,'waitingPoll_id':_0x950cf1}),_0x2bf1ed?(_0x2bf1ed[_0x4be567(0x5b1)]=Date[_0x4be567(0x2e7)](),_0x2bf1ed[_0x4be567(0x437)][_0x4be567(0x57a)]=_0x3de8a7,_0x2bf1ed):(this[_0x4be567(0x6c0)][_0x4be567(0x5be)](this[_0x4be567(0x1c4)]+'\x20('+this['instance'][_0x4be567(0x62b)]+'):\x20não\x20encontrou'),null);{if(this['logger'][_0x4be567(0x5be)](this['instanceName']+'\x20('+this[_0x4be567(0x267)][_0x4be567(0x62b)]+_0x4be567(0x32e)+this['instance']['wuid']+_0x4be567(0x594)),this[_0x4be567(0x6c0)][_0x4be567(0x5be)](this[_0x4be567(0x1c4)]+'\x20('+this['instance']['wuid']+_0x4be567(0x314)),_0x2bf1ed=await j[_0x4be567(0x590)]({'owner':_0x5a84ca,'remoteJid':_0x3f97b7,'status':_0x4be567(0x5df)}),!_0x2bf1ed){let _0x518a93=await this[_0x4be567(0x12b)](_0x5a84ca,_0x3f97b7);if(_0x518a93&&(_0x2bf1ed=await this[_0x4be567(0x358)](_0x518a93,_0x3de8a7[_0x4be567(0x253)],_0x3de8a7)),!_0x2bf1ed)return null;}let _0x2191d4=Date[_0x4be567(0x2e7)](),_0x717ea2=_0x2bf1ed?.[_0x4be567(0x611)]||0x0,_0x13e895=_0x2191d4-_0x717ea2*0x3c*0x3e8;if(this[_0x4be567(0x6c0)][_0x4be567(0x5be)](this[_0x4be567(0x1c4)]+'\x20('+this[_0x4be567(0x267)]['wuid']+'):\x20Current\x20Time:\x20'+_0x2191d4+_0x4be567(0x67f)+_0x717ea2+_0x4be567(0x537)+_0x13e895),this['logger'][_0x4be567(0x5be)](this[_0x4be567(0x1c4)]+'\x20('+this[_0x4be567(0x267)][_0x4be567(0x62b)]+_0x4be567(0x526)),this['logger'][_0x4be567(0x5be)](this[_0x4be567(0x1c4)]+'\x20('+this[_0x4be567(0x267)][_0x4be567(0x62b)]+_0x4be567(0x279)+_0x2bf1ed[_0x4be567(0x5b1)]),this['logger']['verbose'](this[_0x4be567(0x1c4)]+'\x20('+this[_0x4be567(0x267)]['wuid']+_0x4be567(0x65a)+_0x13e895),_0x2bf1ed['lastInteraction']<_0x13e895){this[_0x4be567(0x6c0)][_0x4be567(0x5be)](this[_0x4be567(0x1c4)]+'\x20('+this['instance'][_0x4be567(0x62b)]+'):\x20Conversa\x20está\x20expirada');let _0x219973=await this['findFlow'](_0x5a84ca,_0x3f97b7);if(_0x219973===null)return null;_0x2bf1ed&&await j['updateOne']({'_id':_0x2bf1ed[_0x4be567(0x35f)]},{'status':'closed'}),_0x2bf1ed=await this['createNewConversation'](_0x219973,_0x3de8a7[_0x4be567(0x253)],_0x3de8a7);}return _0x2bf1ed[_0x4be567(0x5b1)]=_0x2191d4,_0x2bf1ed[_0x4be567(0x437)][_0x4be567(0x57a)]=_0x3de8a7,_0x2bf1ed;}}catch(_0xab175){return this[_0x4be567(0x6c0)]['error'](this[_0x4be567(0x1c4)]+'\x20('+this[_0x4be567(0x267)]['wuid']+_0x4be567(0x632)+_0xab175),null;}}async[a0_0xffba68(0x358)](_0x5eea3d,_0x598e2f,_0x402166){const _0x29a418=a0_0xffba68;this[_0x29a418(0x6c0)][_0x29a418(0x5be)](this[_0x29a418(0x1c4)]+'\x20('+this[_0x29a418(0x267)][_0x29a418(0x62b)]+_0x29a418(0x5b7));try{let _0x4e8ed9=require(_0x29a418(0x3a4))[_0x29a418(0x259)],_0x20dbb6=Date[_0x29a418(0x2e7)](),_0x44a6d8=_0x29a418(0x508),_0xdfbdd6=_0x598e2f[_0x29a418(0x43f)]?null:_0x402166,_0x13456d=_0x598e2f[_0x29a418(0x43f)]?_0x402166:null,_0x1279e5=_0x598e2f[_0x29a418(0x1fc)];await this[_0x29a418(0x1a3)](_0x1279e5);let _0x284dd7={..._0x5eea3d[_0x29a418(0x624)],'chatLog':null},_0x4a7e6c=await this['variablesToObject'](_0x284dd7[_0x29a418(0x5f3)]),_0x46d91d=await this[_0x29a418(0x5a6)](_0x1279e5),_0x447017={..._0x4a7e6c,..._0x46d91d,'_remoteJid':_0x1279e5},_0x3b906b={'lastReceivedMessage':_0xdfbdd6,'lastSendMessage':_0x13456d,'lastBlockId':_0x44a6d8,'lastCondition':!0x0,'realVariables':_0x447017};_0x284dd7['chatLog']=_0x3b906b,delete _0x284dd7[_0x29a418(0x35f)],_0x284dd7[_0x29a418(0x35f)]=new _0x4e8ed9(),_0x284dd7[_0x29a418(0x5b1)]=_0x20dbb6,_0x284dd7[_0x29a418(0x697)]=_0x29a418(0x5df),_0x284dd7['remoteJid']=_0x1279e5;let _0x214a11=await j[_0x29a418(0x64e)](_0x284dd7);return this[_0x29a418(0x6c0)]['verbose'](this[_0x29a418(0x1c4)]+'\x20('+this[_0x29a418(0x267)]['wuid']+_0x29a418(0x2cd)),_0x214a11?_0x284dd7:null;}catch(_0x1e4d05){return this['logger'][_0x29a418(0x1ea)](this['instanceName']+'\x20('+this['instance'][_0x29a418(0x62b)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+_0x1e4d05),_0x1e4d05;}}async[a0_0xffba68(0x24f)](_0x438de7,_0x1572b3,_0x5cda0a){const _0x3894df=a0_0xffba68;this['logger'][_0x3894df(0x5be)](this[_0x3894df(0x1c4)]+'\x20('+this[_0x3894df(0x267)][_0x3894df(0x62b)]+_0x3894df(0x449));let _0x19a16d={'number':_0x5cda0a,'options':{'delay':_0x1572b3[_0x3894df(0x2a0)][_0x3894df(0x622)]},'textMessage':{'text':_0x1572b3[_0x3894df(0x2a0)][_0x3894df(0x1d5)]}};try{let _0x5175f4=await this[_0x3894df(0x475)](_0x19a16d);if(_0x5175f4){let _0x3a1126={'_id':_0x5175f4[_0x3894df(0x253)]['id'],'_fromMe':_0x5175f4['key'][_0x3894df(0x43f)],'_remoteJid':_0x5175f4['key'][_0x3894df(0x1fc)]};_0x438de7[_0x3894df(0x437)]['lastBlockId']=_0x1572b3[_0x3894df(0x35f)][_0x3894df(0x4d7)]();let {message_normalized:_0x4d2780}=this[_0x3894df(0x3ee)](_0x5175f4[_0x3894df(0x65d)],J(_0x5175f4['message']),null);_0x438de7[_0x3894df(0x437)][_0x3894df(0x383)]=await _0x4d2780;let _0x627d2a={'messageId':_0x5175f4['key']['id']},_0x208002=_0x438de7[_0x3894df(0x437)][_0x3894df(0x6cf)];Object[_0x3894df(0x63e)](_0x208002,_0x3a1126),_0x438de7['chatLog'][_0x3894df(0x6cf)]=_0x208002,this['updateConversation'](_0x438de7,_0x1572b3,_0x627d2a);}else{let _0x57eb30={'error':!0x0};this['updateConversation'](_0x438de7,_0x1572b3,_0x57eb30),this[_0x3894df(0x6c0)][_0x3894df(0x1ea)](this[_0x3894df(0x1c4)]+'\x20('+this[_0x3894df(0x267)][_0x3894df(0x62b)]+_0x3894df(0x318));}}catch(_0x2fbcab){let _0x319663={'error':!0x0,'errorLog':_0x2fbcab['toString']()};this['updateConversation'](_0x438de7,_0x1572b3,_0x319663),this[_0x3894df(0x6c0)][_0x3894df(0x1ea)](this[_0x3894df(0x1c4)]+'\x20('+this[_0x3894df(0x267)][_0x3894df(0x62b)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+_0x2fbcab['toString']());}}async[a0_0xffba68(0x325)](_0x3d29c4,_0x158599,_0x10e68f){const _0x505b4a=a0_0xffba68;this[_0x505b4a(0x6c0)][_0x505b4a(0x5be)](this[_0x505b4a(0x1c4)]+'\x20('+this[_0x505b4a(0x267)][_0x505b4a(0x62b)]+_0x505b4a(0x25a));let _0x1e2028={'number':_0x10e68f,'options':{'delay':_0x158599[_0x505b4a(0x2a0)][_0x505b4a(0x622)]},'mediaMessage':{'mediatype':_0x158599[_0x505b4a(0x2a0)][_0x505b4a(0x56a)],'caption':_0x158599[_0x505b4a(0x2a0)][_0x505b4a(0x136)],'media':_0x158599[_0x505b4a(0x2a0)][_0x505b4a(0x1dd)],'fileName':_0x158599[_0x505b4a(0x2a0)]['fileName']}};try{let _0xca6bd0=await this[_0x505b4a(0x529)](_0x1e2028);if(_0xca6bd0){let _0x21c266={'_id':_0xca6bd0['key']['id'],'_fromMe':_0xca6bd0[_0x505b4a(0x253)][_0x505b4a(0x43f)],'_remoteJid':_0xca6bd0['key']['remoteJid']};_0x3d29c4[_0x505b4a(0x437)]['lastBlockId']=_0x158599[_0x505b4a(0x35f)]['toString']();let {message_normalized:_0x4d07a6}=this[_0x505b4a(0x3ee)](_0xca6bd0[_0x505b4a(0x65d)],J(_0xca6bd0[_0x505b4a(0x65d)]),null);_0x3d29c4[_0x505b4a(0x437)][_0x505b4a(0x383)]=await _0x4d07a6;let _0x52cfff={'messageId':_0xca6bd0[_0x505b4a(0x253)]['id']},_0x121d9e=_0x3d29c4[_0x505b4a(0x437)][_0x505b4a(0x6cf)];Object[_0x505b4a(0x63e)](_0x121d9e,_0x21c266),_0x3d29c4[_0x505b4a(0x437)]['realVariables']=_0x121d9e,this[_0x505b4a(0x187)](_0x3d29c4,_0x158599,_0x52cfff);}else{let _0x193e78={'error':!0x0};this[_0x505b4a(0x187)](_0x3d29c4,_0x158599,_0x193e78),this['logger'][_0x505b4a(0x1ea)](this[_0x505b4a(0x1c4)]+'\x20('+this[_0x505b4a(0x267)]['wuid']+_0x505b4a(0x156));}}catch(_0x22b85b){let _0x4bd950={'error':!0x0,'errorLog':_0x22b85b[_0x505b4a(0x4d7)]()};this['updateConversation'](_0x3d29c4,_0x158599,_0x4bd950),this[_0x505b4a(0x6c0)]['error'](this[_0x505b4a(0x1c4)]+'\x20('+this[_0x505b4a(0x267)][_0x505b4a(0x62b)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+_0x22b85b['toString']());}}async['uazapiSendLocation'](_0x150952,_0x8b620b,_0x402b9d){const _0x749e8=a0_0xffba68;this[_0x749e8(0x6c0)][_0x749e8(0x5be)](this[_0x749e8(0x1c4)]+'\x20('+this[_0x749e8(0x267)][_0x749e8(0x62b)]+_0x749e8(0x51c));let _0x307a57={'number':_0x402b9d,'options':{'delay':_0x8b620b[_0x749e8(0x2a0)][_0x749e8(0x622)]},'locationMessage':{'name':_0x8b620b[_0x749e8(0x2a0)][_0x749e8(0x114)],'address':_0x8b620b[_0x749e8(0x2a0)][_0x749e8(0x628)],'latitude':_0x8b620b[_0x749e8(0x2a0)][_0x749e8(0x2a3)],'longitude':_0x8b620b[_0x749e8(0x2a0)]['longitude']}};try{let _0x53f295=await this[_0x749e8(0x1d6)](_0x307a57);if(_0x53f295){let _0x15c134={'_id':_0x53f295['key']['id'],'_fromMe':_0x53f295['key']['fromMe'],'_remoteJid':_0x53f295[_0x749e8(0x253)]['remoteJid']};_0x150952[_0x749e8(0x437)]['lastBlockId']=_0x8b620b[_0x749e8(0x35f)][_0x749e8(0x4d7)]();let {message_normalized:_0x2bb275}=this[_0x749e8(0x3ee)](_0x53f295[_0x749e8(0x65d)],J(_0x53f295[_0x749e8(0x65d)]),null);_0x150952[_0x749e8(0x437)][_0x749e8(0x383)]=await _0x2bb275;let _0x20b051={'messageId':_0x53f295[_0x749e8(0x253)]['id']},_0x1e8d92=_0x150952[_0x749e8(0x437)][_0x749e8(0x6cf)];Object[_0x749e8(0x63e)](_0x1e8d92,_0x15c134),_0x150952[_0x749e8(0x437)][_0x749e8(0x6cf)]=_0x1e8d92,this[_0x749e8(0x187)](_0x150952,_0x8b620b,_0x20b051);}else{let _0x23eae1={'error':!0x0};this[_0x749e8(0x187)](_0x150952,_0x8b620b,_0x23eae1),this['logger'][_0x749e8(0x1ea)](this[_0x749e8(0x1c4)]+'\x20('+this[_0x749e8(0x267)]['wuid']+_0x749e8(0x5f4));}}catch(_0x2ea2fc){let _0x211308={'error':!0x0,'errorLog':_0x2ea2fc[_0x749e8(0x4d7)]()};this['updateConversation'](_0x150952,_0x8b620b,_0x211308),this[_0x749e8(0x6c0)]['error'](this[_0x749e8(0x1c4)]+'\x20('+this[_0x749e8(0x267)][_0x749e8(0x62b)]+_0x749e8(0x52a)+_0x2ea2fc[_0x749e8(0x4d7)]());}}async[a0_0xffba68(0x50e)](_0x4bd378,_0x25d7a0,_0x4ddbe5){const _0x596f6c=a0_0xffba68;this[_0x596f6c(0x6c0)][_0x596f6c(0x5be)](this[_0x596f6c(0x1c4)]+'\x20('+this[_0x596f6c(0x267)]['wuid']+'):\x20Enviando\x20áudio');let _0x3a7ba3={'number':_0x4ddbe5,'options':{'delay':_0x25d7a0[_0x596f6c(0x2a0)]['delay']},'audioMessage':{'audio':_0x25d7a0[_0x596f6c(0x2a0)]['audio']}};try{let _0x14513d=await this['audioWhatsapp'](_0x3a7ba3);if(_0x14513d){let _0x4400ff={'_id':_0x14513d['key']['id'],'_fromMe':_0x14513d['key'][_0x596f6c(0x43f)],'_remoteJid':_0x14513d[_0x596f6c(0x253)]['remoteJid']};_0x4bd378[_0x596f6c(0x437)][_0x596f6c(0x178)]=_0x25d7a0[_0x596f6c(0x35f)]['toString']();let {message_normalized:_0x294b10}=this['normalizeMessage'](_0x14513d['message'],J(_0x14513d[_0x596f6c(0x65d)]),null);_0x4bd378[_0x596f6c(0x437)][_0x596f6c(0x383)]=await _0x294b10;let _0xf2c63c={'messageId':_0x14513d[_0x596f6c(0x253)]['id']},_0x500e7a=_0x4bd378[_0x596f6c(0x437)][_0x596f6c(0x6cf)];Object[_0x596f6c(0x63e)](_0x500e7a,_0x4400ff),_0x4bd378[_0x596f6c(0x437)][_0x596f6c(0x6cf)]=_0x500e7a,this[_0x596f6c(0x187)](_0x4bd378,_0x25d7a0,_0xf2c63c);}else{let _0x28ed34={'error':!0x0};this[_0x596f6c(0x187)](_0x4bd378,_0x25d7a0,_0x28ed34),this[_0x596f6c(0x6c0)][_0x596f6c(0x1ea)](this[_0x596f6c(0x1c4)]+'\x20('+this[_0x596f6c(0x267)]['wuid']+_0x596f6c(0x6ce));}}catch(_0x4fa6b7){let _0x4e0766={'error':!0x0,'errorLog':_0x4fa6b7['toString']()};this['updateConversation'](_0x4bd378,_0x25d7a0,_0x4e0766),this['logger'][_0x596f6c(0x1ea)](this[_0x596f6c(0x1c4)]+'\x20('+this[_0x596f6c(0x267)][_0x596f6c(0x62b)]+_0x596f6c(0x694)+_0x4fa6b7[_0x596f6c(0x4d7)]());}}async[a0_0xffba68(0x580)](_0x136d3,_0x4d12d7,_0x5d8de1){const _0x2660c9=a0_0xffba68;this[_0x2660c9(0x6c0)]['verbose'](this['instanceName']+'\x20('+this[_0x2660c9(0x267)][_0x2660c9(0x62b)]+'):\x20Enviando\x20contato');let _0x2569e7={'number':_0x5d8de1,'options':{'delay':_0x4d12d7[_0x2660c9(0x2a0)][_0x2660c9(0x622)]},'contactMessage':[{'fullName':_0x4d12d7[_0x2660c9(0x2a0)][_0x2660c9(0x38b)],'phoneNumber':_0x4d12d7[_0x2660c9(0x2a0)][_0x2660c9(0x675)]}]};try{let _0x35ff77=await this['contactMessage'](_0x2569e7);if(_0x35ff77){let _0x1fa89a={'_id':_0x35ff77['key']['id'],'_fromMe':_0x35ff77[_0x2660c9(0x253)]['fromMe'],'_remoteJid':_0x35ff77[_0x2660c9(0x253)][_0x2660c9(0x1fc)]};_0x136d3['chatLog'][_0x2660c9(0x178)]=_0x4d12d7[_0x2660c9(0x35f)]['toString']();let {message_normalized:_0x3fce55}=this[_0x2660c9(0x3ee)](_0x35ff77[_0x2660c9(0x65d)],J(_0x35ff77[_0x2660c9(0x65d)]),null);_0x136d3[_0x2660c9(0x437)][_0x2660c9(0x383)]=await _0x3fce55;let _0x411d64={'messageId':_0x35ff77[_0x2660c9(0x253)]['id']},_0x17213c=_0x136d3[_0x2660c9(0x437)][_0x2660c9(0x6cf)];Object[_0x2660c9(0x63e)](_0x17213c,_0x1fa89a),_0x136d3[_0x2660c9(0x437)][_0x2660c9(0x6cf)]=_0x17213c,this[_0x2660c9(0x187)](_0x136d3,_0x4d12d7,_0x411d64);}else{let _0x35e3c8={'error':!0x0};this['updateConversation'](_0x136d3,_0x4d12d7,_0x35e3c8),this[_0x2660c9(0x6c0)][_0x2660c9(0x1ea)](this[_0x2660c9(0x1c4)]+'\x20('+this[_0x2660c9(0x267)][_0x2660c9(0x62b)]+_0x2660c9(0x15f));}}catch(_0x2d98b1){let _0x2e1b38={'error':!0x0,'errorLog':_0x2d98b1[_0x2660c9(0x4d7)]()};this[_0x2660c9(0x187)](_0x136d3,_0x4d12d7,_0x2e1b38),this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x2660c9(0x62b)]+_0x2660c9(0x5ce)+_0x2d98b1[_0x2660c9(0x4d7)]());}}[a0_0xffba68(0x235)](_0x4b24c7,_0x20f465){const _0x3f16e5=a0_0xffba68;for(let _0x1159b5 of _0x4b24c7)_0x1159b5[_0x3f16e5(0x158)]&&(_0x1159b5[_0x3f16e5(0x158)]=this[_0x3f16e5(0x39c)](_0x1159b5['option'],_0x20f465)),_0x1159b5[_0x3f16e5(0x289)]&&(_0x1159b5['optionDescription']=this[_0x3f16e5(0x39c)](_0x1159b5[_0x3f16e5(0x289)],_0x20f465));}async[a0_0xffba68(0x3d0)](_0x4d8926,_0xbc451f,_0x57b084){const _0x27dfb9=a0_0xffba68;this[_0x27dfb9(0x6c0)][_0x27dfb9(0x5be)](this[_0x27dfb9(0x1c4)]+'\x20('+this['instance'][_0x27dfb9(0x62b)]+_0x27dfb9(0x599));let _0x5a2359=_0x4d8926[_0x27dfb9(0x502)]['filter'](_0x24b402=>_0x24b402[_0x27dfb9(0x6a2)]===_0xbc451f[_0x27dfb9(0x35f)]);this[_0x27dfb9(0x235)](_0x5a2359,_0x4d8926['chatLog'][_0x27dfb9(0x6cf)]);let _0x1c6703=_0x5a2359['map'](_0x59ca0a=>_0x59ca0a['option']),_0x1485de={'number':_0x57b084,'options':{'delay':_0xbc451f[_0x27dfb9(0x2a0)][_0x27dfb9(0x622)]},'pollMessage':{'name':_0xbc451f[_0x27dfb9(0x2a0)][_0x27dfb9(0x114)],'selectableCount':0x1,'values':_0x1c6703}};try{let _0x3d1a61=await this['pollMessage'](_0x1485de);if(_0x3d1a61){let _0x344180={'_id':_0x3d1a61[_0x27dfb9(0x253)]['id'],'_fromMe':_0x3d1a61[_0x27dfb9(0x253)][_0x27dfb9(0x43f)],'_remoteJid':_0x3d1a61[_0x27dfb9(0x253)]['remoteJid']};this[_0x27dfb9(0x6c0)][_0x27dfb9(0x5be)](this[_0x27dfb9(0x1c4)]+'\x20('+this[_0x27dfb9(0x267)][_0x27dfb9(0x62b)]+'):\x20nextBlock.uazapi.name'+_0xbc451f[_0x27dfb9(0x2a0)][_0x27dfb9(0x114)]),_0x4d8926[_0x27dfb9(0x28f)]=_0x3d1a61[_0x27dfb9(0x253)]['id'],_0x4d8926[_0x27dfb9(0x3e6)]=_0xbc451f[_0x27dfb9(0x2a0)][_0x27dfb9(0x114)],_0x4d8926[_0x27dfb9(0x1a4)]=_0x5a2359,this[_0x27dfb9(0x6c0)][_0x27dfb9(0x5be)](this['instanceName']+'\x20('+this[_0x27dfb9(0x267)]['wuid']+'):\x20conversation.waitingPollname'+_0x4d8926[_0x27dfb9(0x3e6)]),_0x4d8926[_0x27dfb9(0x437)][_0x27dfb9(0x178)]=_0xbc451f[_0x27dfb9(0x35f)][_0x27dfb9(0x4d7)]();let {message_normalized:_0x13dc25}=this[_0x27dfb9(0x3ee)](_0x3d1a61[_0x27dfb9(0x65d)],J(_0x3d1a61[_0x27dfb9(0x65d)]),null);_0x4d8926[_0x27dfb9(0x437)][_0x27dfb9(0x383)]=await _0x13dc25;let _0x17cb96={'messageId':_0x3d1a61[_0x27dfb9(0x253)]['id']},_0x1f6cbd=_0x4d8926['chatLog'][_0x27dfb9(0x6cf)];Object[_0x27dfb9(0x63e)](_0x1f6cbd,_0x344180),_0x4d8926['chatLog'][_0x27dfb9(0x6cf)]=_0x1f6cbd,this[_0x27dfb9(0x187)](_0x4d8926,_0xbc451f,_0x17cb96);}else{let _0x32a800={'error':!0x0};this[_0x27dfb9(0x187)](_0x4d8926,_0xbc451f,_0x32a800),this[_0x27dfb9(0x6c0)]['error'](this[_0x27dfb9(0x1c4)]+'\x20('+this['instance'][_0x27dfb9(0x62b)]+_0x27dfb9(0x46a));}}catch(_0x9ea7ad){let _0x246242={'error':!0x0,'errorLog':_0x9ea7ad['toString']()};this[_0x27dfb9(0x187)](_0x4d8926,_0xbc451f,_0x246242),this[_0x27dfb9(0x6c0)][_0x27dfb9(0x1ea)](this['instanceName']+'\x20('+this['instance'][_0x27dfb9(0x62b)]+_0x27dfb9(0x2d7)+_0x9ea7ad[_0x27dfb9(0x4d7)]());}}async['uazapiDeleteMessage'](_0x18f5d7,_0x2afa81,_0x405c99){const _0x59a57b=a0_0xffba68;this[_0x59a57b(0x6c0)][_0x59a57b(0x5be)](this['instanceName']+'\x20('+this[_0x59a57b(0x267)][_0x59a57b(0x62b)]+_0x59a57b(0x2ff));let _0x98275a=_0x18f5d7[_0x59a57b(0x437)][_0x59a57b(0x6e1)][_0x59a57b(0x59a)](_0x492a54=>_0x492a54[_0x59a57b(0x6a2)][_0x59a57b(0x4d7)]()===_0x2afa81[_0x59a57b(0x2a0)][_0x59a57b(0x6a2)][_0x59a57b(0x4d7)]()),_0x20de7f={'id':_0x98275a[_0x59a57b(0x370)],'remoteJid':_0x98275a[_0x59a57b(0x1fc)],'fromMe':_0x98275a[_0x59a57b(0x43f)]};try{let _0x5334ed=await this[_0x59a57b(0x38e)](_0x20de7f);if(_0x5334ed){_0x18f5d7['chatLog'][_0x59a57b(0x178)]=_0x2afa81[_0x59a57b(0x35f)][_0x59a57b(0x4d7)]();let {message_normalized:_0x115a50}=this[_0x59a57b(0x3ee)](_0x5334ed[_0x59a57b(0x65d)],J(_0x5334ed[_0x59a57b(0x65d)]),null);_0x18f5d7[_0x59a57b(0x437)]['lastSendMessage']=await _0x115a50;let _0xb56f9f={};this[_0x59a57b(0x187)](_0x18f5d7,_0x2afa81,_0xb56f9f);}else{let _0x2a0a42={'error':!0x0};this['updateConversation'](_0x18f5d7,_0x2afa81,_0x2a0a42),this[_0x59a57b(0x6c0)][_0x59a57b(0x1ea)](this[_0x59a57b(0x1c4)]+'\x20('+this['instance'][_0x59a57b(0x62b)]+_0x59a57b(0x647));}}catch(_0x2819b4){let _0xcaae3e={'error':!0x0,'errorLog':_0x2819b4[_0x59a57b(0x4d7)]()};this['updateConversation'](_0x18f5d7,_0x2afa81,_0xcaae3e),this[_0x59a57b(0x6c0)][_0x59a57b(0x1ea)](this[_0x59a57b(0x1c4)]+'\x20('+this[_0x59a57b(0x267)][_0x59a57b(0x62b)]+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+_0x2819b4['toString']());}}async[a0_0xffba68(0x686)](_0x49a435){const _0x1dcb3c=a0_0xffba68;try{if(this['logger']['verbose'](this[_0x1dcb3c(0x1c4)]+'\x20('+this[_0x1dcb3c(0x267)][_0x1dcb3c(0x62b)]+'):\x20Criando\x20fluxo...'),await I['findOne']({'owner':this['instance'][_0x1dcb3c(0x62b)],'name':_0x49a435['name']}))return{'message':_0x1dcb3c(0x441)};_0x49a435[_0x1dcb3c(0x58d)]===!0x0&&await I[_0x1dcb3c(0x234)]({'owner':this[_0x1dcb3c(0x267)]['wuid']},{'default':!0x1});let _0xbead74=new we[(_0x1dcb3c(0x328))]['ObjectId'](),_0x79d894={'_id':_0xbead74,'default':!0x0,'title':_0x1dcb3c(0x1f7),'x':0x0,'y':0x0},_0x387c5c={'_id':new we[(_0x1dcb3c(0x328))][(_0x1dcb3c(0x259))](),'order':0x1,'groupId':_0xbead74[_0x1dcb3c(0x4d7)](),'type':_0x1dcb3c(0x508)};return await I[_0x1dcb3c(0x64e)]({'owner':this[_0x1dcb3c(0x267)][_0x1dcb3c(0x62b)],'name':_0x49a435[_0x1dcb3c(0x114)],'groups':[_0x79d894],'blocks':[_0x387c5c],..._0x49a435});}catch(_0x4eb43c){throw this[_0x1dcb3c(0x6c0)]['error'](this['instanceName']+'\x20('+this[_0x1dcb3c(0x267)]['wuid']+_0x1dcb3c(0x40e)+_0x4eb43c),new g(_0x1dcb3c(0x133)+_0x4eb43c);}}async['deleteFlow'](_0x5f1d81){const _0x247761=a0_0xffba68;try{return this[_0x247761(0x6c0)][_0x247761(0x5be)](this[_0x247761(0x1c4)]+'\x20('+this[_0x247761(0x267)]['wuid']+_0x247761(0x35e)),await I['deleteOne']({'owner':this[_0x247761(0x267)][_0x247761(0x62b)],'name':_0x5f1d81});}catch(_0x56186c){return this['logger'][_0x247761(0x1ea)](this[_0x247761(0x1c4)]+'\x20('+this[_0x247761(0x267)][_0x247761(0x62b)]+_0x247761(0x30d)+_0x56186c),{'message':'Erro\x20ao\x20deletar\x20o\x20fluxo:\x20'+_0x56186c};}}async[a0_0xffba68(0x147)](_0x21a311){const _0x1abae9=a0_0xffba68;try{this[_0x1abae9(0x6c0)][_0x1abae9(0x5be)](this[_0x1abae9(0x1c4)]+'\x20('+this['instance']['wuid']+_0x1abae9(0x3ea));let _0x1e575b=await I[_0x1abae9(0x590)]({'owner':this['instance']['wuid'],'name':_0x21a311});if(!_0x1e575b)throw new Error('Flow\x20não\x20encontrado');if(!this[_0x1abae9(0x3e0)]&&(await this['getAutomateSystem'](),!this['AutomateSystem']))return null;let _0x27abe1=this[_0x1abae9(0x3e0)]?.[_0x1abae9(0x1fa)][_0x1abae9(0x326)](_0x6a486f=>_0x6a486f[_0x1abae9(0x114)]),_0x3d8bd1=[_0x1abae9(0x4b3),_0x1abae9(0x5c7),_0x1abae9(0x5de),'cpf',_0x1abae9(0x697),'notas',_0x1abae9(0x514),_0x1abae9(0x125)];return _0x1e575b[_0x1abae9(0x5f3)]=_0x1e575b[_0x1abae9(0x5f3)]['filter'](_0x34a9d3=>!(_0x34a9d3['folder']==='leadInfo'||_0x34a9d3[_0x1abae9(0x419)])),_0x3d8bd1[_0x1abae9(0x6d1)](_0x56a90b=>{const _0x4c4173=_0x1abae9;_0x1e575b[_0x4c4173(0x5f3)][_0x4c4173(0x55d)]({'folder':_0x4c4173(0x419),'name':_0x56a90b,'value':'','doc':'','leadInfo':!0x0});}),_0x27abe1['forEach'](_0x1723cb=>{const _0xffe025=_0x1abae9;let _0x395b85=_0x1e575b[_0xffe025(0x5f3)][_0xffe025(0x5bb)](_0x815c79=>_0x815c79[_0xffe025(0x114)]===_0x1723cb);_0x395b85===-0x1?_0x1e575b['variables'][_0xffe025(0x55d)]({'folder':_0xffe025(0x419),'name':_0x1723cb,'value':'','doc':'','leadInfo':!0x0}):(_0x1e575b[_0xffe025(0x5f3)][_0x395b85]['folder']=_0xffe025(0x419),_0x1e575b[_0xffe025(0x5f3)][_0x395b85][_0xffe025(0x419)]=!0x0);}),_0x1e575b[_0x1abae9(0x1b8)]&&_0x1e575b[_0x1abae9(0x1b8)][_0x1abae9(0x26f)]>0x0&&_0x1e575b[_0x1abae9(0x1b8)][_0x1abae9(0x6d1)](_0x560c17=>{const _0x4730c9=_0x1abae9;_0x560c17['groupId']&&_0x560c17[_0x4730c9(0x60d)]&&_0x560c17[_0x4730c9(0x387)]===_0x560c17[_0x4730c9(0x60d)]&&(_0x560c17[_0x4730c9(0x60d)]=null);}),await _0x1e575b[_0x1abae9(0x5ff)](),_0x1e575b;}catch(_0x1332a5){throw this[_0x1abae9(0x6c0)][_0x1abae9(0x1ea)](this['instanceName']+'\x20('+this[_0x1abae9(0x267)]['wuid']+_0x1abae9(0x5da)+_0x1332a5),new g('Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+_0x1332a5);}}async[a0_0xffba68(0x3a8)](){const _0x18ece7=a0_0xffba68;try{return this[_0x18ece7(0x6c0)][_0x18ece7(0x5be)](this['instanceName']+'\x20('+this[_0x18ece7(0x267)][_0x18ece7(0x62b)]+_0x18ece7(0x2e4)),await I[_0x18ece7(0x59a)]({'owner':this[_0x18ece7(0x267)][_0x18ece7(0x62b)]});}catch(_0x327125){return this['logger']['error'](this['instanceName']+'\x20('+this[_0x18ece7(0x267)][_0x18ece7(0x62b)]+_0x18ece7(0x62f)+_0x327125),{'message':_0x18ece7(0x2b5)+_0x327125};}}async['editFlow'](_0x1160a1){const _0x368fab=a0_0xffba68;try{this[_0x368fab(0x6c0)]['verbose'](this[_0x368fab(0x1c4)]+'\x20('+this[_0x368fab(0x267)][_0x368fab(0x62b)]+'):\x20Alterando\x20fluxo...');let _0x1194ca=await I[_0x368fab(0x590)]({'owner':this[_0x368fab(0x267)][_0x368fab(0x62b)],'name':_0x1160a1[_0x368fab(0x114)]});if(!_0x1194ca)return{'message':_0x368fab(0x427)};if(_0x1160a1[_0x368fab(0x58d)]===!0x0&&await I[_0x368fab(0x234)]({'owner':this[_0x368fab(0x267)][_0x368fab(0x62b)]},{'default':!0x1}),_0x1160a1['newName']){if(await I['findOne']({'owner':this[_0x368fab(0x267)][_0x368fab(0x62b)],'name':_0x1160a1[_0x368fab(0x5ec)]}))return{'message':_0x368fab(0x390)};_0x1160a1['name']=_0x1160a1[_0x368fab(0x5ec)],delete _0x1160a1[_0x368fab(0x5ec)];}return await I[_0x368fab(0x2c6)](_0x1194ca[_0x368fab(0x35f)],{'$set':_0x1160a1},{'new':!0x0});}catch(_0x1e20de){throw this[_0x368fab(0x6c0)]['error'](this['instanceName']+'\x20('+this[_0x368fab(0x267)]['wuid']+_0x368fab(0x186)+_0x1e20de),new g(_0x368fab(0x574)+_0x1e20de);}}async[a0_0xffba68(0x6aa)](_0xe28aac){const _0x4ca2a7=a0_0xffba68;try{this[_0x4ca2a7(0x6c0)][_0x4ca2a7(0x5be)](this['instanceName']+'\x20('+this[_0x4ca2a7(0x267)][_0x4ca2a7(0x62b)]+_0x4ca2a7(0x190));let _0x4c224a={'owner':this[_0x4ca2a7(0x267)][_0x4ca2a7(0x62b)],'name':_0xe28aac[_0x4ca2a7(0x114)]},_0x85c3af=await I[_0x4ca2a7(0x590)](_0x4c224a);_0x85c3af||this[_0x4ca2a7(0x587)](_0x4ca2a7(0x63b));let {block:_0x1d796e}=_0xe28aac;return _0x1d796e?.[_0x4ca2a7(0x64b)]?this[_0x4ca2a7(0x64c)](_0x85c3af,_0xe28aac):_0x1d796e[_0x4ca2a7(0x35f)]?await this[_0x4ca2a7(0x59c)](_0x85c3af,_0xe28aac):this[_0x4ca2a7(0x651)](_0x85c3af,_0xe28aac),await _0x85c3af['save'](),_0x85c3af;}catch(_0x854874){this[_0x4ca2a7(0x587)]('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x854874);}}[a0_0xffba68(0x587)](_0x259ca2){const _0x620426=a0_0xffba68;throw this[_0x620426(0x6c0)][_0x620426(0x1ea)](this[_0x620426(0x1c4)]+'\x20('+this[_0x620426(0x267)][_0x620426(0x62b)]+_0x620426(0x32e)+_0x259ca2),new g(_0x259ca2);}[a0_0xffba68(0x64c)](_0x2a9f6b,_0x2b81fa){const _0x3dbad1=a0_0xffba68;let {block:_0x29936a}=_0x2b81fa;if(_0x29936a[_0x3dbad1(0x4b8)]===_0x3dbad1(0x508)){this[_0x3dbad1(0x587)](_0x3dbad1(0x6e3));return;}if(!_0x29936a[_0x3dbad1(0x35f)]){this['throwAndLogError'](_0x3dbad1(0x448));return;}let _0x4afb67=_0x2a9f6b['blocks'][_0x3dbad1(0x59a)](_0x2aa570=>_0x2aa570['_id'][_0x3dbad1(0x4d7)]()===_0x2b81fa['block'][_0x3dbad1(0x35f)][_0x3dbad1(0x4d7)]());if(!_0x4afb67){this[_0x3dbad1(0x587)]('Bloco\x20com\x20ID\x20'+_0x29936a[_0x3dbad1(0x35f)]+_0x3dbad1(0x153));return;}_0x2a9f6b[_0x3dbad1(0x1b8)]=_0x2a9f6b[_0x3dbad1(0x1b8)][_0x3dbad1(0x3c5)](_0x4cdf6a=>_0x4cdf6a[_0x3dbad1(0x35f)][_0x3dbad1(0x4d7)]()!==_0x2b81fa[_0x3dbad1(0x1c3)]['_id'][_0x3dbad1(0x4d7)]()),_0x2a9f6b['conditions']=_0x2a9f6b['conditions'][_0x3dbad1(0x3c5)](_0x134e1f=>_0x134e1f[_0x3dbad1(0x6a2)]!==_0x29936a[_0x3dbad1(0x35f)][_0x3dbad1(0x4d7)]()),_0x2a9f6b[_0x3dbad1(0x62d)]=_0x2a9f6b[_0x3dbad1(0x62d)][_0x3dbad1(0x3c5)](_0x98b184=>_0x98b184[_0x3dbad1(0x6a2)]!==_0x29936a[_0x3dbad1(0x35f)][_0x3dbad1(0x4d7)]()),_0x2a9f6b[_0x3dbad1(0x502)]=_0x2a9f6b[_0x3dbad1(0x502)][_0x3dbad1(0x3c5)](_0x4e70b0=>_0x4e70b0[_0x3dbad1(0x6a2)]!==_0x29936a['_id'][_0x3dbad1(0x4d7)]()),this[_0x3dbad1(0x1ed)](_0x2a9f6b['blocks'],_0x4afb67[_0x3dbad1(0x387)]);}async[a0_0xffba68(0x59c)](_0x240642,_0x3a35c8){const _0x41f933=a0_0xffba68;let _0x298293=_0x240642[_0x41f933(0x1b8)][_0x41f933(0x5bb)](_0x31f1f1=>_0x31f1f1['_id'][_0x41f933(0x4d7)]()===_0x3a35c8[_0x41f933(0x1c3)]['_id']['toString']());if(this[_0x41f933(0x6c0)][_0x41f933(0x5be)](this[_0x41f933(0x1c4)]+'\x20('+this[_0x41f933(0x267)]['wuid']+_0x41f933(0x404)+_0x298293),_0x298293===-0x1){this[_0x41f933(0x6c0)]['verbose'](_0x41f933(0x4b4)+_0x3a35c8[_0x41f933(0x1c3)][_0x41f933(0x35f)]+_0x41f933(0x439));return;}if(_0x240642['blocks'][_0x298293][_0x41f933(0x4b8)]===_0x41f933(0x508)){let _0x348700=Object[_0x41f933(0x598)](_0x3a35c8[_0x41f933(0x1c3)]);if(_0x348700['length']>0x2||_0x348700[_0x41f933(0x26f)]===0x2&&!_0x348700[_0x41f933(0x6ac)](_0x41f933(0x60d))){this['throwAndLogError'](_0x41f933(0x3ba));return;}}let _0x178214=_0x240642[_0x41f933(0x1b8)][_0x298293][_0x41f933(0x387)];for(let _0x29e1a9 in _0x3a35c8[_0x41f933(0x1c3)])_0x3a35c8['block']['hasOwnProperty'](_0x29e1a9)&&(_0x240642[_0x41f933(0x1b8)][_0x298293][_0x29e1a9]=_0x3a35c8[_0x41f933(0x1c3)][_0x29e1a9]);if(this[_0x41f933(0x6c0)][_0x41f933(0x5be)](this[_0x41f933(0x1c4)]+'\x20('+this['instance'][_0x41f933(0x62b)]+_0x41f933(0x5b4)+JSON[_0x41f933(0x4df)](_0x240642[_0x41f933(0x1b8)][_0x298293])),_0x240642[_0x41f933(0x1b8)][_0x298293][_0x41f933(0x4a0)]&&_0x41f933(0x541)in _0x240642[_0x41f933(0x1b8)][_0x298293][_0x41f933(0x4a0)]){this[_0x41f933(0x6c0)][_0x41f933(0x5be)](this[_0x41f933(0x1c4)]+'\x20('+this[_0x41f933(0x267)]['wuid']+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x5c6a91=JSON[_0x41f933(0x4df)](_0x240642[_0x41f933(0x1b8)][_0x298293][_0x41f933(0x4a0)][_0x41f933(0x541)],null,0x1);_0x5c6a91['length']>0x2&&(_0x5c6a91=_0x5c6a91['substring'](0x1,_0x5c6a91[_0x41f933(0x26f)]-0x1)[_0x41f933(0x164)]()),_0x240642[_0x41f933(0x1b8)][_0x298293][_0x41f933(0x4a0)]['headerString']=_0x5c6a91;}if(_0x240642[_0x41f933(0x1b8)][_0x298293][_0x41f933(0x4a0)]&&_0x41f933(0x5a3)in _0x240642[_0x41f933(0x1b8)][_0x298293][_0x41f933(0x4a0)]){this[_0x41f933(0x6c0)][_0x41f933(0x5be)](this[_0x41f933(0x1c4)]+'\x20('+this[_0x41f933(0x267)][_0x41f933(0x62b)]+_0x41f933(0x2ed));let _0x14651a=JSON['stringify'](_0x240642[_0x41f933(0x1b8)][_0x298293][_0x41f933(0x4a0)][_0x41f933(0x5a3)],null,0x1);_0x14651a[_0x41f933(0x26f)]>0x2&&(_0x14651a=_0x14651a[_0x41f933(0x5a1)](0x1,_0x14651a['length']-0x1)[_0x41f933(0x164)]()),_0x240642['blocks'][_0x298293][_0x41f933(0x4a0)][_0x41f933(0x2bc)]=_0x14651a;}let _0x1f0433=_0x240642['blocks'][_0x298293]['groupId'];_0x178214!==_0x1f0433?(this[_0x41f933(0x1ed)](_0x240642[_0x41f933(0x1b8)],_0x178214),this['reorderBlocks'](_0x240642[_0x41f933(0x1b8)],_0x1f0433)):this['reorderBlocks'](_0x240642[_0x41f933(0x1b8)],_0x178214);}[a0_0xffba68(0x651)](_0x4fcc52,_0x38f49a){const _0x4e6edf=a0_0xffba68;if(_0x38f49a['block'][_0x4e6edf(0x4b8)]===_0x4e6edf(0x508)){this[_0x4e6edf(0x587)](_0x4e6edf(0x63f));return;}if(_0x38f49a[_0x4e6edf(0x1c3)][_0x4e6edf(0x4a0)]&&_0x4e6edf(0x541)in _0x38f49a[_0x4e6edf(0x1c3)]['apirequest']){this[_0x4e6edf(0x6c0)]['verbose'](this[_0x4e6edf(0x1c4)]+'\x20('+this[_0x4e6edf(0x267)][_0x4e6edf(0x62b)]+_0x4e6edf(0x3b6));let _0x5db173=JSON[_0x4e6edf(0x4df)](_0x38f49a['block'][_0x4e6edf(0x4a0)]['header'],null,0x1);_0x5db173[_0x4e6edf(0x26f)]>0x2&&(_0x5db173=_0x5db173[_0x4e6edf(0x5a1)](0x1,_0x5db173[_0x4e6edf(0x26f)]-0x1)[_0x4e6edf(0x164)]()),_0x38f49a[_0x4e6edf(0x1c3)][_0x4e6edf(0x4a0)][_0x4e6edf(0x203)]=_0x5db173;}_0x38f49a[_0x4e6edf(0x1c3)][_0x4e6edf(0x4a0)]&&_0x4e6edf(0x5a3)in _0x38f49a['block'][_0x4e6edf(0x4a0)]&&(this[_0x4e6edf(0x6c0)][_0x4e6edf(0x5be)](this[_0x4e6edf(0x1c4)]+'\x20('+this[_0x4e6edf(0x267)][_0x4e6edf(0x62b)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x38f49a[_0x4e6edf(0x1c3)]['apirequest'][_0x4e6edf(0x2bc)]=JSON[_0x4e6edf(0x4df)](_0x38f49a[_0x4e6edf(0x1c3)][_0x4e6edf(0x4a0)][_0x4e6edf(0x5a3)],null,0x1)['trim']()),_0x4fcc52[_0x4e6edf(0x1b8)][_0x4e6edf(0x55d)](_0x38f49a[_0x4e6edf(0x1c3)]),this[_0x4e6edf(0x1ed)](_0x4fcc52[_0x4e6edf(0x1b8)],_0x38f49a[_0x4e6edf(0x1c3)][_0x4e6edf(0x387)]);}['reorderBlocks'](_0x27dac4,_0x516b25){const _0x1cb688=a0_0xffba68;let _0x7f89db=_0x27dac4['filter'](_0x17d24e=>_0x17d24e[_0x1cb688(0x387)]===_0x516b25);_0x7f89db['sort']((_0xa7e2b,_0x310c29)=>_0xa7e2b[_0x1cb688(0x3c8)]-_0x310c29[_0x1cb688(0x3c8)]),_0x7f89db['forEach']((_0xedeb83,_0x1f170f)=>_0xedeb83['order']=_0x1f170f+0x1);}async[a0_0xffba68(0x36a)](_0x4c810a){const _0x46101e=a0_0xffba68;try{if(this[_0x46101e(0x6c0)][_0x46101e(0x5be)](this[_0x46101e(0x1c4)]+'\x20('+this[_0x46101e(0x267)][_0x46101e(0x62b)]+_0x46101e(0x69a)),!_0x4c810a||!_0x4c810a['replyOption']){this['throwAndLogError'](_0x46101e(0x1c7));return;}let _0xb7e3cc={'owner':this['instance'][_0x46101e(0x62b)],'name':_0x4c810a[_0x46101e(0x114)]},_0x3dc520=await I[_0x46101e(0x590)](_0xb7e3cc);_0x3dc520||this['throwAndLogError'](_0x46101e(0x63b));let {replyOption:_0xcbff81}=_0x4c810a;return _0xcbff81?.[_0x46101e(0x64b)]?this['deleteReplyOption'](_0x3dc520,_0x4c810a):_0xcbff81['_id']?await this[_0x46101e(0x420)](_0x3dc520,_0x4c810a):this['addReplyOption'](_0x3dc520,_0x4c810a),await _0x3dc520[_0x46101e(0x5ff)](),_0x3dc520;}catch(_0x5a5643){this[_0x46101e(0x587)](_0x46101e(0x19a)+_0x5a5643);}}['deleteReplyOption'](_0x10cc22,_0x401122){const _0x55dc7f=a0_0xffba68;let {replyOption:_0x248182}=_0x401122;if(!_0x248182[_0x55dc7f(0x35f)]){this[_0x55dc7f(0x587)](_0x55dc7f(0x172));return;}if(!_0x10cc22['replyOptions'][_0x55dc7f(0x59a)](_0xd4b61a=>_0xd4b61a['_id']['toString']()===_0x401122[_0x55dc7f(0x62e)][_0x55dc7f(0x35f)][_0x55dc7f(0x4d7)]())){this[_0x55dc7f(0x587)](_0x55dc7f(0x609)+_0x248182['_id']+_0x55dc7f(0x153));return;}_0x10cc22[_0x55dc7f(0x502)]=_0x10cc22[_0x55dc7f(0x502)][_0x55dc7f(0x3c5)](_0x5eee7a=>_0x5eee7a['_id'][_0x55dc7f(0x4d7)]()!==_0x401122['replyOption'][_0x55dc7f(0x35f)][_0x55dc7f(0x4d7)]());}async[a0_0xffba68(0x420)](_0x3e9f20,_0x73f582){const _0x487d63=a0_0xffba68;let _0x2beee9=_0x3e9f20[_0x487d63(0x502)][_0x487d63(0x5bb)](_0x392cae=>_0x392cae['_id'][_0x487d63(0x4d7)]()===_0x73f582[_0x487d63(0x62e)][_0x487d63(0x35f)][_0x487d63(0x4d7)]());if(_0x2beee9===-0x1){this['throwAndLogError'](_0x487d63(0x609)+_0x73f582[_0x487d63(0x62e)][_0x487d63(0x35f)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0x584c8c in _0x73f582['replyOption'])_0x73f582[_0x487d63(0x62e)][_0x487d63(0x4fb)](_0x584c8c)&&(_0x3e9f20[_0x487d63(0x502)][_0x2beee9][_0x584c8c]=_0x73f582[_0x487d63(0x62e)][_0x584c8c]);}[a0_0xffba68(0x23f)](_0x47a576,_0x380997){const _0x51ea50=a0_0xffba68;_0x47a576['replyOptions'][_0x51ea50(0x55d)](_0x380997[_0x51ea50(0x62e)]);}async['editFlowGroup'](_0x1234be){const _0x52b6cf=a0_0xffba68;this['logger']['verbose'](this[_0x52b6cf(0x1c4)]+'\x20('+this[_0x52b6cf(0x267)]['wuid']+_0x52b6cf(0x243)+_0x1234be);try{this['logger'][_0x52b6cf(0x5be)](this['instanceName']+'\x20('+this[_0x52b6cf(0x267)]['wuid']+_0x52b6cf(0x3fd));let _0x18a75c={'owner':this[_0x52b6cf(0x267)]['wuid'],'name':_0x1234be[_0x52b6cf(0x114)]},_0x48402e=await I['findOne'](_0x18a75c);if(!_0x48402e)throw new Error(_0x52b6cf(0x63b));if(_0x1234be[_0x52b6cf(0x555)]&&_0x1234be[_0x52b6cf(0x555)]?.[_0x52b6cf(0x64b)]===!0x0){if(this[_0x52b6cf(0x6c0)][_0x52b6cf(0x5be)](this[_0x52b6cf(0x1c4)]+'\x20('+this[_0x52b6cf(0x267)][_0x52b6cf(0x62b)]+_0x52b6cf(0x5b3)),_0x1234be[_0x52b6cf(0x555)][_0x52b6cf(0x58d)]===!0x0)return{'message':_0x52b6cf(0x2df)};if(_0x48402e['blocks'][_0x52b6cf(0x1f2)](_0x4ee051=>_0x4ee051[_0x52b6cf(0x387)]['toString']()===_0x1234be['group'][_0x52b6cf(0x35f)]))return this[_0x52b6cf(0x6c0)][_0x52b6cf(0x5be)](this[_0x52b6cf(0x1c4)]+'\x20('+this[_0x52b6cf(0x267)]['wuid']+_0x52b6cf(0x2db)),{'message':_0x52b6cf(0x282)};_0x48402e[_0x52b6cf(0x454)]=_0x48402e[_0x52b6cf(0x454)][_0x52b6cf(0x3c5)](_0x1a537b=>_0x1a537b[_0x52b6cf(0x35f)][_0x52b6cf(0x4d7)]()!==_0x1234be[_0x52b6cf(0x555)]['_id']);}else{if(_0x1234be[_0x52b6cf(0x555)]){if(_0x1234be[_0x52b6cf(0x555)][_0x52b6cf(0x58d)]===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x1234be[_0x52b6cf(0x555)]['_id']){let _0x244f50=_0x48402e['groups'][_0x52b6cf(0x59a)](_0xdcdced=>_0xdcdced[_0x52b6cf(0x35f)][_0x52b6cf(0x4d7)]()===_0x1234be[_0x52b6cf(0x555)][_0x52b6cf(0x35f)]);_0x244f50&&(_0x1234be[_0x52b6cf(0x555)]['x']<0x0&&(_0x1234be['group']['x']=0x0),_0x1234be[_0x52b6cf(0x555)]['y']<0x0&&(_0x1234be[_0x52b6cf(0x555)]['y']=0x0),Object['assign'](_0x244f50,_0x1234be['group']));}else _0x48402e['groups'][_0x52b6cf(0x55d)](_0x1234be[_0x52b6cf(0x555)]);}}return await _0x48402e[_0x52b6cf(0x5ff)](),_0x48402e;}catch(_0x4e8e00){throw this[_0x52b6cf(0x6c0)][_0x52b6cf(0x1ea)](this[_0x52b6cf(0x1c4)]+'\x20('+this[_0x52b6cf(0x267)]['wuid']+_0x52b6cf(0x20d)+_0x4e8e00),new g(_0x52b6cf(0x115)+_0x4e8e00);}}async['editFlowCondition'](_0x165483){const _0x46612e=a0_0xffba68;try{this[_0x46612e(0x6c0)][_0x46612e(0x5be)](this[_0x46612e(0x1c4)]+'\x20('+this['instance'][_0x46612e(0x62b)]+_0x46612e(0x6dc));let _0x1819f0={'owner':this[_0x46612e(0x267)][_0x46612e(0x62b)],'name':_0x165483['name']},_0x50c644=await I[_0x46612e(0x590)](_0x1819f0);if(!_0x50c644)throw new Error('Flow\x20não\x20encontrado');let _0x3da1de=!0x1;if(_0x165483['condition']?.[_0x46612e(0x64b)]===!0x0)_0x50c644[_0x46612e(0x1a1)]=_0x50c644['conditions'][_0x46612e(0x3c5)](_0x2d81c6=>_0x2d81c6&&_0x165483[_0x46612e(0x26a)]&&_0x2d81c6[_0x46612e(0x35f)]&&_0x165483[_0x46612e(0x26a)][_0x46612e(0x35f)]&&_0x2d81c6[_0x46612e(0x35f)][_0x46612e(0x4d7)]()!==_0x165483[_0x46612e(0x26a)]['_id']['toString']()),_0x3da1de=!0x0;else{let _0x2833dc=_0x50c644[_0x46612e(0x1a1)]['find'](_0x58fffa=>_0x58fffa&&_0x165483[_0x46612e(0x26a)]&&_0x58fffa['_id']&&_0x165483[_0x46612e(0x26a)][_0x46612e(0x35f)]&&_0x58fffa['_id'][_0x46612e(0x4d7)]()===_0x165483[_0x46612e(0x26a)]['_id'][_0x46612e(0x4d7)]());_0x2833dc?(_0x3da1de=_0x2833dc[_0x46612e(0x3c8)]!==_0x165483[_0x46612e(0x26a)][_0x46612e(0x3c8)],Object[_0x46612e(0x63e)](_0x2833dc,_0x165483[_0x46612e(0x26a)])):(_0x50c644[_0x46612e(0x1a1)][_0x46612e(0x55d)](_0x165483['condition']),_0x3da1de=!0x0);}if(_0x3da1de){_0x50c644['conditions'][_0x46612e(0x6c7)]((_0x480bf1,_0x3936ef)=>_0x480bf1[_0x46612e(0x3c8)]>_0x3936ef[_0x46612e(0x3c8)]?0x1:_0x3936ef[_0x46612e(0x3c8)]>_0x480bf1[_0x46612e(0x3c8)]?-0x1:0x0);for(let _0x3bd395=0x0;_0x3bd395<_0x50c644[_0x46612e(0x1a1)][_0x46612e(0x26f)];_0x3bd395++)_0x50c644['conditions'][_0x3bd395]['order']=_0x3bd395+0x1;_0x50c644[_0x46612e(0x1a1)][_0x46612e(0x26f)]>0x0&&(_0x50c644['conditions'][0x0]['OrAnd']=_0x46612e(0x162));}return await _0x50c644[_0x46612e(0x5ff)](),_0x50c644;}catch(_0x521d39){throw this['logger'][_0x46612e(0x1ea)](this['instanceName']+'\x20('+this[_0x46612e(0x267)]['wuid']+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+_0x521d39),new Error('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+_0x521d39);}}async[a0_0xffba68(0x45e)](_0x25af1a){const _0x1b94c7=a0_0xffba68;try{this[_0x1b94c7(0x6c0)][_0x1b94c7(0x5be)](this[_0x1b94c7(0x1c4)]+'\x20('+this[_0x1b94c7(0x267)][_0x1b94c7(0x62b)]+'):\x20Editando\x20edição\x20do\x20fluxo...');let _0x598d77={'owner':this[_0x1b94c7(0x267)][_0x1b94c7(0x62b)],'name':_0x25af1a[_0x1b94c7(0x114)]},_0x541674=await I[_0x1b94c7(0x590)](_0x598d77);if(!_0x541674)throw new Error('Flow\x20não\x20encontrado');let _0x2cb7fb=!0x1;if(_0x25af1a[_0x1b94c7(0x338)]?.['delete']===!0x0)_0x541674['varedits']=_0x541674['varedits'][_0x1b94c7(0x3c5)](_0x5b02f7=>_0x5b02f7&&_0x25af1a[_0x1b94c7(0x338)]&&_0x5b02f7['_id']&&_0x25af1a[_0x1b94c7(0x338)][_0x1b94c7(0x35f)]&&_0x5b02f7['_id'][_0x1b94c7(0x4d7)]()!==_0x25af1a[_0x1b94c7(0x338)][_0x1b94c7(0x35f)]['toString']()),_0x2cb7fb=!0x0;else{let _0x5e02ba=_0x541674[_0x1b94c7(0x62d)][_0x1b94c7(0x59a)](_0x53c8fd=>_0x53c8fd&&_0x25af1a[_0x1b94c7(0x338)]&&_0x53c8fd['_id']&&_0x25af1a[_0x1b94c7(0x338)]['_id']&&_0x53c8fd[_0x1b94c7(0x35f)][_0x1b94c7(0x4d7)]()===_0x25af1a['varedit'][_0x1b94c7(0x35f)][_0x1b94c7(0x4d7)]());_0x5e02ba?(_0x2cb7fb=_0x5e02ba[_0x1b94c7(0x3c8)]!==_0x25af1a[_0x1b94c7(0x338)][_0x1b94c7(0x3c8)],Object[_0x1b94c7(0x63e)](_0x5e02ba,_0x25af1a[_0x1b94c7(0x338)])):(_0x541674[_0x1b94c7(0x62d)][_0x1b94c7(0x55d)](_0x25af1a[_0x1b94c7(0x338)]),_0x2cb7fb=!0x0);}if(_0x2cb7fb){_0x541674[_0x1b94c7(0x62d)]['sort']((_0x20066f,_0x2d083b)=>_0x20066f[_0x1b94c7(0x3c8)]>_0x2d083b[_0x1b94c7(0x3c8)]?0x1:_0x2d083b[_0x1b94c7(0x3c8)]>_0x20066f[_0x1b94c7(0x3c8)]?-0x1:0x0);for(let _0x463030=0x0;_0x463030<_0x541674[_0x1b94c7(0x62d)][_0x1b94c7(0x26f)];_0x463030++)_0x541674[_0x1b94c7(0x62d)][_0x463030][_0x1b94c7(0x3c8)]=_0x463030+0x1;}return await _0x541674[_0x1b94c7(0x5ff)](),_0x541674;}catch(_0x5ebe2f){throw this['logger'][_0x1b94c7(0x1ea)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1b94c7(0x1f9)+_0x5ebe2f),new g(_0x1b94c7(0x152)+_0x5ebe2f);}}async[a0_0xffba68(0x55a)](_0x3b3b7e){const _0x4249a3=a0_0xffba68;try{this[_0x4249a3(0x6c0)][_0x4249a3(0x5be)](this['instanceName']+'\x20('+this[_0x4249a3(0x267)][_0x4249a3(0x62b)]+_0x4249a3(0x698));let _0x3ea225={'owner':this['instance']['wuid'],'name':_0x3b3b7e[_0x4249a3(0x114)]},_0x5c899e=await I[_0x4249a3(0x590)](_0x3ea225);if(!_0x5c899e)throw new Error(_0x4249a3(0x63b));_0x3b3b7e[_0x4249a3(0x547)][_0x4249a3(0x114)]=_0x3b3b7e['variable'][_0x4249a3(0x114)][_0x4249a3(0x164)](),_0x3b3b7e[_0x4249a3(0x547)][_0x4249a3(0x114)]['startsWith']('_')&&(_0x3b3b7e[_0x4249a3(0x547)]['name']=_0x3b3b7e[_0x4249a3(0x547)]['name']['substring'](0x1)),_0x3b3b7e[_0x4249a3(0x547)][_0x4249a3(0x114)]=_0x3b3b7e[_0x4249a3(0x547)][_0x4249a3(0x114)][_0x4249a3(0x164)]();let _0x59f6b9=_0x5c899e[_0x4249a3(0x5f3)][_0x4249a3(0x59a)](_0x7f6cbf=>_0x7f6cbf['name']===_0x3b3b7e['variable'][_0x4249a3(0x114)]);if(_0x59f6b9?.[_0x4249a3(0x419)]===!0x0)throw new Error(_0x4249a3(0x1b0));if(_0x3b3b7e[_0x4249a3(0x547)]?.[_0x4249a3(0x64b)]===!0x0){if(!_0x59f6b9)return{'message':_0x4249a3(0x119)};_0x5c899e['variables']=_0x5c899e['variables'][_0x4249a3(0x3c5)](_0x4e63ba=>_0x4e63ba[_0x4249a3(0x114)]!==_0x3b3b7e[_0x4249a3(0x547)][_0x4249a3(0x114)]);}else _0x59f6b9?Object[_0x4249a3(0x63e)](_0x59f6b9,_0x3b3b7e[_0x4249a3(0x547)]):_0x5c899e[_0x4249a3(0x5f3)]['push'](_0x3b3b7e['variable']);return await _0x5c899e[_0x4249a3(0x5ff)](),_0x5c899e;}catch(_0x474104){throw this[_0x4249a3(0x6c0)][_0x4249a3(0x1ea)](this[_0x4249a3(0x1c4)]+'\x20('+this[_0x4249a3(0x267)]['wuid']+'):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20'+_0x474104),new g(_0x4249a3(0x406)+_0x474104);}}async[a0_0xffba68(0x6ba)](_0x51a07e){const _0x43ad06=a0_0xffba68;try{if(!this[_0x43ad06(0x3e0)]?.[_0x43ad06(0x354)][_0x43ad06(0x175)])throw new g(_0x43ad06(0x1da));this[_0x43ad06(0x6c0)][_0x43ad06(0x5be)](this[_0x43ad06(0x1c4)]+'\x20('+this[_0x43ad06(0x267)][_0x43ad06(0x62b)]+_0x43ad06(0x324));let _0x26e95b=(await this[_0x43ad06(0x28e)]({'numbers':[_0x51a07e['remoteJid']]}))[0x0];if(!_0x26e95b[_0x43ad06(0x14c)]&&!(0x0,w[_0x43ad06(0x6a1)])(_0x26e95b[_0x43ad06(0x1e3)])&&!_0x26e95b[_0x43ad06(0x1e3)][_0x43ad06(0x6ac)](_0x43ad06(0x1e7)))throw new g(_0x26e95b);let _0x183faf=await I[_0x43ad06(0x590)]({'owner':this[_0x43ad06(0x267)][_0x43ad06(0x62b)],'name':_0x51a07e[_0x43ad06(0x114)]});if(!_0x183faf)return this[_0x43ad06(0x6c0)][_0x43ad06(0x1ea)](this[_0x43ad06(0x1c4)]+'\x20('+this[_0x43ad06(0x267)]['wuid']+_0x43ad06(0x27e)),{'message':_0x43ad06(0x63b)};let _0x3ae110=await this[_0x43ad06(0x6a7)](_0x183faf,_0x26e95b[_0x43ad06(0x1e3)],_0x51a07e['changeVariables']);if(_0x3ae110){this[_0x43ad06(0x6c0)][_0x43ad06(0x5be)](this['instanceName']+'\x20('+this[_0x43ad06(0x267)][_0x43ad06(0x62b)]+_0x43ad06(0x1ac));let _0x2d2d7a=await this[_0x43ad06(0x296)](_0x3ae110);return _0x2d2d7a&&await this[_0x43ad06(0x68b)](_0x3ae110,_0x2d2d7a,_0x3ae110[_0x43ad06(0x1fc)]),{'message':_0x43ad06(0x11b)+_0x51a07e[_0x43ad06(0x1fc)]};}}catch(_0x3a67c5){if(this[_0x43ad06(0x6c0)][_0x43ad06(0x1ea)](this[_0x43ad06(0x1c4)]+'\x20('+this[_0x43ad06(0x267)][_0x43ad06(0x62b)]+_0x43ad06(0x666)+_0x3a67c5),_0x3a67c5&&_0x3a67c5[_0x43ad06(0x65d)]&&Array['isArray'](_0x3a67c5[_0x43ad06(0x65d)])&&_0x3a67c5['message'][0x0]){let {jid:_0x2c072b,exists:_0x1ece22}=_0x3a67c5[_0x43ad06(0x65d)][0x0];}throw new g(_0x43ad06(0x2f2)+_0x3a67c5[_0x43ad06(0x65d)]);}}async['closeExistingConversations'](_0x6b3407){const _0x167d68=a0_0xffba68;let _0x1c5199=await j['updateMany']({'owner':this[_0x167d68(0x267)][_0x167d68(0x62b)],'remoteJid':_0x6b3407,'status':_0x167d68(0x5df)},{'$set':{'status':_0x167d68(0x68f)}});return this[_0x167d68(0x6c0)][_0x167d68(0x5be)](this[_0x167d68(0x1c4)]+'\x20('+this['instance'][_0x167d68(0x62b)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.'),_0x1c5199;}async[a0_0xffba68(0x6a7)](_0x34d7bb,_0x1d3480,_0x3046aa){const _0x28d15a=a0_0xffba68;this[_0x28d15a(0x6c0)]['verbose'](this['instanceName']+'\x20('+this[_0x28d15a(0x267)]['wuid']+_0x28d15a(0x5b7)),await this[_0x28d15a(0x1a3)](_0x1d3480);try{let _0xd282fc=require('mongodb')['ObjectId'],_0x11c3c2=Date[_0x28d15a(0x2e7)](),_0x208bf3=_0x28d15a(0x508),_0x234364={},_0x43f977={},_0x4b0510={..._0x34d7bb[_0x28d15a(0x624)],'chatLog':null},_0x382512=await this[_0x28d15a(0x492)](_0x4b0510[_0x28d15a(0x5f3)]),_0x2b9dd9=await this[_0x28d15a(0x5a6)](_0x1d3480),_0x44b1aa={..._0x382512,..._0x2b9dd9,'_remoteJid':_0x1d3480},_0x3fe0e8={'lastReceivedMessage':_0x234364,'lastSendMessage':_0x43f977,'lastBlockId':_0x208bf3,'lastCondition':!0x0,'realVariables':_0x44b1aa};_0x4b0510[_0x28d15a(0x437)]=_0x3fe0e8,_0x4b0510[_0x28d15a(0x437)][_0x28d15a(0x6cf)]={..._0x44b1aa,..._0x3046aa},delete _0x4b0510[_0x28d15a(0x35f)],_0x4b0510[_0x28d15a(0x35f)]=new _0xd282fc(),_0x4b0510[_0x28d15a(0x5b1)]=_0x11c3c2,_0x4b0510[_0x28d15a(0x697)]=_0x28d15a(0x5df),_0x4b0510['remoteJid']=_0x1d3480;let _0xc54da3=await j[_0x28d15a(0x64e)](_0x4b0510);return this[_0x28d15a(0x6c0)]['verbose'](this[_0x28d15a(0x1c4)]+'\x20('+this['instance'][_0x28d15a(0x62b)]+_0x28d15a(0x2cd)),_0xc54da3?_0x4b0510:null;}catch(_0x4a6e0b){throw this[_0x28d15a(0x6c0)][_0x28d15a(0x1ea)](this[_0x28d15a(0x1c4)]+'\x20('+this[_0x28d15a(0x267)][_0x28d15a(0x62b)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+_0x4a6e0b),new g(_0x4a6e0b[_0x28d15a(0x65d)]);}}async[a0_0xffba68(0x188)](_0x2c0b79){const _0x37b6ea=a0_0xffba68;try{return this[_0x37b6ea(0x6c0)][_0x37b6ea(0x5be)](this['instanceName']+'\x20('+this[_0x37b6ea(0x267)][_0x37b6ea(0x62b)]+'):\x20Buscando\x20conversa...'),this[_0x37b6ea(0x6c0)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x37b6ea(0x62b)]+_0x37b6ea(0x51b)+{'owner':this[_0x37b6ea(0x267)][_0x37b6ea(0x62b)],'_id':_0x2c0b79}),await j[_0x37b6ea(0x590)]({'owner':this[_0x37b6ea(0x267)][_0x37b6ea(0x62b)],'_id':_0x2c0b79});}catch(_0x550839){throw this[_0x37b6ea(0x6c0)][_0x37b6ea(0x1ea)](this[_0x37b6ea(0x1c4)]+'\x20('+this[_0x37b6ea(0x267)][_0x37b6ea(0x62b)]+_0x37b6ea(0x6d2)+_0x550839),new g(_0x37b6ea(0x271)+_0x550839[_0x37b6ea(0x65d)]);}}async[a0_0xffba68(0x572)](_0x3deda3,_0x448a19=0x64){const _0xf7ae2e=a0_0xffba68;try{this[_0xf7ae2e(0x6c0)]['verbose'](this[_0xf7ae2e(0x1c4)]+'\x20('+this[_0xf7ae2e(0x267)]['wuid']+'):\x20Buscando\x20conversas...');let _0x299fcb={..._0x3deda3,'owner':this['instance'][_0xf7ae2e(0x62b)]};return this[_0xf7ae2e(0x6c0)]['verbose'](_0x299fcb),await j[_0xf7ae2e(0x59a)](_0x299fcb)['limit'](_0x448a19)[_0xf7ae2e(0x6c7)]({'lastInteraction':-0x1});}catch(_0x58224c){throw this[_0xf7ae2e(0x6c0)][_0xf7ae2e(0x1ea)](this[_0xf7ae2e(0x1c4)]+'\x20('+this[_0xf7ae2e(0x267)][_0xf7ae2e(0x62b)]+_0xf7ae2e(0x219)+_0x58224c),new g(_0xf7ae2e(0x4a5)+_0x58224c[_0xf7ae2e(0x65d)]);}}async[a0_0xffba68(0x561)](_0x2ac933){const _0x3fcaf=a0_0xffba68;try{return this[_0x3fcaf(0x6c0)]['verbose'](this['instanceName']+'\x20('+this[_0x3fcaf(0x267)][_0x3fcaf(0x62b)]+'):\x20Deletando\x20conversa...'),this['logger'][_0x3fcaf(0x5be)](this[_0x3fcaf(0x1c4)]+'\x20('+this[_0x3fcaf(0x267)][_0x3fcaf(0x62b)]+_0x3fcaf(0x51b)+{'owner':this[_0x3fcaf(0x267)][_0x3fcaf(0x62b)],'_id':_0x2ac933}),(await j['deleteOne']({'owner':this['instance'][_0x3fcaf(0x62b)],'_id':_0x2ac933}))[_0x3fcaf(0x2c1)]===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':_0x3fcaf(0x525)};}catch(_0x1b5c5d){throw this[_0x3fcaf(0x6c0)][_0x3fcaf(0x1ea)](this[_0x3fcaf(0x1c4)]+'\x20('+this[_0x3fcaf(0x267)][_0x3fcaf(0x62b)]+_0x3fcaf(0x385)+_0x1b5c5d),new g(_0x3fcaf(0x207)+_0x1b5c5d['message']);}}async[a0_0xffba68(0x313)](_0x364329){const _0x347b92=a0_0xffba68;try{let {_id:_0x32d8da,chatLog:_0x3582b7,status:_0x1111c6}=_0x364329;if(!_0x32d8da)return{'message':_0x347b92(0x398)};let _0x5997a4={};if(_0x1111c6!==void 0x0&&(_0x5997a4['status']=_0x1111c6),Object['keys'](_0x5997a4)[_0x347b92(0x26f)]===0x0)return{'message':_0x347b92(0x4e0)};let _0x594fc2=this[_0x347b92(0x267)][_0x347b92(0x62b)],_0x559a80=await j['findOneAndUpdate']({'_id':_0x32d8da,'owner':_0x594fc2},{'$set':_0x5997a4},{'new':!0x0});return _0x559a80||{'message':_0x347b92(0x51d)};}catch(_0x6db784){throw this['logger'][_0x347b92(0x1ea)](this[_0x347b92(0x1c4)]+'\x20('+this[_0x347b92(0x267)][_0x347b92(0x62b)]+'):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20'+_0x6db784),new g(_0x347b92(0x2a4)+_0x6db784[_0x347b92(0x65d)]);}}async[a0_0xffba68(0x30f)](_0x3687b8){const _0x1328b2=a0_0xffba68;try{_0x3687b8[_0x1328b2(0x35f)]=this[_0x1328b2(0x518)](_0x3687b8[_0x1328b2(0x35f)]);let {_id:_0x2628fe,leadInfo:_0x3d81aa}=_0x3687b8;if(!_0x2628fe)throw new Error(_0x1328b2(0x409));let _0x3074c9=(_0x1145bf,_0x547130,_0x53b1e8)=>{const _0x436a52=_0x1328b2;_0x53b1e8[_0x436a52(0x6d1)](_0x150979=>{const _0x550fa4=_0x436a52;_0x1145bf[_0x150979]!==void 0x0&&(_0x547130[_0x550fa4(0x33b)+_0x150979]=_0x1145bf[_0x150979]);});},_0x483053={};if(_0x3074c9(_0x3d81aa,_0x483053,['nome',_0x1328b2(0x5c7),_0x1328b2(0x5de),'cpf','status',_0x1328b2(0x22b),'tags',_0x1328b2(0x1e5),_0x1328b2(0x514)]),Array[_0x1328b2(0x51f)](_0x3d81aa[_0x1328b2(0x1fa)])&&(_0x483053[_0x1328b2(0x27f)]=_0x3d81aa[_0x1328b2(0x1fa)][_0x1328b2(0x326)](_0x23692b=>({'_id':_0x23692b[_0x1328b2(0x35f)],'value':_0x23692b[_0x1328b2(0x386)]}))),_0x3687b8[_0x1328b2(0x419)][_0x1328b2(0x6b7)]!==void 0x0&&(_0x483053[_0x1328b2(0x616)]=Number(_0x3687b8[_0x1328b2(0x419)][_0x1328b2(0x6b7)])),_0x3687b8[_0x1328b2(0x2b2)]!==void 0x0&&(_0x483053['unreadcount']=Number(_0x3687b8[_0x1328b2(0x2b2)])),Object[_0x1328b2(0x598)](_0x483053)[_0x1328b2(0x26f)]===0x0)throw new Error(_0x1328b2(0x4e0));let _0x4ba99a=this['instance'][_0x1328b2(0x62b)];if(!_0x4ba99a)throw new Error(_0x1328b2(0x11f));if(!await this[_0x1328b2(0x597)][_0x1328b2(0x474)][_0x1328b2(0x590)]({'where':{'_id':_0x3687b8[_0x1328b2(0x35f)],'owner':_0x4ba99a}})){let _0x570cf4=(await this[_0x1328b2(0x28e)]({'numbers':[_0x3687b8['_id']]}))[0x0];if(!_0x570cf4['exists']&&!(0x0,w[_0x1328b2(0x6a1)])(_0x570cf4[_0x1328b2(0x1e3)])&&!_0x570cf4[_0x1328b2(0x1e3)][_0x1328b2(0x6ac)](_0x1328b2(0x1e7)))throw new g(_0x570cf4);_0x3687b8[_0x1328b2(0x35f)]=_0x570cf4['jid'];}let _0x1ffe91=await this[_0x1328b2(0x597)]['chat']['updateOne']({'where':{'_id':_0x3687b8[_0x1328b2(0x35f)],'owner':_0x4ba99a}},_0x483053);return _0x1ffe91&&B(this['instanceName'],_0x1328b2(0x45c),{'chat':_0x1ffe91}),_0x1ffe91?(this['logger'][_0x1328b2(0x5be)](this['instanceName']+'\x20('+this[_0x1328b2(0x267)][_0x1328b2(0x62b)]+_0x1328b2(0x32e)+_0x1ffe91),_0x1ffe91):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x187230){throw this[_0x1328b2(0x6c0)][_0x1328b2(0x1ea)](this[_0x1328b2(0x1c4)]+'\x20('+this['instance']['wuid']+_0x1328b2(0x65b)+_0x187230),new g(_0x1328b2(0x5e0)+_0x187230[_0x1328b2(0x65d)]);}}async[a0_0xffba68(0x643)](_0x5aec40){const _0x2a5075=a0_0xffba68;let _0x4368d9=this[_0x2a5075(0x267)][_0x2a5075(0x62b)];try{let _0x4bef2b=await ae[_0x2a5075(0x241)](_0x4368d9);_0x4bef2b||(_0x4bef2b=new ae({'_id':_0x4368d9}),await _0x4bef2b['save']());let _0x14b5e6=_0x5aec40[_0x2a5075(0x35f)]?_0x4bef2b[_0x2a5075(0x4e3)][_0x2a5075(0x5bb)](_0x48778e=>_0x48778e['_id']===_0x5aec40[_0x2a5075(0x35f)]):-0x1;if(_0x5aec40['delete']&&_0x14b5e6>-0x1)_0x4bef2b[_0x2a5075(0x4e3)][_0x2a5075(0x24e)](_0x14b5e6,0x1);else{if(_0x14b5e6>-0x1){let _0x9aa736=_0x4bef2b[_0x2a5075(0x4e3)][_0x14b5e6];_0x5aec40[_0x2a5075(0x47d)]&&(_0x9aa736[_0x2a5075(0x47d)]=_0x5aec40[_0x2a5075(0x47d)]),_0x5aec40[_0x2a5075(0x114)]&&(_0x9aa736[_0x2a5075(0x114)]=_0x5aec40[_0x2a5075(0x114)]),_0x5aec40[_0x2a5075(0x5de)]&&(_0x9aa736[_0x2a5075(0x5de)]=_0x5aec40[_0x2a5075(0x5de)]),_0x5aec40[_0x2a5075(0x13a)]&&(_0x9aa736['role']=_0x5aec40[_0x2a5075(0x13a)]);}else _0x4bef2b[_0x2a5075(0x4e3)][_0x2a5075(0x55d)]({'_id':_0x5aec40[_0x2a5075(0x35f)]||new we[(_0x2a5075(0x58d))][(_0x2a5075(0x328))][(_0x2a5075(0x259))]()[_0x2a5075(0x4d7)](),'fone':_0x5aec40['fone'],'name':_0x5aec40['name'],'email':_0x5aec40['email'],'role':_0x5aec40[_0x2a5075(0x13a)]});}let _0x351495=await _0x4bef2b[_0x2a5075(0x5ff)]();return this[_0x2a5075(0x3e0)]=_0x351495,this[_0x2a5075(0x6c0)][_0x2a5075(0x5be)](this[_0x2a5075(0x1c4)]+'\x20('+this[_0x2a5075(0x267)][_0x2a5075(0x62b)]+_0x2a5075(0x5f8)),this['logger'][_0x2a5075(0x5be)](this[_0x2a5075(0x1c4)]+'\x20('+this[_0x2a5075(0x267)][_0x2a5075(0x62b)]+_0x2a5075(0x32e)+this['AutomateSystem']),_0x351495;}catch(_0x138126){throw this['logger'][_0x2a5075(0x1ea)](this[_0x2a5075(0x1c4)]+'\x20('+this[_0x2a5075(0x267)][_0x2a5075(0x62b)]+_0x2a5075(0x56e)+_0x138126),new g(_0x2a5075(0x250)+_0x138126[_0x2a5075(0x65d)]);}}async['updateCustomFields'](_0x5a52fe){const _0x390285=a0_0xffba68;let _0x5a9ca0=this[_0x390285(0x267)][_0x390285(0x62b)];try{let _0x11076e=await ae['findById'](_0x5a9ca0);_0x11076e||(_0x11076e=new ae({'_id':_0x5a9ca0}),await _0x11076e[_0x390285(0x5ff)]());let _0x5daffb=_0x5a52fe[_0x390285(0x35f)]?_0x11076e[_0x390285(0x1fa)][_0x390285(0x5bb)](_0x5b6fc7=>_0x5b6fc7[_0x390285(0x35f)]===_0x5a52fe['_id']):-0x1,_0x8f837a=!0x1,_0x5d46ee=_0x11076e[_0x390285(0x1fa)][_0x390285(0x1f2)](_0x1d0558=>_0x1d0558['order']===_0x5a52fe['order']);if(_0x5a52fe['delete']&&_0x5daffb>-0x1)_0x11076e[_0x390285(0x1fa)]['splice'](_0x5daffb,0x1),_0x8f837a=!0x0;else{if(_0x5daffb>-0x1){if(_0x11076e[_0x390285(0x1fa)][_0x390285(0x1f2)](_0x564835=>_0x564835[_0x390285(0x114)]===_0x5a52fe[_0x390285(0x114)]&&_0x564835[_0x390285(0x35f)]!==_0x5a52fe['_id']))throw new Error(_0x390285(0x191));let _0xc85df4=_0x11076e[_0x390285(0x1fa)][_0x5daffb];_0x5a52fe[_0x390285(0x3c8)]&&(_0x5d46ee||!Number[_0x390285(0x58e)](_0x5a52fe[_0x390285(0x3c8)]))&&(_0xc85df4[_0x390285(0x3c8)]=_0x5a52fe[_0x390285(0x3c8)],_0x8f837a=!0x0),_0x5a52fe[_0x390285(0x114)]&&(_0xc85df4['name']=_0x5a52fe[_0x390285(0x114)]);}else{if(_0x11076e[_0x390285(0x1fa)][_0x390285(0x1f2)](_0x274be8=>_0x274be8[_0x390285(0x114)]===_0x5a52fe[_0x390285(0x114)]&&_0x274be8[_0x390285(0x35f)]!==_0x5a52fe['_id']))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x11076e[_0x390285(0x1fa)][_0x390285(0x55d)]({'_id':_0x5a52fe[_0x390285(0x35f)]||new we[(_0x390285(0x58d))][(_0x390285(0x328))][(_0x390285(0x259))]()[_0x390285(0x4d7)](),'order':_0x5a52fe[_0x390285(0x3c8)],'name':_0x5a52fe[_0x390285(0x114)]}),_0x8f837a=!0x0;}}if(_0x8f837a){_0x11076e['customFields'][_0x390285(0x6c7)]((_0x229a05,_0x32d3f4)=>_0x229a05['order']>_0x32d3f4[_0x390285(0x3c8)]?0x1:_0x32d3f4[_0x390285(0x3c8)]>_0x229a05[_0x390285(0x3c8)]?-0x1:0x0);for(let _0x5e59d7=0x0;_0x5e59d7<_0x11076e[_0x390285(0x1fa)][_0x390285(0x26f)];_0x5e59d7++)_0x11076e[_0x390285(0x1fa)][_0x5e59d7][_0x390285(0x3c8)]=_0x5e59d7+0x1;}let _0x1ba011=await _0x11076e['save']();return this[_0x390285(0x3e0)]=_0x1ba011,this['logger'][_0x390285(0x5be)](this[_0x390285(0x1c4)]+'\x20('+this[_0x390285(0x267)]['wuid']+_0x390285(0x224)),this['logger'][_0x390285(0x5be)](this[_0x390285(0x1c4)]+'\x20('+this[_0x390285(0x267)][_0x390285(0x62b)]+_0x390285(0x32e)+this['AutomateSystem']),_0x1ba011;}catch(_0x29bfbe){throw this[_0x390285(0x6c0)][_0x390285(0x1ea)](this[_0x390285(0x1c4)]+'\x20('+this[_0x390285(0x267)]['wuid']+_0x390285(0x44f)+_0x29bfbe),new g(_0x390285(0x329)+_0x29bfbe[_0x390285(0x65d)]);}}async[a0_0xffba68(0x6b9)](_0x25e5fe){const _0x1dfa35=a0_0xffba68;let _0x105d54=this['instance'][_0x1dfa35(0x62b)];try{let _0x38c14a=await ae[_0x1dfa35(0x241)](_0x105d54);_0x38c14a||(_0x38c14a=new ae({'_id':_0x105d54}),await _0x38c14a[_0x1dfa35(0x5ff)]()),_0x38c14a[_0x1dfa35(0x354)][_0x1dfa35(0x175)]=_0x25e5fe?.[_0x1dfa35(0x175)]!==void 0x0?_0x25e5fe?.[_0x1dfa35(0x175)]:_0x38c14a['flowConfig'][_0x1dfa35(0x175)],_0x38c14a['flowConfig'][_0x1dfa35(0x1e2)]=_0x25e5fe?.[_0x1dfa35(0x1e2)]!==void 0x0?_0x25e5fe?.[_0x1dfa35(0x1e2)]:_0x38c14a[_0x1dfa35(0x354)][_0x1dfa35(0x1e2)],_0x38c14a[_0x1dfa35(0x354)][_0x1dfa35(0x4a8)]=_0x25e5fe?.[_0x1dfa35(0x4a8)]??_0x38c14a[_0x1dfa35(0x354)][_0x1dfa35(0x4a8)],_0x38c14a[_0x1dfa35(0x354)][_0x1dfa35(0x571)]=_0x25e5fe?.[_0x1dfa35(0x571)]??_0x38c14a[_0x1dfa35(0x354)][_0x1dfa35(0x571)],_0x38c14a[_0x1dfa35(0x354)][_0x1dfa35(0x3ad)]=_0x25e5fe?.[_0x1dfa35(0x3ad)]??_0x38c14a[_0x1dfa35(0x354)][_0x1dfa35(0x3ad)];let _0x495987=await _0x38c14a[_0x1dfa35(0x5ff)]();return this[_0x1dfa35(0x3e0)]=_0x495987,this['logger'][_0x1dfa35(0x5be)](this['instanceName']+'\x20('+this[_0x1dfa35(0x267)][_0x1dfa35(0x62b)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x1dfa35(0x6c0)]['verbose'](this['instanceName']+'\x20('+this[_0x1dfa35(0x267)][_0x1dfa35(0x62b)]+'):\x20'+this[_0x1dfa35(0x3e0)]),_0x495987;}catch(_0x2cdd66){throw this['logger'][_0x1dfa35(0x1ea)](this[_0x1dfa35(0x1c4)]+'\x20('+this['instance'][_0x1dfa35(0x62b)]+_0x1dfa35(0x56e)+_0x2cdd66),new g(_0x1dfa35(0x250)+_0x2cdd66[_0x1dfa35(0x65d)]);}}async[a0_0xffba68(0x6af)](){const _0x40af73=a0_0xffba68;let _0x8ce67a=this[_0x40af73(0x267)]['wuid'];try{let _0x18a5bf=await ae[_0x40af73(0x241)](_0x8ce67a);return _0x18a5bf||(_0x18a5bf=new ae({'_id':_0x8ce67a})),_0x18a5bf[_0x40af73(0x354)]=_0x18a5bf[_0x40af73(0x354)]||{},_0x18a5bf[_0x40af73(0x354)]['enabled']===void 0x0&&(_0x18a5bf[_0x40af73(0x354)][_0x40af73(0x175)]=!0x1),_0x18a5bf[_0x40af73(0x354)]['ignoreGroups']===void 0x0&&(_0x18a5bf[_0x40af73(0x354)][_0x40af73(0x1e2)]=!0x0),_0x18a5bf[_0x40af73(0x354)][_0x40af73(0x4a8)]===void 0x0&&(_0x18a5bf[_0x40af73(0x354)][_0x40af73(0x4a8)]='!'),_0x18a5bf['flowConfig'][_0x40af73(0x571)]===void 0x0&&(_0x18a5bf[_0x40af73(0x354)]['stopConversation']='!stop'),_0x18a5bf['flowConfig'][_0x40af73(0x3ad)]===void 0x0&&(_0x18a5bf[_0x40af73(0x354)]['stopMinutes']=0x14),await _0x18a5bf[_0x40af73(0x5ff)](),this[_0x40af73(0x3e0)]=_0x18a5bf,this[_0x40af73(0x6c0)]['verbose'](this[_0x40af73(0x1c4)]+'\x20('+this['instance'][_0x40af73(0x62b)]+'):\x20Visualizando\x20AutomateSystem'),this[_0x40af73(0x6c0)]['verbose'](this[_0x40af73(0x3e0)]),_0x18a5bf;}catch(_0x54030){throw this[_0x40af73(0x6c0)][_0x40af73(0x1ea)](this[_0x40af73(0x1c4)]+'\x20('+this[_0x40af73(0x267)][_0x40af73(0x62b)]+_0x40af73(0x4d3)+_0x54030[_0x40af73(0x65d)]),new g(_0x40af73(0x53d)+_0x54030[_0x40af73(0x65d)]);}}async['scheduleNextCheck'](){const _0x288020=a0_0xffba68;let _0x1a0c99=()=>{const _0x48dbb1=a0_0xef6d;this[_0x48dbb1(0x6c0)][_0x48dbb1(0x5be)](this['instanceName']+'\x20('+this['instance'][_0x48dbb1(0x62b)]+_0x48dbb1(0x1bc)+this[_0x48dbb1(0x4ee)]+_0x48dbb1(0x5cf));},_0x3f5ae2=async()=>{const _0x34f32e=a0_0xef6d;this[_0x34f32e(0x6c0)][_0x34f32e(0x5be)](this[_0x34f32e(0x1c4)]+'\x20('+this[_0x34f32e(0x267)]['wuid']+'):\x20Procurando\x20mensagens\x20para\x20envio');let _0x707e75=Date[_0x34f32e(0x2e7)]()-0xc*0x3c*0x3c*0x3e8;return await L[_0x34f32e(0x59a)]({'owner':this[_0x34f32e(0x267)][_0x34f32e(0x62b)],'status':{'$in':[_0x34f32e(0x5a9),'sending']},'$or':[{'when':{'$lte':Date[_0x34f32e(0x2e7)](),'$gte':_0x707e75}},{'when':0x0}]});},_0x5e1fa2=async _0x7f01b=>{const _0x211c42=a0_0xef6d;for(let _0x123ac5 of _0x7f01b){if(!await L[_0x211c42(0x15b)]({'_id':_0x123ac5['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x211c42(0x2e7)]()-0x1770}}]},{'$set':{'startSend':Date[_0x211c42(0x2e7)]()}}))return;if(!this[_0x211c42(0x645)]){this[_0x211c42(0x6c0)][_0x211c42(0x5be)](this[_0x211c42(0x1c4)]+'\x20('+this[_0x211c42(0x267)][_0x211c42(0x62b)]+_0x211c42(0x489));break;}(!_0x123ac5[_0x211c42(0x17c)]||_0x123ac5['remoteJidsRemaining']['length']===0x0)&&(_0x123ac5=await L[_0x211c42(0x2c6)](_0x123ac5['_id'],{'$set':{'status':'sending','remoteJidsRemaining':[..._0x123ac5[_0x211c42(0x496)]]}},{'new':!0x0}));for(let _0x12907f of _0x123ac5[_0x211c42(0x17c)]){if(this[_0x211c42(0x477)]=Date[_0x211c42(0x2e7)](),_0x123ac5[_0x211c42(0x131)]['some'](_0x4829f8=>_0x4829f8[_0x211c42(0x1fc)]===_0x12907f)){this[_0x211c42(0x6c0)]['verbose'](this['instanceName']+'\x20('+this[_0x211c42(0x267)][_0x211c42(0x62b)]+_0x211c42(0x1c8)+_0x12907f+_0x211c42(0x2c5));continue;}try{let _0x195458=await this['SendScheduleMessage'](_0x12907f,_0x123ac5),_0x57d113={'remoteJid':_0x12907f,'error':_0x195458[_0x211c42(0x1ea)],'id':_0x195458['id']||null,'error_log':_0x195458[_0x211c42(0x2e9)]||null,'log_timestamp':Date['now']()};if((await L[_0x211c42(0x2c6)](_0x123ac5[_0x211c42(0x35f)],{'$push':{'messagesSend':_0x57d113},'$pull':{'remoteJidsRemaining':_0x12907f}},{'new':!0x0}))[_0x211c42(0x697)]===_0x211c42(0x3f6)){this[_0x211c42(0x6c0)][_0x211c42(0x5be)](this['instanceName']+'\x20('+this[_0x211c42(0x267)][_0x211c42(0x62b)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x123ac5[_0x211c42(0x35f)]+_0x211c42(0x43d));break;}if(!this['isConnected']){this[_0x211c42(0x6c0)]['verbose'](this[_0x211c42(0x1c4)]+'\x20('+this['instance'][_0x211c42(0x62b)]+_0x211c42(0x672));break;}if(!this[_0x211c42(0x4ee)]){this[_0x211c42(0x6c0)]['verbose'](this[_0x211c42(0x1c4)]+'\x20('+this['instance'][_0x211c42(0x62b)]+_0x211c42(0x116)+_0x123ac5[_0x211c42(0x35f)]+_0x211c42(0x363));break;}let _0x1505a7=this[_0x211c42(0x680)](_0x123ac5[_0x211c42(0x4eb)],_0x123ac5[_0x211c42(0x485)]);await this[_0x211c42(0x263)](_0x1505a7);}catch(_0x217d2c){this[_0x211c42(0x6c0)][_0x211c42(0x1ea)](this[_0x211c42(0x1c4)]+'\x20('+this[_0x211c42(0x267)][_0x211c42(0x62b)]+_0x211c42(0x5fd)+_0x12907f+':\x20'+_0x217d2c[_0x211c42(0x65d)]);let _0xe5d4d2={'remoteJid':_0x12907f,'status':'error','timestamp':Date[_0x211c42(0x2e7)](),'error':_0x217d2c[_0x211c42(0x65d)]};await L[_0x211c42(0x2c6)](_0x123ac5[_0x211c42(0x35f)],{'$push':{'messagesSend':_0xe5d4d2},'$pull':{'remoteJidsRemaining':_0x12907f}},{'new':!0x0});}}let _0x442a04=await L[_0x211c42(0x241)](_0x123ac5[_0x211c42(0x35f)]);_0x442a04[_0x211c42(0x17c)][_0x211c42(0x26f)]===0x0&&_0x442a04[_0x211c42(0x697)]!=='stopped'&&await L[_0x211c42(0x2c6)](_0x123ac5[_0x211c42(0x35f)],{'$set':{'status':'done'}},{'new':!0x0}),await new Promise(_0x1fe4b5=>setTimeout(_0x1fe4b5,0x1388));}},_0x5e7774=async()=>{const _0x2c9883=a0_0xef6d;let _0x353e6e=await L[_0x2c9883(0x590)]({'owner':this[_0x2c9883(0x267)][_0x2c9883(0x62b)],'status':_0x2c9883(0x5a9),'when':{'$gt':Date[_0x2c9883(0x2e7)]()}})[_0x2c9883(0x6c7)]({'when':0x1});_0x353e6e&&_0x353e6e[_0x2c9883(0x60f)]-Date[_0x2c9883(0x2e7)]()<=0x5265c00?this[_0x2c9883(0x4ed)]=_0x353e6e[_0x2c9883(0x60f)]-Date['now']():this['delayMessage']=(0x3c+Math[_0x2c9883(0x44b)](Math[_0x2c9883(0x4e5)]()*0x3c))*0x3c*0x3e8,this[_0x2c9883(0x4ed)]=Math[_0x2c9883(0x266)](this[_0x2c9883(0x4ed)],0x7d0);let _0x572a1d=Math[_0x2c9883(0x2c3)](this[_0x2c9883(0x4ed)]/0xea60);if(_0x353e6e){let _0x1a1e20=new Date(_0x353e6e[_0x2c9883(0x60f)])[_0x2c9883(0x532)]();this['logger']['verbose'](this[_0x2c9883(0x1c4)]+'\x20('+this[_0x2c9883(0x267)]['wuid']+'):\x20encontrado\x20próxima\x20mensagem\x20para\x20'+_0x1a1e20+_0x2c9883(0x148)+_0x572a1d+'\x20minutos');}else this[_0x2c9883(0x6c0)][_0x2c9883(0x5be)](this[_0x2c9883(0x1c4)]+'\x20('+this[_0x2c9883(0x267)]['wuid']+_0x2c9883(0x31d)+_0x572a1d+_0x2c9883(0x458));setTimeout(()=>this['scheduleNextCheck'](),this[_0x2c9883(0x4ed)]);};if(this[_0x288020(0x4ee)]&&Date[_0x288020(0x2e7)]()-this[_0x288020(0x477)]<0x1d4c0){_0x1a0c99();return;}try{let _0x58765f=await _0x3f5ae2();_0x58765f[_0x288020(0x26f)]===0x0?this[_0x288020(0x6c0)][_0x288020(0x5be)](this[_0x288020(0x1c4)]+'\x20('+this['instance'][_0x288020(0x62b)]+_0x288020(0x498)):(this['processingScheduleMessageId']=_0x58765f[0x0][_0x288020(0x35f)],await _0x5e1fa2(_0x58765f)),await _0x5e7774(),this[_0x288020(0x4ee)]=null;}catch(_0xdb918d){this[_0x288020(0x6c0)][_0x288020(0x1ea)](_0x288020(0x121)+_0xdb918d[_0x288020(0x65d)]);}}[a0_0xffba68(0x680)](_0x2e3411,_0x18729b){const _0x50d6d1=a0_0xffba68;return _0x2e3411=Math[_0x50d6d1(0x266)](0.5,_0x2e3411),_0x18729b=Math[_0x50d6d1(0x266)](0x3,_0x18729b),Math[_0x50d6d1(0x44b)](Math[_0x50d6d1(0x4e5)]()*(_0x18729b-_0x2e3411+0x1)+_0x2e3411)*0x3e8;}['sleep'](_0x42a1c3){return new Promise(_0x29f030=>setTimeout(_0x29f030,_0x42a1c3));}async[a0_0xffba68(0x5a6)](_0x47531e){const _0x4f045d=a0_0xffba68;if(!this[_0x4f045d(0x3e0)]&&(await this[_0x4f045d(0x6af)](),!this[_0x4f045d(0x3e0)]))return null;_0x47531e=this['createJid'](_0x47531e);let _0x25c001=await this['repository']['chat'][_0x4f045d(0x590)]({'where':{'_id':_0x47531e,'owner':this[_0x4f045d(0x267)][_0x4f045d(0x62b)]}}),_0x3b50a2={};if(_0x25c001&&_0x25c001[_0x4f045d(0x419)]){let _0x583fa3=_0x25c001['leadInfo'];typeof _0x583fa3[_0x4f045d(0x4b3)]==_0x4f045d(0x27a)&&(_0x3b50a2[_0x4f045d(0x4b3)]=_0x583fa3['nome']),typeof _0x583fa3['nomecompleto']=='string'&&(_0x3b50a2['nomecompleto']=_0x583fa3['nomecompleto']),typeof _0x583fa3[_0x4f045d(0x5de)]=='string'&&(_0x3b50a2[_0x4f045d(0x5de)]=_0x583fa3[_0x4f045d(0x5de)]),typeof _0x583fa3[_0x4f045d(0x6a9)]==_0x4f045d(0x27a)&&(_0x3b50a2[_0x4f045d(0x6a9)]=_0x583fa3[_0x4f045d(0x6a9)]),typeof _0x583fa3[_0x4f045d(0x697)]==_0x4f045d(0x27a)&&(_0x3b50a2['status']=_0x583fa3[_0x4f045d(0x697)]),typeof _0x583fa3[_0x4f045d(0x22b)]=='string'&&(_0x3b50a2[_0x4f045d(0x22b)]=_0x583fa3[_0x4f045d(0x22b)]),typeof _0x583fa3[_0x4f045d(0x514)]==_0x4f045d(0x27a)&&(_0x3b50a2[_0x4f045d(0x514)]=_0x583fa3['responsavelid']),Array[_0x4f045d(0x51f)](_0x583fa3[_0x4f045d(0x125)])&&(_0x3b50a2[_0x4f045d(0x125)]=_0x583fa3[_0x4f045d(0x125)]['join'](',\x20'));}return _0x25c001&&_0x25c001[_0x4f045d(0x419)]&&_0x25c001['leadInfo']['customFields']&&_0x25c001[_0x4f045d(0x419)][_0x4f045d(0x1fa)]['forEach'](_0x473655=>{const _0xfdc2a8=_0x4f045d;let _0x39c533=this['AutomateSystem']?.[_0xfdc2a8(0x1fa)][_0xfdc2a8(0x59a)](_0x10e1cb=>_0x10e1cb['_id']===_0x473655['_id']);_0x39c533&&(_0x3b50a2[_0x39c533[_0xfdc2a8(0x114)]]=_0x473655[_0xfdc2a8(0x386)]);}),_0x3b50a2;}async[a0_0xffba68(0x621)](_0x27e849,_0x22c43c){const _0xccd774=a0_0xffba68;let _0x791eb0=await this[_0xccd774(0x5a6)](_0x22c43c);return this[_0xccd774(0x39c)](_0x27e849,_0x791eb0);}async[a0_0xffba68(0x127)](_0x3afc11){const _0x431aa8=a0_0xffba68;try{if(this[_0x431aa8(0x6c0)][_0x431aa8(0x5be)](this[_0x431aa8(0x1c4)]+'\x20('+this[_0x431aa8(0x267)][_0x431aa8(0x62b)]+_0x431aa8(0x1a0)),_0x3afc11['delete']&&_0x3afc11['_id']){if(this['processingScheduleMessageId']===_0x3afc11[_0x431aa8(0x35f)][_0x431aa8(0x4d7)]())throw new Error(_0x431aa8(0x1ff));let _0x31c1c5=await L['findByIdAndDelete'](_0x3afc11[_0x431aa8(0x35f)]);return setTimeout(()=>this[_0x431aa8(0x54c)](),0x7d0),_0x31c1c5;}let _0x9f0625;if(_0x3afc11[_0x431aa8(0x35f)]&&(_0x9f0625=await L[_0x431aa8(0x590)]({'owner':this[_0x431aa8(0x267)][_0x431aa8(0x62b)],'_id':_0x3afc11['_id']})),_0x9f0625){let _0x30db0c=_0x3afc11;this['processingScheduleMessageId']===_0x9f0625['_id']['toString']()&&(_0x30db0c={'status':_0x3afc11['status'],'_id':_0x3afc11[_0x431aa8(0x35f)]});let _0x414436=await L[_0x431aa8(0x2c6)](_0x9f0625['_id'],{'$set':_0x30db0c},{'new':!0x0});return setTimeout(()=>this[_0x431aa8(0x54c)](),0x7d0),_0x414436;}else{_0x3afc11[_0x431aa8(0x1e6)]=this[_0x431aa8(0x267)]['wuid'];let _0x160990=await new L(_0x3afc11)[_0x431aa8(0x5ff)]();return setTimeout(()=>this[_0x431aa8(0x54c)](),0x7d0),_0x160990;}}catch(_0x3bb1b4){throw this[_0x431aa8(0x6c0)][_0x431aa8(0x1ea)](this['instanceName']+'\x20('+this[_0x431aa8(0x267)][_0x431aa8(0x62b)]+_0x431aa8(0x4cb)+_0x3bb1b4),new g(_0x431aa8(0x4fc)+_0x3bb1b4['message']);}}async['getScheduleMessage'](){const _0x460017=a0_0xffba68;try{return await L[_0x460017(0x59a)]({'owner':this['instance']['wuid']})['sort']({'when':0x1});}catch(_0x12fb2f){throw this[_0x460017(0x6c0)]['error'](this[_0x460017(0x1c4)]+'\x20('+this[_0x460017(0x267)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:'+_0x12fb2f),new g(_0x460017(0x4fc)+_0x12fb2f['message']);}}async[a0_0xffba68(0x432)](){const _0x33aa60=a0_0xffba68;try{return await L['deleteMany']({'owner':this[_0x33aa60(0x267)][_0x33aa60(0x62b)],'status':_0x33aa60(0x68d)}),this['logger'][_0x33aa60(0x5be)](this[_0x33aa60(0x1c4)]+'\x20('+this[_0x33aa60(0x267)][_0x33aa60(0x62b)]+_0x33aa60(0x639)),this[_0x33aa60(0x671)]();}catch(_0x59e628){throw this[_0x33aa60(0x6c0)][_0x33aa60(0x1ea)](this[_0x33aa60(0x1c4)]+'\x20('+this[_0x33aa60(0x267)][_0x33aa60(0x62b)]+_0x33aa60(0x47a)+_0x59e628),new g(_0x33aa60(0x4fc)+_0x59e628['message']);}}async[a0_0xffba68(0x3e5)](_0x2c0454,_0x41f500){const _0x30cf55=a0_0xffba68;try{switch(_0x41f500['type']){case _0x30cf55(0x1d5):return await this[_0x30cf55(0x413)](_0x41f500,_0x2c0454);case _0x30cf55(0x1dd):return await this[_0x30cf55(0x146)](_0x41f500,_0x2c0454);case _0x30cf55(0x3f8):return await this[_0x30cf55(0x200)](_0x41f500,_0x2c0454);default:return this[_0x30cf55(0x6c0)][_0x30cf55(0x1ea)](this[_0x30cf55(0x1c4)]+'\x20('+this[_0x30cf55(0x267)][_0x30cf55(0x62b)]+_0x30cf55(0x308)+_0x41f500[_0x30cf55(0x4b8)]),{'status':_0x30cf55(0x1ea),'detail':'Comando\x20desconhecido'};}}catch(_0x5da41c){return this[_0x30cf55(0x6c0)]['error'](this['instanceName']+'\x20('+this['instance'][_0x30cf55(0x62b)]+_0x30cf55(0x551)+_0x5da41c),{'status':_0x30cf55(0x1ea),'detail':_0x5da41c[_0x30cf55(0x65d)]};}}[a0_0xffba68(0x41a)](_0x2917f3){const _0x2a6e29=a0_0xffba68;let _0x5c4cef=_0x2917f3[_0x2a6e29(0x6b6)]('|'),_0x3c0bf4=Math[_0x2a6e29(0x44b)](Math['random']()*_0x5c4cef['length']);return _0x5c4cef[_0x3c0bf4][_0x2a6e29(0x164)]();}async['scheduleSendText'](_0x179062,_0x510b59){const _0x2b2ff5=a0_0xffba68;if(this[_0x2b2ff5(0x6c0)][_0x2b2ff5(0x5be)](this[_0x2b2ff5(0x1c4)]+'\x20('+this[_0x2b2ff5(0x267)]['wuid']+'):\x20Enviando\x20texto'),!_0x179062[_0x2b2ff5(0x65d)][_0x2b2ff5(0x1d5)]||_0x179062['message'][_0x2b2ff5(0x1d5)]['length']===0x0)return{'error':!0x0,'error_log':_0x2b2ff5(0x4b2)};let _0x1b95e7=this['getRandomText'](_0x179062[_0x2b2ff5(0x65d)][_0x2b2ff5(0x1d5)]),_0x34d720=await this['replaceVariablesChat'](_0x1b95e7,_0x510b59),_0x1c4c11={'number':_0x510b59,'options':{'delay':_0x179062[_0x2b2ff5(0x65d)][_0x2b2ff5(0x622)]},'textMessage':{'text':_0x34d720}},_0x54d807=null;try{let _0xa2ef5c=await this[_0x2b2ff5(0x475)](_0x1c4c11);if(_0xa2ef5c&&_0xa2ef5c['status'])return{'error':!0x1,'id':_0xa2ef5c[_0x2b2ff5(0x253)]['id']};_0x54d807=JSON[_0x2b2ff5(0x4df)](_0xa2ef5c),this[_0x2b2ff5(0x6c0)][_0x2b2ff5(0x5be)](this[_0x2b2ff5(0x1c4)]+'\x20('+this[_0x2b2ff5(0x267)][_0x2b2ff5(0x62b)]+_0x2b2ff5(0x32e)+_0x54d807);}catch(_0xbb3574){this[_0x2b2ff5(0x6c0)][_0x2b2ff5(0x1ea)](this[_0x2b2ff5(0x1c4)]+'\x20('+this[_0x2b2ff5(0x267)][_0x2b2ff5(0x62b)]+_0x2b2ff5(0x143)+_0xbb3574),_0x54d807=_0xbb3574[_0x2b2ff5(0x65d)];}if(_0x54d807)return{'error':!0x0,'error_log':(typeof _0x54d807==_0x2b2ff5(0x66a)?JSON[_0x2b2ff5(0x4df)](_0x54d807,null,0x2):_0x54d807)[_0x2b2ff5(0x4ad)](/[\[\]{}\n]/g,'\x20')[_0x2b2ff5(0x4ad)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x5f1c1f,_0x48972c){const _0x1d2854=a0_0xffba68;this[_0x1d2854(0x6c0)][_0x1d2854(0x5be)](this[_0x1d2854(0x1c4)]+'\x20('+this[_0x1d2854(0x267)][_0x1d2854(0x62b)]+_0x1d2854(0x25a));let _0x30eb6f;if(_0x5f1c1f['message'][_0x1d2854(0x1d5)]&&_0x5f1c1f[_0x1d2854(0x65d)][_0x1d2854(0x1d5)][_0x1d2854(0x26f)]>0x0){let _0x1829fc=this[_0x1d2854(0x41a)](_0x5f1c1f[_0x1d2854(0x65d)][_0x1d2854(0x1d5)]);_0x30eb6f=await this['replaceVariablesChat'](_0x1829fc,_0x48972c);}let _0x2b08f1={'number':_0x48972c,'options':{'delay':_0x5f1c1f['message']['delay']},'mediaMessage':{'mediatype':_0x5f1c1f['message'][_0x1d2854(0x56a)],'caption':_0x30eb6f,'media':_0x5f1c1f[_0x1d2854(0x65d)][_0x1d2854(0x3f1)]}},_0x312024=null;try{let _0x629541=await this['mediaMessage'](_0x2b08f1);if(_0x629541&&_0x629541[_0x1d2854(0x697)])return{'error':!0x1,'id':_0x629541[_0x1d2854(0x253)]['id']};_0x312024=JSON[_0x1d2854(0x4df)](_0x629541),this[_0x1d2854(0x6c0)]['verbose'](this[_0x1d2854(0x1c4)]+'\x20('+this['instance'][_0x1d2854(0x62b)]+_0x1d2854(0x32e)+_0x312024);}catch(_0x186b79){this[_0x1d2854(0x6c0)]['error'](this[_0x1d2854(0x1c4)]+'\x20('+this[_0x1d2854(0x267)][_0x1d2854(0x62b)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:'+_0x186b79[_0x1d2854(0x65d)]),_0x312024=_0x186b79[_0x1d2854(0x65d)];}if(_0x312024)return{'error':!0x0,'error_log':(typeof _0x312024==_0x1d2854(0x66a)?JSON['stringify'](_0x312024,null,0x2):_0x312024)[_0x1d2854(0x4ad)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0xffba68(0x200)](_0x4863c8,_0x1e3195){const _0x45a2f1=a0_0xffba68;this[_0x45a2f1(0x6c0)][_0x45a2f1(0x5be)](this[_0x45a2f1(0x1c4)]+'\x20('+this[_0x45a2f1(0x267)][_0x45a2f1(0x62b)]+_0x45a2f1(0x4dc));let _0x5be5ce={'number':_0x1e3195,'options':{'delay':_0x4863c8[_0x45a2f1(0x65d)][_0x45a2f1(0x622)]},'audioMessage':{'audio':_0x4863c8[_0x45a2f1(0x65d)][_0x45a2f1(0x3f1)]}},_0x5f4f27=null;try{let _0x456a49=await this[_0x45a2f1(0x552)](_0x5be5ce);if(_0x456a49&&_0x456a49[_0x45a2f1(0x697)])return{'error':!0x1,'id':_0x456a49[_0x45a2f1(0x253)]['id']};_0x5f4f27=JSON[_0x45a2f1(0x4df)](_0x456a49),this[_0x45a2f1(0x6c0)][_0x45a2f1(0x5be)](this[_0x45a2f1(0x1c4)]+'\x20('+this[_0x45a2f1(0x267)]['wuid']+_0x45a2f1(0x32e)+_0x5f4f27);}catch(_0x2e31e8){this[_0x45a2f1(0x6c0)]['error'](this[_0x45a2f1(0x1c4)]+'\x20('+this[_0x45a2f1(0x267)][_0x45a2f1(0x62b)]+_0x45a2f1(0x3c7)+_0x2e31e8),_0x5f4f27=_0x2e31e8[_0x45a2f1(0x65d)];}if(_0x5f4f27)return{'error':!0x0,'error_log':(typeof _0x5f4f27==_0x45a2f1(0x66a)?JSON['stringify'](_0x5f4f27,null,0x2):_0x5f4f27)[_0x45a2f1(0x4ad)](/[\[\]{}\n]/g,'\x20')[_0x45a2f1(0x4ad)](/  +/g,'\x20')};}},be=require(a0_0xffba68(0x242)),_t=class c{constructor(_0x2748be,_0x53dc5,_0x1299fd){const _0x34e5ea=a0_0xffba68;this[_0x34e5ea(0x248)]=_0x2748be,this['configService']=_0x53dc5,this[_0x34e5ea(0x597)]=_0x1299fd,this['db']={},this[_0x34e5ea(0x12a)]={},this['logger']=new N(c['name']),this['waInstances']={},(this[_0x34e5ea(0x4c8)](),this['noConnection'](),this[_0x34e5ea(0x4c1)](),Object['assign'](this['db'],_0x53dc5[_0x34e5ea(0x4e4)](_0x34e5ea(0x3e4))),Object[_0x34e5ea(0x63e)](this[_0x34e5ea(0x12a)],_0x53dc5['get'](_0x34e5ea(0x276))),this['dbInstance']=this['db'][_0x34e5ea(0x47f)]?this[_0x34e5ea(0x597)][_0x34e5ea(0x3d7)]?.['db'](this['db'][_0x34e5ea(0x4e7)]['DB_PREFIX_NAME']+'-instances'):void 0x0,this[_0x34e5ea(0x204)]=this['redis'][_0x34e5ea(0x47f)]?new fe(this['redis']):void 0x0);}[a0_0xffba68(0x304)](_0x41fbce){const _0x347f4c=a0_0xffba68;let _0x48baeb=this[_0x347f4c(0x1e8)]['get'](_0x347f4c(0x5e3));typeof _0x48baeb==_0x347f4c(0x415)&&_0x48baeb>0x0&&setTimeout(()=>{const _0x581ab0=_0x347f4c;this[_0x581ab0(0x5e7)][_0x41fbce]?.[_0x581ab0(0x256)]?.[_0x581ab0(0x4d1)]!==_0x581ab0(0x5df)&&delete this[_0x581ab0(0x5e7)][_0x41fbce];},0x3e8*0x3c*_0x48baeb);}async[a0_0xffba68(0x3d5)](_0x512d10){const _0x437940=a0_0xffba68;if(_0x512d10&&!this[_0x437940(0x5e7)][_0x512d10])throw new x('Instance\x20\x22'+_0x512d10+'\x22\x20not\x20found');let _0x596bda=[];for await(let [_0x5afe4d,_0x1c4996]of Object[_0x437940(0x1f3)](this[_0x437940(0x5e7)]))if(_0x1c4996&&_0x1c4996[_0x437940(0x256)][_0x437940(0x4d1)]==='open'){let _0x152f8=await this[_0x437940(0x597)]['auth'][_0x437940(0x59a)](_0x5afe4d);_0x596bda['push']({'instance':{'instanceName':_0x5afe4d,'apikey':_0x152f8[_0x437940(0x423)],'owner':_0x1c4996[_0x437940(0x62b)],'profileName':await _0x1c4996[_0x437940(0x113)]()||_0x437940(0x631),'profilePictureUrl':_0x1c4996['profilePictureUrl']}});}return _0x596bda['find'](_0x5bf7be=>_0x5bf7be[_0x437940(0x267)][_0x437940(0x1c4)]===_0x512d10)??_0x596bda;}[a0_0xffba68(0x4c1)](){setInterval(async()=>{const _0x2d3164=a0_0xef6d;if(this['db'][_0x2d3164(0x47f)])(await this[_0x2d3164(0x4ea)][_0x2d3164(0x58b)]())['forEach'](async _0x5e025d=>{const _0x1654fe=_0x2d3164;let _0x568a6a=_0x5e025d['namespace'][_0x1654fe(0x4ad)](/^[\w-]+./,'');await this[_0x1654fe(0x4ea)][_0x1654fe(0x11c)](_0x568a6a)[_0x1654fe(0x5fc)]({'$or':[{'_id':{'$regex':/^app.state.*/}},{'_id':{'$regex':/^session-.*/}}]});});else{let _0x7c24fa=(0x0,te[_0x2d3164(0x1f1)])(V,{'encoding':_0x2d3164(0x323)});for await(let _0x50d843 of _0x7c24fa)_0x50d843[_0x2d3164(0x4d0)]()&&(0x0,te[_0x2d3164(0x3b0)])((0x0,be['join'])(V,_0x50d843[_0x2d3164(0x114)]),{'encoding':_0x2d3164(0x323)})[_0x2d3164(0x6d1)](async _0x4e8013=>{const _0x20df51=_0x2d3164;(_0x4e8013['match'](/^app.state.*/)||_0x4e8013[_0x20df51(0x14e)](/^session-.*/))&&(0x0,te[_0x20df51(0x30c)])((0x0,be[_0x20df51(0x226)])(V,_0x50d843[_0x20df51(0x114)],_0x4e8013),{'recursive':!0x0,'force':!0x0});});}},0xe10*0x3e8*0x2);}async['cleaningUp'](_0x37a456){const _0x2f2f28=a0_0xffba68;this['db'][_0x2f2f28(0x47f)]&&(await this[_0x2f2f28(0x597)][_0x2f2f28(0x3d7)]['connect'](),(await this[_0x2f2f28(0x4ea)][_0x2f2f28(0x58b)]())[_0x2f2f28(0x26f)]>0x0&&await this[_0x2f2f28(0x4ea)][_0x2f2f28(0x52e)](_0x37a456)),this[_0x2f2f28(0x12a)][_0x2f2f28(0x47f)]&&(this['redisCache'][_0x2f2f28(0x2f7)]=_0x37a456,await this[_0x2f2f28(0x204)][_0x2f2f28(0x40f)]()),!this['db'][_0x2f2f28(0x47f)]&&!this[_0x2f2f28(0x12a)][_0x2f2f28(0x47f)]&&(0x0,te[_0x2f2f28(0x30c)])((0x0,be[_0x2f2f28(0x226)])(V,_0x37a456),{'recursive':!0x0,'force':!0x0});}async[a0_0xffba68(0x421)](){const _0x4d4530=a0_0xffba68;let _0x18e73e=async _0x303827=>{const _0x5cca9e=a0_0xef6d;let _0x3d7f63=new ye(this[_0x5cca9e(0x1e8)],this[_0x5cca9e(0x248)],this['repository']);_0x3d7f63['instanceName']=_0x303827,await _0x3d7f63[_0x5cca9e(0x5bf)](),this[_0x5cca9e(0x5e7)][_0x303827]=_0x3d7f63;};try{if(this[_0x4d4530(0x12a)]['ENABLED']){let _0x5508dd=await this[_0x4d4530(0x204)][_0x4d4530(0x5e9)]();_0x5508dd?.[_0x4d4530(0x26f)]>0x0&&_0x5508dd['forEach'](async _0x6d2ad6=>await _0x18e73e(_0x6d2ad6[_0x4d4530(0x6b6)](':')[0x1]));}if(this['db'][_0x4d4530(0x47f)]){await this[_0x4d4530(0x597)][_0x4d4530(0x3d7)]['connect']();let _0x16441a=await this['dbInstance'][_0x4d4530(0x58b)]();_0x16441a[_0x4d4530(0x26f)]>0x0&&_0x16441a[_0x4d4530(0x6d1)](async _0x49dcec=>await _0x18e73e(_0x49dcec[_0x4d4530(0x2e2)][_0x4d4530(0x4ad)](/^[\w-]+\./,'')));return;}let _0xdcdaba=(0x0,te[_0x4d4530(0x1f1)])(V,{'encoding':_0x4d4530(0x323)});for await(let _0x371cc8 of _0xdcdaba)if(_0x371cc8['isDirectory']()){if((0x0,te[_0x4d4530(0x3b0)])((0x0,be[_0x4d4530(0x226)])(V,_0x371cc8['name']),{'encoding':_0x4d4530(0x323)})[_0x4d4530(0x26f)]===0x0){(0x0,te[_0x4d4530(0x30c)])((0x0,be[_0x4d4530(0x226)])(V,_0x371cc8[_0x4d4530(0x114)]),{'recursive':!0x0,'force':!0x0});break;}await _0x18e73e(_0x371cc8['name']);}}catch(_0x2f1137){this[_0x4d4530(0x6c0)][_0x4d4530(0x1ea)](_0x2f1137);}}['removeInstance'](){const _0xcba56b=a0_0xffba68;this[_0xcba56b(0x248)]['on'](_0xcba56b(0x486),async _0x29d7b0=>{const _0xf00604=_0xcba56b;try{this[_0xf00604(0x5e7)][_0x29d7b0]=void 0x0;}catch{}try{this[_0xf00604(0x562)](_0x29d7b0);}finally{this[_0xf00604(0x6c0)][_0xf00604(0x4dd)](_0xf00604(0x193)+_0x29d7b0+_0xf00604(0x2ae));}});}[a0_0xffba68(0x63c)](){const _0x281762=a0_0xffba68;this['eventEmitter']['on'](_0x281762(0x1ba),async _0x11db98=>{const _0x42c9ac=_0x281762;try{this[_0x42c9ac(0x5e7)][_0x11db98]=void 0x0,this[_0x42c9ac(0x562)](_0x11db98);}catch(_0x165f18){this[_0x42c9ac(0x6c0)][_0x42c9ac(0x1ea)]({'localError':'noConnection','warn':'Error\x20deleting\x20instance\x20from\x20memory.','error':_0x165f18});}finally{this['logger'][_0x42c9ac(0x4dd)](_0x42c9ac(0x193)+_0x11db98+'\x22\x20-\x20NOT\x20CONNECTION');}});}},Ot=class extends W{constructor(_0x3523bd){const _0x4c510d=a0_0xffba68;super(_0x3523bd),this[_0x4c510d(0x1e8)]=_0x3523bd;}[a0_0xffba68(0x689)](_0x86897b){return Ps(_0x86897b);}async[a0_0xffba68(0x5ac)](_0x5075e9){const _0x2ee4ed=a0_0xffba68;if(_0x5075e9[_0x2ee4ed(0x26f)]!==0x0)try{return{'insertCount':(await this[_0x2ee4ed(0x689)](_0x5075e9[0x0][_0x2ee4ed(0x1e6)])[_0x2ee4ed(0x510)]([..._0x5075e9]))[_0x2ee4ed(0x26f)]};}catch(_0x3dfab8){return _0x3dfab8;}}async[a0_0xffba68(0x59a)](_0x373e66){const _0x26a6fd=a0_0xffba68;try{return await this['getChatModelForOwner'](_0x373e66[_0x26a6fd(0x31c)][_0x26a6fd(0x1e6)])[_0x26a6fd(0x59a)]({..._0x373e66[_0x26a6fd(0x31c)]})['sort']({'lastmsg':-0x1})[_0x26a6fd(0x195)](_0x373e66?.[_0x26a6fd(0x195)]??0x0)[_0x26a6fd(0x665)]();}catch{return[];}}async['delete'](_0x1eddd4){const _0x45d0aa=a0_0xffba68;try{return{'deletedCount':(await this[_0x45d0aa(0x689)](_0x1eddd4[_0x45d0aa(0x31c)][_0x45d0aa(0x1e6)])[_0x45d0aa(0x5fc)]({..._0x1eddd4['where']}))[_0x45d0aa(0x2c1)]};}catch(_0x4722a5){return{'error':_0x4722a5?.['toString']()};}}async['deleteAll'](_0x4b7af0){const _0x472417=a0_0xffba68;try{return await this[_0x472417(0x689)](_0x4b7af0[_0x472417(0x31c)][_0x472417(0x1e6)])[_0x472417(0x5fc)]({..._0x4b7af0['where']}),[];}catch(_0x4ad229){return{'error':_0x4ad229?.[_0x472417(0x4d7)]()};}}async[a0_0xffba68(0x590)](_0x1b59c2){const _0x5eed4e=a0_0xffba68;try{return await this[_0x5eed4e(0x689)](_0x1b59c2['where'][_0x5eed4e(0x1e6)])[_0x5eed4e(0x590)]({..._0x1b59c2[_0x5eed4e(0x31c)]})[_0x5eed4e(0x665)]();}catch{return null;}}async[a0_0xffba68(0x577)](_0x830ede,_0x40cbcd,_0x549b92){const _0x320ab3=a0_0xffba68;try{let _0x2d5e6b={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x549b92};return await this[_0x320ab3(0x689)](_0x830ede[_0x320ab3(0x31c)][_0x320ab3(0x1e6)])[_0x320ab3(0x15b)]({..._0x830ede['where']},{'$set':_0x40cbcd},_0x2d5e6b);}catch(_0x5a5b90){return console[_0x320ab3(0x1ea)](_0x5a5b90),null;}}async[a0_0xffba68(0x234)](_0x309c08){const _0x205dfe=a0_0xffba68;try{let _0x7a2dd9=this[_0x205dfe(0x689)](_0x309c08[0x0][_0x205dfe(0x31f)]['where']['owner']),_0x2e6abe=_0x309c08[_0x205dfe(0x326)](_0x36ac93=>({'updateOne':{'filter':{..._0x36ac93['query'][_0x205dfe(0x31c)]},'update':{'$set':_0x36ac93[_0x205dfe(0x2bd)]}}}));return(await _0x7a2dd9[_0x205dfe(0x337)](_0x2e6abe))['modifiedCount'];}catch(_0x506754){return console[_0x205dfe(0x1ea)](_0x506754),0x0;}}},Pt=class{constructor(_0x2a7a91){const _0x1173ac=a0_0xffba68;this[_0x1173ac(0x638)]=_0x2a7a91;}async[a0_0xffba68(0x30f)]({instanceName:_0xbf7976},_0x451d9a){const _0x40bb99=a0_0xffba68;return await this[_0x40bb99(0x638)][_0x40bb99(0x5e7)][_0xbf7976][_0x40bb99(0x30f)](_0x451d9a);}async['whatsappNumber']({instanceName:_0x1e7ce1},_0x505462){const _0x301c70=a0_0xffba68;return await this[_0x301c70(0x638)][_0x301c70(0x5e7)][_0x1e7ce1]['whatsappNumber'](_0x505462);}async[a0_0xffba68(0x16d)]({instanceName:_0x533139},_0x3be753){const _0xed052f=a0_0xffba68;return await this[_0xed052f(0x638)]['waInstances'][_0x533139][_0xed052f(0x57f)](_0x3be753);}async['archiveChat']({instanceName:_0x4566bc},_0x1c44a1){const _0x312fcf=a0_0xffba68;return await this[_0x312fcf(0x638)][_0x312fcf(0x5e7)][_0x4566bc][_0x312fcf(0x6da)](_0x1c44a1);}async[a0_0xffba68(0x38e)]({instanceName:_0x3d3e7a},_0x4a2f21){const _0x271ac8=a0_0xffba68;return await this['waMonitor'][_0x271ac8(0x5e7)][_0x3d3e7a][_0x271ac8(0x38e)](_0x4a2f21);}async[a0_0xffba68(0x294)]({instanceName:_0x1f0496},_0x5366ab){const _0x1f9920=a0_0xffba68;return await this[_0x1f9920(0x638)]['waInstances'][_0x1f0496][_0x1f9920(0x52d)](_0x5366ab[_0x1f9920(0x415)]);}async[a0_0xffba68(0x3c6)]({instanceName:_0x241931},_0x5a7d63){const _0x2a8069=a0_0xffba68;return await this[_0x2a8069(0x638)][_0x2a8069(0x5e7)][_0x241931][_0x2a8069(0x3c6)](_0x5a7d63['number']);}async[a0_0xffba68(0x5b5)]({instanceName:_0x3713a9},_0x4502a1){const _0x5453d9=a0_0xffba68;return await this['waMonitor'][_0x5453d9(0x5e7)][_0x3713a9][_0x5453d9(0x5b5)](_0x4502a1);}async['fetchContacts']({instanceName:_0x6c358c},_0x102692){const _0x1eab96=a0_0xffba68;return await this[_0x1eab96(0x638)][_0x1eab96(0x5e7)][_0x6c358c][_0x1eab96(0x410)](_0x102692);}async[a0_0xffba68(0x6c6)]({instanceName:_0x8756f8},_0x59d1ad){const _0x5b1d7b=a0_0xffba68;return await this[_0x5b1d7b(0x638)]['waInstances'][_0x8756f8][_0x5b1d7b(0x6c6)](_0x59d1ad);}async[a0_0xffba68(0x669)]({instanceName:_0x3f42ee},_0x15d29d){const _0x418f87=a0_0xffba68;return await this[_0x418f87(0x638)][_0x418f87(0x5e7)][_0x3f42ee][_0x418f87(0x669)](_0x15d29d);}async[a0_0xffba68(0x54e)]({instanceName:_0x582c54}){const _0x5da4e8=a0_0xffba68;return await this['waMonitor'][_0x5da4e8(0x5e7)][_0x582c54][_0x5da4e8(0x54e)]();}async[a0_0xffba68(0x41d)]({instanceName:_0x17fb71}){const _0x3855cc=a0_0xffba68;return await this[_0x3855cc(0x638)][_0x3855cc(0x5e7)][_0x17fb71]['fetchPrivacySettings']();}async[a0_0xffba68(0x1cd)]({instanceName:_0x525115},_0x3dd8dd){const _0x362e04=a0_0xffba68;return await this[_0x362e04(0x638)][_0x362e04(0x5e7)][_0x525115][_0x362e04(0x1cd)](_0x3dd8dd);}async[a0_0xffba68(0x17b)]({instanceName:_0xb134db},_0x3970f6){const _0x2d8834=a0_0xffba68;return await this[_0x2d8834(0x638)][_0x2d8834(0x5e7)][_0xb134db][_0x2d8834(0x17b)](_0x3970f6[_0x2d8834(0x415)]);}async[a0_0xffba68(0x240)]({instanceName:_0x242f75},_0x170a35){const _0xb871c2=a0_0xffba68;return await this[_0xb871c2(0x638)][_0xb871c2(0x5e7)][_0x242f75][_0xb871c2(0x240)](_0x170a35['name']);}async['updateProfileStatus']({instanceName:_0xc3855b},_0x57f978){const _0x43313a=a0_0xffba68;return await this[_0x43313a(0x638)][_0x43313a(0x5e7)][_0xc3855b][_0x43313a(0x5ed)](_0x57f978[_0x43313a(0x697)]);}async[a0_0xffba68(0x4f8)]({instanceName:_0x3c5cba},_0x32131e){const _0x29b83c=a0_0xffba68;return await this[_0x29b83c(0x638)][_0x29b83c(0x5e7)][_0x3c5cba][_0x29b83c(0x4f8)](_0x32131e[_0x29b83c(0x1ec)]);}async['removeProfilePicture']({instanceName:_0x5979f0},_0xa5e619){const _0x4db650=a0_0xffba68;return await this[_0x4db650(0x638)][_0x4db650(0x5e7)][_0x5979f0][_0x4db650(0x61e)]();}},ms=require(a0_0xffba68(0x1f5)),xt=class c{constructor(_0x344733,_0x3226f1,_0x5125d3,_0x300be6,_0x3baef6){const _0x5bd71d=a0_0xffba68;this[_0x5bd71d(0x638)]=_0x344733,this['configService']=_0x3226f1,this['repository']=_0x5125d3,this[_0x5bd71d(0x248)]=_0x300be6,this['authService']=_0x3baef6,this[_0x5bd71d(0x6c0)]=new N(c[_0x5bd71d(0x114)]);}async[a0_0xffba68(0x6c5)]({instanceName:_0x3f35e2,apikey:_0x5d001f}){const _0x19fc40=a0_0xffba68;let _0x1eda25=new ye(this[_0x19fc40(0x1e8)],this[_0x19fc40(0x248)],this['repository']);_0x1eda25[_0x19fc40(0x1c4)]=_0x3f35e2,this[_0x19fc40(0x638)][_0x19fc40(0x5e7)][_0x1eda25['instanceName']]=_0x1eda25,this['waMonitor'][_0x19fc40(0x304)](_0x1eda25[_0x19fc40(0x1c4)]);let _0x132ae8={};_0x5d001f?(await this['repository'][_0x19fc40(0x4bf)][_0x19fc40(0x64e)]({'apikey':_0x5d001f},_0x3f35e2),_0x132ae8[_0x19fc40(0x423)]=_0x5d001f):_0x132ae8=await this['authService'][_0x19fc40(0x52f)]({'instanceName':_0x1eda25[_0x19fc40(0x1c4)]});let _0x1c94db;return await _0x1eda25[_0x19fc40(0x5bf)](),await(0x0,ms[_0x19fc40(0x622)])(0x7d0),_0x1c94db=_0x1eda25[_0x19fc40(0x67e)],{'instance':{'instanceName':_0x1eda25[_0x19fc40(0x1c4)],'status':'created'},'hash':_0x132ae8,'qrcode':_0x1c94db};}async[a0_0xffba68(0x5bf)]({instanceName:_0x2bf999}){const _0x204668=a0_0xffba68;try{let _0x2cb2de=this['waMonitor'][_0x204668(0x5e7)][_0x2bf999];switch(_0x2cb2de[_0x204668(0x256)]?.[_0x204668(0x4d1)]){case'close':return await _0x2cb2de[_0x204668(0x5bf)](),await(0x0,ms[_0x204668(0x622)])(0x7d0),_0x2cb2de['qrCode'];case _0x204668(0x1ee):return _0x2cb2de[_0x204668(0x67e)];default:return await this[_0x204668(0x225)]({'instanceName':_0x2bf999});}}catch(_0x43400d){this[_0x204668(0x6c0)]['log'](_0x43400d);}}async['connectionState']({instanceName:_0x1b9e4d}){const _0x7fb362=a0_0xffba68;let _0x5ce625=this[_0x7fb362(0x638)][_0x7fb362(0x5e7)][_0x1b9e4d]['connectionStatus'],_0x189a67=null;_0x5ce625['state']===_0x7fb362(0x5df)&&_0x1b9e4d&&(_0x189a67=await this[_0x7fb362(0x638)][_0x7fb362(0x3d5)](_0x1b9e4d));let _0xb4da13=null;return _0x5ce625[_0x7fb362(0x4d1)]==='connecting'&&_0x1b9e4d&&(_0xb4da13=this[_0x7fb362(0x638)]['waInstances'][_0x1b9e4d][_0x7fb362(0x67e)]),{'instance':_0x1b9e4d,'connectionStatus':_0x5ce625,'instanceInfo':_0x189a67,'qrcode':_0xb4da13};}async['restartInstance']({instanceName:_0x236a05}){const _0x2fbe67=a0_0xffba68;try{return this[_0x2fbe67(0x638)][_0x2fbe67(0x5e7)][_0x236a05]?.['client']?.['ws']?.[_0x2fbe67(0x65c)](),{'status':_0x2fbe67(0x54f),'error':!0x1,'response':{'message':'Instance\x20restarted'}};}catch(_0x15ba40){this[_0x2fbe67(0x6c0)][_0x2fbe67(0x1ea)](_0x15ba40);}}async[a0_0xffba68(0x5c5)]({instanceName:_0x1b13fa}){const _0x1d1a70=a0_0xffba68;return _0x1b13fa?this[_0x1d1a70(0x638)]['instanceInfo'](_0x1b13fa):this[_0x1d1a70(0x638)][_0x1d1a70(0x3d5)]();}async[a0_0xffba68(0x123)]({instanceName:_0x1e933e}){const _0x5bf6cd=a0_0xffba68;try{return await this[_0x5bf6cd(0x638)][_0x5bf6cd(0x5e7)][_0x1e933e]?.[_0x5bf6cd(0x49f)]?.[_0x5bf6cd(0x123)](_0x5bf6cd(0x487)+_0x1e933e),{'error':!0x1,'message':_0x5bf6cd(0x1d2)};}catch(_0x494815){throw new A(_0x494815[_0x5bf6cd(0x4d7)]());}}async['deleteInstance']({instanceName:_0x154e50}){const _0x419392=a0_0xffba68;if((await this[_0x419392(0x225)]({'instanceName':_0x154e50}))[_0x419392(0x256)][_0x419392(0x4d1)]==='open')throw new g([_0x419392(0x3b7),_0x419392(0x568)]);try{return delete this[_0x419392(0x638)][_0x419392(0x5e7)][_0x154e50],{'error':!0x1,'message':_0x419392(0x527)};}catch(_0x196cb1){throw new g(_0x196cb1['toString']());}}async['refreshToken'](_0x2cec86,_0x51d037){const _0x402e22=a0_0xffba68;return await this['authService'][_0x402e22(0x617)](_0x51d037);}},se=require('class-validator'),$t=class{constructor(_0x59b100){const _0x1c8d24=a0_0xffba68;this[_0x1c8d24(0x638)]=_0x59b100;}async['sendText']({instanceName:_0x2e1949},_0x49592b){const _0x375e27=a0_0xffba68;return await this[_0x375e27(0x638)][_0x375e27(0x5e7)][_0x2e1949][_0x375e27(0x475)](_0x49592b);}async[a0_0xffba68(0x15a)]({instanceName:_0x51540b},_0x4b6b9f){const _0x4490a4=a0_0xffba68;if((0x0,se['isBase64'])(_0x4b6b9f?.[_0x4490a4(0x529)]?.['media'])&&!_0x4b6b9f?.[_0x4490a4(0x529)]?.[_0x4490a4(0x3df)])throw new g(_0x4490a4(0x5c9));if((0x0,se['isURL'])(_0x4b6b9f?.[_0x4490a4(0x529)]?.['media'])||(0x0,se[_0x4490a4(0x339)])(_0x4b6b9f?.[_0x4490a4(0x529)]?.[_0x4490a4(0x1dd)]))return await this[_0x4490a4(0x638)][_0x4490a4(0x5e7)][_0x51540b]['mediaMessage'](_0x4b6b9f);throw new g(_0x4490a4(0x39e));}async[a0_0xffba68(0x6be)]({instanceName:_0x9a1bbf},_0x22357d){const _0x328f47=a0_0xffba68;if((0x0,se[_0x328f47(0x61f)])(_0x22357d[_0x328f47(0x6d8)][_0x328f47(0x40b)])||(0x0,se[_0x328f47(0x339)])(_0x22357d[_0x328f47(0x6d8)][_0x328f47(0x40b)]))return await this[_0x328f47(0x638)]['waInstances'][_0x9a1bbf][_0x328f47(0x447)](_0x22357d);throw new g('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0xffba68(0x445)]({instanceName:_0x15d364},_0x1b3626){const _0xcc48df=a0_0xffba68;if((0x0,se[_0xcc48df(0x61f)])(_0x1b3626[_0xcc48df(0x1b4)][_0xcc48df(0x3f8)])||(0x0,se['isBase64'])(_0x1b3626['audioMessage'][_0xcc48df(0x3f8)]))return await this[_0xcc48df(0x638)][_0xcc48df(0x5e7)][_0x15d364][_0xcc48df(0x552)](_0x1b3626);throw new g('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0xffba68(0x206)]({instanceName:_0x543a47},_0x437185){const _0x5daecf=a0_0xffba68;if((0x0,se['isBase64'])(_0x437185[_0x5daecf(0x2c8)][_0x5daecf(0x529)]?.[_0x5daecf(0x1dd)])&&!_0x437185[_0x5daecf(0x2c8)][_0x5daecf(0x529)]?.[_0x5daecf(0x3df)])throw new g(_0x5daecf(0x5c9));return await this[_0x5daecf(0x638)]['waInstances'][_0x543a47]['buttonMessage'](_0x437185);}async['sendLocation']({instanceName:_0x4bb9d9},_0x5ea90f){const _0x37e76e=a0_0xffba68;return await this[_0x37e76e(0x638)][_0x37e76e(0x5e7)][_0x4bb9d9][_0x37e76e(0x1d6)](_0x5ea90f);}async[a0_0xffba68(0x583)]({instanceName:_0x5b2af5},_0x25e6e7){const _0x1f900c=a0_0xffba68;return await this['waMonitor'][_0x1f900c(0x5e7)][_0x5b2af5][_0x1f900c(0x275)](_0x25e6e7);}async[a0_0xffba68(0x627)]({instanceName:_0x6f4bf},_0x2f8f1b){const _0x54f4db=a0_0xffba68;return await this[_0x54f4db(0x638)][_0x54f4db(0x5e7)][_0x6f4bf][_0x54f4db(0x5e8)](_0x2f8f1b);}async[a0_0xffba68(0x185)]({instanceName:_0x583634},_0x22001a){const _0xbf2e54=a0_0xffba68;return await this['waMonitor'][_0xbf2e54(0x5e7)][_0x583634][_0xbf2e54(0x65f)](_0x22001a);}async[a0_0xffba68(0x543)]({instanceName:_0xb95f1f},_0x3f0109){const _0x112587=a0_0xffba68;if(!_0x3f0109[_0x112587(0x365)][_0x112587(0x523)]['match'](/[^\(\)\w\sà-ú"-\+]+/))throw new g(_0x112587(0x15d));return await this[_0x112587(0x638)][_0x112587(0x5e7)][_0xb95f1f][_0x112587(0x365)](_0x3f0109);}async[a0_0xffba68(0x50c)]({instanceName:_0x51b2c2},_0x117d6b){const _0x17b801=a0_0xffba68;return await this[_0x17b801(0x638)][_0x17b801(0x5e7)][_0x51b2c2][_0x17b801(0x3fa)](_0x117d6b);}},kt=class{constructor(_0x4d834f){const _0x5e334c=a0_0xffba68;this[_0x5e334c(0x638)]=_0x4d834f;}async[a0_0xffba68(0x4da)](_0x997ecc,_0x26ab3f){const _0x2bf747=a0_0xffba68;return await this[_0x2bf747(0x638)][_0x2bf747(0x5e7)][_0x997ecc['instanceName']][_0x2bf747(0x4da)](_0x26ab3f);}async['updateGroupPicture'](_0x3531b0,_0x2c0193){const _0x4bccdd=a0_0xffba68;return await this[_0x4bccdd(0x638)][_0x4bccdd(0x5e7)][_0x3531b0[_0x4bccdd(0x1c4)]][_0x4bccdd(0x2a6)](_0x2c0193);}async[a0_0xffba68(0x274)](_0x327edd,_0x5531b4){const _0x267ef8=a0_0xffba68;return await this[_0x267ef8(0x638)][_0x267ef8(0x5e7)][_0x327edd[_0x267ef8(0x1c4)]]['groupDesc'](_0x5531b4);}async[a0_0xffba68(0x5c8)](_0x225428,_0x42fa1d){const _0x1db162=a0_0xffba68;return await this[_0x1db162(0x638)][_0x1db162(0x5e7)][_0x225428[_0x1db162(0x1c4)]][_0x1db162(0x5c8)](_0x42fa1d);}async[a0_0xffba68(0x549)](_0x1e40a0,_0x40fbdd){const _0x9ddc81=a0_0xffba68;return await this['waMonitor'][_0x9ddc81(0x5e7)][_0x1e40a0[_0x9ddc81(0x1c4)]][_0x9ddc81(0x549)](_0x40fbdd);}async[a0_0xffba68(0x292)](_0x56f7fe,_0x5536c5){const _0x283dcd=a0_0xffba68;return await this['waMonitor'][_0x283dcd(0x5e7)][_0x56f7fe[_0x283dcd(0x1c4)]][_0x283dcd(0x446)](_0x5536c5);}async['findGroups'](_0x13389c){const _0x134901=a0_0xffba68;return await this[_0x134901(0x638)][_0x134901(0x5e7)][_0x13389c[_0x134901(0x1c4)]][_0x134901(0x32a)]();}async['inviteCode'](_0x296b24,_0x1b6c2f){const _0x8992d6=a0_0xffba68;return await this['waMonitor'][_0x8992d6(0x5e7)][_0x296b24[_0x8992d6(0x1c4)]][_0x8992d6(0x278)](_0x1b6c2f);}async[a0_0xffba68(0x360)](_0x4d90be,_0x129f16){const _0x1097b9=a0_0xffba68;return await this[_0x1097b9(0x638)][_0x1097b9(0x5e7)][_0x4d90be['instanceName']][_0x1097b9(0x360)](_0x129f16);}async[a0_0xffba68(0x16e)](_0x1a188f,_0x3ac14f){const _0x2f696f=a0_0xffba68;return await this[_0x2f696f(0x638)]['waInstances'][_0x1a188f[_0x2f696f(0x1c4)]]['revokeInviteCode'](_0x3ac14f);}async['findParticipants'](_0x18b62d,_0x578dc5){const _0x2bdd16=a0_0xffba68;return await this[_0x2bdd16(0x638)][_0x2bdd16(0x5e7)][_0x18b62d['instanceName']][_0x2bdd16(0x618)](_0x578dc5);}async[a0_0xffba68(0x183)](_0x5cffa5,_0x45c463){const _0xfa53ad=a0_0xffba68;return await this[_0xfa53ad(0x638)]['waInstances'][_0x5cffa5[_0xfa53ad(0x1c4)]][_0xfa53ad(0x61c)](_0x45c463);}async[a0_0xffba68(0x5a5)](_0x4db6b2,_0x314d90){const _0x24072a=a0_0xffba68;return await this['waMonitor'][_0x24072a(0x5e7)][_0x4db6b2['instanceName']]['toggleEphemeral'](_0x314d90);}async[a0_0xffba68(0x14f)](_0x242a3a,_0x268244){const _0x145802=a0_0xffba68;return await this['waMonitor'][_0x145802(0x5e7)][_0x242a3a[_0x145802(0x1c4)]][_0x145802(0x14f)](_0x268244);}},Lt=class{constructor(_0x2b9d2f,_0x5077f5){const _0x48b2a7=a0_0xffba68;this[_0x48b2a7(0x59f)]=_0x2b9d2f,this[_0x48b2a7(0x1e8)]=_0x5077f5;}async[a0_0xffba68(0x426)](_0x347175,_0x3a25a9){const _0x3b6c49=a0_0xffba68;try{let _0x36c2c3=_0x347175[_0x3b6c49(0x4f9)];if(this['waMonit'][_0x3b6c49(0x5e7)][_0x36c2c3[_0x3b6c49(0x1c4)]]['connectionStatus'][_0x3b6c49(0x4d1)]==='open')throw new g(_0x3b6c49(0x1b5));let _0xc77cd2=this[_0x3b6c49(0x1e8)][_0x3b6c49(0x4e4)](_0x3b6c49(0x12c))[_0x3b6c49(0x40a)];return _0x3a25a9[_0x3b6c49(0x697)](0xc8)[_0x3b6c49(0x368)]('qrcode',{'type':_0xc77cd2,..._0x36c2c3});}catch(_0xc08b62){console['log'](_0x3b6c49(0x6df),_0xc08b62);}}},Ut=class{constructor(_0x1b66c4){const _0x14315c=a0_0xffba68;this[_0x14315c(0x638)]=_0x1b66c4;}['create'](_0x384224,_0x39dbf8){const _0x4c428a=a0_0xffba68;return this[_0x4c428a(0x638)][_0x4c428a(0x5e7)][_0x384224[_0x4c428a(0x1c4)]][_0x4c428a(0x165)](_0x39dbf8);}async[a0_0xffba68(0x59a)](_0x1a22cb){const _0x2025b2=a0_0xffba68;try{return await this['waMonitor'][_0x2025b2(0x5e7)][_0x1a22cb[_0x2025b2(0x1c4)]][_0x2025b2(0x327)]();}catch{return{'enabled':null,'url':''};}}},sd=new N(a0_0xffba68(0x5f7)),Vt=class{constructor(_0x4d0c64){const _0x419842=a0_0xffba68;this[_0x419842(0x638)]=_0x4d0c64;}async[a0_0xffba68(0x127)](_0xa09292,_0x20b57d){const _0x3be98f=a0_0xffba68;return await this['waMonitor'][_0x3be98f(0x5e7)][_0xa09292[_0x3be98f(0x1c4)]]['editScheduleMessage'](_0x20b57d);}async[a0_0xffba68(0x671)](_0x24cdcb){const _0x2911c5=a0_0xffba68;return await this['waMonitor']['waInstances'][_0x24cdcb[_0x2911c5(0x1c4)]][_0x2911c5(0x671)]();}async[a0_0xffba68(0x432)](_0xdb59b2){const _0x4f67ba=a0_0xffba68;return await this[_0x4f67ba(0x638)][_0x4f67ba(0x5e7)][_0xdb59b2['instanceName']][_0x4f67ba(0x432)]();}async[a0_0xffba68(0x6af)](_0x489375){const _0x17d30c=a0_0xffba68;return await this[_0x17d30c(0x638)][_0x17d30c(0x5e7)][_0x489375[_0x17d30c(0x1c4)]][_0x17d30c(0x6af)]();}async['updateAgent'](_0x31df4c,_0x2f5305){const _0x4b59af=a0_0xffba68;return await this['waMonitor'][_0x4b59af(0x5e7)][_0x31df4c[_0x4b59af(0x1c4)]]['updateAgent'](_0x2f5305);}async[a0_0xffba68(0x5ba)](_0x6a86aa,_0x581d52){const _0x2de4d8=a0_0xffba68;return await this[_0x2de4d8(0x638)][_0x2de4d8(0x5e7)][_0x6a86aa[_0x2de4d8(0x1c4)]]['updateCustomFields'](_0x581d52);}async[a0_0xffba68(0x6b9)](_0x362d6b,_0x2ce3c9){const _0x398e88=a0_0xffba68;return await this[_0x398e88(0x638)]['waInstances'][_0x362d6b['instanceName']][_0x398e88(0x6b9)](_0x2ce3c9);}async['startFlow'](_0x884d2b,_0x54e653){const _0x2d8260=a0_0xffba68;return await this[_0x2d8260(0x638)][_0x2d8260(0x5e7)][_0x884d2b['instanceName']][_0x2d8260(0x6ba)](_0x54e653);}async[a0_0xffba68(0x188)](_0x37ae10,_0x1ad8d8){const _0x5a5794=a0_0xffba68;return await this[_0x5a5794(0x638)][_0x5a5794(0x5e7)][_0x37ae10['instanceName']][_0x5a5794(0x188)](_0x1ad8d8);}async[a0_0xffba68(0x572)](_0x1215c4,_0x3d7536){const _0x5ddce2=a0_0xffba68;return await this[_0x5ddce2(0x638)]['waInstances'][_0x1215c4[_0x5ddce2(0x1c4)]]['fetchConversation'](_0x3d7536);}async[a0_0xffba68(0x313)](_0x116b85,_0x542801){const _0x3e9ad7=a0_0xffba68;return await this[_0x3e9ad7(0x638)][_0x3e9ad7(0x5e7)][_0x116b85[_0x3e9ad7(0x1c4)]][_0x3e9ad7(0x313)](_0x542801);}async[a0_0xffba68(0x561)](_0x94cf6d,_0x5a8b7c){const _0x29f7ce=a0_0xffba68;return await this[_0x29f7ce(0x638)][_0x29f7ce(0x5e7)][_0x94cf6d[_0x29f7ce(0x1c4)]][_0x29f7ce(0x561)](_0x5a8b7c);}async[a0_0xffba68(0x147)](_0x44543c,_0x154db6){const _0x47e29a=a0_0xffba68;return await this[_0x47e29a(0x638)][_0x47e29a(0x5e7)][_0x44543c[_0x47e29a(0x1c4)]]['getFlow'](_0x154db6[_0x47e29a(0x114)]);}async[a0_0xffba68(0x686)](_0xb5ecb2,_0x174540){const _0x152777=a0_0xffba68;return await this[_0x152777(0x638)][_0x152777(0x5e7)][_0xb5ecb2[_0x152777(0x1c4)]][_0x152777(0x686)](_0x174540);}async[a0_0xffba68(0x620)](_0x645f02,_0x134dea){const _0x32f0a9=a0_0xffba68;return await this[_0x32f0a9(0x638)][_0x32f0a9(0x5e7)][_0x645f02[_0x32f0a9(0x1c4)]][_0x32f0a9(0x620)](_0x134dea);}async[a0_0xffba68(0x6aa)](_0x4838ec,_0x2b96ea){const _0x452a25=a0_0xffba68;return await this['waMonitor'][_0x452a25(0x5e7)][_0x4838ec[_0x452a25(0x1c4)]][_0x452a25(0x6aa)](_0x2b96ea);}async['editFlowReply'](_0x275a54,_0x54b37d){const _0x17a85e=a0_0xffba68;return await this[_0x17a85e(0x638)][_0x17a85e(0x5e7)][_0x275a54[_0x17a85e(0x1c4)]][_0x17a85e(0x36a)](_0x54b37d);}async[a0_0xffba68(0x6ad)](_0x46c6e7,_0x22982a){const _0xb8d035=a0_0xffba68;return await this[_0xb8d035(0x638)][_0xb8d035(0x5e7)][_0x46c6e7[_0xb8d035(0x1c4)]][_0xb8d035(0x6ad)](_0x22982a);}async[a0_0xffba68(0x6e0)](_0x439a93,_0x204f24){const _0x16d532=a0_0xffba68;return await this['waMonitor']['waInstances'][_0x439a93[_0x16d532(0x1c4)]]['editFlowCondition'](_0x204f24);}async[a0_0xffba68(0x45e)](_0x31c5e3,_0x1e95f9){const _0x4d0d62=a0_0xffba68;return await this['waMonitor']['waInstances'][_0x31c5e3[_0x4d0d62(0x1c4)]][_0x4d0d62(0x45e)](_0x1e95f9);}async[a0_0xffba68(0x55a)](_0x1f9c30,_0x230b05){const _0x3c70e0=a0_0xffba68;return await this[_0x3c70e0(0x638)]['waInstances'][_0x1f9c30[_0x3c70e0(0x1c4)]][_0x3c70e0(0x55a)](_0x230b05);}async[a0_0xffba68(0x50a)](_0xdf1222,_0x41b538){const _0x524a9d=a0_0xffba68;return await this[_0x524a9d(0x638)][_0x524a9d(0x5e7)][_0xdf1222[_0x524a9d(0x1c4)]][_0x524a9d(0x50a)](_0x41b538[_0x524a9d(0x114)]);}async[a0_0xffba68(0x3a8)](_0x4c7a78){const _0x5ba896=a0_0xffba68;return await this[_0x5ba896(0x638)][_0x5ba896(0x5e7)][_0x4c7a78[_0x5ba896(0x1c4)]][_0x5ba896(0x3a8)]();}},jt=class{constructor(_0x1ab58a){const _0x60b7e2=a0_0xffba68;this[_0x60b7e2(0x4ff)]=_0x1ab58a;}async[a0_0xffba68(0x312)](_0x225bf4,_0x15962b){const _0x1cb4ae=a0_0xffba68;return this[_0x1cb4ae(0x4ff)]['create'](_0x225bf4,_0x15962b);}async[a0_0xffba68(0x327)](_0x20b594){return this['webhookService']['find'](_0x20b594);}},Ft=class{constructor(_0x59b780,_0x375efc,_0x1bb413,_0x39268e,_0x4d7ecd,_0xbee162){const _0xc403df=a0_0xffba68;this[_0xc403df(0x65d)]=_0x59b780,this['chat']=_0x375efc,this[_0xc403df(0x440)]=_0x1bb413,this[_0xc403df(0x659)]=_0x39268e,this[_0xc403df(0x4bf)]=_0x4d7ecd,this[_0xc403df(0x42d)]=_0xbee162;}get[a0_0xffba68(0x3d7)](){return this['dbClient'];}},hs=require(a0_0xffba68(0x242)),so=require('fs'),Bt=class extends W{constructor(_0x1cb1f5,_0x51414c){const _0x205aff=a0_0xffba68;super(_0x51414c),this[_0x205aff(0x1af)]=_0x1cb1f5,this[_0x205aff(0x1e8)]=_0x51414c;}async[a0_0xffba68(0x64e)](_0x3ff428,_0x498fa1){const _0x59824c=a0_0xffba68;try{return this[_0x59824c(0x5cb)]['ENABLED']?{'insertCount':(await this[_0x59824c(0x1af)][_0x59824c(0x41f)]({'_id':_0x498fa1},{..._0x3ff428},{'upsert':!0x0}))[_0x59824c(0x22c)]}:(this['writeStore']({'path':(0x0,hs[_0x59824c(0x226)])(this[_0x59824c(0x236)],'webhook'),'fileName':_0x498fa1,'data':_0x3ff428}),{'insertCount':0x1});}catch(_0x21bf25){return _0x21bf25;}}async[a0_0xffba68(0x59a)](_0xfffeb6){const _0x2b47cb=a0_0xffba68;try{return this[_0x2b47cb(0x5cb)]['ENABLED']?await this[_0x2b47cb(0x1af)][_0x2b47cb(0x590)]({'_id':_0xfffeb6}):JSON['parse']((0x0,so['readFileSync'])((0x0,hs[_0x2b47cb(0x226)])(this[_0x2b47cb(0x236)],_0x2b47cb(0x659),_0xfffeb6+'.json'),{'encoding':_0x2b47cb(0x323)}));}catch{return{};}}},fs=require(a0_0xffba68(0x242)),ao=require('fs'),qt=class extends W{constructor(_0x22d43a,_0x5f008a){const _0x331cb9=a0_0xffba68;super(_0x5f008a),this[_0x331cb9(0x2dc)]=_0x22d43a,this[_0x331cb9(0x1e8)]=_0x5f008a,this['auth']=_0x5f008a[_0x331cb9(0x4e4)](_0x331cb9(0x12c));}async[a0_0xffba68(0x64e)](_0x4217a2,_0x4c68af){const _0x505184=a0_0xffba68;try{return this[_0x505184(0x5cb)][_0x505184(0x47f)]?{'insertCount':(await this['authModel'][_0x505184(0x41f)]({'_id':_0x4c68af},{..._0x4217a2},{'upsert':!0x0}))[_0x505184(0x22c)]}:(this[_0x505184(0x3bc)]({'path':(0x0,fs['join'])(Gt,this['auth'][_0x505184(0x40a)]),'fileName':_0x4c68af,'data':_0x4217a2}),{'insertCount':0x1});}catch(_0x380083){return{'error':_0x380083};}}async[a0_0xffba68(0x59a)](_0xb7764d){const _0x319f51=a0_0xffba68;try{return this['dbSettings']['ENABLED']?await this['authModel'][_0x319f51(0x590)]({'_id':_0xb7764d}):JSON[_0x319f51(0x194)]((0x0,ao['readFileSync'])((0x0,fs[_0x319f51(0x226)])(Gt,this['auth'][_0x319f51(0x40a)],_0xb7764d+'.json'),{'encoding':'utf-8'}));}catch{return{};}}},Ho=new N(a0_0xffba68(0x67a)),Ko=new xe(E),zo=new Ot(E),Qo=new We(E),Yo=new Bt(Bs,E),Xo=new qt(Vs,E),ce=new Ft(Ko,zo,Qo,Yo,Xo,M?.[a0_0xffba68(0x4a3)]()),F=new _t(Kt,E,ce),Zo=new rt(E,F,ce),er=new Ut(F),ls=new jt(er),R=new Vt(F),ie=new xt(F,E,ce,Kt,Zo),Ba=new Lt(F,E),K=new $t(F),D=new Pt(F),U=new kt(F);Ho[a0_0xffba68(0x1fe)](a0_0xffba68(0x2f5));var Yd=require(a0_0xffba68(0x3a2)),ws=require('fs'),oo=T(require('https')),ro=T(require('http')),Re=class c{static #e;static set['app'](_0x115c35){this.#e=_0x115c35;}static get[a0_0xffba68(0x159)](){const _0x1ed3ea=a0_0xffba68;let {FULLCHAIN:_0x2bed8b,PRIVKEY:_0x34fe2b}=E[_0x1ed3ea(0x4e4)](_0x1ed3ea(0x44d));return oo['createServer']({'cert':(0x0,ws[_0x1ed3ea(0x43c)])(_0x2bed8b),'key':(0x0,ws[_0x1ed3ea(0x43c)])(_0x34fe2b)},c.#e);}static get[a0_0xffba68(0x25b)](){const _0x2608a7=a0_0xffba68;return ro[_0x2608a7(0x634)](c.#e);}},de=T(require('fs')),po=T(require(a0_0xffba68(0x212))),Me=T(require('axios')),Ie=T(require(a0_0xffba68(0x242))),De=require(a0_0xffba68(0x53a));function tr(){const _0x99f6e3=a0_0xffba68;F[_0x99f6e3(0x421)]();let _0x1db3d4=Ie['default'][_0x99f6e3(0x226)](__dirname,_0x99f6e3(0x433));uo(_0x1db3d4);}var uo=_0x3267ac=>{const _0x431f84=a0_0xffba68;let _0xe38948=de[_0x431f84(0x58d)][_0x431f84(0x3b0)](_0x3267ac),_0x1de492=0xc*0x3c*0x3c*0x3e8,_0x49034c=0x2*0x3c*0x3c*0x3e8,_0x4f4316=new Date()['getTime']();_0xe38948[_0x431f84(0x6d1)](_0x30d4e9=>{const _0x191504=_0x431f84;let _0x277432=Ie[_0x191504(0x58d)][_0x191504(0x226)](_0x3267ac,_0x30d4e9),_0x3fb3a6=de['default'][_0x191504(0x49d)](_0x277432)[_0x191504(0x59e)]['getTime']();_0x4f4316-_0x3fb3a6>_0x1de492&&(de[_0x191504(0x58d)][_0x191504(0x542)](_0x277432),console[_0x191504(0x550)]('Deleted\x20'+_0x30d4e9));}),setTimeout(()=>uo(_0x3267ac),_0x49034c);};function sr(){const _0x4b705c=a0_0xffba68;let _0x33f5f9=new N(_0x4b705c(0x637)),_0x4d1e0b=(0x0,pe[_0x4b705c(0x58d)])();_0x4d1e0b['use']((0x0,lo[_0x4b705c(0x58d)])({'origin'(_0x30c906,_0x5a0892){const _0x12cef9=_0x4b705c;let {ORIGIN:_0x20551c}=E[_0x12cef9(0x4e4)](_0x12cef9(0x2ea));return _0x30c906||(_0x30c906='*'),_0x20551c[_0x12cef9(0x319)]('*')!==-0x1||_0x20551c['indexOf'](_0x30c906)!==-0x1?_0x5a0892(null,!0x0):_0x5a0892(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...E[_0x4b705c(0x4e4)]('CORS')[_0x4b705c(0x2ce)]],'credentials':E[_0x4b705c(0x4e4)](_0x4b705c(0x2ea))[_0x4b705c(0x25d)]}),(0x0,pe[_0x4b705c(0x6ae)])({'extended':!0x0,'limit':_0x4b705c(0x429)}),(0x0,pe[_0x4b705c(0x682)])({'limit':_0x4b705c(0x429)})),_0x4d1e0b[_0x4b705c(0x3fe)]((_0x1a89c0,_0x108614,_0x5484dd)=>{const _0x483151=_0x4b705c;_0x1a89c0[_0x483151(0x242)][_0x483151(0x667)](_0x483151(0x67c))?_0x5484dd():(0x0,co['default'])()(_0x1a89c0,_0x108614,_0x5484dd);}),_0x4d1e0b[_0x4b705c(0x29e)](_0x4b705c(0x48b),'hbs'),_0x4d1e0b[_0x4b705c(0x29e)]('views',(0x0,bs[_0x4b705c(0x226)])(Q,'views')),_0x4d1e0b['use'](pe['default'][_0x4b705c(0x3ac)]((0x0,bs[_0x4b705c(0x226)])(Q,_0x4b705c(0x332)))),_0x4d1e0b[_0x4b705c(0x3fe)]((_0x4f01d3,_0x37f8a8,_0x4f13a2)=>{const _0x446a27=_0x4b705c;let _0x38f062=_0x37f8a8[_0x446a27(0x6c9)];_0x37f8a8['send']=function(_0x3c9b07){const _0x280423=_0x446a27;if(_0x4f01d3[_0x280423(0x31f)][_0x280423(0x35c)]===_0x280423(0x678)||_0x4f01d3[_0x280423(0x452)]['uazapi']==='true'){let _0x206557=JSON['parse'](_0x3c9b07);_0x3c9b07=JSON[_0x280423(0x4df)](_0x2b87ea(_0x206557));}return _0x38f062[_0x280423(0x285)](_0x37f8a8,[_0x3c9b07]);},_0x4f13a2();}),_0x4d1e0b[_0x4b705c(0x3fe)]('/',vt),_0x4d1e0b['use']((_0x420e8d,_0x70e487,_0x220a8d,_0x132f32)=>{const _0x50b47c=_0x4b705c;if(_0x420e8d)return _0x220a8d[_0x50b47c(0x697)](_0x420e8d[_0x50b47c(0x697)]||0x1f4)[_0x50b47c(0x682)](_0x420e8d);},(_0x13e156,_0x55fe23,_0x139894)=>{const _0x22c415=_0x4b705c;let {method:_0x4e0394,url:_0x286718}=_0x13e156;_0x55fe23['status'](0x194)[_0x22c415(0x682)]({'status':0x194,'message':'Cannot\x20'+_0x4e0394[_0x22c415(0x613)]()+'\x20'+_0x286718,'error':'Not\x20Found'}),_0x139894();});let _0x2b87ea=(_0x4401e9,_0x509313=_0x4b705c(0x418))=>{const _0x27fd89=_0x4b705c;let _0x19f33e=(_0x47e220,_0x164368=null,_0x3861e9=!0x1)=>{const _0x5774d4=a0_0xef6d;let _0xc9a46f={};return Object[_0x5774d4(0x598)](_0x47e220)[_0x5774d4(0x6d1)](_0x1dcc55=>{const _0x41f630=_0x5774d4;let _0x20c8e3=_0x47e220[_0x1dcc55],_0x57aa80=''+_0x509313+_0x1dcc55;_0x164368&&!_0x3861e9&&(_0x57aa80=_0x164368+'.'+_0x1dcc55),!_0x20c8e3&&_0x20c8e3!==0x0&&_0x20c8e3!==!0x1||typeof _0x20c8e3>'u'?_0xc9a46f[_0x57aa80]=null:typeof _0x20c8e3!=_0x41f630(0x66a)&&!Array['isArray'](_0x20c8e3)?_0xc9a46f[_0x57aa80]=_0x20c8e3:typeof _0x20c8e3=='object'&&!Array['isArray'](_0x20c8e3)?_0xc9a46f=Object[_0x41f630(0x63e)](_0xc9a46f,_0x19f33e(_0x20c8e3,_0x57aa80)):Array[_0x41f630(0x51f)](_0x20c8e3)&&(typeof _0x20c8e3[0x0]==_0x41f630(0x66a)?(_0xc9a46f[_0x57aa80]=[],_0x20c8e3[_0x41f630(0x6d1)](_0x2eca61=>{const _0x2d36d7=_0x41f630;_0xc9a46f[_0x57aa80][_0x2d36d7(0x55d)](_0x19f33e(_0x2eca61,_0x57aa80,!0x0));})):_0xc9a46f[_0x57aa80]=_0x20c8e3);}),_0xc9a46f;};return Array[_0x27fd89(0x51f)](_0x4401e9)?_0x4401e9['map'](_0x56d134=>_0x19f33e(_0x56d134)):typeof _0x4401e9==_0x27fd89(0x66a)&&_0x4401e9!==null?_0x19f33e(_0x4401e9):{};},_0x29273b=E['get'](_0x4b705c(0x637));Re[_0x4b705c(0x2d1)]=_0x4d1e0b;let _0x15552b=Re[_0x29273b['TYPE']],_0x36d0fb=_0x4b705c(0x56d);_0x15552b[_0x4b705c(0x2b3)](_0x29273b[_0x4b705c(0x2f1)],()=>{const _0x297a39=_0x4b705c;_0x33f5f9[_0x297a39(0x550)](_0x36d0fb),_0x33f5f9['log'](_0x29273b[_0x297a39(0x40a)]['toUpperCase']()+_0x297a39(0x51e)+_0x29273b[_0x297a39(0x2f1)]);}),tr(),_s();}var ar=a0_0xffba68(0x5b9),or=Ie[a0_0xffba68(0x58d)][a0_0xffba68(0x226)](__dirname,a0_0xffba68(0x5e2)),Ae=null;function rr(){return new Promise((_0x4209f1,_0x18507b)=>{const _0x59a86c=a0_0xef6d;de[_0x59a86c(0x58d)]['readFile'](or,_0x59a86c(0x323),(_0x5bb6e8,_0x156c87)=>{const _0x20475e=_0x59a86c;if(_0x5bb6e8){Ae=_0x5bb6e8,_0x4209f1();return;}po[_0x20475e(0x58d)][_0x20475e(0x194)](_0x156c87)[_0x20475e(0x3fb)][_0x20475e(0x1ab)]===ar?(Ae=null,_0x4209f1()):(Ae=new Error(_0x20475e(0x66e)),_0x4209f1());});});}async function ir(){const _0x50b503=a0_0xffba68;try{await rr(),await Ss();}catch(_0x137029){console[_0x50b503(0x1ea)](_0x50b503(0x6c3)+_0x137029),process[_0x50b503(0x481)](0x1);}}ir();async function go(){const _0x5764b4=a0_0xffba68;let _0x35d894;try{_0x35d894=(await Me[_0x5764b4(0x58d)][_0x5764b4(0x4e4)](_0x5764b4(0x6b2)))['data']['ip'];}catch(_0x12445b){console[_0x5764b4(0x1ea)](_0x12445b);try{_0x35d894=(await Me[_0x5764b4(0x58d)][_0x5764b4(0x4e4)]('https://api.ipify.org?format=json'))[_0x5764b4(0x228)]['ip'];}catch(_0x4f2fd1){console[_0x5764b4(0x1ea)](_0x4f2fd1);try{_0x35d894=(await Me['default'][_0x5764b4(0x4e4)](_0x5764b4(0x211)))[_0x5764b4(0x228)][_0x5764b4(0x14e)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x33005e){return console[_0x5764b4(0x1ea)](_0x33005e),!0x1;}}}return _0x35d894;}var io=0x0;async function nr(){const _0x542df6=a0_0xffba68;let _0x31d5f4=E[_0x542df6(0x4e4)](_0x542df6(0x276)),_0x48a0cd=E['get'](_0x542df6(0x12c))['API_KEY'][_0x542df6(0x13c)],_0x39746c=E['get'](_0x542df6(0x44d)),_0x50876c=await go(),_0x5180e2=E[_0x542df6(0x4e4)](_0x542df6(0x637))['PORT'];try{let _0x5af34d={'ip':_0x50876c||null,'redis_enable':_0x31d5f4?.[_0x542df6(0x47f)]||null,'apikey':_0x48a0cd||null,'ssl':_0x39746c?.[_0x542df6(0x661)]||null,'lastupdate':mo||null,'port':_0x5180e2||null,'gitInstallError':Ae?.[_0x542df6(0x65d)]||null};console[_0x542df6(0x550)](_0x542df6(0x5d2),_0x5af34d['ip']);for(let _0x52e28b in _0x5af34d)_0x5af34d[_0x542df6(0x4fb)](_0x52e28b)&&_0x52e28b!=='ip'&&(_0x5af34d[_0x52e28b]=JSON[_0x542df6(0x4df)](_0x5af34d[_0x52e28b]));return(await Me['default'][_0x542df6(0x66c)](_0x542df6(0x14b),_0x5af34d))['data'];}catch(_0x579583){return console[_0x542df6(0x1ea)](_0x579583),!0x1;}}var ys=!0x1,mo=0x20f,cr=0x3,no=0x1b7740;async function Ss(){const _0x30c4f6=a0_0xffba68;if(!await go())return console['error'](_0x30c4f6(0x3ce)),_0x30c4f6(0x1a7);let _0x1c9185=await nr();if(_0x1c9185){if(_0x1c9185[_0x30c4f6(0x4f7)][_0x30c4f6(0x217)]===!0x0){E[_0x30c4f6(0x4e4)](_0x30c4f6(0x44d))[_0x30c4f6(0x661)][_0x30c4f6(0x6ac)](_0x30c4f6(0x4ae))&&_0x1c9185[_0x30c4f6(0x4f7)][_0x30c4f6(0x56c)]&&await dr(_0x1c9185[_0x30c4f6(0x4f7)][_0x30c4f6(0x56c)],ur),Ae===null&&_0x1c9185[_0x30c4f6(0x4f7)][_0x30c4f6(0x4ac)]-mo>0x0&&await lr(),ys||(ys=!0x0,sr());let _0x10f139=0x24*0x3c*0x3c,_0x22327b=_0x1c9185[_0x30c4f6(0x4f7)][_0x30c4f6(0x34b)]>_0x10f139?_0x10f139:_0x1c9185[_0x30c4f6(0x4f7)]['segundos'],_0x4e2bea=Number(_0x22327b);if(isNaN(_0x4e2bea)){console[_0x30c4f6(0x1ea)](_0x30c4f6(0x30b));return;}let _0x47567f=Math[_0x30c4f6(0x44b)](_0x4e2bea/0xe10),_0x24f931=Math[_0x30c4f6(0x44b)](_0x4e2bea%0xe10/0x3c),_0xcf2ce3=new Date(Date[_0x30c4f6(0x2e7)]()+_0x4e2bea*0x3e8);setTimeout(Ss,_0x4e2bea*0x3e8);let _0x265185=_0x4f2016=>_0x4f2016[_0x30c4f6(0x4d7)]()[_0x30c4f6(0x155)](0x2,'0'),_0x37a801=_0x30c4f6(0x4cf)+_0x265185(_0x47567f)+_0x30c4f6(0x5ee)+_0x265185(_0x24f931)+_0x30c4f6(0x4f1)+_0x265185(_0xcf2ce3[_0x30c4f6(0x53b)]())+':'+_0x265185(_0xcf2ce3[_0x30c4f6(0x5c3)]())+'.';console[_0x30c4f6(0x550)](_0x37a801);}else return console['log']('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),ys&&(console['log'](_0x30c4f6(0x12f)),process[_0x30c4f6(0x481)]()),_0x30c4f6(0x548);}else{if(io++,io<cr)console[_0x30c4f6(0x550)]('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+no/0xea60+'\x20minutos...'),setTimeout(Ss,no);else return console[_0x30c4f6(0x1ea)]('Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.'),_0x30c4f6(0x5ae);}}async function lr(){const _0x4554db=a0_0xffba68;console[_0x4554db(0x550)]('Parando\x20aplicação,\x20atualização\x20recebida');let _0x2c9d27=(0x0,De[_0x4554db(0x3cd)])(_0x4554db(0x12d),{'shell':!0x0});_0x2c9d27[_0x4554db(0x4b6)]['on'](_0x4554db(0x228),_0x434fb7=>{const _0x1db828=_0x4554db;console[_0x1db828(0x550)](_0x1db828(0x530)+_0x434fb7);}),_0x2c9d27['stderr']['on'](_0x4554db(0x228),_0x5610e5=>{const _0x218cf5=_0x4554db;console[_0x218cf5(0x1ea)](_0x218cf5(0x6db)+_0x5610e5);}),_0x2c9d27['on'](_0x4554db(0x481),_0x5c50ff=>{const _0x24b0e9=_0x4554db;_0x5c50ff!==0x0?console[_0x24b0e9(0x1ea)]('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x5c50ff):console[_0x24b0e9(0x550)]('Sistema\x20atualizado\x20com\x20sucesso!'),console['log'](_0x24b0e9(0x505)),setTimeout(()=>process[_0x24b0e9(0x481)](),0x2710);});}var ur=Ie[a0_0xffba68(0x58d)][a0_0xffba68(0x226)](__dirname,a0_0xffba68(0x273));async function dr(_0x5b3b0d,_0xa3827a){const _0x133e64=a0_0xffba68;let _0xec2002=gr();try{let _0x3ec248=de[_0x133e64(0x58d)][_0x133e64(0x43c)](_0xa3827a,_0x133e64(0x573));_0x3ec248=_0x3ec248[_0x133e64(0x4ad)](/<apikey>/,_0xec2002),_0x3ec248=_0x3ec248['replace'](/<subdomain>/g,_0x5b3b0d),de[_0x133e64(0x58d)][_0x133e64(0x4bb)](_0xa3827a,_0x3ec248,_0x133e64(0x573)),console['log'](_0x133e64(0x5d5)),pr(_0x5b3b0d),console[_0x133e64(0x550)](_0x133e64(0x505)),setTimeout(()=>mr(),0x2710);}catch(_0x4acfe8){console[_0x133e64(0x1ea)](_0x133e64(0x657),_0x4acfe8);}}function pr(_0x272fcb){const _0x1e57e5=a0_0xffba68;let _0x3a6f40='augusto.fcs@gmail.com',_0x5b72e7=''+_0x272fcb,_0x1ae17f=_0x1e57e5(0x295)+_0x3a6f40+'\x20--agree-tos\x20-d\x20'+_0x5b72e7;(0x0,De[_0x1e57e5(0x2ca)])(_0x1ae17f,(_0x1f1470,_0x558b5d,_0x25ad80)=>{const _0x1500a3=_0x1e57e5;if(_0x1f1470){console[_0x1500a3(0x1ea)](_0x1500a3(0x2d0)+_0x1f1470[_0x1500a3(0x65d)]);return;}if(_0x25ad80){console[_0x1500a3(0x1ea)](_0x1500a3(0x461)+_0x25ad80);return;}console['log'](_0x1500a3(0x2f9)+_0x558b5d);});}function gr(_0x2bb068=0x32){const _0x4d37bc=a0_0xffba68;let _0x59e907=_0x4d37bc(0x27c),_0xe7335d='';for(let _0x3c583a=0x0;_0x3c583a<_0x2bb068;_0x3c583a++)_0xe7335d+=_0x59e907[_0x4d37bc(0x2d9)](Math[_0x4d37bc(0x44b)](Math[_0x4d37bc(0x4e5)]()*_0x59e907[_0x4d37bc(0x26f)]));return _0xe7335d;}function mr(){const _0xeaf6cd=a0_0xffba68;(0x0,De['exec'])(_0xeaf6cd(0x345),(_0x408ee1,_0xbcb932,_0x2cf631)=>{const _0x5b6db1=_0xeaf6cd;if(_0x408ee1){console['error'](_0x5b6db1(0x25f)+_0x408ee1);return;}if(_0x2cf631){console[_0x5b6db1(0x1ea)](_0x5b6db1(0x264)+_0x2cf631);return;}console[_0x5b6db1(0x550)](_0x5b6db1(0x593)+_0xbcb932);});}