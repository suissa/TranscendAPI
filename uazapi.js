const a0_0x39ce6a=a0_0x4226;(function(_0x50d78a,_0x4a0a1f){const _0x243e29=a0_0x4226,_0x1d185b=_0x50d78a();while(!![]){try{const _0x22f0b2=-parseInt(_0x243e29(0x22b))/0x1+-parseInt(_0x243e29(0x499))/0x2*(parseInt(_0x243e29(0x707))/0x3)+parseInt(_0x243e29(0x480))/0x4+-parseInt(_0x243e29(0x30e))/0x5+parseInt(_0x243e29(0x65e))/0x6+-parseInt(_0x243e29(0x250))/0x7+parseInt(_0x243e29(0x354))/0x8*(parseInt(_0x243e29(0x7a8))/0x9);if(_0x22f0b2===_0x4a0a1f)break;else _0x1d185b['push'](_0x1d185b['shift']());}catch(_0x16f27a){_0x1d185b['push'](_0x1d185b['shift']());}}}(a0_0x2bec,0x8d552));var Pr=Object[a0_0x39ce6a(0x451)],Ie=Object[a0_0x39ce6a(0x7b8)],$r=Object['getOwnPropertyDescriptor'],kr=Object['getOwnPropertyNames'],Lr=Object[a0_0x39ce6a(0x24e)],Fr=Object[a0_0x39ce6a(0x3d9)][a0_0x39ce6a(0x341)],jr=(_0x574da8,_0x39cc23)=>{for(var _0x58a6c5 in _0x39cc23)Ie(_0x574da8,_0x58a6c5,{'get':_0x39cc23[_0x58a6c5],'enumerable':!0x0});},_s=(_0x2f2db3,_0x8fd4a3,_0x302f12,_0x57449e)=>{const _0xfe0a50=a0_0x39ce6a;if(_0x8fd4a3&&typeof _0x8fd4a3=='object'||typeof _0x8fd4a3==_0xfe0a50(0x26e)){for(let _0x9b70c0 of kr(_0x8fd4a3))!Fr[_0xfe0a50(0x5fb)](_0x2f2db3,_0x9b70c0)&&_0x9b70c0!==_0x302f12&&Ie(_0x2f2db3,_0x9b70c0,{'get':()=>_0x8fd4a3[_0x9b70c0],'enumerable':!(_0x57449e=$r(_0x8fd4a3,_0x9b70c0))||_0x57449e[_0xfe0a50(0x6c2)]});}return _0x2f2db3;},T=(_0x14d592,_0x381cb0,_0x527df1)=>(_0x527df1=_0x14d592!=null?Pr(Lr(_0x14d592)):{},_s(_0x381cb0||!_0x14d592||!_0x14d592[a0_0x39ce6a(0x5aa)]?Ie(_0x527df1,'default',{'value':_0x14d592,'enumerable':!0x0}):_0x527df1,_0x14d592)),Ur=_0x29f736=>_s(Ie({},a0_0x39ce6a(0x5aa),{'value':!0x0}),_0x29f736),Hi={};jr(Hi,{'subdomain':()=>Rs}),module[a0_0x39ce6a(0x3f0)]=Ur(Hi);var Or=T(require('compression')),$s=require('fs'),ks=require('js-yaml'),Ls=require('path'),xe=require('path'),re=process[a0_0x39ce6a(0x323)](),ge=(0x0,xe[a0_0x39ce6a(0x4dc)])(re,a0_0x39ce6a(0x5b4)),Ps=(0x0,xe[a0_0x39ce6a(0x4dc)])(re,a0_0x39ce6a(0x1ec)),Vo=(0x0,xe[a0_0x39ce6a(0x4dc)])(re,a0_0x39ce6a(0x568),a0_0x39ce6a(0x377)),es=class{constructor(){const _0x550950=a0_0x39ce6a;this[_0x550950(0x178)]();}[a0_0x39ce6a(0x2b4)](_0x33b1e2){const _0x42f4c4=a0_0x39ce6a;return this[_0x42f4c4(0x73b)][_0x33b1e2];}[a0_0x39ce6a(0x178)](){const _0x2156b0=a0_0x39ce6a;this[_0x2156b0(0x73b)]=process['env']?.[_0x2156b0(0x6a5)]!==_0x2156b0(0x494)?this[_0x2156b0(0x381)]():this[_0x2156b0(0x37d)](),process['env']?.['DOCKER_ENV']===_0x2156b0(0x494)&&(this[_0x2156b0(0x73b)][_0x2156b0(0x1a6)][_0x2156b0(0x183)]=_0x2156b0(0x1c3),this[_0x2156b0(0x73b)]['SERVER'][_0x2156b0(0x52b)]=Number[_0x2156b0(0x733)](process[_0x2156b0(0x73b)]?.[_0x2156b0(0x463)]??_0x2156b0(0x163)));}[a0_0x39ce6a(0x381)](){const _0xe79d41=a0_0x39ce6a;return(0x0,ks['load'])((0x0,$s['readFileSync'])((0x0,Ls[_0xe79d41(0x4dc)])(Ps,_0xe79d41(0x7b5)),{'encoding':'utf-8'}));}['envProcess'](){const _0x10329a=a0_0x39ce6a;return{'SERVER':{'TYPE':process[_0x10329a(0x73b)][_0x10329a(0x71b)],'PORT':Number['parseInt'](process['env'][_0x10329a(0x463)]),'URL':process[_0x10329a(0x73b)]['SERVER_URL']},'CORS':{'ORIGIN':process[_0x10329a(0x73b)][_0x10329a(0x570)][_0x10329a(0x154)](','),'METHODS':process[_0x10329a(0x73b)][_0x10329a(0x5da)][_0x10329a(0x154)](','),'CREDENTIALS':process[_0x10329a(0x73b)]?.[_0x10329a(0x7c3)]===_0x10329a(0x494)},'SSL_CONF':{'PRIVKEY':process[_0x10329a(0x73b)]?.[_0x10329a(0x63c)],'FULLCHAIN':process[_0x10329a(0x73b)]?.[_0x10329a(0x662)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process[_0x10329a(0x73b)]?.['STORE_CLEANING_TERMINAL'])?Number[_0x10329a(0x733)](process[_0x10329a(0x73b)][_0x10329a(0x440)]):void 0x0,'MESSAGES':process[_0x10329a(0x73b)]?.[_0x10329a(0x5fc)]===_0x10329a(0x494),'CONTACTS':process['env']?.[_0x10329a(0x700)]==='true','CHATS':process['env']?.['STORE_CHATS']===_0x10329a(0x494)},'DATABASE':{'CONNECTION':{'HOST':process['env']?.[_0x10329a(0x2b7)],'PORT':Number[_0x10329a(0x733)](process[_0x10329a(0x73b)]?.[_0x10329a(0x2b7)]),'USER':process[_0x10329a(0x73b)][_0x10329a(0x42b)],'PASSWORD':process['env'][_0x10329a(0x1a7)],'URI':process[_0x10329a(0x73b)][_0x10329a(0x37b)],'DB_PREFIX_NAME':process['env'][_0x10329a(0x789)]},'ENABLED':process[_0x10329a(0x73b)]?.[_0x10329a(0x491)]===_0x10329a(0x494)},'REDIS':{'ENABLED':process[_0x10329a(0x73b)]?.[_0x10329a(0x5d2)]==='true','URI':process[_0x10329a(0x73b)][_0x10329a(0x256)]||_0x10329a(0x2a6),'PREFIX_KEY':process['env']['REDIS_PREFIX_KEY']||_0x10329a(0x54d)},'LOG':{'LEVEL':process['env']?.[_0x10329a(0x36f)][_0x10329a(0x154)](','),'COLOR':process[_0x10329a(0x73b)]?.[_0x10329a(0x192)]===_0x10329a(0x494)},'PROXY':Number['parseInt'](process[_0x10329a(0x73b)]?.[_0x10329a(0x468)]),'AUTHENTICATION':{'TYPE':process['env'][_0x10329a(0x72d)],'API_KEY':{'KEY':process[_0x10329a(0x73b)][_0x10329a(0x396)]},'JWT':{'EXPIRIN_IN':Number[_0x10329a(0x32a)](process[_0x10329a(0x73b)]?.[_0x10329a(0x1b6)])?Number[_0x10329a(0x733)](process[_0x10329a(0x73b)][_0x10329a(0x1b6)]):0xe10,'SECRET':process[_0x10329a(0x73b)][_0x10329a(0x782)]}}};}},b=new es(),Ar=T(require(a0_0x39ce6a(0x47a))),he=T(require(a0_0x39ce6a(0x6b5))),xs=require(a0_0x39ce6a(0x47b)),ts=T(require(a0_0x39ce6a(0x275))),ss=(_0x47123c=>(_0x47123c[a0_0x39ce6a(0x325)]='\x1b[32m',_0x47123c[a0_0x39ce6a(0x3f9)]=a0_0x39ce6a(0x25b),_0x47123c[a0_0x39ce6a(0x3c4)]=a0_0x39ce6a(0x39d),_0x47123c[a0_0x39ce6a(0x625)]=a0_0x39ce6a(0x565),_0x47123c[a0_0x39ce6a(0x519)]=a0_0x39ce6a(0x51f),_0x47123c[a0_0x39ce6a(0x430)]=a0_0x39ce6a(0x3ca),_0x47123c[a0_0x39ce6a(0x50a)]='\x1b[30m',_0x47123c))(ss||{}),Fs=(_0x44cfb7=>(_0x44cfb7[a0_0x39ce6a(0x325)]='\x1b[32m%s\x1b[0m',_0x44cfb7[a0_0x39ce6a(0x50a)]='\x1b[30m%s\x1b[0m',_0x44cfb7[a0_0x39ce6a(0x3f9)]=a0_0x39ce6a(0x40d),_0x44cfb7['WARN']='\x1b[33m%s\x1b[0m',_0x44cfb7[a0_0x39ce6a(0x625)]='\x1b[31m%s\x1b[0m',_0x44cfb7[a0_0x39ce6a(0x519)]=a0_0x39ce6a(0x1be),_0x44cfb7['VERBOSE']=a0_0x39ce6a(0x769),_0x44cfb7))(Fs||{}),js=(_0x396125=>(_0x396125['LOG']=a0_0x39ce6a(0x325),_0x396125[a0_0x39ce6a(0x3c4)]='WARN',_0x396125['INFO']=a0_0x39ce6a(0x3f9),_0x396125[a0_0x39ce6a(0x50a)]=a0_0x39ce6a(0x50a),_0x396125[a0_0x39ce6a(0x625)]=a0_0x39ce6a(0x625),_0x396125['DEBUG']=a0_0x39ce6a(0x519),_0x396125['VERBOSE']=a0_0x39ce6a(0x430),_0x396125))(js||{}),Us=(_0x16c9b9=>(_0x16c9b9[a0_0x39ce6a(0x325)]=a0_0x39ce6a(0x65b),_0x16c9b9[a0_0x39ce6a(0x3f9)]=a0_0x39ce6a(0x49f),_0x16c9b9[a0_0x39ce6a(0x3c4)]=a0_0x39ce6a(0x4a4),_0x16c9b9[a0_0x39ce6a(0x50a)]=a0_0x39ce6a(0x2b5),_0x16c9b9[a0_0x39ce6a(0x625)]=a0_0x39ce6a(0x1a9),_0x16c9b9[a0_0x39ce6a(0x519)]='\x1b[46m',_0x16c9b9[a0_0x39ce6a(0x430)]=a0_0x39ce6a(0x429),_0x16c9b9))(Us||{}),N=class{constructor(_0x2edcf4=a0_0x39ce6a(0x5a7)){this['context']=_0x2edcf4,this['configService']=b;}['setContext'](_0x133dc4){const _0x4aa68e=a0_0x39ce6a;this[_0x4aa68e(0x307)]=_0x133dc4;}[a0_0x39ce6a(0x36a)](_0x38dc71,_0x24715e){const _0x1e648d=a0_0x39ce6a;let _0x162683=[];this[_0x1e648d(0x1e7)][_0x1e648d(0x2b4)](_0x1e648d(0x325))[_0x1e648d(0x63d)][_0x1e648d(0x797)](_0x5c0593=>_0x162683[_0x1e648d(0x41f)](js[_0x5c0593]));let _0xd83f4b=typeof _0x38dc71;_0x162683['includes'](_0x24715e)&&(b[_0x1e648d(0x2b4)](_0x1e648d(0x325))[_0x1e648d(0x786)]?(console[_0x1e648d(0x4e5)](_0x1e648d(0x43e)+Fs[_0x24715e],_0x1e648d(0x777),(0x0,ts[_0x1e648d(0x6b8)])()[_0x1e648d(0x619)](_0x1e648d(0x473)),_0x1e648d(0x706),ss[_0x24715e]+Us[_0x24715e]+_0x1e648d(0x43e),_0x24715e+_0x1e648d(0x65f),_0x1e648d(0x795),this[_0x1e648d(0x307)]+_0x1e648d(0x706),ss[_0x24715e],_0xd83f4b!==_0x1e648d(0x4e1)?_0x38dc71:'','\x1b[0m'),_0xd83f4b===_0x1e648d(0x4e1)&&console['log'](_0x38dc71,'\x0a')):console[_0x1e648d(0x4e5)]((0x0,ts[_0x1e648d(0x6b8)])()[_0x1e648d(0x619)]('HH:mm:ss'),_0x24715e+'\x20',''+this[_0x1e648d(0x307)],_0x38dc71));}[a0_0x39ce6a(0x4e5)](_0x1fd4f2){const _0x36c9b6=a0_0x39ce6a;this[_0x36c9b6(0x36a)](_0x1fd4f2,_0x36c9b6(0x325));}[a0_0x39ce6a(0x5a0)](_0x532272){const _0x3931e6=a0_0x39ce6a;this[_0x3931e6(0x36a)](_0x532272,'INFO');}['warn'](_0x2d1c8e){const _0x4d3739=a0_0x39ce6a;this[_0x4d3739(0x36a)](_0x2d1c8e,_0x4d3739(0x3c4));}[a0_0x39ce6a(0x16d)](_0x25ffa0){const _0x3b6d15=a0_0x39ce6a;this[_0x3b6d15(0x36a)](_0x25ffa0,'ERROR');}[a0_0x39ce6a(0x5b1)](_0x4a6043){const _0x2c5a44=a0_0x39ce6a;this['console'](_0x4a6043,_0x2c5a44(0x430));}[a0_0x39ce6a(0x6df)](_0xdb3c6e){const _0x4c49bc=a0_0x39ce6a;this[_0x4c49bc(0x36a)](_0xdb3c6e,_0x4c49bc(0x519));}[a0_0x39ce6a(0x55c)](_0x37d7f4){const _0xe55b75=a0_0x39ce6a;this[_0xe55b75(0x36a)](_0x37d7f4,_0xe55b75(0x50a));}};function qs(){const _0x5b45ec=a0_0x39ce6a;process['on'](_0x5b45ec(0x225),(_0x52f2ba,_0x3d1ef1)=>{const _0x4ee7db=_0x5b45ec;new N(_0x4ee7db(0x225))[_0x4ee7db(0x16d)]({'origin':_0x3d1ef1,'stderr':process['stderr']['fd'],'error':_0x52f2ba});}),process['on'](_0x5b45ec(0x175),(_0x40a7dd,_0x380ef7)=>{const _0x1509e4=_0x5b45ec;new N(_0x1509e4(0x175))[_0x1509e4(0x16d)]({'origin':_0x380ef7,'stderr':process[_0x1509e4(0x4a8)]['fd'],'error':_0x40a7dd});});}var Js=T(require(a0_0x39ce6a(0x4cf))),as=new Js[(a0_0x39ce6a(0x6b8))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),De=require('mongoose'),rs=T(require(a0_0x39ce6a(0x1b0))),qr=new N('Db\x20Connection'),J=b[a0_0x39ce6a(0x2b4)](a0_0x39ce6a(0x237)),R=J[a0_0x39ce6a(0x287)]?J[a0_0x39ce6a(0x57e)][a0_0x39ce6a(0x49c)]?rs[a0_0x39ce6a(0x6b8)]['createConnection'](J[a0_0x39ce6a(0x57e)][a0_0x39ce6a(0x49c)],{'dbName':J[a0_0x39ce6a(0x57e)][a0_0x39ce6a(0x735)]+a0_0x39ce6a(0x18d)}):rs[a0_0x39ce6a(0x6b8)]['createConnection'](a0_0x39ce6a(0x6cf)+J['CONNECTION'][a0_0x39ce6a(0x2cb)]+':'+J[a0_0x39ce6a(0x57e)][a0_0x39ce6a(0x52b)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':J[a0_0x39ce6a(0x57e)][a0_0x39ce6a(0x458)],'pass':J['CONNECTION'][a0_0x39ce6a(0x360)],'dbName':J[a0_0x39ce6a(0x57e)]['DB_PREFIX_NAME']+a0_0x39ce6a(0x18d)}):null;J['ENABLED']&&qr['info'](a0_0x39ce6a(0x65d)+R[a0_0x39ce6a(0x31c)]);var Jr=new De[(a0_0x39ce6a(0x46d))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Vr=new De[(a0_0x39ce6a(0x46d))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Jr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Br=new De[(a0_0x39ce6a(0x46d))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Vr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Vs=_0x2e0696=>{const _0x5318ff=a0_0x39ce6a;let _0xfddd10='z_'+_0x2e0696+_0x5318ff(0x16f);return R?.[_0x5318ff(0x6e7)]('ChatModel',Br,_0xfddd10);},Bs=require(a0_0x39ce6a(0x1b0)),Gr=new Bs[(a0_0x39ce6a(0x46d))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Gs=_0x1c101d=>{const _0x1fe03a=a0_0x39ce6a;let _0x22b845='z_'+_0x1c101d+_0x1fe03a(0x22e);return R?.[_0x1fe03a(0x6e7)](_0x1fe03a(0x7a2),Gr,_0x22b845);},Ws=require(a0_0x39ce6a(0x1b0)),Wr=new Ws[(a0_0x39ce6a(0x46d))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),zs=_0x2f0937=>{const _0x4cc007=a0_0x39ce6a;let _0x41db81='z_'+_0x2f0937+_0x4cc007(0x3fe);return R?.[_0x4cc007(0x6e7)](_0x4cc007(0x478),Wr,_0x41db81);},Hs=require(a0_0x39ce6a(0x1b0)),is=class{},zr=new Hs[(a0_0x39ce6a(0x46d))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),Ks=R?.[a0_0x39ce6a(0x6e7)](is[a0_0x39ce6a(0x257)],zr,'authentication'),Qs=require(a0_0x39ce6a(0x1b0)),os=class{},Ys=new Qs[(a0_0x39ce6a(0x46d))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Ys[a0_0x39ce6a(0x1d7)]('save',function(_0x188ab2){const _0x4591b2=a0_0x39ce6a;delete this['flowActive'],delete this[_0x4591b2(0x222)],delete this[_0x4591b2(0x181)],delete this[_0x4591b2(0x5a9)],delete this['flowStopMinutes'],_0x188ab2();});var Xs=R?.[a0_0x39ce6a(0x6e7)](os['name'],Ys,a0_0x39ce6a(0x5fe)),P=require('mongoose'),Zs=require(a0_0x39ce6a(0x1d5)),_e=class{},ea=new P[(a0_0x39ce6a(0x46d))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ns=new P[(a0_0x39ce6a(0x46d))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Hr=new P[(a0_0x39ce6a(0x46d))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x39ce6a(0x2c9)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x39ce6a(0x52e)},'pollErrorMessage':{'type':String,'default':a0_0x39ce6a(0x6f0)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ta=new P[(a0_0x39ce6a(0x46d))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Kr=new P['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),Qr=new P[(a0_0x39ce6a(0x46d))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),sa=new P[(a0_0x39ce6a(0x46d))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Hr},'apirequest':Kr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ps=new P[(a0_0x39ce6a(0x46d))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),aa=new P['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),cs=class{},Pe=new P[(a0_0x39ce6a(0x46d))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,Zs['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0xf350ae=a0_0x39ce6a;return'!cmd_'+Math[_0xf350ae(0x647)]()[_0xf350ae(0x30b)](0x24)[_0xf350ae(0x3bf)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ps],'variablesNotFound':{'type':[String]},'blocks':[sa],'groups':[ea],'conditions':[ta],'varedits':[aa],'replyOptions':{'type':[ns],'default':[]}});Pe[a0_0x39ce6a(0x1d7)](a0_0x39ce6a(0x53c),function(_0x1f927d){const _0x2b894c=a0_0x39ce6a;let _0x543e11=new Set(),_0x5c5b9e=new Set(this[_0x2b894c(0x4fe)]?.[_0x2b894c(0x477)](_0x488e98=>_0x488e98['name'])),_0x2ece6b=JSON[_0x2b894c(0x613)](this),_0x31eca7=/{{(?!_)([^}]*)}}/g,_0x2a4fca;for(;(_0x2a4fca=_0x31eca7[_0x2b894c(0x2ec)](_0x2ece6b))!==null;)_0x5c5b9e[_0x2b894c(0x443)](_0x2a4fca[0x1])||_0x543e11[_0x2b894c(0x22d)](_0x2a4fca[0x1]);_0x543e11['size']>0x0?(console[_0x2b894c(0x18f)]('Variáveis\x20não\x20encontradas:',Array[_0x2b894c(0x43c)](_0x543e11)),this['variablesNotFound']=Array[_0x2b894c(0x43c)](_0x543e11)):this['variablesNotFound']=[],_0x1f927d();}),Pe[a0_0x39ce6a(0x1d7)](a0_0x39ce6a(0x342),function(_0x195e4e){const _0xedd4e5=a0_0x39ce6a;let _0x8d664a=this[_0xedd4e5(0x4e2)]();if(_0x8d664a&&typeof _0x8d664a==_0xedd4e5(0x4e1)&&_0xedd4e5(0x660)in _0x8d664a){let _0x418dd9=_0x8d664a[_0xedd4e5(0x660)];if(_0x418dd9){let _0x5aa3b2=new Set(),_0x1a7c4f=new Set(_0x418dd9[_0xedd4e5(0x4fe)]?.[_0xedd4e5(0x477)](_0x14b7d6=>_0x14b7d6[_0xedd4e5(0x257)])),_0x32239d=JSON[_0xedd4e5(0x613)](_0x418dd9),_0x573f23=/{{(?!_)([^}]*)}}/g,_0x548d36;for(;(_0x548d36=_0x573f23['exec'](_0x32239d))!==null;)_0x1a7c4f[_0xedd4e5(0x443)](_0x548d36[0x1])||_0x5aa3b2['add'](_0x548d36[0x1]);_0x5aa3b2[_0xedd4e5(0x526)]>0x0?(console[_0xedd4e5(0x18f)](_0xedd4e5(0x2c8),Array[_0xedd4e5(0x43c)](_0x5aa3b2)),_0x418dd9['variablesNotFound']=Array[_0xedd4e5(0x43c)](_0x5aa3b2)):_0x418dd9['variablesNotFound']=[],this[_0xedd4e5(0x368)]({'$set':_0x418dd9});}}_0x195e4e();});var ra=_0x223806=>{let _0x4d3943='z_'+_0x223806+'_Flows';return R?.['model']('FlowModel',Pe,_0x4d3943);},ia=R?.['model'](cs[a0_0x39ce6a(0x257)],Pe,a0_0x39ce6a(0x506)),Yr=new P['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ps],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Qr]},{'_id':!0x1}),ls=class{},oa=new P[(a0_0x39ce6a(0x46d))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ps],'blocks':[sa],'groups':[ea],'conditions':[ta],'varedits':[aa],'replyOptions':{'type':[ns],'default':[]},'chatLog':Yr,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':'open'},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x39ce6a(0x52e)},'waitingMenu_replyOptions':{'type':[ns],'default':[]}}),na=_0xdac2e1=>{const _0xe87b36=a0_0x39ce6a;let _0x4a2a00='z_'+_0xdac2e1+_0xe87b36(0x2a4);return R?.[_0xe87b36(0x6e7)]('ConversationModel',oa,_0x4a2a00);},ca=R?.[a0_0x39ce6a(0x6e7)](ls[a0_0x39ce6a(0x257)],oa,a0_0x39ce6a(0x1d8)),us=class{},Xr=new P[(a0_0x39ce6a(0x46d))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Zr=new P[(a0_0x39ce6a(0x46d))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),la=new P[(a0_0x39ce6a(0x46d))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x39ce6a(0x296)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Zr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Xr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ua=_0x544fb7=>{const _0x45c08f=a0_0x39ce6a;let _0x4b44da='z_'+_0x544fb7+_0x45c08f(0x577);return R?.[_0x45c08f(0x6e7)]('ScheduleMessageModel',la,_0x4b44da);},da=R?.[a0_0x39ce6a(0x6e7)](us[a0_0x39ce6a(0x257)],la,a0_0x39ce6a(0x317)),ds=class{},ei=new P['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),ti=new P[(a0_0x39ce6a(0x46d))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),si=new P[(a0_0x39ce6a(0x46d))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),ai=new P[(a0_0x39ce6a(0x46d))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[si]},'customFields':{'type':[ei]},'flowConfig':{'type':ti,'default':{}}}),$e=R?.[a0_0x39ce6a(0x6e7)](ds[a0_0x39ce6a(0x257)],ai,a0_0x39ce6a(0x719)),pa=require(a0_0x39ce6a(0x1b0)),ri=new pa[(a0_0x39ce6a(0x46d))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ha=_0x15d6c6=>{const _0x221db2=a0_0x39ce6a;let _0x45b164='z_'+_0x15d6c6+_0x221db2(0x359);return R?.[_0x221db2(0x6e7)]('LabelModel',ri,_0x45b164);},D=class{constructor(_0x40a037){const _0x3327f6=a0_0x39ce6a;this[_0x3327f6(0x2d3)]=_0x40a037['get'](_0x3327f6(0x237));}};function A(_0x3989ff){const _0x28b872=a0_0x39ce6a;let _0x29b148={};for(let [_0xcabfdc,_0x46d8e5]of Object[_0x28b872(0x635)](_0x3989ff))if(typeof _0x46d8e5=='object'&&!Array[_0x28b872(0x52a)](_0x46d8e5)){for(let [_0x5a958f,_0x2391c5]of Object[_0x28b872(0x635)](_0x46d8e5))_0x29b148[_0xcabfdc+'.'+_0x5a958f]=_0x2391c5;}else _0x29b148[_0xcabfdc]=_0x46d8e5;return _0x29b148;}var ke=class{constructor(_0x269b92,_0x349b95,_0x282971,_0x540c64,_0x2e4928,_0x5e684d,_0x5170e5,_0x4a5b33,_0x45f01e,_0x31ad35,_0x1fa970){const _0x1073b3=a0_0x39ce6a;this[_0x1073b3(0x1f0)]=_0x269b92,this[_0x1073b3(0x5d1)]=_0x349b95,this['contact']=_0x282971,this['webhook']=_0x540c64,this['auth']=_0x2e4928,this[_0x1073b3(0x506)]=_0x5e684d,this['flowConversation']=_0x5170e5,this[_0x1073b3(0x4ed)]=_0x4a5b33,this[_0x1073b3(0x542)]=_0x45f01e,this[_0x1073b3(0x273)]=_0x31ad35,this[_0x1073b3(0x405)]=_0x1fa970;}get[a0_0x39ce6a(0x581)](){const _0x1f0a92=a0_0x39ce6a;return this[_0x1f0a92(0x405)];}},Le=class{},Fe=class extends D{[a0_0x39ce6a(0x724)](_0x436bd4){return zs(_0x436bd4);}async[a0_0x39ce6a(0x42e)](_0x381555,_0x30fe12){const _0x5cc1ee=a0_0x39ce6a;if(_0x381555[_0x5cc1ee(0x44f)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x30fe12)[_0x5cc1ee(0x3c7)]([..._0x381555]))[_0x5cc1ee(0x44f)]};}catch(_0x4c5066){return _0x4c5066;}}async[a0_0x39ce6a(0x280)](_0xcb97d1,_0x57023b){const _0x32c3b2=a0_0x39ce6a;try{let _0x26e994=this[_0x32c3b2(0x724)](_0x57023b),_0x49f7c4=A(_0xcb97d1[_0x32c3b2(0x43d)]);return await _0x26e994[_0x32c3b2(0x280)](_0x49f7c4)['sort']({'messageTimestamp':-0x1})[_0x32c3b2(0x2a7)](_0xcb97d1?.[_0x32c3b2(0x2a7)]??0x0)[_0x32c3b2(0x41d)]();}catch{return[];}}async[a0_0x39ce6a(0x24c)](_0x49e937,_0x1a8e9b){const _0x3db17e=a0_0x39ce6a;try{let _0x4af590=this['getMessageModelForOwner'](_0x1a8e9b),_0x160d2c=A(_0x49e937[_0x3db17e(0x43d)]);await _0x4af590[_0x3db17e(0x2bb)](_0x160d2c);}catch(_0x29d05e){console[_0x3db17e(0x16d)](_0x29d05e);}}async[a0_0x39ce6a(0x226)](_0x56c47f,_0x426eda,_0x5a5dec){const _0x10b182=a0_0x39ce6a;try{let _0x571ed6=this['getMessageModelForOwner'](_0x5a5dec),_0x4b8a52=A(_0x56c47f[_0x10b182(0x43d)]);return await _0x571ed6['findOneAndUpdate'](_0x4b8a52,{'$set':_0x426eda},{'new':!0x0});}catch(_0x3e48ea){throw console[_0x10b182(0x16d)](_0x3e48ea),_0x3e48ea;}}async['insertMany'](_0x2aff07,_0x3ce5f7){const _0x529f79=a0_0x39ce6a;if(_0x2aff07[_0x529f79(0x44f)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x529f79(0x724)](_0x3ce5f7)[_0x529f79(0x3c7)]([..._0x2aff07]))[_0x529f79(0x44f)]};}catch(_0x1ea226){return console[_0x529f79(0x4e5)](_0x529f79(0x4be),_0x1ea226),_0x1ea226;}}async[a0_0x39ce6a(0x589)](_0x571b5b){const _0x228f11=a0_0x39ce6a;try{return await this['getMessageModelForOwner'](_0x571b5b)[_0x228f11(0x486)][_0x228f11(0x6d9)](),{'success':!0x0};}catch(_0x560aa3){return console[_0x228f11(0x16d)](_0x560aa3),{'success':!0x1,'error':_0x560aa3};}}},yr=T(require(a0_0x39ce6a(0x31e))),g=T(require(a0_0x39ce6a(0x676))),ve=require('fs'),j=T(require(a0_0x39ce6a(0x47b))),se=T(require('axios')),br=require('uuid'),Sr=T(require(a0_0x39ce6a(0x16b))),Er=T(require('qrcode-terminal')),ga=[a0_0x39ce6a(0x5f3),a0_0x39ce6a(0x6a3),'audioMessage',a0_0x39ce6a(0x3e1),a0_0x39ce6a(0x1c0)],ma=[a0_0x39ce6a(0x4cd),'documentWithCaptionMessage',a0_0x39ce6a(0x678),a0_0x39ce6a(0x1cb)],Es=require('os'),It=T(require(a0_0x39ce6a(0x404))),Pt=require(a0_0x39ce6a(0x15f)),xt=require(a0_0x39ce6a(0x59a)),ce=T(require(a0_0x39ce6a(0x1b0))),$=require(a0_0x39ce6a(0x7bd)),me=class{constructor(_0x235375,_0x5b273f,_0x583be6){const _0x4e0edd=a0_0x39ce6a;this[_0x4e0edd(0x5f8)]=_0x235375,this[_0x4e0edd(0x34c)]=_0x5b273f,this[_0x4e0edd(0x257)]=_0x583be6;}},je=class{},Ue=class{},be=class{},qe=class{},Je=class{},fe=class{},Ve=class{},Be=class{},Ge=class{},We=class{},vt=T(require('express')),fa=require('fs'),wa=require('path');async function ze(_0x3e8f0d){const _0x570190=a0_0x39ce6a;let _0x4b9ff9=V['waInstances'][_0x3e8f0d];if(J['ENABLED']){let _0x3d24a4=R['getClient']()['db'](J['CONNECTION']['DB_PREFIX_NAME']+_0x570190(0x703))[_0x570190(0x486)](_0x3e8f0d);return _0x4b9ff9||(await _0x3d24a4[_0x570190(0x280)]({})['toArray']())['length']>0x0;}return _0x4b9ff9||(0x0,fa[_0x570190(0x6d5)])((0x0,wa[_0x570190(0x4dc)])(ge,_0x3e8f0d));}async function ya(_0x345c3c,_0x466706,_0x5b281d){const _0x4c5e6d=a0_0x39ce6a;if(_0x345c3c[_0x4c5e6d(0x2e5)][_0x4c5e6d(0x49a)](_0x4c5e6d(0x18c))||_0x345c3c[_0x4c5e6d(0x2e5)][_0x4c5e6d(0x49a)](_0x4c5e6d(0x288))||_0x345c3c[_0x4c5e6d(0x2e5)][_0x4c5e6d(0x49a)](_0x4c5e6d(0x5e7))||_0x345c3c[_0x4c5e6d(0x2e5)][_0x4c5e6d(0x49a)](_0x4c5e6d(0x4c8))||_0x345c3c['originalUrl'][_0x4c5e6d(0x49a)](_0x4c5e6d(0x5b3))||_0x345c3c[_0x4c5e6d(0x2e5)]['includes'](_0x4c5e6d(0x569))||_0x345c3c[_0x4c5e6d(0x2e5)][_0x4c5e6d(0x49a)](_0x4c5e6d(0x74f)))return _0x5b281d();let _0x4b0055=_0x345c3c['params'];if(!_0x4b0055?.[_0x4c5e6d(0x168)])throw new w(_0x4c5e6d(0x2f3));if(!await ze(_0x4b0055[_0x4c5e6d(0x168)]))throw new k('The\x20'+_0x4b0055[_0x4c5e6d(0x168)]+'\x20instance\x20does\x20not\x20exist');_0x5b281d();}async function ba(_0x12da5b,_0x5d1f9b,_0x3d5352){const _0x2204e1=a0_0x39ce6a;if(_0x12da5b[_0x2204e1(0x2e5)][_0x2204e1(0x49a)](_0x2204e1(0x18c))){let _0x183716=_0x12da5b[_0x2204e1(0x7c5)];if(await ze(_0x183716[_0x2204e1(0x168)]))throw new H(_0x2204e1(0x6eb)+_0x183716[_0x2204e1(0x168)]+_0x2204e1(0x2e8));V[_0x2204e1(0x34b)][_0x183716[_0x2204e1(0x168)]]&&delete V[_0x2204e1(0x34b)][_0x183716['instanceName']];}_0x3d5352();}var Sa=require('class-validator'),Ea=T(require(a0_0x39ce6a(0x679))),He=a0_0x39ce6a(0x54d),oi=new N('GUARD');async function ni(_0x4d6370,_0x4b2641,_0x3d97cd){const _0x4d7b43=a0_0x39ce6a;let _0x32d4f4=_0x4d6370[_0x4d7b43(0x2b4)](_0x4d7b43(0x74e));if(_0x32d4f4&&b[_0x4d7b43(0x2b4)](_0x4d7b43(0x535))[_0x4d7b43(0x529)][_0x4d7b43(0x3ac)]!==_0x32d4f4)throw new Z();if(b[_0x4d7b43(0x2b4)](_0x4d7b43(0x535))[_0x4d7b43(0x529)][_0x4d7b43(0x3ac)]===_0x32d4f4)return _0x3d97cd();if((_0x4d6370['originalUrl'][_0x4d7b43(0x49a)](_0x4d7b43(0x18c))||_0x4d6370[_0x4d7b43(0x2e5)][_0x4d7b43(0x49a)](_0x4d7b43(0x288)))&&!_0x32d4f4)throw new H(_0x4d7b43(0x636),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0xeda42b=b[_0x4d7b43(0x2b4)](_0x4d7b43(0x535))['JWT'];try{let [_0x86dc69,_0x3f880f]=_0x4d6370[_0x4d7b43(0x2b4)](_0x4d7b43(0x610))['split']('\x20');if(_0x86dc69[_0x4d7b43(0x6bf)]()!==_0x4d7b43(0x170))throw new Z();if(!(0x0,Sa[_0x4d7b43(0x1c8)])(_0x3f880f))throw new Z();let _0x52d7ea=_0x4d6370[_0x4d7b43(0x561)],_0x660378=Ea[_0x4d7b43(0x6b8)]['verify'](_0x3f880f,_0xeda42b['SECRET'],{'ignoreExpiration':_0xeda42b['EXPIRIN_IN']===0x0});if(_0x52d7ea[_0x4d7b43(0x168)]!==_0x660378[_0x4d7b43(0x168)]||He!==_0x660378[_0x4d7b43(0x27f)])throw new Z();return _0x3d97cd();}catch(_0x2b039f){throw oi[_0x4d7b43(0x16d)](_0x2b039f),new Z();}}async function ci(_0x271b02,_0xcbe781,_0x3c5058){const _0x4b38f0=a0_0x39ce6a;let _0x25e5fa=b[_0x4b38f0(0x2b4)](_0x4b38f0(0x535))[_0x4b38f0(0x529)],_0x40f83d=_0x271b02['get'](_0x4b38f0(0x74e));if(_0x25e5fa[_0x4b38f0(0x3ac)]===_0x40f83d)return _0x3c5058();if(_0x271b02['originalUrl']['includes'](_0x4b38f0(0x18c))){let _0x2c3173=Ke,_0x49461f=_0x271b02[_0x4b38f0(0x7c5)][_0x4b38f0(0x168)];if(_0x2c3173&&_0x49461f[_0x4b38f0(0x6bf)]()['startsWith'](_0x2c3173[_0x4b38f0(0x6bf)]()))return _0x3c5058();if(!_0x40f83d)throw new H(_0x4b38f0(0x636),'The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x271b02['originalUrl'][_0x4b38f0(0x49a)](_0x4b38f0(0x288))&&!_0x40f83d)throw new H(_0x4b38f0(0x636),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x271b02[_0x4b38f0(0x2e5)][_0x4b38f0(0x49a)](_0x4b38f0(0x5e7))&&!_0x40f83d)throw new H('Missing\x20global\x20api\x20key',_0x4b38f0(0x73e));if(_0x271b02[_0x4b38f0(0x2e5)][_0x4b38f0(0x49a)](_0x4b38f0(0x4c8))&&!_0x40f83d)throw new H(_0x4b38f0(0x636),_0x4b38f0(0x73e));try{let _0x8063a0=_0x271b02[_0x4b38f0(0x561)];if((await ue['auth'][_0x4b38f0(0x280)](_0x8063a0[_0x4b38f0(0x168)]))[_0x4b38f0(0x74e)]===_0x40f83d)return _0x3c5058();}catch{}throw new Z();}var Ca={'jwt':ni,'apikey':ci},sr=require(a0_0x39ce6a(0x6b5)),C=require(a0_0x39ce6a(0x1d5)),E=(..._0x2ad75c)=>{const _0x4c6d1b=a0_0x39ce6a;let _0x365408={};return _0x2ad75c[_0x4c6d1b(0x797)](_0x2aa3a1=>_0x365408[_0x2aa3a1]={'minLength':0x1,'description':_0x4c6d1b(0x2c1)+_0x2aa3a1+_0x4c6d1b(0x1f1)}),{'if':{'propertyNames':{'enum':[..._0x2ad75c]}},'then':{'properties':_0x365408}};},v={'$id':(0x0,C['v4'])(),'type':'object','properties':{'instanceName':{'type':a0_0x39ce6a(0x5d6)}},...E('instanceName')},Qn={'$id':(0x0,C['v4'])(),'type':a0_0x39ce6a(0x4e1),'properties':{'oldToken':{'type':a0_0x39ce6a(0x5d6)}},'required':['oldToken'],...E(a0_0x39ce6a(0x338))},Yn={'properties':{'key':{'type':a0_0x39ce6a(0x4e1),'properties':{'id':{'type':a0_0x39ce6a(0x5d6)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x39ce6a(0x757),'enum':[!0x0,!0x1]}},'required':['id','remoteJid','fromMe'],...E('id',a0_0x39ce6a(0x6b1))},'message':{'type':a0_0x39ce6a(0x4e1)}}},K={'properties':{'delay':{'type':a0_0x39ce6a(0x298),'description':a0_0x39ce6a(0x382)},'presence':{'type':a0_0x39ce6a(0x5d6),'enum':['unavailable',a0_0x39ce6a(0x4bb),'composing',a0_0x39ce6a(0x665),a0_0x39ce6a(0x1fd)]}}},W={'type':a0_0x39ce6a(0x5d6),'pattern':a0_0x39ce6a(0x2cd),'description':a0_0x39ce6a(0x335)},Ma={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...W},'options':{...K},'textMessage':{'type':'object','properties':{'text':{'type':'string'}},'required':[a0_0x39ce6a(0x60d)],...E(a0_0x39ce6a(0x60d))}},'required':[a0_0x39ce6a(0x612),'number']},va={'type':a0_0x39ce6a(0x5d6),'pattern':a0_0x39ce6a(0x290),'description':a0_0x39ce6a(0x335)},Xn={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...va},'options':{...K},'textMessage':{'type':a0_0x39ce6a(0x4e1),'properties':{'text':{'type':a0_0x39ce6a(0x5d6)}},'required':[a0_0x39ce6a(0x60d)],...E(a0_0x39ce6a(0x60d))}},'required':[a0_0x39ce6a(0x612),a0_0x39ce6a(0x2f8)]},Zn={'$id':(0x0,C['v4'])(),'type':a0_0x39ce6a(0x4e1),'properties':{'number':{...va},'options':{...K},'mediaMessage':{'type':a0_0x39ce6a(0x4e1),'properties':{'mediatype':{'type':a0_0x39ce6a(0x5d6),'enum':[a0_0x39ce6a(0x767),a0_0x39ce6a(0x624),a0_0x39ce6a(0x532),a0_0x39ce6a(0x220)]},'media':{'type':'string'},'fileName':{'type':a0_0x39ce6a(0x5d6)},'caption':{'type':'string'}},'required':[a0_0x39ce6a(0x76c),'media'],...E(a0_0x39ce6a(0x4ac),'caption',a0_0x39ce6a(0x701))}},'required':['mediaMessage','number']},Na={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...W},'options':{...K},'stickerMessage':{'type':a0_0x39ce6a(0x4e1),'properties':{'image':{'type':a0_0x39ce6a(0x5d6)}},'required':[a0_0x39ce6a(0x767)],...E(a0_0x39ce6a(0x767))}},'required':[a0_0x39ce6a(0x1c0),a0_0x39ce6a(0x2f8)]},Ra={'$id':(0x0,C['v4'])(),'type':a0_0x39ce6a(0x4e1),'properties':{'statusMessage':{'type':a0_0x39ce6a(0x4e1),'properties':{'type':{'type':a0_0x39ce6a(0x5d6),'enum':[a0_0x39ce6a(0x60d),a0_0x39ce6a(0x767),'audio','video']},'content':{'type':a0_0x39ce6a(0x5d6)},'caption':{'type':'string'},'backgroundColor':{'type':a0_0x39ce6a(0x5d6)},'font':{'type':a0_0x39ce6a(0x298),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x39ce6a(0x5d6),'pattern':a0_0x39ce6a(0x580),'description':a0_0x39ce6a(0x3d6)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['type','content'],...E('type',a0_0x39ce6a(0x62f))}},'required':['statusMessage']},Ta={'$id':(0x0,C['v4'])(),'type':a0_0x39ce6a(0x4e1),'properties':{'number':{...W},'options':{...K},'mediaMessage':{'type':a0_0x39ce6a(0x4e1),'properties':{'mediatype':{'type':'string','enum':['image',a0_0x39ce6a(0x624),a0_0x39ce6a(0x532),a0_0x39ce6a(0x220)]},'media':{'type':'string'},'fileName':{'type':a0_0x39ce6a(0x5d6)},'caption':{'type':'string'}},'required':[a0_0x39ce6a(0x76c),a0_0x39ce6a(0x701)],...E(a0_0x39ce6a(0x4ac),'caption','media')}},'required':[a0_0x39ce6a(0x409),'number']},Oa={'$id':(0x0,C['v4'])(),'type':a0_0x39ce6a(0x4e1),'properties':{'number':{...W},'options':{...K},'audioMessage':{'type':a0_0x39ce6a(0x4e1),'properties':{'audio':{'type':a0_0x39ce6a(0x5d6)}},'required':[a0_0x39ce6a(0x220)],...E(a0_0x39ce6a(0x220))}},'required':[a0_0x39ce6a(0x148),a0_0x39ce6a(0x2f8)]},Aa={'$id':(0x0,C['v4'])(),'type':a0_0x39ce6a(0x4e1),'properties':{'number':{...W},'pollMessage':{'type':'object','properties':{'name':{'type':'string'},'selectableCount':{'type':'number'},'values':{'type':a0_0x39ce6a(0x167),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x39ce6a(0x257),'selectableCount','values'],...E(a0_0x39ce6a(0x257),a0_0x39ce6a(0x43f),a0_0x39ce6a(0x279))}},'required':[a0_0x39ce6a(0x2f8),a0_0x39ce6a(0x5ac)]},Ia={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...W},'menuMessage':{'type':a0_0x39ce6a(0x4e1),'properties':{'text':{'type':'string'},'choices':{'type':a0_0x39ce6a(0x167),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x39ce6a(0x60d),a0_0x39ce6a(0x193)],...E(a0_0x39ce6a(0x60d),a0_0x39ce6a(0x193))}},'required':['number','menuMessage']},xa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...W},'options':{...K},'buttonMessage':{'type':a0_0x39ce6a(0x4e1),'properties':{'title':{'type':'string'},'description':{'type':a0_0x39ce6a(0x5d6)},'footerText':{'type':a0_0x39ce6a(0x5d6)},'buttons':{'type':a0_0x39ce6a(0x167),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':'string'},'buttonId':{'type':'string'}},'required':[a0_0x39ce6a(0x6a2),'buttonId'],...E(a0_0x39ce6a(0x6a2),a0_0x39ce6a(0x67d))}},'mediaMessage':{'type':a0_0x39ce6a(0x4e1),'properties':{'media':{'type':'string'},'fileName':{'type':a0_0x39ce6a(0x5d6)},'mediatype':{'type':'string','enum':[a0_0x39ce6a(0x767),a0_0x39ce6a(0x624),a0_0x39ce6a(0x532)]}},'required':[a0_0x39ce6a(0x701),a0_0x39ce6a(0x76c)],...E(a0_0x39ce6a(0x701),a0_0x39ce6a(0x4ac))}},'required':[a0_0x39ce6a(0x7b2),a0_0x39ce6a(0x2b1)],...E(a0_0x39ce6a(0x7b2),a0_0x39ce6a(0x7aa))}},'required':[a0_0x39ce6a(0x2f8),a0_0x39ce6a(0x528)]},Da={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...W},'options':{...K},'locationMessage':{'type':'object','properties':{'latitude':{'type':a0_0x39ce6a(0x2f8)},'longitude':{'type':'number'},'name':{'type':'string'},'address':{'type':a0_0x39ce6a(0x5d6)}},'required':['latitude','longitude'],...E(a0_0x39ce6a(0x257),a0_0x39ce6a(0x691))}},'required':[a0_0x39ce6a(0x2f8),a0_0x39ce6a(0x77f)]},_a={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...W},'options':{...K},'listMessage':{'type':a0_0x39ce6a(0x4e1),'properties':{'title':{'type':a0_0x39ce6a(0x5d6)},'description':{'type':a0_0x39ce6a(0x5d6)},'footerText':{'type':a0_0x39ce6a(0x5d6)},'buttonText':{'type':a0_0x39ce6a(0x5d6)},'sections':{'type':a0_0x39ce6a(0x167),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x39ce6a(0x4e1),'properties':{'title':{'type':a0_0x39ce6a(0x5d6)},'rows':{'type':a0_0x39ce6a(0x167),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x39ce6a(0x4e1),'properties':{'title':{'type':'string'},'description':{'type':a0_0x39ce6a(0x5d6)},'rowId':{'type':a0_0x39ce6a(0x5d6)}},'required':[a0_0x39ce6a(0x7b2),a0_0x39ce6a(0x421)],...E(a0_0x39ce6a(0x7b2),a0_0x39ce6a(0x421))}}},'required':[a0_0x39ce6a(0x7b2),'rows'],...E(a0_0x39ce6a(0x7b2))}}},'required':[a0_0x39ce6a(0x7b2),'description',a0_0x39ce6a(0x6a2),a0_0x39ce6a(0x39e)],...E(a0_0x39ce6a(0x7b2),a0_0x39ce6a(0x7aa),'buttonText',a0_0x39ce6a(0x4e3))}},'required':[a0_0x39ce6a(0x2f8),a0_0x39ce6a(0x6d4)]},Pa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...W},'options':{...K},'contactMessage':{'type':a0_0x39ce6a(0x167),'items':{'type':a0_0x39ce6a(0x4e1),'properties':{'fullName':{'type':a0_0x39ce6a(0x5d6)},'phoneNumber':{'type':'string','minLength':0xa}},'required':[a0_0x39ce6a(0x69a),a0_0x39ce6a(0x259)],...E(a0_0x39ce6a(0x69a))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x39ce6a(0x2f8),a0_0x39ce6a(0x3a7)]},$a={'$id':(0x0,C['v4'])(),'type':a0_0x39ce6a(0x4e1),'properties':{'reactionMessage':{'type':a0_0x39ce6a(0x4e1),'properties':{'key':{'type':a0_0x39ce6a(0x4e1),'properties':{'id':{'type':a0_0x39ce6a(0x5d6)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x39ce6a(0x757),'enum':[!0x0,!0x1]}},'required':['id',a0_0x39ce6a(0x6b1),'fromMe'],...E('id',a0_0x39ce6a(0x6b1))},'reaction':{'type':a0_0x39ce6a(0x5d6)}},'required':[a0_0x39ce6a(0x3b6),a0_0x39ce6a(0x3a2)],...E(a0_0x39ce6a(0x3a2))}},'required':[a0_0x39ce6a(0x2e0)]},ka={'$id':(0x0,C['v4'])(),'type':a0_0x39ce6a(0x4e1),'properties':{'numbers':{'type':a0_0x39ce6a(0x167),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x39ce6a(0x5d6),'pattern':a0_0x39ce6a(0x580),'description':'\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}}},La={'$id':(0x0,C['v4'])(),'type':a0_0x39ce6a(0x4e1),'properties':{'readMessages':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x39ce6a(0x757),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x39ce6a(0x5d6)}},'required':['id',a0_0x39ce6a(0x27d),a0_0x39ce6a(0x6b1)],...E('id',a0_0x39ce6a(0x6b1))}}},'required':[a0_0x39ce6a(0x4fa)]},Fa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'privacySettings':{'type':a0_0x39ce6a(0x4e1),'properties':{'readreceipts':{'type':a0_0x39ce6a(0x5d6),'enum':[a0_0x39ce6a(0x39a),'none']},'profile':{'type':a0_0x39ce6a(0x5d6),'enum':['all',a0_0x39ce6a(0x66f),a0_0x39ce6a(0x7bf),'none']},'status':{'type':'string','enum':[a0_0x39ce6a(0x39a),a0_0x39ce6a(0x66f),a0_0x39ce6a(0x7bf),'none']},'online':{'type':a0_0x39ce6a(0x5d6),'enum':[a0_0x39ce6a(0x39a),a0_0x39ce6a(0x649)]},'last':{'type':a0_0x39ce6a(0x5d6),'enum':['all',a0_0x39ce6a(0x66f),a0_0x39ce6a(0x7bf),a0_0x39ce6a(0x2e4)]},'groupadd':{'type':a0_0x39ce6a(0x5d6),'enum':[a0_0x39ce6a(0x39a),'contacts',a0_0x39ce6a(0x7bf),a0_0x39ce6a(0x2e4)]}},'required':[a0_0x39ce6a(0x402),a0_0x39ce6a(0x4f1),a0_0x39ce6a(0x162),a0_0x39ce6a(0x210),a0_0x39ce6a(0x1b9),a0_0x39ce6a(0x6c4)],...E('readreceipts',a0_0x39ce6a(0x4f1),'status',a0_0x39ce6a(0x210),'last',a0_0x39ce6a(0x6c4))}},'required':[a0_0x39ce6a(0x74c)]},ja={'$id':(0x0,C['v4'])(),'type':a0_0x39ce6a(0x4e1),'properties':{'lastMessage':{'type':a0_0x39ce6a(0x4e1),'properties':{'key':{'type':a0_0x39ce6a(0x4e1),'properties':{'id':{'type':a0_0x39ce6a(0x5d6)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x39ce6a(0x757),'enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0x39ce6a(0x6b1)],...E('id',a0_0x39ce6a(0x6b1))},'messageTimestamp':{'type':a0_0x39ce6a(0x298),'minLength':0x1}},'required':['key'],...E(a0_0x39ce6a(0x1ef))},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x39ce6a(0x4d4),a0_0x39ce6a(0x4c3)]},Ua={'$id':(0x0,C['v4'])(),'type':a0_0x39ce6a(0x4e1),'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x39ce6a(0x757),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x39ce6a(0x5d6)},'participant':{'type':a0_0x39ce6a(0x5d6)}},'required':['id',a0_0x39ce6a(0x27d),a0_0x39ce6a(0x6b1)],...E('id',a0_0x39ce6a(0x6b1),a0_0x39ce6a(0x41e))},qa={'$id':(0x0,C['v4'])(),'type':a0_0x39ce6a(0x4e1),'properties':{'where':{'type':a0_0x39ce6a(0x4e1),'properties':{'_id':{'type':a0_0x39ce6a(0x5d6),'minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':a0_0x39ce6a(0x5d6),'minLength':0x1}},...E(a0_0x39ce6a(0x3bb),'id','pushName')}}},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x39ce6a(0x4e1),'properties':{'name':{'type':'string'}},...E(a0_0x39ce6a(0x257))},Va={'$id':(0x0,C['v4'])(),'type':'object','properties':{'status':{'type':a0_0x39ce6a(0x5d6)}},...E(a0_0x39ce6a(0x162))},Se={'$id':(0x0,C['v4'])(),'type':a0_0x39ce6a(0x4e1),'properties':{'number':{'type':a0_0x39ce6a(0x5d6)},'picture':{'type':'string'}}},Ba={'type':a0_0x39ce6a(0x4e1),'properties':{'wuid':{'type':a0_0x39ce6a(0x5d6)},'name':{'type':'string'},'picture':{'type':a0_0x39ce6a(0x5d6)},'status':{'type':a0_0x39ce6a(0x5d6)},'isBusiness':{'type':a0_0x39ce6a(0x757)}}},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x39ce6a(0x4e1),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x39ce6a(0x5d6),'minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x39ce6a(0x27d),'remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':a0_0x39ce6a(0x5d4)},'id':{'type':'string','minLength':0x1,'description':a0_0x39ce6a(0x5d4)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x39ce6a(0x4e1)}},...E(a0_0x39ce6a(0x3bb))},'limit':{'type':a0_0x39ce6a(0x298)}}},ec={'$id':(0x0,C['v4'])(),'type':a0_0x39ce6a(0x4e1),'properties':{'where':{'type':'object','properties':{'_id':{'type':'string'},'remoteJid':{'type':a0_0x39ce6a(0x5d6)},'id':{'type':a0_0x39ce6a(0x5d6)},'fromMe':{'type':a0_0x39ce6a(0x757),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':'string','enum':[a0_0x39ce6a(0x625),a0_0x39ce6a(0x38b),'SERVER_ACK','DELIVERY_ACK',a0_0x39ce6a(0x505),'PLAYED']}},...E(a0_0x39ce6a(0x3bb),a0_0x39ce6a(0x6b1),'id','status')},'limit':{'type':'integer'}}},Wa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...W},'presence':{'type':a0_0x39ce6a(0x5d6),'enum':[a0_0x39ce6a(0x5e4),'available',a0_0x39ce6a(0x2d6),a0_0x39ce6a(0x665),a0_0x39ce6a(0x1fd)]}},'required':[a0_0x39ce6a(0x2f6),'number']},za={'$id':(0x0,C['v4'])(),'type':'object','properties':{'subject':{'type':a0_0x39ce6a(0x5d6)},'description':{'type':a0_0x39ce6a(0x5d6)},'profilePicture':{'type':a0_0x39ce6a(0x5d6)},'participants':{'type':a0_0x39ce6a(0x167),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x39ce6a(0x5d6),'minLength':0xa,'pattern':a0_0x39ce6a(0x48d),'description':a0_0x39ce6a(0x5be)}}},'required':[a0_0x39ce6a(0x5bd),a0_0x39ce6a(0x540)],...E(a0_0x39ce6a(0x5bd),a0_0x39ce6a(0x7aa),'profilePicture')},Ee={'$id':(0x0,C['v4'])(),'type':a0_0x39ce6a(0x4e1),'properties':{'groupJid':{'type':'string','pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':[a0_0x39ce6a(0x469)],...E(a0_0x39ce6a(0x469))},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x39ce6a(0x4e1),'properties':{'groupJid':{'type':a0_0x39ce6a(0x5d6)},'action':{'type':a0_0x39ce6a(0x5d6),'enum':['add','remove',a0_0x39ce6a(0x25c),a0_0x39ce6a(0x68a)]},'participants':{'type':a0_0x39ce6a(0x167),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x39ce6a(0x5d6),'minLength':0xa,'pattern':a0_0x39ce6a(0x48d),'description':a0_0x39ce6a(0x5be)}}},'required':[a0_0x39ce6a(0x469),a0_0x39ce6a(0x41a),a0_0x39ce6a(0x540)],...E('groupJid','action')},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x39ce6a(0x4e1),'properties':{'groupJid':{'type':a0_0x39ce6a(0x5d6)},'expiration':{'type':a0_0x39ce6a(0x2f8),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid',a0_0x39ce6a(0x285)],...E(a0_0x39ce6a(0x469),a0_0x39ce6a(0x285))},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x39ce6a(0x4e1),'properties':{'groupJid':{'type':'string'},'image':{'type':a0_0x39ce6a(0x5d6)}},'required':[a0_0x39ce6a(0x469),a0_0x39ce6a(0x767)],...E(a0_0x39ce6a(0x469),'image')},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x39ce6a(0x4e1),'properties':{'groupJid':{'type':a0_0x39ce6a(0x5d6)},'description':{'type':a0_0x39ce6a(0x5d6)}},'required':[a0_0x39ce6a(0x469),a0_0x39ce6a(0x7aa)],...E(a0_0x39ce6a(0x469),a0_0x39ce6a(0x7aa))},Xa={'$id':(0x0,C['v4'])(),'type':a0_0x39ce6a(0x4e1),'properties':{'groupJid':{'type':a0_0x39ce6a(0x5d6)},'name':{'type':'string'}},'required':[a0_0x39ce6a(0x469),a0_0x39ce6a(0x257)],...E(a0_0x39ce6a(0x469),a0_0x39ce6a(0x257))},Za={'$id':(0x0,C['v4'])(),'type':a0_0x39ce6a(0x4e1),'properties':{'groupJid':{'type':a0_0x39ce6a(0x5d6)},'setting':{'type':a0_0x39ce6a(0x5d6),'enum':['announcement',a0_0x39ce6a(0x507),a0_0x39ce6a(0x45a),'locked']}},'required':[a0_0x39ce6a(0x469),a0_0x39ce6a(0x3a0)],...E(a0_0x39ce6a(0x469),'setting')},er={'$id':(0x0,C['v4'])(),'type':a0_0x39ce6a(0x4e1),'properties':{'inviteCode':{'type':a0_0x39ce6a(0x5d6)}},'required':[a0_0x39ce6a(0x4b1)],...E('inviteCode')},tr={'$id':(0x0,C['v4'])(),'type':a0_0x39ce6a(0x4e1),'properties':{'url':{'type':a0_0x39ce6a(0x5d6)},'enabled':{'type':a0_0x39ce6a(0x757),'enum':[!0x0,!0x1]}},'required':[a0_0x39ce6a(0x758),'enabled']},tc={'$id':(0x0,C['v4'])(),'type':a0_0x39ce6a(0x4e1),'properties':{'local_map':{'type':a0_0x39ce6a(0x757),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':'boolean','enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x39ce6a(0x757),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x39ce6a(0x757),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x39ce6a(0x757),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x39ce6a(0x757),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x39ce6a(0x757),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x39ce6a(0x757),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x39ce6a(0x757),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x39ce6a(0x757),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x39ce6a(0x757),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x39ce6a(0x757),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x39ce6a(0x757),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['local_map',a0_0x39ce6a(0x644),a0_0x39ce6a(0x7c2),a0_0x39ce6a(0x5ca),a0_0x39ce6a(0x557),'MESSAGES_UPSERT','SEND_MESSAGE','CONTACTS_SET','CONTACTS_UPSERT',a0_0x39ce6a(0x370),a0_0x39ce6a(0x303),a0_0x39ce6a(0x42d),a0_0x39ce6a(0x607),a0_0x39ce6a(0x66b),a0_0x39ce6a(0x40e),'CONNECTION_UPDATE',a0_0x39ce6a(0x1e0),a0_0x39ce6a(0x5f6),a0_0x39ce6a(0x310)],...E(a0_0x39ce6a(0x698),'STATUS_INSTANCE','QRCODE_UPDATED',a0_0x39ce6a(0x5ca),a0_0x39ce6a(0x557),a0_0x39ce6a(0x6ac),a0_0x39ce6a(0x261),a0_0x39ce6a(0x3be),'CONTACTS_UPSERT','CONTACTS_UPDATE',a0_0x39ce6a(0x303),'CHATS_SET',a0_0x39ce6a(0x607),a0_0x39ce6a(0x66b),a0_0x39ce6a(0x40e),a0_0x39ce6a(0x5a1),'GROUPS_UPSERT','GROUPS_UPDATE',a0_0x39ce6a(0x310))},Qe=class{},Ye=class extends D{[a0_0x39ce6a(0x20f)](_0x44aacc){return Gs(_0x44aacc);}async['insert'](_0x2c103c){const _0x119e8a=a0_0x39ce6a;if(_0x2c103c[_0x119e8a(0x44f)]!==0x0)try{return{'insertCount':(await this[_0x119e8a(0x20f)](_0x2c103c[0x0][_0x119e8a(0x3cb)])[_0x119e8a(0x3c7)]([..._0x2c103c]))[_0x119e8a(0x44f)]};}catch(_0x523539){return _0x523539;}}async['delete'](_0x1e5a54,_0x2527fa){const _0x131d49=a0_0x39ce6a;try{return{'deletedCount':(await this['getContactModelForOwner'](_0x2527fa)[_0x131d49(0x2bb)]({..._0x1e5a54['where']}))['deletedCount']};}catch(_0x44c59e){return{'error':_0x44c59e?.[_0x131d49(0x30b)]()};}}async[a0_0x39ce6a(0x226)](_0x5141b6,_0x591a35){const _0x3189d0=a0_0x39ce6a;try{if(_0x5141b6[_0x3189d0(0x44f)]===0x0)return;let _0x190201=this[_0x3189d0(0x20f)](_0x591a35),_0x2f54f8=_0x5141b6[_0x3189d0(0x477)](_0x30fdd0=>({'updateOne':{'filter':{'_id':_0x30fdd0[_0x3189d0(0x3bb)],'owner':_0x591a35},'update':{..._0x30fdd0}}})),{modifiedCount:_0x20620c}=await _0x190201['bulkWrite'](_0x2f54f8);return{'insertCount':_0x20620c};}catch{return;}}async['find'](_0x3a6ee2,_0x10955b){const _0x1bf7c6=a0_0x39ce6a;try{let _0x2e6a79=this[_0x1bf7c6(0x20f)](_0x10955b),_0x892ee7=A(_0x3a6ee2['where']);return await _0x2e6a79[_0x1bf7c6(0x280)](_0x892ee7)[_0x1bf7c6(0x2a7)](_0x3a6ee2?.['limit']??0x0)[_0x1bf7c6(0x41d)]();}catch{return[];}}async[a0_0x39ce6a(0x5c1)](_0x5779f3,_0x5d06d5){const _0x34fa41=a0_0x39ce6a;try{let _0x210050=this[_0x34fa41(0x20f)](_0x5d06d5),_0x1c16c6=A(_0x5779f3[_0x34fa41(0x43d)]);return await _0x210050[_0x34fa41(0x5c1)](_0x1c16c6)['lean']();}catch{return null;}}async['deleteAll'](_0x452d8e){const _0xe868fc=a0_0x39ce6a;try{return await this[_0xe868fc(0x20f)](_0x452d8e)[_0xe868fc(0x486)][_0xe868fc(0x6d9)](),{'success':!0x0};}catch(_0x5d3070){return console[_0xe868fc(0x16d)](_0x5d3070),{'success':!0x1,'error':_0x5d3070};}}},Xe=require(a0_0x39ce6a(0x5b8)),uc=require('express-async-errors'),hs=new N(a0_0x39ce6a(0x6cc)),U=class{['routerPath'](_0x20cde9,_0x10e075=!0x0){const _0x339b4f=a0_0x39ce6a;let _0x5c1a8b='/'+_0x20cde9;return _0x10e075&&(_0x5c1a8b+=_0x339b4f(0x221)),_0x5c1a8b;}async['dataValidate'](_0x4a6f17){const _0x484230=a0_0x39ce6a;let {request:_0x36cacc,schema:_0x2bdbd4,ClassRef:_0x5051a7,execute:_0x6a046b}=_0x4a6f17,_0x19fd40=new _0x5051a7(),_0x4b1bad=_0x36cacc[_0x484230(0x7c5)],_0x1c16fd=_0x36cacc[_0x484230(0x561)];_0x36cacc?.[_0x484230(0x720)]&&Object[_0x484230(0x322)](_0x36cacc[_0x484230(0x720)])[_0x484230(0x44f)]>0x0&&Object[_0x484230(0x5f0)](_0x1c16fd,_0x36cacc[_0x484230(0x720)]),_0x36cacc['originalUrl'][_0x484230(0x49a)](_0x484230(0x18c))&&Object[_0x484230(0x5f0)](_0x1c16fd,_0x4b1bad),Object[_0x484230(0x5f0)](_0x19fd40,_0x4b1bad);let _0x5e48b8=_0x2bdbd4?(0x0,Xe[_0x484230(0x2fe)])(_0x19fd40,_0x2bdbd4):{'valid':!0x0,'errors':[]};if(!_0x5e48b8['valid']){let _0x416e40=_0x5e48b8[_0x484230(0x1eb)]['map'](({property:_0x3d5d4d,stack:_0x8eb11d,schema:_0x41be9f})=>{const _0xc6bf96=_0x484230;let _0x11edb8;return _0x41be9f[_0xc6bf96(0x7aa)]?_0x11edb8=_0x41be9f[_0xc6bf96(0x7aa)]:_0x11edb8=_0x8eb11d[_0xc6bf96(0x214)](_0xc6bf96(0x630),''),{'property':_0x3d5d4d[_0xc6bf96(0x214)](_0xc6bf96(0x630),''),'message':_0x11edb8};});throw hs[_0x484230(0x16d)]([..._0x416e40]),new w(..._0x416e40);}return await _0x6a046b(_0x1c16fd,_0x19fd40);}async[a0_0x39ce6a(0x686)](_0xece54c){const _0x5788ad=a0_0x39ce6a;let {request:_0xa8cc1c,ClassRef:_0x171421,schema:_0x284d6e,execute:_0x104beb}=_0xece54c,_0x3ab19a=_0xa8cc1c[_0x5788ad(0x720)];if(!_0x3ab19a?.[_0x5788ad(0x469)])throw new w(_0x5788ad(0x5af),_0x5788ad(0x659));let _0x361e81=_0xa8cc1c[_0x5788ad(0x561)],_0x3a85bf=_0xa8cc1c[_0x5788ad(0x7c5)],_0x5cc3c5=new _0x171421();Object[_0x5788ad(0x5f0)](_0x3a85bf,_0x3ab19a),Object[_0x5788ad(0x5f0)](_0x5cc3c5,_0x3a85bf);let _0x248d84=(0x0,Xe[_0x5788ad(0x2fe)])(_0x5cc3c5,_0x284d6e);if(!_0x248d84[_0x5788ad(0x153)]){let _0x1a3916=_0x248d84['errors'][_0x5788ad(0x477)](({property:_0x769bb3,stack:_0x30fd93,schema:_0x1b6b8f})=>{const _0x32be51=_0x5788ad;let _0x5446b1;return _0x1b6b8f[_0x32be51(0x7aa)]?_0x5446b1=_0x1b6b8f[_0x32be51(0x7aa)]:_0x5446b1=_0x30fd93[_0x32be51(0x214)](_0x32be51(0x630),''),{'property':_0x769bb3[_0x32be51(0x214)](_0x32be51(0x630),''),'message':_0x5446b1};});throw hs[_0x5788ad(0x16d)]([..._0x1a3916]),new w(..._0x1a3916);}return await _0x104beb(_0x361e81,_0x5cc3c5);}async[a0_0x39ce6a(0x36c)](_0x211735){const _0x4d6143=a0_0x39ce6a;let {request:_0x133f46,ClassRef:_0x49fb41,schema:_0x1bd997,execute:_0x4263aa}=_0x211735,_0x394bb4=_0x133f46[_0x4d6143(0x7c5)];if(!_0x394bb4?.[_0x4d6143(0x4b1)])throw new w(_0x4d6143(0x6ab),_0x4d6143(0x6fe));let _0x4db355=_0x133f46['params'],_0xc40d89=_0x133f46['body'],_0x5312f=new _0x49fb41();Object[_0x4d6143(0x5f0)](_0xc40d89,_0x394bb4),Object[_0x4d6143(0x5f0)](_0x5312f,_0xc40d89);let _0x45b0b5=(0x0,Xe[_0x4d6143(0x2fe)])(_0x5312f,_0x1bd997);if(!_0x45b0b5['valid']){let _0x93a344=_0x45b0b5['errors'][_0x4d6143(0x477)](({property:_0xb0270b,stack:_0x1039fe,schema:_0x49960a})=>{const _0x183f60=_0x4d6143;let _0x484cb8;return _0x49960a[_0x183f60(0x7aa)]?_0x484cb8=_0x49960a['description']:_0x484cb8=_0x1039fe['replace'](_0x183f60(0x630),''),{'property':_0xb0270b[_0x183f60(0x214)]('instance.',''),'message':_0x484cb8};});throw hs[_0x4d6143(0x16d)]([..._0x93a344]),new w(..._0x93a344);}return await _0x4263aa(_0x4db355,_0x5312f);}},S=class{},Nc=new N('ChatRouter'),Ze=class extends U{constructor(..._0x5eedc8){const _0x4fbfb9=a0_0x39ce6a;super(),this[_0x4fbfb9(0x3b5)]=(0x0,sr['Router'])(),this[_0x4fbfb9(0x3b5)][_0x4fbfb9(0x67c)](this['routerPath'](_0x4fbfb9(0x674)),..._0x5eedc8,async(_0x297b70,_0x5be9a6)=>{const _0x5cff5c=_0x4fbfb9;let _0x56e1aa=await this['dataValidate']({'request':_0x297b70,'schema':Wa,'ClassRef':je,'execute':(_0x5ae3e1,_0x55004c)=>_['updatePresence'](_0x5ae3e1,_0x55004c)});return _0x5be9a6[_0x5cff5c(0x162)](0xc9)[_0x5cff5c(0x5ec)](_0x56e1aa);})[_0x4fbfb9(0x67c)](this[_0x4fbfb9(0x46b)](_0x4fbfb9(0x54c)),..._0x5eedc8,async(_0x370287,_0x11e283)=>{const _0x5e5bba=_0x4fbfb9;let _0x1c41eb=await this[_0x5e5bba(0x3e8)]({'request':_0x370287,'schema':ka,'ClassRef':Ue,'execute':(_0x57178d,_0x26ef5d)=>_[_0x5e5bba(0x75c)](_0x57178d,_0x26ef5d)});return _0x11e283[_0x5e5bba(0x162)](0xc9)[_0x5e5bba(0x5ec)](_0x1c41eb);})[_0x4fbfb9(0x67c)](this[_0x4fbfb9(0x46b)]('editChat'),..._0x5eedc8,async(_0x41429b,_0xa9c53b)=>{const _0xe25ab6=_0x4fbfb9;let _0x2e6750=await this[_0xe25ab6(0x3e8)]({'request':_0x41429b,'schema':v,'ClassRef':S,'execute':(_0x2be8b4,_0x385644)=>_['editChat'](_0x2be8b4,_0x385644)});return _0xa9c53b[_0xe25ab6(0x162)](0xc9)['json'](_0x2e6750);})[_0x4fbfb9(0x173)](this[_0x4fbfb9(0x46b)]('markMessageAsRead'),..._0x5eedc8,async(_0x5c2202,_0x3570d7)=>{const _0x50bde3=_0x4fbfb9;let _0x163424=await this['dataValidate']({'request':_0x5c2202,'schema':La,'ClassRef':Ve,'execute':(_0x3c4982,_0x1b2bd3)=>_[_0x50bde3(0x22c)](_0x3c4982,_0x1b2bd3)});return _0x3570d7['status'](0xc9)[_0x50bde3(0x5ec)](_0x163424);})[_0x4fbfb9(0x173)](this[_0x4fbfb9(0x46b)](_0x4fbfb9(0x161)),..._0x5eedc8,async(_0x395ddd,_0x35083d)=>{const _0x32b033=_0x4fbfb9;let _0x5ba236=await this[_0x32b033(0x3e8)]({'request':_0x395ddd,'schema':ja,'ClassRef':Be,'execute':(_0x552742,_0x56058c)=>_[_0x32b033(0x161)](_0x552742,_0x56058c)});return _0x35083d[_0x32b033(0x162)](0xc9)['json'](_0x5ba236);})[_0x4fbfb9(0x24c)](this[_0x4fbfb9(0x46b)](_0x4fbfb9(0x772)),..._0x5eedc8,async(_0x356aea,_0x2e5fae)=>{const _0x44e395=_0x4fbfb9;let _0x121939=await this[_0x44e395(0x3e8)]({'request':_0x356aea,'schema':Ua,'ClassRef':We,'execute':(_0x4de11b,_0x3f68bd)=>_[_0x44e395(0x51a)](_0x4de11b,_0x3f68bd)});return _0x2e5fae['status'](0xc9)[_0x44e395(0x5ec)](_0x121939);})[_0x4fbfb9(0x67c)](this[_0x4fbfb9(0x46b)](_0x4fbfb9(0x205)),..._0x5eedc8,async(_0x5daae7,_0x172911)=>{const _0x38b5a2=_0x4fbfb9;let _0x3ebcd7=await this[_0x38b5a2(0x3e8)]({'request':_0x5daae7,'schema':Se,'ClassRef':be,'execute':(_0x96ce57,_0x5a116e)=>_[_0x38b5a2(0x301)](_0x96ce57,_0x5a116e)});return _0x172911[_0x38b5a2(0x162)](0xc8)[_0x38b5a2(0x5ec)](_0x3ebcd7);})[_0x4fbfb9(0x67c)](this[_0x4fbfb9(0x46b)]('fetchProfile'),..._0x5eedc8,async(_0x471818,_0x2d4654)=>{const _0x319636=_0x4fbfb9;let _0x58d3d5=await this['dataValidate']({'request':_0x471818,'schema':Ba,'ClassRef':be,'execute':(_0x3c99d4,_0x5b2fa6)=>_[_0x319636(0x764)](_0x3c99d4,_0x5b2fa6)});return _0x2d4654[_0x319636(0x162)](0xc8)[_0x319636(0x5ec)](_0x58d3d5);})[_0x4fbfb9(0x67c)](this['routerPath'](_0x4fbfb9(0x728)),..._0x5eedc8,async(_0xc8ac69,_0x3f2b29)=>{const _0x279fc7=_0x4fbfb9;let _0x4d908f=await this[_0x279fc7(0x3e8)]({'request':_0xc8ac69,'schema':qa,'ClassRef':Qe,'execute':(_0x2791cd,_0x2c0332)=>_[_0x279fc7(0x33a)](_0x2791cd,_0x2c0332)});return _0x3f2b29['status'](0xc8)[_0x279fc7(0x5ec)](_0x4d908f);})[_0x4fbfb9(0x67c)](this['routerPath'](_0x4fbfb9(0x614)),..._0x5eedc8,async(_0x4d8ec6,_0x27ff2f)=>{const _0x1383d8=_0x4fbfb9;let _0x298739=await this[_0x1383d8(0x3e8)]({'request':_0x4d8ec6,'schema':null,'ClassRef':Object,'execute':(_0x49e310,_0x5f75d4)=>_[_0x1383d8(0x614)](_0x49e310,_0x5f75d4)});return _0x27ff2f[_0x1383d8(0x162)](0xc9)[_0x1383d8(0x5ec)](_0x298739);})['post'](this['routerPath']('findMessages'),..._0x5eedc8,async(_0x40b165,_0x56f6f1)=>{const _0x57c131=_0x4fbfb9;let _0x27d527=await this[_0x57c131(0x3e8)]({'request':_0x40b165,'schema':Ga,'ClassRef':Le,'execute':(_0xb51887,_0x5aa06a)=>_[_0x57c131(0x723)](_0xb51887,_0x5aa06a)});return _0x56f6f1['status'](0xc8)[_0x57c131(0x5ec)](_0x27d527);})[_0x4fbfb9(0x2b4)](this['routerPath'](_0x4fbfb9(0x1fc)),..._0x5eedc8,async(_0x26c638,_0x3d97e0)=>{const _0x401bc3=_0x4fbfb9;let _0x126989=await this[_0x401bc3(0x3e8)]({'request':_0x26c638,'schema':null,'ClassRef':S,'execute':_0x4a475c=>_[_0x401bc3(0x6f5)](_0x4a475c)});return _0x3d97e0[_0x401bc3(0x162)](0xc8)[_0x401bc3(0x5ec)](_0x126989);})[_0x4fbfb9(0x2b4)](this['routerPath']('findLabels'),..._0x5eedc8,async(_0x11c02b,_0x540099)=>{const _0x47a513=_0x4fbfb9;let _0x505ee7=await this[_0x47a513(0x3e8)]({'request':_0x11c02b,'schema':null,'ClassRef':S,'execute':_0xef61d9=>_[_0x47a513(0x513)](_0xef61d9)});return _0x540099[_0x47a513(0x162)](0xc8)[_0x47a513(0x5ec)](_0x505ee7);})['put'](this[_0x4fbfb9(0x46b)]('importChats'),..._0x5eedc8,async(_0x787b98,_0x36cc03)=>{const _0x298107=_0x4fbfb9;let _0xb38cc=await this[_0x298107(0x3e8)]({'request':_0x787b98,'schema':null,'ClassRef':Array,'execute':(_0x562035,_0x4395c4)=>_[_0x298107(0x563)](_0x562035,_0x4395c4)});return _0x36cc03[_0x298107(0x162)](0xc8)[_0x298107(0x5ec)](_0xb38cc);})[_0x4fbfb9(0x2b4)](this[_0x4fbfb9(0x46b)](_0x4fbfb9(0x67b)),..._0x5eedc8,async(_0x1ca854,_0x3f8dd3)=>{const _0x48967c=_0x4fbfb9;let _0x2db575=await this[_0x48967c(0x3e8)]({'request':_0x1ca854,'schema':null,'ClassRef':S,'execute':_0x411c0d=>_[_0x48967c(0x67b)](_0x411c0d)});return _0x3f8dd3['status'](0xc8)['json'](_0x2db575);})[_0x4fbfb9(0x173)](this[_0x4fbfb9(0x46b)](_0x4fbfb9(0x352)),..._0x5eedc8,async(_0x4f7341,_0x54d29f)=>{const _0xaff27=_0x4fbfb9;let _0x2b1a6f=await this[_0xaff27(0x3e8)]({'request':_0x4f7341,'schema':Fa,'ClassRef':Ge,'execute':(_0x2af1e7,_0x38b30e)=>_['updatePrivacySettings'](_0x2af1e7,_0x38b30e)});return _0x54d29f['status'](0xc9)[_0xaff27(0x5ec)](_0x2b1a6f);})['post'](this[_0x4fbfb9(0x46b)]('fetchBusinessProfile'),..._0x5eedc8,async(_0xb26d4a,_0x2ab85b)=>{const _0x325920=_0x4fbfb9;let _0x1ab863=await this[_0x325920(0x3e8)]({'request':_0xb26d4a,'schema':Se,'ClassRef':fe,'execute':(_0x1a4784,_0x245bd7)=>_['fetchBusinessProfile'](_0x1a4784,_0x245bd7)});return _0x2ab85b[_0x325920(0x162)](0xc8)[_0x325920(0x5ec)](_0x1ab863);})[_0x4fbfb9(0x67c)](this[_0x4fbfb9(0x46b)]('updateProfileName'),..._0x5eedc8,async(_0x40f019,_0x3fc307)=>{const _0x42b143=_0x4fbfb9;let _0x29ad24=await this['dataValidate']({'request':_0x40f019,'schema':Ja,'ClassRef':qe,'execute':(_0x53c665,_0x38d3f5)=>_['updateProfileName'](_0x53c665,_0x38d3f5)});return _0x3fc307[_0x42b143(0x162)](0xc8)[_0x42b143(0x5ec)](_0x29ad24);})[_0x4fbfb9(0x67c)](this[_0x4fbfb9(0x46b)](_0x4fbfb9(0x593)),..._0x5eedc8,async(_0x348ec5,_0x52222e)=>{const _0x252bad=_0x4fbfb9;let _0x2c0125=await this[_0x252bad(0x3e8)]({'request':_0x348ec5,'schema':Va,'ClassRef':Je,'execute':(_0x5b1926,_0x53d802)=>_[_0x252bad(0x593)](_0x5b1926,_0x53d802)});return _0x52222e[_0x252bad(0x162)](0xc8)['json'](_0x2c0125);})['put'](this[_0x4fbfb9(0x46b)](_0x4fbfb9(0x1ae)),..._0x5eedc8,async(_0x146077,_0x42ed29)=>{const _0x5bbff6=_0x4fbfb9;let _0x4f6383=await this[_0x5bbff6(0x3e8)]({'request':_0x146077,'schema':Se,'ClassRef':fe,'execute':(_0x219e0b,_0x34b6bc)=>_[_0x5bbff6(0x1ae)](_0x219e0b,_0x34b6bc)});return _0x42ed29[_0x5bbff6(0x162)](0xc8)[_0x5bbff6(0x5ec)](_0x4f6383);})[_0x4fbfb9(0x24c)](this[_0x4fbfb9(0x46b)](_0x4fbfb9(0x191)),..._0x5eedc8,async(_0xf8f9f8,_0x1a7046)=>{const _0x1a6ecf=_0x4fbfb9;let _0x27f738=await this['dataValidate']({'request':_0xf8f9f8,'schema':Se,'ClassRef':fe,'execute':(_0xe6920d,_0x3f9a0e)=>_[_0x1a6ecf(0x191)](_0xe6920d,_0x3f9a0e)});return _0x1a7046[_0x1a6ecf(0x162)](0xc8)[_0x1a6ecf(0x5ec)](_0x27f738);});}},ar=require('express'),et=class{},tt=class{},st=class{},at=class{},rt=class{},Q=class{},it=class{},ot=class extends Q{},nt=class extends Q{},ct=class extends U{constructor(..._0x3cc690){const _0x452812=a0_0x39ce6a;super(),this[_0x452812(0x3b5)]=(0x0,ar[_0x452812(0x340)])(),this[_0x452812(0x3b5)]['post'](this[_0x452812(0x46b)](_0x452812(0x451)),..._0x3cc690,async(_0x2f9a0b,_0x3a2ece)=>{const _0x2888ae=_0x452812;let _0x503129=await this[_0x2888ae(0x3e8)]({'request':_0x2f9a0b,'schema':za,'ClassRef':et,'execute':(_0x41450e,_0x474e58)=>F[_0x2888ae(0x4e7)](_0x41450e,_0x474e58)});_0x3a2ece[_0x2888ae(0x162)](0xc9)[_0x2888ae(0x5ec)](_0x503129);})[_0x452812(0x173)](this[_0x452812(0x46b)](_0x452812(0x6de)),..._0x3cc690,async(_0x12fec4,_0x306842)=>{const _0x190f68=_0x452812;let _0x5c1ffc=await this[_0x190f68(0x686)]({'request':_0x12fec4,'schema':Qa,'ClassRef':tt,'execute':(_0x1ffd27,_0x507b51)=>F[_0x190f68(0x6de)](_0x1ffd27,_0x507b51)});_0x306842[_0x190f68(0x162)](0xc9)[_0x190f68(0x5ec)](_0x5c1ffc);})[_0x452812(0x173)](this['routerPath']('groupDesc'),..._0x3cc690,async(_0xdb2b44,_0x322eea)=>{const _0x26d590=_0x452812;let _0x16c1e8=await this[_0x26d590(0x686)]({'request':_0xdb2b44,'schema':Ya,'ClassRef':st,'execute':(_0x295b68,_0x342c81)=>F['groupDesc'](_0x295b68,_0x342c81)});_0x322eea['status'](0xc9)[_0x26d590(0x5ec)](_0x16c1e8);})['put'](this[_0x452812(0x46b)](_0x452812(0x1dc)),..._0x3cc690,async(_0x2d11dd,_0x14520f)=>{const _0x708c43=_0x452812;let _0x34f081=await this[_0x708c43(0x686)]({'request':_0x2d11dd,'schema':Xa,'ClassRef':at,'execute':(_0x226273,_0xb659b4)=>F[_0x708c43(0x1dc)](_0x226273,_0xb659b4)});_0x14520f[_0x708c43(0x162)](0xc9)[_0x708c43(0x5ec)](_0x34f081);})[_0x452812(0x173)](this[_0x452812(0x46b)](_0x452812(0x3c1)),..._0x3cc690,async(_0xe82539,_0x167d2d)=>{const _0x1d4051=_0x452812;let _0x49822d=await this['groupValidate']({'request':_0xe82539,'schema':Za,'ClassRef':rt,'execute':(_0xd1c34,_0x298c7e)=>F['groupSetting'](_0xd1c34,_0x298c7e)});_0x167d2d[_0x1d4051(0x162)](0xc9)['json'](_0x49822d);})['put'](this[_0x452812(0x46b)](_0x452812(0x70d)),..._0x3cc690,async(_0x7502cc,_0x4953ec)=>{const _0xedbcff=_0x452812;let _0x24d003=await this[_0xedbcff(0x686)]({'request':_0x7502cc,'schema':Ka,'ClassRef':nt,'execute':(_0x5ce64b,_0x4f1c56)=>F['toggleEphemeral'](_0x5ce64b,_0x4f1c56)});_0x4953ec[_0xedbcff(0x162)](0xc9)[_0xedbcff(0x5ec)](_0x24d003);})[_0x452812(0x2b4)](this['routerPath'](_0x452812(0x336)),..._0x3cc690,async(_0x2aeb74,_0x3a6dc5)=>{const _0x366c28=_0x452812;let _0xdf42c2=await this[_0x366c28(0x686)]({'request':_0x2aeb74,'schema':Ee,'ClassRef':Q,'execute':(_0x13e921,_0x105fd3)=>F['findGroupInfo'](_0x13e921,_0x105fd3)});_0x3a6dc5[_0x366c28(0x162)](0xc8)[_0x366c28(0x5ec)](_0xdf42c2);})[_0x452812(0x2b4)](this[_0x452812(0x46b)](_0x452812(0x17d)),..._0x3cc690,async(_0x11e464,_0xc47aa3)=>{const _0x29f8df=_0x452812;let _0x241598=await this[_0x29f8df(0x3e8)]({'request':_0x11e464,'schema':v,'ClassRef':S,'execute':_0x2d2266=>F[_0x29f8df(0x17d)](_0x2d2266)});_0xc47aa3[_0x29f8df(0x162)](0xc8)[_0x29f8df(0x5ec)](_0x241598);})[_0x452812(0x2b4)](this[_0x452812(0x46b)](_0x452812(0x540)),..._0x3cc690,async(_0x23fbe8,_0x17291c)=>{const _0x14f87f=_0x452812;let _0x6b9b32=await this['groupValidate']({'request':_0x23fbe8,'schema':Ee,'ClassRef':Q,'execute':(_0x38faa6,_0x25c345)=>F[_0x14f87f(0x56b)](_0x38faa6,_0x25c345)});_0x17291c[_0x14f87f(0x162)](0xc8)[_0x14f87f(0x5ec)](_0x6b9b32);})[_0x452812(0x2b4)](this[_0x452812(0x46b)](_0x452812(0x4b1)),..._0x3cc690,async(_0x3e2537,_0x19a295)=>{const _0x4b46f4=_0x452812;let _0x2ecb4d=await this[_0x4b46f4(0x686)]({'request':_0x3e2537,'schema':Ee,'ClassRef':Q,'execute':(_0x4d01b3,_0x289a20)=>F['inviteCode'](_0x4d01b3,_0x289a20)});_0x19a295[_0x4b46f4(0x162)](0xc8)[_0x4b46f4(0x5ec)](_0x2ecb4d);})[_0x452812(0x173)](this[_0x452812(0x46b)](_0x452812(0x198)),..._0x3cc690,async(_0x595c5c,_0x2718db)=>{const _0x19d5ff=_0x452812;let _0x4b3a67=await this['joinGroupValidate']({'request':_0x595c5c,'schema':er,'ClassRef':it,'execute':(_0x3ff67c,_0x202b8e)=>F[_0x19d5ff(0x198)](_0x3ff67c,_0x202b8e)});_0x2718db[_0x19d5ff(0x162)](0xc9)['json'](_0x4b3a67);})[_0x452812(0x173)](this[_0x452812(0x46b)](_0x452812(0x34a)),..._0x3cc690,async(_0x48655a,_0x54a7a0)=>{const _0xe04cb6=_0x452812;let _0x50c3f8=await this[_0xe04cb6(0x686)]({'request':_0x48655a,'schema':Ee,'ClassRef':Q,'execute':(_0x5f53a0,_0x3edb7f)=>F['revokeInviteCode'](_0x5f53a0,_0x3edb7f)});_0x54a7a0[_0xe04cb6(0x162)](0xc9)['json'](_0x50c3f8);})['put'](this[_0x452812(0x46b)]('updateParticipant'),..._0x3cc690,async(_0x2d9f9d,_0x9bd158)=>{const _0x12b4d0=_0x452812;let _0x3dec7e=await this['groupValidate']({'request':_0x2d9f9d,'schema':Ha,'ClassRef':ot,'execute':(_0x2d7964,_0x2776bc)=>F[_0x12b4d0(0x3ab)](_0x2d7964,_0x2776bc)});_0x9bd158[_0x12b4d0(0x162)](0xc9)['json'](_0x3dec7e);})[_0x452812(0x24c)](this[_0x452812(0x46b)](_0x452812(0x1a8)),..._0x3cc690,async(_0x2f102b,_0x4389b6)=>{const _0x39a8ff=_0x452812;let _0x3f5c8f=await this[_0x39a8ff(0x686)]({'request':_0x2f102b,'schema':{},'ClassRef':Q,'execute':(_0x330883,_0x5d4f26)=>F[_0x39a8ff(0x1a8)](_0x330883,_0x5d4f26)});_0x4389b6[_0x39a8ff(0x162)](0xc8)[_0x39a8ff(0x5ec)](_0x3f5c8f);});}},rr=require(a0_0x39ce6a(0x6b5)),lt=class extends U{constructor(_0x25508c,..._0x21ae44){const _0x4f377a=a0_0x39ce6a;super(),this[_0x4f377a(0x1e7)]=_0x25508c,this[_0x4f377a(0x3b5)]=(0x0,rr[_0x4f377a(0x340)])();let _0x5bf399=_0x25508c[_0x4f377a(0x2b4)](_0x4f377a(0x535));this[_0x4f377a(0x3b5)][_0x4f377a(0x67c)]('/create',..._0x21ae44,async(_0x631cdf,_0x42ddd5)=>{const _0x4141ec=_0x4f377a;let {instanceName:_0x23f50a,apikey:_0x1976b4,number:_0x336daa}=_0x631cdf[_0x4141ec(0x7c5)],_0x2eeaec=await ie[_0x4141ec(0x78f)]({'instanceName':_0x23f50a,'apikey':_0x1976b4,'number':_0x336daa});return _0x42ddd5[_0x4141ec(0x162)](0xc9)[_0x4141ec(0x5ec)](_0x2eeaec);})[_0x4f377a(0x173)](this['routerPath']('restart'),..._0x21ae44,async(_0x5a31f7,_0x4086fa)=>{const _0x50752a=_0x4f377a;let _0xedb2fc=await this[_0x50752a(0x3e8)]({'request':_0x5a31f7,'schema':v,'ClassRef':S,'execute':_0x1f6970=>ie[_0x50752a(0x241)](_0x1f6970)});return _0x4086fa[_0x50752a(0x162)](0xc8)['json'](_0xedb2fc);})['get'](this[_0x4f377a(0x46b)]('connect'),..._0x21ae44,async(_0x5951d8,_0x3c8967)=>{const _0x8580d3=_0x4f377a;let _0xb65c33=await this[_0x8580d3(0x3e8)]({'request':_0x5951d8,'schema':v,'ClassRef':S,'execute':_0x51e94b=>ie[_0x8580d3(0x251)](_0x51e94b)});return _0x3c8967[_0x8580d3(0x162)](0xc8)[_0x8580d3(0x5ec)](_0xb65c33);})[_0x4f377a(0x2b4)](this[_0x4f377a(0x46b)]('connectionState'),..._0x21ae44,async(_0x365cee,_0x447a3c)=>{const _0x13e60a=_0x4f377a;let _0x5d1ad1=await this[_0x13e60a(0x3e8)]({'request':_0x365cee,'schema':v,'ClassRef':S,'execute':_0x391109=>ie[_0x13e60a(0x271)](_0x391109)});return _0x447a3c[_0x13e60a(0x162)](0xc8)[_0x13e60a(0x5ec)](_0x5d1ad1);})[_0x4f377a(0x2b4)](this[_0x4f377a(0x46b)](_0x4f377a(0x5c9),!0x1),..._0x21ae44,async(_0x29d829,_0x4b77c0)=>{const _0x5aea6e=_0x4f377a;let _0x1791ce=await this['dataValidate']({'request':_0x29d829,'schema':null,'ClassRef':S,'execute':_0x1ae510=>ie[_0x5aea6e(0x5c9)](_0x1ae510)});return _0x4b77c0['status'](0xc8)[_0x5aea6e(0x5ec)](_0x1791ce);})[_0x4f377a(0x24c)](this[_0x4f377a(0x46b)](_0x4f377a(0x2d8)),..._0x21ae44,async(_0xd92eea,_0x1dd9f5)=>{const _0x55e3d1=_0x4f377a;let _0x38d284=await this['dataValidate']({'request':_0xd92eea,'schema':v,'ClassRef':S,'execute':_0x2bc2c9=>ie[_0x55e3d1(0x2d8)](_0x2bc2c9)});return _0x1dd9f5[_0x55e3d1(0x162)](0xc8)[_0x55e3d1(0x5ec)](_0x38d284);})[_0x4f377a(0x24c)](this['routerPath']('delete'),..._0x21ae44,async(_0x3d596f,_0x259581)=>{const _0x3d01d5=_0x4f377a;let _0x57bdaf=await this[_0x3d01d5(0x3e8)]({'request':_0x3d596f,'schema':v,'ClassRef':S,'execute':_0x58dcfc=>ie[_0x3d01d5(0x4da)](_0x58dcfc)});return _0x259581[_0x3d01d5(0x162)](0xc8)[_0x3d01d5(0x5ec)](_0x57bdaf);});}},ir=require(a0_0x39ce6a(0x6b5)),gs=class{},G=class extends gs{},ut=class extends G{},dt=class extends G{},pt=class extends G{},ht=class extends G{},Ce=class extends G{},gt=class extends G{},mt=class extends G{},ft=class extends G{},wt=class extends G{},yt=class extends G{},bt=class{},St=class extends U{constructor(..._0x34d8b4){const _0x4450ad=a0_0x39ce6a;super(),this[_0x4450ad(0x3b5)]=(0x0,ir[_0x4450ad(0x340)])(),this[_0x4450ad(0x3b5)][_0x4450ad(0x67c)](this[_0x4450ad(0x46b)](_0x4450ad(0x49d)),..._0x34d8b4,async(_0x280393,_0x39e1cb)=>{const _0x59e7a2=_0x4450ad;let _0x30147b=await this[_0x59e7a2(0x3e8)]({'request':_0x280393,'schema':Ma,'ClassRef':ut,'execute':(_0x59f103,_0xe4af8c)=>B[_0x59e7a2(0x49d)](_0x59f103,_0xe4af8c)});return _0x39e1cb['status'](0xc9)[_0x59e7a2(0x5ec)](_0x30147b);})[_0x4450ad(0x67c)](this[_0x4450ad(0x46b)]('sendMedia'),..._0x34d8b4,async(_0x1c100c,_0x48e33c)=>{const _0x2adb13=_0x4450ad;let _0x30e8cf=await this['dataValidate']({'request':_0x1c100c,'schema':Ta,'ClassRef':Ce,'execute':(_0x4df9a6,_0x29229c)=>B[_0x2adb13(0x40b)](_0x4df9a6,_0x29229c)});return _0x48e33c['status'](0xc9)[_0x2adb13(0x5ec)](_0x30e8cf);})[_0x4450ad(0x67c)](this['routerPath'](_0x4450ad(0x2ef)),..._0x34d8b4,async(_0x5da942,_0x56f093)=>{const _0x45dfb0=_0x4450ad;let _0x57fd61=await this[_0x45dfb0(0x3e8)]({'request':_0x5da942,'schema':Ia,'ClassRef':ht,'execute':(_0x2962c4,_0x28e736)=>B[_0x45dfb0(0x2ef)](_0x2962c4,_0x28e736)});return _0x56f093[_0x45dfb0(0x162)](0xc9)[_0x45dfb0(0x5ec)](_0x57fd61);})[_0x4450ad(0x67c)](this['routerPath'](_0x4450ad(0x1c9)),..._0x34d8b4,async(_0x5865bd,_0x4e701d)=>{const _0x357802=_0x4450ad;let _0x2840e2=await this[_0x357802(0x3e8)]({'request':_0x5865bd,'schema':Oa,'ClassRef':Ce,'execute':(_0x1b8fb4,_0x532565)=>B[_0x357802(0x1c9)](_0x1b8fb4,_0x532565)});return _0x4e701d[_0x357802(0x162)](0xc9)['json'](_0x2840e2);})[_0x4450ad(0x67c)](this[_0x4450ad(0x46b)](_0x4450ad(0x464)),..._0x34d8b4,async(_0x233940,_0x56c698)=>{const _0x1ee1f9=_0x4450ad;let _0x2ec5f2=await this[_0x1ee1f9(0x3e8)]({'request':_0x233940,'schema':xa,'ClassRef':mt,'execute':(_0x5705b1,_0x4a6e8f)=>B[_0x1ee1f9(0x464)](_0x5705b1,_0x4a6e8f)});return _0x56c698['status'](0xc9)[_0x1ee1f9(0x5ec)](_0x2ec5f2);})['post'](this[_0x4450ad(0x46b)](_0x4450ad(0x62d)),..._0x34d8b4,async(_0x5638a2,_0x1cd90a)=>{const _0x13b724=_0x4450ad;let _0x5a4d7a=await this[_0x13b724(0x3e8)]({'request':_0x5638a2,'schema':Da,'ClassRef':ft,'execute':(_0x576e55,_0x298b13)=>B[_0x13b724(0x62d)](_0x576e55,_0x298b13)});return _0x1cd90a[_0x13b724(0x162)](0xc9)[_0x13b724(0x5ec)](_0x5a4d7a);})[_0x4450ad(0x67c)](this['routerPath'](_0x4450ad(0x725)),..._0x34d8b4,async(_0x3cfdb0,_0x3f6a3b)=>{const _0x4807f1=_0x4450ad;let _0x19a412=await this[_0x4807f1(0x3e8)]({'request':_0x3cfdb0,'schema':_a,'ClassRef':wt,'execute':(_0x59f036,_0x639309)=>B[_0x4807f1(0x725)](_0x59f036,_0x639309)});return _0x3f6a3b[_0x4807f1(0x162)](0xc9)['json'](_0x19a412);})[_0x4450ad(0x67c)](this[_0x4450ad(0x46b)](_0x4450ad(0x768)),..._0x34d8b4,async(_0xec4aaa,_0x59291c)=>{const _0x4e92fe=_0x4450ad;let _0x526ef2=await this['dataValidate']({'request':_0xec4aaa,'schema':Pa,'ClassRef':yt,'execute':(_0x436a52,_0x581e60)=>B['sendContact'](_0x436a52,_0x581e60)});return _0x59291c[_0x4e92fe(0x162)](0xc9)[_0x4e92fe(0x5ec)](_0x526ef2);})[_0x4450ad(0x67c)](this['routerPath']('sendReaction'),..._0x34d8b4,async(_0x2d5b0c,_0x4b1e73)=>{const _0x4625e5=_0x4450ad;let _0x5f1521=await this[_0x4625e5(0x3e8)]({'request':_0x2d5b0c,'schema':$a,'ClassRef':bt,'execute':(_0x5e7cf6,_0x3d5d26)=>B[_0x4625e5(0x740)](_0x5e7cf6,_0x3d5d26)});return _0x4b1e73[_0x4625e5(0x162)](0xc9)[_0x4625e5(0x5ec)](_0x5f1521);})[_0x4450ad(0x67c)](this[_0x4450ad(0x46b)](_0x4450ad(0x6dd)),..._0x34d8b4,async(_0x2e146e,_0x45a985)=>{const _0x65521c=_0x4450ad;let _0x557f59=await this[_0x65521c(0x3e8)]({'request':_0x2e146e,'schema':Aa,'ClassRef':pt,'execute':(_0x28632c,_0x584c16)=>B[_0x65521c(0x6dd)](_0x28632c,_0x584c16)});return _0x45a985[_0x65521c(0x162)](0xc9)['json'](_0x557f59);})[_0x4450ad(0x67c)](this[_0x4450ad(0x46b)](_0x4450ad(0x2ea)),..._0x34d8b4,async(_0x38be67,_0x20130d)=>{const _0x5b5124=_0x4450ad;let _0x1ba97e=await this[_0x5b5124(0x3e8)]({'request':_0x38be67,'schema':Ra,'ClassRef':dt,'execute':(_0x154310,_0x1cafed)=>B['sendStatus'](_0x154310,_0x1cafed)});return _0x20130d[_0x5b5124(0x162)](0xc9)['json'](_0x1ba97e);})[_0x4450ad(0x67c)](this['routerPath'](_0x4450ad(0x45f)),..._0x34d8b4,async(_0x14b567,_0x211717)=>{const _0x3dd19f=_0x4450ad;let _0x156abd=await this[_0x3dd19f(0x3e8)]({'request':_0x14b567,'schema':Na,'ClassRef':gt,'execute':(_0x52a081,_0x5f3c4d)=>B[_0x3dd19f(0x45f)](_0x52a081,_0x5f3c4d)});return _0x211717[_0x3dd19f(0x162)](0xc9)[_0x3dd19f(0x5ec)](_0x156abd);});}},or=require('express'),Et=class{},Ct=class extends U{constructor(..._0x382915){const _0x303cb4=a0_0x39ce6a;super(),this[_0x303cb4(0x3b5)]=(0x0,or[_0x303cb4(0x340)])(),this[_0x303cb4(0x3b5)][_0x303cb4(0x67c)](this[_0x303cb4(0x46b)](_0x303cb4(0x44b)),..._0x382915,async(_0x494294,_0x5a7067)=>{const _0x3a5eca=_0x303cb4;let _0x536bb3=await this[_0x3a5eca(0x3e8)]({'request':_0x494294,'schema':tr,'ClassRef':Et,'execute':(_0xbe4751,_0x59dc50)=>ms[_0x3a5eca(0x71d)](_0xbe4751,_0x59dc50)});_0x5a7067[_0x3a5eca(0x162)](0xc9)[_0x3a5eca(0x5ec)](_0x536bb3);})[_0x303cb4(0x2b4)](this[_0x303cb4(0x46b)]('find'),..._0x382915,async(_0x37bd81,_0x517b42)=>{const _0xb9112d=_0x303cb4;let _0x1f5e7c=await this['dataValidate']({'request':_0x37bd81,'schema':v,'ClassRef':S,'execute':_0x3695f5=>ms['findWebhook'](_0x3695f5)});_0x517b42[_0xb9112d(0x162)](0xc8)[_0xb9112d(0x5ec)](_0x1f5e7c);});}},nr=require(a0_0x39ce6a(0x6b5)),y=new N(a0_0x39ce6a(0x585)),Mt=class extends U{constructor(..._0x2d94da){const _0x3e18e9=a0_0x39ce6a;super(),this[_0x3e18e9(0x3b5)]=(0x0,nr[_0x3e18e9(0x340)])(),this[_0x3e18e9(0x3b5)][_0x3e18e9(0x67c)](this[_0x3e18e9(0x46b)](_0x3e18e9(0x542)),..._0x2d94da,async(_0x27abd5,_0x13ecf3)=>{const _0x256765=_0x3e18e9;let _0x16f799=_0x27abd5['body'];y[_0x256765(0x5b1)](_0x256765(0x238)),y[_0x256765(0x5b1)](_0x256765(0x784)),y[_0x256765(0x5b1)](_0x27abd5['body']);let _0x1e30e5=await this[_0x256765(0x3e8)]({'request':_0x27abd5,'schema':v,'ClassRef':S,'execute':_0x140243=>O[_0x256765(0x7b7)](_0x140243,_0x16f799)});_0x13ecf3['status'](0xc8)['json'](_0x1e30e5);})[_0x3e18e9(0x2b4)](this[_0x3e18e9(0x46b)](_0x3e18e9(0x542)),..._0x2d94da,async(_0x308a54,_0x4e0898)=>{const _0x50df03=_0x3e18e9;let _0x688d7e=await this[_0x50df03(0x3e8)]({'request':_0x308a54,'schema':v,'ClassRef':S,'execute':_0x4b1941=>O[_0x50df03(0x65a)](_0x4b1941)});_0x4e0898['status'](0xc8)[_0x50df03(0x5ec)](_0x688d7e);})[_0x3e18e9(0x24c)](this[_0x3e18e9(0x46b)](_0x3e18e9(0x736)),..._0x2d94da,async(_0x3d80e9,_0x571327)=>{const _0x1b31da=_0x3e18e9;y[_0x1b31da(0x5b1)](_0x1b31da(0x364));let _0x30390a=await this[_0x1b31da(0x3e8)]({'request':_0x3d80e9,'schema':v,'ClassRef':S,'execute':_0x18f0c5=>O['deleteDoneMessages'](_0x18f0c5)});_0x571327['status'](0xc8)[_0x1b31da(0x5ec)](_0x30390a);})['post'](this[_0x3e18e9(0x46b)](_0x3e18e9(0x2de)),..._0x2d94da,async(_0x7eadb,_0x1f3e44)=>{const _0x33d565=_0x3e18e9;let _0x358f43=_0x7eadb[_0x33d565(0x7c5)];y[_0x33d565(0x5b1)](_0x33d565(0x500)),y[_0x33d565(0x5b1)]('request\x20body:\x20'),y[_0x33d565(0x5b1)](_0x7eadb['body']);let _0x122cda=await this[_0x33d565(0x3e8)]({'request':_0x7eadb,'schema':v,'ClassRef':S,'execute':_0x2c3948=>O['startFlow'](_0x2c3948,_0x358f43)});_0x1f3e44[_0x33d565(0x162)](0xc8)[_0x33d565(0x5ec)](_0x122cda);})[_0x3e18e9(0x2b4)](this[_0x3e18e9(0x46b)](_0x3e18e9(0x6c8)),..._0x2d94da,async(_0x2995ce,_0x5894e6)=>{const _0x26a225=_0x3e18e9;y[_0x26a225(0x5b1)](_0x26a225(0x693));let _0x4bee72=await this['dataValidate']({'request':_0x2995ce,'schema':v,'ClassRef':S,'execute':_0x111a1a=>O[_0x26a225(0x6c8)](_0x111a1a)});_0x5894e6['status'](0xc8)[_0x26a225(0x5ec)](_0x4bee72);})[_0x3e18e9(0x2b4)](this['routerPath']('getTicketSystem'),..._0x2d94da,async(_0x304b97,_0x37d38c)=>{const _0x5aa4c5=_0x3e18e9;y[_0x5aa4c5(0x5b1)]('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0x46d95c=await this[_0x5aa4c5(0x3e8)]({'request':_0x304b97,'schema':v,'ClassRef':S,'execute':_0x2e6b00=>O[_0x5aa4c5(0x6c8)](_0x2e6b00)});_0x37d38c[_0x5aa4c5(0x162)](0xc8)['json'](_0x46d95c);})['post'](this['routerPath'](_0x3e18e9(0x793)),..._0x2d94da,async(_0x11504a,_0x21e95e)=>{const _0x5459ca=_0x3e18e9;let _0x48657f=_0x11504a['body'];y['verbose'](_0x5459ca(0x510)),y[_0x5459ca(0x5b1)](_0x5459ca(0x784)),y['verbose'](_0x11504a[_0x5459ca(0x7c5)]);let _0x4d193c=await this['dataValidate']({'request':_0x11504a,'schema':v,'ClassRef':S,'execute':_0xbc5084=>O[_0x5459ca(0x793)](_0xbc5084,_0x48657f)});_0x21e95e['status'](0xc8)['json'](_0x4d193c);})[_0x3e18e9(0x67c)](this[_0x3e18e9(0x46b)](_0x3e18e9(0x5fd)),..._0x2d94da,async(_0x26425d,_0x2750e5)=>{const _0x46d39e=_0x3e18e9;let _0x1faf39=_0x26425d[_0x46d39e(0x7c5)];y[_0x46d39e(0x5b1)](_0x46d39e(0x6d0)),y[_0x46d39e(0x5b1)]('request\x20body:\x20'),y[_0x46d39e(0x5b1)](_0x26425d['body']);let _0x1e091b=await this[_0x46d39e(0x3e8)]({'request':_0x26425d,'schema':v,'ClassRef':S,'execute':_0x53d340=>O[_0x46d39e(0x5fd)](_0x53d340,_0x1faf39)});_0x2750e5[_0x46d39e(0x162)](0xc8)[_0x46d39e(0x5ec)](_0x1e091b);})[_0x3e18e9(0x67c)](this['routerPath'](_0x3e18e9(0x4d9)),..._0x2d94da,async(_0x26889f,_0x8d5db3)=>{const _0x5cfe08=_0x3e18e9;let _0x6d4676=_0x26889f[_0x5cfe08(0x7c5)];y[_0x5cfe08(0x5b1)]('request\x20received\x20in\x20updateFlowConfig'),y[_0x5cfe08(0x5b1)](_0x5cfe08(0x784)),y[_0x5cfe08(0x5b1)](_0x26889f[_0x5cfe08(0x7c5)]);let _0x41056a=await this['dataValidate']({'request':_0x26889f,'schema':v,'ClassRef':S,'execute':_0x31cade=>O[_0x5cfe08(0x4d9)](_0x31cade,_0x6d4676)});_0x8d5db3[_0x5cfe08(0x162)](0xc8)[_0x5cfe08(0x5ec)](_0x41056a);})[_0x3e18e9(0x67c)](this[_0x3e18e9(0x46b)](_0x3e18e9(0x765)),..._0x2d94da,async(_0x7cb97d,_0x461050)=>{const _0x24f12a=_0x3e18e9;let _0x562c38=_0x7cb97d['body'];y[_0x24f12a(0x5b1)](_0x24f12a(0x6f2)),y[_0x24f12a(0x5b1)](_0x24f12a(0x784)),y[_0x24f12a(0x5b1)](_0x7cb97d['body']);let _0x4a2019=await this['dataValidate']({'request':_0x7cb97d,'schema':v,'ClassRef':S,'execute':_0x3762b7=>O[_0x24f12a(0x765)](_0x3762b7,_0x562c38)});_0x461050[_0x24f12a(0x162)](0xc8)['json'](_0x4a2019);})['post'](this[_0x3e18e9(0x46b)](_0x3e18e9(0x380)),..._0x2d94da,async(_0x362a79,_0x24d272)=>{const _0x2d69b8=_0x3e18e9;let _0x185dd6=_0x362a79[_0x2d69b8(0x7c5)];y['verbose'](_0x2d69b8(0x5e0)),y[_0x2d69b8(0x5b1)]('request\x20body:\x20'),y['verbose'](_0x362a79['body']);let _0x571bf2=await this[_0x2d69b8(0x3e8)]({'request':_0x362a79,'schema':v,'ClassRef':S,'execute':_0x2a5324=>O[_0x2d69b8(0x380)](_0x2a5324,_0x185dd6)});_0x24d272['status'](0xc8)['json'](_0x571bf2);})[_0x3e18e9(0x67c)](this['routerPath'](_0x3e18e9(0x232)),..._0x2d94da,async(_0x1a1f93,_0xf180e7)=>{const _0x50be6b=_0x3e18e9;let _0x42a957=_0x1a1f93['body'];y[_0x50be6b(0x5b1)]('request\x20received\x20in\x20editConversation'),y['verbose'](_0x50be6b(0x784)),y[_0x50be6b(0x5b1)](_0x1a1f93['body']);let _0x5ab44b=await this['dataValidate']({'request':_0x1a1f93,'schema':v,'ClassRef':S,'execute':_0x26976d=>O[_0x50be6b(0x232)](_0x26976d,_0x42a957)});_0xf180e7['status'](0xc8)[_0x50be6b(0x5ec)](_0x5ab44b);})['delete'](this[_0x3e18e9(0x46b)](_0x3e18e9(0x38d)),..._0x2d94da,async(_0x4cc9e6,_0x58e9be)=>{const _0x464027=_0x3e18e9;let _0x474699=_0x4cc9e6[_0x464027(0x7c5)];y['verbose']('request\x20received\x20in\x20deleteConversation'),y['verbose'](_0x464027(0x784)),y[_0x464027(0x5b1)](_0x4cc9e6[_0x464027(0x7c5)]);let _0x15c0d0=await this[_0x464027(0x3e8)]({'request':_0x4cc9e6,'schema':v,'ClassRef':S,'execute':_0x34703d=>O[_0x464027(0x38d)](_0x34703d,_0x474699)});_0x58e9be[_0x464027(0x162)](0xc8)[_0x464027(0x5ec)](_0x15c0d0);})['post'](this['routerPath']('createflow'),..._0x2d94da,async(_0x515aba,_0x4481ce)=>{const _0x3a8c32=_0x3e18e9;let _0x50381b=_0x515aba[_0x3a8c32(0x7c5)];y[_0x3a8c32(0x5b1)]('request\x20received\x20in\x20createFlow'),y[_0x3a8c32(0x5b1)](_0x3a8c32(0x784)),y[_0x3a8c32(0x5b1)](_0x515aba['body']);let _0x5175ff=await this[_0x3a8c32(0x3e8)]({'request':_0x515aba,'schema':v,'ClassRef':S,'execute':_0x57ce6d=>O[_0x3a8c32(0x406)](_0x57ce6d,_0x50381b)});_0x4481ce[_0x3a8c32(0x162)](0xc8)['json'](_0x5175ff);})[_0x3e18e9(0x67c)](this[_0x3e18e9(0x46b)]('editflow'),..._0x2d94da,async(_0x230d70,_0x9faa97)=>{const _0x2942bc=_0x3e18e9;let _0x374832=_0x230d70[_0x2942bc(0x7c5)];y[_0x2942bc(0x5b1)](_0x2942bc(0x677)),y[_0x2942bc(0x5b1)]('request\x20body:\x20'),y[_0x2942bc(0x5b1)](_0x230d70[_0x2942bc(0x7c5)]),delete _0x374832['blocks'],delete _0x374832[_0x2942bc(0x4fe)],delete _0x374832[_0x2942bc(0x448)],delete _0x374832[_0x2942bc(0x410)];let _0x2ebfaf=await this[_0x2942bc(0x3e8)]({'request':_0x230d70,'schema':v,'ClassRef':S,'execute':_0x549c9e=>O['editFlow'](_0x549c9e,_0x374832)});_0x9faa97[_0x2942bc(0x162)](0xc8)['json'](_0x2ebfaf);})[_0x3e18e9(0x67c)](this[_0x3e18e9(0x46b)](_0x3e18e9(0x1cf)),..._0x2d94da,async(_0x552e97,_0x3c467e)=>{const _0x28ca6c=_0x3e18e9;let _0x54c06c=_0x552e97['body'];y[_0x28ca6c(0x5b1)](_0x28ca6c(0x677)),y[_0x28ca6c(0x5b1)](_0x28ca6c(0x784)),y[_0x28ca6c(0x5b1)](_0x552e97[_0x28ca6c(0x7c5)]);let _0x32bcb6=await this[_0x28ca6c(0x3e8)]({'request':_0x552e97,'schema':v,'ClassRef':S,'execute':_0x2b31aa=>O[_0x28ca6c(0x68f)](_0x2b31aa,_0x54c06c)});_0x3c467e[_0x28ca6c(0x162)](0xc8)['json'](_0x32bcb6);})[_0x3e18e9(0x67c)](this[_0x3e18e9(0x46b)]('editflowreply'),..._0x2d94da,async(_0x9be07e,_0x52bf26)=>{const _0x3096bd=_0x3e18e9;let _0x385b8a=_0x9be07e[_0x3096bd(0x7c5)];y[_0x3096bd(0x5b1)](_0x3096bd(0x677)),y[_0x3096bd(0x5b1)](_0x3096bd(0x784)),y[_0x3096bd(0x5b1)](_0x9be07e[_0x3096bd(0x7c5)]);let _0x5c8f70=await this[_0x3096bd(0x3e8)]({'request':_0x9be07e,'schema':v,'ClassRef':S,'execute':_0x209d6d=>O[_0x3096bd(0x6ce)](_0x209d6d,_0x385b8a)});_0x52bf26[_0x3096bd(0x162)](0xc8)[_0x3096bd(0x5ec)](_0x5c8f70);})[_0x3e18e9(0x67c)](this[_0x3e18e9(0x46b)](_0x3e18e9(0x3a4)),..._0x2d94da,async(_0x27eaea,_0x1018b5)=>{const _0x1a3f10=_0x3e18e9;let _0x14a584=_0x27eaea['body'];y[_0x1a3f10(0x5b1)](_0x1a3f10(0x677)),y[_0x1a3f10(0x5b1)](_0x1a3f10(0x784)),y[_0x1a3f10(0x5b1)](_0x27eaea[_0x1a3f10(0x7c5)]);let _0x18214c=await this[_0x1a3f10(0x3e8)]({'request':_0x27eaea,'schema':v,'ClassRef':S,'execute':_0x13e81e=>O['editFlowVaredit'](_0x13e81e,_0x14a584)});_0x1018b5[_0x1a3f10(0x162)](0xc8)[_0x1a3f10(0x5ec)](_0x18214c);})[_0x3e18e9(0x67c)](this['routerPath'](_0x3e18e9(0x39c)),..._0x2d94da,async(_0x51d8e0,_0x1039bf)=>{const _0x50e6d6=_0x3e18e9;let _0x10a4c5=_0x51d8e0['body'];y['verbose'](_0x50e6d6(0x559)),y['verbose'](_0x50e6d6(0x784)),y[_0x50e6d6(0x5b1)](_0x51d8e0[_0x50e6d6(0x7c5)]);let _0x127d89=await this['dataValidate']({'request':_0x51d8e0,'schema':v,'ClassRef':S,'execute':_0x3cd726=>O['editFlowGroup'](_0x3cd726,_0x10a4c5)});_0x1039bf[_0x50e6d6(0x162)](0xc8)['json'](_0x127d89);})[_0x3e18e9(0x67c)](this[_0x3e18e9(0x46b)](_0x3e18e9(0x58b)),..._0x2d94da,async(_0x1a7c30,_0x2f63f1)=>{const _0x7f4067=_0x3e18e9;let _0x29f740=_0x1a7c30['body'];y[_0x7f4067(0x5b1)](_0x7f4067(0x72c)),y['verbose'](_0x7f4067(0x784)),y[_0x7f4067(0x5b1)](_0x1a7c30['body']);let _0x82ef2d=await this[_0x7f4067(0x3e8)]({'request':_0x1a7c30,'schema':v,'ClassRef':S,'execute':_0x53c004=>O[_0x7f4067(0x4fd)](_0x53c004,_0x29f740)});_0x2f63f1['status'](0xc8)['json'](_0x82ef2d);})['post'](this[_0x3e18e9(0x46b)](_0x3e18e9(0x4b7)),..._0x2d94da,async(_0x2418f4,_0x173aa7)=>{const _0x11709b=_0x3e18e9;let _0x170492=_0x2418f4[_0x11709b(0x7c5)];y['verbose'](_0x11709b(0x30f)),y[_0x11709b(0x5b1)](_0x11709b(0x784)),y[_0x11709b(0x5b1)](_0x2418f4[_0x11709b(0x7c5)]);let _0xd84162=await this[_0x11709b(0x3e8)]({'request':_0x2418f4,'schema':v,'ClassRef':S,'execute':_0x16f35b=>O[_0x11709b(0x6b2)](_0x16f35b,_0x170492)});_0x173aa7[_0x11709b(0x162)](0xc8)[_0x11709b(0x5ec)](_0xd84162);})[_0x3e18e9(0x67c)](this['routerPath'](_0x3e18e9(0x2a1)),..._0x2d94da,async(_0x226f46,_0x4be1bc)=>{const _0x618a64=_0x3e18e9;let _0x36d251=_0x226f46[_0x618a64(0x7c5)];y[_0x618a64(0x5b1)](_0x618a64(0x76f)),y[_0x618a64(0x5b1)](_0x618a64(0x784)),y[_0x618a64(0x5b1)](_0x226f46[_0x618a64(0x7c5)]);let _0x28e6e5=await this[_0x618a64(0x3e8)]({'request':_0x226f46,'schema':v,'ClassRef':S,'execute':_0x29a3d1=>O['getFlow'](_0x29a3d1,_0x36d251)});_0x4be1bc[_0x618a64(0x162)](0xc8)[_0x618a64(0x5ec)](_0x28e6e5);})['delete'](this['routerPath'](_0x3e18e9(0x4c2)),..._0x2d94da,async(_0x230520,_0x86d797)=>{const _0x343611=_0x3e18e9;let _0x5bf07b=_0x230520[_0x343611(0x7c5)];y[_0x343611(0x5b1)](_0x343611(0x487)),y[_0x343611(0x5b1)](_0x343611(0x784)),y[_0x343611(0x5b1)](_0x230520[_0x343611(0x7c5)]);let _0x2f0232=await this[_0x343611(0x3e8)]({'request':_0x230520,'schema':v,'ClassRef':S,'execute':_0x31e9f2=>O[_0x343611(0x1c6)](_0x31e9f2,_0x5bf07b)});_0x86d797[_0x343611(0x162)](0xc8)[_0x343611(0x5ec)](_0x2f0232);})['get'](this[_0x3e18e9(0x46b)](_0x3e18e9(0x304)),..._0x2d94da,async(_0x4dd3fb,_0x483d98)=>{const _0x42cc6e=_0x3e18e9;y[_0x42cc6e(0x5b1)](_0x42cc6e(0x57d));let _0x3aa87=await this[_0x42cc6e(0x3e8)]({'request':_0x4dd3fb,'schema':v,'ClassRef':S,'execute':_0x54e7c5=>O[_0x42cc6e(0x6e2)](_0x54e7c5)});_0x483d98[_0x42cc6e(0x162)](0xc8)[_0x42cc6e(0x5ec)](_0x3aa87);});}},dr=T(require(a0_0x39ce6a(0x47b))),Y={};function cr(_0x5af560,_0x54faf5,_0x5a734a,_0x2f3c40){Y[_0x5af560]||(Y[_0x5af560]={}),Y[_0x5af560][_0x54faf5]={'id':_0x54faf5,'response':_0x5a734a,'events':_0x2f3c40};}function lr(_0x3aacf5,_0x4b2a46){!Y[_0x3aacf5]||!Y[_0x3aacf5][_0x4b2a46]||delete Y[_0x3aacf5][_0x4b2a46];}function q(_0x179701,_0x952ce0,_0x198de5){const _0x2756b4=a0_0x39ce6a;if(!Y[_0x179701])return;let _0x5a2b42='data:\x20'+JSON[_0x2756b4(0x613)](_0x198de5)+'\x0a\x0a';Object['values'](Y[_0x179701])[_0x2756b4(0x797)](_0x2afa86=>{const _0x5e4cef=_0x2756b4;_0x2afa86['events']['includes'](_0x952ce0)&&_0x2afa86['response'][_0x5e4cef(0x646)](_0x5a2b42);});}function ur(){const _0x1f091e=a0_0x39ce6a;let _0x215f22={};for(let _0x219f9b in Y)_0x215f22[_0x219f9b]=Object['values'](Y[_0x219f9b])[_0x1f091e(0x477)](_0x50ffbd=>({'id':_0x50ffbd['id'],'events':_0x50ffbd['events']}));return _0x215f22;}var pr=require(a0_0x39ce6a(0x1d5)),ws=require(a0_0x39ce6a(0x1b0)),fs=class{},li=new ws[(a0_0x39ce6a(0x46d))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),ui=new ws[(a0_0x39ce6a(0x46d))]({'_id':{'type':String,'default':a0_0x39ce6a(0x197)},'WebhookGlobal':{'type':li},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),we=R?.['model'](fs['name'],ui,a0_0x39ce6a(0x268)),di=dr[a0_0x39ce6a(0x6b8)]['join'](__dirname,'downloads'),Nt=(0x0,vt['Router'])(),pi=b[a0_0x39ce6a(0x2b4)](a0_0x39ce6a(0x535))[a0_0x39ce6a(0x183)],ee=[ya,ba,Ca[pi]];Nt[a0_0x39ce6a(0x269)](a0_0x39ce6a(0x6fa),vt[a0_0x39ce6a(0x6b8)][a0_0x39ce6a(0x4c4)](di))[a0_0x39ce6a(0x2b4)]('/events/:instance',async(_0x27303c,_0x10a2f5)=>{const _0x497fb0=a0_0x39ce6a;console['log'](_0x497fb0(0x21d));let _0x152577=_0x27303c[_0x497fb0(0x561)]['instance'],_0x4e3c63=(_0x27303c[_0x497fb0(0x720)][_0x497fb0(0x605)]||'')[_0x497fb0(0x154)](','),_0x3afc0e=(0x0,pr['v4'])();console['log'](_0x497fb0(0x6e6),_0x152577),console['log'](_0x497fb0(0x475),_0x4e3c63);let _0x4843d3=b['get'](_0x497fb0(0x535))[_0x497fb0(0x529)],_0x3ef1f4=_0x27303c[_0x497fb0(0x720)][_0x497fb0(0x74e)];if(console['log']('API\x20Key\x20from\x20Request:',_0x3ef1f4),_0x4843d3['KEY']!==_0x3ef1f4){console[_0x497fb0(0x4e5)](_0x497fb0(0x53d));try{let _0x1764fc=await ue[_0x497fb0(0x377)]['find'](_0x152577);if(console[_0x497fb0(0x4e5)]('Instance\x20Key\x20from\x20DB:',_0x1764fc),!_0x1764fc||_0x1764fc[_0x497fb0(0x74e)]!==_0x3ef1f4)return console[_0x497fb0(0x4e5)](_0x497fb0(0x5d8)),_0x10a2f5[_0x497fb0(0x162)](0x191)['send']('API\x20Key\x20inválida.');}catch(_0x49f80f){return console[_0x497fb0(0x16d)](_0x497fb0(0x666),_0x49f80f),_0x10a2f5['status'](0x191)['send'](_0x497fb0(0x2fd));}}if(!await ze(_0x152577))return _0x10a2f5[_0x497fb0(0x162)](0x194)['send']('Instância\x20não\x20encontrada.');_0x10a2f5[_0x497fb0(0x4ec)]('Content-Type',_0x497fb0(0x437)),_0x10a2f5[_0x497fb0(0x4ec)](_0x497fb0(0x1f9),_0x497fb0(0x4de)),_0x10a2f5[_0x497fb0(0x4ec)]('Connection',_0x497fb0(0x6fb)),_0x10a2f5['flushHeaders']();let _0x2a248d=_0x497fb0(0x2a2)+JSON[_0x497fb0(0x613)]({'info':_0x497fb0(0x3d2)})+'\x0a\x0a';_0x10a2f5[_0x497fb0(0x646)](_0x2a248d),cr(_0x152577,_0x3afc0e,_0x10a2f5,_0x4e3c63),_0x27303c['on'](_0x497fb0(0x194),()=>{const _0x130071=_0x497fb0;console[_0x130071(0x4e5)](_0x130071(0x35b)+_0x152577),lr(_0x152577,_0x3afc0e);});}),Nt[a0_0x39ce6a(0x2b4)]('/clients-info',(_0x2f51cb,_0x2bff0f)=>{const _0x3e5ec3=a0_0x39ce6a;let _0x35f97b=ur();_0x2bff0f[_0x3e5ec3(0x5ec)](_0x35f97b);})[a0_0x39ce6a(0x2b4)]('/',(_0x1c4ff5,_0x2f5935)=>{const _0x5a2ec1=a0_0x39ce6a;let _0x18c2c8=b[_0x5a2ec1(0x2b4)]('SERVER')[_0x5a2ec1(0x4cb)];if(_0x18c2c8){let _0x367114=encodeURIComponent(''+_0x18c2c8);_0x2f5935[_0x5a2ec1(0x60c)](_0x5a2ec1(0x1d3)+_0x367114);return;}let _0x455533=b[_0x5a2ec1(0x2b4)](_0x5a2ec1(0x19a)),_0x4354aa=_0x455533&&_0x455533[_0x5a2ec1(0x3e5)][_0x5a2ec1(0x154)]('/')[0x4];if(_0x4354aa){let _0x434c51=encodeURIComponent('https://'+_0x4354aa);_0x2f5935['redirect']('https://uazapi-plugin.bubbleapps.io/?url='+_0x434c51);}else _0x2f5935[_0x5a2ec1(0x60c)](_0x5a2ec1(0x349));})[a0_0x39ce6a(0x173)]('/exit',...ee,async(_0x448325,_0x2836fa)=>{const _0x22458a=a0_0x39ce6a;try{console[_0x22458a(0x4e5)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x2836fa[_0x22458a(0x162)](0xc8)[_0x22458a(0x5ec)]({'message':_0x22458a(0x45c)}),_0x2836fa['on']('finish',()=>process['exit'](0x0));}catch(_0x120531){console[_0x22458a(0x16d)]('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x120531),_0x2836fa[_0x22458a(0x162)](0x1f4)[_0x22458a(0x5ec)]({'message':_0x22458a(0x270)});}})[a0_0x39ce6a(0x173)](a0_0x39ce6a(0x4c8),...ee,async(_0x201fa5,_0x5ebcc3)=>{const _0xa4ab51=a0_0x39ce6a;try{let _0x420884=_0x201fa5['body'];await we[_0xa4ab51(0x455)]({},{'$set':_0x420884},{'upsert':!0x0});let _0x51971b=await we[_0xa4ab51(0x5c1)]();_0x5ebcc3[_0xa4ab51(0x5ec)](_0x51971b);}catch(_0x14e097){_0x5ebcc3[_0xa4ab51(0x162)](0x190)['send'](_0x14e097[_0xa4ab51(0x1f0)]);}})[a0_0x39ce6a(0x2b4)](a0_0x39ce6a(0x4c8),...ee,async(_0x5bdfc7,_0x55c457)=>{const _0x39ce16=a0_0x39ce6a;try{let _0x371693=await we[_0x39ce16(0x5c1)]();if(!_0x371693)return _0x55c457[_0x39ce16(0x5ec)]({});_0x55c457[_0x39ce16(0x5ec)](_0x371693);}catch(_0x4026d8){_0x55c457[_0x39ce16(0x162)](0x1f4)['send'](_0x4026d8['message']);}})[a0_0x39ce6a(0x269)](a0_0x39ce6a(0x299),new lt(b,...ee)['router'])['use'](a0_0x39ce6a(0x75f),new St(...ee)[a0_0x39ce6a(0x3b5)])['use']('/chat',new Ze(...ee)[a0_0x39ce6a(0x3b5)])[a0_0x39ce6a(0x269)](a0_0x39ce6a(0x4e6),new ct(...ee)['router'])[a0_0x39ce6a(0x269)]('/webhook',new Ct(...ee)[a0_0x39ce6a(0x3b5)])[a0_0x39ce6a(0x269)]('/automate',new Mt(...ee)[a0_0x39ce6a(0x3b5)]);var w=class{constructor(..._0x527c99){const _0x18970e=a0_0x39ce6a;throw{'status':0x190,'error':_0x18970e(0x4b8),'message':_0x527c99[_0x18970e(0x44f)]>0x0?_0x527c99:void 0x0};}},Z=class{constructor(..._0x1757b5){const _0x410fa0=a0_0x39ce6a;throw{'status':0x191,'error':_0x410fa0(0x454),'message':_0x1757b5[_0x410fa0(0x44f)]>0x0?_0x1757b5:void 0x0};}},H=class{constructor(..._0x23744d){const _0x43d138=a0_0x39ce6a;throw{'status':0x193,'error':_0x43d138(0x785),'message':_0x23744d[_0x43d138(0x44f)]>0x0?_0x23744d:void 0x0};}},k=class{constructor(..._0x2c3852){const _0x12898a=a0_0x39ce6a;throw{'status':0x194,'error':'Not\x20Found','message':_0x2c3852[_0x12898a(0x44f)]>0x0?_0x2c3852:void 0x0};}},I=class{constructor(..._0x862337){const _0x48aedd=a0_0x39ce6a;throw{'status':0x1f4,'error':_0x48aedd(0x75b),'message':_0x862337[_0x48aedd(0x44f)]>0x0?_0x862337:void 0x0};}},de=require(a0_0x39ce6a(0x676));async function ys(_0x16c93f){const _0x5e6ab0=a0_0x39ce6a;let _0x5235a0=new N(ys[_0x5e6ab0(0x257)]),_0x44076a=R[_0x5e6ab0(0x5e6)](),_0x54b547=_0x44076a['db'](b[_0x5e6ab0(0x2b4)](_0x5e6ab0(0x237))['CONNECTION'][_0x5e6ab0(0x735)]+_0x5e6ab0(0x703))[_0x5e6ab0(0x486)](_0x16c93f),_0x52805f=async(_0x17f074,_0x60d05)=>{const _0xb14b55=_0x5e6ab0;try{return await _0x44076a['connect'](),await _0x54b547[_0xb14b55(0x243)]({'_id':_0x60d05},JSON['parse'](JSON[_0xb14b55(0x613)](_0x17f074,de[_0xb14b55(0x64e)][_0xb14b55(0x4f3)])),{'upsert':!0x0});}catch{}},_0x15ba05=async _0x4216e8=>{const _0x151db6=_0x5e6ab0;try{await _0x44076a[_0x151db6(0x5d0)]();let _0x522431=await _0x54b547['findOne']({'_id':_0x4216e8}),_0x3890f9=JSON[_0x151db6(0x613)](_0x522431);return JSON['parse'](_0x3890f9,de[_0x151db6(0x64e)][_0x151db6(0x5a8)]);}catch{}},_0x3c9f40=async _0x5dcccd=>{const _0x4c8352=_0x5e6ab0;try{return await _0x44076a[_0x4c8352(0x5d0)](),await _0x54b547[_0x4c8352(0x361)]({'_id':_0x5dcccd});}catch{}},_0x4d5989=await _0x15ba05('creds')||(0x0,de[_0x5e6ab0(0x254)])();return{'state':{'creds':_0x4d5989,'keys':{'get':async(_0x26632c,_0x114692)=>{const _0x1d047d=_0x5e6ab0;let _0xb0f54f={};return await Promise['all'](_0x114692[_0x1d047d(0x477)](async _0x59b0ab=>{const _0xd75bc5=_0x1d047d;let _0x4b21c6=await _0x15ba05(_0x26632c+'-'+_0x59b0ab);_0x26632c==='app-state-sync-key'&&_0x4b21c6&&(_0x4b21c6=de[_0xd75bc5(0x15e)][_0xd75bc5(0x186)][_0xd75bc5(0x5e8)][_0xd75bc5(0x522)](_0x4b21c6)),_0xb0f54f[_0x59b0ab]=_0x4b21c6;})),_0xb0f54f;},'set':async _0x3837c5=>{const _0x3b4a93=_0x5e6ab0;let _0x512a23=[];for(let _0x2dcbd5 in _0x3837c5)for(let _0x49fb92 in _0x3837c5[_0x2dcbd5]){let _0x292318=_0x3837c5[_0x2dcbd5][_0x49fb92],_0x263422=_0x2dcbd5+'-'+_0x49fb92;_0x512a23[_0x3b4a93(0x41f)](_0x292318?_0x52805f(_0x292318,_0x263422):_0x3c9f40(_0x263422));}await Promise[_0x3b4a93(0x39a)](_0x512a23);}}},'saveCreds':async()=>_0x52805f(_0x4d5989,'creds')};}function a0_0x2bec(){const _0x25ade3=['\x0a{\x20instance:\x20','editOperator','@g.us','listMessage','existsSync','):\x20Query\x20params:\x20','application/octet-stream','replaceVariables','drop','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','File\x20written\x20to\x20path:\x20','isConnected','sendPoll','updateGroupPicture','debug','/wa-message-update','processPollUpdateMessage','allFlows','reorderBlocks','messageType','updateBlock','Instance\x20ID:','model','):\x20Enviando\x20localização','apiResponse','Error\x20fetching\x20group','This\x20name\x20','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','certbot','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','request\x20received\x20in\x20getConversation','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','delaySecMax','fetchChats','prefixCommand','Rótulo\x20atualizado:','noConnection','Label\x20','/media','keep-alive','.xls','hbs','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','applyvaredit','STORE_CONTACTS','media','EXPIRIN_IN','-instances','findWebhook','getFlowModelForOwner','\x1b[0m','6963atAwHT','stoppedUntil','URL:','_activatedCount','):\x20Buscando\x20flow...','groupHandler','toggleEphemeral','maxActives','pollCreationMessageKey','/media/','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','):\x20Enviando\x20texto','uazapiSendMenu','prepareMediaMessage','mediaSticker','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','@s.whatsapp.net','AutomateSystem','audioWhatsapp','SERVER_TYPE','quoted','createWebhook','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','query','.png','nome','fetchMessages','getMessageModelForOwner','sendList','http://ip-api.com/json','hDel','findContacts','changeVariables','groupDesc','modifiedCount','request\x20received\x20in\x20editFlowcondition','AUTHENTICATION_TYPE','menuExpiredMessage','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','DELIVERY_ACK','Início','):\x20enviado\x20para\x20[','parseInt','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','DB_PREFIX_NAME','deleteDoneMessages','deleted','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','getHours','blockLogs','env','parse','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','The\x20global\x20api\x20key\x20must\x20be\x20set','.ogg','sendReaction','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','latitude','.jwt','Error\x20creating\x20group','lastmsg','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','\x22reaction\x22\x20must\x20be\x20an\x20emoji','):\x20this.processingScheduleMessageId:\x20','error_log','upsertedCount','axios','privacySettings','METHODS','apikey','/instance/delete','username','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','\x20não\x20encontrado','):\x20Editando\x20replyOption...','collections','EMAIL','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','boolean','url','menuType','detail','Internal\x20Server\x20Error','whatsappNumber','views','):\x20atualização\x20chat:\x20','/message','http://ipecho.net/plain','}}\x20->\x20\x22','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','editFlowGroup','fetchProfile','getConversation','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','image','sendContact','\x1b[37m%s\x1b[0m','lastBlockId','mimetype','mediatype','Error\x20change\x20group\x20description','unlinkSync','request\x20received\x20in\x20getFlow','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','#83e421','deleteMessageForEveryone','):\x20Enviando\x20áudio','leadInfo.desativadoFluxoAte','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','listResponseMessage','\x1b[1m\x1b[37m','Type\x20defined\x20as\x20audio','):\x20newSecondValue\x20após\x20replaceVariables:','\x20inseridos\x20no\x20banco\x20de\x20dados...','https://api.openai.com/v1/images/generations','delayChatLabel_RETRY_DELAY_MS','AutomateSystem\x20não\x20foi\x20inicializado','options','locationMessage','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','\x20minutos...','AUTHENTICATION_JWT_SECRET','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','request\x20body:\x20','Forbidden','COLOR','https://github.com/uazapi/uazapi.git','getTime','DATABASE_CONNECTION_DB_PREFIX_NAME','processConditionsTest','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','.\x20Aguardando\x20antes\x20de\x20reconectar...','reorderReplyOptions','TEL','createInstance','sending','Erro\x20ao\x20copiar\x20dados:','archived','updateAgent','listType','\x1b[33m\x1b[1m','scheduleNextCheck','forEach','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','):\x20Edit\x20schedule\x20message...','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand',',\x20pairCode:\x20','STORE','Error\x20removing\x20profile\x20picture','chats.upsert','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','#92ceac','process','ContactModel','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','Erro\x20ao\x20editar\x20o\x20bloco:\x20',',\x20fará\x20nova\x20verificação\x20em\x20','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','onWhatsApp','18827082Xvzjeh','rm\x20-rf\x20','description','ids','waMonitor','WA\x20MODULE','Fluxos\x20não\x20estão\x20ativados','getConversationModelForOwner','evaluateCondition','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','title','):\x20não\x20encontrou','.webp','../env.yml','urlencoded','editScheduleMessage','defineProperty','getScheduleMessageModelForOwner','\x22\x20-\x20REMOVED','):\x20Flow\x20não\x20encontrado','lastInteraction','class-validator','PRIVKEY','contact_blacklist','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','Image\x20is\x20url','QRCODE_UPDATED','CORS_CREDENTIALS','arraybuffer','body','audioMessage','#01d0e2','.jpg','listen','ini','Nenhum\x20chat\x20encontrado\x20para\x20editar.','unreadCount','Erro:','recebido\x20de','optionDescription','uazapiSendLocation','valid','split','Error\x20updating\x20profile\x20name','Fetching\x20business\x20profile','Error\x20fetching\x20and\x20updating\x20profile:\x20','menuIgnoreNonVotes','#fed428','SERVER_ACK','Cached\x20audio\x20found,\x20returning\x20existing\x20file','isListOfNumbers','createRegularFlow','proto','child_process','toNumber','archiveChat','status','8080','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','@redis/client','OrAnd','array','instanceName','CLEANING_INTERVAL','ReplyOption\x20com\x20ID\x20','qrcode','):\x20','error','deletedCount','_Chats','bearer','findById','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','put','numbers','unhandledRejection','long','Not\x20is\x20business\x20profile','loadEnv','updateMediaMessage','editChat','apply','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','findGroups','Erro\x20ao\x20importar\x20chats:','uazapiDeleteMessage','\x20não\x20encontrado\x20para\x20atualização.','flowPrefixCommand','InstancesAlterarTodas','TYPE','creds.update','Getting\x20profile\x20with\x20jid:\x20','Message','truncatedtoEnd','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','removed','\x5c$&','Log\x20out\x20instance:\x20','/instance/create','-whatsapp-api','updateMissingShareOwners','warn','Erro\x20inesperado\x20em\x20processvaredits:\x20','removeProfilePicture','LOG_COLOR','choices','close','):\x20conversation.lastInteraction:\x20','linkPreview','config','joinGroup','delaySecMin','SSL_CONF','EMAIL:','replaceVariablesInReplyOptions','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','deleteChat','Falha\x20após\x20várias\x20tentativas.','varedit','HeaderType','block','round','createJid','saveConversationToDatabase','SERVER','DATABASE_CONNECTION_PASSWORD','leaveGroup','\x1b[41m','):\x20teve\x20mudanças\x20chat.archived:\x20','):\x20Bloco\x20original\x20para\x20cópia:\x20','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','chats.update','updateProfilePicture','webhookService','mongoose','utf-8','dbInstance','contacts.update','created','ip:\x20','AUTHENTICATION_JWT_EXPIRIN_IN','HttpsProxyAgent','blockId','last','client','):\x20Enviando\x20mídia','updateReadReceiptsPrivacy','makeCacheableSignalKeyStore','\x1b[36m%s\x1b[0m','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','stickerMessage','/wa-chats','desc','http','\x20Tentativa\x20de\x20reconexão\x20','saveVariable','deleteFlow','lastSend','isJWT','sendWhatsAppAudio','):\x20Buscando\x20conversas...','viewOnceMessageV2','contact','50mb','messageSecret','editflowblock','Número:\x20','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','/wa-groups','https://uazapi-plugin.bubbleapps.io/?url=','removeChatLabel','uuid','apirequest','pre','flowConversation','upperCase','waitingMenu_text','processvaredits','groupName','namespace','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','processblock','GROUPS_UPSERT','):\x20Deletando\x20mensagem','menuMessage','flowName','sharePass','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','configService','Audio\x20processed','upsertChats','done','errors','src','formatVCard','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','messageTimestamp','message','\x22\x20cannot\x20be\x20empty','delayChatLabel','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','ListMessage','\x20-i\x20','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','):\x20Procurando\x20mensagens\x20para\x20envio','Database\x20is\x20not\x20enabled','Cache-Control','requestFile','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','findChats','paused','):\x20Entrou\x20na\x20função\x20goToFlow','connectionUpdate','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','loggedOut','SUCCESS','Erro\x20de\x20atualização:\x20','\x20attempts.','fetchProfilePictureUrl','/wa-contacts','loadWebhook','formatStatusMessage','http://ifconfig.me/ip','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','remoteJids','CONFIGURAÇÃO\x20GERAL:','waitingMenu_replyOptions','senderKeyDistributionMessage','getContactModelForOwner','online','birthtime','):\x20delete\x20=\x20true','verifiedName','replace','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','notify','ObjectId','presenceSubscribe','instance','Type\x20is\x20required','Error\x20in\x20converting\x20audio','):\x20Ler\x20mensagem','bateu\x20events','height','):\x20Erro\x20ao\x20editar\x20agentes:\x20','audio','/:instanceName','flowIgnoreGroups','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','longitude','uncaughtException','update','):\x20Erro\x20durante\x20a\x20atualização:\x20','DisconnectReason','Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','mongodb','483042jheGKt','readMessage','add','_Contacts','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','generateWAMessageFromContent','Error\x20update\x20group\x20picture','editConversation','RECONNECT_TIME_FRAME','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','convertaudio','normalizeMessage','DATABASE','request\x20received\x20in\x20scheduleMessage','empty','send.message','\x20contacts','public','messageContextInfo','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','refused','lastDisconnect','restartInstance','organization','replaceOne','groupRevokeInvite','Module\x20-\x20ON','):\x20Editando\x20variável\x20do\x20fluxo...','presence.update','delay','Error\x20change\x20group\x20setting','evaluateConditionTest','):\x20Visualizando\x20AutomateSystem','delete','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','getPrototypeOf','fileUrl','626129gtdLjp','connectToWhatsappController','groupParticipantsUpdate','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','initAuthCreds','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','REDIS_URI','name','localWebhook','phoneNumber','chatModify','\x1b[34m','promote','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','responsavelid','checkAndRestartProcess','NextBlock','SEND_MESSAGE','CREDENTIALS','Output\x20path:\x20','convertToWebP','messageHandle','http://myexternalip.com/raw','chatId','All_Instances_Config','use','\x20tentativas:\x20remotejid=','chatLog','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','function','Instance\x20deleted','Erro\x20ao\x20encerrar\x20a\x20API','connectionState','Instance\x20\x22','automateSystem','getMessage','dayjs','endsWith','Falta\x20informação\x20para\x20a\x20chamada\x20API','Error\x20in\x20scheduleNextCheck:\x20','values','importChatsBatch','certonly','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','fromMe','replaceVariablesInObject','apiName','find','fone','Atualização:\x20','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','groups.upsert','expiration','#9ba6ff','ENABLED','/instance/fetchInstances','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','picture','findGroup','silent','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','augusto.fcs@gmail.com','sendAudio','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','.mp4','blocks','status.instance','findAndReplace','realVariables','scheduled','findOrCreate','integer','/instance','No\x20invite\x20code','end','messages.set','encoding','flowConfig','imported','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','getflow','data:\x20','greater','_FlowHistorico','findGroupInfo','redis://127.0.0.1:6379','limit','spawn','extractRegex','output','webp','Content\x20is\x20required','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','role','.ogv','readFile','buttons','#56ccb4','cache','get','\x1b[40m','replaceVariablesChat','DATABASE_CONNECTION_HOST','copy','now','max','deleteMany','unknown\x20operation\x20type\x20[','markMessageAsRead','Error\x20updating\x20setting','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','error\x20get\x20vote','The\x20\x22','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','_p_','utf8','):\x20Buscando\x20conversa...','#000000','and','Variáveis\x20não\x20encontradas:','Selecione','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','HOST','hGet','^\x5cd+[\x5c.@\x5cw-]+','express-async-errors','):\x20Buscando\x20todos\x20os\x20fluxos...','/wa-message','list','stopped','dbSettings','insertCount','restrict','composing','stateConnection','logout','authState','hSet','indexOf','):\x20newFirstValue\x20após\x20replaceVariables:','everyOne','startFlow','less','reactionMessage','http://icanhazip.com/','cleanStore','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','none','originalUrl','Data\x20inválida\x20fornecida','labels.edit','\x20is\x20already\x20in\x20use.','):\x20Alterando\x20fluxo...','sendStatus','saveMediaToFile','exec','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','editFlowVaredit','sendMenu','checkAndUpdateChatStatus','TEXT','\x20-\x20retornado:\x20','instanceName\x20not\x20provided.','variablesToObject','pollUpdateMessage','presence',':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...','number','/wa-presence','goNextblock','delAll','updateMissingLabels','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','validate','labels.association','updateProfilePicturePrivacy','fetchProfilePicture','contains','PRESENCE_UPDATE','allflows','response','waUploadToServer','context','Erro\x20ao\x20inserir\x20chats:','Imagem\x20não\x20encontrada','messages.upsert','toString','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','displayName','1703060jrFbvx','request\x20received\x20in\x20editFlowvariable','GROUP_PARTICIPANTS_UPDATE','firstValue','Operador:\x20\x22','getStatus','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','user','pt-BR','scheduleMessages','Temp\x20image\x20deleted','SendScheduleMessage','padEnd','cleaningUp','$dbName','#b4ebff','@ffmpeg-installer/ffmpeg','):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid=','Types','wuid','keys','cwd','value','LOG','.\x20Pulando.','Error\x20while\x20deleting\x20message\x20for\x20everyone','deleteReplyOption','groupFetchAllParticipating','isInteger','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','createSectionsFromValues','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','Failed\x20to\x20find\x20chat\x20','.X-ABLabel:Celular\x0a','):\x20Campos\x20a\x20serem\x20atualizados:','announce','Type\x20not\x20found','Unable\x20to\x20leave\x20the\x20group','):\x20Enviando\x20enquete','Invalid\x20format','findGroupInfos','):\x20Iniciando\x20bot...','oldToken','updateStopChat','fetchContacts','AddChatLabel','prepareWAMessageMedia','\x20foi\x20interrompido\x20pelo\x20usuário.','Comando\x20desconhecido','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','Router','hasOwnProperty','findOneAndUpdate','match','metadata','fetchStatus','https://jsonip.com','statusCode','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','https://uazapi-plugin.bubbleapps.io/','revokeInviteCode','waInstances','exists','data','success','LICENSE_INVALID','groupUpdateSubject','groupInviteCode','updatePrivacySettings','processgoToFlow','8wvLnqb','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','?timestamp=','[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22','gifPlayback','_Labels','):\x20Conversa\x20inserida\x20com\x20sucesso.','Connection\x20closed\x20for\x20instance:\x20','\x20minutos','sleep','password','contextInfo','PASSWORD','deleteOne','Rótulo\x20inválido\x20ou\x20sem\x20ID.','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','request\x20received\x20in\x20deleteDoneMessages','Button\x20texts\x20cannot\x20be\x20repeated','goToFlow','headers','setUpdate',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','console','createClient','joinGroupValidate',':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20','nextBlock:','LOG_LEVEL','CONTACTS_UPDATE','leadInfo.etiquetas','https://api.ipify.org?format=json','creds.json','groupMetadata','getFlow','.pdf','auth','contactname','vcard','ButtonsMessage','DATABASE_CONNECTION_URI','closed','envProcess','mediaKey',']\x20(','fetchConversation','envYaml','Enter\x20a\x20value\x20in\x20milliseconds','base64','Erro\x20ao\x20editar\x20agentes:\x20','statusMessage','moreLogs','Certbot:\x20','findByIdAndUpdate','emit','@broadcast','PENDING','sectionsToString','deleteConversation','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','sort','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','MAX_RECONNECT_ATTEMPTS','https://','caption','deleteBlock','waitingMenu_id','AUTHENTICATION_API_KEY','):\x20debug\x20alterando\x20this.AutomateSystem','Erro\x20ao\x20normalizar\x20a\x20mensagem:','Deletion\x20failed','all','\x22,\x20valor\x20a\x20substituir:\x20\x22','editflowgroup','\x1b[33m','sections','release','setting','):\x20Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','reaction','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','editflowvaredit','updateMissingCustomFields','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','contactMessage','):\x20Editando\x20bloco...','):\x20Entrou\x20na\x20função\x20saveReply','toUpperCase','updateGParticipate','KEY','not\x20loaded','pushName','\x20-\x20ON:\x20','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','SERVER_OFFLINE','ListType','Erro\x20ao\x20adicionar\x20label\x20','\x20horas\x20e\x20','router','key','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','Telefone:\x20','protocolMessage','_id','resetReconnectionVariables','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','CONTACTS_SET','slice','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','groupSetting','flattenObject','Error\x20in\x20chatModify\x20for\x20number\x20','WARN','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','trimmed','insertMany','conversation','*Pergunta*:\x20\x0a','\x1b[37m','owner','updateStatusPrivacy','uazapiSendAudio','):\x20tem\x20blocks','urlOrBase64','connecting','getDelay','Conexão\x20estabelecida','content-type','):\x20Conversa\x20está\x20expirada','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Erro\x20ao\x20sincronizar\x20fluxos:\x20','updateOneById','prototype','profilePicture','group','Bloco\x20com\x20ID\x20','varedits','findFlow','--agree-tos','throwAndLogError','videoMessage','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','findIndex','):\x20isVote:\x20','FULLCHAIN','setWebhook','removeInstance','dataValidate','):\x20Editando\x20condição\x20do\x20fluxo...','stdout','updateProfileName','hex','waitingForReplyMenu','closeExistingConversations','atendimentoAberto','exports','\x20->\x20CONFIRMADO.','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','createConversationforgoToFlow','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','):\x20Current\x20Time:\x20','lastReceivedMessage','scheduleSendMedia','Parando\x20aplicação,\x20atualização\x20recebida','INFO','state','\x20}\x0a','StartBot','stanzaId','_Messages','Group\x20not\x20found','processUazapi','vote','readreceipts','#00a1f2','pino','dbClient','createFlow','command','eventEmitter','mediaMessage','https://api.openai.com/v1/audio/speech','sendMedia','):\x20Bloco\x20com\x20ID\x20','\x1b[34m%s\x1b[0m','CHATS_DELETE','hGetAll','conditions','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','subjectOwner','nomecompleto','contentText','groups_ignore','protocol','Flow\x20não\x20encontrado','):\x20Criando\x20fluxo\x20regular...','.svg','action','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','reference','lean','participant','push','\x20saindo\x20da\x20função','rowId','repository','Chat\x20com\x20ID\x20','PREFIX_KEY',',\x20valor\x20passado:\x20\x22','<subdomain>','):\x20Error\x20processing\x20the\x20block:\x20','#ff9484','\x1b[47m','tags','DATABASE_CONNECTION_USER','contactHandle','CHATS_SET','insert','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','VERBOSE','bulkWrite','type','notEmpty','Flow\x20iniciado\x20com\x20','Archiving\x20chat','repeat','text/event-stream','/wa-qrcode','pop','arrayUnique','timerId','from','where','\x1b[1m','selectableCount','STORE_CLEANING_TERMINAL','substring',':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...','has',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','saveTextReply','statusJidList','groups','CORS','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','set','subdomain','):\x20Bloco\x20copiado:\x20','out','length','REDIS','create','ultimaTentativaRemoteJid','Erro\x20ao\x20remover\x20instâncias\x20antigas:','Unauthorized','updateOne','desativadoFluxoAte','groupSettingUpdate','USER','reconnectTimestamps','unlocked','Erro\x20ao\x20remover\x20label\x20','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','Button\x20IDs\x20cannot\x20be\x20repeated.','count','sendSticker','):\x20conversation.waitingMenu_name','next_groupId','badSession','SERVER_PORT','sendButtons','storePath','Erro\x20ao\x20atualizar\x20o\x20fluxo:','Background\x20color\x20is\x20required','PROXY','groupJid','#ffffff','routerPath','messages.update','Schema','connectedName','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','delayMessage','Authentication\x20error','truncatedto','DD/MM\x20HH:mm:ss','@newsletter','Subscribed\x20Events:','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','map','MessageModel','synchronizeFlows','cors','path','\x20removido\x20do\x20chat\x20','webhookModel','color','toBrazilianNumberFormat','1287576VxrvbN','createAndSave','ignoreGroups','label_jid','isLong','folder','collection','request\x20received\x20in\x20deleteFlow','leadInfo','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','newStoppedUntil','fetchLatestBaileysVersion','END:VCARD','\x5cd+','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','imagechat','CONECTADO\x20À\x20UAZAPI','DATABASE_ENABLED','generateHash','backgroundColor','true','\x20adicionado\x20ao\x20chat\x20','isBase64','Erro\x20ao\x20aplicar\x20varedit:\x20','getVariablesChat','848tiQKGA','includes','endSession','URI','sendText','Error\x20change\x20group\x20name','\x1b[44m','):\x20Ignoring\x20group\x20messages.','setNewValue','\x20-y','Mensagem\x20não\x20suportada','\x1b[43m','stopConversation','isRunning','messagesSend','stderr','toBRL','code','chatHandle','fileName','Last\x20message\x20not\x20found\x20for\x20number:','groupToggleEphemeral','redisEnv','uazapiSendMedia','inviteCode','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','creds','replyOptions','headerString','editFlow','editflowvariable','Bad\x20Request','pairingCode','Getting\x20profile\x20info','available','):\x20Editando\x20edição\x20do\x20fluxo...','\x20de\x20conectar\x20com\x20IP\x20extra.','ERROR:\x20',',\x20Comparador:\x20','eventHandler','getAllData','deleteflow','archive','static','\x0a*Você\x20respondeu*:\x0a','getDevice','):\x20alterando\x20this.AutomateSystem','/config','start','writeFile','URL','digest','ephemeralMessage','messaging-history.set','eventemitter2','):\x20lastBlockId:\x20','getProfileName','when','replyOption','lastMessage','Chat\x20','node-cache','pollCreationMessage','pollErrorMessage','updateFlowConfig','deleteInstance','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','join','currency','no-cache','\x20minutos\x20verificará\x20novas\x20mensagens','):\x20Fluxos\x20não\x20estão\x20ativados','object','getUpdate','footerText','labelId','log','/group','createGroup','sendMessage','secondValue','Error\x20updating\x20participants','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','setHeader','label','DaysToDelete','Erro\x20ao\x20editar\x20a\x20conversa:\x20','readMessageBot','profile','formatBRNumber','replacer','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','getRandomText','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','.uazapi.dev','sha256','Image\x20is\x20base64','readMessages','enabled','Revoke\x20error','editFlowCondition','variables',',\x20saindo.','request\x20received\x20in\x20starFlow','groups.update','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','minutesToClose','JWT','READ','flow','not_announcement','createHash','lowerCase','DARK','):\x20Não\x20achou\x20nenhum\x20flow','downloads','findAndReplaceRegex','authModel','fetchBusinessProfile','request\x20received\x20in\x20updateAgent','startsWith','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','fetchLabels','https-proxy-agent','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','Image\x20path:\x20','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','#dfaef0','DEBUG','deleteMessage','chats','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','userDevicesCache','some','\x1b[36m','audio/mp4','/wa-connection-update','fromObject','Chrome','useMultiFileAuthState','status@broadcast','size','readData','buttonMessage','API_KEY','isArray','PORT','method','copyDataToNewModel','Esse\x20fluxo\x20expirou','Profile\x20not\x20found','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','video','):\x20Usando\x20extensão\x20padrão:\x20','rows','AUTHENTICATION','Reinicialização\x20iniciada:\x20','findAll','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','mkdirSync','waitingMenu_ExpiredMessage','save','env.KEY\x20!==\x20key',',\x20qrcodeCount:\x20','font','participants','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','scheduleMessage','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','Instance\x20restarted','readFileSync','Valor\x20inicial:\x20\x22','Rótulo\x20deletado:','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','/*.json','app-state-sync-key','whatsappNumbers','uazapi','toLocaleString','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','normalizeMessageContent','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','contactsArrayMessage',',\x20Expiration\x20Time:\x20','Error\x20writing\x20file:\x20','No\x20participants','MESSAGES_UPDATE','filter','request\x20received\x20in\x20editFlowgroup','group-participants.update','floor','dark','\x20chats\x20de\x20','No\x20join\x20group\x20invite\x20code\x20or\x20url','execSync','\x20não\x20encontrado\x20para\x20cópia','params','\x20e\x20ID=','importChats','.error','\x1b[31m','getContentType','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','store','/instance/connectionState','findConversation','findParticipants','delayChatLabel_MAX_RETRIES','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','Variável\x20não\x20encontrada!','):\x20Going\x20to\x20','CORS_ORIGIN','chats.set','connectToWhatsapp','buffer','pollMessageOnDelete','matchRegex',',\x20lastCondition:\x20','_ScheduleMessages','video-cover.png','interval\x20não\x20é\x20um\x20número','order','unreadcount','logger','request\x20received\x20in\x20allFlows','CONNECTION','shareOwners','^\x5cd+','dbServer','processConditions','remove','replaceValue','FlowRouter','Processing\x20audio','notContains','\x20do\x20chat\x20','deleteAll','.docx','editflowcondition','groupCreate','splice','loadproxy','copyBlock','updateAll','Error\x20in\x20markMessageAsRead:','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','updateProfileStatus','pollOnReplyDelete','#d3a91f','WebhookGlobal','trim','addBlock','updateGParticipant','node-mime-types','selectedOptions','RemoveChatLabel','.webm','messages','qrcode.updated','info','CONNECTION_UPDATE','):\x20teve\x20mudanças\x20chat.name:\x20','):\x20teve\x20mudanças\x20chat.displayName:\x20','allContacts','writeFileSync','preview','Logger','reviver','flowStopConversation','__esModule','equal','pollMessage','ORG:','reconnectAttempts','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','\x20segundos','verbose',':\x20Erro\x20durante\x20loadproxy\x20-\x20','/instance/connect','instances','msgRetryCounterCache','Audio\x20converted\x20and\x20stored\x20in\x20cache','\x20com\x20sucesso.','jsonschema','groupLeave','email','):\x20customFieldVariables','Safari\x20(MacOS)','subject','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','getMinutes','\x22\x20not\x20found','findOne','Erro\x20do\x20Certbot:\x20','contacts.upsert','Hash\x20to\x20image\x20name:\x20','*\x0a\x0a','loadInstance','exit','qrCode','fetchInstances','MESSAGES_SET','statSync','):\x20conversation.status:\x20','lastCondition','isJidGroup','https://ipinfo.io/json','connect','chat','REDIS_ENABLED','stopWhenYouSendMsg','The\x20property\x20cannot\x20be\x20empty','test','string','temp-','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','CORS_METHODS','saveCreds','):\x20Mensagem\x20já\x20enviada\x20para\x20','pollCreationMessageV2','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','no.connection','request\x20received\x20in\x20fetchConversation','agents','createSharedFlow','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','unavailable','charAt','getClient','/exit','AppStateSyncKeyData','generate','updateMissingTags','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','json',':\x20IP\x20configurado:\x20','header','env.yml','assign','Read\x20messages','connection.update','imageMessage','capitalizedWords','Sending\x20audio\x20whatsapp','GROUPS_UPDATE','https://chat.whatsapp.com/','jid','Instância:\x20','replaceVariablesLogs','call','STORE_MESSAGE','updateCustomFields','webhook','http://checkip.dyndns.org','Converted\x20image\x20deleted','stopMinutesMaxActives','updateMany','chats.delete','The\x20instance\x20needs\x20to\x20be\x20disconnected','events','open','CHATS_UPSERT','://','updateMissingEtiquetas','#ffae04','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','redirect','text','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','Erro\x20ao\x20atualizar\x20o\x20flow.','authorization','getMIMEType','textMessage','stringify','getBase64FromMediaMessage','updateReplyOption',',\x20resultado:\x20','toFile','last_update','format','padStart','view\x20engine','conversationTimestamp','\x20not\x20found,\x20retrying\x20in\x20','processingScheduleMessageId','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','Error\x20updating\x20profile\x20picture','addReplyOption','Erro\x20ao\x20deletar\x20mensagens:','createConversationforStartFlow','document','ERROR','pollCreationMessageV3','groupId','variable','sendMessageWithTyping','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','updateChatWithMessage','setRestartTimer','sendLocation','port','content','instance.','connectedClient','option','creation','CONTACTS_UPSERT','entries','Missing\x20global\x20api\x20key','redis','fileLength','g-t','FlowController','Erro\x20de\x20reinicialização:\x20','SSL_CONF_PRIVKEY','LEVEL','removeData','app','webhookMap','URL\x20limpa:\x20','getLastMessage','AutomateFunctions','STATUS_INSTANCE','):\x20Criando\x20nova\x20conversa[createNewConversation]','write','random',',\x20Minutes\x20to\x20Close:\x20','match_last_seen','mentions','isBusiness','\x20mensagens\x20de\x20','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','BufferJSON','inner','website','https','connectionStatus','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','convert','Converting\x20image\x20to\x20WebP\x20to\x20sticker','isJidUser','scheduleSendAudio','uazapiSendText','ex:\x20\x22groupJid=120362@g.us\x22','getScheduleMessage','\x1b[42m','createNewConversation','ON\x20-\x20dbName:\x20','373866xHyVEh','\x20\x1b[0m','$set','\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.','SSL_CONF_FULLCHAIN','leadInfo.customFields','sem\x20texto\x20na\x20mensagem','recording','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','message_normalized','sendPresenceUpdate','Parando\x20aplicação...','leadInfo.','CHATS_UPDATE','remove.instance','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','isJidBroadcast','contacts','findByIdAndDelete','requestPairingCode','sendDataWebhook','notas','updatePresence','newValue','@whiskeysockets/baileys','request\x20received\x20in\x20editFlow','viewOnceMessage','jsonwebtoken','InstancesAsDisconnectedX','fetchPrivacySettings','post','buttonId','editedMessage','remoteJidsRemaining','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','getChatModelForOwner','\x0aFN:','cpf','DELETED','condition','groupValidate','writeData','instanceKeys','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','demote','updateConversation','customFields','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','segundos','editFlowBlock','mentioned','addresss','Image\x20converted\x20to\x20WebP','request\x20received\x20in\x20getAutomateSystem','jwt',',\x20Segundo\x20Valor:\x20','updateMessage','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','local_map','lastSendMessage','fullName','\x20quoted:\x20','shift','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','groupUpdateDescription','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','getLabelModelForOwner','\x20ao\x20chat\x20','buttonText','documentMessage',',\x20Resultado:\x20','DOCKER_ENV','saveChatVariables','uazapiSendContact','instanceInfo','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','profilePictureUrl','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','MESSAGES_UPSERT','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','):\x20Enviando\x20contato','stopMinutes','host','remoteJid','editFlowVariable','Font\x20is\x20required','flush','express','Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','):\x20Comando\x20desconhecido:\x20','default','expression','notEqual','.mp3','isURL','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','processApiRequest','toLowerCase','Erro\x20ao\x20editar\x20o\x20chat:\x20','.ppt','enumerable','\x20after\x20','groupadd','poll','--standalone','Trying\x20to\x20get\x20business\x20profile','getAutomateSystem','):\x20Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','etiquetas','authService','Validate','convertedOptions','editFlowReply','mongodb://','request\x20received\x20in\x20updateCustomFields'];a0_0x2bec=function(){return _0x25ade3;};return a0_0x2bec();}var Cs=T(require(a0_0x39ce6a(0x176))),Ms=T(require(a0_0x39ce6a(0x4d6))),Ot=require(a0_0x39ce6a(0x676)),hr=require(a0_0x39ce6a(0x165)),Tt=require(a0_0x39ce6a(0x676)),Rt;function hi(_0x31dda5){const _0x407815=a0_0x39ce6a;return Rt||(Rt=(0x0,hr[_0x407815(0x36b)])({'url':_0x31dda5['URI']}),Rt[_0x407815(0x5d0)]()),Rt;}var oe=class c{constructor(_0x343fc6,_0x3789f2){const _0x4c5365=a0_0x39ce6a;this[_0x4c5365(0x4af)]=_0x343fc6,this[_0x4c5365(0x168)]=_0x3789f2,this[_0x4c5365(0x57c)]=new N(c['name']),this[_0x4c5365(0x1ba)]=hi(_0x343fc6);}set['reference'](_0x1f85aa){const _0x3c3e41=a0_0x39ce6a;this[_0x3c3e41(0x168)]=_0x1f85aa;}async['instanceKeys'](){const _0x57d72b=a0_0x39ce6a;try{return await this[_0x57d72b(0x1ba)]['sendCommand']([_0x57d72b(0x322),this[_0x57d72b(0x4af)][_0x57d72b(0x424)]+':*']);}catch(_0x4b46bd){this['logger']['error'](_0x4b46bd);}}async[a0_0x39ce6a(0x687)](_0xfa05dd,_0x4de44a){const _0x5e76ab=a0_0x39ce6a;try{let _0x23f766=JSON[_0x5e76ab(0x613)](_0x4de44a,Tt['BufferJSON'][_0x5e76ab(0x4f3)]);return await this[_0x5e76ab(0x1ba)][_0x5e76ab(0x2da)](this[_0x5e76ab(0x4af)][_0x5e76ab(0x424)]+':'+this[_0x5e76ab(0x168)],_0xfa05dd,_0x23f766);}catch(_0x29e591){this[_0x5e76ab(0x57c)][_0x5e76ab(0x16d)](_0x29e591);}}async[a0_0x39ce6a(0x4c1)](){const _0xdd451c=a0_0x39ce6a;try{let _0xc4767d=await this[_0xdd451c(0x1ba)][_0xdd451c(0x40f)](this[_0xdd451c(0x4af)][_0xdd451c(0x424)]+':'+this[_0xdd451c(0x168)]);if(_0xc4767d){for(let _0x431f2b in _0xc4767d)Object[_0xdd451c(0x3d9)][_0xdd451c(0x341)][_0xdd451c(0x5fb)](_0xc4767d,_0x431f2b)&&(_0xc4767d[_0x431f2b]=JSON[_0xdd451c(0x73c)](_0xc4767d[_0x431f2b],Tt[_0xdd451c(0x64e)][_0xdd451c(0x5a8)]));return _0xc4767d;}}catch(_0x2f960c){this[_0xdd451c(0x57c)][_0xdd451c(0x16d)](_0x2f960c);}}async[a0_0x39ce6a(0x527)](_0x3c084c){const _0x30ef17=a0_0x39ce6a;try{let _0x3b530f=await this[_0x30ef17(0x1ba)][_0x30ef17(0x2cc)](this[_0x30ef17(0x4af)]['PREFIX_KEY']+':'+this['instanceName'],_0x3c084c);if(_0x3b530f)return JSON['parse'](_0x3b530f,Tt[_0x30ef17(0x64e)]['reviver']);}catch(_0x5f0b69){this[_0x30ef17(0x57c)][_0x30ef17(0x16d)](_0x5f0b69);}}async[a0_0x39ce6a(0x63e)](_0x33025c){const _0x473d4c=a0_0x39ce6a;try{return await this['client'][_0x473d4c(0x727)](this['redisEnv'][_0x473d4c(0x424)]+':'+this[_0x473d4c(0x168)],_0x33025c);}catch(_0x1635fa){this[_0x473d4c(0x57c)]['error'](_0x1635fa);}}async[a0_0x39ce6a(0x2fb)](_0x449b94){const _0x51d231=a0_0x39ce6a;try{return await this[_0x51d231(0x1ba)]['del'](_0x449b94||this[_0x51d231(0x4af)]['PREFIX_KEY']+':'+this['instanceName']);}catch(_0x360e44){this['logger']['error'](_0x360e44);}}};async function bs(_0x3c16f3,_0x34f314){const _0x226da3=a0_0x39ce6a;let _0xc121c0=new N(bs[_0x226da3(0x257)]),_0x3da499=new oe(_0x3c16f3,_0x34f314),_0x574ccb=async(_0x2c59c0,_0x2e25a3)=>{const _0x160b06=_0x226da3;try{return await _0x3da499[_0x160b06(0x687)](_0x2e25a3,_0x2c59c0);}catch(_0x586439){return _0xc121c0[_0x160b06(0x16d)]({'localError':_0x160b06(0x687),'error':_0x586439});}},_0x24a441=async _0x6520c7=>{const _0x449a92=_0x226da3;try{return await _0x3da499['readData'](_0x6520c7);}catch(_0x146b77){_0xc121c0[_0x449a92(0x16d)]({'readData':_0x449a92(0x687),'error':_0x146b77});return;}},_0xfa3baa=async _0x222a33=>{const _0x4fcfa4=_0x226da3;try{return await _0x3da499[_0x4fcfa4(0x63e)](_0x222a33);}catch(_0x56701f){_0xc121c0['error']({'readData':'removeData','error':_0x56701f});}},_0x3ab505=await _0x24a441(_0x226da3(0x4b3))||(0x0,Ot[_0x226da3(0x254)])();return{'state':{'creds':_0x3ab505,'keys':{'get':async(_0x49e145,_0x4bb4cd)=>{const _0x4561c8=_0x226da3;let _0x300274={};return await Promise[_0x4561c8(0x39a)](_0x4bb4cd[_0x4561c8(0x477)](async _0x4878ce=>{const _0x2ecd55=_0x4561c8;let _0xcaf87d=await _0x24a441(_0x49e145+'-'+_0x4878ce);_0x49e145===_0x2ecd55(0x54b)&&_0xcaf87d&&(_0xcaf87d=Ot[_0x2ecd55(0x15e)][_0x2ecd55(0x186)][_0x2ecd55(0x5e8)][_0x2ecd55(0x522)](_0xcaf87d)),_0x300274[_0x4878ce]=_0xcaf87d;})),_0x300274;},'set':async _0x450b7b=>{const _0x5ee23b=_0x226da3;let _0x588cb4=[];for(let _0x5d2111 in _0x450b7b)for(let _0x1984f8 in _0x450b7b[_0x5d2111]){let _0x4d0ad4=_0x450b7b[_0x5d2111][_0x1984f8],_0x268ef3=_0x5d2111+'-'+_0x1984f8;_0x588cb4['push'](_0x4d0ad4?await _0x574ccb(_0x4d0ad4,_0x268ef3):await _0xfa3baa(_0x268ef3));}await Promise[_0x5ee23b(0x39a)](_0x588cb4);}}},'saveCreds':async()=>await _0x574ccb(_0x3ab505,_0x226da3(0x4b3))};}var L=T(require('fs')),Me=require(a0_0x39ce6a(0x1d5)),Dt=T(require('sharp')),_t=require(a0_0x39ce6a(0x514)),gi='\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a'['trim'](),At=gi[a0_0x39ce6a(0x154)]('\x0a')[a0_0x39ce6a(0x477)](_0x13a40e=>{const _0x28ed1d=a0_0x39ce6a;let _0x5806e4=_0x13a40e[_0x28ed1d(0x154)](':'),_0x4d99d5={'host':_0x5806e4[0x0],'port':_0x5806e4[0x1],'protocol':_0x28ed1d(0x1c3)};return _0x5806e4[_0x28ed1d(0x44f)]===0x4&&(_0x4d99d5['username']=_0x5806e4[0x2],_0x4d99d5[_0x28ed1d(0x35e)]=_0x5806e4[0x3]),_0x4d99d5;});function gr(_0x36cb5b){return At['find'](_0x2faeb8=>_0x2faeb8['host']===_0x36cb5b)||null;}function mr(){const _0x38c796=a0_0x39ce6a;if(At['length']===0x0)return null;let _0xdafbb0=Math[_0x38c796(0x55b)](Math[_0x38c796(0x647)]()*At[_0x38c796(0x44f)]);return At[_0xdafbb0];}function Ss(_0x2d6976){const _0x346870=a0_0x39ce6a;let _0x4dcff7=_0x4a0202=>typeof _0x4a0202=='string'&&_0x4a0202[_0x346870(0x44f)]>0x0,_0x399a2c=_0x38b207=>{let _0x4870e3=parseInt(_0x38b207,0xa);return!isNaN(_0x4870e3)&&_0x4870e3>0x0&&_0x4870e3<=0xffff;},_0x84fc1c=_0x49c048=>typeof _0x49c048==_0x346870(0x5d6)&&_0x49c048['length']>0x0;return _0x2d6976&&_0x4dcff7(_0x2d6976[_0x346870(0x6b0)])&&_0x399a2c(_0x2d6976[_0x346870(0x62e)])&&(!_0x2d6976[_0x346870(0x750)]||_0x84fc1c(_0x2d6976[_0x346870(0x750)]))&&(!_0x2d6976['password']||_0x84fc1c(_0x2d6976[_0x346870(0x35e)]))&&(_0x2d6976[_0x346870(0x416)]==='http'||_0x2d6976[_0x346870(0x416)]===_0x346870(0x651));}var vs=require('crypto'),Cr='Safari\x20(MacOS)',Ns,ne=null,fr=null,Ke=null,mi=0x3,fi=null;async function wi(){const _0x252cdc=a0_0x39ce6a;let _0x3d99a2=await we[_0x252cdc(0x5c1)]();ne=_0x3d99a2?.[_0x252cdc(0x596)]??null,fi=_0x3d99a2?.[_0x252cdc(0x4ee)]??null,Cr=_0x3d99a2?.[_0x252cdc(0x631)]??_0x252cdc(0x523),Ns=_0x3d99a2?.[_0x252cdc(0x46e)]??Rs??_0x252cdc(0x54d),console['log'](_0x252cdc(0x20c)),console['log'](_0x3d99a2);}async function yi(){await wi();}yi();var wr={},te={},ye=class c{constructor(_0x4988aa,_0x1bad00,_0x5083b9){const _0x30f6e2=a0_0x39ce6a;this[_0x30f6e2(0x1e7)]=_0x4988aa,this[_0x30f6e2(0x408)]=_0x1bad00,this['repository']=_0x5083b9,this[_0x30f6e2(0x719)]=null,this['logger']=new N(c[_0x30f6e2(0x257)]),this[_0x30f6e2(0x219)]={},this[_0x30f6e2(0x258)]={},this[_0x30f6e2(0x2d7)]={'state':_0x30f6e2(0x194)},this[_0x30f6e2(0x465)]=(0x0,j['join'])(re,'downloads'),this[_0x30f6e2(0x5b5)]=new Ms[(_0x30f6e2(0x6b8))](),this[_0x30f6e2(0x51d)]=new Ms['default'](),this[_0x30f6e2(0x49b)]=!0x1,this[_0x30f6e2(0x640)]={'status.instance':_0x30f6e2(0x521),'qrcode.updated':_0x30f6e2(0x438),'messages.upsert':_0x30f6e2(0x2d0),'messages.update':_0x30f6e2(0x6e0),'send.message':_0x30f6e2(0x2d0),'group.upsert':_0x30f6e2(0x1d2),'group.update':'/wa-groups','group-participants.update':_0x30f6e2(0x1d2),'connection.update':_0x30f6e2(0x521),'messages.set':_0x30f6e2(0x2d0),'contacts.set':_0x30f6e2(0x206),'contacts.upsert':_0x30f6e2(0x206),'contacts.update':_0x30f6e2(0x206),'presence.update':_0x30f6e2(0x2f9),'chats.set':_0x30f6e2(0x1c1),'chats.update':'/wa-chats','chats.upsert':_0x30f6e2(0x1c1),'chats.delete':_0x30f6e2(0x1c1)},this['reconnectAttempts']=0x0,this[_0x30f6e2(0x459)]=[],this[_0x30f6e2(0x391)]=0xa,this[_0x30f6e2(0x233)]=0xea60,this[_0x30f6e2(0x4a6)]=!0x1,this['chatHandle']={'chats.upsert':async(_0x190aa0,_0x35c158)=>{const _0x46a251=_0x30f6e2;let _0x2d15e5=[];for await(let _0x35ee9b of _0x190aa0)_0x2d15e5['push']({'_id':_0x35ee9b['id'],'owner':this[_0x46a251(0x219)][_0x46a251(0x321)],'group':_0x35ee9b['id']['endsWith']('@g.us'),'name':_0x35ee9b['name']||_0x35ee9b[_0x46a251(0x30d)]||null,'contactname':null,'lastmsg':_0x35ee9b['conversationTimestamp']&&_0x35ee9b[_0x46a251(0x61c)][_0x46a251(0x30b)]()['length']<0xd?_0x35ee9b[_0x46a251(0x61c)]*0x3e8:_0x35ee9b[_0x46a251(0x61c)]||null,'archived':_0x35ee9b[_0x46a251(0x792)]||!0x1,'unreadcount':_0x35ee9b[_0x46a251(0x14e)]||0x0});this['sendDataWebhook'](_0x46a251(0x79e),_0x2d15e5);},'chats.update':async(_0xcfe174,_0x41e6b3)=>{const _0x236ed5=_0x30f6e2;for(let _0x27cf5e of _0xcfe174){let _0x311396={'_id':_0x27cf5e['id'],'owner':this[_0x236ed5(0x219)]['wuid'],'group':_0x27cf5e['id']['endsWith'](_0x236ed5(0x6d3)),'name':_0x27cf5e[_0x236ed5(0x257)]||_0x27cf5e[_0x236ed5(0x30d)],'archived':_0x27cf5e[_0x236ed5(0x792)],'ephemeralExpiration':_0x27cf5e['ephemeralExpiration']},_0x2af333=!0x1,_0xae43af={};_0x311396[_0x236ed5(0x792)]!=null&&(this[_0x236ed5(0x57c)][_0x236ed5(0x5b1)](this['instanceName']+'\x20('+this[_0x236ed5(0x219)][_0x236ed5(0x321)]+_0x236ed5(0x1aa)+_0x27cf5e[_0x236ed5(0x792)]),_0x2af333=!0x0,_0xae43af[_0x236ed5(0x792)]=_0x27cf5e[_0x236ed5(0x792)]),_0x27cf5e[_0x236ed5(0x257)]!=null&&(this['logger']['verbose'](this[_0x236ed5(0x168)]+'\x20('+this[_0x236ed5(0x219)][_0x236ed5(0x321)]+_0x236ed5(0x5a2)+_0x27cf5e[_0x236ed5(0x257)]),_0x2af333=!0x0,_0xae43af[_0x236ed5(0x257)]=_0x27cf5e[_0x236ed5(0x257)]),_0x27cf5e['displayName']!=null&&(this['logger'][_0x236ed5(0x5b1)](this[_0x236ed5(0x168)]+'\x20('+this['instance']['wuid']+_0x236ed5(0x5a3)+_0x27cf5e[_0x236ed5(0x30d)]),_0x2af333=!0x0,_0xae43af['name']=_0x27cf5e['displayName']);let _0x1b040e;_0x2af333&&(_0x1b040e=await this[_0x236ed5(0x422)]['chat'][_0x236ed5(0x455)]({'where':{'_id':_0x27cf5e['id']}},_0xae43af,this[_0x236ed5(0x219)][_0x236ed5(0x321)])),_0x1b040e&&q(this['instanceName'],'chats',{'chat':_0x1b040e});}},'chats.delete':async _0x12d7b5=>{const _0x130024=_0x30f6e2;this['sendDataWebhook'](_0x130024(0x603),[..._0x12d7b5]);}},this[_0x30f6e2(0x42c)]={'contacts.upsert':async(_0x5a3228,_0x15e770)=>{const _0x52548f=_0x30f6e2;let _0x1ce049=await this['repository'][_0x52548f(0x1cc)][_0x52548f(0x280)]({'where':{}},this[_0x52548f(0x219)][_0x52548f(0x321)]),_0x22c87c=[];for await(let _0x547fed of _0x5a3228)_0x1ce049[_0x52548f(0x280)](_0x16b219=>_0x16b219[_0x52548f(0x3bb)]===_0x547fed['id'])||_0x22c87c[_0x52548f(0x41f)]({'_id':_0x547fed['id'],'pushName':_0x547fed?.['name']||_0x547fed?.[_0x52548f(0x213)],'owner':this[_0x52548f(0x219)][_0x52548f(0x321)]});this[_0x52548f(0x672)](_0x52548f(0x5c3),_0x22c87c),await this[_0x52548f(0x422)][_0x52548f(0x1cc)][_0x52548f(0x42e)](_0x22c87c);},'contacts.update':async(_0x5d0905,_0x209fdf)=>{const _0x422401=_0x30f6e2;let _0x4d7aaa=[];for await(let _0x112555 of _0x5d0905)_0x4d7aaa[_0x422401(0x41f)]({'_id':_0x112555['id'],'pushName':_0x112555?.[_0x422401(0x257)]??_0x112555?.[_0x422401(0x213)],'owner':this[_0x422401(0x219)][_0x422401(0x321)]});this['sendDataWebhook'](_0x422401(0x1b3),_0x4d7aaa);}},this['messageHandle']={'messaging-history.set':async({messages:_0x5563a5,chats:_0x20f661,isLatest:_0x36cbf4},_0x242264)=>{const _0x41cf2c=_0x30f6e2;if(_0x36cbf4){let _0x2e0a42=await Promise['all'](_0x20f661['map'](async _0x68955d=>({'_id':_0x68955d['id'],'owner':this[_0x41cf2c(0x219)][_0x41cf2c(0x321)],'group':_0x68955d['id'][_0x41cf2c(0x276)](_0x41cf2c(0x6d3)),'name':_0x68955d[_0x41cf2c(0x257)]||_0x68955d[_0x41cf2c(0x30d)]||null,'contactname':null,'lastmsg':_0x68955d[_0x41cf2c(0x61c)]&&_0x68955d[_0x41cf2c(0x61c)]['toString']()[_0x41cf2c(0x44f)]<0xd?_0x68955d[_0x41cf2c(0x61c)]*0x3e8:_0x68955d['conversationTimestamp']||null,'archived':_0x68955d[_0x41cf2c(0x792)]||!0x1,'unreadcount':_0x68955d[_0x41cf2c(0x14e)]||0x0})));this[_0x41cf2c(0x672)](_0x41cf2c(0x571),_0x2e0a42),await this[_0x41cf2c(0x1e9)](_0x2e0a42,_0x242264);}let _0xf49f3c=[],_0x5f0561=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x29e163]of Object[_0x41cf2c(0x635)](_0x5563a5)){if(_0x29e163[_0x41cf2c(0x1f0)]?.['protocolMessage']||_0x29e163['message']?.[_0x41cf2c(0x20e)]||!_0x29e163['message']||_0x29e163[_0x41cf2c(0x3b6)]['remoteJid']===_0x41cf2c(0x525)||(Cs[_0x41cf2c(0x6b8)][_0x41cf2c(0x484)](_0x29e163?.[_0x41cf2c(0x1ef)])&&(_0x29e163[_0x41cf2c(0x1ef)]=_0x29e163[_0x41cf2c(0x1ef)]?.[_0x41cf2c(0x160)]()),_0x29e163[_0x41cf2c(0x1ef)]&&_0x29e163[_0x41cf2c(0x1ef)]['toString']()['length']<0xd&&(_0x29e163[_0x41cf2c(0x1ef)]=_0x29e163[_0x41cf2c(0x1ef)]*0x3e8),_0x29e163[_0x41cf2c(0x1ef)]<_0x5f0561))continue;let _0x4adc41=(0x0,g[_0x41cf2c(0x550)])(_0x29e163[_0x41cf2c(0x1f0)]),_0x834b64=(0x0,g[_0x41cf2c(0x566)])(_0x4adc41),{message_normalized:_0x4678cf}=this[_0x41cf2c(0x236)](_0x4adc41,_0x834b64,null);Object[_0x41cf2c(0x322)](_0x4678cf)[_0x41cf2c(0x44f)]>0x0&&_0xf49f3c['push']({'_id':_0x29e163[_0x41cf2c(0x3b6)]['id'],'key':_0x29e163[_0x41cf2c(0x3b6)],'pushName':_0x29e163[_0x41cf2c(0x3ae)],'participant':_0x29e163[_0x41cf2c(0x41e)],'message':_0x4adc41,'messageType':_0x834b64,'message_normalized':{'key':_0x29e163['key'],'pushName':_0x29e163['pushName'],'messageTimestamp':_0x29e163[_0x41cf2c(0x1ef)],..._0x4678cf},'messageTimestamp':_0x29e163[_0x41cf2c(0x1ef)],'owner':this[_0x41cf2c(0x219)][_0x41cf2c(0x321)]});}_0x242264[_0x41cf2c(0x287)]&&_0xf49f3c[_0x41cf2c(0x44f)]>0x0&&(this[_0x41cf2c(0x57c)][_0x41cf2c(0x5b1)](this[_0x41cf2c(0x168)]+'\x20('+this['instance'][_0x41cf2c(0x321)]+_0x41cf2c(0x16c)+_0xf49f3c[_0x41cf2c(0x44f)]+_0x41cf2c(0x64c)+this[_0x41cf2c(0x219)][_0x41cf2c(0x321)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this['repository'][_0x41cf2c(0x1f0)][_0x41cf2c(0x42e)]([..._0xf49f3c],this[_0x41cf2c(0x219)][_0x41cf2c(0x321)])),this[_0x41cf2c(0x672)](_0x41cf2c(0x29c),[..._0xf49f3c]),_0x5563a5=void 0x0;},'messages.upsert':async({messages:_0x2f7449,type:_0x31af41},_0x6b3510)=>{const _0x1acc5f=_0x30f6e2;let _0x44f7f0=_0x2f7449[0x0],_0x16aff1=_0x44f7f0[_0x1acc5f(0x3b6)]['id'],_0x388770=_0x44f7f0['messageStubType']===0x2,_0x8a4066=0x6;if(this[_0x1acc5f(0x258)]?.[_0x1acc5f(0x415)]&&_0x44f7f0[_0x1acc5f(0x3b6)][_0x1acc5f(0x6b1)][_0x1acc5f(0x49a)](_0x1acc5f(0x6d3))){this[_0x1acc5f(0x57c)][_0x1acc5f(0x5b1)](this[_0x1acc5f(0x168)]+'\x20('+this[_0x1acc5f(0x219)][_0x1acc5f(0x321)]+'):\x20[messages.upsert]\x20group\x20ignored');return;}if(_0x388770){if(te[_0x16aff1]||(te[_0x16aff1]=0x0),te[_0x16aff1]++,this[_0x1acc5f(0x57c)][_0x1acc5f(0x16d)](this[_0x1acc5f(0x168)]+'\x20('+this[_0x1acc5f(0x219)][_0x1acc5f(0x321)]+_0x1acc5f(0x31f)+_0x44f7f0[_0x1acc5f(0x3b6)][_0x1acc5f(0x6b1)]+_0x1acc5f(0x562)+_0x16aff1+':\x20'+te[_0x16aff1]+'/'+_0x8a4066),te[_0x16aff1]>=_0x8a4066){this[_0x1acc5f(0x57c)]['error'](this[_0x1acc5f(0x168)]+'\x20('+this[_0x1acc5f(0x219)]['wuid']+'):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid='+_0x44f7f0[_0x1acc5f(0x3b6)][_0x1acc5f(0x6b1)]+_0x1acc5f(0x562)+_0x16aff1+'.');let _0x5b9f82={'key':{..._0x44f7f0['key']},'message':{'conversation':_0x1acc5f(0x357)+_0x16aff1+_0x1acc5f(0x661)}};_0x44f7f0[_0x1acc5f(0x3b6)]['remoteJid']['includes']('@s.whatsapp.net')&&this['client']['ev'][_0x1acc5f(0x389)]('messages.upsert',{'messages':[_0x5b9f82],'type':_0x1acc5f(0x216)}),delete te[_0x16aff1];}}else te[_0x16aff1]&&(this[_0x1acc5f(0x57c)][_0x1acc5f(0x18f)]('[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20'+te[_0x16aff1]+_0x1acc5f(0x26a)+_0x44f7f0['key'][_0x1acc5f(0x6b1)]+_0x1acc5f(0x562)+_0x16aff1),delete te[_0x16aff1]);if(_0x31af41!==_0x1acc5f(0x216)||!_0x44f7f0?.[_0x1acc5f(0x1f0)]||_0x44f7f0[_0x1acc5f(0x1f0)]?.[_0x1acc5f(0x3ba)]||_0x44f7f0[_0x1acc5f(0x1f0)][_0x1acc5f(0x20e)]||_0x44f7f0[_0x1acc5f(0x3b6)]['remoteJid']==='status@broadcast')return;let _0x4b510b=null,_0x5e528f=null;try{_0x4b510b=await this['processPollUpdateMessage'](_0x44f7f0),_0x5e528f=_0x4b510b?_0x4b510b[_0x1acc5f(0x4dc)](','):null;}catch(_0x3a964b){this[_0x1acc5f(0x57c)]['verbose'](this['instanceName']+'\x20('+this[_0x1acc5f(0x219)][_0x1acc5f(0x321)]+_0x1acc5f(0x16c)+(_0x3a964b instanceof Error?_0x3a964b[_0x1acc5f(0x1f0)]:JSON[_0x1acc5f(0x613)](_0x3a964b,null,0x2))),_0x5e528f=_0x1acc5f(0x2c0);}this[_0x1acc5f(0x1ba)]['sendPresenceUpdate'](_0x1acc5f(0x5e4)),Cs['default']['isLong'](_0x44f7f0[_0x1acc5f(0x1ef)])&&(_0x44f7f0['messageTimestamp']=_0x44f7f0['messageTimestamp']?.[_0x1acc5f(0x160)]()),_0x44f7f0['messageTimestamp']&&_0x44f7f0[_0x1acc5f(0x1ef)][_0x1acc5f(0x30b)]()[_0x1acc5f(0x44f)]<0xd&&(_0x44f7f0['messageTimestamp']=_0x44f7f0[_0x1acc5f(0x1ef)]*0x3e8);let _0x1b363d=_0x44f7f0[_0x1acc5f(0x1f0)],_0x41913b=(0x0,g['normalizeMessageContent'])(_0x1b363d),_0x4a1d93=(0x0,g['getContentType'])(_0x41913b),{messageContent:_0x30fca9,message_normalized:_0x304cab}=this[_0x1acc5f(0x236)](_0x41913b,_0x4a1d93,_0x5e528f);_0x4a1d93===_0x1acc5f(0x3ba)&&_0x30fca9?.['editedMessage']&&(_0x4a1d93='editedMessage');let _0x321915={'_id':_0x44f7f0[_0x1acc5f(0x3b6)]['id'],'key':_0x44f7f0['key'],'pushName':_0x44f7f0[_0x1acc5f(0x3ae)],'message':_0x41913b,'messageType':_0x4a1d93,'message_normalized':{'key':_0x44f7f0[_0x1acc5f(0x3b6)],'pushName':_0x44f7f0['pushName'],'messageTimestamp':_0x44f7f0[_0x1acc5f(0x1ef)],'source':(0x0,g[_0x1acc5f(0x4c6)])(_0x44f7f0[_0x1acc5f(0x3b6)]['id']),..._0x304cab},'messageTimestamp':_0x44f7f0[_0x1acc5f(0x1ef)],'owner':this[_0x1acc5f(0x219)][_0x1acc5f(0x321)],'source':(0x0,g[_0x1acc5f(0x4c6)])(_0x44f7f0['key']['id'])};_0x30fca9||(console['error'](_0x1acc5f(0x4a3)),this[_0x1acc5f(0x57c)][_0x1acc5f(0x16d)](_0x321915)),this[_0x1acc5f(0x57c)][_0x1acc5f(0x4e5)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1acc5f(0x16c)+(_0x321915[_0x1acc5f(0x3b6)]?.[_0x1acc5f(0x27d)]?'enviado\x20para':_0x1acc5f(0x150))+'\x20['+_0x321915[_0x1acc5f(0x3b6)]?.[_0x1acc5f(0x6b1)][_0x1acc5f(0x214)](_0x1acc5f(0x718),'')+_0x1acc5f(0x37f)+_0x321915[_0x1acc5f(0x6e4)]+')'),_0x321915[_0x1acc5f(0x667)]?.[_0x1acc5f(0x60d)]&&this[_0x1acc5f(0x57c)]['log'](_0x16aff1+':\x20'+_0x321915[_0x1acc5f(0x667)]?.[_0x1acc5f(0x60d)]),await this['repository']['message'][_0x1acc5f(0x42e)]([_0x321915],this[_0x1acc5f(0x219)][_0x1acc5f(0x321)]),this['sendDataWebhook']('messages.upsert',_0x321915),q(this[_0x1acc5f(0x168)],_0x1acc5f(0x59e),{'message':_0x321915}),_0x44f7f0['key'][_0x1acc5f(0x6b1)]!==_0x1acc5f(0x525)&&await this[_0x1acc5f(0x62b)](_0x6b3510,_0x321915,_0x1acc5f(0x6ac));},'messages.update':async(_0x2c445e,_0x221aac)=>{const _0x2af144=_0x30f6e2;let _0x2343d0={0x0:_0x2af144(0x625),0x1:'PENDING',0x2:_0x2af144(0x15a),0x3:_0x2af144(0x730),0x4:'READ',0x5:'PLAYED'};for await(let {key:_0xe3d97,update:_0x35e3cc}of _0x2c445e){if(this[_0x2af144(0x258)]?.[_0x2af144(0x415)]&&_0xe3d97[_0x2af144(0x6b1)][_0x2af144(0x49a)](_0x2af144(0x6d3))){this['logger'][_0x2af144(0x5b1)](this['instanceName']+'\x20('+this[_0x2af144(0x219)][_0x2af144(0x321)]+'):\x20[messages.update]\x20group\x20ignored');return;}if(_0xe3d97[_0x2af144(0x6b1)]!==_0x2af144(0x525)){let _0x1f4958=Date[_0x2af144(0x2b9)](),_0x1499c9;_0x35e3cc[_0x2af144(0x1f0)]===null&&_0x35e3cc[_0x2af144(0x162)]===void 0x0?_0x1499c9=_0x2af144(0x684):_0x1499c9=_0x2343d0[_0x35e3cc['status']];let _0x12fa57=_0xe3d97[_0x2af144(0x6b1)][_0x2af144(0x214)](/:\d{1,2}@/g,'@'),_0x1afe02={..._0xe3d97,'remoteJid':_0x12fa57,'status':_0x1499c9,'datetime':_0x1f4958,'owner':this[_0x2af144(0x219)]['wuid']};this[_0x2af144(0x672)](_0x2af144(0x46c),_0x1afe02),await this['updateMessage'](_0xe3d97,_0x1afe02);}}},'labels.association':async({type:_0x30698f,association:_0x4231c3})=>{const _0x403786=_0x30f6e2;if(_0x4231c3[_0x403786(0x432)]===_0x403786(0x483)){let _0x51dca7,_0x2e1da2=0x0;for(;!_0x51dca7&&_0x2e1da2<this['delayChatLabel_MAX_RETRIES'];)_0x51dca7=await this[_0x403786(0x422)][_0x403786(0x5d1)][_0x403786(0x5c1)]({'where':{'_id':_0x4231c3[_0x403786(0x267)]}},this[_0x403786(0x219)][_0x403786(0x321)]),_0x51dca7||(_0x2e1da2++,console[_0x403786(0x4e5)](_0x403786(0x4d5)+_0x4231c3[_0x403786(0x267)]+_0x403786(0x61d)+this[_0x403786(0x77c)]+'ms\x20(Attempt\x20'+_0x2e1da2+'/'+this[_0x403786(0x56c)]+')'),await this[_0x403786(0x1f2)](this[_0x403786(0x77c)]));if(!_0x51dca7){console[_0x403786(0x16d)](_0x403786(0x32e)+_0x4231c3['chatId']+_0x403786(0x6c3)+this[_0x403786(0x56c)]+_0x403786(0x204));return;}switch(_0x30698f){case _0x403786(0x22d):console[_0x403786(0x4e5)](_0x4231c3),await this[_0x403786(0x422)][_0x403786(0x5d1)]['updateOne']({'where':{'_id':_0x4231c3[_0x403786(0x267)]}},{'leadInfo.etiquetas':_0x4231c3[_0x403786(0x4e4)]},this['instance'][_0x403786(0x321)],void 0x0,'$addToSet');break;case _0x403786(0x583):console['log'](_0x4231c3),await this[_0x403786(0x422)]['chat'][_0x403786(0x455)]({'where':{'_id':_0x4231c3[_0x403786(0x267)]}},{'leadInfo.etiquetas':_0x4231c3[_0x403786(0x4e4)]},this[_0x403786(0x219)][_0x403786(0x321)],void 0x0,'$pull');break;default:console[_0x403786(0x16d)](_0x403786(0x2bc)+_0x30698f+']');}}},'labels.edit':async _0x3dab1a=>{const _0x440db5=_0x30f6e2;if(!_0x3dab1a||!_0x3dab1a['id']){console[_0x440db5(0x16d)](_0x440db5(0x362));return;}if(!_0x3dab1a[_0x440db5(0x737)]){let _0x48bc12=[_0x440db5(0x428),'#64c4ff',_0x440db5(0x159),_0x440db5(0x518),'#9ab6c1',_0x440db5(0x2b2),'#fe9dfe',_0x440db5(0x595),'#6f7bcf','#d8e651',_0x440db5(0x149),'#ffc5c7',_0x440db5(0x7a0),'#f64847',_0x440db5(0x403),_0x440db5(0x771),_0x440db5(0x60a),_0x440db5(0x31d),_0x440db5(0x286),'#9568cf'],_0x5ab733;typeof _0x3dab1a['color']==_0x440db5(0x2f8)&&_0x3dab1a[_0x440db5(0x47e)]>=0x0&&_0x3dab1a[_0x440db5(0x47e)]<_0x48bc12['length']?_0x5ab733=_0x48bc12[_0x3dab1a['color']]:(console[_0x440db5(0x16d)](_0x440db5(0x552),_0x3dab1a[_0x440db5(0x47e)]),_0x5ab733=_0x440db5(0x2c6));let _0x2e6705={'_id':_0x3dab1a['id'],'colorHex':_0x5ab733,'color':_0x3dab1a?.['color'],'name':_0x3dab1a?.[_0x440db5(0x257)],'owner':this['instance'][_0x440db5(0x321)]};await this[_0x440db5(0x422)][_0x440db5(0x4ed)]['updateOne']({'where':{'_id':_0x3dab1a['id']}},_0x2e6705,this[_0x440db5(0x219)]['wuid']),console['log'](_0x440db5(0x6f7),_0x3dab1a);}_0x3dab1a[_0x440db5(0x737)]&&(await this[_0x440db5(0x422)][_0x440db5(0x4ed)][_0x440db5(0x24c)]({'where':{'_id':_0x3dab1a['id']}},this['instance']['wuid']),console[_0x440db5(0x4e5)](_0x440db5(0x548),_0x3dab1a['id']));}},this[_0x30f6e2(0x70c)]={'groups.upsert':_0x57c763=>{const _0x4aadda=_0x30f6e2;this[_0x4aadda(0x672)](_0x4aadda(0x284),_0x57c763);},'groups.update':_0x1d662d=>{const _0x3e3ea6=_0x30f6e2;this[_0x3e3ea6(0x672)](_0x3e3ea6(0x501),_0x1d662d);},'group-participants.update':_0x40a6bd=>{const _0x3ff6f9=_0x30f6e2;this[_0x3ff6f9(0x672)](_0x3ff6f9(0x55a),_0x40a6bd);}},this[_0x30f6e2(0x56c)]=0x5,this[_0x30f6e2(0x77c)]=0x1388,this[_0x30f6e2(0x6e1)]=async _0x370fe5=>{const _0x393355=_0x30f6e2;if(_0x370fe5['message']?.[_0x393355(0x2f5)]){let _0x3ad3c2=await this[_0x393355(0x274)](_0x370fe5[_0x393355(0x1f0)]['pollUpdateMessage'][_0x393355(0x70f)],!0x0);if(_0x3ad3c2){let _0x2a6a52=_0x3ad3c2[_0x393355(0x3b6)][_0x393355(0x27d)]?this[_0x393355(0x219)]['wuid']+_0x393355(0x718):_0x3ad3c2[_0x393355(0x3b6)][_0x393355(0x41e)]||_0x3ad3c2[_0x393355(0x3b6)][_0x393355(0x6b1)],_0x5e3f70=_0x3ad3c2['key']['id'],_0x496dc6=_0x3ad3c2[_0x393355(0x1f0)],_0x55b183=Buffer[_0x393355(0x43c)](_0x496dc6[_0x393355(0x23d)][_0x393355(0x1ce)][_0x393355(0x30b)](_0x393355(0x3ec)),_0x393355(0x3ec)),_0x584790=(0x0,g['decryptPollVote'])(_0x370fe5[_0x393355(0x1f0)][_0x393355(0x2f5)]['vote'],{'pollCreatorJid':_0x2a6a52,'pollMsgId':_0x5e3f70,'pollEncKey':_0x55b183,'voterJid':_0x370fe5[_0x393355(0x3b6)][_0x393355(0x27d)]?this[_0x393355(0x219)][_0x393355(0x321)]+_0x393355(0x718):_0x370fe5[_0x393355(0x3b6)]['remoteJid'][_0x393355(0x276)]('g.us')?_0x370fe5[_0x393355(0x3b6)][_0x393355(0x41e)]:_0x370fe5[_0x393355(0x3b6)][_0x393355(0x6b1)]}),_0x47385e=[],_0x59f859=_0x584790[_0x393355(0x59b)][_0x393355(0x477)](_0x394839=>Buffer[_0x393355(0x43c)](_0x394839)[_0x393355(0x30b)](_0x393355(0x3ec)));for(let {optionName:_0x4fb4a2}of _0x496dc6['pollCreationMessage']?.[_0x393355(0x77e)]||_0x496dc6[_0x393355(0x626)]?.['options']||_0x496dc6[_0x393355(0x5dd)]?.[_0x393355(0x77e)])_0x59f859[_0x393355(0x2db)]((0x0,g[_0x393355(0x4f8)])(Buffer['from'](_0x4fb4a2))[_0x393355(0x30b)]('hex'))>-0x1&&_0x47385e[_0x393355(0x41f)](_0x4fb4a2);return _0x47385e;}}return null;},this['normalizeMessage']=(_0x56e22d,_0x1b0f4e,_0x54cf79)=>{const _0x2e621d=_0x30f6e2;try{let _0xe359bf=_0x56e22d?(0x0,g['extractMessageContent'])(_0x56e22d)[_0x1b0f4e]:void 0x0,_0x418979={},_0x4466ba=null,_0x14ff2f=null,_0xacb431=null;_0x1b0f4e==='protocolMessage'&&_0xe359bf?.[_0x2e621d(0x67e)]&&(_0x1b0f4e=(0x0,g[_0x2e621d(0x566)])(_0xe359bf[_0x2e621d(0x67e)]),_0x4466ba=_0x56e22d[_0x2e621d(0x3ba)]['key']['id'],_0xe359bf=_0x56e22d['protocolMessage']['editedMessage'][_0x1b0f4e]),_0x56e22d[_0x1b0f4e]?.[_0x2e621d(0x35f)]?.[_0x2e621d(0x3fd)]&&_0x56e22d[_0x1b0f4e]?.[_0x2e621d(0x35f)]?.['quotedMessage']&&(_0x14ff2f=_0x56e22d[_0x1b0f4e][_0x2e621d(0x35f)]['stanzaId']),_0x56e22d[_0x2e621d(0x2e0)]&&(_0xacb431=_0x56e22d[_0x2e621d(0x2e0)]['key']['id']);let _0x5361ee;if(_0xe359bf&&typeof _0xe359bf=='object'&&'pollCreationMessageKey'in _0xe359bf&&({pollCreationMessageKey:_0x5361ee}=_0xe359bf),_0x1b0f4e==='pollCreationMessage'||_0x1b0f4e===_0x2e621d(0x5dd)||_0x1b0f4e===_0x2e621d(0x626)){let _0x4218d1=_0xe359bf[_0x2e621d(0x77e)][_0x2e621d(0x477)](_0x1e8c8c=>_0x1e8c8c['optionName'])['join']('|');_0x418979[_0x2e621d(0x6cd)]=_0x4218d1;}let _0x19409b='';if(_0xe359bf&&(_0x19409b+=_0xe359bf['name']?_0xe359bf[_0x2e621d(0x257)]:'',_0x19409b+=_0xe359bf[_0x2e621d(0x393)]?'\x20'+_0xe359bf['caption']:'',_0x19409b+=_0xe359bf['conversation']?'\x20'+_0xe359bf[_0x2e621d(0x3c8)]:'',_0x19409b+=_0xe359bf[_0x2e621d(0x30d)]?'\x20'+_0xe359bf['displayName']:''),_0x1b0f4e===_0x2e621d(0x6d4)){_0x19409b=(_0xe359bf[_0x2e621d(0x7b2)]||'')+'\x0a'+(_0xe359bf['description']||'')+'\x0a'+(_0xe359bf[_0x2e621d(0x4e3)]||'');let _0x2cdb85=this[_0x2e621d(0x38c)](_0xe359bf[_0x2e621d(0x39e)]);_0x418979['convertedOptions']=_0x2cdb85;}if(_0x1b0f4e===_0x2e621d(0x776)&&(_0x54cf79=_0xe359bf[_0x2e621d(0x7b2)]),_0xe359bf&&_0xe359bf[_0x2e621d(0x379)]){let _0x4c5624=this['formatVCard'](JSON[_0x2e621d(0x613)](_0xe359bf[_0x2e621d(0x379)],null,0x2));_0x19409b=_0x19409b+'\x0a'+_0x4c5624;}if(_0xe359bf){let {sections:_0x42c1d0,listType:_0x4a7699,displayName:_0x4e9024,vcard:_0x5d9939,contactVcard:_0x7f0ef5,name:_0x160343,caption:_0x3f5e81,conversation:_0x1433fe,pollCreationMessageKey:_0x19ac73,footerText:_0x101567,contentText:_0x506bdd,pageCount:_0x4b85b2,headerType:_0x1d17a2,isAvatar:_0x1f5740,isAnimated:_0x123704,fallbackLc:_0x1d7043,fallbackLg:_0x19bd76,namespace:_0x35da95,elementName:_0x3f045e,localizableParams:_0x1d4a8d,viewOnce:_0x261dd5,height:_0x173e03,width:_0x4a5ad2,key:_0x1dbcf3,firstScanLength:_0x3deafb,firstScanSidecar:_0x588d4c,gifPlayback:_0x3f7222,gifAttribution:_0x42e838,midQualityFileSha256:_0x5a4705,scansSidecar:_0x16ea94,streamingSidecar:_0x42946d,thumbnailHeight:_0x137a26,thumbnailWidth:_0x1e323d,thumbnailEncSha256:_0xbfc8ee,thumbnailDirectPath:_0x5b4dfa,canonicalUrl:_0x598d43,matchedText:_0xe8ec18,previewType:_0xa386f4,thumbnailSha256:_0x27175c,deviceListMetadataVersion:_0x3cd618,inviteLinkGroupTypeV2:_0x19f7fd,interactiveAnnotations:_0x4b7bac,scanLengths:_0x23e616,jpegThumbnail:_0xea1f91,url:_0x168e53,mediaKeyTimestamp:_0x2bf9ec,waveform:_0x372cc5,stickerSentTs:_0x2a5171,firstFrameLength:_0x3067bc,fileEncSha256:_0x41946b,contextInfo:_0x213cdd,firstFrameSidecar:_0x130baf,directPath:_0x9f1ba6,fileSha256:_0x564fbf,mediaKey:_0x3ae3b5,senderTimestampMs:_0x54d9bc,..._0x2eb8ee}=_0xe359bf;(_0x1b0f4e===_0x2e621d(0x6d4)||_0x1b0f4e===_0x2e621d(0x776))&&(delete _0x2eb8ee[_0x2e621d(0x7b2)],delete _0x2eb8ee[_0x2e621d(0x7aa)]),typeof _0xe359bf=='string'?_0x418979={'text':_0xe359bf,'type':_0x1b0f4e||_0x2e621d(0x3c8),..._0x4466ba&&{'edited':_0x4466ba},..._0x14ff2f&&{'quoted':_0x14ff2f},..._0xacb431&&{'reaction':_0xacb431}}:_0x418979={'text':_0x19409b,..._0x2eb8ee,..._0x1b0f4e===_0x2e621d(0x2f5)?{'poll_id':_0xe359bf[_0x2e621d(0x70f)]['id'],'quoted':_0xe359bf[_0x2e621d(0x70f)]['id'],'vote':_0x54cf79}:{},..._0x1b0f4e===_0x2e621d(0x776)?{'vote':_0x54cf79}:{},'type':_0x1b0f4e,..._0x4466ba&&{'edited':_0x4466ba},..._0x14ff2f&&{'quoted':_0x14ff2f},..._0xacb431&&{'reaction':_0xacb431},...(_0x1b0f4e===_0x2e621d(0x4d7)||_0x1b0f4e===_0x2e621d(0x5dd)||_0x1b0f4e===_0x2e621d(0x626)||_0x1b0f4e===_0x2e621d(0x6d4))&&{'convertedOptions':_0x418979[_0x2e621d(0x6cd)]}};}return{'messageType':_0x1b0f4e,'messageContent':_0xe359bf,'message_normalized':_0x418979};}catch(_0x4b6229){return console[_0x2e621d(0x16d)](_0x2e621d(0x398),_0x4b6229),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x30f6e2(0x61e)]=null,this[_0x30f6e2(0x1c7)]=0x0,this['timerId']=null,this['ultimaTentativaRemoteJid']=null,(this[_0x30f6e2(0x2e2)](),this['instance'][_0x30f6e2(0x16b)]={'count':0x0});}set[a0_0x39ce6a(0x168)](_0x459979){const _0x222bd5=a0_0x39ce6a;if(!_0x459979){this[_0x222bd5(0x219)][_0x222bd5(0x257)]=(0x0,br['v4'])();return;}this[_0x222bd5(0x219)][_0x222bd5(0x257)]=_0x459979,this['sendDataWebhook'](_0x222bd5(0x293),{'instance':this[_0x222bd5(0x219)]['name'],'status':_0x222bd5(0x1b4)});}get['instanceName'](){const _0x4f8bfb=a0_0x39ce6a;return this[_0x4f8bfb(0x219)][_0x4f8bfb(0x257)];}get[a0_0x39ce6a(0x321)](){const _0x21c44d=a0_0x39ce6a;return this[_0x21c44d(0x219)]['wuid'];}async[a0_0x39ce6a(0x4d1)](){const _0x501e12=a0_0x39ce6a;let _0x51bbf8=this[_0x501e12(0x1ba)]['user']?.[_0x501e12(0x257)]??this[_0x501e12(0x1ba)]['user']?.[_0x501e12(0x213)];if(!_0x51bbf8){if(this[_0x501e12(0x1e7)]['get'](_0x501e12(0x237))[_0x501e12(0x287)]){let _0x17f534=await R[_0x501e12(0x5e6)]()['db'](this[_0x501e12(0x1e7)][_0x501e12(0x2b4)](_0x501e12(0x237))[_0x501e12(0x57e)][_0x501e12(0x735)]+_0x501e12(0x703))[_0x501e12(0x486)](this[_0x501e12(0x168)])[_0x501e12(0x5c1)]({'_id':_0x501e12(0x4b3)});if(_0x17f534){let _0x31dfd5=JSON['parse'](JSON[_0x501e12(0x613)](_0x17f534),g[_0x501e12(0x64e)][_0x501e12(0x5a8)]);_0x51bbf8=_0x31dfd5['me']?.['name']||_0x31dfd5['me']?.[_0x501e12(0x213)];}}else{if((0x0,ve['existsSync'])((0x0,j[_0x501e12(0x4dc)])(ge,this[_0x501e12(0x168)],_0x501e12(0x373)))){let _0x541100=JSON[_0x501e12(0x73c)]((0x0,ve[_0x501e12(0x546)])((0x0,j[_0x501e12(0x4dc)])(ge,this[_0x501e12(0x168)],_0x501e12(0x373)),{'encoding':_0x501e12(0x1b1)}));_0x51bbf8=_0x541100['me']?.[_0x501e12(0x257)]||_0x541100['me']?.['verifiedName'];}}}return _0x51bbf8;}get[a0_0x39ce6a(0x6aa)](){const _0x471fad=a0_0x39ce6a;return this[_0x471fad(0x219)]['profilePictureUrl'];}get['qrCode'](){const _0x349392=a0_0x39ce6a;return{'pairingCode':this['instance'][_0x349392(0x16b)]?.['pairingCode'],'code':this[_0x349392(0x219)]['qrcode']?.['code'],'base64':this[_0x349392(0x219)][_0x349392(0x16b)]?.[_0x349392(0x383)]};}async[a0_0x39ce6a(0x207)](){const _0x57bbcd=a0_0x39ce6a;let _0x5415fd=await this['repository']['webhook'][_0x57bbcd(0x280)](this['instanceName']);this[_0x57bbcd(0x258)][_0x57bbcd(0x758)]=_0x5415fd?.[_0x57bbcd(0x758)],this['localWebhook'][_0x57bbcd(0x4fb)]=_0x5415fd?.[_0x57bbcd(0x4fb)],this[_0x57bbcd(0x258)][_0x57bbcd(0x698)]=_0x5415fd?.[_0x57bbcd(0x698)],this[_0x57bbcd(0x258)]['STATUS_INSTANCE']=_0x5415fd?.[_0x57bbcd(0x644)],this[_0x57bbcd(0x258)][_0x57bbcd(0x7c2)]=_0x5415fd?.[_0x57bbcd(0x7c2)],this[_0x57bbcd(0x258)]['SEND_MESSAGE']=_0x5415fd?.[_0x57bbcd(0x261)],this[_0x57bbcd(0x258)]['MESSAGES_UPSERT']=_0x5415fd?.[_0x57bbcd(0x6ac)],this['localWebhook'][_0x57bbcd(0x557)]=_0x5415fd?.[_0x57bbcd(0x557)],this[_0x57bbcd(0x258)][_0x57bbcd(0x1e0)]=_0x5415fd?.['GROUPS_UPSERT'],this[_0x57bbcd(0x258)][_0x57bbcd(0x5f6)]=_0x5415fd?.[_0x57bbcd(0x5f6)],this['localWebhook'][_0x57bbcd(0x310)]=_0x5415fd?.['GROUP_PARTICIPANTS_UPDATE'],this[_0x57bbcd(0x258)][_0x57bbcd(0x42d)]=_0x5415fd?.[_0x57bbcd(0x42d)],this[_0x57bbcd(0x258)][_0x57bbcd(0x607)]=_0x5415fd?.[_0x57bbcd(0x607)],this[_0x57bbcd(0x258)]['CHATS_UPDATE']=_0x5415fd?.[_0x57bbcd(0x66b)],this['localWebhook'][_0x57bbcd(0x40e)]=_0x5415fd?.[_0x57bbcd(0x40e)],this[_0x57bbcd(0x258)][_0x57bbcd(0x3be)]=_0x5415fd?.['CONTACTS_SET'],this['localWebhook'][_0x57bbcd(0x634)]=_0x5415fd?.[_0x57bbcd(0x634)],this[_0x57bbcd(0x258)][_0x57bbcd(0x370)]=_0x5415fd?.[_0x57bbcd(0x370)],this[_0x57bbcd(0x258)][_0x57bbcd(0x303)]=_0x5415fd?.[_0x57bbcd(0x303)],this[_0x57bbcd(0x258)][_0x57bbcd(0x5ca)]=_0x5415fd?.[_0x57bbcd(0x5ca)],this[_0x57bbcd(0x258)][_0x57bbcd(0x5a1)]=_0x5415fd?.['CONNECTION_UPDATE'],this[_0x57bbcd(0x258)][_0x57bbcd(0x415)]=_0x5415fd?.[_0x57bbcd(0x415)];}async[a0_0x39ce6a(0x3e6)](_0x3ef1bc){const _0x52f988=a0_0x39ce6a;let _0x3e0baa=['_id',_0x52f988(0x758),_0x52f988(0x4fb),_0x52f988(0x698),_0x52f988(0x644),_0x52f988(0x7c2),_0x52f988(0x557),'MESSAGES_UPSERT',_0x52f988(0x261),'GROUPS_UPSERT','GROUPS_UPDATE','GROUP_PARTICIPANTS_UPDATE','CHATS_SET',_0x52f988(0x607),'CHATS_UPDATE',_0x52f988(0x40e),'CONTACTS_SET',_0x52f988(0x634),_0x52f988(0x370),'PRESENCE_UPDATE',_0x52f988(0x5ca),_0x52f988(0x5a1),_0x52f988(0x415)],_0x135444={};return _0x3e0baa[_0x52f988(0x797)](_0x4aed3d=>{_0x3ef1bc[_0x4aed3d]!==void 0x0&&(_0x135444[_0x4aed3d]=_0x3ef1bc[_0x4aed3d]);}),await this[_0x52f988(0x422)][_0x52f988(0x5fe)][_0x52f988(0x451)](_0x135444,this[_0x52f988(0x168)]),Object[_0x52f988(0x5f0)](this['localWebhook'],_0x135444),await this['repository']['webhook'][_0x52f988(0x280)](this[_0x52f988(0x168)]);}async[a0_0x39ce6a(0x704)](){const _0x1f9ea4=a0_0x39ce6a;return await this[_0x1f9ea4(0x422)][_0x1f9ea4(0x5fe)]['find'](this['instanceName']);}async[a0_0x39ce6a(0x672)](_0x23db89,_0x1b7932){const _0x5c6561=a0_0x39ce6a;let _0x2eb802=_0x23db89[_0x5c6561(0x214)](/[\.-]/gm,'_')['toUpperCase'](),_0x1f5000=this[_0x5c6561(0x258)][_0x5c6561(0x4fb)]&&(0x0,$[_0x5c6561(0x6bc)])(this[_0x5c6561(0x258)][_0x5c6561(0x758)])?this[_0x5c6561(0x258)][_0x5c6561(0x758)]+(this[_0x5c6561(0x258)][_0x5c6561(0x698)]?this['webhookMap'][_0x23db89]:''):null,_0x3d51d8=this['localWebhook'][_0x2eb802],_0x2d9c59=ne&&ne[_0x5c6561(0x4fb)]&&(0x0,$[_0x5c6561(0x6bc)])(ne[_0x5c6561(0x758)])?ne[_0x5c6561(0x758)]+(ne['local_map']?this['webhookMap'][_0x23db89]:''):null,_0x1d59ad=ne?ne[_0x2eb802]:null;if(_0x3d51d8&&_0x1f5000)try{await se[_0x5c6561(0x6b8)][_0x5c6561(0x451)]({'baseURL':_0x1f5000})[_0x5c6561(0x67c)]('',{'event':_0x23db89,'instance':this[_0x5c6561(0x219)][_0x5c6561(0x257)],'apikey':this[_0x5c6561(0x219)][_0x5c6561(0x74e)],'data':_0x1b7932}),this[_0x5c6561(0x57c)][_0x5c6561(0x4e5)](this[_0x5c6561(0x168)]+'\x20('+this[_0x5c6561(0x219)]['wuid']+_0x5c6561(0x72f)+_0x23db89+':\x20'+_0x1f5000);}catch{this[_0x5c6561(0x57c)][_0x5c6561(0x16d)](this[_0x5c6561(0x168)]+'\x20('+this['instance'][_0x5c6561(0x321)]+_0x5c6561(0x6ec)+_0x23db89+':\x20'+_0x1f5000);}if(_0x1d59ad&&_0x2d9c59)try{await se['default'][_0x5c6561(0x451)]({'baseURL':_0x2d9c59})[_0x5c6561(0x67c)]('',{'event':_0x23db89,'instance':this[_0x5c6561(0x219)][_0x5c6561(0x257)],'apikey':this[_0x5c6561(0x219)][_0x5c6561(0x74e)],'data':_0x1b7932}),this[_0x5c6561(0x57c)]['log'](this['instanceName']+'\x20('+this[_0x5c6561(0x219)][_0x5c6561(0x321)]+_0x5c6561(0x1ac)+_0x23db89+':\x20'+_0x2d9c59);}catch{this[_0x5c6561(0x57c)][_0x5c6561(0x16d)](this[_0x5c6561(0x168)]+'\x20('+this[_0x5c6561(0x219)][_0x5c6561(0x321)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x23db89+':\x20'+_0x2d9c59);}}async['connectionUpdate']({qr:_0xc84ff2,connection:_0x421c81,lastDisconnect:_0x2612b8}){const _0x548cf9=a0_0x39ce6a;if(_0xc84ff2){if(this[_0x548cf9(0x219)][_0x548cf9(0x16b)][_0x548cf9(0x45e)]===mi)return this[_0x548cf9(0x672)](_0x548cf9(0x59f),{'message':_0x548cf9(0x69f),'statusCode':g[_0x548cf9(0x228)][_0x548cf9(0x462)]}),this[_0x548cf9(0x2d7)]={'state':_0x548cf9(0x23f),'statusReason':g['DisconnectReason']['connectionClosed']},this[_0x548cf9(0x672)](_0x548cf9(0x5f2),{'instance':this[_0x548cf9(0x219)][_0x548cf9(0x257)],...this[_0x548cf9(0x2d7)]}),this[_0x548cf9(0x672)](_0x548cf9(0x293),{'instance':this[_0x548cf9(0x219)][_0x548cf9(0x257)],'status':'removed'}),this[_0x548cf9(0x422)][_0x548cf9(0x377)][_0x548cf9(0x451)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this['instance']['name']),this[_0x548cf9(0x49b)]=!0x0,this[_0x548cf9(0x408)][_0x548cf9(0x389)](_0x548cf9(0x5df),this[_0x548cf9(0x219)]['name']);this['instance'][_0x548cf9(0x16b)][_0x548cf9(0x45e)]++;let _0x3b5157={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x548cf9(0x46a),'dark':_0x548cf9(0x2c6)}};Sr[_0x548cf9(0x6b8)]['toDataURL'](_0xc84ff2,_0x3b5157,(_0x15e092,_0x4c0cea)=>{const _0xec9d03=_0x548cf9;if(_0x15e092){this[_0xec9d03(0x57c)][_0xec9d03(0x16d)](this[_0xec9d03(0x168)]+'\x20('+this['instance']['wuid']+_0xec9d03(0x6f1)+(_0x15e092 instanceof Error?_0x15e092[_0xec9d03(0x1f0)]:JSON['stringify'](_0x15e092,null,0x2)));return;}this['instance'][_0xec9d03(0x16b)][_0xec9d03(0x383)]=_0x4c0cea,this[_0xec9d03(0x219)][_0xec9d03(0x16b)][_0xec9d03(0x4aa)]=_0xc84ff2,this[_0xec9d03(0x672)](_0xec9d03(0x59f),{'qrcode':{'instance':this[_0xec9d03(0x219)][_0xec9d03(0x257)],'pairingCode':this[_0xec9d03(0x219)][_0xec9d03(0x16b)]['pairingCode'],'code':_0xc84ff2,'base64':_0x4c0cea}});}),this[_0x548cf9(0x259)]?(await(0x0,g['delay'])(0x7d0),this[_0x548cf9(0x219)][_0x548cf9(0x16b)][_0x548cf9(0x4b9)]=await this[_0x548cf9(0x1ba)][_0x548cf9(0x671)](this[_0x548cf9(0x259)])):this[_0x548cf9(0x219)][_0x548cf9(0x16b)][_0x548cf9(0x4b9)]=null,Er[_0x548cf9(0x6b8)][_0x548cf9(0x5e9)](_0xc84ff2,{'small':!0x0},_0x171283=>this['logger']['log'](_0x548cf9(0x6d1)+this[_0x548cf9(0x219)][_0x548cf9(0x257)]+_0x548cf9(0x53e)+this[_0x548cf9(0x219)]['qrcode']['count']+_0x548cf9(0x79b)+this[_0x548cf9(0x219)][_0x548cf9(0x16b)][_0x548cf9(0x4b9)]+_0x548cf9(0x3fb)+_0x171283));}if(_0x421c81&&(this[_0x548cf9(0x2d7)]={'state':_0x421c81,'statusReason':_0x2612b8?.[_0x548cf9(0x16d)]?.[_0x548cf9(0x2aa)]?.[_0x548cf9(0x347)]??0xc8},this[_0x548cf9(0x672)](_0x548cf9(0x5f2),{'instance':this[_0x548cf9(0x219)][_0x548cf9(0x257)],...this[_0x548cf9(0x2d7)]})),_0x421c81==='close'){if(this[_0x548cf9(0x5ae)]++,this[_0x548cf9(0x459)]['push'](Date[_0x548cf9(0x2b9)]()),this[_0x548cf9(0x459)]=this['reconnectTimestamps'][_0x548cf9(0x558)](_0x55cd32=>Date[_0x548cf9(0x2b9)]()-_0x55cd32<this[_0x548cf9(0x233)]),_0x2612b8[_0x548cf9(0x16d)]?.['output']?.[_0x548cf9(0x347)]!==g[_0x548cf9(0x228)][_0x548cf9(0x201)]&&this['reconnectTimestamps'][_0x548cf9(0x44f)]<=this[_0x548cf9(0x391)])console[_0x548cf9(0x4e5)](this[_0x548cf9(0x168)]+_0x548cf9(0x1c4)+this['reconnectAttempts']+'/'+this[_0x548cf9(0x391)]+_0x548cf9(0x78c)),console['log']('Tentando\x20reconectar...'),await this['connectToWhatsapp']();else{this['sendDataWebhook'](_0x548cf9(0x293),{'instance':this['instance'][_0x548cf9(0x257)],'status':_0x548cf9(0x189)}),this[_0x548cf9(0x6dc)]=!0x1,this[_0x548cf9(0x422)][_0x548cf9(0x5fe)]['delete'](this['instanceName']),this[_0x548cf9(0x422)][_0x548cf9(0x377)][_0x548cf9(0x451)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x548cf9(0x2b9)]()},this[_0x548cf9(0x219)]['name']);try{this[_0x548cf9(0x57c)][_0x548cf9(0x5b1)](this[_0x548cf9(0x168)]+'\x20('+this[_0x548cf9(0x219)][_0x548cf9(0x321)]+_0x548cf9(0x44a));let _0x55e6c5=await this[_0x548cf9(0x422)][_0x548cf9(0x1f0)][_0x548cf9(0x589)](this[_0x548cf9(0x219)][_0x548cf9(0x321)]);_0x55e6c5[_0x548cf9(0x34e)]?this[_0x548cf9(0x57c)][_0x548cf9(0x5b1)](this[_0x548cf9(0x168)]+'\x20('+this['instance'][_0x548cf9(0x321)]+_0x548cf9(0x56d)):console[_0x548cf9(0x16d)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:',_0x55e6c5[_0x548cf9(0x16d)]);}catch(_0x665995){console[_0x548cf9(0x16d)]('Falha\x20ao\x20deletar\x20mensagens\x20antigas:',_0x665995);}this['delayMessage']!==null&&(this['logger'][_0x548cf9(0x5b1)](this[_0x548cf9(0x168)]+'\x20('+this[_0x548cf9(0x219)][_0x548cf9(0x321)]+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x548cf9(0x470)]),this[_0x548cf9(0x470)]=null),this['logger'][_0x548cf9(0x5b1)](this[_0x548cf9(0x168)]+'\x20('+this[_0x548cf9(0x219)][_0x548cf9(0x321)]+'):\x20Limpando\x20AutomateSystem'),this[_0x548cf9(0x719)]=null,this[_0x548cf9(0x408)]['emit'](_0x548cf9(0x66c),this[_0x548cf9(0x219)][_0x548cf9(0x257)],_0x548cf9(0x64f)),this[_0x548cf9(0x1ba)]?.['ws']?.[_0x548cf9(0x194)](),this[_0x548cf9(0x1ba)][_0x548cf9(0x29b)](new Error('Close\x20connection'));}}if(_0x421c81===_0x548cf9(0x606)){this[_0x548cf9(0x1ba)]['ev'][_0x548cf9(0x6b4)](),this[_0x548cf9(0x3bc)],this['instance'][_0x548cf9(0x321)]=this[_0x548cf9(0x1ba)][_0x548cf9(0x315)]['id'][_0x548cf9(0x214)](/:\d+/,'')[_0x548cf9(0x214)](_0x548cf9(0x718),''),this[_0x548cf9(0x219)][_0x548cf9(0x6aa)]=(await this['profilePicture'](this['instance'][_0x548cf9(0x321)]+_0x548cf9(0x718)))[_0x548cf9(0x6aa)],this['repository'][_0x548cf9(0x377)][_0x548cf9(0x451)]({'online':!0x0,'owner':this['instance'][_0x548cf9(0x321)],'lastDisconnect':null},this[_0x548cf9(0x219)]['name']);let _0x55396c=_0x548cf9(0x1d0)+this[_0x548cf9(0x219)][_0x548cf9(0x321)],_0x1f0280=0x28,_0x58424b=Math[_0x548cf9(0x55b)]((_0x1f0280-_0x55396c[_0x548cf9(0x44f)])/0x2),_0x539305='\x20'[_0x548cf9(0x436)](_0x58424b),_0x36733a=_0x548cf9(0x490),_0x3ee5d8=_0x548cf9(0x5f9)+this[_0x548cf9(0x219)][_0x548cf9(0x257)],_0xcd268e=(''+_0x539305+_0x55396c+_0x539305)[_0x548cf9(0x31a)](_0x1f0280,'\x20'),_0x56ce96=(''+_0x539305+_0x36733a+_0x539305)[_0x548cf9(0x31a)](_0x1f0280,'\x20'),_0x436d86=(''+_0x539305+_0x3ee5d8+_0x539305)[_0x548cf9(0x31a)](_0x1f0280,'\x20'),_0x1f03f1=Math[_0x548cf9(0x2ba)](_0xcd268e['length'],_0x56ce96['length'],_0x436d86['length']),_0x761d11=_0xcd268e[_0x548cf9(0x31a)](_0x1f03f1,'\x20'),_0xcee42d=_0x56ce96[_0x548cf9(0x31a)](_0x1f03f1,'\x20'),_0xf616b5=_0x436d86['padEnd'](_0x1f03f1,'\x20');this[_0x548cf9(0x57c)]['info'](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌'+'─'[_0x548cf9(0x436)](_0x1f03f1)+_0x548cf9(0x1d1)+_0xcee42d+_0x548cf9(0x6ee)+_0xf616b5+_0x548cf9(0x6ee)+_0x761d11+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'[_0x548cf9(0x436)](_0x1f03f1)+'┘')[_0x548cf9(0x214)](/^ +/gm,'\x20\x20')),this[_0x548cf9(0x643)](),this[_0x548cf9(0x6dc)]=!0x0;}}['resetReconnectionVariables'](){const _0x34ee72=a0_0x39ce6a;this[_0x34ee72(0x5ae)]=0x0,this['reconnectTimestamps']=[];}async[a0_0x39ce6a(0x274)](_0x332522,_0xcc430b=!0x1){const _0x25bfc2=a0_0x39ce6a;try{let _0x2cc76d=await this['repository']['message'][_0x25bfc2(0x280)]({'where':{'_id':_0x332522['id']}},this['instance'][_0x25bfc2(0x321)]);return _0xcc430b?_0x2cc76d[0x0]:_0x2cc76d[0x0]['message'];}catch{return{'conversation':''};}}[a0_0x39ce6a(0x2e2)](){const _0x3c9f56=a0_0x39ce6a;let _0x30fc4e=this['configService'][_0x3c9f56(0x2b4)](_0x3c9f56(0x79c)),_0x57d7d4=this[_0x3c9f56(0x1e7)]['get']('DATABASE');_0x30fc4e?.[_0x3c9f56(0x169)]&&!_0x57d7d4[_0x3c9f56(0x287)]&&setInterval(()=>{const _0x2c0c51=_0x3c9f56;try{for(let [_0x16f1eb,_0x919d2e]of Object['entries'](_0x30fc4e))_0x919d2e===!0x0&&(0x0,Pt[_0x2c0c51(0x55f)])(_0x2c0c51(0x7a9)+(0x0,j[_0x2c0c51(0x4dc)])(this['storePath'],_0x16f1eb[_0x2c0c51(0x6bf)](),this[_0x2c0c51(0x219)][_0x2c0c51(0x321)])+_0x2c0c51(0x54a));}catch{}},(_0x30fc4e?.[_0x3c9f56(0x169)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x4ec8eb=a0_0x39ce6a;let _0x58ab7e=this[_0x4ec8eb(0x1e7)]['get'](_0x4ec8eb(0x237)),_0x5db0b1=this[_0x4ec8eb(0x1e7)][_0x4ec8eb(0x2b4)](_0x4ec8eb(0x450));return _0x5db0b1?.[_0x4ec8eb(0x287)]?await bs(_0x5db0b1,this[_0x4ec8eb(0x219)][_0x4ec8eb(0x257)]):_0x58ab7e[_0x4ec8eb(0x287)]?await ys(this[_0x4ec8eb(0x219)][_0x4ec8eb(0x257)]):await(0x0,g[_0x4ec8eb(0x524)])((0x0,j[_0x4ec8eb(0x4dc)])(ge,this['instance'][_0x4ec8eb(0x257)]));}async[a0_0x39ce6a(0x643)](){const _0x45390e=a0_0x39ce6a;let _0x421444=()=>Math[_0x45390e(0x55b)](Math[_0x45390e(0x647)]()*0x2711)+0x7d0,_0xa1a75f=async()=>{const _0x20cac8=_0x45390e;if(!this[_0x20cac8(0x6dc)]){this['logger'][_0x20cac8(0x5b1)]('Desconectado,\x20parando\x20execução.'),this[_0x20cac8(0x4a6)]=!0x1;return;}if(this[_0x20cac8(0x219)][_0x20cac8(0x321)]&&this[_0x20cac8(0x719)]&&this[_0x20cac8(0x470)]!==null&&this[_0x20cac8(0x470)]!==void 0x0){let _0x8e2f2e=Math[_0x20cac8(0x1a3)](this['delayMessage']/0xea60);this['logger'][_0x20cac8(0x5b1)](this['instanceName']+'\x20('+this[_0x20cac8(0x219)][_0x20cac8(0x321)]+_0x20cac8(0x3a6)+_0x8e2f2e+_0x20cac8(0x4df)),this[_0x20cac8(0x4a6)]=!0x1;return;}else this[_0x20cac8(0x219)][_0x20cac8(0x321)]&&(this[_0x20cac8(0x57c)][_0x20cac8(0x5b1)](this[_0x20cac8(0x168)]+'\x20('+this[_0x20cac8(0x219)][_0x20cac8(0x321)]+_0x20cac8(0x517)),this[_0x20cac8(0x57c)][_0x20cac8(0x5b1)](this['instanceName']+'\x20('+this[_0x20cac8(0x219)]['wuid']+'):\x20Dados\x20migrados\x20com\x20sucesso'),this[_0x20cac8(0x719)]||await this['getAutomateSystem'](),(this[_0x20cac8(0x470)]===null||this[_0x20cac8(0x470)]===void 0x0)&&await this[_0x20cac8(0x796)]());if(this[_0x20cac8(0x4a6)]){let _0x2bdb6f=_0x421444();this[_0x20cac8(0x57c)][_0x20cac8(0x5b1)](this[_0x20cac8(0x168)]+_0x20cac8(0x369)+_0x2bdb6f/0x3e8+_0x20cac8(0x5b0)),setTimeout(_0xa1a75f,_0x2bdb6f);}};if(this[_0x45390e(0x4a6)])return;this['isRunning']=!0x0;let _0x30ea5f=_0x421444();setTimeout(_0xa1a75f,_0x30ea5f);}async[a0_0x39ce6a(0x58e)](_0x19acf2=0x0,_0xf10808=!0x1){const _0x50ab48=a0_0x39ce6a;try{let _0x43a07f=this['configService'][_0x50ab48(0x2b4)](_0x50ab48(0x468));if(_0x43a07f!==0x1||typeof _0x43a07f>'u'||_0x19acf2>=0x5)return this[_0x50ab48(0x57c)][_0x50ab48(0x18f)](_0x50ab48(0x215)),this['repository'][_0x50ab48(0x377)][_0x50ab48(0x451)]({'ip':null},this[_0x50ab48(0x219)][_0x50ab48(0x257)]),{};this[_0x50ab48(0x57c)]['verbose'](this[_0x50ab48(0x168)]+':\x20Tentativa\x20'+(_0x19acf2+0x1)+_0x50ab48(0x4bd));let _0x3e2871;if(!_0xf10808){let _0x55875f=await this[_0x50ab48(0x422)][_0x50ab48(0x377)][_0x50ab48(0x280)](this[_0x50ab48(0x168)]);_0x55875f&&_0x55875f['ip']&&(_0x3e2871=gr(_0x55875f['ip']));}if((!_0x3e2871||!Ss(_0x3e2871))&&(this[_0x50ab48(0x57c)]['warn'](this[_0x50ab48(0x168)]+_0x50ab48(0x444)),_0x3e2871=mr()),_0x3e2871&&Ss(_0x3e2871)){let _0x16df8d=_0x3e2871[_0x50ab48(0x750)]&&_0x3e2871[_0x50ab48(0x35e)]?_0x3e2871[_0x50ab48(0x416)]+_0x50ab48(0x608)+_0x3e2871[_0x50ab48(0x750)]+':'+_0x3e2871[_0x50ab48(0x35e)]+'@'+_0x3e2871['host']+':'+_0x3e2871[_0x50ab48(0x62e)]:_0x3e2871['protocol']+_0x50ab48(0x608)+_0x3e2871['host']+':'+_0x3e2871[_0x50ab48(0x62e)];return await this['testProxy'](_0x16df8d,_0x3e2871[_0x50ab48(0x6b0)])?(this['logger'][_0x50ab48(0x5b1)](this[_0x50ab48(0x168)]+':\x20IP\x20funcionando!'),this[_0x50ab48(0x422)][_0x50ab48(0x377)][_0x50ab48(0x451)]({'ip':_0x3e2871[_0x50ab48(0x6b0)]},this['instance']['name']),{'agent':new _t[(_0x50ab48(0x1b7))](_0x16df8d),'fetchAgent':new _t[(_0x50ab48(0x1b7))](_0x16df8d)}):(this[_0x50ab48(0x57c)]['warn'](this[_0x50ab48(0x168)]+_0x50ab48(0x2f7)),await(0x0,g[_0x50ab48(0x248)])(0xc8),this[_0x50ab48(0x58e)](_0x19acf2+0x1,!0x0));}else return this[_0x50ab48(0x57c)][_0x50ab48(0x18f)](this[_0x50ab48(0x168)]+_0x50ab48(0x442)),await(0x0,g['delay'])(0xc8),this[_0x50ab48(0x58e)](_0x19acf2+0x1,!0x0);}catch(_0x380b96){return this[_0x50ab48(0x57c)]['error'](this[_0x50ab48(0x168)]+_0x50ab48(0x5b2)+_0x380b96[_0x50ab48(0x1f0)]),{};}}async['testProxy'](_0x37ae65,_0x144e0f){const _0x38bb4f=a0_0x39ce6a;let _0x140689=new _t[(_0x38bb4f(0x1b7))](_0x37ae65),_0x1f19d2=0x1388,_0x322ecb=[{'url':_0x38bb4f(0x346),'parse':_0x25d2fc=>_0x25d2fc['ip']},{'url':_0x38bb4f(0x372),'parse':_0xabaa76=>_0xabaa76['ip']},{'url':_0x38bb4f(0x5ff),'parse':_0x3de441=>_0x3de441[_0x38bb4f(0x343)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x38bb4f(0x5cf),'parse':_0x5b2519=>_0x5b2519['ip']},{'url':_0x38bb4f(0x209),'parse':_0x5567b8=>_0x5567b8[_0x38bb4f(0x597)]()},{'url':_0x38bb4f(0x760),'parse':_0x53ad9d=>_0x53ad9d[_0x38bb4f(0x597)]()},{'url':_0x38bb4f(0x726),'parse':_0x2a5c22=>_0x2a5c22[_0x38bb4f(0x720)]},{'url':_0x38bb4f(0x266),'parse':_0x4e4b6c=>_0x4e4b6c['trim']()},{'url':_0x38bb4f(0x2e1),'parse':_0x2f8a9e=>_0x2f8a9e['trim']()}],_0x47b757=_0x322ecb[Math[_0x38bb4f(0x55b)](Math[_0x38bb4f(0x647)]()*_0x322ecb[_0x38bb4f(0x44f)])];try{let _0x4145df=await se['default']['get'](_0x47b757[_0x38bb4f(0x758)],{'httpsAgent':_0x140689,'timeout':_0x1f19d2}),_0x391208=_0x47b757[_0x38bb4f(0x73c)](_0x4145df[_0x38bb4f(0x34d)]);return _0x391208===_0x144e0f?(this[_0x38bb4f(0x57c)][_0x38bb4f(0x5b1)](this[_0x38bb4f(0x168)]+_0x38bb4f(0x5ed)+_0x144e0f+'\x20-\x20retornado:\x20'+_0x391208+_0x38bb4f(0x3f1)),!0x0):(this['logger']['error'](this[_0x38bb4f(0x168)]+':\x20IP\x20configurado:\x20'+_0x144e0f+_0x38bb4f(0x2f2)+_0x391208+'\x20->\x20NÃO\x20CORRESPONDE.'),!0x1);}catch(_0x2a6e34){return this['logger'][_0x38bb4f(0x16d)](this[_0x38bb4f(0x168)]+_0x38bb4f(0x36d)+_0x47b757[_0x38bb4f(0x758)]+':\x20'+_0x2a6e34[_0x38bb4f(0x1f0)]),!0x1;}}async[a0_0x39ce6a(0x572)](_0x27404b){const _0x27fe62=a0_0x39ce6a;try{let _0x97cf67=await this[_0x27fe62(0x58e)]();this['loadWebhook'](),this[_0x27fe62(0x219)][_0x27fe62(0x74e)]=(await this[_0x27fe62(0x422)]['auth'][_0x27fe62(0x280)](this[_0x27fe62(0x219)][_0x27fe62(0x257)]))[_0x27fe62(0x74e)],this['instance']['authState']=await this['defineAuthState']();let {version:_0x2049ed}=await(0x0,g[_0x27fe62(0x48b)])(),_0x12ec9f=[Ns,Cr,(0x0,Es[_0x27fe62(0x39f)])()],_0x5be700={..._0x97cf67,'auth':{'creds':this[_0x27fe62(0x219)]['authState'][_0x27fe62(0x3fa)][_0x27fe62(0x4b3)],'keys':(0x0,g[_0x27fe62(0x1bd)])(this[_0x27fe62(0x219)][_0x27fe62(0x2d9)][_0x27fe62(0x3fa)][_0x27fe62(0x322)],(0x0,It['default'])({'level':_0x27fe62(0x16d)}))},'logger':(0x0,It[_0x27fe62(0x6b8)])({'level':_0x27fe62(0x16d)}),'printQRInTerminal':!0x1,'browser':_0x27404b?[_0x27fe62(0x5bc),Ns,(0x0,Es['release'])()]:_0x12ec9f,'version':_0x2049ed,'maxMsgRetryCount':0x5,'retryRequestDelayMs':0x1f4,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x91b9d7=>{const _0x5617a7=_0x27fe62;let _0x2e0987=_0x91b9d7['endsWith'](_0x5617a7(0x474)),_0x4db696=this[_0x5617a7(0x258)]?.[_0x5617a7(0x415)]&&_0x91b9d7['endsWith']('@g.us');return _0x2e0987||(0x0,g[_0x5617a7(0x66e)])(_0x91b9d7)||_0x4db696;},'msgRetryCounterCache':this[_0x27fe62(0x5b5)],'getMessage':async _0x4b9855=>await this[_0x27fe62(0x274)](_0x4b9855),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x27fe62(0x51d)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x437fbe=>(_0x437fbe[_0x27fe62(0x6d4)]?.[_0x27fe62(0x794)]==g['proto']['Message'][_0x27fe62(0x1f4)][_0x27fe62(0x3b2)]['PRODUCT_LIST']&&(_0x437fbe=JSON[_0x27fe62(0x73c)](JSON[_0x27fe62(0x613)](_0x437fbe)),_0x437fbe[_0x27fe62(0x6d4)][_0x27fe62(0x794)]=g[_0x27fe62(0x15e)][_0x27fe62(0x186)]['ListMessage']['ListType']['SINGLE_SELECT']),_0x437fbe)};return this[_0x27fe62(0x49b)]=!0x1,this['client']=(0x0,g[_0x27fe62(0x6b8)])(_0x5be700),this['eventHandler'](),this[_0x27fe62(0x259)]=_0x27404b,this['client'];}catch(_0x340894){throw this[_0x27fe62(0x57c)][_0x27fe62(0x16d)](this[_0x27fe62(0x168)]+'\x20('+this[_0x27fe62(0x219)][_0x27fe62(0x321)]+_0x27fe62(0x16c)+(_0x340894 instanceof Error?_0x340894[_0x27fe62(0x1f0)]:JSON[_0x27fe62(0x613)](_0x340894,null,0x2))),new I(_0x340894?.[_0x27fe62(0x30b)]());}}[a0_0x39ce6a(0x4c0)](){const _0xc43169=a0_0x39ce6a;this[_0xc43169(0x1ba)]['ev'][_0xc43169(0x7a1)](_0x7fdfd8=>{const _0x19a8ae=_0xc43169;if(!this['endSession']){let _0x121bf9=this[_0x19a8ae(0x1e7)][_0x19a8ae(0x2b4)](_0x19a8ae(0x237));if(_0x7fdfd8[_0x19a8ae(0x2e7)]){let _0x918067=_0x7fdfd8[_0x19a8ae(0x2e7)];this[_0x19a8ae(0x265)]['labels.edit'](_0x918067);}if(_0x7fdfd8[_0x19a8ae(0x2ff)]){let _0x35d341=_0x7fdfd8[_0x19a8ae(0x2ff)];this[_0x19a8ae(0x265)][_0x19a8ae(0x2ff)](_0x35d341);}if(_0x7fdfd8[_0x19a8ae(0x5f2)]&&this[_0x19a8ae(0x1ff)](_0x7fdfd8[_0x19a8ae(0x5f2)]),_0x7fdfd8[_0x19a8ae(0x184)]&&this[_0x19a8ae(0x219)]['authState'][_0x19a8ae(0x5db)](),_0x7fdfd8[_0x19a8ae(0x4ce)]){let _0x937b55=_0x7fdfd8[_0x19a8ae(0x4ce)];this[_0x19a8ae(0x265)][_0x19a8ae(0x4ce)](_0x937b55,_0x121bf9);}if(_0x7fdfd8[_0x19a8ae(0x30a)]){let _0xb96e09=_0x7fdfd8[_0x19a8ae(0x30a)];this[_0x19a8ae(0x265)][_0x19a8ae(0x30a)](_0xb96e09,_0x121bf9);}if(_0x7fdfd8[_0x19a8ae(0x46c)]){let _0x408844=_0x7fdfd8['messages.update'];_0x408844[_0x19a8ae(0x797)](_0x1fdc21=>{const _0x312795=_0x19a8ae;if(wr[_0x1fdc21[_0x312795(0x3b6)]['id']]){this[_0x312795(0x1ba)]['ev']['emit'](_0x312795(0x30a),{'messages':[_0x1fdc21],'type':_0x312795(0x216)}),delete wr[_0x1fdc21[_0x312795(0x3b6)]['id']];return;}}),this['messageHandle']['messages.update'](_0x408844,_0x121bf9);}if(_0x7fdfd8['presence.update']){let _0x151c9f=_0x7fdfd8[_0x19a8ae(0x247)];if(this['localWebhook']?.['groups_ignore']&&_0x151c9f['id']['includes'](_0x19a8ae(0x6d3)))return;this[_0x19a8ae(0x672)](_0x19a8ae(0x247),_0x151c9f);}if(!this[_0x19a8ae(0x258)]?.['groups_ignore']){if(_0x7fdfd8[_0x19a8ae(0x284)]){let _0x4ad1fd=_0x7fdfd8[_0x19a8ae(0x284)];this[_0x19a8ae(0x70c)][_0x19a8ae(0x284)](_0x4ad1fd);}if(_0x7fdfd8['groups.update']){let _0x47c0d6=_0x7fdfd8['groups.update'];this[_0x19a8ae(0x70c)][_0x19a8ae(0x501)](_0x47c0d6);}if(_0x7fdfd8[_0x19a8ae(0x55a)]){let _0x464470=_0x7fdfd8[_0x19a8ae(0x55a)];this['groupHandler'][_0x19a8ae(0x55a)](_0x464470);}}if(_0x7fdfd8['chats.upsert']){let _0x26aca0=_0x7fdfd8['chats.upsert'];this[_0x19a8ae(0x4ab)][_0x19a8ae(0x79e)](_0x26aca0,_0x121bf9);}if(_0x7fdfd8[_0x19a8ae(0x1ad)]){let _0x19d7f4=_0x7fdfd8[_0x19a8ae(0x1ad)];this[_0x19a8ae(0x4ab)][_0x19a8ae(0x1ad)](_0x19d7f4,_0x121bf9);}if(_0x7fdfd8['chats.delete']){let _0x1913c1=_0x7fdfd8['chats.delete'];this['chatHandle'][_0x19a8ae(0x603)](_0x1913c1);}if(_0x7fdfd8[_0x19a8ae(0x5c3)]){let _0xbec93b=_0x7fdfd8[_0x19a8ae(0x5c3)];this[_0x19a8ae(0x42c)]['contacts.upsert'](_0xbec93b,_0x121bf9);}if(_0x7fdfd8[_0x19a8ae(0x1b3)]){let _0x24ffb4=_0x7fdfd8[_0x19a8ae(0x1b3)];this[_0x19a8ae(0x42c)][_0x19a8ae(0x1b3)](_0x24ffb4,_0x121bf9);}}});}['delayChatLabel'](_0x2c08bb){return new Promise(_0x4944d9=>setTimeout(_0x4944d9,_0x2c08bb));}[a0_0x39ce6a(0x4f2)](_0x529b36){const _0x31c519=a0_0x39ce6a;let _0x2f0dd9=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x31c519(0x2ec)](_0x529b36);if(_0x2f0dd9&&_0x2f0dd9[0x1]==='55'){let _0x375f53=_0x2f0dd9[0x2],_0x51d3ed=_0x2f0dd9[0x3],_0x908b40=_0x2f0dd9[0x4];if(_0x375f53>='31'&&_0x51d3ed==='9')return _0x2f0dd9[0x1]+_0x375f53+_0x908b40;}return _0x529b36;}[a0_0x39ce6a(0x1a4)](_0x2f96b2){const _0x4f8786=a0_0x39ce6a;return _0x2f96b2[_0x4f8786(0x49a)](_0x4f8786(0x6d3))||_0x2f96b2[_0x4f8786(0x49a)](_0x4f8786(0x718))||_0x2f96b2[_0x4f8786(0x49a)]('@broadcast')?_0x2f96b2:(_0x2f96b2=_0x2f96b2?.[_0x4f8786(0x214)](/\s/g,'')[_0x4f8786(0x214)](/\+/g,'')[_0x4f8786(0x214)](/\(/g,'')[_0x4f8786(0x214)](/\)/g,'')[_0x4f8786(0x154)](/\:/)[0x0][_0x4f8786(0x154)]('@')[0x0],_0x2f96b2['length']>=0x12?(_0x2f96b2=_0x2f96b2[_0x4f8786(0x214)](/[^\d-]/g,''),_0x2f96b2+_0x4f8786(0x6d3)):(_0x2f96b2=_0x2f96b2['replace'](/\D/g,''),_0x2f96b2+_0x4f8786(0x718)));}async['updatePresence'](_0x17f1f1){const _0x5d6ebd=a0_0x39ce6a;let _0x4cc508=this[_0x5d6ebd(0x1a4)](_0x17f1f1['number']),_0xd8c339=(await this[_0x5d6ebd(0x75c)]({'numbers':[_0x4cc508]}))[0x0];if(!_0xd8c339['exists']&&!(0x0,g['isJidGroup'])(_0xd8c339[_0x5d6ebd(0x5f8)]))throw new w(_0xd8c339);let _0x3cac88=(0x0,g[_0x5d6ebd(0x5ce)])(_0x4cc508)?_0x4cc508:_0xd8c339['jid'];if((0x0,g[_0x5d6ebd(0x5ce)])(_0x3cac88))try{await this['client'][_0x5d6ebd(0x374)](_0x3cac88);}catch{throw new k(_0x5d6ebd(0x3ff));}try{return await this[_0x5d6ebd(0x1ba)][_0x5d6ebd(0x218)](_0x3cac88),await this[_0x5d6ebd(0x1ba)][_0x5d6ebd(0x668)](_0x17f1f1['presence'],_0x4cc508),{'status':0xc8,'presence':_0x17f1f1[_0x5d6ebd(0x2f6)]};}catch(_0x4acb7c){throw new w(_0x4acb7c['toString']());}}async[a0_0x39ce6a(0x3da)](_0x48971c){const _0x13253b=a0_0x39ce6a;let _0x3fefc9=this[_0x13253b(0x1a4)](_0x48971c);try{return{'wuid':_0x3fefc9,'profilePictureUrl':await this[_0x13253b(0x1ba)][_0x13253b(0x6aa)](_0x3fefc9,_0x13253b(0x767))};}catch{return{'wuid':_0x3fefc9,'profilePictureUrl':null};}}async[a0_0x39ce6a(0x629)](_0x2ea4ae,_0x5b2716,_0x5e6874){const _0x12304e=a0_0x39ce6a;_0x5e6874||(_0x5e6874={});let _0xdae95f=(await this[_0x12304e(0x75c)]({'numbers':[_0x2ea4ae]}))[0x0];if(!_0xdae95f[_0x12304e(0x34c)]&&!(0x0,g[_0x12304e(0x5ce)])(_0xdae95f['jid'])&&!_0xdae95f[_0x12304e(0x5f8)][_0x12304e(0x49a)](_0x12304e(0x38a)))throw new w(_0xdae95f);let _0x552650=_0xdae95f[_0x12304e(0x5f8)];try{_0x5e6874?.[_0x12304e(0x248)]&&(await this[_0x12304e(0x1ba)][_0x12304e(0x218)](_0x552650),await this[_0x12304e(0x1ba)][_0x12304e(0x668)](_0x5e6874?.[_0x12304e(0x2f6)]??'composing',_0x552650),await(0x0,g[_0x12304e(0x248)])(_0x5e6874['delay']),await this[_0x12304e(0x1ba)][_0x12304e(0x668)](_0x12304e(0x1fd),_0x552650));let _0x1ff65c=_0x5e6874?.[_0x12304e(0x196)]!=!0x1?void 0x0:!0x1,_0x3c2de2;if(_0x5e6874?.[_0x12304e(0x71c)]){let _0x26e098=_0x5e6874?.['quoted'],_0x36311d=_0x26e098?.['message']?_0x26e098:await this[_0x12304e(0x274)](_0x26e098['key'],!0x0);if(!_0x36311d)throw'Message\x20not\x20found';_0x3c2de2=_0x36311d;}let _0xc5deb4;if((0x0,g[_0x12304e(0x5ce)])(_0x552650))try{let _0x1cf23b=await this[_0x12304e(0x1ba)][_0x12304e(0x374)](_0x552650);if(!_0x1cf23b)throw new k(_0x12304e(0x3ff));_0x5e6874?.[_0x12304e(0x64a)]&&(_0x5e6874['mentions']?.[_0x12304e(0x2dd)]?_0xc5deb4=_0x1cf23b[_0x12304e(0x540)]['map'](_0x30d3e8=>_0x30d3e8['id']):_0x5e6874[_0x12304e(0x64a)]?.[_0x12304e(0x690)]?.[_0x12304e(0x44f)]&&(_0xc5deb4=_0x5e6874[_0x12304e(0x64a)][_0x12304e(0x690)][_0x12304e(0x477)](_0x1373bd=>{const _0x171be8=_0x12304e;let _0x5ae6d2=this['createJid'](_0x1373bd);return(0x0,g[_0x171be8(0x5ce)])(_0x5ae6d2)?null:_0x5ae6d2;})));}catch{throw new k(_0x12304e(0x3ff));}let _0x30017b=await((async()=>{const _0x47dbb0=_0x12304e;let _0x148b17={'quoted':_0x3c2de2};if(!_0x5b2716[_0x47dbb0(0x220)]&&!_0x5b2716['poll']&&!_0x5b2716['sticker']&&!_0x5b2716[_0x47dbb0(0x3c8)]&&_0x552650!==_0x47dbb0(0x525)&&!_0x5b2716[_0x47dbb0(0x220)])return await this[_0x47dbb0(0x1ba)]['sendMessage'](_0x552650,{'forward':{'key':{'remoteJid':this[_0x47dbb0(0x219)][_0x47dbb0(0x321)],'fromMe':!0x0},'message':_0x5b2716},'mentions':_0xc5deb4},_0x148b17);if(_0x5b2716[_0x47dbb0(0x2e0)])return await this['client'][_0x47dbb0(0x4e8)](_0x552650,{'react':{'text':_0x5b2716[_0x47dbb0(0x2e0)][_0x47dbb0(0x60d)],'key':_0x5b2716[_0x47dbb0(0x2e0)][_0x47dbb0(0x3b6)]}},_0x148b17);if(_0x5b2716[_0x47dbb0(0x3c8)]){let _0x43e994=_0x5b2716[_0x47dbb0(0x3c8)];return _0x5e6874?.[_0x47dbb0(0x729)]&&(_0x43e994=await this[_0x47dbb0(0x2b6)](_0x43e994,_0x552650)),await this[_0x47dbb0(0x1ba)]['sendMessage'](_0x552650,{'text':_0x43e994,'mentions':_0xc5deb4,'linkPreview':_0x1ff65c},_0x148b17);}return _0x552650===_0x47dbb0(0x525)?await this[_0x47dbb0(0x1ba)][_0x47dbb0(0x4e8)](_0x552650,_0x5b2716[_0x47dbb0(0x162)][_0x47dbb0(0x62f)],{'backgroundColor':_0x5b2716[_0x47dbb0(0x162)][_0x47dbb0(0x632)]['backgroundColor'],'font':_0x5b2716[_0x47dbb0(0x162)][_0x47dbb0(0x632)][_0x47dbb0(0x53f)],'statusJidList':_0x5b2716['status']['option'][_0x47dbb0(0x447)]}):await this[_0x47dbb0(0x1ba)]['sendMessage'](_0x552650,_0x5b2716,_0x148b17);})()),_0x552dfc=(0x0,g[_0x12304e(0x550)])(_0x30017b[_0x12304e(0x1f0)]),_0x1b4993=(0x0,g['getContentType'])(_0x552dfc),{message_normalized:_0x5dd9e5}=this['normalizeMessage'](_0x552dfc,_0x1b4993,null),_0x5473f6={'_id':_0x30017b[_0x12304e(0x3b6)]['id'],'key':_0x30017b[_0x12304e(0x3b6)],'pushName':_0x30017b[_0x12304e(0x3ae)],'message':_0x552dfc,'messageType':_0x1b4993,'message_normalized':{'key':_0x30017b['key'],'pushName':_0x30017b[_0x12304e(0x3ae)],'messageTimestamp':_0x30017b[_0x12304e(0x1ef)]&&_0x30017b[_0x12304e(0x1ef)]['toString']()[_0x12304e(0x44f)]<0xd?_0x30017b[_0x12304e(0x1ef)]*0x3e8:_0x30017b['messageTimestamp']||null,'source':(0x0,g[_0x12304e(0x4c6)])(_0x30017b[_0x12304e(0x3b6)]['id']),..._0x5dd9e5},'messageTimestamp':_0x30017b[_0x12304e(0x1ef)]&&_0x30017b[_0x12304e(0x1ef)][_0x12304e(0x30b)]()[_0x12304e(0x44f)]<0xd?_0x30017b[_0x12304e(0x1ef)]*0x3e8:_0x30017b[_0x12304e(0x1ef)]||null,'owner':this[_0x12304e(0x219)][_0x12304e(0x321)],'source':(0x0,g[_0x12304e(0x4c6)])(_0x30017b[_0x12304e(0x3b6)]['id'])};return this[_0x12304e(0x57c)][_0x12304e(0x18f)](this[_0x12304e(0x168)]+'\x20('+this[_0x12304e(0x219)][_0x12304e(0x321)]+_0x12304e(0x732)+_0x5473f6[_0x12304e(0x3b6)]?.[_0x12304e(0x6b1)][_0x12304e(0x214)](_0x12304e(0x718),'')+']\x20('+_0x5473f6[_0x12304e(0x6e4)]+')'),_0x5473f6[_0x12304e(0x667)]?.[_0x12304e(0x60d)]&&this[_0x12304e(0x57c)][_0x12304e(0x18f)](_0x5473f6[_0x12304e(0x667)]?.[_0x12304e(0x60d)]),this[_0x12304e(0x672)](_0x12304e(0x23a),_0x5473f6),q(this['instanceName'],_0x12304e(0x59e),{'message':_0x5473f6}),this[_0x12304e(0x62b)](this['configService'][_0x12304e(0x2b4)](_0x12304e(0x237)),_0x5473f6,'SEND_MESSAGE'),await this['repository'][_0x12304e(0x1f0)][_0x12304e(0x42e)]([_0x5473f6],this[_0x12304e(0x219)][_0x12304e(0x321)]),_0x30017b;}catch(_0x10ff39){throw this[_0x12304e(0x57c)][_0x12304e(0x16d)](this['instanceName']+'\x20('+this[_0x12304e(0x219)][_0x12304e(0x321)]+_0x12304e(0x16c)+_0x10ff39[_0x12304e(0x30b)]()),new w(_0x10ff39[_0x12304e(0x30b)]());}}get['connectionStatus'](){const _0x4796d5=a0_0x39ce6a;return this[_0x4796d5(0x2d7)];}async['textMessage'](_0x51556a){const _0x180450=a0_0x39ce6a;let _0x30f856=fr,_0x337c20=Ke;return _0x337c20&&this[_0x180450(0x168)][_0x180450(0x6bf)]()[_0x180450(0x49a)](_0x337c20['toLowerCase']())&&(_0x51556a[_0x180450(0x612)][_0x180450(0x60d)]+='\x0a\x0a'+_0x30f856),await this[_0x180450(0x629)](_0x51556a[_0x180450(0x2f8)],{'conversation':_0x51556a[_0x180450(0x612)][_0x180450(0x60d)]},_0x51556a?.['options']);}async['formatStatusMessage'](_0x5e0539){const _0x6c0c77=a0_0x39ce6a;if(!_0x5e0539[_0x6c0c77(0x432)])throw new w(_0x6c0c77(0x21a));if(!_0x5e0539['content'])throw new w(_0x6c0c77(0x2ac));if(_0x5e0539[_0x6c0c77(0x5a4)]){let _0x1f5d6a=await this[_0x6c0c77(0x422)][_0x6c0c77(0x1cc)][_0x6c0c77(0x280)]({'where':{}},this[_0x6c0c77(0x219)]['wuid']);if(!_0x1f5d6a[_0x6c0c77(0x44f)])throw new w('Contacts\x20not\x20found');_0x5e0539[_0x6c0c77(0x447)]=_0x1f5d6a[_0x6c0c77(0x558)](_0x1f994a=>_0x1f994a[_0x6c0c77(0x3ae)])['map'](_0x5cc20f=>_0x5cc20f['_id']);}if(!_0x5e0539[_0x6c0c77(0x447)]?.['length']&&!_0x5e0539[_0x6c0c77(0x5a4)])throw new w('StatusJidList\x20is\x20required');if(_0x5e0539[_0x6c0c77(0x432)]===_0x6c0c77(0x60d)){if(!_0x5e0539[_0x6c0c77(0x493)])throw new w(_0x6c0c77(0x467));if(!_0x5e0539[_0x6c0c77(0x53f)])throw new w(_0x6c0c77(0x6b3));return{'content':{'text':_0x5e0539[_0x6c0c77(0x62f)]},'option':{'backgroundColor':_0x5e0539[_0x6c0c77(0x493)],'font':_0x5e0539['font'],'statusJidList':_0x5e0539[_0x6c0c77(0x447)]}};}if(_0x5e0539[_0x6c0c77(0x432)]===_0x6c0c77(0x767))return{'content':{'image':{'url':_0x5e0539[_0x6c0c77(0x62f)]},'caption':_0x5e0539[_0x6c0c77(0x393)]},'option':{'statusJidList':_0x5e0539[_0x6c0c77(0x447)]}};if(_0x5e0539['type']==='video')return{'content':{'video':{'url':_0x5e0539[_0x6c0c77(0x62f)]},'caption':_0x5e0539[_0x6c0c77(0x393)]},'option':{'statusJidList':_0x5e0539['statusJidList']}};if(_0x5e0539[_0x6c0c77(0x432)]===_0x6c0c77(0x220)){this[_0x6c0c77(0x57c)]['verbose'](_0x6c0c77(0x778)),this[_0x6c0c77(0x57c)][_0x6c0c77(0x5b1)](_0x6c0c77(0x586));let _0x2d20f6=await this[_0x6c0c77(0x235)](_0x5e0539[_0x6c0c77(0x62f)]);if(typeof _0x2d20f6==_0x6c0c77(0x5d6)){this[_0x6c0c77(0x57c)]['verbose'](_0x6c0c77(0x1e8));let _0x17a13c=L[_0x6c0c77(0x546)](_0x2d20f6)[_0x6c0c77(0x30b)](_0x6c0c77(0x383));return{'content':{'audio':Buffer[_0x6c0c77(0x43c)](_0x17a13c,'base64'),'ptt':!0x0,'mimetype':'audio/mp4'},'option':{'statusJidList':_0x5e0539[_0x6c0c77(0x447)]}};}else throw new I(_0x2d20f6);}throw new w(_0x6c0c77(0x332));}async[a0_0x39ce6a(0x385)](_0x32d154){const _0x51f1de=a0_0x39ce6a;return await this['sendMessageWithTyping'](_0x51f1de(0x525),{'status':await this[_0x51f1de(0x208)](_0x32d154[_0x51f1de(0x385)])});}async[a0_0x39ce6a(0x715)](_0x428d7f){const _0x3e31c4=a0_0x39ce6a;try{let _0xee2944=await(0x0,g[_0x3e31c4(0x33c)])({[_0x428d7f[_0x3e31c4(0x76c)]]:(0x0,$[_0x3e31c4(0x6bc)])(_0x428d7f['media'])?{'url':_0x428d7f[_0x3e31c4(0x701)]}:Buffer[_0x3e31c4(0x43c)](_0x428d7f[_0x3e31c4(0x701)],_0x3e31c4(0x383))},{'upload':this['client'][_0x3e31c4(0x306)]}),_0x391a5c=_0x428d7f[_0x3e31c4(0x76c)]+_0x3e31c4(0x186);if(_0x428d7f[_0x3e31c4(0x76c)]===_0x3e31c4(0x624)&&!_0x428d7f[_0x3e31c4(0x4ac)]){let _0x35c445=new RegExp(/.*\/(.+?)\./)['exec'](_0x428d7f['media']);_0x428d7f['fileName']=_0x35c445?_0x35c445[0x1]:null;}let _0x536b12=(0x0,$[_0x3e31c4(0x6bc)])(_0x428d7f[_0x3e31c4(0x701)])?_0x428d7f[_0x3e31c4(0x701)][_0x3e31c4(0x154)]('?')[0x0]:_0x428d7f['media'];this[_0x3e31c4(0x57c)][_0x3e31c4(0x5b1)](_0x3e31c4(0x641)+_0x536b12);let _0x4b31fd;(0x0,$[_0x3e31c4(0x6bc)])(_0x428d7f[_0x3e31c4(0x701)])?_0x4b31fd=(0x0,xt['getMIMEType'])(_0x536b12):_0x428d7f[_0x3e31c4(0x4ac)]&&_0x428d7f[_0x3e31c4(0x4ac)][_0x3e31c4(0x49a)]('.')?_0x4b31fd=(0x0,xt[_0x3e31c4(0x611)])(_0x428d7f[_0x3e31c4(0x4ac)]):_0x4b31fd=(0x0,xt[_0x3e31c4(0x611)])(_0x428d7f[_0x3e31c4(0x701)]);let _0x13d167=fr,_0x2c8f66=Ke;return _0x2c8f66&&this[_0x3e31c4(0x168)]['toLowerCase']()[_0x3e31c4(0x49a)](_0x2c8f66['toLowerCase']())&&(_0x428d7f[_0x3e31c4(0x393)]+='\x0a\x0a'+_0x13d167),_0xee2944[_0x391a5c][_0x3e31c4(0x393)]=_0x428d7f?.[_0x3e31c4(0x393)],_0xee2944[_0x391a5c][_0x3e31c4(0x76b)]=_0x4b31fd,_0xee2944[_0x391a5c]['fileName']=_0x428d7f[_0x3e31c4(0x4ac)],_0x428d7f[_0x3e31c4(0x76c)]===_0x3e31c4(0x532)&&(_0xee2944[_0x391a5c]['jpegThumbnail']=Uint8Array[_0x3e31c4(0x43c)]((0x0,ve[_0x3e31c4(0x546)])((0x0,j['join'])(process['cwd'](),_0x3e31c4(0x578)))),_0xee2944[_0x391a5c][_0x3e31c4(0x358)]=!0x1),(0x0,g[_0x3e31c4(0x230)])('',{[_0x391a5c]:{..._0xee2944[_0x391a5c]}},{'userJid':this[_0x3e31c4(0x219)][_0x3e31c4(0x321)]});}catch(_0x19fd58){throw this['logger'][_0x3e31c4(0x16d)](this['instanceName']+'\x20('+this[_0x3e31c4(0x219)][_0x3e31c4(0x321)]+_0x3e31c4(0x16c)+(_0x19fd58 instanceof Error?_0x19fd58[_0x3e31c4(0x1f0)]:JSON[_0x3e31c4(0x613)](_0x19fd58,null,0x2))),new I(_0x19fd58?.['toString']()||_0x19fd58);}}async[a0_0x39ce6a(0x409)](_0x405167){const _0x3596f5=a0_0x39ce6a;let _0x2465ac=await this[_0x3596f5(0x715)](_0x405167[_0x3596f5(0x409)]);return await this['sendMessageWithTyping'](_0x405167['number'],{..._0x2465ac['message']},_0x405167?.['options']);}async[a0_0x39ce6a(0x264)](_0x84dc6d,_0x4fa5ed){const _0x59eeb6=a0_0x39ce6a;try{this[_0x59eeb6(0x57c)][_0x59eeb6(0x5b1)](_0x59eeb6(0x655));let _0x128990,_0x2d4789=_0x4fa5ed+'-'+new Date()[_0x59eeb6(0x788)]();this[_0x59eeb6(0x57c)][_0x59eeb6(0x5b1)](_0x59eeb6(0x5c4)+_0x2d4789);let _0x2bd343=''+(0x0,j[_0x59eeb6(0x4dc)])(this[_0x59eeb6(0x465)],_0x2d4789+_0x59eeb6(0x7b4));if(this['logger'][_0x59eeb6(0x5b1)](_0x59eeb6(0x263)+_0x2bd343),(0x0,$[_0x59eeb6(0x496)])(_0x84dc6d)){this[_0x59eeb6(0x57c)][_0x59eeb6(0x5b1)](_0x59eeb6(0x4f9));let _0x3fda05=_0x84dc6d['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x4cf1d5=Buffer['from'](_0x3fda05,_0x59eeb6(0x383));_0x128990=''+(0x0,j['join'])(this['storePath'],_0x59eeb6(0x5d7)+_0x2d4789+_0x59eeb6(0x721)),this[_0x59eeb6(0x57c)][_0x59eeb6(0x5b1)](_0x59eeb6(0x516)+_0x128990),await(0x0,Dt[_0x59eeb6(0x6b8)])(_0x4cf1d5)['toFile'](_0x128990),this[_0x59eeb6(0x57c)][_0x59eeb6(0x5b1)]('Image\x20created');}else{this[_0x59eeb6(0x57c)][_0x59eeb6(0x5b1)](_0x59eeb6(0x7c1));let _0x58341b=new Date()['getTime'](),_0x196f3a=_0x84dc6d+'?timestamp='+_0x58341b;this[_0x59eeb6(0x57c)][_0x59eeb6(0x5b1)]('including\x20timestamp\x20in\x20url:\x20'+_0x196f3a);let _0x22bf67=await se[_0x59eeb6(0x6b8)][_0x59eeb6(0x2b4)](_0x196f3a,{'responseType':_0x59eeb6(0x7c4)});this[_0x59eeb6(0x57c)]['verbose']('Getting\x20image\x20from\x20url');let _0x837efc=Buffer['from'](_0x22bf67[_0x59eeb6(0x34d)],'binary');_0x128990=''+(0x0,j[_0x59eeb6(0x4dc)])(this[_0x59eeb6(0x465)],_0x59eeb6(0x5d7)+_0x2d4789+_0x59eeb6(0x721)),this[_0x59eeb6(0x57c)][_0x59eeb6(0x5b1)](_0x59eeb6(0x516)+_0x128990),await(0x0,Dt['default'])(_0x837efc)[_0x59eeb6(0x617)](_0x128990),this['logger'][_0x59eeb6(0x5b1)]('Image\x20created');}return await(0x0,Dt['default'])(_0x128990)[_0x59eeb6(0x2ab)]()['toFile'](_0x2bd343),this[_0x59eeb6(0x57c)][_0x59eeb6(0x5b1)](_0x59eeb6(0x692)),L[_0x59eeb6(0x76e)](_0x128990),this[_0x59eeb6(0x57c)]['verbose'](_0x59eeb6(0x318)),_0x2bd343;}catch(_0x521d1a){console['error'](_0x59eeb6(0x762),_0x521d1a instanceof Error?_0x521d1a[_0x59eeb6(0x1f0)]:JSON[_0x59eeb6(0x613)](_0x521d1a,null,0x2));}}async[a0_0x39ce6a(0x716)](_0x55b37b){const _0x2c0478=a0_0x39ce6a;let _0x358ef5=await this[_0x2c0478(0x264)](_0x55b37b[_0x2c0478(0x1c0)]['image'],_0x55b37b['number']),_0x183d94=await this[_0x2c0478(0x629)](_0x55b37b[_0x2c0478(0x2f8)],{'sticker':{'url':_0x358ef5}},_0x55b37b?.[_0x2c0478(0x77e)]);return L[_0x2c0478(0x76e)](_0x358ef5),this[_0x2c0478(0x57c)][_0x2c0478(0x5b1)](_0x2c0478(0x600)),_0x183d94;}async[a0_0x39ce6a(0x71a)](_0x2e1fe4){const _0x1e0a35=a0_0x39ce6a;if(this[_0x1e0a35(0x57c)]['verbose'](_0x1e0a35(0x5f5)),!_0x2e1fe4[_0x1e0a35(0x77e)]?.['encoding']&&_0x2e1fe4[_0x1e0a35(0x77e)]?.[_0x1e0a35(0x29d)]!==!0x1&&(_0x2e1fe4['options'][_0x1e0a35(0x29d)]=!0x0),_0x2e1fe4['options']?.[_0x1e0a35(0x29d)]){let _0x46feef=await this[_0x1e0a35(0x235)](_0x2e1fe4['audioMessage'][_0x1e0a35(0x220)]);if(typeof _0x46feef==_0x1e0a35(0x5d6)){let _0x511a68=L['readFileSync'](_0x46feef)[_0x1e0a35(0x30b)](_0x1e0a35(0x383));return this[_0x1e0a35(0x629)](_0x2e1fe4[_0x1e0a35(0x2f8)],{'audio':Buffer[_0x1e0a35(0x43c)](_0x511a68,'base64'),'ptt':!0x0,'mimetype':_0x1e0a35(0x520)},{'presence':_0x1e0a35(0x665),'delay':_0x2e1fe4?.[_0x1e0a35(0x77e)]?.[_0x1e0a35(0x248)]});}else throw new I(_0x46feef);}return await this[_0x1e0a35(0x629)](_0x2e1fe4[_0x1e0a35(0x2f8)],{'audio':(0x0,$[_0x1e0a35(0x6bc)])(_0x2e1fe4[_0x1e0a35(0x148)][_0x1e0a35(0x220)])?{'url':_0x2e1fe4[_0x1e0a35(0x148)][_0x1e0a35(0x220)]}:Buffer[_0x1e0a35(0x43c)](_0x2e1fe4['audioMessage']['audio'],'base64'),'ptt':!0x0,'mimetype':'audio/mpeg'},{'presence':'recording','delay':_0x2e1fe4?.['options']?.[_0x1e0a35(0x248)]});}async[a0_0x39ce6a(0x235)](_0x926fc5){const _0x443edc=a0_0x39ce6a;this[_0x443edc(0x57c)]['verbose'](_0x443edc(0x586));let _0x56e369=(0x0,$[_0x443edc(0x6bc)])(_0x926fc5)?(0x0,vs[_0x443edc(0x508)])(_0x443edc(0x4f8))[_0x443edc(0x226)](_0x926fc5)['digest'](_0x443edc(0x3ec)):(0x0,vs[_0x443edc(0x508)])(_0x443edc(0x4f8))[_0x443edc(0x226)](_0x926fc5)[_0x443edc(0x4cc)]('hex'),_0x2fb70c=''+(0x0,j[_0x443edc(0x4dc)])(this[_0x443edc(0x465)],_0x56e369+_0x443edc(0x291));if(L[_0x443edc(0x6d5)](_0x2fb70c))return this[_0x443edc(0x57c)][_0x443edc(0x5b1)](_0x443edc(0x15b)),_0x2fb70c;let _0x3df131=''+(0x0,j[_0x443edc(0x4dc)])(this[_0x443edc(0x465)],_0x443edc(0x5d7)+(0x0,Me['v4'])()+_0x443edc(0x6bb));if((0x0,$[_0x443edc(0x6bc)])(_0x926fc5)){let _0x544241=new Date()['getTime'](),_0x2f41e3=_0x926fc5+_0x443edc(0x356)+_0x544241,_0x4112f6=await se[_0x443edc(0x6b8)][_0x443edc(0x2b4)](_0x2f41e3,{'responseType':_0x443edc(0x7c4)});L[_0x443edc(0x5a5)](_0x3df131,_0x4112f6[_0x443edc(0x34d)]);}else{let _0x263c0d=Buffer['from'](_0x926fc5,_0x443edc(0x383));L[_0x443edc(0x5a5)](_0x3df131,_0x263c0d);}return new Promise((_0x10fc71,_0x2c715d)=>{const _0x1e8a6d=_0x443edc;(0x0,Pt[_0x1e8a6d(0x2ec)])(yr[_0x1e8a6d(0x6b8)][_0x1e8a6d(0x47b)]+_0x1e8a6d(0x1f5)+_0x3df131+_0x1e8a6d(0x6a9)+_0x2fb70c+_0x1e8a6d(0x4a2),_0x155c50=>{const _0x367c70=_0x1e8a6d;if(L[_0x367c70(0x76e)](_0x3df131),_0x155c50){this['logger'][_0x367c70(0x5b1)](_0x367c70(0x21b)),_0x2c715d(_0x155c50);return;}this['logger'][_0x367c70(0x5b1)](_0x367c70(0x5b6)),_0x10fc71(_0x2fb70c);});});}async[a0_0x39ce6a(0x528)](_0x16a83a){const _0x3ce7a7=a0_0x39ce6a;let _0x7b100={},_0x251557='TEXT';if(_0x16a83a[_0x3ce7a7(0x528)]?.[_0x3ce7a7(0x409)]){_0x251557=_0x16a83a['buttonMessage'][_0x3ce7a7(0x409)]?.[_0x3ce7a7(0x76c)][_0x3ce7a7(0x3aa)]()??_0x3ce7a7(0x2f1),_0x7b100[_0x3ce7a7(0x37e)]=_0x251557[_0x3ce7a7(0x6bf)]()+_0x3ce7a7(0x186);let _0x2b4d84=await this['prepareMediaMessage'](_0x16a83a[_0x3ce7a7(0x528)][_0x3ce7a7(0x409)]);_0x7b100[_0x3ce7a7(0x1f0)]=_0x2b4d84[_0x3ce7a7(0x1f0)][_0x7b100[_0x3ce7a7(0x37e)]],_0x7b100[_0x3ce7a7(0x414)]='*'+_0x16a83a[_0x3ce7a7(0x528)][_0x3ce7a7(0x7b2)]+_0x3ce7a7(0x5c5)+_0x16a83a[_0x3ce7a7(0x528)][_0x3ce7a7(0x7aa)];}let _0x2edd97={'text':_0x16a83a[_0x3ce7a7(0x528)][_0x3ce7a7(0x2b1)][_0x3ce7a7(0x477)](_0x562633=>_0x562633[_0x3ce7a7(0x6a2)]),'ids':_0x16a83a[_0x3ce7a7(0x528)][_0x3ce7a7(0x2b1)][_0x3ce7a7(0x477)](_0x1f2d85=>_0x1f2d85[_0x3ce7a7(0x67d)])};if(!(0x0,$[_0x3ce7a7(0x43a)])(_0x2edd97[_0x3ce7a7(0x60d)])||!(0x0,$[_0x3ce7a7(0x43a)])(_0x2edd97[_0x3ce7a7(0x7ab)]))throw new w(_0x3ce7a7(0x365),_0x3ce7a7(0x45d));return await this[_0x3ce7a7(0x629)](_0x16a83a[_0x3ce7a7(0x2f8)],{'buttonsMessage':{'text':_0x7b100?.[_0x3ce7a7(0x37e)]?void 0x0:_0x16a83a[_0x3ce7a7(0x528)][_0x3ce7a7(0x7b2)],'contentText':_0x7b100?.[_0x3ce7a7(0x414)]??_0x16a83a[_0x3ce7a7(0x528)][_0x3ce7a7(0x7aa)],'footerText':_0x16a83a['buttonMessage']?.[_0x3ce7a7(0x4e3)],'buttons':_0x16a83a[_0x3ce7a7(0x528)][_0x3ce7a7(0x2b1)][_0x3ce7a7(0x477)](_0x48a705=>({'buttonText':{'displayText':_0x48a705['buttonText']},'buttonId':_0x48a705[_0x3ce7a7(0x67d)],'type':0x1})),'headerType':g[_0x3ce7a7(0x15e)][_0x3ce7a7(0x186)][_0x3ce7a7(0x37a)][_0x3ce7a7(0x1a1)][_0x251557],[_0x7b100?.[_0x3ce7a7(0x37e)]]:_0x7b100?.[_0x3ce7a7(0x1f0)]}},_0x16a83a?.['options']);}async[a0_0x39ce6a(0x77f)](_0x40989a){const _0x478db2=a0_0x39ce6a;return await this[_0x478db2(0x629)](_0x40989a[_0x478db2(0x2f8)],{'locationMessage':{'degreesLatitude':_0x40989a[_0x478db2(0x77f)][_0x478db2(0x742)],'degreesLongitude':_0x40989a[_0x478db2(0x77f)]['longitude'],'name':_0x40989a[_0x478db2(0x77f)]?.[_0x478db2(0x257)],'address':_0x40989a[_0x478db2(0x77f)]?.['address']}},_0x40989a?.[_0x478db2(0x77e)]);}async['contactMessage'](_0x1cda03){const _0x49e966=a0_0x39ce6a;let _0x542f2f={},_0x13fa37=_0xb92d3a=>{const _0x41eca1=a0_0x4226;let _0x41beb4=_0x41eca1(0x17c)+_0xb92d3a[_0x41eca1(0x69a)]+_0x41eca1(0x682)+_0xb92d3a[_0x41eca1(0x69a)]+'\x0a';_0xb92d3a[_0x41eca1(0x242)]&&(_0x41beb4+=_0x41eca1(0x5ad)+_0xb92d3a[_0x41eca1(0x242)]+';\x0a'),_0xb92d3a[_0x41eca1(0x5ba)]&&(_0x41beb4+=_0x41eca1(0x19b)+_0xb92d3a[_0x41eca1(0x5ba)]+'\x0a'),_0xb92d3a[_0x41eca1(0x758)]&&(_0x41beb4+=_0x41eca1(0x709)+_0xb92d3a[_0x41eca1(0x758)]+'\x0a');let _0x8f969f='';return _0xb92d3a[_0x41eca1(0x259)]&&_0xb92d3a[_0x41eca1(0x259)][_0x41eca1(0x154)]('|')[_0x41eca1(0x797)]((_0x3771a5,_0x44aabe)=>{const _0x4c369e=_0x41eca1;let _0x2380ac=this['createJid'](_0x3771a5)['replace'](_0x4c369e(0x718),'');_0x8f969f+='item'+(_0x44aabe+0x1)+'.TEL;waid='+_0x2380ac+':'+_0x3771a5+'\x0aitem'+(_0x44aabe+0x1)+_0x4c369e(0x32f);}),_0x41beb4+=_0x8f969f+_0x41eca1(0x48c),_0x41beb4;};return _0x1cda03['contactMessage'][_0x49e966(0x44f)]===0x1?_0x542f2f[_0x49e966(0x3a7)]={'displayName':_0x1cda03[_0x49e966(0x3a7)][0x0][_0x49e966(0x69a)],'vcard':_0x13fa37(_0x1cda03['contactMessage'][0x0])}:_0x542f2f[_0x49e966(0x553)]={'displayName':_0x1cda03[_0x49e966(0x3a7)][_0x49e966(0x44f)]+_0x49e966(0x23b),'contacts':_0x1cda03[_0x49e966(0x3a7)][_0x49e966(0x477)](_0x5c0599=>({'displayName':_0x5c0599[_0x49e966(0x69a)],'vcard':_0x13fa37(_0x5c0599)}))},await this['sendMessageWithTyping'](_0x1cda03[_0x49e966(0x2f8)],{..._0x542f2f},_0x1cda03?.[_0x49e966(0x77e)]);}async[a0_0x39ce6a(0x2e0)](_0xc84eba){const _0x590f45=a0_0x39ce6a;return await this[_0x590f45(0x629)](_0xc84eba[_0x590f45(0x2e0)]['key'][_0x590f45(0x6b1)],{'reactionMessage':{'key':_0xc84eba[_0x590f45(0x2e0)][_0x590f45(0x3b6)],'text':_0xc84eba[_0x590f45(0x2e0)]['reaction']}});}async[a0_0x39ce6a(0x75c)](_0x2812b3){const _0x1311d5=a0_0x39ce6a;let _0x20492e=[];for await(let _0x4943c3 of _0x2812b3[_0x1311d5(0x174)]){let _0x5dd379=this[_0x1311d5(0x1a4)](_0x4943c3),_0x570f59=!0x1;try{if((0x0,g[_0x1311d5(0x5ce)])(_0x5dd379)){let _0x5df4d4=await this[_0x1311d5(0x28b)]({'groupJid':_0x5dd379},'inner');_0x20492e[_0x1311d5(0x41f)](new me(_0x5df4d4[_0x1311d5(0x344)]['id'],!!_0x5df4d4?.[_0x1311d5(0x344)]['id'],_0x5df4d4?.['metadata'][_0x1311d5(0x5bd)])),_0x570f59=!!_0x5df4d4?.[_0x1311d5(0x344)]['id'];}else{let _0x1290d2=(await this[_0x1311d5(0x1ba)][_0x1311d5(0x7a7)](_0x5dd379))[0x0];_0x20492e[_0x1311d5(0x41f)](new me(_0x1290d2[_0x1311d5(0x5f8)],_0x1290d2[_0x1311d5(0x34c)])),_0x570f59=_0x1290d2[_0x1311d5(0x34c)];}}catch{await this[_0x1311d5(0x2f0)](_0x5dd379,_0x570f59),_0x20492e[_0x1311d5(0x41f)](new me(_0x4943c3,!0x1));}}return _0x20492e;}async[a0_0x39ce6a(0x2f0)](_0xd9394a,_0x5a500a){const _0x4cc830=a0_0x39ce6a;try{await this[_0x4cc830(0x422)]['chat'][_0x4cc830(0x5c1)]({'where':{'_id':_0xd9394a,'imported':!0x0}},this[_0x4cc830(0x219)]['wuid'])&&(_0x5a500a||(await this[_0x4cc830(0x422)][_0x4cc830(0x5d1)][_0x4cc830(0x19e)](_0xd9394a,this[_0x4cc830(0x219)]['wuid']),console['log'](_0x4cc830(0x423)+_0xd9394a+_0x4cc830(0x746))));}catch(_0x50167e){console[_0x4cc830(0x16d)](_0x4cc830(0x60b),_0x50167e);}}async[a0_0x39ce6a(0x2bd)](_0x87115b){const _0x27a2a0=a0_0x39ce6a;try{let _0x285999=_0x87115b[_0x27a2a0(0x4fa)][_0x27a2a0(0x558)](_0x4ef0fc=>(0x0,g[_0x27a2a0(0x5ce)])(_0x4ef0fc[_0x27a2a0(0x6b1)])||(0x0,g[_0x27a2a0(0x656)])(_0x4ef0fc['remoteJid']))[_0x27a2a0(0x477)](_0xe4b7f1=>({'remoteJid':_0xe4b7f1[_0x27a2a0(0x6b1)],'fromMe':_0xe4b7f1[_0x27a2a0(0x27d)],'id':_0xe4b7f1['id']}));await this[_0x27a2a0(0x1ba)][_0x27a2a0(0x4fa)](_0x285999);let _0x2f5feb=_0x285999[_0x27a2a0(0x477)](_0x1d89c5=>this[_0x27a2a0(0x696)](_0x1d89c5,{'status':_0x27a2a0(0x505),'owner':this[_0x27a2a0(0x219)]['wuid']})),_0x1c6427=_0x285999[_0x27a2a0(0x477)](_0x3258d0=>this['repository'][_0x27a2a0(0x5d1)]['updateOne']({'where':{'_id':_0x3258d0[_0x27a2a0(0x6b1)]}},{'unreadcount':0x0},this['instance'][_0x27a2a0(0x321)])),[_0x4d3f79,_0x1f8dd0]=await Promise[_0x27a2a0(0x39a)]([Promise[_0x27a2a0(0x39a)](_0x2f5feb),Promise[_0x27a2a0(0x39a)](_0x1c6427)]);return _0x1f8dd0['filter'](_0x1b5113=>_0x1b5113!==null)[_0x27a2a0(0x797)](_0x492d3c=>{const _0x5d9eeb=_0x27a2a0;q(this[_0x5d9eeb(0x168)],_0x5d9eeb(0x51b),{'chat':_0x492d3c});}),{'message':_0x27a2a0(0x5f1),'read':_0x27a2a0(0x34e)};}catch(_0x373d3b){throw console['error'](_0x27a2a0(0x591),_0x373d3b),new I('Read\x20messages\x20fail',_0x373d3b[_0x27a2a0(0x30b)]());}}async[a0_0x39ce6a(0x642)](_0x5c967d){const _0x5ec82d=a0_0x39ce6a;let _0x4b80fb={'where':{'key':{'remoteJid':_0x5c967d}},'limit':0x1},_0x37cf16=await this['fetchMessages'](_0x4b80fb);return _0x37cf16||(console[_0x5ec82d(0x16d)](_0x5ec82d(0x4ad),_0x5c967d),null);}async[a0_0x39ce6a(0x161)](_0x270a36){const _0x17c0dd=a0_0x39ce6a;this[_0x17c0dd(0x57c)][_0x17c0dd(0x5b1)](_0x17c0dd(0x435));try{let _0x1ee211=_0x270a36[_0x17c0dd(0x4d4)],_0x3d26cf=_0x270a36[_0x17c0dd(0x5d1)];if(!_0x1ee211&&_0x3d26cf?_0x1ee211=await this[_0x17c0dd(0x642)](_0x3d26cf):(_0x1ee211=_0x270a36[_0x17c0dd(0x4d4)],_0x1ee211[_0x17c0dd(0x1ef)]=_0x1ee211?.['messageTimestamp']??Date[_0x17c0dd(0x2b9)](),_0x3d26cf=_0x1ee211?.[_0x17c0dd(0x3b6)]?.[_0x17c0dd(0x6b1)]),!_0x1ee211||Object[_0x17c0dd(0x322)](_0x1ee211)[_0x17c0dd(0x44f)]===0x0)throw new k('Last\x20message\x20not\x20found');this['logger'][_0x17c0dd(0x5b1)](_0x17c0dd(0x60e)+_0x3d26cf);try{await this['client'][_0x17c0dd(0x25a)]({'archive':_0x270a36['archive'],'lastMessages':[_0x1ee211]},this[_0x17c0dd(0x1a4)](_0x3d26cf));}catch(_0x284452){this[_0x17c0dd(0x57c)][_0x17c0dd(0x16d)](_0x17c0dd(0x3c3)+_0x3d26cf+':\x20'+_0x284452['toString']());}this[_0x17c0dd(0x57c)][_0x17c0dd(0x5b1)](_0x17c0dd(0x283)+_0x3d26cf);let _0x481a9f=await this[_0x17c0dd(0x422)][_0x17c0dd(0x5d1)][_0x17c0dd(0x455)]({'where':{'_id':_0x1ee211?.[_0x17c0dd(0x3b6)]?.[_0x17c0dd(0x6b1)]}},{'archived':_0x270a36[_0x17c0dd(0x4c3)]},this['instance'][_0x17c0dd(0x321)]);return _0x481a9f?(this[_0x17c0dd(0x57c)][_0x17c0dd(0x5b1)]('Notifying\x20clients\x20for\x20chat:\x20'+JSON[_0x17c0dd(0x613)](_0x481a9f)),q(this[_0x17c0dd(0x168)],_0x17c0dd(0x51b),{'chat':_0x481a9f})):this['logger'][_0x17c0dd(0x16d)](_0x17c0dd(0x680)+_0x3d26cf),{'chatId':_0x3d26cf,'archived':_0x270a36[_0x17c0dd(0x4c3)]};}catch(_0x5bafc9){throw this['logger'][_0x17c0dd(0x16d)]('Error\x20occurred\x20while\x20archiving\x20chat:\x20'+_0x5bafc9['toString']()),new I({'archived':!0x1,'message':[_0x17c0dd(0x734),_0x5bafc9['toString']()]});}}async[a0_0x39ce6a(0x51a)](_0x136eb6){const _0x5572df=a0_0x39ce6a;try{let _0x6a9d13=await this[_0x5572df(0x1ba)][_0x5572df(0x4e8)](_0x136eb6[_0x5572df(0x6b1)],{'delete':_0x136eb6});try{let _0x317523=await this['updateMessage'](_0x136eb6,{'status':_0x5572df(0x684),'owner':this[_0x5572df(0x219)][_0x5572df(0x321)]});this[_0x5572df(0x57c)]['verbose'](this['instanceName']+'\x20('+this[_0x5572df(0x219)][_0x5572df(0x321)]+'):\x20updateResult:'+_0x317523);}catch(_0x5bd9b4){console[_0x5572df(0x16d)]('Error\x20updating\x20message\x20status:',_0x5bd9b4);}return _0x6a9d13;}catch(_0xf78276){throw new I(_0x5572df(0x327),_0xf78276?.[_0x5572df(0x30b)]());}}async[a0_0x39ce6a(0x614)](_0x398e32){const _0x4d0db5=a0_0x39ce6a;try{let _0x42d0ed=_0x398e32?.[_0x4d0db5(0x1f0)]?_0x398e32:await this[_0x4d0db5(0x274)](_0x398e32['key'],!0x0);for(let _0x3845c7 of ma)_0x42d0ed[_0x4d0db5(0x1f0)][_0x3845c7]&&(_0x42d0ed['message']=_0x42d0ed[_0x4d0db5(0x1f0)][_0x3845c7][_0x4d0db5(0x1f0)]);let _0x5a4c82,_0x4cc248;for(let _0x175cbd of ga)if(_0x5a4c82=_0x42d0ed[_0x4d0db5(0x1f0)][_0x175cbd],_0x5a4c82){_0x4cc248=_0x175cbd;break;}if(!_0x5a4c82)throw _0x4d0db5(0x1f6);typeof _0x5a4c82['mediaKey']==_0x4d0db5(0x4e1)&&(_0x42d0ed['message']=JSON[_0x4d0db5(0x73c)](JSON[_0x4d0db5(0x613)](_0x42d0ed[_0x4d0db5(0x1f0)])));let _0x56a252=await(0x0,g['downloadMediaMessage'])({'key':_0x42d0ed?.['key'],'message':_0x42d0ed?.['message']},_0x4d0db5(0x573),{},{'logger':(0x0,It[_0x4d0db5(0x6b8)])({'level':_0x4d0db5(0x28c)}),'reuploadRequest':this['client'][_0x4d0db5(0x179)]});if(!(_0x56a252 instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x2bd375=this[_0x4d0db5(0x1e7)][_0x4d0db5(0x2b4)](_0x4d0db5(0x237)),_0x38091b,_0x4aa53a;if(_0x5a4c82['fileName'])_0x38091b=_0x5a4c82[_0x4d0db5(0x4ac)];else{let _0x42dfb8=_0x5a4c82['mimetype']?.['match'](/\/(\w+)/),_0x4b075c=_0x42dfb8?_0x42dfb8[0x1]:null;if(!_0x4b075c)throw new Error(_0x4d0db5(0x6f3));_0x38091b=(0x0,Me['v4'])()+'.'+_0x4b075c;}_0x4cc248===_0x4d0db5(0x148)&&_0x5a4c82[_0x4d0db5(0x76b)]==='audio/ogg'?(_0x38091b=(0x0,Me['v4'])()+_0x4d0db5(0x73f),_0x4aa53a=_0x4d0db5(0x710)+await this[_0x4d0db5(0x235)](_0x56a252[_0x4d0db5(0x30b)](_0x4d0db5(0x383)))):(await this[_0x4d0db5(0x2eb)](_0x56a252,_0x38091b),_0x4aa53a=_0x4d0db5(0x710)+_0x38091b);let _0x200d65=this[_0x4d0db5(0x1e7)]['get']('SERVER')[_0x4d0db5(0x4cb)];if(!_0x200d65){let _0x4abbf6=this[_0x4d0db5(0x1e7)][_0x4d0db5(0x2b4)](_0x4d0db5(0x19a));_0x200d65=_0x4d0db5(0x392)+(_0x4abbf6&&_0x4abbf6[_0x4d0db5(0x3e5)][_0x4d0db5(0x154)]('/')[0x4]);}_0x4aa53a=''+_0x200d65+_0x4aa53a;let _0x396168=0xc*0x3c*0x3c*0x3e8,_0x5810a0={'where':{'_id':_0x42d0ed[_0x4d0db5(0x3b6)]['id']}},_0x45ac15={'message_normalized.fileUrl':_0x4aa53a,'message_normalized.expires_fileUrl':Date['now']()+_0x396168};try{let _0x233d1d=await this[_0x4d0db5(0x422)][_0x4d0db5(0x1f0)][_0x4d0db5(0x226)](_0x5810a0,_0x45ac15,this[_0x4d0db5(0x219)]['wuid']);_0x233d1d&&q(this[_0x4d0db5(0x168)],'messages',{'message':_0x233d1d});}catch(_0x180833){this['logger'][_0x4d0db5(0x16d)](this['instanceName']+'\x20('+this[_0x4d0db5(0x219)][_0x4d0db5(0x321)]+_0x4d0db5(0x16c)+(_0x180833 instanceof Error?_0x180833['message']:JSON[_0x4d0db5(0x613)](_0x180833,null,0x2)));}return{'mediaType':_0x4cc248,'fileName':_0x5a4c82[_0x4d0db5(0x4ac)],'caption':_0x5a4c82[_0x4d0db5(0x393)],'size':{'fileLength':_0x5a4c82[_0x4d0db5(0x638)],'height':_0x5a4c82[_0x4d0db5(0x21e)],'width':_0x5a4c82['width']},'mimetype':_0x5a4c82[_0x4d0db5(0x76b)],'base64':_0x56a252[_0x4d0db5(0x30b)](_0x4d0db5(0x383)),'fileUrl':_0x4aa53a,'expires_fileUrl':Date[_0x4d0db5(0x2b9)]()+_0x396168};}catch(_0x483e97){throw this[_0x4d0db5(0x57c)][_0x4d0db5(0x16d)](this[_0x4d0db5(0x168)]+'\x20('+this[_0x4d0db5(0x219)][_0x4d0db5(0x321)]+_0x4d0db5(0x16c)+(_0x483e97 instanceof Error?_0x483e97[_0x4d0db5(0x1f0)]:JSON[_0x4d0db5(0x613)](_0x483e97,null,0x2))),new w(_0x483e97[_0x4d0db5(0x30b)]());}}async[a0_0x39ce6a(0x2eb)](_0x1de776,_0x2a14fd){const _0x72eb23=a0_0x39ce6a;let _0x10ad9c=j[_0x72eb23(0x6b8)][_0x72eb23(0x4dc)](__dirname,_0x72eb23(0x50c));L[_0x72eb23(0x6d5)](_0x10ad9c)||L[_0x72eb23(0x53a)](_0x10ad9c,{'recursive':!0x0});let _0x40c367=j[_0x72eb23(0x6b8)]['join'](_0x10ad9c,_0x2a14fd);return new Promise((_0x4144d6,_0x764d88)=>{const _0x1c6cb0=_0x72eb23;L[_0x1c6cb0(0x4ca)](_0x40c367,_0x1de776,_0x3e7dae=>{const _0x5b423c=_0x1c6cb0;_0x3e7dae?(this[_0x5b423c(0x57c)][_0x5b423c(0x16d)](_0x5b423c(0x555)+(_0x3e7dae instanceof Error?_0x3e7dae['message']:JSON[_0x5b423c(0x613)](_0x3e7dae,null,0x2))),_0x764d88(_0x3e7dae)):(this['logger'][_0x5b423c(0x4e5)](_0x5b423c(0x6db)+_0x40c367),_0x4144d6(_0x40c367));});});}async[a0_0x39ce6a(0x33a)](_0x327e43){const _0x28ad67=a0_0x39ce6a;return await this[_0x28ad67(0x422)][_0x28ad67(0x1cc)][_0x28ad67(0x280)](_0x327e43,this[_0x28ad67(0x219)][_0x28ad67(0x321)]);}async[a0_0x39ce6a(0x513)](){const _0x344335=a0_0x39ce6a;return await this[_0x344335(0x422)][_0x344335(0x4ed)][_0x344335(0x280)]({'where':{}},this[_0x344335(0x219)][_0x344335(0x321)]);}async[a0_0x39ce6a(0x723)](_0x58abbb){const _0x506c71=a0_0x39ce6a;return await this[_0x506c71(0x422)][_0x506c71(0x1f0)][_0x506c71(0x280)](_0x58abbb,this['instance'][_0x506c71(0x321)]);}async[a0_0x39ce6a(0x6f5)](){const _0x1b955c=a0_0x39ce6a;return this[_0x1b955c(0x422)]['chat'][_0x1b955c(0x2fc)](this['instance'][_0x1b955c(0x321)]),this['repository'][_0x1b955c(0x5d1)]['updateMissingEtiquetas'](this[_0x1b955c(0x219)]['wuid']),this[_0x1b955c(0x422)][_0x1b955c(0x5d1)][_0x1b955c(0x5ea)](this[_0x1b955c(0x219)][_0x1b955c(0x321)]),this['repository']['chat'][_0x1b955c(0x3a5)](this[_0x1b955c(0x219)][_0x1b955c(0x321)]),await this[_0x1b955c(0x422)]['chat'][_0x1b955c(0x280)]({'where':{}},this['instance'][_0x1b955c(0x321)]);}async['importChatsAntigo'](_0xe149c1){const _0x411f0f=a0_0x39ce6a;try{if(!Array[_0x411f0f(0x52a)](_0xe149c1)||_0xe149c1[_0x411f0f(0x44f)]===0x0)throw new Error(_0x411f0f(0x32b));let _0x1e67e3=[],_0x4ba0b9=[];for(let _0x5959d0 of _0xe149c1){if(_0x5959d0[_0x411f0f(0x3bb)])_0x5959d0[_0x411f0f(0x3bb)]=this['createJid'](_0x5959d0[_0x411f0f(0x3bb)]);else continue;await this[_0x411f0f(0x422)][_0x411f0f(0x5d1)][_0x411f0f(0x5c1)]({'where':{'_id':_0x5959d0[_0x411f0f(0x3bb)]}},this['instance'][_0x411f0f(0x321)])?_0x4ba0b9[_0x411f0f(0x41f)]({'_id':_0x5959d0[_0x411f0f(0x3bb)],'leadInfo':_0x5959d0[_0x411f0f(0x488)],'owner':this[_0x411f0f(0x219)]['wuid']}):_0x1e67e3[_0x411f0f(0x41f)]({'_id':_0x5959d0['_id'],'owner':this[_0x411f0f(0x219)][_0x411f0f(0x321)],'leadInfo':_0x5959d0[_0x411f0f(0x488)],'imported':!0x0});}return _0x4ba0b9['length']>0x0&&await this['repository'][_0x411f0f(0x5d1)]['updateMany'](_0x4ba0b9[_0x411f0f(0x477)](_0x521fee=>({'query':{'where':{'_id':_0x521fee[_0x411f0f(0x3bb)],'owner':this[_0x411f0f(0x219)]['wuid']}},'update':_0x521fee}))),_0x1e67e3[_0x411f0f(0x44f)]>0x0&&await this[_0x411f0f(0x422)][_0x411f0f(0x5d1)][_0x411f0f(0x3c7)](_0x1e67e3,this['instance'][_0x411f0f(0x321)]),{'updated':_0x4ba0b9[_0x411f0f(0x44f)],'inserted':_0x1e67e3['length']};}catch(_0x5d1940){throw console['error']('Erro\x20ao\x20importar\x20chats:',_0x5d1940),_0x5d1940;}}async[a0_0x39ce6a(0x563)](_0x2dfa5f){const _0x141aad=a0_0x39ce6a;try{if(!Array[_0x141aad(0x52a)](_0x2dfa5f)||_0x2dfa5f[_0x141aad(0x44f)]===0x0)throw new Error(_0x141aad(0x32b));let _0x1db750=0x64,_0x4add0e=0x0;for(let _0xce5f23=0x0;_0xce5f23<_0x2dfa5f[_0x141aad(0x44f)];_0xce5f23+=_0x1db750){let _0x3acc22=_0x2dfa5f['slice'](_0xce5f23,_0xce5f23+_0x1db750),{updated:_0x48000c}=await this[_0x141aad(0x27a)](_0x3acc22);_0x4add0e+=_0x48000c;}return{'updated':_0x4add0e};}catch(_0x165213){throw console[_0x141aad(0x16d)]('Erro\x20ao\x20importar\x20chats:',_0x165213),_0x165213;}}async[a0_0x39ce6a(0x27a)](_0x609f28){const _0x4a727e=a0_0x39ce6a;try{let _0xdda391=await this[_0x4a727e(0x422)][_0x4a727e(0x4ed)]['find']({'where':{}},this[_0x4a727e(0x219)][_0x4a727e(0x321)]),_0x2fe823=new Set(_0xdda391[_0x4a727e(0x477)](_0x337c91=>_0x337c91[_0x4a727e(0x3bb)])),_0x4eb9cf=[],_0x1022ec=[];for(let _0x11d671 of _0x609f28){if(!_0x11d671[_0x4a727e(0x3bb)])continue;_0x11d671['_id']=this['createJid'](_0x11d671[_0x4a727e(0x3bb)]);let _0x493da2=await this[_0x4a727e(0x422)][_0x4a727e(0x5d1)][_0x4a727e(0x5c1)]({'where':{'_id':_0x11d671['_id']}},this[_0x4a727e(0x219)][_0x4a727e(0x321)]),_0x34e32b={};if(Object['entries'](_0x11d671['leadInfo'])[_0x4a727e(0x797)](([_0x51d6b4,_0x1d8dcb])=>{const _0x237b15=_0x4a727e;_0x34e32b[_0x237b15(0x66a)+_0x51d6b4]=_0x1d8dcb;}),_0x493da2&&!_0x493da2[_0x4a727e(0x29f)]){let _0x5e9b15=(_0x11d671['leadInfo']['etiquetas']||[])[_0x4a727e(0x558)](_0x48e3e9=>_0x2fe823[_0x4a727e(0x443)](_0x48e3e9)),_0x24b10f=new Set(_0x493da2['leadInfo'][_0x4a727e(0x6ca)]||[]),_0x2b567f=_0x5e9b15[_0x4a727e(0x558)](_0x8178c4=>!_0x24b10f[_0x4a727e(0x443)](_0x8178c4)),_0x3f0822=[..._0x24b10f]['filter'](_0x3417c5=>!_0x5e9b15['includes'](_0x3417c5));_0x1022ec[_0x4a727e(0x41f)](..._0x2b567f['map'](_0xd9ccf4=>this[_0x4a727e(0x33b)](_0xd9ccf4,_0x11d671[_0x4a727e(0x3bb)]))),_0x1022ec['push'](..._0x3f0822[_0x4a727e(0x477)](_0xbdcd83=>this['RemoveChatLabel'](_0xbdcd83,_0x11d671[_0x4a727e(0x3bb)]))),_0x11d671['leadInfo'][_0x4a727e(0x6ca)]=_0x5e9b15,_0x4eb9cf[_0x4a727e(0x41f)]({'query':{'where':{'_id':_0x11d671[_0x4a727e(0x3bb)],'owner':this[_0x4a727e(0x219)][_0x4a727e(0x321)]}},'update':_0x34e32b});}else _0x34e32b['imported']=!0x0,_0x4eb9cf['push']({'query':{'where':{'_id':_0x11d671[_0x4a727e(0x3bb)],'owner':this[_0x4a727e(0x219)][_0x4a727e(0x321)]}},'update':_0x34e32b});}let _0x5c5c6c=await this['repository'][_0x4a727e(0x5d1)][_0x4a727e(0x602)](_0x4eb9cf);return await Promise[_0x4a727e(0x39a)](_0x1022ec),{'updated':_0x5c5c6c};}catch(_0x35aa24){throw console[_0x4a727e(0x16d)](_0x4a727e(0x17e),_0x35aa24),_0x35aa24;}}async['fetchPrivacySettings'](){const _0x47576e=a0_0x39ce6a;return await this[_0x47576e(0x1ba)][_0x47576e(0x67b)]();}async['updatePrivacySettings'](_0x4fa8d8){const _0x11ca33=a0_0x39ce6a;try{return await this[_0x11ca33(0x1ba)][_0x11ca33(0x1bc)](_0x4fa8d8[_0x11ca33(0x74c)][_0x11ca33(0x402)]),await this[_0x11ca33(0x1ba)][_0x11ca33(0x300)](_0x4fa8d8['privacySettings']['profile']),await this[_0x11ca33(0x1ba)][_0x11ca33(0x3cc)](_0x4fa8d8['privacySettings'][_0x11ca33(0x162)]),await this['client']['updateOnlinePrivacy'](_0x4fa8d8[_0x11ca33(0x74c)][_0x11ca33(0x210)]),await this[_0x11ca33(0x1ba)]['updateLastSeenPrivacy'](_0x4fa8d8[_0x11ca33(0x74c)][_0x11ca33(0x1b9)]),await this[_0x11ca33(0x1ba)]['updateGroupsAddPrivacy'](_0x4fa8d8[_0x11ca33(0x74c)]['groupadd']),this[_0x11ca33(0x1ba)]?.['ws']?.[_0x11ca33(0x194)](),{'update':_0x11ca33(0x34e),'data':{'readreceipts':_0x4fa8d8[_0x11ca33(0x74c)][_0x11ca33(0x402)],'profile':_0x4fa8d8[_0x11ca33(0x74c)][_0x11ca33(0x4f1)],'status':_0x4fa8d8[_0x11ca33(0x74c)]['status'],'online':_0x4fa8d8['privacySettings'][_0x11ca33(0x210)],'last':_0x4fa8d8['privacySettings'][_0x11ca33(0x1b9)],'groupadd':_0x4fa8d8['privacySettings']['groupadd']}};}catch(_0x2b9b4e){throw new I('Error\x20updating\x20privacy\x20settings',_0x2b9b4e[_0x11ca33(0x30b)]());}}async['fetchProfile2'](_0x5230eb){const _0x322b40=a0_0x39ce6a;let _0x397c71=_0x5230eb?this[_0x322b40(0x1a4)](_0x5230eb):this[_0x322b40(0x1ba)]?.[_0x322b40(0x315)]?.['id'];this['logger'][_0x322b40(0x5b1)](_0x322b40(0x185)+_0x397c71);try{if(this[_0x322b40(0x57c)][_0x322b40(0x5b1)](_0x322b40(0x4ba)),_0x5230eb){let _0x559c2c=(await this[_0x322b40(0x75c)]({'numbers':[_0x397c71]}))?.[_0x322b40(0x69c)](),_0x5d44e3=await this['profilePicture'](_0x559c2c?.[_0x322b40(0x5f8)]),_0x167b88=await this[_0x322b40(0x313)](_0x559c2c?.[_0x322b40(0x5f8)]),_0x3f31ec=await this['fetchBusinessProfile'](_0x559c2c?.[_0x322b40(0x5f8)]);return{'wuid':_0x559c2c?.[_0x322b40(0x5f8)]||_0x397c71,'name':_0x559c2c?.[_0x322b40(0x257)],'numberExists':_0x559c2c?.[_0x322b40(0x34c)],'picture':_0x5d44e3?.[_0x322b40(0x6aa)],'status':_0x167b88?.[_0x322b40(0x162)],'isBusiness':_0x3f31ec['isBusiness'],'email':_0x3f31ec?.[_0x322b40(0x5ba)],'description':_0x3f31ec?.[_0x322b40(0x7aa)],'website':_0x3f31ec?.[_0x322b40(0x650)]?.[_0x322b40(0x69c)]()};}}catch{return this[_0x322b40(0x57c)][_0x322b40(0x5b1)](_0x322b40(0x52f)),{'wuid':_0x397c71,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x39ce6a(0x764)](_0x3d3bec){const _0x3457bb=a0_0x39ce6a;let _0x278958=(_0x3d3bec?this[_0x3457bb(0x1a4)](_0x3d3bec):this[_0x3457bb(0x1ba)]?.[_0x3457bb(0x315)]?.['id'])[_0x3457bb(0x214)](/:\d{1,2}@/g,'@');this[_0x3457bb(0x57c)][_0x3457bb(0x5b1)]('Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0x278958);let _0x4e1db0=await this[_0x3457bb(0x422)][_0x3457bb(0x1cc)]['findOne']({'where':{'_id':_0x278958}},this[_0x3457bb(0x219)][_0x3457bb(0x321)]),_0x3de76a=_0x4e1db0?_0x4e1db0[_0x3457bb(0x3ae)]:null;try{let _0x15e413=(await this[_0x3457bb(0x75c)]({'numbers':[_0x278958]}))?.[_0x3457bb(0x69c)](),_0x1f52bd=await this[_0x3457bb(0x3da)](_0x15e413?.['jid']),_0x4c5268=await this[_0x3457bb(0x313)](_0x15e413?.[_0x3457bb(0x5f8)]),_0x3d0717=await this[_0x3457bb(0x50f)](_0x15e413?.[_0x3457bb(0x5f8)]),_0x2155f2=await this[_0x3457bb(0x422)][_0x3457bb(0x5d1)]['findOne']({'where':{'_id':_0x278958}},this[_0x3457bb(0x219)][_0x3457bb(0x321)]),_0x816460={'imagechat':_0x1f52bd?.['profilePictureUrl'],'contactname':_0x3de76a||null,'status':_0x4c5268?.[_0x3457bb(0x162)],'isBusiness':_0x3d0717[_0x3457bb(0x64b)],'email':_0x3d0717?.[_0x3457bb(0x5ba)],'description':_0x3d0717?.['description'],'website':_0x3d0717?.[_0x3457bb(0x650)]?.[_0x3457bb(0x69c)](),'lastcache':Date[_0x3457bb(0x2b9)](),'imported':!_0x2155f2},_0x304bd1=await this[_0x3457bb(0x422)][_0x3457bb(0x5d1)][_0x3457bb(0x455)]({'where':{'_id':_0x278958}},_0x816460,this[_0x3457bb(0x219)]['wuid']),_0x578cac={'owner':this[_0x3457bb(0x219)][_0x3457bb(0x321)],'_id':_0x278958,'profilePictureUrl':_0x1f52bd?.[_0x3457bb(0x6aa)],'status':_0x4c5268?.['status']};return this['repository'][_0x3457bb(0x1cc)][_0x3457bb(0x226)]([_0x578cac],this[_0x3457bb(0x219)][_0x3457bb(0x321)]),_0x304bd1&&q(this[_0x3457bb(0x168)],_0x3457bb(0x51b),{'chat':_0x304bd1}),{'wuid':_0x15e413?.['jid']||_0x278958,'name':_0x15e413?.[_0x3457bb(0x257)],'numberExists':_0x15e413?.[_0x3457bb(0x34c)],'picture':_0x1f52bd?.[_0x3457bb(0x6aa)],'status':_0x4c5268?.[_0x3457bb(0x162)],'isBusiness':_0x3d0717[_0x3457bb(0x64b)],'email':_0x3d0717?.[_0x3457bb(0x5ba)],'description':_0x3d0717?.['description'],'website':_0x3d0717?.['website']?.[_0x3457bb(0x69c)]()};}catch(_0x57b536){return this[_0x3457bb(0x57c)][_0x3457bb(0x16d)](_0x3457bb(0x157)+(_0x57b536 instanceof Error?_0x57b536[_0x3457bb(0x1f0)]:JSON['stringify'](_0x57b536,null,0x2))),{};}}async[a0_0x39ce6a(0x50f)](_0xed538e){const _0x16d7cd=a0_0x39ce6a;this[_0x16d7cd(0x57c)][_0x16d7cd(0x5b1)](_0x16d7cd(0x156));try{let _0x451d0=_0xed538e?this[_0x16d7cd(0x1a4)](_0xed538e):this[_0x16d7cd(0x219)]['wuid'],_0x578460=await this[_0x16d7cd(0x1ba)]['getBusinessProfile'](_0x451d0);return this[_0x16d7cd(0x57c)]['verbose'](_0x16d7cd(0x6c7)),_0x578460?(this[_0x16d7cd(0x57c)][_0x16d7cd(0x5b1)]('Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x578460}):{'isBusiness':!0x1,'message':_0x16d7cd(0x177),...(await this['whatsappNumber']({'numbers':[_0x451d0]}))?.[_0x16d7cd(0x69c)]()};}catch(_0x15cabb){throw new I(_0x16d7cd(0x155),_0x15cabb[_0x16d7cd(0x30b)]());}}async[a0_0x39ce6a(0x313)](_0x2557b8){const _0x4cbb6d=a0_0x39ce6a;let _0x5b8699=this['createJid'](_0x2557b8);try{return{'wuid':_0x5b8699,'status':(await this[_0x4cbb6d(0x1ba)][_0x4cbb6d(0x345)](_0x5b8699))?.[_0x4cbb6d(0x162)]};}catch{return{'wuid':_0x5b8699,'status':null};}}async[a0_0x39ce6a(0x3eb)](_0x2a5778){const _0x96d173=a0_0x39ce6a;try{return await this['client'][_0x96d173(0x3eb)](_0x2a5778),{'update':'success'};}catch(_0x32d0c0){throw new I(_0x96d173(0x155),_0x32d0c0[_0x96d173(0x30b)]());}}async[a0_0x39ce6a(0x593)](_0x2c9297){const _0x5b860f=a0_0x39ce6a;try{return await this[_0x5b860f(0x1ba)]['updateProfileStatus'](_0x2c9297),{'update':_0x5b860f(0x34e)};}catch(_0x334209){throw new I('Error\x20updating\x20profile\x20status',_0x334209[_0x5b860f(0x30b)]());}}async[a0_0x39ce6a(0x1ae)](_0x6efd9d){const _0x1cc390=a0_0x39ce6a;try{let _0x51be98;if((0x0,$[_0x1cc390(0x6bc)])(_0x6efd9d)){let _0x4a1467=new Date()[_0x1cc390(0x788)](),_0x59ea3a=_0x6efd9d+'?timestamp='+_0x4a1467;_0x51be98=(await se[_0x1cc390(0x6b8)]['get'](_0x59ea3a,{'responseType':_0x1cc390(0x7c4)}))['data'];}else{if((0x0,$[_0x1cc390(0x496)])(_0x6efd9d))_0x51be98=Buffer['from'](_0x6efd9d,_0x1cc390(0x383));else throw new w(_0x1cc390(0x502));}return await this['client']['updateProfilePicture'](this[_0x1cc390(0x219)]['wuid'],_0x51be98),{'update':_0x1cc390(0x34e)};}catch(_0x8fe3d5){throw new I(_0x1cc390(0x620),_0x8fe3d5[_0x1cc390(0x30b)]());}}async['removeProfilePicture'](){const _0x16035a=a0_0x39ce6a;try{return await this[_0x16035a(0x1ba)]['removeProfilePicture'](this[_0x16035a(0x219)][_0x16035a(0x321)]),{'update':_0x16035a(0x34e)};}catch(_0x171665){throw new I(_0x16035a(0x79d),_0x171665[_0x16035a(0x30b)]());}}async[a0_0x39ce6a(0x4e7)](_0x5cde38){const _0x228c0c=a0_0x39ce6a;try{let _0x398c94=_0x5cde38[_0x228c0c(0x540)][_0x228c0c(0x477)](_0x1b90e9=>this['createJid'](_0x1b90e9)),{id:_0x14f333}=await this['client'][_0x228c0c(0x58c)](_0x5cde38[_0x228c0c(0x5bd)],_0x398c94);return _0x5cde38?.[_0x228c0c(0x7aa)]&&await this['client'][_0x228c0c(0x69e)](_0x14f333,_0x5cde38[_0x228c0c(0x7aa)]),{'metadata':await this[_0x228c0c(0x1ba)][_0x228c0c(0x374)](_0x14f333)};}catch(_0x3f2efe){throw this[_0x228c0c(0x57c)]['error'](this[_0x228c0c(0x168)]+'\x20('+this[_0x228c0c(0x219)]['wuid']+_0x228c0c(0x16c)+(_0x3f2efe instanceof Error?_0x3f2efe[_0x228c0c(0x1f0)]:JSON[_0x228c0c(0x613)](_0x3f2efe,null,0x2))),new I(_0x228c0c(0x744),_0x3f2efe[_0x228c0c(0x30b)]());}}async[a0_0x39ce6a(0x6de)](_0x1d326e){const _0x2334de=a0_0x39ce6a;try{let _0x2b5dcc;if((0x0,$['isURL'])(_0x1d326e[_0x2334de(0x767)])){let _0x19036=new Date()[_0x2334de(0x788)](),_0x496077=_0x1d326e[_0x2334de(0x767)]+_0x2334de(0x356)+_0x19036;_0x2b5dcc=(await se[_0x2334de(0x6b8)][_0x2334de(0x2b4)](_0x496077,{'responseType':_0x2334de(0x7c4)}))[_0x2334de(0x34d)];}else{if((0x0,$[_0x2334de(0x496)])(_0x1d326e['image']))_0x2b5dcc=Buffer[_0x2334de(0x43c)](_0x1d326e[_0x2334de(0x767)],_0x2334de(0x383));else throw new w(_0x2334de(0x502));}return await this[_0x2334de(0x1ba)][_0x2334de(0x1ae)](_0x1d326e[_0x2334de(0x469)],_0x2b5dcc),{'update':'success'};}catch(_0x5314cf){throw new I(_0x2334de(0x231),_0x5314cf['toString']());}}async[a0_0x39ce6a(0x28b)](_0x4e3842,_0x5be66f=a0_0x39ce6a(0x44e)){const _0x423e23=a0_0x39ce6a;try{let _0x3fae49=await this[_0x423e23(0x1ba)][_0x423e23(0x374)](_0x4e3842[_0x423e23(0x469)]),_0x5d96f7=null;try{_0x5d96f7=(await this['profilePicture'](_0x4e3842[_0x423e23(0x469)]))[_0x423e23(0x6aa)];}catch(_0x509ca7){this[_0x423e23(0x57c)]['verbose'](this[_0x423e23(0x168)]+'\x20('+this['instance'][_0x423e23(0x321)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x4e3842[_0x423e23(0x469)]+':\x20'+(_0x509ca7 instanceof Error?_0x509ca7[_0x423e23(0x1f0)]:JSON[_0x423e23(0x613)](_0x509ca7,null,0x2)));}let _0x1a3929=await this[_0x423e23(0x422)][_0x423e23(0x5d1)][_0x423e23(0x455)]({'where':{'_id':_0x4e3842['groupJid']}},{'imagechat':_0x5d96f7,'name':_0x3fae49[_0x423e23(0x5bd)],'group_size':_0x3fae49[_0x423e23(0x526)],'group_announce':_0x3fae49['announce'],'lastcache':Date[_0x423e23(0x2b9)]()},this[_0x423e23(0x219)][_0x423e23(0x321)]);return _0x1a3929&&q(this[_0x423e23(0x168)],_0x423e23(0x51b),{'chat':_0x1a3929}),{'metadata':_0x3fae49,'image':_0x5d96f7};}catch(_0x18b02f){if(_0x5be66f==='inner')return;throw new k(_0x423e23(0x6ea),_0x18b02f['toString']());}}async[a0_0x39ce6a(0x72a)](_0x42ecc2){const _0x22f1db=a0_0x39ce6a;try{return await this['client'][_0x22f1db(0x69e)](_0x42ecc2[_0x22f1db(0x469)],_0x42ecc2[_0x22f1db(0x7aa)]),{'update':_0x22f1db(0x34e)};}catch(_0x1e288e){throw new I(_0x22f1db(0x76d),_0x1e288e[_0x22f1db(0x30b)]());}}async[a0_0x39ce6a(0x1dc)](_0x1928c3){const _0x41ef8e=a0_0x39ce6a;try{return await this[_0x41ef8e(0x1ba)][_0x41ef8e(0x350)](_0x1928c3[_0x41ef8e(0x469)],_0x1928c3[_0x41ef8e(0x257)]),{'update':_0x41ef8e(0x34e)};}catch(_0x3940b7){throw new I(_0x41ef8e(0x49e),_0x3940b7[_0x41ef8e(0x30b)]());}}async[a0_0x39ce6a(0x3c1)](_0x2ce589){const _0x59f3ab=a0_0x39ce6a;try{return await this[_0x59f3ab(0x1ba)][_0x59f3ab(0x457)](_0x2ce589[_0x59f3ab(0x469)],_0x2ce589[_0x59f3ab(0x3a0)]),{'update':_0x59f3ab(0x34e)};}catch(_0x412921){throw new I(_0x59f3ab(0x249),_0x412921[_0x59f3ab(0x30b)]());}}async[a0_0x39ce6a(0x17d)](){const _0x135e94=a0_0x39ce6a;try{let _0x48ef68=[],_0x3f81ca=await this[_0x135e94(0x1ba)][_0x135e94(0x329)](),_0x146382=Object['values'](_0x3f81ca),_0x291967=_0x146382[_0x135e94(0x558)](_0xf52160=>(0x0,g['isJidGroup'])(_0xf52160?.['id']))[_0x135e94(0x477)](async _0xcb01a2=>{const _0x545a5e=_0x135e94;try{return await this['client'][_0x545a5e(0x6aa)](_0xcb01a2['id'],_0x545a5e(0x5a6));}catch(_0x22e015){return this['logger'][_0x545a5e(0x5b1)](this[_0x545a5e(0x168)]+'\x20('+this[_0x545a5e(0x219)]['wuid']+_0x545a5e(0x1bf)+_0xcb01a2['id']+':\x20'+(_0x22e015 instanceof Error?_0x22e015[_0x545a5e(0x1f0)]:JSON[_0x545a5e(0x613)](_0x22e015,null,0x2))),null;}}),_0x1c6525=await Promise['all'](_0x291967);for(let _0xa357ac=0x0;_0xa357ac<_0x146382[_0x135e94(0x44f)];_0xa357ac++){let _0x2d6045=_0x146382[_0xa357ac];(0x0,g['isJidGroup'])(_0x2d6045?.['id'])&&_0x48ef68[_0x135e94(0x41f)]({'groupJid':_0x2d6045?.['id'],'subject':_0x2d6045?.['subject'],'subjectOwner':_0x2d6045?.[_0x135e94(0x412)]?.[_0x135e94(0x154)]('@')[0x0],'subjectTime':_0x2d6045?.['subjectTime'],'size':_0x2d6045?.['participants']?.[_0x135e94(0x44f)],'owner':_0x2d6045?.['owner']?.[_0x135e94(0x154)]('@')[0x0],'creation':_0x2d6045?.[_0x135e94(0x633)],'desc':_0x2d6045?.[_0x135e94(0x1c2)],'restrict':_0x2d6045?.[_0x135e94(0x2d5)],'announce':_0x2d6045?.[_0x135e94(0x331)],'image':_0x1c6525[_0xa357ac]});}return _0x48ef68;}catch(_0x558578){throw new k(_0x135e94(0x6ea),_0x558578[_0x135e94(0x30b)]());}}async[a0_0x39ce6a(0x4b1)](_0x389008){const _0x24df55=a0_0x39ce6a;try{let _0x5e99b5=await this[_0x24df55(0x1ba)][_0x24df55(0x351)](_0x389008['groupJid']);return{'inviteUrl':_0x24df55(0x5f7)+_0x5e99b5,'inviteCode':_0x5e99b5};}catch(_0x23cae8){throw new k(_0x24df55(0x29a),_0x23cae8[_0x24df55(0x30b)]());}}async[a0_0x39ce6a(0x34a)](_0x593506){const _0x29c4a8=a0_0x39ce6a;try{let _0x3271f3=await this[_0x29c4a8(0x1ba)][_0x29c4a8(0x244)](_0x593506['groupJid']);return{'revoked':!0x0,'inviteUrl':_0x29c4a8(0x5f7)+_0x3271f3,'inviteCode':_0x3271f3};}catch(_0x1c568c){throw new k(_0x29c4a8(0x4fc),_0x1c568c[_0x29c4a8(0x30b)]());}}async[a0_0x39ce6a(0x198)](_0x105cae){const _0xedc751=a0_0x39ce6a;try{if((0x0,$['isURL'])(_0x105cae['inviteCode']))var _0x680522=_0x105cae[_0xedc751(0x4b1)][_0xedc751(0x154)]('/')[0x3];else var _0x680522=_0x105cae['inviteCode'];let _0x179e1c=await this[_0xedc751(0x1ba)]['groupAcceptInvite'](_0x680522);return this[_0xedc751(0x57c)][_0xedc751(0x5b1)](this[_0xedc751(0x168)]+'\x20('+this[_0xedc751(0x219)][_0xedc751(0x321)]+_0xedc751(0x16c)+_0x179e1c),{'join':!0x0,'inviteCode':_0x680522,'groupJid':_0x179e1c};}catch(_0x239e52){throw new k(_0xedc751(0x55e),_0x239e52['toString']());}}async['findParticipants'](_0x25a8fd){const _0x1ab5f9=a0_0x39ce6a;try{return{'participants':(await this[_0x1ab5f9(0x1ba)][_0x1ab5f9(0x374)](_0x25a8fd[_0x1ab5f9(0x469)]))[_0x1ab5f9(0x540)]};}catch(_0x3f5e9c){throw new k(_0x1ab5f9(0x556),_0x3f5e9c[_0x1ab5f9(0x30b)]());}}async[a0_0x39ce6a(0x599)](_0x32125d){const _0x346790=a0_0x39ce6a;try{let _0x322996=_0x32125d[_0x346790(0x540)][_0x346790(0x477)](_0x5d0e5c=>this[_0x346790(0x1a4)](_0x5d0e5c));return{'updateParticipants':await this[_0x346790(0x1ba)][_0x346790(0x252)](_0x32125d[_0x346790(0x469)],_0x322996,_0x32125d['action'])};}catch(_0x596aeb){throw new w(_0x346790(0x4ea),_0x596aeb[_0x346790(0x30b)]());}}async[a0_0x39ce6a(0x70d)](_0x111fdf){const _0x4cbef9=a0_0x39ce6a;try{let _0x34611c=await this[_0x4cbef9(0x1ba)][_0x4cbef9(0x4ae)](_0x111fdf['groupJid'],_0x111fdf[_0x4cbef9(0x285)]);return{'success':!0x0};}catch(_0x517c05){throw new w(_0x4cbef9(0x2be),_0x517c05[_0x4cbef9(0x30b)]());}}async[a0_0x39ce6a(0x1a8)](_0x3a65bb){const _0x125a57=a0_0x39ce6a;try{return await this[_0x125a57(0x1ba)][_0x125a57(0x5b9)](_0x3a65bb[_0x125a57(0x469)]),{'groupJid':_0x3a65bb[_0x125a57(0x469)],'leave':!0x0};}catch(_0x35f208){throw new w(_0x125a57(0x333),_0x35f208[_0x125a57(0x30b)]());}}async[a0_0x39ce6a(0x5ac)](_0x118241){const _0x219694=a0_0x39ce6a;return await this[_0x219694(0x629)](_0x118241[_0x219694(0x2f8)],{'poll':{'name':_0x118241[_0x219694(0x5ac)]?.[_0x219694(0x257)],'selectableCount':_0x118241[_0x219694(0x5ac)][_0x219694(0x43f)],'values':_0x118241['pollMessage'][_0x219694(0x279)]}},_0x118241?.['options']);}async[a0_0x39ce6a(0x6d4)](_0x218105){const _0x5a0b73=a0_0x39ce6a;return await this[_0x5a0b73(0x629)](_0x218105[_0x5a0b73(0x2f8)],{'listMessage':{'title':_0x218105[_0x5a0b73(0x6d4)][_0x5a0b73(0x7b2)],'description':_0x218105[_0x5a0b73(0x6d4)][_0x5a0b73(0x7aa)],'buttonText':_0x218105[_0x5a0b73(0x6d4)]?.[_0x5a0b73(0x6a2)],'footerText':_0x218105[_0x5a0b73(0x6d4)]?.[_0x5a0b73(0x4e3)],'sections':_0x218105[_0x5a0b73(0x6d4)]['sections'],'listType':0x2}},_0x218105?.[_0x5a0b73(0x77e)]);}async[a0_0x39ce6a(0x1e2)](_0x4c547c){const _0x18ab49=a0_0x39ce6a;let _0x18f4d6;if(_0x4c547c[_0x18ab49(0x1e2)]['type']===_0x18ab49(0x2d1)){let _0x2cb764=_0x4c547c['menuMessage']['text']['indexOf']('\x0a'),_0x5a9757='',_0xe34e6a='';_0x2cb764!==-0x1?(_0x5a9757=_0x4c547c[_0x18ab49(0x1e2)][_0x18ab49(0x60d)]['substring'](0x0,_0x2cb764)[_0x18ab49(0x597)](),_0xe34e6a=_0x4c547c[_0x18ab49(0x1e2)][_0x18ab49(0x60d)][_0x18ab49(0x441)](_0x2cb764+0x1)):_0xe34e6a=_0x4c547c[_0x18ab49(0x1e2)]['text'];let _0x49b7f7=_0x4c547c[_0x18ab49(0x1e2)][_0x18ab49(0x193)][_0x18ab49(0x558)](_0x2de82b=>_0x2de82b[_0x18ab49(0x597)]()!==''),_0x4ea768=this[_0x18ab49(0x32c)](_0x49b7f7);_0x18f4d6={'listMessage':{'title':_0x5a9757,'description':_0xe34e6a,'buttonText':_0x4c547c[_0x18ab49(0x1e2)]['buttonText']||_0x18ab49(0x2c9),'footerText':_0x4c547c[_0x18ab49(0x1e2)]['footerText'],'sections':_0x4ea768,'listType':0x2}};}else{if(_0x4c547c[_0x18ab49(0x1e2)]['type']===_0x18ab49(0x6c5)){let _0x1820d9=_0x4c547c[_0x18ab49(0x1e2)][_0x18ab49(0x193)]['filter'](_0x5a08b5=>!(_0x5a08b5[_0x18ab49(0x511)]('[')&&_0x5a08b5[_0x18ab49(0x276)](']'))&&_0x5a08b5[_0x18ab49(0x597)]()!=='')[_0x18ab49(0x477)](_0x5d5791=>_0x5d5791[_0x18ab49(0x154)]('\x0a')[0x0]);_0x18f4d6={'poll':{'name':_0x4c547c['menuMessage'][_0x18ab49(0x60d)],'selectableCount':_0x4c547c['menuMessage'][_0x18ab49(0x43f)]||0x1,'values':_0x1820d9}};}}return await this[_0x18ab49(0x629)](_0x4c547c[_0x18ab49(0x2f8)],_0x18f4d6,_0x4c547c?.[_0x18ab49(0x77e)]);}['createSectionsFromValues'](_0x1d64ae){const _0xd7fe50=a0_0x39ce6a;let _0x29c30a=[],_0x2e89ac={'rows':[]};return _0x1d64ae[_0xd7fe50(0x797)](_0x528e7c=>{const _0xdcf032=_0xd7fe50;if(_0x528e7c['startsWith']('[')&&_0x528e7c[_0xdcf032(0x276)](']'))_0x2e89ac[_0xdcf032(0x534)][_0xdcf032(0x44f)]>0x0&&_0x29c30a['push'](_0x2e89ac),_0x2e89ac={'title':_0x528e7c[_0xdcf032(0x3bf)](0x1,-0x1),'rows':[]};else{let _0x37a6ae=_0x528e7c[_0xdcf032(0x154)]('\x0a')[_0xdcf032(0x477)](_0x18c8c5=>_0x18c8c5['trim']()),_0x602f28=_0x37a6ae[0x0],_0x536857=_0x37a6ae[0x1]||null,_0x1f5af9=_0x37a6ae[0x2]||_0x602f28;_0x2e89ac[_0xdcf032(0x534)][_0xdcf032(0x41f)]({'title':_0x602f28,'description':_0x536857,'rowId':_0x1f5af9});}}),_0x2e89ac[_0xd7fe50(0x534)]['length']>0x0&&_0x29c30a[_0xd7fe50(0x41f)](_0x2e89ac),_0x29c30a;}async[a0_0x39ce6a(0x696)](_0x1a3917,_0x5aec43){const _0x4976c8=a0_0x39ce6a;if(await this['getMessage'](_0x1a3917,!0x0)){let _0xf2ad10={'where':{'_id':_0x1a3917['id']}},_0x2b0f48={'status':[_0x5aec43['status']][0x0]};try{let _0x3bb2c1=await this[_0x4976c8(0x422)][_0x4976c8(0x1f0)][_0x4976c8(0x226)](_0xf2ad10,_0x2b0f48,this['instance']['wuid']);_0x3bb2c1&&q(this[_0x4976c8(0x168)],'messages',{'message':_0x3bb2c1});}catch{}}}[a0_0x39ce6a(0x38c)](_0x3e16b3){const _0xcbe8b3=a0_0x39ce6a;let _0xa48daa=[];return _0x3e16b3['forEach'](_0x52bc7f=>{const _0x28be95=a0_0x4226;_0x52bc7f['title']&&_0xa48daa[_0x28be95(0x41f)]('['+_0x52bc7f['title']+']'),_0x52bc7f[_0x28be95(0x534)][_0x28be95(0x797)](_0x15b8f6=>{const _0x141b24=_0x28be95;_0xa48daa[_0x141b24(0x41f)](_0x15b8f6[_0x141b24(0x7b2)]);});}),_0xa48daa[_0xcbe8b3(0x4dc)]('|');}[a0_0x39ce6a(0x1ed)](_0x1d24e6){const _0x573deb=a0_0x39ce6a;let _0x5a6390=_0x1d24e6[_0x573deb(0x214)](/\\n/g,'\x0a')[_0x573deb(0x154)]('\x0a')[_0x573deb(0x558)](_0x59edb0=>_0x59edb0[_0x573deb(0x49a)](_0x573deb(0x78e))||_0x59edb0['includes'](_0x573deb(0x755))),_0x41ca73='';return _0x5a6390[_0x573deb(0x797)](_0x3ac779=>{const _0x6a6270=_0x573deb;let _0x5dc5c4=/TEL(?:.*):(.+)/,_0x498353=/EMAIL(?:.*):(.+)/,_0x16d442=_0x3ac779[_0x6a6270(0x343)](_0x5dc5c4),_0x26a3a6=_0x3ac779['match'](_0x498353);if(_0x16d442){let _0x28e078=_0x16d442[0x1][_0x6a6270(0x214)](/-| |\+|\(|\)/g,'')['trim']();_0x41ca73+=_0x6a6270(0x3b9)+_0x28e078+'\x0a';}else{if(_0x26a3a6){let _0x42d933=_0x26a3a6[0x1]['trim']();_0x41ca73+='E-mail:\x20'+_0x42d933+'\x0a';}}}),_0x41ca73[_0x573deb(0x597)]();}async[a0_0x39ce6a(0x62b)](_0x13529d,_0x24bea8,_0x4fd8fb){const _0x5d9a4d=a0_0x39ce6a;if(!_0x13529d[_0x5d9a4d(0x287)])return;let _0x5a4ff5=_0x24bea8[_0x5d9a4d(0x3b6)][_0x5d9a4d(0x6b1)]['replace'](/:\d{1,2}@/g,'@'),_0x1ee56a=_0x24bea8['key'][_0x5d9a4d(0x27d)],_0x22f36d=_0x5a4ff5[_0x5d9a4d(0x276)](_0x5d9a4d(0x6d3)),_0x7cfc48=_0x24bea8[_0x5d9a4d(0x667)]?.['text']||_0x24bea8[_0x5d9a4d(0x667)]?.[_0x5d9a4d(0x393)]||_0x24bea8[_0x5d9a4d(0x667)]?.[_0x5d9a4d(0x401)]||_0x24bea8['message_normalized']?.[_0x5d9a4d(0x257)],_0x3e5073={'lastmsg':_0x24bea8['messageTimestamp']||Date[_0x5d9a4d(0x2b9)](),'unreadcount':_0x1ee56a?0x0:0x1,..._0x1ee56a||_0x22f36d?{}:{'name':_0x24bea8[_0x5d9a4d(0x3ae)]},..._0x22f36d?{'group':_0x22f36d}:{}},_0x2770bb=await this['repository'][_0x5d9a4d(0x5d1)]['updateOne']({'where':{'_id':_0x5a4ff5}},_0x3e5073,this[_0x5d9a4d(0x219)]['wuid'],{'new':!0x0,'upsert':!0x0});if(_0x2770bb[_0x5d9a4d(0x29f)]){let _0x135c98=await this[_0x5d9a4d(0x422)][_0x5d9a4d(0x4ed)][_0x5d9a4d(0x280)]({'where':{}},this['instance'][_0x5d9a4d(0x321)]),_0x24b722=new Set(_0x135c98[_0x5d9a4d(0x477)](_0x138f8d=>_0x138f8d[_0x5d9a4d(0x3bb)])),_0x620c14=(_0x2770bb['leadInfo']?.[_0x5d9a4d(0x6ca)]||[])[_0x5d9a4d(0x558)](_0x39c0cc=>_0x24b722[_0x5d9a4d(0x443)](_0x39c0cc)),_0x1f32fe={'leadInfo.etiquetas':_0x620c14,'imported':!0x1};_0x2770bb=await this[_0x5d9a4d(0x422)]['chat']['updateOne']({'where':{'_id':_0x5a4ff5}},_0x1f32fe,this[_0x5d9a4d(0x219)][_0x5d9a4d(0x321)]);for(let _0x27c236 of _0x620c14)await this[_0x5d9a4d(0x33b)](_0x27c236,_0x5a4ff5);}if(!_0x22f36d&&(!_0x2770bb?.[_0x5d9a4d(0x488)]||!_0x2770bb[_0x5d9a4d(0x488)][_0x5d9a4d(0x722)])&&_0x24bea8[_0x5d9a4d(0x3ae)]&&!_0x1ee56a&&(_0x2770bb=await this[_0x5d9a4d(0x422)][_0x5d9a4d(0x5d1)][_0x5d9a4d(0x455)]({'where':{'_id':_0x5a4ff5}},{'leadInfo.nome':_0x24bea8[_0x5d9a4d(0x3ae)]},this['instance'][_0x5d9a4d(0x321)],{'new':!0x0,'upsert':!0x0})),_0x4fd8fb===_0x5d9a4d(0x6ac)&&_0x1ee56a&&this['AutomateSystem']?.[_0x5d9a4d(0x29e)][_0x5d9a4d(0x4fb)]&&!_0x7cfc48[_0x5d9a4d(0x511)](this[_0x5d9a4d(0x719)]?.[_0x5d9a4d(0x29e)][_0x5d9a4d(0x6f6)])){let _0x25a061=(this[_0x5d9a4d(0x719)]?.['flowConfig'][_0x5d9a4d(0x5d3)]||0x5)*0xea60,_0x249331=Date['now']()+_0x25a061;_0x2770bb?.[_0x5d9a4d(0x488)]?.[_0x5d9a4d(0x456)]===0x0||(await this[_0x5d9a4d(0x422)][_0x5d9a4d(0x5d1)][_0x5d9a4d(0x455)]({'where':{'_id':_0x5a4ff5}},{'leadInfo.desativadoFluxoAte':_0x249331},this[_0x5d9a4d(0x219)][_0x5d9a4d(0x321)],{'new':!0x0,'upsert':!0x1}),this[_0x5d9a4d(0x57c)][_0x5d9a4d(0x5b1)](this['instanceName']+'\x20('+this[_0x5d9a4d(0x219)][_0x5d9a4d(0x321)]+_0x5d9a4d(0x5eb)+_0x249331+'.'));}if(_0x2770bb)q(this[_0x5d9a4d(0x168)],'chats',{'chat':_0x2770bb});else{this[_0x5d9a4d(0x57c)][_0x5d9a4d(0x16d)](this['instanceName']+'\x20('+this[_0x5d9a4d(0x219)]['wuid']+_0x5d9a4d(0x390));return;}if(!this[_0x5d9a4d(0x719)]?.[_0x5d9a4d(0x29e)][_0x5d9a4d(0x4fb)])return this[_0x5d9a4d(0x57c)][_0x5d9a4d(0x5b1)](this['instanceName']+'\x20('+this['instance'][_0x5d9a4d(0x321)]+'):\x20Flow\x20desativado'),null;if(_0x2770bb[_0x5d9a4d(0x3bb)]['includes'](_0x5d9a4d(0x6d3))&&this[_0x5d9a4d(0x719)]?.['flowConfig'][_0x5d9a4d(0x482)]===!0x0)return this[_0x5d9a4d(0x57c)][_0x5d9a4d(0x5b1)](this[_0x5d9a4d(0x168)]+'\x20('+this[_0x5d9a4d(0x219)][_0x5d9a4d(0x321)]+_0x5d9a4d(0x4a0)),null;if(_0x2770bb[_0x5d9a4d(0x488)]){if(_0x2770bb['leadInfo'][_0x5d9a4d(0x456)]===0x0||_0x2770bb[_0x5d9a4d(0x488)][_0x5d9a4d(0x3ef)])return this[_0x5d9a4d(0x57c)]['verbose'](this[_0x5d9a4d(0x168)]+'\x20('+this[_0x5d9a4d(0x219)][_0x5d9a4d(0x321)]+_0x5d9a4d(0x355)+_0x5a4ff5+_0x5d9a4d(0x4ff)),null;if(_0x2770bb[_0x5d9a4d(0x488)][_0x5d9a4d(0x456)]>Date[_0x5d9a4d(0x2b9)]()&&!_0x24bea8[_0x5d9a4d(0x667)]?.[_0x5d9a4d(0x401)])return this[_0x5d9a4d(0x57c)][_0x5d9a4d(0x5b1)](this['instanceName']+'\x20('+this[_0x5d9a4d(0x219)][_0x5d9a4d(0x321)]+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0x2770bb[_0x5d9a4d(0x488)]['desativadoFluxoAte'])['toLocaleString']()+',\x20saindo.'),null;}this[_0x5d9a4d(0x57c)]['verbose'](this[_0x5d9a4d(0x168)]+'\x20('+this[_0x5d9a4d(0x219)][_0x5d9a4d(0x321)]+_0x5d9a4d(0x3a3)),this[_0x5d9a4d(0x3fc)](_0x4fd8fb,_0x24bea8);}async[a0_0x39ce6a(0x1e9)](_0x83b55,_0x1e343b){const _0x48514e=a0_0x39ce6a;if(_0x1e343b[_0x48514e(0x287)]){let _0x1351ad=_0x83b55[_0x48514e(0x477)](async _0x119538=>{const _0x27d96d=_0x48514e;try{let _0x4d89d4={'_id':_0x119538[_0x27d96d(0x3bb)],'owner':_0x119538[_0x27d96d(0x3cb)],'lastcache':0x0};if(_0x119538[_0x27d96d(0x3db)]!==null&&(_0x4d89d4[_0x27d96d(0x3db)]=_0x119538[_0x27d96d(0x3db)]),_0x119538[_0x27d96d(0x257)]!==null&&(_0x4d89d4[_0x27d96d(0x257)]=_0x119538[_0x27d96d(0x257)]),_0x119538[_0x27d96d(0x378)]!==null&&(_0x4d89d4['contactname']=_0x119538[_0x27d96d(0x378)]),_0x119538[_0x27d96d(0x48f)]!==null&&(_0x4d89d4[_0x27d96d(0x48f)]=_0x119538[_0x27d96d(0x48f)]),_0x119538[_0x27d96d(0x48f)]===null&&(_0x4d89d4['imagechat']=_0x27d96d(0x309)),_0x119538['lastmsg']!==null&&(_0x4d89d4[_0x27d96d(0x745)]=_0x119538[_0x27d96d(0x745)]),_0x119538[_0x27d96d(0x792)]!==null&&(_0x4d89d4[_0x27d96d(0x792)]=_0x119538[_0x27d96d(0x792)]),_0x119538[_0x27d96d(0x57b)]!==null&&(_0x4d89d4[_0x27d96d(0x57b)]=_0x119538[_0x27d96d(0x57b)]),Object[_0x27d96d(0x322)](_0x4d89d4)['length']>0x0)return await this['repository'][_0x27d96d(0x5d1)]['updateOne']({'where':{'_id':_0x119538[_0x27d96d(0x3bb)]}},_0x4d89d4,this[_0x27d96d(0x219)][_0x27d96d(0x321)]);}catch(_0x4d4cda){return console[_0x27d96d(0x16d)](_0x27d96d(0x3bd)+_0x119538[_0x27d96d(0x3bb)]+':',_0x4d4cda),null;}}),_0x253e39=(await Promise[_0x48514e(0x39a)](_0x1351ad))[_0x48514e(0x558)](_0x22e6ae=>_0x22e6ae!==null)[_0x48514e(0x44f)];this[_0x48514e(0x57c)][_0x48514e(0x5b1)](this['instanceName']+'\x20('+this['instance'][_0x48514e(0x321)]+_0x48514e(0x16c)+_0x253e39+_0x48514e(0x55d)+this['instance'][_0x48514e(0x321)]+_0x48514e(0x77a));}}async[a0_0x39ce6a(0x4f0)](_0x2ccc0f){const _0x57518b=a0_0x39ce6a;this[_0x57518b(0x57c)][_0x57518b(0x5b1)](this[_0x57518b(0x168)]+'\x20('+this[_0x57518b(0x219)][_0x57518b(0x321)]+_0x57518b(0x21c));let _0x3da8ce={'readMessages':[{'remoteJid':_0x2ccc0f[_0x57518b(0x26b)][_0x57518b(0x3f6)][_0x57518b(0x3b6)][_0x57518b(0x6b1)],'fromMe':_0x2ccc0f[_0x57518b(0x26b)][_0x57518b(0x3f6)]['key']['fromMe'],'id':_0x2ccc0f[_0x57518b(0x26b)][_0x57518b(0x3f6)][_0x57518b(0x3b6)]['id']}]};await this[_0x57518b(0x2bd)](_0x3da8ce);}async[a0_0x39ce6a(0x3fc)](_0x2eaa3a,_0x34e768){const _0x354205=a0_0x39ce6a;try{let {key:_0xd6eaa4,message_normalized:_0x2b1e48}=_0x34e768,_0x3c8f06=_0x2b1e48,_0x3dcdbb=_0x2b1e48[_0x354205(0x60d)]||_0x2b1e48[_0x354205(0x393)]||_0x2b1e48[_0x354205(0x401)]||_0x2b1e48['name'],_0x45b3a8=_0xd6eaa4[_0x354205(0x6b1)],_0x99633c;if(_0x3c8f06[_0x354205(0x3b6)][_0x354205(0x27d)]&&_0x3dcdbb['trim']()!==this[_0x354205(0x719)]?.[_0x354205(0x29e)]['stopConversation']['trim']())return this[_0x354205(0x57c)]['verbose'](this['instanceName']+'\x20('+this[_0x354205(0x219)][_0x354205(0x321)]+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.'),null;if(_0x3c8f06[_0x354205(0x3b6)][_0x354205(0x27d)]&&_0x3dcdbb[_0x354205(0x597)]()===this[_0x354205(0x719)]?.['flowConfig'][_0x354205(0x4a5)][_0x354205(0x597)]()){this[_0x354205(0x57c)][_0x354205(0x5b1)](this[_0x354205(0x168)]+'\x20('+this[_0x354205(0x219)]['wuid']+_0x354205(0x66d));let _0x771e20=await this[_0x354205(0x422)][_0x354205(0x1d8)][_0x354205(0x280)]({'remoteJid':_0x45b3a8,'status':'open'},this[_0x354205(0x219)]['wuid']);this[_0x354205(0x57c)][_0x354205(0x5b1)](this[_0x354205(0x168)]+'\x20('+this[_0x354205(0x219)][_0x354205(0x321)]+'):\x20Conversas\x20encontradas:'+_0x771e20);let _0x5f517b=Date['now'](),_0x107b62;return this[_0x354205(0x719)]?.[_0x354205(0x29e)][_0x354205(0x6af)]===0x0?_0x107b62={'stoppedUntil':_0x5f517b+0x7591f6200}:_0x107b62={'stoppedUntil':_0x5f517b+this[_0x354205(0x719)]?.[_0x354205(0x29e)]['stopMinutes']*0x3c*0x3e8},this[_0x354205(0x57c)]['verbose'](this[_0x354205(0x168)]+'\x20('+this['instance']['wuid']+_0x354205(0x330)+_0x107b62),this[_0x354205(0x339)](_0x99633c,_0x107b62[_0x354205(0x708)]),null;}if(_0x3dcdbb&&_0x3dcdbb[_0x354205(0x511)](this[_0x354205(0x719)]?.[_0x354205(0x29e)][_0x354205(0x6f6)])&&_0x3dcdbb[_0x354205(0x44f)]>0x4){let _0x896470=await this[_0x354205(0x422)][_0x354205(0x506)]['findOne']({'where':{'startCommandWord':_0x3dcdbb}},this[_0x354205(0x219)][_0x354205(0x321)]);if(this[_0x354205(0x57c)]['verbose'](this[_0x354205(0x168)]+'\x20('+this[_0x354205(0x219)][_0x354205(0x321)]+_0x354205(0x30c)),_0x896470)_0x99633c=await this['createNewConversation'](_0x896470,_0x3c8f06['key'],_0x3c8f06);else return this['logger'][_0x354205(0x5b1)](this[_0x354205(0x168)]+'\x20('+this[_0x354205(0x219)][_0x354205(0x321)]+_0x354205(0x79a)),null;}else _0x99633c=await this[_0x354205(0x56a)](_0x45b3a8,_0x3c8f06);if(_0x99633c){this[_0x354205(0x57c)][_0x354205(0x5b1)](this['instanceName']+'\x20('+this[_0x354205(0x219)][_0x354205(0x321)]+_0x354205(0x51c)),!_0xd6eaa4[_0x354205(0x27d)]&&_0x99633c['readMessages']&&this[_0x354205(0x4f0)](_0x99633c);let _0x4953a1=await this[_0x354205(0x260)](_0x99633c);_0x4953a1&&await this[_0x354205(0x1df)](_0x99633c,_0x4953a1);}}catch(_0x1a3351){this[_0x354205(0x57c)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x354205(0x164)+(_0x1a3351 instanceof Error?_0x1a3351[_0x354205(0x1f0)]:JSON[_0x354205(0x613)](_0x1a3351,null,0x2)));}}[a0_0x39ce6a(0x3c2)](_0xd12062,_0x130d3='',_0x406841={},_0x74fefb=!0x0){const _0x3d3654=a0_0x39ce6a;for(let _0x14b11f in _0xd12062){let _0x3fc1f4=_0x74fefb?'_'+_0x14b11f:''+_0x130d3+_0x14b11f;typeof _0xd12062[_0x14b11f]==_0x3d3654(0x4e1)&&_0xd12062[_0x14b11f]!==null?this[_0x3d3654(0x3c2)](_0xd12062[_0x14b11f],_0x3fc1f4+'.',_0x406841,!0x1):_0x406841[_0x3fc1f4]=String(_0xd12062[_0x14b11f]);}return _0x406841;}[a0_0x39ce6a(0x2f4)](_0x4ace45){const _0x13646f=a0_0x39ce6a;let _0x2970f3={};for(let _0x5371cc of _0x4ace45)typeof _0x5371cc['name']==_0x13646f(0x5d6)&&typeof _0x5371cc[_0x13646f(0x324)]==_0x13646f(0x5d6)&&(_0x2970f3[_0x5371cc[_0x13646f(0x257)]]=_0x5371cc[_0x13646f(0x324)]);return _0x2970f3;}async[a0_0x39ce6a(0x260)](_0xcebab5){const _0x33d32f=a0_0x39ce6a;if(!this[_0x33d32f(0x719)]?.[_0x33d32f(0x29e)][_0x33d32f(0x4fb)]||_0xcebab5[_0x33d32f(0x162)]!==_0x33d32f(0x606)&&_0xcebab5[_0x33d32f(0x395)]==='')return null;let _0x2a2211=_0xcebab5[_0x33d32f(0x26b)][_0x33d32f(0x76a)]||_0x33d32f(0x4c9);typeof _0xcebab5['chatLog'][_0x33d32f(0x5cd)]>'u'&&(_0xcebab5[_0x33d32f(0x26b)][_0x33d32f(0x5cd)]=!0x0);let _0x1ddd4a=_0xcebab5[_0x33d32f(0x26b)]['lastCondition'];this[_0x33d32f(0x57c)]['verbose'](this[_0x33d32f(0x168)]+'\x20('+this[_0x33d32f(0x219)][_0x33d32f(0x321)]+_0x33d32f(0x4d0)+_0x2a2211+_0x33d32f(0x576)+_0x1ddd4a);let _0xe7a5ad=_0x2a2211===_0x33d32f(0x4c9)?_0xcebab5[_0x33d32f(0x292)]['find'](_0x414528=>_0x414528[_0x33d32f(0x432)]===_0x33d32f(0x4c9)):_0xcebab5[_0x33d32f(0x292)]['find'](_0x457e08=>_0x457e08[_0x33d32f(0x3bb)]['toString']()===_0x2a2211[_0x33d32f(0x30b)]());if(!_0xe7a5ad)return this[_0x33d32f(0x57c)]['error'](this[_0x33d32f(0x168)]+'\x20('+this[_0x33d32f(0x219)][_0x33d32f(0x321)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x2a2211),null;let _0x275bbc={'_pushName':_0xcebab5[_0x33d32f(0x26b)][_0x33d32f(0x3f6)][_0x33d32f(0x3ae)],..._0xcebab5[_0x33d32f(0x26b)][_0x33d32f(0x295)]},_0x461920=null;if(_0xcebab5[_0x33d32f(0x395)]){let _0x523f46=_0xcebab5[_0x33d32f(0x26b)][_0x33d32f(0x3f6)][_0x33d32f(0x401)],_0x24258a=_0xcebab5[_0x33d32f(0x20d)][_0x33d32f(0x280)](_0x4adf52=>_0x4adf52[_0x33d32f(0x632)]===_0x523f46);if(_0x24258a){let _0x59c90d=_0x24258a[_0x33d32f(0x461)];if(_0x461920=_0xcebab5[_0x33d32f(0x292)]['find'](_0x26d7cf=>_0x26d7cf[_0x33d32f(0x627)]===_0x59c90d&&_0x26d7cf[_0x33d32f(0x57a)]===0x1),_0xe7a5ad[_0x33d32f(0x54d)][_0x33d32f(0x594)]){let _0x12471e={'id':_0xcebab5[_0x33d32f(0x395)],'remoteJid':_0xcebab5[_0x33d32f(0x6b1)],'fromMe':!0x0};await this['deleteMessage'](_0x12471e);}if(_0xe7a5ad[_0x33d32f(0x54d)][_0x33d32f(0x594)]&&_0xe7a5ad[_0x33d32f(0x54d)][_0x33d32f(0x574)]&&_0xe7a5ad[_0x33d32f(0x54d)]['menuType']==='poll'){let _0xc2b9a4={'number':_0xcebab5[_0x33d32f(0x6b1)],'options':{'delay':0x0},'textMessage':{'text':_0x33d32f(0x3c9)+_0xcebab5[_0x33d32f(0x1da)]+_0x33d32f(0x4c5)+_0x523f46}};await this[_0x33d32f(0x612)](_0xc2b9a4);}_0xcebab5[_0x33d32f(0x162)]='open',_0xcebab5[_0x33d32f(0x395)]='',_0xcebab5[_0x33d32f(0x1da)]='',_0xcebab5['waitingMenu_replyOptions']=[];}else{this['logger'][_0x33d32f(0x5b1)](this[_0x33d32f(0x168)]+'\x20('+this[_0x33d32f(0x219)][_0x33d32f(0x321)]+_0x33d32f(0x5de));let _0x2d184b={'activatedCount':_0xcebab5[_0x33d32f(0x26b)][_0x33d32f(0x73a)]['filter'](_0x4b2ce6=>String(_0x4b2ce6[_0x33d32f(0x1b8)])===String(_0x2a2211))[_0x33d32f(0x44f)],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0xe7a5ad[_0x33d32f(0x54d)][_0x33d32f(0x4d8)]){let _0x576de6={'number':_0xcebab5[_0x33d32f(0x6b1)],'options':{'delay':0x0},'textMessage':{'text':_0xe7a5ad[_0x33d32f(0x54d)]['pollErrorMessage']}};await this[_0x33d32f(0x612)](_0x576de6);}if(_0xe7a5ad[_0x33d32f(0x70e)]!==void 0x0&&_0x2d184b['activatedCount']>=_0xe7a5ad['maxActives']){let _0x3d0bf2=Date[_0x33d32f(0x2b9)](),_0x4ded39=_0xe7a5ad[_0x33d32f(0x601)]??0xa;isNaN(_0x4ded39)&&(_0x4ded39=0xa);let _0x29243a=_0x3d0bf2+_0x4ded39*0x3c*0x3e8;_0x2d184b[_0x33d32f(0x48a)]=_0x29243a,_0x2d184b[_0x33d32f(0x386)][_0x33d32f(0x41f)]('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this['updateStopChat'](_0xcebab5,_0x29243a),_0xcebab5[_0x33d32f(0x395)]='',_0xcebab5[_0x33d32f(0x1da)]='',_0xcebab5[_0x33d32f(0x20d)]=[];}return this[_0x33d32f(0x68b)](_0xcebab5,_0xe7a5ad,_0x2d184b,!0x0),null;}}if(_0x1ddd4a&&_0xe7a5ad[_0x33d32f(0x461)]&&!_0xcebab5[_0x33d32f(0x395)]){let _0x287157=_0xcebab5[_0x33d32f(0x292)][_0x33d32f(0x558)](_0x480c4d=>_0x480c4d['groupId'][_0x33d32f(0x30b)]()===_0xe7a5ad[_0x33d32f(0x461)]['toString']())['sort']((_0x5123f0,_0x84879a)=>_0x5123f0[_0x33d32f(0x57a)]-_0x84879a[_0x33d32f(0x57a)]);_0x287157[_0x33d32f(0x44f)]>0x0&&(_0x461920=_0x287157[0x0]);}if(!_0x461920){let _0x4f1fab=_0xe7a5ad[_0x33d32f(0x627)],_0x43ef7c=_0xcebab5[_0x33d32f(0x292)]['filter'](_0x1e9823=>_0x1e9823[_0x33d32f(0x627)]===_0x4f1fab&&_0x1e9823[_0x33d32f(0x57a)]>_0xe7a5ad[_0x33d32f(0x57a)])['sort']((_0x259bc5,_0x585518)=>_0x259bc5[_0x33d32f(0x57a)]-_0x585518['order']);_0x43ef7c['length']>0x0&&(_0x461920=_0x43ef7c[0x0]);}if(!_0x461920)return _0xcebab5['status']=_0x33d32f(0x37c),null;_0xcebab5['chatLog'][_0x33d32f(0x295)]=_0x275bbc;let _0x33e3b0=JSON['parse'](JSON[_0x33d32f(0x613)](_0x461920));return this[_0x33d32f(0x27e)](_0x33e3b0,_0xcebab5['chatLog']['realVariables']),_0xcebab5[_0x33d32f(0x26b)]['lastBlockId']=_0x33e3b0[_0x33d32f(0x3bb)],_0xcebab5[_0x33d32f(0x26b)][_0x33d32f(0x5cd)]=!0x0,_0x33e3b0;}[a0_0x39ce6a(0x6d8)](_0x439d19,_0x4be62a){const _0x34e4eb=a0_0x39ce6a;return _0x439d19[_0x34e4eb(0x214)](/\{\{([^}]+)\}\}/g,(_0x20f169,_0x21a310)=>_0x4be62a[_0x21a310]||'');}[a0_0x39ce6a(0x27e)](_0x4d8967,_0x40c2dc){const _0x49ffa8=a0_0x39ce6a;for(let _0x86acef in _0x4d8967)typeof _0x4d8967[_0x86acef]==_0x49ffa8(0x5d6)?_0x4d8967[_0x86acef]=this['replaceVariables'](_0x4d8967[_0x86acef],_0x40c2dc):typeof _0x4d8967[_0x86acef]=='object'&&this[_0x49ffa8(0x27e)](_0x4d8967[_0x86acef],_0x40c2dc);}async['goNextblock'](_0x32940b,_0x4af015){const _0x7a5160=a0_0x39ce6a;let _0x2008f0=_0x4af015['_id'];if(_0x32940b['chatLog']&&_0x32940b[_0x7a5160(0x26b)]['blockLogs']){let _0x434c77=_0x32940b[_0x7a5160(0x26b)][_0x7a5160(0x73a)]['filter'](_0x188ef0=>String(_0x188ef0['blockId'])===String(_0x2008f0))[_0x7a5160(0x439)]();if(_0x434c77&&_0x434c77[_0x7a5160(0x16d)]&&_0x4af015['stopIfLastReturnedError'])return _0x32940b['status']='closed',await this['saveConversationToDatabase'](_0x32940b),null;}if(_0x4af015[_0x7a5160(0x432)]==='uazapi'&&_0x4af015[_0x7a5160(0x54d)][_0x7a5160(0x407)]===_0x7a5160(0x6dd)&&_0x32940b[_0x7a5160(0x395)])return _0x32940b['chatLog'][_0x7a5160(0x76a)]=_0x2008f0,await this[_0x7a5160(0x1a5)](_0x32940b),null;let _0x1aa459=await this[_0x7a5160(0x260)](_0x32940b);if(_0x32940b[_0x7a5160(0x26b)]&&_0x32940b['chatLog'][_0x7a5160(0x73a)]){let _0x1a7373=_0x32940b['chatLog'][_0x7a5160(0x73a)][_0x7a5160(0x558)](_0x414fc1=>String(_0x414fc1[_0x7a5160(0x1b8)])===String(_0x2008f0))[_0x7a5160(0x44f)];if(_0x4af015['maxActives']!==void 0x0&&_0x1a7373>=_0x4af015[_0x7a5160(0x70e)]){let _0x26b426=Date[_0x7a5160(0x2b9)](),_0x8e6a22=_0x4af015[_0x7a5160(0x601)]??0xa;isNaN(_0x8e6a22)&&(_0x8e6a22=0xa);let _0x58154a=_0x26b426+_0x8e6a22*0x3c*0x3e8,_0x127d2d={'newStoppedUntil':_0x58154a};return this[_0x7a5160(0x339)](_0x32940b,_0x58154a),this['updateConversation'](_0x32940b,_0x4af015,_0x127d2d,!0x0),null;}}_0x1aa459&&_0x1aa459[_0x7a5160(0x432)]!=='save'&&await this['processblock'](_0x32940b,_0x1aa459),_0x1aa459||await this[_0x7a5160(0x1a5)](_0x32940b),_0x1aa459&&_0x1aa459[_0x7a5160(0x432)]===_0x7a5160(0x53c)&&(_0x32940b[_0x7a5160(0x26b)][_0x7a5160(0x76a)]=_0x2008f0,await this[_0x7a5160(0x1a5)](_0x32940b));}async[a0_0x39ce6a(0x1df)](_0x15fc3b,_0x1c9f70){const _0x3f679b=a0_0x39ce6a;try{let _0x30bbb6=_0x1c9f70[_0x3f679b(0x432)];this[_0x3f679b(0x57c)][_0x3f679b(0x5b1)](this[_0x3f679b(0x168)]+'\x20('+this[_0x3f679b(0x219)][_0x3f679b(0x321)]+_0x3f679b(0x56f)+_0x30bbb6);let _0x43a1f4={'uazapi':()=>this[_0x3f679b(0x400)](_0x15fc3b,_0x1c9f70),'save':()=>this['saveTextReply'](_0x15fc3b,_0x1c9f70),'stop':()=>this[_0x3f679b(0x4a5)](_0x15fc3b,_0x1c9f70),'condition':()=>this[_0x3f679b(0x582)](_0x15fc3b,_0x1c9f70),'varedit':()=>this[_0x3f679b(0x1db)](_0x15fc3b,_0x1c9f70),'apirequest':()=>this[_0x3f679b(0x6be)](_0x15fc3b,_0x1c9f70),'goToFlow':()=>this[_0x3f679b(0x353)](_0x15fc3b,_0x1c9f70)}[_0x30bbb6];_0x43a1f4&&await _0x43a1f4();}catch(_0x3a9c0a){this['logger'][_0x3f679b(0x16d)](this[_0x3f679b(0x168)]+'\x20('+this[_0x3f679b(0x219)][_0x3f679b(0x321)]+_0x3f679b(0x427)+(_0x3a9c0a instanceof Error?_0x3a9c0a['message']:JSON[_0x3f679b(0x613)](_0x3a9c0a,null,0x2)));}}async[a0_0x39ce6a(0x353)](_0x11508,_0x360f){const _0x479b8c=a0_0x39ce6a;if(this[_0x479b8c(0x57c)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x479b8c(0x1fe)),!_0x11508||!_0x360f)return this[_0x479b8c(0x57c)][_0x479b8c(0x16d)](this[_0x479b8c(0x168)]+'\x20('+this['instance'][_0x479b8c(0x321)]+_0x479b8c(0x28d)),null;await this[_0x479b8c(0x68b)](_0x11508,_0x360f,{},!0x0,!0x0),console[_0x479b8c(0x4e5)](_0x479b8c(0x36e)),console[_0x479b8c(0x4e5)](_0x360f);let _0x1aa9f1=_0x360f[_0x479b8c(0x366)];console[_0x479b8c(0x4e5)]('flowname:\x20',_0x1aa9f1),_0x11508=await this[_0x479b8c(0x3f3)](_0x1aa9f1,_0x11508[_0x479b8c(0x6b1)],_0x11508[_0x479b8c(0x26b)][_0x479b8c(0x295)]),this[_0x479b8c(0x57c)][_0x479b8c(0x5b1)](this['instanceName']+'\x20('+this[_0x479b8c(0x219)][_0x479b8c(0x321)]+_0x479b8c(0x489));let _0x2431da=await this[_0x479b8c(0x260)](_0x11508);_0x2431da&&await this['processblock'](_0x11508,_0x2431da);}async['createConversationforgoToFlow'](_0x55bd08,_0x32a60f,_0x5e71d0){const _0x4b8320=a0_0x39ce6a;this[_0x4b8320(0x57c)]['verbose'](this[_0x4b8320(0x168)]+'\x20('+this[_0x4b8320(0x219)][_0x4b8320(0x321)]+_0x4b8320(0x541));try{if(_0x55bd08=await this[_0x4b8320(0x422)][_0x4b8320(0x506)]['findOne']({'where':{'name':_0x55bd08}},this['instance'][_0x4b8320(0x321)]),!_0x55bd08)return this[_0x4b8320(0x57c)]['error'](this[_0x4b8320(0x168)]+'\x20('+this[_0x4b8320(0x219)][_0x4b8320(0x321)]+_0x4b8320(0x7bb)),null;let _0x1dd86a=require(_0x4b8320(0x22a))[_0x4b8320(0x217)],_0x3dbaec=Date[_0x4b8320(0x2b9)](),_0x3057cf=_0x4b8320(0x4c9),_0x50a9a2={},_0x53608c={},_0x168ed1={..._0x55bd08,'chatLog':null},_0x56649c={'lastReceivedMessage':_0x50a9a2,'lastSendMessage':_0x53608c,'lastBlockId':_0x3057cf,'lastCondition':!0x0,'realVariables':_0x5e71d0};_0x168ed1[_0x4b8320(0x26b)]=_0x56649c,_0x168ed1[_0x4b8320(0x26b)][_0x4b8320(0x295)]={..._0x5e71d0},delete _0x168ed1[_0x4b8320(0x3bb)],_0x168ed1[_0x4b8320(0x3bb)]=new _0x1dd86a(),_0x168ed1['lastInteraction']=_0x3dbaec,_0x168ed1['status']=_0x4b8320(0x606),_0x168ed1['remoteJid']=_0x32a60f;let _0x5e9f7a=await this['repository'][_0x4b8320(0x1d8)]['updateOne'](_0x168ed1['_id'],_0x168ed1,this['instance']['wuid']);return this[_0x4b8320(0x57c)][_0x4b8320(0x5b1)](this['instanceName']+'\x20('+this[_0x4b8320(0x219)][_0x4b8320(0x321)]+_0x4b8320(0x35a)),_0x5e9f7a?_0x168ed1:null;}catch(_0x386f5e){throw this[_0x4b8320(0x57c)][_0x4b8320(0x16d)](this[_0x4b8320(0x168)]+'\x20('+this[_0x4b8320(0x219)]['wuid']+_0x4b8320(0x32d)+(_0x386f5e instanceof Error?_0x386f5e[_0x4b8320(0x1f0)]:JSON['stringify'](_0x386f5e,null,0x2))),new w(_0x386f5e[_0x4b8320(0x1f0)]);}}async[a0_0x39ce6a(0x6be)](_0x4823e1,_0x41a5a7){const _0x4ef88=a0_0x39ce6a;let _0x231c63,_0x89432;try{let _0x142e24=_0x41a5a7[_0x4ef88(0x1d6)];if(!_0x142e24||!_0x142e24['url']||!_0x142e24[_0x4ef88(0x52c)])throw new Error(_0x4ef88(0x277));let _0x230915;([_0x4ef88(0x40a),_0x4ef88(0x77b),'https://api.elevenlabs.io/v1/text-to-speech/'][_0x4ef88(0x51e)](_0x1ea2dc=>_0x142e24['url'][_0x4ef88(0x49a)](_0x1ea2dc))||_0x142e24[_0x4ef88(0x1fa)])&&(_0x230915='arraybuffer');let _0x1ee4da={'method':_0x142e24[_0x4ef88(0x52c)],'url':_0x142e24[_0x4ef88(0x758)],'headers':_0x142e24[_0x4ef88(0x5ee)]||{},'data':_0x142e24['body']||{},..._0x230915&&{'responseType':_0x230915}},_0x45b59d=await(0x0,se[_0x4ef88(0x6b8)])(_0x1ee4da),_0x915d2a=_0x45b59d[_0x4ef88(0x367)][_0x4ef88(0x3d3)];if(_0x915d2a&&_0x915d2a['includes']('application/json')){_0x231c63=_0x45b59d[_0x4ef88(0x34d)];let _0x64ca3f=_0x4823e1[_0x4ef88(0x26b)][_0x4ef88(0x295)],_0x178194=this[_0x4ef88(0x3c2)](_0x231c63);return Object[_0x4ef88(0x5f0)](_0x64ca3f,_0x178194),_0x4823e1[_0x4ef88(0x26b)]['realVariables']=_0x64ca3f,_0x89432={'error':!0x1,'apiResponse':_0x231c63},this[_0x4ef88(0x68b)](_0x4823e1,_0x41a5a7,_0x89432),_0x231c63;}if(_0x915d2a&&(_0x915d2a['includes'](_0x4ef88(0x6d7))||_0x915d2a[_0x4ef88(0x49a)]('image')||_0x915d2a[_0x4ef88(0x49a)](_0x4ef88(0x220))||_0x915d2a[_0x4ef88(0x49a)](_0x4ef88(0x532)))){this[_0x4ef88(0x57c)][_0x4ef88(0x5b1)](this[_0x4ef88(0x168)]+'\x20('+this[_0x4ef88(0x219)][_0x4ef88(0x321)]+'):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20'+_0x915d2a);let _0x406c17=(0x0,Me['v4'])(),_0x4e6ed3='',_0x262469={'image/jpeg':_0x4ef88(0x14a),'image/png':_0x4ef88(0x721),'image/gif':'.gif','image/webp':_0x4ef88(0x7b4),'image/svg+xml':_0x4ef88(0x419),'audio/mpeg':_0x4ef88(0x6bb),'audio/ogg':_0x4ef88(0x73f),'audio/wav':'.wav','video/mp4':_0x4ef88(0x291),'video/webm':_0x4ef88(0x59d),'video/ogg':_0x4ef88(0x2af),'text/plain':'.txt','application/pdf':_0x4ef88(0x376),'application/msword':'.doc','application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x4ef88(0x58a),'application/vnd.ms-excel':_0x4ef88(0x6fc),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':'.xlsx','application/vnd.ms-powerpoint':_0x4ef88(0x6c1),'application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x262469[_0x915d2a]?(_0x4e6ed3=_0x262469[_0x915d2a],this[_0x4ef88(0x57c)][_0x4ef88(0x5b1)](this[_0x4ef88(0x168)]+'\x20('+this['instance'][_0x4ef88(0x321)]+_0x4ef88(0x7a3)+_0x4e6ed3)):(_0x4e6ed3=_0x4ef88(0x564),this[_0x4ef88(0x57c)][_0x4ef88(0x5b1)](this[_0x4ef88(0x168)]+'\x20('+this[_0x4ef88(0x219)][_0x4ef88(0x321)]+_0x4ef88(0x533)+_0x4e6ed3)),_0x406c17+=_0x4e6ed3,this[_0x4ef88(0x57c)][_0x4ef88(0x5b1)](this[_0x4ef88(0x168)]+'\x20('+this['instance'][_0x4ef88(0x321)]+_0x4ef88(0x2ca)+_0x406c17);let _0x3ad825=this['configService'][_0x4ef88(0x2b4)](_0x4ef88(0x1a6))[_0x4ef88(0x4cb)];if(!_0x3ad825){let _0x91d50f=this[_0x4ef88(0x1e7)]['get'](_0x4ef88(0x19a));_0x3ad825='https://'+(_0x91d50f&&_0x91d50f[_0x4ef88(0x3e5)][_0x4ef88(0x154)]('/')[0x4]);}let _0x201b3d=Buffer[_0x4ef88(0x43c)](_0x45b59d[_0x4ef88(0x34d)]);await this[_0x4ef88(0x2eb)](_0x201b3d,_0x406c17);let _0x112e1c='/media/'+_0x406c17;_0x112e1c=''+_0x3ad825+_0x112e1c,_0x231c63={'fileUrl':_0x112e1c},_0x4823e1[_0x4ef88(0x26b)][_0x4ef88(0x295)][_0x4ef88(0x24f)]=_0x112e1c;let _0x34cb55=_0x4823e1[_0x4ef88(0x26b)]['realVariables'],_0x546ddd=this[_0x4ef88(0x3c2)](_0x231c63);return Object[_0x4ef88(0x5f0)](_0x34cb55,_0x546ddd),_0x4823e1['chatLog'][_0x4ef88(0x295)]=_0x34cb55,_0x89432={'error':!0x1,'apiResponse':{'fileUrl':_0x112e1c}},this[_0x4ef88(0x68b)](_0x4823e1,_0x41a5a7,_0x89432),_0x231c63;}}catch(_0x208cd4){console[_0x4ef88(0x16d)](_0x4ef88(0x62a),_0x208cd4),_0x208cd4[_0x4ef88(0x305)]&&(_0x231c63=_0x208cd4['response'][_0x4ef88(0x34d)]);let _0x14d4a0=_0x4823e1[_0x4ef88(0x26b)][_0x4ef88(0x295)],_0x3a29a8=this[_0x4ef88(0x3c2)](_0x231c63);return Object[_0x4ef88(0x5f0)](_0x14d4a0,_0x3a29a8),_0x4823e1[_0x4ef88(0x26b)]['realVariables']=_0x14d4a0,_0x89432={'error':!0x0,'errorLog':_0x208cd4[_0x4ef88(0x30b)](),'apiResponse':_0x231c63},this[_0x4ef88(0x68b)](_0x4823e1,_0x41a5a7,_0x89432),{'success':!0x1};}}[a0_0x39ce6a(0x6ff)](_0x5197a6,_0x17fca1){const _0x3844f6=a0_0x39ce6a;let _0x2527eb=_0x5b2e63=>{const _0x3a8e20=a0_0x4226;let _0x2d53b6=_0x5b2e63[_0x3a8e20(0x214)](/[^0-9.,-]/g,'')[_0x3a8e20(0x214)](',','.'),_0x291bdc=parseFloat(_0x2d53b6);return isNaN(_0x291bdc)?null:_0x291bdc;},_0x45f36a=_0x17fca1[_0x3844f6(0x311)],_0x5eb0f6=_0x17fca1[_0x3844f6(0x4e9)];typeof _0x45f36a==_0x3844f6(0x5d6)&&(_0x45f36a=this[_0x3844f6(0x6d8)](_0x45f36a,_0x5197a6['chatLog'][_0x3844f6(0x295)])??''),typeof _0x5eb0f6==_0x3844f6(0x5d6)&&(_0x5eb0f6=this['replaceVariables'](_0x5eb0f6,_0x5197a6['chatLog'][_0x3844f6(0x295)])??'');let _0x163bf4=null;if(!_0x17fca1[_0x3844f6(0x6d2)])return null;switch(this['logger'][_0x3844f6(0x5b1)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3844f6(0x2dc)+_0x45f36a),this[_0x3844f6(0x57c)]['verbose'](this[_0x3844f6(0x168)]+'\x20('+this[_0x3844f6(0x219)][_0x3844f6(0x321)]+_0x3844f6(0x779)+_0x5eb0f6),_0x17fca1['editOperator']){case'+':case'-':case'*':case'/':let _0x4437ba=_0x2527eb(_0x45f36a||'0'),_0x2d6fcc=_0x2527eb(_0x5eb0f6||'0');if(_0x4437ba===null)return null;switch(_0x17fca1['editOperator']){case'+':_0x163bf4=_0x4437ba+(_0x2d6fcc??0x0);break;case'-':_0x163bf4=_0x4437ba-(_0x2d6fcc??0x0);break;case'*':_0x163bf4=_0x4437ba*(_0x2d6fcc??0x1);break;case'/':_0x2d6fcc!==0x0&&(_0x163bf4=_0x4437ba/(_0x2d6fcc??0x1));break;}break;case _0x3844f6(0x294):case'findAndReplaceRegex':let _0x3b04b9=_0x5eb0f6,_0x296248=_0x17fca1[_0x3844f6(0x584)];if(typeof _0x296248==_0x3844f6(0x5d6)&&(_0x296248=this['replaceVariables'](_0x296248,_0x5197a6[_0x3844f6(0x26b)]['realVariables'])??''),_0x3b04b9&&_0x296248!==void 0x0){let _0x539593=_0x17fca1['editOperator']===_0x3844f6(0x294)?new RegExp(_0x3b04b9['replace'](/[-\/\\^$*+?.()|[\]{}]/g,_0x3844f6(0x18a)),'g'):new RegExp(_0x3b04b9,'g');_0x163bf4=_0x45f36a[_0x3844f6(0x214)](_0x539593,_0x296248);}else console[_0x3844f6(0x18f)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case _0x3844f6(0x4a1):_0x163bf4=_0x5eb0f6;break;case _0x3844f6(0x2a9):let _0xf015ed=_0x45f36a['match'](new RegExp(_0x5eb0f6||''));_0x163bf4=_0xf015ed?_0xf015ed[0x0]:'';break;case _0x3844f6(0x472):_0x163bf4=_0x45f36a[_0x3844f6(0x3bf)](0x0,parseInt(_0x5eb0f6||'0'));break;case _0x3844f6(0x187):let _0x3fe2dd=parseInt(_0x5eb0f6||'0');_0x163bf4=_0x45f36a['slice'](_0x45f36a[_0x3844f6(0x44f)]-_0x3fe2dd);break;case _0x3844f6(0x47f):let _0x5db4d1=_0x2527eb(_0x45f36a),_0x3bf18c=parseInt(_0x5eb0f6||'0');_0x3bf18c=Math['abs'](_0x3bf18c),_0x5db4d1!==null?_0x163bf4=_0x5db4d1[_0x3844f6(0x54e)](_0x3844f6(0x316),{'minimumFractionDigits':_0x3bf18c,'maximumFractionDigits':_0x3bf18c}):(console[_0x3844f6(0x18f)](_0x3844f6(0x538)+_0x45f36a),_0x163bf4=null);break;case _0x3844f6(0x4a9):let _0x426b9e=_0x2527eb(_0x45f36a);_0x426b9e!==null?_0x163bf4=_0x426b9e['toLocaleString'](_0x3844f6(0x316),{'style':_0x3844f6(0x4dd),'currency':'BRL'}):(console[_0x3844f6(0x18f)]('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x45f36a),_0x163bf4=null);break;case _0x3844f6(0x1d9):_0x163bf4=_0x45f36a['toUpperCase']();break;case'lowerCase':_0x163bf4=_0x45f36a[_0x3844f6(0x6bf)]();break;case _0x3844f6(0x5f4):_0x163bf4=_0x45f36a['split']('\x20')[_0x3844f6(0x477)](_0x4b971d=>_0x4b971d[_0x3844f6(0x5e5)](0x0)[_0x3844f6(0x3aa)]()+_0x4b971d[_0x3844f6(0x3bf)](0x1)['toLowerCase']())[_0x3844f6(0x4dc)]('\x20');break;case _0x3844f6(0x3c6):_0x163bf4=_0x45f36a['trim']();break;default:_0x163bf4=_0x45f36a;}return _0x163bf4!==null?_0x163bf4[_0x3844f6(0x30b)]():null;}async[a0_0x39ce6a(0x1db)](_0xbddea4,_0x57f57b){const _0xb4306a=a0_0x39ce6a;try{let _0x427481=_0xbddea4[_0xb4306a(0x3dd)]?.[_0xb4306a(0x558)](_0x432e84=>_0x432e84['blockId']===_0x57f57b[_0xb4306a(0x3bb)]?.[_0xb4306a(0x30b)]())||[],_0x52ffa6=_0x57f57b[_0xb4306a(0x1c5)],_0x9370fb=null,_0x4dcce8=[],_0x6dd6a6=_0xbddea4[_0xb4306a(0x26b)][_0xb4306a(0x295)][_0x52ffa6];_0x4dcce8[_0xb4306a(0x41f)](_0xb4306a(0x547)+_0x6dd6a6+'\x22');for(let _0xd41d14 of _0x427481){_0xd41d14[_0xb4306a(0x311)]=_0x6dd6a6,_0x9370fb=_0xd41d14[_0xb4306a(0x311)];let _0x303e37;try{_0x303e37=this[_0xb4306a(0x6ff)](_0xbddea4,_0xd41d14);}catch(_0x1a34ea){console[_0xb4306a(0x16d)](_0xb4306a(0x497)+_0x1a34ea[_0xb4306a(0x1f0)]);continue;}if(_0x303e37!==null){let _0x50c8ce=_0xb4306a(0x312)+_0xd41d14[_0xb4306a(0x6d2)]+'\x22',_0x2ab22f=[_0xb4306a(0x4a9),'upperCase',_0xb4306a(0x509),_0xb4306a(0x5f4),_0xb4306a(0x3c6)];_0xd41d14[_0xb4306a(0x6d2)]==='findAndReplace'||_0xd41d14[_0xb4306a(0x6d2)]===_0xb4306a(0x50d)?_0x50c8ce+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0xd41d14['secondValue']+_0xb4306a(0x39b)+_0xd41d14[_0xb4306a(0x584)]+'\x22':!_0x2ab22f[_0xb4306a(0x49a)](_0xd41d14[_0xb4306a(0x6d2)])&&_0xd41d14[_0xb4306a(0x4e9)]!==null&&_0xd41d14[_0xb4306a(0x4e9)]!==void 0x0&&(_0x50c8ce+=_0xb4306a(0x425)+_0xd41d14[_0xb4306a(0x4e9)]+'\x22'),_0x50c8ce+=_0xb4306a(0x616)+_0x303e37+'.',_0x4dcce8['push'](_0x50c8ce);}_0x303e37!==null&&(_0x6dd6a6=_0x303e37);}if(_0xbddea4[_0xb4306a(0x26b)][_0xb4306a(0x295)]&&_0x57f57b[_0xb4306a(0x1c5)]){_0xbddea4[_0xb4306a(0x26b)][_0xb4306a(0x295)][_0x57f57b[_0xb4306a(0x1c5)]]=_0x6dd6a6;let _0x43cbd5={'variable':_0x57f57b[_0xb4306a(0x1c5)],'oldValue':_0x9370fb,'newValue':_0x6dd6a6,'moreLogs':_0x4dcce8};try{this[_0xb4306a(0x68b)](_0xbddea4,_0x57f57b,_0x43cbd5);}catch(_0x21773d){console[_0xb4306a(0x16d)]('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x21773d['message']);}}return _0x52ffa6;}catch(_0x2d36b2){return console[_0xb4306a(0x16d)](_0xb4306a(0x190)+_0x2d36b2[_0xb4306a(0x1f0)]),null;}}async[a0_0x39ce6a(0x582)](_0x122858,_0x40c379){const _0x71974a=a0_0x39ce6a;try{let _0x1781e4=[],_0x5adb17=_0x122858[_0x71974a(0x410)]['filter'](_0x1ac901=>_0x1ac901['blockId']===_0x40c379[_0x71974a(0x3bb)][_0x71974a(0x30b)]()),_0x803ec0=null,_0x48d30c=!0x1;for(let _0x8bb2d4 of _0x5adb17){let _0x53e0a0=this[_0x71974a(0x7b0)](_0x122858,_0x8bb2d4);_0x1781e4[_0x71974a(0x41f)]('Primeiro\x20Valor:\x20'+_0x8bb2d4[_0x71974a(0x311)]+_0x71974a(0x4bf)+_0x8bb2d4[_0x71974a(0x6b9)]+_0x71974a(0x695)+_0x8bb2d4[_0x71974a(0x4e9)]+_0x71974a(0x6a4)+_0x53e0a0),_0x803ec0===null?_0x803ec0=_0x53e0a0:_0x8bb2d4[_0x71974a(0x166)]==='and'?(_0x803ec0=_0x803ec0&&_0x53e0a0,_0x53e0a0||(_0x48d30c=!0x0)):_0x8bb2d4[_0x71974a(0x166)]==='or'&&(_0x48d30c||(_0x803ec0=_0x803ec0||_0x53e0a0));}_0x803ec0===null&&(_0x803ec0=!0x0);let _0x4e390f={'moreLogs':_0x1781e4};_0x122858[_0x71974a(0x26b)][_0x71974a(0x5cd)]=_0x803ec0,await this['updateConversation'](_0x122858,_0x40c379,_0x4e390f);}catch(_0x5ca6f6){this['logger'][_0x71974a(0x16d)](this[_0x71974a(0x168)]+'\x20('+this[_0x71974a(0x219)][_0x71974a(0x321)]+'):\x20Error\x20processing\x20conditions:\x20'+(_0x5ca6f6 instanceof Error?_0x5ca6f6[_0x71974a(0x1f0)]:JSON[_0x71974a(0x613)](_0x5ca6f6,null,0x2)));}}['evaluateCondition'](_0x25ceb6,_0xdce13){const _0xdb8d14=a0_0x39ce6a;let _0x357fd9=_0xdce13['firstValue'],_0x2b79dc=_0xdce13[_0xdb8d14(0x4e9)];typeof _0x357fd9==_0xdb8d14(0x5d6)&&(_0x357fd9=this[_0xdb8d14(0x6d8)](_0x357fd9,_0x25ceb6[_0xdb8d14(0x26b)][_0xdb8d14(0x295)])??''),typeof _0x2b79dc==_0xdb8d14(0x5d6)&&(_0x2b79dc=this[_0xdb8d14(0x6d8)](_0x2b79dc,_0x25ceb6[_0xdb8d14(0x26b)][_0xdb8d14(0x295)])??'');try{switch(_0xdce13[_0xdb8d14(0x6b9)]){case _0xdb8d14(0x5ab):return _0x357fd9===_0x2b79dc;case _0xdb8d14(0x6ba):return _0x357fd9!==_0x2b79dc;case _0xdb8d14(0x302):return this[_0xdb8d14(0x302)](_0x357fd9,_0x2b79dc);case'notContains':return!this[_0xdb8d14(0x302)](_0x357fd9,_0x2b79dc);case _0xdb8d14(0x2a3):return parseFloat(_0x357fd9)>parseFloat(_0x2b79dc);case'less':return parseFloat(_0x357fd9)<parseFloat(_0x2b79dc);case _0xdb8d14(0x433):return _0x357fd9!=='';case _0xdb8d14(0x239):return _0x357fd9==='';case _0xdb8d14(0x575):return new RegExp(_0x2b79dc)[_0xdb8d14(0x5d5)](_0x357fd9);case'notMatchRegex':return!new RegExp(_0x2b79dc)[_0xdb8d14(0x5d5)](_0x357fd9);default:return!0x1;}}catch(_0x286470){return console[_0xdb8d14(0x16d)](_0xdb8d14(0x4db)+_0x286470),!0x1;}}[a0_0x39ce6a(0x302)](_0x2e6cc2,_0x5d337d){const _0x460c55=a0_0x39ce6a;if(_0x2e6cc2===_0x5d337d&&/^\d+$/[_0x460c55(0x5d5)](_0x2e6cc2))return!0x0;if(this[_0x460c55(0x15c)](_0x2e6cc2)&&/^\d+$/['test'](_0x5d337d)){let _0x40ddd0=_0x2e6cc2[_0x460c55(0x154)](',')[_0x460c55(0x477)](_0x1385ae=>parseInt(_0x1385ae['trim']())),_0x2a179a=parseInt(_0x5d337d);return _0x40ddd0[_0x460c55(0x49a)](_0x2a179a);}return _0x2e6cc2[_0x460c55(0x49a)](_0x5d337d);}[a0_0x39ce6a(0x15c)](_0xf0c315){const _0x51ab25=a0_0x39ce6a;return/^\d+(,\d+)*$/[_0x51ab25(0x5d5)](_0xf0c315);}[a0_0x39ce6a(0x78a)](_0x5c311a){const _0x1889ad=a0_0x39ce6a;let _0x5a4748=!0x0,_0x470219=null;for(let _0x3b0135 of _0x5c311a){let _0x223178=this[_0x1889ad(0x24a)](_0x3b0135);if(_0x470219==='or'&&_0x223178){_0x5a4748=!0x0;break;}if(_0x470219===_0x1889ad(0x2c7)&&!_0x223178){_0x5a4748=!0x1;break;}_0x470219=_0x3b0135['OrAnd'];}return _0x5a4748;}['evaluateConditionTest'](_0x47dee4){const _0x2152b7=a0_0x39ce6a;let _0x344cdb=_0x47dee4['firstValue'],_0x17837e=_0x47dee4['secondValue'];try{switch(_0x47dee4[_0x2152b7(0x6b9)]){case _0x2152b7(0x5ab):return String(_0x344cdb)===String(_0x17837e);case _0x2152b7(0x6ba):return String(_0x344cdb)!==String(_0x17837e);case _0x2152b7(0x302):return String(_0x344cdb)[_0x2152b7(0x49a)](String(_0x17837e));case _0x2152b7(0x587):return!String(_0x344cdb)['includes'](String(_0x17837e));case'greater':return parseFloat(String(_0x344cdb))>parseFloat(String(_0x17837e));case _0x2152b7(0x2df):return parseFloat(String(_0x344cdb))<parseFloat(String(_0x17837e));case _0x2152b7(0x433):return String(_0x344cdb)!=='';case _0x2152b7(0x239):return String(_0x344cdb)==='';case'matchRegex':return new RegExp(String(_0x17837e))[_0x2152b7(0x5d5)](String(_0x344cdb));case'notMatchRegex':return!new RegExp(String(_0x17837e))['test'](String(_0x344cdb));default:return!0x1;}}catch(_0x2f7c2f){return console[_0x2152b7(0x16d)](_0x2152b7(0x4db)+_0x2f7c2f),!0x1;}}async[a0_0x39ce6a(0x446)](_0x55c4fb,_0x2a37a8){const _0x4ac179=a0_0x39ce6a;if(this[_0x4ac179(0x57c)][_0x4ac179(0x5b1)](this['instanceName']+'\x20('+this[_0x4ac179(0x219)][_0x4ac179(0x321)]+_0x4ac179(0x3a9)),!_0x55c4fb||!_0x2a37a8)return this[_0x4ac179(0x57c)][_0x4ac179(0x16d)](this['instanceName']+'\x20('+this[_0x4ac179(0x219)][_0x4ac179(0x321)]+_0x4ac179(0x28d)),null;let _0xfa9e6d=_0x2a37a8[_0x4ac179(0x1c5)],_0x4a36ec=_0x55c4fb['chatLog']['lastReceivedMessage']['text']||_0x55c4fb['chatLog'][_0x4ac179(0x3f6)][_0x4ac179(0x393)]||_0x55c4fb['chatLog']['lastReceivedMessage'][_0x4ac179(0x401)];try{_0x55c4fb[_0x4ac179(0x26b)][_0x4ac179(0x295)]||(_0x55c4fb[_0x4ac179(0x26b)][_0x4ac179(0x295)]={});let _0x370ec1=_0x55c4fb['chatLog']['realVariables'][_0xfa9e6d];_0x55c4fb[_0x4ac179(0x26b)][_0x4ac179(0x295)][_0xfa9e6d]=_0x4a36ec;let _0x29b824={'variable':_0xfa9e6d,'oldValue':_0x370ec1,'newValue':_0x4a36ec};this[_0x4ac179(0x68b)](_0x55c4fb,_0x2a37a8,_0x29b824),this[_0x4ac179(0x57c)]['verbose'](this[_0x4ac179(0x168)]+'\x20('+this[_0x4ac179(0x219)][_0x4ac179(0x321)]+'):\x20Conversa\x20atualizada\x20em\x20memória');}catch(_0x204537){let _0x28fdfe={'error':!0x0,'errorLog':_0x204537[_0x4ac179(0x30b)]()};return this['updateConversation'](_0x55c4fb,_0x2a37a8,_0x28fdfe),this['logger']['error'](this['instanceName']+'\x20('+this[_0x4ac179(0x219)][_0x4ac179(0x321)]+_0x4ac179(0x227)+(_0x204537 instanceof Error?_0x204537[_0x4ac179(0x1f0)]:JSON[_0x4ac179(0x613)](_0x204537,null,0x2))),null;}}async[a0_0x39ce6a(0x4a5)](_0x2cefdf,_0x469d9c){const _0x5553db=a0_0x39ce6a;if(this[_0x5553db(0x57c)][_0x5553db(0x5b1)](this[_0x5553db(0x168)]+'\x20('+this[_0x5553db(0x219)][_0x5553db(0x321)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0x2cefdf||!_0x469d9c)return this['logger']['error'](this[_0x5553db(0x168)]+'\x20('+this[_0x5553db(0x219)][_0x5553db(0x321)]+_0x5553db(0x28d)),null;let _0x51bfd8=Date[_0x5553db(0x2b9)](),_0x59e06a=parseInt(_0x469d9c[_0x5553db(0x6af)],0xa);if(isNaN(_0x59e06a))return this[_0x5553db(0x57c)][_0x5553db(0x16d)](this[_0x5553db(0x168)]+'\x20('+this[_0x5553db(0x219)][_0x5553db(0x321)]+_0x5553db(0x69d)),null;let _0x5c1cac={'newStoppedUntil':_0x51bfd8+_0x59e06a*0x3c*0x3e8};return await this[_0x5553db(0x68b)](_0x2cefdf,_0x469d9c,_0x5c1cac,!0x0),null;}async[a0_0x39ce6a(0x400)](_0x3724a1,_0x5c09d3){const _0x3fb7ed=a0_0x39ce6a;try{switch(_0x5c09d3['uazapi'][_0x3fb7ed(0x407)]){case _0x3fb7ed(0x49d):await this[_0x3fb7ed(0x658)](_0x3724a1,_0x5c09d3);break;case _0x3fb7ed(0x40b):await this[_0x3fb7ed(0x4b0)](_0x3724a1,_0x5c09d3);break;case _0x3fb7ed(0x62d):await this[_0x3fb7ed(0x152)](_0x3724a1,_0x5c09d3);break;case _0x3fb7ed(0x28f):await this['uazapiSendAudio'](_0x3724a1,_0x5c09d3);break;case _0x3fb7ed(0x768):await this[_0x3fb7ed(0x6a7)](_0x3724a1,_0x5c09d3);break;case _0x3fb7ed(0x6dd):await this[_0x3fb7ed(0x714)](_0x3724a1,_0x5c09d3);break;case _0x3fb7ed(0x2ef):await this[_0x3fb7ed(0x714)](_0x3724a1,_0x5c09d3);break;case _0x3fb7ed(0x51a):await this[_0x3fb7ed(0x17f)](_0x3724a1,_0x5c09d3);break;default:this[_0x3fb7ed(0x57c)][_0x3fb7ed(0x16d)](this[_0x3fb7ed(0x168)]+'\x20('+this[_0x3fb7ed(0x219)][_0x3fb7ed(0x321)]+_0x3fb7ed(0x6b7)+_0x5c09d3['uazapi']['command']);}}catch(_0x43aaca){this[_0x3fb7ed(0x57c)][_0x3fb7ed(0x16d)](this['instanceName']+'\x20('+this[_0x3fb7ed(0x219)][_0x3fb7ed(0x321)]+_0x3fb7ed(0x46f)+(_0x43aaca instanceof Error?_0x43aaca[_0x3fb7ed(0x1f0)]:JSON['stringify'](_0x43aaca,null,0x2)));}}async[a0_0x39ce6a(0x68b)](_0x7ca75,_0x230ef4,_0x208482,_0x205481=!0x1,_0x45d7c3=!0x1){const _0x3238ce=a0_0x39ce6a;_0x7ca75[_0x3238ce(0x26b)]['blockLogs']||(_0x7ca75[_0x3238ce(0x26b)][_0x3238ce(0x73a)]=[]);let _0x1fa09e=(_0x7ca75['chatLog'][_0x3238ce(0x73a)]?.[_0x3238ce(0x44f)]??0x0)+0x1,_0x436095=_0x7ca75[_0x3238ce(0x26b)]['blockLogs'][_0x3238ce(0x558)](_0xf51c4c=>String(_0xf51c4c[_0x3238ce(0x1b8)])===String(_0x230ef4[_0x3238ce(0x3bb)]))[_0x3238ce(0x44f)]+0x1,_0x2cbe2d=_0x208482?.['onTime']??Date['now'](),_0x24219b=_0x208482?.[_0x3238ce(0x16d)]?_0x208482['errorLog']??_0x208482[_0x3238ce(0x16d)][_0x3238ce(0x30b)]():void 0x0,_0x51bf9f={'onTime':_0x2cbe2d,'blockId':_0x230ef4['_id'],'order':_0x1fa09e,'activatedCount':_0x436095,'error':_0x208482?.['error']??!0x1,'messageId':_0x208482?.['messageId'],'apiResponse':_0x208482?.[_0x3238ce(0x6e9)],'apiResponseString':_0x208482?.[_0x3238ce(0x6e9)]?JSON[_0x3238ce(0x613)](_0x208482?.[_0x3238ce(0x6e9)]):void 0x0,'variable':_0x208482?.['variable'],'oldValue':_0x208482?.['oldValue'],'newValue':_0x208482?.[_0x3238ce(0x675)],'newStoppedUntil':_0x208482?.[_0x3238ce(0x48a)],'moreLogs':_0x208482?.[_0x3238ce(0x386)],'errorLog':_0x24219b};if(_0x208482[_0x3238ce(0x386)]&&_0x208482[_0x3238ce(0x386)]['length']>0x0){let _0x286a93=_0x208482[_0x3238ce(0x386)][_0x3238ce(0x477)](_0x6c661f=>this[_0x3238ce(0x5fa)](_0x6c661f,_0x7ca75[_0x3238ce(0x26b)][_0x3238ce(0x295)]));_0x51bf9f['moreLogs']=_0x286a93;}_0x7ca75['chatLog'][_0x3238ce(0x295)]||(_0x7ca75[_0x3238ce(0x26b)]['realVariables']={}),_0x7ca75[_0x3238ce(0x26b)]['realVariables'][_0x3238ce(0x70a)]=String(_0x436095),_0x7ca75[_0x3238ce(0x26b)][_0x3238ce(0x295)]['_error']=String(_0x208482[_0x3238ce(0x16d)]??!0x1),_0x7ca75['chatLog'][_0x3238ce(0x73a)]['push'](_0x51bf9f),_0x7ca75[_0x3238ce(0x26b)][_0x3238ce(0x76a)]=_0x230ef4[_0x3238ce(0x3bb)][_0x3238ce(0x30b)](),_0x7ca75[_0x3238ce(0x26b)]['lastSendMessage']&&(_0x7ca75['chatLog'][_0x3238ce(0x699)]=_0x7ca75['chatLog'][_0x3238ce(0x699)]),_0x7ca75['chatLog'][_0x3238ce(0x3f6)]&&(_0x7ca75[_0x3238ce(0x26b)][_0x3238ce(0x3f6)]=_0x7ca75[_0x3238ce(0x26b)]['lastReceivedMessage']),_0x7ca75[_0x3238ce(0x26b)]['lastCondition']&&(_0x7ca75['chatLog'][_0x3238ce(0x5cd)]=_0x7ca75[_0x3238ce(0x26b)][_0x3238ce(0x5cd)]),_0x45d7c3&&(_0x7ca75['status']='closed'),_0x205481?this[_0x3238ce(0x1a5)](_0x7ca75):this[_0x3238ce(0x2fa)](_0x7ca75,_0x230ef4);}[a0_0x39ce6a(0x5fa)](_0x4a5d47,_0x51bb83){const _0x5ccccf=a0_0x39ce6a;return _0x4a5d47[_0x5ccccf(0x214)](/\{\{([^}]+)\}\}/g,(_0x3e60e8,_0x4004a1)=>_0x51bb83[_0x4004a1]?'{{'+_0x4004a1+_0x5ccccf(0x761)+_0x51bb83[_0x4004a1]+'\x22':'{{'+_0x4004a1+'}}\x20->\x20valor\x20não\x20encontrado');}async[a0_0x39ce6a(0x1a5)](_0x640bae){const _0x2125a4=a0_0x39ce6a;try{let _0x12ccce=Object['entries'](_0x640bae[_0x2125a4(0x26b)][_0x2125a4(0x295)])[_0x2125a4(0x477)](([_0x1f9f20,_0x4a7576])=>({'name':_0x1f9f20,'value':_0x4a7576})),_0x5d7f5b={'status':_0x640bae['status'],'blocks':_0x640bae[_0x2125a4(0x292)],'waitingMenu_id':_0x640bae[_0x2125a4(0x395)],'waitingMenu_text':_0x640bae[_0x2125a4(0x1da)],'waitingMenu_replyOptions':_0x640bae[_0x2125a4(0x20d)],'chatLog':{'lastBlockId':_0x640bae['chatLog']['lastBlockId'],'lastSendMessage':_0x640bae['chatLog'][_0x2125a4(0x699)],'lastReceivedMessage':_0x640bae[_0x2125a4(0x26b)][_0x2125a4(0x3f6)],'lastCondition':_0x640bae['chatLog']['lastCondition'],'chatVariables':_0x12ccce,'realVariables':_0x640bae[_0x2125a4(0x26b)]['realVariables'],'blockLogs':_0x640bae[_0x2125a4(0x26b)][_0x2125a4(0x73a)]}},_0x30538f=await this[_0x2125a4(0x422)]['flowConversation'][_0x2125a4(0x455)](_0x640bae[_0x2125a4(0x3bb)],_0x5d7f5b,this[_0x2125a4(0x219)][_0x2125a4(0x321)]);if(_0x30538f){this[_0x2125a4(0x57c)][_0x2125a4(0x5b1)](this[_0x2125a4(0x168)]+'\x20('+this[_0x2125a4(0x219)][_0x2125a4(0x321)]+_0x2125a4(0x697)+_0x30538f[_0x2125a4(0x3bb)]);try{let _0x31e0f0=['nome',_0x2125a4(0x413),_0x2125a4(0x5ba),_0x2125a4(0x683),_0x2125a4(0x162),_0x2125a4(0x673),_0x2125a4(0x25e),'tags',_0x2125a4(0x6ca)];if(!this[_0x2125a4(0x719)]&&(await this['getAutomateSystem'](),!this[_0x2125a4(0x719)]))throw new Error(_0x2125a4(0x77d));let _0x1eaa66=this[_0x2125a4(0x719)]?.[_0x2125a4(0x68c)][_0x2125a4(0x477)](_0x4b66f1=>_0x4b66f1[_0x2125a4(0x257)]),_0x1d6838={};Object['entries'](_0x640bae[_0x2125a4(0x26b)][_0x2125a4(0x295)])[_0x2125a4(0x797)](([_0x103cde,_0x4ce7b4])=>{const _0x5a2e49=_0x2125a4;_0x31e0f0[_0x5a2e49(0x49a)](_0x103cde)&&(_0x103cde==='tags'&&typeof _0x4ce7b4=='string'?_0x1d6838[_0x103cde]=_0x4ce7b4[_0x5a2e49(0x154)](',')[_0x5a2e49(0x477)](_0x2841cc=>_0x2841cc['trim']())[_0x5a2e49(0x558)](_0x316987=>_0x316987!==''):_0x103cde===_0x5a2e49(0x6ca)&&typeof _0x4ce7b4==_0x5a2e49(0x5d6)?_0x1d6838[_0x103cde]=_0x4ce7b4[_0x5a2e49(0x154)](',')[_0x5a2e49(0x477)](_0x562178=>_0x562178[_0x5a2e49(0x597)]())[_0x5a2e49(0x558)](_0x3e9a21=>_0x3e9a21!==''):_0x1d6838[_0x103cde]=_0x4ce7b4);});let _0x566572=_0x640bae['chatLog'][_0x2125a4(0x73a)][_0x640bae[_0x2125a4(0x26b)][_0x2125a4(0x73a)][_0x2125a4(0x44f)]-0x1];if(_0x566572){let _0x2dc2b5=_0x566572[_0x2125a4(0x48a)];_0x2dc2b5!==void 0x0&&(_0x1d6838['desativadoFluxoAte']=_0x2dc2b5['toString']());}let _0x12faa=_0x12ccce[_0x2125a4(0x558)](_0x276fd9=>_0x1eaa66[_0x2125a4(0x49a)](_0x276fd9['name']));this[_0x2125a4(0x57c)][_0x2125a4(0x5b1)](this[_0x2125a4(0x168)]+'\x20('+this[_0x2125a4(0x219)][_0x2125a4(0x321)]+'):\x20leadInfoVariables'),this[_0x2125a4(0x57c)][_0x2125a4(0x5b1)](_0x1d6838),this[_0x2125a4(0x57c)][_0x2125a4(0x5b1)](this['instanceName']+'\x20('+this['instance'][_0x2125a4(0x321)]+_0x2125a4(0x5bb)),this['logger'][_0x2125a4(0x5b1)](_0x12faa);let _0x3a13bf=_0x12faa[_0x2125a4(0x477)](_0x754777=>{const _0x12e372=_0x2125a4;let _0x29d631=this['AutomateSystem']?.['customFields']['find'](_0x240cf9=>_0x240cf9[_0x12e372(0x257)]===_0x754777[_0x12e372(0x257)]);if(!_0x29d631)throw new Error(_0x12e372(0x5d9)+_0x754777[_0x12e372(0x257)]);return{'_id':_0x29d631[_0x12e372(0x3bb)],'value':_0x754777['value']};});this[_0x2125a4(0x57c)][_0x2125a4(0x5b1)](this[_0x2125a4(0x168)]+'\x20('+this[_0x2125a4(0x219)]['wuid']+'):\x20transformedCustomFieldVariables'),this[_0x2125a4(0x57c)][_0x2125a4(0x5b1)](_0x3a13bf),await this[_0x2125a4(0x6a6)](_0x640bae[_0x2125a4(0x6b1)],_0x1d6838,_0x3a13bf);}catch(_0x2e954b){this[_0x2125a4(0x57c)][_0x2125a4(0x16d)](this[_0x2125a4(0x168)]+'\x20('+this['instance'][_0x2125a4(0x321)]+_0x2125a4(0x549)+(_0x2e954b instanceof Error?_0x2e954b[_0x2125a4(0x1f0)]:JSON[_0x2125a4(0x613)](_0x2e954b,null,0x2)));}}else this[_0x2125a4(0x57c)][_0x2125a4(0x16d)](this[_0x2125a4(0x168)]+'\x20('+this[_0x2125a4(0x219)]['wuid']+_0x2125a4(0x4f4));}catch(_0x1d0977){this[_0x2125a4(0x57c)][_0x2125a4(0x16d)](this[_0x2125a4(0x168)]+'\x20('+this['instance']['wuid']+_0x2125a4(0x445)+(_0x1d0977 instanceof Error?_0x1d0977[_0x2125a4(0x1f0)]:JSON['stringify'](_0x1d0977,null,0x2)));}}async['saveChatVariables'](_0x4b80e5,_0x54d687,_0x236287){const _0x5a81c8=a0_0x39ce6a;try{let _0x1e8616={'leadInfo.leadnome':_0x54d687['nome'],'leadInfo.nomecompleto':_0x54d687['nomecompleto'],'leadInfo.email':_0x54d687['email'],'leadInfo.cpf':_0x54d687[_0x5a81c8(0x683)],'leadInfo.status':_0x54d687['status'],'leadInfo.notas':_0x54d687[_0x5a81c8(0x673)],'leadInfo.responsavelid':_0x54d687['responsavelid'],'leadInfo.tags':_0x54d687[_0x5a81c8(0x42a)],'leadInfo.etiquetas':_0x54d687[_0x5a81c8(0x6ca)],'leadInfo.customFields':_0x236287},_0x531553=await this['repository'][_0x5a81c8(0x5d1)]['findOne']({'where':{'_id':_0x4b80e5}},this[_0x5a81c8(0x219)][_0x5a81c8(0x321)]),_0x4484be=new Set(_0x531553[_0x5a81c8(0x488)][_0x5a81c8(0x6ca)]||[]),_0x61b54f=new Set(_0x54d687[_0x5a81c8(0x6ca)]||[]),_0xf5720e=await this[_0x5a81c8(0x422)][_0x5a81c8(0x4ed)]['find']({'where':{}},this[_0x5a81c8(0x219)][_0x5a81c8(0x321)]),_0x49fbe2=new Set(_0xf5720e[_0x5a81c8(0x477)](_0xd7c7a2=>_0xd7c7a2[_0x5a81c8(0x3bb)])),_0x15e2da=[..._0x61b54f]['filter'](_0x5b4549=>!_0x4484be['has'](_0x5b4549)&&_0x49fbe2[_0x5a81c8(0x443)](_0x5b4549)),_0x312081=[..._0x4484be][_0x5a81c8(0x558)](_0x1e4b7c=>!_0x61b54f[_0x5a81c8(0x443)](_0x1e4b7c));for(let _0x4ce3b8 of _0x15e2da)await this[_0x5a81c8(0x33b)](_0x4ce3b8,_0x531553[_0x5a81c8(0x3bb)]),_0x4484be[_0x5a81c8(0x22d)](_0x4ce3b8);for(let _0x2d4feb of _0x312081)await this[_0x5a81c8(0x59c)](_0x2d4feb,_0x531553[_0x5a81c8(0x3bb)]),_0x4484be['delete'](_0x2d4feb);if('desativadoFluxoAte'in _0x54d687){let _0x2db006=_0x54d687[_0x5a81c8(0x456)];_0x1e8616[_0x5a81c8(0x774)]=_0x2db006?Number(_0x2db006):null;}let _0x279a1b=await this[_0x5a81c8(0x422)][_0x5a81c8(0x5d1)][_0x5a81c8(0x455)]({'where':{'_id':_0x4b80e5}},_0x1e8616,this[_0x5a81c8(0x219)]['wuid']);_0x279a1b?(this[_0x5a81c8(0x57c)][_0x5a81c8(0x5b1)](this[_0x5a81c8(0x168)]+'\x20('+this[_0x5a81c8(0x219)]['wuid']+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20'+_0x279a1b['_id']),q(this[_0x5a81c8(0x168)],'chats',{'chat':_0x279a1b})):this[_0x5a81c8(0x57c)][_0x5a81c8(0x16d)](this[_0x5a81c8(0x168)]+'\x20('+this[_0x5a81c8(0x219)][_0x5a81c8(0x321)]+_0x5a81c8(0x544));}catch(_0xf10661){this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x5a81c8(0x321)]+_0x5a81c8(0x2bf)+(_0xf10661 instanceof Error?_0xf10661['message']:JSON['stringify'](_0xf10661,null,0x2)));}}async[a0_0x39ce6a(0x339)](_0x1e414b,_0x1c68eb){const _0x2a2ad7=a0_0x39ce6a;this['logger'][_0x2a2ad7(0x5b1)](this['instanceName']+'\x20('+this[_0x2a2ad7(0x219)]['wuid']+'):\x20atualização\x20chat:\x20'+_0x1c68eb);try{let _0xa1e5c1=await this[_0x2a2ad7(0x422)][_0x2a2ad7(0x5d1)]['updateOne']({'where':{'_id':_0x1e414b['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x1c68eb},this['instance']['wuid']);this[_0x2a2ad7(0x57c)][_0x2a2ad7(0x5b1)](this[_0x2a2ad7(0x168)]+'\x20('+this[_0x2a2ad7(0x219)][_0x2a2ad7(0x321)]+_0x2a2ad7(0x2e3)+_0x1e414b[_0x2a2ad7(0x3bb)]),this[_0x2a2ad7(0x57c)][_0x2a2ad7(0x5b1)](this['instanceName']+'\x20('+this[_0x2a2ad7(0x219)][_0x2a2ad7(0x321)]+_0x2a2ad7(0x75e)+JSON[_0x2a2ad7(0x613)](_0xa1e5c1,null,0x2)),_0xa1e5c1&&q(this[_0x2a2ad7(0x168)],_0x2a2ad7(0x51b),{'chat':_0xa1e5c1});}catch(_0x1e6210){this[_0x2a2ad7(0x57c)][_0x2a2ad7(0x16d)](this['instanceName']+'\x20('+this[_0x2a2ad7(0x219)]['wuid']+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0x1e6210 instanceof Error?_0x1e6210['message']:JSON[_0x2a2ad7(0x613)](_0x1e6210,null,0x2)));}}async[a0_0x39ce6a(0x3de)](_0x58a1b0){const _0x1473bd=a0_0x39ce6a;try{this['logger'][_0x1473bd(0x5b1)](this['instanceName']+'\x20('+this[_0x1473bd(0x219)][_0x1473bd(0x321)]+_0x1473bd(0x70b));let _0x36c74e=_0x58a1b0[_0x1473bd(0x214)](/\D/g,''),_0x1c4f45=await this['repository'][_0x1473bd(0x506)]['findOne']({'where':{'testingWith':_0x36c74e}},this['instance'][_0x1473bd(0x321)]);return _0x1c4f45||(this[_0x1473bd(0x57c)][_0x1473bd(0x5b1)](this['instanceName']+'\x20('+this[_0x1473bd(0x219)][_0x1473bd(0x321)]+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0x1c4f45=await this[_0x1473bd(0x422)]['flow'][_0x1473bd(0x5c1)]({'where':{'default':!0x0}},this['instance'][_0x1473bd(0x321)])),_0x1c4f45||(this[_0x1473bd(0x57c)]['verbose'](this['instanceName']+'\x20('+this[_0x1473bd(0x219)]['wuid']+_0x1473bd(0x50b)),null);}catch(_0x205060){return this[_0x1473bd(0x57c)]['error'](this[_0x1473bd(0x168)]+'\x20('+this[_0x1473bd(0x219)][_0x1473bd(0x321)]+_0x1473bd(0x567)+(_0x205060 instanceof Error?_0x205060[_0x1473bd(0x1f0)]:JSON[_0x1473bd(0x613)](_0x205060,null,0x2))),null;}}async['findConversation'](_0xa0aab,_0x447103){const _0x5a7c07=a0_0x39ce6a;try{let _0x5ad3fd=!!_0x447103[_0x5a7c07(0x401)],_0x26ea21=_0x447103[_0x5a7c07(0x71c)],_0x1f4588=null;if(this['logger'][_0x5a7c07(0x5b1)](this[_0x5a7c07(0x168)]+'\x20('+this[_0x5a7c07(0x219)][_0x5a7c07(0x321)]+_0x5a7c07(0x3e4)+_0x5ad3fd+_0x5a7c07(0x69b)+_0x26ea21),_0x5ad3fd){this[_0x5a7c07(0x57c)][_0x5a7c07(0x5b1)](this[_0x5a7c07(0x168)]+'\x20('+this[_0x5a7c07(0x219)][_0x5a7c07(0x321)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x4c8b0c={'where':{'remoteJid':_0xa0aab,'waitingMenu_id':_0x26ea21}};if(_0x1f4588=await this[_0x5a7c07(0x422)]['flowConversation'][_0x5a7c07(0x5c1)](_0x4c8b0c,this[_0x5a7c07(0x219)][_0x5a7c07(0x321)]),!_0x1f4588)return this['logger'][_0x5a7c07(0x5b1)](this[_0x5a7c07(0x168)]+'\x20('+this['instance'][_0x5a7c07(0x321)]+_0x5a7c07(0x7b3)),null;let _0x4f4ad8=Date[_0x5a7c07(0x2b9)](),_0x211f22=_0x1f4588?.[_0x5a7c07(0x503)]||0x0,_0x26fb5c=_0x4f4ad8-_0x211f22*0x3c*0x3e8;if(_0x1f4588['lastInteraction']<_0x26fb5c){this[_0x5a7c07(0x57c)][_0x5a7c07(0x5b1)](this[_0x5a7c07(0x168)]+'\x20('+this[_0x5a7c07(0x219)][_0x5a7c07(0x321)]+'):\x20Conversa\x20está\x20expirada\x20-\x20voto');let _0x33cb61={'number':_0x1f4588[_0x5a7c07(0x6b1)],'options':{'delay':0x0},'textMessage':{'text':_0x1f4588[_0x5a7c07(0x53b)]}};await this[_0x5a7c07(0x612)](_0x33cb61);let _0x19b281={'status':'closed','waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x5a7c07(0x422)][_0x5a7c07(0x1d8)][_0x5a7c07(0x455)](_0x1f4588['_id'],_0x19b281,this[_0x5a7c07(0x219)][_0x5a7c07(0x321)]),null;}return _0x1f4588[_0x5a7c07(0x7bc)]=Date[_0x5a7c07(0x2b9)](),_0x1f4588[_0x5a7c07(0x26b)]['lastReceivedMessage']=_0x447103,_0x1f4588;}else{this['logger'][_0x5a7c07(0x5b1)](this[_0x5a7c07(0x168)]+'\x20('+this['instance'][_0x5a7c07(0x321)]+'):\x20'+this['instance'][_0x5a7c07(0x321)]+_0x5a7c07(0x19d)),this[_0x5a7c07(0x57c)][_0x5a7c07(0x5b1)](this[_0x5a7c07(0x168)]+'\x20('+this['instance'][_0x5a7c07(0x321)]+'):\x20Procurando\x20conversa');let _0x43b9e2={'where':{'remoteJid':_0xa0aab,'status':'open'}};if(_0x1f4588=await this[_0x5a7c07(0x422)][_0x5a7c07(0x1d8)][_0x5a7c07(0x5c1)](_0x43b9e2,this['instance']['wuid']),!_0x1f4588){let _0x3b437a=await this['findFlow'](_0xa0aab);if(_0x3b437a&&(_0x1f4588=await this['createNewConversation'](_0x3b437a,_0x447103['key'],_0x447103)),!_0x1f4588)return null;}let _0x147267=Date[_0x5a7c07(0x2b9)](),_0xbed2df=_0x1f4588?.['minutesToClose']||0x0,_0x59ff1a=_0x147267-_0xbed2df*0x3c*0x3e8;if(this[_0x5a7c07(0x57c)][_0x5a7c07(0x5b1)](this['instanceName']+'\x20('+this[_0x5a7c07(0x219)][_0x5a7c07(0x321)]+_0x5a7c07(0x3f5)+_0x147267+_0x5a7c07(0x648)+_0xbed2df+_0x5a7c07(0x554)+_0x59ff1a),this[_0x5a7c07(0x57c)][_0x5a7c07(0x5b1)](this[_0x5a7c07(0x168)]+'\x20('+this[_0x5a7c07(0x219)][_0x5a7c07(0x321)]+_0x5a7c07(0x592)),this['logger'][_0x5a7c07(0x5b1)](this[_0x5a7c07(0x168)]+'\x20('+this[_0x5a7c07(0x219)][_0x5a7c07(0x321)]+_0x5a7c07(0x195)+_0x1f4588[_0x5a7c07(0x7bc)]),this[_0x5a7c07(0x57c)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20expirationTime:\x20'+_0x59ff1a),_0x1f4588[_0x5a7c07(0x7bc)]<_0x59ff1a){this[_0x5a7c07(0x57c)][_0x5a7c07(0x5b1)](this[_0x5a7c07(0x168)]+'\x20('+this[_0x5a7c07(0x219)][_0x5a7c07(0x321)]+_0x5a7c07(0x3d4));let _0x5e6b9b=await this[_0x5a7c07(0x3de)](_0xa0aab);if(_0x5e6b9b===null)return null;_0x1f4588&&await this[_0x5a7c07(0x422)][_0x5a7c07(0x1d8)][_0x5a7c07(0x455)](_0x1f4588[_0x5a7c07(0x3bb)],{'status':'closed'},this[_0x5a7c07(0x219)][_0x5a7c07(0x321)]),_0x1f4588=await this[_0x5a7c07(0x65c)](_0x5e6b9b,_0x447103['key'],_0x447103);}return _0x1f4588[_0x5a7c07(0x7bc)]=_0x147267,_0x1f4588[_0x5a7c07(0x26b)]['lastReceivedMessage']=_0x447103,_0x1f4588;}}catch(_0x1b8939){return this['logger']['error'](this['instanceName']+'\x20('+this[_0x5a7c07(0x219)][_0x5a7c07(0x321)]+_0x5a7c07(0x41b)+(_0x1b8939 instanceof Error?_0x1b8939['message']:JSON[_0x5a7c07(0x613)](_0x1b8939,null,0x2))),null;}}async[a0_0x39ce6a(0x65c)](_0x19c94f,_0x14b56c,_0x580295){const _0x40c52e=a0_0x39ce6a;this[_0x40c52e(0x57c)][_0x40c52e(0x5b1)](this[_0x40c52e(0x168)]+'\x20('+this['instance']['wuid']+_0x40c52e(0x645));try{let _0x56fded=require('mongodb')[_0x40c52e(0x217)],_0x59f462=Date[_0x40c52e(0x2b9)](),_0x23c2e1=_0x40c52e(0x4c9),_0x4991d9=_0x14b56c['fromMe']?null:_0x580295,_0x35aa33=_0x14b56c[_0x40c52e(0x27d)]?_0x580295:null,_0x532a97=_0x14b56c[_0x40c52e(0x6b1)];await this[_0x40c52e(0x3ee)](_0x532a97);let _0x3bb624={..._0x19c94f,'chatLog':null},_0x550859=await this[_0x40c52e(0x2f4)](_0x3bb624[_0x40c52e(0x4fe)]),_0x5dc715=await this[_0x40c52e(0x498)](_0x532a97),_0x577901={..._0x550859,..._0x5dc715,'_remoteJid':_0x532a97},_0xc03172={'lastReceivedMessage':_0x4991d9,'lastSendMessage':_0x35aa33,'lastBlockId':_0x23c2e1,'lastCondition':!0x0,'realVariables':_0x577901};_0x3bb624['chatLog']=_0xc03172,delete _0x3bb624[_0x40c52e(0x3bb)],_0x3bb624[_0x40c52e(0x3bb)]=new _0x56fded(),_0x3bb624[_0x40c52e(0x7bc)]=_0x59f462,_0x3bb624[_0x40c52e(0x162)]=_0x40c52e(0x606),_0x3bb624[_0x40c52e(0x6b1)]=_0x532a97;let _0x34468a=await this[_0x40c52e(0x422)][_0x40c52e(0x1d8)][_0x40c52e(0x455)](_0x3bb624[_0x40c52e(0x3bb)],_0x3bb624,this['instance'][_0x40c52e(0x321)]);return this[_0x40c52e(0x57c)]['verbose'](this[_0x40c52e(0x168)]+'\x20('+this['instance'][_0x40c52e(0x321)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x34468a?_0x3bb624:null;}catch(_0x3f26eb){return this['logger']['error'](this[_0x40c52e(0x168)]+'\x20('+this[_0x40c52e(0x219)][_0x40c52e(0x321)]+_0x40c52e(0x32d)+(_0x3f26eb instanceof Error?_0x3f26eb[_0x40c52e(0x1f0)]:JSON[_0x40c52e(0x613)](_0x3f26eb,null,0x2))),_0x3f26eb;}}async['uazapiSendText'](_0x17a5cd,_0x531c7f){const _0x11b0ea=a0_0x39ce6a;let _0x10815e=_0x17a5cd['remoteJid'];_0x531c7f[_0x11b0ea(0x54d)][_0x11b0ea(0x6b1)]&&_0x531c7f[_0x11b0ea(0x54d)][_0x11b0ea(0x6b1)][_0x11b0ea(0x597)]()!==''&&(_0x10815e=_0x531c7f['uazapi']['remoteJid'][_0x11b0ea(0x597)]()),this['logger'][_0x11b0ea(0x5b1)](this[_0x11b0ea(0x168)]+'\x20('+this[_0x11b0ea(0x219)][_0x11b0ea(0x321)]+'):\x20Enviando\x20texto');let _0x2a79ae={'number':_0x10815e,'options':{'delay':_0x531c7f['uazapi'][_0x11b0ea(0x248)]},'textMessage':{'text':_0x531c7f[_0x11b0ea(0x54d)]['text']}};try{let _0x540e8a=await this[_0x11b0ea(0x612)](_0x2a79ae);if(_0x540e8a){let _0x2003b4={'_id':_0x540e8a['key']['id'],'_fromMe':_0x540e8a[_0x11b0ea(0x3b6)][_0x11b0ea(0x27d)],'_remoteJid':_0x540e8a[_0x11b0ea(0x3b6)]['remoteJid']},_0x21238e=(0x0,g['normalizeMessageContent'])(_0x540e8a[_0x11b0ea(0x1f0)]),_0x1ebc04=(0x0,g[_0x11b0ea(0x566)])(_0x21238e);_0x17a5cd[_0x11b0ea(0x26b)]['lastBlockId']=_0x531c7f[_0x11b0ea(0x3bb)][_0x11b0ea(0x30b)]();let {message_normalized:_0x560017}=this[_0x11b0ea(0x236)](_0x21238e,_0x1ebc04,null);_0x17a5cd['chatLog'][_0x11b0ea(0x699)]=await _0x560017;let _0x374d5f={'messageId':_0x540e8a[_0x11b0ea(0x3b6)]['id']},_0x1d9071=_0x17a5cd[_0x11b0ea(0x26b)][_0x11b0ea(0x295)];Object[_0x11b0ea(0x5f0)](_0x1d9071,_0x2003b4),_0x17a5cd['chatLog']['realVariables']=_0x1d9071,this[_0x11b0ea(0x68b)](_0x17a5cd,_0x531c7f,_0x374d5f);}else{let _0x973ce5={'error':!0x0};this[_0x11b0ea(0x68b)](_0x17a5cd,_0x531c7f,_0x973ce5),this[_0x11b0ea(0x57c)][_0x11b0ea(0x16d)](this['instanceName']+'\x20('+this[_0x11b0ea(0x219)][_0x11b0ea(0x321)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x785389){let _0x59face={'error':!0x0,'errorLog':_0x785389[_0x11b0ea(0x30b)]()};this[_0x11b0ea(0x68b)](_0x17a5cd,_0x531c7f,_0x59face),this[_0x11b0ea(0x57c)]['error'](this['instanceName']+'\x20('+this[_0x11b0ea(0x219)]['wuid']+_0x11b0ea(0x751)+(_0x785389 instanceof Error?_0x785389[_0x11b0ea(0x1f0)]:JSON['stringify'](_0x785389,null,0x2)));}}async[a0_0x39ce6a(0x4b0)](_0x3e3698,_0x76ca05){const _0x4448be=a0_0x39ce6a;let _0x374194=_0x3e3698[_0x4448be(0x6b1)];_0x76ca05[_0x4448be(0x54d)][_0x4448be(0x6b1)]&&_0x76ca05[_0x4448be(0x54d)][_0x4448be(0x6b1)]['trim']()!==''&&(_0x374194=_0x76ca05[_0x4448be(0x54d)]['remoteJid'][_0x4448be(0x597)]()),this['logger'][_0x4448be(0x5b1)](this['instanceName']+'\x20('+this[_0x4448be(0x219)][_0x4448be(0x321)]+_0x4448be(0x1bb));let _0x47cef5={'number':_0x374194,'options':{'delay':_0x76ca05[_0x4448be(0x54d)]['delay']},'mediaMessage':{'mediatype':_0x76ca05[_0x4448be(0x54d)][_0x4448be(0x76c)],'caption':_0x76ca05['uazapi'][_0x4448be(0x393)],'media':_0x76ca05[_0x4448be(0x54d)][_0x4448be(0x701)],'fileName':_0x76ca05[_0x4448be(0x54d)][_0x4448be(0x4ac)]}};try{let _0x3b775d=await this[_0x4448be(0x409)](_0x47cef5);if(_0x3b775d){let _0x4e2021={'_id':_0x3b775d['key']['id'],'_fromMe':_0x3b775d[_0x4448be(0x3b6)]['fromMe'],'_remoteJid':_0x3b775d[_0x4448be(0x3b6)]['remoteJid']},_0x22b9f6=(0x0,g[_0x4448be(0x550)])(_0x3b775d['message']),_0x2f58c1=(0x0,g[_0x4448be(0x566)])(_0x22b9f6);_0x3e3698['chatLog'][_0x4448be(0x76a)]=_0x76ca05['_id']['toString']();let {message_normalized:_0x98bd27}=this[_0x4448be(0x236)](_0x22b9f6,_0x2f58c1,null);_0x3e3698['chatLog'][_0x4448be(0x699)]=await _0x98bd27;let _0x3a723e={'messageId':_0x3b775d[_0x4448be(0x3b6)]['id']},_0x2125e7=_0x3e3698[_0x4448be(0x26b)][_0x4448be(0x295)];Object[_0x4448be(0x5f0)](_0x2125e7,_0x4e2021),_0x3e3698[_0x4448be(0x26b)][_0x4448be(0x295)]=_0x2125e7,this[_0x4448be(0x68b)](_0x3e3698,_0x76ca05,_0x3a723e);}else{let _0x380593={'error':!0x0};this[_0x4448be(0x68b)](_0x3e3698,_0x76ca05,_0x380593),this[_0x4448be(0x57c)]['error'](this['instanceName']+'\x20('+this['instance'][_0x4448be(0x321)]+_0x4448be(0x775));}}catch(_0x26c63f){let _0x57afa3={'error':!0x0,'errorLog':_0x26c63f[_0x4448be(0x30b)]()};this[_0x4448be(0x68b)](_0x3e3698,_0x76ca05,_0x57afa3),this['logger'][_0x4448be(0x16d)](this[_0x4448be(0x168)]+'\x20('+this[_0x4448be(0x219)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x26c63f instanceof Error?_0x26c63f[_0x4448be(0x1f0)]:JSON[_0x4448be(0x613)](_0x26c63f,null,0x2)));}}async['uazapiSendLocation'](_0x35b916,_0x501f8e){const _0x4cc375=a0_0x39ce6a;let _0x4ec539=_0x35b916[_0x4cc375(0x6b1)];_0x501f8e['uazapi'][_0x4cc375(0x6b1)]&&_0x501f8e['uazapi'][_0x4cc375(0x6b1)][_0x4cc375(0x597)]()!==''&&(_0x4ec539=_0x501f8e[_0x4cc375(0x54d)][_0x4cc375(0x6b1)][_0x4cc375(0x597)]()),this['logger'][_0x4cc375(0x5b1)](this[_0x4cc375(0x168)]+'\x20('+this[_0x4cc375(0x219)][_0x4cc375(0x321)]+_0x4cc375(0x6e8));let _0x11cb7d={'number':_0x4ec539,'options':{'delay':_0x501f8e[_0x4cc375(0x54d)][_0x4cc375(0x248)]},'locationMessage':{'name':_0x501f8e[_0x4cc375(0x54d)][_0x4cc375(0x257)],'address':_0x501f8e[_0x4cc375(0x54d)]['address'],'latitude':_0x501f8e[_0x4cc375(0x54d)][_0x4cc375(0x742)],'longitude':_0x501f8e[_0x4cc375(0x54d)][_0x4cc375(0x224)]}};try{let _0x1c9168=await this['locationMessage'](_0x11cb7d);if(_0x1c9168){let _0x186d9a={'_id':_0x1c9168[_0x4cc375(0x3b6)]['id'],'_fromMe':_0x1c9168[_0x4cc375(0x3b6)][_0x4cc375(0x27d)],'_remoteJid':_0x1c9168[_0x4cc375(0x3b6)][_0x4cc375(0x6b1)]},_0x516d5d=(0x0,g[_0x4cc375(0x550)])(_0x1c9168[_0x4cc375(0x1f0)]),_0x270c5e=(0x0,g[_0x4cc375(0x566)])(_0x516d5d);_0x35b916[_0x4cc375(0x26b)][_0x4cc375(0x76a)]=_0x501f8e['_id'][_0x4cc375(0x30b)]();let {message_normalized:_0x25e607}=this[_0x4cc375(0x236)](_0x516d5d,_0x270c5e,null);_0x35b916[_0x4cc375(0x26b)][_0x4cc375(0x699)]=await _0x25e607;let _0xd54f1c={'messageId':_0x1c9168[_0x4cc375(0x3b6)]['id']},_0x14ffbc=_0x35b916[_0x4cc375(0x26b)][_0x4cc375(0x295)];Object['assign'](_0x14ffbc,_0x186d9a),_0x35b916['chatLog']['realVariables']=_0x14ffbc,this[_0x4cc375(0x68b)](_0x35b916,_0x501f8e,_0xd54f1c);}else{let _0x3760f2={'error':!0x0};this[_0x4cc375(0x68b)](_0x35b916,_0x501f8e,_0x3760f2),this[_0x4cc375(0x57c)]['error'](this[_0x4cc375(0x168)]+'\x20('+this[_0x4cc375(0x219)][_0x4cc375(0x321)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.');}}catch(_0x500735){let _0x408675={'error':!0x0,'errorLog':_0x500735['toString']()};this[_0x4cc375(0x68b)](_0x35b916,_0x501f8e,_0x408675),this[_0x4cc375(0x57c)][_0x4cc375(0x16d)](this[_0x4cc375(0x168)]+'\x20('+this[_0x4cc375(0x219)][_0x4cc375(0x321)]+_0x4cc375(0x539)+(_0x500735 instanceof Error?_0x500735[_0x4cc375(0x1f0)]:JSON[_0x4cc375(0x613)](_0x500735,null,0x2)));}}async[a0_0x39ce6a(0x3cd)](_0x25f506,_0x3ec60e){const _0x4d9c04=a0_0x39ce6a;let _0x5db78a=_0x25f506[_0x4d9c04(0x6b1)];_0x3ec60e[_0x4d9c04(0x54d)]['remoteJid']&&_0x3ec60e[_0x4d9c04(0x54d)][_0x4d9c04(0x6b1)][_0x4d9c04(0x597)]()!==''&&(_0x5db78a=_0x3ec60e['uazapi'][_0x4d9c04(0x6b1)][_0x4d9c04(0x597)]()),this[_0x4d9c04(0x57c)][_0x4d9c04(0x5b1)](this[_0x4d9c04(0x168)]+'\x20('+this[_0x4d9c04(0x219)][_0x4d9c04(0x321)]+_0x4d9c04(0x773));let _0x377ce4={'number':_0x5db78a,'options':{'delay':_0x3ec60e[_0x4d9c04(0x54d)][_0x4d9c04(0x248)]},'audioMessage':{'audio':_0x3ec60e[_0x4d9c04(0x54d)][_0x4d9c04(0x220)]}};try{let _0x2f32dc=await this[_0x4d9c04(0x71a)](_0x377ce4);if(_0x2f32dc){let _0x2973ee={'_id':_0x2f32dc[_0x4d9c04(0x3b6)]['id'],'_fromMe':_0x2f32dc[_0x4d9c04(0x3b6)][_0x4d9c04(0x27d)],'_remoteJid':_0x2f32dc[_0x4d9c04(0x3b6)][_0x4d9c04(0x6b1)]},_0x464280=(0x0,g[_0x4d9c04(0x550)])(_0x2f32dc[_0x4d9c04(0x1f0)]),_0x6fc6be=(0x0,g[_0x4d9c04(0x566)])(_0x464280);_0x25f506[_0x4d9c04(0x26b)]['lastBlockId']=_0x3ec60e[_0x4d9c04(0x3bb)][_0x4d9c04(0x30b)]();let {message_normalized:_0x4c07a7}=this[_0x4d9c04(0x236)](_0x464280,_0x6fc6be,null);_0x25f506[_0x4d9c04(0x26b)][_0x4d9c04(0x699)]=await _0x4c07a7;let _0x28a512={'messageId':_0x2f32dc[_0x4d9c04(0x3b6)]['id']},_0x4b53bf=_0x25f506[_0x4d9c04(0x26b)][_0x4d9c04(0x295)];Object[_0x4d9c04(0x5f0)](_0x4b53bf,_0x2973ee),_0x25f506[_0x4d9c04(0x26b)][_0x4d9c04(0x295)]=_0x4b53bf,this[_0x4d9c04(0x68b)](_0x25f506,_0x3ec60e,_0x28a512);}else{let _0x492b41={'error':!0x0};this[_0x4d9c04(0x68b)](_0x25f506,_0x3ec60e,_0x492b41),this[_0x4d9c04(0x57c)][_0x4d9c04(0x16d)](this['instanceName']+'\x20('+this['instance'][_0x4d9c04(0x321)]+_0x4d9c04(0x770));}}catch(_0x1cf63d){let _0x3f7fa3={'error':!0x0,'errorLog':_0x1cf63d[_0x4d9c04(0x30b)]()};this['updateConversation'](_0x25f506,_0x3ec60e,_0x3f7fa3),this[_0x4d9c04(0x57c)][_0x4d9c04(0x16d)](this[_0x4d9c04(0x168)]+'\x20('+this[_0x4d9c04(0x219)]['wuid']+_0x4d9c04(0x3c0)+(_0x1cf63d instanceof Error?_0x1cf63d[_0x4d9c04(0x1f0)]:JSON[_0x4d9c04(0x613)](_0x1cf63d,null,0x2)));}}async[a0_0x39ce6a(0x6a7)](_0x269e5b,_0x37cf52){const _0x18b5c1=a0_0x39ce6a;let _0x544057=_0x269e5b[_0x18b5c1(0x6b1)];_0x37cf52['uazapi'][_0x18b5c1(0x6b1)]&&_0x37cf52[_0x18b5c1(0x54d)][_0x18b5c1(0x6b1)][_0x18b5c1(0x597)]()!==''&&(_0x544057=_0x37cf52['uazapi']['remoteJid'][_0x18b5c1(0x597)]()),this[_0x18b5c1(0x57c)][_0x18b5c1(0x5b1)](this[_0x18b5c1(0x168)]+'\x20('+this[_0x18b5c1(0x219)]['wuid']+_0x18b5c1(0x6ae));let _0x664a86={'number':_0x544057,'options':{'delay':_0x37cf52[_0x18b5c1(0x54d)][_0x18b5c1(0x248)]},'contactMessage':[{'fullName':_0x37cf52['uazapi']['fullName'],'phoneNumber':_0x37cf52[_0x18b5c1(0x54d)][_0x18b5c1(0x259)]}]};try{let _0xd26161=await this[_0x18b5c1(0x3a7)](_0x664a86);if(_0xd26161){let _0x459b85={'_id':_0xd26161['key']['id'],'_fromMe':_0xd26161[_0x18b5c1(0x3b6)][_0x18b5c1(0x27d)],'_remoteJid':_0xd26161[_0x18b5c1(0x3b6)][_0x18b5c1(0x6b1)]},_0x58790a=(0x0,g[_0x18b5c1(0x550)])(_0xd26161[_0x18b5c1(0x1f0)]),_0x2eba95=(0x0,g[_0x18b5c1(0x566)])(_0x58790a);_0x269e5b[_0x18b5c1(0x26b)][_0x18b5c1(0x76a)]=_0x37cf52['_id']['toString']();let {message_normalized:_0x3e7b7d}=this[_0x18b5c1(0x236)](_0x58790a,_0x2eba95,null);_0x269e5b[_0x18b5c1(0x26b)][_0x18b5c1(0x699)]=await _0x3e7b7d;let _0x161530={'messageId':_0xd26161[_0x18b5c1(0x3b6)]['id']},_0xd4ac59=_0x269e5b[_0x18b5c1(0x26b)][_0x18b5c1(0x295)];Object['assign'](_0xd4ac59,_0x459b85),_0x269e5b[_0x18b5c1(0x26b)]['realVariables']=_0xd4ac59,this[_0x18b5c1(0x68b)](_0x269e5b,_0x37cf52,_0x161530);}else{let _0x543636={'error':!0x0};this[_0x18b5c1(0x68b)](_0x269e5b,_0x37cf52,_0x543636),this[_0x18b5c1(0x57c)][_0x18b5c1(0x16d)](this[_0x18b5c1(0x168)]+'\x20('+this[_0x18b5c1(0x219)]['wuid']+_0x18b5c1(0x73d));}}catch(_0x3eed08){let _0x3764c0={'error':!0x0,'errorLog':_0x3eed08[_0x18b5c1(0x30b)]()};this[_0x18b5c1(0x68b)](_0x269e5b,_0x37cf52,_0x3764c0),this[_0x18b5c1(0x57c)]['error'](this[_0x18b5c1(0x168)]+'\x20('+this[_0x18b5c1(0x219)][_0x18b5c1(0x321)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+(_0x3eed08 instanceof Error?_0x3eed08[_0x18b5c1(0x1f0)]:JSON[_0x18b5c1(0x613)](_0x3eed08,null,0x2)));}}[a0_0x39ce6a(0x19c)](_0x5d73cc,_0x45456d){const _0x1f574d=a0_0x39ce6a;for(let _0x25c8ec of _0x5d73cc)_0x25c8ec[_0x1f574d(0x632)]&&(_0x25c8ec[_0x1f574d(0x632)]=this[_0x1f574d(0x6d8)](_0x25c8ec['option'],_0x45456d)),_0x25c8ec[_0x1f574d(0x151)]&&(_0x25c8ec['optionDescription']=this[_0x1f574d(0x6d8)](_0x25c8ec[_0x1f574d(0x151)],_0x45456d));}async['uazapiSendMenu'](_0x37acb2,_0x47e19d){const _0x4d4563=a0_0x39ce6a;let _0x3ce489=_0x37acb2['remoteJid'];_0x47e19d['uazapi']['remoteJid']&&_0x47e19d[_0x4d4563(0x54d)][_0x4d4563(0x6b1)]['trim']()!==''&&(_0x3ce489=_0x47e19d[_0x4d4563(0x54d)]['remoteJid'][_0x4d4563(0x597)]()),this[_0x4d4563(0x57c)][_0x4d4563(0x5b1)](this[_0x4d4563(0x168)]+'\x20('+this['instance'][_0x4d4563(0x321)]+_0x4d4563(0x334));let _0x1db918=_0x37acb2[_0x4d4563(0x4b4)][_0x4d4563(0x558)](_0x229916=>_0x229916[_0x4d4563(0x1b8)]===_0x47e19d['_id'])['sort']((_0x51dae4,_0x22e069)=>_0x51dae4[_0x4d4563(0x57a)]-_0x22e069[_0x4d4563(0x57a)]);this['replaceVariablesInReplyOptions'](_0x1db918,_0x37acb2[_0x4d4563(0x26b)][_0x4d4563(0x295)]);let _0x54eebe=_0x1db918[_0x4d4563(0x477)](_0x2c6de0=>_0x2c6de0[_0x4d4563(0x632)]),_0x4e9de4={'number':_0x3ce489,'menuMessage':{'type':_0x47e19d[_0x4d4563(0x54d)][_0x4d4563(0x759)]||_0x4d4563(0x6c5),'text':_0x47e19d[_0x4d4563(0x54d)]['text']||_0x47e19d[_0x4d4563(0x54d)][_0x4d4563(0x257)],'footerText':_0x47e19d[_0x4d4563(0x54d)][_0x4d4563(0x4e3)],'buttonText':_0x47e19d['uazapi'][_0x4d4563(0x6a2)],'selectableCount':0x1,'choices':_0x54eebe},'options':{'delay':_0x47e19d[_0x4d4563(0x54d)][_0x4d4563(0x248)]}};try{let _0x3a67e3=await this[_0x4d4563(0x1e2)](_0x4e9de4);if(_0x3a67e3){let _0x32ceba={'_id':_0x3a67e3[_0x4d4563(0x3b6)]['id'],'_fromMe':_0x3a67e3[_0x4d4563(0x3b6)][_0x4d4563(0x27d)],'_remoteJid':_0x3a67e3['key'][_0x4d4563(0x6b1)]};_0x47e19d[_0x4d4563(0x54d)][_0x4d4563(0x158)]===!0x0&&(_0x37acb2[_0x4d4563(0x162)]=_0x4d4563(0x3ed),this[_0x4d4563(0x57c)][_0x4d4563(0x5b1)](this[_0x4d4563(0x168)]+'\x20('+this[_0x4d4563(0x219)][_0x4d4563(0x321)]+_0x4d4563(0x5cc)+_0x37acb2[_0x4d4563(0x162)])),this[_0x4d4563(0x57c)]['verbose'](this['instanceName']+'\x20('+this[_0x4d4563(0x219)][_0x4d4563(0x321)]+'):\x20nextBlock.uazapi.name'+(_0x47e19d['uazapi']['name']||_0x47e19d[_0x4d4563(0x54d)][_0x4d4563(0x60d)])),_0x37acb2[_0x4d4563(0x395)]=_0x3a67e3[_0x4d4563(0x3b6)]['id'],_0x37acb2[_0x4d4563(0x1da)]=_0x47e19d[_0x4d4563(0x54d)][_0x4d4563(0x257)]||_0x47e19d[_0x4d4563(0x54d)][_0x4d4563(0x60d)],_0x37acb2['waitingMenu_replyOptions']=_0x1db918,_0x47e19d[_0x4d4563(0x54d)][_0x4d4563(0x72e)]&&(_0x37acb2[_0x4d4563(0x53b)]=_0x47e19d[_0x4d4563(0x54d)][_0x4d4563(0x72e)]),this[_0x4d4563(0x57c)][_0x4d4563(0x5b1)](this[_0x4d4563(0x168)]+'\x20('+this[_0x4d4563(0x219)][_0x4d4563(0x321)]+_0x4d4563(0x460)+_0x37acb2[_0x4d4563(0x1da)]);let _0x20fa52=(0x0,g['normalizeMessageContent'])(_0x3a67e3[_0x4d4563(0x1f0)]),_0xcc86e6=(0x0,g[_0x4d4563(0x566)])(_0x20fa52);_0x37acb2[_0x4d4563(0x26b)][_0x4d4563(0x76a)]=_0x47e19d[_0x4d4563(0x3bb)][_0x4d4563(0x30b)]();let {message_normalized:_0x50f42e}=this[_0x4d4563(0x236)](_0x20fa52,_0xcc86e6,null);_0x37acb2['chatLog'][_0x4d4563(0x699)]=await _0x50f42e;let _0x41b2e6={'messageId':_0x3a67e3[_0x4d4563(0x3b6)]['id']},_0x3138fd=_0x37acb2[_0x4d4563(0x26b)][_0x4d4563(0x295)];Object['assign'](_0x3138fd,_0x32ceba),_0x37acb2['chatLog'][_0x4d4563(0x295)]=_0x3138fd,this[_0x4d4563(0x68b)](_0x37acb2,_0x47e19d,_0x41b2e6);}else{let _0x5e24f2={'error':!0x0};this[_0x4d4563(0x68b)](_0x37acb2,_0x47e19d,_0x5e24f2),this[_0x4d4563(0x57c)][_0x4d4563(0x16d)](this['instanceName']+'\x20('+this[_0x4d4563(0x219)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.');}}catch(_0x2d8d9c){let _0x2823d9={'error':!0x0,'errorLog':_0x2d8d9c instanceof Error?_0x2d8d9c[_0x4d4563(0x1f0)]:JSON[_0x4d4563(0x613)](_0x2d8d9c,null,0x2)};this[_0x4d4563(0x68b)](_0x37acb2,_0x47e19d,_0x2823d9),this[_0x4d4563(0x57c)][_0x4d4563(0x16d)](this[_0x4d4563(0x168)]+'\x20('+this['instance'][_0x4d4563(0x321)]+_0x4d4563(0x738)+(_0x2d8d9c instanceof Error?_0x2d8d9c['message']:JSON[_0x4d4563(0x613)](_0x2d8d9c,null,0x2)));}}async[a0_0x39ce6a(0x17f)](_0x2fe8ba,_0x26a561){const _0x653537=a0_0x39ce6a;this[_0x653537(0x57c)]['verbose'](this[_0x653537(0x168)]+'\x20('+this[_0x653537(0x219)]['wuid']+_0x653537(0x1e1));let _0x38e8a3=_0x2fe8ba[_0x653537(0x26b)]['blockLogs'][_0x653537(0x280)](_0x4c835f=>_0x4c835f['blockId'][_0x653537(0x30b)]()===_0x26a561[_0x653537(0x54d)][_0x653537(0x1b8)][_0x653537(0x30b)]()),_0x481694={'id':_0x38e8a3['messageId'],'remoteJid':_0x38e8a3['remoteJid'],'fromMe':_0x38e8a3[_0x653537(0x27d)]};try{let _0x3d8c36=await this[_0x653537(0x51a)](_0x481694);if(_0x3d8c36){let _0x15fd59=(0x0,g[_0x653537(0x550)])(_0x3d8c36[_0x653537(0x1f0)]),_0x559544=(0x0,g[_0x653537(0x566)])(_0x15fd59);_0x2fe8ba[_0x653537(0x26b)]['lastBlockId']=_0x26a561['_id'][_0x653537(0x30b)]();let {message_normalized:_0x33cf44}=this[_0x653537(0x236)](_0x15fd59,_0x559544,null);_0x2fe8ba['chatLog'][_0x653537(0x699)]=await _0x33cf44;let _0x5eaf67={};this[_0x653537(0x68b)](_0x2fe8ba,_0x26a561,_0x5eaf67);}else{let _0x50780c={'error':!0x0};this['updateConversation'](_0x2fe8ba,_0x26a561,_0x50780c),this[_0x653537(0x57c)][_0x653537(0x16d)](this[_0x653537(0x168)]+'\x20('+this[_0x653537(0x219)][_0x653537(0x321)]+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x1a3745){let _0x3520fb={'error':!0x0,'errorLog':_0x1a3745 instanceof Error?_0x1a3745[_0x653537(0x1f0)]:JSON[_0x653537(0x613)](_0x1a3745,null,0x2)};this[_0x653537(0x68b)](_0x2fe8ba,_0x26a561,_0x3520fb),this[_0x653537(0x57c)]['error'](this[_0x653537(0x168)]+'\x20('+this[_0x653537(0x219)]['wuid']+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x1a3745 instanceof Error?_0x1a3745[_0x653537(0x1f0)]:JSON[_0x653537(0x613)](_0x1a3745,null,0x2)));}}async['createFlow'](_0x1719cb){const _0x513104=a0_0x39ce6a;if(!_0x1719cb[_0x513104(0x257)])throw new w(_0x513104(0x7b1));if(await this['repository'][_0x513104(0x506)]['findOne']({'where':{'name':_0x1719cb[_0x513104(0x257)]}},this['instance']['wuid']))throw new w('Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome');return _0x513104(0x257)in _0x1719cb&&_0x513104(0x1e4)in _0x1719cb&&'owner'in _0x1719cb&&Object[_0x513104(0x322)](_0x1719cb)[_0x513104(0x44f)]===0x3?this[_0x513104(0x5e2)](_0x1719cb[_0x513104(0x3cb)],_0x1719cb[_0x513104(0x1e4)],_0x1719cb[_0x513104(0x257)]):this['createRegularFlow'](_0x1719cb);}async['createSharedFlow'](_0x6070c0,_0x2ffe31,_0x21b83e){const _0x212cd8=a0_0x39ce6a;try{this[_0x212cd8(0x57c)][_0x212cd8(0x5b1)](this[_0x212cd8(0x168)]+'\x20('+this[_0x212cd8(0x219)][_0x212cd8(0x321)]+'):\x20Criando\x20fluxo\x20compartilhado...');let _0x419b57=await this[_0x212cd8(0x422)][_0x212cd8(0x506)]['findOne']({'where':{'name':_0x21b83e,'sharePass':_0x2ffe31}},_0x6070c0);if(!_0x419b57)throw new w(_0x212cd8(0x3f2));let _0x3d2185={..._0x419b57};return _0x3d2185['owner']=this['instance'][_0x212cd8(0x321)],_0x3d2185['shareOwners']=Array[_0x212cd8(0x43c)](new Set([..._0x419b57[_0x212cd8(0x57f)]||[],_0x419b57['owner'],this[_0x212cd8(0x219)]['wuid']])),_0x419b57[_0x212cd8(0x57f)]=_0x3d2185[_0x212cd8(0x57f)],await this[_0x212cd8(0x422)][_0x212cd8(0x506)]['updateOne'](_0x419b57[_0x212cd8(0x3bb)],{'shareOwners':_0x419b57[_0x212cd8(0x57f)]},_0x419b57[_0x212cd8(0x3cb)]),_0x419b57[_0x212cd8(0x6b8)]===!0x0&&await this[_0x212cd8(0x422)][_0x212cd8(0x506)][_0x212cd8(0x602)]({},{'default':!0x1},this[_0x212cd8(0x219)][_0x212cd8(0x321)]),await this[_0x212cd8(0x422)][_0x212cd8(0x506)][_0x212cd8(0x481)](_0x3d2185,this[_0x212cd8(0x219)][_0x212cd8(0x321)]);}catch(_0x223dc0){throw this[_0x212cd8(0x57c)][_0x212cd8(0x16d)](this[_0x212cd8(0x168)]+'\x20('+this[_0x212cd8(0x219)][_0x212cd8(0x321)]+_0x212cd8(0x3a1)+_0x223dc0),new w('Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20'+_0x223dc0);}}async[a0_0x39ce6a(0x15d)](_0x16e375){const _0x273d5e=a0_0x39ce6a;try{this[_0x273d5e(0x57c)][_0x273d5e(0x5b1)](this[_0x273d5e(0x168)]+'\x20('+this['instance'][_0x273d5e(0x321)]+_0x273d5e(0x418)),delete _0x16e375[_0x273d5e(0x57f)],delete _0x16e375[_0x273d5e(0x1e4)],delete _0x16e375[_0x273d5e(0x3cb)],_0x16e375[_0x273d5e(0x6b8)]===!0x0&&await this[_0x273d5e(0x422)][_0x273d5e(0x506)][_0x273d5e(0x602)]({},{'default':!0x1},this[_0x273d5e(0x219)]['wuid']);let _0x1b5f20=new ce[(_0x273d5e(0x320))][(_0x273d5e(0x217))](),_0x5778a5={'_id':_0x1b5f20,'default':!0x0,'title':_0x273d5e(0x731),'x':0x0,'y':0x0},_0x5708e1={'_id':new ce[(_0x273d5e(0x320))][(_0x273d5e(0x217))](),'order':0x1,'groupId':_0x1b5f20[_0x273d5e(0x30b)](),'type':_0x273d5e(0x4c9)},_0x3b05c6={'_id':new ce['Types']['ObjectId'](),'owner':this['instance'][_0x273d5e(0x321)],'name':_0x16e375[_0x273d5e(0x257)],'groups':[_0x5778a5],'blocks':[_0x5708e1],..._0x16e375};return await this['repository'][_0x273d5e(0x506)][_0x273d5e(0x481)](_0x3b05c6,this[_0x273d5e(0x219)][_0x273d5e(0x321)]);}catch(_0x4f7366){throw this[_0x273d5e(0x57c)]['error'](this[_0x273d5e(0x168)]+'\x20('+this[_0x273d5e(0x219)][_0x273d5e(0x321)]+_0x273d5e(0x6c9)+_0x4f7366),new w(_0x273d5e(0x6b6)+_0x4f7366);}}async[a0_0x39ce6a(0x479)](_0x4190a8,_0x43cdc9){const _0x3d7f48=a0_0x39ce6a;try{let _0x3b7f92=await this[_0x3d7f48(0x422)]['flow']['findOne']({'where':{'_id':_0x4190a8}},_0x43cdc9);if(_0x3b7f92&&_0x3b7f92[_0x3d7f48(0x57f)]){for(let _0x3c7bad of _0x3b7f92[_0x3d7f48(0x57f)])if(_0x3c7bad!==_0x43cdc9){let _0xfe6b63={..._0x3b7f92,'owner':_0x3c7bad};await this[_0x3d7f48(0x422)][_0x3d7f48(0x506)]['replaceOne'](_0x4190a8,_0xfe6b63,_0x3c7bad);}}}catch(_0x2f37af){this['logger'][_0x3d7f48(0x16d)](_0x3d7f48(0x3d7)+_0x2f37af);}}async[a0_0x39ce6a(0x1c6)](_0x43e34c){const _0x433425=a0_0x39ce6a;try{this[_0x433425(0x57c)][_0x433425(0x5b1)](this['instanceName']+'\x20('+this['instance'][_0x433425(0x321)]+'):\x20Deletando\x20fluxo...');let _0x2aba32=await this[_0x433425(0x422)]['flow'][_0x433425(0x5c1)]({'where':{'name':_0x43e34c}},this[_0x433425(0x219)][_0x433425(0x321)]);if(_0x2aba32&&_0x2aba32[_0x433425(0x57f)]&&_0x2aba32[_0x433425(0x57f)][_0x433425(0x44f)]>0x1){for(let _0x531ad5 of _0x2aba32[_0x433425(0x57f)])if(_0x531ad5!==this['instance'][_0x433425(0x321)]){let _0x481e8=await this[_0x433425(0x422)][_0x433425(0x506)][_0x433425(0x5c1)]({'where':{'sharePass':_0x2aba32['sharePass']}},_0x531ad5);_0x481e8&&(_0x481e8[_0x433425(0x57f)]=_0x481e8[_0x433425(0x57f)][_0x433425(0x558)](_0x3410e1=>_0x3410e1!==_0x2aba32[_0x433425(0x3cb)]),await this[_0x433425(0x422)][_0x433425(0x506)][_0x433425(0x455)](_0x481e8['_id'],{'shareOwners':_0x481e8['shareOwners']},_0x531ad5));}}return await this[_0x433425(0x422)][_0x433425(0x506)][_0x433425(0x361)]({'where':{'name':_0x43e34c}},this[_0x433425(0x219)][_0x433425(0x321)]);}catch(_0x5cf713){return this[_0x433425(0x57c)]['error'](this[_0x433425(0x168)]+'\x20('+this[_0x433425(0x219)]['wuid']+'):\x20Erro\x20ao\x20deletar\x20fluxo\x20'+(_0x5cf713 instanceof Error?_0x5cf713[_0x433425(0x1f0)]:JSON[_0x433425(0x613)](_0x5cf713,null,0x2))),{'message':'Erro\x20ao\x20deletar\x20o\x20fluxo:\x20'+_0x5cf713};}}async['getFlow'](_0x49e27f){const _0x5e687f=a0_0x39ce6a;try{this[_0x5e687f(0x57c)][_0x5e687f(0x5b1)](this[_0x5e687f(0x168)]+'\x20('+this['instance']['wuid']+_0x5e687f(0x70b));let _0xa82aac=await this[_0x5e687f(0x422)]['flow']['findOne']({'where':{'name':_0x49e27f}},this[_0x5e687f(0x219)][_0x5e687f(0x321)]);if(!_0xa82aac)throw new Error('Flow\x20não\x20encontrado');if(!this[_0x5e687f(0x719)]&&(await this[_0x5e687f(0x6c8)](),!this[_0x5e687f(0x719)]))return null;let _0x4aabb5=this[_0x5e687f(0x719)]?.[_0x5e687f(0x68c)][_0x5e687f(0x477)](_0x4a7698=>_0x4a7698['name']),_0x198f4c=['nome',_0x5e687f(0x413),'email','cpf',_0x5e687f(0x162),'notas',_0x5e687f(0x25e),_0x5e687f(0x42a),_0x5e687f(0x6ca)];_0xa82aac[_0x5e687f(0x4fe)]=_0xa82aac['variables'][_0x5e687f(0x558)](_0x285dcb=>!(_0x285dcb['folder']===_0x5e687f(0x488)||_0x285dcb[_0x5e687f(0x488)])),_0x198f4c['forEach'](_0x34b828=>{const _0x588e97=_0x5e687f;_0xa82aac[_0x588e97(0x4fe)][_0x588e97(0x41f)]({'folder':_0x588e97(0x488),'name':_0x34b828,'value':'','doc':'','leadInfo':!0x0});}),_0x4aabb5['forEach'](_0x1d62b0=>{const _0xc4ee8=_0x5e687f;let _0x1c5c59=_0xa82aac[_0xc4ee8(0x4fe)]['findIndex'](_0x33b820=>_0x33b820[_0xc4ee8(0x257)]===_0x1d62b0);_0x1c5c59===-0x1?_0xa82aac[_0xc4ee8(0x4fe)][_0xc4ee8(0x41f)]({'folder':'leadInfo','name':_0x1d62b0,'value':'','doc':'','leadInfo':!0x0}):(_0xa82aac[_0xc4ee8(0x4fe)][_0x1c5c59][_0xc4ee8(0x485)]='leadInfo',_0xa82aac[_0xc4ee8(0x4fe)][_0x1c5c59][_0xc4ee8(0x488)]=!0x0);}),_0xa82aac[_0x5e687f(0x292)]&&_0xa82aac['blocks'][_0x5e687f(0x44f)]>0x0&&_0xa82aac[_0x5e687f(0x292)][_0x5e687f(0x797)](_0x1625c6=>{const _0x38d1e6=_0x5e687f;_0x1625c6[_0x38d1e6(0x627)]&&_0x1625c6[_0x38d1e6(0x461)]&&_0x1625c6[_0x38d1e6(0x627)]===_0x1625c6[_0x38d1e6(0x461)]&&(_0x1625c6[_0x38d1e6(0x461)]=null);});let _0x5458b0=await this[_0x5e687f(0x422)]['flow'][_0x5e687f(0x455)](_0xa82aac[_0x5e687f(0x3bb)],_0xa82aac,this[_0x5e687f(0x219)][_0x5e687f(0x321)]);if(!_0x5458b0)throw new Error(_0x5e687f(0x60f));return _0x5458b0;}catch(_0x2a1511){throw this['logger'][_0x5e687f(0x16d)](this[_0x5e687f(0x168)]+'\x20('+this[_0x5e687f(0x219)][_0x5e687f(0x321)]+_0x5e687f(0x411)+(_0x2a1511 instanceof Error?_0x2a1511[_0x5e687f(0x1f0)]:JSON['stringify'](_0x2a1511,null,0x2))),new w(_0x5e687f(0x33f)+_0x2a1511);}}async[a0_0x39ce6a(0x6e2)](){const _0x4c1cbb=a0_0x39ce6a;try{return this['logger']['verbose'](this[_0x4c1cbb(0x168)]+'\x20('+this[_0x4c1cbb(0x219)][_0x4c1cbb(0x321)]+_0x4c1cbb(0x2cf)),await this['repository'][_0x4c1cbb(0x506)][_0x4c1cbb(0x18e)](this[_0x4c1cbb(0x219)][_0x4c1cbb(0x321)]),await this[_0x4c1cbb(0x422)][_0x4c1cbb(0x506)][_0x4c1cbb(0x537)]({'where':{}},this[_0x4c1cbb(0x219)][_0x4c1cbb(0x321)]);}catch(_0x1d2a1d){return this[_0x4c1cbb(0x57c)][_0x4c1cbb(0x16d)](this[_0x4c1cbb(0x168)]+'\x20('+this['instance'][_0x4c1cbb(0x321)]+_0x4c1cbb(0x1ee)+(_0x1d2a1d instanceof Error?_0x1d2a1d[_0x4c1cbb(0x1f0)]:JSON[_0x4c1cbb(0x613)](_0x1d2a1d,null,0x2))),{'message':_0x4c1cbb(0x42f)+_0x1d2a1d};}}async['editFlow'](_0x5ab43a){const _0x3b0ba4=a0_0x39ce6a;try{this[_0x3b0ba4(0x57c)][_0x3b0ba4(0x5b1)](this['instanceName']+'\x20('+this[_0x3b0ba4(0x219)][_0x3b0ba4(0x321)]+_0x3b0ba4(0x2e9));let _0x3dc0ba=await this['repository'][_0x3b0ba4(0x506)][_0x3b0ba4(0x5c1)]({'where':{'name':_0x5ab43a['name']}},this[_0x3b0ba4(0x219)][_0x3b0ba4(0x321)]);if(!_0x3dc0ba)return{'message':'Fluxo\x20não\x20encontrado'};_0x5ab43a[_0x3b0ba4(0x6b8)]===!0x0&&await this[_0x3b0ba4(0x422)]['flow'][_0x3b0ba4(0x602)]({},{'default':!0x1},this[_0x3b0ba4(0x219)][_0x3b0ba4(0x321)]),delete _0x5ab43a['shareOwners'],delete _0x5ab43a[_0x3b0ba4(0x1e4)];let _0x19719d=await this[_0x3b0ba4(0x422)][_0x3b0ba4(0x506)][_0x3b0ba4(0x455)](_0x3dc0ba['_id'],_0x5ab43a,this['instance'][_0x3b0ba4(0x321)]);return _0x19719d&&_0x19719d[_0x3b0ba4(0x57f)]&&_0x19719d[_0x3b0ba4(0x57f)][_0x3b0ba4(0x44f)]>0x1&&this[_0x3b0ba4(0x479)](_0x19719d[_0x3b0ba4(0x3bb)],this[_0x3b0ba4(0x219)][_0x3b0ba4(0x321)]),_0x19719d;}catch(_0x4ccbee){throw this[_0x3b0ba4(0x57c)][_0x3b0ba4(0x16d)](this[_0x3b0ba4(0x168)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20alterar\x20fluxo:\x20'+(_0x4ccbee instanceof Error?_0x4ccbee['message']:JSON[_0x3b0ba4(0x613)](_0x4ccbee,null,0x2))),new w(_0x3b0ba4(0x27c)+(_0x4ccbee instanceof Error?_0x4ccbee[_0x3b0ba4(0x1f0)]:JSON[_0x3b0ba4(0x613)](_0x4ccbee,null,0x2)));}}async[a0_0x39ce6a(0x68f)](_0x356794){const _0x39c70e=a0_0x39ce6a;try{this['logger']['verbose'](this[_0x39c70e(0x168)]+'\x20('+this[_0x39c70e(0x219)]['wuid']+_0x39c70e(0x3a8));let _0x26cfa4=await this[_0x39c70e(0x422)]['flow'][_0x39c70e(0x5c1)]({'where':{'name':_0x356794[_0x39c70e(0x257)]}},this[_0x39c70e(0x219)]['wuid']);_0x26cfa4||this[_0x39c70e(0x3e0)](_0x39c70e(0x417));let {block:_0x45ac47}=_0x356794;_0x45ac47?.[_0x39c70e(0x2b8)]?this[_0x39c70e(0x58f)](_0x26cfa4,_0x356794):_0x45ac47?.['delete']?this['deleteBlock'](_0x26cfa4,_0x356794):_0x45ac47[_0x39c70e(0x3bb)]?await this[_0x39c70e(0x6e5)](_0x26cfa4,_0x356794):this[_0x39c70e(0x598)](_0x26cfa4,_0x356794);let _0x4effd4=await this[_0x39c70e(0x422)][_0x39c70e(0x506)]['updateOne'](_0x26cfa4[_0x39c70e(0x3bb)],_0x26cfa4,this['instance']['wuid']);if(_0x4effd4&&_0x4effd4[_0x39c70e(0x57f)]&&_0x4effd4['shareOwners'][_0x39c70e(0x44f)]>0x1&&this[_0x39c70e(0x479)](_0x4effd4['_id'],this[_0x39c70e(0x219)][_0x39c70e(0x321)]),!_0x4effd4)throw new Error(_0x39c70e(0x60f));return _0x4effd4;}catch(_0x23e1cd){this[_0x39c70e(0x3e0)](_0x39c70e(0x7a4)+_0x23e1cd);}}async[a0_0x39ce6a(0x58f)](_0x4c31d1,_0x31649d){const _0x1cffa7=a0_0x39ce6a;let _0x3f9339=_0x31649d[_0x1cffa7(0x1a2)][_0x1cffa7(0x3bb)],_0x1cf94e=_0x4c31d1[_0x1cffa7(0x292)][_0x1cffa7(0x280)](_0x5a40c3=>_0x5a40c3[_0x1cffa7(0x3bb)]['toString']()===_0x3f9339);if(!_0x1cf94e){this['logger'][_0x1cffa7(0x16d)](this[_0x1cffa7(0x168)]+'\x20('+this[_0x1cffa7(0x219)][_0x1cffa7(0x321)]+_0x1cffa7(0x40c)+_0x3f9339+_0x1cffa7(0x560));return;}this[_0x1cffa7(0x57c)][_0x1cffa7(0x5b1)](this[_0x1cffa7(0x168)]+'\x20('+this[_0x1cffa7(0x219)][_0x1cffa7(0x321)]+_0x1cffa7(0x1ab)+JSON[_0x1cffa7(0x613)](_0x1cf94e));let _0x5f8c22=JSON[_0x1cffa7(0x73c)](JSON['stringify'](_0x1cf94e));_0x5f8c22['_id']=new ce[(_0x1cffa7(0x6b8))][(_0x1cffa7(0x320))][(_0x1cffa7(0x217))](),this[_0x1cffa7(0x57c)][_0x1cffa7(0x5b1)](this[_0x1cffa7(0x168)]+'\x20('+this[_0x1cffa7(0x219)][_0x1cffa7(0x321)]+_0x1cffa7(0x44d)+JSON[_0x1cffa7(0x613)](_0x5f8c22)),_0x4c31d1[_0x1cffa7(0x292)][_0x1cffa7(0x41f)](_0x5f8c22),this[_0x1cffa7(0x6e3)](_0x4c31d1[_0x1cffa7(0x292)],_0x5f8c22[_0x1cffa7(0x627)]);}[a0_0x39ce6a(0x3e0)](_0x451e7e){const _0xd79545=a0_0x39ce6a;throw this[_0xd79545(0x57c)][_0xd79545(0x16d)](this[_0xd79545(0x168)]+'\x20('+this[_0xd79545(0x219)][_0xd79545(0x321)]+_0xd79545(0x16c)+_0x451e7e),new w(_0x451e7e);}[a0_0x39ce6a(0x394)](_0x3f5e61,_0x127da6){const _0x36ed8f=a0_0x39ce6a;let {block:_0x5cb6fc}=_0x127da6;if(_0x5cb6fc[_0x36ed8f(0x432)]==='start'){this['throwAndLogError'](_0x36ed8f(0x711));return;}if(!_0x5cb6fc[_0x36ed8f(0x3bb)]){this['throwAndLogError'](_0x36ed8f(0x2c2));return;}let _0x37dcff=_0x3f5e61[_0x36ed8f(0x292)]['find'](_0x1890dd=>_0x1890dd[_0x36ed8f(0x3bb)][_0x36ed8f(0x30b)]()===_0x127da6[_0x36ed8f(0x1a2)][_0x36ed8f(0x3bb)][_0x36ed8f(0x30b)]());if(!_0x37dcff){this['throwAndLogError'](_0x36ed8f(0x3dc)+_0x5cb6fc[_0x36ed8f(0x3bb)]+_0x36ed8f(0x752));return;}_0x3f5e61['blocks']=_0x3f5e61[_0x36ed8f(0x292)][_0x36ed8f(0x558)](_0x1f4289=>_0x1f4289[_0x36ed8f(0x3bb)]['toString']()!==_0x127da6[_0x36ed8f(0x1a2)]['_id'][_0x36ed8f(0x30b)]()),_0x3f5e61[_0x36ed8f(0x410)]=_0x3f5e61[_0x36ed8f(0x410)][_0x36ed8f(0x558)](_0x589a27=>_0x589a27[_0x36ed8f(0x1b8)]!==_0x5cb6fc[_0x36ed8f(0x3bb)][_0x36ed8f(0x30b)]()),_0x3f5e61[_0x36ed8f(0x3dd)]=_0x3f5e61[_0x36ed8f(0x3dd)]['filter'](_0x1608ff=>_0x1608ff['blockId']!==_0x5cb6fc[_0x36ed8f(0x3bb)]['toString']()),_0x3f5e61[_0x36ed8f(0x4b4)]=_0x3f5e61[_0x36ed8f(0x4b4)][_0x36ed8f(0x558)](_0x387bba=>_0x387bba[_0x36ed8f(0x1b8)]!==_0x5cb6fc[_0x36ed8f(0x3bb)][_0x36ed8f(0x30b)]()),this[_0x36ed8f(0x6e3)](_0x3f5e61['blocks'],_0x37dcff[_0x36ed8f(0x627)]);}async[a0_0x39ce6a(0x6e5)](_0x13bd02,_0x35b04f){const _0x22f79e=a0_0x39ce6a;let _0x5309c0=_0x13bd02[_0x22f79e(0x292)][_0x22f79e(0x3e3)](_0x543924=>_0x543924[_0x22f79e(0x3bb)][_0x22f79e(0x30b)]()===_0x35b04f[_0x22f79e(0x1a2)][_0x22f79e(0x3bb)][_0x22f79e(0x30b)]());if(this[_0x22f79e(0x57c)][_0x22f79e(0x5b1)](this['instanceName']+'\x20('+this['instance'][_0x22f79e(0x321)]+_0x22f79e(0x780)+_0x5309c0),_0x5309c0===-0x1){this[_0x22f79e(0x57c)][_0x22f79e(0x5b1)](_0x22f79e(0x3dc)+_0x35b04f[_0x22f79e(0x1a2)][_0x22f79e(0x3bb)]+_0x22f79e(0x180));return;}if(_0x13bd02[_0x22f79e(0x292)][_0x5309c0][_0x22f79e(0x432)]===_0x22f79e(0x4c9)){let _0x28964c=Object['keys'](_0x35b04f[_0x22f79e(0x1a2)]);if(_0x28964c[_0x22f79e(0x44f)]>0x2||_0x28964c[_0x22f79e(0x44f)]===0x2&&!_0x28964c[_0x22f79e(0x49a)]('next_groupId')){this['throwAndLogError'](_0x22f79e(0x551));return;}}let _0x279cd9=_0x13bd02[_0x22f79e(0x292)][_0x5309c0][_0x22f79e(0x627)];for(let _0x21570d in _0x35b04f['block'])_0x35b04f[_0x22f79e(0x1a2)][_0x22f79e(0x341)](_0x21570d)&&(_0x13bd02[_0x22f79e(0x292)][_0x5309c0][_0x21570d]=_0x35b04f['block'][_0x21570d]);if(this[_0x22f79e(0x57c)][_0x22f79e(0x5b1)](this[_0x22f79e(0x168)]+'\x20('+this['instance'][_0x22f79e(0x321)]+_0x22f79e(0x3e2)+JSON[_0x22f79e(0x613)](_0x13bd02[_0x22f79e(0x292)][_0x5309c0])),_0x13bd02[_0x22f79e(0x292)][_0x5309c0]['apirequest']&&_0x22f79e(0x5ee)in _0x13bd02[_0x22f79e(0x292)][_0x5309c0]['apirequest']){this[_0x22f79e(0x57c)][_0x22f79e(0x5b1)](this['instanceName']+'\x20('+this['instance'][_0x22f79e(0x321)]+_0x22f79e(0x717));let _0x1e0994=JSON['stringify'](_0x13bd02[_0x22f79e(0x292)][_0x5309c0][_0x22f79e(0x1d6)]['header'],null,0x1);_0x1e0994[_0x22f79e(0x44f)]>0x2&&(_0x1e0994=_0x1e0994[_0x22f79e(0x441)](0x1,_0x1e0994[_0x22f79e(0x44f)]-0x1)[_0x22f79e(0x597)]()),_0x13bd02[_0x22f79e(0x292)][_0x5309c0][_0x22f79e(0x1d6)][_0x22f79e(0x4b5)]=_0x1e0994;}if(_0x13bd02['blocks'][_0x5309c0][_0x22f79e(0x1d6)]&&_0x22f79e(0x7c5)in _0x13bd02[_0x22f79e(0x292)][_0x5309c0]['apirequest']){this[_0x22f79e(0x57c)][_0x22f79e(0x5b1)](this[_0x22f79e(0x168)]+'\x20('+this[_0x22f79e(0x219)][_0x22f79e(0x321)]+_0x22f79e(0x71f));let _0x3c07dd=JSON['stringify'](_0x13bd02[_0x22f79e(0x292)][_0x5309c0][_0x22f79e(0x1d6)]['body'],null,0x1);_0x3c07dd['length']>0x2&&(_0x3c07dd=_0x3c07dd[_0x22f79e(0x441)](0x1,_0x3c07dd[_0x22f79e(0x44f)]-0x1)['trim']()),_0x13bd02[_0x22f79e(0x292)][_0x5309c0][_0x22f79e(0x1d6)]['bodyString']=_0x3c07dd;}let _0x2f5342=_0x13bd02[_0x22f79e(0x292)][_0x5309c0]['groupId'];_0x279cd9!==_0x2f5342?(this[_0x22f79e(0x6e3)](_0x13bd02['blocks'],_0x279cd9),this[_0x22f79e(0x6e3)](_0x13bd02['blocks'],_0x2f5342)):this['reorderBlocks'](_0x13bd02['blocks'],_0x279cd9);}[a0_0x39ce6a(0x598)](_0x55bc84,_0xd325ce){const _0x216be2=a0_0x39ce6a;if(_0xd325ce['block'][_0x216be2(0x432)]===_0x216be2(0x4c9)){this[_0x216be2(0x3e0)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0xd325ce[_0x216be2(0x1a2)][_0x216be2(0x1d6)]&&_0x216be2(0x5ee)in _0xd325ce[_0x216be2(0x1a2)][_0x216be2(0x1d6)]){this[_0x216be2(0x57c)][_0x216be2(0x5b1)](this['instanceName']+'\x20('+this['instance'][_0x216be2(0x321)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x30b7a9=JSON[_0x216be2(0x613)](_0xd325ce['block'][_0x216be2(0x1d6)]['header'],null,0x1);_0x30b7a9[_0x216be2(0x44f)]>0x2&&(_0x30b7a9=_0x30b7a9[_0x216be2(0x441)](0x1,_0x30b7a9[_0x216be2(0x44f)]-0x1)[_0x216be2(0x597)]()),_0xd325ce[_0x216be2(0x1a2)][_0x216be2(0x1d6)][_0x216be2(0x4b5)]=_0x30b7a9;}_0xd325ce[_0x216be2(0x1a2)][_0x216be2(0x1d6)]&&_0x216be2(0x7c5)in _0xd325ce[_0x216be2(0x1a2)][_0x216be2(0x1d6)]&&(this[_0x216be2(0x57c)][_0x216be2(0x5b1)](this[_0x216be2(0x168)]+'\x20('+this['instance'][_0x216be2(0x321)]+_0x216be2(0x71f)),_0xd325ce[_0x216be2(0x1a2)]['apirequest']['bodyString']=JSON[_0x216be2(0x613)](_0xd325ce[_0x216be2(0x1a2)][_0x216be2(0x1d6)][_0x216be2(0x7c5)],null,0x1)[_0x216be2(0x597)]()),_0x55bc84[_0x216be2(0x292)]['push'](_0xd325ce[_0x216be2(0x1a2)]),this[_0x216be2(0x6e3)](_0x55bc84[_0x216be2(0x292)],_0xd325ce['block'][_0x216be2(0x627)]);}[a0_0x39ce6a(0x6e3)](_0x5c9ea1,_0x1da564){const _0x1bb258=a0_0x39ce6a;let _0x4a21f4=_0x5c9ea1[_0x1bb258(0x558)](_0x41553c=>_0x41553c['groupId']===_0x1da564);_0x4a21f4['sort']((_0x58c396,_0x1f782f)=>_0x58c396[_0x1bb258(0x57a)]-_0x1f782f[_0x1bb258(0x57a)]),_0x4a21f4[_0x1bb258(0x797)]((_0x40a674,_0x8416bd)=>_0x40a674[_0x1bb258(0x57a)]=_0x8416bd+0x1);}async['editFlowReply'](_0x3f0a55){const _0x4e1744=a0_0x39ce6a;try{if(this[_0x4e1744(0x57c)][_0x4e1744(0x5b1)](this[_0x4e1744(0x168)]+'\x20('+this['instance'][_0x4e1744(0x321)]+_0x4e1744(0x753)),!_0x3f0a55||!_0x3f0a55[_0x4e1744(0x4d3)]){this['throwAndLogError'](_0x4e1744(0x2e6));return;}let _0x2cfda9=await this[_0x4e1744(0x422)][_0x4e1744(0x506)][_0x4e1744(0x5c1)]({'where':{'name':_0x3f0a55[_0x4e1744(0x257)]}},this[_0x4e1744(0x219)]['wuid']);_0x2cfda9||this['throwAndLogError'](_0x4e1744(0x417));let {replyOption:_0x2c225d}=_0x3f0a55;_0x2c225d?.[_0x4e1744(0x24c)]?(this[_0x4e1744(0x328)](_0x2cfda9,_0x3f0a55),this[_0x4e1744(0x78d)](_0x2cfda9[_0x4e1744(0x4b4)],_0x3f0a55[_0x4e1744(0x4d3)][_0x4e1744(0x1b8)])):_0x2c225d[_0x4e1744(0x3bb)]?(await this[_0x4e1744(0x615)](_0x2cfda9,_0x3f0a55),this[_0x4e1744(0x78d)](_0x2cfda9['replyOptions'],_0x3f0a55[_0x4e1744(0x4d3)][_0x4e1744(0x1b8)])):(this[_0x4e1744(0x621)](_0x2cfda9,_0x3f0a55),this[_0x4e1744(0x78d)](_0x2cfda9[_0x4e1744(0x4b4)],_0x3f0a55[_0x4e1744(0x4d3)][_0x4e1744(0x1b8)]));let _0x4e5d97=await this[_0x4e1744(0x422)][_0x4e1744(0x506)][_0x4e1744(0x455)](_0x2cfda9[_0x4e1744(0x3bb)],_0x2cfda9,this[_0x4e1744(0x219)][_0x4e1744(0x321)]);if(_0x4e5d97&&_0x4e5d97[_0x4e1744(0x57f)]&&_0x4e5d97[_0x4e1744(0x57f)][_0x4e1744(0x44f)]>0x1&&this['synchronizeFlows'](_0x4e5d97[_0x4e1744(0x3bb)],this[_0x4e1744(0x219)]['wuid']),!_0x4e5d97)throw new Error(_0x4e1744(0x60f));return _0x4e5d97;}catch(_0x1594ac){this[_0x4e1744(0x3e0)](_0x4e1744(0x531)+_0x1594ac);}}['reorderReplyOptions'](_0xda999,_0x1887c6){const _0x12b983=a0_0x39ce6a;console[_0x12b983(0x4e5)](_0x12b983(0x3d5),_0x1887c6),_0xda999[_0x12b983(0x797)](_0x59ec4d=>{const _0x1abbd6=_0x12b983;_0x59ec4d[_0x1abbd6(0x1b8)]===_0x1887c6&&_0x59ec4d[_0x1abbd6(0x57a)]===void 0x0&&(_0x59ec4d[_0x1abbd6(0x57a)]=0x270f);});let _0x1fc4b1=_0xda999[_0x12b983(0x558)](_0x2d3dca=>_0x2d3dca[_0x12b983(0x1b8)]===_0x1887c6);_0x1fc4b1['sort']((_0x4b28ba,_0x29ffcb)=>_0x4b28ba[_0x12b983(0x57a)]-_0x29ffcb[_0x12b983(0x57a)]),_0x1fc4b1[_0x12b983(0x797)]((_0x520296,_0x1ff1b4)=>{const _0x2cd1c3=_0x12b983;_0x520296[_0x2cd1c3(0x57a)]=_0x1ff1b4+0x1;}),_0xda999[_0x12b983(0x797)](_0x2a664d=>{const _0x96f76a=_0x12b983;if(_0x2a664d['blockId']===_0x1887c6){let _0x53eb7e=_0x1fc4b1[_0x96f76a(0x280)](_0x6d7027=>_0x6d7027[_0x96f76a(0x3bb)]&&_0x2a664d[_0x96f76a(0x3bb)]&&_0x6d7027['_id'][_0x96f76a(0x30b)]()===_0x2a664d[_0x96f76a(0x3bb)][_0x96f76a(0x30b)]());_0x53eb7e&&(_0x2a664d[_0x96f76a(0x57a)]=_0x53eb7e['order']);}}),console[_0x12b983(0x4e5)]('ReplyOptions\x20finais\x20após\x20reordenação:',_0xda999);}[a0_0x39ce6a(0x328)](_0x46ff6d,_0x1c5c9e){const _0x8e3c10=a0_0x39ce6a;let {replyOption:_0x111b8a}=_0x1c5c9e;if(!_0x111b8a['_id']){this[_0x8e3c10(0x3e0)](_0x8e3c10(0x783));return;}if(!_0x46ff6d['replyOptions']['find'](_0x4001cf=>_0x4001cf[_0x8e3c10(0x3bb)]['toString']()===_0x1c5c9e[_0x8e3c10(0x4d3)]['_id'][_0x8e3c10(0x30b)]())){this[_0x8e3c10(0x3e0)](_0x8e3c10(0x16a)+_0x111b8a[_0x8e3c10(0x3bb)]+'\x20não\x20encontrado');return;}_0x46ff6d['replyOptions']=_0x46ff6d[_0x8e3c10(0x4b4)][_0x8e3c10(0x558)](_0x2aaad1=>_0x2aaad1[_0x8e3c10(0x3bb)]['toString']()!==_0x1c5c9e[_0x8e3c10(0x4d3)][_0x8e3c10(0x3bb)]['toString']());}async[a0_0x39ce6a(0x615)](_0xcaf0d1,_0x11597e){const _0x20376f=a0_0x39ce6a;let _0x336b44=_0xcaf0d1[_0x20376f(0x4b4)][_0x20376f(0x3e3)](_0x203f35=>_0x203f35[_0x20376f(0x3bb)][_0x20376f(0x30b)]()===_0x11597e[_0x20376f(0x4d3)][_0x20376f(0x3bb)][_0x20376f(0x30b)]());if(_0x336b44===-0x1){this['throwAndLogError'](_0x20376f(0x16a)+_0x11597e[_0x20376f(0x4d3)][_0x20376f(0x3bb)]+_0x20376f(0x180));return;}for(let _0x527a8a in _0x11597e['replyOption'])_0x11597e[_0x20376f(0x4d3)]['hasOwnProperty'](_0x527a8a)&&(_0xcaf0d1[_0x20376f(0x4b4)][_0x336b44][_0x527a8a]=_0x11597e['replyOption'][_0x527a8a]);}[a0_0x39ce6a(0x621)](_0x1162e8,_0x5f1ba1){const _0xa311=a0_0x39ce6a;_0x1162e8[_0xa311(0x4b4)][_0xa311(0x41f)](_0x5f1ba1['replyOption']);}async[a0_0x39ce6a(0x763)](_0x322586){const _0x483d2b=a0_0x39ce6a;this[_0x483d2b(0x57c)][_0x483d2b(0x5b1)](this[_0x483d2b(0x168)]+'\x20('+this[_0x483d2b(0x219)][_0x483d2b(0x321)]+_0x483d2b(0x689)+_0x322586);try{this[_0x483d2b(0x57c)]['verbose'](this[_0x483d2b(0x168)]+'\x20('+this[_0x483d2b(0x219)][_0x483d2b(0x321)]+'):\x20Editando\x20grupo\x20do\x20fluxo...');let _0x159e61=await this['repository'][_0x483d2b(0x506)][_0x483d2b(0x5c1)]({'where':{'name':_0x322586[_0x483d2b(0x257)]}},this[_0x483d2b(0x219)][_0x483d2b(0x321)]);if(!_0x159e61)throw new Error(_0x483d2b(0x417));if(_0x322586[_0x483d2b(0x3db)]&&_0x322586[_0x483d2b(0x3db)]?.['delete']===!0x0){if(this[_0x483d2b(0x57c)][_0x483d2b(0x5b1)](this[_0x483d2b(0x168)]+'\x20('+this['instance'][_0x483d2b(0x321)]+_0x483d2b(0x212)),_0x322586[_0x483d2b(0x3db)]['default']===!0x0)return{'message':_0x483d2b(0x188)};if(_0x159e61[_0x483d2b(0x292)][_0x483d2b(0x51e)](_0x4a3dd6=>_0x4a3dd6[_0x483d2b(0x627)][_0x483d2b(0x30b)]()===_0x322586[_0x483d2b(0x3db)][_0x483d2b(0x3bb)]))return this[_0x483d2b(0x57c)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x483d2b(0x321)]+_0x483d2b(0x3ce)),{'message':_0x483d2b(0x79f)};_0x159e61['groups']=_0x159e61['groups'][_0x483d2b(0x558)](_0x2a25af=>_0x2a25af[_0x483d2b(0x3bb)]['toString']()!==_0x322586['group'][_0x483d2b(0x3bb)]);}else{if(_0x322586[_0x483d2b(0x3db)]){if(_0x322586[_0x483d2b(0x3db)][_0x483d2b(0x6b8)]===!0x0)return{'message':_0x483d2b(0x234)};if(_0x322586[_0x483d2b(0x3db)]['_id']){let _0x15fd9b=_0x159e61['groups']['find'](_0x1800e4=>_0x1800e4[_0x483d2b(0x3bb)]['toString']()===_0x322586[_0x483d2b(0x3db)][_0x483d2b(0x3bb)]);_0x15fd9b&&(_0x322586[_0x483d2b(0x3db)]['x']<0x0&&(_0x322586[_0x483d2b(0x3db)]['x']=0x0),_0x322586[_0x483d2b(0x3db)]['y']<0x0&&(_0x322586[_0x483d2b(0x3db)]['y']=0x0),Object['assign'](_0x15fd9b,_0x322586[_0x483d2b(0x3db)]));}else _0x159e61['groups'][_0x483d2b(0x41f)](_0x322586[_0x483d2b(0x3db)]);}}let _0xc3f03f=await this['repository'][_0x483d2b(0x506)]['updateOne'](_0x159e61[_0x483d2b(0x3bb)],_0x159e61,this[_0x483d2b(0x219)][_0x483d2b(0x321)]);if(_0xc3f03f&&_0xc3f03f[_0x483d2b(0x57f)]&&_0xc3f03f[_0x483d2b(0x57f)][_0x483d2b(0x44f)]>0x1&&this[_0x483d2b(0x479)](_0xc3f03f['_id'],this[_0x483d2b(0x219)][_0x483d2b(0x321)]),!_0xc3f03f)throw new Error(_0x483d2b(0x60f));return _0xc3f03f;}catch(_0x29b7fe){throw this[_0x483d2b(0x57c)][_0x483d2b(0x16d)](this[_0x483d2b(0x168)]+'\x20('+this['instance']['wuid']+_0x483d2b(0x7a6)+(_0x29b7fe instanceof Error?_0x29b7fe['message']:JSON[_0x483d2b(0x613)](_0x29b7fe,null,0x2))),new w(_0x483d2b(0x3b7)+(_0x29b7fe instanceof Error?_0x29b7fe['message']:JSON[_0x483d2b(0x613)](_0x29b7fe,null,0x2)));}}async[a0_0x39ce6a(0x4fd)](_0x5a582d){const _0x17ee37=a0_0x39ce6a;try{this[_0x17ee37(0x57c)][_0x17ee37(0x5b1)](this[_0x17ee37(0x168)]+'\x20('+this[_0x17ee37(0x219)]['wuid']+_0x17ee37(0x3e9));let _0x41c12b=await this['repository'][_0x17ee37(0x506)][_0x17ee37(0x5c1)]({'where':{'name':_0x5a582d[_0x17ee37(0x257)]}},this[_0x17ee37(0x219)][_0x17ee37(0x321)]);if(!_0x41c12b)throw new Error(_0x17ee37(0x417));let _0x4fdd9a=!0x1;if(_0x5a582d[_0x17ee37(0x685)]?.[_0x17ee37(0x24c)]===!0x0)_0x41c12b[_0x17ee37(0x410)]=_0x41c12b[_0x17ee37(0x410)][_0x17ee37(0x558)](_0x466fc4=>_0x466fc4&&_0x5a582d[_0x17ee37(0x685)]&&_0x466fc4[_0x17ee37(0x3bb)]&&_0x5a582d[_0x17ee37(0x685)]['_id']&&_0x466fc4['_id']['toString']()!==_0x5a582d['condition']['_id'][_0x17ee37(0x30b)]()),_0x4fdd9a=!0x0;else{let _0x2dd57e=_0x41c12b[_0x17ee37(0x410)][_0x17ee37(0x280)](_0x343650=>_0x343650&&_0x5a582d[_0x17ee37(0x685)]&&_0x343650[_0x17ee37(0x3bb)]&&_0x5a582d['condition'][_0x17ee37(0x3bb)]&&_0x343650[_0x17ee37(0x3bb)][_0x17ee37(0x30b)]()===_0x5a582d[_0x17ee37(0x685)]['_id'][_0x17ee37(0x30b)]());_0x2dd57e?(_0x4fdd9a=_0x2dd57e[_0x17ee37(0x57a)]!==_0x5a582d[_0x17ee37(0x685)][_0x17ee37(0x57a)],Object['assign'](_0x2dd57e,_0x5a582d['condition'])):(_0x41c12b[_0x17ee37(0x410)][_0x17ee37(0x41f)](_0x5a582d[_0x17ee37(0x685)]),_0x4fdd9a=!0x0);}if(_0x4fdd9a){_0x41c12b[_0x17ee37(0x410)]['sort']((_0x3702ff,_0x2409a0)=>_0x3702ff[_0x17ee37(0x57a)]>_0x2409a0['order']?0x1:_0x2409a0['order']>_0x3702ff[_0x17ee37(0x57a)]?-0x1:0x0);for(let _0x488f95=0x0;_0x488f95<_0x41c12b[_0x17ee37(0x410)][_0x17ee37(0x44f)];_0x488f95++)_0x41c12b[_0x17ee37(0x410)][_0x488f95][_0x17ee37(0x57a)]=_0x488f95+0x1;_0x41c12b[_0x17ee37(0x410)]['length']>0x0&&(_0x41c12b['conditions'][0x0]['OrAnd']=_0x17ee37(0x2c7));}let _0x3feeb1=await this['repository'][_0x17ee37(0x506)][_0x17ee37(0x455)](_0x41c12b['_id'],_0x41c12b,this['instance'][_0x17ee37(0x321)]);if(_0x3feeb1&&_0x3feeb1['shareOwners']&&_0x3feeb1[_0x17ee37(0x57f)]['length']>0x1&&this[_0x17ee37(0x479)](_0x3feeb1[_0x17ee37(0x3bb)],this[_0x17ee37(0x219)][_0x17ee37(0x321)]),!_0x3feeb1)throw new Error(_0x17ee37(0x60f));return _0x3feeb1;}catch(_0x4a1f91){throw this[_0x17ee37(0x57c)][_0x17ee37(0x16d)](this[_0x17ee37(0x168)]+'\x20('+this['instance'][_0x17ee37(0x321)]+_0x17ee37(0x314)+(_0x4a1f91 instanceof Error?_0x4a1f91[_0x17ee37(0x1f0)]:JSON[_0x17ee37(0x613)](_0x4a1f91,null,0x2))),new Error(_0x17ee37(0x515)+(_0x4a1f91 instanceof Error?_0x4a1f91['message']:JSON[_0x17ee37(0x613)](_0x4a1f91,null,0x2)));}}async[a0_0x39ce6a(0x2ee)](_0x447a58){const _0x5cbb19=a0_0x39ce6a;try{this['logger'][_0x5cbb19(0x5b1)](this[_0x5cbb19(0x168)]+'\x20('+this['instance']['wuid']+_0x5cbb19(0x4bc));let _0x25731c=await this[_0x5cbb19(0x422)][_0x5cbb19(0x506)][_0x5cbb19(0x5c1)]({'where':{'name':_0x447a58[_0x5cbb19(0x257)]}},this['instance'][_0x5cbb19(0x321)]);if(!_0x25731c)throw new Error(_0x5cbb19(0x417));let _0x444013=!0x1;if(_0x447a58[_0x5cbb19(0x1a0)]?.['delete']===!0x0)_0x25731c[_0x5cbb19(0x3dd)]=_0x25731c['varedits'][_0x5cbb19(0x558)](_0x21dd05=>_0x21dd05&&_0x447a58[_0x5cbb19(0x1a0)]&&_0x21dd05[_0x5cbb19(0x3bb)]&&_0x447a58[_0x5cbb19(0x1a0)][_0x5cbb19(0x3bb)]&&_0x21dd05[_0x5cbb19(0x3bb)][_0x5cbb19(0x30b)]()!==_0x447a58[_0x5cbb19(0x1a0)][_0x5cbb19(0x3bb)][_0x5cbb19(0x30b)]()),_0x444013=!0x0;else{let _0x53b600=_0x25731c['varedits']['find'](_0x93cdbd=>_0x93cdbd&&_0x447a58[_0x5cbb19(0x1a0)]&&_0x93cdbd['_id']&&_0x447a58[_0x5cbb19(0x1a0)][_0x5cbb19(0x3bb)]&&_0x93cdbd[_0x5cbb19(0x3bb)][_0x5cbb19(0x30b)]()===_0x447a58[_0x5cbb19(0x1a0)][_0x5cbb19(0x3bb)][_0x5cbb19(0x30b)]());_0x53b600?(_0x444013=_0x53b600[_0x5cbb19(0x57a)]!==_0x447a58['varedit']['order'],Object[_0x5cbb19(0x5f0)](_0x53b600,_0x447a58[_0x5cbb19(0x1a0)])):(_0x25731c[_0x5cbb19(0x3dd)][_0x5cbb19(0x41f)](_0x447a58[_0x5cbb19(0x1a0)]),_0x444013=!0x0);}if(_0x444013){_0x25731c[_0x5cbb19(0x3dd)]['sort']((_0x28fce2,_0x1986dd)=>_0x28fce2[_0x5cbb19(0x57a)]>_0x1986dd['order']?0x1:_0x1986dd[_0x5cbb19(0x57a)]>_0x28fce2[_0x5cbb19(0x57a)]?-0x1:0x0);for(let _0x30eea2=0x0;_0x30eea2<_0x25731c[_0x5cbb19(0x3dd)]['length'];_0x30eea2++)_0x25731c[_0x5cbb19(0x3dd)][_0x30eea2][_0x5cbb19(0x57a)]=_0x30eea2+0x1;}let _0x553fc6=await this['repository'][_0x5cbb19(0x506)][_0x5cbb19(0x455)](_0x25731c[_0x5cbb19(0x3bb)],_0x25731c,this[_0x5cbb19(0x219)][_0x5cbb19(0x321)]);if(_0x553fc6&&_0x553fc6[_0x5cbb19(0x57f)]&&_0x553fc6[_0x5cbb19(0x57f)][_0x5cbb19(0x44f)]>0x1&&this[_0x5cbb19(0x479)](_0x553fc6[_0x5cbb19(0x3bb)],this[_0x5cbb19(0x219)][_0x5cbb19(0x321)]),!_0x553fc6)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x553fc6;}catch(_0x1cdc42){throw this[_0x5cbb19(0x57c)]['error'](this[_0x5cbb19(0x168)]+'\x20('+this[_0x5cbb19(0x219)]['wuid']+_0x5cbb19(0x314)+(_0x1cdc42 instanceof Error?_0x1cdc42['message']:JSON[_0x5cbb19(0x613)](_0x1cdc42,null,0x2))),new w(_0x5cbb19(0x515)+(_0x1cdc42 instanceof Error?_0x1cdc42[_0x5cbb19(0x1f0)]:JSON[_0x5cbb19(0x613)](_0x1cdc42,null,0x2)));}}async['editFlowVariable'](_0x207be9){const _0x5019ff=a0_0x39ce6a;try{this[_0x5019ff(0x57c)][_0x5019ff(0x5b1)](this[_0x5019ff(0x168)]+'\x20('+this[_0x5019ff(0x219)][_0x5019ff(0x321)]+_0x5019ff(0x246));let _0x1bc1bd=await this[_0x5019ff(0x422)][_0x5019ff(0x506)]['findOne']({'where':{'name':_0x207be9['name']}},this[_0x5019ff(0x219)][_0x5019ff(0x321)]);if(!_0x1bc1bd)throw new Error(_0x5019ff(0x417));_0x207be9[_0x5019ff(0x628)][_0x5019ff(0x257)]=_0x207be9[_0x5019ff(0x628)]['name'][_0x5019ff(0x597)](),_0x207be9[_0x5019ff(0x628)][_0x5019ff(0x257)][_0x5019ff(0x511)]('_')&&(_0x207be9['variable']['name']=_0x207be9['variable'][_0x5019ff(0x257)][_0x5019ff(0x441)](0x1)),_0x207be9[_0x5019ff(0x628)][_0x5019ff(0x257)]=_0x207be9[_0x5019ff(0x628)][_0x5019ff(0x257)][_0x5019ff(0x597)]();let _0x40aa81=_0x1bc1bd[_0x5019ff(0x4fe)][_0x5019ff(0x280)](_0x38799b=>_0x38799b[_0x5019ff(0x257)]===_0x207be9['variable'][_0x5019ff(0x257)]);if(_0x40aa81?.[_0x5019ff(0x488)]===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x207be9[_0x5019ff(0x628)]?.['delete']===!0x0){if(!_0x40aa81)return{'message':_0x5019ff(0x56e)};_0x1bc1bd[_0x5019ff(0x4fe)]=_0x1bc1bd[_0x5019ff(0x4fe)]['filter'](_0x423b7d=>_0x423b7d[_0x5019ff(0x257)]!==_0x207be9[_0x5019ff(0x628)]['name']);}else _0x40aa81?Object[_0x5019ff(0x5f0)](_0x40aa81,_0x207be9[_0x5019ff(0x628)]):_0x1bc1bd[_0x5019ff(0x4fe)][_0x5019ff(0x41f)](_0x207be9['variable']);let _0x3e8354=await this['repository'][_0x5019ff(0x506)][_0x5019ff(0x455)](_0x1bc1bd[_0x5019ff(0x3bb)],_0x1bc1bd,this[_0x5019ff(0x219)][_0x5019ff(0x321)]);if(_0x3e8354&&_0x3e8354[_0x5019ff(0x57f)]&&_0x3e8354[_0x5019ff(0x57f)][_0x5019ff(0x44f)]>0x1&&this[_0x5019ff(0x479)](_0x3e8354[_0x5019ff(0x3bb)],this[_0x5019ff(0x219)][_0x5019ff(0x321)]),!_0x3e8354)throw new Error(_0x5019ff(0x60f));return _0x3e8354;}catch(_0x3b3d32){throw this[_0x5019ff(0x57c)]['error'](this['instanceName']+'\x20('+this[_0x5019ff(0x219)][_0x5019ff(0x321)]+_0x5019ff(0x1e5)+(_0x3b3d32 instanceof Error?_0x3b3d32[_0x5019ff(0x1f0)]:JSON[_0x5019ff(0x613)](_0x3b3d32,null,0x2))),new w(_0x5019ff(0x25d)+(_0x3b3d32 instanceof Error?_0x3b3d32[_0x5019ff(0x1f0)]:JSON[_0x5019ff(0x613)](_0x3b3d32,null,0x2)));}}async[a0_0x39ce6a(0x2de)](_0x4c07d3){const _0x4a7518=a0_0x39ce6a;let _0x2bf600=null;try{if(!this[_0x4a7518(0x719)]?.[_0x4a7518(0x29e)][_0x4a7518(0x4fb)])throw new w(_0x4a7518(0x7ae));this[_0x4a7518(0x57c)]['verbose'](this['instanceName']+'\x20('+this[_0x4a7518(0x219)][_0x4a7518(0x321)]+_0x4a7518(0x337));let _0x691b2e=(await this[_0x4a7518(0x75c)]({'numbers':[_0x4c07d3['remoteJid']]}))[0x0];if(!_0x691b2e[_0x4a7518(0x34c)]&&!(0x0,g[_0x4a7518(0x5ce)])(_0x691b2e[_0x4a7518(0x5f8)])&&!_0x691b2e[_0x4a7518(0x5f8)][_0x4a7518(0x49a)](_0x4a7518(0x38a)))throw _0x2bf600=JSON[_0x4a7518(0x613)](_0x691b2e,null,0x2),new w(_0x691b2e);let _0x2aab2f=await this[_0x4a7518(0x422)][_0x4a7518(0x506)][_0x4a7518(0x5c1)]({'where':{'name':_0x4c07d3['name']}},this['instance'][_0x4a7518(0x321)]);if(!_0x2aab2f)return this[_0x4a7518(0x57c)]['error'](this[_0x4a7518(0x168)]+'\x20('+this[_0x4a7518(0x219)][_0x4a7518(0x321)]+_0x4a7518(0x7bb)),{'message':_0x4a7518(0x417)};let _0x4cfe6d=await this[_0x4a7518(0x623)](_0x2aab2f,_0x691b2e[_0x4a7518(0x5f8)],_0x4c07d3[_0x4a7518(0x729)]);if(_0x4cfe6d){this[_0x4a7518(0x57c)][_0x4a7518(0x5b1)](this[_0x4a7518(0x168)]+'\x20('+this[_0x4a7518(0x219)]['wuid']+'):\x20Criou\x20conversa\x20no\x20startFlow:');let _0x281568=await this[_0x4a7518(0x260)](_0x4cfe6d);return _0x281568&&await this[_0x4a7518(0x1df)](_0x4cfe6d,_0x281568),{'message':_0x4a7518(0x434)+_0x4c07d3['remoteJid']};}}catch(_0x505b22){if(this[_0x4a7518(0x57c)][_0x4a7518(0x16d)](this[_0x4a7518(0x168)]+'\x20('+this['instance'][_0x4a7518(0x321)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x505b22 instanceof Error?_0x505b22[_0x4a7518(0x1f0)]:JSON[_0x4a7518(0x613)](_0x505b22,null,0x2))),_0x2bf600=_0x505b22 instanceof Error?_0x505b22[_0x4a7518(0x1f0)]:JSON[_0x4a7518(0x613)](_0x505b22,null,0x2),_0x2bf600)throw new w('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x2bf600);}}async['closeExistingConversations'](_0x20b5e1){const _0x1b5604=a0_0x39ce6a;try{let _0x5f417a={'remoteJid':_0x20b5e1,'status':_0x1b5604(0x606)},_0x3737af={'status':_0x1b5604(0x37c)},_0xe011fe=await this[_0x1b5604(0x422)][_0x1b5604(0x1d8)]['updateMany'](_0x5f417a,_0x3737af,this[_0x1b5604(0x219)][_0x1b5604(0x321)]);return this[_0x1b5604(0x57c)][_0x1b5604(0x5b1)](this[_0x1b5604(0x168)]+'\x20('+this[_0x1b5604(0x219)][_0x1b5604(0x321)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.'),_0xe011fe;}catch(_0xd02cbc){throw this[_0x1b5604(0x57c)][_0x1b5604(0x16d)](this['instanceName']+'\x20('+this[_0x1b5604(0x219)][_0x1b5604(0x321)]+_0x1b5604(0x363)+_0xd02cbc[_0x1b5604(0x1f0)]),_0xd02cbc;}}async['createConversationforStartFlow'](_0x566eea,_0x18c16f,_0x25ba77){const _0x6848c1=a0_0x39ce6a;this['logger'][_0x6848c1(0x5b1)](this[_0x6848c1(0x168)]+'\x20('+this[_0x6848c1(0x219)]['wuid']+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this[_0x6848c1(0x3ee)](_0x18c16f);try{let _0x28af93=require(_0x6848c1(0x22a))[_0x6848c1(0x217)],_0x58a7df=Date['now'](),_0x5155b1=_0x6848c1(0x4c9),_0x4ce521={},_0x541a10={},_0x538186={..._0x566eea,'chatLog':null},_0x428ca7=await this['variablesToObject'](_0x538186[_0x6848c1(0x4fe)]),_0x495a33=await this[_0x6848c1(0x498)](_0x18c16f),_0x1c15ac={..._0x428ca7,..._0x495a33,'_remoteJid':_0x18c16f},_0x5c20b8={'lastReceivedMessage':_0x4ce521,'lastSendMessage':_0x541a10,'lastBlockId':_0x5155b1,'lastCondition':!0x0,'realVariables':_0x1c15ac};_0x538186[_0x6848c1(0x26b)]=_0x5c20b8,_0x538186['chatLog'][_0x6848c1(0x295)]={..._0x1c15ac,..._0x25ba77},delete _0x538186[_0x6848c1(0x3bb)],_0x538186[_0x6848c1(0x3bb)]=new _0x28af93(),_0x538186[_0x6848c1(0x7bc)]=_0x58a7df,_0x538186['status']=_0x6848c1(0x606),_0x538186[_0x6848c1(0x6b1)]=_0x18c16f;let _0x4133e8=await this[_0x6848c1(0x422)]['flowConversation'][_0x6848c1(0x455)](_0x538186[_0x6848c1(0x3bb)],_0x538186,this[_0x6848c1(0x219)][_0x6848c1(0x321)]);return this[_0x6848c1(0x57c)][_0x6848c1(0x5b1)](this['instanceName']+'\x20('+this[_0x6848c1(0x219)][_0x6848c1(0x321)]+_0x6848c1(0x35a)),_0x4133e8?_0x538186:null;}catch(_0x562950){throw this[_0x6848c1(0x57c)][_0x6848c1(0x16d)](this[_0x6848c1(0x168)]+'\x20('+this[_0x6848c1(0x219)][_0x6848c1(0x321)]+_0x6848c1(0x32d)+(_0x562950 instanceof Error?_0x562950['message']:JSON['stringify'](_0x562950,null,0x2))),new w(_0x562950[_0x6848c1(0x1f0)]);}}async[a0_0x39ce6a(0x765)](_0x3f84ec){const _0x5f0cda=a0_0x39ce6a;try{this[_0x5f0cda(0x57c)][_0x5f0cda(0x5b1)](this[_0x5f0cda(0x168)]+'\x20('+this['instance'][_0x5f0cda(0x321)]+_0x5f0cda(0x2c5)),this[_0x5f0cda(0x57c)]['verbose'](this[_0x5f0cda(0x168)]+'\x20('+this[_0x5f0cda(0x219)][_0x5f0cda(0x321)]+_0x5f0cda(0x6d6)+_0x3f84ec);let _0x23e090={'where':{'_id':_0x3f84ec}};return await this[_0x5f0cda(0x422)][_0x5f0cda(0x1d8)][_0x5f0cda(0x5c1)](_0x23e090,this[_0x5f0cda(0x219)][_0x5f0cda(0x321)]);}catch(_0x4d968a){throw this[_0x5f0cda(0x57c)][_0x5f0cda(0x16d)](this[_0x5f0cda(0x168)]+'\x20('+this[_0x5f0cda(0x219)][_0x5f0cda(0x321)]+'):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20'+(_0x4d968a instanceof Error?_0x4d968a[_0x5f0cda(0x1f0)]:JSON[_0x5f0cda(0x613)](_0x4d968a,null,0x2))),new w('Erro\x20ao\x20buscar\x20conversa:\x20'+_0x4d968a[_0x5f0cda(0x1f0)]);}}async['fetchConversation'](_0x1c55af){const _0x45b36=a0_0x39ce6a;try{return this[_0x45b36(0x57c)]['verbose'](this['instanceName']+'\x20('+this[_0x45b36(0x219)][_0x45b36(0x321)]+_0x45b36(0x1ca)),await this['repository']['flowConversation'][_0x45b36(0x280)](_0x1c55af,this[_0x45b36(0x219)]['wuid']);}catch(_0x24fcd1){throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x45b36(0x219)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20conversas\x20'+(_0x24fcd1 instanceof Error?_0x24fcd1[_0x45b36(0x1f0)]:JSON['stringify'](_0x24fcd1,null,0x2))),new w('Erro\x20ao\x20buscar\x20conversas:\x20'+_0x24fcd1[_0x45b36(0x1f0)]);}}async[a0_0x39ce6a(0x38d)](_0x118ed3){const _0x1adfc4=a0_0x39ce6a;try{return this[_0x1adfc4(0x57c)][_0x1adfc4(0x5b1)](this[_0x1adfc4(0x168)]+'\x20('+this[_0x1adfc4(0x219)]['wuid']+'):\x20Deletando\x20conversa...'),this[_0x1adfc4(0x57c)][_0x1adfc4(0x5b1)](this[_0x1adfc4(0x168)]+'\x20('+this[_0x1adfc4(0x219)][_0x1adfc4(0x321)]+'):\x20Query\x20params:'+_0x118ed3),(await this[_0x1adfc4(0x422)][_0x1adfc4(0x1d8)][_0x1adfc4(0x361)]({'where':{'_id':_0x118ed3}},this[_0x1adfc4(0x219)]['wuid']))[_0x1adfc4(0x16e)]===0x0?{'message':_0x1adfc4(0x3c5)}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x2c6c2f){throw this[_0x1adfc4(0x57c)]['error'](this[_0x1adfc4(0x168)]+'\x20('+this[_0x1adfc4(0x219)][_0x1adfc4(0x321)]+_0x1adfc4(0x1e6)+(_0x2c6c2f instanceof Error?_0x2c6c2f[_0x1adfc4(0x1f0)]:JSON[_0x1adfc4(0x613)](_0x2c6c2f,null,0x2))),new w(_0x1adfc4(0x255)+_0x2c6c2f[_0x1adfc4(0x1f0)]);}}async[a0_0x39ce6a(0x232)](_0x31abf5){const _0x3572a6=a0_0x39ce6a;try{let {_id:_0x18221f,chatLog:_0x4705ed,status:_0x2b1e97}=_0x31abf5;if(!_0x18221f)return{'message':_0x3572a6(0x2ad)};let _0x551ed1={};if(_0x2b1e97!==void 0x0&&(_0x551ed1[_0x3572a6(0x162)]=_0x2b1e97),Object['keys'](_0x551ed1)[_0x3572a6(0x44f)]===0x0)return{'message':_0x3572a6(0x4eb)};let _0x19137f=await this['repository']['flowConversation'][_0x3572a6(0x455)](_0x18221f,_0x551ed1,this[_0x3572a6(0x219)][_0x3572a6(0x321)]);return _0x19137f||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0x545609){throw this['logger'][_0x3572a6(0x16d)](this[_0x3572a6(0x168)]+'\x20('+this[_0x3572a6(0x219)][_0x3572a6(0x321)]+_0x3572a6(0x68d)+(_0x545609 instanceof Error?_0x545609[_0x3572a6(0x1f0)]:JSON['stringify'](_0x545609,null,0x2))),new w(_0x3572a6(0x4ef)+_0x545609[_0x3572a6(0x1f0)]);}}async['editChat'](_0x1d4b1b){const _0x5ed968=a0_0x39ce6a;let _0x326053=await this['repository'][_0x5ed968(0x5d1)]['findOne']({'where':{'_id':_0x1d4b1b[_0x5ed968(0x3bb)]}},this[_0x5ed968(0x219)]['wuid']);if(!_0x326053)throw new w('Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo');console[_0x5ed968(0x4e5)](_0x1d4b1b);try{_0x1d4b1b[_0x5ed968(0x3bb)]=this[_0x5ed968(0x1a4)](_0x1d4b1b[_0x5ed968(0x3bb)]);let {_id:_0xa14849,leadInfo:_0x1995fb}=_0x1d4b1b;if(!_0xa14849)throw new Error('O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.');let _0x4a3cc0=(_0x994845,_0x481e90,_0x19cbd0)=>{const _0x4a7418=_0x5ed968;_0x994845&&_0x19cbd0[_0x4a7418(0x797)](_0x5b59cf=>{const _0x55f9eb=_0x4a7418;_0x994845[_0x5b59cf]!==void 0x0&&(_0x481e90[_0x55f9eb(0x66a)+_0x5b59cf]=_0x994845[_0x5b59cf]);});},_0x4c7c36={};if(_0x1995fb&&(_0x4a3cc0(_0x1995fb,_0x4c7c36,[_0x5ed968(0x722),_0x5ed968(0x413),_0x5ed968(0x5ba),_0x5ed968(0x683),_0x5ed968(0x162),_0x5ed968(0x673),_0x5ed968(0x42a),_0x5ed968(0x3ef),_0x5ed968(0x25e),'etiquetas']),Array[_0x5ed968(0x52a)](_0x1995fb[_0x5ed968(0x68c)])&&(_0x4c7c36[_0x5ed968(0x663)]=_0x1995fb[_0x5ed968(0x68c)][_0x5ed968(0x477)](_0x53ae33=>({'_id':_0x53ae33['_id'],'value':_0x53ae33['value']}))),_0x1d4b1b['leadInfo'][_0x5ed968(0x6ca)]!==void 0x0)){let _0x5325a7=await this[_0x5ed968(0x422)]['label'][_0x5ed968(0x280)]({'where':{}},this['instance']['wuid']),_0x1dc939=new Set(_0x1d4b1b['leadInfo'][_0x5ed968(0x6ca)]||[]),_0x1534e4=new Set(_0x1d4b1b[_0x5ed968(0x488)][_0x5ed968(0x6ca)]),_0xd184f4=new Set(_0x5325a7[_0x5ed968(0x477)](_0x1eb08c=>_0x1eb08c[_0x5ed968(0x3bb)])),_0x935178=[..._0x1534e4][_0x5ed968(0x558)](_0x27bb1b=>!_0x1dc939[_0x5ed968(0x443)](_0x27bb1b)&&_0xd184f4['has'](_0x27bb1b)),_0x3ff5cf=[..._0x1dc939][_0x5ed968(0x558)](_0x606250=>!_0x1534e4[_0x5ed968(0x443)](_0x606250));if(_0x4c7c36[_0x5ed968(0x371)]=[..._0x1dc939],_0x326053&&!_0x326053['imported']){for(let _0x3668b9 of _0x935178)await this[_0x5ed968(0x33b)](_0x3668b9,_0x1d4b1b[_0x5ed968(0x3bb)]),_0x1dc939[_0x5ed968(0x22d)](_0x3668b9);for(let _0x2aa88d of _0x3ff5cf)await this[_0x5ed968(0x59c)](_0x2aa88d,_0x1d4b1b[_0x5ed968(0x3bb)]),_0x1dc939[_0x5ed968(0x24c)](_0x2aa88d);}}if(_0x1d4b1b[_0x5ed968(0x57b)]!==void 0x0&&(_0x4c7c36[_0x5ed968(0x57b)]=Number(_0x1d4b1b[_0x5ed968(0x57b)])),Object['keys'](_0x4c7c36)[_0x5ed968(0x44f)]===0x0)throw new Error(_0x5ed968(0x4eb));let _0x3dc2d1=await this[_0x5ed968(0x422)][_0x5ed968(0x5d1)][_0x5ed968(0x455)]({'where':{'_id':_0x1d4b1b['_id']}},_0x4c7c36,this[_0x5ed968(0x219)][_0x5ed968(0x321)]);return _0x3dc2d1&&q(this[_0x5ed968(0x168)],_0x5ed968(0x51b),{'chat':_0x3dc2d1}),_0x3dc2d1?(this[_0x5ed968(0x57c)]['verbose'](this[_0x5ed968(0x168)]+'\x20('+this[_0x5ed968(0x219)][_0x5ed968(0x321)]+_0x5ed968(0x16c)+JSON[_0x5ed968(0x613)](_0x3dc2d1,null,0x2)),_0x3dc2d1):{'message':_0x5ed968(0x14d)};}catch(_0x5a49b5){throw this['logger'][_0x5ed968(0x16d)](this[_0x5ed968(0x168)]+'\x20('+this[_0x5ed968(0x219)]['wuid']+'):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20'+(_0x5a49b5 instanceof Error?_0x5a49b5['message']:JSON[_0x5ed968(0x613)](_0x5a49b5,null,0x2))),new w(_0x5ed968(0x6c0)+_0x5a49b5[_0x5ed968(0x1f0)]);}}async[a0_0x39ce6a(0x33b)](_0x1fbc12,_0x486c29){const _0x33ff39=a0_0x39ce6a;try{await this[_0x33ff39(0x1ba)]['addChatLabel'](_0x486c29,_0x1fbc12),console[_0x33ff39(0x4e5)](_0x33ff39(0x6f9)+_0x1fbc12+_0x33ff39(0x495)+_0x486c29+_0x33ff39(0x5b7));}catch(_0x2c4ef4){console[_0x33ff39(0x16d)](_0x33ff39(0x3b3)+_0x1fbc12+_0x33ff39(0x6a1)+_0x486c29+':',_0x2c4ef4);}}async['RemoveChatLabel'](_0x552693,_0x46bd7d){const _0x3294f5=a0_0x39ce6a;try{await this[_0x3294f5(0x1ba)][_0x3294f5(0x1d4)](_0x46bd7d,_0x552693),console[_0x3294f5(0x4e5)]('Label\x20'+_0x552693+_0x3294f5(0x47c)+_0x46bd7d+_0x3294f5(0x5b7));}catch(_0x356b69){console[_0x3294f5(0x16d)](_0x3294f5(0x45b)+_0x552693+_0x3294f5(0x588)+_0x46bd7d+':',_0x356b69);}}async[a0_0x39ce6a(0x793)](_0x337f7c){const _0x24867b=a0_0x39ce6a;try{let _0x408f0e=await this[_0x24867b(0x422)][_0x24867b(0x273)][_0x24867b(0x297)](this[_0x24867b(0x219)]['wuid']),_0x3f21e1=_0x337f7c['_id']?_0x408f0e[_0x24867b(0x5e1)]['findIndex'](_0x419f3e=>_0x419f3e[_0x24867b(0x3bb)]===_0x337f7c[_0x24867b(0x3bb)]):-0x1;if(_0x337f7c[_0x24867b(0x24c)]&&_0x3f21e1>-0x1)_0x408f0e[_0x24867b(0x5e1)][_0x24867b(0x58d)](_0x3f21e1,0x1);else{if(_0x3f21e1>-0x1){let _0x1fbef4=_0x408f0e[_0x24867b(0x5e1)][_0x3f21e1];_0x337f7c[_0x24867b(0x281)]&&(_0x1fbef4[_0x24867b(0x281)]=_0x337f7c['fone']),_0x337f7c['name']&&(_0x1fbef4[_0x24867b(0x257)]=_0x337f7c[_0x24867b(0x257)]),_0x337f7c[_0x24867b(0x5ba)]&&(_0x1fbef4[_0x24867b(0x5ba)]=_0x337f7c['email']),_0x337f7c[_0x24867b(0x2ae)]&&(_0x1fbef4[_0x24867b(0x2ae)]=_0x337f7c[_0x24867b(0x2ae)]);}else _0x408f0e[_0x24867b(0x5e1)][_0x24867b(0x41f)]({'_id':_0x337f7c['_id']||new ce[(_0x24867b(0x6b8))][(_0x24867b(0x320))][(_0x24867b(0x217))]()[_0x24867b(0x30b)](),'fone':_0x337f7c[_0x24867b(0x281)],'name':_0x337f7c['name'],'email':_0x337f7c[_0x24867b(0x5ba)],'role':_0x337f7c[_0x24867b(0x2ae)]});}let _0x2a25a8={'agents':_0x408f0e['agents']},_0x39ec57=await this[_0x24867b(0x422)][_0x24867b(0x273)][_0x24867b(0x226)](_0x2a25a8,this[_0x24867b(0x219)][_0x24867b(0x321)]);return this[_0x24867b(0x719)]=_0x39ec57,this[_0x24867b(0x57c)][_0x24867b(0x5b1)](this[_0x24867b(0x168)]+'\x20('+this[_0x24867b(0x219)][_0x24867b(0x321)]+_0x24867b(0x4c7)),this[_0x24867b(0x57c)]['verbose'](this[_0x24867b(0x168)]+'\x20('+this[_0x24867b(0x219)][_0x24867b(0x321)]+_0x24867b(0x16c)+this[_0x24867b(0x719)]),_0x39ec57;}catch(_0x45887f){throw this[_0x24867b(0x57c)]['error'](this[_0x24867b(0x168)]+'\x20('+this[_0x24867b(0x219)][_0x24867b(0x321)]+_0x24867b(0x21f)+(_0x45887f instanceof Error?_0x45887f[_0x24867b(0x1f0)]:JSON['stringify'](_0x45887f,null,0x2))),new w(_0x24867b(0x384)+_0x45887f[_0x24867b(0x1f0)]);}}async[a0_0x39ce6a(0x5fd)](_0x4530f0){const _0xd8a696=a0_0x39ce6a;try{let _0x8afb35=await this[_0xd8a696(0x422)][_0xd8a696(0x273)][_0xd8a696(0x297)](this[_0xd8a696(0x219)][_0xd8a696(0x321)]),_0xb0e341=_0x4530f0[_0xd8a696(0x3bb)]?_0x8afb35[_0xd8a696(0x68c)][_0xd8a696(0x3e3)](_0x274ba9=>_0x274ba9['_id']===_0x4530f0[_0xd8a696(0x3bb)]):-0x1,_0x59e2bd=!0x1,_0x58fbae=_0x8afb35[_0xd8a696(0x68c)]['some'](_0x49eb93=>_0x49eb93[_0xd8a696(0x57a)]===_0x4530f0[_0xd8a696(0x57a)]);if(_0x4530f0['delete']&&_0xb0e341>-0x1)_0x8afb35[_0xd8a696(0x68c)][_0xd8a696(0x58d)](_0xb0e341,0x1),_0x59e2bd=!0x0;else{if(_0xb0e341>-0x1){if(_0x8afb35[_0xd8a696(0x68c)]['some'](_0x1df340=>_0x1df340['name']===_0x4530f0[_0xd8a696(0x257)]&&_0x1df340[_0xd8a696(0x3bb)]!==_0x4530f0[_0xd8a696(0x3bb)]))throw new Error(_0xd8a696(0x23e));let _0x26392e=_0x8afb35['customFields'][_0xb0e341];_0x4530f0[_0xd8a696(0x57a)]&&(_0x58fbae||!Number['isInteger'](_0x4530f0[_0xd8a696(0x57a)]))&&(_0x26392e[_0xd8a696(0x57a)]=_0x4530f0[_0xd8a696(0x57a)],_0x59e2bd=!0x0),_0x4530f0[_0xd8a696(0x257)]&&(_0x26392e[_0xd8a696(0x257)]=_0x4530f0[_0xd8a696(0x257)]);}else{if(_0x8afb35[_0xd8a696(0x68c)][_0xd8a696(0x51e)](_0x428415=>_0x428415[_0xd8a696(0x257)]===_0x4530f0[_0xd8a696(0x257)]&&_0x428415[_0xd8a696(0x3bb)]!==_0x4530f0[_0xd8a696(0x3bb)]))throw new Error(_0xd8a696(0x23e));_0x8afb35[_0xd8a696(0x68c)][_0xd8a696(0x41f)]({'_id':_0x4530f0[_0xd8a696(0x3bb)]||new ce['default'][(_0xd8a696(0x320))]['ObjectId']()[_0xd8a696(0x30b)](),'order':_0x4530f0[_0xd8a696(0x57a)],'name':_0x4530f0[_0xd8a696(0x257)]}),_0x59e2bd=!0x0;}}if(_0x59e2bd){_0x8afb35['customFields']['sort']((_0x49efd0,_0x7e5200)=>_0x49efd0[_0xd8a696(0x57a)]>_0x7e5200[_0xd8a696(0x57a)]?0x1:_0x7e5200['order']>_0x49efd0[_0xd8a696(0x57a)]?-0x1:0x0);for(let _0x4387fe=0x0;_0x4387fe<_0x8afb35[_0xd8a696(0x68c)][_0xd8a696(0x44f)];_0x4387fe++)_0x8afb35[_0xd8a696(0x68c)][_0x4387fe][_0xd8a696(0x57a)]=_0x4387fe+0x1;}let _0x7dfe19=await this['repository'][_0xd8a696(0x273)][_0xd8a696(0x226)](_0x8afb35,this[_0xd8a696(0x219)][_0xd8a696(0x321)]);return this['AutomateSystem']=_0x7dfe19,this[_0xd8a696(0x57c)][_0xd8a696(0x5b1)](this[_0xd8a696(0x168)]+'\x20('+this[_0xd8a696(0x219)][_0xd8a696(0x321)]+_0xd8a696(0x397)),this[_0xd8a696(0x57c)][_0xd8a696(0x5b1)](this[_0xd8a696(0x168)]+'\x20('+this[_0xd8a696(0x219)]['wuid']+_0xd8a696(0x16c)+this[_0xd8a696(0x719)]),_0x7dfe19;}catch(_0x26eb97){throw this[_0xd8a696(0x57c)][_0xd8a696(0x16d)](this[_0xd8a696(0x168)]+'\x20('+this[_0xd8a696(0x219)][_0xd8a696(0x321)]+_0xd8a696(0x26d)+(_0x26eb97 instanceof Error?_0x26eb97['message']:JSON['stringify'](_0x26eb97,null,0x2))),new w(_0xd8a696(0x6ad)+_0x26eb97[_0xd8a696(0x1f0)]);}}async[a0_0x39ce6a(0x4d9)](_0x5d89f5){const _0x2f79d9=a0_0x39ce6a;try{let _0x260cbd=await this['repository'][_0x2f79d9(0x273)]['findOrCreate'](this[_0x2f79d9(0x219)][_0x2f79d9(0x321)]);if(!_0x260cbd)throw new Error(_0x2f79d9(0x7c0));let _0x54da61={'_id':_0x260cbd[_0x2f79d9(0x3bb)],'flowConfig':{'enabled':_0x5d89f5['enabled']??_0x260cbd['flowConfig']['enabled'],'ignoreGroups':_0x5d89f5['ignoreGroups']??_0x260cbd[_0x2f79d9(0x29e)][_0x2f79d9(0x482)],'prefixCommand':_0x5d89f5[_0x2f79d9(0x6f6)]??_0x260cbd[_0x2f79d9(0x29e)]['prefixCommand'],'stopConversation':_0x5d89f5[_0x2f79d9(0x4a5)]??_0x260cbd['flowConfig'][_0x2f79d9(0x4a5)],'stopMinutes':_0x5d89f5[_0x2f79d9(0x6af)]??_0x260cbd[_0x2f79d9(0x29e)][_0x2f79d9(0x6af)],'stopWhenYouSendMsg':_0x5d89f5['stopWhenYouSendMsg']??_0x260cbd[_0x2f79d9(0x29e)][_0x2f79d9(0x5d3)]}},_0x457af2=await this[_0x2f79d9(0x422)][_0x2f79d9(0x273)][_0x2f79d9(0x226)](_0x54da61,this[_0x2f79d9(0x219)][_0x2f79d9(0x321)]);return this['AutomateSystem']=_0x457af2,this[_0x2f79d9(0x57c)][_0x2f79d9(0x5b1)](this[_0x2f79d9(0x168)]+'\x20('+this[_0x2f79d9(0x219)]['wuid']+'):\x20alterando\x20this.AutomateSystem'),this[_0x2f79d9(0x57c)][_0x2f79d9(0x5b1)](this[_0x2f79d9(0x168)]+'\x20('+this[_0x2f79d9(0x219)]['wuid']+_0x2f79d9(0x16c)+this[_0x2f79d9(0x719)]),setTimeout(()=>this[_0x2f79d9(0x796)](),0x7d0),_0x457af2;}catch(_0x1ceaf5){throw this[_0x2f79d9(0x57c)][_0x2f79d9(0x16d)](this['instanceName']+'\x20('+this['instance'][_0x2f79d9(0x321)]+_0x2f79d9(0x223)+(_0x1ceaf5 instanceof Error?_0x1ceaf5[_0x2f79d9(0x1f0)]:JSON[_0x2f79d9(0x613)](_0x1ceaf5,null,0x2))),new w('Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20'+_0x1ceaf5['message']);}}async[a0_0x39ce6a(0x6c8)](){const _0x2fa6dc=a0_0x39ce6a;try{let _0x20c54d=await this[_0x2fa6dc(0x422)][_0x2fa6dc(0x273)][_0x2fa6dc(0x297)](this[_0x2fa6dc(0x219)]['wuid']);return this[_0x2fa6dc(0x719)]=_0x20c54d,this['logger'][_0x2fa6dc(0x5b1)](this[_0x2fa6dc(0x168)]+'\x20('+this[_0x2fa6dc(0x219)][_0x2fa6dc(0x321)]+_0x2fa6dc(0x24b)),this[_0x2fa6dc(0x57c)][_0x2fa6dc(0x5b1)](this[_0x2fa6dc(0x719)]),_0x20c54d;}catch(_0x5d420d){throw this[_0x2fa6dc(0x57c)]['error'](this[_0x2fa6dc(0x168)]+'\x20('+this[_0x2fa6dc(0x219)][_0x2fa6dc(0x321)]+_0x2fa6dc(0x22f)+(_0x5d420d instanceof Error?_0x5d420d[_0x2fa6dc(0x1f0)]:JSON[_0x2fa6dc(0x613)](_0x5d420d,null,0x2))),new w('Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+_0x5d420d[_0x2fa6dc(0x1f0)]);}}async[a0_0x39ce6a(0x62c)](){const _0x3cddb6=a0_0x39ce6a;this[_0x3cddb6(0x43b)]&&clearTimeout(this[_0x3cddb6(0x43b)]),this[_0x3cddb6(0x43b)]=setTimeout(()=>{const _0xbd9ca4=_0x3cddb6;this[_0xbd9ca4(0x25f)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x39ce6a(0x25f)](){const _0x4b6bd1=a0_0x39ce6a;Date[_0x4b6bd1(0x2b9)]()-this['lastSend']>=0x1d4c0&&(this[_0x4b6bd1(0x57c)][_0x4b6bd1(0x5b1)](this[_0x4b6bd1(0x168)]+'\x20('+this[_0x4b6bd1(0x219)][_0x4b6bd1(0x321)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x4b6bd1(0x61e)]=null,this[_0x4b6bd1(0x1c7)]=0x0,this[_0x4b6bd1(0x470)]=0x0,await this[_0x4b6bd1(0x796)]());}async[a0_0x39ce6a(0x796)](){const _0x512ddc=a0_0x39ce6a;let _0x4dfd47=()=>{const _0x57c853=a0_0x4226;this[_0x57c853(0x57c)][_0x57c853(0x5b1)](this['instanceName']+'\x20('+this[_0x57c853(0x219)]['wuid']+_0x57c853(0x748)+this[_0x57c853(0x61e)]+_0x57c853(0x420));},_0x4a40ab=async()=>{const _0x31eef0=a0_0x4226;this[_0x31eef0(0x57c)][_0x31eef0(0x5b1)](this[_0x31eef0(0x168)]+'\x20('+this[_0x31eef0(0x219)][_0x31eef0(0x321)]+_0x31eef0(0x1f7));let _0x1fe125=Date['now']()-0xc*0x3c*0x3c*0x3e8,_0x528437={'where':{'status':{'$in':[_0x31eef0(0x296),_0x31eef0(0x790)]},'$or':[{'when':{'$lte':Date[_0x31eef0(0x2b9)](),'$gte':_0x1fe125}},{'when':0x0}]}};return await this['repository']['scheduleMessage']['find'](_0x528437,this[_0x31eef0(0x219)][_0x31eef0(0x321)]);},_0x522b03=async _0x1910bb=>{const _0x3b0eb7=a0_0x4226;for(let _0x43415a of _0x1910bb){let _0x3af0bb={'_id':_0x43415a[_0x3b0eb7(0x3bb)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x3b0eb7(0x2b9)]()-0x1770}}]},_0x58e326={'startSend':Date[_0x3b0eb7(0x2b9)]()};if(!await this[_0x3b0eb7(0x422)][_0x3b0eb7(0x542)][_0x3b0eb7(0x455)](_0x3af0bb,_0x58e326,this[_0x3b0eb7(0x219)][_0x3b0eb7(0x321)]))return;if(!this['isConnected']){this[_0x3b0eb7(0x57c)][_0x3b0eb7(0x5b1)](this['instanceName']+'\x20('+this[_0x3b0eb7(0x219)][_0x3b0eb7(0x321)]+_0x3b0eb7(0x6bd));break;}if(_0x43415a[_0x3b0eb7(0x432)]===_0x3b0eb7(0x506)&&!this['AutomateSystem']?.[_0x3b0eb7(0x29e)][_0x3b0eb7(0x4fb)]){this['logger'][_0x3b0eb7(0x16d)](this[_0x3b0eb7(0x168)]+'\x20('+this[_0x3b0eb7(0x219)]['wuid']+_0x3b0eb7(0x3f4));continue;}(!_0x43415a[_0x3b0eb7(0x67f)]||_0x43415a[_0x3b0eb7(0x67f)]['length']===0x0)&&(_0x43415a=await this['repository'][_0x3b0eb7(0x542)]['updateOneById'](_0x43415a[_0x3b0eb7(0x3bb)],{'status':_0x3b0eb7(0x790),'remoteJidsRemaining':[..._0x43415a[_0x3b0eb7(0x20b)]]},this[_0x3b0eb7(0x219)]['wuid']));for(let _0x236af4 of _0x43415a[_0x3b0eb7(0x67f)]){if(await this[_0x3b0eb7(0x62c)](),this[_0x3b0eb7(0x1c7)]=Date[_0x3b0eb7(0x2b9)](),this['ultimaTentativaRemoteJid']===_0x236af4){this['logger']['error'](this[_0x3b0eb7(0x168)]+'\x20('+this[_0x3b0eb7(0x219)]['wuid']+_0x3b0eb7(0x653)+_0x236af4+'.\x20Removendo\x20da\x20lista\x20de\x20tentativas.');let _0x105c7d={'$push':{'messagesSend':{'remoteJid':_0x236af4,'error':!0x0,'id':null,'error_log':_0x3b0eb7(0x19f),'log_timestamp':Date[_0x3b0eb7(0x2b9)]()}},'$pull':{'remoteJidsRemaining':_0x236af4}};await this[_0x3b0eb7(0x422)]['scheduleMessage'][_0x3b0eb7(0x3d8)](_0x43415a['_id'],_0x105c7d,this[_0x3b0eb7(0x219)][_0x3b0eb7(0x321)]);continue;}if(this[_0x3b0eb7(0x452)]=_0x236af4,_0x43415a[_0x3b0eb7(0x4a7)][_0x3b0eb7(0x51e)](_0x5d6c53=>_0x5d6c53[_0x3b0eb7(0x6b1)]===_0x236af4)){this[_0x3b0eb7(0x57c)][_0x3b0eb7(0x5b1)](this['instanceName']+'\x20('+this['instance'][_0x3b0eb7(0x321)]+_0x3b0eb7(0x5dc)+_0x236af4+_0x3b0eb7(0x326));continue;}if(!this[_0x3b0eb7(0x6dc)]){this['logger'][_0x3b0eb7(0x5b1)](this[_0x3b0eb7(0x168)]+'\x20('+this[_0x3b0eb7(0x219)]['wuid']+_0x3b0eb7(0x5e3));break;}if(!this[_0x3b0eb7(0x61e)]){this[_0x3b0eb7(0x57c)]['verbose'](this[_0x3b0eb7(0x168)]+'\x20('+this['instance'][_0x3b0eb7(0x321)]+_0x3b0eb7(0x4f6)+_0x43415a['_id']+_0x3b0eb7(0x33d));break;}if(_0x43415a[_0x3b0eb7(0x432)]===_0x3b0eb7(0x506)&&!this[_0x3b0eb7(0x719)]?.[_0x3b0eb7(0x29e)][_0x3b0eb7(0x4fb)]){this['logger']['error'](this[_0x3b0eb7(0x168)]+'\x20('+this[_0x3b0eb7(0x219)]['wuid']+_0x3b0eb7(0x3f4));break;}let _0x43d61d={'remoteJid':_0x236af4,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x3b0eb7(0x2b9)]()},_0x1df9b8=null;try{let _0x2d3e70=await this['SendScheduleMessage'](_0x236af4,_0x43415a);_0x43d61d[_0x3b0eb7(0x16d)]=_0x2d3e70[_0x3b0eb7(0x16d)],_0x43d61d['id']=_0x2d3e70['error']?null:_0x2d3e70['id'],_0x43d61d[_0x3b0eb7(0x749)]=_0x2d3e70[_0x3b0eb7(0x16d)]?_0x2d3e70['detail']?_0x2d3e70[_0x3b0eb7(0x75a)]['toString']():'':null;let _0x15272c={'$push':{'messagesSend':_0x43d61d},'$pull':{'remoteJidsRemaining':_0x236af4}},_0x36e5e6=_0x43415a[_0x3b0eb7(0x3bb)];if(_0x1df9b8=await this['repository'][_0x3b0eb7(0x542)][_0x3b0eb7(0x3d8)](_0x36e5e6,_0x15272c,this['instance']['wuid']),_0x2d3e70[_0x3b0eb7(0x16d)])continue;let _0x191878=this[_0x3b0eb7(0x3d1)](_0x43415a[_0x3b0eb7(0x199)],_0x43415a[_0x3b0eb7(0x6f4)]);await this[_0x3b0eb7(0x35d)](_0x191878);}catch(_0x71095){this[_0x3b0eb7(0x57c)][_0x3b0eb7(0x16d)](this['instanceName']+'\x20('+this[_0x3b0eb7(0x219)][_0x3b0eb7(0x321)]+_0x3b0eb7(0x4b2)+_0x236af4+':\x20'+(_0x71095 instanceof Error?_0x71095[_0x3b0eb7(0x1f0)]:JSON[_0x3b0eb7(0x613)](_0x71095,null,0x2))),_0x43d61d[_0x3b0eb7(0x16d)]=!0x0,_0x43d61d['error_log']=_0x71095['message'];let _0x333003={'$push':{'messagesSend':_0x43d61d},'$pull':{'remoteJidsRemaining':_0x236af4}},_0x43b3b0=_0x43415a[_0x3b0eb7(0x3bb)];_0x1df9b8=await this['repository'][_0x3b0eb7(0x542)][_0x3b0eb7(0x3d8)](_0x43b3b0,_0x333003,this[_0x3b0eb7(0x219)][_0x3b0eb7(0x321)]);}finally{if(_0x1df9b8&&_0x1df9b8[_0x3b0eb7(0x162)]===_0x3b0eb7(0x2d2)){this[_0x3b0eb7(0x57c)][_0x3b0eb7(0x5b1)](this[_0x3b0eb7(0x168)]+'\x20('+this[_0x3b0eb7(0x219)][_0x3b0eb7(0x321)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x43415a[_0x3b0eb7(0x3bb)]+_0x3b0eb7(0x200));break;}}}let _0x2fe2fd=await this[_0x3b0eb7(0x422)][_0x3b0eb7(0x542)][_0x3b0eb7(0x171)](_0x43415a[_0x3b0eb7(0x3bb)],this[_0x3b0eb7(0x219)][_0x3b0eb7(0x321)]);if(_0x2fe2fd[_0x3b0eb7(0x67f)][_0x3b0eb7(0x44f)]===0x0&&_0x2fe2fd[_0x3b0eb7(0x162)]!==_0x3b0eb7(0x2d2)){let _0x1e5df6={'$set':{'status':_0x3b0eb7(0x1ea)}},_0x1edd78=_0x2fe2fd[_0x3b0eb7(0x3bb)];await this[_0x3b0eb7(0x422)][_0x3b0eb7(0x542)][_0x3b0eb7(0x3d8)](_0x1edd78,_0x1e5df6,this[_0x3b0eb7(0x219)]['wuid']);}await new Promise(_0xc3208d=>setTimeout(_0xc3208d,0x1388));}},_0x4bc85a=async()=>{const _0x1bd338=a0_0x4226;let _0x98d4db={'where':{'status':_0x1bd338(0x296),'when':{'$gt':Date[_0x1bd338(0x2b9)]()}}},_0x424af7=await this[_0x1bd338(0x422)][_0x1bd338(0x542)]['findOne'](_0x98d4db,this[_0x1bd338(0x219)][_0x1bd338(0x321)]);_0x424af7&&_0x424af7['when']-Date[_0x1bd338(0x2b9)]()<=0x5265c00?this[_0x1bd338(0x470)]=_0x424af7[_0x1bd338(0x4d2)]-Date[_0x1bd338(0x2b9)]():this[_0x1bd338(0x470)]=(0x3c+Math[_0x1bd338(0x55b)](Math['random']()*0x3c))*0x3c*0x3e8,this[_0x1bd338(0x470)]=Math[_0x1bd338(0x2ba)](this[_0x1bd338(0x470)],0x7d0);let _0x596fc2=Math[_0x1bd338(0x1a3)](this[_0x1bd338(0x470)]/0xea60);if(_0x424af7){let _0x5b80a3=new Date(_0x424af7[_0x1bd338(0x4d2)])[_0x1bd338(0x54e)]();this['logger'][_0x1bd338(0x5b1)](this[_0x1bd338(0x168)]+'\x20('+this[_0x1bd338(0x219)][_0x1bd338(0x321)]+_0x1bd338(0x1fb)+_0x5b80a3+_0x1bd338(0x7a5)+_0x596fc2+_0x1bd338(0x35c));}else this[_0x1bd338(0x57c)][_0x1bd338(0x5b1)](this[_0x1bd338(0x168)]+'\x20('+this['instance'][_0x1bd338(0x321)]+_0x1bd338(0x6ed)+_0x596fc2+_0x1bd338(0x35c));setTimeout(()=>this[_0x1bd338(0x796)](),this['delayMessage']);};if(this[_0x512ddc(0x61e)]){await this[_0x512ddc(0x62c)](),_0x4dfd47();return;}if(!this['isConnected']){this[_0x512ddc(0x57c)][_0x512ddc(0x5b1)](this['instanceName']+'\x20('+this[_0x512ddc(0x219)]['wuid']+_0x512ddc(0x6da)),this[_0x512ddc(0x61e)]=null,this[_0x512ddc(0x1c7)]=0x0,this[_0x512ddc(0x470)]=0x0;return;}try{let _0x4c93ad=await _0x4a40ab();_0x4c93ad['length']===0x0?this[_0x512ddc(0x57c)][_0x512ddc(0x5b1)](this[_0x512ddc(0x168)]+'\x20('+this['instance'][_0x512ddc(0x321)]+'):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.'):(this[_0x512ddc(0x61e)]=_0x4c93ad[0x0][_0x512ddc(0x3bb)],await _0x522b03(_0x4c93ad)),await _0x4bc85a(),this[_0x512ddc(0x61e)]=null;}catch(_0x4508f0){this[_0x512ddc(0x57c)][_0x512ddc(0x16d)](_0x512ddc(0x278)+(_0x4508f0 instanceof Error?_0x4508f0[_0x512ddc(0x1f0)]:JSON[_0x512ddc(0x613)](_0x4508f0,null,0x2)));}}[a0_0x39ce6a(0x3d1)](_0x1fc50c,_0x2cd31b){const _0x1eaa70=a0_0x39ce6a;return _0x1fc50c=Math['max'](0.5,_0x1fc50c),_0x2cd31b=Math['min'](Math[_0x1eaa70(0x2ba)](0x3,_0x2cd31b),0x78),Math[_0x1eaa70(0x55b)](Math[_0x1eaa70(0x647)]()*(_0x2cd31b-_0x1fc50c+0x1)+_0x1fc50c)*0x3e8;}['sleep'](_0x1d8d98){return new Promise(_0x18958c=>setTimeout(_0x18958c,_0x1d8d98));}async[a0_0x39ce6a(0x498)](_0x1bd96c){const _0x41bc24=a0_0x39ce6a;if(!this[_0x41bc24(0x719)]&&(await this[_0x41bc24(0x6c8)](),!this[_0x41bc24(0x719)]))return null;_0x1bd96c=this['createJid'](_0x1bd96c);let _0x1f04cb=await this[_0x41bc24(0x422)]['chat']['findOne']({'where':{'_id':_0x1bd96c}},this[_0x41bc24(0x219)][_0x41bc24(0x321)]),_0x15b562={};if(_0x1f04cb&&_0x1f04cb[_0x41bc24(0x488)]){let _0x353656=_0x1f04cb['leadInfo'];typeof _0x353656[_0x41bc24(0x722)]==_0x41bc24(0x5d6)&&(_0x15b562['nome']=_0x353656['nome']),typeof _0x353656[_0x41bc24(0x413)]==_0x41bc24(0x5d6)&&(_0x15b562[_0x41bc24(0x413)]=_0x353656[_0x41bc24(0x413)]),typeof _0x353656[_0x41bc24(0x5ba)]==_0x41bc24(0x5d6)&&(_0x15b562[_0x41bc24(0x5ba)]=_0x353656[_0x41bc24(0x5ba)]),typeof _0x353656[_0x41bc24(0x683)]=='string'&&(_0x15b562['cpf']=_0x353656['cpf']),typeof _0x353656[_0x41bc24(0x162)]==_0x41bc24(0x5d6)&&(_0x15b562['status']=_0x353656[_0x41bc24(0x162)]),typeof _0x353656[_0x41bc24(0x673)]==_0x41bc24(0x5d6)&&(_0x15b562[_0x41bc24(0x673)]=_0x353656[_0x41bc24(0x673)]),typeof _0x353656[_0x41bc24(0x25e)]=='string'&&(_0x15b562[_0x41bc24(0x25e)]=_0x353656['responsavelid']),Array[_0x41bc24(0x52a)](_0x353656[_0x41bc24(0x42a)])&&(_0x15b562[_0x41bc24(0x42a)]=_0x353656['tags'][_0x41bc24(0x4dc)](',\x20')),Array[_0x41bc24(0x52a)](_0x353656[_0x41bc24(0x6ca)])&&(_0x15b562[_0x41bc24(0x6ca)]=_0x353656[_0x41bc24(0x6ca)][_0x41bc24(0x4dc)](',\x20'));}return _0x1f04cb&&_0x1f04cb[_0x41bc24(0x488)]&&_0x1f04cb[_0x41bc24(0x488)][_0x41bc24(0x68c)]&&_0x1f04cb[_0x41bc24(0x488)][_0x41bc24(0x68c)][_0x41bc24(0x797)](_0xecbde0=>{const _0x4f3b4d=_0x41bc24;let _0x267768=this[_0x4f3b4d(0x719)]?.[_0x4f3b4d(0x68c)][_0x4f3b4d(0x280)](_0x38deaa=>_0x38deaa['_id']===_0xecbde0[_0x4f3b4d(0x3bb)]);_0x267768&&(_0x15b562[_0x267768[_0x4f3b4d(0x257)]]=_0xecbde0[_0x4f3b4d(0x324)]);}),_0x15b562;}async[a0_0x39ce6a(0x2b6)](_0x1513ac,_0x1f63d7){const _0x5d9ce9=a0_0x39ce6a;let _0x237355=await this[_0x5d9ce9(0x498)](_0x1f63d7);return this[_0x5d9ce9(0x6d8)](_0x1513ac,_0x237355);}async[a0_0x39ce6a(0x7b7)](_0x322d56){const _0x139076=a0_0x39ce6a;try{if(this[_0x139076(0x57c)][_0x139076(0x5b1)](this[_0x139076(0x168)]+'\x20('+this[_0x139076(0x219)][_0x139076(0x321)]+_0x139076(0x799)),_0x322d56[_0x139076(0x24c)]&&_0x322d56[_0x139076(0x3bb)]){if(this[_0x139076(0x61e)]===_0x322d56[_0x139076(0x3bb)][_0x139076(0x30b)]())throw new Error(_0x139076(0x530));let _0x1ce58a=await this[_0x139076(0x422)]['scheduleMessage'][_0x139076(0x361)](_0x322d56[_0x139076(0x3bb)],this[_0x139076(0x219)]['wuid']);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x1ce58a;}let _0x2e917e;if(_0x322d56[_0x139076(0x3bb)]&&(_0x2e917e=await this[_0x139076(0x422)][_0x139076(0x542)]['findById'](_0x322d56[_0x139076(0x3bb)],this['instance']['wuid'])),_0x2e917e){let _0x5d14db;if(this[_0x139076(0x61e)]===_0x2e917e[_0x139076(0x3bb)][_0x139076(0x30b)]())_0x5d14db={'$set':{'status':_0x322d56[_0x139076(0x162)]}};else{let {_id:_0xd61d2,..._0x3ab326}=_0x322d56;_0x5d14db={'$set':_0x3ab326};}let _0x5b2b6a=await this[_0x139076(0x422)][_0x139076(0x542)]['updateOneById'](_0x322d56[_0x139076(0x3bb)],_0x5d14db,this[_0x139076(0x219)][_0x139076(0x321)]);return setTimeout(()=>this[_0x139076(0x796)](),0x7d0),_0x5b2b6a;}else{_0x322d56[_0x139076(0x3cb)]=this[_0x139076(0x219)][_0x139076(0x321)];let _0x53df83=await this['repository'][_0x139076(0x542)][_0x139076(0x481)](_0x322d56,this[_0x139076(0x219)][_0x139076(0x321)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x53df83;}}catch(_0x4239d6){throw this[_0x139076(0x57c)]['error'](this[_0x139076(0x168)]+'\x20('+this[_0x139076(0x219)][_0x139076(0x321)]+'):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20'+(_0x4239d6 instanceof Error?_0x4239d6[_0x139076(0x1f0)]:JSON['stringify'](_0x4239d6,null,0x2))),new w('Erro:'+_0x4239d6[_0x139076(0x1f0)]);}}async[a0_0x39ce6a(0x65a)](){const _0x14c38a=a0_0x39ce6a;try{return await this[_0x14c38a(0x422)][_0x14c38a(0x542)][_0x14c38a(0x280)]({'where':{}},this[_0x14c38a(0x219)]['wuid']);}catch(_0xa294ec){throw this[_0x14c38a(0x57c)][_0x14c38a(0x16d)](this[_0x14c38a(0x168)]+'\x20('+this['instance'][_0x14c38a(0x321)]+_0x14c38a(0x741)+(_0xa294ec instanceof Error?_0xa294ec['message']:JSON[_0x14c38a(0x613)](_0xa294ec,null,0x2))),new w('Erro:'+_0xa294ec[_0x14c38a(0x1f0)]);}}async[a0_0x39ce6a(0x736)](){const _0x283d26=a0_0x39ce6a;try{let _0x2947dc={'status':_0x283d26(0x1ea)},_0x15f44a=await this[_0x283d26(0x422)][_0x283d26(0x542)][_0x283d26(0x2bb)](_0x2947dc,this[_0x283d26(0x219)][_0x283d26(0x321)]);if(!_0x15f44a[_0x283d26(0x16d)])this[_0x283d26(0x57c)][_0x283d26(0x5b1)](this['instanceName']+'\x20('+this['instance'][_0x283d26(0x321)]+_0x283d26(0x54f));else throw new Error(_0x15f44a[_0x283d26(0x16d)][_0x283d26(0x1f0)]||_0x283d26(0x798));return this[_0x283d26(0x65a)]();}catch(_0x51de52){throw this[_0x283d26(0x57c)]['error'](this['instanceName']+'\x20('+this[_0x283d26(0x219)][_0x283d26(0x321)]+_0x283d26(0x289)+(_0x51de52 instanceof Error?_0x51de52[_0x283d26(0x1f0)]:JSON[_0x283d26(0x613)](_0x51de52,null,0x2))),new w(_0x283d26(0x14f)+_0x51de52[_0x283d26(0x1f0)]);}}async[a0_0x39ce6a(0x319)](_0x5850aa,_0x5590f2){const _0x1040a6=a0_0x39ce6a;try{if(_0x5590f2[_0x1040a6(0x432)]==='flow'&&!this[_0x1040a6(0x719)]?.[_0x1040a6(0x29e)]['enabled'])return this[_0x1040a6(0x57c)][_0x1040a6(0x16d)](this['instanceName']+'\x20('+this[_0x1040a6(0x219)][_0x1040a6(0x321)]+_0x1040a6(0x4e0)),{'error':!0x0,'detail':'Fluxos\x20não\x20estão\x20ativados'};switch(_0x5590f2[_0x1040a6(0x432)]){case _0x1040a6(0x60d):return await this['scheduleSendText'](_0x5590f2,_0x5850aa);case'media':return await this[_0x1040a6(0x3f7)](_0x5590f2,_0x5850aa);case _0x1040a6(0x220):return await this[_0x1040a6(0x657)](_0x5590f2,_0x5850aa);case'flow':let _0x1dd9c8=new _e();return _0x1dd9c8[_0x1040a6(0x257)]=_0x5590f2[_0x1040a6(0x1e3)],_0x1dd9c8[_0x1040a6(0x6b1)]=_0x5850aa,await this['startFlow'](_0x1dd9c8);break;default:return this['logger'][_0x1040a6(0x16d)](this['instanceName']+'\x20('+this['instance'][_0x1040a6(0x321)]+'):\x20Comando\x20desconhecido:\x20'+_0x5590f2[_0x1040a6(0x432)]),{'error':!0x0,'detail':_0x1040a6(0x33e)};}}catch(_0x3e864a){return this[_0x1040a6(0x57c)]['error'](this['instanceName']+'\x20('+this[_0x1040a6(0x219)][_0x1040a6(0x321)]+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x3e864a instanceof Error?_0x3e864a['message']:JSON[_0x1040a6(0x613)](_0x3e864a,null,0x2))),{'error':!0x0,'detail':_0x3e864a[_0x1040a6(0x1f0)]};}}['getRandomText'](_0x398908){const _0x27c3db=a0_0x39ce6a;let _0x386e45=_0x398908[_0x27c3db(0x154)]('|'),_0xeca962=Math[_0x27c3db(0x55b)](Math['random']()*_0x386e45['length']);return _0x386e45[_0xeca962]['trim']();}async['scheduleSendText'](_0x344c98,_0x5bec5e){const _0x152231=a0_0x39ce6a;if(this[_0x152231(0x57c)][_0x152231(0x5b1)](this[_0x152231(0x168)]+'\x20('+this[_0x152231(0x219)][_0x152231(0x321)]+_0x152231(0x713)),!_0x344c98[_0x152231(0x1f0)]['text']||_0x344c98[_0x152231(0x1f0)]['text'][_0x152231(0x44f)]===0x0)return{'error':!0x0,'detail':_0x152231(0x664)};let _0x500310=this[_0x152231(0x4f5)](_0x344c98['message'][_0x152231(0x60d)]),_0x445139=await this['replaceVariablesChat'](_0x500310,_0x5bec5e),_0x4a8f32={'number':_0x5bec5e,'options':{'delay':_0x344c98[_0x152231(0x1f0)][_0x152231(0x248)]},'textMessage':{'text':_0x445139}},_0x2888e8=null;try{let _0x220a48=await this['textMessage'](_0x4a8f32);if(_0x220a48&&_0x220a48[_0x152231(0x162)])return{'error':!0x1,'id':_0x220a48[_0x152231(0x3b6)]['id']};_0x2888e8=JSON['stringify'](_0x220a48),this['logger']['verbose'](this[_0x152231(0x168)]+'\x20('+this['instance'][_0x152231(0x321)]+_0x152231(0x16c)+_0x2888e8);}catch(_0x121288){this[_0x152231(0x57c)][_0x152231(0x16d)](this[_0x152231(0x168)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x121288 instanceof Error?_0x121288[_0x152231(0x1f0)]:JSON[_0x152231(0x613)](_0x121288,null,0x2))),_0x2888e8=_0x121288[_0x152231(0x1f0)];}if(_0x2888e8)return{'error':!0x0,'detail':(typeof _0x2888e8==_0x152231(0x4e1)?JSON[_0x152231(0x613)](_0x2888e8,null,0x2):_0x2888e8)[_0x152231(0x214)](/[\[\]{}\n]/g,'\x20')[_0x152231(0x214)](/  +/g,'\x20')};}async[a0_0x39ce6a(0x3f7)](_0x30a1e1,_0x35347d){const _0x3dda0c=a0_0x39ce6a;this['logger'][_0x3dda0c(0x5b1)](this[_0x3dda0c(0x168)]+'\x20('+this[_0x3dda0c(0x219)][_0x3dda0c(0x321)]+_0x3dda0c(0x1bb));let _0x41773f;if(_0x30a1e1['message']['text']&&_0x30a1e1['message'][_0x3dda0c(0x60d)]['length']>0x0){let _0x59f95e=this['getRandomText'](_0x30a1e1[_0x3dda0c(0x1f0)][_0x3dda0c(0x60d)]);_0x41773f=await this[_0x3dda0c(0x2b6)](_0x59f95e,_0x35347d);}let _0x53b512={'number':_0x35347d,'options':{'delay':_0x30a1e1[_0x3dda0c(0x1f0)][_0x3dda0c(0x248)]},'mediaMessage':{'mediatype':_0x30a1e1[_0x3dda0c(0x1f0)][_0x3dda0c(0x76c)],'caption':_0x41773f,'media':_0x30a1e1[_0x3dda0c(0x1f0)][_0x3dda0c(0x3cf)]}},_0x5c00e6=null;try{let _0x37107c=await this[_0x3dda0c(0x409)](_0x53b512);if(_0x37107c&&_0x37107c['status'])return{'error':!0x1,'id':_0x37107c[_0x3dda0c(0x3b6)]['id']};_0x5c00e6=JSON[_0x3dda0c(0x613)](_0x37107c),this[_0x3dda0c(0x57c)]['verbose'](this[_0x3dda0c(0x168)]+'\x20('+this[_0x3dda0c(0x219)]['wuid']+_0x3dda0c(0x16c)+_0x5c00e6);}catch(_0x51cd4c){this[_0x3dda0c(0x57c)]['error'](this['instanceName']+'\x20('+this['instance'][_0x3dda0c(0x321)]+_0x3dda0c(0x476)+(_0x51cd4c instanceof Error?_0x51cd4c[_0x3dda0c(0x1f0)]:JSON[_0x3dda0c(0x613)](_0x51cd4c,null,0x2))),_0x5c00e6=_0x51cd4c[_0x3dda0c(0x1f0)];}if(_0x5c00e6)return{'error':!0x0,'detail':(typeof _0x5c00e6==_0x3dda0c(0x4e1)?JSON[_0x3dda0c(0x613)](_0x5c00e6,null,0x2):_0x5c00e6)[_0x3dda0c(0x214)](/[\[\]{}\n]/g,'\x20')[_0x3dda0c(0x214)](/  +/g,'\x20')};}async[a0_0x39ce6a(0x657)](_0x4f4fa0,_0x26eb51){const _0x310721=a0_0x39ce6a;this[_0x310721(0x57c)][_0x310721(0x5b1)](this[_0x310721(0x168)]+'\x20('+this['instance'][_0x310721(0x321)]+_0x310721(0x773));let _0x413131={'number':_0x26eb51,'options':{'delay':_0x4f4fa0['message'][_0x310721(0x248)]},'audioMessage':{'audio':_0x4f4fa0[_0x310721(0x1f0)][_0x310721(0x3cf)]}},_0x4af389=null;try{let _0x44c6db=await this[_0x310721(0x71a)](_0x413131);if(_0x44c6db&&_0x44c6db['status'])return{'error':!0x1,'id':_0x44c6db[_0x310721(0x3b6)]['id']};_0x4af389=JSON[_0x310721(0x613)](_0x44c6db),this[_0x310721(0x57c)][_0x310721(0x5b1)](this['instanceName']+'\x20('+this[_0x310721(0x219)][_0x310721(0x321)]+_0x310721(0x16c)+_0x4af389);}catch(_0x363de7){this[_0x310721(0x57c)]['error'](this[_0x310721(0x168)]+'\x20('+this[_0x310721(0x219)][_0x310721(0x321)]+_0x310721(0x78b)+(_0x363de7 instanceof Error?_0x363de7[_0x310721(0x1f0)]:JSON[_0x310721(0x613)](_0x363de7,null,0x2))),_0x4af389=_0x363de7['message'];}if(_0x4af389)return{'error':!0x0,'detail':(typeof _0x4af389==_0x310721(0x4e1)?JSON[_0x310721(0x613)](_0x4af389,null,0x2):_0x4af389)[_0x310721(0x214)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}},$t=class c{constructor(_0x4881a9,_0x3be38d,_0x578ff3){const _0x170f67=a0_0x39ce6a;this['eventEmitter']=_0x4881a9,this[_0x170f67(0x1e7)]=_0x3be38d,this[_0x170f67(0x422)]=_0x578ff3,this['db']={},this['redis']={},this[_0x170f67(0x57c)]=new N(c[_0x170f67(0x257)]),this['waInstances']={},(this[_0x170f67(0x3e7)](),this['noConnection'](),Object[_0x170f67(0x5f0)](this['db'],_0x3be38d['get']('DATABASE')),Object['assign'](this[_0x170f67(0x637)],_0x3be38d['get'](_0x170f67(0x450))),this['dbInstance']=this['db'][_0x170f67(0x287)]?this['repository']['dbServer']?.['db'](this['db']['CONNECTION'][_0x170f67(0x735)]+_0x170f67(0x703)):void 0x0,this[_0x170f67(0x2b3)]=this[_0x170f67(0x637)][_0x170f67(0x287)]?new oe(this['redis']):void 0x0);}async[a0_0x39ce6a(0x6a8)](_0x53acdb){const _0x59110e=a0_0x39ce6a;if(_0x53acdb&&!this[_0x59110e(0x34b)][_0x53acdb])throw new k(_0x59110e(0x272)+_0x53acdb+_0x59110e(0x5c0));let _0x43d9ef=[];for await(let [_0x5cc077,_0x26b9b3]of Object[_0x59110e(0x635)](this[_0x59110e(0x34b)]))if(_0x26b9b3&&_0x26b9b3['connectionStatus']['state']==='open'){let _0x4cb96f=await this['repository'][_0x59110e(0x377)]['find'](_0x5cc077);_0x43d9ef[_0x59110e(0x41f)]({'instance':{'instanceName':_0x5cc077,'apikey':_0x4cb96f[_0x59110e(0x74e)],'owner':_0x26b9b3[_0x59110e(0x321)],'profileName':await _0x26b9b3[_0x59110e(0x4d1)]()||_0x59110e(0x3ad),'profilePictureUrl':_0x26b9b3[_0x59110e(0x6aa)]}});}return _0x43d9ef[_0x59110e(0x280)](_0x3c29ad=>_0x3c29ad[_0x59110e(0x219)][_0x59110e(0x168)]===_0x53acdb)??_0x43d9ef;}async[a0_0x39ce6a(0x31b)](_0x188ba5){const _0xc1a938=a0_0x39ce6a;if(this['db'][_0xc1a938(0x287)]&&(await this[_0xc1a938(0x422)][_0xc1a938(0x581)]['connect'](),(await this[_0xc1a938(0x1b2)]['collections']())[_0xc1a938(0x44f)]>0x0&&await this['dbInstance']['dropCollection'](_0x188ba5)),this[_0xc1a938(0x637)][_0xc1a938(0x287)]){this[_0xc1a938(0x2b3)][_0xc1a938(0x41c)]=_0x188ba5,await this[_0xc1a938(0x2b3)][_0xc1a938(0x2fb)]();return;}}async['loadInstance'](){const _0x115e23=a0_0x39ce6a;await this[_0x115e23(0x182)]();let _0x3b5484=async _0x5864cc=>{const _0x17fdc7=_0x115e23;let _0x5ebfce=new ye(this[_0x17fdc7(0x1e7)],this[_0x17fdc7(0x408)],this[_0x17fdc7(0x422)]);_0x5ebfce[_0x17fdc7(0x168)]=_0x5864cc,await _0x5ebfce[_0x17fdc7(0x572)](),this[_0x17fdc7(0x34b)][_0x5864cc]=_0x5ebfce;};try{if(this['redis'][_0x115e23(0x287)]){let _0x4f9ebb=await this[_0x115e23(0x2b3)]['instanceKeys']();_0x4f9ebb?.[_0x115e23(0x44f)]>0x0&&_0x4f9ebb[_0x115e23(0x797)](async _0x50f59e=>await _0x3b5484(_0x50f59e['split'](':')[0x1]));return;}if(this['db'][_0x115e23(0x287)]){await this[_0x115e23(0x422)]['dbServer'][_0x115e23(0x5d0)]();let _0x57cb24=await this['dbInstance'][_0x115e23(0x754)]();_0x57cb24[_0x115e23(0x44f)]>0x0&&_0x57cb24[_0x115e23(0x797)](async _0x3359c2=>await _0x3b5484(_0x3359c2[_0x115e23(0x1dd)][_0x115e23(0x214)](/^[\w-]+\./,'')));return;}}catch(_0x380302){this['logger'][_0x115e23(0x16d)](_0x380302);}}async[a0_0x39ce6a(0x67a)](){const _0x4222d9=a0_0x39ce6a;let _0x66f445=await this[_0x4222d9(0x422)][_0x4222d9(0x377)][_0x4222d9(0x537)](),_0x20cff3=_0x66f445[_0x4222d9(0x558)](_0x6720e6=>!this[_0x4222d9(0x34b)][_0x6720e6[_0x4222d9(0x3bb)]]&&(_0x6720e6['online']||typeof _0x6720e6[_0x4222d9(0x210)]>'u'));_0x20cff3[_0x4222d9(0x44f)]>0x0&&await Promise[_0x4222d9(0x39a)](_0x20cff3[_0x4222d9(0x477)](async _0x2c504a=>{const _0x522507=_0x4222d9;let _0x2bf826={'online':!0x1,'lastDisconnect':Date[_0x522507(0x2b9)]()};await this[_0x522507(0x422)]['auth'][_0x522507(0x451)](_0x2bf826,_0x2c504a[_0x522507(0x3bb)]);}));let _0x46d416=Date[_0x4222d9(0x2b9)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x1c3420=_0x66f445[_0x4222d9(0x558)](_0x4c839c=>!this[_0x4222d9(0x34b)][_0x4c839c['_id']]&&typeof _0x4c839c[_0x4222d9(0x240)]<'u'&&_0x4c839c['lastDisconnect']<_0x46d416);_0x1c3420[_0x4222d9(0x44f)]>0x0&&await Promise[_0x4222d9(0x39a)](_0x1c3420[_0x4222d9(0x477)](async _0x22b895=>{}));}async[a0_0x39ce6a(0x182)](){const _0x1d9235=a0_0x39ce6a;try{let _0x58f5ef={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x1d1d9e={'online':!0x1,'lastDisconnect':Date['now']()},_0x35088a=await this[_0x1d9235(0x422)][_0x1d9235(0x377)][_0x1d9235(0x590)](_0x58f5ef,_0x1d1d9e);console[_0x1d9235(0x4e5)](_0x1d9235(0x1de)+_0x35088a[_0x1d9235(0x2d4)]),await this['removeOlderDisconnectedInstances']();}catch(_0x360dfc){console[_0x1d9235(0x16d)]('Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:',_0x360dfc);}}async['removeOlderDisconnectedInstances'](){const _0x219fb4=a0_0x39ce6a;try{let _0x1ceec8={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x320e9a=await this[_0x219fb4(0x422)][_0x219fb4(0x377)][_0x219fb4(0x2bb)](_0x1ceec8);console[_0x219fb4(0x4e5)](_0x219fb4(0x1f3)+_0x320e9a['insertCount']);}catch(_0x291c71){console[_0x219fb4(0x16d)](_0x219fb4(0x453),_0x291c71);}}[a0_0x39ce6a(0x3e7)](){const _0x4629c5=a0_0x39ce6a;this[_0x4629c5(0x408)]['on']('remove.instance',async _0x32d9ef=>{const _0x1459f5=_0x4629c5;try{this[_0x1459f5(0x34b)][_0x32d9ef]=void 0x0;}catch{}try{this[_0x1459f5(0x31b)](_0x32d9ef);}finally{this[_0x1459f5(0x57c)][_0x1459f5(0x18f)](_0x1459f5(0x272)+_0x32d9ef+_0x1459f5(0x7ba));}});}[a0_0x39ce6a(0x6f8)](){const _0x3de92f=a0_0x39ce6a;this['eventEmitter']['on'](_0x3de92f(0x5df),async _0x45efab=>{const _0x4ca122=_0x3de92f;try{this[_0x4ca122(0x34b)][_0x45efab]=void 0x0;}catch{}try{this['cleaningUp'](_0x45efab);}finally{this[_0x4ca122(0x57c)][_0x4ca122(0x18f)](_0x4ca122(0x272)+_0x45efab+'\x22\x20-\x20NOT\x20CONNECTION');}});}},kt=class extends D{['getChatModelForOwner'](_0x3c2086){return Vs(_0x3c2086);}async['insert'](_0x216b1f){const _0x2816ad=a0_0x39ce6a;if(_0x216b1f[_0x2816ad(0x44f)]!==0x0)try{return{'insertCount':(await this[_0x2816ad(0x681)](_0x216b1f[0x0][_0x2816ad(0x3cb)])['insertMany']([..._0x216b1f]))[_0x2816ad(0x44f)]};}catch(_0x5ee7df){return _0x5ee7df;}}async[a0_0x39ce6a(0x280)](_0x1a4e83,_0x419a51){const _0x54af0e=a0_0x39ce6a;try{let _0x5e4bf9=this[_0x54af0e(0x681)](_0x419a51),_0x4428b2=A(_0x1a4e83['where']);return await _0x5e4bf9[_0x54af0e(0x280)](_0x4428b2)['sort']({'lastmsg':-0x1})['limit'](_0x1a4e83?.['limit']??0x0)[_0x54af0e(0x41d)]();}catch{return[];}}async[a0_0x39ce6a(0x589)](_0x2a1f60,_0x3989cb){const _0x3df85c=a0_0x39ce6a;try{return await this[_0x3df85c(0x681)](_0x3989cb)['deleteMany']({..._0x2a1f60[_0x3df85c(0x43d)]}),[];}catch(_0x39b4bf){return{'error':_0x39b4bf?.[_0x3df85c(0x30b)]()};}}async[a0_0x39ce6a(0x5c1)](_0x178bfb,_0x1049b9){const _0x53a457=a0_0x39ce6a;try{let _0x12b300=this[_0x53a457(0x681)](_0x1049b9),_0x5dc6de=A(_0x178bfb['where']);return await _0x12b300[_0x53a457(0x5c1)](_0x5dc6de)[_0x53a457(0x41d)]();}catch{return null;}}async[a0_0x39ce6a(0x455)](_0x1c1038,_0x1f0d02,_0x28e13b,_0x5b3e05,_0x1871eb=a0_0x39ce6a(0x660)){const _0x2ac887=a0_0x39ce6a;try{let _0x4d592f={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x5b3e05},_0x1c82ba=this['getChatModelForOwner'](_0x28e13b),_0x34e55e=A(_0x1c1038['where']);Object[_0x2ac887(0x322)](_0x1f0d02)[_0x2ac887(0x797)](_0x72ae56=>{_0x1f0d02[_0x72ae56]==null&&delete _0x1f0d02[_0x72ae56];});let _0x25a770={};return _0x25a770[_0x1871eb]=_0x1f0d02,await _0x1c82ba[_0x2ac887(0x342)](_0x34e55e,_0x25a770,_0x4d592f);}catch(_0x44a4a4){return console[_0x2ac887(0x16d)](_0x44a4a4),null;}}async[a0_0x39ce6a(0x602)](_0x5f14e4){const _0x2ed579=a0_0x39ce6a;try{let _0x4d31d5=this['getChatModelForOwner'](_0x5f14e4[0x0][_0x2ed579(0x720)][_0x2ed579(0x43d)][_0x2ed579(0x3cb)]),_0x5c8af6=_0x5f14e4['map'](_0x32c3d5=>({'updateOne':{'filter':{..._0x32c3d5['query']['where']},'update':{'$set':_0x32c3d5['update']},'upsert':!0x0}})),_0x46e916=await _0x4d31d5[_0x2ed579(0x431)](_0x5c8af6);return _0x46e916['modifiedCount']+_0x46e916[_0x2ed579(0x74a)];}catch(_0x4f9209){return console[_0x2ed579(0x16d)](_0x4f9209),0x0;}}async['updateMissingLabels'](_0x10659d){const _0x194b1d=a0_0x39ce6a;try{let _0x1e3ccc=this['getChatModelForOwner'](_0x10659d),_0x20e0f4={'labels':{'$exists':!0x0}},_0x59d660={'$unset':{'labels':''}};return(await _0x1e3ccc[_0x194b1d(0x602)](_0x20e0f4,_0x59d660))[_0x194b1d(0x72b)];}catch(_0x34497e){return console['error'](_0x34497e),0x0;}}async[a0_0x39ce6a(0x609)](_0x578e2f){const _0xfb5800=a0_0x39ce6a;try{let _0x9885a6=this[_0xfb5800(0x681)](_0x578e2f),_0x318793={'leadInfo.etiquetas':{'$exists':!0x1}},_0x25b8dc={'$set':{'leadInfo.etiquetas':[]}};return(await _0x9885a6[_0xfb5800(0x602)](_0x318793,_0x25b8dc))[_0xfb5800(0x72b)];}catch(_0x4cba9c){return console['error'](_0x4cba9c),0x0;}}async['updateMissingTags'](_0x361922){const _0xd16050=a0_0x39ce6a;try{let _0x210d49=this['getChatModelForOwner'](_0x361922),_0x29ed8c={'leadInfo.tags':{'$exists':!0x1}},_0x3f375f={'$set':{'leadInfo.tags':[]}};return(await _0x210d49[_0xd16050(0x602)](_0x29ed8c,_0x3f375f))[_0xd16050(0x72b)];}catch(_0x273f50){return console['error'](_0x273f50),0x0;}}async[a0_0x39ce6a(0x3a5)](_0x1e7196){const _0x9023ed=a0_0x39ce6a;try{let _0x4279e8=this[_0x9023ed(0x681)](_0x1e7196),_0x21acd3={'leadInfo.customFields':{'$exists':!0x1}},_0x31cd8e={'$set':{'leadInfo.customFields':[]}};return(await _0x4279e8[_0x9023ed(0x602)](_0x21acd3,_0x31cd8e))['modifiedCount'];}catch(_0x286bb2){return console[_0x9023ed(0x16d)](_0x286bb2),0x0;}}async[a0_0x39ce6a(0x3c7)](_0x3d3bc7,_0x12ceda){const _0x5a1fef=a0_0x39ce6a;if(!Array[_0x5a1fef(0x52a)](_0x3d3bc7)||_0x3d3bc7[_0x5a1fef(0x44f)]===0x0)throw new Error(_0x5a1fef(0x20a));try{return(await this['getChatModelForOwner'](_0x12ceda)[_0x5a1fef(0x3c7)](_0x3d3bc7))[_0x5a1fef(0x44f)];}catch(_0x45b701){throw console['error'](_0x5a1fef(0x308),_0x45b701),_0x45b701;}}async[a0_0x39ce6a(0x19e)](_0x4ea1b9,_0x36d341){const _0x1004f7=a0_0x39ce6a;try{await this[_0x1004f7(0x681)](_0x36d341)[_0x1004f7(0x361)]({'_id':_0x4ea1b9});}catch(_0x1086f5){throw console[_0x1004f7(0x16d)]('Erro\x20ao\x20deletar\x20chat:',_0x1086f5),_0x1086f5;}}},Lt=class extends D{[a0_0x39ce6a(0x6a0)](_0x2e49a8){return ha(_0x2e49a8);}async[a0_0x39ce6a(0x455)](_0x3ecfee,_0x5d4b9b,_0x1a4c87,_0x480abe){const _0x169dbc=a0_0x39ce6a;try{let _0x5155b7={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x480abe},_0x3eb435=this[_0x169dbc(0x6a0)](_0x1a4c87),_0x575f06=A(_0x3ecfee[_0x169dbc(0x43d)]);return await _0x3eb435[_0x169dbc(0x342)](_0x575f06,{'$set':_0x5d4b9b},_0x5155b7);}catch(_0x185e2b){return console[_0x169dbc(0x16d)](_0x185e2b),null;}}async[a0_0x39ce6a(0x280)](_0x48f39b,_0x16ae03){const _0x4cb5e8=a0_0x39ce6a;try{let _0x23e8ee=this['getLabelModelForOwner'](_0x16ae03),_0x421296=A(_0x48f39b[_0x4cb5e8(0x43d)]);return await _0x23e8ee[_0x4cb5e8(0x280)](_0x421296);}catch(_0x26e049){console[_0x4cb5e8(0x16d)](_0x26e049);}}async[a0_0x39ce6a(0x24c)](_0x14b82e,_0x161ad6){const _0x2a78c1=a0_0x39ce6a;try{let _0x22c588=this[_0x2a78c1(0x6a0)](_0x161ad6),_0x93d0ab=A(_0x14b82e[_0x2a78c1(0x43d)]);await _0x22c588[_0x2a78c1(0x2bb)](_0x93d0ab);}catch(_0x2514d9){console['error'](_0x2514d9);}}async[a0_0x39ce6a(0x589)](_0x329de7){const _0x3090f5=a0_0x39ce6a;try{return await this['getLabelModelForOwner'](_0x329de7)[_0x3090f5(0x486)][_0x3090f5(0x6d9)](),{'success':!0x0};}catch(_0xc819b1){return console['error'](_0xc819b1),{'success':!0x1,'error':_0xc819b1};}}},Ft=class{constructor(_0xe62c3e){const _0x3d91dd=a0_0x39ce6a;this[_0x3d91dd(0x7ac)]=_0xe62c3e;}async[a0_0x39ce6a(0x17a)]({instanceName:_0x38b621},_0x205772){const _0x4652ce=a0_0x39ce6a;return await this[_0x4652ce(0x7ac)][_0x4652ce(0x34b)][_0x38b621]['editChat'](_0x205772);}async[a0_0x39ce6a(0x75c)]({instanceName:_0x1d8402},_0x1888bb){const _0x24c36e=a0_0x39ce6a;return await this[_0x24c36e(0x7ac)][_0x24c36e(0x34b)][_0x1d8402][_0x24c36e(0x75c)](_0x1888bb);}async['importChats']({instanceName:_0x1ccf33},_0x43e72b){const _0x2908de=a0_0x39ce6a;return await this['waMonitor'][_0x2908de(0x34b)][_0x1ccf33][_0x2908de(0x563)](_0x43e72b);}async[a0_0x39ce6a(0x22c)]({instanceName:_0x4e7f5d},_0x4d4787){const _0x223c75=a0_0x39ce6a;return await this[_0x223c75(0x7ac)][_0x223c75(0x34b)][_0x4e7f5d][_0x223c75(0x2bd)](_0x4d4787);}async[a0_0x39ce6a(0x161)]({instanceName:_0x3d1617},_0x56b319){const _0x4918fa=a0_0x39ce6a;return await this[_0x4918fa(0x7ac)][_0x4918fa(0x34b)][_0x3d1617][_0x4918fa(0x161)](_0x56b319);}async[a0_0x39ce6a(0x51a)]({instanceName:_0x5de79c},_0x241b9d){const _0x75847a=a0_0x39ce6a;return await this[_0x75847a(0x7ac)]['waInstances'][_0x5de79c][_0x75847a(0x51a)](_0x241b9d);}async[a0_0x39ce6a(0x301)]({instanceName:_0x51b537},_0x5d3f8b){const _0x3a2508=a0_0x39ce6a;return await this['waMonitor'][_0x3a2508(0x34b)][_0x51b537][_0x3a2508(0x3da)](_0x5d3f8b['number']);}async['fetchProfile']({instanceName:_0x52d4e3},_0x2b1c58){const _0x1c325b=a0_0x39ce6a;return await this[_0x1c325b(0x7ac)][_0x1c325b(0x34b)][_0x52d4e3][_0x1c325b(0x764)](_0x2b1c58[_0x1c325b(0x2f8)]);}async['updatePresence']({instanceName:_0x157c8e},_0x271f7f){const _0x482d52=a0_0x39ce6a;return await this[_0x482d52(0x7ac)]['waInstances'][_0x157c8e][_0x482d52(0x674)](_0x271f7f);}async[a0_0x39ce6a(0x33a)]({instanceName:_0x5a6a83},_0x364f17){const _0x3e32a8=a0_0x39ce6a;return await this[_0x3e32a8(0x7ac)]['waInstances'][_0x5a6a83]['fetchContacts'](_0x364f17);}async['getBase64FromMediaMessage']({instanceName:_0x505ebd},_0x486e11){const _0x3eb1e3=a0_0x39ce6a;return await this[_0x3eb1e3(0x7ac)]['waInstances'][_0x505ebd][_0x3eb1e3(0x614)](_0x486e11);}async[a0_0x39ce6a(0x723)]({instanceName:_0x1526c0},_0x2d99da){const _0x5a2bb2=a0_0x39ce6a;return await this[_0x5a2bb2(0x7ac)]['waInstances'][_0x1526c0][_0x5a2bb2(0x723)](_0x2d99da);}async[a0_0x39ce6a(0x513)]({instanceName:_0x31be95}){const _0x1c12e9=a0_0x39ce6a;return await this[_0x1c12e9(0x7ac)]['waInstances'][_0x31be95][_0x1c12e9(0x513)]();}async[a0_0x39ce6a(0x6f5)]({instanceName:_0x27f8a3}){const _0x15b323=a0_0x39ce6a;return await this['waMonitor'][_0x15b323(0x34b)][_0x27f8a3][_0x15b323(0x6f5)]();}async[a0_0x39ce6a(0x67b)]({instanceName:_0x155156}){const _0x49006b=a0_0x39ce6a;return await this['waMonitor'][_0x49006b(0x34b)][_0x155156][_0x49006b(0x67b)]();}async[a0_0x39ce6a(0x352)]({instanceName:_0x3867bb},_0x3b56e3){const _0x43b644=a0_0x39ce6a;return await this[_0x43b644(0x7ac)][_0x43b644(0x34b)][_0x3867bb][_0x43b644(0x352)](_0x3b56e3);}async[a0_0x39ce6a(0x50f)]({instanceName:_0x3683f8},_0x2faa9d){const _0x452806=a0_0x39ce6a;return await this[_0x452806(0x7ac)][_0x452806(0x34b)][_0x3683f8][_0x452806(0x50f)](_0x2faa9d[_0x452806(0x2f8)]);}async[a0_0x39ce6a(0x3eb)]({instanceName:_0x10e3b2},_0x4982fb){const _0x36517a=a0_0x39ce6a;return await this[_0x36517a(0x7ac)][_0x36517a(0x34b)][_0x10e3b2]['updateProfileName'](_0x4982fb['name']);}async['updateProfileStatus']({instanceName:_0x5848c0},_0x26779d){const _0x3f808a=a0_0x39ce6a;return await this['waMonitor'][_0x3f808a(0x34b)][_0x5848c0]['updateProfileStatus'](_0x26779d['status']);}async[a0_0x39ce6a(0x1ae)]({instanceName:_0x253cb3},_0x3cec13){const _0x855bfa=a0_0x39ce6a;return await this['waMonitor']['waInstances'][_0x253cb3]['updateProfilePicture'](_0x3cec13[_0x855bfa(0x28a)]);}async['removeProfilePicture']({instanceName:_0x5bf9c3},_0x219bfe){const _0x56079e=a0_0x39ce6a;return await this[_0x56079e(0x7ac)]['waInstances'][_0x5bf9c3]['removeProfilePicture']();}},Ts=require(a0_0x39ce6a(0x676)),jt=class c{constructor(_0x4268c6,_0x481bc1,_0x45d3f1,_0x133faf,_0x4ac90e){const _0x9de456=a0_0x39ce6a;this['waMonitor']=_0x4268c6,this[_0x9de456(0x1e7)]=_0x481bc1,this[_0x9de456(0x422)]=_0x45d3f1,this['eventEmitter']=_0x133faf,this[_0x9de456(0x6cb)]=_0x4ac90e,this[_0x9de456(0x57c)]=new N(c[_0x9de456(0x257)]);}async[a0_0x39ce6a(0x78f)]({instanceName:_0x37c3a8,apikey:_0x382845,number:_0x4020e3,proxy:_0x553387=!0x0}){const _0x197350=a0_0x39ce6a;try{let _0x12e547=new ye(this['configService'],this['eventEmitter'],this[_0x197350(0x422)]);_0x12e547[_0x197350(0x168)]=_0x37c3a8,this[_0x197350(0x7ac)][_0x197350(0x34b)][_0x12e547[_0x197350(0x168)]]=_0x12e547;let _0x2d186f={};_0x382845?(await this['repository']['auth']['create']({'apikey':_0x382845},_0x37c3a8),_0x2d186f[_0x197350(0x74e)]=_0x382845):_0x2d186f=await this[_0x197350(0x6cb)][_0x197350(0x492)]({'instanceName':_0x12e547['instanceName']});let _0x1faffd;return await _0x12e547[_0x197350(0x572)](_0x4020e3),await(0x0,Ts[_0x197350(0x248)])(0x7d0),_0x1faffd=_0x12e547[_0x197350(0x5c8)],{'instance':{'instanceName':_0x12e547[_0x197350(0x168)],'status':_0x197350(0x1b4)},'hash':_0x2d186f,'qrcode':_0x1faffd};}catch(_0x451857){this[_0x197350(0x57c)]['error'](_0x451857);}}async[a0_0x39ce6a(0x251)]({instanceName:_0x829e22,number:_0x24060d=null}){const _0x39baef=a0_0x39ce6a;try{let _0x374ebe=this[_0x39baef(0x7ac)][_0x39baef(0x34b)][_0x829e22];switch(_0x374ebe?.[_0x39baef(0x652)]?.[_0x39baef(0x3fa)]){case _0x39baef(0x194):return await _0x374ebe[_0x39baef(0x572)](_0x24060d),await(0x0,Ts['delay'])(0x7d0),_0x374ebe[_0x39baef(0x5c8)];case _0x39baef(0x3d0):return _0x374ebe['qrCode'];default:return await this[_0x39baef(0x271)]({'instanceName':_0x829e22});}}catch(_0x1a228f){this['logger'][_0x39baef(0x4e5)](_0x1a228f);}}async[a0_0x39ce6a(0x271)]({instanceName:_0x24f6b3}){const _0x3b5fa8=a0_0x39ce6a;let _0x41ad05=this[_0x3b5fa8(0x7ac)]['waInstances'][_0x24f6b3]['connectionStatus'],_0x1c53dd=null;_0x41ad05[_0x3b5fa8(0x3fa)]===_0x3b5fa8(0x606)&&_0x24f6b3&&(_0x1c53dd=await this[_0x3b5fa8(0x7ac)]['instanceInfo'](_0x24f6b3));let _0x46036d=null;return _0x41ad05[_0x3b5fa8(0x3fa)]==='connecting'&&_0x24f6b3&&(_0x46036d=this['waMonitor'][_0x3b5fa8(0x34b)][_0x24f6b3][_0x3b5fa8(0x5c8)]),{'instance':_0x24f6b3,'connectionStatus':_0x41ad05,'instanceInfo':_0x1c53dd,'qrcode':_0x46036d};}async[a0_0x39ce6a(0x241)]({instanceName:_0x30fe63}){const _0x3a0459=a0_0x39ce6a;try{return this[_0x3a0459(0x7ac)]['waInstances'][_0x30fe63]?.[_0x3a0459(0x1ba)]?.['ws']?.[_0x3a0459(0x194)](),{'status':_0x3a0459(0x202),'error':!0x1,'response':{'message':_0x3a0459(0x545)}};}catch(_0x3bbd83){this[_0x3a0459(0x57c)][_0x3a0459(0x16d)](_0x3bbd83);}}async[a0_0x39ce6a(0x5c9)]({instanceName:_0x3cafe4}){const _0x892602=a0_0x39ce6a;return _0x3cafe4?this[_0x892602(0x7ac)][_0x892602(0x6a8)](_0x3cafe4):this[_0x892602(0x7ac)][_0x892602(0x6a8)]();}async['logout']({instanceName:_0x1f58ec}){const _0x5e1533=a0_0x39ce6a;try{return await this[_0x5e1533(0x7ac)][_0x5e1533(0x34b)][_0x1f58ec]?.[_0x5e1533(0x1ba)]?.[_0x5e1533(0x2d8)](_0x5e1533(0x18b)+_0x1f58ec),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x42ba91){throw new I(_0x42ba91[_0x5e1533(0x30b)]());}}async[a0_0x39ce6a(0x4da)]({instanceName:_0x19d6c3}){const _0x54002a=a0_0x39ce6a;if((await this[_0x54002a(0x271)]({'instanceName':_0x19d6c3}))[_0x54002a(0x652)]['state']===_0x54002a(0x606))throw new w([_0x54002a(0x399),_0x54002a(0x604)]);try{return delete this['waMonitor'][_0x54002a(0x34b)][_0x19d6c3],{'error':!0x1,'message':_0x54002a(0x26f)};}catch(_0x309e00){throw new w(_0x309e00[_0x54002a(0x30b)]());}}},X=require(a0_0x39ce6a(0x7bd)),Ut=class{constructor(_0x5eb184){const _0x9f6758=a0_0x39ce6a;this[_0x9f6758(0x7ac)]=_0x5eb184;}async[a0_0x39ce6a(0x49d)]({instanceName:_0x471ccf},_0x508892){const _0x58ed1e=a0_0x39ce6a;return await this[_0x58ed1e(0x7ac)][_0x58ed1e(0x34b)][_0x471ccf]['textMessage'](_0x508892);}async[a0_0x39ce6a(0x2ef)]({instanceName:_0xb6f749},_0x3ab470){const _0x5177dc=a0_0x39ce6a;return await this['waMonitor'][_0x5177dc(0x34b)][_0xb6f749][_0x5177dc(0x1e2)](_0x3ab470);}async[a0_0x39ce6a(0x40b)]({instanceName:_0xc1bcfe},_0x1b8b63){const _0x472bab=a0_0x39ce6a;if((0x0,X[_0x472bab(0x496)])(_0x1b8b63?.['mediaMessage']?.[_0x472bab(0x701)])&&!_0x1b8b63?.['mediaMessage']?.[_0x472bab(0x4ac)])throw new w(_0x472bab(0x2a0));if((0x0,X[_0x472bab(0x6bc)])(_0x1b8b63?.[_0x472bab(0x409)]?.['media'])||(0x0,X[_0x472bab(0x496)])(_0x1b8b63?.[_0x472bab(0x409)]?.[_0x472bab(0x701)]))return await this['waMonitor'][_0x472bab(0x34b)][_0xc1bcfe][_0x472bab(0x409)](_0x1b8b63);throw new w(_0x472bab(0x2ed));}async[a0_0x39ce6a(0x45f)]({instanceName:_0x357efb},_0x4c9150){const _0x2dae9b=a0_0x39ce6a;if((0x0,X[_0x2dae9b(0x6bc)])(_0x4c9150[_0x2dae9b(0x1c0)][_0x2dae9b(0x767)])||(0x0,X[_0x2dae9b(0x496)])(_0x4c9150[_0x2dae9b(0x1c0)][_0x2dae9b(0x767)]))return await this['waMonitor'][_0x2dae9b(0x34b)][_0x357efb][_0x2dae9b(0x716)](_0x4c9150);throw new w(_0x2dae9b(0x2ed));}async['sendWhatsAppAudio']({instanceName:_0x5deb6d},_0x3e2323){const _0x168c20=a0_0x39ce6a;if((0x0,X['isURL'])(_0x3e2323[_0x168c20(0x148)][_0x168c20(0x220)])||(0x0,X['isBase64'])(_0x3e2323[_0x168c20(0x148)]['audio']))return await this['waMonitor']['waInstances'][_0x5deb6d]['audioWhatsapp'](_0x3e2323);throw new w(_0x168c20(0x2ed));}async[a0_0x39ce6a(0x464)]({instanceName:_0x99f6ba},_0x11d108){const _0x150487=a0_0x39ce6a;if((0x0,X[_0x150487(0x496)])(_0x11d108[_0x150487(0x528)][_0x150487(0x409)]?.[_0x150487(0x701)])&&!_0x11d108[_0x150487(0x528)][_0x150487(0x409)]?.[_0x150487(0x4ac)])throw new w('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');return await this['waMonitor'][_0x150487(0x34b)][_0x99f6ba][_0x150487(0x528)](_0x11d108);}async[a0_0x39ce6a(0x62d)]({instanceName:_0x5cd685},_0x108108){const _0x4f1dba=a0_0x39ce6a;return await this[_0x4f1dba(0x7ac)]['waInstances'][_0x5cd685]['locationMessage'](_0x108108);}async[a0_0x39ce6a(0x6dd)]({instanceName:_0x122637},_0x6c9341){const _0x4a5bd5=a0_0x39ce6a;return await this[_0x4a5bd5(0x7ac)][_0x4a5bd5(0x34b)][_0x122637]['pollMessage'](_0x6c9341);}async[a0_0x39ce6a(0x725)]({instanceName:_0x1ede7b},_0x8be4a2){const _0x135449=a0_0x39ce6a;return await this['waMonitor'][_0x135449(0x34b)][_0x1ede7b]['listMessage'](_0x8be4a2);}async[a0_0x39ce6a(0x768)]({instanceName:_0x517c39},_0x197c83){const _0x4a8934=a0_0x39ce6a;return await this['waMonitor']['waInstances'][_0x517c39][_0x4a8934(0x3a7)](_0x197c83);}async[a0_0x39ce6a(0x740)]({instanceName:_0x3253d7},_0x59470d){const _0x26c1f0=a0_0x39ce6a;if(!_0x59470d['reactionMessage']['reaction']['match'](/[^\(\)\w\sà-ú"-\+]+/))throw new w(_0x26c1f0(0x747));return await this['waMonitor']['waInstances'][_0x3253d7][_0x26c1f0(0x2e0)](_0x59470d);}async[a0_0x39ce6a(0x2ea)]({instanceName:_0x4c7286},_0x6252b8){const _0x2f1dbe=a0_0x39ce6a;return await this[_0x2f1dbe(0x7ac)][_0x2f1dbe(0x34b)][_0x4c7286][_0x2f1dbe(0x385)](_0x6252b8);}},Mr=require(a0_0x39ce6a(0x679)),Os=require(a0_0x39ce6a(0x1d5)),qt=class c{constructor(_0x4d4081,_0x46d27b,_0x5e598){const _0x365573=a0_0x39ce6a;this['configService']=_0x4d4081,this[_0x365573(0x7ac)]=_0x46d27b,this['repository']=_0x5e598,this[_0x365573(0x57c)]=new N(c[_0x365573(0x257)]);}async[a0_0x39ce6a(0x694)](_0x4eb510){const _0x5ea2fd=a0_0x39ce6a;let _0x4df677=this[_0x5ea2fd(0x1e7)][_0x5ea2fd(0x2b4)](_0x5ea2fd(0x535))[_0x5ea2fd(0x504)],_0x5ebfe4=(0x0,Mr['sign'])({'instanceName':_0x4eb510['instanceName'],'apiName':He,'tokenId':(0x0,Os['v4'])()},_0x4df677['SECRET'],{'expiresIn':_0x4df677[_0x5ea2fd(0x702)],'encoding':_0x5ea2fd(0x2c4),'subject':_0x5ea2fd(0x639)}),_0x24049e=await this[_0x5ea2fd(0x422)]['auth'][_0x5ea2fd(0x451)]({'jwt':_0x5ebfe4},_0x4eb510[_0x5ea2fd(0x168)]);if(_0x24049e[_0x5ea2fd(0x16d)])throw this[_0x5ea2fd(0x57c)][_0x5ea2fd(0x16d)]({'localError':c['name']+'.jwt','error':_0x24049e[_0x5ea2fd(0x16d)]}),new w(_0x5ea2fd(0x471),_0x24049e['error']?.['toString']());return{'jwt':_0x5ebfe4};}async[a0_0x39ce6a(0x74e)](_0x5e4045){const _0x4546f5=a0_0x39ce6a;let _0x1fe0ea=(0x0,Os['v4'])()[_0x4546f5(0x3aa)](),_0x43d4d4=await this[_0x4546f5(0x422)][_0x4546f5(0x377)][_0x4546f5(0x451)]({'apikey':_0x1fe0ea},_0x5e4045[_0x4546f5(0x168)]);if(_0x43d4d4[_0x4546f5(0x16d)])throw this['logger'][_0x4546f5(0x16d)]({'localError':c[_0x4546f5(0x257)]+_0x4546f5(0x743),'error':_0x43d4d4[_0x4546f5(0x16d)]}),new w(_0x4546f5(0x471),_0x43d4d4[_0x4546f5(0x16d)]?.[_0x4546f5(0x30b)]());return{'apikey':_0x1fe0ea};}async[a0_0x39ce6a(0x492)](_0x3a5e4d){const _0x465ab9=a0_0x39ce6a;let _0x56ea5a=this[_0x465ab9(0x1e7)][_0x465ab9(0x2b4)](_0x465ab9(0x535));return await this[_0x56ea5a[_0x465ab9(0x183)]](_0x3a5e4d);}},Jt=class{constructor(_0x1b9f4c){const _0x5bbe10=a0_0x39ce6a;this[_0x5bbe10(0x7ac)]=_0x1b9f4c;}async['createGroup'](_0x5e7dab,_0xd621c8){const _0x17fb59=a0_0x39ce6a;return await this['waMonitor'][_0x17fb59(0x34b)][_0x5e7dab[_0x17fb59(0x168)]][_0x17fb59(0x4e7)](_0xd621c8);}async['updateGroupPicture'](_0x29d7aa,_0x2d1bfc){const _0x39b8f8=a0_0x39ce6a;return await this['waMonitor'][_0x39b8f8(0x34b)][_0x29d7aa[_0x39b8f8(0x168)]]['updateGroupPicture'](_0x2d1bfc);}async[a0_0x39ce6a(0x72a)](_0x3a9c07,_0x25bbde){const _0x4f9362=a0_0x39ce6a;return await this[_0x4f9362(0x7ac)][_0x4f9362(0x34b)][_0x3a9c07[_0x4f9362(0x168)]][_0x4f9362(0x72a)](_0x25bbde);}async[a0_0x39ce6a(0x1dc)](_0x54d617,_0x1d59dc){const _0x4eb62d=a0_0x39ce6a;return await this[_0x4eb62d(0x7ac)][_0x4eb62d(0x34b)][_0x54d617[_0x4eb62d(0x168)]][_0x4eb62d(0x1dc)](_0x1d59dc);}async[a0_0x39ce6a(0x3c1)](_0x27ff75,_0x27a384){const _0x294130=a0_0x39ce6a;return await this[_0x294130(0x7ac)][_0x294130(0x34b)][_0x27ff75[_0x294130(0x168)]][_0x294130(0x3c1)](_0x27a384);}async[a0_0x39ce6a(0x2a5)](_0x44db05,_0x286317){const _0x3534e=a0_0x39ce6a;return await this[_0x3534e(0x7ac)][_0x3534e(0x34b)][_0x44db05['instanceName']][_0x3534e(0x28b)](_0x286317);}async[a0_0x39ce6a(0x17d)](_0x43d153){const _0x392361=a0_0x39ce6a;return await this[_0x392361(0x7ac)][_0x392361(0x34b)][_0x43d153['instanceName']]['findGroups']();}async[a0_0x39ce6a(0x4b1)](_0x21b9a3,_0x5c2b47){const _0x854ce9=a0_0x39ce6a;return await this['waMonitor'][_0x854ce9(0x34b)][_0x21b9a3[_0x854ce9(0x168)]]['inviteCode'](_0x5c2b47);}async[a0_0x39ce6a(0x198)](_0x4724d0,_0x13ef03){const _0x59bd66=a0_0x39ce6a;return await this[_0x59bd66(0x7ac)]['waInstances'][_0x4724d0[_0x59bd66(0x168)]][_0x59bd66(0x198)](_0x13ef03);}async[a0_0x39ce6a(0x34a)](_0x2ca3e6,_0x44c86c){const _0x377f78=a0_0x39ce6a;return await this[_0x377f78(0x7ac)][_0x377f78(0x34b)][_0x2ca3e6[_0x377f78(0x168)]][_0x377f78(0x34a)](_0x44c86c);}async['findParticipants'](_0x5e10ba,_0x1cce6d){const _0x49b619=a0_0x39ce6a;return await this[_0x49b619(0x7ac)][_0x49b619(0x34b)][_0x5e10ba[_0x49b619(0x168)]][_0x49b619(0x56b)](_0x1cce6d);}async['updateGParticipate'](_0x8319e9,_0x4ab20b){const _0x486c03=a0_0x39ce6a;return await this[_0x486c03(0x7ac)][_0x486c03(0x34b)][_0x8319e9[_0x486c03(0x168)]][_0x486c03(0x599)](_0x4ab20b);}async[a0_0x39ce6a(0x70d)](_0x3b05ce,_0x5d5c2d){const _0xca4da8=a0_0x39ce6a;return await this[_0xca4da8(0x7ac)][_0xca4da8(0x34b)][_0x3b05ce[_0xca4da8(0x168)]][_0xca4da8(0x70d)](_0x5d5c2d);}async[a0_0x39ce6a(0x1a8)](_0x42c7a5,_0xef5e3a){const _0x7b5c51=a0_0x39ce6a;return await this['waMonitor'][_0x7b5c51(0x34b)][_0x42c7a5['instanceName']]['leaveGroup'](_0xef5e3a);}},Vt=class{constructor(_0x43d0ee){const _0x4f4976=a0_0x39ce6a;this[_0x4f4976(0x7ac)]=_0x43d0ee;}['create'](_0x1e5781,_0xd245c8){const _0x4c9a12=a0_0x39ce6a;return this[_0x4c9a12(0x7ac)][_0x4c9a12(0x34b)][_0x1e5781[_0x4c9a12(0x168)]][_0x4c9a12(0x3e6)](_0xd245c8);}async['find'](_0x424e15){const _0x417274=a0_0x39ce6a;try{return await this[_0x417274(0x7ac)][_0x417274(0x34b)][_0x424e15[_0x417274(0x168)]][_0x417274(0x704)]();}catch{return{'enabled':null,'url':''};}}},Zd=new N(a0_0x39ce6a(0x63a)),Bt=class{constructor(_0x273b1d){const _0x2fc3e4=a0_0x39ce6a;this[_0x2fc3e4(0x7ac)]=_0x273b1d;}async[a0_0x39ce6a(0x7b7)](_0x47ef4b,_0x556727){const _0x348773=a0_0x39ce6a;return await this[_0x348773(0x7ac)]['waInstances'][_0x47ef4b['instanceName']][_0x348773(0x7b7)](_0x556727);}async[a0_0x39ce6a(0x65a)](_0x32a5e8){const _0x5f2fab=a0_0x39ce6a;return await this[_0x5f2fab(0x7ac)]['waInstances'][_0x32a5e8[_0x5f2fab(0x168)]]['getScheduleMessage']();}async[a0_0x39ce6a(0x736)](_0x2adf1a){const _0x5086c2=a0_0x39ce6a;return await this[_0x5086c2(0x7ac)][_0x5086c2(0x34b)][_0x2adf1a[_0x5086c2(0x168)]]['deleteDoneMessages']();}async[a0_0x39ce6a(0x6c8)](_0x5bd272){const _0x2f1ed7=a0_0x39ce6a;return await this[_0x2f1ed7(0x7ac)][_0x2f1ed7(0x34b)][_0x5bd272[_0x2f1ed7(0x168)]][_0x2f1ed7(0x6c8)]();}async['updateAgent'](_0x2ff818,_0x4d15a8){const _0x15e07a=a0_0x39ce6a;return await this[_0x15e07a(0x7ac)][_0x15e07a(0x34b)][_0x2ff818['instanceName']][_0x15e07a(0x793)](_0x4d15a8);}async[a0_0x39ce6a(0x5fd)](_0x464482,_0x28116f){const _0x465143=a0_0x39ce6a;return await this[_0x465143(0x7ac)]['waInstances'][_0x464482[_0x465143(0x168)]][_0x465143(0x5fd)](_0x28116f);}async[a0_0x39ce6a(0x4d9)](_0x159bc0,_0xd482a7){const _0x222cdb=a0_0x39ce6a;return await this[_0x222cdb(0x7ac)][_0x222cdb(0x34b)][_0x159bc0[_0x222cdb(0x168)]]['updateFlowConfig'](_0xd482a7);}async[a0_0x39ce6a(0x2de)](_0x10a754,_0x3339f2){const _0x5905a5=a0_0x39ce6a;return await this[_0x5905a5(0x7ac)]['waInstances'][_0x10a754['instanceName']][_0x5905a5(0x2de)](_0x3339f2);}async[a0_0x39ce6a(0x765)](_0x26710e,_0x2fc52a){const _0x3c6838=a0_0x39ce6a;return await this[_0x3c6838(0x7ac)]['waInstances'][_0x26710e[_0x3c6838(0x168)]][_0x3c6838(0x765)](_0x2fc52a);}async[a0_0x39ce6a(0x380)](_0x15ef8f,_0x1b7449){const _0x165791=a0_0x39ce6a;return await this['waMonitor']['waInstances'][_0x15ef8f[_0x165791(0x168)]][_0x165791(0x380)](_0x1b7449);}async[a0_0x39ce6a(0x232)](_0x1a66d7,_0x553e6e){const _0x53fc9b=a0_0x39ce6a;return await this['waMonitor'][_0x53fc9b(0x34b)][_0x1a66d7[_0x53fc9b(0x168)]][_0x53fc9b(0x232)](_0x553e6e);}async[a0_0x39ce6a(0x38d)](_0x52bd96,_0x3cc6d8){const _0x300bb6=a0_0x39ce6a;return await this[_0x300bb6(0x7ac)]['waInstances'][_0x52bd96[_0x300bb6(0x168)]]['deleteConversation'](_0x3cc6d8);}async[a0_0x39ce6a(0x375)](_0x114baa,_0x3bd7a2){const _0x55393f=a0_0x39ce6a;return await this['waMonitor'][_0x55393f(0x34b)][_0x114baa[_0x55393f(0x168)]][_0x55393f(0x375)](_0x3bd7a2['name']);}async[a0_0x39ce6a(0x406)](_0x16a4d4,_0x4dc4ad){const _0x36ef37=a0_0x39ce6a;return await this['waMonitor']['waInstances'][_0x16a4d4[_0x36ef37(0x168)]][_0x36ef37(0x406)](_0x4dc4ad);}async[a0_0x39ce6a(0x4b6)](_0x114cbb,_0x1b1683){const _0x32309c=a0_0x39ce6a;return await this[_0x32309c(0x7ac)][_0x32309c(0x34b)][_0x114cbb[_0x32309c(0x168)]][_0x32309c(0x4b6)](_0x1b1683);}async['editFlowBlock'](_0x5d18c9,_0x4eaef7){const _0x5d0dd0=a0_0x39ce6a;return await this['waMonitor'][_0x5d0dd0(0x34b)][_0x5d18c9[_0x5d0dd0(0x168)]][_0x5d0dd0(0x68f)](_0x4eaef7);}async[a0_0x39ce6a(0x6ce)](_0x3aa0ea,_0x135853){const _0x5e1c6b=a0_0x39ce6a;return await this[_0x5e1c6b(0x7ac)][_0x5e1c6b(0x34b)][_0x3aa0ea[_0x5e1c6b(0x168)]][_0x5e1c6b(0x6ce)](_0x135853);}async[a0_0x39ce6a(0x763)](_0xf338d5,_0x21cfa0){const _0x4175e0=a0_0x39ce6a;return await this[_0x4175e0(0x7ac)][_0x4175e0(0x34b)][_0xf338d5['instanceName']]['editFlowGroup'](_0x21cfa0);}async[a0_0x39ce6a(0x4fd)](_0x263d80,_0x2b2c4c){const _0x3203b5=a0_0x39ce6a;return await this[_0x3203b5(0x7ac)]['waInstances'][_0x263d80[_0x3203b5(0x168)]][_0x3203b5(0x4fd)](_0x2b2c4c);}async['editFlowVaredit'](_0xdb890,_0x37c13c){const _0x2d21d7=a0_0x39ce6a;return await this[_0x2d21d7(0x7ac)]['waInstances'][_0xdb890[_0x2d21d7(0x168)]][_0x2d21d7(0x2ee)](_0x37c13c);}async[a0_0x39ce6a(0x6b2)](_0x20dfcb,_0x4230b5){const _0x2d3f14=a0_0x39ce6a;return await this[_0x2d3f14(0x7ac)]['waInstances'][_0x20dfcb['instanceName']]['editFlowVariable'](_0x4230b5);}async[a0_0x39ce6a(0x1c6)](_0x3406fd,_0x68d3b1){const _0xca6c3e=a0_0x39ce6a;return await this[_0xca6c3e(0x7ac)]['waInstances'][_0x3406fd[_0xca6c3e(0x168)]]['deleteFlow'](_0x68d3b1[_0xca6c3e(0x257)]);}async[a0_0x39ce6a(0x6e2)](_0x2548e0){const _0x43e7b5=a0_0x39ce6a;return await this[_0x43e7b5(0x7ac)][_0x43e7b5(0x34b)][_0x2548e0[_0x43e7b5(0x168)]][_0x43e7b5(0x6e2)]();}},Gt=class{constructor(_0x5ce1bf){const _0x248384=a0_0x39ce6a;this[_0x248384(0x1af)]=_0x5ce1bf;}async[a0_0x39ce6a(0x71d)](_0x1b46de,_0x1f3a4b){const _0x4b8fca=a0_0x39ce6a;return this[_0x4b8fca(0x1af)][_0x4b8fca(0x451)](_0x1b46de,_0x1f3a4b);}async[a0_0x39ce6a(0x704)](_0x351778){const _0x49e590=a0_0x39ce6a;return this['webhookService'][_0x49e590(0x280)](_0x351778);}},Wt=class extends D{constructor(_0x1fd03d,_0x2a0bc8){const _0x476874=a0_0x39ce6a;super(_0x2a0bc8),this[_0x476874(0x47d)]=_0x1fd03d,this[_0x476874(0x1e7)]=_0x2a0bc8;}async[a0_0x39ce6a(0x451)](_0x49ec23,_0x3d56b5){const _0x2fed90=a0_0x39ce6a;try{return this[_0x2fed90(0x2d3)][_0x2fed90(0x287)]?{'insertCount':(await this[_0x2fed90(0x47d)][_0x2fed90(0x243)]({'_id':_0x3d56b5},{..._0x49ec23},{'upsert':!0x0}))[_0x2fed90(0x72b)]}:{'insertCount':0x1};}catch(_0x2eb87c){return _0x2eb87c;}}async[a0_0x39ce6a(0x24c)](_0x2a1f9b){const _0x186a0d=a0_0x39ce6a;try{if(this[_0x186a0d(0x2d3)][_0x186a0d(0x287)]){await this[_0x186a0d(0x47d)][_0x186a0d(0x361)]({'_id':_0x2a1f9b});return;}}catch(_0x55717f){return{'error':_0x55717f};}}async[a0_0x39ce6a(0x280)](_0x2f686d){const _0x4822f8=a0_0x39ce6a;try{if(this['dbSettings'][_0x4822f8(0x287)])return await this[_0x4822f8(0x47d)][_0x4822f8(0x5c1)]({'_id':_0x2f686d});}catch{return{};}}},zt=class extends D{constructor(_0x374c37,_0x2f6602){const _0x345b48=a0_0x39ce6a;super(_0x2f6602),this['authModel']=_0x374c37,this['configService']=_0x2f6602,this['auth']=_0x2f6602['get'](_0x345b48(0x535));}async[a0_0x39ce6a(0x451)](_0x3bbae1,_0x488e96){const _0x4dbf7e=a0_0x39ce6a;try{if(this[_0x4dbf7e(0x2d3)][_0x4dbf7e(0x287)])return{'insertCount':(await this[_0x4dbf7e(0x50e)][_0x4dbf7e(0x455)]({'_id':_0x488e96},{'$set':{..._0x3bbae1}},{'upsert':!0x0}))[_0x4dbf7e(0x72b)]};}catch(_0x382704){return{'error':_0x382704};}}async[a0_0x39ce6a(0x590)](_0x387c31,_0x4d21b2){const _0x13d566=a0_0x39ce6a;try{if(this['dbSettings'][_0x13d566(0x287)])return{'insertCount':(await this[_0x13d566(0x50e)][_0x13d566(0x602)](_0x387c31,{'$set':_0x4d21b2},{'upsert':!0x1}))['modifiedCount']};throw new Error(_0x13d566(0x1f8));}catch(_0x5465d1){return{'error':_0x5465d1};}}async[a0_0x39ce6a(0x2bb)](_0x5bde71){const _0xc3b562=a0_0x39ce6a;try{if(this[_0xc3b562(0x2d3)][_0xc3b562(0x287)])return{'insertCount':(await this[_0xc3b562(0x50e)][_0xc3b562(0x2bb)](_0x5bde71))['deletedCount']};throw new Error(_0xc3b562(0x1f8));}catch(_0x32a0b0){return{'error':_0x32a0b0};}}async[a0_0x39ce6a(0x24c)](_0x584a58){const _0x50cfab=a0_0x39ce6a;try{if(this[_0x50cfab(0x2d3)][_0x50cfab(0x287)]){await this[_0x50cfab(0x50e)][_0x50cfab(0x361)]({'_id':_0x584a58});return;}}catch(_0x5939c4){return{'error':_0x5939c4};}}async['find'](_0x250ee0){const _0xe862d0=a0_0x39ce6a;try{if(this[_0xe862d0(0x2d3)][_0xe862d0(0x287)])return await this['authModel'][_0xe862d0(0x5c1)]({'_id':_0x250ee0});}catch{return{};}}async[a0_0x39ce6a(0x537)](){const _0x55c48a=a0_0x39ce6a;try{if(this['dbSettings']['ENABLED'])return await this[_0x55c48a(0x50e)][_0x55c48a(0x280)]();}catch{return[];}}},Ht=class extends D{['getFlowModelForOwner'](_0x24bf22){return ra(_0x24bf22);}async[a0_0x39ce6a(0x52d)](_0x3eb049){const _0x3ee1f4=a0_0x39ce6a;try{let _0x23e9d4=ia,_0xab795b=this[_0x3ee1f4(0x705)](_0x3eb049),_0x5213d4=await _0x23e9d4[_0x3ee1f4(0x280)]({'owner':_0x3eb049})[_0x3ee1f4(0x41d)](),_0x5a7f49=[],_0x1c802c=[];for(let _0xdfda1 of _0x5213d4)await _0xab795b[_0x3ee1f4(0x171)](_0xdfda1[_0x3ee1f4(0x3bb)])[_0x3ee1f4(0x41d)]()||(_0x5a7f49[_0x3ee1f4(0x41f)](_0xdfda1),_0x1c802c[_0x3ee1f4(0x41f)](_0xdfda1[_0x3ee1f4(0x3bb)]));return _0x5a7f49[_0x3ee1f4(0x44f)]>0x0&&await _0xab795b[_0x3ee1f4(0x3c7)](_0x5a7f49,{'ordered':!0x1}),{'success':!0x0};}catch(_0x20f5ae){return console[_0x3ee1f4(0x16d)](_0x3ee1f4(0x791),_0x20f5ae),{'success':!0x1,'error':_0x20f5ae};}}async['delete'](_0x63e44d,_0x37f4e6){const _0x33c403=a0_0x39ce6a;try{let _0x25dd26=this['getFlowModelForOwner'](_0x37f4e6),_0x3b89b0=A(_0x63e44d[_0x33c403(0x43d)]);return{'deletedCount':(await _0x25dd26[_0x33c403(0x2bb)](_0x3b89b0))[_0x33c403(0x16e)]};}catch(_0x49d16f){return{'error':_0x49d16f?.['toString']()};}}async['deleteOne'](_0x6536c1,_0x2f7f61){const _0x14e602=a0_0x39ce6a;try{let _0x12f0fd=this[_0x14e602(0x705)](_0x2f7f61),_0x96889e=A(_0x6536c1[_0x14e602(0x43d)]);return{'deletedCount':(await _0x12f0fd[_0x14e602(0x361)](_0x96889e))[_0x14e602(0x16e)]};}catch(_0x2dcf29){return{'error':_0x2dcf29?.['toString']()};}}async[a0_0x39ce6a(0x243)](_0x32d00a,_0x5e89f9,_0x4513f2){const _0x1db54f=a0_0x39ce6a;try{let _0x3ea624=await this[_0x1db54f(0x705)](_0x4513f2)[_0x1db54f(0x388)](_0x32d00a,_0x5e89f9,{'overwrite':!0x0,'new':!0x0});return _0x3ea624||(console[_0x1db54f(0x16d)](_0x1db54f(0x229),_0x32d00a),null);}catch(_0xd05020){return console[_0x1db54f(0x16d)](_0x1db54f(0x466),_0xd05020),null;}}async[a0_0x39ce6a(0x455)](_0x5cae0b,_0x300217,_0x2da6a7){const _0x46cf5e=a0_0x39ce6a;try{let _0x12920f=await this[_0x46cf5e(0x705)](_0x2da6a7)[_0x46cf5e(0x171)](_0x5cae0b);return _0x12920f?(Object[_0x46cf5e(0x5f0)](_0x12920f,_0x300217),await _0x12920f['save']()):(console[_0x46cf5e(0x16d)]('Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:',_0x5cae0b),null);}catch(_0x5f45d1){return console[_0x46cf5e(0x16d)](_0x46cf5e(0x466),_0x5f45d1),null;}}async[a0_0x39ce6a(0x18e)](_0x3abdf6){const _0x2d626f=a0_0x39ce6a;try{let _0x2a3b91=this[_0x2d626f(0x705)](_0x3abdf6),_0x415c80={'shareOwners':{'$exists':!0x1}},_0x538b3e={'$set':{'shareOwners':[]}};return(await _0x2a3b91[_0x2d626f(0x602)](_0x415c80,_0x538b3e))[_0x2d626f(0x72b)];}catch(_0x2ea1ba){return console[_0x2d626f(0x16d)](_0x2ea1ba),0x0;}}async[a0_0x39ce6a(0x481)](_0x54228f,_0x1faab3){const _0x13d6b3=a0_0x39ce6a;try{let _0x4cce97=this['getFlowModelForOwner'](_0x1faab3);return await new _0x4cce97(_0x54228f)[_0x13d6b3(0x53c)]();}catch(_0x479b23){return console[_0x13d6b3(0x16d)](_0x13d6b3(0x3b0),_0x479b23),null;}}async[a0_0x39ce6a(0x602)](_0x4b9944,_0x7ad4f5,_0x3efa3a){const _0xa06f84=a0_0x39ce6a;try{return{'modifiedCount':(await this[_0xa06f84(0x705)](_0x3efa3a)[_0xa06f84(0x602)](_0x4b9944,{'$set':_0x7ad4f5}))[_0xa06f84(0x72b)]};}catch(_0x526957){return console[_0xa06f84(0x16d)](_0xa06f84(0x512),_0x526957),{'error':_0x526957};}}async['findAll'](_0x39a28d,_0x31e325){const _0x140332=a0_0x39ce6a;try{let _0x2d4c60=this[_0x140332(0x705)](_0x31e325),_0x16205f=A(_0x39a28d[_0x140332(0x43d)]);return await _0x2d4c60[_0x140332(0x280)](_0x16205f)[_0x140332(0x2a7)](_0x39a28d?.[_0x140332(0x2a7)]??0x0)[_0x140332(0x41d)]();}catch{return[];}}async['findOne'](_0x27cf44,_0x585974){const _0x81ca89=a0_0x39ce6a;try{let _0x2c4b70=this['getFlowModelForOwner'](_0x585974),_0x286a9b=A(_0x27cf44[_0x81ca89(0x43d)]);return await _0x2c4b70['findOne'](_0x286a9b)[_0x81ca89(0x41d)]();}catch{return null;}}async[a0_0x39ce6a(0x589)](_0x115465){const _0x5bf4d8=a0_0x39ce6a;try{return await this['getFlowModelForOwner'](_0x115465)[_0x5bf4d8(0x486)][_0x5bf4d8(0x6d9)](),{'success':!0x0};}catch(_0x31c37c){return console[_0x5bf4d8(0x16d)](_0x31c37c),{'success':!0x1,'error':_0x31c37c};}}},Kt=class extends D{['getConversationModelForOwner'](_0x14d95f){return na(_0x14d95f);}async[a0_0x39ce6a(0x52d)](_0x37c5b0){const _0x50788a=a0_0x39ce6a;try{let _0x47ad09=ca,_0xc90d29=this[_0x50788a(0x7af)](_0x37c5b0),_0x4d0d5f=await _0x47ad09[_0x50788a(0x280)]({'owner':_0x37c5b0})[_0x50788a(0x41d)](),_0x48b92c=[],_0x5ede69=[];for(let _0x44b192 of _0x4d0d5f)await _0xc90d29['findById'](_0x44b192[_0x50788a(0x3bb)])[_0x50788a(0x41d)]()||(_0x48b92c[_0x50788a(0x41f)](_0x44b192),_0x5ede69[_0x50788a(0x41f)](_0x44b192[_0x50788a(0x3bb)]));return _0x48b92c[_0x50788a(0x44f)]>0x0&&await _0xc90d29[_0x50788a(0x3c7)](_0x48b92c,{'ordered':!0x1}),{'success':!0x0};}catch(_0x1f61fd){return console[_0x50788a(0x16d)](_0x50788a(0x791),_0x1f61fd),{'success':!0x1,'error':_0x1f61fd};}}async[a0_0x39ce6a(0x42e)](_0x35fe3d){const _0xbb0b74=a0_0x39ce6a;if(_0x35fe3d[_0xbb0b74(0x44f)]!==0x0)try{return{'insertCount':(await this[_0xbb0b74(0x7af)](_0x35fe3d[0x0]['owner'])[_0xbb0b74(0x3c7)]([..._0x35fe3d]))[_0xbb0b74(0x44f)]};}catch(_0x56b0f2){return _0x56b0f2;}}async[a0_0x39ce6a(0x24c)](_0x7900ed,_0x3e6954){const _0x31d251=a0_0x39ce6a;try{let _0xd65c34=this[_0x31d251(0x7af)](_0x3e6954),_0x5a21b2=A(_0x7900ed[_0x31d251(0x43d)]);return{'deletedCount':(await _0xd65c34[_0x31d251(0x2bb)](_0x5a21b2))[_0x31d251(0x16e)]};}catch(_0x532ae2){return{'error':_0x532ae2?.[_0x31d251(0x30b)]()};}}async['deleteOne'](_0x4886b4,_0xea734a){const _0xb2cf1a=a0_0x39ce6a;try{let _0x1f9205=this[_0xb2cf1a(0x7af)](_0xea734a),_0x2bddf3=A(_0x4886b4['where']);return{'deletedCount':(await _0x1f9205[_0xb2cf1a(0x361)](_0x2bddf3))[_0xb2cf1a(0x16e)]};}catch(_0x3d7c55){return{'error':_0x3d7c55?.['toString']()};}}async[a0_0x39ce6a(0x226)](_0x28d842,_0x2bd19a){const _0xe8b59f=a0_0x39ce6a;try{if(_0x28d842[_0xe8b59f(0x44f)]===0x0)return;let _0x3717be=this[_0xe8b59f(0x7af)](_0x2bd19a),_0x1f3e57=_0x28d842[_0xe8b59f(0x477)](_0x469e7a=>({'updateOne':{'filter':{'name':_0x469e7a[_0xe8b59f(0x257)],'owner':_0x2bd19a},'update':{..._0x469e7a}}})),{modifiedCount:_0x4d4885}=await _0x3717be['bulkWrite'](_0x1f3e57);return{'insertCount':_0x4d4885};}catch{return;}}async[a0_0x39ce6a(0x602)](_0x3bd666,_0x5281e0,_0x2bf7cb){const _0x2714bc=a0_0x39ce6a;try{return{'modifiedCount':(await this[_0x2714bc(0x7af)](_0x2bf7cb)[_0x2714bc(0x602)](_0x3bd666,{'$set':_0x5281e0}))[_0x2714bc(0x72b)]};}catch(_0x5df9ab){return console['error'](_0x2714bc(0x71e),_0x5df9ab),{'error':_0x5df9ab};}}async[a0_0x39ce6a(0x455)](_0x99c495,_0x35e4db,_0x579982){const _0x8ea1a6=a0_0x39ce6a;try{return await this[_0x8ea1a6(0x7af)](_0x579982)[_0x8ea1a6(0x342)]({'_id':_0x99c495},{'$set':_0x35e4db},{'new':!0x0,'upsert':!0x0})[_0x8ea1a6(0x41d)]();}catch(_0x4e85af){return console[_0x8ea1a6(0x16d)](_0x4e85af),null;}}async[a0_0x39ce6a(0x280)](_0x989522,_0x5a663d){const _0x30e181=a0_0x39ce6a;try{return await this[_0x30e181(0x7af)](_0x5a663d)['find'](_0x989522)[_0x30e181(0x38f)]({'lastInteraction':-0x1})['lean']();}catch{return[];}}async['findOne'](_0x28db31,_0x43e314){const _0x386cfd=a0_0x39ce6a;try{return await this[_0x386cfd(0x7af)](_0x43e314)['findOne']({..._0x28db31['where']})['lean']();}catch{return null;}}async[a0_0x39ce6a(0x589)](_0x564d16){const _0x5e0995=a0_0x39ce6a;try{return await this[_0x5e0995(0x7af)](_0x564d16)[_0x5e0995(0x486)][_0x5e0995(0x6d9)](),{'success':!0x0};}catch(_0x330cd4){return console['error'](_0x330cd4),{'success':!0x1,'error':_0x330cd4};}}},Qt=class extends D{[a0_0x39ce6a(0x7b9)](_0x3e58fc){return ua(_0x3e58fc);}async[a0_0x39ce6a(0x52d)](_0xc1f8ec){const _0x4ceb87=a0_0x39ce6a;try{let _0x294d8b=da,_0x3f4abe=this['getScheduleMessageModelForOwner'](_0xc1f8ec),_0x2f0094=await _0x294d8b['find']({'owner':_0xc1f8ec})[_0x4ceb87(0x41d)](),_0x34bcc5=[],_0x36459d=[];for(let _0x3278eb of _0x2f0094)await _0x3f4abe[_0x4ceb87(0x171)](_0x3278eb[_0x4ceb87(0x3bb)])[_0x4ceb87(0x41d)]()||(_0x34bcc5[_0x4ceb87(0x41f)](_0x3278eb),_0x36459d[_0x4ceb87(0x41f)](_0x3278eb[_0x4ceb87(0x3bb)]));return _0x34bcc5[_0x4ceb87(0x44f)]>0x0&&await _0x3f4abe[_0x4ceb87(0x3c7)](_0x34bcc5,{'ordered':!0x1}),{'success':!0x0};}catch(_0x1be77e){return console['error'](_0x4ceb87(0x791),_0x1be77e),{'success':!0x1,'error':_0x1be77e};}}async['createAndSave'](_0x36cd23,_0x44dfcf){const _0x1f1281=a0_0x39ce6a;try{let _0x5923fe=this[_0x1f1281(0x7b9)](_0x44dfcf);return await new _0x5923fe(_0x36cd23)[_0x1f1281(0x53c)]();}catch(_0x4d42bb){return console[_0x1f1281(0x16d)]('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x4d42bb),null;}}async[a0_0x39ce6a(0x361)](_0x4ebd59,_0x571f2d){const _0x3e1d7c=a0_0x39ce6a;try{return await this[_0x3e1d7c(0x7b9)](_0x571f2d)[_0x3e1d7c(0x670)](_0x4ebd59),{};}catch(_0x4c821b){return{'error':_0x4c821b?.[_0x3e1d7c(0x30b)]()};}}async[a0_0x39ce6a(0x455)](_0x3bb021,_0x37241a,_0x4786bf){const _0x1250b6=a0_0x39ce6a;try{return await this[_0x1250b6(0x7b9)](_0x4786bf)[_0x1250b6(0x342)](_0x3bb021,{'$set':_0x37241a},{'new':!0x0})[_0x1250b6(0x41d)]();}catch(_0x3bb298){return console[_0x1250b6(0x16d)](_0x1250b6(0x543),_0x3bb298),null;}}async['updateOneById'](_0x3aa40f,_0x52176b,_0x566e5b){const _0x4b12d2=a0_0x39ce6a;try{return await this[_0x4b12d2(0x7b9)](_0x566e5b)[_0x4b12d2(0x388)](_0x3aa40f,_0x52176b,{'new':!0x0})[_0x4b12d2(0x41d)]();}catch(_0x5a571f){return console[_0x4b12d2(0x16d)](_0x4b12d2(0x543),_0x5a571f),null;}}async['find'](_0x1963a7,_0xa0efba){const _0xe565ff=a0_0x39ce6a;try{return await this['getScheduleMessageModelForOwner'](_0xa0efba)[_0xe565ff(0x280)](_0x1963a7[_0xe565ff(0x43d)])[_0xe565ff(0x2a7)](_0x1963a7?.[_0xe565ff(0x2a7)]??0x0)[_0xe565ff(0x38f)]({'when':0x1})['lean']();}catch{return[];}}async[a0_0x39ce6a(0x5c1)](_0x1bf8bd,_0x108400){const _0x2d3ebd=a0_0x39ce6a;try{return await this[_0x2d3ebd(0x7b9)](_0x108400)[_0x2d3ebd(0x5c1)](_0x1bf8bd[_0x2d3ebd(0x43d)])[_0x2d3ebd(0x38f)]({'when':0x1})[_0x2d3ebd(0x41d)]();}catch{return null;}}async[a0_0x39ce6a(0x171)](_0x559668,_0x27a67f){const _0x1ead1d=a0_0x39ce6a;try{return await this[_0x1ead1d(0x7b9)](_0x27a67f)[_0x1ead1d(0x171)](_0x559668)[_0x1ead1d(0x41d)]();}catch{return null;}}async[a0_0x39ce6a(0x2bb)](_0x5e0b9c,_0x4e6499){const _0x236286=a0_0x39ce6a;try{return{'deletedCount':(await this[_0x236286(0x7b9)](_0x4e6499)['deleteMany'](_0x5e0b9c))['deletedCount']};}catch(_0x30c8ad){return console['error'](_0x236286(0x622),_0x30c8ad),{'error':_0x30c8ad};}}async[a0_0x39ce6a(0x589)](_0x2c948d){const _0x3da8ac=a0_0x39ce6a;try{return await this['getScheduleMessageModelForOwner'](_0x2c948d)[_0x3da8ac(0x486)][_0x3da8ac(0x6d9)](),{'success':!0x0};}catch(_0x553d12){return console[_0x3da8ac(0x16d)](_0x553d12),{'success':!0x1,'error':_0x553d12};}}},Yt=class extends D{async['update'](_0x4823cf,_0x4d2ca1){const _0x2f4545=a0_0x39ce6a;try{if(this[_0x2f4545(0x2d3)]['ENABLED']){let _0x1f5318=await $e[_0x2f4545(0x342)]({'_id':_0x4d2ca1},{'$set':_0x4823cf},{'new':!0x0});return console[_0x2f4545(0x4e5)]('Resultado\x20da\x20atualização:',_0x1f5318),_0x1f5318;}}catch(_0x4c6c25){throw console['error']('Erro\x20ao\x20atualizar\x20AutomateSystem:',_0x4c6c25),_0x4c6c25;}}async['findOrCreate'](_0x5b150b){const _0x2d2be8=a0_0x39ce6a;try{let _0x56811c=await $e[_0x2d2be8(0x171)](_0x5b150b);return _0x56811c||(_0x56811c=new $e({'_id':_0x5b150b}),await _0x56811c['save']()),_0x56811c;}catch(_0x579be5){return console[_0x2d2be8(0x16d)](_0x2d2be8(0x756),_0x579be5),null;}}},bi=new N(a0_0x39ce6a(0x7ad)),Si=new Fe(b),Ei=new kt(b),Ci=new Ye(b),Mi=new Wt(Xs,b),vi=new zt(Ks,b),Ni=new Ht(b),Ri=new Lt(b),Ti=new Kt(b),Oi=new Qt(b),Ai=new Yt(b),ue=new ke(Si,Ei,Ci,Mi,vi,Ni,Ti,Ri,Oi,Ai,R?.['getClient']()),V=new $t(as,b,ue),Ii=new qt(b,V,ue),xi=new Vt(V),ms=new Gt(xi),O=new Bt(V),ie=new jt(V,b,ue,as,Ii),B=new Ut(V),_=new Ft(V),F=new Jt(V);bi[a0_0x39ce6a(0x5a0)](a0_0x39ce6a(0x245));var mh=require(a0_0x39ce6a(0x2ce)),As=require('fs'),vr=T(require(a0_0x39ce6a(0x651))),Nr=T(require(a0_0x39ce6a(0x1c3))),Ne=class c{static #e;static set[a0_0x39ce6a(0x63f)](_0x40de2e){this.#e=_0x40de2e;}static get[a0_0x39ce6a(0x651)](){const _0x1974e1=a0_0x39ce6a;let {FULLCHAIN:_0x9b5a15,PRIVKEY:_0x41f8a7}=b[_0x1974e1(0x2b4)](_0x1974e1(0x19a));return vr['createServer']({'cert':(0x0,As[_0x1974e1(0x546)])(_0x9b5a15),'key':(0x0,As[_0x1974e1(0x546)])(_0x41f8a7)},c.#e);}static get[a0_0x39ce6a(0x1c3)](){return Nr['createServer'](c.#e);}},pe=T(require('fs')),xr=T(require(a0_0x39ce6a(0x14c))),Re=T(require(a0_0x39ce6a(0x74b))),Oe=T(require(a0_0x39ce6a(0x47b))),Ae=require(a0_0x39ce6a(0x15f));function Di(){const _0x2b7805=a0_0x39ce6a;V[_0x2b7805(0x5c6)]();let _0x195991=Oe[_0x2b7805(0x6b8)][_0x2b7805(0x4dc)](__dirname,'downloads');Ir(_0x195991);}var Ir=_0x17e4a0=>{const _0x439494=a0_0x39ce6a;let _0x312053=pe[_0x439494(0x6b8)]['readdirSync'](_0x17e4a0),_0x20b68f=0xc*0x3c*0x3c*0x3e8,_0x5d9013=0x2*0x3c*0x3c*0x3e8,_0x233740=new Date()[_0x439494(0x788)]();_0x312053['forEach'](_0x16e78f=>{const _0x177f82=_0x439494;let _0x1701e9=Oe[_0x177f82(0x6b8)][_0x177f82(0x4dc)](_0x17e4a0,_0x16e78f),_0x3265f0=pe[_0x177f82(0x6b8)][_0x177f82(0x5cb)](_0x1701e9)[_0x177f82(0x211)][_0x177f82(0x788)]();_0x233740-_0x3265f0>_0x20b68f&&(pe[_0x177f82(0x6b8)]['unlinkSync'](_0x1701e9),console[_0x177f82(0x4e5)]('Deleted\x20'+_0x16e78f));}),setTimeout(()=>Ir(_0x17e4a0),_0x5d9013);};function _i(){const _0x441c5b=a0_0x39ce6a;let _0x147de6=new N(_0x441c5b(0x1a6)),_0x48253d=(0x0,he[_0x441c5b(0x6b8)])();_0x48253d['use']((0x0,Ar[_0x441c5b(0x6b8)])({'origin'(_0xda67fd,_0x4a025b){const _0x1189eb=_0x441c5b;let {ORIGIN:_0x91c5f5}=b[_0x1189eb(0x2b4)](_0x1189eb(0x449));return _0xda67fd||(_0xda67fd='*'),_0x91c5f5[_0x1189eb(0x2db)]('*')!==-0x1||_0x91c5f5[_0x1189eb(0x2db)](_0xda67fd)!==-0x1?_0x4a025b(null,!0x0):_0x4a025b(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...b[_0x441c5b(0x2b4)](_0x441c5b(0x449))[_0x441c5b(0x74d)]],'credentials':b[_0x441c5b(0x2b4)](_0x441c5b(0x449))[_0x441c5b(0x262)]}),(0x0,he[_0x441c5b(0x7b6)])({'extended':!0x0,'limit':'50mb'}),(0x0,he['json'])({'limit':_0x441c5b(0x1cd)})),_0x48253d[_0x441c5b(0x269)]((_0x5a2421,_0x56ce87,_0x7e5f48)=>{const _0x3cd9fa=_0x441c5b;_0x5a2421[_0x3cd9fa(0x47b)][_0x3cd9fa(0x511)]('/events')?_0x7e5f48():(0x0,Or[_0x3cd9fa(0x6b8)])()(_0x5a2421,_0x56ce87,_0x7e5f48);}),_0x48253d[_0x441c5b(0x44b)](_0x441c5b(0x61b),_0x441c5b(0x6fd)),_0x48253d['set']('views',(0x0,xs['join'])(re,_0x441c5b(0x75d))),_0x48253d[_0x441c5b(0x269)](he[_0x441c5b(0x6b8)][_0x441c5b(0x4c4)]((0x0,xs[_0x441c5b(0x4dc)])(re,_0x441c5b(0x23c)))),_0x48253d['use']((_0x7ee7b2,_0x31d33b,_0xa6cc15)=>{let _0x58d967=_0x31d33b['send'];_0x31d33b['send']=function(_0x25b01f){const _0x415819=a0_0x4226;if(_0x7ee7b2['query'][_0x415819(0x654)]==='true'||_0x7ee7b2[_0x415819(0x367)][_0x415819(0x54d)]===_0x415819(0x494)){let _0x4c8f95=JSON[_0x415819(0x73c)](_0x25b01f);_0x25b01f=JSON[_0x415819(0x613)](_0x5d1959(_0x4c8f95));}return _0x58d967[_0x415819(0x17b)](_0x31d33b,[_0x25b01f]);},_0xa6cc15();}),_0x48253d[_0x441c5b(0x269)]('/',Nt),_0x48253d[_0x441c5b(0x269)]((_0x5cbfe8,_0x2e11e1,_0x2a7560,_0x42a0be)=>{const _0x5e60f2=_0x441c5b;if(_0x5cbfe8)return _0x2a7560[_0x5e60f2(0x162)](_0x5cbfe8['status']||0x1f4)[_0x5e60f2(0x5ec)](_0x5cbfe8);},(_0x25f3d8,_0x41c0e6,_0x3d7a28)=>{const _0x3c7646=_0x441c5b;let {method:_0x181638,url:_0x445738}=_0x25f3d8;_0x41c0e6['status'](0x194)['json']({'status':0x194,'message':'Cannot\x20'+_0x181638[_0x3c7646(0x3aa)]()+'\x20'+_0x445738,'error':'Not\x20Found'}),_0x3d7a28();});let _0x5d1959=(_0x3366f2,_0x2353f4=_0x441c5b(0x2c3))=>{const _0x8595b9=_0x441c5b;let _0x44d318=(_0x3a0887,_0xf56d92=null,_0x37cb28=!0x1)=>{const _0x52817d=a0_0x4226;let _0x4fcdd5={};return Object[_0x52817d(0x322)](_0x3a0887)[_0x52817d(0x797)](_0x401878=>{const _0x58be76=_0x52817d;let _0x360dd8=_0x3a0887[_0x401878],_0x541c1a=''+_0x2353f4+_0x401878;_0xf56d92&&!_0x37cb28&&(_0x541c1a=_0xf56d92+'.'+_0x401878),!_0x360dd8&&_0x360dd8!==0x0&&_0x360dd8!==!0x1||typeof _0x360dd8>'u'?_0x4fcdd5[_0x541c1a]=null:typeof _0x360dd8!=_0x58be76(0x4e1)&&!Array[_0x58be76(0x52a)](_0x360dd8)?_0x4fcdd5[_0x541c1a]=_0x360dd8:typeof _0x360dd8==_0x58be76(0x4e1)&&!Array[_0x58be76(0x52a)](_0x360dd8)?_0x4fcdd5=Object[_0x58be76(0x5f0)](_0x4fcdd5,_0x44d318(_0x360dd8,_0x541c1a)):Array['isArray'](_0x360dd8)&&(typeof _0x360dd8[0x0]=='object'?(_0x4fcdd5[_0x541c1a]=[],_0x360dd8['forEach'](_0x6a3e0c=>{const _0xf359c2=_0x58be76;_0x4fcdd5[_0x541c1a][_0xf359c2(0x41f)](_0x44d318(_0x6a3e0c,_0x541c1a,!0x0));})):_0x4fcdd5[_0x541c1a]=_0x360dd8);}),_0x4fcdd5;};return Array[_0x8595b9(0x52a)](_0x3366f2)?_0x3366f2[_0x8595b9(0x477)](_0x3d6b86=>_0x44d318(_0x3d6b86)):typeof _0x3366f2==_0x8595b9(0x4e1)&&_0x3366f2!==null?_0x44d318(_0x3366f2):{};},_0x35c95e=b[_0x441c5b(0x2b4)](_0x441c5b(0x1a6));Ne['app']=_0x48253d;let _0x16bcde=Ne[_0x35c95e[_0x441c5b(0x183)]],_0x55ec15=_0x441c5b(0x766);_0x16bcde[_0x441c5b(0x14b)](_0x35c95e['PORT'],()=>{const _0x44325c=_0x441c5b;_0x147de6[_0x44325c(0x4e5)](_0x55ec15),_0x147de6[_0x44325c(0x4e5)](_0x35c95e[_0x44325c(0x183)][_0x44325c(0x3aa)]()+_0x44325c(0x3af)+_0x35c95e[_0x44325c(0x52b)]);}),Di(),qs();}var Pi=a0_0x39ce6a(0x787),$i=Oe[a0_0x39ce6a(0x6b8)][a0_0x39ce6a(0x4dc)](__dirname,'./.git/config'),Te=null;function ki(){return new Promise((_0x208739,_0x4caba1)=>{const _0x5f20d5=a0_0x4226;pe[_0x5f20d5(0x6b8)][_0x5f20d5(0x2b0)]($i,_0x5f20d5(0x1b1),(_0x1b4961,_0x38f4a4)=>{const _0x46d73a=_0x5f20d5;if(_0x1b4961){Te=_0x1b4961,_0x208739();return;}xr['default'][_0x46d73a(0x73c)](_0x38f4a4)['remote\x20\x22origin\x22'][_0x46d73a(0x758)]===Pi?(Te=null,_0x208739()):(Te=new Error(_0x46d73a(0x64d)),_0x208739());});});}async function Li(){const _0x1e9f30=a0_0x39ce6a;try{await ki(),await Ds();}catch(_0x5a9514){console[_0x1e9f30(0x16d)](_0x1e9f30(0x38e)+_0x5a9514),process[_0x1e9f30(0x5c7)](0x1);}}Li();async function Dr(){const _0xfba6a7=a0_0x39ce6a;let _0xa45558;try{_0xa45558=(await Re['default'][_0xfba6a7(0x2b4)](_0xfba6a7(0x346)))[_0xfba6a7(0x34d)]['ip'];}catch(_0x48c7d5){console[_0xfba6a7(0x16d)](_0x48c7d5);try{_0xa45558=(await Re[_0xfba6a7(0x6b8)][_0xfba6a7(0x2b4)](_0xfba6a7(0x372)))[_0xfba6a7(0x34d)]['ip'];}catch(_0x131b41){console[_0xfba6a7(0x16d)](_0x131b41);try{_0xa45558=(await Re[_0xfba6a7(0x6b8)][_0xfba6a7(0x2b4)](_0xfba6a7(0x5ff)))[_0xfba6a7(0x34d)][_0xfba6a7(0x343)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x7e16a0){return console[_0xfba6a7(0x16d)](_0x7e16a0),!0x1;}}}return _0xa45558;}var Rr=0x0;async function Fi(){const _0x350aaf=a0_0x39ce6a;let _0x538c05=await new oe(b['get'](_0x350aaf(0x450)))[_0x350aaf(0x688)]();return console[_0x350aaf(0x4e5)]('instancias:\x20',_0x538c05['length']),_0x538c05[_0x350aaf(0x44f)];}function ji(_0xac210e){const _0xbdca1b=a0_0x39ce6a;let _0x755c66=_0xac210e[_0xbdca1b(0x2b4)](_0xbdca1b(0x1a6))[_0xbdca1b(0x4cb)],_0x2eaf5c=_0xac210e['get'](_0xbdca1b(0x19a)),_0x127da5;if(_0x755c66){let _0x36651e=_0x755c66[_0xbdca1b(0x343)](/\/\/(.*?)\./);_0x36651e&&_0x36651e[0x1]&&(_0x127da5=_0x36651e[0x1]);}if(!_0x127da5&&_0x2eaf5c&&_0x2eaf5c[_0xbdca1b(0x3e5)]){let _0x21d46c=_0x2eaf5c[_0xbdca1b(0x3e5)]['split']('/'),_0x2e92be=_0x21d46c[_0x21d46c[_0xbdca1b(0x44f)]-0x2];if(_0x2e92be){let _0x2f4965=_0x2e92be[_0xbdca1b(0x154)]('.');_0x2f4965[_0xbdca1b(0x44f)]>0x2&&(_0x127da5=_0x2f4965[0x0]);}}return _0x127da5;}var Rs=ji(b);async function Ui(){const _0x197cca=a0_0x39ce6a;let _0x3db02e=b['get'](_0x197cca(0x450)),_0x2b45df=b[_0x197cca(0x2b4)](_0x197cca(0x535))['API_KEY']['KEY'],_0x3e108d=b[_0x197cca(0x2b4)]('SSL_CONF'),_0xf8e8b5=await Dr(),_0x1b3ab4=b['get'](_0x197cca(0x1a6))['PORT'],_0x14444f=b[_0x197cca(0x2b4)](_0x197cca(0x1a6))[_0x197cca(0x4cb)];try{let _0x1b5bb2={'ip':_0xf8e8b5||null,'redis_enable':_0x3db02e?.[_0x197cca(0x287)]||null,'apikey':_0x2b45df||null,'ssl':_0x3e108d?.[_0x197cca(0x7be)]||null,'lastupdate':_r||null,'port':_0x1b3ab4||null,'gitInstallError':Te?.['message']||null,'url':_0x14444f||null};if(console[_0x197cca(0x4e5)](_0x197cca(0x1b5),_0x1b5bb2['ip']),_0x3db02e&&_0x3db02e[_0x197cca(0x287)]){let _0x3ab2ee=await Fi();_0x1b5bb2['instanceCount']=_0x3ab2ee||null;}for(let _0xb5036a in _0x1b5bb2)_0x1b5bb2[_0x197cca(0x341)](_0xb5036a)&&_0xb5036a!=='ip'&&(_0x1b5bb2[_0xb5036a]=JSON['stringify'](_0x1b5bb2[_0xb5036a]));return(await Re[_0x197cca(0x6b8)][_0x197cca(0x67c)](_0x197cca(0x48e),_0x1b5bb2))[_0x197cca(0x34d)];}catch(_0x96de53){return console['error'](_0x96de53),!0x1;}}var Is=!0x1,_r=0x22a,qi=0x3,Tr=0x1b7740;async function Ds(){const _0x5a5f6e=a0_0x39ce6a;if(!await Dr())return console['error'](_0x5a5f6e(0x348)),'NO_IP';let _0xa88508=await Ui();if(_0xa88508){if(_0xa88508['response']['licenca']===!0x0){let _0x1802c8=b[_0x5a5f6e(0x2b4)]('SSL_CONF'),_0xcc6501=b[_0x5a5f6e(0x2b4)](_0x5a5f6e(0x1a6))[_0x5a5f6e(0x4cb)];_0x1802c8&&_0x1802c8?.[_0x5a5f6e(0x7be)]?.[_0x5a5f6e(0x49a)](_0x5a5f6e(0x426))&&_0xa88508['response'][_0x5a5f6e(0x44c)]&&!_0xcc6501&&(await Bi(_0xa88508[_0x5a5f6e(0x305)][_0x5a5f6e(0x44c)],Vi),await Gi(_0x5a5f6e(0x28e),_0xa88508[_0x5a5f6e(0x305)][_0x5a5f6e(0x44c)]),console[_0x5a5f6e(0x4e5)](_0x5a5f6e(0x712)),setTimeout(()=>zi(),0x2710)),Te===null&&_0xa88508[_0x5a5f6e(0x305)][_0x5a5f6e(0x618)]-_r>0x0&&await Ji(),Is||(Is=!0x0,_i());let _0x17bf34=0x24*0x3c*0x3c,_0x229701=_0xa88508['response']['segundos']>_0x17bf34?_0x17bf34:_0xa88508[_0x5a5f6e(0x305)][_0x5a5f6e(0x68e)],_0x2bf59d=Number(_0x229701);if(isNaN(_0x2bf59d)){console[_0x5a5f6e(0x16d)](_0x5a5f6e(0x579));return;}let _0x532806=Math['floor'](_0x2bf59d/0xe10),_0x5d2e75=Math[_0x5a5f6e(0x55b)](_0x2bf59d%0xe10/0x3c),_0x3dbcad=new Date(Date[_0x5a5f6e(0x2b9)]()+_0x2bf59d*0x3e8);setTimeout(Ds,_0x2bf59d*0x3e8);let _0x3ef26e=_0x10ca36=>_0x10ca36[_0x5a5f6e(0x30b)]()[_0x5a5f6e(0x61a)](0x2,'0'),_0x373ad4=_0x5a5f6e(0x24d)+_0x3ef26e(_0x532806)+_0x5a5f6e(0x3b4)+_0x3ef26e(_0x5d2e75)+'\x20minutos.\x20Será\x20às\x20'+_0x3ef26e(_0x3dbcad[_0x5a5f6e(0x739)]())+':'+_0x3ef26e(_0x3dbcad[_0x5a5f6e(0x5bf)]())+'.';console[_0x5a5f6e(0x4e5)](_0x373ad4);}else return console[_0x5a5f6e(0x4e5)]('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),Is&&(console[_0x5a5f6e(0x4e5)]('A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.'),process['exit']()),_0x5a5f6e(0x34f);}else{if(Rr++,Rr<qi)console[_0x5a5f6e(0x4e5)](_0x5a5f6e(0x61f)+Tr/0xea60+_0x5a5f6e(0x781)),setTimeout(Ds,Tr);else return console[_0x5a5f6e(0x16d)]('Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.'),_0x5a5f6e(0x3b1);}}async function Ji(){const _0x622965=a0_0x39ce6a;console['log'](_0x622965(0x3f8));let _0x71d7e1=(0x0,Ae[_0x622965(0x2a8)])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x71d7e1[_0x622965(0x3ea)]['on']('data',_0x3067ac=>{const _0xe7a868=_0x622965;console['log'](_0xe7a868(0x282)+_0x3067ac);}),_0x71d7e1[_0x622965(0x4a8)]['on']('data',_0x300dcb=>{const _0x50ef5d=_0x622965;console[_0x50ef5d(0x16d)](_0x50ef5d(0x203)+_0x300dcb);}),_0x71d7e1['on'](_0x622965(0x5c7),_0x1540b7=>{const _0x4ac1d1=_0x622965;_0x1540b7!==0x0?console['error'](_0x4ac1d1(0x26c)+_0x1540b7):console[_0x4ac1d1(0x4e5)]('Sistema\x20atualizado\x20com\x20sucesso!'),console[_0x4ac1d1(0x4e5)](_0x4ac1d1(0x669)),setTimeout(()=>process['exit'](),0x2710);});}var Vi=Oe['default']['join'](__dirname,a0_0x39ce6a(0x5ef));async function Bi(_0x34c297,_0x553706){const _0x3d3cfd=a0_0x39ce6a;let _0x9892f4=Wi();_0x34c297=_0x34c297[_0x3d3cfd(0x214)](_0x3d3cfd(0x4f7),'');try{let _0x5331c9=pe[_0x3d3cfd(0x6b8)]['readFileSync'](_0x553706,_0x3d3cfd(0x2c4));_0x5331c9=_0x5331c9[_0x3d3cfd(0x214)](/<apikey>/,_0x9892f4),_0x5331c9=_0x5331c9[_0x3d3cfd(0x214)](/<subdomain>/g,_0x34c297),pe[_0x3d3cfd(0x6b8)]['writeFileSync'](_0x553706,_0x5331c9,_0x3d3cfd(0x2c4)),console['log'](_0x3d3cfd(0x172));}catch(_0x3384b4){console[_0x3d3cfd(0x16d)]('Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:',_0x3384b4);}}function a0_0x4226(_0x371151,_0x3ef1e2){const _0x2becc2=a0_0x2bec();return a0_0x4226=function(_0x422618,_0x30cc66){_0x422618=_0x422618-0x148;let _0x2ef159=_0x2becc2[_0x422618];return _0x2ef159;},a0_0x4226(_0x371151,_0x3ef1e2);}function Gi(_0x17c9c0,_0x5d97b2){return new Promise((_0x15dbea,_0x450c19)=>{const _0x21755c=a0_0x4226;let _0x507e46=(0x0,Ae[_0x21755c(0x2a8)])(_0x21755c(0x6ef),[_0x21755c(0x27b),_0x21755c(0x6c6),'-m',_0x17c9c0,_0x21755c(0x3df),'-d',_0x5d97b2]);_0x507e46[_0x21755c(0x3ea)]['on'](_0x21755c(0x34d),_0x2b3f7f=>{const _0x1f0388=_0x21755c;console[_0x1f0388(0x4e5)](_0x1f0388(0x387)+_0x2b3f7f[_0x1f0388(0x30b)]());}),_0x507e46[_0x21755c(0x4a8)]['on'](_0x21755c(0x34d),_0x1fcf72=>{const _0x2f2677=_0x21755c;console[_0x2f2677(0x16d)](_0x2f2677(0x5c2)+_0x1fcf72[_0x2f2677(0x30b)]());}),_0x507e46['on'](_0x21755c(0x194),_0x4b456b=>{const _0x407224=_0x21755c;_0x4b456b!==0x0?(console[_0x407224(0x16d)](_0x407224(0x3b8)+_0x4b456b),_0x450c19(_0x407224(0x3b8)+_0x4b456b)):(console['log']('Certbot\x20executado\x20com\x20sucesso.'),_0x15dbea());});});}function Wi(_0x5560c9=0x32){const _0x2e8bd8=a0_0x39ce6a;let _0xfe8ddf='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x11d675='';for(let _0x1cedf0=0x0;_0x1cedf0<_0x5560c9;_0x1cedf0++)_0x11d675+=_0xfe8ddf[_0x2e8bd8(0x5e5)](Math[_0x2e8bd8(0x55b)](Math['random']()*_0xfe8ddf[_0x2e8bd8(0x44f)]));return _0x11d675;}function zi(){const _0x265e40=a0_0x39ce6a;(0x0,Ae[_0x265e40(0x2ec)])('shutdown\x20-r\x20now',(_0x50b09f,_0x5c65ab,_0x55d2df)=>{const _0x2b1d03=_0x265e40;if(_0x50b09f){console[_0x2b1d03(0x16d)](_0x2b1d03(0x253)+_0x50b09f);return;}if(_0x55d2df){console[_0x2b1d03(0x16d)](_0x2b1d03(0x63b)+_0x55d2df);return;}console[_0x2b1d03(0x4e5)](_0x2b1d03(0x536)+_0x5c65ab);});}0x0&&(module['exports']={'subdomain':subdomain});